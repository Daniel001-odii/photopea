(function(){var bq={};bq.a8X=function(r,N){var F=W.yI[W.zK("%|xK")];if(F==null)return"XYP";var h=r.toString(16).slice(0,4),m=h+N+"aQYRDCB";
return F(m).slice(5,17)+h.split("").reverse().join("")};bq.wV=function(){var r=W.yI[W.em("3M"+(W.D5(26)?"]K":"fa"))];
r=r[W.em("]["+(!W.D5(28)?",":"`"))];return Math.floor(r()/1e3)};bq.D5=function(r){var N=0;for(var R=0;
R<r;R++)N+=Math.random();return N/r<Math.PI/4};bq.em=function(r){var N="";if(!bq.D5(28))r+="-3";for(var R=0;
R<r.length;R++){var F=r.charCodeAt(R);if(F<32||126<F)throw"e";N+=String.fromCharCode(32+(F-32+17+3*R)%95)}return N};
bq.zK=function(r){var N="";if(!bq.D5(28))r+="-1";for(var R=0;R<r.length;R++){var F=r.charCodeAt(R);F-=32;
F+=95e4;F-=17+3*R;F=F%95;N+=String.fromCharCode(32+F)}return N};bq._y=bq.em("XP");bq.JH=bq.em("XYP");
bq.e5=bq.em("c[Y");bq.a3r=bq.em("][`");bq.a21=bq.em("SU_");bq.a7=bq.em("b^L");bq.a1o=bq.em("61=");bq.jY=bq.em("Q[M_");
bq.yx=bq.em("WQJJ");bq.k7=bq.em("W^NL");bq.RO=bq.em("[[JJ");bq.jL=bq.em("^\\NT");bq.at4=bq.em("bQUL");
bq.HT=bq.em("bQWJ");bq.lA=bq.em("3M]K");bq.af3=bq.em("<M]N");bq.acW=bq.em("RXRIN");bq.EO=bq.em("b`bRH");
bq.Ak=bq.em("fUMZK");bq.aqW=bq.em("WQRMKT");bq.ix=bq.em("XR[GPE");bq.at3=bq.em("aMWJRM");bq.adn=bq.em("bO[OST");
bq.a5Y=bq.em("cM[MHT");bq.agL=bq.em("^Z5OQE");bq.cB=bq.em("aQYRDCB");bq.dY=bq.em("[[LGWILH");bq.DV=bq.em("S[L[PEKN");
bq.Hi=bq.em("aQOKURBL");bq.ts=bq.em("aQ\\VRNP?");bq.au2=bq.em("XZWKU(1'#");bq.avp=bq.em("SQLUGE2, ");
bq.akH=bq.em("]M_OJAQII");bq._Y=bq.em("bQ]:LMBILH");bq.anE=bq.em("UU[YW#ECC8");bq.Ow=bq.em("cQaZ&OKN<BE");
bq.K3=bq.em("P\\YKQD B@@5");bq.ON=bq.em("aQVUYE B@@5");bq.e$=bq.em("bQ]'WTOC9IE3");bq.ahn=bq.em("XZ\\KUT~?=CC3");
bq.rA=bq.em("R^NGWE\"F<A6<?");bq.agJ=bq.em("VQ]+OEJ?EHrGs,");bq.pm=bq.em("G95.WTM,<EF3><");bq.yi=bq.em("PPM+YEKN#=DB06*4");
function bh(r){this.pv={};this._T=0;this._0();if(r!=!0)window.__kb=this}bh.Fa=null;bh.prototype._0=function(){var r=navigator.keyboard;
if(r&&window.top==window.self)r.getLayoutMap().then(function(N){bh.Fa=N})};bh.prototype.aqw=function(r){var N={shiftKey:bh.wQ,altKey:bh.sV,ctrlKey:bh.hg};
for(var F in N){var h=r[F],m=N[F],O=this.j(m);if(!h&&O){for(var R=0;R<m.Xv.length;R++)this.sa(m.Xv[R])}}};
bh.prototype.Ia=function(r){this._T++;this.pv[r]=!0};bh.prototype.sa=function(r){this._T--;delete this.pv[r];
if(this._T<=0||bh.A7(r,bh.Qp))this.reset()};bh.prototype.j=function(r){for(var R=0;R<r.Xv.length;R++)if(this.pv[r.Xv[R]])return!0;
return!1};bh.prototype.reset=function(){this.pv={};this._T=0};bh.prototype.S5=function(){var r=this,N=r.j(bh.wQ)?10:1,F=0,h=0;
if(r.j(bh.ox))F=-N;if(r.j(bh.oH))F=N;if(r.j(bh._B))h=-N;if(r.j(bh.UM))h=N;return new gS(F,h)};bh.prototype.cS=function(){var r=this,N=bh.jc;
for(var R=0;R<10;R++)if(r.j(N[R]))return R;return-1};bh.A7=function(r,N){return N.Xv.indexOf(r)!=-1};
bh.aqh="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
bh.N6=function(r){var N=r.code;if(N=="")return!1;var F=bh.A7;if(r.altKey&&!r.shiftKey&&!r.ctrlKey){var h=bh.jc.concat([bh.nL,bh.MO,bh.RZ,bh.kx]),m=!1;
for(var R=0;R<h.length;R++)if(F(N,h[R]))return!1}return bh.aqh.indexOf(N)==-1||r.shiftKey&&(N=="F5"||N=="F6")};
bh.aN=function(r){if(typeof r=="string")return r;var N=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(r==null)return"";var F=[];for(var R=0;R<r.length;R++){var h=r[R].UQ?r[R].UQ:r[R];if(N&&r[R].Qm)h=r[R].Qm;
F.push(h)}if(N||F.length==1)return F.join(" + ");else{var m=F.pop();return F.join("+")+" + "+m}};bh.Zb=function(r){window.__kb._0();
var N=r.code,F=bh.Fa;if(F&&F.get(N)){var h={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},m=F.get(N).toLowerCase(),O=m.charCodeAt(0);
if(97<=O&&O<=122){var e="Key"+m.toUpperCase();N=e}else if(h[m])N=h[m];return N}var h={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},m=r.key.toLowerCase(),O=m.charCodeAt(0);
if(m.length==1){if(97<=O&&O<=122){var e="Key"+m.toUpperCase();N=e}else if(h[m])N=h[m]}if(m=="control"&&N!="")N="ControlLeft";
return N};bh.Z2=0;bh.rf=function(r,N){var F=0;if(Date.now()-bh.Z2>1e3){F=N==0?100:N*10}else{if(r%10!=0)r*=10;
F=(r+N)%100}bh.Z2=Date.now();return F};bh.a9b={nm:"No Touch",Xv:["NoTouch"]};bh.Ve={UQ:"Enter",Xv:["Enter","NumpadEnter"]};
bh.wQ={UQ:"Shift",Qm:"\u21E7",Xv:["ShiftLeft","ShiftRight"]};bh.Qp={UQ:"Meta",Xv:["MetaLeft","MetaRight","OSLeft","OSRight"]};
bh.hg={UQ:"Ctrl",Qm:"\u2318",Xv:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
bh.sV={UQ:"Alt",Qm:"\u2325",Xv:["AltLeft","AltRight"]};bh.a4c={UQ:"CtrlOrAlt",Xv:bh.hg.Xv.concat(bh.sV.Xv)};
bh.R_={UQ:"Escape",Xv:["Escape"]};bh.mk={UQ:"Space",Xv:["Space"]};bh.QQ={UQ:"Tab",Xv:["Tab"]};bh.aj2={UQ:"Home",Xv:["Home"]};
bh.ajn={UQ:"End",Xv:["End"]};bh.ox={UQ:"Left",Xv:["ArrowLeft"]};bh._B={UQ:"Up",Xv:["ArrowUp"]};bh.oH={UQ:"Right",Xv:["ArrowRight"]};
bh.UM={UQ:"Down",Xv:["ArrowDown"]};bh.nL={UQ:"+",Xv:["NumpadAdd","Equal"]};bh.MO={UQ:"-",Xv:["NumpadSubtract","Minus"]};
bh.Hd={UQ:";",Xv:["Semicolon"]};bh.a3w={UQ:"Dead",Xv:["Dead"]};bh.aof={UQ:"=",Xv:["Equal"]};bh.Lu={UQ:"Backspace",Xv:["Backspace"]};
bh.Am={UQ:"Delete",Xv:["Delete"]};bh.aca={UQ:"Backslash",Xv:["Backslash","IntlBackslash"]};bh.al7={UQ:"Slash",Xv:["NumpadDivide","Slash"]};
bh.a7C={UQ:"Backquote",Xv:["Backquote"]};bh.RZ={UQ:"[",Xv:["BracketLeft"]};bh.kx={UQ:"]",Xv:["BracketRight"]};
bh.sg={UQ:".",Xv:["Period"]};bh.Bg={UQ:",",Xv:["Comma"]};bh.Aa={UQ:"'",Xv:["Quote"]};bh.c={UQ:"A",Xv:["KeyA"]};
bh.d8={UQ:"B",Xv:["KeyB"]};bh.VO={UQ:"C",Xv:["KeyC"]};bh.S7={UQ:"D",Xv:["KeyD"]};bh.E={UQ:"E",Xv:["KeyE"]};
bh.te={UQ:"F",Xv:["KeyF"]};bh.DA={UQ:"G",Xv:["KeyG"]};bh._R={UQ:"H",Xv:["KeyH"]};bh.yX={UQ:"I",Xv:["KeyI"]};
bh.Qy={UQ:"J",Xv:["KeyJ"]};bh.Ly={UQ:"K",Xv:["KeyK"]};bh.qN={UQ:"L",Xv:["KeyL"]};bh.m5={UQ:"M",Xv:["KeyM"]};
bh.xy={UQ:"N",Xv:["KeyN"]};bh.kR={UQ:"O",Xv:["KeyO"]};bh.oh={UQ:"P",Xv:["KeyP"]};bh.g8={UQ:"Q",Xv:["KeyQ"]};
bh.A4={UQ:"R",Xv:["KeyR"]};bh.rC={UQ:"S",Xv:["KeyS"]};bh.Oo={UQ:"T",Xv:["KeyT"]};bh.ny={UQ:"U",Xv:["KeyU"]};
bh.EX={UQ:"V",Xv:["KeyV"]};bh.Ci={UQ:"W",Xv:["KeyW"]};bh.Vr={UQ:"X",Xv:["KeyX"]};bh.adH={UQ:"Y",Xv:["KeyY"]};
bh.Uy={UQ:"Z",Xv:["KeyZ"]};bh.nw={UQ:"0",Xv:["Numpad0","Digit0"]};bh.B$={UQ:"1",Xv:["Numpad1","Digit1"]};
bh.a8B={UQ:"2",Xv:["Numpad2","Digit2"]};bh.asF={UQ:"3",Xv:["Numpad3","Digit3"]};bh.a5I={UQ:"4",Xv:["Numpad4","Digit4"]};
bh.a9K={UQ:"5",Xv:["Numpad5","Digit5"]};bh.a4f={UQ:"6",Xv:["Numpad6","Digit6"]};bh.ao1={UQ:"7",Xv:["Numpad7","Digit7"]};
bh.a3s={UQ:"8",Xv:["Numpad8","Digit8"]};bh.amD={UQ:"9",Xv:["Numpad9","Digit9"]};bh.jc=[bh.nw,bh.B$,bh.a8B,bh.asF,bh.a5I,bh.a9K,bh.a4f,bh.ao1,bh.a3s,bh.amD];
bh.auS={UQ:"F1",Xv:["F1"]};bh.apE={UQ:"F2",Xv:["F2"]};bh.aki={UQ:"F3",Xv:["F3"]};bh.ajL={UQ:"FF",Xv:["F4"]};
bh.SE={UQ:"F5",Xv:["F5"]};bh.aeD={UQ:"F6",Xv:["F6"]};bh.avI={UQ:"F7",Xv:["F7"]};bh.aiG={UQ:"F8",Xv:["F8"]};
bh.a4$={UQ:"F9",Xv:["F9"]};bh.ai8={UQ:"F10",Xv:["F10"]};bh.acM={UQ:"F11",Xv:["F11"]};bh.a59={UQ:"F12",Xv:["F12"]};
function cI(r){ck.call(this);this.cI={};this.zc={};this.a1V=0;this.ajU={};this.qp=[];this.a1B=0;this.RO=r;
cI.mW=this}cI.aj6=function(r,N){var R=0,F=cI.K0;while(R<F.length){if((N>>>R&1)==1)break;R++}if(N==0||F[R][1]==""){if((N&15)!=0&&cI.mZ(r,[33,126])>.7)R=0;
else if(N==0)R=0;else{R=0}}return F[R][1]};cI.AK=120;cI.X4=20;cI.cols=16;cI.Fc=function(r){var N=r.name.postScriptName;
if(N==null)return null;return N.replace(/ /g,"-")};cI.dM=function(r){var N=r.name,F=N.typoFamilyName?N.typoFamilyName:N.fontFamily,h=N.typoSubfamilyName?N.typoSubfamilyName:N.fontSubfamily;
if(h==null)h="Regular";var m=cI.ag9,O=F.toLowerCase();for(var R=0;R<m.length;R++){if(m[R]=="roman")continue;
if(O.endsWith(" "+m[R])||O.endsWith("-"+m[R])){var e=F.length-m[R].length,P=F.slice(e);F=F.slice(0,e-1);
if(P!=""){if(h=="Regular"||h==F+" Regular")h=P;else h=P+" "+h}break}}var B="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var R=0;R<B.length;R++)if(F.startsWith(B[R])){var P=F.slice(B[R].length);F=B[R];if(P.startsWith(" ")||P.startsWith("-"))P=P.slice(1);
if(P!=""){if(h=="Regular")h=P;else h=P+" "+h}break}var s={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},Y=s[cI.Fc(r)];
if(Y)h=Y;return[F,h]};cI.prototype.a2n=function(r){var N=this.VZ();for(var F in N)if(N[F][0]==r)this.hG(F)};
cI.prototype.hG=function(r,N){if(this.cI[r])return this.cI[r];if(this.zc[r])return null;var F=null,h=this.VZ();
if(h[r]!=null)F=h[r][5];if(F==null){var m=cI.cB[r];if(m==null){var O="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),e=r.toLowerCase(),P=0;
if(e.indexOf("sans")!=-1)P=0;else if(e.indexOf("serif")!=-1)P=4;var B=e.indexOf("bold")!=-1||e.indexOf("-black")!=-1,s=e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1||e.endsWith("-it");
if(B&&s)P+=3;else if(s)P+=2;else if(B)P+=1;m=O[P]}if(N!=null&&N>128)m=this.$l(N,m);if(this.ajU[r]==null){this.ajU[r]=1;
var Y=Date.now()-this.a1V>2e3?2e3:0;this.a1V=Date.now();alert(r+" \u27A1 "+m,Y)}return this.hG(m,N)}this.zc[r]="a";
this.RO(F)};cI.prototype.$l=function(r,N,F){var h=this.cI[N];if(h&&Typr.U.codeToGlyph(h,r)!=0)return N;
var m=this.VZ(),O=cI.a7N(r),e=O[0];if(m[N]&&(m[N][3]&e)==0){if(F)for(var R=0;R<F.length;R++){var P=F[R].Name,B=m[P];
if(B&&(B[3]&e)!=0)return P}var P=cI.K0[O[1]][4];if(m[P])return P}return N};cI.a7N=function(r){var N=cI.K0,F=[0];
for(var R=0;R<N.length;R++){var h=N[R][2];for(var m=0;m<h.length;m+=2)if(h[m]<=r&&r<=h[m+1]){F[0]+=1<<R;
F.push(R)}}if(F.length==1)F.push(0);return F};cI.prototype.auL=function(){var r=this.qp,N=r[0],F=r.length-1;
alert(ab.get([22,6,0])+" "+N+(F==0?"":", ... ("+F+")")+" "+ab.get([23,0])+".",1500);this.qp=[]};cI.prototype.a8h=function(r,N){if(N!=!0){this.qp.push(r.name.fullName);
clearTimeout(this.a1B);this.a1B=setTimeout(this.auL.bind(this),300)}var F=cI.Fc(r),h=this.VZ(),m=h[F],O=cI.ah7(r);
if(m==null){var e=document.createElement("canvas"),P=e.getContext("2d");e.width=cI.AK;e.height=cI.X4;
var B=cI.X4*1.2/r.head.unitsPerEm;P.translate(4,cI.X4*.9);P.scale(B,-B);P.fillStyle="#000000";var s=Typr.U.shape(r,cI.aj6(r,O[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(r,s),P);P.fill();O.ajq=e.toDataURL();this.Df(O)}delete this.zc[F];
this.cI[F]=r};cI.amR=function(){var r=cI.K0,N=[];for(var R=0;R<r.length;R++)N.push(r[R][0]);return N};
cI.K0=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
cI.ah7=function(r,N,F){var h=r.name,B=0;if(cI.Fc(r)==null){console.log(r);throw"No postScriptName!"}var m=cI.K0,O=[];
for(var R=0;R<m.length;R++){var e=m[R][2],P=m[R][3];O[R]=cI.mZ(r,e)>P?1:0}for(var R=0;R<O.length;R++)B+=O[R]<<R;
var s=cI.dM(r);return[s[0],s[1],cI.Fc(r),B,F,N]};cI.mZ=function(r,N){var F=0,h=0;for(var m=0;m<N.length;
m+=2){for(var O=N[m];O<=N[m+1];O++){var e=Typr.U.codeToGlyph(r,O);if(e==0)h++;else F++}}return F/(F+h)};
cI.a5R=function(r,N){if(r[2]<N[2])return-1;if(r[2]>N[2])return 1;return 0};cI.a0B=function(r,N){if(r[5]=="fs/"+r[2]+".otf")r[5]="";
else if(r[5]=="gf/"+r[2]+".otf")r[5]="a";if(r[2]==(r[0]+"-"+r[1]).replace(/\s/g,"")){r[2]=""}else if(r[2]==r[0].replace(/\s/g,"")){r[2]="a"}if(N){if(r[0]==N[0])r[0]="";
if(r[1]==N[1])r[1]="";if(r[3]==N[3])r[3]="";if(r[4]==N[4])r[4]=""}return r.join(",")};cI.a2M=function(r,N){r=r.split(",");
if(r[0]=="")r[0]=N[0];if(r[1]=="")r[1]=N[1];if(r[3]=="")r[3]=N[3];else r[3]=parseInt(r[3]);if(r[4]=="")r[4]=N[4];
else r[4]=parseInt(r[4]);if(r[2]=="")r[2]=(r[0]+"-"+r[1]).replace(/\s/g,"");else if(r[2]=="a")r[2]=r[0].replace(/\s/g,"");
if(r[5]=="")r[5]="fs/"+r[2]+".otf";else if(r[5]=="a")r[5]="gf/"+r[2]+".otf";return r};cI.cB={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
cI.prototype.VZ=function(){if(FNTS.map==null){var r=FNTS.list,N=[];for(var R=0;R<r.length;R++){N[R]=cI.a2M(r[R],N[R-1]);
N[R].Jz=R;this.Df(N[R])}}return FNTS.map};cI.prototype.Df=function(r){var N=r[0],F=r[1],h=r[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[r[2]]=r;if(FNTS.mapFS==null)FNTS.mapFS={};var m=FNTS.mapFS[N+"---"+F];FNTS.mapFS[N+"---"+F]=r;
if(FNTS.mapSub==null)FNTS.mapSub={};var O=FNTS.mapSub[N];if(O==null)O=FNTS.mapSub[N]=[];var e=O.indexOf(F);
if(e==-1)O.push(F);else O[e]=F};cI.ajM=function(r,N){return cI.JM(r)-cI.JM(N)};cI.JM=function(r){r=r.toLowerCase();
var N=cI.arV(r)+(cI.ah$(r)<<1);if(r.indexOf("cond")==-1)N+=1<<25;return N};cI.arV=function(r){return r.indexOf("italic")!=-1||r.indexOf("oblique")!=-1?1:0};
cI.ag9="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
cI.aoJ=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
cI.ah$=function(r){var N=cI.aoJ,F=-1,h=-1;for(var R=0;R<N.length;R++){var m=N[R];if(m instanceof Array)for(var O=0;
O<m.length;O++){var e=m[O];if(r.indexOf(e)!=-1&&(F==-1||h<e.length)){F=R;h=e.length}}else if(r.indexOf(m)!=-1&&(F==-1||h<m.length)){F=R;
h=m.length}}if(F==-1)F=8;return F};cI.gp=function(r,N){var F=1e9,h=null,m=cI.JM(N);for(var R=0;R<r.length;
R++){var O=Math.abs(cI.JM(r[R])-m);if(O<F){F=O;h=r[R]}}return h};cI.prototype.aJ=function(r,N){this.VZ();
return FNTS.mapFS[r+"---"+N]};cI.prototype.cq=function(r){this.VZ();return FNTS.mapSub[r]};cI.prototype.$0=function(){this.VZ();
return FNTS.mapSub};var ey={Hy:0,qc:null,S1:null,QW:null,T2:null,wN:null,Kd:!0,D3:0,eM:!1};ey.event=function(r){var N=new XMLHttpRequest;
N.open("GET","/papi/event.php?id="+r+"&rnd="+Math.random());N.send()};ey.rU=function(){var r=ey.XP();
if(r==null)return null;var N=W.D5(24)?" ":"",F=W.yI[W.zK("Uu,"+N)];F=F[W.zK(N+"$/")];var h=ey.BG(1,999);
if(h&&ey.GA(h)*50>F()/20)return[0,h];var m=r.inTeams;if(m)for(var R=0;R<m.length;R++)if(m[R][1]*50>F()/20)return[1,m[R]];
return null};ey.BR=function(){return ey.a7c()!=null};ey.be=function(){return ey.GA(ey.BG(1e3,999999999))};
ey.GA=function(r){return r==null?0:r[0]+r[1]*24*60*60};ey.BG=function(r,N){var F=ey.XP(),h=F.pmnts,m=0,O=null;
if(h==null||h.length==0)return 0;for(var R=0;R<h.length;R++){var e=h[R],P=ey.GA(e);if(r<=e[2]&&e[2]<=N)if(m<P){m=P;
O=e}}return O};ey.XP=function(){return ey.wN};ey.GH=function(r){window.addEventListener("message",ey.apo,!1);
setInterval(ey.Av,5e3);if(ey.BR()){ey.qc=r;ey.kO()}else setTimeout(r,1)};ey.Av=function(){if(ey.BR()&&ey.eM){ey.NU(ey.Ba());
ey.eM=!1}};ey.VA=function(r){ey.qc=r;var N="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
ey.QW=window.open(N,"_blank")};ey.ez=function(){localStorage.removeItem(ey.Hy+"_uid");localStorage.removeItem(ey.Hy+"_provider");
localStorage.removeItem(ey.Hy+"_token");ey.wN=null};ey.apo=function(r){if(r.data instanceof ArrayBuffer||r.data instanceof Object)return;
if(r.data.charAt(0)!="{")return;var N=JSON.parse(r.data);if(N.prms==null)return;var F=N.prms.split(",");
if(F[0]=="papi_logged_in"){localStorage[ey.Hy+"_uid"]=F[1];ey.Rd(F[2]);localStorage[ey.Hy+"_provider"]=F[3];
ey.QW.close();ey.kO()}if(F[0]=="payment_complete"){ey.T2.close();ey.kO()}};ey.a7c=function(){if(!navigator.onLine){ey.ez()}var r=localStorage[ey.Hy+"_token"];
if(r!=null&&Date.now()*.001+10<parseInt(r.split("-")[0]))return r;return null};ey.Rd=function(r){var N=localStorage[ey.Hy+"_token"];
if(N!=null&&parseInt(r.split("-")[0])<parseInt(N.split("-")[0]))return;localStorage[ey.Hy+"_token"]=r;
clearTimeout(ey.D3);ey.D3=setTimeout(ey.apG,Math.min(1e9,parseInt(r.split("-")[0])*1e3-Date.now()-20*1e3))};
ey.apG=function(){if(!navigator.onLine)throw"a";var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=ey.aq3;var N=ey.eX(0)+"&read=2";r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.send(N)};ey.kO=function(){if(!navigator.onLine)throw"b";var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=ey.a1F;var N=ey.eX(0)+"&read=1";r.setRequestHeader("Content-type","application/x-www-form-urlencoded");
r.send(N)};ey.NU=function(r){if(!navigator.onLine)throw"c";var N=new XMLHttpRequest;N.open("POST","https://www.photopea.com/papi/record_new.php",!0);
N.onload=ey.a9p;var F=ey.eX(0)+"&read=0&score="+(r.tpl?1:0)+"&spublic="+ey.Kd+"&record="+encodeURIComponent(JSON.stringify(r));
N.setRequestHeader("Content-type","application/x-www-form-urlencoded");N.send(F)};ey.a1F=function(r){var N=JSON.parse(r.target.response);
if(N.error){}else{ey.wN=N.user;var F=ey.Ba(),h=N.record;if(N.record){ey.Kd=N.spublic;ey.ej(h)}else if(F)ey.NU(F)}ey.Rd(N.token);
if(ey.qc){ey.qc();ey.qc=null}if(ey.S1){ey.S1();ey.S1=null}};ey.aq3=function(r){var N=JSON.parse(r.target.response);
ey.Rd(N.token)};ey.a9p=function(r){var N=JSON.parse(r.target.response);ey.Rd(N.token);if(ey.S1)ey.kO()};
ey.eX=function(r){return"app="+r+"&uid="+localStorage[ey.Hy+"_uid"]+"&token="+localStorage[ey.Hy+"_token"]};
ey.FF=function(){return ey.Ba()};ey.Iu=function(r,N){ey.ej(r);ey.eM=!0;if(N){ey.S1=N;ey.Av()}};ey.Ba=function(){var r=localStorage[ey.Hy+"_stateLocal"],N;
if(r==null)return null;try{N=JSON.parse(r)}catch(ab){return null}return N};ey.ej=function(r){var N=JSON.stringify(r);
localStorage[ey.Hy+"_stateLocal"]=N};ey.order=function(r,N,F){ey.qc=F;var h="https://www.photopea.com/papi/order.php?ptype="+N+"&param="+r+"&uid="+localStorage[ey.Hy+"_uid"]+"&token="+localStorage[ey.Hy+"_token"];
ey.T2=window.open(h,"_blank")};ey.ad$=function(r,N){ey.qc=N;var F="https://www.photopea.com/papi/insertKey.php?key="+r+"&uid="+localStorage[ey.Hy+"_uid"]+"&token="+localStorage[ey.Hy+"_token"];
ey.T2=window.open(F,"_blank")};var ab={};ab.w4=0;ab.QP={};ab.T0=function(r){var N=LNG.tables,F=N[r];
if(F==null)F=N[0];if(typeof F=="string"){F=N[r]=ab.WM(F)}return F};ab.WM=function(r){var N=[],F=0,h=0,m=[],O=r.length;
while(h!=O){var e=r[h];if(e=="["){N.push(m);m=[];h=F=h+1}else if(e=="]"){m.push(F==h?null:r.substring(F,h));
var P=m;m=N.pop();m.push(P);h=F=h+1}else if(e==";"){if(r[h-1]!="]")m.push(F==h?null:r.substring(F,h));
h=F=h+1}else h++}return m};ab.get=function(r){if(typeof r=="string")return r;var N=typeof r[0];if(N=="number"){for(var R=1;
R<r.length;R++)if(typeof r[R]!="number"){console.log(r);throw"e"}return ab.aui(r)}var F=ab.get(r[0]);
for(var R=1;R<r.length;R++){var h=ab.get(r[R]),m=F.indexOf("VAR"+(R-1));F=F.slice(0,m)+h+F.slice(m+4)}return F};
ab.aui=function(r){var N=JSON.stringify(r);if(ab.QP[N]!=null)return ab.QP[N];var F=ab.T0(0),h=ab.T0(ab.w4),m=ab.zw(r,h);
if(m==null)m=ab.zw(r,F);return m};ab.zw=function(r,N){for(var R=0;R<r.length;R++){N=N[r[R]];if(N==null)return null;
else if(typeof N=="string")break}if(N instanceof Array)N=N[0];return N.split("::")[0]};ab.a3z=function(){var r=function(F,h){var m=F.code,O=h.code;
if(m=="en")return-1;if(O=="en")return 1;var e=navigator.languages,P=e.indexOf(m)!=-1,B=e.indexOf(O)!=-1;
if(P&&B)return m>O?1:-1;if(P)return-1;if(B)return 1;return m>O?1:-1},N=LNG.langs.slice(0);N.sort(r);
return N};ab.Vm=function(r,N){ab.w4=r;if(LNG.tables[r])N();else{var F=new XMLHttpRequest;F.open("GET","code/lang/"+r+".js");
F.onreadystatechange=function(){LNG.tables[r]=F.responseText;N()};F.send()}};ab.sO=function(r,N){for(var F=0;
F<2;F++){var h=!1;for(var R=0;R<LNG.langs.length;R++)if(LNG.langs[R].code==r){ab.Vm(R,N);h=!0}if(h)break;
r=r.split("-")[0]}};ab.qr=function(){return LNG.langs[ab.w4].code};ab.aaP=function(r){for(var R=0;R<r.length;
R+=2)if(r[R+1].indexOf(">")==-1)ab.QP[JSON.stringify(r[R])]=r[R+1]};ab.yf=function(r){var N=-1,F=LNG.langs;
for(var R=0;R<F.length;R++)if(F[R].code==r)N=R;return N};var ce={Hc:!1,lU:!1,pp:!1};ce.Bm=function(){return W.yI[bq.e5]!=W.yI[bq.at4]};
ce.$S=function(){var r=W.yI[bq.DV],N=r[bq.jY],F=0,h=bq.e$,m=W.em("PP\\KQSB"),O=W.em("Y_5UDDB>idge"),e=r[bq.rA](bq.a21);
e[h](bq._y,m);e[h](bq.EO,W.em("fUMZKyqifDIhJ0*+&$-OG?<y~>"));N[bq.K3](e);e=r[bq.agJ](m);if(e==null){F=2}else{if(!N[W.em("R[WZDIKM")](e)){F=3}else if(Math.round(e[W.em("VQ](RUK>@B8p71*03m}x'")]()[bq.Ak]-500)>5){F=4}N[bq.ON](e)}if(ce.lU)F=5;
if(ce.pp)F=6;return F};ce.ap5=function(r){var N=W.zK("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),F={method:"HEAD",mode:"no-cors"},h=new Request(N,F);
fetch(h).then(function(m){return m}).then(function(m){var O=W.zK("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),h=new Request(O,F);
fetch(h).then(function(m){return m}).then(function(m){r(!1)}).catch(function(e){ce.lU=!0;console.clear();
r(!0)})}).catch(function(m){ce.lU=!0;console.clear();r(!0)})};ce.aeW=function(){var r=W.em("UU[YW#ECC8"),N=W.em("VQ](RUK>@B8p71*03m}x'"),F=W.em("WQRMKT"),h=this.alU[r][N]();
if(h[F]<4){ce.pp=!0;this.an9(!0)}};ce.ajc=function(){var r=W.yI._cwY,N=W.yI[bq._Y],F="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",h=String.fromCharCode(32);
r(W.em(F)+h+h+ce.$S());if(!ey.rU())N(ce.ajc,Math.round(Math.PI*1e4))};ce.JS=function(r){var N=W.yI[bq.DV],F=N[bq.rA](r[0]);
for(var h in r[1]){if(h=="txt")F[bq.Ow]=r[1][h];else F[bq.e$](h,r[1][h])}return F};ce.afS=function(r,N,F,h,m){W.Tg(F);
var O=W.yI[bq.DV],e=W.zK(" u.$%\"86<"),P=W.zK("!#c$,&"),B=W.yI[e][P],s=!1;if(!ce.Bm()&&!ce.$S()&&B&&r*N>300*300){var Y=O[W.em("VQ]+OEJ?EHDoD{&)l|&z")](bq.yx)[0],D=JSON.parse(W.zK("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var R=0;R<D.length;R++){var c=ce.JS(D[D.length-1-R]);Y[bq.ahn](c,Y[bq.ap6])}var o=W.zK("p}&$2a(:"),H=W.zK("'#!}i0%+"),x=W.zK("ps,}$\"40");
W.yI.___ggo=function(){W.yI[x](bq.yi,2,function(l,p){if(!W.yI[o]){W.yI[o]=!0;var j=ce.apu.bind({Z4:F,an3:m,head:Y,Nf:N});
j()}})}}else{var Q=[W.em("XYPtSP<N8@=[;6,")];if(s)Q=[W.zK("z\"~I5062W=>:")];for(var R=0;R<Q.length;R++){var U=O[bq.rA](bq.JH);
U[bq.e$](bq.EO,W.em("Ra[YRRvJF=?B0:_"));U[bq.e$](bq.a7,Q[R]);if(s){var I=O[bq.rA]("a");I[bq.e$](bq.k7,W.zK("@C/25N4/9A?C;:iBQRvU]Sg"));
I[bq.e$](bq.a5Y,W.zK("pv${,,"));I[bq.K3](U);F[bq.K3](I)}else{U[bq.yi](bq.acW,h,!1);F[bq.K3](U)}}}};ce.qf=function(r){var N=2;
if(r>=3*270+30)N=3;if(r>=4*270+30)N=4;return N};ce.apu=function(){var r=bq.K3,N=bq.e$,F=bq.yi,h=bq.cB,m=bq.EO,O=bq.a7,e=W.em("P_bTF"),P=bq.Ow,B=bq.ix,s=W.yI[bq.DV],Y=bq.rA,D=bq.adn,c=JSON.parse(W.zK("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),o=W.yI,H=-1,x=o[W.zK("f#!}f")],Q=W.zK("xy'"),U=W.zK("TU"),I=W.zK("Vi"),L=0;
if(x&&x[Q]){var l=x[Q];if(l==I)H=0;if(l==U)H=1}var p=H==-1?null:ce.JS(c[H]),j=this.Z4,T=this.an3,V=this.head,E=this.Nf,_=W.zK("~u*\"'/P)9ADBCrlnR]"),f=[.1,0,.9],S=Math.random();
while(f[L]<S&&L<f.length-1){S-=f[L];L++}if(L==0){console.log(0);if(T==1){var y=W.zK("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),$=y.split(","),Z=s[Y](B);
for(var R=0;R<$.length;R+=2)Z[N]($[R+0],$[R+1]);Z[N](m,W.em("\\M[MLNi<FHE=8aVQ/4"));j[r](Z);if(!ce.Hc){ce.Hc=!0;
var i=W.zK("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),b=s[Y](D);
b[P]=i;V[r](b)}}else if(T==2){var G=ce.qf(E);if(!ce.Hc){ce.Hc=!0;var y=W.zK("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),$=y.split(","),i=W.zK("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var g=0;g<G;g++){var Z=s[Y](B);for(var R=0;R<$.length;R+=2)Z[N]($[R+0],$[R+1]);Z[N](m,_);j[r](Z);
var b=s[Y](D);b[P]=i;j[r](b)}}}}else if(L==1){console.log(1);if(T==1){var u=s[Y](W.zK("u}."));u[N](m,_);
var A=s[Y](W.zK("u}."));u[r](A);A[N](W.zK("zx"),W.zK("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));A[N](W.zK("t!x.1"),W.zK("pu(y~1)?).4"));
var i=W.zK("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),b=s[Y](D);
b[P]=i;A[r](b);j[r](u)}else if(T==2){var G=ce.qf(E);for(var R=0;R<G;R++){var u=s[Y](W.zK("u}."));u[N](m,_);
var A=s[Y](W.zK("u}."));u[r](A);A[N](W.zK("zx"),W.zK("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));A[N](W.zK("t!x.1"),W.zK("pu(y~1)?).4"));
var i=W.zK("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),b=s[Y](D);
b[P]=i;A[r](b);j[r](u)}}if(!ce.Hc){ce.Hc=!0;var i=W.zK("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),b=s[Y](D);
b[N](W.zK("uu,{J$*(=F>6"),W.zK("wu$.#"));b[P]=i;V[r](b)}}else{console.log(2);var a=s[Y](D);a.setAttribute(O,W.zK("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
V[r](a);var d=JSON.parse(W.zK("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),K=[d[0]];
if(T==2)K=d.slice(1,1+ce.qf(E));for(var R=0;R<K.length;R++){var A=s[Y](W.em("SU_"));A[N](W.em("XP"),K[R]);
A[N](m,_);j[r](A)}}if(p)j[r](p)};var dY={QK:-2,$v:{expires_at:0},je:[]};dY.dl=function(r){if(r)dY.je.splice(0,0,r);
if(dY.QK==-2){dY.QK=-1;var N=document.createElement("script");N.src="//apis.google.com/js/client.js";
document.body.appendChild(N);N.onload=function(F){setTimeout(function(){dY.QK=0;dY.dl()},100)}}if(dY.QK==-1)return;
if(dY.QK==1)return;if(dY.$v.expires_at>Date.now()*.001+30){while(dY.je.length>0)dY.je.pop()()}else{if(dY.QK==0)dY.QK=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:dY.QK==2?!1:!0},dY.aqF)}};
dY.aqF=function(r){if(r&&!r.error){dY.$v=r;dY.QK=!1;dY.dl()}else if(dY.QK==1){dY.QK=2;dY.dl()}else alert("Error: "+r.error)};
dY.Jv=function(){return"access_token="+dY.$v.access_token+"&token_type="+dY.$v.token_type};dY.T9=function(){return dY.$v.token_type+" "+dY.$v.access_token};
function gS(r,N){if(!r)r=0;if(!N)N=0;this.x=r;this.y=N}gS.prototype.add=function(r){return new gS(this.x+r.x,this.y+r.y)};
gS.prototype.clone=function(){return new gS(this.x,this.y)};gS.prototype.qv=function(r){this.x=r.x;this.y=r.y};
gS.prototype.cj=function(r){return this.x==r.x&&this.y==r.y};gS.prototype.normalize=function(r){var N=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=r/N;this.y*=r/N};gS.prototype.offset=function(r,N){this.x+=r;this.y+=N};gS.prototype.YR=function(r,N){this.x=r;
this.y=N};gS.prototype.bl=function(r){return new gS(this.x-r.x,this.y-r.y)};gS.Mz=function(r,N){return gS.amp(r.x,r.y,N.x,N.y)};
gS.E_=function(r,N,F){return new gS(r.x+F*(N.x-r.x),r.y+F*(N.y-r.y))};gS.a9N=function(r,N){return new gS(r*Math.cos(N),r*Math.sin(N))};
gS.amp=function(r,N,F,h){return Math.sqrt((F-r)*(F-r)+(h-N)*(h-N))};gS.bQ={};gS.FO={};gS.bQ.create=function(){var r=new Float32Array(4);
return r};gS.FO.create=function(r){var N=new Float32Array(16);N[0]=N[5]=N[10]=N[15]=1;if(r)gS.FO.set(r,N);
return N};gS.bQ.add=function(r,N,F){F[0]=r[0]+N[0];F[1]=r[1]+N[1];F[2]=r[2]+N[2];F[3]=r[3]+N[3]};gS.bQ.set=function(r,N){N[0]=r[0];
N[1]=r[1];N[2]=r[2];N[3]=r[3]};gS.FO.set=function(r,N){N[0]=r[0];N[1]=r[1];N[2]=r[2];N[3]=r[3];N[4]=r[4];
N[5]=r[5];N[6]=r[6];N[7]=r[7];N[8]=r[8];N[9]=r[9];N[10]=r[10];N[11]=r[11];N[12]=r[12];N[13]=r[13];N[14]=r[14];
N[15]=r[15]};gS.FO.multiply=function(r,N,F){var h=r[0],m=r[1],O=r[2],e=r[3],P=r[4],B=r[5],s=r[6],Y=r[7],D=r[8],c=r[9],o=r[10],H=r[11],x=r[12],Q=r[13],U=r[14],I=r[15],l=N[0],p=N[1],j=N[2],T=N[3];
F[0]=l*h+p*P+j*D+T*x;F[1]=l*m+p*B+j*c+T*Q;F[2]=l*O+p*s+j*o+T*U;F[3]=l*e+p*Y+j*H+T*I;l=N[4];p=N[5];j=N[6];
T=N[7];F[4]=l*h+p*P+j*D+T*x;F[5]=l*m+p*B+j*c+T*Q;F[6]=l*O+p*s+j*o+T*U;F[7]=l*e+p*Y+j*H+T*I;l=N[8];p=N[9];
j=N[10];T=N[11];F[8]=l*h+p*P+j*D+T*x;F[9]=l*m+p*B+j*c+T*Q;F[10]=l*O+p*s+j*o+T*U;F[11]=l*e+p*Y+j*H+T*I;
l=N[12];p=N[13];j=N[14];T=N[15];F[12]=l*h+p*P+j*D+T*x;F[13]=l*m+p*B+j*c+T*Q;F[14]=l*O+p*s+j*o+T*U;F[15]=l*e+p*Y+j*H+T*I;
return F};gS.FO.inverse=function(r,N){var F=r[0],h=r[1],m=r[2],O=r[3],e=r[4],P=r[5],B=r[6],s=r[7],Y=r[8],D=r[9],c=r[10],o=r[11],H=r[12],x=r[13],Q=r[14],U=r[15],I=F*P-h*e,l=F*B-m*e,p=F*s-O*e,j=h*B-m*P,T=h*s-O*P,V=m*s-O*B,E=Y*x-D*H,_=Y*Q-c*H,f=Y*U-o*H,S=D*Q-c*x,L=D*U-o*x,y=c*U-o*Q,$=I*y-l*L+p*S+j*f-T*_+V*E;
if(!$){return null}$=1/$;N[0]=(P*y-B*L+s*S)*$;N[1]=(m*L-h*y-O*S)*$;N[2]=(x*V-Q*T+U*j)*$;N[3]=(c*T-D*V-o*j)*$;
N[4]=(B*f-e*y-s*_)*$;N[5]=(F*y-m*f+O*_)*$;N[6]=(Q*p-H*V-U*l)*$;N[7]=(Y*V-c*p+o*l)*$;N[8]=(e*L-P*f+s*E)*$;
N[9]=(h*f-F*L-O*E)*$;N[10]=(H*T-x*p+U*I)*$;N[11]=(D*p-Y*T-o*I)*$;N[12]=(P*_-e*S-B*E)*$;N[13]=(F*S-h*_+m*E)*$;
N[14]=(x*l-H*j-Q*I)*$;N[15]=(Y*j-D*l+c*I)*$;return N};gS.FO.apK=function(r,N,F){var h=N[0],m=N[1];F[0]=h*r[0]+m*r[4]+r[12];
F[1]=h*r[1]+m*r[5]+r[13]};gS.FO.apM=function(r,N,F){var h=N[0],m=N[1],O=N[2],e=N[3];F[0]=r[0]*h+r[4]*m+r[8]*O+r[12]*e;
F[1]=r[1]*h+r[5]*m+r[9]*O+r[13]*e;F[2]=r[2]*h+r[6]*m+r[10]*O+r[14]*e;F[3]=r[3]*h+r[7]*m+r[11]*O+r[15]*e};
function fE(r,N,F,h){if(!r)r=0;if(!N)N=0;if(!F)F=0;if(!h)h=0;this.x=r;this.y=N;this.e=F;this.n=h}fE.prototype.W=function(){return this.e*this.n};
fE.prototype.clone=function(){return new fE(this.x,this.y,this.e,this.n)};fE.prototype.contains=function(r,N){return r>=this.x&&r<=this.x+this.e&&(N>=this.y&&N<=this.y+this.n)};
fE.prototype.Ev=function(r){return this.contains(r.x,r.y)};fE.prototype.w9=function(r){return this.x<=r.x&&this.y<=r.y&&r.x+r.e<=this.x+this.e&&r.y+r.n<=this.y+this.n};
fE.prototype.qv=function(r){this.x=r.x;this.y=r.y;this.e=r.e;this.n=r.n};fE.prototype.cj=function(r){return this.x==r.x&&this.y==r.y&&this.e==r.e&&this.n==r.n};
fE.prototype.r2=function(r,N){this.x-=r;this.y-=N;this.e+=2*r;this.n+=2*N};fE.prototype.a9f=function(r){this.r2(r.x,r.y)};
fE.prototype.c_=function(r){var N=Math.max(this.x,r.x),F=Math.max(this.y,r.y),h=Math.min(this.x+this.e,r.x+r.e),m=Math.min(this.y+this.n,r.y+r.n);
if(h<N||m<F)return new fE;else return new fE(N,F,h-N,m-F)};fE.prototype.PC=function(r){if(r.y+r.n<this.y||r.x>this.x+this.e||r.y>this.y+this.n||r.x+r.e<this.x)return!1;
return!0};fE.prototype.lX=function(){return this.e<=0||this.n<=0};fE.prototype.offset=function(r,N){this.x+=r;
this.y+=N};fE.prototype.hZ=function(r){this.offset(r.x,r.y)};fE.prototype.a96=function(){this.x=this.y=this.e=this.n=0};
fE.prototype.YR=function(r,N,F,h){this.x=r;this.y=N;this.e=F;this.n=h};fE.prototype.fD=function(r){if(this.lX())return r.clone();
if(r.lX())return this.clone();var N=this.clone();N.atb(r);return N};fE.Il=new Float32Array(2);fE.prototype.atb=function(r){if(r.lX())return;
if(this.lX()){this.qv(r);return}this.VN(r.x,r.y);this.VN(r.x+r.e,r.y+r.n)};fE.prototype.VN=function(r,N){var F=Math.min(this.x,r),h=Math.min(this.y,N);
this.e=Math.max(this.x+this.e,r)-F;this.n=Math.max(this.y+this.n,N)-h;this.x=F;this.y=h};fE.prototype.aku=function(r,N){this.x=r;
this.y=N;this.e=this.n=0};function hc(r,N,F,h,m,O){if(typeof r==="undefined"){r=1;N=0;F=0;h=1;m=0;O=0}this.O$=r;
this.J=N;this.KM=F;this.Bv=h;this.HG=m;this.SS=O}hc.prototype.zf=function(){return Math.sqrt(Math.abs(this.O$*this.Bv-this.J*this.KM))};
hc.prototype.afg=function(){var r=this,N=function(F){return Math.abs(F)<1e-9?0:F};r.O$=N(r.O$);r.J=N(r.J);
r.KM=N(r.KM);r.Bv=N(r.Bv);r.HG=N(r.HG);r.SS=N(r.SS)};hc.prototype.eS=function(r){return new gS(r.x*this.O$+r.y*this.KM+this.HG,r.x*this.J+r.y*this.Bv+this.SS)};
hc.prototype.translate=function(r,N){this.HG+=r;this.SS+=N};hc.prototype.rotate=function(r){var N=new hc(Math.cos(r),-Math.sin(r),Math.sin(r),Math.cos(r),0,0);
this.concat(N)};hc.prototype.scale=function(r,N){var F=new hc(r,0,0,N,0,0);this.concat(F)};hc.prototype.concat=function(r){this.qv(new hc(this.O$*r.O$+this.J*r.KM,this.O$*r.J+this.J*r.Bv,this.KM*r.O$+this.Bv*r.KM,this.KM*r.J+this.Bv*r.Bv,this.HG*r.O$+this.SS*r.KM+r.HG,this.HG*r.J+this.SS*r.Bv+r.SS))};
hc.prototype.iL=function(){var r=this.O$*this.Bv-this.J*this.KM;this.qv(new hc(this.Bv/r,-this.J/r,-this.KM/r,this.O$/r,(this.KM*this.SS-this.Bv*this.HG)/r,(this.J*this.HG-this.O$*this.SS)/r))};
hc.prototype.clone=function(){return new hc(this.O$,this.J,this.KM,this.Bv,this.HG,this.SS)};hc.prototype.qv=function(r){this.O$=r.O$;
this.J=r.J;this.KM=r.KM;this.Bv=r.Bv;this.HG=r.HG;this.SS=r.SS};function bA(){}bA.Ms={alp:["PNG","JPG","SVG","GIF","PDF"],ajw:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
bA.PN=function(r,N){var F=r.memory.buffer.byteLength;if(F<N)r.memory.grow((N-F>>>16)+1)};bA.pU={alE:function(r,N){fetch(r).then(function(F){return F.arrayBuffer()}).then(function(F){var h=new Uint8Array(F),m=0,B="";
if(N){m=h.length;var O={level:9},e=pako.deflateRaw(h,O),P=UZIP.deflateRaw(h,O);console.log(m,e.length,P.length);
h=e.length<P.length?e:P}for(var R=0;R<h.length;R++)B+=String.fromCharCode(h[R]);var s=btoa(B);console.log(JSON.stringify([m,s]))})},get:function(r,N){var F=BINDB[r],h=Date.now(),m=atob(F[1]),O=m.length,e=new Uint8Array(O);
for(var R=0;R<O;R++)e[R]=m.charCodeAt(R);if(F[0]!=0){var P=new Uint8Array(F[0]);UZIP.inflateRaw(e,P);
e=P}if(N){var B=bA.Cn(e.buffer);e=bA.yU(B).V9(e.buffer)}return e}};bA.Cn=function(r){if(!(r instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var N=new Uint8Array(r),F=bA.E8,h,m=0,O=N.length-1;
if(F(N,[239,187,191]))m=3;while(m<N.length&&(N[m]==9||N[m]==10||N[m]==13||N[m]==32))m++;while(O!=0&&(N[O]==9||N[O]==10||N[O]==13||N[O]==32))O--;
if(F(N,[56,66,80,83]))h="psd";if(F(N,[6,6,237,245]))h="indd";if(F(N,[102,116,121,112,109,105,102,49],4)||F(N,[102,116,121,112,97,118,105,102],4))h="avif";
if(F(N,[102,116,121,112,105,115,111,109],4))h="mp4";if(F(N,[102,116,121,112,109,112,52,50],4))h="mp4";
if(F(N,[0,255,75,65]))h="afphoto";if(F(N,[120]))h="pxd";if(F(N,[80,68,78,51]))h="pdn";if(F(N,[103,105,109,112,32,120,99,102,32]))h="xcf";
if(F(N,[102,105,103,45,107,105,119,105]))h="fig";if(F(N,[137,80,78,71,13,10,26,10])){h="png";var e=8;
while(e<N.length){var P=J.l(N,e);e+=4;var B=J.Mj(N,e,4);e+=4;if(B=="mkTS")h="fpng";e+=P+4}}if(F(N,[87,76]))h="cdr";
if(F(N,[82,73,70,70])){var s=dy.ep(N),Y=s.gS;if(Y=="WEBP")h="webp";else if(Y.slice(0,3)=="CDR")h="cdr";
else h=Y}if(F(N,[70,79,82,77])||F(N,[76,73,83,84])||F(N,[67,65,84,32])){var s=gi.ep(N),Y=s.gS;if(Y=="ILBM")h="ilbm";
else h=Y}if(F(N,[255,216,255]))h="jpg";if(F(N,[0,0,0,12,106,80,32,32]))h="jpg";if(F(N,[48,0,1,0],4))h="jb2";
if(F(N,[71,73,70,56]))h="gif";if(F(N,[0,0,0,2,121,102,113,76]))h="msh";if(F(N,[0,0,0,3,121,102,113,76]))h="msh";
if(F(N,[0,0,0,16]))h="atn";if(F(N,[0,1]))h="aco";if(F(N,[0,2]))h="aco";if([0,1].indexOf(N[1])!=-1&&[1,2,3,9,10,11].indexOf(N[2])!=-1&&[0,16,24,32].indexOf(N[7])!=-1)h="tga";
if(F(N,[0,2,56,66,83,76]))h="asl";if(F(N,[0,1,0,-1,0,2,0]))h="abr";if(F(N,[0,2,0,-1,0,2,0]))h="abr";
if(F(N,[0,6,0,1]))h="abr";if(F(N,[0,6,0,2]))h="abr";if(F(N,[0,7,0,2]))h="abr";if(F(N,[0,9,0,2]))h="abr";
if(F(N,[0,10,0,2]))h="abr";if(F(N,[56,66,70,83]))h="shc";if(F(N,[56,66,80,84]))h="pat";if(F(N,[56,66,71,82]))h="grd";
if(F(N,[71,73,77,80,32,71,114,97]))h="grd";if(F(N,[56,66,84,80]))h="tpl";if(F(N,[0,4,0,5]))h="acv";if(F(N,[99,117,115,104]))h="csh";
if(F(N,[0,1,0,0,0]))h="otf";if(F(N,[79,84,84,79]))h="otf";if(F(N,[116,116,99,102]))h="otf";if(F(N,[68,68,83,32]))h="dds";
if(F(N,[80,86,82,3]))h="pvr";if(F(N,[86,84,70,0]))h="vtf";if(F(N,[83,73,77,80]))h="fits";if(F(N,[0,0,1,0]))h="ico";
if(F(N,[66,77]))h="bmp";if(F(N,[40,0,0,0]))h="bmp";if(F(N,[80,49]))h="ppm";if(F(N,[80,50]))h="ppm";if(F(N,[80,51]))h="ppm";
if(F(N,[80,52]))h="ppm";if(F(N,[80,53]))h="ppm";if(F(N,[80,54]))h="ppm";if(F(N,[73,73,42,0]))h="tiff";
if(F(N,[77,77,0,42]))h="tiff";if(F(N,[70,85,74,73,70,73,76,77]))h="raf";if(F(N,[112]))h="lif";if(F(N,[73,73,26,0]))h="ciff";
if(F(N,[83,81,76,105]))h="sketch";if(F(N,[80,75])){var D=UZIP.parse(r,!0);if(D["document.json"])h="sketch";
else if(D.manifest)h="xd";else h="zip"}if(F(N,[123]))h="json";if(J.l(N,0)==N.length)h="icc";if(F(N,[35]))h="icc";
if(F(N,[84,73,84,76],m))h="icc";if(F(N,[76,85,84,95],m))h="icc";if(F(N,[60,63,120,109],m)){if(J.vE(N,"<look>")!=-1)h="icc";
else h="svg"}if(F(N,[60,115,118,103],m))h="svg";if(F(N,[60,33,100,111],m)||F(N,[60,33,68,79],m)){if(J.vE(N,"<svg")!=-1)h="svg";
else h="html"}if(F(N,[37,33])||F(N,[197,208,211,198])){if(J.vE(N,"%AI9_PrivateDataBegin")!=-1||J.vE(N,"%AI5_BeginLayer")!=-1)h="ai";
else h="eps"}if(F(N,[37,80,68,70],m)){if(J.vE(N,"/AIMetaData ")!=-1)h="ai";else h="pdf"}else if(F(N,[10,69,79,70],O-3))h="dxf";
if(F(N,[1,0,9,0]))h="wmf";if(F(N,[215,205,198,154]))h="wmf";if(F(N,[1,0,0,0]))h="emf";if(F(N,[118,47,49,1]))h="exr";
if(F(N,[10,10,10,10]))h="jsx";if(F(N,[77,90]))h="exe";if(h==null&&w.raw.Zp(N.length)!=null)return"tiff";
return h};bA.E8=function(r,N,F){if(F==null)F=0;for(var R=0;R<N.length;R++)if(N[R]!=-1&&r[F+R]!=N[R])return!1;
return!0};bA.yU=function(r){var N={BMP:bA.ar2,CDR:bA.kc,DDS:bA.ye,EMF:bA.o1,DXF:bA.yD,EPS:bA.H7,FIG:bA.xl,FPNG:bA.Ah,INDD:bA.a1r,GIF:bA.sR,ICO:bA.lH,ILBM:bA.Y5,FITS:bA.Uk,EXR:bA.m9,JPG:bA.C5,LIF:bA.TB,PDF:bA.Zx,PDN:bA.Le,PNG:bA.zu,PPM:bA.vQ,PSD:bA.kW,PXD:bA.GM,RAF:bA.DB,RAW:bA.ct,SKETCH:bA.ZW,SVG:bA.ud,TGA:bA.L$,AVIF:bA.afM,TIFF:bA.pl,VTF:bA.XQ,WEBP:bA.Sv,WMF:bA.O6,XCF:bA.UN,XD:bA.ee,EXE:bA.kZ,AI:bA.Si,AFPHOTO:bA.Ds,MP4:bA.alC};
return N[r.toUpperCase()]};bA.Jo=function(R){var r=bA.Ms.alp,N=bA.Ms.ajw,F,h=[];if(R==null)F=r.concat(N);
else F=R==0?r:N;for(var R=0;R<F.length;R++)if(bA.yU(F[R]).xs)h.push(F[R]);return h};bA.ave=function(){var r;
function N(h){var m=h.target,O=m.width,e=m.height,P=document.createElement("canvas");P.width=O;P.height=e;
var B=P.getContext("2d");B.drawImage(m,0,0);r({I0:new fE(0,0,O,e),data:B.getImageData(0,0,O,e).data.buffer})}function F(h,m,O){r=O;
var e=document.createElement("img");e.onload=N;e.src="data:"+m+";base64,"+bA.oK(h)}return F}();bA.UR=function(r,N,F,h,m){var O=bA.zh(r,N,F,h,m),e=bA.Sy(O);
return e.buffer};bA.Sy=function(r){var N=atob(r.split(",").pop()),F=new Uint8Array(N.length);for(var R=0;
R<N.length;R++)F[R]=N.charCodeAt(R);return F};bA.zh=function(r,N,F,h,m,O){if(!(r instanceof ArrayBuffer))throw"e";
if(h==null)h="png";if(h=="png"&&O==!0){var e=bA.yU("PNG").xs([[r,0]],N,F);return"data:image/png;base64,"+bA.oK(e)}var P=bA.Vt;
if(P==null)P=bA.Vt=document.createElement("canvas");if(P.width!=N||P.height!=F){P.width=N;P.height=F}var B=P.getContext("2d"),s=new ImageData(new Uint8ClampedArray(r,0,N*F*4),N,F);
B.putImageData(s,0,0);return P.toDataURL("image/"+h,m)};bA.ahY=function(r,N,F,h,m){if(m==null)m=0;var O="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",e="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+O+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(r==1)e+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
e+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+m+")\" xlink:href=\""+N+"\" x=\""+80*F+"\" y=\""+80*h+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var P=new Uint8Array(e.length);J.bA(e,P,0);var B="data:image/svg+xml;base64,"+bA.oK(P.buffer);return{l1:B,NQ:new fE(0,0,128,128),xW:new gS(64,64)}};
bA.oK=function(r){var N=new Uint8Array(r),F="";for(var R=0;R<N.length;R++)F+=String.fromCharCode(N[R]);
return btoa(F)};bA.aqA=function(r){var N=atob(r),F=N.length,h=new Uint8Array(F);for(var R=0;R<F;R++)h[R]=N.charCodeAt(R);
return h.buffer};bA.Wt=function(r){var N=[],F=[];for(var R=0;R<r.g.length;R++){var h=r.g[R];if(h.getName().slice(0,3)=="_a_"){N.push(R);
F.push(h.gv())}}return[N,F]};bA.__=function(r,N,F,h,m,O){if(F==null)F=r.e;if(h==null)h=r.n;var e=new fE(0,0,r.e,r.n),P=new hc(F/(r.e+.001),0,0,h/(r.n+.001),0,0),s;
N=N.toUpperCase();var B=bA.yU(N);if(B.mU){r.G9();s=B.xs(r,F,h,m,O)}else{if(m)m=m.slice(0);var Y=bA.Wt(r),D=Y[0],c=Y[1],o=r.hl(),H=o&&m?m.pop():!1,x=o&&!H?o[0]:null,Q=null;
if(r.O0.length!=0){Q=[];for(var R=0;R<r.O0.length;R++)Q.push(r.O0[R].L7(e))}if(D.length<2){var U=bA.wl(r.G9(),o,H),I;
if(F==r.e&&h==r.n)I=U.buffer;else{var l=z.Q.iG([U,e],P);I=l.buffer.buffer;if(Q){var p=w.B(e.W()*4);for(var R=0;
R<Q.length;R++){w.vr(Q[R],p,3);var l=z.Q.iG([p,e],P),j=Q[R]=w.B(l.rect.W());w.Pw(l.buffer,j,3)}}}s=B.xs([[I,0,r.EP,r.fH,Q,x]],F,h,m)}else{var T=[];
for(var R=0;R<D.length;R++){var V=D[R],I;for(var E=0;E<D.length;E++)r.g[D[E]].Hb(D[E]==V);r.IY();r.M();
r.t7();if(F==r.e&&h==r.n)I=r.G9().buffer.slice(0);else{var l=z.Q.iG([r.G9(),e],P);I=l.buffer.buffer}I=bA.wl(new Uint8Array(I),o,H).buffer;
var _=r.g[V].getName().split(",");T.push([I,_[1]?parseInt(_[1]):100,r.EP,r.fH,Q,x])}for(var R=0;R<D.length;
R++)r.g[D[R]].Hb(c[R]);r.M();r.t7();if(m){var f=m.length,S=m[f-2],L=m[f-1],y=m[f-4]/100;if(y!=1)for(var R=0;
R<T.length;R++)T[R][1]=Math.round((T[R][1]==0?16:T[R][1])/y);if(S)T.reverse();if(L){var $=T.slice(1,T.length-1);
$.reverse();T=T.concat($)}}s=B.xs(T,F,h,m)}}return s};bA.wl=function(r,N,F){if(F){r=r.slice(0);ICC.U.applyLUT(N[3],N[2],r,r)}return r};
bA.B0=function(r,N){var F=N[0].Ct&&N[0].Ct.startsWith("_a_"),h,m=new gp(r+".psd"),O=new fE(0,0,1,1);
if(F){h=m.lc();h.add.lsct=jJ.Ra;h.a6(r);h.$j="pass";h.Rl=24;h.Hb(!0);m.g.push(m.Dz())}for(var R=0;R<N.length;
R++){var e=N[R];O=O.fD(e.I0);var P=m.lc();P.Hb(R==0);P.a6(N.length==1?"Background":"Layer "+R);if(R==0&&e.EP)m.EP=e.EP;
if(R==0&&e.fH)m.fH=e.fH;if(e.Ct)P.a6(e.Ct);if(e.s9)for(var R=0;R<e.s9.length;R++){var B=e.s9[R],s=gp.Yn(B[0]);
s.add.vmsk.Y=B[1];w.H.nY(B[1],new hc(O.e,0,0,O.n,0,0));m.N$.push(s)}P.rect=e.I0.clone();P.buffer=new Uint8Array(e.data);
if(R==0&&e.FG)m.Nt(e.FG);w.uQ(P);m.g.push(P)}if(F)m.g.push(h);if(N[0].O0){for(var R=0;R<N[0].O0.length;
R++){var Y=new C.Z8;m.O0.push(Y);Y.rect=N[0].I0.clone();Y.channel=N[0].O0[R]}}m.w=[F?m.g.length-1:0];
m.e=O.e;m.n=O.n;m.buffer=w.B(O.W()*4);m.M();return m};bA.zu={};bA.zu.xs=function(r,N,F,h){if(h==null)h=[100,!1,0,0,0];
var m={sRGB:1,loop:h[3]};if(r[0][5]!=null){delete m.sRGB;m.iCCP=r[0][5]}if(r[0][2]!=null){var O=Math.round(r[0][2]*(1e4/254));
m.pHYs=[O,O,1]}var e=h[0],P=e==100?0:Math.max(2,Math.floor(e*5));if(P==5)P=4;var B=[],s=[];for(var R=0;
R<r.length;R++){B.push(r[R][0]);s.push(r[R][1])}var Y=UPNG.encode(B,N,F,P,s,m,h[1]);return Y};bA.zu.ajA=function(r,N,F){return UPNG.encodeLL([r],N,F,3,1,8)};
bA.zu.V9=function(r){var N=Date.now(),F=UPNG.decode(r),h=UPNG.toRGBA8(F),m=F.width,O=F.height,e=0,P=F.tabs.iCCP;
if(F.tabs.pHYs)e=Math.round(F.tabs.pHYs[0]*254/1e4);if(h.length==1)return[{I0:new fE(0,0,m,O),data:h[0],EP:e,FG:P}];
var B=[];for(var R=0;R<h.length;R++){B.push({Ct:"_a_frm"+R+","+F.frames[R].delay,I0:new fE(0,0,m,O),data:h[R],EP:e,FG:P})}return B};
bA.vQ={};bA.vQ.xs=function(r,N,F,h){var m=new Uint8Array(r[0][0]),O=N*F,e=O*3,P="P6\n"+N+" "+F+"\n255\n",B=P.length,s=w.B(B+e,!0);
for(var R=0;R<B;R++)s[R]=P.charCodeAt(R);for(var R=0;R<O;R++){var Y=R*4,D=R*3+B;s[D]=m[Y];s[D+1]=m[Y+1];
s[D+2]=m[Y+2]}return s.buffer};bA.vQ.V9=function(r){r=new Uint8Array(r);var N=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],F=0,h=String.fromCharCode(r[0])+String.fromCharCode(r[1]),m=[],O=0,e=h=="P1"||h=="P4"?2:3;
for(F=2;F<r.length;F++){var P=r[F],B=String.fromCharCode(P);if(P=="#".charCodeAt(0)){while(r[F]!="\n".charCodeAt(0))F++;
continue}var s=N.indexOf(P)!=-1;if(O==0&&!s){m.push(B);O=1;continue}if(O==1&&!s){m[m.length-1]+=B;continue}if(O==1&&s){O=0;
if(m.length==e)break;continue}}var Y=parseInt(m[0]),D=parseInt(m[1]),c=Y*D*4,o=h=="P1"||h=="P4"?1:255/parseInt(m[2]),H=w.B(c);
if(h=="P1"||h=="P2"||h=="P3"){var x="",Q=0,O=0,U="#".charCodeAt(0);for(var R=F;R<r.length;R++){var P=r[R],B=String.fromCharCode(P),s=N.indexOf(P)!=-1;
if(P==U){while(r[R]!="\n".charCodeAt(0))R++}else if(O==0&&!s){x=B;O=1}else if(O==1){if(s){O=0;var I=parseInt(x);
x="";if(h=="P1"){H[Q]=H[Q+1]=H[Q+2]=(1-I)*255;H[Q+3]=255;Q+=4}if(h=="P2"){H[Q]=H[Q+1]=H[Q+2]=Math.round(I*o);
H[Q+3]=255;Q+=4}if(h=="P3"){H[Q]=Math.round(I*o);Q++;if((Q&3)==3){H[Q]=255;Q++}}}else x+=B}}}var l=Y*D;
if(h=="P4")for(var p=0;p<D;p++){var j=p*8*Math.ceil(Y/8);for(var T=0;T<Y;T++){var R=j+T,V=r[F+1+(R>>3)];
V=V>>7-(R&7)&1;var E=p*Y+T<<2;H[E]=H[E+1]=H[E+2]=(1-V)*255;H[E+3]=255}}if(h=="P5")for(var R=0;R<l;R++){var E=4*R;
H[E]=H[E+1]=H[E+2]=Math.round(r[F+1+R]*o);H[E+3]=255}if(h=="P6")for(var R=0;R<l;R++){var E=4*R,_=F+1+3*R;
H[E]=Math.round(r[_]*o);H[E+1]=Math.round(r[_+1]*o);H[E+2]=Math.round(r[_+2]*o);H[E+3]=255}return[{I0:new fE(0,0,Y,D),data:H.buffer}]};
bA.ye={};bA.ye.xs=function(r,N,F,h){if(h==null)h=[!0,!0];var m=new Uint8Array(r[0][0]),O=N&3,e=F&3;if(O!=0||e!=0){var P=N+(O==0?0:4-O),B=F+(e==0?0:4-e),s=new Uint8Array(P*B*4);
w.T1(s,4278190080);w.L3(m,new fE(0,0,N,F),s,new fE(0,0,P,B));m=s;N=P;F=B}var Y=UTEX.DDS.encode(m.buffer,N,F,h);
if(!1){var D=UTEX.DDS.decode(Y)[0],s=new Uint8Array(D.Mk),c=0;for(var R=0;R<m.length;R++){var o=m[R]-s[R];
c+=o*o}console.log(c)}return Y};bA.ye.V9=function(r){var N=UTEX.DDS.decode(r)[0];return[{I0:new fE(0,0,N.width,N.height),data:N.image}]};
bA.XQ={};bA.XQ.V9=function(r){var N=UTEX.VTF.decode(r).pop();return[{I0:new fE(0,0,N.width,N.height),data:N.image}]};
bA.C5={};bA.C5.hE=null;bA.C5.a24=function(r,N){var F=bA.C5.hE,h=r.byteLength,m=N.width,O=N.height,e=m*O,P=5e6+2*h+e*(N.progressive?Math.max(2,N.numComponents)*4+1:8),B=F.instance.exports;
bA.PN(B,P);var s=new Uint8Array(B.memory.buffer),Y=B.malloc(h);s.set(new Uint8Array(r),Y);var D=B.malloc(4),c=B.malloc(4),j_=B.malloc(4),o=B.stbi_load_from_memory(Y,h,D,c,j_,4);
B.free(Y);B.free(D,c,j_);B.free(o);var H=s.slice(o,o+e*4);return H};(function(){var r=bA.pU.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(r).then(function(N){bA.C5.hE=N})}());
bA.C5.xs=function(r,N,F,h){if(h==null)h=[70];var m=r[0],O=new Uint8Array(m[0]);if(w._p(O)){var e=new Uint8Array(O.length),P=new fE(0,0,N,F);
w.T1(e,4294967295);w.i.vw("norm",O,P,e,P,P,1);O=e}var B=new Uint8Array(bA.UR(O.buffer,N,F,"jpeg",h[0]/100));
if(m[5]!=null){var s=bA.C5.Zu(B)[226][0]+2,Y=J.Dx(B,s),D=m[5].length+16,c=D-Y,o=new Uint8Array(B.length+c);
for(var R=0;R<s+Y;R++)o[R]=B[R];for(var R=s+Y;R<B.length;R++)o[R+c]=B[R];J.j3(o,s,D);o.set(m[5],s+16);
B=o}if(m[2]!=null){var H=bA.C5.Zu(B)[224][0]+2;H+=9;B[H]=1;J.j3(B,H+1,m[2]);J.j3(B,H+3,m[2])}if(m[3]!=null&&h[1]==!0&&Object.keys(m[3]).length!=0){var x=0,Q=0,U=0,I=dq.qL(m[3]),l=new Uint8Array(UTIF.encode([I])),p="http://ns.adobe.com/xap/1.0/",s=20;
x=4+6+l.length;var j=dq.acs(m[3]),T=J.kX(j);Q=4+p.length+1+T.length;var V=dq.aoX(m[3]);if(V.length!=0){var E=0,S=0;
for(var R=0;R<V.length;R++)E+=5+V[R][1].length;var _=E+(E&1),f=w.B(14+4+2+4+_);J.KZ(f,S,"Photoshop 3.0");
S+=14;J.KZ(f,S,"8BIM");S+=4;f[S++]=4;f[S++]=4;S+=2;J.Wa(f,S,E);S+=4;for(var R=0;R<V.length;R++){var L=V[R],y=L[1];
f[S++]=28;f[S++]=2;f[S++]=L[0];J.j3(f,S,y.length);S+=2;J.KZ(f,S,y);S+=y.length}U=4+f.length}var $=x+Q+U,Z=new Uint8Array(B.length+$);
for(var R=0;R<20;R++)Z[R]=B[R];for(var R=20;R<B.length;R++)Z[R+$]=B[R];Z[s]=255;Z[s+1]=225;J.j3(Z,s+2,x-2);
J.KZ(Z,s+4,"Exif");for(var R=0;R<l.length;R++)Z[s+10+R]=l[R];s+=x;Z[s]=255;Z[s+1]=225;J.j3(Z,s+2,Q-2);
J.KZ(Z,s+4,p);for(var R=0;R<T.length;R++)Z[s+4+p.length+1+R]=T[R];s+=Q;if(U!=0){Z[s]=255;Z[s+1]=237;
J.j3(Z,s+2,U-2);for(var R=0;R<f.length;R++)Z[s+4+R]=f[R];s+=U}B=Z}return B.buffer};bA.C5.Zu=function(r){var N=0,F=[],h=r.length;
while(N<h){while(r[N]!=255&&N<h)N++;while(r[N]==255)N++;var m=r[N];N++;if(F[m]==null)F[m]=[];F[m].push(N-2);
if(m==216)continue;if(m==217)break;if(224<=m&&m<=239||m==218||m==219||m==192||m==193||m==194||m==196||m==221||m==254){var O=J.Dx(r,N);
N+=O;if(m==218)while(N<h&&(r[N]!=255||(r[N+1]==0||208<=r[N+1]&&r[N+1]<=215)))N++;continue}console.log("unknown marker ",m.toString(16),N);
break}if(F[217]==null){console.log("EOI marker missing");var e=r.length-2;r[e]=255;r[e+1]=217;F[217]=[e]}return F};
bA.C5.aoF=function(r){r=new Uint8Array(r);if(r[0]!=255)return r.buffer;var N=bA.C5.Zu(r),F=bA.C5.G2(r,N);
if(F.numComponents!=4)return r.buffer;var h=F.width,m=F.height,O=bA.C5.NL(r,N,!0);return bA.C5.xs([[O[0].data]],h,m,[85])};
bA.C5.G2=function(r,N){var F=(N[192]?N[192]:N[193]?N[193]:N[194])[0]+4,h={};h.progressive=N[194]!=null;
h.precision=r[F];F++;h.height=J.Dx(r,F);F+=2;h.width=J.Dx(r,F);F+=2;h.numComponents=r[F];F++;if(N[224]){var m=h.jfif={};
F=N[224][0]+2+2+5+2;m.densityUnits=r[F];F++;m.xDensity=J.Dx(r,F);F+=2;m.yDensity=J.Dx(r,F);F+=2}if(N[238]){var m=h.adobe={};
F=N[238][0]+2+2+6;m.version=r[F];F++;m.flags0=J.Dx(r,F);F+=2;m.flags1=J.Dx(r,F);F+=2;m.transform=r[F];
F++}return h};bA.C5.apX=function(r,N,F){var h=N,m=J.Dx(r,h);h+=2;var O=J.Mj(r,h,4);if(O=="Exif"){h+=6;
var e=r.slice(h,h+m-8),P;try{P=UTIF.decode(e.buffer,{parseMN:!1,debug:!1})}catch(ab){}if(P)F.exif=P}else if(O=="http"){var B=0;
while(r[h+B]!=0)B++;var s=J.Mj(r,h,B);h+=B+1;if(s=="http://ns.adobe.com/xmp/extension/"){var Y=J.Mj(r,h,32);
h+=32;h+=8;var D=N+m-h;while(r[h+D-1]==0)D--;if(F.xmp_extn==null)F.xmp_extn="";try{F.xmp_extn+=J.H3(r,h,D)}catch(ab){}}else if(s=="http://ns.adobe.com/xap/1.0/"){var c=J.H3(r.slice(h,h+m-B-3));
if(c[0]=="?")c="<"+c;F.xmp=c}}else console.log(O)};bA.C5.NL=function(r,N,F){var h=bA.C5.G2(r,N),m=h.width,O=h.height,e=m*O,P,B=-1,p=72,j,V;
if(h.adobe)B=h.adobe.transform;if(F||m*O>15e7||B==0||B==2){var s=new PDFJS.JpegImage;s.parse(r);var Y=s.getData({width:m,height:O,forceRGB:!0,isSourcePDF:F}),P=w.B(e*4);
for(var R=0;R<e;R++){var D=R<<2,c=D-R;P[D]=Y[c];P[D+1]=Y[c+1];P[D+2]=Y[c+2];P[D+3]=255}}else{P=bA.C5.a24(r.buffer,h)}var o=N[225];
if(o)for(var R=0;R<o.length;R++)bA.C5.apX(r,o[R]+2,h);var H=N[226];if(H){var x=H[0],Q=J.Dx(r,x+2),U=J.Mj(r,x+4,11);
if(U=="ICC_PROFILE"){var I=J.l(r,x+18);h.icc=r.slice(x+18,x+18+I)}}var l=N[217][0]+2;if(l!=r.length)h.suffix=r.slice(l);
var T=[m,O,1,0,0,0,1,0];if(h.jfif&&h.jfif.densityUnits!=0){p=Math.round([72,1,2.54][h.jfif.densityUnits]*h.jfif.xDensity)}else if(h.exif&&h.exif[0].t282!=null){var E=h.exif[0].t282[0];
p=E[0]/E[1]}if(h.exif){var _=h.exif;j=dq.k8(_[0]);var f=_[0].t274;if(f)f=f[0];if(f!=null&&f>1&&f<20)T=w.raw.C_(f,m,O)}if(h.xmp){j=dq.aqI(h.xmp,j)}if(h.icc)V=h.icc;
var S=N[237],L=[],y=[];if(S){var $=new Uint8Array(65536),Z=0,x=0;for(var R=0;R<S.length;R++){x=S[R]+2;
var i=x+J.Dx(r,x);x+=2;var b=x;while(r[x]!=0)x++;x++;var G=J.Mj(r,b,x-b-1),g=i-x;if(g<0)break;while(Z+g>$.length){var u=new Uint8Array($.length*2);
u.set($);$=u}var A=new Uint8Array(r.buffer,x,g);$.set(A,Z);Z+=g}x=0;r=$;while(x<Z){var a=J.Mj(r,x,4);
x+=4;var d=J.Dx(r,x);x+=2;var K=r[x++],n=J.Mj(r,x,K);x+=K;if((K&1)==0)x++;var Q=J.l(r,x);x+=4;var l=x+Q+(Q&1);
if(d==1028){while(x+4<l){var t=r[x++],X=r[x++],aK=r[x++],fg=J.Dx(r,x);x+=2;if(t==28&&X==2)L.push([aK,J.Mj(r,x,fg)]);
x+=fg}}else if((d&2e3)==2e3){var k=bv.lr(r,x,Q);y.push([n,k])}else{}x=l}if(L.length!=0)j=dq.a8F(L,j)}var hG=[{I0:new fE(0,0,m,O),data:P.buffer,EP:p,fH:j,FG:V,s9:y.length==0?null:y}],j=h.xmp_extn;
if(j){var eE=new DOMParser,hW=eE.parseFromString(j,"image/svg+xml"),hW=hW.children[0].children[0].children[0],hh=[hW.getAttribute("GImage:Data"),hW.getAttribute("GDepth:Data")];
for(var R=0;R<hh.length;R++)if(hh[R]){var hI=atob(hh[R]),db=new Uint8Array(hI.length);J.KZ(db,0,hI);
db=db.buffer;var by=bA.Cn(db),jM=bA.yU(by).V9(db);hG.push(jM[0])}}if(h.suffix){var fP=h.suffix,hB=J.Mj(fP,4,4),iu=J.vE(fP,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(bA.E8(fP,[0,0,1,10,14,0,0,0])){var x=0;while(x!=fP.length){var be=J.av(fP,x+2);x+=4;var bp={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[be];
if(bp!=null){var ij=J.Iy(fP,x);x+=4;var fT=J.Mj(fP,x,ij);x+=ij;var ei=J.Mj(fP,x,bp);x+=bp;if(be==2608){var bz=J.l(fP,x+24);
x+=bz+24;var aM=J.l(fP,x);x+=aM;alert("Photopea found a "+iX.UP(bz)+" MP4 video inside your image.",4e3)}}else if(be==18502){while(J.Mj(fP,x,4)!="SEFT")x+=4;
x+=4}else{break;console.log(J.oj(fP,x,128));console.log(fP.slice(x));throw be.toString(16)}}}else if(hB=="ftyp"){alert("Photopea found a "+iX.UP(fP.length)+" MP4 video inside your image.",4e3)}else if(J.Mj(fP,0,4)=="fixe"){alert("Unknown data - "+fP.length+" B - at the end of the file",3e3);
var x=4,Q=J.Iy(fP,x);x+=4;var hw=J.Iy(fP,x);x+=4;var hx=J.Iy(fP,x);x+=4;console.log(Q,hw,hx,fP.slice(x,x+84));
x+=84;var fm=J.Mj(fP,x,32);x+=32;x+=8;var fm=J.Mj(fP,x,32);x+=32}else if(J.Mj(fP,8,13)=="FocusShot_Map"){var dE=J.l(fP,0),fg=J.Iy(fP,4),db=w.B(e*4),gD=w.B(e*4);
for(var c2=0;c2<O;c2++)for(var bQ=0;bQ<m;bQ++){var R=c2*m+bQ,D=R<<2,f9=8+13+((c2>>>1)*m+bQ>>>1),jR=fP[f9],gP=fP[f9+(e>>>2)];
db[D]=db[D+1]=db[D+2]=jR;db[D+3]=255;gD[D]=gD[D+1]=gD[D+2]=gP;gD[D+3]=255}hG.push({I0:new fE(0,0,m,O),data:db.buffer},{I0:new fE(0,0,m,O),data:gD.buffer})}else if(hB=="edof"){var f=fP[8+7];
console.log(f.toString(16));var x=8+16,jh=J.av(fP,x),k6=J.av(fP,x+2),e=jh*k6;x+=4;x+=32+16;var eZ=w.B(e*4);
for(var R=0;R<e;R++){var D=R<<2;eZ[D]=eZ[D+1]=eZ[D+2]=fP[x+R];eZ[D+3]=255}if(f==16){}else if(f==19){var b5=eZ.slice(0);
w.N.Vu(eZ,b5,jh,k6);var fG=jh;jh=k6;k6=fG;w.N.sX(b5,eZ,jh,k6)}else throw"Unknown orientation of a depth map";
hG.push({I0:new fE(0,0,jh,k6),data:eZ.buffer})}else if(iu!=-1&&!(fP[0]==255&&fP[1]==129)){try{if(iu!=0)fP=fP.slice(iu);
var jM=bA.yU("jpg").V9(fP.buffer);for(var R=0;R<jM.length;R++)hG.push(jM[R])}catch(ab){}}else if(J.Mj(fP,0,4)=="PMPD"){var x=4,jG=J.Iy(fP,12),i_=J.Iy(fP,16),jh=J.Iy(fP,1060),k6=J.Iy(fP,1064),aY=jh>k6,jk=hG[0].I0.e>hG[0].I0.n,ih=fP.slice(fP.length-jh*k6-4),jr=w.B(jh*k6);
for(var c2=0;c2<k6;c2++)for(var bQ=0;bQ<jh;bQ++)jr[c2*jh+bQ]=ih[(k6-c2-1)*jh+bQ];var hV=w.B(jh*k6*4);
hV.fill(255);w.zG(jr,hV);if(aY!=jk){var b5=hV.slice(0);w.N.Vu(hV,b5,jh,k6);var fG=jh;jh=k6;k6=fG;w.N.sX(b5,hV,jh,k6)}hG.push({I0:new fE(0,0,jh,k6),data:hV.buffer})}else console.log(J.Mj(fP,0,4),fP)}if(hG.length>1){var ds=hG[0].I0;
hG[0].Ct="Main";for(var R=1;R<hG.length;R++){hG[R].Ct=bA.C5.auB(new Uint8Array(hG[R].data))?"Depth Map":null;
var jA=hG[R].I0;if(!jA.cj(ds)){var eI=ds.e/jA.e,hH=ds.n/jA.n,bO=new hc;bO.scale(eI,hH);var k7=z.Q.Rx([new Uint8Array(hG[R].data),jA],1,w.N.dj(bO));
hG[R].I0=k7.rect;hG[R].data=k7.buffer}}}if(bA.C5.iz==1)if(T[2]!=1||T[6]!=1)for(var R=0;R<hG.length;R++){var dO=hG[R],cG=new Uint8Array(dO.data),m=dO.I0.e,O=dO.I0.n,jh=T[0],k6=T[1],P=w.B(jh*k6*4);
w.N.Yw(cG,m,O,P,T);dO.I0=new fE(0,0,jh,k6);dO.data=P.buffer}return hG};bA.C5.auB=function(r){var N=!0;
for(var R=0;R<r.length;R+=4){N=N&&r[R]==r[R+1]&&r[R+1]==r[R+2]}return N};bA.C5.iz=0;bA.C5.V9=function(r,N,F){r=new Uint8Array(r);
if(r[0]==255){var h=bA.C5.Zu(r);if(h[195]==null){bA.C5.iz++;var m=bA.C5.NL(r,h,!1);bA.C5.iz--;return m}var O=J.Dx(r,h[195][0]+5),e=J.Dx(r,h[195][0]+7),P=UTIF.LosslessJpegDecode(r),B=e*O,s=w.B(B*4);
for(var R=0;R<B;R++){var Y=R<<2,D=Y-R;s[Y]=P[D];s[Y+1]=P[D+1];s[Y+2]=P[D+2];s[Y+3]=255}return[{I0:new fE(0,0,e,O),data:s.buffer}]}else if(r[0]==0&&r[4]==48&&r[6]==1){var c=r,o=new PDFJS.Jbig2Image,H=[];
if(N)H.push({data:N,start:0,end:N.length});H.push({data:c,start:0,end:c.length});var P=o.parseChunks(H);
if(!F)for(var R=0;R<P.length;R++)P[R]=~P[R];var e=J.l(r,11),O=J.l(r,15),x=Math.ceil(e/8),Q=w.B(e*O*4);
for(var U=0;U<O;U++){var I=U*x;for(var l=0;l<e;l++){var Y=(U*e+l)*4,p=P[I+(l>>>3)]>>>7-(l&7)&1,j=p*255;
Q[Y]=j;Q[Y+1]=j;Q[Y+2]=j;Q[Y+3]=255}}return[{I0:new fE(0,0,e,O),data:Q.buffer}]}else{var o=new PDFJS.JpxImage;
o.parse(r);var e=o.width,O=o.height,T=o.tiles,V=o.componentsCount,E=new Uint8Array(e*O*4),_=new fE(0,0,e,O);
for(var o=0;o<T.length;o++){var f=T[o],S=f.width,L=f.height,y=S*L,$=f.items,Z=new fE(f.left,f.top,S,L),i=new Uint8Array(y*4);
if(V==1)for(var R=0;R<y;R++){var b=$[R],Y=R*4;i[Y]=b;i[Y+1]=b;i[Y+2]=b;i[Y+3]=255}else if(V==3)for(var R=0;
R<y;R++){var D=R*3,Y=R*4;i[Y]=$[D];i[Y+1]=$[D+1];i[Y+2]=$[D+2];i[Y+3]=255}else console.log("Unknown number of components: "+V);
w.L3(i,Z,E,_)}return[{I0:_,data:E.buffer}]}};bA.Sv={};bA.Sv.xs=function(r,N,F,h){if(h==null)h=[70,0,0,0];
var m=h[0]/100,B=0;if(r.length==1)return bA.UR(r[0][0],N,F,"webp",m);var O=J.xt,e=J.WX,P=new i6;O(P,B,"RIFF    WEBPVP8X");
B+=16;e(P,B,10);B+=4;e(P,B,18);B+=4;e(P,B,N-1);B+=3;e(P,B,F-1);B+=3;O(P,B,"ANIM");B+=4;e(P,B,6);B+=4;
P.cM(B,4);P.data[B+3]=255;J.yW(P,B+4,h[2]);B+=6;var s=[];for(var R=0;R<r.length;R++){s.push(r[R][0])}var Y=UPNG.encode.compress(s,N,F,m==1?0:Math.max(2,Math.floor(m*500)),[!1,!0,!0,0,!0]).frames;
function D(E,_,f,S){var l=E.r-8,p=E.size+8;f.cM(S,p);for(var R=0;R<p;R++)f.data[S+R]=_[l+R];return S+p}for(var R=0;
R<r.length;R++){O(P,B,"ANMF");B+=4;var c=B,l=0,p=0;B+=4;var o=Y[R],H=o.rect,x=[H.x>>>1,H.y>>>1,H.width-1,H.height-1,r[R][1]];
for(var Q=0;Q<5;Q++)e(P,B+3*Q,x[Q]);B+=15;P.cM(B,1);P.data[B]=1-o.blend<<1|o.dispose;B++;var U=new Uint8Array(bA.UR(o.img.buffer,H.width,H.height,"webp",1)),I=dy.ep(U.buffer).sub,j={};
for(var T=0;T<I.length;T++)j[I[T].$U]=I[T];if(j.VP8L)B=D(j.VP8L,U,P,B);else throw"e";var V=B-c-4;e(P,c,V);
if((V&1)==1){P.cM(B,1);B++}}e(P,4,B-8);return P.data.slice(0,B).buffer};(function(){var r=bA.pU.get("wasm/webp").buffer;
WebAssembly.instantiate(r).then(function(N){var F=N.instance.exports;bA.Sv.exp=F})}());bA.Sv.V9=function(r){var N=new Uint8Array(r),F=bA.Sv.a1J,h=null,m=dy.ep(r).sub,O={};
for(var R=0;R<m.length;R++)O[m[R].$U]=m[R];var e=O.ANIM,P=O.VP8L,B=O["VP8 "],s=O.VP8X;if(e==null){var Y,D;
if(B){Y=J.av(N,B.r+6);D=J.av(N,B.r+8)}else if(P){var c=J.Iy(N,P.r+1);Y=(c&(1<<14)-1)+1;D=(c>>>14&(1<<14)-1)+1}else throw"e";
var o=[F(h,r,{r:0,size:N.length},Y,D)];return o}var H=s.r,Y=1+(J.Iy(N,H+4)&16777215),D=1+(J.Iy(N,H+7)&16777215),x=[],Q=new fE(0,0,Y,D),U=w.B(Y*D*4);
for(var R=0;R<m.length;R++){var I=m[R];if(I.$U!="ANMF")continue;var l=[];for(var p=0;p<5;p++)l.push(J.Iy(N,I.r+p*3)&16777215);
var j=new fE(l[0]*2,l[1]*2,l[2]+1,l[3]+1),T=l[4],V=F(h,r,{r:I.r+16,size:I.size-16},Y,D),E=new Uint8Array(V.data),_=N[I.r+15];
if(_>>>1==0)w.i.vw("norm",E,j,U,Q,j,1);else w.L3(E,j,U,Q);x.push({Ct:"_a_"+x.length+","+T,I0:Q.clone(),data:U.buffer.slice(0)});
if((_&1)==1){w.T1(E,0);w.L3(E,j,U,Q)}}return x};bA.Sv.a1J=function(r,N,F,h,m){var O=bA.Sv.exp,e=O.memory,P=5e6+2*F.size+h*m*10;
bA.PN(O,P);var B=new Uint8Array(e.buffer),s=O.malloc(F.size);B.set(new Uint8Array(N,F.r,F.size),s);var Y=O.malloc(8),D=O.WebPDecodeARGB(s,F.size,Y,Y+4),c=J.Iy(B,Y),o=J.Iy(B,Y+4),H=c*o*4,x=w.B(H);
for(var R=0;R<H;R+=4){x[R]=B[D+R+1];x[R+1]=B[D+R+2];x[R+2]=B[D+R+3];x[R+3]=B[D+R]}O.WebPFree(D);O.free(Y);
O.free(s);return{I0:new fE(0,0,c,o),data:x.buffer}};bA.ar2=function(){function r(P,B,s,Y){var D=new Uint8Array(P[0][0]),c=new Uint32Array(D.buffer),o=[],H={},Q=24,U=0,T=0;
for(var R=0;R<c.length;R++){var x=c[R]&16777215;if(H[x]==null){H[x]=o.length;o.push(x);if(o.length>256){o=null;
break}}}if(o){Q=1;while(1<<Q<o.length)Q*=2;if(Q==2)Q=4}var I={YW:B,Nf:s,rD:1,UA:Q,ST:0,a2a:U},l=4*Math.floor((I.UA*I.YW+31)/32);
I.size=l*I.Nf+2;var p=new i6,j=o?(1<<Q)*4:0;J.xt(p,T,"BM");T+=2;J.WX(p,T,l*s+16+40+j);T+=4;J.WX(p,T,0);
T+=4;J.WX(p,T,54+j);T+=4;p.cM(T,40);J.WX(p,T,40);T+=4;e(p.data,T,I,l);T+=36;if(o){p.cM(T,j);var V=p.data;
for(var R=0;R<o.length;R++){var E=T+R*4,_=o[R]>>>16,f=o[R]>>>8&255,S=o[R]&255;V[E]=_;V[E+1]=f;V[E+2]=S}T+=j}p.cM(T,l*s);
if(Q==24)for(var L=0;L<s;L++){var y=T+(s-1-L)*l;for(var $=0;$<B;$++){var Z=(L*B+$)*4;p.data[y+$*3+2]=D[Z];
p.data[y+$*3+1]=D[Z+1];p.data[y+$*3+0]=D[Z+2]}}else if(Q==8)for(var L=0;L<s;L++){var y=T+(s-1-L)*l;for(var $=0;
$<B;$++){var Z=L*B+$,i=H[c[Z]&16777215];p.data[y+$]|=i}}else if(Q==4)for(var L=0;L<s;L++){var y=T+(s-1-L)*l;
for(var $=0;$<B;$++){var Z=L*B+$,i=H[c[Z]&16777215];p.data[y+($>>>1)]|=i<<4-($&1)*4}}else if(Q==1)for(var L=0;
L<s;L++){var y=T+(s-1-L)*l;for(var $=0;$<B;$++){var Z=L*B+$,i=H[c[Z]&16777215];p.data[y+($>>>3)]|=i<<7-($&7)}}T+=l*s+2;
return p.data.slice(0,T).buffer}function N(P){P=new Uint8Array(P);if(J.Iy(P,0)==40)return[F(P.buffer,0)];
var B=0,s=J.Mj(P,B,2);B+=2;if(s!="BM"){alert("Unsupported BMP format: "+s);return}var Y=J.Iy(P,B);B+=4;
B+=4;var D=J.Iy(P,B);B+=4;return[F(P.buffer,B,D)]}function F(P,B,s){P=new Uint8Array(P);var Y=J.Iy(P,B),D=O(P,B+4);
if(D.rD!=1)alert("unsupported number of color planes: "+D.rD);if(D.ST!=0&&D.ST!=1&&D.ST!=2&&D.ST!=3){alert("Unsupported BMP compression: "+D.ST);
return}B+=Y;var c=B,o=P;if(s==null)s=B;if(D.ST==1||D.ST==2){var H=m(P,s,D);D.UA=8;P=H;s=0}var x=4*Math.floor((D.UA*D.YW+31)/32),Q=D.YW,U=Math.abs(D.Nf),I=new Uint8Array(Q*U*4);
I.fill(255);if(D.UA==32)for(var l=0;l<U;l++){var p=s+(U-1-l)*x;for(var j=0;j<Q;j++){var T=(l*Q+j)*4;
I[T]=P[p+j*4+2];I[T+1]=P[p+j*4+1];I[T+2]=P[p+j*4+0];I[T+3]=P[p+j*4+3]}}else if(D.UA==24)for(var l=0;
l<U;l++){var p=s+(U-1-l)*x;for(var j=0;j<Q;j++){var T=(l*Q+j)*4;I[T]=P[p+j*3+2];I[T+1]=P[p+j*3+1];I[T+2]=P[p+j*3+0]}}else if(D.UA==16)for(var l=0;
l<U;l++){var p=s+(U-1-l)*x;for(var j=0;j<Q;j++){var T=(l*Q+j)*4,V=P[p+j*2+1]<<8|P[p+j*2];I[T]=(V>>>11)*(255/31);
I[T+1]=(V>>>5&63)*(255/63);I[T+2]=(V&31)*(255/31)}}else if(D.UA==8)for(var l=0;l<U;l++){var p=s+(U-1-l)*x;
for(var j=0;j<Q;j++){var T=(l*Q+j)*4,E=P[p+j];I[T]=o[c+4*E+2];I[T+1]=o[c+4*E+1];I[T+2]=o[c+4*E+0]}}else if(D.UA==4)for(var l=0;
l<U;l++){var p=s+(U-1-l)*x;for(var j=0;j<Q;j++){var T=(l*Q+j)*4,E=P[p+(j>>1)];E=E>>4-4*(j&1);E=E&15;
I[T]=o[c+4*E+2];I[T+1]=o[c+4*E+1];I[T+2]=o[c+4*E+0]}}else if(D.UA==1)for(var l=0;l<U;l++){var p=s+(U-1-l)*x;
for(var j=0;j<Q;j++){var T=(l*Q+j)*4,_=P[p+(j>>3)];_=_>>7-(j&7);_=_&1;I[T]=o[c+4*_+2];I[T+1]=o[c+4*_+1];
I[T+2]=o[c+4*_+0]}}else throw"Unknown bit depth "+D.UA;if(D.Nf<0){var f=new Uint32Array(I.buffer),S=U>>>1;
for(var l=0;l<S;l++){var L=l*Q,y=(U-l-1)*Q;for(var j=0;j<Q;j++){var $=f[L+j];f[L+j]=f[y+j];f[y+j]=$}}}return{I0:new fE(0,0,Q,U),data:I.buffer}}function h(P,R){return P>>>4-((R&1)<<2)&15}function m(P,B,s){var Y=s.YW,D=Math.abs(s.Nf),c=new Uint8Array(Y*D),o=0,H=0,R=0;
while(H<D){var x=P[B++],Q=P[B++],U=H*Y+o;if(x>0){if(s.UA==4)for(R=0;R<x;R++){c[U+R]=h(Q,R)}else for(R=0;
R<x;R++){c[U+R]=Q}o+=x}else if(x==0&&Q==0){H++;o=0}else if(x==0&&Q==1){break}else if(x==0&&Q==2){o+=P[B++];
H+=P[B++]}else{var I=Q;if(s.UA==4){for(R=0;R<Q;R++){c[U+R]=h(P[B+(R>>>1)],R)}I=Math.ceil(Q/2)}else{for(R=0;
R<Q;R++){c[U+R]=P[B+R]}}if((I&1)!=0)I++;B+=I;o+=Q}}return c}function O(P,B){var s=J.dk,Y=J.Iy,D=J.av,c={};
c.YW=s(P,B);B+=4;c.Nf=s(P,B);B+=4;c.rD=D(P,B);B+=2;c.UA=D(P,B);B+=2;c.ST=Y(P,B);B+=4;c.size=Y(P,B);B+=4;
var o=s(P,B);B+=4;var H=s(P,B);B+=4;c.a2a=Y(P,B);B+=4;B+=4;return c}function e(P,B,s,Y){J.zO(P,B,s.YW);
B+=4;J.zO(P,B,s.Nf);B+=4;J.ZV(P,B,s.rD);B+=2;J.ZV(P,B,s.UA);B+=2;J.zO(P,B,s.ST);B+=4;J.zO(P,B,s.size);
B+=4;J.zO(P,B,2834);B+=4;J.zO(P,B,2834);B+=4;J.zO(P,B,s.a2a);B+=4;B+=4}return{V9:N,xs:r,aqz:F}}();bA.sR={};
bA.sR.xs=function(r,N,F,h){if(h==null)h=[100,!1,0,0,0,0];var m=[],O=[],e=N*F*4,x=null;for(var P=0;P<r.length;
P++){var B=new Uint8Array(r[P][0].slice(0));for(var R=0;R<e;R+=4){var s=B[R+3]=B[R+3]>127?255:0;if(s==0)B[R]=B[R+1]=B[R+2]=0}m.push(B.buffer);
O.push(r[P][1])}var Y=Math.round(2+254*h[0]/100),D=UPNG.encode.compress(m,N,F,Y,[!0,!1,!1,8,!1,h[1]]),c=D.plte,o=new Uint8Array(4),H=new Uint32Array(o.buffer);
for(var R=0;R<c.length;R++){H[0]=c[R];var Q=o[0];o[0]=o[2];o[2]=Q;c[R]=H[0];if(H[0]==0)x=R}while(c.length<256)c.push(0);
var U=new Uint8Array(2e3+N*F*r.length),I=h[3],l={palette:c};if(I!=1)l.loop=I==0?0:I-1;var p=new GifWriter(U,N,F,l);
for(var R=0;R<r.length;R++){var j=D.frames[R],T=j.rect,V=j.blend,E=j.dispose,_=Math.round(O[R]/10);if(_<2)_=2;
p.addFrame(T.x,T.y,T.width,T.height,j.img,{transparent:x,disposal:E+1,delay:_})}return U.slice(0,p.end()).buffer};
bA.sR.V9=function(r){var N=Date.now(),F=[],h=UGIF.decode(r),m=UGIF.toRGBA8(h),O=new fE(0,0,h.width,h.height);
for(var R=0;R<m.length;R++){var e=h.frames[R];F.push({I0:O.clone(),Ct:"_a_frm"+R+","+e.delay*10,data:m[R]})}return F};
bA.lH={};bA.lH.xs=function(r,N,F,h){console.log(r);if(N>256||F>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var m=Math.min(N,256),O=Math.min(F,256),e=new fE(0,0,m,O),P=w.B(e.W()*4),B=new fE(0,0,N,F),s=new Uint8Array(r[0][0]);
w.L3(s,B,P,e);r[0][0]=P.buffer;N=m;F=O}var Y=new i6,D=0,c=h&&h[0]==!0;J.yW(Y,D,0);D+=2;J.yW(Y,D,c?2:1);
D+=2;J.yW(Y,D,1);D+=2;var o=new Uint8Array(bA.yU("png").xs(r,N,F));Y.cM(D,16);Y.data[D]=N==256?0:N;D++;
Y.data[D]=F==256?0:F;D++;D+=2;J.yW(Y,D,c?Math.round(N/2):1);D+=2;J.yW(Y,D,c?Math.round(F/2):32);D+=2;
J.WX(Y,D,o.length);D+=4;J.WX(Y,D,6+16);D+=4;Y.cM(D,o.length);for(var R=0;R<o.length;R++)Y.data[D+R]=o[R];
D+=o.length;var H=new Uint8Array(D);for(var R=0;R<D;R++)H[R]=Y.data[R];return H.buffer};bA.lH.V9=function(r){r=new Uint8Array(r);
var N=4,F=J.av(r,N);N+=2;var h=[];for(var R=0;R<F;R++){var m=bA.lH.aaD(r,N+R*16),O=r.buffer.slice(m.offset,m.offset+m.size),e=bA.Cn(O);
e=e?e:"bmp";if(e=="png"){var P=bA.yU(e),B=P.V9(O);m.I4=B[0]}else{var s=bA.yU("BMP").aqz(O,0),O=w.B(m.YW*m.Nf*4);
w.L3(new Uint8Array(s.data),new fE(0,0,s.I0.e,s.I0.n),O,new fE(0,m.Nf,m.YW,m.Nf));s.data=O.buffer;s.I0.n=m.Nf;
m.I4=s}h.push(m)}h.sort(function(Y,D){if(Y.YW!=D.YW)return Y.YW-D.YW;return Y.ab4-D.ab4});return[h.pop().I4]};
bA.lH.aaD=function(r,N){var F={};F.YW=r[N];N++;if(F.YW==0)F.YW=256;F.Nf=r[N];N++;if(F.Nf==0)F.Nf=256;
F.aqb=r[N];N++;N++;F.aq_=J.av(r,N);N+=2;F.ab4=J.av(r,N);N+=2;F.size=J.Iy(r,N);N+=4;F.offset=J.Iy(r,N);
N+=4;return F};bA.pl={};bA.pl.V9=function(r){var N=Date.now(),h,D=!0;if(w.raw.Zp(r.byteLength))return[w.raw.amq(r)];
var F=UTIF.decode(r);if(F[0].t33421)h=F[0];else if(F[0].subIFD&&F[0].t271&&F[0].t271[0]=="Hasselblad"){h=F[0].subIFD[0];
h.t33421=[2,2]}else if(F[0].subIFD&&F[0].subIFD[0].t33421){h=F[0].subIFD[0];if(h.t50706==null){if(h.t258[0]==8)h.t258[0]=12}}else if(F[0].subIFD&&F[0].subIFD[0]&&F[0].subIFD[0].t262&&F[0].subIFD[0].t262[0]==34892)h=F[0].subIFD[0];
else if(F[0].subIFD&&F[0].subIFD[1]&&F[0].subIFD[1].t33421)h=F[0].subIFD[1];else if(F[0].subIFD&&F[0].subIFD[2]&&F[0].subIFD[2].t33421)h=F[0].subIFD[2];
else if(F[3]&&F[3].t50648){var m=F[0].exifIFD,O=m.makerNote;h=F[3];var e=O.t224[1],P=O.t224[2];h.t256=[e];
h.t257=[P];h.t258=[16];h.t259=[7];h.t262=[32803];h.t277=[1];h.t33421=[2,2];var B=h.t50656[0],s=w.raw.UU[B];
if(s==null)throw"e";h.t33422=s}if(h){UTIF.decodeImage(r,h,F);for(var Y in F[0])if((Y[0]=="t"||Y[0]=="e"||Y[0]=="d")&&h[Y]==null)h[Y]=F[0][Y];
h.NG=F[0].t274?F[0].t274[0]:1;return[h]}var c=1/256;for(var R=0;R<F.length;R++)if(F[R].t258&&F[R].t258[0]==16&&F[R].t277&&F[R].t277[0]==1){}else D=!1;
if(D){var o=0,H=0,x=0;for(var R=0;R<F.length;R++){UTIF.decodeImage(r,F[R],F);var Q=F[R].data;for(var U=0;
U<Q.length;U+=2){var I=Q[U+1]<<8|Q[U];if(I>o)o=I;H+=I;x++}}c=1/256*65535/(.5*o+.5*(2*H/x))}var l=[];
for(var R=0;R<F.length;R++){var p=F[R],j=72;UTIF.decodeImage(r,p,F);var T=p.t282,V=p.t296;if(T!=null&&V!=null){j=T[0][0]/T[0][1];
if(V[0]==3)j=Math.round(j/2.54)}if(p.width==null)continue;var E=UTIF.toRGBA8(p,c).buffer,_=dq.k8(p);
console.log(p);l.push({I0:new fE(0,0,p.width,p.height),data:E,EP:j,fH:_,FG:p.t34675?p.t34675.slice(0):null})}return l};
bA.pl.xs=function(r,N,F,h){if(h==null)h=[!1];var m={},O=r[0];if(O[3]!=null&&h[0])m=dq.qL(O[3]);if(O[2]!=null){m.t282=m.t283=[[Math.round(O[2]),1]];
m.t296=[2]}return UTIF.encodeImage(O[0],N,F,m)};bA.kW={};bA.kW.mU=!0;bA.kW.V9=function(r,N){fx.ep(r,N)};
bA.kW.a17=function(r,N,F,h){if(h==null)h=[!1,!1,!1,!1];if(!h[0])r.G9();var m=new i6,O=fx.u_(r,m,h);return[m.data.buffer,O]};
bA.kW.xs=function(r,N,F,h){var m=bA.kW.a17(r,N,F,h),O=m[0],e=m[1];return O.byteLength==e?O:O.slice(0,e)};
bA.GM={};bA.GM.mU=!0;bA.GM.V9=function(r,N){var F=pako.inflate(new Uint8Array(r)),h=J.Dx(F,0),m=J.Dx(F,2),O=4;
N.e=J.l(F,O);O+=4;N.n=J.l(F,O);O+=4;N.buffer=w.B(N.e*N.n*4);var e=J.Dx(F,O);O+=2;O+=4;for(var P=0;P<e;
P++){var B=N.lc(),H=0,i=1,b=2,G=3,g=0;N.g.push(B);var s=J.l(F,O);O+=4;var Y=O,D=J.Dx(F,Y);Y+=2;var c=J.H3(F,Y,D);
Y+=D;B.a6(c);var o=F[Y];Y++;if(o!=0&&o!=1)throw o;B.rect.x=J.YC(F,Y);Y+=4;B.rect.y=J.YC(F,Y);Y+=4;B.rect.e=J.l(F,Y);
Y+=4;B.rect.n=J.l(F,Y);Y+=4;if(h>3){H=J.YC(F,Y);Y+=4}B.opacity=Math.round(255*F[Y]/100);Y++;var x=F[Y];
Y++;B.Hb(x!=0);B.$j="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[F[Y]];
Y++;var Q=F[Y];Y++;if(Q)B.add.lspf=1<<31;if(h>3){var U=J.Dx(F,Y);Y+=2;if(U!=0){var I=JSON.parse(J.H3(F,Y,U));
Y+=U;var l=I.text,p=I.textSettings,j=p.font,T=p.size,V=p.padding,E=parseInt(p.color.slice(1),16);B.add.lnsr="rend";
B.add.TySh=gQ.WW(0,0);B.add.TySh.A2=new fE(0,0,100,100);var _=B.add.TySh.A=new hc,f=B.rect.e/2,S=B.rect.n/2;
_.translate(-f,-S);_.rotate(-H*Math.PI/180);_.translate(f,S);_.translate(B.rect.x+V,B.rect.y+V);var L=B.add.TySh.sl;
gQ.l7(L,1);gQ.q2(L,[0,0,B.rect.e-V*2,B.rect.n]);gQ.BY(L,0,l);var y=gQ.pz(L,0,1);y.AY.FontSize=T;y.AY.FillColor={Type:1,Values:[1,(E>>>16&255)/255,(E>>>8&255)/255,(E>>>0&255)/255]};
if(p.bold)j+="-Bold";gQ.dV(y,j);y.hS.Justification=["left","right","center"].indexOf(p.align);gQ.sW(L,0,l.length,y)}}var $=J.l(F,Y);
Y+=4;if($!=B.rect.W()*4){for(var R=B.rect.e;R>B.rect.e/2;R--){var Z=$/(R*4);if(Z==Math.round(Z)){B.rect.e=R;
B.rect.n=Z;break}}}B.buffer=w.B(B.rect.W()*4);if(h>3){i=0;b=1;G=2;g=3}for(var R=0;R<$;R+=4){B.buffer[R]=F[Y+R+i];
B.buffer[R+1]=F[Y+R+b];B.buffer[R+2]=F[Y+R+G];B.buffer[R+3]=F[Y+R+g]}Y+=$;var u=J.l(F,Y);Y+=4;if(u==0&&h>3){O+=s;
continue}var A=F[Y];Y++;var a=J.Dx(F,Y);Y+=2;if(u!=0){B.v=new C.Z8;B.v.rect=B.rect.clone();B.v.channel=w.B(B.rect.W());
for(var R=0;R<u;R+=4)B.v.channel[R>>>2]=F[Y+R+1];Y+=u}if(A!=0){var d=JSON.parse(an.default);B.add.lmfx=d;
for(var R=0;R<an.order.length;R++)d[an.NR[R]]={t:"VlLs",v:[]};var K={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var R=0;R<A;R++){var n=J.Dx(F,Y),t=Y+n+4,X=F.slice(Y,t),aK=F[Y+2];Y+=3;var fg=K[aK+""],k=JSON.parse(an.O7[fg]);
d[an.NR[fg]].v.push({t:"Objc",v:k});if(fg!=0){k.Md.v.BlnM=g6.Cp("norm");k.Opct.v.val=F[Y];Y++;if(fg==9||fg==2){k.Dstn.v.val=F[Y+1];
Y+=2}else Y+=2;k.blur.v.val=Math.round(F[Y]*1.2);Y++;if(fg==9||fg==2){k.uglg.v=!1;k.lagl.v.val=180-J.Dx(F,Y);
Y+=2}k.Clr.v=w.X.QA({Z:F[Y+1],z:F[Y+2],J:F[Y+3]})}else{k.hglM.v.BlnM=k.sdwM.v.BlnM=g6.Cp("norm");Y+=2;
var hG=F[Y++],eE=F[Y++];k.blur.v.val=Math.round(Math.sqrt(eE*hG)*1.3);k.srgR.v.val=Math.round(100*hG/eE);
k.uglg.v=!1;k.lagl.v.val=180-J.Dx(F,Y);Y+=2;k.hglO.v.val=F[Y++];k.hglC.v=w.X.QA({Z:F[Y+1],z:F[Y+2],J:F[Y+3]});
Y+=4;k.sdwO.v.val=F[Y++];k.sdwC.v=w.X.QA({Z:F[Y+1],z:F[Y+2],J:F[Y+3]});Y+=4}Y=t}}if(Y-O<s){var hW=J.l(F,Y),db=0;
Y+=4;Y++;var D=J.Dx(F,Y);Y+=2;var l=J.H3(F,Y,D);Y+=D;l=l.replace(/\r/g,"\n");var D=J.Dx(F,Y);Y+=2;var j=J.H3(F,Y,D);
Y+=D;var T=J.Dx(F,Y);Y+=2;var hh=B.rect.x,hI=B.rect.e;if(hW&4)db=1;if(hW&2)db=2;var by=Math.round(T*.4);
if(db==0||db==2)hI+=by;if(db==1||db==2){hI+=by;hh-=by}B.add.lnsr="rend";B.add.TySh=gQ.WW(0,0);B.add.TySh.A2=new fE(0,0,100,100);
B.add.TySh.A=new hc(1,0,0,1,hh,B.rect.y+T*.25);var L=B.add.TySh.sl;gQ.l7(L,1);gQ.q2(L,[0,0,hI,B.rect.n]);
gQ.BY(L,0,l);var y=gQ.pz(L,0,1);y.AY.FontSize=T;y.AY.FillColor={Type:1,Values:[1,F[Y+1]/255,F[Y+2]/255,F[Y+3]/255]};
Y+=4;if(F[Y+5])j+="-Bold";if(F[Y+6])j+="-Italic";gQ.dV(y,j);y.hS.Justification=db;Y+=8;gQ.sW(L,0,l.length,y)}O+=s}};
bA.ZW={};bA.ZW.mU=!0;bA.ZW.V9=function(r,N){j6.ep(r,N)};bA.ee={};bA.ee.mU=!0;bA.ee.V9=function(r,N){gE.ep(r,N)};
bA.xl={};bA.xl.mU=!0;bA.xl.V9=function(r,N){d2.ep(r,N)};bA.UN={};bA.UN.mU=!0;bA.UN.V9=function(r,N){fb.ep(r,N)};
bA.Ah={};bA.Ah.mU=!0;bA.Ah.V9=function(r,N){cL.ep(r,N)};bA.Ds={};bA.Ds.mU=!0;bA.Ds.V9=function(r,N){d4.ep(r,N)};
bA.ud={};bA.ud.mU=!0;bA.ud.xs=function(r,N,F,h,m){if(h==null)h=[!0,!1,!1,!1,!0,!0];var O=a5.uZ(r,{cl:h[0],hidden:h[1],at7:h[2],aaU:h[3],names:h[4],avL:h[5],akk:N,ao7:F},m.FN);
return O};bA.ud.V9=function(r,N,F){a5.ep(r,N,F)};bA.H7={};bA.H7.mU=!0;bA.H7.V9=function(r,N){var F=150,h=new hc(1,0,0,-1,0,0);
h.scale(F/72,F/72);N.EP=F;var m=new jW(N,h,!0);FromPS.Parse(r,m)};bA.Zx={};bA.Zx.mU=!0;bA.Zx.xs=function(r,N,F,h,m){if(h==null)h=["",100,!1,!1,!1,0];
h[6]=["jpg"];var O=new ToPDF;cJ.uZ(r,h,O,m.FN,N,F);return O.buffer};bA.Zx.V9=function(r,N,F){var h=2;
while(!0){var m=h*72,O=new hc(1,0,0,-1,0,0);O.scale(m/72,m/72);N.EP=m;var e=new jW(N,O,!0);FromPDF.Parse(r,e);
var P=Math.max(N.e,N.n);if(F&&P<Math.max(F[0],F[1])){N.g=[];var B=h;while(P*(h/B)<Math.max(F[0],F[1]))h++}else break}};
bA.O6={};bA.O6.mU=!0;bA.O6.V9=function(r,N){var F=72,h=new hc(1,0,0,1,0,0);h.scale(F/72,F/72);N.EP=F;
var m=new jW(N,h,!1);FromWMF.Parse(r,m)};bA.o1={};bA.o1.J3=!0;bA.o1.mU=!0;bA.o1.xs=function(r,N,F,h,m){if(h==null)h=["",100,!1,!1,!1,0];
h[6]=[];var O=new ToEMF;cJ.uZ(r,h,O,m.FN);return O.buffer};bA.o1.V9=function(r,N){var F=72,h=new hc(1,0,0,1,0,0);
h.scale(F/72,F/72);N.EP=F;var m=new jW(N,h,!1);FromEMF.Parse(r,m)};bA.kc={};bA.kc.mU=!0;bA.kc.V9=function(r,N){return cE.ep(r,N)};
bA.Y5={};bA.Y5.V9=function(r,N){var F=gi.ep(r),h=new Uint8Array(r),m=0,O,e,P,B,s,Y,D,c,o=0,H=0,x=0,Q=0,U=0;
for(var I=0;I<F.sub.length;I++){var l=F.sub[I],m=l.r;if(l.$U=="BMHD"){var j=[];for(var R=0;R<4;R++)j[R]=J.Dx(h,m+2*R);
m+=8;B=j[2];s=j[3];e=j[0];P=j[1];O=w.B(e*P*4);Y=h[m++];D=h[m++];c=h[m++]}else if(l.$U=="CMAP")o=m;else if(l.$U=="CAMG"){var T=J.l(h,m);
H=T&32768,x=T&4,Q=T&2048;U=T&128}else if(l.$U=="BODY"){var V=e+15>>>4<<1,E=Y+D,_=w.B(V*P*E),y,$,Z;j1.YV(h,m,l.size,_,0,_.length);
var f=Y-2,S=(1<<f)-1,L=Math.round(255/S);for(var s=0;s<P;s++)for(var B=0;B<e;B++){var i=0;for(var b=0;
b<E;b++){var G=(s*E+b)*V*8+B,g=_[G>>>3]>>>7-(G&7)&1;i|=g<<b}var u=i>>>Y,i=i&(1<<Y)-1,R=s*e+B,A=R<<2;
if(o!=0){if(Q!=0&&i>>>f!=0){var a=i>>>f,d=(i&S)*L;if(a==1)Z=d;else if(a==2)y=d;else if(a==3)$=d}else{var d=o+i*3;
y=h[d+0];$=h[d+1];Z=h[d+2]}}else{y=i>>>0&255;$=i>>>8&255;Z=i>>>16&255}O[A+0]=y;O[A+1]=$;O[A+2]=Z;O[A+3]=255}}}return[{I0:new fE(0,0,e,P),data:O.buffer}]};
bA.L$={};bA.L$.mU=!1;bA.L$.xs=function(r,N,F,h){var m=r[0][4],O=new Uint8Array(r[0][0]),e=2,P=m?!0:!1,B=P?4:3,s=new Uint8Array(N*F*B);
for(var Y=0;Y<F;Y++)for(var D=0;D<N;D++){var c=Y*N+D<<2,o=((F-Y-1)*N+D)*B;s[o]=O[c+2];s[o+1]=O[c+1];
s[o+2]=O[c+0];if(P)s[o+3]=m[0][Y*N+D]}if(!0){var H=s.length,x=0,Q=new Uint8Array(H*2),U=0,I=0,l=N*B;
while(I<H){var p=I,j=0,T=l*(Math.floor(I/l)+1);while(p<T&&j<128){var V=!0;for(var R=0;R<B;R++)V=V&s[I+R]==s[p+R];
if(!V)break;p+=B;j++}if(j==1){var E=1;while(E<128&&I+(E+1)*B<T){var V=!0,f=I+E*B;for(var R=0;R<B;R++)V=V&s[f+R]==s[f+B+R];
if(V)break;E++}Q[U++]=E-1;for(var S=0;S<E;S++)for(var R=0;R<B;R++)Q[U++]=s[I++]}else{Q[U++]=127+j;for(var R=0;
R<B;R++)Q[U+R]=s[I+R];U+=B;I+=B*j;x+=j}}s=Q.slice(0,U);e+=8}var L=new Uint8Array(18+s.length+26);L[2]=e;
J.ZV(L,12,N);J.ZV(L,14,F);L[16]=B*8;L[17]=B==4?8:0;L.set(s,18);J.KZ(L,18+s.length+8,"TRUEVISION-XFILE.");
return L.buffer};bA.L$.V9=function(r){var N=new Uint8Array(r),F=0,h=N[0],m=N[1],O=N[2],e=N[4]*256+N[3],P=N[6]*256+N[5],B=N[7],s=N[9]*256+N[8],Y=N[11]*256+N[10],D=N[13]*256+N[12],c=N[15]*256+N[14],o=N[16],H=N[17],x=H>>>4,Q=J.Mj(N,18,h),U=w.B(D*c*4),F=18+h+(P*B>>>3),I=new Uint8Array(N.buffer,F);
if(O>3){var l=0,p=N,j=new Uint8Array(D*c*o>>>3),T=F,V=0,E=N.length,_=o>>>3;while(V<j.length){var j_=p[T];
T++;if(j_<128)for(var R=0;R<j_+1;R++){for(var f=0;f<_;f++){j[V]=p[T];V++;T++}}else{for(var R=0;R<j_-127;
R++){for(var f=0;f<_;f++){j[V]=p[T+f];V++}}T+=_}}O-=8;I=j;F=T}else F+=D*c*o>>>3;var S=new Uint8Array(4),L=bA.L$.a4V;
for(var y=0;y<c;y++)for(var $=0;$<D;$++){var Z=(x&2)==0?(c-y-1)*D+$:y*D+$,i=y*D+$,b,G,g,u=255,A=Z*o>>>3;
if(O==1){var a=0;if(o==8)a=I[A];else throw"e";L(N,18+h+e+(a*B>>>3),B,S);b=S[0];G=S[1];g=S[2];u=S[3]}else if(O==2){L(I,A,o,S);
b=S[0];G=S[1];g=S[2];u=S[3]}else if(O==3){if(o==8)b=G=g=I[A];else throw"e"}var d=i*4;U[d]=b;U[d+1]=G;
U[d+2]=g;U[d+3]=u}var S={I0:new fE(0,0,D,c),data:U.buffer,Ct:Q};if(w._p(U)){var K=w.B(D*c);w.Pw(U,K,3);
w.T1(U,4278190080,16777215);S.O0=[K]}return[S]};bA.L$.a4V=function(r,N,F,h){var m,O,e,P=255;if(F==24||F==32){e=r[N];
O=r[N+1];m=r[N+2];if(F==32)P=r[N+3]}else if(F==16){var B=r[N+1]<<8|r[N+0];m=B>>>10&31;O=B>>>5&31;e=B>>>0&31;
m=Math.round(m*(255/31));O=Math.round(O*(255/31));e=Math.round(e*(255/31))}else throw"e";h[0]=m;h[1]=O;
h[2]=e;h[3]=P};bA.afM=function(){var r,N=[],F=!1;function h(e,P,B,s){r=B;N.push(e,s);m()}function m(){if(F||N.length==0)return;
F=!0;bA.ave(N.shift(),"image/avif",O)}function O(e){r(null,[e],N.shift());F=!1;m()}return{mU:!1,xH:!0,V9:h}}();
bA.alC=function(){var r,N=[],F=!1,h,m,O,e,P,B;function s(o,H,x,Q){r=x;N.push(o,Q);Y()}function Y(){if(F||N.length==0)return;
F=!0;h=document.createElement("canvas");m=h.getContext("2d");O=document.createElement("video");var o="data:"+"video/mp4"+";base64,"+bA.oK(N.shift());
O.src=o;O.muted=!0;O.currentTime=0;O.addEventListener("canplay",D,!1);O.addEventListener("timeupdate",c,!1)}function D(o){O.removeEventListener("canplay",D);
e=h.width=O.videoWidth;P=h.height=O.videoHeight;B=[];O.play()}function c(o){var H=10;m.drawImage(O,0,0);
B.push({Ct:"_a_"+B.length+","+Math.round(1e3/H),I0:new fE(0,0,e,P),data:m.getImageData(0,0,e,P).data.buffer});
var x=O.currentTime+1/H;if(x<O.duration)O.currentTime=x;else{r(null,B,N.shift());O.removeEventListener("timeupdate",c);
F=!1;Y();B=null}}return{mU:!1,xH:!0,V9:s}}();bA.TB={};bA.TB.V9=function(r){var N=new Uint8Array(r),F=0,h=112,m=42,O=J.Iy,Y;
F+=8;var e=N[F];F++;if(e!=m)throw"e";var P=O(N,F);F+=4;var B=J.sn(N,F,P);F+=P*2;var s=[];while(F<N.length){Y=O(N,F);
F+=4;if(Y!=h)throw Y;F+=4;Y=N[F];F++;if(Y!=m)throw Y;var D=O(N,F);F+=4;var c=N[F];F++;if(c!=m){F-=5;
D=O(N,F);F+=8;Y=N[F];F++;if(Y!=m)throw Y}var o=O(N,F)*2;F+=4;if(D>0)s.push(F+o);F+=o+D}var H=new DOMParser,x=H.parseFromString(B,"image/svg+xml").firstChild.firstChild,Q=[];
bA.TB.V5(x,N,s,Q);return Q};bA.TB.V5=function(r,N,F,h){var m=r.firstChild.firstChild;if(m.tagName=="Image"){var O=m.getElementsByTagName("ImageDescription")[0],e=O.children[0].children,P=O.children[1].children,B=F.shift(),s=[];
for(var R=0;R<P.length;R++)s.push(parseInt(P[R].getAttribute("NumberOfElements")));while(s.length>3)s[2]*=s.pop();
var Y=e.length,D=s[0],c=s[1],o=s[2],H=parseInt(P[0].getAttribute("BytesInc"));for(var x=0;x<o;x++){var Q=w.B(D*c*4);
w.T1(Q,4278190080);for(var U=0;U<Y;U++){var I=w.B(D*c);if(H==1)for(var l=0;l<I.length;l++)I[l]=N[B+l];
else if(H==2)for(var l=0;l<I.length;l++)I[l]=Math.min(255,(N[B+l*2+1]<<8|N[B+l*2])>>>2);else throw H;
if(U!=3)w.vr(I,Q,U);if(Y==1){w.vr(I,Q,1);w.vr(I,Q,2)}B+=D*c*H}h.push({I0:new fE(0,0,D,c),data:Q.buffer})}}else{var p=r.children,j=0;
while(j<p.length&&p[j].tagName!="Children")j++;if(j==p.length)throw"e";p=p[j].children;for(var T=0;T<p.length;
T++)bA.TB.V5(p[T],N,F,h)}};bA.Uk={};bA.Uk.V9=function(r){var N=new Uint8Array(r),F=0,h={},Y=1e9;for(var R=0;
R<306;R++){var m=J.Mj(N,F,8).trim(),O=J.Mj(N,F+9,71).split("/")[0].trim();h[m]=O;F+=80;if(m=="END"){F=Math.ceil(F/2880)*2880;
break}}var e=parseInt(h.NAXIS1),P=parseInt(h.NAXIS2),B=e*P,s=parseInt(h.BITPIX),D=-1e9,c=new Float32Array(B),o=new Float32Array(r,F,r.byteLength-F>>>2);
for(var R=0;R<B;R++){var H=R<<2,x=R<<1;if(s==-32){var Q=N[F+H+0];N[F+H+0]=N[F+H+3];N[F+H+3]=Q;var Q=N[F+H+1];
N[F+H+1]=N[F+H+2];N[F+H+2]=Q;c[R]=o[R]}else if(s==16){c[R]=J.av(N,F+x)}else throw s;var U=c[R];if(U<Y)Y=U;
if(U>D)D=U}var I=w.B(B*4),l=1/D;for(var p=0;p<P;p++)for(var j=0;j<e;j++){var R=p*e+j,T=(P-p-1)*e+j,H=T<<2,U=c[R]*l;
I[H]=I[H+1]=I[H+2]=255*U;I[H+3]=255}return[{I0:new fE(0,0,e,P),data:I,Ct:h.OBJECT}]};bA.DB={};bA.DB.V9=function(r){var N=new Uint8Array(r),F=16,h=J.Mj(N,F,4),O=32,U=0,I=0,l=!1,G;
F+=4;var m=J.Mj(N,F,8);F+=8;while(N[F+O-1]==0)O--;var e=J.Mj(N,F,O);F+=32;var P=J.Mj(N,F,4);F+=4;F+=20;
var B=J.l(N,F);F+=4;var s=J.l(N,F);F+=4;var Y=J.l(N,F);F+=4;var D=J.l(N,F);F+=4;var c=J.l(N,F);F+=4;
var o=J.l(N,F);F+=4;var H="FujiFilm "+e,x=[0,1,1,2];if(H=="FujiFilm X10"){H="FujiFilm FinePix X10";x=[2,1,1,0]}var Q={t271:["FujiFilm"],t272:[H],t277:[1],t33421:[2,2],t33422:x,NG:1};
F=Y;var p=[],j=J.Dx,T=J.l(N,F);F+=4;for(var R=0;R<T;R++){var V=j(N,F);F+=2;var E=j(N,F);F+=2;if(V==256){I=j(N,F);
U=j(N,F+2)}else if(V==272){p=[j(N,F),j(N,F+2)]}else if(V==273){p.push(j(N,F),j(N,F+2))}else if(V==304){l=!(N[F]>>>7)}else if(V==305){var _=Math.round(Math.sqrt(E)),f=[];
for(var S=0;S<E;S++)f.push(N[F+S]);f.reverse();Q.t33421=[_,_];Q.t33422=f}else if(V==12272){var L=j(N,F),y=j(N,F+2),$=j(N,F+6);
Q.t50728=[L/y,1,L/$]}F+=E}var Z=U<I,i=N.slice(c,c+o),b=Math.round(o*8/(U*I));if(i[0]==73&&i[1]==73&&i[2]==42){G=UTIF.decode(i.buffer)[0].fujiIFD;
b=G.t61443[0];var g=G.t61454,u=G.t61450;if(u)Q.t50714=u;if(g)Q.t50728=[g[0]/g[1],1,g[0]/g[2]];var A=G.t61447[0];
i=i.slice(A,A+G.t61448[0])}var o=i.length,a=o*8<U*I*b;if(a){console.log("compressed");var d=Q.t33422,K=~~Math.sqrt(d.length),n=[];
for(var R=0;R<K;R++)n[R]=d.slice(R*K,R*K+K);i=new Uint8Array(UTIF._decompressRAF(i,n).buffer);o=i.length}function t(hG,eE,hW){hW=hW<<8-(eE&7);
var hh=eE>>>3;hG[hh]|=hW>>>16;hG[hh+1]|=hW>>>8;hG[hh+2]|=hW}var X=o*8/(U*I);if(X==16)for(var R=0;R<o;
R+=2){var aK=i[R];i[R]=i[R+1];i[R+1]=aK}else if(X==14){for(var R=0;R<o;R+=4){var aK=i[R];i[R]=i[R+3];
i[R+3]=aK;aK=i[R+1];i[R+1]=i[R+2];i[R+2]=aK}}else if(X==12)for(var R=0;R<o;R+=3){var fg=i[R+2]<<16|i[R+1]<<8|i[R+0];
fg=fg>>>12|(fg&4095)<<12;i[R]=fg>>>16&255;i[R+1]=fg>>>8&255;i[R+2]=fg&255}if(Z)i=bA.DB.a2q(i,U,I);var k=Z?2:1;
U*=k;Q.t256=[U];Q.t257=[I];Q.t258=[b];Q.t50719=[p[1],p[0]*k];Q.t50720=[p[3],p[2]*k];Q.width=U;Q.height=I;
Q.data=new Uint8Array(i.buffer);return[Q]};bA.DB.a2q=function(r,N,F){r=new Uint16Array(r.buffer);var h=new Uint16Array(N*F*2);
for(var m=0;m<F;m+=2)for(var O=0;O<N;O++){var e=m*N+O,P=e*2,B=r[e],s=r[e+N];h[P+1]=h[P+2*N]=s;if(((m>>>1)+O&1)==0){h[P]=B;
h[P+2*N+1]=r[e+1]}else{h[P]=r[e-1];h[P+2*N+1]=B}}return h};bA.ct={};bA.ct.J3=!0;bA.ct.xs=function(r,N,F,h){var m=new Uint8Array(r[0][0]),O=N*F,e=[1,3,4][h[0]],P=8+8*h[1],B=h[2];
if(e==1){var s=new Uint8Array(N*F);w.Pw(m,s,0);m=s}if(e==3){var s=new Uint8Array(N*F*3);for(var R=0;
R<O;R++){var Y=R*4,D=R*3;s[D]=m[Y];s[D+1]=m[Y+1];s[D+2]=m[Y+2]}m=s}if(P==16){var c=m.length,s=new Uint8Array(c*2);
for(var R=0;R<c;R++){var o=Math.round(m[R]*(65535/255));s[R*2+B]=o>>>8;s[R*2+1-B]=o&255}m=s}return m.buffer};
bA.m9={};bA.m9.V9=function(r,N){function F(B){return~~(.5+w.ZD(Math.max(0,Math.min(1,B)))*255)}var h=EXRLoader.parse(r),m=h.width,O=h.height,e=w.B(m*O*4);
for(var P=0;P<O;P++)for(var B=0;B<m;B++){var R=(P*m+B)*4,s=((O-P-1)*m+B)*4;e[R]=F(h.data[s+0]);e[R+1]=F(h.data[s+1]);
e[R+2]=F(h.data[s+2]);e[R+3]=F(h.data[s+3])}return[{I0:new fE(0,0,m,O),data:e.buffer}]};bA.yD={};bA.yD.J3=!0;
bA.yD.mU=!0;bA.yD.xs=function(r,N,F,h,m){h=["",100,!1,!1,!1,0];h[6]=["jpg"];var O=new ToDXF;cJ.uZ(r,h,O,m.FN);
return O.buffer};bA.yD.V9=function(r,N){var F=72,h=new hc(1,0,0,1,0,0);h.scale(F/72,F/72);N.EP=F;var m=new jW(N,h,!1);
FromDXF.Parse(r,m)};bA.kZ={};bA.kZ.V9=function(){var r=J.av,N=J.Iy,F=J.Mj,h;function m(e,P,B,s,Y){var D=N(e,B),c=N(e,B+4),o=N(e,B+8),H=r(e,B+12),x=r(e,B+14);
B+=16;var Q={};for(var R=0;R<H+x;R++){var U=N(e,B),I=N(e,B+4),l,p;if(U>>>31==1){U=U&16777215}if(R<H)l=J.sn(e,P+U+2,r(e,P+U));
else l="id"+U;var j=s.slice(0);j.push(l);if(I>>>31==1){I=I&268435455;p=m(e,P,P+I,j,Y)}else{var T=N(e,P+I),V=N(e,P+I+4),E=N(e,P+I+8),_=N(e,P+I+12);
if(_!=0)throw"e";if(T<Y[0]||T>Y[0]+Y[1])throw"e";var f=Y[2]+T-Y[0];p=e.slice(f,f+V);var S=bA.Cn(p.buffer);
if(S&&["bmp","png","ico"].indexOf(S)!=-1){var L=bA.yU(S);if(!L.mU){var y=null;try{y=L.V9(p.buffer)}catch(ab){}if(y){y[0].Ct=j[1];
h.push(y[0])}}}else if(S)console.log(S)}Q[l]=p;B+=8}return Q}function O(e){h=[];var P=new Uint8Array(e),B=0,s=r(P,B);
B+=2;B+=58;var Y=N(P,B);B+=4;B=Y;var D=F(P,B,4);B+=4;var c=r(P,B);B+=2;var o=r(P,B);B+=2;var H=N(P,B);
B+=4;var x=N(P,B);B+=4;var Q=N(P,B);B+=4;var U=r(P,B);B+=2;var I=r(P,B);B+=2;B+=U;var l={};for(var R=0;
R<o;R++){var p=B;while(P[p]!=0)p++;var j=F(P,B,p-B),T=N(P,B+8),V=N(P,B+12),E=N(P,B+16),_=N(P,B+20),f=N(P,B+24),S=N(P,B+28),L=r(P,B+32),y=r(P,B+34),I=N(P,B+36);
l[j]=[V,T,_,E,I];if(f+S!=0)throw"e";B+=40}for(var $ in l){var Z=l[$];B=Z[2];if($==".rsrc"){var i=m(P,B,B,[],Z),b="id134"}}return h}return O}();
bA.Si={};bA.Si.mU=!0;bA.Si.V9=function(r,N){e3.ep(r,N)};(function(){var r=bA.pU.get("wasm/zstd").buffer;
WebAssembly.instantiate(r).then(function(N){var F=N.instance.exports;bA.Si.ata=F})}());bA.Si.w5=function(r,N){var F=bA.Si.ata,h=r.length,m=F.memory,O=2*h+1e6,B=8;
bA.PN(F,O);var e=new Uint8Array(m.buffer),P=F.malloc(h);e.set(r,P);while(!0){var s=N==null?h*B:N;bA.PN(F,O+s);
var Y=F.malloc(s),D=F.ZSTD_decompress(Y,s,P,h);if(D==-70){F.free(Y);B+=B>>>1;if(N!=null)throw"error"}else{e=new Uint8Array(m.buffer);
r=e.slice(Y,Y+D);F.free(Y);break}}F.free(P);return r};bA.Le={};bA.Le.mU=!0;bA.Le.V9=function(){var r=0,N=1,F=2,h=3,m=4,O=5,e=6,P=7,B=1,s=2,Y=7,D=8,c=9,o,H,x,Q,U;
function I(){var j_=J.dk(o,H);H+=4;return j_}function l(){var G=0,g=0;for(var R=0;R<5;R++){var u=o[H++];
G+=(u&127)<<g;g+=7;if((u&128)==0)break}return G}function p(){var G=l(),g=J.H3(o,H,G);H+=G;return g}function j(){return{typeName:p(),ajb:I()}}function T(){var G=I(),g=p(),u=[],A=I();
for(var R=0;R<A;R++)u.push([p()]);return{id:G,x3:g,a8d:u}}function V(G){var g=G.a8d,u=[];for(var R=0;
R<g.length;R++)g[R].push(o[H++]);for(var R=0;R<g.length;R++){var A=g[R][1],a;g[R].push(E(A))}}function E(G){var g;
if(G==r)g=o[H++];else if(G==h)g=p();else if(G==m)g=j();else if(G==N||G==F||G==e||G==O){}else throw G;
return g}function _(G,g,u){var A;if(G==r){if(g==B)A=o[H++]==1;else if(g==s){A=o[H++]}else if(g==D)A=I();
else if(g==c){A=I();I()}else throw g}else if(G==h){A=y(u+1)}else if(G==m){A=y(u+1)}else if(G==O){A=y(u+1)}else if(G==N){A=y(u+1)}else if(G==e){A=y(u+1)}else throw G;
return A}function f(G,g){var u=x["c"+G],A=u.a8d,a={_class:u.x3};for(var R=0;R<A.length;R++){var d=A[R],K=d[1],n=d[2],t=_(K,n,g),X=d[0];
a[X]=t}return a}function S(G,g,u,A){var a=[];for(var R=0;R<G;R++){var d=_(g,u,A);if(d.xa&&d.xa=="null_count"){var K=d.MB;
for(var n=0;n<K;n++)a.push(null);R+=K-1}else a.push(d)}return a}function L(){return[I(),I()]}function y(G){if(G==null)throw"e";
var g=null,u=o[H],A=null;H++;if(u==0){var a=I(),d=I(),K=I(),n=I();g=[a,d,K,n]}else if(u==1){A=I();var t=I();
g=f(t,G)}else if(u==4){var X=T();A=X.id;V(X);x["c"+X.id]=X;g=f(X.id,G)}else if(u==5){var X=T();A=X.id;
V(X);var aK=I();x["c"+X.id]=X;g=f(X.id,G)}else if(u==6){A=I();var fg=p();g=fg}else if(u==7){A=I();var k=o[H++];
if(k!=0)throw k;var hG=I();if(hG!=1)throw hG;var eE=I(),hW=o[H++],hh=E(hW);g=S(eE,hW,hh,G)}else if(u==9){var hI=I();
g={xa:"ref",MB:hI};U["o"+hI]=!0}else if(u==10){g={xa:"null_count",MB:1}}else if(u==11){g={xa:"end"}}else if(u==12){var aK=I(),db=p()}else if(u==13){var by=o[H++];
g={xa:"null_count",MB:by}}else if(u==16){var jM=L();A=jM[0];g=S(jM[1],m,null,G)}else if(u==17){var jM=L();
A=jM[0];g=S(jM[1],N,null,G)}else throw"e";if(A!=null&&A>0){if(Q["o"+A]!=null)throw"e";Q["o"+A]=g}return g}function $(G,Q){if(G instanceof Array){for(var R=0;
R<G.length;R++)G[R]=Z(G[R],Q)}else if(G instanceof Object){for(var g in G)G[g]=Z(G[g],Q)}}function Z(G,Q){if(G&&G.xa&&G.xa=="ref")return Q["o"+G.MB];
else return G}function i(G,g,u){o=new Uint8Array(G);H=0;x={};Q={};U={};var A=J.Mj(o,0,4);if(A!="PDN3")throw A;
H+=4;var a=J.av(o,H)+o[H+2]*256*256;H+=3;var d=J.Mj(o,H,a);H+=a;H+=2;while(!0){var K=y(0);if(K&&K.xa&&K.xa=="end")break}for(var n in U)if(Q[n]==null)throw n;
for(var n in Q)$(Q[n],Q);var t=Q.o1;console.log(t);g.e=t.width;g.n=t.height;g.buffer=w.B(g.e*g.n*4);
var X=t.layers["ArrayList+_items"];for(var R=0;R<X.length;R++){var aK=X[R];if(aK==null)continue;console.log(aK);
var fg=aK["Layer+width"],k=aK["Layer+height"],hG=aK["Layer+properties"],eE=aK.properties,hW=eE.blendOp._class.split("+").pop();
hW=hW.slice(0,hW.length-7);var hh={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[hW],hI=g.lc();
hI.a6(hG.name);hI.opacity=hG.opacity;hI.Hb(hG.visible);hI.$j=hh;var db=1<<16,by=Math.ceil(fg*k/db);hI.rect=new fE(0,0,fg,k);
hI.buffer=w.B(fg*k*4);var jM=hI.buffer;H+=5;for(var fP=0;fP<by;fP++){var hB=b();jM.set(hB[1],hB[0]*db*4)}for(var iu=0;
iu<jM.length;iu+=4){var be=jM[iu+0];jM[iu+0]=jM[iu+2];jM[iu+2]=be}g.g.push(hI)}}function b(){var G=J.l(o,H);
H+=4;var g=J.l(o,H);H+=4;var u=pako.inflateRaw(o.slice(H+10));H+=g;return[G,u]}return i}();var M={};
M._X=!1;M.n3=!1;M.fK=!1;M.D=document.createElement("canvas");M.Az=null;M.TD=null;M.Ep=0;(function(){var r={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},N;
if(!N)N=M.D.getContext("webgl",r);if(!N)N=M.D.getContext("experimental-webgl",r);if(N){M._X=!0;M.n3=!0;
M.Az=N;M.TD=N.createFramebuffer();N.bindFramebuffer(N.FRAMEBUFFER,M.TD);N.disable(N.BLEND);N.disable(N.DEPTH_TEST);
var F=N.createBuffer();N.bindBuffer(N.ARRAY_BUFFER,F);N.bufferData(N.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),N.STATIC_DRAW);
N.enableVertexAttribArray(0);N.vertexAttribPointer(0,2,N.FLOAT,!1,0,0)}}());M.ar4=function(r){r=r.replace(/\s\s+/g," ");
r=r.replace(/; /g,";");r=r.replace(/} /g,"}");r=r.replace(/ }/g,"}");r=r.replace(/{ /g,"{");r=r.replace(/ {/g,"{");
r=r.replace(/= /g,"=");r=r.replace(/ =/g,"=");r=r.replace(/\| /g,"|");r=r.replace(/ \|/g,"|");return r};
M.apF=function(r){var N=M.Az;if(r>N.getParameter(N.MAX_TEXTURE_SIZE)){M._X=!1;alert("Disabling WebGL")}};
M.jw=function(r,N){return new Float32Array([(r.x-N.x)/N.e,(r.y-N.y)/N.n,r.e/N.e,r.n/N.n])};M.Cl=function(){return this.D};
M.y9=function(r,N){var F=M.Az;F.bindFramebuffer(F.FRAMEBUFFER,M.TD);F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,r.UX,0);
F.viewport(0,0,r.e,r.n);if(N){F.enable(F.SCISSOR_TEST);F.scissor(N.x,N.y,N.e,N.n)}else F.disable(F.SCISSOR_TEST)};
M.m2=function(r,N,F){if(F)throw"error";var h=M.Az;h.disable(h.SCISSOR_TEST);h.bindFramebuffer(h.FRAMEBUFFER,null);
h.viewport(0,0,r,N);if(F){h.enable(h.SCISSOR_TEST);h.scissor(F.x,F.y,Math.round(F.e),Math.round(F.n))}else h.disable(h.SCISSOR_TEST)};
M.clear=function(){var r=M.Az;r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT)};M.gc=function(r,N){if(N==null)N=0;
var F=(N>>>0&255)==0,h=(N>>>8&255)==0,m=(N>>>16&255)==0,O=(N>>>24&255)==0,e=(r>>>0&255)*(1/255),P=(r>>>8&255)*(1/255),B=(r>>>16&255)*(1/255),s=(r>>>24&255)*(1/255),Y=M.Az;
Y.colorMask(F,h,m,O);Y.clearColor(e,P,B,s);Y.clear(Y.COLOR_BUFFER_BIT);Y.colorMask(!0,!0,!0,!0)};M.z7=function(r,N,F,h,m){var O=N.c_(h);
if(m)O=O.c_(m);if(O.lX())return;var e=M.Az;M.y9(r);e.bindTexture(e.TEXTURE_2D,F.UX);e.copyTexSubImage2D(e.TEXTURE_2D,0,O.x-h.x,O.y-h.y,O.x-N.x,O.y-N.y,O.e,O.n)};
M.YO=function(R,r,N){var F=M.Qd[R];if(F==null||F.e!=r||F.n!=N){if(F)F.delete();F=new M.rX(r,N)}M.Qd[R]=F;
return F};M.Qd=[];M.S$=function(){this.x5=null;this.ny=null};M.S$.DX=null;M.S$.prototype.rG=function(r){if(this.ny)return;
this.ny={};var N=M.Az,F=this.x5,h=this.ny;for(var R=0;R<r.length;R++){var m=r[R];h[m]=N.getUniformLocation(F,m)}};
M.S$.prototype.qZ=function(){};M.S$.prototype.Pu=function(r){var N=M.Az;for(var R=0;R<r.length;R+=2){N.uniform1i(r[R],R>>>1);
N.activeTexture(N["TEXTURE"+(R>>>1)]);N.bindTexture(N.TEXTURE_2D,r[R+1])}N.activeTexture(N.TEXTURE0)};
M.S$.prototype.GH=function(r,N){var F=M.Az,h=F.createShader(F.FRAGMENT_SHADER);F.shaderSource(h,r);F.compileShader(h);
if(!F.getShaderParameter(h,F.COMPILE_STATUS))console.log(F.getShaderInfoLog(h));var m=F.createShader(F.VERTEX_SHADER);
F.shaderSource(m,N);F.compileShader(m);if(!F.getShaderParameter(m,F.COMPILE_STATUS))console.log(F.getShaderInfoLog(m));
var O=F.createProgram();F.attachShader(O,m);F.attachShader(O,h);F.linkProgram(O);if(!F.getProgramParameter(O,F.LINK_STATUS))console.log("Could not initialise shaders");
this.x5=O};M.S$.prototype.cU=function(){if(M.S$.DX!=this){M.Az.useProgram(this.x5);M.S$.DX=this}};M.Bx=function(r,N){M.lt++;
M.Ep+=r*N;if(M.fK)console.log("GL.Channels instances: "+M.lt+", memory: "+M.Ep);var F=M.Az;this.e=r;
this.n=N;this.UX=F.createTexture();this.gg=null;this.rO(this.UX,r,N)};M.Bx.prototype.rO=function(r,N,F){var h=M.Az;
h.bindTexture(h.TEXTURE_2D,r);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);
h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,N,F,0,h.ALPHA,h.UNSIGNED_BYTE,null)};M.Bx.prototype.set=function(r,N){var F=M.Az;
F.bindTexture(F.TEXTURE_2D,this.UX);F.pixelStorei(F.UNPACK_ALIGNMENT,1);var h=this.e*this.n;if(N==null||N.W()*10>h)F.texImage2D(F.TEXTURE_2D,0,F.ALPHA,this.e,this.n,0,F.ALPHA,F.UNSIGNED_BYTE,r);
else{var m=new fE(0,0,this.e,this.n),O=w.B(N.W());w.nZ(r,m,O,N);F.texSubImage2D(F.TEXTURE_2D,0,N.x,N.y,N.e,N.n,F.ALPHA,F.UNSIGNED_BYTE,O)}F.pixelStorei(F.UNPACK_ALIGNMENT,4)};
M.Bx.prototype.delete=function(){var r=M.Az;if(this.UX){r.deleteTexture(this.UX);M.lt--;M.Ep-=this.e*this.n}if(M.fK)if(M.fK)console.log("GL.Channels instances: "+M.lt+", memory: "+M.Ep*4)};
M.lt=0;M.rX=function(r,N,F){if(F==null)F=!1;M.lt++;M.Ep+=r*N*4;if(M.fK)console.log("GL.Channels instances: "+M.lt+", memory: "+M.Ep);
var h=M.Az;this.anf=F;this.e=r;this.n=N;this.UX=h.createTexture();this.gg=null;this.rO(this.UX,r,N)};
M.rX.prototype.set=function(r,N){var F=M.Az;F.disable(F.SCISSOR_TEST);F.bindTexture(F.TEXTURE_2D,this.UX);
if(r==null||r instanceof Uint8Array){var h=this.e*this.n;if(N==null||N.W()*10>h)F.texImage2D(F.TEXTURE_2D,0,F.RGBA,this.e,this.n,0,F.RGBA,F.UNSIGNED_BYTE,r);
else{var m=w.B(N.W()*4);w.L3(r,new fE(0,0,this.e,this.n),m,N);F.texSubImage2D(F.TEXTURE_2D,0,N.x,N.y,N.e,N.n,F.RGBA,F.UNSIGNED_BYTE,m)}}else F.texImage2D(F.TEXTURE_2D,0,F.RGBA,F.RGBA,F.UNSIGNED_BYTE,r)};
M.rX.prototype.get=function(r){var N=M.Az;M.y9(this);N.readPixels(0,0,this.e,this.n,N.RGBA,N.UNSIGNED_BYTE,r)};
M.rX.prototype.XZ=function(r){if(r.lX())return;var N=M.Az;if(this.gg==null){this.gg=N.createTexture();
this.rO(this.gg,this.e,this.n);M.lt++;M.Ep+=this.e*this.n*4}N.bindFramebuffer(N.FRAMEBUFFER,M.TD);N.bindTexture(N.TEXTURE_2D,this.gg);
if(r){var F=Math.max(r.x,0),h=Math.max(r.y,0);N.copyTexSubImage2D(N.TEXTURE_2D,0,F,h,F,h,r.e,r.n)}else N.copyTexImage2D(N.TEXTURE_2D,0,N.RGBA,0,0,this.e,this.n,0)};
M.rX.prototype.rO=function(r,N,F){var h=M.Az;h.bindTexture(h.TEXTURE_2D,r);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.anf?h.LINEAR:h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,N,F,0,h.RGBA,h.UNSIGNED_BYTE,null)};
M.rX.prototype.delete=function(){var r=M.Az;if(this.UX){r.deleteTexture(this.UX);M.lt--;M.Ep-=this.e*this.n*4}if(this.gg){r.deleteTexture(this.gg);
M.lt--;M.Ep-=this.e*this.n*4}if(M.fK)if(M.fK)console.log("GL.Channels instances: "+M.lt+", memory: "+M.Ep)};
M.rX.prototype.clone=function(){var r=M.Az,N=new M.rX(this.e,this.n);M.y9(this);r.bindTexture(r.TEXTURE_2D,N.UX);
r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,this.e,this.n,0);return N};M.lY={a9T:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",atz:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",hc:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",CX:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",fa:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Va:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",OM:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",S7:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",avm:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",PR:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a1O:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",nT:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",r$:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",ZU:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",FK:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",pc:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",DZ:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",ip:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",b7:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",abn:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aei:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",fU:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",Xc:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
M.i={};M.i.$o={};M.i.oT=null;M.i.gZ=null;M.i.xY=null;M.i.kr=function(r,N,F,h,m,O,e,P){if(P==null)P=iL.x2();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(r)==-1){e=e*P.fill;P.fill=1;P.style=!1}var B=r+(P.Eu?"1":"");
if(M.i.$o[B]==null)M.i.$o[B]=new M.i.jz(r,P.Eu!=null);var s=M.i.$o[B],Y=F.c_(m).c_(O);Y.offset(-m.x,-m.y);
if(Y.lX())return;var D=M.Az;M.y9(h,Y);h.XZ(Y);s.cU();s.qZ(N.UX,h.gg,M.jw(F,m),e,P.fill,P.style?1:0,P.iC?1:0,P.Eu?new Float32Array(P.Eu):null);
D.drawArrays(D.TRIANGLES,0,6)};M.i.KB=function(r,N,F,h,m,O,e,P,B,s,Y){if(M.i.oT==null)M.i.oT=new M.i.ok(!0,!0);
if(M.i.gZ==null)M.i.gZ=new M.i.ok(!0,!1);if(M.i.xY==null)M.i.xY=new M.i.ok(!1,!0);var D=s?1:0,c=r?m?M.i.oT:M.i.gZ:M.i.xY,o=new Float32Array(Y?[Y[0],Y[1],Y[2],1]:[1,1,1,1]),H=N?N.c_(h).c_(P):h.c_(P);
if(H.lX())return;H.offset(-h.x,-h.y);var x=M.Az;M.y9(F,H);F.XZ(H);c.cU();if(r==null)c.qZ(null,F.gg,m.UX,M.jw(h,h),M.jw(O,h),e/255,B,D,o);
else if(m)c.qZ(r.UX,F.gg,m.UX,M.jw(N,h),M.jw(O,h),e/255,B,D,o);else c.qZ(r.UX,F.gg,null,M.jw(N,h),null,e/255,B,D,o);
x.drawArrays(x.TRIANGLES,0,6)};M.i.aeJ=function(r,N,F){if(M.i.ahV==null)M.i.ahV=new M.i.$e;var h=M.i.ahV,m=new fE(0,0,r.e,r.n),O=M.Az;
M.y9(N);N.XZ(m);h.cU();h.qZ(m,r.UX,N.gg,F.UX);O.drawArrays(O.TRIANGLES,0,6)};M.i.te={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
M.i.jz=function(r,N){M.S$.call(this);var F="\t\t\tprecision highp float;\t\t\t"+M.lY.hc+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(N?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+M.lY.Va+"\t\t\t"+M.lY.OM+"\t\t\t"+M.lY.S7+"\t\t\t"+M.lY.a9T+"\t\t\t"+M.lY.atz+"\t\t\t"+M.lY.avm+"\t\t\t"+M.lY.PR+"\t\t\t"+M.lY.a1O+"\t\t\t"+M.lY.nT+"\t\t\t"+M.lY.hash+"\t\t\t"+(N?M.lY.fU:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+M.i.te[r]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",h="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(r=="diss")F+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else F+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(N?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.GH(F,h)};M.i.jz.prototype=new M.S$;M.i.jz.prototype.qZ=function(r,N,F,h,m,O,e,P){this.rG("srct alpha source target fill style keepBGA blIf".split(" "));
var B=M.Az,s=this.ny;B.uniform4fv(s.srct,F);B.uniform1f(s.alpha,h);B.uniform1f(s.fill,m);B.uniform1f(s.style,O);
B.uniform1f(s.keepBGA,e);if(P)B.uniform4fv(s.blIf,P);this.Pu([s.source,r,s.target,N])};M.i.ok=function(r,N){M.S$.call(this);
this.am5=r;this.Ng=N;var F="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+M.lY.r$+"\t\t\t"+M.lY.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(r?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(N?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(r?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(N?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.GH(F,h)};M.i.ok.prototype=new M.S$;M.i.ok.prototype.qZ=function(r,N,F,h,m,O,e,P,B){if(this.Ng)this.rG("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.rG("srct awg dissv source target cswitch".split(" "));var s=M.Az,Y=this.ny;s.uniform4fv(Y.srct,h);
if(this.Ng){s.uniform4fv(Y.wrct,m);s.uniform1f(Y.wcolor,O)}else{s.uniform4fv(Y.cswitch,B)}s.uniform1f(Y.awg,e);
s.uniform1f(Y.dissv,P);var D=[Y.source,r,Y.target,N];if(this.Ng)D.push(Y.weight,F);this.Pu(D)};M.i.$e=function(){M.S$.call(this);
var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.GH(r,N)};M.i.$e.prototype=new M.S$;M.i.$e.prototype.qZ=function(r,N,F,h){this.rG(["rct","prev","next","alpha"]);
var m=M.Az,O=this.ny;m.uniform4fv(O.rct,[0,0,1,1]);this.Pu([O.prev,N,O.next,F,O.alpha,h])};M._w={RS:{},zo:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
M._w.py=function(r,N){var F=gn.LL,h=[F.Gj,F.tF,F.rh,F.A9,F.pa,F._1,F.oI,F.rj].indexOf(r.type),m=M._w.RS[r.type];
if(m==null)m=M._w.RS[r.type]=new M.RS[h];m.cU();m.qZ(N,r);M.Az.drawArrays(M.Az.TRIANGLES,0,6)};M.RS=[];
M.RS[0]=function(){M.S$.call(this);this.jP={};var r="\t\t\tprecision mediump float;\t\t\t"+M.lY.OM+"\t\t\t"+M.lY.hc+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[0].prototype=new M.S$;M.RS[0].prototype.qZ=function(r,N){var F={Z:N.BF,z:N.L_,J:N.$T,O$:w.B(N.BF.length)},h=F.Z.length;
if(this.jP["m"+h]==null){this.jP["m"+h]={atS:new M.rX(h,1),iS:w.B(h*4)}}var m=this.jP["m"+h];w.vJ(F,m.iS,0);
var O=m.atS;O.set(m.iS);this.rG(["source","map","toGray","presLum"]);var e=M.Az,P=this.ny;e.uniform1f(P.toGray,N.WO?1:0);
e.uniform1f(P.presLum,N.Uv?1:0);this.Pu([P.source,r,P.map,O.UX])};M.RS[1]=function(){M.S$.call(this);
this.a0i=new M.rX(256,1);this.apt=w.B(256*4);var r="\t\t\t\tprecision mediump float;\t\t\t\t"+M.lY.pc+"\t\t\t\t"+M.lY.ZU+"\t\t\t\t"+M.lY.FK+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[1].prototype=new M.S$;M.RS[1].prototype.qZ=function(r,N){w.vJ({Z:N.auY,z:N.Wq,J:N.acU,O$:w.B(256)},this.apt);
this.a0i.set(this.apt);this.rG(["source","map","cfa","cfb","colorize"]);var F=M.Az,h=this.ny;F.uniform1f(h.cfa,N.af8);
F.uniform1f(h.cfb,N.wB);F.uniform1i(h.colorize,N.arR);this.Pu([h.source,r,h.map,this.a0i.UX])};M.RS[2]=function(){M.S$.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+M.lY.pc+"\t\t\t"+M.lY.DZ+"\t\t\t"+M.lY.ip+"\t\t\t"+M.lY.ZU+"\t\t\t"+M.lY.FK+"\t\t\t"+M.lY.abn+"\t\t\t"+M.lY.aei+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.GH(r,M._w.zo)};M.RS[2].prototype=new M.S$;M.RS[2].prototype.qZ=function(r,N){this.rG(["source","vib","sat","yF"]);
var F=M.Az,h=this.ny;F.uniform1f(h.vib,N.Xa[0]);F.uniform1f(h.sat,N.Xa[1]);F.uniform3fv(h.yF,new Float32Array([N.Xa[2],N.Xa[3],N.Xa[3]]));
this.Pu([h.source,r])};M.RS[3]=function(){M.S$.call(this);var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[3].prototype=new M.S$;M.RS[3].prototype.qZ=function(r,N){this.rG(["source","trf"]);
var F=M.Az,h=this.ny;F.uniformMatrix4fv(h.trf,!1,new Float32Array(w.nt.Vu(N.PB)));this.Pu([h.source,r])};
M.RS[4]=function(){M.S$.call(this);var r="\t\t\tprecision mediump float; \t\t\t"+M.lY.b7+"\t\t\t"+M.lY.pc+"\t\t\t"+M.lY.FK+"\t\t\t"+M.lY.ZU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[4].prototype=new M.S$;M.RS[4].prototype.qZ=function(r,N){this.rG(["source","mnm","mxm","shift","lim"]);
var F=M.Az,h=this.ny;F.uniform3fv(h.mnm,new Float32Array(N._v));F.uniform3fv(h.mxm,new Float32Array(N.fG));
F.uniform3fv(h.shift,new Float32Array(N.shift));F.uniform1f(h.lim,N.Cr);this.Pu([h.source,r])};M.RS[5]=function(){M.S$.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+M.lY.hc+"\t\t\t"+M.lY.CX+"\t\t\t"+M.lY.fa+"\t\t\t"+M.lY.ZU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[5].prototype=new M.S$;M.RS[5].prototype.qZ=function(r,N){this.rG(["source","cfs"]);
var F=M.Az,h=this.ny;F.uniform3fv(h.cfs,N.apL);this.Pu([h.source,r])};M.RS[6]=function(){M.S$.call(this);
var r="\t\t\tprecision mediump float;\t\t\t"+M.lY.pc+"\t\t\t"+M.lY.CX+"\t\t\t"+M.lY.fa+"\t\t\t"+M.lY.ZU+"\t\t\t"+M.lY.FK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[6].prototype=new M.S$;M.RS[6].prototype.qZ=function(r,N){this.rG(["source","wght","prms"]);
var F=M.Az,h=this.ny,m=[N.EJ,N.agt,N.OM,N.aqu,N.Uz,N.a6M];F.uniform1fv(h.wght,new Float32Array(N.acg));
F.uniform1fv(h.prms,new Float32Array(m));this.Pu([h.source,r])};M.RS[7]=function(){M.S$.call(this);this.yd={};
var r="\t\t\tprecision mediump float;\t\t\t"+M.lY.Xc+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.GH(r,M._w.zo)};M.RS[7].prototype=new M.S$;M.RS[7].prototype.qZ=function(r,N){this.rG(["source","lut","N"]);
var F=M.Az,h=this.ny,m=N.xy,O=N.C2;if(this.yd["m"+m]==null)this.yd["m"+m]=new M.rX(m,m*m);var e=this.yd["m"+m];
e.set(O);F.uniform1f(h.N,m);this.Pu([h.source,r,h.lut,e.UX]);F.activeTexture(F.TEXTURE1);var P=F.LINEAR;
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,P);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,P);
F.activeTexture(F.TEXTURE0)};M.filter={Om:{},zo:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aoS:0,a68:1,_K:2,a33:3,apB:4,amN:5,za:6,a25:7};
M.filter.py=function(r,N){var F=M.filter,h,m=r.type+":"+(r.fJ?r.fJ.join(","):""),h=M.filter.Om[m];if(h==null)h=M.filter.Om[m]=new M.Om[r.type](r.fJ);
h.cU();h.qZ(N,r);M.Az.drawArrays(M.Az.TRIANGLES,0,6)};M.Om=[0,0,0,0,0,0,0,0,0,0,0,0];M.Om[7]=function(){M.S$.call(this);
var r="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.GH(bq.zK(r),bq.zK(M.filter.zo))};M.Om[7].prototype=new M.S$;M.Om[7].prototype.qZ=function(r,N){this.rG(["source","iwh","kern"]);
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform1fv(h.kern,N.a31);this.Pu([h.source,r])};M.Om[6]=function(r){M.S$.call(this);
var N=r[0],F=r[1],h=r[2],m="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",O=bq.zK(m);
O=O.replaceAll("PRC",h+".0");O=O.replaceAll("DIR",["x,0","0,x"][F]);this.GH(O,M._w.zo)};M.Om[6].prototype=new M.S$;
M.Om[6].prototype.qZ=function(r,N){this.rG(["source","iwh","rad"]);var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);
F.uniform1f(h.rad,N.IR);this.Pu([h.source,r])};M.Om[4]=function(r){M.S$.call(this);var N=r[0],F=r[1],h="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+r[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][F]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][N]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][F]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(F==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.GH(h,M._w.zo)};M.Om[4].prototype=new M.S$;M.Om[4].prototype.qZ=function(r,N){this.rG(["source","iwh","rrad","tr"]);
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform1f(h.rrad,N.To);F.uniform1f(h.tr,N.a95);this.Pu([h.source,r]);
var m=F.LINEAR;m=F.NEAREST;F.activeTexture(F.TEXTURE0);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,m);
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,m);F.activeTexture(F.TEXTURE0)};M.Om[5]=function(){M.S$.call(this);
var r="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.GH(bq.zK(r),bq.zK(M.filter.zo))};M.Om[5].prototype=new M.S$;M.Om[5].prototype.qZ=function(r,N){this.rG(["source","ssum","iwh","amnt","edgf"]);
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform1f(h.amnt,N.aqB);F.uniform1f(h.edgf,N.a4O);this.Pu([h.source,r,h.ssum,N.arK])};
M.Om[3]=function(){M.S$.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.GH(bq.zK(r),bq.zK(M.filter.zo))};M.Om[3].prototype=new M.S$;M.Om[3].prototype.qZ=function(r,N){this.rG("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform1f(h.tdep,N.aq9);F.uniform1f(h.rrad,N.To);F.uniform2fv(h.spec,N.au6);
F.uniform3fv(h.nois,N.a6E);F.uniformMatrix4fv(h.poly0,!1,N.amn);F.uniformMatrix4fv(h.poly1,!1,N.a5_);
this.Pu([h.source,r]);var m=F.LINEAR;F.activeTexture(F.TEXTURE0);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,m);
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,m);F.activeTexture(F.TEXTURE0)};M.Om[0]=function(){M.S$.call(this);
var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.GH(bq.zK(r),bq.zK(M.filter.zo))};M.Om[0].prototype=new M.S$;M.Om[0].prototype.qZ=function(r,N){this.rG(["source","iwh","ld","shine"]);
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform3fv(h.ld,N.arC);F.uniform1f(h.shine,N.ajk);this.Pu([h.source,r,h.tang,N.WD])};
M.Om[1]=function(){M.S$.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.GH(bq.zK(r),bq.zK(M.filter.zo))};M.Om[1].prototype=new M.S$;M.Om[1].prototype.qZ=function(r,N){this.rG(["source","iwh","isc","bristle"]);
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform1f(h.isc,N.aum);F.uniform1f(h.bristle,N.ahk);
this.Pu([h.source,r])};M.Om[2]=function(){M.S$.call(this);var r="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.GH(bq.zK(r),bq.zK(M.filter.zo))};M.Om[2].prototype=new M.S$;M.Om[2].prototype.qZ=function(r,N){this.rG(["source","tang","iwh","sigma","expo"]);
var F=M.Az,h=this.ny;F.uniform2fv(h.iwh,N.Ub);F.uniform1f(h.sigma,N.a1s);F.uniform1f(h.expo,N.a6G);this.Pu([h.source,r,h.tang,N.WD]);
var m=F.LINEAR;F.activeTexture(F.TEXTURE0);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,m);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,m);
F.activeTexture(F.TEXTURE0)};function w(){}w.K={};w.ath={};w.ab3=function(){var r=[64,64,128,256,512,1024,2048],N=[];
for(var R=0;R<r.length;R++){var F=r[R],h=document.createElement("canvas");h.width=F;h.height=F;N.push(h.getContext("2d"))}return N}();
w.Cl=function(r,N){var F,h=w.ab3,R=1,m=Math.max(r,N);while(R<h.length&&m>h[R].canvas.width)R++;if(R==h.length){F=h[0];
var O=F.canvas;O.width=r;O.height=N}else{F=h[R];F.clearRect(0,0,r,N)}return F};w.pi=function(r,N,F){var h=new Uint32Array(N*F);
h[0]=r[0];for(var m=1;m<N;m++)h[m]=h[m-1]+r[m];for(var O=1;O<F;O++){var R=O*N;h[R]=h[R-N]+r[R];for(var m=1;
m<N;m++)h[R+m]=r[R+m]+h[R+m-1]+h[R+m-N]-h[R+m-N-1]}return h};w.kA=function(r,N,F,h,m,O){var e=(m-1)*N,P=O*N;
return r[P+h]-r[P+F-1]-r[e+h]+r[e+F-1]};w.oV=function(r,N,F){var h={},m=0,O=0,e=new Uint32Array(r.buffer),P=e.length,B=Date.now();
for(var s=1;s<F-1;s++)for(var Y=1;Y<N-1;Y++){var D=s*N+Y,c=e[D];if(c>>>24<230)O++;if(h[c]==null){h[c]=!0;
m++}}if(O!=0||m<20)return!1;return!0};w.aI=function(r,N,F,h,m,O){if(m==null)m=O=0;h=Math.log(h)/Math.log(2);
h=Math.round(h);for(var R=0;R<F;R++)for(var e=0;e<N;e++){var P=R*N+e<<2,B=w.Yd(R+O,e+m,h);r[P]=r[P+1]=r[P+2]=B;
r[P+3]=255}};w.Yd=function(R,r,N){return 255-((R>>>N)+(r>>>N)&1)*51};w.GG=function(r){var N=r.toString(16);
while(N.length<6)N="0"+N;return N};w.ju=function(r){return parseInt(r,16)};w.OM=function(r){return.3*r.Z+.59*r.z+.11*r.J};
w.Va=function(r){return Math.max(r.Z,r.z,r.J)-Math.min(r.Z,r.z,r.J)};w.$X=function(r,N,F){return.3*r+.59*N+.11*F};
w.ac8=function(r,N,F){return Math.max(r,N,F)-Math.min(r,N,F)};w.CX=function(r,N){var F=N-r,h=Math.abs(F),m=F-1,O=F+1;
if(Math.abs(m)<h)F=m;else if(Math.abs(O)<h)F=O;return F};w.ZD=function(r){return r<.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055};
w.wD=function(r){return r<.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)};w.a4n=function(r,N){var F=Math.min(r.length,N.length);
for(var R=0;R<F;R+=4){var h=r[R],m=r[R+1],O=r[R+2];N[R]=16+Math.floor(65.481/255*h+128.553/255*m+24.966/255*O+.5);
N[R+1]=128-Math.floor(37.797/255*h-74.203/255*m+112/255*O+.5);N[R+2]=128+Math.floor(112/255*h-93.786/255*m-18.214/255*O+.5);
N[R+3]=r[R+3]}};w.a4l=function(r,N,F){var h,m,O,e=Math.max(r,N,F),P=Math.min(r,N,F);O=e;if(e!=0)m=(e-P)/e;
else m=0;if(m==0)h=0;else{var B=e-P,s=(e-r)/B,Y=(e-N)/B,D=(e-F)/B;if(r==e)h=D-Y;else if(N==e)h=2+s-D;
else h=4+Y-s;h*=1/6;if(h<0)h=h+1}return{Nf:h,ou:m,J:O}};w.a8e=function(r,N,F){var h=0,m=0,O=0;if(N==0)h=m=O=F;
else{var e=(r-Math.floor(r))*6,P=Math.floor(e),B=e-Math.floor(e),s=F*(1-N),Y=F*(1-N*B),D=F*(1-N*(1-B));
switch(P){case 0:h=F;m=D;O=s;break;case 1:h=Y;m=F;O=s;break;case 2:h=s;m=F;O=D;break;case 3:h=s;m=Y;
O=F;break;case 4:h=D;m=s;O=F;break;case 5:h=F;m=s;O=Y;break}}return{Z:h,z:m,J:O}};w.ZU=function(r,N,F){var h=Math.max(r,N,F),m=Math.min(r,N,F),O=0,e=0,P=(h+m)*.5;
if(h!=m){var B=h-m;e=P>.5?B/(2-(h+m)):B/(h+m);switch(h){case r:O=(N-F)/B+(N<F?6:0);break;case N:O=(F-r)/B+2;
break;case F:O=(r-N)/B+4;break}O*=1/6}return{Nf:O,ou:e,rT:P}};w.FK=function(r,N,F){var h,m,O;if(N==0)h=m=O=F;
else{var e=F<.5?F*(1+N):F+N-F*N,P=2*F-e;h=w.pc(P,e,r+1/3);m=w.pc(P,e,r);O=w.pc(P,e,r-1/3)}return{Z:h,z:m,J:O}};
w.pc=function(r,N,F){if(F<0)F+=1;if(F>1)F-=1;if(F<1/6)return r+(N-r)*6*F;if(F<1/2)return N;if(F<2/3)return r+(N-r)*(2/3-F)*6;
return r};w.DZ=function(r,N,F){var h=Math.max(r,N,F),m=Math.min(r,N,F),O,e,P=h,B=h-m;e=h==0?0:B/h;if(h==m)O=0;
else{switch(h){case r:O=(N-F)/B+(N<F?6:0);break;case N:O=(F-r)/B+2;break;case F:O=(r-N)/B+4;break}O*=1/6}return{Nf:O,ou:e,MB:P}};
w.ip=function(r,N,F){var h,m,O,R,e,P,B,s;R=Math.floor(r*6);e=r*6-R;P=F*(1-N);B=F*(1-e*N);s=F*(1-(1-e)*N);
switch(R%6){case 0:h=F,m=s,O=P;break;case 1:h=B,m=F,O=P;break;case 2:h=P,m=F,O=s;break;case 3:h=P,m=B,O=F;
break;case 4:h=s,m=P,O=F;break;case 5:h=F,m=P,O=B;break}return{Z:h,z:m,J:O}};w.lR=function(){var r=[],N=[];
for(var R=0;R<2e3;R++){var F=R/1e3;r[R]=w.wD(F);N[R]=F>.008856?Math.pow(F,1/3):(903.3*F+16)*(1/116)}return[r,N]}();
w.b7=function(r,N,F){var h=w.lR[0],m=w.lR[1];r=h[~~(r*(1e3/255))];N=h[~~(N*(1e3/255))];F=h[~~(F*(1e3/255))];
var O=w.nt.akD,e=O[0]*r+O[1]*N+O[2]*F,P=O[4]*r+O[5]*N+O[6]*F,B=O[8]*r+O[9]*N+O[10]*F;e=e*(100/96.72);
P=P*(100/100);B=B*(100/81.427);return w.Na(e,P,B)};w.Na=function(r,N,F){var h=w.lR[1],m=h[~~(r*1e3)],O=h[~~(N*1e3)],e=h[~~(F*1e3)];
return{qN:116*O-16,O$:500*(m-O),J:200*(O-e)}};w.HW=function(r,N,F){var h=903.3,m=.008856,O=(r+16)/116,e=O*O*O,P=O-F/200,B=P*P*P,s=N/500+O,Y=s*s*s,D=B>m?B:(116*P-16)/h,c=e>m?e:(116*O-16)/h,o=Y>m?Y:(116*s-16)/h,H=o*96.72,x=c*100,Q=D*81.427,U=w.nt.LS(w.nt.xd,[H/100,x/100,Q/100,0]);
for(var R=0;R<4;R++)U[R]=Math.max(0,Math.min(255,w.ZD(U[R])*255));return{Z:U[0],z:U[1],J:U[2]}};w.IO=function(r,N,F,h,m){var O=r.qN,e=r.O$,P=r.J,B=(O<N.qN?N.qN-O:F.qN<O?F.qN-O:0)*(1/100),s=(e<N.O$?N.O$-e:F.O$<e?F.O$-e:0)*(1/116),Y=(P<N.J?N.J-P:F.J<P?F.J-P:0)*(1/116),D=Math.sqrt(B*B+s*s+Y*Y)*1.35;
return D<=h?Math.min(1,1.17*(1-D*m)):0};w.oD=function(r,N,F){var h=r.length,m=.3,O=.59,e=.11;if(F){m=F[0];
O=F[1];e=F[2]}for(var R=0;R<h;R+=4)N[R>>2]=~~(r[R+0]*m+r[R+1]*O+r[R+2]*e+.5)};w.zG=function(r,N){var F=N.length;
for(var R=0;R<F;R+=4){var h=r[R>>>2];N[R]=h;N[R+1]=h;N[R+2]=h}};w.vJ=function(r,N){var F=r.O$,h=r.Z,m=r.z,O=r.J,e=Math.min(r.O$.length,N.buffer.byteLength>>>2),P=4*Math.floor(e/4),B=new Uint32Array(N.buffer),s=new Uint32Array(F.buffer),Y=new Uint32Array(h.buffer),D=new Uint32Array(m.buffer),c=new Uint32Array(O.buffer);
for(var R=0;R<P;R+=4){var o=s[R>>2],H=c[R>>2],x=D[R>>2],Q=Y[R>>2];B[R]=o<<24|(H&255)<<16|(x&255)<<8|Q&255;
B[R+1]=(o&65280)<<16|(H&65280)<<8|x&65280|(Q&65280)>>>8;B[R+2]=(o&16711680)<<8|H&16711680|(x&16711680)>>>8|(Q&16711680)>>>16;
B[R+3]=o&4278190080|(H&4278190080)>>>8|(x&4278190080)>>>16|(Q&4278190080)>>>24}for(var R=P;R<e;R++)B[R]=F[R]<<24|O[R]<<16|m[R]<<8|h[R]};
w.vg=function(r,N){var F=N.O$,h=N.Z,m=N.z,O=N.J,e=Math.min(N.O$.length,r.buffer.byteLength>>>2),P=4*Math.floor(e/4),B=new Uint32Array(r.buffer),s=new Uint32Array(F.buffer),Y=new Uint32Array(h.buffer),D=new Uint32Array(m.buffer),c=new Uint32Array(O.buffer);
for(var R=0;R<P;R+=4){var o=B[R],H=B[R+1],x=B[R+2],Q=B[R+3];Y[R>>2]=o&255|(H&255)<<8|(x&255)<<16|Q<<24;
D[R>>2]=(o&65280)>>8|H&65280|(x&65280)<<8|(Q&65280)<<16;c[R>>2]=(o&16711680)>>16|(H&16711680)>>8|x&16711680|(Q&16711680)<<8;
s[R>>2]=o>>>24|H>>>24<<8|x>>>24<<16|Q&4278190080}for(var R=P;R<e;R++){var U=B[R];h[R]=U>>0&255;m[R]=U>>8&255;
O[R]=U>>16&255;F[R]=U>>24&255}};w.Pw=function(r,N,F){var h=new Uint8Array(r.buffer),m=Math.min(h.length/4,N.length);
for(var R=0;R<m;R++){N[R]=h[(R<<2)+F]}};w.vr=function(r,N,F){var h=new Uint8Array(N.buffer),m=new Uint32Array(r.buffer),O=Math.min(h.length/4,r.length),R=0;
while(R+4<O){var e=m[R>>>2];h[(R<<2)+F]=e&255;h[(R<<2)+F+4]=e>>>8&255;h[(R<<2)+F+8]=e>>>16&255;h[(R<<2)+F+12]=e>>>24;
R+=4}while(R<O){h[(R<<2)+F]=r[R];R++}};w.T1=function(r,N,F){if(F==null)F=0;var h=new Uint32Array(r.buffer),m=h.length;
for(var R=0;R<m;R++)h[R]=h[R]&F|N};w.a1X=function(r,N,F,h,m){if(m==null)m=0;var O=new Uint32Array(r.buffer);
F=F.c_(N);var e=F.x-N.x,P=F.y-N.y,B=F.e,s=F.n,Y=N.e;for(var D=0;D<s;D++){var R=(P+D)*Y+e;for(var c=0;
c<B;c++){O[R]=O[R]&m|h;R++}}};w.ZF=function(r,N){var F=Math.min(r.buffer.byteLength,N.buffer.byteLength),h=F>>>2,r=new Uint32Array(r.buffer,0,h),N=new Uint32Array(N.buffer,0,h);
N.set(r)};w.cj=function(r,N){var F=r.buffer.byteLength,h=N.buffer.byteLength,m=new Uint32Array(r.buffer,0,F>>2),O=new Uint32Array(N.buffer,0,h>>2);
if(F!=h)return!1;var e=m.length;for(var R=0;R<e;R++)if(O[R]!=m[R])return!1;return!0};w.iL=function(r){var N=new Uint32Array(r.buffer),F=N.length;
for(var R=0;R<F;R++)N[R]=~N[R]};w.abh=function(r){var N=r.length;for(var R=0;R<N;R+=4){r[R]=~r[R];r[R+1]=~r[R+1];
r[R+2]=~r[R+2]}};w.agN=function(r){var N=r.length;for(var R=3;R<N;R+=4)r[R]=~r[R]};w.a0l=function(r){return r+(r%4==0?0:4-r%4)};
w.B=function(r,N){if(N==null)N=!1;if(!N)r=w.a0l(r);try{var F=new Uint8Array(r)}catch(ab){alert("Not enough RAM! (need "+Math.round(r/(1<<20))+" MB)",7e3);
throw"low_ram"}return F};w.A_=function(r){var N=r.length,F=r[N-2],h=r[N-1];while(h.e>=2&&h.n>=2){var m=w.Ck(F,h);
r.push(m.iS,m.rect);F=m.iS;h=m.rect}};w.Tc=function(r){var N=r.length,F=r[N-2],h=r[N-1];while(h.e>=2&&h.n>=2){var m=w.Uq(F,h);
r.push(m.iS,m.rect);F=m.iS;h=m.rect}};w.Ck=function(r,N,F){var h=N.e,m=N.n,O=h>>1,e=m>>1,P=new fE(N.x,N.y,O,e),B=F&&F.length==O*e*4?F:w.B(O*e*4),s=new Uint32Array(r.buffer),Y=new Uint32Array(B.buffer);
for(var D=0;D<e;D++)for(var c=0;c<O;c++){var o=D*O+c,H=(D<<1)*h+(c<<1),x=s[H],Q=s[H+1],U=s[H+h],I=s[H+h+1],l=x>>>24,p=Q>>>24,j=U>>>24,T=I>>>24,V=l+p+j+T;
if(V==1020){var E=(x>>>0&255)+(Q>>>0&255)+(U>>>0&255)+(I>>>0&255)+2>>>2,_=(x>>>8&255)+(Q>>>8&255)+(U>>>8&255)+(I>>>8&255)+2>>>2,f=(x>>>16&255)+(Q>>>16&255)+(U>>>16&255)+(I>>>16&255)+2>>>2;
Y[o]=255<<24|f<<16|_<<8|E}else if(V==0)Y[o]=0;else{var E=(x>>>0&255)*l+(Q>>>0&255)*p+(U>>>0&255)*j+(I>>>0&255)*T,_=(x>>>8&255)*l+(Q>>>8&255)*p+(U>>>8&255)*j+(I>>>8&255)*T,f=(x>>>16&255)*l+(Q>>>16&255)*p+(U>>>16&255)*j+(I>>>16&255)*T,S=1/V;
E=~~(E*S+.5);_=~~(_*S+.5);f=~~(f*S+.5);Y[o]=V+2>>>2<<24|f<<16|_<<8|E}}return{rect:P,iS:B}};w.rM=function(r,N,F){var h=N.e,m=N.n,O=h>>1,e=m>>1,P=new fE(N.x,N.y,O,e),B=F&&F.length==O*e*4?F:w.B(O*e*4),s=new Uint32Array(r.buffer),Y=new Uint32Array(B.buffer);
for(var D=0;D<e;D++)for(var c=0;c<O;c++){var o=D*O+c,H=(D<<1)*h+(c<<1),x=s[H],Q=s[H+1],U=s[H+h],I=s[H+h+1],l=2+(x>>>0&255)+(Q>>>0&255)+(U>>>0&255)+(I>>>0&255)>>>2,p=2+(x>>>8&255)+(Q>>>8&255)+(U>>>8&255)+(I>>>8&255)>>>2,j=2+(x>>>16&255)+(Q>>>16&255)+(U>>>16&255)+(I>>>16&255)>>>2,T=2+(x>>>24&255)+(Q>>>24&255)+(U>>>24&255)+(I>>>24&255)>>>2;
Y[o]=T<<24|j<<16|p<<8|l}return{rect:P,iS:B}};w.ac7=function(r,N,F){var h=N.e,m=N.n,O=2*Math.floor(h/3),e=2*Math.floor(m/3),P=new fE(N.x,N.y,O,e),B=F&&F.length==O*e*4?F:w.B(O*e*4),s=new Uint32Array(r.buffer),Y=new Uint32Array(B.buffer);
for(var D=0;D<e;D+=2)for(var c=0;c<O;c+=2){var o=D*O+c,H=(D*3>>>1)*h+(c*3>>>1),x=s[H],Q=s[H+1],U=s[H+2],I=s[H+h],l=s[H+1+h],p=s[H+2+h],j=s[H+h+h],T=s[H+1+h+h],V=s[H+2+h+h],E=x>>>24<<2,_=(x>>>16&255)*E,f=(x>>>8&255)*E,S=(x&255)*E,L=Q>>>24<<1,y=(Q>>>16&255)*L,$=(Q>>>8&255)*L,Z=(Q&255)*L,i=U>>>24<<2,b=(U>>>16&255)*i,G=(U>>>8&255)*i,g=(U&255)*i,u=I>>>24<<1,A=(I>>>16&255)*u,a=(I>>>8&255)*u,d=(I&255)*u,K=l>>>24,n=(l>>>16&255)*K,t=(l>>>8&255)*K,X=(l&255)*K,aK=p>>>24<<1,fg=(p>>>16&255)*aK,k=(p>>>8&255)*aK,hG=(p&255)*aK,eE=j>>>24<<2,hW=(j>>>16&255)*eE,hh=(j>>>8&255)*eE,hI=(j&255)*eE,db=T>>>24<<1,by=(T>>>16&255)*db,jM=(T>>>8&255)*db,fP=(T&255)*db,hB=V>>>24<<2,iu=(V>>>16&255)*hB,be=(V>>>8&255)*hB,bp=(V&255)*hB,ij=E+L+u+K,fT=i+L+aK+K,ei=eE+db+u+K,bz=hB+db+aK+K,aM=ij==0?0:1/ij,hw=fT==0?0:1/fT,hx=ei==0?0:1/ei,fm=bz==0?0:1/bz,dE=0,gD=0,c2=0,bQ=0;
dE=~~(.5+(S+Z+d+X)*aM);gD=~~(.5+(f+$+a+t)*aM);c2=~~(.5+(_+y+A+n)*aM);bQ=~~(.5+ij*(1/9));Y[o]=bQ<<24|c2<<16|gD<<8|dE;
dE=~~(.5+(g+Z+hG+X)*hw);gD=~~(.5+(G+$+k+t)*hw);c2=~~(.5+(b+y+fg+n)*hw);bQ=~~(.5+fT*(1/9));Y[o+1]=bQ<<24|c2<<16|gD<<8|dE;
dE=~~(.5+(hI+fP+d+X)*hx);gD=~~(.5+(hh+jM+a+t)*hx);c2=~~(.5+(hW+by+A+n)*hx);bQ=~~(.5+ei*(1/9));Y[o+O]=bQ<<24|c2<<16|gD<<8|dE;
dE=~~(.5+(bp+fP+hG+X)*fm);gD=~~(.5+(be+jM+k+t)*fm);c2=~~(.5+(iu+by+fg+n)*fm);bQ=~~(.5+bz*(1/9));Y[o+O+1]=bQ<<24|c2<<16|gD<<8|dE}return{rect:P,iS:B}};
w.a1A=function(r,N,F){var h=N.e,m=N.n,O=2*Math.floor(h/3),e=2*Math.floor(m/3),P=new fE(N.x,N.y,O,e),B=F&&F.length==O*e*4?F:w.B(O*e*4),s=new Uint32Array(r.buffer),Y=new Uint32Array(B.buffer);
for(var D=0;D<e;D+=2)for(var c=0;c<O;c+=2){var o=D*O+c,H=(D*3>>>1)*h+(c*3>>>1),x=s[H],Q=s[H+1],U=s[H+2],I=s[H+h],l=s[H+1+h],p=s[H+2+h],j=s[H+h+h],T=s[H+1+h+h],V=s[H+2+h+h],E=(x>>>16&255)<<2,_=(x>>>8&255)<<2,f=(x&255)<<2,S=(Q>>>16&255)<<1,L=(Q>>>8&255)<<1,y=(Q&255)<<1,$=(U>>>16&255)<<2,Z=(U>>>8&255)<<2,i=(U&255)<<2,b=(I>>>16&255)<<1,G=(I>>>8&255)<<1,g=(I&255)<<1,u=l>>>16&255,A=l>>>8&255,a=l&255,d=(p>>>16&255)<<1,K=(p>>>8&255)<<1,n=(p&255)<<1,t=(j>>>16&255)<<2,X=(j>>>8&255)<<2,aK=(j&255)<<2,fg=(T>>>16&255)<<1,k=(T>>>8&255)<<1,hG=(T&255)<<1,eE=(V>>>16&255)<<2,hW=(V>>>8&255)<<2,hh=(V&255)<<2,hI=0,db=0,by=0;
hI=~~(.5+(f+y+g+a)*(1/9));db=~~(.5+(_+L+G+A)*(1/9));by=~~(.5+(E+S+b+u)*(1/9));Y[o]=255<<24|by<<16|db<<8|hI;
hI=~~(.5+(i+y+n+a)*(1/9));db=~~(.5+(Z+L+K+A)*(1/9));by=~~(.5+($+S+d+u)*(1/9));Y[o+1]=255<<24|by<<16|db<<8|hI;
hI=~~(.5+(aK+hG+g+a)*(1/9));db=~~(.5+(X+k+G+A)*(1/9));by=~~(.5+(t+fg+b+u)*(1/9));Y[o+O]=255<<24|by<<16|db<<8|hI;
hI=~~(.5+(hh+hG+n+a)*(1/9));db=~~(.5+(hW+k+K+A)*(1/9));by=~~(.5+(eE+fg+d+u)*(1/9));Y[o+O+1]=255<<24|by<<16|db<<8|hI}return{rect:P,iS:B}};
w._p=function(r){var N=255,F=r.length;F-=F&31;for(var R=3;R<F;R+=32)N=N&r[R]&r[R+4]&r[R+8]&r[R+12]&r[R+16]&r[R+20]&r[R+24]&r[R+28];
return N!=255};w.a7_=function(r,N,F,h){var m=w.Ck,O=w.ac7,P=0;if(!w._p(r)){m=w.rM;O=w.a1A}var e={iS:r,rect:N},B=F;
while(B<.499){P++;B*=2}for(var R=0;R<P;R++)e=m(e.iS,e.rect,h);if(B<.5001)e=m(e.iS,e.rect,h);else e=O(e.iS,e.rect,h);
return e};w.ahK=function(r,N,F,h){var m=w.Uq,O=w.pG,e={iS:r,rect:N},P=0,B=F;while(B<.499){P++;B*=2}for(var R=0;
R<P;R++)e=m(e.iS,e.rect,h);if(B<.5001)e=m(e.iS,e.rect,h);else e=O(e.iS,e.rect,h);return e};w.Uq=function(r,N,F){var h=N.e,m=N.n,O=h>>1,e=m>>1,P=new fE(N.x,N.y,O,e);
if(r==null)return{rect:P};var B=F&&F.length>=O*e?F:w.B(O*e);for(var s=0;s<e;s++){var Y=s*O;for(var D=0;
D<O;D++){var c=(s<<1)*h+(D<<1);B[Y+D]=2+r[c]+r[c+1]+r[c+h]+r[c+h+1]>>>2}}return{rect:P,iS:B}};w.pG=function(r,N,F){var h=N.e,m=N.n,O=2*Math.floor(h/3),e=2*Math.floor(m/3),P=new fE(N.x,N.y,O,e);
if(r==null)return{rect:P};var B=F&&F.length>=O*e?F:w.B(O*e);for(var s=0;s<e;s+=2)for(var Y=0;Y<O;Y+=2){var D=s*O+Y,c=(s*3>>>1)*h+(Y*3>>>1),o=r[c]<<2,H=r[c+1]<<1,x=r[c+2]<<2,Q=r[c+h]<<1,U=r[c+1+h],I=r[c+2+h]<<1,l=r[c+h+h]<<2,p=r[c+1+h+h]<<1,j=r[c+2+h+h]<<2;
B[D]=~~(.5+(o+H+Q+U)*(1/9));B[D+1]=~~(.5+(x+H+I+U)*(1/9));B[D+O]=~~(.5+(l+p+Q+U)*(1/9));B[D+O+1]=~~(.5+(j+p+I+U)*(1/9))}return{rect:P,iS:B}};
w.nZ=function(r,N,F,h,m){var O=N.c_(h);if(m)O=O.c_(m);var e=Math.max(0,O.x-N.x),P=Math.max(0,O.x-h.x),B=Math.max(0,O.y-N.y),s=Math.max(0,O.y-h.y),Y=O.e,D=O.n;
for(var R=0;R<D;R++){var c=(B+R)*N.e+e,o=(s+R)*h.e+P;F.set(new Uint8Array(r.buffer,c,Y),o)}};w.Ac=function(r,N,F,h){if(N.cj(h)){w.vr(r,F,3);
return}var m=N.c_(h),O=Math.max(0,m.x-N.x),e=Math.max(0,m.x-h.x),P=Math.max(0,m.y-N.y),B=Math.max(0,m.y-h.y),s=m.e,Y=m.n;
for(var R=0;R<Y;R++){var D=(P+R)*N.e+O,c=(B+R)*h.e+e;for(var o=0;o<s;o++)F[(c+o<<2)+3]=r[D+o]}};w.bi=function(r,N,F,h){var m=N.c_(h),O=Math.max(0,m.x-N.x),e=Math.max(0,m.x-h.x),P=Math.max(0,m.y-N.y),B=Math.max(0,m.y-h.y),s=m.e,Y=m.n;
for(var R=0;R<Y;R++){var D=(P+R)*N.e+O,c=(B+R)*h.e+e;for(var o=0;o<s;o++)F[c+o]=r[(D+o<<2)+3]}};w.L3=function(r,N,F,h,m){if(N.cj(h)&&(m==null||m.cj(h))){w.ZF(r,F);
return}r=new Uint32Array(r.buffer),F=new Uint32Array(F.buffer);var O=N.c_(h);if(m)O=O.c_(m);var e=Math.max(0,O.x-N.x),P=Math.max(0,O.x-h.x),B=Math.max(0,O.y-N.y),s=Math.max(0,O.y-h.y),Y=O.e,D=O.n,c=Y&3,o=c==0?Y:Y-c;
for(var R=0;R<D;R++){var H=(B+R)*N.e+e,x=(s+R)*h.e+P;F.set(new Uint32Array(r.buffer,H*4,Y),x)}};w.z7=function(r,N,F,h){var m=N.c_(h),O=Math.max(0,m.x-N.x),e=Math.max(0,m.x-h.x),P=Math.max(0,m.y-N.y),B=Math.max(0,m.y-h.y),s=m.e,Y=m.n,D=r.O$,c=r.Z,o=r.z,H=r.J,x=F.O$,Q=F.Z,U=F.z,I=F.J;
for(var R=0;R<Y;R++){var l=(P+R)*N.e+O,p=(B+R)*h.e+e;for(var j=0;j<s;j++){x[p+j]=D[l+j];Q[p+j]=c[l+j];
U[p+j]=o[l+j];I[p+j]=H[l+j]}}};w.pg=function(r){var N=r.length;for(var R=0;R<N;R+=4){var F=r[R+3];if(F==255)continue;
r[R]=~~(r[R]*F*(1/255)+.5);r[R+1]=~~(r[R+1]*F*(1/255)+.5);r[R+2]=~~(r[R+2]*F*(1/255)+.5)}};w.l4=function(r){var N=r.length;
for(var R=0;R<N;R+=4){var F=r[R+3];if(F==0||F==255)continue;var h=255/F;r[R]=~~(r[R]*h+.5);r[R+1]=~~(r[R+1]*h+.5);
r[R+2]=~~(r[R+2]*h+.5)}};w.Rq=function(r,N){for(var R=0;R<r.length;R++)if(r[R]!=N)return!1;return!0};
w.uz=function(r){return r+1+(r>>>8)>>>8};w.round=function(r,N){if(N==null)N=128;var F=r.length;for(var R=0;
R<F;R++)r[R]=r[R]<N?0:255};w.Ka=function(r,N){var F=r.length;for(var R=0;R<F;R++)r[R]=Math.round(r[R]*N)};
w.Ir=function(r,N){var F=new Uint32Array(r.buffer),h=new Uint32Array(N.buffer),m=F.length;for(var R=0;
R<m;R++){var O=F[R],e=h[R];h[R]=w.uz((O>>>24)*(e>>>24))<<24|w.uz((O>>>16&255)*(e>>>16&255))<<16|w.uz((O>>>8&255)*(e>>>8&255))<<8|w.uz((O&255)*(e&255))}};
w.UF=function(r,N){var F=r.length;for(var R=0;R<F;R++)N[(R<<2)+3]=w.uz(N[(R<<2)+3]*r[R])};w.a1q=function(r,N,F,h){var m=Math.max(0,h.x-N.x),O=Math.max(0,N.x-h.x),e=Math.max(0,h.y-N.y),P=Math.max(0,N.y-h.y),B=Math.min(N.x+N.e,h.x+h.e)-Math.max(N.x,h.x),s=Math.min(N.y+N.n,h.y+h.n)-Math.max(N.y,h.y);
for(var R=0;R<s;R++){var Y=(e+R)*N.e+m,D=(P+R)*h.e+O;for(var c=0;c<B;c++){F[D]=w.uz(F[D]*r[Y]);Y++;D++}}};
w.Y$=function(r,N,F,h){var m=Math.max(0,h.x-N.x),O=Math.max(0,N.x-h.x),e=Math.max(0,h.y-N.y),P=Math.max(0,N.y-h.y),B=Math.min(N.x+N.e,h.x+h.e)-Math.max(N.x,h.x),s=Math.min(N.y+N.n,h.y+h.n)-Math.max(N.y,h.y);
for(var R=0;R<s;R++){var Y=(e+R)*N.e+m,D=((P+R)*h.e+O<<2)+3;for(var c=0;c<B;c++){F[D]=w.uz(F[D]*r[Y]);
Y++;D+=4}}};w.qS=function(r,N,F,h){var m=Math.max(0,h.x-N.x),O=Math.max(0,N.x-h.x),e=Math.max(0,h.y-N.y),P=Math.max(0,N.y-h.y),B=Math.min(N.x+N.e,h.x+h.e)-Math.max(N.x,h.x),s=Math.min(N.y+N.n,h.y+h.n)-Math.max(N.y,h.y);
for(var R=0;R<s;R++){var Y=((e+R)*N.e+m<<2)+3,D=((P+R)*h.e+O<<2)+3;for(var c=0;c<B;c++){F[D]=w.uz(F[D]*r[Y]);
Y+=4;D+=4}}};w.K2=function(r){var N=new Float64Array(256),F=new Float64Array(256),h=new Float64Array(256),m=new Float64Array(256),O=r.length,e=0;
for(var R=0;R<O;R+=4){var P=r[R+0],B=r[R+1],s=r[R+2],Y=r[R+3],D=Y*(1/255);F[P]+=D;h[B]+=D;m[s]+=D;e+=Y}for(var R=0;
R<256;R++)N[R]=F[R]+h[R]+m[R];return[N,F,h,m,O>>>2,e/255]};w.AO=function(r,N){function F(T,V){var E=-1,_=0;
while(_<=V){E++;_+=T[E]}return E}function h(T,V){var E=256,_=0;while(_<=V){E--;_+=T[E]}return E}function m(T){var V=0,E=0;
for(var R=0;R<256;R++){E+=T[R];V+=T[R]*R*(1/255)}return V/E}var O=r[0],e=r[1]/100,P=r[2]/100,B=[],s=[];
for(var R=0;R<4;R++){var Y=R==0?3:1;B[R]=F(N[R],Y*e*N[5]);s[R]=h(N[R],Y*P*N[5])}var D=[m(N[1]),m(N[2]),m(N[3])],c=D.slice(0);
c.sort(function(T,V){return T-V});var o=D.indexOf(c[1]),H=(D[0]+D[1]+D[2])/3,x=[];for(var R=0;R<4;R++){var Q=0,U=255,I=B[R],l=s[R];
if(O==0&&R==0){Q=I;U=l}if(O==1&&R!=0){Q=I;U=l}if(O==2&&R!=0){var Y=D[R-1]/H;U=Math.max(0,Math.min(255,s[o]*Y))}var p=[Q,U];
x.push(p);if(O==3&&R==0){var j=255*(1-H);p.push(j)}}return x};w.dx=function(r,N){var F=new Uint32Array(r.buffer),h=F.length;
for(var R=0;R<h;R++){var m=F[R],O=m&255,e=m>>8&255,P=m>>16&255,B=m>>24&255;F[R]=N[O]|N[e]<<8|N[P]<<16|N[B]<<24}};
w.a6Y=function(r,N,F,h,m,O,e){var P=new Uint32Array(r.buffer),B=new Uint32Array(N.buffer),s=P.length,Y=0;
while(256<<Y<F.length)Y++;if(!e&&!O){for(var R=0;R!=s;R++){var D=P[R],c=(D&255)<<Y,o=(D>>>8&255)<<Y,H=(D>>>16&255)<<Y,x=F[c],Q=h[o],U=m[H];
B[R]=x|Q<<8|U<<16|D&4278190080}return}for(var R=0;R<s;R++){var D=P[R],c=(D&255)<<Y,o=(D>>>8&255)<<Y,H=(D>>>16&255)<<Y;
if(O)c=o=H=Math.round(c*.3+o*.59+H*.11);var x=F[c],Q=h[o],U=m[H];if(e){var I=w.$X(c,o,H),l=w.$X(x,Q,U);
if(I>l){var p=(I-l)/(255-l);x+=p*(255-x);Q+=p*(255-Q);U+=p*(255-U)}else if(l==0)x=Q=U=0;else{var p=I/l;
x=p*x;Q=p*Q;U=p*U}}B[R]=x|Q<<8|U<<16|D&4278190080}};w.va=function(r,N){var F=N.e,h=N.n,top=0,m=0,O=0,e=0,P=0;
P=0;for(var B=0;B<h;B++){var s=B*F;for(var R=0;R<F;R++)P|=r[s+R];if(P!=0)break;top++}if(top==h)return new fE(0,0,0,0);
P=0;for(var B=h-1;B>=0;B--){var s=B*F;for(var R=0;R<F;R++)P|=r[s+R];if(P!=0)break;O++}var Y=h-O;P=0;
for(var R=0;R<F;R++){for(var B=top;B<Y;B++)P|=r[B*F+R];if(P!=0)break;m++}P=0;for(var R=F-1;R>=0;R--){for(var B=top;
B<Y;B++)P|=r[B*F+R];if(P!=0)break;e++}var D=new fE(N.x+m,N.y+top,F-m-e,h-top-O);return D};w.Lw=function(r,N,F,h){if(h==null)h=[!0,!0,!0,!0];
if(F==null)F=0;var m=new Uint32Array(r.buffer),O=N.e,e=N.n,top=0,P=0,B=0,s=0,Y=!1,D=[m[0],m[m.length-1],0][F];
Y=!1;if(h[0])for(var c=0;c<e;c++){var o=c*O;for(var R=0;R<O;R++)if(m[o+R]!=D)Y=!0;if(Y)break;top++}Y=!1;
if(h[2])for(var c=e-1;c>=0;c--){var o=c*O;for(var R=0;R<O;R++)if(m[o+R]!=D)Y=!0;if(Y)break;B++}Y=!1;
if(h[1])for(var R=0;R<O;R++){for(var c=0;c<e;c++)if(m[c*O+R]!=D)Y=!0;if(Y)break;P++}Y=!1;if(h[3])for(var R=O-1;
R>=0;R--){for(var c=0;c<e;c++)if(m[c*O+R]!=D)Y=!0;if(Y)break;s++}var H=new fE(N.x+P,N.y+top,O-P-s,e-top-B);
return H.lX()?new fE(0,0,0,0):H};w.RR=function(r){var N=w.va(r.channel,r.rect);if(N.cj(r.rect))return;
var F=w.B(N.W());w.nZ(r.channel,r.rect,F,N);r.channel=F;r.rect=N};w.uQ=function(r){var N=w.B(r.buffer.length>>2);
w.Pw(r.buffer,N,3);var F=w.va(N,r.rect);if(F.cj(r.rect))return;var h=new w.B(F.W()*4);w.L3(r.buffer,r.rect,h,F);
r.buffer=h;r.rect=F};w.extend=function(r,N,F){if(r.rect.w9(N))return;var h=r.rect.fD(N),m=w.B(h.W());
if(F!=null)m.fill(F);w.nZ(r.channel,r.rect,m,h);r.rect=h;r.channel=m};w.a7T=function(r,N){if(N.lX()||r.rect.w9(N))return;
var F=r.rect.fD(N),h=w.B(F.W()*4);w.L3(r.buffer,r.rect,h,F);r.rect=F;r.buffer=h};w.Bp=function(r,N,F){if(!F.Ev(r))return!1;
var h=Math.floor(r.x)-F.x,m=Math.floor(r.y)-F.y,R=m*F.e+h;return N[R]>128};w.aaL=function(r,N,F){if(!F.Ev(r))return!1;
var h=Math.floor(r.x)-F.x,m=Math.floor(r.y)-F.y,R=m*F.e+h;return N[4*R+3]>128};w.a$=function(r){if(w.$m.length<r){w.$m=w.B(r);
w.$m.fill(255)}return w.$m};w.$m=w.B(0);w.LQ=function(r){if(w.fR.length<r)w.fR=w.B(r);return w.fR};w.fR=w.B(0);
w.rX=function(r){this.O$=w.B(r);this.Z=w.B(r);this.z=w.B(r);this.J=w.B(r)};w.rX.prototype.clone=function(){var r=this.O$.length,N=new w.rX(1);
N.O$=this.O$.slice(0);N.Z=this.Z.slice(0);N.z=this.z.slice(0);N.J=this.J.slice(0);return N};w.K.a46=function(r,N,F,h,m){var O=m[0]+1,e=m[1],P=Math.abs(e-25)/4,B=m[2],s=B%2+B*B>>1,Y=w.K.P;
Y.GH(N,F);var D=Y.mM(1),c=Y.mM(1),o=Y.mM(1);Y.Ih(r,h,B,B,s);Y.$R(h);Y.r3(h,D);Y.FJ(D,c,O,O,1);Y.FJ(D,o,O,O,O*O);
Y.sub(o,c);Y.Ir(c,P);(e<25?Y.sub:Y.add)(D,c);Y.Hm(c,h);Y.hf(h)};w.K.adt=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=m[0]*2.55,P=m[1],B=P>>1,s=m[2]*.25,Y=O.mM(4),D=O.mM(1),c=O.mM(1);O.cw(r,Y,P,1,!0,B);
O.cw(r,h,P,1,!1,B);O.mt(r,D);O.gj(D,e);O.PJ(D,c,3);O.AV(h,c,Y);O.IN(Y,h,s)};w.K.a7m=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[3]);var e=m[0]*-3+80,P=m[1]*-3+80,B=m[2]/2+.5,s=m[4],Y=m[5],D=O.mM(1),c=O.mM(1),o=O.mM(1),H=O.mM(1),x=O.mM(4),Q=O.mM(4);
O.mt(r,D);O.ZF(D,c);O.kp(D,P,5);O.qC(D,.4,0);O.PJ(D,o,3);O.Sp(o,D,9,3,!0,27);O.ZF(c,o);O.iL(o);var U=O.YG(e,5,o);
for(var R=0;R<O.WY;R++){c[R]=U[255-c[R]]}O.qC(c,.4,0);O.ZF(c,o);O.PJ(o,H,2);O.Sp(H,o,5,3,!1,15);O.Ir(D,B);
O.Ir(o,B);O.Gn(h,2155905279);O.Gn(Q,s);O.Gn(x,Y);O.AV(Q,D,h);O.AV(x,o,h)};w.K.al4=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=new Uint8Array(256),P=5+10*m[1];P+=m[1]>3?(m[1]-3)*10:0;var B=~~(m[2]*.73)+50,s=Math.min(B+P,128),Y=s-B,D=-255*B;
for(var R=0;R<256;R++){var c=R*65;e[R]=O.Q3(D/Y);D+=255}var o=O.mM(1),H=O.mM(1),x=O.mM(1);O.mt(r,o);
O.ZF(o,x);O.PJ(o,H,2*m[0]+1);O.sub(H,o);O.Ir(o,65);O.Sp(o,H,9,3,!0,20);for(var R=0;R<O.WY;R++){var Q=x[R],U=H[R];
o[R]=U>0?~~((U*Q+(255-U)*128)/255):128}O.PJ(o,H,3);O.Sp(H,o,15,2,!0,16);O.Sp(H,x,15,2,!1,15);O.xh(o,x);
O.SU(x,H,2);O.V7(H,e);O.PJ(H,o,2);O.Wj(o,h)};w.K.arl=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);var e=2*m[0]+1,P=O.JA[m[1]],B=m[2]*5.1,s=m[3],Y=O.mM(1),D=O.mM(1),c=O.mM(4),o=O.mM(4);
O.Gn(c,s);O.$R(c,h);O.yP(Y,B);O.Hm(Y,h);O.hf(h,c);O.mt(r,D);O.PJ(D,Y,e);O.sub(Y,D);O.Ir(D,P);O.Sp(D,Y,9,3,!0,20);
O.AV(r,Y,c);O.Qa(c,h,3);O.cw(h,c,15,2,!0,16);O.cw(h,o,15,2,!1,16);O.xh(c,o);O.IN(o,h,2)};w.K.aaY=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=(15-m[0])/4+1,P=(15-m[1])/4+1,B=m[2],s=m[3],Y=O.ht(m[4]),D=m[5]+1,c=m[6],o=m[7],H=m[8],x=O.mM(1),Q=O.mM(1),U=O.mM(1),I=O.mM(1),l=O.mM(4),p=O.mM(4);
O.I9(U,B,s,c);O.mt(r,Q);O.PJ(Q,x,5);O.Nn(U,x,I,D,Y);O.Ir(I,e);O.sw(I,2);O.iL(x);O.Nn(U,x,Q,D,Y);O.Ir(Q,P);
O.sw(Q,2);O.Gn(l,2155905279);O.Gn(p,o);O.Gn(h,H);O.AV(l,Q,p);O.AV(p,I,h)};w.K.a63=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[3]);var e=m[0],P=m[1]/10,B=m[2]/10,s=O.mM(1),Y=O.mM(1),D=O.mM(1),c=O.Mb(),o=O.Mb(),H=O.Mb();
O.oi(s);O.PJ(s,Y,11);O.PJ(Y,s,11);O.qE(s,c);O.Vz(r,s);O.ZF(s,D);O.PJ(s,Y,9);O.PJ(Y,s,9);O.qE(s,o);O.NA(o,H,5);
O.NA(H,o,5);O.sS(c,.8);O.a1n(c,o,.8,.9);O.lb(o,s,e);O.FJ(s,Y,2,2,1);O.FJ(Y,s,2,2,3);O.FJ(s,Y,2,2,3);
O.FJ(D,s,5,5,13);O.Cw(Y,s,Y,P);O.gX(s,Y,Y,B);O.Nn(Y,Y,s,5,1);O.$R(r,h);O.Hm(s,h);O.hf(h)};w.K.aht=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=m[0],P=m[1]/2,B=m[2],s=e/2,Y=O.mM(4),D=O.mM(4);O.ZF(r,h);for(var c=0;c<B;c++){O.cw(h,Y,e,1,!0,s);
O.cw(h,D,e,1,!1,s);O.xh(D,Y);O.Qa(Y,D,2);O.IN(D,h,P)}};w.K.adi=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);
var e=m[0]*10,P=m[1]*4.9,B=m[2]*4.9,s=O.mM(1),Y=O.mM(1),D=O.mM(4),c=O.mM(4);O.mt(r,s);O.gj(s,O.arq(s,e));
O.PJ(s,Y,3);O.cw(r,D,5,1,!1,1);O.cw(r,h,15,2,!0,16);O.AV(h,Y,D);O.$R(D,h);O.r3(h,s);O.kp(s,P,B);O.Hm(s,h);
O.hf(h)};w.K.auV=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);O.K5(m[4]);var e=m[0]/20,P=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][m[1]],B=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][m[2]],s=m[3],Y=new Int16Array(256);
for(var R=0;R<256;R++){Y[R]=~~((R-128)*e)}var D=O.mM(1),c=O.mM(1),o=O.mM(4);O.mt(r,D);O.PJ(D,c,25);O.Ir(c,P);
O.sw(c,B);O.PJ(c,D,25);O.oi(c);O.bB(D,c,Y);O.ZF(r,h);O.Gn(o,s);O.AV(o,D,h)};w.K.aka=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=m[0]+5,P=15-m[1],B=e*e/2,s=1-(3-m[2])/10,Y=~~(P*P*s-1),D=~~(P*P*(1-s));if(D==0)D=1;var c=O.mM(1),o=O.mM(1),H=O.mM(1),x=O.mM(4);
O.mt(r,H);O.FJ(H,c,e,e,B);O.PJ(H,o,e);O.sub(c,o);O.gj(o,1);O.Ih(r,x,P,P,Y);O.Ih(r,h,P,P,D);O.AV(x,o,h)};
w.K.a4w=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);O.K5(m[3]);var e=(20-m[0])*.05,P=m[1]*-2.75+60,B=65-P,s=m[2]/10,Y=O.mM(1),D=O.mM(1);
O.Vz(r,D);var c=O.YG(P,B,D);O.$R(r,h);O.r3(h,D);O.oi(Y);O.gq(D,Y,e);O.V7(D,c);O.Ir(D,m[2]/10);O.add(Y,D);
O.Hm(D,h);O.hf(h)};w.K.a8U=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);var e=5+m[0],P=15-m[1],B=m[2],s=e*e/2+e*e%2*1,Y=1-(3-m[2])/10,D=~~(P*P*Y-1),c=~~(P*P*(1-Y));
if(c==0)c=1;var o=O.mM(1),H=O.mM(1),x=O.mM(1),Q=O.mM(1),U=O.mM(1);O.Vz(r,H);O.SU(H,o,3);O.FJ(o,H,2,2,1);
var I=O.YG(20,20,H);O.V7(H,I);O.PJ(H,U,5);O.FJ(U,o,e,e,s);O.FJ(U,H,P,P,D);O.FJ(U,x,P,P,c);O.PJ(U,Q,e);
O.sub(o,Q);O.gj(Q,1);O.Sr(H,Q,x);O.$R(r,h);O.Hm(x,h);O.hf(h)};w.K.agd=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[5]);var e=O.WY,P=O.rR,B=m[0],s=m[1],Y=m[2],D=m[3],c=m[4],o=.05*B+1,H=B/100,x=B>>1,Q=2*B-100,U=+(s==9),I=+(s==7),l=[4,1][U],p=[3,2][U],j=[1,2][I],T=[2,1][I],V=[50,75][U],E=s<4?Y:(Y>>1)+50,_=O.cV(V,E),f=O.AJ(D),S=O.AJ(c),L=O.mM(4),y=O.mM(4),$=O.mM(1),Z=O.mM(1);
function i(h,_){if(E!=50){O.pD(h,_)}}function b(r,fg){for(var R=0;R<e;R++){r[R]=O.Q3(r[R]+(fg[R]-128)*H)}}function G(r,fg){for(var R=0,k=0;
R<e;R++){r[k]=O.Q3(r[k]+(fg[k]-128)*H);r[k+1]=O.Q3(r[k+1]+(fg[k+1]-128)*H);r[k+2]=O.Q3(r[k+2]+(fg[k+2]-128)*H);
k+=4}}function g(r,h){O.oi(y);O.ZF(r,h);G(h,y);i(h,_)}function u(fg){var k=0;for(var hG=0;hG<12;hG++)k+=O.random();
return O.Q3(x*(k-6)+fg)}function A(r,h){O.ZF(r,h);for(var R=0;R<P;R+=4){h[R]=u(h[R]);h[R+1]=u(h[R+1]);
h[R+2]=u(h[R+2])}i(h,_)}function a(r,h){O.ZF(r,h);for(var R=0;R<P;R+=4){if(O.random()<H){h[R]=f[0];h[R+1]=f[1];
h[R+2]=f[2]}}i(h,_)}function d(r,h){O.oi(L);O.Ih(L,y,p,p,l);O.ZF(r,L);G(L,y);O.Ih(L,h,5,5,13);i(h,_)}function K(r,h){O.oi(y);
O.ZF(r,L);G(L,y);i(h,_);O.Ih(L,h,p,p,l)}function n(r,h){O.ZF(r,L);i(h,_);O.mt(L,$);for(var R=0,fg=0;
R<e;R++){var k=((Q-$[R]+255)*128.5+.5)/32767;if(O.random()<=k){h[fg++]=S[0];h[fg++]=S[1];h[fg++]=S[2]}else{h[fg++]=f[0];
h[fg++]=f[1];h[fg++]=f[2]}h[fg]=r[fg];fg++}}function t(r,h){O.$R(r,h);O.r3(h,$);O.SU($,Z,o);O.FJ(Z,$,p,p,l);
O.V7($,_);O.Hm($,h);O.hf(h)}function X(r){var fg=0;if(s==8){for(var k=0;k<N;k++){r[fg++]=~~(O.random()*255)}for(var R=1;
R<F;R++){for(var k=0;k<N;k++){r[fg++]=r[k]}}}else{for(var R=0;R<F;R++){var hG=~~(O.random()*255);for(var k=0;
k<N;k++){r[fg++]=hG}}}}function aK(r,h){O.mt(r,$);O.oi(Z);b($,Z);X(Z);b($,Z);O.Qa(r,L,9);O.Qa(L,y,9);
O.PJ($,Z,2);O.V7(Z,_);O.PJ(Z,$,2);O.$R(y,h);O.Hm($,h);O.hf(h)}[g,A,a,d,d,K,n,aK,aK,t][s](r,h)};w.K.a7r=function(r,N,F,h,m){var O=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],e=w.K.P,x=0,Q,R,j,T,V,E=0,_=1,f=255;
e.GH(N,F);e.K5(m[3]);var P=e.mM(1),B=e.mM(1);e.mt(r,P);var s=m[0],Y=m[1],D=Y<=50?O[Y]/255:1+(255-O[101-Y])/255,c=m[2],o=P.length,H=new Float32Array(o),U=1+1/10*s,I=(1-1/U)/2,l=16/256,p=N-1;
for(R=0;R<e.WY;R++){H[R]=P[R]/255;B[R]=s==1?e.random()<1/255?f:_:_}function S(L,y){var $=L*N+y;if(B[$]!=_||L>=F||y>=N){return}var T=H[$],Z=D-T,i=e.random(),b=i/U+I;
if(x==0||Math.abs(V-T)>l){Q=b<=Z?E:f;x=~~(e.random()*s)}else if(.1<i){x--}else{x=0}B[$]=Q;V=T}if(c==0){for(R=0;
R<N;R++){for(j=0;j<N;j++){T=R+j;if(T>=N)break;S(j,p-T)}x=0}for(R=1;R<F;R++){for(j=0;j<F;j++){T=R+j;if(T>=F||j>=N)break;
S(T,p-j)}x=0}}else if(c==1){for(R=0;R<F;R++){for(j=0;j<N;j++){S(R,j)}x=0}}else if(c==2){for(R=0;R<N;
R++){for(j=0;j<N;j++){T=R+j;if(T>=N)break;S(j,T)}x=0}for(R=1;R<F;R++){for(j=0;j<F;j++){T=R+j;if(T>=F||j>=N)break;
S(T,j)}x=0}}else{for(R=0;R<N;R++){for(j=0;j<F;j++){S(j,R)}x=0}}e.Wj(B,h)};w.K.aiN=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=m[0],P=m[1],B=m[2],s=O.mM(1),Y=O.mM(1),D=O.mM(1),c=O.mM(4),o=O.mM(4);O.mt(r,s);O.FJ(s,Y,3,3,1);
O.FJ(s,D,3,3,9);O.sub(D,Y);O.PJ(Y,s,3);O.kp(s,40,10);O.cw(r,h,e,2,!1,e);O.cw(r,c,e,2,!0,e);O.Gn(o,255);
O.AV(h,s,o);O.AV(o,s,c);O.IN(c,h,1);O.$R(h);O.r3(h,s);O.kp(s,P,B);O.Hm(s,h);O.hf(h)};w.K.akR=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[3]);var e=m[0],P=m[1],B=m[2]/10;e=e+P;var s=O.mM(1),Y=O.mM(1),D=O.Mb(),c=O.Mb();O.oi(s);
O.PJ(s,Y,11);O.PJ(Y,s,11);O.qE(s,D);O.NA(D,c,5);O.NA(c,D,5);O.sS(c,.97);O.lb(c,s,e);O.FJ(s,Y,P,P,1);
O.Vz(r,s);O.Cw(Y,s,Y,.6);O.gX(s,Y,Y,B);O.Nn(Y,Y,s,5,1);O.$R(r,h);O.Hm(s,h);O.hf(h)};w.K.a5o=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=Math.abs(m[0]),P=e+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][e],B=2*e+1,s=m[1]/10,Y=s*13/15,D=O.mM(1),c=O.mM(1),o=O.mM(1),H=O.mM(1),x=O.mM(4),Q=O.mM(4),U=O.mM(4),I=O.mM(4),l=O.mM(4);
O.mt(r,D);if(m[0]>=0){O.iL(D)}O.ZF(D,o);O.PJ(D,H,P);O.PJ(H,D,P);O.Ir(D,s);O.ZF(D,c);O.PJ(D,H,B);O.PJ(H,D,B);
O.Ir(D,Y);O.Gn(U,m[2]);O.Gn(I,m[3]);O.Gn(l,m[4]);O.AV(U,D,I,x);O.AV(l,c,x,Q);O.AV(I,o,Q,h);O.r3(r,o,3);
O.Hm(o,h,3)};w.K.abk=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);O.K5(m[5]);var e=m[0]*5.1,P=m[1]/100,B=O.Q2[m[2]],s=O.mM(1),Y=O.mM(1),D=O.mM(1);
O.mt(r,s);O.yP(Y,255);O.oi(D);O.gj(s,e);O.gq(Y,s,.7);O.gq(D,s,P);O.Nn(s,s,Y,5,B);O.ZF(r,h);O.a9d(h,e,m[4],m[3]);
O.$R(h);O.Hm(Y,h);O.hf(h)};w.K.avy=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);var e=m[0],P=4-m[1],B=11-m[2],s=O.mM(1),Y=O.mM(1),D=O.mM(4);
O.Vz(r,Y);for(var R=0;R<P;R++){O.ZF(Y,s);O.JD(s,Y,e,e)}O.Qa(r,D,e);O.$R(D,D);O.Hm(Y,D);O.hf(D,D);(B<11?O.a5c:O.ZF)(D,h,B)};
w.K.asB=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);O.K5(m[2]);var e=m[0]+5,P=~~(e/5+1),B=~~(e/2)+1,s=B*B,Y=~~(e/3),D=O.Q2[m[1]],c=new Array(256);
for(var R=0;R<256;R++){c[R]=~~(.2*(R-128))}var o=O.mM(1),H=O.mM(1);O.a3U(r,h,e);O.$R(h);O.r3(h,o);O.oi(H);
O.bB(o,H,c);O.a7H(H,e,e,P,P);O.Cw(o,H,o,1);O.PJ(o,H,Y);O.PJ(H,o,Y);O.FJ(o,H,B,B,s);O.Nn(H,H,o,5,D);O.Hm(o,h);
O.hf(h)};w.K.a0K=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);var e=O.mM(1),P=O.mM(1),B=O.mM(1),s=O.Mb(),Y=O.Mb();
O.mt(r,e);O.PJ(e,P,m[2]);O.gj(P,m[0]*5.1);O.FJ(P,e,2,2,4);O.PJ(e,P,3);O.PJ(P,e,3);O.ZF(e,B);O.PJ(e,P,5);
O.PJ(P,e,5);O.qE(e,s);O.NA(s,Y,5);O.NA(Y,s,5);O.a0A(s,P,m[1]);O.iL(P);O.Cw(B,P,B,1);O.Wj(B,h)};w.K.aa8=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=1<<7-m[2],P=O.mM(1),B=O.mM(1),s=O.mM(1);O.Vz(r,B);O.PJ(B,P,3);O.ZF(P,B);O.PJ(P,s,m[0]+5);
O.sub(s,B);O.kp(B,1,m[1]);O.Ir(P,1/e);O.Ir(P,e);O.sub(P,B);O.$R(r,h);O.Hm(B,h);O.hf(h)};w.K.aay=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[3]);var e=O.mM(1),P=O.mM(1),B=O.mM(1);O.mt(r,e);O.avT(P,m[0]/50);O.PJ(P,B,3);O.FJ(e,P,9,9,41);
O.kp(P,m[1],m[2]);O.Cw(P,B,B,.75);O.gX(P,B,P,.5);O.ZF(P,e);O.FJ(e,B,3,3,8);O.Cw(B,P,B,.75);O.Ir(B,1.2);
O.SU(B,e,1);O.PJ(e,B,2);O.SU(B,e,2);O.Ir(e,1.2);O.PJ(e,B,2);O.Wj(B,h)};w.K.ahq=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=m[0]+9,P=m[1]/2,B=m[2],s=m[3],Y=O.ht(m[4]),D=m[5]+1,c=m[6],o=O.mM(1),H=O.mM(1),x=O.mM(4),Q=O.mM(4);
O.I9(H,B,s,c);O.dd(r,h,e,1,1);O.dd(h,x,e,1,1);O.aas(x,x,Q,7,P);O.Ir(Q,1.2);O.sw(Q,1.2);O.Nn(H,o,o,D,Y);
O.Ir(o,3);O.ZF(r,h);O.AV(Q,o,h)};w.K.abE=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);O.K5(m[3]);var e=m[0]+4,P=e*2/5+(e%5|0);
e--;var B=m[1]*-2.75+60,s=65-B,Y=m[2]/10,D=O.mM(1),c=O.mM(1);O.oi(D);O.Vz(r,c);var o=O.YG(B,s,c);O.$R(r,h);
O.r3(h,c);O.gq(c,D,.8);O.V7(c,o);O.Ir(c,Y);O.add(D,c);O.Sp(c,D,e,3,!1,P);O.Hm(D,h);O.hf(h)};w.K.aa4=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[3]);var e=m[0]+5,P=(e*e>>1)+e%2,B=m[1]/10,s=m[2],Y=(s*s>>1)+s%2,D=O.mM(1),c=O.mM(1),o=O.mM(1),H=O.mM(4),x=O.mM(4),Q=O.mM(4);
O.oi(o);O.$R(r,Q);O.r3(Q,D);O.gq(D,o,.8);O.PJ(o,D,3);O.SU(D,o,B);O.Hm(o,Q);O.hf(Q,Q);O.mt(Q,o);O.FJ(o,D,e,e,P);
O.PJ(o,c,e);O.sub(D,c);O.gj(c,1);O.Ih(Q,H,7,7,40);O.Ih(Q,x,7,7,10);O.AV(H,c,x);O.Ih(x,h,s,s,Y)};w.K.a72=function(r,N,F,h,m){var O=w.K.P,P=255,R,s;
O.GH(N,F);var e=m[0];if(e<2)P=e;else if(e<12)P=5*e-5;else if(e<47)P=2*e+28;else if(e<50){R=e-47;P=125+12.5*R+12.5*R*R}var B=new Uint8Array(256);
for(R=75,s=15;R<256;R++,s+=24)B[R]=Math.min(255,s);var Y=O.mM(1),D=O.mM(1),c=O.mM(1);O.mt(r,Y);O.PJ(Y,D,11);
O.PJ(D,c,11);O.sub(c,Y);O.Ir(Y,8);O.sub(c,Y);O.gj(Y,P);O.iL(Y);O.PJ(Y,D,5);O.gj(D,51);O.PJ(D,Y,m[1]);
O.PJ(Y,D,m[1]);O.iL(D);O.V7(D,B);O.Wj(D,h)};w.K.afR=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);var e=O.JA[m[1]],P=m[2],B=P*1.5,s=O.mM(1),Y=O.mM(1),D=O.mM(1);
O.Vz(r,s);O.Sp(s,Y,15,2,!0,15);O.ZF(Y,D);O.kp(D,P,B);O.PJ(D,s,3);O.PJ(Y,D,m[0]);O.sub(D,Y);O.Ir(Y,e);
O.sub(s,Y);O.PJ(Y,s,3);O.Sp(s,Y,3,1,!1,1);O.Qa(r,h,15);O.$R(h);O.Hm(Y,h);O.hf(h)};w.K.a22=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);O.K5(m[3]);var e=m[0]*5.1,P=16-m[1],B=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][m[2]],s=O.mM(1),Y=O.mM(1),D=O.mM(1);
O.mt(r,s);O.gj(s,e);O.PJ(s,Y,P);O.PJ(Y,s,P);O.oi(D);O.gX(s,D,D,1);O.Cw(s,D,s,.75);O.Ir(s,B);O.sw(s,B);
O.FJ(s,Y,2,2,2);O.Wj(Y,h)};w.K.ahj=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);var e=m[0]+9,P=m[1]+9,B=m[2],s=m[3],Y=O.ht(m[4]),D=m[5]+1,c=m[6],o=O.mM(1),H=O.mM(1),x=O.mM(1),Q=O.mM(1),U=O.mM(1),I=O.mM(4);
O.Vz(r,o);O.JD(o,x,e,e);O.PJ(x,o,P);O.ZF(x,U);O.ZF(o,Q);O.sub(U,Q);O.sub(o,U);O.add(U,Q);O.Ir(Q,10);
O.I9(H,B,s,c);O.Nn(H,o,U,D,Y);O.Sr(U,Q,x,.8);O.Qa(r,I,9);O.Qa(I,h,9);O.$R(h);O.Hm(x,h);O.hf(h)};w.K.aeE=function(r,N,F,h,m){var O=w.K.P;
O.GH(N,F);var e=16-m[0],P=m[1]*8,B=1-(3-m[2])/10,s=~~(e*e*B-1),Y=~~(e*e*(1-B));if(Y==0)Y=1;var D=O.mM(1),c=O.mM(1),o=O.mM(1),H=O.mM(4);
O.mt(r,o);O.FJ(o,D,7,7,25);O.PJ(o,c,7);O.sub(D,c);O.gj(c,1);O.Ih(r,H,e,e,s);O.Ih(r,h,e,e,Y);O.AV(H,c,h);
O.$R(h);O.r3(h,D);O.FJ(D,o,3,3,1);O.FJ(D,c,3,3,9);O.sub(c,o);O.ZF(o,c);O.sub(D,o);O.sub(o,c);O.FJ(c,D,3,3,8);
O.kp(D,P,1);O.Hm(D,h);O.hf(h)};w.K.aan=function(r,N,F,h,m){var O=w.K.P;O.GH(N,F);O.K5(m[3]);var e=m[0],P=m[1],B=m[2],s=e>>1,Y=Math.max(~~(e/5),1),D=Math.max(~~(e*2/3),1),c=O.cV(P,B),o=O.mM(1),H=O.mM(1),x=O.mM(1),Q=O.mM(1),U=O.mM(4);
O.Vz(r,o);O.J0(2147483647,4,2,2,0,255,H);O.J0(4,2147483647,2,2,0,255,Q);O.oi(x);O.gX(H,x,H,1);O.gX(Q,x,Q,1);
O.gX(H,o,H,1);O.gX(Q,o,Q,1);O.Qa(r,U,s);O.Qa(U,h,s);O.FJ(H,o,1,e,Y);O.FJ(o,H,3,e,D);O.FJ(Q,o,e,1,Y);
O.FJ(o,Q,e,3,D);O.xh(H,Q);O.$R(h);O.Hm(Q,h);O.hf(h);O.pD(h,c)};w.K.P={};w.K.P.YW=0;w.K.P.Nf=0;w.K.P.WY=0;
w.K.P.jt=0;w.K.P.rR=0;w.K.P.GH=function(r,N){var F=r*N,self=w.K.P;self.YW=r;self.Nf=N;self.WY=F;self.jt=F<<1;
self.rR=F<<2};w.K.P.K5=function(r){w.K.P.random=function(){var N=r+=1831565813;N=Math.imul(N^N>>>15,N|1);
N^=N+Math.imul(N^N>>>7,N|61);return((N^N>>>14)>>>0)/4294967296}};w.K.P.mM=function(r){var N=w.K.P;return new Uint8Array([-1,N.WY,N.jt,-1,N.rR][r])};
w.K.P.Mb=function(){return new Int32Array(w.K.P.jt)};w.K.P.PJ=function(r,N,F,h){if(h==null)h=F;var self=w.K.P,m=self.YW,O=self.Nf;
w.Hu.AC(r,N,new fE(0,0,m,O),F>>>1);return};w.K.P.NA=function(r,N,F,h){var self=w.K.P,m=new Int32Array(self.WY),O=new Int32Array(self.WY);
for(var R=0;R<2;R++){self.r3(r,m,R,2);self.PJ(m,O,F,h);self.Hm(O,N,R,2)}};w.K.P.Qa=function(r,N,F,h){var self=w.K.P,m=self.mM(1),O=self.mM(1);
for(var R=0;R<4;R++){self.r3(r,m,R);if(R<3)self.PJ(m,O,F,h);else O=m;self.Hm(O,N,R)}};w.K.P.dd=function(r,N,F,h,m){var self=w.K.P,O=self.YW,e=self.Nf,P=F+h-1,B=F>>1,s=P>>1,Y=0,D=F*h,c=new Int32Array(F);
for(var R=0;R<e;R++){var o=0,H=0,x=0;for(var Q=0;Q<F;Q++){var U=m?P-Q-h:Q;for(var I=U,l=h+U;I<l;I++){var p=0-s+I,j=R-B+Q;
if(I==U){c[Q]=p}if(p<0)p=0;else if(p>=O)p=O-1;if(j<0)j=0;else if(j>=e)j=e-1;var T=O*j+p<<2;o+=r[T];H+=r[T+1];
x+=r[T+2]}}N[Y++]=~~(o/D);N[Y++]=~~(H/D);N[Y++]=~~(x/D);N[Y]=r[Y];Y++;for(var V=1;V<O;V++){for(var Q=0;
Q<F;Q++){var j=R-B+Q,U=c[Q]+1;c[Q]=U;var E=U-1,_=U+h-1;if(j<0)j=0;else if(j>=e)j=e-1;if(E<0)E=0;else if(E>=O)E=O-1;
if(_<0)_=0;else if(_>=O)_=O-1;var f=j*O+E<<2,S=j*O+_<<2;o=o+r[S]-r[f];H=H+r[S+1]-r[f+1];x=x+r[S+2]-r[f+2]}N[Y++]=~~(o/D);
N[Y++]=~~(H/D);N[Y++]=~~(x/D);N[Y]=r[Y];Y++}}};w.K.P.Sp=function(r,N,F,h,m,O){var self=w.K.P,e=self.YW,P=self.Nf,B=F+h-1,s=F>>1,Y=B>>1,D=0,c=new Int32Array(F),o=new Int32Array(256),H=new Int32Array(16);
for(var R=0;R<P;R++){o.fill(0);H.fill(0);for(var x=0;x<F;x++){var Q=m?B-x-h:x;for(var U=Q,I=h+Q;U<I;
U++){var l=0-Y+U,p=R-s+x;if(U==Q){c[x]=l}if(l<0)l=0;else if(l>=e)l=e-1;if(p<0)p=0;else if(p>=P)p=P-1;
o[r[p*e+l]]++;H[r[p*e+l]>>>4]++}}N[D++]=w.K.P.VD(H,o,O);for(var j=1;j<e;j++){for(var x=0;x<F;x++){var p=R-s+x,Q=c[x]+1;
c[x]=Q;var T=Q-1,V=Q+h-1;if(p<0)p=0;else if(p>=P)p=P-1;if(T<0)T=0;else if(T>=e)T=e-1;if(V<0)V=0;else if(V>=e)V=e-1;
var E=r[p*e+T],_=r[p*e+V];o[E]--;o[_]++;H[E>>>4]--;H[_>>>4]++}N[D++]=w.K.P.VD(H,o,O)}}};w.K.P.cw=function(r,N,F,h,m,O){var self=w.K.P,e=self.mM(1),P=self.mM(1);
for(var R=0;R<4;R++){self.r3(r,e,R);if(R<3)self.Sp(e,P,F,h,m,O);else P=e;self.Hm(P,N,R)}};w.K.P.FJ=function(r,N,F,h,m){m=Math.min(h*F,m);
var self=w.K.P,O=self.YW,e=self.Nf,P=h>>1,B=F>>1,s=0,Y=new Int32Array(h),D=new Int32Array(256),c=new Int32Array(16);
for(var R=0;R<e;R++){D.fill(0);c.fill(0);for(var o=0;o<h;o++){for(var H=0,x=F;H<x;H++){var Q=0-B+H,U=R-P+o;
if(H==0){Y[o]=Q}if(Q<0)Q=0;else if(Q>=O)Q=O-1;if(U<0)U=0;else if(U>=e)U=e-1;D[r[U*O+Q]]++;c[r[U*O+Q]>>>4]++}}N[s++]=w.K.P.VD(c,D,m);
for(var I=1;I<O;I++){for(var o=0;o<h;o++){var U=R-P+o,l=Y[o]+1;Y[o]=l;var p=l-1,j=l+F-1;if(U<0)U=0;else if(U>=e)U=e-1;
if(p<0)p=0;else if(p>=O)p=O-1;if(j<0)j=0;else if(j>=O)j=O-1;var T=r[U*O+p],V=r[U*O+j];D[T]--;D[V]++;
c[T>>>4]--;c[V>>>4]++}N[s++]=w.K.P.VD(c,D,m)}}};w.K.P.VD=function(r,N,F){var h=0,m=0;while(h+r[m>>>4]<F){h+=r[m>>>4];
m+=16}for(;m<256;m++){h+=N[m];if(h>=F)break}return m};w.K.P.Ih=function(r,N,F,h,m){var self=w.K.P,O=self.mM(1),e=self.mM(1);
for(var R=0;R<4;R++){self.r3(r,O,R);if(R<3)self.FJ(O,e,F,h,m);else e=O;self.Hm(e,N,R)}};w.K.P.SU=function(r,N,F){var self=w.K.P,h=self.YW,m=self.Nf,O=0;
for(var R=0;R<m;R++){var e=R*h,P=(R-1)*h,B=(R+1)*h;if(P<0)P=e;if(B>=m)B=e;for(var s=0;s<h;s++){var Y=s-1,D=s+1;
if(Y<0)Y=s;if(D>=h)D=s;var c=e+Y,o=e+D,H=P+s,x=B+s,Q=e+s,U=r[c],I=r[o],l=r[H],p=r[x],j=r[Q],T=j+(j*4*F+.5);
T=T-((U+I+p+l)*F+.5);N[O++]=self.Q3(T)}}};w.K.P.IN=function(r,N,F){var self=w.K.P,h=self.mM(1),m=self.mM(1);
for(var R=0;R<4;R++){self.r3(r,h,R);if(R<3)self.SU(h,m,F);else m=h;self.Hm(m,N,R)}};w.K.P.a5c=function(r,N,F){var self=w.K.P,h=self.YW,m=self.Nf,O=0,e=F+4;
for(var R=0;R<m;R++){var P=R*h,B=(R-1)*h,s=(R+1)*h;if(B<0)B=P;if(s>=m)s=P;for(var Y=0;Y<h;Y++){var D=Y-1,c=Y+1;
if(D<0)D=Y;if(c>=h)c=Y;var o=P+D<<2,H=P+c<<2,x=B+Y<<2,Q=s+Y<<2,U=P+Y<<2;for(var I=0;I<3;I++){var l=r[o+I],p=r[H+I],j=r[x+I],T=r[Q+I],V=r[U+I];
N[O++]=(V*F+l+p+T+j)/e}N[O]=r[O];O++}}};w.K.P.JD=function(r,N,F,h){var self=w.K.P,m=self.YW,O=self.Nf,e=F>>1,P=h>>1,B=0,s=new Int32Array(F),Y=new Int32Array(256);
for(var R=0;R<O;R++){Y.fill(0);for(var D=0;D<F;D++){for(var c=0,o=h;c<o;c++){var H=0-P+c,x=R-e+D;if(c==0){s[D]=H}if(H<0)H=0;
else if(H>=m)H=m-1;if(x<0)x=0;else if(x>=O)x=O-1;Y[r[x*m+H]]++}}var Q=0,U=0;for(var I=0;I<256;I++){if(Q<Y[I]){U=I;
Q=Y[I]}}N[B++]=U;for(var l=1;l<m;l++){for(var D=0;D<F;D++){var x=R-e+D,p=s[D]+1;s[D]=p;var j=p-1,T=p+h-1;
if(x<0)x=0;else if(x>=O)x=O-1;if(j<0)j=0;else if(j>=m)j=m-1;if(T<0)T=0;else if(T>=m)T=m-1;Y[r[x*m+j]]--;
Y[r[x*m+T]]++}Q=0;U=0;for(var I=0;I<256;I++){if(Q<Y[I]){U=I;Q=Y[I]}}N[B++]=U}}};w.K.P.at$=[function(r,N,F,h,m,O,e,P,B,s){return m+(r+N+F)*s-(B+P+e)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(N+F+O)*s-(P+e+h)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(F+O+B)*s-(e+h+r)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(O+B+P)*s-(h+r+N)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(B+P+e)*s-(r+N+F)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(P+e+h)*s-(N+F+O)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(e+h+r)*s-(F+O+B)*s},function(r,N,F,h,m,O,e,P,B,s){return m+(h+r+N)*s-(O+B+P)*s}];
w.K.P.Nn=function(r,N,F,h,m){var self=w.K.P,O=self.YW,e=self.Nf,P=O,B=self.at$[h-1];for(var R=0;R<e;
R++){var s=(R>0?R-1:0)*P,Y=R*P,D=(R<e?R+1:R)*P;for(var c=0;c<O;c++){var o=c>0?c-1:0,H=c<O?c+1:c,x=Y+c,Q=r[s+o],U=r[s+c],I=r[s+H],l=r[Y+o],p=N[x],j=r[Y+H],T=r[D+o],V=r[D+c],E=r[D+H];
F[x]=self.Q3(B(Q,U,I,l,p,j,T,V,E,m))}}};w.K.P.aas=function(r,N,F,h,m){var self=w.K.P,O=self.mM(1),e=self.mM(1),P=self.mM(1);
for(var R=0;R<3;R++){self.r3(r,O,R);self.r3(N,e,R);self.Nn(O,e,P,h,m);self.Hm(P,F,R)}self.r3(N,O,3);
self.Hm(O,F,3)};w.K.P.mt=function(r,N){var F=r.length,h=0;for(var R=0;R<F;R++){N[h++]=~~((r[R++]+r[R++]+r[R++]+2)/3)}};
w.K.P.Wj=function(r,N){var F=N.length,h=0;for(var R=0;R<F;R++){var m=r[R];N[h++]=m;N[h++]=m;N[h++]=m;
N[h++]=255}if(N[0]==255)N[0]--;else N[0]++};w.K.P.Vz=function(r,N){var F=N.length,h=0;for(var R=0;R<F;
R++){var m=r[h++],O=r[h++],e=r[h++];h++;if(O>m)m=O;if(e>m)m=e;N[R]=m}};w.K.P.$R=function(r,N){if(N==null)N=r;
var F=r.length;for(var h=0;h<F;h+=4){var m=r[h],O=r[h+1],e=r[h+2],P=m,B=0,s=m,D;if(O<=m){m=O}else{B=1;
s=O}if(e<=s){if(m>e){m=e}}else{B=2;s=e}var Y=s-m;if(Y!=0){if(B==0){D=~~(43*(O-e)/Y)}else if(B==1){D=~~(43*(e+2*Y-P)/Y)}else{D=43*(P+4*Y-O)/Y}if(D<0){D=255&D-1}N[h]=D;
N[h+1]=~~(255*Y/s)}else{N[h]=Y;N[h+1]=Y}N[h+2]=s;N[h+3]=r[h+3]}};w.K.P.hf=function(r,N){if(N==null)N=r;
var F=r.length;for(var h=0;h<F;h+=4){var m=r[h],O=r[h+1],e=r[h+2];if(O){if(m==255)m=0;var P=~~(6*m/255),B=~~(-255*P+6*m);
if(P==0){N[h]=e;N[h+1]=~~(e*(255-O*(255-B)/255)/255);N[h+2]=~~(e*(255-O)/255)}else if(P==1){N[h]=~~(e*(255-O*B/255)/255);
N[h+1]=e;N[h+2]=~~(e*(255-O)/255)}else if(P==2){N[h]=~~(e*(255-O)/255);N[h+1]=e;N[h+2]=~~(e*(255-O*(255-B)/255)/255)}else if(P==3){N[h]=~~(e*(255-O)/255);
N[h+1]=~~(e*(255-O*B/255)/255);N[h+2]=e}else if(P==4){N[h]=~~(e*(255-O*(255-B)/255)/255);N[h+1]=~~(e*(255-O)/255);
N[h+2]=e}else{N[h]=e;N[h+1]=~~(e*(255-O)/255);N[h+2]=~~(e*(255-O*B/255)/255)}}else{N[h]=e;N[h+1]=e;N[h+2]=e}N[h+3]=r[h+3]}};
w.K.P.Hm=function(r,N,F,h){if(F==null)F=2;if(h==null)h=4;var m=r.length;for(var R=0;R<m;R++){N[F]=r[R];
F+=h}};w.K.P.r3=function(r,N,F,h){if(F==null)F=2;if(h==null)h=4;var m=N.length;for(var R=0;R<m;R++){N[R]=r[F];
F+=h}};w.K.P.Sr=function(r,N,F,h){if(h==null)h=1;var m=N.length,O=0,e;for(var O=0;O<m;O++){e=N[O];if(e){e*=h;
F[O]=~~((e*r[O]+(255-e)*F[O])/255)}}};w.K.P.AV=function(r,N,F,h){if(h==null)h=F;var m=N.length,O=0,e,P;
for(var R=0;R<m;R++){e=N[R];if(e){P=255-e;h[O]=~~((e*r[O]+P*F[O])/255);h[O+1]=~~((e*r[O+1]+P*F[O+1])/255);
h[O+2]=~~((e*r[O+2]+P*F[O+2])/255)}h[O+3]=r[O+3];O+=4}};w.K.P.Cw=function(r,N,F,h){var m=~~(h*255),O=F.length;
for(var R=0;R<O;R++){F[R]=((255-m*(255-r[R])/255)*N[R]+r[R]*(m*(255-r[R])/255))/255}};w.K.P.gX=function(r,N,F,h){var m=~~(h*255),O=F.length;
for(var R=0;R<O;R++){F[R]=((255-m*r[R]/255)*N[R]+r[R]*(m*r[R]/255))/255}};w.K.P.gq=function(r,N,F){var h=N.length;
for(var R=0;R<h;R++){N[R]=~~(r[R]*F+.5)+(N[R]-~~(N[R]*F+.5))}};w.K.P.sub=function(r,N){var F=r.length;
for(var R=0;R<F;R++){N[R]=Math.max(r[R]-N[R],0)}};w.K.P.add=function(r,N){var F=r.length;for(var R=0;
R<F;R++){N[R]=Math.min(r[R]+N[R],255)}};w.K.P.xh=function(r,N){var F=r.length;for(var R=0;R<F;R++){N[R]=r[R]+N[R]>>1}};
w.K.P.ZF=function(r,N){var F=r.length;for(var R=0;R<F;R++){N[R]=r[R]}};w.K.P.V7=function(r,N){var F=r.length;
for(var R=0;R<F;R++){r[R]=N[r[R]]}};w.K.P.pD=function(r,N){var F=w.K.P.rR;for(var R=0;R<F;R+=4){var h=r[R],m=r[R+1],O=r[R+2],e=h;
if(m>h)e=m;if(O>h)e=O;var P=N[e];if(P){r[R]=~~(P*h/e);r[R+1]=~~(P*m/e);r[R+2]=~~(P*O/e)}else{r[R]=P;
r[R+1]=P;r[R+2]=P}}};w.K.P.Ir=function(r,N){for(var R=0,F=r.length;R<F;R++){r[R]=Math.min(255,~~(.5+r[R]*N))}};
w.K.P.sw=function(r,N){for(var R=0,F=r.length;R<F;R++){r[R]=255-Math.min(255,~~(.5+(255-r[R])*N))}};
w.K.P.iL=function(r){var N=r.length;for(var R=0;R<N;R++){r[R]=255-r[R]}};w.K.P.gj=function(r,N,F,h){if(F==null)F=0;
if(h==null)h=255;for(var R=0,m=r.length;R<m;R++){r[R]=r[R]>=N?h:F}};w.K.P.AJ=function(r){return[r>>24&255,r>>16&255,r>>8&255,r&255]};
w.K.P.a9d=function(r,N,F,h){if(F==null)F=255;if(h==null)h=4278190335;var m=w.K.P,O=m.rR,e=m.AJ(F),P=m.AJ(h);
for(var R=0;R<O;R+=4){var B=~~((r[R]+r[R+1]+r[R+2]+2)/3);if(B>=N){r[R]=e[0];r[R+1]=e[1];r[R+2]=e[2]}else{r[R]=P[0];
r[R+1]=P[1];r[R+2]=P[2]}}};w.K.P.Gn=function(r,N){var F=w.K.P,h=F.rR,m=F.AJ(N);for(var R=0;R<h;){r[R++]=m[0];
r[R++]=m[1];r[R++]=m[2];r[R++]=m[3]}};w.K.P.yP=function(r,N){var F=r.length;for(var R=0;R<F;){r[R++]=N}};
w.K.P.cV=function(r,N){r=r>5?(100-Math.max(4,r))/100:.95;N=N!=100?Math.max(4,N)/100:.9995;var F=new Uint8Array(256),h=N>.5?.5/(1-N):N*2,m=~~(h*256),O=~~((.5-r*h)*256)<<8;
for(var R=0;R<256;R++){F[R]=w.K.P.Q3(O>>8);O+=m}return F};w.K.P.oi=function(r){for(var R=0,N=w.K.P,F=r.length;
R<F;R++){r[R]=~~(N.random()*256)}};w.K.P.avT=function(r,N){for(var R=0,F=w.K.P,h=r.length;R<h;R++){r[R]=F.random()<N?255:0}};
w.K.P.qC=function(r,N,F){for(var R=0,h=w.K.P,m=r.length;R<m;R++){if(h.random()<N)r[R]=F}};w.K.P.bB=function(r,N,F){var h=r.length;
for(var R=0;R<h;R++){r[R]=w.K.P.Q3(r[R]+F[N[R]])}};w.K.P.zQ=function(r){var N=new Uint32Array(256);for(var R=0,F=r.length;
R<F;R++){N[r[R]]++}return N};w.K.P.YG=function(r,N,F){var self=w.K.P,h=self.zQ(F),m=self.WY/100,O=new Uint8Array(256),e=m*r,P=m*N,B=0,s=-1,Y=256;
do{B+=h[++s]}while(B<=e);B=0;do{B+=h[--Y]}while(B<=P);if(Y-s<=0)Y=s+1;if(Y>255){Y=255;s=254}var D=255/(Y-s),c=-s;
for(var R=0;R<256;R++){O[R]=self.Q3(D*c+.5);c++}return O};w.K.P.kp=function(r,N,F){var h=w.K.P;h.V7(r,h.YG(N,F,r))};
w.K.P.arq=function(r,N){var self=w.K.P,F=self.zQ(r),h=self.WY*N/100,m=0,O=-1;do{m+=F[++O]}while(m<=h);
return O};w.K.P.qE=function(r,N){var F=0,self=w.K.P,h=self.YW,m=self.Nf,O=1/Math.PI,e=O*255;for(var R=0;
R<m;R++){var P=R+1;if(P==m)P--;var B=R*h,s=~~((1-(R+1)/m)*255);for(var Y=0;Y<h;Y++){var D=Y+1;if(D==h)D--;
var c=r[B+Y],o=r[B+D],H=r[P*h+Y];if(c-H==0){N[F++]=s}else{var x=c-H+255;if(x==255){x=0}else{x=~~(Math.atan2(1/(255-x),1)*e+.5);
if(x<0)x+=255}N[F++]=x}if(c-o==0){N[F++]=~~((1-(Y+1)/h)*255)}else{var x=c-o+255;if(x==255){x=0}else{x=~~(Math.atan2(1/(255-x),1)*e+.5);
if(x<0)x+=255}N[F++]=x}}}};w.K.P.sS=function(r,N){var self=w.K.P,F=self.YW,h=self.Nf,m=0;for(var R=0;
R<h;R++){for(var O=0;O<F;O++){r[m]=~~(R*N+.5)+~~(r[m]*(1-N)+.5);m++;r[m]=~~(O*N+.5)+~~(r[m]*(1-N)+.5);
m++}}};w.K.P.a1n=function(r,N,F,h){var self=w.K.P,m=self.YW,O=self.Nf,e=0;for(var R=0;R<O;R++){for(var P=0;
P<m;P++){N[e]=~~(N[e]*(1-F)+.5)+~~(r[e]*h+.5);e++;N[e]=~~(N[e]*(1-F)+.5)+~~(r[e]*h+.5);e++}}};w.K.P.lb=function(r,N,F){var self=w.K.P,h=self.YW,m=self.Nf,O=0,e=0;
for(var R=0;R<m;R++){for(var P=0;P<h;P++){var B=r[O++],s=r[O++];N[e++]=s%F>=2&&B%F>=2?255:0}}};w.K.P.J0=function(r,N,F,h,m,O,e){var self=w.K.P,P=self.YW,B=self.Nf,s=0,Y=0,D=0;
for(var R=0;R<B;R++){var c=R%r<F||B-F<=R;for(var o=0;o<P;o++){e[s++]=c||o%N<h||P-h<=o?m:O}}};w.K.P.I9=function(r,N,F,h){var self=w.K.P,m=self.YW,O=self.Nf,e=aD.I9(N),P=e[0],B=e[1],s=w.B(P.W()*4);
s.fill(4294967295);w.zG(B,s);var Y=w.scale.Rf(s,P.e,P.n),D=w.scale.Qs(Y,null,m,O,F/100,F/100,0,0);w.Pw(D,r,0);
if(h)w.iL(r)};w.K.P.Q3=function(r){return~~Math.min(255,Math.max(0,r))};w.K.P.JA=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
w.K.P.Q2=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];w.K.P.ht=function(r){return r>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][r-41]:r/40};
w.K.P.a3U=function(r,N,F){var self=w.K.P,h=self.YW,m=self.Nf,O=F,e=F>>1,P=e-1,B=O*O,s=0;for(var R=0;
R<m;R++){var Y=0,D=0,c=0,o=~~(R/F)*F,H=0;for(var x=0;x<O;x++){for(var Q=0;Q<O;Q++){var U=H+Q,I=o+x;if(U>=h)U=h-1;
if(I>=m)I=m-1;Y+=r[I*h+U<<2];D+=r[(I*h+U<<2)+1];c+=r[(I*h+U<<2)+2]}}var l=~~(Y/B),p=~~(D/B),j=~~(c/B);
N[s]=l;N[s+1]=p;N[s+2]=j;N[s+3]=r[s+3];s+=4;for(var T=1;T<h;T++){for(var x=0;x<O;x++){var V=T-1,E=V+O,I=o+x;
if(E>=h)E=h-1;if(I>=m)I=m-1;var _=I*h,f=_+E<<2,S=_+V<<2;Y+=r[f]-r[S];D+=r[f+1]-r[S+1];c+=r[f+2]-r[S+2]}if(T%F==0){l=~~(Y/B);
p=~~(D/B);j=~~(c/B)}N[s]=l;N[s+1]=p;N[s+2]=j;N[s+3]=r[s+3];s+=4}}};w.K.P.a7H=function(r,N,F,h,m){var self=w.K.P,O=self.YW,e=self.Nf,P=0,B=0,s=0,Y=0;
for(var R=Y;R<e+Y;R++){var D=R%N>=h||R<h||e+Y-h<=R;for(var c=0;c<O;c++){r[P++]=D&&(c%F>=m||c<m||O-m<=c)?255:0}}};
w.K.P.a0A=function(r,N,F){var h=function(s,Y){return Y<=s?s/Y&1?Y-s%Y:s%Y:s},m=[function(P,B){return h(P,255)/255},function(P,B){return(255+h(P,255)-h(B,255))/510},function(P,B){return(255-h(B,255))/255},function(P,B){return(510-h(P,255)-h(B,255))/510},function(P,B){return(255-h(P,255))/255},function(P,B){return(255-h(P,255)+h(B,255))/510},function(P,B){return h(B,255)/255},function(P,B){return(h(P,255)+h(B,255))/510}][F],O=0,e=0;
for(var R=0;R<w.K.P.WY;R++){var P=r[O++],B=r[O++];N[e++]=~~(255*m(P,B))}};w.K.a5i=function(){var r=[],N=new Uint8Array(512),F=new Float32Array(512),h=new Float32Array(512),m=[1,-1,1,-1,1,-1,0,0],O=[1,1,-1,-1,0,0,1,-1],e=0,P,H=0;
for(;e<256;e++)r[e]=e;while(e!=0){e--;P=Math.floor(Math.random()*e);r[P]^=r[e]^(r[e]=r[P])}function B(B){B=Math.floor(B*65536);
if(B<256){B|=B<<8}for(var R=0;R<256;R++){var U=R+256,I=r[R]^(R&1?B:B>>8)&255;N[R]=N[U]=I;I=I%8;F[R]=F[U]=m[I];
h[R]=h[U]=O[I]}}function s(U){return U*U*U*(U*(U*6-15)+10)}function Y(U,I,l){return(1-l)*U+l*I}function D(U,I){return U&I}function c(U,I){return U%I}function o(U,I,l,p,j){var T=Math.floor(U),V=Math.floor(I),e,E,_,f,S,L;
U=U-T;I=I-V;T=T&255;V=V&255;e=T+N[V];f=F[e]*U+h[e]*I;e=T+N[j(V+1,p)];_=F[e]*U+h[e]*(I-1);e=j(T+1,l)+N[V];
S=F[e]*(U-1)+h[e]*I;e=j(T+1,l)+N[j(V+1,p)];L=F[e]*(U-1)+h[e]*(I-1);E=s(U);return Y(Y(f,S,E),Y(_,L,E),s(I))}function x(U,e,I){U[e]=I}function Q(U,I,l,p,j){var T=Math.min(Math.min(I,256),Math.min(256,l)),V=T==256||T<8,E=8,_=new Uint32Array(E),f=new Uint32Array(E),S=new Float32Array(E),L=new Float32Array(E),y=1,$=1,Z=V?D:c,i=x,b;
for(var R=0;R<E;R++){b=$*1/T;if(V){f[R]=(1<<Math.ceil(Math.log2(l*b)))-1;_[R]=(1<<Math.ceil(Math.log2(I*b)))-1}else{f[R]=b*l;
_[R]=b*I}S[R]=y;L[R]=b;y*=.5;$=$<<1}B(Math.random());for(var G=0,e=0;G<l;G++){for(var g=0;g<I;g++){var u=0;
for(var A=0;A<E;A++){b=L[A];u+=o(g*b,G*b,_[A],f[A],Z)*S[A]}i(p,e++,Math.round(Math.max(0,255*Math.min(1,.5+u*.5))))}}}return Q}();
w.K.a9U=function(){function r(N,F,h,m){var O=new Uint8Array(N.length>>>2),e=new Uint8Array(N.length>>>2),P=new Uint8Array(N.length);
for(var R=0;R<N.length;R+=4){var B=N[R+0]*.3+N[R+1]*.59+N[R+2]*.11;e[R>>>2]=B;P[R]=N[R];P[R+1]=N[R+1];
P[R+2]=N[R+2]}w.gL.EY(e,O,F,h);w.gL.ha(N,m,F,h,w.gL.aP[1],0,!0);for(var R=0;R<N.length;R+=4){P[R+3]=255-O[R>>>2]}for(var R=0,s=N.length;
R<s;R+=4){var Y=P[R+3]/255;m[R]=P[R]*Y+m[R]*(1-Y);m[R+1]=P[R+1]*Y+m[R+1]*(1-Y);m[R+2]=P[R+2]*Y+m[R+2]*(1-Y)}}return r}();
w.K.abH=function(){function r(O,e,P,B,s){var Y=new Uint32Array(O.buffer),D=0;for(var R=0;R<P;R++){for(var c=0;
c<e;c++,D+=4){var o=Y[R*e+c],H=o&255,x=o>>>8&255,Q=o>>>16&255,U=o>>>24&255,I=~~(Math.random()*8),l=I%3,p=0,j=0;
if(I<3){j--}else if(I>4){j++}if(l==0){p--}else if(l==2){p++}var T=c+p,V=R+j;if(T<0)T=0;else if(T>e-1)T=e-1;
if(V<0)V=0;else if(V>P-1)V=P-1;var o=Y[V*e+T],E=o&255,_=o>>>8&255,f=o>>>16&255,S=o>>>24&255;B[D]=s(H,E);
B[D+1]=s(x,_);B[D+2]=s(Q,f);B[D+3]=s(U,S)}}}function N(O,e){return e}function F(O,e){return O>e?e:O}function h(O,e){return O<e?e:O}function m(O,e,P,B,s){var Y=s[0];
if(Y==0)r(O,e,P,B,N);else if(Y==1)r(O,e,P,B,F);else if(Y==2)r(O,e,P,B,h);else if(Y==3){console.error("Not implemented")}else console.error("Mew mew")}return m}();
w.K.asC=function(){function r(N,F,h,m,O){var e=O&&O[0]?O[0]:4,P,B,s,Y,D,c,o;for(var R=0;R<h;R++){var H=Math.max(R-e,0),x=Math.min(R+e,h-1);
for(var Q=0;Q<F;Q++){var U=Math.max(Q-e,0),I=Math.min(Q+e,F-1);P=H*F+U<<2;Y=N[P];D=N[P+1];c=N[P+2];o=N[P+3];
P=H*F+I<<2;Y+=N[P];D+=N[P+1];c+=N[P+2];o+=N[P+3];P=x*F+U<<2;Y+=N[P];D+=N[P+1];c+=N[P+2];o+=N[P+3];P=x*F+I<<2;
Y+=N[P];D+=N[P+1];c+=N[P+2];o+=N[P+3];P=R*F+Q<<2;m[P]=Y+2>>>2;m[P+1]=D+2>>>2;m[P+2]=c+2>>>2;m[P+3]=o+2>>>2}}}return r}();
w.K.ak4=function(){function r(N,F,h,m){var O=new Uint8Array(N.length),e=new Uint8Array(N.length>>>2),P=new Uint8Array(N.length>>>2);
w.gL.ha(N,O,F,h,w.gL.aP[2],0,!0);for(var R=0;R<N.length;R+=4){var B=O[R+0]*.3+O[R+1]*.59+O[R+2]*.11;
e[R>>>2]=B;m[R+0]=N[R+0];m[R+1]=N[R+1];m[R+2]=N[R+2];m[R+3]=N[R+3]}w.gL.EY(e,P,F,h);for(var R=0;R<N.length;
R+=4){O[R+3]=~~(Math.max(0,255-P[R>>>2]-50)*(255/205))}for(var R=0,s=N.length;R<s;R+=4){var Y=O[R+3]/255;
m[R]=O[R]*Y+m[R]*(1-Y);m[R+1]=O[R+1]*Y+m[R+1]*(1-Y);m[R+2]=O[R+2]*Y+m[R+2]*(1-Y)}}return r}();w.K.i7=function(){function r(I,l){return I[l]+I[l+1]+I[l+2]+I[l+3]}function N(I,l){return I[l]+I[l+1]+I[l+2]+2*I[l+3]}function F(I,l,p,j){I[l]=p[j];
I[l+1]=p[j+1];I[l+2]=p[j+2];I[l+3]=p[j+3]}function h(I,l,p){I[l]=I[p];I[l+1]=I[p+1];I[l+2]=I[p+2];I[l+3]=I[p+3]}function m(I,l,p){I[p]=l[p];
I[p+1]=l[p+1];I[p+2]=l[p+2];I[p+3]=255-l[p+3]}function O(I){for(var R=0,l=I.length;R<l;R+=4){I[R+3]=255-I[R+3]}}function e(){var I=Math.random();
if(I>.5)return 0;if(I>.25)return 1;if(I>.1)return 2;if(I>.02143)return 3;if(I>.00445)return 4;if(I>65e-5)return 5;
if(I>415e-6)return 6;if(I>55e-6)return 7;return 8}function P(I,l,p,j,T,V){I[l]=p[j]+(T[V]-p[j]>>1);I[l+1]=p[j+1]+(T[V+1]-p[j+1]>>1);
I[l+2]=p[j+2]+(T[V+2]-p[j+2]>>1);I[l+3]=p[j+3]+(T[V+3]-p[j+3]>>1)}function B(I,l,p,j,T,V){I[l]=T[V]+p[j]>>1;
I[l+1]=T[V+1]+p[j+1]>>1;I[l+2]=T[V+2]+p[j+2]>>1;I[l+3]=T[V+3]+p[j+3]>>1}function s(I,l,p,j,T,V,E,_,f){var S=0,L=0,y=0,R,$=T[V],Z;
P(_,0,I,l,I,p);for(R=0;R<$;R++){P(_,(R+1)*4,_,R*4,I,p)}L=($+1)*4;y+=$;V--;F(I,l,_,L-4);j[V]=r(I,l);l-=f;
while(V>0&&j[V-1]<j[V]){Z=_;_=E;E=Z;S=L;B(_,0,I,l-f,E,0);for(R=4;R<S;R+=4){B(_,R,_,R-4,E,R)}$=T[V];for(R=y;
R<$;R++){P(_,L,_,L-4,E,S-4);L+=4;y++}V--;F(I,l,_,L-4);j[V]=r(I,l);l-=f}}function Y(I,l,p,j,T){var V=l*4,E=0,_,f,S=new Uint8Array(l+1),L=new Uint8Array(10*4),y=new Uint8Array(10*4);
for(var R=0;R<p;R++){m(j,I,E);T[0]=r(j,E);S[0]=e();_=E;E+=4;for(var $=1;$<l;$++){m(j,I,E);T[$]=r(j,E);
f=e();S[$]=f;if(T[$-1]<T[$]&&f>0){s(j,E-4,E,T,S,$,L,y,4)}E+=4}T[l]=T[0];S[l]=S[0];if(T[l-1]<T[l]&&f>0){s(j,E,_,T,S,l,L,y,4)}}O(j)}function D(){var I=Math.random();
if(I>.659755)return 0;if(I>.1625)return 10;if(I>.06)return 20;if(I>.01)return 30;if(I>.0035)return 40;
if(I>65e-5)return 50;if(I>415e-6)return 60;if(I>55e-6)return 70;return 80}function c(I,l,p,j,T,V){var E=D()+1,_=j[T];
for(var R=1;R<E;R++){if(0>T)break;if(j[T-R]<_){h(I,l,p)}else{break}l+=V}}function o(I,l,p,j,T){var V=l*4,E=0;
for(var R=0;R<p;R++){m(j,I,E);T[0]=r(j,E);E+=4;for(var _=1;_<l;_++){m(j,I,E);T[_]=r(I,E);if(T[_-1]<T[_]){c(j,E-4,E,T,_,-4)}E+=4}T[l]=T[0];
if(T[_-1]<T[_]){c(j,E-4,E-V,T,_,-4)}}O(j)}function H(I,l,p,j,T,V){var E=1,_,f,S=new Uint8Array(4),L,y=l;
while(Math.random()<1/E){y=l;if(j<=1)break;_=p[j];f=p[j-1];if(_<=f)break;F(S,0,I,y-V);L=!0;for(var R=j;
R<T;R++){if(f>p[R]){F(I,y-V,S,0);p[R-1]=f;L=!1;break}F(I,y-V,I,y);p[R-1]=p[R];y+=V}if(L){F(I,y-V,S,0);
p[T-1]=f}E++;j--;l-=V}}function x(I,l,p,j,T){var V=0,E=0,_=l*4;for(var R=0;R<p;R++){E=V;for(var f=0;
f<l;f++){m(j,I,V);T[f]=N(j,V);V+=4}V=E;for(var f=1;f<l;f++){if(T[f-1]<T[f]&&Math.random()<.66){H(j,V+4,T,f,l,4)}V+=4}V+=4}O(j)}function Q(I,l,p,j,T){var V=T[0],E=T[1],_=new Uint16Array(l+1),f=I,S=j,L;
if(E){L=j.slice(0);U(I,j,l,p);f=j;S=L}if(V==0)Y(f,l,p,S,_);else if(V==1)o(f,l,p,S,_);else if(V==2)x(f,l,p,S,_);
if(E){U(L,j,l,p)}}function U(I,l,p,j){for(var T=0;T<j;T++)for(var V=0;V<p;V++){var E=T*p+V<<2,_=T*p+(p-1-V)<<2;
l[_]=I[E];l[_+1]=I[E+1];l[_+2]=I[E+2];l[_+3]=I[E+3]}}return Q}();w.K._D=function(r,N,F,h,m){var O=w.K.P,e=1,Q=0,l=0;
O.GH(N,F);O.K5(m[2]);var P=3<<13,B=Math.PI/2.43,s=B/256,Y=Math.PI*2/256;function D(){var V=O.random()*256,E=O.random()*256;
return e*~~(Math.tan(B-V*s)*325*Math.cos(E*Y)*256)+P>>16}e=m[0];var c=m[1],o=(c+2)/2,H=O.random()*255,x=O.mM(1);
for(var R=0;R<F;R++){var U=O.Q3(D()+H);for(var I=0;I<N;I++){U=O.Q3(D()+U);x[Q++]=U}}Q=N;for(var R=1;
R<F;R++){var p=O.Q3(D()+x[l++]);x[Q++]=p;for(var I=1;I<N;I++){var j=l+1;if(I+1==N){j--}var T=(o+p+x[j]+x[l]*c)/(c+2);
p=O.Q3(D()+T);x[Q++]=p;l++}}O.Wj(x,h)};var cl=function(){function r(K){K=K^61^K>>>16;K=K+(K<<3);K=K^K>>>4;
K=K*668265261;K=K^K>>>15;return K}var N=function(){var N=function(K){if(K){this.O$=K}this.O$=r(this.O$);
return(this.O$&16777215)*(1/16777215)};return N};function F(K,n){if(n==null){n=[0,0]}return Math.sqrt((n[0]-K[0])*(n[0]-K[0])+(n[1]-K[1])*(n[1]-K[1]))}function h(K,n){if(n==null){n=[0,0]}return[-(n[1]-K[1])/F(K,n),(n[0]-K[0])/F(K,n)]}function m(K){return[Math.cos(K),Math.sin(K)]}function O(K){var n=F(K,[0,0]),t=[K[0]/n,K[1]/n],X=Math.atan(t[1]/t[0]);
if(t[0]>0&&t[1]<0){X+=2*Math.PI}else if(t[0]<0&&t[1]<0){X+=Math.PI}else if(t[0]<0&&t[1]>0){X+=Math.PI}return X}function e(K){var e=0;
for(var R=1;R<K.length/2;++R){e+=F([K[2*R],K[2*R+1]],[K[2*(R-1)],K[2*(R-1)+1]])}return e}function P(K,n,t){var X=new Float32Array(K.length),aK=1/(K.length/2),fg=j(t);
for(var R=0;R<K.length/2;++R){var k=R*aK,hG=k/2+.5,eE=1,hW=0;if(t.shape==2){eE=1/(2*hG)}if(t.shape==3){hG=(1-k)/2+.5;
eE=1/(2*hG)+.5}if(t.shape==4){hG=k;eE=Math.sin(3/2*Math.PI*hG)/4+1}if(t.shape==5){hG=(k-.5)*6;eE=(-Math.atan(hG)/1.25+1)/5+.6-.2*k}var hh=[null,null];
if(R==0){hh=h([K[2*R],K[2*R+1]],[K[2*(R+1)],K[2*(R+1)+1]])}else if(R==K.length/2-1){hh=h([K[2*(R-1)],K[2*(R-1)+1]],[K[2*R],K[2*R+1]])}else{hh=h([K[2*(R-1)],K[2*(R-1)+1]],[K[2*(R+1)],K[2*(R+1)+1]])}X[2*R]=K[2*R]+(eE*n+hW)*hh[0];
X[2*R+1]=K[2*R+1]+(eE*n+hW)*hh[1];if(t.style==2){X[2*R]+=T(2*R/X.length,fg,t)}}return X}function B(K,n,t){var X=new Float32Array(K.length),aK=1/(K.length/2);
for(var R=0;R<K.length/2;++R){var fg=R*aK,k=[null,null],hG=.6*t.I8*_(fg,n.apH)*t.UJ/100,eE=.6*t.I8*_(fg,n.a44)*t.UJ/100,hW=n.an1*hG+(1-n.an1)*eE;
if(R==0){k=h([K[2*R],K[2*R+1]],[K[2*(R+1)],K[2*(R+1)+1]])}else if(R==K.length/2-1){k=h([K[2*(R-1)],K[2*(R-1)+1]],[K[2*R],K[2*R+1]])}else{k=h([K[2*(R-1)],K[2*(R-1)+1]],[K[2*(R+1)],K[2*(R+1)+1]])}X[2*R]=K[2*R]+hW*k[0];
X[2*R+1]=K[2*R+1]+hW*k[1]}return X}function s(K){if(K.Y3==1){return[.150684932,.205479452,.465753425,.178082192]}else if(K.Y3==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var n=[],t=1/(y(K)-1);
for(var R=0;R<y(K)-1;++R){n.push(t)}return n}}function Y(K,n,t){var X=[],aK=n-K,fg=K;for(var R=0;R<t.length-1;
++R){X.push(fg+t[R]*aK);fg=X[R]}return X}function D(K,n,t,X){var aK=new Float32Array(t.length),fg=0,k={shape:Math.floor(X.random()*2.99),atH:X.random()*.1+.15};
for(var R=0;R<t.length-1;++R){var hG=fg+t[R];aK[R]=((1-hG)*K+hG*n)*U(X,hG,k);fg=hG}return aK}function c(K,n,t,X){var aK=S(X),fg=X.random(),k=fg*20+(1-fg)*26,hG=new Float32Array(t.length),eE=0;
for(var R=0;R<t.length-1;++R){var hW=eE+t[R];hG[R]=(1-hW)*K+hW*n+aK/k*(2/3*Math.sin(Math.PI*hW)+1/3*Math.sqrt(Math.sin(Math.PI*hW)));
eE=hW}return hG}function o(K,n,t){var X=[];for(var R=0;R<n.length-1;++R){X.push(n[R].slice());var aK=R*(y(t)-1),fg=(R+1)*(y(t)-1),k=K[fg]-K[aK];
for(var hG=aK+1;hG<fg;++hG){var eE=j(t),hW=new Float32Array(n[0].length),hh=(K[hG]-K[aK])/k;for(var hI=0;
hI<n[0].length/2;++hI){hW[2*hI]=(1-hh)*n[R][2*hI]+hh*n[R+1][2*hI];hW[2*hI+1]=(1-hh)*n[R][2*hI+1]+hh*n[R+1][2*hI+1];
if(t.style==2){hW[2*hI]+=T(2*hI/n[0].length,eE,t)}}X.push(hW)}}X.push(n[n.length-1]);return X}function H(K,n,t){var X=new Array(n.length),aK=u(K),k=null;
for(var R=0;R<n.length;++R){X[R]=P(aK,(n[R]-.5)*t.UJ,t)}var fg=1+.05*t.ag6*S(t)/S({Y3:1});for(var R=0;
R<n.length;++R){if(n[R]==0){k=R}}for(var R=0;R<n.length;++R){var hG=(t.random()-.5)*2,eE=Math.round(t.random()*9+1),hW=new Float32Array(eE*2+2);
for(var hh=0;hh<=eE;++hh){hW[2*hh]=X[R][0]-(X[R][2*hh]-X[R][0]);hW[2*hh+1]=X[R][1]-(X[R][2*hh+1]-X[R][1])}if(R==k){hG*=.1}for(var hh=(X[R].length-1)/2;
hh>eE;--hh){X[R][2*hh]=(1-hG)*X[R][2*hh]+hG*(X[R][2*(hh-eE)]+fg*(X[R][2*hh]-X[R][2*(hh-eE)]));X[R][2*hh+1]=(1-hG)*X[R][2*hh+1]+hG*(X[R][2*(hh-eE)+1]+fg*(X[R][2*hh+1]-X[R][2*(hh-eE)+1]))}for(var hh=eE-1;
hh>=0;--hh){X[R][2*hh]=(1-hG)*X[R][2*hh]+hG*(hW[2*(eE-hh)]+fg*(X[R][2*hh]-hW[2*(eE-hh)]));X[R][2*hh+1]=(1-hG)*X[R][2*hh+1]+hG*(hW[2*(eE-hh)+1]+fg*(X[R][2*hh+1]-hW[2*(eE-hh)+1]))}}var hI=E(n,t);
if(t.I8>0){var db=0;for(var R=0;R<n.length;++R){if(R==0){db+=n[R]}else{db+=Math.abs(n[R]-n[R-1])}var by=db-Math.floor(db),jM=1;
if(by==0){jM=0}X[R]=B(X[R],{apH:hI[Math.floor(db)],a44:hI[Math.floor(db)+jM],an1:by},t)}}return X}function x(K,n){var t=i(n,K),X=b(n,K),aK=[],fg=[],k=[],hG=s(K);
for(var R=0;R<n.length-1;++R){aK.push(n[R]);fg.push(t[R]);k.push(X[R]);var eE=Y(n[R],n[R+1],hG),hW=D(t[R],t[R+1],hG,K),hh=c(X[R],X[R+1],hG,K);
for(var hI=0;hI<eE.length;++hI){aK.push(eE[hI]);fg.push(hW[hI]);k.push(hh[hI])}}aK.push(n[n.length-1]);
fg.push(t[t.length-1]);k.push(X[X.length-1]);return{amf:aK,a3q:fg,uw:k}}function Q(K,n,t,X){var aK=new Float32Array(2*X),fg=K.length/2,k=fg-n,hG=t*k,eE=hG/X;
for(var R=0;R<X;++R){var hW=Math.floor(n+R*eE),hh=Math.ceil(n+R*eE),t=n+R*eE,hI=hh-hW,db=1,by=0;if(hI!=0){db=(hh-t)/hI;
by=(t-hW)/hI}aK[2*R]=db*K[2*hW]+by*K[2*hh];aK[2*R+1]=db*K[2*hW+1]+by*K[2*hh+1]}return aK}function U(K,n,t){var X=t.atH,aK=n*2*Math.PI,fg=aK,k=0;
if(t.shape==0){k=(Math.sin(2*fg+Math.PI/2)+1)/2}else if(t.shape==1){k=(Math.sin(fg+Math.PI/2)+1)/2}else{k=(4*Math.sin(3/4*fg+Math.PI)+Math.sin(Math.PI/2+2*fg)-2*fg/Math.PI+6)/7}return Math.min(1,1-X+X*k)}function I(K,n,t,X){var aK=[];
for(var R=0;R<K.length;++R){aK.push(Q(K[R],n[R],t[R],X))}return aK}function l(K,n,t){var X=[];for(var R=0;
R<K.length;++R){var aK=m(2*Math.PI*t.random()),fg=m(2*Math.PI*t.random()),k=t.Qu*.5*$({Y3:1})/$(t),hG=k*t.UJ/200,eE=k*n/500,hW=new Float32Array(K[0].length);
for(var hh=0;hh<K[0].length/2;++hh){var hI=m(2*Math.PI*t.random()),db=2*hh/K[0].length;hW[2*hh]=K[R][2*hh]+hG*(hI[0]+((1-db)*aK[0]+db*fg[0]));
hW[2*hh+1]=K[R][2*hh+1]+eE*(hI[1]+((1-db)*aK[1]+db*fg[1]))}X.push(hW)}return X}function p(K,n,t){var X=t.On,aK=2/X,fg=[1/10,1/30,1/40,1/45,1/100],k=fg[t.Y3-1],hG=4*(t.opacity/25*aK*k)*(1-t.Qu/150),hI=0,by=0;
if(t.style==3){return hG*.09}var eE=2.2*(K-.5),hW=eE*eE*eE*eE+.27+Math.max(0,(t.opacity-50)/15),hh=2*(Math.sin(3*Math.PI*n)/(Math.PI*n+2)+1.1)-n/2;
n=2*n;if(n<.41){var db=2*Math.PI*n/.41;hI=(Math.sin(db-Math.PI/2)+1)/4+.5}else if(n<.77){var db=2*Math.PI*(n-.41)/.36;
hI=(Math.sin(db-Math.PI/2)+1)/4+.5-db/2/Math.PI*.5}else{var db=2*Math.PI*(n-.77)/.23;hI=(Math.sin(db-Math.PI/2)+1)/2*.12}hI*=3;
hI+=Math.max(0,(t.opacity-50)/15);if(t.type==6){by=hh}else{by=hI}return hG*hW*by}function j(K){return{c:K.random()*7/2+.5,d8:K.random()*2*Math.PI}}function T(K,n,t){return t.UJ/300*y({Y3:1})/y(t)*10*(Math.sin(n.c*2*Math.PI*K+n.d8)+10*(t.random()-.5))}function V(K){var n=Math.exp(-K.I8/25);
return{c:K.random()*3/2+.5,d8:K.random()*2*Math.PI,VO:(K.random()-.5)*10*n}}function E(K,n){var t=Math.ceil(G(K)),X=[];
for(var R=0;R<=t;++R){X.push(V(n))}return X}function _(K,n){var t=n.c*4*Math.PI*K+n.d8;return Math.exp(-1/2*Math.PI*K)*Math.cos(t)*Math.cos(t)*Math.cos(t)*Math.cos(t)*Math.cos(t)+K*n.VO-n.VO/4}function f(K,n,t,X,aK){var fg=0,k=$(n)-1;
for(var R=0;R<k;++R){for(var hG=0;hG<K.length-1;hG+=y(n)-1){for(var eE=R;eE<K[0].length/2-k;eE+=k){for(var hW=hG;
hW<hG+(y(n)-1);++hW){t[aK+fg]=p(hW*(n.On-1)/(K.length-1)%1,eE/K[0].length,n);var hh=0,hI=0;if(n.type==6&&hW!=0&&hW!=K.length-1){hI=(K[hW][2*(eE+1)+1]-K[hW][2*eE+1])/2;
hh=(K[hW][2*(eE+1)]-K[hW][2*eE])/2}X[8*aK+8*fg]=K[hW][2*eE]+hh;X[8*aK+8*fg+1]=K[hW][2*eE+1]+hI;X[8*aK+8*fg+2]=K[hW][2*(eE+k)]+hh;
X[8*aK+8*fg+3]=K[hW][2*(eE+k)+1]+hI;X[8*aK+8*fg+4]=K[hW+1][2*(eE+k)];X[8*aK+8*fg+5]=K[hW+1][2*(eE+k)+1];
X[8*aK+8*fg+6]=K[hW+1][2*eE];X[8*aK+8*fg+7]=K[hW+1][2*eE+1];++fg}}}}}function S(K){var n=[100,300,500,700,1e3];
return n[K.Y3-1]}function L(K){var n=[30,70,100,140,300];return n[K.Y3-1]}function y(K){var n=[5,7,26,40,100];
return n[K.Y3-1]}function $(K){if(K.Y3==1){return 4}else if(K.Y3==2){return 8}else{return Math.floor(L(K)/9)}}function Z(K){var n=K.On,t=new Float32Array(n),X=null;
for(var R=0;R<n;++R){t[R]=K.random()}if(K.On<=3){t[0]=0;t[K.On-1]=1}else{for(var R=0;R<2;++R){var aK=Math.floor(K.random()*n);
if(X==null||X!=aK){t[aK]=R;X=aK}else{t[aK+1]=R}}}return t}function i(K,n){var t=[],X=.2,fg=0;for(var R=0;
R<K.length;++R){var aK=n.random()*(1-X)+X;t.push(aK)}var k=Math.min(3,n.On);for(var R=0;R<K.length;++R){if(t[R]>.9){++fg}}while(fg<k){var hG=Math.floor(n.random()*K.length);
if(t[hG]<=.9){t[hG]=.9+.1*n.random();++fg}}return t}function b(K,n){var t=S(n),X=S({Y3:1}),aK=[];for(var R=0;
R<K.length;++R){aK.push(Math.max(1,(n.random()*10+2)*t/X))}return aK}function G(K){var n=0;for(var R=0;
R<K.length;++R){if(R==0){n+=K[R]}else{n+=Math.abs(K[R]-K[R-1])}}return n}function g(K,n){if(K.length/2-1==S(n)){return K}var t=new Float32Array(2*(S(n)+1)),X=(K.length-2)/(t.length-2);
for(var R=0;R<t.length/2;++R){var aK=R*X,fg=Math.floor(aK),k=Math.ceil(aK),hG=k-fg,eE=1,hW=0;if(hG!=0){eE=(k-aK)/hG;
hW=(aK-fg)/hG}t[2*R]=eE*K[2*fg]+hW*K[2*k];t[2*R+1]=eE*K[2*fg+1]+hW*K[2*k+1]}return t}function u(K,n){var t=K.length/2,X=e(K),aK=X/t,fg=!1,eE=0,hW=0,hh=1;
if(n){var k=Math.floor(X/n.a5P),hG=n.a5P;if(n.apO&&K[0]==K[K.length-2]&&K[1]==K[K.length-1]){fg=!0;hG=X/(k+1)}if(n.type==2&&!fg&&hG*k+n.length>X){t=k+1}else{t=k+2}aK=hG}var hI=new Float32Array(t*2);
hI[0]=K[0];hI[1]=K[1];for(var R=1;R<t;++R){while(eE<=R*aK){hW=eE;eE+=F([K[2*hh],K[2*hh+1]],[K[2*(hh-1)],K[2*(hh-1)+1]]);
++hh}var db=1-(R*aK-hW)/(eE-hW);hI[2*R]=(1-db)*K[2*hh]+db*K[2*(hh-1)];hI[2*R+1]=(1-db)*K[2*hh+1]+db*K[2*(hh-1)+1]}hI[hI.length-2]=K[K.length-2];
hI[hI.length-1]=K[K.length-1];return hI}function A(K,n){var t=u(K,n),X=[];for(var R=0;R<(t.length-2)/2;
++R){var aK=[];aK.push(t[2*R]);aK.push(t[2*R+1]);var fg=F([t[2*(R+1)],t[2*(R+1)+1]],[t[2*R],t[2*R+1]]),k=[(t[2*(R+1)]-t[2*R])/fg,(t[2*(R+1)+1]-t[2*R+1])/fg],hG=m((n.att-90)/360*2*Math.PI),eE=k;
if(n.type==3){eE=hG}else if(n.type==4){eE=m(O(k)+O(hG))}else if(n.type==5){eE=m(((n.random()-.5)*n.att-90)/360*2*Math.PI)}var hW=n.length;
if(n.apN){hW=2*n.random()*n.length}aK.push(t[2*R]+eE[0]*hW);aK.push(t[2*R+1]+eE[1]*hW);X.push(aK)}return X}function a(K){if(K.anG){K.o4=100*Math.random()}else{K.o4=K.arI}K.random=new N;
K.random(K.o4);if(K.type==6){K.On=2;K.shape=5;K.ag6=0}}function d(K,n){K=g(K,n);var t=[K],hW=0;if(n.type>=2&&n.type<6){t=A(K,n)}var X=$(n)-1,aK=L(n)-X,fg=(n.On-1)*(y(n)-1),k=t.length*aK*fg,hG=new Float32Array(k),eE=new Float32Array(8*k);
for(var R=0;R<t.length;++R){for(var hh=0;hh<1e4;++hh){n.o4=r(n.o4)}n.random(n.o4);var K=g(t[R],n),hI=Z(n),db=G(hI),by=H(K,hI,n),jM=x(n,hI),fP=o(jM.amf,by,n);
fP=I(fP,jM.uw,jM.a3q,L(n));if(n.Qu>0){fP=l(fP,e(t[R]),n)}f(fP,n,hG,eE,hW);hW+=aK*fg}return[hG,eE]}var cl=function(K){var n=performance.now(),t=K[0],X=K[1];
a(X);var aK=[new Float32Array(0),new Float32Array(0)];for(var R=0;R<t.length;++R){X.o4=r(X.o4);var fg=d(t[R],X),k=new Float32Array(aK[0].length+fg[0].length),hG=new Float32Array(aK[1].length+fg[1].length);
k.set(aK[0]);k.set(fg[0],aK[0].length);aK[0]=k;hG.set(aK[1]);hG.set(fg[1],aK[1].length);aK[1]=hG}var eE=performance.now();
if(X.ak3){console.Sf("Geometry: "+String(eE-n)+"ms")}return aK};return cl}(),b$=function(){function r(m,O){var e=[],P=0,B=O.length,s=0,Y=0,D=new fE,c=0,o=1e9;
for(Y=0;Y<B;Y++){var H=Y*8,x=O[Y];if(x<o)o=x;var Q=m[H+0],U=m[H+1],I=m[H+2],l=m[H+3],p=m[H+4],j=m[H+5],T=m[H+6],V=m[H+7],E=Math.min(Q,I,p,T),_=Math.max(Q,I,p,T),f=Math.min(U,l,j,V),S=Math.max(U,l,j,V),L=new fE(E,f,_-E,S-f),y=L.fD(D),$=c+x;
if(Y-s<10&&(Y==s||y.W()*.8<L.W()+D.W())){D=y;c=$}else{e.push(Y-s);s=Y;D=L;c=x;o=x}}if(Y!=s)e.push(Y-s);
return e}function N(m,O,e,P,B,s){var Y=document.createElement("canvas"),U=0,k=.8;Y.width=O;Y.height=e;
var D=Y.getContext("2d"),c=B[0],o=B[1],H=new Float64Array(O*e),x=Date.now(),Q=r(o,c);for(var I=0;I<Q.length;
I++){var l=U,p=U+Q[I],V=1e9,_=1e9,i=0;U=p;var j=l*8,T=p*8,E=-V,f=-_;for(var S=j;S<T;S+=2){var L=o[S],y=o[S+1];
if(L<V)V=L;if(L>E)E=L;if(y<_)_=y;if(y>f)f=y}V=Math.floor(V);E=Math.ceil(E);_=Math.floor(_);f=Math.ceil(f);
var $=E-V,Z=f-_;for(var b=l;b<p;b++)i+=c[b];for(var S=j;S<T;S+=8){var G=c[S>>>3],g=o[S+0],u=o[S+1],A=o[S+2],a=o[S+3],d=o[S+4],K=o[S+5],n=o[S+6],t=o[S+7];
D.fillStyle="rgba(0,0,0,"+G/i+")";D.beginPath();D.moveTo(g,u);D.lineTo(A,a);D.lineTo(d,K);D.lineTo(n,t);
D.closePath();D.fill()}var X=D.getImageData(V,_,$,Z).data;for(var y=0;y<Z;y++)for(var L=0;L<$;L++){var R=y*$+L,aK=X[R*4+3],fg=(_+y)*O+V+L;
if(aK!=0)H[fg]+=aK*i}D.clearRect(V,_,$,Z)}var hG=s[1].color,eE=Math.pow(hG.Z/255,k),hW=Math.pow(hG.z/255,k),hh=Math.pow(hG.J/255,k),hI=new fE(0,0,O,e),db=w.B(O*e*4);
for(var y=0;y<e;y++)for(var L=0;L<O;L++){var R=y*O+L,b=R*4,c=H[R]*(1/255);db[b]=h(eE,c);db[b+1]=h(hW,c);
db[b+2]=h(hh,c);db[b+3]=Math.min(255,c*255)}w.i.vw("norm",db,hI,P,hI,hI,1)}var F=new Uint8Array(2e3);
for(var R=0;R<2e3;R++)F[R]=255*Math.min(1,Math.log(R/700+1));function h(m,O){return F[Math.min(1500,~~(m*O*1e3))]}return N}(),gV=function(){var r=new Float32Array(3e3),N=new Float32Array(3e3),F=new Float32Array(256),h=new Float32Array(3e3);
function m(){var o=r.length;r[0]=Math.log10(157647e-9);for(var R=1;R<o;++R)r[R]=Math.log10(R/o)}function O(){var o=N.length;
for(var R=0;R<o;++R)N[R]=Math.pow(10,20*(R-o/2)/o)}function e(){var o=F.length;for(var R=0;R<o;++R)F[R]=w.wD(R/255)}function P(){var o=h.length;
for(var R=0;R<o;++R)h[R]=255*w.ZD(R/(o-1))}function B(o,H){var x=o.length>>>2;for(var R=0;R<x;++R){var Q=F[o[4*R]],U=F[o[4*R+1]],I=F[o[4*R+2]],l=.3811*Q+.5783*U+.0402*I,p=.1967*Q+.7244*U+.0782*I,j=.0241*Q+.1288*U+.8444*I;
l=r[~~(l*r.length)];p=r[~~(p*r.length)];j=r[~~(j*r.length)];H[3*R]=(l+p+j)*.5773502692;H[3*R+1]=(l+p-2*j)*.4082482905;
H[3*R+2]=(l-p)*.7071067812}}function s(o,H){var x=H.length>>>2,Q=h.length-1;for(var R=0;R<x;++R){var U=.5773502692*o[3*R],I=.4082482905*o[3*R+1],l=.7071067812*o[3*R+2],p=N[~~((U+I+l+10)*(3e3/20))],j=N[~~((U+I-l+10)*(3e3/20))],T=N[~~((U-2*I+10)*(3e3/20))],V=4.4679*p-3.5873*j+.1193*T,E=-1.2186*p+2.3809*j-.1624*T,_=.0497*p-.2439*j+1.2045*T;
H[4*R]=h[~~(Q*Math.max(0,Math.min(1,V)))];H[4*R+1]=h[~~(Q*Math.max(0,Math.min(1,E)))];H[4*R+2]=h[~~(Q*Math.max(0,Math.min(1,_)))]}}function Y(o){var H=0,x=0,Q=0;
for(var R=0;R<o.length;R+=3){H+=o[R];x+=o[R+1];Q+=o[R+2]}return[H/(o.length/3),x/(o.length/3),Q/(o.length/3)]}function D(o,Y){var H=0,x=0,Q=0;
for(var R=0;R<o.length;R+=3){var U=o[R]-Y[0],I=o[R+1]-Y[1],l=o[R+2]-Y[2];H+=U*U;x+=I*I;Q+=l*l}return[Math.sqrt(H/(o.length/3)),Math.sqrt(x/(o.length/3)),Math.sqrt(Q/(o.length/3))]}function c(o,H,x,Q,U,I){m();
O();e();P();var l=0,u,A;if(I[0]>100)l=-(I[0]-100)/100*.13;else if(I[0]>=75)l=(100-I[0])/25*.04;else if(I[0]>=50)l=.04+(75-I[0])/25*.04;
else if(I[0]>=25)l=.08+(50-I[0])/25*.08;else l=.16+(25-I[0])/25*.24;var p=(I[1]-100+100)/100,j=I[2]/100,T=I[3],V=new Float32Array(o.length*3/4),E=new Float32Array(Q.length*3/4),_=Date.now();
B(o,V);B(Q,E);var f=Date.now(),S=Y(V),L=Y(E),y=Date.now(),$=D(V,S),Z=D(E,L),i=Date.now();L[0]*=Math.pow(10,l);
var b=[Z[0]/$[0],Z[1]/$[1],Z[2]/$[2]],G=V.length,g=1/-1.1546978950500488;for(var R=0;R<G;R+=3){if(T){var a=Math.max(0,Math.min(1,V[R]*g));
a=1-Math.sqrt(a);u=a*L[1];A=a*L[2]}else{u=L[1];A=L[2]}V[R]=(V[R]-S[0])*b[0]+L[0];V[R+1]=(V[R+1]-S[1])*b[1]*p+u;
V[R+2]=(V[R+2]-S[2])*b[2]*p+A}var d=Date.now();s(V,U);var K=U.length>>>2;for(var R=0;R<K;++R){U[4*R]=(1-j)*U[4*R]+j*o[4*R];
U[4*R+1]=(1-j)*U[4*R+1]+j*o[4*R+1];U[4*R+2]=(1-j)*U[4*R+2]+j*o[4*R+2];U[4*R+3]=255}}return c}(),gk=function(){function r(N,F,h,m,O){var e=[-1,-1,-1,-1],P=255,B=160,s,Y=!1,D=new Array(4);
D[0]=new Array(F);D[1]=new Array(h);D[2]=new Array(F);D[3]=new Array(h);var c=new Array(2);c[0]=new Array(h);
c[1]=new Array(h);function o(Z,i,b,G,g){this.start=G;this.axis=g;this.dir=Z;this.end=-1;this.source=i;
this.W=b}function H(Z,i,b,G,g){if(b%2==0){if(!D[b][Z])D[b][Z]=new Array;D[b][Z].push(new o(b,G,g,i,Z))}else{if(!D[b][i])D[b][i]=new Array;
D[b][i].push(new o(b,G,g,Z,i))}var u=Date.now()}function x(R){var Z=!1,i=0;if(N[4*R+3]<P)return Z;var b=R%F,G=Math.floor(R/F);
Q(b,G);if(R+F<F*h&&N[4*(R+F)+3]<P&&N[4*(R-F)+3]>=P&&N[4*(R-2*F)+3]>=P){var g=2;if(N[4*(R+F)+3]<=B)i=-1;
if(N[4*(R+2*F-1)+3]<P&&N[4*(R+2*F+1)+3]<P)Z=!0;else if(N[4*(R+2*F-1)+3]>=P&&N[4*(R+1)+3]>=P)Z=!0;else if(N[4*(R+2*F+1)+3]>=P&&N[4*(R-1)+3]>=P)Z=!0;
H(b,G,g,i,Z)}else if(R-F>=0&&N[4*(R-F)+3]<P&&N[4*(R+F)+3]>=P&&N[4*(R+2*F)+3]>=P){var g=0;if(N[4*(R-F)+3]<=B)i=-1;
if(N[4*(R-2*F-1)+3]<P&&N[4*(R-2*F+1)+3]<P)Z=!0;else if(N[4*(R-2*F-1)+3]>=P&&N[4*(R+1)+3]>=P)Z=!0;else if(N[4*(R-2*F+1)+3]>=P&&N[4*(R-1)+3]>=P)Z=!0;
H(b,G,g,i,Z)}i=0;if(R+1<F*h&&N[4*(R+1)+3]<P&&N[4*(R-1)+3]>=P&&N[4*(R-2)+3]>=P){var g=3;if(N[4*(R+1)+3]<=B)i=-1;
if(!Z&&N[4*(R+F+2)+3]<P&&N[4*(R-F+2)+3]<P){Z=!0;H(b,G,g,i,!0)}else H(b,G,g,i,!1)}else if(R>=1&&N[4*(R-1)+3]<P&&N[4*(R+1)+3]>=P&&N[4*(R+2)+3]>=P){var g=1;
if(N[4*(R-1)+3]<=B)i=-1;if(!Z&&N[4*(R+F-2)+3]<P&&N[4*(R-F-2)+3]<P){Z=!0;H(b,G,g,i,!0)}else H(b,G,g,i,!1)}return Z}function Q(R,Z){if(e[0]==-1){e[0]=R;
e[1]=Z;e[2]=1;e[3]=1}if(R<e[0]){e[2]+=e[0]-R;e[0]=R}if(R>e[0]+e[2])e[2]=R-e[0];if(Z<e[1]){e[3]+=e[1]-Z;
e[1]=Z}if(Z>e[1]+e[3])e[3]=Z-e[1]}function U(Z,R,i,b){if(!i.W)return;var G=(Z+2)%4,g=i.start,u=e[1];
if(Z==2)u+=e[3];else if(Z==1)u=e[0];else if(Z==3)u=e[0]+e[2];var A=i.source;if(D[G][R])for(var a=0;a<D[G][R].length;
++a){if(Z>1){var d=g+Math.floor((D[G][R][a].start-g)/2);if(D[G][R][a].start>g&&d<u)u=d}else{var d=g-Math.floor((g-D[G][R][a].start)/2);
if(D[G][R][a].start<g&&d>u)u=d}}for(var K=1;K<Math.abs(u-g);++K){var a=g+K;if(Z==1||Z==0)a=g-K;for(var n=0;
n<2;++n){var t=2*n,X=!1;if(Z%2==0)t+=1;if(D[t][a]){for(var aK=0;aK<D[t][a].length;++aK){if(D[t][a][aK].W){var fg=D[t][a][aK].start,k=R-fg,hG=a-g;
if(t==0||t==1)k=-k;if(k<=0)continue;if(Z==0||Z==1)hG=-hG;if(hG>k){u=a;X=!0;break}}}if(X)break}}}i.end=u;
p(Z,R,g,u,A)}function I(Z){for(var R=0;R<D[Z].length;++R){if(D[Z][R])for(var i=0;i<D[Z][R].length;++i){U(Z,R,D[Z][R][i])}}}function l(){var Z=[2,0,3,1];
for(var R=0;R<Z.length;++R)I(Z[R])}function p(Z,R,i,b,G){if(Z==2)for(var g=i;g<=b;++g){if(!j(g*F+R,(i+G)*F+R))return!1}else if(Z==0)for(var g=i;
g>=b;--g){if(!j(g*F+R,(i-G)*F+R))return!1}else if(Z==1)for(var g=i;g>=b;--g){if(!j(R*F+g,R*F+i-G))return!1}else if(Z==3)for(var g=i;
g<=b;++g){if(!j(R*F+g,R*F+i+G))return!1}}function j(Z,i){if(!s[Z]){m[4*Z]=m[4*i];m[4*Z+1]=m[4*i+1];m[4*Z+2]=m[4*i+2];
if(Y)m[4*Z+3]=255;s[Z]=!0;return!0}return!1}function T(){for(var R=0;R<4;R+=1){for(var Z=0;Z<D[R].length;
++Z){if(D[R][Z])for(var i=0;i<D[R][Z].length;++i){var b=D[R][Z][i];for(var G=1;G<3;G+=2){var g=(R+G)%4;
if(D[g][b.start])for(var u=0;u<D[g][b.start].length;++u){if(D[g][b.start][u].start==b.axis){var j_=F*b.start+b.axis;
if(R%2==1){j_=b.start+F*b.axis;V(D[g][b.start][u])}else V(b)}}}}}}}function V(Z){if(Z.dir%2==0){var j_=F*Z.start+Z.axis,i=Z.start,b=1;
if(!s[j_+1])b=3;else if(s[j_-1])return;var G=m[4*j_],g=m[4*j_+1],u=m[4*j_+2];while(m[4*j_]==G&&m[4*j_+1]==g&&m[4*j_+2]==u){if(b==1){if(!c[0][i])c[0][i]=new Array;
c[0][i].push(new o(b,0,!1,Z.axis,i))}else{if(!c[1][i])c[1][i]=new Array;c[1][i].push(new o(b,0,!1,Z.axis,i))}if(Z.dir==2){j_+=F;
i++}else{j_-=F;i--}}}}function E(){for(var Z=0;Z<2;++Z){var i=(Z+1)%2;for(var R=0;R<c[Z].length;++R){if(c[Z][R])for(var b=0;
b<c[Z][R].length;++b){var G=e[0];if(Z==1)G+=e[2];var g=c[Z][R][b].start;if(c[i][R])for(var u=0;u<c[i][R].length;
++u){var A=c[i][R][u].ou;if(Z==0){if(A>G&&A<g){G=g-Math.floor((g-A)/2)}}else{if(A<G&&A>g){G=g+Math.ceil((A-g)/2)}}}if(Z==0)p(c[Z][R][b].dir,R,g-1,G,-1);
else p(c[Z][R][b].dir,R,g+1,G,-1)}}}for(var R=0;R<s.length;++R){if(!s[R]&&R%F>=e[0]&&R%F<=e[0]+e[2]&&Math.floor(R/F)>=e[1]&&Math.floor(R/F)<=e[1]+e[3]){var g=F;
if(R<g||!s[R-g])g=1;m[4*R]=m[4*(R-g)];m[4*R+1]=m[4*(R-g)+1];m[4*R+2]=m[4*(R-g)+2];s[R]=!0;if(Y)m[4*R+3]=255}}}function _(){s=new Array(N.length/4);
for(var R=0;R<m.length/4;++R){s[R]=!1;m[4*R]=N[4*R];m[4*R+1]=N[4*R+1];m[4*R+2]=N[4*R+2];m[4*R+3]=N[4*R+3];
if(m[4*R+3]==255)s[R]=!0;if(x(R))s[R]=!1}if(e[0]>0){e[0]--;e[2]++}if(e[1]>0){e[1]--;e[3]++}if(e[0]+e[2]<F){e[2]++}if(e[1]+e[3]<h){e[3]++}}var f=Date.now();
_();var S=Date.now();l();var L=Date.now();T();var y=Date.now();E();var $=Date.now();console.log("Init: "+String(S-f));
console.log("Filling: "+String(L-S));console.log("Check areas: "+String(y-L));console.log("Fill areas: "+String($-y))}return r}();
w.W4={afQ:function(r,N){var R=r.length;r.push(N);var F=R>>>1;while(F!=0&&r[R][0]<r[F][0]){var h=r[R];
r[R]=r[F];r[F]=h;R=F;F=R>>>1}},agf:function(r){if(r.length==2)return r.pop();var top=r[1],R=1;r[1]=r.pop();
var N=r.length;while(!0){var F=R<<1,h=F+1,m=R;if(F<N&&r[F][0]<r[m][0])m=F;if(h<N&&r[h][0]<r[m][0])m=h;
if(m==R)break;var O=r[R];r[R]=r[m];r[m]=O;R=m}return top},adx:function(r){for(var R=1;R<r.length;R++){var N=R,F=1e9;
while(N!=0){var h=r[N][0];if(h>F){console.log(R);throw"e"}F=h;N=N>>>1}}}};w.i={};w.i.Dj=new Float64Array(256);
w.i.F$=new Uint8Array(256*256);w.i.dL=new Uint8Array(256*256);(function(){for(var R=0;R<256;R++)w.i.Dj[R]=255/R;
for(var R=0;R<256;R++)for(var r=0;r<256;r++)w.i.F$[R*256+r]=R==0?0:Math.round(r*255/R);for(var R=0;R<256;
R++)for(var r=0;r<256;r++)w.i.dL[R*256+r]=Math.round(R*(255-r)/255)}());w.i.vw=function(r,N,F,h,m,O,e,P){if(P==null)P=iL.x2();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(r)==-1){e=e*P.fill;P.fill=1;P.style=!1}var B="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),s="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),Y=w.i[r+"F"];
if(P.Eu==null&&r=="norm")w.i.agj(N,F,h,m,O,e,Y,P.iC?1:0);else if(r=="diss")w.i.a0Q(N,F,h,m,O,e,Y,P.iC?1:0);
else if(B.indexOf(r)!=-1)w.i.aqn(N,F,h,m,O,e,Y,P);else if(s.indexOf(r)!=-1)w.i.a7h(N,F,h,m,O,e,Y,P)};
w.i.a5K=function(r,N,F){var h=r*F+1-F;return h<.001?0:1-Math.min(1,(1-N)/h)};w.i.a6l=function(r,N,F){return r*F==1?1:Math.min(1,N/(1-r*F))};
w.i.S7=function(r){return r<=.25?((16*r-12)*r+4)*r:Math.sqrt(r)};w.i.normF=function(r,N,F){return r};
w.i.darkF=function(r,N,F){return Math.min(r,N)};w.i["mul F"]=function(r,N,F){return r*N};w.i.idivF=function(r,N,F){var h=r*F+1-F;
return N==1?1:1-N>=h?0:1-(1-N)/h};w.i.lbrnF=function(r,N,F){return Math.max(0,r*F+N-F)};w.i.dkClF=function(r,N,F){var h=w.OM(r)<w.OM(N)?r:N;
F.Z=h.Z;F.z=h.z;F.J=h.J;return F};w.i.liteF=function(r,N,F){return Math.max(r,N)};w.i.scrnF=function(r,N,F){return N+r-N*r};
w.i["div F"]=function(r,N,F){r*=F;return N==0?0:N>=1-r?1:N/(1-r)};w.i.lddgF=function(r,N,F){r*=F;return Math.min(1,r+N)};
w.i.lgClF=function(r,N,F){var h=w.OM(r)>w.OM(N)?r:N;F.Z=h.Z;F.z=h.z;F.J=h.J;return F};w.i.overF=function(r,N,F){return w.i.hLitF(N,r,F)};
w.i.sLitF=function(r,N,F){return r<=.5?N-(1-2*r)*N*(1-N):N+(2*r-1)*(w.i.S7(N)-N)};w.i.hLitF=function(r,N,F){return r<=.5?w.i["mul F"](2*r,N,F):w.i.scrnF(2*r-1,N,F)};
w.i.vLitF=function(r,N,F){return r<=.5?w.i.a5K(2*r,N,F):w.i.a6l(2*r-1,N,F)};w.i.lLitF=function(r,N,F){return r<=.5?w.i.lbrnF(2*r,N,F):w.i.lddgF(2*r-1,N,F)};
w.i.pLitF=function(r,N,F){return r<=.5?w.i.darkF(2*r,N,F):w.i.liteF(2*r-1,N,F)};w.i.hMixF=function(r,N,F){if(F>.99)return r+N<1?0:1;
return Math.min(1,Math.max(0,(N+r*F-F)/(1-F+1e-6)))};w.i.diffF=function(r,N,F){r*=F;return Math.abs(r-N)};
w.i.smudF=function(r,N,F){return r+N-2*r*N};w.i.fsubF=function(r,N,F){return Math.max(N-r,0)};w.i.fdivF=function(r,N,F){return Math.min(N/r,1)};
w.i["hue F"]=function(r,N,F){w.i.PR(r,w.Va(N),F);w.i.nT(F,w.OM(N),F)};w.i["sat F"]=function(r,N,F){w.i.PR(N,w.Va(r),F);
w.i.nT(F,w.OM(N),F)};w.i.colrF=function(r,N,F){w.i.nT(r,w.OM(N),F)};w.i["lum F"]=function(r,N,F){w.i.nT(N,w.OM(r),F)};
w.i.nT=function(r,N,F){var h=N-w.OM(r);F.Z=r.Z+h;F.z=r.z+h;F.J=r.J+h;w.i.aiw(F)};w.i.aiw=function(r){var N=r.Z,F=r.z,h=r.J,m=w.$X(N,F,h),j_=Math.min(N,F,h),O=Math.max(N,F,h);
if(j_<0){var e=m/(m-j_);N=m+(N-m)*e;F=m+(F-m)*e;h=m+(h-m)*e}if(O>1){var e=(1-m)/(O-m);N=m+(N-m)*e;F=m+(F-m)*e;
h=m+(h-m)*e}r.Z=N;r.z=F;r.J=h};w.i.PR=function(r,N,F){var h=w.i.akv,m=r.Z,O=r.z,e=r.J;if(m==O&&O==e){F.Z=F.z=F.J=0}else if(m>O){if(m>e){if(O>e){F.Z=N;
F.z=h(m,O,e,N);F.J=0}else{F.Z=N;F.J=h(m,e,O,N);F.z=0}}else{F.J=N;F.Z=h(e,m,O,N);F.z=0}}else{if(m<e){if(O>e){F.z=N;
F.J=h(O,e,m,N);F.Z=0}else{F.J=N;F.z=h(e,O,m,N);F.Z=0}}else{F.z=N;F.Z=h(O,m,e,N);F.J=0}}};w.i.akv=function(r,N,F,h){return(N-F)*h/(r-F)};
w.i.agj=function(r,N,F,h,m,O,e,P){var B=N.c_(h).c_(m),s=Math.max(0,B.x-N.x),Y=Math.max(0,B.x-h.x),D=Math.max(0,B.y-N.y),c=Math.max(0,B.y-h.y),o=B.e,H=B.n,x=N.e,Q=h.e,U=w.i.F$,I=w.i.dL,l=new Uint32Array(r.buffer),p=new Uint32Array(F.buffer);
for(var R=0;R<H;R++){var j=(D+R)*x+s,T=(c+R)*Q+Y;for(var V=0;V<o;V++){var E=l[j+V],b=1;if(E>>>24==0)continue;
if(E>>>24==255&&O==1&&P==0){p[T+V]=l[j+V];continue}var _=p[T+V],f=E&255,S=E>>>8&255,L=E>>>16&255,y=_&255,$=_>>>8&255,Z=_>>>16&255,i=O,G=(_>>>24)*(1/255);
if(P==0){i=(E>>>24)*O*(1/255);b=G}var g=b*(1-i),u=i+g,A=1/u;p[T+V]=~~(.5+(P*G+(1-P)*u)*255)<<24|~~(.5+(L*i+Z*g)*A)<<16|~~(.5+(S*i+$*g)*A)<<8|~~(.5+(f*i+y*g)*A)}}};
w.i.ae_=function(r,N,F,h,m,O){var e=N.c_(h).c_(m),P=Math.max(0,e.x-N.x),B=Math.max(0,e.x-h.x),s=Math.max(0,e.y-N.y),Y=Math.max(0,e.y-h.y),D=e.e,c=e.n,o=N.e,H=h.e,x=w.i.F$,Q=w.i.dL,U=new Uint32Array(r.buffer),I=new Uint32Array(F.buffer),l=Math.floor(Math.random()*16777215),p=0;
for(var R=0;R<c;R++){var j=(s+R)*o+P,T=(Y+R)*H+B;for(var V=0;V<D;V++){var E=U[j+V];if(E>>>24==0)continue;
if(E>>24==255&&O==1){I[T+V]=E;continue}var _=I[T+V],f=(E>>>24)*O*(1/255),S=(_>>>24)*(1/255),L=S*(1-f),y=f+L,$=E&255,Z=E>>>8&255,i=E>>>16&255,b=_&255,G=_>>>8&255,g=_>>>16&255;
p>>>=8;if((V&3)==0)p=w.i.aw(T+V+l);var u=y==0?0:1/y,A=Math.floor(y*(256*255))+(p&255)>>>8,a=Math.floor((i*f+g*L)*u+.5),d=Math.floor((Z*f+G*L)*u+.5),K=Math.floor(($*f+b*L)*u+.5);
I[T+V]=A<<24|a<<16|d<<8|K}}};w.i.fU=function(r,N,F,h,m,O,e,P){var B=w.$X(r,N,F),s=w.$X(h,m,O),Y=Math.min,D=w.i.au_,c=D(B,P,0);
c=Y(c,D(r,P,8));c=Y(c,D(N,P,16));c=Y(c,D(F,P,24));var o=D(s,P,4);o=Y(o,D(h,P,12));o=Y(o,D(m,P,20));o=Y(o,D(O,P,28));
o=Math.max(o,1-e);var H=Math.min(c,o);return H<0?0:H>1?1:H};w.i.au_=function(r,N,R){return Math.min((r-N[R])*N[R+1],(r-N[R+3])*N[R+2])};
w.i.aqn=function(r,N,F,h,m,O,e,P){var B=1/255,s=B*O,Y=P.iC?1:0,D=P.fill,c=P.style,o=N.c_(h).c_(m),H=Math.max(0,o.x-N.x),x=Math.max(0,o.x-h.x),Q=Math.max(0,o.y-N.y),U=Math.max(0,o.y-h.y),I=o.e,l=o.n,p=N.e,j=h.e,T=new Uint32Array(r.buffer),V=new Uint32Array(F.buffer);
for(var R=0;R<l;R++){var E=(Q+R)*p+H,_=(U+R)*j+x;for(var f=0;f<I;f++,E++,_++){var S=T[E],u=1;if(S>>>24==0)continue;
var L=V[_],y=(S&255)*B,$=(S>>>8&255)*B,Z=(S>>>16&255)*B,i=(L&255)*B,b=(L>>>8&255)*B,G=(L>>>16&255)*B,g=O;
if(Y==0){g=(S>>>24)*s;u=(L>>>24)*B}if(P.Eu)g*=w.i.fU(y,$,Z,i,b,G,u,P.Eu);var A=u*(1-g),a=g+A,d=a==0?0:255/a,K=c?1:g,n=((1-u)*g*y+(1-K)*u*i+K*u*e(y,i,(1+g-K)*D))*d,t=((1-u)*g*$+(1-K)*u*b+K*u*e($,b,(1+g-K)*D))*d,X=((1-u)*g*Z+(1-K)*u*G+K*u*e(Z,G,(1+g-K)*D))*d;
a=g*D+u*(1-g*D);var aK=~~(a*255+.5);V[_]=Y*(L>>>24)+(1-Y)*aK<<24|X<<16|t<<8|n}}};w.i.a7h=function(r,N,F,h,m,O,e,P){var B=1/255,s=B*O,Y=P.iC?1:0,D=N.c_(h).c_(m),c=Math.max(0,D.x-N.x),o=Math.max(0,D.x-h.x),H=Math.max(0,D.y-N.y),x=Math.max(0,D.y-h.y),Q=D.e,U=D.n,I=new Uint32Array(r.buffer),l=new Uint32Array(F.buffer),p={Z:0,z:0,J:0},j={Z:0,z:0,J:0},T={Z:0,z:0,J:0};
for(var R=0;R<U;R++){var V=(H+R)*N.e+c,E=(x+R)*h.e+o;for(var _=0;_<Q;_++,V++,E++){var f=I[V],S=l[E],L=(f&255)*B,y=(f>>>8&255)*B,$=(f>>>16&255)*B,Z=(S&255)*B,i=(S>>>8&255)*B,b=(S>>>16&255)*B,G=O,g=1;
if(Y==0){G=(f>>>24)*s;g=(S>>>24)*B}if(P.Eu)G*=w.i.fU(L,y,$,Z,i,b,g,P.Eu);var u=g*(1-G),A=G+u,a=255/A;
p.Z=L;p.z=y;p.J=$;j.Z=Z;j.z=i;j.J=b;e(p,j,T);var d=(((1-g)*L+g*T.Z)*G+Z*u)*a,K=(((1-g)*y+g*T.z)*G+i*u)*a,n=(((1-g)*$+g*T.J)*G+b*u)*a,t=Y*(S>>>24)+(1-Y)*Math.round(A*255);
l[E]=t<<24|n<<16|K<<8|d}}};w.i.Gc=function(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;r=r*668265261;r=r^r>>15;
return(r&16777215)*(1/16777215)};w.i.aw=function(r){r=r^61^r>>>16;r=r+(r<<3);r=r^r>>>4;r=r*668265261;
r=r^r>>>15;return r};w.i.ws=function(r){this.K5=r};w.i.ws.prototype.get=function(){var r=this.K5=w.i.aw(this.K5);
return(r&16777215)*(1/16777215)};w.i.a0Q=function(r,N,F,h,m,O,e,P){var B=1/255,s=B*O,Y=Math.round(O*(256*256*256/255)),D=N.c_(h).c_(m),c=Math.max(0,D.x-N.x),o=Math.max(0,D.x-h.x),H=Math.max(0,D.y-N.y),x=Math.max(0,D.y-h.y),Q=D.e,U=D.n,I=new Uint32Array(r.buffer),l=new Uint32Array(F.buffer);
for(var R=0;R<U;R++){var p=(H+R)*N.e+c,j=(x+R)*h.e+o;for(var T=0;T<Q;T++,p++,j++){var V=I[p],E=l[j],_=P*255+(1-P)*(V>>>24);
if((w.i.aw(p)&16777215)>=_*Y)continue;l[j]=V&16777215|P*(E>>>24)+(1-P)*255<<24}}};w.i.ajY=function(r,N,F){for(var R=0;
R<r.length;R+=4){var h=F[R>>>2];if(h==0)continue;var m=h*(1/255),O=1/m,e=N[R],P=N[R+1],B=N[R+2],s=r[R],Y=r[R+1],D=r[R+2];
N[R]=Math.min(255,Math.max(0,Math.round((e-(1-m)*s)*O)));N[R+1]=Math.min(255,Math.max(0,Math.round((P-(1-m)*Y)*O)));
N[R+2]=Math.min(255,Math.max(0,Math.round((B-(1-m)*D)*O)));N[R+3]=255}};w.i.lO=function(r,N,F,h,m,O,e,P,B,s,Y){if(s==null)s=!1;
if(Y==null)Y=[1,1,1];var D=255<<24|Y[2]*16711680|Y[1]*65280|Y[0]*255,c=~D;if(m&&!N.cj(O)){var o=w.B(N.W()*4);
o.fill(e);w.nZ(m,O,o,N);m=o;O=N}if(s){if(m==null)w.i.a4s(r,N,F,h,m,P,B,D,c);else w.i.aej(r,N,F,h,m,P,B)}else{if(m==null)w.i.arO(r,N,F,h,m,P,B,D,c);
else w.i.aa0(r,N,F,h,m,P,B)}};w.i.arO=function(r,N,F,h,m,O,e,P,B){var s=1/255,Y=N.c_(h).c_(O),D=Math.max(0,Y.x-N.x),c=Math.max(0,Y.x-h.x),o=Math.max(0,Y.y-N.y),H=Math.max(0,Y.y-h.y),x=Y.e,Q=Y.n,U=new Uint32Array(r.buffer),I=new Uint32Array(F.buffer),l=w.i.F$,p=e*255&255;
for(var R=0;R<Q;R++){var j=(o+R)*N.e+D,T=(H+R)*h.e+c;for(var V=0;V<x;V++,j++,T++){var E=U[j],_=I[T],f=E>>>24,S=_>>>24,L=w.uz(p*f+(255-p)*S),y=w.uz(f*p),$=w.uz(S*(255-p)),Z=E&255,i=E>>>8&255,b=E>>>16&255,G=_&255,g=_>>>8&255,u=_>>>16&255,A=y*Z+G*$,a=y*i+g*$,d=y*b+u*$;
A=l[L<<8|w.uz(A)];a=l[L<<8|w.uz(a)];d=l[L<<8|w.uz(d)];var K=L<<24|d<<16|a<<8|A;I[T]=B&_|P&K}}};w.i.a4s=function(r,N,F,h,m,O,e,P,B){var s=1/255,Y=N.c_(h).c_(O),D=Math.max(0,Y.x-N.x),c=Math.max(0,Y.x-h.x),o=Math.max(0,Y.y-N.y),H=Math.max(0,Y.y-h.y),x=Y.e,Q=Y.n,U=new Uint32Array(r.buffer),I=new Uint32Array(F.buffer),l=w.i.F$,p=e*16777215&16777215;
for(var R=0;R<Q;R++){var j=(o+R)*N.e+D,T=(H+R)*h.e+c;for(var V=0;V<x;V++,j++,T++){if((w.i.aw(j)&16777215)<p){I[T]=B&I[T]|P&U[j]}}}};
w.i.aa0=function(r,N,F,h,m,O,e){var P=1/255,B=N.c_(h).c_(O),s=Math.max(0,B.x-N.x),Y=Math.max(0,B.x-h.x),D=Math.max(0,B.y-N.y),c=Math.max(0,B.y-h.y),o=B.e,H=B.n,x=new Uint32Array(r.buffer),Q=new Uint32Array(F.buffer),U=w.i.F$;
for(var R=0;R<H;R++){var I=(D+R)*N.e+s,l=(c+R)*h.e+Y;for(var p=0;p<o;p++,I++,l++){var j=m[I]*e&255;if(j==0)continue;
if(j==255){Q[l]=x[I];continue}var T=x[I],V=Q[l],E=T>>>24,_=V>>>24,f=w.uz(j*E+(255-j)*_),S=w.uz(E*j),L=w.uz(_*(255-j)),y=T&255,$=T>>>8&255,Z=T>>>16&255,i=V&255,b=V>>>8&255,G=V>>>16&255,g=U[f<<8|w.uz(S*y+i*L)],u=U[f<<8|w.uz(S*$+b*L)],A=U[f<<8|w.uz(S*Z+G*L)];
Q[l]=f<<24|A<<16|u<<8|g}}};w.i.aej=function(r,N,F,h,m,O,e){var P=1/255,B=N.c_(h).c_(O),s=Math.max(0,B.x-N.x),Y=Math.max(0,B.x-h.x),D=Math.max(0,B.y-N.y),c=Math.max(0,B.y-h.y),o=B.e,H=B.n,x=new Uint32Array(r.buffer),Q=new Uint32Array(F.buffer),U=w.i.F$,I=Math.round(e*257);
for(var R=0;R<H;R++){var l=(D+R)*N.e+s,p=(c+R)*h.e+Y;for(var j=0;j<o;j++,l++,p++){var T=m[l]*I;if((w.i.aw(l)&65535)<T)Q[p]=x[l]}}};
w.i.Ml=function(r,N,F,h,m,O,e){var P=1/255,B=N.c_(h).c_(O),s=Math.max(0,B.x-N.x),Y=Math.max(0,B.x-h.x),D=Math.max(0,B.y-N.y),c=Math.max(0,B.y-h.y),o=B.e,H=B.n,x=new Uint32Array(r.buffer),Q=new Uint32Array(F.buffer),U=Math.floor(Math.random()*h.W()),I=w.i.aiY;
for(var R=0;R<H;R++){var l=(D+R)*N.e+s,p=(c+R)*h.e+Y;for(var j=0;j<o;j++){var T=m[l+j]*e;if(T==0)continue;
if(T==255){Q[p+j]=x[l+j];continue}var V=x[l+j],E=Q[p+j],_=V>>>24,f=E>>>24,S=_*T*(1/255),L=f*(255-T)*(1/255),y=V&255,$=V>>>8&255,Z=V>>>16&255,i=E&255,b=E>>>8&255,G=E>>>16&255,g=w.i.aw(p+j+U),u=Math.floor((S+L)*256+.5)+(g>>>0&255)>>>8,A=u==0?0:256/(S+L),a=y*S+i*L,d=$*S+b*L,K=Z*S+G*L,n=Math.floor(a*A+.5)+(g>>>8&255)>>>8,t=Math.floor(d*A+.5)+(g>>>16&255)>>>8,X=Math.floor(K*A+.5)+(g>>>24&255)>>>8;
Q[p+j]=u<<24|X<<16|t<<8|n}}};w.i.aiY=function(r){return Math.floor(r+Math.random())};w.i.b6=function(r,N,F,h,m,O,e){var P=1/255,B=N.c_(h).c_(O),s=Math.max(0,B.x-N.x),Y=Math.max(0,B.x-h.x),D=Math.max(0,B.y-N.y),c=Math.max(0,B.y-h.y),o=B.e,H=B.n;
for(var R=0;R<H;R++){var x=(D+R)*N.e+s,Q=(c+R)*h.e+Y;for(var U=0;U<o;U++,x++,Q++){var I=e*m[x]*P;if(I==0)continue;
if(I==1){F[Q]=r[x];continue}F[Q]=r[x]*I+F[Q]*(1-I)}}};w.aut=function(){function r(O){var e=O*.85;return Math.exp(-(e*e)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function N(O,e){var P=O<e?1:r((O-e)/Math.pow(1.001-e,.86));
return P}var F=[];function h(O){if(F[O])return F[O];var e=Math.pow(O,.55),P=new Float64Array(8e3),B=0,s=8e3;
for(var R=0;R<8e3;R++){var Y=N(R*(1.55/4e3),e);if(Y>=1)B=R;else if(Y<=0&&s==8e3)s=R;P[R]=Y}var D=[P,B,s];
F[O]=D;return D}function m(O,e,P){var B=1+.55*(1-e),s=Math.round(P*O*B)+2,Y=new fE(0,0,s,s),D=w.B(s*s*4),c=new Uint32Array(D.buffer),o=[D,Y],H=s/2,x=B/(H-1),Q=Date.now(),U=h(e),I=Math.round(8e3/H),l=U[0],p=U[1]-I,j=U[2]+I,T=Math.min(s,s+1>>>1),V=x*.4*(4e3/1.55),E=w.B(8e3);
for(var R=0;R<8e3;R++){var _=R,f=R,S=~~Math.max(0,_-V-V),L=~~Math.max(0,_-V),y=~~(_+V),$=~~(_+V+V),Z=~~(.5+255*(1/5)*(l[f]+l[S]+l[L]+l[y]+l[$]));
E[R]=Z;if(Z==0)break}for(var R=0;R<T;R++){var i=x*(R-H+.5),b=i*i,G=R*s,g=(s-1-R)*s;for(var u=0;u<T;u++){var A=x*(u-H+.5),f=~~(Math.sqrt(A*A+b)*(4e3/1.55));
if(j<f)continue;else if(f<p){var Z=4278190080;while(u<T){var a=s-1-u;c[G+u]=Z;c[G+a]=Z;c[g+u]=Z;c[g+a]=Z;
u++}break}else{var Z=E[f]<<24,a=s-1-u;c[G+u]=Z;c[G+a]=Z;c[g+u]=Z;c[g+a]=Z}}}return o}return{ajR:m}}();
w.ia={};w.ia.a6Z=function(r,N,F,h,m,O){w.ia.WQ(r,N,F,h,m,O,null,0)};w.ia.as1=function(r,N,F,h,m){w.ia.WQ(r,N,F,h,m,null,null,0)};
w.ia.a4h=function(r,N,F,h,m,O,e){w.ia.WQ(r,N,F,h,m,null,O,e*.5)};w.ia.WQ=function(r,N,F,h,m,O,e,P){var B=0,L=0,y=1e9,$=0,Z=1e9,i=0,b=1e9,G=0,g=0,u=0,A=0;
if(O){B=m*.5;m=3+Math.round((m-3)*.75)}if(e){m=Math.round(m*2.2)}var s=1/m,Y=Math.floor(N*s)+1,D=Math.floor(F*s)+1,c=[],o=new Uint8Array(Y*D*4),H=e?.5:1,x=O?64:0;
for(var Q=0;Q<D;Q++){var U=e?.5*(Q&1):0;for(var I=0;I<Y;I++){var l=(I+Math.random()*H+U)*m,p=(Q+Math.random()*H)*m;
c.push(l,p);var j=Math.min(N-1,Math.floor(l)),T=Math.min(F-1,Math.floor(p)),V=(T*N+j)*4,E=(Q*Y+I)*4;
for(var R=0;R<4;R++)o[E+R]=Math.max(0,Math.min(255,Math.floor(r[V+R]+(Math.random()-.5)*x)))}}var _=O?O:e?e:[0,0,0],f=Y*D*2,S=[-Y-1,-Y,-Y+1,-1,0,1,Y-1,Y,Y+1];
for(var Q=0;Q<F;Q++){u=0;for(var I=0;I<N;I++){var a=I+.5,d=Q+.5,K=Math.floor(d*s),n=Math.floor(a*s),t=K*Y+n,fg=0,k=0;
if(u>1+P){y=w.ia.QF(c,L,a,d);G=Math.sqrt(y);u--;A++}else{y=Z=b=1e9;for(var R=0;R<S.length;R++){var X=(t+S[R])*2;
if(X<0||X>=f)continue;var aK=w.ia.QF(c,X,a,d);if(aK<b){if(aK<Z){if(aK<y){i=$;b=Z;$=L;Z=y;L=X;y=aK}else{i=$;
b=Z;$=X;Z=aK}}else{i=X;b=aK}}}G=Math.sqrt(y);g=Math.sqrt(Z);u=g-(G+g)*.5}if(e==null){var hG=(G+g)*.5,eE=O?Math.max(0,hG-B):0;
fg=Math.max(0,Math.min(1,.5+hG-G-eE));k=Math.max(0,Math.min(1,1-(.5+hG-G)-eE))}else{var hW=Math.min(w.ia.m1(c,L,$,a,d),w.ia.m1(c,L,i,a,d));
fg=Math.max(0,Math.min(1,hW-P*.5));if(a<P||N-P<a||d<P||F-P<d)fg=0;k=0}var hh=1-k-fg,E=Q*N+I<<2,hI=L<<1,db=$<<1;
h[E+0]=Math.floor(.5+fg*o[hI+0]+k*o[db+0]+hh*_[0]);h[E+1]=Math.floor(.5+fg*o[hI+1]+k*o[db+1]+hh*_[1]);
h[E+2]=Math.floor(.5+fg*o[hI+2]+k*o[db+2]+hh*_[2]);h[E+3]=r[E+3]}}};w.ia.QF=function(r,N,F,h){var m=F-r[N],O=h-r[N+1];
return m*m+O*O};w.ia.m1=function(r,N,F,h,m){var O=r[N],e=r[N+1],P=r[F],B=r[F+1],s=(O+P)*.5,Y=(e+B)*.5,D=s+(B-e),c=Y-(P-O),o=c-Y,H=D-s;
return Math.abs(o*h-H*m+D*Y-c*s)/Math.sqrt(H*H+o*o)};w.Hu={};w.Hu.NY=function(r){if(w.Hu.Il.length<r)w.Hu.Il=w.B(r);
return w.Hu.Il};w.Hu.Il=w.B(0);w.Hu.Vy=function(r){if(w.Hu.Qx.length<r)w.Hu.Qx=new Float32Array(r);return w.Hu.Qx};
w.Hu.Qx=new Float32Array(0);w.Hu.UW=function(r,N,F,h){var m=F.e,O=F.n;w.Hu.a4p(r,N,m,O,h)};w.Hu.lM=function(r,N,F,h){var m=F.e,O=F.n;
w.Hu.ab2(r,N,m,O,h)};w.Hu.hd=function(r,N,F){var h=N.e,m=N.n;w.Hu.ao8(r,h,m,F)};w.Hu.gK=function(r,N,F,h,m){var O=F.e,e=F.n;
w.Hu.a5l(r,N,O,e,h,m)};w.Hu.AC=function(r,N,F,h){var m=F.e,O=F.n;h=Math.round(h);var e=w.Hu.NY(m*O);
w.ZF(r,N);w.Hu.xr(N,e,m,O,h)};w.Hu.Rb=function(r,N,F){var h=N.e,m=N.n;F=Math.round(F);var O=w.Hu.NY(h*m*4);
w.Hu.zx(r,O,h,m,F)};w.Hu.N4=function(r,N,F,h){var m=F.e,O=F.n;h=Math.round(h);var e=w.Hu.Vy(m*O);w.ZF(r,N);
w.Hu.j8(N,e,m,O,h)};w.Hu.Vd=function(r,N,F){var h=N.e,m=N.n;F=Math.round(F);var O=w.Hu.NY(h*m*4);w.Hu.jT(r,O,h,m,F);
w.ZF(O,r)};w.Hu.uk=function(r,j_){var N=Math.sqrt(12*r*r/j_+1),F=Math.floor(N);if(F%2==0)F--;var h=F+2,m=(12*r*r-j_*F*F-4*j_*F-3*j_)/(-4*F-4),O=Math.round(m),e=[];
for(var R=0;R<j_;R++)e.push(R<O?F:h);return e};w.Hu.a4p=function(r,N,F,h,m){var O=w.Hu.uk(m,3),e=w.Hu.NY(F*h);
w.ZF(r,N);w.Hu.xr(N,e,F,h,O[0]-1>>1);w.Hu.xr(N,e,F,h,O[1]-1>>1);w.Hu.xr(N,e,F,h,O[2]-1>>1)};w.Hu.ab2=function(r,N,F,h,m){var O=w.Hu.uk(m,2),e=w.Hu.NY(F*h);
w.ZF(r,N);w.Hu.xr(N,e,F,h,O[0]-1>>1);w.Hu.xr(N,e,F,h,O[1]-1>>1)};w.Hu.ao8=function(r,N,F,h){var m=w.Hu.uk(h,3),O=w.Hu.NY(N*F*4);
w.Hu.zx(r,O,N,F,m[0]-1>>1);w.Hu.zx(r,O,N,F,m[1]-1>>1);w.Hu.zx(r,O,N,F,m[2]-1>>1)};w.Hu.a5l=function(r,N,F,h,m,O){if(O==null)O=3;
var e=w.Hu.uk(m,O),P=w.Hu.Vy(F*h);w.ZF(r,N);for(var R=0;R<O;R++)w.Hu.j8(N,P,F,h,(e[R]-1)/2)};w.Hu.xr=function(r,N,F,h,m){w.Hu.akw(r,N,F,h,m);
w.Hu.asU(N,r,F,h,m)};w.Hu.zx=function(r,N,F,h,m){w.Hu.jT(r,N,F,h,m);w.Hu.apk(N,r,F,h,m)};w.Hu.j8=function(r,N,F,h,m){w.Hu.a0E(r,N,F,h,m);
w.Hu.a2o(N,r,F,h,m)};w.Hu.f_=[];w.Hu.ax=function(r){if(w.Hu.f_[r])return w.Hu.f_[r];var N=1/(r+r+1),F=(r+r+1)*256,h=w.B(F);
for(var R=0;R<F;R++)h[R]=Math.round(R*N);w.Hu.f_[r]=h;return h};w.Hu.akw=function(r,N,F,h,m){var O=1/(m+m+1),e=F-m-m-1,P=w.Hu.ax(m);
for(var R=0;R<h;R++){var B=R*F,s=B,Y=B+m,D=r[B],c=r[B+F-1],o=(m+1)*D;for(var H=0;H<m;H++)o+=r[B+H];for(var H=0;
H<=m;H++){o+=r[Y+H]-D;N[B+H]=P[o]}Y+=m+1;B+=m+1;for(var H=0;H<e;H++){o+=r[Y+H]-r[s+H];N[B+H]=P[o]}Y+=e;
s+=e;B+=e;for(var H=F-m;H<F;H++){o+=c-r[s++];N[B++]=P[o]}}};w.Hu.jT=function(r,N,F,h,m){var O=F<<2,e=m<<2,P=1/(m+m+1),B=F-m-m-1,s=B<<2,Y=w.Hu.ax(m);
for(var R=0;R<h;R++){var D=R*O,c=D,o=D+e,H=D+O,x=r[D],Q=r[D+1],U=r[D+2],I=r[D+3],l=(m+1)*x,p=(m+1)*Q,j=(m+1)*U,T=(m+1)*I;
for(var V=0;V<e;V+=4){l+=r[D+V];p+=r[D+V+1];j+=r[D+V+2];T+=r[D+V+3]}for(var V=0;V<=e;V+=4){l+=r[o]-x;
N[D]=Y[l];p+=r[o+1]-Q;N[D+1]=Y[p];j+=r[o+2]-U;N[D+2]=Y[j];T+=r[o+3]-I;N[D+3]=Y[T];o+=4;D+=4}for(var V=0;
V<s;V+=4){l+=r[o+V]-r[c+V];N[D+V]=Y[l];p+=r[o+V+1]-r[c+V+1];N[D+V+1]=Y[p];j+=r[o+V+2]-r[c+V+2];N[D+V+2]=Y[j];
T+=r[o+V+3]-r[c+V+3];N[D+V+3]=Y[T]}o+=s;c+=s;D+=s;x=r[H-4];Q=r[H-3];U=r[H-2];I=r[H-1];for(var V=F-m;
V<F;V++){l+=x-r[c];N[D]=Y[l];p+=Q-r[c+1];N[D+1]=Y[p];j+=U-r[c+2];N[D+2]=Y[j];T+=I-r[c+3];N[D+3]=Y[T];
c+=4;D+=4}}};w.Hu.a0E=function(r,N,F,h,m){var O=1/(m+m+1),e=F-m-m-1;for(var R=0;R<h;R++){var P=R*F,B=P,s=P+m,Y=r[P],D=r[P+F-1],c=(m+1)*Y;
for(var o=0;o<m;o++)c+=r[P+o];for(var o=0;o<=m;o++){c+=r[s+o]-Y;N[P+o]=c*O}s+=m+1;P+=m+1;for(var o=0;
o<e;o++){c+=r[s+o]-r[B+o];N[P+o]=c*O}s+=e;B+=e;P+=e;for(var o=F-m;o<F;o++){c+=D-r[B++];N[P++]=c*O}}};
w.Hu.asU=function(r,N,F,h,m){var O=1/(m+m+1),e=h-m-m-1,P=w.Hu.ax(m);for(var R=0;R<F;R++){var B=R,s=B,Y=B+m*F,D=r[B],c=r[B+F*(h-1)],o=(m+1)*D;
for(var H=0;H<m;H++)o+=r[B+H*F];for(var H=0;H<=m;H++){o+=r[Y]-D;N[B]=P[o];Y+=F;B+=F}for(var H=0;H<e;
H++){var x=H*F;o+=r[Y+x]-r[s+x];N[B+x]=P[o]}s+=e*F;Y+=e*F;B+=e*F;for(var H=h-m;H<h;H++){o+=c-r[s];N[B]=P[o];
s+=F;B+=F}}};w.Hu.apk=function(r,N,F,h,m){var O=F<<2,e=m<<2,P=1/(m+m+1),B=h-m-m-1,s=B<<2,Y=w.Hu.ax(m);
for(var R=0;R<F;R++){var D=R<<2,c=D,o=D+m*O,H=D+O*(h-1),x=r[D],Q=r[D+1],U=r[D+2],I=r[D+3],l=(m+1)*x,p=(m+1)*Q,j=(m+1)*U,T=(m+1)*I;
for(var V=0;V<m;V++){var E=D+V*O;l+=r[E];p+=r[E+1];j+=r[E+2];T+=r[E+3]}for(var V=0;V<=m;V++){l+=r[o]-x;
N[D]=Y[l];p+=r[o+1]-Q;N[D+1]=Y[p];j+=r[o+2]-U;N[D+2]=Y[j];T+=r[o+3]-I;N[D+3]=Y[T];o+=O;D+=O}for(var V=0;
V<B;V++){var _=V*O;l+=r[o+_]-r[c+_];N[D+_]=Y[l];p+=r[o+_+1]-r[c+_+1];N[D+_+1]=Y[p];j+=r[o+_+2]-r[c+_+2];
N[D+_+2]=Y[j];T+=r[o+_+3]-r[c+_+3];N[D+_+3]=Y[T]}c+=B*O;o+=B*O;D+=B*O;x=r[H];Q=r[H+1];U=r[H+2];I=r[H+3];
for(var V=h-m;V<h;V++){l+=x-r[c];N[D]=Y[l];p+=Q-r[c+1];N[D+1]=Y[p];j+=U-r[c+2];N[D+2]=Y[j];T+=I-r[c+3];
N[D+3]=Y[T];c+=O;D+=O}}};w.Hu.a2o=function(r,N,F,h,m){var O=1/(m+m+1),e=h-m-m-1;for(var R=0;R<F;R++){var P=R,B=P,s=P+m*F,Y=r[P],D=r[P+F*(h-1)],c=(m+1)*Y;
for(var o=0;o<m;o++)c+=r[P+o*F];for(var o=0;o<=m;o++){c+=r[s]-Y;N[P]=c*O;s+=F;P+=F}for(var o=0;o<e;o++){var H=o*F;
c+=r[s+H]-r[B+H];N[P+H]=c*O}B+=e*F;s+=e*F;P+=e*F;for(var o=h-m;o<h;o++){c+=D-r[B];N[P]=c*O;B+=F;P+=F}}};
w.DK={};w.DK.B=function(r,N,F,h){var m=[];for(var O=0;O<4;O++)for(var e=0;e<4;e++)m.push(r+F*e/3,N+h*O/3);
return m};w.DK.NX=function(r,N){var F=r.slice(0);for(var R=0;R<4;R++)for(var h=0;h<4;h++){var m=2*(R*4+h),O=2*(h*4+(3-R));
if(N){var e=m;m=O;O=e}F[O]=r[m];F[O+1]=r[m+1]}return F};w.DK.al=w.B(0);w.DK.drawImage=function(r,N,F,h,m,O,e){var P=!1,B=Date.now(),s=2,Y=F+2*s,D=h+2*s,c=new fE(s,s,F,h),o=c.clone(),I=50;
o.r2(s,s);var H=w.DK.al;if(H.length!=o.W()*4)H=w.DK.al=w.B(o.W()*4);else H.fill(0);w.L3(N,c,H,o);if(P)console.log(Date.now()-B,"copy rect");
B=Date.now();w.pg(H);if(P)console.log(Date.now()-B,"multiply alpha");B=Date.now();var x=[],Q=[],U=[];
for(var l=0;l<I+1;l++)for(var p=0;p<I+1;p++){var j=p/I,T=l/I;x.push(Y*j,D*T);if(p<I&&l<I){var V=l*(I+1)+p,E=V+1,_=V+I+1,f=_+1;
Q.push(V,E,_);Q.push(_,E,f)}var S=w.DK.aj1(r,j,T);U.push(-S)}var L=x.slice(0);w.DK.A(r,L,new fE(s,s,F,h));
w.p.A(L,new hc(1,0,0,1,-O.x,-O.y),L);if(P)console.log(Date.now()-B,"mesh built");B=Date.now();var y=O.e,$=O.n;
w.AB.nG(H,Y,D,m,y,$,x,L,U,Q);if(P)console.log(Date.now()-B,"rendered");B=Date.now();w.l4(m);if(P)console.log(Date.now()-B,"divided");
B=Date.now()};w.DK.Et=new Array(10);w.DK.asG=function(r,N){var F=200,h=0,m=0,O=1e9,e=w.DK.Et;for(var P=0;
P<F+1;P++)for(var B=0;B<F+1;B++){var s=B/F,Y=P/F;w.DK._b(r,s,Y,e);var D=e[8]-N.x,c=e[9]-N.y,o=D*D+c*c;
if(o<O){O=o;h=s;m=Y}}return[h,m]};w.DK.A=function(r,N,F){var h=F.x,m=F.y,O=1/F.e,e=1/F.n,P=w.DK.Et;for(var B=0;
B<N.length;B+=2){var s=(N[B]-h)*O,Y=(N[B+1]-m)*e;w.DK._b(r,s,Y,P);N[B]=P[8];N[B+1]=P[9]}};w.DK.aj1=function(r,N,F){var h,m,O,e,P=w.DK.Et;
w.DK.a4D(r,N,F,P);h=P[8];m=P[9];w.DK.adr(r,N,F,P);O=P[8];e=P[9];return h*e-m*O};w.DK._b=function(r,N,F,h){w.DK.Xg(h,0,F);
w.DK.Xg(h,4,N);w.DK.km(r,h)};w.DK.a4D=function(r,N,F,h){w.DK.Xg(h,0,F);w.DK.jA(h,4,N);w.DK.km(r,h)};
w.DK.adr=function(r,N,F,h){w.DK.jA(h,0,F);w.DK.Xg(h,4,N);w.DK.km(r,h)};w.DK.jA=function(r,R,N){var F=1-N;
r[R]=-3*(F*F);r[R+1]=3*(F*F)-6*(N*F);r[R+2]=6*(N*F)-3*(N*N);r[R+3]=3*(N*N)};w.DK.Xg=function(r,R,N){var F=1-N;
r[R]=F*(F*F);r[R+1]=3*N*(F*F);r[R+2]=3*(N*N)*F;r[R+3]=N*N*N};w.DK.km=function(r,N){var F=0,h=0,m=0,O=N[0],e=N[1],P=N[2],B=N[3],s=N[4],Y=N[5],D=N[6],c=N[7];
m=O*s;F+=r[0]*m;h+=r[1]*m;m=O*Y;F+=r[2]*m;h+=r[3]*m;m=O*D;F+=r[4]*m;h+=r[5]*m;m=O*c;F+=r[6]*m;h+=r[7]*m;
m=e*s;F+=r[8]*m;h+=r[9]*m;m=e*Y;F+=r[10]*m;h+=r[11]*m;m=e*D;F+=r[12]*m;h+=r[13]*m;m=e*c;F+=r[14]*m;h+=r[15]*m;
m=P*s;F+=r[16]*m;h+=r[17]*m;m=P*Y;F+=r[18]*m;h+=r[19]*m;m=P*D;F+=r[20]*m;h+=r[21]*m;m=P*c;F+=r[22]*m;
h+=r[23]*m;m=B*s;F+=r[24]*m;h+=r[25]*m;m=B*Y;F+=r[26]*m;h+=r[27]*m;m=B*D;F+=r[28]*m;h+=r[29]*m;m=B*c;
F+=r[30]*m;h+=r[31]*m;N[8]=F;N[9]=h};w.Qw={};w.Qw.a3B=function(r,N,F){var h=Date.now(),m=new ArrayBuffer(N*F*16),O=w.Qw.a9$(r,N,F,m),e=w.Qw.ahT(N,F,m);
return{xy:e,rT:O}};w.Qw.aja=function(r,N,F){var h=Math.round(r.length/8),m=new Uint32Array(h),O=new Uint8Array(h),e=new Uint32Array(h);
w.T1(m,4294967295,0);m[F]=0;var P=new bt(h);P.push(F,m[F]);var B={xy:r,rT:N,se:m,h7:O,mj:e,qN:P,agX:F};
return B};w.Qw.GT=function(r,N){var F=r.xy,h=r.rT,m=r.se,O=r.h7,e=r.mj,P=r.qN;while(!P.lX()&&(N==null||O[N]==0)){var B=P.pop();
O[B]=1;for(var R=0;R<8;R++){var s=F[8*B+R],Y=B+s;if(s==0||O[Y])continue;var D=m[B]+h[8*B+R];if(P.contains(Y)&&D<m[Y])P.remove(Y,m[Y]);
if(!P.contains(Y)){m[Y]=D;e[Y]=B;P.push(Y,m[Y])}}}};function bt(r){this.Ek=new Uint32Array(r);this.list=[];
this.zg=0;this.hX=4294967295}bt.prototype.lX=function(){return this.zg==0};bt.prototype.push=function(r,N){var F=this.list;
if(F[N]==null)F[N]=[];F[N].push(r);this.zg++;this.Ek[r]=F[N].length-1+1;this.hX=Math.min(this.hX,N)};
bt.prototype.pop=function(){this.zg--;var r=this.list,N=this.hX,F=r[N].pop();if(r[N].length==0)r[N]=null;
this.kU();this.Ek[F]=0;return F};bt.prototype.contains=function(r){return this.Ek[r]!=0};bt.prototype.remove=function(r,N){this.zg--;
var F=this.list,R=this.Ek[r]-1;if(R==F[N].length-1)F[N].pop();else{var h=F[N].pop();F[N][R]=h;this.Ek[h]=R+1}if(F[N].length==0)F[N]=null;
this.Ek[r]=0;this.kU()};bt.prototype.kU=function(){if(this.zg==0){this.hX=4294967295;return}var r=this.hX,N=this.list;
while(N[r]==null)r++;this.hX=r};w.Qw.aik=function(r,N,F,h){var m=new Int16Array(h);for(var O=0;O<F;O++)for(var e=0;
e<N;e++){var R=O*N+e,P=0;if(1<e&&e<N-2&&1<O&&O<F-2){P+=r[R-N-N];P+=r[R-N-1]+2*r[R-N]+r[R-N+1];P+=r[R-2]+2*r[R-1]-16*r[R]+2*r[R+1]+r[R+2];
P+=r[R+N-1]+2*r[R+N]+r[R+N+1];P+=r[R+N+N]}else P=-16*r[R];m[R]=P}return m};w.Qw.acn=function(r,N,F,h){if(h==null)h=128;
var m=new Uint8Array(N*F);for(var O=1;O<F-1;O++)for(var e=1;e<N-1;e++){var R=O*N+e;m[R]=w.Qw.a1Q(r[R],r[R-1],r[R+1],r[R-N],r[R+N],h)}return m};
w.Qw.a1Q=function(r,N,F,h,m,O){var e=Math.abs(r);return r*N<0&&e<Math.abs(N)&&Math.abs(N-r)>O||r*F<0&&e<Math.abs(F)&&Math.abs(F-r)>O||r*h<0&&e<Math.abs(h)&&Math.abs(h-r)>O||r*m<0&&e<Math.abs(m)&&Math.abs(m-r)>O?1:0};
w.Qw.afs=function(r,N,F,h){var m=new Float32Array(h),O=0;new Uint32Array(h).fill(0);for(var e=0;e<F;
e++)for(var P=0;P<N;P++){var B=0,s=0,R=e*N+P,Y=R*3;if(0<P&&P<N-1)B=r[R+1]-r[R-1];if(0<e&&e<F-1)s=r[R+N]-r[R-N];
var D=m[Y+2]=Math.sqrt(B*B+s*s);if(D!=0){var c=1/D;m[Y]=B*c;m[Y+1]=s*c}if(D>O)O=D}var o=N*F,H=O==0?0:1/O;
for(var R=0;R<o;R++)m[R*3+2]=1-m[R*3+2]*H;return m};w.Qw.am4=function(r,N,F){return F[~~((.5+.5*r)*255)]+F[~~((.5+.5*N)*255)]};
w.Qw.a9$=function(r,N,F,h){var m=Date.now(),O=w.Qw.aik(r,N,F,h),e=w.Qw.acn(O,N,F),P=w.Qw.afs(r,N,F,h),B=new Float32Array(256);
for(var R=0;R<256;R++)B[R]=Math.acos(-1+2*R/255)*(.95/Math.PI);var s=[-1,0,1,1,1,0,-1,-1],Y=[-1,-1,-1,0,1,1,1,0];
for(var R=0;R<8;R++){var D=1/Math.sqrt(s[R]*s[R]+Y[R]*Y[R]);s[R]*=D;Y[R]*=D}var c=[s[0],Y[0],s[1],Y[1],s[2],Y[2],s[3],Y[3]],o=[-N-1,-N,-N+1,1],H=new Uint8Array(N*F*8);
new Uint32Array(H.buffer).fill(4294967295);var x=N*F;for(var Q=1;Q<F-1;Q++)for(var U=1;U<N-1;U++){var I=Q*N+U,l=1-e[I],p=P[I*3+2],j=P[3*I+1],T=-P[3*I];
for(var V=0;V<4;V++){var E=I+o[V];w.Qw.asv(I,E,V,H,e,P,l,p,j,T,c,B)}}return H};w.Qw.asv=function(r,N,F,h,m,O,e,P,B,s,Y,D){var c=1-m[N],o=(F&1)==0?1:Math.SQRT1_2,H=O[N*3+2]*o,x=O[3*N+1],Q=-O[3*N],U=P*o,I=Y[F+F],l=Y[F+F+1],p=B*I+s*l,j=x*I+Q*l;
if(p+j<0){p=-p;j=-j}var T=w.Qw.am4(p,j,D);h[(r<<3)+F]=w.Qw.aH(c,T,H);h[(N<<3)+F+4]=w.Qw.aH(e,T,U)};w.Qw.aH=function(r,N,F){return 1+~~(.5+20*(.43*r+.43*N+.14*F))};
w.Qw.ahT=function(r,N,F){var h=new Int16Array(F),m=h,R=0,O=0;new Uint32Array(F).fill(0);for(var e=0;
e<N;e++)for(var P=0;P<r;P++){if(e>0&&P>0)m[O+0]=-r-1;if(e>0)m[O+1]=-r;if(e>0&&P<r-1)m[O+2]=-r+1;if(P<r-1)m[O+3]=1;
if(e<N-1&&P<r-1)m[O+4]=r+1;if(e<N-1)m[O+5]=r;if(e<N-1&&P>0)m[O+6]=r-1;if(P>0)m[O+7]=-1;R++;O+=8}return h};
w.gL={};w.gL.yC=function(r){var N=r.slice(0),F=0;for(var R=0;R<r.length;R++)F+=r[R];for(var R=0;R<r.length;
R++)N[R]/=F;return N};w.gL.aP=[w.gL.yC([1,2,1,2,16,2,1,2,1]),w.gL.yC([1,2,1,2,4,2,1,2,1]),w.gL.yC([0,-1,0,-1,8,-1,0,-1,0]),w.gL.yC([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
w.gL.ha=function(r,N,F,h,m,O,e,P){if(e==null)e=!1;if(P==null)P=!1;var B=Math.floor(Math.sqrt(m.length)),s=B-1>>>1,Y=new Uint32Array(r.buffer),N=new Uint8ClampedArray(N.buffer);
for(var R=0;R<h;R++)for(var D=0;D<F;D++){var c=0,o=0,H=0,x=0;for(var Q=0;Q<B;Q++)for(var U=0;U<B;U++){var I=m[Q*B+U];
if(I==0)continue;var l=D-s+U,p=R-s+Q;if(l<0)l=0;else if(l>F-1)l=F-1;if(p<0)p=0;else if(p>h-1)p=h-1;if(P&&Y[p*F+l]>>>24==0){p=R;
l=D}var j=Y[p*F+l];c+=(j&255)*I;o+=(j>>>8&255)*I;H+=(j>>>16&255)*I;x+=(j>>>24&255)*I}if(e){if(c<0)c=-c;
if(o<0)o=-o;if(H<0)H=-H;if(x<0)x=-x}if(P){c=Math.max(0,Math.min(255,c));o=Math.max(0,Math.min(255,o));
H=Math.max(0,Math.min(255,H));x=Math.max(0,Math.min(255,x))}var T=R*F+D<<2;N[T]=~~(.5+c);N[T+1]=~~(.5+o);
N[T+2]=~~(.5+H);N[T+3]=255-O&N[T+3]|O&~~(.5+x)}};w.gL.kT=function(r,N,F,h){var m=r.length,O=new Uint8Array(m);
w.gL.ha(r,N,F,h,w.gL.aP[4],0,!0);w.gL.ha(r,O,F,h,w.gL.aP[5],0,!0);for(var R=0;R<m;R+=4){var e=N[R],P=N[R+1],B=N[R+2],s=N[R+3],Y=O[R],D=O[R+1],c=O[R+2],o=O[R+3];
N[R]=255-Math.max(0,Math.min(255,Math.sqrt(e*e+Y*Y)));N[R+1]=255-Math.max(0,Math.min(255,Math.sqrt(P*P+D*D)));
N[R+2]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+c*c)))}};w.gL.EY=function(r,N,F,h){var m=r.length,O=new Uint8Array(m);
w.gL.c7(r,N,F,h,w.gL.aP[4],!0);w.gL.c7(r,O,F,h,w.gL.aP[5],!0);for(var R=0;R<m;R++){var e=N[R],P=O[R];
N[R]=255-Math.max(0,Math.min(255,Math.sqrt(e*e+P*P)))}};w.gL.c7=function(r,N,F,h,m,O){N=new Uint8ClampedArray(N.buffer);
var e=[-F-1,-F,-F+1,-1,0,1,F-1,F,F+1],P=h-1,B=F-1;for(var R=1;R<P;R++)for(var s=1;s<B;s++){var Y=R*F+s,D=w.gL.FE(r,Y,F,m);
if(O){if(D<0)D=-D}N[Y]=~~(D+.5)}};w.gL.FE=function(r,N,F,h){return r[N-F-1]*h[0]+r[N-F]*h[1]+r[N-F+1]*h[2]+r[N-1]*h[3]+r[N]*h[4]+r[N+1]*h[5]+r[N+F-1]*h[6]+r[N+F]*h[7]+r[N+F+1]*h[8]};
w.gL.Qg=function(r,N,F,h,m){var O=[-F-1,-F,-F+1,-1,0,1,F-1,F,F+1],e=h-1,P=F-1;for(var R=1;R<e;R++)for(var B=1;
B<P;B++){var s=R*F+B;N[s]=w.gL.amC(r,s,F,m)}};w.gL.amC=function(r,N,F,h){return r[N-F-1]*h[0]+r[N-F]*h[1]+r[N-F+1]*h[2]+r[N-1]*h[3]+r[N]*h[4]+r[N+1]*h[5]+r[N+F-1]*h[6]+r[N+F]*h[7]+r[N+F+1]*h[8]};
w.Yf={};w.Yf._9=function(){function r(e,P,B,s,Y,D,c){if(Y==0){P.set(e);return}var o=w.B(B*s),H=w.B(B*s);
if(w._p(e)){N(e,P,B,s,Y,D,c);var x=[w.Yf.MM,w.Yf.FQ],Q=x.indexOf(D),U=Q!=-1?x[1-Q]:D;w.Pw(e,o,3);w.Yf.QB(o,H,B,s,Y,U,c);
w.vr(H,P,3)}else{for(var R=0;R<3;R++){w.Pw(e,o,R);w.Yf.QB(o,H,B,s,Y,D,c);w.vr(H,P,R)}}}function N(e,P,B,s,Y,D,c){var o=0,H=new ArrayBuffer(512*4*3),x=[new Int32Array(H,0),new Int32Array(H,2048),new Int32Array(H,2*2048)],Q=1+2*Math.round(Math.sqrt(Y)),U=Q>>>1,I=new Array(Q),l=new Array(Q);
for(var R=0;R<Q;R++){var H=new ArrayBuffer(512*4*3);I[R]=[new Int32Array(H,0),new Int32Array(H,2048),new Int32Array(H,2*2048)];
l[R]=I[R][0]}var p=D[0],j=D[1],T=x[0];for(var V=0;V<B;V++)if(V<Y||V>B-Y-Q-1){T.fill(0);var E=Math.max(V-Y,0),_=Math.min(B,V+Y+1),f=_-E;
for(var S=0;S<Y;S++)h(T,e,S*B+E,S*B+_,1);for(var S=0;S<s;S++){var L=S-Y-1,y=S+Y;if(y<s)h(T,e,y*B+E,y*B+_,1);
if(L>=0)h(T,e,L*B+E,L*B+_,-1);var $=S*B+V<<2;o=T[300];if(o!=0)for(var R=0;R<3;R++)P[$+R]=p(x[R],e[$+R],o,c)}}else{for(var R=0;
R<Q;R++)l[R].fill(0);var E=V-Y+U,_=V+Y+1+U;for(var S=0;S<Y;S++)F(l,e,S*B+E,S*B+_,1,U);for(var S=0;S<s;
S++){var L=S-Y-1,y=S+Y;if(L>=0)F(l,e,L*B+E,L*B+_,-1,U);if(y<s)F(l,e,y*B+E,y*B+_,1,U);var Z=I[U];o=Z[0][300];
for(var R=0;R<U;R++){var i=U-1-R,b=U+1+R,G=I[i],g=I[b],u=o+G[0][300],A=o+g[0][300],a=S*B+V+i<<2,d=S*B+V+b<<2;
if(u!=0)for(var K=0;K<3;K++)P[a+K]=j(Z[K],G[K],e[a+K],u,c);if(A!=0)for(var K=0;K<3;K++)P[d+K]=j(Z[K],g[K],e[d+K],A,c)}var $=S*B+V+U<<2;
if(o!=0)for(var K=0;K<3;K++)P[$+K]=p(Z[K],e[$+K],o,c)}V+=Q-1}}function F(e,P,B,s,Y,D){var c=m,o=B<<2,H=s<<2;
c(e[D-1],P,B-1<<2,Y);c(e[D-1],P,s-1<<2,-Y);c(e[D+1],P,s<<2,Y);c(e[D+1],P,B<<2,-Y);for(var R=1;R<D;R++){var x=e[D-R-1],Q=e[D+R+1];
for(var U=0;U<=R;U++){var I=U<<2;c(x,P,B-1-U<<2,Y);c(x,P,s-1-U<<2,-Y);c(Q,P,s+U<<2,Y);c(Q,P,B+U<<2,-Y)}}h(e[D],P,B,s,Y)}function h(e,P,R,B,s){var Y=R<<2,D=B<<2;
while(Y<D){m(e,P,Y,s);Y+=4}}function m(e,P,B,s){var Y=s*P[B+3];e[300]+=Y;O(e,P[B],0,Y);O(e,P[B+1],512,Y);
O(e,P[B+2],1024,Y)}function O(e,P,B,s){e[B|P]+=s;e[B|256|P>>>4]+=s}return r}();w.Yf.QB=function(){function r(D,c,o,H,x,Q,U){if(x==0){c.set(D);
return}if(x<=80)N(D,c,o,H,x,Q,U);else O(D,c,o,H,x,Q,U)}function N(D,c,o,H,x,Q,U){var I=0,l=new Int32Array(512),p=1+2*Math.round(Math.sqrt(x)),j=p>>>1,T=new Array(p);
for(var R=0;R<p;R++)T[R]=new Int32Array(512);var V=Q[0],E=Q[1];for(var _=0;_<o;_++)if(_<x||_>o-x-p-1){l.fill(0);
I=0;var f=Math.max(_-x,0),S=Math.min(o,_+x+1),L=S-f;for(var y=0;y<x;y++){I+=L;h(l,D,y*o+f,y*o+S,1)}for(var y=0;
y<H;y++){var $=y-x-1,Z=y+x;if($>=0){I-=L;h(l,D,$*o+f,$*o+S,-1)}if(Z<H){I+=L;h(l,D,Z*o+f,Z*o+S,1)}var i=V(l,D[y*o+_],I,U);
c[y*o+_]=i}}else{for(var R=0;R<p;R++)T[R].fill(0);I=0;var f=_-x+j,S=_+x+1+j,L=S-f;for(var y=0;y<x;y++){I+=L;
F(T,D,y*o+f,y*o+S,1,j)}for(var y=0;y<H;y++){var $=y-x-1,Z=y+x;if($>=0){I-=L;F(T,D,$*o+f,$*o+S,-1,j)}if(Z<H){I+=L;
F(T,D,Z*o+f,Z*o+S,1,j)}for(var R=0;R<j;R++){var b=j-1-R,G=j+1+R;c[y*o+_+b]=E(T[j],T[b],D[y*o+_+b],I,U);
c[y*o+_+G]=E(T[j],T[G],D[y*o+_+G],I,U)}c[y*o+_+j]=V(T[j],D[y*o+_+j],I,U)}_+=p-1}}function F(D,c,o,H,x,Q){var U=m;
U(D[Q-1],c[o-1],0,x);U(D[Q-1],c[H-1],0,-x);U(D[Q+1],c[H],0,x);U(D[Q+1],c[o],0,-x);for(var R=1;R<Q;R++){var I=D[Q-R-1],l=D[Q+R+1];
for(var p=0;p<=R;p++){U(I,c[o-1-p],0,x);U(I,c[H-1-p],0,-x);U(l,c[H+p],0,x);U(l,c[o+p],0,-x)}}h(D[Q],c,o,H,x)}function h(D,c,R,o,H){while(R<o)m(D,c[R++],0,H)}function m(D,c,o,H){D[o|c]+=H;
D[o|256|c>>>4]+=H}function O(D,c,o,H,x,Q,U){var I=0,l=new Int32Array(512),p=new Int32Array(1*o),j=new Int32Array(512*o),T=Math.min(x,o),V=Math.min(x,H),E=Q[0];
for(var _=0;_<V;_++)e(j,p,D,o,_,1);for(var _=0;_<H;_++){if(_+x<H)e(j,p,D,o,_+x,1);if(_-x-1>=0)e(j,p,D,o,_-x-1,-1);
l.fill(0);I=0;for(var f=0;f<T;f++){I+=p[f];P(l,j,f)}for(var f=0;f<o;f++){var S=f-x-1,L=f+x;if(S>=0&&p[S]!=0){I-=p[S];
B(l,j,S)}if(L<o&&p[L]!=0){I+=p[L];P(l,j,L)}var y=I==0?0:E(l,D[_*o+f],I,U);c[_*o+f]=y}}}function e(D,c,o,H,x,Q){var R=x*H;
for(var U=0;U<H;U++){m(D,o[R+U],U<<9,Q);c[U]+=Q}}function P(D,c,o){for(var R=0;R<16;R++){var H=c[o<<9|256|R];
if(H==0)continue;D[256|R]+=H;var x=R<<4,Q=o<<9|x;s(D,c,x,Q);s(D,c,x+4,Q+4);s(D,c,x+8,Q+8);s(D,c,x+12,Q+12)}}function B(D,c,o){for(var R=0;
R<16;R++){var H=c[o<<9|256|R];if(H==0)continue;D[256|R]-=H;var x=R<<4,Q=o<<9|x;Y(D,c,x,Q);Y(D,c,x+4,Q+4);
Y(D,c,x+8,Q+8);Y(D,c,x+12,Q+12)}}function s(D,c,o,H){D[o]+=c[H];D[o+1]+=c[H+1];D[o+2]+=c[H+2];D[o+3]+=c[H+3]}function Y(D,c,o,H){D[o]-=c[H];
D[o+1]-=c[H+1];D[o+2]-=c[H+2];D[o+3]-=c[H+3]}return r}();w.Yf.FQ=[function(r,N,F,h){var R=15;while(r[256|R]==0&&R>0)R--;
R=(R<<4)+15;while(r[R]==0&&R>0)R--;return R},function(r,N,F,h,m){var R=15;while(r[256|R]+N[256|R]==0&&R>0)R--;
R=(R<<4)+15;while(r[R]+N[R]==0&&R>0)R--;return R}];w.Yf.MM=[function(r,N,F,h){var R=0;while(r[256|R]==0&&R<15)R++;
R=R<<4;while(r[R]==0&&R<255)R++;return R},function(r,N,F,h,m){var R=0;while(r[256|R]+N[256|R]==0&&R<15)R++;
R=R<<4;while(r[R]+N[R]==0&&R<255)R++;return R}];w.Yf.Di=.5;w.Yf.Z3=[function(r,N,F,h){var m=~~(.5+w.Yf.Di*F),O=0,R=256;
while(O+r[R]<=m)O+=r[R++];R=R-256<<4;while(O<=m)O+=r[R++];return R-1},function(r,N,F,h,m){var O=~~(.5+w.Yf.Di*h),e=0,R=256;
while(e+r[R]+N[R]<=O){e+=r[R]+N[R];R++}R=R-256<<4;while(e<=O){e+=r[R]+N[R];R++}return R-1}];w.Yf.VC=[function(r,N,F,h){var m=h[0],O=0,e=0,R=Math.max(0,N-m),P=Math.min(256,N+m+1);
while(R<P){var B=r[R];O+=R*B;e+=B;R++}return e==0?0:O/e},function(r,N,F,h,m){var O=m[0],e=0,P=0,R=Math.max(0,F-O),B=Math.min(256,F+O+1);
while(R<B){var s=r[R]+N[R];e+=R*s;P+=s;R++}return P==0?0:e/P}];w.N={};w.N.I3=function(r){var N=z.Q.N3(r.Trnf),F=r.Sz.v,h=w.N.UD(N,new fE(0,0,F.Wdth.v,F.Hght.v));
return w.N.Ss(h)};w.N.UD=function(r,N){var F=r[0],h=r[1],m=r[2],O=r[3],e=r[6],P=r[7],B=r[4],s=r[5],Y=0,D=0,c=1,o=0,H=0,x=1,Q=1,U=1;
if(N){Y=N.x;D=N.y;c=N.x+N.e;o=N.y;H=N.x;x=N.y+N.n;Q=N.x+N.e;U=N.y+N.n}return w.N.ov(r,[Y,D,c,o,Q,U,H,x])};
w.N.XL=function(r){function N(m,O){for(var R=0;R<O.length;R+=2)if(!F(m,O[R],O[R+1]))return!1;return!0}function F(m,O,e){return m[2*O]==m[2*e]&&m[2*O+1]==m[2*e+1]}var h=0;
if(N(r,[0,1,2,3]))h+=1;if(N(r,[0,3,1,2]))h+=2;return h};w.N.ov=function(r,N){function F(i,R,b){var y=i[R*2]-i[b*2],$=i[R*2+1]-i[b*2+1];
return Math.sqrt(y*y+$*$)}var h=r[0],m=r[1],O=r[2],e=r[3],P=r[6],B=r[7],s=r[4],Y=r[5],D=N[0],c=N[1],o=N[2],H=N[3],x=N[6],Q=N[7],U=N[4],I=N[5],l=[[D,c,1,0,0,0,-D*h,-c*h,h],[0,0,0,D,c,1,-D*m,-c*m,m],[o,H,1,0,0,0,-o*O,-H*O,O],[0,0,0,o,H,1,-o*e,-H*e,e],[x,Q,1,0,0,0,-x*P,-Q*P,P],[0,0,0,x,Q,1,-x*B,-Q*B,B],[U,I,1,0,0,0,-U*s,-I*s,s],[0,0,0,U,I,1,-U*Y,-I*Y,Y]],p=[0,0,0,0,0,0,0,0],j=w.PB.QM(l,p);
if(j!=0){p=[0,0,0,0,0,0,0,0];var T=w.N.XL(r),V=w.N.XL(N);if(T==V&&T!=0){var E=T==1,_=E?3:1,f=F(r,0,_),S=F(N,0,_),L=S/f,y=r[2*_]-r[0],$=r[2*_+1]-r[1],Z=new hc;
Z.translate(-h,-m);Z.rotate(Math.atan2($,y)-(E?Math.PI/2:0));if(E)Z.scale(1,L);else Z.scale(L,1);Z.translate(D,c);
Z.iL();p=w.N.dj(Z)}}return p};w.N.Hl=function(r){return Math.abs(r[6])<1e-10&&Math.abs(r[7])<1e-10};
w.N.Ss=function(r){return new hc(r[0],r[3],r[1],r[4],r[2],r[5])};w.N.dj=function(r){return[r.O$,r.KM,r.HG,r.J,r.Bv,r.SS,0,0]};
w.N.A=function(r,N){var F=new Float64Array(2);for(var h=0;h<N.length;h+=2){var m=N[h],O=N[h+1];w.N.l$(m,O,r,F);
N[h]=F[0];N[h+1]=F[1]}};w.N.l$=function(r,N,F,h){var m=1/(F[6]*r+F[7]*N+1);h[0]=(F[0]*r+F[1]*N+F[2])*m;
h[1]=(F[3]*r+F[4]*N+F[5])*m};w.N.xS=function(r,N){var F=new Float64Array(2);w.N.l$(N.x,N.y,r,F);return new gS(F[0],F[1])};
w.N.Vu=function(r,N,F,h){r=new Uint32Array(r.buffer);N=new Uint32Array(N.buffer);for(var m=0;m<h;m++){for(var O=0;
O<F;O++){N[O*h+m]=r[m*F+O]}}};w.N.sX=function(r,N,F,h){r=new Uint32Array(r.buffer);N=new Uint32Array(N.buffer);
for(var m=0;m<h;m++){for(var O=0;O<F;O++){N[m*F+O]=r[m*F+F-1-O]}}};w.N.iq=function(r){return Math.abs(r[6])<1e-9&&Math.abs(r[7])<1e-9};
w.N.$p=function(r){return Math.abs(r[0])<1e-9&&Math.abs(r[4])<1e-9||Math.abs(r[1])<1e-9&&Math.abs(r[3])<1e-9};
w.N.drawImage=function(r,N,F,h,m,O,e,P,B){if(e==null)e=!1;if(P==null)P=!1;var s=w.N.iL(r),Y=!0,D=0;for(var R=0;
R<8;R++){var c=Math.round(r[R]);if(R!=2&&R!=5)D+=Math.abs(c);if(Math.abs(c-r[R])>1e-9)Y=!1}var o=w.N.iq(r),H=w.N.$p(r)&&o,x=H?1:0;
if(e||Y&&D==F+h&&o){w.N.ak$(s,N,F,h,m,O,P,o,B);return}var Q=O.e,U=O.n,I=new Float64Array(2);m=new Uint32Array(m.buffer);
N=new Uint32Array(N.buffer);for(var l=0;l<U;l++)for(var p=0;p<Q;p++){var j=l*Q+p,T,V,E,_,u=0,A=0,a=0,d=0;
m[j]=0;var f=p+O.x+.5,S=l+O.y+.5;T=f;V=S;E=s;var L=E[0]*T+E[1]*V+E[2],y=E[3]*T+E[4]*V+E[5];if(!o){_=1/(E[6]*T+E[7]*V+1);
L*=_;y*=_}var $=L*F,Z=y*h,i=$<-1||$>F+1||Z<-1||Z>h+1;if(P){$=Math.max(.001,Math.min(F-1,$));Z=Math.max(.001,Math.min(h-1,Z))}else if(i)continue;
var b=w.N.acN(r,F,h,f,S,L,y),G=Math.round(b*2.3);if(b<1.1){w.N.xE($,Z,N,F,h,m,j,x);continue}if(!P&&($<.6||$>F-.6||Z<.6||Z>h-.6)){G=Math.max(G,5)}if(P&&i)G=1;
var g=1/G,K=O.x+p,n=O.y+l;E=s;for(var R=0;R<G;R++)for(var t=0;t<G;t++){T=K+(R+.5)*g;V=n+(t+.5)*g;var $=E[0]*T+E[1]*V+E[2],Z=E[3]*T+E[4]*V+E[5];
if(!o){_=1/(E[6]*T+E[7]*V+1);$*=_;Z*=_}if(P){$=Math.max(.001,Math.min(.999,$));Z=Math.max(.001,Math.min(.999,Z))}else if($<0||$>=1||Z<0||Z>=1)continue;
$=Math.floor($*F);Z=Math.floor(Z*h);var X=Z*F+$,aK=N[X],fg=aK>>>24;u+=(aK&255)*fg;A+=(aK>>>8&255)*fg;
a+=(aK>>>16&255)*fg;d+=fg}if(d!=0){var k=1/d;u=~~(u*k+.5);A=~~(A*k+.5);a=~~(a*k+.5);d=~~(d*g*g+.5);m[j]=d<<24|a<<16|A<<8|u}}};
w.N.acN=function(r,N,F,h,m,O,e){var P=w.N.de(r,h,m,O+1/N,e),B=w.N.de(r,h,m,O,e+1/F);return 1/Math.sqrt(Math.max(P,B))};
w.N.de=function(r,N,F,h,m){var O=1/(r[6]*h+r[7]*m+1),e=(r[0]*h+r[1]*m+r[2])*O-N,P=(r[3]*h+r[4]*m+r[5])*O-F;
return e*e+P*P};w.N.ak$=function(r,N,F,h,m,O,e,P,B){if(P&&!e&&O.W()>4e6&&B){w.N.apT(r,N,F,h,m,O,e,P,B);
return}var s=O.x+O.e,Y=O.y+O.n,D=0,c=new Uint32Array(m.buffer),o=new Uint32Array(N.buffer),H=r[0]*F,x=r[1]*F,Q=r[2]*F,U=r[3]*h,I=r[4]*h,l=r[5]*h,p=r[6],j=r[7];
if(P&&!e)for(var T=O.y+.5;T<Y;T++)for(var V=O.x+.5;V<s;V++){var E=H*V+x*T+Q,_=U*V+I*T+l;if(0<E&&E<F&&0<_&&_<h){var f=~~_*F+~~E;
c[D]=o[f]}else c[D]=0;D++}else for(var T=O.y+.5;T<Y;T++)for(var V=O.x+.5;V<s;V++){var S=1/(p*V+j*T+1),E=(H*V+x*T+Q)*S,_=(U*V+I*T+l)*S;
if(e){E=Math.max(.001,Math.min(F-1,E));_=Math.max(.001,Math.min(h-1,_))}if(0<E&&E<F&&0<_&&_<h){var f=Math.floor(_)*F+Math.floor(E);
c[D]=o[f]}else c[D]=0;D++}};w.N.apT=function(r,N,F,h,m,O,e,P,B){var s=new Uint32Array(m.buffer),Y=new Uint32Array(N.buffer),j=0;
if(B&&(O.e&3)!=0)throw"e";var D=r[0]*F,c=r[1]*F,o=r[2]*F,H=r[3]*h,x=r[4]*h,Q=r[5]*h,U=r[6],I=r[7],l=O.e,p=O.n,T=O.x+.5,V=O.y+.5,E=(l>>>2<<2)-1e-9,_=-.1+(p>>>1<<1)-1e-9,f=~~F,S=D==0?0:1/D,L=H==0?0:1/H;
for(var y=0;y<p;y++){var $=T*D+c*(y+V)+o,Z=T*H+x*(y+V)+Q,i=0,b=l;if(D==0){}else if(S>0){i=Math.max(i,-$*S);
b=Math.min(b,(F-$)*S)}else{b=Math.min(b,-$*S);i=Math.max(i,(F-$)*S)}if(H==0){}else if(L>0){i=Math.max(i,-Z*L);
b=Math.min(b,(h-Z)*L)}else{b=Math.min(b,-Z*L);i=Math.max(i,(h-Z)*L)}if(b<0)b=0;if(i>b)i=b;i=Math.ceil(i);
b=~~b;j=~~(y*l);for(var G=0;G<i;G++)s[j++]=0;for(var G=i;G<b;G+=4){var g=D*G+$,u=H*G+Z,A=~~u*f+~~g;s[j++]=s[j++]=s[j++]=s[j++]=Y[A]}for(var G=b;
G<l;G++)s[j++]=0}};w.N.iL=function(r){var N=r[4]-r[5]*r[7],F=r[2]*r[7]-r[1],h=r[1]*r[5]-r[2]*r[4],m=r[5]*r[6]-r[3],O=r[0]-r[2]*r[6],e=r[3]*r[2]-r[0]*r[5],P=r[3]*r[7]-r[4]*r[6],B=r[1]*r[6]-r[0]*r[7],s=1/(r[0]*r[4]-r[1]*r[3]);
return[N*s,F*s,h*s,m*s,O*s,e*s,P*s,B*s]};w.N.u8=function(r,N){var F=r[0],h=r[1],m=r[2],O=r[3],e=r[4],P=r[5],B=r[6],s=r[7],Y=N[0],D=N[1],c=N[2],o=N[3],H=N[4],x=N[5],Q=N[6],U=N[7],I=[F*Y+h*o+m*Q,F*D+h*H+m*U,F*c+h*x+m,O*Y+e*o+P*Q,O*D+e*H+P*U,O*c+e*x+P,B*Y+s*o+Q,B*D+s*H+U],l=1/(B*c+s*x+1);
for(var R=0;R<8;R++)I[R]*=l;return I};w.N.xE=function(r,N,F,h,m,O,e,P){var B=r,s=N,c=0,o=0,H=0,x=0;r-=.499999;
N-=.499999;var Y=Math.floor(r),D=Math.floor(N);if(P==0){var R=D*h+Y,Q=Y>=0&&Y<h,U=Y+1>=0&&Y+1<h,I=D>=0&&D<m,l=D+1>=0&&D+1<m;
if(Q&&I)c=F[R];if(U&&I)o=F[R+1];if(Q&&l)H=F[R+h];if(U&&l)x=F[R+h+1]}else if(P==1){var p=Y<0?0:Y>h-1?h-1:Y,j=Y<-1?0:Y>h-2?h-1:Y+1,T=D<0?0:D>m-1?m-1:D,V=D<-1?0:D>m-2?m-1:D+1;
c=F[T*h+p];o=F[T*h+j];H=F[V*h+p];x=F[V*h+j]}else{var p=(Y+50*h)%h,j=(Y+50*h)%h,T=(D+50*m)%m,V=(D+50*m)%m;
c=F[T*h+p];o=F[T*h+j];H=F[V*h+p];x=F[V*h+j]}var E=r-Y,_=N-D,f=(1-_)*(1-E)*(c>>>24),S=(1-_)*E*(o>>>24),L=_*(1-E)*(H>>>24),y=_*E*(x>>>24),$=f+S+L+y,Z=f*(c&255)+S*(o&255)+L*(H&255)+y*(x&255),i=f*(c>>>8&255)+S*(o>>>8&255)+L*(H>>>8&255)+y*(x>>>8&255),b=f*(c>>>16&255)+S*(o>>>16&255)+L*(H>>>16&255)+y*(x>>>16&255);
if($==0)O[e]=0;else{var G=1/$;Z=~~(Z*G+.5);i=~~(i*G+.5);b=~~(b*G+.5);$=~~($+.5);O[e]=$<<24|b<<16|i<<8|Z}};
w.N.tr=function(r,N,F,h,m,O){var e=r-.499999,P=N-.499999,B=~~e,s=~~P,Y=e-B,D=P-s,c=(1-D)*(1-Y),o=(1-D)*Y,H=D*(1-Y),x=D*Y,Q=s*h+B<<2,U=(s+1)*h+B<<2,I=c*F[Q]+o*F[Q+4]+H*F[U]+x*F[U+4],l=c*F[Q+1]+o*F[Q+5]+H*F[U+1]+x*F[U+5],p=c*F[Q+2]+o*F[Q+6]+H*F[U+2]+x*F[U+6],j=c*F[Q+3]+o*F[Q+7]+H*F[U+3]+x*F[U+7];
O[0]=I;O[1]=l;O[2]=p;O[3]=j};w.N.i8=function(r,N,F,h,m){r-=.499999;N-=.499999;var O=Math.floor(r),e=Math.floor(N),P=r-O,B=N-e,s=(1-B)*(1-P),Y=(1-B)*P,D=B*(1-P),c=B*P,o=(O+50*h)%h,H=(O+1+50*h)%h,x=(e+50*m)%m,Q=(e+1+50*m)%m,U=F[x*h+o],I=F[x*h+H],l=F[Q*h+o],p=F[Q*h+H];
if(U==null||p==null)throw"e";return s*U+Y*I+D*l+c*p};w.N.LV=function(r,N,F,h,m,O,e,P,B,s,Y,D){var c=new Uint32Array(r.buffer),o=new Uint32Array(h.buffer),H=(1+2*s)/m,x=[],Q=[];
for(var U=0;U<m;U++){var I=-.25+s-U*H;x.push(Math.cos(2*Math.PI*I)*D/Y);x.push(Math.sin(2*Math.PI*I)/Y)}e*=N;
P*=F;for(var l=0;l<O;l++){var p=Math.pow(l/O,B)*O;for(var U=0;U<m;U++){var j=e+x[U<<1]*p,T=P+x[(U<<1)+1]*p,V=~~(.5+(j<0?0:j>N-1?N-1:j)),E=~~(.5+(T<0?0:T>F-1?F-1:T));
o[l*m+U]=c[E*N+V]}}};w.N._C=function(r,N,F,h,m,O,e,P,B,s,Y,D){var c=new Uint32Array(r.buffer),o=new Uint32Array(h.buffer),H=1/D,x=[],Q=F*4,U=1/Q;
for(var I=0;I<Q+10;I++)x.push(Math.pow(I*U,1/B)*F*Y);e*=m;P*=O;for(var I=0;I<O;I++)for(var l=0;l<m;l++){var p=H*(l-e),j=I-P,T=1.75-Math.atan2(j,p)*(1/(2*Math.PI));
T=T-~~T;T=(T+s)*(1/(1+2*s));var V=Math.sqrt(p*p+j*j);V=x[~~(V*4)];w.N.xE(T*N+.5,V+.5,c,N,F,o,I*m+l,1)}};
w.N.Yw=function(r,N,F,h,m){var O=m[0],e=m[1];for(var P=0;P<e;P++)for(var B=0;B<O;B++){var s=m[2]*B+m[3]*P+m[4],Y=m[5]*B+m[6]*P+m[7],D=P*O+B<<2,c=Y*N+s<<2;
h[D]=r[c+0];h[D+1]=r[c+1];h[D+2]=r[c+2];h[D+3]=r[c+3]}};w.X={q$:function(r,N){var F=~~(.499+r*N);return F<0?0:F>N?N:F},atK:function(r,N,F,h,m,O,e,P){var B=F[0],s=F[1],Y=F[2],D=F[3],c=h.e,o=h.n,H=new Float64Array(c*4+8),x=new Float64Array(c*4+8);
for(var Q=0,R=0;Q<o;Q++){var U=H;H=x;x=U;x.fill(0);for(var I=0;I<c;I++,R++){var l=I+m,p=Q+O,j=B*l+s*p,T=Y*l+D*p,V=0,f=0;
if(P==0)V=j+.5;else if(P==1)V=2*Math.sqrt(j*j+T*T);else if(P==2)V=(Math.PI+Math.atan2(-T,-j))/(2*Math.PI);
else if(P==3)V=Math.abs(j*2);else if(P==4)V=2*(Math.abs(j)+Math.abs(T));var E=w.X.q$(V,e)*4,_=I*4;for(var S=0;
S<4;S++){var L=Math.max(0,Math.min(254.999,N[E+S]+H[_+4+S])),y=Math.floor(L);if(Math.random()<L-y)y++;
var $=L-y;H[_+8+S]=$*(7/16);x[_+0+S]=$*(3/16);x[_+4+S]=$*(5/16);x[_+8+S]=$*(1/16);f|=y<<S*8}r[R]=f}}},Oo:[function(r,N,F,h,m,O,e){var P=F[0],B=F[1],s=F[2],Y=F[3],D=h.e,c=h.n;
for(var o=0,R=0;o<c;o++)for(var H=0;H<D;H++,R++){var x=H+m,Q=o+O,U=P*x+B*Q,I=s*x+Y*Q,l=U+.5;r[R]=N[w.X.q$(l,e)]}},function(r,N,F,h,m,O,e){var P=F[0],B=F[1],s=F[2],Y=F[3],D=h.e,c=h.n;
for(var o=0,R=0;o<c;o++)for(var H=0;H<D;H++,R++){var x=H+m,Q=o+O,U=P*x+B*Q,I=s*x+Y*Q,l=2*Math.sqrt(U*U+I*I);
r[R]=N[w.X.q$(l,e)]}},function(r,N,F,h,m,O,e){var P=F[0],B=F[1],s=F[2],Y=F[3],D=h.e,c=h.n;for(var o=0,R=0;
o<c;o++)for(var H=0;H<D;H++,R++){var x=H+m,Q=o+O,U=P*x+B*Q,I=s*x+Y*Q,l=(Math.PI+Math.atan2(-I,-U))/(2*Math.PI);
r[R]=N[w.X.q$(l,e)]}},function(r,N,F,h,m,O,e){var P=F[0],B=F[1],s=F[2],Y=F[3],D=h.e,c=h.n;for(var o=0,R=0;
o<c;o++)for(var H=0;H<D;H++,R++){var x=H+m,Q=o+O,U=P*x+B*Q,I=s*x+Y*Q,l=Math.abs(U*2);r[R]=N[w.X.q$(l,e)]}},function(r,N,F,h,m,O,e){var P=F[0],B=F[1],s=F[2],Y=F[3],D=h.e,c=h.n;
for(var o=0,R=0;o<c;o++)for(var H=0;H<D;H++,R++){var x=H+m,Q=o+O,U=P*x+B*Q,I=s*x+Y*Q,l=2*(Math.abs(U)+Math.abs(I));
r[R]=N[w.X.q$(l,e)]}}]};w.X.a5H=function(r,N){return r+.5};w.X.ad9=function(r,N){return 2*Math.sqrt(r*r+N*N)};
w.X.a4g=function(r,N){return(Math.PI+Math.atan2(-N,-r))/(2*Math.PI)};w.X.as4=function(r,N){return Math.abs(r*2)};
w.X.aqq=function(r,N){return 2*(Math.abs(r)+Math.abs(N))};w.X.sD=function(r,N,F,h,m,O,e,P,B,s,Y,D){var c=r.Clrs,o=new Uint32Array(N.buffer),H=1023,x=c?w.X.ro(c.v,B,s):null;
if(D&&c){var Q=w.X.ahy(r,x,H+1,e);w.X.atK(o,Q,h,F,F.x-m,F.y-O,H,P)}else{var U=c?w.X.OL(r,x,H+1,e):w.X.S_(r,H+1,e);
if(P<5){w.X.Oo[P](o,U,h,F,F.x-m,F.y-O,H)}else{var I=new Uint8Array(U.buffer),l=F.e,p=F.n,j=Y.Kh-Y.v1,T=1/j,V=Y.wR.e-F.e>>1,E=Y.wR.n-F.n>>1,_=Y.wR.e,f=-.6*T,S=(-.6+.4)*T,L=(-.6+2*.4)*T,y=(-.6+3*.4)*T;
for(var $=0,R=0;$<p;$++)for(var Z=0;Z<l;Z++,R+=4){var i=0,b=0,G=0,g=0,u=($+E)*_+Z+V,A=(Y.IC[u]-Y.v1)*T,a=0;
if(A<=0||A>=1){a=(A<=0?0:H)<<2;N[R]=I[a];N[R+1]=I[a+1];N[R+2]=I[a+2];N[R+3]=I[a+3];continue}a=Math.max(0,Math.min(H-1,Math.round((A+f)*H)))<<2;
b+=I[a];G+=I[a+1];g+=I[a+2];i+=I[a+3];a=Math.max(0,Math.min(H-1,Math.round((A+S)*H)))<<2;b+=I[a];G+=I[a+1];
g+=I[a+2];i+=I[a+3];a=Math.max(0,Math.min(H-1,Math.round((A+L)*H)))<<2;b+=I[a];G+=I[a+1];g+=I[a+2];i+=I[a+3];
a=Math.max(0,Math.min(H-1,Math.round((A+y)*H)))<<2;b+=I[a];G+=I[a+1];g+=I[a+2];i+=I[a+3];N[R]=b>>>2;
N[R+1]=G>>>2;N[R+2]=g>>>2;N[R+3]=i>>>2}}}};w.X.ro=function(r,N,F){var h=[];for(var R=0;R<r.length;R++){var m,O=r[R].v,e=O.Type.v.Clry;
if(e=="FrgC")m={Z:N>>16&255,z:N>>8&255,J:N&255};else if(e=="BckC")m={Z:F>>16&255,z:F>>8&255,J:F&255};
else m=w.X.Mq(O.Clr.v);h.push(m)}return h};w.X.Mq=function(r){var N,F=r.classID;if(F=="RGBC"){if(r.Rd)N={Z:r.Rd.v,z:r.Grn.v,J:r.Bl.v};
else N={Z:r.redFloat.v*255,z:r.greenFloat.v*255,J:r.blueFloat.v*255}}else if(F=="HSBC"){N=w.ip(r.H.v.val/360,r.Strt.v/100,r.Brgh.v/100);
N.Z*=255;N.z*=255;N.J*=255}else if(F=="CMYC"){var h=100-r.Cyn.v,m=100-r.Mgnt.v,O=100-r.Ylw.v,e=100-r.Blck.v,P=255*h*e*1e-4,B=255*(.2*h+.8*m)*e*1e-4,s=255*(.2*m+.8*O)*e*1e-4;
N={Z:P,z:B,J:s}}else if(F=="Grsc")N={Z:255-r.Gry.v,z:255-r.Gry.v,J:255-r.Gry.v};else if(F=="LbCl"){N=w.HW(r.Lmnc.v,r.A.v,r.B.v)}else console.log(r);
if(isNaN(N.Z))N.Z=N.z=N.J=0;return N};w.X.S_=function(r,N,F){var h=new Uint32Array(N),m=new Uint8Array(h.buffer);
h.fill(4278190080);var O=[],e=[],P=r.RndS.v,B=r.Smth.v/4096;for(var R=0;R<4;R++){O[R]=~~(r.Mnm.v[R].v*255/100);
e[R]=~~(r.Mxm.v[R].v*255/100)}var s=w.B(N*4),Y=w.B(N);for(var D=0;D<3;D++){w.K._D(null,N,1,s,[1+Math.round(B*B*B*60),22,P*(2+D)]);
w.Pw(s,Y,0);w.vr(Y,m,D);var c=O[D],o=e[D];for(var R=0;R<N;R++)m[4*R+D]=Math.max(c,Math.min(o,m[4*R+D]))}if(F)for(var R=0;
R<N/2;R++){var H=h[R];h[R]=h[N-1-R];h[N-1-R]=H}return h};w.X.QA=function(r){return{classID:"RGBC",Rd:{t:"doub",v:r.Z},Grn:{t:"doub",v:r.z},Bl:{t:"doub",v:r.J}}};
w.X.ahy=function(r,N,F,h){var m=[],O=1/(F-0);for(var R=0;R<F;R++){var e=R*4,P=w.X.R0(r,N,(h?F-1-R:R)*O);
m[e]=P[0];m[e+1]=P[1];m[e+2]=P[2];m[e+3]=P[3]}return m};w.X.OL=function(r,N,F,h){var m=new Uint32Array(F),O=1/(F-0);
for(var R=0;R<F;R++)m[R]=w.X.cf(r,N,(h?F-1-R:R)*O);return m};w.X.R0=function(r,N,F){var h=4096,m=1/4096,O=r.Intr.v*m,e=r.Clrs.v,P=r.Trns.v,B=e.length-1,s=P.length-1,R=-1,Y=0,D=0,c=0,o=0;
while(R<s&&P[R+1].v.Lctn.v<=F*h)R++;if(R==-1){Y=P[0].v.Opct.v.val*(255/100)}else if(R==s){Y=P[R].v.Opct.v.val*(255/100)}else{var H=w.X.UL(P,m,R,F,O);
Y=(H*P[R].v.Opct.v.val+(1-H)*P[R+1].v.Opct.v.val)*(255/100)}R=-1;while(R<B&&e[R+1].v.Lctn.v<=F*h)R++;
if(R==-1){var x=N[0];D=x.Z;c=x.z;o=x.J}else if(R==B){var x=N[R];D=x.Z;c=x.z;o=x.J}else{var Q=N[R],U=N[R+1],I=w.X.UL(e,m,R,F,O);
D=I*Q.Z+(1-I)*U.Z;c=I*Q.z+(1-I)*U.z;o=I*Q.J+(1-I)*U.J}return[D,c,o,Y]};w.X.cf=function(r,N,F){var h=w.X.R0(r,N,F),m=~~(.5+h[0]),O=~~(.5+h[1]),e=~~(.5+h[2]),P=~~(.5+h[3]);
return P<<24|e<<16|O<<8|m};w.X.UL=function(r,N,R,F,h){if(r.length==2)h*=.5;var m=r[R].v.Lctn.v*N,O=r[R+1].v.Lctn.v*N,e=m+r[R+1].v.Mdpn.v*.01*(O-m),P;
if(F<e)P=.5*(F-m)/(e-m);else P=.5+.5*(F-e)/(O-e);P=.5+.5*(h*Math.cos(Math.PI*P)+(1-h)*(1-2*P));return P};
w.X.G0=function(r,N){var F=Math.PI*r.Angl.v.val/180,h=r.Scl.v.val/100,m=r.Ofst.v,O=m.Hrzn.v.val/100,e=m.Vrtc.v.val/100,P=Math.cos(F),B=-Math.sin(F),s=.5*N.n,Y=s*(P/B),D=Math.sqrt(s*s+Y*Y),c=.5*N.e,o=c*(B/P),H=Math.sqrt(c*c+o*o),x=Math.min(D,H)*h,Q=N.x+N.e/2+O*N.e,U=N.y+N.n/2+e*N.n;
return[new gS(Q,U),new gS(Q+P*x,U+B*x)]};w.X.zm=function(r,N,F,h){var m=N.x-r.x,O=-(N.y-r.y),e=Math.sqrt(m*m+O*O),P=Math.atan2(O,m),B=Math.cos(P),s=-Math.sin(P),Y=.5*F.n,D=Y*(B/s),c=Math.sqrt(Y*Y+D*D),o=.5*F.e,H=o*(s/B),x=Math.sqrt(o*o+H*H),Q=e/Math.min(c,x),U=(r.x-F.x-F.e/2)/F.e,I=(r.y-F.y-F.n/2)/F.n;
h.Angl.v.val=180*P/Math.PI;h.Scl.v.val=Q*100;var l=h.Ofst.v;l.Hrzn.v.val=U*100;l.Vrtc.v.val=I*100};w.X.y2=function(r,N){for(var R=0;
R<r.length;R++){var F=r[R],h=Math.round(F[0]*4096),m=F[1],O=F[2],e=F[3];if(O==null)O=1;if(e==null)e=.5;
var P=w.X.QA({Z:m[0]*255,z:m[1]*255,J:m[2]*255});N.Clrs.v[R]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:h},Mdpn:{t:"long",v:Math.round(e*100)},Clr:{t:"Objc",v:P},Type:{t:"enum",v:{Clry:"UsrS"}}}};
N.Trns.v[R]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:h},Mdpn:{t:"long",v:Math.round(e*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(O*100)}}}}}};
w._i={};w._i.ab0=function(r,N,F,h,m,O,e,P,B,s,Y,D){var c,o,H,x=Date.now(),Q=!1,U=e,I=s,l,p,j,T,V=O*255,E=255-B*255,_=1+m*6,f=1+P*6,S=1+D*4,L=(S-1)/7,y=0,$=255-0,Z,i,b,G,g,u,A,a,d,K,n,t,X,aK=0,fg=1,k,hG,eE,hW,hh,hI,db,by,jM,fP,hB=1+Y,iu,be=w.B(F*h),bp=w.B(F*h),ij=w.B(F*h),fT=w.B(F*h),ei=255/V,bz=255/(255-E);
for(o=0;o<h;o++){for(c=0;c<F;c++){var R=o*F+c,aM=R<<2;k=w.$X(r[aM],r[aM+1],r[aM+2]);fT[R]=k;if(k<V)be[R]=255-k*ei;
if(k>E)bp[R]=255-(255-k)*bz}}if(Q)console.log("init",Date.now()-x);x=Date.now();if(m*U>0){ij.set(be);
w.Hu.lM(ij,be,new fE(0,0,F,h),U)}if(P*I>0){ij.set(bp);w.Hu.lM(ij,bp,new fE(0,0,F,h),I)}if(Q)console.log("blur",Date.now()-x);
x=Date.now();var hw=w.B(256),hx=w.B(256);for(var R=0;R<256;R++){var fm=R*(1/255),dE=0;dE=(1-Math.pow(1-fm,_))*255;
hw[R]=Math.max(0,Math.min(255,~~(dE+.5)));dE=Math.pow(fm,f)*255;hx[R]=Math.max(0,Math.min(255,~~(dE+.5)))}var gD=new Uint8ClampedArray(N.buffer),c2=new Float32Array(32768);
for(var R=0;R<32768;R++){iu=Math.sqrt(R)*(1/128);if(hB>1)iu=(1-iu)*(hB-1)+1;else iu=iu*(hB-1)+1;c2[R]=iu}for(o=0;
o<h;o++){for(c=0;c<F;c++){var R=o*F+c,aM=R<<2,dE=fT[R],bQ=be[R]*(1/255),f9=bp[R]*(1/255);dE=(1-bQ)*dE+bQ*hw[~~dE];
dE=(1-f9)*dE+f9*hx[~~dE];k=dE;var jR=r[aM],gP=r[aM+1],jh=r[aM+2];hG=-jR*.168736-gP*.331264+jh*.5;eE=jR*.5-gP*.418688-jh*.081312;
iu=c2[~~(.5+hG*hG+eE*eE)];hW=hG*iu;hI=eE*iu;fg=1-Math.min(2-(bQ+f9),1);hG=fg*hG+(1-fg)*hW;eE=fg*eE+(1-fg)*hI;
by=k+1.402*eE;jM=k-.34414*hG-.71414*eE;fP=k+1.772*hG;gD[aM]=~~(.5+by);gD[aM+1]=~~(.5+jM);gD[aM+2]=~~(.5+fP)}}if(Q)console.log("apply masks",Date.now()-x);
x=Date.now()};w._2={};w._2.cc=function(r,N,F,h,m){var O=!1,H=1,$=0,Z=0,n=0,hB=0;if(!N.w9(m)){var e=N.fD(m),P=w.B(e.W()*4);
w.L3(r,N,P,e);r=P;N=e}var B=w.B(N.W());w.nZ(F,m,B,N);w.round(B);m=m.c_(N);var s=m.e,Y=m.n,D=s*3<Y?2:1,c=Y*3<s?2:1;
if(m.W()*(D*2+1)*(c*2+1)<N.W()){var e=new fE(m.x-s*D,m.y-Y*D,s*(D*2+1),Y*(c*2+1)).c_(N),P=w.B(e.W()*4);
w.L3(r,N,P,e);var o=w.B(e.W());w.nZ(B,N,o,e);N=e;r=P;B=o}while((N.e+N.n)/2/H>400)H++;var x=r,Q=N,U=B,I=Math.floor(Q.e/H),l=Math.floor(Q.n/H);
r=w.B(I*l*4);w.scale.wd(x,Q.e,Q.n,r,I,l,1/H);B=w.B(I*l);w.scale.Yw(U,Q.e,Q.n,B,I,l,1/H);w.round(B,1);
var p=w.va(B,new fE(0,0,I,l));if(p.lX())return 1;var j=Math.round((p.e+p.n)/2/15),T=Date.now(),V=w.B(I*l*4);
w.a4n(r,V);var E=Int16Array,_=new E(I*l*24),f=new E(64),S=new E(64),L=new E(64),y=new E(64);for(var G=3;
G<l-4;G++)for(var g=3;g<I-4;g++){var u=G*I+g;if(B[u]==255)continue;if(w._2.adJ(V,B,g,G,I,l,f,S,L)!=0)continue;
w._2.V0(f,y);_[$]=g;_[$+1]=G;w._2.ZF(f,_,$+4,12);$+=16;w._2.V0(S,y);w._2.ZF(S,_,$,4);$+=4;w._2.V0(L,y);
w._2.ZF(L,_,$,4);$+=4;var A=_[$-24+5],a=_[$-24+6];_[$-24+5]=_[$-24+20];_[$-24+6]=_[$-24+16];_[$-24+16]=A;
_[$-24+20]=a;Z++}if(Z==0)return 2;if(O)console.log(Date.now()-T,"FWHT computed");T=Date.now();var d=[];
w._2.Fh(0,Z-1,d,_,new E(2*24));if(O)console.log(Date.now()-T,"KD tree computed");T=Date.now();var K=new Float32Array(I*l*4);
for(var R=0;R<Z;R++){var t=R,X=w._2.aqj(t,_,d,j);if(X==-1)continue;var aK=t*24,fg=X*24,k=_[aK],hG=_[aK+1],eE=_[fg],hW=_[fg+1];
n+=w._2.getError(fg,aK,_,1e99);var hh=eE-k,hI=hW-hG;K[(l+hI)*2*I+(I+hh)]+=1}if(O)console.log(Date.now()-T,"NN found");
T=Date.now();var db=[],by=1/(2*I);for(var R=0;R<K.length;R++){if(K[R]>0){var G=Math.floor(R*by),g=R-G*2*I;
db.push({x:g-I,y:G-l,h:K[R],DQ:-1})}}db.sort(function(f9,jR){return jR.h-f9.h});var jM=new Int32Array(I*l),fP=[];
for(var R=0;R<I*l;R++){if(B[R]==255){jM[R]=hB;fP.push(R%I,Math.floor(R/I));hB++}else if(r[(R<<2)+3]<200){jM[R]=-2}else{jM[R]=-1}}var iu=w._2.arm(I,l,db,jM,fP,hB);
if(iu==null){return 3}var be=iu.bI,top=iu.top;be=w._2.adg(be,r,I,l,top,jM,fP,hB);if(O)console.log(Date.now()-T,"optimal labeling found");
T=Date.now();var e=m.clone();e.r2(1,1);e=e.c_(Q);var bp=w.B(e.W()*4),ij=w.B(e.W());w.L3(x,Q,bp,e);var fT=Q.e,ei=Q.n;
for(var G=0;G<ei;G++)for(var g=0;g<fT;g++){if(U[G*fT+g]==0)continue;var bz=Math.min(Math.floor(g/H),I-1),aM=Math.min(Math.floor(G/H),l-1),hw=jM[aM*I+bz];
if(hw==-1)continue;var hx=be[hw],fm=top[hx],dE=g+fm.x*H,gD=G+fm.y*H,c2=gD*fT+dE<<2,bQ=(G-e.y+Q.y)*e.e+(g-e.x+Q.x)<<2;
bp[bQ]=x[c2];bp[bQ+1]=x[c2+1];bp[bQ+2]=x[c2+2];bp[bQ+3]=x[c2+3];bp[bQ+3]=x[c2+3];ij[bQ>>2]=hx+1}if(O)console.log(Date.now()-T,"copied back");
T=Date.now();w.wW.cc(bp,ij,e,null,1e3);if(O)console.log(Date.now()-T,"poisson smooth");T=Date.now();
w.L3(bp,e,h,m);return 0};w._2.sk=function(r,N,F,h,m,O){return w._2.TS(r+m.x,N+m.y,F,h)&&O[(N+m.y)*F+(r+m.x)]==-1?0:1e9};
w._2.adg=function(r,N,F,h,top,m,O,e){var P=Date.now(),B=[-1,0,0,-1,1,0,0,1],s=1e99,Y=[],D=[],c=2*(e*2*3+e*2),o=null,H=0,x=0,Q=0,U=1e99;
while(!0&&Date.now()<P+12e3){Q++;var I=null,l=s;for(var p=0;p<top.length;p++){var j=top[p],T=0,V=e+2,E=0;
for(var R=0;R<e;R++){var _=O[R*2],f=O[R*2+1],S=top[r[R]],L=w._2.sk(_,f,F,h,j,m),y=r[R]==p?1e9:w._2.sk(_,f,F,h,S,m);
for(var j_=0;j_<4;j_++){if(j_==0&&_==0||j_==1&&f==0||j_==2&&_==F-1||j_==3&&f==h-1)continue;var $=B[2*j_],Z=B[2*j_+1],i=_+$,b=f+Z,G=m[b*F+i];
if(G==-2){}else if(G==-1){L+=3*w._2.LB(i+j.x,b+j.y,i,b,F,h,N,m);L+=2*w._2.LB(i+j.x+$,b+j.y+Z,i+$,b+Z,F,h,N,m);
y+=3*w._2.LB(i+S.x,b+S.y,i,b,F,h,N,m);y+=2*w._2.LB(i+S.x+$,b+S.y+Z,i+$,b+Z,F,h,N,m)}else if(j_>1){if(r[R]==r[G]){var g=0;
g+=w._2.LB(_+S.x,f+S.y,_+j.x,f+j.y,F,h,N,m);g+=w._2.LB(i+S.x,b+S.y,i+j.x,b+j.y,F,h,N,m);Y[T]=R;Y[T+1]=G;
D[T]=g;D[T+1]=g;T+=2}else{var u=top[r[G]],A=V,a=0,d=0,K=0;V++;a+=w._2.LB(_+S.x,f+S.y,_+j.x,f+j.y,F,h,N,m);
a+=w._2.LB(i+S.x,b+S.y,i+j.x,b+j.y,F,h,N,m);d+=w._2.LB(_+u.x,f+u.y,_+j.x,f+j.y,F,h,N,m);d+=w._2.LB(i+u.x,b+u.y,i+j.x,b+j.y,F,h,N,m);
K+=w._2.LB(_+u.x,f+u.y,_+S.x,f+S.y,F,h,N,m);K+=w._2.LB(i+u.x,b+u.y,i+S.x,b+S.y,F,h,N,m);Y[T]=R;Y[T+1]=A;
D[T]=a;D[T+1]=a;T+=2;Y[T]=G;Y[T+1]=A;D[T]=d;D[T+1]=d;T+=2;Y[T]=A;Y[T+1]=e+1;D[T]=K;D[T+1]=0;T+=2}}}Y[T]=e;
Y[T+1]=R;D[T]=L;D[T+1]=0;T+=2;Y[T]=R;Y[T+1]=e+1;D[T]=y;D[T+1]=0;T+=2;E+=Math.min(L,y)}if(E>l)continue;
var n=w.lm.QM(V,T,e,e+1,Y,D,l);if(n.se<l){l=n.se;var t=r.slice(0);w._2.adf(t,T,Y,n.QJ,p,e);I=t}}if(l*1>=s){break}s=l;
r=I;if((Q&3)==0){if(l*1.03>=U)break;U=l}if((Q&3)==0){var X=0*top.length;for(var R=0;R<top.length&&top.length>X;
R++){if(r.indexOf(R)!=-1)continue;top.splice(R,1);for(var G=0;G<r.length;G++)if(r[G]>R)r[G]--;R--}}}return r};
w._2.adf=function(r,N,F,h,m,O){for(var R=0;R<h.length;R++){var e=h[R]<<1,P=0,B=0;if(e<N){P=F[e];B=F[e+1]}else{B=F[e];
P=F[e+1]}if(P==O&&r[B]!=m)r[B]=m}};w._2.iN=function(top,r,N,F,h,m,O,e,P){for(var R=0;R<N.length;R++){var B=N[R],s=!0;
if(e!=null&&!(w._2.TS(e+B.x,P+B.y,m,O)&&F[m*(P+B.y)+e+B.x]==-1))continue;if(B.DQ==-1)B.DQ=w._2.aaE(B,F,h,m,O);
if(B.DQ<=0)continue;for(var Y=0;Y<top.length;Y++){var D=top[Y],c=B.x-D.x,o=B.y-D.y;if(c*c+o*o<r){s=!1;
break}}if(s)return B}return null};w._2.aaE=function(r,N,F,h,m){var O=0;for(var R=0;R<F.length;R+=2){var e=F[R]+r.x,P=F[R+1]+r.y;
if(w._2.TS(e,P,h,m)&&N[h*P+e]==-1)O++}return O/(F.length>>1)};w._2.arm=function(r,N,F,h,m,O){var top=[];
for(var R=0;R<60;R++){var e=w._2.iN(top,25,F,h,m,r,N);if(e==null)break;else top.push(e)}if(top.length==0)return null;
var P=[];for(var R=0;R<O;R++){var B=m[R*2],s=m[R*2+1],Y=-1,D=0;while(!0){D++;var c=Math.random();Y=Math.floor(c*.99999*top.length);
var o=top[Y],H=B+o.x,x=s+o.y;if(w._2.TS(H,x,r,N)&&h[x*r+H]==-1)break;if(D>100){var e;e=w._2.iN(top,0,F,h,m,r,N,B,s);
if(e==null)return null;top.push(e);D=0}}P.push(Y)}return{top:top,bI:P}};w._2.LB=function(r,N,F,h,m,O,e,P){if(r==F&&N==h)return 0;
if(r<0||N<0||r>=m||N>=O||F<0||h<0||F>=m||h>=O||P[N*m+r]!=-1||P[h*m+F]!=-1)return 1e7;var B=N*m+r<<2,s=h*m+F<<2,Y=e[B]-e[s],D=e[B+1]-e[s+1],c=e[B+2]-e[s+2];
return 1+(Y*Y+D*D+c*c)};w._2.TS=function(r,N,F,h){return r>=0&&r<F&&N>=0&&N<h};w._2.aqj=function(r,N,F,h){var m=24*r,O=N[m],e=N[m+1],P=h*h,B=0,c=1e9;
while(F[B]!=99)if(N[m+F[B]]<F[B+1])B=F[B+2];else B=F[B+3];var s=F[B+1],Y=F[B+2],D=-1;for(var R=s;R<=Y;
R++){var B=R,o=B*24,H=N[o],x=N[o+1];if((H-O)*(H-O)+(x-e)*(x-e)<P)continue;var Q=w._2.getError(o,m,N,c);
if(Q<c){c=Q;D=B}}return D};w._2.getError=function(r,N,F,h){var m=0;for(var O=4;O<24;O+=4){var e=F[N+O]-F[r+O],P=F[N+O+1]-F[r+O+1],B=F[N+O+2]-F[r+O+2],s=F[N+O+3]-F[r+O+3];
m+=e*e+P*P+B*B+s*s;if(m>=h)return m+1}return m};w._2.Fh=function(r,N,F,h,m){var O=16,c=0;if(N-r<=O){F.push(99,r,N);
return}w._2.Ce(r,N,h,m);var e=-1,P=-1;for(var R=4;R<24;R++){var B=m[2*R+1]-m[2*R];if(B>P){P=B;e=R}}var s=r+N>>1,Y=w._2.al3(s,r,N,h,e),D=-1;
for(var R=r;R<=N;R++)if(h[24*R+e]==Y){if(D==-1)D=R;c=R}if(r+8<D&&D-r>N-c)s=D;else if(c+1<N-8)s=c+1;else if(N-r<64){F.push(99,r,N);
return}else s=s;var o=F.length;F.push(e,Y,0,0);F[o+2]=o+4;w._2.Fh(r,s-1,F,h,m);F[o+3]=F.length;w._2.Fh(s,N,F,h,m)};
w._2.Ce=function(r,N,F,h){for(var R=0;R<48;R+=4){h[R]=3e4;h[R+1]=-3e4;h[R+2]=3e4;h[R+3]=-3e4}for(var R=r;
R<=N;R++){var m=R*24;for(var O=0;O<24;O++){var e=F[m+O],P=h[O<<1],B=h[(O<<1)+1];if(e<P)h[O<<1]=e;if(e>B)h[(O<<1)+1]=e}}};
w._2.a9=function(r,N,F){var h=0,R=0;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;
R++;h=F[r+R];F[r+R]=F[N+R];F[N+R]=h;R++};w._2.Rg=function(r,N,F,h){var m=F+h>>>1,O=r[24*m+N];while(F<=h){while(r[24*F+N]<O)F++;
while(r[24*h+N]>O)h--;if(F<=h){if(r[24*F+N]!=r[24*h+N])w._2.a9(F*24,h*24,r);F++;h--}}return F};w._2.al3=function(r,N,F,h,m){var O=0;
while(N!=F){O=w._2.Rg(h,m,N,F);if(r<O)F=O-1;else N=O}return h[r*24+m]};w._2.ZF=function(r,N,F,h){for(var R=0;
R<h;R++)N[F+R]=r[R]};w._2.adJ=function(r,N,F,h,m,O,e,P,B){var s=(h-3)*m+(F-3),Y=s<<2;for(var D=0;D<8;
D++){if(N[s]+N[s+1]+N[s+2]+N[s+3]+N[s+4]+N[s+5]+N[s+6]+N[s+7]!=0||r[Y+3]<200||r[Y+7]<200||r[Y+11]<200||r[Y+15]<200||r[Y+19]<200||r[Y+23]<200||r[Y+27]<200||r[Y+31]<200)return 1;
var R=D<<3;e[R+0]=r[Y+0];P[R+0]=r[Y+1];B[R+0]=r[Y+2];e[R+1]=r[Y+4];P[R+1]=r[Y+5];B[R+1]=r[Y+6];e[R+2]=r[Y+8];
P[R+2]=r[Y+9];B[R+2]=r[Y+10];e[R+3]=r[Y+12];P[R+3]=r[Y+13];B[R+3]=r[Y+14];e[R+4]=r[Y+16];P[R+4]=r[Y+17];
B[R+4]=r[Y+18];e[R+5]=r[Y+20];P[R+5]=r[Y+21];B[R+5]=r[Y+22];e[R+6]=r[Y+24];P[R+6]=r[Y+25];B[R+6]=r[Y+26];
e[R+7]=r[Y+28];P[R+7]=r[Y+29];B[R+7]=r[Y+30];Y+=m<<2;s+=m}return 0};w._2.V0=function(r,N){N[0]=r[32]+r[0];
N[1]=r[33]+r[1];N[2]=r[34]+r[2];N[3]=r[35]+r[3];N[4]=r[36]+r[4];N[5]=r[37]+r[5];N[6]=r[38]+r[6];N[7]=r[39]+r[7];
N[8]=r[40]+r[8];N[9]=r[41]+r[9];N[10]=r[42]+r[10];N[11]=r[43]+r[11];N[12]=r[44]+r[12];N[13]=r[45]+r[13];
N[14]=r[46]+r[14];N[15]=r[47]+r[15];N[16]=r[48]+r[16];N[17]=r[49]+r[17];N[18]=r[50]+r[18];N[19]=r[51]+r[19];
N[20]=r[52]+r[20];N[21]=r[53]+r[21];N[22]=r[54]+r[22];N[23]=r[55]+r[23];N[24]=r[56]+r[24];N[25]=r[57]+r[25];
N[26]=r[58]+r[26];N[27]=r[59]+r[27];N[28]=r[60]+r[28];N[29]=r[61]+r[29];N[30]=r[62]+r[30];N[31]=r[63]+r[31];
N[32]=r[0]-r[32];N[33]=r[1]-r[33];N[34]=r[2]-r[34];N[35]=r[3]-r[35];N[36]=r[4]-r[36];N[37]=r[5]-r[37];
N[38]=r[6]-r[38];N[39]=r[7]-r[39];N[40]=r[8]-r[40];N[41]=r[9]-r[41];N[42]=r[10]-r[42];N[43]=r[11]-r[43];
N[44]=r[12]-r[44];N[45]=r[13]-r[45];N[46]=r[14]-r[46];N[47]=r[15]-r[47];N[48]=r[16]-r[48];N[49]=r[17]-r[49];
N[50]=r[18]-r[50];N[51]=r[19]-r[51];N[52]=r[20]-r[52];N[53]=r[21]-r[53];N[54]=r[22]-r[54];N[55]=r[23]-r[55];
N[56]=r[24]-r[56];N[57]=r[25]-r[57];N[58]=r[26]-r[58];N[59]=r[27]-r[59];N[60]=r[28]-r[60];N[61]=r[29]-r[61];
N[62]=r[30]-r[62];N[63]=r[31]-r[63];r[0]=N[16]+N[0];r[1]=N[17]+N[1];r[2]=N[18]+N[2];r[3]=N[19]+N[3];
r[4]=N[20]+N[4];r[5]=N[21]+N[5];r[6]=N[22]+N[6];r[7]=N[23]+N[7];r[8]=N[24]+N[8];r[9]=N[25]+N[9];r[10]=N[26]+N[10];
r[11]=N[27]+N[11];r[12]=N[28]+N[12];r[13]=N[29]+N[13];r[14]=N[30]+N[14];r[15]=N[31]+N[15];r[16]=N[0]-N[16];
r[17]=N[1]-N[17];r[18]=N[2]-N[18];r[19]=N[3]-N[19];r[20]=N[4]-N[20];r[21]=N[5]-N[21];r[22]=N[6]-N[22];
r[23]=N[7]-N[23];r[24]=N[8]-N[24];r[25]=N[9]-N[25];r[26]=N[10]-N[26];r[27]=N[11]-N[27];r[28]=N[12]-N[28];
r[29]=N[13]-N[29];r[30]=N[14]-N[30];r[31]=N[15]-N[31];N[0]=r[8]+r[0];N[1]=r[9]+r[1];N[2]=r[10]+r[2];
N[3]=r[11]+r[3];N[4]=r[12]+r[4];N[5]=r[13]+r[5];N[6]=r[14]+r[6];N[7]=r[15]+r[7];N[8]=r[0]-r[8];N[9]=r[1]-r[9];
N[10]=r[2]-r[10];N[11]=r[3]-r[11];N[12]=r[4]-r[12];N[13]=r[5]-r[13];N[14]=r[6]-r[14];N[15]=r[7]-r[15];
r[0]=N[4]+N[0];r[1]=N[5]+N[1];r[2]=N[6]+N[2];r[3]=N[7]+N[3];r[4]=N[0]-N[4];r[5]=N[1]-N[5];r[6]=N[2]-N[6];
r[7]=N[3]-N[7];r[8]=N[12]+N[8];r[9]=N[13]+N[9];r[10]=N[14]+N[10];r[11]=N[15]+N[11];r[12]=N[8]-N[12];
r[13]=N[9]-N[13];r[14]=N[10]-N[14];r[15]=N[11]-N[15];N[0]=r[2]+r[0];N[1]=r[3]+r[1];N[2]=r[0]-r[2];N[3]=r[1]-r[3];
N[4]=r[6]+r[4];N[5]=r[7]+r[5];N[6]=r[4]-r[6];N[7]=r[5]-r[7];N[8]=r[10]+r[8];N[9]=r[11]+r[9];N[10]=r[8]-r[10];
N[11]=r[9]-r[11];N[12]=r[14]+r[12];N[13]=r[15]+r[13];N[14]=r[12]-r[14];N[15]=r[13]-r[15];r[0]=N[1]+N[0];
r[1]=N[0]-N[1];r[2]=N[3]+N[2];r[3]=N[2]-N[3];r[4]=N[5]+N[4];r[5]=N[4]-N[5];r[6]=N[7]+N[6];r[7]=N[6]-N[7];
r[8]=N[9]+N[8];r[9]=N[8]-N[9];r[10]=N[11]+N[10];r[11]=N[10]-N[11];r[12]=N[13]+N[12];r[13]=N[12]-N[13];
r[14]=N[15]+N[14];r[15]=N[14]-N[15]};w._2.aru=function(){var r="",j_=64,N="v",F="t",h="a",m=5,R,O,e;
for(R=j_>>1;R>0;R>>=1,m--){for(O=0;O<j_;O++){e=(O>>m&1)!=0;if(e){r+=F+"["+O+"] = "+N+"["+(-R+O)+"] - "+N+"["+O+"];  "}else{r+=F+"["+O+"] = "+N+"["+(R+O)+"] + "+N+"["+O+"];  "}}h=N;
N=F;F=h;r+="\n"}console.log(r)};w._2.ach=function(j_,r,N){var F=r,h=N,m=F,O=0,R,P,B;while(j_>>O!=2)O++;
var e=O;for(R=j_>>1;R>0;R>>=1,O--){for(P=0;P<j_;P++){B=(P>>O&1)!=0;if(B)h[P]=F[-R+P]-F[P];else h[P]=F[R+P]+F[P]}m=F;
F=h;h=m}if((e&1)==1)for(R=0;R<j_;R++)N[R]=F[R]};w.j_={};w.j_.Xn=function(r,N,F,h,m,O,e,P,B){var s=Date.now(),Y=new Uint32Array(r.buffer),D=new Uint32Array(N.buffer),c=e/F,o=P/h,H=1/c,x=1/o,Q=new Float64Array(2),U=3,I=1/U,l=1/(U*U),p=0,j=0,T=F,V=h;
if(m){p=m.x;j=m.y;T=m.e;V=m.n}for(var E=0;E<V;E++)for(var _=0;_<T;_++){var f=p+_,S=j+E,R=S*F+f,L=R<<1,y=R<<2;
w.j_.a5v(O,e,P,(f+.5)*c,(S+.5)*o,Q);var $=Q[0]*H,Z=Q[1]*x;if($==0&&Z==0)D[R]=Y[R];else{w.N.xE(f+$+.5,S+Z+.5,Y,F,h,D,R,B)}}};
w.j_.a5v=function(r,N,F,h,m,O){h-=.499999;m-=.499999;var e=~~h,P=~~m,B=h-e,s=m-P,Y=(1-s)*(1-B),D=(1-s)*B,c=s*(1-B),o=s*B,H=e<N-1?e+1:e,x=P<F-1?P+1:P,Q=P*N+e<<1,U=P*N+H<<1,I=x*N+e<<1,l=x*N+H<<1;
O[0]=Y*r[Q]+D*r[U]+c*r[I]+o*r[l];O[1]=Y*r[Q+1]+D*r[U+1]+c*r[I+1]+o*r[l+1]};w.j_.a2Q=function(r,N,F,h,m){var O=1/r,e=[-1,1,-r,r],P=h.length;
for(var B=0;B<P;B++){var R=h[B],s=R<<1,Y=B<<1,D=~~(R*O),c=R-r*D,o=F[s],H=F[s+1],x=0,Q=0;if(c!=0&&c!=r-1){var U=R-1<<1,I=R+1<<1,l=F[U],p=F[I],j=F[U+1],T=F[I+1],V=o-(l+p)*.5,E=H-(j+T)*.5;
x-=V*m;Q-=E*m}if(D!=0&&D!=N-1){var U=R-r<<1,I=R+r<<1,l=F[U],p=F[I],j=F[U+1],T=F[I+1],V=o-(l+p)*.5,E=H-(j+T)*.5;
x-=V*m;Q-=E*m}F[s]=o+x;F[s+1]=H+Q}};w.j_.asE=function(r,N){var F=r+","+N;if(w.j_.s4==F)return w.j_.Wz;
var h=w.j_.Wz=[];w.j_.s4=F;for(var R=0;R<=1e3;R++){var m=R*.001,O=Math.sqrt(m),e=Math.exp(-4*O),P=.96*(1-O*O),B=N*((1-r)*e+r*P);
h[R]=B}return h};w.j_.s4="";w.j_.Wz=[];w.j_.a00=function(r,N,F,h,m,O,e,P,B,s,Y,D,c){var o=Math.max(0,Math.floor(m-e-1)),H=Math.min(N,Math.ceil(m+e+1)),x=Math.max(0,Math.floor(O-e-1)),Q=Math.min(F,Math.ceil(O+e+1)),U=2*N,I=e*e,l=1/e,p=0;
if(c&&(h==3||h==6))B=-B;var j=w.j_.asE(P,B);for(var T=x;T<Q;T++)for(var V=o;V<H;V++){var R=T*N+V,E=R<<1,_=(m-V)*l,f=(O-T)*l,S=_*_+f*f;
if(S<1){D[p]=R;var L=j[~~(S*1e3)];if(h==1){r[E]=r[E]*(1-L*.05);r[E+1]=r[E+1]*(1-L*.05)}else{var y=0,$=0,b,G,g,u;
if(h==0){y=s*L;$=Y*L}else if(h==2){}else if(h==3){y=L*f;$=-L*_}else if(h==4){y=L*_;$=L*f}else if(h==5){y=-L*_;
$=-L*f}else if(h==6){y=Y*L;$=-s*L}var Z=r[E],i=r[E+1];if(V==0||V!=N-1&&y<0){b=1+r[E+2]-Z;g=r[E+3]-i}else{b=Z-r[E-2]+1;
g=i-r[E-1]}if(T==0||T!=F-1&&$<0){G=r[E+U]-Z;u=1+r[E+U+1]-i}else{G=Z-r[E-U];u=i-r[E-U+1]+1}r[E]=-(b*y+G*$-Z);
r[E+1]=-(g*y+u*$-i)}p++}}};w.j_.a5G=function(r){var N=r[0],F=r[0],h=r[1],m=r[1];for(var R=0;R<r.length;
R+=2){var O=r[R],e=r[R+1];if(O<N)N=O;else if(O>F)F=O;if(e<h)h=e;else if(e>m)m=e}return[N,h,F,m]};w.a4y=function(r,N,F,h,m){function O(k,hG,eE,hW){return Math.sqrt((k-eE)*(k-eE)+(hG-hW)*(hG-hW))}function e(k,hG){return k>=0&&k<N&&hG>=0&&hG<F}function P(k){if(k<0)return 0;
if(k>=N)return N-1;return k}function B(k){if(k<0)return 0;if(k>=F)return F-1;return k}function s(R,k){var hG=k[3]*(1/255),eE=h[R]+k[0]*hG;
if(eE>255)eE=255;h[R]=eE;eE=h[R+1]+k[1]*hG;if(eE>255)eE=255;h[R+1]=eE;eE=h[R+2]+k[2]*hG;if(eE>255)eE=255;
h[R+2]=eE}function Y(k,hG,eE){if(!A(k,hG))return;if(eE[3]<0)eE[3]=0;s((hG*N+k)*4,eE)}function D(k){var hG=k.slice(0,3);
hG[3]=0;return hG}var c=N/800;function o(k){return Math.round(k*c)}function H(){for(var R=0;R<=300;R++){d[R]=x(R)}}function x(F){var k=.8,hG=.2,eE=k*hG,hW=F/60%2-1,hh=eE*(1-hW*hW),hI=hG-eE,db;
if(F<60){db=[eE+hI,hh,0]}else if(F<120){db=[hh,eE,0]}else if(F<180){db=[0,eE,hh]}else if(F<240){db=[0,hh,eE]}else if(F<300){db=[hh,0,eE]}else{db=[eE,0,hh]}return[(db[0]+hI)*255,(db[1]+hI)*255,(db[2]+hI)*255]}function Q(F){return d[~~F]}function U(k){return 1-I(k)}function I(k){return k-~~k}function l(k,hG,eE,hW){g(k,hG,eE,0,hG+1,1,hW)}function p(k,hG,eE,hW,hh,hI){g(k,hG,eE,0,hW,1,hh,hI)}function j(k){for(var R=0;
R<h.length;R+=4){s(R,k)}}function T(k,hG,eE,hW,hh,hI,db,by){V(k,hG,eE,hW,hh,1,hI,db,by)}function V(k,hG,eE,hW,hh,hI,db,by,jM){if(hI==null)hI=.5;
if(db==null)db=0;if(by==null)by=0;if(jM==null)jM=!1;var fP=k.x,hB=k.y,iu=eE.slice(0),be=~~(eE[3]*n);
hW=hW*n;if(!jM){hG=u(hG);hh=u(hh);db=u(db);by=u(by)}var bp=P(fP-hG),ij=P(fP+hG);for(var fT=bp;fT<=ij;
fT++){var ei=fT-fP,bz=Math.floor(Math.sqrt(hG*hG-ei*ei)),aM=B(hB-bz),hw=B(hB);for(var hx=aM;hx<=hw;hx++){var fm=O(fT,hx,fP,hB);
if(fm>hG||fm<=hG-hh)break;var dE=(fm-hG+hh)/hh;iu[3]=be-hW*(hI==1?dE:Math.pow(dE,hI));s((hx*N+fT)*4,iu)}aM=B(hB+bz);
for(var hx=aM;hx>hw;hx--){var fm=O(fT,hx,fP,hB);if(fm>hG||fm<=hG-hh)break;var dE=(fm-hG+hh)/hh;iu[3]=be-hW*(hI==1?dE:Math.pow(dE,hI));
s((hx*N+fT)*4,iu)}}if(db>0){g(k,hG+db,iu,iu[3],db,1,0,0,!0)}if(by>0){g(k,hG-hh,a(eE),-eE[3],by,1,0,0,!0)}}function E(k,hG,eE,hW,hh,hI){g(k,hG,eE,eE[3],hG+1,1,hW,hh,hI)}function _(k,hG,eE,hW,hh){if(hh==null)hh=!1;
var hI=k.x,db=k.y;hW*=n;if(!hh){hG=u(hG);eE=u(eE)}var by=P(hI-hG),jM=P(hI+hG);for(var fP=by;fP<jM;fP++){var hB=fP-hI,iu=~~Math.sqrt(hG*hG-hB*hB),bp=B(db-iu),ij=B(db);
for(var fT=bp;fT<=ij;fT++){var ei=O(fP,fT,hI,db);if(ei>hG||ei<=hG-eE)break;var bz=(hG-ei)/eE,aM=Q(300*bz);
aM[3]=hW;s((fT*N+fP)*4,aM)}bp=B(db+iu);for(var fT=bp;fT>ij;fT--){var ei=O(fP,fT,hI,db);if(ei>hG||ei<=hG-eE)break;
var bz=(hG-ei)/eE,aM=Q(300*bz);aM[3]=hW;s((fT*N+fP)*4,aM)}}}function f(K,k){var hG=K.sb,eE=K.xU,hW=k.slice(0),hh=k[3]*n,hI=Math.abs(eE.y-hG.y)>Math.abs(eE.x-hG.x);
if(hI){var db=hG.x;hG.x=hG.y;hG.y=db;db=eE.x;eE.x=eE.y;eE.y=db}if(hG.x>eE.x){var db=hG;hG=eE;eE=db}var by=eE.x-hG.x,jM=eE.y-hG.y,fP=by==0?1:jM/by,hB=Math.round(hG.x),iu=hG.y+fP*(hB-hG.x),be=U(hG.x+.5),bp=hB,ij=~~iu;
if(hI){hW[3]=hh*U(iu)*be;Y(ij,bp,hW);hW[3]=hh*I(iu)*be;Y(ij+1,bp,hW)}else{hW[3]=hh*U(iu)*be;Y(bp,ij,hW);
hW[3]=hh*I(iu)*be;Y(bp,ij+1,hW)}var fT=iu-fP;hB=Math.round(eE.x);iu=eE.y+fP*(hB-eE.x);be=I(eE.x+.5);
var ei=hB,bz=~~iu;if(hI){hW[3]=hh*U(iu)*be;Y(bz,ei,hW);hW[3]=hh*I(iu)*be;Y(bz+1,ei,hW)}else{hW[3]=hh*U(iu)*be;
Y(ei,bz,hW);hW[3]=hh*I(iu)*be;Y(ei,bz+1,hW)}if(hI){for(var aM=bp+1;aM<=ei-1;aM++){hW[3]=hh*U(fT);Y(~~fT,aM,hW);
hW[3]=hh*I(fT);Y(~~fT+1,aM,hW);fT+=fP}}else{for(var aM=bp+1;aM<=ei-1;aM++){hW[3]=hh*U(fT);Y(aM,~~fT,hW);
hW[3]=hh*I(fT);Y(aM,~~fT+1,hW);fT+=fP}}}function S(k,hG,eE,hW){for(var R=0;R<4;R++){var hh=k.Yo(hG+1.3*R,eE);
f(hh,hW,1)}}function gS(k,hG){this.x=Math.round(k);this.y=Math.round(hG)}var L=Math.PI/180;gS.prototype.Yo=function(k,hG){k=k*L;
var eE=this.x+hG*Math.cos(k),hW=this.y+hG*Math.sin(k);return new y(this.x,this.y,eE,hW)};gS.prototype.a9N=function(k,hG){k=k*L;
var eE=this.Vr+hG*Math.cos(k),hW=this.adH+hG*Math.sin(k);return new gS(eE,hW)};function y(k,hG,eE,hW){this.sb=new gS(k,hG);
this.xU=new gS(eE,hW)}y.prototype.rp=function(k){var hG=k*this.sb.x+(1-k)*this.xU.x,eE=k*this.sb.y+(1-k)*this.xU.y;
return new gS(hG,eE)};var $=T,Z=E,i=l,b=p,G=_,g=V,u=o,A=e,a=D,d=[];H();for(var R=0;R<r.length;R++){h[R]=r[R]}var K=new y(N*m[2],F*m[3],N/2,F/2),n=m[1],t=[];
t[0]=function X(){var k=[80,40,15,60],eE=0,hW=0;i(K.rp(1.4),260,k,10);i(K.rp(1),100,[240,50,50,30],30);
Z(K.rp(1),60,[255,40,0,40]);var hG=[255,255,255,255];g(K.rp(1),70,hG,hG[3],58,.5);i(K.rp(1),12,hG);hG[3]=40;
$(K.rp(1),150,hG,hG[3],150);for(var R=0;R<40;R++){eE+=Math.random()*25;hW=Math.random()*u(300)+u(100);
var hh=K.rp(1).Yo(eE,hW);f(K.rp(1).Yo(eE,hW),[110,110,110,30])}Z(K.rp(1),130,[255,255,255,8]);var hI=[170,30,23,70];
b(K.rp(1),70,hI,1,3,3);var db=[60,60,130,40];i(K.rp(.47),44,db,5);i(K.rp(.43),22,db,3);db[3]=16;i(K.rp(.53),15,db,2);
var by=[138,94,42,100];i(K.rp(.2),16,by,2);var jM=[130,255,170,180];Z(K.rp(0),4,jM);Z(K.rp(-.25),5,jM);
by=[150,90,0,50];$(K.rp(-.45),55,a(by),-by[3],40,2);i(K.rp(-.42),35,by,2);i(K.rp(-.5),15,by,2);G(K.rp(-1.28),145,11,70);
var fP=Q(0);fP[3]=50;$(K.rp(-1.28),149,fP,fP[3],4);fP=Q(300);fP[3]=50;$(K.rp(-1.28),155-1,a(fP),-fP[3],3);
var hB=[130,130,10,50];b(K.rp(-1),73,hB,3,2);var iu=[40,130,70,40];$(K.rp(-1),70,a(iu),-iu[3],35);iu=[40,170,60,50];
i(K.rp(-.7),25,iu,4);var iu=[70,110,50,60];$(K.rp(1.3),30,a(iu),-iu[3],11,3);db=[0,50,210,80];Z(K.rp(-.72),20,db)};
t[1]=function aK(){Z(K.rp(1),150,[240,70,70,60]);i(K.rp(1),100,[200,60,60,40],30);var k=[255,255,255,255],hG=0,eE=0;
g(K.rp(1),75,k,k[3],63);i(K.rp(1),12,k);Z(K.rp(1),270,[200,200,200,20],10);for(var R=0;R<10;R++){hG+=10+Math.random()*40;
eE=Math.random()*u(250)+u(80);var hW=K.rp(1).Yo(hG,eE);f(hW,[110,110,110,35])}hG=5;eE=100;for(var R=0;
R<12;R++){hG+=30;S(K.rp(1),hG,eE,[90,90,90,40])}var hh=[150,40,23,100];b(K.rp(1),70,hh,1,3,3);var hI=[30,100,60,40];
Z(K.rp(-.9),180,[255,255,255,20]);i(K.rp(-.9),140,hI,15);var db=[170,80,25,15];b(K.rp(-.9),120,db,1,4,4);
var by=[110,240,190,200];Z(K.rp(-.6),3,by);by[3]=100;Z(K.rp(-.6),7,by);var jM=[230,120,40,85];Z(K.rp(-.73),9,jM);
var fP=[60,60,190,50];i(K.rp(.3),28,fP,6);fP[3]=25;i(K.rp(.34),20,fP,3)};t[2]=function fg(){var k=[255,255,255,255],eE=0,hW=0;
i(K.rp(1),13,k);g(K.rp(1),150,k,k[3],137);var hG=[120,80,35,20];i(K.rp(1.4),260,hG,10);for(var R=0;R<40;
R++){eE+=5+Math.random()*30;hW=Math.random()*u(300);f(K.rp(1).Yo(eE,hW),[110,110,110,20])}var hh=[10,30,255,30];
i(K.rp(1),70,hh,50);var hI=[15,90,170,15];i(K.rp(1.5),60,hI);var db=[220,220,20,50];i(K.rp(-1.15),8,db,2);
var k=[255,255,255,40];Z(K.rp(-1.18),6,k);Z(K.rp(-1.18),4,k);db=[110,110,10,8];$(K.rp(-1.2),32,a(db),-db[3],20,3);
var by=[5,0,16,255];for(var R=0;R<4;R++){i(K.rp(-1.36),10,by,3)}var jM=[90,200,150,20],fP=jM.slice(0);
fP[3]*=2;i(K.rp(-1.32),7,fP,3);i(K.rp(-1.36),7,fP,3);i(K.rp(-1.4),7,fP,3);var k=[230,230,230,100];Z(K.rp(-1.36),2,k);
k[3]=3;i(K.rp(-.55),10,k);db=[120,100,10,18];i(K.rp(-.55),160,db,8);i(K.rp(-.55),80,db,4);jM[3]=3;fP[3]=6;
$(K.rp(-.49),13,a(fP),-fP[3],13,2);$(K.rp(-.55),13,a(fP),-fP[3],13,2);jM[3]=20;i(K.rp(.15),25,jM,3);
db[3]=100;Z(K.rp(-.52),3,db);db=[200,200,50,40];i(K.rp(.27),1,db,4);var hB=[150,40,23,30];$(K.rp(1),80,a(hB),-hB[3],2,1)};
return t[m[0]]()};w.PB={};w.PB.Vu=function(r){var N=r.length,j_=r[0].length,F=new Array(j_);for(var R=0;
R<j_;R++)F[R]=new Array(N);for(var R=0;R<j_;R++)for(var h=0;h<N;h++)F[R][h]=r[h][R];return F};w.PB.bl=function(r,N){var F=r.length,j_=r[0].length,h=new Array(F);
for(var R=0;R<F;R++)h[R]=new Array(j_);for(var R=0;R<F;R++)for(var m=0;m<j_;m++)h[R][m]=r[R][m]-N[R][m];
return h};w.PB.add=function(r,N){var F=r.length,j_=r[0].length,h=new Array(F);for(var R=0;R<F;R++)h[R]=new Array(j_);
for(var R=0;R<F;R++)for(var m=0;m<j_;m++)h[R][m]=r[R][m]+N[R][m];return h};w.PB.multiply=function(r,N){var F=r.length,h=r[0].length,j_=N[0].length;
if(h!=N.length)throw"e";var m=new Array(F);for(var R=0;R<F;R++)m[R]=new Array(j_);if((h&1)!=0)for(var R=0;
R<F;R++){var O=r[R],e=m[R];for(var P=0;P<j_;P++){var B=0;for(var s=0;s<h;s++)B+=O[s]*N[s][P];e[P]=B}}else for(var R=0;
R<F;R++){var O=r[R],e=m[R];for(var P=0;P<j_;P++){var B=0;for(var s=0;s<h;s+=2)B+=O[s]*N[s][P]+O[s+1]*N[s+1][P];
e[P]=B}}return m};w.PB.NZ=function(r,N){var F=r.length,j_=r[0].length,h=new Array(F);for(var R=0;R<F;
R++){var m=0;for(var O=0;O<j_;O++)m+=r[R][O]*N[O];h[R]=m}return h};w.PB.uw=function(r,N){var F=[];for(var R=0;
R<r;R++){F.push([]);for(var h=0;h<N;h++)F[R].push(0)}return F};w.PB.ao5=function(r){for(var R=0;R<r.length;
R++)console.log(JSON.stringify(r[R]))};w.PB.aaN=function(r){var N=[];for(var R=0;R<r.length;R++)N.push(r[R].join(","));
return"["+N.join(";")+"]"};w.PB.QM=function(r,N){var F=r.length;for(var h=0;h<F;h++){var m=0,O=Number.NEGATIVE_INFINITY;
for(var R=h;R<F;R++)if(Math.abs(r[R][h])>O){m=R;O=Math.abs(r[R][h])}w.PB.a0h(r,h,m);for(var R=h+1;R<F;
R++){if(r[h][h]==0)return 1;var e=r[R][h]/r[h][h];for(var P=h;P<F+1;P++)r[R][P]-=r[h][P]*e}}for(var R=F-1;
R>=0;R--){if(r[R][R]==0)return 1;var B=r[R][F]/r[R][R];N[R]=B;for(var P=R-1;P>=0;P--){r[P][F]-=r[P][R]*B;
r[P][R]=0}}return 0};w.PB.a0h=function(r,N,F){var h=r[N];r[N]=r[F];r[F]=h};w.PB.a4R=function(r){var N=r.length,F=w.PB.uw(N,N);
for(var R=0;R<N;R++)F[R][R]=r[R];return F};w.PB.ag8=function(r){var N=r.length,F=r[0].length,h=new Array(N);
for(var R=0;R<N;R++){h[R]=0;for(var m=0;m<F;m++)h[R]+=r[R][m];h[R]/=F}return h};w.PB.X2=function(r){var N=0;
for(var R=0;R<r.length;R++)N+=r[R]*r[R];return Math.sqrt(N)};w.nt={};w.nt.Qb=function(r){var N=~~(r+.5);
return N<0?0:N>255?255:N};w.nt.transform=function(r,N,F){var h=w.nt.Qb,m=r.Z.length;for(var R=0;R<m;
R++){var O=r.Z[R],e=r.z[R],P=r.J[R];N.Z[R]=h(F[0]*O+F[1]*e+F[2]*P+F[3]*255);N.z[R]=h(F[4]*O+F[5]*e+F[6]*P+F[7]*255);
N.J[R]=h(F[8]*O+F[9]*e+F[10]*P+F[11]*255)}};w.nt.dm=function(r,N,F){var h=w.nt.Qb,m=r.length;for(var R=0;
R<m;R+=4){var O=r[R],e=r[R+1],P=r[R+2];N[R]=h(F[0]*O+F[1]*e+F[2]*P+F[3]*255);N[R+1]=h(F[4]*O+F[5]*e+F[6]*P+F[7]*255);
N[R+2]=h(F[8]*O+F[9]*e+F[10]*P+F[11]*255)}};w.nt.l0=function(r){var N=r[0]+r[1]+r[2],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(N==1){var h=r.indexOf(1);F[h]=F[h+4]=F[h+8]=1}else{F[0]=r[0];F[5]=r[1];F[10]=r[2]}return F};w.nt.UZ=function(r,N,F){return[1,0,0,r,0,1,0,N,0,0,1,F,0,0,0,1]};
w.nt.g5=function(r,N,F){return[r,0,0,0,0,N,0,0,0,0,F,0,0,0,0,1]};w.nt.afH=function(r){return[r[0],r[1],r[2],r[4],r[5],r[6],r[8],r[9],r[10]]};
w.nt.HS=function(r){return[r[0],r[1],r[2],0,r[3],r[4],r[5],0,r[6],r[7],r[8],0,0,0,0,1]};w.nt.LS=function(r,N){return[r[0]*N[0]+r[1]*N[1]+r[2]*N[2]+r[3]*N[3],r[4]*N[0]+r[5]*N[1]+r[6]*N[2]+r[7]*N[3],r[8]*N[0]+r[9]*N[1]+r[10]*N[2]+r[11]*N[3],r[12]*N[0]+r[13]*N[1]+r[14]*N[2]+r[15]*N[3]]};
w.nt.Vu=function(r){var N=[];N[0]=r[0];N[1]=r[4];N[2]=r[8];N[3]=r[12];N[4]=r[1];N[5]=r[5];N[6]=r[9];
N[7]=r[13];N[8]=r[2];N[9]=r[6];N[10]=r[10];N[11]=r[14];N[12]=r[3];N[13]=r[7];N[14]=r[11];N[15]=r[15];
return N};w.nt.add=function(r,N){var F=r.slice(0);for(var R=0;R<16;R++)F[R]+=N[R];return F};w.nt.multiply=function(r,N){var F=[];
F[0]=r[0]*N[0]+r[1]*N[4]+r[2]*N[8]+r[3]*N[12];F[1]=r[0]*N[1]+r[1]*N[5]+r[2]*N[9]+r[3]*N[13];F[2]=r[0]*N[2]+r[1]*N[6]+r[2]*N[10]+r[3]*N[14];
F[3]=r[0]*N[3]+r[1]*N[7]+r[2]*N[11]+r[3]*N[15];F[4]=r[4]*N[0]+r[5]*N[4]+r[6]*N[8]+r[7]*N[12];F[5]=r[4]*N[1]+r[5]*N[5]+r[6]*N[9]+r[7]*N[13];
F[6]=r[4]*N[2]+r[5]*N[6]+r[6]*N[10]+r[7]*N[14];F[7]=r[4]*N[3]+r[5]*N[7]+r[6]*N[11]+r[7]*N[15];F[8]=r[8]*N[0]+r[9]*N[4]+r[10]*N[8]+r[11]*N[12];
F[9]=r[8]*N[1]+r[9]*N[5]+r[10]*N[9]+r[11]*N[13];F[10]=r[8]*N[2]+r[9]*N[6]+r[10]*N[10]+r[11]*N[14];F[11]=r[8]*N[3]+r[9]*N[7]+r[10]*N[11]+r[11]*N[15];
F[12]=r[12]*N[0]+r[13]*N[4]+r[14]*N[8]+r[15]*N[12];F[13]=r[12]*N[1]+r[13]*N[5]+r[14]*N[9]+r[15]*N[13];
F[14]=r[12]*N[2]+r[13]*N[6]+r[14]*N[10]+r[15]*N[14];F[15]=r[12]*N[3]+r[13]*N[7]+r[14]*N[11]+r[15]*N[15];
return F};w.nt.iL=function(r){var N=[];N[0]=r[5]*r[10]*r[15]-r[5]*r[14]*r[11]-r[6]*r[9]*r[15]+r[6]*r[13]*r[11]+r[7]*r[9]*r[14]-r[7]*r[13]*r[10];
N[1]=-r[1]*r[10]*r[15]+r[1]*r[14]*r[11]+r[2]*r[9]*r[15]-r[2]*r[13]*r[11]-r[3]*r[9]*r[14]+r[3]*r[13]*r[10];
N[2]=r[1]*r[6]*r[15]-r[1]*r[14]*r[7]-r[2]*r[5]*r[15]+r[2]*r[13]*r[7]+r[3]*r[5]*r[14]-r[3]*r[13]*r[6];
N[3]=-r[1]*r[6]*r[11]+r[1]*r[10]*r[7]+r[2]*r[5]*r[11]-r[2]*r[9]*r[7]-r[3]*r[5]*r[10]+r[3]*r[9]*r[6];
N[4]=-r[4]*r[10]*r[15]+r[4]*r[14]*r[11]+r[6]*r[8]*r[15]-r[6]*r[12]*r[11]-r[7]*r[8]*r[14]+r[7]*r[12]*r[10];
N[5]=r[0]*r[10]*r[15]-r[0]*r[14]*r[11]-r[2]*r[8]*r[15]+r[2]*r[12]*r[11]+r[3]*r[8]*r[14]-r[3]*r[12]*r[10];
N[6]=-r[0]*r[6]*r[15]+r[0]*r[14]*r[7]+r[2]*r[4]*r[15]-r[2]*r[12]*r[7]-r[3]*r[4]*r[14]+r[3]*r[12]*r[6];
N[7]=r[0]*r[6]*r[11]-r[0]*r[10]*r[7]-r[2]*r[4]*r[11]+r[2]*r[8]*r[7]+r[3]*r[4]*r[10]-r[3]*r[8]*r[6];N[8]=r[4]*r[9]*r[15]-r[4]*r[13]*r[11]-r[5]*r[8]*r[15]+r[5]*r[12]*r[11]+r[7]*r[8]*r[13]-r[7]*r[12]*r[9];
N[9]=-r[0]*r[9]*r[15]+r[0]*r[13]*r[11]+r[1]*r[8]*r[15]-r[1]*r[12]*r[11]-r[3]*r[8]*r[13]+r[3]*r[12]*r[9];
N[10]=r[0]*r[5]*r[15]-r[0]*r[13]*r[7]-r[1]*r[4]*r[15]+r[1]*r[12]*r[7]+r[3]*r[4]*r[13]-r[3]*r[12]*r[5];
N[11]=-r[0]*r[5]*r[11]+r[0]*r[9]*r[7]+r[1]*r[4]*r[11]-r[1]*r[8]*r[7]-r[3]*r[4]*r[9]+r[3]*r[8]*r[5];N[12]=-r[4]*r[9]*r[14]+r[4]*r[13]*r[10]+r[5]*r[8]*r[14]-r[5]*r[12]*r[10]-r[6]*r[8]*r[13]+r[6]*r[12]*r[9];
N[13]=r[0]*r[9]*r[14]-r[0]*r[13]*r[10]-r[1]*r[8]*r[14]+r[1]*r[12]*r[10]+r[2]*r[8]*r[13]-r[2]*r[12]*r[9];
N[14]=-r[0]*r[5]*r[14]+r[0]*r[13]*r[6]+r[1]*r[4]*r[14]-r[1]*r[12]*r[6]-r[2]*r[4]*r[13]+r[2]*r[12]*r[5];
N[15]=r[0]*r[5]*r[10]-r[0]*r[9]*r[6]-r[1]*r[4]*r[10]+r[1]*r[8]*r[6]+r[2]*r[4]*r[9]-r[2]*r[8]*r[5];var F=r[0]*N[0]+r[1]*N[4]+r[2]*N[8]+r[3]*N[12];
for(var R=0;R<16;R++)N[R]/=F;return N};w.nt.aga=function(r){var N=[],F=r[5]*r[10]*r[15]-r[5]*r[14]*r[11]-r[6]*r[9]*r[15]+r[6]*r[13]*r[11]+r[7]*r[9]*r[14]-r[7]*r[13]*r[10],h=-r[4]*r[10]*r[15]+r[4]*r[14]*r[11]+r[6]*r[8]*r[15]-r[6]*r[12]*r[11]-r[7]*r[8]*r[14]+r[7]*r[12]*r[10],m=r[4]*r[9]*r[15]-r[4]*r[13]*r[11]-r[5]*r[8]*r[15]+r[5]*r[12]*r[11]+r[7]*r[8]*r[13]-r[7]*r[12]*r[9],O=-r[4]*r[9]*r[14]+r[4]*r[13]*r[10]+r[5]*r[8]*r[14]-r[5]*r[12]*r[10]-r[6]*r[8]*r[13]+r[6]*r[12]*r[9];
return r[0]*F+r[1]*h+r[2]*m+r[3]*O};w.nt.xd=w.nt.HS([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
w.nt.aiM=w.nt.HS([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
w.nt.akD=w.nt.iL(w.nt.xd);w.lm={};w.lm.Ib=new Uint32Array(1);w.lm.lI=function(r,N,F,h,m,O){var e=new Uint32Array(r),P=0,B=w.lm.Ib;
if(B.length<N*4)w.lm.Ib=B=new Uint32Array(N*4);var s=new Float64Array(B.buffer);for(var R=0;R<N;R+=2){var Y=m[R],c=m[R+1],o=O[R],H=O[R+1];
B[P]=c;s[P+2>>1]=o;B[P+1]=e[Y];e[Y]=P+1;P+=4;B[P]=Y;s[P+2>>1]=H;B[P+1]=e[c];e[c]=P+1;P+=4}return{h7:B,amt:s,avF:e}};
w.lm.QM=function(r,N,F,h,m,O,e){var P=1,B=w.lm.lI(r,N,F,h,m,O),s=B.h7,Y=B.amt,D=B.avF,c=new Uint32Array(r),o=new w.lm.nR(r),x=1,p=0;
o.push(F);o.push(h);var H=new w.lm.nR(r),Q=new Uint8Array(r),U=new Uint32Array(r);Q[F]=1;Q[h]=2;var I=new Uint32Array(r),l=new Uint32Array(r);
l[F]=l[h]=0;I[F]=I[h]=1;while(!0){var j=-1,L=0,i=1e30;while(!o.$C()&&j==-1){var T=o.top(),V=Q[T],E=D[T]-1;
while(E!=-1){var _=s[E],f=Q[_],S=E^V-1<<2;if(Y[S+2>>1]!=0){if(f==0){w.lm.YF(T,E,_,Q,U,l,I);o.push(_)}else if(f==V&&I[_]<=I[T]&&l[_]>l[T])w.lm.YF(T,E,_,Q,U,l,I);
else if(f!=V){j=S}}E=s[E+1]-1}if(j!=-1)break;o.pop()}if(j==-1){break}x++;var y=j;while(y!=-1){c[L]=y;
L++;y=U[s[y^4]]-1}var $=L>>1;for(var R=0;R<$;R++){var Z=c[R];c[R]=c[L-R-1];c[L-R-1]=Z}y=U[s[j]]-1;while(y!=-1){c[L]=y^4;
L++;y=U[s[y^4]]-1}for(var R=0;R<L;R++)i=Math.min(i,Y[c[R]+2>>1]);p+=i;if(p>=e)return{QJ:null,se:p};for(var R=0;
R<L;R++){var b=c[R],G=b^4,T=s[G],_=s[b];Y[b+2>>1]-=i;Y[G+2>>1]+=i;if(Y[b+2>>1]==0&&Q[T]==Q[_]){if(Q[T]==1){U[_]=0;
H.push(_)}if(Q[T]==2){U[T]=0;H.push(T)}}}while(!H.$C()){var T=H.pop(),V=Q[T],E=D[T]-1,g=V==1?4:0,u=0,A=0,a=1e9;
while(E!=-1){var _=s[E],d=E^4,S=E^g;if(Q[_]==V&&Y[S+2>>1]>0&&w.lm.adk(_,F,h,U,s,x,I,l)+1<a){u=_;A=d;
a=l[_]+1}E=s[E+1]-1}if(A!=0){w.lm.YF(u,A,T,Q,U,l,I);continue}E=D[T]-1;while(E!=-1){var _=s[E],S=E^g;
if(Q[_]==V){if(Y[S+2>>1]>0){o.push(_)}if(U[_]==E+1){U[_]=0;H.push(_)}}E=s[E+1]-1}Q[T]=0;o.remove(T)}}var K=[];
for(var R=0;R<N;R+=2){var T=m[R],_=m[R+1];if(Q[T]==1&&Q[_]!=1){K.push(R>>1)}if(Q[_]==1&&Q[T]!=1){K.push(N+R>>1)}}return{QJ:K,se:p}};
w.lm.YF=function(r,N,F,h,m,O,e){h[F]=h[r];m[F]=N+1;O[F]=O[r]+1;e[F]=e[r]};w.lm.adk=function(r,N,F,h,m,O,e,P){var B=r,s=h[r]-1,Y=0;
while(s!=-1&&e[r]!=O){r=m[s^4];s=h[r]-1;Y++}if(s==-1&&r!=N&&r!=F)return 1e9;var D=P[r]+Y;Y=0;s=h[B]-1;
while(B!=r){P[B]=D-Y;Y++;e[B]=O;B=m[s^4];s=h[B]-1}return D};w.lm.afL=function(r,N,F,h,m,O){var e=w.lm.lI(r,N,F,h,m,O),P=e.h7,B=e.amt,s=e.avF,Y=0,D=0,c=new Uint32Array(r*2),o=new w.lm.iZ(r),H=0;
while(!0){o.reset();o.push(F);for(var R=0;R<r;R++)c[R<<1]=0;while(!o.$C()){var x=o.pop(),Q=s[x]-1;while(Q!=-1){H=P[Q];
if(c[H<<1]==0&&B[Q+2>>1]>0&&H!=F){c[H<<1]=x+1;c[(H<<1)+1]=Q;o.push(H)}Q=P[Q+1]-1}if(c[h<<1]!=0){break}}if(c[h<<1]==0){break}var U=1e30;
H=h;while(!0){var I=c[H<<1]-1;if(I==-1)break;var l=c[(H<<1)+1];U=Math.min(U,B[l+2>>1]);H=I}H=h;while(!0){var I=c[H<<1]-1;
if(I==-1)break;var l=c[(H<<1)+1],p=l^4;B[l+2>>1]-=U;B[p+2>>1]+=U;H=I}Y+=U}var j=[];for(var R=0;R<N;R+=2){var I=m[R],H=m[R+1];
if((c[I<<1]!=0||I==F)&&c[H<<1]==0&&H!=F){j.push(R>>1)}if((c[H<<1]!=0||H==F)&&c[I<<1]==0&&I!=F){j.push(N+R>>1)}}return{QJ:j,se:Y}};
w.lm.iZ=function(r){r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;this.f4=new Uint32Array(r+1);this.FY=r;
this.VI=0;this.mb=0};w.lm.iZ.prototype={push:function(r){var N=this.mb;this.f4[N]=r;this.mb=N+1&this.FY},pop:function(){var r=this.VI,N=this.f4[r];
this.VI=r+1&this.FY;return N},$C:function(){return this.VI==this.mb},reset:function(){this.VI=0;this.mb=0}};
w.lm.nR=function(r){r|=r>>1;r|=r>>2;r|=r>>4;r|=r>>8;r|=r>>16;this.f4=new Uint32Array(r+1);this.oR=new Uint32Array(r+1);
this.FY=r;this.VI=0;this.mb=0};w.lm.nR.prototype={top:function(){return this.f4[this.VI]},a02:function(){return this.f4[this.mb]},push:function(r){if(this.oR[r]!=0)return;
this.oR[r]=this.mb+1;var N=this.mb;this.f4[N]=r;this.mb=N+1&this.FY},pop:function(){var r=this.VI,N=this.f4[r];
this.oR[N]=0;this.VI=r+1&this.FY;return N},$C:function(){return this.VI==this.mb},remove:function(r){var N=this.oR[r]-1;
if(N==-1)return;this.oR[r]=0;if(N==this.VI){this.pop();return}var F=this.pop();this.f4[N]=F;this.oR[F]=N+1},Xx:function(R){return R+this.FY+1&this.FY}};
w.lm.dh=function(r,N,F){var h=w.lm.Rg(r,N,F);if(N<h-1)w.lm.dh(r,N,h-1);if(h<F)w.lm.dh(r,h,F)};w.lm.Rg=function(r,N,F){var h=r[N+F>>>1];
while(N<=F){while(r[N]<h)N++;while(r[F]>h)F--;if(N<=F){w.lm.a9(r,N,F);N++;F--}}return N};w.lm.a9=function(r,N,F){var h=r[N];
r[N]=r[F];r[F]=h};w.UI={};w.UI.aos=function(r){for(var R=0;R<r.length;R++)w.UI.R7(r,R)};w.UI.R7=function(r,R){r[R].v.keyShapeInvalidated={t:"bool",v:!0}};
w.UI.ar3=function(r){for(var R=0;R<r.length;R++)r[R].v.keyOriginIndex.v=R};w.UI.LQ=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
w.UI.Fk=function(r){r=r.v;var N={Rctn:2,Ln:4,Elps:5},F=N[r.classID],h=r.topLeft?w.UI.VV(r):null,m=null,O=0,e=[!1,!1,0,0,0];
if(F==4){var P=r.Strt.v,B=r.End.v;m=[P.Hrzn.v.val,P.Vrtc.v.val,B.Hrzn.v.val,B.Vrtc.v.val];O=r.Wdth.v.val;
for(var R=0;R<2;R++){var s=r[R==0?"StrA":"EndA"];if(s==null)continue;s=s.v;e[R]=s.On.v;e[2]=s.Wdth.v;
e[3]=s.Lngt.v;e[4]=s.Cncv.v.val}}if(F==null)return null;return w.UI.Jb(F,F==4?null:w.UI.lN(r),h,m,O,e)};
w.UI.TM=function(r,N,F,h,m,O,e){var P={classID:r,unitValueQuadVersion:{t:"long",v:1}};if(N)w.UI.x8(P,["Left","Top","Rght","Btom"],N);
if(F)w.UI.x8(P,["topLeft","topRight","bottomRight","bottomLeft"],F);if(r=="Ln"){P.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[1]}}}},P.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:h[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:h[3]}}}},P.Wdth={t:"UntF",v:{type:"#Pxl",val:m}};
for(var R=0;R<2;R++){var B=R==0?"StrA":"EndA";P[B]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:e[R]},Wdth:{t:"doub",v:e[2]},Lngt:{t:"doub",v:e[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:e[4]}}}}}}if(O)P.Nm={t:"TEXT",v:O};
return{t:"Objc",v:P}};w.UI.EU=function(r,N){var F=w.UI.Af(r),h=r[2]-r[0],m=r[3]-r[1],O=Math.sqrt(h*h+m*m),e=[0,0,O,0,O,N,0,N],P=new hc;
P.rotate(-F);P.translate(r[0],r[1]);w.p.A(e,P,e);return e};w.UI.Jb=function(r,N,F,h,m,O){var e=w.UI.LQ(),P=e.v,B;
delete P.keyShapeInvalidated;P.keyOriginType={t:"long",v:r};P.keyOriginResolution={t:"doub",v:75};if(r==4){P.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[0]},Vrtc:{t:"doub",v:h[1]}}};
P.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:h[2]},Vrtc:{t:"doub",v:h[3]}}};B=w.UI.EU(h,m);
var s=w.p.Ce(B);N=[s.x,s.y,s.x+s.e,s.y+s.n];P.keyOriginLineWeight={t:"doub",v:m};if(O)w.UI.a6f(P,O)}else B=[N[0],N[1],N[2],N[1],N[2],N[3],N[0],N[3]];
P.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};w.UI.sz(P,"keyOriginBoxCorners",B);var Y={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
P.keyOriginShapeBBox={t:"Objc",v:Y};w.UI.As(P,N);if(F!=null){var D={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
P.keyOriginRRectRadii={t:"Objc",v:D};w.UI.PA(P,F)}return e};w.UI.A=function(r,N,F,h){var m=w.N.$p(N),O=w.N.iq(N);
for(var R=0;R<r.length;R++){var e=r[R].v;if(!w.UI.ja(e))continue;if(F.length!=0&&F.indexOf(R)==-1)continue;
var P=e.keyOriginType.v,B=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var s=0;s<B.length;
s++){var Y=w.UI.sK(e,B[s]);if(Y==null)continue;w.N.A(N,Y);w.UI.sz(e,B[s],Y);var D=w.p.Ce(Y);w.UI.As(e,[D.x,D.y,D.x+D.e,D.y+D.n]);
var c=new hc;c.rotate(-w.UI.Af(Y));var o={classID:"Trnf"};e.Trnf={t:"Objc",v:o};var H="xx xy yx yy tx ty".split(" "),x=[c.O$,c.J,c.KM,c.Bv,c.HG,c.SS];
for(var Q=0;Q<6;Q++)o[H[Q]]={t:"doub",v:x[Q]}}var Y=w.UI.sK(e,"keyOriginBoxCorners"),U=Y[2]-Y[0],I=Y[3]-Y[1],l=Math.sqrt(U*U+I*I);
U/=l;I/=l;var p=Y[6]-Y[0],j=Y[7]-Y[1],T=Math.sqrt(p*p+j*j);p/=T;j/=T;if(P==4){e.keyOriginLineWeight.v=T;
var V=w.UI.sh(e);w.N.A(N,V);w.UI.a6s(e,V)}var E=U*p+I*j;if(Math.abs(E)>.001){w.UI.R7(r,R)}}};w.UI.ja=function(r){var N=r.keyShapeInvalidated,F=r.keyOriginType;
return(N==null||!N.v)&&F!=null&&F.v!=9};w.UI.ajO=function(r){var N=r.keyOriginType.v,F=w.UI.en(r),h=F[0],m=F[1],O=F[2],e=F[3],P=new hc,B=r.keyOriginPolyCornerRadius,o;
B=B?B.v:0;var s=w.UI.sK(r,N==7||N==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),Y=w.UI.Ij(s),D=Y[2],c=Y[3];
h=-D/2;O=D/2;m=-c/2;e=c/2;P.rotate(-w.UI.Af(s));P.HG=Y[0];P.SS=Y[1];if(N==1||N==2){var H=N==1?0:w.UI.cm(r);
o=w.H.yN.Rect(h,m,O-h,e-m,H)}else if(N==4){var x=w.UI.sh(r),Q=w.UI.a71(r);P=new hc;if(Q==null)o=w.H.yN.P9(x[0],x[1],x[2],x[3],r.keyOriginLineWeight.v);
else o=w.H.yN.Iw(x[0],x[1],x[2],x[3],r.keyOriginLineWeight.v,Q)}else if(N==5){o=w.H.yN.b4(h,m,O-h,e-m)}else if(N==7||N==8){var U=N==7?3:r.keyOriginPolySides.v;
o=w.H.yN.We(0,0,100,Math.PI/U-Math.PI/2,U,B,O,e)}w.H.nY(o,P);return o};w.UI.Tz=function(r,N){var F=N.Y;
for(var R=0;R<r.length;R++){var h=r[R].v;if(!w.UI.ja(h))continue;var m=w.UI.ajO(h),O=w.H.Au(F,R),e=w.H.Gl(F,R);
m[2].r5=F[O].r5;var P=F;F=F.slice(0,O);for(var B=2;B<m.length;B++)F.push(m[B]);for(var B=O+e;B<P.length;
B++)F.push(P[B])}N.Y=F;N.ug=!0};w.UI.UD=function(r){var N=1e9,F=-N,h=1e9,m=-h,O=[],e=r.bN(),P=e[0],B=e[1];
for(var s=0;s<B.length;s++){var Y=P[B[s]],D=Y.add.vogk;if(D==null)continue;var c=Y.add.vmsk.w;for(var o=0;
o<D.length;o++){var H=D[o].v,U=0;if(!w.UI.ja(H))continue;if(B.length==1&&c.length!=0&&c.indexOf(o)==-1)continue;
var x=H.keyOriginType.v;if(x==9)continue;var Q=w.UI.en(H);N=Math.min(N,Q[0]);h=Math.min(h,Q[1]);F=Math.max(F,Q[2]);
m=Math.max(m,Q[3]);var I=w.UI.sK(H,"keyOriginBoxCorners");if(I){var l=w.UI.Ij(I),p=l[2],j=l[3];Q[2]=Q[0]+p;
Q[3]=Q[1]+j;U=w.UI.Af(I)}var T=[x,Q,U];O.push(T);if(x==2)T.push(w.UI.cm(H));if(x==7||x==8)T.push(H.keyOriginPolyCornerRadius.v);
if(x==8)T.push(H.keyOriginPolySides.v)}}return O.length==1?O[0]:[0,N<F?[N,h,F,m]:null,0]};w.UI.Af=function(r){var N=r[2]-r[0],F=r[3]-r[1];
return-Math.atan2(-F,N)};w.UI.akB=function(r,N){var F=w.UI.UD(r),h=-1;for(var R=0;R<N.length;R++)if(JSON.stringify(N[R])!=JSON.stringify(F[R]))h=R;
if(h==1||h==2){}var m=r.bN(),O=m[0],e=m[1];for(var P=0;P<e.length;P++){var B=O[e[P]],s=B.add.vogk;if(s==null)continue;
var Y=B.add.vmsk.w;for(var D=0;D<s.length;D++){var c=s[D].v;if(!w.UI.ja(c))continue;if(e.length==1&&Y.length!=0&&Y.indexOf(D)==-1)continue;
var o=c.keyOriginType.v;if(h==1||h==2){w.UI.A(s,w.UI.akh(h,c,F,N),Y,!1);break}if(h==3)if(o==2)w.UI.PA(c,N[3]);
else c.keyOriginPolyCornerRadius.v=N[3];if(h==4)c.keyOriginPolySides.v=N[4]}}};w.UI.akh=function(r,N,F,h){var m=h[1],O=F[1],e=(m[2]-m[0])/(O[2]-O[0]),P=(m[3]-m[1])/(O[3]-O[1]),B=new hc;
if(r==1){if(Math.max(Math.abs(e-1),Math.abs(P-1))>1e-8){var s=m[0],Y=m[1];if(h[0]!=0){var D=w.UI.sK(N,"keyOriginBoxCorners");
s=D[0];Y=D[1]}B.translate(-s,-Y);B.rotate(h[2]);B.scale(e,P);B.rotate(-h[2]);B.translate(s,Y)}else{B.translate(-O[0],-O[1]);
B.translate(m[0],m[1])}}else{if(h[0]!=0)m=w.UI.en(N);var s=(m[0]+m[2])/2,Y=(m[1]+m[3])/2;B.translate(-s,-Y);
if(F[0]!=0)B.rotate(F[2]);B.rotate(-h[2]);B.translate(s,Y)}return w.N.dj(B)};w.UI.Ij=function(r){var N=r[0],F=r[1],h=r[2],m=r[3],O=r[4],e=r[5],P=r[6],B=r[7],s=h-N,Y=m-F,D=Math.sqrt(s*s+Y*Y),s=O-h,Y=e-m,c=Math.sqrt(s*s+Y*Y);
return[(N+O)/2,(F+e)/2,D,c]};w.UI.sK=function(r,N){var F=r[N];if(F==null)return null;var h=[];F=F.v;
for(var m=0;m<4;m++){var O=F["rectangleCorner"+["A","B","C","D"][m]].v;h.push(O.Hrzn.v,O.Vrtc.v)}return h};
w.UI.sz=function(r,N,F){var h=r[N];if(h==null)return null;h=h.v;for(var m=0;m<4;m++){var O="rectangleCorner"+["A","B","C","D"][m];
h[O]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:F[2*m]},Vrtc:{t:"doub",v:F[2*m+1]}}}}};w.UI.en=function(r){return w.UI.lN(r.keyOriginShapeBBox.v)};
w.UI.lN=function(r){var N=r.classID,F=r.Left.v,h=r.Rght.v,m=r.Top.v,O=r.Btom.v;if(N=="unitRect"||N=="radii"||N=="Rctn"){F=F.val;
h=h.val;m=m.val;O=O.val}return[F,m,h,O]};w.UI.As=function(r,N){w.UI.x8(r.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],N)};
w.UI.cm=function(r){return w.UI.VV(r.keyOriginRRectRadii.v)};w.UI.VV=function(r){var N=[],F=["topLeft","topRight","bottomRight","bottomLeft"];
for(var h=0;h<4;h++)N.push(r[F[h]].v.val);return N};w.UI.PA=function(r,N){w.UI.x8(r.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],N)};
w.UI.x8=function(r,N,F){var h=r.classID;if(h=="unitRect"||h=="radii"||h=="Rctn"){for(var R=0;R<4;R++)if(F[R]!=null)r[N[R]]={t:"UntF",v:{type:"#Pxl",val:F[R]}}}else{for(var R=0;
R<4;R++)if(F[R]!=null)r[N[R]]={t:"doub",v:F[R]}}};w.UI.sh=function(r){var N=r.keyOriginLineStart.v,F=r.keyOriginLineEnd.v;
return[N.Hrzn.v,N.Vrtc.v,F.Hrzn.v,F.Vrtc.v]};w.UI.a6s=function(r,N){var F=r.keyOriginLineStart.v,h=r.keyOriginLineEnd.v;
F.Hrzn.v=N[0];F.Vrtc.v=N[1];h.Hrzn.v=N[2];h.Vrtc.v=N[3]};w.UI.a71=function(r){var N=[],F=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var R=0;R<5;R++){var h=r["keyOriginLineArr"+F[R]];if(h==null)return null;N[R]=h.v}return N};w.UI.a6f=function(r,N){r.keyOriginLineArrowSt={t:"bool",v:N[0]};
r.keyOriginLineArrowEnd={t:"bool",v:N[1]};r.keyOriginLineArrWdth={t:"doub",v:N[2]};r.keyOriginLineArrLngth={t:"doub",v:N[3]};
r.keyOriginLineArrConc={t:"long",v:N[4]}};w.p={};w.p.clone=function(r){return{C:r.C.slice(0),t:r.t.slice(0)}};
w.p.x9=function(r){if(r.length<6)return!0;var N=r.length-4;for(var R=0;R<N;R+=2)if(!w.p.K1(r[R],r[R+1],r[R+2],r[R+3],r[R+4],r[R+5]))return!1;
if(!w.p.K1(r[N],r[N+1],r[N+2],r[N+3],r[0],r[1]))return!1;if(!w.p.K1(r[N+2],r[N+3],r[0],r[1],r[2],r[3]))return!1;
return!0};w.p.K1=function(r,N,F,h,m,O){return(N-h)*(m-F)+(F-r)*(O-h)>=0};w.p.fP=function(r){var N={},F=null,h=0,m={M:2,L:2,Q:4,C:6},O="",e="";
for(var R=0;R<r.C.length;R++){var P=r.C[R];if(P[0]=="#")O=P;else if(P[0]=="X")O="";else if(P[0]=="O"&&P[1]=="-")e=P;
else if(P=="OX")e="";else{var B=O+e;F=N[B];if(F==null)F=N[B]={t:[],C:[]};F.C.push(P);var s=m[P];if(s==null)s=0;
for(var Y=0;Y<s;Y++)F.t.push(r.t[h+Y]);h+=s}}return N};w.p.nN=function(r,N,F){r=w.p.BU(r);var h=r.t,m=r.C,O=0,e=[],P=null;
for(var R=0;R<m.length;R++){var B=m[R];if(B=="M"){P={PS:O,WY:0,Bc:!1};e.push(P);O+=2}if(B=="C"){P.WY++;
O+=6}if(B=="Z"&&P!=null){P.Bc=!0}}var s=[];for(var R=0;R<e.length;R++)if(e[R].WY!=0)s.push(e[R]);e=s;
for(var R=0;R<e.length;R++){var Y=e[R],D=Y.PS,c=D+2+Y.WY*6,H=0;Y.$J=w.p.Ce(h,D,c);var o=h[D]==h[c-2]&&h[D+1]==h[c-1];
for(var x=0;x<Y.WY;x++){var Q=D+x*6,U=Q+6;H+=(h[U]-h[Q])*(h[U+1]+h[Q+1])}if(Y.WY==2){var I=function(n,t,X){var aK=1-X;
return aK*aK*aK*n[t]+3*aK*aK*X*n[t+2]+3*aK*X*X*n[t+4]+X*X*X*n[t+6]},l=h[D],p=h[D+1],j=h[D+6],T=h[D+7],V=h[D+6],E=h[D+7],_=I(h,D,.5),f=I(h,D+1,.5),S=I(h,D+6,.5),L=I(h,D+7,.5);
H=(_-l)*(f-p)+(j-_)*(T-f)+(S-j)*(L-T)+(V-S)*(E-L)}if(!o)H+=(h[D]-h[c-2])*(h[D+1]+h[c-1]);Y.O8=H<=0}for(var R=0;
R<e.length-1;R++)for(var Q=R+1;Q<e.length;Q++){var y=e[R],$=e[Q];if($.$J.w9(y.$J)){e[R]=$;e[Q]=y}}var Z=e.length==0?!0:e[0].O8,i=[{type:6},{type:8,all:0}];
for(var R=0;R<e.length;R++){var Y=e[R],D=Y.PS,c=D+2+Y.WY*6,o=h[D]==h[c-2]&&h[D+1]==h[c-1],b=Y.Bc||o?0:3,G=Y.O8==Z&&!N?1:0;
if(!N&&R!=0){if(e[R-1].$J.w9(Y.$J)&&e[R-1].O8!=Y.O8)G=0;for(var Q=0;Q<e.length;Q++)if(Q!=R&&e[Q].$J.w9(Y.$J))G=0}i.push({type:b,length:Y.WY+(o?0:1),r5:F?1:G,sd:2});
for(var Q=0;Q<Y.WY;Q++){var O=D+Q*6,g=new gS(h[O],h[O+1]),u=new gS(h[O+2],h[O+3]),A;if(Q==0){if(o)A=new gS(h[c-4],h[c-3]);
else A=g.clone()}else A=new gS(h[O-2],h[O-1]);i.push({type:b+2,Q$:A,F:g,lW:u})}if(!o){var a=new gS(h[c-2],h[c-1]);
i.push({type:b+2,Q$:new gS(h[c-4],h[c-3]),F:a,lW:a.clone()})}}for(var Q=0;Q<i.length;Q++){var d=i[Q];
if(d.type>5||d.type==0||d.type==3)continue;var K=d.Q$.cj(d.F)||d.lW.cj(d.lW);if(!K){var y=d.Q$.x*(d.F.y-d.lW.y)+d.F.x*(d.lW.y-d.Q$.y)+d.lW.x*(d.Q$.y-d.F.y);
if(Math.abs(y)<1e-6)K=!0}if(K)d.type--}return i};w.p.tu=function(r,N){var F=w.H.jE(r),h=!1;for(var R=2;
R<r.length;R++){var m=r[R].r5;if(m!=null){if(m==2||m==0||m==3)h=!0}}if((h||N)&&r.length<15e3&&F>1)r=w.H.zE(r);
var O=w.p.aM(r);return{oS:O,xm:h?1:0}};w.p.aM=function(){function r(h,m,O,e){if(!e&&h.lW.cj(h.F)&&m.Q$.cj(m.F)){O.t.push(m.F.x,m.F.y);
O.C.push("L")}else{O.t.push(h.lW.x,h.lW.y,m.Q$.x,m.Q$.y,m.F.x,m.F.y);O.C.push("C")}}function N(h,m,R,O,e,P){var B=m[R];
h.t.push(B.F.x,B.F.y);h.C.push("M");for(var s=R;s<R+O-1;s++)r(m[s],m[s+1],h,P);if(!e)r(m[s],m[R],h,P)}function F(h,m){h=w.H.a52(h);
if(m==null)m=!1;var O={t:[],C:[]};for(var R=0;R<h.length;R++){if(h[R].type>5)continue;var e=h[R].length;
if(e==0)continue;if(R==h.length-1)break;var P=h[R].type==3;N(O,h,R+1,e,P,m);if(!P)O.C.push("Z");R+=e}return O}return F}();
w.p.a0c=function(r){var N=r.t,F=[],h,m=0;for(var R=0;R<r.C.length;R++){var O=r.C[R];if(O=="C"){h.push(N[m++],N[m++],N[m++],N[m++],N[m++],N[m++])}else if(O=="Z"){}else{h=[];
if(O!="M"){h.push(O);R++}h.push(N[m++],N[m++]);F.push(h)}}return F};w.p.a4=function(r,N,F,h){if(h==null)h=1e9;
var m=1e9,O=0;for(var R=0;R<r.length;R+=2){var e=N-r[R],P=F-r[R+1],B=e*e+P*P;if(B<m){m=B;O=R>>>1}}return m<h*h?O:-1};
w.p.E_=function(r,N,F,h){for(var R=0;R<r.length;R+=2){var m=r[R],O=r[R+1],e=N[R],P=N[R+1];F[R]=m+(e-m)*h;
F[R+1]=O+(P-O)*h}};w.p.A=function(r,N,F){for(var R=0;R<r.length;R+=2){var h=r[R],m=r[R+1];F[R]=h*N.O$+m*N.KM+N.HG;
F[R+1]=h*N.J+m*N.Bv+N.SS}};w.p.Ce=function(r,N,F){if(N==null)N=0;if(F==null)F=r.length;var h=99999999999,m=-h,O=99999999999,e=-O;
for(var R=N;R<F;R+=2){var P=r[R],B=r[R+1];h=Math.min(h,P);O=Math.min(O,B);m=Math.max(m,P);e=Math.max(e,B)}return new fE(h,O,m-h,e-O)};
w.p.n2=function(r,N){var F=Math.max(N.x,Math.min(N.x+N.e,r.x)),h=Math.max(N.y,Math.min(N.y+N.n,r.y)),m=r.x-F,O=r.y-h;
return Math.sqrt(m*m+O*O)};w.p.Bj=function(r){if(r.lX())return new fE(Math.floor(r.x),Math.floor(r.y),Math.ceil(r.e),Math.ceil(r.n));
var N=Math.floor(r.x),F=Math.ceil(r.x+r.e),h=Math.floor(r.y),m=Math.ceil(r.y+r.n);return new fE(N,h,F-N,m-h)};
w.p.e0=function(r){return w.p.Bj(w.p.Ce(r))};w.p.fc=function(r){var N=r.x,F=r.y,h=r.x+r.e,m=r.y+r.n;
return{C:["M","L","L","L","Z"],t:[N,F,h,F,h,m,N,m]}};w.p.concat=function(r,N,F){if(F==null)F=new hc;
for(var R=0;R<N.t.length;R+=2){var h=N.t[R],m=N.t[R+1];r.t.push(h*F.O$+m*F.KM+F.HG);r.t.push(h*F.J+m*F.Bv+F.SS)}for(var R=0;
R<N.C.length;R++)r.C.push(N.C[R])};w.p.BU=function(r){var N=r.t,F=[],h=[],m=0,O=0,e=0,P=0,B=0,s=0,Y=0,D=0,c=0;
for(var R=0;R<r.C.length;R++){var o=r.C[R];if(o=="M"){O=N[m];e=N[m+1];m+=2;h.push(o);F.push(O,e)}else if(o=="C"){P=N[m];
B=N[m+1];s=N[m+2];Y=N[m+3];D=N[m+4];c=N[m+5];m+=6;h.push(o);F.push(P,B,s,Y,D,c);O=D;e=c}else if(o=="Q"){P=N[m];
B=N[m+1];s=N[m+2];Y=N[m+3];m+=4;var H=P-O,x=B-e,Q=s-P,U=Y-B;h.push("C");F.push(O+2/3*H,e+2/3*x,P+1/3*Q,B+1/3*U,s,Y);
O=s;e=Y}else if(o=="L"){P=N[m];B=N[m+1];m+=2;var I=P-O,l=B-e;h.push("C");F.push(O,e,P,B,P,B);O=P;e=B}else h.push(o)}return{C:h,t:F}};
w.p.a6o=function(r){var N=r.t,F=[],h=[],m=0;for(var R=0;R<r.C.length;R++){var O=r.C[R];if(O=="Q"){var e=N[m-2],P=N[m-1],B=N[m],s=N[m+1],Y=N[m+2],D=N[m+3];
m+=4;var c=B-e,o=s-P,H=Y-B,x=D-s;h.push("C");F.push(e+2/3*c,P+2/3*o,B+1/3*H,s+1/3*x,Y,D)}else{var Q=0;
if(O=="M"||O=="L")Q=2;else if(O=="C")Q=6;for(var U=0;U<Q;U++)F.push(N[m+U]);m+=Q;h.push(O)}}return{C:h,t:F}};
w.p.Qv=function(r,N){var F=r.t,h=[],m=[],O=0,e=0,P=0,B=0,s=0,Y=0,D=0,c=0,o=0;for(var R=0;R<r.C.length;
R++){var H=r.C[R];if(H=="M"){e=F[O];P=F[O+1];O+=2;m.push(H);h.push(e,P)}else if(H=="C"){B=F[O];s=F[O+1];
Y=F[O+2];D=F[O+3];c=F[O+4];o=F[O+5];O+=6;w.p.o2(e,P,B,s,Y,D,c,o,N,m,h,0);e=c;P=o}else m.push(H)}return{C:m,t:h}};
w.p.o2=function(r,N,F,h,m,O,e,P,B,s,Y,D){var c=Math.sqrt((e-r)*(e-r)+(P-N)*(P-N)),o=Math.sqrt((e-m)*(e-m)+(P-O)*(P-O))+Math.sqrt((m-F)*(m-F)+(O-h)*(O-h))+Math.sqrt((F-r)*(F-r)+(h-N)*(h-N)),H=(c+o)/2;
if(H<=B){s.push("C");Y.push(F,h,m,O,e,P)}else{var x=0,Q=0,U=0,I=0,l=0,p=0,j=0,T=0,V=0,E=0,_=0,f=0,S=0;
Q=(r+F)/2;U=(N+h)/2;I=(F+m)/2;l=(h+O)/2;p=(m+e)/2;j=(O+P)/2;T=(Q+I)/2;V=(U+l)/2;E=(I+p)/2;_=(l+j)/2;
f=(T+E)/2;S=(V+_)/2;w.p.o2(r,N,Q,U,T,V,f,S,B,s,Y,D+1);w.p.o2(f,S,E,_,p,j,e,P,B,s,Y,D+1)}};w.p.L6=function(r,N,F,h,m){var O=Date.now(),e=w.p.anz(r,N,F);
if(m){console.log("trace polygons",Date.now()-O);O=Date.now()}var P=[];for(var R=0;R<e.length;R++){var B=e[R],s=B[0],Y=["M"],D=r[s[1]*N+s[0]];
if(s.length>8)s=w.p.Lx(s,h,B[1]);if(s.length<=4)continue;for(var c=2;c<s.length;c+=2)Y.push("L");Y.push("Z");
P.push({path:{t:s,C:Y},color:D,parent:-1,$J:w.p.Ce(s)})}if(m){console.log("simplify polygons",Date.now()-O);
O=Date.now()}for(var R=1;R<P.length;R++){var o=P[R].$J;for(var c=R-1;c>=0;c--)if(P[c].$J.w9(o)){P[R].parent=c;
break}}if(m){console.log("checking parents",Date.now()-O);O=Date.now()}return P};w.p.anz=function(r,N,F){var h=N*F,m=new Uint16Array(N*F),e=0;
for(var R=0;R<h;R++)m[R]=r[R];var O=new Uint8Array(N*F);O[1*N+1]=O[(F-1)*N+1]=O[1*N+N-1]=O[(F-1)*N+N-1]=1;
for(var P=1;P<F;P++)for(var B=1;B<N;B++){var R=P*N+B,s=m[R-N-1],Y=m[R-N],D=m[R-1],c=m[R],o=s==c&&Y==D&&s!=Y,H=0;
if(c<D){e=c;c=D;D=e}if(D<Y){e=D;D=Y;Y=e}if(Y<s){e=Y;Y=s;s=e}if(c<D){e=c;c=D;D=e}if(D<Y){e=D;D=Y;Y=e}if(c<D){e=c;
c=D;D=e}if(s!=Y)H++;if(Y!=D)H++;if(D!=c)H++;if(c!=s)H++;if(H>=3||o)O[R]=1}var x=[];for(var P=1;P<F;P++)for(var B=1;
B<N;B++){var R=P*N+B;if(m[R]!=m[R-1]){var Q=w.p.amA(m,N,F,B,P),U=[];for(var I=0;I<Q.length;I+=2)if(O[Q[I+1]*N+Q[I]]==1)U.push(I>>>1);
x.push([Q,U]);w.p.SC(m,N,F,B,P)}}return x};w.p.SC=function(r,N,F,h,m){var O=[m*N+h],e=r[m*N+h];r[m*N+h]=65535;
while(O.length!=0){var R=O.pop();r[R]=0;if(r[R+N]==e){O.push(R+N);r[R+N]=65535}if(r[R-N]==e){O.push(R-N);
r[R-N]=65535}if(r[R-1]==e){O.push(R-1);r[R-1]=65535}if(r[R+1]==e){O.push(R+1);r[R+1]=65535}}};w.p.amA=function(r,N,F,h,m){var O=[0,-1,1,0,0,1,-1,0],Y=1;
function e(c,o,Y){var R=s*N+B,H=0;if(Y==0)H=R-N;else if(Y==1)H=R;else if(Y==2)H=R-1;else if(Y==3)H=R-N-1;
return r[H]}var P=[],B=h,s=m,D=e(B,s,Y);do{P.push(B,s);B+=O[Y*2];s+=O[Y*2+1];if(e(B,s,Y)!=D)Y=Y+1&3;
else if(e(B,s,Y+3&3)!=D)Y=Y;else if(e(B,s,Y+2&3)!=D)Y=Y+3&3}while(B!=h||s!=m);return P};w.p.Lx=function(r,N,F){var h=r.length-2;
if(F&&F.length!=0){var m=F[0]*2,O=F[F.length-1]*2,e=m==0?h:m-2,P=r.slice(O);for(var R=0;R<m;R++)P.push(r[R]);
if(m==O)P.push(.9*r[m]+.1*r[e],.9*r[m+1]+.1*r[e+1]);else P.push(r[m],r[m+1]);P=w.p.Wo(P,N);P.pop();P.pop();
for(var R=0;R<F.length-1;R++){var B=r.slice(F[R]*2,F[R+1]*2+2);B=w.p.Wo(B,N);for(var s=0;s<B.length-2;
s++)P.push(B[s])}return P}var Y=r.slice(0);Y.push(.9*r[0]+.1*r[h],.9*r[1]+.1*r[h+1]);Y=w.p.Wo(Y,N);Y.pop();
Y.pop();return Y};w.p.Wo=function(r,N){var F=r.length-2,h=r[0],m=r[1],O=r[F],e=r[F+1],P=O-h,B=e-m,s=1/Math.sqrt(P*P+B*B),Y=O*m-e*h,D=-1,c=-1,o=0;
for(var R=2;R<F;R+=2){var H=r[R],x=r[R+1],Q=x*x*1e6+H*H,U=Math.abs(B*H-P*x+Y)*s;if(U>c||U==c&&Q>o){c=U;
D=R;o=Q}}if(c<N)return[h,m,O,e];var I=w.p.Wo(r.slice(0,D+2),N),l=w.p.Wo(r.slice(D),N);for(var R=2;R<l.length;
R++)I.push(l[R]);return I};w.p.asm=function(){var r=function(h,m,O,e,P,B){return(m-e)*(P-O)+(O-h)*(B-e)>=0},N=function(h,m,O,e,P,B,s,Y){var D=s-O,c=Y-e,o=P-O,H=B-e,x=h-O,Q=m-e,U=D*D+c*c,I=D*o+c*H,l=D*x+c*Q,p=o*o+H*H,j=o*x+H*Q,T=1/(U*p-I*I),V=(p*l-I*j)*T,E=(U*j-I*l)*T;
return V>=0&&E>=0&&V+E<1},F=function(h){var j_=h.length>>>1,R=0;if(j_<3)return[];var m=[],O=[];for(var R=0;
R<j_;R++)O.push(R);var e=j_;while(e>3){var P=O[(R+0)%e],B=O[(R+1)%e],s=O[(R+2)%e],Y=h[2*P],D=h[2*P+1],c=h[2*B],o=h[2*B+1],H=h[2*s],x=h[2*s+1],Q=!1;
if(r(Y,D,c,o,H,x)){Q=!0;for(var U=0;U<e;U++){var I=O[U];if(I==P||I==B||I==s)continue;if(N(h[2*I],h[2*I+1],Y,D,c,o,H,x)){Q=!1;
break}}}if(Q){m.push(P,B,s);O.splice((R+1)%e,1);e--;R=0}else if(R++>3*e)break}m.push(O[0],O[1],O[2]);
return m};return F}();w.p.a4e=function(r,N){var F={},h={C:[],t:[]};for(var R=0;R<N.length;R+=3){var m=N[R]*2,O=N[R+1]*2,e=N[R+2]*2;
w.p.Tl(r,m,O,h,F);w.p.Tl(r,m,e,h,F);w.p.Tl(r,O,e,h,F)}return h};w.p.Tl=function(r,N,F,h,m){if(N>F){var O=F;
F=N;N=O}if(m[N+","+F])return;m[N+","+F]=!0;h.C.push("M","L");h.t.push(r[N],r[N+1],r[F],r[F+1])};w.p.K_=function(r,N){var F=[],h=r.length;
for(var R=0;R<h;R+=2){var m=r[R],O=r[R+1],e=r[(R+2)%h],P=r[(R+3)%h];if(P<O){var B=O;O=P;P=B}if(O<N&&N<P){var s=(N-O)/(P-O);
F.push(m+s*(e-m))}}F.sort(function(Y,D){return Y-D});return F};w.p.cC=function(r,N,F,h,m,O,e){var P=r-F,B=N-h,s=m-F,Y=O-h,D=1/Math.sqrt(P*P+B*B),c=1/Math.sqrt(s*s+Y*Y),o=P*D,H=B*D,x=s*c,Q=Y*c,U=H*e,I=-o*e,l=-Q*e,p=x*e,j=w.p.yq(U,I,o,H,l,p,x,Q),T=U+o*j,V=I+H*j,j=w.p.yq(0,0,o,H,T,V,-H,o),E=o*j,_=H*j;
return[Math.sqrt(E*E+_*_),o,H,x,Q]};w.p.a2j=function(r,N,F,h,m,O,e){var P=w.p.cC(r,N,F,h,m,O,e),B=P[0],s=P[1],Y=P[2],D=P[3],c=P[4],o=Math.atan2(s*c-Y*D,s*D+Y*c);
if(o<0){o=o*-1}var H=Math.PI-o,x=4/3*Math.tan(H/4),Q=F+B*s,U=h+B*Y,I=F+B*D,l=h+B*c,p=Q+x*e*-s,j=U+x*e*-Y,T=I+x*e*-D,V=l+x*e*-c;
return[0,0,Q,U,p,j,T,V,I,l]};w.p.yq=function(r,N,F,h,m,O,e,P){var B=e*(N-O)-P*(r-m),s=P*F-e*h;if(s==0)return 0;
return B/s};w.p.arb=function(r,N,F,h,m,O){return r*(h-O)+F*(O-N)+m*(N-h)};w.p.arA=function(r){function N($,Z,i,b,G,g,u,A,a){var d=w.p.yq($,Z,i,b,G,g,u,A);
a.push($+i*d,Z+b*d)}var F=[],h=r.length,m=[];for(var R=0;R<h;R+=2){var O=R==0?h-2:R-2,e=R==h-2?0:R+2,P=r[R],B=r[R+1],s=P-r[O],Y=B-r[O+1],D=r[e]-P,c=r[e+1]-B,o=Math.sqrt(s*s+Y*Y),H=Math.sqrt(D*D+c*c);
m.push(H);var x=o/(o+H),Q=P-s*.5,U=B-Y*.5,I=P+D*.5,l=B+c*.5,p=(r[e]+r[O])*.5,j=(r[e+1]+r[O+1])*.5,T=Q+x*(I-Q),V=U+x*(l-U),E=P-T,_=B-V,f=(D*-s+c*-Y)/(o*H),S=(x-.5)*7,L=1+S*x,y=1-S*(1-x);
F.push(Q+E*L,U+_*L,I+E*y,l+_*y)}return F};w.wW=function(){};w.wW.cc=function(r,N,F,h,m){var O=F.e,e=F.n,P=O*e,B=new Int32Array(P),j_=0;
for(var R=0;R<P;R++)if(N[R]!=0){B[R]=j_;j_++}else if(r[(R<<2)+3]<200){B[R]=-2}else B[R]=-1;if(j_==0)return;
var s=new w.$i(j_,j_),Y=new Array(3*j_),D=new Array(3*j_);for(var R=0;R<D.length;R++)D[R]=Y[R]=0;var c=1/255,o=[-O,-1,1,O],H=[],x=[];
for(var Q=0;Q<e;Q++)for(var U=0;U<O;U++){var I=Q*O+U,l=I<<2,R=B[I],p=R*3,j=0,T=0,V=0;if(R==-1||R==-2)continue;
for(var E=0;E<4;E++){if(E==2){T=V;H[V]=0;x[V]=R;V++}var _=I+o[E],f=_<<2,S=B[_];if(E==0&&Q==0||E==1&&U==0||E==2&&U==O-1||E==3&&Q==e-1||S==-2)continue;
j++;if(S==-1){Y[p+0]+=r[f+0];Y[p+1]+=r[f+1];Y[p+2]+=r[f+2]}else{H[V]=-1;x[V]=S;V++;if(N[I]==N[_]){Y[p+0]+=r[l+0]-r[f+0];
Y[p+1]+=r[l+1]-r[f+1];Y[p+2]+=r[l+2]-r[f+2]}}}H[T]=j;s.Ad(H,x,V)}for(var R=0;R<P;R++)if(B[R]!=-1){var L=R<<2,y=B[R],$=y*3;
D[$]=r[L+0];D[$+1]=r[L+1];D[$+2]=r[L+2]}var Z=Date.now();s.auc(D,Y,h,m);console.log(Date.now()-Z);for(var R=0;
R<P;R++){var y=B[R],i=y*3,L=R<<2;if(y==-1||r[L+3]!=255)continue;r[L+0]=~~(.5+Math.max(0,Math.min(255,D[i+0])));
r[L+1]=~~(.5+Math.max(0,Math.min(255,D[i+1])));r[L+2]=~~(.5+Math.max(0,Math.min(255,D[i+2])))}};w.rect={};
w.rect.iw=function(r,N){var F=[r],h=[];for(var R=0;R<N.length;R++){var m=N[R],O=!1;for(var e=R+1;e<N.length;
e++){var P=N[e];if(P[0]<=m[0]&&P[1]<=m[1]&&m[2]<=P[2]&&m[3]<=P[3]){O=!0;break}}if(!O)h.push(m)}N=h;for(var R=0;
R<N.length;R++){var m=N[R];for(var e=0;e<F.length;e++){var P=F[e],B=Math.max(m[0],P[0]),s=Math.min(m[2],P[2]),Y=Math.max(m[1],P[1]),D=Math.min(m[3],P[3]);
if(B<s&&Y<D){var c=[];if(P[1]<m[1]){var o=P.slice(0);o[3]=m[1];c.push(o)}if(P[0]<m[0]){var H=P.slice(0);
H[1]=Y;H[2]=m[0];c.push(H)}if(m[2]<P[2]){var x=P.slice(0);x[1]=Y;x[0]=m[2];c.push(x)}if(m[3]<P[3]){var Q=[B,D,s,P[3]];
c.push(Q)}if(c.length!=0){F[e]=c[0];for(var U=1;U<c.length;U++)F.push(c[U])}}}F.push(m);F=w.rect.a6z(F)}F.sort(function(m,P){return m[1]!=P[1]?m[1]-P[1]:m[0]-P[0]});
for(var R=1;R<F.length;R++){var m=F[R-1],P=F[R];if(m[0]==P[0]&&m[1]==P[1]&&m[2]==P[2]&&m[3]==P[3]){F.splice(m[4]==null?R-1:R,1);
R--}}return F};w.rect.a6z=function(r){r=r.slice(0);for(var R=0;R<r.length;R++){var N=r[R],F=null;if(N[4]!=null)continue;
for(var h=0;h<r.length;h++){var m=r[h];if(R==h||m[4]!=null)continue;var O=N[0]==m[0],e=N[1]==m[1],P=N[2]==m[2],B=N[3]==m[3];
if(e&&B&&(N[2]==m[0]||N[0]==m[2])){F=[Math.min(N[0],m[0]),N[1],Math.max(N[2],m[2]),N[3]]}if(O&&P&&(N[3]==m[1]||N[1]==m[3])){F=[N[0],Math.min(N[1],m[1]),N[2],Math.max(N[3],m[3])]}if(F){r[R]=F;
r.splice(h,1);break}}if(F){R--}}return r};w.rect.Lj=function(r){var N=new fE;for(var R=0;R<r.length;
R++)N=N.fD(r[R]);return N};w.rect.a9X=function(r,N){var F=w.rect.Lj,h=new UnionFind(r.length),T=1e3,V=1e3;
for(var R=0;R<r.length;R++)for(var m=R+1;m<r.length;m++){if(!N)continue;var O=r[R],e=r[m],D=1e9,c=1e9;
if(O.PC(e)){h.link(R,m);continue}var P=O.x+O.e,B=O.y+O.n,s=e.x+e.e,Y=e.y+e.n;if((P<e.x||s<O.x)&&(B<e.y||Y<O.y))continue;
if(!(B<e.y||Y<O.y))D=Math.min(Math.abs(P-e.x),Math.abs(O.x-s));if(!(P<e.x||s<O.x))c=Math.min(Math.abs(B-e.y),Math.abs(O.y-Y));
var o=Math.min(D,c),H=Math.min(O.e,O.n,e.e,e.n);if(o<.3*H)h.link(R,m)}var x=[],Q={};for(var R=0;R<r.length;
R++){var U=h.find(R),I=r[R];if(Q[U]==null){Q[U]=x.length;x.push([])}x[Q[U]].push(I)}var l=[],p=[];for(var R=0;
R<x.length;R++){l.push(F(x[R]));var j=F(x[R]);j.Xx=R;p.push(j)}p.sort(function(b,G){return Math.max(G.n,G.e)-Math.max(b.n,b.e)});
var E=new NETXUS.RectanglePacker(T,V);while(!0){var _=!1;E.reset(T,V);for(var R=0;R<p.length;R++){var f=E.findCoords(p[R].e,p[R].n);
if(f){p[R].x=f.x;p[R].y=f.y}else{T=Math.floor(T*1.1);V=Math.floor(V*1.1);_=!0;break}}if(_)continue;break}for(var R=0;
R<x.length;R++){var S=p[R],L=S.Xx,y=l[L],$=x[L],Z=S.x-y.x,i=S.y-y.y;for(var m=0;m<$.length;m++)$[m].offset(Z,i)}};
w.Lt=function(){};w.Lt.Qk=Math.floor(16*window.devicePixelRatio);w.Lt.Us={};w.Lt.nh=0;w.Lt.mh=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
w.Lt.alO=["px","in","cm","mm","%"];w.Lt.Ky=function(r,N,F,h){var m=[1,N,N/2.54,N/25.4,F/100][h];return r*m};
w.Lt.agz=function(r,N,F,h){var m=[1,N,N/2.54,N/25.4,F/100][h];return r/m};w.Lt.Ip=function(r,N,F,h,m){var O=F.ec.W3,e=[1,N,N/2.54,N/25.4,h/100][O],P=[2,3,2,1,2][O];
r=r/e;var B=Math.round(r),s=O==0&&Math.abs(r-B)<1e-6?B+"":r.toFixed(P);if(m)s+=" "+w.Lt.alO[O];return s};
w.Lt.abJ=function(r,N,F,h){var m=F.ec.W3,O=[1,N,N/2.54,N/25.4,h/100][m];r=parseFloat(r)*O;return r};
w.Lt.aiV=function(r,N){var F=r+","+N;if(w.Lt.Us.clr==F)return;var h=Math.round(w.Lt.Qk*.5);w.Lt.nh=h;
var m=document.createElement("canvas");m.width=m.height=h;var O=m.getContext("2d");O.font=h*1.5+"px monospace";
var e="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var R=0;R<e.length;R++){O.fillStyle="#"+w.GG(N);O.fillRect(0,0,h,h);
O.fillStyle="#"+w.GG(r);O.fillText(e[R],0,h);w.Lt.Us[e[R]]=O.getImageData(0,0,h,h).data}w.Lt.Us.clr=F};
w.Lt.avs=function(r,N,F){var h=0,m=0,O=4*w.Lt.Qk;for(var R=9;R>=0;R--){var e=Math.pow(10,R);if(5*e*r<=O){h=5*e;
m=10;break}if(2*e*r<=O){h=2*e;m=4;break}if(1*e*r<=O){h=1*e;m=10;break}}if(h==0){h=1;m=10}var P=Math.ceil(h*r),B=w.B(P*w.Lt.Qk*4);
w.T1(B,4278190080|F);for(var R=0;R<w.Lt.Qk;R++)w.Lt.sI(B,4*R*P,N);for(var R=0;R<P;R++)w.Lt.sI(B,4*((w.Lt.Qk-1)*P+R),N);
if(h==2)m=2;if(h==5)m=5;if(h>1||h==1&&P>20)for(var R=1;R<m;R++)w.Lt.a1k(B,R*(P/m),P,(R&1)==1?.8:.7,N);
return{l1:B,step:h}};w.Lt.a1k=function(r,N,F,h,m){var N=Math.round(N);for(var O=Math.round(w.Lt.Qk*h);
O<w.Lt.Qk-1;O++)w.Lt.sI(r,4*(O*F+N),m)};w.Lt.sI=function(r,N,F){r[N+0]=F>>16&255;r[N+1]=F>>8&255;r[N+2]=F&255};
w.Lt.a4t=function(r,N,F,h,m,O,e){var P=r.Yg.e,B=r.Yg.n,s=w.Lt.Qk,Y=N&255,D=N>>8&255,c=N>>16&255;N=Math.round(Y*.6)<<16|Math.round(D*.6)<<8|Math.round(c*.6);
w.Lt.aiV(Math.round(Y*.8)<<16|Math.round(D*.8)<<8|Math.round(c*.8),F);var o=r.O,H=r.r,x=r.MJ;for(var Q=0;
Q<2;Q++){var U=Q==0?O:e;r.O=U[0];r.r=U[1];r.MJ=0;var I=this.avs(r.O,N,F),l=r.RX(0,0),p=r.RX(P,B),j=Math.floor(l.x/I.step)*I.step,T=Math.ceil(p.x/I.step)*I.step,V=Math.floor(l.y/I.step)*I.step,E=Math.ceil(p.y/I.step)*I.step,_=r.l9(j,V),f=r.l9(T,V),S=I.step*r.O,L=Math.ceil(S);
if(Q==1){var y=I.l1;I.l1=w.B(y.length*4);w.N.Vu(y,I.l1,L,s)}var $=Q==0?r.eh.data:r.th.data,Z=new fE(0,0,[P,s][Q],[s,B][Q]),i=new fE(0,0,[L,s][Q],[s,L][Q]),b=new fE([0,Math.round(s*.2)][Q],[Math.round(s*.08),0][Q],w.Lt.nh,w.Lt.nh),G=(Q==0?T-j:E-V)/I.step;
for(var R=0;R<G;R++){if(Q==0)i.x=Math.round(_.x+R*S);else i.y=Math.round(_.y+R*S);w.L3(I.l1,i,$,Z,i);
var g=(Q==0?j+R*I.step:Math.abs(V+R*I.step)).toString(10);for(var u=0;u<g.length;u++){if(Q==0)b.x=i.x+3+u*Math.round(w.Lt.nh*.8);
else b.y=i.y+3+u*Math.round(w.Lt.nh*1.15);var A=w.Lt.Us[g[u]];w.L3(A,b,$,Z,b)}}}r.O=o;r.r=H;r.MJ=x;var a=Math.floor(s*.6),d=new Uint32Array(r.eh.data.buffer),K=new Uint32Array(r.th.data.buffer),n=Y<128?4278190080:4294967295;
if(0<h&&h<P)for(var R=0;R<a;R++)d[R*P+h]=n;if(0<m&&m<B)for(var R=0;R<a;R++)K[m*s+R]=n};w.scale={};w.scale.D=document.createElement("canvas");
w.scale.Az=w.scale.D.getContext("2d");w.scale.dA=document.createElement("canvas");w.scale.r9=w.scale.dA.getContext("2d");
w.scale.Rf=function(r,N,F){var h=w.scale.D,m=w.scale.Az;h.width=N;h.height=F;var O=new ImageData(new Uint8ClampedArray(r.buffer),N,F);
m.putImageData(O,0,0);return m.createPattern(h,"repeat")};w.scale.Qs=function(r,N,F,h,m,O,e,P,B){var s=w.scale.anc(r,F,h,m,O,e,P,B).data;
if(N)w.ZF(s,N);return new Uint8Array(s.buffer)};w.scale.anc=function(r,N,F,h,m,O,e,P){var B=w.scale.D,s=w.scale.Az;
B.width=N;B.height=F;s.rect(0,0,N,F);s.translate(O,e);s.scale(h,m);if(P!=null)s.rotate(-P);s.fillStyle=r;
s.fill();return s.getImageData(0,0,N,F)};w.scale.A=function(r,N,F,h,m){var O=F.clone();O.iL();var e=m.e,P=m.n,B=w.p.fc(N).t;
w.p.A(B,O,B);var s=w.p.e0(B).c_(m),Y=s.x,D=s.y,c=Y+s.e,o=D+s.n,H=~~N.x,x=~~N.y,Q=~~N.e,U=~~N.n;for(var I=D;
I<o;I++)for(var l=Y;l<c;l++){var p=l+.5,j=I+.5,T=F.O$*p+F.KM*j+F.HG-H,V=F.J*p+F.Bv*j+F.SS-x;if(0<=T&&0<=V&&T<Q&&V<U)h[I*e+l]=r[~~V*Q+~~T]}};
w.scale.gG=function(r,N,F,h,m){var O=new Uint32Array(r.buffer),e=new Uint32Array(h.buffer),P=F.clone();
P.iL();var B=m.e,s=m.n,Y=w.p.fc(N).t;w.p.A(Y,P,Y);var D=w.p.e0(Y).c_(m),c=D.x,o=D.y,H=c+D.e,x=o+D.n,Q=~~N.x,U=~~N.y,I=~~N.e,l=~~N.n;
for(var p=o;p<x;p++)for(var j=c;j<H;j++){var T=j+.5,V=p+.5,E=F.O$*T+F.KM*V+F.HG-Q,_=F.J*T+F.Bv*V+F.SS-U;
if(0<=E&&0<=_&&E<I&&_<l)e[p*B+j]=O[~~_*I+~~E]}};w.scale.Yw=function(r,N,F,h,m,O,e){if(e<1)w.scale.a3G(r,N,F,h,m,O,Math.round(1/e));
else w.scale.akq(r,N,F,h,m,O,e)};w.scale.wd=function(r,N,F,h,m,O,e,P){if(P)P=P.c_(new fE(0,0,N,F));r=new Uint32Array(r.buffer);
h=new Uint32Array(h.buffer);if(e<1)w.scale.ann(r,N,F,h,m,O,Math.round(1/e),P);else w.scale.af1(r,N,F,h,m,O,e)};
w.scale.akq=function(r,N,F,h,m,O,e){for(var P=0;P<F;P++)for(var B=0;B<N;B++){var s=r[P*N+B],Y=Math.min(e,m-B*e),D=Math.min(e,O-P*e);
for(var R=0;R<D;R++)for(var c=0;c<Y;c++)h[(e*P+R)*m+e*B+c]=s}};w.scale.a3G=function(r,N,F,h,m,O,e){for(var P=0;
P<O;P++)for(var B=0;B<m;B++){var s=0,Y=Math.min(e,N-B*e),D=Math.min(e,F-P*e);for(var R=0;R<D;R++)for(var c=0;
c<Y;c++)s+=r[(e*P+R)*N+(e*B+c)];h[P*m+B]=Math.round(s/(Y*D))}};w.scale.af1=function(r,N,F,h,m,O,e){for(var P=0;
P<F;P++)for(var B=0;B<N;B++){var s=r[P*N+B],Y=Math.min(e,m-B*e),D=Math.min(e,O-P*e);for(var R=0;R<D;
R++)for(var c=0;c<Y;c++)h[(e*P+R)*m+e*B+c]=s}};w.scale.aom=function(r,N,F){return(r>>>F&255)+(N>>>F&255)>>>1};
w.scale.bG=function(r,N){var F=w.scale.aom;return F(r,N,24)<<24|F(r,N,16)<<16|F(r,N,8)<<8|F(r,N,0)};
w.scale.ad8=function(r,N,F,h,m,O){var e=new Uint32Array(r.buffer),P=new Uint32Array(h.buffer);for(var B=0;
B<F;B++){for(var s=0;s<N;s++){var Y=B*N+s,D=e[Y],c=D,o=D,H=D;if(s<N-1)c=w.scale.bG(D,e[Y+1]);if(B<F-1)o=w.scale.bG(D,e[Y+N]);
if(s<N-1&&B<F-1)H=w.scale.bG(D,e[Y+N+1]);var x=(B*m+s)*2;P[x]=D;P[x+1]=c;P[x+m]=o;P[x+m+1]=H}}if((m&1)==1)for(var B=0;
B<O;B++)P[B*m+m-1]=P[B*m+m-2];var Q=m*(O-1);if((O&1)==1)for(var s=0;s<m;s++)P[Q+s]=P[Q-m+s]};w.scale.ann=function(r,N,F,h,m,O,e,P){var B=0,s=m,Y=0,D=O;
if(P){B=Math.floor(P.x/e);s=Math.ceil((P.x+P.e)/e);Y=Math.floor(P.y/e);D=Math.ceil((P.y+P.n)/e)}for(var c=Y;
c<D;c++)for(var o=B;o<s;o++){var H=0,x=0,Q=0,U=0,I=Math.min(e,N-o*e),l=Math.min(e,F-c*e);for(var R=0;
R<l;R++)for(var p=0;p<I;p++){var j=r[(e*c+R)*N+e*o+p],T=j>>>24;H+=T;x+=T*(j>>>16&255);Q+=T*(j>>>8&255);
U+=T*(j&255)}if(H!=0){var V=1/H;h[c*m+o]=H/(I*l)<<24|x*V<<16|Q*V<<8|U*V}else h[c*m+o]=0}};w.$={};w.$.a0S=function(r,N,F){var h=128,R=0,m=F.e,O=F.n;
for(var e=0;e<O;e++)for(var P=0;P<m;P++){if(r[R]>=h&&(P==0||r[R-1]<h||(P==m-1||r[R+1]<h)||(e==0||r[R-m]<h)||(e==O-1||r[R+m]<h)))N[R]=255;
R++}};w.$.a8y=function(r,N,F,h){var m=new Uint32Array([4278190080,4294967295]),O=F.e,e=F.n,P=0,B=0,s=O,Y=e;
if(h){P=h.x-F.x;B=h.y-F.y;s=P+h.e;Y=B+h.n}var D=new Uint8Array(N.buffer),c=new Uint32Array(N.buffer);
for(var o=B;o<Y;o++)for(var H=P;H<s;H++){var R=o*O+H;if((r[R]&128)!=0&&(o==0||(r[R-O]&128)==0||H==0||(r[R-1]&128)==0||H==O-1||(r[R+1]&128)==0||o==e-1||(r[R+O]&128)==0)){c[R]=m[(H+o&4)>>>2]}}};
w.$.a10=function(r,N,F,h,m,O){var e=F.e,P=F.n,B=0,s=0,Y=e,D=P;if(h){B=h.x-F.x;s=h.y-F.y;Y=B+h.e;D=s+h.n}var c=new Uint8Array(N.buffer),o=new Uint32Array(N.buffer);
for(var H=s;H<D;H++)for(var x=B;x<Y;x++){var R=H*e+x,Q=r[R];if(m==1)o[R]=255-Q>>>1<<24|255;else o[R]=255<<24|(Q<<16|Q<<8|Q)}};
w.Ed={};w.Ed.d_=function(r,N,F){var h,m;if(F==0){h=r.rect.clone();m=w.Ed.atY}if(F==1){h=r.rect.fD(N.rect);
m=w.Ed.fD}if(F==2){h=N.rect.clone();m=w.Ed.a7j}if(F==3){h=r.rect.c_(N.rect);m=w.Ed.c_}if(F==4){h=r.rect.fD(N.rect);
m=w.Ed.avK}if(h.lX())return null;var O=w.B(h.W());w.nZ(N.channel,N.rect,O,h);var e=w.B(h.W());w.nZ(r.channel,r.rect,e,h);
m(e,O,O);var P=w.va(O,h);if(P.lX())return null;if(!P.cj(h)){var B=w.B(P.W());w.nZ(O,h,B,P);O=B;h=P}return{channel:O,rect:h}};
w.Ed.atY=function(r,N,F){for(var R=0;R<r.length;R++)F[R]=r[R]};w.Ed.fD=function(r,N,F){for(var R=0;R<r.length;
R++)F[R]=Math.min(r[R]+N[R],255)};w.Ed.a7j=function(r,N,F){for(var R=0;R<r.length;R++)F[R]=Math.max(N[R]-r[R],0)};
w.Ed.c_=function(r,N,F){var h=1/255;for(var R=0;R<r.length;R++)F[R]=r[R]*N[R]*h};w.Ed.avK=function(r,N,F){var h=1/255;
for(var R=0;R<r.length;R++)F[R]=Math.min(r[R]+N[R],255)-r[R]*N[R]*h};w.$i=function(r,N){this.c=[];this._l=[0];
this.ZH=[];this.dB=[];this.lx=[0];this.qk=[];this.sG=[];this.rows=r;this.cols=N};w.$i.prototype.clone=function(){var r=this,N=r.rows,F=r.cols,h=new w.$i(N,F);
h.c=r.c.slice(0);h._l=r._l.slice(0);h.ZH=r.ZH.slice(0);h.dB=r.dB.slice(0);h.lx=r.lx.slice(0);h.qk=r.qk.slice(0);
h.sG=r.sG.slice(0);return h};w.$i.prototype.Ad=function(r,N,F){var h=this._l.length-1;for(var R=0;R<F;
R++){var m=r[R],O=N[R];this.c.push(m);this.ZH.push(O);if(O==h){this.sG.push(m==0?0:1/m)}else{this.dB.push(m);
this.qk.push(O)}}this._l.push(this.c.length);this.lx.push(this.dB.length)};w.$i.prototype.NZ=function(r,N){var F=this,h=F.rows,m=F.c,O=F.ZH;
if(N==null)N=new Array(h);for(var R=0;R<h;R++){var e=F._l[R],P=F._l[R+1],B=0;while((P-e&3)!=0){B+=m[e]*r[O[e]];
e++}for(var s=e;s<P;s+=4)B+=m[s]*r[O[s]]+m[s+1]*r[O[s+1]]+m[s+2]*r[O[s+2]]+m[s+3]*r[O[s+3]];N[R]=B}return N};
w.$i.prototype.multiply=function(r){return this.CR(r.Vu())};w.$i.prototype.CR=function(r){var N=this,F=N.rows,h=N.cols,m=r.rows,O=new w.$i(F,m),e=N.ZH,P=r.ZH;
for(var R=0;R<F;R++){var B=[],s=[],Y=N._l[R],D=N._l[R+1];for(var c=0;c<m;c++){var o=r._l[c],H=r._l[c+1],x=0,Q=Y,U=o;
while(Q<D&&U<H){var I=Math.max(e[Q],P[U]);while(Q<D&&e[Q]<I)Q++;while(U<H&&P[U]<I)U++;if(Q<D&&U<H&&e[Q]==P[U])x+=N.c[Q++]*r.c[U++]}if(x!=0){B.push(x);
s.push(c)}}O.Ad(B,s,B.length)}return O};w.$i.prototype.Vu=function(){var r=this.rows,N=this.cols,F=[];
for(var R=0;R<N;R++)F.push([[],[]]);var h=this.c,m=this._l,O=this.ZH;for(var R=0;R<r;R++){var e=m[R],P=m[R+1];
for(var B=e;B<P;B++){var s=F[O[B]];s[0].push(h[B]);s[1].push(R)}}var Y=new w.$i(N,r);for(var R=0;R<N;
R++)Y.Ad(F[R][0],F[R][1],F[R][1].length);return Y};w.$i.prototype.a$=function(){var r=this.rows,N=this.cols,F=new Array(r),h=this.c,m=this._l,O=this.ZH;
for(var R=0;R<r;R++){var e=F[R]=new Array(N);for(var P=0;P<N;P++)e[P]=0;var B=m[R],s=m[R+1];for(var Y=B;
Y<s;Y++)e[O[Y]]=h[Y]}return F};w.$i.prototype.Ur=function(r,N,F,h,m){function O(V,N,E,_){var f=V.length;
for(var R=0;R<f;R++)_[R]=V[R]-N[R]*E}function e(V,N,E,_){var f=V.length,S=0;while((f-S&3)!=0){_[S]=V[S]+N[S]*E;
S++}for(var R=S;R<f;R+=4){_[R]=V[R]+N[R]*E;_[R+1]=V[R+1]+N[R+1]*E;_[R+2]=V[R+2]+N[R+2]*E;_[R+3]=V[R+3]+N[R+3]*E}}function P(V,N,E){var _=V.length;
for(var R=0;R<_;R++)E[R]=V[R]*N[R]}function B(V,N){var E=V.length,_=0,f=0;while((E-_&3)!=0){f+=V[_]*N[_];
_++}for(var R=_;R<E;R+=4)f+=V[R]*N[R]+V[R+1]*N[R+1]+V[R+2]*N[R+2]+V[R+3]*N[R+3];return f}var s=h!=null?2:1,Y=Date.now(),D=0,c=this,o=r.slice(0),H=r.slice(0);
c.NZ(r,H);O(N,H,1,o);var x=this.sG;if(s==0){x=o.slice(0);x.fill(1)}var Q=o.slice(0);P(x,o,Q);var U=Q.slice(0),I=B(o,Q);
while(!0){c.NZ(U,H);var l=I/B(U,H);e(r,U,l,r);O(o,H,l,o);if((D&7)==0&&Math.sqrt(B(o,o))<F)break;if(s<=1)P(x,o,Q);
else{var p=o.slice(0);h.a4j(p,o);m.aoB(Q,p)}var j=B(o,Q),T=j/I;e(Q,U,T,U);I=j;D++}};w.$i.prototype.au9=function(r,N,F,h){var m=Date.now(),O=1.96,P=0;
if(F==null)F=5e-6;if(h==null)h=1e9;var e=1-O,j_=this.rows,B=this.dB,s=this.lx,Y=this.qk,D=this.sG;while(!0){var c=0;
for(var R=0;R<j_;R++){var o=N[R],H=s[R],x=s[R+1];if(x-H==4)o-=B[H]*r[Y[H]]+B[H+1]*r[Y[H+1]]+B[H+2]*r[Y[H+2]]+B[H+3]*r[Y[H+3]];
else for(var Q=H;Q<x;Q++)o-=B[Q]*r[Y[Q]];var U=r[R]*e+D[R]*o*O,I=U-r[R];c+=I*I;r[R]=U}if(c/j_<F||Date.now()>m+h)break}};
w.$i.prototype.auc=function(r,N,F,h){var m=Date.now(),O=1.96,P=0;if(F==null)F=5e-5;if(h==null)h=1e9;
var e=1-O,j_=this.rows,B=this.dB,s=this.lx,Y=this.qk,D=this.sG;while(!0){var c=0;for(var R=0;R<j_;R++){var o=R*3,H=N[o],x=N[o+1],Q=N[o+2],U=s[R],I=s[R+1];
for(var l=U;l<I;l++){var p=B[l],j=Y[l]*3;H-=p*r[j+0];x-=p*r[j+1];Q-=p*r[j+2]}var T=D[R]*O,V=r[o+0]*e+H*T,E=r[o+1]*e+x*T,_=r[o+2]*e+Q*T,f=V-r[o+0],S=E-r[o+1],L=_-r[o+2];
c+=.4*f*f+.5*S*S+.1*L*L;r[o+0]=V;r[o+1]=E;r[o+2]=_}if(c/j_<F||Date.now()>m+h)break}};w.WC={};w.WC.x1=function(r,N,F){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:r},Vrtc:{t:"doub",v:N},Cnty:{t:"bool",v:F}}}};
w.WC.A=function(r,N){for(var R=0;R<r.length;R++){var F=r[R].v,h=N.eS(new gS(F.Hrzn.v,F.Vrtc.v));F.Hrzn.v=Math.round(h.x);
F.Vrtc.v=Math.round(h.y)}};w.WC.nB=function(r,N,F){var j_=r.length-1,h=w.PB.uw(j_+1,j_+2);for(var R=1;
R<j_;R++){h[R][R-1]=1/(r[R]-r[R-1]);h[R][R]=2*(1/(r[R]-r[R-1])+1/(r[R+1]-r[R]));h[R][R+1]=1/(r[R+1]-r[R]);
h[R][j_+1]=3*((N[R]-N[R-1])/((r[R]-r[R-1])*(r[R]-r[R-1]))+(N[R+1]-N[R])/((r[R+1]-r[R])*(r[R+1]-r[R])))}h[0][0]=2/(r[1]-r[0]);
h[0][1]=1/(r[1]-r[0]);h[0][j_+1]=3*(N[1]-N[0])/((r[1]-r[0])*(r[1]-r[0]));h[j_][j_-1]=1/(r[j_]-r[j_-1]);
h[j_][j_]=2/(r[j_]-r[j_-1]);h[j_][j_+1]=3*(N[j_]-N[j_-1])/((r[j_]-r[j_-1])*(r[j_]-r[j_-1]));w.PB.QM(h,F)};
w.WC.a7R=function(r,N,F,h){if(r<=N[0])return F[0];if(r>=N[N.length-1])return F[N.length-1];var R=1;while(N[R]<r)R++;
var m=N[R],O=N[R-1],e=F[R],P=F[R-1],B=(r-O)/(m-O),s=h[R-1]*(m-O)-(e-P),Y=-h[R]*(m-O)+(e-P),D=(1-B)*P+B*e+B*(1-B)*(s*(1-B)+Y*B);
return D};w.WC.$y=function(r,N,F,h){var m={ex:[r[0]],_S:[N[0]],s6:[]};h[0]=m;for(var R=1;R<r.length-1;
R++){m.ex.push(r[R]);m._S.push(N[R]);if(F[R]==!1){w.WC.nB(m.ex,m._S,m.s6);m={ex:[r[R]],_S:[N[R]],s6:[]}}h[R]=m}m.ex.push(r[R]);
m._S.push(N[R]);w.WC.nB(m.ex,m._S,m.s6);h[R]=m};w.WC.tp=function(r,N,F,h){if(r<=N[0])return F[0];if(r>=N[N.length-1])return F[N.length-1];
var R=1;while(N[R]<r)R++;var m=h[R-1];return w.WC.a7R(r,m.ex,m._S,m.s6)};w.WC.B2=function(r){var N={ex:[],_S:[],Wq:[]};
for(var R=0;R<r.length;R++){N.ex[R]=r[R].v.Hrzn.v;N._S[R]=r[R].v.Vrtc.v;N.Wq[R]=r[R].v.Cnty?r[R].v.Cnty.v:!0}return N};
w.WC.vh=function(r,j_,N){var F=0,h=255;if(N){F=-1e9;h=1e9}var m=w.WC.B2(r),O=[];w.WC.$y(m.ex,m._S,m.Wq,O);
var e=[];for(var R=0;R<j_;R++)e[R]=1/255*Math.max(F,Math.min(h,w.WC.tp(R*(255/(j_-1)),m.ex,m._S,O)));
return e};w.WC.auO=function(r,j_,N){var F=Math.round(r.length/20),h=j_-r.length,m=N?(r[F]-r[0])/F:0,O=N?r[0]-h*m:r[r.length-1],e=[];
for(var R=0;R<h;R++)e.push(O+R*m);return N?e.concat(r):r.concat(e)};w.WC.X8=function(r,j_,N){var F=w.WC.B2(r),h=[];
w.WC.$y(F.ex,F._S,F.Wq,h);var m=new Uint8Array(j_),O=j_/256;for(var R=0;R<j_;R++)m[R]=Math.max(0,Math.min(j_-1,w.WC.tp(R*O,F.ex,F._S,h)));
if(N){m[0]=0;if(m[1]>100)m[1]=.4*m[1];if(m[2]>150)m[1]=.7*m[2]}return m};w.WC._3=function(r,N){var F=new Uint8Array(r.length);
for(var R=0;R<r.length;R++)F[R]=N[r[R]];return F};w.WC.e9=function(r,N,F){var h=document.createElement("canvas");
h.width=N;h.height=F;var m=h.getContext("2d"),O=w.WC.X8(r,256);m.scale(N/255,F/255);m.fillStyle="#fff";
m.fillRect(0,0,255,255);m.fillStyle="#333";m.beginPath();m.moveTo(0,255);for(var R=0;R<O.length;R++)m.lineTo(R,255-O[R]);
m.lineTo(255,255);m.closePath();m.fill();return h.toDataURL()};w.style={};w.style.stroke=function(r,N,F,h){var m=F.e,O=F.n,e=new Float64Array(m*O);
w.style.rZ(r,e,m,O);w.style.wv(N,F,e,F,h)};w.style.wv=function(r,N,F,h,m){var O=N.c_(h),e=O.e,P=O.n;
m+=.5;var B=O.x-N.x,s=O.y-N.y,Y=N.e,D=O.x-h.x,c=O.y-h.y,o=h.e;for(var H=0;H<P;H++){var x=(H+c)*o+D,Q=(H+s)*Y+B;
for(var U=0;U<e;U++){var I=Math.max(0,Math.min(1,m-F[x+U]));r[Q+U]=Math.round(I*255)}}};w.style.auo=function(r,N,F,h){for(var m=0;
m<F;m++)for(var O=0;O<N;O++){var e=m*N+O,P=0,B=0,s=r[e];if(O==0||m==0){P=r[e+1]-s;B=r[e+N]-s}else if(O==F-1||m==N-1){P=s-r[e-1];
B=s-r[e-N]}else{P=r[e+1]-r[e-1];B=r[e+N]-r[e-N]}if(P!=0||B!=0){var Y=1/Math.sqrt(P*P+B*B);P*=Y;B*=Y}h[e+e]=P;
h[e+e+1]=B}};w.style.rZ=function(r,N,F,h){var m=0,O=F*h;for(var R=0;R<O;R++)m|=r[R];if(m==0){N.fill(1e9);
return}var e=w.style.GW(r,F,h);for(var P=0;P<h;P++)for(var B=0;B<F;B++){var R=P*F+B,s=e[R*2],Y=e[R*2+1],D=(P+Y)*F+B+s;
if(s==0&&Y==0){N[R]=0;continue}var c=Math.sqrt(s*s+Y*Y),o=r[D]*(1/255),H=1/c,x=Math.abs(s)*H,Q=Math.abs(Y)*H;
if(Q>x){var U=Q;Q=x;x=U}N[R]=c+w.style.avD(x,Q,o)}};w.style.avD=function(r,N,F){return(.5-F)*r};w.style.GW=function(r,N,F,h){var m=new Int16Array(N*F*2);
w.style.aqE(r,m,N,F,128);return m};w.style.aqE=function(r,N,F,h,m){var O=new Int32Array(F*h);w.style.adT(r,O,F,h,m);
w.style.agk(O,N,F,h)};w.style.adT=function(r,N,F,h,m){var O=new Int32Array(h);for(var e=0;e<F;e++){var P=F+h;
for(var B=h-1;B>=0;B--){if(r[B*F+e]>m)P=0;else P++;O[B]=P}P=F+h;for(var B=0;B<h;B++){if(r[B*F+e]>m)P=0;
else P++;N[B*F+e]=P<O[B]?-P:O[B]}}};w.style.agk=function(r,N,F,h){var m=(F+h)*(F+h),O=new Float64Array(F),e=new Uint16Array(F);
for(var P=0;P<h;P++){var B=P*F,s=0;e[0]=0;O[0]=-m;O[1]=+m;for(var Y=1;Y<F;Y++){var D=r[Y+B]*r[Y+B]+Y*Y,c=(D-(r[e[s]+B]*r[e[s]+B]+e[s]*e[s]))/(2*Y-2*e[s]);
while(c<=O[s]){s--;c=(D-(r[e[s]+B]*r[e[s]+B]+e[s]*e[s]))/(2*Y-2*e[s])}s++;e[s]=Y;O[s]=c;O[s+1]=m}s=0;
for(var Y=0;Y<F;Y++){while(O[s+1]<Y)s++;var o=e[s]-Y,H=r[e[s]+B],R=P*F+Y<<1;N[R]=o;N[R+1]=H}}};w.style.p8=function(r,N,F){if(F)for(var R=0;
R<r.length;R++){var h=r[R];if(h>0)r[R]=Math.max(0,Math.min(255,h+N*2*(w.style.Gc(R)-128)))}else for(var R=0;
R<r.length;R++){var h=r[R];if(h>0)r[R]=Math.max(0,Math.min(255,h+Math.min(h*3,N*2*(w.style.Gc(R)-128))))}};
w.style.Gc=function(r){r=r^61^r>>16;r=r+(r<<3);r=r^r>>4;r=r*668265261;r=r^r>>15;return r&255};w.qt={};
w.qt.Xu=function(r,N,F){var h=r.canvas;if(h.width!=N||h.height!=F){h.width=N;h.height=F}};w.qt.qx=function(r,N,F,h,m,O){w.qt.Xu(r,N,F);
if(O==null)O=!1;var e=m.channel,P=m.rect,B=!m.isEnabled;if(N*F==0)return;var s=r.createImageData(N,F),Y=s.data,D=1/N,c=1/F;
for(var R=0;R<F;R++)for(var o=0;o<N;o++){var H=R*N+o,x=H*4,Q=Math.round(h.x+o*D*h.e),U=Math.round(h.y+R*c*h.n),I=0;
if(Q<P.x||Q>=P.x+P.e||U<P.y||U>=P.y+P.n)I=m.color;else I=e[(U-P.y)*P.e+(Q-P.x)];I=255*(255-m.NV)+I*m.NV>>>8;
if(O)I=170+Math.round(.4*(I-170));Y[x]=I;Y[x+1]=I;Y[x+2]=I;Y[x+3]=255}r.putImageData(s,0,0);if(B)w.qt.y1(r,N,F)};
w.qt.$t=[];w.qt.atG=function(r,N,F,h){var m,O,e;m=Math.ceil(Math.max(N,F)*.35);O=N-m;e=F-m;var P=w.qt.$t[m];
if(P==null){var B=w.Cl(m,m);B.fillStyle="#eeeeee";B.fillRect(0,0,m,m);var s=Math.round(m*.27),Y=B.lineWidth=Math.max(1,Math.round(m*.12)),D=Y/2;
B.strokeRect(1+D,1+D,m-Y-2,m-Y-2);B.strokeRect(s+D,s+D,m-s-s-Y,m-s-s-Y);P=w.qt.$t[m]=B.getImageData(0,0,m,m)}r.putImageData(P,O,e)};
w.qt.IX=[];w.qt.adz=function(r,N,F){var h,m,O;h=Math.ceil(Math.max(N,F)*.35);m=N-h;O=F-h;var e=w.qt.IX[h];
if(e==null){var P=w.Cl(h,h);P.fillStyle="#eeeeee";P.fillRect(0,0,h,h);P.lineWidth=1;P.strokeRect(2.5,2.5,h-5,h-5);
var B=P.createImageData(3,3);w.T1(B.data,4278190080);B.data[4*4]=B.data[4*4+1]=B.data[4*4+2]=238;P.putImageData(B,1,1);
P.putImageData(B,h-4,1);P.putImageData(B,1,h-4);P.putImageData(B,h-4,h-4);e=w.qt.IX[h]=P.getImageData(0,0,h,h)}r.putImageData(e,m,O)};
w.qt.ahv=function(r,N,F,h,m){w.qt.Xu(r,N,F);var O=N/h.e;if(N*F==0)return;r.fillStyle="#999999";r.setTransform(1,0,0,1,0,0);
r.clearRect(0,0,N,F);var e=w.qt.xc;if(e==null){e=w.qt.xc=JSON.parse(JSON.stringify(an.mr.default));e.strokeEnabled.v=!0}e.strokeStyleLineWidth.v.val=1/O;
r.fillStyle="#ffffff";r.scale(O,O);w.H.RC(m.Y,r,0,0);w.H.RC(m.Y,r,0,0,e)};w.qt.OT=null;w.qt.JG=function(r,N,F,h,m,O,e,P){w.qt.Xu(r,N,F);
if(N*F==0)return;var B=Math.max(N,F),s=w.qt.OT;if(s==null||s.width<B||s.height<B){w.qt.OT=s=r.createImageData(B,B)}B=s.width;
var Y=s.data,D=h.e/N,c=h.n/F,o=O.x,H=O.x+O.e,x=O.y,Q=O.y+O.n;for(var R=0;R<F;R++)for(var U=0;U<N;U++){var I=R*B+U,l=I*4,p=~~(h.x+U*D),j=~~(h.y+R*c),T=w.Yd(R,U,2);
if(p<o||p>=H||j<x||j>=Q){Y[l]=T;Y[l+1]=T;Y[l+2]=T;Y[l+3]=255}else{var V=(j-O.y)*O.e+(p-O.x)<<2,E=m[V+3]*(1/255);
Y[l]=m[V+0]*E+T*(1-E);Y[l+1]=m[V+1]*E+T*(1-E);Y[l+2]=m[V+2]*E+T*(1-E);Y[l+3]=255}}if(P!=null)for(var R=0;
R<Y.length;R+=4)Y[R]=Y[R+1]=Y[R+2]=Y[R+P];r.putImageData(s,0,0);if(e)w.qt.y1(r,N,F)};w.qt.a9R=function(r,N,F,h){w.qt.Xu(r,N,F);
r.fillStyle=w.qt.Mq(h.Clr.v);r.fillRect(0,0,N,F);w.qt.VE(r,N,F)};w.qt.sJ=null;w.qt.abp=function(r,N,F,h){w.qt.Xu(r,N,F);
var m=r.canvas.width,O=r.canvas.height,e=w.qt.sJ;if(e==null||e.width!=m||e.height!=O){r.fillStyle="#ffffff";
r.fillRect(0,0,N,F);r.fillStyle="#000000";r.font=""+F*.7+"px serif";r.fillText("T",(N-F*.43)/2,F*.75);
r.fillText("T",(N-F*.43)/2,F*.75);w.qt.sJ=r.getImageData(0,0,m,O)}else r.putImageData(e,0,0)};w.qt.a9G=function(r,N,F){w.qt.Xu(r,N,F);
r.clearRect(0,0,N,F);r.font=F*.7+"px serif";r.fillText(":(",(N-F*.43)/2,F*.7)};w.qt.akn=function(r,N,F,h){w.qt.Xu(r,N,F);
var m=gn.get(h),O=r.canvas.width,e=w.qt.s2[O+m];if(e==null){var P=PIMG["adj/"+m],B=bA.Sy(P),s=UPNG.decode(B.buffer),Y=new Uint8Array(UPNG.toRGBA8(s)[0]),D=new fE(0,0,160,160),c=0,o=O-c*2,H=z.Q.iG([Y,D],new hc(o/160,0,0,o/160,0,0)),x=new fE(0,0,O,O),Q=w.B(x.W()*4);
w.i.vw("norm",H.buffer,H.rect,Q,x,H.rect,1);e=w.qt.s2[O+m]=new ImageData(new Uint8ClampedArray(Q.buffer),O,O)}r.putImageData(e,0,0)};
w.qt.s2={};w.qt.agB=function(r,N,F,h){w.qt.Xu(r,N,F);var m=r.canvas.width,O=r.canvas.height,e=r.getImageData(0,0,m,O);
w.X.sD(h.Grad.v,new Uint8Array(e.data.buffer),new fE(0,0,m,O),[1/m,0,0,1/O],m/2,O/2,!1,0,16711680,65280);
r.putImageData(e,0,0);w.qt.VE(r,N,F)};w.qt.aoM=function(r,N,F,h,m){w.qt.Xu(r,N,F);var O=r,e=iL.gC(h.Ptrn.v,m.add.Patt);
if(e==null)return;var P=e.jB[1];w.qt.JG(r,N,F,P,e.jB[0],P,!1);w.qt.VE(O,N,F)};w.qt.y1=function(r,N,F){r.strokeStyle="#bb0000";
r.lineWidth=3;r.beginPath();r.moveTo(N*.15,F*.15);r.lineTo(N*.85,F*.85);r.moveTo(N*.85,F*.15);r.lineTo(N*.15,F*.85);
r.closePath();r.stroke()};w.qt.VE=function(r,N,F){r.fillStyle="#eeeeee";r.fillRect(0,F*.75,N,F*.25);
r.beginPath();r.moveTo(0,F*.75);r.lineTo(N,F*.75);r.moveTo(N*.1,F*.875);r.lineTo(N*.9,F*.875);r.moveTo(N*.65,F*.825);
r.lineTo(N*.65,F*.95);r.closePath();r.stroke()};w.qt.Mq=function(r){var N=w.X.Mq(r),F=Math.round(N.Z)<<16|Math.round(N.z)<<8|Math.round(N.J);
return"#"+w.GG(F)};w.H={};w.H.u6=function(r,N,F){var h=[],m=-1;for(var R=0;R<r.length;R++){var O=r[R];
if((O.type==0||O.type==3)&&O.r5!=-1)m++;if(O.type>5||O.type==0||O.type==3)continue;if(N!=null&&N.indexOf(m)==-1)continue;
if(F!=null&&F.indexOf(R)==-1)continue;h.push(O.Q$.x);h.push(O.Q$.y);h.push(O.F.x);h.push(O.F.y);h.push(O.lW.x);
h.push(O.lW.y)}return h};w.H.rK=function(r,N,F,h){var m=0,O=-1;for(var R=0;R<N.length;R++){var e=N[R];
if((e.type==0||e.type==3)&&e.r5!=-1)O++;if(e.type>5||e.type==0||e.type==3)continue;if(F!=null&&F.indexOf(O)==-1)continue;
if(h!=null&&h.indexOf(R)==-1)continue;e.Q$.YR(r[m],r[m+1]);e.F.YR(r[m+2],r[m+3]);e.lW.YR(r[m+4],r[m+5]);
m+=6}};w.H.nY=function(r,N,F,h){var m=w.H.u6(r,F,h);w.p.A(m,N,m);w.H.rK(m,r,F,h)};w.H.a9a=function(r,N,F,h){var m=w.H.u6(r,F,h);
w.N.A(N,m);w.H.rK(m,r,F,h)};w.H.afV=function(r,N,F,h){if(F==null&&h==null){var m=w.H.aee(r,40);for(var R=0;
R<m.length;R++)r[R]=m[R]}var O=w.H.u6(r,F,h);w.DK.A(N,O,w.p.Ce(O));w.H.rK(O,r,F,h)};w.H.aee=function(r,N){var F=[];
for(var R=0;R<r.length;R++){var h=r[R];if(h.type>5){F.push(JSON.parse(JSON.stringify(h)));continue}var m=w.H.a16(r,R+1,h.length);
m=w.p.Qv(m,N);var O=w.H.a28(m);R+=h.length;h=JSON.parse(JSON.stringify(h));h.length=O.length;F.push(h);
for(var e=0;e<O.length;e++)F.push(O[e])}return F};w.H.a16=function(r,N,F){var h={C:["M"],t:[]},m=r[N],O=r[N+F-1];
h.t.push(m.F.x,m.F.y);for(var R=1;R<F;R++){var e=r[N+R-1],P=r[N+R];h.C.push("C");h.t.push(e.lW.x,e.lW.y,P.Q$.x,P.Q$.y,P.F.x,P.F.y)}h.C.push("C");
h.t.push(O.lW.x,O.lW.y,m.Q$.x,m.Q$.y,m.F.x,m.F.y);return h};w.H.a28=function(r){var N=[],F=r.C,h=r.t,m=0,j_=h.length;
N.push({type:2,Q$:new gS(h[j_-4],h[j_-3]),F:new gS(h[0],h[1]),lW:new gS(h[2],h[3])});for(var R=0;R<F.length-2;
R++){var O=R*6+4;N.push({type:2,Q$:new gS(h[O],h[O+1]),F:new gS(h[O+2],h[O+3]),lW:new gS(h[O+4],h[O+5])})}return N};
w.H.a5y=function(r){for(var R=0;R<r.length;R++){if(r[R].type>5)continue;var N=r[R].length;if(!(N==4||N==6||N==8)){R+=N;
continue}for(var F=0;F<N;F++){var h=r[R+1+F],m=r[R+1+(F+1)%N],O=Math.min(h.F.x,m.F.x),e=Math.min(h.F.y,m.F.y),P=0,B=0;
if(h.F.x<m.F.x){P=h.F.y-e;B=P-(m.F.x-O)}else{P=m.F.y-e;B=P-(h.F.x-O)}if(Math.abs(B)<.2*P)return P}}return-1};
w.H.KX=function(r,N,F){function h(c,o){var H=Math.min(c.x,o.x),x=Math.min(c.y,o.y),Q=Math.max(c.x+c.e,o.x+o.e),U=Math.max(c.y+c.n,o.y+o.n);
return new fE(H,x,Q-H,U-x)}var m=null,O=-1,e=!w.H.E4(r);for(var R=0;R<r.length;R++){var P=r[R];if(P.type>5)continue;
if((P.type==0||P.type==3)&&P.r5!=-1)O++;if(N!=null&&N.indexOf(O)==-1)continue;if(R==r.length-1)break;
var B=P.type==3,s=P.length,Y=P.r5,D=w.H.abb(r,R+1,s,B);if(m==null)m=D;else if(F)m=h(m,D);else if(e){if(N!=null||Y==0||Y==-1||Y==2)m=h(m,D);
else if(Y==1)m=m;else if(Y==3){m=D;e=!1}}else{if(N!=null||Y==0||Y==-1||Y==1)m=h(m,D);else if(Y==2)m=m;
else if(Y==3)m=m.c_(D)}R+=s}if(m==null||m.e<0||m.n<0)m=new fE(0,0,0,0);return m};w.H.ajm=new Float64Array(4);
w.H.abb=function(r,R,N,F){var h=w.H.ajm;h[0]=1e30;h[1]=1e30;h[2]=-1e30;h[3]=-1e30;var m=r[R+N-1];if(!F)w.H.nF(m.F.x,m.F.y,m.lW.x,m.lW.y,r[R].Q$.x,r[R].Q$.y,r[R].F.x,r[R].F.y,h);
for(var O=R;O<R+N-1;O++){var e=r[O],P=r[O+1];w.H.nF(e.F.x,e.F.y,e.lW.x,e.lW.y,P.Q$.x,P.Q$.y,P.F.x,P.F.y,h)}return new fE(h[0],h[1],h[2]-h[0],h[3]-h[1])};
w.H.nF=function(r,N,F,h,m,O,e,P,B){if(r==F&&N==h&&m==e&&O==P){B[0]=Math.min(B[0],Math.min(r,e));B[1]=Math.min(B[1],Math.min(N,P));
B[2]=Math.max(B[2],Math.max(r,e));B[3]=Math.max(B[3],Math.max(N,P));return}var s=r,Y=N,D=r,c=N,o=40,H=1/(o-1);
for(var x=0;x<o;x++){var Q=x*H,U=1-Q,I=U*U*U,l=3*U*U*Q,p=3*U*Q*Q,j=Q*Q*Q,T=I*r+l*F+p*m+j*e,V=I*N+l*h+p*O+j*P;
if(T<s)s=T;else if(T>D)D=T;if(V<Y)Y=V;else if(V>c)c=V}if(s<B[0])B[0]=s;if(Y<B[1])B[1]=Y;if(D>B[2])B[2]=D;
if(c>B[3])B[3]=c};w.H.O1=function(r,N){var F=r.length-3,h=N%F,m=Math.floor(h);if(N<0||m>=F)return null;
var O=r[3+m],e=r[3+(m+1)%F],P=O.F,B=O.lW,s=e.Q$,Y=e.F,D=h-m,c=1-D,o=c*c*c*P.x+3*c*c*D*B.x+3*c*D*D*s.x+D*D*D*Y.x,H=c*c*c*P.y+3*c*c*D*B.y+3*c*D*D*s.y+D*D*D*Y.y;
return new gS(o,H)};w.H.fT=function(r){var N=w.p.tu(r),F=N.oS;N.oS=Typr.U.pathToSVG({crds:F.t,cmds:F.C},2);
return N};w.H.zE=function(r){w.H.Jk();var N,F=w.H.aQ(r),h=[];for(var R=0;R<F.length;R++){var m=F[R][0],O=F[R][1];
if(Math.abs(m.area)<1e-5)h.push(m);else if(N==null)N=m;else{if(!m.closed)m.closed=!0;N=N[O](m);N.remove()}}if(N==null)N=new paper.CompoundPath(h);
else{if(N.segments)N=new paper.CompoundPath(N);for(var R=0;R<h.length;R++){N.addChild(h[R])}}var e=r.slice(0,2);
e=e.concat(w.H.WG(N));if(e[2])e[2].r5=1;for(var R=3;R<e.length;R++)if(e[R].r5!=null)e[R].r5=-1;return e};
w.H.Jk=function(){if(w.H.a8f==null){var r=document.createElement("canvas");paper.setup(r);w.H.a8f=!0}};
w.H.aiD=function(r,N){w.H.Jk();var F=[],h=w.H.aQ(r),m=new paper.Path.Rectangle(new paper.Rectangle(N.x,N.y,N.e,N.n));
m.remove();m.fillColor=new paper.Color(1,0,0);for(var R=0;R<h.length;R++){if(m.intersects(h[R][0])||m.contains(h[R][0].children[0].segments[0].point))F.push(R)}return F};
w.H.Bp=function(r,N,F,h){w.H.Jk();var m=F?{curves:!0,tolerance:h}:null,O=new paper.Point(N.x,N.y),e=w.H.aQ(r);
for(var R=e.length-1;R>=0;R--){var P=e[R][0],B=P.hitTest(O,m);if(B!=null)return{Jz:R,wr:F?B.location.index:null}}return{Jz:-1}};
w.H.wg=function(r,N,F){var h=[[],[],[]];for(var R=0;R<r.length;R++){var m=r[R];if(m.type>5||m.type==0||m.type==3)continue;
var O=F==null?!0:F.indexOf(R)!=-1;if(N.Ev(m.F))h[0].push(R);if(N.Ev(m.Q$)&&O)h[1].push(R);if(N.Ev(m.lW)&&O)h[2].push(R)}return h};
w.H.a5A=function(r,N,F){var h=F.slice(0),m=[null,null],O=-1,P=null;for(var R=2;R<r.length;R++){if((r[R].type==0||r[R].type==3)&&r[R].r5!=-1)O++;
m[R]=F[O]}F=m;var e=r.slice(0,2);m=F.slice(0,2);for(var R=2;R<r.length;R++){if(r[R].type==0||r[R].type==3){P=r[R];
e.push(P);m.push(F[R])}else{if(N.indexOf(R)==-1){e.push(r[R]);m.push(F[R])}else{P.length--;w.UI.R7(F,R)}}}for(var R=2;
R<e.length;R++){var B=e[R];if(B.type!=0&&B.type!=3)continue;if(B.length==0){if(e[R+1]&&e[R+1].r5==-1){e[R+1].r5=B.r5}m.splice(R,1);
e.splice(R,1);R--}}for(var R=0;R<h.length;R++)if(m.indexOf(h[R])==-1){h.splice(R,1);R--}return e};w.H.aeg=function(r,N){var F=r.slice(0,2),h=-1;
for(var R=2;R<r.length;R++){if((r[R].type==0||r[R].type==3)&&r[R].r5!=-1)h++;if(N.indexOf(h)==-1)F.push(r[R])}return F};
w.H.ahx=function(r,N){var F=r.slice(0,2),h=-1;for(var R=2;R<r.length;R++){if((r[R].type==0||r[R].type==3)&&r[R].r5!=-1)h++;
if(N.indexOf(h)!=-1)F.push(r[R])}return F};w.H.am1=function(r){var N=0;for(var R=0;R<r.length;R++)if(r[R].type==0||r[R].type==3)N=R;
return r[N]};w.H.jE=function(r){var N=-1;for(var R=0;R<r.length;R++)if((r[R].type==0||r[R].type==3)&&r[R].r5!=-1)N++;
return N+1};w.H.Au=function(r,N,F){var h=-1;for(var R=0;R<r.length;R++)if((r[R].type==0||r[R].type==3)&&(F||r[R].r5!=-1)){h++;
if(h==N)return R}return-1};w.H.YD=function(r,N,F){var h=-1;for(var R=0;R<r.length;R++)if((r[R].type==0||r[R].type==3)&&(F||r[R].r5!=-1)){if(R>=N)return h;
h++}return h};w.H.Gl=function(r,N){var F=-1,h=0;for(var R=0;R<r.length;R++){if((r[R].type==0||r[R].type==3)&&r[R].r5!=-1)F++;
if(F==N)h++}return h};w.H.a7w=function(r){var N=180;for(var R=0;R<r.length;R++){if(r[R].type!=0&&r[R].type!=3)continue;
var F=r[R].length;if(F<3)continue;for(var h=0;h<F;h++){var m=r[R+1+(h-1+F)%F],O=r[R+1+h],e=r[R+1+(h+1)%F],P=O.F,B=O.Q$.cj(P)?m.lW:O.Q$,s=O.lW.cj(P)?e.Q$:O.lW;
if(P.cj(B)||P.cj(s))continue;var Y=B.x-P.x,D=B.y-P.y,c=s.x-P.x,o=s.y-P.y,B=Math.atan2(B.y-P.y,B.x-P.x)*180/Math.PI,s=Math.atan2(s.y-P.y,s.x-P.x)*180/Math.PI,H=Math.abs(s-B)%360,x=H>180?360-H:H;
if(x<N)N=x}}return N*Math.PI/180};w.H.WG=function(r){var N=r.segments?[r]:r.children,F=[];for(var R=0;
R<N.length;R++){var h=N[R],m=h.segments,O=h.closed?0:3,e=F.length,P=null;if(m.length<=1)continue;F.push({type:O,length:m.length,r5:0,sd:2});
for(var B=0;B<m.length;B++){var s=m[B],Y=new gS(s.handleIn.x,s.handleIn.y),D=new gS(s.handleOut.x,s.handleOut.y),c=new gS(s.point.x,s.point.y),o={type:O+1,Q$:c.add(Y),F:c,lW:c.add(D)};
if(P==null)P=o;F.push(o);if(B+1==m.length&&gS.Mz(P.F,o.F)<1e-5){F.pop();F[e].length--;P.Q$=o.Q$;if(O==3)for(var H=e;
H<F.length;H++)F[H].type-=3}}}return F};w.H.aQ=function(r){w.H.Jk();var N=[],F,h=new paper.Color(1,0,0);
function m(o,P){o.remove();o.closed=!P;o.fillRule="evenodd"}for(var R=0;R<r.length;R++){if(r[R].type>5)continue;
var O=r[R].length,e;if(R==r.length-1)break;var P=r[R].type==3;if(R==2){if(!w.H.b3(r))e="subtract";else e="unite"}else{if(r[R].r5==0)e="exclude";
if(r[R].r5==1)e="unite";if(r[R].r5==2)e="subtract";if(r[R].r5==3)e="intersect"}if(r[R].r5!=-1){F=new paper.CompoundPath;
N.push([F,e]);F.fillRule="evenodd";F.fillColor=h}var B=[];for(var s=0;s<O;s++){var Y=r[R+1+s],D=Y.Q$.bl(Y.F),c=Y.lW.bl(Y.F);
B.push([[Y.F.x,Y.F.y],[D.x,D.y],[c.x,c.y]])}var o=new paper.Path(B);m(o,P);F.addChild(o);R+=O}return N};
w.H.YU=function(r){for(var R=0;R<r.length;R++){var N=r[R];if(N.F==null)continue;if(!N.F.cj(N.Q$)||!N.F.cj(N.lW))return!1}return!0};
w.H.a5U=function(r){if(r.length<=5)return 0;var N=0,F=r.length-3-1;for(var R=0;R<F;R++){var h=r[3+R],m=r[3+R+1];
if(h.type==0||m.type==0)return 0;N+=(m.F.x-h.F.x)*(h.F.y+m.F.y)}N+=(r[3].F.x-r[3+F].F.x)*(r[3+F].F.y+r[3+1].F.y);
return-N*.5};w.H.E4=function(r){var N=r[2],F=!1;if(r.length==2)F=r[1].all==0;else if(r[1].all==1){if(N.r5==1||N.r5==3)F=!0;
else F=!1}else{if(N.r5==1||N.r5==3||N.r5==0)F=!0;else F=!1}return F};w.H.b3=function(r){var N=w.H.E4(r);
for(var R=3;R<r.length;R++)if(r[R].r5==3)N=!0;return N};w.H.ae2=0;w.H.E3=0;w.H.aaQ=0;w.H.acm=function(r,N,F,h){if(F.lX())return;
var m=F.W(),U=16384;w.H.ae2+=m;if(m>w.H.E3){w.H.E3=m}var O=F.e,e=F.n;if(h==null&&w.H.YU(r)){var P=!0;
for(var R=2;R<r.length;)if(r[R].length==2)R+=3;else{P=!1;break}if(P){return}if(w.H.k5(r)){N.fill(255);
var B=w.H.KX(r);if(B.W()!=m){var s=1-(B.x-F.x),Y=1-(B.y-F.y),D=1-(F.x+F.e-(B.x+B.e)),c=1-(F.x+F.n-(B.x+B.n)),o=~~(s*255),H=~~(D*255),x=~~(Y*255),Q=~~(c*255);
N.fill(x,0,O);N[0]=~~(s*Y*255);N[O-1]=~~(D*Y*255);for(var R=O;R<m;R+=O){N[R]=o;N[R+O-1]=H}N.fill(Q,(e-1)*O,e*O);
N[m-O]=~~(s*c*255);N[m-1]=~~(D*c*255)}return}}var I=Math.ceil(O/U),l=Math.ceil(e/U),p=Math.ceil(O/I),j=Math.ceil(e/l),T=Date.now();
for(var V=0;V<l;V++)for(var E=0;E<I;E++){var _=E*p,f=V*j,S=p,L=j,y=w.Cl(S,L);if(!w.H.E4(r))y.fillRect(0,0,S,L);
w.H.RC(r,y,-F.x-_,-F.y-f,h);var $=new Uint8Array(y.getImageData(0,0,S,L).data.buffer);if(S==O&&L==e)w.Pw($,N,3);
else w.bi($,new fE(_,f,S,L),N,new fE(0,0,O,e))}};w.H.RC=function(r,N,F,h,m){if(m!=null){var O=!1,e=!1,P=0,B=!1;
for(var R=0;R<r.length;R++){var s=r[R].r5;if(s!=null){P++;if(s==-1)O=!0;if(s>0)e=!0;if(r[R].type==0)B=!0}}if(!O&&P<20&&(m==null||B))r=w.H.zE(r)}for(var R=0;
R<r.length;R++){if(r[R].type>5)continue;var Y=r[R].length;if(Y==0)continue;if(R==r.length-1)break;var D=r[R].type==3,s=r[R].r5;
if(s!=-1&&m==null){var c=["xor","source-over","destination-out","source-in"][s];N.globalCompositeOperation=c}if(r[R].r5!=-1){N.beginPath();
if(m){var o=m.strokeStyleLineWidth.v.val,H=m.strokeStyleLineAlignment.v.strokeStyleLineAlignment,x=m.strokeStyleLineCapType.v.strokeStyleLineCapType,Q=m.strokeStyleLineJoinType.v.strokeStyleLineJoinType,U=m.strokeStyleMiterLimit.v,I=[],l=m.strokeStyleLineDashSet.v;
for(var p=0;p<l.length;p++)I.push(l[p].v.val*o);N.setLineDash(I);N.lineCap=["butt","round","square"][an.mr._6.indexOf(x)];
N.lineJoin=["miter","round","bevel"][an.mr.join.indexOf(Q)];N.lineWidth=an.mr.bj.indexOf(H)==1?o:o*=2;
N.miterLimit=U}}w.H.acQ(N,r,R+1,Y,F,h,D);if(D){}else N.closePath();if(r[R+1+Y]==null||r[R+1+Y].r5!=-1){if(m)N.stroke();
else N.fill("evenodd")}R+=Y}N.globalCompositeOperation="source-over"};w.H.acQ=function(r,N,R,F,h,m,O){var e=N[R],P=null;
r.moveTo(e.F.x+h,e.F.y+m);for(var B=R;B<R+F-1;B++){e=N[B];P=N[B+1];r.bezierCurveTo(e.lW.x+h,e.lW.y+m,P.Q$.x+h,P.Q$.y+m,P.F.x+h,P.F.y+m)}if(!O){e=N[B];
P=N[R];r.bezierCurveTo(e.lW.x+h,e.lW.y+m,P.Q$.x+h,P.Q$.y+m,P.F.x+h,P.F.y+m)}};w.H.ahB=function(r,N){var F=[],h=N?4:1;
for(var R=0;R<r.length;R+=2){var m=new gS(r[R],r[R+1]);F.push({type:h,Q$:m.clone(),F:m.clone(),lW:m.clone()})}return F};
w.H.kw=function(r,N,F){var h=w.p.Ce(r),m=Math.sqrt(Math.sqrt(h.W()))*.2,O=.2;r=r.slice(0);var e=r.length,P=N?0:2;
for(var B=0;B<5;B++)for(var R=P;R<r.length-P;R+=2){var s=(R-2+e)%e,Y=(R+2)%e,D=r[R],c=r[R+1],o=(r[s]+r[Y])*.5,H=(r[s+1]+r[Y+1])*.5;
r[R]=D+(o-D)*O;r[R+1]=c+(H-c)*O}if(F)return w.H.yN.s_(r,null,!N);w.H.Jk();var x=new paper.Path;x.remove();
x.closed=N;for(var R=0;R<r.length;R+=2)x.add(new paper.Point(r[R],r[R+1]));x.simplify(m);var Q=[{type:6},{type:8,all:0}];
Q=Q.concat(w.H.WG(x));return Q};w.H.iA=function(r,N,F){var h=r[N].length,m=r[N].type,O=0,e=r.slice(N+1,N+1+h);
for(var R=0;R<h;R++){var P=F[(R-1+h)%h],B=F[(R+1+h)%h],s=F[R];if(s!=0){var Y=e[(R-1+h)%h].F,D=e[(R+0+h)%h].F,c=e[(R+1+h)%h].F,o=gS.Mz(D,Y),H=gS.Mz(D,c),x=w.p.cC(Y.x,Y.y,D.x,D.y,c.x,c.y,s)[0],Q=Math.min(x,P==0?o:o/2,B==0?H:H/2);
s*=Q/x;var U=w.p.a2j(Y.x,Y.y,D.x,D.y,c.x,c.y,s),I={type:m+1,Q$:new gS(U[2],U[3]),F:new gS(U[2],U[3]),lW:new gS(U[4],U[5])},l={type:m+1,Q$:new gS(U[6],U[7]),F:new gS(U[8],U[9]),lW:new gS(U[8],U[9])};
r.splice(N+O+1,1,I,l);O++;r[N].length++}O++}};w.H.YU=function(r){for(var R=0;R<r.length;R++){var N=r[R],F=N.type;
if(F==1||F==2||F==4||F==5)if(!N.F.cj(N.Q$)||!N.F.cj(N.lW))return!1}return!0};w.H.k5=function(r){if(r.length!=7||!w.H.YU(r))return!1;
for(var R=0;R<4;R++){var N=!0;for(var F=0;F<4;F++){var h=r[3+(R+F&3)],m=r[3+(R+F+1&3)];if(h.F.x!=m.F.x&&h.F.y!=m.F.y)N=!1}if(N)return!0}return!1};
w.H.aii=function(r){if(r.length<6)return 0;var N=r.length-2,F=0;for(var R=0;R<N;R+=2)F+=(r[R+2]-r[R])*(r[R+1]+r[R+3]);
F+=(r[0]-r[N])*(r[N+1]+r[1]);return-F*.5};w.H.a52=function(r){r=C.Ug.sN(r);var N=w.H.jE(r);for(var F=0;
F<N;F++){var h=w.H.Au(r,F)+1,m=r[h-1].length,O=[];for(var R=0;R<m;R++){var e=r[h+R].F;O.push(e.x,e.y)}var P=w.H.aii(O);
if(P<0){var B=[];for(var R=0;R<m;R++){var s=r[h+R],Y=s.Q$;s.Q$=s.lW;s.lW=Y;B.push(s)}for(var R=0;R<m;
R++)r[h+R]=B[m-1-R]}}return r};w.H.yN={};w.H.yN.s_=function(r,N,F){var h=[{type:6},{type:8,all:0}],m=null;
h.push({type:F?3:0,r5:1,length:0,OD:0,tL:0,sd:1});if(N==0||N==null)m=null;else if(N instanceof Array)m=N;
else{m=[];for(var R=0;R<r.length;R+=2)m.push(N)}h=h.concat(w.H.ahB(r,F));h[2].length=h.length-3;if(m)w.H.iA(h,2,m);
return h};w.H.yN.auZ=function(r,N,F,h,m){var O=[],e=[],P=.553,B=1,s=-1;O.push({type:1,Q$:new gS(0,P),F:new gS(0,0),lW:new gS(0,-P)});
m+=2;for(var R=0;R<m;R++){var Y={type:1};if(R==0){Y.F=new gS(1,-1);Y.Q$=new gS(1-P,-1);Y.lW=new gS(1+P,-1)}else{var D=-(R+2)*Math.PI/2,c=1+((R&1)==1?R-1:R),o=Math.sin(D),H=Math.cos(D);
B+=c*(o-H);s+=c*(H+o);Y.F=new gS(B,s);Y.Q$=new gS(B+c*H*P,s-c*o*P);if((R&1)==1)c+=2;Y.lW=new gS(B-c*H*P,s+c*o*P)}var x={type:1,Q$:new gS(-Y.lW.x,-Y.lW.y),F:new gS(-Y.F.x,-Y.F.y),lW:new gS(-Y.Q$.x,-Y.Q$.y)};
O.push(Y);if(R<m-2)e.push(x)}e.reverse();O=O.concat(e);var Q=[{type:6},{type:8,all:0}];Q.push({type:0,r5:1,length:O.length,OD:0,tL:0,sd:1});
Q=Q.concat(O);var U=new hc(F/m,0,0,F/m,0,0);U.rotate(h);U.translate(r,N);w.H.nY(Q,U);return Q};w.H.yN.Rect=function(r,N,F,h,m){var O=[r,N,r+F,N,r+F,N+h,r,N+h];
return w.H.yN.s_(O,m)};w.H.yN.We=function(r,N,F,h,m,O,e,P){var B=[],s=2*Math.PI/m;for(var R=0;R<m;R++)B.push(Math.cos(R*s-h),Math.sin(R*s-h));
if(e!=null){var Y=w.p.Ce(B),D=Y.e,c=Y.n,o=e/(D/2),H=P/(c/2);for(var R=0;R<B.length;R+=2){B[R]=(B[R]-(Y.x+D/2))*o;
B[R+1]=(B[R+1]-(Y.y+c/2))*H}F=1}var x=new hc(F,0,0,F,0,0);x.translate(r,N);w.p.A(B,x,B);return w.H.yN.s_(B,O)};
w.H.yN.Lf=function(r,N,F,h,m,O,e){var P=[],B=Math.PI/m;for(var R=0;R<m*2;R++){var s=(R&1)==0?1:e;P.push(s*Math.cos(R*B),s*Math.sin(R*B))}var Y=new hc(F,0,0,F,0,0);
Y.rotate(h);Y.translate(r,N);w.p.A(P,Y,P);return w.H.yN.s_(P,O)};w.H.yN.P9=function(r,N,F,h,m){return w.H.yN.jM(0,r,N,F,h,m)};
w.H.yN.a48=function(r,N,F,h,m,O){return w.H.yN.jM(1,r,N,F,h,m,O)};w.H.yN.Iw=function(r,N,F,h,m,O){return w.H.yN.jM(2,r,N,F,h,m,O)};
w.H.yN.jM=function(r,N,F,h,m,O,e){var P=Math.sqrt((h-N)*(h-N)+(m-F)*(m-F)),B;O/=2;if(r==0)B=[-O,0,O,0,O,P,-O,P];
if(r==1){var s=O*2*e*1.3/1.5,Y=O*e;B=[-O,0,O,0,O,P-s,Y,P-s,0,P,-Y,P-s,-O,P-s]}if(r==2){var s=e[3],Y=e[2]/2,D=s*(2/3)*e[4]/100,c=s-D,o=s;
B=[];if(e[0])B.push(-O,c,-Y,o,0,0,Y,o,O,c);else B.push(-O,0,O,0);if(e[1])B.push(O,P-c,Y,P-o,0,P,-Y,P-o,-O,P-c);
else B.push(O,P,-O,P)}var H=new hc(1,0,0,1,0,0);H.rotate(Math.atan2(-m+F,h-N)+Math.PI/2);H.translate(N,F);
w.p.A(B,H,B);return w.H.yN.s_(B,0)};w.H.yN.b4=function(r,N,F,h){var m=[{type:6},{type:8,all:0}],D=.553;
m.push({type:0,r5:1,length:4,OD:0,tL:0,sd:1});var O=r,e=N,P=r+F,B=N+h,r=(O+P)/2,N=(e+B)/2,s=(O-P)/2,Y=(e-B)/2;
m.push({type:1,Q$:new gS(r-D*s,N-Y),F:new gS(r,N-Y),lW:new gS(r+D*s,N-Y)});m.push({type:1,Q$:new gS(r+s,N-D*Y),F:new gS(r+s,N),lW:new gS(r+s,N+D*Y)});
m.push({type:1,Q$:new gS(r+D*s,N+Y),F:new gS(r,N+Y),lW:new gS(r-D*s,N+Y)});m.push({type:1,Q$:new gS(r-s,N+D*Y),F:new gS(r-s,N),lW:new gS(r-s,N-D*Y)});
return m};w.H.yN.ag3=function(r,N,F,h,m){var O=[{type:6},{type:8,all:0}];O.push({type:3,r5:1,length:5,OD:0,tL:0,sd:1});
var e=(m-h)/4;for(var R=0;R<5;R++){var P=R*e,B=Math.cos(P),s=Math.sin(P),Y=.553*(e/(Math.PI/2)),D=s*Y,c=-B*Y,o=new gS(B,s);
O.push({type:4,Q$:R==0?o.clone():new gS(B+D,s+c),F:o,lW:R==4?o.clone():new gS(B-D,s-c)})}var H=new hc;
H.rotate(-h);H.scale(F,F);H.translate(r,N);w.H.nY(O,H);return O};w.U5={};w.U5.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
w.U5.n5=function(r){var N=r.warpStyle.v.warpStyle;if(N=="warpNone")return!0;else if(N=="warpCustom"){var F=!1,h=r.customEnvelopeWarp.v.meshPoints.v.arr,m=h[0].arr,O=h[1].arr;
for(var R=0;R<4;R++)for(var e=0;e<4;e++){if(Math.abs(m[R]-m[e*4+R])>1||Math.abs(O[R*4]-O[R*4+e])>1)F=!0}return!F}else return r.warpValue.v==0&&r.warpPerspective.v==0&&r.warpPerspectiveOther.v==0};
w.U5.B=function(r){var N={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(r){N.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:r.y}},Left:{t:"UntF",v:{type:"#Pxl",val:r.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:r.y+r.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:r.x+r.e}}}};
N.uOrder={t:"long",v:4};N.vOrder={t:"long",v:4}}return N};w.U5.a0z=function(r,N,F,h){for(var R=0;R<r.length;
R+=2){var m=r[R],O=r[R+1],e=(m-N.x)/N.e,P=(O-N.y)/N.n,B=(1-F)/2,s=1-B,Y=B+e*(s-B);P=.5+(P-.5)*Y*2;var D=(1-h)/2,c=1-D,o=D+P*(c-D);
e=.5+(e-.5)*o*2;m=N.x+e*N.e;O=N.y+P*N.n;r[R]=m;r[R+1]=O}};w.U5.$_=function(r,N){var F=[],h=[];for(var R=0;
R<r.length;R+=2){F.push(r[R]);h.push(r[R+1])}var m=[];m.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:F});
m.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:h});N.warpStyle.v.warpStyle="warpCustom";N.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:m}}}}};
w.U5.bM=function(r,N){if(N==null){var F=r.bounds.v,h=F.Left.v.val,m=F.Rght.v.val,O=F.Top.v.val,e=F.Btom.v.val;
N=new fE(h,O,m-h,e-O)}if(N.lX())N.e=N.n=1;var P=[],B=r.warpStyle.v.warpStyle;if(B=="warpCustom"){var s=r.customEnvelopeWarp.v.meshPoints.v.arr,Y=s[0].arr,D=s[1].arr;
for(var R=0;R<16;R++)P.push(Y[R],D[R])}else P=w.U5.U5(N,B,r.warpRotate.v.Ornt=="Hrzn",r.warpValue.v/100,r.warpPerspective.v/100,r.warpPerspectiveOther.v/100);
return P};w.U5.U5=function(r,N,F,h,m,O){var e=w.DK.B(r.x,r.y,r.e,r.n);if(N=="warpNone")return e;var P=JSON.parse(JSON.stringify(r)),B=new hc;
if(!F){B.translate(-r.x,-r.y);B.rotate(-Math.PI/2);B.translate(r.n,0);w.p.A(e,B,e);r=new fE(0,0,r.n,r.e);
e=w.DK.NX(e,!1)}w.U5.avr(e,r,N,h,m,O);if(!F){e=w.DK.NX(e,!0);r=P;B.iL();w.p.A(e,B,e)}if(h==0)w.U5.a0z(e,r,m,O);
else{var B=new hc(1/r.e,0,0,1/r.n,-r.x,-r.y);B.translate(-.5,-.5);w.p.A(e,B,e);w.U5.aoK(e,O,m);B.iL();
w.p.A(e,B,e)}return e};w.U5.avr=function(r,N,F,h,m,O){for(var R=0;R<4;R++){for(var e=0;e<4;e++){var P=2*(4*R+e),B=r[P]-N.x,s=r[P+1]-N.y,Y=B,D=s;
if(h!=0){var c=N.e/2,o=N.n/2;Y-=c;D-=o;var H=Y,x=Y,Q=-o,U=o,I=Math.abs(h),l=Math.tan((1-I)*Math.PI/2),p=Math.sqrt(l*l+1),j=Math.atan2(1,l),T=Y/c*j,V=c*p,E=c*p+N.n,_=Math.cos(j),f=Math.sin(j),S=w.U5.a5L(_,f),L=w.U5.a9H(_,f),y=-l*c+S*V;
if(F=="warpArc"){H=Math.sin(T)*E;Q=l*c-Math.cos(j)*E+o;x=Math.sin(T)*V;U=l*c-Math.cos(j)*V+o;if(e==1||e==2){H=e==1?-L*E:L*E;
x=e==1?-L*V:L*V;Q=l*c+o-S*E;U=l*c+o-S*V}if(h<0){var $=H;H=x;x=$;$=Q;Q=-U;U=-$}}if(F=="warpArcLower"){if(e==1||e==2){x=e==1?-L*V:L*V;
U=h<0?o-y:o+y}}if(F=="warpArcUpper"||F=="warpArch"||F=="warpBulge"){if(e==1||e==2){H=e==1?-L*V:L*V;Q=h<0?-o+y:-o-y}if(F=="warpArch"){x=H;
U=Q+2*o}if(F=="warpBulge"){x=H;U=-Q}}if(F=="warpFish"||F=="warpFlag"||F=="warpWave"){var Z=e;if(F=="warpFlag")Z=3-e;
if(Z==1){Q-=h*4*o;U+=h*4*o}if(Z==2){Q+=h*4*o;U-=h*4*o}if(F=="warpFlag"||F=="warpWave")Q=U-2*o}if(F=="warpRise"){if(e<2)Q=-o+h*o*4;
U=Q+2*o}var i=(D+o)/N.n;Y=H+i*(x-H);D=Q+i*(U-Q);if(F=="warpWave"){if(R==0)D=-o;if(R==3)D=o;if(R==1||R==2)D=2*o*(R/3-.5)*(1/3)+D*(2/3)}if(F=="warpFisheye"){if((R==1||R==2)&&(e==1||e==2)){Y=Y+4*Y*h;
D=D+4*D*h}}if(F=="warpInflate"){var b=2/3;if((R==1||R==2)&&(e==1||e==2)){Y=Y+.5*Y*h;D=D+.5*D*h}else if(R==1||R==2)Y=Y+b*Y*h;
else if(e==1||e==2)D=D+b*D*h}if(F=="warpSqueeze"){var b=2/3;if((R==1||R==2)&&(e==1||e==2)){if(h>0)Y=Y-b*Y*h;
else D=D+b*D*h}else if(R==1||R==2)Y=Y-b*Y*h;else if(e==1||e==2)D=D+b*D*h}if(F=="warpTwist"){if((R==1||R==2)&&(e==1||e==2)){var G=h*Math.PI/2,p=1+Math.abs(h)*2,g=Y*Math.cos(G)-D*Math.sin(G),u=Y*Math.sin(G)+D*Math.cos(G);
Y=g*p;D=u*p}}if(F=="warpShellLower"||F=="warpShellUpper"){if(F=="warpShellUpper"){R=3-R;D=-D}if(R>2||R==2&&(e==0||e==3)){if(h>0){var A=V+R/3*2*o;
Y=Math.sin(T)*A;D=-l*c-o+Math.cos(T)*A;if(e==1||e==2){Y=e==1?-L*A:L*A;D=-l*c-o+S*A}}else{if((e==1||e==2)&&R==3){Y=e==1?-L*V:L*V;
D=l*c-S*V+o}else if(R==2){D=o-o*(2/3)*Math.cos(T);Y=Y+o*(2/3)*Math.sin(T)}}}if(F=="warpShellUpper"){R=3-R;
D=-D}}Y+=c;D+=o}B=Y,s=D;r[P]=B+N.x;r[P+1]=s+N.y}}};w.U5.aoK=function(r,N,F){var h=[];for(var m=0;m<4;
m++)h.push(1-F+m/3*2*F);var O=[];for(var m=0;m<4;m++)O.push(1-N+m/3*2*N);var e=[0,0,0,0],P=[0,0,0,0];
for(var R=0;R<4;R++)for(var m=0;m<4;m++){var B=2*(4*R+m),s=r[B],Y=r[B+1];e[m]+=s/4;P[m]+=Y/4}for(var R=0;
R<4;R++)for(var m=0;m<4;m++){var D=h[m],B=2*(4*R+m),s=r[B],Y=r[B+1],c=e[m],o=P[m];r[B]=c+D*(s-c);r[B+1]=o+D*(Y-o)}var H=r.slice(0);
for(var R=0;R<4;R++)for(var m=1;m<3;m++){var B=2*(4*R+m),s=r[B],Y=r[B+1],x=B+(m==1?-2:2),Q=r[x],U=r[x+1];
r[B]=s-Q;r[B+1]=Y-U}var I=r[0],l=r[1],p=r[8],j=r[9],T=r[16],V=r[17],E=r[24],_=r[25],f=r[6],S=r[7],L=r[14],y=r[15],$=r[22],Z=r[23],i=r[30],b=r[31],G=f-I,g=S-l,u=L-p,A=y-j,a=$-T,d=Z-V,K=i-E,n=b-_;
for(var R=0;R<4;R++){var t=2*R*4,X=0,aK=0,fg=R==1?.33:.66,k=1-fg;if(R==0){X=G;aK=g}if(R==1){X=k*G+fg*-K;
aK=k*g+fg*-n}if(R==2){X=k*G+fg*-K;aK=k*g+fg*-n}if(R==3){X=-K;aK=-n}r[t]=r[t]+X/2;r[t+1]=r[t+1]+aK/2;
r[t+6]=r[t+6]-X/2;r[t+7]=r[t+7]-aK/2}for(var R=0;R<4;R++)for(var m=1;m<3;m++){var B=2*(4*R+m),s=r[B],Y=r[B+1],x=B+(m==1?-2:2),Q=r[x],U=r[x+1],D=2*R/3;
r[B]=Q+D*s;r[B+1]=U+D*Y}for(var R=1;R<3;R++)for(var m=1;m<3;m++){var B=2*(4*R+m),s=r[B],Y=r[B+1],hG=R==1?-8:-16,eE=R==1?16:8,hW=r[B+hG],hh=r[B+hG+1],hI=r[B+eE],db=r[B+eE+1],D=R/3;
s=(1-D)*hW+D*hI;Y=(1-D)*hh+D*db;r[B]=s;r[B+1]=Y}w.p.E_(H,r,r,N)};w.U5.a5L=function(r,N){return(4-r)*(1/3)};
w.U5.a9H=function(r,N){return(1-r)*(3-r)/(3*N)};w.Er={};w.Er.abQ=function(r,N,F,h,m,O,e,P,B,s){for(var Y=0;
Y<P;Y++)for(var D=0;D<e;D++){var c=3*(Y*e+D),o=Y+O,H=D+m,x=r[o*N+H];h[c]=x;h[c+1]=x;h[c+2]=x}};w.Er.Yw=function(r,N,F,h,m,O,e,P,B,s){var Y=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],D=1/B,c=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],o=new Uint32Array(6);
for(var H=0;H<P;H++){for(var x=0;x<e;x++){var Q=3*(H*e+x),U=H+O,I=x+m;o[0]=0;o[1]=0;o[2]=0;o[3]=0;o[4]=0;
o[5]=0;for(var R=0;R<16;R+=2){var l=I+c[R],p=U+c[R+1],j=l-B*~~(l*D),T=p-B*~~(p*D),V=s[T*B+j];o[V]+=r[p*N+l];
o[V+3]++}var l=I,p=U,j=l-B*~~(l*D),T=p-B*~~(p*D),V=s[T*B+j];o[V]=r[U*N+I];o[V+3]=1;h[Q]=o[0]*Y[o[3]];
h[Q+1]=o[1]*Y[o[4]];h[Q+2]=o[2]*Y[o[5]]}}};w.Er.kD=function(r,N,F){for(var R=0;R<F;R+=2)r[N+R]=r[N+R+1];
N=N+F;for(var R=0;R<F;R+=2)r[N+R+1]=r[N+R]};w.Er.hb=function(r,N,F,h){for(var R=0;R<h;R+=2){var m=N+R*F;
r[m]=r[m+F];r[m+F+1]=r[m+1]}};w.Er.QD=function(r,N,F,h,m,O){var e=h[m],P=h[m+1],B=h[O],s=h[O+1],Y=P+B>>>1;
r[N]=r[N+3]=r[F]=r[F+3]=e;r[N+1]=Y;r[N+4]=P;r[F+1]=B;r[F+4]=Y;r[N+2]=r[N+5]=r[F+2]=r[F+5]=s};w.Er.atw=function(r,N,F,h,m,O){var e=O*3;
for(var R=0;R<O;R+=2){var P=N+R,B=m+R*3;w.Er.QD(h,B,B+e,r,P,P+F)}};w.Er.akj=function(r,N,F,h,m,O,e){var P=O*3;
for(var R=0;R<e;R+=2){var B=N+R*F,s=m+R*O*3;w.Er.QD(h,s,s+P,r,B,B+F)}};w.Er.QY=function(r,R,N){var F=r[R-N-N],h=r[R-N],m=r[R-2],O=r[R-1],e=r[R],P=r[R+1],B=r[R+2],s=r[R+N],Y=r[R+N+N],D=Math.abs(h-s),c=Math.abs(O-P),o=Math.abs(e-F)*2+D,H=Math.abs(e-B)*2+c,x=Math.abs(e-m)*2+c,Q=Math.abs(e-Y)*2+D,U=Math.min(o,Math.min(H,Math.min(x,Q)));
if(U==o)return h*3+s+e-F>>2;if(U==H)return P*3+O+e-B>>2;if(U==x)return O*3+P+e-m>>2;return s*3+h+e-Y>>2};
w.Er.Ty=function(r,N,F,h,m){if(r<N&&N<F||r>N&&N>F)return~~(.5+h+(m-h)*(N-r)/(F-r));else return(h+m>>1)+(N+N-r-F>>2)};
w.Er.GP=function(r,N,R,F){var h=N[R-F-1],m=N[R-F+1],O=N[R],e=N[R+F-1],P=N[R+F+1],B=r[R-F-1],s=r[R-F+1],Y=r[R],D=r[R+F-1],c=r[R+F+1],o=Math.abs(s-D)+Math.abs(r[R-F-F+2]-Y)+Math.abs(Y-r[R+F+F-2])+Math.abs(m-O)+Math.abs(O-e),H=Math.abs(B-c)+Math.abs(r[R-F-F-2]-Y)+Math.abs(Y-r[R+F+F+2])+Math.abs(h-O)+Math.abs(O-P);
if(o<H)return w.Er.Ty(m,O,e,s,D);else return w.Er.Ty(h,O,P,B,c)};w.Er.B9=function(r,N,F,h,m,O){r[N+0]=F[m];
r[N+1]=h[m];r[N+2]=w.Er.GP(F,h,m,O)};w.Er.HC=function(r,N,F,h,m,O){var e=h[m];r[N+0]=w.Er.Ty(h[m-1],e,h[m+1],F[m-1],F[m+1]);
r[N+1]=e;r[N+2]=w.Er.Ty(h[m-O],e,h[m+O],F[m-O],F[m+O])};w.Er.IE=function(r,N,F,h,m,O){var e=h[m];r[N+0]=w.Er.Ty(h[m-O],e,h[m+O],F[m-O],F[m+O]);
r[N+1]=e;r[N+2]=w.Er.Ty(h[m-1],e,h[m+1],F[m-1],F[m+1])};w.Er.Lk=function(r,N,F,h,m,O){r[N+0]=w.Er.GP(F,h,m,O);
r[N+1]=h[m];r[N+2]=F[m]};w.Er.amE=function(r,N,F,h,m,O,e,P,B){var s=Date.now(),Y=2,D=N-2,c=2;if((m&1)==1){Y++;
D--}var o=F-2;if((O&1)==1){c++;o--}if(B==1||B==3){Y++;D--}var H=r.slice(0);w.Er.kD(H,0,N);w.Er.hb(H,0,N,F);
w.Er.hb(H,N-2,N,F);w.Er.kD(H,(F-2)*N,N);for(var x=c;x<o;x+=2)for(var Q=Y;Q<D;Q+=2){var R=x*N+Q,U=w.Er.QY(H,R,N),I=w.Er.QY(H,R+N+1,N);
H[R]=Math.max(0,U);H[R+N+1]=Math.max(0,I)}var l=e,p=P;if(O+P==F){p-=2;w.Er.atw(r,(F-2)*N+m,N,h,(P-2)*e*3,e)}if(m+e==N){l-=2;
w.Er.akj(r,O*N+m+e-2,N,h,(e-2)*3,e,P)}if(B==0)for(var x=0;x<p;x+=2)for(var Q=0;Q<l;Q+=2){var j=(x+O)*N+Q+m,T=(x*e+Q)*3;
w.Er.B9(h,T,r,H,j,N);w.Er.HC(h,T+3,r,H,j+1,N);j+=N;T+=3*e;w.Er.IE(h,T,r,H,j,N);w.Er.Lk(h,T+3,r,H,j+1,N)}else if(B==1)for(var x=0;
x<p;x+=2)for(var Q=0;Q<l;Q+=2){var j=(x+O)*N+Q+m,T=(x*e+Q)*3;w.Er.HC(h,T,r,H,j,N);w.Er.B9(h,T+3,r,H,j+1,N);
j+=N;T+=3*e;w.Er.Lk(h,T,r,H,j,N);w.Er.IE(h,T+3,r,H,j+1,N)}else if(B==2)for(var x=0;x<p;x+=2)for(var Q=0;
Q<l;Q+=2){var j=(x+O)*N+Q+m,T=(x*e+Q)*3;w.Er.Lk(h,T,r,H,j,N);w.Er.IE(h,T+3,r,H,j+1,N);j+=N;T+=3*e;w.Er.HC(h,T,r,H,j,N);
w.Er.B9(h,T+3,r,H,j+1,N)}else if(B==3)for(var x=0;x<p;x+=2)for(var Q=0;Q<l;Q+=2){var j=(x+O)*N+Q+m,T=(x*e+Q)*3;
w.Er.IE(h,T,r,H,j,N);w.Er.Lk(h,T+3,r,H,j+1,N);j+=N;T+=3*e;w.Er.B9(h,T,r,H,j,N);w.Er.HC(h,T+3,r,H,j+1,N)}};
w.raw={};w.raw.a53=function(r){var N=Date.now(),F=r.width,h=r.height,m=0,O=0,e=F,P=h;if(r.t50829){var B=r.t50829;
m=B[1];O=B[0];e=B[3];P=B[2]}if(r.t50719){var s=r.t50719;m+=s[0]>>1<<1;O+=s[1]>>1<<1}if(r.t50720){var Y=r.t50720;
e=m+Y[0];P=O+Y[1]}var D=e-m,c=P-O,o=w.raw.acl(r),H=r.t33422,x=r.t33421;if(x){var Y=x[0],Q=H.slice(0);
for(var U=0;U<Y;U++)for(var I=0;I<Y;I++){var l=(I+(m&1))%Y,p=(U+(O&1))%Y;Q[U*Y+I]=H[p*Y+l]}H=Q}if(r.t277[0]==1)w.raw.aoY(o,F,h,r,H);
w.raw.WH(2,r,o,F,h);var j=new Float32Array(D*c*3);if(r.t277[0]==1){if(x==null){w.Er.abQ(o,F,h,j,m,O,D,c)}else if(x.length!=2||x[0]!=2||x[1]!=2){console.log("Unknown CFA pattern size",x);
w.Er.Yw(o,F,h,j,m,O,D,c,x[0],H)}else{var T=r.t33422.join(","),V=0;if(T=="0,1,1,2")V=0;else if(T=="1,0,2,1")V=1;
else if(T=="2,1,1,0")V=2;else if(T=="1,2,0,1")V=3;else throw"Unknown CFA pattern "+T;if((D&1)!=0||(c&1)!=0)throw"e";
w.Er.amE(o,F,h,j,m,O,D,c,V)}}else{for(var U=0;U<c;U++)for(var I=0;I<D;I++){var E=((U+O)*F+I+m)*3,_=(U*D+I)*3;
j[_+0]=o[E+0];j[_+1]=o[E+1];j[_+2]=o[E+2]}}var f=j,S=j.length,L=w.raw.OI(r),y=1/L;for(var R=0;R<S;R+=3){j[R]=f[R]*y;
j[R+1]=f[R+1]*y;j[R+2]=f[R+2]*y}w.raw.WH(3,r,j,D,c);var $=r.NG,Z=D,i=c;if($==1||$==9){}else{var b=w.raw.C_($,D,c),_=0;
Z=b[0];i=b[1];var G=j.slice(0);for(var U=0;U<i;U++)for(var I=0;I<Z;I++){var g=b[2]*I+b[3]*U+b[4],u=b[5]*I+b[6]*U+b[7],E=(u*D+g)*3;
j[_]=G[E];j[_+1]=G[E+1];j[_+2]=G[E+2];_+=3}}return{iS:j,mG:Z,Yh:i}};w.raw.C_=function(r,N,F){var h=N,m=F;
if(!1){}else if(r==2)return[N,F,-1,0,N-1,0,1,0];else if(r==3)return[N,F,-1,0,N-1,0,-1,F-1];else if(r==4)return[N,F,1,0,0,0,-1,F-1];
else if(r==5)return[F,N,0,1,0,1,0,0];else if(r==6)return[F,N,0,1,0,-1,0,F-1];else if(r==7)return[F,N,0,-1,N-1,-1,0,F-1];
else if(r==8)return[F,N,0,-1,N-1,1,0,0];else throw"unknown orientation "+r};w.raw.aoY=function(r,N,F,h,m){var O=Date.now(),y=0,i=0;
if(w.raw.OI(h)>4e4){for(var R=0;R<r.length;R++)r[R]>>=1;var e=["t50714","t50715","t50712","t50717"];
for(var R=0;R<e.length;R++){var P=h[e[R]];if(P)for(var B=0;B<P.length;B++)P[B]>>>=1}console.log("remapping to lower bit depth")}var s=~~Math.sqrt(m.length),Y=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],D=[];
for(var c=0;c<s;c++)for(var o=0;o<s;o++){var R=c*s+o,H=m[R],x=4,Q=4,U=8,I=0,l=0;for(var B=0;B<18;B+=2){var p=(s+o+Y[B])%s,j=(s+c+Y[B+1])%s,T=m[j*s+p];
if(T==H){}else if(x==4){x=T;I=B}else if(Q==4&&T!=x){Q=T;l=B;break}}if(Q<x){var V=Q;Q=x;x=V;V=l;l=I;I=V}if(x<H){var V=x;
x=H;H=V;V=I;I=U;U=V}if(Q<x){var V=Q;Q=x;x=V;V=l;l=I;I=V}D[R*3]=Y[U+1]*N+Y[U];D[R*3+1]=Y[I+1]*N+Y[I];
D[R*3+2]=Y[l+1]*N+Y[l]}var E=~~(.996*w.raw.OI(h)),_=~~(.992*w.raw.OI(h)),f=h.t50728;if(f[0]==0)f=[1,1,1];
var S=[],L=[0,0,0];for(var c=1;c<F-1;c++)for(var o=1;o<N-1;o++){var R=c*N+o,$=c%s*s+o%s,H=r[R+D[$*3+0]],x=r[R+D[$*3+1]],Q=r[R+D[$*3+2]],Z=Math.max(H,x,Q);
if(Z>E)S.push(R);else if(Z>_){L[0]+=H;L[1]+=x;L[2]+=Q;y++}}if(S.length==0)return;if(y/(N*F)<1e-5){console.log("not enough semi-saturated pixels",y);
L=f}if(L[1]<L[i])i=1;if(L[2]<L[i])i=2;var b=[L[0]/L[i],L[1]/L[i],L[2]/L[i]],G=r.slice(0);for(var g=0;
g<S.length;g++){var R=S[g],c=~~(R/N),o=R-c*N,$=c%s*s+o%s,u=Math.min(65535,~~(r[R+D[$*3+i]]*b[m[$]]));
if(u>G[R])G[R]=u}r.set(G)};w.raw.EW=function(r,N,F,h){var m=r.iS,O=Math.round(m.length/3),e=m.slice(0);
w.raw.xv(m,e,F,h);var P=Math.pow(2,h[2]),B=new Uint8Array(4e3);for(var R=0;R<4e3;R++){var s=R*(1/1e3);
s=w.wD(s);s*=P;s=w.ZD(s);s=Math.max(0,Math.min(1,s));s=w.raw.te.a04(s,h[3]/100);B[R]=~~(.5+255*s)}for(var R=0;
R<O;R++){var Y=R<<2,D=Y-R;N[Y]=B[~~(e[D]*1e3)];N[Y+1]=B[~~(e[D+1]*1e3)];N[Y+2]=B[~~(e[D+2]*1e3)]}};w.raw.xv=function(r,N,F,h){var m=Math.round(r.length/3),O=jY.avf(h[0],h[1]),e=w.raw.ars(F,O),P=w.nt.multiply(w.nt.xd,e),B=Math.pow(2,F.t50730?F.t50730[0]:0);
P=w.nt.multiply(P,w.nt.g5(B,B,B));var s=w.raw.xv.a2I;if(s==null){s=w.raw.xv.a2I=new Float64Array(8e3);
for(var R=0;R<8e3;R++)s[R]=w.ZD(R*(1/1e3))}for(var R=0;R<m;R++){var Y=R<<2,D=Y-R,c=r[D],o=r[D+1],H=r[D+2],x=P[0]*c+P[1]*o+P[2]*H,Q=P[4]*c+P[5]*o+P[6]*H,U=P[8]*c+P[9]*o+P[10]*H;
if(x<0)x=0;if(Q<0)Q=0;if(U<0)U=0;N[D]=s[~~(x*1e3)];N[D+1]=s[~~(Q*1e3)];N[D+2]=s[~~(U*1e3)]}};w.raw.te={a04:function(r,N){var F=.5-.5*Math.cos(r*3.2),h=0;
if(N>0){var m=r*.2;h=m*r+(1-m)*F}else{var O=Math.pow(r,.33);h=(1-O)*O+O*(r+(r-F)*.63)}var e=Math.abs(N);
return e*h+(1-e)*r},atF:function(r,N){var F=0;if(N>0){var h=r*1.47,m=Math.pow(r,2.4);F=Math.min(1,m*r+(1-m)*h)}else{var h=r*.68,m=Math.pow(r,3);
F=m*r*.5+(1-m)*h}var O=Math.abs(N);return O*F+(1-O)*r},asg:function(r,N){var F=0;if(N>0){var h=Math.pow(r,.3),m=r;
F=(1-r)*h+r*m}else{var h=Math.pow(r,2.5),O=r,m=r;F=Math.min(1,(1-O)*h+O*m)}var e=Math.abs(N);return e*F+(1-e)*r}};
w.raw.acl=function(r){var N=r.width,F=r.height,h=N*F*r.t277,m=new Uint16Array(h),O=null,e=0;w.raw.ao$(r,m);
w.raw.WH(1,r,m,N,F);if(r.t50712){O=r.t50712;e=O.length-1;if(O[e]>65535)throw"too big values"}var P=w.raw.y0(r),B=w.raw.DU(r);
if(O==null)for(var R=0;R<h;R++)m[R]=Math.max(0,m[R]-P);else for(var R=0;R<h;R++){var s=m[R];if(s>e)s=e;
s=O[s];m[R]=Math.max(0,s-P)}return m};w.raw.y0=function(r){var N=r.t50714,F=N?N[0]:0,h=r.t50715,m=r.t50716;
if(h)F+=h[0][0]/h[0][1];if(m)F+=m[0][0]/m[0][1];return Math.round(F)};w.raw.DU=function(r){var N=null,F=0;
if(r.t50712){N=r.t50712;F=N.length-1}var h=r.t50717?r.t50717[0]:(1<<r.t258[0])-1;if(N)h=Math.min(h,N[F]);
return h};w.raw.OI=function(r){var N=w.raw.y0(r),F=w.raw.DU(r);return F-N};w.raw.ao$=function(r,N){var F=N.length,h=r.data,m=r.t258[0];
if(m!=16&&m!=14&&m!=12&&m!=10&&m!=8)throw"Unsupported Bits Per Sample:"+m;m=Math.round(h.length*8/F);
if(m==16&&r.isLE){w.ZF(h,N);return}for(var R=0;R<F;R+=2){var O=0,e=0,P=0;if(m==16){O=R<<1;e=h[O]<<8|h[O+1];
P=h[O+2]<<8|h[O+3]}else if(m==14){var B=R*14,s=B>>>3,Y=h[s]<<24|h[s+1]<<16|h[s+2]<<8|h[s+3];if((B&7)==0){e=Y>>>18;
P=Y>>>4&16383}else{e=Y>>>14&16383;P=Y&16383}}else if(m==12){O=R+(R>>>1);e=h[O]<<4|h[O+1]>>4;P=(h[O+1]&15)<<8|h[O+2]}else if(m==10){var B=R*10,s=B>>>3;
if((B&7)==0){e=(h[s]<<2|h[s+1]>>6)&1023;P=(h[s+1]<<4|h[s+2]>>4)&1023}else{e=(h[s]<<6|h[s+1]>>2)&1023;
P=(h[s+1]<<8|h[s+2]>>0)&1023}}else if(m==8){O=R;e=h[O];P=h[O+1]}N[R]=e;N[R+1]=P}};w.raw.arY=function(r,N,F,h,m,O,e){var P=r-.499999,B=N-.499999,s=~~P,Y=~~B,D=P-s,c=B-Y,o=(1-c)*(1-D),H=(1-c)*D,x=c*(1-D),Q=c*D,U=(Y*h+s)*3,I=((Y+1)*h+s)*3,l=o*F[U]+H*F[U+3]+x*F[I]+Q*F[I+3],p=o*F[U+1]+H*F[U+4]+x*F[I+1]+Q*F[I+4],j=o*F[U+2]+H*F[U+5]+x*F[I+2]+Q*F[I+5];
O[e]=l;O[e+1]=p;O[e+2]=j};w.raw.WH=function(r,N,F,h,m){var O=N["t"+[51008,51009,51022][r-1]],Y=0;if(O==null)return;
var e=h*m,P=J.l,B=J.AR,s=new Uint8Array(O),ed=J.l(s,Y);Y+=4;for(var D=0;D<ed;D++){var c=P(s,Y);Y+=4;
var o=P(s,Y);Y+=4;var H=P(s,Y);Y+=4;var x=P(s,Y);Y+=4;if(!1){}else if(c==1&&r==3){var Q=Y,U=P(s,Q);Q+=4;
var I=B(s,Q);Q+=8;var l=B(s,Q);Q+=8;var p=B(s,Q);Q+=8;var j=B(s,Q);Q+=8;var T=B(s,Q);Q+=8;var V=B(s,Q);
Q+=8;Q+=(U-1)*8*6;var E=B(s,Q);Q+=8;var _=B(s,Q);Q+=8;var f=E*h,S=_*m,L=Math.max(f,h-f),y=Math.max(S,m-S),$=Math.sqrt(L*L+y*y),Z=1/$,i=F.slice(0);
for(var b=0;b<m;b++)for(var G=0;G<h;G++){var g=(G+.5-f)*Z,u=(b+.5-S)*Z,A=g*g+u*u,a=I+l*A+p*(A*A)+j*(A*A)*A,d=T*(2*g*u)+V*(A+2*g*g),K=V*(2*g*u)+T*(A+2*u*u),n=Math.min(f+$*(a*g+d),h-1),t=Math.min(S+$*(a*u+K),m-1),X=(b*h+G)*3;
w.raw.arY(n,t,i,h,m,F,X)}}else if(c==3&&r==3){var Q=Y,aK=B(s,Q);Q+=8;var fg=B(s,Q);Q+=8;var k=B(s,Q);
Q+=8;var hG=B(s,Q);Q+=8;var eE=B(s,Q);Q+=8;var E=B(s,Q);Q+=8;var _=B(s,Q);Q+=8;var f=E*h,S=_*m,L=Math.max(f,h-f),y=Math.max(S,m-S),$=Math.sqrt(L*L+y*y),Z=1/$;
for(var b=0;b<m;b++)for(var G=0;G<h;G++){var g=(G+.5-f)*Z,u=(b+.5-S)*Z,A=g*g+u*u,hW=1+(aK+(fg+(k+(hG+eE*A)*A)*A)*A)*A,X=(b*h+G)*3;
F[X]=hW*F[X];F[X+1]=hW*F[X+1];F[X+2]=hW*F[X+2]}}else if(c==4&&r==1){var Q=Y,hh=P(s,Q);Q+=4;var hI=P(s,Q);
Q+=4;for(var R=0;R<e;R++)if(F[R]==hh)F[R]=F[R-2]+F[R+2]>>1}else if(c==5&&r==1){var Q=Y,db=P(s,Q);Q+=4;
var by=P(s,Q);Q+=4;var jM=P(s,Q);Q+=4;for(var R=0;R<by;R++){var fP=P(s,Q);Q+=4;var hB=P(s,Q);Q+=4;var R=fP*h+hB;
F[R]=F[R-2]+F[R+2]>>1}}else if(c==7&&r==1){var Q=Y,iu=J.TQ(s,Q);Q+=16;var be=P(s,Q);Q+=4;var bp=P(s,Q);
Q+=4;var ij=P(s,Q),fT=P(s,Q+4);Q+=8;var ei=P(s,Q);Q+=4;var bz=new Uint16Array(ei);for(var R=0;R<ei;R++)bz[R]=J.Dx(s,Q+2*R);
var aM=iu.e,hw=iu.n;for(var b=0;b<hw;b+=ij)for(var G=0;G<aM;G+=fT){var R=(iu.y+b)*h+(iu.x+G);F[R]=bz[F[R]]}}else if(c==8&&r==2){var Q=Y,iu=J.TQ(s,Q);
Q+=16;var be=P(s,Q);Q+=4;var bp=P(s,Q);Q+=4;var ij=P(s,Q),fT=P(s,Q+4);Q+=8;var hx=P(s,Q);Q+=4;var fm=[];
for(var R=0;R<=hx;R++)fm[R]=J.AR(s,Q+R*8);var dE=iu.x,gD=iu.x+iu.e,c2=iu.y,bQ=iu.y+iu.n,f9=N.t50717[0],jR=1/f9;
for(var gP=0;gP<bp;gP++)for(var b=c2;b<bQ;b+=ij){var X=3*b*h+be+gP;for(var G=dE;G<gD;G+=fT){var R=X+3*G,jh=F[R]*jR,k6=fm[hx];
for(var eZ=hx;eZ>0;eZ--)k6=k6*jh+fm[eZ-1];F[R]=Math.max(0,Math.min(65535,~~(k6*f9)))}}}else if(c==9&&r==2){var Q=Y,iu=J.TQ(s,Q),ds=!0;
Q+=16;var be=P(s,Q);Q+=4;var bp=P(s,Q);Q+=4;var ij=P(s,Q),fT=P(s,Q+4);Q+=8;var b5=P(s,Q),fG=P(s,Q+4);
Q+=8;var jG=B(s,Q),i_=B(s,Q+8);Q+=16;var aY=B(s,Q),jk=B(s,Q+8);Q+=16;var ih=P(s,Q);Q+=4;if(ih!=1)throw"more than one map plane";
var jr=b5*fG,hV=new Float32Array(jr);for(var eZ=0;eZ<jr;eZ++)hV[eZ]=J._W(s,Q+eZ*4);for(var eZ=0;eZ<jr;
eZ++)if(hV[eZ]!=1)ds=!1;if(!ds){var aM=iu.e,hw=iu.n,jA=.9999*(fG-1)/aM,eI=.9999*(b5-1)/hw;for(var b=0;
b<hw;b+=ij)for(var G=0;G<aM;G+=fT){var R=(iu.y+b)*h+(iu.x+G),hH=G*jA,bO=b*eI,k7=Math.floor(hH),dO=Math.floor(bO),cG=hH-k7,cV=bO-dO,X=dO*fG+k7,g3=hV[X]*(1-cG)+hV[X+1]*cG,gh=hV[X+fG]*(1-cG)+hV[X+1+fG]*cG,bH=g3*(1-cV)+gh*cV;
F[R]=Math.max(0,Math.min(65535,~~(F[R]*bH+.5)))}}}else console.log("Unknown opcode "+c+" in OpcodeList"+r+". Length: "+x);
Y+=x}};w.raw.ars=function(r,N){var F=jY.yO(N),h=w.raw.m6(r,N),m=w.nt.iL(h),O=jY.afX(F,jY.yO(jY.a3m)),e=w.nt.multiply(O,m);
return e};w.raw.adF=function(r){var N=r.t50728,m=1;if(N==null||N[0]==0)N=[1,1,1];var F=N.slice(0);F.push(0);
var h={x:.34567,y:.3585};do{var O=w.nt.iL(w.raw.m6(r,h)),e=w.nt.LS(O,F),P=jY.a2p(e);m=Math.abs(h.x-P.x)+Math.abs(h.y-P.y);
h=P}while(m>1e-7);return h};w.raw.m6=function(r,N){var F=jY.tj(N),h=w.raw.aul,m=r.t50778?r.t50778[0]:0,O=r.t50779?r.t50779[0]:0,e=h(r.t50721,r.t50722,m,O,F.MF),P=h(r.t50723,r.t50724,m,O,F.MF);
e=e||[1,0,0,0,1,0,0,0,1];P=P||[1,0,0,0,1,0,0,0,1];var B=r.t50727?[r.t50727[0],0,0,0,r.t50727[1],0,0,0,r.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return w.nt.multiply(w.nt.HS(B),w.nt.multiply(w.nt.HS(P),w.nt.HS(e)))};w.raw.aul=function(r,N,F,h,m){if(!r&&!N){return null}else if(r&&!N){return r}else if(m<F){return r}else if(m>h){return N}else{var O=(1/m-1/h)/(1/F-1/h),e=1-O,P=[];
for(var R=0;R<9;R++)P[R]=r[R]*O+N[R]*e;return P}};var jY={};jY.a3m={x:.34567,y:.3585};jY.il=[{Z:0,$E:.18006,MB:.26352,xa:-.24341},{Z:10,$E:.18066,MB:.26589,xa:-.25479},{Z:20,$E:.18133,MB:.26846,xa:-.26876},{Z:30,$E:.18208,MB:.27119,xa:-.28539},{Z:40,$E:.18293,MB:.27407,xa:-.3047},{Z:50,$E:.18388,MB:.27709,xa:-.32675},{Z:60,$E:.18494,MB:.28021,xa:-.35156},{Z:70,$E:.18611,MB:.28342,xa:-.37915},{Z:80,$E:.1874,MB:.28668,xa:-.40955},{Z:90,$E:.1888,MB:.28997,xa:-.44278},{Z:100,$E:.19032,MB:.29326,xa:-.47888},{Z:125,$E:.19462,MB:.30141,xa:-.58204},{Z:150,$E:.19962,MB:.30921,xa:-.70471},{Z:175,$E:.20525,MB:.31647,xa:-.84901},{Z:200,$E:.21142,MB:.32312,xa:-1.0182},{Z:225,$E:.21807,MB:.32909,xa:-1.2168},{Z:250,$E:.22511,MB:.33439,xa:-1.4512},{Z:275,$E:.23247,MB:.33904,xa:-1.7298},{Z:300,$E:.2401,MB:.34308,xa:-2.0637},{Z:325,$E:.24792,MB:.34655,xa:-2.4681},{Z:350,$E:.25591,MB:.34951,xa:-2.9641},{Z:375,$E:.264,MB:.352,xa:-3.5814},{Z:400,$E:.27218,MB:.35407,xa:-4.3633},{Z:425,$E:.28039,MB:.35577,xa:-5.3762},{Z:450,$E:.28863,MB:.35714,xa:-6.7262},{Z:475,$E:.29685,MB:.35823,xa:-8.5955},{Z:500,$E:.30505,MB:.35907,xa:-11.324},{Z:525,$E:.3132,MB:.35968,xa:-15.628},{Z:550,$E:.32129,MB:.36011,xa:-23.325},{Z:575,$E:.32931,MB:.36038,xa:-40.77},{Z:600,$E:.33724,MB:.36051,xa:-116.45}];
jY.tj=function(r){var N=jY.il,F=2*r.x/(1.5-r.x+6*r.y),h=3*r.y/(1.5-r.x+6*r.y),m=0,O=0,e=0;for(;e<31;
e++){m=h-N[e].MB-N[e].xa*(F-N[e].$E);if(e>0&&m<0){break}O=m}while(e>=N.length)e--;m/=Math.sqrt(1+N[e].xa*N[e].xa);
O/=Math.sqrt(1+N[e-1].xa*N[e-1].xa);var P=O/(O-m),B=1e6/((N[e].Z-N[e-1].Z)*P+N[e-1].Z),s=F-((N[e].$E-N[e-1].$E)*P+N[e-1].$E),Y=h-((N[e].MB-N[e-1].MB)*P+N[e-1].MB),D=Math.sqrt(1+N[e].xa*N[e].xa),c=1/D,o=N[e].xa/D,H=Math.sqrt(1+N[e-1].xa*N[e-1].xa),x=1/H,Q=N[e-1].xa/H,U=(c-x)*P+x,I=(o-Q)*P+Q,l=Math.sqrt(U*U+I*I);
U/=l;I/=l;var p=(s*U+Y*I)*-3e3;return{MF:B,EJ:p}};jY.avf=function(r,N){var F=jY.il,h=1e6/r,m=1;for(;
m<31;m++){if(h<F[m].Z){break}}var O=(F[m].Z-h)/(F[m].Z-F[m-1].Z),e=(F[m-1].$E-F[m].$E)*O+F[m].$E,P=(F[m-1].MB-F[m].MB)*O+F[m].MB,B=Math.sqrt(1+F[m].xa*F[m].xa),s=1/B,Y=F[m].xa/B,D=Math.sqrt(1+F[m-1].xa*F[m-1].xa),c=1/D,o=F[m-1].xa/D,H=(c-s)*O+s,x=(o-Y)*O+Y,Q=Math.sqrt(H*H+x*x);
H/=Q;x/=Q;e+=H*N/-3e3;P+=x*N/-3e3;return{x:1.5*e/(e-4*P+2),y:P/(e-4*P+2)}};jY.a2p=function(r){var N=r[0]+r[1]+r[2];
return{x:r[0]/N,y:r[1]/N}};jY.yO=function(r){return{x:r.x/r.y,y:1,nD:(1-r.x-r.y)/r.y}};jY.afX=function(r,N){var F=w.nt.HS([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),h=[r.x,r.y,r.nD,0],m=[N.x,N.y,N.nD,0];
h=w.nt.LS(F,h);m=w.nt.LS(F,m);var O=m[0]/h[0],e=m[1]/h[1],P=m[2]/h[2],B=w.nt.HS([O,0,0,0,e,0,0,0,P]),s=w.nt.iL(F);
return w.nt.multiply(w.nt.multiply(s,B),F)};w.raw.X2={};w.raw.Zp=function(r){r*=8;var N=[8,10,12,14,16];
for(var F in CAMS){var h=CAMS[F];if(h.length==4)continue;var m=h[4],O=h[5];for(var R=0;R<N.length;R++)if(m*O*N[R]==r)return[F,N[R]]}var e=[[4e3,3e3]];
for(var R=0;R<e.length;R++){var h=e[R],m=h[0],O=h[1];for(var R=0;R<N.length;R++)if(m*O*N[R]==r)return[h,N[R]]}return null};
w.raw.amq=function(r){var r=new Uint8Array(r);for(var R=0;R<r.length;R+=2){var N=r[R];r[R]=r[R+1];r[R+1]=N}var F=w.raw.Zp(r.length),h=CAMS[F[0]];
if(h==null)h=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,F[0][0],F[0][1]];var m=h[4],O=h[5],e=Math.max(h[2],116),P={data:r,NG:1,width:m,height:O,t256:[m],t257:[O],t258:[F[1]],t277:[1],t33421:[2,2],t33422:w.raw.UU[h[1]],t50706:[1,2,0,0],t50714:[e,e,e,e],t50717:[h[3]],t50721:h[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var R=0;R<9;R++)P.t50721[R]/=1e4;return P};w.raw.u3=function(r){if(r==null||r.length==0||typeof r[0]=="number")return r;
var N=[];for(var R=0;R<r.length;R++)N[R]=r[R][1]==0?0:r[R][0]/r[R][1];return N};w.raw.UU=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
w.raw.normalize=function(r,N){if(r.t50706!=null||r.t271[0].startsWith("Hasselblad")){var F=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var R=0;R<F.length;R++)if(r["t"+F[R]]!=null)r["t"+F[R]]=w.raw.u3(r["t"+F[R]]);if(r.t271&&r.t271[0].startsWith("Hasselblad")){r.t50706=[1,2,0,0];
r.t33422=w.raw.UU[1];r.t50723=[1,0,0,0,1,0,0,0,1];r.t50778=[17];if(!r.isLE)for(var R=0;R<r.data.length;
R+=2){var h=r.data[R];r.data[R]=r.data[R+1];r.data[R+1]=h}}return}var m=r.t258[0],O=r.exifIFD,N=new Uint8Array(N);
r.t50706=[1,2,0,0];var e=r.t272[0].trim();if(e.indexOf(" ")==-1)e=r.t271[0].trim()+" "+e;if(r.t50708==null)r.t50708=[e];
var P=e.toLowerCase(),B=CAMS,s=B[P];if(s==null)for(var Y in B)if(P.startsWith(Y))s=B[Y];if(s==null)alert("Unknown camera:"+e);
else{var D=s[2];r.t50714=[D,D,D,D];r.t50717=[s[3]];r.t50721=s[0].slice(0);for(var R=0;R<9;R++)r.t50721[R]=r.t50721[R]*(1/1e4)}r.t50723=[1,0,0,0,1,0,0,0,1];
if(r.t50728==null)r.t50728=[.35,1,.6];r.t50778=[17];if(r.t271[0].startsWith("SONY")){var c=UTIF["_bin"+(r.isLE?"LE":"BE")],o=r.t28688,p;
if(JSON.stringify(o)!="[8000,10400,12900,14100]")console.log(o);if(o){var H=[0,0,0,0,0,4095],x=new Uint16Array(16385);
for(var R=0;R<4;R++){var Q=o[R]>>>2;H[R+1]=Q;if(Q>4095)throw"e"}for(var R=0;R<16385;R++)x[R]=R;for(var R=0;
R<5;R++)for(var U=H[R]+1;U<=H[R+1];U++)x[U]=x[U-1]+(1<<R);var I=N.length*8<r.width*r.height*m;if(I)r.t50712=x}else console.log("no curve");
var l=r.dngPrvt;if(l){var j=l.t29184[0],T=l.t29185[0],V=(r.isLE?J.Iy:J.l)(l.t29217,0),E=new Uint32Array(N.slice(j,j+(T&4294967292)).buffer),_=new Uint32Array(T>>>2);
w.raw.a0f(E,_,T>>>2,V);var f=new Uint8Array(j+T);f.set(new Uint8Array(_.buffer),j);var S=[];UTIF._readIFD(c,f,j,S,0,!1);
var L=S.pop(),y=L.t29458;r.t50728=[y[1]/y[0],1,y[1]/y[3]];r.t50730=[.5];var $=L.t29891;r.t50829=[$[1],$[0],$[3],$[2]]}else if(O.makerNote&&O.makerNote.t8208){var p=O.makerNote,Z=p.t8208,i=Z.length,b=0,G=new Uint8Array(256);
for(var R=249;R<256;R++)G[R]=R;for(var R=0;R<249;R++)G[R*R*R%249]=R;for(var R=0;R<i;R++)Z[R]=G[Z[R]];
if(i==6604)b=612;else throw"e";var y=[];for(var R=0;R<3;R++)y.push(J.Ki(Z,b+R*2));console.log(y);r.t50728=[y[1]/y[0],1,y[1]/y[2]]}else console.log("no white balance");
if(r.width*r.height*1.5==r.t279[0]){D=D>>>2;r.t50714=[D,D,D,D];r.t50717=[s[3]>>>2]}}else if(r.t271[0].startsWith("Canon")){var N=r.data,g=N.slice(0),u=r.t50752,A=[],d=0;
if(u==null||u[0]==0&&u[1]==0)A.push(r.width);else{for(var R=0;R<u[0];R++)A.push(u[1]);A.push(u[2])}var a=r.width*2;
for(var K=0;K<A.length;K++){var n=A[K],t=2*d,X=2*n;for(var aK=0;aK<r.height;aK+=2){var fg=aK*a+t,k=r.height*t+(aK>>1)*X*2;
for(var R=0;R<X;R++){N[fg+R]=g[k+R];N[fg+R+a]=g[k+R+X]}}d+=n}var p=O.makerNote;if(p.t16385){var hG=p.t224,hh=0;
if(hG){r.t50719=[hG[5],hG[6]];r.t50720=[hG[7]+1-hG[5],hG[8]+1-hG[6]]}var eE=p.t16385,hW=eE.length;if(hW==582)hh=1;
else if(hW==653)hh=2;else if(hW==796)hh=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(hW)!=-1)hh=4;
else if(hW==5120){hh=5;eE=new Int16Array(eE.slice(0).buffer)}else if(hW==1273||hW==1275)hh=6;else if([1312,1313,1316,1506].indexOf(hW)!=-1)hh=7;
else if([1560,1592,1353,1602].indexOf(hW)!=-1)hh=8;else throw"e"+hW;var hI=eE[0],db=[null,[25,166],[34,286],[63,196],[63],[71,hI==-4?333:264],[63,251],[63,hI==10?504:728],[63,326]],b=db[hh][0],by=db[hh][1];
if(hh==4){if(eE[0]==2)by=231;else if(eE[0]==3)by=231;else if(eE[0]==4)by=231;else if(eE[0]==5)by=231;
else if(eE[0]==6)by=231;else if(eE[0]==7)by=231;else if(eE[0]==9)by=231;else throw"e"}r.t50728=[eE[b+1]/eE[b],1,eE[b+1]/eE[b+3]];
var D=by==null?1024:eE[by];if(hh!=4)r.t50714=[D,D,D,D]}else{r.t50728=[.4,1,.6]}}else if(r.t271[0].startsWith("NIKON")){var p=O.makerNote,jM=r.isLE?J.Ki:J.OU,ij=0,fT=0,hx,jR=0;
if(p.t61){var fP=p.t61,hB=[];for(var R=0;R<4;R++)hB[R]=fP[R]/Math.pow(2,14-m);r.t50714=hB}if(p.t3585){var iu=p.t3585,R=0,j=22;
while(j<iu.length&&R!=-4){var be=J.Iy(iu,j);j+=4;j+=14;R=J.Iy(iu,j)-4;j+=4;if(be==1990472198){if(iu[j]!=0)throw"Flip"}if(be==1990472199){var bp=J.Ki(iu,j);
if(bp==0)r.NG=1;else if(bp==270)r.NG=8;else throw"e "+bp}j+=R}}if(p.t183){var ei=p.t183,bz=[];for(var R=0;
R<6;R++)bz.push(jM(ei,16+R*2));ij=bz[0];fT=bz[1]}if(p.t3614){var aM=p.t3614;ij=J.Iy(aM,8);fT=J.Iy(aM,12)}if(ij!=0&&Math.max(ij,fT)<Math.max(r.width,r.height)){if(ij<fT){var h=ij;
ij=fT;fT=h}var d=r.width-ij>>>1,aK=r.height-fT>>>1;r.t50829=[aK,d,aK+fT,d+ij]}var hw=p.t69;if(hw)r.t50829=[hw[1],hw[0],hw[1]+hw[3],hw[0]+hw[2]];
if(p.t12){var fm=w.raw.u3(p.t12);hx=[1/fm[0],1,1/fm[1]]}else if(p.t151){var dE=w.raw.auU(p,151),gD=dE[0],gT=dE[1],c2=dE[2];
if(gD=="0100"&&gT>=80)throw"e";else if(gD=="0102"){var bQ=[];for(var R=0;R<4;R++)bQ.push(jM(c2,6+R*2));
hx=[bQ[1]/bQ[0],1,bQ[1]/bQ[3]]}else if(gD=="0103"&&gT>=26){var bQ=[];for(var R=0;R<4;R++)bQ.push(jM(c2,16+R*2));
hx=[bQ[1]/bQ[0],1,bQ[3]/bQ[2]]}else if(gD=="0204"&&gT>=564||gD=="0205"&&gT>=284){var j=gD=="0204"?6:14,bQ=[];
for(var R=0;R<4;R++)bQ.push(jM(c2,j+R*2));hx=[bQ[1]/bQ[0],1,bQ[1]/bQ[3]]}else throw"e"}else console.log("no white balance info");
if(e=="NIKON D1")hx=[1,1,1];if(hx)r.t50728=hx;var f9=p.t150?p.t150:p.t140;if(f9){var gP=f9[jR++],jh=f9[jR++],b5;
if(gP==73||jh==88)jR+=2110;jR+=8;var k6=1<<m&32767,eZ=jM(f9,jR);jR+=2;var x=[];if(eZ>1)b5=Math.floor(k6/(eZ-1));
if(gP==68&&jh==32&&b5>0){for(R=0;R<eZ;R++){x[R*b5]=jM(f9,jR);jR+=2}for(R=0;R<k6;R++)x[R]=Math.floor((x[R-R%b5]*(b5-R%b5)+x[R-R%b5+b5]*(R%b5))/b5)}else if(gP!=70&&eZ<=16385){k6=eZ;
for(var R=0;R<eZ;R++)x[R]=jM(f9,jR+2*R);jR+=2*eZ}if(x.length!=0)r.t50712=new Uint16Array(x);else if(r.t272[0]=="NIKON D750")r.t50717[0]*=4}}else if(e.startsWith("FujiFilm")){}else alert("Unknown camera "+e)};
w.raw.a0f=function(r,N,F,h){if(0==F)return;var m=new Uint32Array(128),O=new Uint8Array(m.buffer),e=127,P=0,B=0;
for(var e=0;e<4;e++)m[e]=h=(h*15625>>>0)*3125+1>>>0;m[3]=m[3]<<1|(m[0]^m[2])>>>31;for(var e=4;e<127;
e++)m[e]=(m[e-4]^m[e-2])<<1|(m[e-3]^m[e-1])>>>31;for(var e=0;e<127;e++)m[e]=J.l(O,e*4);for(;F>0;F--){m[e&127]=m[e+1&127]^m[e+1+64&127];
var s=m[e&127],Y=r[P];Y^=s;N[B]=Y;P++;B++;e++}};w.raw.afG=function(r,N){var F=J.Mj(N,0,4),h=w.raw.a9D;
for(var R=0;R<h.length;R++)if(h[R][0]==r&&F.startsWith(h[R][1])&&(h[R][2]==0||h[R][2]==N.length))return h[R];
throw"e"};w.raw.aa9=function(r){if(r.t29==null)return[];var N=w.raw.a85,F=w.raw.ade,h=r.t29[0],m=0,e=0;
for(var R=0;R<h.length;R++){var O=h.charCodeAt(R);m=m*10+(48<=O&&O<=57?O-48:O%10)}var gT=r.t167[0];for(var R=0;
R<4;R++)e^=gT>>>(R<<3)&255;var P=N[m&255],B=F[e&255];return[P,B,96]};w.raw.auU=function(r,N){var F=r["t"+N],gT=F.length,h=w.raw.afG(N,F),m=J.Mj(F,0,4),O,e=h[4];
if(e==null)O=F.slice(4);else{O=new Uint8Array(gT-e);var P=w.raw.aa9(r),B=P[0],s=P[1],Y=P[2];for(var R=0;
R<O.length;R++){s=s+B*Y++&255;O[R]=F[e++]^s}}return[m,gT,O]};w.raw.a9D=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
w.raw.a85=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
w.raw.ade=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
w.Tk={};w.Tk.Tk=function(r,N,F,h,m){if(h==null)h=3;if(m==null)m=!0;var O=r.e,e=r.n,P=1/O,B=O*e,s=Date.now(),Y=!1,D=w.Tk.LA(F,O,e,255,128),c=w.Tk.LA(F,O,e,0,128),fg=0;
if(Y)console.log("extract contours",Date.now()-s);s=Date.now();var o=function(jh,k6){var eZ=jh<<2,b5=k6<<2;
return N[eZ]+N[eZ+1]+N[eZ+2]-(N[b5]+N[b5+1]+N[b5+2])};D.sort(o);c.sort(o);var H=w.B(B),x=w.B(B),Q=[],U=new Uint32Array(O*e);
U.fill(4294967295);for(var R=0;R<B;R++)if(F[R]==0)x[R]=255;else if(F[R]==255)H[R]=255;else{U[R]=Q.length;
Q.push(R)}var I=D.length,l=c.length,p=Q.length;function j(jh,k6,eZ,b5){var fG=jh.length,jG=new Array(fG*2);
for(var R=0;R<fG;R++){var b=jh[R],G=~~(b*b5),g=b-G*eZ,f9=b<<2;jG[R*2]=g<<16|G;jG[R*2+1]=k6[f9]<<16|k6[f9+1]<<8|k6[f9+2]}return jG}var T=j(D,N,O,P),V=j(c,N,O,P),E=j(Q,N,O,P);
if(Y)console.log("Itemize",Date.now()-s,"Unknown:",p,I,l);s=Date.now();var _=w.style.GW(H,O,e,!0),f=w.style.GW(x,O,e,!0),S=new Array(p),L=new Array(p),y=new Array(p),$=new Array(p),Z=new Array(p);
if(Y)console.log("Dist transform",Date.now()-s);s=Date.now();var i=w.Tk.se;for(var R=0;R<p;R++){var b=Q[R],G=~~(b*P),g=b-G*O,u=_[b<<1],A=_[(b<<1)+1],a=Math.sqrt(u*u+A*A),d=f[b<<1],K=f[(b<<1)+1],n=Math.sqrt(d*d+K*K);
S[R]=1/a;L[R]=1/n;var t=Math.floor(w.i.Gc(b*17)*I),X=Math.floor(w.i.Gc(b*19)*l);y[R]=t;$[R]=X;Z[R]=i(E[R*2],E[R*2+1],T[t*2],T[t*2+1],V[X*2],V[X*2+1],S[R],L[R],1e9)}var aK=[-O-1,-O,-O+1,-1,1,O-1,O,O+1];
while(Math.floor(Math.max(I,l)*Math.pow(.5,fg))>1)fg++;for(var k=0;k<h;k++){var hG=0;for(var R=0;R<p;
R++){var b=Q[R],G=~~(b*P),g=b-G*O,eE=S[R],hW=L[R],hh=E[R*2],hI=E[R*2+1],db=Z[R],t=y[R],X=$[R],be=1;if(G!=0&&g!=0&&g!=O-1&&G!=e-1)for(var by=0;
by<8;by++){var jM=U[b+aK[by]];if(jM==4294967295)continue;var fP=y[jM],hB=$[jM];if(fP==t&&hB==X)continue;
var iu=i(hh,hI,T[fP*2],T[fP*2+1],V[hB*2],V[hB*2+1],eE,hW,db);if(iu<db){db=iu;t=fP;X=hB}}for(var bp=0;
bp<fg;bp++){var ij=~~(I*be),fT=~~(l*be);be*=.5;var ei=w.i.Gc(b+k*17+bp*31),bz=w.i.Gc(b+k*29+bp*63),aM=Math.max(0,t-ij),hw=Math.min(t+ij,I-1),hx=Math.max(0,X-fT),fm=Math.min(X+fT,l-1),fP=aM+~~(ei*(hw-aM)),hB=hx+~~(bz*(fm-hx)),iu=i(hh,hI,T[fP*2],T[fP*2+1],V[hB*2],V[hB*2+1],eE,hW,db);
if(iu<db){db=iu;t=fP;X=hB}}Z[R]=db;y[R]=t;$[R]=X;hG+=db}}if(Y)console.log(hG);if(Y)console.log("iterations",Date.now()-s);
s=Date.now();var dE=F.slice(0);for(var R=0;R<p;R++){var gD=w.Tk.alpha(E[R*2+1],T[y[R]*2+1],V[$[R]*2+1]);
dE[Q[R]]=~~(.5+255*gD)}dE=w.w8.a2O(dE,N,new fE(0,0,O,e),16,.01*.01);if(Y)console.log("guided filter",Date.now()-s);
s=Date.now();if(m)for(var R=0;R<B;R++)if(F[R]==255||F[R]==0)dE[R]=F[R];var c2=N.slice(0);for(var R=0;
R<p;R++){var bQ=Q[R],t=D[y[R]],db=Z[R],f9=bQ<<2,jR=dE[bQ],gP=(jR>=250?bQ:t)<<2;c2[f9]=N[gP];c2[f9+1]=N[gP+1];
c2[f9+2]=N[gP+2]}w.vr(dE,c2,3);if(Y)console.log(Date.now()-s);s=Date.now();return c2};w.Tk.se=function(r,N,F,h,m,O,e,P,B){var s=r>>>16,Y=r&65535,D=s-(F>>>16),c=Y-(F&65535),o=s-(m>>>16),H=Y-(m&65535),x=Math.sqrt(D*D+c*c)*e,Q=Math.sqrt(o*o+H*H)*P;
if(x+Q>=B)return 1e9;var U=w.Tk.abj(N,h,O);return U+x+Q};w.Tk.abj=function(r,N,F){var h=r>>>16,m=r>>>8&255,O=r&255,e=N>>>16,P=N>>>8&255,B=N&255,s=F>>>16,Y=F>>>8&255,D=F&255,c=w.Tk.alpha(r,N,F),o=h-(c*e+(1-c)*s),H=m-(c*P+(1-c)*Y),Q=O-(c*B+(1-c)*D);
return Math.sqrt(o*o+H*H+Q*Q)};w.Tk.alpha=function(r,N,F){var h=r>>>16,m=r>>>8&255,O=r&255,e=N>>>16,P=N>>>8&255,B=N&255,s=F>>>16,Y=F>>>8&255,D=F&255,c=e-s,o=P-Y,H=B-D,x=h-s,Q=m-Y,U=O-D,I=c*c+o*o+H*H,l=I==0?.5:(x*c+Q*o+U*H)/I;
return Math.max(0,Math.min(1,l))};w.Tk.adR=function(r){};w.Tk.LA=function(r,N,F,h,m){var O=[],e=N-1,P=F-1;
for(var B=1;B<P;B++)for(var s=1;s<e;s++){var R=B*N+s;if(r[R]==h&&(r[R-N-1]==m||r[R-N]==m||r[R-N+1]==m||(r[R-1]==m||r[R+1]==m)||(r[R+N-1]==m||r[R+N]==m||r[R+N+1]==m)))O.push(R)}return O};
w.w8={};w.w8.abF=function(r,N,F,h,m){var O=F.e,e=F.n,P=O*e,B=w.w8.Zl,s=w.B(P*4),Y;w.T1(s,4294967295);
var D=F,c=r,o=N,H=h;w.vr(r,s,0);Y=w.Ck(s,F);Y=w.Ck(Y.iS,Y.rect);D=Y.rect;H=h>>>2;console.log(D,H);c=w.B(D.W());
w.Pw(Y.iS,c,0);w.vr(N,s,0);Y=w.Ck(s,F);Y=w.Ck(Y.iS,Y.rect);o=w.B(D.W());w.Pw(Y.iS,o,0);var x=w.w8.a4F(c,o,D,H,m),Q=x[0],U=x[1],I=new fE(0,0,D.e*2,D.n*2);
Q=B(Q,D,I,!0);Q=B(Q,I,F,!0);U=B(U,D,I,!0);U=B(U,I,F,!0);var l=w.B(P);for(var R=0;R<P;R++)l[R]=Math.max(0,Math.min(255,Math.floor(.5+(Q[R]*N[R]+255*U[R]))));
return l};w.w8.Zl=function(r,N,F,h){var m=F.e,O=F.n,e=N.e,P=N.n,B=w.w8.xE,s=new Float32Array(m*O);for(var Y=0;
Y<P;Y++){var D=(Y+Y)*m;for(var c=0;c<e;c++){if(!0||c==0||Y==0||c==e-1||Y==P-1)s[D]=s[D+1]=s[D+m]=s[D+m+1]=r[Y*e+c];
else{s[D]=B(c+.25,Y+.25,r,e,P);s[D+1]=B(c+.75,Y+.25,r,e,P);s[D+m]=B(c+.25,Y+.75,r,e,P);s[D+m+1]=B(c+.75,Y+.75,r,e,P)}D+=2}}return s};
w.w8.xE=function(r,N,F,h,m){r-=.499999;N-=.499999;var O=Math.floor(r),e=Math.floor(N),P=e*h+O,B=r-O,s=N-e,Y=(1-s)*(1-B),D=(1-s)*B,c=s*(1-B),o=s*B;
if(F[P]==null||F[P+h+1]==null){console.log(r,N,h,m);throw"e"}return Y*F[P+0]+D*F[P+1]+c*F[P+h+0]+o*F[P+h+1]};
w.w8.a4F=function(r,N,F,h,m){var O=F.e,e=F.n,P=O*e,B=w.w8.bS,s=w.w8.B,Y=w.Hu.N4,D=w.w8.dN,N=B(N),r=B(r),c=s(P);
Y(N,c,F,h);var o=s(P);Y(r,o,F,h);var H=s(P);D(N,N,H);Y(H,H,F,h);var x=s(P);D(N,r,x);Y(x,x,F,h);var Q=s(P),U=s(P);
for(var R=0;R<P;R++){var I=c[R],l=o[R],p=H[R]-I*I,j=x[R]-I*l,T=j/(p+m),V=l-T*I;Q[R]=T;U[R]=V}var E=s(P);
Y(Q,E,F,h);var _=s(P);Y(U,_,F,h);return[E,_]};w.w8.a2O=function(r,N,F,h,m){var O=F.e,e=F.n,P=O*e,B=w.w8.Zl,s=Date.now(),Y=!1,D=F,c=r,o=N,H=h;
D=new fE(0,0,O>>>2,e>>>2);H=h>>>2;c=w.w8.aoD(r,O,e);o=w.w8.aqX(N,O,e);if(Y)console.log(Date.now()-s);
s=Date.now();var x=w.w8.ak7(c,o,D,H,m),Q=x[0],U=x[1],I=x[2],l=x[3];if(Y)console.log(Date.now()-s);s=Date.now();
var p=w.B(P);for(var j=0;j<e;j++)for(var T=0;T<O;T++){var R=j*O+T,V=(j>>>2)*(O>>>2)+(T>>>2),E=R<<2,_=Q[V]*N[E]+U[V]*N[E+1]+I[V]*N[E+2]+l[V]*255;
p[R]=Math.max(0,Math.min(255,~~(.5+_)))}if(Y)console.log(Date.now()-s);s=Date.now();return p};w.w8.aoD=function(r,N,F){var h=N>>>2,m=F>>>2,O=w.B(N*F);
for(var e=0;e<m;e++)for(var P=0;P<h;P++)O[e*h+P]=r[e*N+P<<2];return O};w.w8.aqX=function(r,N,F){var h=N>>>2,m=F>>>2,O=w.B(N*F*4);
for(var e=0;e<m;e++)for(var P=0;P<h;P++){var B=e*h+P<<2,s=e*N+P<<4;O[B]=r[s];O[B+1]=r[s+1];O[B+2]=r[s+2];
O[B+3]=r[s+3]}return O};w.w8.ak7=function(r,N,F,h,m){var O=F.e,e=F.n,P=O*e,B=w.w8.bS,s=w.w8.B,Y=w.Hu.N4,D=w.w8.dN,r=B(r),c=new w.rX(O*e);
w.vg(N,c);var N=[B(c.Z),B(c.z),B(c.J)],o=w.w8.a4u(r,N,F,h,m),H=s(P);Y(r,H,F,h);var x=s(P);D(N[0],r,x);
Y(x,x,F,h);var Q=s(P);D(N[1],r,Q);Y(Q,Q,F,h);var U=s(P);D(N[2],r,U);Y(U,U,F,h);var I=s(P),l=s(P),p=s(P),j=s(P);
for(var R=0;R<P;R++){var T=H[R],V=o.Yx[R],E=o.L5[R],_=o.su[R],f=x[R]-V*T,S=Q[R]-E*T,L=U[R]-_*T;I[R]=o.a9k[R]*f+o.Ju[R]*S+o.Z0[R]*L;
l[R]=o.Ju[R]*f+o.a2Y[R]*S+o.LO[R]*L;p[R]=o.Z0[R]*f+o.LO[R]*S+o.a7Z[R]*L;j[R]=T-I[R]*V-l[R]*E-p[R]*_}Y(I,I,F,h);
Y(l,l,F,h);Y(p,p,F,h);Y(j,j,F,h);return[I,l,p,j]};w.w8.a4u=function(r,N,F,h,m){var O=F.e,e=F.n,P=O*e,B=w.w8.B,s=w.Hu.N4,Y=w.w8.dN,D={};
D.Yx=B(P);s(N[0],D.Yx,F,h);D.L5=B(P);s(N[1],D.L5,F,h);D.su=B(P);s(N[2],D.su,F,h);var c=B(P);Y(N[0],N[0],c);
s(c,c,F,h);var o=B(P);Y(N[0],N[1],o);s(o,o,F,h);var H=B(P);Y(N[0],N[2],H);s(H,H,F,h);var x=B(P);Y(N[1],N[1],x);
s(x,x,F,h);var Q=B(P);Y(N[1],N[2],Q);s(Q,Q,F,h);var U=B(P);Y(N[2],N[2],U);s(U,U,F,h);D.a9k=c;D.Ju=o;
D.Z0=H;D.a2Y=x;D.LO=Q;D.a7Z=U;for(var R=0;R<P;R++){var I=D.Yx[R],l=D.L5[R],p=D.su[R],j=c[R]-I*I+m,T=o[R]-I*l,V=H[R]-I*p,E=x[R]-l*l+m,_=Q[R]-l*p,f=U[R]-p*p+m,S=E*f-_*_,L=_*V-T*f,y=T*_-E*V,$=j*f-V*V,Z=V*T-j*_,i=j*E-T*T,b=S*j+L*T+y*V,G=1/b;
D.a9k[R]=S*G;D.Ju[R]=L*G;D.Z0[R]=y*G;D.a2Y[R]=$*G;D.LO[R]=Z*G;D.a7Z[R]=i*G}return D};w.w8.B=function(r){return new Float32Array(r)};
w.w8.bS=function(r){var N=r.length,F=new Float32Array(N);for(var R=0;R<N;R++)F[R]=r[R]*(1/255);return F};
w.w8.dN=function(r,N,F){for(var R=0;R<r.length;R++)F[R]=r[R]*N[R]};w.EM={};w.EM.gt=function(r,N,F,h){var m=r[N]-F[h],O=r[N+1]-F[h+1],e=r[N+2]-F[h+2];
return Math.sqrt(m*m+O*O+e*e)*(1/441.7)};w.EM.getSelection=function(r,N,F){var h=N*F,m=w.B(h),O=!1,e=Math.round(F*.7),P=1,B=new Uint32Array(12),s=w.B(12);
for(var Y=0;Y<e;Y++)for(var D=0;D<N;D++){if(D<P||Y<P||D>N-P-1||Y>F-P-1){var R=Y*N+D,c=R<<2,o=0;if(Y<P)o=4;
else if(D>N-P-1)o=8;B[o]+=r[c];B[o+1]+=r[c+1];B[o+2]+=r[c+2];B[o+3]++;m[R]=255}}for(var R=0;R<12;R+=4)for(var H=0;
H<3;H++)s[R+H]=B[R+H]/B[R+3];var x=new Float32Array(h);for(var R=0;R<h;R++){var c=R*4,Q=w.EM.gt(r,c,s,0),U=w.EM.gt(r,c,s,4),I=w.EM.gt(r,c,s,8),l=Math.max(Q,Math.max(U,I));
x[R]=Q+U+I-l}w.EM.iu(x);var p=Date.now(),j=new Float32Array(h),T=[],V=w.B(h);for(var R=0;R<3;R++){w.Pw(r,V,R);
var E=new Uint16Array(h);T.push(E);w.EM.a6y(V,m,N,F,E)}if(O)console.log("MBD",Date.now()-p);p=Date.now();
for(var R=0;R<h;R++)j[R]=T[0][R]+T[1][R]+T[2][R];w.EM.iu(j);for(var R=0;R<h;R++)j[R]+=.4*x[R];var _=N>>>1,e=F>>>1,f=1/Math.sqrt(_*_+e*e);
for(var Y=0;Y<F;Y++)for(var D=0;D<N;D++){var S=D-_,L=Y-e,y=1-Math.sqrt(S*S+L*L)*f;j[Y*N+D]*=y}if(O)console.log("Centeredness",Date.now()-p);
p=Date.now();for(var R=0;R<h;R++)m[R]=j[R]*255;var $=Math.round(N/120),Z=Math.round($*.8);if(O)console.log($,Z);
w.Yf.QB(m,V,N,F,$,w.Yf.MM,[]);m.set(V);if(O)console.log("erosion",Date.now()-p);p=Date.now();for(var R=0;
R<h;R++)j[R]=m[R];w.EM.iu(j);var i=w.B(256);for(var R=0;R<256;R++)i[R]=256/(1+Math.exp(-20*(R/255-.5)));
for(var R=0;R<h;R++){var b=~~(j[R]*255+.5);m[R]=i[b]}if(O)console.log("Simoid",Date.now()-p);p=Date.now();
return m};w.EM.iu=function(r){var N=r.length,F=0;for(var R=0;R<N;R++)F=Math.max(F,r[R]);var h=1/F;for(var R=0;
R<N;R++)r[R]=r[R]*h};w.EM.a6y=function(r,N,F,h,m){var O=F*h,e=r.slice(0),P=r.slice(0);for(var R=0;R<O;
R++)m[R]=N[R]==255?0:65535;w.EM.n7(r,P,e,m,F,h);w.EM.Qq(r,P,e,m,F,h);w.EM.n7(r,P,e,m,F,h);w.EM.Qq(r,P,e,m,F,h);
return m};w.EM.n7=function(r,N,F,h,m,O){for(var e=1;e<m;e++)w.EM.Mx(e,-1,r,N,F,h);for(var P=1;P<O;P++){w.EM.Mx(P*m,-m,r,N,F,h);
for(var e=1;e<m;e++){var R=P*m+e;w.EM.Mx(R,-1,r,N,F,h);w.EM.Mx(R,-m,r,N,F,h)}}};w.EM.Qq=function(r,N,F,h,m,O){for(var e=m-2;
e>=0;e--)w.EM.Mx(m*O-m+e,1,r,N,F,h);for(var P=O-2;P>=0;P--){w.EM.Mx(P*m+m-1,m,r,N,F,h);for(var e=m-2;
e>=0;e--){var R=P*m+e;w.EM.Mx(R,1,r,N,F,h);w.EM.Mx(R,m,r,N,F,h)}}};w.EM.Mx=function(R,r,N,F,h,m){var O=R+r,e=N[R],P=F[O],B=h[O];
if(P<e)P=e;else if(e<B)B=e;var s=P-B;if(m[O]!=65535&&s<m[R]){m[R]=s;F[R]=P;h[R]=B}};w.cA={};w.cA.filter=function(r,N,F,h){var m=N.e,O=N.n,e=m*O,P=h[0],B=h[1],s=h[2],Y=h[3],D=h[4],c=h[5],o=h[6],H=Date.now(),x=new Float32Array(m*O*4);
w.cA.ahb(r,m,O,x);var Q=Math.ceil(P*Math.sqrt(-2*Math.log(.1))),U=new ArrayBuffer(e*4),I=new Float32Array(U),l=new Float32Array(e),p=new Float32Array(e);
for(var R=0;R<e;R++){var j=R*4;I[R]=x[j];l[R]=x[j+1];p[R]=x[j+2]}w.Hu.gK(I,I,N,Q*1/2.4,2);w.Hu.gK(l,l,N,Q*1/2.4,2);
w.Hu.gK(p,p,N,Q*1/2.4,2);for(var R=0;R<e;R++){var j=R*4;x[j]=I[R];x[j+1]=l[R];x[j+2]=p[R]}var T=new Uint8Array(U);
for(var R=0;R<e;R++){var j=R*4,V=R*4,I=x[j],l=x[j+1],p=x[j+2],E=Math.sqrt((I-p)*(I-p)+4*l*l),_=(I+p+E)*.5,f=(I+p-E)*.5,S=f-p,L=l,y=S*S+L*L;
if(y!=0){var $=Math.sqrt(y),Z=1/$;S*=Z;L*=Z}T[V]=128+127*S;T[V+1]=128+127*L}var i=1.3*B+2,b=Y*(2/10),G=r.slice();
if(M._X){var g=new Float32Array([1/m,1/O]),u=M.YO(0,m,O);u.set(G);var A=M.YO(1,m,O);A.set(T);M.y9(u,N);
if(D){u.XZ(N);M.filter.py({type:M.filter.a68,Ub:g,aum:1/s,ahk:b},u.gg)}u.XZ(N);M.filter.py({type:M.filter._K,WD:A.UX,Ub:g,a1s:i,a6G:2},u.gg);
if(D){u.XZ(N);M.filter.py({type:M.filter.aoS,Ub:g,arC:new Float32Array(o),ajk:c},u.gg)}u.get(F)}else{if(D)w.cA.p8(1/s,b,G,m,O);
w.cA._K(G,F,T,m,O,i);if(D)w.cA.abe(m,O,F,o,c)}var a=e*4;for(var R=3;R<a;R+=4)F[R]=r[R]};w.cA._K=function(r,N,F,h,m,O){var e=Math.ceil(2*O),P=-1/(2*O*O),B=[],s=1;
for(var R=0;R<e+20;R++)B[R]=Math.exp(R*R*P);var Y=[0,0,0,0];for(var D=0;D<m;D++){for(var c=0;c<h;c++){var o=D*h+c,H=o*4,x=1,Q=r[H],U=r[H+1],I=r[H+2],l=r[H+3],p=(F[H]-128)*(1/127),j=(F[H+1]-128)*(1/127),T=p,V=j,E=c==0?.51:.49,_=D==0?.51:.49;
for(var R=0;R<2;R++){var f=c+E,S=D+_,L=0;while(L<e){if(f<.5||h-.5<f||S<.5||m-.5<S)break;var y=~~f,$=~~S,Z=$*h+y,i=Z*4,b=(F[i]-128)*(1/127),G=(F[i+1]-128)*(1/127);
if(b*T+G*V<0){b=-b;G=-G}T=b;V=G;f+=s*b;S+=s*G;if(f<.5||h-.5<f||S<.5||m-.5<S)break;var g=~~f,u=~~S,A=u*h+g<<2;
L+=s;var a=B[~~L];w.N.tr(f,S,r,h,m,Y);Q+=Y[0]*a;U+=Y[1]*a;I+=Y[2]*a;l+=Y[3]*a;x+=a}T=-p;V=-j}var d=1/x;
N[H]=~~(.5+Q*d);N[H+1]=~~(.5+U*d);N[H+2]=~~(.5+I*d);N[H+3]=~~(.5+l*d)}}};w.cA.abe=function(r,N,F,h,m){for(var O=0;
O<N;O++)for(var e=0;e<r;e++){var P=O*r+e<<2,B=1+w.cA.aeb(e,O,F,r,N,h)*m;F[P]=Math.max(0,Math.min(255,F[P]*B));
F[P+1]=Math.max(0,Math.min(255,F[P+1]*B));F[P+2]=Math.max(0,Math.min(255,F[P+2]*B))}};w.cA.aeb=function(r,N,F,h,m,O){var e=F[(N*h+Math.max(0,r-1))*4+3],P=F[(N*h+Math.min(h-1,r+1))*4+3],B=F[(Math.max(0,N-1)*h+r)*4+3],s=F[(Math.min(m-1,N+1)*h+r)*4+3],Y=.7,D=(P-e)*(1/255),c=.7,o=(s-B)*(1/255),H=-D*c,x=-Y*o,Q=Y*c,U=Math.sqrt(H*H+x*x+Q*Q),I=1/U,l=H*I,p=x*I,j=Q*I,T=O[0]*l+O[1]*p+O[2]*j;
return T};w.cA.p8=function(r,N,F,h,m){function O(P,s,Y){return Math.max(s,Math.min(Y,P))}for(var e=0;
e<m;e++)for(var P=0;P<h;P++){var B=w.cA.apI(P+.5,e+.5,r,N);F[(e*h+P)*4+3]=Math.max(0,Math.min(255,B*255))}};
w.cA.apI=function(r,N,F,h){function m(V,E,_){return(1-_)*V+_*E}var O=(r+613)*F,e=(N+117)*F,P=~~O,B=~~e,s=O-P,Y=e-B,D=Math.sin(11),c=Math.cos(P)*D,o=Math.cos(P+1)*D,H=Math.cos(B)*D,x=Math.cos(B+1)*D,j_=w.cA.hash(c,H),Q=w.cA.hash(o,H),U=w.cA.hash(c,x),I=w.cA.hash(o,x),l=m(j_,Q,s),p=m(U,I,s),j=m(l,p,Y);
j=j<.5?0:1;var T=j+h*w.cA.hash(Math.cos(O)*D,Math.cos(e)*D);return T*(1/3)};w.cA.hash=function(r,N){var F=Math.sin(r*11.697096+N*73.32456)*12157.47691;
return F-Math.floor(F)};w.cA.ahb=function(r,N,F,h){var m=[-1,0,1,-2,0,2,-1,0,1],O=[-1,-2,-1,0,0,0,1,2,1],e=N-1,P=F-1,B=N*4;
for(var s=1;s<P;s++)for(var Y=1;Y<e;Y++){var R=s*N+Y,D=R*4,c=w.cA.FE(r,D,B,m),o=w.cA.FE(r,D,B,O),H=w.cA.FE(r,D+1,B,m),x=w.cA.FE(r,D+1,B,O),Q=w.cA.FE(r,D+2,B,m),U=w.cA.FE(r,D+2,B,O);
h[D]=c*c+H*H+Q*Q;h[D+1]=c*o+H*x+Q*U;h[D+2]=o*o+x*x+U*U}w.cA.a3g(h,N,F)};w.cA.FE=function(r,N,F,h){return r[N-F-4]*h[0]+r[N-F]*h[1]+r[N-F+4]*h[2]+r[N-4]*h[3]+r[N]*h[4]+r[N+4]*h[5]+r[N+F-4]*h[6]+r[N+F]*h[7]+r[N+F+4]*h[8]};
w.cA.a3g=function(r,N,F){function h(B,R,s){var Y=R*4,D=s*4;B[D]=B[Y];B[D+1]=B[Y+1];B[D+2]=B[Y+2]}var m=N-1,O=F-1;
h(r,N+1,0);h(r,2*N-2,N-1);for(var e=1;e<m;e++)h(r,N+e,e);for(var P=1;P<O;P++){h(r,P*N+1,P*N);h(r,P*N+N-2,P*N+N-1)}for(var e=1;
e<m;e++)h(r,(F-2)*N+e,(F-1)*N+e);h(r,(P-2)*N+1,(P-1)*N);h(r,(P-1)*N-2,P*N-1)};w.Bd={};w.Bd.$B=function(r,N,F,h){var m=r[N*2],O=r[N*2+1],e=r[F*2],P=r[F*2+1],B=r[h*2],s=r[h*2+1];
return m*P+e*s+B*O-B*P-e*O-m*s};w.Bd.qT=function(r,N){var F=[],h=[],m=[],O={};for(var R=0;R<N.length;
R+=3){var e=~~(R*(1/3)),P=N[R+0],B=N[R+1],s=N[R+2],Y=w.Bd.$B(r,P,B,s);if(Y>0){var D=B;B=s;s=D}var c=O[s+"-"+B],o=O[B+"-"+P],H=O[P+"-"+s],x=[s,c,e,null],Q=[B,o,e,x],U=[P,H,e,Q];
x[3]=U;if(c)c[1]=x;if(o)o[1]=Q;if(H)H[1]=U;O[s+"-"+P]=U;O[P+"-"+B]=Q;O[B+"-"+s]=x;F[P]=Q;m[R]=Q;F[B]=x;
m[R+1]=x;F[s]=U;m[R+2]=U;h[e]=Q}return{LX:F,kJ:h,ue:m}};w.Bd.anJ=function(r){var N=[],F=r.kJ;for(var R=0;
R<F.length;R++){var h=F[R];N.push(h[0]);h=h[3];N.push(h[0]);h=h[3];N.push(h[0])}return N};w.Bd.ahJ=function(r,N,F,h){var m=r[N*2],O=r[N*2+1],e=r[F*2],P=r[F*2+1],B=r[h*2],s=r[h*2+1],Y=e-m,D=P-O,c=B-m,o=s-O,H=Y*(m+e)+D*(O+P),x=c*(m+B)+o*(O+s),Q=2*(Y*(s-P)-D*(B-e));
if(Math.abs(Q)<1e-5){var U=Math.min(m,e,B),I=Math.min(O,P,s),l=(Math.max(m,e,B)-U)*.5,p=(Math.max(O,P,s)-I)*.5;
return[U+l,I+p,l*l+p*p,1]}var j=(o*H-D*x)/Q,T=(Y*x-c*H)/Q,l=j-m,p=T-O;return[j,T,l*l+p*p,0]};w.Bd.avJ=function(r,N,F){var h=F[1],m=F[3],O=m[3],e=h[3],P=e[3],B=F[2],s=h[2],Y=F[0],D=h[0],c=m[0],o=e[0],H=w.Bd.ahJ(r,D,o,c),x=r[Y*2]-H[0],Q=r[Y*2+1]-H[1],U=x*x+Q*Q>H[2]&&H[3]==0&&w.Bd.$B(r,o,Y,c)<0&&w.Bd.$B(r,c,D,o)<0;
if(U){F[0]=c;h[0]=o;F[3]=O;O[3]=e;e[3]=F;h[3]=P;P[3]=m;m[3]=h;m[2]=s;e[2]=B;N.kJ[s]=P;N.kJ[B]=O;N.LX[D]=e;
N.LX[Y]=m}return U};w.Bd.av5=function(r,N,F){var h=r[N*2]-r[F*2],m=r[N*2+1]-r[F*2+1];return Math.sqrt(h*h+m*m)};
w.Bd.at2=function(r,N,F){var h=F[1],m=F[3],O=m[3],e,P,B=F[2],s,Y=F[0],D=O[0],c=m[0],o;if(h){e=h[3];P=e[3];
s=h[2];o=e[0]}var H=r.length>>>1;r[2*H]=(r[2*D]+r[2*Y])*.5;r[2*H+1]=(r[2*D+1]+r[2*Y+1])*.5;if(!0){var x=B,Q=F,U=N.kJ.length,I=[H,null,x,Q],l=[c,I,U,O];
I[1]=l;var p=[H,null,U,l];m[3]=I;O[3]=p;O[2]=U;N.kJ[x]=m;N.kJ[U]=p;N.LX[Y]=m;N.LX[c]=O;N.ue.push(I,l,p)}if(h){var j=s,T=h,V=U+1;
p[1]=T,T[1]=p;var E=[H,null,j,T],_=[o,E,V,P];E[1]=_;var f=[H,Q,V,_];Q[1]=f;e[3]=E;P[3]=f;P[2]=V;N.kJ[j]=e;
N.kJ[V]=P;N.LX[D]=e;N.LX[o]=P;N.ue.push(E,_,f)}N.LX[H]=Q};w.Bd.kl=function(r,N){var F=0;while(!0){var h=F;
for(var R=0;R<N.ue.length;R++){var m=N.ue[R];if(m[1]==null)continue;var O=w.Bd.avJ(r,N,m);if(O){F++;
break}}if(h==F)break}return F!=0};w.Bd.amh=function(r,N,F,h){var m=0;for(var R=0;R<h;R++){var O=null,e=0;
for(var P=0;P<N.ue.length;P++){var B=N.ue[P],s=w.Bd.av5(r,B[0],B[3][3][0])*(B[1]?1:2);if(s>e){O=B;e=s}}if(e>F){w.Bd.at2(r,N,O);
m++}}return m!=0};w.Bd.ab7=function(r,N){var F=[],o=0;for(var R=0;R<r.length;R++)F.push(0);for(var R=0;
R<N.ue.length;R++){var h=N.ue[R],m=h[0],O=h[3][3][0],e=r[m*2],P=r[m*2+1],B=r[O*2],s=r[O*2+1],Y=e-B,D=P-s;
F[m*2]+=-Y;F[m*2+1]+=-D;F[O*2]+=Y;F[O*2+1]+=D}for(var R=0;R<r.length;R+=2){var H=R>>>1,x=N.LX[H],h=x,Q=!0;
do{if(h[1]==null){Q=!1;break}h=h[1][3]}while(h!=x);if(Q){var U=.02;r[R]+=U*F[R];r[R+1]+=U*F[R+1];o+=U*(F[R]*F[R]+F[R+1]*F[R+1])}}return o};
w.Bd.ajt=function(r,N,F){var h=w.p.Ce(r),m=w.Bd.qT(r,N);w.Bd.kl(r,m);for(var O=0;O<300;O++){var e=!1,P=!1;
e=w.Bd.amh(r,m,F,5);if(e)P=w.Bd.kl(r,m);var B=w.Bd.ab7(r,m);if(!e&&!P&&B<1e-4){break}}return w.Bd.anJ(m)};
w.AB={};w.AB.am=function(r){var N=r.s$,F=r.nc,h=r.jr,m=r.ps,O=r.yv,e=r.xC,P=r.zB,B=w.PB.NZ,I,l,p=0;function s(j_){var hG=new Array(j_);
for(var R=0;R<j_;R++)hG[R]=0;return hG}var Y=F.length>>>1,D=s(N.XM*2),c=s(N.XM),o=s(N.XM),H=Date.now();
for(var R=0;R<r.gd.length;R++){var x=N.aq8+R,Q=N.YW*(e[R*2]+P[R*2]),U=N.YW*(e[R*2+1]+P[R*2+1]);D[x*2]=Q;
D[x*2+1]=U;c[x]=Q;o[x]=U}N.agW.Ur(m,N.a0u.NZ(D),.01,I,l);for(var R=0;R<N.at8.ue.length;R++){var j=N.at8.ue[R],T=j[3][3][0],V=j[0],E=j[3][0],_=j[1]?j[1][3][0]:E;
if(j[1]&&T>V)continue;var f=F[T*2],S=F[T*2+1],L=F[V*2],y=F[V*2+1],$=m[T*2],Z=m[T*2+1],i=m[V*2],b=m[V*2+1],G=m[E*2],g=m[E*2+1],u=m[_*2],A=m[_*2+1],a=[$,Z,i,b,G,g];
if(j[1])a.push(u,A);var d=B(N.ar_[p],a),K=d[0],n=d[1],t=1/Math.sqrt(K*K+n*n);K*=t;n*=t;var X=L-f,aK=y-S;
c[p]=K*X+n*aK;o[p]=-n*X+K*aK;p++}var fg=new Array(Y),k=new Array(Y);for(var R=0;R<Y;R++){fg[R]=O[R*2];
k[R]=O[R*2+1]}N.ald.Ur(fg,N.atV.NZ(c),.5);N.ald.Ur(k,N.atV.NZ(o),.5);for(var R=0;R<Y;R++){O[R*2]=fg[R];
O[R*2+1]=k[R]}};w.AB.qU=function(r){var N=r.nc,F=r.jr,h=r.gd,m=w.PB.multiply,O=Date.now(),e=w.Bd.qT(N,F),P=N.length>>>1,B=0,H=0,t=1e3;
for(var R=0;R<e.ue.length;R++)B+=e.ue[R][1]?.5:1;var s=B+h.length,Y=[],D=new w.$i(s*2,P*2),c=new w.$i(s,P),o=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],x=[],Q=[];
for(var R=0;R<e.ue.length;R++){var I=e.ue[R],l=I[3][3][0],p=I[0],j=I[3][0],T=I[1]?I[1][3][0]:j;if(I[1]&&l>p)continue;
var V=N[l*2],E=N[l*2+1],_=N[p*2],f=N[p*2+1],S=N[j*2],L=N[j*2+1],y=N[T*2],$=N[T*2+1],Z=[[V,E,1,0],[E,-V,0,1],[_,f,1,0],[f,-_,0,1],[S,L,1,0],[L,-S,0,1]];
if(I[1])Z.push([y,$,1,0],[$,-y,0,1]);var i=w.PB.Vu(Z),b=m(linear.invert(m(i,Z)),i);b.pop();b.pop();Y.push(b);
var G=_-V,g=f-E,u=o[I[1]?1:0];u=w.PB.bl(u,m([[G,g],[g,-G]],b));var A=[l*2,l*2+1,p*2,p*2+1,j*2,j*2+1,T*2,T*2+1],a=I[1]?8:6,d=[];
for(var K=0;K<a;K++)d.push([A[K],u[0][K],u[1][K]]);d.sort(function(eE,hW){return eE[0]-hW[0]});for(var n=0;
n<2;n++){for(var K=0;K<a;K++){x[K]=d[K][0];Q[K]=d[K][1+n]}D.Ad(Q,x,a)}if(l<p)c.Ad([-1,1],[l,p],2);else c.Ad([1,-1],[p,l],2);
H++}for(var R=0;R<h.length;R++){var X=h[R];D.Ad([t],[X*2],1);D.Ad([t],[X*2+1],1);c.Ad([t],[X],1)}var aK=D.Vu(),fg=aK.CR(aK),k=c.Vu(),hG=k.CR(k);
return{aq8:B,XM:s,a0u:aK,agW:fg,atV:k,ald:hG,at8:e,ar_:Y,YW:t}};w.AB.aap=function(r,N,F,h,m){var O=new fE(0,0,N,F),e=w.B(O.W());
w.Pw(r,e,3);w.round(e,70);var P=w.va(e,O),B=[.1,.065,.035][h]*Math.max(P.e,P.n),s=m+1,Y=N+s*2,D=F+s*2,c=new fE(-s,-s,Y,D),H=w.B(c.W());
w.nZ(e,O,H,c);var x=H.slice(0);for(var Q=0;Q<m;Q++){for(var U=1;U<D-1;U++){for(var I=1;I<Y-1;I++){var R=U*Y+I;
x[R]=H[R-Y]|H[R-1]|H[R]|H[R+1]|H[R+Y]}}var l=x;x=H;H=l}var p=fA.zS(H,Y,D,Math.round(P.W()*5e-4)),j=fA.bN(p),T=new hc(1,0,0,1,-s,-s);
for(var R=0;R<j.length;R++){var V=j[R];w.p.A(V.path.t,T,V.path.t);V.nc=w.AB.a9S(V.path);V.jr=w.p.asm(V.nc);
V.jr=w.Bd.ajt(V.nc,V.jr,B)}return j};w.AB.a9S=function(r){var N=[],F=r.t,h=r.C.length-1,m=0,O=0;for(var e=0;
e<h;e++){var R=e*6,P=F[R+6]-F[R+0],B=F[R+7]-F[R+1],s=Math.ceil(Math.sqrt(P*P+B*B));for(var Y=0;Y<s;Y++){var D=Y/s,c=1-D,o=c*c*c*F[R+0]+3*c*c*D*F[R+2]+3*c*D*D*F[R+4]+D*D*D*F[R+6],H=c*c*c*F[R+1]+3*c*c*D*F[R+3]+3*c*D*D*F[R+5]+D*D*D*F[R+7];
N.push(o,H);m=o;O=H}}N=w.p.Lx(N,1);var x=[],Q=N.length;for(var R=0;R<Q;R+=2){var H=N.pop(),o=N.pop();
x.push(o,H)}return x};w.AB.a4L=function(r,N,F,h){function m(E,_,f,S,L){var y=L[E*2]-L[_*2],$=L[E*2+1]-L[_*2+1],Z=Math.sqrt(y*y+$*$);
if(f[E].indexOf(_)==-1){f[E].push(_);S[E].push(Z)}if(f[_].indexOf(E)==-1){f[_].push(E);S[_].push(Z)}}var O=r.length>>>1,e=new Array(O);
if(F.length==0){e.fill(0);return e}var P=new Array(O),B=new Array(O);for(var R=0;R<O;R++){P[R]=[];B[R]=[]}for(var R=0;
R<N.length;R+=3){m(N[R],N[R+1],P,B,r);m(N[R],N[R+2],P,B,r);m(N[R+1],N[R+2],P,B,r)}var s=new Float64Array(O*2),Y=new Uint32Array(O*2);
s.fill(1e9);var D=new Uint8Array(O);for(var c=0;c<F.length;c++){D.fill(0);var o=["---",[0,F[c]]];while(o.length!=1){var H=w.W4.agf(o),x=H[0],Q=H[1];
if(D[Q]==1)continue;var U=Q<<1;if(x<s[U]){s[U+1]=s[U];Y[U+1]=Y[U];s[U]=x;Y[U]=c}else if(x<s[U+1]){s[U+1]=x;
Y[U+1]=c}D[Q]=1;var I=P[Q],l=B[Q];for(var R=0;R<I.length;R++){var p=I[R];if(D[p]!=1){w.W4.afQ(o,[x+l[R],p])}}}}for(var R=0;
R<O;R++){var U=R<<1,j=s[U],T=s[U+1],V=1/(j+T);e[R]=(1-j*V)*h[Y[U]]+(1-T*V)*h[Y[U+1]]}return e};w.AB.acj=function(r){var N={C:[],t:[]},F=[r];
while(F.length!=0){var h=F.pop(),m=h.$J;if(h.ahQ instanceof Array||h.a49 instanceof Array){N.C.push("M","L","L","L","Z");
N.t.push(m[0],m[1],m[2],m[1],m[2],m[3],m[0],m[3])}else F.push(h.ahQ,h.a49)}return N};w.AB.nG=function(r,N,F,h,m,O,e,P,B,s){var Y=Math.round(s.length/3),D=new Array(Y);
for(var R=0;R<Y;R++)D[R]=R;D.sort(function(o,H){return B[s[o*3]]-B[s[H*3]]});for(var R=0;R<Y;R++){var c=D[R]*3;
w.AB.a7J(s[c]*2,s[c+1]*2,s[c+2]*2,e,P,r,N,F,h,m,O)}};w.AB.a7J=function(r,N,F,h,m,O,e,P,B,s,Y){var D=w.AB.ID,c=[r,N,F,1.2,1.2,1.2,0],o=[0,0,0,0],H=m[r],x=m[r+1],Q=m[N],U=m[N+1],I=m[F],l=m[F+1],p=Math.max(0,Math.min(e-1,h[r])),j=Math.max(0,Math.min(e-1,h[N])),T=Math.max(0,Math.min(e-1,h[F])),V=Math.max(0,Math.min(P-1,h[r+1])),E=Math.max(0,Math.min(P-1,h[N+1])),_=Math.max(0,Math.min(P-1,h[F+1])),f=Q-H,S=U-x,L=I-H,y=l-x,$=1/(f*y-L*S+1e-9),Z=Math.max(0,Math.floor(Math.min(H,Q,I))),i=Math.min(s,Math.ceil(Math.max(H,Q,I))),b=Math.max(0,Math.floor(Math.min(x,U,l))),G=Math.min(Y,Math.ceil(Math.max(x,U,l)));
for(var g=b;g<G;g++)for(var u=Z;u<i;u++){var A=u+.5-H,a=g+.5-x,d=(A*y-L*a)*$,K=(f*a-A*S)*$;if(d>=0&&K>=0&&d+K<=1){var n=1-d-K,t=p*n+j*d+T*K,X=V*n+E*d+_*K;
w.N.tr(t,X,O,e,P,o);w.AB.avN(o,B,g*s+u<<2)}}};w.AB.avN=function(r,N,F){var h=N[F],m=N[F+1],O=N[F+2],e=N[F+3],P=1-r[3]*(1/255);
N[F]=~~(.5+r[0]+h*P);N[F+1]=~~(.5+r[1]+m*P);N[F+2]=~~(.5+r[2]+O*P);N[F+3]=~~(.5+r[3]+e*P)};w.AB.ID=function(){var r=function(F,h,m,O){var e=O[0],P=O[1],B=O[2],s=F[e+0],Y=F[e+1],D=F[P+0],c=F[P+1],o=F[B+0],H=F[B+1],x=D-s,Q=c-Y,U=o-s,I=H-Y,l=h-s,p=m-Y,j=x*I-U*Q,T=1/(j+1e-9),V=(l*I-U*p)*T,E=(x*p-l*Q)*T;
if(V>=0&&E>=0&&V+E<=1){O[3]=1-V-E;O[4]=V;O[5]=E;return 1}return 0},N=function(F,h,m,O){var e=[0,0,0,0,0,0];
for(var R=0;R<h.length;R+=3){e[0]=h[R]*2;e[1]=h[R+1]*2;e[2]=h[R+2]*2;if(r(F,m,O,e)==1)return!0}return!1};
return{as3:r,afN:N}}();w.RM={};w.RM.acD=function(r,N,F){var h=w.B(N*F*4),m=!1;w.N.Yw(r,N,F,h,[F,N,0,1,0,1,0,0]);
return[w.RM.J8(r,N,F,m),w.RM.J8(h,F,N,m)]};w.RM.A=function(r,N){var F=!1,h=r[0],m=r[1],O=h[1],e=h[2],P=h[3],B=N.e,s=N.n;
if(e==B&&P==s)O=O.slice(0);else if(P!=s){var Y=w.B(e*s*4);w.RM.Lq(m,s,Y,F);O=w.B(e*s*4);w.N.Yw(Y,s,e,O,[e,s,0,1,0,1,0,0]);
if(e!=B){h=w.RM.J8(O,e,s,F);O=w.B(B*s*4);w.RM.Lq(h,B,O,F)}}else if(e!=B){O=w.B(B*P*4);w.RM.Lq(h,B,O,F)}return O};
w.RM.J8=function(r,N,F,h){var m=Date.now(),O=new Uint16Array(N*F),e=1;w.RM.ad6(r,N,F,O);var P=Math.ceil(N/e),B=new Uint32Array(e),s=new Uint32Array(e),P=Math.floor(N/e);
for(var Y=0;Y<e;Y++)s[Y]=Y<e-1?P:N-(e-1)*P;for(var D=0;D<F;D++){var R=D*N;for(var Y=0;Y<e;Y++){var P=s[Y];
for(var c=0;c<P;c++)B[Y]+=O[R+c];R+=P}}if(h){console.log(Date.now()-m,"cost");m=Date.now()}var o=new Uint32Array(N),H=new Uint32Array(N),x=new Uint32Array(N*F);
for(var c=0;c<N;c++){x[(F-1)*N+c]=O[(F-1)*N+c]}for(var D=F-2;D>=0;D--){var Q=D*N;for(var Y=0;Y<e;Y++){var P=s[Y];
x[Q]=O[Q]+Math.min(x[Q+N],x[Q+N+1]);for(var c=1;c<P-1;c++){var R=Q+c;x[R]=O[R]+Math.min(x[R+N-1],Math.min(x[R+N],x[R+N+1]))}Q+=P-1;
x[Q]=O[Q]+Math.min(x[Q+N-1],x[Q+N]);Q++}}if(h){console.log(Date.now()-m,"Building M");m=Date.now()}function U(S,L){return S<L?S:L}function I(R,S){var L=H[R],y=x[S],$=~~(L*y*1e-4);
return $}var l=new Uint8Array(N*F),p=new Uint32Array(N);for(var R=0;R<N;R++){o[R]=R;H[R]=O[R]}for(var D=1;
D<F;D++){var j=0,Q=D*N;for(var Y=0;Y<e;Y++){var P=s[Y],R=Q;p[j]=I(j,R);var T=p[j]+I(j+1,R+1),V=I(j,R+1)+I(j+1,R);
p[j+1]=U(T,V);for(var c=2;c<P;c++){var R=Q+c,E=p[j+c-1]+I(j+c-1,R-1),_=p[j+c-2]+I(j+c-1,R-2)+I(j+c-2,R-1);
p[j+c]=U(E,_)}var c=P-1;while(c>=2){var R=Q+c,E=p[j+c-1]+I(j+c-1,R-1),_=p[j+c-2]+I(j+c-1,R-2)+I(j+c-2,R-1);
if(p[j+c]==E){l[R-N]=1;c-=1}else{l[R-N]=0;l[R-N-1]=2;c-=2}}var R=Q;if(c==0){l[R-N]=1}else{if(p[j+1]==T){l[R+1-N]=1;
l[R-N]=1}else{l[R+1-N]=0;l[R-N]=2}}Q+=P;j+=P}w.RM.ajS(D,N,l,O,o,H,!0,m)}if(h){console.log(Date.now()-m,"Matching");
m=Date.now()}var f=O;return[UZIP.adler(r,0,r.length),r,N,F,e,s,B,o,H,l,f]};w.RM.Lq=function(r,N,F,h){var m=r.slice(0),O=m.shift(),e=m.shift(),P=m.shift(),B=m.shift(),s=m.shift(),Y=m.shift(),D=m.shift(),c=m.shift(),o=m.shift().slice(0),H=m.shift(),x=m.shift(),Q=Date.now(),U=Math.abs(P-N),I=Math.floor(U/s),l=new Uint32Array(s),j=0,T=1e9,E=0,_=0,f=0;
for(var p=0;p<s;p++)l[p]=p<s-1?I:U-(s-1)*I;x.fill(0);for(var V=0;V<P;V++){j=Math.max(j,o[V]);T=Math.min(T,o[V])}for(var p=0;
p<s;p++){var S=Y[p],I=l[p];for(var L=0;L<I;L++){var y=0,$=1e9;for(var V=0;V<S;V++)if(o[_+V]<$){$=o[_+V];
y=_+V}if(N<P)o[y]=1e9;else o[y]*=1.2;if(f<P/3)E+=$;var Z=c[y],i=x[Z],b=i<65280?65280:i+1;if(b<65280)throw"e";
for(var G=0;G<B;G++){var R=G*P+Z;x[R]=b;Z+=H[R]-1}f++}_+=S}if(h){console.log(Date.now()-Q,"Removing best seams");
Q=Date.now()}function g(R,A){var a=R<<2,d=A<<2;F[a]=e[d];F[a+1]=e[d+1];F[a+2]=e[d+2];F[a+3]=e[d+3]}for(var G=0;
G<B;G++){var u=0,R=G*P;for(var V=0;V<N;V++,u++){if(N<P){while(x[R+u]==65280)u++;g(G*N+V,G*P+u)}else{g(G*N+V,G*P+u);
while(x[R+u]>=65280){x[R+u]--;V++;g(G*N+V,G*P+u)}}}}if(h){console.log(Date.now()-Q,"Shifting image pixels");
Q=Date.now()}};w.RM.ajS=function(r,N,F,h,m,O){var e=0,R=r*N;while(e<N){if(F[R-N]==1){O[e]=O[e]+h[R];
e++;R++}else{var P=m[e];m[e]=m[e+1];m[e+1]=P;var B=O[e];O[e]=O[e+1]+h[R];O[e+1]=B+h[R+1];e+=2;R+=2}}};
w.RM.ad6=function(r,N,F,h){function m(r,R,B){var D=R<<2,c=B<<2,o=r[D]-r[c],H=r[D+1]-r[c+1],x=r[D+2]-r[c+2];
return Math.abs(o)+Math.abs(H)+Math.abs(x)}for(var O=1;O<N;O++){var e=m(r,O,O-1);h[O-1]+=e;h[O]+=e}for(var P=1;
P<F;P++){var B=P*N,e=m(r,B,B-N);h[B]+=e;h[B-N]+=e;for(var O=1;O<N;O++){var R=P*N+O,s=m(r,R,R-1),Y=m(r,R,R-N);
h[R-N]+=Y;h[R-1]+=s;h[R]+=Y+s}}for(var P=0;P<F;P++){h[P*N]*=2;h[P*N+N-1]*=2}for(var R=0;R<h.length;R++)if(h[R]==0)h[R]=1};
w.T4=function(){var r=0,N=0,h=15,O=256;function F(Y,D,c,o,H,x){var Q=(H-1)*D,U=x*D;return Y[U+o]-Y[U+c-1]-Y[Q+o]+Y[Q+c-1]}var m=Math.round(h/8),e=[];
function P(Y,D){for(var c=0;c<D.length;c++){var o=D[c],H=0,x=0,Q=Y[o.dO],U=Q.c4,I=Q.YW,l=Q.Nf;for(var p=-h;
p<=h;p++)for(var j=-h;j<=h;j++){var T=j+o.a7f,V=p+o.arW;if(j*j+p*p>h*h||T<0||V<0||T>=I||V>=I)continue;
var E=U[V*I+T];H+=j*E;x+=p*E}o.Cz=Math.atan2(x,H)}}function B(Y,D,c,o,H){var x=~~(Y+.5),Q=~~(D+.5);return F(c,o,x-m,x+m,Q-m,Q+m)}function s(Y,D,c,o,H){r=o;
N=H;if(e.length==0){var x=new w.i.ws(16200817),l=8,p=0;function Q(hG){var f=hG[0]-hG[2],S=hG[1]-hG[3];
return f*f+S*S}function U(){var hG=0,eE=0;while(hG===0)hG=x.get();while(eE===0)eE=x.get();return Math.sqrt(-2*Math.log(hG))*Math.cos(2*Math.PI*eE)}var I=U,j=[];
while(p!=O){var T=Math.max(-h,Math.min(h,I()*l)),V=Math.max(-h,Math.min(h,I()*l)),E=Math.max(-h,Math.min(h,I()*l)),_=Math.max(-h,Math.min(h,I()*l)),f=T-E,S=V-_,L=Math.sqrt(f*f+S*S);
if(L<3||L>12)continue;e.push(T,V,E,_);p++}}var y=20;for(var $=0;$<D.length;$++){var Z=D[$],i=Y[Z.dO],b=i.e_,c=i.c4,o=i.YW,H=i.Nf,G=Z.a7f,g=Z.arW,u=Z.Cz,A=Math.cos(u),a=Math.sin(u),d=new Uint8Array(O>>>3);
Z.Tf=d;for(var R=0;R<O;R++){var K=R*4,T=e[K+0],V=e[K+1],E=e[K+2],_=e[K+3],n=A*T-a*V,t=a*T+A*V,X=A*E-a*_,aK=a*E+A*_,fg=B(G+n,g+t,b,o,H),k=B(G+X,g+aK,b,o,H);
d[R>>>3]|=(fg<k?0:1)<<(R&7)}}}return{ahS:P,aqe:s}}();w.atD=function(){function r(N,F){var h=[[9]],m=Date.now(),O=[];
for(var e=0;e<N.length;e++){var P=N[e],B=P.e_,s=P.YW,Y=P.Nf,o=9,l=1,Z=24;if(B==null)continue;var D=new Float32Array(s*Y),c=new Uint8Array(s*Y),H=o>>>1,x=H>>>1,Q=Math.round(o/3);
if(Q!=o/3)throw"e";var U=1/(o*o),I=1.2*(o/9);for(var p=H+1;p<Y-H;p+=l)for(var j=H+1;j<s-H;j+=l){var T=w.kA(B,s,j-x,j+x,p-H,p+H)-3*w.kA(B,s,j-x,j+x,p-H+Q,p+H-Q),V=w.kA(B,s,j-H,j+H,p-x,p+x)-3*w.kA(B,s,j-H+Q,j+H-Q,p-x,p+x),E=j-H+1,_=j+H-1,f=p-H+1,S=p+H-1,L=w.kA(B,s,E,j-1,f,p-1)+w.kA(B,s,j+1,_,p+1,S)-w.kA(B,s,j+1,_,f,p-1)-w.kA(B,s,E,j-1,p+1,S),y=(V*T-.9*L*(.9*L))*(U*U);
D[p*s+j]=Math.abs(y);c[p*s+j]=y<0?0:1}var $=s*l;for(var p=Z;p<Y-Z;p+=l)for(var j=Z;j<s-Z;j+=l){var R=p*s+j,i=D[R];
if(i<16)continue;if(D[R-l]>=i||D[R+l]>=i)continue;if(D[R-$-l]>=i||D[R-$]>=i||D[R-$+l]>=i)continue;if(D[R+$-l]>=i||D[R+$]>=i||D[R+$+l]>=i)continue;
O.push({x:~~(j*P.jy+.5),y:~~(p*P.jy+.5),a7f:j,arW:p,dO:e,h:i,ash:c[R],ou:I})}}if(F!=null){O.sort(function(K,n){return n.h-K.h});
O=O.slice(0,F)}return O;var b=[];for(var R=0;R<O.length;R++){var G=!0,g=O[R];for(var u=0;u<O.length;
u++){var A=O[u];if(u!=R&&A.h>g.h&&(A.dO==g.dO+1||A.dO==g.dO-1)){var a=g.x-A.x,d=g.y-A.y;if(a*a+d*d<5){G=!1;
break}}}if(G)b.push(g)}console.log(O.length,b.length);return b}return{amT:r}}();w.ti={};w.ti.auA=function(r){var N=r.length,F=w.ti.Dl(r,!1),m=0,O=1;
throw"e";var h=[];for(var R=0;R<N;R++)h[R]=w.ti.WJ(F[R]);var e=r[0][1],P=w.ti.match(F[m],F[O],h[O]);
console.log(P.length);var B=Math.max(Math.min(P.length,40),P.length*.54);B=Math.min(B,200);var s=P.slice(0,B),Y=w.mg.afD(F[m],F[O],s,e.e,e.n),D=w.mg.a58(Y,[0,0,0],1),c=e.e/2,o=e.n/2,H=1/Math.max(c,o);
for(var R=0;R<1;R++){var x=s[R],Q=F[m][x[0]],U=F[O][x[1]],I=w.mg.aa5(D,H*(Q.x-c),H*(Q.y-o),H*(U.x-c),H*(U.y-o))}var l=w.mg.amQ(Y,e),p=[];
for(var R=0;R<2;R++){var j=l[R],T=[j[0][0],j[0][1],j[0][2],j[1][0],j[1][1],j[1][2],j[2][0],j[2][1]],V=z.Q.Rx(r[R],null,T);
p.push([V.buffer,V.rect])}return[w.ti.apa(p[0],p[1],F[m],F[O],s,Y,l,e)]};w.ti.KQ=function(r,N){var F=r.length,h=!1,m=Date.now(),O=w.ti.Dl(r,!1,1e4);
if(h)console.log("Descriptors ready",Date.now()-m);m=Date.now();for(var R=0;R<F;R++){var e=r[R][1];for(var P=0;
P<O[R].length;P++){O[R][P].x+=e.x;O[R][P].y+=e.y}}if(h)console.log("shifted",Date.now()-m);m=Date.now();
var B=[];for(var R=0;R<F;R++)B[R]=w.ti.WJ(O[R]);if(h)console.log("trees built",Date.now()-m);m=Date.now();
var s=[];for(var R=0;R<F-1;R++)for(var P=R+1;P<F;P++){var Y=w.ti.match(O[R],O[P],B[P]);if(h)console.log("Matches found",R,P,Y.length);
Y=Y.slice(0,Y.length>>>1);if(Y.length<10)return null;var D=w.ti.aly(O[R],O[P],Y,2);s.push([R,P,Y,D])}s.sort(function(_,f){return f[2].length-_[2].length});
if(h)console.log("Matches found",Date.now()-m);m=Date.now();var c=[],o=new UnionFind(F);for(var R=0;
R<s.length;R++){var H=s[R],x=o.find(H[0]),Q=o.find(H[1]);if(x!=Q){c.push(H);o.link(x,Q)}}var U=[];for(var R=0;
R<F;R++)U[R]=[1,0,0,0,1,0,0,0];var I=[0],l=new Uint8Array(F);l[I[0]]=1;while(I.length!=0){var Q=I.pop(),D=U[Q],p=[];
for(var R=0;R<c.length;R++){var H=c[R],j=H[0],T=H[1];if(j==Q&&l[T]==0){U[T]=w.N.u8(D,H[3]);I.push(T);
l[T]=1}if(T==Q&&l[j]==0){U[j]=w.N.u8(D,w.N.iL(H[3]));I.push(j);l[j]=1}}}if(N==null){var V=[];for(var R=0;
R<F;R++)V.push([U[R][2],R]);V.sort(function(_,f){return _[0]-f[0]});N=V[V.length>>>1][1]}var E=w.N.iL(U[N]);
for(var R=0;R<F;R++)U[R]=w.N.u8(U[R],E);if(h)console.log("Transforms reordered",Date.now()-m);m=Date.now();
return U};w.ti.Dl=function(r,N,F){var h=[],m=!1;for(var R=0;R<r.length;R++){var O=r[R][0],e=r[R][1],P=e.e,B=e.n,s=w.B(e.W());
w.oD(O,s);var Y=Date.now(),D=w.ti.alM(s,e,!0);if(m)console.log("Pyramid built ---------------",Date.now()-Y);
Y=Date.now();var c=w.atD.amT(D,F);if(m)console.log("SURF Generation",Date.now()-Y);Y=Date.now();if(!N){w.T4.ahS(D,c);
if(m)console.log("ORB Orientations",Date.now()-Y);Y=Date.now();w.T4.aqe(D,c,s,P,B);if(m)console.log("ORB Descriptors",Date.now()-Y);
Y=Date.now()}h.push(c)}return h};w.ti.alM=function(r,N,F){var h=[],m=[r,N];w.Tc(m);if(F){var O=w.pG(r,N),e=O.rect,P=[O.iS,e];
w.Tc(P)}for(var R=0;R<m.length;R++){var B=m[2*R],s=m[2*R+1],Y=s.e,D=s.n,c=Math.min(Y,D);if(c<30)break;
if(c<1600)h.push({c4:B,YW:Y,Nf:D,jy:1<<R,e_:w.pi(B,Y,D)});if(!F)continue;var B=P[2*R],s=P[2*R+1],Y=s.e,D=s.n,c=Math.min(Y,D);
if(c<30)break;if(c<1600)h.push({c4:B,YW:Y,Nf:D,jy:(1<<R)*3/2,e_:w.pi(B,Y,D)})}return h};w.ti.aly=function(r,N,F,h){var m=Date.now(),O,e=0,P=0,B=F.length,s=new Float64Array(2);
for(var Y=0;Y<3e3;Y++){var D=~~(Math.random()*B),c=~~(Math.random()*B),o=~~(Math.random()*B),H=~~(Math.random()*B),$=0,Z=0;
if(D==c||D==o||D==H||c==o||c==H||o==H)continue;var x=F[D],Q=F[c],U=F[o],I=F[H],l=r[x[0]],p=N[x[1]],j=r[Q[0]],T=N[Q[1]],V=r[U[0]],E=N[U[1]],_=r[I[0]],f=N[I[1]],S=[l.x,l.y,j.x,j.y,V.x,V.y,_.x,_.y],L=[p.x,p.y,T.x,T.y,E.x,E.y,f.x,f.y],y=w.N.ov(S,L);
if(y[0]==0&&y[1]==0&&y[3]==0&&y[4]==0)continue;var i=B-e+2;for(var R=0;R<B&&R-$<i;R++){var b=r[F[R][0]],G=N[F[R][1]];
w.N.l$(G.x,G.y,y,s);var g=s[0]-b.x,u=s[1]-b.y,A=g*g+u*u;if(A<h){$++;Z+=A}}if($>e||$==e&&Z<P){O=y;e=$;
P=Z}}return O};var ed=new Uint8Array(256);for(var R=0;R<256;R++){var gT=0,j_=R;while(j_!=0){j_=j_&j_-1;
gT++}ed[R]=gT}w.ti.aaX=function(r,N,F){var h=0,m=r.length;for(var R=0;R<m&&h<F;R++)h+=ed[r[R]^N[R]];
return h};w.ti.akW=function(r,N,F,top,h){if(h[F]==1)return;var m=w.ti.aaX(r.Tf,N.Tf,top[0]);if(m<top[0]){if(m<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=m;top[3]=F}else{top[0]=m;top[1]=F}}h[F]=1};w.ti.WJ=function(r){var N=[],F=[],h=[[],[]],m=4;
for(var R=0;R<r.length;R++)(r[R].ash==0?N:F).push(R);for(var O=0;O<2;O++){var e=new Array(m),P=[],B=O==0?N:F,s=B.length/256,Y=[];
for(var D=0;D<32;D++){var c=new Array(256),x=0;for(var o=0;o<256;o++)c[o]=[];for(var o=0;o<B.length;
o++){var H=B[o];c[r[H].Tf[D]].push(H)}for(var o=0;o<256;o++)x+=Math.abs(c[o].length-s);Y.push([x,D,c])}Y.sort(function(Q,U){return Q[0]-U[0]});
var P=[],e=[];h[O]=[P,e];for(var R=0;R<m;R++){P.push(Y[R][1]);e.push(Y[R][2])}}return h};w.ti.match=function(r,N,F){var h=[],m=new Uint16Array(N.length);
m.fill(65535);var O=new Uint8Array(N.length),top=new Uint32Array(4),e=[];for(var P=0;P<r.length;P++){var B=r[P],s=B.Tf;
top.fill(1e6);O.fill(0);var Y=F[B.ash];for(var D=0;D<Y[1].length;D++){var c=Y[1][D][s[Y[0][D]]];for(var o=0;
o<c.length;o++){var H=c[o];w.ti.akW(B,N[H],H,top,O)}}if(top[2]<50&&top[2]<top[0]*.5){var x=m[top[3]];
if(x==65535){m[top[3]]=h.length;h.push([P,top[3],top[2]])}else if(top[2]<h[x][2]){h[x]=[P,top[3],top[2]]}}}h.sort(function(Q,U){return Q[2]-U[2]});
return h};w.ti.a6$=function(r){var N=new fE;for(var R=0;R<r.length;R++)N=N.fD(r[R][1]);var F=w.B(N.W()*4);
for(var R=0;R<r.length;R++)w.i.vw("norm",r[R][0],r[R][1],F,N,N,1);return[F,N]};w.ti.apa=function(r,N,F,h,m,O,e,P){var B=r[1].clone(),s=B.clone();
B.x=B.y=0;var Y=N[1].clone(),D=Y.clone();Y.x=Y.y=0;Y.x=B.e;var c=B.fD(Y),o=D.y-s.y,H=w.B(c.W()*4);w.L3(r[0],B,H,c);
w.L3(N[0],new fE(Y.x,Y.y+o,Y.e,Y.n),H,c);var x=document.createElement("canvas");x.width=c.e;x.height=c.n;
var Q=x.getContext("2d");Q.lineWidth=.5;Q.putImageData(new ImageData(new Uint8ClampedArray(H.buffer),c.e,c.n),0,0);
if(O){var U=O[0],I=w.PB.Vu(U),l=B.e,p=P.e;for(var R=0;R<m.length;R++){var j=m[R],r=F[j[0]],N=h[j[1]];
Q.strokeStyle="#"+"ff0000";Q.beginPath();var T=w.mg.ah9(I,e[0],N,0,p),V=w.mg.ah9(U,e[1],r,0,p);Q.moveTo(-s.x+T[0],-s.y+T[1]);
Q.lineTo(-s.x+T[2],-s.y+T[3]);Q.moveTo(l-D.x+V[0],-D.y+o+V[1]);Q.lineTo(l-D.x+V[2],-D.y+o+V[3]);Q.stroke()}}if(m){var E=m.length;
for(var R=0;R<E;R++){var j=m[R],r=F[j[0]],N=h[j[1]];Q.strokeStyle="#"+"ffff00"}}var _=new Uint8Array(Q.getImageData(0,0,c.e,c.n).data.buffer);
if(!1){for(var f=0;f<2;f++){var S=f==0?F:h,L=f*B.e;for(var R=0;R<S.length;R++){var y=S[R],$=~~y.x,Z=~~y.y,i=(Z*c.e+$+L)*4;
_[i+1]=_[i+2]=y.a8k*60;_[i+0]=0;_[i+3]=255}}}return[_,c]};w.stack={};w.stack.stack=function(r,N,F){var h=r.length,m=N.length;
if(h==1){N.set(r[0]);return}if(F=="avrg"||F=="stdv"||F=="summ"||F=="vari"){var O=1/h;for(var R=0;R<m;
R++){var e=0;for(var P=0;P<h;P++)e+=r[P][R];var B=~~(e*O+.5);if(F=="avrg"||(R&3)==3)N[R]=B;else if(F=="summ")N[R]=255*Math.pow(Math.min(255,e)*(1/255),1/2.4);
else{var s=0;for(var P=0;P<h;P++){var Y=r[P][R]-B;s+=Y*Y}var D=Math.sqrt(s*O)*(1/255);if(F=="stdv")N[R]=255*Math.pow(D,1/2.4);
else N[R]=255*Math.pow(D*D,1/2.4)}}}else if(F=="maxx"){for(var R=0;R<m;R++){var c=0;for(var P=0;P<h;
P++)c=Math.max(c,r[P][R]);N[R]=c}}else if(F=="minn"){for(var R=0;R<m;R++){var c=255;for(var P=0;P<h;
P++)c=Math.min(c,r[P][R]);N[R]=c}}else if(F=="medn"||F=="rang"){var o=function(U,I){return U-I},H=new Array(h),x=0,Q=0;
if(h%1==0){Q=h>>>1;x=Q-1}else{x=Q=h>>>1}for(var R=0;R<m;R++){for(var P=0;P<h;P++)H[P]=r[P][R];H.sort(o);
if(F=="medn")N[R]=H[x]+H[Q]>>>1;else N[R]=(R&3)==3?H[h-1]:H[h-1]-H[0]}}else console.log(F)};w.J4={};
w.J4.aun=function(r,N,F,h){var m=Date.now(),O=new Uint32Array(N*F),e=new Uint8Array(N*F);while(!0){e.fill(0);
O.fill(0);var P=[],B=0;for(var s=0;s<F;s++){for(var Y=0;Y<N;Y++){var R=s*N+Y;if(e[R]==0){var D=P.length,c=w.J4.SC(r,N,F,Y,s,e,O,D);
P.push([D,Y,s,c[0],c[1],r[R]]);if(c[0]<h)B++}}}if(B==0)break;var o=P.length,H=new UnionFind(o),x=[];
for(var R=0;R<o;R++)x.push([]);for(var R=0;R<o;R++){var c=P[R],Q=c[4],U=0,I=0;if(c[3]>=h)continue;var D=c[0];
for(var l=0;l<Q.length;l+=2){var p=O[Q[l+1]*N+Q[l]],j=P[p];if(j[3]>I){I=j[3];U=p}}if(H.find(D)!=H.find(U)){H.link(D,U);
x[D].push(U);x[U].push(D)}}var T=new Uint32Array(o);T.fill(4294967295);var V=new Uint32Array(o);for(var R=0;
R<o;R++){if(T[R]!=4294967295||x[R].length==0)continue;var E=[R],_=[R],f=R,S=P[R][3];while(_.length!=0){var L=_.pop(),y=x[L];
for(var l=0;l<y.length;l++){var $=y[l];if(E.indexOf($)==-1){E.push($);_.push($);var Z=P[$];if(Z[3]>S){S=Z[3];
f=$}}}}for(var l=0;l<E.length;l++){T[E[l]]=f;var i=P[f];V[E[l]]=r[i[2]*N+i[1]]}}for(var s=0;s<F;s++)for(var Y=0;
Y<N;Y++){var R=s*N+Y,b=T[O[R]];if(b!=4294967295)r[R]=V[b]}}};w.J4.SC=function(r,N,F,h,m,O,e,P){var B=[h,m],s=r[m*N+h],Y=0,D=[];
O[m*N+h]=1;while(B.length!=0){var c=B.pop(),o=B.pop(),R=c*N+o;e[R]=P;Y++;if(c!=F-1)if(r[R+N]==s){if(O[R+N]==0){B.push(o,c+1);
O[R+N]=1}}else D.push(o,c+1);if(c!=0)if(r[R-N]==s){if(O[R-N]==0){B.push(o,c-1);O[R-N]=1}}else D.push(o,c-1);
if(o!=N-1)if(r[R+1]==s){if(O[R+1]==0){B.push(o+1,c);O[R+1]=1}}else D.push(o+1,c);if(o!=0)if(r[R-1]==s){if(O[R-1]==0){B.push(o-1,c);
O[R-1]=1}}else D.push(o-1,c)}return[Y,D]};w.J4.aml=function(r,N,F,h,m){var O=w.J4.WI(r.buffer,N,F).O9,e=Date.now(),P=[];
for(var R=0;R<O.length;R++){var B=O[R],s=1;for(var Y=0;Y<s;Y++)P.push(B.KM)}var D=new Uint32Array(P),c=UPNG.quantize.getKDtree(new Uint8Array(D.buffer),h),o=[N,1,-N,-1,N+1,-N+1,-N-1,N-1,N+N,2,-N-N,-2,N+N-1,N+N+1,N+2,-N+2,-N-N+1,-N-N-1,-N-2,N-2,N+N+2,-N-N+2-N-N-2,N+N-2],H=new Uint8Array(N*F),x=r;
for(var Q=0;Q<F;Q++)for(var U=0;U<N;U++){var R=Q*N+U<<2,I=x[R]*(1/255),l=x[R+1]*(1/255),p=x[R+2]*(1/255),j=x[R+3]*(1/255),T=w.J4.Za(c,I,l,p,j,m);
if(T==null){var V=[],E=0;while(E<20){var _=Q*N+U+o[E]<<2,f=x[_]*(1/255),S=x[_+1]*(1/255),L=x[_+2]*(1/255),y=x[_+3]*(1/255),$=w.J4.Za(c,f,S,L,y,.005);
if($!=null){if(V.indexOf($)==-1){V.push($);$.jQ=1}else $.jQ++}E++}V.sort(function(j,p){return p.jQ-j.jQ});
while(V.length!=0&&V[V.length-1].jQ<3)V.pop();if(V.length==0)T=w.J4.Za(c,I,l,p,j,100);else if(V.length==1)T=V[0];
else if(V.length==2){var Z=V[0],i=V[1],b=Z.est.q,G=i.est.q,g=G[0]-b[0],u=G[1]-b[1],A=G[2]-b[2],a=G[3]-b[3],d=I-b[0],K=l-b[1],n=p-b[2],t=j-b[3],X=g*g+u*u+A*A+a*a,aK=d*d+K*K+n*n+t*t,fg=(d*g+K*u+n*A+t*a)/X,k=aK-fg*fg*X;
if(k<.5)T=fg<.5?Z:i;else{T=w.J4.Za(c,I,l,p,j,100)}}else{var Z=V[0],i=V[1],hG=V[2],b=Z.est.q,G=i.est.q,eE=hG.est.q,hW=b[0]-eE[0],hh=b[1]-eE[1],hI=b[2]-eE[2],db=b[3]-eE[3],by=G[0]-eE[0],jM=G[1]-eE[1],fP=G[2]-eE[2],hB=G[3]-eE[3],iu=eE[0]-I,be=eE[1]-l,bp=eE[2]-p,ij=eE[3]-j,fT=hW*hW+hh*hh+hI*hI+db*db,ei=hW*by+hh*jM+hI*fP+db*hB,bz=iu*hW+be*hh+bp*hI+ij*db,aM=hW*by+hh*jM+hI*fP+db*hB,hw=by*by+jM*jM+fP*fP+hB*hB,hx=iu*by+be*jM+bp*fP+ij*hB,fm=1/(ei*aM-fT*hw),fg=(hw*bz-hx*ei)*fm,dE=(hx*fT-bz*aM)*fm,gD=1-fg-dE,c2=Math.max(fg,dE,gD);
if(c2==fg)T=Z;else if(c2==dE)T=i;else T=hG}}H[R>>2]=T.ind}return{jr:H,O9:c[1]}};w.J4.WI=function(r,N,F){var h=[],m={},O=N-1,e=F-1,P=0,B=new Uint32Array(r),s=[-N-1,-N,-N+1,-1,1,N-1,N,N+1,N+N,2,-N-N,-2,N+N-1,N+N+1,N+2,-N+2,-N-N+1,-N-N-1,-N-2,N-2,N+N+2,-N-N+2-N-N-2,N+N-2];
for(var Y=1;Y<e;Y++)for(var D=1;D<O;D++){var c=Y*N+D,o=B[c],H=!0;for(var R=0;R<8;R++)H=H&&B[c+s[R]]==o;
if(H){P++;var x=m[o];if(x==null){m[o]=h.length;h.push({KM:o,xy:1})}else h[x].xy++}}return{O9:h,auy:P}};
w.J4.Za=function(r,N,F,h,m,O){var e=UPNG.quantize.getNearest(r[0],N,F,h,m);return w.J4.asX(e,N,F,h,m)<O?e:null};
w.J4.asX=function(r,N,F,h,m){var O=r.est.q,e=N-O[0],P=F-O[1],B=h-O[2],s=m-O[3];return e*e+P*P+B*B+s*s};
w.J4.vB=function(){function r(U,I,l,p,j,T){var V=[],E=T,_=T,f=T>>>2;for(var S=0;S<j;S++)for(var L=0;
L<p;L++){var y=~~((L+.5)*E),$=~~((S+.5)*_),Z=1e9,i=Math.max(0,y-f),b=Math.min(I,y+f+1),G=Math.max(0,$-f),g=Math.min(l,$+f+1);
for(var u=G;u<g;u++)for(var A=i;A<b;A++){var a=N(U,I,A,u);if(a<Z){y=A;$=u;Z=a}}var d=($*I+y)*4;V.push(y,$)}return V}function N(U,I,l,p){var j=(p*I+l)*4,T=I*4,V=F(U,j-4,j)+F(U,j,j+4),E=F(U,j-T,j)+F(U,j,j+T);
return V+E}function F(U,I,l){var p=U[I]-U[l],j=U[I+1]-U[l+1],T=U[I+2]-U[l+2];return p*p+j*j+T*T}var h=0,m=0;
function O(U,I,l,p){m++;if(p<h)h=p;U[p].push(I,l)}function e(U){m--;while(U[h].length==0)h++}function P(U,I,l,p,j){h=0;
m=0;var T=I*l,V=Math.round(Math.min(I,l)/(p?p:50)),i=0,b=16;if(V==0)V=1;var E=(j?j:30)/V,_=Math.floor(I/V),f=Math.floor(l/V),S=new Uint16Array(T);
for(var R=0;R<T;R++)S[R]=65535;var L=r(U,I,l,_,f,V),y=L.length>>>1;if(y>65535)throw y;var $=[];for(var R=0;
R<1e3+l;R++)$.push([]);var Z=[0,1,0,-1,-1,0,1,0],G=Math.min(f,5),g=new Uint32Array(y*6);for(var u=0;
u<f;u+=G){var A=Math.min(u+G+1,f);for(var a=u;a<A;a++)for(var d=0;d<_;d++){var R=a*_+d,K=R*2,n=L[K+1]<<16|L[K];
O($,n,R,L[K+1]>>>b)}var t=Math.min(l,A*V);if(u+G>=f)t=l;while(m!=0){e($);var X=$[h].pop(),aK=$[h].pop(),fg=aK>>>16,k=aK&65535,R=fg*I+k;
if(S[R]==65535){var hG=X*6,eE=R<<2;S[R]=X;g[hG]+=U[eE];g[hG+1]+=U[eE+1];g[hG+2]+=U[eE+2];g[hG+3]+=k;
g[hG+4]+=fg;g[hG+5]++;var hW=fg>>>b;if(fg!=t-1&&S[R+I]==65535)O($,fg+1<<16|k,X,B(U,I,E,k,fg+1,g,hG)+hW);
if(fg!=0&&S[R-I]==65535)O($,fg-1<<16|k,X,B(U,I,E,k,fg-1,g,hG)+hW);if(k!=0&&S[R-1]==65535)O($,fg<<16|k-1,X,B(U,I,E,k-1,fg,g,hG)+hW);
if(k!=I-1&&S[R+1]==65535)O($,fg<<16|k+1,X,B(U,I,E,k+1,fg,g,hG)+hW)}}if(t!=fg){var hh=(u+G)*_;g.fill(0,hh*6,(hh+_)*6);
for(var fg=(u+G-2)*V;fg<t;fg++)for(var k=0;k<I;k++){var R=fg*I+k;if(S[R]>=hh){S[R]=65535}}}}return{jr:S,Ly:y,ZR:g}}w.J4.kw=function(U,I,l,p,j){var T=U.Ly,V=I*l,E=U.ZR,_=U.jr,f=o(p,_,T,V),S=new UnionFind(T),b=0;
for(var L=1;L<l;L++)for(var y=1;y<I;y++){var R=L*I+y,$=_[R],Z=0;if((Z=_[R-1])!=$&&f[Z]==f[$]&&s(E,0,$*6,Z*6)<j)S.link($,Z);
if((Z=_[R-I])!=$&&f[Z]==f[$]&&s(E,0,$*6,Z*6)<j)S.link($,Z)}var i=new Uint16Array(T);i.fill(65535);var G=new Uint16Array(T);
for(var R=0;R<T;R++){var g=S.find(R);if(i[g]==65535)i[g]=b++;G[R]=i[g]}var u=new Uint16Array(V);for(var R=0;
R<V;R++)u[R]=G[_[R]];return{jr:u,Ly:b}};w.J4.a6R=function(U,I,l,p){var j=w.B(l),T=I.length,V=0;for(var R=0;
R<T&&V!=3;R++){var E=p[R];if(E==0||E==255){var _=I[R],f=2-(E>>>7);j[_]=V=j[_]|f}}return V!=3};function B(U,I,l,p,j,T,V){var E=(j*I+p)*4,_=T[V+5],f=1/_,S=U[E]*_-T[V],L=U[E+1]*_-T[V+1],y=U[E+2]*_-T[V+2],$=p*_-T[V+3],Z=j*_-T[V+4],i=Math.sqrt(S*S+L*L+y*y),b=Math.sqrt($*$+Z*Z);
return~~((i+l*b)*f+.5)}function s(U,I,l,p){var j=1/U[l+5],T=1/U[p+5],V=U[l]*j-U[p]*T,E=U[l+1]*j-U[p+1]*T,_=U[l+2]*j-U[p+2]*T,f=U[l+3]*j-U[p+3]*T,S=U[l+4]*j-U[p+4]*T,L=Math.sqrt(V*V+E*E+_*_),y=Math.sqrt(f*f+S*S);
return~~(L+I*y+.5)}function Y(U,I,l){var p=w.rM(U,new fE(0,0,I,l)),j=p.rect.e,T=p.rect.n,V=P(p.iS,j,T),E=V.jr,_=Date.now(),f=new Uint16Array(I*l);
f.fill(65535);for(var S=0;S<T;S++){for(var L=0;L<j;L++){var y=S*j+L,R=(S<<1)*I+(L<<1),$=E[y];if(E[y-j]!=$||E[y-1]!=$||E[y+1]!=$||E[y+j]!=$)$=65535;
f[R]=$;f[R+1]=$;f[R+I]=$;f[R+I+1]=$}}V.jr=f;return V}function D(U,I){var R=0,l=U.length;while(R!=l&&U[R]!=I)R+=2;
return R==l?-1:R}function c(U,R){if(R==U.length-2){U.pop();U.pop()}else{U[R+1]=U.pop();U[R]=U.pop()}}w.J4.a47=function(U,I,l,p,j){var T=new Uint32Array(j*4400),N=[];
for(var R=0;R<j;R++)N.push([]);for(var V=0;V<l;V++)for(var E=0;E<I;E++){var R=V*I+E,_=R<<2,f=p[R],S=0,L=U[_]>>>4,y=U[_+1]>>>4,$=U[_+2]>>>4;
T[f*4400+(L<<8|y<<4|$)]++;T[f*4400+4096]++;T[f*4400+4100+(L<<4|y)]++;T[f*4400+4360+L]++;if(E!=0&&(S=p[R-1])!=f&&D(N[f],S)==-1){N[f].push(S,0);
N[S].push(f,0)}if(V!=0&&(S=p[R-I])!=f&&D(N[f],S)==-1){N[f].push(S,0);N[S].push(f,0)}}for(var R=0;R<j;
R++){var $=N[R];for(var Z=0;Z<$.length;Z+=2)$[Z+1]=Q(T,R,$[Z])}return[T,N]};function o(U,I,l,p){var j=w.B(l);
for(var R=0;R<p;R++){var T=U[R];if(T==0||T==255)j[I[R]]=2-(T>>>7)}return j}w.J4.ajs=function(U,I,l,p,j,T,V){var E=I*l,_=V[0],N=V[1],f=new UnionFind(p),S=o(j,U,p,E),L=-1,y=!0,$=0;
for(var R=0;R<p;R++)if(S[R]==1){if(L==-1)L=R;else f.link(R,L)}if(L==-1){for(var R=0;R<E;R++)T[R]=j[R]==255?255:0;
return}while(y){while(y){y=!1;for(var R=0;R<p;R++){if(S[R]==0){var Z=H(N[R]);if(S[Z]==1){S[R]=S[Z];y=!0;
f.link(R,Z)}}}}y=!0;$=0;while(y){y=!1;for(var R=0;R<p;R++){if(S[R]==0){var Z=H(N[R]);if(S[Z]==0){var i=R*4400,b=Z*4400;
for(var G=0;G<4400;G+=2){_[i+G]+=_[b+G];_[i+G+1]+=_[b+G+1]}x(N,_,R,Z);$++;S[Z]=3;y=!0;f.link(R,Z)}}}}y=$!=0}var g=f.find(L);
for(var R=0;R<p;R++)S[R]=f.find(R)==g?255:0;for(var R=0;R<E;R++){T[R]=S[U[R]]}for(var R=0;R<E;R++){var Z=j[R];
if(Z==0||Z==255)T[R]=Z}};function H(U){var I=0,l=0,p=U.length;for(var j=0;j<p;j+=2){var T=U[j+1];if(T>l){l=T;
I=j}}return U[I]}function x(N,U,I,l){var p=N[I],j=N[l];c(p,D(p,l));c(j,D(j,I));for(var R=0;R<j.length;
R+=2){var T=j[R],V=N[T];c(V,D(V,l));if(D(V,I)==-1){V.push(I,0);p.push(T,0)}}for(var R=0;R<p.length;R+=2){var T=p[R],V=N[T],E=Q(U,I,T);
p[R+1]=E;V[D(V,I)+1]=E}}function Q(U,I,l){var p=0,j=4096,T=I*4400,V=l*4400;for(var E=0;E<16;E++){if(U[T+4360+E]==0||U[V+4360+E]==0)continue;
for(var _=0;_<16;_++){var f=E<<4|_;if(U[T+4100+f]==0||U[V+4100+f]==0)continue;var S=T+(f<<4),L=V+(f<<4);
for(var R=0;R<16;R++)p+=Math.sqrt(U[S+R]*U[L+R])}}var y=p/Math.sqrt(U[T+j]*U[V+j]);return~~(999.99999*y)}return P}();
w.Pi={};w.Pi.ape=function(){var r=11,N=7,F=r>>>1,j_=N>>>1,h=2,m=2e3/h,O=[],P=null,B="";function e(Y,D,c){var o=(Y[D+0]-Y[c+0])*(1/255),H=(Y[D+1]-Y[c+1])*(1/255),x=(Y[D+2]-Y[c+2])*(1/255),Q=(Y[D+3]-Y[c+3])*(1/255),U=o*o*.125+H*H*.25+x*x*.5+Q*Q;
return O[~~(U*m)]}function s(Y,D,c,o,H,x){var Q=Date.now(),U=w.B(D*c);w.oD(Y,U);var I=UZIP.adler(U,0,D*c);
if(I!=B){var l=w.pi(U,D,c);P=w.B(D*c*4);B=I;var p=[1,1/9,1/25,1/49,1/81];for(var j=0;j<c;j++)for(var T=0;
T<D;T++)for(var R=0;R<4;R++){var V=Math.max(1,T-R),E=Math.min(D-1,T+R),_=Math.max(1,j-R),f=Math.min(c-1,j+R),S=w.kA(l,D,V,E,_,f);
if(isNaN(S))throw T+","+j+","+R+","+S;P[(j*D+T)*4+R]=S*p[R]}}if(M._X){var L=M.YO(0,D,c);L.set(Y);var y=M.YO(1,D,c);
y.set(P);var $=M.YO(2,D,c);M.y9($);M.filter.py({type:M.filter.amN,Ub:new Float32Array([1/D,1/c]),arK:y.UX,aqB:H,a4O:x},L.UX);
$.get(o)}else{for(var R=0;R<2e3;R++)O[R]=Math.exp(-(R/2e3)*h*(100+(1-H)*(1-H)*1e4));var Z=j_+2;for(var j=Z;
j<c-Z;j++)for(var T=Z;T<D-Z;T++){var i=0,b=0,G=0,g=0;for(var u=0;u<r;u++)for(var A=0;A<r;A++){var a=T+A-F,d=j+u-F;
if(a==T&&d==j||a<Z||d<Z||a>=D-Z||d>=c-Z)continue;var K=e(P,(j*D+T)*4,(d*D+a)*4),n=d*D+a<<2;i+=K*Y[n+0];
b+=K*Y[n+1];G+=K*Y[n+2];g+=K}if(g==0){continue}var t=1/g,X=(j*D+T)*4;o[X+0]=~~((1-x)*t*i+x*o[X+0]);o[X+1]=~~((1-x)*t*b+x*o[X+1]);
o[X+2]=~~((1-x)*t*G+x*o[X+2])}}}return s}();var fA=function(){function r(){this.W=0;this.WY=0;this.kj={};
this.jK=[];this.Ez=1e5;this.CO=1e5;this.Xr=-1;this.h2=-1;this.color=0}function N(j_){this.fQ=j_;this.NM=new Array(j_);
this.KM=new Array(j_*6);this.a4J=0;this.Zg=new Array(j_*2);this.alpha=new Array(j_);this.IL=new Array(j_);
this.tO=new Array(j_)}function F(m,O,e,P){function B(Q,U,m,O){return m[O*U+Q]}function s(R){var V=m.length;
while(R<V&&m[R]==0)R++;return R<V?R:-1}function Y(Q,U,V){for(var R=2;R<5;R++){var E=0;for(var _=-R+1;
_<=R-1;_++){E+=B(Q+_,U+R-1,m,O)==V?1:-1;E+=B(Q+R-1,U+_-1,m,O)==V?1:-1;E+=B(Q+_-1,U-R,m,O)==V?1:-1;E+=B(Q-R,U+_,m,O)==V?1:-1}if(E>0)return 1;
else if(E<0)return 0}return 0}function D(V,H){var x=new r,Q=V,U=H,E=0,_=1,f;x.color=m[H*O+V];x.sign=B(V,H,m,O)==x.color?"+":"-";
while(1){x.jK.push(Q,U);if(Q>x.Xr)x.Xr=Q;if(Q<x.Ez)x.Ez=Q;if(U>x.h2)x.h2=U;if(U<x.CO)x.CO=U;x.WY++;Q+=E;
U+=_;x.W-=Q*_;if(Q==V&&U==H)break;var S=B(Q+(E+_-1>>1),U+(_-E-1>>1),m,O)==x.color,L=B(Q+(E-_-1>>1),U+(_+E-1>>1),m,O)==x.color;
if(L&&!S){if(P.Hf=="right"||P.Hf=="black"&&x.sign=="+"||P.Hf=="white"&&x.sign=="-"||P.Hf=="majority"&&Y(Q,U,x.color)||P.Hf=="minority"&&!Y(Q,U,x.color)){f=E;
E=-_;_=f}else{f=E;E=_;_=-f}}else if(L){f=E;E=-_;_=f}else if(!S){f=E;E=_;_=-f}}return x}var c=0,o=[];
while(!0){var c=s(c);if(c==-1)break;var H=Math.floor(c/O),x=D(c-H*O,H);for(var R=0;R<x.jK.length-2;R+=2){var Q=x.jK[R],U=x.jK[R+1],I=U*O+Q;
if(Q==x.jK[R+2]&&U+1==x.jK[R+3]&&m[I]!=0)fA.fill(I,m,O,0)}if(x.W>P.auq)o.push(x)}for(var R=0;R<o.length;
R++)o[R].parent=-1;var l=Date.now();for(var R=1;R<o.length;R++){var p=o[R];for(var j=R-1;j>=0;j--){var T=o[j];
if(p.Ez<T.Ez||p.Xr>T.Xr||p.CO<T.CO||p.h2>T.h2)continue;if(!fA.acS(T.jK,p.jK[0]+.5,p.jK[1]+.5))continue;
p.parent=j;break}}return o}function h(m,O){function e(E,_,f,S,L){this.x=E;this.y=_;this.Sz=f;this.II=S;
this.GL=L}function P(E,j_){return(j_+E)%j_}function B(E,_,f,S){return E*S-f*_}function s(E,_,f,S){return E*f+_*S}function Y(E,_,f){if(E<=f)return E<=_&&_<f;
else return E<=_||_<f}function D(E,_,f){var S=0;S+=_*E[0]*_;S+=_*E[1]*f;S+=_*E[2];S+=f*E[3]*_;S+=f*E[4]*f;
S+=f*E[5];S+=E[6]*_;S+=E[7]*f;S+=E[8];return S}function c(E,_,f){return _+E*(f-_)}function o(E,_,f,S){var L=Math.sign(f-E),y=-Math.sign(S-_);
return L*(f-E)-y*(S-_)}function H(E,_){return Math.sqrt(E*E+_*_)}function x(E,_,f,S,L){var y=1-E;return y*y*y*_+3*(y*y*E)*f+3*(E*E*y)*S+E*E*E*L}function Q(E,_,f,S,L,y,$,Z){var i=B(E,_,$,Z),b=B(f,S,$,Z),G=B(L,y,$,Z),g=i-2*b+G,u=-2*i+2*b,A=i,a=u*u-4*g*A;
if(g==0||a<0)return-1;var d=Math.sqrt(a),K=(-u+d)/(2*g),n=(-u-d)/(2*g);if(K>=0&&K<=1)return K;else if(n>=0&&n<=1)return n;
else return-1}function U(V){var R,E,_;V.Uz=V.jK[0];V.ajy=V.jK[1];V.PO=[];var f=V.PO;f.push(new e(0,0,0,0,0));
for(R=0;R<V.WY;R++){E=V.jK[R<<1]-V.Uz;_=V.jK[(R<<1)+1]-V.ajy;f.push(new e(f[R].x+E,f[R].y+_,f[R].Sz+E*_,f[R].II+E*E,f[R].GL+_*_))}}function I(V){var j_=V.WY,E=V.jK,_,f=new Array(j_),S=new Array(j_),L=new Array(4),y,$,Z,i,b,G,g,u,A,a,d,R,K,n,t,X,aK,fg,k=0;
V.Nh=new Array(j_);for(R=j_-1;R>=0;R--){if(E[R<<1]!=E[k<<1]&&E[(R<<1)+1]!=E[(k<<1)+1])k=R+1;S[R]=k}for(R=j_-1;
R>=0;R--){var hG=P(R+1,j_)<<1;L[0]=L[1]=L[2]=L[3]=0;_=(3+3*(E[hG]-E[R<<1])+(E[hG+1]-E[(R<<1)+1]))/2;
L[_]++;y=0;$=0;Z=0;i=0;k=S[R];n=R;while(1){d=0;_=(3+3*Math.sign(E[k*2]-E[n*2])+Math.sign(E[k*2+1]-E[n*2+1]))/2;
L[_]++;if(L[0]&&L[1]&&L[2]&&L[3]){f[R]=n;d=1;break}A=E[k*2]-E[R*2];a=E[k*2+1]-E[R*2+1];if(B(y,$,A,a)<0||B(Z,i,A,a)>0){break}if(Math.abs(A)<=1&&Math.abs(a)<=1){}else{b=A+(a>=0&&(a>0||A<0)?1:-1);
G=a+(A<=0&&(A<0||a<0)?1:-1);if(B(y,$,b,G)>=0){y=b;$=G}b=A+(a<=0&&(a<0||A<0)?1:-1);G=a+(A>=0&&(A>0||a<0)?1:-1);
if(B(Z,i,b,G)<=0){Z=b;i=G}}n=k;k=S[n];if(!Y(k,R,n)){break}}if(d==0){g=Math.sign(E[k*2]-E[n*2]);u=Math.sign(E[k*2+1]-E[n*2+1]);
A=E[n*2]-E[R*2];a=E[n*2+1]-E[R*2+1];t=B(y,$,A,a);X=B(y,$,g,u);aK=B(Z,i,A,a);fg=B(Z,i,g,u);K=1e7;if(X<0){K=Math.floor(t/-X)}if(fg>0){K=Math.min(K,Math.floor(-aK/fg))}f[R]=P(n+K,j_)}}K=f[j_-1];
V.Nh[j_-1]=K;for(R=j_-2;R>=0;R--){if(Y(R+1,f[R],K)){K=f[R]}V.Nh[R]=K}for(R=j_-1;Y(P(R+1,j_),K,V.Nh[R]);
R--){V.Nh[R]=K}}function l(V){function E(V,R,_){var j_=V.WY,A=V.jK,a=V.PO,d,K,n,t,X,S,aK,fg,u,k,hG,eE,hW,hh,hI=0;
if(_>=j_){_-=j_;hI=1}if(hI==0){d=a[_+1].x-a[R].x;K=a[_+1].y-a[R].y;t=a[_+1].II-a[R].II;n=a[_+1].Sz-a[R].Sz;
X=a[_+1].GL-a[R].GL;S=_+1-R}else{d=a[_+1].x-a[R].x+a[j_].x;K=a[_+1].y-a[R].y+a[j_].y;t=a[_+1].II-a[R].II+a[j_].II;
n=a[_+1].Sz-a[R].Sz+a[j_].Sz;X=a[_+1].GL-a[R].GL+a[j_].GL;S=_+1-R+j_}hG=(A[R<<1]+A[_<<1])/2-A[0];eE=(A[(R<<1)+1]+A[(_<<1)+1])/2-A[1];
hh=A[_<<1]-A[R<<1];hW=-(A[(_<<1)+1]-A[(R<<1)+1]);aK=(t-2*d*hG)/S+hG*hG;fg=(n-d*eE-K*hG)/S+hG*eE;u=(X-2*K*eE)/S+eE*eE;
k=hW*hW*aK+2*hW*hh*fg+hh*hh*u;return Math.sqrt(k)}var R,_,f,S,j_=V.WY,L=new Array(j_+1),y=new Array(j_+1),$=new Array(j_),Z=new Array(j_+1),i=new Array(j_+1),b=new Array(j_+1),G,g,u;
for(R=0;R<j_;R++){u=P(V.Nh[P(R-1,j_)]-1,j_);if(u==R){u=P(R+1,j_)}if(u<R){$[R]=j_}else{$[R]=u}}_=1;for(R=0;
R<j_;R++){while(_<=$[R]){Z[_]=R;_++}}R=0;for(_=0;R<j_;_++){i[_]=R;R=$[R]}i[_]=j_;f=_;R=j_;for(_=f;_>0;
_--){b[_]=R;R=Z[R]}b[0]=0;L[0]=0;for(_=1;_<=f;_++){for(R=b[_];R<=i[_];R++){g=-1;for(S=i[_-1];S>=Z[R];
S--){G=E(V,S,R)+L[S];if(g<0||G<g){y[R]=S;g=G}}L[R]=g}}V.a6S=f;V.adv=new Array(f);for(R=j_,_=f-1;R>0;
_--){R=y[R];V.adv[_]=R}}function p(V){function E(V,R,G,$,Z,db){var j_=V.WY,by=V.PO,jM=0,u;while(G>=j_){G-=j_;
jM+=1}while(R>=j_){R-=j_;jM-=1}while(G<0){G+=j_;jM-=1}while(R<0){R+=j_;jM+=1}var fP=by[G+1].x-by[R].x+jM*by[j_].x,hB=by[G+1].y-by[R].y+jM*by[j_].y,iu=by[G+1].II-by[R].II+jM*by[j_].II,be=by[G+1].Sz-by[R].Sz+jM*by[j_].Sz,bp=by[G+1].GL-by[R].GL+jM*by[j_].GL,g=G+1-R+jM*j_;
$[db]=fP/g;$[db+1]=hB/g;var ij=(iu-fP*fP/g)/g,fT=(be-fP*hB/g)/g,ei=(bp-hB*hB/g)/g,bz=(ij+ei+Math.sqrt((ij-ei)*(ij-ei)+4*fT*fT))/2;
ij-=bz;ei-=bz;if(Math.abs(ij)>=Math.abs(ei)){u=Math.sqrt(ij*ij+fT*fT);if(u!=0){Z[db]=-fT/u;Z[db+1]=ij/u}}else{u=Math.sqrt(ei*ei+fT*fT);
if(u!=0){Z[db]=-ei/u;Z[db+1]=fT/u}}if(u==0){Z[db]=Z[db+1]=0}}var _=V.a6S,f=V.adv,j_=V.WY,S=V.jK,L=V.Uz,y=V.ajy,$=new Array(_*2),Z=new Array(_*2),i=new Array(_),b=new Array(3),R,G,g,u,K,n,t,X,aK,fg,k;
V.kj=new N(_);for(R=0;R<_;R++){G=f[P(R+1,_)];G=P(G-f[R],j_)+f[R];$[R<<1]=0;$[(R<<1)+1]=0;Z[R<<1]=0;Z[(R<<1)+1]=0;
E(V,f[R],G,$,Z,R<<1)}for(R=0;R<_;R++){i[R]=[0,0,0,0,0,0,0,0,0];var A=Z[R<<1]*Z[R<<1]+Z[(R<<1)+1]*Z[(R<<1)+1],a=1/A;
if(A!=0){b[0]=Z[(R<<1)+1];b[1]=-Z[R<<1];b[2]=-b[1]*$[(R<<1)+1]-b[0]*$[R<<1];for(u=0;u<3;u++){i[R][u*3+0]=b[u]*b[0]*a;
i[R][u*3+1]=b[u]*b[1]*a;i[R][u*3+2]=b[u]*b[2]*a}}}var d=[0,0,0,0,0,0,0,0,0];for(R=0;R<_;R++){d[0]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=0;
var hG=S[f[R]<<1]-L,eE=S[(f[R]<<1)+1]-y,hW=0,hh=0;G=P(R-1,_);for(u=0;u<9;u+=3){d[u+0]=i[G][u+0]+i[R][u+0];
d[u+1]=i[G][u+1]+i[R][u+1];d[u+2]=i[G][u+2]+i[R][u+2]}while(1){var hI=d[0]*d[4]-d[1]*d[3];if(hI!=0){hW=(-d[2]*d[4]+d[5]*d[0])/hI;
hh=(d[2]*d[3]-d[5]*d[0])/hI;break}if(d[0]>d[4]){b[0]=-d[1];b[1]=d[0]}else if(d[4]){b[0]=-d[4];b[1]=d[3]}else{b[0]=1;
b[1]=0}var A=b[0]*b[0]+b[1]*b[1],a=1/A;b[2]=-b[1]*eE-b[0]*hG;for(u=0;u<3;u++){d[u*3+0]+=b[u]*b[0]*a;
d[u*3+1]+=b[u]*b[1]*a;d[u*3+2]+=b[u]*b[2]*a}}K=Math.abs(hW-hG);n=Math.abs(hh-eE);if(K<=.5&&n<=.5){V.kj.Zg[R<<1]=hW+L;
V.kj.Zg[(R<<1)+1]=hh+y;continue}t=D(d,hG,eE);aK=hG;fg=eE;if(d[0]!=0){for(k=0;k<2;k++){hh=eE-.5+k;hW=-(d[1]*hh+d[2])/d[0];
K=Math.abs(hW-hG);X=D(d,hW,hh);if(K<=.5&&X<t){t=X;aK=hW;fg=hh}}}if(d[4]!=0){for(k=0;k<2;k++){hW=hG-.5+k;
hh=-(d[3]*hW+d[5])/d[4];n=Math.abs(hh-eE);X=D(d,hW,hh);if(n<=.5&&X<t){t=X;aK=hW;fg=hh}}}for(u=0;u<2;
u++){for(g=0;g<2;g++){hW=hG-.5+u;hh=eE-.5+g;X=D(d,hW,hh);if(X<t){t=X;aK=hW;fg=hh}}}V.kj.Zg[R<<1]=aK+L;
V.kj.Zg[(R<<1)+1]=fg+y}}function j(V){var E=V.kj.fQ,_=V.kj,R,f,S,L,y,$,Z,i,b;for(R=0;R<E;R++){f=P(R+1,E);
S=P(R+2,E);var G=_.Zg[R<<1],g=_.Zg[(R<<1)+1],u=_.Zg[S<<1],A=_.Zg[(S<<1)+1],a=_.Zg[f<<1],d=_.Zg[(f<<1)+1],K=c(.5,u,a),n=c(.5,A,d);
y=o(G,g,u,A);if(y!=0){L=B(a-G,d-g,u-G,A-g)/y;L=Math.abs(L);$=L>1?1-1/L:0;$=$*(1/.75)}else{$=4/3}_.IL[f]=$;
var t=3*f<<1;if($>=O.a9B){_.NM[f]=0;_.KM[t+0]=_.KM[t+1]=0;_.KM[t+2]=a;_.KM[t+3]=d;_.KM[t+4]=K;_.KM[t+5]=n}else{if($<.55){$=.55}else if($>1){$=1}var X=.5+.5*$;
_.NM[f]=1;_.KM[t]=c(X,G,a);_.KM[t+1]=c(X,g,d);_.KM[t+2]=c(X,u,a);_.KM[t+3]=c(X,A,d);_.KM[t+4]=K;_.KM[t+5]=n}_.alpha[f]=$;
_.tO[f]=.5}_.atQ=1}function T(V){function E(){this.F0=0;this.tD=0;this.d6=0;this.bY=0;this.qq=0;this.xa=0;
this.ou=0;this.alpha=0}function _(V,R,G,hw,hx,aK,fg){var S=V.kj.fQ,fm=V.kj.KM,dE=V.kj.Zg;if(R==G)return 1;
var gD=R,a=P(R+1,S),c2=P(gD+1,S),be=dE[R<<1],bp=dE[(R<<1)+1],bQ=dE[a<<1],f9=dE[(a<<1)+1],jR=aK[c2];if(jR==0)return 1;
var gP=H(be-bQ,bp-f9);for(gD=c2;gD!=G;gD=c2){var c2=P(gD+1,S),jh=P(gD+2,S),k6=dE[c2<<1],eZ=dE[(c2<<1)+1],b5=dE[jh<<1],fG=dE[(jh<<1)+1];
if(aK[c2]!=jR)return 1;if(Math.sign(B(bQ-be,f9-bp,b5-k6,fG-eZ))!=jR)return 1;if(s(bQ-be,f9-bp,b5-k6,fG-eZ)<gP*H(k6-b5,eZ-fG)*-.999847695156)return 1}var jG=P(R,S)*3+2<<1,i_=P(R+1,S)<<1,aY=P(G,S)<<1,jk=P(G,S)*3+2<<1,db=fm[jG],by=fm[jG+1],ih=dE[i_],jr=dE[i_+1],hV=dE[aY],ds=dE[aY+1],jA=fm[jk],eI=fm[jk+1],k=dE[0],hG=dE[1];
jG=G*3+2<<1;var hH=fm[jG],bO=fm[jG+1],d=fg[G]-fg[R];d-=B(hH-k,bO-hG,hH-k,bO-hG)/2;if(R>=G){d+=fg[S]}var k7=ih-db,dO=jr-by,cG=hV-db,cV=ds-by,g3=jA-db,gh=eI-by,bH=B(k7,dO,cG,cV),gF=B(k7,dO,g3,gh),hu=B(cG,cV,g3,gh),aB=bH+hu-gF;
if(gF==bH)return 1;var X=hu/(hu-aB),t=gF/(gF-bH),c8=gF*X/2;if(c8==0)return 1;var bM=d/c8,K=2-Math.sqrt(4-bM/.3);
hw.tD=c(X*K,db,ih);hw.d6=c(X*K,by,jr);hw.bY=c(t*K,jA,hV);hw.qq=c(t*K,eI,ds);hw.alpha=K;hw.xa=X;hw.ou=t;
ih=hw.tD;jr=hw.d6;hV=hw.bY;ds=hw.qq;hw.F0=0;for(gD=P(R+1,S);gD!=G;gD=c2){c2=P(gD+1,S);var ig=dE[gD<<1],fe=dE[(gD<<1)+1],k6=dE[c2<<1],eZ=dE[(c2<<1)+1];
X=Q(ih-db,jr-by,hV-ih,ds-jr,jA-hV,eI-ds,k6-ig,eZ-fe);if(X<-.5)return 1;var e6=x(X,db,ih,hV,jA),iy=x(X,by,jr,ds,eI),gP=H(k6-ig,eZ-fe);
if(gP==0)return 1;var jc=B(k6-ig,eZ-fe,e6-ig,iy-fe)/gP;if(Math.abs(jc)>hx)return 1;if(s(k6-ig,eZ-fe,e6-ig,iy-fe)<0||s(ig-k6,fe-eZ,e6-k6,iy-eZ)<0){return 1}hw.F0+=jc*jc}for(gD=R;
gD!=G;gD=c2){c2=P(gD+1,S);var jG=gD*3+2<<1,i_=c2*3+2<<1,bm=fm[jG],cu=fm[jG+1],fC=fm[i_],cm=fm[i_+1];
X=Q(ih-db,jr-by,hV-ih,ds-jr,jA-hV,eI-ds,fC-bm,cm-cu);if(X<-.5)return 1;var e6=x(X,db,ih,hV,jA),iy=x(X,by,jr,ds,eI),gP=H(fC-bm,cm-cu);
if(gP==0)return 1;var jc=B(fC-bm,cm-cu,e6-bm,iy-cu)/gP,i4=B(fC-bm,cm-cu,dE[c2<<1]-bm,dE[(c2<<1)+1]-cu)/gP;
i4*=.75*V.kj.alpha[c2];if(i4<0){jc=-jc;i4=-i4}if(jc<i4-hx)return 1;if(jc<i4){hw.F0+=(jc-i4)*(jc-i4)}}return 0}var f=V.kj,S=f.fQ,L=f.Zg,y=new Array(S+1),$=new Array(S+1),Z=new Array(S+1),i=new Array(S+1),b,R,G,g,u=new E,A,a,d,K,n,t,X,aK=new Array(S),fg=new Array(S+1);
for(R=0;R<S;R++){if(f.NM[R]=="CURVE"){var k=L[P(R-1,S)<<1],hG=L[(P(R-1,S)<<1)+1],eE=L[R<<1],hW=L[(R<<1)+1],hh=L[P(R+1,S)<<1],hI=L[(P(R+1,S)<<1)+1];
aK[R]=Math.sign(B(eE-k,hW-hG,hh-eE,hI-hW))}else{aK[R]=0}}d=0;fg[0]=0;var db=f.Zg[0],by=f.Zg[1];for(R=0;
R<S;R++){a=P(R+1,S);if(f.NM[a]=="CURVE"){K=f.alpha[a];var jM=R*3+2<<1,fP=a*3+2<<1,hB=f.KM[jM],iu=f.KM[jM+1],be=L[a<<1],bp=L[(a<<1)+1],ij=f.KM[fP],fT=f.KM[fP+1];
d+=.3*K*(4-K)*B(be-hB,bp-iu,ij-hB,fT-iu)/2;d+=B(hB-db,iu-by,ij-db,fT-by)/2}fg[R+1]=d}y[0]=-1;$[0]=0;
Z[0]=0;for(G=1;G<=S;G++){y[G]=G-1;$[G]=$[G-1];Z[G]=Z[G-1]+1;for(R=G-2;R>=0;R--){g=_(V,R,P(G,S),u,O.aso,aK,fg);
if(g){break}if(Z[G]>Z[R]+1||Z[G]==Z[R]+1&&$[G]>$[R]+u.F0){y[G]=R;$[G]=$[R]+u.F0;Z[G]=Z[R]+1;i[G]=u;u=new E}}}b=Z[S];
n=new N(b);t=new Array(b);X=new Array(b);G=S;for(R=b-1;R>=0;R--){var ei=P(G,S),bz=R*3+0<<1,aM=ei*3+0<<1;
if(y[G]==G-1){n.NM[R]=f.NM[ei];n.KM[bz]=f.KM[aM];n.KM[bz+1]=f.KM[aM+1];n.KM[bz+2]=f.KM[aM+2];n.KM[bz+3]=f.KM[aM+3];
n.KM[bz+4]=f.KM[aM+4];n.KM[bz+5]=f.KM[aM+5];n.Zg[R<<1]=f.Zg[ei<<1];n.Zg[(R<<1)+1]=f.Zg[(ei<<1)+1];n.alpha[R]=f.alpha[ei];
n.IL[R]=f.IL[ei];n.tO[R]=f.tO[ei];t[R]=X[R]=1}else{n.NM[R]="CURVE";n.KM[bz]=i[G].tD;n.KM[bz+1]=i[G].d6;
n.KM[bz+2]=i[G].bY;n.KM[bz+3]=i[G].qq;n.KM[bz+4]=f.KM[aM+4];n.KM[bz+5]=f.KM[aM+5];n.Zg[R<<1]=c(i[G].ou,f.KM[aM+4],L[ei<<1]);
n.Zg[(R<<1)+1]=c(i[G].ou,f.KM[aM+5],L[(ei<<1)+1]);n.alpha[R]=i[G].alpha;n.IL[R]=i[G].alpha;t[R]=i[G].ou;
X[R]=i[G].xa}G=y[G]}for(R=0;R<b;R++){a=P(R+1,b);n.tO[R]=t[R]/(t[R]+X[a])}n.atQ=1;V.kj=n}for(var R=0;
R<m.length;R++){var V=m[R];U(V);I(V);l(V);p(V);j(V);if(O.a3b)T(V)}}return{ajr:F,a1j:h}}();fA.zS=function(r,N,F,h){var m={Hf:"minority",auq:h,a3b:!0,a9B:1,aso:.2},O=fA.ajr(r,N,F,m);
fA.a1j(O,m);return O};fA.bN=function(r){var N=[];for(var R=0;R<r.length;R++){var F=r[R],h=F.kj,m=["M"],O=[h.KM[(h.fQ-1)*6+4],h.KM[(h.fQ-1)*6+5]];
for(var e=0;e<h.fQ;e++){var P=e*6;if(h.NM[e]==1){m.push("C");for(var B=0;B<6;B++)O.push(h.KM[P+B])}else if(h.NM[e]==0){m.push("L");
for(var B=2;B<4;B++)O.push(h.KM[P+B])}}m.push("Z");N.push({parent:F.parent,color:F.color,path:{t:O,C:m}})}return N};
fA.avQ=function(r,N,F,h,m){function O(H){function x(R){var o="C "+(H.KM[R*3+0<<1]*N).toFixed(1)+" "+(H.KM[(R*3+0<<1)+1]*N).toFixed(1)+",";
o+=(H.KM[R*3+1<<1]*N).toFixed(1)+" "+(H.KM[(R*3+1<<1)+1]*N).toFixed(1)+",";o+=(H.KM[R*3+2<<1]*N).toFixed(1)+" "+(H.KM[(R*3+2<<1)+1]*N).toFixed(1)+" ";
return o}function Q(R){var I="L "+(H.KM[R*3+1<<1]*N).toFixed(1)+" "+(H.KM[(R*3+1<<1)+1]*N).toFixed(1)+" ";
I+=(H.KM[R*3+2<<1]*N).toFixed(1)+" "+(H.KM[(R*3+2<<1)+1]*N).toFixed(1)+" ";return I}var j_=H.fQ,R,U="M"+(H.KM[(j_-1)*3+2<<1]*N).toFixed(1)+" "+(H.KM[((j_-1)*3+2<<1)+1]*N).toFixed(1)+" ";
for(R=0;R<j_;R++){if(H.NM[R]==1){U+=x(R)}else if(H.NM[R]==0){U+=Q(R)}}return U}var F=F*N,h=h*N,e=r.length,P=[];
for(var R=0;R<256;R++)P.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var B="<svg id=\"svg\" version=\"1.1\" width=\""+F+"\" height=\""+h+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var R=0;R<e;R++){var s=m[r[R].color-1].a98.GV;if((s>>>24&255)==0)continue;B+="<path d=\"";var Y=r[R].kj;
B+=O(Y);var D=s>>0&255,c=s>>8&255,o=s>>16&255,s="rgb("+D+","+c+","+o+")";B+="\" fill=\""+s+"\" fill-rule=\"evenodd\"/>"}B+="</svg>";
return B};fA.acS=function(r,N,F){var j_=r.length>>1,h,m=r[2*j_-3]-F,O=r[2*j_-2]-N,e=r[2*j_-1]-F,P=e>m,B=0;
for(var R=0;R<j_;R++){h=O;m=e;O=r[2*R]-N;e=r[2*R+1]-F;if(m==e)continue;P=e>m}for(var R=0;R<j_;R++){h=O;
m=e;O=r[2*R]-N;e=r[2*R+1]-F;if(m<0&&e<0)continue;if(m>0&&e>0)continue;if(h<0&&O<0)continue;if(m==e&&Math.min(h,O)<=0)return!0;
if(m==e)continue;var s=h+(O-h)*-m/(e-m);if(s==0)return!0;if(s>0)B++;if(m==0&&P&&e>m)B--;if(m==0&&!P&&e<m)B--;
P=e>m}return(B&1)==1};fA.fill=function(r,N,F,h){var m=N[r],O=[r],e=0;while(e<O.length){var P=O[e];e++;
N[P]=h;if(N[P-F]==m){O.push(P-F);N[P-F]=254}if(N[P-1]==m){O.push(P-1);N[P-1]=254}if(N[P+1]==m){O.push(P+1);
N[P+1]=254}if(N[P+F]==m){O.push(P+F);N[P+F]=254}}};function eq(){}eq.ep=function(r){var N=new Uint8Array(r),F=0,h={lZ:[],ki:[],list:[]},m=J.Dx(N,F);
F+=2;if(m<=2){return eq.aoU(N)}var O=J.Dx(N,F);F+=2;var e=J.Mj(N,F,8);F+=8;var P=J.l(N,F);F+=4;if(P>0)h.lZ=eq.hp(N,F,P,O,m);
F+=P;var B=J.Mj(N,F,8);F+=8;var s=J.l(N,F);F+=4;if(s>0)h.ki=cZ.QL(N,F,s);F+=s;var Y=J.Mj(N,F,8);F+=8;
var D=J.l(N,F);F+=4;if(D>0){var c={};er.hF(N,c,F+4);h.list=c.Brsh.v}F+=D;var o=h.list;for(var R=0;R<o.length;
R++){bR.X2.check(o[R].v)}return h};eq.DP=function(r,N){r.v.Nm.v=N};eq.aoU=function(r){var N={lZ:[],ki:[],list:[]},F=0,h=J.Dx(r,F);
F+=2;var m=J.Dx(r,F);F+=2;for(var R=0;R<m;R++){var O=J.Dx(r,F);F+=2;var e=J.l(r,F);F+=4;var P=F;if(O==2){var B={};
N.lZ.push(B);var s=J.l(r,P);P+=4;var Y=J.Dx(r,P);P+=2;if(h==2){var D=J.bn(r,P);P+=4+D.length*2+2}B.id=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f";
P++;P+=8;B.NQ=J.TQ(r,P);P+=16;var c=J.Dx(r,P);P+=2;var o=r[P];P++;var H=j1.A$(!1,c,r,B.NQ.e,B.NQ.n,P,o);
eq.ck(B,H);var x=bR.qd(B.id),Q=x.Brsh.v;Q.Dmtr.v.val=B.NQ.e;Q.Spcn.v.val=Y;N.list.push({t:"Objc",v:x})}F+=e}return N};
eq.uZ=function(r){var N=new i6,F=0,h=0;J.z9(N,F,6);F+=2;J.z9(N,F,2);F+=2;J.xt(N,F,"8BIMsamp");F+=8;F+=4;
h=F;F=eq.FP(N,F,r.lZ);J.TR(N,h-4,F-h);J.xt(N,F,"8BIMpatt");F+=8;F+=4;h=F;F=cZ.yR(N,F,r.ki);J.TR(N,h-4,F-h);
var m={classID:"null",Brsh:{t:"VlLs",v:r.list}};J.xt(N,F,"8BIMdesc");F+=8;F+=4;h=F;J.TR(N,F,16);F+=4;
F+=er.yu(N,m,F);J.TR(N,h-4,F-h);return N.data.slice(0,F).buffer};eq.hp=function(r,N,F,h,m){var O=J.l,e=J.TQ,P=N+F,B=[];
while(N<P){var s={};B.push(s);var Y=O(r,N);N+=4;var D=N,c=J._g(r,N);N+=c.length;s.id=c.b0;if(h==1){N+=9;
s.NQ=e(r,N);N+=16}else{N+=7;var o=O(r,N);N+=4;s.NQ=e(r,N);N+=16;var H=O(r,N);N+=4;N+=H*4;var x=O(r,N);
N+=4;var Q=O(r,N);N+=4;var U=e(r,N);N+=16}var I=J.Dx(r,N);N+=2;var l=r[N];N+=1;var p=j1.A$(!1,I,r,s.NQ.e,s.NQ.n,N,l);
eq.ck(s,p);if(Y%4!=0)Y+=4-Y%4;N=D+Y}return B};eq.ck=function(r,N){var F=r.NQ.clone(),h=w.B(F.W()*4);
w.vr(N,h,3);F.x=F.y=0;r.jB=[h,F]};eq.FP=function(r,N,F){var h=J.TR,m=J.Rn;for(var R=0;R<F.length;R++){var O=F[R],e=N+4,B=56,Y=1;
N+=4;J.E6(r,N,O.id);N+=O.id.length+2;r.cM(N,1);r.data[N]=1;N+=3;h(r,N,3);N+=4;var P=N;N+=4;m(r,N,O.NQ);
N+=16;h(r,N,B);N+=4;N+=B*4;h(r,N-4,1);var s=N;N+=4;h(r,N,8);N+=4;m(r,N,O.NQ);N+=16;J.z9(r,N,8);N+=2;
r.cM(N,1);r.data[N]=Y;N++;var D=w.B(O.NQ.W());w.Pw(O.jB[0],D,3);r.cM(N,O.NQ.W()*2);N=j1.xn(!1,D,r.data,O.NQ.e,O.NQ.n,N,Y);
r.cM(N,8);N+=8;var c=N-e;h(r,e-4,c);h(r,P,c-49);h(r,s,c-305);if(c%4!=0)N+=4-c%4}return N};function dK(){}dK.ep=function(r){var N=new Uint8Array(r),F=[],h=0,m=J.Dx(N,h);
h+=2;if(m!=4){throw"Unknown version of curves: "+m}var O=J.Dx(N,h);h+=2;for(var R=0;R<O;R++){var e=dK.FI(N,h);
h+=2+2*e.length;F.push(e)}if(h==N.length)return F;var P=J.Mj(N,h,4);h+=4;var B=J.Dx(N,h);h+=2;var s=J.Dx(N,h);
h+=2;if(s!=0)throw"extra curves for channels";return F};dK.V1=function(r,N,F){var h=N,m=[],O=r[N];N+=3;
var e=J.l(r,N);N+=4;for(var R=0;R<4;R++){var P=e>>>R&1;if(P){if(O==0){var B=dK.FI(r,N);N+=2+2*B.length}else{var B=dK.aiP(r,N);
N+=256}m.push(B)}else m.push(O==0?[0,0,255,255]:dK.ah_())}var s=df.T$("curv");for(var R=0;R<4;R++){if(O==0){var Y=m[R],D=[];
for(var c=0;c<Y.length;c+=2)D.push(w.WC.x1(Y[c],Y[c+1],!0));dK.uP(s,R,D)}else dK.uP(s,R,m[R])}return s};
dK.ah_=function(){var r=[];for(var R=0;R<256;R++)r.push(R);return r};dK.uP=function(r,N,F){var h=a7.FW("CrvA",N);
if(F.length<256)h.Crv={t:"VlLs",v:F};else{h.Mpng={t:"VlLs",v:[]};for(var R=0;R<256;R++)h.Mpng.v[R]={t:"long",v:F[R]}}h={t:"Objc",v:h};
var m=r.Adjs.v,O=a7.Mv(m,N);if(O==-1)m.push(h);else m[O]=h};dK.AD=function(r,N){var F=r.Adjs.v,h=a7.Mv(F,N);
if(h==-1){if(F.length==0||F[0].v.Crv)return[w.WC.x1(0,0,!0),w.WC.x1(255,255,!0)];if(F[0].v.autoMachineLearning||F[0].v.AuCo)return[w.WC.x1(0,0,!0),w.WC.x1(128,160,!0),w.WC.x1(255,255,!0)];
var m=[];for(var R=0;R<256;R++)m.push(R);return m}var O=F[h].v;if(O.Crv)return O.Crv.v;if(O.Mpng){var m=[];
for(var R=0;R<256;R++)m.push(O.Mpng.v[R].v);return m}return[w.WC.x1(0,0,!0),w.WC.x1(255,255,!0)]};dK.FI=function(r,N){var F=[],h=J.Dx(r,N);
N+=2;for(var m=0;m<h;m++){var O=J.Dx(r,N);N+=2;var e=J.Dx(r,N);N+=2;F.push(e,O)}return F};dK.apV=function(r,N,F){var h=F.length/2;
J.z9(r,N,h);N+=2;for(var m=0;m<h;m++){J.z9(r,N,F[m*2+1]);N+=2;J.z9(r,N,F[m*2+0]);N+=2}};dK.aiP=function(r,N){var F=[];
for(var R=0;R<256;R++)F.push(r[N+R]);return F};dK.anL=function(r,N,F){r.cM(N,256);for(var R=0;R<256;
R++)r.data[N+R]=F[R]};dK.fz=function(r,N,F){var h=[];for(var R=0;R<4;R++){var m=dK.AD(F,R);if(m.length==256)h.push(m);
else{var O=[];for(var e=0;e<m.length;e++)O.push(m[e].v.Hrzn.v,m[e].v.Vrtc.v);h.push(O)}}var P=N,B=h[0].length==256?1:0;
r.cM(N,3);r.data[N]=B;r.data[N+1]=0;r.data[N+2]=1;N+=3;J.TR(r,N,15);N+=4;for(var R=0;R<4;R++){var s=h[R];
if(B==0){dK.apV(r,N,s);N+=2+2*s.length}else{dK.anL(r,N,s);N+=256}}return N-P};function dG(){}dG.V1=function(r,N,F){var h={},m=J.Dx(r,N);
N+=2;h.r6=r[N]==1;N++;N++;h.pE=[J.OU(r,N),J.OU(r,N+2),J.OU(r,N+4)];N+=6;h.ib=[J.OU(r,N),J.OU(r,N+2),J.OU(r,N+4)];
N+=6;h.SA=[];for(var R=0;R<6;R++){var O={};O.fo=[J.OU(r,N),J.OU(r,N+2),J.OU(r,N+4),J.OU(r,N+6)];N+=8;
O.OE=[J.OU(r,N),J.OU(r,N+2),J.OU(r,N+4)];N+=6;h.SA.push(O)}var e=df.T$("hue2"),P=h;if(e.Clrz==null)e.Clrz={t:"bool",v:!1};
e.Clrz.v=P.r6;for(var R=0;R<7;R++){var B=R==0?P.r6?P.pE:P.ib:P.SA[R-1];dG.uP(e,R,B)}return e};dG.adA=function(r){return{classID:"Hst2",H:{t:"long",v:r[0]},Strt:{t:"long",v:r[1]},Lght:{t:"long",v:r[2]}}};
dG.Mv=function(r,N){for(var R=0;R<r.length;R++){var F=r[R].v.LclR;if(N==0&&F==null||F!=null&&F.v==N)return R}return-1};
dG.uP=function(r,N,F){var h=N==0?F:F.OE,m=dG.adA(h);if(N!=0){var O=F.fo;m.LclR={t:"long",v:N},m.BgnR={t:"long",v:O[0]};
m.BgnS={t:"long",v:O[1]};m.EndS={t:"long",v:O[2]};m.EndR={t:"long",v:O[3]}}m={t:"Objc",v:m};var e=r.Adjs.v,P=dG.Mv(e,N);
if(P==-1)e.push(m);else e[P]=m};dG.AD=function(r,N){var F=r.Adjs.v,h=dG.Mv(F,N);if(h==-1){if(N==0)return[0,0,0];
else return[{fo:[315,345,15,45],OE:[0,0,0]},{fo:[15,45,75,105],OE:[0,0,0]},{fo:[75,105,135,165],OE:[0,0,0]},{fo:[135,165,195,225],OE:[0,0,0]},{fo:[195,225,255,285],OE:[0,0,0]},{fo:[255,285,315,345],OE:[0,0,0]}][N-1]}var m=F[h].v,O=[m.H.v,m.Strt.v,m.Lght.v];
if(N==0)return O;return{OE:O,fo:[m.BgnR.v,m.BgnS.v,m.EndS.v,m.EndR.v]}};dG.fz=function(r,N,F){var h={r6:F.Clrz?F.Clrz.v:!1,SA:[]};
h.pE=h.ib=dG.AD(F,0);for(var R=1;R<7;R++)h.SA.push(dG.AD(F,R));var m=2+2+12+6*14,O=r.data;r.cM(N,m);
J.j3(O,N,2);N+=2;O[N]=h.r6?1:0;N++;N++;J.YJ(O,N+0,h.pE[0]);J.YJ(O,N+2,h.pE[1]);J.YJ(O,N+4,h.pE[2]);N+=6;
J.YJ(O,N+0,h.ib[0]);J.YJ(O,N+2,h.ib[1]);J.YJ(O,N+4,h.ib[2]);N+=6;for(var R=0;R<6;R++){var e=h.SA[R].fo,P=h.SA[R].OE;
J.YJ(O,N+0,e[0]);J.YJ(O,N+2,e[1]);J.YJ(O,N+4,e[2]);J.YJ(O,N+6,e[3]);N+=8;J.YJ(O,N+0,P[0]);J.YJ(O,N+2,P[1]);
J.YJ(O,N+4,P[2]);N+=6}return m};function a7(){}a7.ep=function(r){var N=new Uint8Array(r),F=2,h=[];for(var R=0;
R<29;R++){var m=[];h.push(m);for(var O=0;O<5;O++)m.push(J.Dx(N,F+R*10+O*2))}F+=29*10;if(F<N.length){var e=J.Mj(N,F,4);
F+=4;var P=J.Dx(N,F);F+=2;var B=J.Dx(N,F);F+=2;var s=B-29;for(var R=0;R<s;R++){var m=[];h.push(m);for(var O=0;
O<5;O++)m.push(J.Dx(N,F+R*10+O*2))}}var Y=df.T$("levl");for(var R=0;R<4;R++)a7.uP(Y,R,h[R]);return Y};
a7.FW=function(r,R){var N=["Cmps","Rd","Grn","Bl"],F={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:N[R]}}]};
return{classID:r,Chnl:F}};a7.Mv=function(r,N){var F={Cmps:0,Rd:1,Grn:2,Bl:3};for(var R=0;R<r.length;
R++){var h=r[R].v,m=F[h.Chnl.v[0].v.enum];if(m==N)return R}return-1};a7.uP=function(r,N,F){var h=a7.FW("LvlA",N);
h.Inpt={t:"VlLs",v:[{t:"long",v:F[0]},{t:"long",v:F[1]}]};h.Otpt={t:"VlLs",v:[{t:"long",v:F[2]},{t:"long",v:F[3]}]};
h.Gmm={t:"doub",v:F[4]/100};h={t:"Objc",v:h};var m=r.Adjs.v,O=a7.Mv(m,N);if(O==-1)m.push(h);else m[O]=h};
a7.AD=function(r,N){var F=[0,255,0,255,100],h=r.Adjs.v,m=a7.Mv(h,N);if(m==-1)return F;var O=h[m].v;if(O.Inpt){F[0]=O.Inpt.v[0].v;
F[1]=O.Inpt.v[1].v}if(O.Otpt){F[2]=O.Otpt.v[0].v;F[3]=O.Otpt.v[1].v}if(O.Gmm){F[4]=Math.round(O.Gmm.v*100)}return F};
a7.uZ=function(r,N){var F=[],h=0;for(var R=0;R<4;R++)F.push(a7.AD(N,R));while(F.length<29)F.push([0,255,0,255,100]);
r.cM(0,2+10*29);J.j3(r.data,h,2);h+=2;for(var R=0;R<29;R++){var m=F[R];for(var O=0;O<5;O++)J.j3(r.data,h+R*10+O*2,m[O])}h+=29*10;
if(F.length==29)return h;r.cM(h,8+10*(F.length-29));J.KZ(r.data,h,"Lvls");h+=4;J.j3(r.data,h,3);h+=2;
J.j3(r.data,h,F.length);h+=2;var e=F.length-29;for(var R=0;R<e;R++){var m=F[29+R];for(var O=0;O<5;O++)J.j3(r.data,h+R*10+O*2,m[O])}h+=10*e;
return h};function ay(){}ay.ep=function(r){var N=new Uint8Array(r),F=2,h={Zz:[],EC:[]},m=J.Mj(N,F,4);
F+=4;var O=J.Dx(N,F);F+=2;var e=J.l(N,F);F+=4;h.Zz=cZ.QL(N,F,e);F+=e;var P=J.l(N,F);F+=4;for(var R=0;
R<P;R++){var B=J.l(N,F);F+=4;var s=F,Y={J6:{},ks:{}};h.EC.push(Y);F+=4;F+=er.hF(N,Y.J6,F);F+=4;F+=er.hF(N,Y.ks,F);
F=s+B;var D=Y.ks.blendOptions,c=Y.ks.Lefx;if(D&&Object.keys(D.v).length>1){}if(c){if(c.v.masterFXSwitch==null)c.v.masterFXSwitch={t:"bool",v:!0};
ai.yL(c.v)}}return h};ay.DP=function(r,N){r.J6.Nm.v=N};ay.uZ=function(r){var N=new i6,F=0;J.z9(N,F,2);
F+=2;J.xt(N,F,"8BSL");F+=4;J.z9(N,F,3);F+=2;var h=F;F+=4;F=cZ.yR(N,F,r.Zz);J.TR(N,h,F-h-4);var m=r.EC.length;
J.TR(N,F,m);F+=4;for(var R=0;R<m;R++){F+=4;var O=F,e=r.EC[R];J.TR(N,F,16);F+=4;F+=er.yu(N,e.J6,F);var P=e.ks.Lefx;
if(P){e.ks.Lefx=JSON.parse(JSON.stringify(P));ai.kS(e.ks.Lefx.v)}J.TR(N,F,16);F+=4;F+=er.yu(N,e.ks,F);
if(P)e.ks.Lefx=P;J.TR(N,O-4,F-O)}return N.data.slice(0,F).buffer};function fk(){}fk.V1=function(r,N,F){var h=J.Dx(r,N);
N+=2;var m={};m.YM=J.Dx(r,N)==1;N+=2;m.RI=[];for(var R=0;R<10;R++){var O=[];m.RI.push(O);for(var e=0;
e<4;e++)O.push(J.OU(r,N+e*2));N+=8}var P=df.T$("selc");P.Mthd.v.CrcM=m.YM?"Absl":"Rltv";for(var R=1;
R<10;R++)fk.uP(P,R-1,m.RI[R]);return P};fk.BN="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
fk.FW=function(r,R){var N=["Cmps","Rd","Grn","Bl"],F={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:N[R]}}]};
return{classID:r,Chnl:F}};fk.Mv=function(r,N){var F=fk.BN;for(var R=0;R<r.length;R++){var h=r[R].v,m=F.indexOf(h.Clrs.v.Clrs);
if(m==N)return R}return-1};fk.uP=function(r,N,F){var h=["Cyn","Mgnt","Ylw","Blck"],m={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:fk.BN[N]}}};
for(var O=0;O<4;O++)m[h[O]]={t:"UntF",v:{type:"#Prc",val:F[O]}};m={t:"Objc",v:m};var e=r.ClrC.v,P=fk.Mv(e,N);
if(P==-1)e.push(m);else e[P]=m};fk.AD=function(r,N){var F=[0,0,0,0],h=r.ClrC.v,m=fk.Mv(h,N);if(m==-1)return F;
var O=["Cyn","Mgnt","Ylw","Blck"];for(var R=0;R<4;R++)if(h[m].v[O[R]])F[R]=h[m].v[O[R]].v.val;return F};
fk.fz=function(r,N,F){var h={YM:F.Mthd.v.CrcM=="Absl",RI:[[0,0,0,0]]};for(var R=0;R<9;R++)h.RI.push(fk.AD(F,R));
r.cM(N,84);J.j3(r.data,N,1);N+=2;J.j3(r.data,N,h.YM?1:0);N+=2;for(var R=0;R<10;R++){var m=h.RI[R];for(var O=0;
O<4;O++)J.YJ(r.data,N+O*2,m[O]);N+=8}return 84};function bv(){}bv.T$=function(){return{$J:new fE(0,0,50,50),J6:"",no:"play",Y:w.H.yN.s_([.1,.1,.9,.5,.1,.9],0)}};
bv.ep=function(r){r=new Uint8Array(r);var N=0,F=[],h=Date.now(),m=J.Mj(r,0,4);N+=4;var O=J.l(r,N);N+=4;
var e=J.l(r,N);N+=4;for(var R=0;R<e;R++){var P=J.bn(r,N);N+=P.length*2+4+2;if((P.length&1)==0)N+=2;N=bv.Xh(r,N,P,F)}return F};
bv.Xh=function(r,N,F,h){var m=J.l(r,N);N+=4;var O=J.l(r,N);N+=4;var e=N,P=J._g(r,e).b0;e+=P.length+1;
var B=J.TQ(r,e);e+=16;var s=bv.lr(r,e,O-(e-N)),Y=w.H.u6(s),D=w.p.Ce(Y),c=1/D.e,o=1/D.n;w.H.nY(s,new hc(c,0,0,o,-D.x*c,-D.y*o));
h.push({no:F,J6:P,Y:s,$J:B});N+=O;return N};bv.DP=function(r,N){r.no=N};bv.uZ=function(r){var N=new i6,F=0;
J.xt(N,F,"cush");F+=4;J.TR(N,F,2);F+=4;J.TR(N,F,r.length);F+=4;for(var R=0;R<r.length;R++){var h=r[R],m=h.no+"\0";
J.C$(N,F,m);F+=4+m.length*2;if((m.length&1)==1)F+=2;J.TR(N,F,1);F+=4;F+=4;var O=F;J.E6(N,F,h.J6);F+=h.J6.length+1;
J.Rn(N,F,h.$J);F+=16;N.cM(F,h.Y.length*26);bv.BO(N.data,F,h.Y,1,1);F+=h.Y.length*26;var e=F-O;if((e&3)!=0)e+=4-(e&3);
J.TR(N,O-4,e);F=O+e}return N.data.slice(0,F).buffer};bv.aao=function(r){var N=[];for(var R=0;R<r.length;
R++){var F=r[R],h=F.type,m={type:h};N.push(m);if(h==6){}else if(h==8)m.all=F.all;else if(h==0||h==3){m.length=F.length;
m.frule=F.r5;m.third=F.sd;m.prmA=F.OD;m.prmB=F.tL}else{m.c=[F.Q$.x,F.Q$.y,F.F.x,F.F.y,F.lW.x,F.lW.y]}}return N};
bv.a7W=function(r){var N=[];for(var R=0;R<r.length;R++){var F=r[R],h=F.type,m={type:h};N.push(m);if(h==6){}else if(h==8)m.all=F.all;
else if(h==0||h==3){m.length=F.length;m.r5=F.frule;m.sd=F.third;m.OD=F.prmA;m.tL=F.prmB}else{var O=F.c;
m.Q$=new gS(O[0],O[1]);m.F=new gS(O[2],O[3]);m.lW=new gS(O[4],O[5])}}return N};bv.lr=function(r,N,F,h,m){if(h==null)h=1;
if(m==null)m=1;function O(x,Q,U){var I=J.a8i(x,Q)*U,l=Math.round(I);return Math.abs(I-l)<1e-6?l:I}var e=J.OU,P=[],B=Math.floor(F/26);
for(var R=0;R<B;R++){var s=N+R*26,Y={},D=0;P.push(Y);Y.type=e(r,s);s+=2;if(Y.type==6){D=24}if(Y.type==8){Y.all=e(r,s);
s+=2;D=22}if(Y.type==0||Y.type==3){Y.length=e(r,s);s+=2;Y.r5=e(r,s);s+=2;Y.sd=e(r,s);s+=2;Y.OD=J.l(r,s);
s+=4;Y.tL=J.l(r,s);s+=4;D=10}if(Y.type==1||Y.type==2||Y.type==4||Y.type==5){var c,o;o=O(r,s,m);s+=4;
c=O(r,s,h);s+=4;Y.Q$=new gS(c,o);o=O(r,s,m);s+=4;c=O(r,s,h);s+=4;Y.F=new gS(c,o);o=O(r,s,m);s+=4;c=O(r,s,h);
s+=4;Y.lW=new gS(c,o);D=0}for(var H=0;H<D;H++)if(r[s+H]!=0){console.log("Unexpected non-zero byte!",Y,H,r[s+H])}}return P};
bv.BO=function(r,N,F,h,m){var O=J.YJ,e=J.xP,P=F.length;for(var R=0;R<P;R++){var B=N+R*26,s=F[R];O(r,B,s.type);
B+=2;if(s.type==6){}if(s.type==8)O(r,B,s.all);if(s.type==0||s.type==3){O(r,B,s.length);B+=2;O(r,B,s.r5);
B+=2;O(r,B,s.sd);B+=2}if(s.type==1||s.type==2||s.type==4||s.type==5){e(r,B,s.Q$.y/m);B+=4;e(r,B,s.Q$.x/h);
B+=4;e(r,B,s.F.y/m);B+=4;e(r,B,s.F.x/h);B+=4;e(r,B,s.lW.y/m);B+=4;e(r,B,s.lW.x/h);B+=4}}};function hK(){}hK.ep=function(r){var N=new Uint8Array(r),F=[],h=0;
h=hK.gu(N,h,F);if(h+3<N.length){F=[];h=hK.gu(N,h,F)}return F};hK.gu=function(r,N,F){var h=J.Dx,m=J.OU,O=h(r,N);
N+=2;var e=h(r,N);N+=2;for(var R=0;R<e;R++){var P=hK.AA(r,N);N+=10;if(O==2){P.vS=J.bn(r,N);N+=4+P.vS.length*2+2}F.push(P)}return N};
hK.AA=function(r,N){var F=J.Dx,h=J.OU,m=F(r,N),o=null;N+=2;var O=F(r,N);N+=2;var e=F(r,N);N+=2;var P=F(r,N);
N+=2;var B=F(r,N);N+=2;var s=1/65535,Y=255/65535,D=100/65535,c=255/1e4;if(m==0)o={Z:O*Y,z:e*Y,J:P*Y};
else if(m==1){o=w.ip(O*s,e*s,P*s);o.Z*=255;o.z*=255;o.J*=255}else if(m==2)o=w.X.Mq({classID:"CMYC",Cyn:{t:"doub",v:100-O*D},Mgnt:{t:"doub",v:100-e*D},Ylw:{t:"doub",v:100-P*D},Blck:{t:"doub",v:100-B*D}});
else if(m==7){var H=w.HW(O/100,h(r,N-6)/100,h(r,N-4)/100);o=H}else if(m==8){o={Z:255-O*c,z:255-e*c,J:255-P*c}}else throw"e "+m+", ";
return o};hK.uZ=function(r){var N=new i6,F=0,h=J.z9;h(N,F,2);F+=2;h(N,F,r.length);F+=2;for(var R=0;R<r.length;
R++){var m=r[R];N.cM(F,10);hK.r_(N.data,F,m);F+=10;var O=(m.vS?m.vS:"")+"\0";J.C$(N,F,O);F+=4+O.length*2}return N.data.slice(0,F).buffer};
hK.DP=function(r,N){r.vS=N};hK.r_=function(r,N,F){var h=65535/255,m=J.j3;m(r,N,0);m(r,N+2,Math.round(F.Z*h));
m(r,N+4,Math.round(F.z*h));m(r,N+6,Math.round(F.J*h));m(r,N+8,0)};function eB(){}eB.ep=function(r){var N=new Uint8Array(r),F=4,h={};
h.Py=J.bn(N,F);F+=4+h.Py.length*2+2;h.exp=N[F++]==1;h.Yg=[];var m=J.l(N,F);F+=4;for(var R=0;R<m;R++){var O={};
h.Yg.push(O);O.Jz=J.Dx(N,F);F+=2;O.shift=N[F++]==1;O.anX=N[F++]==1;O.color=J.Dx(N,F);F+=2;O.Py=J.bn(N,F);
F+=4+O.Py.length*2+2;O.exp=N[F++]==1;O.Yg=[];var e=J.l(N,F);F+=4;for(var P=0;P<e;P++){var B={};O.Yg.push(B);
B.exp=N[F++]==1;B.I=N[F++]==1;B.ar1=N[F++]==1;B.aiZ=N[F++];var s=J.Mj(N,F,4);F+=4;if(s=="TEXT"){B.Ja=eB.uS(N,F);
F+=4+B.Ja.length}else if(s=="long"){B.Ja=J.Mj(N,F,4);F+=4}else throw"e";B.nQ=eB.uS(N,F);F+=4+B.nQ.length;
var Y=J.YC(N,F);F+=4;if(Y==-1){B.Tf={};var D=er.hF(N,B.Tf,F);F+=D}}}console.log(h);var c=new Uint8Array(eB.uZ(h));
for(var R=0;R<c.length;R++)if(c[R]!=N[R]&&J.Mj(N,R+1,4)!="None"){console.log(N.length,c.length);var o=4*(R>>>2)-16;
console.log(J.oj(N,o,64));console.log(J.oj(c,o,64));console.log(N.slice(o,o+64));console.log(c.slice(o,o+64));
throw"i"}return[h]};eB.uS=function(r,N){var F=J.l(r,N);return J.Mj(r,N+4,F)};eB.p6=function(r,N,F){J.TR(r,N,F.length);
J.xt(r,N+4,F)};eB.uZ=function(r){var N=new i6,F=0;J.TR(N,F,16);F+=4;J.C$(N,F,r.Py+"\0");F+=4+r.Py.length*2+2;
N.cM(F,1);N.data[F++]=r.exp?1:0;var h=r.Yg.length;J.TR(N,F,h);F+=4;for(var R=0;R<h;R++){var m=r.Yg[R];
J.z9(N,F,m.Jz);F+=2;N.cM(F,2);N.data[F++]=m.shift?1:0;N.data[F++]=m.anX?1:0;J.z9(N,F,m.color);F+=2;J.C$(N,F,m.Py+"\0");
F+=4+m.Py.length*2+2;N.cM(F,1);N.data[F++]=m.exp?1:0;var O=m.Yg.length;J.TR(N,F,O);F+=4;for(var e=0;
e<O;e++){var P=m.Yg[e];N.cM(F,4);N.data[F++]=P.exp?1:0;N.data[F++]=P.I?1:0;N.data[F++]=P.ar1?1:0;N.data[F++]=P.aiZ;
var B="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(P.Ja)!=-1;J.xt(N,F,B?"long":"TEXT");F+=4;
if(!B){eB.p6(N,F,P.Ja);F+=4+P.Ja.length}else{J.xt(N,F,P.Ja);F+=4}eB.p6(N,F,P.nQ);F+=4+P.nQ.length;J.fW(N,F,P.Tf?-1:0);
F+=4;if(P.Tf){var s=er.yu(N,P.Tf,F);F+=s}}}return N.data.slice(0,F).buffer};function ca(){}ca.ep=function(r){var N=new Uint8Array(r),F=0,h=J.l(N,F),B;
F+=4;var m=J.Mj(N,F,8);F+=8;var O=J.Iy(N,F);F+=4;var e=J.Iy(N,F);F+=4;var P=J.Iy(N,F);F+=4;if(h==2){B=new Float32Array(r,32,r.byteLength-32>>>2)}else if(h==3||h==4){B=new Float32Array(e*P*2);
var s=0,Y=0,D=!0;F=h==3?32:16+8+40;while(F<N.length){var c=J.Iy(N,F);F+=4;if(D)Y+=c;else{for(var R=0;
R<c;R++){B[s+Y+R<<1]=J.mm(N,F);B[(s+Y+R<<1)+1]=J.mm(N,F+4);F+=8}Y+=c}D=!D;if(c!=0&&Y==e){s+=e;Y=0;D=!0;
if(s==e*P)break}}}else throw"unknown Mesh version: "+h;return{YW:e,Nf:P,map:B}};ca.u_=function(r){var N=r.YW,F=r.Nf,h=r.map,m=new Uint8Array(32+F*N*8+F*8),O=0,e=0;
J.Wa(m,O,3);O+=4;J.KZ(m,O,"yfqLhseM");O+=8;J.zO(m,O,2);O+=4;J.zO(m,O,N);O+=4;J.zO(m,O,F);O+=4;J.zO(m,O,0);
O+=4;J.zO(m,O,1);O+=4;for(var P=0;P<F;P++){J.zO(m,O,0);O+=4;J.zO(m,O,N);O+=4;for(var B=0;B<N;B++){J.dw(m,O,h[e]);
J.dw(m,O+4,h[e+1]);e+=2;O+=8}}return m.buffer};function bD(){}bD.ep=function(r){var N=new Uint8Array(r),F=0,h=J.Mj(N,F,4);
F+=4;var m=J.Dx(N,F);F+=2;var O=J.l(N,F);F+=4;var e=[];for(var R=0;R<O;R++){var P=J.l(N,F);F+=4;var B={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
e.push(B);var s=J.bn(N,F);B.Nm.v=s;F+=4+s.length*2+2;var Y=J.Dx(N,F);F+=2;var D=J.Dx(N,F);F+=2;for(var c=0;
c<D;c++){var o=w.WC.x1(0,0,!0);o.v.Vrtc.v=J.Dx(N,F);F+=2;o.v.Hrzn.v=J.Dx(N,F);F+=2;B.Crv.v.push(o)}if(P==1){}else if(P==2){for(var c=0;
c<D;c++){B.Crv.v[c].v.Cnty.v=N[F]==1;F+=1}}else throw"error";var H=J.l(N,F);F+=4;var x=J.l(N,F);F+=4}return e};
bD.DP=function(r,N){r.Nm.v=N};bD.uZ=function(r){var N=new i6,F=0;J.xt(N,F,"8BFS");F+=4;J.z9(N,F,1);F+=2;
J.TR(N,F,r.length);F+=4;for(var R=0;R<r.length;R++){J.TR(N,F,2);F+=4;var h=r[R];J.C$(N,F,h.Nm.v+"\0");
F+=4+h.Nm.v.length*2+2;J.z9(N,F,2);F+=2;var m=h.Crv.v.length;J.z9(N,F,m);F+=2;for(var O=0;O<m;O++){var e=h.Crv.v[O];
J.z9(N,F,e.v.Vrtc.v);F+=2;J.z9(N,F,e.v.Hrzn.v);F+=2}N.cM(F,m);for(var O=0;O<m;O++){N.data[F]=h.Crv.v[O].v.Cnty.v;
F++}J.TR(N,F,0);F+=4;J.TR(N,F,0);F+=4}return N.data.slice(0,F).buffer};function cZ(){}cZ.ep=function(r){var N=new Uint8Array(r),F=4,h=J.Dx(N,F);
F+=2;var m=J.l(N,F);F+=4;var O=[];for(var R=0;R<m;R++){var e={};O.push(e);F=cZ.hV(N,F,e)}return O};cZ.DP=function(r,N){r.name=N};
cZ.uZ=function(r){var N=new i6,F=0;J.xt(N,F,"8BPT");F+=4;J.z9(N,F,1);F+=2;J.TR(N,F,r.length);F+=4;for(var R=0;
R<r.length;R++){F=cZ.r7(N,F,r[R])}return N.data.slice(0,F).buffer};cZ.QL=function(r,N,F){var h=N+F,m=[];
while(N<h){var O={},e=J.l(r,N);N+=4;var P=N;N=cZ.hV(r,N,O);if(!O.jB[1].lX())m.push(O);if(e%4!=0)e+=4-e%4;
N=P+e}return m};cZ.yR=function(r,N,F){for(var R=0;R<F.length;R++){var h=F[R];N+=4;var m=N;N=cZ.r7(r,N,h);
var O=N-m;J.TR(r,m-4,O);if(O%4!=0)m+=4-O%4;N=m+O}return N};cZ.hV=function(r,N,F){var h=J.l(r,N);N+=4;
if(h!=1)alert("Unknown version of pattern");var m=J.l(r,N);N+=4;if(m!=1&&m!=2&&m!=3)console.log("Unsupported mode of pattern: "+m);
var O=J.Dx(r,N);N+=2;var e=J.Dx(r,N);N+=2;var P=new fE(0,0,e,O);F.name=J.bn(r,N);N+=4+2*F.name.length+2;
var B=r[N];N++;F.id=J.Mj(r,N,B);N+=F.id.length;var s=-1;if(m==2){s=N;N+=3*256+4}var Y=new w.rX(e*O);
N=cZ.ama(r,N,Y);if(m==2){for(var R=0;R<Y.Z.length;R++){var D=3*Y.Z[R];Y.Z[R]=r[s+D+0];Y.z[R]=r[s+D+1];
Y.J[R]=r[s+D+2]}}var c=w.B(P.W()*4);w.vJ(Y,c);F.jB=[c,P];return N};cZ.r7=function(r,N,F){var h=F.jB[0],m=F.jB[1];
J.TR(r,N,1);N+=4;J.TR(r,N,3);N+=4;J.z9(r,N,m.n);N+=2;J.z9(r,N,m.e);N+=2;J.C$(r,N,F.name+"\0");N+=4+2*F.name.length+2;
J.B5(r,N,F.id.length);N++;J.xt(r,N,F.id);N+=F.id.length;var O=new w.rX(m.W());w.vg(h,O);N=cZ.asN(r,N,O,m);
return N};cZ.ama=function(r,N,F){var h=N,m={NQ:null,Hr:[],ab5:null,JZ:null},O=J.l(r,N);N+=4;var e=J.l(r,N);
N+=4;m.NQ=J.TQ(r,N);N+=16;var P=J.l(r,N);N+=4;for(var R=0;R<P+2;R++){var B=J.l(r,N);N+=4;if(B==0)continue;
var s=J.l(r,N);N+=4;if(s==0)continue;var Y=J.l(r,N);N+=4;var D=J.TQ(r,N);N+=16;var c=J.Dx(r,N);N+=2;
var o=r[N];N++;var H=j1.A$(!1,Y,r,D.e,D.n,N,o);if(R<P)m.Hr.push(H);if(R==P)m.ab5=H;if(R==P+1)m.JZ=H;
N+=s-23}if(!m.NQ.lX()){if(m.Hr[0])F.Z=m.Hr[0];if(m.Hr[1])F.z=m.Hr[1];else F.z=m.Hr[0].slice(0);if(m.Hr[2])F.J=m.Hr[2];
else F.J=m.Hr[0].slice(0);if(m.JZ)F.O$=m.JZ;else F.O$.fill(255)}return N};cZ.asN=function(r,N,F,h){var m=N,O={NQ:h,Hr:[F.Z,F.z,F.J],ab5:null,JZ:F.O$};
J.TR(r,N,3);N+=4;J.TR(r,N,0);N+=4;J.Rn(r,N,h);N+=16;J.TR(r,N,24);N+=4;for(var R=0;R<24+2;R++){var e=N,P=R<3||R==25?1:0;
J.TR(r,N,P);N+=4;if(P==0)continue;J.TR(r,N,0);N+=4;J.TR(r,N,8);N+=4;J.Rn(r,N,h);N+=16;J.z9(r,N,8);N+=2;
J.B5(r,N,1,1);N++;var B=R<3?O.Hr[R]:O.JZ;r.cM(N,h.W()+2);N=j1.xn(!1,B,r.data,h.e,h.n,N,1);J.TR(r,e+4,N-e-8)}J.TR(r,m+4,N-m-8);
return N};function aN(){}aN.ep=function(r){var N=new Uint8Array(r),F=0;if(N[0]==71)return aN.a9n(N);
var h=J.Mj(N,F,4);F+=4;var m=J.Dx(N,F);F+=2;var O=[];if(m<=3){var e=J.Dx(N,F);F+=2;for(var R=0;R<e;R++){var P=N[F++],B=J.Mj(N,F,P);
F+=P;var s=aN.aj(N,F,B),Y=s[0];F=s[1];O.push(Y)}}else{var s={},D=er.hF(N,s,F+4),c=s.GrdL.v;for(var R=0;
R<c.length;R++)O[R]=c[R].v.Grad.v}return O};aN.DP=function(r,N){r.Nm.v=N};aN.uZ=function(r){var N=new i6,F=0;
J.xt(N,F,"8BGR");F+=4;J.z9(N,F,5);F+=2;J.TR(N,F,16);F+=4;var h={classID:"null",GrdL:{t:"VlLs",v:[]}},m=h.GrdL.v;
for(var R=0;R<r.length;R++)m[R]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:r[R]}}};
F+=er.yu(N,h,F);return N.data.slice(0,F).buffer};aN.aj=function(r,N,F){var h={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:F},Trns:{t:"VlLs",v:[]}},m=J.Dx(r,N);
N+=2;if(m==0)throw"e";for(var R=0;R<m;R++){var O=J.l(r,N),e=J.l(r,N+4),P=hK.AA(r,N+8),B={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:P.Z},Grn:{t:"doub",v:P.z},Bl:{t:"doub",v:P.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:O},Mdpn:{t:"long",v:e}}};
h.Clrs.v.push(B);N+=20}var s=J.Dx(r,N);N+=2;for(var R=0;R<s;R++){var O=J.l(r,N),e=J.l(r,N+4),Y=J.Dx(r,N+8),B={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*Y/255)}},Lctn:{t:"long",v:O},Mdpn:{t:"long",v:e}}};
h.Trns.v.push(B);N+=10}var D=J.Dx(r,N);N+=2;if(D!=2)throw D;h.Intr.v=J.Dx(r,N);N+=2;var c=J.Dx(r,N);
N+=2;if(c!=32)throw"e";return[h,N]};aN.a8K=function(r,N,F){var h=F.Clrs.v.length;J.z9(r,N,h);N+=2;for(var R=0;
R<h;R++){var m=F.Clrs.v[R];J.TR(r,N,m.v.Lctn.v);J.TR(r,N+4,m.v.Mdpn.v);J.z9(r,N+8,0);var O=w.X.QA(w.X.Mq(m.v.Clr.v)),e=[O.Rd.v,O.Grn.v,O.Bl.v,0];
for(var P=0;P<4;P++)J.z9(r,N+10+P*2,Math.round(65535*(e[P]/255)));N+=20}var B=F.Trns.v.length;J.z9(r,N,B);
N+=2;for(var R=0;R<B;R++){var m=F.Trns.v[R];J.TR(r,N,m.v.Lctn.v);J.TR(r,N+4,m.v.Mdpn.v);J.z9(r,N+8,Math.round(255*m.v.Opct.v.val/100));
N+=10}J.z9(r,N,2);N+=2;J.z9(r,N,F.Intr.v);N+=2;J.z9(r,N,32);N+=2;return N};aN.a9n=function(r){var N=J.H3(r,0,r.length).split("\n"),F=parseFloat(N[2]),h=[],m=JSON.parse(an.O7[an.order.indexOf("GrFl")]).Grad.v;
m.Intr.v=0;m.Nm.v=N[1];for(var R=0;R<F;R++){var O=N[3+R].split(" ").map(parseFloat),e=O[11],P=O[12];
h.push([O[0],O.slice(3,6),O[6]]);if(P!=0){var B=w.DZ(O[3],O[4],O[5]),s=w.DZ(O[7],O[8],O[9]),Y=B.Nf,D=s.Nf;
if(P==1&&Y>D)D++;if(P==2&&Y<D)Y++;var c=Math.round(Math.abs(D-Y)*7);if(c>1)for(var o=0;o<c;o++){var H=1-(o+1)/(c+1),x=1-H,Q=w.ip(H*Y+x*D,H*B.ou+x*s.ou,H*B.MB+x*s.MB);
h.push([H*O[0]+x*O[2],[Q.Z,Q.z,Q.J],H*O[6]+x*O[10]])}}h.push([O[2],O.slice(7,10),O[10]])}h.sort(function(U,I){return U[0]-I[0]});
w.X.y2(h,m);return[m]};function i5(){}i5.ep=function(r){var N=new Uint8Array(r),F=[],h=[],m=[],O=[],e=[],P=0,B=J.Mj(N,P,4);
P+=4;var s=J.l(N,P);P+=4;var Y=J.l(N,P);P+=4;while(P<N.length){var D=J.Mj(N,P,4);P+=4;var c=J.Mj(N,P,4);
P+=4;var o=J.l(N,P);P+=4;if(c=="tppa"){h=cZ.QL(N,P,o);P+=o}else if(c=="tpbd"){m=eq.hp(N,P,o,1,1);P+=o}else if(c=="tptp"){var H=J.l(N,P);
P+=4;for(var R=0;R<H;R++){var x=J.bn(N,P);P+=6+x.length*2;P+=4;var Q={};P+=er.hF(N,Q,P);F.push([x,Q])}while((P&3)!=0)P++}else if(c=="tpsh"){var U=P,I=N.slice(P,P+o);
while(P<U+o){var l=J.l(N,P);P+=4;P=bv.Xh(N,P,"Shape",O)}P=U+o}else if(c=="tpst"){var U=P;P+=4;while(P<U+o){var p=J.l(N,P);
P+=4;var j=P,T=J.l(N,P);P+=4;var Q={J6:{},ks:{}};e.push(Q);P+=4;P+=er.hF(N,Q.J6,P);P+=4;P+=er.hF(N,Q.ks,P);
P=j+p;var V=Q.ks.Lefx;if(V){if(V.v.masterFXSwitch==null)V.v.masterFXSwitch={t:"bool",v:!0};ai.yL(V.v)}}P=U+o}else{console.log(N.slice(P-8,P+64));
console.log(J.Mj(N,P-8,64));throw c}}return{lZ:m,ki:h,list:F,aif:O,EC:e}};i5.DP=function(r,N){r[0]=N};
i5.uZ=function(r){var N=new i6,F=0;J.xt(N,F,"8BTP");F+=4;J.TR(N,F,3);F+=4;J.TR(N,F,1);F+=4;var h=[r.ki,r.lZ,r.list];
for(var R=0;R<3;R++){if(h[R].length==0)continue;J.xt(N,F,"8BIM");F+=4;var m=["tppa","tpbd","tptp"][R];
J.xt(N,F,m);F+=4;var O=F;F+=4;if(m=="tppa"){F=cZ.yR(N,F,r.ki)}else if(m=="tpbd"){F=eq.FP(N,F,r.lZ)}else if(m=="tptp"){J.TR(N,F,r.list.length);
F+=4;for(var e=0;e<r.list.length;e++){var P=r.list[e];J.C$(N,F,P[0]+"\0");F+=6+P[0].length*2;J.TR(N,F,16);
F+=4;F+=er.yu(N,P[1],F)}}J.TR(N,O,F-O-4);while((F&3)!=0)F++;N.cM(F,0)}return N.data.slice(0,F).buffer};
function di(){}di.ep=function(r,N){var F=new Uint8Array(r),h;if(J.l(F,0)==F.length)h="icc";else if(F[0]=="<".charCodeAt(0))h="look";
else if(J.vE(F,"LUT_3D_SIZE")!=-1)h="cube";else h="3DL";if(h!="icc"){var m=di.alY(F,h),O=di.a8s(m[0],m[1]);
F=O}var e=[];for(var R=0;R<F.length;R++)e.push(F[R]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:N?N:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:e}}]};
di.uZ=function(r){var N=r[0],F=new Uint8Array(N.profile.v);return F.buffer};di.DP=function(r,N){r.Nm.v=N};
di.a8s=function(r,N){var F=new i6,h=128;F.cM(0,128);var m=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var R=0;R<m.length;R++)F.data[R]=m[R];var O=["desc","A2B0"],e=O.length,P=128+4+e*12;J.TR(F,h,e);
h+=4;for(var B=0;B<e;B++){var s=O[B];J.xt(F,h,s);h+=4;J.TR(F,h,P);h+=4;var Y=P;if(s=="desc"){J.xt(F,Y,"mluc");
Y+=4;Y+=4;J.TR(F,Y,1);Y+=4;J.TR(F,Y,12);Y+=4;J.xt(F,Y,"enUS");Y+=4;var D="ICC by Photopea\0",c=D.length*2+2;
J.TR(F,Y,c);Y+=4;J.TR(F,Y,28);Y+=4;F.cM(Y,c);for(var R=0;R<D.length;R++)F.data[Y+R*2+1]=D.charCodeAt(R);
Y+=c}if(s=="A2B0"){J.xt(F,Y,"mAB ");Y+=4;Y+=4;F.cM(Y,4);F.data[Y]=3;F.data[Y+1]=3;Y+=4;F.cM(Y,4*5);Y+=4*3;
J.TR(F,Y,Y+8-P);Y+=4;Y+=4;F.cM(Y,20);F.data[Y]=r;F.data[Y+1]=r;F.data[Y+2]=r;Y+=16;F.data[Y]=2;Y+=4;
var o=r*r*r*3;F.cM(Y,o*2);for(var R=0;R<o;R++)J.j3(F.data,Y+R*2,Math.max(0,Math.min(65535,Math.round(N[R]*65535))));
Y+=o*2}var H=Y-P;while((H&3)!=0)H++;J.TR(F,h,H);h+=4;P+=H}J.TR(F,0,P);return F.data.slice(0,P)};di.alY=function(r,N){N="LUTFormat"+N.toUpperCase();
var F=[],h=0,m=J.H3(r,0,r.length),O="";for(var R=0;R<r.length&&O=="";R++){if(r[R]==10)O="\n";else if(r[R]==13){O="\r";
if(r[R+1]==10)O+="\n"}}if(N=="LUTFormatCUBE"){var e=m.split(O);for(var R=0;R<e.length;R++){if(e[R]==""||e[R][0]=="#")continue;
var P=e[R].split(" "),B=P[0];if(B=="LUT_3D_SIZE"){h=parseInt(P[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(B)!=-1)continue;
F.push(parseFloat(P[0]),parseFloat(P[1]),parseFloat(P[2]))}F=di.Tq(h,F)}else if(N=="LUTFormat3DL"){var e=m.split(O),s=1/4095;
for(var R=0;R<e.length;R++){var Y=e[R];if(Y==""||Y=="3DMESH"||Y.startsWith("Mesh")||Y[0]=="#")continue;
var P=Y.split(" "),B=P[0];if(h==0){h=P.length;continue}F.push(parseFloat(P[0])*s,parseFloat(P[1])*s,parseFloat(P[2])*s)}}else if(N=="LUTFormatLOOK"){var D=new DOMParser,c=D.parseFromString(m,"text/xml"),o=c.getElementsByTagName("LUT")[0],H=o.children[0].textContent;
h=parseInt(JSON.parse(H));var x=o.children[1].textContent;x=x.replace(/"/g,"").replace(/\s/g,"");var Q=3*h*h*h,U=Q*4,I=new Uint8Array(U);for(var R=0;R<U;R++){var l=x.charCodeAt(R*2),p=x.charCodeAt(R*2+1),j=l<58?l-48:l-55,T=p<58?p-48:p-55;I[R]=(j<<4)+T}for(var R=0;R<Q;R++)F.push(J.mm(I,R<<2));F=di.Tq(h,F)}else throw N;return[h,F]};di.ajf=function(r,N,F){var h=["#Created by www.Photopea.com","TITLE \""+F+"\"","","#LUT size","LUT_3D_SIZE "+N,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],m=6;
for(var R=0;R<r.length;R+=3){h.push(r[R].toFixed(m)+" "+r[R+1].toFixed(m)+" "+r[R+2].toFixed(m))}h.push("");
return J.kX(h.join("\n")).buffer};di.Tq=function(r,N){var F=[],h=r*r*r;for(var R=0;R<h;R++)F.push(0,0,0);
for(var m=0;m<r;m++)for(var O=0;O<r;O++)for(var e=0;e<r;e++){var R=3*(e+O*r+m*r*r),P=3*(m+O*r+e*r*r);
F[P]=N[R];F[P+1]=N[R+1];F[P+2]=N[R+2]}return F};function er(){}er.hF=function(r,N,F,h,m){var O=F,e;if(m==null)m=0;
var P=J.l(r,F);if(P==0){e="";F+=4}else{e=J.bn(r,F);F+=4+2*e.length+2}if(e!="")N.__name=e;N.classID=er.i3(r,F);
if(h)console.log("\t".repeat(m),"- reading descriptor",N.classID,F);F+=er.ak(r,F);var B=J.YC(r,F);F+=4;
for(var R=0;R<B;R++){var s=er.i3(r,F);F+=er.ak(r,F);var Y=er.oE(r,F,h,m);N[s]=Y;F+=Y.size;delete Y.size}return F-O};
er.yu=function(r,N,F,h){var m=F,O=N.__name;if(O==null)O="";O+="\0";J.C$(r,F,O);F+=4+2*O.length;er.hH(r,F,N.classID);
F+=er.ak(r.data,F);J.fW(r,F,Object.keys(N).length-1-(N.__name==null?0:1));F+=4;for(var e in N){if(e=="classID")continue;
if(e=="__name")continue;er.hH(r,F,e);F+=er.ak(r.data,F);F+=er.ig(r,F,N[e])}return F-m};er.oE=function(r,N,F,h){var m=N,O=J.Mj(r,N,4);
N+=4;var e={size:0,t:O,v:null};if(F)console.log("\t".repeat(h),"reading key",O,m);switch(O){case"obj ":case"VlLs":e.v=[];
var P=J.l(r,N);N+=4;for(var R=0;R<P;R++){var B=er.oE(r,N,F,h+1);N+=B.size;delete B.size;e.v.push(B)}break;
case"UntF":e.v={type:J.Mj(r,N,4),val:J.AR(r,N+4)};N+=12;break;case"doub":e.v=J.AR(r,N);N+=8;break;case"bool":e.v=r[N]==1;
N+=1;break;case"long":e.v=J.YC(r,N);N+=4;break;case"comp":e.v=J.YC(r,N+4);N+=8;break;case"Objc":e.v={};
var s=er.hF(r,e.v,N,F,h+1);N+=s;break;case"TEXT":var Y=J.l(r,N);if(Y==0){e.v="";N+=4}else{e.v=J.bn(r,N);
N+=4+e.v.length*2+2}break;case"enum":var D=er.i3(r,N);N+=er.ak(r,N);var c=er.i3(r,N);N+=er.ak(r,N);e.v={};
e.v[D]=c;break;case"tdta":var o=J.YC(r,N);N+=4;e.v=[];for(var R=0;R<o;R++)e.v.push(r[N+R]);N+=o;break;
case"ObAr":var H=J.l(r,N);N+=4;var x=J.bn(r,N);N+=4+2*x.length+2;if(x!="")throw x;var Q=er.i3(r,N);N+=4+Math.max(4,Q.length);
e.v={classID:Q,arr:[]};var U=J.l(r,N);N+=4;for(var R=0;R<U;R++){var Q=er.i3(r,N);N+=4+Math.max(4,Q.length);
var D=J.Mj(r,N,4);N+=4;var I=J.Mj(r,N,4);N+=4;var l={id:Q,type:D,uID:I,arr:[]};e.v.arr.push(l);var p=J.l(r,N,4);
N+=4;for(var j=0;j<p;j++){var T=J.AR(r,N);N+=8;l.arr.push(T)}}break;case"Pth ":var V=N,o=J.l(r,N);N+=4;
var E=J.Mj(r,N,4);N+=4;var _=J.Iy(r,N);N+=4;var f=J.aaB(r,N);N+=4+f.length*2;e.v={sig:E,pth:f};break;
case"Clss":case"type":case"rele":var f=J.bn(r,N);N+=4+f.length*2+2;var S=er.i3(r,N);N+=4+Math.max(4,S.length);
e.v={classID:S};if(f!="")e.v.__name=f;if(O=="rele"){e.v.val=J.YC(r,N);N+=4}break;case"prop":case"Enmr":case"indx":case"name":var L=er.W8[O],f=J.bn(r,N);
N+=4+f.length*2+2;if(f.length!=0){console.log(O,f);throw"e"}e.v={};for(var R=0;R<L.length;R++){var S=er.i3(r,N);
N+=4+Math.max(4,S.length);e.v[L[R]]=S}if(O=="name"){var f=J.bn(r,N);N+=4+f.length*2+2;e.v.val=f}if(O=="indx"){e.v.val=J.l(r,N);
N+=4}break;case"alis":var o=J.l(r,N);N+=4;e.v=J.Mj(r,N,o);N+=o;break;default:{console.log("unknown oskey: "+O+", "+m);
throw"e";return e}}if(F){console.log("\t".repeat(h),e.v);console.log("\t".repeat(h),"======",N)}e.size=N-m;
return e};er.W8={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
er.ig=function(r,N,F){var h=N,m=F.t;F=F.v;J.xt(r,N,m);N+=4;switch(m){case"obj ":case"VlLs":J.fW(r,N,F.length);
N+=4;for(var O=0;O<F.length;O++){var e=er.ig(r,N,F[O]);N+=e}break;case"UntF":J.xt(r,N,F.type);J.OX(r,N+4,F.val);
N+=12;break;case"doub":J.OX(r,N,F);N+=8;break;case"bool":J.B5(r,N,F?1:0,1);N+=1;break;case"long":J.fW(r,N,F);
N+=4;break;case"comp":J.fW(r,N+4,F);N+=8;break;case"Objc":var e=er.yu(r,F,N);N+=e;break;case"TEXT":J.C$(r,N,F+"\0");
N+=4+F.length*2+2;break;case"enum":var P=Object.keys(F)[0],B=F[P];er.hH(r,N,P);N+=er.ak(r.data,N);er.hH(r,N,B);
N+=er.ak(r.data,N);break;case"tdta":J.TR(r,N,F.length);N+=4;J.R$(r,N,F);N+=F.length;break;case"ObAr":J.TR(r,N,F.arr[0].arr.length);
N+=4;J.C$(r,N,"\0");N+=6;er.hH(r,N,F.classID);N+=4+Math.max(4,F.classID.length);J.TR(r,N,F.arr.length);
N+=4;for(var R=0;R<F.arr.length;R++){var s=F.arr[R];er.hH(r,N,s.id);N+=4+Math.max(4,s.id.length);J.xt(r,N,s.type);
N+=4;J.xt(r,N,s.uID);N+=4;J.TR(r,N,s.arr.length);N+=4;for(var O=0;O<s.arr.length;O++){J.OX(r,N,s.arr[O]);
N+=8}}break;case"Pth ":var Y=F.pth.length*2+4+8;J.TR(r,N,Y);N+=4;J.xt(r,N,F.sig);N+=4;J.WX(r,N,Y);N+=4;
J.aoO(r,N,F.pth);N+=F.pth.length*2+4;break;case"Clss":case"type":case"rele":var D=F.__name;if(D==null)D="";
J.C$(r,N,D+"\0");N+=4+D.length*2+2;var c=F.classID;er.hH(r,N,c);N+=4+Math.max(4,c.length);if(m=="rele"){J.fW(r,N,F.val);
N+=4}break;case"prop":case"Enmr":case"indx":case"name":var o=er.W8[m];J.TR(r,N,1);N+=6;for(var R=0;R<o.length;
R++){var c=F[o[R]];er.hH(r,N,c);N+=4+Math.max(4,c.length)}if(m=="name"){J.C$(r,N,F.val+"\0");N+=4+F.val.length*2+2}if(m=="indx"){J.TR(r,N,F.val);
N+=4}break;case"alis":var Y=F.length;J.TR(r,N,Y);N+=4;J.xt(r,N,F);N+=Y;break;default:console.log("unknown oskey: "+m);
N=h;break}return N-h};er.i3=function(r,N){var F=J.YC(r,N);if(F>1e3)throw"e";if(F==0)F=4;return J.Mj(r,N+4,F).trim()};
er.ak=function(r,N){var F=J.YC(r,N);return F==0?8:4+F};er.hH=function(r,N,F){var h="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),m=4<F.length||h.indexOf(F)!=-1;
J.fW(r,N,m?F.length:0);J.xt(r,N+4,F);if(F.length<4&&!m){var O="";for(var R=F.length;R<4;R++)O+=" ";J.xt(r,N+4+F.length,O)}};
er.av2=function(r){var N={};for(var F in r){if(F=="classID")N[F]=r[F];else if(F=="__name")N[F]=r[F];
else N[F]=er.SO(r[F])}return N};er.SO=function(r){if(r.xa=="Objc")return er.av2(r.v);else if(r.xa=="VlLs"){var N=[];
for(var R=0;R<r.v.length;R++)N.push(er.SO(r.v[R]));return N}else if(r.xa=="UntF")return r.v.val;else return r.v};
function ai(){}ai.$V=function(r,N,F,h,m,O){while(N<F){var e=J.Mj(r,N,4);N+=4;if(e!="8BIM"&&e!="8B64"){console.log("layer information signature error! "+e,"PSB = "+m);
alert("Error in PSD file: wrong signature.");return F}var P=J.Mj(r,N,4);N+=4;var B=J.l(r,N);N+=4;var s=m&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(P)!=-1;
if(s){B=B<<32|J.YC(r,N);N+=4}var Y=["lrFX","PlLd"];if(Y.indexOf(P)!=-1){if(B%4!=0)B+=4-B%4;N+=B;continue}switch(P){case"iOpa":h[P]=r[N];
break;case"brst":h[P]=[1,1,1];for(var R=0;R<B;R+=4)h[P][J.l(r,N+R)]=0;break;case"knko":h[P]=r[N];break;
case"infx":h[P]=r[N];break;case"clbl":h[P]=r[N];break;case"lmgm":h[P]=r[N];break;case"vmgm":h[P]=r[N];
break;case"fcmy":h[P]=r[N];break;case"lyid":h[P]=J.l(r,N);break;case"lsct":h[P]={type:J.l(r,N)};if(B>=12)h[P].$j=J.Mj(r,N+8,4);
break;case"lsdk":h.lsct={type:J.l(r,N)};break;case"lyvr":h[P]=J.l(r,N);break;case"lnsr":var D={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
h[P]=J.Mj(r,N,4);break;case"lspf":h[P]=J.l(r,N);break;case"lclr":h[P]=J.Dx(r,N);break;case"luni":h[P]=J.qY(r,N);
break;case"fxrp":h[P]=new gS(J.AR(r,N),J.AR(r,N+8));break;case"artb":case"artd":h[P]={};er.hF(r,h[P],N+4);
break;case"SoCo":h[P]={};er.hF(r,h[P],N+4);break;case"GdFl":h[P]={};er.hF(r,h[P],N+4);ai.HQ(h[P],P);
break;case"PtFl":h[P]={};er.hF(r,h[P],N+4);ai.HQ(h[P],P);break;case"CgEd":var c=h.brit=df.T$("brit"),o={};
er.hF(r,o,N+4);c.Brgh.v=o.Brgh?o.Brgh.v:0;c.Cntr.v=o.Cntr?o.Cntr.v:0;c.useLegacy.v=o.useLegacy?o.useLegacy.v:0;
break;case"brit":if(h.brit==null){var c=h.brit=df.T$("brit"),o={};c.Brgh.v=J.OU(r,N);c.Cntr.v=J.OU(r,N+2);
c.useLegacy.v=!1}break;case"levl":var H=r.buffer.slice(N,N+B);h[P]=a7.ep(H);break;case"curv":h[P]=dK.V1(r,N,B);
break;case"expA":var x=J.Dx(r,N),Q=h[P]=df.T$("expA");Q.Exps.v=J._W(r,N+2);Q.Ofst.v=J._W(r,N+6);Q.gammaCorrection.v=J._W(r,N+10);
break;case"vibA":h[P]={};er.hF(r,h[P],N+4);break;case"hue2":h[P]=dG.V1(r,N,B);break;case"blnc":var Q=h[P]=df.T$(P);
Q.PrsL.v=r[N+18]==1;var U=["ShdL","MdtL","HghL"];for(var R=0;R<3;R++)for(var I=0;I<3;I++)Q[U[R]].v[I].v=J.OU(r,N+R*6+I*2);
break;case"blwh":var l={};er.hF(r,l,N+4);var Q=df.T$(P),p="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var R=0;R<p.length;R++){Q[p[R]]=l[p[R]];delete l[p[R]]}h[P]=Q;break;case"phfl":var Q=h[P]=df.T$(P),j=Q.Clr.v,x=J.Dx(r,N);
if(x==3){var T=[J.l(r,N+2),J.l(r,N+6),J.l(r,N+10)],V=32768,E=w.Na(T[0]/V,T[1]/V,T[2]/V);j.Lmnc.v=E.qN;
j.A.v=E.O$;j.B.v=E.J}if(x==2){var _=J.Dx(r,N+2);if(_!=7)throw"e";j.Lmnc.v=J.OU(r,N+4)/100;j.A.v=J.OU(r,N+6)/100;
j.B.v=J.OU(r,N+8)/100}var f=N+2+(x==3?12:10);Q.Dnst.v=J.l(r,f);f+=4;Q.PrsL.v=r[f]==1;break;case"mixr":var S={wt:J.Dx(r,N+2)==1,h:[]};
for(var R=0;R<20;R++)S.h.push(J.OU(r,N+4+R*2));h[P]=gn.alr(S);break;case"clrL":case"rplc":h[P]={};er.hF(r,h[P],N+6);
break;case"nvrt":h[P]={};break;case"post":h[P]=df.T$("post");h[P].Lvls.v=J.Dx(r,N);break;case"thrs":h[P]=df.T$("thrs");
h[P].Lvl.v=J.Dx(r,N);break;case"grdm":var L=N,y=r[N+2]==1,$=r[N+3]==1;L+=4;var Z=J.qY(r,L);L+=4+Z.length*2;
var i=aN.aj(r,L,Z),b=i[0];L=i[1];var G=J.Dx(r,L);L+=2;var g=J.l(r,L);L+=4;var u=J.Dx(r,L)==1;L+=2;var A=J.Dx(r,L)==1;
L+=2;var a=J.l(r,L);L+=4;var d=J.Dx(r,L);L+=2;var K=[],n=[];for(var R=0;R<4;R++){K.push({t:"long",v:~~(J.Dx(r,L+R*2)*100/32768)});
n.push({t:"long",v:~~(J.Dx(r,L+R*2+8)*100/32768)})}L+=16;var t=J.Dx(r,L);L+=2;if(G==1)b={classID:"Grdn",Nm:{t:"TEXT",v:Z},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:u},VctC:{t:"bool",v:A},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:g},Smth:{t:"long",v:a},Mnm:{t:"VlLs",v:K},Mxm:{t:"VlLs",v:n}};
var X=df.T$("grdm");X.Rvrs.v=y;X.Grad.v=b;h[P]=X;break;case"selc":h[P]=fk.V1(r,N,B);break;case"vmsk":case"vsms":var aK=h.vmsk=new C.Ug,fg=J.YC(r,N+4),k=(fg>>0&1)==1;
aK.AS=(fg>>1&1)==0;aK.isEnabled=(fg>>2&1)==0;aK.Y=bv.lr(r,N+8,B-8,O.e,O.n);break;case"shmd":h[P]={};
var hG=J.l(r,N),f=N+4;for(var R=0;R<hG;R++){var e=J.Mj(r,f,4);f+=4;var eE=J.Mj(r,f,4);f+=4;var hW=r[f];
f++;if(Math.max(r[f],r[f+1])!=0)throw"e";f+=3;var hh=J.l(r,f);f+=4;if(eE=="cust"||eE=="cmls"||eE=="extn"||eE=="mlst"){var hI=J.l(r,f);
if(hI!=16)f+=4;if(J.l(r,f)==16){var l={};er.hF(r,l,f+4,!1);h[P][eE]=l;if(eE=="cmls")z.yg.adN(h[P][eE])}}else{console.log("unknown shmd key: "+eE+", size: "+hh)}f+=hh}break;
case"shpa":var x=J.l(r,N),db=J.l(r,N+4);if(db!=0)console.log("some patterns present!");break;case"TySh":var by=h[P]={},x=J.Dx(r,N);
by.A=J.hA(r,N+2);var jM=J.Dx(r,N+2+48);by.Fo={};var fP=er.hF(r,by.Fo,N+56),hB=gQ.aoH();for(var iu in hB)if(by.Fo[iu]==null)by.Fo[iu]=hB[iu];
by._u={};var be=er.hF(r,by._u,N+56+fP+6);by.A2=J.abV(r,N+56+fP+6+be);by.sl=co.ep(by.Fo.EngineData.v);
gQ.ahu(by.sl.EngineDict.StyleRun.RunArray);if(by.sl.ResourceDict==null)by.sl.ResourceDict=JSON.parse(JSON.stringify(by.sl.DocumentResources));
delete by.Fo.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var bp=J.l(r,N),ij=J.l(r,N+4);h.lmfx={};
var fP=er.hF(r,h.lmfx,N+8);ai.yL(h.lmfx);break;case"FMsk":h[P]=J.d2(r,N,B);break;case"Txt2":h[P]={};
h[P].raw=J.d2(r,N,B);h[P].Um=cK.ep(h[P].raw);break;case"Patt":h[P]=cZ.QL(r,N,B);break;case"SoLd":var fT=J.Mj(r,N,4),ei=J.l(r,N+4),bz=J.l(r,N+8);
h[P]={};var aM=er.hF(r,h[P],N+12);if(h[P].nonAffineTransform==null)h[P].nonAffineTransform=JSON.parse(JSON.stringify(h[P].Trnf));
if(h[P].Impr==null)h[P].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var ei=J.l(r,N);
h[P]={};var aM=er.hF(r,h[P],N+4);break;case"vscg":var eE=J.Mj(r,N,4),ei=J.l(r,N+4);h[eE]={};var aM=er.hF(r,h[eE],N+8);
ai.HQ(h[eE],eE);break;case"vogk":var hw=J.l(r,N),ei=J.l(r,N+4);h[P]={};var aM=er.hF(r,h[P],N+8);h[P]=h[P].keyDescriptorList.v;
for(var R=0;R<h[P].length;R++){var hx=h[P][R].v;if(!w.UI.ja(hx))continue;if(hx.keyOriginBoxCorners==null){var fm=w.UI.en(hx);
hx.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var dE=[fm[0],fm[1],fm[2],fm[1],fm[2],fm[3],fm[0],fm[3]];
if(hx.keyOriginType.v==4)dE=w.UI.EU(w.UI.sh(hx),hx.keyOriginLineWeight.v);w.UI.sz(hx,"keyOriginBoxCorners",dE)}}break;
case"lnk2":case"lnkD__":case"lnk3__":h[P]=[];var L=N;while(L<N+B){var gD=new C.x_;h[P].push(gD);var c2=J.ML(r,L);
L+=8;var bQ=L;gD.type=J.Mj(r,L,4);L+=4;if(gD.type!="liFD"){alert("Unknown Linked Layer type: "+gD.type);
break;throw gD.type}gD.AF=J.l(r,L);L+=4;var f9=J._g(r,L);L+=1+f9.b0.length;gD.$U=f9.b0;gD.bp=J.bn(r,L);
L+=4+gD.bp.length*2+2;gD._h=J.Mj(r,L,4);L+=4;gD.gh=J.Mj(r,L,4);L+=4;var jR=J.ML(r,L);L+=8;gD.open=r[L];
L+=1;if(gD.open!=0){var gP={},fP=er.hF(r,gP,L+4);if(fP%4!=0)fP+=4-fP%4;console.log(gP);L+=fP+4}gD.open=0;
gD.raw=J.d2(r,L,jR);L=bQ+c2;if(c2%4!=0)L+=4-c2%4}break;case"FEid":var L=N;h[P]=[];var jh=L+B,x=J.l(r,L);
L+=4;while(L<jh){L+=4;var c2=J.l(r,L);L+=4;var i={};h[P].push(i);i.id=J._g(r,L).b0;L+=i.id.length+1;
var x=J.l(r,L);L+=4;L+=4;var k6=J.l(r,L);L+=4;i.rect=J.TQ(r,L);L+=16;var eZ=J.l(r,L);L+=4;var b5=J.l(r,L);
L+=4;var fG=new w.rX(0);for(var R=0;R<b5+2;R++){var jG=J.l(r,L);L+=4;if(jG!=0){L+=4;var i_=J.l(r,L),aY=null;
L+=4;if(R<3||R==25)aY=j1.uB(!0,eZ,r,i.rect.e,i.rect.n,L,i_);if(R==0)fG.Z=aY;if(R==1)fG.z=aY;if(R==2)fG.J=aY;
if(R==25)fG.O$=aY;L+=i_}}i.buffer=w.B(i.rect.W()*4);w.vJ(fG,i.buffer);w.uQ(i);var jk=r[L];L++;if(jk!=0){i.v=new C.Z8;
i.v.rect=J.TQ(r,L);L+=16;L+=4;var ih=J.l(r,L);L+=4;i.v.channel=j1.uB(!0,eZ,r,i.v.rect.e,i.v.rect.n,L,ih);
i.v.color=255;i.v.RR();L+=ih}if(c2%4!=0)L+=4-c2%4}break;case"Lr16":fx.WR(O,r,N);break;case"Anno":h[P]=[];
var jr=N,hV=N+4,db=J.l(r,hV);hV+=4;for(var R=0;R<db;R++){var c2=J.l(r,hV);hV+=4;var ds=J.Mj(r,hV,4);
hV+=4;if(ds!="txtA")throw ds;var jA=r[hV++],eI=r[hV++],hH=J.Dx(r,hV);hV+=2;var bO=J.TQ(r,hV);hV+=16;
var k7=J.TQ(r,hV);hV+=16;var j=hK.AA(r,hV);hV+=10;var dO=J._g(r,hV);hV+=dO.length;var cG=J._g(r,hV);
hV+=cG.length;var cV=J._g(r,hV);hV+=cV.length;var g3=J.l(r,hV);hV+=4;var gh=J.Mj(r,hV,4);hV+=4;var bH=J.l(r,hV);
hV+=4;var gF=J.p3(r,hV+2,bH-2>>1);hV+=bH;h[P].push([bO.x,bO.y,j,dO.b0,gF])}break;default:break}var hu="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(hu.indexOf(P)==-1)if(B%4!=0)console.log("size not multiple of 4!!!",P);if(P!="luni"&&P!="TySh"&&P!="tySh"&&P!="lfx2")if(B%4!=0)B+=4-B%4;
N+=B}var aB=[];for(var R=0;R<aB.length;R++)delete h[aB[R]];return N};ai.G5=function(r,N,F,h,m){for(var O in F)if(F[O]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+O+"\" tag was present with a null value.");delete F[O]}for(var O in F){var e=h&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(O)!=-1,B=0;
J.xt(r,N,e?"8B64":"8BIM");N+=4;var P=N;J.xt(r,N,O);N+=4;J.fW(r,N,0);N+=e?8:4;switch(O){case"iOpa":J.B5(r,N,F[O],1);
B=4;break;case"brst":B=0;for(var R=0;R<3;R++)if(F[O][R]==0){J.TR(r,N+B,R);B+=4}break;case"knko":J.B5(r,N,F[O],1);
B=4;break;case"infx":J.B5(r,N,F[O],1);B=4;break;case"clbl":J.B5(r,N,F[O],1);B=4;break;case"lmgm":J.B5(r,N,F[O],1);
B=4;break;case"vmgm":J.B5(r,N,F[O],1);B=4;break;case"fcmy":J.B5(r,N,F[O],1);B=4;break;case"lyid":J.TR(r,N,F[O]);
B=4;break;case"lsct":J.TR(r,N,F[O].type);B=4;if(F[O].$j){J.xt(r,N+4,"8BIM");J.xt(r,N+8,F[O].$j);B=12}break;
case"lyvr":J.TR(r,N,F[O]);B=4;break;case"lnsr":J.xt(r,N,F[O]);B=4;break;case"lspf":J.TR(r,N,F[O]);B=4;
break;case"lclr":J.z9(r,N,F[O]);B=8;break;case"luni":J.C$(r,N,F[O]);B=4+2*F[O].length;break;case"fxrp":J.OX(r,N,F[O].x);
J.OX(r,N+8,F[O].y);B=16;break;case"artb":case"artd":J.TR(r,N,16);B=er.yu(r,F[O],N+4)+4;break;case"SoCo":J.TR(r,N,16);
B=er.yu(r,F[O],N+4)+4;break;case"GdFl":J.TR(r,N,16);B=er.yu(r,F[O],N+4)+4;break;case"PtFl":J.TR(r,N,16);
B=er.yu(r,F[O],N+4)+4;break;case"CgEd":var s={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},Y=s,D=F[O];
Y.Brgh.v=D.Brgh.v;Y.Cntr.v=D.Cntr.v;Y.useLegacy.v=D.useLegacy.v;J.TR(r,N,16);B=er.yu(r,s,N+4)+4;break;
case"brit":r.cM(N,8);B=8;break;case"levl":var c=new i6;B=a7.uZ(c,F[O]);J.R$(r,N,c.data);break;case"curv":B=dK.fz(r,N,F[O]);
break;case"expA":B=14;r.cM(N,14);J.j3(r.data,N,1);J.AL(r.data,N+2,F[O].Exps?F[O].Exps.v:0);J.AL(r.data,N+6,F[O].Ofst?F[O].Ofst.v:0);
J.AL(r.data,N+10,F[O].gammaCorrection?F[O].gammaCorrection.v:1);break;case"vibA":J.TR(r,N,16);B=er.yu(r,F[O],N+4)+4;
break;case"hue2":B=dG.fz(r,N,F[O]);break;case"blnc":B=19;r.cM(N,B);var o=["ShdL","MdtL","HghL"];for(var R=0;
R<3;R++){var H=F[O][o[R]].v;for(var x=0;x<3;x++)H.push(J.YJ(r.data,N+R*6+x*2,H[x].v))}r.data[N+18]=F[O].PrsL.v?1:0;
break;case"blwh":var s={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var R=0;R<Q.length;R++){s[Q[R]]=F[O][Q[R]]}J.TR(r,N,16);B=er.yu(r,s,N+4)+4;break;case"phfl":J.z9(r,N,2);
var U=F[O].Clr.v;J.z9(r,N+2,7);J.z9(r,N+4,Math.round(U.Lmnc.v*100));J.z9(r,N+6,Math.round(U.A.v*100));
J.z9(r,N+8,Math.round(U.B.v*100));J.z9(r,N+10,0);var I=N+2+10;r.cM(I,5);J.Wa(r.data,I,F[O].Dnst.v);I+=4;
r.data[I]=F[O].PrsL.v?1:0;I++;B=I-N;break;case"mixr":B=44;r.cM(N,B);var l=gn.Ps(F[O]);J.j3(r.data,N,1);
J.j3(r.data,N+2,l.wt?1:0);for(var R=0;R<20;R++)J.YJ(r.data,N+4+R*2,l.h[R]);break;case"clrL":case"rplc":J.z9(r,N,1);
J.TR(r,N+2,16);B=er.yu(r,F[O],N+6)+6;break;case"nvrt":B=0;break;case"post":J.z9(r,N,F[O].Lvls.v);B=2;
break;case"thrs":J.z9(r,N,F[O].Lvl.v);B=2;break;case"grdm":var p=F[O].Rvrs?F[O].Rvrs.v:!1,j=!1,T=867527939,V=!1,E=!1,_=2048,f=[0,0,0,0],S=[32768,32768,32768,32768],L=F[O].Grad.v,y,$,Z=L.Clrs==null?1:0;
if(Z==0){y=L;$=JSON.parse(an.JT.amV).v}else{y=df.T$("grdm").Grad.v;$=L}r.cM(N,4);J.j3(r.data,N,1);r.data[N+2]=p?1:0;
r.data[N+3]=j?1:0;var i=N+4;J.C$(r,i,L.Nm.v);i+=4+L.Nm.v.length*2;i=aN.a8K(r,i,y);J.z9(r,i,Z);i+=2;J.TR(r,i,$.RndS.v);
i+=4;J.z9(r,i,$.ShTr.v?1:0);i+=2;J.z9(r,i,$.VctC.v?1:0);i+=2;J.TR(r,i,$.Smth.v);i+=4;J.z9(r,i,3);i+=2;
for(var R=0;R<4;R++)J.z9(r,i+R*2,f[R]);i+=8;for(var R=0;R<4;R++)J.z9(r,i+R*2,S[R]);i+=8;i+=2;B=i-N;break;
case"selc":B=fk.fz(r,N,F[O]);break;case"FMsk":J.R$(r,N,F[O]);B=F[O].length;break;case"Txt2":var b=new i6,G=cK.u_(F[O].Um,b),g=w.B(G,!0);
for(var R=0;R<G;R++)g[R]=b.data[R];J.R$(r,N,g);B=g.length;break;case"vmsk":var u=F[O],A=0;J.TR(r,N,3);
if(!u.AS)A+=1<<1;if(!u.isEnabled)A+=1<<2;J.TR(r,N+4,A);B=8;var a=u.Y.length;r.cM(N+8,a*26);bv.BO(r.data,N+8,u.Y,m.e,m.n);
B+=a*26;break;case"shmd":J.TR(r,N,Object.keys(F[O]).length);var I=N+4;for(var d in F[O]){J.xt(r,I,"8BIM");
I+=4;J.xt(r,I,d);I+=4;J.TR(r,I,0);I+=4;J.TR(r,I,0);I+=4;J.TR(r,I,16);I+=4;var K=er.yu(r,F[O][d],I);if(K%4!=0)K+=4-K%4;
J.TR(r,I-8,K+4);I+=K}B=I-N;break;case"TySh":var I=N;J.FD(r,I,1);I+=2;var n=F[O],b=new i6;n.sl.DocumentResources=JSON.parse(JSON.stringify(n.sl.ResourceDict));
var G=co.u_(n.sl,b),g=w.B(G,!0);for(var R=0;R<G;R++)g[R]=b.data[R];n.Fo.EngineData={t:"tdta",v:g};var t=n.sl.EngineDict.Editor.Text;
n.Fo.Txt.v=t.substring(0,t.length-1);J.ai3(r,I,n.A);I+=48;J.FD(r,I,50);I+=2;J.TR(r,I,16);I+=4;I+=er.yu(r,n.Fo,I);
J.FD(r,I,1);I+=2;J.TR(r,I,16);I+=4;I+=er.yu(r,n._u,I);J.avk(r,I,n.A2);I+=16;B=I-N;break;case"lmfx":J.TR(r,N,0);
J.TR(r,N+4,16);var s=JSON.parse(JSON.stringify(F[O])),X=!1;ai.kS(s);for(var R=0;R<an.NR.length;R++)if(s[an.NR[R]]!=null)X=!0;
J.xt(r,P,X?"lmfx":"lfx2");B=er.yu(r,s,N+8)+8;break;case"Patt":var I=cZ.yR(r,N,F[O]);B=I-N;break;case"SoLd":J.xt(r,N,"soLD");
J.TR(r,N+4,4);J.TR(r,N+8,16);B=er.yu(r,F[O],N+12)+12;break;case"vstk":case"pths":J.TR(r,N,16);B=er.yu(r,F[O],N+4)+4;
break;case"vscg__":J.xt(r,N,F[O].key);J.TR(r,N+4,16);B=er.yu(r,F[O].h,N+8)+8;break;case"vogk":J.TR(r,N,1);
J.TR(r,N+4,16);w.UI.ar3(F[O]);for(var R=0;R<F[O].length;R++){var aK=F[O][R].v.keyOriginResolution;if(aK)aK.v=m.EP}var fg={classID:"null",keyDescriptorList:{t:"VlLs",v:F[O]}};
B=er.yu(r,fg,N+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var i=N;for(var R=0;R<F[O].length;R++){var k=F[O][R],hG=i;
J.$Z(r,i,0);i+=8;J.xt(r,i,k.type);i+=4;J.TR(r,i,k.AF);i+=4;r.cM(i,1);r.data[i]=k.$U.length;i++;J.xt(r,i,k.$U);
i+=k.$U.length;J.C$(r,i,k.bp+"\0");i+=4+k.bp.length*2+2;J.xt(r,i,k._h);i+=4;J.xt(r,i,k.gh);i+=4;J.$Z(r,i,k.raw.length);
i+=8;r.cM(i,1);r.data[i]=k.open;i++;J.R$(r,i,k.raw);i+=k.raw.length;J.TR(r,i,1);i+=4;i+=11;var eE=i-hG-8;
J.$Z(r,hG,eE);if(eE%4!=0){r.cM(i,4-eE%4);i+=4-eE%4}}B=i-N;break;case"FEid":var i=N;J.TR(r,i,3);i+=4;
for(var hW=0;hW<F[O].length;hW++){var hh=F[O][hW];i+=4;var hI=i;i+=4;J.E6(r,i,hh.id);i+=hh.id.length+1;
J.TR(r,i,1);i+=4;var db=w.B(hh.rect.W()),by=hh.rect,jM=w.B(by.W());i+=4;var fP=i;i+=4;J.Rn(r,i,by);i+=16;
J.TR(r,i,8);i+=4;J.TR(r,i,24);i+=4;for(var R=0;R<24+2;R++){var hB=-1;if(R==0)hB=0;if(R==1)hB=1;if(R==2)hB=2;
if(R==25)hB=3;J.TR(r,i,hB!=-1?1:0);i+=4;if(hB!=-1){w.Pw(hh.buffer,db,hB);w.nZ(db,hh.rect,jM,by);i+=4;
var iu=i;i+=4;r.cM(i,by.W()+2);i=j1.fb(!0,jM,r.data,by.e,by.n,i,3);J.TR(r,iu,i-(iu+4))}}J.TR(r,fP,i-(fP+4));
r.cM(i,1);r.data[i]=hh.v?1:0;i++;if(hh.v!=null){var be=by,bp=w.B(be.W());bp.fill(hh.v.color);w.nZ(hh.v.channel,hh.v.rect,bp,be);
J.Rn(r,i,be);i+=16;i+=4;var ij=i;i+=4;r.cM(i,be.W()+2);i=j1.fb(!0,bp,r.data,be.e,be.n,i,3);J.TR(r,ij,i-(ij+4))}var eE=i-(hI+4);
J.TR(r,hI,eE);if(eE%4!=0)i+=4-eE%4}B=i-N;break;case"Anno":var fT=N,ei=F[O].length;J.z9(r,fT,2);J.z9(r,fT+2,1);
fT+=4;J.TR(r,fT,ei);fT+=4;for(var R=0;R<ei;R++){var bz=F[O][R],aM=bz[0],hw=bz[1],hx=fT;fT+=4;J.xt(r,fT,"txtA");
fT+=4;r.cM(fT,2);r.data[fT]=1;r.data[fT+1]=28;fT+=2;J.z9(r,fT,1);fT+=2;J.Rn(r,fT,new fE(aM,hw,17,21));
fT+=16;J.Rn(r,fT,new fE(aM+8,hw+10,241,141));fT+=16;r.cM(fT,10);hK.r_(r.data,fT,bz[2]);fT+=10;fT+=J.E6(r,fT,bz[3]);
fT+=J.E6(r,fT,"");fT+=J.E6(r,fT,"D:20211012120233+01'00'");var fm=bz[4].length*2;J.TR(r,fT,12+2+fm);
fT+=4;J.xt(r,fT,"txtC");fT+=4;J.TR(r,fT,2+fm);fT+=4;r.cM(fT,2);r.data[fT]=254;r.data[fT+1]=255;fT+=2;
J.a0a(r,fT,bz[4]);fT+=fm;J.TR(r,hx,fT-hx)}B=fT-N;break;default:console.log("unknown layer tag: "+O+", size: "+B);
N-=12;continue}var dE=["Txt2","artd","extd","pths"];if(dE.indexOf(O)==-1)if(B%4!=0)B+=4-B%4;if(e)J.$Z(r,N-8,B);
else J.TR(r,N-4,B);if(O!="luni"&&O!="TySh")if(B%4!=0)B+=4-B%4;N+=B}return N};ai.yL=function(r){for(var R=0;
R<an.order.length;R++){var N=an.order[R],F=an.NR[R];if(r[F]==null)r[F]={t:"VlLs",v:[]};if(r[N]!=null){r[F].v.push(r[N]);
delete r[N]}var h=[];for(var m=0;m<r[F].v.length;m++){var O=r[F].v[m];if(O.v.present==null||O.v.present.v==!0)h.push(O)}r[F].v=h}};
ai.kS=function(r){for(var R=0;R<an.order.length;R++){var N=an.order[R],F=an.NR[R],h=r[F].v.length;if(h==0){delete r[F];
continue}if(h==1){r[N]=r[F].v[0];delete r[F];continue}}};ai.HQ=function(r,N){if(N=="GdFl"){if(r.Angl==null)r.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(r.Algn==null)r.Algn={v:!0,t:"bool"};if(r.Scl==null)r.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(r.Ofst==null)r.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(r.Rvrs==null)r.Rvrs={v:!1,t:"bool"};if(r.Dthr==null)r.Dthr={v:!1,t:"bool"}}if(N=="PtFl"){if(r.Algn==null)r.Algn={v:!0,t:"bool"};
if(r.Angl==null)r.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(r.Scl==null)r.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(r.phase==null)r.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};ai.clone=function(r,N){var F={};
if(r=="TySh"){F.A=N.A.clone();F.Fo=JSON.parse(JSON.stringify(N.Fo));F._u=JSON.parse(JSON.stringify(N._u));
F.A2=N.A2.clone();F.sl=JSON.parse(JSON.stringify(N.sl));if(N.add)F.add={vmsk:N.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(N.add.vogk))};
return F}else if(r=="fxrp")return N.clone();else if(r=="vmsk")return N.clone();else return JSON.parse(JSON.stringify(N))};
function fI(r,N){}fI.ep=function(r,N,F,h){h=fI.aeq(r,N,F,h);return h};fI.u_=function(r,N,F,h,m){h=fI.acv(r,N,F,h,m);
return h};fI.aeq=function(r,N,F,h){var m=h;r.rect=J.TQ(F,h);h+=16;var O=J.Dx(F,h);h+=2;r.GO=[];var e=N.o3;
for(var R=0;R<O;R++){r.GO[R]={id:J.OU(F,h),length:(e?J.ML:J.l)(F,h+2)};h+=e?10:6}var P=J.Mj(F,h,4);h+=4;
if(P!="8BIM"){console.log("Invalid Blend mode signature: "+P);alert("Error in Photoshop file: wrong signature.");
throw"e"}r.$j=J.Mj(F,h,4);h+=4;r.opacity=F[h];h+=1;r.S8=F[h]==1;h+=1;r.Rl=F[h];h+=1;if(F[h]!=0)console.log("error in filler!");
h+=1;var B=J.l(F,h);h+=4;var s=h;h=fI.ajp(r,F,h);h=fI.a7a(r,F,h);var Y=J._g(F,h);r.name=Y.b0;h+=Y.length;
if(Y.length%4!=0)h+=4-Y.length%4;h=ai.$V(F,h,s+B,r.add,e,N);if(r.add.lsct){if(r.add.lsct.$j)r.$j=r.add.lsct.$j;
r.add.lsct=r.add.lsct.type}return h};fI.acv=function(r,N,F,h,m){var O=h;J.Rn(F,h,r.rect);h+=16;var e=r.agI();
J.z9(F,h,e.length);h+=2;var P=N.o3;m.push(h);for(var R=0;R<e.length;R++){J.FD(F,h,e[R]);if(P)J.$Z(F,h+2,0);
else J.TR(F,h+2,0);h+=P?10:6}J.xt(F,h,"8BIM");h+=4;J.xt(F,h,r.$j);h+=4;J.B5(F,h,r.opacity,1);h+=1;J.B5(F,h,r.S8?1:0,1);
h+=1;J.B5(F,h,r.Rl,1);h+=1;J.B5(F,h,0,1);h+=1;var B=h;J.TR(F,h,0);h+=4;var s=h;h=fI.as_(r,F,h);h=fI.a8N(r,F,h);
var Y=J.E6(F,h,r.name.slice(0,255));h+=Y;if(Y%4!=0)h+=4-Y%4;if(r.add.lsct){r.add.lsct={type:r.add.lsct};
if(r.$j=="pass"){r.add.lsct.$j="pass";r.$j="norm"}}if(r.$j=="pass")r.add.lsct={type:r.add.lsct,$j:"pass"};
if(r.add.brit)r.add.CgEd=r.add.brit;h=ai.G5(F,h,r.add,P,N);delete r.add.CgEd;if(r.add.lsct){if(r.add.lsct.$j)r.$j=r.add.lsct.$j;
r.add.lsct=r.add.lsct.type}var D=h-s;J.TR(F,B,D);return h};fI.ajp=function(r,N,F){var h=J.l(N,F);F+=4;
if(h==0)return F;var m=F;r.v=new C.Z8;r.v.rect=J.TQ(N,F);F+=16;r.v.color=N[F];F+=1;var O=fI.j1(r.v,N,F);
F+=1;if(O){var e=!1,P=255,B=0,s=255,Y=0;for(var R=0;R<r.GO.length;R++)if(r.GO[R].id==-3)e=!0;if(e){r.i1=fI.n1(N,F);
F+=18}var D=F,c=N[F];F++;if(c>>0&1){P=N[F];F++}if(c>>1&1){B=J.AR(N,F);F+=8}if(c>>2&1){s=N[F];F++}if(c>>3&1){Y=J.AR(N,F);
F+=8}if((F-D&1)==1)F++;r.Yq=[P,B,s,Y]}else{if(h==20)F+=2;else{r.i1=fI.n1(N,F);F+=18}}return m+h};fI.as_=function(r,N,F){J.TR(N,F,0);
F+=4;if(r.v==null)return F;var h=r.$n(),m=r.add.vmsk,O=F,e=!0;J.TR(N,F,0);J.Rn(N,F,r.v.rect);F+=16;J.B5(N,F,r.v.color);
F+=1;fI.Nk(r.v,N,F,e);F+=1;if(e){if(r.i1){fI.avV(N,F,r.i1);F+=18}J.B5(N,F,15);F+=1;J.B5(N,F,h?h.NV:255);
F+=1;J.OX(N,F,h?h.J_:0);F+=8;J.B5(N,F,m?m.NV:255);F+=1;J.OX(N,F,m?m.J_:0);F+=8;F++}J.TR(N,O-4,F-O);return F};
fI.n1=function(r,N){var F=new C.Z8;fI.j1(F,r,N);N+=1;F.color=r[N];N+=1;F.rect=J.TQ(r,N);N+=16;return F};
fI.avV=function(r,N,F){fI.Nk(F,r,N,!1);N+=1;J.B5(r,N,F.color);N+=1;J.Rn(r,N,F.rect);N+=16};fI.j1=function(r,N,F){var h=N[F];
r.AS=(h>>0&1)==0;r.isEnabled=(h>>1&1)==0;r.tE=(h>>3&1)==1;return h>>4&1};fI.Nk=function(r,N,F,h){var m=0;
if(!r.AS)m+=1<<0;if(!r.isEnabled)m+=1<<1;if(r.tE)m+=1<<3;if(h)m+=1<<4;J.B5(N,F,m)};fI.a7a=function(r,N,F){var h=J.l(N,F);
F+=4;for(var R=0;R<h;R++)r.tx[R]=N[F+R];return F+h};fI.a8N=function(r,N,F){J.TR(N,F,r.tx.length);F+=4;
N.cM(F,40);for(var R=0;R<40;R++){N.data[F+R]=r.tx[R]}return F+40};function j1(){}j1.ep=function(r,N,F,h){h=j1.a5$(N,N.o3,N.vm,N.U_,r,F,h);
return h};j1.uZ=function(r,N,F,h,m,O){h=j1.a7X(r,N,F,h,m,O);return h};j1.a5$=function(r,N,F,h,m,O,e){var P=m.GO,B={},s=e;
for(var R=0;R<P.length;R++){var Y=P[R],D=Y.id,c=Y.length,o;if(D==-3)o=m.i1.rect;else if(D==-2)o=m.v.rect;
else o=m.rect;var H=j1.uB(N,F,O,o.e,o.n,e,c);e+=c;if(D==-3)m.i1.channel=H;else if(D==-2)m.v.channel=H;
else B["c"+D]=H}var x=new w.rX(0);x.O$=null;if(h==3){x.Z=B.c0;x.z=B.c1;x.J=B.c2;x.O$=B["c-1"]}else if(h==1){x.Z=B.c0;
x.z=B.c0;x.J=B.c0;x.O$=B["c-1"]}else if(h==4){var Q=r.xI.r1039,U=B.c0,I=B.c1,l=B.c2,p=B.c3;if(Q){var j=Q.Rh,T=17;
if(j==null){var V=ICC.R(Q.buffer);console.log(V);j=Q.Rh=ICC.U.sampleLUT(V,T)}var E={Z:U,z:I,J:l,O$:p},_=w.B(U.length*4);
w.vJ(E,_);w.iL(_);ICC.U.applyLUT4(j,T,_,_);w.vg(_,E)}else{for(var R=0;R<U.length;R++){var f=1-U[R]*(1/255),S=1-I[R]*(1/255),L=1-l[R]*(1/255),y=1-p[R]*(1/255),$=UDOC.C.cmykToRgb([f,S,L,y]);
U[R]=$[0]*255;I[R]=$[1]*255;l[R]=$[2]*255}}x.Z=U;x.z=I;x.J=l;x.O$=B["c-1"]}if(x.Z==null)x.Z=w.B(0);if(x.O$==null&&x.Z!=null){x.O$=x.Z.slice(0);
x.O$.fill(255)}if(x.z==null)x.z=x.Z.slice(0);if(x.J==null)x.J=x.Z.slice(0);m.buffer=w.B(Math.max(0,m.rect.W()*4));
w.vJ(x,m.buffer);return e};j1.a7X=function(r,N,F,h,m,O){var e=N.agI(),P=new w.rX(N.rect.W());w.vg(N.buffer,P);
for(var R=0;R<e.length;R++){var B=e[R],s,Y;if(B==-3)s=N.i1.rect;else if(B==-2)s=N.v.rect;else s=N.rect;
if(B==-3)Y=N.i1.channel;if(B==-2)Y=N.v.channel;if(B==-1)Y=P.O$;if(B==0)Y=P.Z;if(B==1)Y=P.z;if(B==2)Y=P.J;
F.cM(h,s.W()*3+4);var D=h;h=j1.fb(r,Y,F.data,s.e,s.n,h,O[1]?3:1);var c=h-D;if(r)J.G1(F.data,m+R*10+2,c);
else J.Wa(F.data,m+R*6+2,c)}return h};j1.uB=function(r,N,F,h,m,O,e){var P=J.Dx(F,O);O+=2;return j1.A$(r,N,F,h,m,O,P,e-2)};
j1.fb=function(r,N,F,h,m,O,e){J.YJ(F,O,e);O+=2;O=j1.xn(r,N,F,h,m,O,e);return O};j1.A$=function(r,N,F,h,m,O,e,P){var B,s=h*m*(N>>>3),Y=s&3,D=s+(Y==0?0:4-Y);
if(P<=0){return w.B(D)}if(e>3){console.log("unknown compression: "+e,h,m,h*m,P);e=0}if(e==0){if(O+D<=F.length)B=F.slice(O,O+D);
else{B=w.B(s);for(var R=0;R<s;R++)B[R]=F[O+R]}O+=s}else if(e==1){B=w.B(s);var c=r?4:2,o=j1.g_(F,B,h,m,O,O+c*m,c);
O+=c*m+o}else if(e==2||e==3){var H=new Uint8Array(F.buffer,O+2,P-6),x=w.B(D);UZIP.inflateRaw(H,x);if(e==3){if(N==8)for(var Q=0;
Q<m;Q++){var U=Q*h+1,I=U+h-1,l=x[U-1];for(var p=U;p<I;p++){l+=x[p];x[p]=l&255}}else for(var Q=0;Q<m;
Q++){var U=Q*h+1,I=U+h-1,l=x[2*U-2]<<8|x[2*U-1];for(var p=U;p<I;p++){var j=p<<1;l+=x[j]<<8|x[j+1];x[j]=l>>>8;
x[j+1]=l&255}}}if(x.length==D)B=x;else{B=w.B(D);for(var R=0;R<x.length;R++)B[R]=x[R]}}if(N==16){var T=w.B(h*m);
for(var R=0;R<s;R+=2)T[R>>>1]=B[R];B=T}return B};j1.xn=function(r,N,F,h,m,O,e){var P=h*m;if(e==0)for(var R=0;
R<P;R++)F[O++]=N[R];else if(e==1){var B=r?4:2,s=j1.an(N,F,h,m,O,O+B*m,B);O+=B*m+s}else if(e==2||e==3){if(e==3){var Y=new Uint8Array(N.length);
for(var D=0;D<m;D++){var c=D*h+1,o=c+h-1,H=N[c-1];Y[c-1]=H;for(var x=c;x<o;x++){Y[x]=N[x]+(256-H)&255;
H=N[x]}}N=Y}F[O]=120;F[O+1]=156;O+=2;var Q=pako.deflateRaw(N,{asx:4});J.fy(F,O,Q);O+=Q.length+4}else console.log("Unknown compression: "+e);
return O};j1.g_=function(r,N,F,h,m,O,e){if(!(r instanceof Uint8Array)||!(N instanceof Uint8Array))throw"e";
var P=O,B=h|0;if(e==2)for(var R=0;R<B;R++){var s=J.Dx(r,m+(R<<1));j1.YV(r,O,s,N,R*F,F);O+=s}else for(var R=0;
R<B;R++){var s=J.l(r,m+(R<<2));j1.YV(r,O,s,N,R*F,F);O+=s}return O-P};j1.an=function(r,N,F,h,m,O,e){var P=O;
if(e==2)for(var R=0;R<h;R++){var B=j1.WB(r,R*F,F,N,O);J.j3(N,m+R*2,B);O+=B}else for(var R=0;R<h;R++){var B=j1.WB(r,R*F,F,N,O);
J.Wa(N,m+R*4,B);O+=B}return O-P};j1.WB=function(r,N,j_,F,h){var m,O,e,P,B,gT,s;P=N+j_;for(e=N,O=h;j_>0;
e=m,j_-=gT){s=j_<128?j_:128;if(e<=P-3&&r[e+1]==r[e+0]&&r[e+2]==r[e+0]){for(m=e+3;m<e+s&&r[m]==r[e+0];
)++m;gT=m-e;F[O++]=1+256-gT;F[O++]=r[e+0]}else{for(m=e;m<e+s;)if(m<=P-3&&r[m+1]==r[m+0]&&r[m+2]==r[m+0])break;
else++m;gT=m-e;F[O++]=gT-1;for(var R=0;R<gT;R++)F[O+R]=r[e+R];O+=gT}}return O-h};j1.YV=function(r,N,F,h,m,O){for(var e=0;
e<F;){var j_=r[N++];if(j_>=128){var P=r[N++],B=m+(257-j_);h.fill(P,m,B);m=B;e+=2}else{for(var R=0;R<=j_;
R++)h[m+R]=r[N+R];N+=j_+1;m+=j_+1;e+=1+1+j_}}};function fx(){}fx.u0=function(r,N,F){return;var h="",m=N;
while(m!=0){var O=m%1e3+"";while(O.length<3)O="0"+O;h=(h==""?O:O+" ")+h;m=Math.floor(m/1e3)}while(h.startsWith("0")&&h!="0")h=h.slice(1);
while(h.length<11)h=" "+h;console.log("===",h,"\t".repeat(r),": "+F)};fx.ep=function(r,N){N.o3=!1;N.vm=8;
var F=new Uint8Array(r),h=0,m=0,K,hW=!1,hh=!0,hI=!1,db=0,g3=0;m=fx.kf(N,F,h);fx.u0(0,m-h,"PSD Header");
h=m;m=fx.a9Q(N,F,h);fx.u0(0,m-h,"Color Mode Data");h=m;m=fx.a8Q(N,F,h);fx.u0(0,m-h,"Image Resources");
h=m;m=fx.aqD(N,F,h);fx.u0(0,m-h,"Layer And Mask Info");h=m;m=fx.au4(N,F,h);fx.u0(0,m-h,"Merged Image");
h=m;if(N.g.length==0){var O=N.lc();O.a6("Background");N.g.push(O);O.buffer=N.buffer.slice(0);O.rect=new fE(0,0,N.e,N.n)}if(N.xI.r1005){N.EP=J.a2$(N.xI.r1005,0)}if(N.xI.r1026){var F=N.xI.r1026;
for(var R=0;R<F.length;R+=2){var m=N.g[R>>>1];if(m)m.vM=J.Dx(F,R)}}if(N.xI.r1072){var F=N.xI.r1072;for(var R=0;
R<F.length;R++){var m=N.g[R];if(m)m.Jh=F[R]==1}}if(N.xI.r1032){var F=N.xI.r1032,e=J.l(F,12);for(var R=0;
R<e;R++){var P=F[16+R*5+4],B=J.YC(F,16+R*5)/32;N.a_.push([P,B])}}delete N.xI.r1036;N.Nt(N.xI.r1039);
if(N.xI.r1050){var s=J.l,Y=N.xI.r1050,D=J.l(Y,0);if(D==6){var c=4,o=J.TQ(Y,c);c+=16;var H=J.qY(Y,c);
c+=4+H.length*2;var x=s(Y,c);c+=4;var Q=N.Zf;for(var R=0;R<x;R++){var U=z.uA.Fl(),l;Q.push(U);U=U.v;
U.sliceID.v=s(Y,c);c+=4;U.groupID.v=s(Y,c);c+=4;var I=s(Y,c);c+=4;if(I==1){l=s(Y,c);c+=4}var H=J.qY(Y,c);
c+=4+H.length*2;var p=s(Y,c);c+=4;var j=[s(Y,c),s(Y,c+4),s(Y,c+8),s(Y,c+12)];c+=16;z.uA.Vb(Q,Q.length-1,j);
var T=U.url.v=J.qY(Y,c);c+=4+T.length*2;var V=U.null.v=J.qY(Y,c);c+=4+V.length*2;var E=U.Msge.v=J.qY(Y,c);
c+=4+E.length*2;var _=U.altTag.v=J.qY(Y,c);c+=4+_.length*2;U.cellTextIsHTML.v=Y[c]==1;c++;var f=U.cellText.v=J.qY(Y,c);
c+=4+f.length*2;var S=s(Y,c);c+=4;var L=s(Y,c);c+=4;var y=Y.slice(c,c+4);c+=4;if(I!=2)Q.pop()}}else if(D==8){var $={};
er.hF(Y,$,8,!1);var Y=N.Zf=$.slices.v;for(var R=0;R<Y.length;R++){if(Y[R].v.origin.v.ESliceOrigin!="userGenerated"){Y.splice(R,1);
R--}}}}if(N.xI.r1058){var Z=N.xI.r1058,i=UTIF.decode(Z.buffer,{parseMN:!1,debug:!1});dq.k8(i[0],N.fH);
delete N.xI.r1058}if(N.xI.r1060){var b=J.H3(N.xI.r1060);dq.aqI(b,N.fH);delete N.xI.r1060}if(N.xI.r1065){var F=N.xI.r1065;
N.pI={};er.hF(F,N.pI,4,!1)}if(N.xI.r1069){var F=N.xI.r1069,G=[];for(var R=2;R<F.length;R+=4){var l=J.l(F,R);
for(var g=0;g<N.g.length;g++){var m=N.g[g];if(m.add.lyid==l&&m.add.lsct!=3)G.push(g)}}N.w=G}if(N.xI.r1025){var u=N.xI.r1025;
delete N.xI.r1025;var A=bv.lr(u,0,u.length,N.e,N.n),a=new C.Ug;a.Y=A;N.N$[0]=gp.Yn("Working Path",{vmsk:a})}var d=N.add.pths;
delete N.add.pths;var n=N.xI.r3000;if(n){K={};er.hF(n,K,4,!1);delete N.xI.r3000}for(var t=0;t<=997;t++){var X="r"+(2e3+t),u=N.xI[X];
if(u==null)break;var A=bv.lr(u,0,u.length,N.e,N.n),aK=d?d.pathList.v[t].v.pathUnicodeName.v:"Path "+t,fg=K?K.keyRootDescriptorList.v[t].v.keyDescriptorList.v:C.jq(A),a=new C.Ug;
a.Y=A;N.N$[t+1]=gp.Yn(aK,{vmsk:a,vogk:fg});delete N.xI[X]}delete N.o3;var k=new fE(0,0,N.e,N.n),hG=N.add.Txt2,eE=hG;
if(eE){eE=eE.Um;if(eE._DocumentResources==null)eE=e4.agD(eE)}for(var R=0;R<N.g.length;R++){var m=N.g[R],by=m.add.lsct,jM=m.add.vmsk,fP=m.$n();
if(by==jJ.aE){db++;m.add.lspf=0}else if(by==jJ.Ra||by==jJ.ab)db--;if(m.name==""){m.name="Layer "+(R+1);
hI=!0}if(hI&&m.zv()&&m.$j=="norm")m.$j="pass";if(m.Ru()&&m.xg(N).v){var hB=m.xg(N);hB.v.isEnabled=m.add.SoLd.filterFX.v.filterMaskEnable.v}if(jM&&m.t8()){var iu=an.mr.default;
if(m.add.vstk==null)m.add.vstk=JSON.parse(JSON.stringify(iu));else{var be="strokeStyleLineDashSet";if(m.add.vstk[be]==null)m.add.vstk[be]=JSON.parse(JSON.stringify(iu[be]))}m.add.vstk.strokeStyleResolution.v=N.EP}if(jM&&(m.add.vogk==null||w.H.jE(jM.Y)!=m.add.vogk.length))m.jq();
if(m.add.SoLd&&m.rect.lX()){console.log("redrawing smart instance");m.XY(N)}if(fP==null&&m.v!=null){if(m.v.tE==!1){m.v.tE=!0;
m.i1=m.v.clone()}}fP=m.$n();if(m.Yq){var iu=m.Yq,a=jM;if(fP){fP.NV=iu[0];fP.J_=iu[1]}if(a){a.NV=iu[2];
a.J_=iu[3]}m.Yq=null}if(fP!=null&&jM!=null&&(fP.J_+jM.J_!=0||fP.NV+jM.NV!=2*255))m.dD(N);else if(jM!=null&&!m.t8())m.dD();
var bp=m.add.artb;if(bp&&bp.artboardBackgroundType==null)bp.artboardBackgroundType={t:"long",v:1};if(bp&&db!=0)delete m.add.artb;
var ij=m.add.vstk;if(m.t8()&&(m.rect.lX()||jM&&jM.J_!=0||ij&&!ij.fillEnabled.v&&(!ij.strokeEnabled.v||ij.strokeStyleLineWidth.v.val==0)))m.WF(N);
if(m.add.TySh){hW=!0;if(!m.rect.lX())hh=!1}if(m.add.TySh&&eE){var fT=m.add.TySh.Fo.TextIndex.v;if(fT==-1)continue;
var ei=m.add.TySh.sl,bz=gQ.Bf(ei),aM=eE._DocumentObjects._TextObjects;if(aM.length<=fT){console.log("Txt2 incomplete");
continue}var hw=aM[fT]._Model,hx=hw._StyleRun?hw._StyleRun._RunArray:[],fm=ei.EngineDict.StyleRun.RunArray;
for(var dE=0;dE<fm.length;dE++){var gD=fm[dE].StyleSheet.StyleSheetData;if(hx[dE]==null)continue;var c2=hx[dE]._RunData._StyleSheet._Features;
if(c2&&c2._BaselineDirection)gD.BaselineDirection=parseInt(c2._BaselineDirection.slice(1));if(c2&&c2._FillBackgroundFlag)gD._FillBackgroundFlag=c2._FillBackgroundFlag;
if(c2&&c2._FillBackgroundColor){var bQ=c2._FillBackgroundColor,f9=bQ._Color._Values.slice(0);for(var g=0;
g<4;g++)f9[g]=parseFloat(f9[g].slice(1));gD._FillBackgroundColor={Type:1,Values:f9}}if(c2&&c2._LineWidth)gD._LineWidth=parseFloat(c2._LineWidth.slice(1))}var jR=ei.EngineDict.ParagraphRun.RunArray,gP=hw._ParagraphRun._RunArray;
if(gP==null)gP=[];var jh=Math.min(gP.length,jR.length);for(var g=0;g<jh;g++){var k6=jR[g].ParagraphSheet.Properties,eZ=eE._DocumentResources._ParagraphSheetSet._Resources,b5=gP[g]._RunData._ParagraphSheet;
if(typeof b5=="string")b5=eZ[parseInt(b5.slice(1))]._Resource;var fG=b5._Parent==null?b5:eZ[parseInt(b5._Parent.slice(1))]._Resource;
b5=b5._Features;fG=fG._Features;var jG=b5._ParagraphDirection;if(jG==null)jG=fG._ParagraphDirection;
if(jG)k6._Direction=parseInt(jG.slice(1));if(b5._ComposerEngine)k6._ComposerEngine=parseInt(b5._ComposerEngine.slice(1))}if(hw._AlternateGlyphRun){var gP=hw._AlternateGlyphRun._RunArray,jh=gP.length,i_=ei.EngineDict.AlternateGlyphRun=gQ.avw();
for(var g=0;g<jh;g++){var b5=gP[g],aY={},jk=b5._RunData._AlternateGlyphSheet;if(jk)aY.Glyph=parseInt(jk._Glyph.slice(1));
i_.RunArray.push(aY);i_.RunLengthArray.push(parseInt(b5._Length.slice(1)))}}var ih=eE._DocumentResources,jr=ih._TextFrameSet._Resources,hV=jr[fT]._Resource,ds=hV._Data,jA=new hc(1,0,0,1,0,0);
if(hV._0){var eI=parseFloat(hV._0[0].slice(1)),hH=parseFloat(hV._0[1].slice(1));jA.translate(eI,hH)}if(bz){jA.translate(bz[0],bz[1]);
gQ.q2(ei,[0,0,bz[2]-bz[0],bz[3]-bz[1]])}else{if(hV._Bezier&&hV._Bezier._Points){var A=hV._Bezier._Points,eI=parseFloat(A[0].slice(1)),hH=parseFloat(A[1].slice(1));
if(eI!=0||hH!=0){jA.translate(eI,hH)}}}if(hV._Data&&hV._Data._FrameMatrix){var bO=hV._Data._FrameMatrix;
bO=bO.map(function(gF){return parseFloat(gF.slice(1))});jA.concat(new hc(bO[0],bO[1],bO[2],bO[3],bO[4],bO[5]))}jA.concat(m.add.TySh.A);
m.add.TySh.A=jA;var p=ds._Type?parseInt(ds._Type.slice(1)):0;if(p==2||p==1&&ds._PathData&&ds._PathData._Spacing=="i-3"){var k7=function(gF){return parseFloat(gF.slice(1))},A=hV._Bezier._Points.map(k7);
if(bz)w.p.A(A,new hc(1,0,0,1,-bz[0],-bz[1]),A);var dO=ds._PathData?ds._PathData._Reversed:!1,cG=ds._TextOnPathTRange;
if(cG==null)cG=["f-3","f-3"];ei.Curve={Points:A,TextOnPathTRange:cG.map(k7),Reversed:dO==null?!1:dO};
m.add.TySh.add={vmsk:new C.Ug,vogk:null};gQ.hy(m.add.TySh)}if(ds._LineOrientation=="i2")ei._LineOrientation=2}}z.yg.eZ(N,!0);
var cV={},gh=[];for(var R=0;R<N.g.length;R++){var bH=N.g[R].add.lyid;if(bH==null)continue;var g3=Math.max(g3,bH);
if(cV[bH]!=null)gh.push(R);else cV[bH]=!0}for(var R=0;R<gh.length;R++)N.g[gh[R]].add.lyid=g3+1+R};fx.u_=function(r,N,F){z.yg.Lp(r);
z.yg.eZ(r,!1);r.o3=F[3]==!0;var h=[],m=[],x=0,U=1,V=16,t=0;for(var R=0;R<r.g.length;R++){var O=r.g[R];
if(O.Ru()&&O.xg(r).v){O.add.SoLd.filterFX.v.filterMaskEnable.v=O.xg(r).v.isEnabled}if(O.add.TySh){var e=O.add.TySh.sl,P=gQ.d4(e);
O.add.TySh.Fo.TextIndex={t:"long",v:h.length};h.push(e);if(P==2)gQ.$s(O.add.TySh)}var B=O.add.vstk;if(B)B.strokeStyleResolution.v=r.EP;
if(O.t8()||F[2]&&O.add.SoLd){m[R]=[O.rect,O.buffer];O.rect=new fE;O.buffer=w.B(0);if(O.add.SoLd){var s=O.xg(r);
if(s!=null){m[R].push(s.buffer);s.buffer=w.B(s.buffer.length)}}}}if(h.length>0){var Y=r.add.Txt2?r.add.Txt2.Um:null;
if(r.add.Txt2==null)r.add.Txt2={};r.add.Txt2.Um=ax.alG(h,null,Y)}var D=[r.add.lnk2,r.add.FEid,r.add.Patt],o=r.acq(r.g);
r.abv(o);r.xI.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);J.mL(r.xI.r1005,0,r.EP);J.mL(r.xI.r1005,8,r.EP);
if(r.R2()){r.xI.r1022=new Uint8Array([0,3+r.O0.length-1,0])}else delete r.xI.r1022;var H=new Uint8Array(r.g.length*2),Q=new Uint8Array(r.g.length);
for(var R=0;R<r.g.length;R++){var O=r.g[R],I=O.vM,l=O.Jh?1:0;J.j3(H,R*2,I);Q[R]=l;if(I>x)x=I;if(l==0)U=0}if(x>0)r.xI.r1026=H;
if(U<1)r.xI.r1072=Q;var p=r.a_,j=p.length,T=r.xI.r1032=w.B(16+5*j,!0);J.Wa(T,0,1);J.Wa(T,4,576);J.Wa(T,8,576);
J.Wa(T,12,j);for(var R=0;R<j;R++){J.qs(T,V,Math.round(p[R][1]*32));T[V+4]=p[R][0];V+=5}var E=w._p(r.buffer),_=[];
if(E)_.push({name:"Transparency",IU:{Z:255,z:0,J:0},PM:100,dn:1});_=_.concat(r.O0);delete r.xI.r1045;
delete r.xI.r1006;delete r.xI.r1077;var f=new i6;V=0;var S=new Uint8Array(4+_.length*13);S[3]=1;for(var R=0;
R<_.length;R++){var L=_[R],y=L.name+"\0";J.C$(f,V,y);V+=4+y.length*2;var $=4+R*13;hK.r_(S,$,L.IU);S[$+11]=L.PM;
S[$+12]=L.dn}r.xI.r1045=f.data.slice(0,V);r.xI.r1077=S;for(var R=0;R<r.Zf.length;R++)r.Zf[r.Zf.length-R-1].v.sliceID.v=2+R*3;
var Z={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:r.Zf}},f=new i6;
J.TR(f,0,8);J.TR(f,4,16);var i=er.yu(f,Z,8);r.xI.r1050=f.data.slice(0,i+8);var f=new i6;J.TR(f,0,16);
var i=er.yu(f,r.pI,4);r.xI.r1065=f.data.slice(0,i+4);var b=r.w;T=r.xI.r1069=w.B(2+b.length*4,!0);J.j3(T,0,b.length);
for(var R=0;R<b.length;R++)J.Wa(T,2+4*R,r.g[b[R]].add.lyid);delete r.xI.r1058;delete r.xI.r1060;if(Object.keys(r.fH).length!=0){var G=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
dq.qL(r.fH,G[0],F[0]&&F[1]);r.xI.r1058=new Uint8Array(UTIF.encode(G));var g=dq.acs(r.fH);r.xI.r1060=J.kX(g)}var u=[],A=[];
for(var R=0;R<r.N$.length;R++){var a=r.N$[R],d=a.add.vmsk.Y;if(R==0&&d.length==2)continue;var K=w.B(d.length*26);
bv.BO(K,0,d,r.e,r.n);var n=R==0?1025:2e3+R-1;r.xI["r"+n]=K;if(R!=0){u.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:a.name}}});
A.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:a.add.vogk}}})}}if(u.length!=0){r.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:u}};
A={classID:"null",keyRootDescriptorList:{t:"VlLs",v:A}};var f=new i6;J.TR(f,0,16);var i=er.yu(f,A,4);
r.xI.r3000=f.data.slice(0,i+4)}else{delete r.add.pths;delete r.xI.r3000}t=fx.ajX(r,N,t,3+_.length);t=fx.agT(r,N,t);
t=fx.aop(r,N,t);t=fx.a4G(r,N,t,F,E);t=fx.ame(r,N,t,F[0],E);var X=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var R=0;R<X.length;R++)delete r.xI["r"+X[R]];for(var R=0;R<r.g.length;R++){var O=r.g[R];if(O.t8()||F[2]&&O.add.SoLd){O.rect=m[R][0];
O.buffer=m[R][1];if(m[R][2]){var s=O.xg(r);m[R].push(s.buffer);s.buffer=m[R][2]}}}r.abv(D);z.yg.eZ(r,!0);
delete r.o3;return t};fx.kf=function(r,N,F){var h=J.Mj(N,F,4);F+=4;if(h!="8BPS")alert("invalid header signature: "+h);
var m=J.Dx(N,F);F+=2;r.o3=m==2;if(m!=1&&m!=2)alert("invalid version: "+m);F+=6;r.Hh=J.Dx(N,F);F+=2;r.n=J.YC(N,F);
F+=4;r.e=J.YC(N,F);F+=4;r.vm=J.Dx(N,F);F+=2;r.U_=J.Dx(N,F);F+=2;return F};fx.ajX=function(r,N,F,h){N.cM(0,64);
J.KZ(N.data,F,"8BPS");F+=4;J.j3(N.data,F,r.o3?2:1);F+=2;J.Wa(N.data,F,0);F+=4;J.j3(N.data,F,0);F+=2;
J.j3(N.data,F,h);F+=2;J.qs(N.data,F,r.n);F+=4;J.qs(N.data,F,r.e);F+=4;J.j3(N.data,F,8);F+=2;J.j3(N.data,F,3);
F+=2;return F};fx.a9Q=function(r,N,F){var h=J.YC(N,F);F+=4;if(h!=0)r.nU=N.slice(F,F+h);F+=h;return F};
fx.agT=function(r,N,F){J.fW(N,F,0);F+=4;return F};fx.a8Q=function(r,N,F){var h=J.l(N,F),m=0;F+=4;var O=[];
while(m<h){var e=J.Mj(N,F+m,4);m+=4;var P=J.Dx(N,F+m);m+=2;var B=J._g(N,F+m);m+=B.length;if(e!="8BIM"){O.push(P);
console.log("Unknown Image Resources signature: "+e+", ID: "+P)}var s=J.l(N,F+m);m+=4;if(r.xI["r"+P]!=null)console.log("--- two resources with same ID");
r.xI["r"+P]=J.d2(N,F+m,s);m+=s+(s&1)}for(var R=0;R<O.length;R++)delete r.xI["r"+O[R]];return F+h};fx.aop=function(r,N,F){var h=F,e=0;
F+=4;var m=[];for(var O in r.xI){m.push(parseInt(O.slice(1)))}m.sort(function(D,c){return D-c});for(var R=0;
R<m.length;R++){J.xt(N,F+e,"8BIM");e+=4;var P=m[R];J.z9(N,F+e,P);e+=2;var B=J.E6(N,F+e,"");e+=B;var s=r.xI["r"+P],Y=s.length;
J.TR(N,F+e,Y);e+=4;J.R$(N,F+e,s);e+=Y;if(Y%2==1)e++}J.TR(N,h,e);return F+e};fx.aqD=function(r,N,F){var h=F,m,O,e=r.o3?8:4;
if(r.o3)m=J.ML(N,F);else m=J.l(N,F);F+=e;if(m==0)return h+e;O=fx.ajN(r,N,F);fx.u0(1,O-F,"Layer Info");
F=O;O=fx.abr(r,N,F);fx.u0(1,O-F,"Global Layer Mask Info");F=O;O=ai.$V(N,F,h+e+m,r.add,r.o3,r);fx.u0(1,O-F,"Project Add Info");
F=O;return h+e+m};fx.a4G=function(r,N,F,h,m){var O=F;J.TR(N,F,0);F+=4;if(r.o3){J.TR(N,F,0);F+=4}F=fx.amG(r,N,F,h,m);
F=fx.ajd(r,N,F);F=ai.G5(N,F,r.add,r.o3,r);if(r.o3)J.$Z(N,O,F-O-8);else J.TR(N,O,F-O-4);return F};fx.ajN=function(r,N,F){var h,m=r.o3?8:4;
if(r.o3)h=J.ML(N,F);else h=J.l(N,F);F+=m;if(h!=0)fx.WR(r,N,F);return F+h};fx.WR=function(r,N,F){var h=J.OU(N,F);
F+=2;var m=Math.abs(h);for(var R=0;R<m;R++){var O=new C;F=fI.ep(O,r,N,F);r.g[R]=O}var e=new fE(0,0,r.e,r.n);
for(var R=0;R<m;R++){var P=r.g[R],B=P.$n(),s=j1.ep(P,r,N,F);if(s-F>8)fx.u0(2,s-F,"Lay: "+P.getName());
F=s;fx.K7(P,e);if(B)fx.K7(B,e)}};fx.K7=function(r,N){var F=r.rect.W(),h=r.rect.c_(N),m=h.W()/F;if(F>2e3*3e3&&m<.5){if(r.buffer){var O=w.B(h.W()*4);
w.L3(r.buffer,r.rect,O,h);r.buffer=O;r.rect=h}else{var O=w.B(h.W());w.nZ(r.channel,r.rect,O,h);r.channel=O;
r.rect=h}alert("Removing hidden parts of layers")}};fx.amG=function(r,N,F,h,m){var O=F,e=r.o3;F+=e?8:4;
F=fx.ba(r,N,F,h,m);var P=F-O-(e?8:4);if(P%2!=0)P++;if(e)J.$Z(N,O,P);else J.TR(N,O,P);return O+P+(e?8:4)};
fx.ba=function(r,N,F,h,m){var O=r.g.length;J.FD(N,F,m?-O:O);F+=2;var e=[];for(var R=0;R<O;R++)F=fI.u_(r.g[R],r,N,F,e);
for(var R=0;R<O;R++)F=j1.uZ(r.o3,r.g[R],N,F,e[R],h);return F};fx.abr=function(r,N,F){var h=J.l(N,F);
F+=4;F+=h;return F};fx.ajd=function(r,N,F){var h=J.TR(N,F,0);F+=4;return F};fx.au4=function(r,N,F){var h=r.U_,m="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),O=[1,1,1,3,4,1,1,3],e,x;
if(h!=3){if(h==1||h==2||h==4)console.log("Project will be converted from "+m[h]+" to "+m[3]+" mode.");
else{alert("Color mode "+m[h]+" is not supported yet :(")}if(h==4)r.add.fcmy=1}if(r.xI.r1045){e=[];var P=r.xI.r1045,B=0;
while(B<P.length){var s=J.bn(P,B);e.push(s);B+=4+2+s.length*2}}var Y=O[h]+(e==null||e[0]=="Transparency"?1:0),D=r.e,c=r.n,o=D*c,H=J.Dx(N,F);
F+=2;r.buffer=w.B(o*4);w.T1(r.buffer,4278190080);var Q=F;for(var U=0;U<r.Hh;U++){if(H==0){x=j1.A$(r.o3,r.vm,N,D,c,F,H);
F+=o*(r.vm>>>3)}else if(H==1){x=w.B(o);var I=r.o3?4:2;if(U==0)F+=r.Hh*c*I;F+=j1.g_(N,x,D,c,Q+U*c*I,F,I)}else{console.log("unknown compression of image data: ",H);
return}if(U<Y){w.vr(x,r.buffer,U);if(r.Hh==1&&U==0){w.vr(x,r.buffer,1);w.vr(x,r.buffer,2)}}else{var l=new C.Z8,p=U-Y,j=U-O[r.U_];
l.name=e?e[j]:"Alpha";if(l.name=="Quick Mask"){l.BJ=!0;r.I2.push(p)}l.rect=new fE(0,0,D,c);l.channel=x;
l.color=0;l.RR();r.O0[p]=l;if(r.xI.r1077){var P=r.xI.r1077.slice(4+j*13);l.IU=hK.AA(P,0);l.PM=P[11];
l.dn=P[12];if(l.dn==2)l.BJ=!0}}}r.Hh=4;if(r.U_==2)for(var R=0;R<o;R++){var T=R*4,V=r.buffer[T];r.buffer[T]=r.nU[0+V];
r.buffer[T+1]=r.nU[256+V];r.buffer[T+2]=r.nU[512+V]}return F};fx.ame=function(r,N,F,h,m){var O=1,e=16,P=r.e,B=r.n,Y,D;
J.z9(N,F,O);F+=2;var s=P*B;if(!h){D=new w.rX(P*B);w.vg(r.buffer,D);var c=D.Z,o=D.z,H=D.J,x=D.O$;for(var R=0;
R<s;R++){var Q=x[R]*(1/255);c[R]=~~(c[R]*Q+255*(1-Q));o[R]=~~(o[R]*Q+255*(1-Q));H[R]=~~(H[R]*Q+255*(1-Q))}}else Y=w.B(s);
var U=[Y,Y,Y];if(!h)U=[D.Z,D.z,D.J];if(m)U.push(h?Y:D.O$);for(var R=0;R<r.O0.length;R++){U.push(r.O0[R].L7(new fE(0,0,r.e,r.n)))}var I=F;
for(var l=0;l<U.length;l++){N.cM(F,P*B+4);Y=U[l];if(O==0||O==2||O==3)F=j1.xn(r.o3,Y,N.data,P,B,F,O);
else{var p=r.o3?4:2;if(l==0)F+=U.length*B*p;var j=F;F+=j1.an(Y,N.data,P,B,I+l*B*p,F,p)}}return F};function co(){}co.ep=function(r){var N={};
co.MQ(r,N,0,0);return N};co.u_=function(r,N){var F=0;F=co.Xi(r,N,F,0);return F};co.MQ=function(r,N,F,h){while(r[F]!="<".charCodeAt(0))F++;
F+=2;while(!0){if(r[F]=="/".charCodeAt(0)){F++;var m=J.indexOf(r," ".charCodeAt(0),F,F+50),O=J.indexOf(r,"\n".charCodeAt(0),F,F+50);
if(O==-1)O=Infinity;if(m==-1)m=Infinity;var e=Math.min(O,m),P=J.Mj(r,F,e-F),B=co.QH(r,e+1,h+1,P);N[P]=B.h;
F=e+1;F+=B.size}else if(r[F]==">".charCodeAt(0)){F+=2;break}else{var s=r[F];if(s==10||s==9||s==32)F++;
else{console.log("unknown byte: "+s+", char: "+String.fromCharCode(s),F);F++}}}return F};co.Xi=function(r,N,F,h){J.xt(N,F,"<<\n");
F+=3;var m=co.aj0;for(var O in r){J.B5(N,F,"\t".charCodeAt(0),h+1);F+=h+1;J.xt(N,F,"/"+O);F+=1+O.length;
if(m(r[O])||r[O]instanceof Array){J.xt(N,F," ");F++}else{J.xt(N,F,"\n");F++;J.B5(N,F,"\t".charCodeAt(0),h+1);
F+=h+1}F=co.ml(r[O],N,F,h+1);J.xt(N,F,"\n");F++}J.B5(N,F,"\t".charCodeAt(0),h);F+=h;J.xt(N,F,">>");F+=2;
return F};co.QH=function(r,N,F,h){var m=N,O={size:0,h:0};while(!0){while(r[N]==" ".charCodeAt(0)||r[N]=="\t".charCodeAt(0)||r[N]=="\n".charCodeAt(0))N++;
if(r[N]=="<".charCodeAt(0)){O.h={};N=co.MQ(r,O.h,N,F+1);break}else if(r[N]=="(".charCodeAt(0)){N+=3;
var e=N;while(!0){if(r[e-1]!="\\".charCodeAt(0)&&r[e]==")".charCodeAt(0)&&(r[e+1]=="\n".charCodeAt(0)||r[e+1]==" ".charCodeAt(0)))break;
else e++}O.h=J.Pk(r,N,e);N=e+2;break}else if(r[N]=="[".charCodeAt(0)){N++;O.h=[];while(r[N]==" ".charCodeAt(0)||r[N]=="\t".charCodeAt(0)||r[N]=="\n".charCodeAt(0))N++;
while(r[N]!="]".charCodeAt(0)){var P=co.QH(r,N,F+1,h);O.h.push(P.h);N+=P.size;while(r[N]==" ".charCodeAt(0)||r[N]=="\t".charCodeAt(0)||r[N]=="\n".charCodeAt(0))N++}N++;
break}else{var B=J.indexOf(r," ".charCodeAt(0),N,N+50),s=J.indexOf(r,"\n".charCodeAt(0),N,N+50);if(s==-1)s=Infinity;
if(B==-1)B=Infinity;var Y=J.Mj(r,N,Math.min(B,s)-N).trim(),D=parseFloat(Y);if(!isNaN(D)){O.h=parseFloat(Y);
N=Math.min(B,s)+1;break}else if(Y=="true"||Y=="false"){O.h=Y=="true";N=Math.min(B,s)+1;break}else if(Y=="null"||Y=="NaN"||Y=="undefined"){O.h=0;
N=Math.min(B,s)+1;break}else{console.log("unknown identifier: "+Y);throw"e"}N=Math.min(B,s)+1}}O.size=N-m;
return O};co.ml=function(r,N,F,h){if(r instanceof Array){var m=r.length==0||typeof r[0]=="number";if(m){J.xt(N,F,"[ ");
F+=2;for(var R=0;R<r.length;R++){var O=r[R]+" ";J.xt(N,F,O);F+=O.length}J.xt(N,F,"]");F+=1}else{J.xt(N,F,"[\n");
F+=2;for(var R=0;R<r.length;R++){J.B5(N,F,"\t".charCodeAt(0),h);F+=h;F=co.ml(r[R],N,F,h);J.xt(N,F,"\n");
F++}J.B5(N,F,"\t".charCodeAt(0),h);F+=h;J.xt(N,F,"]");F+=1}}else if(r instanceof Object){F=co.Xi(r,N,F,h)}else if(typeof r=="string"){J.xt(N,F,"(");
F++;J.B5(N,F,254);F++;J.B5(N,F,255);F++;F=J.cz(N,F,r);J.xt(N,F,")");F+=1}else{var O=r+"";J.xt(N,F,O);
F+=O.length}return F};co.aj0=function(r){var N=typeof r;return N=="string"||N=="number"||N=="boolean"};
function cK(){}cK.ep=function(r){var N={};cK.HB(r,N,0,0);return N};cK.u_=function(r,N){var F=0;J.xt(N,F," ");
F++;F=cK.cv(r,N,F,0);F--;N.cM(F,2);N.data[F]=N.data[F+1]=0;F+=2;return F};cK.MQ=function(r,N,F,h){while(r[F]!="<".charCodeAt(0)){F++;
console.log("\u0161ipka")}F+=2;F=cK.HB(r,N,F,h);return F};cK.Xi=function(r,N,F,h){J.xt(N,F,"<< ");F+=3;
F=cK.cv(r,N,F,h);J.xt(N,F,">>");F+=2;return F};cK.d5=function(r){return r==9||r==10||r==32};cK.HB=function(r,N,F,h){while(!0){while(cK.d5(r[F])||r[F]==0)F++;
if(F>=r.length)break;if(r[F]=="/".charCodeAt(0)){F++;var m=F;while(!cK.d5(r[m]))m++;var O=J.Mj(r,F,m-F);
F=m+1;var e=cK.QH(r,F,h,O);N["_"+O]=e.h;F+=e.size}else if(r[F]==">".charCodeAt(0)){F+=2;break}else{var P=r[F];
console.log(J.Mj(r,F,F+100));console.log("unknown byte: "+P+", char: "+String.fromCharCode(P)+", offset: "+F);
F++;throw"e";return-1}}return F};cK.cv=function(r,N,F,h){for(var m in r){var O=m.substring(1,m.length);
J.xt(N,F,"/"+O);F+=1+O.length;J.xt(N,F," ");F++;F=cK.ml(r[m],N,F,h+1);J.xt(N,F," ");F++}return F};cK.QH=function(r,N,F,h){var m=N,O={type:"",size:0,h:0};
while(cK.d5(r[N]))N++;if(r[N]=="<".charCodeAt(0)){O.type="Object";O.h={};N=cK.MQ(r,O.h,N,F+1)}else if(r[N]=="(".charCodeAt(0)){O.type="String";
N++;if(r[N]==")".charCodeAt(0)){O.h="e";N++}else{N+=2;var e=N,P=0;while(!0){if(r[e]==")".charCodeAt(0)&&r[e-1]!="\\".charCodeAt(0))break;
else e+=1}O.h="s"+J.Pk(r,N,e);N=e+2}}else if(r[N]=="[".charCodeAt(0)){N++;O.h=[];O.type="Array";while(cK.d5(r[N]))N++;
while(r[N]!="]".charCodeAt(0)){var B=cK.QH(r,N,F+1,h);if(B==-1)return-1;O.h.push(B.h);N+=B.size;delete B.size;
while(cK.d5(r[N]))N++}N++}else{var s=N;while(!cK.d5(r[s]))s++;var Y=J.Mj(r,N,s-N),D=parseFloat(Y);if(!isNaN(D)&&Y.indexOf(".")!=-1){O.type="Float";
var c=parseFloat(Y);O.h="f"+c}else if(!isNaN(D)&&Y.indexOf(".")==-1){O.type="Integer";O.h="i"+parseInt(Y)}else if(Y=="true"||Y=="false"){O.type="Boolean";
O.h=Y=="true"}else if(Y.charAt(0)=="/"){O.type="BString";O.h=Y}else if(Y=="NaN"){O.type="Float";O.h="f0"}else{console.log("unknown value",JSON.stringify(Y));
throw"e"}N=s+1}O.size=N-m;return O};cK.a6c=function(r){if(r==Math.round(r))return r+".0";var N=r.toFixed(5);
while(N.endsWith("0")&&N[N.length-2]!=".")N=N.slice(0,N.length-1);if(0<r&&r<1)N=N.slice(1);if(-1<r&&r<0)N="-"+N.slice(2);
return N};cK.ml=function(r,N,F,h){var m=typeof r=="string"?r.charAt(0):"";if(r instanceof Array){J.xt(N,F,"[ ");
F+=2;for(var R=0;R<r.length;R++){F=cK.ml(r[R],N,F,h);J.xt(N,F," ");F++}J.xt(N,F,"]");F+=1}else if(r instanceof Object){F=cK.Xi(r,N,F,h)}else if(m=="e"){J.xt(N,F,"()");
F+=2}else if(m=="s"){J.xt(N,F,"(");F++;J.B5(N,F,254);F++;J.B5(N,F,255);F++;F=J.cz(N,F,r.substring(1));
J.xt(N,F,")");F++}else if(m=="/"){J.xt(N,F,r);F+=r.length}else if(m=="f"){var O=parseFloat(r.substring(1)),e=cK.a6c(O);
J.xt(N,F,e);F+=e.length}else if(m=="i"){J.xt(N,F,r.substring(1));F+=r.length-1}else{var e=r+"";J.xt(N,F,e);
F+=e.length}return F};function J(){}J.a4Q=function(j_){var r="";for(var R=3;R>=0;R--)r+=String.fromCharCode(j_>>R*8&255);
return r};J.a57=function(r){var j_=0;for(var R=r.length-1;R>=0;R--)j_|=r.charCodeAt(R)<<(3-R)*8;return j_};
J.indexOf=function(r,N,F,h){if(F==null)F=0;if(h==null)h=r.length;h=Math.min(h,r.length);for(var R=F;
R<h;R++)if(r[R]==N)return R;return-1};J.vE=function(r,N,F){if(F==null)F=0;var h=N.length,m=r.length-h;
if(typeof N=="string"){var O=[];for(var R=0;R<h;R++)O.push(N.charCodeAt(R));N=O}if(N.length>0){var e=N[0];
for(var R=F;R<m;R++)if(r[R]==e){var P=!0;for(var B=1;B<h;B++)if(N[B]!=r[R+B]){P=!1;break}if(P)return R}}return-1};
J.Pk=function(r,N,F){var h=[],O="";while(N<F){var m=r[N++];if(m=="\\".charCodeAt(0))h.push(r[N++]);else h.push(m)}for(var R=0;
R<h.length;R+=2)O+=String.fromCharCode(h[R]<<8|h[R+1]);return O};J.aji=function(r,N,F){var h=new Uint8Array(2);
for(var R=0;R<F.length;R++){J.j3(h,0,F.charCodeAt(R));if(h[0]==")".charCodeAt(0)||h[0]=="(".charCodeAt(0)||h[0]=="\\".charCodeAt(0)){r[N]="\\".charCodeAt(0);
N++}r[N]=h[0];N++;if(h[1]==")".charCodeAt(0)||h[1]=="(".charCodeAt(0)||h[1]=="\\".charCodeAt(0)){r[N]="\\".charCodeAt(0);
N++}r[N]=h[1];N++}return N};J.cz=function(r,N,F){r.cM(N,4*F.length);return J.aji(r.data,N,F)};J.sn=function(r,N,F){var h="";
for(var R=0;R<F;R++){var m=r[N++]|r[N++]<<8;h+=String.fromCharCode(m)}return h};J.p3=function(r,N,F){var h="";
for(var R=0;R<F;R++){var m=r[N++]<<8|r[N++];h+=String.fromCharCode(m)}return h};J.a9_=function(r,N,F){for(var R=0;
R<F.length;R++){var h=F.charCodeAt(R);J.ZV(r,N+2*R,h)}};J.TW=function(r,N,F){for(var R=0;R<F.length;
R++){var h=F.charCodeAt(R);J.j3(r,N+2*R,h)}};J.a0a=function(r,N,F){r.cM(N,2*F.length);J.TW(r.data,N,F)};
J.a70=function(r,R,N){var F=[],h=0,m=0;N+=R;while(R<N){h=r[R++];if((h&128)==0)m=h;else if((h&224)==192){m=(h&31)<<6;
h=r[R++];m|=h&63}else if((h&240)==224){m=(h&15)<<12;h=r[R++];m|=(h&63)<<6;h=r[R++];m|=h&63}else if((h&248)==240){m=(h&7)<<18;
h=r[R++];m|=(h&63)<<12;h=r[R++];m|=(h&63)<<6;h=r[R++];m|=h&63}else throw"e";F.push(m)}return F};J.l_=window.TextDecoder?new window.TextDecoder("utf8"):null;
J.H3=function(r,N,F){if(N==null)N=0;if(F==null)F=r.length;if(J.l_&&N==0&&F==r.length)return J.l_.decode(r);
var h=J.a70(r,N,F),m=h.length;for(var R=0;R<m;R++)h[R]=String.fromCharCode(h[R]);return h.join("")};
J.cT=window.TextEncoder?new window.TextEncoder("utf8"):null;J.kX=function(r){if(J.cT)return J.cT.encode(r);
var N=new Uint8Array(r.length*4),F=J.bA(r,N,0);return N.slice(0,F)};J.bA=function(r,N,F){var h=r.length,R=0;
for(var m=0;m<h;m++){var O=r.charCodeAt(m);if((O&4294967295-(1<<7)+1)==0){N[F+R]=O;R++}else if((O&4294967295-(1<<11)+1)==0){N[F+R]=192|O>>6;
N[F+R+1]=128|O>>0&63;R+=2}else if((O&4294967295-(1<<16)+1)==0){N[F+R]=224|O>>12;N[F+R+1]=128|O>>6&63;
N[F+R+2]=128|O>>0&63;R+=3}else if((O&4294967295-(1<<21)+1)==0){N[F+R]=240|O>>18;N[F+R+1]=128|O>>12&63;
N[F+R+2]=128|O>>6&63;N[F+R+3]=128|O>>0&63;R+=4}else throw"e"}return R};J.ph=function(r,N){var F=J.l(r,N),h=J.H3(r,N+4,F-1);
return{ou:h,rT:4+F}};J.aaB=function(r,N){var F=J.Iy(r,N),h=J.sn(r,N+4,F);return h};J.qY=function(r,N){var F=J.l(r,N),h=J.p3(r,N+4,F);
return h};J.bn=function(r,N){var F=J.l(r,N),h=J.p3(r,N+4,F-1);return h};J.ane=function(r,N,F){J.zO(r,N,F.length);
N+=4;J.a9_(r,N,F)};J.aqs=function(r,N,F){J.Wa(r,N,F.length);N+=4;J.TW(r,N,F)};J.C$=function(r,N,F){r.cM(N,4+2*F.length);
J.aqs(r.data,N,F)};J.aoO=function(r,N,F){r.cM(N,4+2*F.length);J.ane(r.data,N,F)};J.oj=function(r,N,F){var h=[];
for(var R=0;R<F;R++)h.push(String.fromCharCode(r[N+R]));return h};J.an2=function(r,N,F){var h=!1,m=r.length-F.length;
for(var R=N;R<m;R++){for(var O=0;O<F.length;O++){if(r[R+O]!=F.charCodeAt(O))break;if(O==F.length-1)return R}}};
J.Mj=function(r,N,F){var h="";for(var R=0;R<F;R++)h+=String.fromCharCode(r[N+R]);return h};J.KZ=function(r,N,F){for(var R=0;
R<F.length;R++)r[N+R]=F.charCodeAt(R)};J.xt=function(r,N,F){r.cM(N,F.length);J.KZ(r.data,N,F)};J.a6O=function(r,N,F){var h="";
for(var R=0;R<F;R++){var m=r[N+R];if(m<10)h+="  ";else if(m<100)h+=" ";h+=m+", "}return h};J.Dx=function(r,N){return r[N]<<8|r[N+1]};
J.j3=function(r,N,j_){r[N]=j_>>8&255;r[N+1]=j_&255};J.z9=function(r,N,j_){r.cM(N,4);J.j3(r.data,N,j_)};
J.a2$=function(r,N){var F=J.Dx(r,N),h=J.Dx(r,N+2);return F+h*(1/65536)};J.mL=function(r,N,j_){var F=Math.floor(j_),h=Math.floor((j_-F)*65536);
J.j3(r,N,F);J.j3(r,N+2,h)};J.av=function(r,N){return r[N+1]<<8|r[N]};J.ZV=function(r,N,j_){r[N+1]=j_>>8&255;
r[N]=j_&255};J.yW=function(r,N,j_){r.cM(N,4);J.ZV(r.data,N,j_)};J.OU=function(r,N){J.Og[0]=r[N+1];J.Og[1]=r[N];
return J.KF[0]};J.Ki=function(r,N){J.Og[0]=r[N];J.Og[1]=r[N+1];return J.KF[0]};J.YJ=J.j3;J.FD=J.z9;J.YC=function(r,N){J.rw[0]=r[N+3];
J.rw[1]=r[N+2];J.rw[2]=r[N+1];J.rw[3]=r[N];return J.sE[0]};J.qs=function(r,N,j_){J.sE[0]=j_;r[N+3]=J.rw[0];
r[N+2]=J.rw[1];r[N+1]=J.rw[2];r[N+0]=J.rw[3]};J.fW=function(r,N,j_){r.cM(N,4);J.qs(r.data,N,j_)};J.uh=function(r,N,F,h){F[h+0]=r[N+0];
F[h+1]=r[N+1];F[h+2]=r[N+2];F[h+3]=r[N+3]};J.Iy=function(r,N){J.uh(r,N,J.rw,0);return J.oz[0]};J.zO=function(r,N,j_){J.oz[0]=j_;
J.uh(J.rw,0,r,N)};J.WX=function(r,N,j_){r.cM(N,4);J.zO(r.data,N,j_)};J.dk=function(r,N){J.uh(r,N,J.rw,0);
return J.sE[0]};J.a3M=function(r,N,j_){J.sE[0]=j_;J.uh(J.rw,0,r,N)};J.a5J=function(r,N,j_){r.cM(N,4);
J.a3M(r.data,N,j_)};J.l=function(r,N){var F=r[N]*(256*256*256)+(r[N+1]<<16|r[N+2]<<8|r[N+3]);return F};
J.Wa=function(r,N,j_){r[N]=j_>>24&255;r[N+1]=j_>>16&255;r[N+2]=j_>>8&255;r[N+3]=j_>>0&255};J.TR=function(r,N,j_){r.cM(N,4);
J.Wa(r.data,N,j_)};J.ML=function(r,N){return J.l(r,N)<<32|J.l(r,N+4)};J.G1=function(r,N,j_){J.Wa(r,N,j_>>16>>16);
J.Wa(r,N+4,j_&4294967295)};J.$Z=function(r,N,j_){r.cM(N,8);J.G1(r.data,N,j_)};J.AR=function(r,N){var F=new Uint8Array(8);
for(var R=0;R<8;R++)F[R]=r[N+7-R];var h=new Float64Array(F.buffer);return h[0]};J.ZT=function(r,N){var F=new Uint8Array(8);
for(var R=0;R<8;R++)F[R]=r[N+R];var h=new Float64Array(F.buffer);return h[0]};J.k9=function(r,N,j_){var F=new Float64Array(1);
F[0]=j_;var h=new Uint8Array(F.buffer);for(var R=0;R<4;R++){var m=h[R];h[R]=h[7-R];h[7-R]=m}for(var R=0;
R<8;R++)r[N+R]=h[R]};J.OX=function(r,N,j_){r.cM(N,8);J.k9(r.data,N,j_)};J._W=function(r,N){J.rw[0]=r[N+3];
J.rw[1]=r[N+2];J.rw[2]=r[N+1];J.rw[3]=r[N+0];return J.BE[0]};J.mm=function(r,N){J.rw[0]=r[N+0];J.rw[1]=r[N+1];
J.rw[2]=r[N+2];J.rw[3]=r[N+3];return J.BE[0]};J.AL=function(r,N,j_){J.BE[0]=j_;r[N+0]=J.rw[3];r[N+1]=J.rw[2];
r[N+2]=J.rw[1];r[N+3]=J.rw[0]};J.amM=function(r,N,j_){r.cM(N,4);J.AL(r.data,N,j_)};J.dw=function(r,N,j_){J.BE[0]=j_;
r[N+0]=J.rw[0];r[N+1]=J.rw[1];r[N+2]=J.rw[2];r[N+3]=J.rw[3]};J.aj8=function(r,N,j_){r.cM(N,4);J.dw(r.data,N,j_)};
J.a8i=function(r,N){var F=J.YC(r,N),h=F*(1/(1<<24));return h};J.xP=function(r,N,F){var h=Math.floor(F*(1<<24));
J.qs(r,N,h)};J.aeO=function(r,N,F){r.cM(N,4);J.xP(r.data,N,F)};J._g=function(r,N){var F=r[N],h=J.Mj(r,N+1,F);
F+=1-F%2;return{b0:h,length:F+1}};J.a7$=function(r,N,F){var h=F.length;r[N]=h;J.KZ(r,N+1,F);if(h%2==0){r[N+1+h]=0;
++h}return h+1};J.E6=function(r,N,F){r.cM(N,F.length+2);return J.a7$(r.data,N,F)};J.hA=function(r,N){var F=new hc;
F.O$=J.AR(r,N+0*8);F.J=J.AR(r,N+1*8);F.KM=J.AR(r,N+2*8);F.Bv=J.AR(r,N+3*8);F.HG=J.AR(r,N+4*8);F.SS=J.AR(r,N+5*8);
return F};J.n$=function(r,N,F){J.k9(r,N+0*8,F.O$);J.k9(r,N+1*8,F.J);J.k9(r,N+2*8,F.KM);J.k9(r,N+3*8,F.Bv);
J.k9(r,N+4*8,F.HG);J.k9(r,N+5*8,F.SS)};J.ai3=function(r,N,F){r.cM(N,48);J.n$(r.data,N,F)};J.abV=function(r,N){var F=J._W(r,N),h=J._W(r,N+4),m=J._W(r,N+8),O=J._W(r,N+12);
return new fE(F,h,m-F,O-h)};J.ahW=function(r,N,F){J.AL(r,N,F.x);J.AL(r,N+4,F.y);J.AL(r,N+8,F.x+F.e);
J.AL(r,N+12,F.y+F.n)};J.avk=function(r,N,F){r.cM(N,16);J.ahW(r.data,N,F)};J.TQ=function(r,N){var F=J.YC(r,N),h=J.YC(r,N+4),m=J.YC(r,N+8),O=J.YC(r,N+12);
return new fE(h,F,O-h,m-F)};J.lP=function(r,N,F){J.qs(r,N,F.y);J.qs(r,N+4,F.x);J.qs(r,N+8,F.y+F.n);J.qs(r,N+12,F.x+F.e)};
J.Rn=function(r,N,F){r.cM(N,16);J.lP(r.data,N,F)};J.d2=function(r,N,F){var h=new Uint8Array(F);for(var R=0;
R<F;R++)h[R]=r[N+R];return h};J.fy=function(r,N,F){r.set(F,N)};J.R$=function(r,N,F){r.cM(N,F.length);
J.fy(r.data,N,F)};J.a6F=function(r,N,F,j_){if(!j_)j_=1;for(var R=0;R<j_;R++)r[N+R]=F};J.B5=function(r,N,F,j_){if(!j_)j_=1;
r.cM(N,j_);J.a6F(r.data,N,F,j_)};J.KF=new Int16Array(1);J.Og=new Uint8Array(J.KF.buffer);J.sE=new Int32Array(1);
J.oz=new Uint32Array(J.sE.buffer);J.rw=new Uint8Array(J.sE.buffer);J.BE=new Float32Array(J.sE.buffer);
function fb(){}fb.ep=function(r,N){var F=new Uint8Array(r),h=0,m=J.Mj(F,h,9),P=4,B=100;h+=9;var O=J.Mj(F,h,4);
h+=4;h++;N.e=J.l(F,h);h+=4;N.n=J.l(F,h);h+=4;var e=J.l(F,h);h+=4;if(e!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(O)==-1){B=J.l(F,h);h+=4;if(parseInt(O.slice(1))>=7){B=B}else alert("Unknown XCF version: "+O);
P=8}var s={};h=fb.Np(F,h,s);var Y=[];h=fb.JI(F,h,Y,P);var D=[];h=fb.JI(F,h,D,P);N.GB=0;for(var R=0;R<Y.length;
R++)fb.ad_(F,Y[R],N,s,P,B);while(N.GB>0){N.g.push(N.Dz());N.GB--}N.g.reverse();delete N.GB;N.buffer=w.B(N.e*N.n*4);
if(N.g.length==0)console.log("No layers!!!");for(var R=0;R<D.length;R++){var c=fb.Cd(F,D[R],s,P,B);if(c.tl[eV.ae$])N.$={channel:c.c4,rect:new fE(0,0,N.e,N.n)}}};
fb.ad_=function(r,N,F,h,m,O){var e=F.lc(),P=J.l(r,N),D=0;N+=4;var B=J.l(r,N);N+=4;e.rect=new fE(0,0,P,B);
var s=J.l(r,N);N+=4;var Y=J.ph(r,N);N+=Y.rT;e.a6(Y.ou);var c={};N=fb.Np(r,N,c);if(c[eV.v9]){var o=c[eV.v9];
D=o.length/4-1}if(c[eV.gs]){e.rect.x=J.YC(c[eV.gs],0);e.rect.y=J.YC(c[eV.gs],4)}if(c[eV.t$]){e.opacity=J.l(c[eV.t$],0)}if(c[eV.agQ]){e.add.lsct=jJ.Ra;
e.rect=new fE(0,0,0,0);e.buffer=w.B(0);e.Rl=24}if(c[eV.sx]){var H=J.l(c[eV.sx],0);e.$j=eV.a1C[H];if(e.zv()&&e.$j=="norm")e.$j="pass"}if(c[eV.up]){if(J.l(c[eV.up],0)==0)e.Rl+=2}if(c[eV.gw]){var x=J.l(c[eV.gw],0);
e.add.lsct=x&1==1?jJ.Ra:jJ.ab}if(c[eV.CV]){var Q=c[eV.CV];for(var U in Q){var I=Q[U];if(U=="gimp-text-layer"){var l=fb.acC(I),p=l.text,j=l.font,T=l.color,V=l["font-size"];
if(p==null&&l.markup){var E=new DOMParser,_=E.parseFromString(l.markup,"image/svg+xml");while(_.firstChild!=null&&_.firstChild.tagName!=null){_=_.firstChild;
var f=_.getAttribute("font"),S=_.getAttribute("foreground"),L=_.getAttribute("size");if(f!=null)j=f;
if(S!=null){S=CSS.AA(S);T=[1,S.Z/255,S.z/255,S.J/255]}if(L!=null){V=""+parseFloat(L)/245}}p=_.textContent}e.add.lnsr="rend";
e.add.TySh=gQ.WW(0,0);e.add.TySh.A2=new fE(0,0,100,100);e.add.TySh.A=new hc(1,0,0,1,e.rect.x,e.rect.y);
var y=e.add.TySh.sl;gQ.BY(y,0,p);var $=gQ.pz(y,0,0),Z=l.justify,i=l["line-spacing"];if(T)$.AY.FillColor={Type:1,Values:[1,parseFloat(T[1]),parseFloat(T[2]),parseFloat(T[3])]};
if(V){V=Math.round(parseFloat(V));$.AY.FontSize=V;e.add.TySh.A.SS+=Math.min(17,V*.17)}if(i){i=Math.round(parseFloat(i)+$.AY.FontSize*1.2);
$.AY.Leading=i;$.AY.AutoLeading=!1}if(Z)$.hS.Justification=["left","right","center","fill"].indexOf(Z);
if(j&&j!="Sans-serif"){var b=j.toLowerCase(),G="bold italic semi extra regular condensed light".split(" "),g=b.length;
for(var R=0;R<G.length;R++){var u=b.indexOf(G[R]);if(u!=-1&&u<g&&b[u-1]==" ")g=u}if(g!=b.length)j=j.slice(0,g-1).split(" ").join("")+"-"+j.slice(g).split(" ").join("");
gQ.dV($,j)}gQ.sW(y,0,p.length,$);var A=l["box-width"],a=l["box-height"],d=A?parseFloat(A):e.rect.e,K=a?parseFloat(a):e.rect.n;
gQ.l7(y,1);gQ.q2(y,[0,0,Math.ceil(d),Math.ceil(K)])}else console.log("Unknown property "+U)}}while(F.GB>D){F.g.push(F.Dz());
F.GB--}F.GB=D;if(e.add.lsct==jJ.Ra||e.add.lsct==jJ.ab)F.GB++;var n=m==4?J.l:J.ML;if(e.ve()){e.buffer=w.B(e.rect.W()*4);
var t=new w.rX(e.rect.W()),X=n(r,N);N+=m;var aK=n(r,N);N+=m;fb.Ab(r,X,t,h,m,O);w.vJ(t,e.buffer);if(aK!=0){e.v=new C.Z8;
e.v.color=0;e.v.rect=e.rect.clone();e.v.channel=fb.Cd(r,aK,h,m,O).c4;if(c[eV.NC])e.v.isEnabled=J.l(c[eV.NC],0)==1}}F.g.push(e)};
fb.acC=function(r){var N="("+J.H3(r,0,r.length-1)+")",F=[],h={};fb.Ft(N,1,F);fb.ajo(F,h);return h};fb.ajo=function(r,N){for(var R=0;
R<r.length;R++){var F=r[R],h=F[0];if(F.length==2)N[h]=F[1];else N[h]=F.slice(1)}};fb.Ft=function(r,N,F){while(!0){if(N>=r.length)throw"e";
var h=r.charAt(N);N++;if(h=="("){var m=[];N=fb.Ft(r,N,m);F.push(m)}else if(h==" "||h=="\n"||h=="\r"){}else if(h==")")return N;
else if(h=="\""){var O=N;while(!0){var e=r[N];N++;if(e=="\"")break;if(e=="\\")N++}F.push(JSON.parse(r.slice(O-1,N)))}else{var O=N-1;
while(r[N]!=" "&&r[N]!=")")N++;F.push(r.slice(O,N))}}};fb.Cd=function(r,N,F,h,m){var O=J.l(r,N);N+=4;
var e=J.l(r,N);N+=4;var P=J.ph(r,N);N+=P.rT;var B={};N=fb.Np(r,N,B);var s=new w.rX(O*e),Y=h==4?J.l:J.ML,D=Y(r,N);
N+=h;fb.Ab(r,D,s,F,h,m);return{c4:s.Z,tl:B}};fb.Ab=function(r,N,F,h,m,O){var e=J.l(r,N);N+=4;var P=J.l(r,N);
N+=4;var B=J.l(r,N);N+=4;var s=m==4?J.l:J.ML,Y=s(r,N);N+=m;fb.ae3(r,Y,F,h,B,m,O)};fb.ae3=function(r,N,F,h,m,O,e){var P=J.l(r,N),Y=0,R=0;
N+=4;var B=J.l(r,N);N+=4;var s=new fE(0,0,P,B);if(e==100||e==150)Y=1;else if(e==200||e==250)Y=2;else if(e==300||e==350)Y=4;
else if(e==500||e==550)Y=2;else if(e==600||e==650)Y=4;else if(e==700||e==750)Y=8;else{alert("unsupported bit depth "+e);
throw"e"}var D=m/Y,Y=Math.round(m/D),c=[];N=fb.JI(r,N,c,O);var o=new w.rX(64*64*Y),H=new fE,x=h[eV.a8W][0],Q=[o.Z,o.z,o.J,o.O$];
if(D==3)o.O$.fill(255);var U=Date.now();for(var I=0;I<B;I+=64)for(var l=0;l<P;l+=64){var p=Math.min(P-l,64),j=Math.min(B-I,64),T=p*j;
H.YR(l,I,p,j);fb.aic(r,c[R++],T*Y,x,D,Q);if(e==100||e==150){}else if(e==250){for(var V=0;V<D;V++){var E=Q[V];
for(var _=0;_<T;_++){var f=E[_]<<8|E[T+_];E[_]=Math.min(f>>>8,255)}}}else if(e==600){var S=fb.a8b(),L=new Uint32Array(1),y=new Float32Array(L.buffer);
for(var V=0;V<D;V++){var E=Q[V];for(var _=0;_<T;_++){L[0]=E[_]<<24|E[T+_]<<16|E[(T<<1)+_]<<8|E[(T<<1)+T+_]<<0;
var $=y[0];if($<0)$=0;else if($>1)$=1;E[_]=S[~~(.5+$*1e3)]}}}else console.log("unknown data format",e);
w.z7(o,H,F,s)}};fb.a8b=function(){var r=fb.ar9;if(r!=null)return r;r=fb.ar9=new Uint8Array(1001);for(var R=0;
R<1001;R++)r[R]=~~(.49+255*w.ZD(R*.001));return r};fb.aic=function(r,N,F,h,m,O){if(h==1){for(var e=0;
e<m;e++){var P=O[e],B=0;while(B<F){var j_=r[N];N++;if(j_<127){var s=r[N];N++;j_++;for(var R=0;R<j_;R++)P[B+R]=s}else if(j_==127){var Y=r[N];
N++;var D=r[N];N++;var s=r[N];N++;j_=Y<<8|D;for(var R=0;R<j_;R++)P[B+R]=s}else if(j_==128){var Y=r[N];
N++;var D=r[N];N++;j_=Y<<8|D;for(var R=0;R<j_;R++)P[B+R]=r[N+R];N+=j_}else{j_=256-j_;for(var R=0;R<j_;
R++)P[B+R]=r[N+R];N+=j_}B+=j_}}}else if(h==2){var c=pako.inflate(r.slice(N)),o=Math.round(c.length/F);
for(var R=0;R<F;R++){var H=R*o;O[0][R]=c[H];O[1][R]=c[H+1];O[2][R]=c[H+2];O[3][R]=o==3?255:c[H+3]}}else alert("Unknown compression "+h)};
fb.JI=function(r,N,F,h){var m=h==4?J.l:J.ML;while(!0){var O=m(r,N);N+=h;if(O==0)break;else F.push(O)}return N};
fb.Np=function(r,N,F){while(!0){var h=J.l(r,N);N+=4;var m=J.l(r,N);N+=4;if(h==eV.akS)break;else if(h==eV.CV)F[h]=fb.a7G(r,N,N+m);
else F[h]=J.d2(r,N,m);N+=m}return N};fb.a7G=function(r,N,F){var h={};while(N<F){var m=J.ph(r,N);N+=m.rT;
var O=J.l(r,N);N+=4;if(O!=1)console.log("unknown flags",O);var e=J.l(r,N);N+=4;h[m.ou]=J.d2(r,N,e);N+=e}return h};
var eV={akS:0,a35:1,apJ:2,aiR:3,ae$:4,avi:5,t$:6,sx:7,up:8,aa7:9,a8_:10,NC:11,a2E:12,a43:13,a50:14,gs:15,a5s:16,a8W:17,atq:18,alP:19,a1U:20,CV:21,ajK:22,a7U:23,akX:24,anr:25,akz:26,auH:27,a8g:28,agQ:29,v9:30,gw:31,ahI:32,auD:33,akl:34,acw:35,ai$:36,am8:37,acf:38,akm:0,ajB:1,afm:2,ads:3,adM:1,af_:2,and:0,aj4:1,ae0:1};
eV.a1C="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var cP=function(){var r=!1,N,F,l;function h(){var T=J.Mj(N,F,4);F+=4;return T[3]+T[2]+T[1]+T[0]}function m(){var T=J.Mj(N,F,4);
F+=4;return T}function O(){var T=N[F];F+=1;return T}function e(){var T=J.av(N,F);F+=2;return T}function P(){var T=J.Iy(N,F);
F+=4;return T}function B(){var T=J.dk(N,F);F+=4;return T}function s(){var T=J.Iy(N,F);F+=8;return T}function Y(){var T=J.mm(N,F);
F+=4;return T}function D(){var T=J.ZT(N,F);F+=8;return T}function c(){var T=J.av(N,F),V=J.H3(N,F+2,T);
F+=2+T;return V}function o(){var T=J.Iy(N,F),V=J.H3(N,F+4,T);F+=4+T;return V}function H(T){F=T;var V=[];
while(F!=0){var E=m();if(E!="#FT4"&&E!="#FT3"&&E!="#FT2")throw E;var _=s(),f=s(),S=s(),L=s(),y=s(),$=P(),Z=P(),i=P(),b=e(),G=O(),g={};
V.push(g);for(var R=0;R<$;R++){var u=P(),A=O();if(A!=0&&A!=1&&A!=2)throw A;var a=[];if(A==0||A==1){var d=s(),K=s(),n=s(),t=P(),X=O(),aK=P(),fg=E!="#FT4"?0:P(),k=null;
if(E=="#FAT"||E=="#FT2"){switch(X){case 1:X=1;break;case 2:X=65;break;case 3:X=129;break;case 4:X=193;
break;default:X=0;break}}if(A==0)k=c();a=[d,K,n,X,k]}g["i"+u]=[A,a]}for(var R=0;R<b;R++){var hG=e(),eE=e(),hW=s(),hh=J.Mj(N,F,hG);
F+=hG}F=_}V.reverse();for(var hI=1;hI<V.length;hI++){var g=V[hI],db=V[hI]=JSON.parse(JSON.stringify(V[hI-1]));
for(var by in g){var jM=g[by];if(jM[0]==0)db[by]=jM;else if(jM[0]==1){jM[1][4]=db[by][1][4];db[by]=jM}else if(jM[0]==2)delete db[by]}}var fP=V.pop(),hB=[];
for(var by in fP)hB.push(fP[by][1]);hB.sort(function(iu,be){return iu[0]-be[0]});return hB}function x(T,V,E,_){while(F<N.length){var f=O(),$=null;
if(f==0){if(_){var S=O();if(S!=2){var L=h()}if(S==0)F+=4;_=!1;continue}else{break}}var y=h();if(r)console.log("  ".repeat(V),f,f&127,y,T._type);
if(f>127)$=Q(f,V,E);else $=U(f,V,E);T[y]=$}}function Q(T,V,E){var _=[];T=T&127;if(T==43)F+=4;var f=P();
if(T==50){var S=h(),L=e();if(L!=1)throw"e";for(var R=0;R<f;R++){var y={_status:"NotShared",_type:S};
_.push(y);var $=O();if($!=1)throw $;x(y,V+1,E)}}else for(var R=0;R<f;R++){_.push(U(T,V,E));if(T==42)T=2}return _}function U(T,V,E){var _=null;
if(T==49){_={};var f=O();if(f!=0){var S=P();if(E==null){_._id=S;_._status=["Shared","Link"][f-1]}if(E&&f==2)_=E[S];
if(f==1){if(E)E[S]=_;var L=O(),y=!1;if(L>1)throw L;_._type=h();if(r)console.log("  ".repeat(V),"new",_._type,L,F);
if(L==0){while(!0){var $=e();if($!=0&&$!=1&&$!=2&&$!=4)throw $;if(N[F]!=0){y=!0;break}var Z=e();if(Z==512)break;
var i=h();if(Z==256)break}}x(_,V+1,E,y)}}}else if(T==50){_={_status:"NotShared"};if(O()==1){_._type=h();
F+=2;x(_,V+1,E)}}else if(T==1)_={type:"byte",value:O()};else if(T==2)_={type:"uint16",value:e()};else if(T==3)_={type:"uint32",value:P()};
else if(T==4)_={type:"uint64",value:s()};else if(T==7)_={type:"int32",value:B()};else if(T==8)_={type:"int64",value:s()};
else if(T==9)_={type:"float32",value:Y()};else if(T==10)_={type:"float64",value:D()};else if(T==21)_={type:"Vec2i",value:[P(),P()]};
else if(T==23)_={type:"Vec4i",value:[P(),P(),P(),P()]};else if(T==33)_={type:"Vec4f",value:[Y(),Y(),Y(),Y()]};
else if(T==36)_={type:"Vec2",value:[D(),D()]};else if(T==38)_={type:"Vec4",value:[D(),D(),D(),D()]};
else if(T==40)_={type:"Vec6",value:[D(),D(),D(),D(),D(),D()]};else if(T==41)_={type:"bool",value:O()!=0};
else if(T==42)_={type:"Enum",value:P()};else if(T==43)_={type:"string",value:o()};else if(T==44){var b=e();
_={type:"curv16",value:[D(),b==12?[O(),O(),O(),O()]:[P(),P()]]}}else if(T==45){var b=P();_={type:"buff",value:N.slice(F,F+b)};
F+=b}else if(T==47){_={type:"uint32",value:P()}}else if(T==48){var G=[],g=e();if(g!=1)throw g;if(N[F]==135){var u=Q(O(),V+1,E),A=Q(O(),V+1,E),a=Q(O(),V+1,E);
G=[u,A,a]}else{var d=1;if(N[F]==3){O();d=P()}for(var R=0;R<d;R++){if(O()!=41)throw"e";var S=O();if(S!=0&&S!=1)throw S;
if(O()!=172)throw"e";var K=P(),n=e(),t=[];G.push(t);if(n!=18)throw n;if(K>2e3)throw K;for(var X=0;X<K;
X++)t.push([D(),D(),O(),O()])}}F++;_={type:"curve",value:G}}else if(T==51){_={type:"EmbeddedData"};_[h()]=o()}else if(T==52)_={type:"uint32",value:P()};
else if(T==56)_={type:"Color32",value:[O(),O(),O(),O()]};else if(T==60)_={type:"ColorGRAY",value:[Y(),Y()]};
else if(T==68)_={type:"ColorRGBA",value:[Y(),Y(),Y(),Y()]};else if(T==72)_={type:"ColorCMYK",value:[Y(),Y(),Y(),Y(),Y()]};
else{throw T}return T==49||T==50||T==51?_:_.value}function I(T){var V=0,E=T.length;for(var R=0;R<E;R++)T[R]=V=V+T[R]&255}function p(T){N=T;
F=4;var V=P(),E=m();if(E!="nsrP")throw E;var E=m();if(E!="#Inf")throw E;var _=s();l=s();var f=s(),S=s(),L=s(),y=P(),$=P(),E=m();
if(E!="Prot")throw E;var y=P(),Z=H(_),i={},b=Date.now();for(var G=0;G<Z.length;G++){var g=Z[G],u=g[3],n=null;
F=g[0];var E=m();if(E!="#Fil")throw E;var A=u>>>5&1,a=u&3,d=u&192;switch(d){case 64:d=1;A=0;break;case 128:d=2;
break;case 192:d=3;break;default:d=0;A=0}var K=new Uint8Array(N.buffer,F,g[2]);if(a==0)n=K;else if(a==1)n=pako.inflate(K);
else if(a==2)n=bA.Si.w5(K,g[1]);else throw a;if(A==0){if(d==1)I(n);if(d==2)throw"e"}else throw A;i[g[4]]=n}return i}function j(T){var V=p(new Uint8Array(T));
N=V["doc.dat"];F=16;var E={};x(E,0,[]);return[V,E,l]}return{asD:j}}();function d4(){}d4.ep=function(){function r(o,H){var x=Date.now(),Q=cP.asD(o),U=Q[0],I=Q[1],l=Q[2],p=I.DocR,j=p.DfSz,T=p.Chld;
if(T.length!=1)throw"e";var V=T[0],E=V.SprB;T=V.Chld;H.e=~~E[2];H.n=~~E[3];H.buffer=w.B(H.e*H.n*4);var _=[0,{}];
for(var R=0;R<T.length;R++)m(T[R],H,U,new hc,_);H.c3(_[0]);console.log(Date.now()-x,"Document created");
x=Date.now()}function N(o){return new hc(o[0],o[3],o[1],o[4],o[2],o[5])}function F(o,H){var x=H.Xfrm;
x=x?N(x):new hc;x.concat(o);return x}function h(o){var H={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[o];
return H?H:"norm"}function m(o,H,x,Q,U){var I=o._type,l=o.Chld,p=H.lc();p.a6(o.Desc==null||o.Desc==""?I=="Grup"?"Folder":"Layer":o.Desc);
p.Hb(o.Visi);p.opacity=Math.round(255*o.Opac);if(o.FOpc!=1)p.add.iOpa=Math.round(255*o.FOpc);var j=o.Blnd;
if(j!=null)p.$j=h(j);var T=F(Q,o),V=I=="ShpN"||I=="PCrv";if(l){H.g.push(H.Dz());p.add.lsct=jJ.Ra;p.$j="pass";
p.Rl=24;if(I=="ShpN"){var E=o.ShpB;p.xz(new fE(E[0]+T.HG,E[1]+T.SS,E[2]-E[0],E[3]-E[1]));U[0]++;p.add.artb.Clr={t:"Objc",v:w.X.QA({Z:255,z:255,J:255})}}for(var R=0;
R<l.length;R++)m(l[R],H,x,T,U)}else if(I=="Rstr"||I=="ImgN"||I=="MRst"){var _=o.Bitm,f=_.Bckg,S=Date.now(),L;
if(f==null){L=s(_,x,U[1]);p.rect=L[2].clone();p.buffer=L[1].slice(0);p.rect.x+=T.HG;p.rect.y+=T.SS}if(f||T.zf()!=1){var y,$=0,Z=0;
if(f){var i=x[f.Data],b=J.vE(i,"ataD")+4,G=J.Iy(i,b);b+=4;y=i.slice(b,b+G)}else{$=p.rect.x-T.HG;Z=p.rect.y-T.SS;
if(L[3]==null)L[3]=new Uint8Array(bA.yU("PNG").xs([[p.buffer.buffer]],p.rect.e,p.rect.n));y=L[3].slice(0)}var g=H.yk(y,p.getName(),0,0);
g.Rl=p.Rl;g.opacity=p.opacity;p=g;var u=new hc;u.translate($,Z);u.concat(T);var A=p.rect.clone();A.x=A.y=0;
var a=w.p.fc(A).t;w.p.A(a,u,a);p.add.SoLd.Trnf=z.Q.JE(a);p.add.SoLd.nonAffineTransform=z.Q.JE(a);p.XY(H,!1)}}else if(I=="TxtA"||I=="TxtF"){p.add.lnsr="rend";
p.add.TySh=gQ.WW(0,0);p.add.TySh.A2=new fE(0,0,100,100);var d=o.TxtH.FrmB,K=new hc,aK=0;K.translate(d[0],d[1]);
K.concat(T);p.add.TySh.A=K;var n=p.add.TySh.sl,t=o.StSt,X=t.Blok;if(X.length!=1)throw"e";for(var fg=0;
fg<X.length;fg++){var k=X[fg],hG=aK,eE=0,hW=k.Glyp.Utf8;hW=hW.replace(/\u2028/g,"\n");hW=hW.replace(/\u2029/g,"\n");
hW=hW.slice(0,hW.length-1);gQ.BY(n,aK,hW);aK+=hW.length;var hh=k.GAtt.Runs,hI=k.PAtt.Runs[0],db=hI.Item.Ints[0];
for(var by=0;by<hh.length;by++){var jM=hh[by],fP=jM.Indx,hB=jM.Item,iu=hB.Objs,be=gQ.pz(n,hG,1);be.hS.Justification=db==0?0:db==1?2:1;
gQ.dV(be,hB.DFnt.Post);be.AY.FontSize=hB.Doub[0];for(var R=0;R<iu.length;R++){var bp=iu[R];if(bp._type=="FDsc"){var ij=bp.FDeF;
if(ij._type=="FilS"){var fT=B(ij.Colr);be.AY.FillColor={Type:1,Values:[1,fT[0],fT[1],fT[2]]}}}}gQ.sW(n,hG+eE,hG+Math.min(fP,hW.length),be);
eE=fP}}gQ.l7(n,1);gQ.q2(n,[0,0,Math.round(d[2]-d[0]),Math.round((d[3]-d[1])*1.2)]);H.hP=!0}else if(V){p.Rl|=16;
var ei=p.add.vstk=JSON.parse(JSON.stringify(an.mr.default));p.add.vstk.strokeEnabled.v=!1;p.add.vogk=[];
var bz=p.add.vmsk=O(o);w.H.nY(bz.Y,T);if(o.BFFl){var aM=o.BFFl[0].FDeF,hw=aM._type;if(hw=="FilS")p.add.SoCo={classID:"null",Clr:P(aM.Colr)};
else if(hw=="FilG"){var hx=p.add.GdFl=JSON.parse(an.O7[an.order.indexOf("GrFl")]);e(aM,hx)}else if(hw=="FilN"){p.add.SoCo={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:0,z:0,J:0})}};
ei.fillEnabled.v=!1}else console.log(hw)}if(o.LILn){var fm=o.LILn[0].LDeL,dE=fm.Wght;if(dE!=0){ei.strokeEnabled.v=!0;
ei.strokeStyleLineWidth.v.val=dE;var aM=o.LIFl[0].FDeF,hw=aM._type;if(hw=="FilS")ei.strokeStyleContent.v.Clr=P(aM.Colr);
else if(hw=="FilN")ei.strokeEnabled.v=!1}}p.dD(H)}else console.log(I);var gD=o.AdCh,c2=[];if(gD)for(var R=0;
R<gD.length;R++){var bQ=gD[R],f9=bQ._type;if(f9=="ShpN"||f9=="PCrv"){var bz=p.add.vmsk=O(bQ),jR=F(T,bQ);
w.H.nY(bz.Y,jR);p.dD(H)}else if(bQ.AdjP){var gP=bQ.AdjP,jh=gP._type,k6={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jh];
if(k6==null){console.log(gP);continue}var eZ=df.z6(k6,{});c2.push(eZ);var b5=eZ.v.Fltr.v;if(jh=="LevP"){var fG=a7.AD(b5,0);
fG[0]=gP.OutB*255;fG[1]=gP.OutW*255;a7.uP(b5,0,fG)}else if(jh=="WhBP"){var fG=a7.AD(b5,2);fG[4]=100+gP.WBTi*20;
a7.uP(b5,2,fG);var fG=a7.AD(b5,3);fG[4]=100+gP.WBTi*200;a7.uP(b5,3,fG)}else if(jh=="HSSP"){var fG=dG.AD(b5,0);
fG[0]=Math.round(gP.HueA*256);fG[1]=Math.round(gP.SatA*256);fG[2]=Math.round(gP.LumA*256);dG.uP(b5,0,fG)}else if(jh=="RecP"){b5.Clrz.v=!0;
var fG=dG.AD(b5,0);fG[0]=Math.round(gP.RecH*100);fG[1]=Math.round(gP.RecS*100);fG[2]=Math.round(gP.RecL*100);
dG.uP(b5,0,fG)}else if(jh=="B&CP"){b5.Brgh.v=Math.round(gP.Brig*100);b5.Cntr.v=Math.round(gP.Ctrs*100-100)}else if(jh=="PosP"){b5.Lvls.v=gP.Post}else if(jh=="VibP"){b5.vibrance.v=gP.Vibr-100;
b5.Strt.v=Math.round(gP.Satu*100)}else if(jh=="ExpP"){b5.Exps.v=gP.Expo;b5.gammaCorrection.v=gP.Gamm/2.2}else if(jh=="ThrP"){b5.Lvl.v=Math.round(gP.Thre*255)}else if(jh=="CrvP"){var jG=gP.Mast["Cnt "],i_=gP.Mast.Vals,fG=dK.AD(b5,0),aY=fG[0];
for(var jk=0;jk<jG;jk++){var ih=fG[jk]=JSON.parse(JSON.stringify(aY));ih.v.Hrzn.v=Math.round(i_[jk]*255);
ih.v.Vrtc.v=Math.round(i_[4+jk]*255)}dK.uP(b5,0,fG)}}else console.log(bQ)}if(c2.length!=0){p.add.SoLd.filterFX=df.tB();
H.gV({id:p.add.SoLd.placed.v,rect:new fE,buffer:w.B(1),v:new C.Z8});p.add.SoLd.filterFX.v.filterFXList.v=c2;
p.XY(H,!1)}var jr=o.FiEf;if(jr&&jr.length!=0){var hV=p.add.lmfx=JSON.parse(an.default);for(var R=0;R<an.order.length;
R++)hV[an.NR[R]]={t:"VlLs",v:[]};for(var ds=0;ds<jr.length;ds++){var jA=jr[ds],eI=jA._type,hH={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[eI],hx=hH?JSON.parse(an.O7[an.order.indexOf(hH)]):null;
if(eI=="ColO"){hx.Clr=P(jA.Colr)}else if(eI=="GrdO"){e(jA.GrFl.FDeF,hx)}else if(eI=="Shad"||eI=="InnS"||eI=="OutG"||eI=="InnG"){hx.Clr=P(jA.Colr);
hx.blur.v.val=Math.round(jA.Radi/2.4);if(jA.Offs!=null){hx.Dstn.v.val=jA.Offs;hx.lagl.v.val=Math.round(180-jA.Angl*180/Math.PI);
hx.uglg.v=!1}}else if(eI=="Strk"){hx.Clr=P(jA.Colr);hx.Sz.v.val=Math.round(jA.Radi)}else if(eI=="PhgB"||eI=="BevE"){hx.blur.v.val=Math.round(jA.Radi);
if(eI=="BevE")hx.bvlS.v.BESl="PlEb"}else if(eI=="Gaus"){if(V&&jA.Enab){p.add.vmsk.J_=jA.Radi/2.4;p.add.vmsk.ug=!0;
p.dD(H)}}if(hH){hx.enab.v=jA.Enab;if(hx.Md&&jA.BlnM!=null)hx.Md.v.BlnM=g6.Cp(h(jA.BlnM));if(hx.Opct&&jA.Opac!=null)hx.Opct.v.val=Math.round(jA.Opac*100);
var bO=an.NR[an.order.indexOf(hH)];hV[bO].v.unshift({t:"Objc",v:hx})}}}H.g.push(p)}function O(o){var H=new C.Ug,x=o._type;
if(x=="PCrv"){var Q=o.Crvs.Data,U=[],I=[];for(var R=0;R<Q.length;R++){var l=Q[R];if(l.length%3!=1){l=l.slice(1,l.length-1)}for(var p=0;
p<l.length;p++){var j=l[p],T=j[2];if(T!=0)U.push(p==0?"M":"C");I.push(j[0],j[1])}}H.Y=w.p.nN({t:I,C:U},!0)}else{var V=o.ShpB,E=o.Shpe,_=E._type,f=V[2]-V[0];
if(_=="ShpE"){H.Y=w.H.yN.b4(V[0],V[1],V[2]-V[0],V[3]-V[1])}else if(_=="ShNR"){var S=[0,0,0,0];if(E.CTyp){S=E.ShCR.slice(0);
for(var R=0;R<4;R++)S[R]*=V[2]-V[0]}H.Y=w.H.yN.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],S)}else if(_=="ShpT"){H.Y=w.p.nN({C:["M","L","L","Z"],t:[V[0],V[3],V[2],V[3],V[0]+f*.5,V[1]]},!0)}else if(_=="ShTz"){H.Y=w.p.nN({C:["M","L","L","L","Z"],t:[V[0]+f*E.PosL,V[1],V[0]+f*E.PosR,V[1],V[2],V[3],V[0],V[3]]},!0)}else{console.log("--",_);
H.Y=w.H.yN.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],[0,0,0,0])}}return H}function e(o,H){var x=o.Grad,Q=x.Cols;
H.Type.v.GrdT=o.Type==0?"Lnr":"Rdl";var U=[];for(var R=0;R<Q.length;R++){var I=B(Q[R]);U.push([x.Posn[R][0],I])}H.Grad.v.Intr.v=0;
w.X.y2(U,H.Grad.v);var l=x.Posn,p=new gS(l[0][0],l[0][1]),j=new gS(l[1][0],l[1][1]);if(o.Type==0)p=new gS((p.x+j.x)/2,(p.y+j.y)/2);
w.X.zm(p,j,new fE(0,0,1,1),H)}function P(o){var H=B(o);return{t:"Objc",v:w.X.QA({Z:H[0]*255,z:H[1]*255,J:H[2]*255})}}function B(o){var H=o._col,x=o._type;
if(x=="HSLA"){var Q=w.FK(H[0],H[1],H[2]);return[Q.Z,Q.z,Q.J,H[3]]}else if(x=="RGBA")return H;else if(x=="CMYK"){var U=1-H[3];
return[(1-H[0])*U,(1-H[1])*U,(1-H[2])*U]}else if(x=="GRAY")return[H[0],H[1],H[2]];else{console.log(H);
throw x}}function s(o,H,x){var Q=o.Frmt,S="";if(Q!=0&&Q!=4&&Q!=6)throw Q;var U=o.BmpW,I=o.BmpH,l=Q==4?5:Q==0?4:1,p=Math.ceil(U/256),j=Math.ceil(I/256),T=new fE(0,0,p,j),V=new fE;
for(var R=0;R<l;R++){var E=new Uint8Array(o["Sta"+(R+1)]),_=w.va(E,T);V=V.fD(_)}var f=[];for(var R=0;
R<l;R++){var E=new Uint8Array(o["Sta"+(R+1)]),L=w.B(V.W());w.nZ(E,T,L,V);f[R]=[];for(var y=0;y<L.length;
y++)f[R][y]=L[y];S+=JSON.stringify(f[R])+","+JSON.stringify(o["Idx"+(R+1)])+","}if(x[S]==null){var $=V.e*256,Z=V.n*256,i=new Array(l);
for(var R=0;R<l;R++){var E=i[R]=new Uint8Array($*Z);Y(E,o["Idx"+(R+1)],f[R],H,$,Z)}var b=w.B($*Z*4);
if(Q==0)w.vJ({Z:i[0],z:i[1],J:i[2],O$:i[3]},b);else if(Q==4){for(var R=0;R<i[0].length;R++){var G=R*4,g=i[0][R]*(1/255),u=i[1][R]*(1/255),A=i[2][R]*(1/255),a=i[3][R]*(1/255),d=UDOC.C.cmykToRgb([g,u,A,a]);
b[G]=d[0]*255;b[G+1]=d[1]*255;b[G+2]=d[2]*255;b[G+3]=i[4][R]}}else{b.fill(255);w.zG(i[0],b)}var K=new fE(0,0,$,Z),n={buffer:b,rect:K};
w.uQ(n);x[S]=[n.rect,n.buffer]}var _=x[S][2]=x[S][0].clone();_.x+=V.x*256;_.y+=V.y*256;return x[S]}function Y(o,H,x,Q,U,I){var l=0,p=U>>>8,j=I>>>8;
for(var T=0;T<j;T++)for(var V=0;V<p;V++){var E=V*256,_=T*256,f=T*p+V,S=_*U+E,L=x[f];if(L<=1)D(o,S,0,U,256,256);
else if(L==2)D(o,S,4294967295,U,256,256);else if(L==4){var y=H[l];l++;var $=Q[y.Data.DatI],Z=y.Rect;
if(Z==null)Z=[0,0,256,256];D(o,S,0,U,256,256);c(o,(_+Z[1])*U+E+Z[0],$,Z[1]*256+Z[0],U,256,Z[2]-Z[0],Z[3]-Z[1])}else console.log(L)}}function D(o,H,x,Q,U,I){var l=H+Q*I;
for(;H<l;H+=Q){var p=H+U;for(var j=H;j<p;j++){o[j]=x}}}function c(o,H,x,Q,U,I,l,p){var j=H+U*p,T=Q+I*p;
for(;H<j&&Q<T;H+=U,Q+=I){for(var R=0;R<l;R++)o[H+R]=x[Q+R]}}return r}();function j6(){}j6.ep=function(r,N){var F=j6,h=hd.parse(r),O=0;
if(h.pages.length>1)console.log(h.pages.length,"pages");var m=[],e=new fE;for(var P=0;P<h.pages.length;
P++){var B=h.pages[P],s=B.layers,Y=F.Ce(s,P),c=!1;if(Y.W()>8e3*8e3||Y.e>3e4||Y.n>3e4){F.tG(s,!0);var D=F.Ce(s,P);
if(D.W()>=Y.W())F.tG(s,!1)}Y=F.Ce(s,P);for(var o=0;o<s.length;o++){var H=s[o];if(F.mX(H)=="artboard")c=!0}if(!c){console.log("no artboard");
var x={};for(var Q in B)x[Q]=B[Q];x._class="group";B.layers=[x]}m.push(Y.clone());if(Y.lX())continue;
Y.x=0;Y.y=O;O+=Y.n+200;e=e.fD(Y)}var U={};if(h.foreignSymbols)for(var R=0;R<h.foreignSymbols.length;
R++){var I=h.foreignSymbols[R].symbolMaster;U[I.symbolID]={Fe:I}}F.mJ(h.pages,U,N);for(var l in U){var H=U[l].Fe,p=F.D4(H.layers)}var j=j6.Pp(e,8192*8192);
N.hP=!0;N.e=Math.round(e.e/j);N.n=Math.round(e.n/j);N.buffer=w.B(N.e*N.n*4);N.c3(h.pages[0].layers.length);
N.HK={};N.V3=[];O=0;for(var P=0;P<h.pages.length;P++){var T=h.pages[P],Y=m[P],V=new hc(j,0,0,j,Y.x,Y.y-O);
F.DO(T.layers,N,V,h,U,{},[]);O+=Y.n+200}delete N.HK;delete N.V3;if(j!=1)alert("File scaled down "+j+"x");
N.ahf()};j6.abw=0;j6.mX=function(r){return r._class?r._class:r.$class};j6.Pp=function(r,N){var F=1;while(Math.round(r.e/F)*Math.round(r.n/F)>N||Math.max(Math.round(r.e/F),Math.round(r.n/F))>3e4)F++;
if(F!=1&&!window.confirm("Your image is quite large ("+r.e+" x "+r.n+" px).\n"+"Press OK to scale it down "+F+"x, or Cancel to keep the size."))F=1;
return F};j6.Ce=function(r,N){var F=[],h=j6;for(var m=0;m<r.length;m++){var O=r[m],e=h.TQ(O.frame);if(N==0||h.mX(O)=="artboard")F.push(e)}return w.rect.Lj(F)};
j6.tG=function(r,N){var F=[],h=j6;for(var m=0;m<r.length;m++){var O=r[m],e=h.TQ(O.frame);e.e+=150;e.n+=150;
F.push(e)}var P=w.rect.Lj(F);w.rect.a9X(F,N);var B=w.rect.Lj(F);if(B.W()*1.5<P.W()||P.e>3e4&&B.e<=3e4||P.n>3e4&&B.n<=3e4){alert("Re-arranging artboards");
for(var m=0;m<r.length;m++){var s=F[m],O=r[m],Y=O.frame;Y.x=s.x;Y.y=s.y}}};j6.mJ=function(r,N,F){var h=j6;
for(var m=0;m<r.length;m++){var O=r[m],e=h.mX(O);if(["page","artboard","group"].indexOf(e)!=-1)h.mJ(O.layers,N,F);
else if(e=="symbolMaster")N[O.symbolID]={Fe:O}}};j6.D4=function(r){var N=j6;for(var F=0;F<r.length;F++){var h=r[F],m=N.mX(h),O=null;
if(["page","artboard","group"].indexOf(m)!=-1)O=N.D4(h.layers);if(m=="symbolMaster"||m=="symbolInstance")O=h;
if(O!=null)return O}return null};j6.DO=function(r,N,F,h,m,O,e){var P=j6,B=[];for(var s=0;s<r.length;
s++){var Y=r[s],D=Y.frame?P.TQ(Y.frame):null,c=Y.style,U="",V=null,E=!1;if(c==null){console.log("no styles")}var o=P.ef(Y,F),H=P.mX(Y),x=H=="shapeGroup"||H=="shapePath"||H=="rectangle"||H=="oval"||H=="triangle"||H=="polygon",Q=["page","artboard","group"].indexOf(H)!=-1;
if(H=="shapeGroup"){for(var R=0;R<Y.layers.length;R++)if(P.mX(Y.layers[R])=="shapeGroup")Q=!0}var I=Y.exportOptions;
if(I){var l=I.exportFormats;if(l==null)l=I.sizes;if(H!="artboard"&&(l&&l.length!=0)){var p=l[0].scale}}var j=N.lc();
j.Hb(Y.isVisible);var T=Y.name;if(!(typeof T=="string"))T=H;j.a6(U+T.slice(0,250));if(c!=null)V=P.atu(h,N,c,D,o,j.getName(),x||H=="artboard"||Q);
if(H=="rectangle"&&c&&c.fills&&c.fills[0]){var _=c.fills[0];if(_.fillType==4&&_.patternFillType>1&&_.image!=null)E=!0}if(Y.shouldBreakMaskChain){while(B.length!=0)P.qP(B.pop(),N)}if(Q){j.add.lsct=Y.layerListExpandedType==2?jJ.Ra:jJ.ab;
j.$j="pass";j.Rl=24;j.Hb(Y.isVisible);N.g.push(N.Dz());if(H=="artboard"){var f=D.clone(),S=o.zf();f.x=-Math.floor(o.HG/S);
f.y=-Math.floor(o.SS/S);f.e=Math.floor(f.e/S);f.n=Math.floor(f.n/S);j.xz(f);var L=Y.backgroundColor,y=L?{Z:255*L.red,z:255*L.green,J:255*L.blue}:{Z:255,z:255,J:255};
j.add.artb.Clr={t:"Objc",v:w.X.QA(y)};j.add.artb.artboardBackgroundType={t:"long",v:4}}P.DO(Y.layers,N,o,h,m,O,e)}else if(x&&!E){j.add.vmsk=new C.Ug;
j.add.vstk=JSON.parse(JSON.stringify(an.mr.default));j.add.vstk.strokeEnabled.v=!1;j.add.vogk=[];var $=V!=null&&V.frameFXMulti.v.length==1,Z=c?c.fills:null,i=c?P.pP(h,Z,D,o,j.getName(),N,P.cL(e,Y.do_objectID+"_image")):[];
if(i.length==0){if($)j.add.vstk.fillEnabled.v=!1;else j.add.iOpa=0;j.add.SoCo={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:0,z:0,J:0})}}}else{var b=i[0],G=null,g=null;
if(b.type=="SoFi"){G="SoCo";g=an.eA}if(b.type=="GrFl"){G="GdFl";g=an.ZE}if(b.type=="patternFill"){G="PtFl";
g=an.bf}if(G!=null){j.add[G]={classID:"null"};for(var R=0;R<g.length;R++){var u=g[R];j.add[G][u]=b.h.v[u]}var A=b.h.v.Opct.v.val;
if($&&A==0)j.add.vstk.fillEnabled.v=!1;else j.add.iOpa=Math.round(255*A/100)}}j.Rl|=16;j.add.vmsk.Y=P.f6(Y.layers?Y.layers:[Y],Y.layers?o:F,j.add.vogk);
var a=c?c.blur:null;if(a&&a.isEnabled&&a.type<=1)j.add.vmsk.J_=a.radius;if(j.add.vmsk.Y.length==2){console.log("shape with no content:",j.getName())}if($){var d=V.frameFXMulti.v[0].v,K=j.add.vstk,n=c.borders[0];
V.frameFXMulti.v=[];iL.a6h(d,K);var t=c.borderOptions,X=c.miterLimit;if(t){var aK=t.dashPattern;K.strokeStyleLineCapType.v.strokeStyleLineCapType=an.mr._6[t.lineCapStyle];
K.strokeStyleLineJoinType.v.strokeStyleLineJoinType=an.mr.join[t.lineJoinStyle];if(aK)K.strokeStyleLineDashSet.v=iL.IH(aK,1/d.Sz.v.val);
if(X!=null)K.strokeStyleMiterLimit.v=X}}j.dD(N)}else if(H=="bitmap"||E){if(!E&&Y.image==null)continue;
var fg=E?c.fills[0]:null,k=E?fg.image.bdata:Y.image.bdata,hG=N.yk(k,j.getName(),0,0);hG.Rl=j.Rl;j=hG;
var a=c?c.blur:null,eE=c?c.colorControls:null;if(a||eE){j.add.SoLd.filterFX=df.tB();N.gV({id:j.add.SoLd.placed.v,rect:new fE,buffer:w.B(1),v:new C.Z8});
var Z=j.add.SoLd.filterFX.v.filterFXList.v;if(a){var hW=df.z6("GsnB",{});hW.v.enab.v=a.isEnabled;hW.v.Fltr.v.Rds.v.val=a.radius;
Z.push(hW)}if(eE){var hh=eE.brightness,hI=eE.contrast,db=eE.hue,by=eE.saturation;if(db!=0||by!=1){var hW=df.z6("hue2",{});
hW.v.enab.v=eE.isEnabled;dG.uP(hW.v.Fltr.v,0,[Math.round(db*180/Math.PI),Math.round((by-1)*100),0]);
Z.push(hW)}if(hh!=0||hI!=1){var hW=df.z6("brit",{});hW.v.enab.v=eE.isEnabled;hI=hI-1;if(hI>0)hI/=2;var jM=hW.v.Fltr.v;
jM.Brgh.v=Math.round(hh*255);jM.Cntr.v=Math.round(hI*255);jM.useLegacy.v=!0;Z.push(hW)}}}if(E){var fP=fg.patternFillType;
if(fP==3){var hB=j.rect.e/j.rect.n,iu=D.e/D.n;if(hB<iu){o.translate(-(D.e*(1-hB/iu))/2,0);o.scale(iu/hB,1)}else{o.translate(0,-(D.n*(1-iu/hB))/2);
o.scale(1,hB/iu)}}}D.x=D.y=0;var be=w.p.fc(D).t;o.iL();w.p.A(be,o,be);j.add.SoLd.Trnf=z.Q.JE(be);j.add.SoLd.nonAffineTransform=z.Q.JE(be);
j.XY(N,!1)}else if(H=="text"){if(Y.attributedString==null)continue;var bp=o.clone(),ij,fT,hx=0;bp.iL();
bp.O$=bp.Bv=Math.min(bp.O$,bp.Bv);j.add.lnsr="rend";j.add.TySh=gQ.WW(0,0);j.add.TySh.A2=new fE(0,0,D.e,D.n);
j.add.TySh.A=bp;var ei=Y.attributedString;if(ei.archivedAttributedString)ei=ei.archivedAttributedString;
var bz=ei.NSString;if(bz==null)bz=ei.string;if(bz==null)bz="";if(bz["NS.string"])bz=bz["NS.string"];
if(O[Y.do_objectID]!=null)bz=O[Y.do_objectID];var aM=P.cL(e,Y.do_objectID+"_stringValue");if(aM)bz=aM.value;
if(ei.attributes!=null){ij=[];fT=[];var hw=ei.attributes;for(var R=0;R<hw.length;R++){ij.push(hw[R].length,R);
fT.push(hw[R].attributes)}}else if(ei.NSAttributeInfo==null){ij=[bz.length,0];fT=[ei.NSAttributes]}else{ij=ei.NSAttributeInfo["NS.data"];
fT=ei.NSAttributes;ij=j6.agr(ij,fT)}for(var R=0;R<ij.length;R+=2)hx+=ij[R];if(hx!=bz.length){while(hx>bz.length){ij[ij.length-2]--;
hx--;if(ij[ij.length-2]==0){ij.pop();ij.pop()}}ij[ij.length-2]+=bz.length-hx}bz=bz.replace(/\u2028/g,"\n");
bz=bz.replace(/\u2029/g,"\n");bz=bz.replace(/\r/g,"\n");var fm=j.add.TySh.sl;gQ.BY(fm,0,bz);if(bz!=""){var dE=Y.textBehaviour,gD=c.textStyle,c2=gD?gD.verticalAlignment:0,bQ=P.av3(fm,ij,fT,bz),S=bp.zf(),f9=gQ.pz(fm,0,1),jh=0;
if(f9.AY.Font){var jR=f9.f7[f9.AY.Font].Name;if(jR=="FontAwesome"||jR=="Ionicons")bQ*=.87}var gP=f9.AY.AutoLeading?0:f9.AY.Leading*.6,k6=Math.max(bQ,gP)*S,eZ=D.e,b5=D.n;
if(dE==0){gQ.l7(fm,0);var fG=gQ.iQ(f9.hS);if(fG==1)jh=eZ*S;if(fG==2)jh=eZ*S*.5;if(c2==0)k6*=1;else k6*=.9}else{gQ.l7(fm,1);
gQ.q2(fm,[0,0,Math.round(eZ),Math.round(b5)]);if(dE==2&&c2==0)k6=k6*.2;else if(dE==2&&c2==1){k6=S*.5*(b5-f9.AY.FontSize)}else if(dE==1&&c2==0)k6=k6*.2;
else k6=k6*.35}j.add.TySh.A.translate(jh,k6)}}else if(H=="symbolInstance"||H=="symbolMaster"){var jG=Y.symbolID;
if(O[Y.do_objectID])jG=O[Y.do_objectID].symbolID;var i_=P.cL(e,Y.do_objectID+"_symbolID");if(i_)jG=i_.value;
if(jG=="")continue;var aY={};for(var u in O)aY[u]=O[u];if(Y.overrides)for(var u in Y.overrides)aY[u]=Y.overrides[u];
var jk=e.slice(0);if(Y.overrideValues)jk=jk.concat(Y.overrideValues);var ih=m[jG];if(ih==null){console.log("Unknown master master",Y.symbolID);
continue}var jr=j6.TQ(ih.Fe.frame),hV=jr.e/D.e,ds=jr.n/D.n,jA=o.clone();jA.scale(hV,ds);j.add.lsct=jJ.ab;
j.$j="pass";j.Rl=24;j.Hb(Y.isVisible);N.g.push(N.Dz());var eI=ih.Fe;if(N.V3.indexOf(eI)==-1){N.V3.push(eI);
P.DO(eI.layers,N,jA,h,m,aY,jk);N.V3.pop()}}else if(H=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+H,Y);continue}if(c&&c.contextSettings){var bO=c.contextSettings,k7=bO.blendMode;
if(k7<P.$F.length){j.$j=g6.Ry[g6.EO.indexOf(P.$F[k7])];if(Q&&j.$j=="norm")j.$j="pass"}j.opacity=Math.round(j.opacity*bO.opacity)}if(V!=null){j.add.lmfx=V}N.g.push(j);
if(Y.hasClippingMask&&r.length>1){B.push(j);N.g.push(N.Dz())}}while(B.length!=0)P.qP(B.pop(),N)};j6.cL=function(r,N){for(var R=0;
R<r.length;R++)if(r[R].overrideName.startsWith(N))return r[R]};j6.agr=function(r,N){var F=0,h=[];while(F+1<r.length){var m=r[F];
F++;if(m>127){m+=128*(r[F]-1);F++;if(r[F-1]>127){m+=128*(r[F]-1);F++}}var O=r[F];F++;h.push(m,O)}return h};
j6.av3=function(r,N,F,h){var m=j6,O=0,Y=0,D=0;for(var R=0;R<h.length;R++){var e=h.charCodeAt(R),P=1473<=e&&e<=1479||1488<=e&&e<=1514||1520<=e&&e<=1524,B=1569<=e&&e<=1594||1600<=e&&e<=1749;
if(P||B)O++}var s=O>h.length/2;for(var R=0;R<N.length;R+=2){var o=N[R],T=14,V="DejaVuSans";if(o==0)continue;
var H=N[R+1],x=F[H],Q=gQ.pz(r,Y,Y+o-1),U=x.NSColor;if(U==null){var U=x.MSAttributedStringColorDictionaryAttribute;
if(U==null)U=x.MSAttributedStringColorAttribute;if(U==null)U="0 0 0";else U=[U.red,U.green,U.blue].join(" ")}else if(m.mX(U)=="MSArchivedColor")U=U.dr+" "+U.dg+" "+U.db;
else if(U.NSRGB){U=U.NSRGB;U=J.Mj(U,0,U.length-1)}else if(U.NSCMYK){U=U.NSCMYK;U=J.Mj(U,0,U.length-1);
U=U.split(" ").map(parseFloat);var I=1-U[0],l=1-U[1],p=1-U[2],j=1-U[3];U=I*j+" "+l*j+" "+p*j}else if(U.NSWhite){U="1 1 1"}U=U.split(" ");
Q.AY.FillColor={Type:1,Values:[1,parseFloat(U[0]),parseFloat(U[1]),parseFloat(U[2])]};var E=x.MSAttributedStringFontAttribute;
if(x.NSFont){T=x.NSFont.NSSize;V=x.NSFont.NSName}else if(E){if(E.attributes){E=E.attributes;T=E.size;
V=E.name}else{var _=E.NSFontDescriptorAttributes;if(_==null)_=E.UIFontDescriptorAttributes;E=_;T=E.NSFontSizeAttribute;
V=E.NSFontNameAttribute}if(V==null)V="DejaVuSans"}var D=Math.max(D,T);Q.AY.FontSize=Math.round(T);gQ.dV(Q,V);
var f=x.NSKern;if(f==null)f=x.kerning;if(f!=null)Q.AY.Tracking=Math.round(1e3*f/T);if(x.NSUnderline!=null)Q.AY.Underline=x.NSUnderline>0;
var S=x.NSStrikethrough;if(S==null)S=x.strikethroughStyle;if(S!=null)Q.AY.Strikethrough=S>0;if(x.MSAttributedStringTextTransformAttribute==1)Q.AY.FontCaps=2;
var L=x.NSParagraphStyle;if(L==null)L=x.paragraphStyle;if(L){var y=L.paragraphSpacing;if(y!=null){Q.hS.SpaceAfter=y}var $=L.NSAlignment;
if($==null)$=L.alignment;if($!=null){var Z=0;if(!1){}else if($==1)Z=1;else if($==2)Z=2;else if($==4)Z=0;
else{Z=$;console.log("unknown align",$)}if(s&&Z<2)Z=1-Z;Q.hS.Justification=Z}var i=L.NSMinLineHeight;
if(i==null)i=L.minimumLineHeight;if(i!=null){Q.AY.AutoLeading=!1;Q.AY.Leading=i}}Q.hS._Direction=s?1:0;
gQ.sW(r,Y,Y+o,Q);Y+=o}return D};j6.atu=function(r,N,F,h,m,O,e){var P=j6,B=JSON.parse(an.default),s=!1;
for(var R=0;R<an.order.length;R++)B[an.NR[R]]={t:"VlLs",v:[]};var Y=F.fills,D=P.pP(r,Y,h,m,O,N);for(var c=0;
c<2;c++){var o=F[["shadows","innerShadows"][c]];if(o==null)continue;var H=["DrSh","IrSh"][c],x=an.NR[an.order.indexOf(H)];
for(var R=0;R<o.length;R++){var Q=o[R];if(!Q.isEnabled)continue;if(Q.contextSettings.opacity==0||Q.color.alpha==0)continue;
var U=JSON.parse(an.O7[an.order.indexOf(H)]);B[x].v.unshift({t:"Objc",v:U});s=!0;U.Clr.v=P.AA(Q.color);
U.blur.v.val=Math.round(Q.blurRadius/m.zf());var I=m.clone();I.HG=I.SS=0;I.iL();var l=I.eS(new gS(Q.offsetX,Q.offsetY)),p=Math.sqrt(l.x*l.x+l.y*l.y);
U.Dstn.v.val=Math.round(p);U.lagl.v.val=Math.round(Math.atan2(l.y,-l.x)*(180/Math.PI));if(U.layerConceals)U.layerConceals.v=D.length!=0;
P.t6(Q,U)}}var j=F.borders;if(j!=null&&(D.length==0||F.blur==null||!F.blur.isEnabled))for(var R=0;R<j.length;
R++){var T=j[R];if(!T.isEnabled)continue;var U=JSON.parse(an.O7[an.order.indexOf("FrFX")]),x=an.NR[an.order.indexOf("FrFX")];
B[x].v.unshift({t:"Objc",v:U});s=!0;U.Clr.v=P.AA(T.color);if(T.fillType!=0&&T.gradient){var V=P.dT(T.gradient,h,m,O),E=["Type","Angl","Ofst","Scl"];
for(var R=0;R<E.length;R++)U[E[R]]=V[E[R]];U.Grad.v=V.Grad.v;U.PntT.v.FrFl="GrFl"}U.Sz.v.val=T.thickness/m.zf();
U.Styl.v.FStl=["CtrF","InsF","OutF"][T.position];P.t6(T,U)}for(var R=e?1:0;R<D.length;R++){var _=D[R],x=an.NR[an.order.indexOf(_.type)];
B[x].v.unshift(_.h);s=!0}return s?B:null};j6.pP=function(r,N,F,h,m,O,e){if(N==null)return[];var P=j6,B=[];
for(var R=0;R<N.length;R++)if(N[R].isEnabled)B.push(N[R]);N=B;var s=[];for(var R=0;R<N.length;R++){var Y=N[R],D=null,c=null;
if(Y.fillType==0){D="SoFi";var o=JSON.parse(an.O7[an.order.indexOf("SoFi")]);c={t:"Objc",v:o};c.v.Clr.v=P.AA(Y.color)}else if(Y.fillType==1){D="GrFl";
c={t:"Objc",v:P.dT(Y.gradient,F,h,m)}}else if(Y.fillType==4&&Y.image!=null){var H=Y.image;if(e)H=e.value;
var x=bA.Cn(H.bdata.buffer);if(x!=null&&x!="pdf"&&x!="eps"){var Q,T=0,V=0,E=0;if(O.HK[H.key])Q=O.HK[H.key];
else{var U=bA.yU(x).V9(H.bdata)[0],I=U.I0.clone();Q={};Q.id=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f";Q.name="someImage";
Q.jB=[new Uint8Array(U.data),I];O.yt(Q);O.HK[H.key]=Q}var l=Q.jB[1],o=JSON.parse(an.O7[an.order.indexOf("patternFill")]);
D="patternFill";c={t:"Objc",v:o};var p=Y.patternFillType,j=Y.patternTileScale;o.Algn.v=!0;o.Ptrn.v.Idnt.v=Q.id;
if(p==0){T=j*l.e/Math.min(l.e,l.n);V=-h.HG;E=-h.SS}else{T=Math.max(F.e/l.e,F.n/l.n);V=-h.HG-(l.e*T-F.e)/2;
E=-h.SS-(l.n*T-F.n)/2}o.Scl.v.val=100*T*(1/h.zf());o.phase.v.Hrzn.v=Math.round(V/h.zf());o.phase.v.Vrtc.v=Math.round(E/h.zf())}}else if(Y.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",Y.fillType);
if(D!=null){P.t6(Y,c.v);s.push({type:D,h:c})}}return s};j6.aag=function(r){var N=j6,F=new fE(0,0,1,1);
r=r.slice(0);while(!0){var h=!1;for(var R=0;R<r.length-1;R++){var m=r[R],O=r[R+1],e=null,P=m.contextSettings;
if(m.fillType==0&&(P==null||P.opacity==1&&P.blendMode==0)&&m.color.alpha==1){var B="norm",s=1,P=O.contextSettings;
if(P){s=P.opacity;B=g6.lF(N.$F[P.blendMode])}if(O.fillType==0){e=JSON.parse(JSON.stringify(O));N.RJ(e.color,m.color,e.color,F,B,s)}if(O.fillType==1){e=JSON.parse(JSON.stringify(O));
var Y=e.gradient.stops;for(var D=0;D<Y.length;D++)N.RJ(Y[D].color,m.color,Y[D].color,F,B,s)}if(e!=null&&e.contextSettings){var P=e.contextSettings;
P.opacity=1;P.blendMode=0}}if(e!=null){r.splice(R,0,e);h=!0;break}}if(!h||r.length<2)break}return r};
j6.RJ=function(r,N,F,h,m,O){var e=j6,P=w.B(4);e.qH(r,P);var B=w.B(4);e.qH(N,B);w.i.vw(m,P,h,B,h,h,O);
e.arN(B,F)};j6.qH=function(r,N){N[0]=255*r.red;N[1]=255*r.green;N[2]=255*r.blue;N[3]=255*r.alpha};j6.arN=function(r,N){N.red=r[0]/255;
N.green=r[1]/255;N.blue=r[2]/255;N.alpha=r[3]/255};j6.qP=function(r,N){r=r.clone();r.Rl=24;r.a6("Mask by "+r.getName());
N.g.push(r);r.add.lsct=jJ.Ra;r.add.lyid=N.V6();delete r.add.lmfx;delete r.add.SoCo;delete r.add.GdFl;
delete r.add.PtFl;delete r.add.iOpa;if(r.add.vmsk)r.add.vmsk.ug=!0;r.dD(N);if((r.Rl&16)==16)r.Rl-=16;
if((r.Rl&2)==2)r.Rl-=2;r.$j="pass";r.opacity=255};j6.$F="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
j6.dT=function(r,N,F,h){F=F.clone();F.iL();F.HG=F.SS=0;var m=F.zf(),c=0,o=0;F.scale(1/m,1/m);var O=j6,e=JSON.parse(an.O7[an.order.indexOf("GrFl")]),P=e.Grad.v;
P.Intr.v=0;if(r==null)return e;var B=r.gradientType,s=O.UY(r.from),Y=O.UY(r.to);s.offset(-.5,-.5);Y.offset(-.5,-.5);
s=F.eS(s);Y=F.eS(Y);var D=Math.atan2(-(Y.y-s.y),Y.x-s.x);e.Type.v.GrdT=["Lnr","Rdl","Angl"][B];e.Scl.v.val=100*gS.Mz(s,Y);
if(B==0){e.Angl.v.val=180/Math.PI*D;e.Scl.v.val=100*gS.Mz(s,Y);c=(s.x+Y.x)/2;o=(s.y+Y.y)/2}if(B==1){e.Scl.v.val=200*gS.Mz(s,Y);
c=s.x;o=s.y}if(B==2){e.Angl.v.val=180/Math.PI*(D-Math.PI/2)}var H=e.Ofst.v;H.Hrzn.v.val=c*100;H.Vrtc.v.val=o*100;
var x=[];for(var R=0;R<r.stops.length;R++){var Q=r.stops[R],U=Q.color;x.push([Q.position,U?[U.red,U.green,U.blue]:[0,0,0],U.alpha])}w.X.y2(x,P);
return e};j6.t6=function(r,N){var F=j6,h=1,m=r.contextSettings;if(m!=null){N.Md.v.BlnM=F.$F[m.blendMode];
h*=m.opacity}else N.Md.v.BlnM=F.$F[0];N.enab.v=r.isEnabled;if(N.uglg!=null)N.uglg.v=!1;if(r.color!=null)h*=r.color.alpha;
N.Opct.v.val=Math.round(h*100)};j6.AA=function(r){return w.X.QA(r?{Z:r.red*255,z:r.green*255,J:r.blue*255}:{Z:0,z:0,J:0})};
j6.f6=function(r,N,F){var h=j6,m=[{type:6},{type:8,all:0}];for(var O=0;O<r.length;O++){var e=r[O],P=e.booleanOperation,B=0,s=e._class,x=!1;
if(s=="group"||s=="text"||s=="symbolInstance"||s=="slice"){console.log(s+" inside ShapeGroup");continue}if(P==-1)B=0;
else if(P==0)B=1;else if(P==1)B=2;else if(P==2)B=3;else if(P==3)B=0;if(O==0)B=1;var Y=j6.TQ(e.frame),D=h.ef(e,N),c=e.path?e.path:e,o=[{type:0,length:0,r5:B,sd:2,OD:0,tL:0}],H=c.points;
for(var R=0;R<H.length;R++){var Q=H[R],U=h.UY(Q.curveTo),I=h.UY(Q.point),l=h.UY(Q.curveFrom);x=x||Q.hasCurveFrom&&!l.cj(I)||Q.hasCurveTo&&!U.cj(I)}var p=[];
if(!x){var j=[],j_=H.length;if(j_==0)continue;for(var R=0;R<j_;R++){p[R]=H[R].cornerRadius;var Q=h.UY(H[R].point);
j.push(Q.x,Q.y)}D.scale(1/Y.e,1/Y.n);D.iL();w.p.A(j,D,j);o=w.H.yN.s_(j,p).slice(2);o[0].r5=B}else{var T=H.length;
o[0].length=T;for(var R=0;R<T;R++){var Q=H[R],V=Q.curveMode,E=h.UY(Q.point);o[1+R]={type:V==2||V==4?1:2,Q$:Q.hasCurveTo?h.UY(Q.curveTo):E.clone(),F:E,lW:Q.hasCurveFrom?h.UY(Q.curveFrom):E.clone()}}D.scale(1/Y.e,1/Y.n);
D.iL();w.H.nY(o,D);var p=[];for(var R=0;R<T;R++){var Q=H[R],V=Q.curveMode,_=Q.cornerRadius;if(V==1&&_!=0)p.push(_);
else p.push(0)}}if(!c.isClosed)for(var R=0;R<o.length;R++)o[R].type+=3;m=m.concat(o);var f=w.UI.LQ(),S=h.mX(e);
if(D.J==0&&D.KM==0){var L=D.HG,y=D.SS,$=L+D.O$,Z=y+D.Bv,i=[L,y,$,Z];if(S=="rectangle"&&p.length==4)f=w.UI.Jb(2,i,p);
if(S=="oval")f=w.UI.Jb(5,i)}F.push(f)}return m};j6.ef=function(r,N){var F=N.clone(),h=r.frame?j6.TQ(r.frame):null;
if(h)F.translate(-h.x-h.e/2,-h.y-h.n/2);if(r.isFlippedHorizontal)F.scale(-1,1);if(r.isFlippedVertical)F.scale(1,-1);
F.rotate(-r.rotation*(Math.PI/180));if(h)F.translate(h.e/2,h.n/2);return F};j6.UY=function(r){r=r.slice(1,r.length-1).split(",");
return new gS(parseFloat(r[0]),parseFloat(r[1]))};j6.TQ=function(r){return new fE(r.x,r.y,r.width,r.height)};
j6.lP=function(r){return{_class:"rect",constrainProportions:!1,x:r.x,y:r.y,width:r.e,height:r.n}};function gE(){}gE.ep=function(r,N){var F=Date.now(),h=gE,m=UZIP.parse(r),O=JSON.parse(J.H3(m.manifest)),e=JSON.parse(J.H3(m["resources/graphics/graphicContent.agc"])).resources,P=[],B=[],s=O.children;
for(var R=0;R<s.length;R++){var Y=s[R];if(Y.name=="artwork"){var D=Y.children;for(var c=0;c<D.length;
c++){var o=D[c],H=JSON.parse(J.H3(m["artwork/"+o.path+"/graphics/graphicContent.agc"])),x=H.children;
if(x.length==0){}else if(x.length==1){if(o["uxdesign#bounds"]){o._node=x[0];P.push(o)}}else{var Q=x[0],U=Q.transform,I=Q.shape;
if(I==null)I={x:0,y:0,width:1e3,height:1e3};if(I.type=="path"){var l=w.p.e0(Typr.U.SVGToPath(I.path).crds);
I={x:l.x,y:l.y,width:l.e,height:l.n}}I=JSON.parse(JSON.stringify(I));if(U){I.x+=U.tx;I.y+=U.ty}o["uxdesign#bounds"]=I;
o._node={type:"artboard",artboard:{children:x}};B.push(o)}}}}if(P.length==0)P=B;var p=[],j=new fE;for(var R=0;
R<P.length;R++){var o=P[R],T=j6.TQ(o["uxdesign#bounds"]);p.push(T);j=j.fD(T)}var V=j6.Pp(j,8192*8192);
N.hP=!0;N.e=Math.round(j.e/V);N.n=Math.round(j.n/V);N.buffer=w.B(N.e*N.n*4);N.c3(P.length);var E=new hc(V,0,0,V,j.x,j.y);
N.HK={};for(var R=0;R<P.length;R++){var o=P[R],T=j6.TQ(o["uxdesign#bounds"]),_=o._node,f=E.clone(),S=T.clone(),L=f.zf();
f.translate(-T.x,-T.y);S.x=-Math.floor(f.HG/L);S.y=-Math.floor(f.SS/L);S.e=Math.floor(S.e/L);S.n=Math.floor(S.n/L);
f.translate(T.x,T.y);gE.DJ(_,N,f,e,m,S);var y=N.g[N.g.length-1];y.a6(o.name);y.xz(S);if(R!=P.length-1)y.add.lsct=jJ.ab}delete N.HK};
gE.hA=function(r){if(r==null)return new hc;return new hc(r.a,r.b,r.c,r.d,r.tx,r.ty)};gE.DJ=function(r,N,F,h,m,O){var e=gE,P=r.type,B=r[P],s=r.style,Y=e.hA(r.transform),H,x="none",Q,U="none",I,l;
Y.iL();var D=F.clone();D.concat(Y);var c=N.lc(),o=r.name;c.a6(o?o.slice(0,250):"Layer");if(r.visible!=null)c.Hb(r.visible);
if(s){H=s.stroke;x=H?H.type:"none";Q=s.fill;U=Q?Q.type:"none";I=s.filters;l=s.clipPath;if(l&&h.clipPaths[l.ref])l=h.clipPaths[l.ref].children;
else l=null;if(s.opacity)c.opacity=Math.round(255*s.opacity);if(U=="solid"&&Q.color.alpha)c.opacity=Math.round(c.opacity*Q.color.alpha);
if(I){c.add.lmfx=e.a3h(I);for(var R=0;R<I.length;R++)if(I[R].type=="uxdesign#blur"){var p=I[R],j=p.params,T=j.brightnessAmount;
if(T==null)T=0;T=Math.abs(T/100);if((p.visible==null||p.visible==!0)&&j.backgroundEffect)c.opacity=Math.round(c.opacity*(T+(1-T)*j.fillOpacity))}}if(U=="pattern"&&Q.pattern.meta.ux.uid=="")U="none"}if(l==null&&r.meta&&r.meta.ux&&r.meta.ux.clipPathResources)l=r.meta.ux.clipPathResources.children;
if(P=="artboard"||P=="group"){if(l){var V=l[0],E=V.shape,_=E!=null&&E.type=="rect"&&E.width*E.height>1e6;
if(V.type!="text"&&!_){if(E){var Y=e.hA(V.transform);Y.iL();var f=D.clone();f.concat(Y);c.add.vmsk=new C.Ug;
c.add.vmsk.Y=e.f6(E);f=f.clone();f.iL();w.H.nY(c.add.vmsk.Y,f);c.dD(N)}}else if(!_)alert("Clipping by text has been ignored")}c.add.lsct=jJ.Ra;
c.$j="pass";c.Rl=24;if(r.visible!=null)c.Hb(r.visible);N.g.push(N.Dz());var S=B.children,L=Q;if(L)L=L.color;
if(L)L=L.value;if(Q){if(P=="artboard"&&U=="solid"){c.xz(new fE(0,0,10,10));c.add.artb.Clr={t:"Objc",v:w.X.QA({Z:L.r,z:L.g,J:L.b})};
c.add.artb.artboardBackgroundType={t:"long",v:4}}else{var y=N.lc();y.a6("BACKGROUND");y.Rl|=16;y.add.vstk=JSON.parse(JSON.stringify(an.mr.default));
y.add.vmsk=new C.Ug;y.add.vmsk.Y=e.f6({type:"rect",x:O.x,y:O.y,width:O.e,height:O.n});e.zP(Q,U,D,O,O,y,N,h,m);
y.dD(N);N.g.push(y)}}for(var R=0;R<S.length;R++){gE.DJ(S[R],N,D,h,m,O)}}else if(P=="shape"&&r.shape.type=="rect"&&(r.shape.r==null||r.shape.r==0)&&U=="pattern"&&Math.abs(r.shape.width/r.shape.height-Q.pattern.width/Q.pattern.height)<.01){var $=Q.pattern,Z=$.meta.ux,i=Z.uid,b=m["resources/"+i];
if(b==null){console.log($);return}var G=N.yk(b,c.getName(),0,0);G.Rl=c.Rl;G.opacity=c.opacity;c=G;var g=w.p.fc(new fE(0,0,$.width,$.height)).t,u=new hc;
u.scale($.width/r.shape.width,$.height/r.shape.height);if(Z.offsetX)u.translate(-Z.offsetX*$.width,0);
if(Z.offsetY)u.translate(0,-Z.offsetY*$.height);D.concat(u);D.iL();w.p.A(g,D,g);c.add.SoLd.Trnf=z.Q.JE(g);
c.add.SoLd.nonAffineTransform=z.Q.JE(g);c.XY(N,!1)}else if(P=="shape"){c.Rl|=16;c.add.vstk=JSON.parse(JSON.stringify(an.mr.default));
c.add.vmsk=new C.Ug;c.add.vmsk.Y=e.f6(B);var A=w.H.KX(c.add.vmsk.Y,null),f=D.clone();f.iL();w.H.nY(c.add.vmsk.Y,f);
var a=w.H.KX(c.add.vmsk.Y,null);if(x=="none"){}else{var d=H.color.value,K,n;K="SoFi";var t=JSON.parse(an.O7[an.order.indexOf("SoFi")]);
n={t:"Objc",v:t};n.v.Clr.v=w.X.QA({Z:d.r,z:d.g,J:d.b});var X=H.align,aK=H.cap;if(X==null)X="center";
var fg=c.add.vstk;fg.strokeEnabled.v=!0;fg.strokeStyleLineWidth.v.val=H.width;if(X)fg.strokeStyleLineAlignment.v.strokeStyleLineAlignment=an.mr.bj[["inside","center","outside"].indexOf(X)];
if(aK)fg.strokeStyleLineCapType.v.strokeStyleLineCapType=an.mr._6[["butt","round","square"].indexOf(aK)];
var k=["SoFi","GrFl","patternFill"].indexOf(K),hG=[an.eA,an.ZE,an.bf][k];fg.strokeStyleContent.v={classID:an.mr.gS[0]};
var eE=fg.strokeStyleContent.v={classID:an.mr.gS[k]};for(var R=0;R<hG.length;R++)eE[hG[R]]=n.v[hG[R]]}if(I)for(var R=0;
R<I.length;R++)if(I[R].type=="uxdesign#blur"&&I[R].visible){var hW=I[R];c.add.vmsk.J_=hW.params.blurAmount}e.zP(Q,U,D,A,a,c,N,h,m);
c.dD(N)}else if(P=="text"&&r.text){var hh=r.text,hI=hh.frame,db=s.font,by=s.textAttributes,Y=D.clone(),bp=0;
Y.iL();c.add.lnsr="rend";c.add.TySh=gQ.WW(0,0);c.add.TySh.A2=new fE(0,0,100,100);c.add.TySh.A=Y;var jM=c.add.TySh.sl,fP=hh.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
gQ.BY(jM,0,fP);if(fP!=""){var hB=gQ.pz(jM,0,1),iu=db.postscriptName;if(iu==null)iu=db.family;gQ.dV(hB,iu);
hB.AY.FontSize=Math.round(db.size);if(Q){var d=Q.color.value;hB.AY.FillColor={Type:1,Values:[1,d.r/255,d.g/255,d.b/255]}}if(by){if(by.paragraphAlign)hB.hS.Justification=["left","right","center"].indexOf(by.paragraphAlign);
if(by.letterSpacing)hB.AY.Tracking=Math.round(by.letterSpacing);if(by.lineHeight){hB.AY.AutoLeading=!1;
hB.AY.Leading=Math.round(by.lineHeight)}}gQ.sW(jM,0,fP.length,hB)}var be=r.meta.ux.rangedStyles;if(be)for(var R=0;
R<be.length;R++){var B=be[R],ij=Math.min(B.length,fP.length-bp),hB=gQ.pz(jM,bp,bp+ij),iu=B.postscriptName;
if(iu==null)iu=B.family;if(iu!=null)gQ.dV(hB,iu);var fT=B.textScript,ei=B.underline,bz=B.fontSize,p=B.fill,aM=B.textTransform;
if(fT&&fT!="none")hB.AY.FontBaseline=fT=="superscript"?1:2;if(ei!=null)hB.AY.Underline=ei;if(bz!=null)hB.AY.FontSize=Math.round(bz);
if(aM!=null)hB.AY.FontCaps=aM=="uppercase"?2:0;if(p!=null){var hw=p.value;hB.AY.FillColor={Type:1,Values:[1,(hw>>>16&255)/255,(hw>>>8&255)/255,(hw>>>0&255)/255]}}gQ.sW(jM,bp,bp+ij,hB);
bp+=ij}if(hI.type=="area"||hI.type=="autoHeight"){var hx=hI.width,fm=hI.height;gQ.l7(jM,1);gQ.q2(jM,[0,0,hx,fm!=null?fm:hx*2])}}else console.log(P,r);
N.g.push(c)};gE.f6=function(r){var N=r.type,F=[{type:6},{type:8,all:0}];if(N=="rect"){var h=r.r,m=r.x,O=r.y,e=r.width,P=r.height;
F=w.H.yN.Rect(m,O,e,P,h?h:0)}else if(N=="circle"){var h=r.r;F=w.H.yN.b4(r.cx-h,r.cy-h,2*h,2*h)}else if(N=="ellipse"){var B=r.rx,s=r.ry;
F=w.H.yN.b4(r.cx-B,r.cy-s,2*B,2*s)}else if(N=="path"||N=="compound"){var Y=Typr.U.SVGToPath(r.path);
F=w.p.nN({C:Y.cmds,t:Y.crds},!1)}else if(N=="line"){var D=r.x1,c=r.x2,o=r.y1,H=r.y2;F=w.H.yN.s_([D,o,c,H],0,!0)}else if(N=="polygon"){var x=r.points,Q=[];
for(var R=0;R<x.length;R++)Q.push(x[R].x,x[R].y);F=F.concat(w.H.yN.s_(Q,0,!1).slice(2))}else console.log(N,r);
return F};gE.a3h=function(r){var N=JSON.parse(an.default);for(var R=0;R<an.order.length;R++)N[an.NR[R]]={t:"VlLs",v:[]};
for(var R=0;R<r.length;R++){var F=r[R],h=F.type,m=F.params,O=F.visible;if(h=="dropShadow"){var e=an.NR[an.order.indexOf("DrSh")],P=JSON.parse(an.O7[an.order.indexOf("DrSh")]);
N[e].v.unshift({t:"Objc",v:P});var B=m.dropShadows;if(B.length!=1)throw"e";var s=B[R],Y=s.color,D=Y.value,c=s.dx,o=s.dy;
P.Clr.v=w.X.QA({Z:D.r,z:D.g,J:D.b});P.Opct.v.val=Math.round((Y.alpha!=null?Y.alpha:1)*100);P.uglg.v=!1;
P.enab.v=O!=null?O:!0;P.lagl.v.val=Math.round(180/Math.PI*Math.atan2(o,-c));P.Dstn.v.val=Math.round(Math.sqrt(c*c+o*o));
P.blur.v.val=Math.round(s.r*2.3)}}return N};gE.zP=function(r,N,F,h,m,O,e,P,B){var s=gE;if(N=="none"){O.add.vstk.fillEnabled.v=!1;
O.add.SoCo={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:0,z:0,J:0})}}}else{var Y,D,c;if(N=="solid"){var o=r.color.value;
Y="SoCo";D=an.eA;var H=JSON.parse(an.O7[an.order.indexOf("SoFi")]);c={t:"Objc",v:H};c.v.Clr.v=w.X.QA({Z:o.r,z:o.g,J:o.b})}else if(N=="gradient"){Y="GdFl";
D=an.ZE;var H=JSON.parse(an.O7[an.order.indexOf("GrFl")]),x=H.Grad.v,p,j,T;x.Intr.v=0;var Q=r[N],U=Q.ref?P.gradients[Q.ref]:Q.meta.ux.gradientResources,I=["linear","radial"].indexOf(U.type),l=U.stops;
H.Type.v.GrdT=["Lnr","Rdl","Angl"][I];if(I==0){var p=new gS(Q.x1,Q.y1),j=new gS(Q.x2,Q.y2);p.x=j.x+.5*(p.x-j.x);
p.y=j.y+.5*(p.y-j.y)}else{var p=new gS(Q.cx,Q.cy),j=new gS(Q.cx+Q.r,Q.cy)}T=m;if(Q.units=="objectBoundingBox"){var V=new hc(h.e,0,0,h.n,h.x,h.y);
p=V.eS(p);j=V.eS(j)}var V=s.hA(Q.transform);p=V.eS(p);j=V.eS(j);V=F.clone();V.iL();p=V.eS(p);j=V.eS(j);
w.X.zm(p,j,T,H);var E=[];for(var R=0;R<l.length;R++){var _=l[R],f=_.color,o=f.value,S=f.alpha;if(S==null)S=1;
E.push([_.offset,[o.r/255,o.g/255,o.b/255],S])}w.X.y2(E,x);c={t:"Objc",v:H}}else if(N=="pattern"){Y="PtFl";
D=an.bf;var H=JSON.parse(an.O7[an.order.indexOf("patternFill")]),b,d=1,K=0,n=0,t=1;c={t:"Objc",v:H};
var L=r[N],y=L.meta.ux,$=y.uid,Z=B["resources/"+$].buffer,i=bA.Cn(Z);if(e.HK[$])b=e.HK[$];else{var G=new fE(0,0,L.width,L.height),g;
if(G.lX()||i==null){G=new fE(0,0,1,1);g=new ArrayBuffer(4)}else{var u=bA.yU(i);if(u.mU){var A=new gp;
u.V9(Z,A);g=A.G9().buffer}else{try{var a=u.V9(Z)[0];g=a.data;G=a.I0}catch(ab){g=new ArrayBuffer(G.W()*4)}}}b={};
b.id=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f";b.name="someImage";b.jB=[new Uint8Array(g),G];e.yt(b);e.HK[$]=b}var G=b.jB[1];
H.Algn.v=!0;H.Ptrn.v.Idnt.v=b.id;if(y.scaleBehavior=="cover"){d=t*Math.max(m.e/G.e,m.n/G.n);var X=d;
if(y.scale!=null)d*=y.scale;K=m.x-(G.e*d-m.e)/2;n=m.y-(G.n*d-m.n)/2;if(y.offsetX!=null)K+=y.offsetX*G.e*X;
if(y.offsetY!=null)n+=y.offsetY*G.n*X}else if(y.scaleBehavior=="fill"){d=t*Math.min(m.e,m.n)/Math.max(G.e,G.n);
K=m.x-(G.e*d-m.e)/2;n=m.y-(G.n*d-m.n)/2}else throw"Unknown scale behaviour";H.Scl.v.val=100*d;H.phase.v.Hrzn.v=Math.round(K);
H.phase.v.Vrtc.v=Math.round(n)}else console.log(N);if(Y!=null){O.add[Y]={classID:"null"};for(var R=0;
R<D.length;R++){var aK=D[R];O.add[Y][aK]=c.v[aK]}}}};function a5(){}a5.ep=function(r,N,F){r=new Uint8Array(r);
var h=J.H3(r,0,r.length),m=new DOMParser,O=m.parseFromString(h,"image/svg+xml"),e=O.getElementsByTagName("style")[0],o=1;
if(e)e=Typr.U.SVG.cssMap(e.textContent);else e={};var P=O.firstChild;while(P.tagName!="svg")P=P.nextSibling;
var B=new fE(0,0,100,100),s=P.getAttribute("viewBox"),Y=P.getAttribute("width"),D=P.getAttribute("height");
if(s){var c=a5.XT(s);B.x=c[0];B.y=c[1];B.e=c[2];B.n=c[3]}else if(Y!=null||D!=null){B.e=Y!=null?parseFloat(Y):parseFloat(D);
B.n=D!=null?parseFloat(D):parseFloat(Y)}B=w.p.Bj(B);while(F&&Math.max(B.e*o,B.n*o)<Math.max(F[0],F[1]))o++;
while(F==null&&Math.max(B.e,B.n)*o>8192)o*=.5;N.hP=!0;N.e=~~(B.e*o);N.n=~~(B.n*o);N.buffer=w.B(N.e*N.n*4);
var H=new hc(o,0,0,o,-B.x*o,-B.y*o),x={ks:a5.vp(P),a7Q:e,Xy:0};a5.WR(O,P.children,N,H,x,new hc,0);if(N.g.length==0){var Q=N.lc();
Q.a6("Layer");N.g.push(Q)}};a5.XT=function(r){var N=" ";if(r.indexOf(",")!=-1)N=",";return r.split(N).map(parseFloat)};
a5.WR=function(r,N,F,h,m,O,e){var P=a5,B=["display","opacity","fill-opacity","filter"];for(var s=0;s<N.length;
s++){var Y=N[s],D=Y.tagName,c=Y.getAttribute("id"),o=P.vp(Y,m.a7Q),x=13,p=1,V="clip-path",E=null,b=0;
for(var H in m.ks)if(B.indexOf(H)==-1&&o[H]==null)o[H]=m.ks[H];if(o["font-size"])x=P.zZ(o["font-size"],x);
if(Y.getAttribute("dx"))h.HG+=P.zZ(Y.getAttribute("dx"),x);if(Y.getAttribute("dy"))h.SS+=P.zZ(Y.getAttribute("dy"),x);
var Q=P.df(Y);Q.concat(h);var U=Y.getAttribute("visibility"),I=o.display,l=F.lc();if(U=="hidden"||I=="none")l.Hb(!1);
l.a6(c!=null?c.split(":::")[0]:"Layer");if(o.opacity)p*=parseFloat(o.opacity);if(o["fill-opacity"]){var j=parseFloat(o["fill-opacity"]);
if(j!=0)p*=j}l.opacity=Math.round(255*p);if(o["mix-blend-mode"]){var T=g6.a0F.indexOf(o["mix-blend-mode"]);
if(T!=-1)l.$j=g6.Ry[T]}if(Y.getAttribute(V)==null)V="mask";if(Y.getAttribute(V)!=null){var _=Y.getAttribute(V);
_=_.slice(4,_.length-1);var f=r.getElementById(_.slice(1));if(f){var S=f.children;E=F.lc();E.a6("Clip-Path"+(c?": "+c:""));
E.add.lsct=e<2?jJ.Ra:jJ.ab;E.$j="pass";E.Rl=24;var L=E.add.vmsk=new C.Ug;F.g.push(F.Dz());var y=[];if(f.getAttribute(V)){var _=f.getAttribute(V);
_=_.slice(4,_.length-1);y=r.getElementById(_.slice(1)).children}for(var R=0;R<S.length;R++){var $=P.df(S[R]);
$.concat(Q);var Z=P.f6(r,S[R],!1).slice(2);w.H.nY(Z,$);L.Y=L.Y.concat(Z)}for(var R=0;R<y.length;R++){var $=P.df(S[R]);
$.concat(Q);var Z=P.f6(r,y[R],!1).slice(2);for(var i=0;i<Z.length;i++)if(Z[R].r5!=null)Z[R].r5=3;w.H.nY(Z,$);
L.Y=L.Y.concat(Z)}E.jq();E.dD();e++}}if(o.filter&&o.filter!="none"){var G=o.filter,u,A,a,K=!1,n=!1,t=!1;
G=G.slice(5,G.length-1);var g=r.getElementById(G),d=[0,0,0,.5],X=z.Q.zf(Q);if(g)for(var R=0;R<g.children.length;
R++){var aK=g.children[R];if(aK.tagName=="feGaussianBlur"){K=!0;u=parseFloat(aK.getAttribute("stdDeviation"))*X}if(aK.tagName=="feColorMatrix"){var fg=aK.getAttribute("values").split(" ").map(parseFloat);
d=[fg[4],fg[9],fg[14],fg[18]]}if(aK.tagName=="feComposite"){t=!0}if(aK.tagName=="feOffset"){n=!0;var k=aK.getAttribute("dx"),hG=aK.getAttribute("dy");
A=parseFloat(k?k:0)*X;a=parseFloat(hG?hG:0)*X}}if(t||n){var eE=t?"IrSh":"DrSh";if(eE=="IrSh"){l.add.iOpa=0}var hW=JSON.parse(an.O7[an.order.indexOf(eE)]);
hW.blur.v.val=Math.round(u*2.4);var hh=Math.sqrt(A*A+a*a);hW.uglg.v=!1;hW.Dstn.v.val=Math.round(hh);
hW.lagl.v.val=Math.round(Math.atan2(a,-A)*(180/Math.PI));hW.Clr.v=w.X.QA({Z:d[0]*255,z:d[1]*255,J:d[2]*255});
hW.Opct.v.val=Math.round(d[3]*100);P.ZX(l,an.NR[an.order.indexOf(eE)],hW)}else if(K)b=u}if(D=="g"||D=="a"||D=="svg"||D=="switch"||(D=="text"||D=="textPath")&&Y.children.length>0){if(D=="text")O=P.fq(Y,O);
var hI=Y.getAttribute("viewBox"),db=Y.getAttribute("width"),by=Y.getAttribute("height");if(hI&&db&&by){var jM=a5.XT(hI),fP=P.fq(Y),hB=new hc;
hB.translate(-jM[0],-jM[1]);hB.scale(parseFloat(db)/jM[2],parseFloat(by)/jM[3]);hB.translate(fP.HG,fP.SS);
hB.concat(Q);Q=hB}var iu=Y.children.length,be=m.ks;m.ks=o;var bp=m.Xy;m.Xy=Math.max(m.Xy,b);var ij=D!="text"&&D!="textPath"||iu>1;
if(ij){var fT=l.gv();l.add.lsct=e<2&&fT&&(c==null||!c.endsWith(":::"))?jJ.Ra:jJ.ab;l.$j="pass";l.Rl=24;
l.Hb(fT);F.g.push(F.Dz())}P.WR(r,Y.children,F,Q,m,O,e+1);if(ij)F.g.push(l);else{var ei=F.g[F.g.length-1];
ei.opacity=l.opacity;ei.$j=l.$j}m.Xy=bp;m.ks=be}else if(D=="use"){var hB=P.fq(Y);hB.concat(Q);var bz=P.CS(Y),aM=r.getElementById(bz.slice(1));
if(aM){var be=m.ks;m.ks=o;if(o.filter)aM.setAttribute("filter",o.filter);P.WR(r,[aM],F,hB,m,O,e+1);m.ks=be}}else if(D=="path"||D=="rect"||D=="circle"||D=="ellipse"||D=="polygon"||D=="polyline"||D=="line"){l.Rl|=16;
l.add.vmsk=new C.Ug;l.add.vstk=JSON.parse(JSON.stringify(an.mr.default));l.add.vstk.strokeEnabled.v=!1;
var hw=l.add.vstk,L=l.add.vmsk,hx=o.fill,fm=hx=="none"||o["fill-opacity"]&&parseFloat(o["fill-opacity"])==0;
L.Y=P.f6(r,Y,o["fill-rule"]=="evenodd",fm);w.H.nY(L.Y,Q);var dE=w.H.KX(L.Y),gD=o.stroke,c2=o["stroke-width"],bQ=o["stroke-dasharray"],f9=o["stroke-linejoin"],jR=o["stroke-linecap"],gP=o["paint-order"];
if(gD==null||gD=="none"||gD=="null"){}else{var jh=P.s1(r,gD,Q,dE),k6=["SoFi","GrFl","patternFill"].indexOf(jh.type),eZ=jh.h.v.Opct.v,jG=1;
if(eZ.val!=100){l.opacity=Math.round(l.opacity*eZ.val/100);eZ.val=100}var b5=[an.eA,an.ZE,an.bf][k6],fG=hw.strokeStyleContent.v={classID:an.mr.gS[k6]};
for(var R=0;R<b5.length;R++)fG[b5[R]]=jh.h.v[b5[R]];c2=c2?parseFloat(c2):1;if(gP&&gP.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){jG=2;
c2/=2}hw.strokeEnabled.v=!0;if(f9)hw.strokeStyleLineJoinType.v.strokeStyleLineJoinType=an.mr.join[["miter","round","bevel"].indexOf(f9)];
if(jR)hw.strokeStyleLineCapType.v.strokeStyleLineCapType=an.mr._6[["butt","round","square"].indexOf(jR)];
hw.strokeStyleLineWidth.v.val=c2*z.Q.zf(Q);hw.strokeStyleLineAlignment.v.strokeStyleLineAlignment=an.mr.bj[jG];
hw.strokeStyleOpacity.v.val=100*(o["stroke-opacity"]?parseFloat(o["stroke-opacity"]):1);if(bQ!=null&&bQ!="none")hw.strokeStyleLineDashSet.v=iL.IH(bQ.split(",").map(parseFloat),1/c2)}if(fm){l.add.vstk.fillEnabled.v=!1;
l.add.SoCo={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:0,z:0,J:0})}}}else{var jh=P.s1(r,hx,Q,dE),i_=null,aY=null;
if(jh.type=="SoFi"){i_="SoCo";aY=an.eA}if(jh.type=="GrFl"){i_="GdFl";aY=an.ZE}if(jh.type=="patternFill"){i_="PtFl";
aY=an.bf}if(i_!=null){var eZ=jh.h.v.Opct.v;if(eZ.val!=100){l.opacity=Math.round(l.opacity*eZ.val/100);
eZ.val=100}l.add[i_]={classID:"null"};for(var R=0;R<aY.length;R++){var H=aY[R];l.add[i_][H]=jh.h.v[H]}}}var jk=Math.max(b,m.Xy);
if(jk!=0)l.add.vmsk.J_=jk;l.jq();l.dD(F);F.g.push(l)}else if((D=="text"||D=="tspan")&&Y.textContent!=""){O=P.fq(Y,O);
var hB=O.clone(),a=0;hB.concat(Q);if(Y.children.length>0){var jr=P.vp(Y.children[0],m.a7Q);for(var H in jr)if(B.indexOf(H)==-1)o[H]=jr[H]}var hV=o["xml:space"],ds=Y.textContent;
if(hV=="preserve")ds=ds.replace(/\t/g," ").replace(/\n/g," ");if(c==null)l.a6(ds);l.add.lnsr="rend";
l.add.TySh=gQ.WW(0,0);l.add.TySh.A2=new fE(0,0,100,100);l.add.TySh.A=hB.clone();var jA=l.add.TySh.sl;
gQ.BY(jA,0,ds);var hx=o.fill,eI=o["font-weight"],hH=o["font-family"],bO=o["text-decoration"],gD=o.stroke,c2=o["stroke-width"],k7=o["dominant-baseline"];
if(k7=="text-before-edge")a=x;else if(k7=="middle")a=x/2;else if(k7=="hanging")a=x;if(a!=0)l.add.TySh.A.translate(0,a);
var dO=gQ.pz(jA,0,1);if(hx&&hx!="none"){var d=CSS.AA(hx);dO.AY.FillColor={Type:1,Values:[1,d.Z/255,d.z/255,d.J/255]}}if(bO=="underline")dO.AY.Underline=!0;
dO.AY.FontSize=Math.round(x);gQ.dV(dO,"LiberationSans");if(eI=="bold")gQ.dV(dO,"LiberationSans-Bold");
if(hH){hH=hH.split(",")[0].trim();if(hH[0]=="\"")hH=hH.slice(1);if(hH[hH.length-1]=="\"")hH=hH.slice(0,hH.length-1);
var cG=hH+":"+(eI?eI:"normal"),g3={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(g3[cG])gQ.dV(dO,g3[cG]);else gQ.dV(dO,hH)}if(o["text-anchor"])dO.hS.Justification=["start","end","middle"].indexOf(o["text-anchor"]);
gQ.sW(jA,0,ds.length,dO);if(gD==null||gD=="none"){}else{var hW=JSON.parse(an.O7[an.order.indexOf("FrFX")]);
hW.Clr.v=w.X.QA(CSS.AA(gD));hW.Sz.v.val=Math.round(parseFloat(c2)*z.Q.zf(hB));P.ZX(l,"frameFXMulti",hW)}F.g.push(l)}else if(D=="image"){var bz=P.CS(Y);
if(bz&&bz.slice(0,4)=="data"){var gh=bA.Sy(bz),bH=gh,gF=F.yk(bH,l.getName(),0,0);gF.Rl=l.Rl;l=gF;var hu=l.rect.clone();
hu.x=hu.y=0;var aB=Y.getAttribute("width"),c8=Y.getAttribute("height");if(aB)hu.e=parseFloat(aB);if(c8)hu.n=parseFloat(c8);
var bM=P.fq(Y);bM.concat(Q);var ig=w.p.fc(hu).t;w.p.A(ig,bM,ig);l.add.SoLd.Trnf=z.Q.JE(ig);l.add.SoLd.nonAffineTransform=z.Q.JE(ig);
l.XY(F,!1);F.g.push(l)}}else console.log("unknown tag: "+D,Y.children.length,Y.textContent.length);if(E!=null){F.g.push(E);
e--}}};a5.ZX=function(r,N,F){var h=r.add.lmfx;if(h==null){var h=r.add.lmfx=JSON.parse(an.default);for(var R=0;
R<an.order.length;R++)h[an.NR[R]]={t:"VlLs",v:[]}}h[N].v.push({t:"Objc",v:F})};a5.f6=function(r,N,F,h){var m=a5,O=[{type:6},{type:8,all:0}],e=N.tagName;
if(e=="use"){var P=m.CS(N),B=r.getElementById(P.slice(1)),s=new hc;if(B.tagName!="rect")s=m.fq(B);s.concat(m.df(B));
O=m.f6(r,B,F,h);w.H.nY(O,s)}else if(e=="path"){var Y=N.getAttribute("d");if(Y==null)return O;var D=Typr.U.SVGToPath(Y);
O=w.p.nN({t:D.crds,C:D.cmds},F,h)}else if(e=="rect"){var c=N.getAttribute("rx"),o=m.fq(N);O=w.H.yN.Rect(o.HG,o.SS,parseFloat(N.getAttribute("width")),parseFloat(N.getAttribute("height")),c?parseFloat(c):0)}else if(e=="circle"||e=="ellipse"){var H=[0,0,0,0],x=["cx","cy","rx","ry","r"];
for(var R=0;R<5;R++){var Q=N.getAttribute(x[R]);if(Q){Q=parseFloat(Q);if(R<4)H[R]=Q;else H[2]=H[3]=Q}}O=w.H.yN.b4(H[0]-H[2],H[1]-H[3],2*H[2],2*H[3])}else if(e=="polygon"||e=="polyline"||e=="line"){var U;
if(e=="line")U=[N.getAttribute("x1"),N.getAttribute("y1"),N.getAttribute("x2"),N.getAttribute("y2")].map(parseFloat);
else U=N.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
O=w.H.yN.s_(U,0,e!="polygon")}return O};a5.zZ=function(r,N){if(r.charAt(r.length-1)=="m")return N*parseFloat(r.slice(0,r.length-2));
else return parseFloat(r)};a5.s1=function(r,N,F,h){var m,O,e=a5,P=JSON.parse(an.O7[an.order.indexOf("SoFi")]),B=N!=null?N.indexOf("("):-1;
if(B!=-1){var s=N.indexOf(")"),Y=N.slice(0,B).trim(),D=N.slice(B+1,s).trim();if(D.charAt(0)=="'")D=D.slice(1,D.length-1);
if(Y=="url"){if(D.charAt(0)=="#"){var c=r.getElementById(D.slice(1));if(c&&c.tagName.toLowerCase().endsWith("gradient")){var o=e.dT(r,c,F,h);
m="GrFl";O={t:"Objc",v:o}}else{m="SoFi";O={t:"Objc",v:P}}}else console.log("unknown url",D)}else if(Y=="rgb"||Y=="rgba"){m="SoFi";
O={t:"Objc",v:P};O.v.Clr.v=w.X.QA(CSS.AA(N));if(Y=="rgba")O.v.Opct.v.val=Math.round(100*parseFloat(N.split(",").pop()))}else console.log("unknown fill",N)}else{m="SoFi";
O={t:"Objc",v:P};O.v.Clr.v=w.X.QA(CSS.AA(N))}return{type:m,h:O}};a5.df=function(r){var N=new hc,F=r.getAttribute("transform");
if(F)N=a5.sq(F);var h=r.getAttribute("style");if(h!=null){var m={};a5.MI(m,h,["transform"]);h=m.transform;
if(h)N.concat(a5.sq(h))}return N};a5.fq=function(r,N){var F=new hc,h=r.getAttribute("x"),m=r.getAttribute("y");
if(h)F.HG=parseFloat(h);else if(N)F.HG=N.HG;if(m)F.SS=parseFloat(m);else if(N)F.SS=N.SS;return F};a5.sq=function(r){var N=Typr.U.SVG.readTrnf(r);
return new hc(N[0],N[1],N[2],N[3],N[4],N[5])};a5.vp=function(r,N){var F={},h="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var R=0;R<h.length;R++){var m=r.getAttribute(h[R]);if(m!=null&&m!="inherit")F[h[R]]=m}var O=r.getAttribute("class");
if(N!=null&&O!=null&&N["."+O]!=null)a5.MI(F,N["."+O],h);var e=r.getAttribute("id");if(N!=null&&e!=null&&N["#"+e]!=null)a5.MI(F,N["#"+e],h);
var P=r.getAttribute("style");if(P!=null)a5.MI(F,P,h);return F};a5.MI=function(r,N,F){N=N.trim().split(";");
for(var R=0;R<N.length;R++){var h=N[R].split(":"),m=h[0]?h[0].trim():"",O=h[1]?h[1].trim():"";for(var e=0;
e<F.length;e++)if(m==F[e]&&O!="inherit")r[F[e]]=O}};a5.CS=function(r){var N=r.getAttribute("xlink:href");
if(N==null)N=r.getAttribute("href");if(N==null)N=r.getAttribute("xl:href");return N};a5.dT=function(r,N,F,h){var m=a5;
function O(E,_,f){var S=N.getAttribute(E);if(S==null)return;var L=parseFloat(S);if(S.endsWith("%"))L*=(f?h.e:h.n)/100;
if(f)_.x=L;else _.y=L}var e=new hc,P=N.getAttribute("gradientTransform");if(P)e=m.sq(P);e.concat(F);
var B=JSON.parse(an.O7[an.order.indexOf("GrFl")]),s=B.Grad.v;s.Intr.v=0;var Y=N.tagName,D=new gS(0,0),c=new gS(h.e,0);
if(Y=="linearGradient"){B.Type.v.GrdT="Lnr";O("x1",D,!0);O("y1",D,!1);O("x2",c,!0);O("y2",c,!1);D.x=c.x+.5*(D.x-c.x);
D.y=c.y+.5*(D.y-c.y)}if(Y=="radialGradient"){B.Type.v.GrdT="Rdl";if(N.getAttribute("cx"))D.x=parseFloat(N.getAttribute("cx"));
if(N.getAttribute("cy"))D.y=parseFloat(N.getAttribute("cy"));c.YR(D.x,D.y);if(N.getAttribute("r"))c.x+=parseFloat(N.getAttribute("r"))}if(N.getAttribute("gradientUnits")=="userSpaceOnUse"){D=e.eS(D);
c=e.eS(c)}else{D.x=h.x+D.x*h.e;D.y=h.y+D.y*h.n;c.x=h.x+c.x*h.e;c.y=h.y+c.y*h.n}w.X.zm(D,c,h,B);var o=N.children;
if(o.length==0){var H=m.CS(N);if(H==null)throw"gradient has no stops";var x=r.getElementById(H.slice(1));
if(x==null){console.log(H.slice(1))}else{var Q=m.dT(r,x,e,h);B.Grad=Q.Grad}}else{var U=[];for(var R=0;
R<o.length;R++){var I=o[R],l=m.vp(I),p=l["stop-color"],j=l["stop-opacity"],T=I.getAttribute("offset");
if(p==null)p="#000000";if(j==null)j="1";var V=T?parseFloat(T):0;p=CSS.AA(p);U.push([V,[p.Z/255,p.z/255,p.J/255],parseFloat(j)])}w.X.y2(U,s)}return B};
a5.uZ=function(r,N,F){var h=[],m=a5;m.Rh=N.avL?"\t":"";var O=N.akk,e=N.ao7;h.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+r.e+" "+r.n+"\" width=\""+O+"\" height=\""+e+"\">");
h.push(m.mQ(1)+"<title>"+a5.b0(r.name.split(".")[0])+"</title>");var P={Vq:[],Yg:[],Cs:0,ww:0,Xl:0,T7:{},nS:{},az:0,EC:{},S4:{},cG:0,FN:[]};
a5.ba(r,P,r.root.children,1,N,F);if(P.Vq.length!=0){h.push(m.mQ(1)+"<defs>");h=h.concat(P.Vq);h.push(m.mQ(1)+"</defs>")}h.push(m.mQ(1)+"<style>");
h.push(m.mQ(2)+"tspan { white-space:pre }");for(var B in P.EC)h.push(m.mQ(2)+"."+B+" { "+P.EC[B]+" } ");
h.push(m.mQ(1)+"</style>");h=h.concat(P.Yg);h.push("</svg>");h=h.join(N.avL?"\n":"");if(m.Bb){console.log(m.Bb);
var s="SVGParser.gen.db = [\n";for(var R=0;R<m.Bb.length;R++){var Y=m.Bb[R];s+="{\n\tnam: \""+Y.x3+"\",\n\tpts: [\n";
for(var D=0;D<Y.i4.length;D++){var c=Y.i4[D];s+="\t\t[\""+c[0]+"\", { cmds: "+JSON.stringify(c[1].C)+", crds:"+JSON.stringify(c[1].t)+" } ]"+(D==Y.i4.length-1?"":",")+"\n"}s+="\t]\n}"+(R==m.Bb.length-1?"":",")+"\n"}s+="]\n";
console.log(s)}return J.kX(h)};a5.Rh="";a5.mQ=function(j_){var r="";for(var R=0;R<j_;R++)r+=a5.Rh;return r};
a5.fE=function(j_){return""+parseFloat(j_.toFixed(3))};a5.ba=function(r,N,F,h,m,O){var e=a5;function P(Y,aM){var E=Y.add.lmfx;
if(E)E=E[aM].v[0];if(E)E=E.v;if(E&&!E.enab.v)E=null;return E}function B(Y,x){var fG=P(Y,"frameFXMulti");
if(fG){var jG=fG.Sz.v.val;if(fG.Styl.v.FStl=="OutF"){x.push("paint-order:stroke fill markers");jG*=2}x.push("stroke: "+CSS._G(fG.Clr.v));
x.push("stroke-width: "+jG);x.push("stroke-linejoin: round;")}}for(var s=0;s<F.length;s++){var Y=F[s].a,D=Y.add.lsct,c=Y.add.vmsk,o=Y.add.vstk,H=Y.add.TySh;
if(c&&!c.isEnabled)c=o=null;var x=[];if(!m.hidden&&!Y.gv())continue;var Q=Y.opacity/255,U=Y.add.iOpa?Y.add.iOpa/255:1;
if(Q!=1)x.push("opacity: "+e.fE(Q));if(U!=1)x.push("fill-opacity: "+e.fE(U));if(Y.$j!="norm"){var I=g6.a0F[g6.Ry.indexOf(Y.$j)];
if(I!=null)x.push("mix-blend-mode: "+I)}if(!Y.gv())x.push("display: none");var l=[],p=[],j=Y.getName(),T=j.indexOf(" .");
if(T!=-1){p.push(j.slice(T+2));j=j.slice(0,T)}if(m.names)l.push("id=\""+e.b0(j)+"\"");var V=iL.j9(Y.add.lmfx,Y.add),E=V[0],_=V[1];
if(Y.zv()){var f=F[s].children;if(!(f.length==1&&f[0].a.add.SoLd&&!m.cl)){if(e.Bb&&Y.getName().split("-").length==3){e.Bb.push({x3:Y.getName(),WY:0,i4:[]})}a5.iH(Y,c,N,l);
if(x.length!=0)l.push("style=\""+x.join(";")+"\"");N.Yg.push(e.mQ(h)+"<g "+e.MT(l,p)+">");e.ba(r,N,f,h+1,m,O);
N.Yg.push(e.mQ(h)+"</g>")}}else if(Y.t8()&&c==null){var S=new fE(0,0,r.e,r.n);e.Ii(x,Y.add,N,S);if(x.length!=0)l.push("style=\""+x.join(";")+"\"");
N.Yg.push(e.mQ(h)+"<rect width=\""+r.e+"\" height=\""+r.n+"\" "+e.MT(l,p)+" />")}else if(c&&Y.add.SoLd==null){var S=w.H.KX(c.Y,null,!0),L=w.H.fT(c.Y);
if(L.xm!=0){l.push("fill-rule=\"evenodd\"")}var y=L.oS;e.Ii(x,Y.add,N,S);if(x.length!=0){var $=x.join(";"),Z=N.S4[$];
if(Z==null){Z="shp"+N.cG;N.cG++;N.S4[$]=Z;N.EC[Z]=$}p.push(Z)}N.Yg.push(e.mQ(h)+"<path "+e.MT(l,p)+" d=\""+y+"\" />");
if(e.Bb&&e.Bb[e.Bb.length-1]){var i=w.p.aM(c.Y);i.t=i.t.map(Math.round);var b=e.Bb[e.Bb.length-1];b.WY+=JSON.stringify(i).length;
b.i4.push([x[0].split("#").pop(),i])}}else if(H&&m.at7){var G=H.sl,g=new ac(G,O),u=null;if(E)u=CSS._G(E.Clr.v);
if(_){var S=Y.rect.clone();e.Kz(_,N,S);u=" url(#grd"+N.Cs+")"}if(u)l.push("fill=\""+u+"\"");B(Y,x);if(x.length!=0)l.push("style=\""+x.join(";")+"\"");
var A=d0.St(g,H),a=w.p.fP(A);for(var d in a){var K=l.length;if(u==null){l.push("fill=\""+d.slice(0,7)+"\"");
if(d.length>7){var y=d.slice(7).split("-");console.log(y);l.push("stroke=\""+y[1]+"\"");l.push("stroke-width=\""+y[2]+"\"")}}var n=a[d],y=Typr.U.pathToSVG({crds:n.t,cmds:n.C},2);
N.Yg.push(e.mQ(h)+"<path "+e.MT(l,p)+" "+e.Pv(H)+" d=\""+y+"\" />");while(l.length>K)l.pop()}}else if(H&&!m.aaU){var G=H.sl,t=H.A.clone(),u=null;
x.push("transform: "+e.n$(t));var X=gQ.Xe(G),g=new ac(G,O);B(Y,x);if(x.length!=0)l.push("style=\""+x.join(";")+"\"");
N.Yg.push(e.mQ(h)+"<text "+e.MT(l,p)+" >");if(E)u=CSS._G(E.Clr.v);if(_){var S=Y.rect.clone();S.x-=t.HG;
S.y-=t.SS;e.Kz(_,N,S);u=" url(#grd"+N.Cs+")"}for(var R=0;R<g.hS.length;R++){var aK=g.hS[R];if(aK.ar.length==1&&aK.ar[0].$w)continue;
for(var fg=0;fg<aK.NE.length;fg++){var k=aK.NE[fg],hG=aK.pV.y+k.pV.y,eE=aK.ar[k.start].start,hW=aK.ar[k.end-1].end,hh=gQ.aoL(G,eE,hW),hI="";
for(var db=0;db<hh.length;db++){var by=g.k3(eE),jM=hh[db],fP=gQ.pz(G,eE,eE),hB=fP.f7[fP.AY.Font].Name,d=gQ.Mq(fP.AY.FillColor),iu=Math.round(fP.AY.FontSize),be=X.slice(eE,eE+jM);
if(fP.AY.FontCaps==2)be=be.toUpperCase();var bp=new hc;bp.translate(by.NQ.x,-hG);var ij=[];CSS.a9l(ij,fP,null,!0,!0,u);
var $=ij.join(";"),Z=N.S4[$];if(Z==null){Z="txt"+N.cG;N.cG++;N.S4[$]=Z;N.EC[Z]=$}var fT=by.NQ.x,ei=e.atW(fP,be);
hI+="<tspan "+(db==0?"x=\""+e.fE(by.NQ.x)+"\"":"")+" y=\""+e.fE(hG)+"\" class=\""+Z+"\""+ei+">"+e.b0(be)+"</tspan>";
eE+=jM}N.Yg.push(e.mQ(h+1)+hI)}}N.Yg.push(e.mQ(h)+"</text>")}else if(Y.add.SoLd&&m.cl){var bz=Y.add.SoLd,aM=bz.Idnt.v,hw=0,hx=bz.Crop?bz.Crop.v:null;
if(N.nS[aM]!=null)hw=N.nS[aM];else{N.az++;hw=N.az;N.nS[aM]=N.az;var fm=r.BQ(aM,hx),c2="";if(fm==null)return;
var dE=fm.Mk,gD=bA.Cn(fm.raw.buffer);if(gD=="pdf"){var bQ=new gp("h");bA.yU("PDF").V9(fm.raw.buffer,bQ);
bQ.IY();bQ.q7();bQ.M();bQ.t7();if(bz.Crop&&bz.Crop.v==1){z.Q6.Wb(bQ,bQ.root.Tm(bQ,!0))}var f9=bA.yU("SVG").xs(bQ,bQ.e,bQ.n,null,{FN:O});
c2="data:image/svg+xml;base64,"+bA.oK(f9)}else if(gD=="jpg"||gD=="png"||gD=="gif"||gD=="svg"){var jR={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
c2="data:"+jR[gD]+";base64,"+bA.oK(fm.raw.buffer)}else{c2=bA.zh(dE[0].buffer,dE[1].e,dE[1].n)}N.Vq.push(e.mQ(2)+"<image width=\""+dE[1].e+"\" height=\""+dE[1].n+"\" id=\"img"+hw+"\" href=\""+c2+"\"/>")}var gP=w.N.I3(bz),jh=[];
a5.iH(Y,c,N,jh);if(jh.length!=0)N.Yg.push(e.mQ(h)+"<g "+e.MT(jh,p)+">");if(x.length!=0)l.push("style=\""+x.join(";")+"\"");
var k6=e.MT(l,p);N.Yg.push(e.mQ(h)+"<use "+k6+" href=\"#img"+hw+"\" transform=\""+e.n$(gP)+"\"/>");if(jh.length!=0)N.Yg.push(e.mQ(h)+"</g>")}else if(!Y.rect.lX()&&(m.cl||H)){if(x.length!=0)l.push("style=\""+x.join(";")+"\"");
var k6=e.MT(l,p),eZ=Y.buffer;if(E)eZ=iL.alJ(eZ,E,Y.rect);var b5=Y.rect;N.az++;var c2=bA.zh(eZ.buffer,b5.e,b5.n,"png",null,!0);
N.Vq.push(e.mQ(2)+"<image "+e.Pv(H)+" width=\""+Y.rect.e+"\" height=\""+Y.rect.n+"\" id=\"img"+N.az+"\" href=\""+c2+"\"/>");
N.Yg.push(e.mQ(h)+"<use "+k6+" href=\"#img"+N.az+"\" x=\""+b5.x+"\" y=\""+b5.y+"\" />")}}};a5.atW=function(r,N){var F=r.AY.Tracking,h="";
if(F!=null&&F!=0){F=Math.round(F*r.AY.FontSize/1e3);h=" dx=\"0";for(var m=1;m<N.length;m++)h+=" "+F;
h+="\" "}return h};a5.Pv=function(r){if(r==null)return"";var N=r.sl,F=gQ.Xe(N);F=a5.b0(F.slice(0,F.length-1));
return"aria-label=\""+F+"\" "};a5.MT=function(r,N){if(N.length!=0)r.push("class=\""+N.join(" ")+"\"");
return r.join(" ")};a5.b0=function(r){return String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
a5.n$=function(r){var N=[r.O$,r.J,r.KM,r.Bv,r.HG,r.SS].map(a5.fE);return"matrix("+N.join(",")+")"};a5.iH=function(r,N,F,h){var m=a5;
if(N||r.add.artb){var O;if(N)O=w.H.fT(N.Y).oS;else{var e=r.CN(),P=w.p.fc(e);O=Typr.U.pathToSVG({crds:P.t,cmds:P.C},2)}F.Xl++;
h.push("clip-path=\"url(#cp"+F.Xl+")\"");F.Vq.push(m.mQ(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+F.Xl+"\">");
F.Vq.push(m.mQ(3)+"<path d=\""+O+"\" />");F.Vq.push(m.mQ(2)+"</clipPath>")}};a5.Ii=function(r,N,F,h){var m=a5,O=N.vstk,e=N.vmsk,P=N.lmfx;
if(e&&e.J_!=0){var B=m.fE(e.J_);if(F.T7[B]==null){F.ww++;F.T7[B]=F.ww;F.Vq.push(m.mQ(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+F.ww+"\"> <feGaussianBlur stdDeviation=\""+B+"\" /> </filter>")}r.push("filter: url(#flt"+F.T7[B]+")")}var s=iL.j9(P,N),Y=s[0],D=s[1];
if(O&&!O.fillEnabled.v)r.push("fill: none");else if(Y){var c=CSS._G(Y.Clr.v);r.push("fill: "+c)}else if(D){m.Kz(D,F,h);
r.push("fill: url(#grd"+F.Cs+")")}if(O==null||!O.strokeEnabled.v)O=iL.Vl(P);if(O&&O.strokeEnabled.v){var o=O.strokeStyleContent.v,H=o.classID;
if(H=="solidColorLayer")r.push("stroke: "+CSS._G(o.Clr.v));else{m.Kz(o,F,h);r.push("stroke: url(#grd"+F.Cs+")")}var x=an.mr._6.indexOf(O.strokeStyleLineCapType.v.strokeStyleLineCapType),Q=an.mr.join.indexOf(O.strokeStyleLineJoinType.v.strokeStyleLineJoinType),U=O.strokeStyleOpacity.v.val/100,I=O.strokeStyleLineWidth.v.val,l=an.mr.bj.indexOf(O.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(l==2){I*=2;r.push("paint-order:stroke fill markers")}var p=O.strokeStyleLineDashSet.v,j=[];for(var R=0;
R<p.length;R++)j.push(Math.round(p[R].v.val*I));if(x!=0)r.push("stroke-linecap:"+["butt","round","square"][x]);
if(Q!=0)r.push("stroke-linejoin:"+["miter","round","bevel"][Q]);if(U!=1)r.push("stroke-opacity:"+m.fE(U));
if(I!=1)r.push("stroke-width: "+m.fE(I));if(j.length!=0)r.push("stroke-dasharray: "+j.join(","))}};a5.Kz=function(r,N,F){N.Cs++;
var h=a5,m=r.Grad.v,O=JSON.parse(JSON.stringify(m.Clrs.v)),e=JSON.parse(JSON.stringify(m.Trns.v)),P=r.Ofst.v,B=r.Type.v.GrdT,s=B=="Rdl"?1:0,Y=(s==1?"radial":"linear")+"Gradient",D=w.X.G0(r,F);
if(s==0){D[0].x=D[1].x+2*(D[0].x-D[1].x);D[0].y=D[1].y+2*(D[0].y-D[1].y)}var c=h.mQ(2)+"<"+Y+" id=\"grd"+N.Cs+"\" gradientUnits=\"userSpaceOnUse\" ";
if(s==0)N.Vq.push(c+" x1=\""+h.fE(D[0].x)+"\" y1=\""+h.fE(D[0].y)+"\" x2=\""+h.fE(D[1].x)+"\" y2=\""+h.fE(D[1].y)+"\">");
if(s==1)N.Vq.push(c+" cx=\""+h.fE(D[0].x)+"\" cy=\""+h.fE(D[0].y)+"\" r=\""+h.fE(gS.Mz(D[0],D[1]))+"\">");
if(B=="Rflc"){for(var o=0;o<2;o++){var H=o==0?O:e;for(var R=H.length-1;R>=0;R--){var x=H[R];x.v.Lctn.v=2048+(x.v.Lctn.v>>>1);
var Q=JSON.parse(JSON.stringify(x));Q.v.Lctn.v=4096-Q.v.Lctn.v;H.push(Q)}H.sort(function(j,T){return j.v.Lctn.v-T.v.Lctn.v})}}var U=r.Rvrs.v;
if(U){O.reverse();e.reverse()}for(var R=0;R<O.length;R++){var I=O[R].v,l=R<e.length?e[R].v.Opct.v.val/100:1,l=l==1?"":"stop-opacity=\""+h.fE(l)+"\"",p=I.Lctn.v/4096;
if(U)p=1-p;N.Vq.push(h.mQ(3)+"<stop offset=\""+h.fE(p)+"\" stop-color=\""+CSS._G(I.Clr.v)+"\" "+l+" />")}N.Vq.push(h.mQ(2)+"</"+Y+">")};
a5.yN=function(r,N,F,h,m){var O=[],e=a5.yN,P=!1,B={YW:r,Nf:N,bV:[!0,!0,!0],da:!1,K5:F,agn:0};B.m5=Math.round(Math.max(r,N)*(.02+e.u9(B)*.03));
B.IF=e.aro(B);B.p4=e.a5u(B.IF,(e.u9(B)<.5?-1:1)*(.2+e.u9(B)*.3));if(e.u9(B)<.5){var s=B.IF;B.IF=B.p4;
B.p4=s}B.alW=e.u9(B)<.4&&e.aqy(B.p4,{Z:1,z:1,J:1})>.3;B.auG=e.u9(B)<.5?0:1;O.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+r+" "+N+"\" width=\""+r+"\" height=\""+N+"\">");
B.GZ=h[Math.floor(e.Vi(B)*h.length)];B.yY=h[Math.floor(e.Vi(B)*h.length)];O.push("<style>");O.push("@font-face {  font-family: "+B.GZ[2]+";  src: url(rsrc/fonts/"+B.GZ[5]+");  }");
O.push("@font-face {  font-family: "+B.yY[2]+";  src: url(rsrc/fonts/"+B.yY[5]+");  }");O.push("</style>");
var Y=[0,0,r,N],D=Y;if(m==null)O.push("<path style=\"fill: "+e.p0(B.IF)+"\" d=\""+e.Rect(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1])+"\" id=\"Background\" />");
else{B.da=!0;e.hu(B,Y,O,m)}if(e.u9(B)<.25&&!B.da){B.bV[0]=B.bV[2]=!1;e.a0I(Y,B,O);D=Y}else if(e.u9(B)<.25||B.da)D=Y;
else{var c=.52+e.u9(B)*.2;if(e.u9(B)<.5)c=1-c;var o=Y.slice(0),H=Y.slice(0);if(e.u9(B)<.5)o[2]=H[0]=Math.round(c*r);
else o[3]=H[1]=Math.round(c*N);if(e.u9(B)<.5){var s=o;o=H;H=s}D=o;e.al8(B,H,O,m)}e.a3I(B,D,O);O.push("</svg>");
O=O.join("\n");var x=w.B(Math.round(O.length*1.5)),Q=J.bA(O,x,0);return[x.buffer.slice(0,Q),B.l1]};a5.yN.a0I=function(r,N,F){var h=a5.yN,m=r[2]-r[0],O=r[3]-r[1];
if(h.u9(N)<.5){F.push("<path id=\"Border\" style=\"fill: "+h.p0(N.p4)+"\" d=\""+h.aam(r[0],r[1],r[2]-r[0],r[3]-r[1],N.m5)+"\" />")}else if(h.u9(N)<-.4){h.a6Q(N,r,F)}else{var e=h.u9(N)<.5?0:1,P=(e==0?O:m)/4,B=h.fM(N,e,r,F,P,!0),B=h.fM(N,e+2,r,F,P,!0,B)}};
a5.yN.a3I=function(r,N,F){var h=a5.yN,m="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),O=2*Math.floor(h.u9(r)*m.length/2),e=N[2]-N[0],P=N[3]-N[1],s=0,D=0;
r.te=(r.YW+e)*.5*(.04+h.u9(r)*.05);r.te=Math.min(r.te,P*.4,e*.12);r.te=Math.round(r.te);var B=Math.min(r.te*m[O].length*(.35+.3*h.u9(r)),e*.9),Y=(N[1]+N[3])/2,c=w.OM(r.IF)<.85?{Z:1,z:1,J:1}:{Z:.1,z:.1,J:.1};
if(h.u9(r)<.25&&r.bV[0]){D=0;s=N[0]+r.m5}else if(h.u9(r)<.33&&r.bV[2]){D=2;s=N[2]-r.m5}else{D=1;s=(N[0]+N[2])/2}var o=c.Z==1?"0,0,0":"255,255,255",H=r.da&&h.u9(r)<1;
if(H){var x=N[0],Q=e,U=Y-r.te*1.1,I=r.te*2.2,l=.7;if(D==1&&h.u9(r)<.5){x=U=.2*Math.min(e,P);Q=e-2*U;
I=P-U-U}else if(h.u9(r)<.7){x=U=0;Q=e;I=P;l=.25}F.push("<path id=\"Strip\" style=\"fill: rgb("+o+"); opacity: "+l+"\" d=\""+h.Rect(x,U,Q,I)+"\" />")}if(h.u9(r)<.4){var p=r.te*.07;
p*=1.5+h.u9(r)*1;if(D==-1&&e/P<3&&!H){F.push("<path id=\"Bar-bottom\" style=\"fill: "+h.p0(c)+"\" d=\""+h.Rect(s-B/2,Y+r.te*1.1-p/2,B,p)+"\" />");
F.push("<path id=\"Bar-top\"    style=\"fill: "+h.p0(c)+"\" d=\""+h.Rect(s-B/2,Y-r.te*1.1-p/2,B,p)+"\" />")}if(D!=1){F.push("<path id=\"Bar\" style=\"fill: "+h.p0(c)+"\" d=\""+h.Rect(s-p/2,Y-r.te*.8,p,r.te*.8*2)+"\" />");
s+=(D==0?1:-1)*r.te/3}}var j=r.te*.4;F.push(h.aG(m[O+1],s,Y+j*1.6,j,c,D,r.yY));F.push(h.aG(m[O],s,Y+r.te*.04,r.te,c,D,r.GZ))};
a5.yN.al8=function(r,N,F,h){var m=N[2]-N[0],O=N[3]-N[1],e=Math.max(m,O),P=Math.min(m,O),B=a5.yN;if(e/P<5&&!r.da&&!1){B.hu(r,N,F,h)}else if(B.u9(r)<0)F.push("<path style=\"fill: "+B.p0(r.p4)+"\" d=\""+B.Rect(N[0],N[1],m,O)+"\" />");
else{var s=0;if(N[3]!=r.Nf)s=0;if(N[2]!=r.YW)s=3;if(N[0]!=0)s=1;if(N[1]!=0)s=2;var Y=s+2&3;if(e/P<3){var D=B.adD(Y),c=D[Math.round(B.u9(r)*(D.length-1))],o=c.x3.slice(0,4),H=o.indexOf(1);
c=JSON.parse(JSON.stringify(c));var x=-1;if(o!="0000"){var Q=new hc;if(c.x3[5]=="0"){if(H==3&&s==1){x=1;
Q.scale(-1,1)}else x=H}else{var U=Y;while(U==Y)U=Math.floor(B.u9(r)*4)&3;Q.rotate((-H+U)*Math.PI/2)}B.A(c,Q)}var I=B.Ce(c),l=m-2*r.m5,p=O-2*r.m5;
if(x!=-1){if((x&1)==0)p-=r.m5;else l-=r.m5}var j=Math.min(l/I.e,p/I.n),T=new hc;T.translate(-I.x,-I.y);
T.scale(j,j);var V=(m-I.e*j)/2,E=(O-I.n*j)/2;if(x!=-1){if(x==3)V=0;if(x==0)E=0;if(x==1)V=m-I.e*j;if(x==2)E=O-I.n*j}T.translate(N[0]+V,N[1]+E);
B.XE(r,c,T,r.p4,F)}else{B.fM(r,s,N,F,1e9)}}};a5.yN.hu=function(r,N,F,h){var m=N[2]-N[0],O=N[3]-N[1],e=Math.max(m,O),P=Math.min(m,O),B=a5.yN,s=B.Vi(r),Y,D,c,o=h[0]instanceof ArrayBuffer;
if(o){Y="data:image/jpg;base64,"+eu.vc(h[0]);D=h[1];c=h[2]}else{var H=Math.floor(s*h.length),x=h[H];
r.l1=x;Y=x.webformatURL;D=x.webformatWidth;c=x.webformatHeight}var Q=N[0],U=N[1],I=m,l=O;if(m/O>D/c){l=I*c/D;
U=U-(l-O)/2}else{I=l*D/c;Q=Q-(I-m)/2}if(o){F.push("<defs>");F.push("<image width=\""+D+"\" height=\""+c+"\" id=\"Background\" href=\""+Y+"\" />");
F.push("</defs>");var p=I/D;F.push("<use href=\"#Background\" transform=\""+a5.n$(new hc(p,0,0,p,Q,U))+"\" />")}else{var j="cp"+Math.random();
F.push("<clipPath id=\""+j+"\">");F.push("<path style=\"fill: "+B.p0(r.p4)+"\" d=\""+B.Rect(N[0],N[1],m,O)+"\" />");
F.push("</clipPath>");F.push("<image  clip-path=\"url(#"+j+")\" xlink:href=\""+Y+"\" x=\""+Q+"\" y=\""+U+"\" width=\""+I+"\" height=\""+l+"\" />")}};
a5.yN.aG=function(r,N,F,h,m,O,e){var P=a5.yN;return"<text x=\""+N+"\" y=\""+F+"\" style=\"fill:"+P.p0(m)+"; font-size:"+h+"px; text-anchor:"+["start","middle","end"][O]+"; font-family:"+e[2]+";\"><tspan>"+r+"</tspan></text>"};
a5.yN.XE=function(r,N,F,h,m){var O=a5.yN,e=[];for(var R=0;R<N.i4.length;R++){e.push(h);if(r.alW){h=(R&1)==r.auG?{Z:1,z:1,J:1}:e[0]}}m.push("<g id=\""+N.x3.split("-")[2]+":::\" style=\"transform: "+a5.n$(F)+";\" >");
for(var R=0;R<N.i4.length;R++){var P=N.i4[R];h=e.pop();m.push("<path style=\"fill: "+(h?O.p0(h):"#"+P[0])+"\" d=\""+Typr.U.pathToSVG({crds:P[1].t,cmds:P[1].C})+"\" />")}m.push("</g>")};
a5.yN.a6Q=function(r,N,F){var h=a5.yN,m=a5.yN.jb,O=[];for(var R=0;R<m.length;R++){var e=m[R],P=e.x3.slice(0,4);
if(P!="1001")continue;O.push(e)}var e=O[Math.floor(h.u9(r)*O.length)];if(h.u9(r)<.5)h.A(e,new hc(0,1,1,0,0,0));
var B=N[3]-N[1],s=N[2]-N[0],Y=h.Ce(e),D=.7*Math.min(s,B,.5*Math.max(s,B))/Math.max(Y.e,Y.n),c=new hc;
c.scale(D,D);if(h.u9(r)<.5){c.scale(1,-1);c.translate(0,B)}h.XE(r,e,c,r.p4,F);c.rotate(Math.PI);c.translate(s,B);
h.XE(r,e,c,r.p4,F)};a5.yN.adD=function(r){var N=a5.yN.jb,F=[];for(var R=0;R<N.length;R++){var h=N[R],m=h.x3.slice(0,4);
if(m=="0000"){F.push(h);continue}if(["1000","0100","0010","0001"].indexOf(m)==-1)continue;var O=m.indexOf("1");
if(h.x3[5]=="0"&&r==O&&O!=3)continue;F.push(h)}return F};a5.yN.fM=function(r,N,F,h,m,O,e){var P=a5.yN.jb,B=a5.yN,s=[],I,l;
for(var R=0;R<P.length;R++){var Y=P[R],D=Y.x3.slice(0,4);if(["1110","1101","1011","0111"].indexOf(D)==-1)continue;
var c=D.indexOf("0")+2&3;if(Y.x3[5]=="0")if(O==!0||N!=c&&!(N==1&&c==3))continue;s.push(Y)}var o=e!=null?e:Math.floor(B.u9(r)*s.length),Y=s[o],Y=JSON.parse(JSON.stringify(Y)),D=Y.x3.slice(0,4),c=D.indexOf("0")+2&3;
if(c==3&&N==1)w.A(Y,new hc(1,0,0,-1,0,1e3));var H=new hc;H.translate(-500,-500);H.rotate(-c*Math.PI/2);
H.translate(500,500);B.A(Y,H);var x=F[3]-F[1],Q=F[2]-F[0],U=B.Ce(Y);if(U.y<0){U.n+=U.y;U.y=0}if(U.y>0){U.n+=U.y;
U.y=0}if((N&1)==0){l=x;I=Q}else{I=x;l=Q}var p=Math.min(Math.min(.5+.5*B.u9(r))*Math.min(Q,x),m)/U.n,j=Math.ceil(I/(1e3*p)),T=new hc,V=new hc;
V.scale(p,p);if(N==0||N==2){V.translate(-(Q/2),-(x/2));V.rotate(-N*Math.PI/2);V.translate(Q/2+F[0],x/2+F[1])}else{V.rotate(Math.PI/2);
V.scale(1,-1);V.translate(F[0],F[1]);if(N==1){V.scale(-1,1);V.translate(Q,0)}}h.push("<g id=\"Border-"+["top","right","bottom","left"][N]+":::\">");
for(var R=0;R<j;R++){var E=T.clone();E.concat(V);B.XE(r,Y,E,r.p4,h);T.translate(1e3-2,0)}h.push("</g>");
return o};a5.yN.Rect=function(r,N,F,h){return Typr.U.pathToSVG({crds:[r,N,r+F,N,r+F,N+h,r,N+h],cmds:["M","L","L","L","Z"]})};
a5.yN.aam=function(r,N,F,h,m){var O=[r,N,r+F,N,r+F,N+h,r,N+h];r+=m;N+=m;F-=2*m;h-=2*m;O.push(r,N,r,N+h,r+F,N+h,r+F,N);
return Typr.U.pathToSVG({crds:O,cmds:"M L L L Z M L L L Z".split(" ")})};a5.yN.a5u=function(r,N){var F=w.ZU(r.Z,r.z,r.J);
F.rT=Math.max(.1,Math.min(.9,F.rT+N));return w.FK(F.Nf,F.ou,F.rT)};a5.yN.arD=function(r,N){var F=w.ZU(r.Z,r.z,r.J);
F.Nf+=N;return w.FK(F.Nf,F.ou,F.rT)};a5.yN.aeU=function(r){var N=w.ZU(r.Z,r.z,r.J);N.rT=1-N.rT;return w.FK(N.Nf,N.ou,N.rT)};
a5.yN.aqy=function(r,N){var F=r.Z-N.Z,h=r.z-N.z,m=r.J-N.J;return Math.sqrt(F*F+h*h+m*m)};a5.yN.aro=function(r){var N=a5.yN;
return{Z:N.u9(r),z:N.u9(r),J:N.u9(r)}};a5.yN.p0=function(r){return CSS.r_({Z:r.Z*255,z:r.z*255,J:r.J*255})};
a5.yN.Ce=function(r){var N=r.i4,F=new fE;for(var R=0;R<N.length;R++)F=F.fD(w.p.Ce(N[R][1].t));return F};
a5.yN.A=function(r,N){var F=r.i4;for(var R=0;R<F.length;R++)w.p.A(F[R][1].t,N,F[R][1].t)};a5.yN.u9=function(r){r.agn++;
var N=r.agn&3;if(N==0)r.K5=a5.yN.aw(r.K5);var F=r.K5>>>8*N&255;return F*(.99999999/255)};a5.yN.Vi=function(r){var N=a5.yN.aw(r.K5);
r.K5=a5.yN.aw(N);return N*(1/4294967295)};a5.yN.aw=function(r){r=(r^61^r>>>16)>>>0;r=r+(r<<3)>>>0;r=(r^r>>>4)>>>0;
r=r*668265261>>>0;r=(r^r>>>15)>>>0;return r};a5.yN.jb=[{x3:"0001-0-bird",i4:[["4b3c34",{C:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),t:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{C:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),t:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{C:"M C C C C C C C C C C C C L Z".split(" "),t:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{x3:"0001-0-bird2",i4:[["ff7f2a",{C:"M L L L Z M L L L Z".split(" "),t:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{C:"M C C C C C C C C C C C L Z".split(" "),t:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{C:"M C C C C C C L Z M C C Z".split(" "),t:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{C:"M L L L Z M L L L Z".split(" "),t:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{C:"M L C C C C C C C C L Z".split(" "),t:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{C:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),t:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{x3:"0000-1-flower",i4:[["7a59a2",{C:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),t:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{x3:"0000-1-flower",i4:[["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),t:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{x3:"0000-1-flower",i4:[["ffac42",{C:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),t:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{x3:"0000-1-flower",i4:[["d04040",{C:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),t:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{x3:"0000-1-flower",i4:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),t:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{C:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),t:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{x3:"0000-0-hearts",i4:[["d17070",{C:"M C C C C C C C C C L Z".split(" "),t:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{C:"M C C C C C C C C C L Z".split(" "),t:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{C:"M C C C C C C C C C L Z".split(" "),t:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{x3:"0000-0-anchor",i4:[["2a3b66",{C:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),t:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{x3:"0000-1-leaf",i4:[["fbb600",{C:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),t:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{x3:"0000-1-acorn",i4:[["a05a2c",{C:"M C C C C C C C L Z".split(" "),t:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{C:"M C C C C C C C C C C C Z".split(" "),t:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{x3:"0000-0-skull",i4:[["808080",{C:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),t:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{x3:"0000-0-ghost",i4:[["e6e6e6",{C:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),t:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{C:"M C C C C Z M C C C C Z".split(" "),t:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{x3:"1001-1-rose",i4:[["9e1460",{C:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),t:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{C:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),t:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{x3:"1001-1-curls",i4:[["53a7ab",{C:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),t:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{C:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),t:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{x3:"0111-0-pines",i4:[["e9e9e9",{C:"M C C C C C C C C L L L Z".split(" "),t:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{C:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),t:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{x3:"0111-0-flowers",i4:[["8cae40",{C:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),t:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),t:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{x3:"1101-1-confetti",i4:[["e789ff",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{x3:"1101-1-branch",i4:[["7f500b",{C:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),t:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{x3:"1101-1-sticks",i4:[["ec7272",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{x3:"1101-1-dots",i4:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{C:["M","C","C","Z"],t:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{x3:"1101-1-strips",i4:[["ffc88c",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{C:["M","C","C","Z"],t:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{x3:"1101-1-circs",i4:[["ec7272",{C:"M C C C C Z M C C C C Z".split(" "),t:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{C:"M C C C C Z M C C C C Z".split(" "),t:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{C:["M","C","C","Z"],t:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{x3:"1101-1-squares",i4:[["014ea7",{C:"M L L L L Z M L L L L Z".split(" "),t:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{C:"M L L L L Z M L L L L Z".split(" "),t:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{C:["M","C","C","Z"],t:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{x3:"1101-0-christmas",i4:[["014ea7",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),t:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),t:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var hd={};hd.parse=function(r){var N=new Uint8Array(r),F=null;if(N[0]==80&&N[1]==75){var h=Date.now(),m=UZIP.parse(N.buffer),F=m["document.json"];
F=JSON.parse(J.H3(F,0,F.length));hd.g6(F,m)}else{var O=aP.parse(r);F=hd.N0(O[2][0][1])}return F};hd.g6=function(r,N){var F=typeof r;
if(F=="string"||F=="number"||F=="boolean")return r;if(r instanceof Array){for(var R=0;R<r.length;R++)r[R]=hd.g6(r[R],N);
return r}var h=r._class;if(h==null)return r;if(h=="MSJSONFileReference"){var m=r._ref;if(!1){}else if(N[m+".json"]!=null){var O=N[m+".json"],e=O.length;
for(var R=0;R<e;R++)if(O[R]==11||O[R]==3)O[R]=32;var P=J.H3(O,0,e);r=JSON.parse(P)}else if(N[m+".png"]!=null)return{key:m.split("/").pop(),bdata:N[m+".png"]};
else if(N[m+".jpg"]!=null)return{key:m.split("/").pop(),bdata:N[m+".jpg"]};else if(N[m+".pdf"]!=null)return{key:m.split("/").pop(),bdata:N[m+".pdf"]};
else if(N[m]!=null)return{key:m.split("/").pop(),bdata:N[m]};else{console.log(r,N);return}}else if(h=="MSAttributedString"){var P=atob(r.archivedAttributedString._archive),B=P.length-1,s=new Uint8Array(B);
for(var R=0;R<B;R++)s[R]=P.charCodeAt(R);r.archivedAttributedString=hd.N0(s)}for(var Y in r)r[Y]=hd.g6(r[Y],N);
return r};hd.ys=function(r,N,F,h){if(r instanceof Uint8Array)return null;if(h.indexOf(r)!=-1)return null;
h.push(r);if(r==N)return F;for(var m in r){F.push(m);var O=hd.ys(r[m],N,F,h);if(O){console.log(r,O);
throw"e"}F.pop()}};hd.N0=function(r){var N=cb.parse(r,0),F=N.$objects,h=new Uint8Array(F.length),m=hd.YQ(F,h,N.$top.root);
for(var R=0;R<F.length;R++)if(h[R]==0&&R!=0){console.log(R,F[R]);hd.ys(m,R,[],[])}for(var R=0;R<F.length;
R++){var O=F[R];if(O._class&&(O._class=="bitmap"||O._class=="fill"&&O.fillType==4&&(O.image||O.imageSHA))){var e=O.image,P=O.imageSHA,B=null,s=null;
if(e=="$null")e=null;if(P=="$null")P=null;if(e&&e.data){s=e.sha1["NS.bytes"];s=btoa(J.Mj(s,0,s.length));
B=e.data instanceof Uint8Array?e.data:e.data["NS.bytes"]}else if(e==null&&P==null){var Y=bA.yU("PNG").xs([[w.B(4).buffer]],1,1);
B=new Uint8Array(Y)}else{var D=(m.assets?m.assets.imageCollection:m.images).images;if(P)s=P instanceof Uint8Array?P:P["NS.bytes"];
else s=e.sha1["NS.bytes"];s=btoa(J.Mj(s,0,s.length));var B=D[s].data;if(B["NS.bytes"])B=B["NS.bytes"]}B=new Uint8Array(B.buffer.slice(B.byteOffset,B.byteOffset+B.length));
delete O.imageSHA;O.image={key:s,bdata:B}}}return m};hd.ag_=function(r){return r.slice(0,11)=="MSImmutable"?"MS"+r.slice(11):r};
hd.YQ=function(r,N,F){var h=r[F];if(N[F]==1){return h}N[F]=1;if(typeof h=="string")return h;if(typeof h=="number")return h;
if(typeof h=="boolean")return h;if(h instanceof Array)return h;if(h instanceof Uint8Array){return h}if(r[h.$class]==null){if(h.$class==null&&h["NS.data"]!=null)return h;
console.log(F,h);throw"e"}var m=r[h.$class],O=hd.ag_(m.$classname);N[h.$class]=1;h.$class=O;if(hd.HP[O]){delete h.$class;
h._class=hd.HP[O]}var e=hd.YQ;if(O=="NSMutableArray"||O=="NSArray"){var P=[];if(h["NS.objects"]!=null)for(var R=0;
R<h["NS.objects"].length;R++)P.push(e(r,N,h["NS.objects"][R]));else for(var R=0;h["NS.object."+R]!=null;
R++)P.push(e(r,N,h["NS.object."+R]));r[F]=P;return P}if(O=="NSDictionary"||O=="NSMutableDictionary"){var B={$class:O};
if(h["NS.keys"]!=null)for(var R=0;R<h["NS.keys"].length;R++){var s=e(r,N,h["NS.keys"][R]);if(s instanceof Uint8Array)s=btoa(hd.gx.Mj(s,0,s.length));
else if(typeof s!="string"&&typeof s!="number")s=btoa(hd.gx.Mj(s["NS.bytes"],0,s["NS.bytes"].length));
B[s]=e(r,N,h["NS.objects"][R])}else for(var R=0;h["NS.key."+R]!=null;R++){var s=e(r,N,h["NS.key."+R]);
if(s instanceof Uint8Array)s=btoa(hd.gx.Mj(s,0,s.length));else if(typeof s!="string"&&typeof s!="number")s=btoa(hd.gx.Mj(s["NS.bytes"],0,s["NS.bytes"].length));
B[s]=e(r,N,h["NS.object."+R])}for(var Y in h)delete h[Y];for(var Y in B)h[Y]=B[Y];return h}if(O=="NSURL")return{$class:O,base:e(r,N,h["NS.base"]),relative:e(r,N,h["NS.relative"])};
if(hd.a7t.indexOf(O)!=-1){r[F]=e(r,N,h.array_do);return r[F]}if(h.do_objectID!=null)h.do_objectID=e(r,N,h.do_objectID);
if(hd.a5d.indexOf(O)!=-1)return h;var D=hd.aeF[O];if(D==null){console.log(r,h);throw"unknown class "+O}for(var R=0;
R<D.length;R++)if(h[D[R]]!=null)h[D[R]]=e(r,N,h[D[R]]);if(O=="MSTextLayer"){var c=h,o,H,x,Q;if(c.attributedString)o=c.attributedString.archivedAttributedString;
else o=c.storage;Q=o.NSString;if(typeof Q!="string")Q=J.H3(Q["NS.bytes"],0,Q["NS.bytes"].length);if(o.NSAttributeInfo)H=o.NSAttributeInfo["NS.bytes"];
else{var U=Q.length,I=[];while(U>0){var l=Math.min(100,U);I.push(l,0);U-=l}H=new Uint8Array(I)}x=o.NSAttributes instanceof Array?o.NSAttributes:[o.NSAttributes];
var p={$class:"NSAttributedString",NSString:Q,NSAttributes:x};c.attributedString={_class:"MSAttributedString",archivedAttributedString:p};
p.NSAttributeInfo={$class:"NSMutableData","NS.data":H};delete c.storage}return h};hd.gx={Dx:function(r,N){return r[N+1]<<8|r[N]},l:function(r,N){return r[N+3]<<24|r[N+2]<<16|r[N+1]<<8|r[N]},Mj:function(r,N,F){var h="";
for(var R=0;R<F;R++)h+=String.fromCharCode(r[N+R]);return h}};hd.HP={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
hd.a7t=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
hd.a5d="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
hd.aeF={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var cb={};cb.parse=function(r,N){var F=J.Mj(r,N,8);N+=8;var h=cb.parse.aq0(r,r.length-31),m=[];if(h.eN==1){var N=r.length-31-h.eN*h.Be;
for(var R=0;R<h.Be;R++)m.push(r[N+R])}else if(h.eN==2){var N=r.length-31-h.eN*h.Be;for(var R=0;R<h.Be;
R++)m.push(J.Dx(r,N+R*2))}else if(h.eN==4){var N=r.length-31-h.eN*h.Be;for(var R=0;R<h.Be;R++)m.push(J.l(r,N+R*4))}else{throw"e"}var O=cb.parse.YQ(r,m,h.root,h);
return O};cb.parse.YQ=function(r,N,F,h){var m=cb.gx,O=h.a1L,e=O==4?m.l:O==2?m.Dx:m.a4I,P=cb.parse,B=N[F],s=r[B],Y=s>>4,D=s&15,o=null;
B+=1;if([4,5,6,10,12,13].indexOf(Y)!=-1&&D==15){var c=P.YC(r,B);B+=c.WY;D=c.h}if(!1){}else if(Y==0)o=D==8?!1:D==9?!0:null;
else if(Y==1)o=P.YC(r,B-1).h;else if(Y==2)o=1<<D==4?J._W(r,B):J.AR(r,B);else if(Y==3)o=J.AR(r,B);else if(Y==4)o=new Uint8Array(r.buffer,B,D);
else if(Y==5)o=J.Mj(r,B,D);else if(Y==6)o=J.p3(r,B,D);else if(Y==8){o=0;for(var R=0;R<D+1;R++)o=o<<8|r[B+R]}else if(Y==10){o=[];
for(var R=0;R<D;R++)o.push(P.YQ(r,N,e(r,B+O*R),h))}else if(Y==12){o=[];for(var R=0;R<D;R++)o.push(P.YQ(r,N,e(r,B+O*R),h))}else if(Y==13){o={};
for(var R=0;R<D;R++){var H=P.YQ(r,N,e(r,B+O*R),h),x=P.YQ(r,N,e(r,B+O*(D+R)),h);o[H]=x}}else throw"unknown mask "+Y;
return o};cb.parse.YC=function(r,N){var F=1<<(r[N]&15),h=0;for(var R=0;R<F;R++)h=h<<8|r[N+1+R];return{h:h,WY:F+1}};
cb.parse.aq0=function(r,N){var F={};N+=6;F.eN=r[N];N++;F.a1L=r[N];N++;N+=4;F.Be=J.l(r,N);N+=4;N+=4;F.root=J.l(r,N);
N+=4;N+=4;F.a1a=J.l(r,N);N+=4;return F};cb.gx={a4I:function(r,N){return r[N]},Dx:function(r,N){return r[N]<<8|r[N+1]},l:function(r,N){return r[N]<<24|r[N+1]<<16|r[N+2]<<8|r[N+3]},Mj:function(r,N,F){var h="";
for(var R=0;R<F;R++)h+=String.fromCharCode(r[N+R]);return h}};var aP={parse:function(r){var N=new Uint8Array(r),F=aP.kf(N),h=[],m=new Uint8Array(N.length),O=[];
h.push(O);aP.tZ(N,F,1,m,O);for(var R=0;R<O.length;R++){var e=[];h.push(e);aP.tZ(N,F,O[R][3],m,e);O[R][3]=R+1}return h},tZ:function(r,N,F,h,m){F--;
var O=F*N.ow+(F==0?100:0),e=r[O],P=aP.Dx(r,O+1);if(P!=0)throw"free block in a page";var B=aP.Dx(r,O+3),s=aP.Dx(r,O+5);
if(s==0)s=65536;var Y=r[O+7],D=aP.Dx(r,O+8);if(e==2||e==5)O+=4;else D=0;for(var c=0;c<B;c++){var o=F*N.ow+aP.Dx(r,O+8+2*c),H=-1,x=0,Q=0,U=0;
if(e==2||e==5){H=aP.l(r,o);o+=4}if(e==2||e==10||e==13){x=aP.Rk(r,o);o+=x.WY}if(e==5||e==13){Q=aP.Rk(r,o);
o+=Q.WY}if(e==5){aP.tZ(r,N,H,h,m);continue}var I=N.ow-(F==0?100:0),l=x.MB,p=e==13?I-35:Math.floor((I-12)*64/255)-23,j=Math.floor((I-12)*32/255)-23,T=j+(l-j)%(I-4);
if(l<=p){aP.ZF(r,o,h,0,l)}else{var V=T<=p?T:j,E=0;aP.ZF(r,o,h,0,V);E+=V;U=aP.l(r,o+V);while(U!=0){var _=(U-1)*N.ow;
U=aP.l(r,_);var f=Math.min(N.ow-4,l-E);aP.ZF(r,_+4,h,E,f);E+=f}}m.push(aP.aiz(h,l))}},aiz:function(r,N){var F=0,h=aP.Rk(r,F);
F+=h.WY;var m=[],O=[];while(F<h.MB){var e=aP.Rk(r,F);F+=e.WY;m.push(e.MB)}if(F!=h.MB)throw"e";for(var R=0;
R<m.length;R++){var e=m[R];if(!1){}else if(e==0)O.push(null);else if(e==1){O.push(aP.avb(r,F));F+=1}else if(e==2){O.push(aP.OU(r,F));
F+=2}else if(e==3){O.push(aP.anM(r,F));F+=3}else if(e==4){O.push(aP.YC(r,F));F+=4}else if(e==7){O.push(aP.ace(r,F));
F+=16}else if(e==8)O.push(0);else if(e==9)O.push(1);else if(e>=12&&(e&1)==0){var P=e-13>>1,B=new Uint8Array(P);
aP.ZF(r,F,B,0,P);O.push(B);F+=P}else if(e>=13&&(e&1)==1){var P=e-12>>1;O.push(aP.H3(r,F,P));F+=P}else throw"unknonw type "+e}return O},kf:function(r){if(!(r[18]==1&&r[19]==1&&r[20]==0&&r[21]==64&&r[22]==32&&r[23]==32))throw"unexpected SQL3 header";
var N={Sf:aP.Mj(r,0,15),ow:aP.Dx(r,16),atO:aP.l(r,24),size:aP.l(r,28),ag7:aP.l(r,32),a8O:aP.l(r,36),a6H:aP.l(r,40),ao4:aP.l(r,44),a8w:aP.l(r,48),ab6:aP.l(r,52),aq6:aP.l(r,56),ahc:aP.l(r,60),aeA:aP.l(r,64)!=0,aqO:aP.l(r,68),arB:aP.l(r,92),aqm:aP.l(r,96)};
if(N.ow==1)N.ow=65536;if(N.aq6!=1)throw"unsupported text encoding "+N.aq6;return N},a3C:function(r,N){return r[N]<<16|r[N+1]<<8|r[N+2]},anM:function(r,N){var F=aP.a3C(r,N),h=F&8388608;
return h?-(16777215-F+1):F},avb:function(r,N){aP.I6[0]=r[N];return aP.a7n[0]},YC:function(r,N){var F=aP.I6;
for(var R=0;R<4;R++)F[R]=r[N+3-R];return aP.avl[0]},OU:function(r,N){var F=aP.I6;F[0]=r[N+1];F[1]=r[N];
return aP.ahe[0]},Dx:function(r,N){return r[N]<<8|r[N+1]},l:function(r,N){return r[N]<<24|r[N+1]<<16|r[N+2]<<8|r[N+3]},ace:function(r,N){var F=aP.I6;
for(var R=0;R<8;R++)F[R]=r[N+7-R];return aP.acx[0]},Rk:function(r,N){var F=N,j_=0;while(!0){var h=r[N];
N++;j_=j_*128+(h&127);if(h<128)break}return{MB:j_,WY:N-F}},Mj:function(r,N,F){var h="";for(var R=0;R<F;
R++)h+=String.fromCharCode(r[N+R]);return h},H3:function(r,N,F){var h="";for(var R=0;R<F;R++)h+="%"+aP.a7v(r[N+R].toString(16));
return decodeURIComponent(h)},ZF:function(r,N,F,h,m){if(r[N+m-1]==null||F[h+m-1]==null){console.log(N,h,m);
throw"e"}for(var R=0;R<m;R++)F[h+R]=r[N+R]},a7v:function(j_){return j_.length<2?"0"+j_:j_}};aP.I6=new Uint8Array(8);
aP.a7n=new Int8Array(aP.I6.buffer);aP.ahe=new Int16Array(aP.I6.buffer);aP.avl=new Int32Array(aP.I6.buffer);
aP.acx=new Float64Array(aP.I6.buffer);function jW(r,N,F){this.UB=r;this.B3=N;this.ae6=F;this.Zt=new gS(0,0);
this.O2=-1;this.c1=0;this.tk=0;this.GI=new fE;this.TP=[];this.aT=null;this.a2w=null;this.hL=null;this.Ld=null;
this.PU=null;this.auM=null}jW.prototype.StartPage=function(r,N,F,h,m){var O=this.B3,e=O.zf(),P=1,B=(F-r)*(h-N);
if(m!=null)B=m;while(B*e*e/(P*P)>2*8192*8192)P++;O.scale(1/P,1/P);this.a2w=[r,N,F,h];var P=O.zf();r=Math.round(r*P);
N=Math.round(N*P);F=Math.round(F*P);h=Math.round(h*P);var s=this.UB,Y=this.hL;if(Y==null){O.HG=-r}else{var D=Y[2]-Y[0]+30,c=Math.round(F-r)+30;
if(this.Zt.x+D+c>8192){O.HG=-r;this.Zt.x=0;this.Zt.y+=this.tk+120;this.tk=0}else{O.HG+=D;this.Zt.x+=D}}O.SS=this.Zt.y+(this.ae6?h:-N);
this.tk=Math.max(this.tk,Math.round(h-N));this.hL=[r,N,F,h];s.g.push(s.Dz())};jW.prototype.db=function(){var r=this.UB,N=r.g[r.g.length-1];
return N};jW.prototype.P1=function(){var r=JSON.parse(JSON.stringify(an.mr.default));r.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
r.strokeEnabled.v=!1;r.fillEnabled.v=!1;return r};jW.prototype.LF=function(){var r=this.UB,N=r.lc();
N.a6("Path "+r.g.length);this.UB.g.push(N);N.Rl|=16;N.add.SoCo={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:0,z:0,J:0})}};
N.add.vmsk=new C.Ug;N.add.vstk=this.P1();return N};jW.prototype.CZ=function(r){var N={t:r.crds,C:r.cmds},F=w.p.nN(N,!1);
w.H.nY(F,this.B3);return F};jW.avM=function(r,N){for(var R=0;R<r.length;R++)if(r[R].r5!=null)r[R].r5=N};
jW.abx=function(r){return Math.sqrt(Math.abs(r[0]*r[3]-r[1]*r[2]))};jW.OF=function(r){return w.X.QA({Z:r[0]*255,z:r[1]*255,J:r[2]*255})};
jW.$u=function(r){return new hc(r[0],r[1],r[2],r[3],r[4],r[5])};jW.prototype.Stroke=function(r){if(this.O2!=-1&&this.O2!=this.c1)return;
if(r.pth.cmds.length<=1)return;var N=this.CZ(r.pth);if(N.length<=2)return;this.TT(r);jW.avM(N,-1);N[2].r5=1;
var F=jW.OF(r.COLR),h=this.db(),m=this.P1();jW.jZ(m,r,this.B3.zf(),F);var O=h!=null&&h.add.vmsk!=null&&!h.zv(),e=O&&!h.add.vstk.strokeEnabled.v&&C.Ug.ato(h.add.vmsk.Y,N,!0),P=O&&!h.add.vstk.fillEnabled.v&&JSON.stringify(m)==JSON.stringify(h.add.vstk);
if(P){h.add.vmsk.Y=h.add.vmsk.Y.concat(N.slice(2))}else if(e){h.add.vstk=m;m.fillEnabled.v=!0}else{h=this.LF();
h.add.vmsk.Y=N;h.add.vstk=m}};jW.jZ=function(r,N,F,h){r.strokeEnabled.v=!0;r.strokeStyleMiterLimit.v=N.mlimit;
r.strokeStyleLineDashSet.v=iL.IH(N.dash,1/N.lwidth);r.strokeStyleLineDashOffset.v.val=N.doff;r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=an.mr.join[N.ljoin];
r.strokeStyleLineCapType.v.strokeStyleLineCapType=an.mr._6[N.lcap];r.strokeStyleLineWidth.v.val=Math.max(.4,N.lwidth*jW.abx(N.ctm)*F);
r.strokeStyleContent.v.Clr.v=h};jW.prototype.Fill=function(r,N){if(this.O2!=-1&&this.O2!=this.c1)return;
if(r.ca==0)return;var F=r.pth.cmds;if(F.length==0)return;if(F.length==2&&JSON.stringify(F)=="[\"M\",\"L\"]")return;
var h=w.p.Ce(r.pth.crds),m=w.p.Ce(r.cpth.crds);if(h.c_(m).lX())return;var O=r.pth,e=UDOC.G.isBox(O,[h.x,h.y,h.x+h.e,h.y+h.n]),P=r.cpth,B=UDOC.G.isBox(P,[m.x,m.y,m.x+m.e,m.y+m.n]);
if(e&&B&&h.W()>m.W()*2){var s=h.c_(m),Y=s.x,D=s.y,c=Y+s.e,o=D+s.n;O={cmds:["M","L","L","L","Z"],crds:[Y,D,c,D,c,o,Y,o]};
h=s}else if(this.Ld==null&&UDOC.G.isBox(O,[h.x,h.y,h.x+h.e,h.y+h.n])&&h.w9(m)){O=P;h=m}else this.TT(r);
var H=this.CZ(O),x=w.p.fc(h);w.p.A(x.t,this.B3,x.t);h=w.p.Ce(x.t);var Q=jW.YY(r.colr,this.B3,h),U=this.db(),I=U!=null&&U.opacity==Math.round(255*r.ca)&&U.add.vstk!=null&&!U.add.vstk.strokeEnabled.v&&U.add.SoCo&&Q.type=="SoFi"&&JSON.stringify(U.add.SoCo.Clr.v)==JSON.stringify(Q.h.v.Clr.v);
if(I){var l=!1;for(var R=0;R<H.length;R++){if(H[R].r5==0||H[R].r5==2)l=!0}if(l){var p=w.p.Ce(w.H.u6(U.add.vmsk.Y)),j=w.p.Ce(w.H.u6(H));
I=p.c_(j).lX()}}if(I){var T=U.add.vmsk.Y;for(var R=2;R<H.length;R++)T.push(H[R])}else{U=this.LF();delete U.add.SoCo;
U.add.vmsk.Y=C.Ug.sN(H);jW.zP(r.colr,U,this.B3,h);jW.E1(r,U)}};jW.zP=function(r,N,F,h){var m=jW.YY(r,F,h),O=null,e=null;
N.add.vstk.fillEnabled.v=!0;if(m.type=="SoFi"){O="SoCo";e=an.eA}if(m.type=="GrFl"){O="GdFl";e=an.ZE}if(m.type=="patternFill"){O="PtFl";
e=an.bf}if(O!=null){N.add[O]={classID:"null"};for(var R=0;R<e.length;R++){var P=e[R];N.add[O][P]=m.h.v[P]}}};
jW.prototype.TT=function(r){var N=this.UB,F=r.cpth,h=F.cmds.join(""),m=F.crds,O=h+" "+m.join(","),e=UDOC.G.isBox(F,this.a2w);
if(e&&this.Ld==null)return;if(O==this.Ld)return;this.Ox();if(!e){this.Ld=O;N.g.push(N.Dz());var P=N.lc();
P.a6("Mask");P.add.lsct=jJ.ab;P.$j="pass";P.Rl=24;var B=P.add.vmsk=new C.Ug;B.Y=this.CZ(r.cpth);if(UDOC.G.isBox(F)){this.PU=w.H.KX(B.Y);
this.PU.r2(3,3)}else this.PU=null;this.auM=P}};jW.prototype.Ox=function(){var r=this.UB;if(this.Ld!=null){var N=r.g.length-1,R=N,F=!1;
while(R>=0&&r.g[R].add.lsct!=jJ.aE)R--;var h=this.PU;if(h){var m=new fE,O=N;while(O>R){m=r.g[O].R5(this.UB,!1,!0);
O--}F=h.w9(m)}if(F){this.TP.splice(R,1);r.g.splice(R,1)}else{r.g.push(this.auM)}this.Ld=null}};jW.YY=function(r,N,F){var h,m;
if(r.length!=null){h="SoFi";var O=JSON.parse(an.O7[an.order.indexOf("SoFi")]);m={t:"Objc",v:O};m.v.Clr.v=jW.OF(r)}else{var e=jW.as$(r,N,F);
h="GrFl";m={t:"Objc",v:e}}return{type:h,h:m}};jW.as$=function(r,N,F){var h=JSON.parse(an.O7[an.order.indexOf("GrFl")]),m=h.Grad.v;
m.Intr.v=0;var O=jW.$u(r.mat);O.concat(N);var e=new gS(0,0),P=new gS(F.e,0),B=r.crds;if(r.typ=="rad"){h.Type.v.GrdT="Rdl";
var s=.7;e.x=(1-s)*B[0]+s*B[3];e.y=(1-s)*B[1]+s*B[4];P.x=e.x;P.y=e.y;P.x+=Math.max(B[2],B[5])}else{h.Type.v.GrdT="Lnr";
e.x=B[0];e.y=B[1];P.x=B[2];P.y=B[3];e.x=P.x+.5*(e.x-P.x);e.y=P.y+.5*(e.y-P.y)}e=O.eS(e);P=O.eS(P);w.X.zm(e,P,F,h);
var Y=r.grad;w.X.y2(Y,m);return h};jW.prototype.PutText=function(r,N,F,h){var m=N.charCodeAt(0),c=null;
if(this.O2!=-1&&this.O2!=this.c1)return;if(N.length==0||N.length==1&&(m==0||m==8203))return;this.TT(r);
var O=this.UB,e=r.font,P=jW.$u(r.ctm);P.concat(this.B3);var B=jW.$u(e.Tm);B.concat(P);var s=z.Q.zf(B),Y=new hc(1/s,0,0,-1/s,0,0);
Y.concat(B);var D=e.Tfs*s,o=O.g.length-1;while(o>=0&&O.g[o].add.TySh==null)o--;if(Y.J*Y.J+Y.KM*Y.KM<.001&&h==null&&o>=0&&O.g[o].add.TySh&&O.g[o].opacity==Math.round(255*r.ca)){var H=O.g[o],x=this.TP[o],Q=H.add.TySh.A,U=(Q.HG+x.jm-Y.HG)/D,I=Math.abs(U),l=N.indexOf(" ")==-1,p=Q.O$==Y.O$&&Q.J==Y.J&&Q.KM==Y.KM&&Q.Bv==Y.Bv,j=p&&Math.abs(x.H1-Y.SS)<1e-5&&I<.6,T=Y.SS-x.H1;
if(j){c=H;x.jm=Y.HG-Q.HG;if(U>.2&&l&&[".",",","?",":","!"].indexOf(N)==-1)N=" "+N}else if(p&&Math.abs(Y.HG-Q.HG)<1e-5&&0<T&&T<D*1.7&&x.a0X==D){c=H;
this.pf(x);x.H1=Y.SS;N="\n"+N}}if(c==null){o=O.g.length;this.TP[o]={bu:[],jm:0,H1:Y.SS,_t:"",a0X:D};
c=O.lc();O.g.push(c);c.add.lnsr="rend";c.add.TySh=gQ.WW(0,0);c.add.TySh.A=Y}var x=this.TP[o];x.jm+=F*D;
x._t+=N;var V=c.add.TySh.sl,E=gQ.Xe(V);if(h){gQ.l7(V,1);var _=[0,0,Math.ceil(h[0]*s),Math.ceil(h[1]*s)];
gQ.q2(V,_)}var f=E.length-1,S=f+N.length;gQ.BY(V,f,N);if(this.aT==null)this.aT=gQ.pz(V,f,f);var L=this.aT;
L.AY.FontSize=Math.round(D);L.AY.Tracking=Math.round(e.Tc*100);L.AY.Underline=e.Tun==1;L.AY.FillColor={Type:1,Values:[1,r.colr[0],r.colr[1],r.colr[2]]};
if(e.Tal!=null)L.hS.Justification=e.Tal;if(x.bu.length!=0){L.AY.AutoLeading=!1;L.AY.Leading=x.H1-x.bu[x.bu.length-1].y}var y=e.Tf;
y=y.replace(/#2B/g,"+");y=y.replace(/#2C/g,"-");y=y.split("+").pop();var $={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if($[y])y=$[y];gQ.dV(L,y);gQ.sW(V,f,S-1,L);c.kq();c.opacity=Math.round(255*r.ca)};jW.prototype.pf=function(r){r.bu.push({YW:r.jm,xa:r._t.slice(r.bu.length==0?0:1)+"\n",y:r.H1,ou:r.a0X});
r.jm=0;r._t=""};jW.prototype.IJ=function(r,N,F){return new Uint8Array(bA.yU("PNG").xs([[r.buffer,0]],N,F))};
jW.prototype.PutImage=function(r,N,F,h,m,O,e){if(this.O2!=-1&&this.O2!=this.c1)return;var P=this.UB,B=r.font.Tmode;
if(B==7&&P.g[P.g.length-1].add.TySh){return}this.TT(r);var s=jW.$u(r.ctm);s.concat(this.B3);var Y=new hc(1/F,0,0,-1/h,0,1);
Y.concat(s);s=Y;N=jW.rV(N,F,h,O,!1);if(m)m=jW.rV(m,F,h,e,!0);if(m==null){if(N.length==F*h*4)N=this.IJ(N,F,h)}else{N=this.$D(N,F,h,O,!1);
m=this.$D(m,F,h,e,!0);var D=w.B(F*h);w.Pw(m,D,0);w.vr(D,N,3);N=this.IJ(N,F,h)}var c=P.yk(N,"Bitmap",0,0),o=c.rect.clone();
o.x=o.y=0;var H=w.p.fc(o).t;w.p.A(H,s,H);c.add.SoLd.Trnf=z.Q.JE(H);c.add.SoLd.nonAffineTransform=z.Q.JE(H);
c.XY(P,!1);jW.E1(r,c);P.g.push(c)};jW.E1=function(r,N){N.opacity=Math.round(255*r.ca);var F=jW.xL[r.bmode];
if(F==null)console.log("Unknown blend mode",F);else N.$j=F};jW.xL={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
jW.YZ=function(r){for(var N in jW.xL)if(jW.xL[N]==r)return N};jW.rV=function(r,N,F,h,m){var O=bA.Cn(r.buffer);
if(O=="jpg"){try{r=new Uint8Array(bA.yU("JPG").aoF(r.buffer))}catch(ab){r=new Uint8Array(N*F*4)}}else if(O=="jb2"){r=new Uint8Array(bA.yU("JPG").V9(r.buffer,h,m)[0].data)}else if(r.length!=N*F*4){var e=new Uint8Array(N*F*4),P=Math.ceil(N/8),B=new Uint8Array(F*P);
UTIF.decode._decodeG4(r,0,r.length,B,0,N,1);var s=B[0]==(m?255:0);for(var Y=0;Y<F;Y++){var D=P*Y;for(var c=0;
c<N;c++){var R=Y*N+c,o=R*4,H=(B[D+(c>>3)]>>7-(c&7)&1)*255;if(s)H=255-H;e[o]=H;e[o+1]=H;e[o+2]=H;e[o+3]=255}}r=e}return r};
jW.prototype.$D=function(r,N,F,h,m){if(r.length!=N*F*4){var O=bA.Cn(r.buffer);if(O=="jb2")throw"e";var e=bA.yU(O);
if(e==null||O=="tga")e=bA.yU("jpg");r=new Uint8Array(e.V9(r,h,m)[0].data)}return r};jW.prototype.ShowPage=function(){var r=this.UB;
this.c1++;var N=this.hL;this.Ox();var F=r.lc();r.g.push(F);var h=new fE(Math.round(this.Zt.x),Math.round(this.Zt.y),Math.round(N[2]-N[0]),Math.round(N[3]-N[1]));
if(h.lX())h.e=h.n=2e3;this.GI=this.GI.fD(h);F.xz(h);F.add.artb.artboardBackgroundType.v=1;F.a6("Page "+this.c1);
F.add.lsct=jJ.ab;F.$j="pass";F.Rl=24};jW.prototype.Print=function(r){console.log("Print:",r)};jW.prototype.Done=function(){var r=this.UB;
if(this.c1==1)r.g[r.g.length-1].add.lsct=jJ.Ra;r.c3(this.c1);for(var R=0;R<r.g.length;R++){var N=r.g[R],F=N.add.vmsk,h=N.add.TySh,m=this.TP[R];
N.jq();if(F){var O=!1;for(var e=0;e<F.Y.length;e++){var P=F.Y[e];if((P.type==0||P.type==3)&&P.length>32767)O=!0}if(O){r.g.splice(R,1);
R--;continue}}N.dD(r);if(h&&m.bu.length!=0){this.pf(m);var B=h.sl,s=m.bu.length,Y=m.bu[0],D=0,o=0;for(var e=0;
e<s;e++)D=Math.max(D,m.bu[e].YW);gQ.l7(B,1);h.A.SS-=Y.ou*.7;gQ.q2(B,[0,0,Math.ceil(D*1.1),Math.ceil(m.bu[s-1].y-Y.y+Y.ou*2)])}if(h){var B=h.sl;
gQ.agO(B);var H=gQ.Xe(B).split("\n");for(var e=0;e<H.length-1;e++){var x=H[e],Q=0;for(var U=0;U<x.length;
U++){var I=x.charCodeAt(U);if(1473<=I&&I<=1524)Q++}if(Q>x.length/2){H[e]=x.split("").reverse().join("");
var l=B.EngineDict.ParagraphRun.RunArray[e].ParagraphSheet.Properties;l._Direction=1;l.Justification=gQ.iQ(l)}}gQ.Yr(B,H.join("\n"))}}r.hP=!0;
r.e=this.GI.e;r.n=this.GI.n;r.buffer=w.B(this.GI.W()*4)};var cJ={};cJ.uZ=function(r,N,F,h,m,O){if(m==null)m=r.e;
if(O==null)O=r.n;var e=!1,P=[r.root],B=r.root.children;if(r.add.artd){e=!0;for(var R=0;R<B.length;R++)if(B[R].a.add.artb==null)e=!1;
if(e)P=B}var s=new fE(0,0,r.e,r.n),Y=N[0];Y=Y.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
Y=Y.split(" ");var D=[];for(var R=0;R<Y.length;R++){var c=Y[R];if(c=="-"){var o=D.pop(),H=parseInt(Y[R+1]);
while(o<H){D.push(o);o++}}else D.push(parseInt(c))}Y=D;for(var R=0;R<Y.length;R++)if(isNaN(Y[R])||Y[R]<1||Y[R]>P.length){Y.splice(R,1);
R--}var x=m/r.e,Q=O/r.n,U=x*72/r.EP,I=Q*72/r.EP,l=N[5];if(l==null)l=0;var p=72*l,j=72*l;for(var T=0;
T<P.length;T++){var R=T;if(N[2])R=P.length-1-T;if(Y.length!=0&&Y.indexOf(R+1)==-1)continue;var V=P[R],E=e?V.a.CN():s;
if(!V.a.gv())continue;var _=Math.round(E.e*U+2*p),f=Math.round(E.n*I+2*j);F.StartPage(0,0,_,f);var S=UDOC.getState([[0,0,_,f]]),L=new hc;
L.translate(-E.x,-E.y-E.n);L.scale(U,-I);L.translate(p,j);if(e){var y=V.a.add.artb,$=y.artboardBackgroundType.v;
if($!=1&&$!=3){var Z=V.a.PG(),i=E.x+E.e,b=E.y+E.n;S.colr=[(Z>>>0&255)/255,(Z>>>8&255)/255,(Z>>>16&255)/255];
S.pth={cmds:["M","L","L","L","Z"],crds:[E.x,E.y,i,E.y,i,b,E.x,b]};F.Fill(S)}}if(N[3]){var G=r.G9();if(!s.cj(E)){G=w.B(E.W()*4);
w.L3(r.G9(),s,G,E)}if(N[1]!=100){var g=bA.yU("JPG").xs([[G.buffer]],E.e,E.n,[N[1]]);G=new Uint8Array(g)}var u=new hc;
u.translate(E.x,E.y);cJ.WP(S,F,G,E,u,L)}else cJ.dq(r,V,S,F,L,N,h);F.ShowPage()}F.Done()};cJ.Sd=function(r){r=w.X.Mq(r);
return[r.Z/255,r.z/255,r.J/255]};cJ.dq=function(r,N,F,h,m,O,e){var P=N.a,B=P.add.lsct,s=P.add.lmfx,Y=P.add.vmsk,D=P.add.vstk,c=P.add.TySh,Q,U;
if(!P.gv())return;var o=P.opacity/255,H=P.add.iOpa!=null?P.add.iOpa/255:1;F.bmode=jW.YZ(P.$j);F.ca=F.CA=o*H;
var x=s;if(x)x=x.solidFillMulti.v[0];if(x)x=x.v;if(x&&!x.enab.v)x=null;var I=P.rect;if(P.aF()&&(!P.zv()||P.Oo&&P.Oo.mw)){if(P.zv){Q=P.Oo.mw;
I=P.Oo.aqL}else{Q=w.B(P.rect.W());w.Pw(P.buffer,Q,3)}U=iL.ce(s,null,Q,I,r,I).type;var l=["DrSh","OrGl"];
if(H!=1||D&&!D.fillEnabled.v){var p=Q.slice(0);w.iL(p);for(var R=0;R<l.length;R++){var j=U[l[R]];for(var T=0;
T<j.length;T++){var V=j[T],E=V.uT.clone();E.x+=I.x;E.y+=I.y;w.Y$(p,I,V.iS,E)}}}}if(U)cJ.Bn(P,Q,I,U,F,h,m,O,!0);
if(P.zv()){for(var R=0;R<N.children.length;R++)cJ.dq(r,N.children[R],F,h,m,O,e)}else if(Y&&P.t8()&&P.add.PtFl==null){var _=Y.Y,f=w.H.KX(_),S=!1,L=!1,y=!1;
if(D.fillEnabled.v){var $=iL.j9(s,P.add),Z=$[0],i=$[1];F.colr=cJ.c$(Z?Z:i,m,f);S=!0}var b=iL.Vl(s);if(!D.strokeEnabled.v&&b)D=b;
if(D.strokeEnabled.v){var G=D.strokeStyleContent.v,g=D.strokeStyleLineDashSet.v,u=an.mr.bj.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
F.COLR=cJ.c$(G,m,f);F.lwidth=D.strokeStyleLineWidth.v.val*(u==2?2:1)*m.zf();F.mlimit=D.strokeStyleMiterLimit.v;
F.doff=D.strokeStyleLineDashOffset.v.val;F.ljoin=an.mr.join.indexOf(D.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
F.lcap=an.mr._6.indexOf(D.strokeStyleLineCapType.v.strokeStyleLineCapType);F.dash=[];for(var R=0;R<g.length;
R++)F.dash.push(g[R].v.val*F.lwidth);if(F.dash.length==1&&F.dash[0]==0)F.dash=[];L=!0;if(u==2)y=!0}var A=w.p.tu(_,L).oS;
w.p.A(A.t,m,A.t);F.pth={cmds:A.C,crds:A.t};if(S&&!y)h.Fill(F);if(L)h.Stroke(F);if(S&&y)h.Fill(F)}else if(c&&O[4]){var a=c.sl,d=new ac(a,e),A=d0.St(d,c),K=w.p.fP(A);
for(var n in K){var t=parseInt(n.slice(1,7),16),X=0;F.colr=x?cJ.Sd(x.Clr.v):cJ.ms(t);if(n.length>7){var aK=n.slice(7).split("-"),t=parseInt(aK[1].slice(1),16);
F.lwidth=X=parseFloat(aK[2])*m.zf();F.COLR=x?cJ.Sd(x.Clr.v):cJ.ms(t)}var fg=K[n];w.p.A(fg.t,m,fg.t);
fg=w.p.a6o(fg);F.pth={cmds:fg.C,crds:fg.t};h.Fill(F);if(X!=0)h.Stroke(F)}}else if(c){var a=JSON.parse(JSON.stringify(c.sl));
gQ.agO(a);var k=c.A.clone(),hG=new hc(1,0,0,-1,0,0);hG.concat(k);hG.concat(m);var eE=gQ.Xe(a),d=new ac(a,e);
for(var R=0;R<d.hS.length;R++){var hW=d.hS[R];if(hW.ar.length==1&&hW.ar[0].$w)continue;for(var T=0;T<hW.NE.length;
T++){var hh=hW.NE[T],hI=hW.pV.y+hh.pV.y,db=hW.ar[hh.start].start,by=hW.ar[hh.end-1].end,jM=gQ.aoL(a,db,by);
for(var fP=0;fP<jM.length;fP++){var hB=d.k3(db),iu=jM[fP],be=gQ.pz(a,db,db),bp=be.f7[be.AY.Font].Name;
F.font.Tf=bp;var n=gQ.Mq(be.AY.FillColor);F.colr=x?cJ.Sd(x.Clr.v):[n.Z/255,n.z/255,n.J/255];var ij=F.font.Tfs=Math.round(be.AY.FontSize),fT=eE.slice(db,db+iu);
if(be.AY.FontCaps==2)fT=fT.toUpperCase();var ei=new hc;ei.translate(hB.NQ.x,-hI);ei.concat(hG);F.ctm=[ei.O$,ei.J,ei.KM,ei.Bv,ei.HG,ei.SS];
h.PutText(F,fT,0);for(var bz=0;bz<2;bz++){var aM=be.AY[bz==0?"Strikethrough":"Underline"];if(!aM)continue;
var hw=d.k3(db+iu-1),hx=bz==0?.27:-.2,fm=ij*hx,dE=ij*(hx+.07),X=hw.NQ.x+hw.NQ.e-hB.NQ.x,gD=[0,fm,X,fm,X,dE,0,dE];
w.p.A(gD,ei,gD);F.pth={cmds:["M","L","L","L","Z"],crds:gD};h.Fill(F)}F.ctm=[1,0,0,1,0,0];db+=iu}}}}else if(!P.rect.lX()){var c2,bQ,f9=!1,jR=new hc,gP=P.add.SoLd,jh=!0;
if(gP)jh=w.N.Hl(z.Q.N3(gP.Trnf));if(gP&&jh){var k6=gP.Idnt.v,eZ=r.BQ(k6,gP.Crop?gP.Crop.v:null),jG="";
if(eZ==null)return;var b5=eZ.Mk,fG=bA.Cn(eZ.raw.buffer);if(O[6].indexOf(fG)!=-1){c2=eZ.raw;f9=!0}else c2=b5[0];
bQ=b5[1];jR=w.N.I3(gP)}else{c2=P.buffer;bQ=P.rect;jR.translate(bQ.x,bQ.y)}if(x&&!f9)c2=iL.alJ(c2,x,bQ);
cJ.WP(F,h,c2,bQ,jR,m);if(x&&f9){var gD=[0,0,bQ.e,0,bQ.e,bQ.n,0,bQ.n];w.p.A(gD,jR,gD);w.p.A(gD,m,gD);
var i_=JSON.parse(JSON.stringify(F));i_.ca=x.Opct.v.val/100;i_.pth={cmds:["M","L","L","L","Z"],crds:gD};
i_.colr=cJ.Sd(x.Clr.v);h.Fill(i_)}}if(U)cJ.Bn(P,Q,I,U,F,h,m,O,!1)};cJ.ms=function(r){return[(r>>>16&255)/255,(r>>>8&255)/255,(r&255)/255]};
cJ.c$=function(r,N,F){if(r.Clr)return cJ.Sd(r.Clr.v);var h=r,m=h.Rvrs?h.Rvrs.v:!1,O=h.Type.v.GrdT,e=[],P,B=O=="Rdl"||O=="Dmnd"?"rad":"lin",s=w.X.G0(h,F),Y=N.eS(s[0]),D=N.eS(s[1]);
if(B=="rad")P=[Y.x,Y.y,0,Y.x,Y.y,gS.Mz(Y,D)];else{Y.YR(D.x+(Y.x-D.x)*2,D.y+(Y.y-D.y)*2);P=[Y.x,Y.y,D.x,D.y]}var c=h.Grad.v.Clrs.v;
for(var R=0;R<c.length;R++){var o=c[R].v,H=o.Lctn.v/4096;e.push([m?1-H:H,cJ.Sd(o.Clr.v)])}if(m)e.reverse();
return{typ:B,mat:[1,0,0,1,0,0],grad:e,crds:P}};cJ.Bn=function(r,N,F,h,m,O,e,P,B){var s=F.clone(),Y=N;
if(r.add.TySh&&!P[3]&&!P[4])return;var D=m.ca,c=m.bmode;for(var R=an.order.length-1;R>=0;R--){var o=an.order[R];
if(o=="GrFl"||o=="SoFi")continue;if(r.add.vmsk&&o=="FrFX")continue;var H=h[o],x=R>7||o=="FrFX";if(x!=B)continue;
for(var Q=0;Q<H.length;Q++){var U=H[Q];if(U.uT==null)U=U.jd?U.jd:U.gB;var I=U.uT.clone();I.offset(s.x,s.y);
if(!x){if(!s.w9(I)){var l=s.fD(I),p=w.B(l.W());w.nZ(Y,s,p,l);Y=p;s=l}w.Y$(Y,s,U.iS,I)}if(x&&o=="FrFX"&&U.XG)w.Y$(U.XG,I,U.iS,I);
var j=new hc;j.translate(I.x,I.y);m.ca=U.Ro;m.bmode=jW.YZ(U.$T);cJ.WP(m,O,U.iS,I,j,e)}}m.ca=D;m.bmode=c};
cJ.WP=function(r,N,F,h,m,O){var e=new hc;e.scale(h.e,-h.n);e.translate(0,h.n);e.concat(m);e.concat(O);
r.ctm=[e.O$,e.J,e.KM,e.Bv,e.HG,e.SS];N.PutImage(r,F,h.e,h.n);r.ctm=[1,0,0,1,0,0]};var gi={};gi.ep=function(r){var N=new Uint8Array(r);
return gi.zV(N,0)};gi.zV=function(r,N){var F=J.l,h=J.Mj,m={$U:h(r,N,4),r:N+8,size:F(r,N+4)},O=m.$U=="FORM"||m.$U=="LIST"||m.$U=="CAT ";
if(O)m.gS=h(r,N+8,4);if(m.size<0||m.r+m.size>r.length)throw"e";if(O){m.sub=[];N+=12;var e=m.r+m.size;
while(N<e){var P=gi.zV(r,N);m.sub.push(P);N+=8+P.size+(P.size&1)}}return m};var dy={};dy.ep=function(r,N){var F=new Uint8Array(r);
return dy.zV(F,0,N)};dy.zV=function(r,N,F){var h=J.Iy,m=J.Mj,O={$U:m(r,N,4),r:N+8,size:h(r,N+4)};if(F&&F[O.size]!=null)O.size=F[O.size];
if(O.$U=="RIFF"||O.$U=="LIST"){O.gS=m(r,N+8,4)}if(O.size<0||O.r+O.size>r.length)throw"e";if(O.$U=="RIFF"||O.$U=="LIST"&&(O.gS!="cmpr"&&O.gS!="stlt")){O.sub=[];
N+=12;var e=O.r+O.size;while(N<e){var P=dy.zV(r,N,F);O.sub.push(P);N+=8+P.size+(P.size&1)}}return O};
function cE(){}cE.ep=function(r,N){var F=new Uint8Array(r);N.hP=!0;var h=J.Mj(F,0,2);if(h=="WL"){alert("Unsupported CDR version")}else{var m=cE.Zw,O=dy.ep(F.buffer),e={data:F,r:0,fs:cE.akE(F[11])},P,B,H=300;
e.Qo=e.fs<600?16:32;cE.di(e,O.sub,N,0);if(m(O,"cmpr")==null){P=m(O,"page");B=P}else{var s=m(O,"cmpr").sub;
P=s[0];B=s.slice(1)[1];var Y=m(P,"filt").sub,D=m(P,"otlt").sub;P.E0={};for(var R=0;R<Y.length;R++)P.E0[Y[R].sub[0].h.id]=Y[R].sub[0].h;
P.uC={};for(var R=0;R<D.length;R++)P.uC[D[R].h.id]=D[R].h}var c=m(P,"mcfg").h,o=c.a3F;H/=j6.Pp(new fE(0,0,Math.round(o.x*H),Math.round(o.y*H)),8192*8192);
var x=Math.round(o.x*H),Q=Math.round(o.y*H);N.e=x;N.n=Q;N.buffer=w.B(N.e*N.n*4);var U=new hc(H,0,0,-H,o.x*H/2,o.y*H/2);
cE.DJ(B,P,N,U);N.c3(1);N.g[N.g.length-1].xz(new fE(0,0,x,Q))}};cE.Zw=function(r,N){var F=null;if(r.sub==null)return F;
for(var R=0;R<r.sub.length;R++){var h=r.sub[R];if(h.$U==N||h.gS==N)F=h}return F};cE.DJ=function(r,N,F,h){var m=cE.Zw,O=r.gS?r.gS:r.$U,e=m(r,"lgob"),P=m(r,"txsm"),B,s;
if(e){B=m(e,"trfl");s=m(e,"loda")}else if(m(r,"lobj"))s=m(r,"lobj");var Y=B?B.sub[0].PB.clone():new hc;
Y.concat(h);var D=F.lc();if(O=="page"||O=="layr"||O=="grp "){D.a6((O=="page"?"Page":"Group")+" "+F.g.length);
D.add.lsct=jJ.Ra;D.$j="pass";D.Rl=24;var c=[];if(O=="page")c=m(r,"gobj").sub;if(O=="layr")c=r.sub.slice(2);
if(O=="grp ")c=r.sub.slice(4);if(c.length==0)return;F.g.push(F.Dz());for(var R=c.length-1;R>=0;R--)cE.DJ(c[R],N,F,h)}else if(O=="obj "&&s.h&&s.h.path){D.a6("Object "+F.g.length);
var o,H;if(N.E0){o=N.E0[s.h.aj5];H=N.uC[s.h.aaw]}var x=D.getName(),Q=o&&o.type!=0,U=Q&&o.h!=null?o.h:[0,0,0];
D.Rl|=16;D.add.vstk=JSON.parse(JSON.stringify(an.mr.default));var I=D.add.vstk;I.strokeEnabled.v=!1;
D.add.vmsk=new C.Ug;if(H&&H.ai0!=1){I.strokeEnabled.v=!0;I.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
I.strokeStyleLineWidth.v.val=H.lineWidth*h.zf();var l=H.color;I.strokeStyleContent.v.Clr.v=w.X.QA({Z:l[0]*255,z:l[1]*255,J:l[2]*255})}var p=s.h.path;
D.add.vmsk.Y=w.p.nN(p,!1);w.H.nY(D.add.vmsk.Y,Y);jW.zP(U,D,Y,w.H.KX(D.add.vmsk.Y));I.fillEnabled.v=Q;
D.jq();D.dD(F)}else if(O=="obj "&&P){var j=s.h.akg,T=s.h.akb,_="";D.add.TySh=gQ.WW(0,0);var V=Y.zf();
D.add.TySh.A.translate(Y.HG,Y.SS);var E=D.add.TySh.sl,f=P.h.anB;for(var R=0;R<f.length;R++){var S=f[R],L=_.length;
_+=S.text+"\n";gQ.BY(E,L,S.text+"\n");var y=cE.a5n(S.aeN,N),$=gQ.pz(E,L,_.length);if(y.align==3)$.hS.Justification=1;
else $.hS.Justification=0;var Z=y.fill.h;$.AY.FillColor={Type:1,Values:[1,Z[0],Z[1],Z[2]]};$.AY.FontSize=Math.round(y.aa_.fontSize*Y.zf());
gQ.sW(E,L,_.length-1,$)}if(T){gQ.l7(E,0)}else{gQ.l7(E,1);gQ.q2(E,[0,0,Math.round(j.x*Y.O$),Math.round(-j.y*Y.Bv)])}D.a6(_.slice(0,10))}else{D=null}if(D)F.g.push(D)};
cE.a5n=function(r,N){var F=cE.Zw(N,"stlt").h,h=JSON.parse(JSON.stringify(F.oB[r]));if(h.Ze!=0){var m=F.oB[h.Ze];
for(var O in m)if(h[O]==null||h[O]==0)h[O]=m[O];delete h.Ze}h.align=F.alb[h.a2S];h.fill=N.E0[F.aoZ[h.ai2]];
h.ao3=N.uC[F.atj[h.alL]];h.aa_=F.akx[h.a5a];return h};cE.a61=function(R){var j_=R.data[R.r];R.r+=1;return j_};
cE.Mo=function(R){var j_=J.av(R.data,R.r);R.r+=2;return j_};cE.tK=function(R){var j_=J.Iy(R.data,R.r);
R.r+=4;return j_};cE.a1S=function(R){var j_=J.Iy(R.data,R.r);R.r+=8;return j_};cE.gy=function(R){var j_=J.Ki(R.data,R.r);
R.r+=2;return j_};cE.ul=function(R){var j_=J.dk(R.data,R.r);R.r+=4;return j_};cE.AR=function(R){var j_=J.ZT(R.data,R.r);
R.r+=8;return j_};cE.uS=function(R){if(R.r>=R.data.length)throw"e";var r=0;while(R.data[R.r+r]!=0)r++;
var N=J.Mj(R.data,R.r,r);R.r+=r+1;return N};cE.adQ=function(r){if(r.fs<600)return Math.PI*cE.gy(r)/1800;
return Math.PI*cE.ul(r)/18e7};cE.a14=function(r){if(r.fs<1500)return cE.lT(r);else return cE.AR(r)/254e3};
cE.lT=function(r){if(r.fs<600)return cE.gy(r)/1e3;else return cE.ul(r)/254e3};cE.agm=function(r){if(r.fs<600)return cE.Mo(r);
else return cE.tK(r)};cE.atU=function(r){if(r.fs<600)return CRDParser.gy(r);else return cE.ul(r)};cE.di=function(r,N,F,h){var m=cE,O=m.a61,e=m.Mo,P=m.tK,B=m.a1S,s=m.gy,Y=m.ul,D=m.AR,c=m.lT,o=m.a14,H=m.adQ,x=m.agm,Q=m.atU;
for(var U=0;U<N.length;U++){var I=r.fs,l=N[U];r.r=l.r+(l.$U=="LIST"?4:0);if(l.$U=="vrsn"){var p=e(r);
r.fs=p;console.log("Version",p);r.Qo=p<600?16:32}else if(l.$U=="DISP"){}else if(l.$U=="LIST"&&l.gS=="cmpr"){var j=P(r),T=P(r),V=P(r),E=P(r),_=new Uint8Array(r.data.buffer,r.r+8+2,j-6-8),f=pako.inflateRaw(_),$=0;
r.r+=j;_=new Uint8Array(r.data.buffer,r.r+8+2);var S=pako.inflateRaw(_),L=[];for(var y=0;y<S.length;
y+=4)L.push(J.Iy(S,y));l.sub=[];while($<f.length){var Z=dy.zV(f,$,L);$=Z.r+Z.size;l.sub.push(Z)}var i={data:f,r:0,fs:I,Qo:r.Qo};
cE.di(i,l.sub,F,h+1)}else if(l.$U=="LIST"&&l.gS=="stlt"){var b=r.r,eE=32;l.h={};var G=P(r);if(G==0)return;
l.h.aoZ=cE.lv(r,I>=1300);l.h.atj=cE.lv(r);l.h.akx={};var g=P(r);for(var R=0;R<g;R++){var u=P(r);r.r+=I<1e3?12:20;
var A=e(r),a=e(r);r.r+=8;var d=c(r);r.r+=I<1e3?12:20;l.h.akx[u]={a9Y:A,a5w:a,fontSize:d}}l.h.alb=cE.lv(r);
var K=P(r);r.r+=52*K;var n=P(r);r.r+=152*n;var t=P(r);r.r+=784*t;var X=P(r);for(var R=0;R<X;R++){r.r+=40;
if(I>1300)r.r+=4;if(I>=1300){if(P(r))r.r+=68;else r.r+=12}else{r.r+=20;if(I>=1e3)r.r+=8;if(P(r))r.r+=8;
r.r+=8}}var aK=P(r);l.h.are={};for(var R=0;R<aK;R++){var fg=P(r),k={};r.r+=12;k.right=c(r);k.ack=c(r);
k.left=c(r);l.h.are[fg]=k}var hG=P(r);if(I>=1300)eE+=4;r.r+=eE*hG;var hW=P(r);r.r+=28*hW;if(I>800){var hh=P(r);
r.r+=12*hh}l.h.oB={};for(var R=0;R<G;R++){var hI=P(r),db=P(r),by={};by.Ze=P(r);r.r+=8;var jM=P(r);if(I>=1200)jM*=2;
r.r+=jM;by.ai2=P(r);by.alL=P(r);if(hI>1){by.a5a=P(r);by.a2S=P(r);by.aeP=P(r);by.auR=P(r);if(I>800)by.ab1=P(r)}if(hI>2){by.a99=P(r);
by.afP=P(r);by.aty=P(r);by.a1p=P(r);by.adw=P(r)}l.h.oB[db]=by}}else if(l.$U=="LIST")cE.di(r,l.sub,F,h+1);
else if(l.$U=="txsm"){l.h={};if(I<600)throw"e";if(I<700)throw"e";if(I>=1600)throw"e";if(I>=1500)r.r+=37;
else r.r+=36;if(P(r)){if(I<800)r.r+=32}if(I<800)r.r+=4;l.h.aj_=P(r);l.h.anB=[];r.r+=48;if(I>=800){if(P(r)){r.r+=32;
if(I>=1300)r.r+=8}}if(I>=1500)r.r+=12;var hI=P(r),fP=1,hB=!1;if(!hI){if(I>=800)r.r+=4;if(I>800)r.r+=2;
if(I>=1400)r.r+=2;r.r+=24;if(I<800)r.r+=8;fP=P(r)}for(var y=0;y<fP;y++){var iu=P(r),R=0;if(I>=1300&&hI)r.r++;
r.r++;var G=P(r),be=[];for(R=0;R<G;R++){var bp=O(r),fT=0;O(r);var ij=O(r);if(I>=800)fT=O(r);var by={};
if(ij&1){by.a9Y=e(r);var ei=e(r);if(ei)by.apU=ei}if(ij&2)r.r+=4;if(ij&4)by.afU=c(r);if(ij&8)r.r+=4;if(ij&16)r.r+=4;
if(ij&32)r.r+=4;if(ij&64){by.ai2=P(r);if(I>=1500)r.r+=48}if(ij&128){by.alL=P(r)}if(fT&8){if(I>=1300){var bz=P(r);
if(r.r+bz*2>=r.data.length){hB=!0;break}r.r+=bz*2}else r.r+=4}if(fT&32){var aM=O(r);if(aM)r.r+=52}if(bp==2)if(I>=1300)r.r+=48;
be.push(by)}if(hB){break}var hw=P(r);if(r.r+hw*4>r.data.length)break;var hx=[];for(R=0;R<hw;R++){var fm=0;
if(I>=1200)fm=B(r)&4294967295;else fm=P(r);hx[R]=fm>>16|fm&1}var dE=hw;if(I>=1200)dE=P(r);var gD=cE.uS(r);
l.h.anB.push({aeN:iu,text:gD,oB:be})}}else if(l.$U=="font"){var c2=e(r),bQ=e(r);r.r+=14;var f9=cE.uS(r);
l.h={id:c2,a56:bQ,name:f9}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(l.$U)!=-1){}else if(l.$U=="flgs")l.h=P(r);
else if(l.$U=="bbox"){var jR=c(r),gP=c(r),jh=c(r),k6=c(r);l.h=new fE(jR,gP,jh-jR,k6-gP)}else if(l.$U=="fild"){var eZ=P(r),b5=0,jG;
if(I>=1300){r.r+=4;b5=e(r);r.r+=2}var fG=e(r);if(fG==0){}else if(fG==1){r.r+=I>=1300?13:2;jG=cE.AA(r)}else if(fG==2){r.r+=I>=1300?8:2;
var i_=O(r),aY=0;if(I>=1300){r.r+=17;aY=s(r)}else if(I>=600){r.r+=19;aY=Y(r)}else{r.r+=11;aY=s(r)}var jk=H(r),ih=.5+Q(r),jr=.5+Q(r)-.5;
if(I>=600)r.r+=2;var hV=x(r)&255,ds=O(r)/100;r.r++;var jA=x(r)&65535;if(I>=1300)r.r+=3;var eI=[];for(var R=0;
R<jA;R++){var hH=cE.AA(r);if(I>=1300){if(b5==158||I>=1600&&b5==150)r.r+=26;else r.r+=5}var bO=x(r)/100;
if(I>=1300)r.r+=3;eI.push([bO,hH])}jG={typ:i_==1?"lin":"rad",crds:[ih-Math.cos(jk)/2,jr-Math.sin(jk)/2,ih,jr],grad:eI,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",fG);
l.h={id:eZ,type:fG,h:jG}}else if(l.$U=="outl"){var k7=P(r);if(I>=1300){var dO=0,cG=0;while(dO!=1){r.r+=cG;
dO=P(r);cG=P(r)}}var cV=e(r),g3=e(r),gh=e(r);if(I<1300&&I>=600)r.r+=2;var bH=c(r),gF=e(r)/100;if(I>=600)r.r+=2;
var hu=H(r);if(I>=1300)r.r+=46;else if(I>=600)r.r+=52;var jG=cE.AA(r,k7==270963208||k7==276198e3,k7);
l.h={id:k7,ai0:cV,a1M:g3,auv:gh,lineWidth:bH,color:jG}}else if(l.$U=="mcfg"){if(1300<=I)r.r+=12;else if(900<=I)r.r+=4;
else if(600<=I&&I<700)r.r+=28;var aB=0,c8=0;if(I<400){r.r+=2;var jR=c(r),gP=c(r),jh=c(r),k6=c(r);aB=Math.abs(jh-jR);
c8=Math.abs(k6-gP)}else{aB=c(r);c8=c(r)}l.h={a3F:new gS(aB,c8)}}else if(l.$U=="loda"||l.$U=="lobj"){var b=r.r,bM=x(r),ig=x(r),fe=x(r),e6=x(r),iy=x(r),jc=[],bm=[];
r.r=b+fe;for(var R=0;R<ig;R++)jc[R]=x(r);r.r=b+e6;for(var R=ig-1;R>=0;R--)bm[R]=x(r);l.h={};for(var R=0;
R<ig;R++){r.r=b+jc[R];var cu=bm[R];if(cu==10)l.h.aaw=P(r);else if(cu==20)l.h.aj5=P(r);else if(cu==200)l.h.an$=x(r);
else if(cu==30){if(I<400)iy--;if(iy==1){var jR=o(r),gP=o(r),fC=0,cm=0,i4=0,fz=0;if(I<1500){fz=o(r);i4=I<900?fz:o(r);
cm=I<900?fz:o(r);fC=I<900?fz:o(r)}else throw"e";l.h.path=w.p.aM(w.H.yN.Rect(0,0,jR,gP,fC))}else if(iy==2){var iB=c(r),g5=c(r),cv=H(r),il=H(r),js=Math.abs(iB),iH=Math.abs(g5);
l.h.path=w.p.aM(w.H.yN.b4(0,0,js,-iH))}else if(iy==3){l.h.path=cE.alg(r)}else if(iy==4){l.h.akb=cE.aoT(r)}else if(iy==6){l.h.akg=cE.atf(r)}else if(iy==37){l.h.path=cE.hy(r)}else console.log(iy)}}}else if(l.$U=="trfd"){var b=r.r,bM=x(r),ig=x(r),fe=x(r);
r.r=b+fe;var jc=[];for(var R=0;R<ig;R++)jc[R]=x(r);for(var R=0;R<ig;R++){r.r=b+jc[R];if(I>=1300)r.r+=8;
var ju=e(r);if(ju==8){var jQ,cD,jR,dZ,au,gP;if(I>=600)r.r+=6;if(I>=500){jQ=D(r);cD=D(r);jR=D(r)/(I<600?1e3:254e3);
dZ=D(r);au=D(r);gP=D(r)/(I<600?1e3:254e3)}else throw"e";l.PB=new hc(jQ,dZ,cD,au,jR,gP)}else console.log(ju)}}else if(!1){console.log(l);
var dX=Math.min(l.size,32);console.log(J.oj(data,l.r,dX));console.log(J.a6O(data,l.r,dX))}}};cE.lv=function(r,N){var F=cE.tK,h={},m=F(r);
for(var R=0;R<m;R++){var O=F(r);r.r+=4;var e=F(r);h[O]=e;if(N)r.r+=48}return h};cE.aoT=function(r){var N=cE,F=N.lT,h=F(r),m=F(r);
return new gS(h,m)};cE.atf=function(r){var N=cE,F=N.lT;r.r+=4;var h=F(r),m=F(r);return new gS(h,m)};
cE.hy=function(r){var N=cE,F=N.tK,h=N.Mo,m=N.lT;r.r+=4;var O=h(r)+h(r);r.r+=16;var e=cE.fw(r,O);return e};
cE.alg=function(r){var N=cE.Mo(r);r.r+=2;return cE.fw(r,N)};cE.fw=function(r,N){var F=cE,h=F.lT,m=r.fs<600?2:4,O=r.r,e={t:[],C:[]},P=0,B=0,s=0;
for(var R=0;R<N;R++){var P=h(r),B=h(r),Y=r.data[O+N*m*2+R];if(!(Y&64)&&!(Y&128)){e.t.push(P,B);e.C.push("M");
s+=2}else if(Y&64&&!(Y&128)){e.t.push(P,B);e.C.push("L");s+=2}else if(!(Y&64)&&Y&128){e.t.push(P,B);
e.C.push("C");s+=6}else if(Y&64&&Y&128){e.t.push(P,B)}}if(s!=e.t.length)throw"e";return e};cE.asy=function(r,N){var F=J.Iy;
N+=8;var h=F(r,N);N+=4;var m=F(r,N);N+=4;N+=4*7;var O=N,e=w.B(h*m*4);N+=1024;for(var P=0;P<m;P++)for(var B=0;
B<h;B++){var R=P*h+B,s=(m-P-1)*h+B,Y=r[N+R]<<2,D=s<<2;e[D+0]=r[O+Y+2];e[D+1]=r[O+Y+1];e[D+2]=r[O+Y+0];
e[D+3]=255}return{iS:e,rect:new fE(0,0,h,m)}};cE.akE=function(r){if(r==32)return 300;else if(r<49)return 0;
else if(r<58)return 100*(r-48);else if(r<65)return 0;return 100*(r-55)};cE.AA=function(r,N,F){var h=cE.Mo,m=cE.tK,O=r.fs,e=0,P=0;
if(O>=500){e=h(r);if(e==1&&O>=1300)e=25;if(e==25||e==30){var B=0;if(e==30){e=25;B=30}else{B=h(r);r.r+=4}var s=h(r),Y=h(r)}else if(e==14)throw"e";
else{r.r+=6;P=m(r)}}else throw"e";var D=[];if(e==2||e==9||e==17){var c=[P>>>0&255,P>>>8&255,P>>>16&255,P>>>24&255];
if(e==2)for(var R=0;R<4;R++)c[R]=Math.round(255*c[R]/100);for(var R=0;R<4;R++)c[R]/=255;D=UDOC.C.cmykToRgb(c)}else if(e==1||e==5){D=[P>>>0&255,P>>>8&255,P>>>16&255];
for(var R=0;R<3;R++)D[R]=D[R]/255}else console.log("Unknown color model "+e,P,P.toString(16));return D};
var hD=function(){var r,N,F=new ArrayBuffer(4),h=new Uint8Array(F),m=new Uint32Array(F),O=new Float32Array(F);
function e(c,o){for(var H=0;H<c.length;H++)if(c[H][0]==o)return c[H]}function P(){var c=0,o=0,H=0;do{H=r[N++];
c|=(H&127)<<o;o+=7}while(H&128&&o<35);return c>>>0}function B(c,o,H,x,Q){r=c;N=o;var U=x[0]=="mesg",I=x[2],l={},p=1,j=U?1e9:I.length;
while(p<=j){var T=p;if(U){T=P();if(T==0)break}var V=e(I,T),E=V[2],_=V[1]==1,f=_?P():1,S=new Array(f);
if(E==3){if(!_)throw"e";S=r.slice(N,N+f);N+=f}else for(var R=0;R<f;R++){var L;if((E&1)==1){if(E==1)L=r[N++]==1;
else if(E==3)L=r[N++];else if(E==5){var y=P();L=y&1?~(y>>>1):y>>>1}else if(E==7)L=P();else if(E==9){if(r[N]==0){L=0;
N++}else{h[0]=r[N];h[1]=r[N+1];h[2]=r[N+2];h[3]=r[N+3];var $=m[0];m[0]=$<<23|$>>>9;L=O[0];N+=4}}else if(E==11){var Z=s(r,N);
L=Z[0];N+=Z[1]+1}else throw E}else{var i=H[E>>>1];if(i[0]=="enum"){var b=r[N++];if(b>127)throw"e";L=i[2][b]}else{var G=B(r,N,H,i,Q+1);
L=G[0];N=G[1]}}S[R]=L}l[V[3]]=_?S:S[0];p++}return[l,N]}function s(c,o){var H=o;while(c[H]!=0)H++;return[J.H3(c,o,H-o),H-o]}function Y(c,o){var H=o;
while(c[H]!=0)H++;for(var R=o;R<H;R++)if(c[R]>127)throw"e";return J.Mj(c,o,H-o)}function D(c){r=c;N=1;
var o=[];while(N<c.length){var H=N,x=o.length,Q=Y(c,N);N+=Q.length+1;var U=P();if(U>2)throw"e";var I=P(),l=[];
for(var R=0;R<I;R++){var p=Y(c,N);N+=p.length+1;var j=P(),T=P(),V=P();l.push(U==0?p:[V,T,j,p])}o.push([["enum","strc","mesg"][U],Q,l])}return o}return{a5B:D,a2A:B}}();
function d2(){}d2.ep=function(r,N){var F=new Uint8Array(r),h=8,m=J.Iy(F,h),s=0,i=0;h+=4;var O=[];while(h<F.length){var e=J.Iy(F,h);
h+=4;var P=F.slice(h,h+e);if(F[h]==137&&F[h+1]==80){}else P=UZIP.inflateRaw(P);O.push(P);h+=e}var B=hD.a5B(O[0]);
for(var R=0;R<B.length;R++)if(B[R][1]=="Message")s=R;var Y=hD.a2A(O[1],0,B,B[s],0)[0],D={wr:{},EL:{},abO:{}},c=Y.nodeChanges;
for(var o=0;o<c.length;o++){var H=c[o],x=H.guid;D.EL[x.sessionID+","+x.localID]=H}for(var o=0;o<c.length;
o++){var H=c[o],x=H.parentIndex;if(x){var Q=d2.WN(D.EL,x.guid);if(Q.children==null)Q.children=[];Q.children.push(H)}}var U=c[0],I=U.children,l=new fE,p=[],j=[];
for(var x=0;x<I.length;x++){var T=I[x],V=T.children;if(T.name=="Internal Only Canvas"||V==null)continue;
var E=new fE;for(var R=0;R<V.length;R++){var _=V[R],f=_.transform,S=_.size;if(f.m00==1&&f.m10==0&&f.m01==0&&f.m11==1){var L=new fE(f.m02,f.m12,S.x,S.y);
E=E.fD(L)}}var y=l.n==0?0:l.n+100,$=E.clone();$.x=0;$.y=y;l=l.fD($);p[x]=E;j[x]=y}var Z=j6.Pp(new fE(0,0,l.e,l.n),8192*8192);
N.e=Math.round(l.e/Z);N.n=Math.round(l.n/Z);N.buffer=w.B(N.e*N.n*4);for(var x=0;x<I.length;x++){var T=I[x],V=T.children;
if(T.name=="Internal Only Canvas"||V==null)continue;V.sort(d2.Os);var b=new hc(1,0,0,1,-p[x].x,j[x]-p[x].y);
b.scale(1/Z,1/Z);for(var R=0;R<V.length;R++){var _=V[R];d2.DJ(_,[],b,Y.blobs,N,0,D);i++}}N.c3(i);N.hP=!0;
if(Z!=1)alert("File scaled down "+Z+"x")};d2.DJ=function(r,N,F,h,m,O,e){var P=d2,f=!1,S,L,Z,i,b;N=JSON.parse(JSON.stringify(N));
var B=r.overrideKey?r.overrideKey:r.guid;for(var R=0;R<N.length;R++){var s=N[R],Y=s.guidPath.guids;if(P.amL(Y[0],B)){if(Y.length==1){var D={};
for(var c in r)D[c]=s[c]!=null?s[c]:r[c];r=D}else s.guidPath.guids=Y.slice(1)}}var o=r.type,H=r.children,x=r.size,Q=r.effects,U=m.lc();
U.a6(r.name);U.Hb(r.visible);U.opacity=Math.round(r.opacity*255);var I=P.hA(r.transform),l=I.clone();
l.concat(F);var p=new fE(Math.round(l.HG),Math.round(l.SS),Math.round(x.x*l.zf()),Math.round(x.y*l.zf()));
if(p.e==0||isNaN(p.e))p.e=100;if(p.n==0||isNaN(p.n))p.n=100;var j=r.fillPaints,T=r.inheritFillStyleID;
if(T){var D=P.WN(e.EL,T);if(D)j=D.fillPaints}if(j==null)j=[];var j=P.eH(j),V=j[0],E=r.strokePaints,T=r.inheritFillStyleIDForStroke;
if(T){var D=P.WN(e.EL,T);if(D)E=D.fillPaints}if(E==null)E=[];var E=P.eH(E),_="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(o)!=-1;
if(_||o=="FRAME"){S=new C.Ug;L=[];P.sC(r,h,S,L);f=w.H.k5(S.Y);w.H.nY(S.Y,l);var y=w.p.Bj(w.H.KX(S.Y));
if(!y.lX())p=y;if(e.wr.b_&&V){var $=C.Ug.sN(e.wr.b_.Y);for(var R=2;R<$.length;R++)if($[R].r5!=null)$[R].r5=3;
S.Y=S.Y.concat($.slice(2));L=L.concat(JSON.parse(JSON.stringify(e.wr.UI)))}}if(V&&V.type=="IMAGE"){b=V.imageScaleMode;
Z=P.G9(h,V.image.dataBlob);var G=Z.I0.e/Z.I0.n,g=x.x/x.y;i=Math.abs(G-g)}if(o=="FRAME"){}else if(_&&f&&Z&&(b=="FIT"||b=="FILL"&&i<=.05)){var u=h[V.image.dataBlob].bytes,A=m.yk(u,U.getName(),0,0);
A.Rl=U.Rl;A.opacity=U.opacity;U=A;var a=new fE(0,0,x.x,x.y);if(b=="FIT"){var d=Z.I0.e,K=Z.I0.n,n=Math.min(x.x/d,x.y/K),t=d*n,X=K*n;
a=new fE(a.x+(a.e-t)/2,a.y+(a.n-X)/2,t,X)}var aK=w.p.fc(a).t;w.p.A(aK,l,aK);U.add.SoLd.Trnf=z.Q.JE(aK);
U.add.SoLd.nonAffineTransform=z.Q.JE(aK);var fg=[],Q=r.effects,k=V.paintFilter;if(Q)for(var R=0;R<Q.length;
R++)if(Q[R].type=="FOREGROUND_BLUR"){var hG=Q[R],eE=df.z6("GsnB",{});fg.push(eE);eE.v.enab.v=hG.visible;
eE.v.Fltr.v.Rds.v.val=hG.radius/2.4}if(k&&k.exposure!=0){var eE=df.z6("brit",{});fg.push(eE);eE.v.Fltr.v.Brgh.v=Math.round(k.exposure*160);
eE.v.Fltr.v.useLegacy.v=!0}if(k&&k.vibrance!=0){var eE=df.z6("vibA",{});fg.push(eE);console.log(eE);
eE.v.Fltr.v.Strt.v=Math.round(Math.round(k.vibrance*100))}if(fg.length!=0){U.add.SoLd.filterFX=df.tB();
m.gV({id:U.add.SoLd.placed.v,rect:new fE,buffer:w.B(1),v:new C.Z8});U.add.SoLd.filterFX.v.filterFXList.v=fg}U.XY(m,!1);
P.f$(e,U,m)}else if(_){P.J7(U,L,S,r,V,E,l,p,h,m,e);if(Q)for(var R=0;R<Q.length;R++){var hG=Q[R];if(hG.type!="FOREGROUND_BLUR")continue;
S.J_=hG.radius/2.4}U.dD(m)}else if(o=="TEXT"){var hW=r.textData,hh=hW.layoutSize,hI=["LEFT","RIGHT","CENTER"].indexOf(r.textAlignHorizontal);
U.add.lnsr="rend";U.add.TySh=gQ.WW(0,0);U.add.TySh.A2=new fE(0,0,100,100);var db=l.clone();U.add.TySh.A=db;
var by=U.add.TySh.sl,jM=hW.characters;if(r.textCase=="TITLE"){for(var R=0;R<jM.length;R++)if(R==0||jM[R-1]==" "){var fP=jM.slice(0,R),hB=jM.slice(R+1);
jM=fP+jM[R].toUpperCase()+hB}}jM=jM.replace(/\u2028/g,"\n");jM=jM.replace(/\u2029/g,"\n");jM=jM.replace(/\r\n/g," \n");
gQ.BY(by,0,jM);var iu=r.textAutoResize,be=hW.baselines;if(iu=="WIDTH_AND_HEIGHT"){var bp=hI==0?0:hI==1?hh.x:hh.x/2,ij=be?be[0].position.y:0;
db.translate(bp*l.zf(),ij*l.zf());gQ.l7(by,0)}else if(iu=="HEIGHT"||iu=="NONE"||iu==null){var ij=be?be[0].position.y-r.fontSize*.7:0;
db.translate(0,ij*l.zf());gQ.l7(by,1);gQ.q2(by,[0,0,Math.round(hh.x),Math.round((iu=="NONE"?1.8:1)*hh.y)])}else throw iu;
if(jM!=""){var fT=gQ.pz(by,0,1);P.Cg(r,l,x,fT,U,h,m,e);gQ.sW(by,0,jM.length,fT);var ei=hW.characterStyleIDs,bz=hW.styleOverrideTable;
if(ei){ei=ei.slice(0);for(var R=0;R<ei.length;R++)if(jM[R]=="\n")ei[R]=-R-1;var aM=[0],hw=0,hx=0;for(var R=0;
R<ei.length;R++){hx++;var fm=ei[R];if(R==0||fm==ei[R-1]){}else{aM.push(hx-1,R);hx=1}}aM.push(hx);for(var R=0;
R<aM.length;R+=2){var dE=aM[R],gD=aM[R+1];if(jM[dE]=="\n")continue;var fm=ei[dE];if(fm!=0){var c2;for(var bQ=0;
bQ<bz.length;bQ++)if(bz[bQ].styleID==fm)c2=bz[bQ];var fT=gQ.pz(by,dE,dE+1);P.Cg(c2,l,x,fT,U,h,m,e);gQ.sW(by,dE,dE+gD-1,fT)}}}}}else if(o=="SYMBOL"){}else if(o=="INSTANCE"){var f9=r.symbolData,jR=f9.symbolOverrides,D=P.WN(e.EL,f9.symbolID);
if(D)H=D.children;else console.log(r.name,"symbol not found",f9.symbolID);N=N.slice(0);for(var R=0;R<jR.length;
R++)N.push(jR[R])}else console.log(o);if(!1){}else if(H&&!_){m.g.push(m.Dz());var gP=!1,jh=O==0&&o!="SYMBOL"&&o!="INSTANCE";
if(jh){if(p.lX())console.log(p);U.xz(p)}V=j[j.length-1];if(jh&&V&&V.type=="SOLID"){var k6=V.color;U.add.artb.artboardBackgroundType.v=4;
U.add.artb.Clr=P.AA(k6)}else if((V||E[0])&&S){var eZ=m.lc();eZ.a6("Background");P.J7(eZ,L,S,r,V,E,l,p,h,m,e);
eZ.dD(m);m.g.push(eZ);gP=!0}H.sort(P.Os);var b5=e.wr;e.wr={};for(var fG=0;fG<H.length;fG++)P.DJ(H[fG],N,l,h,m,O+1,e);
e.wr=b5;U.add.lsct=!1?jJ.Ra:jJ.ab;U.$j="pass";var jG=U.gv();U.Rl=24;U.Hb(jG);var i_=O!=0&&j.length!=0&&!r.frameMaskDisabled&&r.containerSupportsFillStrokeAndCorners;
if(!gP&&i_&&S){U.add.vmsk=S;U.add.vogk=L;U.dD(m)}else P.f$(e,U,m);m.g.push(U)}else if(r.mask){if(S){e.wr.b_=S;
e.wr.UI=L}}else{var aY=[],eI=1;if(Q)for(var jk=0;jk<Q.length;jk++){var hG=Q[jk],ih=hG.color,jr=hG.type,hV=["DROP_SHADOW","INNER_SHADOW"].indexOf(jr);
if(hV!=-1){var ds=["DrSh","IrSh"][hV],jA=JSON.parse(an.O7[an.order.indexOf(ds)]);aY.push([ds,jA]);jA.enab.v=hG.visible;
jA.Md.v.BlnM=g6.Cp(P.avt(hG.blendMode));jA.Opct.v.val=Math.round(100*ih.a);jA.blur.v.val=Math.round(hG.radius*l.zf());
jA.Clr=P.AA(ih);var bp=hG.offset.x,ij=hG.offset.y;jA.uglg.v=!1;jA.lagl.v.val=Math.round(180/Math.PI*Math.atan2(ij,-bp));
jA.Dstn.v.val=Math.round(Math.sqrt(bp*bp+ij*ij)*l.zf())}}if(o=="TEXT"&&j[0]&&j[0].type!="SOLID")eI=0;
for(var R=eI;R<j.length;R++){var hH=j[R],bO=P.Qe(r,hH,l,p,h,m,e);if(bO[0]=="GdFl")aY.push(["GrFl",bO[1]]);
else if(bO[0]=="SoCo")aY.push(["SoFi",bO[1]]);else if(bO[0]=="PtFl")aY.push(["patternFill",bO[1]]);else throw bO}if(!_)for(var R=0;
R<E.length;R++){var hH=E[R],bO=P.Qe(r,hH,l,p,h,m,e);if(bO[0]=="SoCo"){var jA=JSON.parse(an.O7[an.order.indexOf("FrFX")]);
aY.push(["FrFX",jA]);jA.enab=bO[1].enab;jA.Opct=bO[1].Opct;jA.Md=bO[1].Md;jA.Clr=bO[1].Clr;jA.Sz.v.val=r.strokeWeight}}if(aY.length!=0){var k7=JSON.parse(an.default);
for(var R=0;R<an.order.length;R++)k7[an.NR[R]]={t:"VlLs",v:[]};for(var R=0;R<aY.length;R++){var dO=aY[R],ds=an.NR[an.order.indexOf(dO[0])];
k7[ds].v.unshift({t:"Objc",v:dO[1]})}if(H==null)U.add.lmfx=k7}m.g.push(U)}};d2.J7=function(r,N,F,h,m,O,e,P,B,s,Y){var D=d2;
r.Rl|=16;r.add.vogk=N;r.add.vmsk=F;var c=r.add.vstk=JSON.parse(JSON.stringify(an.mr.default)),o=D.Qe(h,m,e,P,B,s,Y);
if(o[0]=="None"){c.fillEnabled.v=!1;r.add.SoCo=o[1]}else{D._k(o,r);r.add[o[0]]=o[1]}var o=D.Qe(h,O[0],e,P,B,s,Y);
if(o[0]!="None"){var c=r.add.vstk;c.strokeEnabled.v=!0;c.strokeStyleLineWidth.v.val=h.strokeWeight*e.zf();
c.strokeStyleLineAlignment.v.strokeStyleLineAlignment=an.mr.bj[["INSIDE","CENTER","OUTSIDE"].indexOf(h.strokeAlign)];
var H={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[o[0]],x=["SoFi","GrFl","patternFill"].indexOf(H),Q=[an.eA,an.ZE,an.bf][x];
c.strokeStyleContent.v={classID:an.mr.gS[0]};var U=h.dashPattern;if(U)c.strokeStyleLineDashSet.v=iL.IH(U,1/h.strokeWeight);
var I=c.strokeStyleContent.v={classID:an.mr.gS[x]};for(var R=0;R<Q.length;R++)I[Q[R]]=o[1][Q[R]];if(!c.fillEnabled.v)D._k(o,r)}};
d2._k=function(r,N){var F=r[1].Opct.v.val;if(F!=100)N.opacity=Math.round(N.opacity/255*(F/100)*255)};
d2.Os=function(r,N){var F=r.parentIndex.position,h=N.parentIndex.position;return F>h?1:-1};d2.eH=function(r){for(var R=1;
R<r.length;R++){var N=r[R];if(N.type=="IMAGE"&&N.opacity==1){r=r.slice(R);break}}for(var R=0;R<r.length;
R++){var N=r[R],F=N.imageThumbnail;if(N.type=="IMAGE"&&(N.image==null||N.image.dataBlob==null)&&F&&F.dataBlob)N.image=F;
if(!N.visible||N.type=="IMAGE"&&N.image.dataBlob==null){r.splice(R,1);R--}}return r};d2.f$=function(r,N,F){if(r.wr.b_){N.add.vmsk=r.wr.b_.clone();
N.add.vogk=JSON.parse(JSON.stringify(r.wr.UI));N.dD(F)}};d2.Cg=function(r,N,F,h,m,O,e,P){var B=r.fontSize,s=r.lineHeight,Y=r.fontName,D=r.textAlignHorizontal,c=r.textTracking,o=r.textCase,H=r.textDecoration;
if(B==null)B=h.AY.FontSize;if(Y)gQ.dV(h,Y.postscript);if(B!=null)h.AY.FontSize=Math.round(B);if(H=="UNDERLINE")h.AY.Underline=!0;
if(c)h.AY.Tracking=Math.round(c*1e3);if(o)h.AY.FontCaps=o=="UPPER"?2:0;if(s&&(s.units!="PERCENT"||s.value!=100)){if(B==null)B=15;
var x=s.value;if(s.units=="PERCENT")x=1*B*x/100;if(s.units=="RAW")x=1*B*x;h.AY.AutoLeading=!1;h.AY.Leading=Math.round(x)}if(D)h.hS.Justification=["LEFT","RIGHT","CENTER"].indexOf(D);
var Q=r.fillPaints,U=r.inheritFillStyleID;if(U){var I=d2.WN(P.EL,U);if(I)Q=I.fillPaints}if(Q&&Q[0]){var l=d2.Qe(r,Q[0],N,F,O,e,P);
if(l[0]=="SoCo"){var p=w.X.Mq(l[1].Clr.v);h.AY.FillColor={Type:1,Values:[1,p.Z/255,p.z/255,p.J/255]};
d2._k(l,m)}}};d2.Qe=function(r,N,F,h,m,O,e){var P=d2,B,s,Y=r.size;if(N){var D=N.type,c=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(D);
if(D=="SOLID"){B="SoCo";var o=N.color;s=JSON.parse(an.O7[an.order.indexOf("SoFi")]);s.Clr=P.AA(o)}else if(c!=-1){var H=JSON.parse(an.O7[an.order.indexOf("GrFl")]),x=H.Grad.v;
x.Intr.v=0;H.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][c];var Q=[],U=N.stops;for(var R=0;R<U.length;R++){var I=U[R],l=I.color;
Q.push([I.position,[l.r,l.g,l.b],l.a])}w.X.y2(Q,x);var p=P.hA(N.transform);p.iL();var j=p.clone();if(Y)j.scale(Y.x,Y.y);
j.concat(F);var T=new gS(0,.5),V=new gS(1,.5);T=j.eS(T);V=j.eS(V);if(!0){T.x=V.x+.5*(T.x-V.x);T.y=V.y+.5*(T.y-V.y)}w.X.zm(T,V,h,H);
if(c==3){if(j.O$*j.Bv-j.J*j.KM<0)H.Rvrs.v=!H.Rvrs.v}B="GdFl";s=H}else if(D=="IMAGE"){var H=JSON.parse(an.O7[an.order.indexOf("patternFill")]),E=H.phase.v,_=N.image.dataBlob,f=e.abO[_],g=1;
if(f==null){var S=P.G9(m,_);f=e.abO[_]={};f.id=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f";f.jB=[new Uint8Array(S.data),S.I0];
f.name="someImage";O.yt(f)}H.Algn.v=!0;H.Ptrn.v.Idnt.v=f.id;var L=F.HG,y=F.SS,$=N.imageScaleMode,p=P.hA(N.transform);
p.iL();var Z=h.e,i=h.n,b=f.jB[1].e,G=f.jB[1].n;if($=="FILL"){g=Math.max(Z/b,i/G);g=Math.round(g*100)/100}else if($=="FIT"){g=Math.min(Z/b,i/G);
g=Math.round(g*100)/100}else if($=="STRETCH"){var u=Z*p.O$,A=i*p.Bv;g=.5*(u/b+A/G);g=Math.round(g*100)/100;
L+=(u-Z)/2+p.HG*Z;y+=(A-i)/2+p.SS*i}else if($=="TILE"){g=N.scale;g=Math.round(g*100)/100;L+=(u-Z)/2;
y+=(A-i)/2}var a=g*b,d=g*G;L+=-(a-Z)/2;y+=-(d-i)/2;H.Scl.v.val=Math.round(100*g);E.Hrzn.v=Math.round(L);
E.Vrtc.v=Math.round(y);B="PtFl";s=H}else throw D;if(s)s.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(N.opacity*100)}}}else{B="None";
s={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:0,z:0,J:0})}}}return[B,s]};d2.G9=function(r,N){var F=r[N];
if(F.rslt)return F.rslt;var h=F.bytes.buffer,m=bA.Cn(h),O=bA.yU(m);try{F.rslt=O.V9(h)[0]}catch(ab){F.rslt={data:w.B(4),I0:new fE(0,0,1,1)}}return F.rslt};
d2.sC=function(r,N,F,h){var m=r.type,O=r.size,e=r.cornerRadius,D;if(e==null)e=0;var P=w.UI.LQ(),B=O.x,s=O.y,Y=[e,e,e,e],c=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var R=0;R<4;R++)if(r[c[R]]!=null)Y[R]=r[c[R]];if(m=="RECTANGLE"||m=="ROUNDED_RECTANGLE"||m=="FRAME"){D=w.H.yN.Rect(0,0,B,s,Y)}else if(m=="ELLIPSE"){var o=r.arcData,H=o?o.startingAngle:0,x=o?o.endingAngle:2*Math.PI,Q=o?o.innerRadius:0;
if(H==0&&x>1.999*Math.PI)D=w.H.yN.b4(0,0,B,s,0);else D=w.H.yN.ag3(B/2,s/2,s/2,H,x);if(Q!=0&&Q!=1){var U=C.Ug.sN(D).slice(3);
U.reverse();for(var R=0;R<U.length;R++){var I=U[R],l=I.Q$;I.Q$=I.lW;I.lW=l}var p=new hc;p.translate(-B/2,-s/2);
p.scale(Q,Q);p.translate(B/2,s/2);w.H.nY(U,p);D=D.concat(U);D[2].length*=2}}else if(m=="LINE"){D=w.H.yN.Rect(0,0,B,s,0);
D.pop();D.pop();D[2].length=2}else if(m=="STAR"){D=w.H.yN.Lf(B/2,s/2,B/2,2*Math.PI*(1/4),5,0,r.starInnerScale)}else if(m=="REGULAR_POLYGON"){D=w.H.yN.We(.5,.5,.5,Math.PI/2,r.count,0);
var j=new hc;j.scale(B,s);w.H.nY(D,j)}else if(m=="BOOLEAN_OPERATION"){D=[{type:6},{type:8,all:0}];var T=r.children,V=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(r.booleanOperation);
if(V==-1)throw r;if(T==null)T=[];for(var R=0;R<T.length;R++){var E=T[R],_=new C.Ug,f=[],S=d2.sC(E,N,_,f);
if(_.Y==null)continue;w.H.nY(_.Y,d2.hA(E.transform));D=D.concat(_.Y.slice(2));for(var L=0;L<f.length;
L++)h.push(f[L])}for(var R=3;R<D.length;R++)if(D[R].r5!=null)D[R].r5=V;P=null}else if(m=="VECTOR"){var y,$,n=3;
if(!0){var Z=r.vectorData;if(Z==null)return;y=Z.normalizedSize;$=Z.vectorNetworkBlob}var i=N[$].bytes,b=new Uint32Array(i.buffer),G=new Float32Array(i.buffer),g=b[0],u=b[1],A=b[2],a=[],d=[],K=[],t=n+g*3,X=t+u*7;
for(var R=0;R<g;R++){var aK=n+R*3,fg=new gS(G[aK+1],G[aK+2]);a.push(fg)}for(var R=0;R<u;R++){var k=t+R*7;
d.push([b[k+0],b[k+1],G[k+2],G[k+3],b[k+4],G[k+5],G[k+6]])}for(var R=0;R<A;R++){var hG=b[X+1],eE=K[R]=[];
X+=2;for(var L=0;L<hG;L++){var hW=b[X++],hh=eE[L]=[];for(var hI=0;hI<hW;hI++)hh[hI]=b[X+hI];X+=hW}}if(X!=b.length)throw"e";
if(A==0){var db=-1;for(var R=0;R<u;R++){if(db==-1){}else{var by=-1;for(var L=R;L<u;L++)if(d[L][4]==db)by=L;
for(var L=R;L<u;L++)if(d[L][1]==db)by=L;if(by!=-1){var jM=0,l=d[by];d[by]=d[R];d[R]=l;if(l[1]!=db){jM=l[1];
l[1]=l[4];l[4]=jM;jM=l[2];l[2]=l[5];l[5]=jM;jM=l[3];l[3]=l[6];l[6]=jM}}}db=d[R][4]}K.push([[]]);for(var R=0;
R<u;R++)K[0][0].push(R)}var fP=[],hB=[];for(var iu=0;iu<K.length;iu++){for(var be=0;be<K[iu].length;
be++){var bp=K[iu][be],ij=0;if(bp.length>1){var fT=d[bp[0]],ei=d[bp[1]];ij=fT[4]==ei[1]?1:0}for(var R=0;
R<bp.length;R++){var bz=d[bp[R]],aM=1,hw=4;if(ij==0){aM=4;hw=1}var hx=a[bz[aM]],fm=a[bz[hw]];if(R==0){hB.push("M");
fP.push(hx.x,hx.y)}hB.push("C");fP.push(hx.x+bz[aM+1],hx.y+bz[aM+2],fm.x+bz[hw+1],fm.y+bz[hw+2],fm.x,fm.y)}}}D=w.p.nN({t:fP,C:hB},!1);
if(e!=0){var Y=[],dE=D[2].length;for(var R=0;R<dE;R++)Y.push(e);if(w.H.YU(D))w.H.iA(D,2,Y)}var gD=new hc;
gD.scale(y.x==0?1:O.x/y.x,y.y==0?1:O.y/y.y);w.H.nY(D,gD)}F.Y=D;if(P)h.push(P)};d2.WN=function(r,N){return r[N.sessionID+","+N.localID]};
d2.amL=function(r,N){return r.sessionID==N.sessionID&&r.localID==N.localID};d2.avt=function(r){var N={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[r];
if(N==null)throw r;return N};d2.AA=function(r){return{t:"Objc",v:w.X.QA({Z:r.r*255,z:r.g*255,J:r.b*255})}};
d2.hA=function(r){var N=[r.m00,r.m10,r.m01,r.m11,r.m02,r.m12];for(var R=0;R<6;R++)if(Math.abs(N[R])<1e-20)N[R]=0;
return new hc(N[0],N[1],N[2],N[3],N[4],N[5])};function cL(){}cL.ep=function(){var r=J.Mj;function N(o,H,x,Q){var U=Q?[]:{};
while(H<o.length-1&&o[H]!=125){var I=r(o,H,3),l=r(o,H+3,1),p;H+=4;H++;if(l=="v"){var j=N(o,H,x+1,I=="ELM"||I=="TIL");
p=j.h;H=j.r}else if(l=="i"||l=="f"){var T=H;while(o[T]!=125)T++;var V=r(o,H,T-H);p=l=="i"?parseInt(V,16):parseFloat(V);
H=T+1}else if(l=="s"){var E=J.Dx(o,H),V="";H+=2;for(var R=0;R<E;R++)V+=String.fromCharCode(o[H+2*R+1]);
p=V;H=H+2*E+1}else if(l=="b"){p=o[H]==49;H=H+2}else throw"e";if(Q)U.push([I,p]);else if(U[I]==null)U[I]=p;
else{if(!(U[I]instanceof Array))U[I]=[U[I]];U[I].push(p)}}H++;return{h:U,r:H}}function F(o,H){var x=h(o).slice(1),o=H.Clr.v;
o.Rd.v=x[0]*255;o.Grn.v=x[1]*255;o.Bl.v=x[2]*255}function h(o){return[(o>>>24&255)/255,(o>>>16&255)/255,(o>>>8&255)/255,(o>>>0&255)/255]}function m(o,H){var x=H&4278190080|(H&255)<<16|(H>>>8&255)<<8|H>>>16&255;
new Uint32Array(o.buffer).fill(x)}function O(o,H){var x=o.TSZ,Q=o.WPX,U=o.HPX,I=o.TIL,l=new fE(0,0,Q,U),p=w.B(Q*U*4),j=0;
for(var T=0;T<U;T+=x)for(var V=0;V<Q;V+=x){var E=new fE(V,T,x,x),_,f=I[j];if(f[0]=="TMC"){_=w.B(E.W()*4);
m(_,f[1])}else if(f[0]=="TID"){_=H[f[1]]}w.L3(_,E,p,l);j++}return[p,l]}function e(o,H){o=new Uint8Array(o);
var x=8,Q,U={},i=0;while(x<o.length){var I=J.l(o,x);x+=4;var l=r(o,x,4);x+=4;if(l=="mkTS"){var p=pako.inflate(o.slice(x,x+I)),j=N(p,0,0);
Q=j.h}else if(l=="mkBT"){var T=J.l(o,x+4),V=J.l(o,x+8),p=pako.inflate(o.slice(x+76,x+I));if(V==0)for(var R=0;
R<p.length;R+=4){var E=p[R],_=p[R+1],f=p[R+2],S=p[R+3];p[R+3]=E;p[R+2]=S;p[R+1]=f;p[R]=_}else{var L=w.B(p.length*4);
L.fill(255);w.zG(p,L);p=L}U[T]=p}x+=I+4}var y=Q.PDC,$=y?y instanceof Array?y:[y]:[Q.MKB],Z=new fE;for(var R=0;
R<$.length;R++){var b=$[R];Z=Z.fD(new fE(0,i,b.WID,b.HIT));i+=b.HIT+100}H.e=Z.e;H.n=Z.n;H.buffer=w.B(Z.W()*4);
H.c3($.length);i=0;for(var G=0;G<$.length;G++){H.g.push(H.Dz());var b=$[G],g=b.WID,u=b.HIT,A=b.BGC,a=(b.LYL?b:Q).LYL.LAY,n=3;
for(var R=0;R<a.length;R++)B(a[R],H,null,U,new hc(1,0,0,1,-b.XLC,-b.YLC+i));var d=H.lc();H.g.push(d);
var K=new fE(0,i,g,u);i+=u+100;d.xz(K);if(A>>>24!=0){var t=w.X.QA({Z:A>>>16&255,z:A>>>8&255,J:A>>>0&255});
d.add.artb.Clr={t:"Objc",v:t};n=4}d.add.artb.artboardBackgroundType.v=n;d.a6(b.PGN?b.PGN:"Page "+(G+1));
d.add.lsct=jJ.ab;d.$j="pass";d.Rl=24}}function P(o,H,x){var Q=o[H];return Q instanceof Array?Q[x]:Q}function B(o,H,x,Q,U){var I=H.lc();
if(o.VIS!=null)I.Hb(o.VIS);if(o.VIF!=null)I.Hb(o.VIF.VIS);if(o.OPA!=null)I.opacity=Math.round(255*o.OPA/1e3);
I.$j=o.CLL||x=="GRP"?"pass":"norm";if(o.BLD!=null){var l=o.BLD,p={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[l+""];
if(p==null)console.log(o.OBN,l);else I.$j=p;if(l==30)I.opacity>>>=1}if(o.CLL){I.a6(o.LNM);H.g.push(H.Dz());
var j=o.CLL.CEL;if(j.length==null)j=[j];for(var T=j.length-1;T>=0;T--){var V=j[T].ELM;for(var R=V.length-1;
R>=0;R--)B(V[R][1],H,V[R][0],Q,U)}I.add.lsct=o.DIS?jJ.Ra:jJ.ab;I.Rl|=24}else if(x=="GRP"){var E=I.add.lmfx=Y(o.EFL),_;
H.g.push(H.Dz());var V=o.ELM;if(o.MNA){_=V[0][1];V=V.slice(1)}I.a6("Group: "+V.length+" objects");for(var R=V.length-1;
R>=0;R--)B(V[R][1],H,V[R][0],Q,U);if(_){if(o.MRX){var f=O(_,Q),S=I.v=new C.Z8;S.rect=f[1].clone();S.rect.x=_.XLC;
S.rect.y=_.YLC+U.SS;S.channel=w.B(S.rect.W());w.Pw(f[0],S.channel,0);w.iL(S.channel)}else{s(I,_,U);I.dD(H)}}I.add.lsct=jJ.ab;
I.Rl|=24}else if(x=="IMG"){I.a6(o.OBN?o.OBN:"Bitmap");var f=O(o,Q);I.rect=f[1].clone();I.rect.x=o.XLC;
I.rect.y=o.YLC+U.SS;I.buffer=f[0]}else if(x=="TXT"){var L=o.TFS,y=L.TRN instanceof Array?L.TRN.length:1,b="",G="Arial",g=20,u=0;
I.add.lnsr="rend";I.add.TySh=gQ.WW(0,0);I.add.TySh.A2=new fE(0,0,100,100);var $=new hc(1,0,0,1,o.LFT,o.TOP);
if(o.MTX){var Z=o.MTX,S=new hc(Z.M00,Z.M01,Z.M10,Z.M11,Z.M20,Z.M21);$.concat(S)}$.concat(U);I.add.TySh.A=$;
var i=I.add.TySh.sl;for(var R=0;R<y;R++){var A=P(L,"TRN",R);if(A==null)continue;A=A.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
gQ.BY(i,b.length,A);var a=gQ.pz(i,0,1),d=P(L,"FON",R);if(d)G=d;gQ.dV(a,G);var K=P(L,"PTS",R);if(K!=null)g=K;
a.AY.FontSize=Math.round(g);var n=P(L,"FCL",R);if(n!=null)u=n;a.AY.FillColor={Type:1,Values:h(u)};gQ.sW(i,b.length,b.length+A.length,a);
b+=A}I.a6(b.slice(0,255));var t=o.RIT-o.LFT,X=o.BOT-o.TOP;if(o.IMG){B(o.IMG,H,"IMG",Q,U);var aK=H.g.pop();
I.buffer=aK.buffer;I.rect=aK.rect.clone()}gQ.l7(i,1);gQ.q2(i,[0,0,t,X])}else if(x=="PTH"){I.a6(o.OBN?o.OBN:"Path");
I.Rl|=16;var fg=!1;s(I,o,U);var k=I.add.vmsk,hG=I.add.vstk,eE=w.H.KX(k.Y),hW=o.PAT,hh=hW.BPL,hI=hW.FPL,db=hW.TXF;
if(hI&&hI.FEF)k.J_+=hI.FEF/2.4;if(hh){var by=hh.CAT;hG.strokeEnabled.v=!0;hG.strokeStyleLineWidth.v.val=hh.BDI;
hG.strokeStyleLineAlignment.v.strokeStyleLineAlignment=an.mr.bj[o.BRP];F(hW.BCL,hG.strokeStyleContent.v);
if(by!="bc_Basic"&&by!="bc_Pencil")fg=!0}if(hI==null){hG.fillEnabled.v=!1;I.add.SoCo=JSON.parse(an.O7[an.order.indexOf("SoFi")]);
F(0,I.add.SoCo)}else if(hI.CAT=="fc_Solid"){I.add.SoCo=JSON.parse(an.O7[an.order.indexOf("SoFi")]);F(o.PAT.FCL,I.add.SoCo)}else if(hI.CAT=="fc_Linear"||hI.CAT=="fc_Circular"||hI.CAT=="fc_Elliptical"){var jM=hI.CAT=="fc_Linear",fP=I.add.GdFl=JSON.parse(an.O7[an.order.indexOf("GrFl")]),hB=fP.Grad.v,iu=[],be=hI.FGL,bp,ij=[];
if(be.FGY){var fT=be.FGY,bp=fT.FG0.FGI,ij=fT.FG1.FGI}else bp=be.FGV.FGI;for(var R=0;R<bp.length;R++){var ei=bp[R],bz=h(ei.FGC),aM=1;
if(ij.length==bp.length)aM=h(ij[R].FGC)[0];iu.push([ei.FGP,bz.slice(1),aM])}fP.Type.v.GrdT=jM?"Lnr":"Rdl";
w.X.y2(iu,hB);hB.Intr.v=0;var hw=o.PRI?o.PRI:o,hx=new gS(hw.PSX,hw.PSY),fm=new gS(hw.PEX,hw.PEY);if(hI.CAT=="fc_Elliptical"&&hw.PFX!=null){var dE=new gS(hw.PFX,hw.PFY),gD=gS.Mz(hx,fm),c2=gS.Mz(hx,dE);
if(c2<gD){var bQ=gD;gD=c2;c2=bQ}fm=new gS(hx.x+(gD+c2)/2,hx.y);if(gD/c2<.5)fg=!0}if(jM){hx.x=(hx.x+fm.x)/2;
hx.y=(hx.y+fm.y)/2}w.X.zm(hx,fm,eE,fP)}else console.log(hI.CAT);var E=I.add.lmfx=Y(o.EFL,k);if(hI&&hI.FTB!=0&&db){var f=O(db.MSK,Q),f9={};
f9.id=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f";f9.name="someImage";f9.jB=f;H.yt(f9);var jR=f[0];for(var R=0;
R<jR.length;R+=4){jR[R+3]=255-jR[R];jR[R]=jR[R+1]=jR[R+2]=255}var fP=JSON.parse(an.O7[an.order.indexOf("patternFill")]);
fP.Opct.v.val=Math.round(hI.FTB/10);fP.Algn.v=!0;fP.Ptrn.v.Idnt.v=f9.id;E.patternFillMulti.v.unshift({t:"Objc",v:fP})}if(fg&&o.IMG){B(o.IMG,H,"IMG",Q,U);
var gP=H.g[H.g.length-1];gP.opacity=I.opacity;return}I.dD(H)}else if(x=="URL")return;else{console.log("unknown layer type",x,o);
I.a6("Layer")}H.g.push(I)}function s(o,H,x){if(H.PBL==null)return;var Q=o.add.vmsk=new C.Ug,U=o.add.vstk=JSON.parse(JSON.stringify(an.mr.default)),I=H.PBL.PBP;
if(!(I instanceof Array))I=[I];for(var l=0;l<I.length;l++){var p=I[l].PBT;if(p==null)continue;if(!(p instanceof Array))p=[p];
var j=I[l].ISC?0:3;Q.Y.push({type:j,length:p.length,r5:0,sd:2,OD:0,tL:0});for(var R=0;R<p.length;R++){var T=p[R],V=T.XLC,E=T.YLC,_=[V,E,V,E,V,E],f="XPC YPC XLC YLC XSC YSC".split(" ");
for(var S=0;S<6;S++){var L=f[S],y=T[L];if(y!=null)_[S]=y}Q.Y.push({type:j+2,F:new gS(V,E),Q$:new gS(_[0],_[1]),lW:new gS(_[4],_[5])})}}w.H.nY(Q.Y,x);
o.jq()}function Y(o,H){var x=JSON.parse(an.default);for(var R=0;R<an.order.length;R++)x[an.NR[R]]={t:"VlLs",v:[]};
if(o==null)return x;var Q=o.EPS;if(!(Q instanceof Array))Q=[Q];for(var R=0;R<Q.length;R++){var U=Q[R].DCE,I={};
for(var l=0;l<U.length;l++)I[U[l].DCK]=U[l].DCV;if(I.EffectIsVisible=="false")continue;var p=I.mkbFile_WriteOnly_TemporaryEffectUiName;
if(p=="Gaussian Blur..."&&H){H.J_+=parseFloat(I.gaussian_blur_radius);continue}var j=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(p);
if(j==-1){continue}var T=["DrSh","ebbl","IrGl","OrGl"][j],V=an.NR[an.order.indexOf(T)],E=JSON.parse(an.O7[an.order.indexOf(T)]);
x[V].v.unshift({t:"Objc",v:E});if(T=="DrSh"){E.uglg.v=!1;D(I,"ShadowDistance",E,"Dstn");D(I,"ShadowBlur",E,"blur");
D(I,"ShadowAngle",E,"lagl",180);E.Opct.v.val=100;c(I,"ShadowColor",E,"Clr")}if(T=="IrGl"){E.Md.v.BlnM="Nrml";
var _=I.MaskSoftness,f=I.GlowWidth;if(_&&f){_=parseInt(_);f=parseInt(f);E.blur.v.val=f+_;E.Ckmt.v.val=Math.round(100*f/(f+_))}D(I,"BevelContrast",E,"Opct");
c(I,"OuterBevelColor",E,"Clr")}if(T=="OrGl"){E.Md.v.BlnM="Nrml";var _=I.MaskSoftness,f=I.GlowWidth;if(_&&f){_=parseInt(_);
f=parseInt(f);E.blur.v.val=f+_}D(I,"BevelContrast",E,"Opct");c(I,"OuterBevelColor",E,"Clr")}if(T=="ebbl"){E.uglg.v=!1;
D(I,"BevelWidth",E,"blur");D(I,"AngleSoftness",E,"Sftn");D(I,"BevelContrast",E,"srgR");D(I,"LightAngle",E,"lagl")}}return x}function D(o,H,x,Q,U){var I=o[H];
if(U==null)U=0;if(I)x[Q].v.val=parseInt(I)+U}function c(o,H,x,Q){var U=o[H];if(U){U=U.slice(1);if(U.length==6)U=U+"ff";
if(U.length!=8)throw"e";var I=h(parseInt(U,16)),l=x[Q].v;l.Rd.v=I[0]*255;l.Grn.v=I[1]*255;l.Bl.v=I[2]*255;
x.Opct.v.val=Math.round(x.Opct.v.val/100*I[3]*100)}}return e}();function e3(){}e3.ep=function(){function r(_,f){var S=!1,L=Date.now(),y=I(_,S),hW=1;
if(S)console.log("part found",Date.now()-L);L=Date.now();var $=U(y),Z=$.Layer,i=$.Header;if(S)console.log($);
var b=Z[0];b=$.Layer[0];if(S)console.log("document parsed",Date.now()-L);L=Date.now();$.Setup.Gradient=Q($.Setup.Gradient,y);
if(S)console.log("grads loaded",Date.now()-L);L=Date.now();$.Setup.Pattern=x($.Setup.Pattern,y);if(S)console.log("patts loaded",Date.now()-L);
L=Date.now();$.Setup.DocumentData=H($.Setup.DocumentData,y).pop();if(S)console.log("docdata loaded",Date.now()-L);
L=Date.now();$.Setup.SVGFilter=H($.Setup.SVGFilter,y);if(S)console.log("svgfilter loaded",Date.now()-L);
L=Date.now();var G=i.Cropmarks,g=i.BoundingBox.split(" ").map(parseFloat),u=i.ArtSize?i.ArtSize.split(" ").map(parseFloat):[g[2]-g[0],g[3]-g[1]];
f.e=Math.round(u[0]);f.n=Math.round(u[1]);var A=[1,0,0,1,-g[0]+(f.e-(g[2]-g[0]))/2,-g[1]+(f.n-(g[3]-g[1]))/2];
A[3]=-1;A[5]=f.n-A[5];if(G){G=G.split(" ").map(parseFloat);f.e=Math.round(G[2]-G[0]);f.n=Math.round(G[3]-G[1]);
A=[1,0,0,-1,-G[0],f.n+G[1]]}var a=$.Setup.DocumentData;if(a&&a[0]&&a[0].ArtboardArray){var d=a[0].ArtboardArray;
if(d.length!=1)console.log(d.length,"artboards");var K=new fE;for(var R=0;R<d.length;R++){var n=d[R],t=n.PositionPoint1,X=n.PositionPoint2,aK=t[0],fg=Math.min(t[1],X[1]),k=X[0],hG=Math.max(t[1],X[1]);
K=K.fD(new fE(aK,fg,k-aK,hG-fg))}f.e=Math.round(K.e);f.n=Math.round(K.n);A[4]=-K.x;A[5]=K.y+f.n}var eE=Math.max(f.e,f.n);
while(eE*hW<1200)hW++;while(eE*hW>6e3)hW*=.5;f.e=Math.round(f.e*hW);f.n=Math.round(f.n*hW);f.EP=Math.round(72*hW);
f.buffer=w.B(f.e*f.n*4);for(var R=0;R<6;R++)A[R]*=hW;for(var hh=0;hh<Z.length;hh++){var hI=Z[hh];hI.Raster=N(hI);
var db=c(y,hI);F(f,db,A,$,hI,y)}if(S)console.log("layers created",Date.now()-L);L=Date.now()}function N(_){var f=_.Layer,S=_.Raster;
if(S==null)S=[];if(f){for(var R=0;R<f.length;R++){var L=f[R],y=L.Raster=N(L);S=S.concat(y)}S.sort(function($,Z){return $._begin-Z._begin})}return S}function F(_,f,S,L,y,$){var Z="",i=0,b="",G=UDOC.G,g=UDOC.getState(),u="norm",A=1,a="SoCo",n=!1,t=0,aK=null,fg=!1,k=0,hG=null,eE,hW,hh=0,hI=0,db=0;
g.ctm=S;var d=[0,0,0],K=[0,0,0],X=[],by=[],jM=[];for(var fP=0;fP<f.length;fP++){var hB=f[fP];if(hB[0]=="%"){if(hB=="%_/ArtDictionary :"&&k==0)aK=[hB.slice(2)];
else if(aK!=null){if(hB=="%_"&&k==0){var iu=j(aK)[0],be=iu.AI10_ArtUID;if(be&&!be.startsWith("XMLID"))_.g[_.g.length-1].a6(V(be));
aK=null}else{aK.push(hB.slice(fg?1:2));if(hB=="%_X=")k++;if(hB=="%_X+")k--;if(hB=="%_/Binary : /ASCII85Decode ,")fg=!0;
if(fg&&hB.endsWith("~>"))fg=!1}}else if(hG){eE+=(eE==""?"":" ")+hB.slice(2);if(eE.endsWith("X#")){hG.push(eE.slice(0,eE.length-3));
eE=""}}continue}else if(hB=="/Mesh X!"){hG=[];eE="";continue}else if(hB=="/End X!"){h(hG,g,_);hG=null;
continue}hB=hB.trim();var bp=hB.split(" "),ij=bp[bp.length-1],fT=ij.toLowerCase(),ei=bp.map(parseFloat);
if(ij=="m")G.moveTo(g,ei[0],ei[1]);else if(ij=="L"||ij=="l")G.lineTo(g,ei[0],ei[1]);else if(ij=="V"||ij=="v"||ij=="Y"||ij=="y")G.quadCurveTo(g,ei[0],ei[1],ei[2],ei[3]);
else if(ij=="C"||ij=="c")G.curveTo(g,ei[0],ei[1],ei[2],ei[3],ei[4],ei[5]);else if(ij=="H"||ij=="h"){if(ij==fT)G.closePath(g);
X.push(JSON.parse(JSON.stringify(g.pth)))}else if(ij=="Xy"){u=["norm","mul ","scrn","over","sLit"][ei[0]];
A=ei[1];if(u==null){u="norm";console.log("unknown blend mode",ei[0])}}else if(ij=="Xd"){var bz=_.g[_.g.length-1];
bz.opacity=Math.round(255*A);bz.$j=bz.zv()&&u=="norm"?"pass":u}else if(ij=="AE")hh=ei[0];else if(ij=="Ae")hI=ei[0];
else if(ij=="Xw")db=ei[0];else if(ij=="*"){var aM=g.pth.crds,hw=g.ctm,hx=aM[0]==aM[2]?0:1;_.a_.push([hx,aM[hx]]);
G.newPath(g)}else if(ij=="XN")hW=hB.split(" ")[0];else if(ij=="XI"){var fm=y.Raster,dE,gD;if(fm==null||fm.length==0){console.log("no Raster");
continue}if(hB!="XI"){continue}else{var c2=fm[i++].Data,bQ=c2._begin,f9=c2._end;while($[bQ]!=88)bQ++;
bQ+=3;dE=$.slice(bQ,f9);gD=f[fP-2].split(" ").map(parseFloat)}var jR=gD.slice(8),gP=jR[2],jh=jR[3],k6=gP*jh,eZ=w.B(k6*4);
eZ.fill(255);var b5=jR[7],fG=jR[8],jG=jR[6],i_=Math.ceil(gP*b5*jG/8);if(b5==1){if(jG==8)for(var R=0;
R<k6;R++)for(var aY=0;aY<3;aY++)eZ[4*R+aY]=dE[R];else if(jG==1)for(var jk=0;jk<jh;jk++)for(var ih=0;
ih<gP;ih++)for(var aY=0;aY<3;aY++)eZ[4*(jk*gP+ih)+aY]=255*(dE[jk*i_+(ih>>>3)]>>>7-(ih&7)&1);else throw jG}else if(b5==3)for(var R=0;
R<k6;R++)for(var aY=0;aY<3;aY++)eZ[4*R+aY]=dE[3*R+aY];else if(b5==4||b5==5)for(var R=0;R<k6;R++){var jr=s([dE[b5*R+0]/255,dE[b5*R+1]/255,dE[b5*R+2]/255,dE[b5*R+3]/255]);
eZ[4*R+0]=jr[0]*255;eZ[4*R+1]=jr[1]*255;eZ[4*R+2]=jr[2]*255}else if(b5==7)for(var R=0;R<k6;R++){eZ[4*R+0]=dE[b5*R+0];
eZ[4*R+1]=dE[b5*R+1];eZ[4*R+2]=dE[b5*R+2]}else console.log("unknown number of channels",b5);if(fG==1){var hV=jh*i_;
for(var R=0;R<k6;R++)eZ[4*R+3]=dE[hV+R]}var ds=w.oV(eZ,gP,jh)?"JPG":"PNG";if(gP*jh<700*700)ds="PNG";
var jA=bA.yU(ds).xs([[eZ.buffer]],gP,jh),eI=_.yk(new Uint8Array(jA),"<Image>",0,0);_.g.push(eI);eI.$j=u;
eI.opacity=Math.round(255*A);eI.Hb(db==0);var S=new hc;S.scale(1,-1);S.concat(B(gD.slice(1)));S.concat(B(g.ctm));
var hH=eI.rect.clone();hH.x=hH.y=0;var bp=w.p.fc(hH).t;w.p.A(bp,S,bp);eI.add.SoLd.Trnf=z.Q.JE(bp);eI.add.SoLd.nonAffineTransform=z.Q.JE(bp);
eI.XY(_,!1)}else if(ij=="Ln"){Z=O(hB)}else if(ij=="u"||ij=="q"||ij=="Lb"){by.push(hI==1);jM.push((ij=="Lb"?1-ei[0]:db)==0);
if(n)continue;_.g.push(_.Dz())}else if(ij=="U"||ij=="Q"||ij=="LB"){if(by.length==0||jM.length==0)throw fP;
var bO=by.pop(),k7=jM.pop();if(ij=="LB")bO=hh==1;if(n)continue;var eI=_.lc();eI.a6((ij=="U"?"<Group>":"<Clip Group>")+b);
if(ij=="LB")eI.a6(Z);if(ij=="Q"&&X.length!=0){var dO=X.pop(),cG=UDOC.G.isBox(dO,[0,0,_.e,_.n]);if(!cG)Y(eI,dO,_)}eI.add.lsct=bO?jJ.Ra:jJ.ab;
eI.$j="pass";eI.Rl=24;eI.Hb(k7);_.g.push(eI)}else if(ij=="Bb"||ij=="Bh"||ij=="BB"){}else if(ij=="Bg"){var cV=L.Setup.Gradient[O(hB)];
a="GdFl";d=m(cV.dn,cV.a3Y)}else if(ij=="Bm"||ij=="Xm"){var g3=d.Type.v.GrdT;if(g3=="Lnr"&&ij!="Xm"||g3=="Rdl"&&ij!="Bm")continue;
var gh=new gS(0,0),bH=new gS(1,0),gF=new hc;gF.concat(B(ei));gF.concat(B(g.ctm));gh=gF.eS(gh);bH=gF.eS(bH);
var hu=w.p.Ce(g.pth.crds);if(hu.lX())hu=w.p.Ce([gh.x,gh.y,bH.x,bH.y]);if(g3=="Lnr"){gh.x=(gh.x+bH.x)/2;
gh.y=(gh.y+bH.y)/2}w.X.zm(gh,bH,hu,d)}else if(ij=="p"){var aB=O(hB),c8=L.Setup.Pattern[aB];if(c8.raw==null){var hu=c8.$J,gP=Math.round(hu[2]-hu[0]),jh=Math.round(hu[3]-hu[1]),iu=new gp;
iu.e=gP;iu.n=jh;iu.buffer=w.B(gP*jh*4);F(iu,c8.bu,[1,0,0,-1,-c8.$J[0],jh+c8.$J[1]],L,y,$);c8.raw=new Uint8Array(bA.yU("PSD").xs(iu))}var bM=hB.slice(hB.indexOf(")")+2),ig=bM.slice(0,bM.indexOf("[")-1).split(" ").map(parseFloat),fe=bM.slice(bM.indexOf("[")+1,bM.indexOf("]")).split(" ").map(parseFloat);
a="patt";d=[aB,ig,fe]}else if(ij=="J"||ij=="j"||ij=="w"||ij=="M"||ij=="d"){for(var R=1;R<bp.length;R++){var e6=bp[R],iy=ei[R-1];
if(e6=="w")g.lwidth=iy;if(e6=="j")g.ljoin=iy;if(e6=="J")g.lcap=iy;if(e6=="d"){var jc=hB.slice(hB.indexOf("[")+1,hB.indexOf("]")).trim();
if(jc.length!=0){var bm=jc.split(" ").map(parseFloat);g.dash=bm}}}}else if(fT=="xa"||fT=="xx"){var cu=[ei[4],ei[5],ei[6]];
if(fT=="xx"&&ei[ei.length-2]==2)cu=s(ei);a="SoCo";if(ij=="Xa"||ij=="Xx")d=cu;else K=cu}else if(fT=="xk"){var cu,fC=ei[ei.length-2],cm=ei[ei.length-3];
if(fC==0)cu=s(ei);else if(fC==1){cu=[ei[4],ei[5],ei[6]];for(var R=0;R<3;R++)cu[R]=cm*1+(1-cm)*cu[R]}else throw hB;
a="SoCo";if(ij=="Xk")d=cu;else K=cu}else if(fT=="k"||fT=="x"){if(fT=="x"){ei.pop();var i4=1-ei.pop();
for(var R=0;R<4;R++)ei[R]*=i4}var cu=s(ei);a="SoCo";if(ij==fT)d=cu;else K=cu}else if(fT=="g"){var cu=[ei[0],ei[0],ei[0]];
a="SoCo";if(ij==fT)d=cu;else K=cu}else if(fT=="n")G.newPath(g);else if(ij=="*u"){n=!0;t=0}else if(ij=="*U"||fT=="s"||fT=="f"||fT=="b"){if(ij!="*U"&&n){if(fT=="f"||fT=="b")t|=1;
if(fT=="s"||fT=="b")t|=2;continue}if(ij==fT)G.closePath(g);if(ij=="*U"){n=!1}var eI;if(a=="patt"){var c8=L.Setup.Pattern[d[0]];
eI=_.yk(c8.raw,"<Pattern>",0,0);var hH=eI.rect.clone();hH.x=hH.y=0;var bp=w.p.fc(hH).t,fe=B(d[2]);fe.HG=fe.SS=0;
w.p.A(bp,fe,bp);eI.add.SoLd.Trnf=z.Q.JE(bp);eI.add.SoLd.nonAffineTransform=z.Q.JE(bp);eI.XY(_,!1)}else{eI=_.lc();
eI.Rl|=16;var fz=eI.add.vstk=JSON.parse(JSON.stringify(an.mr.default));fz.strokeEnabled.v=fz.fillEnabled.v=!1;
if(a=="SoCo"){eI.add.SoCo=JSON.parse(an.O7[an.order.indexOf("SoFi")]);var iB=eI.add.SoCo.Clr.v;e(iB,d)}if(a=="GdFl")eI.add.GdFl=d;
if(fT=="f"||fT=="b"||ij=="*U"&&t&1)fz.fillEnabled.v=!0;if(fT=="s"||fT=="b"||ij=="*U"&&t&2)jW.jZ(fz,g,1,jW.OF(K))}eI.a6("<"+(ij=="*U"?"Compound ":"")+"Path>"+b);
eI.$j=u;eI.opacity=Math.round(255*A);eI.Hb(db==0);Y(eI,g.pth,_);_.g.push(eI);G.newPath(g)}else if(ij==","&&bp[1]=="/StoryIndex"){var g5=L.Setup.TextDocument,cD=null;
if(!(g5 instanceof Array))g5=L.Setup.TextDocument=o(g5,$);var cv=g5[0],il=g5[2];if(cv._DocumentResources)cv=g5[0]=e4.adZ(cv);
else e4.agD(cv);var eI=_.lc();eI.add.lnsr="rend";eI.add.TySh=gQ.WW(0,0);var js=ax.ai1(cv),iH=eI.add.TySh.sl=js[ei[0]];
if(iH==null){console.log("text not found");continue}eI.a6(gQ.Xe(iH).slice(0,50));eI.$j=u;eI.opacity=Math.round(255*A);
eI.Hb(db==0);var i4=cv._1._1[ei[0]]._1._0[0]._0;i4=parseInt(i4.slice(1));var ju=cv._0._8._0,jQ=ju[i4]._0;
if(jQ._0)cD=P(jQ._0);else if(jQ._1)cD=P(jQ._1._0);else cD=P(jQ._2._2).slice(3);if(cD.length!=2){var hu=w.p.Ce(cD);
cD=[hu.x,hu.y];if(hu.W()!=0){gQ.l7(iH,1);gQ.q2(iH,[0,0,Math.round(hu.e),Math.round(hu.n)])}}var dZ=new hc,au=new hc(1,0,0,1,cD[0],cD[1]),dX=new hc(1,0,0,1,-il[0],-il[1]),gW=B(g.ctm),bX=new hc;
if(jQ._2&&jQ._2._2){var S=P(jQ._2._2);bX=new hc(S[0],S[1],S[2],S[3],S[4],S[5])}dZ.concat(au);dZ.concat(bX);
dZ.concat(dX);dZ.scale(1,-1);dZ.concat(gW);eI.add.TySh.A=dZ;_.g.push(eI);_.hP=!0}}}function h(_,f,S){var L=UDOC.G,y=[],$=[],Z="/DeviceGray",i=1,b=[],G=1;
for(var g=0;g<_.length;g++){var u=_[g];if(u.endsWith(" /CS")){var A=u.indexOf("/NChannel"),a=u.indexOf("/Process");
if(u.startsWith("/DeviceRGB")){Z="/DeviceRGB";i=3}else if(u.startsWith("/DeviceGray")){Z="/DeviceGray";
i=1}else if(u.startsWith("/DeviceCMYK")){Z="/DeviceCMYK";i=4;b=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(A!=-1){Z="/DeviceCMYK";
i=parseInt(u.slice(A-2,A-1));var d=1;for(var R=0;R<i;R++){d=u.indexOf("[",d);b[i-1-R]=u.slice(d+1,d+8).split(" ").map(parseFloat);
d++}}else if(a){Z="/DeviceGray";i=1}else throw u}else if(u[0]=="["){var K=u.indexOf("]"),n=u.slice(1,K).split(" ").map(parseFloat),t=u.slice(K+2),X,aK,fg,k,hG,eE;
if(t=="/Size"||t=="/P"||t=="/R")continue;if(t=="/S"||t=="/A"){X=n[0];aK=n[1];fg=n[2];k=n[3];hG=n[4];
eE=n[5]}else if(t=="/N"){var hW=i+(G==1?0:1),hh;X=n[hW+0];aK=n[hW+1];fg=n[hW+2];k=n[hW+3];hG=n[hW+5];
eE=n[hW+6];if(Z=="/DeviceRGB")hh=n.slice(0,3);else if(Z=="/DeviceGray")hh=[n[0],n[0],n[0]];else if(Z=="/DeviceCMYK"){var hI=[0,0,0,0];
for(var R=0;R<i;R++){var db=n[R],by=b[R];hI[0]+=db*by[0];hI[1]+=db*by[1];hI[2]+=db*by[2];hI[3]+=db*by[3]}hh=s(hI)}else throw hh;
hh.push(n[i]);$.push([hh,X,aK])}else throw t;y.push([t,hG,eE,X,aK,fg,k])}else if(u=="/E"){var jM=y.slice(0),fP=0;
for(var R=0;R<y.length;R++){var hB=y[R][0];if(hB=="/N"){fP++;continue}var iu=R,be=R+1;while(y[be][0]!="/N"&&be<y.length)be++;
if(fP==0||fP==3){for(var bp=0;bp<be-iu;bp++)jM[iu+bp]=y[be-1-bp]}else for(var bp=iu;bp<be;bp++){var ij=jM[bp],fT=ij[1];
ij[1]=ij[5];ij[5]=fT;fT=ij[2];ij[2]=ij[6];ij[6]=fT}R=be-1}y=[];for(var R=0;R<jM.length;R++){var ij=jM[R];
y.push(ij[1],ij[2],ij[3],ij[4],ij[5],ij[6])}var ei=y.length;L.moveTo(f,y[2],y[3]);for(var R=0;R<ei;R+=6){var fg=y[(R+4)%ei],k=y[(R+5)%ei],hG=y[(R+6)%ei],eE=y[(R+7)%ei],X=y[(R+8)%ei],aK=y[(R+9)%ei];
L.curveTo(f,fg,k,hG,eE,X,aK)}L.closePath(f);y=[]}else if(u.endsWith("/Version"))G=parseFloat(u[0])}var bz=S.lc();
bz.Rl|=16;bz.a6("<Mesh>");var aM=bz.add.vstk=JSON.parse(JSON.stringify(an.mr.default));aM.strokeEnabled.v=!1;
if($.length>=2){var hw=0,hx=0,fm=0;for(var R=0;R<$.length;R++)for(var bp=R+1;bp<$.length;bp++){var dE=$[R][0],gD=$[bp][0],c2=dE[0]-gD[0],bQ=dE[1]-gD[1],f9=dE[2]-gD[2],jR=Math.sqrt(c2*c2+bQ*bQ+f9*f9);
if(jR>fm){fm=jR;hw=R;hx=bp}}var gP=$[hw],jh=$[hx],k6=bz.add.GdFl=m(0,[[0,gP[0]],[1,jh[0]]]),eZ=B(f.ctm),b5=eZ.eS(new gS(gP[1],gP[2])),fG=eZ.eS(new gS(jh[1],jh[2])),jG=w.p.Ce(f.pth.crds);
b5.x=(b5.x+fG.x)/2;b5.y=(b5.y+fG.y)/2;w.X.zm(b5,fG,jG,k6)}Y(bz,f.pth,S);S.g.push(bz);L.newPath(f)}function m(_,f){var S=JSON.parse(an.O7[an.order.indexOf("GrFl")]),L=S.Grad.v;
L.Intr.v=0;S.Type.v.GrdT=["Lnr","Rdl"][_];w.X.y2(f,L);return S}function O(_){return _.slice(_.indexOf("(")+1,_.indexOf(")"))}function e(_,f){_.Rd.v=f[0]*255;
_.Grn.v=f[1]*255;_.Bl.v=f[2]*255}function P(_){var f=[];for(var R=0;R<_.length;R++)f[R]=parseFloat(_[R].slice(1));
return f}function B(_){return new hc(_[0],_[1],_[2],_[3],_[4],_[5])}function s(_){return UDOC.C.cmykToRgb(_)}function Y(_,f,S){_.add.vmsk=new C.Ug;
if(f.crds.length!=0)_.add.vmsk.Y=D(f);_.jq();_.dD(S)}function D(_){var f={t:_.crds,C:_.cmds},S=w.p.nN(f,!1);
return S}function c(_,f){var S=[f._begin],L=f._end-f._begin,y=L,$=f.Raster,g=0;if($){for(var R=0;R<$.length;
R++){var Z=$[R].Data;if(Z==null)break;var i=Z._begin+32,b=Z._end;if(i>b)i=b;S.push(i,b);y-=b-i}}S.push(f._end);
var G=new Uint8Array(y);for(var R=0;R<S.length;R+=2){var i=S[R],u=S[R+1]-i;G.set(new Uint8Array(_.buffer,i,u),g);
g+=u}return J.H3(G).split(/\r\n|\r|\n/)}function o(_,f){if(_==null)return[];var S=c(f,_),L="",y="",$=0,Z;
for(var R=2;R<S.length;R++){var i=S[R];if(i[0]=="%"){if($==0)L+=i.slice(1);else y+=i.slice(1)}else if(i==";")$++;
else if(i.endsWith("/RulerOrigin ,"))Z=i.split(" ").slice(0,2).map(parseFloat)}var b=[L,y],G=[];for(var R=0;
R<2;R++){var g=b[R],u=new Uint8Array(g.length);J.KZ(u,0,g);var A=FromPS.F.ASCII85Decode({buff:u,off:0}),a=cK.ep(A);
G.push(a)}G.push(Z);return G}function H(_,f){if(_==null)return[];var S=c(f,_);S=S.slice(1);for(var R=0;
R<S.length;R++){var L=S[R];if(L[0]=="%")S[R]=L.slice(L[1]=="_"?2:1)}var y=j(S);return y}function x(_,f){var S={};
if(_==null)return S;for(var R=0;R<_.length;R++){var L=c(f,_[R]),y=L[1],$=O(y),Z=y.slice(y.indexOf(")")+2).split(" ").map(parseFloat),i=[];
for(var b=2;b<L.length;b++)i.push(L[b].slice(2));S[$]={$J:Z,bu:i}}return S}function Q(_,f){var S={},L,y;
if(_==null)return S;var $=[];for(var R=0;R<_.length;R++){var Z=c(f,_[R]);for(var i=0;i<Z.length;i++){var b=Z[i];
if(b.endsWith("%_Bs")){var G=b.slice(0,b.length-4);if(!G.endsWith(" "))G+=" ";b=G+"%_BS"}if(b[0]=="("){var g=b.split(")");
L=g[0].slice(1);var u=g[1].split(" ");y=parseInt(u[1])}else if(b.endsWith("%_BS")){var g=b.split(" "),K,n=1;
g.pop();g=g.map(parseFloat);var A=g.pop(),a=g.pop(),d=g.pop();if(d==0)K=[g[0],g[0],g[0]];else if(d==2||d==4)K=[g[4],g[5],g[6]];
else if(d==1||d==3)K=s(g);else if(d==6){if(g.length==3)K=[g[0],g[0],g[0]];else K=s(g);n=g.pop()}else{throw d}$.push([A/100,K,n,a/100])}else if(b=="BD"){for(var t=0;
t<$.length-1;t++)$[t][3]=$[t+1][3];$.sort(function(X,aK){return X[0]-aK[0]});S[L]={dn:y,a3Y:$};$=[]}}}return S}function U(_){var f="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),S=Date.now(),L=0,y=[],$={Header:{}},Z=[$],i=_.length;
while(L<i){var b=L;while(b!=i&&_[b]!=13&&_[b]!=10){b++}if(_[L]==37&&_[L+1]==95&&_[L+2]==37)L+=2;if(_[L]==37&&(_[L+1]==37||_[L+1]==65)){var G=J.Mj(_,L,b-L);
if(G=="%%EndComments"||G=="%EndComments"||G=="%AI5_Begin_NonPrinting"||G=="%AI5_End_NonPrinting--"||G.startsWith("%AI17_Begin_Content_if_version_gt")||G=="%AI17_End_Versioned_Content"){}else{var g=G.indexOf("Begin"),u=Math.max(G.indexOf("_End"),G.indexOf("%End"));
if(g!=-1){var A=G.slice(g+5).split(":")[0],a={_begin:L,_end:L},d=Z[Z.length-1];if(f.indexOf(A)!=-1){if(d[A]==null)d[A]=[];
d[A].push(a)}else{if(d[A]!=null){console.log(Z);throw G}d[A]=a}Z.push(a);if(G.startsWith("%%BeginData")){b=J.vE(_,"%%EndData",L)}else if(G=="%AI9_BeginDocumentData")b=J.vE(_,"%AI9_EndDocumentData",b);
else if(G=="%AI11_BeginTextDocument")b=J.vE(_,"%AI11_EndTextDocument",b)}else if(u!=-1){Z.pop()._end=L}else if(Z.length==1&&(G.startsWith("%AI")||G.startsWith("%%")&&G.indexOf(" ")!=-1)){var K=1;
if(G.startsWith("%AI"))while(G[K]!="_"&&K<G.length)K++;var n=G.indexOf(":");if(n==-1)n=G.indexOf(" ");
var t=G.slice(K+1,n),X=G.slice(n+1).trim();$.Header[t]=X}}}L=b;if(_[L]==13)L++;if(_[L]==10)L++}return $}function I(_,f){var S=Date.now(),L=new Uint8Array(_),y,$=L[2]==68;
if(f)console.log(!$?"EPS":"PDF");if($){var Z=J.vE(L,"/AIMetaData "),k=!1,hG=!1;while(L[Z]!=60)Z--;Z--;
var i=J.vE(L,">>",Z),b=J.Mj(L,Z+2,i-Z-2).split("/"),G=[];for(var R=0;R<b.length;R++){var g=b[R],u=g.startsWith("AIPrivateData"),A=g.startsWith("AIPDFPrivateData");
if(!u&&!A)continue;var a=g.trim().split(/\s+/),d=parseInt(a[1]),K=parseInt(a[0].slice(u?13:16));G.push([K,d])}if(f)console.log("--- map made",Date.now()-S);
S=Date.now();var n=FromPDF.indexOfXref(L),t=[],X=FromPDF.readXrefTrail(L,n,t),aK={buff:L,off:0},fg=new Array(G.length),eE=Z;
for(var R=0;R<G.length;R++){var K=G[R][0],d=G[R][1],hW=FromPDF.getIndirect(d,0,aK,t),hh=hW.buff,hI=hW["/Filter"],db=0;
if(hI!=null&&typeof hI=="string")hI=[hI];var by=J.Mj(hh,db,db+20);if(by=="%AI12_CompressedData"){db+=20;
k=!0}else if(by=="%AI24_ZStandard_Data"){db+=20;hG=!0}hh=new Uint8Array(hh.buffer,hh.byteOffset+db,hh.length-db);
if(hI)for(var jM=0;jM<hI.length;jM++){var fP=hI[jM];if(fP=="/FlateDecode")hh=pako.inflate(hh);else if(fP=="/ASCIIHexDecode")hh=FromPS.F.HexDecode({buff:hh,off:0});
else if(fP=="/ASCII85Decode")hh=FromPS.F.ASCII85Decode({buff:hh,off:0});else throw fP}fg[K-1]=hh}if(f)console.log("--- arrays found",Date.now()-S);
S=Date.now();var hB=J.Mj(fg[0],0,13);if(hB=="%%BoundingBox"||hB=="%AI7_Thumbnai")fg=fg.slice(1);if(hB=="%AI24_ZStanda"){fg[0]=fg[0].slice(20);
hG=!0}if(J.Mj(fg[0],0,13)=="%AI12_Compres"){fg[0]=fg[0].slice(20);k=!0}y=l(fg);if(f)console.log("--- concatenated",Date.now()-S);
S=Date.now();if(k)y=UZIP.inflate(y);if(hG)y=bA.Si.w5(y);if(f)console.log("--- inflated",Date.now()-S);
S=Date.now()}else{var iu=J.H3(L);if(iu.indexOf("%AI5_BeginLayer")!=-1){y=L}else{var be=iu.split(/[\n\r]+/),bp=[],ij=!1;
for(var fT=0;fT<be.length;fT++){var ei=be[fT].trim();if(ei=="%AI9_PrivateDataEnd"){ij=!1;break}else if(ei=="%AI9_DataStream"||ei=="%AI24_DataStream"){ij=!0}else if(ij)bp.push(ei.slice(1))}var bz=J.kX(bp.join("")),aM=FromPS.F.ASCII85Decode({buff:bz,off:0});
if(aM[0]==120&&aM[1]==156)y=UZIP.inflate(aM);else y=bA.Si.w5(aM)}}return y}function l(_){var f=0,L=0;
for(var R=0;R<_.length;R++)f+=_[R].length;var S=new Uint8Array(f);for(var R=0;R<_.length;R++){var y=_[R];
S.set(y,L);L+=y.length}return S}function p(_,f){for(var R=0;R<f.length;R++)if(_.startsWith(f[R]))return!0;
return!1}function j(_){var f=[],S=[],top=-1,L,y=null,$=null,Z=0;for(var i=0;i<_.length;i++){var b=_[i];
if(L){b=L+b;L=null}var G="\t".repeat(f.length);if(y!=null){y.push(b);if(b.endsWith("~>")){var g=J.kX(y.join("")),u=FromPS.F.ASCII85Decode({off:0,buff:g});
f.push(u);S.push(!1);top++;y=null}}else if($!=null){if(b=="X+"){if(Z==1){f.push($);S.push(!1);top++;
$=null}else Z--}else if(b=="X=")Z++;else $.push(b)}else if(b=="/Binary : /ASCII85Decode ,"){y=[]}else if(b=="X="){$=[];
Z++}else if(b=="/SVGFilter :"||b=="; /Def ;")continue;else if(b.startsWith("/")&&b[1].toUpperCase()!=b[1].toLowerCase()){if(b.startsWith("/XMLUID")){var A=T(b);
if(S[top])throw"e";f[top][A[4]]=A[2]}if(b.startsWith("/GObjRef")){var A=T(b);if(!S[top])throw"e";f[top].push(A[2])}else{var a=b.startsWith("/Array")||b.startsWith("/Document");
f.push(a?[]:{});S.push(a);top++}}else if(b.endsWith(",")){var d,K,A=T(b);A.pop();if(A[0]==";"||A.length==1){K=f.pop();
S.pop();top--;d=S[top]?null:A.pop()}else{d=S[top]?null:A.pop();var n=A.pop(),t=A[0];if(n=="/Int")K=parseInt(t);
else if(n=="/Real")K=parseFloat(t);else if(n=="/Bool")K=t=="1";else if(n=="/String"||n=="/UnicodeString")K=A.join("");
else if(n=="/RealMatrix"||n=="/RealPoint"||n=="/RealPointRelToROrigin")K=A.map(parseFloat);else throw n}if(S[top])f[top].push(K);
else f[top][d]=K}else if(b==";"){}else if(b==""){}else{if(b.indexOf("/RealPoint")!=-1){}else if(b.startsWith("(")&&b.endsWith(")")){}else if(b.endsWith("/RealMatrix")){}else throw b;
L=L?L+b:b}}return f}function T(_){var f=0,S=[];while(f<_.length){var L=_[f],y=L.charCodeAt(0);if(L==" ")f++;
else if(L==","||L==";"||L==":"){S.push(L);f++}else if(L=="("){var $=f+1;while(!(_[$]==")"&&_[$-1]!="\\"))$++;
var Z=_.slice(f+1,$);S.push(Z);f=$+1}else if(L=="/"||L=="-"||48<=y&&y<=57){var $=f;while(_[$]!=" ")$++;
S.push(_.slice(f,$));f=$}else throw L}return S}function V(_){var f="";for(var R=0;R<_.length;R++){if(_[R]=="_"&&_[R+1]=="x"){var j_=parseInt(_.slice(R+2,R+4),16);
f+=String.fromCharCode(j_);R+=4}else if(_[R]=="_")f+=" ";else f+=_[R]}return f}function E(_){var f="xmlnode-nodename",S="xmlnode-nodevalue",L="xmlnode-attributes",y="xmlnode-children",$=_[f],Z=_[L],i=_[y],b={_nam:$};
for(var G in Z){var g=Z[G];if(Object.keys(g[L]).length!=0||g[y].length!=0)throw"e";if(g[f]!=G)throw"e";
b[G]=g[S]}if(i.length==0)return b;var u=b.cln=[];for(var R=0;R<i.length;R++)u.push(E(i[R]));return b}return r}();
var z={};z.G=function(r){return window.devicePixelRatio||1};z.BH=function(r,N){return(N.ah5=="touch"?12:4)*z.G()/r.q.O};
z.bE=function(r,N,F){this.name=r;this.id=N;this.dI=null;if(F!=null)this.L1=F};z.bE.prototype.z1=function(r,N,F,h,m){};
z.bE.prototype.enable=function(r,N,F,h,m,O){var e=new gf(v.E.S,!0);e.data={V:v.c.oQ,eT:"default"};N.L(e)};
z.bE.prototype.disable=function(r,N,F,h,m){};z.bE.prototype.Gu=function(r,N,F,h,m){return!1};z.bE.prototype.vV=function(r,N,F,h,m){};
z.bE.prototype.SM=function(r,N,F,h,m){};z.bE.prototype.Ui=function(r,N,F,h,m){};z.bE.prototype.wJ=function(r,N,F,h,m,O){};
z.bE.prototype.TK=function(r,N,F,h,m){};z.bE.prototype.BD=function(r,N,F,h){};z.bE.prototype._r=function(r,N,F,h){};
z.bE.prototype.uq=function(r,N){};z.bE.prototype.UO=function(r,N){};z.bE.prototype.qW=function(r,N,F,h,m){};
z.bE.prototype.Qr=function(r,N){};z.bE.prototype.Zk=function(r,N){return!1};z.bE.prototype.rm=function(r,N){return!1};
z.bE.prototype.N7=function(){return!1};z.bE.prototype.MH=function(r,N){return!0};z.bE.prototype.vK=function(){return null};
z.bE.prototype.aO=function(r,N,F){};z.bE.prototype.He=function(){return!1};z.bE.prototype.Fg=function(r,N,F,h){};
z.bE.prototype.track=function(r){var N=new gf(v.E.nE,!0);N.data=r;r.vi=!0;this.dI.L(N)};z.bE.Ln=function(r,N,F,h){var m=10*z.G()*(r.ah5=="touch"?2:1),O=r.x+m,e=r.y-m;
z.bE.Mp(O,e,[ab.get([12,41]).charAt(0)+": "+w.Lt.Ip(N.e,F.EP,h,F.e,!0),ab.get([12,42]).charAt(0)+": "+w.Lt.Ip(N.n,F.EP,h,F.n,!0)],F)};
z.bE.Mp=function(r,N,F,h){var m=z.G(),O=Math.round,e=O(11*m),P=O(100*m),B=O((F.length*14+5)*m),s=new fE(r,N-B,P,B),Y=z.bE.rB;
if(Y==null)Y=z.bE.rB=document.createElement("canvas");Y.width=P;Y.height=B;var D=Y.getContext("2d");
D.fillStyle="rgba(0,0,1,1)";D.fillRect(0,0,P,B);D.font=e+"px monospace";D.fillStyle="rgba(255,255,255,1)";
for(var R=0;R<F.length;R++)D.fillText(F[R],O(4*m),O((R+1)*13*m));var c=[D.getImageData(0,0,P,B).data,s.clone()];
if(h)h.d.Ul=[c];return c};z.bE.rB=null;z.FS="0";z.Ns="1";z.ar6="2";z.a6r="3";z.$k="5";z.akY="6";z.a8V="7";
z.hw="8";z.kY="9";z.Ke="10";z.AE="11";z.eu="12";z.U0="13";z.vH="14";z.mf="16";z.Sk="18";z.It="19";z.TG="20";
z.Oj="21";z.y_="22";z.D$="23";z.Kn="24";z.eF="25";z.fS="27";z.T6="31";z.aet="32";z.a3n="34";z.a1_="35";
z.za="36";z.fV="37";z._m="38";z.KG="39";z.zF="40";z.gM="41";z.e8="42";z.CA="43";z.atA="44";z.tI="47";
z.Sm="48";z.qI="51";z.xD="52";z.Dr="54";z.n4="55";z.w6="56";z.Ob="57";z.k2="58";z.U4="59";z.ak5="60";
z.x0="61";z.Pl="70";z.cP="100";z.DM="101";z.jU="102";z.SF="103";z.$g="120";z.T_="230";z.aeR="231";z.Fr="232";
z.j7="233";z.Nq="234";z.dX="235";z.Ai="236";z.fO=function(r){var N=z.JV,F=null;for(var h in N)if(N[h][1].indexOf(r[1].classID)!=-1)F=h;
return F};z.JV={};z.JV[z.D$]=["tools/brush",["PbTl"]];z.JV[z.Kn]=["tools/pencil",["PcTl"]];z.JV[z.T6]=["tools/eraser",["ErTl"]];
z.a3=function(r,N,F){z.bE.call(this,r,N,F);this.Jd={brush:r?bR.qd():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.bX=null;this.Ti=null;this.at=null;this.YE=null;this.ag=null;this.xM=null;this.Z$=null;this.i$=null;
this.D_=null;this.ub=null;this.Im=null;this.la=null;this.Rj=null;this.Ef=1;this._e=!1;this.qb=null;this.caller=null};
z.a3.prototype=new z.bE;z.a3.prototype.rm=function(r,N){return r.Tb&&N.j(bh.wQ)};z.a3.prototype.SM=function(r,N,F,h,m){if(h.j(bh.sV)){this.xM=new gS(m.x,m.y);
var O=this.Jd.brush.Brsh.v,e=O.Dmtr.v.val,P=O.Hrdn!=null?O.Hrdn.v.val:-1;this.Z$=[e,P,!0,JSON.parse(JSON.stringify(this.Jd.brush)),m];
this.LN(F)}};z.a3.prototype.Re=function(r,N,F){var h=this.Z$,m=r.q.O,O=F.x-h[4].x,e=F.y-h[4].y,P=h[0],B=h[1],s=Math.abs(O)>Math.abs(e);
if(s&&h[2]){var Y=Math.round(2*O/m);P+=Y;F.x-=O-.5*Y*m}if(!s&&!h[2]&&B!=-1){var Y=Math.round(.25*e);
B+=Y;F.y-=e-4*Y}P=Math.max(1,P);B=h[1]==-1?-1:Math.max(0,Math.min(100,B));var D=h[3];D.Brsh.v.Dmtr.v.val=P;
if(B!=-1)D.Brsh.v.Hrdn.v.val=B;this.Z$=[P,B,s,D,F];var c=hy.vt(D,N.nd.lZ,m),o=c[1];o.x=Math.round(this.xM.x-o.e/2);
o.y=Math.round(this.xM.y-o.n/2);r.d.BW=[c];var H=r.q.RX(this.xM.x,this.xM.y);r.d.Cx={MC:[],LY:[H.x-P/2,H.y,H.x+P/2,H.y]};
if(B!=-1)r.d.Cx.LY.push(H.x+50/m,H.y-B/2,H.x+50/m,H.y+B/2);r.mR=!0};z.a3.prototype.TK=function(r,N,F,h,m){if(this.id==z.TG||this.id==z.Oj)return;
if(this.xM){this.xM=null;this.WU(JSON.parse(JSON.stringify(this.Z$[3])));r.d.BW=[];r.d.Cx=null;r.mR=!0;
return}var O=new gf(v.E.S,!0);O.data={V:v.c.$P,s:this.id,akf:"showBrushOpts",TN:new gS(m.Yk+4,m.it)};
N.L(O)};z.a3.prototype.WU=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.nM,Xa:bC.V_,RE:r};this.caller.L(N)};
z.a3.eq=function(r,N,F,h,m,O){if(r==null)r="FrgC";if(N==null)N="norm";if(F==null)F=1;if(m==null)m=!1;
var e={classID:"Fl",Usng:{t:"enum",v:{FlCn:r}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(F*100)}},PrsT:{t:"bool",v:m},Md:{t:"enum",v:{BlnM:g6.Cp(N)}}};
if(r=="Clr")e.Clr={t:"Objc",v:h};if(r=="contentAware")e.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(r=="Ptrn")e.Ptrn={t:"Objc",v:O};return{Ja:"fill",Tf:e}};z.a3.prototype.z1=function(r,N,F,h,m){this.dI=N;
var O=F.I2.length;if(O==0&&!F.VT())return;var e=O!=0?-1-F.I2[0]:F.w[0],P=F.g[e];if(r.V=="fromAction"){var B=r.T5,s=B.Tf;
if(s&&s.null&&s.null.v[0]&&s.null.v[0].v.classID=="Path"){var Y=F.bN(),D=Y[0],c=Y[1],o=D[c.length==0?0:c[0]].add.vmsk;
if(B.Ja=="fill"){var H=o.$n(),x=m.Fp,Q=this.Jd,U=x>>16&255,I=x>>8&255,l=x>>0&255;this.Y0(F,P,H,U,I,l,Math.round(Q.opacity*255),Q.bmode,"Fill Path")}else{for(var p=0;
p<1e3;p++){var j=w.H.Au(o.Y,p,!0);if(j==-1){this.wJ(F,N,m,h,null);break}var T=o.Y[j],V=o.Y.slice(j,j+1+T.length),E=w.p.aM(V,!0).t,_=E.slice(0,8);
for(var f=8;f<E.length;f+=6)_.push(E[f-2],E[f-1],E[f],E[f+1],E[f+2],E[f+3],E[f+4],E[f+5]);var S={};S.Points=_;
S.TextOnPathTRange=o.i4.slice(0);var S=ac.pj(S,2),L=S[0];if(p==0)this.vV(F,N,m,h,F.q.l9(L[0],L[1]));
else this.Ti.moveTo(L[0],L[1]);for(var R=2;R<L.length;R+=2){var y=F.q.l9(L[R],L[R+1]);y.Tb=!0;this.Ui(F,N,m,h,y,this.Jd.flow)}}}}else if(B.Ja=="fill"){var $=s.PrsT?s.PrsT.v:!1,Z=P?P.add.lspf:0;
if($&&P){P.add.lspf=Z==null?1:Z|1}var i=(s.Opct?s.Opct.v.val:100)/100,b=s.Md?g6.lF(s.Md.v.BlnM):"norm",G=s.Usng.v.FlCn;
if(G=="contentAware"){if(F.$==null){alert("Select an area to heal first.");return}if(!F.VT())return;
this.Vw(F);this.mz(F,0);var g=F.$,u=w.B(g.rect.W()*4);w.vr(g.channel,u,3);this.q1(F,"sheal",u,g.rect,g.rect);
this.M(F,g.rect);this.finish(F,g.rect)}else if(G=="Ptrn"){var A=m.X5,a=F.$?F.$.rect.clone():new fE(0,0,F.e,F.n),d=w.B(a.W()*4);
iL.Rf(s,d,a,A,new gS(0,0));this.pd(F,P,F.$,d,"norm",[6,48,0,2])}else{var x;if(G=="FrgC")x=m.Fp;else if(G=="BckC")x=m.lo;
else if(G=="Blck")x=0;else if(G=="Wht")x=16777215;else if(G=="Gry")x=8421504;else if(G=="Clr"){var K=w.X.Mq(s.Clr.v);
x=K.Z<<16|K.z<<8|K.J}var U=x>>16&255,I=x>>8&255,l=x>>0&255;this.Y0(F,P,F.$,U,I,l,Math.round(255*i),b,[2,3])}if($&&P){P.add.lspf=Z==null?0:Z}}else if(B.Ja=="delete"){var n=e<0?1:P.Ku,g=F.$,fg;
if(g==null)return;var t=e<0?F.O0[-e-1]:n<=0?null:n==1?P.$n():P.xg(F).v,a=n<=0?P.rect:t.rect,X=n<=0?g.rect.c_(a):g.rect.clone();
if(X.lX())return;var aK=X.W();if(n<=0){fg=w.B(aK*4);w.L3(P.buffer,P.rect,fg,X)}else{fg=w.B(aK);t.extend(X);
w.nZ(t.channel,t.rect,fg,X)}if(0<=e&&P.Bi(F,g)){if(n<=0){w.T1(fg,0);w.L3(P._f.$J,P._f.Ji,fg,X)}else{fg.fill(255);
w.nZ(P._f.$J,P._f.Ji,fg,X)}}else{if(n<=0){var k=w.B(fg.length>>2);w.Pw(fg,k,3);w.i.b6(w.LQ(g.rect.W()),g.rect,k,X,g.channel,X,1);
w.vr(k,fg,3)}else{var hG=w.B(g.rect.W()),U=m.lo>>>16&255,I=m.lo>>8&255,l=m.lo>>0&255;hG.fill(Math.round(w.$X(U,I,l)));
w.i.b6(hG,g.rect,fg,X,g.channel,X,1)}}this.Dm(F,!0,[2,2],e,n,X,fg)}}if(r.V=="stroke"){var eE=r.a3A,g=F.$;
if(g==null){g={rect:P.rect.clone(),channel:w.B(P.rect.W())};w.Pw(P.buffer,g.channel,3)}var hW=iL.DL(eE),hh=z.Yi.po(g,Math.ceil(hW[0]),Math.ceil(hW[1])),x=w.X.Mq(eE.Clr.v),U=Math.round(x.Z),I=Math.round(x.z),l=Math.round(x.J);
this.Y0(F,P,hh,U,I,l,Math.round(255*eE.Opct.v.val/100),g6.lF(eE.Md.v.BlnM),[14,9])}if(r.V=="fillBMP"){this.pd(F,P,F.$,r.I4,r.$T,r.Py)}if(r.V=="draw"){var hI=r.zb,db=hI.rect;
this.Vw(F);var by=F.g[F.w[0]];if(r.aiE&&by&&by.Ku<=0&&F.I2.length==0){db=z.l6.Mc(hI,F);by.buffer=hI.buffer.slice(0);
by.rect=db.clone()}else{var jM=this.Jd.bmode;this.Jd.bmode="norm";this.q1(F,"draw",hI.buffer,db,db.c_(new fE(0,0,F.e,F.n)));
this.Jd.bmode=jM}this.M(F,db);F.kn=!0;this.finish(F,db,r.Py,r.aiE)}};z.a3.prototype.Y0=function(r,N,F,h,m,O,e,P,B){var s=F==null?new fE(0,0,r.e,r.n):F.rect,Y=e<<24|O<<16|m<<8|h<<0,D=w.B(s.W()*4);
w.T1(D,Y);this.pd(r,N,F,D,P,B)};z.a3.prototype.pd=function(r,N,F,h,m,O){var e=r.I2.length!=0?-1-r.I2[0]:r.w[0],P=e<0?1:N.Ku,B=e<0?r.O0[-1-e]:P<=0?null:P==1?N.$n():N.xg(r).v,s=P<=0?N.rect:B.rect,Y=F==null?new fE(0,0,r.e,r.n):F.rect,D=F==null?w.a$(r.e*r.n):F.channel,c=Y.W(),o,H=null;
if(P<=0){o=w.B(c*4);w.L3(N.buffer,N.rect,o,Y)}else{o=w.B(c);B.extend(Y);w.nZ(B.channel,B.rect,o,Y)}if(F!=null)w.UF(D,h);
if(P>0){H=w.B(c);w.oD(h,H)}if(0<=e&&F&&N.Bi(r,F)){var x=N._f.VX,Q=N._f.VX.slice(0);if(P<=0)w.ZF(h,Q);
else w.ZF(H,Q);var U=new g2([2,3],this);U.data={V:"drawtemp",a:r.w[0],P6:P,arH:x,apQ:Q};r.Zy(U);this.uq(U.data,r)}else{if(P<=0){var I;
if(N.gT(0)){I=w.B(Y.W());w.Pw(o,I,3)}w.i.vw(m,h,Y,o,Y,Y,1);if(N.gT(0))w.vr(I,o,3)}else w.i.b6(H,Y,o,Y,D,Y,1);
this.Dm(r,!0,O,e,P,Y,o)}};z.a3.prototype.Zk=function(r){if(bh.jc.indexOf(r)!=-1)return!0;return!1};z.a3.prototype.BD=function(r,N,F,h){var m=this.Jd.brush,O=h.j(bh.sV),e=O!=this._e,P=z.a3.Wr(m,h);
if(P!=null)this.WU(P);if(!h.j(bh.hg)&&h.cS()!=-1){var B=bh.rf(Math.round(this.Jd.opacity*100),h.cS())/100;
this.GU({opacity:B},N)}if(this.id==z.hw&&e&&r!=null){var s=this.Jd.qsmode;if(s==2)s=r.$==null?0:1;else s=2;
this.GU({qsmode:s},N)}this._e=O;if(e){if(r)this.Ef=r.q.O;this.LN(F,h)}};z.a3.Wr=function(r,N){var F=r.Brsh.v.Dmtr.v.val,h=r.Brsh.v.Hrdn!=null?r.Brsh.v.Hrdn.v.val:-1,m=F,O=h,e=N.j(bh.wQ);
if(N.j(bh.RZ)){if(e)h=25*Math.floor((h-1)/25);else{if(F<=10)F--;else if(F<=50)F=5*Math.floor((F-1)/5);
else if(F<=100)F=10*Math.floor((F-1)/10);else if(F<=200)F=25*Math.floor((F-1)/25);else if(F<=400)F=50*Math.floor((F-1)/50);
else F=100*Math.floor((F-1)/100)}}if(N.j(bh.kx)){if(e)h=25*Math.ceil((h+1)/25);else{if(F<10)F++;else if(F<50)F=5*Math.ceil((F+1)/5);
else if(F<100)F=10*Math.ceil((F+1)/10);else if(F<200)F=25*Math.ceil((F+1)/25);else if(F<400)F=50*Math.ceil((F+1)/50);
else F=100*Math.ceil((F+1)/100)}}F=Math.max(1,F);h=Math.max(0,Math.min(100,h));if(O==-1)h=-1;if(F!=m||h!=O){var P=JSON.parse(JSON.stringify(r));
P.Brsh.v.Dmtr.v.val=F;if(O!=-1)P.Brsh.v.Hrdn.v.val=h;return P}return null};z.a3.prototype.LN=function(r,N,F,h){if(r.nd.list.length==0)return;
var m=this.id,O;if((m==z.fS||m==z.It||m==z.D$||m==z.Kn)&&(N!=null&&N.j(bh.sV)||this.Jd.alt[0]))O="crosshair";
else{var e=this.Ef,P=this.Jd.brush;if((m==z.fS||m==z.It)&&F&&this.la&&this.la.length==this.Im.W()*4){var B=F.q.RX(h.x,h.y),s=this.x7(B),Y=this.la,D=this.Im,c=new fE(D.x+s.x,D.y+s.y,D.e,D.n),o=hy.vt(P,r.nd.lZ,e),H=o[0],x=o[1],Q=Math.ceil(x.e/e),U=new fE(Math.round(B.x-Q/2),Math.round(B.y-Q/2),Q,Q),I=w.B(U.W()*4),l,p;
w.L3(Y,c,I,U);if(e==1){l=I;p=U}else{var j=new hc(e,0,0,e,0,0),T=z.Q.iG([I,U],j,!0);p=x.clone();p.x=T.rect.x;
p.y=T.rect.y;if(p.cj(T.rect))l=T.buffer;else{l=w.B(p.W()*4);w.L3(T.buffer,T.rect,l,p)}}var V=this.Jd.opacity/255;
for(var R=0;R<l.length;R+=4)l[R+3]=V*(H[R+3]*l[R+3]);hy.a2c(new Uint32Array(l.buffer),p,4278190080,4294967295);
O={l1:l,NQ:p,xW:new gS(p.e/2,p.n/2)}}else O=hy.j5(P,r.nd.lZ,e,m==z.eF)}var E=new gf(v.E.S,!0);E.data={V:v.c.oQ,eT:O};
if(this.caller)this.caller.L(E)};z.a3.prototype.enable=function(r,N,F,h){this.bX=F;this.caller=N;this.WU(JSON.parse(JSON.stringify(this.Jd.brush)));
if(r&&r.q.O!=0)this.Ef=r.q.O;this.LN(F,h)};z.a3.prototype.Qr=function(r,N){if(N==bC.V_){this.Jd.brush=r.nd.B1;
this.LN(r)}};z.a3.prototype.qW=function(r,N,F,h,m){for(var O in r)this.Jd[O]=r[O];if(this.Jd.alt[0])this.LN(m,h,F)};
z.a3.prototype.B4=function(r){var N=r.I2.length!=0?-1-r.I2[0]:r.w[0],F=r.g[N],h=N<0?1:F.Ku,m=N<0?r.O0[-N-1]:h<=0?null:h==1?F.$n():F.xg(r).v,O=m?m.channel:F.buffer,e=(m?m.rect:F.rect).clone();
return[F,h,m,O,e]};z.a3.prototype.Vw=function(r,N){this.Rj=r.$==null?null:{rect:r.$.rect.clone(),channel:r.$.channel.slice(0)};
var F=this.B4(r),h=F[0],m=F[1],O=F[2];this.ub=F[3];this.D_=F[4];var e=new fE(0,0,r.e,r.n),P=e.fD(this.D_);
if((this.ir()&&m<=0||P.cj(this.D_))&&N!=!0)this.ub=this.ub.slice(0);else{if(O)O.extend(P);else h.extend(P)}};
z.a3.prototype.mz=function(r,N){var F=this.B4(r),h=F[1],m=F[3],O=F[4],e=[m,O],P=N!=null?N:this.Jd.sfrom;
if(h<=0&&P!=0){e[1]=new fE(0,0,r.e,r.n);e[0]=r.G9(P==1&&r.w[0]!=r.g.length-1?r.w[0]:null).slice(0)}this.Im=e[1].clone();
this.la=e[0].slice(0)};z.a3.prototype.Zq=function(r,N,F){if(r.j(bh.sV)){var h=new gf(v.E.u,!0);h.s=z.vH;
h.data={V:"pickhere",aqZ:F};N.L(h);return!0}return!1};z.a3.prototype.og=function(r,N,F,h,m,O){if(this.id!=z.hw&&!r.VT(this.caller)){this.Ti=null;
return}if(this.id!=z.hw&&this.Ti)return;this.Vw(r);var e=new fE(0,0,r.e,r.n),P=null;if(O!=null){var B=r.I2.length!=0?-1-r.I2[0]:r.w[0],s=r.g[B],Y=B<0?r.O0[-B-1]:s.Ku<=0?null:s.Ku==1?s.$n():s.xg(r).v;
P=w.B(e.W()*4);if(Y)z.a3.Wy(this.ub,this.D_,Y.color,P,e);else w.L3(this.ub,this.D_,P,e)}var D=this.Jd;
if(this.Ti&&this.id==z.hw&&D.qsmode!=0&&r.$!=null){}else{var c=N.Fp,o=N.lo;if(this.qb=="erase"){var H=c;
c=o;o=H}var x=this.id==z.hw?this.D_:e;this.Ti=new hy(D.brush,N.nd.lZ,N.nd.ki,{tM:m,ES:O,auu:D.smth*50/r.q.O,Pd:this.id==z.Kn||D.emode==1,j$:D.prsr},c,o,x,P)}if(this.id==z.hw){this.Ti.a1v(D.brush,D.qsmode==2?0:16777215)}var Q=r.q.RX(h.x,h.y);
if(F.j(bh.wQ)&&this.at){var U=this.at;this.Ti.moveTo(U.x,U.y,h.HY);this.Ti.lineTo(.001*U.x+.999*Q.x,.001*U.y+.999*Q.y,h.HY);
this.Ti.lineTo(Q.x,Q.y,h.HY)}else this.Ti.moveTo(Q.x,Q.y,h.HY);this.at=Q;this.YE=Q.clone();this.ag=new hE(Q,r.q.MJ)};
z.a3.prototype.A3=function(r,N,F){if(r&&r.q.O!=0&&r.q.O!=this.Ef){this.Ef=r.q.O;this.LN(F)}};z.a3.prototype.SZ=function(r,N,F,h){if(this.Ti==null)return;
var m=r.g[r.w[0]],O=r.q.RX(h.x,h.y),e=this.ag.pe(O,F);if(e.cj(this.at))return 1;this.Ti.lineTo(e.x,e.y,h.HY);
this.at=e;if(this.id==z.fS||this.id==z.It){var P=this.R8(),B=11;P=r.q.l9(O.x-P.x,O.y-P.y);var s=B>>>1,Y=new fE(Math.round(P.x)-s,Math.round(P.y)-s,B,B),D=w.B(Y.W()*4);
w.T1(16777215);for(var R=0;R<B;R++)D[(R*B+s)*4+3]=D[(B*s+R)*4+3]=255;r.d.Ul=[[D,Y]];r.mR=!0}};z.a3.prototype._r=function(r,N,F,h){if(F.px!=this.id)return;
if(this.id!=z.hw||r==null)return;if(r.$==null||r.w[0]!=this.aoG){this.aoG=r.w[0];this.GU({qsmode:0},N)}};
z.a3.prototype.M=function(r,N){if(r.I2.length!=0){r.mR=!0;return}var F=r.g[r.w[0]];if(N==null){N=this.Ti.Rc();
if(this.ir()&&F.Ku<=0)N=N.c_(this.D_)}var h=F.Ku;if(h==1||h==3){var m=Math.round((h==1?F.$n():F.xg(r).v).J_*2.4);
N=N.clone();N.r2(m,m)}if(N.lX())return;if(h<=0){F.M(N)}if(h==1){F.$n().ug=!0;F.dD(r,N)}if(h==3){F.M(N)}r.M(r.root.U1(N,r,r.w[0],!0))};
z.a3.prototype.wJ=function(r,N,F,h,m){if(this.Ti==null)return;this.Ti.finish();if(this.id!=z.Sk&&this.id!=z.It&&this.id!=z.hw)this.XU(r);
if(this.id==z.fS||this.id==z.It){r.d.Ul=[];r.mR=!0}if(this.id==z.hw){var O=r.$;r.$=this.Rj;var e=new gf(v.E.u,!0);
e.data={V:"setsel",Py:this.name,$:O};e.s=z.Ns;N.L(e);if(this.Jd.qsmode==0)this.GU({qsmode:1},N)}else{this.finish(r,this.Ti.Jn());
this.Ti=null;this.i$=null}this.dir=0};z.a3.prototype.GU=function(r,N){for(var F in r)this.Jd[F]=r[F];
var h=new gf(v.E.S,!0);h.data={V:v.c.$P,s:this.id,AT:r};N.L(h)};z.a3.prototype.ir=function(){var r=this.id;
return r==z.hw||r==z.T6||r==z.KG||r==z.zF||r==z.gM||r==z.y_};z.a3.prototype.finish=function(r,N,F,h,m){var O=r.I2.length!=0?-1-r.I2[0]:r.w[0],e=r.g[O],P=O<0?1:e.Ku,B=O<0?r.O0[-O-1]:P<=0?null:P==1?e.$n():e.xg(r).v,s=B?B.rect:e.rect,c;
if(this.ir()||!s.cj(this.D_)){if(B==null){if(this.ir())e.RR();else{var Y=N.fD(this.D_),D=w.B(Y.W()*4);
w.L3(e.buffer,e.rect,D,Y);e.buffer=D;e.rect=Y}}else B.RR();this.M(r,s)}if(P<=0){c=w.B(N.W()*4);w.L3(this.ub,this.D_,c,N)}else{c=w.B(N.W());
c.fill(B.color);w.nZ(this.ub,this.D_,c,N)}this.Dm(r,!1,F?F:this.name,O,P,N,c,h,m)};z.a3.prototype.Dm=function(r,N,F,h,m,O,e,P,B){var s=e;
if(m>0){s=w.B(O.W()*4);z.a3.Wy(e,O,0,s,O)}var Y=new g2(F,this);Y.data=[{a:h,P6:m,NQ:O,C2:s}];if(P)Y.data.Hq=[r.$,null];
if(B)Y.data.Hq=[this.Rj,r.$];r.Zy(Y);if(N)this.uq(Y.data,r);else if(P)r.$=null;z.Ig.SY(r,Y.data)};z.a3.prototype.UO=function(r,N){this.b2(r,N,!1)};
z.a3.prototype.uq=function(r,N){this.b2(r,N,!0)};z.a3.prototype.b2=function(r,N,F){if(r.V=="drawtemp"){var h=F?r.apQ:r.arH,m=N.g[r.a];
m._f.VX=h;m.zT(N,0,0,N.$);m.M();N.kn=!0}else{z.Ig.Lc(N,r);if(r.Hq){N.$=r.Hq[F?1:0];N._a=!0}}N.M()};z.a3.prototype.XU=function(r){this.q1(r,this.qb,this.Ti.XW(),this.Ti.Tm(),this.Ti.Rc());
this.M(r)};z.a3.prototype.q1=function(r,N,F,h,m){var O=this.Jd,e=r.g[r.w[0]],P=r.I2.length!=0?r.O0[r.I2[0]]:e.Ku<=0?null:e.Ku==1?e.$n():e.xg(r).v,B=w.B(m.W()*4),s,Y=e.gT(0);
if(P==null){if(this.id==z.Oj&&N=="heal")w.L3(e.buffer,e.rect,B,m);else w.L3(this.ub,this.D_,B,m);if(Y){s=w.B(m.W());
w.Pw(B,s,3)}}else{z.a3.Wy(this.ub,this.D_,P.color,B,m)}if(r.$&&N!="qselect"){var D=m.c_(r.$.rect),c=w.B(D.W()*4);
if(N=="copy"){var o=w.B(D.W());w.nZ(r.$.channel,r.$.rect,o,D);w.L3(B,m,c,D);w.i.lO(F,h,c,D,o,D,0,D,1,!1)}else{w.L3(F,h,c,D);
w.Y$(r.$.channel,r.$.rect,c,D)}F=c;h=D}function H(U,jM){var hB=Math.max(jM.x,Math.min(jM.x+jM.e-1,U.x)),iu=Math.max(jM.y,Math.min(jM.y+jM.n-1,U.y));
return new gS(hB,iu)}if(N=="idraw"||N=="ierase"){if(this.i$==null)this.i$=w.B(this.D_.W());var x=this.Jd.samp,Q=this.bX.lo,U=H(this.at,m),I=x==0?U:this.YE,l=I.x,p=I.y,j=z.Zr.ZY(this.ub,this.D_,[I,new gS(l-2,p),new gS(l+2,p),new gS(l,p-2),new gS(l,p+2)]);
if(x==2)j=[[Q>>>16&255,Q>>>8&255,Q>>>0&255,255]];var T=z.Zr.ft(B,m,U,j,this.Jd.wconf),V=w.B(m.W());w.nZ(this.i$,this.D_,V,m);
w.Ed.fD(T,V,V);w.nZ(V,m,this.i$,this.D_);w.Y$(V,m,F,h);N=N.slice(1)}if(N=="erase"&&(z.Ig.zW(r)!=16777215||P))N="draw";
if(N=="draw")w.i.vw(O.bmode,F,h,B,m,m,O.opacity);else if(N=="erase"){var E=w.B(m.W()*4);w.L3(F,h,E,m);
if(P==null){var _=w.B(m.W());w.Pw(E,_,3);w.Ka(_,O.opacity);w.iL(_);w.Y$(_,m,B,m)}else{w.T1(E,0,4278190080);
w.i.vw("norm",E,m,B,m,m,O.opacity)}}else if(N=="clone"||N=="heal"){var f=this.R8(),S=this.Im.clone();
S.offset(f.x,f.y);var L=m.clone();L.r2(1,1);var y=w.B(L.W()*4),$=w.B(L.W());w.L3(F,h,y,L);w.Pw(y,$,3);
w.T1(y,0);if(P==null){w.L3(this.la,S,y,L);var Z=w.B(L.W());w.Pw(y,Z,3);w.Ir(Z,$)}else z.a3.Wy(this.la,S,P.color,y,L);
if(N=="clone"){w.vr($,y,3);w.i.vw(O.bmode,y,L,B,m,m,O.opacity)}if(N=="heal"){var i=$.slice(0);w.round(i,20);
var b=w.B(L.W()*4);if(P==null)w.L3(this.ub,this.D_,b,L);else z.a3.Wy(this.ub,this.D_,P.color,b,L);w.i.lO(y,L,b,L,i,L,0,L,1,!1);
w.wW.cc(b,i,L);w.i.lO(b,L,B,m,$,L,0,m,1,!1)}}else if(N=="dodge"||N=="burn"){var y=w.B(m.W()*4),u=1,A=0,a=0,d=0;
w.L3(F,h,y,m);var G=m.W()*4,g=z.a3.fp;if(this._e){if(N=="dodge")N="burn";else N="dodge"}var K=O.rng;
if(N=="dodge"){A=[1-u/2,1,1+u][K];a=[1,1/(1+u),1][K];d=[u/2,0,0][K]}if(N=="burn"){A=[1/(1-u/2),1,1-u/2][K];
a=[1,1+u,1][K];d=[-(u/2)/(1-u/2),0,0][K]}for(var R=0;R<G;R+=4){var n=y[R+3];B[R+0]=g(B[R+0],A,a,d,n);
B[R+1]=g(B[R+1],A,a,d,n);B[R+2]=g(B[R+2],A,a,d,n)}}else if(N=="sponge"||N=="redeye"){var y=w.B(m.W()*4),$=w.B(m.W());
w.L3(F,h,y,m);w.Pw(y,$,3);w.ZF(B,y);var t=O.smode;if(this._e)t=1-t;var X=df.T$("hue2");if(N=="sponge")dG.uP(X,0,[0,[-50,46][t],[6,5][t]]);
else dG.uP(X,1,{fo:[265,305,25,55],OE:[0,-90,-70]});var aK=gn.k6("hue2",X);gn.dR(aK,y,y,m);w.i.lO(y,m,B,m,$,m,0,m,1,!1)}else if(N=="copy")w.L3(F,h,B,m);
else if(N=="sheal"){var y=w.B(m.W()*4),$=w.B(m.W());w.L3(F,h,y,m);w.Pw(y,$,3);y.fill(0);var fg=this.la,k=this.Im;
if(P){fg=w.B(k.W()*4);z.a3.Wy(this.la,k,0,fg,k)}var hG=w._2.cc(fg,k,$,y,m);if(hG!=0)w.L3(fg,k,y,m);if(this.Jd.sfrom==0)w.L3(y,m,B,m);
else{w.L3(this.ub,this.D_,B,m);w.vr($,y,3);w.i.vw("norm",y,m,B,m,m,1)}}else if(N=="qselect"){var eE=this.D_,hW=eE.e,hh=eE.n,hI=hW*hh,db=this.Ti.XW(),j=this.ub,by=z.Yi.oX,$=by.gn;
$.fill(128);for(var R=0;R<hI;R++){var jM=db[R<<2],fP=db[(R<<2)+3];if(fP==255&&(jM==0||jM==255))$[R]=jM}$[0]=$[hW-1]=0;
$[(hh>>>1)*hW]=$[(hh>>>1)*hW+hW-1]=0;z.Qh.YB(by,!0);r.$={rect:eE,channel:by.$.slice(0)};r._a=!0}if(P==null){if(Y)w.vr(s,B,3);
w.L3(B,m,e.buffer,e.rect)}else z.a3.Hj(B,m,P)};z.a3.R8=function(){return null};z.a3.fp=function(r,N,F,h,m){var O=r*(1/255),e=h+N*Math.pow(O,F),P=Math.round(e*m+O*(255-m));
return Math.max(0,Math.min(255,P))};z.a3.Wy=function(r,N,F,h,m){var O=w.B(m.W());O.fill(F);w.nZ(r,N,O,m);
h.fill(255);w.zG(O,h)};z.a3.Hj=function(r,N,F){var h=w.B(N.W());w.oD(r,h);w.nZ(h,N,F.channel,F.rect)};
z.Yi=function(r,N,F){z.bE.call(this,r,N,F);this.Jd={binop:0,feat:0,cstr:{xa:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Al=new gS(-1,-1);this.nO=new gS(-1,-1);this.tz="default";this.dI=null;this.a6u=!0;this.d$=!1;this.qy=new iQ;
this.Cv=!1;this.Ym=null;this.Eg=null;this.rH=!1;this.bv=!1};z.Yi.prototype=new z.bE;z.Yi.prototype.asi=function(){var r=this.Jd,N=[r.binop,r.feat];
if(this.id==z.kY)N.push(r.wconf);return N};z.Yi.prototype.aux=function(r,N,F){var h=this.Jd;h.binop=r[0];
h.feat=r[1];h.wconf=r[2];var m=new gf(v.E.S,!0);m.data={V:v.c.$P,s:this.id,Jd:h};F.L(m)};z.Yi.oX={key:""};
z.Yi.mV=function(r,N,F){var h={Ja:r,Tf:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(N)h.Tf.T=N;if(F!=null)h.Tf.AntA={t:"bool",v:F};return h};z.Yi.rr=function(r,N,F){return z.Yi.mV("set",{t:"Objc",v:{classID:r,Top:{t:"UntF",v:{type:"#Pxl",val:N.y}},Left:{t:"UntF",v:{type:"#Pxl",val:N.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:N.y+N.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:N.x+N.e}}}},F)};
z.Yi.Se=function(r,N,F){var h=[],m=[],e="set";for(var R=0;R<r.length;R+=2){h.push(r[R]);m.push(r[R+1])}var O={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:h},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:m}]}}}};
if(N)e=["set","addTo","subtractFrom","interfaceWhite"][N];return z.Yi.mV(e,O,F)};z.Yi.agv=function(r,N,F){var h={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:r.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:r.y}}}},m=z.Yi.mV("set",h);
m.Tf.Tlrn={t:"long",v:N[0]};m.Tf.AntA={t:"bool",v:N[1]};m.Tf.Cntg={t:"bool",v:N[2]};if(F==!0)m.Tf.Mrgd={t:"bool",v:F};
return m};z.Yi.JK=function(r){return z.Yi.mV("set",{t:"enum",v:{Ordn:r?"Al":"None"}})};z.Yi.ajF=function(r,N,F){var h={classID:"null"};
if(r!="border")h.selectionModifyEffectAtCanvasBounds={t:"bool",v:F};var m={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[r[0]];
h[m]={t:"UntF",v:{type:"#Pxl",val:N}};return{Ja:r,Tf:h}};z.Yi.bJ=function(r,N,F){var h={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},m={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:N}}]};
if(F)m.v.push({t:"name",v:{classID:"Lyr",val:F}});var O=[{classID:"null",null:h,T:m},{classID:"null",null:m,T:h},{classID:"null",null:m,From:h},{classID:"null",null:m,With:h}],e=["set","add","subtract","interfaceIconFrameDimmed"];
return{Ja:e[r],Tf:O[r]}};z.Yi.zR=function(r,N){var F=new gf(v.E.S,!0);F.data={V:v.c.nM,Xa:bC.PT};if(!N.Xw)r.L(F);
F.data={V:v.c.nM,Xa:bC.Oe};if(!N.ec.ao)r.L(F)};z.Yi.prototype.z1=function(r,N,F,h,m){z.Yi.zR(N,m);this.dI=N;
var O=r.V,e,P,B=new fE(0,0,F.e,F.n),dE=!1,gD,c2,bQ,f9;if(O=="fromAction"){var s=r.T5,Y=s.Ja,D=s.Tf,c=D?D.selectionModifyEffectAtCanvasBounds:null,o=c&&c.v;
if(Y=="colorRange"){if(D.Clrs){var H=D.Clrs.v.Clrs,x=0,Q=255,U=["Shdw","Mdtn","Hghl"].indexOf(H),j=.4;
if(U==0)Q=60;else if(U==1){x=100;Q=150}else x=190;var I=["shadows","midtones","highlights"][U],l=D[I+"LowerLimit"],p=D[I+"UpperLimit"];
if(l)x=l.v;if(p)Q=p.v;var T=D[I+"Fuzziness"];if(T)j=T.v/100;e=z.Yi.rW(F,x,Q,j,!0)}else{var x=D.Mnm.v,Q=D.Mxm.v,j;
x={qN:x.Lmnc.v,O$:x.A.v,J:x.B.v};Q={qN:Q.Lmnc.v,O$:Q.A.v,J:Q.B.v};j=D.Fzns.v/200;e=z.Yi.rW(F,x,Q,j)}P=[7,8]}else if(Y=="inverse"){if(F.$==null){alert("No selection!");
return}e={channel:w.B(B.W()),rect:B};w.nZ(F.$.channel,F.$.rect,e.channel,e.rect);w.iL(e.channel);P=[7,2]}else if(Y=="expand"){var V=D.By.v.val,E=F.$.rect.clone();
E.r2(V,V);var _=w.B(E.W()),f=w.B(E.W());w.nZ(F.$.channel,F.$.rect,f,E);w.style.stroke(f,_,E,V);e={channel:_,rect:E};
P=[7,4]}else if(Y=="contract"){var V=D.By.v.val,S=F.$.rect.clone();S.r2(1,1);if(!o)S=S.c_(B);var f=w.B(S.W()),L=w.B(f.length);
w.nZ(F.$.channel,F.$.rect,f,S);w.iL(f);w.style.stroke(f,L,S,V);w.iL(L);e={channel:L,rect:S};w.RR(e);
P=[7,5]}else if(Y=="border"){var V=D.Wdth.v.val;e=z.Yi.po(F.$,V/2,V/2);P=[7,9]}else if(Y=="feather"||Y=="smoothness"){var V=D.Rds.v.val;
e=z.Yi.nr(F.$,V,Y=="smoothness",B,o);P=Y=="feather"?[7,6]:[19,3,0]}else if(Y=="move"){var y=D.T.v,E=F.$.rect.clone();
E.x+=y.Hrzn.v.val;E.y+=y.Vrtc.v.val;e={channel:F.$.channel,rect:E};P=[7,7]}else{var $=D.null.v,Z=D.AntA!=null&&D.AntA.v;
function i(hV){var ds=hV.Top.v.val,k6=hV.Left.v.val;return new fE(k6,ds,hV.Rght.v.val-k6,hV.Btom.v.val-ds)}function b(hV){var ds=hV[0].arr,jA=hV[1].arr,eI={t:[],C:[]};
for(var R=0;R<ds.length;R++){eI.C.push(R==0?"M":"L");eI.t.push(ds[R],jA[R])}eI.C.push("Z");return eI}var G=["set","addTo","subtractFrom","interfaceWhite"].indexOf(Y),g=D.T?D.T.v:null;
if(g&&g.classID=="Elps"){e=this.VW(z.pt.rF(i(g)));P=[10,4]}else if(g&&g.classID=="Rctn"){var u=i(g);
e={channel:w.B(u.W()),rect:u.clone()};e.channel.fill(255);P=[10,15]}else if(g&&g.classID=="ObSl"){var u=i(g),A=z.Yi.oX,a=A.rect,d=A.gn,K=a.e,n=a.n,t=u.x-a.x,X=t+u.e-1,aK=Math.max(t,Math.min(X,t+X>>>1)),fg=u.y-a.y,k=fg+u.n-1,hG=Math.max(fg,Math.min(k,fg+k>>>1)),eE=Math.max(t,0),hW=Math.min(X,K),hh=Math.max(fg,0),hI=Math.min(k,n);
d.fill(128);if(0<=fg)for(var db=eE;db<hW;db++)d[fg*K+db]=0;if(k<n)for(var db=eE;db<hW;db++)d[k*K+db]=0;
if(0<=t)for(var by=hh;by<hI;by++)d[by*K+t]=0;if(X<K)for(var by=hh;by<hI;by++)d[by*K+X]=0;var jM=z.kC.w2,fP=Math.round(u.e*jM),hB=Math.round(u.n*jM);
for(var db=Math.max(0,aK-fP);db<Math.min(K,aK+fP);db++)d[hG*K+db]=255;for(var by=Math.max(0,hG-hB);by<Math.min(n,hG+hB);
by++)d[by*K+aK]=255;z.Qh.YB(A,!0);e={channel:A.$.slice(0),rect:a.clone()};P=[10,44]}else if(g&&g.classID=="Plgn"){e=this.VW(b(g.Pts.v.arr));
P=[10,9]}else if(g&&g.classID=="Pnt"){e=z.Zr.iP(F,new gS(g.Hrzn.v.val,g.Vrtc.v.val),[D.Tlrn.v,Z,D.Cntg==null||D.Cntg.v],D.Mrgd?D.Mrgd.v:!1);
P=[10,12]}else if(g&&g.Ordn=="None"){e=null;P=[7,1]}else if(g&&g.Ordn=="Al"){var iu=B;if(F.w.length!=0){var be=F.root.Jr(F.w[0]);
while(be.parent&&be.parent.parent)be=be.parent;if(be.a.add.artb)iu=be.a.CN()}e={channel:w.B(iu.W()),rect:iu};
e.channel.fill(255);P=[7,0]}else if(g&&g[0]&&g[0].v.keyID=="WrPt"){var bp={V:"frompath",Fs:[-1,0,0]};
this.z1(bp,N,F,h,m);return}else{var ij=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(Y),fT=Y=="set"?g:$,ei=fT[0].v.enum,bp;
if(ei=="Trsp"||ei=="Msk"||ei=="vectorMask"||ei=="Trgt"){var bz=F.w[0];if(fT.length==2)bz=fq.YP(F,fT[1]);
var aM=["Trsp","Msk","vectorMask"].indexOf(ei);if(ei=="Trgt"&&F.g[bz].Ku==1)aM=1;bp={V:"fromlayer",Fs:[bz,aM,ij]}}else{if(fT[0].t=="name"){var bz=0;
for(var R=0;R<F.O0.length;R++)if(F.O0[R].name==fT[0].v.val)bz=R;bp={V:"fromchannel",Fs:[-5-bz,0,ij]}}else{var hw=["RGB","Rd","Grn","Bl"].indexOf(ei);
bp={V:"fromchannel",Fs:[-1-hw,0,ij]}}}this.z1(bp,N,F,h,m);return}if(!Z&&e)w.round(e.channel);if(D.Fthr)e=z.Yi.nr(e,D.Fthr.v.val,!1);
if(Y!="set"&&F.$!=null)e=w.Ed.d_(e,F.$,G)}if(Y=="expand"||Y=="contract")if(!o&&!B.contains(e.rect)){var hx=e.rect.c_(B),fm=w.B(hx.W());
w.nZ(e.channel,e.rect,fm,hx);e.channel=fm;e.rect=hx}}if(O=="qmask"){dE=!0;var jR=F.R2(),gP=new fE(0,0,F.e,F.n);
if(jR){e=jR.rect.cj(gP)&&w.Rq(jR.channel,255)?null:{rect:jR.rect.clone(),channel:jR.channel.slice(0)};
gD=jR}else{e=null;c2=new C.Z8;c2.color=0;c2.name="Quick Mask";c2.BJ=!0;if(F.$){c2.rect=F.$.rect.clone();
c2.channel=F.$.channel.slice(0)}else{c2.rect=gP;c2.channel=w.B(c2.rect.W());c2.channel.fill(255)}}P=[6,6,1];
F.kn=!0}if(O=="setsel"){e=r.$;P=r.Py}if(O=="crange"){var x=r._v,Q=r.fG;e=z.Yi.rW(F,x,Q,r.Cr);P=[7,8]}if(O=="fromlayer"||O=="fromchannel"||O=="frompath"){var jh=r.Fs[0],aM=r.Fs[1],G=r.Fs[2];
if(O=="fromlayer"){if(jh==null)jh=F.w[0];var k6=F.g[jh];if(aM==0){var eZ=k6.rect,b5=k6.buffer;if(eZ.lX())return;
var fG=w.B(b5.length>>>2);w.Pw(b5,fG,3);e={channel:fG,rect:eZ.clone()}}else{if(k6.v==null)k6.dD(F);var jG=aM==1?k6.$n():k6.v;
e=z.Yi.MZ(jG,B)}this.track(z.Yi.bJ(G,["Trsp","Msk"][aM],k6.getName()))}else if(O=="frompath"){var i_=F.bN(),aY=i_[1],i_=i_[0];
if(jh==null)if(i_.length==0||aY.length==0)return;var jk=i_[aY[0]];if(jh!=null)for(var R=0;R<i_.length;
R++)if(i_[R].Jz==jh)jk=i_[R];var jG=jk.add.vmsk.$n(),ih=jG.Tm();if(ih.W()==0)return;var fG=jG.Jg();if(r.Fs[3]!=null)this.a6u=r.Fs[3];
if(this.a6u){fG=fG.slice(0);w.round(fG)}bQ=[JSON.stringify(F.ih),JSON.stringify(F.OW)];f9=["[]","[]"];
F.ih=[];F.OW=[];e={channel:fG,rect:ih}}else{if(jh==null)jh=z.Yi.sm(F);e=z.Yi.PW(F,jh)}if(G!=0&&F.$)e=w.Ed.d_(e,F.$,G);
P=[14,11]}if(e!=null&&w.Rq(e.channel,0)){e=null;P=[7,1]}if(e)w.RR(e);var jr=new g2(P,this);jr.data={V:"changesel",Rj:F.$,xF:e,R2:dE,a4U:gD,ar8:c2,KW:bQ,alk:f9};
F.Zy(jr);this.uq(jr.data,F)};z.Yi.sm=function(r){var N=0;if(r.I2.length!=0)N=-5-r.I2[0];else if(JSON.stringify(r.q.Hr)=="[1,1,1]")N=-1;
else N=-2-r.q.Hr.indexOf(1);return N};z.Yi.PW=function(r,N){var F,h=new fE(0,0,r.e,r.n);if(-5<N&N<0){var m=-N-1,O=r.G9(),e=w.B(h.W());
if(m==0)w.oD(O,e);else w.Pw(O,e,m-1);F={channel:e,rect:h.clone()}}if(N<-4){F=z.Yi.MZ(r.O0[-N-5],h)}return F};
z.Yi.MZ=function(r,N){var F,h;if(r.Mq()==0){h=r.Tm().clone();if(h.W()==0)return;F=r.Jg()}else{h=N;F=w.B(h.W());
r.L7(h,F)}return{channel:F,rect:h}};z.Yi.prototype.rm=function(r){return this.Cv||r.Tb&&this.id!=z.$k};
z.Yi.prototype.ET=function(r,N,F){var h=new gf(N,!0);h.data=F;r.L(h)};z.Yi.prototype.VR=function(r,N){var F=new gf(v.E.S,!0);
F.data={V:v.c.oQ,eT:N};r.L(F)};z.Yi.prototype.Tm=function(r,N,F){N=r.$==null||this.qy.qw(1)||this.qy.Gd(1)?N:null;
var h=this.Al,m=this.nO;if(F){h.x=Math.max(0,Math.min(r.e,h.x));h.y=Math.max(0,Math.min(r.n,h.y));m.x=Math.max(0,Math.min(r.e,m.x));
m.y=Math.max(0,Math.min(r.n,m.y))}var O=z.XE.wo(h,m,N,!0,this.Jd.cstr),e=O[0].x,P=O[0].y;return new fE(e,P,O[1].x-e,O[1].y-P)};
z.Yi.prototype.vV=function(r,N,F,h,m){this.bv=!0;if(this.Yj())return;this.dI=N;this.d$=!1;this.qy.vV(h);
this.Al=r.q.RX(m.x,m.y);this.Al=z.FZ.fx(r,this.Al,F);if(this.yT(r,this.Al,h)){this.Cv=!0;this.Ym=r.$.rect.clone();
return}this.DY(r,F,h,m);r.q.g1=new fE};z.Yi.prototype.yT=function(r,N,F){var h=F.j(bh.wQ),m=F.j(bh.sV);
if(r.$&&!h&&!m&&this.Jd.binop==0)return w.Bp(N,r.$.channel,r.$.rect);return!1};z.Yi.prototype.Ui=function(r,N,F,h,m){this.dI=N;
if(this.rH)return;var O=r.q.RX(m.x,m.y);if(gS.Mz(this.Al,O)*r.q.O>5){this.d$=!0;this.qy.Ui()}if(h.j(bh.mk)){if(this.Eg==null)this.Eg=new gS(O.x-this.Al.x,O.y-this.Al.y);
this.Al.x=O.x-this.Eg.x;this.Al.y=O.y-this.Eg.y}else this.Eg=null;this.nO=O;if(!this.Cv)this.nO=z.FZ.fx(r,this.nO,F);
if(this.yT(r,this.nO,h))this.VR(N,"move");else this.VR(N,this.tz);if(this.Cv){var e=this.Ym.clone();
e.x+=this.nO.x-this.Al.x;e.y+=this.nO.y-this.Al.y;var P=z.FZ.$c(r,e,F);r.$.rect.x=Math.round(this.nO.x-this.Al.x+this.Ym.x+P[0]);
r.$.rect.y=Math.round(this.nO.y-this.Al.y+this.Ym.y+P[1]);r._a=!0;z.FZ.ri(r,e,P);return}this.VQ(r,F,h,m);
if(r.q.g1)r.q.g1=this.Tm(r,h)};z.Yi.prototype.Yj=function(){return!1};z.Yi.prototype.wJ=function(r,N,F,h,m,O){var e=this.bv;
this.bv=!1;if(O||!e)return;r.q.g1=null;this.nO=r.q.RX(m.x,m.y);this.nO=z.FZ.fx(r,this.nO,F);if(this.Cv){this.Cv=!1;
if(r!=null&&r.d.Dk){r.d.Dk=null;r.mR=!0}if(this.nO.cj(this.Al)&&this.aR()==0){this.ET(N,v.E.nE,z.Yi.JK());
return}this.hq(r,this.Ym,r.$.rect.clone());return}this.gm(r,F,h,m);z.Yi.zR(N,F);this.qy.wJ();this.XC(N)};
z.Yi.prototype.hq=function(r,N,F){var h=r.xp();if(h!=null&&h.s==this&&h.data.V=="movesel"){}else{h=new g2([7,7],this);
h.data={V:"movesel",bL:N};r.Zy(h)}h.data.ae=F;this.uq(h.data,r)};z.Yi.prototype.SM=function(r,N,F,h,m){this.rH=!0};
z.Yi.prototype.TK=function(r,N,F,h,m){var O=new gf(v.E.S,!0);O.data={V:v.c.$P,s:this.id,gf:m,UB:r,if:F};
N.L(O);this.rH=!1};z.Yi.prototype.BD=function(r,N,F,h){this.qy.BD(h);if(r!=null&&r.$!=null){var m=h.S5();
if(m.x!=0||m.y!=0){var O=r.$.rect.clone();O.x+=m.x;O.y+=m.y;this.hq(r,r.$.rect.clone(),O)}}this.XC(N)};
z.Yi.prototype.XC=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.$P,s:this.id,Ro:this.aR()};r.L(N)};
z.Yi.prototype.aR=function(){var r=this.qy.qw(0),N=this.qy.Gd(0);return z.Yi.R4(this.Jd.binop,r,N)};
z.Yi.R4=function(r,N,F){if(N)r=1;if(F)r=2;if(N&&F)r=3;return r};z.Yi.prototype.finish=function(r,N,F,h){var m=r.$,O=this.getSelection(r,N,F,h);
if(O==null)O=z.Yi.JK();else{var e=this.Jd.feat,P=this.aR();if(e!=0)O.Tf.Fthr={t:"UntF",v:{type:"#Pxl",val:e}};
if(P!=0&&P!=4)O.Ja=["","addTo","subtractFrom","interfaceWhite",""][P]}this.ET(this.dI,v.E.nE,O);this.Al.YR(-1,-1);
this.nO.YR(-1,-1)};z.Yi.prototype.getSelection=function(r,N,F,h){return null};z.Yi.prototype.DY=function(r,N,F,h){};
z.Yi.prototype.VQ=function(r,N,F,h){};z.Yi.prototype.gm=function(r,N,F,h){};z.Yi.prototype.UO=function(r,N){var F=r.V;
if(F=="changesel")N.$=r.Rj;if(F=="movesel")N.$.rect=r.bL;if(r.R2){if(r.a4U){N.I2=[N.O0.length];N.O0.push(r.a4U)}else{N.O0.pop();
N.I2=[]}}if(r.KW){N.ih=JSON.parse(r.KW[0]);N.OW=JSON.parse(r.KW[1])}N._a=!0};z.Yi.prototype.uq=function(r,N){var F=r.V;
if(F=="changesel")N.$=r.xF;if(F=="movesel")N.$.rect=r.ae;if(r.R2){if(r.ar8){N.I2=[N.O0.length];N.O0.push(r.ar8)}else{N.O0.pop();
N.I2=[]}}if(r.KW){N.ih=JSON.parse(r.alk[0]);N.OW=JSON.parse(r.alk[1])}N._a=!0};z.Yi.prototype.qW=function(r){this.Jd=r.Jd};
z.Yi.prototype.VW=function(r){var N=w.p.e0(r.t);if(N.lX())return null;var F=w.Cl(N.e,N.n);F.save();F.beginPath();
F.translate(-N.x,-N.y);Typr.U.pathToContext({cmds:r.C,crds:r.t},F);F.closePath();F.fill();F.restore();
var h=w.B(N.W()),m=F.getImageData(0,0,N.e,N.n);w.Pw(m.data,h,3);return{rect:N,channel:h}};z.Yi.nr=function(r,N,F,h,m){if(F)N=Math.round(N*.7);
var O=Math.ceil(2.6*N),e=r.rect.clone();e.r2(O,O);if(h&&!m)e=e.c_(h);var P=w.B(e.W()),B=w.B(P.length);
w.nZ(r.channel,r.rect,B,e);w.Hu.UW(B,P,e,N);if(F){var s=P.length;for(var R=0;R<s;R++){var Y=(P[R]-128)*N*2.5;
P[R]=Math.max(0,Math.min(255,Math.round(128+Y)))}}return{channel:P,rect:e}};z.Yi.po=function(r,N,F){var h=Math.max(1,Math.ceil(F)),m=r.rect.clone();
m.r2(h,h);var O=m.W(),e={channel:w.B(O),rect:m},P=w.B(O);w.nZ(r.channel,r.rect,P,e.rect);if(F!=0)w.style.stroke(P,e.channel,e.rect,F);
else w.ZF(P,e.channel);var B=w.B(O);w.iL(P);if(N!=0)w.style.stroke(P,B,e.rect,N);else w.ZF(P,B);w.Ed.c_(e.channel,B,e.channel);
return e};z.Yi.rW=function(r,N,F,h,m){var O=new fE(0,0,r.e,r.n),e=r.G9();if(r.$){var P=r.$.rect.c_(O),B=w.B(P.W()*4);
w.L3(e,O,B,P);O=P;e=B}var s=O.W(),Y=w.B(s),D=1/h;if(m){if(N>=F)N=F-1;var c=N*(1-h),o=N,H=F,x=F+(255-F)*h,Q=c==o?0:1/(o-c),U=H==x?0:1/(x-H);
for(var R=0;R<s;R++){var I=R<<2,l=w.$X(e[I],e[I+1],e[I+2]),p=0;if(l<c)p=0;else if(l<o)p=(l-c)*Q;else if(l<=H)p=1;
else if(l<=x)p=1-(l-H)*U;else p=0;Y[R]=e[I+3]*p*p}}else for(var R=0;R<s;R++){var I=R<<2,j=w.b7(e[I],e[I+1],e[I+2]),p=w.IO(j,N,F,h,D);
Y[R]=e[I+3]*p}return{rect:O,channel:Y}};z.x$=function(){z.a3.call(this,[10,18],z.za,"tools/blur");this.qb="copy"};
z.x$.prototype=new z.a3;z.x$.prototype.vV=function(r,N,F,h,m){var O=h.j(bh.sV)?hy.wp:hy.za;this.og(r,F,h,m,this.Jd.strn,O);
if(this.Ti==null)return;this.XU(r)};z.x$.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.Wm=function(){z.a3.call(this,[10,0],z.D$,"tools/brush");
this.qb="draw"};z.Wm.prototype=new z.a3;z.Wm.prototype.vV=function(r,N,F,h,m){if(this.Zq(h,N,m))return;
this.og(r,F,h,m,this.Jd.flow);if(this.Ti==null)return;this.XU(r)};z.Wm.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);
if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.MY=function(){z.a3.call(this,[10,42],z.eF,"tools/crepl");
this.qb="idraw";this.Jd.bmode="hue "};z.MY.prototype=new z.a3;z.MY.prototype.vV=function(r,N,F,h,m){if(this.Zq(h,N,m))return;
this.og(r,F,h,m,this.Jd.flow);if(this.Ti==null)return;this.XU(r)};z.MY.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);
if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.Sh=function(){z.a3.call(this,[10,43],z.y_,"tools/redeye");
this.Jd.smode=0;this.qb="redeye"};z.Sh.prototype=new z.a3;z.Sh.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,this.Jd.flow);
if(this.Ti==null)return;this.XU(r)};z.Sh.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.ll=function(){z.a3.call(this,[10,38],z.Kn,"tools/pencil");
this.qb="draw"};z.ll.prototype=new z.a3;z.ll.prototype.vV=function(r,N,F,h,m){if(this.Zq(h,N,m))return;
this.og(r,F,h,m,this.Jd.flow);if(this.Ti==null)return;this.XU(r)};z.ll.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);
if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.gk=function(){z.a3.call(this,[10,22],z.zF,"tools/burn");
this.qb="burn"};z.gk.prototype=new z.a3;z.gk.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,this.Jd.expo/Math.E);
if(this.Ti==null)return;this.XU(r)};z.gk.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.Ye=function(r,N,F){z.a3.call(this,r==""?null:r?r:[10,1],N?N:z.fS,F?F:"tools/clone");
this.qb="clone";this.NI=null;this.r=null};z.Ye.prototype=new z.a3;z.Ye.prototype.vV=function(r,N,F,h,m){var O=this.Jd,e=O.alt[0];
if(h.j(bh.sV)||h.j(bh.Ly)||e){this.NI=r.q.RX(m.x,m.y);this.r=null;if(e)this.GU({alt:[!1]},N);this.mz(r);
this.LN(F,h,r,m);return}if(this.NI==null){alert(ab.get([15,7,0]));return}this.LN(F,h);this.og(r,F,h,m,this.Jd.flow);
if(this.Ti==null)return;this.r=this.x7(r.q.RX(m.x,m.y));this.XU(r)};z.Ye.prototype.x7=function(r){var N=this.r;
if(N==null||!this.Jd.algnd)N=new gS(Math.round(r.x-this.NI.x),Math.round(r.y-this.NI.y));return N};z.Ye.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);
if(this.xM)this.Re(r,F,m);if(this.Ti==null){if(this.NI!=null)this.LN(F,h,r,m);return}if(!m.Tb||this.NI==null)return;
this.SZ(r,F,h,m);this.XU(r)};z.Ye.prototype.R8=function(){return this.r};z.Q6=function(r,N,F){z.bE.call(this,r,N,F);
this.s8={Q1:{xa:0,x:0,y:0},Wb:!1};this.Zh=!1;this.DS=null;this.cursor=null;this.apD=0;this.Fn=null;this.Al=null;
this.uo=null;this.w_=!1};z.Q6.prototype=new z.bE;z.Q6.prototype.N7=function(){return this.DS!=null};
z.Q6.prototype.rm=function(r){return this.Al!=null||this.DS&&this.DS.zr()};z.Q6.prototype.vV=function(r,N,F,h,m){this.Fn=m;
var O=r.q.RX(m.x,m.y);O.x=Math.round(O.x);O.y=Math.round(O.y);var e=this.s8.Q1,P=e.xa!=0?e.x/e.y:null,B=this.w_;
this.w_=!1;if(this.DS){var s=this.DS.d3(O,r.q.O);if(B&&s==null){this.DS.clear(r);this.DS=null}else{this.DS.vV(r,F,h,O,P,!1,m);
return}}this.Al=z.FZ.fx(r,O,F)};z.Q6.prototype.Kg=function(r,N,F){if(F==null)F=[r.x,r.y,r.x+r.e,r.y,r.x+r.e,r.y+r.n,r.x,r.y+r.n];
return new az(F,!0,!1,this.id==z.AE,!0,N,this.id==z.AE?2:0,this.id==z.AE?4:3)};z.Q6.prototype.LN=function(r){var N=new gf(v.E.S,!0);
N.data={V:v.c.oQ,eT:this.cursor};r.L(N)};z.Q6.prototype.enable=function(r,N,F,h){this.dI=N;this.cursor="crosshair";
this.LN(N);if(r!=null&&this.DS==null){var m=r.$?{i_:"cropby",aov:3}:{i_:"config",s8:this.s8,amZ:!0};
this.qW(m,N,r,h,F);if(r.$==null&&this.s8.Q1.xa==0)this.w_=!0}};z.Q6.prototype.Ui=function(r,N,F,h,m){this.Fn=m;
var O=r.q.RX(m.x,m.y);if(!m.Tb){var e="crosshair";if(this.DS){var P=this.DS.d3(O,r.q.O,null,m);if(P)e=P;
else e="default"}if(e!=this.cursor){this.cursor=e;this.LN(N)}}if(this.DS)this.DS.Ui(r,F,h,O);else if(this.Al){if(this.Zh){r.d.W$={C:["M","L"],t:[this.Al.x,this.Al.y,O.x,O.y]}}else{var B=z.XE.wo(this.Al,z.FZ.fx(r,O,F),h,!0,this.s8.Q1),s=B[0].x,Y=B[0].y,D=this.uo=new fE(s,Y,B[1].x-s,B[1].y-Y);
r.d.W$=w.p.fc(D);z.bE.Ln(m,D,r,F)}r.mR=!0}};z.Q6.afZ=function(r,N,F){var h,m,P,B;if(N<=F){h=N;m=F}else{h=F;
m=N}var O=r-Math.floor((r+Math.PI)/(2*Math.PI))*2*Math.PI;O=Math.abs(O);if(O>Math.PI/2)O=Math.PI-O;var e=h/(m*Math.sin(O)+h*Math.cos(O));
if(N<=F){P=h*e;B=m*e}else{P=m*e;B=h*e}return{YW:P,Nf:B}};z.Q6.prototype.wJ=function(r,N,F,h,m){this.Fn=m;
var O=r.q.RX(m.x,m.y);if(this.DS==null){var e=this.uo;if(this.Al&&(e||this.Zh)){if(this.Zh){var P=this.Al,B=O;
if(P.x>B.x){var s=P;P=B;B=s}var P=Math.atan2(-(B.y-P.y),B.x-P.x),Y=z.Q6.afZ(P,r.e,r.n),D=[0,0,Y.YW,0,Y.YW,Y.Nf,0,Y.Nf],c=new hc;
c.translate(-Y.YW/2,-Y.Nf/2);c.rotate(P);c.translate(r.e/2,r.n/2);w.p.A(D,c,D);this.DS=this.Kg(e,!1,D);
r.d.W$=null;this.Zh=!1}else{var o=this.s8.Q1;this.DS=this.Kg(e,o.xa!=0)}this.DS.TL(r,F);this.uo=null;
this.ET(N,v.E.S,{V:v.c.$P,s:this.id,Km:!0});this.Al=null;r.d.Ul=[];r.mR=!0}return}this.DS.wJ(r,F,h,O);
this.ET(N,v.E.S,{V:v.c.$P,s:this.id,Km:!0});var D=this.DS.zI();if(Math.abs(D[0]-D[4])<2&&Math.abs(D[1]-D[5])<2){this.disable(r,N,null,h);
return}if(Date.now()-this.apD<200&&this.DS.hB(O)){this.XR(r,F);this.disable(r,N,F,h);return}this.apD=Date.now()};
z.Q6.prototype.BD=function(r,N,F,h){var m=this.DS;if(m==null||this.Fn&&this.Fn.Tb)return;if(h.j(bh.Ve)){this.XR(r,F);
this.disable(r,N,F,h)}else if(h.j(bh.R_)){this.disable(r,N,F,h)}else m.BD(r,F,h)};z.Q6.Y7=function(r,N,F){var h={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:r[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:r[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:r[1]+r[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:r[0]+r[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:N!=null?N:0}},Dlt:{t:"bool",v:F!=null?F:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{Ja:"crop",Tf:h}};z.Q6.lu=function(r,N){if(N==null)N=[!0,!0,!0,!0];var F={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][r]}}},h=["Top","Left","Btom","Rght"];
for(var R=0;R<4;R++)F[h[R]]={t:"bool",v:N[R]};return{Ja:"trim",Tf:F}};z.Q6.NK=function(r,N,F,h){var m={classID:"null"};
if(h!=null){m.Wdth={t:"UntF",v:{type:"#Pxl",val:r}};m.Hght={t:"UntF",v:{type:"#Pxl",val:N}};m.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][h]}}}if(F!=null)m.Rslt={t:"UntF",v:{type:"#Rsl",val:F}};
return{Ja:"imageSize",Tf:m}};z.Q6.w1=function(r,N,F){if(F==null)F=4;var h=Math.floor(F/3),m=F%3;return{Ja:"canvasSize",Tf:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:r}},Hght:{t:"UntF",v:{type:"#Pxl",val:N}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][m]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][h]}}}}};
z.Q6.prototype.z1=function(r,N,F,h,m){var O=new fE(0,0,F.e,F.n),e=[11,3],P=F.EP,B=F.e/2,s=F.n/2,Y=1,n,t;
if(r.V=="fromAction"){var D=r.T5,c=D.Ja,o=D.Tf,H=F.e/F.n,x=o.Wdth?o.Wdth.v.val:-1,Q=o.Hght?o.Hght.v.val:-1,P=o.Rslt?o.Rslt.v.val:null,U=o.Wdth?o.Wdth.v.type:o.Hght?o.Hght.v.type:-1,I=1,l;
if(U=="#Prc"){if(x!=-1)x=Math.round(F.e*x/100);if(Q!=-1)Q=Math.round(F.n*Q/100)}if(c=="imageSize"){if(o.Intr){if(o.Intr.v.Intp=="Nrst")I=0;
if(o.Intr.v.Intp=="bicubicSharper")I=2;if(x==-1&&Q==-1){var p=P/F.EP;x=Math.round(F.e*p);Q=Math.round(F.n*p)}if(o.CnsP&&o.CnsP.v){if(x==-1)x=Math.round(Q*H);
if(Q==-1)Q=Math.round(x/H)}}else{if(U=="#Prc")P=Math.round(F.EP*(F.e/x));else if(U==-1)P=Math.round(P);
else throw"e";x=F.e;Q=F.n}l={V:"imgsize",m8:x,rv:Q,AM:P,Ha:I}}else if(c=="canvasSize"){if(x==-1)x=F.e;
if(Q==-1)Q=F.n;if(o.Rltv&&o.Rltv.v==!0){if(o.Wdth)x+=F.e;if(o.Hght)Q+=F.n}var j=o.Vrtc?o.Vrtc.v.VrtL:"Cntr",T=o.Hrzn?o.Hrzn.v.HrzL:"Cntr";
l={V:"canvsize",m8:x,rv:Q,Uu:3*["Top","Cntr","Btom"].indexOf(j)+["Left","Cntr","Rght"].indexOf(T)}}else if(c=="revealAll"){l={V:"revealAll"}}else if(c=="trim"){var V={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[o.trimBasedOn.v.trimBasedOn];
if(V==null)throw"e";var E=["Top","Left","Btom","Rght"],_=[!0,!0,!0,!0];for(var R=0;R<4;R++)if(o[E[R]])_[R]=o[E[R]].v;
l={V:"trim",aoe:V,S2:_}}else if(c=="crop"){var f,S,L,y;if(o.T){var $=o.T.v,f=Math.round($.Left.v.val),S=Math.round($.Top.v.val),L=Math.round($.Rght.v.val)-f,y=Math.round($.Btom.v.val)-S}else{var Z=F.g[F.w[0]],i=Z.rect;
i=i.c_(new fE(0,0,F.e,F.n));f=i.x;S=i.y;L=i.e;y=i.n}l={V:"canvsize",m8:L,rv:y,r:new gS(f,S),arx:o.Dlt!=null&&o.Dlt.v}}else console.log(D);
if(l)this.z1(l,N,F,h,m);return}else if(r.V=="imgsize"){O=new fE(0,0,r.m8,r.rv);if(r.AM)P=r.AM;Y=r.Ha}else if(r.V=="canvsize"){var b=r.Uu!=null?r.Uu:0;
O=new fE(0,0,r.m8,r.rv);var G=F.e-r.m8,g=F.n-r.rv,u=Math.round(G/2),A=Math.round(g/2);if(b==1||b==4||b==7)O.x=u;
if(b==2||b==5||b==8)O.x=G;if(b==3||b==4||b==5)O.y=A;if(b==6||b==7||b==8)O.y=g;if(r.r){O.x=r.r.x;O.y=r.r.y}}else if(r.V=="rot"&&(r.h+2*Math.PI)%(Math.PI/2)!=0){var a=w.p.fc(O).t,d=new hc;
d.translate(-B,-s);d.rotate(r.h);d.translate(B,s);w.p.A(a,d,a);O=w.p.e0(a)}else if(r.V=="rot"&&r.h!=Math.PI&&r.h!=-Math.PI){O=new fE(B-F.n/2,s-F.e/2,F.n,F.e);
if((F.e+F.n&1)==1){B=Math.floor(B);s=Math.floor(s);O=new fE(B-Math.floor(F.n/2),s-Math.floor(F.e/2),F.n,F.e);
if((F.e&1)==1&&r.h!=-Math.PI/2)O.y--;if((F.n&1)==1&&r.h==-Math.PI/2)O.x--}}else if(r.V=="trim"){e=[11,12,0];
var K=F.G9(),i=new fE(0,0,F.e,F.n);O=w.Lw(K,i,r.aoe,r.S2);if(O.lX())O=i}else if(r.V=="cropbysel"){e=[11,12,1];
O=F.$.rect.clone()}else if(r.V=="revealAll"){e=[11,12,2];O=F.root.Tm(F,!0)}var X=r.V=="canvsize"&&r.arx;
if(r.V=="imgsize"||r.V=="rot"||r.V=="scl"||X){var aK=new hc;if(r.V=="imgsize"){e=[11,10];aK.scale(r.m8/F.e,r.rv/F.n)}else if(X){}else{aK.translate(-B,-s);
if(r.V=="rot")aK.rotate(r.h);if(r.V=="scl")aK.scale(r.h.x,r.h.y);aK.translate(B,s);e=r.Py}t=w.N.dj(aK);
n=this.YH(F,m,!0,t,Y,X?O:null)}else if(r.V=="auto-align"){if(F.w.length<2){alert("Select two or more layers.");
return}var fg=[];for(var R=0;R<F.w.length;R++){var Z=F.g[F.w[R]];if(!Z.ve()&&Z.add.SoLd==null){alert("Unsupported layer selected.");
return}if(Z.rect.lX()){alert("Empty layer selected.");return}fg.push([Z.buffer,Z.rect])}var k=w.ti.KQ(fg,0);
if(k==null){alert("No similarity found.");return}t=k[1];var hG=F.w;F.w=F.w.slice(1);n=this.YH(F,m,!1,k.slice(1),Y);
F.w=hG;O=F.root.Tm(F,!0);e=[2,10,1]}var eE=new fE(0,0,F.e,F.n);if(!O.lX()&&(!O.cj(eE)||n!=null)){var hW=new g2(e,this);
hW.data={as8:F.EP,AM:P,Jx:n,vz:t,pw:z.Q6.nv(F,O,eE,n!=null)};z.Q6.N9(F,hW.data,O);F.Zy(hW);this.uq(hW.data,F)}};
z.Q6.nv=function(r,N,F,h){if(r.Zf.length==0)return null;var m=JSON.stringify(r.Zf),O=JSON.parse(m);z.uA.asp(O,N,F,h);
O=JSON.stringify(O);return[m,O]};z.Q6.prototype.YH=function(r,N,F,h,m,O){var e={g:[],TU:null,ei:null};
if(F){for(var R=0;R<r.g.length;R++)e.g.push(R);for(var R=0;R<r.N$.length;R++)e.g.push(-1-R);for(var R=0;
R<r.O0.length;R++)e.g.push(-1e3-R)}else e.g=r.w.slice(0);e.TU=z.Q.mE(r,e.g,!0);z.Q.QC(r,N,e.g,e.TU,m,h,null,!0,O);
e.ei=z.Q.mE(r,e.g,!0);return e};z.Q6.prototype.uq=function(r,N){if(r.AM)N.EP=r.AM;if(r.pw)N.Zf=JSON.parse(r.pw[1]);
if(r.Jx){z.Q6.Q9(N,w.N.Ss(r.vz));z.Q.Qn(N,r.Jx.g,r.Jx.ei)}z.Q6.ga(N,r)};z.Q6.prototype.UO=function(r,N){if(r.as8)N.EP=r.as8;
if(r.pw)N.Zf=JSON.parse(r.pw[0]);z.Q6.d7(N,r);if(r.SQ)N.q.r.qv(r.SQ);N.a2v();if(r.Jx){var F=w.N.Ss(r.vz).clone();
F.iL();z.Q6.Q9(N,F);z.Q.Qn(N,r.Jx.g,r.Jx.TU)}};z.Q6.Q9=function(r,N){for(var R=0;R<r.g.length;R++){var F=r.g[R];
if(F.add.artb==null)continue;var h=w.p.fc(F.CN()).t;w.p.A(h,N,h);var m=w.p.e0(h);F.xz(m)}};z.Q6.eI=function(r){var N=new fE,F=0,h=r.root.children.length;
for(var R=0;R<h;R++){var m=r.root.children[R].a;if(m.add.artb==null)continue;N=N.fD(m.CN());F++}var O=new fE(0,0,r.e,r.n);
if(!N.lX()&&!O.cj(N)&&h==F)return N;return null};z.Q6.jJ=function(r){var N=z.Q6.eI(r);if(N)z.Q6.Wb(r,N,!0);
return N};z.Q6.Wb=function(r,N,F){var h=r.e,m=r.n,O=N.e,e=N.n,P=N.x==0&&N.y==0;if(P&&h==O&&m==e)return;
r.e=O;r.n=e;var B=[];for(var R=0;R<r.g.length;R++)B.push(R);if(!P)z.FZ.bt(r,B,null,-N.x,-N.y);for(var R=0;
R<r.g.length;R++){r.g[R].dD(r)}r.a2v();if(F){var s=r.q.r,Y=r.q.O;s.x+=Math.round((N.x+(O-h)/2)*Y);s.y+=Math.round((N.y+(e-m)/2)*Y)}else r.q.r.YR(0,0);
if(r.$)r.$.rect.offset(-N.x,-N.y);var D=r.jS();for(var c=0;c<D[0].length;c++)if(D[1][c]==-1){var o=r.a_[c];
o[1]-=o[0]==0?N.x:N.y}for(var R=0;R<r.O0.length;R++)r.O0[R].rect.offset(-N.x,-N.y)};z.Q6.prototype.qW=function(r,N,F,h,m){if(r.i_=="commit"){this.XR(F,m);
this.disable(F,N,null,h)}else if(r.i_=="cancel"){this.disable(F,N,null,h)}var O=null,e=new fE(0,0,F.e,F.n),P=this.s8.Q1;
if(r.i_=="config"){this.s8=r.s8;P=this.s8.Q1;if(F==null||!r.amZ)return;O=e;if(P.xa==1){var B=P.x/P.y;
if(O.e/B<O.n)O.n=Math.round(O.e/B);else O.e=Math.round(O.n*B)}if(P.xa==2){O.e=P.x;O.n=P.y}O.x=Math.round((F.e-O.e)/2);
O.y=Math.round((F.n-O.n)/2)}if(r.i_=="straighten"){alert("Draw a line in the image.");this.Zh=!0}if(r.i_=="cropby"){if(F==null)return;
var s=r.aov,O;if(s==0)O=F.root.Tm(F,!0);if(s==1){if(F.w.length==0)alert("No layer is selected.");else{var Y=F.root.Jr(F.w[0]);
O=Y.Tm(F,!0)}}if(s==2){if(F.w.length==0)alert("No layer is selected.");else{O=w.Lw(F.G9(),e,0);if(O.lX())O=e.clone()}}if(s==3){if(F.$!=null)O=F.$.rect;
else alert("There is no selection.")}if(s==4){O=new fE(0,0,F.e,F.n)}}if(O&&O.lX())O=null;if(O!=null){this.DS=this.Kg(O,P.xa!=0);
this.DS.TL(F,m);this.ET(N,v.E.S,{V:v.c.$P,s:this.id,Km:!0})}};z.Q6.prototype.XR=function(r,N){var F=this.DS.zI(),h=w.p.e0(F),m=this.asl(r,F),O=!1,e=this.s8.Q1,P=this.s8.Wb,B=e.x,s=e.y,c;
if(this.id==z.Ke&&e.xa==2&&m.W()!=B*s){m=new fE(m.x,m.y,B,s);O=!0}var Y=w.N.UD(F,m);Y=w.N.iL(Y);var D=w.N.Hl(Y),o=Math.atan2(Y[3],Y[0]);
if(Math.abs(o)>1e-9||!D||O||P)c=this.YH(r,N,!0,Y,1,h);var H=new g2(this.name,this),x=new fE(0,0,r.e,r.n);
H.data={Jx:c,vz:Y,SQ:r.q.r.clone(),pw:z.Q6.nv(r,m,x,!1)};z.Q6.N9(r,H.data,m);r.Zy(H);this.uq(H.data,r);
this.track(z.Q6.Y7([h.x,h.y,h.e,h.n],null,P))};z.Q6.N9=function(r,N,F){if(F==null)return;N.bL=new fE(0,0,r.e,r.n);
N.ae=F};z.Q6.ga=function(r,N){if(N.ae==null)return;z.Q6.Wb(r,N.ae)};z.Q6.d7=function(r,N){if(N.ae==null)return;
var F=N.bL.clone();F.offset(-N.ae.x,-N.ae.y);z.Q6.Wb(r,F)};z.Q6.prototype.asl=function(r,N){var F=w.N.UD(N),h=w.N.Hl(F),m=w.N.Ss(F),O=m.HG,e=m.SS,P=Math.atan2(m.J,m.O$);
m.rotate(P);var B=new fE(O,e,m.O$,m.Bv);if(!h){function s(l,R,p){var j=l[R]-l[p],T=l[R+1]-l[p+1];return Math.sqrt(j*j+T*T)}var Y=s(N,0,2),D=s(N,4,6),c=Math.max(Y,D),o=s(N,2,4),H=s(N,6,0),x=Math.max(o,H),Q=z.Q6.agR(N,r.e/2,r.n/2),U,I;
if(isNaN(Q)||Q==Infinity||Q==-Infinity||Math.min(Q,1/Q)<.1)Q=(Y+D)/(o+H);if(c/x>Q){U=c*1;I=U/Q}else{I=x*1;
U=I*Q}B.e=U;B.n=I}B.x=Math.round(B.x);B.y=Math.round(B.y);B.e=Math.round(B.e);B.n=Math.round(B.n);return B};
z.Q6.agR=function(r,N,F){var h=r[0]-N,m=r[1]-F,O=r[2]-N,e=r[3]-F,P=r[6]-N,B=r[7]-F,s=r[4]-N,Y=r[5]-F,D=((m-Y)*P-(h-s)*B+h*Y-m*s)/((e-Y)*P-(O-s)*B+O*Y-e*s),c=((m-Y)*O-(h-s)*e+h*Y-m*s)/((B-Y)*O-(P-s)*e+P*Y-B*s),o=-((c*B-m)*(D*e-m)+(c*P-h)*(D*O-h))/((c-1)*(D-1));
function H(Q){return Q*Q}var x=Math.sqrt((H(D-1)+H(D*e-m)/o+H(D*O-h)/o)/(H(c-1)+H(c*B-m)/o+H(c*P-h)/o));
if(D==1&&c==1)x=Math.sqrt((H(e-m)+H(O-h))/(H(B-m)+H(P-h)));return x};z.Q6.prototype.disable=function(r,N,F,h){if(r==null)return;
if(this.DS)this.DS.clear(r);this.DS=null;this.ET(N,v.E.S,{V:v.c.$P,s:this.id,Km:!1})};z.Q6.prototype.ET=function(r,N,F,h){var m=new gf(N,!0);
m.data=F;if(h)m.s=h;r.L(m)};z.Ww=function(){z.Q6.call(this,[10,2],z.Ke,"tools/rcrop")};z.Ww.prototype=new z.Q6;
z.Uh=function(){z.Q6.call(this,[10,39],z.AE,"tools/pcrop")};z.Uh.prototype=new z.Q6;z.UG=function(){z.a3.call(this,[10,21],z.KG,"tools/dodge");
this.qb="dodge"};z.UG.prototype=new z.a3;z.UG.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,this.Jd.expo/Math.PI);
if(this.Ti==null)return;this.XU(r)};z.UG.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.W0=function(){z.a3.call(this,[10,3],z.T6,"tools/eraser");
this.qb="erase"};z.W0.prototype=new z.a3;z.W0.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,this.Jd.flow);
if(this.Ti==null)return;this.XU(r)};z.W0.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;var O=this.SZ(r,F,h,m);this.XU(r)};z.el=function(){z.a3.call(this,[10,45],z.aet,"tools/beraser");
this.qb="ierase"};z.el.prototype=new z.a3;z.el.prototype.vV=function(r,N,F,h,m){if(this.Zq(h,N,m))return;
this.og(r,F,h,m,this.Jd.flow);if(this.Ti==null)return;this.XU(r)};z.el.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);
if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.NT=function(){z.Yi.call(this,[10,15],z.Ns,"tools/rselect");
this.tz="crosshair"};z.NT.prototype=new z.Yi;z.NT.prototype.VQ=function(r,N,F,h){if(!h.Tb||!this.d$)return;
var m=this.Tm(r,F,!0);r.d.W$=w.p.fc(m);r.mR=!0;z.bE.Ln(h,m,r,N)};z.NT.prototype.gm=function(r,N,F,h){r.d.W$=null;
r.d.Ul=[];r.mR=!0;this.finish(r,N,F,h)};z.NT.prototype.getSelection=function(r,N,F,h){if(this.Al.cj(this.nO)||!this.d$)return null;
var m=this.Tm(r,F,!0);if(m.lX())return null;return z.Yi.rr("Rctn",m,this.Jd.anta)};z.pt=function(){z.Yi.call(this,[10,4],z.ar6,"tools/eselect");
this.tz="crosshair"};z.pt.prototype=new z.Yi;z.pt.prototype.VQ=function(r,N,F,h){if(!h.Tb||!this.d$)return;
var m=this.Tm(r,F);r.d.W$=z.pt.rF(m);r.mR=!0;z.bE.Ln(h,m,r,N)};z.pt.prototype.gm=function(r,N,F,h){r.d.W$=null;
r.d.Ul=[];r.mR=!0;this.finish(r,N,F,h)};z.pt.prototype.getSelection=function(r,N,F,h){if(this.Al.cj(this.nO)||!this.d$)return null;
var m=this.Tm(r,F);if(!m.PC(new fE(0,0,r.e,r.n)))return null;return z.Yi.rr("Elps",m,this.Jd.anta)};
z.pt.rF=function(r){var N=r.x,F=r.y,h=r.x+r.e,m=r.y+r.n,O=(N+h)/2,e=(F+m)/2,P=(N-h)/2,B=(F-m)/2,s=.5522848,Y={t:[O,e-B],C:["M","C","C","C","C"]};
Y.t.push(O+s*P,e-B,O+P,e-s*B,O+P,e);Y.t.push(O+P,e+s*B,O+s*P,e+B,O,e+B);Y.t.push(O-s*P,e+B,O-P,e+s*B,O-P,e);
Y.t.push(O-P,e-s*B,O-s*P,e-B,O,e-B);return Y};z.o7=function(r){z.bE.call(this,[10,5],r?z.SF:z.vH,"tools/eyedropper");
this.jg=null;this.GY=0;this.zN=null;this.kI=1;this.a7=2;this.aaZ=!0;this._V=!1};z.o7.prototype=new z.bE;
z.o7.prototype.rm=function(r){return r.Tb};z.o7.prototype.z1=function(r,N,F,h,m){if(r.V=="pickhere")this.iJ(F,N,m,null,r.aqZ);
if(r.V=="supertool")this.jg=r.s};z.o7.prototype.vV=function(r,N,F,h,m){var O=this.jg;if(O){O.vV(r,N,F,h,m);
return}this.GY=F.Fp;this.zN=m;var e=this.iJ(r,null,F,h,m);this.LN(r,N,e,m)};z.o7.prototype.Ui=function(r,N,F,h,m){var O=this.jg;
if(O){O.Ui(r,N,F,h,m);return}var e=this.zN;if(e){var P=m.x-e.x,B=m.y-e.y,s=1,Y=new gS(e.x+P*s,e.y+B*s),D=this.iJ(r,null,F,h,Y);
this.LN(r,N,D,Y,new gS(P*(1-s),B*(1-s)))}};z.o7.prototype.LN=function(r,N,F,h,m){var O=this.aaZ,e=this._V,s=12,Y=11;
if(r.q.O>4)e=!1;if(!e&&!O)return;if(m==null)m=new gS(0,0);var P=new fE(0,0,r.e,r.n),B=r.G9(),D=(s*2+1)*Y,c=new gS(D/2,D/2),o=new fE(0,0,D,D),H=w.B(o.W()*4),x=r.q.RX(h.x,h.y),Q=Math.floor(x.x),U=Math.floor(x.y),I=new hc;
I.scale(1/Y,1/Y);I.translate(Q-s,U-s);if(e)w.scale.gG(B,P,I,H,o);var l=(s-3.4)*Y,p=(s-1.7)*Y,j=s*Y;for(var T=0;
T<D;T++)for(var V=0;V<D;V++){var E=gS.Mz(new gS(V,T),c);if(E>l){if(O){var _=Math.max(0,l-E+1),f=(T*D+V)*4,S=H[f+3]<<24|H[f]<<16|H[f+1]<<8|H[f+2],L=255<<24|(T<j+Y*.5?F:this.GY);
if(E>p){_=Math.max(0,p-E+1);S=L;L=4286611584}else if(!e){S=L&16777215}H[f+0]=(1-_)*(L>>>16&255)+_*(S>>>16&255);
H[f+1]=(1-_)*(L>>>8&255)+_*(S>>>8&255);H[f+2]=(1-_)*(L>>>0&255)+_*(S>>>0&255);H[f+3]=(1-_)*(L>>>24&255)+_*(S>>>24&255)}if(E>j){H[(T*D+V)*4+3]=Math.max(0,255*(j-E+1))}}}function y(R){var t=R<<2;
H[t]=0;H[t+1]=0;H[t+2]=0;H[t+3]=255}function $(R){var t=R<<2;H[t]=255;H[t+1]=255;H[t+2]=255;H[t+3]=255}var Z=this.kI*Y+2,i=D-Z>>>1,b=i+Z-1;
if(e&&Z<D)for(var R=0;R<Z;R++){var G=i*D+i+R,g=b*D+i+R,u=(i+R)*D+i,A=(i+R)*D+b;y(G);y(g);y(u);y(A);if(R!=0&&R!=Z-1){$(G+D);
$(g-D);$(u+1);$(A-1)}}if(!e)for(var R=-9;R<=9;R++){if(-3<R&&R<3)continue;var a=D>>>1,V=a*D+a+R,T=(a+R)*D+a;
$(V-D);y(V);$(V+D);$(T-1);y(T);$(T+1)}var d=z.bE.Mp(0,0,["#"+w.GG(F),"RGB "+(F>>>16&255)+","+(F>>>8&255)+","+(F>>>0&255)]),P=d[1];
P.y=0;P.x=D-P.e>>>1;w.L3(d[0],P,H,o);var K={l1:H,NQ:o,xW:new gS(c.x+m.x,c.y+m.y)},n=new gf(v.E.S,!0);
n.data={V:v.c.oQ,eT:K};N.L(n)};z.o7.prototype.wJ=function(r,N,F,h,m,O){this.iJ(r,N,F,h,m);var e=this.jg;
if(e){e.wJ(r,N,F,h,m);return}if(this.zN){this.zN=null;if(O)this.iJ(r,N,F,h,m,this.GY);var P=new gf(v.E.S,!0);
P.data={V:v.c.oQ,eT:"default"};N.L(P)}};z.o7.prototype.iJ=function(r,N,F,h,m,O){if(O==null)O=z.o7.dU(r,m,this.kI,this.a7);
var e=new gf(v.E.S);e.data={V:v.c.nM,Xa:bC.gU,bT:h&&h.j(bh.sV)?1:0,h:O};if(N)N.L(e);return O};z.o7.dU=function(r,N,F,h){if(h==null)h=2;
var m=r.q.RX(N.x,N.y),O,e,P=r.w.length==1&&r.g[r.w[0]].Ku>0,B=r.I2.length!=0,p=0,j=0,T=0;if(P||B){var s;
if(B)s=r.O0[r.I2[0]];else{var Y=r.g[r.w[0]];s=Y.Ku==1?Y.$n():Y.a8E()}e=s.Tm();if(!e.Ev(m))return s.color==0?0:16777215;
O=w.B(e.W()*4);O.fill(255);var D=s.Jg();w.zG(D,O)}else if(h==0&&r.w.length!=0){var Y=r.g[r.w[0]];O=Y.buffer;
e=Y.rect}else{O=h==2?r.G9():r.G9(r.w[0]);e=new fE(0,0,r.e,r.n)}var c=Math.floor(m.x)-e.x,o=Math.floor(m.y)-e.y,H=(F-1)/2,x=Math.max(0,c-H),Q=Math.max(0,o-H),U=Math.min(e.e,c+H+1),I=Math.min(e.n,o+H+1),l=(U-x)*(I-Q);
for(var c=x;c<U;c++)for(var o=Q;o<I;o++){var R=4*(o*e.e+c);p+=O[R];j+=O[R+1];T+=O[R+2]}p=Math.round(p/l);
j=Math.round(j/l);T=Math.round(T/l);return p<<16|j<<8|T};z.o7.prototype.qW=function(r){var N=r.Jd;this.kI=[1,3,5,11,31][N[0]];
this.a7=N[1];this.aaZ=N[2];this._V=N[3]};z.ji=function(){z.bE.call(this,[10,6],z.a3n,"tools/gradient");
this.Jd={X:JSON.parse(an.JT.a5S).v,ks:"Lnr",D9:!1,ajz:!1,aje:"norm",tM:1};this.h9=!1;this.P5=null};z.ji.prototype=new z.bE;
z.ji.prototype.enable=function(r,N,F,h){var m=new gf(v.E.S,!0);m.data={V:v.c.oQ,eT:"default"};N.L(m)};
z.ji.prototype.qW=function(r){this.Jd=r.Xa};z.ji.prototype.vV=function(r,N,F,h,m){if(!r.VT())return;
this.P5=r.q.RX(m.x,m.y);this.P5=z.FZ.fx(r,this.P5,F);this.h9=!0};z.ji.prototype.Ui=function(r,N,F,h,m){if(!this.h9)return;
var O=r.q.RX(m.x,m.y);O=z.FZ.fx(r,O,F);if(h.j(bh.wQ))O=z.ji.hQ(this.P5,O);r.d.W$={t:[this.P5.x,this.P5.y,O.x,O.y],C:["M","L"]};
r.d.eJ=[this.P5.x,this.P5.y,O.x,O.y];r.mR=!0};z.ji.prototype.wJ=function(r,N,F,h,m){if(!this.h9)return;
var O=r.g[r.w[0]],e=r.q.RX(m.x,m.y);e=z.FZ.fx(r,e,F);if(h.j(bh.wQ))e=z.ji.hQ(this.P5,e);var P=e.bl(this.P5),B=gS.E_(this.P5,e,.5),s=Math.atan2(P.y,P.x),Y=gS.Mz(this.P5,e),D=Math.sin(s),c=Math.cos(s);
if(Y>2){var o;if(r.$)o=r.$.rect;else o=new fE(0,0,r.e,r.n);var H=w.B(o.W()*4),x=this.Jd,Q=x.ks;if(Q!="Lnr"){Y*=2;
B=this.P5}w.X.sD(x.X,H,o,[c*1/Y,D*1/Y,-D*1/Y,c*1/Y],B.x,B.y,x.D9,an.X.types.indexOf(Q),F.Fp,F.lo,null,x.ajz);
var U=Math.round(x.tM*256),I=H.length;if(U!=256)for(var R=0;R<I;R+=4)H[R+3]=H[R+3]*U>>>8;var l=new gf(v.E.u);
l.s=z.T6;l.data={V:"fillBMP",I4:H,$T:x.aje,Py:this.name};N.L(l)}r.d.W$=null;r.d.eJ=[];r.mR=!0;this.h9=!1};
z.ji.hQ=function(r,N){if(r.cj(N))return r;var F=N.x-r.x,h=N.y-r.y,m=Math.abs(F),O=Math.abs(h);if(m>O)O=m/2>O?0:m;
if(O>m)m=O/2>m?0:O;m=F>0?m:-m;O=h>0?O:-O;var e=Math.sqrt(F*F+h*h)/Math.sqrt(m*m+O*O);return new gS(r.x+m*e,r.y+O*e)};
z.ji.e9=function(r,N,F,h,m,O,e){if(e==null)e=document.createElement("canvas");var P=e.getContext("2d");
e.width=N;e.height=F;var B=new fE(0,0,N,F),s=w.B(N*F*4);w.aI(s,N,F,4);var Y=Math.sin(h),D=Math.cos(h),c=w.B(N*F*4);
w.X.sD(r,c,B,[D*1/N,Y*1/N,-Y*1/F,D*1/F],N/2,F/2,!1,0,m,O);w.i.vw("norm",c,B,s,B,B,1);var o=P.getImageData(0,0,N,F);
w.ZF(s,o.data);P.putImageData(o,0,0);return e.toDataURL()};z.ji.akc=function(r,N,F){var h=JSON.parse(JSON.stringify(r));
if(h.Clrs)for(var R=0;R<h.Clrs.v.length;R++){var m=h.Clrs.v[R].v,O=m.Type.v.Clry;if(O=="UsrS")continue;
var e=O=="FrgC"?N:F;m.Type.v.Clry="UsrS";m.Clr={t:"Objc",v:w.X.QA({Z:e>>16&255,z:e>>8&255,J:e&255})}}return h};
z.WZ=function(){z.bE.call(this,[10,7],z.U4,"tools/hand");this.zN=new gS(0,0);this.RP=null;this.Fi=0};
z.WZ.prototype=new z.bE;z.WZ.prototype.z1=function(r,N,F,h,m){var O=r.V;if(O=="setcls"){F.q.Hr=r.Hr;
F.mR=!0;F.Pj=!0}if(O=="scroll"&&!h.j(bh.sV)){if(h.j(bh.hg))z.WZ.ta(F,F.q.r.x-r.yG.y,F.q.r.y-r.yG.x);
else z.WZ.ta(F,F.q.r.x-r.yG.x,F.q.r.y-r.yG.y)}};z.WZ.prototype.enable=function(r,N,F,h){this.RP=null;
var m=new gf(v.E.S,!0);m.data={V:v.c.oQ,eT:"grab"};N.L(m);if(r&&Date.now()-this.Fi<300){m.type=v.E.u;
m.s=z.x0;m.data={V:"adapt",h:"fitscr"};N.L(m)}this.Fi=Date.now()};z.WZ.prototype.vV=function(r,N,F,h,m){this.RP=r.q.r.clone();
this.zN.YR(m.x,m.y)};z.WZ.prototype.Ui=function(r,N,F,h,m){if(!m.Tb)return;if(this.RP==null)this.vV(r,N,F,h,m);
z.WZ.ta(r,this.RP.x+(m.x-this.zN.x),this.RP.y+(m.y-this.zN.y))};z.WZ.prototype.wJ=function(r,N,F,h,m){this.RP=null};
z.WZ.ta=function(r,N,F){var h=r.q.O,m=r.q.Yg,O=m.e,e=m.n,P=r.e*h,B=r.n*h,s=P<O&&B<e,Y=O/2+P/2-64,D=e/2+B/2-64;
r.q.r.YR(Math.max(-Y,Math.min(Y,N)),Math.max(-D,Math.min(D,F)));r.Pj=!0};z.af=function(){z.bE.call(this,[10,47],z.ak5,"tools/rview");
this.zN=new gS(0,0);this.at=null;this.a6B=null;this.Fi=0};z.af.prototype=new z.bE;z.af.prototype.enable=function(r,N,F,h){this.RP=null;
var m=new gf(v.E.S,!0);m.data={V:v.c.oQ,eT:"grab"};N.L(m);if(r&&Date.now()-this.Fi<300&&r.q.MJ!=0){r.q.MJ=0;
r.mR=!0}this.Fi=Date.now();if(r)this.tC(r,N)};z.af.prototype.disable=function(r,N,F,h,m){if(r)this.tC(r,N)};
z.af.prototype.Fg=function(r,N,F,h){if(r)this.tC(r,N)};z.af.prototype.vV=function(r,N,F,h,m){this.zN.YR(m.x,m.y);
var O=r.q;this.at=O.RX(O.Yg.e/2,O.Yg.n/2);this.a6B=O.XA()};z.af.prototype.Ui=function(r,N,F,h,m){if(!m.Tb)return;
var O=r.q,e=this.at,P=this.zN,B=new gS(O.Yg.e/2,O.Yg.n/2),s=Math.atan2(m.y-B.y,m.x-B.x),Y=Math.atan2(P.y-B.y,P.x-B.x);
this.Pm(r,N,this.a6B.clone(),e,s-Y)};z.af.prototype.qW=function(r,N,F,h){this.Pm(F,N,null,null,r.Cz-F.q.MJ);
F.q.MJ=r.Cz};z.af.prototype.Pm=function(r,N,F,h,m){var O=r.q;if(F==null)F=O.XA();if(h==null)h=O.RX(O.Yg.e/2,O.Yg.n/2);
F.translate(-h.x,-h.y);F.rotate(m);F.translate(h.x,h.y);O.ako(F);if(r.e*O.O<O.Yg.e&&r.n*O.O<O.Yg.n)O.r.YR(0,0);
r.mR=!0;this.tC(r,N)};z.af.prototype.tC=function(r,N){var F=new gf(v.E.S,!0);F.data={V:v.c.$P,s:this.id,Cz:r.q.MJ};
N.L(F)};z.mn=function(){z.Ye.call(this,[10,25],z.It,"tools/hbrush")};z.mn.prototype=new z.Ye("");z.mn.prototype.wJ=function(r,N,F,h,m){if(this.Ti==null)return;
this.q1(r,"heal",this.Ti.XW(),this.Ti.Tm(),this.Ti.Jn());this.M(r,this.Ti.Jn());z.a3.prototype.wJ.call(this,r,N,F,h,m);
if(!this.Jd.algnd)this.r=null};z.o5=function(r){z.bE.call(this,r?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],r?z.Sm:z.tI,r?"tools/vtype":"tools/htype");
this.OR=[];this._I=null;this.if=null;this.caller=null;this.LK=1;this.lK=null;this.afd=0;this.jk=0;this.aoj=null;
this.YX=null;this.XK=null;this.GJ=null;this.Fy=null;this.J1=null;this.a0e=null;this.ER=null;this.DS=null;
this.MW=null;this.aah=null;this.Xj=!1;this.hr=!1;this._8=!1;this.OS=null;this.K6=null;this.a0Z=null;
this.A1=!1;this.LG=!1;this.R3=-1;this.ZZ=-1;this.bd=document.createElement("textarea");this.bd.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.bd.addEventListener("input",this.qo.bind(this),!1);this.bd.addEventListener("keydown",this.abz.bind(this),!1);
this.bd.addEventListener("keyup",this.anN.bind(this),!1);var N=function(F){F.stopPropagation()};this.bd.addEventListener("keydown",N,!1);
this.bd.addEventListener("keyup",N,!1)};z.o5.prototype=new z.bE;z.o5.prototype.rm=function(r){return r.Tb};
z.o5.prototype._r=function(r,N,F,h){if(this.XK!=null||this.id==z.Sm)return;this.caller=N;this._I=r;var m=this.VM(r);
if(m.length!=0){var O=null,e=[],P=[];for(var R=0;R<m.length;R++){var B=r.g[m[R]],s=B.add.TySh,Y=0,D=gQ.Xe(s.sl).length-2,c=gQ.pz(s.sl,Y,D);
gQ.wG(c,z.Q.zf(s.A));if(c.AY.Font!=null)c.AY.Font=c.f7[c.AY.Font].Name;O=c.f7;e.push(c.AY);P.push(c.hS)}var c={f7:O,AY:gQ.u8(e),hS:gQ.u8(P)};
if(c.AY.Font!=null)gQ.dV(c,c.AY.Font);this.Op(N,c,s)}};z.o5.prototype.VM=function(r){var N=[];for(var R=0;
R<r.w.length;R++)if(r.g[r.w[R]]&&r.g[r.w[R]].add.TySh)N.push(r.w[R]);return N};z.o5.prototype.z1=function(r,N,F,h,m){var O=r.V=="insertGlyph";
if((O||r.V=="insertText")&&this.XK){var e=O?String.fromCharCode(65533):r.h,P=this.bd,B=P.value,s=P.selectionStart,Y=P.selectionEnd;
P.value=B.slice(0,s)+e+B.slice(Y);P.selectionStart=P.selectionEnd=s+e.length;this.qo(null,O?r.h:null);
P.focus()}if(r.V=="updateStyles"){if(this.XK==null){var D=this.VM(F),c=!1;if(D.length!=0){this.ZB(F,N,m,D);
for(var R=0;R<D.length;R++){var o=F.g[D[R]],H=o.add.TySh;gQ.Db(H,this.LK);this.XK=o;var x=gQ.Xe(H.sl);
this.R3=0;this.ZZ=x.length-1;gQ.sW(H.sl,this.R3,this.ZZ,this.CU(m,H));var Q=this.iO(F,m);if(Q==!1)c=!0}if(c){this.A1=!0;
return}this.ot(F,N)}return}this.bs(m)}if(r.V.startsWith("warp")){var U=this.LG;if(r.V=="warp"||r.V=="warpCancel"){if(this.XK==null)return;
if(r.V=="warp")this.XK.add.TySh._u=r.U5;else this.XK.add.TySh._u=this.a0e;var F=this._I;this.iO(F,m);
if(!U)this.iI(F)}if(r.V!="warp")this.bd.focus();if((r.V=="warpConfirm"||r.V=="warpCancel")&&U){this.LG=!1;
if(r.V=="warpConfirm")this.ot(F,N);else this.o8(F,N)}}if(r.V=="editCurr"){if(m.px!=z.tI){this.lK=m.px;
var I=new gf(v.E.S,!0);I.data={V:v.c.z4,s:z.tI};N.L(I)}if(this.XK!=null)this.disable(F,N,m,h);this._I=F;
this.if=m;this.caller=N;this.ZB(F,N,m,[r.b1]);var x=gQ.Xe(this.XK.add.TySh.sl);this.R3=0;this.ZZ=x.length-1;
this.iI(F);this.hv();this.bd.focus()}if(r.V=="switchPntPrgr"){if(this.XK)return;var o=F.g[F.w[0]],H=o.add.TySh,l=H.A.zf(),p=JSON.parse(JSON.stringify(H.sl)),j=gQ.d4(p),T=j==1?gQ.Bf(p):[0,0,Math.round(o.rect.e*1.05/l),Math.round(o.rect.n*1.25/l)],V=gQ.pz(p,0,0),E=V.f7[V.AY.Font].Name,_=m.FN.hG(E),f=[0,T[2],T[2]/2][V.hS.Justification%3],S=_?ac.NW(_,E,V.AY):V.AY.FontSize*.8;
gQ.l7(p,1-j);if(j==0){f=-f;S=-S;gQ.q2(p,[0,0,T[2],T[3]])}var L=new hc(1,0,0,1,f,S);L.concat(H.A);this.z1({Lz:F.w[0],V:"newED",bc:p,A:L,avu:[16,3,j==1?0:1]},N,F,h,m)}if(r.V=="newED"){var o=F.g[r.Lz],H=o.add.TySh,y=this.M3(F,[r.Lz]);
H.sl=r.bc;if(r.A)H.A=r.A;var $=new ac(H.sl,m.FN),Z=d0.nG($,H);o.rect=Z.NQ;o.buffer=Z.iS;o.M();F.M();
var i=new g2(r.avu?r.avu:this.name,this);i.data={_F:y,om:this.M3(F,[r.Lz])};F.Zy(i)}if(r.V=="fromAction"){var b=r.T5.Tf.Usng.v,G=b.TxtC.v,g=[];
for(var R=0;R<2;R++){var u=G[R==0?"Hrzn":"Vrtc"].v,e=u.val;if(u.type=="#Prc")e=(R==0?F.e:F.n)*(e/100);
g[R]=e}this.kg(F,N,m,h,F.q.l9(g[0],g[1]));var o=F.g[F.w[0]],H=o.add.TySh,A=H.sl,B=gQ.Xe(A);gQ.IP(A,0,B.length-1);
gQ.BY(A,0,b.Txt.v.replace(/\r/g,"\n"));B=gQ.Xe(A);for(var j=0;j<2;j++){var a=b[j==0?"Txtt":"paragraphStyleRange"].v;
for(var R=0;R<a.length;R++){var d=a[R].v,s=d.From.v,Y=Math.min(d.T.v-1,B.length-1);d=d[j==0?"TxtS":"paragraphStyle"].v;
var K=gQ.pz(A,s,Y),n=j==0?K.AY:K.hS;for(var t in d){var X=d[t].v;if(t=="Sz")n.FontSize=Math.round(X.val);
else if(t=="fontPostScriptName")gQ.dV(K,X);else if(t=="Algn")n.Justification={Left:1,Cntr:2}[X.Alg];
else if(t=="leading")n.Leading=d[t].v.val;else if(t=="baselineShift")n.BaselineShift=d[t].v.val;else if(t=="autoLeading")n.AutoLeading=d[t].v;
else if(t=="syntheticBold")n.FauxBold=d[t].v;else if(t=="syntheticItalic")n.FauxItalic=d[t].v;else if(t=="Trck")n.Tracking=d[t].v;
else if(t=="verticalScale")n.VerticalScale=d[t].v/100;else if(t=="horizontalScale")n.HorizontalScale=d[t].v/100;
else if(t=="Clr")n.FillColor={Type:1,Values:[1,X.Rd.v/255,X.Grn.v/255,X.Bl.v/255]}}gQ.sW(A,s,Y,K)}}var $=new ac(H.sl,m.FN),Z=d0.nG($,H);
o.rect=Z.NQ;o.buffer=Z.iS;o.M();F.M();this.ot(F,N)}};z.o5.prototype.bs=function(r){var N=Math.min(this.R3,this.ZZ),F=Math.max(this.R3,this.ZZ),h=this.XK.add.TySh;
gQ.Db(h,this.LK);gQ.sW(h.sl,N,F-1,this.CU(r,h));var m=this._I,O=this.iO(m,r);if(O)this.iI(m);if(document.activeElement.tagName.toLowerCase()!="input")this.bd.focus()};
z.o5.prototype.Zk=function(r){return this.OR.indexOf(r)!=-1};z.o5.prototype.enable=function(r,N,F,h){var m=this.bd;
N.m.appendChild(m);this.ER="default";this.LN(N)};z.o5.prototype.N7=function(){return this.XK!=null};
z.o5.ZA=function(r,N){for(var R=r.g.length-1;R>=0;R--){var F=r.g[R];if(F.add.TySh&&F.rect.Ev(N)&&r.abN(R)){var h=F.gT(2)||F.gT(31);
return h?-2:R}}return-1};z.o5.prototype.vV=function(r,N,F,h,m){this._I=r;this.if=F;this.caller=N;var O=r.q.RX(m.x,m.y),e=this.XK==null;
if(e){var P=z.o5.ZA(r,O);if(P==-2){alert(ab.get([6,57,0]));return}if(P>=0&&!h.j(bh.wQ)){if(!d0.wc(r.g[P].add.TySh,F.FN,N)){alert("Fonts not loaded yet");
return}this.ZB(r,N,F,[P])}else{this._8=!0;this.OS=m;return}}var B=e?-1:gQ.d4(this.XK.add.TySh.sl),s=this.MW?this.MW:this.DS;
if(s&&s.vV(r,F,h,O,null,null,m)&&w.U5.n5(this.XK.add.TySh._u)||!e&&w.p.n2(O,this.XK.rect)>20/r.q.O&&(B==0||B==1)){this.Xj=!0;
this.K6=O;this.a0Z=this.XK.add.TySh.A.clone();if(this.R3==-1&&this.ZZ==-1)this.R3=this.ZZ=this.d9(O)}else{if(this.Fy==null){alert("Fonts not loaded yet");
return}this.hr=!0;this.R3=this.ZZ=this.d9(O);var Y=Date.now();if(Y-this.afd>300)this.jk=0;this.jk++;
this.afd=Y;if(this.jk==2)this.akI();if(this.jk==3)this.a7p();if(this.jk>1){this.hr=!1}}this.hv();this.iI(r)};
z.o5.prototype.ZB=function(r,N,F,h){var m=r.g[h[0]];this.XK=m;this.ET(N,v.E.S,{V:v.c.$P,s:this.id,i_:"showactive"});
this.GJ=h;r.w=h.slice(0);r.xA();r.Ls=!0;this.J1=this.M3(r,h);this.z3(m.add.TySh);this.iO(r,F)};z.o5.prototype.z3=function(r){if(gQ.d4(r.sl)!=1)return;
var N=gQ.Bf(r.sl);N=new fE(0,0,N[2]-N[0],N[3]-N[1]);var F=[N.x,N.y,N.x+N.e,N.y,N.x+N.e,N.y+N.n,N.x,N.y+N.n];
w.p.A(F,r.A,F);this.DS=new az(F,!1,!1,!1,!0)};z.o5.prototype.akI=function(){var r=gQ.Xe(this.XK.add.TySh.sl);
this.R3=this.H5(r,this.R3);this.ZZ=this.Vj(r,this.R3)};z.o5.prototype.H5=function(r,N){var F=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",h=[];
for(var R=0;R<F.length;R++)h.push(F.charAt(R));var m=h.indexOf(r[N])==-1?!0:!1;for(var R=N-1;R>=0;R--)if(h.indexOf(r.charAt(R))!=-1==m)return R+1;
return 0};z.o5.prototype.Vj=function(r,N){var F=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",h=[];for(var R=0;
R<F.length;R++)h.push(F.charAt(R));var m=h.indexOf(r[N])==-1?!0:!1;for(var R=N+1;R<r.length;R++)if(h.indexOf(r.charAt(R))!=-1==m)return R;
return r.length-1};z.o5.prototype.a7p=function(){var r=this.Fy.ahr(this.R3);this.R3=r[0];this.ZZ=r[1]};
z.o5.prototype.LN=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.oQ,eT:this.ER};r.L(N)};z.o5.prototype.Ui=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=this.XK;
if(!m.Tb){var P="default",B=this.DS,s=this.MW?this.MW:B;if(s&&w.U5.n5(e.add.TySh._u)){var Y=s.d3(O,r.q.O,null,m);
if(Y)P=Y;else if(s==B&&B.hB(O))P="text"}else if(e&&w.p.n2(O,e.rect)>20/r.q.O)P="move";else if(z.o5.ZA(r,O)>=0)P="text";
if(P!=this.ER){this.ER=P;this.LN(N)}}var D=this.OS;if(this._8&&Math.min(m.x-D.x,m.y-D.y)>4/r.q.O){this._8=!1;
this.kg(r,N,F,h,m);e=this.XK;this.Xj=!0;this.DS=new az(null,!1,!1,!1,!0);var c=r.q.RX(this.OS.x,this.OS.y);
c.x=Math.round(c.x);c.y=Math.round(c.y);this.DS.vV(r,F,h,c,null,null,m)}if(this.Xj){var o=e.add.TySh;
if(this.MW){this.MW.Ui(r,F,h,O);var H=w.N.Ss(w.N.UD(this.MW.zI(),this.aah));o.A=H;this.iO(r,F);gQ.hy(o)}else if(this.DS){this.DS.Ui(r,F,h,O);
var x=o.A.clone(),Q=Math.atan2(x.J,x.O$);x.rotate(Q);var H=w.N.Ss(w.N.UD(this.DS.zI())),U=Math.atan2(H.J,H.O$);
H.rotate(U);if(!isNaN(H.O$)&&H.O$*H.Bv-H.J*H.KM!=0){var I=new fE(0,0,H.O$/x.O$,H.Bv/x.Bv),l=Math.round(I.e),p=Math.round(I.n),j=o.sl.Curve;
if(j){var T=gQ.Bf(o.sl),V=new hc(l/T[2],0,0,p/T[3],0,0);w.p.A(j.Points,V,j.Points);gQ.hy(o)}gQ.q2(o.sl,[0,0,l,p]);
o.A=w.N.Ss(w.N.UD(this.DS.zI(),I));this.iO(r,F);gQ.hy(o)}}else{var E=O.x-this.K6.x,_=O.y-this.K6.y;o.A=this.a0Z.clone();
var f=new gS(o.A.HG+E,o.A.SS+_);f=z.FZ.fx(r,f,F);o.A.HG=f.x;o.A.SS=f.y;this.iO(r,F)}}if(this.hr)this.ZZ=this.d9(O);
if(this.Xj||this.hr)this.iI(r)};z.o5.prototype.kg=function(r,N,F,h,m){var O=r.bN(),e=O[0],P=O[1],B=r.lc();
B.add.lnsr="rend";var s=r.g.slice(0);B.a6("Text layer "+s.length);this.XK=B;var Y=r.w.length==0?r.g.length-1:r.w[r.w.length-1],D=Y+1;
if(s[Y].add.lsct==jJ.Ra)D--;this.J1={du:s.slice(0),Rj:r.w.slice(0)};s.splice(D,0,B);r.w=[D];this.R3=this.ZZ=0;
r.S0(s);this.J1.Yb=s.slice(0);this.J1.xF=r.w.slice(0);this.ET(N,v.E.S,{V:v.c.$P,s:this.id,i_:"showactive"});
var c=r.q.RX(m.x,m.y),o=F.Fj;console.log(o);if(this.id==z.Sm){o=JSON.parse(JSON.stringify(o));o.AY.BaselineDirection=1}B.add.TySh=gQ.WW(c.x,c.y,o);
var H=B.add.TySh,x=H.sl;if(this.id==z.Sm)x._LineOrientation=2;gQ.Db(H,this.LK);if(m.Tb)gQ.l7(x,1);else{gQ.l7(x,0);
var Q=e[P.pop()],U=Q?Q.add.vmsk:null;if(U&&!h.j(bh.wQ)){U=U.clone();var I=U.Y,p,j;for(var R=0;R<I.length;
R++)if(I[R].r5!=null)I[R].r5=0;var l=5/r.q.O;p=w.H.Bp(U.Y,c,!0,l);if(p.Jz==-1)p=w.H.Bp(U.Y,c);if(p.Jz!=-1){gQ.l7(x,1);
var T=w.H.Au(I,p.Jz),V=w.H.Gl(I,p.Jz)-1;I=U.Y=I.slice(0,2).concat(I.slice(T,T+V+1));U.w=[];H.add={vmsk:U,vogk:C.jq(I)};
x.Curve={};gQ.$s(H);if(p.wr!=null){var E=ac.pj(x.Curve);w.p.A(E[0],H.A,E[0]);var _=w.p.a4(E[0],c.x,c.y),f=F.Fj.hS.Justification;
if(f==2||f==5){var S=(E[2][_]+E[3]*.5)%E[3];_=ac.Jw(S,E[2])}var L=E[1][_];L=L%V;U.i4=[L,L];gQ.$s(H)}else this.z3(H)}}}return B};
z.o5.prototype.wJ=function(r,N,F,h,m,O){if(O){this._8=!1;return}if(this.XK==null&&!this._8)return;var e=r.q.RX(m.x,m.y),P=this._8;
if(this._8){this._8=!1;this.kg(r,N,F,h,m);this.hr=!0}if(this.Xj||this.hr){this.iI(r);this.hv();if(P)this.bs(F)}if(this.Xj&&this.DS)this.DS.wJ(r,F,h,e);
this.Xj=this.hr=!1;this.bd.focus()};z.o5.prototype.hv=function(){var r=this.XK.add.TySh,N=Math.min(this.R3,this.ZZ),F=Math.max(this.R3,this.ZZ),h,m;
if(N==F){var O=gQ.Xe(r.sl);if(N==0||O.charAt(N-1)=="\n")h=m=N;else h=m=N-1}else{h=N;m=F-1}var e=gQ.pz(r.sl,h,m);
gQ.wG(e,z.Q.zf(r.A));this.Op(this.caller,e,r)};z.o5.prototype.Op=function(r,N,F){this.ET(r,v.E.S,{V:v.c.nM,Xa:bC.Ni,Fj:N});
var h=this.LK=gQ.XI(F);this.ET(this.caller,v.E.S,{V:v.c.$P,s:this.id,i_:"changeAA",oC:h})};z.o5.prototype.wH=function(){var r=this.XK;
if(r&&!this.Xj&&this.MW!=null){this.MW.wJ(this._I,this.if,null,null);this.MW=null;this.z3(r.add.TySh);
this.iI(this._I)}};z.o5.prototype.disable=function(r,N,F,h){var m=this.XK;this.ot(r,N)};z.o5.prototype.qW=function(r,N,F,h,m){if(this.LG)return;
if(r.i_=="commit")this.ot(F,N);if(r.i_=="cancel")this.o8(F,N);if(r.i_=="changeAA"){this.LK=r.oC;if(F!=null)this.z1({V:"updateStyles"},N,F,h,m)}if(r.i_=="showwarp"){if(F==null)return;
if(this.XK==null){var O=F.g[F.w[0]],e=O.add.TySh;if(e==null)return;this.ZB(F,N,m,[F.w[0]]);this.bd.focus();
this.LG=!0}this.a0e=this.XK.add.TySh._u;var P=new gf(v.E.S,!0);P.data={V:v.c.pr,i7:"textwarp"};N.L(P)}};
z.o5.prototype.Qr=function(r,N){if(N!=bC.Jf)return;if(this.A1){this.A1=!1;var F=this._I,h=this.GJ;for(var R=0;
R<h.length;R++){this.XK=F.g[h[R]];this.iO(F,r)}this.ot(F,this.caller);return}if(this.XK)this.bs(r)};
z.o5.prototype.CU=function(r,N){var F=JSON.parse(JSON.stringify(r.Fj));gQ.wG(F,1/z.Q.zf(N.A));return F};
z.o5.prototype.uq=function(r,N){if(r._F!=null)this.zY(N,r.om);else this.JN(N,r.Yb,r.xF)};z.o5.prototype.UO=function(r,N){if(r._F!=null)this.zY(N,r._F);
else this.JN(N,r.du,r.Rj)};z.o5.prototype.zY=function(r,N){for(var R=0;R<N.length;R++){var F=N[R],h=F.Lz,m=r.g[h];
m.buffer=F.C2;m.rect=F.NQ.clone();m.M();var O=m.add.TySh;O._u=F.U5;O.A2=F.A2.clone();O.A=F.A.clone();
O.sl=JSON.parse(JSON.stringify(F.sl));m.kq()}r.M()};z.o5.prototype.M3=function(r,N){var F=[];for(var R=0;
R<N.length;R++){var h=N[R],m=r.g[h],O=m.add.TySh;F.push({Lz:h,A:O.A.clone(),U5:JSON.parse(JSON.stringify(O._u)),A2:O.A2.clone(),sl:JSON.parse(JSON.stringify(O.sl)),C2:m.buffer.slice(0),NQ:m.rect.clone()})}return F};
z.o5.prototype.JN=function(r,N,F){r.w=F;r.S0(N);r.M();r.kn=!0};z.o5.prototype.iO=function(r,N,F){if(F==null)F=!1;
var h=this.XK.add.TySh;if(!d0.wc(h,N.FN,this.caller))return!1;this.Fy=new ac(h.sl,N.FN);if(!F){var m=gQ.Xe(h.sl);
this.bd.value=m.slice(0,m.length-1)}var O=d0.nG(this.Fy,h);if(w.U5.n5(h._u))h.A2=new fE;else{if(gQ.d4(h.sl)==1){var e=gQ.Bf(h.sl),j_=O.A2.y;
h.A2=new fE(0,j_,e[2]-e[0],e[3]-e[1]-j_)}else{h.A2=O.A2}}var P=this.XK.rect;this.XK.rect=O.NQ;this.XK.buffer=O.iS;
this.XK.M();r.IY();r.M(r.root.U1(O.NQ.fD(P),r,r.g.indexOf(this.XK)));return!0};z.o5.prototype.qo=function(r,N){if(this.XK==null||this.LG)return;
var F=this.bd.selectionStart,h=this.XK.add.TySh,m=gQ.Xe(h.sl),O=this.bd.value+"\n",e=Math.min(this.R3,this.ZZ),P=Math.max(this.R3,this.ZZ),c=!1;
this.R3=Math.min(F,e);if(O.length-F<m.length-this.ZZ)this.ZZ=m.length-O.length+F;if(m!=O){while(this.R3>0&&m.charAt(this.R3-1)!=O.charAt(this.R3-1))this.R3--}var B=m.substring(0,this.R3),s=m.substring(this.ZZ,m.length),Y=O.substring(this.R3,O.length-s.length);
gQ.IP(h.sl,this.R3,this.ZZ);gQ.BY(h.sl,this.R3,Y);if(N!=null)gQ.a6q(h.sl,this.R3,N);var D=this.CU(this.if,h),o=-1,H=Array.from(Y);
for(var R=0;R<H.length;R++)o=Math.max(o,H[R].codePointAt(0));if(o!=-1&&o>128&&o!=65533&&D.AY.Font!=null){var x=D.f7[D.AY.Font].Name,Q=this.if.FN.$l(o,x,D.f7);
if(x!=Q){gQ.dV(D,Q);c=!0}}if(this.YX!=null&&Y==this.YX){var U=JSON.parse(this.aoj);D.AY=U.AY;D.f7=U.f7;
c=!0}gQ.sW(h.sl,this.R3,this.R3+Y.length-1,D);this.R3=this.ZZ=B.length+Y.length;var I=this._I,l=this.iO(I,this.if,!0);
if(l)this.iI(I,!0);if(c)this.hv()};z.o5.prototype.anN=function(r){if(!r.ctrlKey)this.wH()};z.o5.prototype.abz=function(r){if(this.XK==null||this.LG)return;
if(this.XK==null)return;if(this.MW==null&&r.ctrlKey){var N=this.XK.add.TySh,F=gQ.d4(N.sl),h;if(F==1){h=gQ.Bf(N.sl);
h=new fE(0,0,h[2]-h[0],h[3]-h[1])}else h=this.Fy.Z9();var m=[h.x,h.y,h.x+h.e,h.y,h.x+h.e,h.y+h.n,h.x,h.y+h.n];
w.p.A(m,N.A,m);this.MW=new az(m,!0,!0,!1,!1);this.aah=h;this.iI(this._I)}var O=bh,e=0,P=0,p=!1;if(O.A7(r.code,O.oH))e=1;
if(O.A7(r.code,O.ox))e=-1;if(O.A7(r.code,O._B))P=-1;if(O.A7(r.code,O.UM))P=1;var B=r.ctrlKey||r.metaKey,s=O.A7(r.code,bh.aj2),Y=O.A7(r.code,bh.ajn);
if(O.A7(r.code,bh.Ve)&&B){this.ot(this._I,this.caller);return}if(O.A7(r.code,bh.R_)){this.o8(this._I,this.caller);
return}if(O.A7(r.code,bh.QQ)){r.preventDefault();var D=this.bd,c=D.value,o=D.selectionStart,H=D.selectionEnd;
D.value=c.substring(0,o)+"\t"+c.substring(H);D.selectionStart=D.selectionEnd=o+1;this.qo(null);return}if((O.A7(r.code,O.VO)||O.A7(r.code,O.Vr))&&B){var x=this.R3,Q=this.ZZ;
if(x>Q){var U=x;x=Q;Q=U}var N=this.XK.add.TySh,I=gQ.Xe(N.sl);if(x!=Q){this.YX=I.slice(x,Q);this.aoj=JSON.stringify(this.if.Fj)}}var l=gQ.Xe(this.XK.add.TySh.sl);
if(e!=0||P!=0||s||Y){r.preventDefault();var j=this.R3;if(e!=0){if(B&&e==-1)j=this.H5(l,this.R3-1);else if(B&&e==1)j=this.Vj(l,this.R3);
else{var D=this.bd,c=D.value;j=this.R3+e;if(j!=0&&c.codePointAt(j-1)>65535)j+=e}}else if(P!=0){var T=this.Fy.k3(this.R3);
if(P==-1&&T.vX==0)j=0;else if(P==1&&T.vX==this.Fy.aoz()-1)j=99999999999;else j=this.Fy.auh(new gS(T.NQ.x+T.NQ.e/2,0),T.vX+P)}else if(s){var V=this.R3-1;
while(V>0&&l.charCodeAt(V)!=10)V--;j=V==0?0:V+1}else if(Y){var V=this.R3;while(V<l.length-1&&l.charCodeAt(V)!=10)V++;
j=V}j=Math.max(0,Math.min(l.length-1,j));if(r.shiftKey)this.R3=j;else this.R3=this.ZZ=j;p=!0}if(O.A7(r.code,bh.c)&&B){this.R3=0;
this.ZZ=l.length-1;p=!0}if(p){this.hv();this.iI(this._I)}};z.o5.ac3=function(r,N){var F=r.length;if(F!=N.length)return!1;
for(var R=0;R<F;R++)if(r[R].Lz!=N[R].Lz)return!1;return!0};z.o5.prototype.ot=function(r,N){if(this.XK==null)return;
this.XK.kq();var F=this.J1;if(F instanceof Array){var h=this.M3(r,this.GJ),m=r.xp();if(m!=null&&m.s==this&&m.data._F&&z.o5.ac3(m.data._F,F))m.data.om=h;
else{var O=new g2(this.name,this);O.data={_F:F,om:h};r.Zy(O)}}else{var O=new g2(this.name,this);O.data={du:F.du,Yb:F.Yb,Rj:F.Rj,xF:F.xF};
r.Zy(O)}this.escape(r,N)};z.o5.prototype.o8=function(r,N){if(this.XK==null)return;if(this.J1 instanceof Array){this.zY(r,this.J1);
if(this.XK)gQ.hy(this.XK.add.TySh)}else{r.w=this.J1.Rj;r.S0(this.J1.du)}r.M();this.escape(r,N)};z.o5.prototype.escape=function(r,N){this.wH();
this.XK=null;this.GJ=null;this.Fy=null;this.DS=null;this.bd.blur();r.d.W$=null;r.d.Uf=null;r.d.eJ=[];
r.mR=!0;this.Xj=!1;this.hr=!1;this.R3=this.ZZ=-1;this.ET(N,v.E.S,{V:v.c.$P,s:this.id,i_:"hideactive"});
if(this.lK){var F=new gf(v.E.S,!0);F.data={V:v.c.z4,s:this.lK};N.L(F);this.lK=null}};z.o5.prototype.ET=function(r,N,F,h){var m=new gf(N,!0);
m.data=F;if(h)m.s=h;r.L(m)};z.o5.prototype.d9=function(r){var N=this.XK.add.TySh,F=this.Fy,h=N.A.clone();
h.iL();var m=h.eS(r),O=gQ.Tm(N,F),e=w.U5.bM(N._u,O),P=w.DK.asG(e,m);if(P==null)P=new Float64Array(2);
m=new gS(O.x+P[0]*O.e,O.y+P[1]*O.n);if(F.BF){var B=F.BF.clone();B.iL();m=B.eS(m)}var s=F.auh(m);return s};
z.o5.prototype.iI=function(r,N){if(N==null)N=!1;var F=this.XK.add.TySh,h=gQ.d4(F.sl),m=this.Fy,O=m?gQ.Tm(F,m):null;
r.d.eJ=[];r.d.W$=null;r.d.Uf=null;var e=this.MW?this.MW:this.DS;if(e){e.TL(r,this.if,!w.U5.n5(F._u));
var P=F.A.clone();P.iL();if(m&&m.BF&&m.dn==1){var B=m.BF.clone();B.iL();P.concat(B)}w.p.A(r.d.eJ,P,r.d.eJ);
w.p.A(r.d.W$.t,P,r.d.W$.t);if(m&&m.BF==null&&m.ai7()){var s=O.e-20,Y=O.n+8;r.d.W$.t.push(s,Y,s+10,Y,s+5,Y-5,s+5,Y+5);
r.d.W$.C.push("M","L","M","L")}}else if(h==0)this.a8c(r,F,m);else r.d.W$={t:[],C:[]};var D=Math.min(this.R3,this.ZZ),c=Math.max(this.R3,this.ZZ);
if(!N){this.bd.selectionStart=D;this.bd.selectionEnd=c}if(m!=null){var o=function(e,p){var j=e.x,T=e.y+e.n,V=new hc;
V.translate(-j,-T);V.rotate(-p);V.translate(j,T);e.y+=e.n*.27;var l=w.p.fc(e);w.p.A(l.t,V,l.t);return l};
if(D==c){D=Math.max(D,0);var H=m.k3(D);if(H){var x=H.NQ,Q=this.if.Fj.AY.FontSize;if(Q!=null&&Q!=0){Q/=F.A.zf();
x.y+=x.n-Q;x.n=Q}var U=m.a6L(D);if(U!=null&&U.Xt==1)x.x+=x.e;var I=o(x,H.MJ).t;r.d.W$.C.push("M","L");
r.d.W$.t.push(I[0],I[1]-1,I[6],I[7]-1)}}else{r.d.Uf={t:[],C:[]};for(var R=D;R<c;R++){var H=m.k3(R),l=o(H.NQ,H.MJ);
w.p.concat(r.d.Uf,l)}}}r.d.W$=d0.iD(r.d.W$,F,m);r.d.Uf=d0.iD(r.d.Uf,F,m);r.d.eJ=d0.iD({t:r.d.eJ},F,m).t;
r.mR=!0};z.o5.prototype.a8c=function(r,N,F){if(F==null)return;r.d.eJ.push(0,0);if(r.d.W$==null)r.d.W$={C:[],t:[]};
for(var R=0;R<F.hS.length;R++){var h=F.hS[R];for(var m=0;m<h.NE.length;m++){var O=h.NE[m],e=h.pV.x+O.pV.x+O.NQ.x,P=h.pV.y+O.pV.y+O.NQ.y+O.NQ.n;
r.d.W$.C.push("M","L");r.d.W$.t.push(e,P,e+O.NQ.e,P)}}r.mR=!0};z.Dy=function(){z.o5.call(this,!0)};z.Dy.prototype=new z.o5;
z.mK=function(){z.Yi.call(this,[10,9],z.$k,"tools/lasso");this.tz="crosshair";this.wj=null;this.Yv=null;
this.K6=null};z.mK.prototype=new z.Yi;z.mK.prototype.DY=function(r,N,F,h){this.wj=this.Al;this.Yv={t:[this.wj.x,this.wj.y],C:["M"]}};
z.mK.prototype.VQ=function(r,N,F,h){this.K6=h;var m=this.Yv;if(m==null)return;if(!h.Tb){if(this.Yv!=null&&this.BT>1&&F.j(bh.sV)){m.t.pop();
m.t.pop();m.t.push(this.nO.x,this.nO.y);r.d.W$=m;r.mR=!0}return}m.C.push("L");m.t.push(this.nO.x,this.nO.y);
this.wj=this.nO;if(this.d$){r.d.W$=m;r.mR=!0}};z.mK.prototype.N7=function(){return this.Yv!=null};z.mK.prototype.Yj=function(){return this.Yv!=null};
z.mK.prototype.BD=function(r,N,F,h){z.Yi.prototype.BD.call(this,r,N,F,h);if(this.Yv&&this.BT>1&&this.K6&&!this.K6.Tb&&!h.j(bh.sV))this.ew(r,F,h)};
z.mK.prototype.gm=function(r,N,F,h){this.K6=h;var m=this.Yv;if(m==null)return;if(this.BT>1&&F.j(bh.sV)){m.C.push("L");
m.t.push(this.nO.x,this.nO.y);return}this.ew(r,N,F)};z.mK.prototype.ew=function(r,N,F){this.finish(r,N,F,this.K6);
this.Yv=null;r.d.W$=null;r.mR=!0};z.mK.prototype.getSelection=function(r,N,F,h){if(this.Al.cj(this.nO)||!this.d$)return null;
return z.Yi.Se(this.Yv.t,null,this.Jd.anta)};z.FZ=function(){z.bE.call(this,[10,11],z.FS,"tools/move");
this.nu=new gS(0,0);this.AP=new gS(0,0);this.D6=null;this.ag=null;this.tq=new gS(0,0);this.P8=null;this.bX=null;
this.dI=null;this.Fi=0;this.js=null;this.cp=[];this.gb=null;this.CC=null;this.h9=!1;this.V=0;this.ne=null;
this.mP=null;this.rL=null;this.D7=!1;this.Jd={_P:!1,rY:!1,Cx:!1};this.aiU=!1;this.ala=!1;this.DS=null;
this.nX=null;this.a87=null;var r=[];for(var R=0;R<w.Lt.mh.length;R++)r.push({name:w.Lt.mh[R],I:function(N,F,h){return{Vs:F.ec.W3==h}}});
this.KI=new f8(r);this.KI.U("select",this.R1,this)};z.FZ.prototype=new z.bE;z.bE.prototype.rm=function(r){return this.h9&&this.V!=2};
z.FZ.prototype.He=function(){return this.h9&&(this.V==0||this.V==1)};z.FZ.prototype.Fg=function(r,N,F,h){this.tJ(r,-this.tq.x,-this.tq.y);
this.tq.YR(0,0);this.Nd(r,null,F);this.nb(r)};z.FZ.prototype.vK=function(){var r=this.Jd;return[r._P?1:0,r.rY?1:0,r.Cx?1:0]};
z.FZ.prototype.aO=function(r,N,F){var h=this.Jd;if(r&&r[0]!=null)h._P=r[0]==1;if(r&&r[1]!=null)h.rY=r[1]==1;
if(r&&r[2]!=null)h.Cx=r[2]==1;var m=new gf(v.E.S,!0);m.data={V:v.c.$P,s:this.id,fJ:h,a6I:N};F.L(m)};
z.FZ.KJ=function(r,N,F,h,m,O,e){if(e==null)e=[!1,!0];var P=r.Js(null,m,!0),B,s;if(r.add.artd&&r.w.length==1&&r.g[r.w[0]].add.artb){var Y=r.g[r.w[0]].CN();
B=r.$a(P,Y,Y)[0]}else{var D=new fE(0,0,r.e,r.n),B=r.$a(P,e[0]?D:null,e[1]?null:D)[0],s=B.add.artd;if(s){for(var R=0;
R<B.g.length;R++)delete B.g[R].add.artb;delete B.add.artd}if(e[1]){var c=w.Lw(B.G9(),new fE(0,0,B.e,B.n),2);
z.Q6.Wb(B,c)}}if(F!=1){var o=new fE(0,0,Math.round(B.e*F),Math.round(B.n*F));z.Q6.Wb(B,o);var H=[];for(var R=0;
R<B.g.length;R++)H.push(R);var x=z.Q.mE(B,H,!0);z.Q6.Q9(B,new hc(F,0,0,F,0,0));z.Q.QC(B,h,H,x,1,w.N.dj(new hc(F,0,0,F,0,0)),null,!0);
B.t7()}else if(s){B.M();B.t7()}var Q=[];for(var R=0;R<N.length;R++)if(B.e*B.n!=0)Q.push(bA.__(B,N[R].toUpperCase(),null,null,O?O[R]:null,h));
return Q};z.FZ.prototype.NP=function(r,N,F,h,m){if(r==null||r.w.length==0)return;var O=z.FZ.KJ(r,[N],F,h,null)[0],e=new gf(v.E.S,!0);
e.data={V:v.c.y$,data:O,name:r.g[r.w[0]].getName()+(F==1?"":"@"+F+"x")+"."+N};m.L(e)};z.FZ.prototype.qW=function(r,N,F,h,m){if(r.bT=="getPNG"){this.NP(F,"png",r.jy,m,N)}else if(r.bT=="getSVG"){this.NP(F,"svg",r.jy,m,N)}if(r.bT=="prms"){this.Jd=r;
this.nb(F)}};z.FZ.abP=function(r){var j_=r.length,F=0;r.sort(function(O,e){return O[0]+O[1]/2-(e[0]+e[1]/2)});
var N=r[j_-1][0]+r[j_-1][1]-r[0][0];for(var R=0;R<j_;R++)F+=r[R][1];var h=Math.round((N-F)/(j_-1)),m=r[0][0];
for(var R=0;R<j_;R++){r[R][0]=m;m+=r[R][1]+h}};z.FZ.prototype.z1=function(r,N,F,h,m){var O=r.V;if(O=="trsl"){var e=Math.round(r.SV),P=Math.round(r._Q);
this.tq.YR(e,P);this.Sw(F,N,h,m,!1,r.a);this.tJ(F,e,P);this.Nd(F,null,m)}else if(O=="fcmy"){var O=new g2(["RGB","CMYK"][r.h]+" Color",this);
O.data={V:r.V,Q5:F.add.fcmy==null?0:F.add.fcmy,oC:r.h};F.Zy(O);this.uq(O.data,F)}else if(O=="lockguides"){if(F)F.yr=!F.yr}else if(O=="gids"||O=="gidsFromLayer"){var B=r.mP,s,Y;
if(B==null)B=F.jS();if(O=="gids"){s=r.xj;var D=B[0].length,c=s[0].length;Y=D==c?[23,2]:D>c?[23,3]:[23,4];
if(c==0)Y=[11,15,0]}else if(O=="gidsFromLayer"){var o=[],H=[],x=F.W2();for(var R=0;R<F.w.length;R++){var Q=F.g[F.w[R]].rect;
if(Q.lX())continue;o.push([0,Q.x],[1,Q.y],[0,Q.x+Q.e],[1,Q.y+Q.n]);H.push(x,x,x,x)}Y=[11,15,1];s=F.jS();
z.FZ.ND(s,[o,H])}if(JSON.stringify(B)==JSON.stringify(s))return;var O=new g2(Y,this);O.data={V:2,mP:B,xj:s};
F.Zy(O);this.uq(O.data,F)}else if(O=="algn"){var U=r.h;if(F==null)return;if(F.w.length<2&&!(F.$!=null&&U!=3&&U!=7)){alert(ab.get([15,7,5]));
return}var I=F.$;F.$=null;var Q=I?I.rect:z.Q.Tm(F);this.Sw(F,N,h,m,!1);if(!this.h9)return;var l=this.js,p={},j=[],T=[],V=[];
for(var R=0;R<l.length;R++){var E=l[R];while(F.g[E].getName()=="</Layer group>")E++;var _=F.root.Jr(E),f=_;
while(_.parent!=null){_=_.parent;if(l.indexOf(_.index)!=-1)f=_}var S=T.indexOf(f.index);if(S==-1){S=T.length;
T.push(f.index)}j[R]=S}var L=[],y=[],$=[];for(var R=0;R<T.length;R++){var Z=z.Q.Tm(F,F.Js(!0,T[R]));
$.push(Z);var i=U==3?[Z.y,Z.n]:[Z.x,Z.e];L[R]=i;y.push(i)}z.FZ.abP(y);for(var R=0;R<T.length;R++){var Z=$[R],b=Z.x,G=Z.y;
if(U==0)b=Q.x;if(U==1)b=Q.x+(Q.e-Z.e)/2;if(U==2)b=Q.x+(Q.e-Z.e);if(U==3)G=L[R][0];if(U==4)G=Q.y;if(U==5)G=Q.y+(Q.n-Z.n)/2;
if(U==6)G=Q.y+(Q.n-Z.n);if(U==7)b=L[R][0];V.push(Math.round(b-Z.x),Math.round(G-Z.y))}var g=[];for(var R=0;
R<l.length;R++){var u=j[R];g[2*R]=V[2*u];g[2*R+1]=V[2*u+1]}this.tJ(F,0,0,null,g);var A=U==3||U==7?[20,4,6]:[20,4,U<3?U:U-1];
this.Nd(F,null,m,g,A);F.$=I}else if(O=="disabAuto"){this.aO([!1],null,N)}};z.FZ.ND=function(r,N){for(var R=0;
R<N[0].length;R++){var F=N[0][R],h=N[1][R],m=!1;for(var O=0;O<r[0].length;O++){var e=r[0][O],P=r[1][O];
if(F[0]==e[0]&&F[1]==e[1]&&h==P)m=!0}if(!m){r[0].push(F.slice(0));r[1].push(h)}}};z.FZ.prototype.enable=function(r,N,F,h,m){this.bX=F;
this.dI=N;this.D7=m?!0:!1;this.nb(r);this.LN("default",N)};z.FZ.prototype.disable=function(r,N,F,h){this.By(r)};
z.FZ.prototype.By=function(r){if(r==null)return;if(this.DS){this.DS.clear(r);this.DS=null}if(r.d.Cx){r.d.Cx=null;
r.mR=!0}if(r.d.Dk){r.d.Dk=null;r.mR=!0}if(r.d.yZ[this.id]){delete r.d.yZ[this.id];r.mR=!0}if(r.d.Ul.length!=0){r.d.Ul=[];
r.mR=!0}};z.FZ.prototype._r=function(r,N,F,h){if(F.px!=this.id)return;this.nb(r)};z.FZ.prototype.nb=function(r,N){if(r==null)return;
var F=this.Jd;this.By(r);if(!this.D7){var h;if(F.rY||F.Cx)h=w.p.Bj(z.Q.Tm(r));if(F.rY&&!h.lX()){this.DS=new az([h.x,h.y,h.x+h.e,h.y,h.x+h.e,h.y+h.n,h.x,h.y+h.n],!0);
this.DS.TL(r,this.bX)}if(F.Cx){var m=null,Y=null,D=!1;if(r.W2()!=-1)m=r.g[r.W2()].CN();else m=new fE(0,0,r.e,r.n);
r.d.Cx={MC:[h],LY:[]};var O=r.d.Cx.LY,e=h.x+h.e,P=h.y+h.n,B=h.x+Math.floor(h.e/2),s=h.y+Math.floor(h.n/2);
if(N){var c=r.root.Bp(new gS(Math.floor(N.x),Math.floor(N.y)));if(c){Y=w.p.Bj(c.a.R5(r));if(Y.PC(h)){D=(Y.w9(h)||h.w9(Y))&&!h.cj(Y);
if(!D)Y=null}}}this.VH(h,O);if(Y!=null){r.d.Cx.MC.push(Y);var o=Y.x+Y.e,H=Y.y+Y.n,x=Y.x+Math.floor(Y.e/2),Q=Y.y+Math.floor(Y.n/2);
if(D){var U=B,I=s;if(h.w9(Y)){U=x;I=Q}O.push(h.x,I,Y.x,I);O.push(e,I,o,I);O.push(U,h.y,U,Y.y);O.push(U,P,U,H)}else{this.VH(Y,O);
var l=P<Y.y||H<h.y,p=e<Y.x||o<h.x;if(e<Y.x)O.push(e,s,Y.x,s);if(o<h.x)O.push(o,s,h.x,s);if(P<Y.y)O.push(B,P,B,Y.y);
if(H<h.y)O.push(B,H,B,h.y);if(l&&!p){if(h.x<Y.x)O.push(h.x,Q,Y.x,Q);if(Y.x<h.x)O.push(Y.x,s,h.x,s)}}}else{if(h.y>m.y)O.push(B,m.y,B,h.y);
if(P<m.y+m.n)O.push(B,P,B,m.y+m.n);if(h.x>m.x)O.push(m.x,s,h.x,s);if(e<m.x+m.e)O.push(e,s,m.x+m.e,s)}r.mR=!0}}if(this.V==2&&this.h9){var j=new fE(0,0,r.e,r.n),T=r.W2();
if(T!=-1){var V=r.jS(),E=V[1][this.js];if(E==-1)E=T;j=r.g[E].CN()}var _=r.a_[this.js],f=_[0],S=(f==0?"X":"Y")+": "+w.Lt.Ip(_[1]-(f==0?j.x:j.y),r.EP,this.bX,f==0?j.e:j.n,!0);
z.bE.Mp(Math.round(this.D6.x)+10,Math.round(this.D6.y)-10,[S],r);r.mR=!0}if(this.V==3&&this.h9){var L=w.p.fc(this.ne);
r.d.yZ[this.id]={W$:L};r.mR=!0}};z.FZ.prototype.VH=function(r,N){var F=r.e,h=r.n,m=r.x+Math.floor(F*.2),O=r.y+Math.floor(h*.2);
N.push(m,r.y,m,r.y+h);N.push(r.x,O,r.x+F,O)};z.FZ.prototype.LN=function(r,N){var F={V:v.c.oQ,eT:r},h=new gf(v.E.S,!0);
h.data=F;N.L(h)};z.FZ.prototype.Nu=function(r){var N=this.nX.cW()[0],F=this.P8,h=this.a87[N];this.Rm(F,h)};
z.FZ.prototype.R1=function(r){var N=JSON.parse(JSON.stringify(this.bX.ec));N.W3=this.KI.cW()[0];var F=new gf(v.E.S,!0);
F.data={V:v.c.nM,Xa:bC.X3,oC:N};this.dI.L(F)};z.FZ.prototype.TK=function(r,N,F,h,m){if(this.h9)this.wJ(r,N,F,h,m);
this.P8=r;this.bX=F;this.dI=N;var O=r.q.RX(m.x,m.y),e;if(z.FZ.aA(F,m,r.q)){e=this.KI}else{if(this.nX)this.nX.removeEventListener("select",this.Nu);
var P=[];r.root.Bp(O,P);if(P.length==0)return;var B=[];this.a87=P;for(var R=0;R<P.length;R++)B.push({name:r.g[P[R]].getName()});
e=this.nX=new f8(B);e.U("select",this.Nu,this)}e.parent=N;e.f();e.update(r,F);var s=new gf(v.E.S,!0);
s.data={V:v.c.hN,f3:e,x:m.Yk+2,y:m.it+1};N.L(s)};z.FZ.prototype.Gu=function(r,N,F,h,m){var O=z.FZ.h3(r,m);
return O!=-1||z.FZ.aA(F,m,r.q)};z.FZ.h3=function(r,N){if(r==null||r.add.artd==null)return-1;var F=r.q.RX(N.x,N.y),h=12*z.G()/r.q.O;
for(var R=0;R<r.g.length;R++){var m=r.g[R];if(!m.gv()||m.add.artb==null)continue;var O=m.CN(),e=new fE(O.x,O.y-1.7*h,h*m.getName().length*.5,h);
if(e.Ev(F))return R}return-1};z.FZ.prototype.vV=function(r,N,F,h,m){var O=z.FZ.h3(r,m),e=z.FZ.jI(r,r.q.RX(m.x,m.y));
if(O!=-1){r.w=[O];if(F.px==z.FS){var P=new gf(v.E.S);P.data={V:v.c.z4,s:z.Pl};N.L(P)}return}if(e!=-1){r.q.CH=e;
r.Pj=!0;var P=new gf(v.E.S,!0);P.data={V:v.c.M6,i7:gt.A4.amH};N.L(P);return}this.D6=m;this.nu.YR(m.x,m.y);
this.AP=r.q.RX(m.x,m.y);this.ag=new hE(this.AP);this.Sw(r,N,h,F,!0)};z.FZ.aA=function(r,N,F,h){var m=w.Lt.Qk,O=F.Yg.n;
return r.r0&&(0<N.x&&N.x<m||0<N.y&&N.y<m||h&&0<N.x&&N.x<4*m&&O-m<N.y&&N.y<O)};z.FZ.prototype.Sw=function(r,N,F,h,m,O){var e,P=this.AP,B=!1;
if(m){var s=h.Xw&&h.ec.a_;if(z.FZ.aA(h,this.nu,r.q)){e=r.jS();var Y=r.jS(),D=null;if(this.nu.x<w.Lt.Qk){D=[0,P.x]}if(this.nu.y<w.Lt.Qk){D=[1,P.y]}Y[0].push(D);
Y[1].push(r.W2());r.O4(Y);if(!s){var c=new gf(v.E.S);if(!h.ec.a_){c.data={V:v.c.nM,Xa:bC._x};N.L(c)}if(!h.Xw){c.data={V:v.c.nM,Xa:bC.PT};
N.L(c)}s=!0}}var o=this.jD(r,P);if(s&&o!=null&&!r.yr){this.V=2;this.mP=e?e:r.jS();this.js=o;this.h9=!0;
this.CC=z.Q.Tm(r);return}if(r.I2.length!=0){this.V=4;this.CC=r.O0[r.I2[0]].rect.clone();this.h9=!0;return}if(this.DS&&this.DS.d3(P,r.q.O,!0,this.D6)!=null){var c=new gf(v.E.S);
c.data={V:v.c.z4,s:z.cP,a5r:!0};N.L(c);return}if(r.$&&r.$.rect.Ev(P)){var H=Math.round(P.x),x=Math.round(P.y),Q=r.$.rect;
B=r.$.channel[(x-Q.y)*Q.e+H-Q.x]>128}if(!B&&(!this.D7&&this.Jd._P||this.D7&&this.Jd._P&&(F.j(bh.wQ)||r.w.length<2))){var U=this.ahH(r,P,F);
if(!U){r.w=[];r.OW=null;r.kn=r.Je=!0;this.V=3;this.ne=new fE;this.h9=!0;return}}if(F.j(bh.sV)&&!B){var I=new gf(v.E.u);
I.s=z.j7;I.data={V:C.y7,a6V:!0};N.L(I)}}if(r.I2.length!=0){this.V=4;this.CC=r.O0[r.I2[0]].rect.clone();
this.h9=!0;return}this.js=r.Js(O==null,O,null,!0);for(var R=0;R<this.js.length;R++){var l=this.js[R],p=r.g[l];
if(p.gT(2)||p.gT(31)||r.cQ(l)){alert(ab.get([6,57,0]));return}}if(r.add.artd&&m){var j=this.js,T=!1;
for(var R=0;R<j.length;R++)if(r.g[j[R]].add.artb)T=!0;if(!T){this.gb=[r,r.g.slice(0),r.w.slice(0),-1];
this.js.sort(function($,Z){return $-Z})}}this.cp=z.FZ.a2m(r,this.js);this.V=0;if(r.$&&(!m||B)&&r.w.length==1&&r.VT(!1)){if(!r.ah3()){this.h9=!1;
return}var V=r.g[r.w[0]],E=F.j(bh.sV);this.V=1;var _=r.history[r.oG];if(_.s==this&&_.data.V==1&&_.data.a==r.w[0]&&V.Ku==V._f.Ku&&!E){this.rL=_}else{var f=V._f,S=!1,L;
if(!V.Bi(r,r.$)||E){S=!0;V.Nj(r,r.$,E)}if(V._f.Ku<=0){L=w.B(V._f.VX.length>>2);w.Pw(V._f.VX,L,3)}else L=r.$.channel.slice(0);
var y={rect:V._f.xm.clone(),channel:L};this.rL=new g2(E?[12,53]:[12,54],this);this.rL.data={V:1,a:r.w[0],_f:V._f,kN:f,JJ:S,Rj:r.$,xF:y,Bv:new gS(0,0)};
r.Zy(this.rL);r.$=y;r._a=!0}}this.h9=!0;this.CC=z.Q.Tm(r)};z.FZ.prototype.ahH=function(r,N,F){var h=r.root.Bp(new gS(Math.floor(N.x),Math.floor(N.y)));
if(h){if(h.a.add.vmsk)r.mR=!0;var m=r.g.indexOf(h.a);if(F.j(bh.wQ)){var O=r.w.indexOf(m);if(O==-1)r.w.push(m);
else if(r.w.length>1)r.w.splice(O,1)}else if(r.w.indexOf(m)==-1){this.Rm(r,m)}}return h!=null};z.FZ.prototype.Rm=function(r,N){r.g[N].Ku=0;
r.w=[N];r.OW=null;r.xA();r.Ls=!0;r.kn=!0};z.FZ.jI=function(r,N){var F=r.add.Anno;if(F==null||F.length==0)return-1;
var h=30/r.q.O;for(var R=0;R<F.length;R++)if(new fE(F[R][0],F[R][1],h,h).Ev(N))return R;return-1};z.FZ.prototype.Ui=function(r,N,F,h,m){this.D6=m;
var O=r.q.RX(m.x,m.y),o,H;if(this.ag&&this.V<2)O=this.ag.pe(O,h);if(!this.h9){if(F.Xw&&F.ec.a_&&r&&!r.yr){var e=this.jD(r,O),P="default",B=z.FZ.h3(r,m);
if(e!=null)P=["col-resize","row-resize"][r.a_[e][0]];else if(this.DS){var s=this.DS.d3(O,r.q.O,null,m);
if(s)P=s}else if(B!=-1||z.FZ.jI(r,O)!=-1){P="pointer"}this.LN(P,N)}this.nb(r,O);return}var Y=this.AP,D=Math.round(O.x-Y.x)-this.tq.x,c=Math.round(O.y-Y.y)-this.tq.y;
if(this.CC){if(this.V==2){var x=[];if(r.$)x.push(r.$.rect);if(this.CC)x.push(this.CC);if(r.q.g1)x.push(r.q.g1);
O=z.FZ.fx(r,O,F,[!1,x,!0])}else{H=this.CC.clone();H.offset(this.tq.x+D,this.tq.y+c);o=z.FZ.$c(r,H,F);
D+=Math.round(o[0]);c+=Math.round(o[1])}}this.tq.x+=D;this.tq.y+=c;var Q=this.gb;if(Q&&r==Q[0]){r.S0(Q[1]);
r.w=Q[2].slice(0);Q[3]=-1}this.tJ(r,D,c,O,null,h.j(bh.wQ));if(Q&&r==Q[0]){var U=this.CC.clone();U.offset(this.tq.x,this.tq.y);
var I=O,B=r.W2(),l=-1;for(var R=0;R<r.g.length;R++){var p=r.g[R];if(!p.gv()||p.add.artb==null)continue;
var j=p.CN();if(j.Ev(I))l=R}if(l!=-1&&l!=B){var T=z.l6.Zd(r,this.js,l,!0,null,!1);r.S0(T[0]);r.w=T[1];
Q[3]=l}}this.nb(r,O);if(o)z.FZ.ri(r,H,o)};z.FZ.prototype.jD=function(r,N){var F=z.BH(r,this.D6);N=[N.x,N.y];
var h=r.jS(),m=r.W2();for(var R=0;R<h[0].length;R++){var O=h[0][R],e=h[1][R];if(e!=-1&&e!=m)continue;
if(Math.abs(O[1]-N[O[0]])<F)return R}return null};z.FZ.prototype.tJ=function(r,N,F,h,m,O){if(this.V==0){if(m)z.FZ.w3(r,this.js,this.cp,m);
else z.FZ.bt(r,this.js,this.cp,N,F)}else if(this.V==1){var e=this.rL.data;e.Bv.offset(N,F);z.FZ.o$(r,e.a,N,F)}else if(this.V==2){var P=1e-5;
if(O)P=r.q.O<=1?10:1;else if(r.q.O<=1)P=1;var B=P*Math.round(h.x/P),s=P*Math.round(h.y/P),Y=[B,s],D=r.a_[this.js];
D[1]=Y[D[0]]}else if(this.V==3){var c=this.AP,o=w.p.e0([c.x,c.y,h.x,h.y]);this.ne=o;var H=[];r.root.agi(o,H);
if(JSON.stringify(r.w)!=JSON.stringify(H)){r.w=H;r.kn=r.Je=!0}}else if(this.V==4){for(var R=0;R<r.I2.length;
R++)r.O0[r.I2[R]].rect.offset(N,F);r.mR=!0}};z.FZ.o$=function(r,N,F,h){var m=r.g[N];r.$.rect.offset(F,h);
m.zT(r,F,h,r.$);r._a=!0;r.M()};z.FZ.prototype.wJ=function(r,N,F,h,m,O){this.Nd(r,m,F);this.nb(r);if(Date.now()-this.Fi<300&&!O){var e=z.o5.ZA(r,r.q.RX(m.x,m.y));
if(z.FZ.aA(F,m,r.q,!0)){var P=new gf(v.E.S);if(m.y>r.q.Yg.n-20){P.data={V:v.c.pr,i7:"doczoom",Q5:r.q.O*100,vj:{T:v.E.u,s:z.x0,R:{V:"pzoom"}}}}else{P.data={V:v.c.pr,i7:"preferences"}}N.L(P)}else if(e>=0){var B=new gf(v.E.u,!0);
B.s=z.tI;B.data={V:"editCurr",b1:e};N.L(B)}}this.Fi=Date.now();z.Q6.jJ(r)};z.FZ.prototype.Nd=function(r,N,F,h,m){if(!this.h9)return;
this.h9=!1;if(this.V==0){if(h){this.yz(r,null,h,m)}else{if(this.tq.x==0&&this.tq.y==0)return;this.yz(r,this.tq.clone())}r.Pj=!0}else if(this.V==2){var O=0;
N=[N.x,N.y];var e=this.js,P=r.a_[e],ed=this.mP[0].length,B=r.a_.length;if(F.r0&&N[P[0]]<w.Lt.Qk){var s=r.jS();
s[0].splice(e,1);s[1].splice(e,1);r.O4(s);O=1;if(ed==B-1)return}if(ed<B)O=2;var Y=new g2([[23,2],[23,3],[23,4]][O],this);
Y.data={V:2,mP:this.mP,xj:r.jS()};r.Zy(Y)}else if(this.V==4){var Y=new g2([12,54],this);Y.data={V:4,w:r.I2.slice(0),r:this.tq.clone()};
r.Zy(Y)}this.tq.YR(0,0)};z.FZ.prototype.BD=function(r,N,F,h){var m=h.S5();if(r!=null&&(m.x!=0||m.y!=0)){if(h.j(bh.sV)&&r.$==null){var O=new gf(v.E.u);
O.s=z.j7;O.data={V:C.y7,a6V:!0};N.L(O)}this.tq.YR(m.x,m.y);this.Sw(r,N,h,F,!1);if(!this.h9)return;this.tJ(r,m.x,m.y);
this.Nd(r,null,F);this.nb(r)}var e=h.j(bh.hg);if(!this.D7&&this.ala!=e){if(e){this.aiU=this.Jd._P;this.Jd._P=!0}else{this.Jd._P=this.aiU}this.ala=e;
var P=new gf(v.E.S,!0);P.data={V:v.c.$P,s:this.id,fJ:this.Jd};N.L(P)}};z.FZ.prototype.UO=function(r,N){if(r.V==0){var F=r.Jj;
if(F){N.S0(F.du);N.w=F.e7.slice(0);N.M();N.kn=!0}z.FZ.w3(N,r.w,r.QV,r.gr,!0);z.Q6.jJ(N)}else if(r.V=="fcmy"){if(r.Q5==0)delete N.add.fcmy;
else N.add.fcmy=r.Q5;N.mR=!0}else if(r.V==2){N.O4(r.mP);N.mR=!0}else if(r.V==4){for(var R=0;R<r.w.length;
R++)N.O0[r.w[R]].rect.offset(-r.r.x,-r.r.y);N.mR=!0}else{var h=N.g[r.a];if(r.JJ){h.Bq(N,r.kN);N.$=r.Rj;
N._a=!0;N.M();h.M()}else{z.FZ.o$(N,r.a,-r.Bv.x,-r.Bv.y)}}};z.FZ.prototype.uq=function(r,N){if(r.V==0){z.FZ.w3(N,r.w,r.QV,r.gr);
var F=r.Jj;if(F){N.S0(F.Yb);N.w=F.c8.slice(0);N.M();N.kn=!0}z.Q6.jJ(N)}else if(r.V=="fcmy"){if(r.oC==0)delete N.add.fcmy;
else N.add.fcmy=r.oC;N.mR=!0}else if(r.V==2){N.O4(r.xj);N.mR=!0}else if(r.V==4){for(var R=0;R<r.w.length;
R++)N.O0[r.w[R]].rect.offset(r.r.x,r.r.y);N.mR=!0}else{var h=N.g[r.a];if(r.JJ){h._f=r._f;N.$=r.xF;z.FZ.o$(N,r.a,0,0);
h.M()}else{z.FZ.o$(N,r.a,r.Bv.x,r.Bv.y)}}};z.FZ.prototype.yz=function(r,N,F,h){if(F){var m=!0;for(var R=0;
R<F.length;R++)if(F[R]!=0)m=!1;if(m)return}var O=r.history[r.oG],e=this.gb,P=e!=null&&e[3]!=-1&&e[0]==r;
if(!P&&F==null&&O.data&&O.s==this&&O.data.V==0&&JSON.stringify(O.data.w)==JSON.stringify(this.js)&&JSON.stringify(O.data.QV)==JSON.stringify(this.cp)){var B=O.data.gr,s=O.data.a5b.Tf.T.v;
s.Hrzn.v.val+=N.x;s.Vrtc.v.val+=N.y;for(var R=0;R<B.length;R+=2){B[R]+=N.x;B[R+1]+=N.y}}else{if(N==null)N=new gS(F[0],F[1]);
var Y={Ja:"move",Tf:{classID:"null",null:fq.IT("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:N.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:N.y}}}}}},D=null;
if(P)D={du:e[1],e7:e[2],Yb:r.g.slice(0),c8:r.w.slice(0)};this.gb=null;var c=new g2(h?h:[12,54],this);
if(F)c.data={V:0,w:this.js,QV:this.cp,Jj:D,gr:F};else c.data={V:0,w:this.js,QV:this.cp,Jj:D,gr:z.FZ.MD(this.js,N.x,N.y)};
c.data.a5b=Y;r.Zy(c);this.track(Y)}};z.FZ.MD=function(r,N,F){var h=[];for(var R=0;R<r.length;R++)h.push(N,F);
return h};z.FZ.bt=function(r,N,F,h,m){z.FZ.w3(r,N,F,z.FZ.MD(N,h,m))};z.FZ.w3=function(r,N,F,h,m){if(N.length==0)return;
if(F==null){F=[];for(var R=0;R<N.length;R++){F.push(r.g[N[R]].P$(r,!0))}}var O=new fE,e=new fE(0,0,r.e,r.n);
for(var R=0;R<N.length;R++){var P=h[2*R],B=h[2*R+1];if(m){P=-P;B=-B}var s=r.g[N[R]],Y=F[R];if(s.add.fxrp&&(Y.indexOf(0)!=-1||s.t8()))s.add.fxrp.offset(P,B);
for(var D=0;D<Y.length;D++){var c=Y[D];if(c==0){s.rect.offset(P,B);if(s.Ru()&&s.xg(r))s.xg(r).rect.offset(P,B);
if(s.add.artb){var o=s.CN();o.offset(P,B);s.xz(o);var H=s.add.artb.guideIndeces;H=H?H.v:[];for(var x=0;
x<H.length;x++){var Q=r.a_[H[x].v];Q[1]+=Q[0]==0?P:B}}if(s.add.TySh){s.add.TySh.A.translate(P,B);if(s.add.TySh.add){s.add.TySh.add.vmsk.offset(P,B)}}if(s.add.SoLd){var U=new hc(1,0,0,1,P,B),I=s.add.SoLd,l=z.Q.N3(I.Trnf),p=z.Q.N3(I.nonAffineTransform);
w.p.A(l,U,l);w.p.A(p,U,p);I.Trnf=z.Q.JE(l);I.nonAffineTransform=z.Q.JE(p);z.Q.Zo(I,U)}}if(c==1)s.$n().rect.offset(P,B);
if(c==2){s.add.vmsk.offset(P,B);if(s.add.vogk)w.UI.A(s.add.vogk,[1,0,P,0,1,B,0,0],[])}if(c==3){s.xg(r).v.rect.offset(P,B);
if(Y.length==1)s.M()}}if(Y.length>0){var j=s.add.GdFl;if(j==null)j=s.add.PtFl;if(s.t8()&&!s.N1()&&s.add.vmsk!=null&&w.H.b3(s.add.vmsk.Y)&&s.add.vmsk.NV==255&&(j==null||j.Algn&&j.Algn.v)){s.rect.offset(P,B)}else s.dD(r);
var T=r.root.U1(s.R5(r),r,N[R]);if(s.add.artb)T=T.fD(s.CN());O=O.fD(T);T.offset(-P,-B);O=O.fD(T);if(s.aF()&&s.v&&s.v.color==255)O=O.fD(e);
s.agc()}}r.M(w.p.Bj(O))};z.FZ.a2m=function(r,N){var F=[];for(var R=0;R<N.length;R++){var h=r.g[N[R]];
F.push(h.P$(r))}return F};z.FZ.ri=function(r,N,F){var h=r.d.Dk={t:[],C:[]},m=N.x+F[0],O=N.y+F[1];if(F[2]!=1e9){h.C.push("M","L");
h.t.push(F[2],O,F[2],O+N.n)}if(F[3]!=1e9){h.C.push("M","L");h.t.push(m,F[3],m+N.e,F[3])}r.mR=!0};z.FZ.fx=function(r,N,F,h){var m=z.FZ.c5(r,[[N.x],[N.y]],F,h);
return new gS(N.x+m[0],N.y+m[1])};z.FZ.$c=function(r,N,F,h,m){var O=m==!0?1:.5,e=z.FZ.c5(r,[[N.x,N.x+Math.round(N.e*O),N.x+N.e],[N.y,N.y+Math.round(N.n*O),N.y+N.n]],F,h);
return e};z.FZ.c5=function(r,N,F,h){if(h==null)h=[!0,null,!0];var m=[0,0,1e9,1e9];if(!F.zD)return m;
var O=JSON.parse(JSON.stringify(N));for(var e=0;e<2;e++){var P=1e9,B=N[e],s=0;for(var Y=0;Y<B.length;
Y++){var D=z.FZ.atN(r,B[Y],O[1-e][Y],e,F,h);if(D!=1e9)O[e][Y]=D;if(D!=1e9&&Math.abs(D-B[Y])<Math.abs(P)){P=D-B[Y];
s=D}}if(P!=1e9){m[e]=P;m[e+2]=s}}return m};z.FZ.atN=function(r,N,F,h,m,O){var e=1e9,P=m.PZ,B=m.ec,s=[r.root];
while(s.length!=0&&P[2]){var Y=s.pop(),D=Y.a,c=D.rect;if(!D.gv())continue;if(Y.children)for(var R=0;
R<Y.children.length;R++)s.push(Y.children[R]);if(r.w.indexOf(Y.index)!=-1||c.lX())continue;if(h==0){var o=c.e,H=o>>>1;
if(Math.abs(c.x-N)<Math.abs(e-N))e=c.x;if(Math.abs(c.x+H-N)<Math.abs(e-N))e=c.x+H;if(Math.abs(c.x+o-N)<Math.abs(e-N))e=c.x+o}else{var x=c.n,Q=x>>>1;
if(Math.abs(c.y-N)<Math.abs(e-N))e=c.y;if(Math.abs(c.y+Q-N)<Math.abs(e-N))e=c.y+Q;if(Math.abs(c.y+x-N)<Math.abs(e-N))e=c.y+x}}if(O[0]&&P[0]&&B.a_&&m.Xw){var U=r.jS(),I=U[0],l=U[1],p=r.W2();
for(var R=0;R<I.length;R++)if((l[R]==-1||l[R]==p)&&I[R][0]==h&&Math.abs(I[R][1]-N)<Math.abs(e-N))e=I[R][1]}if(P[1]&&B.Z5&&m.Xw){var j=Math.round(w.Lt.Ky(B.GK,r.EP,r.e,B.Un));
if(h==1&&B.UK==1){var T=F*.5*Math.sqrt(4/3),V;j*=Math.sqrt(4/3);V=Math.round((N-T)/j)*j+T;if(Math.abs(V-N)<Math.abs(e-N))e=V;
V=Math.round((N+T)/j)*j-T;if(Math.abs(V-N)<Math.abs(e-N))e=V}else{var V=Math.round(N/j)*j;if(Math.abs(V-N)<Math.abs(e-N))e=V}}var E=r.Zf;
if(P[3]&&B.Zf&&m.Xw&&E.length!=0){for(var R=0;R<E.length;R++){if(!O[2]&&r.Tj.indexOf(R)!=-1)continue;
var _=z.uA.dS(E,R);for(var f=0;f<3;f+=2)if(_[f+h]!=N&&Math.abs(_[f+h]-N)<Math.abs(e-N))e=_[f+h]}}if(O[1])for(var S=0;
S<O[1].length;S++){var c=O[1][S],o=c.e,x=c.n,L=[c.x,c.y,c.x+(o>>>1),c.y+(x>>>1),c.x+o,c.y+x];for(var R=0;
R<6;R+=2)if(Math.abs(L[R+h]-N)<Math.abs(e-N))e=L[R+h]}if(P[4]){var c=new fE(0,0,r.e,r.n),p=r.W2();if(p!=-1)c=r.g[p].CN();
var o=c.e,x=c.n,L=[c.x,c.y,c.x+(o>>>1),c.y+(x>>>1),c.x+o,c.y+x];for(var R=0;R<6;R+=2)if(Math.abs(L[R+h]-N)<Math.abs(e-N))e=L[R+h]}var y=Math.abs(e-N)<=4*z.G()/r.q.O?e:1e9;
return y};z.Zr=function(){z.Yi.call(this,[10,12],z.kY,"tools/mwand")};z.Zr.prototype=new z.Yi;z.Zr.prototype.vK=z.Yi.prototype.asi;
z.Zr.prototype.aO=z.Yi.prototype.aux;z.Zr.prototype.DY=function(r,N,F,h){this.finish(r,N,F,h)};z.Zr.prototype.getSelection=function(r,N,F,h){var m=this.nO,O=z.Yi.agv(new gS(Math.floor(m.x),Math.floor(m.y)),this.Jd.wconf,this.Jd.sall);
return O};z.Zr.iP=function(r,N,F,h,m){if(r.w.length!=1){alert("More than one layer selected.");return null}var O=r.g[r.w[0]],e=null,P;
if(m)e=O.Ku<=0?null:O.Ku==1?O.$n():O.xg(r).v;if(e==null&&O.add.lsct!=null&&O.add.lsct!=jJ.Da){alert("No layer selected.");
return null}if(N.x<0||N.x>r.e||N.y<0||N.y>r.n)return null;var B=new fE(0,0,r.e,r.n);if(h){P=r.G9()}else if(e==null&&B.cj(O.rect))P=O.buffer;
else{P=w.B(B.W()*4);if(e==null)w.L3(O.buffer,O.rect,P,B);else z.a3.Wy(e.channel,e.rect,e.color,P,B)}var s=z.Zr.ft(P,B,N,null,F),Y=w.va(s,B),D=w.B(Y.W());
w.nZ(s,B,D,Y);return{rect:Y,channel:D}};z.Zr.ZY=function(r,N,F){var h=N.e,m=N.n,e=0,P=0,B=0,s=0;r=new Uint32Array(r.buffer);
var O=[],Y=F.length;for(var R=0;R<Y;R++){var D=F[R],c=Math.round(D.x-.5-N.x),o=Math.round(D.y-.5-N.y);
c=Math.max(0,Math.min(h-1,c));o=Math.max(0,Math.min(m-1,o));var H=o*h+c,x=r[H];O.push([x&255,x>>8&255,x>>16&255,x>>>24])}return O};
z.Zr.ft=function(r,N,F,h,m){r=new Uint32Array(r.buffer);var O=N.e,e=N.n,P=O*e;if(h==null)h=z.Zr.ZY(r,N,[F]);
var B=Math.round(F.x-.5-N.x),s=Math.round(F.y-.5-N.y),Y=s*O+B,D=Date.now(),c=w.B(O*e),o=m[0],H=1/o,x=m[1]&&o>0?255:0;
if(m[2]){var Q=w.B(c.length),U=new Uint32Array(P),I=1;U[0]=B<<16|s;Q[Y]=1;while(I>0){var l=U[I-1];I--;
var p=l>>>16,j=l&65535,R=j*O+p,T=z.Zr.nk(r[R],h);if(T>o){var V=x*(1-Math.max(0,Math.min(1,(T-o)*H)));
c[R]=~~V}else{c[R]=255;if(j!=e-1&&Q[R+O]==0){U[I++]=p<<16|j+1;Q[R+O]=1}if(j!=0&&Q[R-O]==0){U[I++]=p<<16|j-1;
Q[R-O]=1}if(p!=O-1&&Q[R+1]==0){U[I++]=p+1<<16|j;Q[R+1]=1}if(p!=0&&Q[R-1]==0){U[I++]=p-1<<16|j;Q[R-1]=1}}}}else{for(var R=0;
R<P;R++){var T=z.Zr.nk(r[R],h);if(T<=o)c[R]=255}for(var j=0;j<e;j++)for(var p=0;p<O;p++){var R=j*O+p;
if(c[R]==0&&(p>0&&(c[R-1]==255||j>0&&c[R-O-1]==255||j<e-1&&c[R+O-1]==255)||p<O-1&&(c[R+1]==255||j>0&&c[R-O+1]==255||j<e-1&&c[R+O+1]==255)||j>0&&c[R-O]==255||j<e-1&&c[R+O]==255)){var T=z.Zr.nk(r[R],h),V=x*(1-Math.max(0,Math.min(1,(T-o)*H)));
c[R]=~~V}}}return c};z.Zr.nk=function(r,N){var F=N.length,h=z.Zr.jW(r,N[0]),R=1;while(R!=F){h=Math.min(h,z.Zr.jW(r,N[R]));
R++}return h};z.Zr.jW=function(r,N){var F=r&255,h=r>>>8&255,m=r>>>16&255,O=r>>>24&255;if(N[3]==0)return O<5?0:255;
var e=Math.max(Math.abs(F-N[0]),Math.max(Math.abs(h-N[1]),Math.abs(m-N[2])));return O==0?255:e};z.I7=function(r,N){if(N)z.a3.call(this);
else if(r)z.a3.call(this,[10,49],z.Oj,"tools/camove");else z.a3.call(this,[10,26],z.TG,"tools/patch");
this.wj=null;this.Yv=null;this.r=null;this.pV=null;this.kH=new gS;this.H$=null;this.Aj=null};z.I7.prototype=new z.a3;
z.I7.prototype.vV=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);if(r.$&&w.Bp(O,r.$.channel,r.$.rect)){var e=new fE(0,0,r.e,r.n),P=e.c_(r.$.rect);
if(!r.VT()||P.lX())return;if(!0){var B=w.B(P.W());w.nZ(r.$.channel,r.$.rect,B,P);r.$={channel:B,rect:P}}this.Vw(r);
this.mz(r);this.pV=O;this.kH=new gS(O.x-r.$.rect.x,O.y-r.$.rect.y);this.Aj=w.B(r.$.rect.W()*4);this.Aj.fill(255);
if(this.Jd.patch==1){var s=r.g[r.w[0]];s.Nj(r,r.$,!0);if(s._f==null)this.pV=null}this.H$=r.$.rect.clone()}else{this.Yv={t:[O.x,O.y],C:["M"]};
this.wj=O}};z.I7.prototype.Ui=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);if(this.pV){if(this.Jd.patch==1){if(r.I2.length==0){var e=r.g[r.w[0]]._f,P=O.x-this.kH.x,B=O.y-this.kH.y;
z.FZ.o$(r,r.w[0],Math.round(P-e.xm.x),Math.round(B-e.xm.y))}}else this.nf(r,O,"clone")}if(this.wj){this.Yv.C.push("L");
this.Yv.t.push(O.x,O.y);this.wj=O;r.d.W$=this.Yv;r.mR=!0}};z.I7.prototype.wJ=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);
if(this.pV){var e=r.$.rect.clone();if(this.id==z.Oj){var P=r.g[r.w[0]];P.Bq(r,P._f);r.$.rect=this.H$.clone();
var B=w.B(r.$.rect.W()*4);w.vr(r.$.channel,B,3);this.q1(r,"sheal",B,r.$.rect,r.$.rect);r.$.rect=e;e=e.fD(this.H$)}this.nf(r,O,"heal");
this.finish(r,e,null,null,!0);r.M(e);this.pV=null}if(this.wj){var s=z.Yi.R4(this.Jd.setop,h.j(bh.wQ),h.j(bh.sV)),Y=new gf(v.E.nE,!0);
if(this.Yv.t.length<=4)Y.data=z.Yi.JK();else Y.data=z.Yi.Se(this.Yv.t,s);N.L(Y);this.wj=null;r.d.W$=null;
r.mR=!0}};z.I7.prototype.R8=function(){return this.r};z.I7.prototype.qW=function(r,N,F,h,m){z.a3.prototype.qW.call(this,r,N,F,h,m);
this.LN(m,h)};z.I7.prototype.LN=function(r,N){var F="auto;";if(N!=null&&N.j(bh.wQ)&&!N.j(bh.sV)||this.Jd.setop=="union")F="copy";
var h=new gf(v.E.S,!0);h.data={V:v.c.oQ,eT:F};if(this.caller)this.caller.L(h)};z.I7.prototype.nf=function(r,N,F){var h=new gS(Math.round(this.pV.x-N.x),Math.round(this.pV.y-N.y));
if(this.Jd.patch==1)h.YR(-h.x,-h.y);this.r=h;this.q1(r,F,this.Aj,r.$.rect,r.$.rect);this.M(r,r.$.rect)};
z.tX=function(){z.I7.call(this,!0);this.Jd.patch=1};z.tX.prototype=new z.I7(!0,!0);z.bx=function(){z.a3.call(this,[10,13],z.a1_,"tools/pbucket");
this.A0=!1};z.bx.prototype=new z.a3;z.bx.prototype.enable=function(r,N,F,h){var m=new gf(v.E.S,!0);m.data={V:v.c.oQ,eT:"default"};
N.L(m)};z.bx.prototype.Qr=function(r,N){};z.bx.prototype.vV=function(r,N,F,h,m){this.A0=!0};z.bx.prototype.wJ=function(r,N,F,h,m,O){var e=this.A0;
this.A0=!1;if(!e||O)return;if(this.Zq(h,N,m))return;if(!r.VT())return;var P=r.q.RX(m.x,m.y),B=z.Zr.iP(r,P,this.Jd.wconf,this.Jd.sall,!0);
if(B==null)return;var s=w.B(B.rect.W()*4);w.T1(s,(F.Fp&255)<<16|(F.Fp>>8&255)<<8|(F.Fp>>16&255)<<0);
w.vr(B.channel,s,3);this.Vw(r);this.q1(r,"draw",s,B.rect,B.rect);this.M(r,B.rect);this.finish(r,B.rect)};
z.EA=function(){z.Yi.call(this,[10,14],z.akY,"tools/plasso");this.tz="crosshair";this.OR=[];this.q0=null;
this.Yv=null;this.a3i=0};z.EA.prototype=new z.Yi;z.EA.prototype.disable=function(r,N,F,h){this.QU(r)};
z.EA.prototype.DY=function(r,N,F,h){this.OR=[bh.Am,bh.Lu]};z.EA.prototype.Zk=function(r){return this.OR.indexOf(r)!=-1};
z.EA.prototype.rm=function(r){return this.Yv!=null};z.EA.prototype.Yj=function(){return this.Yv!=null};
z.EA.prototype.N7=function(){return this.Yv!=null};z.EA.prototype.VQ=function(r,N,F,h){if(this.Yv==null)return;
var m=this.Yv,O=m.t,e=O.length-2,P=this.nO;if(this.qy.Gd(1)&&F.j(bh.sV)&&h.Tb){O.push(0,0);m.C.push("L");
e+=2}else if(F.j(bh.wQ))P=z.ji.hQ(new gS(O[e-2],O[e-1]),P);O[e]=P.x;O[e+1]=P.y;r.d.W$=m;r.mR=!0};z.EA.prototype.gm=function(r,N,F,h){var m=Date.now();
if(this.Yv==null)this.Yv={t:[this.nO.x,this.nO.y,this.nO.x,this.nO.y],C:["M","L"]};else{this.VQ(r,N,F,h);
if(m-this.a3i<250||gS.Mz(this.nO,new gS(this.Yv.t[0],this.Yv.t[1]))<z.BH(r,h)){this.q0=this.Yv;this.finish(r,N,F,h);
this.QU(r);return}this.Yv.C.push("L");this.Yv.t.push(this.nO.x,this.nO.y)}this.a3i=m;r.d.W$=this.Yv};
z.EA.prototype.QU=function(r){this.Yv=null;this.OR=[];if(r!=null){r.d.W$=null;r.mR=!0}};z.EA.prototype.BD=function(r,N,F,h){z.Yi.prototype.BD.call(this,r,N,F,h);
if(h.j(bh.R_)&&this.Yv==null&&this.q0&&r.$!=null){var m=new gf(v.E.u);m.s=z.Fr;m.data={V:"h_stepbck"};
N.L(m);this.DY(r,F,h,null);this.Yv=this.q0;return}if(this.Yv==null)return;if(h.j(bh.Am)||h.j(bh.Lu)){this.Yv.t.pop();
this.Yv.t.pop();this.Yv.C.pop();this.VQ(r,F,h)}if(h.j(bh.Ve)){if(this.Yv.t.length>4){this.q0=this.Yv;
this.finish(r,F,h)}this.Yv=null}if(h.j(bh.R_)){this.Yv=null}r.d.W$=this.Yv;r.mR=!0};z.EA.prototype.getSelection=function(r,N,F,h){return z.Yi.Se(this.Yv.t,null,this.Jd.anta)};
z.JO=function(){z.Yi.call(this,[10,10],z.a8V,"tools/mlasso");this.tz="crosshair";this.OR=[];this.Y=[];
this.wP=[];this.NE=[];this.yH=null;this.sL=null;this.td=null;this.Fi=0;this.SN=0};z.JO.prototype=new z.Yi;
z.JO.prototype.disable=function(r,N,F,h){this.clear(r)};z.JO.prototype.rm=function(r){return this.Y.length!=0};
z.JO.prototype.N7=function(){return this.Y.length!=0};z.JO.prototype.Zk=function(r){return this.OR.indexOf(r)!=-1};
z.JO.prototype.DY=function(r,N,F,h){this.OR=[bh.Am,bh.Lu];var m=this.nJ(this.Al,r);if(this.Y.length!=0&&(gS.Mz(m,this.Y[0])<z.BH(r,h)||Date.now()-this.Fi<300)){this.lG(r,this.Y[0]);
this.finish(r,N,F);this.clear(r);return}this.Fi=Date.now();if(this.Y.length!=0)m=this.KC(m,r);else{var O=r.e,e=r.n,P=w.B(O*e),B=r.G9(),s=O*e*4;
for(var R=0;R<s;R+=4)P[R>>>2]=~~(.5+w.$X(B[R],B[R+1],B[R+2])*(B[R+3]*(1/255)));this.yH=w.Qw.a3B(P,O,e);
this.td=new Uint16Array(P.length)}this.lG(r,m);this.SN=F.j(bh.sV)?1:0;this.xb(r)};z.JO.prototype.lG=function(r,N){var F=this.Y;
this.wP[F.length]=this.NE.length;if(F.length!=0){w.Qw.GT(this.sL,N.y*r.e+N.x);var h=this.$N(r,N);h.reverse();
var m=z.JO.D1(r,h);this.NE=this.NE.concat(m)}F.push(N);this._j(r)};z.JO.prototype._j=function(r){var N=this.Y[this.Y.length-1],F=N.y*r.e+N.x;
this.sL=w.Qw.aja(this.yH.xy,this.yH.rT,F);this.td.fill(0)};z.JO.prototype.nJ=function(r,N){return new gS(Math.floor(Math.max(0,Math.min(N.e-1,r.x))),Math.floor(Math.max(0,Math.min(N.n-1,r.y))))};
z.JO.prototype.clear=function(r){this.NE=[];this.Y=[];this.wP=[];this.yH=null;this.sL=null;this.td=null;
if(r!=null){r.d.W$=null;r.d.eJ=[];r.mR=!0}this.OR=[]};z.JO.prototype.VQ=function(r,N,F,h){var m=this.Y,O=m.length;
if(O==0)return;var e=this.KC(this.nJ(this.nO,r),r),P=this.$N(r,e);for(var R=0;R<P.length;R++){var B=P[R],s=new gS(B%r.e,Math.floor(B/r.e));
if(this.td[B]>30&&gS.Mz(s,m[O-1])>20){this.lG(r,s);return}this.td[B]++}if(this.SN==1&&h.Tb)this.lG(r,e);
this.xb(r)};z.JO.prototype.xb=function(r){var N=this.Y;if(N.length!=0){var F=this.KC(this.nJ(this.nO,r),r),h=this.$N(r,F);
h.reverse();var m=z.JO.D1(r,h),O=this.NE.concat(m),e=r.d.W$={t:O,C:["M"]};for(var R=2;R<O.length;R+=2)e.C.push("L")}r.d.eJ=[];
for(var R=0;R<N.length;R++)r.d.eJ.push(N[R].x+.5,N[R].y+.5);r.mR=!0};z.JO.prototype.gm=function(r,N,F,h){};
z.JO.prototype.BD=function(r,N,F,h){if(this.Y.length==0)return;if(h.j(bh.Am)||h.j(bh.Lu)){this.Y.pop();
this.NE=this.NE.slice(0,this.wP[this.Y.length]);this.wP.pop();if(this.Y.length==0)this.clear(r);else this._j(r);
this.xb(r)}if(h.j(bh.Ve)){var m=this.nJ(this.nO,r);this.lG(r,m);this.finish(r,F,h);this.clear(r)}if(h.j(bh.R_)){this.clear(r)}};
z.JO.prototype.getSelection=function(r,N,F,h){return z.Yi.Se(this.NE,null,this.Jd.anta)};z.JO.prototype.$N=function(r,N){var F=this.Y[this.Y.length-1],h=F.y*r.e+F.x,m=N.y*r.e+N.x;
if(this.SN==1)return[m,h];var O=[m];while(m!=h){m=this.sL.mj[m];O.push(m);if(O.length>5e3){console.log(O);
throw"e"}}return O};z.JO.D1=function(r,N){var F=[],h=r.e;for(var R=0;R<N.length;R++){var m=N[R];F.push(m%h+.5,Math.floor(m/h)+.5)}return F};
z.JO.prototype.KC=function(r,N){var F=N.e,h=N.n,m=r.clone(),e=3;w.Qw.GT(this.sL,r.y*F+r.x);var O=this.sL.se[r.y*F+r.x];
for(var P=-e+1;P<e;P++)for(var B=-e+1;B<e;B++){var s=r.x+B,Y=r.y+P;if(s<0||s>=F||Y<0||Y>=h)continue;
w.Qw.GT(this.sL,Y*F+s);if(this.sL.se[Y*F+s]<O)m.YR(s,Y)}return m};z.QX=function(){z.bE.call(this,[10,36],z.mf,"tools/ruler");
this.i4=null;this.FC=null;this.T8=null;this.F_=null;this.YA=null};z.QX.prototype=new z.bE;z.QX.prototype.rm=function(r){return r.Tb};
z.QX.prototype.enable=function(r,N,F,h){z.bE.prototype.enable.call(this,r,N,h,F);if(r)this.nb(r)};z.QX.prototype.disable=function(r,N,F,h){if(r)this.QU(r)};
z.QX.prototype.z1=function(r,N,F,h,m){this.i4=this.T8=null;this.nb(F)};z.QX.prototype.vV=function(r,N,F,h,m){var O=z.BH(r,m),e=r.q.RX(m.x,m.y);
e.x=Math.round(e.x);e.y=Math.round(e.y);var P=this.i4;this.FC=P?P.slice(0):null;var B=P&&gS.Mz(e,P[0])<O,s=P&&gS.Mz(e,P[1])<O,Y=P&&P[2]&&gS.Mz(e,P[2])<O;
if(B||s||Y){if(h.j(bh.sV)&&P.length==2){if(s){var D=P[0];P[0]=P[1];P[1]=D}P[2]=P[0].clone();this.T8=[2]}else this.T8=[B?0:s?1:2]}else if(P&&z.QX.avq(P[0],P[1],e)<O&&Math.min(P[0].x,P[1].x)-5<=e.x&&e.x<=Math.max(P[0].x,P[1].x)+5&&Math.min(P[0].y,P[1].y)-5<=e.y&&e.y<=Math.max(P[0].y,P[1].y)+5){this.T8=[];
this.YA=[];for(var R=0;R<P.length;R++){this.T8.push(R);this.YA.push(P[R].clone())}this.F_=e}else{this.i4=[e.clone(),e.clone()];
this.T8=[1]}};z.QX.prototype.Ui=function(r,N,F,h,m){if(this.T8==null)return;var O=this.i4,e=this.T8,P=r.q.RX(m.x,m.y);
P.x=Math.round(P.x);P.y=Math.round(P.y);if(e.length>1){var B=P.x-this.F_.x,s=P.y-this.F_.y;for(var R=0;
R<O.length;R++){O[R]=this.YA[R].clone();O[R].offset(B,s)}}else{O[e[0]].YR(P.x,P.y);if(h.j(bh.wQ)){O[e[0]]=z.ji.hQ(O[1-e[0]],O[e[0]])}}this.nb(r);
this.ET(N,v.E.S,{V:v.c.$P,s:this.id,agb:O[0],sb:O[1],xU:O[2],EP:r.EP,a37:r.e});r.q.g1=w.p.e0([O[0].x,O[0].y,O[1].x,O[1].y]);
console.log(r.q.g1)};z.QX.prototype.wJ=function(r,N,F,h,m,O){this.T8=null;if(O){this.i4=this.FC.slice(0);
this.nb(r)}};z.QX.prototype.ET=function(r,N,F){var h=new gf(N,!0);h.data=F;r.L(h)};z.QX.prototype.nb=function(r){var N=this.i4;
if(N==null)this.QU(r);else{var F=[N[1].x,N[1].y,N[0].x,N[0].y],h=["M","L"];if(N.length>2){F.push(N[2].x,N[2].y);
h.push("L")}r.d.W$={C:h,t:F};r.d.eJ=F}r.mR=!0};z.QX.prototype.QU=function(r){r.d.W$=null;r.d.eJ=[]};
z.QX.avq=function(r,N,F){var h=N.x-r.x,m=N.y-r.y,O=Math.abs(m*F.x-h*F.y+N.x*r.y-N.y*r.x),e=Math.sqrt(h*h+m*m);
return e==0?0:O/e};z.pQ=function(){z.a3.call(this,[10,19],z.fV,"tools/sharpen");this.qb="copy"};z.pQ.prototype=new z.a3;
z.pQ.prototype.vV=function(r,N,F,h,m){var O=this.Jd.pdetail?hy.wp:hy.fV;if(h.j(bh.sV))O=hy.za;this.og(r,F,h,m,this.Jd.strn,O);
if(this.Ti==null)return;this.XU(r)};z.pQ.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.CB=function(){z.a3.call(this,[10,24],z.Sk,"tools/shbrush");
this.qb="draw";this.Jd.opacity=.5};z.CB.prototype=new z.a3;z.CB.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,1);
if(this.Ti==null)return;this.mz(r);this.XU(r)};z.CB.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);
if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.CB.prototype.wJ=function(r,N,F,h,m){if(this.Ti==null)return;
this.q1(r,"sheal",this.Ti.XW(),this.Ti.Tm(),this.Ti.Jn(),null);this.M(r,this.Ti.Jn());z.a3.prototype.wJ.call(this,r,N,F,h,m)};
z.ma=function(){z.a3.call(this,[10,20],z._m,"tools/smudge");this.qb="copy"};z.ma.prototype=new z.a3;
z.ma.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,this.Jd.strn,hy._m);if(this.Ti==null)return;this.XU(r)};
z.ma.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;
if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.y6=function(){z.a3.call(this,[10,23],z.gM,"tools/sponge");
this.qb="sponge"};z.y6.prototype=new z.a3;z.y6.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,this.Jd.flow);
if(this.Ti==null)return;this.XU(r)};z.y6.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);if(this.xM)this.Re(r,F,m);
if(this.Ti==null)return;if(!m.Tb)return;this.SZ(r,F,h,m);this.XU(r)};z.EI=function(){z.bE.call(this,[10,17],z.x0,"tools/zoom");
this.iL=!1;this.XS=!0;this.cK=0;this.VJ=null;this.P5=null;this.t2=0;this.SQ=null;this.Of=0;this.KI=new f8([{name:[8,0],oZ:"Ctrl + +"},{name:[8,1],oZ:"Ctrl + -",At:!0},{name:[20,3],oZ:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],oZ:"Ctrl + 1"}],[{T:v.E.u,s:z.x0,R:{V:"zoom",XS:!0}},{T:v.E.u,s:z.x0,R:{V:"zoom",XS:!1}},{T:v.E.u,s:z.x0,R:{V:"adapt",h:"fitscr"}},{T:v.E.u,s:z.x0,R:{V:"adapt",h:"pixel"}}])};
z.EI.prototype=new z.bE;z.EI.prototype.TK=function(r,N,F,h,m){var O=this.KI;O.f();O.parent=N;O.update(r,F);
var e=new gf(v.E.S,!0);e.data={V:v.c.hN,f3:O,x:m.Yk+2,y:m.it+1};N.L(e)};z.EI.prototype.enable=function(r,N,F,h){this.Ma(N,h);
if(r&&Date.now()-this.cK<300)this.z1({V:"adapt",h:"pixel"},N,r,h,F);this.cK=Date.now()};z.EI.prototype.vV=function(r,N,F,h,m){this.P5=new gS(m.x,m.y);
this.t2=r.q.O;this.SQ=r.q.r.clone()};z.EI.prototype.Ui=function(r,N,F,h,m){if(this.P5==null)return;var O=Math.exp(Math.log(this.t2)+(m.x-this.P5.x)/64);
O=Math.max(.02,Math.min(z.EI.uf[0],O));r.q.O=this.t2;r.q.r=this.SQ.clone();this.z1({V:"zoom",O:O,D6:this.P5},N,r,h,F)};
z.EI.prototype.wJ=function(r,N,F,h,m){if(gS.Mz(this.P5,m)<4){var O=this.Jm(h);this.z1({V:"zoom",XS:O,D6:m},N,r,h,F)}this.P5=null};
z.EI.uf=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
z.EI.jN=function(r,N,F,h){var m=1;while(r*m*1/2>F||N*m*1/2>h)m*=1/2;if(r*m*2/3>F||N*m*2/3>h)m*=1/2;else if(r*m>F||N*m>h)m*=2/3;
return m};z.EI.u7=function(r,N){var F=z.EI.a7g(r);if(N&&F==0)return r;if(!N&&F==z.EI.uf.length-1)return r;
return z.EI.uf[N?F-1:F+1]};z.EI.a7g=function(r){var N=0;while(z.EI.uf[N]>r)N++;return N};z.EI.xR=function(r,N,F,h){var m=r._I;
if(h==0||h==null){h=z.EI.u7(r.O,F);if(h==r.O)return}var O=r.RX(N.x,N.y);if(m.e*h<=r.Yg.e&&m.n*h<=r.Yg.n){r.r.YR(0,0);
r.O=h}else{var e=r.XA(),P=r.O/h;e.translate(-O.x,-O.y);e.scale(P,P);e.translate(O.x,O.y);r.ako(e)}};
z.EI.prototype.z1=function(r,N,F,h,m){if(r.V=="pzoom"){if(typeof r.h=="string")return;r={V:"zoom",O:r.h/100}}var O=0,e=!1,P=null;
if(r.V=="adapt"){var B=0;if(r.h=="pixel")B=1;if(r.h=="fitscr"){var B=0,s=F.q.Yg.e,Y=F.q.Yg.n,D=m.r0?w.Lt.Qk+4:8;
B=Math.min((s-D*2)/F.e,(Y-D*2)/F.n)}P=new gS(Math.round(F.q.Yg.e/2),Math.round(F.q.Yg.n/2));O=B;z.EI.xR(F.q,P,e,O);
F.Pj=!0}if(r.V.startsWith("multi")){function c(V){var E=V[0].x-V[1].x,_=V[0].y-V[1].y;return Math.sqrt(E*E+_*_)}function o(V){return new gS((V[0].x+V[1].x)/2,(V[0].y+V[1].y)/2)}var H=r.nP,x=o(H);
if(r.V=="multidown"){this.VJ=[H,F.q.O,F.q.RX(x.x,x.y)]}else{var Q=z.EI.uf;O=this.VJ[1]*c(H)/c(this.VJ[0]);
O=Math.max(Q[Q.length-1],Math.min(Q[0],O));if(O!=F.q.O)z.EI.xR(F.q,x,e,O);var U=this.VJ[2],I=F.q.l9(U.x,U.y),l=F.q.r;
l.x=Math.round(l.x+x.x-I.x);l.y=Math.round(l.y+x.y-I.y);F.Pj=!0}}if(r.V=="scroll"){P=r.D6;this.Of+=r.yG.y;
var p=14;if(this.Of<-p){e=!0;this.Of=Math.max(this.Of+p,-(p-1))}else if(this.Of>p){e=!1;this.Of=Math.min(this.Of-p,p-1)}else return;
z.EI.xR(F.q,P,e,O);F.Pj=!0}if(r.V=="zoom"){P=r.D6?r.D6:new gS(Math.round(F.q.Yg.e/2),Math.round(F.q.Yg.n/2));
if(r.O!=null)O=r.O;else e=r.XS;z.EI.xR(F.q,P,e,O);F.Pj=!0}if(r.V=="mskView"){var j=F.g[F.w[0]];if(j.Ku<=0){j.Ku=1;
F.kn=!0}var T=j.Ku==3?j.xg(F).v:j.$n();if(r.h==0){F.q.Hr=[1,1,1];T.BJ=!1}if(r.h==1){F.q.Hr=[1,1,1];T.BJ=!0}if(r.h==2){F.q.Hr=[0,0,0];
T.BJ=!0}for(var R=0;R<F.O0.length;R++)F.O0[R].BJ=!1;F.I2=[];F.mR=!0}};z.EI.prototype.BD=function(r,N,F,h){if(this.iL!=h.j(bh.sV)){this.iL=h.j(bh.sV);
var m={V:v.c.$P,s:this.id,iL:this.iL},O=new gf(v.E.S,!0);O.data=m;N.L(O);this.Ma(N,h)}};z.EI.prototype.Ma=function(r,N){var F=new gf(v.E.S,!0),h=this.Jm(N);
F.data={V:v.c.oQ,eT:h?"zoom-in":"zoom-out"};r.L(F)};z.EI.prototype.qW=function(r,N,F,h){this.XS=r.XS;
this.Ma(N,h)};z.EI.prototype.Jm=function(r){var N=this.XS;if(r.j(bh.mk)&&r.j(bh.hg))N=!0;if(this.iL)N=!N;
return N};z.EI.f8=function(r,N){if(r.j(bh.nL)||r.j(bh.aof)){N.s=z.x0;N.data={V:"zoom",XS:!0}}if(r.j(bh.MO)){N.s=z.x0;
N.data={V:"zoom",XS:!1}}if(r.j(bh.nw)){N.s=z.x0;N.data={V:"adapt",h:"fitscr"}}if(r.j(bh.B$)){N.s=z.x0;
N.data={V:"adapt",h:"pixel"}}};z.JP=function(r,N,F){z.bE.call(this,r,N,F);this.Ec=null;this.bX=null;
this.dI=null;this.a7x=0};z.JP.prototype=new z.bE;z.JP.wm=function(r){var N={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},F=r==0?{classID:"null",null:N,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:N,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{Ja:r==0?"fill":"stroke",Tf:F}};z.JP.prototype.enable=function(r,N,F,h,m){this.bX=F;var O=new gf(v.E.S,!0);
O.data={V:v.c.oQ,eT:"default"};N.L(O)};z.JP.prototype.TK=function(r,N,F,h,m){var O=r.bN(),e=O[0],P=O[1];
if(P.length==0)return;var B=e[P[0]],s=B.add.vmsk,Y=r.q.RX(m.x,m.y),D=4*z.G()/r.q.O,c=new fE(Y.x-D,Y.y-D,D*2,D*2),o=w.H.wg(s.Y,c)[0];
if(o.length!=0){s.zJ=o;r.mR=!0}var H=w.H.Bp(s.Y,Y).Jz;if(H!=-1){s.w=[H];r.mR=!0}var x=new gf(v.E.S,!0);
x.data={V:v.c.$P,s:this.id,gf:m,UB:r,if:F};N.L(x)};z.JP.prototype.OY=function(r,N){var F=new gf(v.E.S,!0);
F.data={V:v.c.nM,Xa:bC.PT};if(!N.Xw)r.L(F);F.data={V:v.c.nM,Xa:bC.mC};if(!N.ec.N$)r.L(F)};z.JP.prototype._r=function(r,N,F,h){if(F.px!=this.id)return;
if(r.w.length==0)return;var m=r.g[r.w[0]],O=m.add.vmsk,e=m.add.vstk,P=z.JP.us(r,r.w[0]);this.Ec=r;this.dI=N;
if(m.t8()&&O!=null&&(JSON.stringify(e)!=JSON.stringify(F.a0)||JSON.stringify(P)!=JSON.stringify(F.qO))){this.a7x=Date.now();
var B=new gf(v.E.S,!0);B.data={V:v.c.nM,Xa:bC.bb,h:P};N.L(B);B.data={V:v.c.nM,Xa:bC.Gv,h:e};N.L(B)}};
z.JP.prototype.Qr=function(r,N){if(this.Ec==null)return;if(N==bC.ge||N==bC.bb||N==bC.Gv){if(Date.now()-this.a7x<50)return;
var F=N==bC.bb,h=this.Ec,m=F?r.qO:r.a0,O=[],e=h.w;for(var R=0;R<e.length;R++){var P=e[R],B=h.g[P];if(!B.t8()||B.add.vmsk==null)continue;
O.push(P)}var s=new gf(v.E.u,!0);s.s=z.j7;s.data={V:C.uL,U$:O,zM:F,h:m};if(O.length!=0)this.dI.L(s)}};
z.JP.prototype.ain=function(r){if(typeof r=="number"){var N=new gf(v.E.nE,!0);N.data=z.XE.eq(0);N.data.Tf.Usng.v.Type.v.Clr.v=w.X.QA({Z:r>>>16&255,z:r>>>8&255,J:r>>>0&255});
this.dI.L(N)}};z.JP.prototype.z1=function(r,N,F,h,m){this.dI=N;if(r.V=="newfill"){if(r.dn==0){var O=new gf(v.E.S,!0);
O.data={V:v.c.pr,i7:"colorpicker",IU:m.Fp,xV:this.ain.bind(this)};N.L(O)}}else if(r.V=="pathedit"){var e=r.bT,P="",B=F.N$.slice(0),s=F.ih.slice(0),Y=F.N$.slice(0),D=F.ih.slice(0);
if(e=="rnm"){var c=-1-r.Jz,o=B[c],H=gp.Yn(r.name,o.add);if(c!=0)Y[c]=H;else{D=[Y.length];Y.push(H);Y[0]=gp.Yn("Work Path")}P="Rename"}else if(e=="new"){var H=gp.Yn("Path "+B.length);
if(r.a8I){var x=F.bN(),Q=x[0],U=x[1],I=Q[U[0]];H.add.vmsk=I.add.vmsk.clone();H.add.vogk=JSON.parse(JSON.stringify(I.add.vogk));
if(I.Jz==-1){var l=Y[D[0]]=gp.Yn("Path "+B.length);l.name=I.name;l.Jz=I.Jz}}Y.push(H);D=[Y.length-1];
P="New"}else if(e=="del"){if(D.length==0)return;D.sort(function(y,a){return y-a});if(D[0]==0){Y[0]=gp.Yn(B[0].name);
D=D.slice(1)}var p=0;while(D.length!=0){Y.splice(D[0]-p,1);D=D.slice(1);p++}P="Delete"}else if(e=="fromsel"){var j=Y[0]=gp.Yn("Work Path");
D=[0];if(F.$==null)return;var T=F.$.channel.slice(0);for(var R=0;R<T.length;R++)T[R]=T[R]>128?2:1;var V=F.$.rect.clone();
V.r2(1,1);var E=w.B(V.W());w.nZ(T,F.$.rect,E,V);var _=fA.zS(E,V.e,V.n,Math.round(V.W()*5e-4)),Q=fA.bN(_),f=new hc(1,0,0,1,-1+F.$.rect.x,-1+F.$.rect.y);
for(var R=0;R<Q.length;R++)w.p.A(Q[R].path.t,f,Q[R].path.t);for(var R=0;R<Q.length;R++){var S=Q[R];if(S.color==1&&S.parent==-1)continue;
var L=w.p.nN(Q[R].path,!1);j.add.vmsk.Y=j.add.vmsk.Y.concat(L.slice(2))}j.add.vogk=C.jq(j.add.vmsk.Y);
P="Selection to"}var y=new g2(P+" Path",this);y.data={FC:B,Ei:s,a3N:Y,$b:D};if(e=="fromsel"){y.data.Rj=F.$;
y.data.xF=null}F.Zy(y);this.uq(y.data,F)}else{var Z=r.Py,x=F.bN(r.V=="append"),Q=x[0],U=x[1],j=Q[U[0]],i=j.add.vmsk,b=j.add.vogk,G=i.clone(),g=i.clone(),u=JSON.stringify(b);
if(r.V=="remove"){if(r.sj&&g.zJ.length!=0){g.Y=w.H.a5A(g.Y,g.zJ,b);var A=w.H.jE(g.Y);for(var R=0;R<g.w.length;
R++)if(g.w[R]>=A){g.w.splice(R,1);R--}g.zJ=[];Z="Delete Anchors"}else{if(g.w.length==0)return;var p=0;
for(var R=0;R<g.w.length;R++){b.splice(g.w[R]+p,1);p--}g.Y=w.H.aeg(g.Y,g.w);g.w=[];g.zJ=[];if(Z==null)Z="Delete Paths"}}if(r.V=="append"){z.JP.re(r.apj,g,b)}this.aS(F,j.Jz,g,b);
this.qJ(F,Z,j.Jz,G,g.clone(),null,u,JSON.stringify(b))}};z.JP.oF=function(r,N){var F=w.H.ahx(r.Y,r.w),h=[];
for(var R=0;R<r.w.length;R++)h.push(JSON.parse(JSON.stringify(N[r.w[R]])));return[F,h]};z.JP.re=function(r,N,F){var h=w.H.jE(N.Y),m=w.H.jE(r[0]);
N.Y=N.Y.concat(r[0].slice(2));N.w=[];for(var R=0;R<m;R++)N.w.push(h+R);for(var R=0;R<m;R++)F.push(JSON.parse(JSON.stringify(r[1][R])))};
z.JP.prototype.Zk=function(r,N){if(N==null)return!1;var F=N.bN(),h=F[0],m=F[1];if(m.length==0)return!1;
var O=h[m[0]],e=O.add.vmsk;if(e&&e.w.length+e.zJ.length!=0)return[bh.Am,bh.Lu].indexOf(r)!=-1};z.JP.prototype.BD=function(r,N,F,h){if(r==null)return;
var m=r.bN(),O=m[0],e=m[1];if(e.length==0)return;var P=O[e[0]],B=P.add.vmsk;if(h.j(bh.R_)||h.j(bh.Ve)){B.zJ=[];
r.mR=!0}if(B.w.length!=0){var s=h.S5();if(s.x!=0||s.y!=0){var Y=B.clone(),D=B.clone(),c=new hc(1,0,0,1,s.x,s.y),o=P.add.vogk,H=JSON.stringify(o);
w.H.nY(D.Y,c,D.w);w.UI.A(o,w.N.dj(c),D.w);this.aS(r,P.Jz,D,o);this.qJ(r,"Move Paths",P.Jz,Y,D.clone(),!0,H,JSON.stringify(o))}if(h.j(bh.Am)||h.j(bh.Lu))this.z1({V:"remove",sj:this.id==z.e8},N,r,h,F)}};
z.JP.prototype.qJ=function(r,N,F,h,m,O,e,P){var B=new g2(N,this);B.data={xe:F,wE:h,UQ:m,adj:O,aoy:e,m_:P};
r.Zy(B)};z.JP.prototype.uq=function(r,N){if(r.xe!=null)this.aS(N,r.xe,r.UQ.clone(),JSON.parse(r.m_));
else{N.N$=r.a3N.slice(0);N.ih=r.$b.slice(0);N.mR=N.kn=!0}if(r.Rj||r.xF){N.$=r.xF;N._a=!0}};z.JP.prototype.UO=function(r,N){if(r.xe!=null)this.aS(N,r.xe,r.wE.clone(),JSON.parse(r.aoy));
else{N.N$=r.FC.slice(0);N.ih=r.Ei.slice(0);N.mR=N.kn=!0}if(r.Rj||r.xF){N.$=r.Rj;N._a=!0}};z.JP.prototype.aS=function(r,N,F,h){var m=N<0?r.N$[-1-N]:N<1e6?r.g[N]:r.g[N-1e6].add.TySh,O=m.add.vmsk;
O.channel=null;O.ug=!0;if(O.i1){O.i1.channel=null;O.i1.ug=!0}m.add.vmsk=F;m.add.vogk=h;if(1e6<=N){gQ.$s(m);
var e=r.g[N-1e6],P=m,B=this.bX,s=new ac(P.sl,B.FN),Y=d0.nG(s,P);e.rect=Y.NQ;e.buffer=Y.iS;e.M();r.M()}else if(0<=N){F.ug=!0;
m.dD(r);r.M()}r.mR=r.kn=!0};z.JP.us=function(r,N){var F=r.g[N],h=F.add.vstk,m=null;if(h&&!h.fillEnabled.v)m={_h:0};
else if(F.add.SoCo)m={_h:1,PL:F.add.SoCo};else if(F.add.GdFl)m={_h:2,PL:F.add.GdFl};else if(F.add.PtFl)m={_h:3,PL:F.add.PtFl};
return m};z.JP.zL=function(r,N){var F=r.add.vmsk,h=r.add.vstk,m=N._h;if(h)h.fillEnabled.v=m!=0;if(m>0){var O=["SoCo","GdFl","PtFl"][m-1];
for(var R=0;R<3;R++)delete r.add[["SoCo","GdFl","PtFl"][R]];r.add[O]=N.PL}};z.XE=function(r,N,F,h){z.JP.call(this,r,N,F);
this.Jd={shape:bv.T$(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{xa:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a4i=h;this.U3=null;this.uH=null;this.m3=null;this.qy=new iQ};z.XE.prototype=new z.JP;z.XE.prototype.rm=function(r){return r.Tb&&this.id!=z.CA};
z.XE.prototype.enable=function(r,N,F,h,m){this.bX=F;var O=new gf(v.E.S,!0);O.data={V:v.c.oQ,eT:"crosshair"};
N.L(O)};z.XE.prototype.BD=function(r,N,F,h){z.JP.prototype.BD.call(this,r,N,F,h);this.qy.BD(h);this.XC(N,F)};
z.XE.prototype.XC=function(r,N){var F=new gf(v.E.S,!0);F.data={V:v.c.$P,s:this.id,Ro:this.aR(N)};r.L(F)};
z.XE.prototype.aR=function(r){var N=this.qy.qw(0),F=this.qy.Gd(0),h=z.Yi.R4(this.Jd.binop,N,F);if(r.oa==1&&h==0)h=1;
return h};z.XE.prototype.Jb=function(r,N,F,h){};z.XE.prototype.vV=function(r,N,F,h,m){var O=F.oa;if(O!=2)this.OY(N,F);
if(O==2&&!r.VT())return;var e=r.q.RX(m.x,m.y);e=z.FZ.fx(r,e,F);this.m3=[e.x,e.y];this.U3=e;this.uH=new gS(0,0);
this.qy.vV(h)};z.XE.prototype.Mw=function(r,N,F,h){var m=[this.U3.clone(),N.clone()];F=this.qy.qw(1)||F.j(bh.wQ)||this.qy.Gd(1)?F:null;
if(this.a4i)m=z.XE.wo(m[0],m[1],F,!0,this.Jd.cstr);if(r)r.q.g1=new fE(m[0].x,m[0].y,m[1].x-m[0].x,m[1].y-m[0].y);
return this.Jb(m[0],m[1],this.qy.qw(1)&&F.j(bh.wQ),this.m3,r.q,h)};z.XE.prototype.uM=function(r,N,F){var h=r.q.RX(N.x,N.y);
if(this.id==z.CA)return h;var m=this.Jd.cstr;if(m.xa==2){var O=new fE(h.x-m.x,h.y-m.y,m.x,m.y),e=z.FZ.$c(r,O,F);
h.x+=e[0];h.y+=e[1];z.FZ.ri(r,O,e)}else h=z.FZ.fx(r,h,F);return h};z.XE.prototype.Ui=function(r,N,F,h,m){if(this.U3==null)return;
var O=this.m3,e=O.length,P=m?this.uM(r,m,F):new gS(O[e-2],O[e-1]);if(h.j(bh.mk))this.U3=P.bl(this.uH);
else this.uH=P.bl(this.U3);O.push(P.x,P.y);if(this.Jd.shape==null)this.Jd.shape=F.Ko[0];var B=this.Mw(r,P,h,!0)[0],s=w.p.aM(B);
r.d.W$=s;if(this.id!=z.CA&&this.id!=z.w6&&this.id!=z.Ob)z.bE.Ln(m,r.q.g1,r,F);r.mR=!0;this.qy.Ui()};
z.XE.prototype.ask=function(r,N,F,h){var m=r[4].clone();if(h){m.x-=N/2;m.y-=F/2}if(this.id==z.w6){N/=2;
F/=2;m.x+=N;m.y+=F;F=-F;N=0}var O=this.Jb(m,new gS(m.x+N,m.y+F),!1,this.m3);this.Uo(r[0],r[1],r[2],O)};
z.XE.prototype.Uo=function(r,N,F,h){var m=new gf(v.E.nE,!0);m.data=z.XE.wS(h[1],F);N.L(m);if(h[1].v.classID=="customShape"&&h[1].v.Nm.v.startsWith("--")){var O=r.bN(),e=O[0],P=O[1],B=e[P.pop()],s=B.add.vmsk,Y=B.add.vogk,D=s.clone();
D.Y=h[0];this.aS(r,B.Jz,D,Y)}};z.XE.prototype.wJ=function(r,N,F,h,m,O){if(this.U3==null)return;var e=this.uM(r,m,F),P=this.aR(F),B=F.oa,s=this.m3,Y=s.length;
if(this.id==z.CA&&Y<=4){}else if(Y<=4){e.x=Math.round(e.x);e.y=Math.round(e.y);var D=new gf(v.E.S);D.data={V:v.c.pr,i7:"createshape",agU:this.ask.bind(this),a0q:this.name,ag1:[r,N,F,h,e]};
if(!O)N.L(D)}else if(Y!=2){var c=this.Mw(r,e,h),o=c[0],H=r.bN(!0),x=H[0],Q=H[1],U=Q.length-1;if(B==1&&o.length>2||B==0&&P!=0&&U!=-1&&x[Q[U]].Jz>=0){o[2].r5=[1,2,3,0][P-1];
var I=x[Q.pop()],l=I.add.vmsk,p=I.add.vogk,j=l.clone(),T=l.clone(),V=JSON.stringify(p);T.Y=T.Y.concat(o.slice(2));
T.w=[w.H.jE(T.Y)-1];var E=w.UI.Fk(c[1]);p.push(E?E:w.UI.LQ());this.aS(r,I.Jz,T,p);this.qJ(r,this.name,I.Jz,j,T,null,V,JSON.stringify(p))}else if(B==0){this.Uo(r,N,F,c)}else if(B==2){var T=new C.Ug;
T.Y=T.Y.concat(o.slice(2));var _=T.$n();if(!this.Jd.anta)w.round(_.channel);var f=w.B(_.rect.W()*4);
w.T1(f,(F.Fp&255)<<16|(F.Fp>>8&255)<<8|(F.Fp>>16&255)<<0);w.vr(_.channel,f,3);var S=new gf(v.E.u,!0);
S.s=z.D$;S.data={V:"draw",zb:{buffer:f,rect:_.rect.clone()},Py:this.name};N.L(S)}}this.U3=null;r.d.W$=null;
r.d.Dk=null;r.d.Ul=[];r.q.g1=null;r.mR=!0;this.qy.wJ();this.XC(N,F)};z.XE.prototype.qW=function(r,N,F,h,m){for(var F in r)this.Jd[F]=r[F]};
z.XE.wo=function(r,N,F,h,m){var O=r.x,e=r.y,P=N.x,B=N.y;if(m&&m.xa==2){if(h){P=Math.round(P);B=Math.round(B)}O=P-m.x;
e=B-m.y}else{var s=0;if(m&&m.xa==1)s=m.y/m.x;else if(F&&F.j(bh.wQ))s=1;if(s!=0){if(h){if(O<P)O=Math.floor(O);
else O=Math.ceil(O);if(e<B)e=Math.floor(e);else e=Math.ceil(e)}var Y=Math.abs(P-O),D=Math.abs(B-e),c=Y;
if(D/Y<s)c*=D/Y/s;P=P>O?O+c:O-c;B=B>e?e+c*s:e-c*s}if(F&&F.j(bh.sV)){O-=P-O;e-=B-e}}var r=new gS(O,e),N=new gS(P,B);
if(h)z.XE.aby(r,N);return[r,N]};z.XE.aby=function(r,N){if(r.x>N.x){var F=r.x;r.x=N.x;N.x=F}if(r.y>N.y){var F=r.y;
r.y=N.y;N.y=F}r.x=Math.floor(r.x);r.y=Math.floor(r.y);N.x=Math.ceil(N.x);N.y=Math.ceil(N.y)};z.XE.a6a=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
z.XE.eq=function(r,N){var F=z.XE.a6a();if(N==null)N=JSON.parse(JSON.stringify(an.qe[r]));z.l6.Ew(N,F.Usng.v.Type.v,r);
return{Ja:"make",Tf:F}};z.XE.wS=function(r,N){var F=N.qO,h=JSON.parse(JSON.stringify(N.a0));if(F._h==0)h.fillEnabled.v=!1;
var m=z.XE.eq(Math.max(0,F._h-1),F.PL);m.Tf.Usng.v.Shp=r;m.Tf.Usng.v.strokeStyle={t:"Objc",v:h};return m};
z.Sg=function(r){z.JP.call(this,r==0?[10,29]:[10,51],r==0?z.e8:z.atA,r==0?"tools/pen":"tools/cpen");
this.SN=r;this.M5=null;this.fB=null;this.g2=null;this.a0k=0;this.zt=null;this.$W=!1;this.B_=!1;this.Q7=!1;
this.Ue=!1;this.cK=0};z.Sg.prototype=new z.JP;z.Sg.prototype.rm=function(r){return this.fB!=null};z.Sg.prototype.BD=function(r,N,F,h){if(!h.j(bh.sV))this.Q7=!1;
if(this.SN==1&&(h.j(bh.Am)||h.j(bh.Lu))&&this.Zk(bh.Am,r)){this.z1({V:"remove",sj:!0},N,r,h,F);return}z.JP.prototype.BD.call(this,r,N,F,h)};
z.Sg.prototype.vV=function(r,N,F,h,m){this.M5=m;this.OY(N,F);var O=r.q.RX(m.x,m.y),x,Q;O.x=Math.round(O.x);
O.y=Math.round(O.y);var e=z.FZ.fx(r,O,F),P=F.oa,B=this.a0k;if(P==2)P=0;var s=r.bN(P==1),Y=s[0],D=s[1],c=Y[D.pop()],o=c?c.add.vmsk:null;
if(P==0&&B!=0&&c&&c.Jz>=0)P=1;var H=z.BH(r,m);if(o)x=w.H.Bp(o.Y,O,!0,H);var U=h.j(bh.sV);if(P==0&&(o==null||o.zJ.length==0&&x.Jz==-1)){var I=new gf(v.E.nE,!0),l=w.UI.TM("customShape",[0,0,1,1],null,null,null,"--");
I.data=z.XE.wS(l,F);N.L(I);this.Ue=!0;s=r.bN(!0);Y=s[0];D=s[1];c=Y[D.pop()];o=c.add.vmsk;o.Y=o.Y.slice(0,2)}var p=c.add.vogk;
this.fB=o.clone();this.g2=JSON.stringify(p);var j=o.Y,T=w.H.jE(j);Q=w.H.wg(o.Y,new fE(O.x-H,O.y-H,H*2,H*2),o.zJ);
x=w.H.Bp(o.Y,O,!0,H);var V=Q[0].length+Q[1].length+Q[2].length;if(x.Jz!=-1&&Q[0].length==0){var E=w.H.Au(j,x.Jz);
while(j[E].length<=x.wr){x.wr-=j[E].length;E+=j[E].length+1}j[E].length++;var _={type:4,Q$:e.clone(),F:e.clone(),lW:e.clone()};
j.splice(E+2+x.wr,0,_);o.zJ=[E+2+x.wr];if(this.SN==1){_.Q$.x+=2;this.xk(o)}}else if(V!=0&&U){var f=0;
for(var R=0;R<3;R++)if(Q[R].length!=0){f=Q[R][0];this.B_=R==1;break}if(Q[0].length!=0){var S=o.Y.length-1,L=o.Y[f];
L.lW=L.F.clone();var y=L.type>=3?3:0;if(f!=S){L.Q$=L.F.clone();L.type=y+1;this.Q7=!0}else L.type=y+2}o.zJ=[f]}else if(Q[0].length==1&&j[Q[0][0]-1]&&(j[Q[0][0]-1].F!=null||j[Q[0][0]-1].type==0||j[Q[0][0]-1].length==1)){var f=Q[0][0];
if(this.SN==1){var Z=j[f],i=Z.F,b=Math.abs(w.p.arb(Z.Q$.x,Z.Q$.y,i.x,i.y,Z.lW.x,Z.lW.y));if(b>.01){Z.Q$=i.clone();
Z.lW=i.clone()}if(Date.now()-this.cK<300){var G=Z.Q$.cj(i)&&Z.lW.cj(i);if(G)Z.lW.offset(2,2);else{Z.Q$=i.clone();
Z.lW=i.clone()}this.cK=0}else this.cK=Date.now();o.zJ=[f];this.xk(o)}else{var E=w.H.Au(j,w.H.YD(j,f)),l=j[E],g=E+l.length;
if(f!=g||l.type==0){j[E].length--;j.splice(f,1);g--;if(l.length==0){j.splice(E,1);g=-1}}if(g!=-1)o.zJ=[g];
else o.zJ=[]}}else{var u=0;if(o.zJ.length!=1){o.w=[T];j.push({type:3,length:1,r5:[1,2,3,0][Math.max(0,B-1)],sd:0,OD:0,tL:0});
u=j.length;p.push(w.UI.LQ())}else{var Z=o.zJ[0],A=w.H.YD(j,Z),E=w.H.Au(j,A);Z=E+j[E].length;if(gS.Mz(O,j[E+1].F)<H){j[E].type=0;
o.zJ=[E+1];this.zt=e;this.$W=!0;this.aS(r,c.Jz,o,p);r.mR=!0;return}j[E].length++;u=Z+1;if(Z==E+1&&j[E].length!=2)u=E+1}if(h.j(bh.wQ)&&j[u-1]&&j[u-1].F)e=z.ji.hQ(j[u-1].F,e);
var _={type:4,Q$:e.clone(),F:e.clone(),lW:e.clone()};j.splice(u,0,_);o.zJ=[u];this.zt=e;if(this.SN==1){_.Q$.x+=2;
this.xk(o)}this.cK=Date.now()}this.aS(r,c.Jz,o,p);r.mR=!0};z.Sg.prototype.xk=function(r){var N=r.Y,F=r.zJ[0],h=w.H.Au(N,w.H.YD(N,F))+1,m=N[h-1].length;
if(m<3)return;var O=[],e=[];for(var R=0;R<5;R++){var P=h+(F-h-2+R+5*m)%m;e.push(P);var B=N[P].F;O.push(B.x,B.y)}var s=w.p.arA(O);
for(var R=1;R<4;R++){var Y=R*4,D=N[e[R]],B=D.F,c=D.Q$.cj(B)&&D.lW.cj(B);if(!c){D.Q$.YR(s[Y],s[Y+1]);
D.lW.YR(s[Y+2],s[Y+3])}else{D.Q$=B.clone();D.lW=B.clone()}}};z.Sg.prototype.Ui=function(r,N,F,h,m){if(this.fB==null)return;
var O=this.M5;if(O&&gS.Mz(O,m)<z.BH({q:{O:1}},m))return;this.M5=null;var e=r.q.RX(m.x,m.y),P=z.FZ.fx(r,e,F),B=r.bN(F.oa==1),s=B[0],Y=B[1],D=s[Y.pop()],c=D.add.vmsk,o=c.Y,H=o[c.zJ[0]];
if(this.SN==1){var x=H.F.cj(H.Q$)&&H.F.cj(H.lW);H.F=e.clone();H.Q$=e.clone();H.lW=e.clone();if(!x)H.Q$.x+=2;
this.xk(c)}else if(h.j(bh.mk)){if(h.j(bh.wQ))P=z.ji.hQ(this.zt,P);var Q=H.F.bl(H.lW),U=H.Q$.bl(H.F);
H.lW=P;H.F=P.add(Q);H.Q$=H.F.add(U)}else{if(h.j(bh.wQ))P=z.ji.hQ(H.F,P);if(this.B_){var I=H.Q$;H.Q$=H.lW;
H.lW=I}if(this.$W){var l=gS.Mz(H.F,P),p=l==0?0:gS.Mz(H.F,H.lW)/l;H.lW.x=H.F.x+p*(P.x-H.F.x);H.lW.y=H.F.y+p*(P.y-H.F.y)}else H.lW=P;
if(h.j(bh.sV)&&!this.Q7)H.type=5;else{H.type=4;H.Q$=H.F.add(H.F.bl(P))}this.zt=P;if(this.B_){var I=H.Q$;
H.Q$=H.lW;H.lW=I}}this.aS(r,D.Jz,c,D.add.vogk);r.mR=!0};z.Sg.prototype.wJ=function(r,N,F,h,m){if(this.fB==null)return;
var O=r.bN(F.oa==1),e=O[0],P=O[1],B=e[P.pop()],s=B.add.vmsk,Y=B.add.vogk;if(this.$W){s.zJ=[];this.aS(r,B.Jz,s,B.add.vogk)}var D=this.fB.Y.length,c=s.Y.length;
if(!this.Ue)this.qJ(r,this.$W?"Close Path":(D==c?"Move":D<c?"Add":"Delete")+" Anchor Point",B.Jz,this.fB,s.clone(),null,this.g2,JSON.stringify(Y));
this.Ue=!1;this.$W=!1;this.B_=!1;this.Q7=!1;this.fB=null};z.Sg.prototype.qW=function(r,N,F,h,m){this.a0k=r.binop};
z.Yu=function(){z.XE.call(this,[10,30],z.CA,"tools/fpen",!1)};z.Yu.prototype=new z.XE;z.Yu.prototype.Jb=function(r,N,F,h,m,O){var e=h.length-1,P=Math.sqrt((h[e-1]-h[0])*(h[e-1]-h[0])+(h[e]-h[1])*(h[e]-h[1]))<6/m.O;
return[w.H.kw(h,P,O),w.UI.TM("customShape",[0,0,1,1],null,null,null,"--")]};z.SG=function(){z.JP.call(this,[10,27],z.qI,"tools/pselect");
this.sQ=null;this.Lm=!1;this.Yv=null;this.fB=null;this.xf=null;this.g2=null;this.zk=null;this.CC=null;
this._E=null;this.ag=null};z.SG.prototype=new z.JP;z.SG.prototype.rm=function(r){return r.Tb};z.SG.prototype.vV=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=r.bN(),P=e[0],B=e[1],s,Y;
for(var R=0;R<B.length;R++){var D=P[B[R]],c=D.add.vmsk,o=w.H.Bp(c.Y,O).Jz;if(o!=-1){this.Yv=s=D;Y=o}for(var H=0;
H<c.i4.length;H++){var x=w.H.O1(c.Y,c.i4[H]);if(x==null)continue;var Q=gS.Mz(x,O);if(Q<4*z.G()/r.q.O){var U=r.g[D.Jz-1e6].add.TySh,I=U.sl.Curve,l=U.A,p=I.Reversed;
I.Reversed=!1;var I=ac.pj(U.sl.Curve);I.Reversed=p;w.p.A(I[0],l,I[0]);this._E=[I,H,l.O$*l.Bv-l.J*l.KM];
this.Yv=s=D;Y=0}}if(this._E)break}if(s!=null){var c=s.add.vmsk;c.zJ=[];var j=c.w.indexOf(Y);if(h.j(bh.wQ)){if(j==-1){c.w.push(Y);
this.Lm=!0}else c.w.splice(j,1)}else{if(j==-1)c.w=[Y];this.Lm=!0}this.CC=w.H.KX(c.Y,c.w)}this.sQ=O;this.ag=new hE(O);
r.kn=!0;r.mR=!0};z.SG.prototype.Ui=function(r,N,F,h,m){if(this.sQ==null)return;var O=r.q.RX(m.x,m.y);
if(this.Lm){O=this.ag.pe(O,h);var e=this.Yv;if(this.fB==null){this.fB=this.xf=e.add.vmsk.clone();this.g2=this.zk=JSON.stringify(e.add.vogk);
if(h.j(bh.sV)){var P=this.fB.clone(),B=JSON.parse(this.g2),s=z.JP.oF(P,B);z.JP.re(s,P,B);this.xf=P;this.zk=JSON.stringify(B)}}var P=this.xf.clone(),B=JSON.parse(this.zk);
if(this._E){var Y=this._E,D=Y[0][0],c=w.p.a4(D,O.x,O.y);P.i4[Y[1]]=Y[0][1][c];var o=D[c*2],H=D[c*2+1],x=(D[c*2+2]-o)*(O.y-H)-(D[c*2+3]-H)*(O.x-o);
if(Y[2]<0)x=-x;P.D9=x>0}else{var Q=this.CC.clone(),U=Q.x,I=Q.y;Q.offset(O.x-this.sQ.x,O.y-this.sQ.y);
Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);var l=z.FZ.$c(r,Q,F),p=new hc(1,0,0,1,Q.x-U+l[0],Q.y-I+l[1]);
w.H.nY(P.Y,p,P.w);w.UI.A(B,w.N.dj(p),P.w);z.FZ.ri(r,Q,l)}this.aS(r,e.Jz,P,B)}else{var j=this.sQ;r.d.W$=w.p.fc(new fE(j.x,j.y,O.x-j.x,O.y-j.y));
r.mR=!0}};z.SG.prototype.wJ=function(r,N,F,h,m){if(this.sQ==null)return;var O=r.q.RX(m.x,m.y),e=this.Yv,P=e?e.add.vmsk:null;
if(this.Lm){var B=JSON.stringify(e.add.vogk);if(!this.sQ.cj(O))this.qJ(r,"Move Paths",e.Jz,this.fB,P,null,this.g2,B);
if(r!=null&&r.d.Dk){r.d.Dk=null;r.mR=!0}}else{if(P){var s=this.sQ,Y=new fE(s.x,s.y,O.x-s.x,O.y-s.y),D=w.H.aiD(P.Y,Y);
if(h.j(bh.wQ)){for(var R=0;R<D.length;R++)if(P.w.indexOf(D[R])==-1)P.w.push(D[R])}else P.w=D}r.d.W$=null;
r.mR=!0}this.sQ=null;this.fB=null;this._E=null;this.Lm=!1;this.ag=null};z.SG.prototype._r=function(r,N,F,h){z.JP.prototype._r.call(this,r,N,F,h);
if(F.px!=this.id)return;if(r.w.length==0)return;var m=r.bN(),O=m[0],e=m[1];if(e.length==0)return;var P=O[e[0]],B=P.add.vmsk,s=P.add.vstk,Y=P.add.vogk,D=new gf(v.E.S,!0);
D.data={V:v.c.$P,s:this.id,i_:"main",b_:B?B:null,UI:Y};N.L(D)};z.SG.prototype.qW=function(r,N,F,h,m){var O=r.Fs;
if(O.b_){var e=F.bN(),P=e[0],B=e[1];if(B.length==0)return;var s=P[B[0]],Y=s.add.vmsk.clone(),D=JSON.stringify(s.add.vogk),c=O.b_;
this.aS(F,s.Jz,c,O.UI);var o=[18,5];if(Y.Y.length==c.Y.length)o=Y.w[0]==c.w[0]?"Fill Rule":"Path Order";
this.qJ(F,o,s.Jz,Y,c,null,D,JSON.stringify(O.UI))}};z.Ho=function(){z.JP.call(this,[10,28],z.xD,"tools/dselect");
this.RF=-1;this.Hg=-1;this.En=null;this.sQ=null;this.Yv=null;this.fB=null;this.g2=null;this.Ec=null;
this.Fi=0;this.ajg={psnap:!1};this.ag=null};z.Ho.prototype=new z.JP;z.Ho.prototype.rm=function(r){return r.Tb};
z.Ho.prototype.qW=function(r){this.ajg=r};z.Ho.prototype.z1=function(r,N,F,h,m){if(r.V=="crnr"){if(F==null)return;
var O=F.bN(),e=O[0],P=O[1];if(P.length==0){alert("No paths selected");return}var B=e[P[0]],s=B.add.vmsk;
if(s.zJ.length==0){alert("No corners selected");return}for(var R=0;R<s.zJ.length;R++){var Y=s.Y[s.zJ[R]];
if(!Y.F.cj(Y.lW)||!Y.F.cj(Y.Q$)){alert("Only sharp corners can be rounded");return}}if(this.fB==null){this.fB=B.add.vmsk.clone();
this.g2=JSON.stringify(B.add.vogk);this.Yv=B;this.Ec=F}var D=new gf(v.E.S,!0);D.data={V:v.c.pr,i7:"cornerradius",Q5:5,q3:this.amw.bind(this)};
N.L(D)}else z.JP.prototype.z1.call(this,r,N,F,h,m)};z.Ho.prototype.amw=function(r){if(r=="confirm"){var N=this.Ec,F=this.Yv,h=F.add.vmsk,m=F.add.vogk;
this.qJ(N,[12,94,0],F.Jz,this.fB,h,null,this.g2,JSON.stringify(m));this.QU();return}var h=this.fB.clone(),m=JSON.parse(this.g2),O=h.zJ;
if(r=="cancel"){}else{var e=[];for(var R=0;R<O.length;R++){var P=O[R],B=w.H.YD(h.Y,P,!0),D=0;if(e.indexOf(B)!=-1)continue;
e.push(B);var s=w.H.Au(h.Y,B,!0),Y=h.Y[s].length,c=[];for(var o=0;o<Y;o++){var H=h.zJ.indexOf(s+o+1)==-1?0:r;
c.push(H);if(H!=0)D++}w.H.iA(h.Y,s,c);for(var o=0;o<O.length;o++)if(O[o]>s+Y)O[o]+=D}this.Uj(h,m);h.zJ=[]}this.aS(this.Ec,this.Yv.Jz,h,m);
if(r=="cancel")this.QU()};z.Ho.prototype.disable=function(r,N,F,h){this.M1(r)};z.Ho.prototype.vV=function(r,N,F,h,m){this.M1(r);
var O=r.q.RX(m.x,m.y),D,c,o;this.En=O.clone();var e=r.bN(),P=e[0],B=e[1];if(B.length==0)return;var s=z.BH(r,m),Y=new fE(O.x-s,O.y-s,s*2,s*2);
for(var H=0;H<B.length;H++){D=this.Yv=P[B[H]];c=D.add.vmsk;o=w.H.wg(c.Y,Y);if(o[0].length+o[1].length+o[2].length!=0)break}var x=[!1,!1,!1];
for(var R=0;R<3;R++){for(var Q=0;Q<o[R].length;Q++){var U=o[R][Q];if(c.zJ.indexOf(U)!=-1||R==1&&c.zJ.indexOf(U-1)!=-1||R==2&&c.zJ.indexOf(U+1)!=-1){o[R]=[U];
x[R]=!0;break}}}if(o[0].length!=0&&(x[0]||!x[1]&&!x[2])){var I=o[0][0],l=c.zJ.indexOf(I);if(h.j(bh.wQ)){if(l==-1)c.zJ.push(I);
else{c.zJ.splice(l,1);r.mR=!0;return}}else if(l==-1)c.zJ=[I];this.RF=I;this.Hg=0}else if(o[1].length!=0&&x[1]){this.RF=o[1][0];
this.Hg=1}else if(o[2].length!=0&&x[2]){this.RF=o[2][0];this.Hg=2}else{var p=w.H.Bp(c.Y,O,!0,s);if(p.Jz==-1)this.sQ=O;
else{c.w=[p.Jz];c.zJ=[]}}if(this.fB==null){this.fB=D.add.vmsk.clone();this.g2=JSON.stringify(D.add.vogk)}this.ag=new hE(O);
r.mR=!0};z.Ho.prototype.Ui=function(r,N,F,h,m){if(r==null)return;var O=r.q.RX(m.x,m.y),e=this.Yv;if(this.RF!=-1){var P=this.fB.clone(),B=e.add.vogk,s=P.Y[this.RF];
s=[s.F,s.Q$,s.lW][this.Hg];if(h.j(bh.wQ)){if(this.Hg==0){O=this.ag.pe(O,h);O.x+=s.x-this.En.x;O.y+=s.y-this.En.y}else O=z.ji.hQ(P.Y[this.RF].F,O)}else{if(this.ajg.psnap){O.x=Math.round(O.x);
O.y=Math.round(O.y)}O=z.FZ.fx(r,O,F)}if(this.Hg==0){var Y=new hc(1,0,0,1,O.x-s.x,O.y-s.y);w.H.nY(P.Y,Y,null,P.zJ)}else{var D=P.Y[this.RF],c=D.Q$,o=D.lW;
if(this.Hg==2){c=D.lW;o=D.Q$}if(h.j(bh.sV)&&(D.type==1||D.type==4))D.type++;c.YR(O.x,O.y);if(D.type==1||D.type==4){var H=gS.Mz(c,D.F),x=gS.Mz(o,D.F);
if(x!=0){o.x=D.F.x-(c.x-D.F.x)*(x/H);o.y=D.F.y-(c.y-D.F.y)*(x/H)}}}this.Uj(P,B);this.aS(r,e.Jz,P,B)}else if(this.sQ!=null){var Q=this.sQ;
r.d.W$=w.p.fc(new fE(Q.x,Q.y,O.x-Q.x,O.y-Q.y));r.mR=!0}else{var U=r.bN(),I=U[0],l=U[1],e,P,T;if(l.length==0)return;
var p=z.BH(r,m),j=new fE(O.x-p,O.y-p,p*2,p*2);for(var V=0;V<l.length;V++){e=I[l[V]];P=e.add.vmsk;T=w.H.wg(P.Y,j);
if(T[0].length+T[1].length+T[2].length!=0)break}this.M1(r);for(var R=0;R<3;R++){for(var E=0;E<T[R].length;
E++){var _=T[R][E],f=P.Y[_];f=R==0?f.F:R==1?f.Q$:f.lW;r.d.Rs.push(r.d.ij.length>>>1);r.d.ij.push(f.x,f.y);
r.mR=!0}}}};z.Ho.prototype.M1=function(r){if(r&&r.d.ij.length!=0){r.d.ij=[];r.d.Rs=[];r.mR=!0}};z.Ho.prototype.wJ=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=this.Yv,P=e?e.add.vmsk:null,B=e?e.add.vogk:null;
if(this.RF!=-1){if(Date.now()-this.Fi<300){var s=P.Y[this.RF],Y=this.Hg,D=null;if(Y==0){var c=s.Q$.cj(s.F),o=s.lW.cj(s.F);
if(!c&&!o){D="Anchor Type";if(s.type==1||s.type==4)s.type++;else{s.type--;s.lW=s.F.add(s.F.bl(s.Q$))}}else{D="Add Handles";
if(c&&o){s.Q$.x-=30;s.lW.x+=30}else if(c)s.Q$=s.F.add(s.F.bl(s.lW));else if(o)s.lW=s.F.add(s.F.bl(s.Q$))}}else{D="Remove Handle";
if(Y==1)s.Q$.qv(s.F);else s.lW.qv(s.F)}this.Uj(P,B);this.aS(r,e.Jz,P,B);this.qJ(r,D,e.Jz,this.fB,P,null,this.g2,JSON.stringify(B))}else if(!this.En.cj(O)){this.qJ(r,"Drag Anchors",e.Jz,this.fB,P,null,this.g2,JSON.stringify(B))}this.Fi=Date.now()}else if(this.sQ!=null){var H=this.sQ,x=new fE(H.x,H.y,O.x-H.x,O.y-H.y);
if(x.e<0)x.x+=x.e;if(x.n<0)x.y+=x.n;x.e=Math.abs(x.e);x.n=Math.abs(x.n);var Q=w.H.wg(P.Y,x);P.zJ=Q[0].concat(h.j(bh.wQ)?P.zJ:[]);
r.d.W$=null}this.QU();r.mR=!0};z.Ho.prototype.QU=function(){this.Yv=null;this.fB=null;this.sQ=null;this.RF=this.Hg=-1;
this.ag=null};z.Ho.prototype.Uj=function(r,N){for(var R=0;R<r.zJ.length;R++){var F=w.H.YD(r.Y,r.zJ[R]);
w.UI.R7(N,F)}};z.Ho.prototype.BD=function(r,N,F,h){if(r==null)return;var m=r.bN(),O=m[0],e=m[1];if(e.length==0)return;
var P=O[e[0]],B=P.add.vmsk;if(B==null||B.zJ.length==0)return;var s=P.add.vogk,Y=JSON.stringify(s),D=h.S5();
if(D.x!=0||D.y!=0){var c=B.clone(),o=B.clone(),H=new hc(1,0,0,1,D.x,D.y);w.H.nY(o.Y,H,null,o.zJ);this.Uj(o,s);
this.aS(r,P.Jz,o,s);this.qJ(r,"Move Anchors",r.w[0],c,o.clone(),!0,Y,JSON.stringify(s))}if(h.j(bh.Am)||h.j(bh.Lu))this.z1({V:"remove",sj:!0},N,r,h,F)};
z.Ho.prototype.qJ=function(r,N,F,h,m,O,e,P){var B=r.xp();if(O&&B!=null&&B.s==this&&B.data.adj&&B.data.xe==F&&JSON.stringify(B.data.wE.zJ)==JSON.stringify(h.zJ)){B.data.UQ=m;
B.data.m_=P}else{var B=new g2(N,this);B.data={xe:F,wE:h,UQ:m,adj:O,aoy:e,m_:P};r.Zy(B)}};z.Rect=function(){z.XE.call(this,[10,32],z.Dr,"tools/rect",!0)};
z.Rect.prototype=new z.XE;z.Rect.prototype.Jb=function(r,N,F){var h=this.Jd.crad,m=N.x-r.x,O=N.y-r.y;
return[w.H.yN.Rect(r.x,r.y,m,O,h),w.UI.TM("Rctn",[r.x,r.y,N.x,N.y],[h,h,h,h])]};z.b4=function(){z.XE.call(this,[10,33],z.n4,"tools/ellipse",!0)};
z.b4.prototype=new z.XE;z.b4.prototype.Jb=function(r,N,F){var h=N.x-r.x,m=N.y-r.y;return[w.H.yN.b4(r.x,r.y,h,m),w.UI.TM("Elps",[r.x,r.y,N.x,N.y])]};
z.i0=function(){z.XE.call(this,[10,34],z.w6,"tools/pshape",!1);this.Jd.aopts=[!1,!0,50,100,0]};z.i0.prototype=new z.XE;
z.i0.prototype.Jb=function(r,N,F){var h=this.Jd.pshape,m=this.Jd.crad,O=this.Jd.irad/100,e=this.Jd.sides,P=this.Jd.width,B=this.Jd.aopts,s=this.Jd.length,Q;
N=N.clone();var Y=r.x,D=r.y,c=N.x,o=N.y,H=Math.sqrt((c-Y)*(c-Y)+(o-D)*(o-D)),x=Math.atan2(-o+D,c-Y);
if(F)x=Math.round(x*180/Math.PI/15)*15*Math.PI/180;if(h==0)Q=w.H.yN.We(Y,D,H,x,e,m);if(h==1)Q=w.H.yN.Lf(Y,D,H,x,e,m,O);
if(h==2)Q=w.H.yN.Iw(r.x,r.y,N.x,N.y,P,B);if(h==3)Q=w.H.yN.auZ(Y,D,H,x,s);return[Q,w.UI.TM("customShape",[r.x,r.y,N.x,N.y],null,null,null,"--")]};
z.i0.prototype.BD=function(r,N,F,h){z.XE.prototype.BD.call(this,r,N,F,h);var m=h.S5(),O=this.Jd,e,P;
if(m.y!=0){var B=-m.y,s=O.pshape;if(s<2){e="sides";P=Math.max(3,Math.min(100,O.sides+B))}else if(s==2){e="width";
P=Math.max(1,Math.min(100,O.width+B))}else if(s==3){e="length";P=Math.max(4,Math.min(40,O.length+B))}}if(m.x!=0){e="pshape";
P=Math.max(0,Math.min(3,O.pshape+m.x))}if(e){var Y=new gf(v.E.S,!0),D={};D[e]=P;O[e]=P;Y.data={V:v.c.$P,s:this.id,bT:"vals",aon:D};
N.L(Y);this.Ui(r,N,F,h)}};z.P9=function(){z.XE.call(this,[10,35],z.Ob,"tools/line",!1)};z.P9.prototype=new z.XE;
z.P9.prototype.Jb=function(r,N,F){var h=this.Jd.width,m=this.Jd.aopts;N=N.clone();if(F){N=z.ji.hQ(r,N)}return[w.H.yN.Iw(r.x,r.y,N.x,N.y,h,m),w.UI.TM("Ln",null,null,[r.x,r.y,N.x,N.y],h,null,m)]};
z.EE=function(){z.XE.call(this,[10,31],z.k2,"tools/cshape",!0)};z.EE.prototype=new z.XE;z.EE.prototype.Jb=function(r,N,F){var h=this.Jd.shape,m=h.$J.e/h.$J.n,O=C.Ug.sN(h.Y);
N=N.clone();var e=N.x-r.x,P=N.y-r.y;w.H.nY(O,new hc(e,0,0,P,r.x,r.y));return[O,w.UI.TM("customShape",[r.x,r.y,N.x,N.y],null,null,null,h.no)]};
z.Q=function(r,N,F){z.bE.call(this,r,N,F);this.Hz=0;this.g=null;this.MU=null;this.if=null;this.Ha=1;
this.n0=!1;this.cursor=null;this.kN=null;this.Rj=null;this.JJ=!1;this.TU=null;this.a1W=0;this.kG=null;
this.SN=0;this.bL=null;this.DS=null;this.AX=null;this.UH=null;this.atM=null;this.sp=null};z.Q.prototype=new z.bE;
z.Q.os=function(r,N){var F={classID:"null",null:fq.IT("Dcmn",!0)};if(r)F.Angl={t:"UntF",v:{type:"#Ang",val:N}};
else F.Axis={t:"enum",v:{Ornt:N}};return{Ja:r?"rotateEventEnum":"flip",Tf:F}};z.Q.prototype.TK=function(r,N,F,h,m){var O=new gf(v.E.S,!0);
O.data={V:v.c.$P,s:this.id,gf:m,UB:r,if:F};N.L(O);this.rH=!1};z.Q.prototype.rm=function(r){return this.DS&&this.DS.zr()};
z.Q.prototype.z1=function(r,N,F,h,m){this.if=m;if(r.V=="again"&&this.kG==null)return;if(!this.MH(F,m))return;
if(this.DS){this.z0(r,this.DS.p9());this.C6(F,m,0,!0);this.vP(F);return}this.vq(F,r.a==null,r.a);this.Vk(F);
this.z0(r);this.ot(F,N,r.Py,!1)};z.Q.prototype.z0=function(r,N){var F=this.bL;if(N==null){var h=r.Uu!=null?r.Uu:4;
N=this.DS.a4X()[h]}var m=N.x,O=N.y;if(r.V=="rot"&&r.h!=Math.PI&&(F.e+F.n&1)==1){m=Math.floor(m);O=Math.floor(O)}var e=new hc;
e.translate(-m,-O);if(r.V=="rot")e.rotate(r.h);if(r.V=="scl")e.scale(r.h.x,r.h.y);if(r.V=="mat")e.concat(r.h);
e.translate(m,O);if(r.V=="again")e=this.kG;var P=this.DS.zI();w.p.A(P,e,P);this.DS.kb(P)};z.Q.prototype.N7=function(){return!0};
z.Q.prototype.MH=function(r,N){if(r==null)return!1;if(this.id==z.DM)return r.$!=null;var F=r.Js(!0,null,null,!0);
if(this.id==z.jU&&r.g[F[0]].rect.lX()){alert("Layer is empty.");return!1}for(var R=0;R<F.length;R++){var h=r.g[F[R]];
if(h.gT(2)||h.gT(31)){alert(ab.get([6,57,0]));return!1}if(h.add.artb){alert("You can not transform the whole artboard");
return!1}if(h.add.TySh)if(!d0.wc(h.add.TySh,N.FN))return!1;if(h.add.SoLd){if(F.length==1&&!w.U5.n5(h.add.SoLd.warp.v)&&(h.$n()&&h.$n().AS||h.add.vmsk&&h.add.vmsk.AS)){alert("Unlink masks before transforming Smart Object");
return!1}if(!r.abf(h.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+r.pH(h.add.SoLd.Idnt.v).bp+")");
return!1}}}if(r.$==null)return!0;if(!r.VT())return!1;return r.ah3()};z.Q.prototype.vV=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);
if(this.SN==1){var e=w.N.iL(w.N.UD(this.DS.zI(),this.bL));O=w.N.xS(e,O)}var P=this.SN==0?this.DS:this.AX;
this.n0=P.vV(r,F,h,O,null,null,m);if(this.n0&&P.hB(O)){if(Date.now()-this.a1W<250)this.ot(r,N,null,!0);
this.a1W=Date.now()}};z.Q.prototype.LN=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.oQ,eT:this.cursor};
r.L(N)};z.Q.prototype.Ui=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);if(this.SN==1){var e=w.N.iL(w.N.UD(this.DS.zI(),this.bL));
O=w.N.xS(e,O)}var P=this.SN==0?this.DS:this.AX;if(!m.Tb){var B="default";if(P){var s=P.d3(O,r.q.O,null,m);
if(s)B=s}if(B!=this.cursor){this.cursor=B;this.LN(N)}}if(!this.n0)return;P.Ui(r,F,h,O);this.C6(r,F,0,!0);
this.vP(r);this.i2(N)};z.Q.prototype.wJ=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);this.DS.wJ(r,F,h,O);
this.n0=!1};z.Q.prototype.BD=function(r,N,F,h){if(h.j(bh.Ve))this.ot(r,N,null,!0);else if(h.j(bh.R_))this.o8(r,N);
else{var m=this.DS.BD(r,F,h);if(m){this.C6(r,F,0,!0);this.i2(N)}}};z.Q.prototype.qW=function(r,N,F,h){if(r.i_=="commit")this.ot(F,N,null,!0);
else if(r.i_=="cancel")this.o8(F,N);else if(r.i_=="switchWarp"){this.SN=1-this.SN;this.ahA();this.vP(F);
this.i2(N)}else if(r.i_=="wrp"){this.AX.hD(r.y3);this.vP(F);this.C6(F,this.if,0,!0)}else if(r.i_=="ctyp"){this.DS.aeo(r.Gz);
this.vP(F);this.i2(N)}else if(r.i_=="cen"){this.DS.a8r(r.xW);this.vP(F);this.C6(F,this.if,0,!0);this.i2(N)}else if(r.i_=="trn"){var m=w.N.dj(r.wO),O=this.bL,e=w.N.UD(this.DS.zI(),this.bL);
m[6]=e[6],m[7]=e[7];var P=[O.x,O.y,O.x+O.e,O.y,O.x+O.e,O.y+O.n,O.x,O.y+O.n];w.N.A(m,P);this.Ha=r.Ha;
this.DS.kb(P);this.vP(F);this.C6(F,this.if,0,!0)}};z.Q.prototype.vP=function(r){if(this.SN==0)this.DS.TL(r,this.if);
else{this.AX.TL(r);var N=w.N.UD(this.DS.zI(),this.bL);w.N.A(N,r.d.W$.t);w.N.A(N,r.d.eJ)}};z.Q.prototype.ot=function(r,N,F,h){this.C6(r,this.if,this.Ha);
var m=new g2(F?F:this.name,this);if(this.Hz==0)m.data={type:this.Hz,g:this.g,TU:this.MU,ei:z.Q.mE(r,this.g)};
else if(this.Hz==1){var O=r.g[this.g[0]],e;if(O._f.Ku<=0){e=w.B(O._f.xm.W());w.Pw(O._f.VX,e,3)}else e=r.$.channel;
var P={rect:O._f.xm.clone(),channel:e};m.data={type:this.Hz,a:this.g[0],Rj:this.Rj,xF:P,kN:this.kN,JJ:this.JJ,_f:O._f,TU:this.TU,ei:{NQ:O._f.xm,C2:O._f.VX}}}else if(this.Hz==2){m.data={type:this.Hz,Rj:this.Rj,xF:{rect:r.$.rect.clone(),channel:r.$.channel.slice(0)}}}r.Zy(m);
var B=this.bL,s=new gS(B.x+B.e/2,B.y+B.n/2),Y=w.N.UD(this.DS.zI(),B),D=w.N.Ss(Y),c=new hc;c.translate(s.x,s.y);
c.concat(D);c.translate(-s.x,-s.y);D=c.clone();var o=-Math.atan2(-D.J,D.O$),H=new hc;H.rotate(o);D.concat(H);
function x(I,l){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][l],val:I}}}var Q=fq.IT("Lyr",!0);if(this.id==z.DM)Q.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var U={classID:"null",null:Q,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:x(c.HG,0),Vrtc:x(c.SS,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:x(Math.atan(D.KM)*180/Math.PI,2),Vrtc:x(0,2)}},Wdth:x(D.O$*100,1),Hght:x(D.Bv*100,1),Angl:x(o*180/Math.PI,2)};
this.dI=N;this.track({Ja:"transform",Tf:U});this.escape(r,N,h)};z.Q.prototype.o8=function(r,N){if(this.Hz==0)z.Q.Qn(r,this.g,this.MU);
else if(this.Hz==1){var F=r.g[this.g[0]];r.$=this.Rj;if(!this.JJ){F._f.xm=this.TU.NQ;F._f.VX=this.TU.C2;
F.zT(r,0,0,r.$)}else{F.Bq(r,this.kN)}r.M();r._a=!0}else if(this.Hz==2){r.$=this.Rj;r._a=!0}this.escape(r,N,!0)};
z.Q.prototype.escape=function(r,N,F){this.DS.clear(r);this.DS=null;this.AX=null;this.sp=null;this.SN=0;
if(F)this.ET(N,v.E.S,{V:v.c.ad})};z.Q.prototype.uq=function(r,N){if(r.type==0)z.Q.Qn(N,r.g,r.ei);else{if(r.type==1){var F=N.g[r.a];
if(r.JJ){F._f=r._f}else{F._f.xm=r.ei.NQ;F._f.VX=r.ei.C2}F.zT(N,0,0,N.$);N.M()}N.$={rect:r.xF.rect.clone(),channel:r.xF.channel.slice(0)};
N._a=!0}};z.Q.prototype.UO=function(r,N){if(r.type==0)z.Q.Qn(N,r.g,r.TU);else{if(r.type==1){var F=N.g[r.a];
if(r.JJ){F.Bq(N,r.kN)}else{F._f.xm=r.TU.NQ;F._f.VX=r.TU.C2;F.zT(N,0,0,N.$)}N.M()}N.$=r.Rj;N._a=!0}};
z.Q.prototype.vq=function(r,N,F){r.bN();var h=[];if(F==null)for(var R=0;R<r.ih.length;R++)if(r.N$[r.ih[R]].add.vmsk.Y.length>2)h.push(-1-r.ih[R]);
var m=[],O=r.q.Hr;if(O[0]+O[1]+O[2]==3)if(F!=null||h.length==0||r.OW!=null&&r.OW.length!=0){if(r.w.length==1){var e=r.g[r.w[0]];
if(e.zv()&&e.pk)m=[r.w[0]]}if(m.length==0)m=r.Js(N,F,null,!0)}m=m.concat(h);for(var R=0;R<r.I2.length;
R++)m.push(-1e3-r.I2[R]);this.g=m};z.Q.prototype.enable=function(r,N,F,h,m,O){if(this.cursor==null)this.cursor="default";
this.LN(N);if(this.DS)return;this.if=F;this.vq(r,!0);this.Vk(r,O&&O.j4!=null&&O.j4!=-1?O.j4:null);this.i2(N);
this.vP(r);if(O&&O.j4==-1)this.qW({i_:"switchWarp"},N,r,h)};z.Q.prototype.i2=function(r){var N={V:v.c.$P,s:this.id};
if(this.SN==0){var F=w.N.UD(this.DS.zI(),this.bL),h=w.N.Ss(F);N.wO={PB:h,Gz:this.DS.ahi(),xW:this.DS.p9(),NQ:this.bL.clone()}}else{N.y3=this.AX.MR()}N.ap2=this.AX!=null;
this.ET(r,v.E.S,N)};z.Q.prototype.Vk=function(r,N){var F=this.id==z.DM,h=!0,m=this.g[0],O=r.g[m],P=null,B=null;
if(F){this.Hz=2;this.Rj=r.$}else if(r.$&&this.g.length==1&&m>=0&&!O.rect.lX()){this.Hz=1;this.Rj=r.$;
this.kN=O._f;this.JJ=!1;if(!O.Bi(r,r.$)){this.JJ=!0;O.Nj(r,r.$,!1)}this.TU={C2:O._f.VX,NQ:O._f.xm}}else{this.Hz=0;
this.MU=z.Q.mE(r,this.g,null);for(var R=0;R<this.MU.length;R++)if(this.MU[R][3]!=null)h=!1}var e=this.Hz==1;
if(this.MU&&this.MU.length==1){var s=this.MU[0];if(s[2]!=null&&s[2].UI){var Y=s[2].b_.w;if(Y.length<2){B=s[2].UI[Y.length==0?0:Y[0]].v;
if(!w.UI.ja(B))B=null}}if(s[3]==null)e=!0;if(s[4]!=null){P=r.g[this.g[0]].add.SoLd;if(s[1]||s[2])e=!1}}var D=F?r.$.rect.clone():z.Q.Tm(r,this.g);
this.bL=D;if(!F&&P){var c=z.Q.N3(P.nonAffineTransform);this.bL=w.p.Ce(w.U5.bM(P.warp.v));if(e)this.AX=new d1(P.warp.v);
this.UH=w.N.UD(c,this.bL);this.DS=new az(c,!0,!0,h,!1,!1,N)}else{if(e||F)this.AX=new d1(w.U5.B(this.bL));
this.UH=[1,0,0,0,1,0,0,0];if(this.id==z.jU)N=3;this.DS=new az([D.x,D.y,D.x+D.e,D.y,D.x+D.e,D.y+D.n,D.x,D.y+D.n],!0,!0,h,!1,!1,N)}this.atM=[1,0,0,0,1,0,0,0];
if(this.id==z.jU){var o,H;if(this.MU){var x=this.MU[0][0],Q=x.Hs;o=Q[0];H=Q[1]}else if(this.TU){o=this.TU.C2;
H=this.TU.NQ}this.sp=w.RM.acD(o,H.e,H.n)}};z.Q.Tm=function(r,N){if(N==null)N=r.Js(!0,null,null,!0);var F=new fE,h=new fE;
if(r.$&&N.length==1&&N[0]>=0)F=r.$.rect.clone();else for(var R=0;R<N.length;R++){var m=N[R],O=0<=m?r.g[m]:-1e3<m?r.N$[-1-m]:r.O0[-1e3-m],e=O.add?O.add.vmsk:null,P=0<=m?O.R5(r,N.length==1,!1,!0):-1e3<m?w.H.KX(e.Y,N.length==1&&e.w.length!=0?e.w:null):O.rect.clone();
F=F.fD(P);if(m>0&&O.add.artb)h=h.fD(O.CN())}return!h.lX()?h:F};z.Q.prototype.ET=function(r,N,F,h){var m=new gf(N,!0);
m.data=F;if(h)m.s=h;r.L(m)};z.Q.mE=function(r,N,F){var h=[];for(var R=0;R<N.length;R++){var m=N[R],O,e;
if(m>=0){O=r.g[m];e=O.P$(r,F,!0)}else if(m>-1e3){O=r.N$[-1-m];e=[2]}else{h.push([null,null,null,null,null,null,null,r.O0[-1e3-m].clone()]);
continue}var P=[];if(e.indexOf(0)!=-1){var B={Hs:[O.buffer.slice(0),O.rect.clone()]};P.push(B);if(O.Ru()){var s=O.xg(r);
B.abX=s.buffer.slice(0);B.aeL=s.rect.clone()}}else P.push(null);if(e.indexOf(1)!=-1)P.push(O.$n().clone());
else P.push(null);if(e.indexOf(2)!=-1)P.push({b_:O.add.vmsk.clone(),mr:O.add.vstk?JSON.parse(JSON.stringify(O.add.vstk)):null,PL:O.add.vstk?z.JP.us(r,m):null,UI:O.add.vogk?JSON.parse(JSON.stringify(O.add.vogk)):null});
else P.push(null);if(O.add.TySh&&P[0]){gQ.$s(O.add.TySh);P.push(O.add.TySh.A.clone())}else P.push(null);
if(O.add.SoLd&&P[0])P.push(JSON.parse(JSON.stringify(O.add.SoLd)));else P.push(null);if(e.indexOf(3)!=-1)P.push(O.xg(r).v.clone());
else P.push(null);if(O.add.lmfx)P.push(JSON.stringify(O.add.lmfx));else P.push(null);h.push(P)}return h};
z.Q.Qn=function(r,N,F){for(var R=0;R<N.length;R++){var h=N[R],m=0<=h?r.g[h]:-1e3<h?r.N$[-1-h]:r.O0[-1e3-h],O=F[R];
if(O[0]){m.rect=O[0].Hs[1].clone();m.buffer=O[0].Hs[0].slice(0);if(m.Ru()){var e=m.xg(r);e.buffer=O[0].abX.slice(0);
e.rect=O[0].aeL.clone()}}if(O[1]){m.$n().channel=O[1].channel.slice(0);m.$n().rect=O[1].rect.clone();
m.$n().ug=!0}if(O[2]){m.add.vmsk=O[2].b_.clone();if(O[2].PL)z.JP.zL(m,O[2].PL);if(O[2].mr)m.add.vstk=JSON.parse(JSON.stringify(O[2].mr));
if(O[2].UI)m.add.vogk=JSON.parse(JSON.stringify(O[2].UI))}if(O[3]){m.add.TySh.A=O[3].clone();gQ.hy(m.add.TySh)}if(O[4]){m.add.SoLd=JSON.parse(JSON.stringify(O[4]))}if(O[5]){var P=m.xg(r).v;
P.channel=O[5].channel.slice(0);P.rect=O[5].rect.clone()}if(O[6]){m.add.lmfx=JSON.parse(O[6])}if(O[7]){m.channel=O[7].channel.slice(0);
m.rect=O[7].rect.clone();m.ug=!0}if(0<=h){m.dD(r);m.M()}}r.M()};z.Q.zf=function(r){var N=r.clone(),F=Math.atan2(-N.J,N.O$),h=new hc;
h.rotate(-F);N.concat(h);return(Math.abs(N.O$)+Math.abs(N.Bv))/2};z.Q.QC=function(r,N,F,h,m,O,e,P,B,s){if(typeof O[0]=="number"){var Y=[];
for(var R=0;R<F.length;R++)Y[R]=O;O=Y}for(var R=0;R<F.length;R++){var D=O[R],c=w.N.Ss(D),o=z.Q.zf(c),H=F[R],x=0<=H?r.g[H]:-1e3<H?r.N$[-1-H]:r.O0[-1e3-H],Q=h[R];
if(x.add.lmfx&&P)iL.Fx(x.add.lmfx,o);if(Q[0]&&!Q[3]&&!Q[4]&&!Q[5]){var U=Q[0].Hs;if(B){var I=B.clone(),l=w.B(I.W()*4);
w.L3(U[0],U[1],l,I);U=[l,I]}var p=z.Q.Rx(U,m,D,e,m==0?x.buffer.buffer:null,null,null,s);if(p){x.rect=p.rect;
x.buffer=p.buffer}}if(Q[1]){var j=x.$n();z.Q.VL(r,Q[1],j,m,D,e);if(B){var I=x.rect.c_(B),T=w.B(I.W());
w.nZ(j.channel,j.rect,T,I);j.channel=T;j.rect=I}}if(Q[2]){var V=e&&!w.U5.n5(e),E=Q[2].b_.clone(),_=F.length==1&&E.w.length!=0,f=F.length==1&&E.zJ.length>1;
if(f)_=!1;var S=_?E.w:null,L=f?E.zJ:null;if(V){var y=w.U5.bM(e);w.N.A(D,y);w.H.afV(E.Y,y,S,L)}else w.H.a9a(E.Y,D,S,L);
if(x.add.vstk&&P){x.add.vstk.strokeStyleLineWidth.v.val=Q[2].mr.strokeStyleLineWidth.v.val*o;var $=Q[2].PL;
if($&&$._h==3){$=JSON.parse(JSON.stringify($));var Z=$.PL.phase.v;$.PL.Scl.v.val=Math.round($.PL.Scl.v.val*o);
Z.Hrzn.v=Math.round(Z.Hrzn.v*o);Z.Vrtc.v=Math.round(Z.Vrtc.v*o);z.JP.zL(x,$)}}if(x.add.vogk){x.add.vogk=JSON.parse(JSON.stringify(Q[2].UI));
if(V||f)w.UI.aos(x.add.vogk);else w.UI.A(x.add.vogk,D,F.length>1?[]:E.w,P)}E.J_*=o;x.add.vmsk=E;if(x.add.vogk)w.UI.Tz(x.add.vogk,x.add.vmsk)}if(Q[3]){var i=Q[3].clone();
i.concat(c);x.add.TySh.A=i;gQ.hy(x.add.TySh);var b=new ac(x.add.TySh.sl,N.FN),G=d0.nG(b,x.add.TySh);
x.rect=G.NQ;x.buffer=G.iS}if(Q[4]){var g=x.add.SoLd,u=z.Q.N3(Q[4].nonAffineTransform);w.N.A(D,u);var A=w.p.e0(u);
if(az.HJ(u)){if(e){var a=w.p.Ce(w.U5.bM(Q[4].warp.v)),T=w.N.UD(u,a),d=w.p.Ce(w.U5.bM(e));u=[d.x,d.y,d.x+d.e,d.y,d.x+d.e,d.y+d.n,d.x,d.y+d.n];
w.N.A(T,u);g.warp.v=e}var K=w.N.UD(u),n=u;if(!w.N.Hl(K)){K[6]=K[7]=0;n=[0,0,1,0,1,1,0,1];w.N.A(K,n)}g.Trnf=z.Q.JE(n);
g.nonAffineTransform=z.Q.JE(u);if(g.filterFX)g.filterFX=JSON.parse(JSON.stringify(Q[4].filterFX));z.Q.Zo(g,c);
x.XY(r,m==0)}}if(Q[5])z.Q.VL(r,Q[5],x.xg(r).v,m,D,e);if(Q[7])z.Q.VL(r,Q[7],x,m,D,e);if(0<=H){if(m!=0)x.RR();
x.dD(r);x.M()}}r.M()};z.Q.iG=function(r,N,F,h,m,O){if(F==null)F=!1;return z.Q.Rx(r,F?0:1,w.N.dj(N),null,h,m,O,F)};
z.Q.Rx=function(r,N,F,h,m,O,e,P){if(P==null)P=!1;if(P&&e)throw"e";var B={},c=0,o=.3;if(h&&!w.U5.n5(h)){var s=w.U5.bM(h);
w.N.A(F,s);B.rect=w.p.e0(s);B.buffer=w.B(B.rect.W()*4);w.DK.drawImage(s,r[0],r[1].e,r[1].n,B.buffer,B.rect,N==0);
return B}w.A_(r);var Y=r[0],D=r[1],H=D.W()*z.Q.zf(w.N.Ss(F));if(P&&H>4e6)o=H>8e6?2.2:1.2;while(c+3<r.length&&r[c+3].W()>16&&w.N.Hl(F)&&z.Q.zf(w.N.Ss(F))<o){c+=2;
var x=r[c],Q=r[c+1],U=D.e/Q.e,I=D.n/Q.n;F=w.N.u8(F,[1,0,D.x,0,1,D.y,0,0]);F=w.N.u8(F,[U,0,0,0,I,0,0,0]);
F=w.N.u8(F,[1,0,-D.x,0,1,-D.y,0,0]);D=Q;Y=x}var l=w.N.u8(F,w.N.dj(new hc(D.e,0,0,D.n,D.x,D.y))),p=[0,0,1,0,1,1,0,1];
w.N.A(l,p);B.rect=w.p.e0(p);if(e)B.rect=B.rect.c_(e);if(P){while((B.rect.e&3)!=0)B.rect.e++;while((B.rect.n&3)!=0)B.rect.n++}if(!az.HJ(p)||B.rect.e>1e5||B.rect.n>1e5||B.rect.W()>3e4*3e4)return null;
var j=B.rect.W()*4;if(m&&m.byteLength>=j&&j>=m.byteLength>>2){B.buffer=new Uint8Array(m)}else{B.buffer=w.B(j)}w.N.drawImage(l,Y,D.e,D.n,B.buffer,B.rect,N==0,O,P);
if(N==2&&B.buffer){var T=B.rect.e,V=B.rect.n,E;E=[0,-1,0,-1,16,-1,0,-1,0];E=w.gL.yC(E);var _=B.buffer.slice(0);
w.gL.ha(_,B.buffer,T,V,E,255,!1,!0)}if(B.buffer)return B};z.Q.VL=function(r,N,F,h,m,O){if(N.color==255)w.iL(N.channel);
var e=N.rect,P=w.B(e.W()*4);w.vr(N.channel,P,3);var B=z.Q.Rx([P,e],h,m,O);if(B){F.rect=B.rect;F.channel=w.B(B.rect.W());
w.Pw(B.buffer,F.channel,3);F.ug=!0}if(N.color==255){w.iL(N.channel);if(B)w.iL(F.channel)}};z.Q.Zo=function(r,N){var F=r.filterFX;
if(F)F=F.v.filterFXList;if(F)F=F.v;if(F)for(var h=0;h<F.length;h++){var m=F[h].v.Fltr;if(m==null||m.v.classID!="rigidTransform")continue;
m=m.v;console.log(m);var O=[];for(var e=0;e<4;e++)O.push(m["PuX"+e].v,m["PuY"+e].v);w.p.A(O,N,O);for(var e=0;
e<4;e++){m["PuX"+e].v=O[e*2];m["PuY"+e].v=O[e*2+1]}var P=["PinP","posFinalPins"],B=["originalVertexArray","deformedVertexArray"],s=m.puppetShapeList.v;
for(var Y=0;Y<s.length;Y++){var D=s[Y].v;for(var c=0;c<P.length;c++){var o=z.Q.N3(D[P[c]]);w.p.A(o,N,o);
D[P[c]]=z.Q.JE(o);var H=new Uint8Array(D[B[c]].v),x=new Float32Array(H.buffer);w.p.A(x,N,x);var Q=[];
for(var U=0;U<H.length;U++)Q[U]=H[U];D[B[c]].v=Q}}}};z.Q.N3=function(r){var N=[],F=r.v.length;for(var R=0;
R<F;R++)N.push(r.v[R].v);return N};z.Q.JE=function(r){var N={t:"VlLs",v:[]},F=r.length;for(var R=0;R<F;
R++)N.v.push({t:"doub",v:r[R]});return N};z.Q.prototype.ahA=function(){var r=w.p.Ce(w.U5.bM(this.AX.MR())),N=w.N.UD(this.DS.zI(),this.bL),F=[r.x,r.y,r.x+r.e,r.y,r.x+r.e,r.y+r.n,r.x,r.y+r.n];
w.N.A(N,F);this.DS.kb(F);this.bL=r};z.Q.prototype.C6=function(r,N,F,h){var m=w.N.UD(this.DS.zI(),this.bL);
m=w.N.u8(m,w.N.iL(this.UH));var O=this.AX?this.AX.MR():null;if(this.Hz==0){var e=this.kG=w.N.Ss(m);if(this.id==z.jU){var P=this.MU[0][0],B=P.Hs,s=B[1],Y=~~(s.e*Math.max(0,e.O$)),D=~~(s.n*Math.max(0,e.Bv)),c=new fE(Math.round(e.O$*s.x+e.HG),Math.round(e.Bv*s.y+e.SS),Y,D),o=w.RM.A(this.sp,c),H=r.g[this.g[0]];
H.buffer=o;H.rect=c;H.M();r.M()}else z.Q.QC(r,N,this.g,this.MU,F,m,O,null,null,h)}else if(this.Hz==1){var x=r.g[this.g[0]],s=this.TU.NQ;
if(x.Ku<=0){var Q=this.TU.C2,U=this.Rj,I=null;if(O&&!w.U5.n5(O)&&!U.rect.cj(s)){var o=w.B(U.rect.W()*4);
w.L3(Q,s,o,U.rect);Q=o;s=U.rect}if(this.id==z.jU){var e=this.kG=w.N.Ss(m),Y=~~(s.e*Math.max(0,e.O$)),D=~~(s.n*Math.max(0,e.Bv)),c=new fE(Math.round(e.O$*s.x+e.HG),Math.round(e.Bv*s.y+e.SS),Y,D),o=w.RM.A(this.sp,c);
I={buffer:o,rect:c}}else I=z.Q.Rx([Q,s],F,m,O);if(I){x._f.VX=I.buffer;x._f.xm=I.rect;var l=w.B(I.rect.W());
w.Pw(x._f.VX,l,3);r.$={channel:l,rect:x._f.xm.clone()}}}else{var p=w.B(s.W()*4);w.vr(this.TU.C2,p,3);
var I=z.Q.Rx([p,s],F,m,O);if(I){x._f.VX=w.B(I.rect.W());w.Pw(I.buffer,x._f.VX,3);x._f.xm=I.rect}this.TV(r,F,m,O)}x.zT(r,0,0,r.$);
if(F!=0){x.RR();w.RR(r.$)}r._a=!0;r.M()}else if(this.Hz==2)this.TV(r,F,m,O)};z.Q.prototype.TV=function(r,N,F,h){var m=this.Rj.rect,O=w.B(m.W()*4);
w.vr(this.Rj.channel,O,3);var e=z.Q.Rx([O,m],N,F,h),P=w.B(e.rect.W());w.Pw(e.buffer,P,3);r.$={channel:P,rect:e.rect};
r._a=!0};z.Q.prototype.disable=function(r,N,F,h){if(this.DS)this.ot(r,N,null,!0)};z.$d=function(){z.Q.call(this,[10,16],z.cP,"tools/transform")};
z.$d.prototype=new z.Q;z.Qi=function(){z.Q.call(this,[7,10],z.DM,"tools/transform")};z.Qi.prototype=new z.Q;
z.rs=function(){z.Q.call(this,[10,48],z.jU,"tools/transform")};z.rs.prototype=new z.Q;z.hM=function(r,N,F){z.bE.call(this,[10,46],z.$g,"tools/transform");
this.Iq=[1,1,2,!0];this.NM="rigidTransform";this.ZN=null;this.a6v=null;this.V$=null;this.Ua=null;this.K6=null;
this.oM=null;this.yl=[]};z.hM.prototype=new z.bE;z.hM.prototype.N7=function(){return!0};z.hM.c9=function(r){if(r==null)return!1;
if(r.w.length!=1)return!1;var N=r.g[r.w[0]];return N.add.SoLd||r.VT(!1)};z.hM.prototype.MH=function(r,N){return z.hM.c9(r)};
z.hM.prototype.enable=function(r,N,F,h,m,O,e){this.a6v=O.zs;var P=O.zs,B,x=null;if(P){var s=r.g[P.a];
if(s.add.SoLd.filterFX!=null){var Y=s.add.SoLd.filterFX.v.filterFXList.v;if(Y[P.index])B=JSON.parse(JSON.stringify(Y[P.index].v.Fltr.v))}}var D=B==null,s=r.g[r.w[0]],c=s.buffer,o=s.rect,H=s.add.SoLd;
if(H){var Q=H.nonAffineTransform.v;x=[];for(var R=0;R<4;R++)x.push(Q[R*2].v,Q[R*2+1].v);if(D)this.ry("edit",N);
var U=s.xg(r);c=U.buffer;o=U.rect}this.ZN={buffer:c.slice(0),rect:o.clone(),a2y:x};if(D)B=z.hM.xq(this.ZN,this.Iq);
this.V$=B;this.Ua=z.hM.Ph(this.V$,this.Iq);this.au();this.nb(r);if(D)this.Fm(N);var I=new gf(v.E.S,!0);
I.data={V:v.c.$P,s:this.id,Xa:this.Iq};N.L(I);I.data={V:v.c.oQ,eT:"default"};N.L(I)};z.hM.prototype.disable=function(r,N,F,h){if(this.Ua)this.ot(r,N,!0)};
z.hM.prototype.au=function(r){var N=this.Ua;this.yl=[];for(var R=0;R<N.length;R++){var F=N[R];for(var h=0;
h<F.w.length;h++)this.yl.push([R,F.w[R]]);F.s$=w.AB.qU(F);if(r)w.AB.am(F)}};z.hM.prototype.qW=function(r,N,F,h){if(r.i_=="commit")this.ot(F,N,!0);
else if(r.i_=="cancel")this.o8(F,N,!0);else if(r.i_=="prm"){var m=!1;for(var R=0;R<3;R++)if(this.Iq[R]!=r.Xa[R])m=!0;
this.Iq=r.Xa;if(m){this.V$=z.hM.xq(this.ZN,this.Iq,this.V$);this.Ua=z.hM.Ph(this.V$,this.Iq);this.au(!0);
this.Fm(N)}this.nb(F)}else if(r.i_=="moveDepth"){var O=this.Ua;for(var e=0;e<O.length;e++){var P=O[e];
for(var R=0;R<P.w.length;R++){var B=P.w[R];P.Kt[B]+=r.aax?1:-1}}this.Fm(N)}};z.hM.prototype.Zk=function(r,N){return r==bh.Am||r==bh.Lu};
z.hM.prototype.BD=function(r,N,F,h){var m=h.S5();if(h.j(bh.Ve))this.ot(r,N,!0);else if(h.j(bh.R_))this.o8(r,N,!0);
else if(h.j(bh.Am)||h.j(bh.Lu)){var O=this.Ua;for(var e=0;e<O.length;e++){var P=O[e];P.w.sort(function(Y,D){return D-Y});
for(var R=0;R<P.w.length;R++){var B=P.w[R],s=B*2;P.Kt.splice(B,1);P.vL.splice(B,1);P.SW.splice(B,1);
P.gd.splice(B,1);P.zB.splice(s,2);P.xC.splice(s,2)}P.w=[];if(P.gd.length==0){P.ps=P.nc.slice(0);P.yv=P.nc.slice(0)}}this.au(!0);
this.Fm(N);this.nb(r)}else if(m.x!=0||m.y!=0){this.Em(r,m.x,m.y,N);this.fu=null}};z.hM.prototype.ot=function(r,N,F){this.ry("confirm",N);
this.escape(r,N,F)};z.hM.prototype.o8=function(r,N,F){this.ry("cancel",N);this.escape(r,N,F)};z.hM.prototype.escape=function(r,N,F){r.d.W$=null;
r.d.ij=[];r.mR=!0;this.Ua=null;var h=new gf(v.E.S,!0);h.data={V:v.c.ad};if(F)N.L(h)};z.hM.prototype.vV=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=O.x,P=O.y,B=this.Ua,s=null,Y=[0,2,4,1.2,1.2,1.2],D=-1,c=z.BH(r,m);
for(var R=0;R<B.length;R++){var o=B[R],H=w.p.a4(o.xC,e,P,c);if(H!=-1)s=[R,H];if(D==-1&&w.AB.ID.afN(o.yv,o.jr,e,P))D=R}if(s==null&&D!=-1){var o=B[D];
z.hM.Bt(o,e,P,e,P,0);s=[D,o.gd.length-1];o.s$=w.AB.qU(o)}this.K6=O;if(s){var x=B[s[0]].w.indexOf(s[1])!=-1;
if(h.j(bh.wQ)&&!x){B[s[0]].w.push(s[1]);this.yl.push(s)}else if(!x){B[s[0]].w=[s[1]];this.yl=[s]}}this.nb(r)};
z.hM.Bt=function(r,N,F,h,m,O){var e=w.p.a4(r.yv,N,F);r.gd.push(e);r.xC.push(h,m);r.zB.push(r.yv[e*2]-N,r.yv[e*2+1]-F);
r.SW.push(0);r.vL.push(!1);r.Kt.push(O)};z.hM.prototype.Ui=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=this.K6;
if(e)this.Em(r,O.x-e.x,O.y-e.y,N)};z.hM.prototype.Em=function(r,N,F,h){var m={},O=this.yl,e=this.Ua;
if(this.fu==null){this.fu=[];for(var R=0;R<e.length;R++)this.fu.push(e[R].xC.slice(0))}for(var R=0;R<O.length;
R++){var P=this.yl[R],B=P[0],s=e[P[0]],Y=P[1]*2;s.xC[Y+0]=this.fu[B][Y+0]+N;s.xC[Y+1]=this.fu[B][Y+1]+F;
m[B]=B}for(var B in m)w.AB.am(this.Ua[m[B]]);this.nb(r);this.Fm(h)};z.hM.prototype.ry=function(r,N){var F=new gf(v.E.u,!0);
F.s=z.dX;F.data={V:r,zs:this.a6v,NM:this.NM,MB:this.V$};N.L(F)};z.hM.prototype.wJ=function(r,N,F,h,m){this.K6=null;
this.fu=null};z.hM.prototype.Fm=function(r){z.hM.n9(this.Ua,this.Iq,this.V$);this.ry("edit",r)};z.hM.prototype.nb=function(r){var N=this.Ua,F=this.V$;
r.d.W$={t:[],C:[]};r.d.ij=[];r.d.Rs=[];for(var R=0;R<N.length;R++){var h=N[R];for(var m=0;m<h.w.length;
m++)r.d.Rs.push((r.d.ij.length>>>1)+h.w[m]);r.d.ij=r.d.ij.concat(h.xC);if(this.Iq[3])w.p.concat(r.d.W$,w.p.a4e(h.yv,h.jr))}r.mR=!0};
z.hM.xq=function(r,N,F){var h=r.buffer,m=r.rect,O=r.a2y,e=df.T$("rigidTransform");if(O)for(var R=0;R<4;
R++){e["PuX"+R].v=O[R*2];e["PuY"+R].v=O[R*2+1]}var P=e.puppetShapeList.v,B=w.AB.aap(h,m.e,m.n,N[1],N[2]),s=[];
for(var Y=0;Y<B.length;Y++){var D={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
D.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var c=B[Y];P.push({t:"Objc",v:D});var o=c.nc.slice(0);w.p.A(o,new hc(1,0,0,1,m.x,m.y),o);var H=c.jr;
for(var R=0;R<H.length;R+=3){var x=H[R+1];H[R+1]=H[R+2];H[R+2]=x}s.push({jr:H,nc:o,ps:o,yv:o,gd:[],zB:[],xC:[],s$:null,w:[],SW:[],vL:[],Kt:[]})}if(F){var Q=z.hM.Ph(F,[]),U=s[0];
for(var R=0;R<Q.length;R++){var I=Q[R];for(var l=0;l<I.w.length;l++)U.w.push((U.xC.length>>>1)+I.w[l]);
for(var l=0;l<I.gd.length;l++){var p=I.gd[l]*2,j=I.nc[p]-I.zB[l*2],T=I.nc[p+1]-I.zB[l*2+1];z.hM.Bt(U,j,T,I.xC[l*2],I.xC[l*2+1],I.Kt[l])}}}z.hM.n9(s,N,e);
return e};z.hM.Ph=function(r,N){var F=z.Q.N3,h=r.puppetShapeList.v,m=[];for(var O=0;O<h.length;O++){var e=h[O].v;
N[0]=e.meshRigidity.v-1;N[1]=e.meshQuality.v-1;N[2]=e.meshExpansion.v;var P=e.pinVertexIndices.v.length,B=e.meshBoundaryPath.v.pathComponents.v;
if(B.length!=0){var s=B[0].v.SbpL.v[0].v.Pts;s.v=[]}var Y=new Uint32Array(new Uint8Array(e.indexArray.v).buffer),D=new Float32Array(new Uint8Array(e.originalVertexArray.v).buffer),c=new Float32Array(new Uint8Array(e.deformedVertexArray.v).buffer),o=[],H=[],x=[];
for(var R=0;R<Y.length;R++)o.push(Y[R]);for(var R=0;R<D.length;R++){H.push(D[R]);x.push(c[R])}var Q=F(e.pinVertexIndices),U=F(e.pinOffsets),I=F(e.posFinalPins),l=F(e.PnRt),p=F(e.PnOv),j=F(e.PnDp),T=F(e.selectedPin);
m.push({jr:o,nc:H,ps:x.slice(0),yv:x,gd:Q,zB:U,xC:I,s$:null,SW:l,vL:p,Kt:j,w:T})}return m};z.hM.n9=function(r,N,F){function h(c,o){var H=[];
for(var R=0;R<c.length;R++)H.push({t:o,v:c[R]});return H}function m(c,o,H){var x=new(H?Uint32Array:Float32Array)(c),Q=new Uint8Array(x.buffer);
for(var R=0;R<Q.length;R++)o[R]=Q[R]}var O=F.puppetShapeList.v;for(var e=0;e<O.length;e++){var P=r[e],B=O[e].v;
B.meshRigidity.v=N[0]+1;B.meshQuality.v=N[1]+1;B.meshExpansion.v=N[2];m(P.jr,B.indexArray.v,!0);m(P.nc,B.originalVertexArray.v);
m(P.yv,B.deformedVertexArray.v);var s=[];for(var R=0;R<P.gd.length;R++){var Y=P.gd[R]*2,D=R*2;s[D]=P.nc[Y]-P.zB[D];
s[D+1]=P.nc[Y+1]-P.zB[D+1]}B.PinP.v=h(s,"doub");B.pinVertexIndices.v=h(P.gd,"long");B.pinOffsets.v=h(P.zB,"doub");
B.posFinalPins.v=h(P.xC,"doub");B.PnRt.v=h(P.SW,"long");B.PnOv.v=h(P.vL,"bool");B.PnDp.v=h(P.Kt,"doub");
B.selectedPin.v=h(P.w,"long")}};z.uA=function(r,N,F){z.bE.call(this,r?r:[10,40],N?N:z.eu,F?F:"tools/slice");
this.pZ=null;this.dI=null;this.pL=null;this.aoN=null;this.bW=null;this.KI=null};z.uA.prototype=new z.bE;
z.uA.Bp=function(r,N){var F=-1;for(var R=0;R<r.length;R++){var h=z.uA.dS(r,R);if(h[0]<=N.x&&N.x<=h[2]&&h[1]<=N.y&&N.y<=h[3]){F=R;
break}}return F};z.uA.prototype.z1=function(r,N,F,h,m){if(F==null)return;this.Od(F);if(r.V=="fromAction"){var O=F.jS(),e=F.W2(),P=e==-1?new fE(0,0,F.e,F.n):F.g[e].CN(),B=[P.x,P.x+P.e],s=[P.y,P.y+P.n];
for(var R=0;R<O[0].length;R++){var Y=O[0][R],D=Math.round(Y[1]),c=O[1][R];if(c!=-1&&c!=e)continue;if(Y[0]==0&&B.indexOf(D)==-1)B.push(D);
if(Y[0]==1&&s.indexOf(D)==-1)s.push(D)}B.sort(function(V,E){return V-E});s.sort(function(V,E){return V-E});
for(var o=1;o<s.length;o++)for(var H=1;H<B.length;H++){F.Zf.push(z.uA.Fl());z.uA.Vb(F.Zf,F.Zf.length-1,[B[H-1],s[o-1],B[H],s[o]]);
F.mR=!0}}else if(r.V=="reorder"){if(F.Tj.length==0)return;var x=F.Zf,Q=F.Tj;Q.sort(function(V,E){return V-E});
console.log(Q);var U=x.slice(0),I=[],l=[];for(var R=0;R<Q.length;R++){var p=Q[R],j=x[p];l.push(j);U.splice(U.indexOf(j),1)}var T=Math.max(0,Math.min(U.length,Q[0]-r.dir));
for(var R=0;R<l.length;R++){U.splice(T+R,0,l[R]);I.push(T+R)}F.Zf=U;F.Tj=I}else if(r.V=="delete"){var x=F.Zf.slice(0);
for(var R=0;R<F.Tj.length;R++)F.Zf.splice(F.Zf.indexOf(x[F.Tj[R]]),1);F.Tj=[]}else if(r.V=="deleteAll"){F.Zf=[];
F.Tj=[]}else{F.Zf[F.Tj[0]].v=r;F.mR=!0}this.kB(F)};z.uA.prototype.enable=function(r,N,F,h,m,O){z.bE.prototype.enable.call(this,r,N,F,h,m,O);
if(!F.ec.Zf){var e=new gf(v.E.S,!0);e.data={V:v.c.nM,Xa:bC.Rw};N.L(e)}};z.uA.prototype.disable=function(){this.pZ=null;
this.dI=null};z.uA.prototype.TK=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=z.uA.Bp(r.Zf,O);if(e==-1)return;
this.pZ=r;this.dI=N;r.Tj=[e];r.mR=!0;if(this.KI==null){this.KI=new f8([{name:[5,4]},{name:[8,11,1],kV:!0}]);
this.KI.U("select",this.R1,this)}var P=this.KI;P.parent=N;P.f();P.update(r,F);var B=new gf(v.E.S,!0);
B.data={V:v.c.hN,f3:P,x:m.Yk+2,y:m.it+1};N.L(B)};z.uA.prototype.R1=function(r){var N=this.KI.cW()[0],F=this.pZ;
if(N==0){this.Od(F);F.Zf.splice(F.Tj[0],1);F.Tj=[];F.mR=!0;this.kB(F)}if(N==1){var h=new gf(v.E.S,!0);
h.data={V:v.c.pr,i7:"soptions",h:F.Zf[F.Tj[0]].v};this.dI.L(h)}};z.uA.prototype.vV=function(r,N,F,h,m){if(r==null)return;
this.Od(r);var O=r.q.RX(m.x,m.y);O=z.FZ.fx(r,O,F,[!0,null,!1]);O.x=Math.round(O.x);O.y=Math.round(O.y);
this.bW=O;r.Zf.unshift(z.uA.Fl());r.Tj=[0];z.uA.Vb(r.Zf,0,[O.x,O.y,O.x+20,O.y+20]);r.mR=!0};z.uA.prototype.Ui=function(r,N,F,h,m){if(this.pL==null)return;
var O=r.q.RX(m.x,m.y),e=this.bW;O=z.FZ.fx(r,O,F,[!0,null,!1]);O.x=Math.round(O.x);O.y=Math.round(O.y);
var P=[e.x,e.y,O.x,O.y];z.uA.DG(P);z.uA.Vb(r.Zf,0,P);r.mR=!0};z.uA.prototype.wJ=function(r,N,F,h,m){this.kB(r);
this.bW=null};z.uA.prototype.Od=function(r){this.pL=JSON.stringify(r.Zf);this.aoN=JSON.stringify(r.Tj)};
z.uA.prototype.kB=function(r){var N=JSON.stringify(r.Zf);if(N!=this.pL){var F=new g2(this.name,this);
F.data={TU:this.pL,ei:N,av_:this.aoN,ahL:JSON.stringify(r.Tj)};r.Zy(F)}this.pL=null};z.uA.prototype.UO=function(r,N){N.Zf=JSON.parse(r.TU);
N.Tj=JSON.parse(r.av_);N.mR=!0};z.uA.prototype.uq=function(r,N){N.Zf=JSON.parse(r.ei);N.Tj=JSON.parse(r.ahL);
N.mR=!0};z.uA.prototype.Zk=function(r,N){return N!=null&&N.Tj.length!=0&&(r==bh.Am||r==bh.Lu)};z.uA.prototype.BD=function(r,N,F,h){if(r==null)return;
if(h.j(bh.Am)||h.j(bh.Lu))this.z1({V:"delete"},N,r,h,F);var m=h.S5();if(m.x!=0||m.y!=0){this.Od(r);z.uA.hr(r,m);
this.kB(r)}};z.uA.prototype.qW=function(r,N,F,h,m){};z.uA.asp=function(r,N,F,h){var m=new gS(-N.x,-N.y),O=N.e/F.e,e=N.n/F.n,P=[0,0,N.e,N.n];
for(var R=0;R<r.length;R++){var B=z.uA.dS(r,R);if(h){B[0]=Math.round(B[0]*O);B[1]=Math.round(B[1]*e);
B[2]=Math.round(B[2]*O);B[3]=Math.round(B[3]*e)}else{z.uA.U8(B,m);z.uA.amO(B,P)}if(B[0]>=B[2]||B[1]>=B[3]){r.splice(R,1);
R--;continue}z.uA.Vb(r,R,B)}};z.uA.hr=function(r,N){var F=r.Zf;for(var R=0;R<r.Tj.length;R++){var h=z.uA.dS(F,r.Tj[R]);
z.uA.U8(h,N);z.uA.Vb(F,r.Tj[R],h)}};z.uA.amO=function(r,N){if(r[0]<N[0])r[0]=N[0];if(r[1]<N[1])r[1]=N[1];
if(N[2]<r[2])r[2]=N[2];if(N[3]<r[3])r[3]=N[3]};z.uA.U8=function(r,N){r[0]=Math.round(r[0]+N.x);r[2]=Math.round(r[2]+N.x);
r[1]=Math.round(r[1]+N.y);r[3]=Math.round(r[3]+N.y)};z.uA.Vb=function(r,R,N){var F=r[R].v.bounds.v;F.Left.v=N[0];
F.Top.v=N[1];F.Rght.v=N[2];F.Btom.v=N[3]};z.uA.dS=function(r,R){var N=r[R].v.bounds.v;return[N.Left.v,N.Top.v,N.Rght.v,N.Btom.v,R]};
z.uA.DG=function(r){if(r[2]<r[0]){var N=r[0];r[0]=r[2];r[2]=N}if(r[2]==r[0])r[2]++;if(r[3]<r[1]){var N=r[1];
r[1]=r[3];r[3]=N}if(r[3]==r[1])r[3]++};z.uA.Ce=function(r,N){var F=1e9,h=-1e9,m=1e9,O=-1e9;for(var R=0;
R<N.length;R++){var e=z.uA.dS(r,N[R]);F=Math.min(F,e[0]);m=Math.min(m,e[1]);h=Math.max(h,e[2]);O=Math.max(O,e[3])}return[F,m,h,O]};
z.uA.Fl=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
z.et=function(){z.uA.call(this,[10,41],z.U0,"tools/sselect");this.bW=null;this._Z=null;this.Ib=null;
this.oM=null;this.pu=!1};z.et.prototype=new z.uA;z.et.prototype.vV=function(r,N,F,h,m){if(r==null)return;
var O=r.q.RX(m.x,m.y),e=z.et.r8(O,4/r.q.O,r.Zf,r.Tj);e.pop();if(e.length!=0){this.bW=O;this.Ib=e;this.Od(r);
return}var P=r.Zf,B=z.uA.Bp(P,O);if(B==-1)r.Tj=[];else{var s=r.Tj.indexOf(B);if(h.j(bh.wQ)){if(s==-1)r.Tj.push(B);
else r.Tj.splice(s,1)}else{r.Tj.sort(function(x,Q){return x-Q});if(s==-1)r.Tj=[B];this.bW=O;this.Od(r);
this._Z=z.uA.Ce(P,r.Tj);this.oM=[];for(var R=0;R<r.Tj.length;R++)this.oM.push(z.uA.dS(P,r.Tj[R]));if(h.j(bh.sV)){var Y=P.slice(0),D=r.Tj,c=[];
for(var R=0;R<D.length;R++){var B=D[R],o=Y[B],H=P.indexOf(o);c.push(H);P.splice(H,0,JSON.parse(JSON.stringify(o)))}r.Tj=c}}}r.mR=!0};
z.et.prototype.Ui=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);if(this.bW==null){var e=z.et.r8(O,4/r.q.O,r.Zf,r.Tj),P=e.pop(),B=e.length==0?"default":["ew","nwse","ns","nesw"][P]+"-resize",s=new gf(v.E.S,!0);
s.data={V:v.c.oQ,eT:B};N.L(s);return}if(!this.pu&&O.cj(this.bW))return;this.pu=!0;var Y=r.Zf,e=this.Ib;
if(e){O=z.FZ.fx(r,O,F,[!0,null,!1]);var D=Math.round(O.x),c=Math.round(O.y);for(var R=0;R<e.length;R+=2){var o=z.uA.dS(Y,e[R]),H=e[R+1];
o[H]=(H&1)==0?D:c;z.uA.DG(o);z.uA.Vb(Y,e[R],o)}}else{var x=O.bl(this.bW),Q=this._Z.slice(0);z.uA.U8(Q,x);
var I=new fE(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1]),l=z.FZ.$c(r,I,F,[!0,null,!1],!0);z.FZ.ri(r,I,l);x.x+=l[0];
x.y+=l[1];for(var R=0;R<r.Tj.length;R++)z.uA.Vb(Y,r.Tj[R],this.oM[R]);z.uA.hr(r,x)}r.mR=!0};z.et.prototype.wJ=function(r,N,F,h,m){if(this.bW==null)return;
this.kB(r);r.d.Dk=null;r.mR=!0;this.bW=null;this.Ib=null;this.oM=null;this.pu=!1};z.et.r8=function(r,N,F,h){var m=r.x,O=r.y,e=[],P=-1,B=[];
for(var R=0;R<h.length;R++){var s=h[R],Y=z.uA.dS(F,s),D=Y[0],c=Y[1],o=Y[2],H=Y[3];if(m<D-N||o+N<m||O<c-N||H+N<O)continue;
var x=[m<D+N,O<c+N,o-N<m,H-N<O],Q=-1;for(var U=0;U<4;U++){if(x[U]&&x[U+1&3])Q=1+2*(U&1);if(x[U])e.push(s,U)}if(Q==-1){if(x[0]||x[2])Q=0;
if(x[1]||x[3])Q=2}if(Q!=-1){P=Q;B.push(s)}}var I=e.length;for(var R=0;R<I;R+=2){var s=e[R],l=e[R+1],p=z.uA.dS(F,s)[l];
for(var U=0;U<h.length;U++){var j=h[U];if(B.indexOf(j)!=-1)continue;var Y=z.uA.dS(F,j);if(Y[l&1]==p)e.push(j,l&1);
if(Y[2+(l&1)]==p)e.push(j,2+(l&1))}}e.push(P);return e};z.kC=function(){z.Yi.call(this,[10,44],z.a6r,"tools/oselect");
this.tz="crosshair";this.alX=0};z.kC.prototype=new z.Yi;z.kC.prototype.DY=function(r,N,F,h){if(Math.random()<1/(1+this.alX)){alert("The cross should be fully inside the object.",3500);
this.alX++}};z.kC.prototype.VQ=function(r,N,F,h){z.Qh.wb(r,z.Yi.oX,this.dI);if(!h.Tb||!this.d$)return;
var m=this.Tm(r,F,!1),O=m.e,e=m.n,P=m.x,B=m.y,s=m.x+O,Y=m.y+e,D=P+O/2,c=B+e/2,o=z.kC.w2;r.d.W$={t:[P,B,s,B,s,Y,P,Y,D-O*o,c,D+O*o,c,D,c-e*o,D,c+e*o],C:"M L L L Z M L M L".split(" ")};
r.mR=!0};z.kC.w2=.12;z.kC.prototype.gm=function(r,N,F,h){r.d.W$=null;r.mR=!0;this.finish(r,N,F,h)};z.kC.prototype.getSelection=function(r,N,F,h){if(this.Al.cj(this.nO)||!this.d$)return null;
var m=this.Tm(r,F,!1),O=r.g[r.w[0]];if(m.lX()||!m.PC(O.rect))return null;return z.Yi.rr("ObSl",m)};z.Qh=function(){z.a3.call(this,[10,37],z.hw,"tools/qselect");
this.qb="qselect"};z.Qh.prototype=new z.a3;z.Qh.prototype.vV=function(r,N,F,h,m){this.og(r,F,h,m,1);
if(this.Ti==null)return;this.XU(r)};z.Qh.prototype.Ui=function(r,N,F,h,m){this.A3(r,N,F);z.Qh.wb(r,z.Yi.oX,N);
if(this.xM)this.Re(r,F,m);if(this.Ti==null)return;if(!m.Tb)return;var O=this.SZ(r,F,h,m);if(O!=1)this.XU(r)};
z.Qh.wb=function(r,N,F){if(r&&N.key!=z.Qh.rg(r)){N.key=z.Qh.rg(r);var h=r.g[r.w[0]].rect.W(),O="Image Analysis ...";
if(h==0)return;var m=h>1e6,e=new gf(v.E.S,!0);e.data={V:v.c.tP,VP:O};if(m)F.L(e);setTimeout(function(){var P=z.Qh.Kv(r);
for(var B in P)N[B]=P[B];var e=new gf(v.E.S,!0);e.data={V:v.c.pq,VP:O};if(m)F.L(e)},30)}};z.Qh.rg=function(r){var N=r.w[0],F=r.g[N],h=F.rect,m=h.e,O=h.n,e=m*O,P=F.buffer;
return[N,h.x,h.y,m,O,P[0],P[1],P[2],P[3]].join(",")};z.Qh.Kv=function(r){var N=r.w[0],F=r.g[N],h=F.rect,m=h.e,O=h.n,e=m*O,P=F.buffer,B=Date.now(),s=w.B(e);
s.fill(128);var Y=w.J4.vB(P,m,O);console.log(Date.now()-B);var D={key:z.Qh.rg(r),GV:P,rect:h.clone(),YW:m,Nf:O,Cr:12,a7S:!1,gn:s,OZ:Y,$:w.B(e),O9:null,lL:null,gP:null};
z.Qh.YB(D);return D};z.Qh.YB=function(r,N){var F=r.YW,h=r.Nf,m=0,O=0,e=Date.now(),P=r.O9!=null&&w.J4.a6R(r.OZ.jr,r.O9.jr,r.O9.Ly,r.gn);
m=Date.now()-e;e=Date.now();if(!P&&!r.a7S){r.O9=w.J4.kw(r.OZ,F,h,r.gn,r.Cr);if(!w.J4.a6R(r.OZ.jr,r.O9.jr,r.O9.Ly,r.gn)){r.a7S=!0;
console.log("conflict")}r.lL=w.J4.a47(r.GV,F,h,r.O9.jr,r.O9.Ly);r.gP=[r.lL[0].slice(0),[]];O=Date.now()-e;
e=Date.now()}var e=Date.now();if(N){r.gP[0].set(r.lL[0]);var B=r.lL[1],s=r.gP[1];for(var Y=0;Y<B.length;
Y++)s[Y]=B[Y].slice(0);w.J4.ajs(r.O9.jr,F,h,r.O9.Ly,r.gn,r.$,r.gP)}};z.wU=function(){z.bE.call(this,[10,50],z.Pl,"tools/artb");
this.l3=null;this.ae7=!1;this.DS=null;this.Kr=!1;this.aph=null;this.IC=100;this.G$=null;this.Fi=0};z.wU.prototype=new z.bE;
z.wU.prototype.z1=function(r,N,F,h,m){this.P2(F,r.a5Z,N,r.j4)};z.wU.wk=function(r,N){var F=r[0],h=0,m=0;
if(F==0)m=-1;else if(F==1)h=1;else if(F==2)m=1;else h=-1;return[20/N.bP,r[1]+h*60/N.bP,r[2]+m*60/N.bP]};
z.wU.prototype.qW=function(r,N,F,h,m){this.l3=r.Xa;this.Fi=Date.now()};z.wU.prototype._r=function(r,N,F,h){if(F.px!=this.id)return;
if(r==null||r.w.length!=1){this.QU(r);return}var m=r.w[0],O=r.g[m],e=O.add.artb;if(e==null){this.QU(r);
return}if(this.Kr)return;if(Date.now()-this.Fi>50){this.l3={};var P=["artboardBackgroundType","Clr"];
for(var R=0;R<P.length;R++)if(e[P[R]])this.l3[P[R]]=JSON.parse(JSON.stringify(e[P[R]]));var B=new gf(v.E.S,!0);
B.data={V:v.c.$P,s:this.id,fJ:this.l3};N.L(B)}var s=O.CN(),Y=w.p.fc(s).t,D=this.DS=new az(Y,!0,!1,!1,!0,!1,3,!1);
D.TL(r,F,!1);var c={t:[1,0],C:["M"]};for(var R=1;R<30;R++){var o=Math.PI*2*R/30;c.t.push(Math.cos(o),Math.sin(o));
c.C.push("L")}c.C.push("Z","M","L","M","L");c.t.push(-.5,0,.5,0,0,-.5,0,.5);var H=s.x+s.e/2,x=s.y+s.n/2,Q=this.IC*1.1,U=this.aph=[H,s.y,s.x+s.e,x,H,s.y+s.n,s.x,x],I=[0,-Q,Q,0,0,Q,-Q,0],l=r.root.children;
r.d.ra=[];for(var R=0;R<4;R++){var p=new gS(U[R*2]+I[R*2],U[R*2+1]+I[R*2+1]),j=!1;for(var T=0;T<l.length;
T++){var O=l[T].a;if(O.add.artb==null)continue;var s=O.CN();if(s.Ev(p))j=!0}if(j){U[R*2]=1e9;continue}r.d.ra.push([R,U[R*2],U[R*2+1]])}};
z.wU.prototype.disable=function(r,N,F,h,m){this.QU(r)};z.wU.prototype.QU=function(r){if(this.DS){this.DS.clear(r);
this.DS=null;r.d.ra=null}};z.wU.prototype.vV=function(r,N,F,h,m){this.Fi=Date.now();var O=r.q.RX(m.x,m.y),e=this.DS;
if(e){var P=new gf(v.E.u),B=e.a0C(null,O,r,m);if(B<9){this.Kr=e.vV(r,F,h,O,null,!0,m);return}else if(e.hB(O)){P.s=z.FS;
P.data={V:"disabAuto"};N.L(P);var s=new gf(v.E.S);s.data={V:v.c.z4,s:z.FS,a5r:!0};N.L(s);return}else{var Y=-1,D=r.d.ra;
for(var R=0;R<D.length;R++){var c=z.wU.wk(D[R],r.q);if(gS.Mz(O,new gS(c[1],c[2]))<c[0])Y=D[R][0]}if(Y!=-1){var o=r.g[r.w[0]].CN(),H=o.clone(),x=(Y==0||Y==2?o.n:o.e)+this.IC;
if(Y==0||Y==3)x=-x;if(Y==0||Y==2)o.y+=x;else o.x+=x;if(h.j(bh.sV)){var Q=new fE(0,0,r.e,r.n);P.s=z.j7;
P.data={V:C.y7};N.L(P);z.FZ.bt(r,r.Js(null,r.w[0],null,!0),null,o.x-H.x,o.y-H.y);var U=z.Q6.jJ(r);if(U){var I=r.xp();
I.data.bL=Q;I.data.ae=U}r.w=I.data.c8=r.w.slice(r.w.length-1)}else this.P2(r,o,N);return}}}this.G$=z.FZ.fx(r,O,F)};
z.wU.prototype.P2=function(r,N,F,h){if(h==null)h=0;var m=r.g.slice(0),O=[r.g.length+1],e=r.lc();e.a6(ab.get([1,16,0])+" "+(r.root.children.length+1));
e.add.lsct=jJ.Ra;e.xz(N);if(this.l3){var P=e.add.artb,B=this.l3;for(var s in B)P[s]=B[s]}e.$j="pass";
e.Rl=24;if(h==0){if(r.add.artd||N.c_(new fE(0,0,r.e,r.n)).lX())m.push(r.Dz());else m.unshift(r.Dz())}else{var Y=r.Js();
Y.sort(function(x,Q){return x-Q});var D=z.l6.Zd(r,Y,m.length-1,!1,null,!1),c=D.pop(),o=D.pop();m=D.pop();
m.splice(r.g.length-Y.length,0,r.Dz())}m.push(e);var H=new gf(v.E.u);H.s=z.j7;H.data={V:C.l5,Yb:m,xF:O,Py:[1,16,2]};
F.L(H)};z.wU.prototype.Ui=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=this.DS,P=this.G$;if(e){if(this.Kr){e.Ui(r,F,h,O)}else{var B=e.d3(O,r.q.O,null,m);
if(B==null)B="default";var s=new gf(v.E.S,!0);s.data={V:v.c.oQ,eT:B};N.L(s)}}if(P){var Y=this.dS(r,O,h,F);
r.d.W$=w.p.fc(Y);r.mR=!0;z.bE.Ln(m,Y,r,F)}};z.wU.prototype.wJ=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y),e=this.G$;
if(this.Kr){this.DS.wJ(r,F,h,O);this.Kr=!1;var P=w.p.e0(this.DS.zI()),B=C.wh(P),s=r.g[r.w[0]],Y=JSON.parse(JSON.stringify(s.add.artb));
Y.artboardRect.v=B;var D=new gf(v.E.u,!0);D.s=z.j7;D.data={V:C.Rv,Gb:Y};N.L(D)}if(e){var c=this.dS(r,O,h,F);
if(c.W()>20)this.P2(r,c,N);r.d.W$=null;r.mR=!0;this.G$=null;r.d.Ul=[]}};z.wU.prototype.dS=function(r,N,F,h){var m=this.G$,O=z.FZ.fx(r,N,h),e=z.XE.wo(m,O,F,!0);
m=e[0];O=e[1];return w.p.e0([m.x,m.y,O.x,O.y])};function az(r,N,F,h,m,O,e,P){this.FC=null;this.i4=r?r.slice(0):null;
this.bF=4;this.nO=null;this.ZI=null;this.XJ=null;this.BC=-1;this.tf=null;this.a0U=!1;this.afT=[];for(var R=0;
R<8;R++)this.afT.push(bA.ahY(0,PIMG.rotate,-.5,-.5,-45-R*45));this.akU=N;this.aaO=F;this.aeH=h;this.a9m=m;
this.D8=O;this.j4=e;this.atx=P==null?1:P}az.prototype.zr=function(){return this.BC!=-1};az.prototype.zI=function(){return this.i4.slice(0)};
az.prototype.kb=function(r){this.i4=r};az.prototype.a4X=function(){return this.d0(this.i4)};az.prototype.ahi=function(){return this.bF};
az.prototype.aeo=function(r){this.bF=r};az.prototype.p9=function(r){if(r==null)r=this.i4;if(this.bF==9)return this.nO;
else return this.d0(r)[this.bF]};az.prototype.a8r=function(r){if(this.bF==9)this.nO=r.clone();else{var N=this.p9(),F=new hc(1,0,0,1,r.x-N.x,r.y-N.y);
w.p.A(this.i4,F,this.i4)}};az.prototype.d3=function(r,N,F,h){var m=this.No(null,r,N,h),O;if(m==9)return"default";
if(m==10){if(F)return null;return!this.akU?"move":null}if(m==-1||m==4)return null;if(m==11){var e=this.p9().bl(r);
O=90-Math.atan2(e.y,e.x)*180/Math.PI;var P=Math.round(8*(O/360));P=(P+8)%8;return this.afT[P]}else{var B=this.hm(r,this.i4);
O=[135,90,45,180,0,0,225,270,315][m];var s=w.N.UD(this.i4);O+=Math.atan2(-s[3],s[0])*180/Math.PI;var Y="ew nesw ns nwse ew nesw ns nwse".split(" "),P=Math.round(8*(O/360));
P=(P+8)%8;return Y[P]+"-resize"}};az.prototype.hm=function(r,N){var F=w.N.iL(w.N.UD(N)),h=new Float64Array(2);
w.N.l$(r.x,r.y,F,h);return new gS(h[0],h[1])};az.prototype.hB=function(r){var N=this.hm(r,this.i4);return 0<=N.x&&N.x<=1&&0<=N.y&&N.y<=1};
az.prototype.vV=function(r,N,F,h,m,O,e){this.a0U=O;this.tf=h;var P=r.q.O,B;if(this.i4==null)h=z.FZ.fx(r,h,N);
this.XJ=h.clone();if(this.i4==null){this.XJ.offset(1,1);var s=m==null?1:1/m;this.i4=[h.x,h.y,h.x+1,h.y,h.x+1,h.y+s,h.x,h.y+s];
B=8}else{B=this.No(F,h,P,e);if(0<=B&&B<=8)this.XJ=this.d0(this.i4)[B];if(B==9){this.bF=9;this.nO=h.clone()}}this.FC=this.i4.slice(0);
this.BC=B;this.TL(r,N);this.ZI=this.p9();return B!=-1};az.prototype.a0C=function(r,N,F,h){return this.No(r,N,F.q.O,h)};
az.prototype.No=function(r,N,F,h){var m=-1,O=this.d0(),e=[0,2,6,8,1,3,5,7],P=h?z.BH({q:{O:F}},h):6*z.G()/F;
if(m==-1)if(gS.Mz(this.p9(),N)<P)m=9;if(m==-1)for(var R=0;R<e.length;R++)if(gS.Mz(O[e[R]],N)<P)m=e[R];
if(m==-1&&r&&r.j(bh.sV))m=9;if(m==-1||this.j4==4){if(this.hB(N)){if(this.akU)m=10}else{var B=this.hm(N,this.i4),s=new fE(0,0,1,1);
s.r2(.2,.2);m=s.Ev(B)&&this.j4!=3?11:10}}return m};az.prototype.Ui=function(r,N,F,h){if(this.BC==-1)return;
this.tf=h;var m=F.j(bh.wQ),O=F.j(bh.sV),e=F.j(bh.hg),P=r.q.O,B=this.XJ,s=this.BC,Y=this.d0(),D=z.FZ.fx(r,B,N),c=z.FZ.fx(r,h,N),o,H;
if(s==9){var Y=this.d0(),x=-1;for(var R=0;R<Y.length;R++)if(gS.Mz(Y[R],c)*P<10)x=R;this.bF=x==-1?9:x;
this.nO=m?z.ji.hQ(D,c):c.clone()}else if(s==10){H=w.p.Ce(this.FC);var Q=H.x,U=H.y;H.offset(h.x-B.x,h.y-B.y);
if(this.IZ()){H.x=Math.round(H.x);H.y=Math.round(H.y)}o=z.FZ.$c(r,H,N);var I=new hc(1,0,0,1,H.x-Q+o[0],H.y-U+o[1]);
w.p.A(this.FC,I,this.i4)}else if(s==11){var l=this.p9(this.FC),p=l.bl(h),j=l.bl(B),T=Math.atan2(p.y,p.x),V=Math.atan2(j.y,j.x),I=new hc(1,0,0,1,-l.x,-l.y),E=Math.PI/12;
if(m)I.rotate(Math.round((V-T)/E)*E);else I.rotate(V-T);I.translate(l.x,l.y);w.p.A(this.FC,I,this.i4)}else{var _,f=this.FC,S=s==0||s==2||s==6||s==8;
if(this.j4==1){if(S)m=O=e=!0}else if(this.j4==2&&S&&this.a0U!=!0)e=!0;if(this.j4==3)e=!1;if(this.aeH&&S&&e){var R=[0,0,2,0,0,0,6,0,4,0][s],L=-1,y=c.x,$=c.y;
if(m){var Z=R+6&7,i=R+10&7,b=az.Zj(f[R],f[R+1],f[Z],f[Z+1],c.x,c.y),G=az.Zj(f[R],f[R+1],f[i],f[i+1],c.x,c.y),g=b[2]<G[2]?b:G;
y=g[0];$=g[1];if(O)L=b[2]<G[2]?Z:i}else if(O)L=R+4&7;_=f.slice(0);if(L!=-1){var u=f[L],A=f[L+1],a=(f[R]+u)/2,d=(f[R+1]+A)/2;
_[L]=a-(y-a);_[L+1]=d-($-d)}_[R]=y;_[R+1]=$}else if(S&&O){var l=this.ZI,K=l.x,n=l.y,t=D.x-K,X=D.y-n,aK=1,fg=1;
if(Math.abs(t)>=1)aK=(c.x-K)/t;if(Math.abs(X)>=1)fg=(c.y-n)/X;if(m||this.D8)aK=fg=(aK+fg)/2;var I=new hc;
I.translate(-K,-n);I.scale(aK,fg);I.translate(K,n);_=f.slice(0);w.p.A(_,I,_)}else{if(this.IZ()){c.x=Math.round(c.x);
c.y=Math.round(c.y)}var k=[0,1,2,5,8,7,6,3],hG=k[(k.indexOf(s)+4)%8],eE=[];for(var R=0;R<3;R++)for(var L=0;
L<3;L++)eE.push(new gS(L/2,R/2));var l=this.ZI,hW=this.hm(c,f),hh=this.hm(B,f),hI=O&&(this.bF==4||this.bF==9)?this.hm(l,f):eE[hG],db=new hc,by=new hc,aK=(hW.x-hI.x)/(hh.x-hI.x);
if(aK==0)aK=1e-4;var fg=(hW.y-hI.y)/(hh.y-hI.y);if(fg==0)fg=1e-4;if(this.a9m){aK=Math.max(aK,0);fg=Math.max(fg,0)}if(s==0||s==2||s==6||s==8){if(m||this.D8)db.scale(aK,aK);
else db.scale(aK,fg)}if(s==1||s==3||s==5||s==7){var jM=this.D8;if(s==1||s==7)db.scale(jM?fg:1,fg);else db.scale(aK,jM?aK:1);
if(this.aaO&&e){if(s==1||s==7)by.KM=(hW.x-hI.x)/(hW.y-hI.y);else by.J=(hW.y-hI.y)/(hW.x-hI.x)}}var I=new hc;
I.translate(-hI.x,-hI.y);I.concat(db);I.concat(by);I.translate(hI.x,hI.y);_=[0,0,1,0,1,1,0,1];w.p.A(_,I,_);
var g=w.N.UD(f);w.N.A(g,_)}if(az.HJ(_))this.i4=_}this.TL(r,N);if(o)z.FZ.ri(r,H,o)};az.Zj=function(r,N,F,h,m,O){var e=F-r,P=h-N,B=m-r,s=O-N,Y=e*e+P*P,D=B*e+s*P,c=D/Y,o=r+c*e,H=N+c*P,x=m-o,Q=O-H;
return[o,H,Math.sqrt(x*x+Q*Q)]};az.prototype.IZ=function(){var r=this.i4;return Math.abs(r[1]-r[3])<1e-6&&Math.abs(r[2]-r[4])<1e-6||Math.abs(r[0]-r[2])<1e-6&&Math.abs(r[3]-r[5])<1e-6};
az.HJ=function(r){return w.p.x9(r)||w.p.x9([r[6],r[7],r[4],r[5],r[2],r[3],r[0],r[1]])};az.prototype.wJ=function(r,N,F,h){this.BC=-1;
this.tf=null;r.d.Dk=null;r.d.Ul=[];r.mR=!0};az.prototype.BD=function(r,N,F){var h=F.S5();if(h.x||h.y){var m=new hc(1,0,0,1,h.x,h.y);
w.p.A(this.i4,m,this.i4);this.TL(r,N);return!0}return!1};az.prototype.d0=function(r){if(r==null)r=this.i4;
var N=r[6]-r[0],F=r[7]-r[1],h=r[4]-r[2],m=r[5]-r[3],O=[r[0],r[1],r[2],r[3],r[0]+N/2,r[1]+F/2,r[2]+h/2,r[3]+m/2,r[6],r[7],r[4],r[5]],e=[];
for(var R=0;R<3;R++){var P=R*4,B=O[P+0],s=O[P+1],Y=O[P+2],D=O[P+3];e.push(new gS(B,s));e.push(new gS(B+(Y-B)/2,s+(D-s)/2));
e.push(new gS(Y,D))}return e};az.prototype.TL=function(r,N,F){if(F==null)F=!1;var h=this.d0(),m=h[0],O=h[2],e=h[6],P=h[8];
r.d.W$={C:[],t:[]};r.d.W$.C.push("M","L","L","L","Z");r.d.W$.t.push(m.x,m.y,O.x,O.y,P.x,P.y,e.x,e.y);
var B=this.atx;if(B>1){var s=O.bl(m),Y=e.bl(m),D=P.bl(O),c=P.bl(e);for(var R=1;R<B;R++){r.d.W$.C.push("M","L","M","L");
var o=R/B;r.d.W$.t.push(m.x+s.x*o,m.y+s.y*o,e.x+c.x*o,e.y+c.y*o);r.d.W$.t.push(m.x+Y.x*o,m.y+Y.y*o,O.x+D.x*o,O.y+D.y*o)}}r.q.g1=new fE(0,0,gS.Mz(h[0],h[2]),gS.Mz(h[0],h[6]));
if(this.BC!=-1&&this.BC<9&&this.tf){var H=r.q.l9(this.tf.x,this.tf.y);z.bE.Ln(H,r.q.g1,r,N)}if(!F){r.d.eJ=[];
for(var R=0;R<h.length;R++)if(R!=4)r.d.eJ.push(h[R].x,h[R].y);var x=this.p9();r.d.eJ.push(x.x,x.y)}r.mR=!0};
az.prototype.clear=function(r){r.q.g1=null;r.d.Dk=null;r.d.W$=null;r.d.eJ=[];r.mR=!0};function d1(r,N){this.U5=null;
this.BC=-1;this.hD(r)}d1.prototype.MR=function(){return JSON.parse(JSON.stringify(this.U5))};d1.prototype.hD=function(r){this.U5=JSON.parse(JSON.stringify(r))};
d1.prototype.hB=function(r){return!0};d1.prototype.d3=function(r,N,F,h){var m=this.No(r,N,h);if(m==-1)return"default";
return"pointer"};d1.prototype.vV=function(r,N,F,h,m,O,e){this.BC=this.No(h,r.q.O,e);return this.BC!=-1};
d1.prototype.No=function(r,N,F){var h=this.hx(),m=-1,O=1e6;for(var R=0;R<h.length;R++){var e=gS.Mz(h[R],r);
if(e<O){m=R;O=e}}return O<(F?z.BH({q:{O:N}},F)*2:20*z.G()/N)?m:-1};d1.prototype.Ui=function(r,N,F,h){if(this.BC==-1)return;
var m=r.q.O,O=this.BC,e=w.U5.bM(this.U5);e[O*2]=h.x;e[O*2+1]=h.y;w.U5.$_(e,this.U5)};d1.prototype.wJ=function(r,N,F,h){this.BC=-1;
r.mR=!0};d1.prototype.BD=function(r,N,F){var h=F.S5();if(h.x||h.y){var m=new hc(1,0,0,1,h.x,h.y);w.p.A(this.i4,m,this.i4);
this.TL(r)}};d1.prototype.hx=function(r){var N=w.U5.bM(this.U5),F=[];for(var R=0;R<N.length;R+=2)F.push(new gS(N[R],N[R+1]));
return F};d1.prototype.TL=function(r){var N=this.hx();r.d.W$={C:[],t:[]};r.d.W$.C.push("M","C","C","C","C");
var F=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var R=0;R<F.length;R++)r.d.W$.t.push(N[F[R]].x,N[F[R]].y);
r.d.W$.C.push("M","L","L","M","L","L","M","L","L","M","L","L");F=[4,0,1,2,3,7,11,15,14,13,12,8];for(var R=0;
R<F.length;R++)r.d.W$.t.push(N[F[R]].x,N[F[R]].y);r.d.eJ=[];for(var R=0;R<N.length;R++)r.d.eJ.push(N[R].x,N[R].y);
r.mR=!0};d1.prototype.clear=function(r){r.d.W$=null;r.d.eJ=[];r.mR=!0};function iQ(){this.vn=!1;this.KH=!1;
this.anO=!1;this.a1m=!1;this.v_=!1;this._e=!1;this.FT=0;this.BT=0}iQ.prototype.vV=function(r){this.vn=!0;
this.KH=!1;this.v_=r.j(bh.wQ);this._e=r.j(bh.sV);this.FT=this.v_?0:1;this.BT=this._e?0:1};iQ.prototype.BD=function(r){var N=this.a1m=r.j(bh.wQ),F=this.anO=r.j(bh.sV);
if(this.KH){if(this.FT==0&&!N)this.FT++;if(this.FT==1&&N)this.FT++;if(this.BT==0&&!F)this.BT++;if(this.BT==1&&F)this.BT++}};
iQ.prototype.Ui=function(){this.KH=!0};iQ.prototype.wJ=function(){this.vn=!1};iQ.prototype.Gd=function(R){if(R==0)return this.vn?this._e:this.anO;
if(R==1)return this.KH?this.BT==2:!1};iQ.prototype.qw=function(R){if(R==0)return this.vn?this.v_:this.a1m;
if(R==1)return this.KH?this.FT==2:!1};z.History=function(){z.bE.call(this,"History",z.Fr);this.Gm=!0;
this.an7=0};z.History.prototype=new z.bE;z.History.prototype.z1=function(r,N,F,h){F.Pj=!0;if(r.V=="h_itemchange"){if(r.index<F.oG)for(var R=F.oG;
R>r.index;R--)this.jX(F);if(r.index>F.oG)for(var R=F.oG;R<r.index;R++)this.tH(F)}if(r.V=="h_stepfwd")this.tH(F);
if(r.V=="h_stepbck")this.jX(F);if(r.V=="h_undoredo"){var m=this.Gm||this.an7!=F.oG;if(m){this.jX(F);
m=!1}else{this.tH(F);m=!0}this.Gm=m;this.an7=F.oG}if(r.V=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
F.history=[new g2([1,0],null)];F.oG=0}else this.Gm=!0};z.History.prototype.jX=function(r){if(r.oG==0)return;
var N=r.history[r.oG];N.s.UO(N.data,r);r.oG--};z.History.prototype.tH=function(r){if(r.oG==r.history.length-1)return;
var N=r.history[r.oG+1];N.s.uq(N.data,r);r.oG++};z.l6=function(){z.bE.call(this,"Layers",z.j7);this.dI=null};
z.l6.prototype=new z.bE;z.l6.prototype.z1=function(r,N,F,h,m){this.dI=N;var O=r.V,e=r.a!=null?r.a:F.w.length!=0?F.w[0]:F.g.length-1,P=F.g[e];
F.kn=!0;var B=h.j(bh.sV),s=h.j(bh.wQ),Y=h.j(bh.hg);if(O==C.sA&&F.$==null&&(F.w.length>1||!F.VT(!1)))O=C.y7;
if(O==C.ze){var D=new g2([6,33],this),c=P.zv()?["pass"].concat(g6.Ry):g6.Ry,o=c[r.oC],H=r.a!=null?[r.a]:F.w,x=JSON.stringify(H),Q=[];
for(var R=0;R<H.length;R++)Q.push(F.g[H[R]].$j);D.data={V:O,U$:x,P4:Q,oC:o};F.Zy(D);this.uq(D.data,F);
this.track(fq.n6("Md",{t:"enum",v:{BlnM:g6.Cp(o)}}))}if(O==C._n){var D,U=F.xp(),H=r.a!=null?[r.a]:F.w,x=JSON.stringify(H);
if(U&&U.data&&U.data.V==O&&U.data.U$==x)D=U;else{var I=fq.n6("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(I);var Q=[];for(var R=0;R<H.length;R++)Q.push(F.g[H[R]].opacity);D=new g2([6,32],this);D.data={V:O,U$:x,P4:Q,oC:r.oC,ds:I.Tf};
F.Zy(D)}D.data.oC=r.oC;D.data.ds.T.v.Opct.v.val=Math.round(r.oC*100/255);this.uq(D.data,F)}if(O==C.Pb){if(P.add.iOpa==null)P.add.iOpa=255;
var D,U=F.xp();if(U&&U.data&&U.data.V==O&&U.data.a==e)D=U;else{D=new g2("Fill Opacity Change",this);
D.data={V:O,a:e,P4:P.add.iOpa,oC:r.oC};F.Zy(D)}D.data.oC=r.oC;this.uq(D.data,F)}if(O==C.Dd){var l=r.oC,p=r.a!=null?[r.a]:F.w.slice(0),j=[],T=[],D;
for(var V=0;V<p.length;V++){var E=F.g[p[V]];if(E.add.lspf==null)E.add.lspf=0;var Q=E.add.lspf,o=Q;for(var R=0;
R<l[0].length;R++){var _=l[1][R],f=1<<_;if((o&f)==0&&l[0][R])o^=f;else if((o&f)!=0&&!l[0][R])o^=f}j.push(Q);
T.push(o)}var U=F.xp(),H=JSON.stringify(p);if(U&&U.data&&U.data.V==O&&JSON.stringify(U.data.U$)==H){D=U;
D.data.oC=T}else{var D=new g2([6,57,1],this);D.data={V:O,U$:H,P4:j,oC:T};F.Zy(D)}this.uq(D.data,F)}if(O==C.J2){var S="----",L=r.h6,o=null;
for(var R=0;R<ht.iU.kM.length;R++)if(P.add[ht.iU.kM[R]])S=ht.iU.kM[R];var y=P.add[S];if(L=="TySh")o=gQ.WW(50,50,m.Fj);
var D=new g2("Layer Type",this);D.data={V:O,a:e,a3y:[S,y],h6:[L,o]};F.Zy(D);this.uq(D.data,F)}if(O==C.FV){var p=[];
if(B){var $=F.xp(),Z=$?$.data:null;if($!=null&&$.s==this&&Z.V==C.FV&&Z.U$.length!=1){var i=new gf(v.E.u);
i.s=z.Fr;i.data={V:"h_stepbck"};N.L(i);if(Z.a==e)return}var b=F.root.Jr(e),G=F.Js(null,e);while(b.parent!=F.root){G.push(b.parent.index);
b=b.parent}for(var R=0;R<F.g.length;R++){var g=F.g[R],u=g.gv(),A=G.indexOf(R)!=-1;if(!A&&u)p.push(R);
if(R==e&&!u)p.push(R)}}else if(r.U$)p=r.U$;else{p.push(e);var u=F.g[e].gv(),I={Ja:u?"hide":"show",Tf:{classID:u?"Hd":"Shw",null:{t:"VlLs",v:[fq.IT("Lyr",!0)]}}};
this.track(I)}var D=new g2("Layer visibility",this,!0);D.data={V:O,U$:p,a:e};F.Zy(D);this.uq(D.data,F)}if(O==C.xo){if(m.px==z.Pl){var a=new gf(v.E.S);
a.data={V:v.c.z4,s:z.FS};N.L(a)}var d=r.atv,K=r.EK,X,escape=!1,hG=!1;if(r.pF){if(Y&&(K==0||K==1||K==2)){var n=0;
if(s)n++;if(B)n+=2;var t=new gf(v.E.u,!0);t.s=z.Ns;t.data={V:"fromlayer",Fs:[r.a,K,n]};N.L(t);return}}var I={Ja:"select",Tf:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(F.q.Hr.join("")!="111"){F.q.Hr=[1,1,1];F.mR=!0}for(var R=0;R<F.g.length;R++){var g=F.g[R],aK=g.add.vmsk;
if(g.Ru()){var fg=g.xg(F);if(fg&&fg.v&&fg.v.BJ){fg.v.BJ=!1;F.mR=!0}}var k=g.$n();if(k&&k.BJ){k.BJ=!1;
F.mR=!0}if(aK){if(aK.w.length!=0)aK.w=[];if(aK.zJ.length!=0)aK.zJ=[]}}if(h.j(bh.hg)||r.WV==0){var eE=F.w.indexOf(e);
if(eE==-1)F.w.push(e);else if(F.w.length>1){if(r.WV!=0)F.w.splice(eE,1)}F.w.sort(function(D,fd){return D-fd});
I.Tf.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};X=e}else if(s&&!B&&K>0){O=K==1?C.yh:K==2?C.W6:C.q9;
escape=!0}else if((s||r.WV==1)&&F.w.length>0){var hW=Math.min(e,F.w[0]),hh=Math.max(e,F.w[F.w.length-1]);
F.w=[];for(var R=hW;R<=hh;R++)if(F.g[R].add.lsct!=jJ.aE)F.w.push(R);I.Tf.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
X=e}else{X=e;if(e>=F.g.length)return;var g=F.g[e];if(g&&g.zv()&&r.aa3)g.add.lsct=jJ.Ra;else if(F.w.length==1&&F.w[0]==e&&K==g.Ku){hG=!0}if(!hG){F.w=[e];
F.xA()}}if(!hG){if(X!=null&&X<F.g.length){I.Tf.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:F.g[X].getName()}}]},this.track(I)}if(!escape){console.log("no escape");
if(F.w.length==1){var hI=F.w[0];for(var R=0;R<F.g.length;R++){if(R==hI)continue;var E=F.g[R];E.Ku=0;
E.pk=!1}var P=F.g[hI];if(K==2){P.pk=!P.pk;F.ih=[]}else if(P){P.Ku=K<=0?0:K}}else for(var R=0;R<F.g.length;
R++){var E=F.g[R];E.Ku=0;E.pk=!1}F.OW=null;F.Pj=!0}}if(r.pF&&B){if((K==1||K==3)&&d!=null){var t=new gf(v.E.u,!0);
t.s=z.x0;t.data={V:"mskView",h:d!=0?0:s?1:2};N.L(t)}else{this.z1({V:C.r1,a:r.a},N,F,h,m)}}}if(O==C.yh||O==C.q9){var db=O==C.yh,by=db?P.$n():P.xg(F).v;
if(by==null)return;var D=new g2(by.isEnabled?db?[6,15]:[6,42]:db?[6,14]:[6,41],this);D.data={V:O,a:e};
F.Zy(D);this.uq(D.data,F)}if(O==C.W6){var by=P.add.vmsk;if(by==null)return;var D=new g2(by.isEnabled?[6,17]:[6,16],this);
D.data={V:O,a:e};F.Zy(D);this.uq(D.data,F)}if(O==C.a0T){var jM=P.add.lsct==jJ.Ra?jJ.ab:jJ.Ra;if(h.j(bh.hg)){var fP=F.root.Jr(F.g.indexOf(P)).parent;
for(var R=0;R<fP.children.length;R++){var hB=fP.children[R].a;if(hB.zv())hB.add.lsct=jM}}else P.add.lsct=jM;
F.Pj=!0}if(O==C.r1){if(!F.ng(e))return;var D=new g2(P.S8?[6,19]:[6,18],this);D.data={V:O,a:e};F.Zy(D);
if(r.oC==null||r.oC!=P.S8)this.uq(D.data,F)}if(O==C.aiT){if(P.uV())P.Rl-=32;else P.Rl+=32;F.Pj=!0}if(O==C.eB||O==C.gN){var D;
if(O==C.eB)D=new g2(P.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(O==C.gN)D=new g2(P.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
D.data={V:O,a:e};F.Zy(D);this.uq(D.data,F)}if(O==C.Yy||O==C.m$){var hI=r.index,D;if(O==C.Yy)D=new g2(P.add.lmfx[an.NR[hI[0]]].v[hI[1]].v.enab.v?[6,30]:[6,29],this);
if(O==C.m$)D=new g2(P.add.SoLd.filterFX.v.filterFXList.v[hI].v.enab.v?[6,44]:[6,43],this);D.data={V:O,a:e,index:r.index};
F.Zy(D);this.uq(D.data,F)}if(O==C.CG){if(r.src==r.fd)return;var iu=F.g[r.src],be=F.g[r.fd],bp=iu.add.lmfx?JSON.stringify(iu.add.lmfx):"",ij=be.add.lmfx?JSON.stringify(be.add.lmfx):"";
if(be.add.lmfx==null){be.add.lmfx=JSON.parse(an.default);for(var R=0;R<an.order.length;R++)be.add.lmfx[an.NR[R]]={t:"VlLs",v:[]}}if(r.BS==null){be.add.lmfx=JSON.parse(bp);
if(!B)delete iu.add.lmfx}else{var fT=r.BS[0],ei=an.NR[fT];if(an.a3P.indexOf(an.order[fT])==-1)be.add.lmfx[ei].v=[];
be.add.lmfx[ei].v.push(iu.add.lmfx[ei].v[r.BS[1]]);if(!B)iu.add.lmfx[ei].v.splice(r.BS[1],1)}var bz=iu.add.lmfx?JSON.stringify(iu.add.lmfx):"",aM=be.add.lmfx?JSON.stringify(be.add.lmfx):"";
if(!be.uV())be.Rl+=32;var D=new g2("Move Layer Styles",this);D.data={V:O,mH:r.src,XO:r.fd,a5M:bp,arn:ij,a5Q:bz,aef:aM};
F.Zy(D);this.uq(D.data,F)}if(O==C.f9){if(r.src!=null)e=r.src;var E=F.g[e],hw=JSON.stringify(E.add.SoLd),hx=JSON.parse(hw),fm=hx.filterFX.v.filterFXList.v;
fm.splice(r.BS,1);var D=new g2([6,53],this);D.data={V:C.tm,QV:[{xe:e,qh:[hw,JSON.stringify(hx)]}]};F.Zy(D);
this.uq(D.data,F)}if(O==C.ab8){var dE=B,iu=F.g[r.src],be=F.g[r.fd],gD=[];if(iu!=be&&be.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(iu==be&&!dE&&(r.BS==r.cr||r.BS==-1))return;var c2=iu.xg(F),hw=JSON.stringify(iu.add.SoLd),hx=JSON.parse(hw),fm=hx.filterFX.v.filterFXList.v;
if(iu==be){fm.splice(r.cr,0,fm[r.BS]);if(!dE)fm.splice(r.BS+(r.BS<r.cr?0:1),1);gD.push({xe:r.src,qh:[hw,JSON.stringify(hx)]})}else if(r.BS==-1){var bQ=hx.filterFX;
if(!dE){delete hx.filterFX;gD.push({xe:r.src,qh:[hw,JSON.stringify(hx)],bR:[c2,null]})}var f9=be.Ru()?be.xg(F):null,jR=gp.ae4(c2),gP=JSON.stringify(be.add.SoLd),jh=JSON.parse(gP);
jh.placed.v=jR.id;jh.filterFX=bQ;gD.push({xe:r.fd,qh:[gP,JSON.stringify(jh)],bR:[f9,jR]})}else{var k6=fm[r.BS];
if(!dE){fm.splice(r.BS,1);gD.push({xe:r.src,qh:[hw,JSON.stringify(hx)]})}var gP=JSON.stringify(be.add.SoLd),jh=JSON.parse(gP);
if(jh.filterFX==null)jh.filterFX=df.tB();var eZ=jh.filterFX.v.filterFXList.v;eZ.splice(r.cr,0,k6);var b5={xe:r.fd,qh:[gP,JSON.stringify(jh)]};
if(!be.Ru()){var jR=gp.a4v(be.add.SoLd.placed.v);b5.bR=[null,jR]}gD.push(b5)}var D=new g2([6,52],this);
D.data={V:C.tm,QV:gD};F.Zy(D);this.uq(D.data,F)}if(O==C.mD){var by=P.$n(),D=new g2(by.AS?[6,26]:[6,25],this);
D.data={V:O,a:e};F.Zy(D);this.uq(D.data,F);this.track({Ja:"set",Tf:{classID:"setd",null:{t:"obj ",v:[fq.IT("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:by.AS}}}}})}if(O==C.tS){var by=P.add.vmsk,D=new g2(by.AS?[6,28]:[6,27],this);
D.data={V:O,a:e};F.Zy(D);this.uq(D.data,F)}if(O==C.HO){var fG=[],D;for(var R=0;R<F.w.length;R++){var V=F.w[R],g=F.g[V];
if(g.add.vogk)fG.push(V,JSON.stringify(g.add.vogk))}for(var R=0;R<F.ih.length;R++){var V=F.ih[R],g=F.N$[V];
if(g.add.vogk)fG.push(-1-V,JSON.stringify(g.add.vogk))}w.UI.akB(F,r.h);var jG=[];for(var R=0;R<F.w.length;
R++){var V=F.w[R],g=F.g[V];if(g.add.vogk)jG.push(V,JSON.stringify(g.add.vogk))}for(var R=0;R<F.ih.length;
R++){var V=F.ih[R],g=F.N$[V];if(g.add.vogk)jG.push(-1-V,JSON.stringify(g.add.vogk))}var U=F.xp();if(U&&U.data&&U.data.V==O){var i_=!0;
for(var R=0;R<fG.length;R+=2)if(fG[R]!=U.data.to[R])i_=!1;if(i_){D=U;D.data.AT=jG}}if(D==null){var D=new g2([12,91,1],this);
D.data={V:O,to:fG,AT:jG};F.Zy(D)}this.uq(D.data,F)}if(O==C.Rv){var aY=JSON.stringify(P.add.artb),jk=JSON.stringify(r.Gb),D;
F.g[e].add.artb=JSON.parse(jk);var ih=new fE(0,0,F.e,F.n),jr=z.Q6.eI(F),U=F.xp();if(U&&U.data&&U.data.V==O&&U.data.a==e){D=U;
D.data.Gb=jk}if(D==null){var D=new g2("Editing Artboard",this);D.data={V:O,a:e,aky:aY,Gb:jk,bL:ih};F.Zy(D)}D.data.ae=jr;
this.uq(D.data,F)}if(O==C.hW){var jG=F.O0.slice(0),hV=F.I2.slice(0),ds=F.$,jA=F.$;if(r.bT=="fromAction"){var eI=r.h.Ja,hH=r.h.Tf;
if(eI=="make"||eI=="duplicate"){var bO=jG.length,cG=!1,cV=!1;if(F.R2())bO--;var dO=new C.Z8;dO.name="Alpha "+(bO+1);
if(eI=="make"){var g3=hH.Nw.v;dO.color=255;hV=[bO];dO.BJ=!0;dO.PM=g3.Opct.v;if(g3.Nm)dO.name=g3.Nm.v;
if(g3.classID=="SCch"){cG=!0;jA=null;dO.dn=1}}else{var gh=hH.null.v[0].v;if(gh.keyID=="fsel")cG=!0;else{var bH=z.Yi.sm(F);
jA=z.Yi.PW(F,bH);dO.color=0;dO.rect=jA.rect;dO.channel=jA.channel}}if(cG){dO.color=0;if(F.$){dO.rect=F.$.rect.clone();
dO.channel=F.$.channel.slice(0)}if(cV){dO.color=255-dO.color;w.iL(dO.channel)}}jG.splice(bO,0,dO)}else if(eI=="delete"){if(P&&P.$n()&&P.Ku==1){this.z1({V:C.nV},N,F,h,m);
return}var G=F.I2;G.sort(function(D,fd){return fd-D});if(G.length==0)return;for(var R=0;R<G.length;R++)jG.splice(G[R],1);
hV=[]}else if(eI=="hide"){jG[hV[0]]=jG[hV[0]].clone();jG[hV[0]].BJ=!1}}if(r.bT=="rnm"){jG[r.Jz]=jG[r.Jz].clone();
jG[r.Jz].name=r.name}var D=new g2("Channel Edit",this);D.data={V:O,to:F.O0.slice(0),Ei:F.I2.slice(0),AT:jG,$b:hV,Rj:ds,xF:jA};
this.uq(D.data,F);F.Zy(D)}if(O==C.l5){var gF=new fE(0,0,F.e,F.n),D=new g2(r.Py,this);D.data={V:C.l5,du:F.g.slice(0),Yb:r.Yb,e7:F.w.slice(0),c8:r.xF};
F.Zy(D);this.uq(D.data,F);var hu=z.Q6.jJ(F);if(hu){D.data.bL=gF;D.data.ae=hu}}if(O==C.wn){var aB=F.Js(null,r.a),bM=1e10;
if(aB.length==0)return;if(F.g.length==aB.length){alert("Project must have at least 1 layer");return}var c8=[];
for(var R=0;R<F.g.length;R++)if(aB.indexOf(R)==-1)c8.push(F.g[R]);for(var R=0;R<aB.length;R++)bM=Math.min(bM,aB[R]);
bM=Math.max(bM-1,0);while(c8[bM].name=="</Layer group>")bM++;this.track({Ja:"delete",Tf:{classID:"Dlt",null:fq.IT("Lyr",!0)}});
var D=new g2([6,31],this);D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:[bM]};F.Zy(D);this.uq(D.data,F)}if(O==C.TJ){if(!h.j(bh.wQ))return;
var D=new g2("Switch Layer Link",this);D.data={V:O,a:r.a};F.Zy(D);this.uq(D.data,F)}if(O==C.Nb){var G=r.as6?r.as6:F.w,ig=0,iy=!1;
if(G.length==0)return;if(G.length==1&&F.g[G[0]].vM==0){alert(ab.get([15,7,5]));return}var fe=[];for(var R=0;
R<F.g.length;R++){var e6=F.g[R].vM;fe.push(e6);ig=Math.max(ig,e6)}var jc=-1,bm=-1;for(var R=0;R<G.length;
R++){var e6=F.g[G[R]].vM;if(e6==0)iy=!0;else if(jc==-1||jc==e6)jc=e6;else bm=e6}if(!iy)for(var R=0;R<G.length;
R++)F.g[G[R]].vM=0;else if(jc!=-1&&bm==-1)for(var R=0;R<G.length;R++)F.g[G[R]].vM=jc;else for(var R=0;
R<G.length;R++)F.g[G[R]].vM=ig+1;var cu=[];for(var R=0;R<F.g.length;R++){var e6=F.g[R].vM;if(cu[e6]==null)cu[e6]=0;
cu[e6]++}for(var R=0;R<F.g.length;R++){var e6=F.g[R].vM;if(cu[e6]==1)F.g[R].vM=0}var fC=fe;fe=[];for(var R=0;
R<F.g.length;R++){var e6=F.g[R].vM;fe.push(e6);ig=Math.max(ig,e6)}var D=new g2(iy?[6,54,0]:[6,54,1],this);
D.data={V:C.Nb,ag4:fC,ak2:fe};F.Zy(D);this.uq(D.data,F)}if(O==C.y7&&(r.a!=null||F.w.length!=0)||O==C.QI){var cm=F.fn(O==C.y7?r.a:e,null,r.a6V),i4;
if(O==C.QI){var E=cm[0],eI=E.add.SoLd.Idnt.v,fz=F.pH(eI).clone();E.add.SoLd.Idnt.v=fz.$U=gp.Tp()+eI.slice(8);
F.add.lnk2.push(fz)}if(O==C.y7){var iB={Ja:"duplicate",Tf:{classID:"null",null:fq.IT("Lyr",!0)}};if(r.yB){cm[0].a6(r.yB);
iB.Nm={t:"TEXT",v:r.yB}}this.track(iB);r.acd=r.a}O=C.M9;r.g=cm;r.uW=F;r.wa=F}if(O==C.M9){var g5,cv,il=r.uW,js=r.wa,dZ=0,au=0,dT=!1,eQ=0,gj=0;
if(il!=js){console.log("ADDLAYERS different projs");var g5=new fE(0,0,il.e,il.n),cv=new fE(0,0,js.e,js.n),iH=[],ju=[];
for(var R=0;R<r.g.length;R++){var E=r.g[R];if(E.add.SoLd==null)continue;var eI=E.add.SoLd.Idnt.v;if(iH.indexOf(eI)==-1){iH.push(eI);
ju.push(gp.Tp()+eI.slice(8))}E.add.SoLd.Idnt.v=ju[iH.indexOf(eI)];var c2=E.xg(il);if(c2){il.cX(c2);js.gV(c2)}}if(iH.length>0){if(js.add.lnk2==null)js.add.lnk2=[];
for(var R=0;R<iH.length;R++){var jQ=il.pH(iH[R]),fz=jQ.clone();fz.$U=ju[R];js.add.lnk2.push(fz)}}}var ds=js.w.slice(0);
ds.sort(function(D,fd){return D-fd});var c8=js.g.slice(0),jA=[],cD=-1;for(var R=0;R<ds.length;R++)cD=Math.max(cD,ds[R]);
if(r.acd!=null)cD=r.acd;var dX=il.W2();if(r.kk){cD=r.kk-1;var gW=js.g[r.kk].CN();dZ+=gW.x;au+=gW.y}if(dX!=-1&&(il!=js||r.kk)){var bX=il.g[dX].CN();
dZ-=bX.x;au-=bX.y}var gG=js.jS();cD++;for(var R=0;R<r.g.length;R++){var g=r.g[R],fu=g.add.artb;c8.splice(cD,0,g);
jA.push(cD);cD++;if(fu){var iJ=fu.guideIndeces;if(iJ){iJ=iJ.v;console.log(iJ);for(var cr=0;cr<iJ.length;
cr++){gG[0].push(il.a_[iJ[cr].v].slice(0));gG[1].push(c8.indexOf(g));dT=!0}}}}for(var R=0;R<r.g.length;
R++){var g=r.g[R];if(g.add.lsct==jJ.aE){if(eQ==0)gj++;eQ++}else if(g.zv())eQ--}if(gj==1)jA=[cD-1];var D=new g2([6,0],this);
D.data={V:C.l5,du:js.g.slice(0),Yb:c8,e7:ds,c8:jA};if(dT){D.data.ah=[js.jS(),gG]}js.Zy(D);this.uq(D.data,js);
if(dZ!=0||au!=0)z.FZ.bt(js,js.Js(),null,dZ,au)}if(O==C.auf){var aH=r.a!=null?[r.a]:F.Js(),c8=F.g.slice(0);
for(var R=0;R<aH.length;R++){var g=F.g[aH[R]].clone();g.tY(F);c8.splice(aH[R],1,g)}var D=new g2([6,8],this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:F.w.slice(0)};F.Zy(D);this.uq(D.data,F)}if(O==C.aqr){var c8=F.g.slice(0),g=c8[F.w[0]]=c8[F.w[0]].clone(),d3=g.add.lmfx,jD,gW;
delete g.add.lmfx;var b0=F.w[0],j0=b0+1;if(g.zv()){var dA=F.g[F.w[0]].Oo;gW=dA.aqL;jD=dA.mw;var b=F.root.Jr(b0);
b0=b.Pg}else{gW=g.rect;jD=w.B(gW.W());w.Pw(g.buffer,jD,3)}var j9=iL.ce(d3,g.add.fxrp,jD,gW,F,gW).type;
for(var R=0;R<an.order.length;R++){var gg=an.order[R],gK=j9[gg];gK.reverse();for(var cr=0;cr<gK.length;
cr++){var c0=gK[cr],H=F.lc(),hp=R>7;if(gg=="ebbl"){if(c0.gB||c0.jd){var f_=c0.gB?c0.gB:c0.jd;if(c0.gB)delete c0.gB;
else delete c0.jd;if(c0.jd||c0.H0)cr--}else if(c0.H0||c0.IK){var f_=c0.IK?c0.IK:c0.H0;if(c0.IK){delete c0.IK;
if(c0.H0)cr--}hp=!0}c0=f_}H.$j=c0.$T;H.opacity=Math.round(255*c0.Ro);H.buffer=c0.iS;H.rect=c0.uT.clone();
H.rect.offset(gW.x,gW.y);if(gg=="FrFX"){H.buffer=H.buffer.slice(0);w.vr(c0.XG?c0.XG:c0.Wk,H.buffer,3);
if(c0.XG){hp=!0;delete c0.XG;if(c0.Wk)cr--}}H.S8=!hp;H.a6(g.getName()+"'s "+ab.get(an.names[R]));c8.splice(hp?b0:j0,0,H);
if(hp)j0++}}var D=new g2("Styles to Layers",this);D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:[j0-1]};
F.Zy(D);this.uq(D.data,F)}if(O==C.y5){var aH=F.Js(),c8=F.g.slice(0),a8=new fE(0,0,F.e,F.n);for(var R=0;
R<aH.length;R++){var hU=F.g[aH[R]],iR=hU.gv();hU.Hb(!0);var ah=F.root.Jr(aH[R]);if(hU.zv())continue;
if(ah==null)continue;var g=hU.clone();g.tY(F);var gl=ah.Tm(F,!0),ek=F.g;F.S0([hU]);F.M();F.t7();g.buffer=w.B(gl.W()*4);
w.L3(F.G9(),a8,g.buffer,gl);g.rect=gl;g.opacity=255;g.add.iOpa=255;g.$j="norm";g.M();g.Oo.ux=!0;F.S0(ek);
if(g.add.lmfx)delete g.add.lmfx;g.v=g.i1=null;c8.splice(aH[R],1,g);g.Hb(iR);hU.Hb(iR)}var D=new g2([6,34],this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:F.w.slice(0)};F.Zy(D);this.uq(D.data,F)}if(O==C.a0_){var aH=F.Js(),c8=F.g.slice(0);
for(var R=0;R<aH.length;R++){var g=F.g[aH[R]],b1=g.add.TySh;if(b1==null)continue;var E=new ac(b1.sl,m.FN),bi=w.p.fP(d0.St(E,b1));
for(var j4 in bi){var fs=bi[j4],hB=g.clone();delete hB.add.TySh;hB.Rl=hB.Rl|1<<4;hB.add.SoCo=JSON.parse(JSON.stringify(an.qe[0]));
var bI=hB.add.SoCo.Clr.v;bI.Rd.v=parseInt(j4.slice(1,3),16);bI.Grn.v=parseInt(j4.slice(3,5),16);bI.Bl.v=parseInt(j4.slice(5,7),16);
var jf=new C.Ug;jf.Y=w.p.nN(fs,!1);if(hB.add.vmsk!=null){hB.add.vmsk.a4H();jf.concat(hB.add.vmsk)}hB.add.vmsk=jf;
hB.add.vstk=JSON.parse(JSON.stringify(an.mr.default));hB.jq();hB.dD(F);c8.splice(c8.indexOf(g),0,hB)}c8.splice(c8.indexOf(g),1)}var jA=F.w.slice(0);
for(var R=jA.length-1;R>=0;R--)if(jA[R]>=c8.length)jA.splice(R,1);var D=new g2([6,40],this);D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:jA};
F.Zy(D);this.uq(D.data,F)}if(O==C.aac){var iW=F.w.length;if(iW<2){alert("Select two or more layers.");
return}if(!F.mc())return;var hB=F.g[F.w[0]].clone(),c8=[];for(var R=0;R<F.g.length;R++)if(F.w.indexOf(R)==-1)c8.push(F.g[R]);
c8.splice(F.w[0],0,hB);for(var R=1;R<iW;R++)if(F.g[F.w[R]].rect.W()>2e6){alert("Blended areas are too large.");
return}for(var R=1;R<iW;R++){var g=F.g[F.w[R]],ef=g.rect.clone();ef.r2(1,1);var fd=w.B(ef.W()*4);w.L3(g.buffer,g.rect,fd,ef);
hB.extend(ef);var de=w.B(ef.W()*4);w.L3(hB.buffer,hB.rect,de,ef);var D=w.B(ef.W());w.Pw(fd,D,3);w.round(D,200);
w.vr(D,fd,3);w.i.vw("norm",fd,ef,de,ef,ef,1);w.wW.cc(de,D,ef);w.L3(de,ef,hB.buffer,hB.rect)}var D=new g2([2,10,0],this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:[F.w[0]]};F.Zy(D);this.uq(D.data,F)}if(O==C.Y8){var c8=F.g.slice(0),hV=F.w.slice(0);
for(var R=0;R<c8.length;R++){var g=c8[R],aK=g.add.vmsk;if(g.t8()&&aK&&g.add.vstk.strokeEnabled.v&&!g.add.vstk.fillEnabled.v){var ix=aK.Y,ba=0,iz=-1;
for(var cr=0;cr<ix.length;cr++){if((ix[cr].type==0||ix[cr].type==3)&&ix[cr].r5!=-1){ba++;if(ix[cr].type==3&&iz==-1){ix[cr].sd=ix[cr].r5=1;
iz=cr}}}if(ba>1&&iz!=-1){console.log("separating an open path into a new layer");g=g.clone();aK=g.add.vmsk;
ix=aK.Y;var H=ix[iz].length,f1=g.clone();f1.add.lyid=F.V6();aK.Y=ix.slice(0,2).concat(ix.slice(iz,iz+H+1));
aK.w=[];g.dD(F);g.M();var bU=f1.add.vmsk.Y;f1.add.vmsk.Y=bU.slice(0,iz).concat(bU.slice(iz+H+1,bU.length));
f1.add.vmsk.w=[];f1.dD(F);c8[R]=g;c8.splice(R+1,0,f1);for(var cr=0;cr<hV.length;cr++)if(hV[cr]>R)hV[cr]++;
var hr=hV.indexOf(R);if(hr!=-1){hV.splice(hr+1,0,R+1)}}}}if(c8.length!=F.g.length){var D=new g2("Splitting open paths",this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:hV};F.Zy(D);this.uq(D.data,F)}}if(O==C.Ut){this.z1({V:C.Y8},N,F,h,m);
var ds=F.w.slice(0),ek=F.g.slice(0),aH=F.Js();if(aH.length==0)return;F.a0v(aH,!1,r.Rr);var D=new g2([6,36,0],this);
D.data={V:C.l5,du:ek,Yb:F.g.slice(),e7:ds,c8:F.w.slice(0)};F.Zy(D);this.uq(D.data,F)}if(O==C.ah4){var hw=P.add.SoLd;
if(hw==null)return;var eI=hw.Idnt.v,ge=F.pH(eI);ge.G9(!1);var bl=ge.Mk[0],ef=ge.Mk[1];if(w._p(bl)){alert("The smart object contains transparency.");
return}var iF=bA.yU("jpg").xs([[bl.buffer]],ef.e,ef.n,[90]);this.z1({V:C.CY,_I:F,data:new Uint8Array(iF),id:eI,Rr:"jpg"},N,F,h,m);
console.log(F.add);return}if(O==C.CY){var jQ=r._I.pH(r.id),fz=jQ.clone();fz.raw=r.data;if(r.bp)fz.bp=r.bp;
if(r.Rr){fz.gh="    ";fz._h="    ";fz.bp=fz.bp+"."+r.Rr}else{fz.gh="8BIM";fz._h="8BPB";fz.bp=fz.bp+(fz.bp.endsWith(".psd")?"":".psd")}fz.G9(!1);
jQ.G9(!1);var D=new g2([6,36,1],this);D.data={V:C.CY,id:r.id,xO:jQ,v$:fz};r._I.Zy(D);this.uq(D.data,r._I)}if(O==C.Hv){var D=new g2([6,36,4],this);
D.data={V:O,a:e,Q5:P.add.SoLd.Impr.v.classID,oC:r.oC};F.Zy(D);this.uq(D.data,F)}if(O==C.aea){var hf,iI;
if(r.ii){hf=r._I;iI=r.ii}else{r._I.IY();r._I.q7();r._I.M();r._I.t7();r._I.G9();hf=bA.yU("PSD").xs(r._I,0,0,[!0,!0]);
iI=r._I.name}if(!(hf instanceof ArrayBuffer))throw"e";hf=new Uint8Array(hf);var eE=r.b1;if(eE==null){if(F.w.length==0)eE=F.w.length;
else{var jL=F.w[F.w.length-1],H=F.g[jL];eE=H.zv()?jL:jL+1}}var cs=new fE(0,0,F.e,F.n),fn=F.W2();if(fn!=-1)cs=F.g[fn].CN();
var cF=F.yk(hf,iI,0,0,cs),c8=F.g.slice(0);c8.splice(eE,0,cF);var D=new g2([6,36,2],this);D.data={V:C.l5,du:F.g.slice(),Yb:c8,e7:F.w.slice(0),c8:[c8.indexOf(cF)]};
F.Zy(D);this.uq(D.data,F)}if(O==C.EF&&r.bT=="merge"){var k5=[],cB=F.root.children,gZ=0;for(var R=0;R<cB.length;
R++){var b=cB[R],g=b.a,im=b.children,iZ=!0;if(!g.zv()||im.length==0)continue;for(var cr=0;cr<im.length;
cr++)if(!im[cr].a.getName().startsWith("_a_")){iZ=!1;break}if(iZ)k5.push(F.g.indexOf(g))}var dh=[];for(var R=0;
R<k5.length;R++)if(F.w.indexOf(k5[R])!=-1)dh.push(k5[R]);if(dh.length>=2)k5=dh;if(k5.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var gy=[];for(var R=0;R<k5.length;R++)gy.push(F.g[k5[R]].getName());var gK=[];for(var b7=0;b7<k5.length;
b7++){var b=F.root.Jr(k5[b7]),b5=[[],[],0,b7];gK.push(b5);for(var R=0;R<b.children.length;R++){var V=b.children[R].index,g=b.children[R].a,dO=g.getName(),gw=20,jO=dO.split(",");
if(jO.length>1){var g7=parseInt(jO.pop());if(!isNaN(g7)&&g7!=0)gw=g7}b5[0].push(g);b5[1].push(gw);b5[2]+=gw}}gK.sort(function(D,fd){return fd[2]-D[2]});
var dc=gK[0],eS=dc[2];for(var cc=1;cc<gK.length;cc++){var b5=gK[cc],cR=1,iq=b5[1].slice(0),gb=0;while((cR+1)*b5[2]<=dc[2]){cR++;
iq=iq.concat(b5[1])}b5[1]=iq;b5[2]*=cR;var h7=dc[2]/b5[2];for(var R=0;R<b5[1].length;R++){var h4=Math.floor(b5[1][R]*h7);
b5[1][R]=h4;gb+=h4}while(gb<eS){gb++;b5[1][b5[1].length-1]++}b5[2]=gb}var h_=[],cY=[],h4=[];for(var R=0;
R<gK.length;R++){h_.push(0);cY.push(0)}while(gZ<eS){var d$=1e9,bO=-1;for(var R=0;R<gK.length;R++){var hS=gK[R][1],b0=h_[R];
if(b0!=hS.length&&cY[R]+hS[b0]<gZ+d$){bO=R;d$=cY[R]+hS[b0]-gZ}}cY[bO]+=gK[bO][1][h_[bO]];h_[bO]++;if(d$!=0){h4.push(d$);
gZ+=d$}}for(var R=1;R<h4.length;R++){var jV=h4[R];if(jV<16&&(h4[R-1]<16||R<h4.length-1&&16<=h4[R+1])){h4[R-1]+=jV;
h4.splice(R,1);R--}}var iR=[],a8=new fE(0,0,F.e,F.n);for(var R=0;R<F.g.length;R++){iR[R]=F.g[R].gv();
F.g[R].Hb(!1)}var cC=F.w.slice(0);F.w=k5;var aB=F.Js();aB.sort(function(D,fd){return D-fd});var c8=[];
for(var R=0;R<F.g.length;R++){if(aB.indexOf(R)==-1)c8.push(F.g[R])}gK.sort(function(D,fd){return D[3]-fd[3]});
function hl(hS,dV){var R=0,et=0;while(et+hS[R]<=dV){et+=hS[R];R++}return R}gZ=0;c8.splice(aB[0],0,F.Dz());
for(var f5=0;f5<h4.length;f5++){var p=[];for(var R=0;R<gK.length;R++){var b0=hl(gK[R][1],gZ)%gK[R][0].length,g=gK[R][0][b0];
p.push(g)}var g=F.lc();for(var R=0;R<gK.length;R++){var e2=p[R],fP=F.g[k5[R]];e2.Hb(!0);fP.Hb(!0)}F.M();
F.t7();var bl=F.G9();g.rect=w.Lw(bl,a8,2);g.buffer=w.B(g.rect.W()*4);w.L3(bl,a8,g.buffer,g.rect);for(var R=0;
R<gK.length;R++){var e2=p[R],fP=F.g[k5[R]];e2.Hb(!1);fP.Hb(!1)}g.Hb(f5==0);g.a6("_a_frm"+f5+","+h4[f5]);
c8.splice(aB[0]+1+f5,0,g);gZ+=h4[f5]}var g=F.lc();g.a6(gy.join(" + "));g.$j="pass";g.add.lsct=jJ.ab;
g.Rl=24;c8.splice(aB[0]+1+h4.length,0,g);for(var R=0;R<F.g.length;R++)F.g[R].Hb(iR[R]);var D=new g2([6,12,0],this);
D.data={V:C.l5,du:F.g,Yb:c8,e7:cC,c8:[aB[0]+1+h4.length]};F.Zy(D);this.uq(D.data,F)}if(O==C.tW||O==C.Rz){var a0=F.w.length==1,ek=F.g.slice(0),ds=F.w.slice(0),dH=!0,cF,jA;
if(a0)F.w=[e,e-1];if(O==C.Rz){F.w=[];for(var R=0;R<F.g.length;R++)if(F.g[R].gv())F.w.push(R)}var aH=F.Js();
aH.sort(function(D,fd){return D-fd});var fW=new fE,a8=new fE(0,0,F.e,F.n);for(var R=0;R<aH.length;R++){var V=aH[R],g=F.g[V];
dH=dH&&g.t8()&&g.add.vmsk!=null;fW=fW.fD(F.root.Jr(V).Tm(F,!0))}if(dH){cF=F.g[aH[0]].clone();var aK=cF.add.vmsk;
for(var R=1;R<aH.length;R++){var H=F.g[aH[R]],bU=C.Ug.sN(H.add.vmsk.Y);aK.Y=aK.Y.concat(bU.slice(2));
cF.add.vogk=cF.add.vogk.concat(JSON.parse(JSON.stringify(H.add.vogk)))}cF.add.vmsk.ug=!0;cF.dD(F)}else if(a8.w9(fW)){cF=F.lc();
cF.a6(F.g[aH[aH.length-1]].getName());cF.rect=fW;cF.buffer=w.B(fW.W()*4);var fa=F.G9(aH);w.L3(fa,a8,cF.buffer,fW);
cF.RR();cF.M()}else{F.a0v(aH,!0);cF=F.g[F.w[0]];F.g.splice(F.w[0],1);var ff=F.pH(cF.add.SoLd.Idnt.v);
F.add.lnk2.splice(F.add.lnk2.indexOf(ff),1);delete cF.add.SoLd}var ga=B,h1=-1;if(r.Tf&&r.Tf.Dplc&&r.Tf.Dplc.v)ga=!0;
if(ga&&O==C.Rz&&F.g[ds[0]].ve()&&F.g[ds[0]].rect.lX()){h1=ds[0]}if(h1!=-1||a0){var eg=F.g[h1!=-1?h1:e-1];
cF.a6(eg.getName());cF.add.lclr=eg.add.lclr}var c8=[];for(var R=0;R<F.g.length;R++)if(ga||aH.indexOf(R)==-1)if(R!=h1)c8.push(F.g[R]);
var cX=aH[aH.length-1],bY=cX==F.g.length-1?null:F.g[cX+1],dM=bY?c8.indexOf(bY):c8.length;c8.splice(dM,0,cF);
jA=[dM];var D=new g2([6,12,0],this);D.data={V:C.l5,du:ek,Yb:c8,e7:ds,c8:jA};F.Zy(D);this.uq(D.data,F)}if(O==C.ahg){var hB=F.lc();
hB.rect=new fE(0,0,F.e,F.n);hB.buffer=w.B(hB.rect.W()*4);w.T1(hB.buffer,4294967295);w.i.vw("norm",F.G9(),hB.rect,hB.buffer,hB.rect,hB.rect,1);
hB.a6("Background");hB.add.lspf=1<<2;var D=new g2([6,12,1],this);D.data={V:C.l5,du:F.g.slice(),Yb:[hB],e7:F.w.slice(0),c8:[0]};
F.Zy(D);this.uq(D.data,F)}var d7=O==C.sA||O==C._4;if(O==C.vZ||O==C.nC||O==C.e6||O==C.Ax||d7){var g=d7?F.fn()[0]:F.lc(),ct=ab.get([0,3]),jK=r.yB,bZ=!1,aF,jx;
if(O==C.e6)ct=ab.get([12,76,1]);if(d7){if(F.$){var hU=F.g[F.w[0]],jm=hU.ln(F,F.$);if(jm==null){alert("Copied area is empty");
return}g.rect=jm.rect;g.buffer=jm.C2;g.tY(F);g.Hb(!0)}else jK=g.getName();g.add.lspf=0;g.S8=!1;if((g.Rl&1)!=0)g.Rl--}if(O==C.Ax){g.rect=z.l6.Mc(r.zb,F);
g.buffer=r.zb.buffer.slice(0);if(r.TX&&F.$){g.v=new C.Z8;g.v.rect=F.$.rect;g.v.color=0;g.v.channel=F.$.channel.slice(0)}}if(O==C.vZ){this.track({Ja:"make",Tf:{classID:"Mk",null:fq.IT("Lyr")}})}if(O==C.nC){g.Rl|=16;
var iD=r.Tf.Usng.v,bc=iD.Type.v,iV=gn.Bo[bc.classID];ct=ab.get(gn.names[iV]);if(iD.Nm)jK=iD.Nm.v;g.add[iV]=df.T$(iV);
if(g.add[iV]==null)g.add[iV]={};for(var h$ in bc)g.add[iV][h$]=JSON.parse(JSON.stringify(bc[h$]));g.v=z.l6.Mm(F);
g.Ku=1}if(O==C.e6){g.Rl|=16;var hH=r.Tf,iD=hH.Usng.v,jI=iD.Type.v,c4=iD.Shp;if(iD.Nm)jK=iD.Nm.v;if(c4==null){var fH=F.bN(),bi=fH[0],aG=fH[1];
if(aG.length!=0&&bi[aG[0]].Jz<0){var al=bi[aG[0]].add;g.add.vmsk=al.vmsk.clone();g.add.vstk=JSON.parse(JSON.stringify(an.mr.default));
g.add.vogk=JSON.parse(JSON.stringify(al.vogk));F.ih=[]}else g.v=z.l6.Mm(F)}else{console.log(iD);g.add.vmsk=new C.Ug;
g.add.vstk=JSON.parse(JSON.stringify(iD.strokeStyle?iD.strokeStyle.v:an.mr.default));g.add.vogk=[];if(c4){var hb=w.UI.Fk(c4);
if(hb){g.add.vogk=[hb];g.add.vmsk.Y.push({type:0,r5:1,length:0});w.UI.Tz(g.add.vogk,g.add.vmsk)}else{c4=c4.v;
var cN=c4.classID;if(cN=="Plgn"){var ji=c4.Cntr.v,bX=c4.corner.v;ji=new gS(ji.Hrzn.v.val,ji.Vrtc.v.val);
bX=new gS(bX.Hrzn.v.val,bX.Vrtc.v.val);g.add.vmsk.Y=w.H.yN.We(ji.x,ji.y,Math.sqrt(bX.x*bX.x+bX.y*bX.y),Math.atan2(bX.y,bX.x),c4.sides.v,0)}else if(cN=="customShape"){var i2=w.UI.lN(c4),jl=i2[2]-i2[0],ii=i2[3]-i2[1],hP=m.Ko,dl,iA;
for(var R=0;R<hP.length;R++)if(hP[R].no==c4.Nm.v)dl=hP[R];if(dl){iA=C.Ug.sN(dl.Y);w.H.nY(iA,new hc(jl,0,0,ii,i2[0],i2[1]))}else iA=w.H.yN.Rect(i2[0],i2[1],jl,ii,0);
g.add.vmsk.Y=iA}g.jq()}}}var cM={solidColorLayer:0,gradientLayer:1,patternLayer:2}[jI.classID],gc=["SoCo","GdFl","PtFl"][cM];
g.add[gc]=JSON.parse(JSON.stringify(an.qe[cM]));z.l6.Ew(jI,g.add[gc],cM);if(c4==null)ct=ab.get([6,48,0,cM]);
if(gc=="PtFl"){var b3=g.add[gc].Ptrn.v,jO=iL.gC(b3,m.X5);if(jO==null)jO=iL.gC(b3,F.add.Patt);b3.Idnt.v=jO.id;
F.yt(jO)}g.dD(F)}var iW=z.l6.VG(F,ct+" ");g.a6(ct+" "+(iW+1));if(jK)g.a6(jK);var aA=F.w.length==0?F.g.length-1:F.w[F.w.length-1],eW=F.g[aA];
if(O==C.e6&&eW.ve()&&eW.rect.lX()){bZ=!0;g.a6(eW.getName());aF=aA}else{aF=aA+(O==C.vZ&&Y&&!s?0:1);if(eW&&eW.add.lsct==jJ.Ra)aF--}if(r.aeC)aF=Math.max(0,aF-1);
var c8=F.g.slice(0);if(O==C._4){var bS=c8[F.w[0]]=c8[F.w[0]].clone(),fB=F.$.channel.slice(0);w.iL(fB);
w.Y$(fB,F.$.rect,bS.buffer,bS.rect)}c8.splice(aF,bZ?1:0,g);var dx=[5,2];if(O==C.vZ)dx=[6,13];if(O==C.nC)dx=[6,1];
if(O==C.e6){dx=[6,48,1];var c4=r.Tf.Usng.v.Shp;if(c4){var ie={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[c4.v.classID];
if(ie)dx=ie}}if(d7){dx=[6,49,O==C.sA?0:1]}if(d7||O==C.e6||O==C.Ax||O==C.nC)if(F.$)jx=[F.$,null];var D=new g2(dx,this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:[aF],EQ:jx};F.Zy(D);this.uq(D.data,F);if(O==C.e6&&c4==null&&cM!=0||O==C.nC){var a=new gf(v.E.S);
a.data={V:v.c.M6,i7:gt.A4.OV};N.L(a)}}if(O==C.Ex){var g=F.lc(),ct=ab.get([0,4]),iW=z.l6.VG(F,ct+" ");
g.a6(ct+" "+(iW+1));g.$j="pass";g.add.lsct=jJ.Ra;g.Rl=24;if(r.yB)g.a6(r.yB);if(r.EZ!=null)g.add.lclr=r.EZ;
var iK=F.Dz(),aA=e,aF=aA+(Y?0:1),c8=F.g.slice(0);c8.splice(aF,0,iK,g);var D=new g2([6,20],this);D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:[aF+1]};
F.Zy(D);this.uq(D.data,F)}if(O==C.iF||O==C.Q_){var bN=O==C.iF?r.source:F.w[0],iv,hk,ir=F.w.indexOf(bN)!=-1,jp=B|r.ahF,dL,d$=null;
if(ir)dL=F.Js();else dL=F.t1(bN);dL.sort(function(D,fd){return D-fd});if(O==C.iF){iv=r.target;hk=r.ky>.5}else if(r.target!=null){iv=Math.min(r.target,F.g.length-1);
hk=r.target<F.g.length;F.Ls=!0}else{var gu=r.bT;hk=gu>1;if(gu==0){iv=F.g.length-1}if(gu==1){iv=dL[dL.length-1]+1;
var H=F.t1(iv);if(H.indexOf(bN)==-1)iv+=H.length-1}if(gu==2){iv=dL[0]-1;var H=F.t1(iv);if(H.indexOf(bN)==-1)iv-=H.length-1}if(gu==3){iv=0;
if(F.g[0].add.lnsr=="bgnd")iv++}if(iv<0||iv>F.g.length-1)return;F.Ls=!0}if(dL.indexOf(iv)!=-1&&!jp)return;
var h9=z.l6.Zd(F,dL,iv,hk,jp?F.fn(ir?null:bN):null,O==C.iF&&r.ky>.8),iw=h9.pop(),hV=h9.pop(),c8=h9.pop(),g_=F.w;
F.w=[bN];var dX=F.W2();F.w=[iv];var dz=F.W2();if(dz==iv&&!hk)dz=-1;F.w=g_;if(bN==dX){}else if(dX!=dz){var d$=new gS(0,0);
if(dX!=-1){var ef=F.g[dX].CN();d$.x-=ef.x;d$.y-=ef.y}if(dz!=-1){var ef=F.g[dz].CN();d$.x+=ef.x;d$.y+=ef.y}}var D=new g2(jp?[6,0]:[6,35],this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:hV,fL:d$};F.Zy(D);this.uq(D.data,F);var hH={classID:"move",null:fq.IT("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:iw+(hk?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:jp}};
this.track({Ja:"move",Tf:hH})}if(O==C.BZ){if(r.Dj){if(P==null||!P.zv())return;var b=F.root.Jr(e),cS=F.g.indexOf(b.a4r),c8=F.g.slice(0);
c8.splice(e,1);c8.splice(cS,1);var hV=[];for(var R=cS;R<e-1;R++)hV.push(R);var D=new g2("Ungroup Layers",this);
D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:hV};F.Zy(D);this.uq(D.data,F)}else{var g=F.lc(),fL=ab.get([0,4])+" ";
g.a6(fL+(z.l6.VG(F,fL)+1));g.$j="pass";if(r.yB)g.a6(r.yB);if(r.EZ!=null)g.add.lclr=r.EZ;g.add.lsct=F.w.length==1?jJ.Ra:jJ.ab;
g.Rl=24;var iK=F.Dz(),dL=F.Js();if(dL.length==0)return;dL.sort(function(D,fd){return D-fd});var c8=[];
for(var R=0;R<F.g.length;R++)if(dL.indexOf(R)==-1)c8.push(F.g[R]);var aA=F.w[F.w.length-1]-dL.length;
c8.splice(aA+1,0,iK);for(var R=0;R<dL.length;R++)c8.splice(aA+2+R,0,F.g[dL[R]]);c8.splice(aA+2+dL.length,0,g);
var D=new g2([6,9],this);D.data={V:C.l5,du:F.g.slice(0),Yb:c8,e7:F.w.slice(0),c8:[c8.indexOf(g)]};F.Zy(D);
this.uq(D.data,F);var I={Ja:"make",vi:!0};I.Tf={classID:"Mk",null:fq.IT("layerSection"),From:fq.IT("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:g.getName()}}}};
this.track(I)}}if(O==C.aaI){if(F.w.length!=1)return;var eE=F.w[0],dD=B;if(F.g[eE].$n()==null&&!h.j(bh.hg)){O=C.h1;
r.j4=F.$?!dD?"RvlS":"HdSl":!dD?"RvlA":"HdAl"}else{O=C.fr;r.aqH=!0}}if(O==C.h1){if(F.w.length!=1)return;
var eE=F.w[0],g=F.g[eE];if(g.add.vmsk&&g.v==null)g.dD(F);var cp=g.$n();if(cp==null||r.a9W){var D=new g2([6,21],this),dt=new C.Z8,gB=r.j4,bg=gB=="RvlS"||gB=="HdSl";
if(gB=="RvlS"||gB=="HdAl"||gB=="Trns")dt.color=0;if(bg){dt.channel=F.$.channel.slice(0);dt.rect=F.$.rect.clone();
if(gB=="HdSl")w.iL(dt.channel)}if(gB=="Trns"){dt.rect=g.rect.clone();dt.channel=w.B(g.rect.W());w.Pw(g.buffer,dt.channel,3)}D.data={V:C.O5,Ya:[eE,cp,dt],EQ:bg?[F.$,null]:null};
F.Zy(D);this.uq(D.data,F);F.g[eE].Ku=1;this.track({Ja:"make",Tf:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:gB}}}})}}else if(O==C.afq){var iu=F.g[r.src],be=F.g[r.fd],D=new g2([6,21],this),bj=iu.$n(),iS=be.$n(),by=[r.src,bj,null,r.fd,iS,bj];
if(B||s){var dO=bj.clone();if(B)by=[r.fd,iS,dO];else by[5]=dO;if(s){w.iL(dO.channel);dO.color=255-dO.color}}D.data={V:C.O5,Ya:by};
F.Zy(D);this.uq(D.data,F)}if(O==C.nV){if(F.w.length!=1)return;var eE=e,hJ=F.g[eE].$n();if(hJ!=null){var D=new g2([6,22],this);
D.data={V:C.O5,Ya:[e,hJ,null]};F.Zy(D);this.uq(D.data,F)}}if(O==C.rN){var ek=F.g.slice(0),hB=P.clone(),k=hB.$n();
w.Y$(k.L7(hB.rect),hB.rect,hB.buffer,hB.rect);z.l6.dK(F,hB);hB.RR();F.g[F.w[0]]=hB;var D=new g2([5,8],this);
D.data={V:C.l5,du:ek,Yb:F.g.slice(),e7:F.w.slice(0),c8:F.w.slice(0)};F.Zy(D);this.uq(D.data,F)}if(O==C.KO){if(F.w.length!=1)return;
var eE=F.w[0];if(F.g[eE].xg(F).v==null){var D=new g2([6,45],this);D.data={V:O,a:eE,v:new C.Z8};F.Zy(D);
this.uq(D.data,F)}}if(O==C.SX){if(F.w.length!=1)return;var eE=F.w[0];if(F.g[eE].xg(F).v!=null){var D=new g2([6,46],this);
D.data={V:O,a:eE,v:F.g[eE].xg(F).v};F.Zy(D);this.uq(D.data,F)}}if(O==C.c2){if(r.src==null&&F.w.length!=1)return;
if(r.src!=null)e=r.src;if(F.g[e].Ru()){var D=new g2([6,47],this),hw=JSON.stringify(F.g[e].add.SoLd),hx=JSON.parse(hw);
delete hx.filterFX;D.data={V:C.tm,QV:[{xe:e,qh:[hw,JSON.stringify(hx)],bR:[F.g[e].xg(F),null]}]};F.Zy(D);
this.uq(D.data,F)}}if(O==C.fr){if(F.w.length!=1)return;if(P.add.vmsk==null){var D=new g2([6,23],this),ix=F.bN(),G=ix[1],ix=ix[0],dt,hb;
if(r.aqH&&G.length!=0){var al=ix[G[0]].add;dt=al.vmsk.clone();hb=al.vogk}else{dt=new C.Ug;hb=[];dt.Y[1].all=r.a08?0:1}D.data={V:O,a:e,LH:!0,v:dt,UI:JSON.stringify(hb),mr:null};
if(P.t8()){D.data.mr=JSON.stringify(an.mr.default)}F.Zy(D);this.uq(D.data,F)}}if(O==C.TA){var iu=F.g[r.src],be=F.g[r.fd];
if(be.add.vmsk)return;var D=new g2([6,23],this),aK=iu.add.vmsk;D.data={a:r.fd,LH:iu.pk,v:aK.clone(),UI:JSON.stringify(iu.add.vogk),mr:iu.add.vstk?JSON.stringify(iu.add.vstk):null};
if(B){D.data.V=C.fr}else{D.data.V=O;D.data.src=r.src;D.data.fd=r.fd}F.Zy(D);this.uq(D.data,F)}if(O==C.Ix||O==C.fF){if(F.w.length!=1)return;
var g=F.g[e],aK=g.add.vmsk;if(aK!=null){var gA=O==C.fF,D=new g2(gA?[6,8]:[6,24],this);D.data={V:C.Ix,a:e,LH:g.pk,v:aK,UI:JSON.stringify(g.add.vogk),mr:g.add.vstk?JSON.stringify(g.add.vstk):null};
if(gA){D.data.i1=aK.$n(g.add.vstk)}F.Zy(D);this.uq(D.data,F)}}if(O==C.t0){var D=new g2("Metadata",this);
D.data={V:O,TU:JSON.stringify(F.fH),ei:JSON.stringify(r.ei)};F.Zy(D);this.uq(D.data,F)}if(O==C.uD){var jU=r.fd?r.fd:F,eM=jU.name,jK=r.h+".psd";
if(eM==jK)return;var D=new g2([6,37],this);D.data={V:O,a0Y:eM,yB:jK};if(r.asa!=!0)jU.Zy(D);this.uq(D.data,jU)}if(O==C.EF&&r.bT.endsWith("makeframes")){var iT=[],je=r.bT.startsWith("make");
for(var R=0;R<F.w.length;R++){var V=F.w[R],g=F.g[V],iN=g.getName(),k4=iN.startsWith("_a_");if(je==k4||g.add.lsct==jJ.aE)continue;
var gs=je?"_a_"+iN:iN.slice(3);iT.push([V,iN,gs,g.add.lnsr,null])}var D=new g2([6,37],this);D.data={V:C.er,Xa:iT};
F.Zy(D);this.uq(D.data,F)}if(O==C.er){var eM=P.getName(),jK=r.name.substring(0,255);if(eM==jK)return;
var D=new g2([6,37],this);D.data={V:O,Xa:[[e,eM,jK,P.add.lnsr,null]]};F.Zy(D);this.uq(D.data,F);this.track(fq.n6("Nm",{t:"TEXT",v:jK}))}if(O==C.ZS){var iP=F.Js(),bx=[],eD=[];
for(var R=0;R<iP.length;R++){bx.push(F.g[iP[R]].add.lclr);eD.push(r.ae5)}var D=new g2([6,38],this);D.data={V:O,g:iP,aha:bx,EZ:eD};
F.Zy(D);this.uq(D.data,F)}if(O==C.Y6){var D=F.history[F.oG];if(D!=null&&D.s==this&&D.data.V==O&&D.data.a==r.im&&D.data.oC.jG==r.BM.jG)D.data.oC=r.BM;
else{D=new g2("Mask Density / Feather",this);D.data={V:O,a:r.im,Q5:F.g[r.im].mT(r.BM.jG),oC:r.BM};F.Zy(D)}this.uq(D.data,F)}if(O==C.uL){var e_=JSON.stringify(r.h),es=JSON.parse(e_),D=F.history[F.oG];
if(D!=null&&D.s==this&&D.data.V==O&&D.data.zM==r.zM&&D.data.U$.join(",")==r.U$.join(",")){for(var R=0;
R<r.U$.length;R++)D.data.RL[R]=es;if(D.data.Tf&&es._h!=0)z.l6.Ew(es.PL,D.data.Tf.T.v,es._h-1)}else{D=new g2([11,6],this);
D.data={V:O,U$:r.U$,zM:r.zM,a76:[],RL:[]};var du=!1;for(var R=0;R<r.U$.length;R++){var V=r.U$[R],g=F.g[V],gz=r.zM?z.JP.us(F,V):JSON.parse(JSON.stringify(g.add.vstk));
D.data.a76.push(gz);D.data.RL.push(es);if(JSON.stringify(gz)!=e_)du=!0}if(!du)return;F.Zy(D);if(r.zM&&es._h>0){var hH=D.data.Tf={classID:"setd",null:fq.IT("contentLayer",!0),T:{t:"Objc",v:{}}},gc=["SoCo","GdFl","PtFl"][es._h-1];
z.l6.Ew(es.PL,hH.T.v,es._h-1);this.track({Ja:"set",Tf:hH})}}if(r.zM&&es._h==3)F.yt(iL.gC(es.PL.Ptrn.v,m.X5));
if(!r.zM){var aq=es.strokeStyleContent.v;if(aq.classID==an.mr.gS[2])F.yt(iL.gC(aq.Ptrn.v,m.X5))}this.uq(D.data,F)}};
z.l6.Zd=function(r,N,F,h,m,O){var e=r.g[F],P=[];if(m)P=r.g.slice(0);else for(var R=0;R<r.g.length;R++)if(N.indexOf(R)==-1)P.push(r.g[R]);
var B=P.indexOf(e);if(O&&e.zv()&&e.add.lsct==jJ.ab)B-=r.t1(F).length-1;var s=[];for(var R=0;R<N.length;
R++){var Y=B+(h?0:1)+R,D=m?m[R]:r.g[N[R]];P.splice(Y,0,D);s.push(Y)}return[P,s,B]};z.l6.Ew=function(r,N,F){var h=[an.eA,an.ZE,an.bf][F];
if(N.classID==null)N.classID=["solidColorLayer","gradientLayer","patternLayer"][F];for(var R=0;R<h.length;
R++)if(r[h[R]])N[h[R]]=JSON.parse(JSON.stringify(r[h[R]]))};z.l6.Mm=function(r){var N=new C.Z8;if(r.$!=null){N.color=0;
N.channel=r.$.channel.slice(0);N.rect=r.$.rect.clone()}return N};z.l6.W7=function(r,N,F,h){var m=h.e/F.e,O=h.n/F.n,e=h.e/2,P=h.n/2,B=w.p.fc(h).t;
for(var R=0;R<r.g.length;R++){var s=r.g[R],Y=s.add.SoLd;if(Y==null||Y.Idnt.v!=N)continue;if(m!=1||O!=1){var D=z.Q.N3(Y.nonAffineTransform),c=w.N.UD(D,h),o=new hc;
o.translate(-e,-P);o.scale(m,O);o.translate(e,P);var H=w.N.u8(c,w.N.dj(o)),x=B.slice(0);w.N.A(H,x);Y.Trnf=z.Q.JE(x);
Y.nonAffineTransform=z.Q.JE(x)}s.XY(r)}r.M()};z.l6.a2_=function(r,N,F){N.color=255-N.color;w.iL(N.channel);
N.ug=!0;r.dD(F);F.M()};z.l6.prototype.UO=function(r,N){var F=r.V,h=N.g[r.a];N.kn=!0;if(F==C.CY){N.add.lnk2.splice(N.add.lnk2.indexOf(r.v$),1,r.xO);
z.l6.W7(N,r.id,r.v$.Mk[1],r.xO.Mk[1])}if(F==C.Hv){h.add.SoLd.Impr.v.classID=r.Q5;h.XY(N)}if(F==C.ze){var m=JSON.parse(r.U$);
for(var R=0;R<m.length;R++)N.g[m[R]].$j=r.P4[R];N.M()}if(F==C._n){var m=JSON.parse(r.U$);for(var R=0;
R<m.length;R++)N.g[m[R]].opacity=r.P4[R];N.M()}if(F==C.Dd){var m=JSON.parse(r.U$);for(var R=0;R<m.length;
R++)if(N.g[m[R]].add.lsct!=jJ.aE)N.g[m[R]].add.lspf=r.P4[R]}if(F==C.J2){var O=r.h6,e=r.a3y;delete h.add[O[0]];
if(e[0]!="----")h.add[e[0]]=e[1]}if(F==C.Pb){h.add.iOpa=r.P4;N.M()}if(F==C.FV){for(var R=0;R<r.U$.length;
R++){var P=N.g[r.U$[R]];P.Hb(!P.gv())}N.M()}if(F==C.yh){var B=h.$n();B.isEnabled=!B.isEnabled;h.dD(N);
N.M()}if(F==C.q9){var B=h.xg(N).v;B.isEnabled=!B.isEnabled;h.M();N.M()}if(F==C.W6){var B=h.add.vmsk;
B.isEnabled=!B.isEnabled;if(!B.isEnabled){if(h.i1){h.v=h.i1;h.i1=null}else h.v=null}else if(h.v){h.i1=h.v;
h.v=null}h.dD(N);N.M()}if(F==C.r1){h.S8=!h.S8;N.M()}if(F==C.eB){h.add.lmfx.masterFXSwitch.v=!h.add.lmfx.masterFXSwitch.v;
h.Oo.ux=!0;N.M()}if(F==C.gN){h.add.SoLd.filterFX.v.enab.v=!h.add.SoLd.filterFX.v.enab.v;h.uU(N);N.M()}if(F==C.Yy){var s=r.index,Y=h.add.lmfx[an.NR[s[0]]].v[s[1]].v;
Y.enab.v=!Y.enab.v;h.Oo.ux=!0;N.M()}if(F==C.CG){var D=N.g[r.mH],c=N.g[r.XO],o=r.a5M,H=r.arn;if(o=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(o);if(H=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(H);D.Oo.ux=!0;c.Oo.ux=!0;
N.M()}if(F==C.m$){var x=h.add.SoLd.filterFX.v.filterFXList.v[r.index].v;x.enab.v=!x.enab.v;h.uU(N);N.M()}if(F==C.a8L){h.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(r.a8j));
h.uU(N);N.M()}if(F==C.mD){var B=h.$n();B.AS=!B.AS}if(F==C.tS){var B=h.add.vmsk;B.AS=!B.AS}if(F==C.HO){var Q=r.to;
for(var R=0;R<Q.length;R+=2){var U=Q[R],P=U>=0?N.g[U]:N.N$[-1-U];P.add.vogk=JSON.parse(Q[R+1]);w.UI.Tz(P.add.vogk,P.add.vmsk);
if(U>=0)P.dD(N)}N.M()}if(F==C.Rv){h.add.artb=JSON.parse(r.aky);N.M();z.Q6.d7(N,r)}if(F==C.hW){N.$=r.Rj;
N.O0=r.to.slice(0);N.I2=r.Ei.slice(0);N.mR=N.Pj=!0}if(F==C.TJ){h.Jh=!h.Jh}if(F==C.Nb){var I=r.ag4;for(var R=0;
R<I.length;R++)N.g[R].vM=I[R]}if(F==C.l5){if(r.fL)z.FZ.bt(N,N.w,null,-r.fL.x,-r.fL.y);if(r.e7)N.w=r.e7;
if(r.EQ)N.$=r.EQ[0];N.OW=null;N.M();N.S0(r.du);z.Q6.d7(N,r);if(r.ah)N.O4(r.ah[0])}if(F==C.O5){for(var R=0;
R<r.Ya.length;R+=3)z.l6.dK(N,N.g[r.Ya[R]],r.Ya[R+1]);if(r.EQ){var l=r.EQ[0];if(l==null)delete N.$;else N.$=l}}if(F==C.KO){h.xg(N).v=null;
h.M();N.M()}if(F==C.SX){h.xg(N).v=r.v;h.M();N.M()}if(F==C.tm){z.l6.In(N,r.QV,0)}if(F==C.fr){z.l6.c0(N,h,!0)}if(F==C.TA){z.l6.c0(N,N.g[r.fd],r.v.isEnabled);
z.l6.lf(N,N.g[r.src],r)}if(F==C.Ix){if(r.i1)z.l6.dK(N,h,null);z.l6.lf(N,h,r)}if(F==C.t0){N.fH=JSON.parse(r.TU)}if(F==C.uD){N.name=r.a0Y}if(F==C.er){for(var R=0;
R<r.Xa.length;R++){var p=r.Xa[R],P=N.g[p[0]];P.a6(p[1]);if(p[3])P.add.lnsr=p[3];else delete P.add.lnsr}}if(F==C.ZS){for(var R=0;
R<r.g.length;R++)N.g[r.g[R]].add.lclr=r.aha[R]}if(F==C.uL){var j=r.a76;for(var R=0;R<r.U$.length;R++){var P=N.g[r.U$[R]],T=j[R];
if(!r.zM)P.add.vstk=JSON.parse(JSON.stringify(T));else z.JP.zL(P,JSON.parse(JSON.stringify(T)));P.WF(N)}N.M()}if(F==C.Y6){h.a2d(r.Q5);
h.dD(N);N.M()}N.Pj=!0};z.l6.prototype.uq=function(r,N){var F=r.V,h=N.g[r.a];N.kn=!0;if(F==C.CY){N.add.lnk2.splice(N.add.lnk2.indexOf(r.xO),1,r.v$);
z.l6.W7(N,r.id,r.xO.Mk[1],r.v$.Mk[1])}if(F==C.Hv){h.add.SoLd.Impr.v.classID=r.oC;h.XY(N)}if(F==C.ze){var m=JSON.parse(r.U$);
for(var R=0;R<m.length;R++)N.g[m[R]].$j=r.oC;N.M()}if(F==C._n){var m=JSON.parse(r.U$);for(var R=0;R<m.length;
R++)N.g[m[R]].opacity=r.oC;N.M()}if(F==C.Dd){var m=JSON.parse(r.U$);for(var R=0;R<m.length;R++)if(N.g[m[R]].add.lsct!=jJ.aE)N.g[m[R]].add.lspf=r.oC[R]}if(F==C.J2){var O=r.a3y,e=r.h6;
delete h.add[O[0]];if(e[0]!="----")h.add[e[0]]=e[1]}if(F==C.Pb){h.add.iOpa=r.oC;N.M()}if(F==C.FV){for(var R=0;
R<r.U$.length;R++){var P=N.g[r.U$[R]];P.Hb(!P.gv())}N.M()}if(F==C.yh){var B=h.$n();B.isEnabled=!B.isEnabled;
h.dD(N);N.M()}if(F==C.q9){var B=h.xg(N).v;B.isEnabled=!B.isEnabled;h.M();N.M()}if(F==C.W6){var B=h.add.vmsk;
B.isEnabled=!B.isEnabled;if(!B.isEnabled){if(h.i1){h.v=h.i1;h.i1=null}else h.v=null}else if(h.v){h.i1=h.v;
h.v=null}h.dD(N);N.M()}if(F==C.r1){h.S8=!h.S8;N.M()}if(F==C.eB){h.add.lmfx.masterFXSwitch.v=!h.add.lmfx.masterFXSwitch.v;
h.Oo.ux=!0;N.M()}if(F==C.gN){h.add.SoLd.filterFX.v.enab.v=!h.add.SoLd.filterFX.v.enab.v;h.uU(N);N.M()}if(F==C.Yy){var s=r.index,Y=h.add.lmfx[an.NR[s[0]]].v[s[1]].v;
Y.enab.v=!Y.enab.v;h.Oo.ux=!0;N.M()}if(F==C.CG){var D=N.g[r.mH],c=N.g[r.XO],o=r.a5Q,H=r.aef;if(o=="")delete D.add.lmfx;
else D.add.lmfx=JSON.parse(o);if(H=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(H);D.Oo.ux=!0;c.Oo.ux=!0;
N.M()}if(F==C.m$){var x=h.add.SoLd.filterFX.v.filterFXList.v[r.index].v;x.enab.v=!x.enab.v;h.uU(N);N.M()}if(F==C.a8L){h.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(r.a4k));
h.uU(N);N.M()}if(F==C.mD){var B=h.$n();B.AS=!B.AS}if(F==C.tS){var B=h.add.vmsk;B.AS=!B.AS}if(F==C.HO){var Q=r.AT;
for(var R=0;R<Q.length;R+=2){var U=Q[R],P=U>=0?N.g[U]:N.N$[-1-U];P.add.vogk=JSON.parse(Q[R+1]);w.UI.Tz(P.add.vogk,P.add.vmsk);
if(U>=0)P.dD(N)}N.M()}if(F==C.Rv){h.add.artb=JSON.parse(r.Gb);N.M();z.Q6.ga(N,r)}if(F==C.hW){N.$=r.xF;
N.O0=r.AT.slice(0);N.I2=r.$b.slice(0);N.mR=N.Pj=!0}if(F==C.TJ){h.Jh=!h.Jh}if(F==C.Nb){var I=r.ak2;for(var R=0;
R<I.length;R++)N.g[R].vM=I[R]}if(F==C.l5){var l=r.Yb,p=0,j;for(var R=0;R<l.length;R++){var P=l[R],T=P.add.lsct;
if(T==jJ.aE)p++;else if(T==jJ.Ra||T==jJ.ab)p--;if(P.add.artb&&p!=0)j="Artboards can not be inside folders."}if(j){N.history.pop();
N.oG--;alert(j);return}z.Q6.ga(N,r);if(r.c8)N.w=r.c8;if(r.EQ)N.$=r.EQ[1];N.OW=null;N.M();N.S0(r.Yb);
if(r.fL)z.FZ.bt(N,N.w,null,r.fL.x,r.fL.y);if(r.ah)N.O4(r.ah[1])}if(F==C.O5){for(var R=0;R<r.Ya.length;
R+=3)z.l6.dK(N,N.g[r.Ya[R]],r.Ya[R+2]);if(r.EQ){var V=r.EQ[1];if(V==null)delete N.$;else N.$=V}}if(F==C.KO){h.xg(N).v=r.v;
h.Ku=0;h.M();N.M()}if(F==C.SX){h.xg(N).v=null;h.Ku=0;h.M();N.M()}if(F==C.tm){z.l6.In(N,r.QV,1)}if(F==C.fr){z.l6.lf(N,h,r)}if(F==C.TA){z.l6.c0(N,N.g[r.src],r.v.isEnabled);
z.l6.lf(N,N.g[r.fd],r)}if(F==C.Ix){z.l6.c0(N,h,r.v.isEnabled);if(r.i1)z.l6.dK(N,h,r.i1)}if(F==C.t0){N.fH=JSON.parse(r.ei)}if(F==C.uD){N.name=r.yB}if(F==C.er){for(var R=0;
R<r.Xa.length;R++){var E=r.Xa[R],P=N.g[E[0]];P.a6(E[2]);if(E[4])P.add.lnsr=E[4];else delete P.add.lnsr}}if(F==C.ZS){for(var R=0;
R<r.g.length;R++)N.g[r.g[R]].add.lclr=r.EZ[R]}if(F==C.uL){var _=r.RL;for(var R=0;R<r.U$.length;R++){var P=N.g[r.U$[R]],f=_[R];
if(!r.zM)P.add.vstk=JSON.parse(JSON.stringify(f));else z.JP.zL(P,JSON.parse(JSON.stringify(f)));P.WF(N)}N.M()}if(F==C.Y6){h.a2d(r.oC);
h.dD(N);N.M()}N.Pj=!0};z.l6.VG=function(r,N){var F=0;for(var R=0;R<r.g.length;R++){var h=r.g[R].getName();
if(h.startsWith(N)){var m=h.slice(N.length).trim(),O=parseInt(m);if(!isNaN(O)&&O+""==m&&O>F)F=O}}return F};
z.l6.In=function(r,N,F){for(var R=0;R<N.length;R++){var h=N[R],m=r.g[h.xe];if(h.qh){m.add.SoLd=JSON.parse(h.qh[F])}if(h.bR){if(h.bR[1-F]!=null)r.cX(h.bR[1-F]);
if(h.bR[F]!=null)r.gV(h.bR[F]);else m.Ku=0}m.XY(r)}};z.l6.Mc=function(r,N){var F=r.D_,h=r.rect.clone();
if(F!=null&&(F.x!=N.e||F.y!=N.n)){h.x=Math.floor((N.e-h.e)/2);h.y=Math.floor((N.n-h.n)/2)}else if(F==null){var m=new fE(0,0,N.e,N.n),O=N.W2();
if(O!=-1)m=N.g[O].CN();h.x+=m.x;h.y+=m.y}return h};z.l6.a2F=function(r,N){if(N.i1)N.i1=null;else N.v=null;
N.dD(r);r.M();N.Ku=0};z.l6.dK=function(r,N,F){var h=N.$n();if(h==null&&F==null)return;if(h)z.l6.a2F(r,N);
if(F==null)return;if(N.v)N.i1=F;else N.v=F;N.dD(r);r.M()};z.l6.c0=function(r,N,F){if(N.i1&&F){N.v=N.i1;
N.i1=null}else if(N.v&&F){N.v=null}delete N.add.vogk;delete N.add.vstk;delete N.add.vmsk;N.dD(r);N.pk=!1;
r.OW=[];r.M()};z.l6.lf=function(r,N,F){N.add.vogk=JSON.parse(F.UI);if(F.mr)N.add.vstk=JSON.parse(F.mr);
else delete N.add.vstk;N.add.vmsk=F.v.clone();if(N.v&&N.add.vmsk.isEnabled)N.i1=N.v;N.dD(r);N.pk=F.LH;
r.OW=[r.g.indexOf(N)];r.ih=[];r.M()};z.DR=function(){z.bE.call(this,"Layer Styles",z.Nq);this.fe=null;
this.JW=null;this.Mu=null;this.O7=[];this.rI=null};z.DR.prototype=new z.bE;z.DR.prototype.z1=function(r,N,F,h,m){var O=r.a;
if(O==null)O=F.w[0];var e=F.g[O],P=r.Jz;if(this.fe==null){this.Mu=z.DR.Me(F,e);this.fe=JSON.stringify(this.Mu);
if(e.add.lmfx)this.JW=JSON.stringify(e.add.lmfx)}if(e.add.lmfx==null){e.add.lmfx=JSON.parse(an.default);
for(var R=0;R<an.order.length;R++)e.add.lmfx[an.NR[R]]={t:"VlLs",v:[]}}if(r.V=="scaleeffects"){if(r.h=="confirm"||r.h=="cancel"){this.z1({V:r.h},N,F,h,m);
return}e.add.lmfx=JSON.parse(this.JW);iL.Fx(e.add.lmfx,r.h/100)}else if(r.V=="changeprop"){var B=null;
if(P!=0){var s=this.O7[P[0]];if(s==null)s=an.O7[P[0]];s=JSON.parse(s);var Y=e.add.lmfx[an.NR[P[0]]].v;
if(Y[P[1]]==null)Y[P[1]]={t:"Objc",v:s};B=Y[P[1]].v;for(var D in s)if(B[D]==null)B[D]=s[D]}if(r.V=="changeprop"){if(P==0){this.Mu[r.tl].v=r.h;
z.DR.Oa(F,e,this.Mu)}else if(r.tl=="lagl"){if(B.uglg&&B.uglg.v){F.gO(r.h.val);this.Mu.a90=F.kh()}else B[r.tl].v=r.h}else if(r.tl=="Lald"){if(B.uglg.v){F.QS(r.h.val);
this.Mu.a6g=F.AN()}else B[r.tl].v=r.h}else if((P[0]==3||P[0]==8)&&(r.tl=="Clr"||r.tl=="Grad")){if(r.tl=="Clr"){B.Clr={t:"Objc",v:r.h};
delete B.Grad}if(r.tl=="Grad"){B.Grad={t:"Objc",v:r.h};delete B.Clr}}else{B[r.tl].v=r.h}if(P!=0)this.O7[P[0]]=JSON.stringify(B)}if(P!=0)if(B.Ptrn)F.yt(iL.gC(B.Ptrn.v,m.X5))}else if(r.V=="setstl"){var c=r.h.Lefx;
if(c)iL.aaK(c,F,m.X5);iL.auz(r.h,e);this.Mu=z.DR.Me(F,e)}else if(r.V=="st_dupsingle"){var o=e.add.lmfx[an.NR[r.Xx[0]]].v;
if(o[r.Xx[1]]==null)return;var H=JSON.parse(JSON.stringify(o[r.Xx[1]]));o.splice(r.Xx[1],0,H)}else if(r.V=="st_movsingle"){var x=r.Xx[1],o=e.add.lmfx[an.NR[r.Xx[0]]].v;
if(o[r.Xx[1]]==null)return;var Q=Math.max(0,Math.min(o.length-1,x+r.anu)),U=o[Q];o[Q]=o[x];o[x]=U}else if(r.V=="cancel"){if(this.JW==null)delete e.add.lmfx;
else e.add.lmfx=JSON.parse(this.JW);z.DR.Oa(F,e,JSON.parse(this.fe));this.fe=null;this.JW=null}else if(r.V=="confirm"){var I=JSON.stringify(e.add.lmfx),l=new g2([11,6],this);
l.data={g:[O],le:[this.JW],pX:[I],A8:[this.fe],wz:[JSON.stringify(this.Mu)]};F.Zy(l);this.fe=null;this.JW=null;
if(I!=null){var p=JSON.parse(I);ai.kS(p);p.classID="Lefx";delete p.masterFXSwitch;var j=new gf(v.E.nE);
j.pR=!0;j.data={Ja:"set",vi:!0};var T=fq.IT("Lyr",!0);T.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
j.data.Tf={__name:"Set",classID:"setd",null:T,T:{t:"Objc",v:p}};N.L(j)}}else if(r.V=="st_copy"){this.rI=[this.fe,this.JW];
this.fe=null;this.JW=null}else if(r.V=="st_paste"||r.V=="st_clear"){if(r.V=="st_paste"&&this.rI==null)return;
var V=r.a!=null?[r.a]:F.w.slice(0),E=[],_=[],f=[],S=[];for(var R=0;R<V.length;R++){var e=F.g[V[R]],L=z.DR.Me(F,e);
E.push(e.add.lmfx?JSON.stringify(e.add.lmfx):null);f.push(JSON.stringify(L));if(r.V=="st_paste"){_.push(this.rI[1]);
S.push(this.rI[0])}else{_.push(null);L.lrMd.v=0;L.Opct.v.val=100;L.iOpa.v.val=100;L.blIf={v:[]};for(var y=0;
y<10;y++)L.blIf.v.push(0,0,255,255);S.push(JSON.stringify(L))}}var l=new g2([11,6],this);l.data={g:V,le:E,pX:_,A8:f,wz:S};
this.uq(l.data,F);F.Zy(l);this.fe=null;this.JW=null}else{var Z=this.Mu,p=null;if(r.V=="st_delsingle"){p=JSON.parse(this.JW);
p[an.NR[r.Xx[0]]].v.splice(r.Xx[1],1);p=JSON.stringify(p)}if(p==null)delete e.add.lmfx;else e.add.lmfx=JSON.parse(p);
if(Z!=null)z.DR.Oa(F,e,Z);var l=new g2([11,6],this);l.data={g:[r.a],le:[this.JW],pX:[p],A8:[this.fe],wz:[JSON.stringify(Z)]};
F.Zy(l);this.fe=null;this.JW=null}e.Oo.ux=!0;F.kn=!0;F.M()};z.DR.Me=function(r,N){if(N.add.iOpa==null)N.add.iOpa=255;
if(N.add.brst==null)N.add.brst=[1,1,1];var F=N.zv()?["pass"].concat(g6.Ry):g6.Ry;return{lrMd:{v:F.indexOf(N.$j)},Opct:{v:{type:"#Prc",val:Math.round(N.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(N.add.iOpa*100/255)},t:"UntF"},blIf:{v:N.tx.slice(0)},brst:{v:N.add.brst},a90:r.kh(),a6g:r.AN(),zv:N.zv()}};
z.DR.Oa=function(r,N,F){var h=N.zv()?["pass"].concat(g6.Ry):g6.Ry;N.$j=h[F.lrMd.v];N.opacity=Math.round(F.Opct.v.val*255/100);
N.add.iOpa=Math.round(F.iOpa.v.val*255/100);N.tx=F.blIf.v.slice(0);N.add.brst=F.brst.v.slice(0);r.gO(F.a90);
r.QS(F.a6g)};z.DR.prototype.UO=function(r,N){for(var R=0;R<r.g.length;R++){var F=N.g[r.g[R]],h=r.le[R];
if(h==null)delete F.add.lmfx;else F.add.lmfx=JSON.parse(h);z.DR.Oa(N,F,JSON.parse(r.A8[R]));F.Oo.ux=!0}N.kn=!0;
N.M()};z.DR.prototype.uq=function(r,N){for(var R=0;R<r.g.length;R++){var F=N.g[r.g[R]],h=r.pX[R];if(h==null)delete F.add.lmfx;
else F.add.lmfx=JSON.parse(h);z.DR.Oa(N,F,JSON.parse(r.wz[R]));F.Oo.ux=!0}N.kn=!0;N.M()};z.yg=function(){z.bE.call(this,"Layer Comps",z.Ai)};
z.yg.prototype=new z.bE;z.yg.prototype.z1=function(r,N,F,h){var m=JSON.parse(JSON.stringify(F.pI)),O=JSON.parse(JSON.stringify(F.pI)),e=null,P=null,B=null,s=-1,Y=!1;
if(r.V=="delLC"){var D=z.yg.cN(F.pI,r.Jz),c=F.pI.lastAppliedComp?F.pI.lastAppliedComp.v:0;O.list.v.splice(D,1);
if(c==r.Jz)delete O.lastAppliedComp;e="Delete Layer Comp"}if(r.V=="editLC"){var D=z.yg.cN(F.pI,r.Jz),o=O.list.v[D].v;
if(r.yB!=null)o.Nm.v=r.yB;if(r.a18!=null){var H=r.a18,x=o.capturedInfo.v,Q=x&(1<<H)-1;x=x>>H;if((x&1)==1)x--;
else x++;o.capturedInfo.v=(x<<H)+Q}e="Layer Comp properties"}if(r.V=="setLC"){z.yg.Lp(F);if(r.Jz==0)delete O.lastAppliedComp;
else O.lastAppliedComp={t:"long",v:r.Jz};e="Switch Layer Comp";Y=!0}if(r.V=="updLC"){z.yg.Lp(F);P=z.yg.a3v(F,r.Jz);
B=z.yg.me(F,r.Jz);O.lastAppliedComp={t:"long",v:r.Jz};e="Update Layer Comp";s=r.Jz;Y=!0}if(r.V=="addLC"){z.yg.Lp(F);
var U=1;for(var R=0;R<O.list.v.length;R++)U=Math.max(U,O.list.v[R].v.compID.v)+1;U+=Math.floor(Math.random()*1e4);
var I={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(O.list.v.length+1)},compID:{t:"long",v:U},capturedInfo:{t:"long",v:7}}};
O.list.v.push(I);O.lastAppliedComp={t:"long",v:U};e="New Layer Comp";var l=z.yg.me(F,U);z.yg.yn(F,l,U)}var p=new g2(e,this);
p.data={an0:m,aaC:O,aou:P,a0w:B,Jz:s,xb:Y};this.uq(p.data,F);F.Zy(p)};z.yg.prototype.uq=function(r,N){N.pI=r.aaC;
N.kn=!0;if(r.a0w)z.yg.yn(N,r.a0w,r.Jz);if(r.xb){var F=N.pI.lastAppliedComp?N.pI.lastAppliedComp.v:0,h=z.yg.cN(N.pI,F),m=h==-1?null:N.pI.list.v[h].v,O=m?m.capturedInfo.v:7;
z.yg.TC(N,F,O);N.M()}};z.yg.prototype.UO=function(r,N){N.pI=r.an0;N.kn=!0;if(r.aou)z.yg.yn(N,r.aou,r.Jz);
if(r.xb){var F=N.pI.lastAppliedComp?N.pI.lastAppliedComp.v:0,h=z.yg.cN(N.pI,F),m=h==-1?null:N.pI.list.v[h].v,O=m?m.capturedInfo.v:7;
z.yg.TC(N,F,O);N.M()}};z.yg.Lp=function(r){if(r.pI.lastAppliedComp!=null||!r.$Y)return;var N=z.yg.me(r,0);
z.yg.yn(r,N,0);r.$Y=!1};z.yg.GN=function(r,N,F){r.v.Hrzn.v+=N;r.v.Vrtc.v+=F};z.yg.cN=function(r,N){var F=r.list.v;
for(var R=0;R<F.length;R++)if(F[R].v.compID.v==N)return R;return-1};z.yg.adN=function(r){var N=r.layerSettings.v,m=null;
if(N.length==0)return;var F="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),h=N[0].v;
if(h.enab==null)h.enab={t:"bool",v:!0};if(h.Ofst==null)h.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var R=0;R<N.length;R++){var O=N[R].v;if(m==null)m=JSON.parse(JSON.stringify(O));else for(var e=0;
e<F.length;e++){var P=F[e];if(O[P])m[P]=JSON.parse(JSON.stringify(O[P]))}N[R].v=JSON.parse(JSON.stringify(m))}};
z.yg.dp=function(r,N){var F=r.add.shmd.cmls,h=F.layerSettings.v;for(var m=0;m<h.length;m++){var O=h[m].v,e=O.compList.v[0].v;
if(e==N)return m}return-1};z.yg.h_=function(r,N){var F=z.yg.dp(r,N);return F==-1?null:r.add.shmd.cmls.layerSettings.v[F].v};
z.yg.TC=function(r,N,F){for(var R=0;R<r.g.length;R++){var h=r.g[R],m=h.add.shmd.cmls;if(m==null)continue;
var O=m.layerSettings.v,e=z.yg.h_(h,N);if(e==null){h.Hb(!1);continue}if((F&1)!=0){if(e.enab)h.Hb(e.enab.v);
else h.Hb(!0)}if((F&2)!=0){if(e.Ofst){var P=e.Ofst.v,B=h.R5(r),s=Math.round(P.Hrzn.v-B.x),Y=Math.round(P.Vrtc.v-B.y);
if(s!=0||Y!=0)z.FZ.bt(r,[R],null,s,Y)}}if((F&4)!=0){if(e.Lefx){var D=JSON.parse(JSON.stringify(e.Lefx.v));
ai.yL(D);if(JSON.stringify(D)!=JSON.stringify(h.add.lmfx)){h.add.lmfx=D;h.Oo.ux=!0}}else delete h.add.lmfx;
if(e.blendOptions){var c=e.blendOptions.v;if(c.Opct)h.opacity=Math.round(255*c.Opct.v.val/100);if(c.fillOpacity)h.add.iOpa=Math.round(255*c.fillOpacity.v.val/100);
if(c.Md)h.$j=h.add.lsct==jJ.aE?"norm":g6.lF(c.Md.v.BlnM)}else{h.opacity=255;h.$j=h.zv()?"pass":"norm";
h.add.iOpa=255}}}};z.yg.a3v=function(r,N){var F={};for(var R=0;R<r.g.length;R++){var h=r.g[R];if(h.add.shmd==null||h.add.shmd.cmls==null)continue;
F["l"+h.add.lyid]=JSON.parse(JSON.stringify(z.yg.h_(h,N)))}return F};z.yg.me=function(r,N){var F={};
for(var R=0;R<r.g.length;R++){var h=r.g[R],m=h.add.lyid;F["l"+m]=z.yg.q_(r,h,N)}return F};z.yg.q_=function(r,N,F){var h=N.add.shmd?N.add.shmd.cmls:null,m={classID:"null"},O=N.R5(r),e={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:O.x},Vrtc:{t:"long",v:O.y}}};
m.compList={t:"VlLs",v:[{t:"long",v:F}]};m.enab={t:"bool",v:N.gv()};m.Ofst=JSON.parse(JSON.stringify(e));
m.FXRefPoint=JSON.parse(JSON.stringify(h&&h.origFXRefPoint?h.origFXRefPoint:e));m.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:g6.Cp(N.$j)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*N.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:N.add.iOpa!=null?100*N.add.iOpa/255:100}}}};
if(N.add.vmsk){m.vectorMask={t:"Objc",v:{classID:"null"}};m.vectorMask.v.Ofst=JSON.parse(JSON.stringify(e))}if(N.add.lmfx){m.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(N.add.lmfx))};
ai.kS(m.Lefx.v)}return m};z.yg.afj=function(r,N){var F=N.add.lyid;if(N.add.shmd==null)N.add.shmd={};
if(N.add.shmd.cmls==null){N.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:F},layerSettings:{t:"VlLs",v:[{t:"Objc",v:z.yg.q_(r,N,0)}]}}}};
z.yg.yn=function(r,N,F){for(var R=0;R<r.g.length;R++){var h=r.g[R],m=h.add.lyid;z.yg.afj(r,h);var O=h.add.shmd.cmls,e=O.layerSettings.v,P=N["l"+m];
if(P!=null)P={t:"Objc",v:JSON.parse(JSON.stringify(P))};var B=z.yg.dp(h,F);if(B==-1){if(P==null)continue;
else e.push(P)}else{if(P==null)e.splice(B,1);else e[B]=P}}};z.yg.eZ=function(r,N){for(var R=0;R<r.g.length;
R++){var F=r.g[R],h=F.add.lyid;if(F.add.shmd==null||F.add.shmd.cmls==null)continue;var m=F.R5(r),O=Math.round(m.x),e=Math.round(m.y);
if(!N){O=-O;e=-e}var P=F.add.shmd.cmls,B=P.layerSettings.v;if(P.origFXRefPoint)z.yg.GN(P.origFXRefPoint,-O,-e);
for(var s=0;s<B.length;s++){var Y=B[s].v;z.yg.GN(Y.Ofst,O,e);var D=Y.imageMask,c=Y.vectorMask;if(D&&D.v.Ofst)z.yg.GN(D.v.Ofst,O,e);
if(c&&c.v.Ofst)z.yg.GN(c.v.Ofst,O,e)}}};z.Ig=function(){z.bE.call(this,"Adjust Edit",z.T_);this.ei=null;
this.DX=null};z.Ig.prototype=new z.bE;z.Ig.MS=function(r,N,F,h){if(h)N/=4;var m=0,O=0,e=255,P=0,B=0,s=255;
while(O+r[m]<N){O+=r[m];m++}while(P+r[e]<N){P+=r[e];e--}if(h){m-=Math.round(r[m]/(F/32));e+=Math.round(r[e]/(F/32));
if(m<0)B=Math.round(-m*255/(e-m));if(e>255)s=255-Math.round((e-255)*255/(e-m))}return[Math.max(m,0),Math.min(e,255),B,s,100]};
z.Ig.prototype.z1=function(r,N,F,h,m){var O=r.V;if(O=="auto"){var e=r.OG,P=z.Ig.getData(F);for(var R=0;
R<P.length;R++){var B=P[R],s;if(e<3){}else{var Y=df.T$("hue2");dG.uP(Y,0,[0,-100,0]);s=gn.k6("hue2",Y)}gn.dR(s,B.C2,B.Bk,B.NQ)}z.Ig.OH(F,P);
z.Ig.My(F,P,e<3?[4,16,e]:[19,7,0],this);F.M()}if(O=="edit_layer")this.alu(r,N,F,h);if(O=="edit"||O=="confirm"||O=="cancel")this.M7(r,N,F,m,!0);
if(O=="start"){if(F.w.length==0)return;var D=F.g[F.w[0]];if(D.add.SoLd&&D.Ku<=0&&F.I2.length==0){var c=new gf(v.E.u,!0);
c.s=z.dX;c.data={V:"start",NM:r._w,MB:r.MB};N.L(c);return}if(!F.mc(N,null,!0))return;if(q[r._w]&&r.MB==null){if(F.w.length!=1)alert("Will be applied to "+F.w.length+" layers.");
var c=new gf(v.E.S,!0);c.data={V:v.c.pr,i7:"afw_"+r._w};N.L(c)}else{this.M7({V:"edit",MB:r.MB,NM:r._w},N,F,m);
this.M7({V:"confirm",NM:r._w},N,F,m)}}};z.Ig.prototype.alu=function(r,N,F,h){var m=r.V,O=F.w[0],e=F.g[O],P=gn.get(e.add),B=JSON.parse(JSON.stringify(e.add[P])),c;
for(var s in r.h)B[s]=r.h[s];var Y=JSON.parse(JSON.stringify(B));for(var s in gn.Bo)if(gn.Bo[s]==P)Y.classID=s;
var D=F.history[F.oG];if(D&&D.s==this&&D.data.Q5!=null&&D.data.a==O)c=D;else{var o=new gf(v.E.nE,!0),H={classID:"setd",null:fq.IT("AdjL",!0),T:{t:"Objc",v:Y}};
o.data={vi:!0,Ja:"set",Tf:H};N.L(o);var c=new g2([6,39],this);c.data={a:O,Q5:e.add[P],oC:B,ds:H};F.Zy(c)}c.data.oC=B;
c.data.ds.T.v=Y;this.uq(c.data,F)};z.Ig.getData=function(r,N,F){var h=[],m=new fE(0,0,r.e,r.n),O=r.I2.length!=0?[-1-r.I2[0]]:r.w;
for(var R=0;R<O.length;R++){var e=O[R],P=e<0?null:r.g[e],B={a:e,P6:e<0?1:P.Ku};h.push(B);var s=r.O0[-1-e];
if(0<=e)s=P.Ku<=0?null:P.Ku==1?P.$n():P.xg(r).v;var Y=s?s.rect:P.rect;if(r.$)B.NQ=s!=null?r.$.rect.c_(m):r.$.rect.c_(Y);
else B.NQ=N||s!=null?Y.fD(m):Y.clone();if(F)B.NQ=F[R].NQ.clone();var D=B.NQ.W();B.C2=w.B(D*4);if(s)z.a3.Wy(s.channel,s.rect,s.color,B.C2,B.NQ);
else w.L3(P.buffer,Y,B.C2,B.NQ);B.Bk=B.C2.slice(0);if(r.$){B.Ya=w.B(D);w.nZ(r.$.channel,r.$.rect,B.Ya,B.NQ)}}return h};
z.Ig.an_=function(r,N,F){if(N==null)return N;var h=gn.sY(r,N),O;if(h==-1)return N;var m=F.length>>>2,e=w.K2(F),P=.001*m;
if(h==0||h==2)O=[[0,255,0,255,100],z.Ig.MS(e[1],P,m,h==2),z.Ig.MS(e[2],P,m,h==2),z.Ig.MS(e[3],P,m,h==2)];
if(h==1)O=[z.Ig.MS(e[0],P*.33,m,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var B=df.T$("levl");
for(var R=0;R<4;R++)a7.uP(B,R,O[R]);return B};z.Ig.aW=function(r,N,F,h){var m,O;if(F.t=="name"){var e=0;
for(var P=0;P<r.g.length;P++)if(r.g[P].getName()==F.v.val)e=P;if(r==N&&e==h.a){m=h.C2;O=h.NQ}else{var B=r.g[e];
m=B.buffer;O=B.rect}}else{O=new fE(0,0,r.e,r.n);m=r==N?h.l1:r.G9()}return[m,O]};z.Ig.prototype.M7=function(r,N,F,h){if(this.ei==null){if(r.NM=="aply")F.g[F.w[0]].extend(new fE(0,0,F.e,F.n));
this.ei=z.Ig.getData(F,null,r.NM=="fade"?F.xp().data:null);if(r.NM=="aply"||r.NM=="matc")this.ei[0].l1=F.G9()}if(r.V=="edit"){this.DX=[r.NM,r.MB];
var m=this.ei[0],O=z.Ig.an_(r.NM,r.MB,m.C2),e=gn.k6(r.NM,O);if(r.NM=="fade"||r.NM=="matc"||r.NM=="aply")e=r.MB;
if(e!=null){for(var P=0;P<this.ei.length;P++){var B=this.ei[P];if(r.J3)w.ZF(B.C2,B.Bk);else if(r.NM=="fade"){var s=g6.lF(r.MB.Md.v.BlnM),Y=r.MB.Opct.v.val/100,D=F.xp().data[P];
w.ZF(D.C2,B.Bk);if(s=="norm")w.i.lO(B.C2,B.NQ,B.Bk,B.NQ,null,null,null,B.NQ,Y);else{var c=iL.x2();c.iC=!0;
for(var R=0;R<D.C2.length;R+=4)if(D.C2[R+3]!=B.C2[R+3]){c=null;break}w.i.vw(s,B.C2,B.NQ,B.Bk,B.NQ,B.NQ,Y,c)}}else if(r.NM=="matc"){var o;
if(e.noReference&&e.noReference.v)o=B.C2;else{var H=e.Srce.v,x=H[1].v.val,Q=N.mF,U=F;for(var R=0;R<Q.length;
R++)if(Q[R].name==x)U=Q[R];var I=z.Ig.aW(U,F,H[0],B);o=I[0]}gV(B.C2,B.NQ.e,B.NQ.n,o,B.Bk,[e.Lght.v,e.ClrR.v,e.Fade.v,e.neutralizeColor?e.neutralizeColor.v:!1])}else if(r.NM=="aply"){e=e.With.v;
var l=e.T.v,I=z.Ig.aW(F,F,l[1],B),o=I[0],p=I[1],j=e.Clcl?e.Clcl.v.Clcn:null,s=j?g6.lF(j):"norm",Y=e.Opct?e.Opct.v.val/100:1,T=["RGB","Rd","Grn","Bl","Trsp"].indexOf(l[0].v.enum),O=e.Invr&&e.Invr.v;
if(O||T!=0){o=o.slice(0);if(O)w.abh(o);if(T!=0){var V=w.B(p.W());w.Pw(o,V,T-1);if(T==4)w.iL(V);for(var E=0;
E<3;E++)w.vr(V,o,E)}}if(j=="Add"||j=="Sbtr"){var _=1/e.Scl.v,f=e.Ofst.v,S=j=="Add"?1:-1,L=new Uint8ClampedArray(B.Bk.buffer);
for(var R=0;R<o.length;R+=4){L[R]=(B.C2[R]+S*o[R])*_+f;L[R+1]=(B.C2[R+1]+S*o[R+1])*_+f;L[R+2]=(B.C2[R+2]+S*o[R+2])*_+f}}else{var c=iL.x2();
c.iC=e.PrsT&&e.PrsT.v;B.Bk.fill(0);B.Bk.set(B.C2);w.i.vw(s,o,p,B.Bk,B.NQ,B.NQ,Y,c)}}else gn.dR(e,B.C2,B.Bk,B.NQ)}z.Ig.OH(F,this.ei)}}if(r.V=="cancel"){z.Ig._J(F,this.ei);
this.ei=null}if(r.V=="confirm"){var y={fade:[2,11],aply:[2,12],matc:[4,18]},$=y[r.NM];if($==null)$=gn.names[r.NM];
var Z=gn.sY(r.NM,this.DX[1]);if(Z!=-1)$=[4,16,Z];z.Ig.My(F,this.ei,$,this);this.ei=null;if(Z==-1)z.Ig.rd(N,this.DX)}F.M()};
z.Ig.rd=function(r,N){var F=N[0],h=N[1],m,O;if(gn.Eh[F]){m=gn.Eh[F];if(q[F])O=h}if(df.Eh[F]){m=df.Eh[F];
if(q[F])O=h}if(F=="fade"){m="fade";O=h}if(F=="matc"){m="matchColor";O=h}if(F=="aply"){m="applyImageEvent";
O=h}if(m==null)return;var e=new gf(v.E.nE,!0);e.data={vi:!0,Ja:m};if(O){O=JSON.parse(JSON.stringify(O));
O.classID="null";delete O.__name;e.data.Tf=O}r.L(e)};z.Ig._J=function(r,N){z.Ig.Lc(r,N)};z.Ig.My=function(r,N,F,h){for(var R=0;
R<N.length;R++){var m=N[R],O=r.g[m.a],e=m.a<0?r.O0[-1-m.a]:m.P6<=0?null:m.P6==1?O.$n():O.xg(r).v;if(e){e.RR();
e.ug=!0;if(O)O.dD(r)}else{O.RR();O.M()}delete m.Bk;delete m.Ya}var P=new g2(F,h);P.data=N;r.Zy(P);r.kn=!0};
z.Ig.OH=function(r,N,F){for(var R=0;R<N.length;R++){var h=N[R],m=r.g[h.a],O=F?h.C2:h.Bk,e=h.NQ;if(h.P6==0){m.extend(e);
if(h.Ya){w.L3(h.C2,e,m.buffer,m.rect);w.i.lO(O,e,m.buffer,m.rect,h.Ya,e,0,e,1)}else w.L3(O,e,m.buffer,m.rect)}else{var P=h.a<0?r.O0[-1-h.a]:h.P6==1?m.$n():m.xg(r).v;
P.extend(e);if(h.Ya){var B=w.B(e.W()*4);w.ZF(h.C2,B);w.i.lO(O,e,B,e,h.Ya,e,0,e,1);z.a3.Hj(B,e,P)}else z.a3.Hj(O,e,P);
P.ug=!0;if(m)m.dD(r)}if(m)m.M()}if(!F)z.Ig.SY(r,N)};z.Ig.Lc=function(r,N){for(var R=0;R<N.length;R++){var F=N[R],h=r.g[F.a],m=F.NQ,O=w.B(m.W()*4);
if(F.P6==0){w.L3(h.buffer,h.rect,O,m);h.extend(m);w.L3(F.C2,m,h.buffer,h.rect);h.RR()}else{var e=F.a<0?r.O0[-1-F.a]:F.P6==1?h.$n():h.xg(r).v;
z.a3.Wy(e.channel,e.rect,e.color,O,m);e.extend(m);z.a3.Hj(F.C2,m,e);e.RR();e.ug=!0;if(h)h.dD(r)}F.C2=O;
if(h)h.M()}r.kn=!0};z.Ig.SY=function(r,N){var F=z.Ig.zW(r),h=~F;if(F==16777215)return;for(var R=0;R<N.length;
R++){var m=N[R],O=r.g[m.a],e=m.NQ;if(m.P6!=0)continue;O.extend(e);var P=e.x-O.rect.x,B=e.y-O.rect.y,s=O.rect.e,Y=new Uint32Array(m.C2.buffer),D=new Uint32Array(O.buffer.buffer);
for(var c=0;c<e.n;c++)for(var o=0;o<e.e;o++){var H=c*e.e+o,x=(c+B)*s+(o+P);D[x]=D[x]&F|Y[H]&h}O.RR();
O.M()}r.M()};z.Ig.zW=function(r){var N=r.q.Hr;return N[2]*16711680|N[1]*65280|N[0]*255};z.Ig.prototype.UO=function(r,N){var F=N.g[r.a];
if(r.Q5!=null)F.add[gn.get(F.add)]=r.Q5;else z.Ig.Lc(N,r);N.M()};z.Ig.prototype.uq=function(r,N){var F=N.g[r.a];
if(r.Q5!=null)F.add[gn.get(F.add)]=r.oC;else z.Ig.Lc(N,r);N.M()};z.op=function(){z.bE.call(this,"Filter Edit",z.dX);
this.ei=null;this.Vv=null;this.V=null;this.DX=null};z.op.prototype=new z.bE;z.op.prototype.z1=function(r,N,F,h,m){if(r.V=="start"){if(F.w.length==0)return;
var O=F.g[F.w[0]];if(O.add.SoLd&&O.Ku<=0&&F.I2.length==0){}else if(!F.mc(N,null,!0))return;var e=r.NM;
if((q[e]||df.P[e])&&r.MB==null){if(F.w.length!=1)alert("Will be applied to "+F.w.length+" layers.");
var P=new gf(v.E.S,!0);P.data=z.op.Aw(e,this.ZP(F,e));N.L(P)}else{var B={V:"edit",NM:e,MB:r.MB,zs:this.ZP(F)};
this.z1(B,N,F,h,m);B.V="confirm";delete B.MB;this.z1(B,N,F,h,m)}}if(r.V=="edit"||r.V=="cancel"||r.V=="confirm"){if(r.V=="edit")this.DX=[r.NM,r.MB];
if(r.zs)this.alZ(r,N,F,m);else this.a2U(r,N,F,m)}if(r.V=="applylast"&&this.DX!=null){var B={V:"edit",NM:this.DX[0],MB:this.DX[1],zs:this.ZP(F)};
this.z1(B,N,F,h,m);B.V="confirm";delete B.MB;this.z1(B,N,F,h,m)}};z.op.Aw=function(r,N){var F=df.P[r];
if(F)return{V:v.c.z4,s:F,fJ:{zs:N}};else return{V:v.c.pr,i7:"afw_"+r,zs:N}};z.op.prototype.ZP=function(r,N){var F=r.g[r.w[0]],h;
if(F.add.SoLd&&F.Ku<=0&&r.I2.length==0){h={a:r.w[0],index:0};if(F.add.SoLd.filterFX!=null){var m=F.add.SoLd.filterFX.v.filterFXList.v;
h.index=m.length;for(var R=0;R<m.length;R++)if(df.qG(m[R].v)==N&&df.P[N])h.index=R}}return h};z.op.prototype.alZ=function(r,N,F,h){var m=F.g[r.zs.a],O=r.NM;
if(r.V=="edit"){if(this.V==null){var e=df.names[O];if(e==null)e=gn.names[O];if(O=="blendOptions")e=[14,10];
this.V=new g2(e,this);this.V.data={zs:r.zs,ai6:JSON.parse(JSON.stringify(m.add.SoLd))}}if(!m.Ru()){m.add.SoLd.filterFX=df.tB();
this.V.data.bR=gp.a4v(m.add.SoLd.placed.v);F.gV(this.V.data.bR);m.XY(F)}var P=m.add.SoLd.filterFX.v.filterFXList.v;
if(P[r.zs.index]==null){P.push(df.z6(O,h))}if(r.MB){P[r.zs.index].v.enab.v=r.J3!=!0;if(O=="blendOptions")P[r.zs.index].v.blendOptions.v=r.MB;
else P[r.zs.index].v.Fltr.v=r.MB}this.V.data.afb=JSON.parse(JSON.stringify(m.add.SoLd));this.uq(this.V.data,F)}if(r.V=="cancel"){if(this.V)this.UO(this.V.data,F);
this.V=null}if(r.V=="confirm"){if(this.V)F.Zy(this.V);z.Ig.rd(N,this.DX);this.V=null}};z.op.prototype.VO=function(r){return{Z:r>>>16,z:r>>>8&255,J:r&255}};
z.op.prototype.a2U=function(r,N,F,h){if(this.ei==null){var m=df.GF(r.NM,r.MB);this.ei=z.Ig.getData(F,m.x!=0||m.y!=0)}if(r.V=="edit"){var O=JSON.stringify(r.MB);
if((r.MB==null||O!=this.Vv)&&r.J3!=!0)for(var R=0;R<this.ei.length;R++){var e=this.ei[R],P={rect:e.NQ,buffer:e.C2},B={rect:e.NQ,buffer:e.Bk};
if(r.NM=="Avrg"&&e.Ya){P.buffer=e.C2.slice(0);w.UF(e.Ya,P.buffer)}df.dR(r.NM,P,r.MB,this.VO(h.Fp),this.VO(h.lo),B,[F.add.lnk2?F.add.lnk2:[],F.g[F.w[0]].$n(),F.O0,F.bN()]);
if(r.NM=="Avrg"&&e.Ya){var s=e.C2.length;for(var R=0;R<s;R+=4)e.Bk[R+3]=e.C2[R+3]}this.Vv=O}z.Ig.OH(F,this.ei,r.J3)}if(r.V=="cancel"){z.Ig._J(F,this.ei);
this.ei=null;this.Vv=null}if(r.V=="confirm"){z.Ig.My(F,this.ei,df.names[r.NM],this);this.ei=null;this.Vv=null;
z.Ig.rd(N,this.DX)}F.M();F.kn=!0};z.op.prototype.UO=function(r,N){if(r.zs){var F=N.g[r.zs.a];if(r.bR)N.cX(r.bR);
F.add.SoLd=JSON.parse(JSON.stringify(r.ai6));if(F.Ru())F.uU(N);else{F.XY(N);F.Ku=0}}else z.Ig.Lc(N,r);
N.M();N.kn=!0};z.op.prototype.uq=function(r,N){if(r.zs){var F=N.g[r.zs.a];if(r.bR)N.gV(r.bR);F.add.SoLd=JSON.parse(JSON.stringify(r.afb));
if(F.Ru())F.uU(N);else F.XY(N);if(!F.uV())F.Rl+=32}else z.Ig.Lc(N,r);N.M();N.kn=!0};var bC={ge:"0",D$:"1",Hp:"2",Rt:"3",zU:"4",nA:"5",Td:"6",G6:"7",u:"8",Sc:"8.5",Hk:"8.8",mu:"9",Jf:"10",Ni:"11",bb:"12",Gv:"13",V_:"14",MV:"15",gH:"16",gU:"21",HZ:"22",PT:"23",X3:"23.0",_x:"23.1",QE:"23.2",mC:"23.3",ku:"23.4",Rw:"23.5",Oe:"23.6",eY:"30",Bl:"31",WE:"40",A6:"41",pN:"42"};
bC.Hx={};bC.Hx[bC.D$]=["abr","brushes",eq,[9,3]];bC.Hx[bC.Hp]=["grd","gradients",aN,[12,37]];bC.Hx[bC.Rt]=["shc","contours",bD,[12,21]];
bC.Hx[bC.zU]=["asl","styles",ay,[12,22]];bC.Hx[bC.nA]=["pat","patterns",cZ,[12,62]];bC.Hx[bC.Td]=["csh","shapes",bv,[12,77]];
bC.Hx[bC.G6]=["aco","swatches",hK,[9,8]];bC.Hx[bC.u]=["atn","actions",eB,[9,9]];bC.Hx[bC.Sc]=["tpl","tpresets",i5,[9,12]];
bC.Hx[bC.Hk]=["icc","profiles",di,"ICCs"];function g2(r,N,F){if(F==null)F=!1;this.name=r;this.s=N;this.gJ=F;
this.data=null;this.ai9=Date.now()}var fq={};fq.IT=function(r,N){var F={t:"Clss",v:{classID:r}};if(N)F={t:"Enmr",v:{classID:r,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[F]}};fq.n6=function(r,N){var F={classID:"Lyr"};F[r]=N;return{Ja:"set",Tf:{classID:"null",null:fq.IT("Lyr",!0),T:{t:"Objc",v:F}}}};
fq.ab_=function(r,N,F,h,m){var O=new gf(v.E.nE,!0),e=[],R=0,P=fq.G8(N,F,h,e);while(e.length!=0){var B=e.pop();
R++;if(!B.I)continue;console.log(R-1);if(B.Ja=="conditional"){var s=r.g[r.w[0]],Y=B.Tf.null.v.Cndt,D=!1;
if(Y=="Bckg")D=!1;else if(Y=="Pxel"&&r.VT(!1))D=!0;else if(Y=="Adjs"&&gn.get(s.add))D=!0;else if(Y=="Shp"&&s.add.vogk)D=!0;
else if(Y=="Grup"&&s.zv())D=!0;else if(Y=="Opn"&&r!=null)D=!0;else if(Y=="32Bt")D=!1;else if(Y=="RGB")D=!0;
var c=B.Tf.then,o=B.Tf.else;if(D&&c)fq.G8(N,c.v[0].v.val,c.v[1].v.val,e);if(!D&&o)fq.G8(N,o.v[0].v.val,o.v[1].v.val,e)}else if(B.Ja=="stop"){if(B.Tf.Cntn&&B.Tf.Cntn.v==!0)window.confirm(B.Tf.Msge.v);
else{alert(B.Tf.Msge.v);break}}else if(B.Ja=="play"){var H=B.Tf.null.v,x=new gf(v.E.S,!0);x.data={V:v.c.KY,Fs:[H[0].v.val,H[1].v.val]};
m.L(x)}else{O.data={Ja:B.Ja,Tf:B.Tf};m.L(O)}}};fq.G8=function(r,N,F,h){var m;for(var R=0;R<r.length;
R++){if(r[R].Py!=F)continue;var O=r[R].Yg;for(var e=0;e<O.length;e++){if(O[e].Py!=N)continue;m=O[e].Yg}}var P=m.length;
for(var R=0;R<P;R++)h.push(m[P-1-R])};fq.akJ=function(r){var N=r.Ja,F=r.Tf,h,e,P,B,s;if(F&&F.null)h=F.null.v[0];
if(F&&h==null&&F.At)h=F.At.v[0];if(h&&h.t=="obj ")h=h.v[0];var m=h?h.v.classID:null,O=["purge"];if(O.indexOf(N)!=-1)return N[0].toUpperCase()+N.slice(1);
if(N=="GEfc"||N=="paintDaubs")return aD.names[F.GEfk.v.GEft][1];s=gn.Eh;for(e in s)if(s[e]==N)P=e;s=df.Eh;
for(e in s)if(s[e]==N)B=e;if(P){var Y=gn.sY(P,F);if(Y!=-1)return[4,16,Y];return gn.names[P]}if(B)return df.names[B];
var D=fq.Xm;if(N=="make"){if(h){if(m=="AdjL")return[6,1];else if(m=="layerSection")return F.From?[6,9]:[6,20];
else if(m=="Lyr")return[6,13];else if(m=="Chnl"&&h.v.enum=="Msk")return[6,2];else if(m=="contentLayer")return[6,48,1];
else if(m=="BckL")return"Make Background Layer";else if(m=="Path")return"Make Path";else if(m=="TxLr")return"Make Text Layer";
else if(m=="slice")return"Make Slices"}if(F.Nw){m=F.Nw.v.classID;if(m=="Dcmn")return[11,7];else if(m=="Chnl"||m=="SCch")return"New Channel"}}else if(N=="deselect"){if(m=="Path")return"Deselect current path";
else throw m}else if(N=="select"){if(m=="Chnl")return"Select "+(h.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(m=="Mn")return"Select Panel \""+h.v.enum+"\"";else if(m=="Lyr"){if(h.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[h.v.enum]+" Layer";
return"Select Layer \""+h.v.val+"\""}else if(m=="Path")return"Select Path";else if(m=="Brsh")return"Select Brush";
else if(m=="Dcmn")return"Select Document"}else if(D[N]&&m=="Chnl"){var c=h.v.keyID=="fsel";return D[N]+" "+(c?"Selection":"Channel")}else if(N=="set"){if(m=="Lyr")return"Set Current Layer";
else if(m=="AdjL")return[6,39];else if(m=="contentLayer")return[6,48,2];else if(m=="Prpr"){var o=h.v.keyID;
if(o=="TxtS")return"Set Text Style";else if(o=="paragraphStyle")return"Set Paragraph Style";else if(o=="Lefx")return[11,6];
else console.log(o)}else if(m=="Clr")return"Set "+(h.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(m=="Brsh")return"Set Brush";else console.log(m)}else if(N=="move"){if(m=="Lyr")return"Move Layer";
else if(m=="Chnl"&&h.v.keyID=="fsel")return[7,7];else console.log(m)}else if(N=="show"||N=="hide"){var H="";
if(m=="Lyr")+"Layer";if(m=="Chnl")+"Channel";return(N=="show"?"Show":"Hide")+" "+H}else if(N=="reset"){if(m=="Clr")return"Reset Colors"}else if(N=="exchange"){if(m=="Clr")return[22,7,0]}else if(N=="rotateEventEnum")return[2,5];
else if(N=="flip"){var x=F.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,x?2:3]]}if(m=="Chnl"){if(N=="duplicate"){if(h.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(N=="delete")return"Delete Channel"}if(N=="transform")return h&&h.v.keyID=="fsel"?[7,10]:[10,16];
var Q={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:F?m=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},U=Q[N];
if(U==null)U=fq.wM[N];if(U)return U;return N};fq.wM={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
fq.Xm={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
fq.aaS=function(r,N,F,h){var m=r.Ja,O=r.Tf,e=!1,P=new gf(v.E.u,!0),Y,D,c,o;P.s=z.j7;var B=new gf(v.E.S,!0),s=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(s.indexOf(m)!=-1)return;o=gn.Eh;for(Y in o)if(o[Y]==m)D=Y;o=df.Eh;for(Y in o)if(o[Y]==m)c=Y;if(m=="fade")D=m;
if(m=="matchColor")D="matc";if(m=="applyImageEvent")D="aply";if(D){P.s=z.T_;P.data={V:"start",_w:D,MB:O}}else if(c){P.s=z.dX;
P.data={V:"start",NM:c,MB:O}}else if(m=="GEfc"||m=="paintDaubs"){P.s=z.dX;P.data={V:"start",NM:"GEfc",MB:O}}else if(m=="imageSize"||m=="canvasSize"||m=="revealAll"||m=="trim"||m=="crop"){P.s=z.Ke;
P.data={V:"fromAction",T5:r}}else if(m=="fill"||m=="stroke"||m=="delete"&&O==null){P.s=z.D$;P.data={V:"fromAction",T5:r}}else if(m=="colorRange"){P.s=z.Ns;
P.data={V:"fromAction",T5:r}}else if(fq.wM[m]||fq.Xm[m]&&(!1||O.With&&O.With.v[0].v.keyID=="fsel"||O.From&&O.From.v[0].v.keyID=="fsel"||O.null&&O.null.v[0].v.keyID=="fsel"||O.T.v[0]&&O.T.v[0].v.keyID=="fsel")){P.s=z.Ns;
P.data={V:"fromAction",T5:r}}var H={copyToLayer:C.sA,cutToLayer:C._4,mergeLayersNew:C.tW,rasterizeLayer:C.auf,mergeVisible:C.Rz,flattenImage:C.ahg,newPlacedLayer:C.Ut};
if(H[m])P.data={V:H[m],Tf:O};if(P.data){N.L(P);return}if(m=="collapseAllGroupsEvent"){for(var R=0;R<h.g.length;
R++){var x=h.g[R];if(x.zv())x.add.lsct=jJ.ab}h.Pj=!0;return}if(m=="desaturate"){P.s=z.T_;P.data={V:"auto",OG:3};
if(h&&h.g[h.w[0]].add.SoLd==null)N.L(P);return}if(m=="close"){if(O.Svng.v.YsN=="Ys"){B.data={V:v.c.um};
N.L(B)}B.data={V:v.c.Dt,Bz:h};N.L(B);return}if(m=="save"){B.data={V:v.c.um};N.L(B);return}if(m=="copyMerged"){B.data={V:v.c.jH,Yl:!0,ol:!0};
N.L(B);return}var H={placedLayerEditContents:v.c.al2,copyEvent:v.c.jH,paste:v.c.yc};if(H[m])B.data={V:H[m],ol:!0};
if(B.data){N.L(B);return}console.log(m,O);var Q=O.null?O.null.v:null,U=Q?Q[0].v.classID:"";if(m=="make"){if(O.null==null&&O.Nw)U=O.Nw.v.classID;
if(U=="AdjL"){P.data={V:C.nC,Tf:O}}else if(U=="layerSection"){P.data=O.From?{V:C.BZ}:{V:C.Ex};if(O.Usng){var I=O.Usng.v;
if(I.Nm)P.data.yB=I.Nm.v;if(I.Clr)P.data.EZ=fq.CT(I)}}else if(U=="Lyr"){if(O.Usng&&O.Usng.v.length==2)P.data={V:C.aqr};
else{P.data={V:C.vZ};if(O.Usng)P.data.yB=O.Usng.v.Nm.v;if(O.below&&O.below.v)P.data.aeC=!0}}else if(U=="Chnl"&&O.At&&O.At.v[0].v.enum=="Msk"){P.data={V:C.h1,j4:O.Usng.v.UsrM}}else if(U=="Chnl"||U=="SCch"){P.data={V:C.hW,bT:"fromAction",h:r}}else if(U=="contentLayer"){P.data={V:C.e6,Tf:O}}else if(U=="BckL"){h.g[h.w[0]].a5e();
return}else if(U=="Dcmn"){var l=O.Nw.v;B.data={V:v.c.RY,_I:gp.aks(l,F)}}else if(U=="Ptrn")B.data={V:v.c.jO,Xa:0};
else if(U=="Path"){P.s=z.qI;P.data={V:"pathedit",bT:"fromsel"}}else if(U=="TxLr"){P.s=z.tI;P.data={V:"fromAction",T5:r}}else if(U=="slice"){P.s=z.eu;
P.data={V:"fromAction",T5:r}}else{console.log(m,U,O);throw"e"}}else if(m=="deselect"){if(U=="Path"){h.ih=[];
h.Pj=h.mR=!0;return}else throw U}else if(m=="selectNoLayers"){h.w=[];h.kn=!0}else if(m=="select"){var p={PcTl:z.Kn,PbTl:z.D$,magicWandTool:z.kY};
if(U=="Lyr"){var j=O.selectionModifier,T=j?j.v.selectionModifierType:null,V=fq.YP(h,Q[0]);if(V==-1){alert("Layer "+Q[0].v.val+" does not exist.");
return}P.data={V:C.xo,a:V,WV:T?["addToSelection","addToSelectionContinuous"].indexOf(T):null,EK:0}}else if(U=="Path"){if(Q[0].v.keyID=="WrPt"){h.ih=[0];
h.Pj=h.mR=!0;return}else throw Q[0]}else if(U=="Chnl"){P.data={V:C.xo,a:V,EK:1}}else if(U=="Dcmn"){if(N.mF.length<2)return;
B.data={V:v.c.a0y,dir:O.null.v[0].v.val}}else if(U=="Brsh"){var E=F.nd.list,_;for(var R=0;R<E.length;
R++){if(E[R].v.Nm.v==Q[0].v.val)_=E[R].v}B.data={V:v.c.nM,Xa:bC.V_,RE:_}}else if(U=="Mn"){if(Q[0].v.enum=="Scl")B.data={V:v.c.z4,s:z.cP,fJ:{j4:3}};
if(Q[0].v.enum=="Plce")B.data={V:v.c.$Q,ahP:!0};if(Q[0].v.enum=="ZmIn"){P.s=z.x0;P.data={V:"zoom",XS:!0}}if(Q[0].v.enum=="ZmOt"){P.s=z.x0;
P.data={V:"zoom",XS:!1}}if(Q[0].v.enum=="FtOn"){P.s=z.x0;P.data={V:"adapt",h:"fitscr"}}}else if(p[U]){B.data={V:v.c.z4,s:p[U]}}else throw U}else if((m=="set"||m=="reset"||m=="exchange")&&U=="Clr"){B.data={V:v.c.nM,Xa:bC.gU,bT:m=="reset"?3:2};
if(m=="set"){B.data.bT=Q[0].v.keyID=="FrgC"?0:1;var f=w.X.Mq(O.T.v);B.data.h=f.Z<<16|f.z<<8|f.J}}else if(m=="set"){if(U=="AdjL"){var S=O.T.v.classID;
S=gn.Bo[S];P.s=z.T_;if(S)P.data={V:"edit_layer",h:O.T.v}}else if(U=="Lyr"){var L=O.T.v,V=fq.YP(h,Q[0]);
for(var y in L){if(y=="classID")continue;P.s=z.j7;if(y=="Nm")P.data={V:C.er,name:L.Nm.v};else if(y=="Opct")P.data={V:C._n,oC:Math.round(L.Opct.v.val*255/100)};
else if(y=="fillOpacity")P.data={V:C.Pb,oC:Math.round(L.fillOpacity.v.val*255/100)};else if(y=="Md")P.data={V:C.ze,oC:g6.EO.indexOf(L.Md.v.BlnM)+(h.g[V].zv()?1:0)};
else if(y=="Usrs")P.data={V:C.mD,a:V};else if(y=="Blnd"){P.s=z.Nq;P.data={V:"setstl",a:V,h:{blendOptions:{t:"objc",v:L}}};
N.L(P);P.data={V:"confirm",a:V}}else if(y=="userMaskFeather"||y=="userMaskDensity"){var Z=L.userMaskFeather,i=L.userMaskDensity,V=h.w[0],b=h.g[V].mT(0);
if(Z)b.U7=Z.v.val;if(i)b.EH=i.v.val;P.data={V:C.Y6,im:V,BM:b}}else if(y=="Clr"){var G=fq.CT(L);P.data={V:C.ZS,ae5:G}}else if(y=="Lefx")fq.lS(N,V,L.Lefx.v);
else{console.log(O);throw y}if(P.data){N.L(P);delete P.data}}P.data={};var x=h.g[V];x.aiy()}else if(U=="Prpr"){var L=JSON.parse(JSON.stringify(O.T.v)),V=fq.YP(h,O.null.v[1]),x=h.g[V],g=Q[0].v.keyID;
if(g=="TxtS"||g=="paragraphStyle"){var u=x.add.TySh,A=JSON.parse(JSON.stringify(u.sl)),a=gQ.Xe(A),d=gQ.pz(A,0,a.length-2);
if(g=="TxtS")gQ.a1u(L,d);else gQ.a5q(L,d);gQ.sW(A,0,a.length-1,d);P.s=z.tI;P.data={V:"newED",Lz:V,bc:A}}else if(g=="Lefx"){for(var K in L)if(L[K].v){if(K=="Scl")L[K].v.val=100;
if(L[K].v.TrnS&&L[K].v.TrnS.v.Crv==null){L[K].v.TrnS=JSON.parse(an.O7[9]).TrnS}}fq.lS(N,V,L);P.data={}}else throw g}else if(U=="contentLayer"){var V=fq.YP(h,Q[0]),L=O.T.v;
if(L.classID=="shapeStyle")L=L.FlCn.v;var n={solidColorLayer:0,gradientLayer:1,patternLayer:2}[L.classID],t=z.JP.us(h,V),c=t._h==n+1?t.PL:an.qe[n];
c=JSON.parse(JSON.stringify(c));z.l6.Ew(L,c,n);P.data={V:C.uL,U$:[V],zM:!0,h:{_h:n+1,PL:c}}}else if(U=="Brsh"){var _=JSON.parse(JSON.stringify(F.nd.B1)),X=O.T.v;
if(X.masterDiameter)_.Brsh.v.Dmtr.v.val=X.masterDiameter.v.val;else console.log("unknown brush parameters");
B.data={V:v.c.nM,Xa:bC.V_,RE:_}}else{console.log(Q[0],O);throw U}}else if(m=="move"){if(U=="Lyr"){var L=O.T.v;
if(L.classID=="Ofst"){P.data={V:"trsl",SV:L.Hrzn.v.val,_Q:L.Vrtc.v.val};P.s=z.FS}else{var aK,fg;if(L[0].t=="Enmr"){if(L[0].v.enum=="Frnt")fg=0;
else if(L[0].v.enum=="Nxt")fg=1;else if(L[0].v.enum=="Prvs")fg=2;else if(L[0].v.enum=="Back")fg=3;else throw"e"}else aK=L[0].v.val;
P.data={V:C.Q_,target:aK,bT:fg,ahF:O.Dplc?O.Dplc.v:!1}}}else if(U=="Chnl"&&Q[0].v.keyID=="fsel"){P.s=z.Ns;
P.data={V:"fromAction",T5:r}}}else if(m=="groupEvent"||m=="ungroup")P.data={V:C.r1};else if(m=="show"||m=="hide"){var k=Q[0].v;
for(var R=0;R<k.length;R++){var hG=k[R],U=hG.v.classID;if(U=="Lyr"){if(P.data==null)P.data={V:C.FV,U$:[]};
var V=fq.YP(h,hG);if(V==-1)continue;var eE=h.g[V].gv();if(m=="show"&&eE||m=="hide"&&!eE)continue;P.data.U$.push(V)}else if(U=="Chnl"){P.data={V:C.hW,bT:"fromAction",h:r}}else if(U=="filterFX"){if(hG.v.val!=null)P.data={V:C.m$,index:hG.v.val-1};
P.data={V:C.gN}}}}else if(m=="rotateEventEnum"){P.s=z.Ke;var hW=O.Angl.v.val;P.data={V:"rot",Py:[2,5],h:-hW*Math.PI/180}}else if(m=="flip"){P.s=z.Ke;
var hh=O.Axis.v.Ornt=="Hrzn",hI=hh?new gS(-1,1):new gS(1,-1);P.data={V:"scl",Py:[[2,6],[22,4,hh?2:3]],h:hI}}else if(m=="transform"){var db=1,by=1,jM=0,fP=0,hB=0,iu=0,be=0;
if(O.Wdth)db=O.Wdth.v.val/100;if(O.Hght)by=O.Hght.v.val/100;if(O.Skew){var bp=O.Skew.v;jM=bp.Hrzn.v.val;
fP=bp.Vrtc.v.val}if(O.Ofst){var ij=O.Ofst.v;iu=ij.Hrzn.v.val;be=ij.Vrtc.v.val}if(O.Angl)hB=O.Angl.v.val;
var fT=new hc;fT.concat(new hc(db,db*Math.tan(fP*Math.PI/180),by*Math.tan(jM*Math.PI/180),by,0,0));fT.rotate(-hB*Math.PI/180);
fT.translate(iu,be);var ei={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[O.FTcs.v.QCSt];
if(ei==null)throw O.FTcs.v.QCSt;var Q=O.null;if(Q&&Q.v instanceof Array)Q=Q.v[0];var V=Q?fq.YP(h,Q):null;
if(V==-1)V=null;P.s=Q&&Q.v.keyID=="fsel"?z.DM:z.cP;P.data={V:"mat",Uu:ei,h:fT}}else if(m=="duplicate"){if(U=="Chnl")P.data={V:C.hW,bT:"fromAction",h:r};
else P.data={V:C.y7,yB:O.Nm?O.Nm.v:null}}else if(m=="delete"){if(U=="filterFX"){if(Q[0].v.val!=null)P.data={V:C.f9,BS:Q[0].v.val-1};
else P.data={V:C.c2}}else if(U=="Path"){P.s=z.qI;P.data={V:"pathedit",bT:"del"}}else if(U=="Lyr")P.data={V:C.wn};
else throw U}else if(m=="align"){if(O.Aply&&O.Aply.v.projection=="Auto"){P.s=z.Ke;P.data={V:"auto-align"}}else{P.s=z.FS;
var bz=O.Usng.v.ADSt,D={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[bz];if(D==null)throw bz;P.data={V:"algn",h:D}}}else if(m=="applyLocking"){var aM=O.layerLocking.v,hw;
if(aM.protectTransparency)hw=[[aM.protectTransparency.v],[0]];else if(aM.protectNone)hw=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(aM);throw"e"}P.data={V:C.Dd,oC:hw}}if(P.data)N.L(P);else if(B.data)N.L(B);else{console.log(r);
alert("Unknown action \""+m+"\"");throw"e"}};fq.lS=function(r,N,F){F=JSON.parse(JSON.stringify(F));ai.yL(F);
if(F.masterFXSwitch==null)F.masterFXSwitch={t:"bool",v:!0};var h=new gf(v.E.u,!0);h.s=z.Nq;h.data={V:"setstl",a:N,h:{Lefx:{t:"objc",v:F}}};
r.L(h);h.data={V:"confirm",a:N};r.L(h)};fq.CT=function(r){var N={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[r.Clr.v.Clr];
if(N==null)throw r.Clr.v.Clr;return N};fq.YP=function(r,N){var F=1e6,h=0,m=r.g.length;for(var R=0;R<r.w.length;
R++){F=Math.min(F,r.w[R]);h=Math.max(h,r.w[R])}var O=N.t,e=-1;if(O=="name"){var P=N.v.val,e=-1;for(var R=0;
R<m;R++)if(r.g[R].getName()==P){e=R;break}}else if(O=="Enmr"){if(r.w.length!=0)e=r.w[0];if(N.v.enum=="Frwr")e=h+1;
if(N.v.enum=="Bckw")e=F-1;if(N.v.enum=="Back")e=0;if(N.v.enum=="Frnt")e=m-1;e=(e+m)%m}else if(O=="prop"){if(N.v.keyID=="Bckg")e=0}return e};
var gn={};gn.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
gn.iT=["expA","clrL","selc"];gn.CI=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];gn.abY=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
gn.CD=[[13,1,1],[13,1,4],[13,1,5]];gn.L4={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
gn.Bo=function(){var r=JSON.parse(JSON.stringify(gn.L4));delete r.GrMp;r.GdMp="grdm";return r}();gn.Eh={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
gn.keys={levl:[bh.hg,bh.qN],curv:[bh.hg,bh.m5],hue2:[bh.hg,bh.ny],nvrt:[bh.hg,bh.yX],blnc:[bh.hg,bh.d8]};
gn.alr=function(r){var N=df.T$("mixr");N.Mnch={t:"bool",v:r.wt};function F(h,R){var m={classID:"ChMx"},O={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var e in O)m[e]={t:"UntF",v:{type:"#Prc",val:h[R+O[e]]}};return{t:"Objc",v:m}}if(r.wt)N.Gry=F(r.h,0);
else{N.Rd=F(r.h,0);N.Grn=F(r.h,5);N.Bl=F(r.h,10)}return N};gn.Ps=function(r){function N(h,m,R){var O={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var e in O)if(h[e])m[R+O[e]]=h[e].v.val}var F={wt:!1,h:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(r.Mnch&&r.Mnch.v)F.wt=!0;if(F.wt)N(r.Gry.v,F.h,0);else{N(r.Rd.v,F.h,0);N(r.Grn.v,F.h,5);N(r.Bl.v,F.h,10)}return F};
gn.get=function(r){for(var N in gn.names)if(r[N]!=null)return N;return null};gn.k6=function(r,N){var F=gn.LL,h;
if(r=="brit"){var m=N.Brgh?N.Brgh.v:0,O=N.Cntr?N.Cntr.v:0,e=N.useLegacy?N.useLegacy.v:!1;if(e){var P=m/255,B=1+O/100;
if(B>1)B=1+Math.tan(Math.PI/2*O/101);var s=(1-B)/2,Y=w.nt.UZ(P,P,P),D=[B,0,0,s,0,B,0,s,0,0,B,s,0,0,0,1],c=w.nt.multiply(Y,D),o=new w.rX(256);
for(var R=0;R<256;R++)o.Z[R]=R;w.nt.transform(o,o,c);h={type:F.Gj,BF:o.Z,L_:o.Z,$T:o.Z,WO:!1,Uv:!1}}else{var H=1024,x=-30+60*(O+100)/200,Q=[];
for(var R=0;R<4;R++)Q.push(w.WC.x1(R/3*255,R/3*255,!0));Q[1].v.Hrzn.v=64;Q[1].v.Vrtc.v=64-x;Q[2].v.Hrzn.v=128+64;
Q[2].v.Vrtc.v=128+64+x;Q.sort(function(au,dX){return au.v.Hrzn.v-dX.v.Hrzn.v});var U=w.WC.vh(Q,H);function I(au,H){var Q=[],j_=3;
for(var R=0;R<j_+1;R++)Q.push(w.WC.x1(R/j_*255,R/j_*255,!0));Q[1].v.Hrzn.v=130-au*26;Q[1].v.Vrtc.v=130+au*51;
Q[2].v.Hrzn.v=233-au*48;Q[2].v.Vrtc.v=233+au*10;return w.WC.vh(Q,H)}var l=I(Math.abs(m)/100,H);if(m<0){var p=[],j=1/H;
for(var R=0;R<H;R++){var T=R*j,V=R;while(l[V]>T&&V>1)V--;p[R]=V*j}l=p}var E=new Uint8Array(H);for(var R=0;
R<H;R++){var _=Math.round((H-1)*l[R]);E[R]=Math.round(255*U[_])}h={type:F.Gj,BF:E,L_:E,$T:E,WO:!1,Uv:!1}}}if(r=="levl"){var f=[],S,L,Y,y,$,Z;
for(var R=0;R<4;R++)f.push(a7.AD(N,R));S=-f[0][0]/255;L=1/(f[0][1]/255-f[0][0]/255);Y=w.nt.multiply(w.nt.g5(L,L,L),w.nt.UZ(S,S,S));
y=w.nt.g5(1/(f[1][1]/255-f[1][0]/255),1/(f[2][1]/255-f[2][0]/255),1/(f[3][1]/255-f[3][0]/255));$=w.nt.UZ(-f[1][0]/255,-f[2][0]/255,-f[3][0]/255);
Z=w.nt.multiply(y,$);var E=new w.rX(256);for(var R=0;R<256;R++)E.Z[R]=E.z[R]=E.J[R]=R;var i=1/(f[0][4]/100),b=1/(f[1][4]/100),G=1/(f[2][4]/100),g=1/(f[3][4]/100);
w.nt.transform(E,E,Z);for(var R=0;R<256;R++){E.Z[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.Z[R]/255,b))));
E.z[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.z[R]/255,G))));E.J[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.J[R]/255,g))))}w.nt.transform(E,E,Y);
for(var R=0;R<256;R++){E.Z[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.Z[R]/255,i))));E.z[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.z[R]/255,i))));
E.J[R]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.J[R]/255,i))))}S=f[0][2]/255;L=f[0][3]/255-f[0][2]/255;
Y=w.nt.multiply(w.nt.UZ(S,S,S),w.nt.g5(L,L,L));y=w.nt.g5(f[1][3]/255-f[1][2]/255,f[2][3]/255-f[2][2]/255,f[3][3]/255-f[3][2]/255);
$=w.nt.UZ(f[1][2]/255,f[2][2]/255,f[3][2]/255);Z=w.nt.multiply($,y);w.nt.transform(E,E,w.nt.multiply(Y,Z));
h={type:F.Gj,BF:E.Z,L_:E.z,$T:E.J,WO:!1,Uv:!1}}if(r=="curv"){var u=dK.AD(N,0).length==256?1:0,A=[];if(u==0){var a=w.WC.X8(dK.AD(N,0),256);
for(var R=1;R<4;R++){var d=w.WC.X8(dK.AD(N,R),256);A.push(w.WC._3(d,a))}}else{var K=[];for(var R=0;R<4;
R++){var n=new Uint8Array(256);K.push(n);var t=dK.AD(N,R);for(var V=0;V<256;V++)n[V]=t[V]}for(var R=1;
R<4;R++)A.push(w.WC._3(K[R],K[0]))}h={type:F.Gj,BF:A[0],L_:A[1],$T:A[2],WO:!1,Uv:!1}}if(r=="expA"){var X=N.Exps,aK=N.Ofst,fg=N.gammaCorrection,k=X?X.v:0,hG=aK?aK.v:0,eE=fg?fg.v:1,E=new Uint8Array(256);
for(var R=0;R<256;R++){var N=R/255,hW=Math.pow(Math.abs(hG),1/(Math.PI/2));if(hG>0){N=Math.max(hG/Math.E,N);
N=N*Math.exp(hG/1.75+k/Math.PI);N=(1-hW)*N+hW*1}else{N=N*Math.exp(-hG*1.75+k/Math.PI);N=N+-hW*1.14}N=Math.pow(N,1/eE);
N=Math.max(0,Math.min(1,N));E[R]=Math.round(N*255)}h={type:F.Gj,BF:E,L_:E,$T:E,WO:!1,Uv:!1}}if(r=="vibA"){var hh=(N.vibrance?N.vibrance.v:0)/100,hI=(N.Strt?N.Strt.v:0)/100,hW=1+hh*(hh>0?.25:.5),db=.8+.2/hW;
h={type:F.rh,Xa:[hh,hI,db,hW]}}if(r=="hue2"){var by=[],jM=[],fP=[],hB=N.Clrz?N.Clrz.v:!1;for(var R=0;
R<256;R++){by[R]=R/255;jM[R]=0;fP[R]=0}var iu=dG.AD(N,0),be=gn.eG(iu[1]/100);if(hB){var bp=iu[0]/360;
for(var R=0;R<256;R++){by[R]=bp;jM[R]=be}}else{for(var R=0;R<256;R++){var ij=by[R],fT=jM[R];by[R]+=iu[0]/360;
for(var V=0;V<6;V++){var ei=dG.AD(N,V+1),bz=ei.OE,aM=ei.fo,hW=0;for(var hw=1;hw<4;hw++)if(aM[hw]<aM[0])aM[hw]+=360;
var hx=aM[0],fm=aM[1],dE=aM[2],gD=aM[3],c2=ij*360;if(c2<aM[0])c2+=360;var bQ=(c2-hx)/(fm-hx),f9=(c2-dE)/(gD-dE);
if(bQ<0)hW=0;else if(bQ<1)hW=bQ;else if(f9<0)hW=1;else if(f9<1)hW=1-f9;else hW=0;var B=gn.eG(bz[1]/100);
by[R]+=hW*bz[0]/360;jM[R]+=hW*B;fP[R]+=hW*bz[2]/100}}for(var R=0;R<256;R++){jM[R]=(1+jM[R])*(1+be)-1;
fP[R]=Math.max(-1,Math.min(1,fP[R]))}}var jR=new Uint8Array(256),gP=new Uint8Array(256),jh=new Uint8Array(256);
for(var R=0;R<256;R++){var k6=by[R],hI=jM[R],eZ=fP[R];if(k6>1)k6--;if(k6<0)k6++;hI=gn.abM(hI);hI=(1+hI)*.5;
eZ=(1+eZ)*.5;jR[R]=Math.round(255*k6);gP[R]=Math.round(255*hI);jh[R]=Math.round(255*eZ)}var b5=iu[2]/100,fG=b5<0?-b5:b5,jG=b5<0?0:1;
h={type:F.tF,auY:jR,Wq:gP,acU:jh,af8:fG*jG,wB:1-fG,a1w:iu[2]/100,arR:hB?1:0}}if(r=="nvrt"){var E=new Uint8Array(256);
for(var R=0;R<256;R++)E[R]=255-R;h={type:F.Gj,BF:E,L_:E,$T:E,WO:!1,Uv:!1}}if(r=="post"){var i_=N.Lvls.v,E=new Uint8Array(256),hW=i_/255.001,aY=255/(i_-1);
for(var R=0;R<256;R++)E[R]=Math.floor(R*hW)*aY;h={type:F.Gj,BF:E,L_:E,$T:E,WO:!1,Uv:!1}}if(r=="grdm"){var jk=N.Grad.v,ih=N.Rvrs,H=1024,jr;
if(jk.Clrs){var hV=w.X.ro(jk.Clrs.v,0,0);jr=w.X.OL(jk,hV,H,ih?ih.v:!1)}else{jr=w.X.S_(jk,H,ih?ih.v:!1)}var ds=w.B(H),jA=w.B(H),eI=w.B(H);
w.Pw(jr,ds,0);w.Pw(jr,jA,1);w.Pw(jr,eI,2);h={type:F.Gj,BF:ds,L_:jA,$T:eI,WO:!0,Uv:!1}}if(r=="selc"){var hH=new Float32Array(9*3*2),bO=N.RI,k7=N.Mthd?N.Mthd.v.CrcM=="Absl":!1;
for(var V=0;V<9;V++){var dO=V*6,cG=fk.AD(N,V),cV=cG[0]/100,g3=cG[1]/100,gh=cG[2]/100,bH=cG[3]/100;if(k7){hH[dO]=hH[dO+1]=hH[dO+2]=1;
hH[dO+3]=cV*(1+bH)+bH;hH[dO+4]=g3*(1+bH)+bH;hH[dO+5]=gh*(1+bH)+bH}else{hH[dO+0]=(1+cV)*(1+bH);hH[dO+1]=(1+g3)*(1+bH);
hH[dO+2]=(1+gh)*(1+bH)}}h={type:F._1,apL:hH}}if(r=="blwh"){var gF="Rd Yllw Grn Cyn Bl Mgnt".split(" "),h=[],ig=0,fe=0;
for(var R=0;R<6;R++)h.push(N[gF[R]].v);h.push(N.useTint.v,N.tintColor.v);var hu=[];for(var R=0;R<6;R++)hu.push((h[R]-50)/50);
var aB=w.X.Mq(h[7]);aB.Z/=255;aB.z/=255;aB.J/=255;var c8=w.DZ(aB.Z,aB.z,aB.J),eZ=w.OM(w.FK(c8.Nf,1,.5)),bM=c8.ou*c8.MB;
if(eZ==.5)ig=fe=.5;else{ig=bM*(.5-eZ)/(.5/eZ-1);fe=1-bM*(.5-eZ)-1/(2*(1-eZ));fe/=1-1/(2*(1-eZ))}h={type:F.oI,acg:hu,EJ:h[6]?1:0,agt:c8.Nf,OM:eZ,aqu:bM,Uz:ig,a6M:fe}}if(r=="blnc"){var f=[],e6=["ShdL","MdtL","HghL"];
for(var R=0;R<3;R++){if(N[e6[R]]==null){f[R]=[0,0,0];continue}var i_=N[e6[R]].v,iy=i_[0].v/100,jc=i_[1].v/100,bm=i_[2].v/100,cu=N.PrsL==null||N.PrsL.v?(Math.min(iy,jc,bm)+Math.max(iy,jc,bm))/2:0;
f[R]=[iy-cu,jc-cu,bm-cu]}var A=[w.B(256),w.B(256),w.B(256)];for(var V=0;V<3;V++)for(var R=0;R<256;R++){var T=R*(1/255),fC=0,x=0,cm=0;
x=f[2][V];cm=Math.abs(x);if(x<0)fC=Math.pow(T,Math.SQRT2);else fC=1.63*(Math.pow(T+.04,.5)-.2);T=cm*fC+(1-cm)*T;
x=f[1][V];cm=Math.abs(x);if(x<0)fC=Math.pow(T,2);else fC=Math.min(2.35*(Math.pow(T+.09,.5)-.3),Math.pow(T,1/2));
T=cm*fC+(1-cm)*T;x=f[0][V];cm=Math.abs(x);if(x<0)fC=T<.4?0:Math.pow((T-.4)/.6,Math.SQRT2);else fC=Math.pow(T,Math.SQRT2/2);
T=cm*fC+(1-cm)*T;T=Math.max(0,Math.min(1,T));A[V][R]=Math.round(T*255)}h={type:F.Gj,BF:A[0],L_:A[1],$T:A[2],WO:!1,Uv:!1}}if(r=="phfl"){var i4=w.X.Mq(N.Clr.v),fz=[i4.Z/255,i4.z/255,i4.J/255],iB=N.Dnst.v/100,A=[w.B(256),w.B(256),w.B(256)];
for(var V=0;V<3;V++)for(var R=0;R<256;R++){var T=R*(1/255),g5=T*fz[V];g5=Math.max(0,Math.min(1,g5));
T=iB*g5+(1-iB)*T;A[V][R]=Math.round(T*255)}h={type:F.Gj,BF:A[0],L_:A[1],$T:A[2],WO:!1,Uv:N.PrsL.v}}if(r=="thrs"){var E=w.B(256);
for(var R=N.Lvl.v;R<256;R++)E[R]=255;h={type:F.Gj,BF:E,L_:E,$T:E,WO:!0,Uv:!1}}if(r=="mixr"){var cv=gn.Ps(N),c=[];
for(var R=0;R<cv.h.length;R++)if(R%5!=3)c.push(cv.h[R]/100);if(cv.wt){for(var il=1;il<3;il++)for(var T=0;
T<4;T++)c[il*4+T]=c[T]}h={type:F.A9,PB:c}}if(r=="rplc"){var js=N.Mnm.v,iH=N.Mxm.v;h={type:F.pa,_v:[js.Lmnc.v,js.A.v,js.B.v],fG:[iH.Lmnc.v,iH.A.v,iH.B.v],shift:[N.H.v/360,N.Strt.v/100,N.Lght.v/100],Cr:N.Fzns.v/150}}if(r=="clrL"&&N.profile){var ju=new Uint8Array(N.profile.v),jQ=ICC.R(ju.buffer),cD=[],dZ=17,cD=ICC.U.sampleLUT(jQ,dZ);
h={type:F.rj,C2:ICC.U.rgba8LUT(cD,dZ),alq:cD,xy:dZ}}return h};gn.sY=function(r,N){var F=-1;if(r!="levl"||N==null)F=-1;
else if(N.Auto)F=0;else if(N.AuCo)F=1;else if(N.autoBlackWhite)F=2;return F};gn.LL={Gj:0,tF:1,rh:2,_1:3,oI:4,A9:5,pa:6,rj:7};
gn.eG=function(r){if(r<0)return r;return Math.pow(Math.tan(Math.PI/2*r),1.3)};gn.abM=function(r){if(r<0)return r;
r=Math.pow(r,1/1.3);return Math.atan2(r,1)/(Math.PI/2)};gn.dR=function(r,N,F,h){var m=gn.LL,O=Date.now();
if(M._X&&h.W()>300*300&&r.type!=m.Gj&&r.type!=m.rj){h=h.clone();h.x=h.y=0;var e=M.YO(0,h.e,h.n);e.set(N);
M.y9(e,h);e.XZ(h);gn.py(r,e.gg,h);e.get(F);return}if(r.type==m.rj){var P=r.alq,B=r.xy;ICC.U.applyLUT(P,B,N,F);
var s=N.length;for(var R=0;R<s;R+=4)F[R+3]=N[R+3]}if(r.type==m.A9)w.nt.dm(N,F,r.PB);if(r.type==m.oI){var Y=r.aqu,D=r.OM,c=r.Uz,o=r.a6M,s=N.length;
for(var R=0;R<s;R+=4){var h=N[R]*(1/255),H=N[R+1]*(1/255),x=N[R+2]*(1/255),Q=w.ZU(h,H,x),U=0;for(var I=0;
I<6;I++)U+=Math.min(1,1.7*(1-Q.rT))*Q.ou*r.acg[I]*gn.anU(Q.Nf,I*(1/6));var l=Math.max(0,Math.min(1,Q.rT*(1+U)));
if(r.EJ==1){var p=0;if(l<c)p=l*(.5/D);else if(l<o)p=l+Y*(.5-D);else p=1-(1-l)*.5/(1-D);Q.Nf=r.agt;Q.ou=Math.min(1,Y+3*Y*Math.abs(l-.5*(c+o)));
Q.rT=p}else{Q.Nf=0;Q.ou=0;Q.rT=l}var j=w.FK(Q.Nf,Q.ou,Q.rT);F[R]=Math.round(j.Z*255);F[R+1]=Math.round(j.z*255);
F[R+2]=Math.round(j.J*255)}}if(r.type==m._1){var T=r.apL,s=N.length,V=1/255;for(var R=0;R<s;R+=4){var h=N[R]*V,H=N[R+1]*V,x=N[R+2]*V,Q=w.ZU(h,H,x),E=Math.max(h,Math.max(H,x)),_=Math.min(h,Math.min(H,x)),f=1-h,S=1-H,L=1-x,y=0,$=0,Z=0;
for(var I=0;I<9;I++){var i=I*6,u=0;if(T[i]==1&&T[i+1]==1&&T[i+2]==1&&T[i+3]==0&&T[i+4]==0&&T[i+5]==0)continue;
var b=f*T[i]+T[i+3],G=S*T[i+1]+T[i+4],g=L*T[i+2]+T[i+5];if(I<6)u=gn.anU(Q.Nf,I*(1/6))*Q.ou*2*Math.min(Q.rT,1-Q.rT);
else if(I==6)u=Math.max(0,_-.5)*2;else if(I==7)u=1-(Math.abs(E-.5)+Math.abs(_-.5));else u=Math.max(0,.5-E)*2;
y+=(Math.max(0,Math.min(1,b))-f)*u;$+=(Math.max(0,Math.min(1,G))-S)*u;Z+=(Math.max(0,Math.min(1,g))-L)*u}f=Math.max(0,Math.min(1,f+y));
S=Math.max(0,Math.min(1,S+$));L=Math.max(0,Math.min(1,L+Z));h=1-f;H=1-S;x=1-L;F[R]=Math.round(h*255);
F[R+1]=Math.round(H*255);F[R+2]=Math.round(x*255)}}if(r.type==m.Gj){w.a6Y(N,F,r.BF,r.L_,r.$T,r.WO,r.Uv)}if(r.type==m.tF){var A=new Uint32Array(N.buffer),a=new Uint32Array(F.buffer),s=A.length;
if(gn.u$==null){gn.u$=new Float64Array(256);for(var R=0;R<256;R++)gn.u$[R]=gn.eG(-1+2*R/255)}var d=gn.u$;
for(var R=0;R<s;R++){var K=A[R],h=(K&255)*(1/255),H=(K>>>8&255)*(1/255),x=(K>>>16&255)*(1/255),n=K>>>24,t=Math.min(h,H,x),X=Math.max(h,H,x),aK=0,fg=0,k=0;
aK=w.ZU(h,H,x).Nf;var hG=~~(aK*255+.5),eE=r.auY[hG]*(1/255),hW=r.Wq[hG]*(1/255)*2-1,hh=r.acU[hG]*(1/255)*2-1,U=-hh,hI=t;
if(0<hh){U=hh;hI=X}var db=r.af8+r.wB*U*hI,by=r.wB*(1-U);h=db+by*h;H=db+by*H;x=db+by*x;X=Math.max(h,H,x);
t=Math.min(h,H,x);k=(X+t)*.5;if(X!=t){var jM=X-t;fg=k>.5?jM/(2-(X+t)):jM/(X+t)}var fP=hW;if(r.arR==0){hW=d[Math.floor((1+hW)*127.5)];
fP=Math.min(fg*(1+hW),1)}var j=w.FK(eE,fP,k);h=j.Z;H=j.z;x=j.J;a[R]=n<<24|x*255<<16|H*255<<8|h*255}}if(r.type==m.pa){w.ZF(N,F);
var A=new Uint32Array(N.buffer),a=new Uint32Array(F.buffer),s=A.length,hB=r.Cr,iu=1/hB,be={qN:r._v[0],O$:r._v[1],J:r._v[2]},bp={qN:r.fG[0],O$:r.fG[1],J:r.fG[2]};
for(var R=0;R<s;R++){var K=A[R],ij=K&255,fT=K>>>8&255,ei=K>>>16&255,h=ij*(1/255),H=fT*(1/255),x=ei*(1/255),n=K>>>24,bz=w.b7(ij,fT,ei),aM=w.IO(bz,be,bp,hB,iu);
if(aM==0)continue;var Q=w.ZU(h,H,x),eE=2+Q.Nf+r.shift[0];Q.Nf=eE-~~eE;Q.ou=Math.max(0,Math.min(1,Q.ou+r.shift[1]));
Q.rT=Math.max(0,Math.min(1,Q.rT+r.shift[2]));var j=w.FK(Q.Nf,Q.ou,Q.rT);h=(1-aM)*h+aM*j.Z;H=(1-aM)*H+aM*j.z;
x=(1-aM)*x+aM*j.J;a[R]=n<<24|x*255<<16|H*255<<8|h*255}}if(r.type==m.rh){var A=new Uint32Array(N.buffer),a=new Uint32Array(F.buffer),s=A.length,hw=r.Xa[0],hx=r.Xa[1],fm=r.Xa[2],U=r.Xa[3],dE=w.nt.HS([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),gD=w.nt.iL(dE),c2=2.4;
console.log(gD);function B(jh){return Math.max(0,Math.min(1,jh))}function bQ(jh){return Math.pow(jh,c2)}function f9(jh){return Math.pow(jh,1/c2)}function jR(h,H,x,jh){h=bQ(h);
H=bQ(H);x=bQ(x);var k6=w.nt.LS(dE,[h,H,x,1]);k6[0]*=fm;k6[1]*=U;k6[2]*=U;var j=w.nt.LS(gD,k6);j[0]=f9(B(j[0]));
j[1]=f9(B(j[1]));j[2]=f9(B(j[2]));return j}for(var R=0;R<s;R++){var K=A[R],h=(K&255)*(1/255),H=(K>>>8&255)*(1/255),x=(K>>>16&255)*(1/255),n=K>>>24,j=jR(h,H,x,hw);
h=j[0];H=j[1];x=j[2];var gP=w.ZU(h,H,x);gP.ou=Math.max(0,Math.min(1,gP.ou*(1+hx)));j=w.FK(gP.Nf,gP.ou,gP.rT);
h=j.Z;H=j.z;x=j.J;a[R]=n<<24|x*255<<16|H*255<<8|h*255}}};gn.py=function(r,N,F){M._w.py(r,N)};gn.anU=function(r,N){var F=w.CX(N,r)*6;
return Math.max(0,Math.min(1,F<0?1+F:1-F))};var df={};df.qG=function(r){var N=r.filterID.v;return N>16777215?J.a4Q(N):r.Fltr.v.classID};
df.eC=[{PL:"GEfc"},{PL:"LnCr"},{PL:"LqFy",At:!0},{vS:"3D",eE:["lightFilterGradient"]},{vS:[24,2],eE:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{vS:[24,4],eE:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{vS:[24,6],eE:["AdNs","Dspc","DstS","Mdn ","denoise"]},{vS:[24,8],eE:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{vS:[24,10],eE:["Flam","Clds","DfrC","Fbrs","LnsF"]},{vS:[24,12],eE:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{vS:[24,14],eE:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{vS:[24,16],eE:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{vS:"Fourier",eE:["dDFT","iDFT"]}];
df.Eh={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
df.au1={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
df.P={rigidTransform:z.$g};df.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Kale:"Kaleidoscope",Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
df.T$=function(r){var N=null;if(r=="GEfc")N={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:aD.T$("GlwE")}]}};
if(r=="LqFy"){var F={YW:5,Nf:5,map:new Float32Array(5*5*2)},h=new Uint8Array(ca.u_(F)),m=[];for(var R=0;
R<h.length;R++)m.push(h[R]);N={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:m}}}if(r=="rigidTransform"){N={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(r=="LnCr")N={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(r=="adaptCorrect")N={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(r=="Dfs ")N={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(r=="Fbrs")N={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(r=="Embs")N={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(r=="oilPaint")N={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(r=="TrcC")N={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(r=="Wnd ")N={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(r=="lightFilterGradient")N={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(r=="boxblur")N={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(r=="GsnB")N={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(r=="Bokh")N={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(r=="MtnB")N={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(r=="RdlB")N={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(r=="surfaceBlur")N={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(r=="denoise")N={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(r=="Dspl")N={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(r=="Pnch")N={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(r=="Plr ")N={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(r=="Rple")N={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(r=="Shr ")N={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(r=="Sphr")N={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(r=="Twrl")N={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(r=="Wave")N={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(r=="ZgZg")N={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(r=="AdNs")N={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(r=="DstS")N={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(r=="Mdn ")N={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(r=="ClrH")N={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(r=="Crst")N={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(r=="Mztn")N={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(r=="Msc ")N={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(r=="Pntl")N={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(r=="LnsF")N={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(r=="Dthr")N={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(r=="Adobe Camera Raw Filter")N={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(r=="smartSharpen")N={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(r=="UnsM")N={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(r=="HghP")N={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(r=="HsbP")N={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(r=="Mxm ")N={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(r=="Mnm ")N={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(r=="Ofst")N={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(r=="Kale")N={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(r=="Rept")N={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(r=="Flam")N={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(r=="Ctoa")N={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(r=="brit")N={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(r=="levl")N={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(r=="curv")N={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(r=="expA")N={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(r=="vibA")N={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(r=="hue2")N={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(r=="blnc")N={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(r=="blwh")N={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(r=="phfl")N={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(r=="grdm")N={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(an.O7[6]).Grad};
if(r=="selc")N={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(r=="thrs")N={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(r=="mixr")N={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(r=="clrL")N={__name:"Color Lookup",classID:"colorLookup"};if(r=="post")N={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(r=="rplc")N={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(r=="fade")N={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(r=="aply")N={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(r=="matc"){N={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(r=="blendOptions")N={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return N};df.aZ={sFlam:function(r,N){N[0]=r.Type.v;N[1]=r.Leng.v;N[2]=r.RndL.v;N[3]=r.Widt.v;N[4]=r.Angl.v;
N[5]=r.Intr.v;N[6]=r.Adpt.v;N[7]=r.Clr.v;N[8]=r.Qual.v;N[9]=r.Turb.v;N[10]=r.Jag.v;N[11]=r.Opct.v.val;
N[12]=r.Lins.v;N[13]=r.Botm.v;N[14]=r.Styl.v;N[15]=r.Shap.v;N[16]=r.RnSh.v;N[17]=r.Arng.v},gFlam:function(r,N){r.Type.v=N[0];
r.Leng.v=N[1];r.RndL.v=N[2];r.Widt.v=N[3];r.Angl.v=N[4];r.Intr.v=N[5];r.Adpt.v=N[6];r.Clr.v=N[7];r.Qual.v=N[8];
r.Turb.v=N[9];r.Jag.v=N[10];r.Opct.v.val=N[11];r.Lins.v=N[12];r.Botm.v=N[13];r.Styl.v=N[14];r.Shap.v=N[15];
r.RnSh.v=N[16];r.Arng.v=N[17]},sAdNs:function(r,N){N[0]=r.Nose.v.val;N[1]=["Gsn","Unfr"].indexOf(r.Dstr.v.Dstr);
N[2]=r.Mnch.v},gAdNs:function(r,N){r.Nose.v.val=N[0];r.Dstr.v.Dstr=["Gsn","Unfr"][N[1]];r.Mnch.v=N[2]},sDstS:function(r,N){N[0]=r.Rds.v;
N[1]=r.Thsh.v},gDstS:function(r,N){r.Rds.v=N[0];r.Thsh.v=N[1]},sGsnB:function(r,N){N[0]=r.Rds.v.val},gGsnB:function(r,N){r.Rds.v.val=N[0]},sHghP:function(r,N){N[0]=r.Rds.v.val},gHghP:function(r,N){r.Rds.v.val=N[0]},sHsbP:function(r,N){var F=["RGBC","HSBl","HSLC"];
N[0]=F.indexOf(r.Inpt.v.ClrS);N[1]=F.indexOf(r.Otpt.v.ClrS)},gHsbP:function(r,N){var F=["RGBC","HSBl","HSLC"];
r.Inpt.v.ClrS=F[N[0]];r.Otpt.v.ClrS=F[N[1]]},"sMxm ":function(r,N){var F="preserveShape";N[0]=r.Rds.v.val;
N[1]=r[F]?["squareness","Rndn"].indexOf(r[F].v[F]):0},"gMxm ":function(r,N){var F="preserveShape";r.Rds.v.val=N[0];
r[F]={t:"enum",v:{preserveShape:["squareness","Rndn"][N[1]]}}},"sMnm ":function(r,N){var F="preserveShape";
N[0]=r.Rds.v.val;N[1]=r[F]?["squareness","Rndn"].indexOf(r[F].v[F]):0},"gMnm ":function(r,N){var F="preserveShape";
r.Rds.v.val=N[0];r[F]={t:"enum",v:{preserveShape:["squareness","Rndn"][N[1]]}}},sMtnB:function(r,N){N[0]=[r.Angl.v];
N[1]=r.Dstn.v.val;console.log(N)},gMtnB:function(r,N){r.Angl.v=typeof N[0]=="number"?N[0]:N[0][0];r.Dstn.v.val=N[1]},sOfst:function(r,N){N[0]=r.Hrzn.v;
N[1]=r.Vrtc.v;N[2]=["Rpt","Bckg","Wrp"].indexOf(r.Fl.v.FlMd)},gOfst:function(r,N){r.Hrzn.v=N[0];r.Vrtc.v=N[1];
r.Fl.v.FlMd=["Rpt","Bckg","Wrp"][N[2]]},sPnch:function(r,N){N[0]=r.Amnt.v},gPnch:function(r,N){r.Amnt.v=N[0]},"sPlr ":function(r,N){N[0]=["RctP","PlrR"].indexOf(r.Cnvr.v.Cnvr)},"gPlr ":function(r,N){r.Cnvr.v.Cnvr=["RctP","PlrR"][N[0]]},sRple:function(r,N){N[0]=r.Amnt.v;
N[1]=["Sml","Mdm","Lrg"].indexOf(r.RplS.v.RplS)},gRple:function(r,N){r.Amnt.v=N[0];r.RplS.v.RplS=["Sml","Mdm","Lrg"][N[1]]},sTwrl:function(r,N){N[0]=r.Angl.v},gTwrl:function(r,N){r.Angl.v=N[0]},sZgZg:function(r,N){N[0]=r.Amnt.v;
N[1]=r.NmbR.v;N[2]=["ArnC","OtFr","PndR"].indexOf(r.ZZTy.v.ZZTy)},gZgZg:function(r,N){r.Amnt.v=N[0];
r.NmbR.v=N[1];r.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][N[2]]},sUnsM:function(r,N){N[0]=r.Amnt.v.val;N[1]=r.Rds.v.val;
N[2]=r.Thsh.v},gUnsM:function(r,N){r.Amnt.v.val=N[0];r.Rds.v.val=N[1];r.Thsh.v=N[2]}};df.af5=function(r){var N=new gS(0,0);
if(r.enab.v==!1)return N;var F=r.filterFXList.v;for(var R=0;R<F.length;R++){var h=F[R].v;if(h.enab.v==!1)continue;
var m=df.qG(h),O=df.GF(m,h.Fltr?h.Fltr.v:null);if(O.x>N.x)N.x=O.x;if(O.y>N.y)N.y=O.y}return N};df.GF=function(r,N){var F=0,h=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(r)!=-1){var m=N.Rds?N.Rds.v.val:1;F=h=m*2.57}if(r=="MtnB")F=h=N.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(r)!=-1){F=h=1e4}if(r=="GEfc")return aD.GF(N);
return new gS(Math.ceil(F),Math.ceil(h))};df.tB=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
df.z6=function(r,N){var F={Z:N.Fp>>16,z:N.Fp>>8&255,J:N.Fp&255},h={Z:N.lo>>16,z:N.lo>>8&255,J:N.lo&255},m=df.names[r];
if(m==null)m=gn.names[r];var O=r;for(var e in gn.L4)if(gn.L4[e]==r)O=e;var P={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:ab.get(m)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:w.X.QA(F)},BckC:{t:"Objc",v:w.X.QA(h)},filterID:{t:"long",v:O.length==4?J.a57(O):777}}},B=df.T$(r);
if(B)P.v.Fltr={t:"Objc",v:B};return P};df.rk=function(r,N,F,h){var m=Date.now(),O=M._X&&Math.max(h.e,h.n)<=M.Az.getParameter(M.Az.MAX_TEXTURE_SIZE);
if(r<1){var e=Math.round(r*5),P=[1,2,1,2,[40,26,13,6,4,2][e],2,1,2,1];P=w.gL.yC(P);if(!O){w.pg(F);var B=F.slice(0);
w.gL.ha(B,F,h.e,h.n,P,255);w.l4(F)}else{var s=h.e,Y=h.n,D=M.YO(0,s,Y);D.set(F);var c=M.YO(1,s,Y),o=new Float32Array([1/s,1/Y]);
M.y9(c);M.filter.py({type:M.filter.a25,Ub:o,a31:new Float32Array(P)},D.UX);c.get(F)}}else{var H=N==w.Hu.Rb?0:N==w.Hu.hd?1:2,x=[];
while(H!=2&&r*[1,2.4][H]>20&&x.length<4){var Q=w.Ck(F,h);x.push(F,h);F=Q.iS;h=Q.rect;r/=2}var s=h.e,Y=h.n;
if(!O||H==2&&r>15){w.pg(F);N(F,h,r);w.l4(F)}else{var D=M.YO(0,s,Y);D.set(F);var c=M.YO(1,s,Y),o=new Float32Array([1/s,1/Y]);
if(H==0){var U=1;while(U<r)U<<=1;M.y9(c);M.filter.py({type:M.filter.za,Ub:o,IR:r,fJ:[0,0,U]},D.UX);M.y9(D);
M.filter.py({type:M.filter.za,Ub:o,IR:r,fJ:[0,1,U]},c.UX);D.get(F)}else if(H==1){var I=3,l=w.Hu.uk(r,I);
for(var R=0;R<I;R++){var p=l[R]>>>1,j=1;while(j<p)j<<=1;if(p==0)continue;M.y9(c);M.filter.py({type:M.filter.za,Ub:o,IR:p,fJ:[0,0,j]},D.UX);
M.y9(D);M.filter.py({type:M.filter.za,Ub:o,IR:p,fJ:[0,1,j]},c.UX)}D.get(F)}else{var U=1;while(U<r)U<<=1;
M.y9(c);M.filter.py({type:M.filter.za,Ub:o,IR:r,fJ:[0,0,U]},D.UX);c.get(F)}}var T=Date.now();while(x.length!=0){var V=x.pop(),E=x.pop();
w.scale.ad8(F,h.e,h.n,E,V.e,V.n);F=E;h=V}}};df.aqf=function(r,N,F,h){for(var R=0;R<r.length;R++){F[R]=r[R]*(1/255);
h[R]=0}FFT.fft2d(F,h);var m=N>>>1,O=16384,e=128,B=100;while(e<N){e<<=1;O<<=2}var P=255/Math.log(O),s=-100;
for(var Y=0;Y<N;Y++)for(var D=0;D<m;D++){var c=N+m+Y&N-1,o=F[c*N+D],H=h[c*N+D],x=Math.sqrt(o*o+H*H),Q=Math.atan2(H,o);
r[Y*N+D]=Math.round(P*Math.log(x+1));r[Y*N+m+D]=Math.round((Math.PI+Q)*(255*.5/Math.PI))}};df.aoi=function(r,N,F,h){F.fill(0);
h.fill(0);var m=N>>>1,O=16384,e=128;while(e<N){e<<=1;O<<=2}var P=255/Math.log(O),B=[],s=[],Y=[];for(var R=0;
R<256;R++){B[R]=Math.exp(R/P)-1;var D=R*(2*Math.PI/255)-Math.PI;s[R]=Math.sin(D);Y[R]=Math.cos(D)}for(var c=0;
c<N;c++)for(var o=0;o<m;o++){var H=N+m+c&N-1,x=B[r[c*N+o]],D=r[c*N+m+o],Q=x*Y[D],U=x*s[D];F[H*N+o]=Q;
h[H*N+o]=U;if(o!=0){var I=H==0?H*N+N-o:(N-H)*N+(N-o);F[I]=Q;h[I]=-U}}FFT.ifft2d(F,h);for(var R=0;R<r.length;
R++){r[R]=Math.max(0,Math.min(255,~~(.5+255*F[R])))}};df.auE=new ArrayBuffer(512);df.al1=function(r){var N=df.auE,F=r.length;
if(N.byteLength<F)df.auE=N=new ArrayBuffer(F);var h=new Uint8Array(N);for(var R=0;R<F;R+=4){h[R]=r[R];
h[R+1]=r[R+1];h[R+2]=r[R+2];h[R+3]=r[R+3]}return N};df.dR=function(r,N,F,h,m,O,e){if(O==null)O={buffer:w.B(N.buffer.length),rect:N.rect.clone()};
w.ZF(N.buffer,O.buffer);var P=F&&F.RndS?F.RndS.v>>>1:0;if(r=="GEfc"){var B=[];if(F.GEfs){var s=F.GEfs.v;
for(var R=0;R<s.length;R++){var Y=s[R].v;if(Y.GELv&&Y.GELv.v==!1)continue;B.push(Y)}}else B=[F];for(var R=0;
R<B.length;R++){var D;if(R==0)aD.dR(r,N,B[R],h,m,O,e);else{if(D==null)D={buffer:w.B(N.buffer.length),rect:N.rect.clone()};
w.ZF(O.buffer,D.buffer);aD.dR(r,D,B[R],h,m,O,e)}}}if(r=="Adobe Camera Raw Filter"){var c=N.rect,o=c.e,x=c.n,Q=o*x,U=Q*4,I=Q*3,l=new Float32Array(o*x*3),p=N.buffer;
for(var R=0;R<Q;R++){var j=R*3,T=R*4;l[j]=p[T]*(1/255);l[j+1]=p[T+1]*(1/255);l[j+2]=p[T+2]*(1/255)}var V=JSON.parse(JSON.stringify(F));
delete V.Upri;delete V.GuUr;var E=l.slice(0);l=E;p=O.buffer;for(var R=0;R<Q;R++){var j=R*3,T=R*4;p[T]=255*Math.max(0,Math.min(1,l[j]));
p[T+1]=255*Math.max(0,Math.min(1,l[j+1]));p[T+2]=255*Math.max(0,Math.min(1,l[j+2]))}}if(r=="adaptCorrect"){var c=N.rect,o=c.e,x=c.n,Q=o*x,U=Q*4,_=F.sdwM.v,f=_.Amnt.v.val/100,S=_.Wdth.v.val/100,L=_.Rds.v,y=F.hglM.v,$=y.Amnt.v.val/100,Z=y.Wdth.v.val/100,i=y.Rds.v;
w._i.ab0(N.buffer,O.buffer,o,x,f,S,L,$,Z,i,F.ClrC.v/100,F.Cntr.v/100)}if(r=="denoise"){var c=N.rect,o=c.e,x=c.n,b=F.channelDenoise.v[0].v;
w.Pi.ape(N.buffer,o,x,O.buffer,b.Amnt.v/10,b.EdgF.v/100)}if(r=="HsbP"){var G=F.Inpt.v.ClrS,g=F.Otpt.v.ClrS,c=N.rect,o=c.e,x=c.n,Q=o*x;
for(var R=0;R<Q;R++){var T=R*4,u=N.buffer[T]*(1/255),A=N.buffer[T+1]*(1/255),a=N.buffer[T+2]*(1/255);
if(G=="RGBC"){}else if(G=="HSLC"){var E=w.FK(u,A,a);u=E.Z;A=E.z;a=E.J}else if(G=="HSBl"){var E=w.a8e(u,A,a);
u=E.Z;A=E.z;a=E.J}var d=u,K=A,n=a;if(g=="RGBC"){}else if(g=="HSLC"){var E=w.ZU(u,A,a);d=E.Nf;K=E.ou;
n=E.rT}else if(g=="HSBl"){var E=w.a4l(u,A,a);d=E.Nf;K=E.ou;n=E.J}O.buffer[T]=~~(255*d);O.buffer[T+1]=~~(255*K);
O.buffer[T+2]=~~(255*n)}}if(r=="Fbrs"){var c=N.rect,o=c.e,x=c.n;w.K._D(N.buffer,o,x,O.buffer,[F.Vrnc.v,F.Strg.v,P]);
var t=w.B(o*x);w.Pw(O.buffer,t,0);w.iL(t);aD.f0(t,O.buffer,h,m)}if(r=="Frgm"){var c=N.rect,o=c.e,x=c.n,X=N.buffer.slice(0);
w.pg(X);w.K.asC(X,o,x,O.buffer);w.l4(O.buffer)}if(r=="Flam"){var c=N.rect,o=c.e,x=c.n,aK=F.Clr.v,fg={type:F.Type.v+1,length:F.Leng.v,apN:F.RndL.v,UJ:F.Widt.v,att:F.Angl.v,a5P:F.Intr.v,apO:F.Adpt.v,color:{Z:aK.Rd.v,z:aK.Grn.v,J:aK.Bl.v},Y3:F.Qual.v+1,I8:F.Turb.v,Qu:F.Jag.v,opacity:F.Opct.v.val,On:F.Lins.v,ag6:F.Botm.v,style:F.Styl.v+1,shape:F.Shap.v+1,anG:F.RnSh.v,arI:F.Arng.v,ak3:!1},k=e[3],hG=k[0],eE=k[1],hW=hG[eE.length!=0?eE[0]:0];
if(hW==null){alert("Make a path first");return}var hh=hW.add.vmsk.Y,hI=w.H.jE(hh),db=[];for(var by=0;
by<hI;by++){var jM=w.H.Au(hh,by),fP=hh[jM];if(fP.length<2)continue;var hB=[];db.push(hB);var iu=fP.length-(fP.type==3?1:0);
for(var be=0;be<iu;be++){var bp=hh[jM+1+be],ij=be==fP.length-1?hh[jM+1]:hh[jM+1+be+1],fT=bp.F,ei=bp.lW,bz=ij.Q$,aM=ij.F,hw=Math.round(gS.Mz(fT,aM)/5);
for(var hx=0;hx<hw;hx++){var fm=hx/hw,dE=1-fm,gD=dE*dE*dE*fT.x+3*dE*dE*fm*ei.x+3*dE*fm*fm*bz.x+fm*fm*fm*aM.x,c2=dE*dE*dE*fT.y+3*dE*dE*fm*ei.y+3*dE*fm*fm*bz.y+fm*fm*fm*aM.y;
hB.push(gD,c2)}}}var bQ=[db,fg],f9=Date.now(),jR=cl(bQ);b$(N.buffer,o,x,O.buffer,jR,bQ)}if(r=="Dfs "){var c=N.rect,o=c.e,x=c.n,gP=["Nrml","DrkO","LghO","anisotropic"].indexOf(F.Md.v.DfsM);
if(gP<3)w.K.abH(N.buffer,o,x,O.buffer,[gP]);else{var bQ=[1.4,1.6,1,4,!1,2,[0,0,.001]],c=N.rect.clone();
c.x=c.y=0;w.cA.filter(N.buffer,c,O.buffer,bQ)}}if(r=="TrcC"){var c=N.rect,o=c.e,k6=o<<2,x=c.n,eZ=F.Lvl.v,b5=F.Edg.v.CntE=="Lwr",fG=N.buffer,jG=O.buffer;
w.T1(jG,16777215,4278190080);function i_(iV,h$){jk(iV,h$);jk(iV+1,h$+1);jk(iV+2,h$+2)}function aY(iV,h$){ih(iV,h$);
ih(iV+1,h$+1);ih(iV+2,h$+2)}function jk(iV,h$){var d=fG[iV],K=fG[h$];if(d>=eZ&&K<eZ)jG[iV]=0;if(d<eZ&&K>=eZ)jG[h$]=0}function ih(iV,h$){var d=fG[iV],K=fG[h$];
if(d>eZ&&K<=eZ)jG[h$]=0;if(d<=eZ&&K>eZ)jG[iV]=0}if(b5)for(var c2=1;c2<x;c2++)for(var gD=1;gD<o;gD++){var T=c2*o+gD<<2;
i_(T,T-4);i_(T,T-k6)}else for(var c2=1;c2<x;c2++)for(var gD=1;gD<o;gD++){var T=c2*o+gD<<2;aY(T,T-4);
aY(T,T-k6)}}if(r=="Embs"){var c=N.rect,o=c.e,x=c.n,jr=-F.Angl.v*Math.PI/180,hV=F.Hght.v,ds=F.Amnt.v/100;
hV/=2;var jA=Math.cos(jr)*hV,eI=Math.sin(jr)*hV,fG=N.buffer,jG=O.buffer;jG.fill(0);var hH=new Uint32Array(fG.buffer),E=new Uint8Array(4),bO=new Uint32Array(E.buffer);
for(var c2=0;c2<x;c2++)for(var gD=0;gD<o;gD++){var k7=0,dO=0,cG=0;if(0<=gD+jA&&gD+jA<o&&0<=c2+eI&&c2+eI<x){w.N.xE(gD+jA+.5,c2+eI+.5,hH,o,x,bO,0,0);
k7+=E[0]-128;dO+=E[1]-128;cG+=E[2]-128}if(0<=gD-jA&&gD-jA<o&&0<=c2-eI&&c2-eI<x){w.N.xE(gD-jA+.5,c2-eI+.5,hH,o,x,bO,0,0);
k7-=E[0]-128;dO-=E[1]-128;cG-=E[2]-128}var T=c2*o+gD<<2;jG[T]=Math.max(0,Math.min(255,k7*ds+128));jG[T+1]=Math.max(0,Math.min(255,dO*ds+128));
jG[T+2]=Math.max(0,Math.min(255,cG*ds+128));jG[T+3]=fG[T+3]}}if(r=="ShrE"){var c=N.rect,o=c.e,x=c.n;
w.K.ak4(N.buffer,o,x,O.buffer)}if(r=="Dspc"){var c=N.rect,o=c.e,x=c.n;w.K.a9U(N.buffer,o,x,O.buffer)}if(r=="Slrz"){var cV=O.buffer,g3=128;
for(var R=0;R<cV.length;R+=4){if(cV[R]>g3)cV[R]=255-cV[R];if(cV[R+1]>g3)cV[R+1]=255-cV[R+1];if(cV[R+2]>g3)cV[R+2]=255-cV[R+2]}}if(r=="Wnd "){var c=N.rect,o=c.e,x=c.n,gh=["Wnd","Blst","Stgr"],bH=F.WndM.v.WndM;
w.K.i7(N.buffer,o,x,O.buffer,[gh.indexOf(bH),F.Drct.v.Drct!="Left"])}if(r=="Bokh"){var c=N.rect,o=c.e,x=c.n,Q=o*x,U=Q*4,gF=N.buffer.slice(0),hu=F.BkDi.v.BtDi,aB=F.BkDc,c8=F.BkDs.v,bM=F.BkDp.v/255;
if(hu=="BeIn")bM=0;var ig=57*(.3+.7*((o+x)/2)/1750)*(F.BkIb.v/100)*(1+.2*Math.pow(bM,.1)),j_=parseInt(F.BkIs.v.BtIs.slice(3)),fe=-F.BkIr.v*Math.PI/180,e6=[];
for(var R=0;R<8;R++){var iy=fe+R*(Math.PI*2/j_),jc=fe+(R+1)*(Math.PI*2/j_),bm=Math.cos(iy),cu=Math.sin(iy),fC=Math.cos(jc),cm=Math.sin(jc),i4=[0,0,0];
w.PB.QM([[bm,cu,1,0],[fC,cm,1,0],[1,1,1,1]],i4);if(i4[2]>0){i4[0]*=-1;i4[1]*=-1;i4[2]*=-1}e6.push(i4[0],i4[1],i4[2],0)}if(hu=="BeIn"){w.T1(gF,0,16777215);
bM=1}else if(hu=="BeIt"&&aB.v.BtDc=="BeCt"){}else{var fz;if(hu=="BeIt"&&aB.v.BtDc=="BeCm")fz=e[1];else if(hu=="BeIa")fz=e[2][aB.v];
if(fz==null){w.T1(gF,0,16777215)}else{var iB;if(fz.rect.cj(c))iB=fz.channel;else iB=fz.L7(c);w.vr(iB,gF,3)}}if(c8)for(var R=0;
R<U;R+=4)gF[R+3]=255-gF[R+3];if(M._X){var g5=gF,cv=o,il=x,js=1,iH=(F.BkSb.v==0||F.BkSt.v==255)&&hu=="BeIn";
if(!iH){var ju=0;for(var R=0;R<U;R+=4)ju+=Math.abs(bM-gF[R+3]*(1/255));ju=ju/Q*ig;var jQ=3.14*ju*ju*o*x/3e6;
if(jQ>2e3){alert("too large radius");return}}while(iH&&3*(ig/js)*(ig/js)*o*x>500*2e3*2e3){var cD=w.rM(gF,new fE(0,0,cv,il));
gF=cD.iS;cv=cD.rect.e;il=cD.rect.n;js*=2}var f9=Date.now(),dZ=M.YO(0,cv,il);dZ.set(gF);var au=M.YO(1,o,x);
M.y9(au);M.filter.py({type:M.filter.a33,Ub:new Float32Array([1/cv,1/il]),aq9:bM,To:ig/js,au6:new Float32Array([F.BkSb.v/100,F.BkSt.v/255]),a6E:new Float32Array([F.BkNa.v/100,F.BkNt.v.BtNt=="BeNu"?0:1,F.BkNm.v?1:0]),amn:new Float32Array(e6.slice(0,16)),a5_:new Float32Array(e6.slice(16))},dZ.UX);
au.get(O.buffer);var dX=O.buffer;for(var R=0;R<U;R+=4)dX[R+3]=N.buffer[R+3]}}if(r=="rigidTransform"){var f9=Date.now(),gW=df.al1,dZ=N.buffer.slice(0),cr=0,eQ=0;
w.pg(dZ);w.T1(O.buffer,0);var o=N.rect.e,x=N.rect.n,bX=F.puppetShapeList.v,gG=[],dT=[],fu=[],iJ=[];for(var be=0;
be<bX.length;be++){var gj=bX[be].v,aH=cr*2,j=eQ*3,d3=gj.originalVertexArray.v.length>>>2,jD=gj.indexArray.v.length>>>2,b0=new Float32Array(gW(gj.originalVertexArray.v));
for(var R=0;R<d3;R++)gG[aH+R]=b0[R];var j0=new Float32Array(gW(gj.deformedVertexArray.v));for(var R=0;
R<d3;R++)dT[aH+R]=j0[R];var dA=new Uint32Array(gW(gj.indexArray.v));for(var R=0;R<jD;R++)fu[j+R]=cr+dA[R];
var j9=[],gg=[],gK=gj.PnDp.v;for(var R=0;R<gK.length;R++){j9.push(gj.pinVertexIndices.v[R].v);gg.push(gK[R].v)}var c0=w.AB.a4L(b0,dA,j9,gg);
for(var R=0;R<c0.length;R++)iJ[cr+R]=c0[R];cr+=d3>>>1;eQ+=~~(jD/3)}var u=N.rect,o=u.e,x=u.n;w.AB.nG(dZ,o,x,O.buffer,o,x,gG,dT,iJ,fu);
w.l4(O.buffer)}if(r=="lightFilterGradient"){function hp(fT){var bo=1/Math.sqrt(fT[0]*fT[0]+fT[1]*fT[1]+fT[2]*fT[2]);
fT[0]*=bo;fT[1]*=bo;fT[2]*=bo}var o=N.rect.e,x=N.rect.n,Q=o*x,f9=Date.now(),f_=w.B(Q),K=.3,n=.7;w.oD(O.buffer,f_);
var a8=w.B(Q);w.Hu.UW(f_,a8,O.rect,16);var hU=w.B(Q);w.Hu.UW(f_,hU,O.rect,8);var iR=f_,ah=new Float32Array(Q),gl=F.Dtl.v,ek=gl[2].v,ap=gl[1].v,b1=gl[0].v,bi=F.Scl.v*40*F.textureScale.v/(ek+ap+b1);
ek*=bi;ap*=bi;b1*=bi;for(var R=0;R<Q;R++){var j4=a8[R]*(1/255),fs=hU[R]*(1/255),bI=iR[R]*(1/255);bI=bI*bI;
ah[R]=ek*j4+ap*fs+b1*bI}var jf=F.blur.v;if(jf!=0){var iW=ah.slice(0);w.Hu.gK(iW,ah,O.rect,jf)}var ef=o-1,fd=x-1;
for(var c2=1;c2<fd;c2++)for(var gD=1;gD<ef;gD++){var R=c2*o+gD,T=R*4,de=ah[R],jA=K*(ah[R+1]-de)+n*(de-ah[R-1]),eI=K*(ah[R+o]-de)+n*(de-ah[R-o]),fT=[1,0,jA],ei=[0,1,eI];
hp(fT);hp(ei);var jc=fT[0],ix=fT[2],ba=ei[1],iz=ei[2],f1=-ix*ba,bU=-jc*iz,hr=jc*ba;O.buffer[T]=~~(127.5+f1*127.5);
O.buffer[T+1]=~~(127.5+bU*127.5);O.buffer[T+2]=~~(127.5+hr*127.5)}}if(r=="defr"){var o=N.rect.e,x=N.rect.n;
gk(N.buffer,o,x,O.buffer)}if(r=="dDFT"||r=="iDFT"){function ge(j_){if(j_==0)return 1;j_--;j_|=j_>>1;
j_|=j_>>2;j_|=j_>>4;j_|=j_>>8;j_|=j_>>16;return j_+1}var o=N.rect.e,x=N.rect.n,bl=ge(Math.max(o,x)),iF=bl>>>1,hf=new fE(0,0,bl,bl),iI=new fE(0,0,o,x);
iI.y=bl-x>>>1;var jL=o>>>1,cs=new fE(0,iI.y,jL,x),fn=new w.rX(o*x);w.vg(N.buffer,fn);var cF=new Float64Array(bl*bl),k5=new Float64Array(bl*bl),iB=w.B(bl*bl);
FFT.init(bl);var cB=[fn.Z,fn.z,fn.J];for(var R=0;R<3;R++){var im=cB[R];iB.fill(0);if(r=="dDFT"){w.nZ(im,iI,iB,hf);
df.aqf(iB,bl,cF,k5);w.nZ(iB,hf,im,iI,cs);cs.x+=jL;hf.x-=iF-jL;w.nZ(iB,hf,im,iI,cs);cs.x-=jL;hf.x+=iF-jL}else{w.nZ(im,iI,iB,hf,cs);
cs.x+=iF;iI.x+=iF-jL;w.nZ(im,iI,iB,hf,cs);cs.x-=iF;iI.x-=iF-jL;df.aoi(iB,bl,cF,k5);w.nZ(iB,hf,im,iI)}}w.vJ(fn,O.buffer)}if(r=="Avrg"){var iZ=0,dh=0,gy=0,b7=0,gw=1;
for(var R=0;R<N.buffer.length;R+=4){var jO=N.buffer[R+3];gy+=N.buffer[R]*jO;dh+=N.buffer[R+1]*jO;iZ+=N.buffer[R+2]*jO;
b7+=jO}var g7=1/b7;iZ=Math.round(gw*(iZ*g7)+(1-gw)*255);dh=Math.round(gw*(dh*g7)+(1-gw)*255);gy=Math.round(gw*(gy*g7)+(1-gw)*255);
w.T1(O.buffer,iZ<<16|dh<<8|gy,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(r)!=-1){var dc=F.Rds?F.Rds.v.val:1,eS=r=="boxblur"?w.Hu.Rb:w.Hu.hd;
df.rk(dc,eS,O.buffer,O.rect);if(r=="UnsM"||r=="smartSharpen"){var ds=(F.Amnt?F.Amnt.v.val:200)/100,cc=0;
if(r=="UnsM")cc=F.Thsh.v;else ds*=.75;for(var R=0;R<N.buffer.length;R++){if((R&3)==3){O.buffer[R]=N.buffer[R];
continue}var cR=N.buffer[R],iq=O.buffer[R],h7=ds*(cR-iq);if(h7>0)h7=Math.max(0,h7-cc);else h7=Math.min(0,h7+cc);
O.buffer[R]=Math.max(0,Math.min(255,cR+h7))}}if(r=="HghP")for(var R=0;R<N.buffer.length;R++){if((R&3)==3){O.buffer[R]=N.buffer[R];
continue}var cR=N.buffer[R],iq=O.buffer[R];O.buffer[R]=Math.max(0,Math.min(255,128+cR-iq))}}if(r=="AdNs"){var gb=new Uint8ClampedArray(O.buffer.buffer),h4=255*F.Nose.v.val/100,gZ;
if(F.Dstr.v.Dstr=="Gsn")gZ=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else gZ=function(){return Math.random()*2-1};for(var R=0;R<gb.length;R+=4){var u=gb[R],A=gb[R+1],a=gb[R+2],h_,cY,d$;
if(F.Mnch.v){h_=cY=d$=gZ()}else{h_=gZ();cY=gZ();d$=gZ()}u+=h4*h_;A+=h4*cY;a+=h4*d$;gb[R]=u;gb[R+1]=A;
gb[R+2]=a}}var f9=Date.now();if(r=="Mdn "||r=="DstS"||r=="Mxm "||r=="Mnm "||r=="surfaceBlur"){var u=0,hS=F.Thsh,gj=0;
if(hS)hS=hS.v;else hS=0;if(r=="Mdn "||r=="Mxm "||r=="Mnm "||r=="surfaceBlur")u=F.Rds.v.val;else u=F.Rds.v;
var jV=F.preserveShape;if(jV&&jV.v.preserveShape=="Rndn")gj=1;var o=N.rect.e,x=N.rect.n,cC=["Mnm ","Mxm ","surfaceBlur"].indexOf(r),hl=(gj==0?1:.75)*[.73,.73,1][cC]*(o*x*u*u)/1722387,f5=[.73,.9,1.4][cC]*(o*x*Math.sqrt(u))/6500;
if(M._X&&cC!=-1&&(hl<f5||gj==1)&&hl<1500){var dZ=M.YO(0,o,x);dZ.set(N.buffer);var D=M.YO(1,o,x);M.y9(D);
M.filter.py({type:M.filter.apB,Ub:new Float32Array([1/o,1/x]),To:u,a95:hS/255,fJ:[gj,cC,10*Math.ceil(u/10)]},dZ.UX);
D.get(O.buffer)}else{u=Math.round(u);w.Yf.Di=.5;var eS=w.Yf.Z3;if(r=="Mxm ")eS=w.Yf.FQ;if(r=="Mnm ")eS=w.Yf.MM;
if(r=="surfaceBlur")eS=w.Yf.VC;w.Yf._9(N.buffer,O.buffer,o,x,u,eS,[hS]);if(r=="DstS")for(var R=0;R<o*x*4;
R++){var e2=Math.abs(N.buffer[R]-O.buffer[R]);if(e2<=hS)O.buffer[R]=N.buffer[R]}}}if(r=="ClrH"){var cs=N.rect.clone();
cs.x=cs.y=0;var u=F.Rds.v;u=Math.round(u*Math.sqrt(2));var o=cs.e,x=cs.n,fn=new w.rX(o*x);w.vg(N.buffer,fn);
w.iL(fn.Z);w.iL(fn.z);w.iL(fn.J);var dH=w.Cl(o,x),dX=w.B(o*x*4);for(var fW=0;fW<3;fW++){var iB=fW==0?fn.Z:fW==1?fn.z:fn.J,jr=Math.PI*F["Ang"+(fW+1)].v/180,fa=new hc(1/u,0,0,1/u,0,0);
fa.rotate(jr);w.vr(iB,dX,3);var E=z.Q.iG([dX,cs],fa,!0),iI=E.rect;dH.clearRect(0,0,o,x);var ff=Math.sin(jr),ga=Math.cos(jr);
for(var R=0;R<iI.n;R++)for(var hx=0;hx<iI.e;hx++){var gD=(hx+iI.x+.5)*u,c2=(R+iI.y+.5)*u,h1=gD,eg=c2;
gD=ga*h1-ff*eg;c2=ff*h1+ga*eg;var Q=E.buffer[(R*iI.e+hx<<2)+3]*(1/255),dc=u*Math.sqrt(Q*(1/Math.PI));
dH.beginPath();dH.arc(gD,c2,dc,0,2*Math.PI);dH.fill()}var cX=dH.getImageData(0,0,o,x);w.Pw(cX.data,iB,3)}w.iL(fn.Z);
w.iL(fn.z);w.iL(fn.J);w.vJ(fn,O.buffer)}if(r=="Crst"||r=="Pntl"){var o=N.rect.e,x=N.rect.n,eS=r=="Crst"?w.ia.as1:w.ia.a6Z;
eS(N.buffer,o,x,O.buffer,F.ClSz.v,[Math.round(m.Z),Math.round(m.z),Math.round(m.J)])}if(r=="Mztn"){var o=N.rect.e,x=N.rect.n,Q=o*x,fn=new w.rX(Q),bY=[fn.Z,fn.z,fn.J];
w.vg(N.buffer,fn);var bH=F.MztT.v.MztT,dM={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[bH],f9=Date.now(),ct=[];
for(var R=0;R<Q;R++){ct[R]=Math.random()}var Q=o*x,jK=Math.round(Q*dM[0]),jm=Q-o-1;for(var R=0;R<jK;
R++){var iD=Math.random(),bc=1;if(iD<.5){bc=o;iD*=2}else iD=2*(iD-.5);var iV=Math.floor(iD*jm),h$=iV+bc;
ct[iV]=ct[h$]}var jI=Math.round(o*dM[1]);for(var c2=0;c2<x;c2++)for(var R=0;R<jI;R++){var iD=w.i.Gc(c2*Q+R),iV=c2*o+Math.floor(iD*(o-1));
ct[iV]=ct[iV+1]}var c4=new Float64Array(256);for(var R=0;R<256;R++){var fH=R/255,aG=2*(fH<.5?fH:1-fH);
aG=dM[2]+Math.pow(aG,dM[3])*(1-dM[2]);fH=fH<.5?aG*.5:1-aG*.5;c4[R]=fH}for(var al=0;al<3;al++){var iB=bY[al];
for(var c2=0;c2<x;c2++){for(var gD=0;gD<o;gD++){var R=c2*o+gD,hb=iB[R],fH=c4[hb],iD=ct[R];iB[R]=iD>fH?0:255}}}w.vJ(fn,O.buffer)}if(r=="Msc "){var hI=F.ClSz.v.val,o=N.rect.e,x=N.rect.n,cN=Math.ceil(o/hI),ji=Math.ceil(x/hI),i2=w.B(cN*ji*4);
w.scale.wd(N.buffer,o,x,i2,cN,ji,1/hI);w.scale.wd(i2,cN,ji,O.buffer,o,x,hI)}if(r=="Clds"||r=="DfrC"){var o=O.rect.e,x=O.rect.n,Q=o*x,jl=w.B(Q);
if(r=="Clds")w.T1(O.buffer,4278190080);var ii=w.B(256*4);for(var R=0;R<256;R++){var T=R<<2,hP=R/255,dA=1-hP;
ii[T]=Math.round(hP*h.Z+dA*m.Z);ii[T+1]=Math.round(hP*h.z+dA*m.z);ii[T+2]=Math.round(hP*h.J+dA*m.J)}w.K.a5i(N.buffer,o,x,jl);
var dl=O.buffer;for(var R=0;R<Q;R++){var T=R<<2,al=jl[R]<<2,u=ii[al],A=ii[al+1],a=ii[al+2];if(r=="Clds"){dl[T]=u;
dl[T+1]=A;dl[T+2]=a}else{dl[T]=Math.abs(dl[4*R]-u);dl[T+1]=Math.abs(dl[4*R+1]-A);dl[T+2]=Math.abs(dl[4*R+2]-a)}}}if(r=="LnsF"){var o=N.rect.e,x=N.rect.n,bH=["Zm","Nkn","Nkn1","PnVs"].indexOf(F.Lns.v.Lns),iA=F.FlrC.v,cM=[Math.min(bH,2),F.Brgh.v/100,iA.Hrzn.v,iA.Vrtc.v],f9=Date.now();
w.a4y(N.buffer,o,x,O.buffer,cM)}var gc=["Blr ","BlrM","Shrp","ShrM"].indexOf(r);if(gc!=-1){var b3=gc>1,o=N.rect.e,x=N.rect.n,eW=w.gL.aP[gc],aF=N.buffer.slice(0);
if(!b3)w.pg(aF);w.gL.ha(aF,O.buffer,o,x,eW,255,!1,b3);if(!b3)w.l4(O.buffer)}if(r=="MtnB"){var bS=-F.Angl.v*Math.PI/180,fB=F.Dstn.v.val/2,f9=Date.now(),o=N.rect.e,x=N.rect.n,c=N.rect.clone();
c.x=c.y=0;if(M._X){var f9=Date.now(),dx=O.buffer;dx.set(N.buffer);w.pg(dx);var jx=M.YO(0,o,x);jx.set(dx);
var fG=w.B(4);fG[0]=Math.round(128+127*Math.cos(bS));fG[1]=Math.round(128+127*Math.sin(bS));new Uint32Array(dx.buffer).fill(new Uint32Array(fG.buffer)[0]);
var ie=M.YO(1,o,x);ie.set(dx);M.y9(jx,c);jx.XZ(c);M.filter.py({type:M.filter._K,WD:ie.UX,Ub:new Float32Array([1/o,1/x]),a1s:fB/2,a6G:1},jx.gg);
jx.get(dx);w.l4(dx)}else{var fa=new hc;fa.rotate(bS);var E=z.Q.iG([N.buffer,N.rect],fa,!1,null,!0);df.rk(fB,w.Hu.Vd,E.buffer,E.rect);
fa.iL();E=z.Q.iG([E.buffer,E.rect],fa,!1,O.buffer.buffer,!0,O.rect)}console.log(Date.now()-f9)}if(r=="RdlB"){var o=N.rect.e,x=N.rect.n,ds=F.Amnt.v,iK=F.BlrM.v.BlrM=="Zm",fW=F.Cntr.v,bN=fW.Hrzn.v,iv=fW.Vrtc.v,jA=Math.max(bN,1-bN)*o,eI=Math.max(iv,1-iv)*x,dc=Math.sqrt(jA*jA+eI*eI),hk=2*Math.PI*dc*1.5,ir=Math.round(hk),jp=Math.round(dc),cs=new fE(0,0,ir,jp),dL=w.B(ir*jp*4),gu=iK?4:1,h9=iK?.6:8*((o+x)/2)/1400,iw=.1,js=1,cS=1;
w.N.LV(N.buffer,o,x,dL,ir,jp,bN,iv,gu,iw,js,cS);var d8=iK?w.B(ir*jp*4):null;if(iK){w.N.Vu(dL,d8,ir,jp);
var fm=d8;d8=dL;dL=fm;cs.e=jp;cs.n=ir}df.rk(h9*ds,w.Hu.Vd,dL,cs);if(iK){w.N.Vu(dL,d8,jp,ir);var fm=d8;
d8=dL;dL=fm;cs.e=ir;cs.n=jp}w.N._C(dL,ir,jp,O.buffer,o,x,bN,iv,gu,iw,js,cS)}if(r=="Plr "){var o=N.rect.e,x=N.rect.n;
if(F.Cnvr.v.Cnvr=="RctP")w.N._C(N.buffer,o,x,O.buffer,o,x,.5,.5,1,0,2,o/x);else w.N.LV(N.buffer,o,x,O.buffer,o,x,.5,.5,1,0,2,o/x)}if(r=="FndE"){var o=N.rect.e,x=N.rect.n;
w.gL.kT(N.buffer,O.buffer,o,x)}if(r=="oilPaint"){var jr=F.LghD.v*Math.PI/180,fL=[Math.cos(jr),Math.sin(jr),.001],bQ=[F.stylization.v,F.cleanliness.v,F.brushScale.v,F.microBrush.v,F.lightingOn.v,F.specularity.v,fL],c=N.rect.clone();
c.x=c.y=0;w.cA.filter(N.buffer,c,O.buffer,bQ)}if(r=="Ofst"){var o=N.rect.e,x=N.rect.n,dD=new Uint32Array(N.buffer.buffer),cp=new Uint32Array(O.buffer.buffer),h1=F.Hrzn.v,eg=F.Vrtc.v,dt=F.Fl.v.FlMd;
w.T1(cp,0);if(dt=="Bckg"||dt=="Rpt"){var cs=N.rect.clone();cs.offset(h1,eg);w.L3(dD,cs,cp,O.rect)}if(dt=="Rpt"){var bm,cu,fC,cm,gB;
h1=Math.max(-o,Math.min(o,h1));eg=Math.max(-x,Math.min(x,eg));bm=h1>0?h1:0;fC=h1>0?o:o+h1;cu=eg>0?0:eg+x;
cm=eg>0?eg:x;gB=eg>0?0:o*(x-1);for(var c2=cu;c2<cm;c2++)for(var gD=bm;gD<fC;gD++)cp[c2*o+gD]=dD[gB+gD-h1];
bm=h1>0?0:o+h1;fC=h1>0?h1:o;cu=eg>0?eg:0;cm=eg>0?x:x+eg;gB=h1>0?0:o-1;for(var c2=cu;c2<cm;c2++)for(var gD=bm;
gD<fC;gD++)cp[c2*o+gD]=dD[gB+o*(c2-eg)];if(h1>=0&&eg>=0){bm=0;fC=h1;cu=0;cm=eg;gB=0}if(h1>=0&&eg<0){bm=0;
fC=h1;cu=x+eg;cm=x;gB=o*(x-1)}if(h1<0&&eg>=0){bm=o+h1;fC=o;cu=0;cm=eg;gB=o-1}if(h1<0&&eg<0){bm=o+h1;
fC=o;cu=x+eg;cm=x;gB=o*x-1}for(var c2=cu;c2<cm;c2++)for(var gD=bm;gD<fC;gD++)cp[c2*o+gD]=dD[gB]}if(dt=="Wrp"){h1=(h1+100*o)%o;
eg=(eg+100*x)%x;var cs=new fE(h1-o,eg-x,o,x);w.L3(dD,cs,cp,O.rect);cs.offset(o,0);w.L3(dD,cs,cp,O.rect);
cs.offset(0,x);w.L3(dD,cs,cp,O.rect);cs.offset(-o,0);w.L3(dD,cs,cp,O.rect)}}if(r=="Rept"){var bg=F.Rsft.v.val/100,bj=F.SpcX.v.val/100;
bj=Math.max(bj,-.99);var hJ=F.SpcY.v.val/100;hJ=Math.max(hJ,-.99);var js=F.Scl.v.val/100,fa=new hc;fa.rotate(F.Angl.v*Math.PI/180);
fa.scale(js,js);var gA={buffer:N.buffer,rect:N.rect};w.uQ(gA);if(gA.rect.lX()){gA.buffer=N.buffer;gA.rect=N.rect}var dl=gA.buffer,cs=gA.rect,jU=w.Lw(dl,cs,0),eM=new Uint32Array(dl.buffer)[0];
if(!jU.lX()&&!jU.cj(cs)){var dB=w.B(jU.W()*4);w.L3(dl,cs,dB,jU);dl=dB;cs=jU}cs.x=cs.y=0;eM=bj==0&&hJ==0||F.SpcC.v?eM:0;
function je(gD){return gD<0?Math.ceil(gD):Math.floor(gD)}var k4=fa.eS(new gS(cs.e,0));k4.x=je(k4.x);
k4.y=je(k4.y);var gs=fa.eS(new gS(0,cs.n));gs.x=je(gs.x);gs.y=je(gs.y);var E=z.Q.iG([dl,cs],fa,!1),iI=E.rect,jG=E.buffer,iP=Math.round(iI.x),bx=Math.round(iI.y),eD=Math.max(O.rect.e,O.rect.n)/Math.min(cs.e*js*(1+bj),cs.n*js*(1+hJ));
eD=Math.ceil(eD*1.7);w.T1(O.buffer,eM);for(var c2=-eD;c2<eD;c2++){for(var gD=-eD;gD<eD;gD++){var e_=(gD+c2*bg)*(1+bj),es=c2*(1+hJ);
iI.x=iP+Math.round(e_*k4.x+es*gs.x);iI.y=bx+Math.round(e_*k4.y+es*gs.y);if(iI.PC(O.rect))w.i.vw("norm",jG,iI,O.buffer,O.rect,iI,1)}}}if(r=="Ctoa"){var m=w.X.Mq(F.Clr.v),hS=F.Trsp.v.val/100,du=F.Opct.v.val/100;
hS=du==0?0:hS/du;var o=N.rect.e,x=N.rect.n,gz=~~m.Z,aq=~~m.z,dV=~~m.J,gB=N.buffer,et=O.buffer;for(var c2=0;
c2<x;c2++)for(var gD=0;gD<o;gD++){var R=c2*o+gD,T=R<<2,cs=gB[T],dJ=gB[T+1],dl=gB[T+2],jC=Math.abs(gz-cs),d6=Math.abs(aq-dJ),id=Math.abs(dV-dl),iU=Math.max(jC,d6,id)*(1/255);
iU=Math.max(0,Math.min(1,iU/du));var bT=iU==0?0:1/iU,fS=hS==1?1:Math.max(0,Math.min(1,(iU-hS)/(1-hS)));
et[T]=Math.max(0,Math.min(255,(cs-gz*(1-iU))*bT));et[T+1]=Math.max(0,Math.min(255,(dJ-aq*(1-iU))*bT));
et[T+2]=Math.max(0,Math.min(255,(dl-dV*(1-iU))*bT));et[T+3]=~~(.5+fS*255)}}if(r=="Dthr"){function j8(gD){return~~(.5+255*w.wD(gD/255))}var be=F.Plte.v,gL;
if(be==0)gL=[4278190080,4294967295];else{var b_=[[1,1,1],[2,2,2],[3,3,2]][be-1],g9=[1<<b_[0],1<<b_[1],1<<b_[2]],fY=[~~(255/(g9[0]-1)),~~(255/(g9[1]-1)),~~(255/(g9[2]-1))];
gL=[];for(var u=0;u<g9[0];u++)for(var A=0;A<g9[1];A++)for(var a=0;a<g9[2];a++)gL.push(255<<24|j8(a*fY[2])<<16|j8(A*fY[1])<<8|j8(u*fY[0]))}var o=N.rect.e,x=N.rect.n,Q=o*x,bF=Q*4,cG=N.buffer.slice(0),j5=O.buffer;
for(var R=0;R<bF;R++)cG[R]=~~(.5+255*w.wD(cG[R]/255));var eJ=w.B(o*x);UPNG.encode.dither(cG,o,x,gL,j5,eJ);
for(var R=0;R<bF;R++)j5[R]=~~(.5+255*w.ZD(j5[R]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(r)!=-1){var am=e[0],o=N.rect.e,x=N.rect.n,c4,eR=0;
if(r=="LqFy")c4=ca.ep(new Uint8Array(F.LqMe.v).buffer);else{var ej=3;c4={YW:Math.floor(o/ej),Nf:Math.floor(x/ej)};
c4.map=new Float32Array(c4.YW*c4.Nf*2);if(r=="LnCr"){var bN=.5*(c4.YW-1),iv=.5*(c4.Nf-1),cz=Math.max(Math.abs(0-bN),Math.abs(1-bN)),gI=Math.max(Math.abs(0-iv),Math.abs(1-iv)),dC=Math.sqrt(cz*cz+gI*gI),dw=0,a_=0,g1=-1,cW=2,js=F.LnSi.v/100,iK=1/js,io=F.LnIa.v/100,cx=io==0?1e-6:io*4.6,fw=iK/dC;
for(var c2=0;c2<c4.Nf;c2++){for(var gD=0;gD<c4.YW;gD++){var jA=(gD-bN)*fw,eI=(c2-iv)*fw,u=Math.sqrt(jA*jA+eI*eI)*cx,cy=Math.atan(u),dS=io>0?cy/u:u/cy,cS=bN+dC*dS*jA,ar=iv+dC*dS*eI,R=c2*c4.YW+gD<<1;
c4.map[R]=cS-gD;c4.map[R+1]=ar-c2}}}else if(r=="Kale"){var cN=c4.YW,ji=c4.Nf,gH=(cN-1)*.5,fd=(ji-1)*.5,bu=F.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,gd=F.Mirr.v,ee=Math.PI*2/gd,jB=.5*ee;
for(var c2=0;c2<ji;c2++)for(var gD=0;gD<cN;gD++){var jA=gD-gH,eI=c2-fd,at=Math.sqrt(jA*jA+eI*eI),jr=Math.atan2(eI,jA)+bu;
jr=jr%ee;if(jr>jB)jr=ee-jr;var cS=gH+Math.cos(jr-bu)*at,ar=fd+Math.sin(jr-bu)*at,R=(c2*cN+gD)*2;c4.map[R]=cS-gD;
c4.map[R+1]=ar-c2}}else if(r=="Dspl"&&am.length!=0){eR=F.UndA.v.UndA=="WrpA"?2:1;var av=F.DspF.v.pth,hR;
for(var R=0;R<am.length;R++)if(am[R].$U==av)hR=am[R];if(hR==null)hR=am[0];hR.G9();var jC=hR.Mk[1],eH=w.B(jC.W());
w.oD(hR.Mk[0],eH);var gm=jC.e,h5=jC.n;c4={YW:gm,Nf:h5};c4.map=new Float32Array(c4.YW*c4.Nf*2);var cU=2.54*F.HrzS.v*gm/o,fQ=2.54*F.VrtS.v*h5/x;
for(var c2=0;c2<c4.Nf;c2++){for(var gD=0;gD<c4.YW;gD++){var e2=-.5+eH[c2*gm+gD]*(1/255),R=c2*c4.YW+gD<<1;
c4.map[R]=e2*cU;c4.map[R+1]=e2*fQ}}}else if(r=="Pnch"||r=="Twrl"||r=="Sphr"||r=="ZgZg"){var ds=1,bS=Math.PI,dW=0,bL=1,bV=0,fW=3,hI=1.53,dS=1;
if(r=="Pnch"||r=="Sphr"||r=="ZgZg")ds=F.Amnt.v/100;if(r=="ZgZg"){bL=F.NmbR.v;bV=["ArnC","OtFr","PndR"].indexOf(F.ZZTy.v.ZZTy)}if(r=="Twrl")bS=F.Angl.v*Math.PI/180;
if(r=="Sphr")dW=["Nrml","HrzO","VrtO"].indexOf(F.SphM.v.SphM);function eS(gD){gD=Math.pow(gD,1-gD*.3-gD*gD*(gD*gD)*.5);
return-.225*Math.sin(gD*Math.PI)}function ak(x,bo,u,bm,cu,fC,cm,dS){var jA=fC-bm,eI=cm-cu,bb=bm-x,c9=cu-bo,hP=jA*jA+eI*eI,a=2*(jA*bb+eI*c9),fW=bb*bb+c9*c9-u*u,hj=Math.sqrt(a*a-4*hP*fW),el=dS/(2*hP),e8=(-a+hj)*el,hX=(-a-hj)*el;
return dS*Math.min(e8,hX)}var cN=c4.YW,ji=c4.Nf,gH=c4.YW/2,fd=c4.Nf/2,fo=1/gH,u=Math.sqrt(fW*fW+1)/fW,im=fW+Math.sqrt(1/(fW*fW));
if(ds<0){fW=1.72;u=1;im=fW;hI=-1;dS=-1}for(var c2=0;c2<ji;c2++){var eI=(c2-fd)/fd;for(var gD=0;gD<cN;
gD++){var jA=(gD-gH)*fo;if(dW==1)eI=0;else if(dW==2)jA=0;var gN=Math.sqrt(jA*jA+eI*eI);if(gN<1&&gN!=0){var R=c2*c4.YW+gD<<1;
if(r=="Pnch"){var jt=-ds*eS(gN)/gN;c4.map[R]=jA*jt*gH;c4.map[R+1]=eI*jt*fd}else if(r=="Sphr"){var fm=ak(0,im,u,0,0,gN,fW,dS),ia=hI*ds*(fm-1);
c4.map[R]=jA*ia*gH;c4.map[R+1]=eI*ia*fd}else if(r=="Twrl"){var jr=Math.atan2(eI,jA)-bS*(1-gN)*(1-gN),g0=Math.cos(jr),cn=Math.sin(jr);
c4.map[R]=(gN*g0-jA)*gH;c4.map[R+1]=(gN*cn-eI)*fd}else if(r=="ZgZg"){var g0=0,cn=0,hN=ds*(.5-.5*Math.cos(gN*bL*2*Math.PI))*(1-gN);
if(bV==0){var jr=Math.atan2(eI,jA)-3.5*hN;g0=gN*Math.cos(jr);cn=gN*Math.sin(jr)}if(bV==1){hN=100/o*hN/gN;
g0=(1-hN)*jA;cn=(1-hN)*eI}if(bV==2){var ci=512/o*hN*Math.PI/4;g0=ci+jA;cn=ci+eI}c4.map[R]=(g0-jA)*gH;
c4.map[R+1]=(cn-eI)*fd}}}}}else if(r=="Shr "){var hh=JSON.parse(JSON.stringify(F.ShrP.v));w.WC.A(hh,new hc(0,255/127,255/127,0,-2,0));
var i$=w.WC.vh(hh,c4.Nf,!0);eR=F.UndA.v.UndA=="WrpA"?2:1;for(var c2=0;c2<c4.Nf;c2++){var jA=-i$[c2]*c4.YW;
for(var gD=0;gD<c4.YW;gD++){var R=c2*c4.YW+gD<<1;c4.map[R]=jA}}}else if(r=="Wave"){var eO=F.NmbG.v,cf=F.WLMn.v,dk=F.WLMx.v,a$=F.AmMn.v*(Math.PI/4),ft=F.AmMx.v*(Math.PI/4),fU=F.SclH.v/100,dR=F.SclV.v/100,bH=F.Wvtp.v.Wvtp,hN=Math.sin;
if(bH=="WvTr")hN=function(gD){gD*=2/Math.PI;return-.5+Math.abs(gD%2-1)};if(bH=="WvSq")hN=function(gD){gD*=2/Math.PI;
return 1+2*Math.floor(gD%2-1)};var fh=[],eh=new w.i.ws(F.RndS.v);for(var R=0;R<eO;R++){fh.push(eh.get()*10);
fh.push(Math.PI*ej/(cf+eh.get()*(dk-cf)));fh.push(fU*(a$+eh.get()*(ft-a$))/ej);fh.push(eh.get()*10);
fh.push(Math.PI*ej/(cf+eh.get()*(dk-cf)));fh.push(dR*(a$+eh.get()*(ft-a$))/ej)}var a3=[],fK=[],cT=Math.max(c4.YW,c4.Nf);
for(var R=0;R<cT;R++){var jA=0,eI=0;for(var hx=0;hx<eO;hx++){var a2=hx*6;jA+=fh[a2+2]*hN(fh[a2]+R*fh[a2+1]);
eI+=fh[a2+5]*hN(fh[a2+3]+R*fh[a2+4])}a3[R]=eI;fK[R]=jA}for(var c2=0;c2<c4.Nf;c2++){for(var gD=0;gD<c4.YW;
gD++){var R=c2*c4.YW+gD<<1;c4.map[R]=fK[c2];c4.map[R+1]=a3[gD]}}eR=F.UndA.v.UndA=="WrpA"?2:1}else if(r=="Rple"){eR=1;
var ds=F.Amnt.v/100,iO=4,a9=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],gX=1,c7=1,bb=0,aR=["Sml","Mdm","Lrg"].indexOf(F.RplS.v.RplS);
if(aR==0){gX=1;c7=.2;bb=3}if(aR==2){gX=1;c7=2;bb=-1;a9=a9.reverse()}var cq=function(gD,c2){var fW=Math.cos,bi=0;
for(var R=0;R<iO;R++)for(var hx=0;hx<iO;hx++)bi+=a9[R*iO+hx]*fW(gD*(R+bb)-c2*(hx+bb));return bi},a6=Math.floor(50/ej),bs=new Float32Array(a6*a6*2),aV=c7*ds*.5/ej;
for(var c2=0;c2<a6;c2++)for(var gD=0;gD<a6;gD++){var bN=gX*gD*2*Math.PI/a6,iv=gX*c2*2*Math.PI/a6,ao=cq(bN,iv),jA=(cq(bN+.01,iv)-ao)*100,eI=(cq(bN,iv+.01)-ao)*100,R=(c2*a6+gD)*2;
bs[R]=jA*aV;bs[R+1]=eI*aV}for(var c2=0;c2<c4.Nf;c2++)for(var gD=0;gD<c4.YW;gD++){var cn=c2%a6,g0=gD%a6,R=c2*c4.YW+gD<<1,i3=cn*a6+g0<<1;
c4.map[R]=bs[i3];c4.map[R+1]=bs[i3+1]}}}w.j_.Xn(N.buffer,O.buffer,o,x,null,c4.map,c4.YW,c4.Nf,eR)}return O};
var aD={};aD.a7s="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");aD.hj="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
aD.gl=["ScrC","ScrD","ScrL"];aD.h$=["SDRD","SDHz","SDLD","SDVt"];aD.I1="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
aD.v0="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");aD.c6="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
aD.eC=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];aD.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
aD.T$=function(r){var N;if(r=="ClrP")N={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(r=="Ct")N={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(r=="DryB")N={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(r=="FlmG")N={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(r=="Frsc")N={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(r=="NGlw")N={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(r=="PntD")N={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(r=="PltK")N={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(r=="PlsW")N={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(r=="PstE")N={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(r=="RghP")N={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(r=="SmdS")N={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(r=="Spng")N={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(r=="Undr")N={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(r=="Wtrc")N={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(r=="AccE")N={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(r=="AngS")N={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(r=="Crsh")N={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(r=="DrkS")N={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(r=="InkO")N={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(r=="Smie")N={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(r=="Spt")N={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(r=="SprS")N={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(r=="DfsG")N={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(r=="Gls")N={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(r=="OcnR")N={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(r=="BsRl")N={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(r=="ChlC")N={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(r=="Chrc")N={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(r=="Chrm")N={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(r=="CntC")N={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(r=="GraP")N={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(r=="HlfS")N={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(r=="NtPr")N={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(r=="Phtc")N={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(r=="Plst")N={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(r=="Rtcl")N={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(r=="Stmp")N={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(r=="TrnE")N={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(r=="WtrP")N={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(r=="GlwE")N={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(r=="Crql")N={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(r=="Grn")N={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(r=="MscT")N={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(r=="Ptch")N={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(r=="StnG")N={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(r=="Txtz")N={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
N.__name="Filter Gallery";N.classID="GEfc";N.GEfk={t:"enum",v:{GEft:r}};N.GELv={t:"bool",v:!0};return N};
aD.WO=function(r,N){for(var R=0;R<N.length;R++)~~(N[R]=(r[4*R]+r[4*R+1]+r[4*R+2])*(1/3))};aD.ah6=function(r,N,F,h){var m=UPNG.quantize(r,N);
m={jr:m.inds,O9:m.plte};var O=Math.floor((F+h)*.015);if(O!=0)w.J4.aun(m.jr,F,h,O);return m};aD.dR=function(r,N,F,h,m,O,e){r=F.GEfk.v.GEft;
var P=N.rect,B=P.e,s=P.n,Y=B*s,D=F.FlRs?F.FlRs.v>>>1:0;function c(j){return j.Z<<24|j.z<<16|j.J<<8|255}if(r=="ClrP")w.K.arl(N.buffer,B,s,O.buffer,[F.Pncl.v,F.StrP.v,F.PprB.v]);
if(r=="Ct"){var o=F.NmbL.v,H=F.EdgS.v,x=aD.ah6(N.buffer.buffer,o*2,B,s);for(var R=0;R<x.jr.length;R++)x.jr[R]++;
var Q=new Uint8Array((B+2)*(s+2));w.nZ(x.jr,new fE(1,1,B,s),Q,new fE(0,0,B+2,s+2));var U=w.p.L6(Q,B+2,s+2,H,!1),I=new hc(1,0,0,1,-1,-1);
for(var R=0;R<U.length;R++)w.p.A(U[R].path.t,I,U[R].path.t);var l=[],p=x.O9;for(var R=0;R<p.length;R++){var j=p[R].est.q;
l.push({Z:Math.round(255*j[0]),z:Math.round(255*j[1]),J:Math.round(255*j[2]),O$:Math.round(255*j[3])})}var T=w.Cl(B,s);
for(var R=0;R<U.length;R++){var V=U[R],j=l[V.color-1];if(j.O$==0)continue;T.fillStyle="rgba("+j.Z+","+j.z+","+j.J+","+j.O$/255+")";
T.beginPath();Typr.U.pathToContext({crds:V.path.t,cmds:V.path.C},T);T.fill()}if(!P.lX()){var E=T.getImageData(0,0,B,s);
w.ZF(E.data,O.buffer)}}if(r=="DryB")w.K.aka(N.buffer,B,s,O.buffer,[F.BrsS.v,F.BrsD.v,F.Txtr.v]);if(r=="FlmG")w.K.a4w(N.buffer,B,s,O.buffer,[F.Grn.v,F.HghA.v,F.Intn.v,D]);
if(r=="Frsc")w.K.a8U(N.buffer,B,s,O.buffer,[F.BrsS.v,F.BrsD.v,F.Txtr.v]);if(r=="NGlw")w.K.a5o(N.buffer,B,s,O.buffer,[F.Sz.v,F.Brgh.v,c(w.X.Mq(F.Clr.v)),c(h),c(m)]);
if(r=="PltK")w.K.avy(N.buffer,B,s,O.buffer,[F.StrS.v,F.StDt.v,F.Sftn.v]);if(r=="PstE")w.K.aa8(N.buffer,B,s,O.buffer,[F.EdgT.v,F.EdgI.v,F.Pstr.v]);
if(r=="RghP")w.K.ahq(N.buffer,B,s,O.buffer,[F.StrL.v,F.StDt.v,aD.I1.indexOf(F.TxtT.v.TxtT),F.Scln.v,F.Rlf.v,aD.hj.indexOf(F.LghD.v.LghD),F.InvT.v]);
if(r=="SmdS")w.K.abE(N.buffer,B,s,O.buffer,[F.StrL.v,F.HghA.v,F.Intn.v,F.FlRs.v,D]);if(r=="Spng")w.K.aa4(N.buffer,B,s,O.buffer,[F.BrsS.v,F.Dfnt.v,F.Smth.v,F.FlRs.v,D]);
if(r=="Undr")w.K.ahj(N.buffer,B,s,O.buffer,[F.BrsS.v,F.TxtC.v,aD.I1.indexOf(F.TxtT.v.TxtT),F.Scln.v,F.Rlf.v,aD.hj.indexOf(F.LghD.v.LghD),F.InvT.v]);
if(r=="Wtrc")w.K.aeE(N.buffer,B,s,O.buffer,[F.BrsD.v,F.ShdI.v,F.Txtr.v]);if(r=="AccE")w.K.a46(N.buffer,B,s,O.buffer,[F.EdgW.v,F.EdgB.v,F.Smth.v]);
if(r=="AngS")w.K.adt(N.buffer,B,s,O.buffer,[F.DrcB.v,F.StrL.v,F.Shrp.v]);if(r=="Crsh")w.K.aht(N.buffer,B,s,O.buffer,[F.StrL.v,F.Shrp.v,F.Strg.v]);
if(r=="DrkS")w.K.adi(N.buffer,B,s,O.buffer,[F.Blnc.v,F.BlcI.v,F.WhtI.v]);if(r=="InkO")w.K.aiN(N.buffer,B,s,O.buffer,[F.StrL.v,F.DrkI.v,F.LghI.v]);
if(r=="Smie")w.K.afR(N.buffer,B,s,O.buffer,[F.StrW.v,F.StrP.v,F.Cntr.v]);if(r=="DfsG")w.K.auV(N.buffer,B,s,O.buffer,[F.Grns.v,F.GlwA.v,F.ClrA.v,c(m),D]);
if(r=="CntC")w.K.aaY(N.buffer,B,s,O.buffer,[F.FrgL.v,F.BckL.v,aD.I1.indexOf(F.TxtT.v.TxtT),F.Scln.v,F.Rlf.v,aD.hj.indexOf(F.LghD.v.LghD),F.InvT.v,c(m),c(h)]);
if(r=="ChlC")w.K.a7m(N.buffer,B,s,O.buffer,[F.ChrA.v,F.ChlA.v,F.StrP.v,D,c(m),c(h)]);var _=r=="GraP"||r=="Chrc"||r=="Plst"||r=="Rtcl"||r=="Stmp"||r=="TrnE";
if(_){var f=w.B(B*s);if(r=="GraP")w.K.a7r(N.buffer,B,s,O.buffer,[F.StrL.v,F.LgDr.v,aD.h$.indexOf(F.SDir.v.StrD),D]);
if(r=="Chrc")w.K.al4(N.buffer,B,s,O.buffer,[F.ChAm.v,F.Dtl.v,F.LgDr.v]);if(r=="Plst")w.K.a0K(N.buffer,B,s,O.buffer,[F.ImgB.v,aD.v0.indexOf(F.LghP.v.LghP),F.Smth.v]);
if(r=="Rtcl")w.K.aay(N.buffer,B,s,O.buffer,[F.Dnst.v,F.BlcL.v,F.WhtL.v,D]);if(r=="Stmp")w.K.a72(N.buffer,B,s,O.buffer,[F.LgDr.v,F.Smth.v]);
if(r=="TrnE")w.K.a22(N.buffer,B,s,O.buffer,[F.ImgB.v,F.Smth.v,F.Cntr.v,D]);w.Pw(O.buffer,f,0);aD.f0(f,O.buffer,h,m)}if(r=="NtPr")w.K.abk(N.buffer,B,s,O.buffer,[F.ImgB.v,F.Grns.v,F.Rlf.v,c(h),c(m),D]);
if(r=="WtrP")w.K.aan(N.buffer,B,s,O.buffer,[F.FbrL.v,F.Brgh.v,F.Cntr.v,D>>>1]);if(r=="Crql")w.K.a63(N.buffer,B,s,O.buffer,[F.CrcS.v,F.CrcD.v,F.CrcB.v,D]);
if(r=="Grn")w.K.agd(N.buffer,B,s,O.buffer,[F.Intn.v,aD.c6.indexOf(F.Grnt.v.Grnt),F.Cntr.v,c(h),c(m),D]);
if(r=="MscT")w.K.akR(N.buffer,B,s,O.buffer,[F.TlSz.v,F.GrtW.v,F.LghG.v,D]);if(r=="Ptch")w.K.asB(N.buffer,B,s,O.buffer,[F.SqrS.v,F.Rlf.v,D]);
if(r=="Phtc"){function S(i_,aY,P,cu){w.Hu.lM(i_,aY,P,cu);for(var R=0;R<Y;R++)aY[R]=Math.max(0,Math.min(255,128+i_[R]-aY[R]))}var L=F.Dtl.v,y=F.Drkn.v,$=w.B(Y);
w.oD(N.buffer,$);var Z=w.B(Y);S($,Z,P,1);if(L==1){L=2;y=Math.round(y/4)}var i=w.B(Y);S($,i,P,L);for(var R=0;
R<Y;R++)$[R]=Math.max(0,Math.min(255,255-(Z[R]-i[R])*y));aD.f0($,O.buffer,h,m)}if(r=="Spt"||r=="SprS"){var b,G=1,g=1;
b={YW:Math.floor(B/g),Nf:Math.floor(s/g)};b.map=new Float32Array(b.YW*b.Nf*2);var u=new w.i.ws(F.FlRs.v),A=new Float32Array(8192),a=F.SprR.v,d=a<20?.018*a:.36+(a-20)*.128;
if(r=="SprS"){d=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][a]}for(var R=0;
R<8192;R++)A[R]=(-1+2*u.get())*d*70;for(var K=0;K<s;K++)for(var n=0;n<B;n++){var t=K*B+n<<1;b.map[t]=A[t%7919];
b.map[t+1]=A[(t+1)%7919]}var X=b.map.slice(0),aK=r=="Spt"?F.Smth.v-1:1;if(r=="Spt"&&aK!=0){aD.a86(b.map,X,B,s,aK);
aD.arL(X,b.map,B,s,aK)}if(r=="SprS"){var fg=F.StrL.v>>>1,k=fg==0?2:1;aD.a86(b.map,X,B,s,k);aD.arL(X,b.map,B,s,k);
if(fg!=0){var hG=aD.h$.indexOf(F.SDir.v.StrD),eE=[1,1,1,0][hG],hW=[-1,0,1,1][hG],hh=2*fg+1,hI=1/hh;for(var K=0;
K<s;K++)for(var n=0;n<B;n++){var t=K*B+n<<1,db=0,by=0;for(var R=0;R<hh;R++){var jM=Math.max(0,Math.min(B-1,n-(fg+R)*eE)),fP=Math.max(0,Math.min(s-1,K-(fg+R)*hW)),hB=fP*B+jM<<1;
db+=b.map[hB];by+=b.map[hB+1]}X[t]=db*hI;X[t+1]=by*hI}b.map=X}}w.j_.Xn(N.buffer,O.buffer,B,s,null,b.map,b.YW,b.Nf,G)}if(r=="BsRl"||r=="PlsW"||r=="Chrm"){var iu=Date.now(),be=w.B(Y),bp=be.slice(0);
w.oD(N.buffer,be);var L=F.Dtl.v,ij=F.Smth.v;if(L!=15){w.Hu.UW(be,bp,P,Math.round((15-L)*.5));w.ZF(bp,be)}var fT=1.4/B,ei=1.4/s,bz=new Float32Array(Y),aM=new Float32Array(Y),hw=new Float32Array(O.buffer.buffer);
for(var K=0;K<s;K++)for(var n=0;n<B;n++){var R=K*B+n,eE=n==B-1?be[R]-be[R-1]:be[R+1]-be[R],hW=K==s-1?be[R]-be[R-B]:be[R+B]-be[R],hx=n*fT-.7,fm=K*ei-.7;
bz[R]=eE==0?hx:eE*.4;aM[R]=hW==0?fm:hW*.4}if(r=="BsRl"){var dE=(2+aD.hj.indexOf(F.LghD.v.LghD))*Math.PI*.25,db=Math.cos(dE);
if(Math.abs(db)<.1)db=0;db=Math.sign(db);var by=Math.sin(dE);if(Math.abs(by)<.1)by=0;by=Math.sign(by);
var gD=1/(db*db+by*by);for(var K=0;K<s;K++)for(var n=0;n<B;n++){var R=K*B+n,c2=Math.max(-1,Math.min(1,db*bz[R])),bQ=Math.max(-1,Math.min(1,by*aM[R]));
bp[R]=128+127*(c2+bQ)*gD}if(ij!=1){w.Hu.UW(bp,be,P,Math.round((ij-1)*.5));w.ZF(be,bp)}aD.f0(bp,O.buffer,h,m)}else{if(r=="Chrm")ij=5+ij;
if(ij>1)aD.rk(bz,aM,hw,P,ij-1);if(r=="PlsW"){var f9=new Uint8Array(bz.buffer);for(var R=0;R<Y;R++){var jR=R<<2,eE=bz[R],hW=aM[R],gP=1/(Math.sqrt(1+eE*eE)*Math.sqrt(1+hW*hW)),k6=gP*gP,eZ=k6*k6,j=~~(255*(eZ*eZ*k6));
f9[jR+0]=j;f9[jR+1]=j;f9[jR+2]=j;f9[jR+3]=j}O.buffer.set(N.buffer);w.i.vw("norm",f9,P,O.buffer,P,P,F.HghS.v/20)}else if(r=="Chrm"){var b5=O.buffer,fG=B>>>1,jG=s>>>1;
for(var R=0;R<Y;R++){var jR=R<<2,eE=bz[R],hW=aM[R],i_={x:1,y:0,nD:eE};iL.X2(i_);var aY={x:0,y:1,nD:hW};
iL.X2(aY);var jk=iL.a38(i_,aY),ih=1/jk.nD,jr=~~Math.max(0,Math.min(B-1,fG-jk.x*ih*fG)),hV=~~Math.max(0,Math.min(s-1,jG-jk.y*ih*jG)),j=be[hV*B+jr];
b5[jR+0]=j;b5[jR+1]=j;b5[jR+2]=j}}}}if(r=="Gls"||r=="OcnR"||r=="Txtz"){var ds=r=="OcnR"?2:aD.I1.indexOf(F.TxtT.v.TxtT),jA=aD.I9(ds),eI=jA[0],be=jA[1],hH=eI.e,bO=eI.n,hh=24,hu=0,aB,c8;
function k7(d3,jD,b0){return~~(dO*(d3+jD)+8192)&127}var bz=new Float32Array(Y),aM=new Float32Array(Y),hw=new Float32Array(O.buffer.buffer),dO=r=="OcnR"?1/(1+(F.RplS.v-1)*.1):100/F.Scln.v;
if(ds==3)dO*=32/22.2;var iu=Date.now(),cG=dO,fT=1.4/B,ei=1.4/s;if(r=="Txtz"){cG*=1/255;hh=256}for(var K=0;
K<s;K++){var cV=k7(K,P.y,bO),fP=cV+1&127;for(var n=0;n<B;n++){var R=K*B+n,g3=k7(n,P.x,hH),jM=g3+1&127,gh=0,bH=0,gF=0;
if(r=="Txtz"){gh=w.N.i8(dO*n,dO*K,be,128,128);bH=w.N.i8(dO*n,dO*K+1,be,128,128);gF=w.N.i8(dO*n+1,dO*K,be,128,128)}else{gh=be[cV*hH+g3];
bH=be[fP*hH+g3];gF=be[cV*hH+jM]}bz[R]=Math.max(-hh,Math.min((gF-gh)*cG,hh));aM[R]=Math.max(-hh,Math.min((bH-gh)*cG,hh))}}if(r=="Txtz")aD.a9Z(bz,aM,hw,P,6);
else aD.rk(bz,aM,hw,P,r=="Txtz"?1:r=="OcnR"?3.5/dO:F.Smth.v);if(r=="Txtz")hu=F.InvT.v?-1:1;else if(r=="Gls"){hu=[1,.4,.5,.5][ds]*(Math.exp(F.Dstr.v*.155)-1);
if(F.InvT.v)hu=-hu}else{hu=.5*(Math.exp(F.RplM.v*.155)-1)}var b5=O.buffer;if(r=="Txtz"){var dE=(2+aD.hj.indexOf(F.LghD.v.LghD))*Math.PI*.25,db=Math.cos(dE),by=Math.sin(dE);
aB={x:db,y:by,nD:0};iL.X2(aB);c8=F.Rlf.v;c8=c8/4+Math.max(0,(c8-35)*2)}function bM(i_,aY,fe){var cv=w.i.overF(aY,i_,1),d3=(1-fe)*i_+fe*(fe*aY+(1-fe)*cv);
return d3*255}for(var K=0;K<s;K++)for(var n=0;n<B;n++){var R=K*B+n,jR=R<<2,eE=bz[R],hW=aM[R],i_={x:1,y:0,nD:eE};
iL.X2(i_);var aY={x:0,y:1,nD:hW};iL.X2(aY);var jk=iL.a38(i_,aY);if(r=="Txtz"){var ig=iL.acX(jk,aB)*hu,fe=1,j=1;
if(ig<0){j=0;ig=-ig}fe=Math.min(1,ig*c8);b5[jR+0]=~~bM(N.buffer[jR]*(1/255),j,fe);b5[jR+1]=~~bM(N.buffer[jR+1]*(1/255),j,fe);
b5[jR+2]=~~bM(N.buffer[jR+2]*(1/255),j,fe)}else{var ih=hu/jk.nD,jr=~~Math.max(0,Math.min(B-1,n-jk.x*ih)),hV=~~Math.max(0,Math.min(s-1,K-jk.y*ih)),e6=hV*B+jr<<2;
b5[jR+0]=N.buffer[e6];b5[jR+1]=N.buffer[e6+1];b5[jR+2]=N.buffer[e6+2]}}}if(r=="PntD"){var iy=F.Shrp.v*.4,jc=F.BrsT.v.BrsT,bm={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[jc],cu=Math.round(F.Sz.v*.5);
w.Yf.Di=bm[0];var fC=w.Yf.Z3;w.Yf._9(N.buffer,O.buffer,B,s,cu,fC,[]);var cm=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
cm=w.gL.yC(cm);var i4=O.buffer.slice(0);w.gL.ha(i4,O.buffer,B,s,cm,0);for(var R=0;R<N.buffer.length;
R++){var fz=O.buffer[R]-i4[R];O.buffer[R]=Math.max(0,Math.min(255,i4[R]+iy*fz))}}if(r=="GlwE"){var iB=O.buffer.slice(0);
w.Yf.Di=.5;var fC=w.Yf.Z3;w.Yf._9(N.buffer,iB,B,s,F.Smth.v>>>1,fC,[]);w.gL.kT(iB,O.buffer,B,s);w.ZF(O.buffer,iB);
w.iL(iB);w.T1(iB,4278190080,16777215);w.Yf._9(iB,O.buffer,B,s,F.EdgW.v>>>1,w.Yf.FQ,[]);var g5=F.EdgB.v/10;
for(var R=0;R<iB.length;R++){if((R&3)==3)continue;var cv=O.buffer[R];O.buffer[R]=Math.max(0,Math.min(255,cv*g5))}}if(r=="StnG"){w.ia.a4h(N.buffer,B,s,O.buffer,F.ClSz.v,[Math.round(h.Z),Math.round(h.z),Math.round(h.J)],F.BrdT.v)}if(r=="HlfS"){var il=F.HlSz.v,js=il*2+1,iH=F.Cntr.v,ju=aD.gl.indexOf(F.ScrT.v.ScrT),Y=B*s,jQ=Y*4,cD=w.B(Y),dZ=N.buffer,gG=0,dT=0;
aD.WO(dZ,cD);var au=cD.slice(0);w.Hu.AC(au,cD,P,il);var dX=Math.PI/js,gW=new Float64Array(B),db=new Float64Array(B),bX=new Float64Array(2*B);
for(var n=0;n<B;n++){var g3=(n-(B>>>1))*dX;gW[n]=g3*g3;db[n]=Math.cos(g3);var eE=n<<1;bX[eE]=Math.sin(eE*(1/4.5));
bX[eE+1]=Math.sin((eE+1)*(1/4.5))}for(var K=0;K<s;K++){var cV=(K-(s>>>1))*dX,by=Math.cos(cV),fu=cV*cV;
for(var n=0;n<B;n++){var j=by;if(ju==0){var iJ=.5+Math.sqrt(gW[n]+fu)*4.5;j=bX[~~iJ]}else if(ju==1){j=db[n]*by}var R=K*B+n,cr=cD[R]*(.75+.25*j),fe=dZ[(R<<2)+3]*(1/255),eQ=Math.max(0,Math.min(255,~~cr));
gG+=eQ*fe,dT+=fe;cD[R]=eQ}}gG/=dT;var gj=128+1.26*(gG-128),g5=.08+.25*Math.abs((128-gG)/128),aH=1+g5*iH;
for(var R=0;R<Y;R++){var cr=gj+(cD[R]-gj)*aH;cD[R]=Math.max(0,Math.min(255,~~cr))}if(iH>46)w.round(cD);
aD.f0(cD,O.buffer,h,m)}for(var R=0;R<N.buffer.length;R+=4)O.buffer[R+3]=N.buffer[R+3]};aD.f0=function(r,N,F,h){var m=r.length,O=F.Z,e=F.z,P=F.J,B=h.Z,s=h.z,Y=h.J;
for(var R=0;R<m;R++){var D=r[R]*(1/255),c=1-D,o=R<<2;N[o]=~~(O*c+B*D);N[o+1]=~~(e*c+s*D);N[o+2]=~~(P*c+Y*D)}};
aD.I9=function(r){if(r==6)r=2;var N="blocks canvas frosted tinylens brick burlap".split(" ")[r];if(aD.pT==null)aD.pT=[];
if(aD.pT[r]==null){var F,h;if(r==2){h=new fE(0,0,128,128);var m=df.T$("AdNs");m.Mnch.v=!0;m.Dstr.v.Dstr="Gsn";
m.Nose.v.val=50;var F=w.B(h.W()*4),O=F.slice(0);new Uint32Array(O.buffer).fill(4286611584);df.dR("AdNs",{buffer:O,rect:h},m,0,0,{buffer:F,rect:h})}else{var e=bA.pU.get("tex/"+N,!0)[0];
h=e.I0;F=new Uint8Array(e.data)}var P=w.B(h.W());w.Pw(F,P,0);aD.pT[r]=[h,P]}return aD.pT[r]};aD.rk=function(r,N,F,h,m){if(m<=1){m=Math.round(m);
aD.a9Z(r,N,F,h,[1,16,4][m]);return}var O=m*.42;if(r){w.Hu.gK(r,F,h,O,3);r.set(F)}if(N){w.Hu.gK(N,F,h,O,3);
N.set(F)}};aD.a9Z=function(r,N,F,h,m){var O=w.gL.yC([1,2,1,2,m,2,1,2,1]);if(r){F.set(r);w.gL.Qg(r,F,h.e,h.n,O);
r.set(F)}if(N){F.set(N);w.gL.Qg(N,F,h.e,h.n,O);N.set(F)}};aD.GF=function(r){if(r==null)return new gS(0,0);
var N=0,F=r.GEfs?r.GEfs.v:[{v:r}];for(var R=0;R<F.length;R++){var h=F[R].v,O=1e4;if(h.GELv&&!h.GELv.v)continue;
var m=h.GEfk.v.GEft;if(m=="GlwE"||m=="Phtc"||m=="BsRl"||m=="PlsW"||m=="Chrm"||m=="Gls"||m=="OcnR")O=0;
N=Math.max(N,O)}return new gS(N,N)};aD.a40=function(r){var N=[0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][r];
for(var R=0;R<13;R++){var h=R-6;N[R]=1/(F*Math.sqrt(2*Math.PI))*Math.exp(-.5*(h/F)*(h/F))}return N};
aD.a86=function(r,N,F,h,m){var O=aD.a40(m),e=6,P=13;for(var B=0;B<h;B++)for(var s=0;s<F;s++){var Y=B*F+s<<1,D=0,c=0;
for(var R=0;R<P;R++){var o=s+R-e,H=o<0?0:o>=F?F-1:o,x=(B*F+H)*2,Q=O[R];D+=Q*r[x];c+=Q*r[x+1]}N[Y]=D;
N[Y+1]=c}};aD.arL=function(r,N,F,h,m){var O=aD.a40(m),e=6,P=13;for(var B=0;B<h;B++)for(var s=0;s<F;s++){var Y=B*F+s<<1,D=0,c=0;
for(var R=0;R<P;R++){var o=B+R-e,H=o<0?0:o>=h?h-1:o,x=(H*F+s)*2,Q=O[R];D+=Q*r[x];c+=Q*r[x+1]}N[Y]=D;
N[Y+1]=c}};function g6(){}g6.yj=[2,5,5,7,4,4];g6.Ry="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
g6.EO="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
g6.zd=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
g6.a0F=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
g6.lF=function(r){if(r=="passThrough")return"pass";return g6.Ry[g6.EO.indexOf(r)]};g6.Cp=function(r){if(r=="pass")return"passThrough";
return g6.EO[g6.Ry.indexOf(r)]};g6.getName=function(r){return g6.zd[g6.Ry.indexOf(r)]};function C(){this.rect=null;
this.buffer=null;this.$j="norm";this.opacity=255;this.S8=!1;this.Rl=0;this.vM=0;this.Jh=!0;this.tx=[];
for(var R=0;R<10;R++)this.tx.push(0,0,255,255);this.name=null;this.add={};this.GO=null;this.Yq=null;
this.v=null;this.i1=null;this.a2g=30;this.wI=C.dH();this.ams=C.dH();this.af9=C.dH();this.aoa=C.dH();
this.Ku=0;this.pk=!1;this._f=null;this.Oo=new C.vf}C.dH=function(){var r=document.createElement("canvas");
r.width=r.height=30;return r.getContext("2d")};C.vf=function(){this.NB=!0;this.ux=!0;this.mw=w.B(0);
this.al5=w.B(0);this.FU=null;this.oB={};this.ags=null;this.eW=null;this.Qj=null;this.Cf=null;this.Bw=null;
this.xK=null;this.g7=null;this.aC=null;this.Nw=null;this.eK=null;this.PH=null;this.JY=null;this.$q=!1};
C.vf.prototype.a74=function(){this.NB=null;this.ux=!1;this.FU=null;this.$q=M._X};C.vf.prototype.a2u=function(){iL.av4(this.oB);
this.mw=w.B(0);this.al5=w.B(0);if(this.Cf)this.Cf.delete();if(this.Bw)this.Bw.delete();this.Cf=null;
this.Bw=null;var r=[this.xK,this.g7,this.aC,this.Nw,this.eK,this.PH];for(var R=0;R<6;R++)if(r[R]!=null&&r[R]instanceof M.rX)r[R].delete();
this.xK=null;this.g7=null;this.aC=null;this.Nw=null;this.eK=null;this.PH=null};C.prototype.M=function(r){if(r==null)r=this.rect.clone();
if(this.Oo.FU==null)this.Oo.FU=r;else this.Oo.FU=this.Oo.FU.fD(r)};C.prototype.zv=function(){return this.add.lsct==jJ.Ra||this.add.lsct==jJ.ab};
C.prototype.t8=function(){var r=this.add;return r.SoCo!=null||r.GdFl!=null||r.PtFl!=null};C.prototype.agc=function(){var r=this.add.lmfx;
if(r==null)return;var N=["GrFl","patternFill"];for(var R=0;R<N.length;R++){var F=an.NR[an.order.indexOf(N[R])],h=r[F].v;
if(h.length==0)continue;for(var m=0;m<h.length;m++){var O=h[m].v;if(O.enab.v&&(O.Algn==null||!O.Algn.v))this.Oo.ux=!0}}};
C.prototype.a2r=function(){var r=this.v,N=this.Oo.NB;if(this.t8())r=this.$n();if(!M._X)return r.Jg();
if(this.Oo.Bw==null||N||M._X!=this.Oo.$q){var F=r.Tm(),h=this.Oo.Bw,m=null;if(N!=!0&&N!=null){m=N.clone();
m.offset(-F.x,-F.y)}if(h==null||h.e!=F.e||h.n!=F.n){h=this.Oo.Bw=new M.Bx(F.e,F.n);m=null}h.set(r.Jg(),m)}return this.Oo.Bw};
C.prototype.a3$=function(r){var N=this.rect,F=this.buffer;if(!M._X){var h=this.S9(r,F,N);if(h){F=h.iS;
N=h.rect}return F}if(this.Oo.FU!=null||M._X!=this.Oo.$q){var h=this.S9(r,F,N);if(h){F=h.iS;N=h.rect}var m=N;
if(M._X!=this.Oo.$q||this.Oo.Cf==null||this.Oo.Cf.e!=m.e||this.Oo.Cf.n!=m.n){if(this.Oo.Cf)this.Oo.Cf.delete();
this.Oo.Cf=new M.rX(m.e,m.n);this.Oo.Cf.set(F)}else{var O=this.Oo.FU.clone();O.offset(-N.x,-N.y);this.Oo.Cf.set(F,O)}}return this.Oo.Cf};
C.prototype.N1=function(){var r=this.v;if(this.t8())r=this.$n();return r!=null&&r.isEnabled&&(!r.rect.lX()||r.Mq()!=255)};
C.prototype.S9=function(r,N,F){if(this.Ru()){var h=this.xg(r);if(h.v&&h.v.isEnabled&&(!h.v.rect.lX()||h.v.color==0)){var m=this.add.SoLd.filterFX.v;
h.v.NV=m.filterMaskDensity?m.filterMaskDensity.v:255;h.v.J_=m.filterMaskFeather?m.filterMaskFeather.v:0;
var O=h.buffer,e=h.rect;if(e.W()<F.W()){e=F;O=w.B(e.W()*4);w.L3(h.buffer,h.rect,O,e)}var P=h.v.L7(F);
w.iL(P);N=N.slice(0);w.i.lO(O,e,N,F,P,F,0,F,1);return{iS:N,rect:F}}}};C.prototype.amv=function(){var r={$M:!1,TZ:!1,T3:0,N_:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)r.TZ=!0;if(this.$n()&&this.$n().isEnabled)r.$M=!0;if(r.$M&&r.TZ){r.T3=this.$n().rect.x-this.add.vmsk.$n().rect.x;
r.N_=this.$n().rect.y-this.add.vmsk.$n().rect.y}return r};C.prototype.dD=function(r,N){if(N&&this.$n().J_!=0){N=N.clone();
var F=Math.round(this.$n().J_*2.4);N.r2(F,F)}var h=!1;if(this.add.lsct==jJ.aE)return;var m=this,O=this.$n()!=null&&this.$n().ug,e=this.add.vmsk!=null&&this.add.vmsk.ug,P=this.amv(),B=JSON.stringify(P)!=this.Oo.ags||P.$M&&O||P.TZ&&e;
if(B){if(P.TZ){var s=this.add.vmsk.$n();if(P.$M){this.v=this.$n().u8(s);this.Oo.eW=new gS(this.v.rect.x-this.$n().rect.x,this.v.rect.y-this.$n().rect.y)}else this.v=s}if(this.v)h=!0;
if(this.v)this.Oo.Qj=new gS(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if(P.$M)this.$n().ug=!1;
if(P.TZ)this.add.vmsk.ug=!1;this.M(N)}else{if(P.$M&&P.TZ){this.v.rect.x=this.$n().rect.x+this.Oo.eW.x;
this.v.rect.y=this.$n().rect.y+this.Oo.eW.y}}if(m.t8()){this.WF(r)}if(m.ve()){var Y;if(this.v)Y=new gS(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.Oo.Qj==null||!Y.cj(this.Oo.Qj))){this.Oo.Qj=Y;this.M(N);h=!0}}if(gn.get(m.add)!=null)h=!0;
if(h){var D=this.Oo.NB;if(N&&D&&D!=!0)D=D.fD(N);else D=N?N:!0;this.Oo.NB=D}this.Oo.ags=JSON.stringify(P)};
C.prototype.WF=function(r){var N=this,F=N.add.vstk,h=new fE(0,0,r.e,r.n),m,O=N.add.vmsk?this.add.vmsk.$n():null,B=!0,D;
if(O&&O.isEnabled&&O.Mq()==0)m=O.Tm().clone();else m=h;var e=N.$n();if(e&&e.isEnabled&&e.Mq()==0)m=m.c_(N.v.Tm());
var P=O&&F;if(F&&(!F.strokeEnabled.v||F.strokeStyleLineWidth.v.val==0))P=!1;if(F&&!F.fillEnabled.v&&P)B=!1;
var s=w.B(m.W()*4);if(B){if(N.add.SoCo)iL.nI(s,N.add.SoCo.Clr.v);if(N.add.GdFl){var Y=O&&O.color==0?w.H.KX(N.add.vmsk.Y,null,!0):null;
iL.tw(N.add.GdFl,s,m,r,null,Y)}if(N.add.PtFl)iL.Rf(N.add.PtFl,s,m,r.add.Patt,N.add.fxrp)}if(P)D=an.mr.bj.indexOf(F.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(O){var c=O.NV;if(P)O.NV=255;var o=w.B(m.W());if(O.Mq()!=0)o.fill(Math.round(O.Mq()));if(O&&O.isEnabled){var H=O.Tm(),x=O.Jg();
if(H.cj(m))w.ZF(x,o);else w.nZ(x,H,o,m)}if(P&&D==2){}else{if(N.add.SoCo&&B){w.vr(o,s,3)}else w.Y$(o,m,s,m)}if(P)O.NV=c}N.buffer=s;
N.rect=m;if(P){var Q=F.strokeStyleContent.v,U=an.mr.gS.indexOf(Q.classID),I=this.add.vmsk.$n(F);if(D!=0&&!N.rect.cj(h))N.extend(N.rect.fD(I.Tm()));
var c=I.NV;I.NV=255;var l=I.L7(N.rect);I.NV=c;if(I.color==255)w.iL(l);var p=w.B(N.rect.W()*4);if(U==0)iL.nI(p,Q.Clr.v);
if(U==1)iL.tw(Q,p,N.rect,r,null,O.color==0?O.rect:null);if(U==2)iL.Rf(Q,p,N.rect,r.add.Patt,N.add.fxrp);
var j=F.strokeStyleOpacity.v.val/100;if(j!=1)w.Ka(l,j);if(I.color==255)D=2-D;if(D<2){w.i.lO(p,N.rect,N.buffer,N.rect,l,N.rect,255,N.rect,1,!1);
if(D==0)w.UF(o,N.buffer)}if(D==2){w.UF(l,p);w.iL(o);w.i.lO(p,N.rect,N.buffer,N.rect,o,m,255,N.rect,1,!1);
w.iL(o)}if(I.NV!=255){var T=p.slice(0);w.T1(T,4278190080,16777215);w.i.vw("norm",T,N.rect,N.buffer,N.rect,N.rect,1-I.NV/255)}c=O.NV;
O.NV=255;this.al5=O.L7(N.rect);O.NV=c}this.M()};C.prototype.XY=function(r,N){var F=this,h=F.add.SoLd.Idnt.v,m=F.add.SoLd,O=w.p.Ce(z.Q.N3(m.nonAffineTransform)),e=r.BQ(h,m.Crop?m.Crop.v:null,[O.e,O.n],m.Impr.v.classID),c=1;
if(e==null)return;var P=e.Mk;m.Sz.v.Wdth.v=P[1].e;m.Sz.v.Hght.v=P[1].n;var B=e.EP==null?m.Rslt.v.val:e.EP,s=m.warp.v,Y=z.Q.N3(m.nonAffineTransform),D=P[1].clone();
D.e*=c;D.n*=c;D.x=(P[1].e-D.e)/2;D.y=(P[1].n-D.n)/2;var o=w.N.UD(Y,D);if(s&&!w.U5.n5(s)){var O=w.p.Ce(w.U5.bM(s)),H=O.x,x=O.y,Q=1/O.e,U=1/O.n;
o=w.N.UD(Y);o=w.N.u8(o,[Q,0,-H*Q,0,U,-x*U,0,0])}var I=z.Q.Rx(P,N?0:1,o,s,null,null,null,N);if(I==null){F.buffer=w.B();
F.rect=new fE}else if(F.Ru()){var l=F.xg(r);l.buffer=I.buffer;l.rect=I.rect.clone();this.uU(r,N)}else{F.buffer=I.buffer;
F.rect=I.rect}F.dD(r);F.M();r.M()};C.prototype.uU=function(r,N){if(N==null)N=!1;var F=this.xg(r),h=this.add.SoLd.filterFX.v,m=df.af5(h),O=new fE(0,0,r.e,r.n),e=F.rect.fD(O),P=F.rect.clone();
P.r2(m.x,m.y);var B={buffer:null,rect:e.c_(P)};B.buffer=w.B(B.rect.W()*4);w.L3(F.buffer,F.rect,B.buffer,B.rect);
if(h.enab.v&&N==!1){var s=h.filterFXList.v;for(var R=0;R<s.length;R++){var Y=s[R].v;if(Y.enab.v==!1)continue;
var D=Y.blendOptions.v,c=g6.lF(D.Md.v.BlnM),o=D.Opct.v.val/100,H=w.X.Mq(Y.FrgC.v),x=w.X.Mq(Y.BckC.v),Q=df.qG(Y),U={buffer:w.B(B.buffer.length),rect:B.rect.clone()},I=Y.Fltr?Y.Fltr.v:null;
if(gn.L4[Q]!=null){var l=gn.L4[Q],p=gn.k6(l,I);if(p)gn.dR(p,B.buffer,U.buffer,B.rect)}else df.dR(Q,B,I,H,x,U,[r.add.lnk2?r.add.lnk2:[],this.$n(),r.O0]);
if(c=="norm"&&o==1)B=U;else if(c=="norm"){w.i.lO(U.buffer,U.rect,B.buffer,B.rect,null,null,null,B.rect,o)}else{w.i.vw(c,U.buffer,U.rect,B.buffer,B.rect,B.rect,o)}}}this.rect=B.rect;
this.buffer=B.buffer;this.RR();this.M();r.M()};C.prototype.Nj=function(r,N,F){this._f=this.abA(r,N,F)};
C.prototype.ln=function(r,N){var F=this.abA(r,N,!0);if(F==null)return null;var h={EK:F.Ku,C2:F.VX,rect:F.xm};
if(h.EK==1||h.EK==3){var m=h.rect,O=w.B(m.e*m.n*4);w.vr(h.C2,O,0);w.vr(h.C2,O,1);w.vr(h.C2,O,2);w.Ac(r.$.channel,r.$.rect,O,m);
h.C2=O}return h};C.prototype.abA=function(r,N,F){var h,m,O,e,P,B,s;if(this.Ku<=0){var Y=w.B(this.rect.W());
w.Pw(this.buffer,Y,3);h=w.Ed.d_(N,{channel:Y,rect:this.rect},3);if(h==null)return null;var D=w.va(h.channel,h.rect);
e=h.rect.clone();P=this.rect.clone();m=w.B(e.W()*4);w.L3(this.buffer,P,m,e);w.vr(h.channel,m,3);O=this.buffer.slice(0);
if(!F){var c=N.channel.slice(0);w.iL(c);w.Y$(c,N.rect,O,P)}B=this.buffer.slice(0);s=this.rect.clone()}if(this.Ku==1||this.Ku==3){var o=this.Ku==1?this.$n():this.xg(r).v;
e=N.rect.clone();P=o.rect.clone();m=o.aaG(e);var O=o.channel.slice(0);if(!F)w.i.b6(o.color==255?w.a$(e.W()):w.LQ(e.W()),e,O,P,N.channel,e,1);
B=o.channel.slice(0);s=o.rect.clone()}return{Ku:this.Ku,VX:m,xm:e,$J:O,Ji:P,YT:B,Yz:s}};C.prototype.Bq=function(r,N){var F=this._f;
if(F.Ku==0){this.rect=F.Yz;this.buffer=F.YT;this.M()}if(F.Ku==1||F.Ku==3){var h=F.Ku==1?this.$n():this.xg(r).v;
h.channel=F.YT;h.rect=F.Yz;if(this.Ku==1){h.ug=!0;this.dD(r)}if(this.Ku==3)this.M()}this._f=N};C.prototype.Bi=function(r,N){if(this.Ku<=0&&N.rect.cj(this.rect)){var F=w.B(this.rect.W());
w.Pw(this.buffer,F,3);if(w.cj(r.$.channel,F)){var h=this.rect,m=this.buffer;this._f={Ku:this.Ku,VX:m.slice(0),xm:h.clone(),$J:w.B(0),Ji:new fE,YT:w.B(0),Yz:new fE};
return!0}}var O=this._f;if(O==null)return!1;if(O.Ku!=this.Ku)return!1;if(!N.rect.cj(O.xm))return!1;var e=O.Ji.fD(O.xm);
if(O.Ku<=0){if(!e.cj(this.rect))return!1;var P=w.B(O.VX.length>>2);w.Pw(O.VX,P,3);if(!w.cj(N.channel,P))return!1;
var B=w.B(e.e*e.n*4);w.L3(O.$J,O.Ji,B,e);w.i.vw("norm",O.VX,O.xm,B,e,e,1);return w.cj(B,this.buffer)}if(O.Ku==1||O.Ku==3){var s=O.Ku==1?this.$n():this.xg(r).v;
if(!e.cj(s.rect))return!1;var Y=w.B(e.W());Y.fill(s.color);w.nZ(O.$J,O.Ji,Y,e);w.i.b6(O.VX,O.xm,Y,e,N.channel,e,1);
return w.cj(Y,s.channel)}};C.prototype.zT=function(r,N,F,h){var m=this._f;m.xm.offset(N,F);var O=m.Ji.fD(m.xm);
if(m.Ku<=0){var e=w.B(O.W()*4);w.L3(m.$J,m.Ji,e,O);w.i.vw("norm",m.VX,m.xm,e,O,O,1);this.buffer=e;this.rect=O;
this.M()}else{var P=this.Ku==1?this.$n():this.xg(r).v,B=w.B(O.W());B.fill(P.color);w.nZ(m.$J,m.Ji,B,O);
w.i.b6(m.VX,m.xm,B,O,h.channel,O,1);P.channel=B;P.rect=O.clone();if(this.Ku==1){P.ug=!0;this.dD(r)}if(this.Ku==3)this.M()}};
C.prototype.agI=function(){var r=[-1,0,1,2];if(this.v)r.push(-2);if(this.i1)r.push(-3);return r};C.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
C.prototype.a6=function(j_){this.add.luni=this.name=j_};C.prototype.kq=function(r){var N=this.add.lnsr,F=this.add.TySh;
if(N=="rend"&&F){var h=gQ.Xe(F.sl);this.a6(h.slice(0,h.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
C.prototype.gv=function(){return(this.Rl&1<<1)==0};C.prototype.ve=function(){return(this.Rl&1<<4)==0};
C.prototype.uV=function(){return(this.Rl&1<<5)!=0};C.prototype.a5e=function(){var r=this;if(r.add.lnsr!="bgnd"){r.add.lnsr="bgnd";
r.a6("Background");r.add.lspf=1<<2}};C.prototype.aiy=function(){var r=this;if(r.add.lnsr=="bgnd"){delete r.add.lnsr;
r.a6("Layer 0");r.add.lspf=0}};C.prototype.gT=function(r){var N=this.add.lspf;return N==null?!1:(N>>r&1)!=0};
C.prototype.Hb=function(r){if(r&&!this.gv())this.Rl-=2;if(!r&&this.gv())this.Rl+=2};C.prototype.hO=function(){var r=this.add.lmfx;
if(r==null)return!1;for(var N in r){if(N=="masterFXSwitch")continue;if(N=="Scl")continue;if(N=="classID")continue;
if(r[N].v.length>0)return!0}return!1};C.prototype.Ru=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
C.prototype.aF=function(){var r=this.add.lmfx;if(r==null)return!1;if(!r.masterFXSwitch.v)return!1;for(var N in r){if(N=="masterFXSwitch")continue;
if(N=="Scl")continue;if(N=="classID")continue;var F=r[N].v;for(var R=0;R<F.length;R++)if(F[R].v.enab.v)return!0}return!1};
C.prototype.R5=function(r,N,F,h){var m=new fE,O=this.P$(r,F,h);if(O.indexOf(0)!=-1)m=m.fD(this.rect);
if(O.indexOf(1)!=-1){var e=this.$n(),P=e.Tm();m=F&&e.Mq()==0?m.lX()?P:m.c_(P):m.fD(P)}if(O.indexOf(2)!=-1){var B=this.add.vmsk,s=this.add.vstk,Y;
if(N){Y=w.H.KX(B.Y,B.w.length!=0?B.w:null)}else Y=w.H.KX(B.Y);if(!h&&s&&s.strokeEnabled.v){var D=s.strokeStyleLineAlignment.v.strokeStyleLineAlignment,c=s.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(D!="strokeStyleAlignInside"){var o=s.strokeStyleLineWidth.v.val;if(c=="strokeStyleMiterJoin")Y=new fE(0,0,r.e,r.n);
else Y.r2(o,o)}}m=m.fD(Y)}if(O.indexOf(3)!=-1)m=m.fD(this.xg(r).v.Tm());if(O.length==0&&this.t8())m=h?new fE(0,0,0,0):new fE(0,0,r.e,r.n);
return m};C.prototype.PG=function(){var r=this.add.artb,N=r.artboardBackgroundType.v,F=0;if(N==1)F=4294967295;
else if(N==2)F=4278190080;else if(N==3)F=0;else if(N==4){F=r.Clr.v;F=255<<24|F.Bl.v<<16|F.Grn.v<<8|F.Rd.v}else throw N;
return F};C.prototype.CN=function(){var r=this.add.artb.artboardRect.v,N=r.Btom.v,F=r.Left.v,h=r.Rght.v,top=r.Top.v;
return new fE(F,top,h-F,N-top)};C.prototype.xz=function(r){var N=C.wh(r);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=N};C.wh=function(r){var N={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
N.Btom.v=r.y+r.n;N.Left.v=r.x;N.Rght.v=r.x+r.e;N.Top.v=r.y;return N};C.prototype.P$=function(r,N,F){var h=[],m=this;
if(!N&&m.pk&&F){h.push(2)}else if(m.Ku<=0||N){if(m.ve())if(!this.rect.lX())h.push(0);if(m.$n()&&!m.$n().rect.lX())if(m.$n().AS||N)h.push(1);
if(m.add.vmsk)if(m.add.vmsk.AS||N)h.push(2);if(m.Ru()&&m.xg(r).v&&!m.xg(r).v.rect.lX())h.push(3)}else if(m.Ku==1){h.push(1);
if(m.$n().AS&&!m.$n().rect.lX()){if(m.ve())if(!this.rect.lX())h.push(0);if(m.add.vmsk)if(m.add.vmsk.AS)h.push(2)}}else if(m.Ku==3&&!m.xg(r).v.rect.lX())h.push(3);
if(m.add.artb&&h.indexOf(0)==-1)h.push(0);h.sort();return h};C.prototype.$n=function(){var r=this;return r.i1?r.i1:r.add.vmsk&&r.add.vmsk.isEnabled?null:r.v};
C.prototype.xg=function(r){var N=this.add.SoLd.placed.v,F=r.add.FEid;if(F==null)return null;for(var R=0;
R<F.length;R++)if(F[R].id==N)return F[R];return null};C.prototype.extend=function(r){w.a7T(this,r)};
C.prototype.a7M=function(r,N,F){var h=r.clone();if(this.aF()){var m=this.add.lmfx,O=N.root.Jr(N.g.indexOf(this)),e=m.gradientFillMulti.v,P=!1;
for(var R=0;R<e.length;R++)if(e[R].v.enab.v&&e[R].v.Algn.v)P=!0;if(P)h=h.fD(O.Tm(N,!1));var B=iL.aoq(this.add.lmfx,N,F);
h.offset(B.x,B.y);h.e+=B.e;h.n+=B.n}return h};C.prototype.RR=function(){if(this.ve())w.uQ(this);var r=this.$n();
if(r)r.RR()};C.prototype.clone=function(){var r=new C;r.rect=this.rect.clone();r.buffer=this.buffer.slice(0);
r.$j=this.$j;r.opacity=this.opacity;r.S8=this.S8;r.Rl=this.Rl;r.name=this.name;r.tx=this.tx.slice(0);
if(this.v)r.v=this.v.clone();if(this.i1)r.i1=this.i1.clone();for(var N in this.add)r.add[N]=ai.clone(N,this.add[N]);
return r};C.prototype.tY=function(r){var N=this;if(N.add.TySh)delete N.add.TySh;if(N.add.SoLd){var F=this.S9(r,this.buffer,this.rect);
if(F){this.buffer=F.iS;this.rect=F.rect;this.M()}delete N.add.SoLd}if(N.add.SoCo||N.add.GdFl||N.add.PtFl){if(N.add.vogk)delete N.add.vogk;
if(N.add.SoCo)delete N.add.SoCo;if(N.add.GdFl)delete N.add.GdFl;if(N.add.PtFl)delete N.add.PtFl;if(N.add.vmsk){console.log(N.i1,N.v);
delete N.add.vmsk;if(N.i1==null&&N.v)delete N.v;else if(N.i1!=null&&N.v!=null){N.v=N.i1;delete N.i1}}}if(!N.zv()&&gn.get(N.add)==null&&!this.ve())this.Rl-=16};
C.prototype.mT=function(r){var N=255,F=0;if(r==2){var h=this.add.SoLd.filterFX.v;if(h.filterMaskDensity)N=h.filterMaskDensity.v;
if(h.filterMaskFeather)F=h.filterMaskFeather.v}else{var m=r==0?this.$n():this.add.vmsk;N=m.NV;F=m.J_}return{jG:r,EH:N,U7:F}};
C.prototype.a2d=function(r){if(r.jG==2){var N=this.add.SoLd.filterFX.v;if(r.EH==255)delete N.filterMaskDensity;
else N.filterMaskDensity={t:"long",v:r.EH};if(r.U7==0)delete N.filterMaskFeather;else N.filterMaskFeather={t:"doub",v:r.U7};
this.M()}else{var F=r.jG==0?this.$n():this.add.vmsk;F.NV=r.EH;F.J_=r.U7;F.ug=!0}};C.prototype.jq=function(){var r=this,N=r.add.vmsk;
if(N==null)return;r.add.vogk=C.jq(N.Y)};C.jq=function(r){var N=[],F=w.H.jE(r);for(var h=0;h<F;h++)N.push(w.UI.LQ());
return N};var jJ={Da:0,Ra:1,ab:2,aE:3};C.Z8=function(){this.name="Mask";this.BJ=!1;this.IU={Z:255,z:0,J:0};
this.PM=50;this.dn=0;this.color=255;this.AS=!0;this.isEnabled=!0;this.tE=!1;this.NV=255;this.J_=0;this.rect=new fE;
this.channel=w.B(0);this.MW=null;this.ajI=null;this.ug=!0};C.Z8.prototype.u8=function(r){if(!this.isEnabled)return r;
var N=new C.Z8;N.color=Math.round(this.Mq()*r.Mq()/255);if(this.Mq()==0&&r.Mq()==0)N.rect=this.Tm().c_(r.Tm());
else if(r.Mq()==0)N.rect=r.Tm().clone();else if(this.Mq()==0)N.rect=this.Tm().clone();else N.rect=this.Tm().fD(r.Tm());
N.channel=this.L7(N.rect);N.NV=255;N.J_=0;var F=r.L7(N.rect);w.a1q(F,N.rect,N.channel,N.rect);return N};
C.Z8.prototype.Tm=function(){if(this.J_==0)return this.rect;var r=Math.ceil(this.J_*2.2),N=this.rect.clone();
if(N.y==0){if(N.x==0)N.e+=r;else N.r2(r,0);N.n+=r}else N.r2(r,r);return N};C.Z8.prototype.Jg=function(){if(this.J_==0&&this.NV==255)return this.channel;
if(this.J_==0){var r=this.channel.slice(0);w.iL(r);w.Ka(r,this.NV/255);w.iL(r);return r}var N=this.Tm(),F=this.aaG(N),r=w.B(N.W());
w.Hu.UW(F,r,N,this.J_);if(this.NV!=255){w.iL(r);w.Ka(r,this.NV/255);w.iL(r)}return r};C.Z8.prototype.Mq=function(){return Math.round(255-(255-this.color)*(this.NV/255))};
C.Z8.prototype.extend=function(r){w.extend(this,r,this.color)};C.Z8.prototype.RR=function(){if(this.color==255)w.iL(this.channel);
w.RR(this);if(this.color==255)w.iL(this.channel)};C.Z8.prototype.clone=function(){var r=new C.Z8;r.name=this.name;
r.BJ=this.BJ;r.IU=this.IU;r.PM=this.PM;r.dn=this.dn;r.color=this.color;r.AS=this.AS;r.isEnabled=this.isEnabled;
r.tE=this.tE;r.NV=this.NV;r.J_=this.J_;r.rect=this.rect.clone();r.channel=this.channel.slice(0);return r};
C.Z8.prototype.aaG=function(r,N){if(N==null)N=w.B(r.W());N.fill(this.color);w.nZ(this.channel,this.rect,N,r);
return N};C.Z8.prototype.L7=function(r,N){var F=this.Tm(),h=this.Jg();if(N==null)N=w.B(r.W());N.fill(this.Mq());
w.nZ(h,F,N,r);return N};C.Ug=function(){this.AS=!0;this.isEnabled=!0;this.NV=255;this.J_=0;this.Y=[{type:6},{type:8,all:0}];
this.i4=[-3,-3];this.D9=!1;this.i1=null;this.ug=!0;this.w=[];this.zJ=[]};C.Ug.prototype.offset=function(r,N){this.i1=this.$n();
w.H.nY(this.Y,new hc(1,0,0,1,r,N));this.i1.rect.offset(r,N)};C.Ug.prototype.$n=function(r){if(!this.ug&&this.i1&&r==null){this.i1.isEnabled=this.isEnabled;
return this.i1}var N=w.H.KX(this.Y),F="strokeStyleLineAlignment",h="strokeStyleLineJoinType";if(N.W()>3e4*3e4)N=new fE(0,0,100,100);
if(r&&r[F].v[F]!="strokeStyleAlignInside"){var m=1;if(r[h].v[h]=="strokeStyleMiterJoin"){var O=w.H.a7w(this.Y),e=O/2,P=Math.sin(e),B=Math.cos(e);
B/=P;P=1;var m=Math.sqrt(B*B+P*P);if(isNaN(m)||m<1)m=1}m*=r[F].v[F]=="strokeStyleAlignOutside"?1:.5;
var s=Math.ceil(r.strokeStyleLineWidth.v.val*m);s=Math.min(s,600);N.r2(s,s)}N=w.p.Bj(N);var Y=new C.Z8;
Y.color=w.H.b3(this.Y)?0:255;Y.AS=this.AS;Y.isEnabled=this.isEnabled;Y.tE=!0;Y.rect=N;Y.NV=this.NV;Y.J_=this.J_;
Y.channel=w.B(Y.rect.W());if(!N.lX())w.H.acm(this.Y,Y.channel,Y.rect,r);if(r==null){this.i1=Y;this.ug=!1}return Y};
C.Ug.prototype.clone=function(){var r=new C.Ug;r.AS=this.AS;r.isEnabled=this.isEnabled;r.NV=this.NV;
r.J_=this.J_;r.Y=C.Ug.sN(this.Y);r.i4=this.i4.slice(0);r.D9=this.D9;r.w=this.w.slice(0);r.zJ=this.zJ.slice(0);
return r};C.Ug.prototype.concat=function(r){var N=r.Y.slice(2);if(N.length==0)return;N[0].r5=3;this.Y=this.Y.concat(N)};
C.Ug.sN=function(r){var N=[];for(var R=0;R<r.length;R++){var F=r[R];if(F.type>5||F.type==0||F.type==3)N.push(JSON.parse(JSON.stringify(F)));
else N.push({type:F.type,Q$:F.Q$.clone(),F:F.F.clone(),lW:F.lW.clone()})}return N};C.Ug.ato=function(r,N,F){if(r.length!=N.length)return!1;
for(var R=2;R<r.length;R++){var h=r[R],m=N[R];if(h.type!=m.type)return!1;if(h.type==0||h.type==3){if(h.length!=m.length||!F&&h.r5!=m.r5)return!1}else if(!h.Q$.cj(m.Q$)||!h.F.cj(m.F)||!h.lW.cj(m.lW))return!1}return!0};
C.Ug.prototype.a4H=function(){var r=this.Y;for(var R=3;R<r.length;R++)if(r[R].type==0||r[R].type==3)r[R].r5=-1};
C.x_=function(){this.type=null;this.AF=2;this.$U=null;this.bp="";this._h="";this.gh="";this.open=0;this.raw=null;
this.Mk=null;this.aiB=""};C.x_.prototype.clone=function(){var r=new C.x_;r.type=this.type;r.AF=this.AF;
r.$U=this.$U;r.bp=this.bp;r._h=this._h;r.gh=this.gh;r.open=this.open;r.raw=new Uint8Array(this.raw.buffer.slice(0));
return r};C.x_.prototype.G9=function(r,N,F){if(F==null)F="none";var h=this,m=bA.Cn(h.raw.buffer),O=m=="svg"||m=="pdf";
if(h.Mk){var e=N&&O&&Math.max(h.Mk[1].e,h.Mk[1].n)<Math.max(N[0],N[1]);if(!e&&F==this.aiB)return}this.aiB=F;
if(!O)r=0;if(m==null){alert("Unsupported format: "+J.Mj(h.raw,0,4));return null}var P=bA.yU(m);if(P.mU){var B=new gp(name+(m=="psd"?"":"-"+m)+".psd"),s;
P.V9(h.raw.buffer,B,N);var Y=new fE(0,0,B.e,B.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(F)!=-1){var D=[];
for(var R=0;R<B.g.length;R++){var c=B.g[R],o=c.buffer;if(!c.rect.cj(Y)){o=w.B(Y.W()*4);w.L3(c.buffer,c.rect,o,Y);
console.log("resizing")}D.push(o)}s=w.B(Y.W()*4);w.stack.stack(D,s,F)}else{for(var R=0;R<B.g.length;
R++)if(B.g[R].t8())B.g[R].dD(B);B.IY();B.M();B.t7();s=B.G9()}h.Mk=[s,Y];h.EP=B.EP!=null&&B.EP!=0?B.EP:72}else if(P){var H=P.V9(h.raw.buffer)[0];
h.Mk=[new Uint8Array(H.data),H.I0];h.EP=H.EP!=null&&H.EP!=0?H.EP:72}if(h.Mk){if(r==1){var o=h.Mk[0],x=h.Mk[1],Q=w.B(x.W());
w.Pw(o,Q,3);var U=w.va(Q,x),I=w.B(U.W()*4);w.L3(o,x,I,U);h.Mk=[I,U]}w.A_(h.Mk)}};C.y7="0";C.wn="2";C.Nb="2.5";
C.TJ="2.6";C.Ut="3";C.CY="4";C.Hv="4.5";C.ah4="4.6";C.aea="5";C.QI="5.5";C.auf="6";C.y5="7";C.aqr="8";
C.tW="9";C.Rz="9.3";C.ahg="9.5";C.EF="9.6";C.yh="10";C.W6="11";C.q9="12";C.h1="13";C.nV="13.1";C.afq="13.2";
C.rN="13.3";C.O5="13.4";C.fr="14";C.Ix="14.1";C.TA="14.2";C.fF="14.3";C.mD="17";C.tS="18";C.aaI="19";
C.HO="19.5";C.hW="19.6";C.Rv="19.7";C.ze="20";C._n="21";C.Dd="21.5";C.Pb="22";C.J2="22.5";C.FV="23";
C.aoI="24";C.xo="25";C.a0T="26";C.aiT="27";C.eB="28";C.Yy="29";C.M9="30";C.r1="31";C.vZ="32";C.Ex="33";
C.nC="34";C.Ax="35";C.iF="36";C.CG="36.5";C.BZ="37";C.Q_="37.5";C.anw="37.6";C.er="38";C.uD="38.5";C.t0="38.6";
C.l5="39";C.ZS="40";C.a0_="41";C.aac="42";C.gN="50";C.m$="51";C.KO="52";C.SX="53";C.c2="54";C.ab8="54.5";
C.f9="54.6";C.a8L="54.7";C.tm="54.8";C.uL="55";C.e6="56";C.sA="57";C._4="58";C.Y6="59";C.Y8="60";function b9(){this.depth=0;
this.index=-1;this.a=null;this.a4r=null;this.Pg=-1;this.children=null;this.parent=null;this.qQ=null}b9.prototype.afa=function(r,N){if(this.depth!=0)r.push(this.a.getName());
if(this.children)for(var R=0;R<this.children.length;R++)this.children[R].afa(r,N);if(r.length>N.MB.length)N.MB=r.slice(0);
if(this.depth!=0)r.pop()};b9.prototype.apm=function(){var r=0;if(this.a.zv()){for(var R=0;R<this.children.length;
R++)r+=this.children[R].apm()}else if(this.a.buffer)r+=this.a.buffer.length;return r};b9.prototype.Jr=function(r){var N=this.qQ[r];
return this.qQ[r]};b9.prototype.agi=function(r,N){var F=this.a;if(!F.gv()||F.gT(2)||F.gT(31))return null;
if(F.N1()){var h=F.v.rect.PC(r);if(!h&&F.v.color==0)return}if(F.zv()){for(var R=0;R<this.children.length;
R++){var j_=this.children[R];j_.agi(r,N)}}else if(F.rect.PC(r))N.push(this.index)};b9.prototype.Bp=function(r,N){var F=this.a;
if(!F.gv()||F.gT(2)||F.gT(31))return null;if(F.N1()){if(F.v.rect.Ev(r)){if(!w.Bp(r,F.v.channel,F.v.rect))return null}else if(F.v.color==0)return null}if(F.zv()){if(F.add.artb&&!F.CN().Ev(r))return null;
for(var R=this.children.length-1;R>=0;R--){var j_=this.children[R],h=j_.Bp(r,N);if(h&&N==null)return h}return null}else if(F.add.TySh&&F.rect.Ev(r)||w.aaL(r,F.buffer,F.rect)){if(N==null)return this;
else N.push(this.index)}return null};b9.prototype.aqT=function(r){var N=this.a;if(!N.gv()||N.gT(2)||N.gT(31))return null;
var F=N.add.vmsk;if(F&&F.isEnabled){var h=w.H.Bp(F.Y,r).Jz;if(h!=-1)return{aqt:this,adU:h}}if(N.zv()){if(N.add.artb&&!N.CN().Ev(r))return null;
for(var R=this.children.length-1;R>=0;R--){var j_=this.children[R],m=j_.aqT(r);if(m)return m}return null}return null};
b9.prototype.ar$=function(r,N){r.push(this.index);if(this.a.zv()){r.push(this.Pg);if(N)if(this.a.Ku==1&&this.a.$n().AS==!1)return;
for(var R=0;R<this.children.length;R++)this.children[R].ar$(r)}};b9.prototype.e9=function(r,N,F){var h=this.a,m,O;
if(h.zv()&&h.add.artb!=null)N=h.CN();if(N.e>N.n){m=F;O=Math.floor(F*(N.n/N.e))}else{m=Math.floor(F*(N.e/N.n));
O=F}if(h.t8()&&h.add.vmsk==null||h.add.TySh)m=O=Math.max(O,16);else{m=Math.max(m,6);O=Math.max(O,6)}var e=O,P=h.t8()&&h.add.vmsk;
if(P){var B=h.rect.clone(),D,c;if(B.lX())B=new fE(0,0,20,20);var s=B.e,Y=B.n;if(s>Y){D=F;c=Math.floor(F*(Y/s))}else{D=Math.floor(F*(s/Y));
c=F}if(D*c==0)D=c=16;w.qt.JG(h.wI,D,c,B,h.buffer,h.rect,!1);w.qt.adz(h.wI,D,c);e=c}else if(h.add.TySh){w.qt.abp(h.wI,e,e,h.add.TySh)}else if(h.add.SoCo){e=Math.max(16,Math.min(m,O));
w.qt.a9R(h.wI,e,e,h.add.SoCo)}else if(h.add.GdFl){w.qt.agB(h.wI,e,e,h.add.GdFl)}else if(h.add.PtFl){w.qt.aoM(h.wI,e,e,h.add.PtFl,r)}else if(gn.get(h.add)!=null){w.qt.akn(h.wI,e,e,h.add)}else if(h.add.SoLd){w.qt.JG(h.wI,m,O,N,h.buffer,h.rect,!1);
w.qt.atG(h.wI,m,O,h.add.SoLd)}else if(h.zv()){e=16}else{if(h.ve())w.qt.JG(h.wI,m,O,N,h.buffer,h.rect,!1);
else{w.qt.a9G(h.wI,e,e)}}var o=h.$n();if(o)w.qt.qx(h.ams,m,O,N,o);if(h.Ru()&&h.xg(r)&&h.xg(r).v){var H=h.xg(r).v;
w.qt.qx(h.aoa,m,O,N,H)}if(!P&&h.add.vmsk){w.qt.qx(h.af9,m,O,N,h.add.vmsk.$n(),!0)}if(h.add.vmsk||o)e=Math.max(e,O);
h.a2g=Math.max(e,16);if(h.zv()&&(h.add.lsct==jJ.Ra||r.g.length<4e3))for(var R=0;R<this.children.length;
R++)this.children[R].e9(r,N,F)};b9.prototype.avY=function(r,N,F,h){this.depth=F;var m=r[N];if(h==null)h=[];
this.qQ=h;if(m.add.lsct==jJ.aE){this.a4r=m;this.Pg=N-1;this.children=[];var R=N+1;while(!0){var O=r[R];
if(O==null)console.log(R,r.length);if(O.add.lsct==jJ.Ra||O.add.lsct==jJ.ab){if(m.add.lyid==O.add.lyid)m.add.lyid+=16777215;
this.a=O;this.index=R-1;h[this.index]=this;h[N-1]=this;break}var e=new b9;e.parent=this;R=e.avY(r,R,F+1,h);
this.children.push(e)}return R+1}else{this.a=m;this.index=N-1;h[this.index]=this;return N+1}};b9.prototype.U1=function(r,N,F,h){var m=this.Jr(F),O=r;
while(m.parent!=null){O=m.a.a7M(O,N,h);m=m.parent}return O};b9.prototype.Tm=function(r,N){var F=this.a,h=new fE;
if(!F.gv())return h;var m=F.$n();if(F.zv())for(var R=0;R<this.children.length;R++){var O=this.children[R].Tm(r,!0);
h=h.fD(O)}else if(gn.get(F.add)!=null)h=F.N1()&&F.v.color==0?F.v.Tm().clone():new fE(0,0,r.e,r.n);else if(F.t8()&&F.add.vmsk&&F.add.vmsk.isEnabled&&F.add.vstk){h=F.rect.clone()}else if(F.t8()&&m&&m.isEnabled&&m.Mq()!=0)h=new fE(0,0,r.e,r.n);
else{h=F.R5(r,!1,!0);if(F.add.vmsk)h=w.p.Bj(h)}return N?F.a7M(h,r):h};b9.ny={delete:function(r){if(r&&r.e)r.delete()},B:function(r,N){return M._X?new M.rX(r,N):w.B(r*N*4)},zi:function(r,N,F){if(M._X){if(r==null||r.e!=N||r.n!=F){b9.ny.delete(r);
return new M.rX(N,F)}}else{if(r==null||!(r instanceof Uint8Array)||r.length!=N*F*4){b9.ny.delete(r);
return w.B(N*F*4)}}return r},nZ:function(r,N,F,h,m){(M._X?M.z7:w.L3)(r,N,F,h,m)},lO:function(r,N,F,h,m,O,e,P,R,B,s){(M._X?M.i.KB:w.i.lO)(r,N,F,h,m,O,e,P,R,B,s)},vw:function(r,N,F,h,m,O,e,P){if(M._X)M.i.kr(r,N,F,h,m,O,e,P);
else w.i.vw(r,N,F,h,m,O,e,P)},T1:function(r,N,F){if(M._X){M.y9(r);M.gc(N,F)}else w.T1(r,N,F)},aiK:function(r,N,F,h,m){if(M._X){M.i.KB(null,null,h,m,r,N,F,m,1,!1)}else{if(F==255)w.Y$(r,N,h,m);
else{var O=w.B(N.W());w.bi(h,m,O,N);w.Ir(r,O);w.T1(h,0,16777215);w.Ac(O,N,h,m)}}},qS:function(r,N,F,h){if(M._X)M.i.KB(null,null,F,h,r,N,0,h,1,!1);
else w.qS(r,N,F,h)}};b9.prototype.B6=function(r,N,F,h,m,O){var e=typeof O=="number";if(!this.a.zv()&&(e&&this.index>O||!e&&O.indexOf(this.index)==-1)){return}var P=this.a,B=iL.Me(P),s=b9.ny,Y=P.t8()?P.$n():P.v;
if(!P.gv())return;if(P.N1()&&Y.rect.lX()&&Y.Mq()==0){return}if(P.add.vstk==null&&this.Tm(h,!1).lX()){return}var D=this.Tm(h,!0).c_(F);
if(!N.cj(F)&&!F.PC(D))return;if(P.zv()&&P.add.artb){var c=P.CN();F=F.c_(c)}var o=b9.aiC(P,m,B);if(!o){this.ah8(r,N,F,h,m,O);
return}P.Oo.xK=s.zi(P.Oo.xK,D.e,D.n);s.nZ(r,N,P.Oo.xK,D,F);this.ah8(P.Oo.xK,D,F,h,m,O);s.lO(P.Oo.xK,D,r,N,null,null,0,F,P.opacity/255,P.$j=="diss",B.np)};
b9.aiC=function(r,N,F){if(F.np[0]*F.np[1]*F.np[2]==0)return!0;return r.opacity!=255&&(N.length!=0||r.zv()||r.aF())};
b9.ad0={Oo:{}};b9.prototype.ah8=function(r,N,F,h,m,O){var e=this.a,P=iL.Me(e),B=gn.get(e.add)!=null,s=b9.ny,Y=b9.aiC(e,m,P),D=Y?1:e.opacity/255,c=e.t8()?e.$n():e.v,o=e.zv()&&(e.$j=="pass"||e.add.artb)&&!(m.length>0||P.fill!=1||e.aF()),H=!e.zv()&&!B&&!e.aF()&&m.length==0,x=B&&!e.aF()&&m.length==0,j=null,T=null,V=null,L;
if(o||H||x){var Q=r,U=N;if(e.N1()){U=this.Tm(h,!1);Q=e.Oo.Nw=s.zi(e.Oo.Nw,U.e,U.n);s.nZ(r,N,e.Oo.Nw,U)}if(o)this.Xb(Q,U,F,h,O);
if(H)s.vw(e.$j,e.a3$(h),e.rect,Q,U,F,D,P);if(x){var I=e.N1()&&c.Mq()==0?c.Tm().clone():U.clone(),l=e.Oo;
if(I.cj(new fE(0,0,h.e,h.n)))l=b9.ad0;l.aC=this.ar5(Q,U,l.aC,I,e.add);P.iC=!0;s.vw(e.$j,l.aC,I,Q,U,F,D,P)}if(e.N1())s.lO(Q,U,r,N,e.a2r(),c.Tm(),c.Mq(),F,1,e.$j=="diss");
e.Oo.a74();return}var p=e.zv()&&e.$j=="pass"&&(m.length>0||P.fill!=1||e.aF()),I=e.rect;if(e.zv()){I=this.Tm(h,!1);
V=e.Oo.aC=s.zi(e.Oo.aC,I.e,I.n);s.T1(V,0);this.Xb(V,I,I,h,O);T=s.zi(e.Oo.g7,I.e,I.n);s.nZ(V,I,T,I)}else if(B){I=e.N1()&&c.Mq()==0?c.Tm().clone():N.clone();
T=s.zi(e.Oo.g7,I.e,I.n);s.T1(T,4294967295)}else{I=e.rect;j=e.a3$(h);T=s.zi(e.Oo.g7,I.e,I.n);s.nZ(j,I,T,I)}e.Oo.g7=T;
if(e.N1())s.aiK(e.a2r(),c.Tm(),c.Mq(),T,I);if(e.aF())if(e.Oo.FU||e.Oo.ux||e.Oo.$q!=M._X||e.Oo.NB||e.zv()){var E=e.add.vmsk,_=w.B(I.W());
if(iL.a3J(e.add.lmfx)){if(M._X){if(!e.zv()&&e.$n()==null&&e.rect.cj(I)&&E==null)w.Pw(e.buffer,_,3);else{var f=w.B(I.W()*4);
T.get(f);w.Pw(f,_,3)}}else w.Pw(T,_,3)}if(e.Oo.ux||e.Oo.$q!=M._X||!w.cj(_,e.Oo.mw)){var S=null;if(e.t8()&&E&&E.isEnabled&&E.$n().color==0)S=E.$n().rect;
iL.av4(e.Oo.oB);e.Oo.oB=iL.avS(_,I,e.add.lmfx,e.add.fxrp,h,S);e.Oo.mw=_;e.Oo.aqL=I}}if(e.aF())iL.a54(e.add.lmfx,e.Oo.oB,I,r,N,F);
if(e.zv()){j=s.zi(e.Oo.Nw,I.e,I.n);s.T1(j,0);if(e.$j=="pass")s.nZ(r,N,j,I);if(p)s.qS(V,I,j,I);this.Xb(j,I,F,h,O);
e.Oo.Nw=j}if(B){j=e.Oo.Nw=this.ar5(r,N,e.Oo.Nw,I,e.add)}if(e.zv()||B)L=j;else{L=s.zi(e.Oo.Nw,I.e,I.n);
s.nZ(j,I,L,I,F);e.Oo.Nw=L}s.T1(L,4278190080,16777215);for(var R=0;R<m.length;R++)m[R].B6(L,I,F,h,[],O);
var y=e.Oo.eK=s.zi(e.Oo.eK,I.e,I.n);s.nZ(r,N,y,I,F);if(B)P.iC=!0;s.vw(e.$j=="pass"?"norm":e.$j,L,I,y,I,F,1,P);
if(e.aF()){var $=e.Oo.oB.type.FrFX,Z=null;if($.length!=0){Z=$[0];for(var R=0;R<$.length;R++)if($[R].tc.e>Z.tc.e)Z=$[R];
e.Oo.PH=s.zi(e.Oo.PH,Z.tc.e,Z.tc.n);s.nZ(r,N,e.Oo.PH,Z.tc,F);e.Oo.JY=s.zi(e.Oo.JY,Z.tc.e,Z.tc.n)}iL.a9M(e.add.lmfx,e.Oo.oB,I,r,N,F,y,e.Oo.PH,e.Oo.JY,Z?Z.tc:null)}if(!M._X){var i=w.B(I.W());
w.Pw(T,i,3);T=i}s.lO(y,I,r,N,T,I,0,F,1,e.$j=="diss");e.Oo.a74()};b9.prototype.ar5=function(r,N,F,h,m){var O=gn.get(m),e;
if(O)e=gn.k6(O,m[O]);var P=b9.ny;F=P.zi(F,h.e,h.n);if(!(M._X&&N.cj(h)))P.nZ(r,N,F,h);if(e){if(M._X){var B=h.clone();
B.x=B.y=0;if(N.cj(h)){M.y9(F,B);gn.py(e,r.UX,B)}else{M.y9(F,h);F.XZ(h);gn.py(e,F.gg,B)}}else gn.dR(e,F,F,h)}return F};
b9.prototype.Xb=function(r,N,F,h,m){var O=this.children;for(var R=0;R<O.length;R++){var e=[];for(var P=R+1;
P<O.length;P++)if(O[P].a.S8)e.push(O[P]);else break;O[R].B6(r,N,F,h,e,m);R+=e.length}};function gp(r){this.mS="psd";
this.Zc=!1;this.name=r;this.U_=-1;this.oJ=null;this.Io=null;this.s7=null;this.SR=null;this.e=0;this.n=0;
this.buffer=null;this.g=[];this.xI={};this.add={};this.Hh=4;this.nU=null;this.EP=72;this.fH={};this.w=[];
this.a_=[];this.yr=!1;this.Zf=[];this.Tj=[];this.N$=[gp.Yn("Work Path")];this.ih=[];this.OW=null;this.pI={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.jh=null;this.hP=!1;this.apb=!1;this.a8T=!1;this.$Y=!1;this._a=!1;this.mR=!1;this.Pj=!1;
this.kn=!1;this.Je=!1;this.Ls=!1;this.FU=null;this.pM=null;this.$=null;this.O0=[];this.I2=[];this.d={yZ:{},eJ:[],aor:[],ij:[],Rs:[],W$:null,Uf:null,Dk:null,Cx:null,BW:[],Ul:[],ra:null};
this.history=[new g2([1,0],null)];this.oG=0;this.zj=0;this.ED=0;this.q=new fX(this);this.sr=null;this.OB=null}gp.pK=function(){var r=8,N=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
N=di.Tq(r,N);return[r,N]}();gp.prototype.Nt=function(r){if(r){this.xI.r1039=r;var N=ICC.R(r.buffer),F=N.header.spaceIn.toLowerCase(),h=JSON.stringify(N.tags.desc).toLowerCase(),m=null,O=17,B,s;
try{m=ICC.U.profileName(N)}catch(ab){}if(F!="rgb "||m==null||h.indexOf("srgb")!=-1){this.Nt(null);return}console.log("We got an ICC profile!",N,m);
var e=ICC.U.sampleLUT(N,O),P=e.slice(0),Y=w.B(4),D=gp.pK[0],c=gp.pK[1];for(var R=0;R<e.length;R+=3){Y[0]=e[R]*255;
Y[1]=e[R+1]*255;Y[2]=e[R+2]*255;ICC.U.applyLUT(c,D,Y,Y);P[R]=Y[0]/255;P[R+1]=Y[1]/255;P[R+2]=Y[2]/255}if(M._X){B=new M.rX(O,O*O);
B.set(ICC.U.rgba8LUT(e,O));s=new M.rX(O,O*O);s.set(ICC.U.rgba8LUT(P,O))}this.sr=[r,N,O,e,B,P,s]}else{delete this.xI.r1039;
this.sr=null}};gp.prototype.hl=function(){return this.sr};gp.prototype.alj=function(){if(this.sr)return this.sr;
if(this.add.fcmy==1){if(this.OB==null){var r=gp.pK[0],N=gp.pK[1],F;if(M._X){F=new M.rX(r,r*r);F.set(ICC.U.rgba8LUT(N,r))}this.OB=[null,null,r,null,null,N,F]}return this.OB}};
gp.prototype.jS=function(){var r=this.a_,N=[];for(var R=0;R<r.length;R++)N[R]=-1;var F=this.root.children;
for(var R=0;R<F.length;R++){var h=F[R],m=h.a.add.artb;if(m==null)continue;var O=m.guideIndeces;O=O?O.v:[];
for(var e=0;e<O.length;e++)N[O[e].v]=h.index}return[JSON.parse(JSON.stringify(r)),N]};gp.prototype.O4=function(r){this.a_=JSON.parse(JSON.stringify(r[0]));
var N=r[1],F=this.root.children;for(var R=0;R<F.length;R++){var h=F[R],m=h.a.add.artb;if(m==null)continue;
m.guideIndeces={t:"VlLs",v:[]}}for(var R=0;R<N.length;R++)if(N[R]!=-1)this.g[N[R]].add.artb.guideIndeces.v.push({t:"long",v:R})};
gp.prototype.abv=function(r){var N=this;if(r[0])N.add.lnk2=r[0];else delete N.add.lnk2;if(r[1])N.add.FEid=r[1];
else delete N.add.FEid;if(r[2])N.add.Patt=r[2];else delete N.add.Patt};gp.prototype.acq=function(r){var N=this,F=[],h=[],m=[],x=null,Q=null,U=null;
for(var R=0;R<r.length;R++){var O=r[R];if(O.add.SoLd){F.push(O.add.SoLd.Idnt.v);h.push(O.add.SoLd.placed.v)}if(O.add.PtFl)m.push(O.add.PtFl.Ptrn.v.Idnt.v);
if(O.add.lmfx){for(var e=0;e<an.NR.length;e++){var P=O.add.lmfx[an.NR[e]].v;for(var B=0;B<P.length;B++)if(P[B].v.Ptrn){var s=P[B].v;
if(s.classID=="FrFX"&&s.PntT.v.FrFl!="Ptrn")continue;m.push(s.Ptrn.v.Idnt.v)}}}var Y=O.add.vstk;if(Y&&Y.strokeStyleContent.v.classID=="patternLayer"){m.push(Y.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var D=N.add.lnk2,c=N.add.FEid,o=N.add.Patt;
if(D){x=[];for(var R=0;R<D.length;R++)if(F.indexOf(D[R].$U)!=-1)x.push(D[R]);if(x.length==0)x=null}if(c){Q=[];
for(var R=0;R<c.length;R++)if(h.indexOf(c[R].id)!=-1)Q.push(c[R]);if(Q.length==0)Q=null}if(o){U=[];for(var R=0;
R<o.length;R++)if(m.indexOf(o[R].id)!=-1)U.push(o[R]);if(U.length==0)U=null}return[x,Q,U]};gp.prototype.cQ=function(r){var N=this,F=N.root.Jr(r==null?N.w[0]:r),h=!1;
while(F.parent!=null){h=h||F.a.gT(31);F=F.parent}return h};gp.prototype.R2=function(){var r=this.O0,N=this.O0.length;
if(N!=0&&r[N-1].name=="Quick Mask")return r[N-1]};gp.prototype.q4=function(){return this.mS==bq.zK("% |/!)")||this.mS==bq.em("gP")};
gp.prototype.c3=function(r){var N=this.add.artd;if(r!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:r},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};gp.prototype.gV=function(r){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(r)==-1)this.add.FEid.push(r)};
gp.prototype.cX=function(r){var N=this.add.FEid.indexOf(r);this.add.FEid.splice(N,1);if(this.add.FEid.length==0)delete this.add.FEid};
gp.prototype.M=function(r){if(r==null)r=new fE(0,0,this.e,this.n);if(this.FU==null)this.FU=r;else this.FU=this.FU.fD(r)};
gp.prototype.amu=function(r){return this.FU!=null};gp.prototype.ng=function(r){var N=this.g[r],F=this.root.Jr(r);
if(F==null)return!1;if(N.zv()||F.parent.children.indexOf(F)==0)return!1;return!0};gp.aiu=function(r){if(r.add.lnk2)for(var R=0;
R<r.add.lnk2.length;R++){var N=r.add.lnk2[R].$U;r.add.lnk2[R].$U=gp.Tp()+N.slice(8);for(var F=0;F<r.g.length;
F++){var h=r.g[F].add.SoLd;if(h&&h.Idnt.v==N)h.Idnt.v=r.add.lnk2[R].$U}}};gp.prototype.$a=function(r,N,F){r.sort(function(D,c){return D-c});
var top=r[r.length-1],h=this.g.slice(0),m=this.w.slice(0),O=[],e=[];for(var R=0;R<this.g.length;R++){if(r.indexOf(R)!=-1)e.push(this.g[R]);
else O.push(this.g[R])}this.S0(e);this.w=[];var P=this.root.Tm(this,!0);if(N)P=P.c_(N);if(F)P=P.fD(F);
if(P.lX())P=new fE(0,0,100,100);var B=new fE(-P.x,-P.y,this.e,this.n),s=new Uint8Array(bA.yU("PSD").xs(this,0,0,[!0,!1]));
this.S0(h);this.w=m;var Y=new gp(this.g[top].getName());bA.yU("PSD").V9(s.buffer,Y);delete Y.add.artd;
Y.Zf=[];Y.S0(Y.g);Y.O4([[],[]]);gp.aiu(Y);z.Q6.Wb(Y,P);Y.M();Y.t7();Y.G9();return[Y,P,O,top]};gp.prototype.a0v=function(r,N,F){var h=this.$a(r),m=h[0],O=h[1],e=h[2],top=h[3],P;
if(F=="jpg")P=new Uint8Array(bA.yU("JPG").xs([[m.G9().buffer]],m.e,m.n,[80]));else P=new Uint8Array(bA.yU("PSD").xs(m,null,null,[!0,!1]));
if(N)e=this.g.slice(0);var B=this.yk(P,m.name,O.x,O.y);if(top==this.g.length-1)e.push(B);else e.splice(N?top+1:top-r.length+1,0,B);
this.S0(e);this.w=[e.indexOf(B)]};gp.Tp=function(r){if(r==null)r="";var N="";while(N==""||N==r){N="";
for(var R=0;R<8;R++)N+=Math.floor(Math.random()*16).toString(16)}return N};gp.prototype.yt=function(r){if(r==null)return;
if(this.add.Patt==null)this.add.Patt=[];var N=this.add.Patt;for(var R=0;R<N.length;R++)if(N[R].id==r.id)return;
N.push(r)};gp.prototype.yk=function(r,N,F,h,m){if(this.add.lnk2==null)this.add.lnk2=[];var O=null,D=!1;
for(var R=0;R<this.add.lnk2.length;R++)if(w.cj(r,this.add.lnk2[R].raw)){O=this.add.lnk2[R].$U;break}if(O==null){var e=bA.Cn(r.buffer);
O=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f";var P=new C.x_;P.$U=O;P.gh=e=="psd"?"8BIM":"    ";P.bp=N+"."+e;
P._h=e=="psd"?"8BPB":"    ";P.open=0;P.raw=r;P.type="liFD";P.AF=2;this.add.lnk2.push(P)}var B=this.BQ(O),s=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f",Y=this.lc();
Y.a6(N);if(B!=null){var c=0,o=0,H=this.e,x=this.n;if(m){c=m.x;o=m.y;H=m.e;x=m.n}var Q=Y.rect=B.Mk[1].clone();
Q.offset(c+F,o+h);var U=Math.max(Q.e/H,Q.n/x),D=m!=null&&U>1.0001;if(D){Q.e=Math.round(Q.e/U);Q.n=Math.round(Q.n/U);
Q.x=Math.round(c+(H-Q.e)/2);Q.y=Math.round(o+(x-Q.n)/2)}else if(m!=null&&bA.Cn(r.buffer)=="pdf"&&this.EP!=144){var U=144/this.EP;
Q.e=Math.round(Q.e/U);Q.n=Math.round(Q.n/U);D=!0}Y.buffer=w.B(Q.W()*4);if(!D)w.ZF(B.Mk[0],Y.buffer)}Y.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:O},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:s},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:w.U5.B(B?B.Mk[1]:Y.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:Y.rect.e},Hght:{t:"doub",v:Y.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:B?B.EP:72}}};
var I=w.p.fc(Y.rect).t;Y.add.SoLd.Trnf=z.Q.JE(I);Y.add.SoLd.nonAffineTransform=z.Q.JE(I);if(D)Y.XY(this,!1);
return Y};gp.prototype.G9=function(r){if(r!=null){this.M();this.t7(r);var N=this.buffer;if(M._X)this.jh.get(N);
else N=N.slice(0);this.M();this.t7();return N}if(this.FU){this.t7();this.FU=null}if(M._X&&this.pM){this.jh.get(this.buffer);
this.pM=null;this.Pj=!0}return this.buffer};gp.prototype.a2v=function(){for(var R=0;R<this.g.length;
R++)this.g[R].agc();this.M()};gp.prototype.ast=function(){for(var R=0;R<this.g.length;R++)if(this.g[R].add.lmfx)this.g[R].Oo.ux=!0};
gp.prototype.V6=function(){var r=this.xI.r1044;if(r==null){r=this.xI.r1044=new Uint8Array(4);var N=0;
for(var R=0;R<this.g.length;R++)N=Math.max(N,this.g[R].add.lyid);J.Wa(r,0,N)}var F=J.l(r,0);J.Wa(r,0,F+1);
return F+1};gp.prototype.VT=function(r,N,F){if(r==null)r=!0;var h=this;if(h.I2.length!=0)return!0;if(h.w.length!=1){if(r)alert(h.w.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.mc(r,N,F)};gp.prototype.mc=function(r,N,F){if(r==null)r=!0;if(N==null)N=!1;var h=this;
if(h.I2.length!=0)return!0;for(var R=0;R<h.w.length;R++){var m=h.g[h.w[R]],O=N||m.Ku<=0;if(m.add.lsct!=null&&m.add.lsct!=jJ.Da&&m.Ku!=1){if(r)alert(ab.get([15,7,2]));
return!1}if(O&&!m.ve()){if(r)alert(ab.get([15,7,2]));return!1}if(O&&m.add.TySh){return this.am7(r,[15,7,3],F)}if(O&&m.add.SoLd){return this.am7(r,[15,7,4],F)}if(m.gT(1)||h.cQ(h.w[R])){if(r)alert(ab.get([6,57,0]));
return!1}}return!0};gp.prototype.am7=function(r,N,F){if(r&&typeof r=="object"){var h=new gf(v.E.S);h.data={V:v.c.pr,i7:"confirm"};
h.data.h=ab.get(N)+". "+ab.get([6,8])+"?";var m=r;h.data.q3=function(){var O=new gf(v.E.nE,!0);O.data={Ja:"rasterizeLayer",Tf:{classID:"rasterizeLayer",null:fq.IT("Lyr",!0)}};
m.L(O)};r.L(h);return!1}if(r)alert(ab.get(N));return!1};gp.prototype.abN=function(r){var N=this.root.Jr(r);
if(N.parent)return N.a.gv()&&this.abN(N.parent.index);else return N.a.gv()};gp.prototype.W2=function(){var r=this;
if(r.add.artd&&r.w.length!=0){var N=r.root.Jr(r.w[0]);while(N.parent.parent)N=N.parent;if(N.a.add.artb)return N.index}return-1};
gp.prototype.ah3=function(){var r=this.g[this.w[0]];if(r.Ku<=0&&!r.rect.PC(this.$.rect)){alert("Selected area is empty.");
return!1}if(this.w.length==1&&this.$){var N=w.B(this.$.channel.length);w.bi(r.buffer,r.rect,N,this.$.rect);
w.Ir(this.$.channel,N);if(w.Rq(N,0)){alert("Selected area is empty.");return!1}}return!0};gp.prototype.kh=function(){if(this.xI["r"+1037]==null)this.gO(30);
return J.YC(this.xI["r"+1037],0)};gp.prototype.gO=function(r){if(this.xI["r"+1037]==null)this.xI["r"+1037]=new Uint8Array(4);
if(J.YC(this.xI["r"+1037],0)==r)return;J.qs(this.xI["r"+1037],0,r);this.ast()};gp.prototype.AN=function(){if(this.xI["r"+1049]==null)this.QS(30);
return J.YC(this.xI["r"+1049],0)};gp.prototype.QS=function(r){if(this.xI["r"+1049]==null)this.xI["r"+1049]=new Uint8Array(4);
if(J.YC(this.xI["r"+1049],0)==r)return;J.qs(this.xI["r"+1049],0,r);this.ast()};gp.prototype.pH=function(r){if(this.add.lnk2==null)return null;
for(var R=0;R<this.add.lnk2.length;R++)if(this.add.lnk2[R].$U==r)return this.add.lnk2[R];return null};
gp.prototype.abf=function(r){var N=this.pH(r);if(N==null)return!1;var F=bA.Cn(N.raw.buffer);if(F==null)return!1;
if(bA.yU(F)!=null||F=="psd")return!0;return!1};gp.prototype.BQ=function(r,N,F,h){var m=this.pH(r);if(m==null)return null;
m.G9(N,F,h);if(m.Mk)return m};gp.prototype.anT=function(){var r=this.e,N=this.n;if(M._X&&this.jh==null)this.jh=new M.rX(r,N,!0);
if(this.buffer==null||this.buffer.length!=r*N*4||M._X&&(this.jh.e!=r||this.jh.n!=N)){this.buffer=w.B(r*N*4);
if(this.jh)this.jh.delete();if(M._X)this.jh=new M.rX(r,N,!0)}};gp.prototype.a41=function(){this.anT();
if(M._X){this.jh.set(this.buffer)}};gp.prototype.t7=function(r){var N=this.e,F=this.n,h=new fE(0,0,N,F),m=h.c_(this.FU);
this.anT();if(m.lX())return;if(!m.cj(h)){if(!M._X){var O=w.LQ(m.W()*4);w.L3(O,m,this.buffer,h)}if(M._X){M.y9(this.jh,m);
M.gc(0)}}else{if(M._X){this.jh.set(null)}else{this.buffer.fill(0)}}var e=Date.now(),P=M._X?this.jh:this.buffer;
if(r==null)r=1e9;var B=this.root.children;for(var R=0;R<B.length;R++){var s=B[R].a;if(s.gv()&&s.add.artb){var Y=s.CN(),D=m.c_(Y),c=s.PG();
if(c!=0){if(M._X){M.y9(P,D);M.gc(c);M.gc(c)}else w.a1X(P,h,D,c)}}}this.root.B6(P,h,m,this,[],r);this.pM=this.FU.clone()};
gp.prototype.lc=function(r){var N=new C;N.rect=new fE(0,0,0,0);N.buffer=w.B(1);N.add.luni=new gS(0,0);
if(r!=!0)N.add.lyid=this.V6();N.add.lsct=jJ.Da;N.add.lclr=0;N.add.fxrp=new gS(0,0);return N};gp.prototype.Dz=function(r){var N=this.lc(r);
N.a6("</Layer group>");N.add.lsct=jJ.aE;N.Rl=24;return N};gp.prototype.uR=function(){return this.oG!=this.zj};
gp.prototype.Zy=function(r){while(this.history.length>this.oG+1)this.history.pop();if(this.zj>this.oG)this.zj=-1;
if(r.s.id!=z.Ai){this.$Y=!0;if(this.pI.lastAppliedComp){delete this.pI.lastAppliedComp;this.Pj=!0}}this.history.push(r);
this.oG++;this.Pj=!0;var N=ey.rU()?60:30,F=0;for(var R=this.history.length-1;R>=0;R--){var h=this.history[R];
if(h.gJ)continue;F++;if(F==N){this.oG-=R;this.history=this.history.slice(R);break}}};gp.prototype.xp=function(){if(this.oG!=this.history.length-1)return null;
return this.history[this.history.length-1]};gp.prototype.Js=function(r,N,F,h){if(r==null)r=!1;var m=N!=null?[N]:this.w.slice(0);
if(h){var O=[];for(var R=0;R<m.length;R++){var e=this.g[m[R]],P=e.vM;if(e.Jh&&P!=0&&O.indexOf(P)==-1)O.push(P)}if(O.length!=0)for(var R=0;
R<this.g.length;R++){var e=this.g[R],P=e.vM;if(e.Jh&&P!=0&&O.indexOf(P)!=-1&&m.indexOf(R)==-1)m.push(R)}}var B=[];
for(var R=0;R<m.length;R++){var s=this.t1(m[R],r);for(var Y=0;Y<s.length;Y++)if(B.indexOf(s[Y])==-1)B.push(s[Y]);
if(F){var j_=this.root.Jr(m[R]);while(j_.parent!=null&&j_.parent.parent!=null){j_=j_.parent;if(B.indexOf(j_.index)==-1){B.push(j_.index,j_.Pg)}}}}return B};
gp.prototype.fn=function(r,N,F){var h=this,m=h.Js(!1,r,null,F);m.sort(function(l,p){return l-p});var O={};
for(var e=0;e<h.g.length;e++){var P=h.g[e].getName();O[P]=!0}var B=[];for(var R=0;R<m.length;R++){var s=h.g[m[R]].clone(),Q,U;
s.add.lyid=h.V6();s.add.lspf=0;if(s.Ru()){var Y=s.xg(h),D=gp.ae4(Y);h.gV(D);s.add.SoLd.placed.v=D.id}else if(s.add.SoLd){var c=s.add.SoLd.placed.v;
s.add.SoLd.placed.v=gp.Tp(c.slice(0,8))+c.slice(8)}s.dD(h);var o=s.getName(),H=o.length;while(48<=o.charCodeAt(H-1)&&o.charCodeAt(H-1)<=57)H--;
var x=parseInt(o.slice(H));if(isNaN(x)){if(o.endsWith(" copy")){x=1;Q=o.slice(0,o.length-5)}else{x=0;
Q=o}}else if(o.slice(0,H).endsWith(" copy ")){x=x;Q=o.slice(0,H-6)}else{x=0;Q=o}x++;while(!0){U=Q+" copy"+(x==1?"":" "+x);
if(O[U]==null)break;x++}var I=m.indexOf(this.root.Jr(m[R]).parent.index)!=-1;if(o=="Background"&&h.g.length==1)U="Layer 1";
if(N!=!0&&!I)s.a6(U);O[U]=!0;B.push(s)}return B};gp.ae4=function(r){return{id:gp.Tp(r.id.slice(0,8))+r.id.slice(8),buffer:r.buffer.slice(0),rect:r.rect.clone(),v:r.v?r.v.clone():null}};
gp.a4v=function(r){return{id:r,rect:new fE,buffer:w.B(1),v:new C.Z8}};gp.Yn=function(r,N){if(N==null)N={vmsk:new C.Ug};
if(N.vogk==null){N.vogk=[];var F=w.H.jE(N.vmsk.Y);for(var h=0;h<F;h++)N.vogk.push(w.UI.LQ())}return{name:r,Jz:0,add:N}};
gp.prototype.bN=function(r){var N=[],F=[],h=this,O=0;for(var R=1;R<h.N$.length;R++){var m=h.N$[R];m.Jz=-1-R;
N.push(m);if(h.ih.indexOf(R)!=-1)F.push(N.length-1)}if(h.N$[0].add.vmsk.Y.length>2){var m=h.N$[0];m.Jz=-1;
N.push(m);if(h.ih.indexOf(0)!=-1)F.push(N.length-1)}var e=h.OW==null;if(e)h.OW=[];for(var R=h.w.length-1;
R>=0;R--){var P=h.g[h.w[R]],B=P.add.TySh;if(P.add.vmsk!=null&&(P.pk||P.t8())){var m=gp.Yn("\""+P.getName()+"\" Shape Path",P.add);
m.Jz=h.w[R];N.push(m);if(e)h.OW.push(O);if(h.OW.indexOf(O)!=-1)F.push(N.length-1);O++}if(r!=!0&&B&&B.add&&w.U5.n5(B._u)){var m=gp.Yn("\""+P.getName().slice(0,10)+"..\" Text Path",B.add);
m.Jz=1e6+h.w[R];N.push(m);F.push(N.length-1);O++}}if(F.length==0&&r){h.N$[0].Jz=-1;h.ih=[0];F.push(N.length);
N.push(h.N$[0])}return[N,F]};gp.prototype.t1=function(R,r){var N=[],j_=this.root.Jr(R);if(j_)j_.ar$(N,r);
return N};gp.prototype.q7=function(){this.root.e9(this,new fE(0,0,this.e,this.n),32*z.G())};gp.prototype.S0=function(r){for(var R=0;
R<this.g.length;R++){var N=this.g[R];if(r.indexOf(N)==-1){N.Oo.a2u();N.M()}}var F=0;for(var R=0;R<r.length;
R++)if(r[R].add.artb)F++;this.c3(F);this.g=r.slice(0);this.IY()};gp.prototype.IY=function(){var r=this.g,N=r.length;
this.root=new b9;var F=this.lc(!0);F.$j="pass";F.add.lsct=jJ.Ra;F.a6("");var h=this.Dz(!0),m=[h];for(var R=0;
R<N;R++)m.push(r[R]);m.push(F);this.root.avY(m,0,0);if(this.w.length==0)this.w=[N-1]};gp.prototype.xA=function(){if(this.w.length!=1)return;
var r=this.root.Jr(this.w[0]);while(r.parent!=null){var N=r.parent.a;N.add.lsct=jJ.Ra;r=r.parent}this.mR=this.avz=!0};
gp.prototype.ahf=function(){this.IY();var r=[this.root],ed=0;while(r.length!=0){var top=r.pop();ed++;
if(top.a.add.lsct==jJ.Ra)for(var R=0;R<top.children.length;R++)r.push(top.children[R])}if(ed>1e3){var N=this.root.children;
for(var R=0;R<N.length;R++)if(N[R].a.add.lsct==jJ.Ra)N[R].a.add.lsct=jJ.ab}};gp.st=function(r,N,F,h,m,O,e,P){if(P==null)P="sRGB IEC61966-2.1";
var B={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:h},artboard:{t:"bool",v:O},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:r}},Hght:{t:"UntF",v:{type:"#Rlt",val:N}},Rslt:{t:"UntF",v:{type:"#Rsl",val:F}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:m}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:P}}}};
if(m=="Clr")B.Nw.v.FlCl={t:"Objc",v:e};return{Ja:"make",Tf:B}};gp.aks=function(r,N){var F=0,h=0,m=72,O=N.ary,e=r.preset&&r.preset.v=="Clipboard";
if(e){F=O.e;h=O.n}else{F=r.Wdth.v.val;h=r.Hght.v.val;m=r.Rslt.v.val}var P=new gp((r.Nm?r.Nm.v:ab.get([11,7]))+".psd");
P.e=F;P.n=h;P.EP=m;var B=r.Fl?r.Fl.v.Fl:"Wht";if(r.artboard&&r.artboard.v){var s=P.lc();s.a6("Artboard 1");
s.add.lsct=jJ.Ra;s.xz(new fE(0,0,F,h));s.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[B]};
if(B=="Clr")s.add.artb.Clr={t:"Objc",v:w.X.QA(w.X.Mq(r.FlCl.v))};s.$j="pass";s.Rl=24;var Y=P.lc();Y.a6("Layer 1");
P.S0([P.Dz(),Y,s]);P.c3(1);P.w=[1]}else{var D=P.lc(),c=0;D.a6("Background");P.S0([D]);D.add.lspf=1<<2;
if(B=="Clr"){c=w.X.Mq(r.FlCl.v);c=255<<24|Math.round(c.J)<<16|Math.round(c.z)<<8|Math.round(c.Z)}else{var o=N.lo;
o=(o&255)<<16|(o>>>8&255)<<8|o>>>16;c={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|o}[B]}D.rect=new fE(0,0,F,h);
D.buffer=w.B(F*h*4);w.T1(D.buffer,c)}P.buffer=w.B(F*h*4);var H=r.profile;if(H){var x={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[H.v];
if(x)P.Nt(bA.pU.get(x))}return P};function fX(r){this._I=r;this.O=0;this.bP=1;this.r=new gS(0,0);this.qm=new gS(0,0);
this.MJ=0;this.Hr=[1,1,1];this.CH=0;this.Yg=new fE(0,0,1,1);this.arv=new fE(0,0,r.e,r.n);this.g1=null;
this.DI=null;this.oY=new Uint32Array(0);this.eh=null;this.th=null;this.AW=w.B(0);this.X1=null;this.z8=null}fX.prototype.XA=function(r){var N=new hc,F=this.Yg,h=this._I,m=r?this.bP:this.O,O=r?this.qm:this.r,e=Math.round((F.e-h.e*m)/2+O.x),P=Math.round((F.n-h.n*m)/2+O.y);
N.translate(-e,-P);N.scale(1/m,1/m);var B=h.e/2,s=h.n/2;N.translate(-B,-s);N.rotate(this.MJ);N.translate(B,s);
return N};fX.prototype.ako=function(r){var N=this.Yg,F=this._I,h=Math.atan2(-r.J,r.O$),m=F.e/2,O=F.n/2;
r.translate(-m,-O);r.rotate(-h);r.translate(m,O);var e=1/r.zf();r.scale(e,e);var P=-r.HG,B=-r.SS,s=Math.round(P-(N.e-F.e*e)/2),Y=Math.round(B-(N.n-F.n*e)/2);
if(Math.abs(e-Math.round(e))<1e-6)e=Math.round(e);this.MJ=h;this.O=e;this.r=new gS(s,Y)};fX.prototype.RX=function(r,N){var F=this.XA();
return F.eS(new gS(r,N))};fX.prototype.l9=function(r,N){var F=this.XA();F.iL();return F.eS(new gS(r,N))};
function an(){}an.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");an.NR="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
an.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];an.a3P=["DrSh","IrSh","SoFi","GrFl","FrFX"];
an.eA=["Clr"];an.ZE="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");an.bf=["Ptrn","Angl","Scl","Algn","phase"];
an.JT={SD:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a1D:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a5S:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",amV:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Mr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
an.JT.SD="\"Clr\": "+an.JT.SD;an.JT.X="\"Grad\":"+an.JT.a1D+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
an.JT.Mr="\"Ptrn\":"+an.JT.Mr+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
an.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
an.O7=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+an.JT.SD+","+an.JT.X+","+an.JT.Mr+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+an.JT.SD+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+an.JT.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+an.JT.Mr+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
an.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
an.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],RQ:["SClr","GrFl","Ptrn"],amd:[[13,0],[12,37],[12,62]]};
an.VU={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a30:["SrcC","SrcE"],aqi:[[19,5,1],[12,69]]};an.N5={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],akP:["SfBL","PrBL","Slmt"],al0:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
an.mr={_6:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],bj:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],gS:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+an.JT.SD+"}")},strokeStyleResolution:{t:"doub",v:72}}};
an.qe=[{classID:"null",Clr:JSON.parse(an.O7[5]).Clr},{classID:"null",Grad:JSON.parse(an.O7[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(an.O7[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var iL={};iL.j9=function(r,N){function F(r,c){if(r==null)return null;var o=r[c].v,H;if(o.length!=0){H=o[0].v;
if(!H.enab.v)H=null}return H}var h=N.SoCo,m=N.GdFl,O=F(r,"solidFillMulti"),e=F(r,"gradientFillMulti");
if(O==null&&e==null)return[h,m];var P=iL.aal;if(h&&O&&e==null){var B=JSON.parse(JSON.stringify(h));B.Clr.v=P(O.Clr.v,h.Clr.v,O);
return[B,null]}if(m&&O&&e==null){var s=JSON.parse(JSON.stringify(m)),Y=s.Grad.v.Clrs.v;for(var R=0;R<Y.length;
R++){var D=Y[R].v.Clr;D.v=P(O.Clr.v,D.v,O)}return[null,s]}if(h&&e){var s=JSON.parse(JSON.stringify(e)),Y=s.Grad.v.Clrs.v;
for(var R=0;R<Y.length;R++){var D=Y[R].v.Clr;D.v=P(D.v,h.Clr.v,e)}return[null,s]}return[O,e]};iL.aoW={eR:w.B(4),H2:w.B(4),Z:new fE(0,0,1,1)};
iL.aal=function(r,N,F){var h=g6.lF(F.Md.v.BlnM),m=F.Opct.v.val/100,O=iL.aoW;r=w.X.Mq(r);N=w.X.Mq(N);
O.eR[0]=r.Z;O.eR[1]=r.z;O.eR[2]=r.J;O.eR[3]=255;O.H2[0]=N.Z;O.H2[1]=N.z;O.H2[2]=N.J;O.H2[3]=255;w.i.vw(h,O.eR,O.Z,O.H2,O.Z,O.Z,m);
return{classID:"RGBC",Rd:{t:"doub",v:O.H2[0]},Grn:{t:"doub",v:O.H2[1]},Bl:{t:"doub",v:O.H2[2]}}};iL.alJ=function(r,N,F){var h=r;
r=r.slice(0);var m=g6.Ry[g6.EO.indexOf(N.Md.v.BlnM)],O=w.X.Mq(N.Clr.v),e=4278190080|Math.round(O.J)<<16|Math.round(O.z)<<8|Math.round(O.Z),P=w.B(F.W()*4);
w.T1(P,e);w.i.vw(m,P,F,r,F,F,N.Opct.v.val/100);for(var R=0;R<r.length;R+=4)r[R+3]=h[R+3];return r};iL.Fx=function(r,N){var F=["Sz","blur","Sftn","Dstn"];
for(var R=0;R<an.order.length;R++){var h=an.order[R],m=r[an.NR[R]].v;for(var O=0;O<m.length;O++){var e=m[O].v;
for(var P=0;P<F.length;P++){var B=e[F[P]];if(B){var s=B.v.val,Y=s;Y=Math.max(s==0?0:1,Y*N);if(h=="ChFX")Y=Math.min(Y,250);
if(h=="ebbl"){if(F[P]=="blur")Y=Math.min(Y,250);if(F[P]=="Sftn")Y=Math.min(Y,16)}B.v.val=Math.round(Y)}}if(h=="ebbl"||h=="patternFill"||h=="FrFX")if(e.Ptrn&&e.Scl)e.Scl.v.val=Math.max(1,Math.min(1e3,e.Scl.v.val*N))}}};
iL.aoq=function(r,N,F){var h=new fE(-.5,-.5,1,1);for(var R=0;R<an.order.length;R++){var m=an.order[R],O=r[an.NR[R]].v;
for(var e=0;e<O.length;e++){var P=O[e].v,D;if(!P.enab.v)continue;var B=P.blur?P.blur.v.val+1:0,s=P.Ckmt?P.Ckmt.v.val/100:0,Y=Math.round(B*s);
if(m=="DrSh"||m=="IrSh"&&F){D=new fE(-.5,-.5,1,1);D.r2(B,B);iL.Or(D,P,N,0)}if(m=="OrGl"||m=="IrGl"&&F){D=new fE(-.5,-.5,1,1);
D.r2(B,B)}if(m=="FrFX"){var c=iL.DL(P),o=c[1];if(F)o=Math.max(c[0],o);D=new fE(-.5,-.5,1,1);D.r2(Math.ceil(o),Math.ceil(o))}if(m=="ebbl"){var B=P.blur.v.val,H=P.bvlS.v.BESl;
if(H=="Embs"||H=="PlEb")B/=2;var x=["OtrB","InrB","Embs","PlEb","strokeEmboss"],Q=["SfBL","PrBL","Slmt"],U=["In","Out"],I=P.bvlT.v.bvlT!="SfBL"?B:B*.43,l=Math.round(B);
D=new fE(-l-1,-l-1,2*l+2,2*l+2)}if(F&&m=="ChFX"){D=new fE(-.5,-.5,1,1);D.r2(B,B);var p=D.clone();iL.Or(D,P,N,0);
iL.Or(p,P,N,Math.PI);D=D.fD(p)}if(D)h=h.fD(D)}}if(h.x!=Math.ceil(h.x)){h.x=Math.ceil(h.x);h.e-=1}if(h.y!=Math.ceil(h.y)){h.y=Math.ceil(h.y);
h.n-=1}h.e=Math.floor(h.e);h.n=Math.floor(h.n);return h};iL.DL=function(r){var N=0,F=0,h=r.Styl.v.FStl,m=r.Sz.v.val;
if(h=="OutF")F=m;if(h=="InsF")N=m;if(h=="CtrF")N=F=m/2;return[N,F]};iL.agG=function(r){if(M._X&&r.bw==null){r.bw=new M.rX(r.uT.e,r.uT.n);
r.bw.set(r.iS);delete r.iS;if(r.Wk){r.zz=new M.Bx(r.uT.e,r.uT.n);r.zz.set(r.Wk);delete r.Wk}if(r.XG){r.I_=new M.Bx(r.uT.e,r.uT.n);
r.I_.set(r.XG);delete r.XG}}};iL.ahp=function(r){if(r.bw)r.bw.delete();if(r.zz)r.zz.delete();if(r.I_)r.I_.delete()};
iL.av4=function(r){if(r.all==null)return;for(var R=0;R<r.all.length;R++){iL.ahp(r.all[R])}};iL.avS=function(r,N,F,h,m,O){var e=iL.ce(F,h,r,N,m,O);
for(var R=0;R<e.all.length;R++)iL.agG(e.all[R]);return e};iL.a3J=function(r){for(var R=0;R<an.order.length;
R++){var N=an.order[R],F=an.NR[R],h=r[F].v;for(var m=0;m<h.length;m++){var O=h[m].v;if(O.enab.v&&["patternFill","GrFl","SoFi"].indexOf(N)==-1)return!0}}return!1};
iL.ce=function(r,N,F,h,m,O){if(O==null)O=h;var e=0,P=0;for(var R=0;R<an.order.length;R++){var B=an.order[R],s=an.NR[R],Y=r[s].v;
for(var D=0;D<Y.length;D++){var c=Y[D].v;if(B=="DrSh"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0)e=Math.max(e,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(B=="OrGl"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0&&c.GlwT.v.BETE=="SfBL")e=Math.max(e,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(B=="OrGl"&&c.enab.v&&c.blur.v.val>0&&c.GlwT.v.BETE=="PrBL")e=Math.max(e,c.blur.v.val);if(B=="FrFX"&&c.enab.v&&c.Sz.v.val>0){if(c.Styl.v.FStl=="OutF")e=Math.max(e,c.Sz.v.val);
if(c.Styl.v.FStl=="CtrF")e=Math.max(e,Math.ceil(c.Sz.v.val/2));P=Math.max(P,iL.DL(c)[1])}}}var o=new iL.H_(F,h,e,iL.a3J(r)),H=-h.x,x=-h.y,Q={type:{},all:[]};
for(var U=0;U<an.order.length;U++){var B=an.order[U],s=an.NR[U];Q.type[B]=[];for(var I=r[s].v.length-1;
I>=0;I--){var l=r[s].v[I].v,V;if(!l.enab.v)continue;var p=l.blur?l.blur.v.val:0,j=l.Ckmt?l.Ckmt.v.val/100:0,T=p*j;
if(B=="DrSh"){var E=o.Kl(T,p-T,!0),_=E.c4,f=E.NQ;f.offset(H,x);iL.Ll(_,l,!1);iL.Or(f,l,m,0);var S=w.B(f.W()*4);
iL.nI(S,l.Clr.v);w.vr(_,S,3);V={iS:S,uT:f,al6:l.layerConceals.v}}else if(B=="IrSh"){var E=o.Kl(T,p-T,!1);
iL.Or(E.NQ,l,m,0);var f=o.rect().clone(),_=w.B(f.W());_.fill(255);w.nZ(E.c4,E.NQ,_,f);iL.Ll(_,l,!0);
var S=w.B(f.W()*4);iL.nI(S,l.Clr.v);w.vr(_,S,3);f.offset(H,x);V={iS:S,uT:f}}else if(B=="GrFl"){var S=w.B(o.rect().W()*4);
iL.tw(l,S,o.rect(),m,null,O);var f=o.rect().clone();f.offset(H,x);V={iS:S,uT:f}}else if(B=="SoFi"){var S=w.B(o.c4().length*4);
iL.nI(S,l.Clr.v);var f=o.rect().clone();f.offset(H,x);V={iS:S,uT:f}}else if(B=="ebbl"){var L=!1;if(L)console.log(l);
var y=Date.now(),$=l.bvlS.v.BESl;if($=="strokeEmboss"){var Z=r.frameFXMulti.v;if(Z.length==0)continue;
Z=Z[0].v;if(!Z.enab.v)continue;var i=Z.Styl.v.FStl;if(i=="OutF")$="OtrB";if(i=="CtrF")$="Embs";if(i=="InsF")$="InrB"}var p=l.blur.v.val;
if(p==0)p=.7;if($=="Embs"||$=="PlEb")p/=2;var b=["OtrB","InrB","Embs","PlEb","strokeEmboss"],G=["SfBL","PrBL","Slmt"],g=["In","Out"],u=l.bvlT.v.bvlT!="SfBL"?p:p*.45,A=Math.round(p),a=o.rect().clone(),d=a.clone();
d.r2(A,A);var K=d.e,n=d.n,t=K*n,X=w.B(t);w.nZ(o.c4(),a,X,d);var aK=new Float64Array(t),fg=new Float64Array(t);
w.style.rZ(X,aK,K,n);w.iL(X);w.style.rZ(X,fg,K,n);if(L)console.log("distTransform computed",Date.now()-y);
for(var R=0;R<t;R++)fg[R]=fg[R]-aK[R];for(var R=0;R<t;R++){var k=fg[R];if(k<-u)fg[R]=-u;else if(k>u)fg[R]=u}if(L)console.log("summing + cropping",Date.now()-y);
if(l.bvlT.v.bvlT=="SfBL"){var hG=Math.pow(p*.21,1.22);if(!0)hG=Math.max(hG,2);var eE=w.Hu.uk(hG,2);w.Hu.N4(fg,aK,d,eE[0]>>>1);
w.Hu.N4(aK,fg,d,eE[1]>>>1)}if(L)console.log("blurring",Date.now()-y);var hW=fg,hh=hW.slice(0);if(l.useShape.v){var hI=Math.min(100,l.Inpr.v.val+1)/100;
if($!="OtrB"&&$!="InrB")hI=1;var db=w.WC.vh(l.MpgS.v.Crv.v,2e3),by=Math.round(2e3/hI);db=w.WC.auO(db,by,$=="InrB");
var jM=.5/u;for(var R=0;R<t;R++){var fP=hW[R],hB=.99999*(fP+u)*jM;hW[R]=-u+2*u*db[~~(hB*(by-1))]}if(L)console.log("applying shape",Date.now()-y)}if(l.useTexture.v){var iu=w.B(K*n*4);
iL.Rf(l,iu,d,m.add.Patt,N);var be=w.B(K*n);w.oD(iu,be);var bp=w.B(K*n);w.Hu.AC(be,bp,d,1);be=bp;var ij=p*l.textureDepth.v.val*(1/100)*(1/255);
if(l.InvT.v)ij=-ij;for(var R=0;R<t;R++)hW[R]+=-ij*be[R];if(L)console.log("applying texture",Date.now()-y)}var fT=(l.bvlT.v.bvlT=="SfBL"?1:.5)*(l.bvlD.v.BESs=="In"?1:-1)*l.srgR.v.val/100;
for(var R=0;R<t;R++)hW[R]*=fT;if(L)console.log("scaling",Date.now()-y);var ei=l.uglg&&l.uglg.v?m.kh():l.lagl.v.val;
ei=ei*(Math.PI/180);var bz=l.uglg&&l.uglg.v?m.AN():l.Lald.v.val;bz=bz*(Math.PI/180);var aM=Math.cos(ei)*Math.cos(bz),hw=-Math.sin(ei)*Math.cos(bz),hx=Math.sin(bz),fm=new Float64Array(t),dE=new Float64Array(t),gD=$=="PlEb";
for(var c2=0;c2<n;c2++)for(var bQ=0;bQ<K;bQ++){var R=c2*K+bQ,f9=0,jR=0,gP=1;if(c2!=0&&c2!=n-1&&bQ!=0&&bQ!=K-1){var jh=hW[R-K-1],k6=hW[R-K+1],eZ=hW[R+K-1],b5=hW[R+K+1];
f9=-.125*(k6+2*hW[R+1]+b5-(jh+2*hW[R-1]+eZ));jR=-.125*(eZ+2*hW[R+K]+b5-(jh+2*hW[R-K]+k6))}else{var fG=hW[R];
jR=-(c2==0?hW[R+K]-fG:c2==n-1?fG-hW[R-K]:.5*(hW[R+K]-hW[R-K]));f9=-(bQ==0?hW[R+1]-fG:bQ==K-1?fG-hW[R-1]:.5*(hW[R+1]-hW[R-1]))}var jG=1/Math.sqrt(f9*f9+jR*jR+1);
f9*=jG;jR*=jG;gP*=jG;var i_=f9*aM+jR*hw+gP*hx,aY=i_;if(gD)aY=-f9*aM-jR*hw+gP*hx;if(i_>0)fm[R]=i_;if(aY>0)dE[R]=aY}if(L)console.log("raycasting",Date.now()-y);
if(l.Sftn.v.val!=0){w.Hu.gK(fm,aK,d,l.Sftn.v.val*.43);var jk=aK,aK=fm,fm=jk;if(gD){w.Hu.gK(dE,aK,d,l.Sftn.v.val*.43);
var jk=aK,aK=dE,dE=jk}else w.ZF(fm,dE)}if(L)console.log("softening",Date.now()-y);var db=w.WC.vh(l.TrnS.v.Crv.v,1024);
for(var R=0;R<t;R++){fm[R]=db[~~(fm[R]*1024)];dE[R]=db[~~(dE[R]*1024)]}if(L)console.log("contour remap",Date.now()-y);
K=Math.round(K);n=Math.round(n);var ih=w.B(K*n*4);iL.nI(ih,l.hglC.v);var jr=w.B(K*n*4);iL.nI(jr,l.sdwC.v);
var hV=w.B(K*n*4);iL.nI(hV,l.hglC.v);var ds=w.B(K*n*4);iL.nI(ds,l.sdwC.v);var jA=1/hx,eI=1/(1-hx),jM=1/u,hH=new Float64Array(1e3);
for(var R=0;R<1e3;R++)hH[R]=Math.pow(R*.001,.2);for(var c2=0;c2<n;c2++)for(var bQ=0;bQ<K;bQ++){var R=c2*K+bQ,bO=4*R+3,k7=0,dO=0;
k7=fm[R];dO=dE[R];var cG=Math.max(0,Math.min(.9999,(hh[R]+u*.993)*jM));cG=hH[Math.floor(cG*1e3)];var cV=cG*(1-Math.min(1,k7*jA)),g3=cG*(1-Math.min(1,(1-k7)*eI)),gh=cG*(1-Math.min(1,dO*jA)),bH=cG*(1-Math.min(1,(1-dO)*eI));
jr[bO]=Math.round(255*cV);ih[bO]=Math.round(255*g3);ds[bO]=Math.round(255*gh);hV[bO]=Math.round(255*bH)}if(L)console.log("baking textures",Date.now()-y);
d=o.rect().clone();d.r2(A,A);d.offset(H,x);V={aff:l.bvlS.v.BESl=="strokeEmboss"};var gF=g6.lF(l.hglM.v.BlnM),hu=l.hglO.v.val/100,aB=g6.lF(l.sdwM.v.BlnM),c8=l.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf($)!=-1){V.jd={iS:ih,uT:d,$T:gF,Ro:hu};V.gB={iS:jr,uT:d,$T:aB,Ro:c8}}if(["OtrB","Embs","PlEb"].indexOf($)!=-1){V.H0={iS:hV,uT:d,$T:gF,Ro:hu};
V.IK={iS:ds,uT:d,$T:aB,Ro:c8}}if(L)console.log(Date.now()-y)}else if(B=="patternFill"){var bM=o.rect(),S=w.B(bM.W()*4);
iL.Rf(l,S,bM,m.add.Patt,N);var f=bM.clone();f.offset(H,x);V={iS:S,uT:f}}else if(B=="ChFX"){var S=w.B(o.c4().length*4);
iL.nI(S,l.Clr.v);var p=l.blur.v.val,ig=o.rect().clone();ig.r2(p,p);var fe=w.B(ig.W()),e6=w.B(ig.W());
w.nZ(o.c4(),o.rect(),e6,ig);w.Hu.UW(e6,fe,ig,p*.43);var iy=w.WC.X8(l.MpgS.v.Crv.v,256,!0);w.dx(fe,iy);
var jc=w.B(o.c4().length),bm=w.B(o.c4().length),cu=o.rect().clone();iL.Or(cu,l,m,0);w.nZ(fe,ig,jc,cu);
cu=o.rect().clone();iL.Or(cu,l,m,Math.PI);w.nZ(fe,ig,bm,cu);var fC=jc.length;for(var R=0;R<fC;R++)S[4*R+3]=Math.abs(jc[R]-bm[R]);
if(l.Invr.v)for(var R=0;R<fC;R++)S[4*R+3]=255-S[4*R+3];var f=o.rect().clone();f.offset(H,x);V={iS:S,uT:f}}else if(B=="OrGl"){var E;
if(l.GlwT.v.BETE=="SfBL")E=o.Kl(T,p-T,!0);else E=o.aqQ(p,j,!0);var _=E.c4,f=E.NQ,cm=_.slice(0);iL.a97(_,l);
var S=w.B(f.W()*4);if(l.Grad==null){iL.nI(S,l.Clr.v);iL.Ll(_,l,!1)}else{iL.Ll(_,l,null);var i4={IC:_,v1:255,Kh:0,wR:f};
iL.tw(l,S,f,m,i4);var fz=l.Nose.v.val/100,iB=f.e;for(var R=0;R<cm.length;R++){var g5=255,cv=cm[R];if(cv<32){var il=(cv+cm[R-1]+cm[R+1]+cm[R-iB]+cm[R+iB])*.2-1;
g5=Math.min(255,Math.round(Math.max(0,il)*8))}_[R]=g5}iL.aqx(_,l)}w.vr(_,S,3);f.offset(H,x);V={iS:S,uT:f}}else if(B=="IrGl"){var E;
if(l.GlwT.v.BETE=="SfBL")E=o.Kl(T,p-T,!1);else E=o.aqQ(p,j,!1);var _=E.c4,f=E.NQ;iL.a97(_,l);if(l.glwS.v.IGSr=="SrcC")w.iL(_);
var S=w.B(f.W()*4);if(l.Grad==null){iL.nI(S,l.Clr.v);iL.Ll(_,l,!0)}else{iL.Ll(_,l,null);var i4={IC:_,v1:255,Kh:0,wR:f};
iL.tw(l,S,f,m,i4);_.fill(255);iL.aqx(_,l)}w.vr(_,S,3);f.offset(H,x);V={iS:S,uT:f}}else if(B=="FrFX"){var js=iL.DL(l),iH=js[0],ju=js[1],f=o.rect().clone(),jQ=null,cD=null;
f.r2(Math.ceil(P),Math.ceil(P));if(ju>0){var E=o.Kl(ju,0,!0);cD=E.c4;if(cD.length<f.W()){cD=w.B(f.W());
w.nZ(E.c4,E.NQ,cD,f)}}if(iH>0){var E=o.Kl(iH,0,!1);jQ=w.B(f.W());jQ.fill(255);w.nZ(E.c4,E.NQ,jQ,f)}f.offset(H,x);
var S=w.B(f.W()*4),dZ=l.PntT.v.FrFl;if(dZ=="SClr")iL.nI(S,l.Clr.v);if(dZ=="GrFl")iL.tw(l,S,f,m,o.auw(iH,ju));
if(dZ=="Ptrn")iL.Rf(l,S,f,m.add.Patt,N);V={iS:S,uT:f,XG:cD,Wk:jQ}}Q.type[B].push(V);if(B=="ebbl"){if(V.jd)Q.all.push(V.jd,V.gB);
if(V.H0)Q.all.push(V.H0,V.IK)}else{V.$T=g6.lF(l.Md.v.BlnM);V.Ro=l.Opct.v.val/100,Q.all.push(V)}}}return Q};
iL.X2=function(r){var N=1/Math.sqrt(r.x*r.x+r.y*r.y+r.nD*r.nD);r.x*=N;r.y*=N;r.nD*=N};iL.a38=function(r,N){return{x:r.y*N.nD-r.nD*N.y,y:r.nD*N.x-r.x*N.nD,nD:r.x*N.y-r.y*N.x}};
iL.acX=function(r,N){return r.x*N.x+r.y*N.y+r.nD*N.nD};iL.aqx=function(r,N){var F=N.Nose.v.val/100;if(F>0)for(var R=0;
R<r.length;R++){var h=r[R];h=Math.min(510-(1+F)*w.style.Gc(R),h);r[R]=h}};iL.Me=function(r){var N=iL.x2(),F=r.tx,h=!1;
for(var R=0;R<32;R+=8)if(F[R]+F[R+1]+F[R+4]+F[R+5]!=0||F[R+2]+F[R+3]+F[R+6]+F[R+7]!=1020)h=!0;if(h){F=F.slice(0);
for(var R=0;R<40;R+=4){var m=F[R]/255,O=F[R+1]/255,e=F[R+2]/255,P=F[R+3]/255;F[R]=m-.001;F[R+1]=m==O?1e6:1/(O-m);
F[R+2]=e==P?-1e6:1/(e-P);F[R+3]=P+.001}}var B=r.add.iOpa!=null?r.add.iOpa/255:N.fill,s=r.add.vstk;if(s&&!s.fillEnabled.v&&(!s.strokeEnabled.v||s.strokeStyleLineWidth.v.val==0))B=0;
return{fill:B,Eu:h?F:null,np:r.add.brst!=null?r.add.brst:N.np,a9x:r.add.knko!=null?r.add.knko:N.a9x,style:!1,iC:!1}};
iL.x2=function(){return{fill:1,Eu:null,np:[1,1,1],a9x:0,style:!1,iC:!1}};iL.gC=function(r,N){if(N==null)return null;
var F=r.Idnt.v,h=r.Nm.v;for(var R=0;R<N.length;R++)if(N[R].id==F)return N[R];for(var R=0;R<N.length;
R++)if(N[R].name==h)return N[R];return null};iL.aaK=function(r,N,F){var h=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var R=0;R<h.length;R++){var m=r.v[h[R]].v;for(var O=0;O<m.length;O++)if(m[O].v.Ptrn)N.yt(iL.gC(m[O].v.Ptrn.v,F))}};
iL.a7q=function(r,N,F){var h=["patternFillMulti","ebblMulti","frameFXMulti"];for(var R=0;R<h.length;
R++){var m=r.v[h[R]].v;for(var O=0;O<m.length;O++)if(m[O].v.Ptrn){var e=m[O].v.Ptrn.v,P=iL.gC(e,F),B=iL.gC(e,N.add.Patt);
if(P==null&&B)F.push(B)}}};iL.Rf=function(r,N,F,h,m){var O=iL.gC(r.Ptrn.v,h);if(O!=null&&!F.lX()){var e=O.jB,P=e[0],B=e[1],s=0;
w.A_(e);var Y=(r.Scl?r.Scl.v.val:100)/100;while((Y<.3||Y==.5)&&e[s+2]){Y*=B.e/e[s+3].e;s+=2;P=e[s];B=e[s+1]}var D=w.scale.Rf(P,B.e,B.n),c=r.phase?r.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},o=r.Angl?r.Angl.v.val:0,H=-F.x+c.Hrzn.v-1,x=-F.y+c.Vrtc.v-1;
if(r.Algn!=null&&!r.Algn.v){}else{H+=m.x;x+=m.y}w.scale.Qs(D,N,F.e,F.n,Y,Y,H+1,x+1,o*Math.PI/180)}};
iL.tw=function(r,N,F,h,m,O){if(O==null)O=F;var e=r.Type?r.Type.v.GrdT:"shapeburst",P=r.Algn&&r.Algn.v?O:new fE(0,0,h.e,h.n),B=r.Angl?w.X.G0(r,P):[new gS(0,0),new gS(100,0)],s=B[0].x,Y=B[0].y,D=B[1].x-s,c=B[1].y-Y,o=Math.sqrt(D*D+c*c);
o=1/(2*o*o);var H=[D*o,c*o,-c*o,D*o],x=r.Rvrs?r.Rvrs.v:!1,Q=r.Dthr?r.Dthr.v:!1;w.X.sD(r.Grad.v,N,F,H,s,Y,x,an.X.types.indexOf(e),0,0,m,Q)};
iL.a0P=function(r,N,F){for(var R=0;R<r.all.length;R++){var h=r.all[R];h.tc=h.uT.clone();h.tc.offset(N,F)}};
iL.a54=function(r,N,F,h,m,O){var e=M._X?iL.akO:iL.agp;iL.a0P(N,F.x,F.y);var P=N.type.DrSh;for(var R=0;
R<P.length;R++)if(!P[R].al6)e(P[R],h,m,O)};iL.a9M=function(r,N,F,h,m,O,e,P,B,s){var Y=F,D=M._X?iL.akO:iL.agp,c=M._X?M.i.KB:w.i.lO,o;
o=N.type.DrSh;for(var R=0;R<o.length;R++)if(o[R].al6)D(o[R],h,m,O);o=N.type.OrGl;for(var R=0;R<o.length;
R++)D(o[R],h,m,O);var H="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var x=0;x<H.length;x++){var o=N.type[H[x]];
for(var R=0;R<o.length;R++)D(o[R],e,Y,O)}var Q=N.type.ebbl[0],U=Q!=null&&Q.aff;o=N.type.FrFX;for(var R=0;
R<o.length;R++){var I=o[R];b9.ny.nZ(P,s,B,s,O);D(I,B,s,O);if(U&&R==o.length-1){if(Q.IK)D(Q.IK,B,s,O);
if(Q.H0)D(Q.H0,B,s,O);if(Q.gB)D(Q.gB,B,s,O);if(Q.jd)D(Q.jd,B,s,O)}if(I.Wk||I.zz)c(B,s,e,Y,M._X?I.zz:I.Wk,I.tc,0,O,1);
if(I.XG||I.I_)c(B,s,h,m,M._X?I.I_:I.XG,I.tc,0,O,1)}if(!U&&Q!=null){if(Q.IK)D(Q.IK,h,m,O);if(Q.H0)D(Q.H0,h,m,O);
if(Q.gB)D(Q.gB,e,Y,O);if(Q.jd)D(Q.jd,e,Y,O)}};iL.agp=function(r,N,F,h){var m=iL.x2();m.fill=r.Ro;m.style=!0;
w.i.vw(r.$T,r.iS,r.tc,N,F,h,1,m)};iL.akO=function(r,N,F,h){var m=iL.x2();m.fill=r.Ro;m.style=!0;M.i.kr(r.$T,r.bw,r.tc,N,F,h,1,m)};
iL.a97=function(r,N){var F=1-N.Inpr.v.val/100,h=1+Math.tan(F*(Math.PI/2)),m=r.length;for(var R=0;R<m;
R++)r[R]=Math.min(255,Math.round(r[R]*h))};iL.Ll=function(r,N,F){var h=N.blur.v.val,m=Math.round(h*(N.Ckmt.v.val/100));
if(h>m){var O=w.WC.X8(N.TrnS.v.Crv.v,256,!0);w.dx(r,O)}if(F!=null&&N.Nose.v.val>0)w.style.p8(r,N.Nose.v.val/100,F)};
iL.nI=function(r,N,F){if(F==null)F=255;var h=w.X.Mq(N),m=F<<24|h.J<<16|h.z<<8|h.Z,O=new Uint32Array(r.buffer);
O.fill(m)};iL.Or=function(r,N,F,h){var m=N.uglg&&N.uglg.v?F.kh():N.lagl.v.val;m=m*Math.PI/180+h;var O=Math.cos(m)*N.Dstn.v.val,e=Math.sin(m)*N.Dstn.v.val;
r.x-=Math.round(O);r.y+=Math.round(e)};iL.Vl=function(r){if(r==null)return null;var N=r.frameFXMulti.v;
if(N.length==0)return null;N=N[0].v;var F=JSON.parse(JSON.stringify(an.mr.default));iL.a6h(N,F);return F};
iL.a6h=function(r,N){var F=an.stroke.RQ.indexOf(r.PntT.v.FrFl),h=[an.eA,an.ZE,an.bf][F],m=N.strokeStyleContent.v={classID:an.mr.gS[F]};
for(var R=0;R<h.length;R++)m[h[R]]=r[h[R]];N.strokeEnabled=r.enab;N.strokeStyleLineWidth=r.Sz;N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=an.mr.bj[an.stroke.types.indexOf(r.Styl.v.FStl)];
N.strokeStyleOpacity=r.Opct;N.strokeStyleBlendMode=r.Md};iL.IH=function(r,N){var F=[];for(var R=0;R<r.length;
R++)F.push({t:"UntF",v:{type:"#Nne",val:Math.round(r[R]*N)}});return F};iL.H_=function(r,N,F,h){this.Zi=N.clone();
this.a84=N.clone();this.a84.r2(F,F);if(h){this.Zi.r2(1,1);this.sT=w.B(this.Zi.W());w.nZ(r,N,this.sT,this.Zi)}else this.sT=r;
this.OA=null;this.Tr=null;this.IA=null};iL.H_.prototype.c4=function(){return this.sT};iL.H_.prototype.rect=function(){return this.Zi};
iL.H_.prototype.bD=function(){return this.a84};iL.H_.prototype.Dj=function(){if(this.OA)return this.OA;
this.OA=this.c4().slice(0);w.iL(this.OA);return this.OA};iL.H_.prototype.ob=function(){if(this.Tr)return this.Tr;
this.Tr=new Float64Array(this.rect().W());w.style.rZ(this.Dj(),this.Tr,this.rect().e,this.rect().n);
return this.Tr};iL.H_.prototype.dG=function(){if(this.IA)return this.IA;var r=this.bD(),N=w.B(r.W());
w.nZ(this.c4(),this.rect(),N,r);this.IA=new Float64Array(r.W());w.style.rZ(N,this.IA,r.e,r.n);return this.IA};
iL.H_.prototype.auw=function(r,N){var F={v1:-N,Kh:r,wR:null,IC:null};if(N==0){F.wR=this.rect();F.IC=this.ob();
return F}var h=this.dG().slice(0),m=this.bD();F.wR=m;F.IC=h;for(var R=0;R<h.length;R++)h[R]=-h[R];if(r==0)return F;
var O=this.ob(),e=this.rect();for(var P=0;P<e.n;P++)for(var B=0;B<e.e;B++){var s=P*e.e+B,Y=(P+e.y-m.y)*m.e+B+e.x-m.x;
h[Y]+=O[s]}return F};iL.H_.prototype.Kl=function(r,N,F){var h=Math.ceil(r+N),m={NQ:this.rect().clone(),c4:null};
m.NQ.r2(h,h);m.c4=w.B(m.NQ.W());if(r==0&&N==0)w.ZF(F?this.c4():this.Dj(),m.c4);else{var O=w.B(m.NQ.W());
w.nZ(this.c4(),this.rect(),O,m.NQ);if(!F)w.iL(O);if(r!=0){if(F)w.style.wv(O,m.NQ,this.dG(),this.bD(),r);
else w.style.wv(O,m.NQ,this.ob(),this.rect(),r)}if(N!=0)w.Hu.UW(O,m.c4,m.NQ,Math.max(1,N*.43));else m.c4=O}return m};
iL.H_.prototype.aqQ=function(r,N,F){var h=r*(N-.5),m={NQ:this.rect().clone(),c4:null};if(F)m.NQ.r2(r,r);
m.c4=w.B(m.NQ.W());var O=m.NQ.e,e=m.NQ.n,P=F?this.dG():this.ob(),B=F?this.bD():this.rect(),s=m.NQ,Y=s.c_(B),O=Y.e,e=Y.n,D=Y.x-s.x,c=Y.y-s.y,o=Y.x-B.x,H=Y.y-B.y,x=1-N*2;
for(var Q=0;Q<e;Q++)for(var U=0;U<O;U++){var I=P[(Q+H)*B.e+U+o],l=I/r;m.c4[(Q+c)*s.e+U+D]=Math.max(0,Math.min(255,255-255*((l+x)/(1+x))))}return m};
iL.auz=function(r,N,F){var h=r.Lefx,m=r.blendOptions;if(h){var O=N.add.lmfx;if(F==null)F=O?O.Scl.v.val:100;
N.add.lmfx=JSON.parse(JSON.stringify(h.v));if(N.add.lmfx.Scl==null)N.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
iL.Fx(N.add.lmfx,F/N.add.lmfx.Scl.v.val);if(O)N.add.lmfx.Scl.v.val=O.Scl.v.val}else delete N.add.lmfx;
if(m){m=m.v;if(m.Md)N.$j=g6.lF(m.Md.v.BlnM);if(m.Opct)N.opacity=Math.round(m.Opct.v.val*255/100);if(m.fillOpacity)N.add.iOpa=Math.round(m.fillOpacity.v.val*255/100);
if(m.Blnd){var e=[];for(var R=0;R<10;R++)e.push(0,0,255,255);var P=m.Blnd.v,B="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var R=0;R<P.length;R++){var s=P[R].v,Y=8*["Gry","Rd","Grn","Bl"].indexOf(s.Chnl.v[0].v.enum);for(var D=0;
D<8;D++){e[Y+D]=s[B[D]].v}}N.tx=e}}};iL.am2=function(r){var N="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),F=[],h=r.tx;
for(var R=0;R<4;R++){var m=R*8;if(h[m]+h[m+1]+h[m+4]+h[m+5]==0&&h[m+2]+h[m+3]+h[m+6]+h[m+7]==4*255)continue;
var O={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][R]}}]}}};
F.push(O);for(var e=0;e<8;e++)O.v[N[e]]={t:"long",v:h[R*8+e]}}var P={classID:"blendOptions"};if(r.$j!="norm")P.Md={t:"enum",v:{BlnM:g6.Cp(r.$j)}};
if(r.opacity!=255)P.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(r.opacity*100/255)}};if(r.add.iOpa!=null)P.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(r.add.iOpa*100/255)}};
if(F.length!=0)P.Blnd={t:"VlLs",v:F};var B={J6:{classID:"null",Idnt:{t:"TEXT",v:gp.Tp()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},ks:{classID:"Styl",blendOptions:{t:"Objc",v:P}}},s=r.add.lmfx;
if(s)B.ks.Lefx={t:"Objc",v:s};return B};function bR(){}bR.zH=function(r){return JSON.parse(JSON.stringify(r))};
bR.qd=function(r){var N=bR.zH(bR.aaF),F=N.Brsh.v;if(r!=null){delete F.Hrdn;F.classID="sampledBrush";
F.Nm={t:"TEXT",v:"layer.png"},F.sampledData={t:"TEXT",v:r}}return N};bR.aaF={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bR.X2={};bR.X2.check=function(r){var N=bR.X2.G_;for(var R=0;R<N.length;R++)if(r[N[R]]==null)r[N[R]]=JSON.parse(bR.X2._q[N[R]]);
var F=[];for(var R=0;R<N.length;R++)F.push(N[R]);var h=bR.X2.a27;for(var R=0;R<h.length;R++){var m=h[R][0],O=h[R][1],e=!0;
for(var P=0;P<m.length;P++)e=e&&r[m[P]].v==!0;if(e)for(var P=0;P<O.length;P++){if(r[O[P]]==null)console.log("Missing conditional parameter "+O[P]);
else F.push(O[P])}}for(var B in r)if(F.indexOf(B)==-1)console.log("Extra parameter "+B);r=r.Brsh.v;N=bR.X2.RE.G_;
for(var R=0;R<N.length;R++)if(r[N[R]]==null)r[N[R]]=JSON.parse(bR.X2.RE._q[N[R]]);F=[];for(var R=0;R<N.length;
R++)if(r[N[R]])F.push(N[R]);else console.log("Missing default parameter "+N[R]);h=bR.X2.RE.ahG[r.classID];
for(var R=0;R<h.length;R++)if(r[h[R]]==null&&h[R]!="dtipsGridSize"&&h[R]!="dtipsErodibleTipHeightMap"&&r.aeZ!=1)console.log("Missing conditional parameter "+h[R]);
else F.push(h[R]);for(var B in r)if(F.indexOf(B)==-1)console.log("Extra parameter "+B)};bR.X2.a3W=function(r){var N=bR.X2.a27;
for(var R=0;R<N.length;R++){var F=N[R][0],h=N[R][1],m=!0;for(var O=0;O<F.length;O++)m=m&&r[F[O]]&&r[F[O]].v==!0;
if(m){for(var O=0;O<h.length;O++)if(r[h[O]]==null){r[h[O]]=JSON.parse(bR.X2._q[h[O]])}}else for(var O=0;
O<h.length;O++)if(r[h[O]]!=null){delete r[h[O]]}}};bR.X2.RE={};bR.X2.RE.G_="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bR.X2.RE._q={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bR.X2.RE.ahG={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bR.X2.a27=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bR.X2.G_="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bR.X2._q={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function hE(r,N){this.aiA=r;this.MJ=N==null?0:N;this.dir=0}hE.prototype.pe=function(r,N){var F=this.aiA,h=new gS(r.x-F.x,r.y-F.y),m=new hc;
m.rotate(-this.MJ);h=m.eS(h);if(this.dir==0&&!F.cj(r))this.dir=Math.abs(h.x)<Math.abs(h.y)?1:2;if(N.j(bh.wQ)){if(this.dir==1)h.x=0;
if(this.dir==2)h.y=0}m.iL();h=m.eS(h);var O=new gS(F.x+h.x,F.y+h.y);return O};var eK=function(){function r(){this.a1x={}}r.a1H=function(N,F){var h=N.clone();
h.HG-=Math.floor(h.HG);h.SS-=Math.floor(h.SS);var m=new gS(F,0),O=new gS(0,F),e=h.eS(m),P=h.eS(O),B=new gS(h.HG,h.SS);
return[e,P,B]};r.atd=function(N,F){var h=gS.Mz;return h(N[0],F[0])+h(N[1],F[1])+h(N[2],F[2]);return dsum};
r.prototype.a9r=function(N){var F=this.a1x,h=F[N];if(h==null)h=F[N]={YG:[],wV:0,W:0,aql:0,a9u:0};h.wV=Date.now();
while(Object.keys(F).length>3){var m="",O=Date.now();for(var e in F){var P=F[e].wV;if(P<O){O=P;m=e}}delete F[m]}return h};
r.prototype.anS=function(N,F){var h=N.YG,m,O=1e6;for(var R=0;R<h.length;R++){var e=h[R],P=r.atd(e.J_,F);
if(P<O){m=e;O=P}}return m};r.prototype.ajP=function(N,F){var h=N.YG;h.push(F);N.W+=F.rect.W();if(h.length>1e3||N.W>100*100*1600){console.log("pruning",N.W,h.length);
h.sort(function(O,e){return e.wV-O.wV});while(h.length>500||N.W>100*100*800){var m=h.pop();N.W-=m.rect.W()}}};
return r}();function hy(r,N,F,h,m,O,e,P,B){this.lZ=N;this.ki=F;this.lo=O;this.Fs=h;if(h.j$==null)h.j$=[!1,!0];
this.YE=null;this.at=null;this.DW=0;this.agw=0;this.ahh=0;this.OJ=0;this.K5=B==null?Math.floor(Math.random()*16777215):B;
this.apg=B==null?Math.floor(Math.random()*16777215):B;this.I0=new fE;this.q5=new fE;if(P!=null){this.iS=P}else{var s=hy.avU;
if(s.length!=e.W()*4)s=w.B(e.W()*4);else s.fill(0);this.iS=hy.avU=s}this.rect=e.clone();this.lq=[];this.RG=[];
this.nO=null;this.Fp=0;this.J=null;this.a2H="";this.vT=null;this.a1v(r,m)}hy.avU=w.B(16);hy.prototype.a1v=function(r,N){this.Fp=N;
this.J=r;this.a2H=JSON.stringify(r)+JSON.stringify(this.Fs.Pd);this.vT=hy.aew(this.J,this.lZ,this.ki)};
hy.prototype.moveTo=function(r,N,F){F=this.a8J(F);this.DW=F;var h=new gS(r,N),m=this.J.Brsh.v.Dmtr.v.val;
this.YE=h.clone();this.at=h.clone();this.nO=h.clone();this.lq=[r,N];this.RG=[F];var O=this.Fs.j$;if(this.Fs.ES!=hy._m){var e=this.J.angleDynamics,P=e?e.v.bVTy.v==6:!1;
this.QR(P?new fE:this.a5t(h,this.a6X()*(O[1]?F:1),this.Fs.tM*(O[0]?F*.5:1),new gS(0,0)))}this.OJ=h.clone()};
hy.prototype.lineTo=function(r,N,F){F=this.a8J(F);var h=this.lq,m=h.length,O=h[m-2],e=h[m-1];if(r==O&&N==e)return;
var P=this.J.Brsh.v.Dmtr.v.val,B=Math.ceil(P)+1,s=new fE(Math.round(O),Math.round(e),0,0);s.r2(B,B);
var Y=new fE(Math.round(r),Math.round(N),0,0);Y.r2(B,B);this.lq.push(r,N);this.RG.push(F);m+=2;if(m>=6)this.QR(this.an8(m))};
hy.prototype.a8J=function(r){if(r==null)r=1;r=Math.max(.05,Math.min(5,r));if(isNaN(r)){alert("Pressure is not a number");
throw"e"}return r};hy.prototype.QR=function(r){this.I0=r;this.q5=this.q5.fD(r)};hy.prototype.finish=function(){var r=this.lq,N=r.length,F;
if(N==4)F=this.aa2(r[N-2],r[N-1],this.RG[(N>>1)-1],!0);if(N>4)F=this.an8(N+2);if(F)this.QR(F)};hy.prototype.Tm=function(){return this.rect.clone()};
hy.prototype.Rc=function(){return this.I0.c_(this.rect)};hy.prototype.Jn=function(){return this.q5.c_(this.rect)};
hy.prototype.XW=function(){return this.iS};hy.prototype.an8=function(r){var N=this.lq,F=this.RG,h=N[r-6],m=N[r-5],O=N[r-4],e=N[r-3],P=F[(r>>1)-3],B=F[(r>>1)-2],s=new gS(0,0),Y=new gS(0,0);
if(8<=r)s=hy.a23(N[r-8],N[r-7],h,m,O,e);if(r<=N.length)Y=hy.a23(N[r-2],N[r-1],O,e,h,m);var D=h+s.x,c=m+s.y,o=O+Y.x,H=e+Y.y,x=new fE;
for(var R=0;R<10;R++){var Q=(R+1)*.1,U=1-Q,I=U*U*U*h+3*Q*U*U*D+3*Q*Q*U*o+Q*Q*Q*O,l=U*U*U*m+3*Q*U*U*c+3*Q*Q*U*H+Q*Q*Q*e,p=this.aa2(I,l,P+Q*(B-P));
x=x.fD(p)}return x};hy.a23=function(r,N,F,h,m,O){var e=r-F,P=N-h,B=m-F,s=O-h,Y=Math.sqrt(e*e+P*P),D=Math.sqrt(B*B+s*s),c=Math.acos((e*B+P*s)/(Y*D))/Math.PI,o=.35,H=.1;
c=H+c*(o-H);var x=m-r,Q=O-N,U=Math.sqrt(x*x+Q*Q),I=c*D/U;return new gS(x*I,Q*I)};hy.prototype.aa2=function(r,N,F,h){var m=new fE,O=this.Fs.auu;
if(O==null)O=0;if(O==0||h){m=this.am3(r,N,F);return m}var e=this.nO,P=r-e.x,B=N-e.y,s=Math.sqrt(P*P+B*B);
P/=s;B/=s;if(s>O){var Y=e.x+P*(s-O),D=e.y+B*(s-O);m=this.am3(Y,D,F);this.nO.YR(Y,D)}return m};hy.prototype.am3=function(r,N,F){var h=new fE,m=new gS(r,N),O=this.J.Brsh.v.Dmtr.v.val,e=this.Fs.ES,P=m.bl(this.at);
P.normalize(1);var B=gS.Mz(this.at,m),s=-this.agw,Y=this.at.clone(),D=this.Fs.j$;while(!0){var c=this.DW+(F-this.DW)*(Math.max(0,s)/B),o=this.a6X()*(D[1]?c:1),H=this.akr()*(o+this.ahh)/2*this.vT.a8C;
if(e==hy._m)H=1;if(s+H<B){s+=H;var x=new gS(this.at.x+P.x*s,this.at.y+P.y*s),I=1;if(e==hy._m){var Q=Y.clone();
Q.x+=P.x>0?1:-1;var U=Y.clone();U.y+=P.y>0?1:-1;if(gS.Mz(Q,x)<gS.Mz(U,x))x=Q;else x=U;s=gS.Mz(x,this.at)}if(this.J.useScatter.v==!0){I=this.J.Cnt.v;
var l=this.J.countDynamics.v.jitter.v.val/100,p=l*(-1+2*this.u9());I+=Math.round(I*p)}for(var R=0;R<I;
R++){var j=this.a5t(x,o,this.Fs.tM*(D[0]?c*.5:1),P);h=h.fD(j)}Y=x}else break}this.agw=B-s;this.at=m;
this.DW=F;return h};hy.prototype.akr=function(){var r=this.J.Brsh.v,N=r.Spcn.v.val,F=Math.max(5,r.Rndn.v.val);
return F/100*(N/100)};hy.prototype.a6X=function(){var r=this.J,N=r.Brsh.v.Dmtr.v.val;if(r.useTipDynamics.v){var F=N*(r.minimumDiameter.v.val/100);
N=F+(N-F)*(1-this.u9(this.apg)*(r.szVr.v.jitter.v.val/100))}return N};hy.prototype.a5t=function(r,N,F,h){F=Math.min(1,F);
var m=this.J,O=this.J.Brsh.v,e=O.Dmtr.v.val,P=this.Fs,B=P.ES,s=P.a3u,Y=this.vT.jB[1],D=new hc;D.translate(-Y.e/2,-Y.n/2);
D.scale(1/this.vT.av9,1/this.vT.av9);D.scale(N/e,N/e);D.scale(1,Math.max(5,O.Rndn.v.val)/100);if(m.usePaintDynamics&&m.usePaintDynamics.v){var c=m.opVr.v.jitter.v.val/100,o=m.prVr.v.jitter.v.val/100;
F*=1-this.u9()*c;F*=1-this.u9()*o}if(m.useTipDynamics.v){var H=m.angleDynamics.v,x=m.minimumRoundness.v.val/100;
D.scale(1,x+(1-x)*Math.round(100-this.u9()*m.roundnessDynamics.v.jitter.v.val)/100);D.rotate((-.5+this.u9())*4*Math.PI*(H.jitter.v.val/100));
if(H.bVTy.v==6)D.rotate(Math.atan2(-h.y,h.x))}D.rotate(O.Angl.v.val*(Math.PI/180));if(m.useScatter.v){var Q=(-1+2*this.u9())*m.scatterDynamics.v.jitter.v.val/100;
D.translate(-Q*N*h.y,Q*N*h.x)}D.translate(r.x,r.y);var U=this.avo(D,r,N),I=U.rect.clone();if(B==null){var l=this.CT(m);
w.T1(U.z5,Math.round(l.J*255)<<16|Math.round(l.z*255)<<8|Math.round(l.Z*255)<<0,4278190080);if(this.q5.lX()&&this.rect.cj(U.rect)&&F==1)this.iS=U.z5.slice(0);
else w.i.ae_(U.z5,U.rect,this.iS,this.rect,U.rect,F)}if(B==hy._m){var p=new gS(U.rect.x+U.rect.e/2,U.rect.y+U.rect.n/2),j=Math.round(p.x-this.OJ.x),T=Math.round(p.y-this.OJ.y),V=U.rect.clone();
V.offset(-j,-T);var E=V.c_(this.rect);E.offset(j,T);w.L3(this.iS,this.rect,U.z5,V);w.i.Ml(U.z5,U.rect,this.iS,this.rect,U.gn,U.rect,F)}if(B==hy.za||B==hy.fV||B==hy.wp){var _=U.rect.c_(this.rect),f;
if(_.cj(U.rect))f=U.gn;else{f=w.B(_.W());w.nZ(U.gn,U.rect,f,_)}var S=w.B(_.W()*4);w.L3(this.iS,this.rect,S,_);
if(B==hy.fV){var L=S.slice(0),y=w.gL.yC([-1,-1,-1,-1,25,-1,-1,-1,-1]);w.gL.ha(S,L,_.e,_.n,y,0);w.ZF(L,S)}else if(B==hy.wp){var $=df.T$("UnsM");
$.Amnt.v.val=15;$.Thsh.v=0;$.Rds.v.val=5;var L=w.B(S.length);df.dR("UnsM",{buffer:S,rect:_},$,0,0,{buffer:L,rect:_});
w.ZF(L,S)}else{df.rk(1,w.Hu.Rb,S,_)}w.i.Ml(S,_,this.iS,this.rect,f,_,F)}this.ahh=N;this.OJ=p;this.apg++;
return I};hy.prototype.CT=function(r){var N=hy.at6(this.Fp);if(r.useColorDynamics&&r.useColorDynamics.v){var F=1-this.u9()*r.clVr.v.jitter.v.val/100,h=hy.at6(this.lo);
N.Z=F*N.Z+(1-F)*h.Z;N.z=F*N.z+(1-F)*h.z;N.J=F*N.J+(1-F)*h.J;var m=(-.5+this.u9())*r.H.v.val/100,O=(-1+2*this.u9())*r.Strt.v.val/100,e=(-1+2*this.u9())*r.Brgh.v.val/100,P=w.DZ(N.Z,N.z,N.J);
P.Nf=(P.Nf+m+1)%1;P.ou=P.ou+O;if(P.ou<0)P.ou=-P.ou;if(P.ou>1)P.ou=1-(P.ou-1);P.MB=P.MB+e;if(P.MB<0)P.MB=-P.MB;
if(P.MB>1)P.MB=1-(P.MB-1);N=w.ip(P.Nf,P.ou,P.MB)}return N};hy.prototype.X2=function(r){return Math.max(0,Math.min(1,r))};
hy.prototype.u9=function(r){if(r==null){r=this.K5++}return hy.hash(r)};hy.at6=function(r){return{Z:(r>>16&255)/255,z:(r>>8&255)/255,J:(r>>0&255)/255}};
hy.hash=function(r){r=r^61^r>>16;r=r+(r<<3);r=r^r>>4;r=r*668265261;r=r^r>>15;return(r&16777215)/16777215};
hy.a4Y=new eK;hy.prototype.avo=function(r,N,F){var h=Math.sqrt(this.vT.jB[1].W()),m=h*r.zf(),O=m<10?1:m<50?1.5:m<200?3:8;
if(m<30)O=0;var e=hy.a4Y,P=e.a9r(this.a2H),B=this.Fs.Pd;if(B){r=r.clone();r.HG=Math.floor(r.HG);r.SS=Math.floor(r.SS)}var s=eK.a1H(r,h),Y=e.anS(P,s);
if(Y&&eK.atd(Y.J_,s)>O)Y=null;if(Y){Y.rect.x=Math.round(Y.agC.x+r.HG);Y.rect.y=Math.round(Y.agC.y+r.SS);
if(B){Y.rect.x=Math.round(N.x-Y.rect.e/2);Y.rect.y=Math.round(N.y-Y.rect.n/2)}Y.wV=Date.now()}else{var D=Math.round(this.J.Brsh.v.Dmtr.v.val),c;
if(B&&D<=3){c={buffer:w.B(D*D*4),rect:new fE(Math.round(N.x-D/2),Math.round(N.y-D/2),D,D)};w.T1(c.buffer,4278190080)}else if(r.O$==1&&r.J==0&&r.KM==0&&r.Bv==1){c={buffer:this.vT.jB[0],rect:this.vT.jB[1].clone()};
c.rect.x=Math.round(r.HG);c.rect.y=Math.round(r.SS)}else c=z.Q.iG(this.vT.jB,r);if(B){for(var R=0;R<c.buffer.length;
R++)c.buffer[R]=c.buffer[R]>127?255:0}if(c==null)c={buffer:w.B(0),rect:new fE};Y={z5:c.buffer,gn:w.B(c.rect.W()),rect:c.rect,agC:new gS(c.rect.x-r.HG,c.rect.y-r.SS),J_:s,wV:Date.now()};
w.Pw(Y.z5,Y.gn,3);if(P)e.ajP(P,Y)}return Y};hy.aew=function(r,N,F){var h,m,O,e=r.Brsh.v.Dmtr.v.val;if(r.Brsh.v.classID=="computedBrush"){var P=r.Brsh.v.Hrdn.v.val/100;
m=e<100?1.4:1;O=1;h=w.aut.ajR(e,P,m)}if(r.Brsh.v.classID=="sampledBrush"){var B;for(var R=0;R<N.length;
R++)if(N[R].id==r.Brsh.v.sampledData.v)B=N[R];h=B.jB;var s=h[1];m=Math.max(s.e,s.n)/e;O=Math.min(s.e,s.n)/Math.max(s.e,s.n)}return{av9:m,a8C:O,jB:h}};
hy.D=null;hy.Az=null;hy.e9=function(r,N,F,h,m,O){var e=hy.D,P=hy.Az;if(e==null){hy.D=e=document.createElement("canvas");
hy.Az=P=e.getContext("2d")}if(O==null)O=h;if(e.width!=O||e.height!=m){e.width=O;e.height=m}else P.clearRect(0,0,O,m);
P.fillStyle="#000000";P.font=Math.floor(10*z.G())+"px sans-serif";var B=r.Brsh.v.Dmtr.v.val,s=""+B,Y=r.useBrushSize;
if(Y&&Y.v)s="---";var D=P.measureText(s);P.fillText(s,(h-D.width)/2,m-2);var c=h,o=m-10*z.G(),H=Math.min(c,o),x=r.Brsh.v.classID;
if(x=="computedBrush"){P.translate(c/2,o/2);P.rotate(-r.Brsh.v.Angl.v.val*Math.PI/180);P.scale(1,.1+.9*r.Brsh.v.Rndn.v.val/100);
var Q=Math.min(.95*H/2,B/2)+.5,U=.9*r.Brsh.v.Hrdn.v.val/100,I=P.createRadialGradient(0,0,0,0,0,Q);I.addColorStop(U,"rgba(0,0,0,1)");
I.addColorStop((.5+U)/1.5,"rgba(0,0,0,.5)");I.addColorStop(1,"rgba(0,0,0,0)");P.fillStyle=I;P.fillRect(-Q,-Q,2*Q,2*Q);
P.setTransform(1,0,0,1,0,0)}else if(x=="sampledBrush"){var l,E=0;for(var R=0;R<N.length;R++)if(N[R].id==r.Brsh.v.sampledData.v)l=N[R];
var p=l.jB;w.A_(p);var j=p[0],T=p[1].e,V=p[1].n;while((T>c||V>o)&&p[E+2]){E+=2;j=p[E];T=p[E+1].e;V=p[E+1].n}if(T*V!=0){var _=new ImageData(new Uint8ClampedArray(j.buffer),T,V);
P.putImageData(_,Math.round((c-T)/2),Math.round((o-V)/2))}}else{}return e.toDataURL()};hy.vt=function(r,N,F,h){if(F==0)F=1;
var m=r.Brsh.v,O=m.Dmtr.v.val,e=m.Dmtr.v.val=Math.min(h!=null?Math.round(h*2.6):3e3,O*F),P=m.Hrdn?m.Hrdn.v.val/100:1,B=h!=null?h:Math.round(e*(1+.55*(1-P)))+4,D;
B=Math.max(15,Math.min(B,3e3));var s=new fE(0,0,B,B),Y=new hy(r,N,null,{tM:1},16711712,0,s);m.Dmtr.v.val=O;
Y.moveTo(s.e/2,s.n/2);var c=Y.XW(),o=Y.Tm();if(s.cj(o))D=c;else{D=w.B(s.W()*4);w.L3(c,o,D,s)}return[D,s,e]};
hy.a2c=function(r,N,F,h){var m=N.e,O=m>>>1;for(var R=0;R<4;R++){var e=6-R;r[m*(O-e)+O-1]=h;r[m*(O-e)+O]=F;
r[m*(O-e)+O+1]=h;r[m*(O+e)+O-1]=h;r[m*(O+e)+O]=F;r[m*(O+e)+O+1]=h;r[m*(O-1)+O-e]=h;r[m*O+O-e]=F;r[m*(O+1)+O-e]=h;
r[m*(O-1)+O+e]=h;r[m*O+O+e]=F;r[m*(O+1)+O+e]=h}};hy.j5=function(r,N,F,h){var m=hy.vt(r,N,F),O=m[0].slice(0),e=m[1],P=m[2],B=e.W(),s=w.B(B);
w.Pw(O,s,3);var Y=w.B(B);w.$.a0S(s,Y,e);if(P<3||w.Rq(Y,0)||h&&P>12){hy.a2c(Y,e,255,0)}var D=[3,5,3,4,8,4,3,5,3];
D=w.gL.yC(D);w.gL.c7(Y,s,e.e,e.n,D);w.T1(O,4294967295);w.vr(s,O,3);for(var R=0;R<B;R++)if(Y[R]==255){O[R<<2]=O[(R<<2)+1]=O[(R<<2)+2]=0;
O[(R<<2)+3]=255}return{l1:O,NQ:e,xW:new gS(e.e/2,e.n/2)}};hy._m="0";hy.za="1";hy.fV="2";hy.wp="3";var d0={};
d0.nG=function(r,N){var F=r.Z9(),e=0,s;if(F.x==Infinity||F.lX())return{iS:w.B(0),NQ:new fE,A2:new fE};
var h=r.Z9(),m=d0.St(r,N),O=w.p.e0(m.t);for(var R=0;R<r.AY.length;R++){var P=r.AY[R].DD;if(P.StrokeFlag&&P._LineWidth)e=Math.max(e,Math.ceil(P._LineWidth/2))}O.r2(e,e);
if(O.lX())return{iS:w.B(0),NQ:new fE,A2:new fE};var B=w.Cl(O.e,O.n);B.translate(-O.x,-O.y);d0.avO(m,B);
if(r.AY.length!=0){var Y=gQ.XI(N),D=B.getImageData(0,0,O.e,O.n);s=new Uint8Array(D.data.buffer);if(Y==0)for(var R=0;
R<s.length;R+=4)s[R+3]=s[R+3]>80?255:0;if(Y==3)for(var R=0;R<s.length;R+=4)s[R+3]=Math.min(255,s[R+3]*1.5)}else s=w.B(O.W()*4);
B.resetTransform();B.beginPath();return{iS:s,NQ:O,A2:h}};d0.St=function(r,N){var F=N.A,h=N.sl,m=gQ.XI(N),O=Math.max(F.J*F.J,F.KM*F.KM)<1e-9?F:null;
if(m==3||m==4)O=null;var e={C:[],t:[]};d0.adl(r,e,O,!0);d0.adl(r,e,O,!1);e=d0.iD(e,N,r);return e};d0.iD=function(r,N,F){if(r==null)return r;
if(F&&F.BF)w.p.A(r.t,F.BF,r.t);if(F&&!w.U5.n5(N._u)){var h=gQ.Tm(N,F);if(!h.lX()){if(r.C){r=w.p.BU(r);
var m=Math.min(h.e,h.n)/8;if(m<1)m=1;r=w.p.Qv(r,m)}var O=w.U5.bM(N._u,h);w.DK.A(O,r.t,h)}}var e=N.A;
w.p.A(r.t,e,r.t);return r};d0.avO=function(r,N){N.save();N.miterLimit=2;Typr.U.pathToContext({crds:r.t,cmds:r.C},N);
N.restore()};d0.wc=function(r,N,F){if(!ac.abB(F))return;var h=r.sl,m=h.ResourceDict.FontSet,O=h.ResourceDict.StyleSheetSet[0].StyleSheetData,e=h.EngineDict.StyleRun.RunLengthArray,P=h.EngineDict.StyleRun.RunArray,B=gQ.Xe(h),s=!0,Y={},D=0;
for(var R=0;R<P.length;R++){var o=P[R].StyleSheet.StyleSheetData.Font;if(o==null)o=O.Font;for(var H=0;
H<e[R];H++){var x=B.charCodeAt(D+H),Q=o+","+(x>128?x:-1);if(Y[Q]==null){Y[Q]=1;if(N.hG(m[o].Name,x)==null)s=!1}}D+=e[R]}return s};
d0.adl=function(r,N,F,h){var m=new hc;for(var R=0;R<r.hS.length;R++)d0.alx(r.AY,r.hS[R],N,m,F,h)};d0.alx=function(r,N,F,h,m,O){h.translate(N.pV.x,N.pV.y);
for(var R=0;R<N.NE.length;R++){var e={},P=N.NE[R];if(!P.kF)break;var B=h.clone();B.translate(P.pV.x,P.pV.y);
if(m){var s=m.SS+B.SS*m.Bv;B.SS=(Math.round(s)-m.SS)/m.Bv}for(var Y=P.start;Y<P.end;Y++)d0.ava(r,N.ar[Y],N,e,F,B,O)}h.translate(-N.pV.x,-N.pV.y)};
d0.afI="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
d0.ava=function(r,N,F,h,m,O,e){O.translate(N.pV.x,N.pV.y);for(var P=N._$;P<=N.Du;P++){var B=F.uc[P],s=B.NQ.e,Y=r[F.aqS+B.Tx],D=Y.DD._FillBackgroundFlag;
if(Y.gQ=="\n"||e&&!D)continue;var c=Y.DD.FontSize/Y.h0.head.unitsPerEm,o=O.clone();o.translate(B.pV.x+B.T3*c,B.pV.y-B.N_*c);
var H=new hc;H.scale(c,-c);if(Y.Xt==1&&d0.afI.indexOf(Y.gQ)!=-1)H.concat(new hc(-1,0,0,1,s,0));if(Y.DD.FauxItalic)H.concat(new hc(1,0,-Math.tan(.18),1,0,0));
H.translate(0,Y.s3);H.scale(Y.scale.x,Y.scale.y);if(Y.DD.BaselineShift!=null)H.translate(0,-Y.DD.BaselineShift);
if(B.MJ!=0){H.rotate(-B.MJ)}H.concat(o);var x=Y.DD._LineWidth?Y.DD._LineWidth:1;if(e){m.C.push(d0.CT(Y.DD._FillBackgroundColor));
var Q=1.005*B.NQ.n/c,U=new fE(-B.T3,-Q*.27,1.03*B.NQ.e/c,Q);if(Y.DD.StrokeFlag)U.r2(x/c,x/c);w.p.concat(m,w.p.fc(U),H);
m.C.push("X");continue}if(Y.DD.FillFlag)m.C.push(d0.CT(Y.DD.FillColor));if(Y.DD.StrokeFlag)m.C.push("O-"+d0.CT(Y.DD.StrokeColor)+"-"+x);
if(B.path.C.length!=0&&Y.gQ!="\t"){if(Y.DD.FauxBold){var I=Y.DD.FontSize/2048*27*Y.scale.x;H.HG+=I;w.p.concat(m,B.path,H);
H.HG-=I+I;w.p.concat(m,B.path,H)}else w.p.concat(m,B.path,H)}if(Y.gQ!="\n"){if(Y.DD.Underline){if(h.Ff==null)h.Ff=Y.h0.post.underlineThickness;
if(h.afK==null)h.afK=Y.h0.post.underlinePosition;var l=0,p=h.afK-h.Ff/2,j=B.Yk*1.05,T=-h.Ff;w.p.concat(m,{C:["M","L","L","L","Z"],t:[l,p,l+j,p,l+j,p+T,l,p+T]},H)}if(Y.DD.Strikethrough){var V=Y.h0["OS/2"].yStrikeoutSize,E=Y.h0["OS/2"].yStrikeoutPosition,l=0,p=E+V/2,j=B.Yk*1.05,T=-V;
w.p.concat(m,{C:["M","L","L","L","Z"],t:[l,p,l+j,p,l+j,p+T,l,p+T]},H)}}if(Y.DD.FillFlag)m.C.push("X");
if(Y.DD.StrokeFlag)m.C.push("OX")}O.translate(-N.pV.x,-N.pV.y)};d0.CT=function(r){var N=gQ.Mq(r),F=(Math.round(N.Z)<<16)+(Math.round(N.z)<<8)+Math.round(N.J);
return"#"+w.GG(F)};function ac(r,N){var F=gQ.d4(r),h,m,O=gQ.Bf(r),e=r._LineOrientation==2?new hc:null,Y,o;
if(r.Curve)m=ac.pj(r.Curve);if(F!=0){h=new fE(O[0],O[1],O[2],O[3]);if(e){var P=h.e;h.e=h.n;h.n=P;e.translate(0,-O[2])}if(F==2){h.e=m[5]-m[4];
h.n=9999}}this.hS=[];this.AY=[];this.dn=F;this.BF=e;var B=this.apr=gQ.Xe(r),s=-1,D=-1;for(var R=0;R<B.length;
R++){var H=Y,x=gQ.abg(r,R);if(x!=s){s=x;H=Y=gQ.a12(r,x)}var Q=o,x=gQ.akV(r,R);if(x!=D){D=x;Q=o=gQ.aok(r,x)}var U={gQ:B.charAt(R),DD:H,h0:null,SK:-1,RU:gQ.ae1(r,R),s3:0,scale:new gS(0,0),NW:0,lineHeight:0,Xt:0},I=r.ResourceDict.FontSet[H.Font].Name,l=U.h0=N.hG(I,B.charCodeAt(R));
U.scale.x=H.HorizontalScale==null?1:H.HorizontalScale;U.scale.y=H.VerticalScale==null?1:H.VerticalScale;
var p=l["OS/2"],j=l.hhea;if(H.FontCaps==1&&U.gQ!=U.gQ.toUpperCase()){var T=p.sxHeight?p.sxHeight/p.sTypoAscender:.76;
U.scale.x*=T;U.scale.y*=T}var V=1/l.head.unitsPerEm*H.FontSize;if(H.FontBaseline==1){var T=r.ResourceDict.SuperscriptSize;
U.scale.x*=T;U.scale.y*=T;U.s3-=r.ResourceDict.SuperscriptPosition*H.FontSize}if(H.FontBaseline==2){var T=r.ResourceDict.SubscriptSize;
U.scale.x*=T;U.scale.y*=T;U.s3+=r.ResourceDict.SubscriptPosition*H.FontSize}U.NW=ac.NW(l,I,H);var E=Q.AutoLeading;
U.lineHeight=H.FontSize*(E==null?1.2:E);if(H.AutoLeading==!1)U.lineHeight=H.Leading;if(U.lineHeight==0)U.lineHeight=.01;
this.AY.push(U)}var _=this.hS,f=[0];for(var R=0;R<r.EngineDict.ParagraphRun.RunLengthArray.length;R++){var S=new ac.ni(r,N,this.AY,R,h,f,F==1?m:null);
_.push(S)}if(e){if(F==0)e.translate(0,_[0].ar[0].NW/2);e.rotate(-Math.PI/2)}if(F==2){var L=r.Curve.Points,y=m[0],$=m[1],Z=m[2],i=m[3],b=m[4],G=m[5];
for(var R=0;R<_.length;R++)for(var g=0;g<_[R].NE.length;g++)if(!(R==0&&g==0))_[R].NE[g].kF=!1;var S=_[0],u=S.NE[0];
S.pV.YR(0,0);u.pV.YR(0,0);for(var g=u.start;g<u.end;g++){var A=S.ar[g],a=A.pV.x;A.pV.x=0;for(var d=A._$;
d<=A.Du;d++){var K=S.uc[d],n=K.NQ.e/2;K.pV.x+=a;var t=ac.amk(y,(b+K.pV.x+n)%i);K.pV.x=t[0]-n*t[2];K.pV.y=t[1]-n*t[3];
K.MJ=Math.atan2(t[3],t[2])}}}}ac.NW=function(r,N,F){var h=r["OS/2"],m=r.hhea,O=0,O=0,e=[];e.push(h&&h.sxHeight&&N.toLowerCase().indexOf("capitals")!=-1?h.sxHeight:0);
e.push(h&&h.sCapHeight?h.sCapHeight:0);e.push(h&&h.sTypoAscender?h.sTypoAscender:0);e.push(m.ascender?m.ascender:0);
for(var P=0;P<e.length;P++)if(e[P]!=0){O=e[P];break}var B=1/r.head.unitsPerEm*F.FontSize;O=O*B;if(O<F.FontSize*.6)O=F.FontSize*.75;
return O};ac.prototype.ai7=function(){return!this.arT(0)};ac.prototype.aoz=function(){return this.arT(1)};
ac.prototype.arT=function(r){var N=this.hS,F=!0,h=0;for(var R=0;R<N.length;R++){var m=N[R].NE,O=m.length;
h+=O;for(var e=0;e<O;e++)F&=m[e].kF}return[F,h][r]};ac.pj=function(r,N){if(N==null)N=.25;var F=r.Points,h=F.length,m=h>>>3,O=r.TextOnPathTRange,e=r.Reversed,D=0,c=0;
if(e){var P=F.slice(0);for(var R=0;R<h;R+=2){P[R]=F[h-2-R];P[R+1]=F[h-1-R]}F=P;O=[m-O[1]%m,m-O[0]%m]}var B=[],s=[0],Y=[0];
for(var R=0;R<h;R+=8){var o=F[R+6]-F[R+0],H=F[R+7]-F[R+1],x=Math.round(1/N*Math.sqrt(o*o+H*H));for(var Q=0;
Q<x;Q++){var U=Q/x,I=1-U,l=I*I*I*F[R+0]+3*I*I*U*F[R+2]+3*I*U*U*F[R+4]+U*U*U*F[R+6],p=I*I*I*F[R+1]+3*I*I*U*F[R+3]+3*I*U*U*F[R+5]+U*U*U*F[R+7];
B.push(l,p);if(R+Q!=0){var o=l-D,H=p-c;Y.push(Y[Y.length-1]+Math.sqrt(o*o+H*H));s.push((R>>>3)+U)}D=l;
c=p}}var N=Y.length,j=Y[N-1],T=ac.Jw(O[0]%m,s),V=ac.Jw(O[1]%m,s),E=Y[T%N],_=Y[V%N];if(E>=_)_+=j;return[B,s,Y,j,E,_]};
ac.Jw=function(r,N){var R=0;while(N[R]<r)R++;return R};ac.amk=function(r,N){var F=0,R=0,h,m,O;while(F<N){h=r[R+2]-r[R];
m=r[R+3]-r[R+1];O=Math.sqrt(h*h+m*m);F+=O;R+=2}return[r[R],r[R+1],h/O,m/O]};ac.prototype.a6L=function(r){return this.AY[r]};
ac.prototype.ahr=function(r){for(var N=0;N<this.hS.length;N++){var F=this.hS[N];for(var h=0;h<F.NE.length;
h++){var m=F.NE[h],O=F.ar[m.start].start,e=F.ar[m.end-1].end;if(O<r&&r<e)return[O,e-1]}}return[0,1]};
ac.prototype.auh=function(r,N){var F=-1,h=this.hS;if(this.dn==2){var m=1e9,O=0,e=h[0],P=e.NE[0];for(var B=P.start;
B<P.end;B++){var s=e.ar[B];for(var Y=s._$;Y<=s.Du;Y++){var D=e.uc[Y],c=D.NQ.e,o=r.x-D.pV.x,H=r.y-D.pV.y,x=o*o+H*H;
if(x<m){m=x;O=D.Tx}}}if(O!=0&&this.apr.codePointAt(O-1)>65535)O--;return O}for(var Q=0;Q<h.length;Q++){var e=h[Q];
for(var U=0;U<e.NE.length;U++){F++;var P=e.NE[U],I=e.NE[U+1];if(I==null&&Q<h.length-1)I=h[Q+1].NE[0];
if(N!=null){if(F!=N)continue}else{if(I!=null&&e.pV.y+P.pV.y<r.y)continue}for(var B=P.start;B<P.end;B++){var s=e.ar[B];
for(var Y=s._$;Y<=s.Du;Y++){var D=e.uc[Y],c=D.NQ.e,l=e.pV.x+P.pV.x+s.pV.x,p=l+D.pV.x,j=l+(Y<s.Du?e.uc[Y+1].pV.x:D.pV.x+c);
if(r.x<=j||B+1==P.end&&Y==s.Du){var T=e.aqS+D.Tx,V=this.AY[T],E=V.Xt&1;if(V.gQ!="\n"&&(E==0&&r.x>p+c/2||E==1&&r.x<p+c/2))T+=this.apr.codePointAt(T)>65535?2:1;
return T}}}}}};ac.prototype.k3=function(r){var N={NQ:new fE,vX:0},F=0;for(var h=0;h<this.hS.length;h++){var m=this.hS[h];
for(var O=0;O<m.NE.length;O++){var e=m.NE[O];N.vX=F;F++;for(var P=e.start;P<e.end;P++){var B=m.ar[P];
for(var s=B.start;s<B.end;s++){if(s==r){var Y=this.AY[s],D=Y.SK,c=m.uc[D].Tx,o=1;while(m.uc[D]!=null&&m.uc[D].Tx==c){var H=m.uc[D],x=m.pV.x+e.pV.x+B.pV.x+H.pV.x,Q=m.pV.y+e.pV.y+B.pV.y+H.pV.y;
N.NQ=N.NQ.fD(new fE(x,Q-Y.lineHeight,H.NQ.e,Y.lineHeight));N.MJ=H.MJ;D+=o}return N}}}}}};ac.prototype.Z9=function(){var r=Infinity,N=Infinity,F=-Infinity,h=-Infinity;
for(var R=0;R<this.hS.length;R++){var m=this.hS[R];for(var O=0;O<m.NE.length;O++){var e=m.NE[O];if(!e.kF)break;
for(var P=e.start;P<e.end;P++){var B=m.ar[P];for(var s=B._$;s<=B.Du;s++){var Y=m.uc[s],D=Y.NQ,c=m.pV.x+e.pV.x+B.pV.x+Y.pV.x,o=m.pV.y+e.pV.y+B.pV.y+Y.pV.y;
r=Math.min(r,c+D.x);N=Math.min(N,o+D.y);F=Math.max(F,c+D.x+D.e);h=Math.max(h,o+D.y+D.n)}}}}return new fE(r,N,F-r,h-N)};
ac.C7=function(r){return 19968<=r&&r<=40959||12288<=r&&r<=12543};ac.a7Y=function(r,N,F,h,m,O,e){var P=[O],B=0;
for(var R=O;R<e;R++){if(F[R]==null)console.log(R,O,e,F);var s=F[R].gQ,Y=s.charCodeAt(0);if(Y==32||Y==9){P.push(B,R,1,R+1);
B=0}else if(Y==3851){P.push(B+1,R+1);B=0}else if(ac.C7(Y)){P.push(B,R);B=1}else if(R!=O&&F[R].Xt!=F[R-1].Xt){P.push(B,R);
B=1}else B++}P.push(B);var D=[];for(var R=0;R<P.length;R+=2){var o=P[R],H=P[R+1];if(H==0)continue;D.push(new ac.anQ(r,N,F,h,m,o,H))}return D};
ac.a2x=function(r,N,F,h,m,O,e){var P=[0,N?N.e:1e9],B=[];if(h){var s=r[O].NW,Y=m+(m==0?s:r[O].lineHeight),D=Y-s*.9,c=w.p.K_(h[0],D),o=c.length,H=w.p.K_(h[0],Y),x=H.length;
if(o!=0&&x!=0){var Q=0,U=0;P=[];while(Q<o&&U<x){var I=Math.max(c[Q],H[U]),l=c[Q+1],p=H[U+1],j=Math.min(l,p);
if(I<j)P.push(I,j);if(l<p)Q+=2;else U+=2}}}for(var T=0;T<P.length;T+=2){var V=P[T+1]-P[T],E=0,_=O,f=N?V-F.StartIndent-F.EndIndent-(O==0?F.FirstLineIndent:0):Infinity;
while(O!=r.length){var S=r[O],L=E==0||(S.FX||S.$w)||E+S.NQ.e<f;if(!L)break;E+=S.NQ.e;O++}B.push(O-_)}e[0]=B;
e[1]=P;e[2]=O};ac.a4N=function(r,N){var F=r.length,h=new Uint32Array(F),m=new Uint8Array(F),O=0;for(var R=0;
R<F;R++){m[R]=0;var e=r.charCodeAt(R);h[R]=e;if(e>O)O=e}if(O>1424)m=ac.a05(h,N);return m};ac.abl=function(r){return r=="\xDF"?r:r.toUpperCase()};
ac.ni=function(r,N,F,h,m,O,e){this.ar=[];this.NE=[];this.pV=new gS(0,0);this.uc=null;this.ar=null;this.DD=gQ.aok(r,h);
var P=this.DD,D=0,x="",p=0,j=1,K=0;if(h!=0){var B=P.SpaceBefore;if(B!=null)O[0]+=B}var s=r.EngineDict.ParagraphRun.RunLengthArray,Y=s[h];
for(var R=0;R<h;R++)D+=s[R];var o=P._Direction?P._Direction:0;this.aqS=D;var H=gQ.Xe(r).slice(D,D+Y);
for(var Q=0;Q<H.length;Q++){var U=H.charAt(Q);x+=F[D+Q].DD.FontCaps==0?U:ac.abl(U)}H=x;var I=ac.a4N(H,o),l=[],T=I[R]&1,V=F[D].h0;
F[D].Xt=I[0];for(var R=1;R<H.length;R++){var U=F[D+R],E=I[R];U.Xt=E;if(E!=T||U.h0!=V){l.push(p,j);p=R;
j=1;T=E;V=U.h0}else j++}l.push(p,j);var _=this.uc=[];for(var R=0;R<l.length;R+=2){var f=l[R],S=l[R+1],L=(F[D+f].Xt&1)==0,y=H.slice(f,f+S),$=Typr.U.shapeHB(F[D+f].h0,y,L),Z=[],G=0;
for(var Q=0;Q<$.length;Q++){var i=$[Q];Z.push({z:i.g,Tx:i.cl,Yk:i.ax,it:i.ay,T3:i.dx,N_:i.dy})}$=Z;var b=$.slice(0);
if(!L)b.reverse();for(var Q=0;Q<y.length;Q++){while(G+1<b.length&&b[G+1].Tx<=Q){G++}while(G>0&&b[G-1].Tx==Q)G--;
F[D+f+Q].SK=_.length+(L?G:b.length-G-1)}for(var Q=0;Q<$.length;Q++){_.push($[Q]);$[Q].Tx+=f;var U=F[D+$[Q].Tx];
if(U.RU!=-1){$[Q].z=U.RU;var g=U.h0.hmtx;if(g){var u=Object.keys(g)[0];$[Q].Yk=g[u][U.RU]}}if(U.gQ=="\n")$[Q].Yk=0;
if(U.gQ=="\t")$[Q].Yk=U.h0.head.unitsPerEm*36/U.DD.FontSize}}var A=gQ.iQ(P),a=this.ar=ac.a7Y(r,N,F,D,_,D,D+Y),d=this.NE,n=-1,x=[null,null,0];
while(K<a.length){ac.a2x(a,m,P,e,O[0],K,x);n++;var t={start:K,end:0,NQ:new fE,pV:new gS(0,0),kF:!0},be=0,bp=0;
d.push(t);t.end=x[2];var X=t.end==a.length;function aK(b,f,ei){var bz=ei-f>>>1;for(var R=0;R<bz;R++){var aM=b[f+R];
b[f+R]=b[ei-1-R];b[ei-1-R]=aM}}for(var fg=1;fg<5;fg++){var k=-1;for(var R=t.start;R<t.end;R++){var E=F[a[R].start].Xt;
if(k==-1&&E>=fg)k=R;else if(k!=-1&&E<fg){aK(a,k,R);k=-1}}var hG=t.end;if(o==0&&a[hG-1].FX)hG--;if(k!=-1)aK(a,k,hG)}var eE=x[0],hW=x[1],k=K,hh=K;
for(var hI=0;hI<eE.length;hI++){var db=hW[hI*2+1]-hW[hI*2],by=0;k=hh;hh+=eE[hI];var jM=this.adq(k,hh,a,o,m!=null);
if(m){if(A==1||X&&A==4)by=jM[1]+(db-jM[0]);if(A==2||X&&A==5)by=jM[1]+(db-jM[0])/2;if(n==0)by+=P.FirstLineIndent;
by+=P.StartIndent}else{if(A==0)by=P.StartIndent+P.FirstLineIndent;if(A==1)by=-jM[0]-P.EndIndent;if(A==2)by=-jM[0]/2}by+=hW[hI*2];
if(m&&A>2&&(A==6||!X))this.a9h(k,hh,a,db,o,by);else{var fP=by;for(var R=k;R<hh;R++){var hB=a[R],iu=hB.NQ.e;
hB.pV.x=fP;if(hB.b0=="\t")iu=Math.ceil((fP+4)/36)*36-fP;fP+=iu}}}K=t.end;for(var R=t.start;R<t.end;R++){var ij=a[R].NQ.clone();
ij.hZ(a[R].pV);t.NQ=t.NQ.fD(ij);be=Math.max(be,a[R].NW);bp=Math.max(bp,a[R].lineHeight)}t.pV.y=n==0?0:d[n-1].pV.y+bp;
if(n==0){if(h==0&&m)O[0]+=be;if(h!=0)O[0]+=bp;this.pV.y=O[0]}else O[0]+=bp;if(m)t.kF=this.pV.y+t.pV.y<m.y+m.n}var fT=P.SpaceAfter;
if(fT!=null)O[0]+=fT};ac.ni.prototype.adq=function(r,N,F,h,m){var O=0,e=0;for(var R=r;R<N;R++)O+=F[R].NQ.e;
if(m){if(h==0)for(var R=N-1;R>=r;R--)if(F[R].FX||F[R].$w)O-=F[R].NQ.e;else break;if(h==1)for(var R=r;
R<N;R++)if(F[R].FX||F[R].$w){var P=F[R].NQ.e;O-=P;e-=P}else break}return[O,e]};ac.ni.prototype.a9h=function(r,N,F,h,m,O){var e=0,P=0,B=0,s=0;
for(var R=r;R<N;R++)if(F[R].FX)B++;else{e+=F[R].NQ.e;P++}if(m==0)for(var R=N-1;R>=r;R--)if(F[R].FX||F[R].$w){if(F[R].FX){B--}}else break;
if(m==1)for(var R=r;R<N;R++)if(F[R].FX||F[R].$w){if(F[R].FX){B--;s++}}else break;if(P<=1||B==0){if(P==1)F[r].pV.x=O;
return}var Y=(h-e)/B,D=-s*Y;for(var R=r;R<N;R++){if(F[R].FX)this.uc[F[R]._$].NQ.e=F[R].NQ.e=Y;F[R].pV.x=O+D;
D+=F[R].NQ.e}};ac.anQ=function(r,N,F,h,m,O,e){this.b0="";for(var R=0;R<e;R++)this.b0+=F[O+R].gQ;this.FX=e==1&&(F[O].gQ==" "||F[O].gQ=="\t");
this.$w=e==1&&F[O].gQ=="\n";this.start=O;this.end=O+e;this.NQ=new fE;this.pV=new gS(0,0);this.NW=0;this.lineHeight=0;
var P=0,B=0;if(e==0){this.lineHeight=F[O].lineHeight;this.NW=F[O].NW;this.NQ=new fE(0,-F[O].lineHeight,0,F[O].lineHeight)}var s=F[O].SK,Y=F[O+e-1].SK;
if(Y<s){var D=s;s=Y;Y=D}while(Y+1<m.length&&m[Y].Tx==m[Y+1].Tx){Y++}this._$=s;this.Du=Y;for(var o=s;
o<=Y;o++){var H=m[o],x=F[h+H.Tx],Q=r._LineOrientation==2&&(x.DD.BaselineDirection!=2||ac.C7(x.gQ.charCodeAt(0))),U=Typr.U.glyphToPath(x.h0,H.z),T=0;
H.path={C:U.cmds,t:U.crds};var I=x.DD.FontSize,l=1/x.h0.head.unitsPerEm*I;if(!x.DD.AutoKerning)P+=x.DD.Kerning*2*l*x.scale.x;
H.pV=new gS(P,0);H.MJ=0;if(Q&&H.path.t.length>0){H.MJ=-Math.PI/2;H.pV.x+=I*.83;H.pV.y=-I*.3+H.Yk*l/2;
H.Yk=I/l}var p=H.Yk*l*x.scale.x;H.NQ=new fE(0,-x.lineHeight,p,x.lineHeight);var j=H.NQ.clone();j.hZ(H.pV);
if(x.DD.Tracking!=null)T=x.DD.Tracking*.001*I;if(x.DD.FauxBold==!0)T+=.027*I;P+=p+T;if(e==1&&x.gQ==" ")j.e+=2*T;
else if(e==1&&x.gQ!=null&&ac.C7(x.gQ.charCodeAt(0)))j.e+=T;this.NQ=this.NQ.fD(j);this.NW=Math.max(this.NW,x.NW);
this.lineHeight=Math.max(this.lineHeight,x.lineHeight)}};ac.Cu=0;ac.abB=function(r){if(ac.Cu==2)return!0;
if(ac.Cu==1)return!1;ac.Cu=1;function N(){fetch("code/ext/fribidi.wasm").then(function(F){return F.arrayBuffer()}).then(function(F){return WebAssembly.instantiate(F)}).then(function(F){var h=F.instance.exports,m=h.memory,O=16,e=256,P=1,B=O|e,s=O|e|P;
ac.a05=function(D,c){var o=D.length,H=o*4+4+o*4+o*4+o;bA.PN(h,H+o+1e7);var x=new Uint8Array(m.buffer),Q=new Uint32Array(m.buffer),U=h.calloc(H,1),I=U+o*4,l=I+4,p=l+o*4,j=p+o*4;
Q.set(D,U>>>2);Q[I>>>2]=c==0?B:s;h.fribidi_get_bidi_types(U,o,l);h.fribidi_get_bracket_types(U,o,l,p);
h.fribidi_get_par_embedding_levels_ex(l,p,o,I,j);var T=x.slice(j,j+o);h.free(U);return T};ac.Cu=2;var Y=new gf(v.E.S,!0);
Y.data={V:v.c.nM,oJ:"add",Xa:bC.Jf,Zn:null};r.L(Y)})}Typr.U.initHB("code/ext/hb.wasm",N);return!1};function gQ(){}gQ.zH=function(r){return JSON.parse(JSON.stringify(r))};
gQ.Iv=function(r,N){for(var F in N)r[F]=N[F]};gQ.WW=function(r,N,F){var h=gQ.ake();if(F)gQ.sW(h,0,0,F);
var m={A:new hc(1,0,0,1,Math.round(r),Math.round(N)),sl:h};m.Fo=gQ.aoH();m._u=w.U5.B();m.A2=new fE;return m};
gQ.aps=function(r){var N=["CharacterDirection",0];for(var R=0;R<N.length;R+=2){if(r[N[R]]!=null&&r[N[R]]!=N[R+1]){throw"e";
console.log(N[R],r[N[R]])}}if(r instanceof Array)for(var R=0;R<r.length;R++)gQ.aps(r[R]);else if(r instanceof Object)for(var F in r)gQ.aps(r[F])};
gQ.iQ=function(r,N){if(N==null)N=r.Justification;var F=r._Direction?r._Direction:0;if(F==1){if(N==0||N==3)N++;
else if(N==1||N==4)N--}return N};gQ.$s=function(r){if(r.add==null)return;var N=r.sl,F=N.Curve,h=r.add.vmsk,m=h.Y,O=w.p.aM(m,!0).t,e=r.A.clone();
e.iL();w.p.A(O,e,O);var P=O.slice(0,8);for(var B=8;B<O.length;B+=6)P.push(O[B-2],O[B-1],O[B],O[B+1],O[B+2],O[B+3],O[B+4],O[B+5]);
F.Points=P;F.TextOnPathTRange=h.i4.slice(0);F.Reversed=h.D9;if(gQ.d4(N)==1){var F=ac.pj(N.Curve),s=w.p.Ce(F[0]);
gQ.q2(N,[0,0,s.e,s.n].map(Math.round));for(var R=0;R<P.length;R+=2){P[R]-=s.x;P[R+1]-=s.y}var Y=new hc(1,0,0,1,s.x,s.y);
Y.concat(r.A);r.A=Y}};gQ.hy=function(r){if(r.add==null)return;var N=r.add.vmsk,F=r.sl.Curve,h=F.Points,m={C:["M"],t:[h[0],h[1]]};
for(var R=0;R<h.length;R+=8){m.C.push("C");m.t.push(h[R+2],h[R+3],h[R+4],h[R+5],h[R+6],h[R+7])}w.p.A(m.t,r.A,m.t);
var O=w.p.nN(m,!0);N.Y=O;N.D9=F.Reversed;N.i4=F.TextOnPathTRange.slice(0);r.add.vogk=C.jq(O)};gQ.Mq=function(r){var N={Z:0,z:0,J:0};
if(r){var F=r.Values;if(r.Type==1)N={Z:F[1]*255,z:F[2]*255,J:F[3]*255};else if(r.Type==2){var h={classID:"CMYC",Cyn:{t:"doub",v:F[1]*100},Mgnt:{t:"doub",v:F[2]*100},Ylw:{t:"doub",v:F[3]*100},Blck:{t:"doub",v:F[4]*100}};
N=w.X.Mq(h)}else console.log("Unknown color type")}return N};gQ.ahu=function(r){for(var R=0;R<r.length;
R++){var N=r[R].StyleSheet.StyleSheetData,F=N.FillColor;if(F&&F.Type==2){var h=gQ.Mq(F);F.Type=1;F.Values=[1,h.Z/255,h.z/255,h.J/255]}}};
gQ.Tm=function(r,N){var F;if(gQ.d4(r.sl)==1){var h=gQ.Bf(r.sl);F=new fE(0,0,h[2]-h[0],h[3]-h[1])}else{F=N.Z9();
if(N.BF){var m=N.BF.clone(),O=w.p.fc(F);w.p.A(O.t,m,O.t);F=w.p.Ce(O.t)}}return F};gQ.u8=function(r){var N=r[0];
for(var R=0;R<r.length;R++)N=gQ.ahR(N,r[R]);return N};gQ.ahR=function(r,N){var F={};for(var h in r)if(JSON.stringify(r[h])==JSON.stringify(N[h]))F[h]=r[h];
return F};gQ.dV=function(r,N){var F=r.f7,h=-1;for(var R=0;R<F.length;R++)if(F[R].Name==N)h=R;if(h==-1){h=F.length;
F.push({FontType:1,Name:N,Script:0,Synthetic:0})}r.AY.Font=h};gQ.Xe=function(r){return r.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
gQ.Yr=function(r,N){r.EngineDict.Editor.Text=N.replace(/\n/g,"\r")};gQ.d4=function(r){return r.Curve&&r.Curve.TextOnPathTRange[0]>=0?2:r.EngineDict.Rendered.Shapes.Children[0].ShapeType};
gQ.l7=function(r,N){var F=r.EngineDict.Rendered.Shapes.Children[0];F.ShapeType=N;var h=F.Cookie.Photoshop;
h.ShapeType=N;h.Base.ShapeType=N;if(N==0){delete h.BoxBounds;h.PointBase=[0,0]}if(N==1){delete h.PointBase;
h.BoxBounds=[0,0,1,1]}};gQ.Bf=function(r){return r.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
gQ.q2=function(r,N){r.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=N};gQ.ae1=function(r,N){var F=r.EngineDict.AlternateGlyphRun;
if(F==null)return-1;var h=gQ.L0(F.RunLengthArray,N).by,m=F.RunArray[h].Glyph;return m==null?-1:m};gQ.a6q=function(r,N,F){var h=r.EngineDict.AlternateGlyphRun;
if(h==null){h=r.EngineDict.AlternateGlyphRun=gQ.avw();h.RunArray.push({});h.RunLengthArray.push(gQ.Xe(r).length)}var m=gQ.L0(h.RunLengthArray,N),O=m.by,e=N-m.Tv,P=h.RunArray[O],B=JSON.stringify(P),s=h.RunLengthArray[O];
if(e!=0){h.RunArray.splice(O,0,JSON.parse(B));h.RunLengthArray.splice(O,0,e);h.RunLengthArray[O+1]-=e;
O++;s-=e;e=0}if(s!=1){h.RunArray.splice(O+1,0,JSON.parse(B));h.RunLengthArray.splice(O+1,0,s-1);h.RunLengthArray[O]=1;
s=1}P.Glyph=F};gQ.abg=function(r,N){var F=r.EngineDict.StyleRun.RunLengthArray;return gQ.L0(F,N).by};
gQ.a12=function(r,N){var F=r.ResourceDict.StyleSheetSet[0].StyleSheetData,h={};for(var m in F)h[m]=F[m];
var O=r.EngineDict.StyleRun.RunArray[N].StyleSheet.StyleSheetData;gQ.Iv(h,O);return h};gQ.akV=function(r,N){var F=r.EngineDict.ParagraphRun.RunLengthArray;
return gQ.L0(F,N).by};gQ.aok=function(r,N){var F=r.ResourceDict.ParagraphSheetSet[0].Properties,h={};
for(var m in F)h[m]=F[m];var O=r.EngineDict.ParagraphRun.RunArray[N].ParagraphSheet.Properties;gQ.Iv(h,O);
var e=["StartIndent","EndIndent","FirstLineIndent"];for(var R=0;R<3;R++)if(h[e[R]]==null)h[e[R]]=0;return h};
gQ.BY=function(r,N,F){if(F=="")return;var h=gQ.Xe(r);gQ.Yr(r,h.substring(0,N)+F+h.substring(N,h.length));
var m=r.EngineDict.StyleRun,O=m.RunLengthArray,e=gQ.L0(O,N-1);O[e.by]+=F.length;var P=r.EngineDict.AlternateGlyphRun;
if(P){var O=P.RunLengthArray,e=gQ.L0(O,N-1);O[e.by]+=F.length}var B=r.EngineDict.ParagraphRun,O=B.RunLengthArray,s=gQ.L0(O,N),Y=F.split("\n");
if(Y.length==1){O[s.by]+=F.length;return}O.splice(s.by+1,0,O[s.by]-(N-s.Tv));B.RunArray.splice(s.by+1,0,gQ.zH(B.RunArray[s.by]));
O[s.by]-=O[s.by+1];O[s.by]+=Y[0].length+1;for(var R=1;R<Y.length-1;R++){B.RunArray.splice(s.by+R,0,gQ.zH(B.RunArray[s.by+R-1]));
B.RunLengthArray.splice(s.by+R,0,Y[R].length+1)}O[s.by+Y.length-1]+=Y[Y.length-1].length};gQ.IP=function(r,N,F){var h=gQ.Xe(r);
gQ.Yr(r,h.substring(0,N)+h.substring(F,h.length));gQ.GD(r.EngineDict.ParagraphRun,N,F,!0);gQ.GD(r.EngineDict.StyleRun,N,F,!1);
var m=r.EngineDict.AlternateGlyphRun;if(m)gQ.GD(m,N,F,!1)};gQ.GD=function(r,N,F,h){var m=r.RunLengthArray,O=gQ.L0(m,N),e=gQ.L0(m,F),P=[];
for(var R=0;R<m.length;R++)for(var B=0;B<m[R];B++)P.push(R);P.splice(N,F-N);var s=[];for(var R=0;R<m.length;
R++)s.push(0);for(var R=0;R<P.length;R++)s[P[R]]++;for(var R=0;R<m.length;R++){if(s[R]==0){s.splice(R,1);
m.splice(R,1);r.RunArray.splice(R,1);R--}else if(s[R]<m[R])m[R]=s[R]}if(h&&O.by!=e.by&&O.Tv!=N){m[O.by]+=m[O.by+1];
m.splice(O.by+1,1);r.RunArray.splice(O.by+1,1)}};gQ.sW=function(r,N,F,h){var m=r.EngineDict.Editor.Text.length;
if(F==m-2)F++;if(h.AY.Font!=null)r.ResourceDict.FontSet=h.f7.slice(0);if(N<=F)gQ.ali(r.EngineDict.StyleRun,h.AY,N,F,!0);
gQ.ali(r.EngineDict.ParagraphRun,h.hS,N,F,!1)};gQ.pz=function(r,N,F){var h={f7:r.ResourceDict.FontSet.slice(0),AY:[],hS:[]},m=r.EngineDict.StyleRun.RunLengthArray,O=gQ.L0(m,N).by,e=gQ.L0(m,F).by;
for(var R=O;R<=e;R++){var P=gQ.zH(r.ResourceDict.StyleSheetSet[0].StyleSheetData),B=r.EngineDict.StyleRun.RunArray;
if(B.length==0)continue;var s=B[R].StyleSheet.StyleSheetData;gQ.Iv(P,s);h.AY.push(P)}var Y=r.EngineDict.ParagraphRun.RunLengthArray,D=gQ.L0(Y,N).by,o=gQ.L0(Y,F).by;
for(var R=D;R<=o;R++){var H=r.EngineDict.ParagraphRun.RunArray;if(H.length==0)continue;h.hS.push(gQ.zH(H[R].ParagraphSheet.Properties))}h.AY=h.AY.length==0?{}:gQ.u8(h.AY);
h.hS=h.hS.length==0?{}:gQ.u8(h.hS);return h};gQ.ali=function(r,N,F,h,m){var O=r.RunLengthArray;if(m){var e=gQ.L0(O,F);
if(e.Tv!=F){var P=O[e.by];O.splice(e.by,0,F-e.Tv);O[e.by+1]=P-O[e.by];r.RunArray.splice(e.by+1,0,gQ.zH(r.RunArray[e.by]))}var B=gQ.L0(O,h);
if(B.Tv+O[B.by]-1!=h){var P=O[B.by];O.splice(B.by,0,h-B.Tv+1);O[B.by+1]=P-O[B.by];r.RunArray.splice(B.by+1,0,gQ.zH(r.RunArray[B.by]))}}var e=gQ.L0(O,F),B=gQ.L0(O,h);
if(m)for(var R=e.by;R<=B.by;R++)gQ.Iv(r.RunArray[R].StyleSheet.StyleSheetData,N);else for(var R=e.by;
R<=B.by;R++)gQ.Iv(r.RunArray[R].ParagraphSheet.Properties,N)};gQ.aoL=function(r,N,F){var h=r.EngineDict.StyleRun.RunLengthArray,m=[],O=0;
for(var R=0;R<h.length;R++){var e=h[R];for(var P=0;P<e;P++)if(N<=O+P&&O+P<F)m.push(R);O+=e}var B=m[0],s=[];
for(var R=0;R<m.length;R++){var Y=m[R]-B;if(Y==s.length)s.push(0);s[Y]++}return s};gQ.agO=function(r){var N=r.EngineDict.StyleRun,F=N.RunArray,h=N.RunLengthArray;
for(var R=0;R<h.length-1;R++){var m=F[R].StyleSheet.StyleSheetData,O=F[R+1].StyleSheet.StyleSheetData;
if(JSON.stringify(m)==JSON.stringify(O)){F.splice(R+1,1);h[R]+=h[R+1];h.splice(R+1,1);R--}}};gQ.XI=function(r){var N=r.Fo.AntA.v.Annt;
N=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(N);if(N==-1)N=1;return N};gQ.Db=function(r,N){r.Fo.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][N]};
gQ.wG=function(r,N){var F,h;F=["FontSize","Leading","BaselineShift"];h=r.AY;for(var R=0;R<F.length;R++)if(h[F[R]]!=null)h[F[R]]*=N;
F=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];h=r.hS;for(var R=0;R<F.length;
R++)if(h[F[R]]!=null)h[F[R]]*=N};gQ.afv=function(){return gQ.pz(gQ.aqC,0,0)};gQ.aoH=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
gQ.L0=function(r,N){var F=0,R=0;while(F+r[R]<=N){F+=r[R];R++}return{by:R,Tv:F}};gQ.ake=function(){var r=gQ.zH(this.aqC);
return r};gQ.a5q=function(r,N){var F=N.hS};gQ.a1u=function(r,N){var F=N.AY,h;h=r.Undl;if(h&&h.v.Undl=="underlineOnLeftInVertical")F.Underline=!0;
h=r.syntheticItalic;if(h)F.FauxItalic=h.v};gQ.alV={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
gQ.asK={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
gQ.avw=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};gQ.aqC={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gQ.alV))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gQ.alV))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(gQ.asK))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var ax={};ax.ai1=function(r){var N=ax.ani(r._0,r._1);ax.acZ(N,r._0);return N};ax.alG=function(r,N,F){var h={};
h._98={_0:"i7"};h._0=ax.aqM(r,N,F?F._0:null);h._1=ax.a4m(r,N,h._0,F?F._1:null);return h};ax.aqM=function(r,N,F){var h={};
h._1=ax.amy(r,F?F._1:null);h._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};h._3=JSON.parse(JSON.stringify(ax.avB));
h._4=JSON.parse(JSON.stringify(ax.atn));h._5=ax.at1(r,h._1._0,F?F._5:null);h._6=ax.akF(r,F?F._6:null);
h._8=ax.aeV(r,N,F?F._8:null);h._9=ax.a3H;return h};ax.acZ=function(r,N){ax.alB(r,N._5,N._1._0)};ax.amy=function(r,N){var F=[],h=[];
for(var R=0;R<r.length;R++){var m=r[R].ResourceDict.FontSet;for(var O=0;O<m.length;O++){var e=m[O];if(h.indexOf(e.Name)!=-1)continue;
F.push(e);h.push(e.Name)}}var P={_0:[]};for(var R=0;R<F.length;R++){var B=F[R],s={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+B.Name,_1:"i"+B.Script,_2:"i"+B.FontType}}};
if(B.Script==0)delete s._0._0._1;P._0.push(s)}return P};ax.at1=function(r,N,F){var h={_0:[],_1:[]},m={_0:JSON.parse(JSON.stringify(ax.amY))};
ax.acz(m._0,r[0].ResourceDict.StyleSheetSet[0],N,r[0].ResourceDict.FontSet);h._0.push(m);h._1.push({_0:"i0"});
h._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});h._1.push({_0:"i1"});return h};ax.alB=function(r,N,F){var h=N._0[0];
for(var R=0;R<r.length;R++)ax.ami(h._0,r[R].ResourceDict.StyleSheetSet[0],F,r[R].ResourceDict.FontSet)};
ax.akF=function(r,N){var F={_0:[],_1:[]},h={_0:JSON.parse(JSON.stringify(ax.lk))};ax.SI(h._0,r[0].ResourceDict.ParagraphSheetSet[0]);
F._0.push(h);F._1.push({_0:"i0"});h={_0:JSON.parse(JSON.stringify(ax.lk))};ax.SI(h._0,r[0].ResourceDict.ParagraphSheetSet[0]);
h._0._0="sBasic Paragraph";h._0._6="i0";F._0.push(h);F._1.push({_0:"i1"});return F};ax.aeV=function(r,N,F){var h={_0:[]};
for(var R=0;R<r.length;R++){var m=r[R].Curve,O={};h._0.push({_0:O});var e=gQ.d4(r[R]);O._2={};O._2._0="i"+e;
if(r[R]._LineOrientation==2)O._2._1="i2";if(e==0){O._2._6=["f-1","f-1"];O._2._11={_4:"i-1",_7:!1}}else if(e==1&&m==null){var P=gQ.Bf(r[R]),B=P[2],s=P[3];
O._1={_0:ax.JF("f",[0,0,0,0,B,0,B,0,B,0,B,0,B,s,B,s,B,s,B,s,0,s,0,s,0,s,0,s,0,0,0,0])};O._2._6=["f-2","f-2"];
O._2._11={_4:"i-2",_7:!1}}else if(e==1){var P=gQ.Bf(r[R]),B=P[2],s=P[3];O._1={_0:ax.JF("f",m.Points)};
O._2._6=["f-3","f-3"];O._2._11={_4:"i-3",_7:!1}}else if(e==2){O._1={_0:ax.JF("f",m.Points)};O._2._6=ax.JF("f",m.TextOnPathTRange);
O._2._11={_0:m.Reversed,_3:"i0",_5:"f0",_7:!1}}}return h};ax.a4m=function(r,N,F,h){var m={};m._0=JSON.parse(JSON.stringify(ax.aaf));
m._1=ax.adP(r,N,F,h?h._1:null);m._2=JSON.parse(JSON.stringify(ax.amY._6));m._3=JSON.parse(JSON.stringify(ax.lk._5));
return m};ax.ani=function(r,N){return ax.aoP(r,N._1)};ax.adP=function(r,N,F,h){var m=[],O=F._1._0;for(var R=0;
R<r.length;R++){var e=r[R],P={_0:{}};m.push(P);P._0._0="s"+e.EngineDict.Editor.Text;P._0._0=P._0._0;
var B=P._0._5={_0:[]},s=e.EngineDict.ParagraphRun;for(var Y=0;Y<s.RunArray.length;Y++){var D={_0:{}};
B._0.push(D);D._0._0={_0:"s",_5:{},_6:"i1"};ax.SI(D._0._0,s.RunArray[Y].ParagraphSheet);D._1="i"+s.RunLengthArray[Y]}var o=P._0._6={_0:[]};
s=e.EngineDict.StyleRun;for(var Y=0;Y<s.RunArray.length;Y++){var H={_0:{}};o._0.push(H);H._0._0={_0:"s",_5:"i1",_6:{}};
ax.acz(H._0._0,s.RunArray[Y].StyleSheet,O,e.ResourceDict.FontSet);H._1="i"+s.RunLengthArray[Y]}s=e.EngineDict.AlternateGlyphRun;
if(s){var x=P._0._9={_0:[]};for(var Y=0;Y<s.RunArray.length;Y++){var Q={_0:{}};x._0.push(Q);var U=s.RunArray[Y];
if(U.Glyph!=null){Q._0._0={_0:"i"+U.Glyph,_1:"e"}}Q._1="i"+s.RunLengthArray[Y]}}P._0._10={_0:"i4",_2:!0};
P._1=ax.view.a1b(e,null,R,null)}return m};ax.aoP=function(r,N){var F=[],h=r._1._0;for(var R=0;R<N.length;
R++){var m=gQ.ake();F.push(m);var O=N[R];m.EngineDict.Editor.Text=O._0._0.slice(1);var e=m.EngineDict.ParagraphRun.RunArray[0],P=m.EngineDict.ParagraphRun,B=O._0._5;
if(B)for(var s=0;s<B._0.length;s++){var Y=B._0[s];P.RunLengthArray[s]=parseInt(Y._1.slice(1));P.RunArray[s]=JSON.parse(JSON.stringify(e));
ax.ac5(Y._0._0,P.RunArray[s].ParagraphSheet)}else{P.RunLengthArray[0]=gQ.Xe(m).length}var D=O._0._6;
P=m.EngineDict.StyleRun;if(D)for(var s=0;s<D._0.length;s++){var o=D._0[s];P.RunLengthArray[s]=parseInt(o._1.slice(1));
P.RunArray[s]={StyleSheet:{StyleSheetData:{}}};ax.ami(o._0._0,P.RunArray[s].StyleSheet,h,m.ResourceDict.FontSet)}else{P.RunLengthArray[0]=gQ.Xe(m).length;
P.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return F};ax.acz=function(r,N,F,h,m){r._0="s"+(N.Name?N.Name:"");
var O=r._6,e=m?m._6:null,P=N.StyleSheetData;if(P.Font==null)return;var B=h[P.Font].Name,s=-1;for(var R=0;
R<F.length;R++)if("s"+B==F[R]._0._0._0){s=R;break}O._0="i"+s;if(P.FontSize!=null)O._1="f"+P.FontSize;
if(P.FauxBold!=null)O._2=P.FauxBold;if(P.FauxItalic!=null)O._3=P.FauxItalic;if(P.AutoLeading!=null)O._4=P.AutoLeading;
if(P.Leading!=null)O._5="f"+P.Leading;if(P.HorizontalScale!=null)O._6="f"+P.HorizontalScale;if(P.VerticalScale!=null)O._7="f"+P.VerticalScale;
if(P.Tracking!=null)O._8="i"+P.Tracking;if(P.BaselineShift!=null)O._9="f"+P.BaselineShift;if(P.AutoKerning!=null)O._11="i"+(P.AutoKerning?1:0);
if(P.FontCaps!=null)O._12="i"+P.FontCaps;if(P.FontBaseline!=null)O._13="i"+P.FontBaseline;if(P.Strikethrough!=null)O._15="i"+(P.Strikethrough?1:0);
if(P.Underline!=null)O._16="i"+(P.Underline?2:0);if(P.Ligatures!=null)O._18=P.Ligatures;if(P.DLigatures!=null)O._19=P.DLigatures;
if(P.BaselineDirection!=null)O._35="i"+P.BaselineDirection;if(P.Language!=null)O._38="i"+P.Language;
if(P.FillColor!=null)O._53=ax.CT(P.FillColor);if(P.StrokeColor!=null)O._54=ax.CT(P.StrokeColor);if(P.FillFlag!=null)O._56=P.FillFlag;
if(P.StrokeFlag!=null)O._57=P.StrokeFlag;if(P._LineWidth!=null)O._63="f"+P._LineWidth;if(P._FillBackgroundColor!=null)O._79=ax.CT(P._FillBackgroundColor);
if(P._FillBackgroundFlag!=null)O._80=P._FillBackgroundFlag};ax.CT=function(r){return{_99:"/SimplePaint",_0:{_0:"i1",_1:ax.JF("f",r.Values)}}};
ax.ami=function(r,N,F,h){var m=r._6;if(m==null)return;var O=N.StyleSheetData;if(m._0){var e=parseInt(m._0.slice(1)),P=F[e]._0._0._0.slice(1);
gQ.dV({AY:O,f7:h},P)}if(m._1!=null)O.FontSize=parseFloat(m._1.slice(1));if(m._2!=null)O.FauxBold=m._2;
if(m._3!=null)O.FauxItalic=m._3;if(m._4!=null)O.AutoLeading=m._4;if(m._5!=null)O.Leading=parseFloat(m._5.slice(1));
if(m._6!=null)O.HorizontalScale=parseFloat(m._6.slice(1));if(m._7!=null)O.VerticalScale=parseFloat(m._7.slice(1));
if(m._8!=null)O.Tracking=parseFloat(m._8.slice(1));if(m._9!=null)O.BaselineShift=parseFloat(m._9.slice(1));
if(m._11!=null)O.AutoKerning=parseFloat(m._11.slice(1))==1;if(m._12!=null)O.FontCaps=parseFloat(m._12.slice(1));
if(m._13!=null)O.FontBaseline=parseFloat(m._13.slice(1));if(m._15!=null)O.Strikethrough=parseFloat(m._15.slice(1))==1;
if(m._16!=null)O.Underline=parseFloat(m._16.slice(1))==1;if(m._18!=null)O.Ligatures=m._18;if(m._19!=null)O.DLigatures=m._19;
if(m._35!=null)O.BaselineDirection=parseFloat(m._35.slice(1));if(m._38!=null)O.Language=parseFloat(m._38.slice(1));
if(m._53!=null)O.FillColor=ax.Wn(m._53);if(m._54!=null)O.StrokeColor=ax.Wn(m._54);if(m._56!=null)O.FillFlag=m._56;
if(m._57!=null)O.StrokeFlag=m._57;if(m._63!=null)O._LineWidth=parseFloat(m._63.slice(1));if(m._79!=null)O._FillBackgroundColor=ax.Wn(m._79);
if(m._80!=null)O._FillBackgroundFlag=m._80};ax.Wn=function(r){var N=r._0._0,F=r._0._1,h=[1,0,0,0],m=[];
for(var R=0;R<F.length;R++)m[R]=parseFloat(F[R].slice(1));if(N=="i0")h[1]=h[2]=h[3]=m[1];else if(N=="i1")h=m;
else if(N=="i2")h=[1].concat(UDOC.C.cmykToRgb(m.slice(1)));else console.log("unknown color type",N,m);
return{Type:1,Values:h}};ax.SI=function(r,N){r._0="s"+(N.Name?N.Name:"");var F=r._5,h=N.Properties;if(h.Justification!=null)F._0="i"+h.Justification;
if(h.FirstLineIndent!=null)F._1="f"+h.FirstLineIndent;if(h.StartIndent!=null)F._2="f"+h.StartIndent;
if(h.EndtIndent!=null)F._3="f"+h.EndtIndent;if(h.SpaceBefore!=null)F._4="f"+h.SpaceBefore;if(h.SpaceAfter!=null)F._5="f"+h.SpaceAfter;
if(h.AutoLeading!=null)F._7="f"+h.AutoLeading;if(h.AutoHyphenate!=null)F._9=h.AutoHyphenate;if(h._Direction!=null)F._33="i"+h._Direction;
if(h._ComposerEngine!=null)F._35="i"+h._ComposerEngine};ax.ac5=function(r,N){var F=r._5;if(F==null)return;
var h=N.Properties;if(F._0)h.Justification=parseInt(F._0.slice(1))};ax.JF=function(r,N){var F=[];for(var R=0;
R<N.length;R++)F.push(r+N[R]);return F};ax.avB={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
ax.atn={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
ax.amY={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
ax.lk={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
ax.a3H={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
ax.aaf={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var e4={};e4.agD=function(r){return e4.CM(r,e4.Fa,0)};e4.adZ=function(r){return e4.Cc(r,e4.Fa)};e4.CM=function(r,N,F){var h;
if(typeof r=="string")return r;if(r instanceof Array){h=[];for(var R=0;R<r.length;R++)h[R]=e4.CM(r[R],N,F+1)}else{h={};
var m={};for(var O in N){var e=N[O],P="_"+e[0];if(r[P]!=null){h[O]=e[1]?e4.CM(r[P],e[1],F+1):r[P];m[P]=!0}}for(var O in r){if(m[O]==null){if(O.length>3)continue;
console.log(N,m);console.log(O,r);throw"e"}}}return h};e4.Cc=function(r,N){var F;if(typeof r=="string")return r;
else if(r instanceof Array){F=[];for(var R=0;R<r.length;R++)F[R]=e4.Cc(r[R],N)}else{F={};var h={};for(var m in N){var O=N[m],e="_"+O[0];
if(r[m]!=null){F[e]=O[1]?e4.Cc(r[m],O[1]):r[m];h[m]=!0}}for(var m in r){if(h[m]==null){console.log(N,h);
console.log(m,r);throw"e"}}}return F};e4.ZM={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
e4.EO={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,e4.ZM],_StrokeColor:[54,e4.ZM],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,e4.ZM],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
e4.ara={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,e4.EO],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
e4.akd={_Name:[0],_Features:[5,e4.ara],_Parent:[6],_UUID:[97]};e4.agl={_Name:[0],_Parent:[5],_Features:[6,e4.EO],_UUID:[97]};
e4.Fa={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,e4.agl]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,e4.akd]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,e4.akd]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,e4.agl]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,e4.EO],_OriginalNormalParagraphFeatures:[3,e4.ara]}]};
ax.view={};ax.view.a1b=function(r,N,F,h){var m={},O=gQ.d4(r);m._0=[{_0:"i"+F}];return m};function CSS(){}CSS.amK=function(r,N){var F=r.add,h=F.vmsk,m=F.vstk,O=F.lmfx,e=F.TySh,P=[],B=CSS.alI(O,F);
if(r.t8()&&h){var s=w.H.KX(h.Y);if(!s.lX()){P.push("width: "+Math.round(s.e)+"px");P.push("height: "+Math.round(s.n)+"px")}var Y=w.H.a5y(h.Y);
if(Y>0)P.push("border-radius: "+Math.round(Y)+"px")}else if(e){var D=e.sl;if(gQ.d4(D)==1){var s=gQ.Bf(D);
P.push("width: "+Math.round(s[2])+"px");P.push("height: "+Math.round(s[3])+"px")}CSS.a9l(P,gQ.pz(D,0,0),e.A,!1,!1,B[0])}var o=[],H=O?O.dropShadowMulti.v:0;
for(var R=0;R<H.length;R++){var x=H[R].v;if(x.enab.v){var Q=x.Dstn.v.val,U=x.lagl.v.val*Math.PI/180;
if(x.uglg&&x.uglg.v)U=N.kh()*Math.PI/180;var I=Q*Math.cos(U),l=Q*Math.sin(U);o.push("drop-shadow("+(I==0?"0 ":CSS.fE(-I)+"px ")+(l==0?"0 ":CSS.fE(l)+"px ")+x.blur.v.val/2+"px "+CSS._G(x.Clr.v,x.Opct.v.val/100)+")")}}if(o.length!=0)P.push("filter: "+o.join(" "));
if(e==null)CSS.ad3(B,P);if(m==null||!m.strokeEnabled.v)m=iL.Vl(O);if(m&&m.strokeEnabled.v){var p=m.strokeStyleContent.v,j=p.classID,T=an.mr._6.indexOf(m.strokeStyleLineCapType.v.strokeStyleLineCapType),V=an.mr.join.indexOf(m.strokeStyleLineJoinType.v.strokeStyleLineJoinType),E=m.strokeStyleOpacity.v.val/100,_=m.strokeStyleLineWidth.v.val,f="";
if(j=="solidColorLayer")f=CSS._G(p.Clr.v,E);P.push("border: "+_+"px solid "+f)}return P};CSS.alI=function(r,N){var F=iL.j9(r,N),h=F[0],m=F[1],O,e;
if(h){O=CSS._G(h.Clr.v,N.iOpa!=null?N.iOpa/255:1)}else if(m){e=CSS.Kz(m)}return[O,e]};CSS.ad3=function(r,N){if(r[0])N.push("background-color: "+r[0]);
if(r[1])N.push("background-image: "+r[1])};CSS.BN={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.fE=function(j_){return""+parseFloat(j_.toFixed(3))};CSS.AA=function(r){if(r==null)return{Z:0,z:0,J:0};
var N=r.indexOf("(");if(N!=-1){var F=r.slice(N+1,r.length-1).split(",");for(var R=0;R<F.length;R++){var h=F[R].trim();
F[R]=parseFloat(h)*(h.endsWith("%")?255/100:1)}return{Z:F[0],z:F[1],J:F[2]}}if(r.charAt(0)!="#"){var m=CSS.BN;
if(m[r])r=m[r];else console.log("unknown color "+r)}r=r.slice(1);if(r.length==3)r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2];
r=parseInt(r,16);return{Z:r>>16&255,z:r>>8&255,J:r&255}};CSS._G=function(r,N){return CSS.r_(w.X.Mq(r),N)};
CSS.r_=function(r,N){if(N==null)N=1;var F=Math.round(r.Z),h=Math.round(r.z),m=Math.round(r.J),O=F<<16|h<<8|m;
return N==1?"#"+w.GG(O):"rgba("+F+","+h+","+m+","+N+")"};CSS.Kz=function(r){var N=r.Grad.v;if(N.Clrs==null)return"";
var F=N.Clrs.v.slice(0),h=N.Trns.v.slice(0),m=r.Ofst.v,O=r.Type.v.GrdT=="Rdl"?1:0,e=(O==1?"radial":"linear")+"-gradient",P=O==0?Math.round(-r.Angl.v.val+90)+"deg":"circle at center",B=r.Rvrs.v;
if(B){F.reverse();h.reverse()}for(var R=0;R<F.length;R++){var s=F[R].v,Y=R<h.length?h[R].v.Opct.v.val/100:1,D=s.Lctn.v/4096;
if(B)D=1-D;P+=", "+CSS._G(s.Clr.v,Y)+" "+Math.round(D*100)+"%"}return e+"("+P+")"};CSS.a9l=function(r,N,F,h,m,O){var e=N.AY,P=h?1:z.Q.zf(F),B=Math.round(e.FontSize*P);
r.push("font-size: "+B+"px");var s=e.Tracking;if(!h&&s!=null&&s!=0)r.push("letter-spacing: "+Math.round(s*B/1e3)+"px");
if(!e.AutoLeading)r.push("line-height: "+Math.round(e.Leading*P)+"px");if(e.Strikethrough)r.push("text-decoration: line-through");
if(e.Underline)r.push("text-decoration: underline");var Y=gQ.Mq(e.FillColor);Y=[Y.Z,Y.z,Y.J].map(Math.round);
r.push((h?"fill: ":"color: ")+(O?O:"#"+w.GG(Y[0]<<16|Y[1]<<8|Y[2])));var D=N.f7[e.Font].Name;if(D){var c=cI.mW.hG(D),o="",H=null,x=null;
if(c!=null&&D!=cI.Fc(c))c=null;if(m&&c)o+="\""+D+"\", ";var Q=D.toLowerCase();if(c){H=cI.dM(c)[0];if(c["OS/2"])x=c["OS/2"].usWeightClass}else{H=CSS.adb(D);
if(Q.indexOf("light")!=-1)x=300;else if(Q.indexOf("medium")!=-1)x=500;else if(Q.indexOf("black")!=-1||Q.indexOf("extrabold")!=-1)x=800;
else if(Q.indexOf("bold")!=-1)x="bold"}if(H!=null)o+="\""+H+"\"";if(x!=null)r.push("font-weight: "+x);
if(Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1)r.push("font-style: italic");if(o)r.push("font-family: "+o)}var U=N.hS.Justification;
if(U!=null&&U!=0)if(h){}else r.push("text-align: "+["left","right","center"][U%3])};CSS.adb=function(r){r=r.split("-")[0];
while(r.endsWith("MT")||r.endsWith("PS"))r=r.slice(0,r.length-2);var N=!0;for(var R=0;R<r.length;R++){var F=r.charAt(R);
if(!N&&F.toLowerCase()!=F){r=r.slice(0,R)+" "+r.slice(R);R++;N=!0}else N=!1}return r};function ht(){}ht.Fv={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
ht.AQ=function(r,N){var F=Date.now(),h;try{h=acorn.parse(r)}catch(ab){console.log(ab);return}var m=JSON.parse(JSON.stringify(ht.iU.Wh));
m.__return=!1;m.__continue=!1;m.__break=!1;m.__throw=!1;m.__fs={};m.__window={};ht.eval(h,N,m);var O=m.__fs;
if(Object.keys(O).length!=0){var e=UZIP.encode(O);eu.save(e,"output.zip")}};ht.eval=function(r,N,F){var h=r.type;
if(!1){}else if(h=="Program"||h=="BlockStatement"){var m=r.body;for(var R=0;R<m.length;R++){var O=m[R].type;
if(O=="FunctionDeclaration")F[m[R].id.name]=m[R]}for(var R=0;R<m.length;R++){var O=m[R].type,e=ht.eval(m[R],N,F);
if(F.__continue){F.__continue=!1;return e}if(F.__return||F.__break||F.__throw)return e}}else if(h=="ReturnStatement"){F.__return=!0;
return r.argument?ht.cf(r.argument,N,F):null}else if(h=="BreakStatement"){F.__break=!0}else if(h=="ContinueStatement"){F.__continue=!0}else if(h=="VariableDeclaration"){var P=r.declarations;
for(var R=0;R<P.length;R++)ht.eval(P[R],N,F)}else if(h=="VariableDeclarator"){F[r.id.name]=r.init?ht.cf(r.init,N,F):null}else if(h=="FunctionDeclaration"){F[r.id.name]=r}else if(h=="MemberExpression"){var B=ht.cf(r.object,N,F),s=r.computed?ht.cf(r.property,N,F):ht.eval(r.property,N,F),e;
if(B.Hr!=null)e=ht.iU.tl(B,s,N,F);else if(B==window&&ht.Fv[s]){}else e=B[s];return e}else if(h=="ArrayExpression"){var Y=[],D=r.elements;
for(var R=0;R<D.length;R++)Y.push(ht.cf(D[R],N,F));return Y}else if(h=="ObjectExpression"){var Y={},D=r.properties;
for(var R=0;R<D.length;R++){var c=D[R],o=D[R].key.name?D[R].key.name:D[R].key.value;Y[o]=ht.cf(D[R].value,N,F)}return Y}else if(h=="ExpressionStatement"){return ht.eval(r.expression,N,F)}else if(h=="NewExpression"){var H=r.arguments,x=r.callee,Q=x.type,I=x.name,l=[],Y=null;
for(var R=0;R<H.length;R++)l.push(ht.cf(H[R],N,F));if(I=="Array")Y=new window[I];else if(Q=="Identifier")Y=ht.iU.anK(I,l,N,F);
else throw"e";if(Y==null)throw"new "+I;return Y}else if(h=="CallExpression"){var H=r.arguments,x=r.callee,Q=x.type,p={};
for(var j in F)p[j]=F[j];var l=[];for(var R=0;R<H.length;R++)l.push(ht.cf(H[R],N,F));if(Q=="Identifier"){var T=x.name,V=F[T];
if(V){if(V.params){var E=V.params;for(var R=0;R<E.length;R++)p[E[R].name]=l[R];return ht.eval(V.body,N,p)}else{return V.apply(null,l)}}else if(ht.iU.aoA.indexOf(T)!=-1)return ht.iU.fp({Hr:"Application"},T,l,N,F);
else if(window[T]==null)console.log("Unknown function "+T);else if(ht.Fv[T])alert(T+"() not available");
else{var _=window[T].apply(window,l);return _}}else if(Q=="MemberExpression"){var B=ht.cf(x.object,N,F),s=x.computed?ht.cf(x.property,N,F):ht.eval(x.property,N,F);
if(B==window&&ht.Fv[s])return;if(B.Hr!=null)return ht.iU.fp(B,s,l,N,F);else return B[s].apply(B,l)}else if(Q=="FunctionExpression"){return ht.eval(x.body,N,F)}else console.log(r)}else if(h=="AssignmentExpression"){var f=r.operator,S=r.left,L=S.type,y=ht.cf(S,N,F),$=ht.cf(r.right,N,F),e=null;
if(!1){}else if(f=="=")e=$;else if(f=="+=")e=y+$;else if(f=="-=")e=y-$;else if(f=="*=")e=y*$;else if(f=="/=")e=y/$;
else if(f=="%=")e=y%$;else if(f=="&=")e=y&$;else if(f=="|=")e=y|$;else if(f=="&&=")e=y&&$;else if(f=="||=")e=y||$;
else console.log(r);if(L=="Identifier"){var Z=S.name;if(F.hasOwnProperty(Z))F[Z]=e;else F.__window[Z]=e}else if(L=="MemberExpression"){var i=ht.eval(S.property,N,F),b=ht.cf(S.object,N,F);
if(b.Hr!=null)ht.iU.apf(b,i,e,N,F);else b[i]=e}else console.log(r)}else if(h=="Identifier")return r.name;
else if(h=="Literal")return r.value;else if(h=="UpdateExpression"){var f=r.operator,G=r.argument.name,Y=ht.cf(r.argument,N,F),g=F;
if(g[G]==null)g=F.__window;if(!1){}else if(f=="++"){g[G]++;return r.prefix?g[G]:g[G]-1}else if(f=="--"){g[G]--;
return r.prefix?g[G]:g[G]+1}else console.log(r)}else if(h=="UnaryExpression"){var f=r.operator,u=ht.cf(r.argument,N,F);
if(u.Hr=="UnitValue"){if(f=="-")return-u.h;else return ht.auF(u.h,f)}else return ht.auF(u,f)}else if(h=="BinaryExpression"||h=="LogicalExpression"){var f=r.operator,S=ht.cf(r.left,N,F),u=ht.cf(r.right,N,F);
if(S==null||u==null)return ht.Dn(S,u,f);else if(S.Hr=="UnitValue"&&u.Hr=="UnitValue")return ht.Dn(S.h,u.h,f);
else if(S.Hr=="UnitValue")return ht.Dn(S.h,u,f);else if(u.Hr=="UnitValue"){if(f=="-")return-(S-u.h);
else return ht.Dn(S,u.h,f)}else return ht.Dn(S,u,f)}else if(h=="IfStatement"||h=="ConditionalExpression"){var A=ht.cf(r.test,N,F);
if(A)return ht.eval(r.consequent,N,F);else if(r.alternate)return ht.eval(r.alternate,N,F)}else if(h=="ForInStatement"){ht.eval(r.left,N,F);
var a=r.left.declarations[0].id.name,d=ht.cf(r.right,N,F);for(var j in d){F[a]=j;var K=ht.eval(r.body,N,F);
if(F.__break)break;if(F.__return)return K}F.__break=!1}else if(h=="ForStatement"){ht.eval(r.init,N,F);
while(ht.eval(r.test,N,F)){var K=ht.eval(r.body,N,F);if(F.__break)break;if(F.__return)return K;ht.eval(r.update,N,F)}F.__break=!1}else if(h=="DoWhileStatement"){do{var K=ht.eval(r.body,N,F);
if(F.__break)break;if(F.__return)return K}while(ht.eval(r.test,N,F));F.__break=!1}else if(h=="TryStatement"){ht.eval(r.block,N,F);
if(F.__throw){var n=r.handler;F[n.param.name]=F.__throw;F.__throw=!1;ht.eval(n.body,N,F);delete F[n.param.name]}}else if(h=="EmptyStatement"){}else console.log(r)};
ht.Dn=function(r,N,F){if(F=="+")return r+N;else if(F=="-")return r-N;else if(F=="*")return r*N;else if(F=="/")return r/N;
else if(F=="%")return r%N;else if(F=="^")return r^N;else if(F=="&")return r&N;else if(F=="&&")return r&&N;
else if(F=="|")return r|N;else if(F=="||")return r||N;else if(F=="<")return r<N;else if(F==">")return r>N;
else if(F=="=="){if(r.Hr&&N.Hr)return r.h==N.h;return r==N}else if(F=="===")return r===N;else if(F=="<=")return r<=N;
else if(F==">=")return r>=N;else if(F=="!=")return r!=N;else if(F=="!==")return r!==N;else if(F=="<<")return r<<N;
else if(F==">>")return r>>N;else console.log(F)};ht.auF=function(r,N){if(N=="-")return-r;else if(N=="!")return!r;
else if(N=="~")return~r;else if(N=="+")return r;else if(N=="typeof")return typeof r;else console.log(N,r)};
ht.cf=function(r,N,F){var h=r.type;if(h=="Identifier")return ht.avn(r.name,N,F);else return ht.eval(r,N,F)};
ht.avn=function(r,N,F){if(r=="undefined")return undefined;else if(F.hasOwnProperty(r))return F[r];else if(r=="app")return{Hr:"Application"};
else if(r=="$")return{Hr:"$"};else if(ht.iU.alQ.indexOf(r)!=-1)return ht.iU.tl({Hr:"Application"},r,N,F);
else if(F.__window.hasOwnProperty(r))return F.__window[r];else if(window[r]&&!ht.Fv[r])return window[r];
else{F[r]=null;return null}};ht.iU={};ht.iU.anK=function(r,N,F,h){var m;if(r=="SolidColor")m={Hr:r,h:[1,0,0,0]};
if(r=="RGBColor")m={Hr:r,h:[1,0,0,0]};if(r=="Window")m={Hr:r,h:new jq(N[0],N[1],N[2])};if(r=="ExportOptionsSaveForWeb")m={Hr:r,h:{Rr:"png",zC:100}};
if(r=="JPEGSaveOptions")m={Hr:r,h:{Rr:"jpg",zC:100}};if(r=="PDFSaveOptions")m={Hr:r,h:{Rr:"pdf",anA:""}};
if(r=="File")m={Hr:r,h:N[0]};if(r=="ActionReference")m={Hr:r,h:[]};if(r=="ActionDescriptor")m={Hr:r,h:{}};
if(r=="ActionList")m={Hr:r,h:[]};if(r=="UnitValue")m={Hr:r,h:N.length==0?0:parseFloat(N[0])};return m};
ht.iU.alQ="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
ht.iU.aoA="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
ht.iU.tl=function(r,N,F,h){var m=F.gY,O=F.sf();if(!1){}else if(N=="typename"){if(r.Hr=="Layer")return r.h.zv()?"LayerSet":"ArtLayer";
else return r.Hr}else if(["Document","Layer"].indexOf(r.Hr)!=-1&&["layers","artLayers","layerSets"].indexOf(N)!=-1){var e=O.root,P={Hr:"Layers",mQ:N,h:[]};
if(r.Hr=="Layer")e=O.root.Jr(O.g.indexOf(r.h));if(e.children==null)return null;for(var R=0;R<e.children.length;
R++){var B=e.children[R].a,s=B.zv();if(s&&N=="artLayers"||!s&&N=="layerSets")continue;P.h.push({Hr:"Layer",h:B})}P.h.reverse();
return P}else if(r.Hr=="Documents"||r.Hr=="Layers"||r.Hr=="HistoryStates"||r.Hr=="LayerComps"){if(!1){}else if(N=="length")return r.h.length;
else if(Number.isInteger(N))return r.h[N];else console.log(r.Hr+": unknown property ",N)}else if(r.Hr=="Application"){if(!1){}else if(N=="activeDocument")return{Hr:"Document",h:F.sf()};
else if(N=="documents"){var P={Hr:"Documents",h:[]};for(var R=0;R<F.mF.length;R++)P.h.push({Hr:"Document",h:F.mF[R]});
return P}else if(N=="fonts")return{Hr:"TextFonts"};else if(N=="preferences")return{Hr:"Preferences"};
else if(N=="displayDialogs")return{Hr:"DialogModes"};else if(N=="foregroundColor"||N=="backgroundColor"){var Y=N[0]=="f"?m.Fp:m.lo;
return{Hr:"SolidColor",h:[1,(Y>>>16&255)/255,(Y>>>8&255)/255,(Y>>>0&255)/255]}}else if(N=="UI")return{Hr:"UI"};
else console.log(r,N)}else if(r.Hr=="Document"){var O=r.h;if(!1){}else if(N=="activeLayer"){var B=O.g[O.w[0]];
return{Hr:"Layer",h:B}}else if(N=="resolution")return O.EP;else if(N=="width")return O.e;else if(N=="height")return O.n;
else if(N=="name")return O.name;else if(N=="saved")return!O.uR();else if(N=="selection")return{Hr:"Selection"};
else if(N=="activeHistoryState")return{Hr:"HistoryState",Jz:O.oG};else if(N=="source")return O.Io;else if(N=="layerComps"){var D=O.pI.list.v,c=[];
for(var R=0;R<D.length;R++)c.push({Hr:"LayerComp",h:R});return{Hr:"LayerComps",h:c}}else if(N=="historyStates"){var o=[];
for(var R=0;R<O.history.length;R++)o.push({Hr:"HistoryState",Jz:R});return{Hr:"HistoryStates",h:o}}else if(N=="mode")return 7;
else console.log(r,N)}else if(r.Hr=="LayerComp"){if(N=="name")return O.pI.list.v[r.h].v.Nm.v;else throw N}else if(r.Hr=="Layer"){var H={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},B=r.h;
if(!1){}else if(N=="visible")return B.gv();else if(N=="selected")return O.w.indexOf(O.g.indexOf(B))!=-1;
else if(N=="grouped")return B.S8;else if(H[N]!=null)return B.gT(H[N]);else if(N=="opacity")return B.opacity*100/255;
else if(N=="blendMode")return B.$j;else if(N=="name")return B.getName();else if(N=="textItem")return{Hr:"TextItem",h:B};
else if(N=="bounds"){var x=z.Q.Tm(O,[O.g.indexOf(B)]);return ht.iU.a9g(x,O)}else if(N=="parent"){var Q=F.mF;
for(var R=0;R<Q.length;R++)if(Q[R].g.indexOf(B)!=-1)return{Hr:"Document",h:Q[R]}}else if(N=="kind"){var U=ht.iU.kM;
for(var R=0;R<U.length;R++)if(B.add[U[R]]!=null)return R;return 0}else console.log(r,N)}else if(r.Hr=="Selection"){if(!1){}else if(N=="bounds")return ht.iU.a9g(F.sf().$.rect,O);
else console.log(r,N)}else if(r.Hr=="TextItem"){var I=r.h.add.TySh,l=I.sl,p=gQ.Xe(l),j=I.A.zf(),T=gQ.pz(l,0,Math.max(0,p.length-2));
if(N=="contents")return p.slice(0,p.length-1).replace(/\n/g,"\r");else if(N=="font")return T.AY.Font!=null?T.f7[T.AY.Font].Name:null;
else if(N=="size")return ht.iU.IG(T.AY.FontSize*j,O);else if(N=="leading")return ht.iU.IG(T.AY.Leading*j,O);
else if(N=="tracking")return ht.iU.IG(T.AY.Tracking);else if(N=="baselineShift")return ht.iU.IG(T.AY.BaselineShift);
else if(N=="fauxBold")return T.AY.FauxBold;else if(N=="fauxItalic")return T.AY.FauxItalic;else if(N=="kind")return 1-gQ.d4(l);
else if(N=="useAutoLeading")return T.hS.AutoLeading;else if(N=="hyphenation")return T.hS.AutoHyphenate;
else if(N=="justification")return ht.iU.IG(T.hS.Justification);else if(N=="color")return{Hr:"SolidColor",h:T.AY.FillColor.Values.slice(0)};
else if(N=="width"||N=="height"){var V=gQ.Bf(l),E=(V[2]-V[0])*j,_=(V[3]-V[1])*j;return ht.iU.IG(N=="width"?E:_,O)}else if(N=="position"){var f=I.A;
return ht.iU.afl([f.HG,f.SS],O)}else if(N=="horizontalScale"||N=="verticalScale"){var S=N[0].toUpperCase()+N.slice(1);
return Math.round(T.AY[S]*100)}else if(N=="antiAliasMethod")gQ.XI(I);else if(N=="totalTextStyle"){var P={};
for(var L=0;L<2;L++){var y=["Style","Paragraph"][L],$=l.EngineDict[y+"Run"].RunLengthArray,Z=[],i=0;
for(var R=0;R<$.length;R++){var b=gQ.pz(l,i,Math.min(i+$[R],p.length-2));i+=$[R];Z.push(L==0?b.AY:b.hS);
P.fontSet=b.f7}P[y]={runs:$,styles:Z}}return JSON.stringify(P)}else console.log(r,N)}else if(r.Hr=="Preferences"){if(N=="rulerUnits")return m.ec.W3;
else console.log(r,N)}else if(r.Hr=="SolidColor"){if(N=="rgb")return{Hr:"RGBColor",h:r.h};else console.log(r,N)}else if(r.Hr=="RGBColor"){var x=Math.round(255*r.h[1]),G=Math.round(255*r.h[2]),g=Math.round(255*r.h[3]);
if(!1){}else if(N=="red")return x;else if(N=="green")return G;else if(N=="blue")return g;else if(N=="hexValue")return"#"+w.GG(x<<16|G<<8|g).toUpperCase();
else console.log(r,N)}else if(r.Hr=="UnitValue"){if(N=="value")return r.h;else throw"e"}else if(r.Hr=="ExportOptionsSaveForWeb"){if(N=="format")return r.h.Rr;
else if(N=="PNG8"||N=="interlaced")return!1;else if(N=="quality")return r.h.zC;else if(N=="transparency")return!0;
else throw N}else if(r.Hr=="JPEGSaveOptions"||r.Hr=="PDFSaveOptions"){return 0}else if(r.Hr=="$"){if(N=="localize")return!1}else if(r.Hr=="ActionList"){if(N=="count")return r.Um.length;
else throw N}else console.log(r,N)};ht.iU.a9g=function(r,N){return ht.iU.afl([r.x,r.y,r.x+r.e,r.y+r.n],N)};
ht.iU.afl=function(r,N){var F=[];for(var R=0;R<r.length;R++)F.push(ht.iU.IG(r[R],N));return F};ht.iU.acJ=function(r){var N=[];
for(var R=0;R<r.length;R++)N.push(r[R].Hr?r[R].h:r[R]);return N};ht.iU.IG=function(r,N){return{Hr:"UnitValue",h:r}};
ht.iU.agZ=function(r,N){if(r.Hr=="UnitValue")return r.h;return r};ht.iU.apf=function(r,N,F,h,m){var O=new gf(v.E.u,!0),e=new gf(v.E.S,!0),P=h.sf(),B=h.gY;
if(!1){}else if(r.Hr=="Application"){if(!1){}else if(N=="activeDocument"){e.data={V:v.c.RY,_I:F.h};h.L(e)}else if(N=="displayDialogs"){}else if(N=="foregroundColor"||N=="backgroundColor"){var s=F.h,Y=s[1]*255<<16|s[2]*255<<8|s[3]*255<<0;
e.data={V:v.c.nM,Xa:bC.gU,bT:N=="foregroundColor"?0:1,h:Y};h.L(e)}else console.log(r,N,F)}else if(r.Hr=="Document"){var D=r.h;
if(!1){}else if(N=="name"){O.s=z.j7;O.data={V:C.uD,h:F,asa:!0,fd:D};P.Pj=!0}else if(N=="source")D.Io=F;
else if(N=="activeLayer"){D.w=[D.g.indexOf(F.h)]}else if(N=="activeHistoryState"){O.s=z.Fr;O.data={V:"h_itemchange",index:F.Jz}}else console.log(r,N)}else if(r.Hr=="Layer"){O.s=z.j7;
var c={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},o=r.h,H=P.g.indexOf(o);
if(!1){}else if(N=="visible"){if(o.gv()!=F)O.data={V:C.FV,a:H}}else if(N=="opacity"){O.data={V:C._n,a:H,oC:Math.round(255*F/100)}}else if(N=="blendMode"){O.data={V:C.ze,a:H,oC:g6.Ry.indexOf(F)}}else if(N=="name"){O.data={V:C.er,a:H,name:F}}else if(c[N]!=null){O.data={V:C.Dd,a:H,oC:[[F],[c[N]]]}}else if(N=="kind"){O.data={V:C.J2,a:H,h6:ht.iU.kM[F]}}else if(N=="grouped"){O.data={V:C.r1,a:H,oC:F}}else console.log(r,N,F)}else if(r.Hr=="TextItem"){O.s=z.tI;
var o=r.h,x=o.add.TySh,Q=JSON.parse(JSON.stringify(x.sl)),U=x.A.clone(),I=x.A.zf(),l=gQ.Xe(Q),p=gQ.pz(Q,0,l.length-2),j=!1;
if(!1){}else if(N=="contents"){gQ.IP(Q,0,l.length-1);gQ.BY(Q,0,F.replace(/\r/g,"\n"))}else if(N=="size"){p.AY.FontSize=(F.h!=null?F.h:F)/I;
j=!0}else if(N=="leading"){p.AY.Leading=(F.h!=null?F.h:F)/I;j=!0}else if(N=="tracking"){p.AY.Tracking=F.h!=null?F.h:F;
j=!0}else if(N=="baselineShift"){p.AY.BaselineShift=F.h!=null?F.h:F;j=!0}else if(N=="fauxBold"){p.AY.FauxBold=F;
j=!0}else if(N=="fauxItalic"){p.AY.FauxItalic=F;j=!0}else if(N=="kind"){var T=gQ.d4(Q);if(T==1&&F==1){var V=new ac(Q,h.gY.FN).hS[0],E=V.NE[0].end,_=V.ar[E-1].end;
gQ.IP(Q,0,l.length-1);gQ.BY(Q,0,l.slice(0,_-1))}if(T==F)gQ.l7(Q,1-F)}else if(N=="useAutoLeading"){p.hS.AutoLeading=F;
j=!0}else if(N=="hyphenation"){p.hS.AutoHyphenate=F;j=!0}else if(N=="justification"){p.hS.Justification=F;
j=!0}else if(N=="font"){gQ.dV(p,F);j=!0}else if(N=="color"){p.AY.FillColor.Values=F.h.slice(0);j=!0}else if(N=="width"||N=="height"){var f=gQ.Bf(Q).slice(0),S=ht.iU.agZ(F);
if(N=="width")f[2]=Math.round(f[0]+S/I);else f[3]=Math.round(f[1]+S/I);gQ.q2(Q,f)}else if(N=="position"){U.HG=F[0];
U.SS=F[1]}else if(N=="horizontalScale"||N=="verticalScale"){var L=N[0].toUpperCase()+N.slice(1);p.AY[L]=F/100;
j=!0}else if(N=="antiAliasMethod")gQ.Db(x,F);else console.log(r,N,F);if(j)gQ.sW(Q,0,l.length-1,p);O.data={V:"newED",Lz:P.g.indexOf(o),bc:Q,A:U}}else if(r.Hr=="Preferences"){if(!1){}else if(N=="rulerUnits"){var y=JSON.parse(JSON.stringify(B.ec));
y.W3=F;e.data={V:v.c.nM,Xa:bC.X3,oC:y};h.L(e)}else console.log(r,N,F)}else if(r.Hr=="SolidColor"){if(N=="rgb")r.h=F.h;
else throw N}else if(r.Hr=="RGBColor"){if(!1){}else if(N=="red")r.h[1]=F/255;else if(N=="green")r.h[2]=F/255;
else if(N=="blue")r.h[3]=F/255;else if(N=="hexValue"){var Z=w.ju(F.slice(1));r.h[1]=(Z>>>16&255)/255;
r.h[2]=(Z>>>8&255)/255;r.h[3]=(Z>>>0&255)/255}else console.log(r,N)}else if(r.Hr=="ExportOptionsSaveForWeb"){if(N=="format")r.h.Rr=F;
else if(N=="PNG8"||N=="transparency"||N=="interlaced"){}else if(N=="quality")r.h.zC=F;else throw N}else if(r.Hr=="JPEGSaveOptions"){if(N=="quality")r.h.zC=Math.round(100*F/12)}else if(r.Hr=="PDFSaveOptions"){if(N=="preset")r.h.anA=F}else if(r.Hr=="$"){if(N=="localize"){}}else console.log(r,N,F);
if(O.data!=null)h.L(O)};ht.iU.fp=function(r,N,F,h,m){var O=r.Hr,e=null,P=new gf(v.E.u,!0),B=new gf(v.E.nE,!0),s=new gf(v.E.S,!0),Y=h.sf(),D=h.mF;
if(!1){}else if(O=="Application"){if(!1){}else if(N=="charIDToTypeID"){var c=F[0].trim(),o={slct:"select",Dlt:"delete",Mk:"make"};
return o[c]?o[c]:c}else if(N=="stringIDToTypeID"){var H=F[0].trim(),o={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},x=o[H];
return x==null?H:x}else if(N=="typeIDToStringID"){return F[0].trim()}else if(N=="executeAction"){console.log(F);
var Q;if(F[1]){Q=F[1].h;Q.classID=F[0]}var U={setd:"set"},I=U[F[0]];if(I==null)I=F[0];var l=gn.L4[F[0]];
if(l&&gn.Eh[l])I=gn.Eh[l];B.data={Ja:I,Tf:Q}}else if(N=="executeActionGet"){return{Hr:"ActionDescriptor",h:{classID:"null",null:{t:"obj ",v:F[0].h}},Um:Y.g[Y.w[0]]}}else if(N=="doAction"){s.data={V:v.c.KY,Fs:[F[0],F[1]]}}else if(N=="open"){s.data={V:v.c.Nm,Xa:{url:F[0]}};
if(F[2]&&D.length!=0)s.data.Xa.k_=D.indexOf(Y)}else if(N=="echoToOE"){s.data={V:v.c.L2,Xa:F[0]}}else console.log(N)}else if(O=="LayerComp"){if(N=="apply"){P.s=z.Ai;
P.data={V:"setLC",Jz:Y.pI.list.v[r.h].v.compID.v}}else throw N}else if(O=="Document"){var Y=r.h;if(!1){}else if(N=="crop"){B.data=z.Q6.Y7(F[0])}else if(N=="trim"){var p=[];
for(var R=0;R<4;R++)p.push(F[R+1]!=null?F[R+1]:!0);B.data=z.Q6.lu(F[0]!=null?F[0]:0,p)}else if(N=="suspendHistory"){var j=acorn.parse(F[1]);
ht.eval(j,h,m)}else if(N=="save"){s.data={V:v.c.um}}else if(N=="saveToOE"){s.data={V:v.c.um,UC:F}}else if(N=="rotateCanvas"){B.data=z.Q.os(!0,F[0])}else if(N=="resizeImage"||N=="resizeCanvas"){var T=F[0],V=F[1];
if(typeof T!="number"){T=Y.e*parseFloat(T.slice(0,T.length-1))/100;V=Y.n*parseFloat(V.slice(0,V.length-1))/100}if(N=="resizeCanvas")B.data=z.Q6.w1(Math.round(T),Math.round(V),F[2]);
else B.data=z.Q6.NK(Math.round(T),Math.round(V),null,1)}else if(N=="paste"){s.data={V:v.c.yc,TX:F.length!=0&&F[0],ol:!0}}else if(N=="close"){s.data={V:v.c.Dt,Bz:Y}}else if(N=="exportDocument"||N=="saveAs"){var E=m.__fs,_=F[0].h.replace(":","").replace("~/",""),f=N=="exportDocument"?F[2].h:F[1].h,S=bA.__(Y,f.Rr,null,null,f.Rr=="pdf"?null:[f.zC],h.gY);
E[_]=new Uint8Array(S)}else console.log(r,N,F)}else if(O=="Layer"){var L=r.h,y=Y.g.indexOf(L);if(!1){}else if(N=="copy"){ht.iU.mA(Y,h,0);
s.data={V:v.c.jH,Yl:F[0],xe:y,ol:!0};h.L(s);delete s.data;ht.iU.mA(Y,h,1)}else if(N=="clear"){ht.iU.mA(Y,h,0);
B.data={Ja:"delete"};h.L(B);delete B.data;ht.iU.mA(Y,h,1)}else if(N=="duplicate"){if(F.length==0){P.data={V:C.y7,a:y};
P.s=z.j7;h.L(P);P.data=null;e={Hr:"Layer",h:Y.g[Y.w[0]]}}else if(F[0].Hr=="Document"){P.data={V:C.M9,g:Y.fn(y),uW:Y,wa:F[0].h};
P.s=z.j7}}else if(N=="merge"||N=="remove"){P.data={V:N=="merge"?C.tW:C.wn,a:y};P.s=z.j7;if(N!="remove")e={Hr:"Layer",h:Y.g[Y.w[0]]}}else if(N=="move"){P.data={V:C.iF,source:y,target:Y.g.indexOf(F[0].h),ky:F[1]!=3?.6:.3};
P.s=z.j7}else if(N=="rasterize"){B.data={Ja:"rasterizeLayer",Tf:{classID:"rasterizeLayer",null:fq.IT("Lyr",!0)}}}else if(N=="rotate"){P.data={V:"rot",Py:[2,5],h:-F[0]*Math.PI/180,Uu:F[1],a:y};
P.s=z.cP}else if(N=="resize"){P.data={V:"scl",Py:[2,4],h:new gS(F[0]/100,F[1]/100),Uu:F[2],a:y};P.s=z.cP}else if(N=="translate"){var Z=ht.iU.acJ(F);
P.data={V:"trsl",a:y,SV:Z[0],_Q:Z[1]};P.s=z.FS}else if(N=="link"){P.data={V:C.Nb,as6:[y,Y.g.indexOf(F[0].h)]};
P.s=z.j7}else if(N=="invert"){P.s=z.T_;P.data={V:"start",_w:"nvrt"}}else if(N.startsWith("apply")&&df.au1[N.slice(5)]){var Z=ht.iU.acJ(F),i=df.au1[N.slice(5)];
B.data={Ja:df.Eh[i]};var Q=df.T$(i);if(Q){df.aZ["g"+i](Q,Z);B.data.Tf=Q}}else console.log(r,N,F)}else if(O=="Documents"){if(N=="getByName"){for(var R=0;
R<D.length;R++)if(D[R].name==F[0])return{Hr:"Document",h:D[R]};return null}else if(N=="add"){var b=F[5];
if(b==null)b=1;B.data=gp.st(F[0],F[1],F[2],F[3],["Wht","Trns","BckC"][b],!1)}else throw"e"}else if(O=="Layers"){if(N=="getByName"){for(var R=0;
R<r.h.length;R++)if(r.h[R].h.getName()==F[0]){e=r.h[R];break}if(e==null)m.__throw={message:"No layer with a name "+F[0]}}else if(N=="add"){P.data={V:r.mQ=="layerSets"?C.Ex:C.vZ};
P.s=z.j7;h.L(P);P.data=null;e={Hr:"Layer",h:Y.g[Y.w[0]]}}else console.log(r,N,F)}else if(r.Hr=="Selection"){if(N=="select"){var G=F[0],g=[];
for(var R=0;R<G.length;R++)g.push(G[R][0],G[R][1]);B.data=z.Yi.Se(g)}else if(N=="clear"){B.data={Ja:"delete"}}else if(N=="selectAll"){B.data=z.Yi.JK(!0)}else if(N=="invert"){B.data={Ja:"inverse"}}else if(N=="copy"){s.data={V:v.c.jH}}else if(N=="deselect"){B.data=z.Yi.JK()}else if(N=="fill"){var u=F[0].h;
u=w.X.QA({Z:u[1]*255,z:u[2]*255,J:u[3]*255});B.data=z.a3.eq("Clr",F[1],F[2]==null?1:F[2]/100,u)}else if(N=="translate"){var Q={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:F[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:F[1]}}}}};
B.data={Ja:"move",Tf:Q}}else console.log(r,N,F)}else if(r.Hr=="Window"){if(N=="show"){s.data={V:v.c.pr,i7:r.h}}else throw"e"}else if(r.Hr=="ActionReference"){if(N=="putProperty"){r.h.push({t:"prop",v:{classID:F[0],keyID:F[1]}})}else if(N=="putClass"){r.h.push({t:"Clss",v:{classID:F[0]}})}else if(N=="putEnumerated"){r.h.push({t:"Enmr",v:{classID:F[0],typeID:F[1],enum:F[2]}})}else if(N=="putName"){r.h.push({t:"name",v:{classID:F[0],val:F[1]}})}else console.log(N,F)}else if(r.Hr=="ActionDescriptor"||r.Hr=="ActionList"){if(N=="putReference"){r.h[F[0]]={t:"obj ",v:F[1].h}}else if(N=="putDouble"){r.h[F[0]]={t:"doub",v:F[1]}}else if(N=="putUnitDouble"){r.h[F[0]]={t:"UntF",v:{type:F[1],val:F[2]}}}else if(N=="putObject"){if(r.Hr=="ActionList"){var A=F[1].h;
A.classID=F[0];r.h.push({t:"Objc",v:A})}else{var A=F[2].h;A.classID=F[1];r.h[F[0]]={t:"Objc",v:A}}}else if(N=="putList"){r.h[F[0]]={t:"VlLs",v:F[1].h}}else if(N=="putBoolean"){r.h[F[0]]={t:"bool",v:F[1]}}else if(N=="putInteger"){r.h[F[0]]={t:"long",v:F[1]}}else if(N=="putString"){r.h[F[0]]={t:"TEXT",v:F[1]}}else if(N=="putEnumerated"){var a={};
a[F[1]]=F[2];r.h[F[0]]={t:"enum",v:a}}else if(N=="hasKey"){var L=Y.g[Y.w[0]],c=F[0];if(c=="textKey")return L.add.TySh!=null;
var d=r.h.null.v;for(var R=0;R<d.length;R++){if(d[R].v.keyID==F[0]){if(c=="UsrM"){return L.$n()!=null}else throw F}}}else if(N=="getEnumerationValue"){if(F[0]=="layerSection")e="layerSectionContent";
else console.log(F)}else if(N=="getBoolean"){if(F[0]=="background")e=!1;else console.log(F)}else if(N=="getString"){if(F[0]=="name")e=r.Um.getName();
else if(F[0]=="textKey")e=gQ.Xe(r.Um.sl);else console.log(r,F)}else if(N=="getObjectValue"){if(F[0]=="textKey"){e={Hr:"ActionDescriptor",Um:r.Um.add.TySh}}else if(typeof F[0]=="number")e=r.Um[F[0]];
else throw F[0]}else if(N=="getList"){e={Hr:"ActionList"};if(F[0]=="paragraphStyleRange")e.Um=r.Um.sl.EngineDict.ParagraphRun.RunArray;
else if(F[0]=="kerningRange")e.Um=[];else if(F[0]=="textStyleRange")e.Um=r.Um.sl.EngineDict.StyleRun.RunArray;
else throw F}else console.log(N,F)}else if(r.Hr=="$"){if(N=="writeln"){console.log(F[0])}else throw N}else if(r.Hr=="UI"){var K;
if(N=="zoomIn"||N=="zoomOut"){K={V:"zoom",XS:N=="zoomIn"}}else if(N=="fitTheArea"){K={V:"adapt",h:"fitscr"}}else if(N=="pixelToPixel"){K={V:"adapt",h:"pixel"}}P.s=z.x0;
P.data=K}else console.log(r,N,F);if(P.data)h.L(P);if(B.data)h.L(B);if(s.data)h.L(s);return e};ht.iU.mA=function(r,N,F){var h=new gf(v.E.u,!0);
h.s=z.Ns;var m=new gf(v.E.nE,!0);if(F==0){ht.iU.atp=r.$;m.data=z.Yi.JK(!0)}else{var O=ht.iU.atp;if(O)h.data={V:"setsel",Py:"Restore Selection",$:{rect:O.rect.clone(),channel:O.channel.slice(0)}};
else m.data=z.Yi.JK()}N.L(h.data?h:m)};ht.iU.atp=null;ht.iU.Wh={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
ht.iU.Wh.ColorBlendMode=ht.iU.Wh.BlendMode;ht.iU.kM="---- SoLd TySh SoCo GdFl PtFl".split(" ");function dq(){}dq.QT={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
dq.WT={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
dq.a8F=function(r,N){if(N==null)N={};var F=dq.WT,h=[],m=[],O="";for(var R=0;R<r.length;R++){var e=r[R],P=F[e[0]+""];
if(P&&N[P]==null)N[P]=e[1];else if(e[0]==12)m.push(e[1]);else if(e[0]==25)h.push(e[1]);else if(e[0]==55)O=e[1];
else if(e[0]==60)O+=";"+e[1]}if(O!=""&&N["exif:DateTimeOriginal"]==null)N["exif:DateTimeOriginal"]=O;
if(m.length!=0&&N["Iptc4xmpCore:SubjectCode"]==null)N["Iptc4xmpCore:SubjectCode"]=m.join(";");if(h.length!=0&&N["dc:Keywords"]==null)N["dc:Keywords"]=h.join(";");
return N};dq.aoX=function(r){var N=dq.WT,F=[];for(var h in N)if(r[N[h]])F.push([parseInt(h),r[N[h]]]);
if(r["Iptc4xmpCore:SubjectCode"]){var m=r["Iptc4xmpCore:SubjectCode"].split(";");for(var R=0;R<m.length;
R++)F.push([12,m[R].trim()])}if(r["dc:Keywords"]){var m=r["dc:Keywords"].split(";");for(var R=0;R<m.length;
R++)F.push([25,m[R].trim()])}F.sort(function(O,e){return O[0]-e[0]});return F};dq.aqI=function(r,N){if(N==null)N={};
var F=new DOMParser,h=F.parseFromString(r,"image/svg+xml"),m=h.getElementsByTagName("rdf:Description")[0];
if(m==null)return N;var O=dq.QT;for(var e in O){var P=O[e][2];if(P==null)continue;var B=m.getElementsByTagName(P)[0];
if(B==null)continue;var s=B.getElementsByTagName("rdf:li"),Y=[];for(var R=0;R<s.length;R++)Y.push(s[R].textContent);
N[e]=Y.join("; ")}return N};dq.acs=function(r){var N=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],F=dq.QT;
for(var h in F){var m=r[h],O=F[h][2],e="Seq",P="";if(m==null||O==null)continue;if(O=="dc:title"||O=="dc:description"){e="Alt";
P=" xml:lang=\"x-default\""}if(O=="dc:subject")e="Bag";N.push("\t<"+O+"><rdf:"+e+">");var B=O=="dc:subject"?m.split(";").join(",").split(","):[m];
for(var R=0;R<B.length;R++)N.push("\t\t<rdf:li"+P+">"+B[R].trim()+"</rdf:li>");N.push("\t</rdf:"+e+"></"+O+">")}N.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return N.join("\n")};dq.aie=function(r){var N=[];for(var R=0;R<r.length;R++)N[R]=r[R][1]==0?0:r[R][0]/r[R][1];
return N};dq.aia=function(r){var N=[];for(var R=0;R<r.length;R++){var F=r[R],h=1;if(F!=Math.round(F)){h=1e3;
F=Math.round(F*h)}N[R]=[F,h]}return N};dq.k8=function(r,N){var F=dq.QT;if(N==null)N={};for(var h in F){var m=F[h][1],O="t"+m;
if(m!=null&&r[O]!=null){var e=r[O];if(m==0)e=e.join(".");else if(m==2||m==4){var P=r["t"+(m-1)];if(P==null)P=[m==2?"N":"E"];
e=dq.aie(e).join(",")+P[0]}else if(m==42034)e=dq.aie(e).join(" ");else if(m==270||m==315){var B=e[0],s=new Uint8Array(B.length);
J.KZ(s,0,B);e=J.H3(s)}else e=e[0];N[h]=e}}if(r.exifIFD)dq.k8(r.exifIFD,N);if(r.gpsiIFD)dq.k8(r.gpsiIFD,N);
return N};dq.qL=function(r,N,F){var h=dq.QT,O=0,P=0;if(N==null)N={};var m={},e={};for(var B in h){if(r[B]==null||h[B][1]==null)continue;
var s=h[B][1],Y="t"+s,D=N;if(B.startsWith("exif:")){D=m;O++;if(B.startsWith("exif:GPS")){D=e;P++}}var c=r[B];
if(s==0)c=new Uint8Array(c.split(".").map(parseFloat));else if(s==2||s==4){var o=c.length;D["t"+(s-1)]=[c.slice(c.length-1)];
c=dq.aia(c.split(",").map(parseFloat))}else if(s==42034)c=dq.aia(c.split(" ").map(parseFloat));else if(s==270||s==315){var H=J.kX(c);
c=[J.Mj(H,0,H.length)]}else c=[c];D[Y]=c}if(O!=0){N.exifIFD=m;N.t34665=[0]}if(P!=0){N.gpsiIFD=e;N.t34853=[0]}var x=new Date,Q=[x.getFullYear(),x.getMonth()+1,x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds()];
for(var R=0;R<6;R++)Q[R]=(Q[R]+"").padStart(2,"0");N.t305=["Photopea Editor (www.photopea.com)"];if(F!=!0)N.t306=[Q[0]+":"+Q[1]+":"+Q[2]+" "+Q[3]+":"+Q[4]+":"+Q[5]];
return N};var W={};W.avv=0;W.qG=function(){W.avv++;return W.avv};W.anv="uint8";W.adc=function(){var r=W.ah2();
if(r=="")return 0;if(r!=W.em("_TXZRPB;d7@;")){var N=W.yI[bq.dY][bq.k7],F=N.indexOf(String.fromCharCode(35)),h;
if(F==-1)return 0;try{h=JSON.parse(W.yI[bq.avp](N.slice(F+1)))}catch(ab){return 0}var m=h[W.em("bQ[ODL<E<M")];
if(m==null||m.length<<2!=64)return 0;var O=bq.wV(),e=parseInt(m.slice(3*4).split("").reverse().join(""),16)<<16;
if(e<O||m!=bq.a8X(e,r))return 0;return 2}return 1};W.ah2=function(){var r=W.yI[W.zK("}$z{2*35")][W.em("W[\\ZQAJ?")],N=String.fromCharCode(46),F=r.split(N);
if(F.length<2)return"";var h=F.pop();h=F.pop()+N+h;return h};W.a64=function(){if(W.yI[bq.akH][bq.agL]){var r=new W.yI[bq.pm];
r[bq.jL](bq.a1o,W.em("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+W.ah2());r[bq.HT]()}};W.fg=function(){if(window.top!=window.self)return!1;
var r=navigator.userAgent.toLowerCase();if(r.indexOf("android")!=-1)return!1;if(r.indexOf("safari")!=-1&&r.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};W.VF=function(r){this.jY=r;this.a0V=W._("img");this.Vt=W._("canvas");
this.CL=null;this.U9="";this.W5=null;this.Fn=new gS(0,0);W.B7(this.jY,this.VK.bind(this))};W.VF.prototype.w0=function(r,N){this.CL=r;
if(N)this.U9=N;this.VK()};W.VF.prototype.VK=function(r){if(r)this.Fn=W.or(r,this.jY);var N=this.CL,F=typeof N=="string";
if(!F){var h=W.G(),m=this.Fn,O=N.NQ.e,e=N.NQ.n,P=typeof N.l1=="string",B=P?this.a0V:this.Vt;if(P)B.setAttribute("src",N.l1);
else{B.width=O;B.height=e;var s=B.getContext("2d"),Y=new ImageData(new Uint8ClampedArray(N.l1.buffer),O,e);
s.putImageData(Y,0,0)}B.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(m.y-N.xW.y/h)+"px; left:"+(m.x-N.xW.x/h)+"px; width:"+O/h+"px; height:"+e/h+"px");
var D=this.W5;if(D==null||D!=B){if(D)this.jY.removeChild(D);this.jY.appendChild(B);this.W5=B}}else if(this.W5){this.jY.removeChild(this.W5);
this.W5=null}this.jY.setAttribute("style","cursor:"+(F?N:"none")+"; "+this.U9)};W.uy=function(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
W.uK=function(r,N){r.o6(ab.get([12,41]).charAt(0)+":");N.o6(ab.get([12,42]).charAt(0)+":")};W._=function(r,N){var F=document.createElement(r);
if(N!=null)F.setAttribute("class",N);return F};W.Tg=function(r){while(r.firstChild)r.removeChild(r.firstChild)};
W.Ou=function(r,N){var F=r.getAttribute("class");if(F==null)F="";F=F.split(" ");if(F.indexOf(N)==-1)F.push(N);
r.setAttribute("class",F.join(" "))};W.PV=function(r,N){var F=r.getAttribute("class");if(F==null)return;
F=F.split(" ");if(F.indexOf(N)!=-1)F.splice(F.indexOf(N),1);r.setAttribute("class",F.join(" "))};W.Xs=function(r){while(!0){if(r==document)return!0;
if(r==null)return!1;r=r.parentNode}};W.ke=function(r){r.appendChild(W._("br"))};W.oL=function(r){r.appendChild(W._("hr"))};
W.a1=function(r,N,F){var h=new d_([1,12,1],F==null?!0:F,null,!0);if(r)h.U("click",r.nW,r);if(N)N.appendChild(h.m);
return h};W.yI=document;W.D5=function(r){var N=0;for(var R=0;R<r;R++)N+=Math.random();return N/r<Math.PI/4};
W.em=function(r){var N="";if(!W.D5(28))r+="-3";for(var R=0;R<r.length;R++){var F=r.charCodeAt(R);if(F<32||126<F)throw"e";
N+=String.fromCharCode(32+(F-32+17+3*R)%95)}return N};W.zK=function(r){var N="";if(!W.D5(28))r+="-1";
for(var R=0;R<r.length;R++){var F=r.charCodeAt(R);F-=32;F+=95e4;F-=17+3*R;F=F%95;N+=String.fromCharCode(32+F)}return N};
W._8=function(r){var N=Math.random();W.anv="uint"+(3+N);return new r};(function(){var r=window.PointerEvent,N=r?"pointer":"mouse",F=N+"down",h=N+"move",m=N+"up",O=!1;
W.vN=function(e,P){e.addEventListener(F,P,O);if(!r)e.addEventListener("touchstart",P,O)};W.B7=function(e,P){e.addEventListener(h,P,O);
if(!r)e.addEventListener("touchmove",P,O)};W.ey=function(e,P){e.addEventListener(m,P,O);if(!r)e.addEventListener("touchend",P,O)};
W.a4T=function(e,P){e.removeEventListener(F,P,O);if(!r)e.removeEventListener("touchstart",P,O)};W.iX=function(e,P){e.removeEventListener(h,P,O);
if(!r)e.removeEventListener("touchmove",P,O)};W.g$=function(e,P){e.removeEventListener(m,P,O);if(!r)e.removeEventListener("touchend",P,O)}}());
W.Cb=function(r){r.addEventListener("touchstart",W.vl,!1);r.addEventListener("touchmove",W.vl,!1);r.addEventListener("touchend",W.vl,!1);
r.addEventListener("gesturestart",W.vl,!1);r.addEventListener("gesturechange",W.vl,!1);r.addEventListener("gestureend",W.vl,!1)};
W.Pf=function(r,N,F,h){var m=W.G();r.width=Math.floor(N*m);r.height=Math.floor(F*m);if(h)h.scale(m,m);
W.If(r)};W.If=function(r){var N=W.G();r.style.width=r.width/N+"px";r.style.height=r.height/N+"px"};W.HR=function(r,N,F){r.setAttribute("style","width:"+N/W.G()+"px; height:"+F/W.G()+"px")};
W.or=function(r,N){if(N==null)N=r.currentTarget;var F=N.getBoundingClientRect();if(r.touches)r=r.touches.item(0);
return{x:r.clientX-F.left,y:r.clientY-F.top}};W.G=function(){return window.devicePixelRatio||1};W.uJ=function(r){r.addEventListener("keydown",W.a8v,!1)};
W.a8v=function(r){r.stopPropagation()};W.vl=function(r){r.preventDefault()};W.o8=function(r){r.stopPropagation();
r.preventDefault()};W.qV=function(r,N,F){F=F?F:"";if(PIMG["__"+r]==null)F+=" gsicon";return"<img src=\""+PIMG[r]+"\" alt=\""+(N?N:"")+"\" class=\""+F+"\" />"};
W.YK=function(r,N,F,h){var m=r.dataTransfer.getData("text/uri-list");if(m!=null&&m.startsWith("http")){var O=new gf(v.E.S,!0);
O.data={V:v.c.Nm,Xa:{url:m,Lg:!0,k_:F,hJ:h}};N.L(O)}if(r.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var e=[],P=r.dataTransfer.items.length,B=r.dataTransfer.files;
for(var s of r.dataTransfer.items)s.getAsFileSystemHandle().then(function(Y){e.push(Y);if(e.length==P){var O=new gf(v.E.S,!0);
O.data={V:v.c.HX,data:B,k_:F,hJ:h,apW:e};N.L(O)}})}else{var O=new gf(v.E.S,!0);O.data={V:v.c.HX,data:r.dataTransfer.files,k_:F,hJ:h};
N.L(O)}};if(W.D5(27))W.yI=window;else W.yI=W.atR;W.yI._cwY=W.yI[W.zK("t$&!'31")];var hi={};hi.a2W=function(R){var r=hi.jo[R],N=document.documentElement.style,h=1;
N.setProperty("--base","#"+w.GG(r["--base"]));N.setProperty("--bg-panel","#"+w.GG(r["--bg-panel"]));
N.setProperty("--bg-canvas","#"+w.GG(r["--bg-canvas"]));N.setProperty("--bg-input","#"+w.GG(r["--bg-input"]));
N.setProperty("--bg-bbtn","#"+w.GG(r["--bg-bbtn"]));N.setProperty("--bg-bbtnOver","#"+w.GG(r["--bg-bbtnOver"]));
N.setProperty("--brdr","#"+w.GG(r["--brdr"]));N.setProperty("--text-color","#"+w.GG(r["--text-color"]));
N.setProperty("--brdrLgt","rgba(255,255,255,"+r["--brdrLgt"]+")");N.setProperty("--brdrDrk","rgba(  0,  0,  0,"+r["--brdrDrk"]+")");
N.setProperty("--alphaDark",""+r["--alphaDark"]);N.setProperty("--gs-invert",""+r["--gs-invert"]);var F=r["--sh-clr"];
N.setProperty("--sh-clr","rgba("+(F>>16)+","+(F>>8&255)+","+(F&255)+", 0.45)");N.setProperty("--sh-dy",""+r["--sh-dy"]+"px");
if(1<W.G()&&W.G()<1.5)h=1/W.G();N.setProperty("--img20",20*h+"px");N.setProperty("--img18",18*h+"px");
if(PIMG!=null){var m="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var R=0;R<m.length;R++){var O=m[R],e=O.split("/").pop(),P=PIMG["__"+O]==null?r["--gs-invert"]:"0";
N.setProperty("--icon_"+e,"url("+PIMG[O]+")");N.setProperty("--icon_"+e+"_invrt",P)}}var B=document.querySelector("meta[name=theme-color]");
if(B)B.setAttribute("content","#"+w.GG(r["--base"]))};hi.jo=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function ck(){this.tR={};this.RV={}}ck.prototype.a3K=function(r){var N=this.tR[r];if(N==null)return!1;
return N.length>0};ck.prototype.addEventListener=function(r,N){this.U(r,N,null)};ck.prototype.U=function(r,N,F){if(this.tR[r]==null){this.tR[r]=[];
this.RV[r]=[]}this.tR[r].push(N);this.RV[r].push(F)};ck.prototype.removeEventListener=function(r,N){var F=this.tR[r];
if(F==null)return;var h=F.indexOf(N);if(h<0)return;var m=this.RV[r];F.splice(h,1);m.splice(h,1)};ck.prototype.L=function(r){r.currentTarget=this;
if(r.target==null)r.target=this;var N=this.tR[r.type];if(N==null)return;var F=this.RV[r.type];for(var R=0;
R<N.length;R++){if(F[R]==null)N[R](r);else N[R].call(F[R],r)}};var gf=function(r,N){if(!N)N=!1;this.type=r;
this.target=null;this.currentTarget=null;this.bubbles=N;this.s=null;this.pR=!1},v={E:{u:"0",S:"1",nE:"1.5",o:"2",zq:"3",ahz:"4"},c:{mB:"10",hN:"11",sc:"12",Wd:"13",oQ:"14",acF:"14.1",Nm:"15",$Q:"16",KS:"17",so:"18",um:"19",a6w:"19.5",al2:"20",alH:"20.5",rq:"21",jH:"22",yc:"23",M6:"24",pr:"25",y$:"26",RY:"27",aY:"28",a7I:"29",HX:"30",z4:"31",ad:"32",Mi:"33",$P:"34",nM:"35",an4:"35.5",lz:"37",apY:"38",tP:"39",pq:"40",h4:"41",L2:"41.5",a1R:"42",jO:"43",a0y:"43.5",Dt:"44",a1t:"45",KL:"46",qu:"47",$$:"48",KY:"49",a4o:"50",uI:"51"}};
function jZ(){ck.call(this);this.parent=null;this.m=null;this.YW=0;this.Nf=0}jZ.prototype=new ck;jZ.prototype.a3k=function(r){var j_=this;
while(j_!=null){if(j_==r)return!0;j_=j_.parent}return!1};jZ.prototype.FA=function(){var r=this.m;return r.offsetWidth+r.clientLeft};
jZ.prototype.aau=function(){var r=this.m;return r.offsetHeight+r.clientTop};jZ.prototype.update=function(r){};
jZ.prototype.L=function(r){ck.prototype.L.call(this,r);if(r.bubbles&&this.parent!=null)this.parent.L(r)};
jZ.prototype.f=function(){};jZ.prototype.bh=function(r,N){};jZ.prototype.Xo=function(r){W.Ou(this.m,"disabled")};
jZ.prototype.RK=function(r){W.PV(this.m,"disabled")};jZ.prototype.W9=function(r){if(r)this.RK();else this.Xo()};
function aI(r){jZ.call(this);this.ai=[];this.gF=!1;this.akA=0;this.tf={x:0,y:0,Tb:!1};this.FH=r;this.arw=this.DY.bind(this);
this.t4=this.VQ.bind(this);this.aft=this.gm.bind(this);W.vN(r,this.arw);W.B7(r,this.t4);r.addEventListener("wheel",this.$G.bind(this),!1);
r.addEventListener("contextmenu",this.a1y.bind(this),!1);var N=this.ae8.bind(this);r.addEventListener("gesturestart",N,!1);
r.addEventListener("gesturechange",N,!1);r.addEventListener("gestureend",N,!1);W.Cb(r)}aI.prototype=new jZ;
aI.prototype.ae8=function(r){if(r.type=="gesturestart")this.X_=r.scale;if(r.type=="gesturechange"){var N=new gf("mouse",!0);
N.action="scroll";N.aU=!0;this.nx(r,N);var F=(this.X_-r.scale)/this.X_;N.yG=new gS(0,100*F);this.X_=r.scale;
this.L(N)}};aI.prototype.SP=function(r){var N=-1,F=this.ai;for(var R=0;R<F.length;R++)if(F[R].pointerId==r.pointerId)N=R;
return N};aI.H6=function(r){if(r.which==2)return!0;var N=r.pointerType,F=window.__kb;return N=="touch"&&F.j(bh.a9b)};
aI.prototype.DY=function(r){if(aI.H6(r))return;var N=this.SP(r);if(N!=-1)this.ai[N]=r;else this.ai.push(r);
if(this.ai.length==1){this.akA=Date.now();var F=r.button!=null&&r.button!=0?"rdown":"down",h=new gf("mouse",!0);
h.action=F;this.nx(r,h);this.L(h);W.iX(this.FH,this.t4);W.B7(window,this.t4);W.ey(window,this.aft)}if(this.ai.length==2){if(Date.now()-this.akA<100){var h=new gf("mouse",!0);
h.action="cancellast";this.nx(r,h);this.L(h)}this.a5p("multidown");this.gF=!0}};aI.prototype.VQ=function(r){if(aI.H6(r))return;
var N=this.SP(r);if(N!=-1)this.ai[N]=r;if(this.ai.length>1){this.a5p("multimove")}if(this.gF)return;
if(this.ai.length==1&&N==-1)return;var F=new gf("mouse",!0);F.action="move";this.nx(r,F);this.L(F)};
aI.prototype.gm=function(r){if(aI.H6(r))return;var N=this.ai,F=this.SP(r);if(F!=-1)N.splice(F,1);else return;
if(N.length==0){var h=r.button!=null&&r.button>0?"rup":"up",m=new gf("mouse",!0);m.action=h;this.nx(r,m);
this.L(m);W.iX(window,this.t4);W.g$(window,this.aft);W.B7(this.FH,this.t4);this.gF=!1}};aI.prototype.$G=function(r){r.preventDefault();
if(r.deltaX==0&&r.deltaY==0)return;var N=new gf("mouse",!0);N.action="scroll";N.aU=r.ctrlKey;this.nx(r,N);
this.L(N)};aI.prototype.a1y=function(r){W.o8(r);var N=r.sourceCapabilities;if(N)N=N.firesTouchEvents;
if(N){var F=new gf("mouse",!0);this.nx(r,F);F.action="rdown";this.L(F);F.action="rup";this.L(F)}};aI.prototype.a5p=function(r){var N=this.ai,F=W.G(),h=[];
for(var R=0;R<N.length;R++){var m=h[R]=W.or(N[R],this.FH);m.x*=F;m.y*=F}var O=new gf("mouse",!0);O.action=r;
O.nP=h;if(N.length<=2)this.L(O)};aI.prototype.nx=function(r,N,F){var h=this.ai.length!=0;if(N.action!="up"){var m=W.G();
if(F==null)F=W.or(r,this.FH);this.tf=N.D6={x:m*F.x,y:m*F.y,Tb:h};var O=W.or(r,document.body);N.D6.Yk=O.x;
N.D6.it=O.y}else this.tf=N.D6={x:this.tf.x,y:this.tf.y,Tb:h};N.D6.HY=.5;if(r.pressure!=null&&r.pressure!=0)N.D6.HY=r.pressure;
if(r.pointerType=="mouse")N.D6.HY*=2;N.D6.ah5=r.pointerType;if(r.deltaX!=null){var e=r.deltaMode==0?1:40;
N.yG=new gS(r.deltaX*e,r.deltaY*e)}};function f8(r,N,F){jZ.call(this);this.Vg=null;this.ady=this.gm.bind(this);
this.adp=this.LW.bind(this);this.auK=this.a2e.bind(this);this.a6x=this.aeI.bind(this);this.uj=[];this.sv=[];
this.Ic=[];this.a4A=[];this.m=W._("div","contextpanel "+(F?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",W.vl,!1);
this.ua=null;this.p7=0;this.ajv=r;this.xG=N;this.l8=[];for(var R=0;R<r.length;R++){var h=W._("div","enab");
this.sv.push(h);this.m.appendChild(h);if(r[R].qt){var m=W._("img","thumb"+(F?" gsicon":""));m.setAttribute("src",PIMG[r[R].qt]);
h.appendChild(m)}else{var O=W._("span","check");this.a4A.push(O);h.appendChild(O)}var e=W._("span","label");
e.innerHTML=ab.get(r[R].name);h.appendChild(e);this.Ic.push(e);if(r[R].At)this.m.appendChild(W._("hr"));
if(r[R].oZ||r[R].sub){var P=W._("span","right");h.appendChild(P);if(r[R].oZ)P.innerHTML=bh.aN(r[R].oZ);
if(r[R].sub)P.innerHTML="\u25B6"}h.addEventListener("click",this.ady,!1);h.addEventListener("mouseover",this.adp,!0);
h.addEventListener("mouseout",this.auK,!0);if(r[R].sub){var B=new f8(r[R].sub,N?N[R].sub:null);B.parent=this;
this.l8.push(B);B.U("select",this.aoh,this)}else this.l8.push(null)}}f8.prototype=new jZ;f8.prototype.a2P=function(r){W.Tg(this.m);
for(var R=0;R<r.length;R++)if(r[R]!=0&&r[R]!=null){this.m.appendChild(this.sv[R]);if(r[R]!=1&&this.l8[R])this.l8[R].a2P(r[R])}};
f8.prototype.f=function(){var r=this.ajv;for(var R=0;R<r.length;R++){if(r[R].title)this.sv[R].title=ab.get(r[R].title);
this.Ic[R].textContent=ab.get(r[R].name)+(r[R].kV?"...":"")}for(var R=0;R<this.l8.length;R++)if(this.l8[R])this.l8[R].f()};
f8.prototype.update=function(r,N){var F=this.ajv;for(var R=0;R<F.length;R++){if(F[R].I){var h=F[R].I(r,N,R);
if(h.I!=null)this.sv[R].setAttribute("class",h.I?"enab":"disab");if(h.Pa!=null)this.Ic[R].textContent=h.Pa;
if(h.Vs!=null)this.a4A[R].textContent=h.Vs?"\u2713":"";if(h.R!=null)this.xG[R]=h.R}}for(var R=0;R<this.l8.length;
R++)if(this.l8[R])this.l8[R].update(r,N)};f8.prototype.cW=function(){return this.uj};f8.prototype.gm=function(r){if(r.button!=0)return;
var R=this.sv.indexOf(r.currentTarget);if(this.l8[R]){this.p7=R;this.aeI()}else{if(this.xG){var N=this.xG[R],F=new gf(N.T,!0);
F.s=N.s;F.data=N.R;this.L(F)}this.Vg=null;this.uj=[R];this.L(new gf("select",!1));var F=new gf(v.E.S,!0);
F.data={V:v.c.Wd};this.L(F)}};f8.prototype.LW=function(r){var R=this.sv.indexOf(r.currentTarget);if(this.ua){clearTimeout(this.ua);
this.ua=null}if(this.l8[R]==null)return;this.p7=R;this.ua=setTimeout(this.a6x,300)};f8.prototype.a2e=function(r){var R=this.sv.indexOf(r.currentTarget);
if(this.ua){clearTimeout(this.ua);this.ua=null}};f8.prototype.aeI=function(){if(this.ua){clearTimeout(this.ua);
this.ua=null}var R=this.p7;if(this.Vg)this.Vg.adG();this.Vg=this.l8[R];var r=this.sv[R].getBoundingClientRect(),N=new gf(v.E.S,!0);
N.data={V:v.c.hN,f3:this.l8[R],x:r.left+r.width+2,y:r.top};this.L(N)};f8.prototype.adG=function(){for(var R=0;
R<this.l8.length;R++)if(this.l8[R])this.l8[R].adG();var r=new gf(v.E.S,!0);r.data={V:v.c.sc,f3:this};
this.L(r)};f8.prototype.aoh=function(r){var R=this.l8.indexOf(r.target);this.uj=[R].concat(r.target.cW());
this.L(new gf("select",!1))};function bf(r,N,F){jZ.call(this);this.m=W._("span","fitem cbox");if(N==null)N=!0;
if(F==null)F="flabel";var h="cb"+W.qG();this.E5=W._("input","");this.E5.setAttribute("type","checkbox");
this.E5.setAttribute("id",h);this.m.appendChild(this.E5);this.fk=r;this.bI=W._("label",F);if(N)this.bI.setAttribute("for",h);
this.m.appendChild(this.bI);this.f();this.E5.addEventListener("change",this.Lr.bind(this),!1)}bf.prototype=new jZ;
bf.prototype.ajE=function(){return this.fk};bf.prototype.o6=function(r){this.bI.textContent=r};bf.prototype.f=function(){var r=this.fk;
if(typeof r=="string"&&r.startsWith("<"))this.bI.innerHTML=r;else this.bI.textContent=ab.get(r)};bf.prototype.D2=function(){this.E5.checked=!0};
bf.prototype.So=function(){this.E5.checked=!1};bf.prototype.Zv=function(){return this.E5.checked};bf.prototype.b=function(r){this.E5.checked=r};
bf.prototype.k=bf.prototype.Zv;bf.prototype.Lr=function(r){this.L(new gf(v.E.o,!1))};function bB(r,N){jZ.call(this);
this.fk=r;this.m=W._("span","labelitem fitem"+(N?" spread":""));this.f()}bB.prototype=new jZ;bB.prototype.b=function(r){this.m.textContent=r};
bB.prototype.k=function(){return this.m.textContent};bB.prototype.RK=function(){this.m.removeAttribute("disabled")};
bB.prototype.Xo=function(){this.m.setAttribute("disabled","")};bB.prototype.o6=function(r){this.m.textContent=r};
bB.prototype.f=function(){this.m.textContent=ab.get(this.fk)};bB.prototype.ajE=function(){return this.fk};
function d_(r,N,F,h,m){jZ.call(this);this.m=W._("button","fitem"+(N?" spread":"")+(h?" bbtn":""));this.fk=r;
this.S3=F;this.f();var O=m&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(O,this.D0.bind(this),!1)}d_.prototype=new jZ;
d_.prototype.f=function(){var r=this.m,N=this.fk,F=this.S3,h=ab.get(N);if(h.startsWith("<img")||h.startsWith("<svg")||h.startsWith("<span"))r.innerHTML=h;
else r.textContent=h;if(h.startsWith("<img")||h.startsWith("<svg")||h.startsWith("<span"))r.setAttribute("style","padding:2px");
if(F){r.setAttribute("title",ab.get(F))}};d_.prototype.a80=function(r){this.m.setAttribute("title",r)};
d_.prototype.D0=function(r){this.L(new gf("click",!1))};d_.prototype.D2=function(){W.Ou(this.m,"bactive")};
d_.prototype.So=function(){W.PV(this.m,"bactive")};d_.prototype.o6=function(r,N){if(r)this.fk=r;if(N)this.S3=N;
this.f()};d_.prototype.b=function(r){if(r)this.D2();else this.So()};d_.prototype.Zv=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
d_.prototype.k=function(){return this.Zv()};function g8(r,N,F,h,m){jZ.call(this);var O=W.qG();this.m=W._("span","fitem tinput");
if(r){this.fk=r;this.bI=W._("label","flabel");this.m.appendChild(this.bI);this.bI.setAttribute("for",O);
this.f()}if(m){this.E5=W._("span")}else if(h==null){this.E5=W._("input");this.E5.setAttribute("type","text")}else this.E5=W._("textarea","scrollable");
this.E5.setAttribute("id",O);if(F)this.E5.setAttribute("style","width:"+F+"em;"+(m?" display:inline-block; margin-left:6px;":""));
if(h)this.E5.setAttribute("rows",h);this.m.appendChild(this.E5);if(N){this.E7=W._("span");this.E7.textContent=N;
this.E7.style.marginLeft="2px";this.m.appendChild(this.E7)}W.uJ(this.E5);this.E5.addEventListener("change",this.Lr.bind(this),!1);
this.E5.addEventListener("input",this.au5.bind(this),!1)}g8.prototype=new jZ;g8.prototype.f=function(){if(this.fk)this.bI.textContent=ab.get(this.fk)+":"};
g8.prototype.o6=function(r){this.bI.textContent=r};g8.prototype.b=function(r){var N=this.E5,F=r==null?"":r,h=N.tagName=="SPAN";
if(h){N.textContent=" "+F;if(this.E7)N.appendChild(this.E7)}else N.value=F};g8.prototype.a3Q=function(r){this.E7.textContent=r};
g8.prototype.k=function(){return this.E5.value};g8.prototype.mo=function(){this.E5.select();this.E5.focus()};
g8.prototype.Lr=function(r){this.L(new gf(v.E.o,!1))};g8.prototype.au5=function(r){this.L(new gf("input",!1))};
function bk(r,N,F,h,m,O,e,P,B){jZ.call(this);if(m==null)m=0;this.m=W._("span","fitem");var s=W.qG();
this.fk=r;this.S3=P;this.CL=0;this.a13=B;this.v1=N;this.Kh=F;this.Bs=null;if(h instanceof Array){this.Bs=h;
h=h[0]}this.wx=h;this.jv=m;this.a9v=O;this.mO=e;this.qA=0;this.bI=W._("label","flabel");this.bI.innerHTML=r;
this.bI.setAttribute("style","cursor:col-resize;");this.EV=W._("input","");this.EV.setAttribute("type","range");
if(e){this.EV.min=0;this.EV.max=400}else{this.EV.min=N;this.EV.max=F;if(m!=0)this.EV.step=(F-N)/200}this.E5=W._("input","");
this.E5.setAttribute("type","text");this.E5.setAttribute("id",s);this.E7=W._("span","");this.E7.innerHTML=h;
W.uJ(this.E5);this.E5.addEventListener("change",this.Lr.bind(this),!1);this.E5.addEventListener("keydown",this.HF.bind(this),!1);
this.E5.addEventListener("wheel",this.$G.bind(this),!1);this.EV.addEventListener("input",this.Lr.bind(this),!1);
if(B)this.EV.addEventListener("change",this.Lr.bind(this),!1);this.EV.addEventListener("click",this.aj9.bind(this),!1);
this.aj$=this.atk.bind(this);this.aaR=this.aln.bind(this);this.apC=this.a60.bind(this);this.m7=0;this.Oz=0;
this.v6=!1;W.vN(this.bI,this.aj$);W.Cb(this.bI)}bk.prototype=new jZ;bk.prototype.$K=function(r){this.jv=r};
bk.prototype.o6=function(r){this.bI.textContent=r};bk.prototype.f=function(){var j_=this.fk,r=this.S3;
if(j_){if(typeof j_=="string"&&j_.startsWith("<"))this.bI.innerHTML=j_;else this.bI.textContent=ab.get(j_)+":"}if(r){r=ab.get(r);
if(j_)this.bI.setAttribute("title",r);this.E5.setAttribute("title",r)}};bk.prototype.b=function(r,N){var F=this.v1==this.Kh;
if(!F&&this.v1>=0)r=Math.max(this.v1,r);if(this.jv==0)r=Math.round(r);var h=this.wx;this.CL=r;this.E5.value=(this.jv!=0?r.toFixed(this.jv):r)+(this.a9v&&h?(h.toLowerCase()==h.toUpperCase()?"":" ")+h:"");
var m=400*Math.pow((r-this.v1)/(this.Kh-this.v1),1/2.7);this.EV.value=this.mO?m:r;if(N)this.g0()};bk.prototype.k=function(){var r=this.CL;
if(isNaN(r))r=0;return r};bk.prototype.wZ=function(){return this.wx};bk.prototype.Lr=function(r){var N=0;
if(r.currentTarget==this.E5){var F=r.target.value,h=0;N=F==""?0:this.wx?parseFloat(F):eval(F);if(isNaN(N))N=0;
while(h<F.length&&(F.charAt(h)=="."||48<=F.charCodeAt(h)&&F.charCodeAt(h)<=57))h++;var m=F.slice(h).trim();
if(this.Bs&&this.Bs.indexOf(m)!=-1)this.wx=m}else{if(Date.now()-this.qA<10)return;N=parseFloat(r.target.value);
if(this.mO){N=this.v1+Math.pow(N/400,2.7)*(this.Kh-this.v1);N=this.acR(N)}}this.b(N);if(r.type=="input"&&this.a13)return;
this.g0()};bk.prototype.g0=function(){this.L(new gf(v.E.o))};bk.prototype.acR=function(r){if(this.Kh-this.v1>50&&r>10)r=Math.round(r);
return r};bk.prototype.HF=function(r){var N=0;if(bh.A7(r.code,bh._B))N=1;if(bh.A7(r.code,bh.UM))N=-1;
if(N!=0)this.am9(N,r.shiftKey)};bk.prototype.$G=function(r){this.am9(r.deltaY>0?-1:1,r.shiftKey)};bk.prototype.am9=function(r,N){var F=this.k(),h=this.jv,m=r*(h==null||h==0||F>5?1:.1);
if(N)m*=10;var O=F+m;if(!this.mO&&this.Kh!=this.v1)O=Math.min(this.Kh,O);this.b(O);this.g0()};bk.prototype.aj9=function(r){var N=Date.now()-this.qA;
this.qA=Date.now();if(N>200)return;var F=this.v1,h=this.Kh,m=(F+h)/2;if(F<1&&h>1&&h<10)m=1;else if(F<90&&h>110)m=100;
else if(F<0&&h>0)m=0;this.b(m);this.g0()};bk.prototype.atk=function(r){W.B7(document,this.aaR);W.ey(document,this.apC);
this.m7=W.or(r,document.body).x;this.Oz=this.k()};bk.prototype.aln=function(r){W.o8(r);var N=this.v1==this.Kh,F=W.or(r,document.body).x,h=(F-this.m7)*(N?1:1/120*(this.Kh-this.v1)),m=this.Oz+h;
if(N)m=Math.round(m);if(!N){if(!0){m=Math.max(this.v1,m);if(m==this.v1){this.m7=F;this.Oz=this.v1}}if(!this.mO){m=Math.min(this.Kh,m);
if(m==this.Kh){this.m7=F;this.Oz=this.Kh}}m=this.acR(m)}this.v6=!0;this.b(m);this.g0()};bk.prototype.a60=function(r){if(!this.v6)this.E5.focus();
this.v6=!1;W.iX(document,this.aaR);W.g$(document,this.apC)};bk.prototype.mo=function(){this.E5.select();
this.E5.focus()};function g$(r,N,F,h,m,O,e,P,B){bk.call(this,r,N,F,h,m,!0,O,B);W.Ou(this.m,"rangedropinput");
this.m.appendChild(this.bI);this.E5.setAttribute("style","width:"+(P?P:3.3)+"em");this.m.appendChild(this.E5);
this.asL=W._("span","rangecontFloat");this.asL.appendChild(this.EV);this.yJ=W._("button");this.yJ.textContent="\u25BC";
W.vN(this.yJ,this.a8t.bind(this));if(e!=!0)this.m.appendChild(this.yJ);this.kL=new jZ;this.kL.m=this.asL}g$.prototype=new bk;
g$.prototype.a8t=function(r){if(W.Xs(this.kL.m))return;r.stopPropagation();var N=this.m.getBoundingClientRect();
this.EV.setAttribute("style","width:"+N.width+"px;");var F=new gf(v.E.S,!0);F.data={V:v.c.hN,f3:this.kL,x:N.left-10,y:N.top+N.height};
this.L(F)};function em(r,N,F,h,m,O){bk.call(this,r,N,F,h,m,!1,O);this.m.appendChild(this.bI);var e=W._("span");
this.m.appendChild(e);e.appendChild(this.EV);this.m.appendChild(this.E5);this.E5.setAttribute("style","width:3.3em");
if(this.wx)this.m.appendChild(this.E7)}em.prototype=new bk;function d5(r,N,F,h,m,O,e,P){bk.call(this,r,N,F,h,m,!0,O,null,e);
W.Ou(this.m,"trangeinput");this.m.appendChild(this.bI);this.m.appendChild(this.E5);var B=W._("span");
if(P!=!0)this.m.appendChild(B);B.appendChild(this.EV);this.EV.setAttribute("style","width:97%;")}d5.prototype=new bk;
function b2(r,N,F,h){jZ.call(this);if(!N)return;if(F==null)F=!1;this.pv=0;this.apS=F;this.fk=r;this.WT=null;
this.adI=h;this.oW=[];var m="dd"+W.qG();this.m=W._("span","fitem ddmenu");if(r&&!F){this.bI=W._("label","flabel");
this.m.appendChild(this.bI);this.bI.setAttribute("for",m)}this.rz=W._("select","bbtn");this.rz.setAttribute("id",m);
this.m.appendChild(this.rz);this.rz.addEventListener("change",this.Lr.bind(this),!1);function O(e){var P=0;
if(bh.A7(e.code,bh._B))P=1;if(bh.A7(e.code,bh.UM))P=-1;if(P!=0)e.stopPropagation()}this.rz.addEventListener("keydown",O,!1);
this.rz.addEventListener("keyup",O,!1);this.FC=[];this.t5=null;this.eo(N,h);this.f()}b2.prototype=new jZ;
b2.prototype.o6=function(r){this.fk=r;this.f()};b2.prototype.f=function(){if(this.fk!=null){var r=ab.get(this.fk);
if(this.apS)this.rz.setAttribute("title",r);else this.bI.textContent=r+":"}if(this.t5)this.eo(this.t5,this.adI);
this.b(this.pv)};b2.prototype.k=function(){return this.pv};b2.prototype.eo=function(r,N){W.Tg(this.rz);
var F=[],h=0;if(N){F.push(N[0]);for(var R=1;R<N.length;R++)F.push(F[R-1]+N[R])}this.t5=r;this.WT=[];
this.adI=N;for(var R=0;R<r.length;R++){var m=W._("option");if(this.oW.indexOf(R)!=-1)m.setAttribute("disabled","");
m.textContent=ab.get(r[R]);m.setAttribute("value",R);this.rz.appendChild(m);this.FC.push(m);this.WT.push(R+h);
if(F.indexOf(R+1)!=-1&&R!=r.length-1){var O=W._("option");O.setAttribute("disabled","");O.textContent="";
this.rz.appendChild(O);h++}}};b2.prototype.a01=function(R){var r=this.oW,N=r.indexOf(R);if(N==-1)r.push(R);
this.f()};b2.prototype.apZ=function(R){var r=this.oW,N=r.indexOf(R);if(N!=-1)r.splice(N,1);this.f()};
b2.prototype.b=function(r){this.pv=r;this.rz.selectedIndex=this.WT[r]};b2.prototype.Lr=function(r){this.pv=this.WT.indexOf(this.rz.selectedIndex);
this.L(new gf(v.E.o,!1))};function ch(r,N,F,h){jZ.call(this);if(!N)return;this.pv=0;this.a3X=h;this.m=W._("span","fitem bbmenu");
if(r){this.fk=r;this.bI=W._("label","flabel");this.bI.textContent=r+":";this.m.appendChild(this.bI)}this.FC=[];
this.t5=null;this.eo(N,F);this.b(0)}ch.prototype=new jZ;ch.prototype.o6=function(r){this.fk=r;this.f()};
ch.prototype.f=function(){if(this.fk!=null){this.bI.textContent=ab.get(this.fk)+": "}for(var R=0;R<this.FC.length;
R++)this.FC[R].f()};ch.prototype.k=function(){return this.pv};ch.prototype.eo=function(r,N){while(this.FC.length>0)this.m.removeChild(this.FC.pop().m);
this.t5=r;for(var R=0;R<r.length;R++){var F=new d_(r[R],!1,N?N[R]:null,this.a3X);F.U("click",this.Lr,this);
this.m.appendChild(F.m);this.FC.push(F)}this.f()};ch.prototype.b=function(r){this.pv=r;for(var R=0;R<this.FC.length;
R++)this.FC[R].So();this.FC[r].D2()};ch.prototype.Lr=function(r){var R=this.FC.indexOf(r.target);this.b(R);
this.L(new gf(v.E.o,!1))};ch.DC=function(r,N){if(N==null)N=16;var F=ch.Vt,h=F.getContext("2d"),m=N>>>1;
F.width=F.height=N;var O=[];for(var R=0;R<r.length;R++){if(r[R][0]=="-")O.push(r[R].slice(1));else if(r[R]=="checker"||r[R].startsWith("#")){if(r[R]=="checker"){h.fillStyle="white";
h.fillRect(0,0,N,N);h.fillStyle="#bbbbbb";h.fillRect(m,0,m,m);h.fillRect(0,m,m,m)}else if(r[R].startsWith("#")){h.fillStyle=r[R];
h.fillRect(0,0,N,N)}O.push("<img src=\""+F.toDataURL()+"\" />")}else O.push(W.qV(r[R],null,"autoscale"))}return O};
ch.Vt=W._("canvas");function jX(r,N,F,h,m,O){jZ.call(this);this.m=W._("span","fitem mbox");this.abC=F;
this.a09=m;if(r){this.fk=r;this.bI=W._("label","flabel");this.m.appendChild(this.bI)}this.Eq=N;this.wF=[];
for(var R=0;R<N.length;R++){var e=F?new d_(N[R],!1,h?h[R]:null,!1,O):new bf(N[R],!0,"");e.U(F?"click":v.E.o,this.Lr,this);
this.wF.push(e);this.m.appendChild(e.m)}this.f()}jX.prototype=new jZ;jX.prototype.b=function(r){for(var N=0;
N<this.Eq.length;N++)this.wF[N].b(r[N])};jX.prototype.k=function(){var r=[];for(var N=0;N<this.Eq.length;
N++)r[N]=this.wF[N].k();return r};jX.prototype.f=function(){if(this.fk)this.bI.innerHTML=ab.get(this.fk)+": ";
var r=this.wF;for(var N=0;N<r.length;N++){r[N].f();if(N==r.length-1)r[N].m.style.marginRight="0px"}};
jX.prototype.Lr=function(r){var R=this.wF.indexOf(r.currentTarget),N=this.wF[R];if(this.abC)N.b(!N.k());
if(this.a09){var F=N.k();for(var R=0;R<this.wF.length;R++)this.wF[R].b(!1);N.b(F)}this.L(new gf(v.E.o,!1))};
function hg(r,N){jZ.call(this);this.cp=[];this.w=[];this.aiq=r;this.Kw=N;this.dr=0;this.Ua=null;this.Fn=new gS(0,0);
if(N!=null){this.C8=new f8([{name:[6,37]},{name:[5,4]}]);this.C8.parent=this;this.C8.U("select",this.Nu,this)}this.m=W._("div","imageset scrollable");
this.m.addEventListener("contextmenu",W.vl,!1)}hg.prototype=new jZ;hg.prototype.f=function(){if(this.C8)this.C8.f()};
hg.prototype.Nu=function(r){var R=this.C8.cW()[0],N=new gf(v.E.S,!0),F={V:v.c.nM,Xa:this.Kw,jr:this.w.slice(0)};
if(R==0){var h=this.Ua[1][this.w[0]];F.oJ="rnm";N.data={V:v.c.pr,i7:"namewindow",Q5:h,vj:{T:v.E.S,R:F}}}else{N.data=F;
F.oJ="del"}this.L(N)};hg.prototype.ahO=function(){return this.dr};hg.prototype.Kj=function(r){this.dr=r;
if(this.Ua)this.Fm()};hg.prototype.IS=function(r,N,F,h){this.Ua=[r,N,F,h];this.Fm()};hg.prototype.Fm=function(){var r=this.Ua,N=r[0],F=r[1],h=r[2],m=r[3];
this.cp=[];this.m.innerHTML="";var O=this.D0.bind(this),e=this.dr;if(e==0)W.Ou(this.m,"imageset");else W.PV(this.m,"imageset");
for(var R=0;R<N.length;R++){var P=N[R],B=null;if(P==null){this.cp.push(null);continue}if(typeof P=="string"){B=W._("img","image");
B.setAttribute("src",P)}else B=P;if(h)W.HR(B,h,m);if(this.aiq)W.Ou(B,"gsicon");if(e==0){}else{var s=W._("div","listitem");
s.appendChild(B);var Y=W._("span");Y.textContent=F?F[R]:"Item "+(R+1);Y.setAttribute("style","margin-left:4px;");
s.appendChild(Y);B=s}if(F)B.setAttribute("title",F[R]);B.addEventListener("mousedown",O,!1);this.cp.push(B);
this.m.appendChild(B)}};hg.prototype.D0=function(r){if(this.Kw==null)r.preventDefault();var N=this.cp.indexOf(r.currentTarget),F=window.__kb,h=this.w,m=h.length;
if(F.j(bh.wQ)){var O=Math.min(h[0],h[h.length-1],N),e=Math.max(h[0],h[h.length-1],N);h=[];for(var R=O;
R<=e;R++)h.push(R)}else if(F.j(bh.hg)){var P=h.indexOf(N);if(P==-1)h.push(N);else h.splice(P,1)}else h=[N];
h.sort(function(D,c){return D-c});if(r.button==0||m==1)this.b(h);this.Fn=W.or(r,r.currentTarget);if(r.button==0)this.L(new gf(v.E.o));
if(r.button==2&&this.C8){var B=this.C8;B.update(null);var s=W.or(r,document.body),Y=new gf(v.E.S,!0);
Y.data={V:v.c.hN,f3:B,x:s.x,y:s.y+2};this.L(Y)}};hg.prototype.k=function(){return this.w.slice(0)};hg.prototype.aq5=function(){var r=this.Fn;
return new gS(r.x,r.y)};hg.prototype.b=function(r){this.w=r.slice(0);for(var R=0;R<this.cp.length;R++){var N=this.cp[R];
if(N==null)continue;if(r.indexOf(R)!=-1)W.Ou(N,"selected");else W.PV(N,"selected")}};function he(r,N,F,h,m,O,e){jZ.call(this);
this.m=W._("span","fitem "+F);this.HE=new jZ;this.HE.m=W._("div","floatcont");this.HE.m.setAttribute("style","width: "+(h+1.5)+"em;");
this.HE.parent=this;this.a1d=W._("div");this.HE.m.appendChild(this.a1d);this.GR=W._("div");this.HE.m.appendChild(this.GR);
if(r){this.fk=r;this.bI=W._("label","flabel");this.m.appendChild(this.bI)}this.V=W._("button",e?"nopadding":"");
this.V.setAttribute("style","position:relative;");var P=this.ly.bind(this),B=this.g9.bind(this);W.vN(this.V,N?B:P);
this.m.appendChild(this.V);this.JH=W._("img",e?"gsicon":"");this.V.appendChild(this.JH);if(N){var s=W._("button");
s.textContent="\u25BC";W.vN(s,P);this.m.appendChild(s)}else{var Y=W._("span");Y.textContent="\u25BC";
Y.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.V.appendChild(Y)}var D=W._("span");
this.GR.appendChild(D);D.setAttribute("style","display:inline-block;  vertical-align:top; width:"+h+"em;");
this.K9=new hg(e,O);D.appendChild(this.K9.m);this.K9.parent=this.HE;this.K9.U(v.E.o,this.Wg,this);this.K9.m.style.height=m+"em";
this.La=W._("button");this.La.textContent="\u25BC";this.La.setAttribute("style","padding:3px");W.vN(this.La,this.ur.bind(this));
this.GR.appendChild(this.La);var c=this.fY(),o=O!=bC.zU&&O!=bC.Td?O:null,H=O==null?"":bC.Hx[O][0].toUpperCase(),x=o?[{name:[12,87]}]:[];
x=x.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],At:!0},{name:[[23,6],"."+(H=="ICC"?"icc .cube .look .3dl":H)]},{name:["VAR0 ."+H,[1,8]]},{name:[6,37]},{name:[5,4],At:c.length!=0}]);
for(var R=0;R<c.length;R++)x.push({name:c[R].split("/").pop()});this.C8=new f8(x);this.C8.parent=this.HE;
this.C8.U("select",this.Nu,this);this.Kw=O;this.asI=o;this.S6=null;this.rQ=!0;this.ko=null}he.prototype=new jZ;
he.prototype.fY=function(){return[]};he.prototype.g9=function(){};he.prototype.f=function(){this.C8.f();
this.K9.f();var r=this.fk;if(r)this.bI.textContent=ab.get(r)+":"};he.prototype.o6=function(r){this.bI.textContent=r};
he.prototype.Wl=function(r){var N=this.Kw,F=0;if(N==bC.Hk){F=this.S6?this.S6.length:0;r=r.slice(0)}this.S6=r;
this.rQ=!0;if(W.Xs(this.K9.m)||N==bC.G6)this.uu();if(N==bC.Hk&&r.length-F==1&&W.Xs(this.m)){this.b(r[F]);
this.rQ=!0;this.uu();this.K9.b([F]);this.L(new gf(v.E.o))}};he.prototype.Nu=function(r){var N=r.target.cW()[0];
if(this.asI==null)N++;var F=new gf(v.E.S,!0);if(N==0){var h=this.GQ();if(this.Kw==bC.Hk&&h[0].profile==null)return;
F.data={V:v.c.nM,oJ:"add",Xa:this.asI,Zn:h}}else if(N==1)this.K9.Kj(1-this.K9.ahO());else if(N<=5)this.z1(N-2);
else{var m=this.fY();F.data={V:v.c.Nm,Xa:{url:"rsrc/"+m[N-6]}}}if(F.data)this.L(F)};he.prototype.z1=function(r){var N=new gf(v.E.S,!0),F=this.K9.k(),h={V:v.c.nM,Xa:this.Kw,jr:F};
if(r>1&&F.length==0){alert("No items selected");return}if(r==0)N.data={V:v.c.$Q};else if(r==1)N.data={V:v.c.KL,afi:this.Kw,jr:F.length==0?null:F};
else if(r==2){var m=this.K9.Ua[1][F[0]];h.oJ="rnm";N.data={V:v.c.pr,i7:"namewindow",Q5:m,vj:{T:v.E.S,R:h}}}else if(r==3){N.data=h;
h.oJ="del"}this.L(N)};he.prototype.GQ=function(){return[this.k()]};he.prototype.ur=function(r){if(W.Xs(this.C8.m))return;
r.stopPropagation();var N=this.C8;N.f();N.update(null);var F=r.currentTarget.getBoundingClientRect(),h=new gf(v.E.S,!0);
h.data={V:v.c.hN,f3:N,x:F.left,y:F.top+F.height};this.L(h)};he.prototype.ly=function(r,N,F){if(W.Xs(this.HE.m))return;
if(r)r.stopPropagation();this.uu();if(N==null){var h=this.V.getBoundingClientRect(),N=h.left,F=h.top+h.height}var m=new gf(v.E.S,!0);
m.data={V:v.c.hN,f3:this.HE,x:N,y:F,KQ:!0};this.L(m)};he.prototype.ael=function(r,N){this.ly(null,r,N)};
function fc(){jZ.call(this);this.m=W._("div");this.CL=!1;this.hT=[new b2([12,19,1],[[13,1,7]].concat(gn.CD)),new gq([17,1]),new gq([12,46])];
for(var R=0;R<3;R++){var r=this.hT[R];this.m.appendChild(r.m);r.U(v.E.o,this.qK,this)}this.f()}fc.prototype=new jZ;
fc.prototype.f=function(){for(var R=0;R<3;R++)this.hT[R].f()};fc.prototype.k=function(){return this.CL.slice(0)};
fc.prototype.b=function(r){this.CL=r.slice(0);var N=this.hT,F=N[0].k();N[1].b(r.slice(F*8,F*8+4),F);
N[2].b(r.slice(F*8+4,F*8+8),F)};fc.prototype.qK=function(r){var N=this.hT,F=N.indexOf(r.currentTarget);
if(F==0)this.b(this.CL);else{var h=N[0].k()*8+(F==1?0:4),m=N[F].k();for(var R=0;R<4;R++)this.CL[h+R]=m[R];
this.L(new gf(v.E.o,!1))}};function gq(r){jZ.call(this);this.m=W._("div");this.D=W._("canvas");this._A=r;
this.CL=[0,20,200,255];this.Sd=0;this.uN=-1;this.apl=[];for(var R=0;R<5;R++){var N=W._("span");N.setAttribute("style","display:inline-block;width:"+(R==0?8:R==2?7:2)+"em");
this.apl.push(N);this.m.appendChild(N)}this.b$=this.DY.bind(this);this.Fq=this.VQ.bind(this);this.s0=this.gm.bind(this);
W.Cb(this.D);W.vN(this.D,this.b$);this.m.appendChild(this.D);this.Fm()}gq.prototype=new jZ;gq.prototype.f=function(){this.Fm()};
gq.prototype.b=function(r,N){this.CL=r;this.Sd=N;this.Fm()};gq.prototype.k=function(){return this.CL.slice(0)};
gq.prototype.DY=function(r){var N=this.CL,F=W.or(r,this.D),h=F.x-8,m=-1,O=1e9;for(var R=0;R<4;R++){var e=h-N[R],P=Math.abs(e);
if(P<8&&P<O&&((R&1)==0&&e<0||(R&1)==1&&e>0)){O=e;m=R}}if(m==-1)return;this.uN=m;this.li=window.__kb.j(bh.sV)||N[(m>>>1)*2]!=N[(m>>>1)*2+1];
W.B7(window,this.Fq);W.ey(window,this.s0)};gq.prototype.VQ=function(r){var N=this.CL,F=this.uN,h=(F>>>1)*2,m=h+1,O=W.or(r,this.D),e=Math.round(Math.max(0,Math.min(255,O.x-8)));
N[F]=e;if(this.li&&N[h]>=N[m])this.li=!1;if(!this.li)N[h]=N[m]=e;this.Fm();this.L(new gf(v.E.o,!1))};
gq.prototype.gm=function(r){W.iX(window,this.Fq);W.g$(window,this.s0)};gq.prototype.Fm=function(){var r=this.D;
W.Pf(r,255+16,16);var N=r.getContext("2d"),F=r.width,h=r.height,m=Math.round(255*W.G()),O=Math.round(8*W.G());
N.translate(O,0);var e=N.createLinearGradient(0,0,m,0);e.addColorStop(0,"black");e.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Sd]);
N.fillStyle=e;N.fillRect(0,0,m,O);var P=this.apl,B=ab.get(this._A)+":";P[0].textContent=B;for(var R=0;
R<4;R++){var s=this.CL[R];P[1+R].textContent=s;var Y=Math.round(s*W.G());N.beginPath();N.moveTo(Y,O);
N.lineTo(Y,O+O);N.lineTo(Y+((R&1)==0?-1:1)*O,O+O);N.closePath();N.fillStyle=R<2?"#666666":"#cccccc";
N.fill();N.strokeStyle="black";N.stroke()}};function eN(r,N,F){jZ.call(this);if(F==null)F=!1;this.h=[0,0,1];
this.aiS=N;this.a8x=F;this.a2N=0;var h="ai"+W.qG();this.m=W._("span","fitem angleinput");if(r){this.bI=W._("label","flabel");
this.fk=r;this.m.appendChild(this.bI);this.bI.setAttribute("for",h)}this.IR=F?44:20;this.D=W._("canvas","gsicon");
this.Az=this.D.getContext("2d");W.Cb(this.D);W.Pf(this.D,this.IR*2+1,this.IR*2+1);this.Az.scale(W.G(),W.G());
this.m.appendChild(this.D);W.vN(this.D,this.VB.bind(this));this.dt=this.xZ.bind(this);this.Pr=this.tt.bind(this);
var m=this.Lr.bind(this),O=W._("div");O.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!F)this.m.appendChild(O);this.a8=[];for(var R=0;R<2;R++){var e=W._("input");this.a8.push(e);e.setAttribute("type","text");
W.uJ(e);if(R==0)e.setAttribute("id",h);e.addEventListener("change",m,!1);var P=W._("span");P.textContent="\xB0";
if(R==0||N){O.appendChild(e);O.appendChild(P);W.ke(O)}}this.b(this.h)}eN.prototype=new jZ;eN.prototype.f=function(){if(this.fk)this.bI.textContent=ab.get(this.fk)+":"};
eN.prototype.o6=function(r){this.bI.textContent=r};eN.prototype.k=function(){return this.h.slice(0)};
eN.prototype.b=function(r,N){var F=this.h;r=r.slice(0);if(r[0]==null)r[0]=F[0];if(r[1]==null)r[1]=F[1];
if(r[2]==null)r[2]=F[2];this.h=r;var h=r[0],m=r[1],O=r[2],e=this.aiS,P=this.a8x,B=this.IR*.85;if(!e)m=0;
this.a8[0].value=h;this.a8[1].value=m;var s=this.Az;s.clearRect(0,0,100,100);h=Math.PI*h/180;m=B*(90-m)/90;
var Y=this.IR+.5;s.save();s.translate(Y,Y);s.rotate(-h);s.strokeStyle="rgba(0,0,0,0.5)";s.beginPath();
s.ellipse(0,0,B,B*O,0,0,2*Math.PI);if(P){s.moveTo(0,-B*O);s.lineTo(0,B*O);s.moveTo(-m,0)}else s.moveTo(0,0);
s.lineTo(m,0);s.stroke();var D=this.IR*.15;s.fillStyle="black";s.beginPath();if(P){s.arc(0,-B*O,D*.66,0,2*Math.PI);
s.arc(0,B*O,D*.66,0,2*Math.PI)}if(e){s.arc(m,0,D*.4,0,2*Math.PI)}else{s.moveTo(Y-D,-D*.66);s.lineTo(Y,0);
s.lineTo(Y-D,D*.66)}s.fill();s.restore();if(N)this.Lr()};eN.prototype.Lr=function(r){var N=parseInt(this.a8[0].value);
if(isNaN(N))N=0;var F=parseInt(this.a8[1].value);if(isNaN(F))F=0;N=N%360;F=F%360;this.b([N,F]);this.L(new gf(v.E.o,!1))};
eN.prototype.VB=function(r){W.B7(window,this.dt);W.ey(window,this.Pr);var N=W.or(r,this.D),Y=0,D=1e9;
N.x-=this.IR;N.y-=this.IR;var F=this.h,h=F[0]*Math.PI/180,m=(90-F[1])/90,O=F[2],e=this.IR*.85,P=Math.sin(-h),B=Math.cos(-h),s=[new gS(B*e,P*e)];
if(this.a8x)s.push(new gS(-P*e*O,B*e*O),new gS(P*e*O,-B*e*O));for(var R=0;R<s.length;R++){var c=gS.Mz(N,s[R]);
if(c<D){D=c;Y=R}}this.a2N=Y;if(Y==0)this.xZ(r)};eN.prototype.xZ=function(r){var N=W.or(r,this.D),F=this.a2N,h=[],m=N.x-this.IR,O=N.y-this.IR,e=this.IR*.85;
if(F==0){var P=180*Math.atan2(-O,m)/Math.PI,B=90-90*Math.min(1,Math.sqrt(m*m+O*O)/e);if(r.shiftKey)P=Math.round(P/15)*15;
h=[Math.round(P),Math.round(B)]}else h=[null,null,Math.max(.01,Math.min(1,Math.sqrt(m*m+O*O)/e))];this.b(h);
this.L(new gf(v.E.o,!1))};eN.prototype.tt=function(r){this.L(new gf(v.E.o,!1));W.iX(window,this.dt);
W.g$(window,this.Pr)};function fy(r,N){jZ.call(this);this.CL=0;this.Px=N;this.m=W._("span","fitem angleinput");
if(r){this.bI=W._("label","flabel");this.fk=r;this.m.appendChild(this.bI)}this.D=W._("canvas","gsicon");
this.Az=this.D.getContext("2d");W.Pf(this.D,N,N);this.m.appendChild(this.D);W.vN(this.D,this.VB.bind(this));
this.dt=this.xZ.bind(this);this.Pr=this.tt.bind(this);this.b(0)}fy.prototype=new jZ;fy.prototype.f=function(){if(this.fk)this.bI.textContent=ab.get(this.fk)+":"};
fy.prototype.o6=function(r){this.bI.textContent=r};fy.prototype.k=function(){return this.CL};fy.prototype.aog=function(r){var N=this.CL,F=Math.floor(N/3),h=N-F*3;
h=Math.max(0,Math.min(2,h+r.x));F=Math.max(0,Math.min(2,F+r.y));this.b(F*3+h)};fy.prototype.b=function(r){this.CL=r;
var N=this.D.width,F=Math.floor(r/3),h=r-3*F,m=(h+.5)*N/3,O=(F+.5)*N/3,e=this.Az,P=[.5,Math.round(N/3)+.5,Math.round(2*N/3)+.5,N-.5];
e.clearRect(0,0,N,N);var B=this.Px<30;e.setLineDash([]);e.strokeStyle=B?"rgba(0,0,0,0.5)":"#000000";
e.beginPath();for(var R=0;R<4;R++){var s=P[R];e.moveTo(s,0);e.lineTo(s,N);e.moveTo(0,s);e.lineTo(N,s)}e.stroke();
if(r==9)return;if(!B){e.setLineDash([1,2]);var Y=N*.53,D=Math.max(0,Math.min(N-Y,m-Y/2)),c=Math.max(0,Math.min(N-Y,O-Y/2));
e.strokeRect(Math.round(D)+.5,Math.round(c)+.5,Math.round(Y),Math.round(Y))}e.fillStyle="#000000";e.beginPath();
e.arc(m,O,N/8,0,Math.PI*2);e.fill()};fy.prototype.VB=function(r){W.B7(window,this.dt);W.ey(window,this.Pr);
this.xZ(r)};fy.prototype.xZ=function(r){var N=W.or(r,this.D),F=Math.max(0,Math.min(2,Math.floor(N.x/(this.Px/3)))),h=Math.max(0,Math.min(2,Math.floor(N.y/(this.Px/3))));
this.b(h*3+F)};fy.prototype.tt=function(r){this.L(new gf(v.E.o,!1));W.iX(window,this.dt);W.g$(window,this.Pr)};
function bG(j_){jZ.call(this);this.m=W._("span","fitem cswatch");this.atP=0;this.$O=[];this.JU=[];var r=this.ajQ.bind(this);
for(var R=0;R<j_;R++){this.$O.push(0);var N=W._("span","colorsample");N.addEventListener("click",r,!1);
this.JU.push(N);this.m.appendChild(N)}var F=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],h=Math.min(j_,F.length);
for(var R=0;R<h;R++)this.$O[R]=F[R];this.KU()}bG.prototype=new jZ;bG.prototype.ajQ=function(r){this.atP=this.JU.indexOf(r.currentTarget);
this.L(new gf(v.E.o))};bG.prototype.k=function(){return this.$O[this.atP]};bG.prototype.b=function(r){var N=this.$O,F=N.indexOf(r);
if(F!=-1)N.splice(F,1);else N.pop();N.unshift(r);this.KU()};bG.prototype.KU=function(){for(var R=0;R<this.$O.length;
R++){this.JU[R].setAttribute("style","background-color:#"+w.GG(this.$O[R]))}};function cw(r){jZ.call(this);
this.ZM={Z:0,z:0,J:0};this.x4=r;this.m=W._("span","fitem colorsample");this.m.addEventListener("click",this.uX.bind(this),!1)}cw.prototype=new jZ;
cw.prototype.f=function(){};cw.prototype.uX=function(r){var N=this.ZM;this.L(new gf("click"));var F=new gf(v.E.S,!0);
F.data={V:v.c.pr,i7:"colorpicker",IU:N.Z<<16|N.z<<8|N.J,xV:this.Gx.bind(this),C9:this.x4};this.L(F)};
cw.prototype.Gx=function(r){this.X7(r);this.L(new gf(v.E.o))};cw.prototype.ZL=function(){this.uX(null)};
cw.prototype.a34=function(){var r=this.ZM;return r.Z<<16|r.z<<8|r.J};cw.prototype.k=function(){return w.X.QA(this.ZM)};
cw.prototype.X7=function(r){this.ZM={Z:r>>16&255,z:r>>8&255,J:r&255};this.abu()};cw.prototype.b=function(r){this.ZM=w.X.Mq(r);
this.abu()};cw.prototype.abu=function(){var r=this.ZM,N=r.Z,F=r.z,h=r.J,m=N<<16|F<<8|h;this.m.setAttribute("style","background-color:#"+w.GG(m))};
function da(){jZ.call(this);this._c=!1;this.hU=20;this.aci=10;this.TD=0;this._c=!1;this.ed={Z:255,z:0,J:0};
this.NH={Z:0,z:0,J:0};this.m=W._("canvas");this.Fm();W.Cb(this.m);W.vN(this.m,this.b$.bind(this))}da.prototype=new jZ;
da.prototype.a03=function(r){if(this._c==r)return;this._c=r;this.Fm()};da.prototype.f=function(){};da.prototype.apc=function(r,N){function F(h){return{Z:h>>16&255,z:h>>8&255,J:h&255}}if(r!=null)this.ed=F(r);
if(N!=null)this.NH=F(N);this.Fm()};da.prototype.b$=function(r){var N=W.or(r,this.m),F=N.x*W.G(),h=N.y*W.G(),m=this.hU,O=this.aci,e=0;
if(F<O&&h<O){e=0}else if(F>m-O&&h>m-O){e=1}else if(F<O){e=2}else{e=3}this.ZL(e)};da.prototype.ZL=function(r){var N=new gf(v.E.S,!0);
if(r>1)N.data={V:v.c.nM,Xa:bC.gU,bT:r};else{this.TD=r;var F=r==0?this.ed:this.NH;N.data={V:v.c.pr,i7:"colorpicker",IU:F.Z<<16|F.z<<8|F.J,xV:this.Gx.bind(this)}}this.L(N)};
da.prototype.Gx=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.nM,Xa:bC.gU,bT:this.TD,h:r};this.L(N)};
da.prototype.Fm=function(){var r=this.m,N=r.getContext("2d"),F=W.G(),m="#aaaaaa",O=.62;W.Pf(r,34,34);
r.setAttribute("style",r.getAttribute("style")+";cursor:pointer");var h=this.hU=r.width,e=this.aci=Math.round(h*O);
function P(o,H){var x=o.Z,Q=o.z,U=o.J;if(H)x=Q=U=Math.round(w.$X(x,Q,U));var I=x<<16|Q<<8|U;return"#"+w.GG(I)}function B(o,H,e,x,Q){N.fillStyle=Q?Q:"black";
N.fillRect(o,H,e,e);N.fillStyle=x;N.fillRect(o+1,H+1,e-2,e-2)}B(h-e,h-e,e,P(this.NH,this._c));B(0,0,e,P(this.ed,this._c));
var s=h-e,Y=Math.round(s*O);B(h-Y,s-Y,Y,"white",m);B(h-s,0,Y,"black",m);N.save();N.fillStyle=m;N.translate(0,h);
N.rotate(-Math.PI/2);s=h-e;var D=Math.round(s*.28),c=Math.round(s*.25);for(var R=0;R<2;R++){N.fillRect(D,D,s-D,1);
N.beginPath();N.moveTo(s-c,D+.5-c);N.lineTo(s,D+.5);N.lineTo(s-c,D+.5+c);N.closePath();N.fill();N.transform(0,1,1,0,0,0)}N.restore()};
function ex(r){he.call(this,r,!1,"brushbutton nopadding",19,10,bC.D$,!0);var N=this.a1d;W.Ou(N,"flexrow");
var F=W._("div");N.appendChild(F);var h=W._("div");N.appendChild(h);h.setAttribute("style","margin-left:8px");
this.tn=new eN(null,null,!0);this.tn.U(v.E.o,this.s5,this);F.appendChild(this.tn.m);this.uG=new d5([12,14,0],1,1e3," px",0,!0);
this.uG.U(v.E.o,this.s5,this);h.appendChild(this.uG.m);this.Dg=new d5([12,17],0,100,"%");this.Dg.U(v.E.o,this.s5,this);
h.appendChild(this.Dg.m)}ex.prototype=new he;ex.prototype.fY=function(){var r=["pencil","trees"];for(var R=0;
R<r.length;R++)r[R]="brushes/"+r[R]+".abr";return r};ex.prototype.b=function(r,N,F){this.ko=JSON.parse(JSON.stringify(r));
var h=Math.floor(20*W.G()),m=Math.floor(36*W.G()),O=Math.floor(24*W.G()),e=hy.e9(r,N,F,h,O,m);this.JH.setAttribute("src",e);
W.HR(this.JH,m,O);var P=r.Brsh.v;this.uG.b(P.Dmtr.v.val);if(P.Hrdn!=null){this.Dg.RK();this.Dg.b(P.Hrdn.v.val)}else this.Dg.Xo();
if(P.Angl!=null)this.tn.b([P.Angl.v.val]);if(P.Rndn!=null)this.tn.b([null,null,P.Rndn.v.val/100])};ex.prototype.GQ=function(){return{list:[{t:"Objc",v:this.k()}],lZ:[],ki:[]}};
ex.prototype.k=function(){return this.ko};ex.prototype.uu=function(){if(!this.rQ)return;var r=[],N=[],F=this.S6,h=Math.floor(33*W.G()),m=Math.floor(40*W.G());
for(var R=0;R<F.list.length;R++){var O=F.list[R].v,e=hy.e9(O,F.lZ,F.ki,h,m);r.push(e);N.push(O.Nm.v.split("=").pop())}this.K9.IS(r,N,h,m);
this.rQ=!1};ex.prototype.Wg=function(r){var N=this.S6;this.b(N.list[this.K9.k()[0]].v,N.lZ,N.ki);this.L(new gf(v.E.o))};
ex.prototype.f=function(){he.prototype.f.call(this);this.tn.f();this.uG.f();this.Dg.f()};ex.prototype.s5=function(r){var N=this.S6,F=this.ko,h=F.Brsh.v;
h.Dmtr.v.val=this.uG.k();if(h.Hrdn!=null)h.Hrdn.v.val=this.Dg.k();if(h.Angl!=null)h.Angl.v.val=this.tn.k()[0];
if(h.Rndn!=null)h.Rndn.v.val=Math.round(this.tn.k()[2]*100);this.b(F,N.lZ,N.ki);this.L(new gf(v.E.o))};
function iM(r){he.call(this,r,!0,"contourbutton",17,10.5,bC.Rt)}iM.prototype=new he;iM.prototype.Wg=function(r){this.b(this.S6[r.target.k()]);
this.L(new gf(v.E.o))};iM.prototype.g9=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.pr,i7:"contoureditor",Yg:this.ko,response:this.a3l.bind(this)};
this.L(N)};iM.prototype.a3l=function(r){this.b(r);this.L(new gf(v.E.o))};iM.prototype.uu=function(){if(!this.rQ)return;
var r=Math.floor(38*W.G()),N=Math.floor(38*W.G()),F=[],h=[],m=this.S6;for(var R=0;R<m.length;R++){h.push(m[R].Nm?m[R].Nm.v:"");
F.push(w.WC.e9(m[R].Crv.v,r,N))}this.K9.IS(F,h,r,N);this.rQ=!1};iM.prototype.b=function(r){this.ko=JSON.parse(JSON.stringify(r));
var N=this.ko.Crv.v;for(var R=0;R<N.length;R++)if(N[R].v.Cnty==null)N[R].v.Cnty={t:"bool",v:!0};this.LR()};
iM.prototype.LR=function(){var r=Math.floor(30*W.G()),N=Math.floor(30*W.G()),F=w.WC.e9(this.ko.Crv.v,r,N);
this.JH.setAttribute("src",F);W.HR(this.JH,r,N)};iM.prototype.k=function(){return JSON.parse(JSON.stringify(this.ko))};
function eF(r){jZ.call(this);this.Li=null;this.bX=null;this.P8=null;this.SL=null;this.a0N=[];this.abK=[];
this.m=W._("span","fitem fillbutton");this.HE=new jZ;this.HE.m=W._("div","floatcont form");this.HE.m.setAttribute("style","width: 21em;");
this.HE.parent=this;this.PX=r;this.bI=this.bI=W._("label","flabel");this.m.appendChild(this.bI);this.D=W._("canvas");
this.Az=this.D.getContext("2d");this.ac6=null;this.m.appendChild(this.D);W.vN(this.D,this.ly.bind(this));
this.m0=new ch([12,66],["","Color","Grad","Patt"]);this.HE.m.appendChild(this.m0.m);this.m0.U(v.E.o,this.qK,this);
this.HE.m.appendChild(W._("hr"));this.ap4=W._("span");this.Ys=new cw(!0);this.Ys.parent=this.HE;this.Ys.U(v.E.o,this.qK,this);
this.vb=new bG(10);this.vb.U(v.E.o,this.qK,this);this.tv=W._("div","marged hiline");this.tv.appendChild(this.Ys.m);
W.ke(this.tv);this.tv.appendChild(this.vb.m);this.Rp=new jj("GrFl",!0);this.Rp.parent=this.HE;this.Rp.U(v.E.o,this.qK,this);
this.cJ=W._("div","marged hiline");var N="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var R=0;
R<N.length;R++){var F=this.Rp.lg[N[R]].m;this.cJ.appendChild(F)}this.Q0=new jj("patternFill",!0);this.Q0.parent=this.HE;
this.Q0.U(v.E.o,this.qK,this);this._L=W._("div","marged hiline");var N=["Ptrn","Angl","Scl","Algn","phase"];
for(var R=0;R<N.length;R++){var F=this.Q0.lg[N[R]].m;this._L.appendChild(F)}}eF.prototype=new jZ;eF.prototype.Qr=function(r,N){if(N==bC.nA){this.a0N=[];
this.abK=[];if(this.Li)this.b(this.P8,this.k(),this.Li)}this.bX=r;this.Rp.Qr(r,N);this.Q0.Qr(r,N)};eF.prototype.f=function(){this.bI.textContent=ab.get(this.PX)+": ";
this.m0.f();this.Ys.f();this.Rp.f();this.Q0.f()};eF.prototype.qK=function(r){var N=r.currentTarget;if(N==this.m0){var F=this.m0.k(),h={_h:F,PL:this.Li[F]};
if(F>0&&h.PL==null)h.PL=JSON.parse(JSON.stringify(an.qe[F-1]));if(this.Li)this.b(this.P8,h,this.Li)}if(N==this.vb)this.Ys.X7(N.k());
this.L(new gf(v.E.o,!1))};eF.prototype.ly=function(r){if(W.Xs(this.HE.m))return;r.stopPropagation();
var N=this.D.getBoundingClientRect(),F=new gf(v.E.S,!0);F.data={V:v.c.hN,f3:this.HE,x:N.left,y:N.top+N.height+4};
this.L(F);this.vb.b(this.Ys.a34())};eF.prototype.b=function(r,N,F){this.Li=F;this.P8=r;var h=[[13,1,0],[13,0],[12,37],[12,62]],m=this.a0N,O=this.abK,e=!1,Y;
for(var R=0;R<4;R++){var P={_h:R,PL:F[R]},B=eF.a2V(P);if(O[R]==B)continue;e=!0;var s=eF.a3p(null,P,this.bX,this.P8,22,22,!1);
m[R]="<img width=\"22\" height=\"22\" src=\""+s+"\" />";O[R]=B}if(e)this.m0.eo(m,h);this.m0.b(N._h);
var B=eF.a2V(N);if(B!=this.ac6)eF.a3p(this.Az,N,this.bX,this.P8,30,23,!0);this.ac6=B;var D=N._h;if(D==0){Y=this.ap4}if(D==1){this.Ys.b(N.PL.Clr.v);
Y=this.tv}if(D==2){this.Rp.update(r,N.PL);Y=this.cJ}if(D==3){this.Q0.update(r,N.PL);Y=this._L}if(Y!=this.SL){if(this.SL!=null){this.HE.m.removeChild(this.SL)}this.HE.m.appendChild(Y);
this.SL=Y}};eF.prototype.k=function(){var r={_h:this.m0.k()};if(r._h==1){r.PL=JSON.parse(JSON.stringify(an.qe[0]));
r.PL.Clr.v=this.Ys.k()}if(r._h==2){r.PL=this.Rp.k()}if(r._h==3){r.PL=this.Q0.k()}return r};eF.a2V=function(r){var N=r._h,F=r.PL,h="empty";
if(N==1){h=w.X.Mq(F.Clr.v);h=h.Z+","+h.z+","+h.J}if(N==2)h=JSON.stringify(F.Grad.v);if(N==3)h=F.Ptrn.v.Idnt.v;
return h};eF.a3p=function(r,N,F,h,m,O,e){if(r==null)r=eF.Az;var P=Math.floor(m*W.G()),B=Math.floor(O*W.G()),s=r.canvas,Y;
s.width=P;s.height=B;W.HR(s,P,B);var D=N._h;if(D==0){r.fillStyle="#ffffff";r.fillRect(0,0,P,B);r.strokeStyle="#ff0000";
r.lineWidth=2;r.moveTo(0,0);r.lineTo(P,B);r.moveTo(0,B);r.lineTo(P,0);r.stroke()}if(D==1){var c=N.PL.Clr.v;
c=w.X.Mq(c);r.fillStyle="#"+w.GG(c.Z<<16|c.z<<8|c.J);r.fillRect(0,0,P,B)}if(D==2){z.ji.e9(N.PL.Grad.v,P,B,0,F.Fp,F.lo,s)}if(D==3){var o=N.PL.Ptrn.v,H;
if(h!=null)H=iL.gC(o,h.add.Patt);if(H==null)H=iL.gC(o,F.X5);j7.e9(H,P,B,s)}if(e){r.beginPath();r.strokeStyle="#000000";
r.fillStyle="#ffffff";r.lineWidth=2;var x=P*.7,Q=Math.floor(B*.7),U=7*W.G();r.moveTo(x,Q);r.lineTo(x+U,Q);
r.lineTo(x+U/2,Q+U/2);r.closePath();r.stroke();r.fill()}if(r==eF.Az)return s.toDataURL()};eF.Az=W._("canvas").getContext("2d");
function j7(r){he.call(this,r,!1,"patternbutton",18,10,bC.nA);this.KK=null}j7.prototype=new he;j7.prototype.Wg=function(r){var N=this.S6[this.K9.k()];
this.ko={classID:"Ptrn",Nm:{t:"TEXT",v:N.name},Idnt:{t:"TEXT",v:N.id}};this.L(new gf(v.E.o));this.LR()};
j7.prototype.uu=function(){if(!this.rQ)return;var r=this.S6,N=Math.floor(34*W.G()),F=Math.floor(34*W.G()),h=[],m=[];
for(var R=0;R<r.length;R++){h.push(j7.e9(r[R],N,F));m.push(r[R].name)}this.K9.IS(h,m,N,F);this.rQ=!1};
j7.prototype.b=function(r,N){if(this.ko&&r.Idnt.v==this.ko.Idnt.v)return;this.ko=JSON.parse(JSON.stringify(r));
this.LR(N)};j7.prototype.k=function(){return JSON.parse(JSON.stringify(this.ko))};j7.prototype.GQ=function(){return this.KK?[this.KK]:[]};
j7.prototype.LR=function(r){var N=Math.floor(50*W.G()),F=Math.floor(50*W.G()),h;if(r!=null)h=iL.gC(this.ko,r.add.Patt);
if(h==null)h=iL.gC(this.ko,this.S6);this.KK=h;var m=j7.e9(h,N,F);this.JH.setAttribute("src",m);W.HR(this.JH,N,F)};
j7.D=W._("canvas","");j7.e9=function(r,N,F,h){if(h==null)h=j7.D;var m=h.getContext("2d");h.width=N;h.height=F;
if(r){var O=r.jB[1],e=O.e,P=O.n,B=r.jB[0],s=Math.min(N/e,F/P),Y=s;if(Y*e<2)Y=2/e;var D=s;if(D*P<2)D=2/P;
var c=z.Q.iG([B,O],new hc(Y,0,0,D,0,0),Y>2),o=c.rect.e,H=c.rect.n,x=m.createImageData(o,H);w.ZF(c.buffer,x.data);
m.putImageData(x,Math.floor((N-o)/2),Math.floor((F-H)/2))}return h.toDataURL()};function j3(r,N,F){if(N==null)N=24.2;
if(F==null)F=17;he.call(this,r,!1,"patternbutton",N,F,bC.zU);this.Q1=""}j3.prototype=new he;j3.prototype.Wg=function(r){this.ko=JSON.parse(JSON.stringify(this.S6[0][this.K9.k()[0]]));
this.L(new gf(v.E.o))};j3.prototype.uu=function(){var r=this.S6;if(r==null||!this.rQ)return;var N=Math.floor(50*W.G()),F=Math.floor(50*W.G()),h=[],m=[];
for(var R=0;R<r[0].length;R++){h.push(j3.e9(this.S6[0][R].ks,N,F,this.S6[1]));m.push(r[0][R].J6.Nm.v.split("=").pop())}this.K9.IS(h,m,N,F);
this.rQ=!1};j3.prototype.b=function(r,N,F,h){var m=JSON.stringify(r.ks)+","+F+","+h;if(this.Q1!=m){this.Q1=m;
this.ko=JSON.parse(JSON.stringify(r));this.LR(N,F,h)}};j3.prototype.k=function(){return JSON.parse(JSON.stringify(this.ko))};
j3.prototype.LR=function(r,N,F){var h=Math.floor(68*W.G()),m=Math.floor(68*W.G()),O=j3.e9(this.ko.ks,h,m,r?r:this.S6[1],N,F);
this.JH.setAttribute("src",O);W.HR(this.JH,h,m)};j3.e9=function(r,N,F,h,m,O){var e=new gp;e.e=N;e.n=F;
e.buffer=w.B(N*F*4);e.add.Patt=h;e.gO(m==null?90:m);e.QS(O==null?30:O);var P=new fE(0,0,Math.round(N*.5),Math.round(F*.5));
P.x=Math.round((N-P.e)/2);P.y=Math.round((F-P.n)/2);var B=e.lc();B.rect=P;B.buffer=w.B(P.W()*4);w.T1(B.buffer,4284045657);
iL.auz(r,B,.5*100);e.g.push(B);e.IY();e.M();var s=M._X;M._X=!1;e.t7();var Y=e.G9();M._X=s;var D=bA.zh(Y.buffer,e.e,e.n);
return D};function fN(r){he.call(this,null,!1,"tpresetbutton",18,24,bC.Sc,!0);W.PV(this.m,"fitem");this.K9.Kj(1);
this.id=r;this.LR();this.V.style.overflow="hidden";this.ac=new bf([15,7,9]);this.ac.b(!0);this.ac.U(v.E.o,this.aoE,this);
this.GR.appendChild(this.ac.m)}fN.prototype=new he;fN.prototype.avC=function(r){if(this.id==r)return;
this.id=r;this.Wl(this.S6)};fN.prototype.Wg=function(r){var N=this.S6[this.K9.k()],F=new gf(v.E.S,!0);
F.data={V:v.c.nM,oJ:"set",Xa:bC.Sc,Zn:N};this.L(F)};fN.prototype.f=function(){he.prototype.f.call(this);
this.ac.f()};fN.prototype.aoE=function(){this.rQ=!0;this.uu()};fN.prototype.uu=function(){if(!this.rQ)return;
var r=Math.floor(16*W.G()),N=Math.floor(16*W.G()),F=[],h=[],m=this.S6,O=this.ac.k();for(var R=0;R<m.length;
R++){var e=z.fO(m[R]);if(!O||e==this.id){h.push(m[R][0]?m[R][0].split("=").pop():"");F.push(e==-1?"":PIMG[z.JV[e][0]])}else{F.push(null);
h.push(null)}}this.K9.IS(F,h,r,N);this.rQ=!1};fN.prototype.LR=function(){var r=this.JH;r.setAttribute("src",PIMG[z.JV[this.id][0]]);
W.Ou(r,"toolicon")};fN.prototype.GQ=function(){return null};fN.Fa={};fN.e9=function(r,N,F){var h=fN.Az,m=fN.Fa,O=w.GG(r.Z<<16|r.z<<8|r.J);
if(m[O])return m[O];if(h==null){var e=W._("canvas");h=fN.Az=e.getContext("2d")}var e=h.canvas;e.width=N;
e.height=F;h.fillStyle="#"+O;h.fillRect(0,0,N,F);var P=m[O]=e.toDataURL();return P};function aU(r,N,F){jZ.call(this);
this.m=W._("span","fitem curveeditor");this.zQ=null;this.aue=0;this.Sd="";this.mode=0;this.aD=r;this.ajj=N;
this.avE=F;this.kj=null;this.vI=null;this.ai4=0;this.ajC=0;this.at=new gS;this.AU=this.xZ.bind(this);
this.nH=this.tt.bind(this);this.Px=256;this.D=W._("canvas");this.Az=this.D.getContext("2d");W.Cb(this.D);
this.m.appendChild(this.D);this.bh(256,256);W.vN(this.D,this.VB.bind(this));this.coords=W._("div","");
this.coords.setAttribute("style","width:250px");this.m.appendChild(this.coords);var h=this.Kh=F?100:255,m=null;
this.lw=new g$("X (in):",0,h,m,0,!1,!0);this.CE=new g$("Y (out):",0,h,m,0,!1,!0);this.fm=new bf([19,3,0]);
this.lw.U(v.E.o,this.Mt,this);this.CE.U(v.E.o,this.Mt,this);this.fm.U(v.E.o,this.Mt,this);this.coords.appendChild(this.lw.m);
if(F)this.coords.appendChild(this.fm.m);this.coords.appendChild(this.CE.m)}aU.prototype=new jZ;aU.prototype.f=function(){this.fm.f()};
aU.prototype.bh=function(r,N){this.Px=Math.round(r);this.Az.resetTransform();W.Pf(this.D,this.Px,this.Px,this.Az);
this.Az.scale(this.Px/256,this.Px/256);if(this.kj)this.xb()};aU.prototype.Mt=function(r){var R=this.avh(),N=this.kj[R],F=255/this.Kh;
N.v.Hrzn.v=this.lw.k()*F;N.v.Vrtc.v=this.CE.k()*F;if(this.avE)N.v.Cnty.v=this.fm.k();this.kj.sort(function(h,m){return h.v.Hrzn.v-m.v.Hrzn.v});
this.xb();this.L(new gf(v.E.o))};aU.prototype.b=function(r,R){var N=JSON.stringify(r);if(N==JSON.stringify(this.kj))return;
this.mode=r.length==256?1:0;this.kj=JSON.parse(N);if(R!=null)this.vI=this.kj[R];this.xb()};aU.prototype.ff=function(r,N,F){this.zQ=r;
this.aue=N;this.Sd=F;this.xb()};aU.prototype.k=function(){return JSON.parse(JSON.stringify(this.kj))};
aU.prototype.avh=function(){return this.kj.indexOf(this.vI)};aU.prototype.VB=function(r){var N=256/this.Px,F=W.or(r,this.D);
F.x*=N;F.y*=N;var h=F.x,m=256-F.y;if(this.aD){var O=h;h=256-m;m=O}this.at.YR(h,m);if(this.mode==0){var e=0,P=1e9,c;
for(var R=0;R<this.kj.length;R++){var B=this.kj[R].v,s=B.Hrzn.v-h,Y=B.Vrtc.v-m,D=Math.sqrt(s*s+Y*Y);
if(D<P){P=D;e=R}}if(P<15)c=this.kj[e];else{c=w.WC.x1(h,m,!0);this.kj.push(c);this.kj.sort(function(o,H){return o.v.Hrzn.v-H.v.Hrzn.v})}this.vI=c;
this.ajC=this.kj.slice(0)}W.B7(document.body,this.AU);W.ey(document.body,this.nH);this.xZ(r)};aU.prototype.xZ=function(r){var N=256/this.Px,F=W.or(r,this.D);
F.x*=N;F.y*=N;var h=F.x,m=256-F.y;if(this.aD){var O=h;h=256-m;m=O}if(this.mode==0){var e=this.kj,P=this.vI,B=this.ajC,s=B.indexOf(P),Y=e.indexOf(P)!=-1,D=B.length-1,c=h;
if(s==0){c=Math.max(0,Math.min(B[1].v.Hrzn.v-1,h))}else if(s==D){c=Math.min(255,Math.max(B[D-1].v.Hrzn.v+1,h))}else{var o=h<0||h>255||m<0||m>255;
if(h<=B[s-1].v.Hrzn.v||h>=B[s+1].v.Hrzn.v)o=!0;if(!o&&!Y)e.splice(s,0,P);if(o&&Y)e.splice(s,1)}if(this.ajj&&(s==0||s==B.length-1)){}else P.v.Hrzn.v=Math.round(c);
P.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(m)))}else{h=Math.round(h);m=Math.round(m);h=Math.max(0,Math.min(255,h));
m=Math.max(0,Math.min(255,m));var H=this.at.x,x=h,Q=this.at.y,U=m;if(h<this.at.x){x=H;H=h;U=Q;Q=m}this.kj[h]=m;
if(H!=x)for(var I=H;I<=x;I++)this.kj[I]=Math.round(Q+(I-H)*(U-Q)/(x-H))}this.at.YR(h,m);this.xb();this.L(new gf(v.E.o))};
aU.prototype.tt=function(r){W.iX(document.body,this.AU);W.g$(document.body,this.nH);this.L(new gf(v.E.o))};
aU.prototype.xb=function(){var r=this.Az,N=this.D;r.fillStyle="#ffffff";r.fillRect(0,0,256,256);var F=256/N.width;
if(this.zQ){r.save();r.translate(0,256);r.scale(1,-1);eP.a0D(r,this.zQ,5700/this.aue,this.Sd);r.restore()}r.strokeStyle="#aaaaaa";
r.lineWidth=1*F;r.beginPath();for(var R=1;R<4;R++){var h=(Math.floor(64*R/F)+.5)*F;r.moveTo(0,h);r.lineTo(255,h);
r.moveTo(h,0);r.lineTo(h,255)}r.stroke();if(this.aD){r.save();r.transform(0,1,-1,0,256,0)}if(this.mode==0){var m=this.kj,O=w.WC.X8(m,256);
r.strokeStyle="#000000";r.beginPath();r.moveTo(0,255.5-O[0]);for(var R=0;R<256;R++)r.lineTo(R,255.5-O[R]);
r.stroke();r.lineWidth=2*F;for(var R=0;R<m.length;R++){var e=m[R].v;r.fillStyle=this.vI==m[R]?"#333":"#fff";
r.beginPath();r.moveTo(e.Hrzn.v,255.5-e.Vrtc.v);r.arc(e.Hrzn.v,255.5-e.Vrtc.v,5*F,0,2*Math.PI);r.stroke();
r.fill()}}else{var O=this.kj;r.strokeStyle="#000000";r.beginPath();r.moveTo(0,255.5-O[0]);for(var R=0;
R<256;R++)r.lineTo(R,255.5-O[R]);r.stroke()}if(this.aD)r.restore();var R=this.avh();this.coords.setAttribute("class",R==-1?"disabled":"");
if(R==-1)return;var e=this.kj[R].v,P=255/this.Kh;this.lw.b(Math.round(e.Hrzn.v/P));this.CE.b(Math.round(e.Vrtc.v/P));
if(e.Cnty)this.fm.b(e.Cnty.v)};function eP(r,N){jZ.call(this);this.m=W._("span","");this.Ol=new b2([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.Ol.U(v.E.o,this.Fm,this);this.m.appendChild(this.Ol.m);W.ke(this.m);this.D=W._("canvas");var F=this.D;
this.m.appendChild(F);F.width=Math.round(r*W.G());F.height=Math.round(100*W.G());W.HR(F,F.width,F.height);
this.Az=F.getContext("2d");this.zQ=null;this.OF=0;this.a9q=null;this.a0W=[];this.Fz=[];var h=["Mean:","Pixels:"],m=this.m;
for(var R=0;R<h.length;R++){var O=new bB(h[R]);this.a0W.push(O);if(N)m.appendChild(O.m);var e=new bB("hi");
this.Fz.push(e);if(N)m.appendChild(e.m);W.ke(m)}}eP.prototype=new jZ;eP.prototype.f=function(){this.Ol.f()};
eP.prototype.Kj=function(r){this.Ol.b(r);this.Fm()};eP.prototype.b=function(r,N){this.zQ=r;this.a9q=N;
this.Fm()};eP.prototype.X7=function(r){if(r==this.OF)return;this.OF=r;this.Fm()};eP.prototype.Fm=function(){if(this.zQ==null)return;
var r=this.D,N=this.Az,F=this.zQ,h=this.a9q,m=this.Ol.k(),O=6e3/F[4],e="#"+w.GG(this.OF),P=eP.a0D;r.width=r.width;
N.setTransform(r.width/256,0,0,-r.height/100,0,r.height);N.globalCompositeOperation="lighter";if(m==0)P(N,F[0],O/3,e);
else if(m<4)P(N,F[m],O,e);else{P(N,F[1],O,"#ff0000");P(N,F[2],O,"#00ff00");P(N,F[3],O,"#0000ff")}N.setTransform(1,0,0,1,0,0);
if(h!=null){var B=0;for(var R=0;R<256;R++)B+=R*F[m][R];if(m==0)B/=3;this.Fz[0].b((B/h).toFixed(1)+"");
this.Fz[1].b(h+"")}};eP.a0D=function(r,N,F,h){r.beginPath();r.moveTo(0,0);for(var m=0;m<256;m++)r.lineTo(m,N[m]*F);
r.lineTo(256,0);r.closePath();r.fillStyle=h;r.fill()};function h2(r,N){jZ.call(this);this.kv={Z:0,z:0,J:0};
if(Math.abs(r-256/W.G())<10)r=256/W.G();var F=this.m=W._("div","flexrow"),h=this.aqP=W._("div");F.appendChild(h);
this.lC=new gS;this.M2=new gS;this.dt=this.abR.bind(this);this.Pr=this.aaM.bind(this);this.D=W._("canvas","");
this.Az=this.D.getContext("2d");this.D.width=this.D.height=256;this.alR=this.Az.getImageData(0,0,256,256);
this.agV=-1;this.aur="";W.Cb(this.D);W.vN(this.D,this.aqk.bind(this));h.appendChild(this.D);this.apw=this.asf.bind(this);
this.a2i=this.alF.bind(this);this.dA=W._("canvas","");this.r9=this.dA.getContext("2d");this.dA.width=20;
this.dA.height=256;this.aek=this.r9.getImageData(0,0,20,256);h2.a8z(this.aek.data,20,256);W.Cb(this.dA);
W.vN(this.dA,this.a2X.bind(this));F.appendChild(this.dA);this.D.setAttribute("style","width:"+r+"px; height:"+r+"px");
this.dA.setAttribute("style","width:16px; height:"+r+"px");this.Tt=new bf("Web Colors\u2001");this.Tt.U(v.E.o,this.update,this);
this.EN=new bf("CMYK gamut");this.EN.U(v.E.o,this.update,this);if(N){W.ke(h);h.appendChild(this.Tt.m);
h.appendChild(this.EN.m)}}h2.prototype=new jZ;h2.prototype.bh=function(r,N){this.D.style.width=this.aqP.style.width=r-16+"px"};
h2.prototype.b=function(r){if(this.Tt.k()){var N=JSON.parse(JSON.stringify(r));h2.e4(N);var F=this.k();
if(N.Z==F.Z&&N.z==F.z&&N.J==F.J)r=this.kv}this.kv=r;this.update()};h2.prototype.k=function(){var r=JSON.parse(JSON.stringify(this.kv));
if(this.Tt.k())h2.e4(r);return r};h2.prototype.update=function(){var r=this.kv,N=w.DZ(r.Z,r.z,r.J);if(N.MB==0)N.ou=this.lC.x/255;
if(N.ou==0||N.MB==0)N.Nf=(255-this.X2(this.M2.y))/255;if(N.MB!=0)this.lC.x=N.ou*255;this.lC.y=(1-N.MB)*255;
this.M2.y=(1-N.Nf)*255;var F=this.alR,h=this.Tt.k(),m=this.EN.k(),O=h+","+m;if(Math.abs(N.Nf-this.agV)>.002||this.aur!=O){this.ard(F.data,256,256,N.Nf,h,m);
this.agV=N.Nf;this.aur=O}var e=this.Az;e.putImageData(F,0,0);e.strokeStyle="#000000";e.beginPath();e.arc(this.lC.x+1,this.lC.y+1,5,0,2*Math.PI);
e.stroke();e.strokeStyle="#ffffff";e.beginPath();e.arc(this.lC.x,this.lC.y,5,0,2*Math.PI);e.stroke();
F=this.aek;e=this.r9;e.putImageData(F,0,0);e.strokeStyle="#ffffff";e.beginPath();e.moveTo(0,this.M2.y);
e.lineTo(20,this.M2.y);e.lineWidth=2;e.stroke()};h2.e4=function(r){r.Z=~~(.5+r.Z*5)*.2;r.z=~~(.5+r.z*5)*.2;
r.J=~~(.5+r.J*5)*.2};h2.prototype.ard=function(r,N,F,h,m,O){var e=1/N,P=1/F;for(var B=0;B<F;B++)for(var s=0;
s<N;s++){var Y=w.ip(h,s*e,(F-B-1)*P);if(m)h2.e4(Y);var R=B*N+s<<2;r[R+0]=~~(Y.Z*255);r[R+1]=~~(Y.z*255);
r[R+2]=~~(Y.J*255);r[R+3]=255}if(O){var D=r.slice(0),c=gp.pK[0],o=gp.pK[1];ICC.U.applyLUT(o,c,D,D);for(var R=0;
R<r.length;R+=4){var H=r[R]-D[R],x=r[R+1]-D[R+1],Q=r[R+2]-D[R+2],U=H*H+x*x+Q*Q;if(U>300)r[R]=r[R+1]=r[R+2]=200}}};
h2.a8z=function(r,N,F,h,m){if(h==null)h=1;if(m==null)m=0;var O=new Uint32Array(r.buffer);for(var e=0;
e<F;e++){var P=w.ip((1+h*(1-e/F)+m)%1,1,1),B=255<<24|P.J*255<<16|P.z*255<<8|P.Z*255;for(var s=0;s<N;
s++)O[e*N+s]=B}};h2.prototype.aqk=function(r){W.B7(window,this.dt);W.ey(window,this.Pr);this.abR(r)};
h2.prototype.aaM=function(r){W.iX(window,this.dt);W.g$(window,this.Pr)};h2.prototype.abR=function(r){var N=W.or(r,this.D);
N.x=N.x*(256/parseFloat(this.D.style.width));N.y=N.y*(256/parseFloat(this.D.style.height));this.lC.YR(this.X2(N.x),this.X2(N.y));
this.g0()};h2.prototype.g0=function(){this.kv=this.aa6();this.L(new gf(v.E.o))};h2.prototype.aa6=function(){var r=w.ip((255-this.X2(this.M2.y))/255,this.IB(this.lC.x/255),this.IB(1-this.lC.y/255));
return{Z:r.Z,z:r.z,J:r.J}};h2.prototype.a2X=function(r){W.B7(window,this.apw);W.ey(window,this.a2i);
this.asf(r)};h2.prototype.alF=function(r){W.iX(window,this.apw);W.g$(window,this.a2i)};h2.prototype.asf=function(r){var N=W.or(r,this.dA);
N.y=N.y*(256/parseFloat(this.dA.style.height));this.M2.YR(this.X2(N.x),this.X2(N.y));this.g0()};h2.prototype.X2=function(r){return Math.max(0,Math.min(255,r))};
h2.prototype.IB=function(r){return Math.max(0,Math.min(1,r))};function ha(r,N,F,h){var m=ch.DC(N,h);
ch.call(this,r,m,F)}ha.prototype=new ch;function dP(){jZ.call(this);this.if=null;this.$h=new gv;this.$h.U(v.E.o,this.a7l,this);
this.$h.parent=this;this.vO=new g$([12,14,0],1,150,"px",0,!0);this.vO.U(v.E.o,this.cy,this);this.vO.parent=this;
this.u4=new g$([16,0],.01,100,"px",2,!0,null,5);this.u4.U(v.E.o,this.cy,this);this.u4.parent=this;this.wY=new bf("Auto");
this.wY.U(v.E.o,this.cy,this);this.Kf=new g$([16,1],-500,5e3,"%",0,!0);this.Kf.U(v.E.o,this.cy,this);
this.Kf.parent=this;this.he=new g$("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.he.U(v.E.o,this.cy,this);
this.he.parent=this;this.t_=new g$("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.t_.U(v.E.o,this.cy,this);
this.t_.parent=this;this.Wf=new g$([16,2],-10,10,"px");this.Wf.U(v.E.o,this.cy,this);this.Wf.parent=this;
this.Vx=new cw(!0);this.Vx.U(v.E.o,this.Ga,this);this.Vx.parent=this;this.rx=new cw(!0);this.rx.U(v.E.o,this.Ga,this);
this.rx.parent=this;this.ci=new cw(!0);this.ci.U(v.E.o,this.Ga,this);this.ci.parent=this;this.tg=new cw(!0);
this.tg.U(v.E.o,this.Ga,this);this.tg.parent=this;this.Jl=new bf([2,3]);this.Jl.U(v.E.o,this.cy,this);
this.Sx=new bf([14,9]);this.Sx.U(v.E.o,this.cy,this);this.HA=new bf([12,46]);this.HA.U(v.E.o,this.cy,this);
this.mi=new d_("...",null,null,!0);this.mi.m.style.marginLeft="-8px";W.vN(this.mi.m,this.ajl.bind(this));
this.HE=new jZ;var r=this.HE.m=W._("div","floatcont form");this.HE.parent=this;this.Z_=new g$([12,41],1,20,"px",0,!0,!0);
this.Z_.m.style.marginLeft="16px";this.Z_.U(v.E.o,this.cy,this);this.Z_.parent=this.HE;r.appendChild(this.rx.m);
r.appendChild(this.Jl.m);W.ke(this.HE.m);r.appendChild(this.ci.m);r.appendChild(this.Sx.m);r.appendChild(this.Z_.m);
W.ke(this.HE.m);r.appendChild(this.tg.m);r.appendChild(this.HA.m);this.OK=new d_("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.ek=new d_("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.vd=new d_("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.cd=new d_("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.UE=new d_("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.I$=new d_("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.IM=new d_("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Id=new d_("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var N=[this.OK,this.ek,this.vd,this.cd,this.UE,this.I$,this.IM,this.Id];
for(var R=0;R<N.length;R++)N[R].U("click",this.ak9,this);this.ZC=new d_("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.X0=new d_("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.j6=new d_("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a0o=new d_("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.adE=new d_("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a69=new d_("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a9L=new d_("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.t3=[this.ZC,this.X0,this.j6,this.a0o,this.adE,this.a69,this.a9L];for(var R=0;R<this.t3.length;R++)this.t3[R].U("click",this.cy,this);
var F=["lind","rind","flind","bind","aind"],h=[];for(var R=0;R<5;R++)h.push("<img src=\""+PIMG["par/"+F[R]]+"\" class=\"autoscale gsicon\" /> ");
this.o0=new g$(h[0],-20,20,"px");this.o0.U(v.E.o,this.cy,this);this.o0.parent=this;this.ss=new g$(h[1],-20,20,"px");
this.ss.U(v.E.o,this.cy,this);this.ss.parent=this;this.ZQ=new g$(h[2],-20,20,"px");this.ZQ.U(v.E.o,this.cy,this);
this.ZQ.parent=this;this.RD=new g$(h[3],-20,20,"px");this.RD.U(v.E.o,this.cy,this);this.RD.parent=this;
this.Lb=new g$(h[4],-20,20,"px");this.Lb.U(v.E.o,this.cy,this);this.Lb.parent=this;this.Cy=new ch([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.Cy.U(v.E.o,this.cy,this);this.Cy.parent=this;this.KP=new g$(["Auto VAR0",[16,0]],0,500,"%");this.KP.U(v.E.o,this.cy,this);
this.KP.parent=this}dP.prototype=new jZ;dP.prototype.ajl=function(r){if(W.Xs(this.HE.m))return;r.stopPropagation();
var N=this.mi.m.getBoundingClientRect(),F=new gf(v.E.S,!0);F.data={V:v.c.hN,f3:this.HE,x:N.left,y:N.top+N.height+4};
this.L(F)};dP.prototype.f=function(){this.$h.f();this.vO.f();this.u4.f();this.Kf.f();this.Wf.f();this.he.f();
this.t_.f();this.Jl.f();this.Sx.f();this.HA.f();this.Z_.f();this.Cy.f();this.KP.f()};dP.prototype.b=function(r,N,F){this.Fj=JSON.parse(JSON.stringify(r));
var h=this.Fj,m=h.AY,O=h.hS;this.OK.b(m.FauxBold!=null?m.FauxBold:!1);this.ek.b(m.FauxItalic!=null?m.FauxItalic:!1);
this.vd.b(m.FontCaps==2);this.cd.b(m.FontCaps==1);this.I$.b(m.FontBaseline==1);this.UE.b(m.FontBaseline==2);
this.IM.b(m.Underline);this.Id.b(m.Strikethrough);this.$h.b(m.Font==null?null:h.f7[m.Font].Name,N,F);
var e=m.FontSize==null?20:m.FontSize;this.vO.b(e);var P=m.Tracking;this.Kf.b(P==null?0:P);this.Z_.b(m._LineWidth!=null?m._LineWidth:1);
this.u4.b(m.Leading!=null&&m.Leading!=0?m.Leading:e);this.wY.b(m.AutoLeading);this.he.b((m.VerticalScale!=null?m.VerticalScale:0)*100);
this.t_.b((m.HorizontalScale!=null?m.HorizontalScale:0)*100);this.Wf.b(m.BaselineShift!=null?m.BaselineShift:0);
this.Jl.b(m.FillFlag!=null?m.FillFlag:!1);this.Sx.b(m.StrokeFlag!=null?m.StrokeFlag:!1);this.HA.b(m._FillBackgroundFlag!=null?m._FillBackgroundFlag:!1);
this.rb(m.FillColor,this.Vx);this.rb(m.FillColor,this.rx);this.rb(m.StrokeColor,this.ci);this.rb(m._FillBackgroundColor,this.tg);
var B=O._Direction!=null?O._Direction:0,s=gQ.iQ(O);for(var R=0;R<this.t3.length;R++)this.t3[R].b(s==R);
this.Cy.b(B);this.KP.b((O.AutoLeading!=null?O.AutoLeading:1.2)*100);this.o0.b(O.StartIndent!=null?O.StartIndent:0);
this.ss.b(O.EndIndent!=null?O.EndIndent:0);this.ZQ.b(O.FirstLineIndent!=null?O.FirstLineIndent:0);this.RD.b(O.SpaceBefore!=null?O.SpaceBefore:0);
this.Lb.b(O.SpaceAfter!=null?O.SpaceAfter:0)};dP.prototype.rb=function(r,N){if(r){var F=gQ.Mq(r);N.X7(Math.round(F.Z)<<16|Math.round(F.z)<<8|Math.round(F.J))}else N.X7(0)};
dP.prototype.qM=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.nM,Xa:bC.Ni,Fj:this.Fj};this.L(r);var r=new gf(v.E.u,!0);
r.s=z.tI;r.data={V:"updateStyles"};this.L(r)};dP.prototype.ak9=function(r){var N=this.Fj.AY,F=r.target,h=!F.Zv();
if(F==this.OK)N.FauxBold=h;if(F==this.ek)N.FauxItalic=h;if(F==this.vd)N.FontCaps=h?2:0;if(F==this.cd)N.FontCaps=h?1:0;
if(F==this.I$)N.FontBaseline=h?1:0;if(F==this.UE)N.FontBaseline=h?2:0;if(F==this.IM)N.Underline=h;if(F==this.Id)N.Strikethrough=h;
this.qM()};dP.prototype.cy=function(r){var N=this.Fj.AY,F=this.Fj.hS,h=r.target;if(h==this.Kf){var m=this.Kf.k();
N.Tracking=m}if(h==this.u4){N.AutoLeading=!1;N.Leading=this.u4.k()}if(h==this.wY){N.AutoLeading=this.wY.k()}if(h==this.Z_)N._LineWidth=h.k();
if(h==this.vO)N.FontSize=h.k();if(h==this.he)N.VerticalScale=h.k()/100;if(h==this.t_)N.HorizontalScale=h.k()/100;
if(h==this.Wf)N.BaselineShift=h.k();if(h==this.Jl)N.FillFlag=h.k();if(h==this.Sx)N.StrokeFlag=h.k();
if(h==this.HA)N._FillBackgroundFlag=h.k();if(this.t3.indexOf(h)!=-1){F.Justification=gQ.iQ(F,this.t3.indexOf(h))}if(h==this.o0)F.StartIndent=h.k();
if(h==this.ss)F.EndIndent=h.k();if(h==this.ZQ)F.FirstLineIndent=h.k();if(h==this.RD)F.SpaceBefore=h.k();
if(h==this.Lb)F.SpaceAfter=h.k();if(h==this.Cy)F._Direction=h.k();if(h==this.KP)F.AutoLeading=h.k()/100;
this.qM()};dP.prototype.a7l=function(r){var N=this.Fj,F=this.$h.k(),h=-1;for(var R=0;R<N.f7.length;R++)if(N.f7[R].Name==F)h=R;
if(h==-1){h=N.f7.length;var m=JSON.parse(JSON.stringify(N.f7[0]));m.Name=F;N.f7.splice(h,0,m)}N.AY.Font=h;
this.qM()};dP.prototype.Ga=function(r){var N=r.target,F=N.a34(),h={Type:1,Values:[1,(F>>16&255)/255,(F>>8&255)/255,(F>>0&255)/255]};
for(var R=0;R<4;R++)h.Values[R]=Math.round(h.Values[R]*1e3)/1e3;var m=N==this.Vx||N==this.rx?0:N==this.ci?1:2;
this.Fj.AY[["FillColor","StrokeColor","_FillBackgroundColor"][m]]=h;this.qM()};function gv(){jZ.call(this);
this.m=W._("span","fontinput");this.cI=null;this.MG=null;this.YN=null;this.Ks="";this.cp={};this.DN=[];
this.Kb={};this.av6={};this.ap=!1;this.OO=W._("button","fitem");this.OO.setAttribute("style","width:9em;");
this.OO.textContent="Family Name \u25BC";this.m.appendChild(this.OO);W.vN(this.OO,this.asc.bind(this));
this.Pn=new jZ;this.Pn.parent=this;this.Pn.m=W._("div","floatcont");this.Co=new hq(6.8);this.Pn.m.appendChild(this.Co.als());
this.Co.parent=this.Pn;this.Co.U(v.E.o,this.j2,this);var r=W._("div","form");this.Pn.m.appendChild(r);
this.MA=new d_(W.qV("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.MA.U("click",this.aiQ,this);
r.appendChild(this.MA.m);this.HH=new g8([12,86],null,8.4);this.HH.U("input",this.wf,this);r.appendChild(this.HH.m);
var N=this.a5j=new d_([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);N.U("click",this.ahm,this);
N.m.style.marginLeft="1.5em";N.m.style.marginRight="0";r.appendChild(N.m);this.jj=W._("span","fitem imageset scrollable");
this.jj.style.height="30em";this.Pn.m.appendChild(this.jj);this.jj.addEventListener("scroll",this.a9O.bind(this),!1);
this.iV=W._("button","fitem");this.iV.setAttribute("style","width:7em;");this.iV.textContent="SubFamily Name \u25BC";
this.m.appendChild(this.iV);W.vN(this.iV,this.asc.bind(this));this.$A=new jZ;this.$A.parent=this;this.$A.m=W._("div","floatcont");
this.H4=W._("span","fitem imageset scrollable marged");this.$A.m.appendChild(this.H4);this.abU=this.a5k.bind(this);
this.afF=this.a81.bind(this)}gv.prototype=new jZ;gv.prototype.a9O=function(r){var N=this.jj.scrollTop,F=this.DN,h=Math.floor(N/27),m=Math.min(h+20,F.length);
for(var R=h;R<m;R++)this.apy(F[R])};gv.prototype.ahm=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.$Q,asA:".otf,.ttf,.ttc"};
this.L(r)};gv.prototype.f=function(){this.Co.f();this.a5j.f();this.MA.o6(W.qV("tools/cshape",null,"autoscale"))};
gv.prototype.aiQ=function(r){this.MA.b(!this.MA.Zv());this.j2()};gv.prototype.wf=function(r){this.Ks=this.HH.k().toLowerCase();
this.j2()};gv.prototype.asc=function(r){W.o8(r);var N=r.currentTarget,F=N.getBoundingClientRect(),h=N==this.OO,m=h?this.Pn:this.$A;
if(W.Xs(m.m)){this.asj(m);return}if(!h&&this.cI.VZ()[this.YN]==null)return;var O=new gf(v.E.S,!0);O.data={V:v.c.hN,f3:m,x:F.left,y:F.top+F.height};
this.L(O);if(h){this.j2(null,!0)}};gv.prototype.a5k=function(r){var N=r.currentTarget.firstChild.nextSibling.textContent;
if(r.target.tagName.toLowerCase()=="button"){var F=this.MG.slice(0),h=F.indexOf(N);if(h==-1){F=F.slice(Math.max(0,F.length-29));
F.push(N)}else F.splice(h,1);var m=new gf(v.E.S,!0);m.data={V:v.c.nM,Xa:bC.MV,oC:F};this.L(m);this.ap=!0;
this.j2()}else{this.atX(N,null)}};gv.prototype.a81=function(r){this.atX(null,r.currentTarget.firstChild.textContent)};
gv.prototype.atX=function(r,N){var F=r==null?this.$A:this.Pn,h=this.cI;if(r==null)r=h.VZ()[this.YN][0];
else{var m=h.cq(r),O=h.VZ()[this.YN];N=cI.gp(m,O?O[1]:"regular")}var e=h.aJ(r,N)[2];this.b(e,h);this.L(new gf(v.E.o,!1));
this.asj(F);this.j2()};gv.prototype.asj=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.sc,f3:r};this.L(N)};
gv.prototype.k=function(){return this.YN};gv.prototype.b=function(r,N,F){var h=this.cI;if(r!=null)this.YN=r;
else r=this.YN;this.cI=N;this.MG=F;if(r!=null){var m=N.VZ()[r],O,e;if(m==null){O="- "+r;e="-------"}else{O=m[0];
e=m[1];var P=N.cq(O);P.sort(cI.ajM);this.H4.textContent="";for(var R=0;R<P.length;R++){var m=N.aJ(O,P[R]);
if(!this.Co.Xp(m))continue;var B=this.ahC(m,!1);this.H4.appendChild(B)}}this.OO.textContent=O.substring(0,15)+" \u25BC";
this.OO.setAttribute("title",O+", \""+r+"\"");this.iV.textContent=e.substring(0,10)+" \u25BC";this.iV.setAttribute("title",e)}};
gv.prototype.j2=function(r,N){var F=this.cI.VZ()[this.YN],h=this.MG,m=this.cI.$0();this.DN=[];for(var O in m){var e=h.indexOf(O)!=-1,P=this.cI.cq(O),B=!1;
for(var R=0;R<P.length;R++){var s=this.cI.aJ(O,P[R]),Y=!0;if(this.Ks.length>0&&s[0].toLowerCase().indexOf(this.Ks)==-1)Y=!1;
else if(!this.Co.Xp(s))Y=!1;else if(this.MA.Zv()&&!e)Y=!1;if(Y)B=!0}var D=this.cp[O];if(D==null){var c=cI.gp(m[O],"regular"),o=this.cI.aJ(O,c),D=this.ahC(o,!0);
this.cp[O]=D;this.jj.appendChild(D);this.Kb[O]="[true,false,false]"}if(B)this.DN.push(O);var H=F!=null&&F[0]==O;
this.av6[O]="["+B+","+H+","+e+"]";if(!N)this.apy(O)}if(F&&!this.ap){var x=this.cp[F[0]];this.jj.scrollTop=x.offsetTop-210}this.a9O();
this.ap=!1};gv.prototype.apy=function(r){var N=this.cp[r];if(N.firstChild==null){var F=this.cI.$0(),h=cI.gp(F[r],"regular"),m=this.cI.aJ(r,h);
this.auX(N,m,!0)}var O=this.Kb[r],e=this.av6[r];if(O==e)return;var P=JSON.parse(O),B=JSON.parse(e);if(P[0]!=B[0]||P[1]!=B[1]){var s=B[0]?"":"display:none; ";
if(B[1])s+="background-color:rgba(0,0,0,0.13);";N.setAttribute("style",s)}if(P[2]!=B[2])N.firstChild.setAttribute("style","opacity: "+(B[2]?"1":"0.2"));
this.Kb[r]=e};gv.prototype.ahC=function(r,N){var F=W._("div","fontitem");if(!N)this.auX(F,r,N);return F};
gv.prototype.auX=function(r,N,F){var h=N[F?0:1],m=F?this.abU:this.afF,B="";r.addEventListener("click",m,!1);
if(F)r.appendChild(W._("button","star"));var O=W._("span","label");O.setAttribute("title",h);O.textContent=h;
r.appendChild(O);var e=W.G(),P=1/e,s=cI.AK*P,Y=cI.X4*P;if(1<e&&e<1.5)B="width:"+s+"px; height:"+Y+"px;";
var D=W._("span","thumb gsicon");if(N.ajq){B+="background: url("+N.ajq+");";if(1<e&&e<1.5)B+="background-size: "+s+"px "+Y+"px;"}else{var c=Math.ceil(FNTS.list.length/cI.cols),o=Math.floor(N.Jz/c),H=N.Jz%c,x=o*cI.AK,Q=H*cI.X4;
if(1<e&&e<1.5){B+="background-size: "+cI.cols*s+"px "+c*Y+"px;";x*=P;Q*=P}B+="background-position:-"+x+"px -"+Q+"px;"}D.setAttribute("style",B);
r.appendChild(D)};function hq(r){jZ.call(this);this.m=W._("button","fitem bbtn");this.m.addEventListener("click",this.afJ.bind(this),!1);
this.HE=new jZ;this.HE.m=W._("div","floatcont");this.HE.parent=this;this.Yp=W._("div","flexrow");this.HE.m.appendChild(this.Yp);
this.Q8=[];this.aB=[];var N=this.Yp,F=W._("div",""),h=W._("div","");N.appendChild(F);N.appendChild(h);
this.eC=[];for(var R=0;R<FNTS.cats.length;R++)this.eC.push({name:FNTS.cats[R],index:R,jQ:0});this.uY=new bf([7,0]);
this.uY.b(!0);this.uY.U(v.E.o,this.a6p,this);F.appendChild(this.uY.m);this.Jc=W._("div","vlist marged scrollable");
this.Jc.setAttribute("style","width:10.3em; height:"+r+"em; ");F.appendChild(this.Jc);this.CJ=[];for(var R=0;
R<this.eC.length;R++){var m=this.eC[R],O=new bf(m.name);this.CJ.push(O);O.U(v.E.o,this.aec,this);O.b(!0);
this.Jc.appendChild(O.m);this.Q8.push(1)}this.avH=new bf([7,0]);this.avH.U(v.E.o,this.a5O,this);this.Sb=W._("div","vlist marged scrollable");
this.Sb.setAttribute("style","width:8.6em; height:"+(r+1.5)+"em; ");h.appendChild(this.Sb);this.Gs=[];
for(var R=0;R<FNTS.subsetNames.length;R++){var O=new bf(FNTS.subsetNames[R]);this.Gs.push(O);O.U(v.E.o,this.afh,this);
O.b(!1);this.Sb.appendChild(O.m);this.aB.push(O.k()?1:0)}}hq.prototype=new jZ;hq.prototype.a62=function(r){var N=this.Gs;
for(var R=0;R<N.length;R++){var F=(r>>>R&1)==1;this.aB[R]=F;N[R].b(F)}};hq.prototype.als=function(){return this.Yp};
hq.prototype.f=function(){this.m.textContent=ab.get([25,1,0])+" \u25BC";this.uY.f();this.avH.f()};hq.prototype.afJ=function(r){var N=this.m.getBoundingClientRect(),F=new gf(v.E.S,!0);
F.data={V:v.c.hN,f3:this.HE,x:N.left,y:N.top+N.height,KQ:!1};this.L(F)};hq.prototype.Xp=function(r){if(this.Q8[r[4]]==0)return!1;
else for(var N=0;N<this.aB.length;N++)if(this.aB[N]==1&&(r[3]>>>N&1)==0)return!1;return!0};hq.prototype.a6p=function(r){var N=r.target.k(),F=this.CJ,h=this.Q8;
for(var R=0;R<F.length;R++){F[R].b(N);h[R]=N?1:0}this.L(new gf(v.E.o,!1))};hq.prototype.a5O=function(r){var N=r.target.k(),F=this.Gs,h=this.aB;
for(var R=0;R<F.length;R++){F[R].b(N);h[R]=N?1:0}this.L(new gf(v.E.o,!1))};hq.prototype.aec=function(r){var R=this.CJ.indexOf(r.target),N=this.eC[R].index;
this.Q8[N]=1-this.Q8[N];this.L(new gf(v.E.o,!1));this.agH(this.CJ,this.uY)};hq.prototype.afh=function(r){var R=this.Gs.indexOf(r.target);
this.aB[R]=1-this.aB[R];this.L(new gf(v.E.o,!1))};hq.prototype.agH=function(r,N){var F=!0;for(var R=0;
R<r.length;R++)F=F&&r[R].k();N.b(F)};function c$(r,N,F){he.call(this,N,!0,"gradientbutton",18,10,bC.Hp);
this.Fp=-1;this.lo=-1;this.atB=null;this.amm=r;this.x4=F}c$.prototype=new he;c$.prototype.Wg=function(r){var N=this.S6;
this.b(N[this.K9.k()]);this.L(new gf(v.E.o))};c$.prototype.g9=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.pr,i7:"gradienteditor",X:this.ko,xV:this.av7.bind(this),C9:this.x4};
this.L(N)};c$.prototype.av7=function(r){this.b(r);this.L(new gf(v.E.o))};c$.prototype.uu=function(){if(!this.rQ)return;
var r=Math.floor(36*W.G()),N=Math.floor(36*W.G()),F=[],h=[],m=this.S6;for(var R=0;R<m.length;R++){var O=m[R];
h.push(O.Nm?O.Nm.v.split("=").pop():"");var e=z.ji.e9(O,r,N,Math.PI/4,this.Fp,this.lo);F.push(e)}this.K9.IS(F,h,r,N);
this.rQ=!1};c$.prototype.KV=function(r,N){this.a79(this.ko,r,N)};c$.prototype.b=function(r){this.a79(r,this.Fp,this.lo)};
c$.prototype.a79=function(r,N,F){this.Fp=N;this.lo=F;if(r==null)return;var h=JSON.stringify(r),m=h+N+","+F;
if(m==this.atB)return;this.atB=m;this.ko=JSON.parse(h);var O=Math.floor(80*W.G()),e=Math.floor(16*W.G()),P=z.ji.e9(this.ko,O,e,0,this.Fp,this.lo);
this.JH.setAttribute("src",P);W.HR(this.JH,O,e)};c$.prototype.k=function(){var r;if(this.amm)r=z.ji.akc(this.ko,this.Fp,this.lo);
else r=JSON.parse(JSON.stringify(this.ko));return r};function jz(r){he.call(this,r,!1,"swatchbutton",16,8.75,bC.G6)}jz.prototype=new he;
jz.prototype.Wg=function(r){this.b(this.S6[r.target.k()]);this.L(new gf(v.E.o))};jz.prototype.uu=function(){if(!this.rQ)return;
var r=Date.now(),N=Math.floor(10*W.G()),F=Math.floor(10*W.G()),h=[],m=[],O=this.S6;for(var R=0;R<O.length;
R++){m.push(O[R].vS?O[R].vS.split("=").pop():"");h.push(jz.e9(O[R],N,F))}this.K9.IS(h,m,N,F);this.rQ=!1};
jz.prototype.b=function(r){this.ko=JSON.parse(JSON.stringify(r));this.LR()};jz.prototype.LR=function(){var r=Math.floor(24*W.G()),N=Math.floor(20*W.G()),F=jz.e9(this.ko,r,N);
this.JH.setAttribute("src",F);W.HR(this.JH,r,N)};jz.prototype.k=function(){return JSON.parse(JSON.stringify(this.ko))};
jz.Fa={};jz.e9=function(r,N,F){var h=jz.Az,m=jz.Fa,O=w.GG(r.Z<<16|r.z<<8|r.J);if(m[O])return m[O];if(h==null){var e=W._("canvas");
h=jz.Az=e.getContext("2d")}var e=h.canvas;e.width=N;e.height=F;h.fillStyle="#"+O;h.fillRect(0,0,N,F);
var P=m[O]=e.toDataURL();return P};function i8(r,N,F,h,m){if(r==null)r=!1;if(N==null)N=!1;if(F==null)F=!1;
jZ.call(this);this.h5=new gS;this.BM=new gS;this.k0=72;this.fN=72;this.HD=!0;this.m=W._("span");this.mx=new g$([12,41],0,0,null,0,!1,!0);
this.m.appendChild(this.mx.m);this.mx.U(v.E.o,this.qK,this);var O=["px","%"];if(r)O=O.concat(["mm","in"]);
if(m){O=[[12,76,2],[12,76,6]];if(r)O=O.concat([[12,76,5],[12,76,3]])}this.BV=new b2(null,O);this.m.appendChild(this.BV.m);
W.ke(this.m);this.BV.U(v.E.o,this.qK,this);this.e1=new g$([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.e1.m);
this.e1.U(v.E.o,this.qK,this);var e=new d_("\u21F5",!1,null,!0);e.U("click",this.aim,this);this.CP=new d_("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.CP.U("click",this.qK,this);this.a4B=new bB("");if(N){this.m.appendChild(this.CP.m);this.m.appendChild(this.a4B.m);
this.CP.D2()}else this.m.appendChild(e.m);this.Wi=new g$("DPI",0,0,null,3,!1,!0,4);if(r&&h==null){W.ke(this.m);
this.m.appendChild(this.Wi.m)}this.Wi.U(v.E.o,this.qK,this);this.Mf=new bf([12,23,1]);this.Mf.U(v.E.o,this.qK,this);
if(F){W.ke(this.m);this.m.appendChild(this.Mf.m)}W.ke(this.m)}i8.prototype=new jZ;i8.prototype.mo=function(){this.mx.mo()};
i8.prototype.ana=function(){this.HD=!1;if(this.BV.k()==0){this.BV.b(3);this.fi()}};i8.prototype.aem=function(){this.HD=!0};
i8.prototype.a3S=function(r){this.CP.b(r)};i8.prototype.f=function(){this.mx.f();this.e1.f();this.Wi.f();
this.CP.f();this.Mf.f();this.BV.f()};i8.prototype.aim=function(r){var N=this.BM.x;this.BM.x=this.BM.y;
this.BM.y=N;this.fi();this.L(new gf(v.E.o,!1))};i8.prototype.qK=function(r){if(r.target==this.BV&&!this.HD&&this.BV.k()==0)this.BV.b(3);
if(r.target==this.BV||r.target==this.Mf){this.fi();return}if(r.target==this.CP)r.target.b(!r.target.k());
var N=this.h5,F=parseFloat(this.mx.k());if(isNaN(F))F=1;var h=parseFloat(this.e1.k());if(isNaN(h))h=1;
var m=this.BV.k();if(this.HD){var O=this.fN;if(m==1){F=this.h5.x*(F/100);h=this.h5.y*(h/100)}var e=[1,1,25.4/O,1/O][m];
F/=e;h/=e;if(this.Mf.k()){F+=this.h5.x;h+=this.h5.y}if(r.target==this.Wi){var P=this.Wi.k();if(!0){var B=P/O;
F*=B;h*=B}O=P}if(this.CP.k()){if(r.target==this.mx)h=F*(N.y/N.x);else F=h*(N.x/N.y)}F=Math.max(Math.abs(F),1);
h=Math.max(Math.abs(h),1)}else{var O=this.k0;if(r.target==this.Wi)O=this.Wi.k();else{if(this.CP.k()){if(r.target==this.mx)h=F*(N.y/N.x);
else F=h*(N.x/N.y)}var e=[1,1,25.4/O,1/O][m],s=F/(m==1?100:N.x*e);O=O/s}F=N.x;h=N.y}this.BM=new gS(Math.round(F),Math.round(h));
this.fN=O;this.fi();this.L(new gf(v.E.o,!1))};i8.prototype.av0=function(R){this.BV.b(R);this.fi()};i8.prototype.b=function(r,N,F){if(F!=!0)this.h5=r.clone();
this.BM=r.clone();if(N!=null){this.k0=N;this.fN=N}this.fi()};i8.prototype.fi=function(){var r=this.BM.x,N=this.BM.y,F=this.fN,h=(r/N).toFixed(3);
while(h.charAt(h.length-1)=="0")h=h.substring(0,h.length-1);if(h.charAt(h.length-1)==".")h=h.substring(0,h.length-1);
var m="  "+h+" : 1",O=function(Y,D){while(D!=0){var c=D;D=Y%D;Y=c}return Y},e=O(r,N);if(Math.min(r,N)/e<10)m="  "+Math.round(r/e)+" : "+Math.round(N/e);
this.a4B.b(m);if(this.Mf.k()){r-=this.h5.x;N-=this.h5.y}var P=this.BV.k();if(P==1){if(this.HD){r=100*r/this.h5.x;
N=100*N/this.h5.y}else{r=N=100*this.k0/this.fN}}else{r=Math.round(r);N=Math.round(N)}var B=[1,1,25.4/F,1/F][P];
r*=B;N*=B;var s=P==1||P==3?2:0;this.mx.$K(s);this.e1.$K(s);this.mx.b(r);this.e1.b(N);this.Wi.b(F)};i8.prototype.k=function(){return this.BM.clone()};
i8.prototype.ea=function(){return this.fN};function hT(r,N){jZ.call(this);var F=r==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.SN=r;this.am_=N;this.VY=1;this.PF=[1,1,0];var h=this.m=W._("div","numlist"),m=this.Vf=[];for(var R=0;
R<4;R++){var O=new g$(F[R],0,0,null,2,!1,!0,4);O.U(v.E.o,this.qK,this);h.appendChild(O.m);m[R]=O;if(R==1||R==3)W.ke(h)}m[4]=new bf(r==0?[12,51]:[12,91,2]);
m[4].b(!0);h.appendChild(m[4].m)}hT.prototype=new jZ;hT.prototype.f=function(){var r=this.Vf;for(var R=0;
R<5;R++)r[R].f();if(this.SN==0)W.uK(r[0],r[2])};hT.prototype.b=function(r,N,F){if(N)this.PF=N;N=this.PF;
var h=F?r:this.SN==0?[r[2],r[0],r[3],r[1]]:[r[0],r[1],r[3],r[2]];this.VY=h[0]/h[2];for(var R=0;R<4;R++){var m=this.Vf[R];
m.$K(N[2]==0&&this.am_?0:2);m.b(w.Lt.agz(h[R],N[0],N[1],N[2]))}};hT.prototype.k=function(r){var N=[],F=this.PF;
for(var R=0;R<4;R++){var h=w.Lt.Ky(this.Vf[R].k(),F[0],F[1],F[2]);N[R]=this.am_?Math.round(h):h}return r?N:this.SN==0?[N[1],N[3],N[0],N[2]]:[N[0],N[1],N[3],N[2]]};
hT.prototype.qK=function(r){var N=this.SN,F=this.Vf.indexOf(r.currentTarget),h=this.k(!0),m=this.Vf[4].k();
if(N==0){h[0]=Math.max(1,h[0]);h[2]=Math.max(1,h[2]);if(m&&F==0)h[2]=h[0]/this.VY;if(m&&F==2)h[0]=h[2]*this.VY}if(N==1){h[F]=Math.max(0,h[F]);
if(m)for(var R=0;R<4;R++)h[R]=h[F]}this.b(h,null,!0);this.L(new gf(v.E.o,!1))};function h8(){jZ.call(this);
this.L8=0;this.Fz=[0,0,1,1,100,100];this.m=W._("span","fitem");this.fA=new b2(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.fA.m);this.fA.U(v.E.o,this.qK,this);this.mx=new g$("W",0,0,null,0,!1,!0);this.m.appendChild(this.mx.m);
this.mx.U(v.E.o,this.qK,this);this.e1=new g$("H",0,0,null,0,!1,!0);this.m.appendChild(this.e1.m);this.e1.U(v.E.o,this.qK,this);
this.b({xa:0,x:0,y:0})}h8.prototype=new jZ;h8.prototype.f=function(){W.uK(this.mx,this.e1);this.fA.f()};
h8.prototype.qK=function(r){if(r.target==this.fA){var N=this.k(),F=this.Fz;F[this.L8*2]=N.x;F[this.L8*2+1]=N.y;
this.L8=N.xa;this.b({xa:N.xa,x:F[N.xa*2],y:F[N.xa*2+1]})}if(this.mx.k()<1)this.mx.b(1);if(this.e1.k()<1)this.e1.b(1);
this.L(new gf(v.E.o,!1))};h8.prototype.b=function(r){this.fA.b(r.xa);this.mx.b(r.x);this.e1.b(r.y);if(r.xa==0){this.mx.Xo();
this.e1.Xo()}else{this.mx.RK();this.e1.RK()}};h8.prototype.k=function(){return{xa:this.fA.k(),x:this.mx.k(),y:this.e1.k()}};
function cO(r){jZ.call(this);this.m=W._("span","");this.a2K=r;this.Jy=new em("Off X",-100,100,r?"%":"px",0,!1);
this.Tn=new em("Off Y",-100,100,r?"%":"px",0,!1);this.Jy.U(v.E.o,this.qK,this);this.Tn.U(v.E.o,this.qK,this);
this.m.appendChild(this.Jy.m);this.m.appendChild(this.Tn.m)}cO.prototype=new jZ;cO.prototype.f=function(){this.Jy.f();
this.Tn.f()};cO.prototype.qK=function(r){this.L(new gf(v.E.o,!1))};cO.prototype.asq=function(r){this.Jy.b(r.x);
this.Tn.b(r.y)};cO.prototype.aju=function(){return new gS(this.Jy.k(),this.Tn.k())};cO.prototype.b=function(r,N){var F=r.Hrzn.v,h=r.Vrtc.v;
if(this.a2K){F=F.val;h=h.val}this.Jy.b(F);this.Tn.b(h);if(N==!0)this.qK()};cO.prototype.k=function(){var r=this.Jy.k(),N=this.Tn.k();
if(this.a2K)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:r}},Vrtc:{t:"UntF",v:{type:"#Prc",val:N}}};
else return{classID:"Pnt",Hrzn:{v:r,t:"doub"},Vrtc:{v:N,t:"doub"}}};function hF(){jZ.call(this);this.m=W._("span","fitem strokebutton");
this.Pz=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.xc=JSON.parse(JSON.stringify(an.mr.default));
this.Po=W._("button");this.m.appendChild(this.Po);W.vN(this.m,this.ly.bind(this));var r=W._("canvas","gsicon");
this.Az=r.getContext("2d");this.Po.appendChild(r);var N=W._("span");N.textContent=" \u25BC";this.Po.appendChild(N);
this.HE=new jZ;this.HE.parent=this;this.HE.m=W._("div","floatcont form");var F=this.HE.m;F.setAttribute("style","width: 14em;");
this.cp=[new b2([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ch([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ch([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new g8([19,9,2])];
for(var R=0;R<this.cp.length;R++){var h=this.cp[R];F.appendChild(h.m);var m=R<4?v.E.o:"click";h.U(m,this.qK,this)}W.ke(F);
this.JU=[];var O=this.al_.bind(this);for(var R=0;R<this.Pz.length;R++){var e=W._("button","fitem");this.JU.push(e);
F.appendChild(e);e.addEventListener("click",O,!1);var r=W._("canvas","gsicon"),P=r.getContext("2d");
e.appendChild(r);this.aiH(P,40,20,this.Pz[R])}}hF.prototype=new jZ;hF.prototype.ly=function(r){if(W.Xs(this.HE.m))return;
r.stopPropagation();var N=this.Po.getBoundingClientRect(),F=new gf(v.E.S,!0);F.data={V:v.c.hN,f3:this.HE,x:N.left,y:N.top+N.height+4};
this.L(F)};hF.prototype.qK=function(r){var N=this.cp,F=N.indexOf(r.target),h=[];for(var R=0;R<4;R++)h.push(N[R].k());
this.xc=this.aqc(h);this.L(new gf(v.E.o,!1))};hF.prototype.al_=function(r){var N=this.JU.indexOf(r.currentTarget);
this.b(this.aqc(this.Pz[N]));this.L(new gf(v.E.o,!1))};hF.prototype.aqc=function(r){var N=JSON.parse(JSON.stringify(this.xc)),F=r[0],h=r[1],m=r[2],O=r[3];
if(F!=null)N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=an.mr.bj[F];if(h!=null)N.strokeStyleLineCapType.v.strokeStyleLineCapType=an.mr._6[h];
if(m!=null)N.strokeStyleLineJoinType.v.strokeStyleLineJoinType=an.mr.join[m];var e=N.strokeStyleLineDashSet.v=[];
O=O.split(" ");while((O.length&1)!=0)O.pop();for(var R=0;R<O.length;R++)e.push({t:"UntF",v:{type:"#Nne",val:parseInt(O[R])}});
return N};hF.prototype.f=function(){for(var R=0;R<this.cp.length;R++)this.cp[R].f()};hF.prototype.b=function(r){this.xc=JSON.parse(JSON.stringify(r));
var N=an.mr.bj.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment),F=an.mr._6.indexOf(r.strokeStyleLineCapType.v.strokeStyleLineCapType),h=an.mr.join.indexOf(r.strokeStyleLineJoinType.v.strokeStyleLineJoinType),m=[],O=r.strokeStyleLineDashSet.v;
for(var e=0;e<O.length;e++)m.push(O[e].v.val);var P=this.cp;P[0].b(N);P[1].b(F);P[2].b(h);P[3].b(m.join(" "));
var B=[];for(var R=0;R<4;R++)B.push(P[R].k());this.aiH(this.Az,40,16,B)};hF.prototype.k=function(){return JSON.parse(JSON.stringify(this.xc))};
hF.prototype.aiH=function(r,N,F,h){var m=h[0],O=h[1],e=h[2],P=h[3].split(" ").map(parseFloat);W.Pf(r.canvas,N,F);
var B=Math.min(5,this.xc.strokeStyleLineWidth.v.val);for(var R=0;R<P.length;R++)P[R]*=B;r.clearRect(0,0,N,F);
r.setLineDash(P);r.lineCap=["butt","round","square"][O];r.lineJoin=["miter","round","bevel"][e];r.lineWidth=B;
r.beginPath();r.moveTo(0,F/2);r.lineTo(N*2,F/2);r.stroke()};function ag(r){he.call(this,r,!1,"contourbutton",34,16,bC.Td,!0);
this.HH=new g8([12,86],null,16);this.HH.U("input",this.wf,this);this.HE.m.appendChild(this.HH.m);this.YL=null;
this.Ks="";this.ev=null;this.b(bv.T$())}ag.prototype=new he;ag.prototype.f=function(){he.prototype.f.call(this);
this.HH.f()};ag.prototype.Wg=function(r){this.b(this.YL[r.target.k()[0]]);this.L(new gf(v.E.o))};ag.prototype.wf=function(r){this.Ks=this.HH.k().toLowerCase();
this.ajx()};ag.aaW=!1;ag.prototype.uu=function(){if(!this.rQ)return;var r=this.S6;if(r==null||!ag.aaW){var N=new gf(v.E.S,!0);
N.data={V:v.c.Nm,Xa:{url:"rsrc/basic/fa_basic.csh"}};this.L(N);ag.aaW=!0}else{var F=Math.floor(38*W.G()),h=Math.floor(38*W.G());
this.ev=[];for(var R=0;R<r.length;R++)this.ev.push(ag.alv(r[R],F,h));this.ajx();this.rQ=!1}};ag.prototype.ajx=function(){var r=Math.floor(38*W.G()),N=Math.floor(38*W.G());
this.YL=[];var F=[],h=[],m=this.S6;for(var R=0;R<m.length;R++){if(m[R].no.toLowerCase().indexOf(this.Ks)==-1)continue;
this.YL.push(m[R]);F.push(this.ev[R]);h.push(m[R].no)}this.K9.IS(F,h,r,N)};ag.prototype.b=function(r){this.ko=ag.clone(r);
this.LR()};ag.prototype.LR=function(){var r=Math.floor(23*W.G()),N=Math.floor(23*W.G()),F=ag.alv(this.ko,r,N);
this.JH.setAttribute("src",F);W.HR(this.JH,r,N)};ag.prototype.k=function(){return ag.clone(this.ko)};
ag.clone=function(r){return{no:r.no,J6:r.J6,Y:C.Ug.sN(r.Y),$J:r.$J.clone()}};ag.D=null;ag.y4=null;ag.alv=function(r,N,F){var h=C.Ug.sN(r.Y),m=r.$J,O=Math.min(N/m.e,F/m.n)*.9,e=new hc;
e.translate(-.5,-.5);e.scale(.95,.95);e.translate(.5,.5);e.scale(O*m.e,O*m.n);w.H.nY(h,e);var P=new C.Ug;
P.Y=h;var B=P.$n();B.rect.x=Math.floor((N-B.rect.e)/2);B.rect.y=Math.floor((F-B.rect.n)/2);var s=w.B(B.rect.W()*4);
w.vr(B.channel,s,3);var Y=ag;if(Y.D==null)Y.D=W._("canvas");var D=Y.D,c=D.getContext("2d");if(D.width!=N||D.height!=F||Y.y4==null){D.width=N;
D.height=F;Y.y4=c.createImageData(N,F)}var o=Y.y4;o.data.fill(0);w.L3(s,B.rect,o.data,new fE(0,0,N,F));
c.putImageData(o,0,0);return D.toDataURL()};function eG(r){he.call(this,r,!1,"ICCButton",16,12,bC.Hk,!0);
this.K9.Kj(1)}eG.prototype=new he;eG.prototype.fY=function(){var r="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var R=0;R<r.length;R++)r[R]="luts/"+r[R]+".CUBE";return r};eG.prototype.Wg=function(r){this.b(this.S6[r.target.k()]);
this.L(new gf(v.E.o))};eG.prototype.uu=function(){if(!this.rQ)return;var r=Math.floor(1*W.G()),N=Math.floor(1*W.G()),F=[],h=[],m=this.S6;
for(var R=0;R<m.length;R++){var O=m[R].Nm.v.split("\\").pop().split("/").pop();h.push(O);F.push(eG.e9(m[R],r,N))}this.K9.IS(F,h,r,N);
this.rQ=!1};eG.prototype.b=function(r){this.ko=JSON.parse(JSON.stringify(r));this.LR()};eG.e9=function(r,N,F){var h=W._("canvas"),e="ICC / 3DL / look / cube";
h.width=N;h.height=F;var m=h.getContext("2d"),O=Math.floor(14*W.G());m.font=O+"px sans-serif";if(r.Nm)e=r.Nm.v.split("\\").pop().split("/").pop();
m.fillText(e,10,O);return h.toDataURL()};eG.prototype.LR=function(){var r=Math.floor(120*W.G()),N=Math.floor(20*W.G());
this.JH.setAttribute("src",eG.e9(this.ko,r,N));W.HR(this.JH,r,N)};eG.prototype.k=function(){return JSON.parse(JSON.stringify(this.ko))};
function iY(){jZ.call(this);this.kv=null;this.m=W._("span","fitem");this.on=new eF([14,9]);this.pJ=new g$(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.mI=new hF;this.Sa=[this.on,this.pJ,this.mI];for(var R=0;R<this.Sa.length;R++){var r=this.Sa[R];
this.m.appendChild(r.m);r.parent=this;r.U(v.E.o,this.qK,this)}}iY.prototype=new jZ;iY.prototype.f=function(){for(var R=0;
R<this.Sa.length;R++)this.Sa[R].f()};iY.prototype.Qr=function(r,N){this.on.Qr(r,N)};iY.prototype.qK=function(r){var N=this.kv,F=this.on.k(),h=F._h;
N.strokeEnabled.v=h!=0;if(h!=0){N.strokeStyleContent.v=F.PL;F.PL.classID=an.mr.gS[h-1]}N.strokeStyleLineWidth.v.val=this.pJ.k();
if(r.target==this.mI)N=this.mI.k();this.kv=N;this.L(new gf(v.E.o,!1))};iY.prototype.b=function(r,N,F){this.kv=JSON.parse(JSON.stringify(N));
var h=N.strokeEnabled.v,m=N.strokeStyleContent.v,O=h?{_h:1+an.mr.gS.indexOf(m.classID),PL:m}:{_h:0};
this.on.b(r,O,F);this.pJ.b(N.strokeStyleLineWidth.v.val);this.mI.b(N)};iY.prototype.k=function(){return JSON.parse(JSON.stringify(this.kv))};
function cQ(r){var N=[[18,0],[18,1],[18,2],[18,3]],F=ch.DC(["set/front","set/union","set/difference","set/intersection"]);
ch.call(this,r?[12,36]:null,F,N)}cQ.prototype=new ch;function dm(){jZ.call(this);this.m=W._("button","fitem bbtn");
W.vN(this.m,this.ly.bind(this));this.HE=new jZ;this.HE.m=W._("div","floatcont form");this.HE.m.setAttribute("style","max-width: 200px;");
this.HE.parent=this;var r=d5;this.Iq=[new bf("Start"),new bf("End"),new r([12,41],0,100,"px",null,!0,null,!0),new r([12,80,0],0,100,"px",null,!0,null,!0),new r("Concavity",-50,50,"%",null,null,null,!0)];
for(var R=0;R<this.Iq.length;R++){var N=this.Iq[R];N.parent=this;N.U(v.E.o,this.g0,this);this.HE.m.appendChild(N.m)}this.aes=W._("div");
this.HE.m.appendChild(this.aes)}dm.prototype=new jZ;dm.prototype.b=function(r){for(var R=0;R<5;R++)this.Iq[R].b(r[R]);
this.Fm()};dm.prototype.k=function(r){var N=[];for(var R=0;R<5;R++)N[R]=this.Iq[R].k();return N};dm.prototype.f=function(){this.m.textContent=ab.get([12,93,4]);
for(var R=0;R<this.Iq.length;R++)this.Iq[R].f()};dm.prototype.g0=function(r){this.L(new gf(v.E.o,!1));
this.Fm()};dm.prototype.Fm=function(r){var N=this.k(),F=200,h=60;N[2]/=W.G();N[3]/=W.G();var m=w.H.yN.Iw(0,h/2,F,h/2,5,N),O=w.H.fT(m);
this.aes.innerHTML="<svg width=\""+F+"\" height=\""+h+"\" class=\"gsicon\">\t\t\t<path d=\""+O.oS+"\" />\t\t\t</svg>"};
dm.prototype.ly=function(r){if(W.Xs(this.HE.m))return;r.stopPropagation();var N=this.m.getBoundingClientRect(),F=new gf(v.E.S,!0);
F.data={V:v.c.hN,f3:this.HE,x:N.left,y:N.top+N.height,KQ:!0};this.L(F)};function fJ(){jZ.call(this);
this.m=W._("div");this.Vf=[];this.a3Z=[];var r=this.mW=W._("div"),N=W._("h2");N.textContent="Create Teams";
r.appendChild(N);N.style.margin="26px 0 16px 0";var F=new d_("More about Teams",!1,null,!0);N.appendChild(F.m);
F.m.style.float="right";F.U("click",this.a1Z,this);this.zA=W._("div");r.appendChild(this.zA);this.al9=new g8("Team Name",null,10);
r.appendChild(this.al9.m);var h=this.a3L=new d_("Create Team",null,null,!0);r.appendChild(h.m);h.U("click",this.anI,this);
var N=W._("h2");N.textContent="Join Teams";r.appendChild(N);N.style.margin="26px 0 16px 0";this.Ar=W._("div");
r.appendChild(this.Ar);this.as0=new g8("Team ID",null,10);r.appendChild(this.as0.m);var h=new d_("Join Team",null,null,!0);
r.appendChild(h.m);h.U("click",this.anI,this);this.a0s;this.a7e=this.w0.bind(this);this.asO=this.amU.bind(this);
this.Is=!1;this.aq();this.MK=null;this.acO=""}fJ.prototype=new jZ;fJ.prototype.a1Z=function(r){var N=new gf(v.E.S,!0);
N.data={V:v.c.lz,link:"https://www.photopea.com/api/accounts#teams"};this.L(N)};fJ.prototype.aq=function(){clearTimeout(this.a4P);
this.a4P=setTimeout(this.asO,this.MK?10:3e3)};fJ.prototype.amU=function(){var r=ey.XP();if(document.hidden||!W.Xs(this.m)||r==null){this.aq();
return}var N=ey.FF();if(this.MK==null&&N==null)return;ey.Iu(this.MK?this.MK:N,this.a7e);this.Is=!0;this.MK=null};
fJ.prototype.af4=function(r){r.acc.update=!0;this.m.style.pointerEvents="none";this.m.style.opacity="0.5";
if(this.Is)this.MK=r;else{clearTimeout(this.a4P);ey.Iu(r,this.a7e)}};fJ.prototype.dz=function(r){var N=typeof r=="string"?this.a0s:this.Vf.indexOf(r.target),F=this.a3Z[N],h=F[0],m=ey.FF();
if(m==null)m={};var O=m.acc,e=O.tjoin,P=O.tstart;if(h=="leave"){e.splice(e.indexOf(F[1]),1)}if(h=="add"||h=="remove"||h=="delTeam"||h=="showRename"||h=="rename"){var B=-1,s=0;
for(var R=0;R<P.length;R++){s+=P[R][1].length;if(P[R][2]==F[1])B=R}var Y=P[B];if(h=="add"){var D=ey.rU();
if(D[0]==0&&D[1][2]<=s){alert("You can have at most "+D[1][2]+" members in your Premium.");return}Y[1].push(F[2])}if(h=="remove")Y[1].splice(Y[1].indexOf(F[2]),1);
if(h=="delTeam"){if(Y[1].length!=0){alert("Remove members first.");return}P.splice(B,1)}if(h=="showRename"){var c=new gf(v.E.S,!0);
c.data={V:v.c.pr,i7:"namewindow",Q5:Y[0],q3:this.dz.bind(this)};this.L(c);this.a0s=N;F[0]="rename";return}if(h=="rename")Y[0]=r}this.af4(m)};
fJ.prototype.anI=function(r){var N=this.a3L==r.target,F=(N?this.al9:this.as0).k().trim();if(F==""){alert("The Team "+(N?"Name":"ID")+" is empty.");
return}if(!N){F=parseInt(F);if(isNaN(F)){alert("The ID must be a number");return}}var h=ey.FF();if(h==null)h={};
var m=h.acc;if(m==null)m=h.acc={};var O=m.tstart,e=m.tjoin;if(N){if(O==null)O=m.tstart=[];if(O.length>5){alert("You can have at most 5 teams");
return}O.push([F,[]])}else{if(O)for(var R=0;R<O.length;R++)if(O[R][2]==F){alert("You are the owner of this team");
return}if(e==null)e=m.tjoin=[];if(e.indexOf(F)!=-1){alert("You already asked to join this team.");return}m.tjoin.push(F)}m.update=!0;
this.af4(h)};fJ.prototype.w0=function(){this.Is=!1;var r=ey.XP(),N=r!=null,F=this.mW.parentNode!=null;
if(N!=F){W.Tg(this.m);if(N)this.m.appendChild(this.mW);else this.m.textContent="Log In to access Team Settings."}if(!N)return;
var h=ey.FF();if(h==null)h={};var m=h.acc;if(m==null)m={};var O=JSON.stringify(m)+"===="+JSON.stringify(r);
if(O!=this.acO){this.acO=O;var e=this.zA,P=this.Ar;W.Tg(e);W.Tg(P);var B=this.Vf=[],s=this.a3Z=[],Y=this.dz.bind(this);
function D($,Z){$.addEventListener("click",Y);B.push($);s.push(Z)}function c(p,$){var V=W._("div"),Z="rgba(255,255,255,0.15)";
V.appendChild(H("ID: "+p[2],44,Z));V.appendChild(H(p[0],160,null,!0));if($){V.appendChild(H(p[1].length+" members",80,null,!0))}else{V.appendChild(H(p[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<p[1]*1e3)V.appendChild(H("Premium",80,"rgba(0,140,0,1)"))}var i=H("",120);V.appendChild(i);
i.setAttribute("style","float:right;text-align:right");if($){var b=new d_("Rename",null,null,!0);D(b,["showRename",p[2]]);
i.appendChild(b.m)}var b=new d_($?"Delete":"Leave",null,null,!0);D(b,[$?"delTeam":"leave",p[2]]);i.appendChild(b.m);
return V}function o($,Z,y){var V=W._("div");V.style.paddingLeft="36px";V.appendChild(H(Z?"\u2713":"...",8,Z?"#229922":"#aa7700"));
V.appendChild(H($[1],200));V.appendChild(H($[2],240));var i=H("",120);V.appendChild(i);i.setAttribute("style","float:right;text-align:right");
var b=new d_(Z?"Remove":"Add",null,null,!0);D(b,[Z?"remove":"add",y,$[0]]);i.appendChild(b.m);return V}function H($,Z,i,b){var G=W._("span");
G.textContent=$;G.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+Z+"px;  "+(i!=null?"background-color:"+i+";":"")+(b?"font-weight:bold;":""));
return G}var x=m.tstart,Q=m.tjoin,U=r.wantToJoin,I=r.inTeams;if(x)for(var l=0;l<x.length;l++){var p=x[l],j=U["t"+p[2]];
if(j==null)j=[];var T={};for(var R=0;R<j.length;R++)T["u"+j[R][0]]=j[R];var V=c(p,!0);e.appendChild(V);
V.style.marginTop="10px";for(var R=0;R<p[1].length;R++){var E=p[1][R],_=T["u"+E];if(_==null)_=[E,"========","... user has left your team"];
delete T["u"+E];var f=o(_,!0,p[2]);e.appendChild(f)}for(var S in T){var _=T[S],f=o(_,!1,p[2]);e.appendChild(f)}}if(Q){var L={};
for(var R=0;R<I.length;R++)L["t"+I[R][2]]=I[R];for(var l=0;l<Q.length;l++){var y=Q[l],p=L["t"+y],V=c(p?p:["==========",-1,y],!1);
P.appendChild(V)}}this.L(new gf(v.E.o))}if(this.MK==null){this.m.style.pointerEvents="auto";this.m.style.opacity="1"}this.aq()};
function cd(){jZ.call(this);this.Ua=[16,!0,!0];this.m=W._("span","");this.hT=[new g$([12,24],0,255),new bf([12,25,1]),new bf([12,25,0])];
for(var R=0;R<3;R++){var r=this.hT[R];r.parent=this;r.b(this.Ua[R]);this.m.appendChild(r.m);r.U(v.E.o,this.qK,this)}}cd.prototype=new jZ;
cd.prototype.qK=function(){for(var R=0;R<3;R++)this.Ua[R]=this.hT[R].k();this.L(new gf(v.E.o,!1))};cd.prototype.b=function(r){this.Ua=r.slice(0);
for(var R=0;R<3;R++)this.hT[R].b(r[R])};cd.prototype.k=function(){return this.Ua.slice(0)};cd.prototype.f=function(){for(var R=0;
R<3;R++)this.hT[R].f()};function ec(r,N){jZ.call(this);if(N==null)N=!1;this.ev=[];this.UT=Math.floor(120*W.G());
this.afe=Math.floor(23*W.G());this.LD=0;this.yA=[];this.zd=[];for(var F in w.U5.type){if(F=="warpCustom"&&!N)continue;
this.yA.push(F);this.zd.push(w.U5.type[F])}this.m=W._("span","fitem warpbutton");this.HE=new jZ;this.HE.m=W._("div","floatcont");
if(r){this.RT=r;this.bI=W._("label","flabel");this.m.appendChild(this.bI)}this.V=W._("button");this.m.appendChild(this.V);
W.vN(this.V,this.ly.bind(this));this.p2=new hg(!0);this.HE.m.appendChild(this.p2.m);this.p2.U(v.E.o,this.aq1,this);
this.HE.m.setAttribute("style","width:"+Math.floor(8+this.UT/W.G())+"px;");this.f()}ec.prototype=new jZ;
ec.prototype.o6=function(r){this.bI.textContent=r};ec.prototype.f=function(){if(this.RT)this.bI.innerHTML=ab.get(this.RT)+":";
this.LR()};ec.au3={};ec.auQ=function(r,N,F){var h=ab.get(w.U5.type[r]),m=h+"-"+r+"-"+N+"-"+F,O=ec.au3[m];
if(O)return O;var e=ec.Az;if(P==null){var P=W._("canvas");e=ec.Az=P.getContext("2d")}var P=e.canvas;
if(P.width!=N||P.height!=F){P.width=N;P.height=F}e.font=Math.floor(13*W.G())+"px sans-serif";e.lineWidth=1;
e.strokeStyle="#000000";var B=Math.floor(16*W.G()),s=new fE(0,0,B,B);e.clearRect(0,0,P.width,P.height);
var Y=w.U5.U5(s,r,!0,.3,0,0),D=w.p.fc(s);D.C.push("M","L","M","L");D.t.push(0,B/2,B,B/2);D.t.push(B/2,0,B/2,B);
D=w.p.BU(D);D=w.p.Qv(D,B/5);w.DK.A(Y,D.t,s);w.p.A(D.t,new hc(1,0,0,1,Math.floor(8*W.G())+.5,Math.floor(3*W.G())+.5),D.t);
e.beginPath();Typr.U.pathToContext({cmds:D.C,crds:D.t},e);e.stroke();e.fillText(h,Math.floor(40*W.G()),Math.floor(16*W.G()));
O=ec.au3[m]=P.toDataURL();return O};ec.prototype.ly=function(r){if(W.Xs(this.HE.m))return;r.stopPropagation();
var N=this.UT,F=this.afe;for(var R=0;R<this.yA.length;R++)this.ev[R]=ec.auQ(this.yA[R],N,F);this.p2.IS(this.ev,null,N,F);
var h=this.V.getBoundingClientRect(),m=new gf(v.E.S,!0);m.data={V:v.c.hN,f3:this.HE,x:h.left,y:h.top+h.height+4};
this.L(m)};ec.prototype.aq1=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.sc,f3:this.HE};this.L(N);
this.LD=r.target.k()[0];this.LR();this.L(new gf(v.E.o))};ec.prototype.LR=function(){var r=this.UT,N=this.afe;
this.p2.b([this.LD]);this.V.innerHTML="<img src=\""+ec.auQ(this.yA[this.LD],r,N)+"\" class=\"gsicon\" />";
W.HR(this.V.firstChild,r,N)};ec.prototype.k=function(){return this.yA[this.LD]};ec.prototype.b=function(r){this.LD=this.yA.indexOf(r);
this.LR()};function hM(r,N,F){jZ.call(this);if(r==null)r=!1;if(N==null)N=!1;if(F==null)F=!1;this.ad5=N;
this.U5=null;this.eO=new ec([12,22],F);this.eO.parent=this;this.eO.U(v.E.o,this.qM,this);this.wi=new b2([22,0],[[22,4,0],[22,4,1]]);
this.wi.U(v.E.o,this.qM,this);var h=r?g$:d5;this.aX=new h([22,1],-100,100,"%");this.Dh=new h("Horizontal Distortion:",-100,100,"%");
this.Gr=new h("Vertical Distortion:",-100,100,"%");this.aX.parent=this.Dh.parent=this.Gr.parent=this;
this.aX.U(v.E.o,this.qM,this);this.Dh.U(v.E.o,this.qM,this);this.Gr.U(v.E.o,this.qM,this)}hM.prototype=new jZ;
hM.prototype.f=function(){this.eO.f();this.wi.f();this.aX.f();var r=this.ad5?1:100;this.Dh.o6(ab.get([22,2]).substring(0,r)+":");
this.Gr.o6(ab.get([22,3]).substring(0,r)+":")};hM.prototype.qM=function(){var r=this.U5,N=this.eO.k(),F=r.warpStyle.v.warpStyle;
if(N=="warpCustom")w.U5.$_(w.U5.bM(r),r);else delete r.customEnvelopeWarp;r.warpStyle.v.warpStyle=this.eO.k();
r.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.wi.k()];r.warpValue.v=this.aX.k();r.warpPerspective.v=this.Dh.k();
r.warpPerspectiveOther.v=this.Gr.k();if(N=="warpNone"||N=="warpCustom"){r.warpValue.v=0;r.warpPerspective.v=0;
r.warpPerspectiveOther.v=0}else if(F=="warpNone"||F=="warpCustom")r.warpValue.v=50;this.L(new gf(v.E.o,!1));
this.b(r)};hM.prototype.k=function(r){return JSON.parse(JSON.stringify(this.U5))};hM.prototype.b=function(r){this.U5=JSON.parse(JSON.stringify(r));
this.eO.b(r.warpStyle.v.warpStyle);this.wi.b(r.warpRotate.v.Ornt=="Hrzn"?0:1);this.aX.b(r.warpValue.v);
this.Dh.b(r.warpPerspective.v);this.Gr.b(r.warpPerspectiveOther.v);var N=r.warpStyle.v.warpStyle,F=N=="warpNone"||N=="warpCustom",h=[this.wi,this.aX,this.Dh,this.Gr];
for(var R=0;R<h.length;R++)if(F)h[R].Xo();else h[R].RK()};function cA(r,N){jZ.call(this);this.m=W._("div");
this.WS=r;this.zl=null;this.Fn=new gS(0,0);this.U9="position:relative;overflow:hidden;";this.ER=null;
this.jx=new W.VF(this.m);this.a1l=N;this.Gq("grab");this.D=W._("canvas","canv");this.m.appendChild(this.D);
this.Az=this.D.getContext("2d");this.auN=null;this.PD=null;this.lE=null;this.O3=0;this.El=0;this.Jt=0;
this.akK=this.a4z.bind(this);this.aoo=null;this.q=new fX({e:1,n:1});this.XJ=null;this.SQ=null;this.ai=[];
this.acG=0;this.K$=0;this.aqN=this.DY.bind(this);this.aiW=this.VQ.bind(this);this.aoV=this.gm.bind(this);
this.aiO=this.$G.bind(this);this.acT=0;this.$f=null;this.art(this.D);this.JR(this)}cA.prototype=new jZ;
cA.a6n=function(r){var N=new bh(!0);if(r>=0)N.Ia("Space");if(r>=1){N.Ia("ControlLeft");if(r==2)N.Ia("AltLeft")}return N};
cA.prototype.BD=function(r){var N=this.ER,F=null;if(r.j(bh.mk)){F="grab";if(r.j(bh.hg)){F="zoom-in";
if(r.j(bh.sV))F="zoom-out"}}this.zl=F;if(F)N=F;this.jx.w0(N,this.U9);if(r.j(bh.hg)){var h=0;if(r.j(bh.nL))h=1;
if(r.j(bh.MO))h=-1;if(h!=0){this.sM(new gS(this.D.width/2,this.D.height/2),h==1)}}};cA.prototype.Gq=function(r){this.ER=r;
if(this.zl)return;this.jx.w0(r,this.U9)};cA.prototype.art=function(r){W.vN(r,this.aqN);W.Cb(r);r.addEventListener("wheel",this.aiO,!1)};
cA.prototype.JR=function(r){r.U("viewchange",this.au0,this)};cA.prototype.au0=function(r){var N=this.q.O,F=r.currentTarget.Md();
this.q.O=F.O;this.q.r=F.r.clone();if(N!=F.O)this.eU();this.xb()};cA.prototype.Md=function(){return{O:this.q.O,r:this.q.r}};
cA.prototype.b=function(r,N){var F=r[0].I0;if(this.PD!=null&&this.PD[0].I0.cj(F)){}else{this.q._I={e:F.e,n:F.n};
this.q.r=new gS(0,0);this.q.O=1}this.PD=r;this.eU();this.$z();this.O3=0;this.El=0;this.Jt=N==null?0:N;
this.a4z()};cA.prototype.$G=function(r){r.preventDefault();if(r.deltaY==0||Date.now()-this.acT<100)return;
var N=W.or(r);N.x=W.G()*N.x;N.y=W.G()*N.y;this.acT=Date.now();this.sM(N,r.deltaY<0)};cA.prototype.sM=function(r,N){z.EI.xR(this.q,r,N);
this.agY()};cA.prototype.RW=function(){var r=this.q,N=r._I;this.q.O=z.EI.jN(N.e,N.n,r.Yg.e,r.Yg.n);this.agY()};
cA.prototype.agY=function(){this.eU();this.L(new gf("viewchange"));this.L(new gf("zoom"))};cA.prototype.eU=function(){this.lE=[];
var r=this.q.O;if(this.PD==null)return;for(var R=0;R<this.PD.length;R++){var N=this.PD[R],F=new Uint8Array(N.data),h;
if(r>=1)h={iS:F,rect:N.I0};else h=w.a7_(F,N.I0,r);this.lE.push(h)}};cA.prototype.$z=function(){clearTimeout(this.aoo)};
cA.prototype.xb=function(){if(this.PD==null||!W.Xs(this.D))return;var r=this.auN,N=this.D.width,F=this.D.height,H,x;
if(r==null||r.width!=N||r.height!=F){r=this.auN=this.Az.createImageData(N,F);console.log("creating image data")}var h=this.PD[this.O3],m=this.lE[this.O3],O=this.q,e=O._I,P=O.Yg,B=P.e,s=P.n,Y=e.e*O.O,D=e.n*O.O,c=Math.round((B-Y)/2+O.r.x),o=Math.round((s-D)/2+O.r.y);
if(O.O<=1){x=m.rect.clone();x.x=c;x.y=o;Y=x.e;D=x.n;H=m.iS}else{var Q=1/O.O,U=new fE(Math.floor((P.x-c)*Q),Math.floor((P.y-o)*Q),Math.ceil(P.e*Q)+1,Math.ceil(P.n*Q)+1),I=new fE(0,0,U.e*O.O,U.n*O.O);
I.x=U.x*O.O+c;I.y=U.y*O.O+o;if(O.oY==null||O.oY.length!=U.W()*4){O.oY=w.B(U.W()*4)}if(O.DI==null||O.DI.length!=I.W()*4){O.DI=w.B(I.W()*4)}w.T1(O.oY,0);
w.L3(m.iS,m.rect,O.oY,U);w.scale.wd(O.oY,U.e,U.n,O.DI,I.e,I.n,O.O);H=O.DI;x=I}var l=new Uint8Array(r.data.buffer);
w.aI(l,B,s,8,-c,-o);w.i.vw("norm",H,x,l,P,P,1);var p=this.Az;p.setTransform(1,0,0,1,0,0);p.putImageData(r,0,0);
p.clearRect(c-1e3,o,1e3,D);p.clearRect(c+Y,o,1e3,D);p.clearRect(c-1e3,o-1e3,Y+2e3,1e3);p.clearRect(c-1e3,o+D,Y+2e3,1e3);
var j=cA.anp(O.O,"#ffffff",this.a1l);p.putImageData(j,0,O.Yg.n-j.height)};cA.ap$={};cA.anp=function(r,N,F){if(F==null)F=!1;
var h="z"+r+","+N+","+F,m=cA.ap$[h];if(m)return m;var O=Math.round(50*W.G()),e=Math.round(18*W.G()),P=F?2*e:0,B=W._("canvas"),s=B.getContext("2d");
B.width=O+P;B.height=e;s.fillStyle="rgba(1,1,1,1)";s.fillRect(0,0,O+P,e);s.font=Math.round(11*W.G())+"px monospace";
s.fillStyle=N;var Y=r*100;if(Y<100)Y=Y.toFixed(2);else Y=Math.round(Y);Y=Y+"%";var D=s.measureText(Y).width;
s.fillText(Y,P+(O-D)/2,Math.round(e*.7));m=cA.ap$[h]=s.getImageData(0,0,O+P,e);return m};cA.prototype.a4z=function(){var r=this.PD,N=r.length,F=this.O3,h=this.PD[F],m=(F+1)%N;
this.xb();if(N!=1&&r[m].I0.cj(h.I0)){var O=h.Ct?parseInt(h.Ct.split(",").pop()):30;if(O==0)O=16;if(m==0)this.El++;
if(this.Jt==0||this.El<this.Jt)this.aoo=setTimeout(this.akK,O)}this.O3=m};cA.prototype.bh=function(r,N){if(r<=0||N<=0)return;
var F=Math.floor(r*W.G()),h=Math.floor(N*W.G());this.q.Yg=new fE(0,0,F,h);this.D.width=F;this.D.height=h;
this.D.setAttribute("style","width:"+F/W.G()+"px; height:"+h/W.G()+"px; display:block;");this.xb()};
cA.prototype.SP=function(r){var N=-1,F=this.ai;for(var R=0;R<F.length;R++)if(F[R].pointerId==r.pointerId)N=R;
return N};cA.prototype.DY=function(r){var N=this.SP(r),F=this.ai;if(N!=-1)F[N]=r;else F.push(r);if(F.length==1){this.$f=r.target;
W.B7(window,this.aiW);W.ey(window,this.aoV);this.XJ=W.or(r,this.D);this.XJ.x*=W.G();this.XJ.y*=W.G();
this.Fn=this.XJ;this.SQ=this.q.r.clone();if(this.WS&&this.$f==this.D&&!this.zl)this.L(new gf("mousedown"))}else this.acG=this.K$=gS.Mz(W.or(F[0],this.D),W.or(F[1],this.D))};
cA.prototype.VQ=function(r){var N=this.SP(r),F=this.ai;if(N!=-1)F[N]=r;var h=this.q,m=this.zl,O=this.PD[this.O3].I0.clone();
O.e*=h.O;O.n*=h.O;var e=W.or(r,this.D);e.x*=W.G();e.y*=W.G();this.Fn=e;if(this.WS&&this.$f==this.D&&!m)this.L(new gf("mousemove"));
else if((m=="grab"||m==null)&&(F.length>1||!h.Yg.w9(O))){if(F.length>1){var P=W.or(F[0],this.D),B=W.or(F[1],this.D),s=new gS(W.G()*(P.x+B.x)/2,W.G()*(P.y+B.y)/2),Y=gS.Mz(P,B),D=null;
if(Y>this.K$+50){this.K$+=50;D=!0}if(Y<this.K$-50){this.K$-=50;D=!1}if(D!=null)this.sM(s,D);return}else{var c=e.x-this.XJ.x,o=e.y-this.XJ.y;
h.r.x=this.SQ.x+Math.round(c);h.r.y=this.SQ.y+Math.round(o)}this.L(new gf("viewchange"))}};cA.prototype.gm=function(r){var N=this.SP(r),F=this.ai;
F.splice(N,1);if(F.length==0){W.iX(window,this.aiW);W.g$(window,this.aoV);var h=this.zl;if(r.detail>1){this.q.O=1;
this.q.r.YR(0,0);this.xb()}if(this.WS&&this.$f==this.D&&!this.zl)this.L(new gf("mouseup"));else{if(h=="zoom-in"||h=="zoom-out")this.sM(this.Fn,h=="zoom-in")}}else{var m=this.XJ=W.or(F[0],this.D);
m.x*=W.G();m.y*=W.G()}};cA.prototype.lj=function(){return this.q.RX(this.Fn.x,this.Fn.y)};function dr(){jZ.call(this);
this.vo=null;this.hU=null;this.as=null;this.Vc=null;this.abT="";this.Qc=[];this.M4=0;this.Sn=[];this.cK=0;
this.bX=null;var r=this.m=W._("div",""),N=this.alo=W._("div","form");N.setAttribute("style","line-height:0; margin-bottom:0.5em;");
r.appendChild(N);var F=this.RT=W._("span");N.appendChild(F);F.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var h=this.avd=new bf([25,2,0]);h.b(!0);N.appendChild(h.m);h.U(v.E.o,this.KU,this);var m=this.J5=new bf([25,2,1]);
m.b(!0);N.appendChild(m.m);m.U(v.E.o,this.KU,this);var O=new bB(" ");N.appendChild(O.m);var e=this.zn=new g8([25,1,1]);
N.appendChild(e.m);e.U(v.E.o,this.KU,this);this.Co=new hq(14);this.Co.a62(3);N.appendChild(this.Co.m);
this.Co.parent=this;this.Co.U(v.E.o,this.aqV,this);var P=this.asT=new d_([25,1,2],null,null,!0);N.appendChild(P.m);
P.U("click",this.ik,this);this.aaA=this.asV.bind(this);this.H9=W._("div","svggallery scrollable");r.appendChild(this.H9);
this.H9.addEventListener("scroll",this.apz.bind(this))}dr.prototype=new jZ;dr.prototype.Qr=function(r){this.agq=r};
dr.prototype.f=function(){this.RT.textContent=ab.get([25,0]);this.Co.f();this.avd.f();this.J5.f();this.zn.f();
this.asT.f()};dr.prototype.bh=function(r,N){this.vo=new gS(r,N);this.alo.setAttribute("style","width:"+r+"px");
var F=this.alo.getBoundingClientRect();N-=F.height;this.H9.setAttribute("style","width:"+r+"px; height:"+N+"px");
if(W.Xs(this.m))this.KU()};dr.prototype.b=function(r){this.hU=r;this.KU()};dr.prototype.apz=function(r){var N=this.H9;
if(N.scrollTop+N.clientHeight+10>=N.scrollHeight){this.KU(!0)}};dr.prototype.aqV=function(r){this.as=null;
this.KU()};dr.prototype.asV=function(r){if(Date.now()-this.cK<2e3)return;this.cK=Date.now();this.M4=this.Sn.indexOf(r.currentTarget);
var N=this.$x(this.hU.x,this.hU.y);if(N[1]){var F=N[1].largeImageURL,h=new XMLHttpRequest;h.responseType="arraybuffer";
h.open("GET",F,!0);h.onload=this.aoc.bind(this);h.send();return}this.atZ(N)};dr.prototype.aoc=function(r){var N=r.target.response,F=bA.Cn(N),h=bA.yU(F),m=h.V9(N),O=this.$x(this.hU.x,this.hU.y,[N,m[0].I0.e,m[0].I0.n]);
this.atZ(O)};dr.prototype.atZ=function(r){var N=r[0],F=bA.Cn(N),h=bA.yU(F),m=new gp("template.psd");
h.V9(N,m);var O=new gf("tempready",!0);O.data={_I:m};this.L(O)};dr.prototype.ik=function(r){var N=r.target;
this.Qc=[];this.as=null;this.KU()};dr.prototype.a67=function(r){var N=JSON.parse(r.target.response),F=this.Vc=N.hits;
for(var R=0;R<F.length;R++)if(F[R].user_id==6314823)F.splice(R,1);this.KU()};dr.prototype.KU=function(r){if(this.hU==null||this.vo==null||this.agq==null)return;
if(this.vo.x<=0)return;var N=this.hU.x,F=this.hU.y;if(Math.min(N,F)<50)return;if(r!=!0){this.Sn=[];W.Tg(this.H9);
this.H9.scrollTop=0}if(this.Sn.length>300)return;var h=Math.min(1,300/Math.max(N,F)),m=this.vo.clone();
m.x-=20;var O=Math.max(1,Math.floor(m.x/(N*h))),e=Math.max(1,Math.ceil(m.y/(F*h)));h=m.x/O/N;var P=O*e;
if(this.as==null){var B=this.agq.FN.VZ(),s=[];for(var Y in B){var D=B[Y],c=D[3];if(!this.Co.Xp(D))continue;
if(D[5]==null||D[5].slice(0,2)=="gf")continue;s.push(D)}if(s.length==0)s.push(B.DejaVuSans);var o=s.length;
for(var R=0;R<o*10;R++){var H=Math.floor(Math.random()*o),x=Math.floor(Math.random()*o),Q=s[H];s[H]=s[x];
s[x]=Q}s=s.slice(0,10);this.as=s}var U=this.J5.k(),I=this.zn.k().trim();this.zn.W9(U);if(U&&(this.Vc==null||I!=this.abT)){var l=new XMLHttpRequest,p="https://pixabay.com/api/?image_type=photo"+(I==""?"":"&q="+encodeURIComponent(I))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(I=="")p="plugins/gallery.json";l.open("GET",p,!0);l.onload=this.a67.bind(this);l.onerror=function(f){console.log(f.target.response)};
l.send();this.abT=I;return}h*=(N*h-5)/(N*h);var j=this.Sn.length;for(var R=0;R<P;R++){var T=this.M4=j+R;
if(this.Qc[T]==null)this.Qc[T]=Math.floor(Math.random()*4294967295);var V=this.$x(Math.round(N*h),Math.round(F*h)),E=V[0];
E=J.H3(new Uint8Array(E));var _=W._("span");_.innerHTML=E;this.Sn.push(_);this.H9.appendChild(_);_.addEventListener("click",this.aaA,!1)}};
dr.prototype.$x=function(r,N,F){var h=this.J5.k(),m=this.avd.k(),O=h&&this.Vc.length!=0?this.Vc:null;
if(m&&!h)O=null;if(m&&h&&(this.M4&1)==0)O=null;return a5.yN(r,N,this.Qc[this.M4],this.as,F?F:O)};function eT(){jZ.call(this);
this.m=W._("div");this.mW=null;this.aiv=null;this.IW=-1;this.Z6={JPG:[{f1:new d5([12,52,0],0,100,"%",null,null,!0),Lo:70},{f1:new bf("attach metadata"),Lo:!1}],TIFF:[{f1:new bf("attach metadata"),Lo:!1}],WEBP:[{f1:new d5([12,52,0],0,100,"%",null,null,!0),Lo:70}],GIF:[{f1:new d5([12,52,0],0,100,"%",null,null,!0),Lo:100},{f1:new bf([12,23,3]),Lo:!1}],PNG:[{f1:new d5([12,52,0],0,100,"%",null,null,!0),Lo:100},{f1:new bf("don't use palettes"),Lo:!1}],PDF:[{f1:new g8([12,52,1]),Lo:""},{f1:new d5([12,52,0],0,100,"%",null,null,!0),Lo:100},{f1:new bf("reverse pages"),Lo:!1},{f1:new bf("rasterize all"),Lo:!1},{f1:new bf("vectorize text"),Lo:!1},{f1:new d5("Add Margin",0,5,"in",2),Lo:0}],EMF:[{f1:new g8([12,52,1]),Lo:""},{f1:new d5([12,52,0],0,100,"%",null,null,!0),Lo:100},{f1:new bf("reverse pages"),Lo:!1},{f1:new bf("rasterize all"),Lo:!1},{f1:new bf("vectorize text"),Lo:!1},{f1:new d5("Add Margin",0,5,"in",2),Lo:0}],SVG:[{f1:new bf("add raster graphics"),Lo:!0},{f1:new bf("add hidden layers"),Lo:!1},{f1:new bf("vectorize text"),Lo:!1},{f1:new bf("rasterize text"),Lo:!1},{f1:new bf("add layer names"),Lo:!0},{f1:new bf("pretty-print"),Lo:!0}],RAW:[{f1:new ch([12,72],["1","3","4"]),Lo:2},{f1:new ch([12,34],["8 Bits","16 Bits"]),Lo:0},{f1:new ch("Byte Order",["12-34","34-12"]),Lo:0}],DDS:[{f1:new bf("Add Mipmaps"),Lo:!0},{f1:new bf("Compression"),Lo:!0}],anim:[{f1:new d5("Speed",10,800,"%",null,!0,!0),Lo:100},{f1:new g$("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Lo:0},{f1:new bf("reverse frames"),Lo:!1},{f1:new bf("boomerang"),Lo:!1}],slcs:[{f1:new bf([8,11,0]),Lo:!0}],artb:[{f1:new bf([1,16,1]),Lo:!0}],hicc:[{f1:new bf("convert to sRGB"),Lo:!0}]};
for(var r in this.Z6){var N=this.Z6[r];for(var R=0;R<N.length;R++){N[R].f1.b(N[R].Lo);N[R].f1.U(v.E.o,this.Ey,this)}}}eT.prototype=new jZ;
eT.prototype.ag5=function(){this.IW=-1};eT.prototype.f=function(){for(var r in this.Z6)for(var R=0;R<this.Z6[r].length;
R++)this.Z6[r][R].f1.f()};eT.prototype.Ey=function(){this.KU();this.L(new gf(v.E.o,!1))};eT.prototype.KU=function(){var r=this.mW,N=r[0],F=r[1],h=r[2],m=r[3],O=r[4],e=this.Z6[N];
if(e==null)e=[];else e=e.slice(0);if(F)e=e.concat(this.Z6.anim);if(["GIF","PNG","JPG"].indexOf(N)!=-1&&h)e=e.concat(this.Z6.slcs);
else if(["GIF","PNG","JPG"].indexOf(N)!=-1&&m)e=e.concat(this.Z6.artb);if(O)e=e.concat(this.Z6.hicc);
var P=r.join(",");if(P!=this.IW){this.IW=P;W.Tg(this.m);for(var R=0;R<e.length;R++){if(N=="PDF"&&!m&&(R==0||R==2))continue;
this.m.appendChild(e[R].f1.m);W.ke(this.m)}}var B=this.aiv=[];for(var R=0;R<e.length;R++)B.push(e[R].f1.k())};
eT.prototype.aed=function(r,N,F,h,m){this.mW=[r,N,F,h,m];this.KU()};eT.prototype.k=function(){return this.aiv.slice(0)};
function eo(){jZ.call(this);this.m=W._("span","fitem");this.CL=!1;this.rJ=new d_("No",!1,"Cancel");this.Fw=new d_("Yes",!1,"Confirm");
this.m.appendChild(this.rJ.m);this.m.appendChild(this.Fw.m);this.rJ.U("click",this.HV,this);this.Fw.U("click",this.HV,this);
this.f()}eo.prototype=new jZ;eo.prototype.f=function(){this.rJ.o6(W.qV("cross",null,"autoscale"));this.Fw.o6(W.qV("checkmark",null,"autoscale"))};
eo.prototype.HV=function(r){this.CL=r.target==this.Fw;this.L(new UIEvent("click"))};eo.prototype.k=function(){return this.CL};
function bW(r){jZ.call(this);this.m=W._("span","fitem");this.V2=new d_("\u25BC",null,"Auto Options",!0);
W.vN(this.V2.m,this.aib.bind(this));this.m.appendChild(this.V2.m);this.Fu=new d_("Auto",null,null,!0);
this.Fu.U("click",this.g0,this);this.m.appendChild(this.Fu.m);this.PK=new jX("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.PK.U(v.E.o,this.g0,this);this.PK.b([!1,!1,!1,!0]);this.HE=new jZ;var N=this.HE.m=W._("div","floatcont form");
N.setAttribute("style","width: 250px;");this.HE.parent=this;N.appendChild(this.PK.m);this.gD=[];for(var R=0;
R<2;R++){var F=new g$((R==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);F.b(.1);F.U(v.E.o,this.g0,this);
this.gD.push(F);N.appendChild(F.m)}}bW.prototype=new jZ;bW.prototype.g0=function(r){this.L(new gf(v.E.o,!1))};
bW.prototype.f=function(){};bW.prototype.k=function(){return[this.PK.k().indexOf(!0),this.gD[0].k(),this.gD[1].k()]};
bW.prototype.aib=function(r){if(W.Xs(this.HE.m))return;r.stopPropagation();var N=this.V2.m.getBoundingClientRect(),F=new gf(v.E.S,!0);
F.data={V:v.c.hN,f3:this.HE,x:N.left,y:N.top+N.height+4};this.L(F)};function dj(){jZ.call(this);var r=this.m=W._("div","fitem");
this.dF=new b2([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.dF.U(v.E.o,this.qK,this);r.appendChild(this.dF.m);
this._H=new cw(!1);this._H.parent=this;this._H.X7(16777215);this._H.U(v.E.o,this.qK,this);r.appendChild(this._H.m)}dj.prototype=new jZ;
dj.prototype.f=function(){this.dF.f();this._H.f()};dj.prototype.ag0=function(r){var N=[r.artboardBackgroundType.v-1];
if(r.Clr)N.push(r.Clr.v);this.b(N)};dj.prototype.amz=function(){var r=this.k();return{classID:"artboard",Clr:{t:"Objc",v:r[1]},artboardBackgroundType:{t:"long",v:r[0]+1}}};
dj.prototype.b=function(r){this.dF.b(r[0]);if(r[1])this._H.b(r[1])};dj.prototype.k=function(){return[this.dF.k(),this._H.k()]};
dj.prototype.qK=function(r){if(r.target==this._H)this.dF.b(3);this.L(new gf(v.E.o,!1))};function aL(){jZ.call(this);
this.m=W._("div","flexrow");this.m.setAttribute("style","background-color:white;  color:#222222");this.vW=W._("div");
this.m.appendChild(this.vW);this.o9=W._("div");this.m.appendChild(this.o9);var r=Storage.list;this.JU=[];
for(var R=0;R<r.length;R++){var N=W._("div");N.textContent=r[R][0];this.JU.push(N);N.setAttribute("style","padding: 6px 40px; border-bottom:1px solid #cccccc;");
this.vW.appendChild(N);W.ey(N,this.a5V.bind(this))}this.a5V(null,1)}aL.prototype=new jZ;aL.prototype.a5V=function(r,N){var F=this.JU;
if(N==null)N=F.indexOf(r.currentTarget);for(var R=0;R<F.length;R++)F[R].style.backgroundColor="white";
F[N].style.backgroundColor="#e5f0ff";W.Tg(this.o9);var h=this.e3=Storage.Zw(N);h.parent=this;this.o9.appendChild(h.m);
this.e3.bh(this.YW-200,this.Nf)};aL.prototype.bh=function(r,N){this.YW=r;this.Nf=N;this.m.style.width=r+"px";
this.m.style.height=N+"px";this.vW.style.width="200px";this.vW.style.paddingTop="30px";if(this.e3)this.e3.bh(r-200,N)};
function Storage(r){jZ.call(this);var N=this.m=W._("div","storage");this.bq=this.arJ.bind(this);this.xN=W._("div","bar");
N.appendChild(this.xN);this.Vh=W._("div","fls scrollable");N.appendChild(this.Vh);W.vN(this.Vh,this.bq);
this.Ie=0;this.Tu=W._("div","btn");this.Tu.textContent="Connect";W.ey(this.Tu,this.Cm.bind(this));var F=this.a65.bind(this);
this.eD=new f8([{name:"New Folder"}]);this.eD.parent=this;this.oy=new f8([{name:"Delete"}]);this.oy.parent=this;
this.eD.U("select",this.rz,this);this.oy.U("select",this.rz,this);this.m.addEventListener("contextmenu",this.bq);
this.qB=W._("div","btn");this.qB.textContent="\uD83E\uDC78";W.ey(this.qB,F);this.YS=W._("span");this.YS.style.float="right";
this.AZ=[];for(var R=0;R<3;R++){var h=W._("div","btn");this.AZ.push(h);this.YS.appendChild(h);W.ey(h,F)}this.Yv=[];
this.we="";this.nj=null;this.hT=[];this.fC=[];this.Pt=[];this.bK="";this.ado=r;this.amb=this.a3V.bind(this);
window.addEventListener("message",this.amb,!1);var m="code/storages/"+Storage.list[r][1],O=this.aa=Storage.WT[m];
if(O==null){O=this.aa=Storage.WT[m]=W._("iframe");O.setAttribute("src",m);O.setAttribute("style","display:none");
document.body.appendChild(O)}else this.Cm()}Storage.prototype=new jZ;Storage.Zw=function(R){var r=Storage.a7V[R];
if(r==null)r=Storage.a7V[R]=new Storage(R);return r};Storage.a7V=[];Storage.WT={};Storage.hn=0;Storage.$r=2;
Storage.LM=0;Storage.list=[["This Device","deviceStorage.html"],["localStorage","localStorage.html#"],["Google Drive","googledriveStorage.html"],["Dropbox","dropboxStorage.html"]];
Storage.as9=function(r){for(var N in Storage.WT)if(Storage.WT[N].contentWindow==r)return!0;return!1};
Storage.prototype.bh=function(r,N){this.m.style.width=r+"px";this.m.style.height=N+"px";this.Vh.style.width=this.xN.style.width=r-20+"px";
this.Vh.style.height=N-70+"px"};Storage.prototype.Cm=function(){this.HT("show","/"+this.Yv.join("/"))};
Storage.prototype.a65=function(r){var N=r.currentTarget;if(N==this.qB){this.Yv.pop();this.fC=[];this.HT("show","/"+this.Yv.join("/"))}if(N==this.AZ[0]){Storage.hn=(Storage.hn+1)%2;
this.Fm()}if(N==this.AZ[1]){Storage.$r=(Storage.$r+1)%3;this.Fm()}if(N==this.AZ[2]){Storage.LM=(Storage.LM+1)%3;
this.Fm()}};Storage.prototype.rz=function(r){var N=r.target.cW();console.log(N);if(r.target==this.eD){}else{var F=this.fC[0],h={V:v.c.pr,i7:"confirm"};
h.h="Do you really want to delete "+(this.fC.length==1?"\""+this.nj[F][0]+"\"":"these files")+"?";h.q3=this.Cj.bind(this);
this.Wx(h)}};Storage.prototype.Cj=function(){this.Wx({V:v.c.tP,VP:"Deleting ..."});this.Pt=[];var r="/"+this.Yv.join("/");
for(var R=0;R<this.fC.length;R++){var N=this.nj[this.fC[R]];this.Pt.push(r+N[0]+(N.length==1?"/":""))}this.a6m()};
Storage.prototype.a6m=function(){if(this.Pt.length==0){this.Wx({V:v.c.pq,VP:"Deleting ..."});this.fC=[];
this.Cm()}else this.HT("delete",this.Pt.pop())};Storage.prototype.HT=function(r,N){this.we=r;this.aa.contentWindow.postMessage("{\"code\": \""+r+"\", \"prm\": "+JSON.stringify(N)+"  }","*")};
Storage.prototype.a3V=function(r){if(r.source!=this.aa.contentWindow)return;if(typeof r.data=="string"){var N=JSON.parse(r.data),F=N.code,h=N.prm;
console.log(N);if(F=="ready"){if(h)this.Cm();else this.xN.appendChild(this.Tu)}else if(this.we=="show"){this.nj=h;
this.Fm()}else if(this.we=="save"){this.Wx({V:v.c.pq,VP:"Saving ..."})}else if(this.we=="delete"){this.a6m()}else throw F}else{this.Wx({V:v.c.alH,eL:[this.ado,this.bK],C2:r.data});
this.Wx({V:v.c.pq,VP:"Opening ..."})}};Storage.prototype.Fm=function(){var r=this.nj,N=Storage.$r,F=Storage.hn,h=Storage.LM;
r.sort(function(p,j){var T=p.length,V=j.length,E=0;if(Math.min(T,V)==1&&T!=V)return T-V;else if(T==1||N==0)E=p[0].toLowerCase()<j[0].toLowerCase()?-1:1;
else if(N==1)E=p[1]-j[1];else if(N==2)E=p[2]-j[2];if(F==1)E=-E;return E});var m=this.Vh,O=this.xN,e=this.Yv;
W.Tg(m);W.Tg(O);this.hT=[];this.AZ[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][F];this.AZ[1].textContent=["Name","Size","Date"][N];
this.AZ[2].textContent=["Tiles","Icons","List"][h];O.appendChild(this.qB);O.appendChild(this.YS);var P=W._("span");
P.textContent="/";O.appendChild(P);for(var R=0;R<e.length;R++){var P=W._("span");P.textContent=e[R];
O.appendChild(P);var P=W._("span");P.textContent="/";O.appendChild(P)}var B=["tile","icon","litm"][h];
for(var R=0;R<r.length;R++){var s=r[R],Y=s.length==1,D=W._("div",B);m.appendChild(D);this.hT.push(D);
D.setAttribute("title",s[0]);var c=W._("img");c.setAttribute("src",Y?Storage.adV:s[3]?s[3]:Storage.LT);
var o=W._("span","name"),H=s[0];if(B=="icon"&&H.length>30)H=H.slice(0,24)+".."+H.slice(H.length-5);o.textContent=H;
D.appendChild(c);D.appendChild(o);if(B!="icon"&&!Y){if(B=="tile")W.ke(o);var x=W._("span");x.textContent=iX.UP(parseFloat(s[1]));
x.style.opacity="0.8";(B=="tile"?o:D).appendChild(x)}var Q=s[0].split("."),U=(Q.length==1?"":Q.pop()).toUpperCase();
if(B!="litm"&&!Y){var I=W._("span","ext");I.textContent=U;var l=Storage.BN[U];I.style.backgroundColor=l?l:Storage.alf(U);
D.appendChild(I)}W.vN(D,this.bq);D.addEventListener("contextmenu",this.bq)}this.agA()};Storage.prototype.agA=function(){var r=this.hT;
for(var R=0;R<r.length;R++){var N=r[R];if(this.fC.indexOf(R)==-1)W.PV(N,"active");else W.Ou(N,"active")}};
Storage.prototype.arJ=function(r){this.Wx({V:v.c.Wd});r.stopPropagation();var R=this.hT.indexOf(r.currentTarget);
if(r.type=="contextmenu"){r.preventDefault();var N=R==-1?this.eD:this.oy;N.parent=this;N.f();this.Wx({V:v.c.hN,f3:N,x:r.clientX+4,y:r.clientY});
return}if(r.button!=0&&this.fC.indexOf(R)!=-1)return;if(r.target==this.Vh)this.fC=[];else{var F=this.fC,h=F.indexOf(R);
if(Date.now()-this.Ie<300){var m=this.nj[R];if(m.length==1){this.Yv.push(m[0]);this.HT("show","/"+this.Yv.join("/"))}else{this.Wx({V:v.c.tP,VP:"Opening ..."});
var O=new gf(v.E.zq,!0);this.L(O);this.bK="/"+this.Yv.join("/")+(this.Yv.length==0?"":"/")+m[0];this.HT("load",this.bK);
this.Ie=0;return}}if(r.ctrlKey){if(h==-1)F.push(R);else F.splice(h,1)}else if(r.shiftKey&&F.length!=0){var e=F[0];
if(e<R){var P=R;R=e;e=P}this.fC=F=[];for(var B=R;B<=e;B++)F.push(B)}else this.fC=[R]}this.Ie=Date.now();
this.agA()};Storage.prototype.Wx=function(r){var N=new gf(v.E.S,!0);N.data=r;this.L(N)};Storage.prototype.asJ=function(r,N){this.Wx({V:v.c.tP,VP:"Saving ..."});
this.HT("save",r);this.aa.contentWindow.postMessage(N,"*")};Storage.BN={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};
Storage.alf=function(r){r=r.toLowerCase();var N=0;for(var R=0;R<r.length;R++)N+=r.charCodeAt(R)*613<<8*R;
return"#"+w.GG(N&16777215)};Storage.adV="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.LT="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function q(r){jZ.call(this);this.hY=r;this.m=W._("div","");this.ld=[];this.C3=null;this.a4d=[]}q.prototype=new jZ;
q.prototype.RH=function(r){};q.prototype.fj=function(){return!1};q.prototype.bh=function(r,N){};q.prototype.Qr=function(r,N){};
q.prototype.ff=function(r){};q.prototype.b=function(r,N,F,h,m,O){var e=[],P=this.ld,B=0,s=df.aZ["s"+this.hY];
s?s(r,e,O):this.Kx(r,e,O);for(var R=0;R<P.length;R++)if(!(P[R]instanceof bB))P[R].b(e[B++]);if(r.RndS)this.C3=r.RndS.v};
q.prototype.k=function(){var r=df.T$(this.hY),N=[],F=this.ld,h=0;for(var R=0;R<F.length;R++)if(!(F[R]instanceof bB))N[h++]=F[R].k();
var m=df.aZ["g"+this.hY];m?m(r,N):this.dC(r,N);if(r.RndS)r.RndS.v=this.C3;return r};q.prototype.BD=function(r){};
q.prototype.qM=function(r){if(r&&r.target instanceof d_){this.C3=Math.floor(Math.random()*4294967295)}var N=this.a4d;
for(var R=0;R<N.length;R+=2){var F=this.ld[N[R]],h=this.ld[N[R+1]],m=F.k(),O=h.k();if(r.target==F)h.b(Math.max(m,O));
else F.b(Math.min(m,O))}this.L(new gf(v.E.o))};q.prototype.f=function(){for(var R=0;R<this.ld.length;
R++)this.ld[R].f();var r=this.au8;if(r)r.f()};q.prototype.GH=function(r){W.Ou(this.m,"form");var N=this.ld;
for(var R=0;R<N.length;R++){var F=N[R];F.parent=this;F.U(v.E.o,this.qM,this);this.m.appendChild(F.m);
if(F instanceof bf&&N[R+1]instanceof cw)continue;if(r&&r.indexOf(R)!=-1)W.oL(this.m);else W.ke(this.m)}var h=df.T$(this.hY);
if(h.RndS){var m=this.au8=new d_([25,1,2],null,null,!0);this.m.appendChild(m.m);m.U("click",this.qM,this)}};
q.prototype.gz=function(){return!1};q.prototype.vV=function(r,N,F,h,m){};q.prototype.Ui=function(r,N,F,h,m){};
q.prototype.wJ=function(r,N,F,h,m){};q.prototype.dC=function(r,N){};q.prototype.Kx=function(r,N){};q.prototype.JC=function(r){var N=r.target.k().indexOf(!0)!=-1,F=new gf(v.E.S,!0);
F.pR=!0;F.data={V:N?v.c.z4:v.c.ad,s:z.SF};this.L(F);F=new gf(v.E.u,!0);F.s=z.SF;F.pR=!0;F.data={V:"supertool",s:N?this:null};
this.L(F)};q.a9C=function(r){r.gz=function(){return!0};r.vV=function(N,F,h,m,O){this.vn=!0;this.aip(N,O)};
r.Ui=function(N,F,h,m,O){if(!this.vn)return;this.aip(N,O)};r.wJ=function(N,F,h,m,O){this.vn=!1};r.aip=function(N,F){var h=new fE(0,0,N.e,N.n);
if(N.$)h=N.$.rect;var m=N.q.RX(F.x,F.y);m.x-=h.x;m.y-=h.y;function O(e,P){return Math.round(Math.max(0,Math.min(100,100*e/P)))}this.ld[2].b(O(m.x,h.e));
this.ld[3].b(O(m.y,h.n));this.qM()}};q.Bokh=function(){q.call(this,"Bokh");this.ld=[new b2("Depth Map",["A","b"]),new d5("Focal Distance",0,255),new bf([4,11]),new b2([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new d5([12,56],0,100),new d5([12,15],0,360),new d5([12,2],0,100),new d5([4,13],0,255),new d5([24,6],0,100),new ch([12,58],[[12,59,0],[12,59,1]]),new bf([12,60])];
this.GH([5,7])};q.Bokh.prototype=new q;q.Bokh.prototype.Kx=function(r,N,F){var h=[[22,5,0],[6,5,3],[6,2]],m=r.BkDi.v.BtDi,O=r.BkDc,e=0;
if(m=="BeIn")e=0;else if(m=="BeIt"&&O.v.BtDc=="BeCt")e=1;else if(m=="BeIt"&&O.v.BtDc=="BeCm")e=2;else e=3+O.v;
for(var R=0;R<F[1].length;R++)h.push(F[1][R].name);this.ld[0].eo(h,[3]);N[0]=e;N[1]=r.BkDp.v;N[2]=r.BkDs.v;
N[3]=parseInt(r.BkIs.v.BtIs.slice(3))-3;N[4]=r.BkIb.v;N[5]=r.BkIr.v;N[6]=r.BkSb.v;N[7]=r.BkSt.v;N[8]=r.BkNa.v;
N[9]=r.BkNt.v.BtNt=="BeNu"?0:1;N[10]=r.BkNm.v};q.Bokh.prototype.dC=function(r,N){var F;if(N[0]==0){F="BeIn";
delete r.BkDc}else if(N[0]<3){F="BeIt";r.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][N[0]-1]}}}else{F="BeIa";
r.BkDc={t:"long",v:N[0]-3}}r.BkDi.v.BtDi=F;r.BkDp.v=N[1];r.BkDs.v=N[2];r.BkIs.v.BtIs="BeS"+(3+N[3]);
r.BkIb.v=N[4];r.BkIr.v=N[5];r.BkSb.v=N[6];r.BkSt.v=N[7];r.BkNa.v=N[8];r.BkNt.v.BtNt=["BeNu","BeNg"][N[9]];
r.BkNm.v=N[10]};q.oilPaint=function(){q.call(this,"oilPaint");this.ld=[new d5([12,56],.1,10,"px",!0),new d5("Cleanliness",0,10,"px",!0),new d5([12,38],.1,10,null,!0),new d5("Bristle Detail",0,10,null,!0),new bf("Lighting"),new d5("Shine",0,10,null,!0),new eN([12,15])];
this.GH()};q.oilPaint.prototype=new q;q.oilPaint.prototype.Kx=function(r,N){var F="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var R=0;R<F.length;R++)N[R]=r[F[R]].v;N[6]=[r.LghD.v]};q.oilPaint.prototype.dC=function(r,N){var F="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var R=0;R<F.length;R++)r[F[R]].v=N[R];r.LghD.v=N[6][0]};q.TrcC=function(){q.call(this,"TrcC");this.ld=[new d5("Level",0,255),new ch([12,69],[[19,4,1],[19,4,0]])];
this.GH()};q.TrcC.prototype=new q;q.TrcC.prototype.Kx=function(r,N){N[0]=r.Lvl.v;N[1]=["Lwr","Upr"].indexOf(r.Edg.v.CntE)};
q.TrcC.prototype.dC=function(r,N){r.Lvl.v=N[0];r.Edg.v.CntE=["Lwr","Upr"][N[1]]};q["Dfs "]=function(){q.call(this,"Dfs ");
this.ld=[new ch([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.GH()};q["Dfs "].prototype=new q;
q["Dfs "].prototype.Kx=function(r,N){N[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(r.Md.v.DfsM)};
q["Dfs "].prototype.dC=function(r,N){r.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][N[0]]};q.Embs=function(){q.call(this,"Embs");
this.ld=[new eN([12,15]),new d5([12,42],1,100,"px"),new d5([12,57],1,500,"%")];this.GH()};q.Embs.prototype=new q;
q.Embs.prototype.Kx=function(r,N){N[0]=[r.Angl.v];N[1]=r.Hght.v;N[2]=r.Amnt.v};q.Embs.prototype.dC=function(r,N){r.Angl.v=N[0][0];
r.Hght.v=N[1];r.Amnt.v=N[2]};q["Wnd "]=function(){q.call(this,"Wnd ");this.ld=[new ch([12,32],["Wind","Blast","Stagger"]),new ch([12,33],["From the Right","From the Left"])];
this.GH()};q["Wnd "].prototype=new q;q["Wnd "].prototype.Kx=function(r,N){N[0]=["Wnd","Blst","Stgr"].indexOf(r.WndM.v.WndM);
N[1]=["Left","Rght"].indexOf(r.Drct.v.Drct)};q["Wnd "].prototype.dC=function(r,N){r.WndM.v.WndM=["Wnd","Blst","Stgr"][N[0]];
r.Drct.v.Drct=["Left","Rght"][N[1]]};q.denoise=function(){q.call(this,"denoise");this.ld=[new d5([12,64],0,10),new d5([12,65],0,100,"%")];
this.GH()};q.denoise.prototype=new q;q.denoise.prototype.Kx=function(r,N){var F=r.channelDenoise.v[0].v;
N[0]=F.Amnt.v;N[1]=F.EdgF.v};q.denoise.prototype.dC=function(r,N){var F=r.channelDenoise.v[0].v;F.Amnt.v=N[0];
F.EdgF.v=N[1]};q.lightFilterGradient=function(){q.call(this,"lightFilterGradient");this.ld=[new d5([24,3,1],0,100,"px",1,!0),new d5([12,38],0,200,"%"),new bf([4,11]),new d5("High",0,100,"%"),new d5("Medium",0,100,"%"),new d5("Low",0,100,"%")];
this.GH()};q.lightFilterGradient.prototype=new q;q.lightFilterGradient.prototype.Kx=function(r,N){N[0]=r.blur.v;
N[1]=r.textureScale.v*100;N[2]=r.Scl.v==-1;var F=r.Dtl.v;N[3]=F[0].v*100;N[4]=F[1].v*100;N[5]=F[2].v*100};
q.lightFilterGradient.prototype.dC=function(r,N){r.blur.v=N[0];r.textureScale.v=N[1]/100;r.Scl.v=N[2]?-1:1;
var F=r.Dtl.v;F[0].v=N[3]/100;F[1].v=N[4]/100;F[2].v=N[5]/100};q.Fbrs=function(){q.call(this,"Fbrs");
this.ld=[new d5("Variance",1,64),new d5([12,64],1,64)];this.GH()};q.Fbrs.prototype=new q;q.Fbrs.prototype.Kx=function(r,N){N[0]=r.Vrnc.v;
N[1]=r.Strg.v};q.Fbrs.prototype.dC=function(r,N){r.Vrnc.v=N[0];r.Strg.v=N[1]};q.LnsF=function(){q.call(this,"LnsF");
this.ld=[new d5([12,2],10,300,"%"),new ch([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new d5("Position X",0,100,"%"),new d5("Position Y",0,100,"%")];
this.GH()};q.LnsF.prototype=new q;q.LnsF.prototype.Kx=function(r,N){N[0]=r.Brgh.v;N[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(r.Lns.v.Lns);
var F=r.FlrC.v;N[2]=Math.round(F.Hrzn.v*100);N[3]=Math.round(F.Vrtc.v*100)};q.LnsF.prototype.dC=function(r,N){r.Brgh.v=N[0];
r.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][N[1]];var F=r.FlrC.v;F.Hrzn.v=N[2]/100;F.Vrtc.v=N[3]/100};q.a9C(q.LnsF.prototype);
q.blendOptions=function(){q.call(this,"blendOptions");this.ld.push(new b2([12,19,0],g6.zd,!1,g6.yj));
this.ld.push(new d5([12,0],0,100,"%"));this.GH()};q.blendOptions.prototype=new q;q.blendOptions.prototype.Kx=function(r,N){N[0]=g6.EO.indexOf(r.Md.v.BlnM);
N[1]=r.Opct.v.val};q.blendOptions.prototype.dC=function(r,N){r.Md.v.BlnM=g6.EO[N[0]];r.Opct.v.val=N[1]};
q.LnCr=function(){q.call(this,"LnCr");this.ld=[new d5([12,57],-100,100),new d5([12,38],10,150,"%")];
this.GH()};q.LnCr.prototype=new q;q.LnCr.prototype.Kx=function(r,N){N[0]=r.LnIa.v;N[1]=r.LnSi.v};q.LnCr.prototype.dC=function(r,N){r.LnIa.v=N[0];
r.LnSi.v=N[1]};q.adaptCorrect=function(){q.call(this,"adaptCorrect");var r=em;this.ld=[new bB([19,6,0]),new r([12,57],0,100,"%"),new r("Tone",0,100,"%"),new r([12,56],0,200,"px"),new bB([19,6,2]),new r([12,57],0,100,"%"),new r("Tone",0,100,"%"),new r([12,56],0,200,"px"),new bB([3]),new r([13,0],-100,100)];
this.GH([3,7])};q.adaptCorrect.prototype=new q;q.adaptCorrect.prototype.Kx=function(r,N){var F=r.sdwM.v;
N[0]=F.Amnt.v.val;N[1]=F.Wdth.v.val;N[2]=F.Rds.v;var F=r.hglM.v;N[3]=F.Amnt.v.val;N[4]=F.Wdth.v.val;
N[5]=F.Rds.v;N[6]=r.ClrC.v};q.adaptCorrect.prototype.dC=function(r,N){var F=r.sdwM.v;F.Amnt.v.val=N[0];
F.Wdth.v.val=N[1];F.Rds.v=N[2];var F=r.hglM.v;F.Amnt.v.val=N[3];F.Wdth.v.val=N[4];F.Rds.v=N[5];r.ClrC.v=N[6]};
q.Flam=function(){q.call(this,"Flam");var r=this.ld=[new b2([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new d5([12,80,0],20,1e3,"px"),new bf("Randomize Length"),new d5([12,41],5,600,"px"),new d5([12,15],0,360,"\xB0"),new d5("Interval",10,200,"px"),new bf("Adapt Interval for Loops"),new cw(!1),new b2([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new d5("Turbulent",0,100),new d5("Jag",0,100),new d5([12,0],0,100),new d5("Lines",2,30),new d5("Bottom",0,100),new b2([12,22],["Normal","Violent","Flat"]),new b2([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new bf("Randomize Shape"),new d5("Random Seed",0,100)];
this.GH();var N=this.m;W.Tg(N);var F=new ch(null,["Basic","Advanced"]);F.U(v.E.o,this.a9E,this);N.appendChild(F.m);
W.oL(N);var h=W._("div"),m=W._("div");this.a3d=[h,m];N.appendChild(h);for(var R=0;R<r.length;R++){(R<9?h:m).appendChild(r[R].m);
if(R==6)W.ke(h)}r[0].U(v.E.o,this.asn,this);this.asn()};q.Flam.prototype=new q;q.Flam.prototype.asn=function(r){var N=this.ld,R=N[0].k();
N[1].W9(R!=0&&R!=5);N[2].W9(R!=0&&R!=5);N[4].W9(R!=0&&R!=5&&R!=1);N[5].W9(R!=0&&R!=5);N[6].W9(R!=0&&R!=5)};
q.Flam.prototype.a9E=function(r){var R=r.target.k(),N=this.a3d,F=this.m;F.removeChild(N[1-R]);F.appendChild(N[R])};
q.boxblur=function(){q.call(this,"boxblur");this.ld=[new d5([12,56],1,200," px")];this.GH()};q.boxblur.prototype=new q;
q.boxblur.prototype.Kx=function(r,N){N[0]=r.Rds.v.val};q.boxblur.prototype.dC=function(r,N){r.Rds.v.val=N[0]};
q.GsnB=function(){q.call(this,"GsnB");this.ld=[new d5([12,56],.1,400,"px",1,!0)];this.GH()};q.GsnB.prototype=new q;
q.MtnB=function(){q.call(this,"MtnB");this.ld=[new eN([12,15]),new d5([12,28],1,100," px")];this.GH()};
q.MtnB.prototype=new q;q.RdlB=function(){q.call(this,"RdlB");this.ld=[new d5([12,57],1,100),new ch([12,36],["Spin","Zoom"]),new d5("Position X",0,100,"%"),new d5("Position Y",0,100,"%")];
this.GH()};q.RdlB.prototype=new q;q.RdlB.prototype.Kx=function(r,N){N[0]=r.Amnt.v;N[1]=["Spn","Zm"].indexOf(r.BlrM.v.BlrM);
N[2]=r.Cntr.v.Hrzn.v*100;N[3]=r.Cntr.v.Vrtc.v*100};q.RdlB.prototype.dC=function(r,N){r.Amnt.v=N[0];r.BlrM.v.BlrM=["Spn","Zm"][N[1]];
r.Cntr.v.Hrzn.v=N[2]/100;r.Cntr.v.Vrtc.v=N[3]/100};q.a9C(q.RdlB.prototype);q.Dspl=function(){q.call(this,"Dspl");
this.ld=[new b2([6,36,3],["a","b"]),new d5([22,4,0],-100,100,"px"),new d5([22,4,1],-100,100,"px"),new b2([24,18,0],[[24,18,3],[24,18,2]])];
this.GH()};q.Dspl.prototype=new q;q.Dspl.prototype.Kx=function(r,N,F){this.akt=[];this.bo=[];var h=-1,m=F?F[0]:null;
if(m==null)m=this.a1g;else this.a1g=m;if(m)for(var R=0;R<m.length;R++){var O=m[R];this.akt.push(O.bp.trim());
this.bo.push(O.$U);if(O.$U==r.DspF.v.pth)h=R}this.ld[0].eo(this.akt);N[0]=h==-1?0:h;N[1]=r.HrzS.v;N[2]=r.VrtS.v;
N[3]=["WrpA","RptE"].indexOf(r.UndA.v.UndA)};q.Dspl.prototype.dC=function(r,N){if(this.bo.length==0)return;
r.DspF.v.pth=this.bo[N[0]];r.HrzS.v=N[1];r.VrtS.v=N[2];r.UndA.v.UndA=["WrpA","RptE"][N[3]]};q.Pnch=function(){q.call(this,"Pnch");
this.ld=[new d5([12,57],-100,100,"%")];this.GH()};q.Pnch.prototype=new q;q["Plr "]=function(){q.call(this,"Plr ");
this.ld=[new ch(null,["Rect to Polar","Polar to Rect"])];this.GH()};q["Plr "].prototype=new q;q.Rple=function(){q.call(this,"Rple");
this.ld=[new d5([12,57],-999,999),new b2([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.GH()};q.Rple.prototype=new q;
q["Shr "]=function(){q.call(this,"Shr ");this.ld=[new aU(!0,!0),new b2([24,18,0],[[24,18,3],[24,18,2]])];
this.GH()};q["Shr "].prototype=new q;q["Shr "].prototype.Kx=function(r,N){var F=new hc(0,255/127,255/127,0,-2,128),h=JSON.parse(JSON.stringify(r.ShrP.v));
w.WC.A(h,F);N[0]=h;N[1]=["WrpA","RptE"].indexOf(r.UndA.v.UndA)};q["Shr "].prototype.dC=function(r,N){var F=new hc(0,255/127,255/127,0,-2,128);
F.iL();w.WC.A(N[0],F);r.ShrP.v=N[0];r.ShrE.v=N[0].length-1;r.UndA.v.UndA=["WrpA","RptE"][N[1]]};q.Sphr=function(){q.call(this,"Sphr");
this.ld=[new d5([12,57],-100,100),new b2([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.GH()};q.Sphr.prototype=new q;
q.Sphr.prototype.Kx=function(r,N){N[0]=r.Amnt.v;N[1]=["Nrml","HrzO","VrtO"].indexOf(r.SphM.v.SphM)};
q.Sphr.prototype.dC=function(r,N){r.Amnt.v=N[0];r.SphM.v.SphM=["Nrml","HrzO","VrtO"][N[1]]};q.Dthr=function(){q.call(this,"Dthr");
this.ld=[new b2("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.GH()};q.Dthr.prototype=new q;
q.Dthr.prototype.Kx=function(r,N){N[0]=r.Plte.v};q.Dthr.prototype.dC=function(r,N){r.Plte.v=N[0]};q.Twrl=function(){q.call(this,"Twrl");
this.ld=[new d5([12,15],-999,999)];this.GH()};q.Twrl.prototype=new q;q.Wave=function(){q.call(this,"Wave");
this.a4d=[1,2,3,4];this.ld=[new d5("Number of Generators",1,100),new em("Min Length",1,999),new em("Max Length",1,999),new em("Min Ampl.",1,999),new em("Max Ampl.",1,999),new em("Scale X",1,100,"%"),new em("Scale Y",1,100,"%"),new ch([12,44],["Sine","Triangle",[12,93,3]]),new b2([24,18,0],[[24,18,3],[24,18,2]]),new g8("Randomizer Seed")];
this.GH()};q.Wave.prototype=new q;q.Wave.prototype.Kx=function(r,N){N[0]=r.NmbG.v;N[1]=r.WLMn.v;N[2]=r.WLMx.v;
N[3]=r.AmMn.v;N[4]=r.AmMx.v;N[5]=r.SclH.v;N[6]=r.SclV.v;N[7]=["WvSn","WvTr","WvSq"].indexOf(r.Wvtp.v.Wvtp);
N[8]=["WrpA","RptE"].indexOf(r.UndA.v.UndA);N[9]=r.RndS.v};q.Wave.prototype.dC=function(r,N){r.NmbG.v=N[0];
r.WLMn.v=N[1];r.WLMx.v=N[2];r.AmMn.v=N[3];r.AmMx.v=N[4];r.SclH.v=N[5];r.SclV.v=N[6];r.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][N[7]];
r.UndA.v.UndA=["WrpA","RptE"][N[8]];var F=parseInt(N[9]);if(isNaN(F))F=248325464;F=Math.max(0,Math.min(268435455,F));
r.RndS.v=F;this.ld[9].b(F)};q.ZgZg=function(){q.call(this,"ZgZg");this.ld=[new d5([12,57],-100,100),new d5("Ridges",0,20),new b2([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.GH()};q.ZgZg.prototype=new q;q.surfaceBlur=function(){q.call(this,"surfaceBlur");this.ld=[new d5([12,56],1,200," px"),new d5([4,13],1,255," px")];
this.GH()};q.surfaceBlur.prototype=new q;q.surfaceBlur.prototype.Kx=function(r,N){N[0]=r.Rds.v.val;N[1]=r.Thsh.v};
q.surfaceBlur.prototype.dC=function(r,N){r.Rds.v.val=N[0];r.Thsh.v=N[1]};q.AdNs=function(){q.call(this,"AdNs");
this.ld=[new d5([12,57],0,200," %"),new b2([12,58],[[12,59,1],[12,59,0]]),new bf([12,60])];this.GH()};
q.AdNs.prototype=new q;q.DstS=function(){q.call(this,"DstS");this.ld=[new d5([12,56],1,200," px"),new d5([4,13],1,255," px")];
this.GH()};q.DstS.prototype=new q;q["Mdn "]=function(){q.call(this,"Mdn ");this.ld=[new d5([12,56],1,200," px")];
this.GH()};q["Mdn "].prototype=new q;q["Mdn "].prototype.Kx=function(r,N){N[0]=r.Rds.v.val};q["Mdn "].prototype.dC=function(r,N){r.Rds.v.val=N[0]};
q.ClrH=function(){q.call(this,"ClrH");this.ld=[new d5([12,56],4,100," px")];for(var R=1;R<4;R++)this.ld.push(new d5("Angle "+R,0,90," \xB0"));
this.GH()};q.ClrH.prototype=new q;q.ClrH.prototype.Kx=function(r,N){N[0]=r.Rds.v;for(var R=1;R<4;R++)N[R]=r["Ang"+R].v};
q.ClrH.prototype.dC=function(r,N){r.Rds.v=N[0];for(var R=1;R<4;R++)r["Ang"+R].v=N[R]};q.ClrH.prototype.f=function(){var r=this.ld;
r[0].f();for(var R=1;R<4;R++)r[R].o6(ab.get([12,15])+" "+R)};q.Crst=function(){q.call(this,"Crst");this.ld=[new d5([12,61],3,100," px")];
this.GH()};q.Crst.prototype=new q;q.Crst.prototype.Kx=function(r,N){N[0]=r.ClSz.v};q.Crst.prototype.dC=function(r,N){r.ClSz.v=N[0]};
q.Mztn=function(){q.call(this,"Mztn");this.ld.push(new b2([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.bo="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.GH()};q.Mztn.prototype=new q;
q.Mztn.prototype.Kx=function(r,N){N[0]=this.bo.indexOf(r.MztT.v.MztT)};q.Mztn.prototype.dC=function(r,N){r.MztT.v.MztT=this.bo[N[0]]};
q["Msc "]=function(){q.call(this,"Msc ");this.ld=[new d5([12,61],2,200," px")];this.GH()};q["Msc "].prototype=new q;
q["Msc "].prototype.Kx=function(r,N){N[0]=r.ClSz.v.val};q["Msc "].prototype.dC=function(r,N){r.ClSz.v.val=N[0]};
q.Pntl=function(){q.call(this,"Pntl");this.ld=[new d5([12,61],3,100," px")];this.GH()};q.Pntl.prototype=new q;
q.Pntl.prototype.Kx=function(r,N){N[0]=r.ClSz.v};q.Pntl.prototype.dC=function(r,N){r.ClSz.v=N[0]};q.smartSharpen=function(){q.call(this,"smartSharpen");
this.ld=[new d5([12,57],1,200,"%"),new d5([12,56],0,200,"px",1,!0)];this.GH()};q.smartSharpen.prototype=new q;
q.smartSharpen.prototype.Kx=function(r,N){N[0]=r.Amnt.v.val;N[1]=r.Rds.v.val};q.smartSharpen.prototype.dC=function(r,N){r.Amnt.v.val=N[0];
r.Rds.v.val=N[1]};q.UnsM=function(){q.call(this,"UnsM");this.ld=[new d5([12,57],1,200," %"),new d5([12,56],.1,400,"px",1,!0),new d5([4,13],0,255," ")];
this.GH()};q.UnsM.prototype=new q;q.HghP=function(){q.call(this,"HghP");this.ld=[new d5([12,56],.1,400,"px",1,!0)];
this.GH()};q.HghP.prototype=new q;q.HsbP=function(){q.call(this,"HsbP");this.ld=[new ch("Input",["RGB","HSB","HSL"]),new ch("Output",["RGB","HSB","HSL"])];
this.GH()};q.HsbP.prototype=new q;q["Mxm "]=function(){q.call(this,"Mxm ");this.ld=[new d5([12,56],.1,200," px",1,!0),new b2([12,76,1],[[12,93,3],"Circle"])];
this.GH()};q["Mxm "].prototype=new q;q["Mnm "]=function(){q.call(this,"Mnm ");this.ld=[new d5([12,56],.1,200," px",1,!0),new b2([12,76,1],[[12,93,3],"Circle"])];
this.GH()};q["Mnm "].prototype=new q;q.Ofst=function(){q.call(this,"Ofst");this.ld=[new d5([22,4,0],-1024,1024," px"),new d5([22,4,1],-1024,1024," px"),new b2([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.GH()};q.Ofst.prototype=new q;q.Kale=function(){q.call(this,"Kale");this.ld=[new em("Mirrors",2,20),new em([12,15],0,360,"\xB0")];
this.GH()};q.Kale.prototype=new q;q.Kale.prototype.Kx=function(r,N){N[0]=r.Mirr.v;N[1]=r.MRot.v};q.Kale.prototype.dC=function(r,N){r.Mirr.v=N[0];
r.MRot.v=N[1]};q.Rept=function(){q.call(this,"Rept");this.ld=[new em([12,38],1,300," %"),new em("Row Shift",-50,50," %"),new em("Space X",-99,200," %"),new em("Space Y",-99,200," %"),new bf([4,16,2]),new eN([12,15])];
this.GH()};q.Rept.prototype=new q;q.Rept.prototype.Kx=function(r,N){N[0]=r.Scl.v.val;N[1]=r.Rsft.v.val;
N[2]=r.SpcX.v.val;N[3]=r.SpcY.v.val;N[4]=r.SpcC.v;N[5]=[r.Angl.v]};q.Rept.prototype.dC=function(r,N){r.Scl.v.val=N[0];
r.Rsft.v.val=N[1];r.SpcX.v.val=N[2];r.SpcY.v.val=N[3];r.SpcC.v=N[4];r.Angl.v=N[5][0];return r};q.Ctoa=function(){q.call(this,"Ctoa");
this.ld=[new bB([13,0]),new cw(!0),new d5(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new d5(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.GH()};q.Ctoa.prototype=new q;q.Ctoa.prototype.Kx=function(r,N){N[0]=r.Clr.v;N[1]=r.Trsp.v.val;N[2]=r.Opct.v.val};
q.Ctoa.prototype.dC=function(r,N){r.Clr.v=N[0];r.Trsp.v.val=N[1];r.Opct.v.val=N[2]};q.LqFy=function(){q.call(this,"LqFy");
this._e=!1;this.A0=!1;this.tf=null;this.abc=null;this.s=0;this.P={Ql:[[{s:{id:0,name:[24,1,0,1,0],L1:"liq/smudge"}}],[{s:{id:1,name:[24,1,0,1,1],L1:"liq/reconstruct"}}],[{s:{id:2,name:[24,1,0,1,2],L1:"liq/smooth"}}],[{s:{id:3,name:[24,1,0,1,3],L1:"liq/twirl"}}],[{s:{id:4,name:[24,1,0,1,4],L1:"liq/shrink"}}],[{s:{id:5,name:[24,1,0,1,5],L1:"liq/blow"}}],[{s:{id:6,name:[24,1,0,1,6],L1:"liq/pleft"}}],[{s:{id:7,name:"Hand",L1:"tools/hand"}}],[{s:{id:8,name:"Zoom In",L1:"zoomIn"}}],[{s:{id:9,name:"Zoom Out",L1:"zoomOut"}}]],keys:[]};
this.bm=new i9(this.P,!1);this.bm.yo(0);this.bm.U(v.E.S,this.a7O,this);this.Zm=bR.qd();this.Fa=null;
this.RA=[];this.B8=-1;this.wR=null;this.a9J=null;this.al=null;this.ZJ=null;this.zy=null;var r=W._("div","flexrow");
this.jY=r;this.m.appendChild(r);r.appendChild(this.bm.m);this.view=new cA(!0);this.view.bh(100,100);
this.view.U("mousedown",this.DY,this);this.view.U("mousemove",this.VQ,this);this.view.U("mouseup",this.gm,this);
this.view.U("zoom",this.LN,this);r.appendChild(this.view.m);var N=W._("div","form");r.appendChild(N);
this.cn=N;N.style.width="230px";this.wF=[new d5([12,14,0],0,1e3,null,!1,!0),new d5([12,74],0,100,null,!1,!1),new d5([12,84],0,100,null,!1,!1),new bf([12,46]),new d5([12,0],0,100,null,!1,!1),new bf([24,18,5])];
var F=this.Zm.Brsh.v;F.Dmtr.v.val=100;var h=[100,50,100,!1,100,!0];for(var R=0;R<this.wF.length;R++){var m=this.wF[R];
m.b(h[R]);if(R==4)m.Xo();m.U(v.E.o,this.avX,this);N.appendChild(m.m)}var O=this.amS=new d_([1,12,2],!0,null,!0);
O.U("click",this.ik,this);N.appendChild(O.m);this.asd=this.Vo.bind(this);this.Y4=new jZ;this.Y4.m=W._("div","floatcont");
this.u2=new d_("Menu",!1,null,!0);var e=this.u2.m;e.setAttribute("style","position:absolute; right:13px; top:47px");
W.vN(e,this.apd.bind(this))};q.LqFy.prototype=new q;q.LqFy.prototype.fj=function(){return!0};q.LqFy.prototype.RH=function(r){this.cn.appendChild(r)};
q.LqFy.prototype.apd=function(r){if(W.Xs(this.Y4.m))return;r.stopPropagation();var N=this.u2.m.getBoundingClientRect();
this.Y4.m.appendChild(this.cn);var F=new gf(v.E.S,!0);F.data={V:v.c.hN,f3:this.Y4,x:N.right+N.width-290,y:N.top+N.height};
this.L(F)};q.LqFy.prototype.BD=function(r){this._e=r.j(bh.sV);var N=z.a3.Wr(this.Zm,r);if(N!=null){this.Zm=N;
this.LN();this.wF[0].b(N.Brsh.v.Dmtr.v.val)}else if(r.j(bh.hg)&&r.j(bh.Uy)){var F=this.RA;if(r.j(bh.wQ)){if(this.B8+1<F.length)this.B8++}else if(this.B8>0)this.B8--;
this.Fa.map=F[this.B8].slice(0);this.Fm(null)}else this.view.BD(r)};q.LqFy.prototype.a7O=function(r){if(r.data.V==v.c.z4){var N=this.s=r.data.s;
this.bm.yo(this.s);this.view.BD(N>6?cA.a6n(N-7):new bh)}};q.LqFy.prototype.avX=function(r){var N=r.currentTarget,R=this.wF.indexOf(N),F=this.Zm.Brsh.v;
if(R==0){F.Dmtr.v.val=N.k();this.LN()}this.wF[4].W9(this.wF[3].k());if(R>2)this.Fm(null)};q.LqFy.prototype.pb=function(){var r=this.RA;
this.B8++;r[this.B8]=this.Fa.map.slice(0);while(r.length>this.B8+1)r.pop();while(r.length>50){r=r.slice(1);
this.B8--}};q.LqFy.prototype.DY=function(r){this.tf=this.view.lj();this.abc=new gS(0,0);this.A0=!0;window.requestAnimationFrame(this.asd)};
q.LqFy.prototype.VQ=function(r){var N=this.view.lj(),F=new gS(N.x-this.tf.x,N.y-this.tf.y);if(this.s==0||this.s==6)this.alm(F);
this.tf=N};q.LqFy.prototype.gm=function(r){this.pb();this.A0=!1};q.LqFy.prototype.Vo=function(r){if(this.s!=0&&this.s!=6)this.alm(new gS(0,0));
if(this.A0)window.requestAnimationFrame(this.asd)};q.LqFy.prototype.alm=function(r){var N=this.Fa,F=N.YW/this.wR.e,h=this.tf,m=this.Zm.Brsh.v,O=m.Dmtr.v.val,e=Date.now(),P=N.YW,B=N.Nf,s=Math.sqrt(r.x*r.x+r.y*r.y),Y=Math.max(1,Math.ceil(s/2)),D=r.x/Y,c=r.y/Y,o=h.clone(),H=this.s,x=this.wF[1].k()/100,Q=this.wF[2].k()/100,U=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],I=U[H*2],l=U[H*2+1],p=(1-x)*I+x*l,j=O*F/2;
for(var R=0;R<Y;R++){var T=[];o.x+=D;o.y+=c;w.j_.a00(N.map,P,B,H,o.x*F,o.y*F,j,x,Q,D*F,c*F,T,this._e);
w.j_.a2Q(P,B,N.map,T,2*p*Q)}var V=new fE(0,0,P,B),E=new fE(h.x*F,h.y*F,0,0);E.r2(O*F*.5,O*F*.5);var _=E.clone();
_.offset(r.x*F,r.y*F);E=E.fD(_);var f=new fE(E.x/F,E.y/F,E.e/F,E.n/F);f=w.p.Bj(f).c_(this.wR);this.wF[5].b(!0);
this.Fm(f)};q.LqFy.prototype.LN=function(){var r=hy.j5(this.Zm,null,this.view.Md().O);this.view.Gq(r)};
q.LqFy.prototype.b=function(r,N,F,h,m){F=F.clone();if(N==null)return;if(!h.cj(F)){var O=F.fD(h),e=w.B(O.W()*4);
w.L3(N,F,e,O);N=e;F=O;var P=w.B(O.W()*4);w.L3(m,h,P,O);m=P}F.x=F.y=0;this.al=N;this.a9J=m;this.zy=N.slice(0);
this.ZJ=N.slice(0);this.wR=F;this.Fa=ca.ep(new Uint8Array(r.LqMe.v).buffer);var B=F.e,s=F.n;if(this.Fa.YW/B<.22){this.Fa={YW:Math.floor(B/4),Nf:Math.floor(s/4)};
this.Fa.map=new Float32Array(this.Fa.YW*this.Fa.Nf*2)}this.RA=[];this.B8=-1;this.pb();this.Fm(null);
this.view.RW();this.LN()};q.LqFy.prototype.k=function(){var r=df.T$("LqFy"),N=new Uint8Array(ca.u_(this.Fa)),F=[];
for(var R=0;R<N.length;R++)F.push(N[R]);r.LqMe.v=F;return r};q.LqFy.prototype.bh=function(r,N){this.bm.bh(r,N);
var F=this.u2.m,h=this.cn;this.jY.appendChild(h);this.jY.appendChild(F);if(r>450&&r-N>200){h.style.marginLeft="1em";
this.jY.removeChild(F);this.view.bh(r-238-45,N)}else{h.style.marginLeft="";this.jY.removeChild(h);this.view.bh(r-40,N)}};
q.LqFy.prototype.f=function(){this.bm.f();this.amS.f();for(var R=0;R<this.wF.length;R++)this.wF[R].f()};
q.LqFy.prototype.ik=function(){this.Fa.map.fill(0);this.pb();this.Fm(null)};q.LqFy.prototype.Fm=function(r){var N=this.wR,F=this.al,h=this.zy,m=this.Fa;
if(this.wF[5].k())w.j_.Xn(F,this.ZJ,N.e,N.n,r,m.map,m.YW,m.Nf,0);else this.ZJ.set(F);if(this.wF[3].Zv()){w.L3(this.a9J,N,h,N,r?r:N);
w.i.vw("norm",this.ZJ,N,h,N,r?r:N,this.wF[4].k()/100)}else w.ZF(this.ZJ,h);this.view.b([{I0:N,data:h.buffer}])};
q.GEfc=function(){q.call(this,"GEfc");this.fI=0;this.iE=0;this.al=null;this.zy=null;this.wR=null;this.bX=null;
this.BM=null;this.C0=0;var r=W._("div","flexrow");this.jY=r;this.m.appendChild(r);this.view=new cA(null);
this.view.bh(100,100);r.appendChild(this.view.m);this.Vp="";this.O_=270;var N=this.yQ=W._("div","form scrollable");
r.appendChild(N);N.setAttribute("style","width:"+this.O_+"px;  margin-left:10px");var F=this.YS=W._("div","form");
r.appendChild(F);F.setAttribute("style","width:230px;  margin-left:1em");this.sZ={};for(var h in aD.names){var m=new q.GEfc.hk(h);
m.parent=this;this.sZ[h]=m;m.U(v.E.o,this.a2R,this)}this.Eb=!0;this.u2=new d_("Menu",null,null,!0);this.u2.U("click",this.a2t,this);
r.appendChild(this.u2.m);this.KT=new d_(">>",null,null,!0);this.KT.U("click",this.at5,this);F.appendChild(this.KT.m);
this.qa=W._("div");this.qa.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
F.appendChild(this.qa);this.EG=W._("div");this.EG.style.minHeight="14em";this.EG.style.marginBottom="1em";
F.appendChild(this.EG);this.fh=W._("div","lpbody scrollable");this.hs=W._("div","lpfoot");F.appendChild(this.fh);
F.appendChild(this.hs);this.U("click",this.aeB,this);this.d1=[];j$.dg([[5,3],[5,4]],this.d1,this.hs,this.G4.bind(this))};
q.GEfc.prototype=new q;q.GEfc.prototype.fj=function(){return!0};q.GEfc.prototype.RH=function(r){this.qa.appendChild(r)};
q.GEfc.prototype.Qr=function(r,N){this.bX=r};q.GEfc.prototype.at5=function(r){var N=this.yQ.style.display!="none";
this.yQ.style.display=N?"none":"";this.KT.o6(N?"<<":">>");this.bh()};q.GEfc.prototype.a2t=function(r){this.Eb=!this.Eb;
this.bh()};q.GEfc.prototype.bh=function(r,N){var F=this.yQ.style.display!="none";if(r!=null){this.fI=r;
this.iE=N;if(r<1e3&&F||r>=1e3&&!F){this.at5();F=!F}this.Eb=r>600}else{r=this.fI;N=this.iE}var h=this.Eb?240+(F?this.O_+10:0):0;
if(W.Xs(this.YS)&&!this.Eb){this.jY.removeChild(this.yQ);this.jY.removeChild(this.YS)}if(!W.Xs(this.YS)&&this.Eb){this.jY.appendChild(this.yQ);
this.jY.appendChild(this.YS)}this.yQ.style.height=N+"px";this.view.bh(r-h,N);this.fh.style.height=N-this.EG.getBoundingClientRect().height-96+"px";
this.u2.m.setAttribute("style","position:absolute; top:46px;  right:"+(h+16)+"px")};q.GEfc.prototype.a07=function(){var r=bA.pU.get("img/beach",!0)[0],N=r.I0,F=this.yQ,h=Math.floor(W.G()*(this.O_-40)/3),m=~~(h*.7),O=new fE(0,0,h,m),e=w.B(h*m*4),P=e.slice(0),B=Math.round(10*W.G()),s=new ImageData(new Uint8ClampedArray(P.buffer),h,m);
w.L3(new Uint8Array(r.data),N,e,new fE(Math.round((N.e-h)/2),Math.round((N.n-m)/2),h,m));var Y=W._("canvas"),D=Y.getContext("2d");
Y.width=h;Y.height=m+Math.round(B*1.5);D.font=B+"px sans-serif";this.kd={};var c=this.a9i.bind(this);
for(var R=0;R<aD.eC.length;R++){var o=aD.eC[R],H=W._("div");F.appendChild(H);H.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
H.textContent=ab.get(o);for(var x in aD.names){var Q=aD.names[x];if(Q[0]!=R)continue;aD.dR(x,{rect:O,buffer:e},aD.T$(x),{Z:0,z:0,J:0},{Z:255,z:255,J:255},{rect:O,buffer:P},{});
D.fillStyle="black";D.fillRect(0,0,500,500);D.putImageData(s,0,0);var U=ab.get(Q[1]);D.fillStyle="white";
D.fillText(U,(h-D.measureText(U).width)/2,m+Math.round(B*1.1));var I=W._("div");F.appendChild(I);I.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
I.addEventListener("click",c,!1);var H=W._("img");I.appendChild(H);H.setAttribute("src",Y.toDataURL());
H.setAttribute("style","width:"+h/W.G()+"px; margin-bottom:0px;");this.kd[x]=I}}};q.GEfc.prototype.a9i=function(r){var N;
for(var F in this.kd)if(this.kd[F]==r.currentTarget)this.Vp=F;this.a2R()};q.GEfc.prototype.G4=function(r){var N=j$.ZO(this.d1,r),F=this.BM.GEfs.v,h=F[this.C0].v;
if(N==0){F.push(JSON.parse(JSON.stringify(F[this.C0])));this.C0=F.length-1}else if(F.length>1){F.splice(this.C0,1);
if(this.C0==F.length)this.C0--}this.tT();this.Fm()};q.GEfc.prototype.a2R=function(r){var N=this.Vp,F;
if(r==null)F=aD.T$(N);else F=this.sZ[N].k();this.BM.GEfs.v[this.C0].v=F;this.tT();this.Fm()};q.GEfc.prototype.b=function(r,N,F,h,m){if(this.kd==null)this.a07();
r=this.BM=JSON.parse(JSON.stringify(r));if(r.GEfs==null)r=this.BM={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:r}]}};
var O=r.GEfs.v;for(var R=0;R<O.length;R++)if(O[R].v.GELv==null)O[R].v.GELv={t:"bool",v:!0};this.C0=O.length-1;
this.tT();F=F.clone();if(N==null)return;if(!h.cj(F)&&aD.GF(r).x!=0){var e=F.fD(h),P=w.B(e.W()*4);w.L3(N,F,P,e);
N=P;F=e}F.x=F.y=0;this.al=N;this.zy=N.slice(0);this.wR=F;this.Fm();this.view.RW()};q.GEfc.prototype.aeB=function(r){var N=r.data,R=N.Jz,F=this.BM.GEfs.v;
if(N.yM){F[R].v.GELv.v=!F[R].v.GELv.v;this.Fm()}else this.C0=R;this.tT()};q.GEfc.prototype.tT=function(){var r=this.BM.GEfs.v,N=r[this.C0].v,F=N.GEfk.v.GEft,h=this.EG;
if(aD.names[F]==null){alert("Unsupported gallery filter");W.Tg(h)}else{this.Vp=F;for(var m in this.kd)W.PV(this.kd[m],"selected");
W.Ou(this.kd[F],"selected");var O=this.sZ[F];O.b(N);if(h.firstChild!=O.m){W.Tg(h);h.appendChild(O.m)}}var e=[];
for(var R=0;R<r.length;R++){var P=r[R].v,B=aD.names[P.GEfk.v.GEft],s=new c6(R,!0,!0,null,B?B[1]:"Filter",R==this.C0,P.GELv.v);
s.parent=this;e.push(s.m)}W.Tg(this.fh);e.reverse();for(var R=0;R<e.length;R++)this.fh.appendChild(e[R]);
this.bh()};q.GEfc.prototype.k=function(){return JSON.parse(JSON.stringify(this.BM))};q.GEfc.prototype.Fm=function(r){var N=this.wR,F=this.al,h=this.zy,m=this.Vp,O=this.BM,e=this.bX;
function P(B){return{Z:B>>>16,z:B>>>8&255,J:B&255}}df.dR("GEfc",{rect:this.wR,buffer:this.al},O,P(e.Fp),P(e.lo),{rect:this.wR,buffer:this.zy},null);
this.view.b([{I0:N,data:h.buffer}])};q.GEfc.prototype.f=function(){for(var r in this.sZ)this.sZ[r].f();
j$.rt(this.d1,["lrs/newlayer","lrs/bin"])};q.GEfc.hk=function(r){jZ.call(this);this.gS=r;this.m=W._("div");
this.W_={};var N=aD.T$(r);for(var F in N){var h=null;if(F=="__name"||F=="classID"||F=="GEfk"||F=="GELv"||["FlRs"].indexOf(F)!=-1)continue;
else if(F=="EdgW")h=new d5("Edge Width",1,14);else if(F=="EdgB")h=new d5("Edge Brightness",0,r=="AccE"?50:20);
else if(F=="Smth")h=new d5([19,3,3],1,r=="Stmp"?50:15);else if(F=="ClSz")h=new d5([12,61],3,100);else if(F=="BrdT")h=new d5([7,9],1,20);
else if(F=="HghS")h=new d5([12,64],0,20);else if(F=="HlSz")h=new d5([12,14,0],1,15);else if(F=="Cntr")h=new d5([12,3,0],0,r=="WtrP"?100:50);
else if(F=="Shrp")h=new d5("Sharpness",0,40);else if(F=="SprR")h=new d5("Spray Radius",0,25);else if(F=="LgDr")h=new d5("Light/Dark Balance",0,r=="Stmp"?50:100);
else if(F=="Drkn")h=new d5("Darkness",1,50);else if(F=="Dstr")h=new d5("Distortion",0,20);else if(F=="Scln")h=new d5([12,38],50,200);
else if(F=="Rlf")h=new d5("Relief",0,r=="Ptch"||r=="NtPr"?25:50);else if(F=="ChAm")h=new d5("Thickness",1,7);
else if(F=="Pncl")h=new d5([19,2,5],1,30);else if(F=="StrP")h=new d5("Stroke Pressure",0,15);else if(F=="PprB")h=new d5("Paper Brightness",0,50);
else if(F=="BrsS")h=new d5("Brush Size",0,10);else if(F=="BrsD")h=new d5("Brush Detail",0,10);else if(F=="Txtr")h=new d5([12,67],1,3);
else if(F=="Grn")h=new d5("Grain",0,20);else if(F=="HghA")h=new d5("Highlight Area",0,20);else if(F=="Intn")h=new d5("Intensity",0,10);
else if(F=="Brgh")h=new d5("Glow Brightness",0,r=="WtrP"?100:50);else if(F=="StrS")h=new d5("Stroke Size",1,50);
else if(F=="StDt")h=new d5("Stroke Detail",1,3);else if(F=="Sftn")h=new d5("Softness",0,10);else if(F=="EdgT")h=new d5("Edge Thickness",0,10);
else if(F=="EdgI")h=new d5("Edge Intensity",0,10);else if(F=="Pstr")h=new d5("Posterization",0,6);else if(F=="Dfnt")h=new d5("Definition",0,25);
else if(F=="TxtC")h=new d5("Texture Coverage",0,50);else if(F=="ShdI")h=new d5("Shadow Intensity",0,10);
else if(F=="DrcB")h=new d5("Direction Balance",0,100);else if(F=="Strg")h=new d5([12,64],1,3);else if(F=="Blnc")h=new d5("Balance",0,10);
else if(F=="BlcI")h=new d5("Black Intensity",0,10);else if(F=="WhtI")h=new d5("White Intensity",0,10);
else if(F=="DrkI")h=new d5("Dark Intensity",0,50);else if(F=="LghI")h=new d5("Light Intensity",0,50);
else if(F=="StrW")h=new d5("Stroke Width",3,15);else if(F=="Grns")h=new d5("Graininess",0,r=="NtPr"?20:10);
else if(F=="GlwA")h=new d5("Glow Amount",0,20);else if(F=="ClrA")h=new d5("Clear Amount",0,20);else if(F=="ChrA")h=new d5("Charcoal Area",0,20);
else if(F=="ChlA")h=new d5("Chalk Area",0,20);else if(F=="FrgL")h=new d5("Foreground Level",1,15);else if(F=="BckL")h=new d5("Background Level",1,15);
else if(F=="WhtL")h=new d5("Background Level",0,50);else if(F=="BlcL")h=new d5("Foreground Level",0,50);
else if(F=="ImgB")h=new d5("Image Balance",0,50);else if(F=="Dnst")h=new d5([12,74],0,50);else if(F=="FbrL")h=new d5("Fiber Length",3,50);
else if(F=="CrcS")h=new d5("Crack Sapcing",2,100);else if(F=="CrcD")h=new d5("Crack Depth",0,10);else if(F=="CrcB")h=new d5("Crack Brightness",0,10);
else if(F=="TlSz")h=new d5("Tile Size",2,100);else if(F=="GrtW")h=new d5("Grout Width",1,15);else if(F=="LghG")h=new d5("Lighten Grout",0,10);
else if(F=="SqrS")h=new d5("Square Size",0,10);else if(F=="RplS")h=new d5("Ripple Size",1,15);else if(F=="RplM")h=new d5("Ripple Magnitude",0,20);
else if(F=="NmbL")h=new d5("Number of Levels",2,8);else if(F=="EdgS")h=new d5("Edge Simplicity",0,10);
else if(F=="EdgF")h=new d5("Edge Fidelity",1,3);else if(F=="Sz")h=r=="NGlw"?new d5("Glow Size",-24,24):new d5("Brush Size",1,50);
else if(F=="Dtl")h=r=="Chrc"?new d5("Detail",0,5):new d5("Detail",1,15);else if(F=="StrL")h=r=="InkO"?new d5("Stroke Length",1,50):new d5("Stroke Length",0,20);
else if(F=="TxtT")h=new b2([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(F=="BrsT")h=new b2("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(F=="Grnt")h=new b2("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(F=="SDir")h=new b2([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(F=="ScrT")h=new b2([12,62],["Circle","Dot",[10,35]]);
else if(F=="LghD"||F=="LghP")h=new b2("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(F=="Clr")h=new cw("Glow Color");else if(F=="InvT")h=new bf([4,11]);else console.log(F);h.U(v.E.o,this.g0,this);
h.parent=this;this.W_[F]=h;this.m.appendChild(h.m)}};q.GEfc.hk.prototype=new jZ;q.GEfc.hk.prototype.g0=function(r){this.L(new gf(v.E.o,!1))};
q.GEfc.avG="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
q.GEfc.hk.prototype.b=function(r){for(var N in this.W_){var F;if(q.GEfc.avG.indexOf(N)!=-1)F=r[N].v;
else if(N=="TxtT")F=aD.I1.indexOf(r[N].v[N]);else if(N=="BrsT")F=aD.a7s.indexOf(r[N].v[N]);else if(N=="LghD")F=aD.hj.indexOf(r[N].v[N]);
else if(N=="LghP")F=aD.v0.indexOf(r[N].v[N]);else if(N=="Grnt")F=aD.c6.indexOf(r[N].v[N]);else if(N=="ScrT")F=aD.gl.indexOf(r[N].v[N]);
else if(N=="SDir")F=aD.h$.indexOf(r[N].v.StrD);this.W_[N].b(F)}};q.GEfc.hk.prototype.k=function(){var r=aD.T$(this.gS);
for(var N in this.W_){var F=this.W_[N].k();if(q.GEfc.avG.indexOf(N)!=-1)r[N].v=F;else if(N=="TxtT")r[N].v[N]=aD.I1[F];
else if(N=="BrsT")r[N].v[N]=aD.a7s[F];else if(N=="LghD")r[N].v[N]=aD.hj[F];else if(N=="LghP")r[N].v[N]=aD.v0[F];
else if(N=="Grnt")r[N].v[N]=aD.c6[F];else if(N=="ScrT")r[N].v[N]=aD.gl[F];else if(N=="SDir")r[N].v.StrD=aD.h$[F]}return r};
q.GEfc.hk.prototype.f=function(){for(var r in this.W_)this.W_[r].f()};q.blnc=function(){q.call(this);
var r=this.m;this.CL=null;this.vx=new b2([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.vx.U(v.E.o,this.Fm,this);
r.appendChild(this.vx.m);this.OE=[];for(var R=0;R<3;R++){var N=new d5(gn.CD[R],-100,100);N.U(v.E.o,this.qM,this);
this.OE.push(N);r.appendChild(N.m)}this.jf=new bf([13,4]);this.jf.U(v.E.o,this.qM,this);r.appendChild(this.jf.m)};
q.blnc.prototype=new q;q.blnc.prototype.f=function(){this.vx.f();for(var R=0;R<3;R++)this.OE[R].f();
this.jf.f()};q.blnc.prototype.b=function(r){this.CL=JSON.parse(JSON.stringify(r));this.Fm()};q.blnc.prototype.k=function(r){var N=["ShdL","MdtL","HghL"],F=this.CL[N[this.vx.k()]].v;
for(var R=0;R<3;R++)F[R].v=this.OE[R].k();this.CL.PrsL.v=this.jf.k();return JSON.parse(JSON.stringify(this.CL))};
q.blnc.prototype.Fm=function(r){var N=["ShdL","MdtL","HghL"],F=this.CL[N[this.vx.k()]].v;for(var R=0;
R<3;R++)this.OE[R].b(F[R].v);this.jf.b(this.CL.PrsL.v)};q.brit=function(){q.call(this,"brit");this.ld.push(new d5([12,2],-150,150,""));
this.ld.push(new d5([12,3,0],-100,100,""));this.ld.push(new bf([12,3,1]));this.GH()};q.brit.prototype=new q;
q.brit.prototype.Kx=function(r,N){N[0]=r.Brgh?r.Brgh.v:0;N[1]=r.Cntr?r.Cntr.v:0;N[2]=r.useLegacy?r.useLegacy.v:!1};
q.brit.prototype.dC=function(r,N){r.Brgh.v=N[0];r.Cntr.v=N[1];r.useLegacy.v=N[2]};q.curv=function(){q.call(this);
this.value=null;this.YG=null;var r=this.m;this.tU=new b2([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.tU.U(v.E.o,this.xb,this);r.appendChild(this.tU.m);this.fA=new b2(null,["Spline","Sketch"]);this.fA.U(v.E.o,this.apA,this);
r.appendChild(this.fA.m);this.Fu=new bW;this.Fu.parent=this;this.Fu.U(v.E.o,this.fX,this);r.appendChild(this.Fu.m);
W.ke(r);this.M0=new aU;this.M0.U(v.E.o,this.a2,this);r.appendChild(this.M0.m);this.na=null;this.acy=0;
this.Ts=0;W.ke(r);this.cH=new jX("Sample from image",ch.DC(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.cH.U(v.E.o,this.JC,this);this.cH.m.style.marginRight="0";r.appendChild(this.cH.m)};q.curv.prototype=new q;
q.curv.prototype.bh=function(r,N){this.M0.bh(r,N)};q.curv.prototype.f=function(){this.tU.f()};q.curv.prototype.apA=function(r){var N=dK.AD(this.value,0),F=N.length==256?1:0,h=this.fA.k();
if(F==h)return;var m=df.T$("curv");if(h==1){var O=[];for(var R=0;R<256;R++)O.push(R);dK.uP(m,0,O)}this.b(m);
this.qM()};q.curv.prototype.a2=function(){dK.uP(this.value,this.tU.k(),this.M0.k());this.qM()};q.curv.prototype.xb=function(){var r=this.tU.k(),N=dK.AD(this.value,r),F=N.length==256?1:0;
this.fA.b(F);if(this.YG)this.M0.ff(this.YG[r],this.YG[4]*[1,.33,.33,.33][r],["#ccc","#fcc","#cfc","#ccf"][r]);
this.M0.b(N)};q.curv.prototype.gz=function(){return!0};q.curv.prototype.vV=function(r,N,F,h,m){var O=this.value;
this.value=df.T$("curv");this.qM();var e=z.o7.dU(r,m,1),P=this.na=[e>>>16&255,e>>>8&255,e&255];this.acy=m.y;
var B=this.cH.k().indexOf(!0);if(B==0){var s=(P[0]+P[1]+P[2])/3,Y=this.tU.k(),D=dK.AD(O,Y),c=Y==0?s:P[Y-1],o=-1;
for(var R=0;R<D.length;R++)if(D[R].v.Hrzn.v==c)o=R;if(o==-1){var H=JSON.parse(JSON.stringify(D[0]));
H.v.Hrzn.v=c;H.v.Vrtc.v=c;D.push(H);D.sort(function(x,Q){return x.v.Hrzn.v-Q.v.Hrzn.v});dK.uP(O,Y,D);
this.Ts=D.indexOf(H)}else this.Ts=o}this.b(O);this.qM()};q.curv.prototype.Ui=function(r,N,F,h,m){if(this.na==null)return;
if(this.cH.k().indexOf(!0)==0){var O=this.value,e=this.tU.k(),P=dK.AD(O,e),B=P[this.Ts];B.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(B.v.Hrzn.v+(this.acy-m.y))));
dK.uP(O,e,P);this.b(O);this.qM()}};q.curv.prototype.wJ=function(r,N,F,h,m){var O=this.value,e=this.na,P=(e[0]+e[1]+e[2])/3,B=this.cH.k().indexOf(!0)-1;
if(B<=-1){}else for(var R=0;R<3;R++){var s=dK.AD(O,1+R);if(B==0)s[0].v.Hrzn.v=e[R];if(B==1){var Y=Math.log(e[R]/255)/Math.log(P/255),D=Math.min(999,Math.max(10,Math.round(100*Y)));
if(s.length==2)s.splice(1,0,JSON.parse(JSON.stringify(s[0])));s[1].v.Hrzn.v=127-Math.log(D/100)*127;
s[1].v.Vrtc.v=127}if(B==2)s[s.length-1].v.Hrzn.v=e[R];dK.uP(O,1+R,s)}this.b(O);this.qM();this.na=null};
q.curv.prototype.b=function(r){this.value=r;this.xb()};q.curv.prototype.ff=function(r){this.YG=r;this.xb()};
q.curv.prototype.k=function(r){return JSON.parse(JSON.stringify(this.value))};q.curv.prototype.fX=function(){var r=this.Fu.k(),N=this.YG,F=this.value,h=w.AO(r,N);
for(var R=0;R<4;R++){var m=h[R][0],O=h[R][1],e=h[R][2],P=[w.WC.x1(m,0,!0),w.WC.x1(O,255,!0)];if(e!=null)P.splice(1,0,w.WC.x1(128,e,!0));
dK.uP(F,R,P)}this.xb();this.qM()};q.expA=function(){q.call(this,"expA");this.ld.push(new d5([12,5],-20,20,null,3));
this.ld.push(new d5([12,6],-.5,.5,null,3));this.ld.push(new d5([12,7],.01,6.99,null,3));this.GH()};q.expA.prototype=new q;
q.expA.prototype.Kx=function(r,N){N[0]=r.Exps.v;N[1]=r.Ofst?r.Ofst.v:0;N[2]=r.gammaCorrection?r.gammaCorrection.v:1};
q.expA.prototype.dC=function(r,N){r.Exps={t:"doub",v:N[0]};r.Ofst={t:"doub",v:N[1]};r.gammaCorrection={t:"doub",v:N[2]}};
q.grdm=function(){q.call(this,"grdm");this.ld.push(new c$(!0,null,!0));this.ld.push(new bf([12,23,0]));
this.GH()};q.grdm.prototype=new q;q.grdm.prototype.Kx=function(r,N){N[0]=r.Grad.v;N[1]=r.Rvrs?r.Rvrs.v:!1};
q.grdm.prototype.dC=function(r,N){r.Grad.v=N[0];r.Rvrs={t:"bool",v:N[1]}};q.grdm.prototype.Qr=function(r,N){this.ld[0].KV(r.Fp,r.lo);
if(N==bC.ge||N==bC.gU||N==bC.Hp)this.ld[0].Wl(r.pB)};q.selc=function(){q.call(this);var r=this.m;this.eb=[];
this.nK=null;this.vx=new b2([12,82],gn.CI.concat([[13,1,8],[13,1,13],[13,1,10]]));this.vx.U(v.E.o,this.g0,this);
r.appendChild(this.vx.m);W.ke(r);for(var R=0;R<4;R++){var N=new d5(gn.abY[R],-100,100,"%");N.U(v.E.o,this.g0,this);
this.eb.push(N);r.appendChild(N.m)}this.Oh=new bf([13,3]);r.appendChild(this.Oh.m);this.Oh.U(v.E.o,this.g0,this)};
q.selc.prototype=new q;q.selc.prototype.f=function(){this.vx.f();this.Oh.f();for(var R=0;R<4;R++)this.eb[R].f()};
q.selc.prototype.b=function(r){this.nK=JSON.parse(JSON.stringify(r));this.Fm()};q.selc.prototype.k=function(r){return JSON.parse(JSON.stringify(this.nK))};
q.selc.prototype.g0=function(r){if(r.target!=this.vx){var N=this.nK,F=[];for(var R=0;R<4;R++)F[R]=this.eb[R].k();
fk.uP(N,this.vx.k(),F);N.Mthd={t:"enum",v:{CrcM:this.Oh.k()?"Absl":"Rltv"}}}this.Fm();this.qM()};q.selc.prototype.Fm=function(){var r=this.nK,N=fk.AD(r,this.vx.k());
for(var R=0;R<4;R++)this.eb[R].b(N[R]);this.Oh.b(r.Mthd?r.Mthd.v.CrcM=="Absl":!1)};q.blwh=function(){q.call(this,"blwh");
this.ld.push(new bf([12,11]));this.ld.push(new cw(!0));for(var R=0;R<6;R++)this.ld.push(new d5(gn.CI[R],-200,300));
this.GH()};q.blwh.prototype=new q;q.blwh.prototype.Kx=function(r,N){N[0]=r.useTint.v;N[1]=r.tintColor.v;
var F="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)N[2+R]=r[F[R]].v};q.blwh.prototype.dC=function(r,N){r.useTint.v=N[0];
r.tintColor.v=N[1];var F="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)r[F[R]].v=N[2+R]};
q.hue2=function(){q.call(this);this.value=null;this.Jy=null;this.a2z=null;this.TE=[[0,0,0],[0,50,0]];
var r=this.m;this.cH=new jX(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.cH.U(v.E.o,this.as5,this);this.cH.U(v.E.o,this.JC,this);r.appendChild(this.cH.m);this.vx=new b2([12,12],["Master"].concat(gn.CI));
this.vx.U(v.E.o,this.xb,this);r.appendChild(this.vx.m);this.AH=new d5([12,8],-180,180);this.AH.U(v.E.o,this.Z7,this);
r.appendChild(this.AH.m);this.fv=new d5([12,9],-100,100);this.fv.U(v.E.o,this.Z7,this);r.appendChild(this.fv.m);
this.qi=new d5([12,10],-100,100);this.qi.U(v.E.o,this.Z7,this);r.appendChild(this.qi.m);this._5=new bf([12,11]);
this._5.U(v.E.o,this.Z7,this);r.appendChild(this._5.m);this.HI=new jX("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.HI.U(v.E.o,this.as5,this);this.HI.U(v.E.o,this.JC,this);this.HI.m.style.marginLeft="20px";r.appendChild(this.HI.m);
this.De=W._("div");r.appendChild(this.De);this.AU=this.xZ.bind(this);this.nH=this.tt.bind(this);this.D=W._("canvas");
this.Az=this.D.getContext("2d");this.uN=null;W.Cb(this.D);W.Pf(this.D,282,18);r.appendChild(this.D);
W.vN(this.D,this.VB.bind(this))};q.hue2.prototype=new q;q.hue2.prototype.bh=function(r,N){W.Pf(this.D,Math.round(r),18);
if(this.value)this.xb()};q.hue2.prototype.as5=function(r){var N=r.target.k().indexOf(!0);if(N==-1)return;
if(r.target==this.cH)this.HI.b([!1,!1,!1]);else this.cH.b([!1,!1,!1])};q.hue2.prototype.VB=function(r){if(this.vx.k()==0||this._5.k())return;
var N=W.or(r,this.D).x/(this.D.width/W.G()),O=1e6;function F(D,c,o){return D<c&&c<o||o<D&&(D<c||c<o)}var h=this.lB(),m=-1;
for(var R=0;R<4;R++){var e=Math.abs(N-(h[R]+R*1e-5));if(e<O){O=e;m=R}}if(O>.025){m=-1;var P=h[0],B=h[1],s=h[2],Y=h[3];
if(F(P,N,B))m=4;if(F(B,N,s))m=5;if(F(s,N,Y))m=6}if(m==-1)return;this.uN=m;W.B7(document.body,this.AU);
W.ey(document.body,this.nH)};q.hue2.prototype.xZ=function(r){var N=W.or(r,this.D).x/(this.D.width/W.G()),F=this.lB(),h=this.uN;
for(var R=1;R<4;R++)if(F[R]<F[R-1]){F[R]+=1}if(h<4){var m=1e6,O=0;for(var R=-20;R<20;R++){var e=Math.abs(F[h]-(N+R));
if(e<m){m=e;O=R}}N+=O;F[h]=N;for(var R=h+1;R<4;R++)if(F[R]<F[R-1]){F[R]=F[R-1]}for(var R=h-1;R>=0;R--)if(F[R]>F[R+1]){F[R]=F[R+1]}}else{var P=N-(F[h-4]+F[h-3])/2;
if(P<-.5)P+=1;if(h==4){F[0]+=P;F[1]+=P;F[2]=Math.max(F[1],F[2]);F[3]=Math.max(F[1],F[3])}if(h==5)for(var R=0;
R<4;R++)F[R]+=P;if(h==6){F[2]+=P;F[3]+=P;F[0]=Math.min(F[0],F[2]);F[1]=Math.min(F[1],F[2])}}for(var R=1;
R<4;R++)if(F[R]<F[R-1])throw"e";this.a91(F);this.xb();this.qM()};q.hue2.prototype.tt=function(r){W.iX(document.body,this.AU);
W.g$(document.body,this.nH)};q.hue2.prototype.f=function(){this.AH.f();this.fv.f();this.qi.f();this._5.f();
this.vx.f()};q.hue2.prototype.Z7=function(r){var N=this.value.Clrz.v=this._5.k();if(N)this.vx.b(0);if(r&&r.target==this._5){var F=N?1:0;
this.TE[1-F]=dG.AD(this.value,0);var h=this.TE[F];dG.uP(this.value,0,h);if(this.vx.k()==0){this.AH.b(h[0]);
this.fv.b(h[1]);this.qi.b(h[2])}}var m=this.vx.k(),O=dG.AD(this.value,m),h=m==0?O:O.OE;h[0]=this.AH.k();
var e=this.fv.k();h[1]=N?Math.max(0,e):e;h[2]=this.qi.k();dG.uP(this.value,m,O);this.xb();this.qM()};
q.hue2.prototype.xb=function(){var r=this.vx.k(),N=this.value.Clrz?this.value.Clrz.v:!1;this._5.b(N);
this.vx.W9(!N);this.HI.W9(!N&&r!=0);var F=dG.AD(this.value,r),h=r==0?F:F.OE;this.AH.b(h[0]);this.fv.b(h[1]);
this.qi.b(h[2]);var m=this.D.width,O=this.D.height,e=this.Az;e.clearRect(0,0,m,O);if(N||r==0){this.De.innerHTML="";
return}var P=F.fo;this.De.innerHTML=P[0]+"\xB0 / "+P[1]+"\xB0<span style=\"float:right\">"+P[2]+"\xB0 \\ "+P[3]+"\xB0</span>";
var B=w.B(m*4);h2.a8z(B,1,m,-1,.5);var s=new ImageData(new Uint8ClampedArray(B.buffer),m,1),Y=Math.round(O/4);
for(var R=0;R<Y;R++)e.putImageData(s,0,R);function D(U,I,l){e.fillStyle=l;var p=Y*2;if(U<=I)e.fillRect(U*m,p,(I-U)*m,Y);
else{e.fillRect(0,p,I*m,Y);e.fillRect(U*m,p,(1-U)*m,Y)}}var c=this.lB();D(c[0],c[1],"#888888");D(c[1],c[2],"#cccccc");
D(c[2],c[3],"#888888");e.fillStyle="#ffffff";e.lineWidth=1;e.beginPath();var o=Y+.5,H=4*Y+.5;for(var R=0;
R<4;R++){var x=Math.floor(m*c[R])+.5,Q=(R<2?-1:1)*Y*(R==1||R==2?1:2);e.moveTo(x,o);e.lineTo(x,H);e.lineTo(x+Q,H);
e.lineTo(x+Q,Y+Y+.5);e.closePath()}e.fill();e.stroke()};q.hue2.prototype.lB=function(){var r=this.vx.k(),N=dG.AD(this.value,r).fo;
for(var R=0;R<4;R++)N[R]=(1000.5+N[R]/360)%1;return N};q.hue2.prototype.a91=function(r){var N=this.vx.k(),F=dG.AD(this.value,N);
for(var R=0;R<4;R++)F.fo[R]=Math.round(36e3+(r[R]-.5)*360)%360;dG.uP(this.value,N,F)};q.hue2.prototype.gz=function(){return!0};
q.hue2.prototype.ago=function(){var r=this.cH.k().indexOf(!0),N=this.HI.k().indexOf(!0);return r!=-1?r:N!=-1?N+1:-1};
q.hue2.prototype.vV=function(r,N,F,h,m){var O=this.ago();if(O==-1)return;var e=this.value;this.value=df.T$("hue2");
this.qM();var P=z.o7.dU(r,m,1);this.b(e);var B=[P>>>16&255,P>>>8&255,P&255],s=w.DZ(B[0]/255,B[1]/255,B[2]/255);
if(O==0){this.vx.b(1+Math.round(s.Nf*6)%6)}else{var Y=this.lB(),D=.5+s.Nf,c=1/12,o=Y[1],H=Y[2];if(H<o){H++;
if(D<o&&D+1-H<o-D)D++}var x=o<=D&&D<=H;if(O==1){o=D-c/2;H=D+c/2}else if(O==2&&!x){o=Math.min(D,o);H=Math.max(D,H)}else if(O==3&&x){if(D-o<H-D)o=D;
else H=D}Y=[o-c,o,H,H+c];this.a91(Y)}this.qM();this.Jy=m.x;this.a2z=this.fv.k()};q.hue2.prototype.Ui=function(r,N,F,h,m){var O=this.ago();
if(O==-1)return;if(O==0){if(this.Jy!=null){var e=m.x-this.Jy;e=Math.max(-100,Math.min(100,this.a2z+.5*e));
this.fv.b(e);this.Z7()}}};q.hue2.prototype.wJ=function(r,N,F,h,m){this.Jy=null};q.hue2.prototype.b=function(r){this.value=JSON.parse(JSON.stringify(r));
var N=this.value.Clrz?this.value.Clrz.v:!1;this.TE[N?1:0]=dG.AD(this.value,0);this.xb()};q.hue2.prototype.k=function(r){return JSON.parse(JSON.stringify(this.value))};
q.levl=function(){function r(){q.call(this);this.value=null;this.YG=null;this.wj=[new gS(0,0),new gS(0,0),new gS(0,0),new gS(0,0),new gS(0,0)];
this.aV=-1;this.AU=this.xZ.bind(this);this.nH=this.tt.bind(this);var N=this.m;this.tU=new b2([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.tU.U(v.E.o,this.xb,this);N.appendChild(this.tU.m);this.Fu=new bW;this.Fu.parent=this;this.Fu.U(v.E.o,this.fX,this);
N.appendChild(this.Fu.m);var F=W._("div","");N.appendChild(F);var h=W._("div","");N.appendChild(h);this.D=W._("canvas");
F.appendChild(this.D);this.Az=this.D.getContext("2d");this.Ot=new gS(256,120);this.D.setAttribute("style","display:block");
W.Cb(this.D);W.vN(this.D,this.VB.bind(this));this.dA=W._("canvas","");h.appendChild(this.dA);this.r9=this.dA.getContext("2d");
this.co=new gS(this.Ot.x,40);this.dA.setAttribute("style","display:block");W.Cb(this.dA);W.vN(this.dA,this.a8H.bind(this));
var m=this.J9=[];for(var R=0;R<5;R++){var O=new g8(null,null,3);m.push(O);O.U(v.E.o,this.a6C,this);(R<2||R==4?F:h).appendChild(O.m)}F.appendChild(m[1].m);
this.cH=new jX("Sample from image",ch.DC(["#000000","#888888","#ffffff"]),!0,null,!0);this.cH.U(v.E.o,this.JC,this);
N.appendChild(this.cH.m);this.bh(250,100)}r.prototype=new q;r.prototype.fX=function(){var N=this.Fu.k(),F=this.YG,h=this.value,m=w.AO(N,F);
for(var R=0;R<4;R++){var O=m[R][0],e=m[R][1],P=m[R][2],B=[w.WC.x1(O,0,!0),w.WC.x1(e,255,!0)];if(P!=null)B.splice(1,0,w.WC.x1(128,P,!0));
var s=[~~O,~~e,0,255,P==null?100:~~(100+.75*100*(P-128)/128)];a7.uP(h,R,s)}this.xb();this.qM()};r.prototype.bh=function(N,F){N+=6;
this.Ot.x=this.co.x=N;W.Pf(this.D,N,this.Ot.y,this.Az);W.Pf(this.dA,N,this.co.y,this.r9);var h=this.J9;
h[3].m.setAttribute("style","margin-left: "+(N-104)+"px");h[4].m.setAttribute("style","margin: 0 "+(N/2-74)+"px");
if(this.value)this.xb()};r.prototype.f=function(){this.tU.f()};r.prototype.a6C=function(N){var F=[];
for(var R=0;R<5;R++){var h=255,m=1;if(R==4){h=999;m=100}var O=parseFloat(this.J9[R].k());F[R]=Math.max(0,Math.min(h,O*m))}a7.uP(this.value,this.tU.k(),F);
this.xb();this.qM()};r.prototype.xb=function(N){var F=this.Ot.x,h=this.Ot.y,m=this.tU.k(),O=this.Az;
O.clearRect(0,0,F,h);O.fillStyle="#cccccc";O.fillRect(8,8,F-16,h-16-8);if(this.YG){var e=this.YG[0].slice(0),H=0;
if(m==0){e.fill(0);var P=JSON.parse(JSON.stringify(this.value));a7.uP(P,0,[0,255,0,255,100]);var B=gn.k6("levl",P),s=[B.BF,B.L_,B.$T];
for(var Y=0;Y<3;Y++){var D=this.YG[1+Y],c=s[Y];for(var R=0;R<256;R++)e[c[R]]+=D[R]}}var o=m==0?e:this.YG[m];
for(var R=0;R<o.length;R++)H+=o[R];O.fillStyle="#333333";O.beginPath();O.moveTo(8,h-16);for(var R=0;
R<256;R++){var x=55*o[R]/H;O.lineTo(8+R/256*(F-16),Math.max(8,h-16-h*x))}O.lineTo(F-8,h-16);O.closePath();
O.fill()}var Q=a7.AD(this.value,m);for(var R=0;R<5;R++)this.J9[R].b(Q[R]/(R==4?100:1));this.wj[0].YR(8+Q[0]/255*(F-16),h-14);
this.wj[1].YR(8+Q[1]/255*(F-16),h-14);var U=Math.log(Q[4]/100)/Math.log(9.99);U=.5-U/2;this.wj[4].YR(this.wj[0].x+U*(this.wj[1].x-this.wj[0].x),h-14);
this.xB(O,this.wj[0],"#000000");this.xB(O,this.wj[1],"#ffffff");this.xB(O,this.wj[4],"#777777");var F=this.co.x,h=this.co.y;
O=this.r9;O.clearRect(0,0,F,h);var I=O.createLinearGradient(0,0,F-16,0);I.addColorStop(0,"black");I.addColorStop(1,"white");
O.fillStyle=I;O.fillRect(8,8,F-16,16);this.wj[2].YR(8+Q[2]/255*(F-16),h-14);this.wj[3].YR(8+Q[3]/255*(F-16),h-14);
this.xB(O,this.wj[2],"#000000");this.xB(O,this.wj[3],"#ffffff")};r.prototype.xB=function(N,F,h){N.fillStyle=h;
N.fillRect(F.x-5,F.y,10,10)};r.prototype.VB=function(N){var F=W.or(N,this.D),h=this.agE([0,1,4],F);if(h!=-1)this.aV=h;
this.ab9()};r.prototype.a8H=function(N){var F=W.or(N,this.dA),h=this.agE([2,3],F);if(h!=-1)this.aV=h;
this.ab9()};r.prototype.agE=function(N,F){var h=-1,m=1e9;for(var R=0;R<N.length;R++){var O=Math.abs(this.wj[N[R]].x-F.x);
if(O<m){m=O;h=N[R]}}return m<16?h:-1};r.prototype.ab9=function(N){if(this.aV==-1)return;W.B7(document.body,this.AU);
W.ey(document.body,this.nH)};r.prototype.xZ=function(N){var F=a7.AD(this.value,this.tU.k()),h=W.or(N,this.aV==2&&this.aV==3?this.dA:this.D),m=255*(h.x-8)/(this.Ot.x-16);
m=Math.max(0,Math.min(255,m));if(this.aV==0)m=Math.min(m,F[1]-2);if(this.aV==1)m=Math.max(m,F[0]+2);
if(this.aV!=4)F[this.aV]=Math.round(m);else{var O=(m-F[0])/(F[1]-F[0]);O=1-2*O;O=Math.pow(9.99,O);F[4]=Math.min(999,Math.max(10,Math.round(O*100)))}a7.uP(this.value,this.tU.k(),F);
this.xb();this.qM()};r.prototype.tt=function(N){W.iX(document.body,this.AU);W.g$(document.body,this.nH);
this.aV=-1};r.prototype.gz=function(){return!0};r.prototype.wJ=function(N,F,h,m,O){var e=this.value,P=this.cH.k().indexOf(!0);
if(P==-1)return;this.value=df.T$("levl");this.qM();var B=z.o7.dU(N,O,1),s=[B>>>16&255,B>>>8&255,B&255];
for(var R=0;R<3;R++){var Y=a7.AD(e,1+R);if(P==0)Y[0]=s[R];if(P==1){var D=Math.log(s[R]/255)/Math.log((s[0]+s[1]+s[2])*.333/255);
Y[4]=Math.min(999,Math.max(10,Math.round(100*D)))}if(P==2)Y[1]=s[R];a7.uP(e,1+R,Y)}this.b(e);this.qM()};
r.prototype.b=function(N){this.value=N;this.xb()};r.prototype.ff=function(N){this.YG=N;this.xb()};r.prototype.k=function(N){return JSON.parse(JSON.stringify(this.value))};
return r}();q.phfl=function(){q.call(this,"phfl");this.ld.push(new cw);this.ld.push(new d5([12,74],0,100,"%"));
this.ld.push(new bf([13,4]));this.GH()};q.phfl.prototype=new q;q.phfl.prototype.Kx=function(r,N){N[0]=r.Clr.v;
N[1]=r.Dnst.v;N[2]=r.PrsL.v};q.phfl.prototype.dC=function(r,N){var F=w.X.Mq(N[0]),h=r.Clr.v,m=w.b7(F.Z,F.z,F.J);
h.Lmnc.v=m.qN;h.A.v=m.O$;h.B.v=m.J;r.Dnst.v=N[1];r.PrsL.v=N[2]};q.vibA=function(){q.call(this,"vibA");
this.ld.push(new d5([12,13],-100,100,null));this.ld.push(new d5([12,9],-100,100,null));this.GH()};q.vibA.prototype=new q;
q.vibA.prototype.Kx=function(r,N){N[0]=r.vibrance?r.vibrance.v:0;N[1]=r.Strt?r.Strt.v:0};q.vibA.prototype.dC=function(r,N){r.vibrance.v=N[0];
r.Strt.v=N[1]};q.thrs=function(){q.call(this,"thrs");this.ld.push(new d5([4,13],1,255,null));this.GH()};
q.thrs.prototype=new q;q.thrs.prototype.Kx=function(r,N){N[0]=r.Lvl.v};q.thrs.prototype.dC=function(r,N){r.Lvl.v=N[0]};
q.mixr=function(){q.call(this);var r=this.m;this.eb=[];this.nK=null;this.vx=new b2([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.vx.U(v.E.o,this.g0,this);r.appendChild(this.vx.m);W.ke(r);this.wt=new bf([12,60]);r.appendChild(this.wt.m);
this.wt.U(v.E.o,this.g0,this);for(var R=0;R<4;R++){var N=new d5([[13,1,1],[13,1,4],[13,1,5],[13,2]][R],-200,200,"%");
N.U(v.E.o,this.g0,this);this.eb.push(N);r.appendChild(N.m)}};q.mixr.prototype=new q;q.mixr.prototype.f=function(){this.vx.f();
this.wt.f();for(var R=0;R<4;R++)this.eb[R].f()};q.mixr.prototype.b=function(r){this.nK=JSON.parse(JSON.stringify(r));
this.Fm()};q.mixr.prototype.k=function(r){return JSON.parse(JSON.stringify(this.nK))};q.mixr.prototype.g0=function(r){if(r.target!=this.vx){var N=gn.Ps(this.nK);
if(r.target==this.wt){N.wt=this.wt.k();if(N.wt)N.h=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else N.h=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var F=(N.wt?0:this.vx.k())*5,R=this.eb.indexOf(r.target);
N.h[F+(R<3?R:4)]=r.target.k()}this.nK=gn.alr(N)}this.Fm();this.qM()};q.mixr.prototype.Fm=function(){var r=gn.Ps(this.nK);
this.wt.b(r.wt);var N=(r.wt?0:this.vx.k())*5;for(var R=0;R<4;R++)this.eb[R].b(r.h[N+(R<3?R:4)])};q.post=function(){q.call(this,"post");
this.ld.push(new d5([4,1],2,255,null));this.GH()};q.post.prototype=new q;q.post.prototype.Kx=function(r,N){N[0]=r.Lvls.v};
q.post.prototype.dC=function(r,N){r.Lvls.v=N[0]};q.clrL=function(){q.call(this,"clrL");this.ld.push(new eG("LUTs"));
this.GH()};q.clrL.prototype=new q;q.clrL.prototype.Kx=function(r,N){N[0]=r};q.clrL.prototype.dC=function(r,N){var F=N[0];
for(var h in F)r[h]=F[h]};q.clrL.prototype.Qr=function(r,N){if(N==bC.ge||N==bC.Hk)this.ld[0].Wl(r.a1N)};
q.rplc=function(){q.call(this,"rplc");this.ld.push(new d5([12,92],0,200));this.ld.push(new cw);this.ld.push(new d5([12,8],-180,180));
this.ld.push(new d5([12,9],-100,100));this.ld.push(new d5([12,10],-100,100));this.GH()};q.rplc.prototype=new q;
q.rplc.prototype.Kx=function(r,N){N[0]=r.Fzns.v;N[1]=r.Mxm.v;N[2]=r.H.v;N[3]=r.Strt.v;N[4]=r.Lght.v};
q.rplc.prototype.dC=function(r,N){function F(m,O){O.Lmnc.v=m.qN;O.A.v=m.O$;O.B.v=m.J}r.Fzns.v=N[0];r.H.v=N[2];
r.Strt.v=N[3];r.Lght.v=N[4];var h=w.X.Mq(N[1]),m=w.b7(h.Z,h.z,h.J);F(m,r.Mnm.v);F(m,r.Mxm.v)};q.fade=function(){q.call(this,"fade");
this.ld.push(new d5([12,0],0,100,"%"));this.ld.push(new b2([12,19,0],g6.zd,!1,g6.yj));this.GH()};q.fade.prototype=new q;
q.fade.prototype.Kx=function(r,N){N[0]=r.Opct.v.val;N[1]=g6.EO.indexOf(r.Md.v.BlnM)};q.fade.prototype.dC=function(r,N){r.Opct.v.val=N[0];
r.Md.v.BlnM=g6.EO[N[1]]};q.aply=function(){var r=g6.EO.concat(["Add","Sbtr"]);r.splice(21,1);var N=g6.zd.concat([[15,10,28],[15,10,21]]);
N.splice(21,1);var F=g6.yj.slice(0);F[4]--;function h(){q.call(this,"aply");this.ld.push(new b2([0,3],[]));
this.ld.push(new b2([12,4],["RGB"].concat(gn.CD).concat(["Transparency"])));this.ld.push(new bf([4,11]));
this.ld.push(new b2([12,19,0],N,!1,F));this.ld.push(new d5([12,0],0,100,"%"));this.ld.push(new g$([12,38],1,2,null,2));
this.ld.push(new g$([12,6],-255,255));this.ld.push(new bf([13,5]));this.GH([2]);this.X$=null}h.prototype=new q;
h.prototype.Kx=function(m,O,e){if(e){var P=e[2].g,B=this.X$=[];for(var R=0;R<P.length;R++){var s=P[R].getName();
B.push(s.length<30?s:s.slice(0,27)+"...")}B.reverse();this.ld[0].eo([[5,7]].concat(B),[1,B.length])}else var B=this.X$;
m=m.With.v;var Y=m.T.v;O[0]=Y[1].t=="name"?1+B.indexOf(Y[1].v.val):0;O[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Y[0].v.enum);
O[2]=m.Invr.v;var D=m.Clcl.v.Clcn;O[3]=r.indexOf(D);O[4]=m.Opct.v.val;O[5]=m.Scl.v;O[6]=m.Ofst.v;O[7]=m.PrsT.v};
h.prototype.dC=function(m,O){m=m.With.v;var e=m.T.v;if(O[0]==0)e[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else e[1]={t:"name",v:{classID:"Lyr",val:this.X$[O[0]-1]}};e[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][O[1]];
m.Invr.v=O[2];var P=m.Clcl.v.Clcn=r[O[3]];m.Opct.v.val=O[4];m.Scl.v=O[5];m.Ofst.v=O[6];m.PrsT.v=O[7];
var B=P=="Add"||P=="Sbtr";this.ld[5].W9(B);this.ld[6].W9(B)};return h}();q.matc=function(){var r,N,F=0;
function h(){q.call(this,"matc");this.ld.push(new d5("Luminance",1,200));this.ld.push(new d5("Color Intensity",1,200));
this.ld.push(new d5([2,11],0,100,"%"));this.ld.push(new bf("Neutralize"));this.ld.push(new b2([12,70],[]));
this.ld.push(new b2([0,3],[]));this.GH([2])}function m(O,e){O.ld[5].eo([[5,7]].concat(e),[1,e.length])}h.prototype=new q;
h.prototype.Kx=function(O,e,P){F=0;e[0]=O.Lght.v;e[1]=O.ClrR.v;e[2]=O.Fade.v;e[3]=O.neutralizeColor?O.neutralizeColor.v:!1;
e[4]=e[5]=0;var B=O.Srce;if(B)B=B.v;if(P){r=[];N=[];var s=P[2],Y=P[3];for(var R=0;R<Y.length;R++){var D=Y[R];
r.push(D.name);var c=D.g,o=[];N.push(o);for(var H=0;H<c.length;H++)o.push(c[H].getName());o.reverse()}this.ld[4].eo([[13,1,0]].concat(r),[1,r.length]);
var x=Y.indexOf(s);if(B)x=r.indexOf(B[1].v.val);m(this,N[x])}if(B){var Q=r.indexOf(B[1].v.val);e[3]=F=1+Q;
if(B[0].t=="name")e[4]=1+N[Q].indexOf(B[0].v.val)}};h.prototype.dC=function(O,e){O.Lght.v=e[0];O.ClrR.v=e[1];
O.Fade.v=e[2];O.neutralizeColor.v=e[3];if(e[4]==0){O.noReference={t:"bool",v:!0};delete O.Srce}else{if(e[4]!=F){F=e[4];
m(this,N[e[4]-1])}delete O.noReference;var P={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},B=N[e[4]-1];
if(e[5]!=0)P={t:"name",v:{classID:"Lyr",val:B[e[5]-1]}};O.Srce={t:"obj ",v:[P,{t:"name",v:{classID:"Dcmn",val:r[e[4]-1]}}]}}};
return h}();function hs(r,N){jZ.call(this);if(r==null)return;this.id=N;this.LJ=r;this.rl=null;this.m=W._("div","window "+N);
this.aod=null;this.yx=W._("div","whead");this.abW=W._("span","wname");this.yx.appendChild(this.abW);
this.m.appendChild(this.yx);this.b$=this.akT.bind(this);this.Fq=this.atL.bind(this);this.s0=this.aqU.bind(this);
W.Cb(this.yx);W.vN(this.yx,this.b$);this.qD=W._("span","cross");this.yx.appendChild(this.qD);hs.prototype.f.call(this);
W.ey(this.qD,this.avZ.bind(this));this.body=W._("div","body");this.m.appendChild(this.body)}hs.prototype=new jZ;
hs.prototype.N7=function(){return!1};hs.prototype.gz=function(){return!1};hs.prototype.f=function(){if(this.LJ==null)return;
this.abW.textContent=ab.get(this.LJ);var r=PIMG.__cross==null?"filter:invert(1);":"";this.qD.setAttribute("style","background-image:url("+PIMG.cross+");"+r)};
hs.prototype.vV=function(r,N,F,h,m){};hs.prototype.SM=function(r,N,F,h,m){};hs.prototype.Ui=function(r,N,F,h,m){};
hs.prototype.wJ=function(r,N,F,h,m){};hs.prototype.TK=function(r,N,F,h,m){};hs.prototype.BD=function(r,N,F,h){if(h.j(bh.Ve)&&this.nW)this.nW();
if(h.j(bh.hg)){var m=new gf(v.E.u);m.pR=!0;z.EI.f8(h,m);if(m.data)N.L(m)}};hs.prototype.Zk=function(r){return!1};
hs.prototype.Nz=function(r,N){return!0};hs.prototype.w0=function(r,N,F,h){};hs.prototype.Qr=function(r,N){};
hs.prototype.md=function(r,N){return null};hs.prototype.a82=function(r){return this.aod};hs.prototype.bh=function(){};
hs.prototype.close=function(){this.L(new gf(v.E.zq))};hs.prototype.akT=function(r){this.rl=W.or(r,this.m);
W.B7(window,this.Fq);W.ey(window,this.s0)};hs.prototype.atL=function(r){var N=this.m.parentNode,F=W.or(r,N),h=Math.round(F.x-this.rl.x),m=N.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(F.y-this.rl.y)));
this.aod=new gS(h,m);this.m.style.left=h+"px";this.m.style.top=m+"px"};hs.prototype.aqU=function(r){W.iX(window,this.Fq);
W.g$(window,this.s0)};hs.prototype.avZ=function(r){this.L(new gf("closebtn"));this.close()};function aj(){hs.call(this,"About Photopea","aboutpp");
var r=W._("div","flexrow");this.body.appendChild(r);var N=this.a8S=W._("img");r.appendChild(N);this.body.setAttribute("style","margin:0; padding:0");
var F=this.a45=W._("div");F.innerHTML=aj.Gk;r.appendChild(F);var h=this._A=W._("span");h.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(h)}aj.prototype=new hs;aj.prototype.md=function(r,N){return new gS(0,0)};aj.prototype.bh=function(r,N){var F=this.a8S,h=this.a45,m=this._A,O=(r+N-42-42)/110;
O=Math.sqrt((r-42)*(N-42))/50;F.setAttribute("style","width:"+r/2+"px; height:"+N+"px; display:block; object-fit:cover;");
h.setAttribute("style","width:"+(r/2-42)+"px; height:"+(N-42)+"px; padding:20px; font-size:"+O+"px;");
m.setAttribute("style","position:absolute;  bottom:10px; right:"+(r/2+10)+"px")};aj.prototype.f=function(){};
aj.prototype.w0=function(r,N,F,h){this.a8S.setAttribute("src","promo/ivan_pp.webp")};aj.Gk="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function ip(){hs.call(this,[0,13,0],"account");this.iv=W._("div","form scrollable");this.body.appendChild(this.iv);
this.body.style.padding="0";this.Ux=[new ip.ya,new ip.Kq("::privacy.html"),new ip.Kq(ip.aob)];for(var R=0;
R<this.Ux.length;R++)this.Ux[R].parent=this;this.U("showpage",this.a4b,this)}ip.prototype=new hs;ip.prototype.bh=function(r,N){this.iv.setAttribute("style","width:"+Math.min(r-40,740)+"px;  height:"+(N-38)+"px;  padding:1.5em;");
this.Ux[0].bh(r,N)};ip.prototype.md=function(r,N){return new gS(Math.max(0,Math.min(150,(r-740)/2)),Math.max(0,Math.min(100,(N-500)/2)))};
ip.prototype.a4b=function(r){W.Tg(this.iv);this.iv.scrollTop=0;this.iv.appendChild(this.Ux[r.data.Jz].m)};
ip.prototype.f=function(){hs.prototype.f.call(this);for(var R=0;R<this.Ux.length;R++)this.Ux[R].f()};
ip.prototype.w0=function(r,N,F){W.Tg(this.iv);var h=this.Ux[0];this.iv.appendChild(h.m);h.w0();this.f()};
ip.prototype.Qr=function(r,N){this.w0(null,null,null)};ip.ya=function(){jZ.call(this);this.m=W._("div");
var r=this.m,P,B,Y="font-size:1.25em;",D="text-align:center;",o="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",H="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",x="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",U=12;
this.Wv=W._("div");r.appendChild(this.Wv);this.Kp=new d_([0,11],!1,null,!0);this.Kp.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Kp.U("click",this.VA,this);r.appendChild(this.Kp.m);this.iy=new d_([0,13,1],!1,null,!0);this.iy.U("click",this.a36,this);
r.appendChild(this.iy.m);this.uO=new d_("Business Terms",!1,null,!0);this.uO.U("click",this.a9F,this);
r.appendChild(this.uO.m);var N=W._("div");N.style.margin="20px 0";r.appendChild(N);var F=["Account Types","Go Premium","Team Settings","Distributors"],h=this.sv=[],m=this.al$=[],O=this.Yg=W._("div");
r.appendChild(O);for(var R=0;R<F.length;R++){var e=W._("span");e.textContent=F[R];N.appendChild(e);h.push(e);
e.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
e.addEventListener("click",this.v8.bind(this));m.push(W._("div"))}this.v8(0);var s=this.ajJ="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
r=m[0];var B=W._("table"),c="style=\" "+D+Y+" padding-bottom:20px;\"";B.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+x+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+x+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
r.appendChild(B);var e=new d_("Go Premium");e.m.setAttribute("style",s+"padding:10px 0;");e.U("click",function(p){this.v8(1)},this);
B.children[0].children[1].children[1].appendChild(e.m);this.ME=W._("div");r.appendChild(this.ME);r=m[1];
var Q=this.aho=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.b8=[];for(var R=0;R<Q.length;R++)this.b8.push(new d_("Buy: $"+Q[R][0],!1,null,!0));for(var R=0;
R<this.b8.length;R++){this.b8[R].U("click",this.a0M,this)}this.mq=new d_("...",!0);this.mq.m.setAttribute("style",s);
r.appendChild(this.mq.m);B=this.amP(4,["Single user",this.b8[0],this.b8[1],this.b8[2],"Team of 5",this.b8[3],this.b8[4],this.b8[5],"Team of 20",this.b8[6],this.b8[7],this.b8[8],"Team of 50",this.b8[9],this.b8[10],this.b8[11]]);
r.appendChild(B);this.a1K=new bf("I accept",!0,"");r.appendChild(this.a1K.m);this.vD=new d_([0,13,1],!1,null,!0);
this.vD.U("click",this.a36,this);r.appendChild(this.vD.m);this.dP=new d_("I have a key",!1,null,!0);
this.dP.m.setAttribute("style",s+" float:right; width:inherit;");this.dP.U("click",this.a0M,this);r.appendChild(this.dP.m);
r=m[2];this.gW=new fJ;this.gW.parent=this;this.gW.U(v.E.o,this.i5,this);r.appendChild(this.gW.m);r=m[3];
this.Mn=new d_("...",!0);this.Mn.m.setAttribute("style",s);r.appendChild(this.Mn.m);B=this.amP(3,["1000 views/mo",this.b8[U++],this.b8[U++],this.b8[U++],"5000 views/mo",this.b8[U++],this.b8[U++],this.b8[U++],"20000 views/mo",this.b8[U++],this.b8[U++],this.b8[U++]]);
r.appendChild(B);var I=W._("p");I.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
r.appendChild(I);this.Xz=new g8("Domain name (e.g. domain.com)",null,14);r.appendChild(this.Xz.m);var l=new d_("Save Domain Settings",!1,null,!0);
l.D2();r.appendChild(l.m);l.U("click",this.a6N,this)};ip.ya.prototype=new jZ;ip.ya.prototype.v8=function(r){var N=typeof r=="number"?r:this.sv.indexOf(r.target);
for(var R=0;R<4;R++)this.sv[R].style.opacity=.6;this.sv[N].style.opacity=1;W.Tg(this.Yg);this.Yg.appendChild(this.al$[N])};
ip.ya.prototype.bh=function(r,N){var F=r<600?"d":" days",h=["30 days","90 days","365 days"];if(r<600)h=["30d","90d","365d"];
var m=this.aho;for(var R=0;R<m.length;R++){this.b8[R].o6("<span>"+h[R%3]+": <sup>$</sup><big><b>"+m[R][0]+"</b></big>"+"</span>");
this.b8[R].m.setAttribute("style",this.ajJ)}};ip.ya.prototype.a36=function(r){var N=new gf("showpage",!0);
N.data={Jz:1};this.L(N)};ip.ya.prototype.a9F=function(r){var N=new gf("showpage",!0);N.data={Jz:2};this.L(N)};
ip.ya.prototype.f=function(){this.Kp.o6(ey.BR()?ab.get([0,11]):ab.get([0,10]));this.vD.f();this.iy.f();
this.uO.f()};ip.ya.prototype.a1Z=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.lz,link:"https://www.photopea.com/api/accounts#"+(r.target==this.aoQ?"teams":"distributors")};
this.L(N)};ip.ya.prototype.a3T=function(r){var N=r.currentTarget==this.aup;this.aup.b(N);this.aaa.b(!N)};
ip.ya.prototype.abD=function(r){var N=this.aup.k(),F=this.ap9.k().trim().toLowerCase(),h=this.aj3.value.trim().toLowerCase();
if(F.length>60){alert("Too long email address");return}if(h.length>600){alert("Too many team members");
return}h=h.split(",").join(" ").trim();h=h.replace(/\s+/g," ");if(h=="")h=[];else h=h.split(" ");var m=ey.FF();
if(m==null)m={};if(m.acc==null)m.acc={};m.acc.team={jin:N,ldr:F,mmb:h};ey.Iu(m,this.i5.bind(this));alert("Saved!");
this.w0()};ip.ya.prototype.a6N=function(r){var N=this.Xz.k().trim();if(!ey.BR()){alert("You have to log in first.");
return}if(ey.be()==0){alert("Order a distributor account first.");return}var F=ey.FF();if(F==null)F={};
if(F.acc==null)F.acc={};if(N=="")delete F.acc.dname;else F.acc.dname=N;ey.Iu(F,this.i5.bind(this));alert("Saved!");
this.w0()};ip.ya.prototype.asw=function(r){var N=ey.XP(),R=this.k_,F=ey.FF();if(F==null)F={};if(F.acc==null)F.acc={};
F.acc.bto=r;ey.Iu(F,function(){});var h=ip.acV(r.split("\n"),N.pmnts[R]);eu.save(h,"photopea_invoice.pdf")};
ip.ya.prototype.a42=function(r){var N=ey.XP(),F=ey.FF(),h=F.acc?F.acc.bto:null;if(h==null)h=N.name+"\n"+N.email;
var R=-1,m=r.target.m.parentNode;while((m=m.previousSibling)!=null)R++;this.k_=R;var O=new gf(v.E.S,!0);
O.data={V:v.c.pr,i7:"billto",Q5:h,q3:this.asw.bind(this)};this.L(O)};ip.ya.prototype.w0=function(){if(ey.BR()){var r=ey.XP(),N=r.pmnts;
if(r==null)return;this.Wv.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+r.name+"</span> "+r.email+" <br/>";
W.Tg(this.ME);if(N){var F="<h2>Payments</h2>";for(var R=0;R<N.length;R++){var h=N[R],m=new Date(h[0]*1e3);
F+="<div style=\"font-size:1.2em\">"+m.getDate()+". "+(m.getMonth()+1)+". "+m.getFullYear()+" - "+ip.abS(h)+"</div>"}this.ME.innerHTML=F;
for(var R=0;R<N.length;R++){var O=new d_("Get Invoice",!1,null,!0);O.m.setAttribute("style","float:right");
O.U("click",this.a42,this);this.ME.children[R+1].appendChild(O.m)}}}else{}var e=ey.BR()&&ey.rU();this.mq.m.style.display=e?"block":"none";
if(e){var P,B,s=e;if(s[0]==0){P=ey.GA(s[1])-Date.now()*(1/1e3);B=s[1][2]==1?"Single User":"Team Of "+s[1][2]}else{P=s[1][1]-Date.now()*(1/1e3);
B="Member of \""+s[1][0]+"\""}this.mq.o6("Premium active for "+Math.round(P/(60*60*24))+" more days! ("+B+")")}var Y=ey.BR()&&ey.be()*1e3>Date.now();
this.Mn.m.style.display=Y?"block":"none";if(Y){var P=ey.be()-Date.now()/1e3;this.Mn.o6("Distributor active for "+Math.round(P/(60*60*24))+" more days!")}var D=ey.FF();
this.gW.w0();if(D&&D.acc&&D.acc.dname)this.Xz.b(D.acc.dname);else this.Xz.b("")};ip.ya.prototype.amP=function(r,N){var F=W._("table");
if(!0){var h="<table><tr>";for(var R=0;R<r;R++)h+="<th>"+N[R*4]+"</th>";h+="</tr></table>";F.innerHTML=h;
for(var R=0;R<3;R++){var m=W._("tr"),O;F.appendChild(m);for(var e=0;e<r;e++){O=W._("td");O.style.width=Math.round(100/r)+"%";
m.appendChild(O);O.appendChild(N[e*4+1+R].m)}}}return F};ip.ya.prototype.a0M=function(r){var N=this.b8.indexOf(r.currentTarget),h=30,m=1;
if(!ey.BR()){alert("You must log in before buying Premium");return}if(this.a1K.k()==!1&&N<12){alert("You must accept Terms of Service");
return}var F=ey.BR()&&ey.rU();if(N!=-1){var O=this.aho[N];h=O[1];m=O[2]}if(F&&m<1e3){alert("You already have premium.");
return}console.log(O,h,m);if(N==-1){var e=prompt("Please enter your key");if(e!=null){ey.ad$(e,this.i5.bind(this));
this.Dq()}return}if(h==30&&m==1){var P=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!P)return}ey.order(h,m,this.i5.bind(this));this.Dq()};ip.ya.prototype.i5=function(r){this.w0();this.Dq()};
ip.ya.prototype.VA=function(r){if(ey.BR()){ey.ez();this.Dq();this.w0(null,null,null)}else ey.VA(this.anb.bind(this))};
ip.ya.prototype.anb=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.aq2};this.L(r)};ip.ya.prototype.Dq=function(){var r=new gf(v.E.S,!0);
r.data={V:v.c.apY};this.L(r)};ip.Kq=function(r){jZ.call(this);this.m=W._("div");var N=this.m,F=this.af0=new d_([0,13,2],!1,null,!0),h;
F.U("click",this.ajh,this);N.appendChild(F.m);if(r.startsWith("::")){h=W._("iframe");h.setAttribute("style","width:100%;height:1700px; background-color:white;");
h.setAttribute("src",r.slice(2))}else{h=W._("div");h.innerHTML=r}N.appendChild(h)};ip.Kq.prototype=new jZ;
ip.Kq.prototype.ajh=function(r){var N=new gf("showpage",!0);N.data={Jz:0};this.L(N)};ip.Kq.prototype.f=function(){this.af0.f()};
ip.aob="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
ip.abS=function(r){return"Photopea "+(r[1]<1e3?"Premium":"Distributor")+" ("+r[1]+" days, "+r[2]+" user"+(r[2]==1?"":"s")+")"};
ip.acV=function(r,N){r=["Bill To:"].concat(r);var F=new ToPDF,h=595,m=842,O=40,e=18,P=12,B=500,s=100,Y=400,x=0;
function D(f,S,L,y,$){o.font.Tf=$?"Helvetica-Bold":"Helvetica";o.ctm=[1,0,0,1,S,L];o.font.Tfs=y?y:P;
F.PutText(o,f,0)}function c(f,S,L,y){for(var R=0;R<f.length;R++){D(f[R],S,L-R*y,null,R==0)}}var o=UDOC.getState();
F.StartPage(0,0,h,m);D("INVOICE",h-O-140,m-O-30,30,!0);c(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],O,m-O-40,e);
var H=new Date(N[0]*1e3);c(["Date: "+H.getDate()+". "+(H.getMonth()+1)+". "+H.getFullYear(),"Transaction ID: "+N[4]],h-O-140,m-O-40-e*2,e);
var Q=r.join("");for(var R=0;R<Q.length;R++)x=Math.max(x,Q.charCodeAt(R));if(x>256){var U=4,I=W._("canvas"),l=I.getContext("2d"),p=0;
l.font=P*U+"px sans-serif";for(var R=0;R<r.length;R++)p=Math.max(p,l.measureText(r[R]).width);var j=Math.round(p)+20,T=r.length*U*e+20;
I.width=j;I.height=T;l.font=P*U+"px sans-serif";for(var R=0;R<r.length;R++){l.font=(R==0?"bold ":"")+P*U+"px sans-serif";
l.fillText(r[R],10,(R+1)*U*e)}document.body.appendChild(I);var V=new Uint8Array(l.getImageData(0,0,j,T).data.buffer);
o.ctm=[j/U,0,0,T/U,O-10/U,m-O-40-100-T/U];F.PutImage(o,V,j,T);o.ctm=[1,0,0,1,0,0]}else c(r,O,m-O-40-100,e);
o.colr=[.8,.8,.8];o.pth={cmds:["M","L","L","L","Z"],crds:[O,B,h-O,B,h-O,B-e,O,B-e]};F.Fill(o);o.colr=[0,0,0];
var E=[O,B,h-O,B,O,B-e,h-O,B-e,O,B-s,h-O,B-s,O,B,O,B-s,h-O,B,h-O,B-s,Y,B,Y,B-s],_=[];for(var R=0;R<E.length;
R+=4)_.push("M","L");o.pth={cmds:_,crds:E};F.Stroke(o);D("Order details",O+4,B-14);D(ip.abS(N),O+4,B-e-14);
D("TOTAL:",O+4,B-s-14,null,!0);D("Price",h-O-50,B-14);D(N[3]+" USD",h-O-60,B-e-14);D(N[3]+" USD",h-O-60,B-s-14,null,!0);
D("www.Photopea.com",O,O);D("support@photopea.com",h-O-130,O);F.ShowPage();F.Done();return F.buffer};
function eL(){hs.call(this,[11,14],"addguides");this.pZ;this.bX={ec:{W3:0}};this.Gp=null;var r=W._("div","form");
this.body.appendChild(r);this.e1=new g8([22,4,0],null,16);this.e1.U(v.E.o,this.cO,this);this.Bu=new g8([22,4,1],null,16);
this.Bu.U(v.E.o,this.cO,this);this.Qz=new b2(null,w.Lt.mh);this.Qz.U(v.E.o,this.cO,this);r.appendChild(this.e1.m);
r.appendChild(this.Qz.m);W.ke(r);r.appendChild(this.Bu.m);this.Fw=W.a1(this,r);this.U("closebtn",this.aab,this)}eL.prototype=new hs;
eL.prototype.Nz=function(r,N){return r!=null};eL.prototype.N7=function(){return!0};eL.prototype.f=function(){hs.prototype.f.call(this);
this.e1.f();this.Bu.f();this.Qz.f();this.Fw.f()};eL.prototype.Qr=function(r,N){var F=r.ec.W3;this.bX.ec.W3=F;
this.Qz.b(F)};eL.prototype.w0=function(r,N){this.pZ=r;this.Gp=JSON.stringify(r.jS());this.KU()};eL.prototype.KU=function(){var r=this.pZ,N=r.a_,F=function(h,m,r,O,e){var P=[];
for(var R=0;R<h.length;R++)if(h[R][0]==m)P.push(w.Lt.Ip(h[R][1],r.EP,O,e));P.sort(function(B,s){return B-s});
return P.join(", ")};this.e1.b(F(N,0,r,this.bX,r.e));this.Bu.b(F(N,1,r,this.bX,r.n))};eL.prototype.cO=function(r){if(r&&r.currentTarget==this.Qz)this.bX.ec.W3=this.Qz.k();
else{var N=this.amr(),F=this.pZ;F.O4(N);F.mR=!0}this.KU()};eL.prototype.amr=function(){var r=[],N=[];
for(var F=0;F<2;F++){var h=F==0?this.e1:this.Bu,m=F==0?this.pZ.e:this.pZ.n,O=h.k().replace(/,/g," ").replace(/  +/g," ").trim(),e=O==""?[]:O.split(" ");
for(var R=0;R<e.length;R++){r.push([F,w.Lt.abJ(e[R],this.pZ.EP,this.bX,m)]);N.push(-1)}}return[r,N]};
eL.prototype.aab=function(r){var N=this.pZ;N.O4(JSON.parse(this.Gp));N.mR=!0;this.pZ=null};eL.prototype.nW=function(r){this.cO(r);
var N=new gf(v.E.u,!0);N.s=z.FS;N.data={V:"gids",mP:JSON.parse(this.Gp),xj:this.pZ.jS()};this.pZ=null;
this.close();this.L(N)};function hm(r){var N=df.names[r];if(N==null)N=gn.names[r];if(r=="aply")N=[2,12];
if(r=="fade")N=[2,11];if(r=="matc")N=[4,18];if(r=="blendOptions")N=[14,10];hs.call(this,N,"afw_"+r);
this.NM=r;this.zs=null;this.MX=null;this.M0=new q[r];this.M0.U(v.E.o,this.qM,this);this.M0.parent=this;
this.body.appendChild(this.M0.m);this.mj=new bf([24,18,5]);this.mj.b(!0);this.mj.U(v.E.o,this.qM,this);
this.jF=new d_([1,12,2],!0,null,!0);this.jF.U("click",this.ik,this);this.Fw=W.a1(this);if(this.NF())this.M0.RH(this.Fw.m);
else{W.Ou(this.M0.m,"form");W.Ou(this.body,"flexrow");this.M0.m.setAttribute("style","width:312px");
var F=W._("div");this.body.appendChild(F);F.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
F.appendChild(this.Fw.m);F.appendChild(this.jF.m);F.appendChild(this.mj.m)}this.U("closebtn",this.ut,this)}hm.prototype=new hs;
hm.prototype.N7=function(){return!0};hm.prototype.NF=function(){return this.M0!=null&&this.M0.fj()};
hm.prototype.md=function(){return this.NF()?new gS(0,0):hs.prototype.md()};hm.prototype.gz=function(){return this.M0.gz()};
hm.prototype.vV=function(r,N,F,h,m){this.M0.vV(r,N,F,h,m)};hm.prototype.Ui=function(r,N,F,h,m){this.M0.Ui(r,N,F,h,m)};
hm.prototype.wJ=function(r,N,F,h,m){this.M0.wJ(r,N,F,h,m)};hm.prototype.Nz=function(r,N){if(this.NM=="fade")return hm.a0j(r);
return!0};hm.prototype.ik=function(r){this.M0.b(df.T$(this.NM));this.qM()};hm.prototype.qM=function(r){this.Ri({V:"edit",MB:this.M0.k(),J3:!this.mj.k()})};
hm.prototype.ut=function(r){this.Ri({V:"cancel"})};hm.prototype.nW=function(r){if(!this.mj.k()){this.mj.b(!0);
this.qM()}this.MX=this.M0.k();if(this.NF())this.qM();this.Ri({V:"confirm"});this.close()};hm.prototype.f=function(){hs.prototype.f.call(this);
this.mj.f();if(this.M0)this.M0.f();this.Fw.f()};hm.prototype.Qr=function(r,N){if(this.M0)this.M0.Qr(r,N)};
hm.prototype.BD=function(r,N,F,h){if(this.NF())this.M0.BD(h);else hs.prototype.BD.call(this,r,N,F,h)};
hm.prototype.w0=function(r,N,F,h){this.zs=N.zs;var m=r.add.lnk2?r.add.lnk2:[],O,e,P=new fE(0,0,r.e,r.n),B=r.g[r.w[0]],s=null;
O=B.buffer;e=B.rect;if(this.NF())s=r.G9(r.w[0]-1);var Y=df.T$(this.NM),D=[m,r.O0,r,F];if(N.zs==null){this.M0.b(Y,O,e,P,s,D);
if(gn.names[this.NM]){if(h.j(bh.sV)&&this.MX)this.M0.b(this.MX);var c=z.Ig.getData(r),o=w.K2(c[0].C2);
this.M0.ff(o)}}else{var H=!1,B=r.g[this.zs.a];if(B.Ru()){var x=B.xg(r);O=x.buffer;e=x.rect;var Q=B.add.SoLd.filterFX.v.filterFXList.v;
if(Q[this.zs.index]){var U=Q[this.zs.index].v;this.M0.b(this.NM=="blendOptions"?U.blendOptions.v:U.Fltr.v,O,e,P,s,D);
this.M0.ff(w.K2(O));H=!0}}if(!H){this.M0.b(Y,O,e,P,s,D);this.M0.ff(w.K2(O))}}if(!this.NF())this.qM()};
hm.prototype.Ri=function(r){var N=new gf(v.E.u,!0);r.NM=this.NM;r.zs=this.zs;N.data=r;N.s=df.names[this.NM]||this.zs?z.dX:z.T_;
N.pR=!0;this.L(N)};hm.prototype.bh=function(r,N){if(!this.M0.fj()){}else{this.body.style.padding="0";
this.M0.bh(r,N)}};hm.a0j=function(r){if(r==null)return!1;var N=r.xp();if(N==null||!(N.data instanceof Array)||N.data.length!=r.w.length)return!1;
for(var R=0;R<N.data.length;R++){var F=N.data[R];if(F.a<0&&r.O0[-1-F.a])return!0;if(F.a==null||r.g[F.a]==null||r.g[F.a].Ku!=F.P6)return!1;
if(r.w.indexOf(F.a)==-1)return!1}return!0};function bK(){hs.call(this,[11,0],"camera");this.data=null;
this._o=new gS(1,1);this.arS=[];var r=W._("div","form hbar");this.body.appendChild(r);this.a0L=new b2(null,[]);
this.BA=new b2([21,0],[[21,2],[21,1]]);r.appendChild(this.BA.m);this.Ee=new b2(null,[]);this.Ee.U(v.E.o,this.a0J,this);
r.appendChild(this.Ee.m);this.qR=new d_([11,0],!1,null,!0);this.qR.U("click",this.aqo,this);r.appendChild(this.qR.m);
this.fl=new bB("");r.appendChild(this.fl.m);this.stream=null;this.pY=W._("video","");this.pY.setAttribute("autoplay","true");
this.body.appendChild(this.pY);this.afw=this.aqK.bind(this);this.a5N=this.ass.bind(this);this.a8m=this.a7A.bind(this);
this.U("closebtn",this.abZ,this)}bK.prototype=new hs;bK.prototype.f=function(){hs.prototype.f.call(this);
this.BA.f();this.qR.f();this.bh(this.YW,this.Nf)};bK.prototype.G9=function(){var r=this.pY.videoWidth,N=this.pY.videoHeight,F=W._("canvas","");
F.width=r;F.height=N;var h=F.getContext("2d");h.drawImage(this.pY,0,0,r,N);var m=h.getImageData(0,0,r,N);
return{I0:new fE(0,0,r,N),data:m.data.buffer}};bK.prototype.aqo=function(r){if(this.BA.k()==0)this.aqa();
else this.auI()};bK.prototype.auI=function(){var r=this.G9(),N={buffer:new Uint8Array(r.data),rect:r.I0},F=new gf(v.E.u,!0);
F.pR=!0;F.s=z.j7;F.data={V:C.Ax,zb:N};this.L(F);alert(ab.get([21,4]))};bK.prototype.aqa=function(){var r=this.G9(),N=bA.B0("camera",[r]),F=new gf(v.E.S,!0);
F.data={V:v.c.RY,_I:N};this.L(F);alert(ab.get([21,5]))};bK.prototype.w0=function(r,N,F){navigator.mediaDevices.enumerateDevices().then(this.agF.bind(this))};
bK.prototype.agF=function(r){var N=this.arS=[],F=[];for(var R=0;R<r.length;R++)if(r[R].kind=="videoinput"){N.push(r[R]);
F.push("Camera "+N.length)}this.Ee.eo(F);this.Ee.b(0);this.a0J()};bK.prototype.a0J=function(r){this.abZ();
var N={video:{deviceId:this.arS[this.Ee.k()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(N).then(this.afw).catch(this.a5N);
else navigator.webkitGetUserMedia(N,this.afw,this.a5N)};bK.prototype.aqK=function(r){this.stream=r;this.pY.srcObject=r;
this.pY.addEventListener("loadedmetadata",this.a8m,!1)};bK.prototype.a7A=function(r){this.pY.play();
this.bh(this.YW,this.Nf)};bK.prototype.md=function(r,N){return new gS(0,0)};bK.prototype.bh=function(r,N){var F=this.pY.videoWidth,h=this.pY.videoHeight;
this.fl.b(F+" x "+h+" px");this.fl.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this._o.YR(F,h);this.YW=r;this.Nf=N;var m=r-28,O=N-28-30,e=this._o.x/this._o.y;if(m/O>e)m=O*e;else O=m/e;
this.pY.setAttribute("style","display: block; width: "+Math.round(m)+"px; height:"+Math.round(O)+"px;")};
bK.prototype.ass=function(r){console.log("error",r);alert(ab.get([21,6]));this.close()};bK.prototype.abZ=function(r){if(this.stream!=null){var N=this.stream.getTracks();
for(var R=0;R<N.length;R++)N[R].stop();this.stream=null}};function cj(){hs.call(this,[7,8],"crange");
this.pZ=null;this.cY={qN:73,O$:4.45,J:4};this.LI={qN:73,O$:4.45,J:4};this.body.style.width="20em";this.SN=new b2([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.SN.U(v.E.o,this.aev,this);this.body.appendChild(this.SN.m);this.Gk=W._("div","form");this.body.appendChild(this.Gk);
var r=this.a5D=2,N=this.hT=[new d5([12,92],0,200),new ch([12,36],[[18,0],"\uFF0B","-"]),new d5([12,92],0,100,"%"),new g$("Min",0,255),new g$("Max",0,255)];
N[0].b(40);N[r].b(40);for(var R=0;R<N.length;R++){N[R].U(v.E.o,this.Fm,this);N[R].parent=this}this.D=W._("canvas");
this.body.appendChild(this.D);this.Fw=W.a1(this,this.body)}cj.prototype=new hs;cj.prototype.Nz=function(r,N){return r!=null};
cj.prototype.gz=function(){return!0};cj.prototype.N7=function(){return!0};cj.prototype.aev=function(r){var N=this.SN.k(),F=this.hT,h=this.Gk,m=0,O=F.length,e=this.a5D;
if(N==0)O=e;else{m=e;F[m+1].b([0,100,190][N-1]);F[m+1].W9(N!=1);F[m+2].b([60,150,255][N-1]);F[m+2].W9(N!=3)}W.Tg(h);
for(var R=m;R<O;R++){h.appendChild(F[R].m)}this.Fm()};cj.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();this.SN.f();for(var R=0;R<this.hT.length;R++)this.hT[R].f()};cj.prototype.vV=function(r,N,F,h,m){var O=r.q.RX(m.x,m.y);
this.aeM(O.x,O.y)};cj.prototype.aeM=function(r,N){var F=Math.min,h=Math.max,m=this.pZ,O=h(0,F(m.e-1,Math.floor(r))),e=h(0,F(m.n-1,Math.floor(N))),P=m.G9(),B=(e*m.e+O)*4,s=P[B],Y=P[B+1],D=P[B+2],c=w.b7(s,Y,D),o=this.hT[1].k(),H=this.cY,x=this.LI;
if(o==0){this.cY=JSON.parse(JSON.stringify(c));this.LI=c}else if(o==1){H.qN=F(H.qN,c.qN);H.O$=F(H.O$,c.O$);
H.J=F(H.J,c.J);x.qN=h(x.qN,c.qN);x.O$=h(x.O$,c.O$);x.J=h(x.J,c.J)}else if(o==2){var Q=(H.qN+x.qN)/2,U=(H.O$+x.O$)/2,I=(H.J+x.J)/2;
if(c.qN<Q)H.qN=h(H.qN,c.qN+10);else x.qN=F(x.qN,c.qN-10);if(c.O$<U)H.O$=h(H.O$,c.O$+1);else x.O$=F(x.O$,c.O$-1);
if(c.J<I)H.J=h(H.J,c.J+1);else x.J=F(x.J,c.J-1)}this.Fm()};cj.prototype.nW=function(r){var N=this.SN.k(),F=this.hT,h={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(N==0){var m=this.cY,O=this.LI;h.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:m.qN},A:{t:"doub",v:m.O$},B:{t:"doub",v:m.J}}};
h.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:O.qN},A:{t:"doub",v:O.O$},B:{t:"doub",v:O.J}}};h.Fzns={t:"long",v:F[0].k()}}else{N--;
var e=["shadows","midtones","highlights"][N];h.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][N]}};if(0<N)h[e+"LowerLimit"]={t:"long",v:F[3].k()};
if(N<2)h[e+"UpperLimit"]={t:"long",v:F[4].k()};h[e+"Fuzziness"]={t:"long",v:F[2].k()}}this.close();var P=new gf(v.E.nE,!0);
P.data={Ja:"colorRange",Tf:h};this.L(P)};cj.prototype.w0=function(r,N){this.pZ=r;this.aeM(0,0);this.aev()};
cj.prototype.Fm=function(){var r=this.pZ,N=this.SN.k(),F=this.cY,h=this.LI,m=this.hT,O=m[0].k()/200,e=!1;
if(N>0){F=m[3].k();h=m[4].k();if(F>=h)F=h-1;e=!0;O=m[2].k()/100}var P=z.Yi.rW(r,F,h,O,e),B=P.rect,s=P.channel,Y=this.D,D=Y.getContext("2d"),c=Math.floor(230*W.G()),o=Math.floor(c*(B.n/B.e));
Y.width=c;Y.height=o;W.HR(Y,c,o);var H=w.B(s.length*4);w.T1(H,4294967295);for(var R=0;R<3;R++)w.vr(s,H,R);
var x=z.Q.iG([H,B],new hc(c/B.e,0,0,o/B.n,0,0)),Q=x.rect,U=new ImageData(new Uint8ClampedArray(x.buffer.buffer),Q.e,Q.n);
D.putImageData(U,0,0)};function en(){hs.call(this,[12,76,1],"createshape");this.Ua=null;var r=W._("div","form");
r.setAttribute("style","width:20em");this.body.appendChild(r);this.mx=new g$([12,41],0,0,null,0,!1,!0);
r.appendChild(this.mx.m);W.ke(r);this.e1=new g$([12,42],0,0,null,0,!1,!0);r.appendChild(this.e1.m);W.ke(r);
this.z2=new bf([19,5,3]);r.appendChild(this.z2.m);this.mx.b(100);this.e1.b(100);this.Fw=W.a1(this,r)}en.prototype=new hs;
en.prototype.nW=function(r){this.Ua.agU(this.Ua.ag1,this.mx.k(),this.e1.k(),this.z2.k());this.close()};
en.prototype.f=function(){if(this.Ua)this.LJ=ab.get([5,3])+": "+ab.get(this.Ua.a0q);hs.prototype.f.call(this);
this.Fw.f();this.mx.f();this.e1.f();this.z2.f()};en.prototype.w0=function(r,N){this.Ua=N;this.f();this.mx.mo()};
function dg(){hs.call(this,[11,1],"colorpicker");this.p5=null;this.kv=null;this.ts=null;this.iB=!1;this.x4=!1;
var r=W._("div","flexrow"),O,e;this.body.appendChild(r);this.f2=new h2(256,!0);this.f2.U(v.E.o,this.US,this);
r.appendChild(this.f2.m);var N=W._("div","form");N.setAttribute("style","width:14.5em; margin-left:1em;");
r.appendChild(N);this.any=W._("div","full");N.appendChild(this.any);this.abm=W._("div","full");N.appendChild(this.abm);
var F=W._("div","flexrow");N.appendChild(F);var h=W._("div"),m=W._("div");F.appendChild(h);F.appendChild(m);
O=["R","G","B"];e=h;this.SH=[];for(var R=0;R<3;R++){var P=new g$(O[R]+":",0,255,null,0,!1,!0);this.SH.push(P);
P.U(v.E.o,this.ao6,this);e.appendChild(P.m)}O=["H","S","B"];e=m;this.Ne=[];for(var R=0;R<3;R++){var B=0,s=360,Y="\xB0";
if(R!=0){s=100;Y="%"}var P=new g$(O[R]+":",B,s,Y,0,!1,!0);this.Ne.push(P);P.U(v.E.o,this.a9c,this);e.appendChild(P.m)}this.e1=new g8("Hex",null,6);
this.e1.U(v.E.o,this.jl,this);N.appendChild(this.e1.m);this.JB=W._("input","fitem");this.JB.setAttribute("type","color");
this.JB.setAttribute("style","width:50px");this.JB.addEventListener("change",this.jl.bind(this),!1);
N.appendChild(this.JB);this.v4=new bG(9);this.v4.U(v.E.o,this.jl,this);N.appendChild(this.v4.m);this.Fw=W.a1(this,N);
this.U("closebtn",this.ut,this);this.pn=!1}dg.prototype=new hs;dg.prototype.gz=function(){return!0};
dg.prototype.md=function(r,N){return new gS(Math.max(0,Math.min(150,(r-484)/2)),Math.max(0,Math.min(150,(N-316)/2)))};
dg.prototype.bh=function(r,N){this.f2.bh(Math.min(256,r-226),N)};dg.prototype.f=function(r,N){hs.prototype.f.call(this);
this.Fw.f()};dg.prototype.US=function(r){this.kv=this.f2.k();this.update()};dg.prototype.vV=function(r,N,F,h,m){this.pn=!0;
this.a8D(r,m)};dg.prototype.Ui=function(r,N,F,h,m){if(!this.pn)return;this.a8D(r,m)};dg.prototype.wJ=function(r,N,F,h,m){this.pn=!1};
dg.prototype.a8D=function(r,N){var F=z.o7.dU(r,N,1),h=F&255,m=F>>8&255,O=F>>16&255;this.kv={Z:O/255,z:m/255,J:h/255};
this.update()};dg.prototype.ao6=function(r){var N=this.SH,F=this.X2(parseInt(N[0].k())),h=this.X2(parseInt(N[1].k())),m=this.X2(parseInt(N[2].k()));
this.kv={Z:F/255,z:h/255,J:m/255};this.update()};dg.prototype.a9c=function(r){var N=this.Ne,F=this.IB(parseInt(N[0].k())/360),h=this.IB(parseInt(N[1].k())/100),m=this.IB(parseInt(N[2].k())/100);
this.kv=w.ip(F,h,m);this.update()};dg.prototype.jl=function(r){var N;if(r.currentTarget==this.v4)N=this.v4.k();
else{N=r.currentTarget==this.e1?this.e1.k():this.JB.value;if(N.charAt(0)=="#")N=N.slice(1);if(N.length==3)N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2];
N=w.ju(N)}this.kv={Z:(N>>16&255)/255,z:(N>>8&255)/255,J:(N&255)/255};this.update()};dg.prototype.W1=function(r){var N=r.Z,F=r.z,h=r.J;
return Math.round(N*255)<<16|Math.round(F*255)<<8|Math.round(h*255)};dg.prototype.nW=function(r){this.acb();
var N=this.W1(this.kv);this.ts(N);this.close();this.x4=!1;this.kv=null};dg.prototype.ut=function(r){this.acb();
if(this.iB)this.ts(this.W1(this.p5));this.x4=!1;this.kv=null};dg.prototype.acb=function(r){var N=new gf(v.E.S,!0);
N.data={V:v.c.acF};this.L(N)};dg.prototype.Qr=function(r,N){if(N!=bC.gU)return;var F=r.Fp;this.v4.b(F);
if(this.kv!=null){this.kv={Z:(F>>16&255)/255,z:(F>>8&255)/255,J:(F>>0&255)/255};this.update()}};dg.prototype.w0=function(r,N){var F=N.IU,h={Z:(F>>16&255)/255,z:(F>>8&255)/255,J:(F>>0&255)/255};
if(this.kv==null){var m=new gf(v.E.S,!0);m.data={V:v.c.oQ,eT:"crosshair",push:!0};this.L(m);this.pn=!1;
this.ts=N.xV;this.iB=!1;this.x4=N.C9;this.p5=JSON.parse(JSON.stringify(h));this.abm.setAttribute("style","height:3em;background-color:#"+w.GG(F)+";")}this.kv=h;
this.update()};dg.prototype.update=function(){var r=this.kv,N=this.W1(r),F=this.SH;F[0].b(Math.round(r.Z*255));
F[1].b(Math.round(r.z*255));F[2].b(Math.round(r.J*255));this.e1.b(w.GG(N));this.JB.value="#"+w.GG(N);
this.any.setAttribute("style","height:3em;background-color:#"+w.GG(N)+";");var h=w.DZ(r.Z,r.z,r.J);F=this.Ne;
F[0].b(Math.round(h.Nf*360));F[1].b(Math.round(h.ou*100));F[2].b(Math.round(h.MB*100));this.f2.b(r);
if(this.x4){this.ts(this.W1(this.kv));this.iB=!0}};dg.prototype.X2=function(r){return Math.max(0,Math.min(255,r))};
dg.prototype.IB=function(r){return Math.max(0,Math.min(1,r))};function dd(){hs.call(this,[11,2],"contoureditor");
this.a6P=null;this.Qw=null;this.response=null;this.k$=W._("div","cell");this.body.appendChild(this.k$);
this.KI=W._("div","cell padded");this.body.appendChild(this.KI);var r=W._("div","bordered padded vmargin");
this.k$.appendChild(r);this.M0=new aU(null,null,!0);this.M0.U(v.E.o,this.a2,this);r.appendChild(this.M0.m);
this.Fw=W.a1(this,this.KI);this.U("closebtn",this.o8,this)}dd.prototype=new hs;dd.prototype.nW=function(){this.close()};
dd.prototype.f=function(){hs.prototype.f.call(this);this.Fw.f();this.M0.f()};dd.prototype.a2=function(r){this.Qw.Crv.v=this.M0.k();
this.response(this.Qw)};dd.prototype.o8=function(r){this.response(this.a6P)};dd.prototype.w0=function(r,N){this.a6P=JSON.parse(JSON.stringify(N.Yg));
this.Qw=N.Yg;this.response=N.response;this.M0.b(this.Qw.Crv.v)};function eC(){hs.call(this,[11,3],"csize");
this.WK=0;this.iv=W._("div","form");this.iv.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.iv);
this.kt=new i8(!0,!0,!0,!0,!0);this.kt.a3S(!1);this.iv.appendChild(this.kt.m);this.CK=new ch("Align with",[[8,7],[12,6]]);
this.CK.U(v.E.o,this.a3x,this);this.Wu=new fy([12,23,2],41);this.iv.appendChild(this.Wu.m);this.Wu.b(4);
this.cb=new cO(!1);this.cb.asq(new gS(0,0));this.Fw=W.a1(this,this.body)}eC.prototype=new hs;eC.prototype.Nz=function(r,N){return r!=null};
eC.prototype.N7=function(){return!0};eC.prototype.Zk=function(r){return[bh.ox,bh.oH,bh._B,bh.UM].indexOf(r)!=-1};
eC.prototype.BD=function(r,N,F,h){this.Wu.aog(h.S5())};eC.prototype.a3x=function(){var r=[this.Wu.m,this.cb.m];
this.iv.removeChild(r[this.WK]);this.WK=this.CK.k();this.iv.appendChild(r[this.WK])};eC.prototype.f=function(){hs.prototype.f.call(this);
this.kt.f();this.CK.f();this.Wu.f();this.cb.f();this.Fw.f()};eC.prototype.nW=function(r){var N=this.kt.k(),F=N.x,h=N.y,m=new gf(v.E.nE,!0);
m.data=z.Q6.w1(F,h,this.Wu.k());this.close();this.L(m)};eC.prototype.w0=function(r,N){this.kt.b(new gS(r.e,r.n),r.EP);
this.kt.mo()};function f3(){hs.call(this,[11,4],"duplinto");this.Bz=null;this.Uc=null;this.Gh=null;var r=W._("div","form");
r.setAttribute("style","max-width:26em");this.body.appendChild(r);this.Nv=new b2([12,43],["abc","def"]);
this.Nv.U(v.E.o,this.g0,this);r.appendChild(this.Nv.m);W.ke(r);this.Bh=new b2([1,16,0],["abc","def"]);
this.Bh.U(v.E.o,this.g0,this);r.appendChild(this.Bh.m);W.ke(r);this.IQ=new g8([12,48],null,14);r.appendChild(this.IQ.m);
this.Fw=W.a1(this,r)}f3.prototype=new hs;f3.prototype.N7=function(){return!0};f3.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();this.Nv.f();this.IQ.f()};f3.prototype.g0=function(r){if(r&&r.target==this.Bh)return;var N=this.Nv.k(),F=this.Uc[N],h=this.Bz,m=F!=null&&F.add.artd!=null;
for(var R=0;R<h.w.length;R++)if(h.g[h.w[R]].add.artb)m=!1;this.IQ.W9(N==this.Uc.length);this.Bh.W9(m);
if(m){var O=F.root.children,e=[],P=this.Gh=[];for(var R=0;R<O.length;R++){var B=O[R].a;if(B.add.artb)e.push(B.getName());
P.push(O[R].index)}this.Bh.eo(e);this.Bh.b(0)}else this.Gh=null};f3.prototype.w0=function(r,N,F){this.Bz=r;
this.Uc=F;this.IQ.b(r.w.length==0?"Layer":r.g[r.w[0]].getName());var h=[];for(var R=0;R<F.length;R++){var m=F[R].name;
h.push(m.length<30?m:m.slice(0,27)+"...")}h.push([11,7]);this.Nv.eo(h);this.Nv.b(F.indexOf(r));this.g0(null)};
f3.prototype.nW=function(r){var N=this.Nv.k();if(N==this.Uc.length){var F=new gp(this.IQ.k()+".psd"),h=this.Bz.e,m=this.Bz.n,O=this.Bz.W2();
if(O!=-1){var e=this.Bz.g[O].CN();h=e.e;m=e.n}F.e=h;F.n=m;F.buffer=w.B(F.e*F.n*4);var P=F.lc();P.a6("Background");
F.S0([P]);var B=new gf(v.E.S,!0);B.pR=!0;B.data={V:v.c.RY,_I:F};this.L(B)}var s=this.Bz.fn(null,this.Bz!=this.Uc[N]),B=new gf(v.E.u,!0);
B.data={V:C.M9,g:s,uW:this.Bz,wa:this.Uc[N]};if(this.Gh)B.data.kk=this.Gh[this.Bh.k()];B.s=z.j7;B.pR=!0;
this.L(B);this.close()};function bn(){hs.call(this,[1,9],"eassets");this.bX=null;this.Ec=null;var r=W._("div","form");
r.setAttribute("style","width:32em");this.body.appendChild(r);this.VP=W._("span");r.appendChild(this.VP);
W.ke(r);this.fu=[new bf("Only layers / folders, whose name starts with \"-e-\""),new bf("Remove parts outside the canvas"),new bf("Trim transparent parts")];
for(var R=0;R<3;R++){var N=this.fu[R];N.b(!0);N.U(v.E.o,this.KU,this);r.appendChild(N.m);W.ke(r)}this.$I=new jX([12,14,0],["1x","2x","3x","4x"]);
this.$I.b([!0,!1,!1,!1]);r.appendChild(this.$I.m);W.oL(r);this.wA=["PNG","JPG","SVG"];this.PE=new b2([12,50],this.wA);
this.PE.U(v.E.o,this.aey,this);r.appendChild(this.PE.m);this.LP=new eT;r.appendChild(this.LP.m);this.Fw=new d_([1,9],!0,null,!0);
this.Fw.U("click",this.nW,this);r.appendChild(this.Fw.m);this.U("closebtn",this.QZ,this)}bn.prototype=new hs;
bn.prototype.aey=function(r){this.LP.aed(this.wA[this.PE.k()],!1,!1,!1,this.Ec.hl()!=null)};bn.prototype.QZ=function(r){this.Ec=null};
bn.prototype.f=function(){hs.prototype.f.call(this);this.PE.f();this.$I.f();this.Fw.f();this.LP.f()};
bn.prototype.w0=function(r,N,F){this.Ec=r;this.KU()};bn.prototype.KU=function(r){var N=this.atg(),F="- - - "+N.length+" exportable layers";
this.VP.textContent=F;this.aey(null)};bn.prototype.atg=function(){var r=this.fu[0].k(),N=[],F=this.Ec;
for(var R=0;R<F.g.length;R++){var h=F.g[R],m=h.getName();if(!r&&!h.zv()&&!h.rect.lX()||m.startsWith("-e"))N.push(R)}return N};
bn.prototype.Qr=function(r,N){this.bX=r};bn.prototype.nW=function(r){var N=this.Ec,F=[this.wA[this.PE.k()]],h=[this.LP.k()],m=this.$I.k(),O={},e={},P=this.atg();
if(P.length==0){alert("No layers to export.");return}var B=[this.fu[1].k(),this.fu[2].k()];for(var R=0;
R<P.length;R++){var s=P[R],Y=N.g[s],D=Y.getName();if(e[D]!=null){e[D]++;D+=" "+e[D]}else e[D]=1;var c=Y.gv();
Y.Hb(!0);for(var o=0;o<m.length;o++){if(!m[o])continue;var H=o+1,x=z.FZ.KJ(N,F,H,this.bX,s,h,B);for(var Q=0;
Q<F.length;Q++){var U=F[Q],I=D.slice(D.startsWith("-e-")?3:0)+(H==1?"":"-"+H+"x")+"."+U.toLowerCase();
if(x[Q])O[I]=new Uint8Array(x[Q])}}Y.Hb(c)}var l=UZIP.encode(O),p=new gf(v.E.S,!0);p.data={V:v.c.y$,data:l,name:"assets.zip"};
this.L(p)};function hZ(){hs.call(this,"Export Color Lookup Tables","exlut");this.bX=null;this.Ec=null;
var r=W._("div","form");r.setAttribute("style","width:20em");this.body.appendChild(r);this.fu=[new g$("Grid Points",1,256),new ch([12,50],[".CUBE"])];
var N=[16,0];for(var R=0;R<this.fu.length;R++){var F=this.fu[R];F.b(N[R]);F.parent=this;F.U(v.E.o,this.KU,this);
r.appendChild(F.m);W.ke(r)}this.Fw=W.a1(this,r);this.U("closebtn",this.QZ,this)}hZ.prototype=new hs;
hZ.prototype.Nz=function(r,N){if(Math.min(r.e,r.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(r.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};hZ.prototype.QZ=function(r){this.Ec=null};hZ.prototype.Qr=function(r,N){this.bX=r};
hZ.prototype.w0=function(r,N,F){this.Ec=r};hZ.prototype.nW=function(){var r=this.Ec,N=this.fu[0].k(),F=[],h=new fE(0,0,r.e,r.n),m=w.B(N*N*4),O=m.slice(0),e=new fE(r.e-N>>>1,r.n-N>>>1,N,N),P=r.g[0],B=P.buffer,s=P.rect;
P.rect=e;P.buffer=m;for(var Y=0;Y<N;Y++){this.a2k(N,Y,m);P.M(e);r.M(e);var D=r.G9();w.L3(D,h,O,e);for(var c=0;
c<N;c++)for(var o=0;o<N;o++){var H=c*N+o<<2;F.push(O[H]/255,O[H+1]/255,O[H+2]/255)}}var x=di.ajf(F,N,r.name);
eu.save(x,r.name.split(".")[0]+".CUBE");P.buffer=B;P.rect=s;P.M();r.M()};hZ.prototype.a2k=function(r,N,F){var h=255/(r-1),m=Math.round(N*h);
for(var O=0;O<r;O++)for(var e=0;e<r;e++){var P=O*r+e<<2;F[P]=Math.round(e*h);F[P+1]=Math.round(O*h);
F[P+2]=m;F[P+3]=255}};hZ.prototype.f=function(){hs.prototype.f.call(this);for(var R=0;R<this.fu.length;
R++)this.fu[R].f();this.Fw.f()};function dI(){hs.call(this,[1,14],"finfo");this.k1=null;this.Fa=null;
this.z_=null;this.iv=W._("div","form scrollable label12");this.iv.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.iv);var r=W._("div","form");this.body.appendChild(r);this.m4=new b2(null,["Hello"]);
r.appendChild(this.m4.m);this.a6W=new d_("Add Parameter",!1,null,!0);r.appendChild(this.a6W.m);this.a6W.U("click",this.dF,this);
this.Ay=new d_("=== S A V E ===",!1,null,!0);r.appendChild(this.Ay.m);this.Ay.U("click",this.Gy,this);
this.ail=""}dI.prototype=new hs;dI.prototype.md=function(r,N){return r<450||N<450?new gS(0,0):new gS(150,100)};
dI.prototype.dF=function(r){if(this.z_.length==0)return;var N=this.z_[this.m4.k()],F=this._s();F[N]=dq.QT[N][0];
this.v2(F);this.Fa[N].m.scrollIntoView();this.Fa[N].mo()};dI.prototype._7=function(r){var N=this._s();
delete N[r.currentTarget.aep];this.v2(N)};dI.prototype.Gy=function(r){var N=this._s(),F=this.k1,h=!0;
for(var m in F)if(JSON.stringify(F[m])!=JSON.stringify(N[m]))h=!1;for(var m in N)if(JSON.stringify(F[m])!=JSON.stringify(N[m]))h=!1;
if(h)return;var O=new gf(v.E.u,!0);O.s=z.j7;O.data={V:C.t0,ei:N};this.L(O);this.k1=N;this.v2(N)};dI.amc=function(r){function N(m){var O=m.toLowerCase();
return m==O}var F=r.split(":").pop();for(var h=1;h<F.length-1;h++){if(F[h]==F[h].toUpperCase()&&(N(F[h+1])||N(F[h-1]))){F=F.slice(0,h)+" "+F.slice(h);
h++}}return F};dI.prototype.w0=function(r,N){this.k1=r.fH;this.v2(r.fH)};dI.prototype.v2=function(r){var N=this.iv,m=0;
W.Tg(N);var F=this.Fa={},h=["tiff","exif","exif:GPS"],O=this.z_=[],e=[];for(var P in dq.QT){var B=dI.amc(P),s=0,Y=15,D=null;
if(r[P]==null){if(dq.QT[P].length!=1||P=="photoshop:Credit"||P=="photoshop:Source"){O.push(P);e.push(B)}continue}for(var R=0;
R<h.length;R++)if(P.startsWith(h[R]))s=R;if(s!=m){W.oL(N);m=s}if(P=="tiff:ImageDescription"||P=="dc:Keywords"){Y=18.5;
D=3}var c=new g8(B,null,Y,D);F[P]=c;var o=r[P];if(o instanceof Array)o=o[1]==0?"---":o[0]+"/"+o[1];var H=new d_("\u2716",null,ab.get([5,4]));
N.appendChild(H.m);H.U("click",this._7,this);H.aep=P;c.b(o);N.appendChild(c.m);W.ke(N);if(P=="exif:GPSLongitude"&&r["exif:GPSLatitude"]){this.ail=dI.ao0(r["exif:GPSLatitude"])+","+dI.ao0(r["exif:GPSLongitude"]);
var x=new d_("Show on map",!1,null,!0);N.appendChild(x.m);W.ke(N);x.U("click",this.arg,this)}}this.m4.eo(e);
this.m4.b(0)};dI.prototype._s=function(){var r=this.Fa,N=dq.QT,F={};for(var h in N){var m=N[h][0],O=typeof m;
if(m==null||r[h]==null)continue;var e=r[h].k(),P="The value of \""+dI.amc(h)+"\" must ";if(O=="number"){e=parseFloat(e);
if(isNaN(e)){alert(P+"be a number.");e=m}}else if(m instanceof Array&&m.length==2){if(e.indexOf("/")==-1){alert(P+"be a fraction.");
e=m.slice(0)}else{e=e.split("/").map(parseFloat);if(isNaN(e[0])||isNaN(e[1])){e=m.slice(0)}}}F[h]=e}return F};
dI.ao0=function(r){var N=r.length,F=r.slice(0,N-1).split(",").map(parseFloat),h=r.slice(N-1),m=F[0]+F[1]/60+F[2]/3600;
if(h!="N"&&h!="E")m=-m;return m};dI.prototype.arg=function(r){window.open("https://maps.google.com?q="+this.ail,"Map")};
function dv(){hs.call(this,[11,5],"gradienteditor");this.p5=null;this.kv=null;this.dy=null;this.ts=null;
this.iB=!1;this.x4=!1;this.oU=null;this.JX=null;this.pO=-1;this.Y_=-1;this.qA=0;this.AU=this.xZ.bind(this);
this.nH=this.tt.bind(this);this.D=W._("canvas");this.Az=this.D.getContext("2d");this.D.setAttribute("style","display:block");
this.cg=null;W.Cb(this.D);W.vN(this.D,this.VB.bind(this));this.dZ=W._("div","form");this.zA=W._("div");
this.Ag=W._("div","form");this.Ar=W._("div");this.cR=new b2([12,44],[[15,10,0],[24,6]]);this.cR.U(v.E.o,this.vR,this);
this.body.appendChild(this.cR.m);W.oL(this.body);var r=this.dZ;this.BP=new g$([19,3,3],0,100,"%");this.BP.U(v.E.o,this.vR,this);
this.BP.parent=this;r.appendChild(this.BP.m);W.ke(r);this.vk=new bB([12,0]);r.appendChild(this.vk.m);
this.kz=W._("div","bordered padded noalign");r.appendChild(this.kz);this.tM=new g$([12,0],0,100,"%");
this.tM.parent=this;this.tM.U(v.E.o,this.vR,this);this.kz.appendChild(this.tM.m);this.Jp=new g$([12,40],0,100,"%");
this.Jp.parent=this;this.Jp.U(v.E.o,this.vR,this);this.kz.appendChild(this.Jp.m);this.C4=new d_([5,4],!1,null,!0);
this.C4.U("click",this.atI,this);this.kz.appendChild(this.C4.m);r.appendChild(this.zA);this.asM=new bB([13,0]);
r.appendChild(this.asM.m);this.LU=W._("div","bordered padded noalign");r.appendChild(this.LU);this.bF=new b2([12,44],[[12,45],[12,46],[12,47]]);
this.bF.U(v.E.o,this.vR,this);this.LU.appendChild(this.bF.m);this.K8=new cw(!0);this.K8.parent=this;
this.K8.U(v.E.o,this.vR,this);this.LU.appendChild(this.K8.m);this.a5=new g$([12,40],0,100,"%");this.a5.parent=this;
this.a5.U(v.E.o,this.vR,this);this.LU.appendChild(this.a5.m);this.xQ=new d_([5,4],!1,null,!0);this.xQ.U("click",this.a7b,this);
this.LU.appendChild(this.xQ.m);var r=this.Ag;this.lh=new g$("Roughness",0,100,"%");this.lh.U(v.E.o,this.vR,this);
this.lh.parent=this;r.appendChild(this.lh.m);r.appendChild(this.Ar);this.u9=new d_([25,1,2],!1,null,!0);
this.u9.U("click",this.vR,this);r.appendChild(this.u9.m);this.Fw=W.a1(this);this.U("closebtn",this.ut,this)}dv.prototype=new hs;
dv.prototype.ut=function(r){if(this.iB)this.ts(this.p5)};dv.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();this.BP.f();this.vk.f();this.asM.f();this.C4.f();this.xQ.f();this.tM.f();this.Jp.f();this.bF.f();
this.a5.f();this.u9.f()};dv.prototype.Qr=function(r,N){this.dy=r};dv.prototype.w0=function(r,N){this.kv=JSON.parse(JSON.stringify(N.X));
this.p5=JSON.parse(JSON.stringify(N.X));this.oU=this.JX=null;this.ts=N.xV;this.iB=!1;this.x4=N.C9;this.xb();
this.Pq()};dv.prototype.nW=function(r){var N=this.kv;this.ts(N);this.close()};dv.prototype.Zk=function(r){return r==bh.Am||r==bh.Lu};
dv.prototype.BD=function(r,N,F,h){if(h.j(bh.Am)||h.j(bh.Lu)){if(this.JX)this.atI();if(this.oU)this.a7b()}};
dv.prototype.atI=function(r){var N=this.kv.Trns.v;if(this.JX==null||N.length==1)return;N.splice(N.indexOf(this.JX),1);
this.JX=null;this.xb();this.Pq()};dv.prototype.a7b=function(r){var N=this.kv.Clrs.v;if(this.oU==null||N.length==1)return;
N.splice(N.indexOf(this.oU),1);this.oU=null;this.xb();this.Pq()};dv.prototype.xb=function(){var r=this.D,N=this.Az,F=W.G();
r.width=Math.floor(410*F);r.height=Math.floor(70*F);W.HR(r,r.width,r.height);r.style.marginTop="8px";
this.cg=new fE(0,0,Math.floor(380*F),Math.floor(32*F));this.cg.x=Math.floor((r.width-this.cg.e)/2);this.cg.y=Math.floor((r.height-this.cg.n)/2);
var h=this.cg,m=h.e,O=h.n,e=h.x,P=h.y,B=new fE(0,0,m,O),s=N.getImageData(0,0,m,O),Y=new Uint8Array(s.data.buffer);
w.aI(Y,m,O,8);var D=w.B(m*O*4);w.X.sD(this.kv,D,B,[1/m,0,0,1/O],m/2,O/2,!1,0,this.dy.Fp,this.dy.lo);
w.i.vw("norm",D,h,Y,h,h,1);N.clearRect(0,0,r.width,r.height);N.putImageData(s,e,P);var c=this.kv;if(c.Clrs){var o=c.Trns.v,H=c.Clrs.v,x=w.X.ro(H,this.dy.Fp,this.dy.lo),Q=Math.round(6*W.G()),U=Math.round(14*W.G()),I=this.JX?this.JX.v:null,l=this.oU?this.oU.v:null;
for(var R=0;R<o.length;R++){var p=o[R].v,j=Math.round(255-255*p.Opct.v.val/100);if((p==I||o[R-1]&&o[R-1].v==I||R==this.Y_)&&R!=0){N.fillStyle="#000000";
N.fillRect(e-3+m*(o[R-1].v.Lctn.v+(p.Lctn.v-o[R-1].v.Lctn.v)*p.Mdpn.v/100)/4096,P-6-2,6,6)}if(p==I){N.fillStyle="#ffffff";
N.fillRect(e-Q+m*(p.Lctn.v/4096)-2,P-2-U-2,2*Q+4,U+4)}N.fillStyle="rgb("+j+","+j+","+j+")";N.fillRect(e-Q+m*(p.Lctn.v/4096),P-2-U,2*Q,U)}for(var R=0;
R<H.length;R++){var T=H[R].v,V=x[R];if((T==l||H[R-1]&&H[R-1].v==l||R==this.pO)&&R!=0){N.fillStyle="#000000";
N.fillRect(e-3+m*(H[R-1].v.Lctn.v+(T.Lctn.v-H[R-1].v.Lctn.v)*T.Mdpn.v/100)/4096,P+O+2,6,6)}if(T==l){N.fillStyle="#ffffff";
N.fillRect(e-Q+m*(T.Lctn.v/4096)-2,P+O+2-2,2*Q+4,U+4)}N.fillStyle="rgb("+Math.round(V.Z)+", "+Math.round(V.z)+","+Math.round(V.J)+")";
N.fillRect(e-Q+m*(T.Lctn.v/4096),P+O+2,2*Q,U)}}if(this.x4){this.ts(this.kv);this.iB=!0}};dv.prototype.Pq=function(){var r=this.kv,N=r.Clrs?0:1;
this.cR.b(N);if(W.Xs(this.dZ))this.body.removeChild(this.dZ);if(W.Xs(this.Ag))this.body.removeChild(this.Ag);
(N==0?this.zA:this.Ar).appendChild(this.D);if(N==0){this.body.appendChild(this.dZ);this.BP.b(Math.round(100*r.Intr.v/4096));
var F=r.Trns.v,h=r.Clrs.v,m=this.JX!=null,O=this.Y_!=-1;this.tM.W9(m);this.Jp.W9(m||O);this.C4.W9(m);
if(m){this.kz.setAttribute("style","");var e=this.JX.v;this.Jp.b(Math.round(100*e.Lctn.v/4096));this.tM.b(e.Opct.v.val)}if(O)this.Jp.b(F[this.Y_].v.Mdpn.v);
var m=this.oU!=null,O=this.pO!=-1;this.bF.W9(m);this.K8.W9(m);this.a5.W9(m||O);this.xQ.W9(m);if(m){this.LU.setAttribute("style","");
var P=this.oU.v;this.a5.b(Math.round(100*P.Lctn.v/4096));var B=P.Type.v.Clry;this.bF.b(["FrgC","BckC","UsrS"].indexOf(B));
if(B=="FrgC")this.K8.X7(this.dy.Fp);if(B=="BckC")this.K8.X7(this.dy.lo);if(B=="UsrS")this.K8.b(P.Clr.v)}if(O)this.a5.b(h[this.pO].v.Mdpn.v)}else{this.body.appendChild(this.Ag);
this.lh.b(Math.round(100*r.Smth.v/4096))}this.body.appendChild(this.Fw.m)};dv.prototype.vR=function(r){var N=this.kv,F=N.Clrs?0:1;
if(r.target==this.cR){var h=F==0?JSON.parse(an.JT.amV).v:df.T$("grdm").Grad.v;this.kv=h;this.Pq();this.xb();
return}if(F==0){N.Intr.v=Math.round(4096*this.BP.k()/100);var m=N.Trns.v,O=N.Clrs.v;if(this.JX!=null){var e=this.JX.v;
e.Lctn.v=Math.round(4096*(this.Jp.k()/100));e.Opct.v.val=this.tM.k()}if(this.oU!=null){var P=this.oU.v;
P.Lctn.v=Math.round(4096*(this.a5.k()/100));if(r.target==this.K8)this.bF.b(2);var B=this.bF.k();P.Type.v.Clry=["FrgC","BckC","UsrS"][B];
if(B==2)P.Clr={t:"Objc",v:this.K8.k()};else if(P.Clr)delete P.Clr}if(this.Y_!=-1)m[this.Y_].v.Mdpn.v=this.Jp.k();
if(this.pO!=-1)O[this.pO].v.Mdpn.v=this.a5.k()}else{N.Smth.v=Math.round(4096*this.lh.k()/100);if(r.target==this.u9)N.RndS.v=Math.floor(Math.random()*4294967295)}this.xb()};
dv.prototype.VB=function(r){var N=W.or(r,this.D),F=this.cg,h=(N.x*W.G()-F.x)/F.e,m=(N.y*W.G()-F.y)/F.n,O=this.kv.Trns.v,e=this.kv.Clrs.v,P=null,B=null,s=-1,Y=-1;
if(m<1)for(var R=0;R<O.length;R++){var D=O[R].v;if(Math.abs(D.Lctn.v/4096-h)<.02)P=O[R];if(R>0)if(Math.abs((O[R-1].v.Lctn.v+(D.Lctn.v-O[R-1].v.Lctn.v)*D.Mdpn.v/100)/4096-h)<.01)s=R}if(m>0)for(var R=0;
R<e.length;R++){var c=e[R].v;if(Math.abs(c.Lctn.v/4096-h)<.02)B=e[R];if(R>0)if(Math.abs((e[R-1].v.Lctn.v+(c.Lctn.v-e[R-1].v.Lctn.v)*c.Mdpn.v/100)/4096-h)<.01)Y=R}if(B==null&&P==null&&s==-1&&Y==-1){if(m<0){var D={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
D.v.Lctn.v=Math.round(h*4096);O.push(D);O.sort(this.Gw);P=D}if(m>1){var e=this.kv.Clrs.v,o=w.X.ro(e,this.dy.Fp,this.dy.lo),H=w.X.cf(this.kv,o,h),c={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:w.X.QA({Z:H&255,z:H>>8&255,J:H>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
c.v.Lctn.v=Math.round(h*4096);e.push(c);e.sort(this.Gw);B=c}}if(B!=null)Y=-1;if(P!=null)s=-1;if(B!=null||P!=null||s>-1||Y>-1){this.JX=P;
this.oU=B;this.Y_=s;this.pO=Y;this.Pq();this.xb();W.B7(window,this.AU);W.ey(window,this.nH)}};dv.prototype.xZ=function(r){var N=W.or(r,this.D),F=this.cg,h=(N.x*W.G()-F.x)/F.e,m=(N.y*W.G()-F.y)/F.n;
h=Math.max(0,Math.min(1,h));var O=this.kv.Trns.v,e=this.kv.Clrs.v;if(this.JX!=null){var P=this.JX.v;
P.Lctn.v=Math.round(4096*h);var B=O.indexOf(this.JX);if(B!=-1&&m<-1&&O.length>1)O.splice(B,1);if(B==-1&&m>-1)O.push(this.JX);
O.sort(this.Gw)}if(this.oU!=null){var s=this.oU.v;s.Lctn.v=Math.round(4096*h);var Y=e.indexOf(this.oU);
if(Y!=-1&&m>2&&e.length>1)e.splice(Y,1);if(Y==-1&&m<2)e.push(this.oU);e.sort(this.Gw)}if(this.Y_>-1){var P=O[this.Y_].v;
P.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(h*4096-O[this.Y_-1].v.Lctn.v)/(P.Lctn.v-O[this.Y_-1].v.Lctn.v))))}if(this.pO>-1){var s=e[this.pO].v;
s.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(h*4096-e[this.pO-1].v.Lctn.v)/(s.Lctn.v-e[this.pO-1].v.Lctn.v))))}if(this.JX!=null||this.oU!=null||this.Y_>-1||this.pO>-1){this.Pq();
this.xb()}};dv.prototype.tt=function(r){W.iX(window,this.AU);W.g$(window,this.nH);if(Date.now()-this.qA<300){if(this.pO!=-1||this.Y_!=-1){var N=(this.pO!=-1?this.kv.Clrs.v[this.pO]:this.kv.Trns.v[this.Y_]).v;
N.Mdpn.v=50;this.Pq();this.xb()}else if(this.oU!=null)this.K8.ZL()}this.qA=Date.now()};dv.prototype.Gw=function(r,N){return r.v.Lctn.v-N.v.Lctn.v};
function hA(){hs.call(this,[11,10],"isize");this.iv=W._("div","form");this.iv.setAttribute("style","width:20em");
this.body.appendChild(this.iv);this.kt=new i8(!0,!0,null,null,!0);this.iv.appendChild(this.kt.m);this.A5=new bf([12,25,3]);
this.A5.b(!0);this.iv.appendChild(this.A5.m);this.A5.U(v.E.o,this.auW,this);this.fA=new b2([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.fA.b(1);this.iv.appendChild(this.fA.m);this.Fw=W.a1(this,this.body)}hA.prototype=new hs;hA.prototype.Nz=function(r,N){return r!=null};
hA.prototype.N7=function(){return!0};hA.prototype.auW=function(r){var N=this.A5.k(),F=this.kt,h=this.fA;
if(N)h.RK();else h.Xo();if(N)F.aem();else F.ana()};hA.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();this.fA.f();this.kt.f()};hA.prototype.nW=function(r){this.close();var N=this.kt.k(),F=N.x,h=N.y,m=this.fA.k();
if(!this.A5.k())m=null;var O=new gf(v.E.nE,!0);O.data=z.Q6.NK(F,h,this.kt.ea(),m);this.L(O)};hA.prototype.w0=function(r,N){this.kt.b(new gS(r.e,r.n),r.EP);
this.kt.mo()};function aw(){hs.call(this,"Import RAW","importraw");var r=W._("div","flexrow"),N=W._("div");
N.setAttribute("style","margin-bottom: 1em");this.body.appendChild(r);this.body.appendChild(N);var F=W._("div","form");
F.setAttribute("style","width:18em");r.appendChild(F);var h=W._("div","form");h.setAttribute("style","width:15em");
r.appendChild(h);this.Ua=null;this.atT=null;this.JH=null;this.BK=null;this.ac0=[];var m=[];for(var R=0;
R<aw.BI.length;R++)m.push(aw.BI[R]+" Bits");var O=this.Iq=[new i8(!0,null,null,!0),new g$([12,72],1,8),new bf("Last one is Transparency"),new ch([12,34],m),new ch("Byte Order",["12-34","34-12"]),new b2("Guesses",[])];
for(var R=0;R<O.length;R++){var e=O[R];e.parent=this;e.U(v.E.o,R==5?this.afy:this.g0,this);var P=R==0?F:R==5?N:h;
P.appendChild(e.m)}this.D=W._("canvas");this.Az=this.D.getContext("2d");this.body.appendChild(this.D);
this.Fw=W.a1(this,this.body)}aw.prototype=new hs;aw.prototype.f=function(){hs.prototype.f.call(this);
var r=this.Iq;this.Fw.f();for(var R=0;R<r.length;R++)r[R].f()};aw.prototype.nW=function(r){this.close();
var N=this.Iq[0].k(),F=bA.B0(this.atT,[{data:this.JH,I0:new fE(0,0,N.x,N.y)}]);if(this.BK)F.O0=this.BK;
var h=new gf(v.E.S,!0);h.data={V:!0?v.c.RY:v.c.aY,_I:F};this.L(h)};aw.BI=[8,16];aw.prototype.w0=function(r,N){this.Ua=new Uint8Array(N.aK);
this.atT=N.bp;var F=this.Ua.length,h=[1,3,4],m=0,O=0,e=1,P=1,B=this.ac0=[];for(var s=0;s<3;s++){for(var Y=0;
Y<2;Y++){var D=aw.BI[Y],c=h[s],o=c*D,H=Math.round(F*8/o);if(H!=F*8/o)continue;for(var x=0;x<=4e3;x++)for(var Q=0;
Q<=4e3;Q++)if(x*Q==H){var U=0;if(x==Q)U+=64;if(Math.round(x/100)==x/100&&Math.round(Q/100)==Q/100)U+=32;
if(Math.round(x/10)==x/10&&Math.round(Q/10)==Q/10)U+=16;if(Math.round(x/2)==x/2&&Math.round(Q/2)==Q/2)U+=8;
B.push([x,Q,c,D,U])}}}var I=function(T,V){if(V[4]!=T[4])return V[4]-T[4];var E=Math.max(T[0],T[1])/Math.min(T[0],T[1]),_=Math.max(V[0],V[1])/Math.min(V[0],V[1]);
if(E!=_)return E-_;return V[0]-T[0]};B.sort(I);var l=this.Iq,p=[];for(var R=0;R<B.length;R++){var j=B[R];
p.push(j[0]+" x "+j[1]+", "+j[2]+"ch, "+j[3]+"-bit")}l[5].eo(p);l[5].b(0);this.afy(null)};aw.prototype.afy=function(r){var N=this.Iq,F=this.ac0[this.Iq[5].k()];
N[0].b(new gS(F[0],F[1]),72);N[1].b(F[2]);N[3].b(aw.BI.indexOf(F[3]));this.g0()};aw.prototype.g0=function(r){var N=this.Iq,F=N[0].k(),h=F.x,m=F.y,O=aw.BI[N[3].k()],e=this.Ua;
if(O==16&&N[4].k()==1){e=e.slice(0);for(var R=0;R<e.length;R+=2){var P=e[R];e[R]=e[R+1];e[R+1]=P}}var B=this.JH=this.V9(e,h,m,N[1].k(),O,N[2].k()),s=this.D,Y=this.Az,D=[B,new fE(0,0,h,m)];
w.A_(D);for(var R=0;R<D.length;R+=2)if(D[R+1].n<300){B=D[R];h=D[R+1].e;m=D[R+1].n;break}s.width=h;s.height=m;
W.HR(s,h,m);var c=new ImageData(new Uint8ClampedArray(B.buffer),h,m);Y.putImageData(c,0,0)};aw.prototype.V9=function(r,N,F,h,m,O){this.BK=null;
var e=[],P=N*F;for(var B=0;B<h;B++){var s=w.B(P);e.push(s);if(m==8)for(var R=0;R<P;R++)s[R]=r[R*h+B];
else if(m==16)for(var R=0;R<P;R++)s[R]=Math.round((r[(R*h+B)*2]<<8|r[(R*h+B)*2+1])*(255/65535))}var Y=w.B(P*4);
new Uint32Array(Y.buffer).fill(4278190080);if(O){w.vr(e.pop(),Y,3);h--}if(h==0){}else if(h==1)w.zG(e[0],Y);
else{w.vr(e[0],Y,0);w.vr(e[1],Y,1);if(h>2){w.vr(e[2],Y,2);if(h>3){this.BK=[];for(var R=3;R<h;R++){var D=new C.Z8;
D.name="Alpha "+(R-2);D.rect=new fE(0,0,N,F);D.channel=e[R];this.BK.push(D)}}}}return Y};function jj(r,N,F){jZ.call(this);
this.m=W._("div","");this.EO=r;this.lg=null;this.VS=N==null?!1:N;this.j0=null;this.Xd=F;this.v5=[];this.sP=[];
this.dc=[];this.cp=[];this.P0=0;this.lg=this.a3D(jj.cp[r]);this.GH();this.M5=null;this.ac_;this.aaH}jj.prototype=new jZ;
jj.prototype.vV=function(r,N,F,h,m){this.M5=m;this.ac_=JSON.parse(JSON.stringify(this.j0));if(this.lg.lagl)this.aaH=this.lg.lagl.k()[0]};
jj.prototype.Ui=function(r,N,F,h,m){var O=this.M5,e=this.EO,P=this.ac_;if(O==null)return;var B=(m.x-O.x)/r.q.O,s=(m.y-O.y)/r.q.O;
if(e=="GrFl"){var Y=JSON.parse(JSON.stringify(P.Ofst.v));Y.Hrzn.v.val+=B*.5;Y.Vrtc.v.val+=s*.5;this.lg.Ofst.b(Y,!0)}if(e=="patternFill"){var Y=JSON.parse(JSON.stringify(P.phase.v));
Y.Hrzn.v+=B;Y.Vrtc.v+=s;this.lg.phase.b(Y,!0)}if(e=="DrSh"||e=="IrSh"||e=="ChFX"){var D=P.Dstn.v.val,c=this.aaH*Math.PI/180,o=-Math.cos(c)*D+B,H=Math.sin(c)*D+s;
this.lg.Dstn.b(Math.sqrt(o*o+H*H),!0);this.lg.lagl.b([Math.atan2(H,-o)*180/Math.PI],!0)}};jj.prototype.wJ=function(r,N,F,h,m){this.M5=null};
jj.prototype.asb=function(){for(var R=0;R<this.cp.length;R++){W.PV(this.cp[R],"selected");if(this.dc[R]instanceof bf)this.dc[R].b(!1)}};
jj.prototype.auJ=function(r){var N=this.agu.bind(this);for(var R=0;R<this.dc.length;R++){var F=W._("div","listitem");
this.cp.push(F);if(R>0)F.textContent="\u2003";F.appendChild(this.dc[R].m);if(an.a3P.indexOf(this.EO)!=-1){var h=new d_("+");
h.D2();h.m.style.float="right";F.appendChild(h.m);var m=new d_("\u2B0D");m.D2();m.m.style.float="right";
m.m.style["margin-right"]="2px";F.appendChild(m.m)}F.addEventListener("click",N,!1);r.appendChild(F)}};
jj.hR=function(r,N){var F=N.getBoundingClientRect();return(r.clientY-F.top)/F.height};jj.prototype.agu=function(r){var N=r.target.tagName.toLowerCase();
if(N=="input"){return}if(N=="button"){var F=new gf(v.E.u,!0),h=r.target.textContent=="+",m=h?0:jj.hR(r,r.target)<.5?-1:1;
if(h)F.data={V:"st_dupsingle",a:this.parent.data.a,Xx:this.Xd};else F.data={V:"st_movsingle",a:this.parent.data.a,Xx:this.Xd,anu:m};
F.s=z.Nq;F.pR=!0;this.L(F);F=new gf("redrawall",!0);F.data={anu:m};this.L(F);return}W.o8(r);this.$H();
this.P0=this.cp.indexOf(r.currentTarget);this.L(new gf("showme"))};jj.prototype.$H=function(){if(this.lg.enab&&this.lg.enab.k()==!1)this.Ri({tl:"enab",h:!0})};
jj.prototype.avA=function(){var r=this.cp[this.P0];if(r)W.Ou(r,"selected");return this.sP[this.P0]};
jj.prototype.a3D=function(r){var N={};for(var R=0;R<r.length;R++){var F=r[R],h=null;if(F=="----")h={m:W._("hr")};
if(F=="\n")h={m:W._("br")};if(F=="blOptions")h=new bB([14,10]);if(F=="brst")h=new jX([12,72],["R","G","B"]);
if(F=="knko")h=new b2("Knockout",[[13,1,0],"Shallow","Deep"]);if(F=="enab")h=new bf(an.names[an.order.indexOf(this.EO)]);
if(F=="lrMd"||F=="Md")h=new b2([12,19,0],g6.zd,!1,g6.yj);if(F=="Opct")h=new em([12,0],0,100,"%");if(F=="iOpa")h=new em([12,26],0,100,"%");
if(F=="blIf")h=new fc;if(F=="ShdN")h=new em([12,68],0,100,"%");if(F=="lagl"||F=="Angl")h=new eN([12,15],this.EO=="ebbl");
if(F=="uglg")h=new bf([12,27]);if(F=="Dstn")h=new em([12,28],0,200,"px");if(F=="Ckmt")h=new em([12,29],0,100,"%");
if(F=="blur")h=new em([12,14,0],0,200,"px");if(F=="TrnS"||F=="MpgS")h=new iM([12,21]);if(F=="Nose")h=new em([12,30],0,100,"%");
if(F=="layerConceals")h=new bf([12,31]);if(F=="AntA"||F=="antialiasGloss")h=new bf([12,25,1]);if(F=="GlwT")h=new b2([12,32],an.VU.names);
if(F=="glwS")h=new b2([12,70],an.VU.aqi);if(F=="Inpr")h=new em([12,12],1,100,"%");if(F=="bvlS")h=new b2([12,22],an.N5.style);
if(F=="bvlT")h=new b2([12,32],an.N5.al0);if(F=="bvlD")h=new b2(null,an.N5.dir);if(F=="srgR")h=new em([12,34],0,1e3,"%");
if(F=="Sftn")h=new em([12,35],0,20,"px");if(F=="Lald")h=N.lagl;if(F=="hglM"||F=="sdwM")h=new b2([12,36],g6.zd,!1,g6.yj);
if(F=="hglC"||F=="sdwC")h=new cw;if(F=="hglO"||F=="sdwO")h=new em([12,0],0,100,"%");if(F=="Invr"||F=="InvT")h=new bf([4,11]);
if(F=="Sz")h=new em([12,14,0],1,200,"px");if(F=="Styl")h=new b2([12,40],an.stroke.names);if(F=="PntT")h=new b2([12,66],an.stroke.amd);
if(F=="Clr")h=new cw(!0);if(F=="Grad"){h=new c$(!0,[12,37],!0);h.b(JSON.parse(an.JT.a1D).v)}if(F=="Rvrs")h=new bf([12,23,0]);
if(F=="Dthr")h=new bf([12,23,3]);if(F=="Type")h=new b2([12,22],an.X.names.slice(0,this.EO=="FrFX"?6:5));
if(F=="Ptrn")h=new j7([12,62]);if(F=="Scl")h=new em([12,38],10,500,"%",0,!0);if(F=="Algn")h=new bf([12,39]);
if(F=="Ofst")h=new cO(!0);if(F=="phase")h=new cO(!1);if(F=="useShape")h=new bf([12,21]);if(F=="useTexture")h=new bf([12,67]);
if(F=="textureDepth")h=new em([12,34],-300,300,"%");var m=F=="----"||F=="\n"?F+R:F;if(h!=null)N[m]=h}return N};
jj.prototype.asu=function(r){var N=this.sP[this.P0];for(var R=0;R<r.length;R++){var F=this.lg[r[R]];
if(F&&N.contains(F.m))N.removeChild(F.m)}};jj.prototype.acB=function(r){var N=this.sP[this.P0];for(var R=0;
R<r.length;R++){var F=this.lg[r[R]];if(F&&!N.contains(F.m))N.appendChild(F.m)}};jj.prototype.Qr=function(r,N){if(this.lg==null)return;
var F=N==bC.ge;if(this.lg.Grad){this.lg.Grad.KV(r.Fp,r.lo);if(F||N==bC.gU||N==bC.Hp)this.lg.Grad.Wl(r.pB)}if(this.lg.Ptrn){if(F||N==bC.nA)this.lg.Ptrn.Wl(r.X5)}if(this.lg.TrnS){if(F||N==bC.Rt)this.lg.TrnS.Wl(r.Ge)}if(this.lg.MpgS){if(F||N==bC.Rt)this.lg.MpgS.Wl(r.Ge)}};
jj.prototype.f=function(){for(var R=0;R<this.v5.length;R++)this.v5[R].f();for(var r in this.lg)if(this.lg[r]instanceof jZ)this.lg[r].f()};
jj.prototype.GH=function(){for(var r in this.lg){var N=this.lg[r];N.parent=this;if(N instanceof jZ)N.U(v.E.o,this.aaJ,this);
if(this.sP.length==0||r=="useShape"||r=="useTexture"){var F=new bB(N.ajE()),h=W._("div","bordered padded");
if(this.VS==!1){h.appendChild(F.m);h.appendChild(W._("hr",""))}this.v5.push(F);this.sP.push(h);this.dc.push(N)}else this.sP[this.sP.length-1].appendChild(N.m)}};
jj.prototype.update=function(r,N){if(this.lg==null)return;this.j0=JSON.parse(JSON.stringify(N));for(var F in N){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(F)!=-1)this.lg[F].b(N[F].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(F)!=-1){this.lg[F].b(N[F].v,r)}if(["Md","hglM","sdwM"].indexOf(F)!=-1)this.lg[F].b(g6.EO.indexOf(N[F].v.BlnM));
if(F=="lrMd"){var h=(N.zv?[[15,10,27]]:[]).concat(g6.zd),m=(N.zv?[1]:[]).concat(g6.yj);this.lg[F].eo(h,m);
this.lg[F].b(N[F].v)}if(F=="Angl")this.lg[F].b([N[F].v.val]);if(F=="lagl"){var O=N.uglg&&N.uglg.v?r.kh():N.lagl.v.val;
this.lg[F].b([O])}if(F=="Lald"){var O=N.uglg&&N.uglg.v?r.AN():N.Lald.v.val;this.lg[F].b([null,O])}if(F=="Type")this.lg[F].b(an.X.types.indexOf(N.Type.v.GrdT));
if(F=="Styl")this.lg[F].b(an.stroke.types.indexOf(N.Styl.v.FStl));if(F=="PntT"){var e=an.stroke.RQ.indexOf(N.PntT.v.FrFl);
this.lg[F].b(e);if(!this.VS){this.asu(an.eA.concat(an.ZE.concat(an.bf)));this.acB([an.eA,an.ZE,an.bf][e])}}if(F=="GlwT")this.lg[F].b(an.VU.types.indexOf(N.GlwT.v.BETE));
if(F=="glwS")this.lg[F].b(an.VU.a30.indexOf(N.glwS.v.IGSr));if(F=="bvlS")this.lg[F].b(an.N5.types.indexOf(N.bvlS.v.BESl));
if(F=="bvlT")this.lg[F].b(an.N5.akP.indexOf(N.bvlT.v.bvlT));if(F=="bvlD")this.lg[F].b(["In","Out"].indexOf(N.bvlD.v.BESs))}};
jj.prototype.aaJ=function(r){for(var N in this.lg){if(this.lg[N]!=r.target)continue;var F=null,h=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(N)!=-1)F={type:"#Prc",val:r.target.k()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(N)!=-1)F={type:"#Pxl",val:r.target.k()};if(["Angl","lagl"].indexOf(N)!=-1)F={type:"#Ang",val:r.target.k()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(N)!=-1)F=r.target.k();
if(["Md","hglM","sdwM"].indexOf(N)!=-1)F={BlnM:g6.EO[r.target.k()]};if(N=="uglg"){F=r.target.k();h=!0}if(N=="PntT"){F={FrFl:an.stroke.RQ[r.target.k()]};
h=!0}if(N=="Lald")F={type:"#Ang",val:r.target.k()[1]};if(N=="Type")F={GrdT:an.X.types[r.target.k()]};
if(N=="Styl")F={FStl:an.stroke.types[r.target.k()]};if(N=="GlwT")F={BETE:an.VU.types[r.target.k()]};
if(N=="glwS")F={IGSr:an.VU.a30[r.target.k()]};if(N=="bvlS")F={BESl:an.N5.types[r.target.k()]};if(N=="bvlT")F={bvlT:an.N5.akP[r.target.k()]};
if(N=="bvlD")F={BESs:["In","Out"][r.target.k()]};this.Ri({tl:N,h:F});if(h){if(this.VS)this.update(null,this.j0);
else{var m=this.parent,O=m._I,e=this.Xd,P=O.g[m.data.a].add.lmfx[an.NR[e[0]]].v[e[1]].v;this.update(O,P)}}}};
jj.prototype.Ri=function(r){if(this.j0&&this.j0[r.tl])this.j0[r.tl].v=r.h;if(this.VS){this.L(new gf(v.E.o))}else{r.V="changeprop";
r.a=this.parent.data.a;r.Jz=this.Xd;var N=new gf(v.E.u,!0);N.data=r;N.s=z.Nq;N.pR=!0;this.L(N);this.L(new gf("afterchange",!0))}};
jj.prototype.k=function(){return JSON.parse(JSON.stringify(this.j0))};jj.cp={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(an.eA),GrFl:["enab","Md","Opct"].concat(an.ZE),patternFill:["enab","Md","Opct"].concat(an.bf),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(an.eA.concat(an.ZE.concat(an.bf)))};
function eY(){hs.call(this,[11,6],"layerstyle");this.a1T=-1;this.data={};this._I=null;this.bX=null;this.Fd=[];
this.Dc=[];W.Ou(this.body,"flexrow");this.k$=W._("div","bordered");this.k$.setAttribute("style","min-width:13em;");
this.body.appendChild(this.k$);this.nX=W._("div","");this.nX.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.nX);this.KI=W._("div","form");this.KI.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.KI);this.Fw=W.a1(this,this.KI);this.Ht=new d_([12,87],!0,null,!0);this.Ht.U("click",this.aqd,this);
this.KI.appendChild(this.Ht.m);this.Ap=new j3;this.Ap.parent=this;this.Ap.U(v.E.o,this.agg,this);this.KI.appendChild(this.Ap.m);
this.U("closebtn",this.ut,this);this.U("redrawall",this.a1I,this)}eY.prototype=new hs;eY.prototype.N7=function(){return!0};
eY.prototype.gz=function(){return!0};eY.prototype.vV=function(r,N,F,h,m){var O=this.vY();if(O)O.vV(r,N,F,h,m)};
eY.prototype.Ui=function(r,N,F,h,m){var O=this.vY();if(O)O.Ui(r,N,F,h,m)};eY.prototype.wJ=function(r,N,F,h,m){var O=this.vY();
if(O)O.wJ(r,N,F,h,m)};eY.prototype.vY=function(r){if(r==null)r=this.data.index;return r==null?null:r==0?this.Fd[0]:this.Dc[r[0]][r[1]]};
eY.prototype.agg=function(r){var N=this.Ap.k();this.Ri({V:"setstl",h:N.ks});this.a1I(null)};eY.prototype.aqd=function(r){var N=this._I,F=this.data.a;
if(F==null)F=N.w[0];var h=this._I.g[F],m=iL.am2(h),O=new gf(v.E.S,!0);O.data={V:v.c.nM,oJ:"add",Xa:bC.zU,Zn:[JSON.parse(JSON.stringify(m))]};
this.L(O)};eY.prototype.ap8=function(r){this.data.index=r.currentTarget.Xd;this.P3(r.currentTarget.Xd)};
eY.prototype.a1I=function(r){this.w0(this._I,this.data)};eY.prototype.P3=function(r,N){W.Tg(this.nX);
for(var R=0;R<this.Fd.length;R++)this.Fd[R].asb();var F=this.vY(r);this.nX.appendChild(F.avA());if(N)F.$H();
var h=this._I;if(h){var m=h.g[this.data.a];this.Fd[0].update(h,z.DR.Me(h,m));var O=m.add.lmfx;if(O==null)return;
for(var R=0;R<an.order.length;R++){var e=O[an.NR[R]].v;for(var P=0;P<e.length;P++)this.Dc[R][P].update(h,e[P].v)}}if(N)F.$H()};
eY.prototype.f=function(){hs.prototype.f.call(this);this.Ht.f();this.Ap.f();this.Fw.f();for(var R=0;
R<this.Fd.length;R++)this.Fd[R].f()};eY.prototype.w0=function(r,N){var F=N.a==null;this.data.a=N.a;this.data.index=N.index;
N=this.data;this._I=r;if(F)N.a=r.w.length==0?r.g.length-1:r.w[0];W.Tg(this.k$);var h=r.g[N.a].add.lmfx;
this.KA();this.Fd=[new jj("bops",!1,0)];this.Dc=[];for(var R=0;R<an.order.length;R++){this.Dc.push([]);
var m=h==null?[]:h[an.NR[R]].v;for(var O=0;O<m.length;O++){var e=new jj(an.order[R],!1,[R,O]);this.Fd.push(e);
this.Dc[R].push(e)}if(m.length==0){var e=new jj(an.order[R],!1,[R,0]);this.Fd.push(e);this.Dc[R].push(e)}}this.f();
this.a8q(this.bX,bC.ge);for(var R=0;R<this.Fd.length;R++){this.Fd[R].parent=this;this.Fd[R].auJ(this.k$);
this.Fd[R].U("showme",this.ap8,this)}if(N.index==null||N.index==0||!F&&h[an.NR[N.index[0]]].v.length==0){this.P3(0)}else this.P3(N.index,F);
this.U("afterchange",this.KA,this)};eY.prototype.KA=function(r){var N=this._I,F=this.data.a;if(F==null)F=N.w[0];
var h=this._I.g[F],m=iL.am2(h);this.Ap.b(m,N.add.Patt?N.add.Patt:[],N.kh(),N.AN())};eY.prototype.Qr=function(r,N){this.bX=r;
this.a8q(r,N);if(N==bC.zU||N==bC.ge){this.Ap.Wl([r.oB,r.X5])}if(N==bC.Td){}};eY.prototype.a8q=function(r,N){for(var R=0;
R<this.Fd.length;R++)this.Fd[R].Qr(r,N)};eY.prototype.ut=function(r){this.Ri({V:"cancel"})};eY.prototype.nW=function(r){this.Ri({V:"confirm"});
this.close()};eY.prototype.Ri=function(r){r.a=this.data.a;var N=new gf(v.E.u,!0);N.data=r;N.s=z.Nq;N.pR=!0;
this.L(N);this.KA()};eY.Ud=function(r){var N=[{name:[14,10],At:!0}];for(var R=0;R<an.names.length;R++)N.push({name:an.names[R]});
if(r){N[N.length-1].At=!0;N.push({name:"Scale Effects",I:function(F){return{I:F!=null&&F.w.length!=0&&F.g[F.w[0]].hO()}}});
N.push({name:["VAR0 VAR1",[12,49],[9,1]],I:function(F){return{I:F!=null&&F.w.length!=0&&F.g[F.w[0]].add.lmfx!=null}}})}return N};
eY.H8=function(r){var N=[{T:v.E.S,R:{V:v.c.pr,i7:"layerstyle"}}];for(var R=0;R<an.names.length;R++)N.push({T:v.E.S,R:{V:v.c.pr,i7:"layerstyle",index:[R,0]}});
if(r){N.push({T:v.E.S,R:{V:v.c.pr,i7:"scaleeffects",Q5:100,vj:{T:v.E.u,s:z.Nq,R:{V:"scaleeffects"}}}});
var F={classID:"Mk",null:fq.IT("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
N.push({T:v.E.nE,R:{Ja:"make",Tf:F}})}return N};eY.ap0=function(r){var N=[];if(r)N.push({name:[6,48,0,0],kV:!0},{name:[6,48,0,1],kV:!0},{name:[6,48,0,2],kV:!0,At:!0});
for(var F in gn.names)N.push({name:gn.names[F],At:gn.iT.indexOf(F)!=-1,kV:q[F]!=null});return N};eY.vC=function(r){var N=[];
if(r){N.push({T:v.E.u,s:z.Dr,R:{V:"newfill",dn:0}});for(var R=1;R<3;R++)N.push({T:v.E.nE,R:z.XE.eq(R)})}for(var F in gn.names){var h=df.T$(F);
if(h==null)h={};for(var m in gn.Bo)if(gn.Bo[m]==F)h.classID=m;var O={Ja:"make",Tf:{classID:"Mk",null:fq.IT("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:h}}}}};
N.push({T:v.E.nE,R:O})}return N};function jH(){hs.call(this,"Merge Channels","mergechannels");this.Gg=null;
var r=W._("div","form");this.body.appendChild(r);this.Iq=[];for(var R=0;R<3;R++){var N=new b2(gn.CD[R],[]);
this.Iq.push(N);r.appendChild(N.m);W.ke(r)}this.Fw=W.a1(this,r)}jH.prototype=new hs;jH.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();for(var R=0;R<3;R++)this.Iq[R].f()};jH.prototype.w0=function(r,N,F,h){this.Gg=F;var m=[];
for(var R=0;R<F.length;R++)m.push(F[R].name);for(var R=0;R<3;R++){var O=this.Iq[R];O.eo(m);O.b(Math.min(R,F.length-1))}};
jH.prototype.nW=function(r){var N=this.Gg,F=N[0],h=new gf(v.E.nE,!0);h.data=gp.st(F.e,F.n,F.EP,"Merged Document","Wht",!1);
this.L(h);var m=[];for(var R=0;R<3;R++)m.push(N[this.Iq[R].k()].G9());var F=N[N.length-1],O=F.g[0],e=O.buffer;
for(var R=0;R<e.length;R+=4){e[R]=m[0][R];e[R+1]=m[1][R];e[R+2]=m[2][R]}O.M();F.M();this.close()};function e5(){hs.call(this,[1,10],"script");
var r=W._("div","form");r.setAttribute("style","width:44em");this.body.appendChild(r);this.bX=null;this.JU=[];
this.Es=[];this.asS;var N=this.Ay=new d_([1,2],!1,null,!0);N.U("click",this.Gy,this);r.appendChild(N.m);
var F=new d_("JS Reference",!1,null,!0);F.U("click",this.ap1,this);r.appendChild(F.m);r.appendChild(new bB("Demos:").m);
this.aat=[];var h=e5.XX;for(var R=0;R<h.length;R++){var m=new d_(h[R].UQ,!1,null,!0);this.aat.push(m);
r.appendChild(m.m);m.U("click",this.auC,this)}this.M8=W._("textarea");W.uJ(this.M8);this.M8.setAttribute("rows",16);
this.M8.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");r.appendChild(this.M8);
var O=new d_("Run",!0,null,!0);O.U("click",this.nW,this);r.appendChild(O.m);this.ajH=W._("div");r.appendChild(this.ajH)}e5.prototype=new hs;
e5.prototype.f=function(){this.Ay.f()};e5.prototype.Gy=function(){var r=this.asS;if(r==null)r="script.jsx";
var N=new gf(v.E.S,!0);N.data={V:v.c.pr,i7:"namewindow",Q5:r.slice(0,r.length-4),q3:this.ahs.bind(this)};
this.L(N)};e5.prototype.ahs=function(r){var N=this.M8.value,F=J.kX(N),h=new gf(v.E.S,!0);h.data={V:v.c.qu,aK:F.buffer,x3:r+".jsx",a29:!0};
this.L(h)};e5.prototype.ab$=function(r){var R=this.JU.indexOf(r.target),N=this.asS=this.Es[R],F=this.bX.Hw.Ik[N],h=new Uint8Array(F),m=J.H3(h,0,h.length);
this.M8.value=m};e5.prototype.w0=function(r,N,F){this.M8.value=e5.XX[0].N2;this.a66()};e5.prototype.a66=function(){var r=this.bX.Hw,N=this.ajH;
W.Tg(N);this.JU=[];this.Es=[];N.textContent="Saved scripts: ";for(var F in r.Ik){if(F.endsWith(".jsx")){var h=new d_(F,!1,null,!0);
this.JU.push(h);this.Es.push(F);h.U("click",this.ab$,this);N.appendChild(h.m)}}};e5.prototype.Qr=function(r,N){this.bX=r;
if(N==bC.pN)this.a66()};e5.prototype.ap1=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.lz,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.L(N)};e5.prototype.nW=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.h4,P_:this.M8.value};this.L(N)};
e5.prototype.auC=function(r){var N=this.aat.indexOf(r.currentTarget);this.M8.value=e5.XX[N].N2};e5.XX=[{UQ:"Hello",N2:"\nalert(\"Hello Photopea!\");\n"},{UQ:"Process Layers",N2:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{UQ:"Clone Layers",N2:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function f$(){hs.call(this,[11,7],"newproject");this.data=null;this.Gg=null;var r=W._("div","flexrow");
this.Gk=r;this.body.appendChild(r);var N=W._("div","form");this.iv=N;r.appendChild(N);this.IQ=new g8([12,48],null,10);
N.appendChild(this.IQ.m);W.ke(N);this.kt=new i8(!0,null,null,null,!0);this.kt.b(new gS(1280,720),72);
this.kt.U(v.E.o,this.Yt,this);N.appendChild(this.kt.m);this.vu=new dj;this.vu.parent=this;N.appendChild(this.vu.m);
this.XB=new d_("\u02C5",null,[0,14],!0);this.XB.U("click",this.ur,this);N.appendChild(this.XB.m);var F=this.avW=W._("span");
N.appendChild(F);F.style.display="none";this.acE=new b2([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
F.appendChild(this.acE.m);this.WA=new bf([1,16,1]);F.appendChild(this.WA.m);this.Fw=new d_([12,49],!0,null,!0);
this.Fw.U("click",this.nW,this);N.appendChild(this.Fw.m);var h=f$.Ua,m=[];for(var R=0;R<h.length;R++)m.push(h[R].name);
this.Gt=new ch(null,m);this.Gt.U(v.E.o,this.a9o,this);N.appendChild(this.Gt.m);this.Gt.m.style["margin-top"]="1em";
this.q6=new hg(!0);this.q6.U(v.E.o,this.anY,this);N.appendChild(this.q6.m);this.a9o();this.zp=new dr;
this.zp.parent=this;this.zp.m.setAttribute("style","margin-left:1em");this.zp.U("tempready",this.a0p,this)}f$.prototype=new hs;
f$.prototype.ur=function(r){var N=this.avW,F=N.style.display!="none";N.style.display=F?"none":"";this.XB.o6(F?"\u02C5":"\u02C4");
this.bh(this.YW,this.Nf)};f$.prototype.Qr=function(r,N){this.zp.Qr(r)};f$.prototype.md=function(r,N){return new gS(Math.max(0,Math.min(70,(r-690)/2)),r>N?Math.max(0,Math.min(50,(N-400)/2)):0)};
f$.prototype.bh=function(r,N){this.YW=r;this.Nf=N;this.iv.setAttribute("style","width:"+Math.min(r-24,338)+"px");
this.q6.m.style.height=N-248-(this.avW.style.display=="none"?0:28)+"px";var F=this.zp.m,h=F.parentNode;
if(r<500){if(h!=null)this.Gk.removeChild(F)}else{if(h==null)this.Gk.appendChild(F);this.zp.bh(r-378,N-28)}};
f$.prototype.Yt=function(){this.zp.b(this.kt.k())};f$.prototype.anY=function(r){var N=this.q6.k()[0],F=f$.Ua[this.Gt.k()].OE[N],h=F[4];
if(h==0)h=72;var m=F[1],O=F[2],e=["px","%","mm","in"].indexOf(F[3]),P=[1,1,25.4/h,1/h][e];m/=P;O/=P;
this.kt.b(new gS(Math.round(m),Math.round(O)),h);this.kt.av0(e);this.Yt()};f$.prototype.a9o=function(r){var N=f$.Ua[this.Gt.k()].OE,F=[],h=[],m=Math.round(106*W.G()),O=Math.round(106*W.G()),e=0;
for(var R=0;R<N.length;R++)e=Math.max(e,N[R][1],N[R][2]);for(var R=0;R<N.length;R++){var P=N[R],B=P[1]+" x "+P[2]+" "+P[3];
if(P[3]=="in")B=(P[1]*25.4).toFixed(0)+" x "+(P[2]*25.4).toFixed(0)+" mm";if(P[3]=="mm")B=(P[1]/25.4).toFixed(1)+" x "+(P[2]/25.4).toFixed(1)+" in";
if(P[4])B=B+" @ "+P[4]+" ppi";h.push(B);F.push(f$.e9(P,m,O,e))}this.q6.IS(F,h,m,O)};f$.e9=function(r,N,F,h){var m=W._("canvas",""),O=m.getContext("2d");
m.width=N;m.height=F;var e=Math.round(N/8),P=Math.floor(11*W.G()),B=r[1],s=r[2];O.fillStyle="#000000";
O.font=Math.round(P*.9)+"px \"Open Sans\", Sans-Serif";var Y=B+" x "+s+" "+r[3],D=O.measureText(Y);O.fillText(Y,Math.round((N-D.width)/2),F-Math.round(e/2));
if(r[0]!=null){O.font="bold "+P+"px \"Open Sans\", Sans-Serif";var Y=r[0],D=O.measureText(Y);O.fillText(Y,Math.round((N-D.width)/2),F-Math.round(e/2)-Math.round(P*1.3))}F-=Math.round(2.5*P);
var c=Math.min((N-e)/B,(F-e)/s);c*=.5+.5*(Math.max(B,s)/h);var o=(N-B*c)/2,H=(F-s*c)/2;O.strokeRect(Math.round(o)+.5,Math.round(H)+.5,Math.round(B*c),Math.round(s*c));
return m.toDataURL()};f$.prototype.f=function(){hs.prototype.f.call(this);this.kt.f();this.IQ.f();this.vu.f();
this.Fw.f();this.IQ.b(ab.get([11,7]));this.Gt.f();this.WA.f();this.XB.f();this.zp.f()};f$.prototype.nW=function(r){var N=this.kt.k(),F=N.x,h=N.y;
this.close();var m=this.vu.k(),O=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.acE.k()],e=new gf(v.E.nE,!0);
e.data=gp.st(F,h,this.kt.ea(),this.IQ.k(),["Wht","Blck","Trns","Clr"][m[0]],this.WA.k(),m[1],O);this.L(e);
this.adC()};f$.prototype.a0p=function(r){var N=r.data._I;N.EP=this.kt.ea();var F=new gf(v.E.S,!0);F.data={V:v.c.RY,_I:N};
this.L(F);this.close();this.adC()};f$.prototype.adC=function(){var r=this.Gg[this.Gg.length-1],N=this.data.a7o;
if(N)dY.dl(function(){var F=new XMLHttpRequest,h="https://www.googleapis.com/drive/v3/files?"+dY.Jv();
F.open("POST",h,!0);F.setRequestHeader("Content-Type","application/json");F.addEventListener("load",function(m){var O=JSON.parse(m.target.response);
r.SR={file:O,uE:"psd"};alert(r.name+" created in Google Drive")});F.send(JSON.stringify({name:r.name,aix:[N]}))})};
f$.prototype.w0=function(r,N,F,h){this.Gg=F;if(r!=null&&r.$!=null){var m=new fE(0,0,r.e,r.n).c_(r.$.rect);
this.kt.b(new gS(m.e,m.n))}this.data=N;this.Yt();if(W.fg())eu.arX(this.aiL.bind(this))};f$.prototype.aiL=function(r){if(r=="granted")eu.nq(this,this.agy.bind(this))};
f$.prototype.agy=function(r,N){this.kt.b(new gS(N.e,N.n))};f$.Ua=[{name:"Social",OE:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],OE:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],OE:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],OE:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],OE:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],OE:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",OE:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function ev(r,N,F){hs.call(this,N,"sel_"+r);this.V=r;var h=W._("div","form");this.body.appendChild(h);
this.IQ=new g$(N,0,255,null,0,!1,!0);h.appendChild(this.IQ.m);this.IQ.b(1);var m=W._("span");m.textContent=F;
h.appendChild(m);W.ke(h);this.a6A=new bf("Apply at canvas bounds");if(r!="border")h.appendChild(this.a6A.m);
this.Fw=W.a1(this,h)}ev.prototype=new hs;ev.prototype.Nz=function(r,N){if(r==null)return;if(r.$==null)alert("No selection!");
return r.$!=null};ev.prototype.nW=function(r){var N=new gf(v.E.nE,!0);N.data=z.Yi.ajF(this.V,this.IQ.k(),this.a6A.k());
N.pR=!0;this.L(N);this.close()};ev.prototype.f=function(){hs.prototype.f.call(this);this.Fw.f();if(this.IQ)this.IQ.f()};
ev.prototype.w0=function(r,N){};function c5(r,N,F,h,m,O){hs.call(this,F,N);this.a4C=O;this.x4=m;this.Ua=null;
this.iv=W._("div","form");this.body.appendChild(this.iv);this.IQ=r==0?new g8(F,null,10):r==1?new em(F,0,500,h,1):new g8(F,null,24,5);
this.IQ.U(v.E.o,this.Ey,this);this.iv.appendChild(this.IQ.m);this.Fw=W.a1(this,this.iv);this.U("closebtn",this.ut,this)}c5.prototype=new hs;
c5.prototype.md=function(r,N){return new gS(Math.max(0,Math.min(150,(r-250)/2)),Math.max(0,Math.min(150,(N-120)/2)))};
c5.prototype.N7=function(){return this.a4C};c5.prototype.Ey=function(r){var N=this.IQ.k();if(this.x4)this.yp(N)};
c5.prototype.ut=function(r){if(this.x4)this.yp("cancel")};c5.prototype.nW=function(r){if(this.x4)this.yp("confirm");
else this.yp(this.IQ.k());this.close()};c5.prototype.yp=function(r){if(this.Ua.q3)this.Ua.q3(r);else if(this.Ua.vj){var N=this.Ua.vj,F=new gf(N.T,!0);
F.s=N.s;F.data=N.R;F.data.h=r;F.pR=!0;this.L(F)}};c5.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();if(this.IQ)this.IQ.f()};c5.prototype.w0=function(r,N){this.Ua=N;this.IQ.b(N.Q5);this.IQ.mo();
this.Ey(null)};function eU(){hs.call(this,[1,5],"open_from_url");this.k_=null;var r=W._("div","form");
this.body.appendChild(r);this.ZG=new g8("URL",null,22);r.appendChild(this.ZG.m);W.ke(r);this.cD=new ch([21,0],[[21,2],[21,1]]);
r.appendChild(this.cD.m);this.Fw=W.a1(this,r)}eU.prototype=new hs;eU.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();this.cD.f()};eU.prototype.w0=function(r,N,F){this.ZG.mo();this.k_=null;if(r&&F.indexOf(r)!=-1)this.k_=F.indexOf(r)};
eU.prototype.nW=function(r){var N=new gf(v.E.S,!0),F=this.ZG.k();N.data={V:v.c.Nm,Xa:{url:F,Lg:!0,k_:this.cD.k()==1?this.k_:null}};
this.L(N);this.close()};function h0(){hs.call(this,[12,79],"preferences");this.bX=null;var r=W._("div","form");
this.body.appendChild(r);this.cp=[new bf([8,2]),new bf([8,4]),new b2([12,80,3],[[12,93,3],[12,80,4]]),new em([12,80,5],1,100,null,2),new b2(null,w.Lt.mh),new b2([12,80,6],w.Lt.mh),new bf("Remind me to save")];
for(var R=0;R<this.cp.length;R++){var N=this.cp[R];r.appendChild(N.m);if(R!=3)W.ke(r);N.U(v.E.o,this.cO,this)}}h0.prototype=new hs;
h0.prototype.f=function(){hs.prototype.f.call(this);for(var R=0;R<this.cp.length;R++)this.cp[R].f()};
h0.prototype.w0=function(r,N,F){};h0.prototype.Qr=function(r,N){this.bX=r;this.cp[0].b(r.ec.a_);this.cp[1].b(r.ec.Z5);
this.cp[2].b(r.ec.UK);this.cp[3].b(r.ec.GK);this.cp[4].b(r.ec.Un);this.cp[5].b(r.ec.W3);this.cp[6].b(r.C1==1)};
h0.prototype.cO=function(r){var N=this.cp;if(r.target==N[6])this.bX.C1=1-this.bX.C1;var F=JSON.parse(JSON.stringify(this.bX.ec));
F.a_=N[0].k();F.Z5=N[1].k();F.UK=N[2].k();F.GK=N[3].k();F.Un=N[4].k();F.W3=N[5].k();if(F.Un!=4)F.GK=Math.round(F.GK);
var h=new gf(v.E.S,!0);h.data={V:v.c.nM,Xa:bC.X3,oC:F};this.L(h)};function iX(){hs.call(this,[11,8],"saveforweb");
this.akN="";this.U("closebtn",function(){this.Kc.$z()},this);this.Px=new gS(512,512);this._I=null;this.tN=null;
this.a8M=null;this.bX=null;W.Ou(this.body,"flexrow");var r=W._("div"),N=W._("div");this.body.appendChild(r);
this.body.appendChild(N);this.LU=W._("div","imgcont");r.appendChild(this.LU);this.Kc=new cA;this.Kc.bh(this.Px.x,this.Px.y);
this.Sf=W._("span");r.appendChild(this.Sf);this.iv=W._("div","form cell");this.iv.setAttribute("style","width:15em; padding-left:1em;");
N.appendChild(this.iv);this.u1=new b2([12,50],bA.Jo());this.iv.appendChild(this.u1.m);this.u1.U(v.E.o,this.KU,this);
this.fk=new g8([12,48],".www",7.7);this.iv.appendChild(this.fk.m);this.kt=new i8(!0,!0,!1,!0);this.kt.U(v.E.o,this.KU,this);
this.iv.appendChild(this.kt.m);this.LP=new eT;this.LP.U(v.E.o,this.KU,this);this.iv.appendChild(this.LP.m);
this.Ny=new d_([1,2],!0,null,!0);this.Ny.U("click",this.nW,this);this.iv.appendChild(this.Ny.m)}iX.prototype=new hs;
iX.prototype.Nz=function(r,N){return r!=null};iX.prototype.f=function(){hs.prototype.f.call(this);this.kt.f();
this.u1.f();this.LP.f();this.Ny.f()};iX.prototype.nW=function(r){var N=this.fk.k().trim(),F=bA.Jo()[this.u1.k()],h=F=="JPG"||F=="PNG"||F=="GIF",m=bA.yU(F),O="."+F.toLowerCase(),e=this.tN,P=N+O,B=this._I,s=B.Zf,Y=this.LP.k();
if(B.hl())Y.pop();if(s.length!=0&&h&&Y.pop()){var D="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",c=[],o={},H=new fE(0,0,B.e,B.n),x=B.G9();
for(var R=0;R<s.length;R++)c.push(z.uA.dS(s,R));c.reverse();var Q=w.rect.iw([0,0,B.e,B.n],c);for(var R=0;
R<Q.length;R++){var U=Q[R],I=new fE(U[0],U[1],U[2]-U[0],U[3]-U[1]),l=U.length==5?s[U[4]].v:null,p=w.B(I.W()*4);
w.L3(x,H,p,I);var j="img/img"+(R+1)+O;o[j]=new Uint8Array(m.xs([[p.buffer,0]],I.e,I.n,Y));D+="<div style=\"background-image:url('"+j+"'); left:"+I.x+"px; top:"+I.y+"px; width:"+I.e+"px; height:"+I.n+"px\">";
if(l&&l.url.v!="")D+="\n\t<a href=\""+l.url.v+"\" target=\""+l.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
D+="</div>\n"}D+="</body>\n</html>\n";var T=w.B(Math.round(D.length*1.5)),V=J.bA(D,T,0);o["index.html"]=T.slice(0,V);
e=UZIP.encode(o);P=N+".zip"}else if(B.add.artd&&B.add.artd.Cnt.v>1&&h&&Y.pop()){var o={},H=new fE(0,0,B.e,B.n),x=B.G9(),E=B.root.children;
for(var R=0;R<E.length;R++){var _=E[R].a;if(_.add.artb==null||!_.gv())continue;var f=_.CN(),S=w.B(f.W()*4);
w.L3(x,H,S,f);o[_.getName()+O]=new Uint8Array(m.xs([[S.buffer,0]],f.e,f.n,Y))}e=UZIP.encode(o);P=N+".zip"}if(B.Zc){var L=new XMLHttpRequest;
L.open("GET","/papi/img/update.php?act=1&id="+B.Zc+"&rnd="+Math.random());L.send()}var y=new gf(v.E.S,!0);
y.data={V:v.c.y$,data:e,name:P};this.L(y);this.Kc.$z();this.close()};iX.prototype.w0=function(r,N){if(N.Rr!=null)this.u1.b(N.Rr);
this._I=r;var F=this._I.name,h=F.lastIndexOf("."),F=h==-1?F:F.slice(0,h);this.fk.b(F);var m=r.e+","+r.n;
if(m!=this.akN){this.akN=m;this.kt.b(new gS(r.e,r.n),r.EP)}this.LP.ag5();if(N.aco){this.kt.av0(3);this.LP.Z6.PDF[2].f1.b(!0)}this.KU(null,!0)};
iX.prototype.md=function(r,N){return new gS(Math.max(0,Math.min(150,(r-770)/2)),Math.max(0,Math.min(150,(N-590)/2)))};
iX.prototype.bh=function(r,N){this.YW=r;this.Nf=N;this.Px.x=Math.min(512,r-26-214);this.Px.y=Math.min(512,N-45);
if(this._I==null)return;var F=this.kt.k(),r=F.x,N=F.y,h=bA.Jo()[this.u1.k()],m=bA.yU(h),D="<span style=\"width:",c="display:inline-block; text-align:right;\">";
if(m.mU){var O=r,e=N,P;if(h=="PDF"||m.J3){O=this.Px.x;e=this.Px.y}else{O=Math.min(r+20,this.Px.x);e=Math.min(N+20,this.Px.y)}this.LU.firstChild.setAttribute("style","display:block; width:"+O+"px; height:"+e+"px;")}else{if(m.J3){O=this.Px.x;
e=this.Px.y}else{var B=this.a8M,s=B[0].I0,O=s.e,e=s.n;this.Kc.bh(Math.max(50,Math.min(O/W.G(),this.Px.x)),Math.max(50,Math.min(e/W.G(),this.Px.y)))}}var Y=this.tN.byteLength,o=h+":"+D+64+"px;"+c+iX.UP(Y)+"</span>";
if(this.Px.x>200)o+=D+90+"px; opacity:"+.5+";"+c+Y.toLocaleString()+" B</span>";this.Sf.innerHTML=o};
iX.UP=function(r){var N=r.toString(2),F=0;while(F+10<N.length)F+=10;var h=(r/Math.pow(2,F)).toFixed(1);
if(h.endsWith(".0"))h=h.slice(0,-2);var m="B KB MB GB TB PB".split(" ")[Math.floor(F/10)];return h+" "+m};
iX.prototype.Qr=function(r,N){this.bX=r};iX.prototype.KU=function(r,N){var F=this._I,h=this.kt.k(),m=h.x,O=h.y,e=this.u1.k(),P=bA.Jo()[e],Q="";
this.fk.a3Q("."+P.toLowerCase());var B=bA.Wt(F)[0].length,s=["GIF","PNG","WEBP"].indexOf(P)!=-1&&B>1;
if(s&&N&&(B>4&&m*O>1024*1024||m*O*B>800*800*50)){var Y=1;while(Math.max(m>>>Y,O>>>Y)>800)Y++;var D=window.confirm("Your animation is large ("+m+" x "+O+" px). Press \"OK\" to scale it to "+(100>>>Y)+"%. Press \"Cancel\" to keep the size.");
if(D){this.kt.b(new gS(m>>>Y,O>>>Y),null,!0);m=m>>>Y;O=O>>>Y}}var c=F.add.artd,o=c!=null&&c.Cnt.v>1,H=F.hl();
this.LP.aed(P,s,F.Zf.length!=0,o,H!=null);var x=this.LP.k();this.tN=bA.__(F,P,m,O,x,this.bX);if(this.tN==null){this._I=null;
return}W.Tg(this.LU);this.Kc.$z();var U=bA.yU(P);if(U.J3){this.LU.innerHTML="<div></div>";Q+="width:0px"}else if(U.mU){var I=m,l=O,p;
if(P=="PDF"){p=URL.createObjectURL(new Blob([this.tN],{type:"application/pdf"}))}else{p=URL.createObjectURL(new Blob([this.tN],{type:"image/svg+xml"}))}this.LU.innerHTML="<iframe src=\""+p+"\"></iframe>"}else{var j=this.a8M=U.V9(this.tN),T=j[0],V=T.I0,I=V.e,l=V.n;
if(T.FG){var E=ICC.R(T.FG.buffer),_=17,f=ICC.U.sampleLUT(E,_);for(var R=0;R<j.length;R++){var S=new Uint8Array(j[R].data);
ICC.U.applyLUT(f,_,S,S)}}this.Kc.b(j,j.length>1?x[x.length-3]:0);this.LU.appendChild(this.Kc.m);Q="background: rgba(0,0,0,0);"}this.LU.setAttribute("style","display:block; background-size:"+16/W.G()+"px;"+Q);
this.bh(this.YW,this.Nf)};function jn(){hs.call(this,[11,13],"shortcuts");var r=this.Gk=W._("div","scrollable");
r.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(r);
this.a9V()}jn.prototype=new hs;jn.prototype.f=function(){hs.prototype.f.call(this);this.a9V()};jn.prototype.a9V=function(){var r="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",N="",F=bh,h=F.hg,m=F.wQ,O=F.sV;
N+="<h2 style=\"margin-top:0;\">Main Menu</h2>";N+=r;N+=this.p_([[0,0],"---",[1,0],[h,F.kR],[1,2],[h,F.rC],[1,3],[m,h,F.rC],[1,8],[O,m,h,F.rC],[0,1],"---",[2,0],[m,h,F.Uy],[2,1],[h,F.Uy],[5,0],[h,F.Vr],[5,1],[h,F.VO],[5,2],[h,F.EX],[2,2],"Delete",[2,3],[O,F.Lu],[10,16],[O,h,F.Oo],[12,79],[h,F.Ly],[3],"---",[4,1],[h,F.qN],[4,2],[h,F.m5],[4,5],[h,F.ny],[4,11],[h,F.yX],[0,3],"---",[6,13],[m,h,F.xy],[6,49,0],[h,F.Qy],[6,6,0],[O,h,F.DA],[6,9],[h,F.DA],[6,10],[h,F.E],[0,5],"---",[7,0],[h,F.c],[7,1],[h,F.S7],[7,2],[m,h,F.yX],[0,7],"---",[8,0],[h,F.nL],[8,1],[h,F.MO],[8,3],[h,F.A4],[8,2],[h,F.Hd],[8,4],[h,F.Aa],[11,13],"?"]);
N+="</div>";N+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";N+=r;N+=this.p_(["Vertical scroll","Wheel","Horizontal scroll",[h,"Wheel"],"Zooming",[O,"Wheel"]]);
N+="</div>";N+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
N+=r;N+=this.p_([[10,11],[h],[10,7],"Space",[10,17],[h,F.mk]]);N+="</div>";N+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
N+=r;var e=jn.P,P=[];for(var R=0;R<e.length;R+=3)if(e[R+1])P.push(e[R],e[R+1]);P=P.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[h,F.te]]);
N+=this.p_(P);N+="</div>";this.Gk.innerHTML=N};jn.prototype.p_=function(r){var N="",F=!0;for(var R=0;
R<r.length;R+=2){var h=r[R],m=bh.aN(r[R+1]);if(m==null){F=!1;continue}var O=W.uy(ab.get(h));if(m=="---"){if(!F)N+="<br/>";
N+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+O+"</div>"}else N+="<div>"+O+" <span style=\"float:right; font-weight:bold;\">"+m+"</span> </div>";
F=!1}return N};jn.P=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function dU(){hs.call(this,[8,11,1],"soptions");this.BM=null;var r=W._("div","form");r.style.width="20em";
this.body.appendChild(r);this.DF={Nm:[12,48],url:"URL",null:[12,71]};this.cp={};for(var N in this.DF){var F=new g8(this.DF[N],null,15);
this.cp[N]=F;r.appendChild(F.m)}this.Fw=W.a1(this,r)}dU.prototype=new hs;dU.prototype.w0=function(r,N,F){var h=N.h;
this.BM=JSON.stringify(h);for(var m in this.DF){if(h[m])this.cp[m].b(h[m].v)}};dU.prototype.nW=function(r){var N=JSON.parse(this.BM);
for(var F in this.DF){var h=this.cp[F].k();N[F]={t:"TEXT",v:h}}var m=new gf(v.E.u,!0);m.s=z.eu;m.data=N;
m.pR=!0;this.L(m);this.close()};dU.prototype.f=function(){hs.prototype.f.call(this);this.Fw.f()};function aQ(){hs.call(this,[2,3],"fill");
this.bX=null;this.pZ=null;var r=W._("div","form padded");r.style.width="22em";this.body.appendChild(r);
this.W8="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.m0=new b2([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.m0.U(v.E.o,this.abi,this);r.appendChild(this.m0.m);this.LU=W._("span");r.appendChild(this.LU);this.SD=new cw;
this.SD.parent=this;this.SD.X7(0);this.ki=new j7;this.ki.parent=this;this.E9=new b2([12,19,0],g6.zd,!1,g6.yj);
r.appendChild(this.E9.m);this.wL=new em([12,0],0,100,"%",0,!1);this.wL.b(100);r.appendChild(this.wL.m);
this.jV=new bf([13,5]);this.jV.b(!1);r.appendChild(this.jV.m);this.Fw=W.a1(this,this.body)}aQ.prototype=new hs;
aQ.prototype.Nz=function(r,N){return r!=null};aQ.prototype.N7=function(){return!0};aQ.prototype.abi=function(){var r=this.m0.k(),N=this.SD.m,F=this.ki.m,h=this.LU;
if(r==2)h.appendChild(N);else if(h.contains(N))h.removeChild(N);if(r==7)h.appendChild(F);else if(h.contains(F))h.removeChild(F)};
aQ.prototype.f=function(){hs.prototype.f.call(this);this.m0.f();this.E9.f();this.wL.f();this.Fw.f()};
aQ.prototype.nW=function(r){if(!this.pZ.VT())return;var N=new gf(v.E.nE,!0),F=this.m0.k();N.data=z.a3.eq(this.W8[F],g6.Ry[this.E9.k()],this.wL.k()/100,this.SD.k(),this.jV.k(),this.ki.k());
this.close();this.L(N)};aQ.prototype.w0=function(r,N){this.pZ=r};aQ.prototype.Qr=function(r,N){this.bX=r;
if(N==bC.ge||N==bC.nA){this.ki.Wl(r.X5);this.ki.b({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function fj(){hs.call(this,[14,9],"stroke");this.bX=null;this.iv=W._("div","form");this.iv.setAttribute("style","width:24em");
this.body.appendChild(this.iv);this.mI=new jj("FrFX",!0);this.mI.parent=this;var r=["Sz","Styl","Md","Opct"].concat(an.eA);
for(var R=0;R<r.length;R++){var N=this.mI.lg[r[R]].m;this.iv.appendChild(N)}this.fZ=!1;this.Fw=W.a1(this,this.body)}fj.prototype=new hs;
fj.prototype.Nz=function(r,N){return r!=null};fj.prototype.N7=function(){return!0};fj.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();this.mI.f()};fj.prototype.nW=function(r){var N=new gf(v.E.u,!0);N.s=z.T6;N.data={V:"stroke",a3A:this.mI.k()};
this.close();this.L(N)};fj.prototype.w0=function(r,N){if(!this.fZ){var F=an.O7[an.order.indexOf("FrFX")];
F=JSON.parse(F);this.mI.update(r,F);this.fZ=!0}var F=this.mI.k(),h=this.bX.Fp;F.Clr.v=w.X.QA({Z:h>>16&255,z:h>>8&255,J:h&255});
this.mI.update(r,F)};fj.prototype.Qr=function(r,N){this.bX=r};function fD(){hs.call(this,[11,9],"textwarp");
this.cp=new hM;this.cp.U(v.E.o,this.qM,this);this.cp.parent=this;this.iv=W._("div","form");this.iv.setAttribute("style","width:20em");
this.body.appendChild(this.iv);this.iv.appendChild(this.cp.eO.m);this.iv.appendChild(this.cp.wi.m);this.iv.appendChild(this.cp.aX.m);
this.iv.appendChild(this.cp.Dh.m);this.iv.appendChild(this.cp.Gr.m);this.Fw=W.a1(this,this.iv);this.U("closebtn",this.ut,this)}fD.prototype=new hs;
fD.prototype.N7=function(){return!0};fD.prototype.f=function(){hs.prototype.f.call(this);this.Fw.f();
this.cp.f()};fD.prototype.qM=function(r){var N=this.cp.k();this.yp({V:"warp",U5:N})};fD.prototype.yp=function(r){var N=new gf(v.E.u,!0);
N.s=z.tI;N.data=r;N.pR=!0;this.L(N)};fD.prototype.ut=function(r){this.yp({V:"warpCancel"})};fD.prototype.nW=function(r){this.yp({V:"warpConfirm"});
this.close()};fD.prototype.w0=function(r,N){var F=r.g[r.w[0]];this.cp.b(F.add.TySh._u)};function aS(){hs.call(this,[11,12,0],"trim");
var r=this.iv=W._("div","form");this.iv.setAttribute("style","width:22em");this.body.appendChild(this.iv);
var N=new bB("Color To Trim:");r.appendChild(N.m);this.SN=new jX(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.SN.b([!0]);this.iv.appendChild(this.SN.m);var N=new bB("Sides:");r.appendChild(N.m);this.R6=new jX(null,["Top","Left","Bottom","Right"]);
this.R6.b([!0,!0,!0,!0]);this.iv.appendChild(this.R6.m);this.Fw=W.a1(this,this.body)}aS.prototype=new hs;
aS.prototype.Nz=function(r,N){return r!=null};aS.prototype.N7=function(){return!0};aS.prototype.f=function(){hs.prototype.f.call(this);
this.SN.f();this.R6.f();this.Fw.f()};aS.prototype.nW=function(r){var N=this.SN.k().indexOf(!0),F=this.R6.k(),h=new gf(v.E.nE,!0);
h.data=z.Q6.lu(N,F);this.close();this.L(h)};function fp(){hs.call(this,"Raw Photopea","rawpea");this.JH=null;
this.Xk=null;this.Dw=null;this.X_=0;this.tA=null;this.OT=null;this.aa$=500;this.aen=500;this.adL=0;this.U("closebtn",this.QU,this);
W.Ou(this.body,"flexrow");var r=W._("div"),N=W._("div"),h="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
N.setAttribute("style","padding-left: 1em");this.body.appendChild(r);this.body.appendChild(N);this.D=W._("canvas");
r.appendChild(this.D);this.zQ=new eP(225);this.zQ.Kj(4);N.appendChild(this.zQ.m);this.iv=W._("div");
this.iv.setAttribute("style","width:18em;");N.appendChild(this.iv);this.a8Y=new bB("Hi",!0);this.iv.appendChild(this.a8Y.m);
this.W_=[new d5("Temperature",2e3,13e3),new d5("Tint",-150,150),new d5([4,3],-4,4,null,!0),new d5([12,3,0],-100,100)];
for(var R=0;R<this.W_.length;R++){var F=this.W_[R];F.b(0);F.U(v.E.o,this.Fm,this);this.iv.appendChild(F.m);
if(R==1)this.iv.appendChild(W._("hr"))}this.Fw=new d_([1,0],!0,null,!0);this.Fw.U("click",this.nW,this);
this.iv.appendChild(this.Fw.m);this.U2=new d_(h+" JPG",!0,null,!0);this.U2.U("click",this.asH,this);
this.iv.appendChild(this.U2.m);this.U2.m.style.marginTop="6px"}fp.prototype=new hs;fp.prototype.md=function(){return new gS(0,0)};
fp.prototype.bh=function(r,N){this.aa$=r-274;this.aen=N-32;if(this.JH)this.aiF()};fp.prototype.f=function(){hs.prototype.f.call(this);
this.Fw.f();for(var R=0;R<this.W_.length;R++)this.W_[R].f()};fp.prototype.asH=function(r){var N=this.JH,F=this.Xk,h=w.B(N.width*N.height*4);
w.T1(h,4294967295);w.raw.EW(F,h,N,this.UD());var m=bA.yU("JPG").xs([[h.buffer]],F.mG,F.Yh,[85]),O=new gf(v.E.S,!0);
O.data={V:v.c.y$,data:m,name:"photo.jpg"};this.L(O)};fp.prototype.nW=function(r){var N=this.JH,F=this.Xk,h=w.B(N.width*N.height*4);
w.T1(h,4294967295);w.raw.EW(F,h,N,this.UD());var m=dq.k8(N),N={I0:new fE(0,0,F.mG,F.Yh),data:h.buffer,fH:m},O=bA.B0("Raw Photo",[N]),e=new gf(v.E.S,!0);
e.data={V:v.c.RY,_I:O};this.L(e);this.QU();this.close()};fp.prototype.QU=function(){this.JH=null;this.Xk=null;
this.tA=null;this.OT=null};fp.prototype.w0=function(r,N,F,h){this.JH=N.l1;this.Xk=w.raw.a53(this.JH);
var m=this.Xk;this.a8Y.b(m.mG+" x "+m.Yh+", "+(m.mG*m.Yh/1e6).toFixed(1)+" MPx");var O=w.raw.adF(N.l1);
this.Dw=jY.tj(O);this.W_[0].b(this.Dw.MF);this.W_[1].b(this.Dw.EJ);for(var R=2;R<this.W_.length;R++)this.W_[R].b(0);
this.aiF()};fp.prototype.Qr=function(r,N){this.zQ.X7(hi.jo[r.bz]["--text-color"])};fp.prototype.aiF=function(){var r=this.Xk,N=r.mG,F=r.Yh,h=1;
while(N/h>this.aa$*W.G()||F/h>this.aen*W.G())h++;if(this.adL==h&&this.tA)return;this.adL=h;var m=Math.floor(N/h),O=Math.floor(F/h);
this.tA={iS:new Float32Array(m*O*3),mG:m,Yh:O};var e=this.D.getContext("2d");this.OT=w.B(m*O*4);w.T1(this.OT,4294967295);
var P=1/(h*h);for(var B=0;B<O;B++)for(var s=0;s<m;s++){var Y=0,D=0,c=0,o=(s+1)*h,H=(B+1)*h;for(var x=B*h;
x<H;x++)for(var Q=s*h;Q<o;Q++){var U=(x*N+Q)*3;Y+=this.Xk.iS[U];D+=this.Xk.iS[U+1];c+=this.Xk.iS[U+2]}var I=(B*m+s)*3;
this.tA.iS[I]=Y*P;this.tA.iS[I+1]=D*P;this.tA.iS[I+2]=c*P}this.Fm()};fp.prototype.Fm=function(){var r=this.JH,N=this.tA.mG,F=this.tA.Yh,h=N*F,m=this.D,O=m.getContext("2d");
m.width=N;m.height=F;W.HR(m,N,F);w.raw.EW(this.tA,this.OT,r,this.UD());O.putImageData(new ImageData(new Uint8ClampedArray(this.OT.buffer),N,F),0,0);
var e=w.K2(this.OT);for(var R=0;R<4;R++)for(var P=1;P<256;P++)if(e[R][P]==0)e[R][P]=e[R][P-1];for(var R=0;
R<4;R++)for(var P=1;P<256;P++)if(e[R][P]==0)e[R][P]=e[R][P-1];this.zQ.b(e)};fp.prototype.UD=function(){var r=[];
for(var R=0;R<this.W_.length;R++)r.push(this.W_[R].k());return r};function f2(r){hs.call(this,r?[11,11,0]:[11,11,1],r?"vbitmap":"rcolors");
this.Ua=null;this.qg=null;this.z$=null;this.dQ=null;this.iW=null;this.a2B=null;this.Ec=null;this.Iq="";
this.jC=r;this.iK=this.xb.bind(this);this.body.style.padding="0";this.iv=W._("div","form hbar padded");
this.body.appendChild(this.iv);var N=this.a8={cnum:new g$([12,82],2,50,null),nois:new bf([12,81]),mode:new b2(null,["Cartoon","Photo"]),segm:new bf("Segmentize"),poly:new bf("Polygon"),polE:new g$("Roughness",2,30,null),ok:W.a1(this,null,!1)},O=16;
for(var F in N){var h=N[F];h.parent=this;if(F!="ok")h.U(v.E.o,this.xb,this)}var m=this.i6=W._("div","flexrow");
this.body.appendChild(m);this.xw=new cA;this.xw.U("viewchange",this.Ca,this);this.ie=new cA;this.D=W._("canvas");
this.D.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.Az=this.D.getContext("2d");
var e=w.B(16*16*4);w.aI(e,O,O,8);this.V8=w.scale.Rf(e,O,O);this.xw.art(this.D);this.xw.JR(this.ie);this.ie.JR(this.xw);
m.appendChild(this.xw.m);if(r)m.appendChild(this.D);else m.appendChild(this.ie.m)}f2.prototype=new hs;
f2.prototype.md=function(){return new gS(0,0)};f2.prototype.N7=function(){return!0};f2.prototype.bh=function(r,N){this.YW=r;
this.Nf=N;N=N-44;if(r<600)N-=29;if(this.Ua==null)return;var F=this.Ua.I0,h=ae.as2(r,N,F.e,F.n);if(h==1)N-=3;
if(h==0){r=Math.floor(r/2);W.Ou(this.i6,"flexrow")}else{N=Math.floor(N/2);W.PV(this.i6,"flexrow")}W.Pf(this.D,r,N);
this.xw.bh(r,N);if(this.jC)this.Ca();else this.ie.bh(r,N)};f2.prototype.BD=function(r,N,F,h){this.xw.BD(h)};
f2.prototype.f=function(){hs.prototype.f.call(this);for(var r in this.a8)this.a8[r].f()};f2.prototype.w0=function(r,N){this.Ec=r;
this.iW=null;var F=r.g[r.w[0]],h=w.J4.WI(F.buffer.buffer,F.rect.e,F.rect.n).auy,m=h/((F.rect.e-2)*(F.rect.n-2)),O=this.a8;
O.cnum.b(20);O.nois.b(m<.75);O.mode.b(m<.75?1:0);O.segm.b(!1);O.poly.b(!1);O.polE.b(1);var e=F.rect.clone();
e.x=e.y=0;this.Ua={I0:e,data:F.buffer.buffer.slice(0)};this.qg=null;this.bh(this.YW,this.Nf);this.xw.b([this.Ua]);
this.xw.RW();setTimeout(this.iK,20)};f2.prototype.xb=function(){var r=!0,N=Date.now(),F=this.Ua,h=this.a8,m=h.cnum.k(),O=h.nois.k(),e=h.mode.k(),P=h.segm.k(),B=h.poly.k(),s=h.polE.k(),V=null;
if(e==0)P=B=!1;var Y=["cnum","nois","mode"];if(e==1){Y.push("segm");if(this.jC){Y.push("poly");if(B)Y.push("polE")}}Y.push("ok");
W.Tg(this.iv);for(var R=0;R<Y.length;R++)this.iv.appendChild(h[Y[R]].m);if(r)console.log("---------------------------------------");
var D=O||P,c=O+","+P;if(D&&(this.qg==null||this.Iq!=c)){this.Iq=c;var o=new Uint8Array(F.data),H=F.I0.e,x=F.I0.n;
if(O){if(this.iW==null){this.iW=o.slice(0);w.Yf._9(this.iW,this.iW,H,x,15,w.Yf.VC,[35]);if(r){console.log("denoise",Date.now()-N);
N=Date.now()}}o=this.iW.slice(0)}else o=o.slice(0);if(P){var Q=w.J4.vB(o,H,x,40,10),U=Q.Ly,I=new Uint8Array(U*4);
for(var R=0;R<U;R++){var l=R*4,p=R*6,j=1/Q.ZR[p+5];I[l]=Q.ZR[p]*j;I[l+1]=Q.ZR[p+1]*j;I[l+2]=Q.ZR[p+2]*j}for(var R=0;
R<o.length;R+=4){var T=Q.jr[R>>>2]*4;o[R]=I[T];o[R+1]=I[T+1];o[R+2]=I[T+2]}if(r){console.log("segm",Date.now()-N);
N=Date.now()}}this.qg={I0:F.I0.clone(),data:o.buffer}}if(D)F=this.qg;var o=new Uint8Array(F.data),H=F.I0.e,x=F.I0.n;
for(var R=0;R<o.length;R+=4){if(o[R+3]<10)o[R]=o[R+1]=o[R+2]=o[R+3]=0}if(e==0){V=w.J4.aml(o,H,x,m,D?.1:2e-4);
if(r){console.log("quantize",Date.now()-N);N=Date.now()}}else{V=aD.ah6(o.buffer,m,H,x)}if(this.jC){var E=V.jr.slice(0);
for(var R=0;R<E.length;R++)E[R]++;var _=new Uint8Array((H+2)*(x+2));w.nZ(E,new fE(1,1,H,x),_,new fE(0,0,H+2,x+2));
if(!B){var f=Math.round((H+2)*(x+2)/1e4),S=fA.zS(_.slice(0),H+2,x+2,Math.min(12,f)),L=fA.bN(S);if(r){console.log("trace smooth",Date.now()-N);
N=Date.now()}}else{var L=w.p.L6(_,H+2,x+2,s,r)}var y=L.length,$=new hc(1,0,0,1,-1,-1);for(var R=0;R<y;
R++)w.p.A(L[R].path.t,$,L[R].path.t);this.dQ=L;this.z$=V;for(var R=0;R<y;R++){var Z=L[R];for(var i=R+1;
i<y;i++){var b=L[i];if(b.parent==R&&V.O9[b.color-1].est.q[3]<.05){var G=b.path.C.slice(1);G.reverse();
G=["M"].concat(G);var g=[],S=b.path.t.length;for(var u=0;u<S;u+=2){g[u]=b.path.t[S-2-u];g[u+1]=b.path.t[S-2-u+1]}w.p.concat(Z.path,{t:g,C:G})}}}if(r){console.log("finding holes",Date.now()-N);
N=Date.now()}for(var R=0;R<L.length;R++){var Z=L[R],A=V.O9[Z.color-1].est.q;if(A[3]<=.05){L.splice(R,1);
R--;continue}}for(var R=1;R<L.length;R++){var a=L[R-1],Z=L[R];if(a.color==Z.color){w.p.concat(a.path,Z.path);
L.splice(R,1);R--;continue}}this.Ca()}else{var d=new Uint32Array(H*x),K=H*x;for(var R=0;R<K;R++){var n=V.O9[V.jr[R]];
d[R]=n.est.rgba}this.a2B=new Uint8Array(d.buffer);this.ie.b([{I0:F.I0,data:d.buffer}])}};f2.prototype.Ca=function(r){if(this.dQ==null)return;
var N=this.Ua.I0.e,F=this.Ua.I0.n,h=this.dQ,m=this.z$.O9,O=this.D,e=this.Az,P=this.xw.Md();e.setTransform(1,0,0,1,0,0);
e.clearRect(0,0,O.width,O.height);e.translate(O.width/2,O.height/2);e.scale(P.O,P.O);e.translate(P.r.x/P.O-N/2,P.r.y/P.O-F/2);
e.scale(1/P.O,1/P.O);e.fillStyle=this.V8;e.fillRect(0,0,N*P.O,F*P.O);e.scale(P.O,P.O);var B=[];for(var R=0;
R<m.length;R++){var s=m[R].est.q;B.push({Z:Math.round(255*s[0]),z:Math.round(255*s[1]),J:Math.round(255*s[2]),O$:Math.round(255*s[3])})}for(var R=0;
R<h.length;R++){var Y=h[R],s=B[Y.color-1];if(s.O$==0)continue;e.fillStyle="rgba("+s.Z+","+s.z+","+s.J+","+s.O$/255+")";
e.beginPath();Typr.U.pathToContext({crds:Y.path.t,cmds:Y.path.C},e);e.fill()}};f2.prototype.nW=function(r){var N=this.Ec,F=N.w[0],h=N.g[F],m=new gf(v.E.u,!0);
m.pR=!0;m.s=z.j7;if(this.jC){var O=this.dQ,e=O.length==1,P=N.g.slice(0,F);if(!e)P.push(N.Dz());for(var R=0;
R<O.length;R++){var B=O[R],s=this.z$.O9[B.color-1].est.q;w.p.A(B.path.t,new hc(1,0,0,1,h.rect.x,h.rect.y),B.path.t);
var Y=N.lc();Y.a6("Path "+R);P.push(Y);Y.opacity=Math.round(s[3]*255);Y.Rl|=16;Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:w.X.QA({Z:255*s[0],z:255*s[1],J:255*s[2]})}};
Y.add.vmsk=new C.Ug;Y.add.vstk=JSON.parse(JSON.stringify(an.mr.default));Y.add.vmsk.Y=w.p.nN(B.path,!1);
Y.add.vogk=[];Y.jq();Y.dD(N)}var D=P[P.length-1];if(!e){var Y=N.lc();Y.a6(h.getName());Y.add.lsct=jJ.Ra;
Y.$j="pass";Y.Rl=24;P.push(Y);D=Y}var c=h.add.lmfx;if(c)D.add.lmfx=JSON.parse(JSON.stringify(c));for(var R=F+1;
R<N.g.length;R++)P.push(N.g[R]);m.data={V:C.l5,Yb:P,xF:[F+O.length+(e?-1:1)],Py:[11,11,0]}}else{var P=N.g.slice(0),Y=N.lc();
Y.a6(h.getName());P.splice(N.w[0]+1,0,Y);Y.rect=h.rect.clone();Y.buffer=this.a2B;Y.M();m.data={V:C.l5,Yb:P,xF:[N.w[0]+1],Py:[11,11,1]}}this.L(m);
this.close()};function ae(r){hs.call(this,[[7,11],[7,13]][r],["redge","magiccut"][r]);this.SN=r;this.Ua={};
this.Ti=null;this.if=null;this.Ec=null;this.I5=null;this.K6=null;this.body.style.padding="0";this.RA=[];
this.B8=-1;this.iv=W._("div","form hbar padded");this.body.appendChild(this.iv);this._Z=new ex;this._Z.parent=this;
this._Z.U(v.E.o,this.LN,this);this.iv.appendChild(this._Z.m);var N=r==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
N=N.concat("tools/hand","zoomIn","zoomOut");var F=r==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Ae=new ha(null,N,F,28);this.Ae.U(v.E.o,this.BD,this);this.iv.appendChild(this.Ae.m);this.vs=new g$([7,9],0,50,null);
this.vs.parent=this;this.vs.U(v.E.o,[this.a7z,this.xb][r],this);this.iv.appendChild(this.vs.m);var h=this.amx=new d_([2,2],!1,null,!0);
h.U("click",this.QU,this);this.iv.appendChild(h.m);var m=this.o9=W._("span","form");this.iv.appendChild(m);
var O=this.arM=new d_([12,90],!1,null,!0);O.U("click",function(B){alert(r==0?ab.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
m.appendChild(O.m);var e=new d_("Tutorial",!1,null,!0);e.U("click",this.alh,this);m.appendChild(e.m);
this.GC=new ha([12,46],["checker","#ffffff","#000000"]);this.GC.U(v.E.o,this.a1c,this);m.appendChild(this.GC.m);
this.QO=new b2(null,[[6,13],[6,2],[17,2]]);m.appendChild(this.QO.m);this.Fw=W.a1(this,m,!1);var P=this.i6=W._("div","flexrow");
this.body.appendChild(P);this.ay=new cA(!0);this.BL=new cA;this.ay.JR(this.BL);this.BL.JR(this.ay);this.ay.U("mousedown",this.DY,this);
this.ay.U("mousemove",this.VQ,this);this.ay.U("mouseup",this.gm,this);this.ay.U("zoom",this.LN,this);
this.BL.U("zoom",this.LN,this);P.appendChild(this.ay.m);P.appendChild(this.BL.m)}ae.prototype=new hs;
ae.prototype.Nz=function(r,N){var F=r!=null&&!r.g[r.w[0]].rect.lX();if(!F)alert("The layer is empty.");
return F};ae.prototype.md=function(){return new gS(0,0)};ae.prototype.N7=function(){return!0};ae.prototype.bh=function(r,N){this.YW=r;
this.Nf=N;N=N-12-33;if(r<900){this.o9.setAttribute("style","display:block;  text-align:right;");N-=29}else{this.o9.setAttribute("style","position:absolute;  right:0px")}var F=this.Ua.rect;
if(F){var h=ae.as2(r,N,F.e,F.n);if(h==0){r=Math.floor(r/2);W.Ou(this.i6,"flexrow")}else{N=Math.floor(N/2);
W.PV(this.i6,"flexrow")}this.ay.bh(r,N);this.BL.bh(r,N)}};ae.as2=function(r,N,F,h){var m=r/2,O=N/2,e=Math.min(m/F,N/h),P=Math.min(r/F,O/h);
return e>P?0:1};ae.prototype.f=function(){hs.prototype.f.call(this);this._Z.f();this.vs.f();this.Fw.f();
this.GC.f();this.QO.f();this.amx.f();this.arM.f()};ae.prototype.alh=function(r){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.SN],"_blank")};
ae.prototype.Qr=function(r,N){this.if=r;if(N==bC.D$||N==bC.ge){this._Z.Wl(r.nd);this._Z.b(bR.qd(),r.nd.lZ,r.nd.ki)}};
ae.prototype.BD=function(r,N,F,h){var m=this.Ae.k();if(h==null){this.ay.BD(cA.a6n(m-3));return}this.I5=h;
var O=z.a3.Wr(this._Z.k(),h);if(O!=null){this._Z.b(O);this.LN()}else if(h.j(bh.hg)&&h.j(bh.Uy)){var e=this.RA,P=0;
if(h.j(bh.wQ)){if(this.B8+1<e.length)P=1}else if(this.B8>0)P=-1;if(P!=0){this.B8+=P;var B=this.B8,s=this.Ua;
if(P==1)w.L3(e[B][2],e[B][0],s.Uw,s.rect);else w.L3(e[B+1][1],e[B+1][0],s.Uw,s.rect);s.my=s.rect;this.xb()}}else if(m<3)this.ay.BD(h)};
ae.prototype.pb=function(r){var N=this.Ua,F=this.RA,h=w.B(r.W()*4);w.L3(N.o_,N.rect,h,r);N.o_=null;var m=w.B(r.W()*4);
w.L3(N.Uw,N.rect,m,r);this.B8++;F[this.B8]=[r.clone(),h,m];while(F.length>this.B8+1)F.pop();while(F.length>50){F=F.slice(1);
this.B8--}};ae.prototype.LN=function(){var r=this.if,N=hy.j5(this._Z.k(),r.nd.lZ,this.ay.Md().O);this.ay.Gq(N)};
ae.prototype.DY=function(r){var N=this.if,F=this.Ua,h=this.I5,m=this._Z.k(),O=this.ay.lj(),e=[16777215,8421504,0][this.Ae.k()];
this.Ti=new hy(m,N.nd.lZ,N.nd.ki,{tM:1,Pd:!0},e,N.lo,F.rect);F.o_=F.Uw.slice(0);if(h!=null&&h.j(bh.wQ)&&this.K6){this.Ti.moveTo(this.K6.x,this.K6.y);
this.Ti.lineTo(O.x,O.y)}else this.Ti.moveTo(O.x,O.y);this.aig()};ae.prototype.VQ=function(r){var N=this.Ua,F=this.ay.lj();
this.Ti.lineTo(F.x,F.y);this.aig()};ae.prototype.gm=function(r){this.K6=this.ay.lj();this.pb(this.Ti.Jn());
this.xb()};ae.prototype.aig=function(){var r=this.Ua,N=this.Ti,F=N.Rc();if(F.lX())return;r.my=F;w.i.vw("norm",N.XW(),N.Tm(),r.Uw,r.rect,F,1);
this.ahw()};ae.prototype.QU=function(r){var N=this.Ua;N.o_=N.Uw.slice(0);N.my=N.rect;w.T1(N.Uw,[4278190080,4292730333][this.SN]);
this.pb(N.rect);this.xb()};ae.prototype.w0=function(r,N){this.Ec=r;var F=r.g[r.w[0]],h=F.rect.clone(),m=h.e,O=h.n;
this.vs.b(this.SN==0?3:m*O<3e6?3:0);this.Ae.b(r.$==null?0:1);this.vs.Xo();if(this.SN==0&&r.$!=null||this.SN==1)this.vs.RK();
var e=this.SN,P=w.B(h.W()),B=new Float32Array(h.W());if(e==0&&r.$){w.nZ(r.$.channel,r.$.rect,P,h);var s=w.B(h.W());
for(var Y=0;Y<O;Y++)for(var D=0;D<m;D++){var R=Y*m+D,c=P[R];if(D>0&&P[R-1]!=c||D<m-1&&P[R+1]!=c||Y>0&&P[R-m]!=c||Y<O-1&&P[R+m]!=c)s[R]=255}w.style.rZ(s,B,m,O)}else B.fill(1e9);
h.x=h.y=0;this.Ua={rect:h,iS:F.buffer,Rj:P,Cx:B,xK:w.B(h.W()*4),g7:w.B(h.W()*4),Uw:w.B(h.W()*4),o_:null,oO:null,my:h,aar:{}};
if(e==0)this.a7z();else{this.Ua.aar=z.Qh.Kv(r);var o=this.Ua.Uw;w.T1(o,4287137928);var H=w.EM.getSelection(F.buffer,m,O),x=Math.round(m/60),Q=Math.round(.7*O);
for(var Y=0;Y<O;Y++)for(var D=0;D<m;D++){var U=(Y*m+D)*4,I=H[U>>>2];I=I>128?255:128;if(Y<x||Y<Q&&(D<x||D>m-1-x))I=0;
o[U]=o[U+1]=o[U+2]=I}this.xb()}this.RA=[1];this.B8=0;var l=this._Z.k();l.Brsh.v.Dmtr.v.val=Math.round(h.e/(e==0?10:20));
this._Z.b(l);this.LN();this.bh(this.YW,this.Nf);this.ay.RW()};ae.prototype.a7z=function(){var r=this.Ua,N=r.rect.W(),F=this.vs.k(),h=r.Rj.slice(0);
for(var R=0;R<N;R++)if(r.Cx[R]<F)h[R]=128;w.T1(r.Uw,4294967295);w.vr(h,r.Uw,0);w.vr(h,r.Uw,1);w.vr(h,r.Uw,2);
r.my=r.rect;this.xb()};ae.prototype.xb=function(){var r=this.Ua,m,P,B=0,s=0,Y=0;this.ahw();var N=r.rect,F=N.e,h=N.n,O=w.B(N.W()),e=r.iS;
w.Pw(r.Uw,O,0);for(var R=0;R<O.length;R++){if(e[(R<<2)+3]!=255)continue;var D=O[R];if(D==0)B++;else if(D==255)s++;
else Y++}if(B*s*Y!=0){if(this.SN==0)P=w.Tk.Tk(N,e,O);else{var c=this.Ae.k();for(var o=1;o<h;o++)for(var H=1;
H<F;H++){var R=o*F+H,x=O[R],Q=O[R-1];if(x==0&&Q==255||x==255&&Q==0){m="The Red and Green should never touch! Erase it with Grey.";
break}}var U=Date.now(),I=this.Ua.aar;w.ZF(O,I.gn);z.Qh.YB(I,!0);var l=Math.ceil(this.vs.k()/2);if(l==0){P=e.slice(0);
w.vr(I.$,P,3)}else{var p=I.$.slice(0),j=I.$.slice(0);for(var T=0;T<l;T++){for(var o=1;o<h-1;o++)for(var H=1;
H<F-1;H++){var R=o*N.e+H,V=p[R];if(p[R-F]!=V||p[R-1]!=V||p[R+1]!=V||p[R+F]!=V)j[R]=128;else j[R]=V}var E=p;
p=j;j=E}P=w.Tk.Tk(N,e,p,20,!1)}}}else{P=e.slice(0);w.vr(O,P,3)}for(var R=3;R<P.length;R+=4)if(P[R]>e[R])P[R]=e[R];
if(N.cj(r.rect))r.oO=P;else w.L3(P,N,r.oO,r.rect);this.a1c();if(m)alert(m,4e3)};ae.prototype.ahw=function(r){var N=this.Ua,F=N.my;
w.L3(N.iS,N.rect,N.xK,N.rect,F,!0);var h=N.Uw;if(this.SN==1){var m=new Uint32Array(256);m[0]=4278190335;
m[255]=4278255360;var O=N.rect.W();h=h.slice(0);var e=new Uint32Array(h.buffer);for(var R=0;R<O;R+=2){e[R]=m[e[R]&255];
e[R+1]=m[e[R+1]&255]}}w.i.vw("norm",h,N.rect,N.xK,N.rect,F,.3);this.ay.b([{I0:N.rect,data:N.xK.buffer}])};
ae.prototype.a1c=function(r){var N=this.Ua;w.T1(N.g7,[0,4294967295,4278190080][this.GC.k()]);w.i.vw("norm",N.oO,N.rect,N.g7,N.rect,N.rect,1);
this.BL.b([{I0:N.rect,data:N.g7.buffer}])};ae.prototype.nW=function(r){var N=this.Ec,F=this.Ua,h=this.QO.k(),m=N.g[N.w[0]],O=new gf(v.E.u,!0);
O.pR=!0;var e=m.rect.clone();if(h==0&&m.gv()||h!=0&&!m.gv()){O.s=z.j7;O.data={V:C.FV,a:N.w[0]};this.L(O)}if(N.$!=null){O.s=z.Ns;
O.data={V:"fromAction",T5:z.Yi.JK()};this.L(O)}if(h==0){var P=N.g.slice(0),B=N.lc();B.a6(m.getName());
P.splice(N.w[0]+1,0,B);B.rect=e;B.buffer=F.oO;B.M();O.s=z.j7;O.data={V:C.l5,Yb:P,xF:[N.w[0]+1],Py:[7,11]};
this.L(O)}if(h==1){var s=m.$n();O.s=z.j7;O.data={V:C.h1,a9W:!0};this.L(O);var Y=m.$n();Y.channel=w.B(e.W());
Y.rect=e;Y.color=0;Y.ug=!0;w.Pw(F.oO,Y.channel,3);if(s){var D=Y.u8(s);Y.rect=D.rect;Y.channel=D.channel;
Y.color=D.color}Y.RR();m.dD()}if(h==2){var c={rect:e,channel:w.B(e.W())};w.Pw(F.oO,c.channel,3);O.s=z.Ns;
O.data={V:"setsel",$:c,Py:this.LJ};this.L(O)}this.close()};function hY(){hs.call(this,[1,13],"locstor");
this.bX=null;this.yA=[];var r=this.body,N=W._("p");N.textContent="These files are loaded every time you start Photopea.";
r.appendChild(N);this.afY=0;this.bU=W._("span");r.appendChild(this.bU);this.bU.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var F=W._("span","form");r.appendChild(F);this._7=new d_([5,4],!1,null,!0);this._7.U("click",this.Cj,this);
F.appendChild(this._7.m);this.auT=new d_("Get all as ZIP",!1,null,!0);this.auT.U("click",this.Gy,this);
F.appendChild(this.auT.m);this.ui=new hg(!0);this.ui.parent=this;this.ui.Kj(1);r.appendChild(this.ui.m);
this.ui.m.setAttribute("style","width: 40em; height: 25em")}hY.prototype=new hs;hY.prototype.f=function(){hs.prototype.f.call(this);
this.bU.textContent=ab.get([13,2])+": "+iX.UP(this.afY);this._7.f()};hY.prototype.Qr=function(r,N){this.bX=r;
if(N==bC.pN)this.w0()};hY.prototype.w0=function(r,N){var F=this.bX.Hw.Ik,B=0;this.yA=[];for(var h in F)this.yA.push(h);
this.yA.sort(function(Y,D){Y=Y.split(".");D=D.split(".");return Y[1]==D[1]?Y[0]<D[0]?-1:1:Y[1]<D[1]?-1:1});
var m=Math.floor(100*W.G()),O=Math.floor(16*W.G()),e=[],P=[];for(var R=0;R<this.yA.length;R++){var h=this.yA[R],s=hY.e9(h,F[h],m,O);
e.push(s);P.push(h);B+=F[h].byteLength}this.ui.IS(e,P,m,O);this.afY=B;this.f()};hY.prototype.Cj=function(r){var N=this.ui.k();
if(N.length==0){alert("Select a file first.");return}this.ui.b([]);var F=this.bX.Hw.Ik;for(var R=0;R<N.length;
R++)delete F[this.yA[N[R]]];var h=new gf(v.E.S,!0);h.data={V:v.c.nM,Xa:bC.pN};this.L(h)};hY.prototype.Gy=function(r){var N=this.bX.Hw.Ik,F={};
for(var h in N)F[h]=new Uint8Array(N[h]);var m=UZIP.encode(F);eu.save(m,"resources.zip")};hY.e9=function(r,N,F,h){var m=W._("canvas"),P=0;
m.width=F;m.height=h;var O=m.getContext("2d"),e=r.split(".").pop().toLowerCase();for(var R=0;R<e.length;
R++)P+=e.charCodeAt(R)*613<<8*R;O.fillStyle="#"+w.GG(P&16777215);O.fillRect(0,0,20,h);var B=Math.floor(14*W.G());
O.fillStyle="#000000";O.font="bold "+B+"px sans-serif";var s=(h-B)/2,Y=iX.UP(N.byteLength),D=O.measureText(Y);
O.fillText(Y,F-12-D.width,h-s);return m.toDataURL()};function fl(){hs.call(this,[1,15],"pmanager");this.bX=null;
this.Ol=new b2([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.Ol.U(v.E.o,this.w0,this);
this.body.appendChild(this.Ol.m);var r=W._("div","flexrow");this.body.appendChild(r);var N=this.a20=W._("div");
r.appendChild(N);var F=W._("div","form");r.appendChild(F);F.setAttribute("style","width:140px; margin-left:12px");
this.alT=[bC.D$,bC.Hp,bC.nA,bC.zU,bC.Td,bC.Rt];this.JU=[new ex,new c$,new j7,new j3,new ag,new iM];for(var R=0;
R<this.JU.length;R++)this.JU[R].parent=this;this.vW=[];for(var R=0;R<4;R++){var h=new d_("Hello",!0,null,!0);
h.U("click",this.dz,this);this.vW.push(h);F.appendChild(h.m)}this.w0()}fl.prototype=new hs;fl.prototype.Zk=function(r){return r==bh.Am||r==bh.Lu};
fl.prototype.dz=function(r){var R=this.vW.indexOf(r.target);this.JU[this.Ol.k()].z1(R)};fl.prototype.f=function(){hs.prototype.f.call(this);
this.Ol.f();for(var R=0;R<this.JU.length;R++)this.JU[R].f();var r=this.vW,N=this.Ol.k(),F=bC.Hx[this.alT[N]],h=F[0].toUpperCase();
r[0].o6([[23,6],"."+h]);r[1].o6(["VAR0 ."+h,[1,8]]);r[2].o6([6,37]);r[3].o6([5,4])};fl.prototype.Qr=function(r,N){this.bX=r;
this.w0()};fl.prototype.w0=function(r,N){if(!W.Xs(this.m))return;this.f();W.Tg(this.a20);this.a20.appendChild(this.JU[this.Ol.k()].GR);
var F=this.JU,h=this.bX;if(h==null)return;F[0].Wl(h.nd);F[1].KV(h.Fp,h.lo);F[1].Wl(h.pB);F[2].Wl(h.X5);
F[3].Wl([h.oB,h.X5]);F[4].Wl(h.Ko);F[5].Wl(h.Ge)};function jq(r,N,F){hs.call(this,N,"cwindow");this.an5=new gS(F[0],F[1]-33);
this.iv=W._("div","form");this.iv.setAttribute("style","width:"+(F[2]-F[0])+"px; height:"+(F[3]-F[1])+"px");
this.body.appendChild(this.iv)}jq.prototype=new hs;jq.prototype.md=function(r,N){return this.an5.clone()};
function ho(){hs.call(this,["PSD VAR0",[25,0]],"templates");this.abG=null;this.H9=null;this.wu=0;this.jn=null;
this.body.setAttribute("style","padding:0");this.Mh=new d_("Add Templates",null,null,!0);this.body.appendChild(this.Mh.m);
this.Mh.U("click",this.arh,this);this.Mh.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a2C=new d_("New Template",null,null,!0);this.a2C.U("click",this.a2Z,this);this.apR=new d_("Upload Current Document as a Template",null,null,!0);
this.apR.U("click",this.abd,this);this.ix=W._("iframe","scrollable");this.ix.setAttribute("style","border:none; margin:0; padding:0;");
this.sy=W._("div","form scrollable padded");this.M0=W._("div","form scrollable padded label12");var r=[],N=ho.eC;
this.qF=[];for(var F in N){var h=parseInt(F.slice(1)),m=h%10==0?"":"\u2800\u2800- ";r.push(m+N[F]);this.qF.push(h)}this.Sl=[new g8("Name",null,30),new g8("Description",null,30,4),new g8("File"," www.Photopea.com#i...",17),new g8("Thumbnail URL","* Use Imgur.com etc.",17),new b2("Category",r),new d_("<< Back",null,null,!0),new d_("Save",null,null,!0),new bB("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new bB("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var R=0;R<this.Sl.length;R++){var O=this.Sl[R];this.M0.appendChild(O.m);O.parent=this;if(R!=5)W.ke(this.M0);
if(O instanceof d_)O.U("click",this.a1E,this)}this.body.appendChild(this.ix)}ho.prototype=new hs;ho.prototype.md=function(r,N){return new gS(0,0)};
ho.prototype.bh=function(r,N){this.YW=r;this.Nf=N;this.pZ=null;N=N-4;r=r;var F=this.sy;F.style.width=r-12+"px";
F.style.height=N-12+"px";var F=this.M0;F.style.width=r-12+"px";F.style.height=N-12+"px";var F=this.ix;
F.style.width=r+"px";F.style.height=N+"px";this.Th()};ho.prototype.f=function(){hs.prototype.f.call(this)};
ho.prototype.w0=function(r,N,F,h){this.pZ=r;this.arh(null,!1)};ho.prototype.arh=function(r,N){var F=N!=null?N:W.Xs(this.ix);
if(F){if(!ey.BR()){alert("You need to log in first!");return}var h=ey.FF();this.H9=h.tpl?h.tpl.list:[];
this.Th()}else{this.ix.setAttribute("src","");this.ix.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(F?this.sy:this.ix);this.Mh.o6(F?"All Templates":"Add Templates")};ho.prototype.Th=function(){var r=this.H9,O=450;
if(r==null)return;var N=this.sy;W.Tg(N);var F=W._("h1");N.appendChild(F);F.textContent="Share your PSD templates with the world!";
var h=W._("ul");N.appendChild(h);var m=W._("li");h.appendChild(m);m.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var m=W._("li");h.appendChild(m);m.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
N.appendChild(this.a2C.m);N.appendChild(this.apR.m);W.ke(N);O=(this.YW-20)/Math.max(1,Math.floor(this.YW/O))-42;
var e="display:inline-block; width:"+O+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var R=r.length-1;R>=0;R--){var P=r[R],B=W._("div");N.appendChild(B);B.setAttribute("style",e);var s=W._("img");
B.appendChild(s);s.setAttribute("src",P.thmb);s.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var Y=W._("h3");B.appendChild(Y);Y.textContent=P.name;Y.setAttribute("style","margin:0 0 10px 0");var D=W._("p");
B.appendChild(D);D.textContent=P.desc;D.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var c=0;c<2;c++){var o=new d_(c==0?"Edit":"Delete",null,null,!0);o.ase=R;o.v7=c==0;o.U("click",this.acI,this);
B.appendChild(o.m)}}};ho.prototype.abd=function(r){if(this.pZ==null){alert("No document opened.");return}var N=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!N)return;var F=new gf(v.E.S,!0);F.data={V:v.c.so,Rr:"psd",Fb:this.agx.bind(this)};this.L(F)};ho.prototype.agx=function(r){this.abG=r;
var N=new gf(v.E.S,!0);N.data={V:v.c.so,Rr:"jpg",Fb:this.ag2.bind(this),a55:1400};this.L(N)};ho.prototype.ag2=function(r){this.jn={catg:0,desc:"",file:this.abG.split("#i").pop(),name:this.pZ.name.split(".")[0],thmb:r,utme:""};
this.v7()};ho.prototype.a2Z=function(r){this.jn={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.v7()};
ho.prototype.acI=function(r){this.wu=r.target.ase;if(!r.target.v7){this.H9.splice(this.wu,1);this.Gy();
this.Th();return}this.v7()};ho.prototype.v7=function(){this.body.removeChild(this.sy);this.body.appendChild(this.M0);
var r=["name","desc","file","thmb"],N=this.jn?this.jn:this.H9[this.wu];for(var R=0;R<4;R++){var F=N[r[R]];
if(F!=""&&R==2)F="https://photopea.com#i"+F;this.Sl[R].b(F)}this.Sl[4].b(this.qF.indexOf(N.catg))};ho.prototype.a1E=function(r){if(this.Sl.indexOf(r.target)==6){var N=this.Sl[3].k().trim(),F=N.startsWith("http")&&(N.endsWith(".jpeg")||N.endsWith(".jpg")||N.endsWith(".png"));
if(!F){alert("Thumbnail URL is incorrect.");return}var h=new XMLHttpRequest,m=(N);
h.open("GET",m);h.responseType="arraybuffer";h.onload=this.aaV.bind(this);h.send()}else this.QU()};ho.prototype.aaV=function(r){var N=r.target.response,F=N.byteLength;
if(F>2e5){alert("Thumbnail is too large ("+iX.UP(F)+"). Make it under 200 kB.");return}var h=["name","desc","file","thmb"],m=this.jn?this.jn:this.H9[this.wu];
for(var R=0;R<4;R++){var O=this.Sl[R].k().trim();if(O.length==0){alert("One of values is empty.");return}if(R==2){var e=O.split("#i");
if(e.length!=2||e[1].length!=8){alert("File ID is incorrect.");return}O=e.pop()}m[h[R]]=O}m.catg=this.qF[this.Sl[4].k()];
if(m.utme.length==0)m.utme=""+Math.round(Date.now()/1e3);if(this.jn)this.H9.push(this.jn);this.Gy();
this.QU()};ho.prototype.QU=function(){this.jn=null;this.body.removeChild(this.M0);this.body.appendChild(this.sy);
this.Th()};ho.prototype.Gy=function(){var r=ey.FF();if(this.H9.length==0)delete r.tpl;else r.tpl={list:JSON.parse(JSON.stringify(this.H9))};
ey.Iu(r,function(){alert("Saved.")})};ho.eC={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function bP(){hs.call(this,"Make Selection","makesel");this.bX=null;var r=W._("div","form");this.body.appendChild(r);
this.BX=new bf([12,25,1]);this.BX.b(!0);r.appendChild(this.BX.m);W.ke(r);this.LC=new cQ(!0);r.appendChild(this.LC.m);
this.Fw=W.a1(this,this.body)}bP.prototype=new hs;bP.prototype.f=function(){hs.prototype.f.call(this);
this.LC.f();this.BX.f();this.Fw.f()};bP.prototype.nW=function(r){var N=new gf(v.E.u,!0);N.s=z.Ns;N.data={V:"frompath",Fs:[null,0,this.LC.k(),!this.BX.k()]};
this.close();this.L(N)};function b6(){hs.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.pZ=null;this.JT=null;
this.sU=null;var r=this.a3e=W._("div","form");r.setAttribute("style","width:20em");this.body.appendChild(r);
this.bC=new ch([12,50],["PSD","PSB"]);this.bC.U(v.E.o,this.KU,this);r.appendChild(this.bC.m);W.oL(r);
var N=new bB("Minify the file");r.appendChild(N.m);W.ke(r);var F=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Te=[];for(var R=0;R<F.length;R++){var h=new bf(F[R]);this.Te.push(h);r.appendChild(h.m);h.U(v.E.o,this.KU,this)}W.oL(r);
this.mH=new bB("aa.psd");this.XO=new bB("10 kB");r.appendChild(this.XO.m);this.ati=new bB("1000 B");
r.appendChild(this.ati.m);this.Fw=new d_([1,2],!0,null,!0);this.Fw.U("click",this.nW,this);r.appendChild(this.Fw.m);
this.wC=new d_(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.wC.U("click",this.nW,this);r.appendChild(this.wC.m);
this.U("closebtn",this.ut,this)}b6.prototype=new hs;b6.prototype.w0=function(r,N,F,h){var m=W.Xs(this.wC.m),O=r.SR!=null&&r.SR.uE=="psd";
if(O&&!m)this.a3e.appendChild(this.wC.m);if(!O&&m)this.a3e.removeChild(this.wC.m);for(var R=0;R<this.Te.length;
R++)this.Te[R].b(!1);this.pZ=r;this.KU()};b6.prototype.nW=function(r){if(r.target==this.Fw)eu.save(this.JT,this.sU);
else{if(this.Te[3].k()){alert("You should not save a ZIP as a PSD to Google Drive.");return}ea.auj(this.pZ,this.JT)}};
b6.prototype.ut=function(){this.pZ=null;this.JT=null};b6.prototype.KU=function(){var r=this.pZ,N=[!1,!1,!1,!1];
for(var R=0;R<3;R++)N[R]=this.Te[R].k();var F=this.Te[3].k(),h=N[3]=this.bC.k()==1,m=r.name.slice(0,r.name.length-3),O=this.JT=bA.yU("PSD").xs(r,0,0,N),j_=this.sU=m+"ps"+(h?"b":"d");
if(F){var e={};e[j_]=new Uint8Array(O);O=this.JT=UZIP.encode(e);j_=this.sU=m+"zip"}this.mH.b(j_);this.XO.b(iX.UP(O.byteLength));
this.XO.m.style["font-size"]="2em";this.ati.b(" \u2001 "+O.byteLength+" B");this.Fw.o6(ab.get([1,2])+" \""+j_+"\"")};
b6.prototype.f=function(){hs.prototype.f.call(this);this.Fw.f();this.wC.f()};function ep(){hs.call(this,"Confirm","confirm");
this.q3=null;var r=W._("div","form");this.body.appendChild(r);this.IQ=W._("div");this.IQ.textContent="Hello";
r.appendChild(this.IQ);this.Fw=W.a1(this,r);r.appendChild(this.Fw.m)}ep.prototype=new hs;ep.prototype.nW=function(r){this.q3();
this.close()};ep.prototype.w0=function(r,N){this.IQ.textContent=N.h;this.q3=N.q3};ep.prototype.md=function(r,N){return new gS(Math.max(0,(r-500)/2),Math.max(0,Math.min(60,(N-100)/2)))};
ep.prototype.bh=function(r,N){this.IQ.style.width=r-30+"px"};function a1(){hs.call(this,[1,16,2],"newartb");
this.SN=0;this.dJ=null;var r=W._("div","form");r.style.width="260px";this.body.appendChild(r);this.ui=new i8;
r.appendChild(this.ui.m);this.Fw=W.a1(this,r)}a1.prototype=new hs;a1.prototype.Nz=function(r,N){return r!=null};
a1.prototype.nW=function(r){var N=this.ui.k();this.dJ.e=N.x;this.dJ.n=N.y;var F=new gf(v.E.u,!0);F.s=z.Pl;
F.data={a5Z:this.dJ,j4:this.SN};this.L(F);this.close()};a1.prototype.f=function(){hs.prototype.f.call(this);
this.ui.f();this.Fw.f()};a1.prototype.w0=function(r,N){this.SN=N.j4;var F=new fE(0,0,r.e,r.n);if(r.w.length!=0){var h=r.g[r.w[0]];
if(h.add.artb){F=h.CN();F.x+=F.e+100}if(N.j4==1)F=z.Q.Tm(r)}this.dJ=F;this.ui.b(new gS(F.e,F.n))};function aW(){hs.call(this,"Intro","intro");
this.body.setAttribute("style","padding:0");this.ca=new aL;this.ca.parent=this;this.body.appendChild(this.ca.m)}aW.prototype=new hs;
aW.prototype.md=function(r,N){return new gS(0,0)};aW.prototype.bh=function(r,N){this.ca.bh(r,N)};aW.prototype.f=function(){};
function gt(r,N,F,h){jZ.call(this);this.name=r;this.aaj=F;this.gR=h;this.KR=W._("div","");this.KR.setAttribute("draggable","true");
this.go=W._("div","pbody");this.uF=new d_("",!1,"");this.uF.parent=this;this.at9=W._("span","cross");
this.PX=W._("span","label");var m=this.am0.bind(this);this.KR.addEventListener("mousedown",this.a3c.bind(this),!1);
this.KR.addEventListener("contextmenu",m,!1);this.uF.m.addEventListener("contextmenu",m,!1);this.at9.addEventListener("mousedown",this.QZ.bind(this),!1);
this.KR.appendChild(this.PX);if(N)this.KR.appendChild(this.at9);this.pv=!1;this.wK=new f8([{name:[1,12,0]}]);
this.wK.U("select",this.QZ,this);this.PX.textContent=r}gt.prototype=new jZ;gt.prototype.Y2=function(){return null};
gt.prototype.f=function(){var r=ab.get(this.name),N=this.YW==0?22:Math.round(2+this.YW/50),F=r.length>N;
this.PX.textContent=F?r.slice(0,N-2):r;if(F)for(var h=0;h<2;h++){var m=W._("span");m.textContent=r.charAt(N-2+h);
m.setAttribute("style","opacity:"+(.6-h*.4));this.PX.appendChild(m)}var O=r.split(" "),e=O.length==2?O[0].substring(0,2)+O[1][0]:r.substring(0,3);
if(e.charCodeAt(0)>=11776)e=e.substring(0,1);var P=this.aaj;if(P==null)this.uF.o6(e,r);else{var B;if(P.startsWith("---"))B="<img src=\""+PIMG[P.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(P.startsWith("==="))B="<img src=\""+P.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(P.indexOf("\"")==-1)B="<img src=\""+P+"\" alt=\""+r+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.uF.o6(B,r)}};gt.prototype.enable=function(){this.go.setAttribute("class","pbody")};gt.prototype.disable=function(){this.go.setAttribute("class","pbody disabled")};
gt.prototype.Qr=function(r,N){};gt.prototype.w0=function(r,N,F){};gt.prototype.ic=function(r){};gt.prototype.bh=function(r,N){};
gt.prototype.DP=function(r){this.name=r;this.f()};gt.prototype.DH=function(){};gt.prototype.a3c=function(r){if(r.button==0)this.L(new gf("select",!1))};
gt.prototype.am0=function(r){W.o8(r);if(this.gR!=null&&isNaN(this.gR))return;var N=W.or(r,document.body),F=this.wK;
F.update(null);F.f();F.parent=this;var h=new gf(v.E.S,!0);h.data={V:v.c.hN,f3:F,x:N.x+1,y:N.y+1};this.L(h)};
gt.prototype.NS=function(){this.QZ({})};gt.prototype.QZ=function(r){if(r.stopPropagation)r.stopPropagation();
if(this.gR!=null&&!isNaN(this.gR)){var N=new gf(v.E.S,!0);N.data={V:v.c.sc,f3:this.wK};this.L(N);N.data={V:v.c.nM,Xa:bC.mu,h:parseFloat(this.gR),oJ:"del"};
this.L(N)}else if(this.a5E())this.L(new gf(v.E.zq,!1))};gt.prototype.a5E=function(r){return!0};gt.prototype.vV=function(r,N,F,h,m){};
gt.prototype.Ui=function(r,N,F,h,m){};gt.prototype.wJ=function(r,N,F,h,m){};gt.XN=function(r,N){if(r.childElementCount!=0)return;
var F=r.textContent;this.X9=this.aq7.bind(this);this.a0b=this.a0d.bind(this);this.bk=N;this.FH=r;this.a4a=F;
var h=W._("input","");h.setAttribute("type","text");h.setAttribute("size","10");h.setAttribute("value",F);
W.Tg(r);r.appendChild(h);h.select();h.focus();W.uJ(r);r.addEventListener("keyup",this.X9,!1);document.body.addEventListener("mousedown",this.a0b,!1)};
gt.XN.prototype.aq7=function(r){var N=bh.A7,F=N(r.code,bh.Ve);if(N(r.code,bh.R_)||F)this.anZ(F)};gt.XN.prototype.a0d=function(r){var N=r.target;
if(N.tagName&&N.tagName.toLowerCase()=="input")return;this.anZ(!0)};gt.XN.prototype.anZ=function(r){var N=this.FH,F=N.firstChild.value;
N.removeEventListener("keyup",this.X9);document.body.removeEventListener("mousedown",this.a0b);if(r&&F!=""&&F!=this.a4a){this.bk(F)}else{W.Tg(N);
N.textContent=this.a4a}};gt.A4={Fr:"0",a0O:"1",j7:"2",a11:"3",at0:"4",OV:"5",CSS:"6",D$:"7",a4S:"8",afr:"9",a0g:"10",ahN:"11",a0x:"12",gU:"13",Sc:"14",a9j:"15",arZ:"16",mC:"17",ak8:"18",aij:"19",akp:"20",zU:"21",amH:"22"};
function cH(){gt.call(this,[9,9],!1,"---panels/actions",gt.A4.ahN);this.bX=null;this.MP=[0,0];this.mW=W._("div","padded scrollable");
this.mW.setAttribute("style","width:260px;  height:260px");this.go.appendChild(this.mW);this.U(v.E.o,this.Ey,this);
this.hs=W._("div","lpfoot");this.go.appendChild(this.hs);this.JU=[];var r="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",N="</svg>",F=r+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+N,h=r+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+N;
this.ahl=r+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+N;this.a9I=r+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+N;
var m=[this.ahl,h,"lrs/folder","lrs/newlayer","lrs/bin",F],O=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var R=0;R<m.length;R++){var e=m[R];if(1<R&&R!=m.length-1)e="<img src=\""+PIMG[m[R]]+"\" class=\"gsicon\" />";
var P=new d_(e,!1,O[R]);P.U("click",this.a2h,this);this.hs.appendChild(P.m);this.JU.push(P)}}cH.prototype=new gt("");
cH.prototype.f=function(){gt.prototype.f.call(this);for(var R=0;R<this.JU.length;R++)this.JU[R].f()};
cH.prototype.a2h=function(r){var R=this.JU.indexOf(r.currentTarget),N=this.MP,F=this.bX,h=F.pA;if(R==0){var m,O=F.vF;
if(h.length==0){alert("Create an Action Set first.");return}if(N.length<2){alert("Select a target action first.");
return}if(O==null){m=this.a9I;O=this.MP}else{m=this.ahl;O=null}this.JU[0].o6(m);F.vF=O}else if(R==1)this.aow();
else if(R==2||R==3){var e={Py:"Action Set "+h.length,Yg:[],exp:!0};if(R==2||h.length==0){N=[h.length];
h.push(e)}if(R==3){var P=h[N[0]].Yg;N=[N[0],P.length];P.push({Py:"Action "+P.length,color:0,Yg:[],anX:!1,shift:!1,exp:!0,Jz:P.length})}this.MP=N;
this.Fm()}else if(R==4){var B;if(N.length==1)B=h;else if(N.length==2)B=h[N[0]].Yg;else B=h[N[0]].Yg[N[1]].Yg;
var s=N.length-1;B.splice(N[s],1);if(B.length==0)N.pop();else while(N[s]>=B.length)N[s]--;if(N.length==0)N.push(0);
this.Fm()}else if(R==5){if(h.length==0){alert("No Actions Present.");return}var Y=new gf(v.E.S,!0);Y.data={V:v.c.KL,afi:bC.u,Xx:N[0]};
this.L(Y)}};cH.prototype.Ey=function(r){var N=this.bX.pA,F=r.data.V,h=r.data._y;if(F=="sel")this.MP=h;
if(F=="fold"){if(h.length==1)N[h[0]].exp=!N[h[0]].exp;else N[h[0]].Yg[h[1]].exp=!N[h[0]].Yg[h[1]].exp}if(F=="enab"){var m=N[h[0]].Yg[h[1]].Yg[h[2]];
m.I=!m.I}if(F=="nchange"){if(h.length==1)N[h[0]].Py=r.data.yB;else N[h[0]].Yg[h[1]].Py=r.data.yB}this.Fm()};
cH.prototype.Qr=function(r,N){this.bX=r;if(N==bC.u||N==bC.ge)this.Fm()};cH.prototype.Fm=function(){if(this.bX==null)return;
W.Tg(this.mW);var r=this.bX.pA;if(r.length==0)return;var N=JSON.stringify(this.MP);for(var R=0;R<r.length;
R++){var F=r[R],h=new cH.yb([R],N,F.exp,F.Py.split("=").pop());h.parent=this;this.mW.appendChild(h.m);
if(!F.exp)continue;for(var m=0;m<F.Yg.length;m++){var O=F.Yg[m],h=new cH.yb([R,m],N,O.exp,O.Py.split("=").pop());
h.parent=this;this.mW.appendChild(h.m);if(!O.exp)continue;for(var e=0;e<O.Yg.length;e++){var P=O.Yg[e],h=new cH.yb([R,m,e],N,null,ab.get(fq.akJ(P)),P.I);
h.parent=this;this.mW.appendChild(h.m)}}}};cH.prototype.aow=function(){var r=this.bX.pA,N=this.MP;if(r.length==0){alert("No Actions Present");
return}if(N.length==1){alert("Select an Action first");return}if(this.bX.vF!=null){alert("You can not apply actions while recording actions");
return}if(N.length==1)N.push(0);var F=r[N[0]],h=F.Yg[N[1]],m=new gf(v.E.S,!0);m.data={V:v.c.KY,Fs:[h.Py,F.Py]};
this.L(m)};cH.yb=function(r,N,F,h,m){jZ.call(this);this._y=r;var O=this._y.length-1;this.m=W._("div","layeritem"+(JSON.stringify(r)==N?" selected":""));
this.yx=W._("div","head");this.m.appendChild(this.yx);this.yx.setAttribute("style","height:24px");this.X6=W._("div","headL");
this.yx.appendChild(this.X6);if(O!=0){var e=W._("div");e.style.width=O*20+"px";this.X6.appendChild(e)}if(F!=null){var P=this.atJ=W._("div",F?"open":"closed");
this.X6.appendChild(P)}else{var B=this.amg=W._("div","cmark");B.setAttribute("style","background-size:12px 12px; opacity:"+(m?1:.3));
this.X6.appendChild(B)}if(O==0){var s=W._("div","folder");this.X6.appendChild(s)}var Y=this.PX=W._("div","label");
Y.textContent=h;this.X6.appendChild(Y);this.m.addEventListener("mouseup",this.FB.bind(this),!1)};cH.yb.prototype=new jZ;
cH.yb.prototype.FB=function(r){if(r.detail==1&&r.target.tagName.toLowerCase()!="input"){var N="sel";
if(r.target==this.atJ)N="fold";if(r.target==this.amg)N="enab";var F=new gf(v.E.o,!0);F.data={V:N,_y:this._y};
this.L(F)}else if(this._y.length<3)var h=new gt.XN(this.PX,this.bk.bind(this))};cH.yb.prototype.bk=function(r){var N=new gf(v.E.o,!0);
N.data={V:"nchange",yB:r,_y:this._y};this.L(N)};function f6(){gt.call(this,[3],!1,"---lrs/adj",gt.A4.ak8);
this.go.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.JU=[];var R=0;
for(var r in gn.names){var N=new d_("<img src=\""+PIMG["adj/"+r]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,gn.names[r]);
N.U("click",this.a7u,this);this.JU.push(N);this.go.appendChild(N.m);if(R==4||R==10)W.ke(this.go);R++}}f6.prototype=new gt("");
f6.prototype.f=function(){gt.prototype.f.call(this);for(var R=0;R<this.JU.length;R++)this.JU[R].f()};
f6.prototype.a7u=function(r){var N=this.JU.indexOf(r.target),F=eY.vC()[N],h=new gf(F.T,!0);h.data=F.R;
this.L(h)};function jT(){gt.call(this,[12,22],!1,null,gt.A4.zU);this.mW=W._("div","padded");this.go.appendChild(this.mW);
this.Ap=new j3(null,17.7,10);this.Ap.parent=this;this.Ap.U(v.E.o,this.qK,this);this.mW.appendChild(this.Ap.GR)}jT.prototype=new gt("");
jT.prototype.qK=function(r){var N=this.Ap.k(),F=new gf(v.E.u,!0);F.data={V:"setstl",h:N.ks};F.s=z.Nq;
this.L(F);F.data={V:"confirm"};this.L(F)};jT.prototype.Qr=function(r,N){if(N==bC.zU||N==bC.ge){this.Ap.Wl([r.oB,r.X5])}};
var e1=function(){function r(){gt.call(this,[9,3],!1,"---panels/brush",gt.A4.D$);this.RE=null;this.bX=null}r.prototype=new gt("");
r.prototype.rn=function(){var h=W._("div","");this.go.appendChild(h);this.k$=W._("div","bordered cell");
this.k$.setAttribute("style","width:10em; height:28.5em;");h.appendChild(this.k$);this.cp=[];this.TH=null;
this.L9=[];var m=this.api.bind(this);this.Fd=[new N("basic"),new N("useTipDynamics"),new N("useScatter"),new N("useColorDynamics"),new N("usePaintDynamics")];
for(var R=0;R<this.Fd.length;R++){var O=W._("div","listitem"),e=this.Fd[R],B=null;e.parent=this;e.U("brushchange",this.asY,this);
var P=e.ii;if(R==0){this.TH=new bB(P);O.appendChild(this.TH.m)}else{B=new bf(P,!1);B.U(v.E.o,this.asR,this);
O.appendChild(B.m)}this.L9.push(B);this.k$.appendChild(O);this.cp.push(O);O.addEventListener("click",m,!1)}this.nX=W._("div","cell padded");
h.appendChild(this.nX);this.setItem(0);this.D=W._("canvas");this.D.height=10;h.appendChild(this.D);this.Az=this.D.getContext("2d");
this.xb()};r.prototype.bh=function(h,m){if(this.YW==h)return;this.YW=h;this.Nf=m;this.xb()};r.prototype.DH=function(){if(!W.Xs(this.go))return;
if(this.k$){this.xb();return}this.rn();this.f();this.Qr(this.bX,bC.ge)};r.prototype.f=function(){gt.prototype.f.call(this);
if(this.k$==null)return;this.TH.f();for(var R=1;R<this.L9.length;R++)this.L9[R].f();for(var R=0;R<this.Fd.length;
R++)this.Fd[R].f()};r.prototype.asY=function(h){var m=this.Fd.indexOf(h.currentTarget),O=JSON.parse(JSON.stringify(this.Fd[m].RE)),e=new gf(v.E.S,!0);
e.data={V:v.c.nM,Xa:bC.V_,RE:O};this.L(e)};r.prototype.asR=function(h){this.ak6(this.L9.indexOf(h.currentTarget),h.currentTarget.Zv())};
r.prototype.api=function(h){var R=this.cp.indexOf(h.currentTarget);if(h.target.tagName.toLowerCase()=="input")return;
if(this.L9[R]&&!this.L9[R].Zv()){this.L9[R].D2();this.ak6(R,!0)}this.setItem(R)};r.prototype.ak6=function(h,m){this.Fd[h].ao_(m)};
r.prototype.setItem=function(h){for(var R=0;R<this.Fd.length;R++)this.cp[R].setAttribute("class","listitem");
if(this.nX.firstChild)this.nX.removeChild(this.nX.firstChild);this.cp[h].setAttribute("class","listitem selected");
this.nX.appendChild(this.Fd[h].m)};r.prototype.Qr=function(h,m){this.bX=h;if(this.k$==null)return;for(var R=0;
R<this.Fd.length;R++)this.Fd[R].Qr(h,m);if(m==bC.V_||m==bC.ge){this.RE=h.nd.B1;this.xb()}if(m==bC.gU)this.xb()};
r.prototype.xb=function(){if(this.RE)this.enable();else{this.disable();return}if(!W.Xs(this.go))return;
var h=this.bX;for(var R=0;R<this.Fd.length;R++){this.Fd[R].b(this.RE);if(this.L9[R])this.L9[R].b(this.Fd[R].Zv())}var m=JSON.parse(JSON.stringify(this.RE));
m.Brsh.v.Dmtr.v.val=Math.min(m.Brsh.v.Dmtr.v.val,50);W.Pf(this.D,this.YW,80);var O=new fE(0,0,this.D.width,this.D.height),e=this.bX.nd,P=new hy(m,e?e.lZ:null,e?e.ki:null,{tM:1},h.Fp,h.lo,O,null,0),B=O.n/2,s=O.e-B*2;
P.moveTo(B,B);for(var R=0;R<=s;R+=10)P.lineTo(B+R,B+20*Math.sin(2*Math.PI*R/s));P.finish();var Y=this.Az.createImageData(O.e,O.n);
w.L3(P.XW(),P.Tm(),Y.data,O);this.Az.putImageData(Y,0,0)};function N(h){jZ.call(this);this.m=W._("div");
this.RE=null;var m=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(h);
this.ii=[[15,0],[15,1],[15,2],[15,3],"Transfer"][m];this.SN=h;this.lg={};this.a6k=null;var O=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","prVr.jitter"]][m];
for(var R=0;R<O.length;R++){var e=O[R],P;if(e=="--br"){P=new ex;this.m.appendChild(P.GR.firstChild)}else if(e=="Brsh.Dmtr")P=new d5([12,14,0],1,1e3," px",0,!0);
else if(e=="Brsh.Angl")P=new d5([12,15],0,359," \xB0");else if(e=="Brsh.Rndn")P=new d5([12,16],0,100," %");
else if(e=="Brsh.Hrdn")P=new d5([12,17],0,100," %");else if(e=="Brsh.Spcn")P=new d5([12,18],1,300," %");
else if(e=="szVr.jitter")P=new d5([15,4,0],0,100,"%");else if(e=="minimumDiameter")P=new d5([15,4,1],0,100,"%");
else if(e=="angleDynamics.jitter")P=new d5([15,4,2],0,100,"%");else if(e=="angleDynamics.bVTy")P=new b2("Control",["Off","Direction"]);
else if(e=="roundnessDynamics.jitter")P=new d5([15,4,3],0,100,"%");else if(e=="minimumRoundness")P=new d5([15,4,4],1,100,"%");
else if(e=="scatterDynamics.jitter")P=new d5([15,5,0],0,1e3," %");else if(e=="Cnt")P=new d5([15,5,1],1,20);
else if(e=="countDynamics.jitter")P=new d5([15,5,2],0,100," %");else if(e=="clVr.jitter")P=new d5([15,6,0],0,100," %");
else if(e=="H")P=new d5([15,6,1],0,100," %");else if(e=="Strt")P=new d5([15,6,2],0,100," %");else if(e=="Brgh")P=new d5([15,6,3],0,100," %");
else if(e=="opVr.jitter")P=new d5("Opacity Jitter",0,100," %");else if(e=="prVr.jitter")P=new d5("Flow Jitter",0,100," %");
else throw e;this.lg[e]=P;P.parent=this;P.U(v.E.o,this.g0,this)}}N.prototype=new jZ;N.prototype.a19=function(){this.L(new gf("brushchange"))};
N.prototype.b=function(h){this.RE=JSON.parse(JSON.stringify(h));this.m.setAttribute("class",this.Zv()?"":"disabled");
this.xb()};N.prototype.f=function(){for(var h in this.lg)this.lg[h].f()};N.prototype.Zv=function(){return!0};
N.prototype.Qr=function(h,m){if(m==bC.D$||m==bC.ge){var O=this.lg["--br"];if(O)O.Wl(h.nd)}};N.prototype.g0=function(h){var m=h.target,O=this.lg,e;
for(var P in O)if(O[P]==m)e=P;if(e=="--br"){var B=new gf(v.E.S,!0);B.data={V:v.c.nM,Xa:bC.V_,RE:m.k()};
this.L(B)}else{var s=F(this.RE,e),Y=m.k();if(s){if(e.endsWith("bVTy"))s.v=Y==0?0:6;else if(e=="Cnt")s.v=Y;
else s.v.val=Y;this.a19()}}};N.prototype.xb=function(){var h=this.RE,m=h.Brsh.v.classID,O=this.lg,e=m!=this.a6k;
this.a6k=m;if(e){W.Tg(this.m);for(var P in O){if(m!="computedBrush"&&m!="sampledBrush"&&P=="Brsh.Rndn")continue;
if(m!="computedBrush"&&P=="Brsh.Hrdn")continue;var B=O[P],s=B.m;if(P=="--br"){s=B.K9.m;s.style.width="auto"}this.m.appendChild(s)}}for(var P in O){if(P=="--br")continue;
var Y=F(h,P),D;if(Y){if(P.endsWith("bVTy"))D=Y.v==0?0:1;else if(P=="Cnt")D=Y.v;else D=Y.v.val;O[P].b(D)}}};
N.prototype.Zv=function(){var h=this.SN;return h=="basic"?!0:this.RE[h].v};N.prototype.ao_=function(h){var m=this.SN;
if(m=="basic")return;this.RE[m].v=h;bR.X2.a3W(this.RE);this.a19()};function F(h,m){var O=m.split(".");
h=h[O[0]];for(var R=1;R<O.length;R++){if(h==null)return h;h=h.v[O[R]]}return h}return r}();function fr(){gt.call(this,[9,0],!1,"---panels/history",gt.A4.Fr);
this.go.setAttribute("style","min-width:200px;");this.jY=W._("div","hpbody scrollable");this.jY.style.height="160px";
this.go.appendChild(this.jY);this.ais=-1;this.Ta=[];this.Gc="";this.bO=new f8([{name:"Clear History"}],[{T:v.E.u,s:z.Fr,R:{V:"h_clear"}}])}fr.prototype=new gt("");
fr.prototype.Y2=function(){return this.bO};fr.prototype.w0=function(r){if(r==null){W.Tg(this.jY);this.Gc="";
return}W.Tg(this.jY);var N=0;for(var R=0;R<r.history.length;R++)if(R<=r.oG&&!r.history[R].gJ)N=R;for(var R=0;
R<r.history.length;R++){var F=r.history[R];if(F.gJ)continue;var h=new h3(F,R,N);h.parent=this;this.jY.appendChild(h.m);
this.Ta.push(h)}if(r.oG==r.history.length-1)this.DH()};fr.prototype.DH=function(){this.jY.scrollTop=this.jY.scrollHeight};
fr.prototype.f=function(){gt.prototype.f.call(this);for(var R=0;R<this.Ta.length;R++)this.Ta[R].f()};
function h3(r,R,N){jZ.call(this);this.index=R;this.m=W._("div",R==N?"listitem selected":"listitem");
this.fk=r.name;this.f();if(R>N)this.m.style.opacity=.4;this.m.addEventListener("click",this.vV.bind(this),!1)}h3.prototype=new jZ;
h3.prototype.f=function(){this.m.textContent=ab.get(this.fk)};h3.prototype.vV=function(r){if(this.index==this.parent.ais)return;
this.Ri({V:"h_itemchange",index:this.index})};h3.prototype.Ri=function(r){var N=new gf(v.E.u,!0);N.data=r;
N.s=z.Fr;this.L(N)};function hz(){gt.call(this,[9,10],!1,"---panels/histogram",gt.A4.at0);var r=W._("div","padded");
this.go.appendChild(r);this.zQ=new eP(256,!0);r.appendChild(this.zQ.m);this.pZ=null}hz.prototype=new gt("");
hz.prototype.w0=function(r){this.pZ=r;this.Fm()};hz.prototype.Fm=function(){var r=this.pZ;if(!W.Xs(this.go))return;
if(r==null||r.w.length==0){this.zQ.b(w.K2(w.B(4)));return}var N=r.G9(),F=new fE(0,0,r.e,r.n),h=F.W();
if(r.$){var m=r.$.rect,O=w.B(m.W()*4);w.L3(N,F,O,m);w.UF(r.$.channel,O);N=O;F=m;var e=r.$.channel;h=0;
for(var R=0;R<e.length;R++)h+=e[R];h=Math.round(h/255)}var P=w.K2(N);P[0][255]+=3*(h-P[5]);for(var R=1;
R<4;R++)P[R][255]+=h-P[5];this.zQ.b(P,h)};hz.prototype.Qr=function(r,N){this.zQ.X7(hi.jo[r.bz]["--text-color"])};
hz.prototype.f=function(){gt.prototype.f.call(this);this.zQ.f()};hz.prototype.DH=function(){this.Fm()};
function jy(){gt.call(this,[9,8],!1,"---adj/clrL",gt.A4.a0O);this.mW=W._("div","padded");this.go.appendChild(this.mW);
this.DX=new bG(10);this.mW.appendChild(this.DX.m);this.mW.appendChild(W._("hr"));this.oc=new jz;this.oc.parent=this;
this.mW.appendChild(this.oc.GR);this.DX.U(v.E.o,this.avx,this);this.oc.U(v.E.o,this.avx,this)}jy.prototype=new gt("");
jy.prototype.avx=function(r){var N;if(r.target==this.DX)N=this.DX.k();else{var F=this.oc.k();N=Math.round(F.Z)<<16|Math.round(F.z)<<8|Math.round(F.J)}var h=new gf(v.E.S,!0);
h.data={V:v.c.nM,Xa:bC.gU,bT:0,h:N};this.L(h)};jy.prototype.Qr=function(r,N){var F=r.Fp,h=N==bC.ge;if(N==bC.gU||h){this.DX.b(F);
this.oc.b({Z:F>>>16&255,z:F>>>8&255,J:F>>>0&255,vS:"Color #"+w.GG(F)})}if(N==bC.G6||h){var m=r.app;this.oc.Wl(m)}};
function j$(){gt.call(this,[12,72],!1,"---adj/mixr",gt.A4.arZ);this.Gf=null;this.P8=null;this.jY=W._("div","lpbody scrollable");
this.hs=W._("div","lpfoot");this.go.appendChild(this.jY);this.go.appendChild(this.hs);this.u5=[];this.U("click",this.ty,this);
this.d1=[];j$.dg([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.d1,this.hs,this.G4.bind(this),this.eP.bind(this));
this.bO=new f8([{name:"Merge Channels",kV:!0}],[{T:v.E.S,R:{V:v.c.pr,i7:"mergechannels"}}])}j$.prototype=new gt("");
j$.prototype.Y2=function(){return this.bO};j$.dg=function(r,N,F,h,m){for(var R=0;R<r.length;R++){var O=new d_("W",!1,r[R]);
N.push(O);W.vN(O.m,h);F.appendChild(O.m);var e=O.m;e.addEventListener("drop",m,!1);e.addEventListener("dragover",function(P){P.preventDefault()},!1);
e.addEventListener("dragenter",W.o8,!1)}};j$.ZO=function(r,N){for(var R=0;R<r.length;R++)if(r[R].m==N.currentTarget)return R};
j$.prototype.G4=function(r){var N=j$.ZO(this.d1,r);if(N==0)this.L(c6.lV(!0,null,r));else{N--;var F=new gf(v.E.nE,!0),h={classID:"null"};
if(N==0)h.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(N==1)h.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else h.null=fq.IT("Chnl",!0);F.data={Ja:["duplicate","make","delete"][N],Tf:h};this.L(F)}};j$.prototype.eP=function(r){var N=j$.ZO(this.d1,r);
if(N==2){var F=new gf(v.E.nE,!0),h={classID:"null"};h.null=fq.IT("Chnl",!0);F.data={Ja:"duplicate",Tf:h};
this.L(F)}else this.G4(r)};j$.prototype.dH=function(R){var r=this.u5,N=r[R];if(N==null){var F=W._("canvas");
N=F.getContext("2d");r.push(N)}return N};j$.prototype.ty=function(r){var N=this.Gf.slice(0),F=r.data.Jz,h=N[0]+N[1]+N[2],m=this.P8;
if(-5<F&&F<0){var O=-F-1;if(r.data.yM){if(O==0)N=h==3?[0,0,0]:[1,1,1];else{if(N[O-1]==0)N[O-1]=1;else if(!0)N[O-1]=0}}else{if(O==0)N=[1,1,1];
else{N=[0,0,0];N[O-1]=1}m.I2=[]}var e=new gf(v.E.u,!0);e.s=z.U4;e.data={V:"setcls",Hr:N};this.L(e);return}if(-1<F){var P=m.g[F],B=P.Ku==1?P.$n():P.xg(m).v;
if(r.data.yM)B.BJ=!B.BJ;else{for(var R=0;R<m.O0.length;R++)m.O0[R].BJ=!1;m.I2=[]}}else{var s=-F-5,B=m.O0[s];
if(r.data.yM)B.BJ=!B.BJ;else{for(var R=0;R<m.O0.length;R++)m.O0[R].BJ=!1;B.BJ=!0;m.I2=[s]}}m.mR=m.Pj=!0};
j$.prototype.DH=function(){this.KU()};j$.prototype.w0=function(r){this.P8=r;this.KU()};j$.prototype.KU=function(){var r=this.P8,N=this.jY,o=4;
W.Tg(N);if(r==null||!W.Xs(N))return;var F=r.e,h=r.n,m=new fE(0,0,F,h),O=this.Gf=r.q.Hr.slice(0),e=O[0]+O[1]+O[2],P=Math.round(34*W.G()),B=P;
if(F>h)B=Math.round(B*h/F);else P=Math.round(P*F/h);var s=["RGB"].concat(gn.CD);for(var R=0;R<4;R++){var Y=this.dH(R);
w.qt.JG(Y,P,B,m,r.G9(),m,!1,R==0?null:R-1);var D=R==0?e==3:O[R-1]==1,c=new c6(-1-R,!0,!0,Y,s[R],D,D);
c.parent=this;N.appendChild(c.m);W.If(Y.canvas)}for(var R=0;R<r.w.length;R++){var H=r.g[r.w[R]],x=H.Ku;
if(x!=1&&x!=3)continue;var Q=x==1?H.$n():H.xg(r).v,Y=this.dH(o+R);o++;w.qt.qx(Y,P,B,m,Q);var c=new c6(r.w[R],!0,!0,Y,H.getName()+(x==1?"":" Filter")+" Mask",!0,Q.BJ);
c.parent=this;N.appendChild(c.m);W.If(Y.canvas)}for(var R=0;R<r.O0.length;R++){var Q=r.O0[R],Y=this.dH(o+R);
w.qt.qx(Y,P,B,m,Q);var c=new c6(-5-R,!0,Q.name=="Quick Mask",Y,Q.name,r.I2.indexOf(R)!=-1,Q.BJ,z.j7,{V:C.hW,bT:"rnm",Jz:R});
c.parent=this;N.appendChild(c.m);W.If(Y.canvas)}};j$.prototype.bh=function(r,N){this.jY.style.height=N-9-26+"px";
this.jY.style.width=r+"px"};j$.prototype.f=function(){gt.prototype.f.call(this);this.KU();j$.rt(this.d1,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
j$.rt=function(r,N){var N=ch.DC(N);for(var R=0;R<r.length;R++)r[R].o6(N[R])};function c6(r,N,F,h,m,O,e,P,B){jZ.call(this);
this.m=W._("div","layeritem");this.a7L=r;this.afA=N;this.Az=h;this.ai_=P;this.anR=B;this.yx=W._("div",O?"head selected":"head");
this.yx.setAttribute("style","height: "+40+"px");var s=W._("div","headL"),Y=W._("div","headR"),D=15;
this.m.appendChild(this.yx);this.yx.appendChild(s);this.yx.appendChild(Y);this.io=W._("div","eye");if(1<W.G()&&W.G()<1.5)D=D/W.G();
this.io.setAttribute("style","background-size: "+D+"px "+D+"px;");this.io.style.opacity=e?1:.2;if(N)s.appendChild(this.io);
this.ru=W._("div","thumb");if(h)this.ru.appendChild(h.canvas);s.appendChild(this.ru);this.g3=W._("div","label");
if(F)this.g3.style.fontStyle="italic";this.g3.textContent=ab.get(m);s.appendChild(this.g3);var c=this.yx;
c.setAttribute("draggable","true");c.addEventListener("dragstart",function(o){o.dataTransfer.setData("Text","")},!1);
W.vN(this.yx,this.a88.bind(this));if(!F)this.yx.addEventListener("mouseup",this.aiJ.bind(this),!1)}c6.prototype=new jZ;
c6.prototype.bk=function(r){var N=new gf(v.E.u,!0);N.s=this.ai_;N.data=this.anR;N.data.name=r;this.L(N)};
c6.prototype.a88=function(r){var N=r.ctrlKey||r.metaKey,F=this.a7L;if(N&&r.target==this.Az.canvas){this.L(c6.lV(this.afA,F,r))}else{var h=new gf("click",!0);
h.data={Jz:F,yM:r.target==this.io,aU:N};this.L(h)}};c6.prototype.aiJ=function(r){if(r.detail==2&&r.target==this.g3){var N=new gt.XN(this.g3,this.bk.bind(this))}};
c6.lV=function(r,N,F){var h=0;if(F.shiftKey)h++;if(F.altKey)h+=2;var m=new gf(v.E.u,!0);m.s=z.Ns;if(r){if(-5<N&&N<0){m=new gf(v.E.nE,!0);
m.data=z.Yi.bJ(h,["RGB","Rd","Grn","Bl"][-1-N])}else m.data={V:"fromchannel",Fs:[N,0,h]}}else m.data={V:"frompath",Fs:[N,0,h]};
return m};function fO(){gt.call(this,[8,9],!1,"---panels/paths",gt.A4.mC);this.Gf=null;this.P8=null;
this.jY=W._("div","lpbody scrollable");this.hs=W._("div","lpfoot");this.go.appendChild(this.jY);this.go.appendChild(this.hs);
this.go.addEventListener("click",this.a6U.bind(this),!1);this.u5=[];this.U("click",this.ty,this);this.d1=[];
j$.dg(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.d1,this.hs,this.G4.bind(this),this.eP.bind(this))}fO.prototype=new gt("");
fO.prototype.G4=function(r,N){var F=j$.ZO(this.d1,r),h;if(F<2){h=new gf(v.E.nE,!0);h.data=z.JP.wm(F)}else if(F==2)h=c6.lV(!1,null,r);
else if(F==3){h=new gf(v.E.nE,!0);h.data={Ja:"make",Tf:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(F>3){var h=new gf(v.E.u,!0);
h.s=z.qI;h.data={V:"pathedit",bT:["new","del"][F-4],a8I:N}}this.L(h)};fO.prototype.eP=function(r){this.G4(r,!0)};
fO.prototype.dH=function(R){var r=this.u5,N=r[R];if(N==null){var F=W._("canvas");N=F.getContext("2d");
r.push(N)}return N};fO.prototype.a6U=function(r){if(r.target==this.jY){var N=this.P8;N.ih=[];N.OW=[];
N.Pj=!0;N.mR=!0}};fO.prototype.ty=function(r){var N=r.data.Jz,F=this.P8,h=r.data.aU,m=0,O,e;if(N<0){m=-1-N;
O=F.ih;e=F.OW}else{var P=F.bN()[0];for(var R=0;R<P.length;R++){var B=P[R].Jz;if(B==N)break;if(B>=0)m++}O=F.OW;
e=F.ih}if(h){var s=O.indexOf(m);if(s==-1)O.push(m);else O.splice(s,1)}else{while(O.length!=0)O.pop();
while(e.length!=0)e.pop();O.push(m)}F.Pj=!0;F.mR=!0};fO.prototype.DH=function(){this.KU()};fO.prototype.w0=function(r){this.P8=r;
this.KU()};fO.prototype.KU=function(){var r=this.P8,N=this.jY;W.Tg(N);if(r==null||!W.Xs(N))return;var F=r.e,h=r.n,m=new fE(0,0,F,h),O=this.Gf=r.q.Hr.slice(0),e=O[0]+O[1]+O[2],P=Math.round(34*W.G()),B=P;
if(F>h)B=Math.round(B*h/F);else P=Math.round(P*F/h);var s=r.bN(),Y=s[0];for(var R=0;R<Y.length;R++){var D=Y[R],c=this.dH(R);
w.qt.ahv(c,P,B,m,D.add.vmsk);var o=new c6(D.Jz,!1,D.Jz>=0,c,D.name,s[1].indexOf(R)!=-1,!1,z.qI,{V:"pathedit",bT:"rnm",Jz:D.Jz});
o.parent=this;N.appendChild(o.m);W.If(c.canvas)}};fO.prototype.bh=function(r,N){this.jY.style.height=N-9-26+"px";
this.jY.style.width=r+"px"};fO.prototype.f=function(){gt.prototype.f.call(this);this.KU();j$.rt(this.d1,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function e9(r){gt.call(this,[9,r?4:5],!1,"---panels/"+(r?"character":"paragraph"),r?gt.A4.afr:gt.A4.a0g);
this.go.setAttribute("style","min-width:240px;");this.aaq=r;this.HL=null;this.bX=null}e9.prototype=new gt("");
e9.prototype.rn=function(){this.HL=new dP;var r=this.HL,N=this.go;r.parent=this;if(this.aaq){var F=W._("div","marged");
N.appendChild(F);F.appendChild(r.$h.m);N.appendChild(W._("hr"));var h=W._("div","marged");N.appendChild(h);
h.appendChild(r.vO.m);h.appendChild(r.Kf.m);var m=W._("div","marged");N.appendChild(m);m.appendChild(r.u4.m);
m.appendChild(r.wY.m);N.appendChild(W._("hr"));var O=W._("div","marged");N.appendChild(O);O.appendChild(r.he.m);
O.appendChild(r.t_.m);var e=W._("div","marged");N.appendChild(e);e.appendChild(r.Wf.m);e.appendChild(r.Vx.m);
e.appendChild(r.mi.m);N.appendChild(W._("hr"));var P=W._("div","marged");N.appendChild(P);P.appendChild(r.OK.m);
P.appendChild(r.ek.m);P.appendChild(r.vd.m);P.appendChild(r.cd.m);P.appendChild(r.I$.m);P.appendChild(r.UE.m);
P.appendChild(r.IM.m);P.appendChild(r.Id.m)}else{var F=W._("div","marged");N.appendChild(F);F.appendChild(r.ZC.m);
F.appendChild(r.j6.m);F.appendChild(r.X0.m);F.appendChild(r.a0o.m);F.appendChild(r.a69.m);F.appendChild(r.adE.m);
F.appendChild(r.a9L.m);N.appendChild(W._("hr"));var h=W._("div","marged");N.appendChild(h);h.appendChild(r.o0.m);
h.appendChild(r.ss.m);h.appendChild(r.ZQ.m);N.appendChild(W._("hr"));var m=W._("div","marged");N.appendChild(m);
m.appendChild(r.RD.m);m.appendChild(r.Lb.m);m.appendChild(r.KP.m);m.appendChild(r.Cy.m)}};e9.prototype.DH=function(){if(!W.Xs(this.go))return;
if(this.HL==null){this.rn();var r=this.bX;if(r)this.HL.b(r.Fj,r.FN,r.yK);this.HL.f()}};e9.prototype.f=function(){gt.prototype.f.call(this);
if(this.HL)this.HL.f()};e9.prototype.Qr=function(r,N){this.bX=r;if(N!=bC.ge&&N!=bC.Ni&&N!=bC.Jf&&N!=bC.MV)return;
if(this.HL)this.HL.b(r.Fj,r.FN,r.yK)};function gr(){gt.call(this,[9,13],!1,"---panels/glyphs",gt.A4.aij);
this.HL=new dP;this.HL.parent=this;this.bX=null;this.aeX=null;this.amI=null;this.cs=null;this.afk=null;
this.oN=Math.round(290*W.G());this.Nr=45;this.a9e=4;this.ad7=this.Fm.bind(this);this.a3a=0;this.G3=new b2(null,["Hi","Hello"]);
this.G3.U(v.E.o,this.Fm,this);var r=this.v1=new d_("-",null,null,!0);r.U("click",this.ar7,this);var N=this.aqp=new d_("+",null,null,!0);
N.U("click",this.ar7,this);this.K9=new hg(!1);this.K9.U(v.E.o,this.uX,this);this.K9.m.style.height=250+"px";
var F=this.qy=W._("div","form padded");this.go.appendChild(F);F.appendChild(this.HL.$h.m);W.ke(F);F.appendChild(this.G3.m);
F.appendChild(r.m);F.appendChild(N.m);this.go.appendChild(this.K9.m)}gr.prototype=new gt("");gr.prototype.bh=function(r,N){if(this.YW==r)return;
this.YW=r;this.oN=Math.floor((r-13)*W.G());this.qy.setAttribute("style","width:"+this.oN/W.G()+"px;");
this.K9.m.style.height=N-73+"px";this.Fm()};gr.prototype.uX=function(r){var N=this.asr(),F=Math.round(this.oN/N);
N/=W.G();var h=this.K9.k()[0]*F*this.a9e,m=this.K9.aq5();h+=Math.floor(m.y/N)*F;h+=Math.floor(m.x/N);
var O=this.cs[this.G3.k()];if(h>=O.length)return;var e=O[h],P=this.afk[e],B=new gf(v.E.u,!0);B.s=z.tI;
if(P.PY.length==0)B.data={V:"insertGlyph",h:h+1};else B.data={V:"insertText",h:String.fromCodePoint(P.PY[0])};
this.L(B)};gr.prototype.ar7=function(r){var N=1.2;if(r.target==this.v1){if(this.Nr>20)this.Nr/=N}else{if(this.Nr<100)this.Nr*=N}this.Fm()};
gr.prototype.DH=function(){this.Qr(this.bX)};gr.prototype.Qr=function(r,N){this.bX=r;if(!W.Xs(this.go))return;
this.HL.b(r.Fj,r.FN,r.yK);var F=r.Fj,h=F.AY.Font,B=0;if(h==null)return;var m=F.f7[h].Name;if(this.aeX==m)return;
var h=r.FN.hG(m);if(h==null)return;var O=h.maxp.numGlyphs,e=this.afk=new Array(O);for(var R=0;R<O;R++)e[R]={PY:[]};
var P=Date.now(),s=new Uint8Array(1048575);for(var R=0;R<1048575;R++){var Y=Typr.U.codeToGlyph(h,R);
if(Y!=0&&Y<O){s[R]=1;if(e[Y].PY.length==0)B++;e[Y].PY.push(R)}}var D=gr.eC,c=[];for(var R=0;R<D.length;
R++)c.push([]);for(var Y=1;Y<O;Y++){c[0].push(Y);var o=e[Y].PY[0];if(o==null){continue}for(var H=1;H<D.length;
H++){var x=D[H].Su;for(var R=0;R<x.length;R+=2)if(x[R]<=o&&o<=x[R+1]){c[H].push(Y);break}}}this.cs=c;
var Q=[];for(var R=0;R<D.length;R++)Q.push(D[R].UQ+" ("+c[R].length+")");var U=this.G3.k();this.G3.eo(Q);
this.G3.b(U);this.aeX=m;this.amI=h;this.Fm()};gr.prototype.asr=function(r){var N=Math.floor(this.oN/this.Nr);
return Math.floor(this.oN/N)};gr.prototype.Fm=function(r){if(!W.Xs(this.go)||this.cs==null)return;var N=this.cs[this.G3.k()],F=N.length,h=this.amI,m=Typr.U,O=this.asr(),e=O,P=e*.8,B=e*.8/h.head.unitsPerEm,s=[],Y=Math.floor(this.oN/O),D=Math.ceil(F/Y),c=this.a9e,o=Date.now();
for(var H=0;H<D;H+=c){var x=W._("canvas"),Q=x.getContext("2d");x.width=O*Y;x.height=e*c;Q.strokeStyle="rgba(0,0,0,0.3)";
Q.fillStyle="white";Q.fillRect(0,0,Y*O,e*c);for(var U=0;U<c;U++){for(var I=0;I<Y;I++){var R=N[(H+U)*Y+I];
if(R==null)break;var l=m.glyphToPath(h,R),p=w.p.Ce(l.crds);if(!p.lX()){Q.fillStyle="#252525";Q.beginPath();
var j=I*O+(O-p.e*B)*.5-p.x*B,T=U*e+P;Q.translate(j,T);Q.scale(B,-B);m.pathToContext(l,Q);Q.scale(1/B,-1/B);
Q.translate(-j,-T);Q.fill()}}}Q.beginPath();for(var I=0;I<Y;I++){var V=I*O+O+.5;Q.moveTo(V,0);Q.lineTo(V,e*c)}for(var U=0;
U<c;U++){var E=U*e+e+.5;Q.moveTo(0,E);Q.lineTo(Y*O,E)}Q.stroke();s.push(x)}this.K9.IS(s,null,O*Y,e*c)};
gr.eC=[{UQ:"All Glyphs"},{UQ:"Basic Latin, Latin 1",Su:[0,127,128,143]},{UQ:"Latin Extended-A",Su:[256,383]},{UQ:"Latin Extended-B",Su:[384,591]},{UQ:"Punctuations",Su:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{UQ:"Greek",Su:[880,1023]},{UQ:"Cyrillic",Su:[1024,1279]},{UQ:"Hebrew",Su:[1424,1535]},{UQ:"Arabic",Su:[1536,1791]},{UQ:"Emoji",Su:[9728,10095,127744,129535]}];
function ic(){gt.call(this,[13,0],!1,null,gt.A4.gU);this.Wc=0;this.apv=0;this.bX=null;var r=W._("div","flexrow padded");
this.go.appendChild(r);var N=W._("div");r.appendChild(N);this.P7=[];for(var R=0;R<2;R++){var F=new cw;
this.P7.push(F);F.U("click",this.ajT,this);N.appendChild(F.m)}this.f2=new h2(192);this.f2.U(v.E.o,this.US,this);
this.NJ=new da;this.NJ.parent=this;r.appendChild(this.f2.m)}ic.prototype=new gt("");ic.prototype.ajT=function(r){var N=r.currentTarget,F=this.P7.indexOf(N);
if(F==this.Wc){this.NJ.ZL(F)}else{this.Wc=F;this.Fm()}};ic.prototype.US=function(r){var N=this.f2.k();
this.f2.b(N);var F=Math.round(N.Z*255)<<16|Math.round(N.z*255)<<8|Math.round(N.J*255),h=new gf(v.E.S,!0);
h.data={V:v.c.nM,Xa:bC.gU,bT:this.Wc,h:F};this.L(h);this.apv=Date.now()};ic.prototype.Fm=function(){var r=this.bX,N=this.Wc,F=[r.Fp,r.lo];
for(var R=0;R<2;R++){var h=this.P7[R],m=h.m.style;h.X7(F[R]);if(R==N)m.filter="drop-shadow(0 0 1px #000000)"}var O=F[N];
if(Date.now()-this.apv>100)this.f2.b({Z:(O>>>16)/255,z:(O>>>8&255)/255,J:(O&255)/255})};ic.prototype.Qr=function(r,N){this.bX=r;
if(N==bC.ge||N==bC.gU){this.NJ.apc(r.Fp,r.lo);this.Fm()}};ic.prototype.DH=function(){this.Fm()};function fZ(){gt.call(this,"CSS",!1,"---panels/css",gt.A4.CSS);
this.pZ=null;var r=W._("div","padded");this.go.appendChild(r);this.M8=W._("textarea");W.uJ(this.M8);
r.appendChild(this.M8)}fZ.prototype=new gt("");fZ.prototype.bh=function(r,N){if(this.YW==r)return;this.YW=r;
this.M8.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(r-10)+"px; height:"+(N-10)+"px")};
fZ.prototype.w0=function(r){this.pZ=r;this.Fm()};fZ.prototype.Qr=function(r,N){if(N==bC.Jf)this.Fm()};
fZ.prototype.Fm=function(){var r=this.pZ;if(r==null||r.w.length==0)return;if(!W.Xs(this.go))return;var N=r.g[r.w[0]],F=CSS.amK(N,r);
if(F.length!=0)this.M8.value=F.join(";\n")+";";else this.M8.value=""};fZ.prototype.DH=function(){this.Fm()};
function j2(){gt.call(this,[9,6],!1,"---panels/info",gt.A4.a11);this.go.setAttribute("style","min-width:240px;");
this.pZ=null;this.bX=null;var r=W._("div","marged row");this.go.appendChild(r);var N=W._("div","cell");
N.setAttribute("style","width:10em");r.appendChild(N);var F=W._("div","cell");F.setAttribute("style","width:10em");
r.appendChild(F);this.a3o=[];for(var R=0;R<4;R++){var h=new bB("");this.a3o.push(h);N.appendChild(h.m);
W.ke(N)}this.go.appendChild(W._("hr",""));var m=W._("div","marged row");this.go.appendChild(m);var N=W._("div","cell");
N.setAttribute("style","width:10em");var F=W._("div","cell");F.setAttribute("style","width:10em");m.appendChild(N);
m.appendChild(F);this.lw=new bB("");N.appendChild(this.lw.m);W.ke(N);this.CE=new bB("");N.appendChild(this.CE.m);
this.mx=new bB("");F.appendChild(this.mx.m);W.ke(F);this.e1=new bB("");F.appendChild(this.e1.m);this.lw.b("X: 100 px");
this.CE.b("Y: 100 px");this.mx.b("W: 0");this.e1.b("H: 0")}j2.prototype=new gt("");j2.prototype.Ui=function(r,N,F,h,m){if(!W.Xs(this.go)||r==null)return;
var O=r.q.RX(m.x,m.y),e=new gS(Math.floor(O.x),Math.floor(O.y));if(!m.Tb){var P=0,B=0,s=0,Y=0,D=this.a3o;
if(!m.Tb&&!r.amu()&&new fE(0,0,r.e-1,r.n-1).Ev(e)){var c=r.G9(),R=r.e*e.y+e.x<<2;P=c[R+0];B=c[R+1];s=c[R+2];
Y=c[R+3]}D[0].b("R: "+P);D[1].b("G: "+B);D[2].b("B: "+s);D[3].b("A: "+Y)}this.lw.b("X: "+w.Lt.Ip(e.x,r.EP,F,r.e));
this.CE.b("Y: "+w.Lt.Ip(e.y,r.EP,F,r.n));this.hz()};j2.prototype.hz=function(){var r=this.pZ,N=this.bX,F=0,h=0;
if(r&&N){if(r.q.g1){F=r.q.g1.e;h=r.q.g1.n}else if(r.$){F=r.$.rect.e;h=r.$.rect.n}F=w.Lt.Ip(Math.abs(F),r.EP,N,r.e);
h=w.Lt.Ip(Math.abs(h),r.EP,N,r.n)}this.mx.b(ab.get([12,41]).charAt(0)+": "+F);this.e1.b(ab.get([12,42]).charAt(0)+": "+h)};
j2.prototype.f=function(){gt.prototype.f.call(this);this.hz()};j2.prototype.w0=function(r,N,F){this.pZ=r;
this.bX=F;this.hz()};function jP(){gt.call(this,[9,1],!1,"---panels/layers",gt.A4.j7);this.NO=null;this._I=null;
this.Uc=null;this.yx=W._("div","lphead");this.jY=W._("div","lpbody scrollable");this.hs=W._("div","lpfoot");
this.nn=new bf([0,6]);this.nn.U(v.E.o,this.NN,this);this.yx.appendChild(this.nn.m);this.p1=W._("span","disabled");
this.p1.setAttribute("style","display:inline-block; height:26px");this.yx.appendChild(this.p1);this.LE=new b2(null,["Kind",[12,48]],!1,[]);
this.LE.U(v.E.o,this.NN,this);var r=this.Ea=[new jX(null,["<img src=\""+PIMG.pix_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"autoscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new g8(null,null,8)];
r[0].U(v.E.o,this.NN,this);r[1].U("input",this.NN,this);this.abq();this.Zs=new b2(null,g6.zd,!1,g6.yj);
this.Zs.U(v.E.o,this.a92,this);this.yx.appendChild(this.Zs.m);this.rE=new g$([12,0],0,100,"%",0);this.rE.U(v.E.o,this.ale,this);
this.rE.parent=this;this.yx.appendChild(this.rE.m);this.iR=new jX([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.iR.U(v.E.o,this.anV,this);this.yx.appendChild(this.iR.m);this.Sq=new g$([12,26],0,100,"%",0);this.Sq.U(v.E.o,this.aqv,this);
this.Sq.parent=this;this.yx.appendChild(this.Sq.m);this.d1=[];this.dg();this.go.appendChild(this.yx);
this.go.appendChild(this.jY);this.jY.addEventListener("dragover",function(m){m.preventDefault()},!1);
this.jY.addEventListener("dragenter",W.o8,!1);this.jY.addEventListener("drop",this.alz.bind(this),!1);
this.go.appendChild(this.hs);this.go.addEventListener("contextmenu",W.o8,!1);var N=eY.Ud(!0),F=eY.H8(!0);
this.a1h=new f8(N,F);var N=[{name:[14,10]},{name:[14,11],At:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],At:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",I:function(m){return{I:m.g[m.w[0]].add.SoLd!=null}},At:!0},{name:[6,8],I:jP.ai5},{name:[6,34],I:function(m){var O=m.g[m.w[0]];
return{I:O.add.lmfx!=null&&!O.zv()}}},{name:[6,40],At:!0,I:function(m){var O=m.g[m.w[0]];return{I:O.add.TySh!=null}}},{name:"",At:!0,I:function(m){var O=m.g[m.w[0]],e=O.add.TySh,P=e?e.sl:null;
return{I:e!=null&&P.Curve==null,Pa:ab.get(e&&gQ.d4(P)==0?[16,3,1]:[16,3,0])}}},jP.alK(!1),{name:[11,6],At:!0,sub:[{name:[5,1],I:function(m){var O=m.g[m.w[0]];
return{I:O.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],I:function(m){var O=m.g[m.w[0]];return{I:O.add.lmfx!=null}}}]},{name:[6,12,0],I:function(m){var O=m==null?0:m.w.length;
return{I:O!=0,Pa:ab.get(O>1||O==1&&m.g[m.w[0]].zv()?[6,12,0]:[6,10])}}},{name:[6,12,1],At:!0},{name:[13,0],sub:function(){var m=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],O=[];
for(var R=0;R<m.length;R++)O.push({name:m[R]});return O}()}],F=[{T:v.E.S,R:{V:v.c.pr,i7:"layerstyle"}},{T:v.E.u,s:z.Ns,R:{V:"fromlayer",Fs:[null,0,0]}},{T:v.E.u,s:z.j7,R:{V:C.y7}},{T:v.E.S,R:{V:v.c.pr,i7:"duplinto"}},{T:v.E.u,s:z.j7,R:{V:C.wn}},{T:v.E.nE,R:{Ja:"newPlacedLayer"}},{T:v.E.u,s:z.j7,R:{V:C.QI}},{T:v.E.nE,R:{Ja:"rasterizeLayer",Tf:{classID:"rasterizeLayer",null:fq.IT("Lyr",!0)}}},{T:v.E.u,s:z.j7,R:{V:C.y5}},{T:v.E.u,s:z.j7,R:{V:C.a0_}},{T:v.E.u,s:z.tI,R:{V:"switchPntPrgr"}},{T:v.E.u,s:z.j7,R:{V:C.r1}},{sub:[{T:v.E.u,s:z.Nq,R:{V:"st_copy"}},{T:v.E.u,s:z.Nq,R:{V:"st_paste"}},{T:v.E.u,s:z.Nq,R:{V:"st_clear"}}]},{T:v.E.nE,R:{Ja:"mergeLayersNew",Tf:{__name:"Merge Layers",classID:"Mrg2"}}},{T:v.E.nE,R:{Ja:"flattenImage"}},{sub:function(){var m=[];
for(var R=0;R<8;R++)m.push({T:v.E.u,s:z.j7,R:{V:C.ZS,ae5:R}});return m}()}];this.nX=new f8(N,F);var N=[{name:[6,45],I:function(m){var O=m.g[m.w[0]];
return{I:O.xg(m).v==null}}},{name:[6,47]}],F=[{T:v.E.u,s:z.j7,R:{V:C.KO}},{T:v.E.u,s:z.j7,R:{V:C.c2}}];
this.aot=new f8(N,F);var N=[{name:"enab/disab",I:function(m){return{Pa:ab.get(m.g[m.w[0]].$n().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],I:function(m){return{I:m.VT(!1,!0)}}}],F=[{T:v.E.u,s:z.j7,R:{V:C.yh}},{T:v.E.u,s:z.j7,R:{V:C.nV}},{T:v.E.u,s:z.j7,R:{V:C.rN}}];
this.ad1=new f8(N,F);var N=[{name:"enab/disab",I:function(m){return{Pa:ab.get(m.g[m.w[0]].xg(m).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],F=[{T:v.E.u,s:z.j7,R:{V:C.q9}},{T:v.E.u,s:z.j7,R:{V:C.SX}}];
this.an6=new f8(N,F);var N=[{name:"enab/disab",I:function(m){return{Pa:ab.get(m.g[m.w[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],F=[{T:v.E.u,s:z.j7,R:{V:C.W6}},{T:v.E.u,s:z.j7,R:{V:C.Ix}},{T:v.E.u,s:z.j7,R:{V:C.fF}}];
this.a5z=new f8(N,F);this.ao9=new f8(eY.ap0(!0),eY.vC(!0));this.at_=new f8(eY.Ud(),eY.H8());this.U("rclick",this.aqR,this);
var h=function(m,O,R){return{Vs:this.a4Z[R]==1}}.bind(this);this.apx=new f8([{name:[0,6],I:h},{name:[14,10],I:h},{name:[6,57,2],I:h}]);
this.apx.U("select",this.air,this);this.a4Z=[0,1,1];this.air()}jP.prototype=new gt("");jP.prototype.Y2=function(){return this.apx};
jP.prototype.air=function(r){var N=this.a4Z;if(r){var F=r.target.cW(),R=F[0];console.log(F);N[R]=1-N[R]}var h=[[this.nn,{m:this.p1}],[this.Zs,this.rE],[this.iR,this.Sq]];
for(var R=0;R<3;R++)for(var m=0;m<h[R].length;m++)h[R][m].m.style.display=N[R]==1?"inline-block":"none";
this.bh(this.YW,this.Nf)};jP.prototype.a7y=function(){if(this.nn.k()){var r=this.LE.k(),N=this.Ea[r].k();
if(r==0)return N.indexOf(!0)!=-1;if(r==1)return N!=""}return!1};jP.alK=function(r){var N=function(h){var m=h!=null&&h.w.length!=0&&h.g[h.w[0]].S8;
return{Vs:m,I:h!=null&&h.ng(h.w[0]),R:{T:v.E.nE,R:{Ja:m?"ungroup":"groupEvent",Tf:{classID:m?"Ungr":"GrpL",null:fq.IT("Lyr",!0)}}}}},F={name:[6,6,0],At:!0,I:N};
if(r)F.oZ=[bh.sV,bh.hg,bh.DA];return F};jP.ai5=function(r,N){if(r)for(var R=0;R<r.w.length;R++){var F=r.g[r.w[R]];
if(F.add.TySh||F.add.SoLd||F.add.SoCo||F.add.GdFl||F.add.PtFl)return{I:!0}}return{I:!1}};jP.prototype.alz=function(r){W.o8(r);
var N=r.dataTransfer.getData("Text"),F=1,h=0;if(N==""){W.YK(r,this,this.Uc.indexOf(this._I),h+(F>.5?0:1))}else if(N!="--panel"){var N=JSON.parse(N),m=N.dn;
if(m=="l")this.Ri({V:C.iF,source:N.Xx,target:h,ky:F})}};jP.prototype.aqR=function(r){var N=this._I,F=r.data,m;
if(N.w.indexOf(F.a)==-1){var h={V:C.xo,a:r.target.FH.index,EK:F.Ku};this.Ri(h)}if(N.w.indexOf(F.a)==-1)return;
if(F.Ku==1){m=this.ad1}else if(F.Ku==2){m=this.a5z}else if(F.Ku==3){m=this.an6}else if(F.Ku==4){m=this.aot}else if(F.Ku==5){m=this.a1h}else{m=this.nX}m.f();
m.update(N);m.parent=this;var O=new gf(v.E.S,!0);O.data={V:v.c.hN,f3:m,x:F.TN.x+1,y:F.TN.y+1};this.L(O)};
jP.prototype.f=function(){gt.prototype.f.call(this);this.Zs.f();this.rE.f();this.iR.f();this.Sq.f();
if(this._I)this.w0(this._I);var r="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var R=0;R<this.d1.length;R++){var N=this.d1[R];N.o6(W.qV(r[R]))}};jP.prototype.w0=function(r,N){if(r&&!r.kn)return;
if(r==null)W.Ou(this.go,"disabled");else W.PV(this.go,"disabled");this._I=r;this.Uc=N;if(this.NO!=null){this.jY.removeChild(this.NO.jY);
this.NO=null}if(r==null)return;var F=!1;for(var R=0;R<r.O0.length;R++)if(r.O0[R].BJ)F=!0;this.NO=new eA(r.root,this,r,{IU:0,oA:!1},{a0$:F,afu:this.a7y()});
this.jY.appendChild(this.NO.jY);if(r.w.length==0||r.g[r.w[0]]==null)W.Ou(this.yx,"disabled");else{W.PV(this.yx,"disabled");
if(r.w.length==1&&r.Ls)this.NO.apq(r.w);var h=r.g[r.w[0]];if(h.zv()){this.Zs.eo([[15,10,27]].concat(g6.zd),[1].concat(g6.yj));
var m=g6.Ry.indexOf(h.$j);this.Zs.b(m+1)}else{this.Zs.eo(g6.zd,g6.yj);var m=g6.Ry.indexOf(h.$j);this.Zs.b(m)}this.rE.b(Math.round(100*h.opacity/255));
this.iR.b([h.gT(0),h.gT(1),h.gT(2),h.gT(31)]);var O=r.cQ();this.Zs.W9(!O);this.Sq.W9(!O);this.rE.W9(!O);
this.iR.W9(!(O&&!h.gT(31)));this.Sq.b(Math.round(100*(h.add.iOpa!=null?h.add.iOpa/255:1)))}};jP.prototype.bh=function(r,N){this.YW=r;
this.Nf=N;var F=this.yx.getBoundingClientRect().height;if(55<F&&F<56)F=60.2;var h=N-(F+35);this.jY.style.height=h+"px";
this.jY.style.width=r+"px"};jP.prototype.a92=function(r){this.Ri({V:C.ze,oC:this.Zs.k()})};jP.prototype.ale=function(r){this.Ri({V:C._n,oC:Math.round(255*this.rE.k()/100)})};
jP.prototype.anV=function(r){this.Ri({V:C.Dd,oC:[this.iR.k(),[0,1,2,31]]})};jP.prototype.aqv=function(r){this.Ri({V:C.Pb,oC:Math.round(255*this.Sq.k()/100)})};
jP.prototype.NN=function(r){if(r.target==this.LE)this.abq();var N=this.nn.k();if(N)W.PV(this.p1,"disabled");
else W.Ou(this.p1,"disabled");this.f();this._I.kn=!0;this.w0(this._I);this._I.kn=!1};jP.prototype.abq=function(){W.Tg(this.p1);
this.p1.appendChild(this.LE.m);this.p1.appendChild(this.Ea[this.LE.k()].m)};jP.prototype.ark=function(r){this.amX(r,this.ao9)};
jP.prototype.a2T=function(r){this.amX(r,this.at_)};jP.prototype.amX=function(r,N){var F=r.currentTarget;
if(W.Xs(N.m))return;r.stopPropagation();var h=F.getBoundingClientRect();N.f();N.update(this._I);N.parent=this;
var m=new gf(v.E.S,!0);m.data={V:v.c.hN,f3:N,x:h.left,y:h.top,a3_:!0};this.L(m)};jP.prototype.a9t=function(r){this.Ri({V:C.aaI})};
jP.prototype.acH=function(r){this.Ri({V:this._I.w.length>1?C.BZ:C.Ex})};jP.prototype.a5C=function(r){this.Ri({V:C.vZ})};
jP.prototype.a39=function(r){var N=this._I;if(N.w.length==0)return;var F=N.g[N.w[0]],h=F.Ku;this.Ri({V:h<=0?F.pk?C.Ix:C.wn:h==3?C.SX:C.nV})};
jP.prototype.afC=function(r){this.Ri({V:C.Nb})};jP.prototype.Ri=function(r){var N=new gf(v.E.u,!0);N.data=r;
N.s=z.j7;this.L(N)};jP.prototype.dg=function(){var r=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],N=[this.afC,this.a2T,this.ark,this.a9t,this.acH,this.a5C,this.a39],F=this.ahE.bind(this);
for(var R=0;R<r.length;R++){var h=new d_("W",!1,r[R]);this.d1.push(h);W.vN(h.m,N[R].bind(this));this.hs.appendChild(h.m);
if(R>=r.length-3){var m=h.m;m.addEventListener("drop",F,!1);m.addEventListener("dragover",function(O){O.preventDefault()},!1);
m.addEventListener("dragenter",W.o8,!1)}}};jP.prototype.ahE=function(r){W.o8(r);var N=0,F=this.d1;while(F[N].m!=r.currentTarget)N++;
F[N].So();var h=r.dataTransfer.getData("Text");if(h=="")return;var h=JSON.parse(h);if(h.dn=="l"){var m={V:[C.BZ,C.y7,C.wn][N-4]};
if(this._I.w.indexOf(h.Xx)==-1)m.a=h.Xx;this.Ri(m)}if(N!=6)return;if(h.dn=="sm"||h.dn=="s"){var O=new gf(v.E.u,!0);
O.s=z.Nq;O.data={V:h.dn=="sm"?"st_clear":"st_delsingle",a:h.Xx,Xx:h.BS};this.L(O)}if(h.dn=="fm"||h.dn=="f"){this.Ri({V:h.dn=="fm"?C.c2:C.f9,src:h.Xx,BS:h.BS})}if(h.dn=="m"||h.dn=="vm"){this.Ri({V:h.dn=="m"?C.nV:C.Ix,a:h.Xx})}};
function eA(r,N,F,h,m){jZ.call(this);this.parent=N;this.FH=r;this.mN=[];this.m=W._("div","layeritem");
var O=m.afu&&!this.a7P(),e=r.a,P=F.w.indexOf(r.index)!=-1,V=15,fg=!1;this.yx=W._("div",P?"head selected":"head");
if(r.a.add.artb!=null)W.Ou(this.yx,"artb");var B=e.zv()?26:Math.floor(10+e.a2g/W.G()),s="height: "+B+"px;";
if(P&&m.a0$)s+="background-color:rgba(255,50,50,0.4);";this.yx.setAttribute("style",s);var Y=W._("div","headL"),D=W._("div","headR"),c=W._("div","lpineck");
this.jY=W._("div","lpibody");this.yx.appendChild(Y);this.yx.appendChild(D);if(!O){this.m.appendChild(this.yx);
if(e.hO()||e.Ru())if(e.uV())this.m.appendChild(c)}var o=this.yx;o.setAttribute("draggable","true");o.addEventListener("dragstart",this.sF.bind(this),!1);
o.addEventListener("drop",this.kL.bind(this),!1);o.addEventListener("dragover",this.wy.bind(this),!1);
o.addEventListener("dragenter",W.o8,!1);o.addEventListener("dragleave",this.gi.bind(this),!1);var H=[],x=[null,null,null,null],Q=W._("div");
this.io=W._("div","eye");Q.appendChild(this.io);var U=W._("div","space");this.g3=W._("div","label");
this.g3.setAttribute("style","max-width:calc(100% - "+(96+r.depth*20)+"px); margin-top:"+(B-19)/2+"px;");
this.g3.textContent=e.getName();this.yF=W._("div","lock");this.a7K=W._("div","lrfx");this.mv=W._("div","arfx");
var I=this.ao2.bind(this),l=this.aqY.bind(this);this.yx.addEventListener("click",l,!1);this.yx.addEventListener("contextmenu",I,!1);
var p=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],j=e.add.lclr==null?0:p[e.add.lclr];
if(j==0)j=h.IU;var T=[j>>16,j>>8&255,j&255];for(var R=0;R<3;R++){T[R]=Math.round(.5*T[R]+.5*220)}if(1<W.G()&&W.G()<1.5)V=V/W.G();
Q.setAttribute("style","background-color:rgba("+T.join(",")+","+(j==0?0:1)+");");this.io.setAttribute("style","background-size: "+V+"px "+V+"px;");
var E=this.aq4.bind(this);Q.addEventListener("mousedown",E,!1);Q.addEventListener("mouseover",E,!1);
this.mv.addEventListener("click",this.aex.bind(this),!1);H[0]=Q;H[1]=U;H[10]=this.g3;function _(hW,hh,o){var hI=hh.canvas;
W.If(hI);if(o)hW.setAttribute("draggable","true");hW.appendChild(hI);hI.setAttribute("style",hI.getAttribute("style")+"; pointer-events:none")}if(e.zv()){var f=W._("div","arrow"),S=W._("div","folder");
this.hK(S);f.addEventListener("click",this.ad2.bind(this),!1);H[2]=f;H[3]=S;if(e.add.lsct==jJ.Ra||m.afu){var L={IU:j,oA:h.oA||e.gT(31)};
for(var R=r.children.length-1;R>=0;R--){var y=new eA(r.children[R],N,F,L,m);this.mN.push(y);this.jY.appendChild(y.m)}this.m.appendChild(this.jY)}f.setAttribute("class",e.add.lsct==jJ.Ra?"open":"closed")}else{this.ru=W._("div","thumb");
H[5]=this.ru;_(this.ru,e.wI);this.hK(this.ru);if(gn.get(e.add))W.Ou(e.wI.canvas,"gsicon")}var $=e.$n();
if($){this.t9=W._("div","chain");this.xu=W._("div","thumb");_(this.xu,r.a.ams,!0);this.t9.style.opacity=$.AS?1:0;
this.t9.addEventListener("click",this.asZ.bind(this),!1)}var Z=e.t8()&&e.add.vmsk;if(e.add.vmsk&&!Z){this.hI=W._("div","chain");
this.K4=W._("div","thumb");_(this.K4,r.a.af9,!0);this.hI.style.opacity=e.add.vmsk.AS?1:0;this.hI.addEventListener("click",this.ah1.bind(this),!1)}if(e.Ru()&&e.xg(F).v){this.Pe=W._("div","thumb");
_(this.Pe,r.a.aoa,!1);this.hK(this.Pe);this.Pe.addEventListener("click",l,!1);this.Pe.addEventListener("contextmenu",I,!1)}if(e.hO()){this.ac4=c;
c.addEventListener("contextmenu",I,!1);var i=new jP._z(ab.get([12,1]),"sm","layerstyle",r.depth,0,null);
i.parent=this;c.appendChild(i.m);var b=e.add.lmfx,G=b.masterFXSwitch.v;i.Hb(G);for(var R=0;R<an.order.length;
R++){var g=b[an.NR[R]].v;if(g.length==0)continue;for(var u=0;u<g.length;u++){var i=new jP._z(ab.get(an.names[R]),"s","layerstyle",r.depth,1,[R,u]);
i.Hb(G&&g[u].v.enab.v);i.parent=this;c.appendChild(i.m)}}}if(e.Ru()){var i=new jP._z(ab.get([12,55]),"fm",null,r.depth,0,-1,e.xg(F).v?this.Pe:null);
i.parent=this;c.appendChild(i.m);this.a0G=i.m;this.a0G.addEventListener("contextmenu",I,!1);var b=e.add.SoLd.filterFX.v,A=b.filterFXList.v,G=b.enab.v;
i.Hb(G);for(var R=A.length-1;R>=0;R--){var a=A[R].v,d=df.qG(a);if(gn.L4[d])d=gn.L4[d];var K=a.Nm.v;if(df.names[d])K=ab.get(df.names[d]);
if(gn.names[d])K=ab.get(gn.names[d]);var n="afw_"+d,i=new jP._z(K,"f",n,r.depth,1,R);i.Hb(G&&a.enab.v);
i.parent=this;c.appendChild(i.m)}}if(r.index==F.w[0]){var t=e.Ku,X;if(t<=0)X=this.ru;else if(t==1)X=this.xu;
else if(t==3)X=this.Pe;if(X)X.setAttribute("class","thumb active");if(e.pk&&this.K4)this.K4.setAttribute("class","thumb active")}Q.style.opacity=e.gv()?1:.25;
U.setAttribute("style","width:"+Math.max(0,r.depth-1)*18+"px");var aK=e.add.lspf!=null&&e.add.lspf!=0||h.oA;
this.yF.style.opacity=e.gT(31)?1:.5;H[4]=e.S8?W._("div","clipp"):null;H[6]=$?this.t9:null;H[7]=$?this.xu:null;
H[8]=e.add.vmsk&&!Z?this.hI:null;H[9]=e.add.vmsk&&!Z?this.K4:null;var k=e.vM,hG=F.w;if(k!=0)for(var R=0;
R<hG.length;R++)if(F.g[hG[R]].vM==k){fg=!0;break}if(fg){x[0]=W._("div",e.Jh?"link":"linkX");x[0].addEventListener("click",this.aol.bind(this),!1)}x[1]=aK?this.yF:null;
x[2]=e.hO()?this.a7K:null;x[3]=e.hO()||e.Ru()?this.mv:null;this.mv.setAttribute("class",e.uV()?"arfx open  gsicon":"arfx closed  gsicon");
var eE=H;for(var R=0;R<eE.length;R++)if(eE[R])Y.appendChild(eE[R]);eE=x;for(var R=0;R<eE.length;R++)if(eE[R])D.appendChild(eE[R])}eA.prototype=new jZ;
eA.prototype.hK=function(r){W.vN(r,function(N){W.ey(document.body,function(){clearTimeout(this.av8)}.bind(this));
this.av8=setTimeout(function(){var F=new gf("rclick",!0);F.data={a:this.FH.index,Ku:this.Ku(N),TN:W.or(N,document.body)};
this.L(F)}.bind(this),600)}.bind(this))};eA.prototype.apq=function(r){var N=this.FH.index;if(r.indexOf(N)!=-1){if(this.m.scrollIntoView)this.m.scrollIntoView({block:"nearest"})}for(var R=0;
R<this.mN.length;R++)this.mN[R].apq(r)};eA.hR=function(r,N){var F=N.getBoundingClientRect();return(r.clientY-F.top)/F.height};
eA.prototype.sF=function(r){r.stopPropagation();var N=r.target==this.xu?"m":r.target==this.K4?"vm":"l";
r.dataTransfer.setData("Text",JSON.stringify({dn:N,Xx:this.FH.index}))};eA.prototype.gi=function(r){W.o8(r);
this.GS()};eA.prototype.kL=function(r){W.o8(r);this.GS();var N=r.dataTransfer.getData("Text"),F=this.parent._I,h=eA.hR(r,this.yx),m=this.FH.index;
if(h>.8){var O=!0,e=F.root.Jr(m);while(e.parent!=null){var P=e.parent,B=P.children;if(B.indexOf(e)!=0)O=!1;
e=e.parent}if(O){m=0;h=1}}if(N==""){W.YK(r,this,this.parent.Uc.indexOf(F),m+(h>.5?0:1))}else if(N!="--panel"){var N=JSON.parse(N),s=N.dn;
if(s=="l")this.Ri({V:C.iF,source:N.Xx,target:m,ky:h});else if(s=="m"||s=="vm")this.Ri({V:s=="m"?C.afq:C.TA,src:N.Xx,fd:m});
else eA.atc(r,N,this)}};eA.atc=function(r,N,F,h){var m=N.dn,O=F.FH.index,e=N.Xx;if(m=="s"||m=="sm")F.Ri({V:C.CG,src:e,fd:O,BS:N.BS});
if(m=="f"||m=="fm")F.Ri({V:C.ab8,src:e,fd:O,BS:N.BS,cr:h==null?0:h})};eA.prototype.wy=function(r){W.o8(r);
var N=eA.hR(r,this.yx),F=this.FH.a.zv()&&.5<N&&N<.8;this.GS();var h="inset 0 "+(F?0:N>.5?-3:3)+"px "+(F?"5px black":"0 rgba(0,0,0,0.5)");
this.yx.style.boxShadow=h};eA.prototype.GS=function(r){this.yx.style.boxShadow=""};eA.abI=-1;eA.sH=!1;
eA.a8A=function(r){eA.sH=!1;document.body.removeEventListener("mouseup",eA.a8A)};eA.prototype.aq4=function(r){if(r.button!=0)return;
if(r.type=="mousedown"){eA.sH=!0;document.body.addEventListener("mouseup",eA.a8A,!1)}if(r.type=="mouseover"&&(!eA.sH||eA.abI==this.FH.index))return;
W.o8(r);this.Ri({V:C.FV,a:this.FH.index});eA.abI=this.FH.index};eA.prototype.ad2=function(r){W.o8(r);
this.Ri({V:C.a0T,a:this.FH.index})};eA.prototype.asZ=function(r){this.Ri({V:C.mD,a:this.FH.index})};
eA.prototype.ah1=function(r){this.Ri({V:C.tS,a:this.FH.index})};eA.cK=0;eA.prototype.bk=function(r){this.Ri({V:C.er,a:this.FH.index,name:r})};
eA.prototype.aex=function(r){this.Ri({V:C.aiT,a:this.FH.index})};eA.prototype.aol=function(r){this.Ri({V:C.TJ,a:this.FH.index})};
eA.prototype.ao2=function(r){var N=r.sourceCapabilities;if(N)N=N.firesTouchEvents;if(r.button!=2&&N!=!0)return;
var F=this.Ku(r);if(F!=3&&r.currentTarget==this.a0G)F=4;if(r.target==this.a7K||r.currentTarget==this.ac4)F=5;
var h=new gf("rclick",!0);h.data={a:this.FH.index,Ku:F,TN:W.or(r,document.body)};this.L(h)};eA.prototype.Ku=function(r){var N=r.target,F=N;
return F==this.K4?2:F==this.xu?1:F==this.ru?0:F==this.Pe?3:-1};eA.prototype.aqY=function(r){var N=r.target,c;
if(N==this.io||N==this.mv||N==this.t9||N==this.hI||N.tagName&&N.tagName.toLowerCase()=="input")return;
var F=this.Ku(r),h=this.parent._I,m=this.FH.index,O=h.g[m];if(N==this.yF){this.Ri({V:C.Dd,a:m,oC:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(N==this.g3){var e=eA.cK;eA.cK=Date.now();if(Date.now()-e<300){this.yx.setAttribute("draggable","false");
var P=new gt.XN(this.g3,this.bk.bind(this))}else this.Ri({V:C.xo,a:m,EK:F,pF:!0});return}if(r.button==0&&r.detail==2){if(N==this.g3)return;
var B=new gf(v.E.u,!0),s=new gf(v.E.S,!0),Y=new gf(v.E.nE,!0);if(F==0&&O.add.SoCo){var D=w.X.Mq(O.add.SoCo.Clr.v);
s.data={V:v.c.pr,i7:"colorpicker",IU:D.Z<<16|D.z<<8|D.J,xV:function(x){var Q=w.X.QA({J:x&255,z:x>>>8&255,Z:x>>16&255});
Q={classID:"null",Clr:{t:"Objc",v:Q}};var U=new gf(v.E.u,!0);U.s=z.j7;U.data={V:C.uL,U$:[m],zM:!0,h:{_h:1,PL:Q}};
this.L(U)}.bind(this),C9:!0}}else if(F==0&&(gn.get(O.add)||O.add.SoCo||O.add.GdFl||O.add.PtFl))s.data={V:v.c.M6,i7:gt.A4.OV};
else if(F!=0&&F!=-1)s.data={V:v.c.M6,i7:gt.A4.OV};else if(F==0&&O.add.SoLd)Y.data={Ja:"placedLayerEditContents",Tf:{classID:"placedLayerEditContents"}};
else if(F==0&&O.add.TySh){B.s=z.tI;B.data={V:"editCurr",b1:m}}else s.data={V:v.c.pr,i7:"layerstyle",a:m};
this.L(Y.data?Y:s.data?s:B);return}if(r.button!=0)return;if(F==1||F==3){var o=F==3?O.xg(h).v:O.$n();
c=o.BJ?h.q.Hr.join("")=="111"?1:2:0}var H={V:C.xo,a:m,EK:F,atv:c,pF:!0};this.Ri(H)};eA.prototype.Ri=function(r){var N=new gf(v.E.u,!0);
N.data=r;N.s=z.j7;this.L(N)};eA.prototype.a7P=function(){var r=this.FH.a,N=r.add,F=this.parent.LE.k(),h=this.parent.Ea[F].k();
if(F==0){if(h[0]&&N.SoLd==null&&N.TySh==null&&r.ve())return!0;if(h[1]&&gn.get(N)!=null)return!0;if(h[2]&&N.TySh!=null)return!0;
if(h[3]&&N.vstk!=null)return!0;if(h[4]&&N.SoLd!=null)return!0;return!1}if(F==1)return r.getName().toLowerCase().indexOf(h.toLowerCase())!=-1};
jP._z=function(r,N,F,h,m,O,e){jZ.call(this);this.a32=N;this.n_=F;this.index=O;this.m=W._("div","styleitem");
this.yx=W._("div","head");this.a3j=null;if(N=="f"){var P=this.a3j=W._("div","headR");P.textContent="\u2699";
this.yx.appendChild(P)}this.R9=W._("div","eye gsicon");this.g3=W._("div","label");this.m.appendChild(this.yx);
this.yx.appendChild(this.R9);if(e){this.xu=e;this.yx.appendChild(this.xu);this.yx.setAttribute("style","height: "+(e.firstChild.height/W.G()+10)+"px")}this.g3.innerHTML=r;
this.m.setAttribute("style","margin-left: "+(24+h*16+m*22)+"px");this.yx.appendChild(this.g3);this.R9.addEventListener("click",this.a06.bind(this),!1);
var B=this.m;B.setAttribute("draggable","true");B.addEventListener("dragstart",this.sF.bind(this),!1);
if(!0){B.addEventListener("drop",this.kL.bind(this),!1);B.addEventListener("dragover",this.wy.bind(this),!1);
B.addEventListener("dragenter",W.o8,!1);B.addEventListener("dragleave",this.gi.bind(this),!1)}this.m.addEventListener("click",this.wJ.bind(this),!1)};
jP._z.prototype=new jZ;jP._z.prototype.sF=function(r){r.stopPropagation();r.dataTransfer.setData("Text",JSON.stringify({dn:this.a32,Xx:this.parent.FH.index,BS:this.index}))};
jP._z.prototype.gi=function(r){W.o8(r);this.GS()};jP._z.prototype.kL=function(r){W.o8(r);this.GS();var N=r.dataTransfer.getData("Text");
if(N=="")return;var N=JSON.parse(N);eA.atc(r,N,this.parent,this.index+(eA.hR(r,this.yx)>.5?0:1))};jP._z.prototype.wy=function(r){W.o8(r);
var N=eA.hR(r,this.yx)>.5;this.GS();var F="border-"+(N?"bottom":"top");this.yx.style[F]="0.2em solid rgba(0,0,0,0.5)"};
jP._z.prototype.GS=function(r){this.yx.style.border="none"};jP._z.prototype.Hb=function(r){var N=15;
if(1<W.G()&&W.G()<1.5)N=N/W.G();this.R9.setAttribute("style","background-size: "+N+"px "+N+"px;");this.R9.style.opacity=r?1:.2};
jP._z.prototype.wJ=function(r){if(r.target==this.R9)return;var N=this.parent.FH.index;if(r.detail!=1&&this.n_!=null){var N=this.parent.FH.index,F=new gf(v.E.S,!0);
if(this.n_.indexOf("afw_")==0){var h=this.n_.slice(4),m=q[h]||df.P[h],O=r.target==this.a3j;if(!O&&!m)return;
F.data=z.op.Aw(O?"blendOptions":h,{a:N,index:this.index})}else F.data={V:v.c.pr,i7:this.n_,a:N,index:this.index};
this.L(F)}else{if(r.target.getAttribute("class")!="thumb")this.parent.Ri({V:C.xo,a:N,EK:0})}};jP._z.prototype.a06=function(r){var N={fm:C.gN,f:C.m$,sm:C.eB,s:C.Yy}[this.a32];
this.parent.Ri({V:N,a:this.parent.FH.index,index:this.index})};function hO(){gt.call(this,"Guide Guy",!1,"---panels/guideguy",gt.A4.a9j);
this.pZ=null;this.wF=[];var r=W._("div","form padded");this.go.appendChild(r);r.setAttribute("style","width:200px");
this.go.appendChild(r);var N=W._("canvas"),F=N.getContext("2d");N.width=N.height=160;var h=[32,0,16,160,0,32,160,16,0,112,160,16],m="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),O=[0,0,0,0,0,0,0,0,0,0];
for(var R=0;R<10;R++){F.clearRect(0,0,160,160);F.setTransform(1,0,0,1,80,80);F.rotate((R&3)*Math.PI/2);
F.translate(-80,-80);F.fillStyle="rgba(0,0,0,0.3)";if(R<4){for(var e=0;e<12;e+=4){F.fillStyle=e==0?"#000000":"rgba(0,0,0,0.3)";
F.fillRect(h[e],h[e+1],h[e+2],h[e+3])}}else if(R<6){var P=8*6;F.fillRect(0,0,P,160);F.fillRect(8*7,0,P,160);
F.fillStyle="#000000";F.fillRect(8*14,0,P,160)}else if(R<8){F.fillRect(0,0,16,160);F.fillRect(160-16,0,16,160);
F.fillRect(32,0,160-64,160);F.fillStyle="#000000";F.fillRect(32,80-8,160-64,8*1)}else{F.fillRect(0,0,8*7,160);
F.fillRect(8*13,0,160,160);F.fillStyle="#000000";F.fillRect(8*7,80-8,8*6,8*1)}var B="<img src=\""+N.toDataURL()+"\" class=\"autoscale gsicon\" /> ",s=new g$(B,0,200,R==4||R==5?null:"px",null,null,null,4,m[R]);
s.parent=this;s.U(v.E.o,this.av1,this);s.b(O[R]);s.f();this.wF.push(s);r.appendChild(s.m)}var Y=[[11,14],[11,15,0]];
this.JU=[];for(var R=0;R<Y.length;R++){var D=new d_(Y[R],!0,null,!0);this.JU.push(D);D.U("click",this.dz,this);
r.appendChild(D.m)}for(var R=0;R<6;R++){F.setTransform(1,0,0,1,80,80);F.rotate(Math.floor(R/3)*Math.PI/2);
F.translate(-80,-80);F.clearRect(0,0,160,160);F.fillStyle="rgba(0,0,0,0.3)";F.fillRect(0,0,160,160);
F.clearRect(16,16,128,128);F.fillStyle="#000000";var c=R%3;F.fillRect([0,9,18][c]*8,0,16,160);var B="<img src=\""+N.toDataURL()+"\" class=\"autoscale gsicon\" /> ",D=new d_(B,!1,null,!1);
this.JU.push(D);D.U("click",this.dz,this);r.appendChild(D.m)}}hO.prototype=new gt("");hO.prototype.f=function(){gt.prototype.f.call(this);
for(var R=0;R<this.JU.length;R++)this.JU[R].f()};hO.prototype.av1=function(r){var N=this.wF,F=N.indexOf(r.target),h=Math.floor(F/2),m=F&1,O=[];
for(var R=0;R<4;R++)O.push(N[2*R+m].k());var e=-1;if(h==2&&O[2]!=0&&O[3]!=0&&O[4]!=0)e=4;if(h==3&&O[3]!=0&&O[2]!=0&&O[4]!=0)e=4;
if(h==4&&O[4]!=0&&O[2]!=0&&O[3]!=0)e=3;if(e!=-1)N[2*e+m].b(0)};hO.prototype.dz=function(r){var N=this.pZ,F=this.JU.indexOf(r.target),h=[[],[]];
if(N==null)return;var m=N.$?N.$.rect:new fE(0,0,N.e,N.n),O=m.e,e=m.n;if(F==0){var P=[[],[]];for(var R=0;
R<this.wF.length;R++)P[R&1].push(this.wF[R].k());var B=[hO.anW(P[0],m.x,m.x+O),hO.anW(P[1],m.y,m.y+e)];
h=hO.ak0(B);z.FZ.ND(h,N.jS())}else if(F==1){}else{F-=2;var s=Math.floor(F/3),B=[[],[]];B[s].push([m.x,m.x+O/2,m.x+O,m.y,m.y+e/2,m.y+e][F]);
h=hO.ak0(B);z.FZ.ND(h,N.jS())}this.aer(h)};hO.ak0=function(r){var N=[],F=[];for(var h=0;h<2;h++)for(var R=0;
R<r[h].length;R++){N.push([h,r[h][R]]);F.push(-1)}return[N,F]};hO.prototype.acu=function(r){var N=this.ari.indexOf(r.target)};
hO.prototype.aer=function(r){var N=new gf(v.E.u,!0);N.s=z.FS;N.data={V:"gids",xj:r};this.L(N)};hO.anW=function(r,N,F){var h=[],m=r[2],O=r[3],e=r[4],P=0;
if(m==0)P++;if(O==0)P++;if(e==0)P++;if(P>1&&m==0&&O==0){if(r[0]!=0)h.push(N+r[0]);if(r[1]!=0)h.push(F-r[1]);
return h}var B=F-N-r[0]-r[1];if(m==0){if(e==0){m=Math.floor(B/O);e=(B-m*O)/(m-1)}else{m=1;while(O*m+e*(m-1)+O+e<=B)m++}}else if(m!=0&&O!=0){if(m*O>B)m=Math.floor(B/O);
e=(B-m*O)/(m-1)}h.push(N+r[0],F-r[1]);var O=(B-e*(m-1))/m;for(var R=1;R<m;R++){if(e==0)h.push(N+r[0]+R*O);
else h.push(N+r[0]+R*O+(R-1)*e,N+r[0]+R*O+R*e)}return h};hO.prototype.w0=function(r){this.pZ=r};function gU(){gt.call(this,[9,2],!1,"---panels/properties",gt.A4.OV);
this.aeu=null;this.Ec=null;this.bX=null;this.anh=-1;this.mW=null}gU.prototype=new gt("");gU.prototype.bh=function(r,N){this.YW=r;
this.Nf=N;r=r-16;N=N-12;var F=this.mW;if(F){F.style.width=r+"px";F.style.height=N+"px";for(var R=0;R<3;
R++)this.nl[R].bh(r-12,N)}};gU.prototype.rn=function(){this.mW=W._("div","padded scrollable");this.go.appendChild(this.mW);
var r=W._("span");this.mW.appendChild(r);this.Ok=[new d_([0,3]),new d_([12,73]),new d_([12,91,0])];for(var R=0;
R<this.Ok.length;R++){var N=this.Ok[R];N.U("click",this.alN,this);r.appendChild(N.m);if(R==2)N.m.style.marginRight="0"}this.mW.appendChild(W._("hr"));
this.qz=new gU.Nl;this.qz.parent=this;this.G7=new gU.Iz;this.G7.parent=this;this.U6=new gU.aL;this.U6.parent=this;
this.nl=[this.qz,this.G7,this.U6];this.mW.appendChild(this.qz.m);this.bh(this.YW,this.Nf)};gU.prototype.alN=function(r){var R=this.Ok.indexOf(r.currentTarget);
this.w7(R);this.asz(R==1?this.G7.n8:-1)};gU.prototype.w7=function(r){for(var R=0;R<3;R++){this.Ok[R].So();
var N=this.nl[R].m;if(N.parentNode==this.mW&&R!=r)this.mW.removeChild(N);if(N.parentNode!=this.mW&&R==r)this.mW.appendChild(N)}this.Ok[r].D2()};
gU.prototype.asz=function(r){var N=this.Ec.w[0],F=this.Ec.g[N],h=r+1;if(r==1&&F.pk)return;var m=new gf(v.E.u,!0);
m.s=z.j7;if(r!=1&&F.pk){m.data={V:C.xo,a:N,EK:2};this.L(m)}m.data={V:C.xo,a:N,EK:h};this.L(m)};gU.prototype.f=function(){gt.prototype.f.call(this);
if(this.mW==null)return;this.w0(this.Ec);for(var R=0;R<3;R++){this.Ok[R].f();this.nl[R].f()}};gU.prototype.DH=function(){if(!W.Xs(this.go))return;
if(this.mW==null){this.rn();this.Qr(this.bX,bC.ge);this.w0(this.aeu);this.f()}};gU.prototype.w0=function(r){this.aeu=r;
if(this.mW==null)return;this.qz.w0(r);this.G7.w0(r);this.U6.w0(r);if(r==null||r.w.length==0||r.g[r.w[0]]==null){W.Ou(this.go,"disabled");
this.Ec=null;return}else W.PV(this.go,"disabled");var N=r.w[0],F=r.g[N],h=r.bN(),m=h[0],O=h[1];if(O.length!=0){var e=m[O[0]],P=e.add.vogk,B=!1;
if(P)for(var R=0;R<P.length;R++){var s=P[R].v;if(!w.UI.ja(s))continue;B=!0;N=e.Jz}}N+=","+B;if(r!=this.Ec||this.anh!=N){this.Ec=r;
this.anh=N;if(B)this.w7(2);else if(F.Ku<1&&!F.pk||gn.get(F.add))this.w7(0);else this.w7(1)}this.Ok[1].W9(this.G7.n8!=-1);
this.Ok[2].W9(B)};gU.prototype.Qr=function(r,N){this.bX=r;if(this.qz)this.qz.Qr(r,N);if(this.U6)this.U6.Qr(r,N)};
gU.Nl=function(){jZ.call(this);this.m=W._("div","form");this.a5h=new bB("Hello");this.jF=new d_([1,12,2],null,null,!0);
this.jF.m.style.a6K="right";this.jF.U("click",this.ik,this);this.m.appendChild(this.a5h.m);this.m.appendChild(this.jF.m);
this.$L=null;this.J$=null;this.Ec=null;this.bX=null;this.acp=-1;this.a77=null;this.Ys=new cw(!0);this.Ys.parent=this;
this.Ys.U(v.E.o,this.a2l,this);this.tv=W._("div","marged hiline");this.tv.appendChild(this.Ys.m);this.Rp=new jj("GrFl",!0);
this.Rp.parent=this;this.Rp.U(v.E.o,this.atr,this);this.cJ=W._("div","marged hiline");var r="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var R=0;R<r.length;R++){var N=this.Rp.lg[r[R]].m;this.cJ.appendChild(N)}this.Q0=new jj("patternFill",!0);
this.Q0.parent=this;this.Q0.U(v.E.o,this.a5W,this);this._L=W._("div","marged hiline");var r=["Ptrn","Angl","Scl","Algn","phase"];
for(var R=0;R<r.length;R++){var N=this.Q0.lg[r[R]].m;this._L.appendChild(N)}this.RB={};for(var F in gn.names){if(q[F]==null)continue;
this.RB[F]=new q[F];this.RB[F].U(v.E.o,this.af6,this);this.RB[F].parent=this}var h=this.arf=W._("div","marged hiline");
this.Ch=new hT(0,!0);h.appendChild(this.Ch.m);this.Ch.U(v.E.o,this.iY,this);this.afO=null;this._H=new dj;
this._H.parent=this;this._H.U(v.E.o,this.iY,this);h.appendChild(this._H.m)};gU.Nl.prototype=new jZ;gU.Nl.prototype.bh=function(r,N){var F=this.RB;
for(var h in F)F[h].bh(r,N)};gU.Nl.prototype.ik=function(r){var N=this.Ec,F=N.g[N.w[0]],h=gn.get(F.add);
this.J$.b(df.T$(h));this.af6()};gU.Nl.prototype.f=function(){for(var r in this.RB)this.RB[r].f();this.Rp.f();
this.Q0.f();this._H.f();this.Ch.f();this.jF.f()};gU.Nl.prototype.iY=function(r){var N=new gf(v.E.u,!0),F=this.Ch.k(),h=this.afO;
if(r.target==this.Ch&&F[2]==h[2]&&F[3]==h[3]){N.s=z.FS;N.data={V:"trsl",SV:F[0]-h[0],_Q:F[1]-h[1]}}else{var m=C.wh(new fE(F[0],F[1],F[2],F[3])),O=this._H.amz();
O.artboardRect={t:"Objc",v:m};N.s=z.j7;N.data={V:C.Rv,Gb:O}}this.L(N)};gU.Nl.prototype.a2l=function(r){var N=this.Ec,F=N.w[0];
if(N.g[F].add.SoCo==null)return;var h=JSON.parse(JSON.stringify(N.g[F].add.SoCo));h.Clr.v=this.Ys.k();
this.rS({_h:1,PL:h})};gU.Nl.prototype.atr=function(r){var N=this.Ec,F=N.w[0];if(N.g[F].add.GdFl==null)return;
this.rS({_h:2,PL:this.Rp.k()})};gU.Nl.prototype.a5W=function(r){this.rS({_h:3,PL:this.Q0.k()})};gU.Nl.prototype.rS=function(r){this.a83(z.j7,{V:C.uL,U$:[this.Ec.w[0]],zM:!0,h:r})};
gU.Nl.prototype.af6=function(r){this.a83(z.T_,{V:"edit_layer",h:this.J$.k()})};gU.Nl.prototype.a83=function(r,N){var F=new gf(v.E.u,!0);
F.s=r;F.data=N;this.L(F)};gU.Nl.prototype.w0=function(r,N){var F=ab.get([0,3]),h=!1,m=null;this.Ec=r;
if(r&&r.g.length>0&&r.w.length!=0&&r.g[r.w[0]]){var O=r.g[r.w[0]],e=gn.get(O.add);if(e!=null&&this.RB[e]!=null){m=this.RB[e].m;
this.J$=this.RB[e];this.RB[e].b(JSON.parse(JSON.stringify(O.add[e])));if(r.w[0]!=this.acp){var P=r.G9(r.w[0]-1);
this.a77=w.K2(P)}this.RB[e].ff(this.a77);F=ab.get(gn.names[e]);h=!0}if(O.add.SoCo){m=this.tv;this.Ys.b(O.add.SoCo.Clr.v);
F=ab.get([6,48,0,0])}if(O.add.GdFl){m=this.cJ;this.Rp.update(r,O.add.GdFl);F=ab.get([6,48,0,1])}if(O.add.PtFl){m=this._L;
this.Q0.update(r,O.add.PtFl);F=ab.get([6,48,0,2])}if(O.add.artb){var B=O.add.artb,s=O.CN();m=this.arf;
this._H.ag0(B);var Y=this.afO=[s.x,s.y,s.e,s.n];this.Ch.b(Y,[r.EP,r.e,this.bX.ec.W3]);F=ab.get([1,16,0])}this.acp=r.w[0]}if(m!=this.$L){if(this.$L)this.m.removeChild(this.$L);
if(m!=null)this.m.appendChild(m);this.$L=m}this.a5h.b(F);this.jF.m.style.display=h?"":"none"};gU.Nl.prototype.Qr=function(r,N){this.bX=r;
this.Rp.Qr(r,N);this.Q0.Qr(r,N);if(N==bC.X3)this.w0(this.Ec,r);for(var F in this.RB)this.RB[F].Qr(r,N)};
gU.Iz=function(){jZ.call(this);this.m=W._("div","form");this.Ec=null;this.n8=0;var r=W._("span","fitem");
this.m.appendChild(r);this.Ok=[new d_([6,2]),new d_([6,3]),new d_([6,50])];for(var R=0;R<this.Ok.length;
R++){var N=this.Ok[R];N.U("click",this.asW,this);r.appendChild(N.m)}this.EH=new d5([12,74],0,255);this.EH.U(v.E.o,this.g0,this);
this.m.appendChild(this.EH.m);this.U7=new d5([7,6],0,500,"px",2,!0);this.U7.U(v.E.o,this.g0,this);this.m.appendChild(this.U7.m);
this.Sj=new d_([4,11],null,null,!0);this.Sj.U("click",this.a8Z,this)};gU.Iz.prototype=new jZ;gU.Iz.prototype.a8Z=function(){var r=new gf(v.E.u,!0);
r.s=z.T_;r.data={V:"start",_w:"nvrt"};this.L(r)};gU.Iz.prototype.g0=function(r){var N=this.EH.k(),F=this.U7.k(),h=new gf(v.E.u,!0);
h.s=z.j7;h.data={V:C.Y6,im:this.Ec.w[0],BM:{jG:this.n8,EH:N,U7:F}};this.L(h)};gU.Iz.prototype.f=function(){for(var R=0;
R<this.Ok.length;R++)this.Ok[R].f();this.EH.f();this.U7.f();this.Sj.f()};gU.Iz.prototype.w0=function(r){this.Ec=r;
this.KU()};gU.Iz.prototype.asW=function(r){this.KU(this.Ok.indexOf(r.currentTarget));this.parent.asz(this.n8)};
gU.Iz.prototype.KU=function(r){var N=this.Ec,F=this.Ok;for(var R=0;R<3;R++){var h=F[R];h.So();h.Xo()}if(N==null||N.g.length==0||N.w.length==0||N.g[N.w[0]]==null)return;
var m=-1,O=N.g[N.w[0]];if(O.Ru()&&O.xg(N).v!=null){F[2].RK();m=2}if(O.add.vmsk){F[1].RK();m=1}if(O.$n()){F[0].RK();
m=0}if(r!=null)m=r;else if(O.pk)m=1;else if(O.Ku==3)m=2;else if(O.Ku==1)m=0;this.n8=m;if(m==-1){this.EH.Xo();
this.U7.Xo();return}var e=O.mT(m);this.EH.RK();this.U7.RK();this.EH.b(e.EH);this.U7.b(e.U7);F[m].D2();
var P=this.Sj.m;if(m==0)this.m.appendChild(P);else if(P.parentNode==this.m)this.m.removeChild(P)};gU.aL=function(){jZ.call(this);
this.m=W._("div","form");this.pZ=null;this.bX=null;this.DX=-1;this._Z=new hT(0,!1);this.dv=new d5([12,15],-180,180,"\xB0",2);
this.lQ=new hT(1,!0);this.ls=new d5([12,94,0],0,100,null,2);this.Tw=new d5([12,78],3,30);this._Z.U(v.E.o,this.iM,this);
this.dv.U(v.E.o,this.iM,this);this.lQ.U(v.E.o,this.iM,this);this.ls.U(v.E.o,this.iM,this);this.Tw.U(v.E.o,this.iM,this)};
gU.aL.prototype=new jZ;gU.aL.prototype.f=function(){this._Z.f();this.dv.f();this.lQ.f();this.ls.f();
this.Tw.f()};gU.aL.prototype.iM=function(r){var N=this.pZ,F=w.UI.UD(N),h=r.target.k(),m=[this._Z,this.dv,this.lQ,this.ls,this.Tw].indexOf(r.target);
if(m==0){var O=[];O[0]=h[0];O[1]=h[1];O[2]=O[0]+h[2];O[3]=O[1]+h[3];h=O}if(m==1)h=h*Math.PI/180;var e={0:1,1:2,2:3,3:3,4:4}[m];
F[e]=h;var P=new gf(v.E.u,!0);P.s=z.j7;P.data={V:C.HO,h:F};this.L(P)};gU.aL.prototype.w0=function(r){var N=this.m;
this.pZ=r;if(r==null)return;var F=this.bX,h=[r.EP,r.e,F.ec.W3],m=w.UI.UD(r),O=m[0],e=m[1];if(e==null)return;
var P=O!=this.DX;this.DX=O;if(P)W.Tg(N);if(P)N.appendChild(this._Z.m);if(P)N.appendChild(this.dv.m);
this._Z.b([e[0],e[1],e[2]-e[0],e[3]-e[1]],h);this.dv.b(m[2]*180/Math.PI);if(O==2){if(P)N.appendChild(this.lQ.m);
var B=m[3];this.lQ.b(B,h)}if(O==7||O==8){if(P)N.appendChild(this.ls.m);this.ls.b(m[3])}if(O==8){if(P)N.appendChild(this.Tw.m);
this.Tw.b(m[4])}};gU.aL.prototype.Qr=function(r,N){this.bX=r;this.w0(this.pZ)};function jN(r){gt.call(this,r.name,!0);
this._I=r;this.if=null;this.ql=document.createElement("canvas");this.wq=this.ql.getContext("2d");this.Br=document.createElement("canvas");
this.Yg=this.Br.getContext("2d");var N=16,F=w.B(16*16*4);w.aI(F,N,N,8);this.V8=w.scale.Rf(F,N,N);this.k4=new aI(this.go);
this.k4.parent=this;this.Ef=0;this.a0r="";this.$q=4}jN.prototype=new gt;jN.prototype.a5E=function(){if(this._I.uR())return window.confirm(ab.get([22,6,3])+" "+this._I.name+". "+ab.get([22,6,4]));
return!0};jN.prototype.Qr=function(r,N){this.if=r};jN.prototype.w0=function(r){this.DH();this.Fm()};
jN.prototype.bh=function(r,N){if(r<=0||N<=0)return;this.YW=r;this.Nf=N;var F=this._I,h=W.G();F.q.Yg.e=Math.floor(r*h);
F.q.Yg.n=Math.floor(N*h);W.Pf(this.Br,r,N);W.Pf(this.ql,r,N);W.Pf(M.Cl(),r,N);if(F.q.O==0)F.q.O=z.EI.jN(F.e,F.n,r*h,N*h);
this.Fm()};jN.prototype.DH=function(){var r=this.go.firstChild;if(!M._X&&r==M.Cl()||M._X&&r==this.Br)this.go.removeChild(r);
var N=M._X?M.Cl():this.Br;if(!W.Xs(N))this.go.appendChild(N)};jN.prototype.Fm=function(){if(M._X!=this.$q){this.Ef=0;
this.a0r=""}this.$q=M._X;if(this.if==null)return;if(M._X)this.aox();else this.iK();var r=this._I;this.Ef=r.q.O;
this.a0r=JSON.stringify(r.q.Hr)};jN.prototype.aox=function(){if(M._X&&jN.FL==null){var r=jN.FL=[],N=[0,2,8,32,128];
for(var R=0;R<5;R++)r[R]=[new jN.jz(!1,N[R]),new jN.jz(!0,N[R])]}var F=this._I,D,H=0,j,T;if(F.jh==null)return;
var h=F.q,m=h.Yg.e,O=h.Yg.n,e=M.Az;this.Yg.clearRect(0,0,m,O);var P=this.aub(F);if(h.z8==null)h.z8=new M.rX(m,O);
if(P)h.z8.set(this.Br);else{M.y9(h.z8);M.gc(1)}var B=h.l9(0,0),s=new hc;s.scale(m,O);s.concat(h.XA(!0));
s.scale(1/F.e,1/F.n);var Y=[s.O$,s.J,0,s.KM,s.Bv,0,s.HG,s.SS,1];if(jN.a0m==null)jN.a0m=new Float32Array(4*1024);
var c=[0,0,0,0],o=jN.a0m;if(F.add.artd){o.fill(0);c=jN.b9(F);var x=F.e,Q=F.n,p=0;for(var R=0;R<F.g.length;
R++){var U=F.g[R],I=U.add.artb;if(I==null||!U.gv())continue;var l=U.CN();o[H]=l.x/x;o[H+1]=l.y/Q;o[H+2]=l.e/x;
o[H+3]=l.n/Q;H+=4;if(H==o.length)break}if(H>2*4)p++;if(H>8*4)p++;if(H>32*4)p++;D=jN.FL[p+1];o=new Float32Array(o.buffer,0,[2,8,32,128][p]*4)}else D=jN.FL[0];
var V=F.alj();if(V==null)D=D[0];else{D=D[1];T=V[F.add.fcmy==1?6:4];j=V[2]}M.m2(m,O);M.gc(0);M.m2(m,O);
D.cU();D.qZ(h.z8.UX,F.jh.UX,new Float32Array(Y),new Float32Array([m/8,O/8,B.x/m,B.y/O]),F.e,F.n,1/F.q.O,m,O,new Float32Array(c),o,new Float32Array(w.nt.Vu(w.nt.l0(h.Hr))),T,j);
e.drawArrays(e.TRIANGLES,0,6)};jN.b9=function(r){return[0,0,0,0]};jN.a8l=function(r){var N=w.X.Mq(r.v),F=[N.Z/255,N.z/255,N.J/255,1];
for(var R=0;R<4;R++)F[R]=Math.min(1,F[R]);return F};jN.GV=function(r,N){var F=r[2]*255;if(M._X)F=N?0:Math.max(1,F);
return"rgba("+r[0]*255+","+r[1]*255+","+F+","+r[3]+")"};jN.eV=function(r){if(M._X)for(var R=0;R<r.length;
R+=4){if(r[R+2]==0)r[R+2]=3}};jN.prototype.iK=function(){var r=this._I;if(r.buffer==null)return;var N=r.q,F=N.Yg,h=F.e,m=F.n,O=new fE(0,0,r.e,r.n);
this.wq.clearRect(0,0,h,m);this.Yg.clearRect(0,0,h,m);var e=N.XA(!0),P=e.clone();P.iL();if(r.add.artd==null){this.Yg.save();
var B=P.eS(new gS(0,0));P.translate(-B.x,-B.y);this.Yg.translate(Math.round(B.x),Math.round(B.y));this.Yg.fillStyle=this.V8;
this.Aq(w.p.fc(O),P,this.Yg);this.Yg.fill();this.Yg.restore()}else{this.Yg.fillStyle=jN.GV(jN.b9(r));
this.Yg.fillRect(0,0,h,m);this.Yg.save();this.Yg.setTransform(P.O$,P.J,P.KM,P.Bv,P.HG,P.SS);var s=r.root.children;
for(var R=0;R<s.length;R++){var Y=s[R].a;if(Y.add.artb==null||!Y.gv())continue;var D=Y.CN(),c=Y.PG();
if(c!=0)continue;this.Yg.fillStyle=this.V8;this.Yg.save();this.Yg.scale(1/N.O,1/N.O);this.Yg.fillRect(N.O*D.x,N.O*D.y,D.e*N.O,D.n*N.O);
this.Yg.restore()}this.Yg.restore()}if(N.AW.length!=F.W()){N.AW=w.B(F.W());N.X1=w.B(F.W()*4)}N.X1.fill(0);
w.scale.gG(r.buffer,O,e,N.X1,F);var o=r.alj();if(o)ICC.U.applyLUT(o[r.add.fcmy==1?5:3],o[2],N.X1,N.X1);
if(N.Hr[0]+N.Hr[1]+N.Hr[2]!=3)w.nt.dm(N.X1,N.X1,w.nt.l0(N.Hr));this.wq.putImageData(new ImageData(new Uint8ClampedArray(N.X1.buffer),F.e,F.n),0,0);
this.Yg.drawImage(this.ql,0,0);this.Yg.getImageData(0,0,1,1);this.aub(r)};jN.prototype.aub=function(r){var N=r.q,F=N.Hr[0]+N.Hr[1]+N.Hr[2],h=!1,m=[];
for(var R=0;R<r.w.length;R++){var O=r.g[r.w[R]];if(O==null)continue;var e=O.Ku;if(e!=1&&e!=3)continue;
var P=e==1?O.$n():O.xg(r).v;if(P.BJ)m.push(P)}for(var R=0;R<r.O0.length;R++)if(r.O0[R].BJ)m.push(r.O0[R]);
for(var R=0;R<m.length;R++){var P=m[R];this.ajV(P,N,m.length==1&&F==0?2:1,P.color,P.IU);h=!0}var B=this.if;
h=this.abL(r,this.Yg,N)||h;if(r.$&&B.Xw&&B.ec.ao){this.ajV(r.$,N,0,0,null);h=!0}return h};jN.prototype.ajV=function(r,N,F,h,m){var O=0,c,o;
if(m)O=Math.round(m.J)<<16|Math.round(m.z)<<8|Math.round(m.Z);var e=N.XA(!0),P=N.Yg,B=new fE(0,0,N._I.e,N._I.n);
if(N.AW.length!=P.W()){N.AW=w.B(P.W());N.X1=w.B(P.W()*4)}N.AW.fill(h);N.X1.fill(0);var s=r.channel,Y=r.rect;
w.scale.A(s,Y,e,N.AW,P);if(F==0)w.$.a8y(N.AW,N.X1,P,P);else w.$.a10(N.AW,N.X1,P,P,F,O);jN.eV(N.X1);var D=new ImageData(new Uint8ClampedArray(N.X1.buffer),P.e,P.n);
this.wq.putImageData(D,0,0);this.Yg.save();if(F==0){c=P.clone();c.r2(-1,-1);o=new hc}else{c=new fE(0,0,B.e,B.n);
o=e.clone();o.iL()}this.Aq(w.p.fc(c),o,this.Yg);this.Yg.clip();this.Yg.drawImage(this.ql,0,0);this.Yg.restore()};
jN.prototype.abL=function(r,N,F){var h=r.d.Uf!=null||r.d.W$!=null||r.d.Dk!=null||r.d.BW.length!=0||r.d.Ul.length!=0,m=this.if,O=m.ec,e=hi.jo[m.bz],P=Math.round(12*W.G()),B=P/r.q.O,s=F.XA(!0);
s.iL();N.save();N.setTransform(s.O$,s.J,s.KM,s.Bv,s.HG,s.SS);if(r.add.artd){var Y=jN.b9(r)[0];Y=Y<.5?Y+.5:Y-.5;
Y=""+Math.round(Y*255).toString(16);while(Y.length<2)Y="0"+Y;N.fillStyle="#"+Y+Y+Y;N.font=B+"px sans-serif";
for(var R=0;R<r.g.length;R++){var D=r.g[R];if(D.add.artb==null||!D.gv())continue;var c=D.CN();N.fillText(D.getName(),c.x+2,c.y-B*.7);
h=!0}}function o(cV){return cV==1||cV==2||cV==4||cV==5}var H=jN.GV([.1,.5,1,1]),x=jN.GV([1,1,1,1]);if(m.Xw&&O.N$){N.fillStyle=N.strokeStyle=H;
N.lineWidth=1.5/F.O;var Q=r.bN(),U=Q[0],I=Q[1];for(var l=0;l<I.length;l++){var D=U[I[l]],p=D.add.vmsk,j=p.Y,T=w.p.aM(j);
this.Aq(T,null,N);N.stroke();h=!0;var V=3*W.G()/F.O,_=j.length-3;for(var R=0;R<p.i4.length;R++){var f=w.H.O1(j,p.i4[R]);
if(f==null)continue;var S=f.x,L=f.y;N.beginPath();var y=R==0;if(p.D9)y=!y;if(y){N.moveTo(S-V,L-V);N.lineTo(S+V,L+V);
N.moveTo(S-V,L+V);N.lineTo(S+V,L-V);N.stroke()}else{N.arc(S,L,V*1,0,2*Math.PI);N.fill()}h=!0}if(r.w.length!=1)continue;
var $=-1;for(var R=0;R<j.length;R++){if(j[R].type>5)continue;if(j[R].type==0||j[R].type==3){if(j[R].r5!=-1)$++;
continue}if(p.w.indexOf($)!=-1){var S=j[R].F.x,L=j[R].F.y;N.fillRect(S-V*.8,L-V*.8,2*V*.8,2*V*.8)}if(p.zJ.indexOf(R)!=-1){var Z=j[R],i=[Z.F];
N.beginPath();N.moveTo(Z.Q$.x,Z.Q$.y);N.lineTo(Z.F.x,Z.F.y);N.lineTo(Z.lW.x,Z.lW.y);var b=j[R-1],G=j[R+1];
if(b&&o(b.type)&&p.zJ.indexOf(R-1)==-1){N.moveTo(b.F.x,b.F.y);N.lineTo(b.lW.x,b.lW.y);i.push(b.lW)}if(G&&o(G.type)&&p.zJ.indexOf(R+1)==-1){N.moveTo(G.F.x,G.F.y);
N.lineTo(G.Q$.x,G.Q$.y);i.push(G.Q$)}N.stroke();if(!Z.F.cj(Z.Q$))i.push(Z.Q$);if(!Z.F.cj(Z.lW))i.push(Z.lW);
for(var g=0;g<i.length;g++){var f=i[g],S=f.x,L=f.y;if(g==0&&(Z.type==2||Z.type==5))N.fillRect(S-1.2*V,L-1.2*V,2.4*V,2.4*V);
else{N.beginPath();N.arc(S,L,V*1.2,0,2*Math.PI);N.fill();if(g!=0)N.fillStyle=x;N.beginPath();N.arc(S,L,V*.8,0,2*Math.PI);
N.fill();N.fillStyle=H}}}h=!0}}}N.lineWidth=1/F.O;if(r.d.ra){N.fillStyle=N.strokeStyle=H;var G={t:[],C:[]},u=jN.a4x;
if(u==null){u=jN.a4x={t:[1,0],C:["M"]};for(var R=1;R<30;R++){var A=Math.PI*2*R/30;u.t.push(Math.cos(A),Math.sin(A));
u.C.push("L")}u.C.push("Z","M","L","M","L");u.t.push(-.5,0,.5,0,0,-.5,0,.5)}for(var R=0;R<r.d.ra.length;
R++){var b=z.wU.wk(r.d.ra[R],F),a=new hc(b[0],0,0,b[0],b[1],b[2]);w.p.concat(G,u,a)}this.Aq(G,null,N);
N.stroke();h=!0}N.fillStyle=N.strokeStyle=jN.GV([0,0,0,1],!0);var d=new hc(1,0,0,1,.5/F.O,.5/F.O);if(r.d.Uf){this.Aq(r.d.Uf,null,N);
N.fill()}if(r.d.W$){this.Aq(r.d.W$,d,N);N.stroke()}for(var K in r.d.yZ)if(r.d.yZ[K].W$){this.Aq(r.d.yZ[K].W$,null,N);
N.stroke();h=!0}N.beginPath();var V=(4*W.G()+.5)/F.O,n=r.d.eJ;for(var R=0;R<n.length;R+=2){h=!0;var S=n[R],L=n[R+1];
N.rect(S-V,L-V,2*V,2*V)}N.stroke();var n=r.d.aor;N.beginPath();var V=4*W.G()/F.O;for(var R=0;R<n.length;
R+=2){h=!0;var S=n[R],L=n[R+1];N.moveTo(S+V,L);N.arc(S,L,V,0,2*Math.PI)}N.fill();var n=r.d.ij;N.fillStyle=jN.GV([1,1,1,1]);
N.beginPath();var V=6*W.G()/F.O;for(var R=0;R<n.length;R+=2){h=!0;var S=n[R],L=n[R+1];N.moveTo(S+V,L);
N.arc(S,L,V,0,2*Math.PI)}N.fill();var V=4*W.G()/F.O;for(var R=0;R<n.length;R+=2){h=!0;var S=n[R],L=n[R+1];
N.fillStyle=jN.GV(r.d.Rs.indexOf(R>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);N.beginPath();N.moveTo(S+V,L);N.arc(S,L,V,0,2*Math.PI);
N.fill()}if(r.d.BW.length!=0){for(var R=0;R<r.d.BW.length;R++){var t=r.d.BW[R],X=t[1];N.putImageData(new ImageData(new Uint8ClampedArray(t[0].buffer),X.e,X.n),X.x,X.y)}}var aK=.5/F.O;
N.lineWidth=1/F.O;if(r.d.Cx){h=!0;var fg=r.d.Cx,k=fg.LY,T={C:[],t:[]};for(var R=0;R<fg.MC.length;R++)w.p.concat(T,w.p.fc(fg.MC[R]));
T.t=T.t.concat(k);for(var R=0;R<k.length;R+=4){T.C.push("M","L")}for(var R=0;R<T.t.length;R++){T.t[R]+=aK}N.strokeStyle=jN.GV([.9,.2,.2,1]);
this.Aq(T,null,N);N.stroke();var hG=W.G(),eE=2/F.O;N.font=B*.9+"px sans-serif";for(var R=0;R<k.length;
R+=4){var S=k[R],L=k[R+1],hW=k[R+2],hh=k[R+3],hI=Math.sqrt((hh-L)*(hh-L)+(hW-S)*(hW-S));hI=w.Lt.Ip(hI,r.EP,m,L==hh?r.e:r.n);
var db=new gS((S+hW)/2,(L+hh)/2);N.fillStyle=jN.GV([.9,.2,.2,1]);var by=N.measureText(hI).width;N.fillRect(db.x-by/2-eE*hG,db.y-3.5*eE*hG,by+2*eE*hG,7*eE*hG);
N.fillStyle=jN.GV([1,1,1,1]);N.save();N.translate(db.x-by/2,db.y+2*eE*hG);N.scale(.1,.1);N.font=B*9+"px sans-serif";
N.fillText(hI,0,0);N.restore()}}if(m.Xw){if(O.Z5){var jM=w.Lt.Ky(O.GK,r.EP,r.e,O.Un),fP=jM;if(O.Un==4)fP*=r.n/r.e;
this.aI(r,N,jM,fP,1,O.UK);h=!0}if(O.br&&r.q.O>7){this.aI(r,N,1,1,.5,O.UK);h=!0}if(O.a_){var hB=r.jS(),iu=r.W2(),be=Math.max(r.q.Yg.e,r.q.Yg.n)/r.q.O;
be=Math.max(Math.max(r.e,r.n)*2,be);N.beginPath();N.strokeStyle=jN.GV([0,1,1,1]);for(var R=0;R<hB[0].length;
R++){var bp=hB[0][R],ij=hB[1][R];if(ij!=-1&&ij!=iu)continue;var fT=F.l9(bp[1],bp[1]),ei=F.RX(Math.floor(fT.x)+.5,Math.floor(fT.y)+.5);
if(bp[0]==0){var bz=ei.x;N.moveTo(bz,-be);N.lineTo(bz,be)}else{var aM=ei.x;N.moveTo(-be,aM);N.lineTo(be,aM)}h=!0}N.stroke()}var hw=r.Zf;
if(O.Zf&&hw.length!=0){N.font=B*.8+"px sans-serif";var hx=[],fm=[];for(var R=0;R<hw.length;R++){var dE=z.uA.dS(hw,R);
hx.push(dE);if(r.Tj.indexOf(R)!=-1)fm.push(dE)}hx.reverse();var gD=Date.now();hx=w.rect.iw([0,0,r.e,r.n],hx);
for(var g=0;g<2;g++)for(var R=0;R<hx.length;R++){var c2=hx[R],$=c2[4],bQ=$!=null?hw[$]:null;if(bQ&&g==0||bQ==null&&g==1)continue;
var S=Math.round(c2[0]),L=Math.round(c2[1]),hW=Math.round(c2[2]),hh=Math.round(c2[3]);N.strokeStyle=N.fillStyle=jN.GV(bQ?[0,.7,.7,1]:[.8,.8,.8,1]);
N.strokeRect(S+aK,L+aK,hW-S,hh-L);var f9=R+1,jR=N.measureText(f9),by=jR.width;N.fillRect(S,L,by+B/2,B);
N.fillStyle=jN.GV([1,1,1,1]);N.fillText(f9,S+B/4,L+B*.8)}var eE=2/r.q.O,gP=2*eE;for(var R=0;R<fm.length;
R++){var c2=fm[R],S=Math.round(c2[0]),L=Math.round(c2[1]),hW=Math.round(c2[2]),hh=Math.round(c2[3]);
N.strokeStyle=N.fillStyle=jN.GV([1,.6,0,1]);N.strokeRect(S+aK,L+aK,hW-S,hh-L);var jh=[S,L,hW,L,hW,hh,S,hh];
for(var k6=0;k6<jh.length;k6+=2){var bz=jh[k6],aM=jh[k6+1],eZ=jh[k6+2&7],b5=jh[k6+3&7];N.fillRect(bz-eE,aM-eE,gP,gP);
N.fillRect(Math.round((bz+eZ)/2)-eE,Math.round((aM+b5)/2)-eE,gP,gP)}}h=!0}var fG=r.add.Anno;if(fG&&fG.length!=0)for(var R=0;
R<fG.length;R++){var jG=fG[R],i_=jG[2],bz=jG[0]-aK,aM=jG[1]-aK,gP=30/F.bP,aY=.4*gP,jk=.6*gP;N.beginPath();
N.moveTo(bz,aM+jk);N.lineTo(bz,aM);N.lineTo(bz+gP,aM);N.lineTo(bz+gP,aM+gP);N.lineTo(bz+aY,aM+gP);N.closePath();
N.lineTo(bz+aY,aM+jk);N.lineTo(bz+aY,aM+gP);if(R==r.q.CH){N.lineWidth*=5;N.strokeStyle=jN.GV([0,0,0,.5]);
N.stroke();N.lineWidth/=5}N.fillStyle=jN.GV([i_.Z/255,i_.z/255,i_.J/255,1]);N.fill();N.strokeStyle=jN.GV([0,0,0,1]);
N.stroke()}}N.strokeStyle=jN.GV([1,0,0,1]);if(r.d.Dk){this.Aq(r.d.Dk,d,N);N.stroke()}N.restore();if(m.r0){if(r.q.eh==null||r.q.eh.width!=r.q.Yg.e||r.q.th.height!=r.q.Yg.n){r.q.eh=N.createImageData(r.q.Yg.e,w.Lt.Qk);
r.q.th=N.createImageData(w.Lt.Qk,r.q.Yg.n)}var e=hi.jo[m.bz],ih=0,jr=0,hV=r.e,ds=r.n;if(r.W2()!=-1){var c=r.g[r.W2()].CN();
ih=c.x;jr=c.y;hV=c.e;ds=c.n}ih*=F.O;jr*=F.O;var F=r.q,jA=[1,r.EP,r.EP/2.54,r.EP/25.4,hV/100][O.W3],eI=F.O*r.e/2,hH=F.O*r.n/2,bO=[F.O*jA,new gS(F.r.x+(ih+eI*jA-eI),F.r.y+(jr+hH*jA-hH))];
if(O.W3==4)jA*=ds/hV;var k7=[F.O*jA,new gS(F.r.x+(ih+eI*jA-eI),F.r.y+(jr+hH*jA-hH))],dO=this.k4.tf;w.Lt.a4t(F,e["--text-color"],e["--bg-input"],Math.floor(dO.x),Math.floor(dO.y),bO,k7);
var cG=cA.anp(F.O,jN.GV([1,1,1,1]));jN.eV(r.q.th.data);jN.eV(r.q.eh.data);N.putImageData(r.q.th,0,0);
N.putImageData(r.q.eh,0,0);N.putImageData(cG,0,r.q.Yg.n-cG.height)}if(r.d.Ul.length!=0){for(var R=0;
R<r.d.Ul.length;R++){var t=r.d.Ul[R],X=t[1];N.putImageData(new ImageData(new Uint8ClampedArray(t[0].buffer),X.e,X.n),X.x,X.y)}}return h||m.r0};
jN.prototype.aI=function(r,N,F,h,m,O){while(F*r.q.O<4){F*=2;h*=2}var e=r.e,P=r.n,B=.5/r.q.O;N.strokeStyle=jN.GV([.5,.5,.5,m],!0);
N.save();N.rect(0,0,e,P);N.clip();N.beginPath();for(var s=0;s<=e;s+=F){N.moveTo(s+B,0);N.lineTo(s+B,P)}if(O==0){for(var Y=0;
Y<=P;Y+=h){N.moveTo(0,Y+B);N.lineTo(e,Y+B)}}else{h*=Math.sqrt(4/3);var D=h*Math.floor(e/h),c=e*(h/(2*F));
for(var Y=-D;Y<=P+D;Y+=h){N.moveTo(0,Y);N.lineTo(e,Y-c);N.moveTo(0,Y);N.lineTo(e,Y+c)}}N.stroke();N.restore()};
jN.prototype.Aq=function(r,N,F){F.beginPath();var h=w.p.clone(r);if(N)w.p.A(h.t,N,h.t);Typr.U.pathToContext({cmds:h.C,crds:h.t},F)};
jN.jz=function(r,N){M.S$.call(this);var F=N!=0,h="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(r?"uniform sampler2D lut;  uniform float N;  "+M.lY.Xc:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(F?"uniform vec4 bgClr;  uniform vec4 ars["+N+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+M.lY.r$+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); \t\t\t\t"+(r?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(F?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+N+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",m="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.GH(h,m)};jN.jz.prototype=new M.S$;jN.jz.prototype.qZ=function(r,N,F,h,m,O,e,P,B,s,Y,D,c,o){this.rG("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var H=M.Az,x=this.ny;H.uniformMatrix3fv(x.tmat,!1,F);H.uniform4fv(x.gsize,h);H.uniform3f(x.contSizeZoom,m,O,e);
H.uniform2f(x.cnvSize,P,B);H.uniformMatrix4fv(x.ctrn,!1,D);if(this.abo){H.uniform4fv(x.ars,Y);H.uniform4fv(x.bgClr,s)}H.uniform1i(x.source,0);
H.uniform1i(x.target,1);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,r);H.activeTexture(H.TEXTURE1);
H.bindTexture(H.TEXTURE_2D,N);if(c){H.uniform1f(x.N,o);H.uniform1i(x.lut,2);H.activeTexture(H.TEXTURE2);
H.bindTexture(H.TEXTURE_2D,c.UX);var Q=H.LINEAR;H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,Q);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,Q)}H.activeTexture(H.TEXTURE0)};function aT(){gt.call(this,[9,7],!1,"---panels/layercomps",gt.A4.a4S);
this.go.setAttribute("style","min-width:240px;");this.Ec=null;this.g4=-1;this.a26=[];this.jY=W._("div","scrollable");
this.jY.style.height="160px";this.go.appendChild(this.jY);this.hs=W._("div","lpfoot");this.go.appendChild(this.hs);
this.JU=[];var r=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],N=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var R=0;R<r.length;R++){var F=r[R];if(R>0)F="<img src=\""+PIMG[r[R]]+"\" class=\"gsicon\" />";var h=new d_(F,!1,N[R]);
h.U("click",this.atE,this);this.hs.appendChild(h.m);this.JU.push(h)}}aT.prototype=new gt("");aT.prototype.bh=function(r,N){this.go.setAttribute("style","width:"+(r-2)+"px;");
this.jY.style.height=N-28+"px"};aT.prototype.Ri=function(r){var N=new gf(v.E.u,!0);N.data=r;N.s=z.Ai;
this.L(N)};aT.a5f="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
aT.prototype.atE=function(r){var R=this.JU.indexOf(r.currentTarget)-1;if(R==-1){var N=new gf(v.E.S,!0);
N.data={V:v.c.h4,P_:aT.a5f};this.L(N);return}if(R!=1)if(this.g4==-1)return;this.Ri({V:["updLC","addLC","delLC"][R],Jz:this.g4});
if(R==2)this.g4=-1};aT.prototype.f=function(){gt.prototype.f.call(this);for(var R=0;R<this.JU.length;
R++)this.JU[R].f()};aT.prototype.w0=function(r){if(r==null)W.Ou(this.go,"disabled");else W.PV(this.go,"disabled");
this.Ec=r;W.Tg(this.jY);if(r==null)return;var N=r.pI.lastAppliedComp?r.pI.lastAppliedComp.v:0,F=r.pI.list.v.slice(0);
F.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var R=0;R<F.length;
R++){var h=F[R].v,m=new ad(h.Nm.v,h.compID.v,h.capturedInfo.v,N,this.g4);m.U("activate",this.FB,this);
m.parent=this;this.jY.appendChild(m.m);this.a26.push(m)}};aT.prototype.FB=function(r){this.g4=r.currentTarget.Jz;
this.w0(this.Ec)};function ad(r,R,N,F,h){jZ.call(this);this.Jz=R;this.m=W._("div","head listitem"+(R==h?" selected":""));
var m=R==F,O=new d_(m?"\u2713":"\u2014");if(m)O.D2();this.m.appendChild(O.m);O.U("click",this.TC,this);
var e=this.PX=W._("span");e.textContent=r;this.m.appendChild(e);this.JU=[];if(R!=0){this.m.addEventListener("mouseup",this.FB.bind(this),!1);
this.a7D=W._("span","headR");this.m.appendChild(this.a7D);var P=["lrs/eye","pos","lrs/fx"],B=["Visibility","Position","Appearance"];
for(var s=0;s<P.length;s++){var Y=new d_("<img src=\""+PIMG[P[s]]+"\" class=\"autoscale gsicon\" />",!1,B[s]);
if((N>>s&1)==0)Y.m.setAttribute("style","opacity:0.3");Y.U("click",this.a4M,this);this.a7D.appendChild(Y.m);
this.JU.push(Y)}}}ad.prototype=new jZ;ad.prototype.FB=function(r){if(r.target!=this.PX&&r.target!=this.m)return;
if(r.detail==1)this.L(new gf("activate",!1));else{var N=new gt.XN(this.PX,this.bk.bind(this))}};ad.prototype.a4M=function(r){var R=this.JU.indexOf(r.currentTarget);
this.Ri({V:"editLC",a18:R,Jz:this.Jz})};ad.prototype.bk=function(r){this.Ri({V:"editLC",yB:r,Jz:this.Jz})};
ad.prototype.TC=function(r){this.Ri({V:"setLC",Jz:this.Jz})};ad.prototype.Ri=function(r){var N=new gf(v.E.u,!0);
N.data=r;N.s=z.Ai;this.L(N)};function gO(){gt.call(this,[9,11],!1,"---panels/navigator",gt.A4.a0x);var r=W._("div","padded");
r.setAttribute("style","min-width:15em");this.go.appendChild(r);var N=W._("div");r.appendChild(N);N.setAttribute("style","cursor:grab;");
this.D=W._("canvas");this.D.width=100;N.appendChild(this.D);W.Cb(this.D);W.vN(this.D,this.b$.bind(this));
this._V=new em(null,2,6400,"%",null,!0);this._V.U(v.E.o,this.aj7,this);r.appendChild(this._V.m);this.a5m=this.Fq.bind(this);
this.anH=this.s0.bind(this);this.pZ=null}gO.prototype=new gt("");gO.prototype.bh=function(r,N){this.Fm()};
gO.prototype.aj7=function(r){var N=this._V.k(),F=this.pZ,h=N/100;if(.8<h&&h<1.2)h=1;else if(1.8<h)h=Math.round(h);
var m=new gf(v.E.u,!0);m.s=z.x0;m.data={V:"zoom",O:h};this.L(m)};gO.prototype.b$=function(r){if(this.pZ==null)return;
W.B7(window,this.a5m);W.ey(window,this.anH)};gO.prototype.Fq=function(r){var N=W.or(r,this.D),F=this.pZ,h=this.D.width,m=this.D.height,O=(N.x*W.G()-h/2)/h,e=(N.y*W.G()-m/2)/m,P=W.G()*F.q.O,B=Math.round(-F.q.O*F.e*O),s=Math.round(-F.q.O*F.n*e);
z.WZ.ta(F,B,s)};gO.prototype.s0=function(r){W.iX(window,this.a5m);W.g$(window,this.anH)};gO.prototype.w0=function(r){if(r==null&&this.pZ!=null)this.D.width=100;
this.pZ=r;this.Fm()};gO.prototype.Fm=function(){var r=this.pZ,h=0;if(r==null||r.q.O==0)return;var N=r.q;
if(!W.Xs(this.go))return;this._V.b(N.O*100);var F=300*W.G(),m=[r.G9(),new fE(0,0,r.e,r.n)];w.A_(m);while(Math.max(m[h+1].e,m[h+1].n)>F){h+=2}var O=m[h],e=m[h+1],P=e.e,B=e.n,s=this.D;
s.width=P;s.height=B;W.HR(s,P,B);var Y=s.getContext("2d"),D=Y.createImageData(P,B);w.ZF(O,D.data);Y.putImageData(D,0,0);
var c=N.Yg,o=N.RX(c.x,c.y),H=N.RX(c.x+c.e,c.y+c.n),x=P/r.e;Y.scale(x,x);Y.lineWidth=4/x;Y.strokeStyle="#ff0000";
Y.strokeRect(o.x,o.y,H.x-o.x,H.y-o.y)};gO.prototype.Qr=function(r,N){};gO.prototype.DH=function(){this.Fm()};
function gx(r,N){if(r==null){gt.call(this);return}gt.call(this,r.name,!1,r.icon,N);var F=this.gI=W._("iframe");
F.setAttribute("src",r.url);F.setAttribute("style","width:"+r.width+"px; height:"+r.height+"px");this.go.appendChild(F)}gx.prototype=new gt("");
gx.prototype.ic=function(r){if(W.Xs(this.gI))this.gI.contentWindow.postMessage(r,"*")};gx.prototype.bh=function(r,N){this.gI.setAttribute("style","width:"+r+"px; height:"+N+"px")};
function gR(){gt.call(this,[9,12],!1,"---panels/tpreset",gt.A4.Sc);this.bX=null;this.yy=new fN(z.D$);
this.yy.parent=this;var r=W._("div","padded");r.setAttribute("style","width:20em");this.go.appendChild(r);
r.appendChild(this.yy.GR)}gR.prototype=new gt("");gR.prototype.DH=function(){this.yy.Wl(this.bX.ym)};
gR.prototype.Qr=function(r,N){this.bX=r;if(N==bC.ge||N==bC.Sc)this.yy.Wl(r.ym)};gR.prototype.bh=function(r,N){this.yy.avC(this.bX.px)};
gR.prototype.f=function(){gt.prototype.f.call(this);this.yy.f()};var as=function(){var r=[],N=null,F=null,h=null,m=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function O(){gt.call(this,"Memory",!1,null,gt.A4.akp);var c=W._("div","padded");this.go.appendChild(c);
F=new d_(["<< VAR0",[0,13,2]],!1,null,!0);F.addEventListener("click",function(o){r.pop();P()});c.appendChild(F.m);
N=W._("div","scrollable");N.setAttribute("style","width:20em;  height:26em; margin-top:8px;");c.appendChild(N)}O.prototype=new gt("");
O.prototype.w0=function(c,o,H){h=o;this.DH()};O.prototype.DH=function(){F.W9(!1);if(!W.Xs(N))return;
var c={x3:"Total:",Dv:[]};for(var R=0;R<h.length;R++)c.Dv.push(s(h[R]));D(c);r=[c];P()};O.prototype.f=function(){gt.prototype.f.call(this);
F.f()};function e(c){var o=c.currentTarget,R=0;while((o=o.previousSibling)!=null)R++;r.push(r[r.length-1].Dv[R-1]);
P()}function P(){F.W9(r.length>1);var c=r[r.length-1];W.Tg(N);B(c,N,0);c.Dv.sort(function(o,H){return H.Lh[0]-o.Lh[0]});
for(var R=0;R<c.Dv.length;R++)B(c.Dv[R],N,1)}function B(c,o,H){var x=iX.UP,Q=H!=0&&c.Dv,U="margin-left:"+H*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Q)U+="cursor:pointer;";if(c.dn!=null)U+="background-color:rgba("+m[c.dn].join(",")+",0.2);";var I=W._("div");
o.appendChild(I);I.setAttribute("style",U);I.innerHTML=W.uy(c.x3)+"<br />"+"RAM: <b>"+x(c.Lh[0])+"</b>\u2001GPU: <b>"+x(c.Lh[1])+"</b>";
if(Q)I.addEventListener("click",e,!1)}function s(c){var o={x3:c.name,Dv:[],dn:0},H=M._X?1:0,x=1-H,Q={x3:"Final Image",Lh:[c.e*c.n*4,H*c.e*c.n*4],dn:2};
o.Dv.push(Q);for(var R=0;R<c.g.length;R++){var U=Y(c.g[R]);if(U.Dv.length!=0)o.Dv.push(U)}var I=c.add.lnk2;
if(I)for(var R=0;R<I.length;R++){var U=I[R],l={x3:U.bp,Dv:[],dn:4},p=0;l.Dv.push({x3:"Raw file",Lh:[U.raw.length,0]});
if(U.Mk)for(var j=0;j<U.Mk.length;j+=2)p+=U.Mk[j].length;if(p!=0)l.Dv.push({x3:"Decoded pixels",Lh:[p,0]});
D(l);o.Dv.push(l)}D(o);return o}function Y(c){var o={x3:c.getName(),Dv:[],dn:1},H=M._X?1:0,x=1-H,Q=c.rect.W();
if(Q!=0)o.Dv.push({x3:"Layer pixels",Lh:[Q*4,H*Q*4]});if(c.add.lmfx&&c.Oo.oB.type){var U=c.Oo.oB.type,j=0;
for(var I in U){var l=0;for(var p=0;p<U[I].length;p++)if(I=="ebbl"){if(U[I][p].jd)l+=U[I][p].jd.uT.W();
if(U[I][p].gB)l+=U[I][p].gB.uT.W();if(U[I][p].H0)l+=U[I][p].H0.uT.W();if(U[I][p].IK)l+=U[I][p].IK.uT.W()}else l+=U[I][p].uT.W();
if(l!=0)o.Dv.push({x3:ab.get(an.names[an.order.indexOf(I)]),Lh:[x*l*4,H*l*4],dn:3})}if(c.Oo.xK)j+=Q;
if(c.Oo.g7)j+=Q;if(c.Oo.aC)j+=Q;if(c.Oo.aC)j+=Q;if(c.Oo.Nw)j+=Q;if(c.Oo.eK)j+=Q;var T=c.Oo.mw?c.Oo.mw.length:0;
if(j+T!=0)o.Dv.push({x3:"Additional Blending Data",Lh:[x*j*4+T,H*j*4]})}var V=c.$n(),E=V?V.rect.W():0;
if(E!=0){o.Dv.push({x3:"Raster Mask",Lh:[E,0]})}var V=c.add.vmsk,E=V&&V.i1?V.i1.rect.W():0;if(E!=0){o.Dv.push({x3:"Vector Mask",Lh:[E,0]})}D(o);
return o}function D(c){c.Lh=[0,0];for(var R=0;R<c.Dv.length;R++){c.Lh[0]+=c.Dv[R].Lh[0];c.Lh[1]+=c.Dv[R].Lh[1]}}return O}();
function f0(){gt.call(this,[9,14],!1,"---panels/notes",gt.A4.amH);this.go.setAttribute("style","min-width:240px;");
var r=W._("div","padded");this.go.appendChild(r);this.$v=new g8("Author");r.appendChild(this.$v.m);this.M8=W._("textarea");
W.uJ(this.M8);r.appendChild(this.M8);var N=new d_("<<",null,null,!0);r.appendChild(N.m);this.adu=N;var F=new d_(">>",null,null,!0);
r.appendChild(F.m);N.U("click",this.w3,this);F.U("click",this.w3,this);var h=this.abt=new bB("");r.appendChild(h.m)}f0.prototype=new gt("");
f0.prototype.w3=function(r){var N=r.target==this.adu?-1:1,F=this.pZ,h=F.add.Anno,m=h.length,O=F.q.CH;
F.q.CH=(O+N+m)%m;F.Pj=!0;this.Fm()};f0.prototype.Fm=function(){var r=this.pZ;if(r==null)return;var N=r.add.Anno;
if(N==null||N.length==0)return;var F=r.q.CH,h=N[F];this.M8.value=h[4];this.abt.b(F+1+" / "+N.length);
this.$v.b(h[3])};f0.prototype.bh=function(r,N){if(this.YW==r)return;this.YW=r;N=Math.min(N,200);this.M8.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(r-10)+"px; height:"+(N-66)+"px")};
f0.prototype.w0=function(r,N,F){this.pZ=r;this.Fm()};function jF(){jZ.call(this);this.s=0;this.L1=null;
this.m=W._("div","toolconf");this.yy=null;this.HN=null;this.body=new W._("div","body")}jF.prototype=new jZ;
jF.prototype.a8o=function(r,N){this.s=r;this.L1=N;if(z.JV[r]){var F=this.yy=new fN(r);this.m.appendChild(F.m);
F.parent=this}else{this.HN=W._("div");this.m.appendChild(this.HN)}this.m.appendChild(this.body);this.f()};
jF.prototype.adB=function(r,N){};jF.prototype.aio=function(r){};jF.prototype.Qr=function(r,N){if(N==bC.ge||N==bC.Sc)if(this.yy)this.yy.Wl(r.ym)};
jF.prototype.gA=function(r){};jF.prototype.f=function(){if(this.yy)this.yy.f();else this.HN.innerHTML=W.qV(this.L1,null,"toolicon");
this.KN()};jF.prototype.KN=function(){};function fR(){jF.call(this);this._H=new dj;this._H.U(v.E.o,this.iY,this);
this.body.appendChild(this._H.m)}fR.prototype=new jF;fR.prototype.KN=function(){this._H.f()};fR.prototype.iY=function(r){var N=new gf(v.E.S,!0);
N.data={V:v.c.Mi,s:this.s,Xa:this._H.amz()};this.L(N)};fR.prototype.gA=function(r){this._H.ag0(r.fJ)};
function hL(r){jF.call(this);if(r==null)return;this.bX=null;this.wF={};if(r.indexOf("brush")!=-1&&r.indexOf("prsr")==-1)r.push("prsr");
for(var R=0;R<r.length;R++){var N=r[R],F=null;if(N=="brush"){F=new ex}if(N=="bmode"){F=new b2([12,19,0],g6.zd,!1,g6.yj)}if(N=="bmode0"){F=new b2([12,19,0],g6.zd.slice(23),!1)}if(N=="emode"){F=new b2([12,36],[[9,3],[10,38]])}if(N=="opacity"){F=new g$([12,0],0,100,"%");
F.b(100)}if(N=="flow"){F=new g$([12,63],0,100,"%");F.b(100)}if(N=="smth"){F=new g$([19,3,0],0,100,"%");
F.b(0)}if(N=="samp"){F=new b2([12,36],[[12,25,4],[12,25,5],[12,46]])}if(N=="wconf"){F=new cd;F.b([40,!0,!0])}if(N=="sall"){F=new bf([12,25,2])}if(N=="strn"){F=new g$([12,64],1,100,"%");
F.b(50)}if(N=="smode"){F=new b2([12,36],[[19,7,0],[19,7,1]]);F.b(1)}if(N=="pdetail"){F=new bf([12,65]);
F.D2()}if(N=="rng"){F=new b2([12,12],[[19,6,0],[19,6,1],[19,6,2]]);F.b(1)}if(N=="expo"){F=new g$([12,5],0,100,"%");
F.b(50)}if(N=="algnd"){F=new bf([12,75]);F.b(!1)}if(N=="sfrom"){F=new b2([12,70],[[17,1],[17,3],[17,0]])}if(N=="alt"){F=new jX(null,["Alt"],!0,["Select Source"])}if(N=="qsmode"){F=new ch([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(N=="redge"){F=new d_([7,11],!1,null,!0)}if(N=="setop"){F=new cQ}if(N=="patch"){F=new ch(null,[[12,70],[12,71]])}if(N=="prsr"){F=new jX(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
F.b([!1,!1])}F.parent=this;this.body.appendChild(F.m);this.wF[N]=F;if(N=="brush")F.U(v.E.o,this.a2f,this);
else if(N=="redge")F.U("click",this.ZK,this);else F.U(v.E.o,this.TY,this)}}hL.prototype=new jF;hL.prototype.adB=function(r,N){r=r[1];
var F=this.wF;if(r.Md)F.bmode.b(g6.EO.indexOf(r.Md.v.BlnM));if(r.Opct)F.opacity.b(r.Opct.v);if(r.flow)F.flow.b(r.flow.v);
if(r.Brsh)F.brush.b(r,N.nd.lZ,N.nd.ki);if(r.FrgC){var h=w.X.Mq(r.FrgC.v),m=new gf(v.E.S,!0);m.data={V:v.c.nM,Xa:bC.gU,bT:0,h:h.Z<<16|h.z<<8|h.J};
this.L(m)}this.a2f();this.TY()};hL.prototype.aio=function(){if(z.JV[this.s]==null)return null;var r=this.wF,N=JSON.parse(JSON.stringify(r.brush.k()));
N.classID=z.JV[this.s][1][0];if(r.bmode)N.Md={t:"enum",v:{BlnM:g6.EO[r.bmode.k()]}};if(r.opacity)N.Opct={t:"long",v:r.opacity.k()};
if(r.flow)N.flow={t:"long",v:r.flow.k()};var F=this.bX.Fp;F={Z:F>>>16,z:F>>>8&255,J:F&255};N.FrgC={t:"Objc",v:w.X.QA(F)};
return["Brush Preset "+N.Brsh.v.Dmtr.v.val,N]};hL.prototype.ZK=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.pr,i7:"redge"};
this.L(r)};hL.prototype.KN=function(){for(var r in this.wF)this.wF[r].f()};hL.prototype.gA=function(r){if(r.akf=="showBrushOpts"){this.wF.brush.ael(r.TN.x,r.TN.y)}for(var N in r.AT){var F=r.AT[N];
if(N!="qsmode")F*=100;if(this.wF[N])this.wF[N].b(F)}};hL.prototype.Qr=function(r,N){jF.prototype.Qr.call(this,r,N);
this.bX=r;var F=this.wF.brush;if(F==null)return;if(N==bC.ge||N==bC.D$)F.Wl(r.nd);if(N==bC.V_){F.b(r.nd.B1,r.nd.lZ,r.nd.ki)}};
hL.prototype.a2f=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.nM,Xa:bC.V_,RE:this.wF.brush.k()};this.L(r)};
hL.prototype.TY=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.Mi,s:this.s};for(var N in this.wF){if(N=="brush"||N=="redge")continue;
var F=this.wF[N].k();if(["opacity","flow","smth","strn","expo"].indexOf(N)!=-1)r.data[N]=F/100;else if(N=="bmode")r.data.bmode=g6.Ry[F];
else if(N=="bmode0")r.data.bmode=g6.Ry[23+F];else r.data[N]=F}this.L(r)};function eb(r,N){jF.call(this);
if(r)return;this.wF={};for(var R=0;R<N.length;R++){var F=N[R],h=null;if(F=="binop")h=new cQ;if(F=="feat"){h=new g$([7,6],0,100,"px");
h.b(0)}if(F=="redge")h=new d_([7,11],!1,null,!0);if(F=="wconf")h=new cd;if(F=="cstr")h=new h8;if(F=="anta"){h=new bf([12,25,1]);
h.b(!0)}if(F=="sall")h=new bf([12,25,2]);if(F=="redge")h.U("click",this.ZK,this);else h.U(v.E.o,this.TY,this);
h.parent=this;this.body.appendChild(h.m);this.wF[F]=h}}eb.prototype=new jF;eb.prototype.gA=function(r){if(r.Ro!=null)this.wF.binop.b(r.Ro);
else if(r.Jd){for(var N in r.Jd)if(this.wF[N])this.wF[N].b(r.Jd[N])}else{var F=eb.qX;if(F==null){var h=f4.a3E(!0);
F=eb.qX=new f8(h.items,h.in)}F.f();F.parent=this;F.update(r.UB,r.if);var m=new gf(v.E.S,!0);m.data={V:v.c.hN,f3:F,x:r.gf.Yk+2,y:r.gf.it+1};
this.L(m)}};eb.prototype.KN=function(){for(var r in this.wF)this.wF[r].f()};eb.prototype.ZK=function(){var r=new gf(v.E.S,!0);
r.data={V:v.c.pr,i7:"redge"};this.L(r)};eb.prototype.TY=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.Mi,s:this.s,Jd:{}};
for(var N in this.wF)r.data.Jd[N]=this.wF[N].k();this.L(r)};function is(){hL.call(this,["brush","strn"])}is.prototype=new hL;
function c_(){hL.call(this,"brush bmode opacity flow smth prsr".split(" "))}c_.prototype=new hL;function cg(){hL.call(this,["brush","bmode0","samp","wconf"])}cg.prototype=new hL;
function aZ(){hL.call(this,["brush"])}aZ.prototype=new hL;function b8(){hL.call(this,["brush","bmode","opacity","smth","prsr"])}b8.prototype=new hL;
function iG(){hL.call(this,["brush","rng","expo"])}iG.prototype=new hL;function jd(){hL.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jd.prototype=new hL;
function iE(r){jF.call(this);if(r==null)return;var N=W._("span","fitem");this.body.appendChild(N);var F=[[17,0],[17,1],[11,12,0],[17,2]];
this.Ok=[];for(var R=0;R<F.length;R++){var h=new d_(F[R],!1,null,!0);this.Ok.push(h);h.U("click",this.a9w,this);
if(!r||R==1)N.appendChild(h.m)}this.S2=new h8;this.S2.U(v.E.o,this.a7E,this);if(!r)this.body.appendChild(this.S2.m);
this.PS=new d_([15,7,6],!1,null,!0);this.PS.U("click",this.a9w,this);if(!r)this.body.appendChild(this.PS.m);
this.Xq=new bf([15,7,10]);this.Xq.U(v.E.o,this.a7E,this);if(!r)this.body.appendChild(this.Xq.m);this.AG=new eo;
this.AG.U("click",this.HV,this)}iE.prototype=new jF;iE.prototype.KN=function(){this.AG.f();for(var R=0;
R<this.Ok.length;R++)this.Ok[R].f();this.S2.f();this.Xq.f();this.PS.f()};iE.prototype.gA=function(r){var N=this.AG.m;
if(r.Km)this.body.appendChild(N);else if(this.body.contains(N))this.body.removeChild(N);if(r.S2)this.S2.b(r.S2)};
iE.prototype.HV=function(r){var N={V:v.c.Mi,s:this.s,i_:this.AG.k()?"commit":"cancel"},F=new gf(v.E.S,!0);
F.data=N;this.L(F)};iE.prototype.a9w=function(r){r.target.m.blur();var N={V:v.c.Mi,s:this.s,i_:"cropby",aov:this.Ok.indexOf(r.target)};
if(r.target==this.PS)N.i_="straighten";var F=new gf(v.E.S,!0);F.data=N;this.L(F)};iE.prototype.a7E=function(r){var N={V:v.c.Mi,s:this.s,i_:"config",s8:{Q1:this.S2.k(),Wb:this.Xq.k()},amZ:r.target==this.S2},F=new gf(v.E.S,!0);
F.data=N;this.L(F)};function aC(){iE.call(this,!1)}aC.prototype=new iE;function it(){iE.call(this,!0)}it.prototype=new iE;
function jo(){hL.call(this,["brush","rng","expo"])}jo.prototype=new hL;function aX(){hL.call(this,"brush emode opacity flow smth prsr".split(" "))}aX.prototype=new hL;
function br(){hL.call(this,["brush","samp","wconf"])}br.prototype=new hL;function gC(){eb.call(this,!1,["binop","feat","anta","redge","cstr"])}gC.prototype=new eb(!0);
function ik(){jF.call(this);var r=this.wF=[new b2([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new b2([12,70],[[17,1],[17,3],[17,0]]),new bf([12,20,1]),new bf([8,0])];
r[1].b(2);r[2].b(!0);for(var R=0;R<r.length;R++){var N=r[R];N.U(v.E.o,this.TY,this);this.body.appendChild(N.m)}}ik.prototype=new jF;
ik.prototype.TY=function(r){var N=this.wF,F=[];for(var R=0;R<N.length;R++)F[R]=N[R].k();var h=new gf(v.E.S,!0);
h.data={V:v.c.Mi,s:this.s,Jd:F};this.L(h)};ik.prototype.KN=function(){for(var R=0;R<this.wF.length;R++)this.wF[R].f()};
function jv(){jF.call(this);this.OQ=new c$(!1);this.OQ.parent=this;this.OQ.U(v.E.o,this.g0,this);this.body.appendChild(this.OQ.m);
this.OQ.b(JSON.parse(an.JT.a5S).v);this.si=new b2(null,an.X.names.slice(0,5));this.si.U(v.E.o,this.g0,this);
this.body.appendChild(this.si.m);this.CF=new b2([12,19,0],g6.zd,null,g6.yj);this.CF.U(v.E.o,this.g0,this);
this.body.appendChild(this.CF.m);this.vk=new g$([12,0],0,100,"%");this.vk.parent=this;this.vk.U(v.E.o,this.g0,this);
this.body.appendChild(this.vk.m);this.vk.b(100);this.tb=new bf([12,23,0]);this.tb.U(v.E.o,this.g0,this);
this.body.appendChild(this.tb.m);this.Nc=new bf([12,23,3]);this.Nc.U(v.E.o,this.g0,this);this.body.appendChild(this.Nc.m)}jv.prototype=new jF;
jv.prototype.KN=function(){this.si.f();this.CF.f();this.vk.f();this.tb.f();this.Nc.f()};jv.prototype.Qr=function(r,N){jF.prototype.Qr.call(this,r,N);
var F=N==bC.gU;this.OQ.KV(r.Fp,r.lo);if(F||N==bC.Hp||N==bC.ge)this.OQ.Wl(r.pB)};jv.prototype.g0=function(){var r=new gf(v.E.S,!0);
r.data={V:v.c.Mi,s:this.s};r.data.Xa={X:this.OQ.k(),ks:an.X.types[this.si.k()],D9:this.tb.Zv(),ajz:this.Nc.Zv(),aje:g6.Ry[this.CF.k()],tM:this.vk.k()/100};
this.L(r)};function ez(){jF.call(this)}ez.prototype=new jF;function hv(){jF.call(this);var r=W._("span","fitem");
this.body.appendChild(r);this.vy=[new g$([12,15],-180,180,"\xB0"),new d_([1,12,2],null,null,!0)];for(var R=0;
R<this.vy.length;R++){var N=this.vy[R];N.parent=this;r.appendChild(N.m);N.U(R==1?"click":v.E.o,this.Ey,this)}}hv.prototype=new jF;
hv.prototype.KN=function(){for(var R=0;R<this.vy.length;R++)this.vy[R].f()};hv.prototype.gA=function(r){this.vy[0].b(r.Cz*180/Math.PI)};
hv.prototype.Ey=function(r){var N=this.vy.indexOf(r.target),F=new gf(v.E.S,!0);F.data={V:v.c.Mi,s:this.s,Cz:N==1?0:r.target.k()*Math.PI/180};
this.L(F)};function c3(){hL.call(this,["brush","algnd","sfrom","alt"])}c3.prototype=new hL;function hQ(){jF.call(this);
this.oe=new dP;this.oe.parent=this;this.body.appendChild(this.oe.$h.m);this.body.appendChild(this.oe.vO.m);
this.body.appendChild(this.oe.Vx.m);this.body.appendChild(this.oe.mi.m);var r=W._("span","fitem");this.body.appendChild(r);
r.appendChild(this.oe.ZC.m);r.appendChild(this.oe.j6.m);r.appendChild(this.oe.X0.m);this.M_=new b2("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.M_.U(v.E.o,this.HV,this);this.body.appendChild(this.M_.m);this.SJ=new d_([11,9],!1,null,!0);this.SJ.U("click",this.aeS,this);
this.body.appendChild(this.SJ.m);this.AG=new eo;this.AG.U("click",this.HV,this)}hQ.prototype=new jF;
hQ.prototype.KN=function(){this.AG.f();this.oe.f();this.SJ.f()};hQ.prototype.aeS=function(r){var N={V:v.c.Mi,s:this.s,i_:"showwarp"},F=new gf(v.E.S,!0);
F.data=N;this.L(F)};hQ.prototype.gA=function(r){if(r.i_=="showactive")this.body.appendChild(this.AG.m);
if(r.i_=="hideactive")this.body.removeChild(this.AG.m);if(r.i_=="changeAA")this.M_.b(r.oC)};hQ.prototype.Qr=function(r,N){jF.prototype.Qr.call(this,r,N);
if(N!=bC.ge&&N!=bC.Ni&&N!=bC.Jf&&N!=bC.MV)return;this.oe.b(r.Fj,r.FN,r.yK)};hQ.prototype.HV=function(r){var N={V:v.c.Mi,s:this.s,i_:this.AG.k()?"commit":"cancel"};
if(r.target==this.M_){N.i_="changeAA";N.oC=this.M_.k()}var F=new gf(v.E.S,!0);F.data=N;this.L(F)};function ib(){eb.call(this,!1,["binop","feat","anta","redge"])}ib.prototype=new eb(!0);
function bd(){jF.call(this);var r=[],F="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.yw=new bf([12,85]);this.yw.U(v.E.o,this.TY,this);r.push(this.yw.m);this.wT=new bf([20,1]);this.wT.U(v.E.o,this.TY,this);
r.push(this.wT.m);this._U=new bf([12,83]);this._U.U(v.E.o,this.TY,this);r.push(this._U.m);var N=W._("span","fitem");
r.push(N);this.amF=new b2("Scale for exported files",["1x","2x","3x","4x"],!0);N.appendChild(this.amF.m);
this.IJ=new d_(F+" PNG",!1,"Save selected layers as PNG",!0);N.appendChild(this.IJ.m);this.IJ.U("click",this.bZ,this);
this.a2D=new d_(F+" SVG",!1,"Save selected layers as SVG",!0);N.appendChild(this.a2D.m);this.a2D.U("click",this.bZ,this);
var h=W._("span","fitem");r.push(h);var m=W._("span","fitem");r.push(m);this.JU=[];for(var R=0;R<8;R++){var O=R==3||R==7?[20,4,6]:[20,4,R<3?R:R-1],e=new d_("Hi",!1,O);
(R<4?h:m).appendChild(e.m);e.U("click",this.bZ,this);this.JU.push(e)}for(var R=0;R<r.length;R++)this.body.appendChild(r[R]);
this.acK=r}bd.prototype=new jF;bd.prototype.gA=function(r){var N=r.fJ,F=r.a6I;this.yw.b(N._P);this.wT.b(N.rY);
this._U.b(N.Cx);if(F){W.Tg(this.body);for(var R=0;R<F.length;R++)if(F[R]==1&&this.acK[R])this.body.appendChild(this.acK[R])}};
bd.prototype.bZ=function(r){var N=this.JU.indexOf(r.target),F;if(N==-1){F=new gf(v.E.S,!0);F.data={V:v.c.Mi,s:this.s,bT:r.target==this.IJ?"getPNG":"getSVG",jy:this.amF.k()+1}}else{F=new gf(v.E.u,!0);
F.s=z.FS;F.data={V:"algn",h:N}}this.L(F)};bd.prototype.TY=function(r){var N=new gf(v.E.S,!0);N.data={V:v.c.Mi,s:this.s,bT:"prms",_P:this.yw.Zv(),rY:this.wT.Zv(),Cx:this._U.Zv()};
this.L(N)};bd.prototype.KN=function(){this.yw.f();this.wT.f();this._U.f();var r="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var R=0;R<8;R++){this.JU[R].o6(W.qV("align/"+r[R],null,"autoscale"))}};function eX(){eb.call(this,!1,["binop","feat","redge","wconf","sall"])}eX.prototype=new eb(!0);
function jE(){hL.call(this,["setop","patch"])}jE.prototype=new hL;function dQ(){hL.call(this,["setop"])}dQ.prototype=new hL;
function d9(){hL.call(this,["bmode","opacity","wconf","sall"])}d9.prototype=new hL;function f7(){eb.call(this,!1,["binop","feat","anta","redge"])}f7.prototype=new eb(!0);
function fV(){eb.call(this,!1,["binop","feat","anta","redge"])}fV.prototype=new eb(!0);function af(){eb.call(this,!1,["binop","feat","redge","cstr"])}af.prototype=new eb(!0);
function jw(){jF.call(this);this.bX=null;this.qn=null;this.Eq=[new g8("X",null,3.2,null,!0),new g8("Y",null,3.2,null,!0),new g8("W",null,3.2,null,!0),new g8("H",null,3.2,null,!0),new g8([12,15],"\xB0",3.7,null,!0),new g8(["VAR0 1",[12,80,0]],null,3.5,null,!0),new g8(["VAR0 2",[12,80,0]],null,3.5,null,!0),new d_([15,7,6],!1,null,!0),new d_([2,2],!1,null,!0)];
for(var R=0;R<this.Eq.length;R++){var r=this.Eq[R];this.body.appendChild(r.m);if(R>6)r.U("click",this.Zh,this)}this.xJ=0}jw.prototype=new jF;
jw.prototype.Zh=function(r){var N=this.Eq.indexOf(r.target)==7,F=new gf(v.E.u,!0);if(N){if(this.xJ==0)return;
F.s=z.cP;F.data={V:"rot",Py:[2,5],h:-this.xJ}}else{F.s=z.mf;for(var R=0;R<6;R++)this.Eq[R].b(null)}this.L(F)};
jw.prototype.gA=function(r){function N(P,B,s){var Y=Math.sqrt(Math.pow(B.x-P.x,2)+Math.pow(B.y-P.y,2)),D=Math.sqrt(Math.pow(B.x-s.x,2)+Math.pow(B.y-s.y,2)),c=Math.sqrt(Math.pow(s.x-P.x,2)+Math.pow(s.y-P.y,2));
return Math.acos((D*D+Y*Y-c*c)/(2*D*Y))}if(r==null)return;this.qn=r;var F=r.agb,h=r.sb,m=h.x-F.x,O=h.y-F.y;
this.xJ=-Math.atan2(O,m);if(r.xU)this.xJ=N(h,F,r.xU);var e=this.Eq;e[0].b(this.SB(r,F.x));e[1].b(this.SB(r,F.y));
e[2].b(this.SB(r,m));e[3].b(this.SB(r,O));e[4].b((this.xJ*180/Math.PI).toFixed(2));e[5].b(this.SB(r,gS.Mz(F,h)));
if(r.xU){e[6].b(this.SB(r,gS.Mz(F,r.xU)))}else e[6].b("")};jw.prototype.SB=function(r,N){var F=w.Lt.Ip(N,r.EP,this.bX,r.a37,!1);
return parseFloat(F).toFixed(2)};jw.prototype.Qr=function(r,N){this.bX=r;this.gA(this.qn)};jw.prototype.KN=function(){var r=this.Eq;
for(var R=0;R<r.length;R++)r[R].f();W.uK(r[2],r[3])};function bw(){hL.call(this,["brush","strn","pdetail"])}bw.prototype=new hL;
function aO(){hL.call(this,["brush","sfrom"]);this.auP=[];var r=[[7,12]];for(var R=0;R<r.length;R++){var N=new d_(r[R],!1,null,!0);
this.auP.push(N);N.parent=this;this.body.appendChild(N.m);N.U("click",this.a1Y,this)}}aO.prototype=new hL;
aO.prototype.a1Y=function(r){var N=this.auP.indexOf(r.currentTarget),F=new gf(v.E.nE,!0);F.data=z.a3.eq("contentAware");
this.L(F)};function jg(){hL.call(this,["brush","strn"])}jg.prototype=new hL;function hC(){hL.call(this,["brush","flow","smode"])}hC.prototype=new hL;
function jb(){jF.call(this);this.iL=!1;var r=W._("span","fitem");this.body.appendChild(r);this.q8=new ch(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
r.appendChild(this.q8.m);this.q8.U(v.E.o,this.TY,this);this.wX=new d_([20,2]);this.body.appendChild(this.wX.m);
this.wX.U("click",this.arG,this);this.JQ=new d_([20,3]);this.body.appendChild(this.JQ.m);this.JQ.U("click",this.arG,this)}jb.prototype=new jF;
jb.prototype.KN=function(){this.wX.f();this.JQ.f()};jb.prototype.TY=function(){var r={V:v.c.Mi,s:this.s,XS:this.q8.k()==0},N=new gf(v.E.S,!0);
N.data=r;this.L(N)};jb.prototype.gA=function(r){if(this.iL!=r.iL)this.q8.b(1-this.q8.k());this.iL=r.iL};
jb.prototype.arG=function(r){var N=new gf(v.E.u,!0);N.s=z.x0;N.data={V:"adapt",h:r.target==this.wX?"pixel":"fitscr"};
this.L(N)};function hn(r,N){jF.call(this);if(r==null)return;this.Iq=r;this.a8={};this.amo=N;for(var R=0;
R<r.length;R++){var F=r[R],h=null;if(F=="tmode"){h=new b2(null,[[12,76,1],[12,76,0],[12,76,2]]);h.b(0);
if(N)h.a01(2)}if(F=="make"){h=new ch("Make",[[17,2],[12,76,1]],null,!0)}if(F=="anta"){h=new bf([12,25,1]);
h.b(!0)}if(F=="binop"){h=new b2(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(F=="pshape")h=new b2(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(F=="shape")h=new ag([12,76,1]);if(F=="crad"){h=new g$([12,94,0],0,50,"px");h.b(0)}if(F=="cstr"){h=new h8}if(F=="irad"){h=new g$([12,94,1],0,100,"%");
h.b(40)}if(F=="length"){h=new g$([12,80,0],4,40);h.b(4)}if(F=="sides"){h=new g$([12,78],3,30);h.b(5)}if(F=="width"){h=new g$([12,41],1,100,"px");
h.b(5)}if(F=="tolr"){h=new g$([12,24],0,100);h.b(5)}if(F=="fstyle"){h=new eF([12,26])}if(F=="sstyle"){h=new iY}if(F=="psnap"){h=new bf([8,10])}if(F=="crnr"){h=new d_("\u2312",!1,[12,94,0],!0)}if(F=="aopts"){h=new dm;
h.b([!1,!1,50,60,0])}h.parent=this;this.body.appendChild(h.m);this.a8[F]=h;h.U(F=="crnr"?"click":v.E.o,this.TY,this)}}hn.prototype=new jF;
hn.prototype.gA=function(r){if(r.Ro!=null)this.a8.binop.b(r.Ro);else if(r.bT=="vals")for(var N in r.aon)this.a8[N].b(r.aon[N]);
else{var F=hn.qX;if(F==null)F=hn.qX=new f8([{name:"Remove Anchor Point",I:function(m){var O=m?m.bN():null;
return{I:m&&O[1].length!=0&&O[0][O[1][0]].add.vmsk.zJ.length!=0}}},{name:"Remove Path",I:function(m){var O=m?m.bN():null;
return{I:m&&O[1].length!=0&&O[0][O[1][0]].add.vmsk.w.length!=0}},At:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{T:v.E.u,s:z.xD,R:{V:"remove",sj:!0}},{T:v.E.u,s:z.qI,R:{V:"remove"}},{T:v.E.S,R:{V:v.c.pr,i7:"makesel"}},{T:v.E.nE,R:z.JP.wm(0)},{T:v.E.nE,R:z.JP.wm(1)}]);
F.parent=this;F.update(r.UB,r.if);var h=new gf(v.E.S,!0);h.data={V:v.c.hN,f3:F,x:r.gf.Yk+2,y:r.gf.it+1};
this.L(h)}};hn.prototype.a78=function(R){return null};hn.prototype.KN=function(){for(var r in this.a8){this.a8[r].f()}};
hn.prototype.TY=function(r){var N=new gf(v.E.S,!0),F=this.a8;if(r.target==F.crnr){N=new gf(v.E.u,!0);
N.s=z.xD;N.data={V:"crnr"}}else if(r.target==F.make){var R=r.target.k();console.log(R);if(R==0)N.data={V:v.c.pr,i7:"makesel"};
else{N=new gf(v.E.u,!0);N.s=z.Dr;N.data={V:"newfill",dn:0}}}else if(r.target==F.fstyle){N.data={V:v.c.nM,Xa:bC.bb,h:F.fstyle.k()}}else if(r.target==F.sstyle){N.data={V:v.c.nM,Xa:bC.Gv,h:F.sstyle.k()}}else if(r.target==F.tmode){N.data={V:v.c.nM,Xa:bC.gH,h:F.tmode.k()}}else{if(F.pshape)this.xq();
N.data={V:v.c.Mi,s:this.s};for(var h in F)N.data[h]=F[h].k()}this.L(N)};hn.prototype.xq=function(){var r=this.a8,N=r.tmode.k(),F=r.pshape?this.a78(r.pshape.k()):this.Iq,h;
if(N==0)h=["anta","make"];if(N==1)h=["anta","fstyle","sstyle"];if(N==2)h=["make","binop","fstyle","sstyle"];
var m=r.binop;if(m){var O=m.k();if(N==0){m.apZ(0)}else{m.a01(0);if(O==0){m.b(1);this.TY({target:m})}}}W.Tg(this.body);
for(var R=0;R<F.length;R++){var e=F[R];if(h.indexOf(e)!=-1)continue;this.body.appendChild(r[e].m)}};
hn.prototype.Qr=function(r,N){jF.prototype.Qr.call(this,r,N);var F=this.a8.fstyle,h=this.a8.sstyle,m=this.a8.tmode;
if(F)F.Qr(r,N);if(h)h.Qr(r,N);if(N==bC.ge||N==bC.Td)if(r.Ko.length!=0&&this.a8.shape){this.a8.shape.Wl(r.Ko)}if(N==bC.ge||N==bC.bb)if(F)F.b(null,r.qO,r.aua);
if(N==bC.ge||N==bC.Gv)if(h)h.b(null,r.a0,r.aiI);if(N==bC.ge||N==bC.gH){var O=r.oa;if(this.amo&&O==2)O=0;
if(m){m.b(O);this.xq()}}};function ew(){hn.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}ew.prototype=new hn;
function fv(){hn.call(this,"tmode make anta fstyle sstyle binop".split(" "))}fv.prototype=new hn;function ja(){hn.call(this,["fstyle","sstyle"]);
this.ap3=null;this.ak1=null;this.ap_=null;this.Mg=new b2([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.vn=new d_("\u25BC");this.vn.D2();this.yE=new d_("\u25B2");this.yE.D2();this.bg=[this.Mg,this.vn,this.yE];
for(var R=0;R<this.bg.length;R++){var r=this.bg[R];this.body.appendChild(r.m);r.parent=this;r.U(R==0?v.E.o:"click",this.qK,this)}}ja.prototype=new hn;
ja.prototype.gA=function(r){if(r.i_=="main"){var N=this.bg,F=r.b_;if(F){this.ak1=F.clone();this.ap_=JSON.stringify(r.UI);
var h=F.w.slice(0),m=h.length;for(var R=0;R<h.length;R++)h[R]++;h.sort(function(B,s){return B-s});N[0].RK();
N[1].W9(m!=0);N[2].W9(m!=0);N[0].o6(m==0?"No Paths":m==1?"Path "+h[0]:"Paths "+h.slice(0,3).join(",")+(m>3?"..":""));
if(m!=0){var O=F.w[0],e=w.H.Au(F.Y,O),P=F.Y[e];this.Mg.b([3,0,1,2][P.r5])}}else for(var R=0;R<N.length;
R++)N[R].Xo()}else hn.prototype.gA.call(this,r)};ja.prototype.KN=function(){hn.prototype.KN.call(this);
this.Mg.f()};ja.prototype.qK=function(r){if(r.target==this.Mg||r.target==this.vn||r.target==this.yE){var N={},F=this.ak1,h=F.Y,m=F.w,O=w.H.jE(h),e=JSON.parse(this.ap_);
m.sort(function(U,I){return U-I});if(r.target==this.Mg){var P=this.Mg.k();if(P<4)for(var R=0;R<m.length;
R++)h[w.H.Au(h,m[R])].r5=[1,2,3,0][P];else{if(O<=1)return;F.Y=w.H.zE(h);F.w=F.Y.length==2?[]:[0];F.zJ=[];
e=[w.UI.LQ()]}}else{var B=r.target==this.vn?-1:1,s=[];for(var R=0;R<O;R++){var Y=w.H.Au(h,R),D=Y+1+h[Y].length;
s.push(h.slice(Y,D))}var c=m.slice(0);for(var R=0;R<m.length;R++)c[R]=Math.max(R,Math.min(O-1-(m.length-1-R),c[R]+B));
if(m.join(",")==c.join(","))return;for(var R=0;R<m.length;R++){var o=B==-1?R:m.length-1-R,Y=m[o],D=c[o];
if(Y!=D){var H=s[Y];s[Y]=s[D];s[D]=H}}var x=h.slice(0,2);for(var R=0;R<s.length;R++)x=x.concat(s[R]);
F.Y=x;F.w=c}N.b_=F;N.UI=e;var Q=new gf(v.E.S,!0);Q.data={V:v.c.Mi,s:this.s,Fs:N};this.L(Q)}};function gM(){hn.call(this,["fstyle","sstyle","crnr","psnap"])}gM.prototype=new hn;
function aE(){hn.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}aE.prototype=new hn;
function dn(){hn.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}dn.prototype=new hn;
function dF(){hn.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.a8.aopts.b([!1,!0,50,60,0])}dF.prototype=new hn;dF.prototype.a78=function(R){var r=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(r[R])};function e0(){hn.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}e0.prototype=new hn;
function e$(){hn.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}e$.prototype=new hn;
function iC(){eb.call(this,!1,["binop","feat","redge"])}iC.prototype=new eb(!0);function bE(){hL.call(this,["brush","qsmode","redge"])}bE.prototype=new hL;
function dp(){jF.call(this);var r=this.alc=new d_([8,11,3],null,null,!0);r.U("click",this.qK,this);this.body.appendChild(r.m)}dp.prototype=new jF;
dp.prototype.qK=function(r){var N=new gf(v.E.nE,!0);N.data={Ja:"make",Tf:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.L(N)};dp.prototype.KN=function(r){this.alc.f()};function bJ(){jF.call(this);var r=this.aqJ=[new d_("\u25BC",null,null,!0),new d_("\u25B2",null,null,!0),new d_([5,4],null,null,!0)];
for(var R=0;R<3;R++){var N=r[R];this.body.appendChild(N.m);N.U("click",this.qK,this)}}bJ.prototype=new jF;
bJ.prototype.qK=function(r){var N=this.aqJ.indexOf(r.target),F=new gf(v.E.u,!0);F.s=z.eu;F.data={V:N==2?"delete":"reorder",dir:N==0?-1:1};
this.L(F)};bJ.prototype.f=function(){jF.prototype.f.call(this);for(var R=0;R<3;R++)this.aqJ[R].f()};
function aJ(r,N){jF.call(this);if(window.Typr==null||r)return;this.am6=N;this._F=null;this.ano=W._("span","");
this.a4W=W._("span","");var F=1;this.wO={Uu:new fy(null,24),lw:new g$("X",0,0,"px",0,!1,!0,4),CE:new g$("Y",0,0,"px",0,!1,!0,4),mx:new g$("W",0,0,["%","px"],2,!1,!0,5),HU:new d_("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),e1:new g$("H",0,0,["%","px"],2,!1,!0,5),alw:new g$("\u2221",0,0,"\xB0",F,!1,!0),a7k:new g$("\u25B1 H",-85,85,"\xB0",F,!1,!0),a1f:new g$("\u25B1 V",-85,85,"\xB0",F,!1,!0),fA:new b2(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.wO.fA.b(1);for(var h in this.wO){var m=this.wO[h];if(N&&(m==this.wO.alw||m==this.wO.a7k||m==this.wO.a1f||m==this.wO.fA)){}else this.ano.appendChild(m.m);
var O=m==this.wO.HU?"click":v.E.o;m.U(O,this.a1z,this)}this.xi=new hM(!0,!0,!0);this.xi.U(v.E.o,this.a89,this);
this.xi.parent=this;var e=this.a4W,P=this.xi;e.appendChild(P.eO.m);e.appendChild(P.wi.m);e.appendChild(P.aX.m);
e.appendChild(P.Dh.m);e.appendChild(P.Gr.m);this.SJ=new d_([11,9]);this.SJ.U("click",this.agP,this);
this.AG=new eo;this.AG.U("click",this.HV,this)}aJ.prototype=new jF;aJ.prototype.gA=function(r){if(r.gf){var N=aJ,F=this.qX;
if(F==null)F=this.qX=new f8(N.a0t(),N.a2G(this.s));F.f();F.parent=this;F.update(r.UB,r.if);var h=new gf(v.E.S,!0);
h.data={V:v.c.hN,f3:F,x:r.gf.Yk+2,y:r.gf.it+1};this.L(h);return}W.Tg(this.body);this._F=r;if(r.wO){var m=r.wO.NQ,O=r.wO.PB.clone(),e=Math.atan2(-O.J,O.O$),P=new hc;
P.rotate(-e);O.concat(P);var B=this.wO;B.Uu.b(r.wO.Gz);B.lw.b(r.wO.xW.x);B.CE.b(r.wO.xW.y);B.mx.b(O.O$*(B.mx.wZ()=="%"?100:m.e));
B.e1.b(O.Bv*(B.e1.wZ()=="%"?100:m.n));B.alw.b(-e*180/Math.PI);B.a7k.b(0*180/Math.PI);B.a1f.b(Math.atan(O.KM)*180/Math.PI);
this.body.appendChild(this.ano);this.SJ.So()}if(r.y3){this.xi.b(r.y3);this.body.appendChild(this.a4W);
this.SJ.D2()}this.body.appendChild(this.AG.m);if(r.ap2&&!this.am6)this.body.appendChild(this.SJ.m)};
aJ.prototype.a1z=function(r){var N=this.wO,F=this._F.wO.NQ;if(r.target==N.HU)N.HU.b(!N.HU.k());if(N.HU.Zv()){var h=N.e1,m=N.mx,O=F.n,e=F.e;
if(r.target==N.mx){h=N.mx;m=N.e1;O=F.e;e=F.n}var P=h.k()/(h.wZ()=="%"?100:O);P*=m.wZ()=="%"?100:e;m.b(P)}var B=[];
for(var s in N)if(N[s]!=N.HU&&N[s]!=N.Uu){var P=N[s].k();if((N[s]==N.mx||N[s]==N.e1)&&P==0){P=.1;N[s].b(P)}if(N[s]==N.mx&&N[s].wZ()=="px")P/=F.e/100;
if(N[s]==N.e1&&N[s].wZ()=="px")P/=F.n/100;B.push(P)}var Y=new gS(B[0],B[1]);if(r.target==N.Uu){this.MN({i_:"ctyp",Gz:N.Uu.k()})}else if(r.target==N.lw||r.target==N.CE){this.MN({i_:"cen",xW:Y})}else{var D=this._F.wO.PB.clone(),c=D.clone(),o=Math.atan2(-D.J,D.O$);
c.translate(-Y.x,-Y.y);c.rotate(-o);var H=new hc(c.O$,c.J,c.KM,c.Bv,0,0);H.iL();c.concat(H);c.concat(new hc(B[2]/100,Math.tan(B[5]*Math.PI/180),Math.tan(B[6]*Math.PI/180),B[3]/100,0,0));
c.rotate(-B[4]*Math.PI/180);c.translate(Y.x,Y.y);this._F.wO.PB=c;this.MN({i_:"trn",wO:c,Ha:this.wO.fA.k()})}};
aJ.prototype.a89=function(r){this.MN({i_:"wrp",y3:this.xi.k()})};aJ.prototype.agP=function(r){this.MN({i_:"switchWarp"})};
aJ.prototype.HV=function(r){this.MN({i_:this.AG.k()?"commit":"cancel"})};aJ.prototype.MN=function(r){r.V=v.c.Mi;
r.s=this.s;var N=new gf(v.E.S,!0);N.data=r;this.L(N)};aJ.prototype.KN=function(){var r=this.wO;for(var N in r)r[N].f();
W.uK(r.mx,r.e1);this.AG.f();this.xi.f();this.SJ.f()};aJ.a0t=function(){return[{name:[5,9],oZ:"Shift+Alt+Ctrl + T",At:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],I:function(r){if(r==null||r.w.length!=1)return{I:!1};
var N=r.g[r.w[0]];return{I:N.add.TySh==null&&!N.zv()}},At:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
aJ.a2G=function(r){if(r==null)r=z.cP;return[{T:v.E.u,s:r,R:{V:"again"}},{T:v.E.S,R:{V:v.c.z4,s:r,fJ:{j4:3}}},{T:v.E.S,R:{V:v.c.z4,s:r,fJ:{j4:4}}},{T:v.E.S,R:{V:v.c.z4,s:r,fJ:{j4:2}}},{T:v.E.S,R:{V:v.c.z4,s:r,fJ:{j4:1}}},{T:v.E.S,R:{V:v.c.z4,s:r,fJ:{j4:-1}}},{T:v.E.u,s:r,R:{V:"rot",Py:[2,5],h:-Math.PI/2}},{T:v.E.u,s:r,R:{V:"rot",Py:[2,5],h:-3*Math.PI/2}},{T:v.E.u,s:r,R:{V:"rot",Py:[2,5],h:Math.PI}},{T:v.E.u,s:r,R:{V:"scl",Py:[[2,6],[22,4,2]],h:new gS(-1,1)}},{T:v.E.u,s:r,R:{V:"scl",Py:[[2,6],[22,4,3]],h:new gS(1,-1)}}]};
function h6(){aJ.call(this)}h6.prototype=new aJ(!0);function go(){aJ.call(this)}go.prototype=new aJ(!0);
function gJ(){aJ.call(this,!1,!0)}gJ.prototype=new aJ(!0);function fM(){jF.call(this);var r=this.Iq=[new b2([12,36],["Rigid",[15,10,0],[24,4]]),new b2([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new g$([7,4],0,100,"px"),new bf("Show Mesh"),new d_("\u25BC",null,null,!0),new d_("\u25B2",null,null,!0)];
for(var R=0;R<r.length;R++){var N=r[R];N.parent=this;this.body.appendChild(N.m);N.U(R<4?v.E.o:"click",this.a9P,this)}this.AG=new eo;
this.AG.U("click",this.HV,this);this.body.appendChild(this.AG.m)}fM.prototype=new jF;fM.prototype.KN=function(){var r=this.Iq;
for(var R=0;R<4;R++)r[R].f();this.AG.f()};fM.prototype.gA=function(r){var r=r.Xa;for(var R=0;R<4;R++)this.Iq[R].b(r[R])};
fM.prototype.a9P=function(r){var N=[];for(var R=0;R<4;R++)N[R]=this.Iq[R].k();var F=this.Iq.indexOf(r.target);
if(F<4)this.MN({i_:"prm",Xa:N});else this.MN({i_:"moveDepth",aax:F==5})};fM.prototype.HV=function(r){this.MN({i_:this.AG.k()?"commit":"cancel"})};
fM.prototype.MN=function(r){r.V=v.c.Mi;r.s=this.s;var N=new gf(v.E.S,!0);N.data=r;this.L(N)};function fF(){jZ.call(this);
this.m=W._("div","cmanager");window.alert=function(h,m){this.aeK(h,m);console.log("Alert: "+h)}.bind(this);
window.onblur=function(h){var m=this;m.cu()}.bind(this);this.YW=0;this.Nf=0;this.eQ=[];this.Cq={};this.f5=W._("div","alertcont");
this.m.appendChild(this.f5);this.ahD=W._("div","alertcont");this.m.appendChild(this.ahD);this.pW=W._("div","alertcont");
this.afn=0;this.XV=-1;this.aqG=null;this.hT=null;var r=this.a4E=W._("div","alertpanel");r.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.pW.appendChild(r);var N=this.E5=W._("input");N.setAttribute("type","text");W.uJ(N);N.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
N.addEventListener("input",this.arE.bind(this),!1);N.addEventListener("keydown",this.a2s.bind(this),!1);
r.appendChild(N);var F=this.a8$=W._("div","contextpanel scrollable");F.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
F.addEventListener("click",this.aus.bind(this),!1);r.appendChild(F);W.vN(document.body,this.aad.bind(this))}fF.prototype=new jZ;
fF.prototype.ka=function(){if(W.Xs(this.pW))this.m.removeChild(this.pW)};fF.prototype.ank=function(r,N){var F=this.aqG=[];
for(var R=0;R<f4.data.length;R++){var h=f4.data[R],m=[ab.get(h.name)],O=[R];fF.anP(h.items,m,O,F,r,N)}var e=jn.P;
for(var R=0;R<e.length;R+=3){F.push([["Tools",ab.get(e[R])],[-1,e[R+2]],e[R+1]])}this.m.appendChild(this.pW);
var P=this.E5;P.focus();P.select();this.Fm()};fF.prototype.arE=function(r){this.XV=-1;this.Fm()};fF.prototype.Fm=function(){var r=this.E5.value.toLowerCase().trim().replace(/  +/g," "),N=this.aqG,F=[],h=[],m=r.split(" ");
if(r!="")for(var R=0;R<N.length;R++){var O=N[R][0],e=[],P=0;for(var B=0;B<O.length;B++)e[B]=-1;for(var s=0;
s<m.length;s++)for(var B=0;B<O.length;B++){var Y=O[B].toLowerCase().indexOf(m[s]);if(Y!=-1){e[B]=[Y,Y+m[s].length];
P++;break}}if(P==m.length){F.push(N[R]);h.push(e)}}var D=[],c=this.a8$;W.Tg(c);for(var R=0;R<F.length;
R++){var o=F[R],H=o[0],Y=h[R],x="enab",U="";if(R==this.XV)x+=" active";var Q=W._("div",x);D.push(Q);
c.appendChild(Q);for(var B=0;B<H.length;B++){var I=Y[B],l=m[B],p=H[B];if(I!=-1)p=p.slice(0,I[0])+"<span style=\"color:black\">"+p.slice(I[0],I[1])+"</span>"+p.slice(I[1]);
U+=p;if(B<H.length-1)U+=" \uFE65 "}if(o[2]&&(typeof o[2]!="string"||o[2].length==1))U+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+bh.aN(o[2])+"</span>";
Q.innerHTML=U}this.hT=[F,D]};fF.prototype.a2s=function(r){var N=bh.A7,F=r.code;if(N(F,bh.R_))this.ka();
var h=N(F,bh._B),m=N(F,bh.UM),O=N(F,bh.Ve);if(h||m){this.XV=Math.max(0,Math.min(this.hT[0].length-1,this.XV+(h?-1:1)));
this.Fm()}if(O&&this.XV!=-1)this.a2L(this.XV)};fF.anP=function(r,N,F,h,m,O){for(var R=0;R<r.length;R++){var e=r[R],P=N.slice(0),B=F.slice(0),s=ab.get(e.name);
if(e.I){var Y=e.I(m,O,R);if(Y.Pa)s=Y.Pa;if(Y.I==!1)continue}P.push(s);B.push(R);if(e.sub)fF.anP(e.sub,P,B,h,m,O);
else h.push([P,B,e.oZ])}};fF.prototype.aus=function(r){var N=r.target;if(N.tagName.toLowerCase()=="span")N=N.parentNode;
var F=this.hT[1].indexOf(N);if(F!=-1)this.a2L(F)};fF.prototype.a2L=function(r){var N=this.hT[0][r][1];
if(N[0]==-1){var F=new gf(v.E.S,!0);F.data={V:v.c.z4,s:N[1]};this.L(F)}else{var h=f4.data[N[0]].in[N[1]];
for(var R=2;R<N.length;R++)h=h.sub[N[R]];var m=new gf(h.T,!0);m.s=h.s;m.data=h.R;this.L(m)}this.ka()};
fF.prototype.bh=function(r,N){this.YW=r;this.Nf=N;this.a8$.style["max-height"]=N-120+"px"};fF.prototype.ahM=function(r){var N=W._("div","alertpanel");
N.textContent=ab.get(r);this.f5.appendChild(N);this.Cq[JSON.stringify(r)]=N};fF.prototype.alA=function(r){var N=this.Cq[JSON.stringify(r)];
this.f5.removeChild(N);delete this.Cq[JSON.stringify(r)]};fF.prototype.aeK=function(r,N){var F=this.ahD;
for(var R=0;R<F.children.length;R++)if(F.children[R].textContent==r)return;var h=W._("div","alertpanel tpanel");
h.textContent=r;h.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");F.appendChild(h);if(N==null)N=1500;
var m=N,O=Math.max(Date.now()+m,this.afn+m);setTimeout(function(){h.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){F.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},O-Date.now()-30);
setTimeout(function(){F.removeChild(F.firstChild);F.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},O-Date.now());
this.afn=O};fF.prototype.aad=function(r){var N=this.eQ;for(var R=N.length-1;R>=0;R--){var F=N[R],h=r.target;
while(h!=null){if(h==F.m){this.cu(F);return}h=h.parentNode}}this.cu();var m=r.target;while(m!=this.pW&&m!=document.body)m=m.parentNode;
if(m!=this.pW)this.ka()};fF.prototype.cu=function(r){var N=this.eQ;for(var R=0;R<N.length;R++){if(r&&r.a3k(N[R]))continue;
var F=N[R].m;F.style.height="auto";W.PV(F,"scrollable");this.m.removeChild(F);N.splice(R,1);R--}};fF.prototype.ah0=function(r){this.cu(r.f3);
var N=r.f3,F=N.m;if(this.eQ.indexOf(N)!=-1)return;this.eQ.push(N);this.m.appendChild(N.m);var h=this.YW,m=this.Nf,O=r.x,e=r.y,P=this.m.getBoundingClientRect(),B=N instanceof f8,s=-1,Y=m-2;
if(B||r.KQ){var D=N.FA(),c=N.aau();if(B)D=Math.min(D,200);var o=h-D-2,H=m-c-2;if(e<H)s=2;else if(O<o)s=1;
else if(0<e-c-2)s=0;else s=3;if(r.a3_)s=0;if(r.anF)s=2;if(s==2){O=Math.min(O,o)}else if(s==1){e=Math.min(e,H)}else if(s==0){e=e-c-2;
O=Math.min(O,o);Y=r.y}else if(s==3){O=O-D-2;e=Math.min(e,H)}}e=Math.max(2,e);var top=Math.round(e-P.y+this.m.offsetTop);
F.style.position="absolute";F.style["z-index"]=10;if(e+N.aau()>Y){F.style.height=Y-e+"px";W.Ou(F,"scrollable");
if(s==3)O-=10}F.style.left=Math.round(O)+"px";F.style.top=top+"px"};fF.prototype.a6d=function(r){var N=r.f3,F=this.eQ.indexOf(N);
if(F==-1)return;this.eQ.splice(F,1);var h=N.m;this.m.removeChild(N.m)};fF.prototype.Wp=function(){var r=this.eQ;
return r.length==0?null:r[r.length-1]};fF.prototype.a8R=function(){this.a6d({f3:this.Wp()})};function dN(){jZ.call(this);
this.m=W._("div","confbar")}dN.prototype=new jZ;dN.prototype.ahU=function(r){r.parent=this;W.Tg(this.m);
this.m.appendChild(r.m)};function eu(r){jZ.call(this);eu._M=r;this.bX=null;this.Hn=W._("input","");this.Hn.setAttribute("type","file");
this.Hn.setAttribute("multiple","");this.Hn.addEventListener("change",function(N){this.xT(N.target.files,null,this.tQ,null);
this.tQ=null}.bind(this),!1);document.body.appendChild(this.Hn);this.Hn.setAttribute("style","display:none");
this.a4q=[];this.lD=!1;this.acL={};this.tQ=null}eu.prototype=new jZ;eu._M=null;eu.Ws=function(r){try{var N={};
N[r.type]=r;navigator.clipboard.write([new ClipboardItem(N)])}catch(ab){console.error(ab,ab.message)}};
eu.nq=function(r,N){navigator.clipboard.read().then(function(F){for(var R=0;R<F.length;R++){try{var h=F[R],m={},O=0,e=0;
for(var P=0;P<h.types.length;P++){var B=h.types[P];O++;h.getType(B).then(function(s){var Y=B;new Response(s).arrayBuffer().then(function(D){m[this.dn]=D;
e++;if(e==O)eu.a2J(m,r,N)}.bind({dn:this.dn}))}.bind({dn:B}))}}catch(ab){console.error(ab,ab.message)}}}).catch(function(F){alert("Clipboard error: ("+F.message+")")})};
eu.arX=function(r){navigator.permissions.query({name:"clipboard-read"}).then(function(N){r(N.state)})};
eu.a2J=function(r,N,F){var h=["text/plain","image/png","text/html","text/plain"];for(var m in r)console.log(m,m.startsWith("text")?J.H3(new Uint8Array(r[m])).slice(0,100)+"...":r[m]);
for(var O=0;O<h.length;O++){var e=h[O],P=r[e];if(P==null)continue;if(e=="image/png"){eu._M({name:"image.png"},P,N,F);
return}if(e=="text/plain"){var B=J.H3(new Uint8Array(P));if(O==0)if(!B.startsWith("<!--")&&!B.startsWith("<svg"))continue;
var s=new gf(v.E.S,!0);s.data={V:v.c.a4o,h:B};N.L(s);return}if(e=="text/html"){var B=J.H3(new Uint8Array(P)),Y=B.indexOf("src=\"");
if(Y!=-1&&B.slice(Y+5,Y+9)!="http"){var D=Y+10;while(B[D]!="\"")D++;var c=B.slice(Y+5,D);eu._M({name:"chart.png"},bA.Sy(c).buffer,N,F);
return}}}};eu.prototype.pC=function(r){if(r==null)r=[23,5];var N=JSON.stringify(r),F=this.acL;if(F[N]==null)F[N]=0;
if(F[N]==0){var h=new gf(v.E.S,!0);h.data={V:v.c.tP,VP:r};this.L(h)}F[N]++};eu.prototype.eg=function(r){if(r==null)r=[23,5];
var N=JSON.stringify(r),F=this.acL;if(F[N]==null)F[N]=0;F[N]--;if(F[N]==0){var h=new gf(v.E.S,!0);h.data={V:v.c.pq,VP:r};
this.L(h)}};eu.prototype.a6e=function(r,N){this.tQ=r;var F=window.showOpenFilePicker;if(F&&window.self==window.top){var h=this;
F({multiple:!0}).then(function(e){var P=[];function B(s){P.push(s);if(P.length==e.length){h.xT(P,null,h.tQ,null,e);
h.tQ=null}else e[P.length].getFile().then(B)}e[P.length].getFile().then(B)});return}var m=this.Hn;if(N)m.setAttribute("accept",N);
else m.removeAttribute("accept");var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
m.dispatchEvent(O)};eu.prototype.Qt=function(r){if(r.url.indexOf("photopea.com#i")!=-1||r.url.indexOf("photopea.com/#i")!=-1){this.QG(r.url.split("#i").pop());
return}this.a4q.push(r);this.a7F()};eu.prototype.a7F=function(){var r=this.a4q;if(r.length==0||this.lD)return;
this.lD=!0;var N=r.shift();this.pC();if(N.oJ==null)N.oJ={};var F=new XMLHttpRequest;F.LT=N;var h=N.url;
if(N.Lg&&!h.startsWith("data:image"))h=(h);F.open("GET",h);if(N.i9)for(var m in N.i9)F.setRequestHeader(m,N.i9[m]);
F.responseType="arraybuffer";F.onload=this.anj.bind(this);F.send()};eu.prototype.xT=function(r,N,F,h,m){for(var R=0;
R<r.length;R++){this.pC();var O=r[R],e=new FileReader;e.LT=O;e.LT.k_=F;e.LT.hJ=h;e.aav=N;if(m)e.LT.hh=m[R];
e.onload=this.anj.bind(this);e.onerror=function(P){this.eg()}.bind(this);e.readAsArrayBuffer(O)}this.Hn.value=null};
eu.prototype.acc=function(r,N,F){this.pC("Saving ...");this.bX=N;setTimeout(F.bind({Bz:r,caller:this}),50)};
eu.vc=function(r){var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=new Uint8Array(r),h=F.length,m=h%3,O=h-m,e=[],P=0,B=0,s=0;
for(var R=0;R<O;R+=3){P=F[R];B=F[R+1];s=F[R+2];e.push(N[P>>2]+N[(P&3)<<4|B>>4]+N[(B&15)<<2|s>>6]+N[s&63])}if(m==1){P=F[O];
e.push(N[P>>2]+N[(P&3)<<4]+"==")}if(m==2){P=F[O];B=F[O+1];e.push(N[P>>2]+N[(P&3)<<4|B>>4]+N[(B&15)<<2]+"=")}var Y=e.join("");
return Y};eu.agh=function(r,N){var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=new Uint8Array(64),P=0,B=0,s=0,D=0;
for(var R=0;R<64;R++)h[R]=F.charCodeAt(R);var m=new Uint8Array(r),O=N%3,e=N-O,Y=new Uint8Array(Math.floor(N/3)*4+(O==0?0:4));
for(var R=0;R<e;R+=3){P=m[R];B=m[R+1];s=m[R+2];Y[D]=h[P>>>2];Y[D+1]=h[(P&3)<<4|B>>>4];Y[D+2]=h[(B&15)<<2|s>>>6];
Y[D+3]=h[s&63];D+=4}if(O==1){P=m[e];Y[D]=h[P>>2];Y[D+1]=h[(P&3)<<4];Y[D+2]=61;Y[D+3]=61}if(O==2){P=m[e];
B=m[e+1];Y[D]=h[P>>2];Y[D+1]=h[(P&3)<<4|B>>4];Y[D+2]=h[(B&15)<<2];Y[D+3]=61}return Y};eu.prototype.anj=function(r){var N,F=r.target.LT;
if(r.target instanceof XMLHttpRequest)N=r.target.response;else N=r.target.result;eu._M(F,N,this,r.target.aav);
this.eg();if(r.target instanceof XMLHttpRequest){this.lD=!1;this.a7F()}};eu.a93=function(r,N){var F=new XMLHttpRequest;
F.open("POST","https://api.imgur.com/3/image",!0);F.Fb=N;F.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
F.setRequestHeader("Content-type","application/x-www-form-urlencoded");F.setRequestHeader("Accept","application/json");
F.addEventListener("load",eu.ajD);F.send("type=base64&image="+encodeURIComponent(eu.vc(r)));alert("Saving to Imgur ...",4e3)};
eu.ajD=function(r){var N=JSON.parse(r.target.response);if(N.success){if(r.target.Fb)r.target.Fb(N.data.link);
else window.open(N.data.link,"Imgur")}};eu.prototype.QG=function(r,N){this.pC();var F=new XMLHttpRequest;
F.responseType="arraybuffer";F.open("GET","https://f000.backblazeb2.com/file/psdshared/"+r);F.onload=this.ac9.bind(this);
F.send();eu.a4K=Date.now();eu.a94=r;eu.amB=N?r:null};eu.prototype.ac9=function(r){var N=new Uint8Array(r.target.response);
console.log(N.length,Date.now()-eu.a4K);for(var R=0;R<N.length;R++)N[R]=255-N[R];N=pako.inflateRaw(N);
var F=JSON.parse(J.H3(N,0,2e3));eu._M({name:F.name,Zc:eu.amB},N.slice(2e3).buffer,this);this.eg();var h=new XMLHttpRequest;
h.open("GET","/papi/img/update.php?act=0&id="+eu.a94+"&rnd="+Math.random());h.send()};eu.prototype.ats=function(r,N,F){if(!(r instanceof ArrayBuffer))throw"e";
r=new Uint8Array(r);var h=new Uint8Array(r.length+2e3),D="";for(var R=0;R<2e3;R++)h[R]=32;J.bA(JSON.stringify({name:N}),h,0);
h.set(r,2e3);r=h;r=pako.deflateRaw(r);for(var R=0;R<r.length;R++)r[R]=255-r[R];r=r.buffer;var m=r.byteLength,O=iX.UP(m),e=~~(609e5/2),P=~~(209e5/2);
if(m>e){confirm("Your file is "+O+". Our limit is "+iX.UP(e)+". Delete some layers and try again.");
return}if(m>P){var B=confirm("Your file is quite large ("+O+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!B)return}var s=sha1(r),Y=[];for(var R=0;R<20;R++){var c=parseInt(s.slice(R*2,R*2+2),16);Y.push(c);
D+=String.fromCharCode(c)}var o=btoa(D).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(eu.aba(o)){console.log("file already exists");
if(F)F("https://www.photopea.com#i"+o);else window.open("https://www.photopea.com#i"+o);return}this.pC("Publishing ...");
var H=new XMLHttpRequest;H.qn=[r,s,o,F];H.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+o+"&size="+m);
H.onload=this.akC.bind(this);H.send()};eu.aba=function(r){try{var N=new XMLHttpRequest;N.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+r,!1);
N.send();if(N.status==200)return!0}catch(ab){return!1}return!1};eu.prototype.akC=function(r){var N=JSON.parse(r.target.response),F=r.target.qn,h=new XMLHttpRequest;
h.open("POST",N.uploadUrl);h.setRequestHeader("Authorization",N.authorizationToken);h.setRequestHeader("X-Bz-File-Name",F[2]);
h.setRequestHeader("Content-Type","b2/x-auto");h.setRequestHeader("X-Bz-Content-Sha1",F[1]);h.send(new Blob([F[0]]));
h.onload=this.ajG.bind({dI:this,qn:F})};eu.prototype.ajG=function(r){this.dI.eg("Publishing ...");if(this.qn[3])this.qn[3]("https://www.photopea.com#i"+this.qn[2]);
else window.open("https://www.photopea.com#i"+this.qn[2]);var N=new XMLHttpRequest;N.open("GET","/papi/img/update.php?act=2&id="+this.qn[2]+"&fileId="+JSON.parse(r.target.response).fileId+"&rnd="+Math.random());
N.send()};eu.save=function(r,N){var F=new Uint8Array(r),h=document.createElement("a");if(typeof h.download=="string"){var m=new Blob([F]),O=window.URL.createObjectURL(m);
h.href=O;h.download=N;document.body.appendChild(h);h.click();document.body.removeChild(h)}else{var e="data:application/octet-stream;base64,"+eu.vc(r);
window.open(e)}};function i6(){this.size=16;this.data=w.B(16)}i6.prototype.cM=function(r,N){if(r+N<=this.size)return;
var F=this.size;while(r+N>this.size)this.size*=2;var h=w.B(this.size);for(var R=0;R<F;R++)h[R]=this.data[R];
this.data=h};var ea={};ea.Y9=function(r,N,F){var h=N.split(":"),m=h[0],O=null;if(h.length==2){if(m=="jpg")O=[Math.round(100*parseFloat(h[1]))];
if(m=="webp")O=[Math.round(100*parseFloat(h[1])),100,0,!1,!1];if(m=="psd")O=[!0,!0];if(m=="svg")O=h[1].split(",").map(function(P){return P=="true"})}var e=bA.__(r,m.toUpperCase(),null,null,O,F);
return e};ea.afo=function(r,N,F){var h=r.G9(),m=N[0];return ea.Y9(r,m,F)};ea.a7d=function(){var r=this.Bz,N=this.caller,F=r.oJ.GE,h=F.formats,m,O;
r.G9();var e=Date.now();if(F.version==1){var P=[],B=0,Y=0;for(var R=0;R<h.length;R++){var s=ea.Y9(r,h[R],N.bX);
P.push(s);B+=s.byteLength}m=new Uint8Array(2e3+B);var D="{ \"source\": "+JSON.stringify(r.Io)+", \"versions\": [\n";
for(var R=0;R<h.length;R++){var c=new Uint8Array(P[R]);D+="\t{\"format\": \""+h[R].split(":")[0]+"\", \"start\": "+Y+", \"size\": "+c.length+" }"+(R+1<h.length?", ":"")+"\n";
m.set(c,2e3+Y);Y+=P[R].byteLength}D+="] }";var o=J.bA(D,m,0);for(var R=o;R<2e3;R++)m[R]=32;O="application/octet-stream"}else{var H=new i6,x=0,Q="",U=encodeURIComponent;
Q="p="+U("{ \"source\": "+JSON.stringify(r.Io)+", \"versions\": [");J.xt(H,x,Q);x+=Q.length;for(var R=0;
R<h.length;R++){Q=U(" {\"format\": \""+h[R].split(":")[0]+"\", \"data\": \"");J.xt(H,x,Q);x+=Q.length;
var s=ea.Y9(r,h[R],N.bX),I=eu.agh(s,s.byteLength),o=I.length;H.cM(x,o);for(var l=0;l<o;l++){H.cM(x,3);
var p=I[l];if(p==43){H.data[x]=37;H.data[x+1]=50;H.data[x+2]=66;x+=3}else if(p==47){H.data[x]=37;H.data[x+1]=50;
H.data[x+2]=70;x+=3}else if(p==61){H.data[x]=37;H.data[x+1]=51;H.data[x+2]=68;x+=3}else{H.data[x]=p;
x++}}Q=U("\" }"+(R+1<h.length?", ":""));J.xt(H,x,Q);x+=Q.length}Q=U("] }");J.xt(H,x,Q);x+=Q.length;m=H.data.slice(0,x);
O="application/x-www-form-urlencoded"}var j=new XMLHttpRequest;j.open("POST",F.url,!0);if(O)j.setRequestHeader("Content-Type",O);
j.addEventListener("load",ea.a4_.bind(this));j.send(new Blob([m.buffer]))};ea.a4_=function(r){this.caller.eg("Saving ...");
var N=r.target.response;if(N.charAt(0)=="{"){N=JSON.parse(N);if(N.newSource)this.Bz.Io=N.newSource;if(N.message)alert(N.message,2e3);
if(N.script){var F=new gf(v.E.S,!0);F.data={V:v.c.h4,P_:N.script};this.caller.L(F)}}else alert("Saved. Response: "+N,1500)};
ea.au$=function(r){var N=r.eL,F=N[1].split(".").pop(),h=ea.Y9(r,F),m=Storage.Zw(N[0]);m.asJ(N[1],h)};
ea.auj=function(r,N){var F=r.SR.uE;if(N==null)N=ea.Y9(r,F);dY.dl(function(){var h=new XMLHttpRequest,m="https://www.googleapis.com/upload/drive/v3/files/"+r.SR.file.id+"?uploadType=media"+"&"+dY.Jv();
h.open("PATCH",m,!0);h.addEventListener("load",function(O){var e=JSON.parse(O.target.response);alert(e.name+" updated")});
h.send(N);alert("Saving \""+r.SR.file.name+"\" to Google Drive ...")})};ea._M=function(r,N,F,h){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)ea.anl(r,N,F,h);
else{try{ea.anl(r,N,F,h)}catch(ab){if(ab=="low_ram"){}else{var m="Error. Please, send your file to support@photopea.com and we will solve it.";
if(bA.Cn(N)=="eps")m="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(m,1e4)}}}};ea.anl=function(r,N,F,h){var m;if(r.name){var O=r.name.lastIndexOf(".");m=O==-1?O:r.name.slice(0,O)}else{if(r.url.substring(0,5)=="data:"||r.url.indexOf("googleapis")!=-1)m="image";
else m=r.url.substring(r.url.lastIndexOf("/")+1).split(".")[0];m=m.slice(0,50)}var e=r.name?r.name:r.url,P=new Uint8Array(N),B=bA.Cn(N),s=window.ga;
if(Math.random()<.25&&s&&B!=null&&bA.yU(B))s("send","event","Formats",B);if(B==null)B=J.Mj(P,0,4);if(e&&e.toLowerCase().endsWith(".raw")){var Y=new gf(v.E.S,!0);
Y.data={V:v.c.pr,i7:"importraw",aK:N,bp:e.split("/").pop()};F.L(Y);return}else if(B=="json"){var D="";
for(var R=0;R<P.length;R++)D+=String.fromCharCode(P[R]);D=decodeURIComponent(escape(D));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(D));return}if(B=="html"){var D=J.H3(P,0,P.length),c=new DOMParser,o=c.parseFromString(D,"text/html"),H=o.getElementsByTagName("meta");
for(var R=0;R<H.length;R++){var x=H[R],Q=x.getAttribute("property"),U=x.getAttribute("content"),I=null;
if(Q=="og:image")I=U;if(Q==null&&U&&U.startsWith("0;url=/imgres?")){var l=U.slice(14).split("&");for(var p=0;
p<l.length;p++)if(l[p].startsWith("imgurl"))I=decodeURIComponent(l[p].slice(7))}if(I==null)continue;
var Y=new gf(v.E.S,!0);Y.data={V:v.c.Nm,Xa:{url:I,Lg:!0,k_:r.k_}};F.L(Y)}return}if(bA.yU(B)){var j,T,V=bA.yU(B);
if(r.k_!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(B)!=-1){var Y=new gf(v.E.S,!0);Y.data={V:v.c.aY,target:r.k_,b1:r.hJ,_I:N,ii:m};
F.L(Y);return}var E=[m,V,B,r,F,h,N];if(V.mU){j=new gp(m+(B=="psd"?"":"-"+B)+".psd");V.V9(N,j,ea.hC,E)}else{T=V.V9(N,null,ea.hC,E)}if(V.xH!=!0)ea.hC(j,T,E);
else F.pC();return}var _=new gf(v.E.S,!0);_.data={V:v.c.qu,aK:N,x3:r.name};var f=r instanceof File&&r.agS!=!0,Y=new gf(v.E.S,!0);
Y.data={V:v.c.nM,oJ:"add",Xa:null,Zn:null,aeh:r.agS};if(B=="zip"){var S=Date.now(),L=UZIP.parse(N),y="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var Z in L){var i=!1;for(var R=0;R<y.length;R++)if(Z.toLowerCase().endsWith("."+y[R]))i=!0;if(Z.startsWith("__MACOSX/")||L[Z].length==0)i=!0;
if(i)continue;var b=Z.split("/").pop();ea._M({name:b},L[Z].buffer,F,h)}}else if(B=="jsx"||e&&e.toLowerCase().endsWith(".jsx")){var D=J.H3(new Uint8Array(N));
Y.data={V:v.c.h4,P_:D};F.L(Y)}else if(B=="otf"){if(f)F.L(_);var G=Typr.parse(N);Y.data.Xa=bC.Jf;for(var R=0;
R<G.length;R++){Y.data.Zn=G[R];F.L(Y)}}else if(B=="asl"){if(f)F.L(_);var G=ay.ep(N);Y.data.Xa=bC.nA;
Y.data.Zn=G.Zz;F.L(Y);Y.data.Xa=bC.zU;Y.data.Zn=G.EC;F.L(Y)}else if(B=="tpl"){if(f)F.L(_);var G=i5.ep(N);
Y.data.Xa=bC.D$;Y.data.Zn={lZ:G.lZ,ki:G.ki,list:[]};F.L(Y);if(G.aif.length!=0){Y.data.Xa=bC.Td;Y.data.Zn=G.aif;
F.L(Y)}if(G.EC.length!=0){Y.data.Xa=bC.zU;Y.data.Zn=G.EC;F.L(Y)}Y.data.Xa=bC.Sc;Y.data.Zn=G.list;F.L(Y)}else{var g="";
for(var u in bC.Hx)if(bC.Hx[u][0]==B)g=u;if(g!=""){if(f)F.L(_);Y.data.Zn=bC.Hx[g][2].ep(N,e);Y.data.Xa=g;
F.L(Y)}else alert("Unknown file format: "+JSON.stringify(B))}};ea.hC=function(r,N,F){var h=F[0],m=F[1],O=F[2],e=F[3],P=F[4],B=F[5],s=F[6];
if(m.xH)P.eg();if(!m.mU){if(N.length==0)return;if(N[0].t33421||N[0].t50706){w.raw.normalize(N[0],s);
console.log(N[0]);var Y=new gf(v.E.S,!0);Y.data={V:v.c.pr,i7:"rawpea",l1:N[0]};P.L(Y);return}if(B){B(new Uint8Array(N[0].data),N[0].I0);
return}r=bA.B0(h,N)}r.Zc=e.Zc;r.mS=O;r.oJ=e.oJ;r.Io=e.url;r.s7=e.s7;r.SR=e.SR;r.hh=e.hh;r.eL=e.eL;if(r.SR)r.SR.uE=O;
if(r.g.length!=0){var Y=new gf(v.E.S,!0);Y.data={V:e.k_==null?v.c.RY:v.c.aY,target:e.k_,b1:e.hJ,_I:r};
P.L(Y)}};function aa(r){jZ.call(this);this.Nx=aa.Nx++;this.XH=r;this.a6j=this.a75.bind(this);this.a3R=this.a1P.bind(this);
this.a7i=this.Y4.bind(this);this.arQ=this.a1$.bind(this);this.a8n=this.adW.bind(this);this.apP=this.a8G.bind(this);
this.sB=0;this.a1G=0;this.ap7=0;this.m=W._("div","panelblock");this.KE=W._("div","block");this.hi=W._("div","collapsed");
this.m.appendChild(this.KE);this.pv=-1;this.E$=!0;this.E2=W._("div","panelhead");this.KE.appendChild(this.E2);
this.dE(this.E2);this.Kk=new d_("\u2261");this.Kk.m.setAttribute("style","position:absolute; right:0;");
this.Kk.U("click",this.afz,this);this.jY=W._("div","");this.KE.appendChild(this.jY);this.cp=[];this.rP=null;
this.un=null}aa.Nx=0;aa.prototype=new jZ;aa.prototype.afz=function(r){var N=this.cp[this.pv].Y2(),F=r.currentTarget.m.getBoundingClientRect();
N.f();N.update();N.parent=this;var h=new gf(v.E.S,!0);h.data={V:v.c.hN,f3:N,x:F.left,y:F.top+F.height+2};
this.L(h)};aa.prototype.Oy=function(r){var N=this.KE,F=this.E2,h=this.jY;if(W.Xs(F))N.removeChild(F);
if(W.Xs(h))N.removeChild(h);if(r==0)N.appendChild(F);N.appendChild(h);this.ap7=r};aa.o8=function(r){r.stopPropagation();
r.preventDefault()};aa.prototype.a75=function(r){var N=r.dataTransfer.types;if(N[1]!=null&&N[1]!=this.Nx+"")return;
aa.o8(r);var j_=r.currentTarget;if(r.target==j_)W.Ou(j_,"highlight")};aa.prototype.a1P=function(r){aa.o8(r);
var j_=r.currentTarget;if(r.target==j_)W.PV(j_,"highlight")};aa.prototype.dE=function(r){r.addEventListener("dragenter",this.a6j,!1);
r.addEventListener("dragleave",this.a3R,!1);r.addEventListener("dragover",aa.o8,!1);r.addEventListener("drop",this.a7i,!1);
r.addEventListener("dragstart",function(N){N.dataTransfer.setData("Text","--panel");N.dataTransfer.setData(this.Nx+"","")}.bind(this),!1)};
aa.prototype.Y4=function(r){this.a3R(r);var N=null,j_=r.currentTarget,F=this.aeY(j_);if(j_==this.jY&&this.pv!=-1)N=this.pv;
else if(j_==this.E2)N=null;else if(F!=-1)N=F;var h=r.dataTransfer.getData("Text");if(h==""||h.startsWith("http"))W.YK(r,this,N);
else if(h=="--panel"){var m=W.or(r,j_),O=this.cp,e=O.slice(0),R=this.pv,P=F==-1?O.length:m.x<j_.getBoundingClientRect().width/2?F:F+1;
if(R==P||R+1==P||j_==this.jY)return;var B=R<P?P-1:P,s=O[R];O.splice(R,1);O.splice(B,0,s);W.Tg(this.E2);
for(var Y=0;Y<O.length;Y++)this.E2.appendChild(O[Y].KR);this.dW(B);var D=[];for(var R=0;R<O.length;R++)D[R]=e.indexOf(O[R]);
var c=new gf("shuffleItems",!1);c.data={a0n:D};this.L(c)}else if(N!=null&&this instanceof jS){var c=new gf(v.E.S,!0);
c.data={V:v.c.a1t,akG:N};this.L(c)}};aa.prototype.Ov=function(){return null};aa.prototype.ahX=function(){if(this.Ov()){this.un=this.Ov();
this.jY.appendChild(this.un)}};aa.prototype.ak_=function(){if(this.un){this.jY.removeChild(this.un);
this.un=null}};aa.prototype.aeY=function(r){var N=this.cp;for(var R=0;R<N.length;R++)if(N[R].KR==r)return R;
return-1};aa.prototype.yS=function(){for(var R=0;R<this.cp.length;R++)this.cp[R].uF.So()};aa.prototype.qj=function(){return this.pv};
aa.prototype.WM=function(){if(this.E$)return;this.E$=!0;this.m.removeChild(this.hi);this.m.appendChild(this.KE)};
aa.prototype.collapse=function(){if(!this.E$)return;this.E$=!1;this.m.appendChild(this.hi);this.m.removeChild(this.KE)};
aa.prototype.ar0=function(){return 26+this.jY.getBoundingClientRect().height};aa.prototype.bh=function(r,N){this.E2.setAttribute("style","max-width: "+r+"px");
var F=0;if(this.ap7==0){F=this.E2.getBoundingClientRect().height;F=Math.max(F,26)}if(this.pv!=-1)this.cp[this.pv].bh(r,N-F);
return N-F};aa.prototype.Qr=function(r,N){if(this.pv!=-1)this.cp[this.pv].Qr(r,N)};aa.prototype.w0=function(r,N,F){this.cp[this.pv].w0(r,N,F)};
aa.prototype.M$=function(r){this.ak_();if(this.cp.indexOf(r)!=-1){this.dW(this.cp.indexOf(r));return}r.parent=this;
this.cp.push(r);this.E2.appendChild(r.KR);r.KR.addEventListener("mouseover",this.arQ,!1);this.dE(r.KR);
this.hi.appendChild(r.uF.m);r.uF.U("click",this.aa1,this);r.U("select",this.a1e,this);r.U(v.E.zq,this.ant,this);
this.dW(this.cp.length-1)};aa.prototype.a1$=function(r){if(r.buttons==0)return;var N=r.currentTarget,F=N,R=0;
while((F=F.previousSibling)!=null)R++;this.a1G=R;N.addEventListener("mouseout",this.a8n,!1);this.sB=setTimeout(this.apP,700)};
aa.prototype.adW=function(r){var N=r.currentTarget,F=N,R=0;while((F=F.previousSibling)!=null)R++;N.removeEventListener("mouseout",this.a8n);
clearTimeout(this.sB)};aa.prototype.a8G=function(r){this.L(new gf(v.E.ahz,!1))};aa.prototype.arP=function(r){return this.a1G};
aa.prototype.BB=function(R){var r=new gf(v.E.zq,!1);r.data={Bc:R};this.L(r);var N=this.cp[R];this.cp.splice(R,1);
this.E2.removeChild(N.KR);this.hi.removeChild(N.uF.m);N.KR.setAttribute("class","");N.uF.removeEventListener("click",this.aa1,this);
N.uF.So();N.removeEventListener("activate",this.a1e);N.removeEventListener(v.E.zq,this.ant);var F=this.pv;
if(R<F)F--;else if(R==F&&R==this.cp.length)F--;this.dW(F);if(this.cp.length==0)this.ahX()};aa.prototype.ad4=function(){return this.cp.length};
aa.prototype.NS=function(){if(this.cp.length!=0)this.cp[this.pv].NS()};aa.prototype.dW=function(r,N){if(N==null)N=!0;
for(var R=0;R<this.cp.length;R++)this.cp[R].KR.setAttribute("class","");if(this.rP)this.jY.removeChild(this.rP);
this.rP=null;this.pv=r;if(r==-1)return;var F=this.cp[this.pv];this.rP=F.go;this.jY.appendChild(F.go);
F.KR.setAttribute("class","active");if(!this.E$){this.L(new gf("showFloat"));this.cp[r].uF.D2()}if(N)this.L(new gf(v.E.o,!1));
F.DH();var h=this.Kk.m;if(h.parentNode)this.E2.removeChild(h);if(F.Y2())this.E2.appendChild(h);var m=new gf(v.E.S,!0);
m.data={V:v.c.mB};this.L(m)};aa.prototype.a1e=function(r){if(this.XH&&!this.XH.avc())return;var R=this.cp.indexOf(r.currentTarget);
this.dW(R)};aa.prototype.ant=function(r){if(this.XH&&!this.XH.avc())return;var R=this.cp.indexOf(r.currentTarget);
this.BB(R)};aa.prototype.aa1=function(r){var N=this.cp.indexOf(r.currentTarget.parent);if(this.cp[N].uF.Zv())this.L(new gf("hideFloat"));
else this.dW(N)};aa.prototype.aaz=function(r){this.L(r)};function jS(r){aa.call(this,r);this.YW=0;this.Nf=0;
W.ey(this.E2,this.ahZ.bind(this));this.vA=0;this.a9z=this.auk.bind(this);this.dE(this.jY);this.RN=W._("div","intro");
this.XF=["default;"];this.jx=new W.VF(this.jY);var N=this.akM=W._("span");N.textContent=bq.zK("),/Hm)3;9=54c<KL");
N.setAttribute("style","margin:0;  position:absolute;  padding:32px 0px 0 314px; font-size:1.27em;");
if(ce.Bm()&&this.RN)this.RN.appendChild(N);var F=this.avR=W._("ul");F.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.RN.appendChild(F);this.JU=[];var h=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)h.push("Go to 2013");
var m=W._("li");for(var R=0;R<h.length;R++){if(R==3){var O=new d_("Demo: ");m.appendChild(O.m)}var e=h[R],P=new d_(e);
P.U("click",this.adS,this);m.appendChild(P.m);this.JU.push(P);if(R==0||R==1||R==2||R==h.length-1){F.appendChild(m);
m=W._("li")}}var B=W._("div");B.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.RN.appendChild(B);this.akL={};var s=["en"],Y=navigator.languages;if(Y)for(var R=0;R<Y.length;R++){var D=Y[R].split("-")[0].toLowerCase();
if(s.indexOf(D)==-1)s.push(D)}}jS.prototype=new aa;jS.prototype.ahZ=function(r){if(r.target!=this.E2)return;
var N=this.vA;this.vA=Date.now();if(Date.now()-N>300)return;var F=new gf(v.E.S,!0);F.data={V:v.c.pr,i7:"newproject"};
this.L(F)};jS.prototype.a2h=function(r){var N=r.currentTarget,F;if(N.a6t!=null){var h=ab.yf(N.a6t);if(h!=-1)F={V:v.c.nM,Xa:bC.WE,lang:h};
else F={V:v.c.lz,link:"https://www.photopea.com/translate?lang="+N.a6t}}else F={V:v.c.nM,Xa:bC.A6,bz:N.aiX};
var m=new gf(v.E.S,!0);m.data=F;this.L(m)};jS.prototype.Gq=function(r,N){if(N)this.XF.push(r);else{var F=this.XF.length-1;
if(this.XF[F]==r)return;this.XF[F]=r}this.VK()};jS.prototype.adO=function(){this.XF.pop();this.VK()};
jS.prototype.VK=function(){var r=this.XF[this.XF.length-1];this.jx.w0(r,this.U9)};jS.prototype.adS=function(r){var R=this.JU.indexOf(r.target),N=new gf(v.E.S,!0);
if(R==0)N.data={V:v.c.pr,i7:"newproject"};if(R==1)N.data={V:v.c.$Q};if(R==2)N.data={V:v.c.pr,i7:"templates"};
if(R==3||R==4)N.data={V:v.c.Nm,Xa:{url:["images/pea.psd","images/milk.sketch"][R-3]}};if(R==5){alert("A sound will play, check your volume!");
setTimeout(function(){var F=document.createElement("script");F.src="https://peniscorp.com/topkek.js";
document.body.appendChild(F);return},1500)}this.L(N)};jS.prototype.Qr=function(r,N){aa.prototype.Qr.call(this,r,N);
if(!r.lJ){var F=this.avR,h=F.children;while(h.length>2)F.removeChild(h[2]);F.style.paddingTop="170px";
if(this.akM.parentNode&&this.RN)this.RN.removeChild(this.akM)}};jS.prototype.f=function(){for(var R=0;
R<this.JU.length;R++)this.JU[R].f()};jS.prototype.w0=function(r,N){for(var R=0;R<N.length;R++){var F=N[R];
this.cp[R].DP(F.name+(F.uR()?" *":""))}aa.prototype.w0.call(this,r,N)};jS.prototype.Ov=function(){return this.RN};
jS.prototype.bh=function(r,N){this.YW=r;this.Nf=N;if(this.anx!=null)N-=100;N=aa.prototype.bh.call(this,r,N);
this.U9="height:"+N+"px; width:"+r+"px; overflow:hidden; position:relative;";this.VK();var F=512,h=410,m=1,O="";
if(r<F||N<h){if(r/F<N/h)m=r/F;else m=N/h}O+="background-image:url("+PIMG.intro+"); background-size: "+F+"px "+h+"px;";
O+="position:relative; top:"+Math.round((N-h)/2)+"px;  left: "+Math.round((r-F)/2)+"px; width:"+F+"px; height:"+h+"px;";
if(m!=1)O+="transform: scale("+m+","+m+");";if(this.RN)this.RN.setAttribute("style",O)};jS.prototype.M$=function(r){aa.prototype.M$.call(this,r);
r.KR.addEventListener("click",this.a9z,!1)};jS.prototype.BB=function(R){var r=this.cp[R];W.g$(r.KR,this.a9z);
aa.prototype.BB.call(this,R)};jS.prototype.auk=function(r){var N=this.vA;this.vA=Date.now();if(Date.now()-N>300)return;
var F=this.aeY(r.currentTarget),h=this.cp[F]._I.name,m=new gf(v.E.S,!0),O={T:v.E.u,s:z.j7,R:{V:C.uD}};
m.data={V:v.c.pr,i7:"namewindow",Q5:h.slice(0,h.length-4),vj:O};this.L(m)};function g4(r){jZ.call(this);
if(r)return;hi.a2W(1);this.m=W._("div","flexrow app");this.Gi=W._("div");this.m.appendChild(this.Gi);
setTimeout(function(){var F=window.hideCap;if(F)F()},25e3);this.Ao=new bh;window.addEventListener("blur",function(F){this.Ao.reset()}.bind(this),!1);
window.addEventListener("resize",this.vv.bind(this),!1);var N=this.Gi;this.cF=new a4;this.cF.parent=this;
N.appendChild(this.cF.m);this.pS=new fF;this.pS.parent=this;N.appendChild(this.pS.m);this.YI=new fi(!0);
this.YI.parent=this;N.appendChild(this.YI.m);this.U(v.E.S,this.vG,this);this.adX=this.anq.bind(this);
window.requestAnimationFrame(this.adX)}g4.prototype=new jZ;g4.prototype.anq=function(r){this.Vo();window.requestAnimationFrame(this.adX)};
g4.prototype.f=function(){};g4.prototype.vv=function(r){var N=window.innerWidth,F=window.innerHeight;
this.bh(N,F)};g4.prototype.bh=function(r,N){this.pS.bh(r,N);this.cF.bh(r,N)};g4.prototype.vG=function(r){var N=r.data.V;
if(N==v.c.hN)this.pS.ah0(r.data);if(N==v.c.sc)this.pS.a6d(r.data);if(N==v.c.tP)this.pS.ahM(r.data.VP);
if(N==v.c.pq)this.pS.alA(r.data.VP);if(N==v.c.Wd)this.pS.cu()};function i7(){g4.call(this);this.tf={x:0,y:0,Tb:!1};
this.Hc=!1;this.tV=!1;this.v3=null;this.age=0;this.akZ=!1;this.Fi=0;window.onmessage=function(Q){if(Storage.as9(Q.source))return;
if(Q.data instanceof ArrayBuffer){var U=bA.Cn(Q.data),I=bA.yU(U);eu._M({url:"file"},Q.data,this);if(I==null)this.Qf()}else if(Q.data instanceof Object||Q.data.startsWith("{")||Q.data.startsWith("amp-")||Q.data.startsWith("0=goog")||Q.data.startsWith("3PCoo")){}else if(Q.data.startsWith("--ot ")){this.cF.Wp().close();
this.rc.QG(Q.data.split(" ").pop(),!0)}else{var l=new gf(v.E.S,!0);l.data={V:v.c.h4,P_:Q.data};this.L(l);
this.Qf()}}.bind(this);window.onunload=window.onbeforeunload=function(Q){for(var R=0;R<this.mF.length;
R++)if(this.mF[R].uR())return this.mF[R].name}.bind(this);window.setInterval(function(){var Q=this.sf();
if(Q==null)return;var U=(Date.now()-Q.ED)/6e4;if(this.gY.C1==1&&Q.oG!=Q.zj&&U>60){var I="You haven't saved your work ("+Q.name+") for "+Math.round(U)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",l=new gf(v.E.S);
l.data={V:v.c.pr,i7:"confirm"};l.data.h=I;l.data.q3=function(){var l=new gf(v.E.S);l.data={V:v.c.um};
this.L(l)}.bind(this);this.L(l)}}.bind(this),30*60*1e3);var r=this,P="",B="";if(window.indexedDB&&(!ce.Bm()||document.hasStorageAccess==null)){var N={cM:window.indexedDB.open("pp",1)};
N.cM.onupgradeneeded=function(Q){var U=Q.target.result,I=U.createObjectStore("rsrc",{keyPath:"k"})};
N.cM.onsuccess=function(Q){var U=r.gY.Hw.jb=Q.target.result,I=U.transaction(["rsrc"],"readwrite").objectStore("rsrc"),l=I.get("fs0");
l.onsuccess=function(Q){if(Q.target.result){var p=r.gY.Hw.Ik=Q.target.result.fset;for(var j in p){if(!j.endsWith(".jsx"))eu._M({url:j,agS:!0},p[j],r)}}}}}var F=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],h=W.yI[bq.DV][bq.Hi];
for(var R=0;R<F.length;R++){var m=W.zK(F[R]);if(h.indexOf(m)!=-1){var O=W.yI[bq.DV][bq.jY],e=W.zK("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
W.Tg(O);O[bq.au2]=e;return}}this.P={ac1:[{s:z.x0,Z1:!1,oZ:[bh.a4c,bh.mk]},{s:z.U4,Z1:!1,oZ:[bh.mk]},{s:z.eu,Z1:!0,oZ:[bh.hg],JL:[z.U0]},{s:z.U0,Z1:!0,oZ:[bh.hg],JL:[z.eu]},{s:z.xD,Z1:!0,oZ:[bh.hg],JL:[z.qI,z.e8,z.CA]},{s:z.qI,Z1:!0,oZ:[bh.hg],JL:[z.xD,z.Dr,z.n4,z.Ob,z.w6,z.k2]},{s:z.FS,Z1:!0,oZ:[bh.hg]}],Ql:[[{s:new z.FZ,kK:bd},{s:new z.wU,kK:fR}],[{s:new z.NT,kK:af},{s:new z.pt,kK:gC}],[{s:new z.mK,kK:ib},{s:new z.EA,kK:f7},{s:new z.JO,kK:fV}],[{s:new z.Zr,kK:eX},{s:new z.Qh,kK:bE},{s:new z.kC,kK:iC}],[{s:new z.Ww,kK:aC},{s:new z.Uh,kK:it},{s:new z.uA,kK:dp},{s:new z.et,kK:bJ}],[{s:new z.o7,kK:ik},{s:new z.QX,kK:jw}],[{s:new z.CB,kK:aO},{s:new z.mn,kK:c3},{s:new z.I7,kK:jE},{s:new z.tX,kK:dQ},{s:new z.Sh,kK:aZ}],[{s:new z.Wm,kK:c_},{s:new z.ll,kK:b8},{s:new z.MY,kK:cg}],[{s:new z.Ye,kK:jd}],[{s:new z.W0,kK:aX},{s:new z.el,kK:br}],[{s:new z.ji,kK:jv},{s:new z.bx,kK:d9}],[{s:new z.x$,kK:is},{s:new z.pQ,kK:bw},{s:new z.ma,kK:jg}],[{s:new z.UG,kK:jo},{s:new z.gk,kK:iG},{s:new z.y6,kK:hC}],[{s:new z.o5,kK:hQ},{s:new z.Dy,kK:hQ}],[{s:new z.Sg(0),kK:ew},{s:new z.Yu,kK:fv},{s:new z.Sg(1),kK:ew}],[{s:new z.SG,kK:ja},{s:new z.Ho,kK:gM}],[{s:new z.Rect,kK:aE},{s:new z.b4,kK:dn},{s:new z.P9,kK:e0},{s:new z.i0,kK:dF},{s:new z.EE,kK:e$}],[{s:new z.WZ,kK:ez},{s:new z.af,kK:hv}],[{s:new z.EI,kK:jb}]],V4:[],keys:[bh.EX,bh.m5,bh.qN,bh.Ci,bh.VO,bh.yX,bh.Qy,bh.d8,bh.rC,bh.E,bh.DA,null,bh.kR,bh.Oo,bh.oh,bh.c,bh.ny,bh._R,bh.Uy],SA:[{s:new z.$d,kK:h6},{s:new z.Qi,kK:go},{s:new z.rs,kK:gJ},{s:new z.o7(!0),kK:ik},{s:new z.hM,kK:fM}],OC:[{s:new z.l6},{s:new z.History},{s:new z.yg},{s:new z.DR},{s:new z.Ig},{s:new z.op}],map:{},jp:null,WL:null,Go:null};
for(var R=0;R<this.P.Ql.length;R++){var s=this.P.Ql[R];if(s=="---")continue;var Y=this.P.keys[R];for(var D=0;
D<s.length;D++){this.P.map[s[D].s.id]=s[D];s[D].xX=R;s[D].aeQ=D;var c=ab.get(s[D].s.name);B+="<li>"+s[D].s.id+": "+c+"</li>";
P+="\t"+JSON.stringify(s[D].s.name)+", "+(Y?"\""+Y.UQ+"\"":"null")+", "+s[D].s.id+", // "+c+"\n"}this.P.V4[R]=0}for(var R=0;
R<this.P.SA.length;R++)this.P.map[this.P.SA[R].s.id]=this.P.SA[R];for(var R=0;R<this.P.OC.length;R++)this.P.map[this.P.OC[R].s.id]=this.P.OC[R];
this.gY={ag$:!1,px:null,ns:0,nd:{ki:[],lZ:[],list:[],B1:null},ym:[],a1N:[],pB:[],Ge:[],X5:[],app:[],afB:[],ajZ:[],Ko:[bv.T$()],oB:[],pA:[],vF:null,oa:0,qO:{_h:1,PL:JSON.parse(JSON.stringify(an.qe[0]))},a0:JSON.parse(JSON.stringify(an.mr.default)),aua:[null].concat(an.qe),aiI:[null].concat(an.qe),FN:new cI(function(Q){var U=new gf(v.E.S,!0);
U.data={V:v.c.Nm,Xa:{url:"rsrc/fonts/"+Q}};this.L(U)}.bind(this)),Fj:{f7:[],AY:null,hS:null},font:null,yK:[],Fp:16711680,lo:0,r0:!1,Xw:!0,ec:{a_:!0,Z5:!1,ao:!0,N$:!0,br:!0,Zf:!0,GK:20,Un:0,UK:0,W3:0},zD:!0,PZ:[!0,!0,!1,!0,!0],Fd:[0,1,2,3,5,6,7,9,10,16,17,100],bz:1,TO:!0,zX:{},lJ:!0,a5F:!1,compact:!1,C1:1,RN:!0,GX:null,Hw:{a51:!1,aoC:!1,Ik:{},jb:null},ajW:0,ary:null,zb:null,aoR:null,Oc:null};
this.a0H={NQ:new fE,D_:new gS};this.gY.Fj=gQ.afv();this.Eo=new f4;this.oq=new dN;this.bm=new i9(this.P,!0);
this.mp=new c1;this.es=new jS(this);this.Z4=W._("div");this.kP=!1;this.EB=this.ac2.bind(this);W.Ou(this.es.m,"mainblock");
this.YI.parent=this.Eo.parent=this.oq.parent=this.bm.parent=this.mp.parent=this.es.parent=this;this.es.U(v.E.o,this.DE,this);
this.es.U(v.E.zq,this.aai,this);this.es.U("shuffleItems",this.ate,this);this.es.U(v.E.ahz,this.afp,this);
this.U("mouse",this.arj,this);this.U(v.E.u,this.z1,this);this.U(v.E.nE,this.akQ,this);document.body.addEventListener("keydown",this.HF.bind(this),!1);
window.addEventListener("keyup",this.X9.bind(this),!1);window.addEventListener("paste",this.agK.bind(this),!1);
window.addEventListener("copy",this.aaT.bind(this),!1);window.addEventListener("wheel",function(Q){if(Q.ctrlKey)Q.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(Q){if(window.innerWidth>400)Q.preventDefault();
this.gY.GX=Q}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Q){if(Q.ae9){console.log("Service worker installing")}else if(Q.a9A){console.log("Service worker installed")}else if(Q.active){console.log("Service worker active")}}).catch(function(Q){console.log("Registration failed with "+Q)})}this.Xf=0;
this.mF=[];this.rc=new eu(ea._M);this.rc.parent=this;var o=this.Gi,H=this.Wv=W._("div");H.appendChild(this.Eo.m);
H.appendChild(this.oq.m);this.YI.am$(H);var x=this.aql=W._("div","flexrow");o.appendChild(x);x.appendChild(this.bm.m);
x.appendChild(this.es.m);x.appendChild(this.mp.m);this.rc.Qt({url:"rsrc/basic/basic.zip"});this.yo(z.FS);
ey.GH(this.acA.bind(this))}i7.prototype=new g4(!0);i7.prototype.Qf=function(r){var N=new gf(v.E.S);N.data={V:v.c.L2,Xa:r?r:"done"};
this.L(N)};i7.prototype.acA=function(){W.yI[bq._Y](this.ada.bind(this),Math.pow(Math.PI,8)+W.yI[bq.af3][bq.at3]()*1e4);
var r=ey.FF();if(r!=null&&r.globals!=null)this.yV(r.globals);else{this.akZ=!0;var N=navigator.languages;
if(N&&N.length!=0){var F=N[0];ab.sO(F,this.EB)}}if(!this.Yc()){var h=W.adc();if(h==0)this.a5F=!0;if(h==2)this.gY.lJ=!1;
if(h!=1&&Math.random()<.002)W.a64()}if(!ce.Bm()||!this.gY.lJ){this.adK();this.cE()}else{var m=W._8(W.yI[bq.pm]);
m[bq.yi](bq.RO,this.apn.bind(this));m[bq.jL](W.em("61="),W.em("_MYOqDLGJa;A:6"));m[bq.HT]()}this.Hc=!0;
this.Qf()};i7.prototype.apn=function(r){var N=JSON.parse(r.target[bq.ts]),F=W.yI[bq.lA][bq.a3r]()/1e3,h=W.yI[bq.DV][bq.Hi],m=!1;
for(var O in N)if(O.indexOf(".")!=-1&&h.indexOf(O)!=-1&&parseInt(N[O])>F)m=!0;if(m)this.gY.lJ=!1;this.adK();
this.cE()};i7.prototype.cE=function(r){this.tV=!0;if(!this.gY.RN)this.es.RN=null;else this.es.ahX();
this.ho(bC.ge);this.f();this.vv();this.mp.w0(this.sf(),this.mF,this.gY)};i7.prototype.yV=function(r){var N=this.gY;
if(r.fcolor!=null)N.Fp=r.fcolor;if(r.bcolor!=null)N.lo=r.bcolor;if(r.rulers!=null)N.r0=r.rulers;if(r.extras!=null)N.Xw=r.extras;
if(r.favFam!=null)N.yK=r.favFam;if(r.font!=null)N.Fj.f7[0].Name=r.font;if(r.panels!=null)N.Fd=r.panels;
if(r.as!=null)N.C1=r.as;if(r.eparams){var F=r.eparams,h=N.ec;if(F.guides!=null)h.a_=F.guides;if(F.grid!=null)h.Z5=F.grid;
if(F.gsize!=null)h.GK=F.gsize;if(F.gunits!=null)h.Un=F.gunits;if(F.gtype!=null)h.UK=F.gtype;if(F.runits!=null)h.W3=F.runits;
if(F.sels!=null)h.ao=F.sels;if(F.paths!=null)h.N$=F.paths;if(F.pgrid!=null)h.br=F.pgrid;if(F.slices!=null)h.Zf=F.slices}if(r.lang!=null)ab.sO(r.lang,this.EB);
if(r.theme!=null)N.bz=r.theme;if(r.topt||N.y8){var m=r.topt?r.topt:{},O=N.y8?N.y8:{};for(var e in this.P.map){if(e>=100)continue;
var P="t"+e;if(m[P]||O[P])this.P.map[e].s.aO(m[P],O[P],this)}}};i7.prototype.adK=function(){if(this.gY.ag$)return;
this.gY.ag$=!0;var r=null,N=window.location.href,F=N.indexOf("="),h=N.indexOf("#");if(F!=-1)r=N.substring(N.indexOf("?")+1,F);
if(h!=-1&&h!=N.length-1){r="p";F=h}if(h!=-1&&N[h+1]=="i"){this.rc.QG(N.slice(h+2))}else if(h!=-1&&N[h+1]=="t"){this.rc.QG(N.slice(h+2).split("").reverse().join(""),!0)}else if(r=="p"||r=="state"){var m=N.substring(F+1,N.length);
m=JSON.parse(decodeURI(m));if(r=="p"){if(m.script)ac.abB();if(m.server)this.v3=m.server;if(m.resources)for(var R=0;
R<m.resources.length;R++)this.rc.Qt({url:m.resources[R]});if(m.files)for(var R=0;R<m.files.length;R++)this.rc.Qt({url:m.files[R],oJ:{GE:m.server,asQ:m.script}});
var O=m.environment;if(O==null)O={};if(O.plugins!=null)this.mp.a0R(O.plugins);if(O.localsave!=null)this.gY.TO=O.localsave;
if(O.customIO!=null)this.gY.zX=O.customIO;if(O.vmode!=null){var e=O.vmode;if(e==1)this.gY.compact=!0;
if(e==2)this.Oy(1)}if(O.intro!=null)this.gY.RN=O.intro;if(O.menus!=null)this.gY.aeT=O.menus;if(O.tmnu!=null)this.gY.y8=O.tmnu;
if(O.panels!=null)this.gY.Fd=O.panels;if(O.showtools!=null){var P=O.showtools,B=P.indexOf(this.gY.px);
this.gY.as7=P;if(B==-1)this.yo(P[0])}if(O.phrases!=null)ab.aaP(O.phrases);if(O.autosave!=null){this.gY.C1=0;
window.setInterval(function(){var D=new gf(v.E.S);D.data={V:v.c.um};this.L(D)}.bind(this),O.autosave*1e3)}if(O.icons!=null){for(var s in O.icons)if(O.icons[s].indexOf("\"")==-1){if(s=="in"+"tro"&&this.gY.lJ)continue;
PIMG[s]=O.icons[s];PIMG["__"+s]=!0}}this.yV(O);if(m.files==null&&m.script){ht.AQ(m.script,this);this.Qf()}}else if(r=="state"){var Y=this.rc;
if(m.action=="create"){var D=new gf(v.E.S);D.data={V:v.c.pr,i7:"newproject",a7o:m.folderId};this.L(D)}if(m.action=="open"){for(var R=0;
R<m.ids.length;R++)dY.dl(function(){var o="https://www.googleapis.com/drive/v3/files/"+this.aak,H=new XMLHttpRequest;
H.open("GET",o);H.setRequestHeader("Authorization",dY.T9());H.send();H.onload=function(x){var Q=JSON.parse(x.target.response);
Y.Qt({url:o+"?alt=media",name:Q.name,SR:{file:Q,uE:""},i9:{Authorization:dY.T9()}})}}.bind({aak:m.ids[R]}));
alert("Loading files from Google Drive ...")}}}else{var c=window.launchQueue;if(c){var Y=this.rc;c.setConsumer(function(o){var H=o.files;
console.log(H);for(var R=0;R<H.length;R++){var x=H[R];x.getFile().then(function(Q){Y.xT([Q],null,null,null,[x])})}})}}};
i7.prototype.f=function(){var r=document.getElementById("cap"),N=window.innerWidth<500;if(r){var F=r.getElementsByTagName("h1")[0],O=0,P=0,B=0;
F.textContent=N?"Photopea":ab.get([0,17,0]);var h=r.getElementsByTagName("p"),m=W.uy(ab.get([0,17,1])),e=["PSD","XCF","Sketch","XD","CDR"];
for(var R=0;R<e.length;R++)m=m.replace(e[R],"<b>"+e[R]+"</b>");if(!N)m+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
h[0].innerHTML=m;m=ab.get([0,17,2])+" "+ab.get([0,17,3]);for(var R=0;R<m.length;R++){var s=m[R];if(s=="<")P++;
if(s==">")B++}if(!N&&P*B==9){var Y=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var R=0;R<3;R++){var D=m.indexOf("<",O),c=m.indexOf(">",O),o=m.slice(0,D)+"<a href=\""+Y[R]+"\" target=\"_blank\">"+m.slice(D+1,c)+"</a>";
O=o.length;m=o+m.slice(c+1)}h[1].innerHTML=m}else h[1].innerHTML=ab.get([0,17,2])}var H=document.getElementById("sponsors");
if(H)H.textContent=ab.get([0,17,4]);this.YI.f();this.Eo.f();this.mp.f();this.bm.f();this.cF.f();this.es.f();
for(var x in this.P.map)if(this.P.map[x].dy)this.P.map[x].dy.f()};i7.prototype.Yc=function(){return W.yI[bq.dY][bq.k7].indexOf("")!=-1};
i7.prototype.bh=function(r,N){r=Math.floor(r);N=Math.floor(N);var F=W.em("WUMK&AM"),h=bq.EO,m=W.yI[bq.DV],O=Math.max(r,window.screen.width),e=Math.max(N,window.screen.height),D=0;
if(this._O==null)this._O=Math.min(O,e)<500||O<750?0:O<1600?1:2;var P=this._O,B=!this.tV||this.Yc()||!this.gY.lJ||ey.rU()||P==0;
if(!B&&ce.Bm()){if(this.aq$==null)this.aq$=Math.random()<.5;B=this.aq$}if(B){if(P!=0&&W.yI[F]&&this.tV)W.yI[F]()}else{if(P==0)N-=60;
else r-=P==1?180:320}g4.prototype.bh.call(this,r,N);if(B&&this.kP){this.m[bq.ON](this.Z4);W.Tg(this.Z4);
this.kP=!1}if(!B&&!this.kP){if(Math.random()<.002){var s=function(H){ey.event(H||ce.$S()?"gota_0":"gota_1")};
ce.ap5(s)}this.anC(r,N);var Y=P==0?m[bq.jY]:this.m;Y.appendChild(this.Z4);this.Z4[bq.e$](h,W.em("_MMJLNDfKCAg")+(P==0?10:10)+W.em("_d$ebOS?I:==Ba-+# }$M"));
this.Z4[h][W.em("_MMJLND&<:E")]=(P==0?0:19)+W.em("_d");this.Z4[h][W.em("i5WJHX")]=P==0?0:1;this.kP=!0}if(W.Xs(this.Eo.m))D+=31;
if(W.Xs(this.oq.m))D+=32;this.YI.atC=this.gY.lJ&&this.tV;this.YI.bh(r,D);var c=N-D,o=W.em("_d");this.Z4[h][bq.aqW]=(P==0?100>>>1:N-11)+o;
this.Z4[h][bq.Ak]=(P==0?r:6*Math.pow(10,2))+o;this.bm.bh(r,c);this.mp.bh(r,c);this.es.bh(r-this.bm.FA()-this.mp.FA(),c)};
i7.prototype.anC=function(r,N){var F=function(){var h=new gf(v.E.S);h.data={V:v.c.pr,i7:"account"};this.L(h)}.bind(this);
ce.afS(r,N,this.Z4,F,this._O)};i7.prototype.aaT=function(r){console.log("systemCopy")};i7.prototype.agK=function(r){if(W.fg())return;
console.log("systemPaste");if(!r.clipboardData)return;var N=r.target.tagName.toLowerCase(),F=r.clipboardData.items;
if(F==null)return;var h=this.alS.bind(this);for(var R=0;R<F.length;R++){var m=F[R],O=m.getAsFile();if(m.type.indexOf("text")!=-1){m.getAsString(this.aae.bind(this))}if(m.type.indexOf("image")!=-1){if(O.size==this.gY.ajW)return;
this.gY.ajW=O.size;if(O){O.name="image.png";this.rc.xT([O],h)}}}};i7.prototype.aae=function(r){if(r.startsWith("http")){if(r==this.gY.aug)return;
this.gY.aug=r;var N=new gf(v.E.S,!0);N.data={V:v.c.Nm,Xa:{url:r,Lg:!0}};this.L(N)}};i7.prototype.alS=function(r,N){var F={buffer:r,rect:N},h=this.gY;
if(W.fg()){var m=this.a0H,O=m.NQ;if(O.e==N.e&&O.n==N.n){F.rect=O;F.D_=m.D_}}else{if(h.zb){var e=new gf(v.E.u,!0);
e.s=z.Fr;e.data={V:"h_stepbck"};this.L(e)}}h.zb=F;var e=new gf(v.E.S,!0);e.data={V:v.c.yc,a8u:!0};this.L(e)};
i7.prototype.a3t=function(){if(this.cF.Wp()!=null)alert(ab.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
i7.prototype.z1=function(r){var N=this.sf();if(N==null){alert(ab.get([15,7,7]));return}var F=r.s==z.U4||r.s==z.x0;
if(this.cF.N7()&&r.pR!=!0&&!F){this.a3t();return}var h=this.P,m=this.gY.px,O=r.s;if(O==z.tI&&m==z.Sm)O=z.Sm;
if(m!=O&&h.map[m].s.N7()&&!F&&!(m==z.$g&&O==z.dX)){console.log("disabling",m);h.map[m].s.disable(N,this,this.gY,this.Ao)}var e=this.P.map[O].s;
e.z1(r.data,this,N,this.Ao,this.gY)};i7.prototype.akQ=function(r){var N=this.gY;if(r.data.vi!=!0)fq.aaS({Ja:r.data.Ja,Tf:r.data.Tf},this,N,this.sf());
var F=N.vF,h=N.pA;if(F==null)return;var m={ar1:!1,nQ:"Step",aiZ:0,I:!0,exp:!1,Ja:r.data.Ja};if(F[2]==null)F[2]=h[F[0]].Yg[F[1]].Yg.length-1;
if(r.data.Tf)m.Tf=r.data.Tf;h[F[0]].Yg[F[1]].Yg.splice(F[2]+1,0,m);F[2]++;this.ho(bC.u)};i7.prototype.vG=function(r){if(this.a5F){r.data=0;
return r.type}g4.prototype.vG.call(this,r);var N=r.data.V;if(N==v.c.KY)fq.ab_(this.sf(),this.gY.pA,r.data.Fs[0],r.data.Fs[1],this);
if(N==v.c.a1t){this.afW(r.data.akG)}if(N==v.c.apY){this.f();this.vv()}if(N==v.c.mB)this.vv();if(N==v.c.a1R)if(this.gY.GX){this.gY.GX.prompt();
this.gY.GX=null}if(N==v.c.oQ)this.es.Gq(r.data.eT,r.data.push);if(N==v.c.acF)this.es.adO();if(N==v.c.a0y)this.DE(null,r.data.dir);
if(N==v.c.Dt)this.es.BB(this.mF.indexOf(r.data.Bz));if(N==v.c.uI){if(r.data.An&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(r.data.h!=null)this.Oy(r.data.h)}if(N==v.c.an4){if(r.data.Tb)this.Ao.Ia(r.data.arU);
else this.Ao.sa(r.data.arU);this.BD(r.data.Tb?"down":"up")}if(N==v.c.jO){var F=this.sf(),h=F.G9().slice(0),m=F.g[F.w[0]],O=new fE(0,0,F.e,F.n),e=gp.Tp()+"-d71c-11e5-b1ae-a548a96e5f9f",P=new gf(v.E.S,!0);
if(r.data.Xa==0){var B={name:F.name.split(".")[0],id:e,jB:[h,O]};P.data={V:v.c.nM,oJ:"add",Xa:bC.nA,Zn:[B]};
this.L(P)}if(r.data.Xa==1){var s=w.B(O.W()*4);w.T1(s,4294967295);w.i.vw("norm",h,O,s,O,O,1);var Y=w.B(O.W());
w.oD(s,Y);w.iL(Y);var D=w.va(Y,O);if(D.lX())D=O;var c=w.B(D.W());w.nZ(Y,O,c,D);var o=w.B(D.W()*4);w.vr(c,o,3);
var H={NQ:D,id:e,jB:[o,D]},x=bR.qd(e),Q=x.Brsh.v;Q.Dmtr.v.val=D.e;Q.Spcn.v.val=10;P.data={V:v.c.nM,oJ:"add",Xa:bC.D$,Zn:{list:[{t:"Objc",v:x}],lZ:[H],ki:[]}};
this.L(P);P.data={V:v.c.nM,Xa:bC.V_,RE:x};this.L(P)}if(r.data.Xa==2){var U=F.bN(),I=U[0][U[1][0]],l={no:m.getName(),J6:e,Y:I.add.vmsk.clone().Y},p=w.H.KX(l.Y),j=new hc(p.e,0,0,p.n,p.x,p.y);
j.iL();w.H.nY(l.Y,j);p.x=p.y=0;l.$J=p.clone();P.data={V:v.c.nM,oJ:"add",Xa:bC.Td,Zn:[l]};this.L(P)}}if(N==v.c.Nm)this.rc.Qt(r.data.Xa);
if(N==v.c.$Q){var T=r.data.ahP;if(T!=!0&&this.Ej("open"))return;this.rc.a6e(T?this.es.qj():null,r.data.asA)}if(N==v.c.KL){var V=r.data.afi,E=r.data.jr,_=this.oo(V);
if(E){var f=V==bC.D$,S=[];for(var R=0;R<E.length;R++)S.push((f?_.list:_)[E[R]]);_=f?{ki:_.ki,lZ:_.lZ,list:S}:S}if(V==bC.zU){var O=new gp;
for(var R=0;R<_.length;R++){var L=_[R].ks.Lefx;if(L)iL.aaK(L,O,this.gY.X5)}_={Zz:O.add.Patt?O.add.Patt:[],EC:_}}if(V==bC.Sc){var y=this.gY.nd;
_={lZ:[],ki:[],list:_};console.log(_)}if(V==bC.u)_=_[r.data.Xx];var Z=bC.Hx[V],h=Z[2].uZ(_);eu.save(h,Z[1]+"."+Z[0])}if(N==v.c.qu){var i=this.gY.Hw,b=r.data.a29;
if(i.jb&&!i.a51&&!b){i.aoC=window.confirm("Load \""+r.data.x3+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
i.a51=!0}if((i.aoC||b)&&i.jb){i.Ik[r.data.x3]=r.data.aK;var P=new gf(v.E.S);P.data={V:v.c.nM,Xa:bC.pN};
this.L(P)}}if(N==v.c.a6w){var F=this.sf(),u="<!DOCTYPE HTML>";if(F==null)return;var G=bA.zh(F.G9().buffer,F.e,F.n),g=window.open();
u+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";u+="<body><img src=\""+G+"\" /></body>";
u+="</html>";g.document.write(u)}if(N==v.c.so){if(this.Ej("publishOnline"))return;var A=r.data.Rr!="psd",F=this.sf();
if(F==null)return;if(!A&&F.Zc)return;var a="Your picture will be published at "+(A?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!A)a+=" We guarantee 6 months of storage (or more, if your file is opened often).";var d=r.data.Fb?!0:confirm(a);
if(d){if(!A){var P=new gf(v.E.u,!0);P.s=z.j7;P.data={V:C.Y8};this.L(P);var K=new fE(0,0,F.e,F.n);for(var R=0;
R<F.g.length;R++){var m=F.g[R];if(m.rect.lX()||m.zv()||m.$n()||m.aF()||m.t8()||m.add.TySh||m.add.vmsk||m.add.SoLd)continue;
var n=K.c_(m.rect);if(!n.cj(m.rect)&&!n.lX()){var t=w.B(n.W()*4);w.L3(m.buffer,m.rect,t,n);m.buffer=t;
m.rect=n}if(!w.oV(m.buffer,m.rect.e,m.rect.n))continue;var X=m.gv(),aK=m.opacity,fg=m.$j,k=m.S8;m.Hb(!0);
m.opacity=255;m.$j="norm";F.w=[R];P.data={V:C.Ut,Rr:"jpg"};this.L(P);var hG=F.g[R];m.Hb(X);hG.Hb(X);
m.opacity=hG.opacity=aK;m.$j=hG.$j=fg,m.S8=hG.S8=k}}if(F.FU){F.t7()}var eE=F.e,hW=F.n,hh=r.data.a55,hI;
if(hh)while(Math.max(eE,hW)>hh){eE=eE>>>1;hW=hW>>>1}console.log(eE,hW);if(r.data.Rr=="psd")hI=bA.__(F,"psd",0,0,[!0,!0,!0]);
else if(r.data.Rr=="png")hI=bA.__(F,"png",eE,hW);else{var db=bA.__(F,"png",eE,hW),by=bA.__(F,"jpg",eE,hW);
hI=db.byteLength<by.byteLength?db:by}if(A)eu.a93(hI,r.data.Fb);else this.rc.ats(hI,F.name,r.data.Fb)}}if(N==v.c.um){var F=this.sf(),jM=!1;
if(F==null)return;if(F.FU){F.t7()}if(r.data.UC){if(!this.Y1(F,r.data.UC))return;var h=ea.afo(F,r.data.UC,this.gY);
this.Qf(h);jM=!0}else if(F.s7){if(this.mF.indexOf(F.s7.uW)!=-1){var h=new Uint8Array(bA.yU("PSD").xs(F,null,null,[!0,!1])),P=new gf(v.E.u,!0);
P.data={V:C.CY,_I:F.s7.uW,data:h,id:F.s7.avP,bp:F.name};P.s=z.j7;this.L(P);alert("Smart Object updated")}jM=!0}else if(this.Ej("save")){jM=!0}else if(F.SR){ea.auj(F);
jM=!0}else if(F.eL){ea.au$(F);jM=!0}else if(F.oJ&&F.oJ.GE){if(!this.Y1(F,F.oJ.GE.formats))return;this.rc.acc(F,this.gY,ea.a7d);
jM=!0}else if(F.hh&&F.mS=="psd"){var P=new gf(v.E.S,!0);P.data={V:v.c.KS,lp:!0};this.L(P);return}if(jM){F.zj=F.oG;
F.ED=Date.now();F.mR=!0}else{var P=new gf(v.E.S,!0);P.data={V:v.c.KS};this.L(P)}}if(N==v.c.KS){if(!this.gY.TO){alert("function is disabled");
return}if(this.Ej("saveAsPSD"))return;var F=this.sf();if(F==null||F.Zc)return;if(!this.Y1(F))return;
var P=new gf(v.E.u,!0);P.data={V:C.Y8};P.s=z.j7;this.L(P);if(F.g.length>8e3&&!confirm("Your document has "+F.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fP={MB:[]};F.root.afa([],fP);var hB=fP.MB;if(hB.length>11&&!confirm("One layer is nested "+(hB.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+hB.join(" \uD83E\uDC1A ")+"."))return;
var iu=window.showSaveFilePicker;if(window.parent!=window)iu=null;if(iu&&!r.data.lp){var be={suggestedName:F.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
iu(be).then(function(r){var P=new gf(v.E.S,!0);P.data={V:v.c.tP,VP:"Saving ..."};this.L(P);setTimeout(function(){F.hh=r;
F.name=r.name;F.Pj=!0;F.mS="psd";var P=new gf(v.E.S,!0);P.data={V:v.c.KS,lp:!0};this.L(P);P.data={V:v.c.pq,VP:"Saving ..."};
this.L(P)}.bind(this),20)}.bind(this));return}var bp=window.ga,ij=W.zK("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(F.q4()&&bp)bp(ij[0],ij[1],ij[2],F.mS+":"+W.zK(ey.rU()?"\"'|('61":"w'| "));if(F.FU){F.t7()}var h=bA.yU("PSD").xs(F);
if(r.data.lp){F.hh.createWritable().then(function(r){r.write(h);return r}).then(function(r){r.close()})}else eu.save(h,F.name);
F.zj=F.oG;F.ED=Date.now();F.mR=!0}if(N==v.c.lz)window.open(r.data.link,"_blank");if(N==v.c.al2){if(this.cF.N7()){this.a3t();
return}var F=this.sf(),m=F.g[F.w[0]],fT=F.pH(m.add.SoLd.Idnt.v);for(var R=0;R<this.mF.length;R++){var ei=this.mF[R].s7;
if(ei!=null&&ei.avP==fT.$U&&ei.uW==F){this.es.dW(R);return}}eu._M({name:fT.bp,s7:{avP:m.add.SoLd.Idnt.v,uW:F}},fT.raw.buffer,this)}if(N==v.c.alH){console.log(r.data);
eu._M({name:r.data.eL[1].split("/").pop(),eL:r.data.eL},r.data.C2,this)}if(N==v.c.rq){this.a7B()}if(N==v.c.jH){this.ait(r.data.Yl,r.data.xe,r.data.ol)}if(N==v.c.yc){this.a5X(r.data.a8u,r.data.TX,r.data.ol)}if(N==v.c.a4o){var bz=r.data.h;
if(bz.startsWith("vcb;")){var aM=JSON.parse(bz.slice(4));aM[0]=bv.a7W(aM[0]);var P=new gf(v.E.u,!0);
P.s=z.qI;P.data={V:"append",Py:"Paste Paths",apj:aM};this.L(P)}else if(bz.startsWith("lrs;")){var hw=bz.split(";"),hx=this.mF[parseInt(hw[1])];
if(hx==null)return;var fm=this.sf(),dE=hx.w;hx.w=JSON.parse(hw[2]);var gD=hx.fn(null,hx!=fm),P=new gf(v.E.u,!0);
P.data={V:C.M9,g:gD,uW:hx,wa:fm};P.s=z.j7;this.L(P);hx.w=dE}else if(bz.startsWith("<!--")||bz.startsWith("<svg")){var c2=J.kX(bz),bQ=bA.yU("svg"),O=new gp("image.psd");
bQ.V9(c2.buffer,O);if(this.mF.length!=0){var f9=O.g;if(f9.length==3&&f9[0].getName()=="</Layer group>"&&f9[2].zv())f9=[f9[1]];
var P=new gf(v.E.u,!0);P.s=z.j7;P.data={V:C.M9,g:f9,uW:O,wa:this.sf()};this.L(P)}else this.avj(O)}}if(N==v.c.h4){ht.AQ(r.data.P_,this)}if(N==v.c.L2){if(window.parent!=window)window.parent.postMessage(r.data.Xa,"*");
this.mp.ic(r.data.Xa)}if(N==v.c.M6){var jR=parseFloat(r.data.i7);if(this.gY.Fd.indexOf(jR)==-1){var P=new gf(v.E.S,!0);
P.data={V:v.c.nM,Xa:bC.mu,h:jR,oJ:"add"};this.L(P)}this.mp.a6J(r.data.i7)}if(N==v.c.$$){this.pS.ank(this.sf(),this.gY)}if(N==v.c.pr){var gP="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var R=0;R<gP.length;R+=2)if(r.data.i7==gP[R]&&this.Ej(gP[R+1]))return;if(!this.gY.TO&&r.data.window=="saveforweb"){alert("function is disabled");
return}this.cF.ac$(r.data.i7,this.sf(),r.data,this.mF,this.Ao)}if(N==v.c.y$)eu.save(r.data.data,r.data.name);
if(N==v.c.RY){if(!this.cF.N7()||r.pR)this.avj(r.data._I)}if(N==v.c.aY){this.es.dW(r.data.target);var P=new gf(v.E.u,!0);
P.data={V:C.aea,_I:r.data._I,ii:r.data.ii,b1:r.data.b1};P.s=z.j7;this.L(P);this.yo(z.cP)}if(N==v.c.a7I){M._X=!M._X;
if(this.mF.length>0)this.sf().M()}if(N==v.c.aq2){var jh=ey.FF();if(jh!=null&&jh.globals!=null)this.yV(jh.globals);
this.cE()}if(N==v.c.HX){this.rc.xT(r.data.data,null,r.data.k_,r.data.hJ,r.data.apW)}if(N==v.c.z4){if(!this.cF.Wp()!=null)this.yo(r.data.s,r.data.fJ);
if(r.data.a5r)this.LZ().vV(this.sf(),this,this.gY,this.Ao,this.tf)}if(N==v.c.ad){if(this.P.jp)this.yo(this.P.jp)}if(N==v.c.Mi){var k6=this.P.map[r.data.s].s,F=this.sf();
k6.qW(r.data,this,F,this.Ao,this.gY);if(F)F.kn=!0;this.amj()}if(N==v.c.$P){var eZ=this.P.map[r.data.s];
this.a6i(eZ);eZ.dy.gA(r.data)}if(N==v.c.nM){var F=this.sf(),b5=r.data.Xa,fG=r.data.Zn,jG=this.gY;if(r.data.oJ=="set"){var i_=z.fO(fG);
if(jG.px!=i_)this.yo(i_);this.P.map[i_].dy.adB(fG,jG)}if(r.data.oJ=="add"){var Z=bC.Hx[b5];if(b5==bC.mu){jG.Fd.push(r.data.h);
jG.Fd.sort(function(bH,gF){return bH-gF})}else if(Z==null){if(fG)jG.FN.a8h(fG,r.data.aeh)}else{var aY=this.oo(b5);
if(b5==bC.D$){aY.lZ=aY.lZ.concat(fG.lZ);aY.ki=aY.ki.concat(fG.ki);aY=aY.list;fG=fG.list}if(b5==bC.zU&&F){for(var R=0;
R<fG.length;R++){var L=fG[R].ks.Lefx;if(L)iL.a7q(L,F,jG.X5)}}if(b5==bC.Sc&&fG==null){var O=this.P.map[jG.px].dy.aio();
if(O==null)return;fG=[O]}for(var R=0;R<fG.length;R++)aY.push(fG[R]);if(r.data.aeh!=!0)if(aY.length!=fG.length||b5==bC.G6||b5==bC.zU||b5==bC.u)alert(ab.get(Z[3])+" "+ab.get([23,1])+".")}}if(r.data.oJ=="del"){if(b5==bC.mu){jG.Fd.splice(jG.Fd.indexOf(r.data.h),1)}else{var Z=bC.Hx[b5],E=r.data.jr,aY=this.oo(b5);
if(b5==bC.D$)aY=aY.list;for(var R=0;R<E.length;R++)aY[E[R]]=null;for(var R=0;R<aY.length;R++)if(aY[R]==null){aY.splice(R,1);
R--}alert(ab.get(Z[3])+" deleted.")}}if(r.data.oJ=="rnm"){var Z=bC.Hx[b5],aY=this.oo(b5);if(b5==bC.D$)aY=aY.list;
if(aY[r.data.jr[0]]==null)return;Z[2].DP(aY[r.data.jr[0]],r.data.h)}if(b5==bC.bb){var jk=r.data.h;jG.qO=jk;
jG.aua[jk._h]=jk.PL}if(b5==bC.Gv){var jk=r.data.h;jG.a0=JSON.parse(JSON.stringify(jk));var ih=jk.strokeEnabled.v,jr=jk.strokeStyleContent.v,hV=ih?{_h:1+an.mr.gS.indexOf(jr.classID),PL:jr}:{_h:0};
jG.aiI[hV._h]=hV.PL}if(b5==bC.gH){jG.oa=r.data.h}if(b5==bC.Ni){jG.Fj=r.data.Fj}if(b5==bC.V_){var t=JSON.parse(JSON.stringify(r.data.RE)),ds=t.useBrushSize;
if(ds&&ds.v){t.Brsh.v.Dmtr.v.val=jG.nd.B1.Brsh.v.Dmtr.v.val;ds.v=!1}jG.nd.B1=t}if(b5==bC.MV){jG.yK=r.data.oC}if(b5==bC.gU){var jA,eI="Clrs";
if(r.data.bT<2){var hH=r.data.h,bO=r.data.bT==0,k7=w.X.QA({Z:hH>>>16,z:hH>>>8&255,J:hH&255});if(bO)jG.Fp=hH;
else jG.lo=hH;eI=bO?"FrgC":"BckC";jA={Ja:"set",Tf:{__name:"Set",classID:"setd",T:{t:"Objc",v:k7}}}}if(r.data.bT==2){var dO=jG.Fp;
jG.Fp=jG.lo;jG.lo=dO;jA={Ja:"exchange",Tf:{__name:"Exchange",classID:"Exch"}}}if(r.data.bT==3){jG.Fp=0;
jG.lo=16777215;if(F!=null&&F.w.length!=0&&F.g[F.w[0]].Ku==1){var dO=jG.Fp;jG.Fp=jG.lo;jG.lo=dO}jA={Ja:"reset",Tf:{__name:"Reset",classID:"Rset"}}}if(jA){jA.Tf.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:eI}}]};
var eZ=this.LZ();eZ.dI=this;eZ.track(jA)}}if(b5==bC.HZ){jG.r0=!jG.r0;this.vv()}if(b5==bC.PT){jG.Xw=!jG.Xw;
this.vv()}var cG=jG.ec;if(b5==bC.Oe){cG.ao=!cG.ao;this.vv()}if(b5==bC.mC){cG.N$=!cG.N$;this.vv()}if(b5==bC._x){cG.a_=!cG.a_;
this.vv()}if(b5==bC.QE){cG.Z5=!cG.Z5;this.vv()}if(b5==bC.ku){cG.br=!cG.br;this.vv()}if(b5==bC.Rw){cG.Zf=!cG.Zf;
this.vv()}if(b5==bC.X3){jG.ec=r.data.oC;this.vv()}if(b5==bC.eY){jG.zD=!jG.zD;this.vv()}if(b5==bC.Bl){jG.PZ[r.data.P4]=!jG.PZ[r.data.P4];
this.vv()}if(b5==bC.WE){ab.Vm(r.data.lang,this.EB)}if(b5==bC.A6){jG.bz=r.data.bz;this.f()}if(b5==bC.pN&&jG.Hw.jb){var cV=jG.Hw.jb.transaction(["rsrc"],"readwrite").objectStore("rsrc"),gh=cV.put({k:"fs0",fset:jG.Hw.Ik});
gh.onerror=function(r){console.log(r);alert("Storing failed. Browser says: "+r.target.error.message,7e3)}}this.ho(b5)}};
i7.prototype.ac2=function(){this.f();this.vv()};i7.prototype.Ej=function(r){var N=this.gY.zX[r];if(N){var F=new gf(v.E.S,!0);
F.data={V:v.c.h4,P_:N};this.L(F)}return N!=null};i7.prototype.Y1=function(r,N){var F=!0,e=15;if(N){F=!1;
for(var R=0;R<N.length;R++)if(N[R].startsWith(W.em("__M")))F=!0}var h=r.q4()||r.s7&&r.s7.uW.q4();if(this.Yc())h=!1;
var m=new W.yI[bq.lA],O=(m[W.zK("xy,b-66:")]()&1)*60+m[W.em("VQ]3LNRN<G")]();if(h&&!ey.rU()&&O>e&&F){var P=W.yI[W.zK("}$z{2*35")][W.zK("y'|!")],B=W.em("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
B+="\n\n"+W.em("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-O+120)+W.em("nYRTXTBMd");
if(P.indexOf(W.zK("\"|'/-1)(W0?@"))==-1)B=ab.get([0,11+6,3+2]);W.yI._cwY(B);return!1}return!0};i7.prototype.oo=function(r){var N=this.gY,F=[bC.D$,bC.Hp,bC.Rt,bC.nA,bC.Td,bC.zU,bC.G6,bC.u,bC.Sc,bC.Hk],h=[N.nd,N.pB,N.Ge,N.X5,N.Ko,N.oB,N.app,N.pA,N.ym,N.a1N];
return h[F.indexOf(r)]};i7.prototype.a7B=function(){var r=this.ait(),N=this.sf();if(N==null||N.w.length==0)return;
var F=N.g[N.w[0]],h=new gf(v.E.u);if(r==1){h.s=z.qI;h.data={V:"remove",Py:"Cut Paths"}}else{h=new gf(v.E.nE);
h.data={Ja:"delete"}}this.L(h)};i7.prototype.ait=function(r,N,F){if(r==null)r=!1;var h=this.gY;console.log("doCopy",r,N);
var m=this.sf();if(m==null||m.w.length==0)return;var O=m.g[N==null?m.w[0]:N],e=m.bN(),P=e[0],B=e[1],s=P[B[0]];
if(!r&&s!=null&&s.add.vmsk.w.length!=0){var Y=z.JP.oF(s.add.vmsk,s.add.vogk);if(W.fg()){Y[0]=bv.aao(Y[0]);
var D="vcb;"+JSON.stringify(Y);eu.Ws(new Blob([D],{type:"text/plain"}))}else h.Oc=Y;return 1}else if(m.$==null){if(W.fg()){var D="lrs;"+this.mF.indexOf(m)+";"+JSON.stringify(m.w);
eu.Ws(new Blob([D],{type:"text/plain"}))}}else{var c,o;if(r){var H=new fE(0,0,m.e,m.n);o=H.c_(m.$.rect);
c=w.B(o.W()*4);w.L3(m.G9(),H,c,o);w.Y$(m.$.channel,m.$.rect,c,o)}else if(m.I2.length!=0){o=m.$.rect.clone();
c=w.B(o.W()*4);var x=m.O0[m.I2[0]],Q=x.L7(o);w.zG(Q,c);w.vr(m.$.channel,c,3)}else{var U=O.ln(m,m.$);
if(U==null){alert("Copied area is empty");return}c=U.C2;o=U.rect}var I=m.q.Hr,l=I[0]+I[1]+I[2];if(l==1){var p=I.indexOf(1);
for(var R=0;R<c.length;R+=4)c[R]=c[R+1]=c[R+2]=c[R+p]}var j=new gS(m.e,m.n);if(W.fg()&&F!=!0){var T=bA.yU("PNG").ajA(c.buffer,o.e,o.n);
eu.Ws(new Blob([new Uint8Array(T)],{type:"image/png"}));this.a0H={NQ:o,D_:j}}else h.zb={buffer:c,rect:o,D_:j};
h.ary=o.clone();h.Oc=null}};i7.prototype.a5X=function(r,N,F){if(N)this.adh=!0;console.log("doPaste");
var h=this.gY,m=h.zb,B;if(this.mF.length==0){if(!r&&W.fg()){eu.nq(this,null);return}if(m){var O=bA.B0("image.psd",[{data:m.buffer.buffer,I0:m.rect}]),e=new gf(v.E.S);
e.data={V:v.c.RY,_I:O};this.L(e)}return}var O=this.sf(),P=O.g[O.w.length==0?O.g.length-1:O.w[0]];if(h.Oc){var s=O.bN(!0),Y=s[0],D=s[1];
B=Y[D[0]]}var e=new gf(v.E.u,!0);if(h.Oc!=null&&B!=null){e.s=z.qI;e.data={V:"append",Py:"Paste Paths",apj:h.Oc}}else if(!r&&W.fg()&&F!=!0){eu.nq(this,this.alS.bind(this));
return}else{if(m==null)return;if(O.VT(!1)&&(O.q.Hr.join("")!="111"||O.I2.length!=0||P.Ku>0||P.rect.lX())){e.s=z.D$;
e.data={V:"draw",aiE:!0,Py:[5,2]}}else{e.s=z.j7;e.data={V:C.Ax,TX:this.adh};this.adh=!1}e.data.zb=m}this.L(e)};
i7.prototype.a8p=function(){for(var R=0;R<this.mF.length;R++){var r=this.mF[R],N=!0;for(var F=0;F<r.g.length;
F++){var h=r.g[F],m=h.add.TySh;if(m!=null&&!d0.wc(m,this.gY.FN,this))N=!1}if(!N)continue;if(r.hP)for(var F=0;
F<r.g.length;F++){var h=r.g[F],m=h.add.TySh;if(m!=null&&d0.wc(m,this.gY.FN,this)){var O=new ac(m.sl,this.gY.FN),e=d0.nG(O,m);
h.rect=e.NQ;h.buffer=e.iS;h.M();r.M()}}if(r.a8T)continue;r.a8T=!0;if(r.oJ&&r.oJ.asQ)ht.AQ(r.oJ.asQ,this);
this.Qf();var P=new gf(v.E.u);P.s=z.dX;P.data={V:"start",NM:"GEfc"};var B=new gf(v.E.S);B.data={V:v.c.M6,i7:gt.A4.ahN};
B.data={V:v.c.pr,i7:"intro",Rr:4}}};i7.prototype.ho=function(r){var N=this.gY,F=N.px,e=!1;if(r==bC.V_){if(this.P.map[F].dy)this.P.map[F].dy.Qr(N,r)}else for(var h in this.P.map)if(this.P.map[h].dy)this.P.map[h].dy.Qr(N,r);
if(r==bC.Jf){if(F!=z.tI)this.P.map[z.tI].s.Qr(N,r);this.a8p()}this.es.Qr(N,r);this.bm.Qr(N,r);this.cF.Qr(N,r);
this.LZ().Qr(N,r);this.mp.Qr(N,r);this.Eo.Qr(N,r);if(r==bC.A6||r==bC.ge){hi.a2W(N.bz);this.update(!0)}var m=N.Fj,O=m.AY.Font;
if(r==bC.Ni&&O!=null&&m.f7[O].Name!=N.font){N.font=m.f7[O].Name;e=!0}if([bC.mu,bC.MV,bC.gU,bC.HZ,bC.PT,bC.X3,bC._x,bC.QE,bC.Oe,bC.mC,bC.ku,bC.Rw,bC.WE,bC.A6].indexOf(r)!=-1||e)this.amj()};
i7.prototype.amj=function(){if(!this.Hc)return;var r={},N=this.P.map;for(var F in N){var h=N[F].s;if(h.vK&&h.vK()!=null)r["t"+F]=h.vK()}var m=this.gY,O=m.ec,e={fcolor:m.Fp,bcolor:m.lo,rulers:m.r0,extras:m.Xw,favFam:m.yK,panels:m.Fd,eparams:{guides:O.a_,grid:O.Z5,sels:O.ao,paths:O.N$,pgrid:O.br,slices:O.Zf,gsize:O.GK,gunits:O.Un,gtype:O.UK,runits:O.W3},lang:ab.qr(),theme:m.bz,as:m.C1,topt:r};
if(m.font!=null)e.font=m.font;var P=ey.FF();if(P==null)P={};P.globals=e;ey.Iu(P)};i7.prototype.amJ=function(){var r=this.Ao,N=this.tf,F=this.gY.px,h=this.P.map[F].s,m=null,O=!1;
for(var R=0;R<this.P.ac1.length;R++){var e=this.P.ac1[R],P=!0;for(var B=0;B<e.oZ.length;B++){var s=e.oZ[B];
if(!r.j(s))P=!1}if(P&&(!e.Z1||!h.N7())&&(e.JL==null||e.JL.indexOf(F)!=-1)){m=e.s;O=e.Z1;break}}if((!N.Tb||F==z.$k)&&this.P.WL!=m&&(m!=F||!O)){var Y=this.sf();
if(this.P.WL!=null&&m==null)this.LZ().disable(Y,this,this.gY,r,!0);this.P.WL=m;this.LZ().enable(Y,this,this.gY,r,m!=null&&m!=F)}};
i7.prototype.Q4=function(r){var N=this.gY.px,F=this.sf();if(N!=null){this.P.map[N].s.disable(F,this,this.gY,this.Ao)}};
i7.prototype.a6i=function(r){if(r.dy==null){r.dy=new r.kK;r.dy.a8o(r.s.id,r.s.L1);r.dy.Qr(this.gY,bC.ge);
r.dy.f()}};i7.prototype.yo=function(r,N){if(r==z.cP&&this.cF.Wp())return;var F=this.sf(),h=this.gY;if(this.P.map[r].s.MH(F,h)){this.Q4();
if(r!=h.px)this.P.jp=h.px?h.px:z.FS;h.px=r;this.bm.w0(this.P,this.gY);var m=this.P.map[r];this.P.V4[m.xX]=m.aeQ;
this.a6i(m);this.oq.ahU(m.dy);var O=m.s;O.enable(F,this,this.gY,this.Ao,!1,N);if(F)F.kn=!0;this.vv()}};
i7.prototype.LZ=function(r){var N=this.P,F=N.Go,h=N.WL,m=this.gY.px;if(F)m=F;else if(h&&r==null)m=h;
return N.map[m].s};i7.prototype.avj=function(r){var N=this.gY,F=this.mF.indexOf(r);if(F!=-1){this.es.dW(F);
return}if(this.v3&&(r.oJ==null||r.oJ.GE==null)){r.oJ={GE:this.v3}}if(r.Io==null){r.Io="local,"+this.age+","+r.name;
this.age++}r.ED=Date.now();if(ce.$S()!=0&&!this.akZ&&W.yI[W.zK("t$&!'31")].toString().indexOf(W.zK(" u,$4&"))==-1){alert(W.zK("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var R=0;R<r.g.length;R++){var h=r.g[R];if(h.add.SoLd!=null){var m=Date.now()}if(h.add.TySh!=null)d0.wc(r.g[R].add.TySh,N.FN,this)}var O=r.g.length,e=bq.wV(),P=Math.PI*(5306<<14)+(W.D5(31)?20:10)*7e7;
if(e>P){var O=r.g.length;r.g=[];return O}if(M._X)M.apF(Math.max(r.e,r.n));r.IY();r.q7();if(r.apb)r.a41();
else r.M();r.apb=!1;this.mF.push(r);this.es.M$(new jN(r));r.kn=!0;r.mR=!0;this.a8p();var B=new gf(v.E.u);
B.s=z.T_;B.data={V:"auto",OG:2}};i7.prototype.sf=function(){return this.mF[this.Xf]};i7.prototype.avc=function(){return this.cF.Wp()==null};
i7.prototype.DE=function(r,N){this.Q4();var F=this.mF.length;if(N!=null)this.es.dW((this.es.qj()+N+F)%F);
this.Xf=this.es.qj();var h=this.sf();this.Eo.a15(h,this.gY);this.mp.w0(h,this.mF,this.gY);this.vv();
if(h)h.kn=!0};i7.prototype.aai=function(r){this.Q4();this.mF.splice(r.data.Bc,1);if(this.mF.length==0){this.DE(r);
if(M._X)M.Cl().parentNode.removeChild(M.Cl())}};i7.prototype.ate=function(r){var N=[],F=r.data.a0n;for(var R=0;
R<F.length;R++)N[R]=this.mF[F[R]];this.mF=N;this.Xf=this.es.qj()};i7.prototype.afp=function(r){var N=this.es,F=N.arP(),h=this.LZ(),m=this.sf();
if(F==N.qj()||!h.He())return;this.afW(F,h)};i7.prototype.afW=function(r,N){console.log("dup2doc");var F=this.gY,h=this.es,m=this.sf(),O=this.mF[r],e,P=new gf(v.E.u,!0);
P.s=z.j7;if(m.$==null){P.data={V:C.M9,g:m.fn(null,!0),uW:m,wa:O};this.L(P)}else e=m.g[m.w[0]].ln(m,m.$);
var B=this.tf,s=F.r0;F.r0=!1;B=m.q.RX(B.x,B.y);if(N)N.Fg(m,this,F,this.Ao);h.dW(r);if(m.$){P.data={V:C.Ax,zb:{buffer:e.C2,rect:e.rect}};
this.L(P)}B=O.q.l9(B.x,B.y);B.x+=49;B.y+=112;if(N)N.vV(O,this,F,this.Ao,B);F.r0=s};i7.prototype.arj=function(r){var N=this.sf(),F=this.Ao,h=this.gY,m=r.D6;
if(m)this.tf=m;if(r.action.startsWith("multi")){var O=new gf(v.E.u,!0);O.data={V:r.action,nP:r.nP};O.s=z.x0;
this.L(O);return}var e=this.P.map[z.FS].s;if((r.action=="down"||r.action=="rdown")&&h.px!=z.FS&&this.P.WL!=z.FS&&e.Gu(N,this,h,F,m)){this.P.Go=z.FS;
e.enable(N,this,h,F,!0)}var P=this.cF.Wp(),B=P!=null&&P.gz()&&this.P.WL==null?P:this.LZ();if(P!=null&&B!=P&&this.cF.N7()&&B.id!=z.U4&&B.id!=z.x0)return;
if(r.action=="down")B.vV(N,this,h,F,m);if(r.action=="rdown")B.SM(N,this,h,F,m);if(r.action=="move")B.Ui(N,this,h,F,m);
if(r.action=="up"||r.action=="cancellast")B.wJ(N,this,h,F,m,r.action=="cancellast");if(r.action=="rup")B.TK(N,this,h,F,m);
if(r.action=="cancellast"){if(N&&N.history.length!=0&&Date.now()-N.history[N.history.length-1].ai9<200){var s=new gf(v.E.u);
s.s=z.Fr;s.data={V:"h_stepbck"};this.L(s)}}var Y=this.mp;if(r.action=="down")Y.vV(N,this,h,F,m);if(r.action=="move")Y.Ui(N,this,h,F,m);
if(r.action=="up")Y.wJ(N,this,h,F,m);if(r.action=="down"||r.action=="up"){this.amJ()}if(r.action=="down"||r.action=="up"||r.action=="ctx"){N.kn=!0}if((r.action=="up"||r.action=="rup")&&this.P.Go){this.P.Go=null;
e.disable(N,this,h,F)}if(r.action=="scroll"){var D=!F.j(bh.hg)&&r.aU,O=new gf(v.E.u,!0);O.data={V:"scroll",yG:r.yG.clone(),D6:m};
O.s=F.j(bh.sV)||D?z.x0:z.U4;this.L(O)}};i7.prototype.Vo=function(r){var N=this.sf(),F=this.tf;if(N&&this.LZ().rm(F,this.Ao)){var h=N.q,m=h.Yg.e,O=h.Yg.n,e=0,P=0,B=16;
if(F.x<B)e=B-F.x;if(F.x>m-B)e=F.x-(m-B);if(F.y<B)P=B-F.y;if(F.y>O-B)P=F.y-(O-B);var s=this.Ao.j(bh.wQ)?8:1;
if((e!=0||P!=0)&&(N.e*h.O>m||N.n*h.O>O)){e=Math.min(5,e*.5)*s;P=Math.min(5,P*.5)*s;if(!(F.x<B||F.y<B)){e=-e;
P=-P}h.r.x+=e;h.r.y+=P;this.arj({D6:this.tf,action:"move"});N.Pj=!0}}this.update()};i7.prototype.update=function(r){var N=this.sf();
if(N==null)return;if(N.kn){var F=this.P.map;for(var h in F){if(F[h].s._r)F[h].s._r(N,this,this.gY,this.Ao)}}if(N.FU){N.t7()}var m=N.q,O=this.Fi,e=this.Fi=Date.now();
if(N.FU||N._a||N.mR||N.Pj||r||m.bP!=m.O||!m.qm.cj(m.r)){var P=m.bP;if(m.bP!=m.O){var B=z.EI.u7(m.O,m.bP>m.O),s=.12;
if(m.bP<m.O&&m.bP<B)m.bP=B;if(m.bP>m.O&&m.bP>B)m.bP=B;var Y=Math.abs(m.O-B)*(e-O)*.001/s;if(m.bP<m.O)m.bP=Math.min(m.O,m.bP+Y);
else m.bP=Math.max(m.O,m.bP-Y)}var D=P==m.O?0:(m.bP-m.O)/(P-m.O);m.qm.x=m.r.x+D*(m.qm.x-m.r.x);m.qm.y=m.r.y+D*(m.qm.y-m.r.y);
this.es.Qr(this.gY,null);this.es.w0(N,this.mF)}if((N.FU||N.Pj||N.kn)&&(!this.tf.Tb||N.Je)){if(N.kn)N.q7();
this.mp.w0(N,this.mF,this.gY);this.bm.a2b(N,this.Ao);N.Ls=!1}N.Je=!1;N.kn=!1;N.FU=null;N._a=N.mR=N.Pj=!1};
i7.prototype.HF=function(r){var N=r.target.tagName.toLowerCase(),F=r.target.getAttribute("type"),h=bh,m=h.A7(r.code,h.Ve);
if(!((N=="input"||N=="select"||N=="button")&&h.A7(r.code,h.QQ))){if(h.N6(r)){r.preventDefault()}this.Ao.Ia(h.Zb(r));
this.BD("down")}};i7.prototype.X9=function(r){if(r.key==" ")this.Ao._0();if(bh.A7(r.code,bh.Qp))this.Ao.reset();
this.Ao.sa(bh.Zb(r));var N=r.target.tagName.toLowerCase();if(bh.N6(r)){r.preventDefault()}this.BD("up")};
i7.prototype.BD=function(r){var N=this.Ao,F=this.sf(),h=F!=null&&F.w.length!=0;if(this.pS.Wp()!=null){if(N.j(bh.R_)){this.pS.a8R()}return}this.amJ();
var m=this.r4(bh.hg),O=N.j(bh.sV),e=N.j(bh.wQ);if(m&&N.j(bh.Uy)&&r=="down"){var P=new gf(v.E.u),B=new gf(v.E.S);
P.s=z.Fr;if(e){P.data={V:"h_stepfwd"}}else{P.data={V:"h_stepbck"}}if(this.cF.Wp()!=null&&this.cF.Wp().N7()){}else this.L(P)}if(m){var P=new gf(v.E.u),s=new gf(v.E.nE),B=new gf(v.E.S);
if(N.j(bh.yX)&&N.j(bh.ny)){B.data={V:v.c.pr,i7:"intro"};this.L(B)}if(!O&&r=="down")for(var Y in gn.keys){var D=gn.keys[Y],c=!0;
for(var R=0;R<D.length;R++)if(!N.j(D[R]))c=!1;if(c){P.s=z.T_;if(Y=="hue2"&&e)P.data={V:"auto",OG:3};
else P.data={V:"start",_w:Y}}}if(N.j(bh.c)){s.data=z.Yi.JK(!0)}if(N.j(bh.VO)){if(O)B.data={V:v.c.pr,i7:"csize"};
else B.data={V:v.c.jH,Yl:e}}if(N.j(bh.S7)){s.data=z.Yi.JK()}if(N.j(bh.E)&&r=="down"){if(e)s.data={Ja:"mergeVisible"};
else s.data={Ja:"mergeLayersNew",Tf:{__name:"Merge Layers",classID:"Mrg2"}}}if(N.j(bh.te)){if(e&&this.gY.px!=z.cP)B.data={V:v.c.pr,i7:"afw_fade"};
else if(O){P.s=z.dX;P.data={V:"applylast"}}else B.data={V:v.c.$$}}if(N.j(bh.DA)){if(O&&F&&F.ng(F.w[0])){P.s=z.j7;
P.data={V:C.r1}}else{P.s=z.j7;P.data={V:C.BZ,Dj:e}}}if(N.j(bh._R)){B.data={V:v.c.nM,Xa:bC.PT}}if(N.j(bh.yX)){if(e){P.data=null;
if(O)B.data={V:v.c.pr,i7:"finfo"};else s.data={Ja:"inverse"}}else if(O)B.data={V:v.c.pr,i7:"isize"}}if(N.j(bh.Qy)){s.data={Ja:(e?"cut":"copy")+"ToLayer"}}if(N.j(bh.Ly)){B.data={V:v.c.pr,i7:"preferences"}}if(N.j(bh.xy)){if(e){P.s=z.j7;
P.data={V:C.vZ}}else B.data={V:v.c.pr,i7:"newproject"}}if(N.j(bh.kR)){B.data={V:v.c.$Q};N.reset()}if(N.j(bh.oh)){B.data={V:v.c.a6w};
N.reset()}if(N.j(bh.A4)){B.data={V:v.c.nM,Xa:bC.HZ}}if(N.j(bh.rC)&&r=="down"){if(e){if(O)B.data={V:v.c.pr,i7:"saveforweb"};
else B.data={V:v.c.KS}}else B.data={V:v.c.um}}if(N.j(bh.Oo)){if(e){P.s=z.cP;P.data={V:"again"}}else B.data={V:v.c.z4,s:z.cP}}if(N.j(bh.EX)){B.data={V:v.c.yc}}if(N.j(bh.Ci)){this.es.NS()}if(N.j(bh.Vr)){B.data={V:v.c.rq}}if(N.j(bh.RZ)||N.j(bh.kx)){P.s=z.j7;
P.data={V:C.Q_,bT:0};if(N.j(bh.RZ))P.data.bT=e?3:2;else P.data.bT=e?0:1}if(N.j(bh.Bg)&&F){P.s=z.j7;P.data={V:C.FV}}if(N.j(bh.Ve)&&F){var o=0;
if(e)o++;if(O)o+=2;P.s=z.Ns;P.data={V:"frompath",Fs:[null,0,o]}}if(N.j(bh.sg)){s.data=z.Q6.lu(0)}if(N.j(bh.QQ)){var H=this.mF.length;
if(H>1)this.es.dW((this.es.qj()+1)%H)}if(N.j(bh.Hd)){B.data={V:v.c.nM,Xa:bC._x}}if(N.j(bh.Aa)){B.data={V:v.c.nM,Xa:bC.QE}}z.EI.f8(N,P);
if(this.cF.Wp()!=null&&this.cF.Wp().N7()){}else{if(P.data)this.L(P);if(s.data)this.L(s);if(B.data)this.L(B)}}if(!m&&O){var x;
if(N.j(bh.RZ))x="Bckw";if(N.j(bh.kx))x="Frwr";if(N.j(bh.Bg))x="Back";if(N.j(bh.sg))x="Frnt";if(x){var s=new gf(v.E.nE);
s.data={Ja:"select",Tf:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:x}}]},MkVs:{t:"bool",v:!1}}};
this.L(s)}}if(F&&F.w.length!=0){var Q=F.g[F.w[0]],U=Q.Ku;if(U==1||U==3||m){var P=new gf(v.E.u),I=U==3?Q.xg(F).v:Q.$n();
if(I){var l=I.BJ?F.q.Hr.join("")=="111"?1:2:0;P.s=z.x0;if(I&&N.j(bh.R_)&&l!=0){P.data={V:"mskView",h:0}}if(I&&N.j(bh.aca)){P.data={V:"mskView",h:l==1?0:1}}if(I&&N.j(bh.a7C)){P.data={V:"mskView",h:l==2?0:2}}if(P.data)this.L(P)}}}var p=N.cS();
if(F&&m&&2<=p&&p<=5){var j=[1,1,1];if(p>2){j=[0,0,0];j[p-3]=1}var T=new gf(v.E.u,!0);T.s=z.U4;T.data={V:"setcls",Hr:j};
this.L(T)}if(!N.j(bh.hg)&&!O&&r=="down"){var P=new gf(v.E.u),B=new gf(v.E.S),V=this.P.map[this.gY.px],E=-1;
for(var R=0;R<this.P.keys.length;R++)if(this.P.keys[R]&&this.r4(this.P.keys[R]))E=R;if(E!=-1){var _=null;
if(V.xX!=E)_=this.P.V4[E];if(V.xX==E&&e)_=(V.aeQ+1)%this.P.Ql[E].length;if(_!=null){var f=this.P.Ql[E][_].s.id,S=this.gY.as7;
if((S==null||S.indexOf(parseInt(f))!=-1)&&!this.tf.Tb)B.data={V:v.c.z4,s:f}}}if(N.j(bh.Vr))B.data={V:v.c.nM,Xa:bC.gU,bT:2};
if(N.j(bh.S7))B.data={V:v.c.nM,Xa:bC.gU,bT:3};if(B.data)this.L(B);if(N.j(bh.al7)&&F&&F.w.length==1){var Q=F.g[F.w[0]];
P.s=z.j7;var L=Q.gT(0)||Q.gT(1)||Q.gT(2)||Q.gT(31);P.data={V:C.Dd,oC:L?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.L(P)}var p=N.cS();if(h&&p!=-1&&this.r4(bh.jc[p])){var y=F.w[0],Q=F.g[y],Z=bh.rf(Math.round(100*Q.opacity/255),p);
P.s=z.j7;P.data={V:C._n,oC:Math.round(255*Z/100)};this.L(P)}var i=this.gY.ns;if(N.j(bh.QQ)){B.data={V:v.c.uI,h:i==0?1:0};
this.L(B)}if(N.j(bh.te)||N.j(bh.R_)&&i==2){var b=document.fullscreenElement!=null==(i==2);B.data={V:v.c.uI,h:i==0?2:0,An:b};
this.L(B)}if(N.j(bh.g8)&&!this.tf.Tb){P.s=z.Ns;P.data={V:"qmask"};this.L(P)}}if(!N.j(bh.hg)&&!O&&e){var P=new gf(v.E.u),B=new gf(v.E.S);
if(N.j(bh.Bg))B.data={V:v.c.pr,i7:"shortcuts"};if(N.j(bh.SE))B.data={V:v.c.pr,i7:"fill"};if(N.j(bh.aeD))B.data={V:v.c.pr,i7:"sel_feather"};
if(h&&(N.j(bh.nL)||N.j(bh.MO))){var y=F.w[0],Q=F.g[y],G=g6.Ry,g=G.length,u=G.indexOf(Q.$j);P.s=z.j7;
P.data={V:C.ze,oC:(u+g+(N.j(bh.nL)?1:-1))%g};this.L(P)}if(B.data)this.L(B)}var P=new gf(v.E.u),A=r=="down"&&(this.r4(bh.Am)||this.r4(bh.Lu));
if((m||O)&&A){P=new gf(v.E.nE);P.data=z.a3.eq(m?"BckC":"FrgC");this.L(P)}else if(F&&A&&!this.tf.Tb){if(F.$!=null){P=new gf(v.E.nE);
P.data={Ja:"delete"}}else if(F.w.length!=0){var Q=F.g[F.w[0]];if(Q.Ku==1)P.data={V:C.nV};else if(Q.Ku==3)P.data={V:C.SX};
else P.data={V:C.wn};P.s=z.j7}this.L(P)}if(this.cF.Wp()!=null){if(N.j(bh.R_)){this.cF.Wp().avZ()}else{this.cF.Wp().BD(F,this,this.gY,N)}}if(this.gY.px==null)return;
var V=this.LZ();if(this.cF.Wp()==null||this.P.WL)V.BD(F,this,this.gY,N)};i7.prototype.r4=function(r){var N=this.Ao,F=this.P.map[this.gY.px].s,top=this.cF.Wp(),h=this.sf();
return N.j(r)&&!F.Zk(r,h)&&(top==null||!top.Zk(r,h))};i7.prototype.Oy=function(r){var N=this.aql,F=this.Gi;
this.gY.ns=r;var h=W.Xs,m=this.Eo.m;if(h(m))this.Wv.removeChild(m);var O=this.oq.m;if(h(O))this.Wv.removeChild(O);
var e=this.bm.m;if(h(e))N.removeChild(e);var P=this.es.m;if(h(P))N.removeChild(P);var B=this.mp.m;if(h(B))N.removeChild(B);
if(r==0){this.Wv.appendChild(m);this.Wv.appendChild(O);F.appendChild(N);N.appendChild(e);N.appendChild(P);
N.appendChild(B)}if(r==1){this.Wv.appendChild(m);N.appendChild(P)}if(r==2){N.appendChild(P)}this.es.Oy(r==2?1:0);
this.vv()};i7.prototype.ada=function(r){if(this.Yc())return 1;if(W.adc()==0){this.gY={};this.bh=function(N,F){return Math.sqrt(N*F)}}return-1};
function b4(r){jZ.call(this);if(r==null)return;this.YW=null;this.Nf=null;this.m=W._("div","sbar"+" "+r);
this.e5=new W._("div","top");this.e5.innerHTML="> <";this.m.appendChild(this.e5);this.xx=1;this.e5.addEventListener("click",this.adm.bind(this),!1)}b4.prototype=new jZ;
b4.prototype.adm=function(r){if(this.YW!=null&&this.YW<500&&this.xx==0)return;if(this.xx==0)this.WM(!0);
else this.collapse(!0)};b4.prototype.af2=function(r){this.xx=r;this.e5.innerHTML=this.xx==0?"< >":"> <"};
b4.prototype.aih=function(){var r=new gf(v.E.S,!0);r.data={V:v.c.mB};this.L(r)};b4.prototype.WM=function(r){this.af2(1);
if(r)this.aih()};b4.prototype.collapse=function(r){this.af2(0);if(r)this.aih()};b4.prototype.Oi=function(){return this.xx==1};
function e7(r,N){b4.call(this,"vcolumn");this.IV=r;this.anD=N;this.Vn();this.Gk=W._("div");this.Gk.setAttribute("style","cursor:default;");
this.a6D=this.a5g.bind(this);this.ans=this.acP.bind(this);this.afc=this.au7.bind(this);W.vN(this.m,this.a6D);
this.m.appendChild(this.Gk);this.l2=W._("div");this.Gk.appendChild(this.l2);this.oP=-1;this.p$=W._("div","float");
var F=this.od=W._("canvas"),h=12;F.width=F.height=h;var m=F.getContext("2d");m.fillStyle="rgba(0,0,0,0.5)";
m.moveTo(0,0);m.lineTo(h,h);m.lineTo(0,h);m.fill();this.od.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
W.Cb(this.od);W.vN(this.od,this.a6D);this.b5=[];this.mY=[];this.a6b=null;this.w$=null;this.acY=0}e7.prototype=new b4;
e7.prototype.a5g=function(r){var N=r.target==this.od;if(!N){if(r.target!=this.m)return;if(!this.Oi())return}else{var F=this.b5[this.oP].KE;
F.style.pointerEvents="none";var h=F.getBoundingClientRect();this.a6b=[h.width,h.height];this.mY[this.oP]=[h.width,h.height]}r.stopPropagation();
this.w$=W.or(r,document.body);this.acY=this.IV;W.B7(document,this.ans);W.ey(document,this.afc)};e7.prototype.acP=function(r){var N=W.or(r,document.body);
if(this.Oi()){this.IV=this.acY+this.w$.x-N.x;this.Vn()}else{var F=this.mY[this.oP],h=this.a6b;F[0]=h[0]+this.w$.x-N.x;
F[1]=h[1]+N.y-this.w$.y}var m=new gf(v.E.S,!0);m.data={V:v.c.mB};this.L(m)};e7.prototype.au7=function(r){if(!this.Oi()){var N=this.b5[this.oP].KE;
N.style.pointerEvents="auto"}W.iX(document,this.ans);W.g$(document,this.afc)};e7.prototype.arz=function(r){r.U("showFloat",this.a3f,this);
r.U("hideFloat",this._N,this);this.b5.push(r);r.parent=this;this.Gk.appendChild(r.m)};e7.prototype.afE=function(R){var r=this.b5[R];
r.removeEventListener("showFloat",this.a3f,this);r.removeEventListener("hideFloat",this._N,this);this.b5.splice(R,1);
r.parent=null;this.Gk.removeChild(r.m)};e7.prototype.a6T=function(){return this.b5.length};e7.prototype.yS=function(){for(var R=0;
R<this.b5.length;R++)this.b5[R].yS()};e7.prototype.a3f=function(r){this._N(r);this.l2.appendChild(this.p$);
this.oP=this.b5.indexOf(r.currentTarget);var N=this.b5[this.oP].KE;this.p$.appendChild(N);this.p$.appendChild(this.od);
this.bh(this.YW,this.Nf)};e7.prototype._N=function(r){this.yS();if(this.oP!=-1){this.l2.removeChild(this.p$);
var N=this.b5[this.oP];if(N)this.p$.removeChild(N.KE);this.oP=-1}};e7.prototype.Vn=function(){this.m.setAttribute("style","width: "+this.IV+"px; padding-left:3px; cursor:ew-resize;")};
e7.prototype.WM=function(r){this.Vn();this._N();for(var R=0;R<this.b5.length;R++)this.b5[R].WM();b4.prototype.WM.call(this,r)};
e7.prototype.collapse=function(r){this.m.removeAttribute("style");for(var R=0;R<this.b5.length;R++)this.b5[R].collapse();
b4.prototype.collapse.call(this,r)};e7.prototype.bh=function(r,N){this.YW=r;this.Nf=N;N-=6;var F=this.b5.length,h=this.Oi();
if(F==0)return;r=this.IV;var m=N<400?N:400+(N-400)*.5,O=N;for(var R=0;R<F;R++){var e=this.b5[R],P=e.ar0(),B=this.mY[R];
e.bh(!h&&B?B[0]:r,h?R==F-1?O:P:B?B[1]:m);O-=P}};function fi(r){jZ.call(this);this.m=W._("div");this.Gk=null;
this.fI=0;this.iE=0;this.a8P=r;this.ahd=this.DY.bind(this);this.a8a=this.VQ.bind(this);this.a9y=this.gm.bind(this);
this.oM=null;this.nz=null;this.cx=null;W.vN(this.m,this.ahd);var N=this.m,h="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
N.addEventListener("touchmove",W.vl,!1);this.atC=!0;this.JU=[];var F=this.adY=W._("div");F.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(F);var m=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",h+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",h+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",h+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var R=0;R<m.length;R++){var O=new d_(m[R]);this.JU.push(O);O.m.setAttribute("style","margin-left:"+(R<7?4:0)+"px;cursor:pointer;");
O.U("click",this.dz,this)}}fi.prototype=new jZ;fi.prototype.f=function(){var r=this.adY;W.Tg(r);for(var R=0;
R<this.JU.length;R++){var N=this.JU[R];if(R<5)N.f();r.appendChild(N.m)}};fi.prototype.dz=function(r){var R=this.JU.indexOf(r.currentTarget);
if(R==0){if(window.showCap)window.showCap();return}var N=" issues learn blog api twitter facebook".split(" "),F=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),h=window.ga;
if(h)h("send","event","Links",N[R]);var m=new gf(v.E.S,!0);m.data={V:v.c.lz,link:F[R]};this.L(m)};fi.prototype.DY=function(r){if(r.aez){r.preventDefault();
r.stopPropagation()}var N=window;W.B7(N,this.a8a);W.ey(N,this.a9y);N=this.Gk;this.oM=new gS(parseInt(N.style.left),parseInt(N.style.top));
this.nz=W.or(r,this.m);this.cx=N.getBoundingClientRect()};fi.prototype.VQ=function(r){var N=W.or(r,this.m),F=this.oM.x+N.x-this.nz.x,h=this.oM.y+N.y-this.nz.y,m=this.fI-this.cx.width,O=this.iE-this.cx.height;
if(this.a8P)this.Gk.style.left=Math.min(0,Math.max(m,F))+"px";else this.Gk.style.top=Math.min(0,Math.max(O,h))+"px";
if(F-10>0){this.nz.x=N.x-10;this.oM.x=0}if(F+10<m){this.nz.x=N.x+10;this.oM.x=m}};fi.prototype.gm=function(r){var N=window;
W.iX(N,this.a8a);W.g$(N,this.a9y)};fi.prototype.am$=function(r){if(this.Gk){this.m.removeChild(this.Gk)}this.Gk=r;
this.m.appendChild(r);r.style.position="absolute";if(this.a8P)r.style.left=0;else r.style.top=0};fi.prototype.bh=function(r,N){this.fI=r;
this.iE=N;this.m.setAttribute("style","position:relative; width: "+r+"px; height: "+N+"px; overflow:hidden; white-space: nowrap; ");
this.Gk.style.left="0";this.Gk.style.top="0";var F=this.Gk.firstChild,h=this.adY,m=F?F.firstChild.getBoundingClientRect().width+80:1e9,O=450,e=this.atC&&r>m+O,P=W.em("SU\\VOAV"),B=h[bq.EO][P]=e?"":W.em("][WK")};
function c1(){jZ.call(this);this.bX=null;this.uv=c1.oh;this.a73="";this.m=W._("div","rightbar");this.x6=[new e7(300),new e7(268,!0)];
this.b5=[new aa,new aa,new aa,new aa,new aa,new aa,new aa];this.acr=[]}c1.prototype=new jZ;c1.prototype.f=function(){var r=this.uv;
for(var R=0;R<r.length;R++)r[R].f3.f()};c1.oh=[{f3:new cH,jR:3},{f3:new f6,jR:1},{f3:new e1,jR:4},{f3:new j$,jR:2},{f3:new e9(!0),jR:5},{f3:new ic,jR:0},{f3:new gr,jR:5},{f3:new hz,jR:3},{f3:new fr,jR:0},{f3:new j2,jR:3},{f3:new jP,jR:2},{f3:new aT,jR:4},{f3:new gO,jR:3},{f3:new f0,jR:5},{f3:new e9(!1),jR:5},{f3:new fO,jR:2},{f3:new gU,jR:3},{f3:new jT,jR:1},{f3:new jy,jR:0},{f3:new gR,jR:5},{f3:new fZ,jR:6,bH:!0},{f3:new hO,jR:6,bH:!0},{f3:new as,jR:6,bH:!0}];
(function(){var r=[{id:gt.A4.aqg,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Adaptive Palette",url:"https://hxim.github.io/TwemojiPlugin/adapal/adapal.html",icon:"https://hxim.github.io/TwemojiPlugin/adapal/icon.svg"}];
for(var R=0;R<r.length;R++)c1.oh.push({f3:new gx(r[R],100+R),jR:6,bH:!0})}());c1.prototype.a0R=function(r){for(var R=0;
R<r.length;R++){var N=r[R],F=new gx(N,"plg_"+N.name);this.uv.push({f3:F,jR:6});this.acr.push(F.gR)}this.Fm()};
c1.prototype.Qr=function(r,N){this.bX=r;var F=this.uv;for(var R=0;R<F.length;R++)F[R].f3.Qr(r,N);if(N==bC.mu||N==bC.ge)this.Fm()};
c1.prototype.ic=function(r){var N=this.uv;for(var R=0;R<N.length;R++)N[R].f3.ic(r)};c1.prototype.bh=function(r,N){this.YW=r;
this.Nf=N;this.Fm();this.x6[0].bh(r,N);this.x6[1].bh(r,N)};c1.prototype.Fm=function(){var r=this.bX,N=this.YW,F=this.Nf;
if(r==null||N==0)return;var h=r.Fd.concat(this.acr),m=N<500||N<700&&N<F,O=JSON.stringify(h)+","+m;if(O!=this.a73){this.a73=O;
W.Tg(this.m);var e=[];for(var R=0;R<this.x6.length;R++){var P=this.x6[R];e[R]=P.Oi();while(P.a6T()!=0)P.afE(0);
P.WM()}var B=[];for(var R=0;R<this.b5.length;R++){var s=this.b5[R];s.WM();while(s.ad4()!=0)s.BB(0);B.push(0)}for(var R=0;
R<h.length;R++){var Y=this.af$(h[R].toString());this.b5[Y.jR].M$(Y.f3);this.b5[Y.jR].dW(0);B[Y.jR]++}var D=[];
for(var R=0;R<B.length;R++){if(B[R]==0)continue;var c=R<3||m?1:0,P=this.x6[c];P.parent=this;P.arz(this.b5[R]);
D[c]=!0}for(var R=0;R<this.x6.length;R++)if(D[R])this.m.appendChild(this.x6[R].m);this.x6[0].collapse();
if(N<700||this.bX.compact||!e[1]){this.x6[1].collapse()}var o=new gf(v.E.S,!0);o.data={V:v.c.mB};this.L(o)}};
c1.prototype.af$=function(r){for(var R=0;R<this.uv.length;R++)if(this.uv[R].f3.gR==r)return this.uv[R]};
c1.prototype.a6J=function(r){var N=this.af$(r);this.b5[N.jR].M$(N.f3)};c1.prototype.w0=function(r,N,F){var h=this.uv;
for(var R=0;R<h.length;R++)h[R].f3.w0(r,N,F)};c1.prototype.vV=function(r,N,F,h,m){var O=this.uv;for(var R=0;
R<O.length;R++)O[R].f3.vV(r,N,F,h,m)};c1.prototype.Ui=function(r,N,F,h,m){var O=this.uv;for(var R=0;
R<O.length;R++)O[R].f3.Ui(r,N,F,h,m)};c1.prototype.wJ=function(r,N,F,h,m){var O=this.uv;for(var R=0;
R<O.length;R++)O[R].f3.wJ(r,N,F,h,m)};function i9(r,N){b4.call(this,"toolbar");this.kE=null;this.e2=W._("div","tools");
this.m.appendChild(this.e2);this.Jd=null;this.a6_=N;this.I5=null;this.aud=-1;this.amW={};this.P=null;
this.cp=null;this.Lv=null;this.cZ=null;this.kQ(r);this.bO=new da;this.bO.m.style.marginTop="5px";this.bO.m.style.marginBottom="3px";
this.bO.parent=this;this.R2=new d_(W.qV("lrs/mask"),!1,[6,6,1]);this.R2.U("click",function(O){var e=new gf(v.E.u,!0);
e.s=z.Ns;e.data={V:"qmask"};this.L(e)},this);var F=new jX(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
F.U(v.E.o,this.af7,this);var h=W._("span","rangecontFloat form padded");h.appendChild(F.m);var m=document.body;
this.asP=[!1,!1,!1,!1];this.h8=new d_("\u2328",!1,"Virtual Keys");this.h8.U("click",function(O){var e=this.h8.m.getBoundingClientRect();
h.setAttribute("style","position:absolute; top:"+(e.top-40)+"px; left: "+(e.left+e.width+4)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(W.Xs(h))m.removeChild(h);else m.appendChild(h)},this)}i9.prototype=new b4;i9.prototype.af7=function(r){var N=r.target.k();
this.h8.b(N[0]||N[1]||N[2]||N[3]);var F=new gf(v.E.S,!0);for(var R=0;R<4;R++){if(N[R]!=this.asP[R]){F.data={V:v.c.an4,Tb:N[R],arU:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][R]};
this.L(F)}}this.asP=N.slice(0)};i9.prototype.a2b=function(r,N){this.I5=N;if(r==null||r.w.length==0||r.g[r.w[0]]==null)return;
var F=r.R2()!=null,h=r.q.Hr,m=r.g[r.w[0]].Ku,O=m==1||m==3||F||h[0]+h[1]+h[2]==1;this.bO.a03(O);this.R2.b(F)};
i9.prototype.arF=function(r,N){var F=r.length,h=[];for(var R=0;R<F;R++)h[R]=r[R].slice(0);r=h;var m=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],O=Math.min(m.length/2,F-N);
for(var R=0;R<O;R++){var e=m[2*R],P=m[2*R+1];r[e]=r[e].concat(r[P]);r[P]=null}for(var R=0;R<r.length;
R++)if(r[R]==null){r.splice(R,1);R--}return r};i9.prototype.a5x=function(r,N){for(var R=0;R<N.length;
R++)for(var F=0;F<N[R].length;F++)if(N[R][F].s.id==r)return R};i9.prototype.kQ=function(r,N){this.kE=r;
this.cp=[];this.Lv=[];this.cZ=[];this.P=[];var F=r.Ql;if(N!=null&&this.a6_)F=this.arF(F,N);if(this.Jd){var h=[],m=this.Jd.as7;
for(var R=0;R<F.length;R++){var O=[];for(var e=0;e<F[R].length;e++){var P=F[R][e];if(m==null||m.indexOf(parseInt(P.s.id))!=-1)O.push(P)}if(O.length>0)h.push(O)}F=h}for(var R=0;
R<F.length;R++){var B=[],s=this.cp.length,Y=null,D=-1;for(var e=0;e<F[R].length;e++){var P=F[R][e].s,c=this.a5x(P.id,r.Ql),o=r.keys[c];
this.P.push(P);var H=new gY(P.name,o,P.L1,this.cp.length,R,F[R].length>1);this.cp.push(H);var x=this.amW[P.id];
if(x==null)x=0;if(x>D){D=x;Y=H}H.U(v.E.o,this.Lr,this);H.U("mover",this.LW,this);B.push({name:P.name,qt:P.L1,oZ:o?o.UQ:""})}this.Lv.push(Y);
if(B.length==1)this.cZ.push(null);else{var Q=new f8(B,null,!0);Q.a5T=s;Q.xX=R;this.cZ.push(Q);Q.U("select",this.atm,this);
Q.parent=this}}};i9.prototype.bh=function(r,N){var F=this.Nf=N-11,h=32;if(1<W.G()&&W.G()<1.5)h=18+14*(1/W.G());
var m=39+23,O=Math.floor((F-m)/h),e=this.Jd;if(e==null)return;if(O!=this.aud){this.aud=O;this.kQ(this.kE,O);
this.yo(e.px)}var P=this.Lv.length*h+m,B=Math.min(1,F/P);if(.75<=B){this.e2.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+B+","+B+");");
this.m.setAttribute("style","height:"+(N-2)+"px; overflow:hidden;")}else{F-=4;this.e2.setAttribute("style","height: "+F+"px;  width:"+Math.ceil(P/F)*34+"px");
this.m.setAttribute("style","")}};i9.prototype.f=function(){for(var R=0;R<this.cp.length;R++)this.cp[R].f();
for(var R=0;R<this.cZ.length;R++)if(this.cZ[R])this.cZ[R].f()};i9.prototype.Lr=function(r){var N=new gf(v.E.S,!0);
N.data={V:v.c.z4,s:this.P[r.id].id};this.L(N)};i9.prototype.atm=function(r){var N=r.target.a5T+r.target.cW()[0];
this.cp[N].gm(null)};i9.prototype.LW=function(r){var N=this.I5,F=new gf(v.E.S,!0);F.data={V:v.c.Wd};
this.L(F);var h=r.target,m=this.cZ[h.xX];if(m==null)return;var O=h.m.getBoundingClientRect(),F=new gf(v.E.S,!0);
F.data={V:v.c.hN,f3:m,x:O.left+O.width+8,y:O.top};if(N==null||!(N.j(bh.mk)||N.j(bh.hg)))this.L(F)};i9.prototype.yo=function(r){this.amW[r]=Date.now();
var N=-1;for(var R=0;R<this.P.length;R++)if(this.P[R].id==r)N=R;for(var R=0;R<this.cp.length;R++){var F=this.cp[R];
F.a3O(N==R)}if(N==-1)return;this.Lv[this.cp[N].xX]=this.cp[N];W.Tg(this.e2);var h=this.Lv;for(var R=0;
R<h.length;R++){this.e2.appendChild(h[R].m)}if(!this.a6_)return;this.e2.appendChild(this.bO.m);if(this.Nf>640)this.e2.appendChild(this.R2.m);
this.e2.appendChild(this.h8.m)};i9.prototype.w0=function(r,N){this.yo(N.px)};i9.prototype.Qr=function(r,N){this.Jd=r;
if(N==bC.ge){this.kQ(this.kE);this.yo(r.px)}this.bO.apc(r.Fp,r.lo)};function gY(r,N,F,h,m,O){jZ.call(this);
this.sB=0;this.k4=this.atl.bind(this);this.xX=m;this._y=h;this.fk=r;this.a1i=N;this.aeG=O;this.L1=F;
this.m=W._("button","");this.m.innerHTML=W.qV(this.L1);if(this.aeG){var e=W._("img","gsicon");e.setAttribute("src",PIMG["tools/corner"]);
e.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.m.appendChild(e)}this.f();
W.vN(this.m,this.DY.bind(this));this.m.addEventListener("click",this.gm.bind(this),!1);this.m.addEventListener("contextmenu",gY.o8,!1)}gY.prototype=new jZ;
gY.o8=function(r){r.stopPropagation();r.preventDefault();return!1};gY.prototype.f=function(){var r=this.a1i?" ("+this.a1i.UQ+")":"";
this.m.setAttribute("title",ab.get(this.fk)+r)};gY.prototype.DY=function(r){this.sB=setTimeout(this.k4,160)};
gY.prototype.gm=function(r){clearTimeout(this.sB);var N=new gf(v.E.o,!1);N.target=this;N.id=this._y;
this.L(N)};gY.prototype.atl=function(r){var N=new gf("mover",!1);N.target=this;N.id=this._y;this.L(N)};
gY.prototype.a3O=function(r){this.m.setAttribute("class",r?"toolbtn active":"toolbtn")};function f4(){jZ.call(this);
this.m=W._("div","topbar");this.CQ=W._("span","");this.arp=0;this.m.appendChild(this.CQ);this.P8=null;
this.Pc=null;this.sv=[];this.Fd=[];var r=this.DY.bind(this);for(var R=0;R<f4.data.length;R++){var N=W._("button");
this.sv.push(N);this.CQ.appendChild(N);N.addEventListener("mouseover",r,!1);W.vN(N,r)}this.HM=new d_([0,13,0],!1,null,!0);
this.HM.U("click",this.vU,this);this.m.appendChild(this.HM.m);this.Oq=new d_(W.qV("tools/zoom",null,"autoscale"),!1,[12,86]);
this.Oq.U("click",this.vU,this);this.m.appendChild(this.Oq.m);this.TF=new d_("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.TF.U("click",this.vU,this);this.m.appendChild(this.TF.m)}f4.prototype=new jZ;f4.prototype.a9s=function(){if(this.Fd.length!=0)return;
for(var R=0;R<f4.data.length;R++){var r=f4.data[R],N=new f8(r.items,r.in);N.parent=this;this.Fd.push(N)}this.f()};
f4.prototype.f=function(){this.HM.f();this.Oq.f();this.TF.f();for(var R=0;R<this.sv.length;R++)this.sv[R].textContent=ab.get(f4.data[R].name);
this.afx();for(var R=0;R<this.Fd.length;R++)this.Fd[R].f()};f4.prototype.vU=function(r){var N=new gf(v.E.S,!0);
if(r.target==this.HM)N.data={V:v.c.pr,i7:"account"};else if(r.target==this.Oq)N.data={V:v.c.$$};else N.data={V:v.c.uI,An:!0};
this.L(N)};f4.prototype.a15=function(r,N){this.P8=r;this.Pc=N};f4.prototype.Qr=function(r,N){this.Pc=r;
if(N==bC.ge){var F=r.aeT;W.Tg(this.CQ);for(var R=0;R<this.sv.length;R++){if(F==null||F[R]==1||F[R]instanceof Array)this.CQ.appendChild(this.sv[R]);
if(F!=null&&F[R]instanceof Array){this.a9s();this.Fd[R].a2P(F[R])}}this.m.removeChild(this.HM.m);this.m.removeChild(this.Oq.m);
this.m.removeChild(this.TF.m);if(r.lJ)this.m.appendChild(this.HM.m);this.m.appendChild(this.Oq.m);this.m.appendChild(this.TF.m)}this.afx()};
f4.prototype.afx=function(r,N){var F=this.HM,h=12255232;if(ey.XP())h=ey.rU()?43520:16755200;F.m.setAttribute("style","color:#ffffff; background-color:#"+w.GG(h))};
f4.prototype.DY=function(r){this.a9s();var R=this.sv.indexOf(r.currentTarget),N=this.Fd[R];if(r.type=="mouseover"&&!W.Xs(this.Fd[this.arp].m))return;
if(W.Xs(N.m))return;r.aez=!0;this.arp=R;for(var R=0;R<f4.data.length;R++)this.Fd[R].update(this.P8,this.Pc);
var F=r.target.getBoundingClientRect(),h=new gf(v.E.S,!0);h.data={V:v.c.hN,f3:N,x:F.left,y:F.top+F.height+2,anF:!0};
this.L(h)};f4.a3E=function(r){var N=bh,F=N.hg,h=N.wQ,m=N.sV,O={name:[0,5],items:[{name:[7,0],oZ:[F,N.c]},{name:[7,1],oZ:[F,N.S7],I:function(P){return{I:P!=null&&P.$!=null}}},{name:[7,2],oZ:[h,F,N.yX],I:function(P){return{I:P!=null&&P.$!=null}},At:!0},{name:[7,11],kV:!0,I:function(P){return{I:P!=null&&P.w.length!=0&&!P.g[P.w[0]].rect.lX()}}},{name:[7,13],kV:!0,I:function(P){return{I:P!=null&&P.w.length!=0&&!P.g[P.w[0]].rect.lX()}},At:!0},{name:[7,8],kV:!0},{name:[7,3],At:!0,sub:[{name:[7,9],kV:!0,I:function(P){return{I:P!=null&&P.$!=null}}},{name:[19,3,0],kV:!0,I:function(P){return{I:P!=null&&P.$!=null}}},{name:[7,4],kV:!0,I:function(P){return{I:P!=null&&P.$!=null}}},{name:[7,5],kV:!0,I:function(P){return{I:P!=null&&P.$!=null}}},{name:[7,6],kV:!0,I:function(P){return{I:P!=null&&P.$!=null}},oZ:"Shift+F6"}]},{name:[7,10],I:function(P){return{I:P!=null&&P.$!=null}},At:!0},{name:[6,6,1],I:function(P){return{I:P!=null,Vs:P!=null&&P.R2()!=null}},oZ:[N.g8],At:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],in:[{T:v.E.nE,R:z.Yi.JK(!0)},{T:v.E.nE,R:z.Yi.JK()},{T:v.E.nE,R:{Ja:"inverse"}},{T:v.E.S,R:{V:v.c.pr,i7:"redge"}},{T:v.E.S,R:{V:v.c.pr,i7:"magiccut"}},{T:v.E.S,R:{V:v.c.pr,i7:"crange"}},{sub:[{T:v.E.S,R:{V:v.c.pr,i7:"sel_border"}},{T:v.E.S,R:{V:v.c.pr,i7:"sel_smoothness"}},{T:v.E.S,R:{V:v.c.pr,i7:"sel_expand"}},{T:v.E.S,R:{V:v.c.pr,i7:"sel_contract"}},{T:v.E.S,R:{V:v.c.pr,i7:"sel_feather"}}]},{T:v.E.S,R:{V:v.c.z4,s:z.DM}},{T:v.E.u,s:z.Ns,R:{V:"qmask"}},{T:v.E.nE,R:{Ja:"duplicate",Tf:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(r){var e=O.items.length-1;O.items.splice(e-2,0,{name:[6,49],oZ:[F,N.Qy],At:!0});O.in.splice(e-2,0,{T:v.E.nE,R:{Ja:"copyToLayer"}});
O.items.splice(e-1,0,{name:[10,16],oZ:[m,F,N.Oo]});O.in.splice(e-1,0,{T:v.E.S,R:{V:v.c.z4,s:z.cP}})}return O};
f4.data=function(){var r=bh,N=r.hg,F=r.wQ,h=r.sV,m=function(Y){return{I:Y!=null&&Y.w.length!=0}},O=function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].add.SoLd!=null}},e=[],P=[],B="none maxx avrg medn minn rang stdv summ vari".split(" "),s=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var R=0;R<B.length;R++){e.push({name:s[R]});P.push({T:v.E.u,s:z.j7,R:{V:C.Hv,oC:B[R]}})}return[{name:[0,0],items:[{name:[5,3],oZ:[h,N,r.xy],title:[11,7],kV:!0},{name:[1,0],oZ:[N,r.kR],kV:!0},{name:[1,11],kV:!0,I:function(Y,D){return{I:Y!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],At:!0,sub:[{name:[1,5],kV:!0},{name:[11,0],kV:!0},{name:["PSD VAR0",[25,0]],kV:!0}]},{name:[1,1],At:!0,sub:[{name:"PNG",oZ:"Imgur.com",I:function(Y,D){return{I:Y!=null&&D.TO}}},{name:"JPG",oZ:"Imgur.com",I:function(Y,D){return{I:Y!=null&&D.TO}}},{name:"PSD",oZ:"Photopea.com",I:function(Y,D){return{I:Y!=null&&D.TO&&!Y.Zc}}}]},{name:"Save ...",oZ:[N,r.rC],I:function(Y,D){var c=ab.get([1,2]);
if(Y){if(Y.s7)c+=" ("+ab.get([6,7,1])+")";if(Y.SR)c+=" (Google Drive)";if(Y.eL)c+=" ("+Storage.list[Y.eL[0]][0]+")"}return{I:Y!=null&&(Y.eL!=null||Y.hh!=null&&Y.mS=="psd"||Y.s7!=null||Y.oJ!=null&&Y.oJ.GE!=null||Y.SR!=null||D.zX.save!=null),Pa:c}}},{name:[1,3],I:function(Y,D){return{I:Y!=null&&!Y.Zc&&D.TO}}},{name:["VAR0 PSD/PSB",[1,2]],kV:!0,I:function(Y,D){return{I:Y!=null&&!Y.Zc&&D.TO}}},{name:[1,8],sub:function(){var Y=bA.Jo(0),D=[];
for(var R=0;R<Y.length;R++)D.push({name:Y[R],oZ:"."+Y[R].toLowerCase()});D.push({name:[0,14],sub:function(){var Y=bA.Jo(1),D=[];
for(var R=0;R<Y.length;R++)D.push({name:Y[R],oZ:"."+Y[R].toLowerCase()});return D}()});return D}()},{name:[1,4],kV:!0,I:function(Y,D){return{I:Y!=null}},At:!0},{name:[1,9],kV:!0,I:function(Y,D){return{I:Y!=null}}},{name:"Export Color Lookup",kV:!0,I:function(Y,D){return{I:Y!=null}},At:!0},{name:[1,14],kV:!0,I:function(Y,D){return{I:Y!=null}},At:!0},{name:[1,10]}],in:[{T:v.E.S,R:{V:v.c.pr,i7:"newproject"}},{T:v.E.S,R:{V:v.c.$Q}},{T:v.E.S,R:{V:v.c.$Q,ahP:!0}},{sub:[{T:v.E.S,R:{V:v.c.pr,i7:"open_from_url"}},{T:v.E.S,R:{V:v.c.pr,i7:"camera"}},{T:v.E.S,R:{V:v.c.pr,i7:"templates"}}]},{sub:[{T:v.E.S,R:{V:v.c.so,Rr:"png"}},{T:v.E.S,R:{V:v.c.so,Rr:"jpg"}},{T:v.E.S,R:{V:v.c.so,Rr:"psd"}}]},{T:v.E.S,R:{V:v.c.um}},{T:v.E.S,R:{V:v.c.KS}},{T:v.E.S,R:{V:v.c.pr,i7:"savepsb"}},{sub:function(){var Y=bA.Jo(0),D=[];
for(var R=0;R<Y.length;R++)D.push({T:v.E.S,R:{V:v.c.pr,i7:"saveforweb",Rr:R}});D.push({sub:function(){var c=bA.Jo(0).length,Y=bA.Jo(1),D=[];
for(var R=0;R<Y.length;R++)D.push({T:v.E.S,R:{V:v.c.pr,i7:"saveforweb",Rr:c+R}});return D}()});return D}()},{T:v.E.S,R:{V:v.c.pr,i7:"saveforweb",Rr:4,aco:!0}},{T:v.E.S,R:{V:v.c.pr,i7:"eassets"}},{T:v.E.S,R:{V:v.c.pr,i7:"exlut"}},{T:v.E.S,R:{V:v.c.pr,i7:"finfo"}},{T:v.E.S,R:{V:v.c.pr,i7:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],oZ:[F,N,r.Uy]},{name:[2,1],oZ:[N,r.Uy],At:!0},{name:[2,11],oZ:[F,N,r.te],At:!0,kV:!0,I:function(Y,D){return{I:hm.a0j(Y)&&D.px!=z.cP}}},{name:[5,0],oZ:[N,r.Vr]},{name:[5,1],oZ:[N,r.VO]},{name:[5,7],oZ:[F,N,r.VO]},{name:[5,2],oZ:[N,r.EX],I:function(Y,D){return{I:W.fg()||D.zb!=null||D.Oc!=null||D.aug!=null}}},{name:[2,2],I:function(Y){return{I:Y!=null&&Y.$!=null}},oZ:"Delete",At:!0},{name:[2,3],I:function(Y){return{I:Y!=null}},kV:!0,oZ:[F,r.SE]},{name:[14,9],I:function(Y){return{I:Y!=null}},kV:!0,At:!0},{name:[10,48],I:function(Y){return{I:Y!=null&&Y.VT(!1)}}},{name:[10,46],I:function(Y){return{I:z.hM.c9(Y)}}},{name:[10,16],oZ:[h,N,r.Oo]},{name:[2,4],sub:aJ.a0t()},{name:[2,10,1]},{name:[2,10,0],At:!0},{name:[12,87],sub:[{name:[12,62],I:function(Y){return{I:Y!=null}}},{name:[9,3],I:function(Y){return{I:Y!=null}}},{name:[10,31],I:function(Y){return{I:Y!=null&&Y.bN()[1].length!=0}}}]},{name:[1,15],kV:!0},{name:[12,79],kV:!0,oZ:[N,r.Ly]},{name:[1,13],kV:!0}],in:[{T:v.E.u,s:z.Fr,R:{V:"h_undoredo"}},{T:v.E.u,s:z.Fr,R:{V:"h_stepfwd"}},{T:v.E.u,s:z.Fr,R:{V:"h_stepbck"}},{T:v.E.S,R:{V:v.c.pr,i7:"afw_fade"}},{T:v.E.S,R:{V:v.c.rq}},{T:v.E.S,R:{V:v.c.jH}},{T:v.E.S,R:{V:v.c.jH,Yl:!0}},{T:v.E.S,R:{V:v.c.yc}},{T:v.E.nE,R:{Ja:"delete"}},{T:v.E.S,R:{V:v.c.pr,i7:"fill"}},{T:v.E.S,R:{V:v.c.pr,i7:"stroke"}},{T:v.E.S,R:{V:v.c.z4,s:z.jU}},{T:v.E.u,s:z.dX,R:{V:"start",NM:"rigidTransform"}},{T:v.E.S,R:{V:v.c.z4,s:z.cP}},{sub:aJ.a2G()},{T:v.E.nE,R:{Ja:"align",Tf:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{T:v.E.u,s:z.j7,R:{V:C.aac}},{sub:[{T:v.E.S,R:{V:v.c.jO,Xa:0}},{T:v.E.S,R:{V:v.c.jO,Xa:1}},{T:v.E.S,R:{V:v.c.jO,Xa:2}}]},{T:v.E.S,R:{V:v.c.pr,i7:"pmanager"}},{T:v.E.S,R:{V:v.c.pr,i7:"preferences"}},{T:v.E.S,R:{V:v.c.pr,i7:"locstor"}}]},{name:[0,2],items:[{name:[12,36],I:function(Y){return{I:Y!=null}},At:!0,sub:[{name:"RGB",I:function(Y){if(Y==null)return{I:!1};
return{Vs:Y.add.fcmy==null,I:!0}}},{name:"CMYK",I:function(Y){if(Y==null)return{I:!1};return{Vs:Y.add.fcmy!=null,I:!0}}}]},{name:[3],At:!0,sub:function(){var Y=[];
for(var D in gn.names){Y.push({name:gn.names[D],kV:q[D]!=null,oZ:gn.keys[D],At:gn.iT.indexOf(D)!=-1});
if(D=="selc"){Y.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],kV:!0,At:!0});Y.push({name:[19,7,0],oZ:[N,F,r.ny],I:function(D){return{I:D!=null&&D.VT(!1)}}});
Y.push({name:[4,18],kV:!0,I:function(D){return{I:D!=null&&D.VT(!1)}}})}}return Y}()},{name:[4,16,0],I:function(Y){return{I:Y!=null&&Y.VT(!1)}}},{name:[4,16,1],I:function(Y){return{I:Y!=null&&Y.VT(!1)}}},{name:[4,16,2],I:function(Y){return{I:Y!=null&&Y.VT(!1)}},At:!0},{name:[11,11,1],I:function(Y){return{I:Y!=null&&Y.VT(!1)}}},{name:[11,11,0],I:function(Y){return{I:Y!=null&&Y.VT(!1)}},At:!0},{name:[11,3],kV:!0,oZ:[h,N,r.VO]},{name:[11,10],kV:!0,oZ:[h,N,r.yX]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],I:function(Y){return{I:Y!=null&&Y.$!=null}}},{name:[11,12,0],I:function(Y){return{I:Y!=null}},oZ:[N,r.sg],kV:!0},{name:[11,12,2],I:function(Y){return{I:Y!=null}},At:!0},{name:[2,12],I:function(Y){return{I:Y!=null&&Y.VT(!1)}},kV:!0}],in:[{sub:[{T:v.E.u,s:z.FS,R:{V:"fcmy",h:0}},{T:v.E.u,s:z.FS,R:{V:"fcmy",h:1}}]},{sub:function(){var Y=[];
for(var D in gn.names){Y.push({T:v.E.u,s:z.T_,R:{V:"start",_w:D}});if(D=="selc"){Y.push({T:v.E.u,s:z.dX,R:{V:"start",NM:"adaptCorrect"}});
Y.push({T:v.E.nE,R:{Ja:"desaturate"}});Y.push({T:v.E.u,s:z.T_,R:{V:"start",_w:"matc"}})}}return Y}()},{T:v.E.nE,R:{Ja:"levels",Tf:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{T:v.E.nE,R:{Ja:"levels",Tf:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{T:v.E.nE,R:{Ja:"levels",Tf:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{T:v.E.S,R:{V:v.c.pr,i7:"rcolors"}},{T:v.E.S,R:{V:v.c.pr,i7:"vbitmap"}},{T:v.E.S,R:{V:v.c.pr,i7:"csize"}},{T:v.E.S,R:{V:v.c.pr,i7:"isize"}},{sub:[{T:v.E.nE,R:z.Q.os(!0,90)},{T:v.E.nE,R:z.Q.os(!0,-90)},{T:v.E.nE,R:z.Q.os(!0,-180)},{T:v.E.nE,R:z.Q.os(!1,"Hrzn")},{T:v.E.nE,R:z.Q.os(!1,"Vrtc")}]},{T:v.E.u,s:z.Ke,R:{V:"cropbysel",aoe:0}},{T:v.E.S,R:{V:v.c.pr,i7:"trim"}},{T:v.E.nE,R:{Ja:"revealAll",Tf:{classID:"RvlA"}}},{T:v.E.u,s:z.T_,R:{V:"start",_w:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],oZ:[F,N,r.xy]},{name:[0,4]},{name:[1,16,0],kV:!0},{name:[1,16,3],kV:!0,At:!0},{name:[6,49,0],oZ:[N,r.Qy]},{name:[6,49,1],oZ:[F,N,r.Qy],I:function(Y){return{I:Y!=null&&Y.$!=null&&Y.VT(!1)}}}]},{name:[6,0],I:m,oZ:[N,r.Qy]},{name:[11,4],I:m},{name:[5,4],I:m,At:!0},{name:[11,6],At:!0,I:m,sub:eY.Ud(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],At:!0,sub:eY.ap0()},{name:[6,2],sub:[{name:[6,4],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()==null}}},{name:[6,5,0],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()==null}}},{name:[6,5,1],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()==null&&Y.$!=null}}},{name:[6,5,2],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()==null&&Y.$!=null}}},{name:[6,5,3],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()==null}},At:!0},{name:[5,4],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()!=null}}},{name:[5,8],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()!=null&&Y.VT(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].$n()!=null}}}]},{name:[6,3],sub:[{name:[6,4],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].add.vmsk==null}}},{name:[6,5,0],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].add.vmsk==null}}},{name:"Current Path",I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].add.vmsk==null}},At:!0},{name:[5,4],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],I:function(Y){return{I:Y!=null&&Y.w.length!=0&&Y.g[Y.w[0]].add.vmsk!=null}}}]},jP.alK(!0),{name:[6,7,1],At:!0,sub:[{name:[6,7,0]},{name:[6,36,4],I:O,sub:e},{name:[1,0],I:O,At:!0},{name:"Turn into JPG"}]},{name:[6,8],I:jP.ai5},{name:[6,34],At:!0,I:function(Y){if(Y==null||Y.w.length==0)return{I:!1};
var D=Y.g[Y.w[0]];return{I:D.add.lmfx!=null&&!D.zv()}}},{name:[6,9],At:!0,oZ:[N,r.DA]},{name:[6,55],At:!0,sub:[{name:[6,56,0],oZ:[F,N,r.kx]},{name:[6,56,1],oZ:[N,r.kx]},{name:[6,56,2],oZ:[N,r.RZ]},{name:[6,56,3],oZ:[F,N,r.RZ]}]},{name:[6,58],At:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],oZ:[N,r.E],I:function(Y){var D=Y==null?0:Y.w.length;
return{I:D!=0,Pa:ab.get(D>1||D==1&&Y.g[Y.w[0]].zv()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],in:[{sub:[{T:v.E.u,s:z.j7,R:{V:C.vZ}},{T:v.E.u,s:z.j7,R:{V:C.Ex}},{T:v.E.S,R:{V:v.c.pr,i7:"newartb",j4:0}},{T:v.E.S,R:{V:v.c.pr,i7:"newartb",j4:1}},{T:v.E.nE,R:{Ja:"copyToLayer"}},{T:v.E.nE,R:{Ja:"cutToLayer"}}]},{T:v.E.u,s:z.j7,R:{V:C.y7}},{T:v.E.S,R:{V:v.c.pr,i7:"duplinto"}},{T:v.E.u,s:z.j7,R:{V:C.wn}},{sub:eY.H8(!0)},{sub:[{T:v.E.u,s:z.Dr,R:{V:"newfill",dn:0}},{T:v.E.nE,R:z.XE.eq(1)},{T:v.E.nE,R:z.XE.eq(2)}]},{sub:eY.vC()},{sub:[{T:v.E.u,s:z.j7,R:{V:C.h1,j4:"RvlA"}},{T:v.E.u,s:z.j7,R:{V:C.h1,j4:"HdAl"}},{T:v.E.u,s:z.j7,R:{V:C.h1,j4:"RvlS"}},{T:v.E.u,s:z.j7,R:{V:C.h1,j4:"HdSl"}},{T:v.E.u,s:z.j7,R:{V:C.h1,j4:"Trns"}},{T:v.E.u,s:z.j7,R:{V:C.nV}},{T:v.E.u,s:z.j7,R:{V:C.rN}},{T:v.E.u,s:z.j7,R:{V:C.yh}}]},{sub:[{T:v.E.u,s:z.j7,R:{V:C.fr,a08:!1}},{T:v.E.u,s:z.j7,R:{V:C.fr,a08:!0}},{T:v.E.u,s:z.j7,R:{V:C.fr,aqH:!0}},{T:v.E.u,s:z.j7,R:{V:C.Ix}},{T:v.E.u,s:z.j7,R:{V:C.W6}}]},{T:v.E.u,s:z.j7,R:{V:C.r1}},{sub:[{T:v.E.nE,R:{Ja:"newPlacedLayer"}},{sub:P},{T:v.E.nE,R:{Ja:"placedLayerEditContents",Tf:{classID:"placedLayerEditContents"}}},{T:v.E.u,s:z.j7,R:{V:C.ah4}}]},{T:v.E.nE,R:{Ja:"rasterizeLayer",Tf:{classID:"rasterizeLayer",null:fq.IT("Lyr",!0)}}},{T:v.E.u,s:z.j7,R:{V:C.y5}},{T:v.E.u,s:z.j7,R:{V:C.BZ}},{sub:[{T:v.E.u,s:z.j7,R:{V:C.Q_,bT:0}},{T:v.E.u,s:z.j7,R:{V:C.Q_,bT:1}},{T:v.E.u,s:z.j7,R:{V:C.Q_,bT:2}},{T:v.E.u,s:z.j7,R:{V:C.Q_,bT:3}}]},{sub:[{T:v.E.u,s:z.j7,R:{V:C.EF,bT:"makeframes"}},{T:v.E.u,s:z.j7,R:{V:C.EF,bT:"unmakeframes"}},{T:v.E.u,s:z.j7,R:{V:C.EF,bT:"merge"}}]},{T:v.E.nE,R:{Ja:"mergeLayersNew",Tf:{__name:"Merge Layers",classID:"Mrg2"}}},{T:v.E.nE,R:{Ja:"flattenImage"}},{T:v.E.u,s:z.dX,R:{V:"start",NM:"defr"}}]},f4.a3E(!1),function(){var Y={name:[0,6],items:[{name:[24,18,4],oZ:[h,N,r.te],At:!0}],in:[{T:v.E.u,s:z.dX,R:{V:"applylast"}}]};
for(var R=0;R<df.eC.length;R++){var D=df.eC[R];if(D.PL!=null){Y.items.push({name:df.names[D.PL],kV:!0,At:D.At});
Y.in.push({T:v.E.u,s:z.dX,R:{V:"start",NM:D.PL}});continue}var c={name:D.vS,sub:[]};Y.items.push(c);
var o={sub:[]};Y.in.push(o);for(var H=0;H<D.eE.length;H++){var x={name:df.names[D.eE[H]],kV:df.T$(D.eE[H])!=null};
c.sub.push(x);var Q={T:v.E.u,s:z.dX,R:{V:"start",NM:D.eE[H]}};o.sub.push(Q)}}return Y}(),{name:[0,7],items:[{name:[8,0],oZ:[N,r.nL]},{name:[8,1],oZ:[N,r.MO]},{name:[20,3],oZ:[N,r.nw]},{name:[20,2],oZ:[N,r.B$],At:!0},{name:"Screen Mode",At:!0,sub:[{name:"Fullscreen",I:function(Y,D){return{Vs:document.fullscreenElement!=null}},At:!0},{name:"Standard",I:function(Y,D){return{Vs:D.ns==0}}},{name:"Menu Bar and Canvas",I:function(Y,D){return{Vs:D.ns==1}}}]},{name:[8,13],oZ:[N,r._R],I:function(Y,D){return{Vs:D.Xw}}},{name:[8,12],At:!0,sub:[{name:[17,2],I:function(Y,D){return{I:D.Xw,Vs:D.ec.ao}}},{name:[8,9],I:function(Y,D){return{I:D.Xw,Vs:D.ec.N$}}},{name:[8,2],I:function(Y,D){return{I:D.Xw,Vs:D.ec.a_}},oZ:[N,r.Hd]},{name:[8,4],I:function(Y,D){return{I:D.Xw,Vs:D.ec.Z5}},oZ:[N,r.Aa]},{name:[8,8],I:function(Y,D){return{I:D.Xw,Vs:D.ec.br}}},{name:[8,11,0],I:function(Y,D){return{I:D.Xw,Vs:D.ec.Zf}}}]},{name:[8,3],I:function(Y,D){return{Vs:D.r0}},oZ:[N,r.A4],At:!0},{name:[8,5],I:function(Y,D){return{Vs:D.zD}}},{name:[8,6],At:!0,sub:[{name:[8,2],I:function(Y,D){return{Vs:D.PZ[0]}}},{name:[8,4],I:function(Y,D){return{Vs:D.PZ[1]}}},{name:[9,1],I:function(Y,D){return{Vs:D.PZ[2]}}},{name:[8,11,0],I:function(Y,D){return{Vs:D.PZ[3]}}},{name:[8,7],I:function(Y,D){return{Vs:D.PZ[4]}}}]},{name:[11,15,2],I:function(Y,D){return{I:Y!=null,Vs:Y!=null&&Y.yr}}},{name:[11,15,0],I:function(Y,D){return{I:Y!=null}}},{name:[11,14],I:function(Y,D){return{I:Y!=null}},kV:!0},{name:[11,15,1],I:function(Y,D){return{I:Y!=null&&Y.w.length!=0}},At:!0},{name:[8,11,2],I:function(Y,D){return{I:Y!=null&&Y.Zf.length!=0}}}],in:[{T:v.E.u,s:z.x0,R:{V:"zoom",XS:!0}},{T:v.E.u,s:z.x0,R:{V:"zoom",XS:!1}},{T:v.E.u,s:z.x0,R:{V:"adapt",h:"fitscr"}},{T:v.E.u,s:z.x0,R:{V:"adapt",h:"pixel"}},{sub:[{T:v.E.S,R:{V:v.c.uI,An:!0}},{T:v.E.S,R:{V:v.c.uI,h:0}},{T:v.E.S,R:{V:v.c.uI,h:1}},{T:v.E.S,R:{V:v.c.uI,h:2}}]},{T:v.E.S,R:{V:v.c.nM,Xa:bC.PT}},{sub:[{T:v.E.S,R:{V:v.c.nM,Xa:bC.Oe}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.mC}},{T:v.E.S,R:{V:v.c.nM,Xa:bC._x}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.QE}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.ku}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.Rw}}]},{T:v.E.S,R:{V:v.c.nM,Xa:bC.HZ}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.eY}},{sub:[{T:v.E.S,R:{V:v.c.nM,Xa:bC.Bl,P4:0}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.Bl,P4:1}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.Bl,P4:2}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.Bl,P4:3}},{T:v.E.S,R:{V:v.c.nM,Xa:bC.Bl,P4:4}}]},{T:v.E.u,s:z.FS,R:{V:"lockguides"}},{T:v.E.u,s:z.FS,R:{V:"gids",xj:[[],[]]}},{T:v.E.S,R:{V:v.c.pr,i7:"addguides"}},{T:v.E.u,s:z.FS,R:{V:"gidsFromLayer"}},{T:v.E.u,s:z.eu,R:{V:"deleteAll"}}]},function(){var Y={name:[0,8],items:[{name:[0,14],At:!0,sub:[]}],in:[{sub:[]}]};
for(var R=0;R<c1.oh.length;R++){var D=c1.oh[R],c=function(){var o=D.f3.gR;return function(H,x){return{Vs:x.Fd.indexOf(parseInt(o))!=-1}}}();
(D.bH?Y.items[0].sub:Y.items).push({name:D.f3.name,I:c});(D.bH?Y.in[0].sub:Y.in).push({T:v.E.S,R:{V:v.c.M6,i7:D.f3.gR}})}return Y}(),function(){var Y={name:[0,14],items:[],in:[]},D={name:[0,9],sub:[]};
Y.items.push(D);var c={sub:[]};Y.in.push(c);var o=ab.a3z();for(var R=0;R<o.length;R++){var H=o[R],x=H.code,Q=ab.yf(x);
D.sub.push({name:H.name,oZ:x,I:function(U,I){return{Vs:this.oZ==ab.qr()}}});c.sub.push({T:v.E.S,R:{V:v.c.nM,Xa:bC.WE,lang:Q}})}D.sub.push({name:[0,12]});
c.sub.push({T:v.E.S,R:{V:v.c.lz,link:"https://www.photopea.com/translate/"}});var D={name:[0,15],sub:[]};
Y.items.push(D);var c={sub:[]};Y.in.push(c);for(var R=0;R<hi.jo.length;R++){D.sub.push({name:hi.jo[R].name,I:function(U,I){return{Vs:this.name==hi.jo[I.bz].name}}});
c.sub.push({T:v.E.S,R:{V:v.c.nM,Xa:bC.A6,bz:R}})}Y.items.push({name:[0,17,6],I:function(U,I){return{I:I.GX!=null}}});
Y.in.push({T:v.E.S,R:{V:v.c.a1R}});Y.items.push({name:[11,13]});Y.in.push({T:v.E.S,R:{V:v.c.pr,i7:"shortcuts"}});
Y.items.push({name:[0,16],I:function(U){return{Vs:M._X,I:M.n3}},At:!0});Y.in.push({T:v.E.S,R:{V:v.c.a7I}});
Y.items.push({name:"",I:function(U,I){return I.lJ?{Pa:"About Photopea",I:!0}:{Pa:"",I:!1}}});Y.in.push({T:v.E.S,R:{V:v.c.pr,i7:"aboutpp"}});
return Y}()]}();function a4(){jZ.call(this);this.m=W._("div","");this.fI=0;this.iE=0;this.bX=null;this.jR=W._("div","");
this.jR.setAttribute("style","width:200em; height:100em; position:absolute;");this.gE=[];this.N8=[];
this.fZ={}}a4.prototype=new jZ;a4.prototype.rn=function(r){var N=Date.now(),F=[];if(r=="-")F=[new ip,new eL,new dI,new jH,new iX,new dU,new f$,new eU,new e5,new bK,new h0,new jn,new dg,new dv,new dd,new eY,new eC,new hA,new aS,new aw,new f3,new fD,new cj,new fp,new aQ,new fj,new f2(!1),new f2(!0),new ae(0),new ae(1),new bn,new hZ,new en,new hY,new fl,new ho,new bP,new b6,new aj,new ep,new a1,new aW,new ev("border",[7,9],"px"),new ev("smoothness",[19,3,0],"px"),new ev("expand",[7,4],"px"),new ev("contract",[7,5],"px"),new ev("feather",[7,6],"px"),new c5(0,"namewindow",[12,48]),new c5(2,"billto","Bill To"),new c5(1,"cornerradius",[12,94,0],"px",!0,!0),new c5(1,"scaleeffects","Scale Effects","%",!0),new c5(1,"doczoom","Zoom","%",!0)];
else F=[new hm(r.slice(4))];this.agM(F);this.fZ[r]=!0};a4.prototype.agM=function(r){var N=this.bX;for(var R=0;
R<r.length;R++){var F=r[R];F.parent=this;this.N8.push(F);this.Jq(F);F.f();if(N)F.Qr(N,bC.ge);F.U(v.E.zq,this.QN,this)}};
a4.prototype.bh=function(r,N){this.fI=r;this.iE=N;for(var R=0;R<this.N8.length;R++)this.Jq(this.N8[R])};
a4.prototype.f=function(){for(var R=0;R<this.N8.length;R++)this.N8[R].f()};a4.prototype.Wp=function(){return this.gE.length==0?null:this.gE[this.gE.length-1]};
a4.prototype.N7=function(){for(var R=0;R<this.gE.length;R++)if(this.gE[R].N7())return!0;return!1};a4.prototype.ac$=function(r,N,F,h,m){var O=r.startsWith("afw_"),e=null;
if(!O&&!this.fZ["-"])this.rn("-");if(O&&!this.fZ[r])this.rn(r);if(typeof r=="object"){e=r;if(!e.a3K(v.E.zq,this.QN))e.U(v.E.zq,this.QN,this);
e.parent=this}else for(var R=0;R<this.N8.length;R++)if(this.N8[R].id==r)e=this.N8[R];if(this.N7()&&e.N7()){alert("Finish the current action first");
return}if(!e.Nz(N))return;if(this.gE.indexOf(e)!=-1){if(r=="colorpicker")e.w0(N,F,h,m);return}var P=this.gE.length-1;
if(P>=0)W.Ou(this.gE[P].m,"wdisabled");this.m.appendChild(e.m);this.gE.push(e);this.Jq(e);e.w0(N,F,h,m)};
a4.prototype.Jq=function(r){var N=this.fI,F=this.iE,h=r.md(N,F),m;if(h!=null){m=h}else{h=new gS(0,0);
m=r.a82();if(m==null){var O=this.gE.indexOf(r)+1;if(N<450||F<450)m=new gS(0,0);else m=new gS(O*150,O*150)}}r.m.style.left=m.x+"px";
r.m.style.top=this.m.offsetTop+m.y+"px";r.bh(this.fI-h.x*2,this.iE-h.y*2-34)};a4.prototype.Qr=function(r,N){this.bX=r;
for(var R=0;R<this.N8.length;R++)this.N8[R].Qr(r,N)};a4.prototype.QN=function(r){var N=this.gE.pop();
this.m.removeChild(N.m);var F=this.gE.length-1;if(F>=0)W.PV(this.gE[F].m,"wdisabled");if(this.jR.parentNode==this.m)this.m.removeChild(this.jR)};
window.onload=function(){document.body.appendChild(new i7().m)}}())