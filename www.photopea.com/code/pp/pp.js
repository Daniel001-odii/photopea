(function(){var dr={};dr.apG=function(x,z){var A=I.nS[I.ei("%|xK")];if(A==null)return"XYP";var o=x.toString(16).slice(0,4),i=o+z+"aQYRDCB";
return A(i).slice(5,17)+o.split("").reverse().join("")};dr.LG=function(){var x=I.nS[I.y2("3M"+(I.Pi(26)?"]K":"fa"))];
x=x[I.y2("]["+(!I.Pi(28)?",":"`"))];return Math.floor(x()/1e3)};dr.Pi=function(x){var z=0;for(var F=0;
F<x;F++)z+=Math.random();return z/x<Math.PI/4};dr.y2=function(x){var z="";if(!dr.Pi(28))x+="-3";for(var F=0;
F<x.length;F++){var A=x.charCodeAt(F);if(A<32||126<A)throw"e";z+=String.fromCharCode(32+(A-32+17+3*F)%95)}return z};
dr.ei=function(x){var z="";if(!dr.Pi(28))x+="-1";for(var F=0;F<x.length;F++){var A=x.charCodeAt(F);A-=32;
A+=95e4;A-=17+3*F;A=A%95;z+=String.fromCharCode(32+A)}return z};dr.I$=dr.y2("XP");dr.T2=dr.y2("XYP");
dr._M=dr.y2("c[Y");dr.ae$=dr.y2("][`");dr.agx=dr.y2("SU_");dr.yZ=dr.y2("b^L");dr.aqs=dr.y2("61=");dr.Uy=dr.y2("Q[M_");
dr.eR=dr.y2("WQJJ");dr.NM=dr.y2("W^NL");dr.D9=dr.y2("[[JJ");dr.a8=dr.y2("^\\NT");dr.anb=dr.y2("bQUL");
dr.mN=dr.y2("bQWJ");dr.fW=dr.y2("3M]K");dr.apo=dr.y2("<M]N");dr.Ug=dr.y2("][WK");dr.Jh=dr.y2("RXRIN");
dr.p3=dr.y2("b`bRH");dr.vk=dr.y2("fUMZK");dr.aqO=dr.y2("WQRMKT");dr.fz=dr.y2("XR[GPE");dr.ae1=dr.y2("aMWJRM");
dr.a8O=dr.y2("bO[OST");dr.awY=dr.y2("cM[MHT");dr.a1G=dr.y2("^Z5OQE");dr.apB=dr.y2("SU\\VOAV");dr.Um=dr.y2("aQYRDCB");
dr.Sy=dr.y2("[[LGWILH");dr.Rx=dr.y2("S[L[PEKN");dr.vE=dr.y2("aQOKURBL");dr.vp=dr.y2("aQ\\VRNP?");dr.a8I=dr.y2("XZWKU(1'#");
dr.arR=dr.y2("SQLUGE2, ");dr.a0z=dr.y2("]M_OJAQII");dr.q$=dr.y2("bQ]:LMBILH");dr.aqQ=dr.y2("UU[YW#ECC8");
dr.gI=dr.y2("cQaZ&OKN<BE");dr.QQ=dr.y2("P\\YKQD B@@5");dr.Lh=dr.y2("aQVUYE B@@5");dr.pv=dr.y2("bQ]'WTOC9IE3");
dr.a0j=dr.y2("XZ\\KUT~?=CC3");dr.zm=dr.y2("R^NGWE\"F<A6<?");dr.a1n=dr.y2("VQ]+OEJ?EHrGs,");dr.dK=dr.y2("G95.WTM,<EF3><");
dr.C6=dr.y2("PPM+YEKN#=DB06*4");function bJ(x){this.QH={};this.LU=0;this.qf();if(x!=!0)window.__kb=this}bJ.$V=null;
bJ.prototype.qf=function(){var x=navigator.keyboard;if(x&&window.top==window.self)x.getLayoutMap().then(function(z){bJ.$V=z})};
bJ.prototype.ajZ=function(x){var z={shiftKey:bJ.xb,altKey:bJ.yU,ctrlKey:bJ.RI};for(var A in z){var o=x[A],i=z[A],L=this.A(i);
if(!o&&L){for(var F=0;F<i.WP.length;F++)this.eU(i.WP[F])}}};bJ.prototype.r4=function(x){this.LU++;this.QH[x]=!0};
bJ.prototype.eU=function(x){this.LU--;delete this.QH[x];if(this.LU<=0||bJ.gY(x,bJ.Aa))this.reset()};
bJ.prototype.A=function(x){for(var F=0;F<x.WP.length;F++)if(this.QH[x.WP[F]])return!0;return!1};bJ.prototype.reset=function(){this.QH={};
this.LU=0};bJ.prototype.u0=function(){var x=this,z=x.A(bJ.xb)?10:1,A=0,o=0;if(x.A(bJ.Mj))A=-z;if(x.A(bJ.vH))A=z;
if(x.A(bJ.ci))o=-z;if(x.A(bJ.ZG))o=z;return new iL(A,o)};bJ.prototype.bN=function(){var x=this,z=bJ.E$;
for(var F=0;F<10;F++)if(x.A(z[F]))return F;return-1};bJ.gY=function(x,z){return z.WP.indexOf(x)!=-1};
bJ.aoY="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
bJ.pK=function(x){var z=x.code;if(z=="")return!1;var A=bJ.gY;if(x.altKey&&!x.shiftKey&&!x.ctrlKey){var o=bJ.E$.concat([bJ.Xr,bJ.On,bJ.w3,bJ.w2]),i=!1;
for(var F=0;F<o.length;F++)if(A(z,o[F]))return!1}return bJ.aoY.indexOf(z)==-1||x.shiftKey&&(z=="F5"||z=="F6")};
bJ.ew=function(x){if(typeof x=="string")return x;var z=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(x==null)return"";var A=[];for(var F=0;F<x.length;F++){var o=x[F].i_?x[F].i_:x[F];if(z&&x[F].SY)o=x[F].SY;
A.push(o)}if(z||A.length==1)return A.join(" + ");else{var i=A.pop();return A.join("+")+" + "+i}};bJ.xP=function(x){window.__kb.qf();
var z=x.code,A=bJ.$V;if(A&&A.get(z)){var o={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},i=A.get(z).toLowerCase(),L=i.charCodeAt(0);
if(97<=L&&L<=122){var B="Key"+i.toUpperCase();z=B}else if(o[i])z=o[i];return z}var o={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},i=x.key.toLowerCase(),L=i.charCodeAt(0);
if(i.length==1){if(97<=L&&L<=122){var B="Key"+i.toUpperCase();z=B}else if(o[i])z=o[i]}if(i=="control"&&z!="")z="ControlLeft";
return z};bJ.F0=0;bJ.pr=function(x,z){var A=0;if(Date.now()-bJ.F0>1e3){A=z==0?100:z*10}else{if(x%10!=0)x*=10;
A=(x+z)%100}bJ.F0=Date.now();return A};bJ.agY={nm:"No Touch",WP:["NoTouch"]};bJ.oN={i_:"Enter",WP:["Enter","NumpadEnter"]};
bJ.xb={i_:"Shift",SY:"\u21E7",WP:["ShiftLeft","ShiftRight"]};bJ.Aa={i_:"Meta",WP:["MetaLeft","MetaRight","OSLeft","OSRight"]};
bJ.RI={i_:"Ctrl",SY:"\u2318",WP:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
bJ.yU={i_:"Alt",SY:"\u2325",WP:["AltLeft","AltRight"]};bJ.acX={i_:"CtrlOrAlt",WP:bJ.RI.WP.concat(bJ.yU.WP)};
bJ.dw={i_:"Escape",WP:["Escape"]};bJ.aU={i_:"Space",WP:["Space"]};bJ.MT={i_:"Tab",WP:["Tab"]};bJ.qC={i_:"Home",WP:["Home"]};
bJ.arn={i_:"End",WP:["End"]};bJ.Mj={i_:"Left",WP:["ArrowLeft"]};bJ.ci={i_:"Up",WP:["ArrowUp"]};bJ.vH={i_:"Right",WP:["ArrowRight"]};
bJ.ZG={i_:"Down",WP:["ArrowDown"]};bJ.Xr={i_:"+",WP:["NumpadAdd","Equal"]};bJ.On={i_:"-",WP:["NumpadSubtract","Minus"]};
bJ.cu={i_:";",WP:["Semicolon"]};bJ.aln={i_:"Dead",WP:["Dead"]};bJ.aft={i_:"=",WP:["Equal"]};bJ.Bo={i_:"Backspace",WP:["Backspace"]};
bJ.BC={i_:"Delete",WP:["Delete"]};bJ.a6S={i_:"Backslash",WP:["Backslash","IntlBackslash"]};bJ.awJ={i_:"Slash",WP:["NumpadDivide","Slash"]};
bJ.atx={i_:"Backquote",WP:["Backquote"]};bJ.w3={i_:"[",WP:["BracketLeft"]};bJ.w2={i_:"]",WP:["BracketRight"]};
bJ.HY={i_:".",WP:["Period"]};bJ.lV={i_:",",WP:["Comma"]};bJ.nh={i_:"'",WP:["Quote"]};bJ.U={i_:"A",WP:["KeyA"]};
bJ.Hu={i_:"B",WP:["KeyB"]};bJ.aD={i_:"C",WP:["KeyC"]};bJ.UI={i_:"D",WP:["KeyD"]};bJ.E={i_:"E",WP:["KeyE"]};
bJ.ue={i_:"F",WP:["KeyF"]};bJ.jL={i_:"G",WP:["KeyG"]};bJ.Ao={i_:"H",WP:["KeyH"]};bJ.Ti={i_:"I",WP:["KeyI"]};
bJ.Om={i_:"J",WP:["KeyJ"]};bJ.c_={i_:"K",WP:["KeyK"]};bJ.KI={i_:"L",WP:["KeyL"]};bJ.Iv={i_:"M",WP:["KeyM"]};
bJ.ki={i_:"N",WP:["KeyN"]};bJ.Z_={i_:"O",WP:["KeyO"]};bJ.nA={i_:"P",WP:["KeyP"]};bJ.gi={i_:"Q",WP:["KeyQ"]};
bJ.SU={i_:"R",WP:["KeyR"]};bJ.kb={i_:"S",WP:["KeyS"]};bJ.AT={i_:"T",WP:["KeyT"]};bJ.yt={i_:"U",WP:["KeyU"]};
bJ.fn={i_:"V",WP:["KeyV"]};bJ.OE={i_:"W",WP:["KeyW"]};bJ.k5={i_:"X",WP:["KeyX"]};bJ.asX={i_:"Y",WP:["KeyY"]};
bJ.CK={i_:"Z",WP:["KeyZ"]};bJ._O={i_:"0",WP:["Numpad0","Digit0"]};bJ.UH={i_:"1",WP:["Numpad1","Digit1"]};
bJ.a5x={i_:"2",WP:["Numpad2","Digit2"]};bJ.apy={i_:"3",WP:["Numpad3","Digit3"]};bJ.akc={i_:"4",WP:["Numpad4","Digit4"]};
bJ.a1k={i_:"5",WP:["Numpad5","Digit5"]};bJ.am7={i_:"6",WP:["Numpad6","Digit6"]};bJ.amU={i_:"7",WP:["Numpad7","Digit7"]};
bJ.awK={i_:"8",WP:["Numpad8","Digit8"]};bJ.aot={i_:"9",WP:["Numpad9","Digit9"]};bJ.E$=[bJ._O,bJ.UH,bJ.a5x,bJ.apy,bJ.akc,bJ.a1k,bJ.am7,bJ.amU,bJ.awK,bJ.aot];
bJ.alf={i_:"F1",WP:["F1"]};bJ.a6H={i_:"F2",WP:["F2"]};bJ.ajN={i_:"F3",WP:["F3"]};bJ.a9R={i_:"FF",WP:["F4"]};
bJ.Ez={i_:"F5",WP:["F5"]};bJ.ar2={i_:"F6",WP:["F6"]};bJ.ast={i_:"F7",WP:["F7"]};bJ.a1s={i_:"F8",WP:["F8"]};
bJ.ars={i_:"F9",WP:["F9"]};bJ.alK={i_:"F10",WP:["F10"]};bJ.a3a={i_:"F11",WP:["F11"]};bJ.av6={i_:"F12",WP:["F12"]};
function j2(x){d6.call(this);this.L$={};this.go={};this.aeW=0;this.a34={};this.$Q=[];this.adk=0;this.D9=x;
j2.Rw=this}j2.adV=function(x,z){var F=0,A=j2.Uz;while(F<A.length){if((z>>>F&1)==1)break;F++}if(z==0||A[F][1]==""){if((z&15)!=0&&j2.CL(x,[33,126])>.7)F=0;
else if(z==0)F=0;else{F=0}}return A[F][1]};j2.Dl=120;j2.BQ=20;j2.cols=16;j2.$l=function(x){var z=x.name.postScriptName;
if(z==null)return null;return z.replace(/ /g,"-")};j2.TP=function(x){var z=x.name,A=z.typoFamilyName?z.typoFamilyName:z.fontFamily,o=z.typoSubfamilyName?z.typoSubfamilyName:z.fontSubfamily;
if(o==null)o="Regular";var i=j2.aas,L=A.toLowerCase();for(var F=0;F<i.length;F++){if(i[F]=="roman")continue;
if(L.endsWith(" "+i[F])||L.endsWith("-"+i[F])){var B=A.length-i[F].length,D=A.slice(B);A=A.slice(0,B-1);
if(D!=""){if(o=="Regular"||o==A+" Regular")o=D;else o=D+" "+o}break}}var Z="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var F=0;F<Z.length;F++)if(A.startsWith(Z[F])){var D=A.slice(Z[F].length);A=Z[F];if(D.startsWith(" ")||D.startsWith("-"))D=D.slice(1);
if(D!=""){if(o=="Regular")o=D;else o=D+" "+o}break}var j={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},a=j[j2.$l(x)];
if(a)o=a;return[A,o]};j2.prototype.anr=function(x){var z=this.Bg();for(var A in z)if(z[A][0]==x)this.iY(A)};
j2.prototype.iY=function(x,z){if(this.L$[x])return this.L$[x];if(this.go[x])return null;var A=null,o=this.Bg();
if(o[x]!=null)A=o[x][5];if(A==null){var i=j2.Um[x];if(i==null){var L="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),B=x.toLowerCase(),D=0;
if(B.indexOf("sans")!=-1)D=0;else if(B.indexOf("serif")!=-1)D=4;var Z=B.indexOf("bold")!=-1||B.indexOf("-black")!=-1,j=B.indexOf("italic")!=-1||B.indexOf("oblique")!=-1||B.endsWith("-it");
if(Z&&j)D+=3;else if(j)D+=2;else if(Z)D+=1;i=L[D]}if(z!=null&&z>128)i=this.Kv(z,i);if(this.a34[x]==null){this.a34[x]=1;
var a=Date.now()-this.aeW>2e3?2e3:0;this.aeW=Date.now();alert(x+" \u27A1 "+i,a)}return this.iY(i,z)}this.go[x]="a";
this.D9(A)};j2.prototype.Kv=function(x,z,A){var o=this.L$[z];if(o&&Typr.U.codeToGlyph(o,x)!=0)return z;
var i=this.Bg(),L=j2.ak2(x),B=L[0];if(i[z]&&(i[z][3]&B)==0){if(A)for(var F=0;F<A.length;F++){var D=A[F].Name,Z=i[D];
if(Z&&(Z[3]&B)!=0)return D}var D=j2.Uz[L[1]][4];if(i[D])return D}return z};j2.ak2=function(x){var z=j2.Uz,A=[0];
for(var F=0;F<z.length;F++){var o=z[F][2];for(var i=0;i<o.length;i+=2)if(o[i]<=x&&x<=o[i+1]){A[0]+=1<<F;
A.push(F)}}if(A.length==1)A.push(0);return A};j2.prototype.ap0=function(){var x=this.$Q,z=x[0],A=x.length-1;
alert(kc.get([22,6,0])+" "+z+(A==0?"":", ... ("+A+")")+" "+kc.get([23,0])+".",1500);this.$Q=[]};j2.prototype.amX=function(x,z){if(z!=!0){this.$Q.push(x.name.fullName);
clearTimeout(this.adk);this.adk=setTimeout(this.ap0.bind(this),300)}var A=j2.$l(x),o=this.Bg(),i=o[A],L=j2.a38(x);
if(i==null){var B=document.createElement("canvas"),D=B.getContext("2d");B.width=j2.Dl;B.height=j2.BQ;
var Z=j2.BQ*1.2/x.head.unitsPerEm;D.translate(4,j2.BQ*.9);D.scale(Z,-Z);D.fillStyle="#000000";var j=Typr.U.shape(x,j2.adV(x,L[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(x,j),D);D.fill();L.apF=B.toDataURL();this.ai(L)}delete this.go[A];
this.L$[A]=x};j2.akk=function(){var x=j2.Uz,z=[];for(var F=0;F<x.length;F++)z.push(x[F][0]);return z};
j2.Uz=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
j2.a38=function(x,z,A){var o=x.name,Z=0;if(j2.$l(x)==null){console.log(x);throw"No postScriptName!"}var i=j2.Uz,L=[];
for(var F=0;F<i.length;F++){var B=i[F][2],D=i[F][3];L[F]=j2.CL(x,B)>D?1:0}for(var F=0;F<L.length;F++)Z+=L[F]<<F;
var j=j2.TP(x);return[j[0],j[1],j2.$l(x),Z,A,z]};j2.CL=function(x,z){var A=0,o=0;for(var i=0;i<z.length;
i+=2){for(var L=z[i];L<=z[i+1];L++){var B=Typr.U.codeToGlyph(x,L);if(B==0)o++;else A++}}return A/(A+o)};
j2.abV=function(x,z){if(x[2]<z[2])return-1;if(x[2]>z[2])return 1;return 0};j2.abn=function(x,z){if(x[5]=="fs/"+x[2]+".otf")x[5]="";
else if(x[5]=="gf/"+x[2]+".otf")x[5]="a";if(x[2]==(x[0]+"-"+x[1]).replace(/\s/g,"")){x[2]=""}else if(x[2]==x[0].replace(/\s/g,"")){x[2]="a"}if(z){if(x[0]==z[0])x[0]="";
if(x[1]==z[1])x[1]="";if(x[3]==z[3])x[3]="";if(x[4]==z[4])x[4]=""}return x.join(",")};j2.aeD=function(x,z){x=x.split(",");
if(x[0]=="")x[0]=z[0];if(x[1]=="")x[1]=z[1];if(x[3]=="")x[3]=z[3];else x[3]=parseInt(x[3]);if(x[4]=="")x[4]=z[4];
else x[4]=parseInt(x[4]);if(x[2]=="")x[2]=(x[0]+"-"+x[1]).replace(/\s/g,"");else if(x[2]=="a")x[2]=x[0].replace(/\s/g,"");
if(x[5]=="")x[5]="fs/"+x[2]+".otf";else if(x[5]=="a")x[5]="gf/"+x[2]+".otf";return x};j2.Um={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
j2.prototype.Bg=function(){if(FNTS.map==null){var x=FNTS.list,z=[];for(var F=0;F<x.length;F++){z[F]=j2.aeD(x[F],z[F-1]);
z[F].dD=F;this.ai(z[F])}}return FNTS.map};j2.prototype.ai=function(x){var z=x[0],A=x[1],o=x[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[x[2]]=x;if(FNTS.mapFS==null)FNTS.mapFS={};var i=FNTS.mapFS[z+"---"+A];FNTS.mapFS[z+"---"+A]=x;
if(FNTS.mapSub==null)FNTS.mapSub={};var L=FNTS.mapSub[z];if(L==null)L=FNTS.mapSub[z]=[];var B=L.indexOf(A);
if(B==-1)L.push(A);else L[B]=A};j2.an9=function(x,z){return j2._x(x)-j2._x(z)};j2._x=function(x){x=x.toLowerCase();
var z=j2.alR(x)+(j2.a3H(x)<<1);if(x.indexOf("cond")==-1)z+=1<<25;return z};j2.alR=function(x){return x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1?1:0};
j2.aas="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
j2.abx=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
j2.a3H=function(x){var z=j2.abx,A=-1,o=-1;for(var F=0;F<z.length;F++){var i=z[F];if(i instanceof Array)for(var L=0;
L<i.length;L++){var B=i[L];if(x.indexOf(B)!=-1&&(A==-1||o<B.length)){A=F;o=B.length}}else if(x.indexOf(i)!=-1&&(A==-1||o<i.length)){A=F;
o=i.length}}if(A==-1)A=8;return A};j2.Y2=function(x,z){var A=1e9,o=null,i=j2._x(z);for(var F=0;F<x.length;
F++){var L=Math.abs(j2._x(x[F])-i);if(L<A){A=L;o=x[F]}}return o};j2.prototype.PS=function(x,z){this.Bg();
return FNTS.mapFS[x+"---"+z]};j2.prototype.Zp=function(x){this.Bg();return FNTS.mapSub[x]};j2.prototype.rv=function(){this.Bg();
return FNTS.mapSub};var eP={Sm:0,tP:null,VE:null,xG:null,Ie:null,hF:null,_S:!0,W9:0,Nd:!1};eP.event=function(x){var z=new XMLHttpRequest;
z.open("GET","/papi/event.php?id="+x+"&rnd="+Math.random());z.send()};eP.sv=function(){var x=eP.Ai();
if(x==null)return null;var z=I.Pi(24)?" ":"",A=I.nS[I.ei("Uu,"+z)];A=A[I.ei(z+"$/")];var o=eP.mM(1,999);
if(o&&eP.Bi(o)*50>A()/20)return[0,o];var i=x.inTeams;if(i)for(var F=0;F<i.length;F++)if(i[F][1]*50>A()/20)return[1,i[F]];
return null};eP.hO=function(){return eP.avD()!=null};eP.fp=function(){return eP.Bi(eP.mM(1e3,999999999))};
eP.Bi=function(x){return x==null?0:x[0]+x[1]*24*60*60};eP.mM=function(x,z){var A=eP.Ai(),o=A.pmnts,i=0,L=null;
if(o==null||o.length==0)return 0;for(var F=0;F<o.length;F++){var B=o[F],D=eP.Bi(B);if(x<=B[2]&&B[2]<=z)if(i<D){i=D;
L=B}}return L};eP.Ai=function(){return eP.hF};eP.m7=function(x){window.addEventListener("message",eP.atG,!1);
setInterval(eP.DZ,5e3);if(eP.hO()&&navigator.onLine){eP.tP=x;eP.Q5()}else setTimeout(x,1)};eP.DZ=function(){if(eP.hO()&&eP.Nd){eP.eg(eP.oA());
eP.Nd=!1}};eP.hH=function(x){eP.tP=x;var z="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
eP.xG=window.open(z,"_blank")};eP.asY=function(){localStorage.removeItem(eP.Sm+"_uid");localStorage.removeItem(eP.Sm+"_provider");
localStorage.removeItem(eP.Sm+"_token");eP.hF=null};eP.atG=function(x){if(x.data instanceof ArrayBuffer||x.data instanceof Object)return;
if(x.data.charAt(0)!="{")return;var z=JSON.parse(x.data);if(z.prms==null)return;var A=z.prms.split(",");
if(A[0]=="papi_logged_in"){localStorage[eP.Sm+"_uid"]=A[1];eP.st(A[2]);localStorage[eP.Sm+"_provider"]=A[3];
eP.xG.close();eP.Q5()}if(A[0]=="payment_complete"){eP.Ie.close();eP.Q5()}};eP.avD=function(){var x=localStorage[eP.Sm+"_token"];
if(x!=null&&Date.now()*.001+10<parseInt(x.split("-")[0]))return x;return null};eP.st=function(x){var z=localStorage[eP.Sm+"_token"];
if(z!=null&&parseInt(x.split("-")[0])<parseInt(z.split("-")[0]))return;localStorage[eP.Sm+"_token"]=x;
clearTimeout(eP.W9);eP.W9=setTimeout(eP.afS,Math.min(1e9,parseInt(x.split("-")[0])*1e3-Date.now()-20*1e3))};
eP.afS=function(){if(!navigator.onLine)throw"a";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=eP.ab_;var z=eP.qq(0)+"&read=2";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(z)};eP.Q5=function(){if(!navigator.onLine)throw"b";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=eP.a6f;var z=eP.qq(0)+"&read=1";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(z)};eP.eg=function(x){if(!navigator.onLine)throw"c";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=eP.agJ;var A=eP.qq(0)+"&read=0&score="+(x.tpl?1:0)+"&spublic="+eP._S+"&record="+encodeURIComponent(JSON.stringify(x));
z.setRequestHeader("Content-type","application/x-www-form-urlencoded");z.send(A)};eP.a6f=function(x){var z=JSON.parse(x.target.response);
if(z.error){}else{eP.hF=z.user;var A=eP.oA(),o=z.record;if(z.record){eP._S=z.spublic;eP.PT(o)}else if(A)eP.eg(A)}eP.st(z.token);
if(eP.tP){eP.tP();eP.tP=null}if(eP.VE){eP.VE();eP.VE=null}};eP.ab_=function(x){var z=JSON.parse(x.target.response);
eP.st(z.token)};eP.agJ=function(x){var z=JSON.parse(x.target.response);eP.st(z.token);if(eP.VE)eP.Q5()};
eP.qq=function(x){return"app="+x+"&uid="+localStorage[eP.Sm+"_uid"]+"&token="+localStorage[eP.Sm+"_token"]};
eP.MG=function(){return eP.oA()};eP.rb=function(x,z){eP.PT(x);eP.Nd=!0;if(z){eP.VE=z;eP.DZ()}};eP.oA=function(){var x=localStorage[eP.Sm+"_stateLocal"],z;
if(x==null)return null;try{z=JSON.parse(x)}catch(kc){return null}return z};eP.PT=function(x){var z=JSON.stringify(x);
localStorage[eP.Sm+"_stateLocal"]=z};eP.order=function(x,z,A){eP.tP=A;var o="https://www.photopea.com/papi/order.php?ptype="+z+"&param="+x+"&uid="+localStorage[eP.Sm+"_uid"]+"&token="+localStorage[eP.Sm+"_token"];
eP.Ie=window.open(o,"_blank")};eP.alN=function(x,z){eP.tP=z;var A="https://www.photopea.com/papi/insertKey.php?key="+x+"&uid="+localStorage[eP.Sm+"_uid"]+"&token="+localStorage[eP.Sm+"_token"];
eP.Ie=window.open(A,"_blank")};var kc={};kc.aL=0;kc.sM={};kc.LP=function(x){var z=LNG.tables,A=z[x];
if(A==null)A=z[0];if(typeof A=="string"){A=z[x]=kc.hZ(A)}return A};kc.hZ=function(x){var z=[],A=0,o=0,i=[],L=x.length;
while(o!=L){var B=x[o];if(B=="["){z.push(i);i=[];o=A=o+1}else if(B=="]"){i.push(A==o?null:x.substring(A,o));
var D=i;i=z.pop();i.push(D);o=A=o+1}else if(B==";"){if(x[o-1]!="]")i.push(A==o?null:x.substring(A,o));
o=A=o+1}else o++}return i};kc.get=function(x){if(typeof x=="string")return x;var z=typeof x[0];if(z=="number"){for(var F=1;
F<x.length;F++)if(typeof x[F]!="number"){console.log(x);throw"e"}return kc.apd(x)}var A=kc.get(x[0]);
for(var F=1;F<x.length;F++){var o=kc.get(x[F]),i=A.indexOf("VAR"+(F-1));A=A.slice(0,i)+o+A.slice(i+4)}return A};
kc.apd=function(x){var z=JSON.stringify(x);if(kc.sM[z]!=null)return kc.sM[z];var A=kc.LP(0),o=kc.LP(kc.aL),i=kc.Oo(x,o);
if(i==null)i=kc.Oo(x,A);return i};kc.Oo=function(x,z){for(var F=0;F<x.length;F++){z=z[x[F]];if(z==null)return null;
else if(typeof z=="string")break}if(z instanceof Array)z=z[0];return z.split("::")[0]};kc.am2=function(){var x=function(A,o){var i=A.code,L=o.code;
if(i=="en")return-1;if(L=="en")return 1;var B=navigator.languages,D=B.indexOf(i)!=-1,Z=B.indexOf(L)!=-1;
if(D&&Z)return i>L?1:-1;if(D)return-1;if(Z)return 1;return i>L?1:-1},z=LNG.langs.slice(0);z.sort(x);
return z};kc.Qa=function(x,z){kc.aL=x;if(LNG.tables[x])z();else{var A=new XMLHttpRequest;A.open("GET","code/lang/"+x+".js");
A.onreadystatechange=function(){LNG.tables[x]=A.responseText;z()};A.send()}};kc.SK=function(x,z){for(var A=0;
A<2;A++){var o=!1;for(var F=0;F<LNG.langs.length;F++)if(LNG.langs[F].code==x){kc.Qa(F,z);o=!0}if(o)break;
x=x.split("-")[0]}};kc.gl=function(){return LNG.langs[kc.aL].code};kc.a6s=function(x){for(var F=0;F<x.length;
F+=2)if(x[F+1].indexOf(">")==-1)kc.sM[JSON.stringify(x[F])]=x[F+1]};kc.aeZ=function(x){var z=-1,A=LNG.langs;
for(var F=0;F<A.length;F++)if(A[F].code==x)z=F;return z};var bf={MS:!1,sT:!1,kE:!1};bf.w$=function(){return I.nS[dr._M]!=I.nS[dr.anb]};
bf.V7=function(){var x=I.nS[dr.Rx],z=x[dr.Uy],A=0,o=dr.pv,i=I.y2("PP\\KQSB"),L=I.y2("Y_5UDDB>idge"),B=x[dr.zm](dr.agx);
B[o](dr.I$,i);B[o](dr.p3,I.y2("fUMZKyqifDIhJ0*+&$-OG?<y~>"));z[dr.QQ](B);B=x[dr.a1n](i);if(B==null){A=2}else{if(!z[I.y2("R[WZDIKM")](B)){A=3}else if(Math.round(B[I.y2("VQ](RUK>@B8p71*03m}x'")]()[dr.vk]-500)>5){A=4}z[dr.Lh](B)}if(bf.sT)A=5;
if(bf.kE)A=6;return A};bf.adf=function(x){var z=I.ei("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),A={method:"HEAD",mode:"no-cors"},o=new Request(z,A);
fetch(o).then(function(i){return i}).then(function(i){var L=I.ei("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),o=new Request(L,A);
fetch(o).then(function(i){return i}).then(function(i){x(!1)}).catch(function(B){bf.sT=!0;console.clear();
x(!0)})}).catch(function(i){bf.sT=!0;console.clear();x(!0)})};bf.abv=function(){var x=I.y2("UU[YW#ECC8"),z=I.y2("VQ](RUK>@B8p71*03m}x'"),A=I.y2("WQRMKT"),o=this.a7F[x][z]();
if(o[A]<4){bf.kE=!0;this.a8e(!0)}};bf.a22=function(){var x=I.nS._cwY,z=I.nS[dr.q$],A="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",o=String.fromCharCode(32);
x(I.y2(A)+o+o+bf.V7());if(!eP.sv())z(bf.a22,Math.round(Math.PI*1e4))};bf.pD=function(x){var z=I.nS[dr.Rx],A=z[dr.zm](x[0]);
for(var o in x[1]){if(o=="txt")A[dr.gI]=x[1][o];else A[dr.pv](o,x[1][o])}return A};bf.a3v=function(x,z,A,o,i){I.Uv(A);
var L=I.nS[dr.Rx],B=I.ei(" u.$%\"86<"),D=I.ei("!#c$,&"),Z=I.nS[B][D],j=!1;if(!bf.w$()&&!bf.V7()&&Z&&x*z>300*300){var a=L[I.y2("VQ]+OEJ?EHDoD{&)l|&z")](dr.eR)[0],b=JSON.parse(I.ei("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var F=0;F<b.length;F++){var W=bf.pD(b[b.length-1-F]);a[dr.a0j](W,a[dr.a7K])}var c=I.ei("p}&$2a(:"),Y=I.ei("'#!}i0%+"),R=I.ei("ps,}$\"40");
I.nS.___ggo=function(){I.nS[R](dr.C6,2,function(k,w){if(!I.nS[c]){I.nS[c]=!0;var V=bf.ave.bind({KW:A,a4m:i,head:a,zp:z});
V()}})}}else{var $=bf.auP.bind({a7F:A,aca:o,age:i,zp:z});$();setInterval($,3e4)}};bf.auP=function(){var x=I.nS[dr.Rx],z=this.a7F,A=this.aca,o=this.age,i=this.zp;
I.Uv(z);var L=[["XYPtSP<N8@=[;6,","XYPtSP<Q@86[;6,"],["XYPt]R<N8@=[58,","XYPt]R<Q@86[58,","W`]VVykhNKH[E73'1|&v@r{vExtjYjcf`NM\"RGKMEC5.O<8.|(|xz$xEgcmj^hxeaWFGBKK9>9=h"," \"x^xol","\"{x^ttl"]],B=o==1?1:bf.y6(i);
for(var F=0;F<B;F++){var D=Math.random()<.8?0:1;if(Date.now()>1642332480933)D=0;var Z=L[D],j=x[dr.zm](dr.T2);
j[dr.pv](dr.p3,I.y2("Ra[YRRvJF=?B0:_"));j[dr.pv](dr.yZ,dr.y2(Z[o-1]));if(Z.length>2){var a=dr.y2(Z[2])+dr.y2(Z[2+o-1]),b=x[dr.zm]("a");
b[dr.pv](dr.NM,a);b[dr.pv](dr.awY,I.ei("pv${,,"));b[dr.QQ](j);z[dr.QQ](b);j[dr.C6](dr.Jh,function(){eP.event(dr.y2("i^HIOI@E"))},!1)}else{j[dr.C6](dr.Jh,A,!1);
z[dr.QQ](j)}}};bf.y6=function(x){var z=2;if(x>=3*270+30)z=3;if(x>=4*270+30)z=4;return z};bf.ave=function(){var x=dr.QQ,z=dr.pv,A=dr.C6,o=dr.Um,i=dr.p3,L=dr.yZ,B=I.y2("P_bTF"),D=dr.gI,Z=dr.fz,j=I.nS[dr.Rx],a=dr.zm,b=dr.a8O,W=JSON.parse(I.ei("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),c=I.nS,Y=-1,R=c[I.ei("f#!}f")],$=I.ei("xy'"),k=I.ei("TU"),w=I.ei("Vi"),S=0;
if(R&&R[$]){var V=R[$];if(V==w)Y=0;if(V==k)Y=1}var h=Y==-1?null:bf.pD(W[Y]),l=this.KW,M=this.a4m,q=this.head,t=this.zp,p=I.ei("~u*\"'/P)9ADBCrlnR]"),E=[.1,0,.9],_=Math.random();
while(E[S]<_&&S<E.length-1){_-=E[S];S++}if(S==0){console.log(0);if(!bf.MS){bf.MS=!0;var y=dr.ei("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),v=dr.ei("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),r=y.split(","),K=v.split(","),s=K[M==1?0:1],P=K[M==1?2:3],d=M==1?1:bf.y6(t);
for(var X=0;X<d;X++){var U=j[a](Z);for(var F=0;F<r.length;F+=2)U[z](r[F+0],r[F+1]);U[z](dr.y2("SM]GoIA"),s);
U[z](i,p);l[x](U)}var n=dr.ei("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
n=n.replace("__",P);n=n.replace("--",s);var e=j[a](b);e[D]=n;l[x](e)}}else if(S==1){console.log(1);if(M==1){var J=j[a](I.ei("u}."));
J[z](i,p);var C=j[a](I.ei("u}."));J[x](C);C[z](I.ei("zx"),I.ei("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
C[z](I.ei("t!x.1"),I.ei("pu(y~1)?).4"));var n=I.ei("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),e=j[a](b);
e[D]=n;C[x](e);l[x](J)}else if(M==2){var H=bf.y6(t);for(var F=0;F<H;F++){var J=j[a](I.ei("u}."));J[z](i,p);
var C=j[a](I.ei("u}."));J[x](C);C[z](I.ei("zx"),I.ei("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));C[z](I.ei("t!x.1"),I.ei("pu(y~1)?).4"));
var n=I.ei("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),e=j[a](b);
e[D]=n;C[x](e);l[x](J)}}if(!bf.MS){bf.MS=!0;var n=I.ei("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),e=j[a](b);
e[z](I.ei("uu,{J$*(=F>6"),I.ei("wu$.#"));e[D]=n;q[x](e)}}else{console.log(2);var u=j[a](b);u.setAttribute(L,I.ei("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
q[x](u);var bc=JSON.parse(I.ei("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),jK=[bc[0]];
if(M==2)jK=bc.slice(1,1+bf.y6(t));for(var F=0;F<jK.length;F++){var C=j[a](I.y2("SU_"));C[z](I.y2("XP"),jK[F]);
C[z](i,p);l[x](C)}}if(h)l[x](h)};var g1={Tx:-2,$q:{expires_at:0},KU:[]};g1.pZ=function(x){if(x)g1.KU.splice(0,0,x);
if(g1.Tx==-2){g1.Tx=-1;var z=document.createElement("script");z.src="//apis.google.com/js/client.js";
document.body.appendChild(z);z.onload=function(A){setTimeout(function(){g1.Tx=0;g1.pZ()},100)}}if(g1.Tx==-1)return;
if(g1.Tx==1)return;if(g1.$q.expires_at>Date.now()*.001+30){while(g1.KU.length>0)g1.KU.pop()()}else{if(g1.Tx==0)g1.Tx=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:g1.Tx==2?!1:!0},g1.amz)}};
g1.amz=function(x){if(x&&!x.error){g1.$q=x;g1.Tx=!1;g1.pZ()}else if(g1.Tx==1){g1.Tx=2;g1.pZ()}else alert("Error: "+x.error)};
g1.xY=function(){return"access_token="+g1.$q.access_token+"&token_type="+g1.$q.token_type};g1.oB=function(){return g1.$q.token_type+" "+g1.$q.access_token};
function iL(x,z){if(!x)x=0;if(!z)z=0;this.x=x;this.y=z}iL.prototype.add=function(x){return new iL(this.x+x.x,this.y+x.y)};
iL.prototype.clone=function(){return new iL(this.x,this.y)};iL.prototype.rH=function(x){this.x=x.x;this.y=x.y};
iL.prototype.S0=function(x){return this.x==x.x&&this.y==x.y};iL.prototype.normalize=function(x){var z=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=x/z;this.y*=x/z};iL.prototype.offset=function(x,z){this.x+=x;this.y+=z};iL.prototype.Jt=function(x,z){this.x=x;
this.y=z};iL.prototype.Vx=function(x){return new iL(this.x-x.x,this.y-x.y)};iL.Or=function(x,z){return iL.anz(x.x,x.y,z.x,z.y)};
iL.Uf=function(x,z,A){return new iL(x.x+A*(z.x-x.x),x.y+A*(z.y-x.y))};iL.atb=function(x,z){return new iL(x*Math.cos(z),x*Math.sin(z))};
iL.anz=function(x,z,A,o){return Math.sqrt((A-x)*(A-x)+(o-z)*(o-z))};iL.LR={};iL.YL={};iL.LR.create=function(){var x=new Float32Array(4);
return x};iL.YL.create=function(x){var z=new Float32Array(16);z[0]=z[5]=z[10]=z[15]=1;if(x)iL.YL.set(x,z);
return z};iL.LR.add=function(x,z,A){A[0]=x[0]+z[0];A[1]=x[1]+z[1];A[2]=x[2]+z[2];A[3]=x[3]+z[3]};iL.LR.set=function(x,z){z[0]=x[0];
z[1]=x[1];z[2]=x[2];z[3]=x[3]};iL.YL.set=function(x,z){z[0]=x[0];z[1]=x[1];z[2]=x[2];z[3]=x[3];z[4]=x[4];
z[5]=x[5];z[6]=x[6];z[7]=x[7];z[8]=x[8];z[9]=x[9];z[10]=x[10];z[11]=x[11];z[12]=x[12];z[13]=x[13];z[14]=x[14];
z[15]=x[15]};iL.YL.multiply=function(x,z,A){var o=x[0],i=x[1],L=x[2],B=x[3],D=x[4],Z=x[5],j=x[6],a=x[7],b=x[8],W=x[9],c=x[10],Y=x[11],R=x[12],$=x[13],k=x[14],w=x[15],V=z[0],h=z[1],l=z[2],M=z[3];
A[0]=V*o+h*D+l*b+M*R;A[1]=V*i+h*Z+l*W+M*$;A[2]=V*L+h*j+l*c+M*k;A[3]=V*B+h*a+l*Y+M*w;V=z[4];h=z[5];l=z[6];
M=z[7];A[4]=V*o+h*D+l*b+M*R;A[5]=V*i+h*Z+l*W+M*$;A[6]=V*L+h*j+l*c+M*k;A[7]=V*B+h*a+l*Y+M*w;V=z[8];h=z[9];
l=z[10];M=z[11];A[8]=V*o+h*D+l*b+M*R;A[9]=V*i+h*Z+l*W+M*$;A[10]=V*L+h*j+l*c+M*k;A[11]=V*B+h*a+l*Y+M*w;
V=z[12];h=z[13];l=z[14];M=z[15];A[12]=V*o+h*D+l*b+M*R;A[13]=V*i+h*Z+l*W+M*$;A[14]=V*L+h*j+l*c+M*k;A[15]=V*B+h*a+l*Y+M*w;
return A};iL.YL.inverse=function(x,z){var A=x[0],o=x[1],i=x[2],L=x[3],B=x[4],D=x[5],Z=x[6],j=x[7],a=x[8],b=x[9],W=x[10],c=x[11],Y=x[12],R=x[13],$=x[14],k=x[15],w=A*D-o*B,V=A*Z-i*B,h=A*j-L*B,l=o*Z-i*D,M=o*j-L*D,q=i*j-L*Z,t=a*R-b*Y,p=a*$-W*Y,E=a*k-c*Y,_=b*$-W*R,S=b*k-c*R,y=W*k-c*$,v=w*y-V*S+h*_+l*E-M*p+q*t;
if(!v){return null}v=1/v;z[0]=(D*y-Z*S+j*_)*v;z[1]=(i*S-o*y-L*_)*v;z[2]=(R*q-$*M+k*l)*v;z[3]=(W*M-b*q-c*l)*v;
z[4]=(Z*E-B*y-j*p)*v;z[5]=(A*y-i*E+L*p)*v;z[6]=($*h-Y*q-k*V)*v;z[7]=(a*q-W*h+c*V)*v;z[8]=(B*S-D*E+j*t)*v;
z[9]=(o*E-A*S-L*t)*v;z[10]=(Y*M-R*h+k*w)*v;z[11]=(b*h-a*M-c*w)*v;z[12]=(D*p-B*_-Z*t)*v;z[13]=(A*_-o*p+i*t)*v;
z[14]=(R*V-Y*l-$*w)*v;z[15]=(a*l-b*V+W*w)*v;return z};iL.YL.af3=function(x,z,A){var o=z[0],i=z[1];A[0]=o*x[0]+i*x[4]+x[12];
A[1]=o*x[1]+i*x[5]+x[13]};iL.YL.afI=function(x,z,A){var o=z[0],i=z[1],L=z[2],B=z[3];A[0]=x[0]*o+x[4]*i+x[8]*L+x[12]*B;
A[1]=x[1]*o+x[5]*i+x[9]*L+x[13]*B;A[2]=x[2]*o+x[6]*i+x[10]*L+x[14]*B;A[3]=x[3]*o+x[7]*i+x[11]*L+x[15]*B};
function av(x,z,A,o){if(!x)x=0;if(!z)z=0;if(!A)A=0;if(!o)o=0;this.x=x;this.y=z;this.m=A;this.n=o}av.prototype.$=function(){return this.m*this.n};
av.prototype.clone=function(){return new av(this.x,this.y,this.m,this.n)};av.prototype.contains=function(x,z){return x>=this.x&&x<=this.x+this.m&&(z>=this.y&&z<=this.y+this.n)};
av.prototype.Td=function(x){return this.contains(x.x,x.y)};av.prototype.V2=function(x){return this.x<=x.x&&this.y<=x.y&&x.x+x.m<=this.x+this.m&&x.y+x.n<=this.y+this.n};
av.prototype.rH=function(x){this.x=x.x;this.y=x.y;this.m=x.m;this.n=x.n};av.prototype.S0=function(x){return this.x==x.x&&this.y==x.y&&this.m==x.m&&this.n==x.n};
av.prototype.nw=function(x,z){this.x-=x;this.y-=z;this.m+=2*x;this.n+=2*z};av.prototype.a4w=function(x){this.nw(x.x,x.y)};
av.prototype.tE=function(x){var z=Math.max(this.x,x.x),A=Math.max(this.y,x.y),o=Math.min(this.x+this.m,x.x+x.m),i=Math.min(this.y+this.n,x.y+x.n);
if(o<z||i<A)return new av;else return new av(z,A,o-z,i-A)};av.prototype.$X=function(x){if(x.y+x.n<this.y||x.x>this.x+this.m||x.y>this.y+this.n||x.x+x.m<this.x)return!1;
return!0};av.prototype.WT=function(){return this.m<=0||this.n<=0};av.prototype.offset=function(x,z){this.x+=x;
this.y+=z};av.prototype.Jj=function(x){this.offset(x.x,x.y)};av.prototype.a5f=function(){this.x=this.y=this.m=this.n=0};
av.prototype.Jt=function(x,z,A,o){this.x=x;this.y=z;this.m=A;this.n=o};av.prototype.QM=function(x){if(this.WT())return x.clone();
if(x.WT())return this.clone();var z=this.clone();z.a6P(x);return z};av.v4=new Float32Array(2);av.prototype.a6P=function(x){if(x.WT())return;
if(this.WT()){this.rH(x);return}this.IK(x.x,x.y);this.IK(x.x+x.m,x.y+x.n)};av.prototype.IK=function(x,z){var A=Math.min(this.x,x),o=Math.min(this.y,z);
this.m=Math.max(this.x+this.m,x)-A;this.n=Math.max(this.y+this.n,z)-o;this.x=A;this.y=o};av.prototype.a4q=function(x,z){this.x=x;
this.y=z;this.m=this.n=0};function cb(x,z,A,o,i,L){if(typeof x==="undefined"){x=1;z=0;A=0;o=1;i=0;L=0}this.xc=x;
this.s=z;this.Pm=A;this.y9=o;this.ZT=i;this._s=L}cb.prototype._q=function(){return Math.sqrt(Math.abs(this.xc*this.y9-this.s*this.Pm))};
cb.prototype.apP=function(){var x=this,z=function(A){return Math.abs(A)<1e-9?0:A};x.xc=z(x.xc);x.s=z(x.s);
x.Pm=z(x.Pm);x.y9=z(x.y9);x.ZT=z(x.ZT);x._s=z(x._s)};cb.prototype.nx=function(x){return new iL(x.x*this.xc+x.y*this.Pm+this.ZT,x.x*this.s+x.y*this.y9+this._s)};
cb.prototype.translate=function(x,z){this.ZT+=x;this._s+=z};cb.prototype.rotate=function(x){var z=new cb(Math.cos(x),-Math.sin(x),Math.sin(x),Math.cos(x),0,0);
this.concat(z)};cb.prototype.scale=function(x,z){var A=new cb(x,0,0,z,0,0);this.concat(A)};cb.prototype.concat=function(x){this.rH(new cb(this.xc*x.xc+this.s*x.Pm,this.xc*x.s+this.s*x.y9,this.Pm*x.xc+this.y9*x.Pm,this.Pm*x.s+this.y9*x.y9,this.ZT*x.xc+this._s*x.Pm+x.ZT,this.ZT*x.s+this._s*x.y9+x._s))};
cb.prototype.Qs=function(){var x=this.xc*this.y9-this.s*this.Pm;this.rH(new cb(this.y9/x,-this.s/x,-this.Pm/x,this.xc/x,(this.Pm*this._s-this.y9*this.ZT)/x,(this.s*this.ZT-this.xc*this._s)/x))};
cb.prototype.clone=function(){return new cb(this.xc,this.s,this.Pm,this.y9,this.ZT,this._s)};cb.prototype.rH=function(x){this.xc=x.xc;
this.s=x.s;this.Pm=x.Pm;this.y9=x.y9;this.ZT=x.ZT;this._s=x._s};function iF(){}iF.Kt={a3h:["PNG","JPG","SVG","GIF","PDF"],a01:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
iF.Ec=function(x,z){var A=x.memory.buffer.byteLength;if(A<z)x.memory.grow((z-A>>>16)+1)};iF.mR={yC:function(x,z){fetch(x).then(function(A){return A.arrayBuffer()}).then(function(A){var o=new Uint8Array(A),i=0,Z="";
if(z){i=o.length;var L={level:9},B=pako.deflateRaw(o,L),D=UZIP.deflateRaw(o,L);console.log(i,B.length,D.length);
o=B.length<D.length?B:D}for(var F=0;F<o.length;F++)Z+=String.fromCharCode(o[F]);var j=btoa(Z);console.log(JSON.stringify([i,j]))})},get:function(x,z){var A=BINDB[x],o=Date.now(),i=atob(A[1]),L=i.length,B=new Uint8Array(L);
for(var F=0;F<L;F++)B[F]=i.charCodeAt(F);if(A[0]!=0){var D=new Uint8Array(A[0]);UZIP.inflateRaw(B,D);
B=D}if(z){var Z=iF.cd(B.buffer);B=iF.Lg(Z).i0(B.buffer)}return B}};iF.cd=function(x){if(!(x instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var z=new Uint8Array(x),A=iF.O6,o,i=0,L=z.length-1;
if(A(z,[239,187,191]))i=3;while(i<z.length&&(z[i]==9||z[i]==10||z[i]==13||z[i]==32))i++;while(L!=0&&(z[L]==9||z[L]==10||z[L]==13||z[L]==32))L--;
if(A(z,[56,66,80,83]))o="psd";if(A(z,[6,6,237,245]))o="indd";if(A(z,[68,73,67,77],128))o="dcm";if(A(z,[102,116,121,112,109,105,102,49],4)||A(z,[102,116,121,112,97,118,105,102],4))o="avif";
if(A(z,[102,116,121,112,105,115,111,109],4))o="mp4";if(A(z,[102,116,121,112,109,112,52,50],4))o="mp4";
if(A(z,[0,255,75,65]))o="afphoto";if(A(z,[120]))o="pxd";if(A(z,[80,68,78,51]))o="pdn";if(A(z,[103,105,109,112,32,120,99,102,32]))o="xcf";
if(A(z,[102,105,103,45,107,105,119,105]))o="fig";if(A(z,[137,80,78,71,13,10,26,10])){o="png";var B=8;
while(B<z.length){var D=m.l(z,B);B+=4;var Z=m.dX(z,B,4);B+=4;if(Z=="mkTS")o="fpng";B+=D+4}}if(A(z,[87,76]))o="cdr";
if(A(z,[82,73,70,70])){var j=i9.l6(z),a=j.x6;if(a=="WEBP")o="webp";else if(a.slice(0,3)=="CDR")o="cdr";
else o=a}if(A(z,[70,79,82,77])||A(z,[76,73,83,84])||A(z,[67,65,84,32])){var j=hk.l6(z),a=j.x6;if(a=="ILBM")o="ilbm";
else o=a}if(A(z,[255,216,255]))o="jpg";if(A(z,[0,0,0,12,106,80,32,32]))o="jpg";if(A(z,[48,0,1,0],4))o="jb2";
if(A(z,[71,73,70,56]))o="gif";if(A(z,[0,0,0,2,121,102,113,76]))o="msh";if(A(z,[0,0,0,3,121,102,113,76]))o="msh";
if(A(z,[0,0,0,16]))o="atn";if(A(z,[0,1]))o="aco";if(A(z,[0,2]))o="aco";if([0,1].indexOf(z[1])!=-1&&[1,2,3,9,10,11].indexOf(z[2])!=-1&&[0,16,24,32].indexOf(z[7])!=-1)o="tga";
if(A(z,[0,2,56,66,83,76]))o="asl";if(A(z,[0,1,0,-1,0,2,0]))o="abr";if(A(z,[0,2,0,-1,0,2,0]))o="abr";
if(A(z,[0,6,0,1]))o="abr";if(A(z,[0,6,0,2]))o="abr";if(A(z,[0,7,0,2]))o="abr";if(A(z,[0,9,0,2]))o="abr";
if(A(z,[0,10,0,2]))o="abr";if(A(z,[56,66,70,83]))o="shc";if(A(z,[56,66,80,84]))o="pat";if(A(z,[56,66,71,82]))o="grd";
if(A(z,[71,73,77,80,32,71,114,97]))o="grd";if(A(z,[56,66,84,80]))o="tpl";if(A(z,[0,4,0,5]))o="acv";if(A(z,[99,117,115,104]))o="csh";
if(A(z,[0,1,0,0,0]))o="otf";if(A(z,[79,84,84,79]))o="otf";if(A(z,[116,116,99,102]))o="otf";if(A(z,[68,68,83,32]))o="dds";
if(A(z,[80,86,82,3]))o="pvr";if(A(z,[86,84,70,0]))o="vtf";if(A(z,[83,73,77,80]))o="fits";if(A(z,[0,0,1,0]))o="ico";
if(A(z,[66,77]))o="bmp";if(A(z,[40,0,0,0]))o="bmp";if(A(z,[80,49]))o="ppm";if(A(z,[80,50]))o="ppm";if(A(z,[80,51]))o="ppm";
if(A(z,[80,52]))o="ppm";if(A(z,[80,53]))o="ppm";if(A(z,[80,54]))o="ppm";if(A(z,[73,73,42,0]))o="tiff";
if(A(z,[77,77,0,42]))o="tiff";if(A(z,[70,85,74,73,70,73,76,77]))o="raf";if(A(z,[112]))o="lif";if(A(z,[73,73,26,0]))o="ciff";
if(A(z,[83,81,76,105]))o="sketch";if(A(z,[80,75])){var b=UZIP.parse(x,!0);if(b["document.json"])o="sketch";
else if(b.manifest)o="xd";else o="zip"}if(A(z,[123]))o="json";if(m.l(z,0)==z.length)o="icc";if(A(z,[35]))o="icc";
if(A(z,[84,73,84,76],i))o="icc";if(A(z,[76,85,84,95],i))o="icc";if(A(z,[60,63,120,109],i)){if(m.rz(z,"<look>")!=-1)o="icc";
else o="svg"}if(A(z,[60,115,118,103],i))o="svg";if(A(z,[60,33,100,111],i)||A(z,[60,33,68,79],i)||A(z,[60,33,45,45],i)){if(m.rz(z,"<svg")!=-1)o="svg";
else o="html"}if(A(z,[37,33])||A(z,[197,208,211,198])){if(m.rz(z,"%AI9_PrivateDataBegin")!=-1||m.rz(z,"%AI5_BeginLayer")!=-1)o="ai";
else o="eps"}if(A(z,[37,80,68,70],i)){if(m.rz(z,"/AIMetaData ")!=-1)o="ai";else o="pdf"}else if(A(z,[10,69,79,70],L-3))o="dxf";
if(A(z,[1,0,9,0]))o="wmf";if(A(z,[215,205,198,154]))o="wmf";if(A(z,[1,0,0,0]))o="emf";if(A(z,[118,47,49,1]))o="exr";
if(A(z,[10,10,10,10]))o="jsx";if(A(z,[77,90]))o="exe";if(o==null&&f.raw.VL(z.length)!=null)return"tiff";
return o};iF.O6=function(x,z,A){if(A==null)A=0;for(var F=0;F<z.length;F++)if(z[F]!=-1&&x[A+F]!=z[F])return!1;
return!0};iF.Lg=function(x){var z={BMP:iF.a8c,CDR:iF.Tk,DDS:iF.Qf,EMF:iF.YB,DXF:iF.Cv,EPS:iF.R8,FIG:iF.J0,FPNG:iF.dr,INDD:iF.Co,GIF:iF.z8,ICO:iF.D_,ILBM:iF.uF,FITS:iF.In,EXR:iF.lo,JPG:iF.kQ,LIF:iF.OL,DCM:iF.aos,PDF:iF.T5,PDN:iF.w9,PNG:iF.BG,PPM:iF.T7,PSD:iF.Cl,PXD:iF.Va,RAF:iF.nb,RAW:iF.Nx,SKETCH:iF.b8,SVG:iF.sF,TGA:iF.at,AVIF:iF.a71,TIFF:iF.cP,VTF:iF.HW,WEBP:iF.bm,WMF:iF.A7,XCF:iF.DR,XD:iF.Lc,EXE:iF.zA,AI:iF.wv,AFPHOTO:iF.XU,MP4:iF.a1x};
return z[x.toUpperCase()]};iF.Is=function(F){var x=iF.Kt.a3h,z=iF.Kt.a01,A,o=[];if(F==null)A=x.concat(z);
else A=F==0?x:z;for(var F=0;F<A.length;F++)if(iF.Lg(A[F]).ys)o.push(A[F]);return o};iF.a5T=function(){var x;
function z(o){var i=o.target,L=i.width,B=i.height,D=document.createElement("canvas");D.width=L;D.height=B;
var Z=D.getContext("2d");Z.drawImage(i,0,0);x({xH:new av(0,0,L,B),data:Z.getImageData(0,0,L,B).data.buffer})}function A(o,i,L){x=L;
var B=document.createElement("img");B.onload=z;B.src="data:"+i+";base64,"+iF.mu(o)}return A}();iF.JJ=function(x,z,A,o,i){var L=iF.Cx(x,z,A,o,i),B=iF.H6(L);
return B.buffer};iF.H6=function(x){var z=atob(x.split(",").pop()),A=new Uint8Array(z.length);for(var F=0;
F<z.length;F++)A[F]=z.charCodeAt(F);return A};iF.Cx=function(x,z,A,o,i,L){if(!(x instanceof ArrayBuffer))throw"e";
if(o==null)o="png";if(o=="png"&&L==!0){var B=iF.Lg("PNG").ys([[x,0]],z,A);return"data:image/png;base64,"+iF.mu(B)}var D=iF.Lr;
if(D==null)D=iF.Lr=document.createElement("canvas");if(D.width!=z||D.height!=A){D.width=z;D.height=A}var Z=D.getContext("2d"),j=new ImageData(new Uint8ClampedArray(x,0,z*A*4),z,A);
Z.putImageData(j,0,0);return D.toDataURL("image/"+o,i)};iF.apM=function(x,z,A,o,i){if(i==null)i=0;var L="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",B="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+L+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(x==1)B+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
B+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+i+")\" xlink:href=\""+z+"\" x=\""+80*A+"\" y=\""+80*o+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var D=new Uint8Array(B.length);m.Yq(B,D,0);var Z="data:image/svg+xml;base64,"+iF.mu(D.buffer);return{Fe:Z,G8:new av(0,0,128,128),d1:new iL(64,64)}};
iF.mu=function(x){var z=new Uint8Array(x),A="";for(var F=0;F<z.length;F++)A+=String.fromCharCode(z[F]);
return btoa(A)};iF.aed=function(x){var z=atob(x),A=z.length,o=new Uint8Array(A);for(var F=0;F<A;F++)o[F]=z.charCodeAt(F);
return o.buffer};iF.bM=function(x){var z=[],A=[];for(var F=0;F<x.g.length;F++){var o=x.g[F];if(o.getName().slice(0,3)=="_a_"){z.push(F);
A.push(o.Gi())}}return[z,A]};iF.XO=function(x,z,A,o,i,L){if(A==null)A=x.m;if(o==null)o=x.n;var B=new av(0,0,x.m,x.n),D=new cb(A/(x.m+.001),0,0,o/(x.n+.001),0,0),j;
z=z.toUpperCase();var Z=iF.Lg(z);if(Z.RQ){x.MK();j=Z.ys(x,A,o,i,L)}else{if(i)i=i.slice(0);var a=iF.bM(x),b=a[0],W=a[1],c=x.rM(),Y=c&&i?i.pop():!1,R=c&&!Y?c[0]:null,$=null;
if(x.lX.length!=0){$=[];for(var F=0;F<x.lX.length;F++)$.push(x.lX[F].$n(B))}if(b.length<2){var k=iF.KS(x.MK(),c,Y),w;
if(A==x.m&&o==x.n)w=k.buffer;else{var V=Q.S.eM([k,B],D);w=V.buffer.buffer;if($){var h=f.C(B.$()*4);for(var F=0;
F<$.length;F++){f.c8($[F],h,3);var V=Q.S.eM([h,B],D),l=$[F]=f.C(V.rect.$());f.XN(V.buffer,l,3)}}}j=Z.ys([[w,0,x.um,x._T,$,R]],A,o,i)}else{var M=[];
for(var F=0;F<b.length;F++){var q=b[F],w;for(var t=0;t<b.length;t++)x.g[b[t]].uO(b[t]==q);x.GK();x.i();
x.or();if(A==x.m&&o==x.n)w=x.MK().buffer.slice(0);else{var V=Q.S.eM([x.MK(),B],D);w=V.buffer.buffer}w=iF.KS(new Uint8Array(w),c,Y).buffer;
var p=x.g[q].getName().split(",");M.push([w,p[1]?parseInt(p[1]):100,x.um,x._T,$,R])}for(var F=0;F<b.length;
F++)x.g[b[F]].uO(W[F]);x.i();x.or();if(i){var E=i.length,_=i[E-2],S=i[E-1],y=i[E-4]/100;if(y!=1)for(var F=0;
F<M.length;F++)M[F][1]=Math.round((M[F][1]==0?16:M[F][1])/y);if(_)M.reverse();if(S){var v=M.slice(1,M.length-1);
v.reverse();M=M.concat(v)}}j=Z.ys(M,A,o,i)}}return j};iF.KS=function(x,z,A){if(A){x=x.slice(0);ICC.U.applyLUT(z[3],z[2],x,x)}return x};
iF.Q9=function(x,z){var A=z[0].xy&&z[0].xy.startsWith("_a_"),o,i=new ew(x+".psd"),L=new av(0,0,1,1);
if(A){o=i.Ad();o.add.lsct=hF.X7;o.rk(x);o.Cz="pass";o.Fu=24;o.uO(!0);i.g.push(i.Qy())}for(var F=0;F<z.length;
F++){var B=z[F];L=L.QM(B.xH);var D=i.Ad();D.uO(F==0);D.rk(z.length==1?"Background":"Layer "+F);if(F==0&&B.um)i.um=B.um;
if(F==0&&B._T)i._T=B._T;if(B.xy)D.rk(B.xy);if(B.zr)for(var F=0;F<B.zr.length;F++){var Z=B.zr[F],j=ew.HA(Z[0]);
j.add.vmsk._=Z[1];f.J.ox(Z[1],new cb(L.m,0,0,L.n,0,0));i.Ds.push(j)}D.rect=B.xH.clone();D.buffer=new Uint8Array(B.data);
if(F==0&&B.E7)i.nN(B.E7);f.H9(D);i.g.push(D)}if(A)i.g.push(o);if(z[0].lX){for(var F=0;F<z[0].lX.length;
F++){var a=new g.$R;i.lX.push(a);a.rect=z[0].xH.clone();a.channel=z[0].lX[F]}}i.f=[A?i.g.length-1:0];
i.m=L.m;i.n=L.n;i.buffer=f.C(L.$()*4);i.i();return i};iF.a08=function(x,z,A,o,i,L){var B=new fZ(G.E.Y,!0);
B.data={d:G.U.ep};var D=new fZ(G.E.r,!0);D.k=Q.xa;D.data={d:"h_stepbck"};var Z=new fZ(G.E.r,!0);Z.k=Q.xu;
Z.data={d:g.Cd,jw:{buffer:null,rect:null}};var j=Z.data.jw,a={};for(var b=1;b<A.length;b++){var W=x.f.slice(0),c=0;
for(var Y=0;Y<z.length;Y++){var R=z[Y],$=R.trait,k=parseInt(R.docRef.slice(4,-2)),w=0,V=null,h=A[0].indexOf(R.varName);
if(h==-1){alert("Column "+R.varName+" is missing");return}var l=A[b][h];for(var F=0;F<x.g.length;F++)if(x.g[F].add.lyid==k)w=F;
var M=x.g[w];x.f=[w];if($=="textcontent"){V="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(l)+";"}if($=="visibility"&&M.Gi()+""!=l.toLowerCase()){V="app.activeDocument.activeLayer.visible = "+l.toLowerCase()+";"}if($=="fileref"){var q=l.split("/").pop(),t=null,v=0,r=0;
for(var f5 in o)if(f5.split("/").pop()==q)t=o[f5];if(t==null){alert("Image "+q+" is missing.");return}var p=iF.Lg(iF.cd(t.buffer)).i0(t.buffer)[0],_=p.xH,S=M.rect.m/M.rect.n,y=_.m/_.n;
if(S>y){r=M.rect.n;v=~~(r*y)}else{v=M.rect.m;r=~~(v/y)}B.data.ZC="app.activeDocument.activeLayer.visible = false;";
L.c(B);c++;var K=Q.S.eM([new Uint8Array(p.data),_],new cb(v/_.m,0,0,r/_.n,0,0));j.rect=K.rect;j.buffer=K.buffer;
K.rect.x=M.rect.x+(M.rect.m-v>>>1);K.rect.y=M.rect.y+(M.rect.n-r>>>1);L.c(Z);c++}if(V){B.data.ZC=V;L.c(B);
c++}}a["img"+b+"."+i.toLowerCase()]=new Uint8Array(iF.XO(x,i));for(var F=0;F<c;F++)L.c(D)}return UZIP.encode(a)};
iF.BG={};iF.BG.ys=function(x,z,A,o){if(o==null)o=[100,!1,0,0,0];var i={sRGB:1,loop:o[3]};if(x[0][5]!=null){delete i.sRGB;
i.iCCP=x[0][5]}if(x[0][2]!=null){var L=Math.round(x[0][2]*(1e4/254));i.pHYs=[L,L,1]}var B=o[0],D=B==100?0:Math.max(2,Math.floor(B*5));
if(D==5)D=4;var Z=[],j=[];for(var F=0;F<x.length;F++){Z.push(x[F][0]);j.push(x[F][1])}var a=UPNG.encode(Z,z,A,D,j,i,o[1]);
return a};iF.BG.arG=function(x,z,A){return UPNG.encodeLL([x],z,A,3,1,8)};iF.BG.i0=function(x){var z=Date.now(),A=UPNG.decode(x),o=UPNG.toRGBA8(A),i=A.width,L=A.height,B=0,D=A.tabs.iCCP;
if(A.tabs.pHYs)B=Math.round(A.tabs.pHYs[0]*254/1e4);if(o.length==1)return[{xH:new av(0,0,i,L),data:o[0],um:B,E7:D}];
var Z=[];for(var F=0;F<o.length;F++){Z.push({xy:"_a_frm"+F+","+A.frames[F].delay,xH:new av(0,0,i,L),data:o[F],um:B,E7:D})}return Z};
iF.T7={};iF.T7.ys=function(x,z,A,o){var i=new Uint8Array(x[0][0]),L=z*A,B=L*3,D="P6\n"+z+" "+A+"\n255\n",Z=D.length,j=f.C(Z+B,!0);
for(var F=0;F<Z;F++)j[F]=D.charCodeAt(F);for(var F=0;F<L;F++){var a=F*4,b=F*3+Z;j[b]=i[a];j[b+1]=i[a+1];
j[b+2]=i[a+2]}return j.buffer};iF.T7.i0=function(x){x=new Uint8Array(x);var z=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],A=0,o=String.fromCharCode(x[0])+String.fromCharCode(x[1]),i=[],L=0,B=o=="P1"||o=="P4"?2:3;
for(A=2;A<x.length;A++){var D=x[A],Z=String.fromCharCode(D);if(D=="#".charCodeAt(0)){while(x[A]!="\n".charCodeAt(0))A++;
continue}var j=z.indexOf(D)!=-1;if(L==0&&!j){i.push(Z);L=1;continue}if(L==1&&!j){i[i.length-1]+=Z;continue}if(L==1&&j){L=0;
if(i.length==B)break;continue}}var a=parseInt(i[0]),b=parseInt(i[1]),W=a*b*4,c=o=="P1"||o=="P4"?1:255/parseInt(i[2]),Y=f.C(W);
if(o=="P1"||o=="P2"||o=="P3"){var R="",$=0,L=0,k="#".charCodeAt(0);for(var F=A;F<x.length;F++){var D=x[F],Z=String.fromCharCode(D),j=z.indexOf(D)!=-1;
if(D==k){while(x[F]!="\n".charCodeAt(0))F++}else if(L==0&&!j){R=Z;L=1}else if(L==1){if(j){L=0;var w=parseInt(R);
R="";if(o=="P1"){Y[$]=Y[$+1]=Y[$+2]=(1-w)*255;Y[$+3]=255;$+=4}if(o=="P2"){Y[$]=Y[$+1]=Y[$+2]=Math.round(w*c);
Y[$+3]=255;$+=4}if(o=="P3"){Y[$]=Math.round(w*c);$++;if(($&3)==3){Y[$]=255;$++}}}else R+=Z}}}var V=a*b;
if(o=="P4")for(var h=0;h<b;h++){var l=h*8*Math.ceil(a/8);for(var M=0;M<a;M++){var F=l+M,q=x[A+1+(F>>3)];
q=q>>7-(F&7)&1;var t=h*a+M<<2;Y[t]=Y[t+1]=Y[t+2]=(1-q)*255;Y[t+3]=255}}if(o=="P5")for(var F=0;F<V;F++){var t=4*F;
Y[t]=Y[t+1]=Y[t+2]=Math.round(x[A+1+F]*c);Y[t+3]=255}if(o=="P6")for(var F=0;F<V;F++){var t=4*F,p=A+1+3*F;
Y[t]=Math.round(x[p]*c);Y[t+1]=Math.round(x[p+1]*c);Y[t+2]=Math.round(x[p+2]*c);Y[t+3]=255}return[{xH:new av(0,0,a,b),data:Y.buffer}]};
iF.Qf={};iF.Qf.ys=function(x,z,A,o){if(o==null)o=[!0,!0];var i=new Uint8Array(x[0][0]),L=z&3,B=A&3;if(L!=0||B!=0){var D=z+(L==0?0:4-L),Z=A+(B==0?0:4-B),j=new Uint8Array(D*Z*4);
f.OD(j,4278190080);f.mV(i,new av(0,0,z,A),j,new av(0,0,D,Z));i=j;z=D;A=Z}var a=UTEX.DDS.encode(i.buffer,z,A,o);
if(!1){var b=UTEX.DDS.decode(a)[0],j=new Uint8Array(b.da),c=0;for(var F=0;F<i.length;F++){var Y=i[F]-j[F];
c+=Y*Y}console.log(c)}return a};iF.Qf.i0=function(x){var z=UTEX.DDS.decode(x)[0];return[{xH:new av(0,0,z.width,z.height),data:z.image}]};
iF.HW={};iF.HW.i0=function(x){var z=UTEX.VTF.decode(x).pop();return[{xH:new av(0,0,z.width,z.height),data:z.image}]};
iF.kQ={};iF.kQ.hL=null;iF.kQ.alu=function(x,z){var A=iF.kQ.hL,o=x.byteLength,i=z.width,L=z.height,B=i*L,D=5e6+2*o+B*(z.progressive?Math.max(2,z.numComponents)*4+1:8),Z=A.instance.exports;
iF.Ec(Z,D);var j=new Uint8Array(Z.memory.buffer),a=Z.malloc(o);j.set(new Uint8Array(x),a);var b=Z.malloc(4),W=Z.malloc(4),f5=Z.malloc(4),c=Z.stbi_load_from_memory(a,o,b,W,f5,4);
Z.free(a);Z.free(b,W,f5);Z.free(c);var Y=j.slice(c,c+B*4);return Y};(function(){var x=iF.mR.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(x).then(function(z){iF.kQ.hL=z})}());iF.kQ.ys=function(x,z,A,o){if(o==null)o=[70];
var i=x[0],L=new Uint8Array(i[0]);if(f.Tp(L)){var B=new Uint8Array(L.length),D=new av(0,0,z,A);f.OD(B,4294967295);
f.q.lx("norm",L,D,B,D,D,1);L=B}var Z=new Uint8Array(iF.JJ(L.buffer,z,A,"jpeg",o[0]/100));if(i[5]!=null){var j=iF.kQ.O8(Z)[226][0]+2,a=m.FH(Z,j),b=i[5].length+16,W=b-a,c=new Uint8Array(Z.length+W);
for(var F=0;F<j+a;F++)c[F]=Z[F];for(var F=j+a;F<Z.length;F++)c[F+W]=Z[F];m.uI(c,j,b);c.set(i[5],j+16);
Z=c}if(i[2]!=null){var Y=iF.kQ.O8(Z)[224][0]+2;Y+=9;Z[Y]=1;m.uI(Z,Y+1,i[2]);m.uI(Z,Y+3,i[2])}if(i[3]!=null&&o[1]==!0&&Object.keys(i[3]).length!=0){var R=0,$=0,k=0,w=gT.Yv(i[3]),V=new Uint8Array(UTIF.encode([w])),h="http://ns.adobe.com/xap/1.0/",j=20;
R=4+6+V.length;var l=gT.asB(i[3]),M=m.zi(l);$=4+h.length+1+M.length;var q=gT.ax4(i[3]);if(q.length!=0){var t=0,_=0;
for(var F=0;F<q.length;F++)t+=5+q[F][1].length;var p=t+(t&1),E=f.C(14+4+2+4+p);m.ax(E,_,"Photoshop 3.0");
_+=14;m.ax(E,_,"8BIM");_+=4;E[_++]=4;E[_++]=4;_+=2;m.bw(E,_,t);_+=4;for(var F=0;F<q.length;F++){var S=q[F],y=S[1];
E[_++]=28;E[_++]=2;E[_++]=S[0];m.uI(E,_,y.length);_+=2;m.ax(E,_,y);_+=y.length}k=4+E.length}var v=R+$+k,r=new Uint8Array(Z.length+v);
for(var F=0;F<20;F++)r[F]=Z[F];for(var F=20;F<Z.length;F++)r[F+v]=Z[F];r[j]=255;r[j+1]=225;m.uI(r,j+2,R-2);
m.ax(r,j+4,"Exif");for(var F=0;F<V.length;F++)r[j+10+F]=V[F];j+=R;r[j]=255;r[j+1]=225;m.uI(r,j+2,$-2);
m.ax(r,j+4,h);for(var F=0;F<M.length;F++)r[j+4+h.length+1+F]=M[F];j+=$;if(k!=0){r[j]=255;r[j+1]=237;
m.uI(r,j+2,k-2);for(var F=0;F<E.length;F++)r[j+4+F]=E[F];j+=k}Z=r}return Z.buffer};iF.kQ.O8=function(x){var z=0,A=[],o=x.length;
while(z<o){while(x[z]!=255&&z<o)z++;while(x[z]==255)z++;var i=x[z];z++;if(A[i]==null)A[i]=[];A[i].push(z-2);
if(i==216)continue;if(i==217)break;if(224<=i&&i<=239||i==218||i==219||i==192||i==193||i==194||i==196||i==221||i==254){var L=m.FH(x,z);
z+=L;if(i==218)while(z<o&&(x[z]!=255||(x[z+1]==0||208<=x[z+1]&&x[z+1]<=215)))z++;continue}console.log("unknown marker ",i.toString(16),z);
break}if(A[217]==null){console.log("EOI marker missing");var B=x.length-2;x[B]=255;x[B+1]=217;A[217]=[B]}return A};
iF.kQ.awH=function(x){x=new Uint8Array(x);if(x[0]!=255)return x.buffer;var z=iF.kQ.O8(x),A=iF.kQ.$k(x,z);
if(A.numComponents!=4)return x.buffer;var o=A.width,i=A.height,L=iF.kQ.W3(x,z,!0);return iF.kQ.ys([[L[0].data]],o,i,[85])};
iF.kQ.$k=function(x,z){var A=(z[192]?z[192]:z[193]?z[193]:z[194])[0]+4,o={};o.progressive=z[194]!=null;
o.precision=x[A];A++;o.height=m.FH(x,A);A+=2;o.width=m.FH(x,A);A+=2;o.numComponents=x[A];A++;if(z[224]){var i=o.jfif={};
A=z[224][0]+2+2+5+2;i.densityUnits=x[A];A++;i.xDensity=m.FH(x,A);A+=2;i.yDensity=m.FH(x,A);A+=2}if(z[238]){var i=o.adobe={};
A=z[238][0]+2+2+6;i.version=x[A];A++;i.flags0=m.FH(x,A);A+=2;i.flags1=m.FH(x,A);A+=2;i.transform=x[A];
A++}return o};iF.kQ.aiK=function(x,z,A){var o=z,i=m.FH(x,o);o+=2;var L=m.dX(x,o,4);if(L=="Exif"){o+=6;
var B=x.slice(o,o+i-8),D;try{D=UTIF.decode(B.buffer,{parseMN:!1,debug:!1})}catch(kc){}if(D)A.exif=D}else if(L=="http"){var Z=0;
while(x[o+Z]!=0)Z++;var j=m.dX(x,o,Z);o+=Z+1;if(j=="http://ns.adobe.com/xmp/extension/"){var a=m.dX(x,o,32);
o+=32;o+=8;var b=z+i-o;while(x[o+b-1]==0)b--;if(A.xmp_extn==null)A.xmp_extn="";try{A.xmp_extn+=m._X(x,o,b)}catch(kc){}}else if(j=="http://ns.adobe.com/xap/1.0/"){var W=m._X(x.slice(o,o+i-Z-3));
if(W[0]=="?")W="<"+W;A.xmp=W}}else console.log(L)};iF.kQ.W3=function(x,z,A){var o=iF.kQ.$k(x,z),i=o.width,L=o.height,B=i*L,D,Z=-1,h=72,l,q;
if(o.adobe)Z=o.adobe.transform;if(A||i*L>15e7||Z==0||Z==2){var j=new PDFJS.JpegImage;j.parse(x);var a=j.getData({width:i,height:L,forceRGB:!0,isSourcePDF:A}),D=f.C(B*4);
for(var F=0;F<B;F++){var b=F<<2,W=b-F;D[b]=a[W];D[b+1]=a[W+1];D[b+2]=a[W+2];D[b+3]=255}}else{D=iF.kQ.alu(x.buffer,o)}var c=z[225];
if(c)for(var F=0;F<c.length;F++)iF.kQ.aiK(x,c[F]+2,o);var Y=z[226];if(Y){var R=Y[0],$=m.FH(x,R+2),k=m.dX(x,R+4,11);
if(k=="ICC_PROFILE"){var w=m.l(x,R+18);o.icc=x.slice(R+18,R+18+w)}}var V=z[217][0]+2;if(V!=x.length)o.suffix=x.slice(V);
var M=[i,L,1,0,0,0,1,0];if(o.jfif&&o.jfif.densityUnits!=0){h=Math.round([72,1,2.54][o.jfif.densityUnits]*o.jfif.xDensity)}else if(o.exif&&o.exif[0].t282!=null){var t=o.exif[0].t282[0];
h=t[0]/t[1]}if(o.exif){var p=o.exif;l=gT.nf(p[0]);var E=p[0].t274;if(E)E=E[0];if(E!=null&&E>1&&E<20)M=f.raw.qZ(E,i,L)}if(o.xmp){l=gT.aj1(o.xmp,l)}if(o.icc)q=o.icc;
var _=z[237],S=[],y=[];if(_){var v=new Uint8Array(65536),r=0,R=0;for(var F=0;F<_.length;F++){R=_[F]+2;
var K=R+m.FH(x,R);R+=2;var s=R;while(x[R]!=0)R++;R++;var P=m.dX(x,s,R-s-1),d=K-R;if(d<0)break;while(r+d>v.length){var X=new Uint8Array(v.length*2);
X.set(v);v=X}var U=new Uint8Array(x.buffer,R,d);v.set(U,r);r+=d}R=0;x=v;while(R<r){var n=m.dX(x,R,4);
R+=4;var e=m.FH(x,R);R+=2;var J=x[R++],C=m.dX(x,R,J);R+=J;if((J&1)==0)R++;var $=m.l(x,R);R+=4;var V=R+$+($&1);
if(e==1028){while(R+4<V){var H=x[R++],u=x[R++],bc=x[R++],jK=m.FH(x,R);R+=2;if(H==28&&u==2)S.push([bc,m.dX(x,R,jK)]);
R+=jK}}else if((e&2e3)==2e3){var N=dF.nk(x,R,$);y.push([C,N])}else{}R=V}if(S.length!=0)l=gT.a7W(S,l)}var he=[{xH:new av(0,0,i,L),data:D.buffer,um:h,_T:l,E7:q,zr:y.length==0?null:y}],l=o.xmp_extn;
if(l){var gJ=new DOMParser,kg=gJ.parseFromString(l,"image/svg+xml"),kg=kg.children[0].children[0].children[0],cJ=[kg.getAttribute("GImage:Data"),kg.getAttribute("GDepth:Data")];
for(var F=0;F<cJ.length;F++)if(cJ[F]){var it=atob(cJ[F]),by=new Uint8Array(it.length);m.ax(by,0,it);
by=by.buffer;var cz=iF.cd(by),fG=iF.Lg(cz).i0(by);he.push(fG[0])}}if(o.suffix){var ju=o.suffix,gW=m.dX(ju,4,4),iI=m.rz(ju,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(iF.O6(ju,[0,0,1,10,14,0,0,0])){var R=0;while(R!=ju.length){var ht=m.FJ(ju,R+2);R+=4;var et={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[ht];
if(et!=null){var be=m.GQ(ju,R);R+=4;var c9=m.dX(ju,R,be);R+=be;var aJ=m.dX(ju,R,et);R+=et;if(ht==2608){var b6=m.l(ju,R+24);
R+=b6+24;var ef=m.l(ju,R);R+=ef;alert("Photopea found a "+aV.l1(b6)+" MP4 video inside your image.",4e3)}}else if(ht==18502){while(m.dX(ju,R,4)!="SEFT")R+=4;
R+=4}else{break;console.log(m.Fa(ju,R,128));console.log(ju.slice(R));throw ht.toString(16)}}}else if(gW=="ftyp"){alert("Photopea found a "+aV.l1(ju.length)+" MP4 video inside your image.",4e3)}else if(m.dX(ju,0,4)=="fixe"){alert("Unknown data - "+ju.length+" B - at the end of the file",3e3);
var R=4,$=m.GQ(ju,R);R+=4;var jV=m.GQ(ju,R);R+=4;var hu=m.GQ(ju,R);R+=4;console.log($,jV,hu,ju.slice(R,R+84));
R+=84;var eG=m.dX(ju,R,32);R+=32;R+=8;var eG=m.dX(ju,R,32);R+=32}else if(m.dX(ju,8,13)=="FocusShot_Map"){var k8=m.l(ju,0),jK=m.GQ(ju,4),by=f.C(B*4),eE=f.C(B*4);
for(var jD=0;jD<L;jD++)for(var a_=0;a_<i;a_++){var F=jD*i+a_,b=F<<2,cH=8+13+((jD>>>1)*i+a_>>>1),ic=ju[cH],aj=ju[cH+(B>>>2)];
by[b]=by[b+1]=by[b+2]=ic;by[b+3]=255;eE[b]=eE[b+1]=eE[b+2]=aj;eE[b+3]=255}he.push({xH:new av(0,0,i,L),data:by.buffer},{xH:new av(0,0,i,L),data:eE.buffer})}else if(gW=="edof"){var E=ju[8+7];
console.log(E.toString(16));var R=8+16,ay=m.FJ(ju,R),dS=m.FJ(ju,R+2),B=ay*dS;R+=4;R+=32+16;var hC=f.C(B*4);
for(var F=0;F<B;F++){var b=F<<2;hC[b]=hC[b+1]=hC[b+2]=ju[R+F];hC[b+3]=255}if(E==16){}else if(E==19){var eq=hC.slice(0);
f.P.dS(hC,eq,ay,dS);var ck=ay;ay=dS;dS=ck;f.P.S1(eq,hC,ay,dS)}else throw"Unknown orientation of a depth map";
he.push({xH:new av(0,0,ay,dS),data:hC.buffer})}else if(iI!=-1&&!(ju[0]==255&&ju[1]==129)){try{if(iI!=0)ju=ju.slice(iI);
var fG=iF.Lg("jpg").i0(ju.buffer);for(var F=0;F<fG.length;F++)he.push(fG[F])}catch(kc){}}else if(m.dX(ju,0,4)=="PMPD"){var R=4,eL=m.GQ(ju,12),gj=m.GQ(ju,16),ay=m.GQ(ju,1060),dS=m.GQ(ju,1064),bv=ay>dS,dK=he[0].xH.m>he[0].xH.n,cC=ju.slice(ju.length-ay*dS-4),iv=f.C(ay*dS);
for(var jD=0;jD<dS;jD++)for(var a_=0;a_<ay;a_++)iv[jD*ay+a_]=cC[(dS-jD-1)*ay+a_];var dJ=f.C(ay*dS*4);
dJ.fill(255);f.c3(iv,dJ);if(bv!=dK){var eq=dJ.slice(0);f.P.dS(dJ,eq,ay,dS);var ck=ay;ay=dS;dS=ck;f.P.S1(eq,dJ,ay,dS)}he.push({xH:new av(0,0,ay,dS),data:dJ.buffer})}else console.log(m.dX(ju,0,4),ju)}if(he.length>1){var km=he[0].xH;
he[0].xy="Main";for(var F=1;F<he.length;F++){he[F].xy=iF.kQ.aiM(new Uint8Array(he[F].data))?"Depth Map":null;
var aM=he[F].xH;if(!aM.S0(km)){var fq=km.m/aM.m,dV=km.n/aM.n,im=new cb;im.scale(fq,dV);var hj=Q.S.Ea([new Uint8Array(he[F].data),aM],1,f.P.TX(im));
he[F].xH=hj.rect;he[F].data=hj.buffer}}}if(iF.kQ.ro==1)if(M[2]!=1||M[6]!=1)for(var F=0;F<he.length;F++){var d8=he[F],cI=new Uint8Array(d8.data),i=d8.xH.m,L=d8.xH.n,ay=M[0],dS=M[1],D=f.C(ay*dS*4);
f.P.RN(cI,i,L,D,M);d8.xH=new av(0,0,ay,dS);d8.data=D.buffer}return he};iF.kQ.aiM=function(x){var z=!0;
for(var F=0;F<x.length;F+=4){z=z&&x[F]==x[F+1]&&x[F+1]==x[F+2]}return z};iF.kQ.ro=0;iF.kQ.i0=function(x,z,A){x=new Uint8Array(x);
if(x[0]==255){var o=iF.kQ.O8(x);if(o[195]==null){iF.kQ.ro++;var i=iF.kQ.W3(x,o,!1);iF.kQ.ro--;return i}var L=m.FH(x,o[195][0]+5),B=m.FH(x,o[195][0]+7),D=UTIF.LosslessJpegDecode(x),Z=B*L,j=f.C(Z*4);
for(var F=0;F<Z;F++){var a=F<<2,b=a-F;j[a]=D[b];j[a+1]=D[b+1];j[a+2]=D[b+2];j[a+3]=255}return[{xH:new av(0,0,B,L),data:j.buffer}]}else if(x[0]==0&&x[4]==48&&x[6]==1){var W=x,c=new PDFJS.Jbig2Image,Y=[];
if(z)Y.push({data:z,start:0,end:z.length});Y.push({data:W,start:0,end:W.length});var D=c.parseChunks(Y);
if(!A)for(var F=0;F<D.length;F++)D[F]=~D[F];var B=m.l(x,11),L=m.l(x,15),R=Math.ceil(B/8),$=f.C(B*L*4);
for(var k=0;k<L;k++){var w=k*R;for(var V=0;V<B;V++){var a=(k*B+V)*4,h=D[w+(V>>>3)]>>>7-(V&7)&1,l=h*255;
$[a]=l;$[a+1]=l;$[a+2]=l;$[a+3]=255}}return[{xH:new av(0,0,B,L),data:$.buffer}]}else{var c=new PDFJS.JpxImage;
c.parse(x);var B=c.width,L=c.height,M=c.tiles,q=c.componentsCount,t=new Uint8Array(B*L*4),p=new av(0,0,B,L);
for(var c=0;c<M.length;c++){var E=M[c],_=E.width,S=E.height,y=_*S,v=E.items,r=new av(E.left,E.top,_,S),K=new Uint8Array(y*4);
if(q==1)for(var F=0;F<y;F++){var s=v[F],a=F*4;K[a]=s;K[a+1]=s;K[a+2]=s;K[a+3]=255}else if(q==3)for(var F=0;
F<y;F++){var b=F*3,a=F*4;K[a]=v[b];K[a+1]=v[b+1];K[a+2]=v[b+2];K[a+3]=255}else console.log("Unknown number of components: "+q);
f.mV(K,r,t,p)}return[{xH:p,data:t.buffer}]}};iF.bm={};iF.bm.ys=function(x,z,A,o){if(o==null)o=[70,0,0,0];
var i=o[0]/100,Z=0;if(x.length==1)return iF.JJ(x[0][0],z,A,"webp",i);var L=m._h,B=m.KX,D=new cc;L(D,Z,"RIFF    WEBPVP8X");
Z+=16;B(D,Z,10);Z+=4;B(D,Z,18);Z+=4;B(D,Z,z-1);Z+=3;B(D,Z,A-1);Z+=3;L(D,Z,"ANIM");Z+=4;B(D,Z,6);Z+=4;
D.qQ(Z,4);D.data[Z+3]=255;m.Gx(D,Z+4,o[2]);Z+=6;var j=[];for(var F=0;F<x.length;F++){j.push(x[F][0])}var a=UPNG.encode.compress(j,z,A,i==1?0:Math.max(2,Math.floor(i*500)),[!1,!0,!0,0,!0]).frames;
function b(t,p,E,_){var V=t.u-8,h=t.size+8;E.qQ(_,h);for(var F=0;F<h;F++)E.data[_+F]=p[V+F];return _+h}for(var F=0;
F<x.length;F++){L(D,Z,"ANMF");Z+=4;var W=Z,V=0,h=0;Z+=4;var c=a[F],Y=c.rect,R=[Y.x>>>1,Y.y>>>1,Y.width-1,Y.height-1,x[F][1]];
for(var $=0;$<5;$++)B(D,Z+3*$,R[$]);Z+=15;D.qQ(Z,1);D.data[Z]=1-c.blend<<1|c.dispose;Z++;var k=new Uint8Array(iF.JJ(c.img.buffer,Y.width,Y.height,"webp",1)),w=i9.l6(k.buffer).sub,l={};
for(var M=0;M<w.length;M++)l[w[M].mZ]=w[M];if(l.VP8L)Z=b(l.VP8L,k,D,Z);else throw"e";var q=Z-W-4;B(D,W,q);
if((q&1)==1){D.qQ(Z,1);Z++}}B(D,4,Z-8);return D.data.slice(0,Z).buffer};(function(){var x=iF.mR.get("wasm/webp").buffer;
WebAssembly.instantiate(x).then(function(z){var A=z.instance.exports;iF.bm.exp=A})}());iF.bm.i0=function(x){var z=new Uint8Array(x),A=iF.bm.abJ,o=null,i=i9.l6(x).sub,L={};
for(var F=0;F<i.length;F++)L[i[F].mZ]=i[F];var B=L.ANIM,D=L.VP8L,Z=L["VP8 "],j=L.VP8X;if(B==null){var a,b;
if(Z){a=m.FJ(z,Z.u+6);b=m.FJ(z,Z.u+8)}else if(D){var W=m.GQ(z,D.u+1);a=(W&(1<<14)-1)+1;b=(W>>>14&(1<<14)-1)+1}else throw"e";
var c=[A(o,x,{u:0,size:z.length},a,b)];return c}var Y=j.u,a=1+(m.GQ(z,Y+4)&16777215),b=1+(m.GQ(z,Y+7)&16777215),R=[],$=new av(0,0,a,b),k=f.C(a*b*4);
for(var F=0;F<i.length;F++){var w=i[F];if(w.mZ!="ANMF")continue;var V=[];for(var h=0;h<5;h++)V.push(m.GQ(z,w.u+h*3)&16777215);
var l=new av(V[0]*2,V[1]*2,V[2]+1,V[3]+1),M=V[4],q=A(o,x,{u:w.u+16,size:w.size-16},a,b),t=new Uint8Array(q.data),p=z[w.u+15];
if(p>>>1==0)f.q.lx("norm",t,l,k,$,l,1);else f.mV(t,l,k,$);R.push({xy:"_a_"+R.length+","+M,xH:$.clone(),data:k.buffer.slice(0)});
if((p&1)==1){f.OD(t,0);f.mV(t,l,k,$)}}return R};iF.bm.abJ=function(x,z,A,o,i){var L=iF.bm.exp,B=L.memory,D=5e6+2*A.size+o*i*10;
iF.Ec(L,D);var Z=new Uint8Array(B.buffer),j=L.malloc(A.size);Z.set(new Uint8Array(z,A.u,A.size),j);var a=L.malloc(8),b=L.WebPDecodeARGB(j,A.size,a,a+4),W=m.GQ(Z,a),c=m.GQ(Z,a+4),Y=W*c*4,R=f.C(Y);
for(var F=0;F<Y;F+=4){R[F]=Z[b+F+1];R[F+1]=Z[b+F+2];R[F+2]=Z[b+F+3];R[F+3]=Z[b+F]}L.WebPFree(b);L.free(a);
L.free(j);return{xH:new av(0,0,W,c),data:R.buffer}};iF.a8c=function(){function x(D,Z,j,a){var b=new Uint8Array(D[0][0]),W=new Uint32Array(b.buffer),c=[],Y={},$=24,k=0,M=0;
for(var F=0;F<W.length;F++){var R=W[F]&16777215;if(Y[R]==null){Y[R]=c.length;c.push(R);if(c.length>256){c=null;
break}}}if(c){$=1;while(1<<$<c.length)$*=2;if($==2)$=4}var w={GM:Z,zp:j,X$:1,nj:$,R$:0,asy:k},V=4*Math.floor((w.nj*w.GM+31)/32);
w.size=V*w.zp+2;var h=new cc,l=c?(1<<$)*4:0;m._h(h,M,"BM");M+=2;m.KX(h,M,V*j+16+40+l);M+=4;m.KX(h,M,0);
M+=4;m.KX(h,M,54+l);M+=4;h.qQ(M,40);m.KX(h,M,40);M+=4;B(h.data,M,w,V);M+=36;if(c){h.qQ(M,l);var q=h.data;
for(var F=0;F<c.length;F++){var t=M+F*4,p=c[F]>>>16,E=c[F]>>>8&255,_=c[F]&255;q[t]=p;q[t+1]=E;q[t+2]=_}M+=l}h.qQ(M,V*j);
if($==24)for(var S=0;S<j;S++){var y=M+(j-1-S)*V;for(var v=0;v<Z;v++){var r=(S*Z+v)*4;h.data[y+v*3+2]=b[r];
h.data[y+v*3+1]=b[r+1];h.data[y+v*3+0]=b[r+2]}}else if($==8)for(var S=0;S<j;S++){var y=M+(j-1-S)*V;for(var v=0;
v<Z;v++){var r=S*Z+v,K=Y[W[r]&16777215];h.data[y+v]|=K}}else if($==4)for(var S=0;S<j;S++){var y=M+(j-1-S)*V;
for(var v=0;v<Z;v++){var r=S*Z+v,K=Y[W[r]&16777215];h.data[y+(v>>>1)]|=K<<4-(v&1)*4}}else if($==1)for(var S=0;
S<j;S++){var y=M+(j-1-S)*V;for(var v=0;v<Z;v++){var r=S*Z+v,K=Y[W[r]&16777215];h.data[y+(v>>>3)]|=K<<7-(v&7)}}M+=V*j+2;
return h.data.slice(0,M).buffer}function z(D){D=new Uint8Array(D);if(m.GQ(D,0)==40)return[A(D.buffer,0)];
var Z=0,j=m.dX(D,Z,2);Z+=2;if(j!="BM"){alert("Unsupported BMP format: "+j);return}var a=m.GQ(D,Z);Z+=4;
Z+=4;var b=m.GQ(D,Z);Z+=4;return[A(D.buffer,Z,b)]}function A(D,Z,j){D=new Uint8Array(D);var a=m.GQ(D,Z),b=L(D,Z+4);
if(b.X$!=1)alert("unsupported number of color planes: "+b.X$);if(b.R$!=0&&b.R$!=1&&b.R$!=2&&b.R$!=3){alert("Unsupported BMP compression: "+b.R$);
return}Z+=a;var W=Z,c=D;if(j==null)j=Z;if(b.R$==1||b.R$==2){var Y=i(D,j,b);b.nj=8;D=Y;j=0}var R=4*Math.floor((b.nj*b.GM+31)/32),$=b.GM,k=Math.abs(b.zp),w=new Uint8Array($*k*4);
w.fill(255);if(b.nj==32)for(var V=0;V<k;V++){var h=j+(k-1-V)*R;for(var l=0;l<$;l++){var M=(V*$+l)*4;
w[M]=D[h+l*4+2];w[M+1]=D[h+l*4+1];w[M+2]=D[h+l*4+0];w[M+3]=D[h+l*4+3]}}else if(b.nj==24)for(var V=0;
V<k;V++){var h=j+(k-1-V)*R;for(var l=0;l<$;l++){var M=(V*$+l)*4;w[M]=D[h+l*3+2];w[M+1]=D[h+l*3+1];w[M+2]=D[h+l*3+0]}}else if(b.nj==16)for(var V=0;
V<k;V++){var h=j+(k-1-V)*R;for(var l=0;l<$;l++){var M=(V*$+l)*4,q=D[h+l*2+1]<<8|D[h+l*2];w[M]=(q>>>11)*(255/31);
w[M+1]=(q>>>5&63)*(255/63);w[M+2]=(q&31)*(255/31)}}else if(b.nj==8)for(var V=0;V<k;V++){var h=j+(k-1-V)*R;
for(var l=0;l<$;l++){var M=(V*$+l)*4,t=D[h+l];w[M]=c[W+4*t+2];w[M+1]=c[W+4*t+1];w[M+2]=c[W+4*t+0]}}else if(b.nj==4)for(var V=0;
V<k;V++){var h=j+(k-1-V)*R;for(var l=0;l<$;l++){var M=(V*$+l)*4,t=D[h+(l>>1)];t=t>>4-4*(l&1);t=t&15;
w[M]=c[W+4*t+2];w[M+1]=c[W+4*t+1];w[M+2]=c[W+4*t+0]}}else if(b.nj==1)for(var V=0;V<k;V++){var h=j+(k-1-V)*R;
for(var l=0;l<$;l++){var M=(V*$+l)*4,p=D[h+(l>>3)];p=p>>7-(l&7);p=p&1;w[M]=c[W+4*p+2];w[M+1]=c[W+4*p+1];
w[M+2]=c[W+4*p+0]}}else throw"Unknown bit depth "+b.nj;if(b.zp<0){var E=new Uint32Array(w.buffer),_=k>>>1;
for(var V=0;V<_;V++){var S=V*$,y=(k-V-1)*$;for(var l=0;l<$;l++){var v=E[S+l];E[S+l]=E[y+l];E[y+l]=v}}}return{xH:new av(0,0,$,k),data:w.buffer}}function o(D,F){return D>>>4-((F&1)<<2)&15}function i(D,Z,j){var a=j.GM,b=Math.abs(j.zp),W=new Uint8Array(a*b),c=0,Y=0,F=0;
while(Y<b){var R=D[Z++],$=D[Z++],k=Y*a+c;if(R>0){if(j.nj==4)for(F=0;F<R;F++){W[k+F]=o($,F)}else for(F=0;
F<R;F++){W[k+F]=$}c+=R}else if(R==0&&$==0){Y++;c=0}else if(R==0&&$==1){break}else if(R==0&&$==2){c+=D[Z++];
Y+=D[Z++]}else{var w=$;if(j.nj==4){for(F=0;F<$;F++){W[k+F]=o(D[Z+(F>>>1)],F)}w=Math.ceil($/2)}else{for(F=0;
F<$;F++){W[k+F]=D[Z+F]}}if((w&1)!=0)w++;Z+=w;c+=$}}return W}function L(D,Z){var j=m.Hf,a=m.GQ,b=m.FJ,W={};
W.GM=j(D,Z);Z+=4;W.zp=j(D,Z);Z+=4;W.X$=b(D,Z);Z+=2;W.nj=b(D,Z);Z+=2;W.R$=a(D,Z);Z+=4;W.size=a(D,Z);Z+=4;
var c=j(D,Z);Z+=4;var Y=j(D,Z);Z+=4;W.asy=a(D,Z);Z+=4;Z+=4;return W}function B(D,Z,j,a){m.hX(D,Z,j.GM);
Z+=4;m.hX(D,Z,j.zp);Z+=4;m.GB(D,Z,j.X$);Z+=2;m.GB(D,Z,j.nj);Z+=2;m.hX(D,Z,j.R$);Z+=4;m.hX(D,Z,j.size);
Z+=4;m.hX(D,Z,2834);Z+=4;m.hX(D,Z,2834);Z+=4;m.hX(D,Z,j.asy);Z+=4;Z+=4}return{i0:z,ys:x,awV:A}}();iF.z8={};
iF.z8.ys=function(x,z,A,o){if(o==null)o=[100,!1,0,0,0,0];var i=[],L=[],B=z*A*4,R=null;for(var D=0;D<x.length;
D++){var Z=new Uint8Array(x[D][0].slice(0));for(var F=0;F<B;F+=4){var j=Z[F+3]=Z[F+3]>127?255:0;if(j==0)Z[F]=Z[F+1]=Z[F+2]=0}i.push(Z.buffer);
L.push(x[D][1])}var a=Math.round(2+254*o[0]/100),b=UPNG.encode.compress(i,z,A,a,[!0,!1,!1,8,!1,o[1]]),W=b.plte,c=new Uint8Array(4),Y=new Uint32Array(c.buffer);
for(var F=0;F<W.length;F++){Y[0]=W[F];var $=c[0];c[0]=c[2];c[2]=$;W[F]=Y[0];if(Y[0]==0)R=F}while(W.length<256)W.push(0);
var k=new Uint8Array(2e3+z*A*x.length),w=o[3],V={palette:W};if(w!=1)V.loop=w==0?0:w-1;var h=new GifWriter(k,z,A,V);
for(var F=0;F<x.length;F++){var l=b.frames[F],M=l.rect,q=l.blend,t=l.dispose,p=Math.round(L[F]/10);if(p<2)p=2;
h.addFrame(M.x,M.y,M.width,M.height,l.img,{transparent:R,disposal:t+1,delay:p})}return k.slice(0,h.end()).buffer};
iF.z8.i0=function(x){var z=Date.now(),A=[],o=UGIF.decode(x),i=UGIF.toRGBA8(o),L=new av(0,0,o.width,o.height);
for(var F=0;F<i.length;F++){var B=o.frames[F];A.push({xH:L.clone(),xy:"_a_frm"+F+","+B.delay*10,data:i[F]})}return A};
iF.D_={};iF.D_.ys=function(x,z,A,o){console.log(x);if(z>256||A>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var i=Math.min(z,256),L=Math.min(A,256),B=new av(0,0,i,L),D=f.C(B.$()*4),Z=new av(0,0,z,A),j=new Uint8Array(x[0][0]);
f.mV(j,Z,D,B);x[0][0]=D.buffer;z=i;A=L}var a=new cc,b=0,W=o&&o[0]==!0;m.Gx(a,b,0);b+=2;m.Gx(a,b,W?2:1);
b+=2;m.Gx(a,b,1);b+=2;var c=new Uint8Array(iF.Lg("png").ys(x,z,A));a.qQ(b,16);a.data[b]=z==256?0:z;b++;
a.data[b]=A==256?0:A;b++;b+=2;m.Gx(a,b,W?Math.round(z/2):1);b+=2;m.Gx(a,b,W?Math.round(A/2):32);b+=2;
m.KX(a,b,c.length);b+=4;m.KX(a,b,6+16);b+=4;a.qQ(b,c.length);for(var F=0;F<c.length;F++)a.data[b+F]=c[F];
b+=c.length;var Y=new Uint8Array(b);for(var F=0;F<b;F++)Y[F]=a.data[F];return Y.buffer};iF.D_.i0=function(x){x=new Uint8Array(x);
var z=4,A=m.FJ(x,z);z+=2;var o=[];for(var F=0;F<A;F++){var i=iF.D_.asf(x,z+F*16),L=x.buffer.slice(i.offset,i.offset+i.size),B=iF.cd(L);
B=B?B:"bmp";if(B=="png"){var D=iF.Lg(B),Z=D.i0(L);i.H1=Z[0]}else{var j=iF.Lg("BMP").awV(L,0),L=f.C(i.GM*i.zp*4);
f.mV(new Uint8Array(j.data),new av(0,0,j.xH.m,j.xH.n),L,new av(0,i.zp,i.GM,i.zp));j.data=L.buffer;j.xH.n=i.zp;
i.H1=j}o.push(i)}o.sort(function(a,b){if(a.GM!=b.GM)return a.GM-b.GM;return a.amJ-b.amJ});return[o.pop().H1]};
iF.D_.asf=function(x,z){var A={};A.GM=x[z];z++;if(A.GM==0)A.GM=256;A.zp=x[z];z++;if(A.zp==0)A.zp=256;
A.acz=x[z];z++;z++;A.asp=m.FJ(x,z);z+=2;A.amJ=m.FJ(x,z);z+=2;A.size=m.GQ(x,z);z+=4;A.offset=m.GQ(x,z);
z+=4;return A};iF.cP={};iF.cP.i0=function(x){var z=Date.now(),o,b=!0;if(f.raw.VL(x.byteLength))return[f.raw.akA(x)];
var A=UTIF.decode(x);if(A[0].t33421)o=A[0];else if(A[0].subIFD&&A[0].t271&&A[0].t271[0]=="Hasselblad"){o=A[0].subIFD[0];
o.t33421=[2,2]}else if(A[0].subIFD&&A[0].subIFD[0].t33421){o=A[0].subIFD[0];if(o.t50706==null){if(o.t258[0]==8)o.t258[0]=12}}else if(A[0].subIFD&&A[0].subIFD[0]&&A[0].subIFD[0].t262&&A[0].subIFD[0].t262[0]==34892)o=A[0].subIFD[0];
else if(A[0].subIFD&&A[0].subIFD[1]&&A[0].subIFD[1].t33421)o=A[0].subIFD[1];else if(A[0].subIFD&&A[0].subIFD[2]&&A[0].subIFD[2].t33421)o=A[0].subIFD[2];
else if(A[3]&&A[3].t50648){var i=A[0].exifIFD,L=i.makerNote;o=A[3];var B=L.t224[1],D=L.t224[2];o.t256=[B];
o.t257=[D];o.t258=[16];o.t259=[7];o.t262=[32803];o.t277=[1];o.t33421=[2,2];var Z=o.t50656[0],j=f.raw.Dm[Z];
if(j==null)throw"e";o.t33422=j}if(o){UTIF.decodeImage(x,o,A);for(var a in A[0])if((a[0]=="t"||a[0]=="e"||a[0]=="d")&&o[a]==null)o[a]=A[0][a];
o.$e=A[0].t274?A[0].t274[0]:1;return[o]}var W=1/256;for(var F=0;F<A.length;F++)if(A[F].t258&&A[F].t258[0]==16&&A[F].t277&&A[F].t277[0]==1){}else b=!1;
if(b){var c=0,Y=0,R=0;for(var F=0;F<A.length;F++){UTIF.decodeImage(x,A[F],A);var $=A[F].data;for(var k=0;
k<$.length;k+=2){var w=$[k+1]<<8|$[k];if(w>c)c=w;Y+=w;R++}}W=1/256*65535/(.5*c+.5*(2*Y/R))}var V=[];
for(var F=0;F<A.length;F++){var h=A[F],l=72;UTIF.decodeImage(x,h,A);var M=h.t282,q=h.t296;if(M!=null&&q!=null){l=M[0][0]/M[0][1];
if(q[0]==3)l=Math.round(l/2.54)}if(h.width==null)continue;var t=UTIF.toRGBA8(h,W).buffer,p=gT.nf(h);
console.log(h);V.push({xH:new av(0,0,h.width,h.height),data:t,um:l,_T:p,E7:h.t34675?h.t34675.slice(0):null})}return V};
iF.cP.ys=function(x,z,A,o){if(o==null)o=[!1];var i={},L=x[0];if(L[3]!=null&&o[0])i=gT.Yv(L[3]);if(L[2]!=null){i.t282=i.t283=[[Math.round(L[2]),1]];
i.t296=[2]}return UTIF.encodeImage(L[0],z,A,i)};iF.Cl={};iF.Cl.RQ=!0;iF.Cl.i0=function(x,z){g4.l6(x,z)};
iF.Cl.a8T=function(x,z,A,o){if(o==null)o=[!1,!1,!1,!1];if(!o[0])x.MK();var i=new cc,L=g4.Im(x,i,o);return[i.data.buffer,L]};
iF.Cl.ys=function(x,z,A,o){var i=iF.Cl.a8T(x,z,A,o),L=i[0],B=i[1];return L.byteLength==B?L:L.slice(0,B)};
iF.Va={};iF.Va.RQ=!0;iF.Va.i0=function(x,z){var A=pako.inflate(new Uint8Array(x)),o=m.FH(A,0),i=m.FH(A,2),L=4;
z.m=m.l(A,L);L+=4;z.n=m.l(A,L);L+=4;z.buffer=f.C(z.m*z.n*4);var B=m.FH(A,L);L+=2;L+=4;for(var D=0;D<B;
D++){var Z=z.Ad(),Y=0,K=1,s=2,P=3,d=0;z.g.push(Z);var j=m.l(A,L);L+=4;var a=L,b=m.FH(A,a);a+=2;var W=m._X(A,a,b);
a+=b;Z.rk(W);var c=A[a];a++;if(c!=0&&c!=1)throw c;Z.rect.x=m.JR(A,a);a+=4;Z.rect.y=m.JR(A,a);a+=4;Z.rect.m=m.l(A,a);
a+=4;Z.rect.n=m.l(A,a);a+=4;if(o>3){Y=m.JR(A,a);a+=4}Z.opacity=Math.round(255*A[a]/100);a++;var R=A[a];
a++;Z.uO(R!=0);Z.Cz="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[A[a]];
a++;var $=A[a];a++;if($)Z.add.lspf=1<<31;if(o>3){var k=m.FH(A,a);a+=2;if(k!=0){var w=JSON.parse(m._X(A,a,k));
a+=k;var V=w.text,h=w.textSettings,l=h.font,M=h.size,q=h.padding,t=parseInt(h.color.slice(1),16);Z.add.lnsr="rend";
Z.add.TySh=am.P9(0,0);Z.add.TySh.t0=new av(0,0,100,100);var p=Z.add.TySh.D=new cb,E=Z.rect.m/2,_=Z.rect.n/2;
p.translate(-E,-_);p.rotate(-Y*Math.PI/180);p.translate(E,_);p.translate(Z.rect.x+q,Z.rect.y+q);var S=Z.add.TySh.gP;
am.cn(S,1);am.Lf(S,[0,0,Z.rect.m-q*2,Z.rect.n]);am.tW(S,0,V);var y=am.En(S,0,1);y.i8.FontSize=M;y.i8.FillColor={Type:1,Values:[1,(t>>>16&255)/255,(t>>>8&255)/255,(t>>>0&255)/255]};
if(h.bold)l+="-Bold";am.Lk(y,l);y.tl.Justification=["left","right","center"].indexOf(h.align);am.zz(S,0,V.length,y)}}var v=m.l(A,a);
a+=4;if(v!=Z.rect.$()*4){for(var F=Z.rect.m;F>Z.rect.m/2;F--){var r=v/(F*4);if(r==Math.round(r)){Z.rect.m=F;
Z.rect.n=r;break}}}Z.buffer=f.C(Z.rect.$()*4);if(o>3){K=0;s=1;P=2;d=3}for(var F=0;F<v;F+=4){Z.buffer[F]=A[a+F+K];
Z.buffer[F+1]=A[a+F+s];Z.buffer[F+2]=A[a+F+P];Z.buffer[F+3]=A[a+F+d]}a+=v;var X=m.l(A,a);a+=4;if(X==0&&o>3){L+=j;
continue}var U=A[a];a++;var n=m.FH(A,a);a+=2;if(X!=0){Z.B=new g.$R;Z.B.rect=Z.rect.clone();Z.B.channel=f.C(Z.rect.$());
for(var F=0;F<X;F+=4)Z.B.channel[F>>>2]=A[a+F+1];a+=X}if(U!=0){var e=JSON.parse(gN.default);Z.add.lmfx=e;
for(var F=0;F<gN.order.length;F++)e[gN.OX[F]]={t:"VlLs",v:[]};var J={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var F=0;F<U;F++){var C=m.FH(A,a),H=a+C+4,u=A.slice(a,H),bc=A[a+2];a+=3;var jK=J[bc+""],N=JSON.parse(gN.NK[jK]);
e[gN.OX[jK]].v.push({t:"Objc",v:N});if(jK!=0){N.Md.v.BlnM=b_.d$("norm");N.Opct.v.val=A[a];a++;if(jK==9||jK==2){N.Dstn.v.val=A[a+1];
a+=2}else a+=2;N.blur.v.val=Math.round(A[a]*1.2);a++;if(jK==9||jK==2){N.uglg.v=!1;N.lagl.v.val=180-m.FH(A,a);
a+=2}N.Clr.v=f.Q.Vv({w:A[a+1],a:A[a+2],s:A[a+3]})}else{N.hglM.v.BlnM=N.sdwM.v.BlnM=b_.d$("norm");a+=2;
var he=A[a++],gJ=A[a++];N.blur.v.val=Math.round(Math.sqrt(gJ*he)*1.3);N.srgR.v.val=Math.round(100*he/gJ);
N.uglg.v=!1;N.lagl.v.val=180-m.FH(A,a);a+=2;N.hglO.v.val=A[a++];N.hglC.v=f.Q.Vv({w:A[a+1],a:A[a+2],s:A[a+3]});
a+=4;N.sdwO.v.val=A[a++];N.sdwC.v=f.Q.Vv({w:A[a+1],a:A[a+2],s:A[a+3]});a+=4}a=H}}if(a-L<j){var kg=m.l(A,a),by=0;
a+=4;a++;var b=m.FH(A,a);a+=2;var V=m._X(A,a,b);a+=b;V=V.replace(/\r/g,"\n");var b=m.FH(A,a);a+=2;var l=m._X(A,a,b);
a+=b;var M=m.FH(A,a);a+=2;var cJ=Z.rect.x,it=Z.rect.m;if(kg&4)by=1;if(kg&2)by=2;var cz=Math.round(M*.4);
if(by==0||by==2)it+=cz;if(by==1||by==2){it+=cz;cJ-=cz}Z.add.lnsr="rend";Z.add.TySh=am.P9(0,0);Z.add.TySh.t0=new av(0,0,100,100);
Z.add.TySh.D=new cb(1,0,0,1,cJ,Z.rect.y+M*.25);var S=Z.add.TySh.gP;am.cn(S,1);am.Lf(S,[0,0,it,Z.rect.n]);
am.tW(S,0,V);var y=am.En(S,0,1);y.i8.FontSize=M;y.i8.FillColor={Type:1,Values:[1,A[a+1]/255,A[a+2]/255,A[a+3]/255]};
a+=4;if(A[a+5])l+="-Bold";if(A[a+6])l+="-Italic";am.Lk(y,l);y.tl.Justification=by;a+=8;am.zz(S,0,V.length,y)}L+=j}};
iF.b8={};iF.b8.RQ=!0;iF.b8.i0=function(x,z){gE.l6(x,z)};iF.Lc={};iF.Lc.RQ=!0;iF.Lc.i0=function(x,z){gB.l6(x,z)};
iF.J0={};iF.J0.RQ=!0;iF.J0.i0=function(x,z){jL.l6(x,z)};iF.DR={};iF.DR.RQ=!0;iF.DR.i0=function(x,z){aO.l6(x,z)};
iF.dr={};iF.dr.RQ=!0;iF.dr.i0=function(x,z){fe.l6(x,z)};iF.XU={};iF.XU.RQ=!0;iF.XU.i0=function(x,z){cZ.l6(x,z)};
iF.sF={};iF.sF.RQ=!0;iF.sF.ys=function(x,z,A,o,i){if(o==null)o=[!0,!1,!1,!1,!0];var L=c0.aM(x,{W5:o[0],hidden:o[1],a5h:o[2],ago:o[3],oL:o[4],aeI:z,al6:A},i.P2);
return L};iF.sF.i0=function(x,z,A){c0.l6(x,z,A)};iF.R8={};iF.R8.RQ=!0;iF.R8.i0=function(x,z){var A=150,o=new cb(1,0,0,-1,0,0);
o.scale(A/72,A/72);z.um=A;var i=new jn(z,o,!0);FromPS.Parse(x,i)};iF.T5={};iF.T5.RQ=!0;iF.T5.ys=function(x,z,A,o,i){if(o==null)o=["",100,!1,!1,!1,0];
o[6]=["jpg"];var L=new ToPDF;jv.aM(x,o,L,i.P2,z,A);return L.buffer};iF.T5.i0=function(x,z,A){var o=2;
while(!0){var i=o*72,L=new cb(1,0,0,-1,0,0);L.scale(i/72,i/72);z.um=i;var B=new jn(z,L,!0);FromPDF.Parse(x,B);
var D=Math.max(z.m,z.n);if(A&&D<Math.max(A[0],A[1])){z.g=[];var Z=o;while(D*(o/Z)<Math.max(A[0],A[1]))o++}else break}};
iF.A7={};iF.A7.RQ=!0;iF.A7.i0=function(x,z){var A=72,o=new cb(1,0,0,1,0,0);o.scale(A/72,A/72);z.um=A;
var i=new jn(z,o,!1);FromWMF.Parse(x,i)};iF.YB={};iF.YB.lP=!0;iF.YB.RQ=!0;iF.YB.ys=function(x,z,A,o,i){if(o==null)o=["",100,!1,!1,!1,0];
o[6]=[];var L=new ToEMF;jv.aM(x,o,L,i.P2);return L.buffer};iF.YB.i0=function(x,z){var A=72,o=new cb(1,0,0,1,0,0);
o.scale(A/72,A/72);z.um=A;var i=new jn(z,o,!1);FromEMF.Parse(x,i)};iF.Tk={};iF.Tk.RQ=!0;iF.Tk.i0=function(x,z){return gl.l6(x,z)};
iF.uF={};iF.uF.i0=function(x,z){var A=hk.l6(x),o=new Uint8Array(x),i=0,L,B,D,Z,j,a,b,W,c=0,Y=0,R=0,$=0,k=0;
for(var w=0;w<A.sub.length;w++){var V=A.sub[w],i=V.u;if(V.mZ=="BMHD"){var h=[];for(var F=0;F<4;F++)h[F]=m.FH(o,i+2*F);
i+=8;Z=h[2];j=h[3];B=h[0];D=h[1];L=f.C(B*D*4);a=o[i++];b=o[i++];W=o[i++]}else if(V.mZ=="CMAP")c=i;else if(V.mZ=="CAMG"){var l=m.l(o,i);
Y=l&32768,R=l&4,$=l&2048;k=l&128}else if(V.mZ=="BODY"){var M=B+15>>>4<<1,q=a+b,t=f.C(M*D*q),S,y,v;cg.NS(o,i,V.size,t,0,t.length);
var p=a-2,E=(1<<p)-1,_=Math.round(255/E);for(var j=0;j<D;j++)for(var Z=0;Z<B;Z++){var r=0;for(var K=0;
K<q;K++){var s=(j*q+K)*M*8+Z,P=t[s>>>3]>>>7-(s&7)&1;r|=P<<K}var d=r>>>a,r=r&(1<<a)-1,F=j*B+Z,X=F<<2;
if(c!=0){if($!=0&&r>>>p!=0){var U=r>>>p,n=(r&E)*_;if(U==1)v=n;else if(U==2)S=n;else if(U==3)y=n}else{var n=c+r*3;
S=o[n+0];y=o[n+1];v=o[n+2]}}else{S=r>>>0&255;y=r>>>8&255;v=r>>>16&255}L[X+0]=S;L[X+1]=y;L[X+2]=v;L[X+3]=255}}}return[{xH:new av(0,0,B,D),data:L.buffer}]};
iF.at={};iF.at.RQ=!1;iF.at.ys=function(x,z,A,o){var i=x[0][4],L=new Uint8Array(x[0][0]),B=2,D=i?!0:!1,Z=D?4:3,j=new Uint8Array(z*A*Z);
for(var a=0;a<A;a++)for(var b=0;b<z;b++){var W=a*z+b<<2,c=((A-a-1)*z+b)*Z;j[c]=L[W+2];j[c+1]=L[W+1];
j[c+2]=L[W+0];if(D)j[c+3]=i[0][a*z+b]}if(!0){var Y=j.length,R=0,$=new Uint8Array(Y*2),k=0,w=0,V=z*Z;
while(w<Y){var h=w,l=0,M=V*(Math.floor(w/V)+1);while(h<M&&l<128){var q=!0;for(var F=0;F<Z;F++)q=q&j[w+F]==j[h+F];
if(!q)break;h+=Z;l++}if(l==1){var t=1;while(t<128&&w+(t+1)*Z<M){var q=!0,p=w+t*Z;for(var F=0;F<Z;F++)q=q&j[p+F]==j[p+Z+F];
if(q)break;t++}$[k++]=t-1;for(var E=0;E<t;E++)for(var F=0;F<Z;F++)$[k++]=j[w++]}else{$[k++]=127+l;for(var F=0;
F<Z;F++)$[k+F]=j[w+F];k+=Z;w+=Z*l;R+=l}}j=$.slice(0,k);B+=8}var _=new Uint8Array(18+j.length+26);_[2]=B;
m.GB(_,12,z);m.GB(_,14,A);_[16]=Z*8;_[17]=Z==4?8:0;_.set(j,18);m.ax(_,18+j.length+8,"TRUEVISION-XFILE.");
return _.buffer};iF.at.i0=function(x){var z=new Uint8Array(x),A=0,o=z[0],i=z[1],L=z[2],B=z[4]*256+z[3],D=z[6]*256+z[5],Z=z[7],j=z[9]*256+z[8],a=z[11]*256+z[10],b=z[13]*256+z[12],W=z[15]*256+z[14],c=z[16],Y=z[17],R=Y>>>4,$=m.dX(z,18,o),k=f.C(b*W*4),A=18+o+(D*Z>>>3),w=new Uint8Array(z.buffer,A);
if(L>3){var V=0,h=z,l=new Uint8Array(b*W*c>>>3),M=A,q=0,t=z.length,p=c>>>3;while(q<l.length){var f5=h[M];
M++;if(f5<128)for(var F=0;F<f5+1;F++){for(var E=0;E<p;E++){l[q]=h[M];q++;M++}}else{for(var F=0;F<f5-127;
F++){for(var E=0;E<p;E++){l[q]=h[M+E];q++}}M+=p}}L-=8;w=l;A=M}else A+=b*W*c>>>3;var _=new Uint8Array(4),S=iF.at.a9r;
for(var y=0;y<W;y++)for(var v=0;v<b;v++){var r=(R&2)==0?(W-y-1)*b+v:y*b+v,K=y*b+v,s,P,d,X=255,U=r*c>>>3;
if(L==1){var n=0;if(c==8)n=w[U];else throw"e";S(z,18+o+B+(n*Z>>>3),Z,_);s=_[0];P=_[1];d=_[2];X=_[3]}else if(L==2){S(w,U,c,_);
s=_[0];P=_[1];d=_[2];X=_[3]}else if(L==3){if(c==8)s=P=d=w[U];else throw"e"}var e=K*4;k[e]=s;k[e+1]=P;
k[e+2]=d;k[e+3]=X}var _={xH:new av(0,0,b,W),data:k.buffer,xy:$};if(f.Tp(k)){var J=f.C(b*W);f.XN(k,J,3);
f.OD(k,4278190080,16777215);_.lX=[J]}return[_]};iF.at.a9r=function(x,z,A,o){var i,L,B,D=255;if(A==24||A==32){B=x[z];
L=x[z+1];i=x[z+2];if(A==32)D=x[z+3]}else if(A==16){var Z=x[z+1]<<8|x[z+0];i=Z>>>10&31;L=Z>>>5&31;B=Z>>>0&31;
i=Math.round(i*(255/31));L=Math.round(L*(255/31));B=Math.round(B*(255/31))}else throw"e";o[0]=i;o[1]=L;
o[2]=B;o[3]=D};iF.a71=function(){var x,z=[],A=!1;function o(B,D,Z,j){x=Z;z.push(B,j);i()}function i(){if(A||z.length==0)return;
A=!0;iF.a5T(z.shift(),"image/avif",L)}function L(B){x(null,[B],z.shift());A=!1;i()}return{RQ:!1,l_:!0,i0:o}}();
iF.a1x=function(){var x,z=[],A=!1,o,i,L,B,D,Z,j=10,a=0;function b($,k,w,V,h){x=w;z.push($,V);var l=new fZ(G.E.Y,!0);
l.data={d:G.U.z1,ca:"setFPS",IO:j,Cn:W};h.c(l)}function W($){j=Math.max(1,Math.min(60,$));c()}function c(){if(A||z.length==0)return;
A=!0;o=document.createElement("canvas");i=o.getContext("2d");L=document.createElement("video");var $="data:"+"video/mp4"+";base64,"+iF.mu(z.shift());
L.src=$;L.muted=!0;L.currentTime=0;L.addEventListener("canplay",Y,!1);L.addEventListener("timeupdate",R,!1)}function Y($){L.removeEventListener("canplay",Y);
B=o.width=L.videoWidth;D=o.height=L.videoHeight;Z=[];L.play()}function R($){clearTimeout(a);i.drawImage(L,0,0);
Z.push({xy:"_a_"+Z.length+","+Math.round(1e3/j),xH:new av(0,0,B,D),data:i.getImageData(0,0,B,D).data.buffer});
var k=L.currentTime+1/j;if(k<L.duration&&$){L.currentTime=k;a=setTimeout(R,1e3)}else{x(null,Z,z.shift());
L.removeEventListener("timeupdate",R);A=!1;c();Z=null}}return{RQ:!1,l_:!0,i0:b}}();iF.OL={};iF.OL.i0=function(x){var z=new Uint8Array(x),A=0,o=112,i=42,L=m.GQ,a;
A+=8;var B=z[A];A++;if(B!=i)throw"e";var D=L(z,A);A+=4;var Z=m.IA(z,A,D);A+=D*2;var j=[];while(A<z.length){a=L(z,A);
A+=4;if(a!=o)throw a;A+=4;a=z[A];A++;if(a!=i)throw a;var b=L(z,A);A+=4;var W=z[A];A++;if(W!=i){A-=5;
b=L(z,A);A+=8;a=z[A];A++;if(a!=i)throw a}var c=L(z,A)*2;A+=4;if(b>0)j.push(A+c);A+=c+b}var Y=new DOMParser,R=Y.parseFromString(Z,"image/svg+xml").firstChild.firstChild,$=[];
iF.OL.Yh(R,z,j,$);return $};iF.OL.Yh=function(x,z,A,o){var i=x.firstChild.firstChild;if(i.tagName=="Image"){var L=i.getElementsByTagName("ImageDescription")[0],B=L.children[0].children,D=L.children[1].children,Z=A.shift(),j=[];
for(var F=0;F<D.length;F++)j.push(parseInt(D[F].getAttribute("NumberOfElements")));while(j.length>3)j[2]*=j.pop();
var a=B.length,b=j[0],W=j[1],c=j[2],Y=parseInt(D[0].getAttribute("BytesInc"));for(var R=0;R<c;R++){var $=f.C(b*W*4);
f.OD($,4278190080);for(var k=0;k<a;k++){var w=f.C(b*W);if(Y==1)for(var V=0;V<w.length;V++)w[V]=z[Z+V];
else if(Y==2)for(var V=0;V<w.length;V++)w[V]=Math.min(255,(z[Z+V*2+1]<<8|z[Z+V*2])>>>2);else throw Y;
if(k!=3)f.c8(w,$,k);if(a==1){f.c8(w,$,1);f.c8(w,$,2)}Z+=b*W*Y}o.push({xH:new av(0,0,b,W),data:$.buffer})}}else{var h=x.children,l=0;
while(l<h.length&&h[l].tagName!="Children")l++;if(l==h.length)throw"e";h=h[l].children;for(var M=0;M<h.length;
M++)iF.OL.Yh(h[M],z,A,o)}};iF.aos=function(){function x(B,D,Z,j,a){var b=new Int8Array(B.buffer),W=new Int8Array(j.buffer),c=D+Z;
while(D<c){var f5=b[D];D++;if(f5>=0&&f5<128)for(var F=0;F<f5+1;F++){W[a]=b[D];a++;D++}if(f5>=-127&&f5<0){for(var F=0;
F<-f5+1;F++){W[a]=b[D];a++}D++}}return a}function z(B,D,Z,j,a,b){var W=D*Z*j>>>3,c=f.C(W*a),Y=o(B,0,0)[0];
for(var R=0;R<a;R++){var $=Y[R+1];if(b){var k=iF.Lg("jpg").i0($.buffer),w=f.C(W);f.wJ(new Uint8Array(k[0].data),w);
c.set(w,W*R)}else if($[0]==255&&$[1]==216&&$[2]==255){var V=UTIF.LosslessJpegDecode($);c.set(new Uint8Array(V.buffer),W*R)}else x($,64,$.length,c,W*R)}return c}function A(B){var D=new Uint8Array(B),Z=0,j=m.dX(D,0,128);
Z+=128;var a=m.dX(D,Z,4);Z+=4;var b=i(D,Z,0)[0],W=b.g28;if(W==null){alert("No image.");return[]}var c=W.cols,Y=W.rows,R=c*Y,$=W.photoInterpret,k=W.bitsAlloc,w=W.bitsStored,V=W.lossyCompr;
if(V==null)V=b.g8.lossyCompr;var h=b.g7fe0.pixelData,l=W.numOfFrames;l=l?parseInt(l):1;var M=new Uint8Array(h.buffer),q=R*k>>>3;
if(M.length!=q*l){h=z(h,c,Y,k,l,V)}else{}if(k==16)h=new Uint16Array(h.buffer);console.log(W);console.log(b);
var t=[];for(var p=0;p<l;p++){var E=p*q,B=f.C(c*Y*4);B.fill(255);if($=="MONOCHROME2"){var _=0,S=255,y=W.largestValue,v=W.smallestValue;
if(y!=null){S=y;_=v}else if(w!=8){S=0;_=1e9;for(var F=0;F<R;F++){var r=h[E+F];if(r>1<<w-8){if(r>S)S=r;
if(r<_)_=r}}}var K=255/(S-_);for(var F=0;F<R;F++){var r=Math.max(0,Math.min(255,(h[E+F]-_)*K)),s=F*4;
B[s]=B[s+1]=B[s+2]=r}}else if($=="PALETTE COLOR"){var P=W.pltRed,d=W.pltGreen,X=W.pltBlue;for(var F=0;
F<R;F++){var U=h[E+F],s=F*4;B[s]=P[U]>>>8;B[s+1]=d[U]>>>8;B[s+2]=X[U]>>>8}}else throw $;t.push({xH:new av(0,0,c,Y),data:B.buffer})}return t}function o(B,D,Z){var j=m.FJ,a=m.ID,b=m.GQ,W=[],c=D;
while(D<B.length){var Y=j(B,D);D+=2;var R=j(B,D);D+=2;var $=b(B,D);D+=4;if(Y==65534&&R==57344){if($==4294967295){var k=i(B,D,Z+1);
W.push(k[0]);D=k[1]}else{W.push(B.slice(D,D+$));D+=$}}else if(Y==65534&&R==57357){}else if(Y==65534&&R==57565)break;
else throw"e"}return[W,D]}function i(B,D,Z){var j=m.FJ,a=m.ID,b=m.GQ,W={},c="\t".repeat(Z);while(D<B.length){var Y=j(B,D),w="",V=0,l=null;
D+=2;var R=j(B,D);D+=2;var $=Y.toString(16),k=R.toString(16);if(Y==65532)break;if(Y==65534&&R==57357){D-=4;
break}if(Y==65534&&R==57565)throw"e";if(R==0){D+=8;continue}if(65<=B[D+1]){w=m.dX(B,D,2);D+=2;if(w=="OB"||w=="SQ"||w=="OW"){V=b(B,D+2);
D+=6}else{V=j(B,D);D+=2}}else{w=L[$][k].split(",")[1];V=b(B,D);D+=4}var h=L[$][k];if(h)h=h.split(",")[0];
if(h==null){h="t"+k}if(w=="SQ"){var M=o(B,D,Z);l=M[0];D=M[1];V=0}else if(w=="US")l=j(B,D);else if(w=="SS")l=a(B,D);
else if(w=="UL")l=b(B,D);else if(w=="FL")l=m.fU(B,D);else if(w=="AT")l=[j(B,D),j(B,D+2)];else if(w=="OB")l=B.slice(D,D+V);
else if(w=="OW")l=new Uint16Array(B.slice(D,D+V).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(w)!=-1){var q=D+V;
while(B[q-1]==0)q--;l=m.dX(B,D,q-D).trim()}else{console.log(c,JSON.stringify(m.dX(B,D,Math.min(V,32))));
throw w}if(W["g"+$]==null)W["g"+$]={};W["g"+$][h]=l;D+=V}return[W,D]}var L={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{i0:A}}();iF.In={};iF.In.i0=function(x){var z=new Uint8Array(x),A=0,o={},a=1e9;for(var F=0;F<306;
F++){var i=m.dX(z,A,8).trim(),L=m.dX(z,A+9,71).split("/")[0].trim();o[i]=L;A+=80;if(i=="END"){A=Math.ceil(A/2880)*2880;
break}}var B=parseInt(o.NAXIS1),D=parseInt(o.NAXIS2),Z=B*D,j=parseInt(o.BITPIX),b=-1e9,W=new Float32Array(Z),c=new Float32Array(x,A,x.byteLength-A>>>2);
for(var F=0;F<Z;F++){var Y=F<<2,R=F<<1;if(j==-32){var $=z[A+Y+0];z[A+Y+0]=z[A+Y+3];z[A+Y+3]=$;var $=z[A+Y+1];
z[A+Y+1]=z[A+Y+2];z[A+Y+2]=$;W[F]=c[F]}else if(j==16){W[F]=m.FJ(z,A+R)}else throw j;var k=W[F];if(k<a)a=k;
if(k>b)b=k}var w=f.C(Z*4),V=1/b;for(var h=0;h<D;h++)for(var l=0;l<B;l++){var F=h*B+l,M=(D-h-1)*B+l,Y=M<<2,k=W[F]*V;
w[Y]=w[Y+1]=w[Y+2]=255*k;w[Y+3]=255}return[{xH:new av(0,0,B,D),data:w,xy:o.OBJECT}]};iF.nb={};iF.nb.i0=function(x){var z=new Uint8Array(x),A=16,o=m.dX(z,A,4),L=32,k=0,w=0,V=!1,P;
A+=4;var i=m.dX(z,A,8);A+=8;while(z[A+L-1]==0)L--;var B=m.dX(z,A,L);A+=32;var D=m.dX(z,A,4);A+=4;A+=20;
var Z=m.l(z,A);A+=4;var j=m.l(z,A);A+=4;var a=m.l(z,A);A+=4;var b=m.l(z,A);A+=4;var W=m.l(z,A);A+=4;
var c=m.l(z,A);A+=4;var Y="FujiFilm "+B,R=[0,1,1,2];if(Y=="FujiFilm X10"){Y="FujiFilm FinePix X10";R=[2,1,1,0]}var $={t271:["FujiFilm"],t272:[Y],t277:[1],t33421:[2,2],t33422:R,$e:1};
A=a;var h=[],l=m.FH,M=m.l(z,A);A+=4;for(var F=0;F<M;F++){var q=l(z,A);A+=2;var t=l(z,A);A+=2;if(q==256){w=l(z,A);
k=l(z,A+2)}else if(q==272){h=[l(z,A),l(z,A+2)]}else if(q==273){h.push(l(z,A),l(z,A+2))}else if(q==304){V=!(z[A]>>>7)}else if(q==305){var p=Math.round(Math.sqrt(t)),E=[];
for(var _=0;_<t;_++)E.push(z[A+_]);E.reverse();$.t33421=[p,p];$.t33422=E}else if(q==12272){var S=l(z,A),y=l(z,A+2),v=l(z,A+6);
$.t50728=[S/y,1,S/v]}A+=t}var r=k<w,K=z.slice(W,W+c),s=Math.round(c*8/(k*w));if(K[0]==73&&K[1]==73&&K[2]==42){P=UTIF.decode(K.buffer)[0].fujiIFD;
s=P.t61443[0];var d=P.t61454,X=P.t61450;if(X)$.t50714=X;if(d)$.t50728=[d[0]/d[1],1,d[0]/d[2]];var U=P.t61447[0];
K=K.slice(U,U+P.t61448[0])}var c=K.length,n=c*8<k*w*s;if(n){console.log("compressed");var e=$.t33422,J=~~Math.sqrt(e.length),C=[];
for(var F=0;F<J;F++)C[F]=e.slice(F*J,F*J+J);K=new Uint8Array(UTIF._decompressRAF(K,C).buffer);c=K.length}function H(he,gJ,kg){kg=kg<<8-(gJ&7);
var cJ=gJ>>>3;he[cJ]|=kg>>>16;he[cJ+1]|=kg>>>8;he[cJ+2]|=kg}var u=c*8/(k*w);if(u==16)for(var F=0;F<c;
F+=2){var bc=K[F];K[F]=K[F+1];K[F+1]=bc}else if(u==14){for(var F=0;F<c;F+=4){var bc=K[F];K[F]=K[F+3];
K[F+3]=bc;bc=K[F+1];K[F+1]=K[F+2];K[F+2]=bc}}else if(u==12)for(var F=0;F<c;F+=3){var jK=K[F+2]<<16|K[F+1]<<8|K[F+0];
jK=jK>>>12|(jK&4095)<<12;K[F]=jK>>>16&255;K[F+1]=jK>>>8&255;K[F+2]=jK&255}if(r)K=iF.nb.a1z(K,k,w);var N=r?2:1;
k*=N;$.t256=[k];$.t257=[w];$.t258=[s];$.t50719=[h[1],h[0]*N];$.t50720=[h[3],h[2]*N];$.width=k;$.height=w;
$.data=new Uint8Array(K.buffer);return[$]};iF.nb.a1z=function(x,z,A){x=new Uint16Array(x.buffer);var o=new Uint16Array(z*A*2);
for(var i=0;i<A;i+=2)for(var L=0;L<z;L++){var B=i*z+L,D=B*2,Z=x[B],j=x[B+z];o[D+1]=o[D+2*z]=j;if(((i>>>1)+L&1)==0){o[D]=Z;
o[D+2*z+1]=x[B+1]}else{o[D]=x[B-1];o[D+2*z+1]=Z}}return o};iF.Nx={};iF.Nx.lP=!0;iF.Nx.ys=function(x,z,A,o){var i=new Uint8Array(x[0][0]),L=z*A,B=[1,3,4][o[0]],D=8+8*o[1],Z=o[2];
if(B==1){var j=new Uint8Array(z*A);f.XN(i,j,0);i=j}if(B==3){var j=new Uint8Array(z*A*3);for(var F=0;
F<L;F++){var a=F*4,b=F*3;j[b]=i[a];j[b+1]=i[a+1];j[b+2]=i[a+2]}i=j}if(D==16){var W=i.length,j=new Uint8Array(W*2);
for(var F=0;F<W;F++){var c=Math.round(i[F]*(65535/255));j[F*2+Z]=c>>>8;j[F*2+1-Z]=c&255}i=j}return i.buffer};
iF.lo={};iF.lo.i0=function(x,z){function A(Z){return~~(.5+f.Ln(Math.max(0,Math.min(1,Z)))*255)}var o=EXRLoader.parse(x),i=o.width,L=o.height,B=f.C(i*L*4);
for(var D=0;D<L;D++)for(var Z=0;Z<i;Z++){var F=(D*i+Z)*4,j=((L-D-1)*i+Z)*4;B[F]=A(o.data[j+0]);B[F+1]=A(o.data[j+1]);
B[F+2]=A(o.data[j+2]);B[F+3]=A(o.data[j+3])}return[{xH:new av(0,0,i,L),data:B.buffer}]};iF.Cv={};iF.Cv.lP=!0;
iF.Cv.RQ=!0;iF.Cv.ys=function(x,z,A,o,i){o=["",100,!1,!1,!1,0];o[6]=["jpg"];var L=new ToDXF;jv.aM(x,o,L,i.P2);
return L.buffer};iF.Cv.i0=function(x,z){var A=72,o=new cb(1,0,0,1,0,0);o.scale(A/72,A/72);z.um=A;var i=new jn(z,o,!1);
FromDXF.Parse(x,i)};iF.zA={};iF.zA.i0=function(){var x=m.FJ,z=m.GQ,A=m.dX,o;function i(B,D,Z,j,a){var b=z(B,Z),W=z(B,Z+4),c=z(B,Z+8),Y=x(B,Z+12),R=x(B,Z+14);
Z+=16;var $={};for(var F=0;F<Y+R;F++){var k=z(B,Z),w=z(B,Z+4),V,h;if(k>>>31==1){k=k&16777215}if(F<Y)V=m.IA(B,D+k+2,x(B,D+k));
else V="id"+k;var l=j.slice(0);l.push(V);if(w>>>31==1){w=w&268435455;h=i(B,D,D+w,l,a)}else{var M=z(B,D+w),q=z(B,D+w+4),t=z(B,D+w+8),p=z(B,D+w+12);
if(p!=0)throw"e";if(M<a[0]||M>a[0]+a[1])throw"e";var E=a[2]+M-a[0];h=B.slice(E,E+q);var _=iF.cd(h.buffer);
if(_&&["bmp","png","ico"].indexOf(_)!=-1){var S=iF.Lg(_);if(!S.RQ){var y=null;try{y=S.i0(h.buffer)}catch(kc){}if(y){y[0].xy=l[1];
o.push(y[0])}}}else if(_)console.log(_)}$[V]=h;Z+=8}return $}function L(B){o=[];var D=new Uint8Array(B),Z=0,j=x(D,Z);
Z+=2;Z+=58;var a=z(D,Z);Z+=4;Z=a;var b=A(D,Z,4);Z+=4;var W=x(D,Z);Z+=2;var c=x(D,Z);Z+=2;var Y=z(D,Z);
Z+=4;var R=z(D,Z);Z+=4;var $=z(D,Z);Z+=4;var k=x(D,Z);Z+=2;var w=x(D,Z);Z+=2;Z+=k;var V={};for(var F=0;
F<c;F++){var h=Z;while(D[h]!=0)h++;var l=A(D,Z,h-Z),M=z(D,Z+8),q=z(D,Z+12),t=z(D,Z+16),p=z(D,Z+20),E=z(D,Z+24),_=z(D,Z+28),S=x(D,Z+32),y=x(D,Z+34),w=z(D,Z+36);
V[l]=[q,M,p,t,w];if(E+_!=0)throw"e";Z+=40}for(var v in V){var r=V[v];Z=r[2];if(v==".rsrc"){var K=i(D,Z,Z,[],r),s="id134"}}return o}return L}();
iF.wv={};iF.wv.RQ=!0;iF.wv.i0=function(x,z){ft.l6(x,z)};(function(){var x=iF.mR.get("wasm/zstd").buffer;
WebAssembly.instantiate(x).then(function(z){var A=z.instance.exports;iF.wv.aoI=A})}());iF.wv.Ib=function(x,z){var A=iF.wv.aoI,o=x.length,i=A.memory,L=2*o+1e6,Z=8;
iF.Ec(A,L);var B=new Uint8Array(i.buffer),D=A.malloc(o);B.set(x,D);while(!0){var j=z==null?o*Z:z;iF.Ec(A,L+j);
var a=A.malloc(j),b=A.ZSTD_decompress(a,j,D,o);if(b==-70){A.free(a);Z+=Z>>>1;if(z!=null)throw"error"}else{B=new Uint8Array(i.buffer);
x=B.slice(a,a+b);A.free(a);break}}A.free(D);return x};iF.w9={};iF.w9.RQ=!0;iF.w9.i0=function(){var x=0,z=1,A=2,o=3,i=4,L=5,B=6,D=7,Z=1,j=2,a=7,b=8,W=9,c,Y,R,$,k;
function w(){var f5=m.Hf(c,Y);Y+=4;return f5}function V(){var P=0,d=0;for(var F=0;F<5;F++){var X=c[Y++];
P+=(X&127)<<d;d+=7;if((X&128)==0)break}return P}function h(){var P=V(),d=m._X(c,Y,P);Y+=P;return d}function l(){return{typeName:h(),apV:w()}}function M(){var P=w(),d=h(),X=[],U=w();
for(var F=0;F<U;F++)X.push([h()]);return{id:P,ts:d,a19:X}}function q(P){var d=P.a19,X=[];for(var F=0;
F<d.length;F++)d[F].push(c[Y++]);for(var F=0;F<d.length;F++){var U=d[F][1],n;d[F].push(t(U))}}function t(P){var d;
if(P==x)d=c[Y++];else if(P==o)d=h();else if(P==i)d=l();else if(P==z||P==A||P==B||P==L){}else throw P;
return d}function p(P,d,X){var U;if(P==x){if(d==Z)U=c[Y++]==1;else if(d==j){U=c[Y++]}else if(d==b)U=w();
else if(d==W){U=w();w()}else throw d}else if(P==o){U=y(X+1)}else if(P==i){U=y(X+1)}else if(P==L){U=y(X+1)}else if(P==z){U=y(X+1)}else if(P==B){U=y(X+1)}else throw P;
return U}function E(P,d){var X=R["c"+P],U=X.a19,n={_class:X.ts};for(var F=0;F<U.length;F++){var e=U[F],J=e[1],C=e[2],H=p(J,C,d),u=e[0];
n[u]=H}return n}function _(P,d,X,U){var n=[];for(var F=0;F<P;F++){var e=p(d,X,U);if(e.Q1&&e.Q1=="null_count"){var J=e.u6;
for(var C=0;C<J;C++)n.push(null);F+=J-1}else n.push(e)}return n}function S(){return[w(),w()]}function y(P){if(P==null)throw"e";
var d=null,X=c[Y],U=null;Y++;if(X==0){var n=w(),e=w(),J=w(),C=w();d=[n,e,J,C]}else if(X==1){U=w();var H=w();
d=E(H,P)}else if(X==4){var u=M();U=u.id;q(u);R["c"+u.id]=u;d=E(u.id,P)}else if(X==5){var u=M();U=u.id;
q(u);var bc=w();R["c"+u.id]=u;d=E(u.id,P)}else if(X==6){U=w();var jK=h();d=jK}else if(X==7){U=w();var N=c[Y++];
if(N!=0)throw N;var he=w();if(he!=1)throw he;var gJ=w(),kg=c[Y++],cJ=t(kg);d=_(gJ,kg,cJ,P)}else if(X==9){var it=w();
d={Q1:"ref",u6:it};k["o"+it]=!0}else if(X==10){d={Q1:"null_count",u6:1}}else if(X==11){d={Q1:"end"}}else if(X==12){var bc=w(),by=h()}else if(X==13){var cz=c[Y++];
d={Q1:"null_count",u6:cz}}else if(X==16){var fG=S();U=fG[0];d=_(fG[1],i,null,P)}else if(X==17){var fG=S();
U=fG[0];d=_(fG[1],z,null,P)}else throw"e";if(U!=null&&U>0){if($["o"+U]!=null)throw"e";$["o"+U]=d}return d}function v(P,$){if(P instanceof Array){for(var F=0;
F<P.length;F++)P[F]=r(P[F],$)}else if(P instanceof Object){for(var d in P)P[d]=r(P[d],$)}}function r(P,$){if(P&&P.Q1&&P.Q1=="ref")return $["o"+P.u6];
else return P}function K(P,d,X){c=new Uint8Array(P);Y=0;R={};$={};k={};var U=m.dX(c,0,4);if(U!="PDN3")throw U;
Y+=4;var n=m.FJ(c,Y)+c[Y+2]*256*256;Y+=3;var e=m.dX(c,Y,n);Y+=n;Y+=2;while(!0){var J=y(0);if(J&&J.Q1&&J.Q1=="end")break}for(var C in k)if($[C]==null)throw C;
for(var C in $)v($[C],$);var H=$.o1;console.log(H);d.m=H.width;d.n=H.height;d.buffer=f.C(d.m*d.n*4);
var u=H.layers["ArrayList+_items"];for(var F=0;F<u.length;F++){var bc=u[F];if(bc==null)continue;console.log(bc);
var jK=bc["Layer+width"],N=bc["Layer+height"],he=bc["Layer+properties"],gJ=bc.properties,kg=gJ.blendOp._class.split("+").pop();
kg=kg.slice(0,kg.length-7);var cJ={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[kg],it=d.Ad();
it.rk(he.name);it.opacity=he.opacity;it.uO(he.visible);it.Cz=cJ;var by=1<<16,cz=Math.ceil(jK*N/by);it.rect=new av(0,0,jK,N);
it.buffer=f.C(jK*N*4);var fG=it.buffer;Y+=5;for(var ju=0;ju<cz;ju++){var gW=s();fG.set(gW[1],gW[0]*by*4)}for(var iI=0;
iI<fG.length;iI+=4){var ht=fG[iI+0];fG[iI+0]=fG[iI+2];fG[iI+2]=ht}d.g.push(it)}}function s(){var P=m.l(c,Y);
Y+=4;var d=m.l(c,Y);Y+=4;var X=pako.inflateRaw(c.slice(Y+10));Y+=d;return[P,X]}return K}();iF.Co={};
iF.Co.RQ=!0;iF.Co.i0=function(x,z){cT.l6(x,z)};var O={};O.Id=!1;O.Ei=!1;O.V6=!1;O.I=document.createElement("canvas");
O.E4=null;O.Hi=null;O.tp=0;(function(){var x={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},z;
if(!z)z=O.I.getContext("webgl",x);if(!z)z=O.I.getContext("experimental-webgl",x);if(z){O.Id=!0;O.Ei=!0;
O.E4=z;O.Hi=z.createFramebuffer();z.bindFramebuffer(z.FRAMEBUFFER,O.Hi);z.disable(z.BLEND);z.disable(z.DEPTH_TEST);
var A=z.createBuffer();z.bindBuffer(z.ARRAY_BUFFER,A);z.bufferData(z.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),z.STATIC_DRAW);
z.enableVertexAttribArray(0);z.vertexAttribPointer(0,2,z.FLOAT,!1,0,0)}}());O.a1m=function(x){x=x.replace(/\s\s+/g," ");
x=x.replace(/; /g,";");x=x.replace(/} /g,"}");x=x.replace(/ }/g,"}");x=x.replace(/{ /g,"{");x=x.replace(/ {/g,"{");
x=x.replace(/= /g,"=");x=x.replace(/ =/g,"=");x=x.replace(/\| /g,"|");x=x.replace(/ \|/g,"|");return x};
O.Bd=function(x){var z=O.E4;if(x>z.getParameter(z.MAX_TEXTURE_SIZE)){O.Id=!1;alert("Disabling WebGL")}};
O.az=function(x,z){return new Float32Array([(x.x-z.x)/z.m,(x.y-z.y)/z.n,x.m/z.m,x.n/z.n])};O.zG=function(){return this.I};
O.WW=function(x,z){var A=O.E4;A.bindFramebuffer(A.FRAMEBUFFER,O.Hi);A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,x.Gt,0);
A.viewport(0,0,x.m,x.n);if(z){A.enable(A.SCISSOR_TEST);A.scissor(z.x,z.y,z.m,z.n)}else A.disable(A.SCISSOR_TEST)};
O.qi=function(x,z,A){if(A)throw"error";var o=O.E4;o.disable(o.SCISSOR_TEST);o.bindFramebuffer(o.FRAMEBUFFER,null);
o.viewport(0,0,x,z);if(A){o.enable(o.SCISSOR_TEST);o.scissor(A.x,A.y,Math.round(A.m),Math.round(A.n))}else o.disable(o.SCISSOR_TEST)};
O.clear=function(){var x=O.E4;x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT)};O.hJ=function(x,z){if(z==null)z=0;
var A=(z>>>0&255)==0,o=(z>>>8&255)==0,i=(z>>>16&255)==0,L=(z>>>24&255)==0,B=(x>>>0&255)*(1/255),D=(x>>>8&255)*(1/255),Z=(x>>>16&255)*(1/255),j=(x>>>24&255)*(1/255),a=O.E4;
a.colorMask(A,o,i,L);a.clearColor(B,D,Z,j);a.clear(a.COLOR_BUFFER_BIT);a.colorMask(!0,!0,!0,!0)};O.c1=function(x,z,A,o,i){var L=z.tE(o);
if(i)L=L.tE(i);if(L.WT())return;var B=O.E4;O.WW(x);B.bindTexture(B.TEXTURE_2D,A.Gt);B.copyTexSubImage2D(B.TEXTURE_2D,0,L.x-o.x,L.y-o.y,L.x-z.x,L.y-z.y,L.m,L.n)};
O.uy=function(F,x,z){var A=O.tL[F];if(A==null||A.m!=x||A.n!=z){if(A)A.delete();A=new O.mz(x,z)}O.tL[F]=A;
return A};O.tL=[];O.Hs=function(){this.o3=null;this.yt=null};O.Hs.uZ=null;O.Hs.prototype.cw=function(x){if(this.yt)return;
this.yt={};var z=O.E4,A=this.o3,o=this.yt;for(var F=0;F<x.length;F++){var i=x[F];o[i]=z.getUniformLocation(A,i)}};
O.Hs.prototype.Sf=function(){};O.Hs.prototype.Bj=function(x){var z=O.E4;for(var F=0;F<x.length;F+=2){z.uniform1i(x[F],F>>>1);
z.activeTexture(z["TEXTURE"+(F>>>1)]);z.bindTexture(z.TEXTURE_2D,x[F+1])}z.activeTexture(z.TEXTURE0)};
O.Hs.prototype.m7=function(x,z){var A=O.E4,o=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(o,x);A.compileShader(o);
if(!A.getShaderParameter(o,A.COMPILE_STATUS))console.log(A.getShaderInfoLog(o));var i=A.createShader(A.VERTEX_SHADER);
A.shaderSource(i,z);A.compileShader(i);if(!A.getShaderParameter(i,A.COMPILE_STATUS))console.log(A.getShaderInfoLog(i));
var L=A.createProgram();A.attachShader(L,i);A.attachShader(L,o);A.linkProgram(L);if(!A.getProgramParameter(L,A.LINK_STATUS))console.log("Could not initialise shaders");
this.o3=L};O.Hs.prototype.Mv=function(){if(O.Hs.uZ!=this){O.E4.useProgram(this.o3);O.Hs.uZ=this}};O.tv=function(x,z){O.lg++;
O.tp+=x*z;if(O.V6)console.log("GL.Channels instances: "+O.lg+", memory: "+O.tp);var A=O.E4;this.m=x;
this.n=z;this.Gt=A.createTexture();this.Ft=null;this.y0(this.Gt,x,z)};O.tv.prototype.y0=function(x,z,A){var o=O.E4;
o.bindTexture(o.TEXTURE_2D,x);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);
o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,z,A,0,o.ALPHA,o.UNSIGNED_BYTE,null)};O.tv.prototype.set=function(x,z){var A=O.E4;
A.bindTexture(A.TEXTURE_2D,this.Gt);A.pixelStorei(A.UNPACK_ALIGNMENT,1);var o=this.m*this.n;if(z==null||z.$()*10>o)A.texImage2D(A.TEXTURE_2D,0,A.ALPHA,this.m,this.n,0,A.ALPHA,A.UNSIGNED_BYTE,x);
else{var i=new av(0,0,this.m,this.n),L=f.C(z.$());f.K5(x,i,L,z);A.texSubImage2D(A.TEXTURE_2D,0,z.x,z.y,z.m,z.n,A.ALPHA,A.UNSIGNED_BYTE,L)}A.pixelStorei(A.UNPACK_ALIGNMENT,4)};
O.tv.prototype.delete=function(){var x=O.E4;if(this.Gt){x.deleteTexture(this.Gt);O.lg--;O.tp-=this.m*this.n}if(O.V6)if(O.V6)console.log("GL.Channels instances: "+O.lg+", memory: "+O.tp*4)};
O.lg=0;O.mz=function(x,z,A){if(A==null)A=!1;O.lg++;O.tp+=x*z*4;if(O.V6)console.log("GL.Channels instances: "+O.lg+", memory: "+O.tp);
var o=O.E4;this.a3d=A;this.m=x;this.n=z;this.Gt=o.createTexture();this.Ft=null;this.y0(this.Gt,x,z)};
O.mz.prototype.set=function(x,z){var A=O.E4;A.disable(A.SCISSOR_TEST);A.bindTexture(A.TEXTURE_2D,this.Gt);
if(x==null||x instanceof Uint8Array){var o=this.m*this.n;if(z==null||z.$()*10>o)A.texImage2D(A.TEXTURE_2D,0,A.RGBA,this.m,this.n,0,A.RGBA,A.UNSIGNED_BYTE,x);
else{var i=f.C(z.$()*4);f.mV(x,new av(0,0,this.m,this.n),i,z);A.texSubImage2D(A.TEXTURE_2D,0,z.x,z.y,z.m,z.n,A.RGBA,A.UNSIGNED_BYTE,i)}}else A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,x)};
O.mz.prototype.get=function(x){var z=O.E4;O.WW(this);z.readPixels(0,0,this.m,this.n,z.RGBA,z.UNSIGNED_BYTE,x)};
O.mz.prototype.jv=function(x){if(x.WT())return;var z=O.E4;if(this.Ft==null){this.Ft=z.createTexture();
this.y0(this.Ft,this.m,this.n);O.lg++;O.tp+=this.m*this.n*4}z.bindFramebuffer(z.FRAMEBUFFER,O.Hi);z.bindTexture(z.TEXTURE_2D,this.Ft);
if(x){var A=Math.max(x.x,0),o=Math.max(x.y,0);z.copyTexSubImage2D(z.TEXTURE_2D,0,A,o,A,o,x.m,x.n)}else z.copyTexImage2D(z.TEXTURE_2D,0,z.RGBA,0,0,this.m,this.n,0)};
O.mz.prototype.y0=function(x,z,A){var o=O.E4;o.bindTexture(o.TEXTURE_2D,x);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.a3d?o.LINEAR:o.NEAREST);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);o.texImage2D(o.TEXTURE_2D,0,o.RGBA,z,A,0,o.RGBA,o.UNSIGNED_BYTE,null)};
O.mz.prototype.delete=function(){var x=O.E4;if(this.Gt){x.deleteTexture(this.Gt);O.lg--;O.tp-=this.m*this.n*4}if(this.Ft){x.deleteTexture(this.Ft);
O.lg--;O.tp-=this.m*this.n*4}if(O.V6)if(O.V6)console.log("GL.Channels instances: "+O.lg+", memory: "+O.tp)};
O.mz.prototype.clone=function(){var x=O.E4,z=new O.mz(this.m,this.n);O.WW(this);x.bindTexture(x.TEXTURE_2D,z.Gt);
x.copyTexImage2D(x.TEXTURE_2D,0,x.RGBA,0,0,this.m,this.n,0);return z};O.ef={a0G:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a3f:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",ud:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",It:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",wf:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Sw:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Ps:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",UI:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a7q:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",PH:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",am0:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",vK:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",$O:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",gn:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",ug:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",R2:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",_$:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",M$:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",hN:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ack:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",afC:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Os:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",Sv:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
O.q={};O.q.UP={};O.q.tM=null;O.q.Qq=null;O.q.ON=null;O.q.eq=function(x,z,A,o,i,L,B,D){if(D==null)D=ct.rC();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){B=B*D.fill;D.fill=1;D.style=!1}var Z=x+(D.R3?"1":"");
if(O.q.UP[Z]==null)O.q.UP[Z]=new O.q.SC(x,D.R3!=null);var j=O.q.UP[Z],a=A.tE(i).tE(L);a.offset(-i.x,-i.y);
if(a.WT())return;var b=O.E4;O.WW(o,a);o.jv(a);j.Mv();j.Sf(z.Gt,o.Ft,O.az(A,i),B,D.fill,D.style?1:0,D.Oe?1:0,D.R3?new Float32Array(D.R3):null);
b.drawArrays(b.TRIANGLES,0,6)};O.q.U_=function(x,z,A,o,i,L,B,D,Z,j,a){if(O.q.tM==null)O.q.tM=new O.q.Qh(!0,!0);
if(O.q.Qq==null)O.q.Qq=new O.q.Qh(!0,!1);if(O.q.ON==null)O.q.ON=new O.q.Qh(!1,!0);var b=j?1:0,W=x?i?O.q.tM:O.q.Qq:O.q.ON,c=new Float32Array(a?[a[0],a[1],a[2],1]:[1,1,1,1]),Y=z?z.tE(o).tE(D):o.tE(D);
if(Y.WT())return;Y.offset(-o.x,-o.y);var R=O.E4;O.WW(A,Y);A.jv(Y);W.Mv();if(x==null)W.Sf(null,A.Ft,i.Gt,O.az(o,o),O.az(L,o),B/255,Z,b,c);
else if(i)W.Sf(x.Gt,A.Ft,i.Gt,O.az(z,o),O.az(L,o),B/255,Z,b,c);else W.Sf(x.Gt,A.Ft,null,O.az(z,o),null,B/255,Z,b,c);
R.drawArrays(R.TRIANGLES,0,6)};O.q.a1i=function(x,z,A){if(O.q.a2m==null)O.q.a2m=new O.q.zC;var o=O.q.a2m,i=new av(0,0,x.m,x.n),L=O.E4;
O.WW(z);z.jv(i);o.Mv();o.Sf(i,x.Gt,z.Ft,A.Gt);L.drawArrays(L.TRIANGLES,0,6)};O.q.ue={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
O.q.SC=function(x,z){O.Hs.call(this);var A="\t\t\tprecision highp float;\t\t\t"+O.ef.ud+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(z?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+O.ef.Sw+"\t\t\t"+O.ef.Ps+"\t\t\t"+O.ef.UI+"\t\t\t"+O.ef.a0G+"\t\t\t"+O.ef.a3f+"\t\t\t"+O.ef.a7q+"\t\t\t"+O.ef.PH+"\t\t\t"+O.ef.am0+"\t\t\t"+O.ef.vK+"\t\t\t"+O.ef.hash+"\t\t\t"+(z?O.ef.Os:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+O.q.ue[x]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",o="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(x=="diss")A+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else A+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(z?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.m7(A,o)};O.q.SC.prototype=new O.Hs;O.q.SC.prototype.Sf=function(x,z,A,o,i,L,B,D){this.cw("srct alpha source target fill style keepBGA blIf".split(" "));
var Z=O.E4,j=this.yt;Z.uniform4fv(j.srct,A);Z.uniform1f(j.alpha,o);Z.uniform1f(j.fill,i);Z.uniform1f(j.style,L);
Z.uniform1f(j.keepBGA,B);if(D)Z.uniform4fv(j.blIf,D);this.Bj([j.source,x,j.target,z])};O.q.Qh=function(x,z){O.Hs.call(this);
this.a0u=x;this.M7=z;var A="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+O.ef.$O+"\t\t\t"+O.ef.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(x?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(z?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(x?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(z?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",o="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.m7(A,o)};O.q.Qh.prototype=new O.Hs;O.q.Qh.prototype.Sf=function(x,z,A,o,i,L,B,D,Z){if(this.M7)this.cw("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.cw("srct awg dissv source target cswitch".split(" "));var j=O.E4,a=this.yt;j.uniform4fv(a.srct,o);
if(this.M7){j.uniform4fv(a.wrct,i);j.uniform1f(a.wcolor,L)}else{j.uniform4fv(a.cswitch,Z)}j.uniform1f(a.awg,B);
j.uniform1f(a.dissv,D);var b=[a.source,x,a.target,z];if(this.M7)b.push(a.weight,A);this.Bj(b)};O.q.zC=function(){O.Hs.call(this);
var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.m7(x,z)};O.q.zC.prototype=new O.Hs;O.q.zC.prototype.Sf=function(x,z,A,o){this.cw(["rct","prev","next","alpha"]);
var i=O.E4,L=this.yt;i.uniform4fv(L.rct,[0,0,1,1]);this.Bj([L.prev,z,L.next,A,L.alpha,o])};O.Mo={Io:{},tN:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
O.Mo.cf=function(x,z){var A=ei.Ri,o=[A.IS,A.Dn,A.k8,A.jg,A.Pz,A.vg,A.eD,A.Y9].indexOf(x.type),i=O.Mo.Io[x.type];
if(i==null)i=O.Mo.Io[x.type]=new O.Io[o];i.Mv();i.Sf(z,x);O.E4.drawArrays(O.E4.TRIANGLES,0,6)};O.Io=[];
O.Io[0]=function(){O.Hs.call(this);this.Ov={};var x="\t\t\tprecision mediump float;\t\t\t"+O.ef.Ps+"\t\t\t"+O.ef.ud+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[0].prototype=new O.Hs;O.Io[0].prototype.Sf=function(x,z){var A={w:z.BS,a:z.ph,s:z.ul,xc:f.C(z.BS.length)},o=A.w.length;
if(this.Ov["m"+o]==null){this.Ov["m"+o]={aw2:new O.mz(o,1),ov:f.C(o*4)}}var i=this.Ov["m"+o];f.Ve(A,i.ov,0);
var L=i.aw2;L.set(i.ov);this.cw(["source","map","toGray","presLum"]);var B=O.E4,D=this.yt;B.uniform1f(D.toGray,z.Na?1:0);
B.uniform1f(D.presLum,z.Ur?1:0);this.Bj([D.source,x,D.map,L.Gt])};O.Io[1]=function(){O.Hs.call(this);
this.ao7=new O.mz(256,1);this.aw6=f.C(256*4);var x="\t\t\t\tprecision mediump float;\t\t\t\t"+O.ef.R2+"\t\t\t\t"+O.ef.gn+"\t\t\t\t"+O.ef.ug+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[1].prototype=new O.Hs;O.Io[1].prototype.Sf=function(x,z){f.Ve({w:z.ahb,a:z.$t,s:z.atZ,xc:f.C(256)},this.aw6);
this.ao7.set(this.aw6);this.cw(["source","map","cfa","cfb","colorize"]);var A=O.E4,o=this.yt;A.uniform1f(o.cfa,z.a8s);
A.uniform1f(o.cfb,z.ri);A.uniform1i(o.colorize,z.a3x);this.Bj([o.source,x,o.map,this.ao7.Gt])};O.Io[2]=function(){O.Hs.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+O.ef.R2+"\t\t\t"+O.ef._$+"\t\t\t"+O.ef.M$+"\t\t\t"+O.ef.gn+"\t\t\t"+O.ef.ug+"\t\t\t"+O.ef.ack+"\t\t\t"+O.ef.afC+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[2].prototype=new O.Hs;O.Io[2].prototype.Sf=function(x,z){this.cw(["source","vib","sat","yF"]);
var A=O.E4,o=this.yt;A.uniform1f(o.vib,z.Hl[0]);A.uniform1f(o.sat,z.Hl[1]);A.uniform3fv(o.yF,new Float32Array([z.Hl[2],z.Hl[3],z.Hl[3]]));
this.Bj([o.source,x])};O.Io[3]=function(){O.Hs.call(this);var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[3].prototype=new O.Hs;O.Io[3].prototype.Sf=function(x,z){this.cw(["source","trf"]);
var A=O.E4,o=this.yt;A.uniformMatrix4fv(o.trf,!1,new Float32Array(f.ZJ.dS(z.Ph)));this.Bj([o.source,x])};
O.Io[4]=function(){O.Hs.call(this);var x="\t\t\tprecision mediump float; \t\t\t"+O.ef.hN+"\t\t\t"+O.ef.R2+"\t\t\t"+O.ef.ug+"\t\t\t"+O.ef.gn+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[4].prototype=new O.Hs;O.Io[4].prototype.Sf=function(x,z){this.cw(["source","mnm","mxm","shift","lim"]);
var A=O.E4,o=this.yt;A.uniform3fv(o.mnm,new Float32Array(z.cq));A.uniform3fv(o.mxm,new Float32Array(z.dL));
A.uniform3fv(o.shift,new Float32Array(z.shift));A.uniform1f(o.lim,z.YE);this.Bj([o.source,x])};O.Io[5]=function(){O.Hs.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+O.ef.ud+"\t\t\t"+O.ef.It+"\t\t\t"+O.ef.wf+"\t\t\t"+O.ef.gn+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[5].prototype=new O.Hs;O.Io[5].prototype.Sf=function(x,z){this.cw(["source","cfs"]);
var A=O.E4,o=this.yt;A.uniform3fv(o.cfs,z.avQ);this.Bj([o.source,x])};O.Io[6]=function(){O.Hs.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+O.ef.R2+"\t\t\t"+O.ef.It+"\t\t\t"+O.ef.wf+"\t\t\t"+O.ef.gn+"\t\t\t"+O.ef.ug+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[6].prototype=new O.Hs;O.Io[6].prototype.Sf=function(x,z){this.cw(["source","wght","prms"]);
var A=O.E4,o=this.yt,i=[z.Zr,z.akv,z.Ps,z.a6K,z.c$,z.app];A.uniform1fv(o.wght,new Float32Array(z.aq7));
A.uniform1fv(o.prms,new Float32Array(i));this.Bj([o.source,x])};O.Io[7]=function(){O.Hs.call(this);this.YR={};
var x="\t\t\tprecision mediump float;\t\t\t"+O.ef.Sv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.m7(x,O.Mo.tN)};O.Io[7].prototype=new O.Hs;O.Io[7].prototype.Sf=function(x,z){this.cw(["source","lut","N"]);
var A=O.E4,o=this.yt,i=z.ki,L=z.Mw;if(this.YR["m"+i]==null)this.YR["m"+i]=new O.mz(i,i*i);var B=this.YR["m"+i];
B.set(L);A.uniform1f(o.N,i);this.Bj([o.source,x,o.lut,B.Gt]);A.activeTexture(A.TEXTURE1);var D=A.LINEAR;
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,D);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,D);
A.activeTexture(A.TEXTURE0)};O.filter={dB:{},tN:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a7M:0,aeu:1,AB:2,aiZ:3,a36:4,acR:5,xR:6,a2C:7};
O.filter.cf=function(x,z){var A=O.filter,o,i=x.type+":"+(x.uS?x.uS.join(","):""),o=O.filter.dB[i];if(o==null)o=O.filter.dB[i]=new O.dB[x.type](x.uS);
o.Mv();o.Sf(z,x);O.E4.drawArrays(O.E4.TRIANGLES,0,6)};O.dB=[0,0,0,0,0,0,0,0,0,0,0,0];O.dB[7]=function(){O.Hs.call(this);
var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.m7(dr.ei(x),dr.ei(O.filter.tN))};O.dB[7].prototype=new O.Hs;O.dB[7].prototype.Sf=function(x,z){this.cw(["source","iwh","kern"]);
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform1fv(o.kern,z.aa$);this.Bj([o.source,x])};O.dB[6]=function(x){O.Hs.call(this);
var z=x[0],A=x[1],o=x[2],i="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",L=dr.ei(i);
L=L.replaceAll("PRC",o+".0");L=L.replaceAll("DIR",["x,0","0,x"][A]);this.m7(L,O.Mo.tN)};O.dB[6].prototype=new O.Hs;
O.dB[6].prototype.Sf=function(x,z){this.cw(["source","iwh","rad"]);var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);
A.uniform1f(o.rad,z.u2);this.Bj([o.source,x])};O.dB[4]=function(x){O.Hs.call(this);var z=x[0],A=x[1],o="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+x[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][A]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][z]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][A]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(A==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.m7(o,O.Mo.tN)};O.dB[4].prototype=new O.Hs;O.dB[4].prototype.Sf=function(x,z){this.cw(["source","iwh","rrad","tr"]);
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform1f(o.rrad,z.BW);A.uniform1f(o.tr,z.aob);this.Bj([o.source,x]);
var i=A.LINEAR;i=A.NEAREST;A.activeTexture(A.TEXTURE0);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,i);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,i);A.activeTexture(A.TEXTURE0)};O.dB[5]=function(){O.Hs.call(this);
var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.m7(dr.ei(x),dr.ei(O.filter.tN))};O.dB[5].prototype=new O.Hs;O.dB[5].prototype.Sf=function(x,z){this.cw(["source","ssum","iwh","amnt","edgf"]);
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform1f(o.amnt,z.aqq);A.uniform1f(o.edgf,z.aaK);this.Bj([o.source,x,o.ssum,z.af1])};
O.dB[3]=function(){O.Hs.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.m7(dr.ei(x),dr.ei(O.filter.tN))};O.dB[3].prototype=new O.Hs;O.dB[3].prototype.Sf=function(x,z){this.cw("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform1f(o.tdep,z.ag5);A.uniform1f(o.rrad,z.BW);A.uniform2fv(o.spec,z.ass);
A.uniform3fv(o.nois,z.af8);A.uniformMatrix4fv(o.poly0,!1,z.a6L);A.uniformMatrix4fv(o.poly1,!1,z.ar6);
this.Bj([o.source,x]);var i=A.LINEAR;A.activeTexture(A.TEXTURE0);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,i);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,i);A.activeTexture(A.TEXTURE0)};O.dB[0]=function(){O.Hs.call(this);
var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.m7(dr.ei(x),dr.ei(O.filter.tN))};O.dB[0].prototype=new O.Hs;O.dB[0].prototype.Sf=function(x,z){this.cw(["source","iwh","ld","shine"]);
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform3fv(o.ld,z.ae3);A.uniform1f(o.shine,z.a2b);this.Bj([o.source,x,o.tang,z.Ol])};
O.dB[1]=function(){O.Hs.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.m7(dr.ei(x),dr.ei(O.filter.tN))};O.dB[1].prototype=new O.Hs;O.dB[1].prototype.Sf=function(x,z){this.cw(["source","iwh","isc","bristle"]);
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform1f(o.isc,z.alg);A.uniform1f(o.bristle,z.a4_);
this.Bj([o.source,x])};O.dB[2]=function(){O.Hs.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.m7(dr.ei(x),dr.ei(O.filter.tN))};O.dB[2].prototype=new O.Hs;O.dB[2].prototype.Sf=function(x,z){this.cw(["source","tang","iwh","sigma","expo"]);
var A=O.E4,o=this.yt;A.uniform2fv(o.iwh,z.fN);A.uniform1f(o.sigma,z.arq);A.uniform1f(o.expo,z.axj);this.Bj([o.source,x,o.tang,z.Ol]);
var i=A.LINEAR;A.activeTexture(A.TEXTURE0);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,i);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,i);
A.activeTexture(A.TEXTURE0)};function f(){}f.R={};f.alM={};f.alW=function(){var x=[64,64,128,256,512,1024,2048],z=[];
for(var F=0;F<x.length;F++){var A=x[F],o=document.createElement("canvas");o.width=A;o.height=A;z.push(o.getContext("2d"))}return z}();
f.zG=function(x,z){var A,o=f.alW,F=1,i=Math.max(x,z);while(F<o.length&&i>o[F].canvas.width)F++;if(F==o.length){A=o[0];
var L=A.canvas;L.width=x;L.height=z}else{A=o[F];A.clearRect(0,0,x,z)}return A};f.ti=function(x,z,A){var o=new Uint32Array(z*A);
o[0]=x[0];for(var i=1;i<z;i++)o[i]=o[i-1]+x[i];for(var L=1;L<A;L++){var F=L*z;o[F]=o[F-z]+x[F];for(var i=1;
i<z;i++)o[F+i]=x[F+i]+o[F+i-1]+o[F+i-z]-o[F+i-z-1]}return o};f.K3=function(x,z,A,o,i,L){var B=(i-1)*z,D=L*z;
return x[D+o]-x[D+A-1]-x[B+o]+x[B+A-1]};f.EK=function(x,z,A){var o={},i=0,L=0,B=new Uint32Array(x.buffer),D=B.length,Z=Date.now();
for(var j=1;j<A-1;j++)for(var a=1;a<z-1;a++){var b=j*z+a,W=B[b];if(W>>>24<230)L++;if(o[W]==null){o[W]=!0;
i++}}if(L!=0||i<20)return!1;return!0};f.ar=function(x,z,A,o,i,L){if(i==null)i=L=0;o=Math.log(o)/Math.log(2);
o=Math.round(o);for(var F=0;F<A;F++)for(var B=0;B<z;B++){var D=F*z+B<<2,Z=f.sB(F+L,B+i,o);x[D]=x[D+1]=x[D+2]=Z;
x[D+3]=255}};f.sB=function(F,x,z){return 255-((F>>>z)+(x>>>z)&1)*51};f.Ng=function(x){var z=x.toString(16);
while(z.length<6)z="0"+z;return z};f.xe=function(x){return parseInt(x,16)};f.Ps=function(x){return.3*x.w+.59*x.a+.11*x.s};
f.Sw=function(x){return Math.max(x.w,x.a,x.s)-Math.min(x.w,x.a,x.s)};f.yA=function(x,z,A){return.3*x+.59*z+.11*A};
f.ahK=function(x,z,A){return Math.max(x,z,A)-Math.min(x,z,A)};f.It=function(x,z){var A=z-x,o=Math.abs(A),i=A-1,L=A+1;
if(Math.abs(i)<o)A=i;else if(Math.abs(L)<o)A=L;return A};f.Ln=function(x){return x<.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055};
f.sS=function(x){return x<.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)};f.a37=function(x,z){var A=Math.min(x.length,z.length);
for(var F=0;F<A;F+=4){var o=x[F],i=x[F+1],L=x[F+2];z[F]=16+Math.floor(65.481/255*o+128.553/255*i+24.966/255*L+.5);
z[F+1]=128-Math.floor(37.797/255*o-74.203/255*i+112/255*L+.5);z[F+2]=128+Math.floor(112/255*o-93.786/255*i-18.214/255*L+.5);
z[F+3]=x[F+3]}};f.aja=function(x,z,A){var o,i,L,B=Math.max(x,z,A),D=Math.min(x,z,A);L=B;if(B!=0)i=(B-D)/B;
else i=0;if(i==0)o=0;else{var Z=B-D,j=(B-x)/Z,a=(B-z)/Z,b=(B-A)/Z;if(x==B)o=b-a;else if(z==B)o=2+j-b;
else o=4+a-j;o*=1/6;if(o<0)o=o+1}return{zp:o,Ww:i,s:L}};f.at6=function(x,z,A){var o=0,i=0,L=0;if(z==0)o=i=L=A;
else{var B=(x-Math.floor(x))*6,D=Math.floor(B),Z=B-Math.floor(B),j=A*(1-z),a=A*(1-z*Z),b=A*(1-z*(1-Z));
switch(D){case 0:o=A;i=b;L=j;break;case 1:o=a;i=A;L=j;break;case 2:o=j;i=A;L=b;break;case 3:o=j;i=a;
L=A;break;case 4:o=b;i=j;L=A;break;case 5:o=A;i=j;L=a;break}}return{w:o,a:i,s:L}};f.gn=function(x,z,A){var o=Math.max(x,z,A),i=Math.min(x,z,A),L=0,B=0,D=(o+i)*.5;
if(o!=i){var Z=o-i;B=D>.5?Z/(2-(o+i)):Z/(o+i);switch(o){case x:L=(z-A)/Z+(z<A?6:0);break;case z:L=(A-x)/Z+2;
break;case A:L=(x-z)/Z+4;break}L*=1/6}return{zp:L,Ww:B,dc:D}};f.ug=function(x,z,A){var o,i,L;if(z==0)o=i=L=A;
else{var B=A<.5?A*(1+z):A+z-A*z,D=2*A-B;o=f.R2(D,B,x+1/3);i=f.R2(D,B,x);L=f.R2(D,B,x-1/3)}return{w:o,a:i,s:L}};
f.R2=function(x,z,A){if(A<0)A+=1;if(A>1)A-=1;if(A<1/6)return x+(z-x)*6*A;if(A<1/2)return z;if(A<2/3)return x+(z-x)*(2/3-A)*6;
return x};f._$=function(x,z,A){var o=Math.max(x,z,A),i=Math.min(x,z,A),L,B,D=o,Z=o-i;B=o==0?0:Z/o;if(o==i)L=0;
else{switch(o){case x:L=(z-A)/Z+(z<A?6:0);break;case z:L=(A-x)/Z+2;break;case A:L=(x-z)/Z+4;break}L*=1/6}return{zp:L,Ww:B,u6:D}};
f.M$=function(x,z,A){var o,i,L,F,B,D,Z,j;F=Math.floor(x*6);B=x*6-F;D=A*(1-z);Z=A*(1-B*z);j=A*(1-(1-B)*z);
switch(F%6){case 0:o=A,i=j,L=D;break;case 1:o=Z,i=A,L=D;break;case 2:o=D,i=A,L=j;break;case 3:o=D,i=Z,L=A;
break;case 4:o=j,i=D,L=A;break;case 5:o=A,i=D,L=Z;break}return{w:o,a:i,s:L}};f.bD=function(){var x=[],z=[];
for(var F=0;F<2e3;F++){var A=F/1e3;x[F]=f.sS(A);z[F]=A>.008856?Math.pow(A,1/3):(903.3*A+16)*(1/116)}return[x,z]}();
f.hN=function(x,z,A){var o=f.bD[0],i=f.bD[1];x=o[~~(x*(1e3/255))];z=o[~~(z*(1e3/255))];A=o[~~(A*(1e3/255))];
var L=f.ZJ.aiq,B=L[0]*x+L[1]*z+L[2]*A,D=L[4]*x+L[5]*z+L[6]*A,Z=L[8]*x+L[9]*z+L[10]*A;B=B*(100/96.72);
D=D*(100/100);Z=Z*(100/81.427);return f.aX(B,D,Z)};f.aX=function(x,z,A){var o=f.bD[1],i=o[~~(x*1e3)],L=o[~~(z*1e3)],B=o[~~(A*1e3)];
return{KI:116*L-16,xc:500*(i-L),s:200*(L-B)}};f.Rm=function(x,z,A){var o=903.3,i=.008856,L=(x+16)/116,B=L*L*L,D=L-A/200,Z=D*D*D,j=z/500+L,a=j*j*j,b=Z>i?Z:(116*D-16)/o,W=B>i?B:(116*L-16)/o,c=a>i?a:(116*j-16)/o,Y=c*96.72,R=W*100,$=b*81.427,k=f.ZJ.xB(f.ZJ.Wv,[Y/100,R/100,$/100,0]);
for(var F=0;F<4;F++)k[F]=Math.max(0,Math.min(255,f.Ln(k[F])*255));return{w:k[0],a:k[1],s:k[2]}};f.ub=function(x,z,A,o,i){var L=x.KI,B=x.xc,D=x.s,Z=(L<z.KI?z.KI-L:A.KI<L?A.KI-L:0)*(1/100),j=(B<z.xc?z.xc-B:A.xc<B?A.xc-B:0)*(1/116),a=(D<z.s?z.s-D:A.s<D?A.s-D:0)*(1/116),b=Math.sqrt(Z*Z+j*j+a*a)*1.35;
return b<=o?Math.min(1,1.17*(1-b*i)):0};f.wJ=function(x,z,A){var o=x.length,i=.3,L=.59,B=.11;if(A){i=A[0];
L=A[1];B=A[2]}for(var F=0;F<o;F+=4)z[F>>2]=~~(x[F+0]*i+x[F+1]*L+x[F+2]*B+.5)};f.c3=function(x,z){var A=z.length;
for(var F=0;F<A;F+=4){var o=x[F>>>2];z[F]=o;z[F+1]=o;z[F+2]=o}};f.Ve=function(x,z){var A=x.xc,o=x.w,i=x.a,L=x.s,B=Math.min(x.xc.length,z.buffer.byteLength>>>2),D=4*Math.floor(B/4),Z=new Uint32Array(z.buffer),j=new Uint32Array(A.buffer),a=new Uint32Array(o.buffer),b=new Uint32Array(i.buffer),W=new Uint32Array(L.buffer);
for(var F=0;F<D;F+=4){var c=j[F>>2],Y=W[F>>2],R=b[F>>2],$=a[F>>2];Z[F]=c<<24|(Y&255)<<16|(R&255)<<8|$&255;
Z[F+1]=(c&65280)<<16|(Y&65280)<<8|R&65280|($&65280)>>>8;Z[F+2]=(c&16711680)<<8|Y&16711680|(R&16711680)>>>8|($&16711680)>>>16;
Z[F+3]=c&4278190080|(Y&4278190080)>>>8|(R&4278190080)>>>16|($&4278190080)>>>24}for(var F=D;F<B;F++)Z[F]=A[F]<<24|L[F]<<16|i[F]<<8|o[F]};
f.hC=function(x,z){var A=z.xc,o=z.w,i=z.a,L=z.s,B=Math.min(z.xc.length,x.buffer.byteLength>>>2),D=4*Math.floor(B/4),Z=new Uint32Array(x.buffer),j=new Uint32Array(A.buffer),a=new Uint32Array(o.buffer),b=new Uint32Array(i.buffer),W=new Uint32Array(L.buffer);
for(var F=0;F<D;F+=4){var c=Z[F],Y=Z[F+1],R=Z[F+2],$=Z[F+3];a[F>>2]=c&255|(Y&255)<<8|(R&255)<<16|$<<24;
b[F>>2]=(c&65280)>>8|Y&65280|(R&65280)<<8|($&65280)<<16;W[F>>2]=(c&16711680)>>16|(Y&16711680)>>8|R&16711680|($&16711680)<<8;
j[F>>2]=c>>>24|Y>>>24<<8|R>>>24<<16|$&4278190080}for(var F=D;F<B;F++){var k=Z[F];o[F]=k>>0&255;i[F]=k>>8&255;
L[F]=k>>16&255;A[F]=k>>24&255}};f.XN=function(x,z,A){var o=new Uint8Array(x.buffer),i=Math.min(o.length/4,z.length);
for(var F=0;F<i;F++){z[F]=o[(F<<2)+A]}};f.c8=function(x,z,A){var o=new Uint8Array(z.buffer),i=new Uint32Array(x.buffer),L=Math.min(o.length/4,x.length),F=0;
while(F+4<L){var B=i[F>>>2];o[(F<<2)+A]=B&255;o[(F<<2)+A+4]=B>>>8&255;o[(F<<2)+A+8]=B>>>16&255;o[(F<<2)+A+12]=B>>>24;
F+=4}while(F<L){o[(F<<2)+A]=x[F];F++}};f.OD=function(x,z,A){if(A==null)A=0;var o=new Uint32Array(x.buffer),i=o.length;
for(var F=0;F<i;F++)o[F]=o[F]&A|z};f.afc=function(x,z,A,o,i){if(i==null)i=0;var L=new Uint32Array(x.buffer);
A=A.tE(z);var B=A.x-z.x,D=A.y-z.y,Z=A.m,j=A.n,a=z.m;for(var b=0;b<j;b++){var F=(D+b)*a+B;for(var W=0;
W<Z;W++){L[F]=L[F]&i|o;F++}}};f.Yy=function(x,z){var A=Math.min(x.buffer.byteLength,z.buffer.byteLength),o=A>>>2,x=new Uint32Array(x.buffer,0,o),z=new Uint32Array(z.buffer,0,o);
z.set(x)};f.S0=function(x,z){var A=x.buffer.byteLength,o=z.buffer.byteLength,i=new Uint32Array(x.buffer,0,A>>2),L=new Uint32Array(z.buffer,0,o>>2);
if(A!=o)return!1;var B=i.length;for(var F=0;F<B;F++)if(L[F]!=i[F])return!1;return!0};f.Qs=function(x){var z=new Uint32Array(x.buffer),A=z.length;
for(var F=0;F<A;F++)z[F]=~z[F]};f.a0V=function(x){var z=x.length;for(var F=0;F<z;F+=4){x[F]=~x[F];x[F+1]=~x[F+1];
x[F+2]=~x[F+2]}};f.a7t=function(x){var z=x.length;for(var F=3;F<z;F+=4)x[F]=~x[F]};f.ano=function(x){return x+(x%4==0?0:4-x%4)};
f.C=function(x,z){if(z==null)z=!1;if(!z)x=f.ano(x);try{var A=new Uint8Array(x)}catch(kc){alert("Not enough RAM! (need "+Math.round(x/(1<<20))+" MB)",7e3);
throw"low_ram"}return A};f.mL=function(x){var z=x.length,A=x[z-2],o=x[z-1];while(o.m>=2&&o.n>=2){var i=f.sN(A,o);
x.push(i.ov,i.rect);A=i.ov;o=i.rect}};f.zI=function(x){var z=x.length,A=x[z-2],o=x[z-1];while(o.m>=2&&o.n>=2){var i=f.kw(A,o);
x.push(i.ov,i.rect);A=i.ov;o=i.rect}};f.sN=function(x,z,A){var o=z.m,i=z.n,L=o>>1,B=i>>1,D=new av(z.x,z.y,L,B),Z=A&&A.length==L*B*4?A:f.C(L*B*4),j=new Uint32Array(x.buffer),a=new Uint32Array(Z.buffer);
for(var b=0;b<B;b++)for(var W=0;W<L;W++){var c=b*L+W,Y=(b<<1)*o+(W<<1),R=j[Y],$=j[Y+1],k=j[Y+o],w=j[Y+o+1],V=R>>>24,h=$>>>24,l=k>>>24,M=w>>>24,q=V+h+l+M;
if(q==1020){var t=(R>>>0&255)+($>>>0&255)+(k>>>0&255)+(w>>>0&255)+2>>>2,p=(R>>>8&255)+($>>>8&255)+(k>>>8&255)+(w>>>8&255)+2>>>2,E=(R>>>16&255)+($>>>16&255)+(k>>>16&255)+(w>>>16&255)+2>>>2;
a[c]=255<<24|E<<16|p<<8|t}else if(q==0)a[c]=0;else{var t=(R>>>0&255)*V+($>>>0&255)*h+(k>>>0&255)*l+(w>>>0&255)*M,p=(R>>>8&255)*V+($>>>8&255)*h+(k>>>8&255)*l+(w>>>8&255)*M,E=(R>>>16&255)*V+($>>>16&255)*h+(k>>>16&255)*l+(w>>>16&255)*M,_=1/q;
t=~~(t*_+.5);p=~~(p*_+.5);E=~~(E*_+.5);a[c]=q+2>>>2<<24|E<<16|p<<8|t}}return{rect:D,ov:Z}};f.vo=function(x,z,A){var o=z.m,i=z.n,L=o>>1,B=i>>1,D=new av(z.x,z.y,L,B),Z=A&&A.length==L*B*4?A:f.C(L*B*4),j=new Uint32Array(x.buffer),a=new Uint32Array(Z.buffer);
for(var b=0;b<B;b++)for(var W=0;W<L;W++){var c=b*L+W,Y=(b<<1)*o+(W<<1),R=j[Y],$=j[Y+1],k=j[Y+o],w=j[Y+o+1],V=2+(R>>>0&255)+($>>>0&255)+(k>>>0&255)+(w>>>0&255)>>>2,h=2+(R>>>8&255)+($>>>8&255)+(k>>>8&255)+(w>>>8&255)>>>2,l=2+(R>>>16&255)+($>>>16&255)+(k>>>16&255)+(w>>>16&255)>>>2,M=2+(R>>>24&255)+($>>>24&255)+(k>>>24&255)+(w>>>24&255)>>>2;
a[c]=M<<24|l<<16|h<<8|V}return{rect:D,ov:Z}};f.avx=function(x,z,A){var o=z.m,i=z.n,L=2*Math.floor(o/3),B=2*Math.floor(i/3),D=new av(z.x,z.y,L,B),Z=A&&A.length==L*B*4?A:f.C(L*B*4),j=new Uint32Array(x.buffer),a=new Uint32Array(Z.buffer);
for(var b=0;b<B;b+=2)for(var W=0;W<L;W+=2){var c=b*L+W,Y=(b*3>>>1)*o+(W*3>>>1),R=j[Y],$=j[Y+1],k=j[Y+2],w=j[Y+o],V=j[Y+1+o],h=j[Y+2+o],l=j[Y+o+o],M=j[Y+1+o+o],q=j[Y+2+o+o],t=R>>>24<<2,p=(R>>>16&255)*t,E=(R>>>8&255)*t,_=(R&255)*t,S=$>>>24<<1,y=($>>>16&255)*S,v=($>>>8&255)*S,r=($&255)*S,K=k>>>24<<2,s=(k>>>16&255)*K,P=(k>>>8&255)*K,d=(k&255)*K,X=w>>>24<<1,U=(w>>>16&255)*X,n=(w>>>8&255)*X,e=(w&255)*X,J=V>>>24,C=(V>>>16&255)*J,H=(V>>>8&255)*J,u=(V&255)*J,bc=h>>>24<<1,jK=(h>>>16&255)*bc,N=(h>>>8&255)*bc,he=(h&255)*bc,gJ=l>>>24<<2,kg=(l>>>16&255)*gJ,cJ=(l>>>8&255)*gJ,it=(l&255)*gJ,by=M>>>24<<1,cz=(M>>>16&255)*by,fG=(M>>>8&255)*by,ju=(M&255)*by,gW=q>>>24<<2,iI=(q>>>16&255)*gW,ht=(q>>>8&255)*gW,et=(q&255)*gW,be=t+S+X+J,c9=K+S+bc+J,aJ=gJ+by+X+J,b6=gW+by+bc+J,ef=be==0?0:1/be,jV=c9==0?0:1/c9,hu=aJ==0?0:1/aJ,eG=b6==0?0:1/b6,k8=0,eE=0,jD=0,a_=0;
k8=~~(.5+(_+r+e+u)*ef);eE=~~(.5+(E+v+n+H)*ef);jD=~~(.5+(p+y+U+C)*ef);a_=~~(.5+be*(1/9));a[c]=a_<<24|jD<<16|eE<<8|k8;
k8=~~(.5+(d+r+he+u)*jV);eE=~~(.5+(P+v+N+H)*jV);jD=~~(.5+(s+y+jK+C)*jV);a_=~~(.5+c9*(1/9));a[c+1]=a_<<24|jD<<16|eE<<8|k8;
k8=~~(.5+(it+ju+e+u)*hu);eE=~~(.5+(cJ+fG+n+H)*hu);jD=~~(.5+(kg+cz+U+C)*hu);a_=~~(.5+aJ*(1/9));a[c+L]=a_<<24|jD<<16|eE<<8|k8;
k8=~~(.5+(et+ju+he+u)*eG);eE=~~(.5+(ht+fG+N+H)*eG);jD=~~(.5+(iI+cz+jK+C)*eG);a_=~~(.5+b6*(1/9));a[c+L+1]=a_<<24|jD<<16|eE<<8|k8}return{rect:D,ov:Z}};
f.aeA=function(x,z,A){var o=z.m,i=z.n,L=2*Math.floor(o/3),B=2*Math.floor(i/3),D=new av(z.x,z.y,L,B),Z=A&&A.length==L*B*4?A:f.C(L*B*4),j=new Uint32Array(x.buffer),a=new Uint32Array(Z.buffer);
for(var b=0;b<B;b+=2)for(var W=0;W<L;W+=2){var c=b*L+W,Y=(b*3>>>1)*o+(W*3>>>1),R=j[Y],$=j[Y+1],k=j[Y+2],w=j[Y+o],V=j[Y+1+o],h=j[Y+2+o],l=j[Y+o+o],M=j[Y+1+o+o],q=j[Y+2+o+o],t=(R>>>16&255)<<2,p=(R>>>8&255)<<2,E=(R&255)<<2,_=($>>>16&255)<<1,S=($>>>8&255)<<1,y=($&255)<<1,v=(k>>>16&255)<<2,r=(k>>>8&255)<<2,K=(k&255)<<2,s=(w>>>16&255)<<1,P=(w>>>8&255)<<1,d=(w&255)<<1,X=V>>>16&255,U=V>>>8&255,n=V&255,e=(h>>>16&255)<<1,J=(h>>>8&255)<<1,C=(h&255)<<1,H=(l>>>16&255)<<2,u=(l>>>8&255)<<2,bc=(l&255)<<2,jK=(M>>>16&255)<<1,N=(M>>>8&255)<<1,he=(M&255)<<1,gJ=(q>>>16&255)<<2,kg=(q>>>8&255)<<2,cJ=(q&255)<<2,it=0,by=0,cz=0;
it=~~(.5+(E+y+d+n)*(1/9));by=~~(.5+(p+S+P+U)*(1/9));cz=~~(.5+(t+_+s+X)*(1/9));a[c]=255<<24|cz<<16|by<<8|it;
it=~~(.5+(K+y+C+n)*(1/9));by=~~(.5+(r+S+J+U)*(1/9));cz=~~(.5+(v+_+e+X)*(1/9));a[c+1]=255<<24|cz<<16|by<<8|it;
it=~~(.5+(bc+he+d+n)*(1/9));by=~~(.5+(u+N+P+U)*(1/9));cz=~~(.5+(H+jK+s+X)*(1/9));a[c+L]=255<<24|cz<<16|by<<8|it;
it=~~(.5+(cJ+he+C+n)*(1/9));by=~~(.5+(kg+N+J+U)*(1/9));cz=~~(.5+(gJ+jK+e+X)*(1/9));a[c+L+1]=255<<24|cz<<16|by<<8|it}return{rect:D,ov:Z}};
f.Tp=function(x){var z=255,A=x.length;A-=A&31;for(var F=3;F<A;F+=32)z=z&x[F]&x[F+4]&x[F+8]&x[F+12]&x[F+16]&x[F+20]&x[F+24]&x[F+28];
return z!=255};f.ad9=function(x,z,A,o){var i=f.sN,L=f.avx,D=0;if(!f.Tp(x)){i=f.vo;L=f.aeA}var B={ov:x,rect:z},Z=A;
while(Z<.499){D++;Z*=2}for(var F=0;F<D;F++)B=i(B.ov,B.rect,o);if(Z<.5001)B=i(B.ov,B.rect,o);else B=L(B.ov,B.rect,o);
return B};f.a6J=function(x,z,A,o){var i=f.kw,L=f.UK,B={ov:x,rect:z},D=0,Z=A;while(Z<.499){D++;Z*=2}for(var F=0;
F<D;F++)B=i(B.ov,B.rect,o);if(Z<.5001)B=i(B.ov,B.rect,o);else B=L(B.ov,B.rect,o);return B};f.kw=function(x,z,A){var o=z.m,i=z.n,L=o>>1,B=i>>1,D=new av(z.x,z.y,L,B);
if(x==null)return{rect:D};var Z=A&&A.length>=L*B?A:f.C(L*B);for(var j=0;j<B;j++){var a=j*L;for(var b=0;
b<L;b++){var W=(j<<1)*o+(b<<1);Z[a+b]=2+x[W]+x[W+1]+x[W+o]+x[W+o+1]>>>2}}return{rect:D,ov:Z}};f.UK=function(x,z,A){var o=z.m,i=z.n,L=2*Math.floor(o/3),B=2*Math.floor(i/3),D=new av(z.x,z.y,L,B);
if(x==null)return{rect:D};var Z=A&&A.length>=L*B?A:f.C(L*B);for(var j=0;j<B;j+=2)for(var a=0;a<L;a+=2){var b=j*L+a,W=(j*3>>>1)*o+(a*3>>>1),c=x[W]<<2,Y=x[W+1]<<1,R=x[W+2]<<2,$=x[W+o]<<1,k=x[W+1+o],w=x[W+2+o]<<1,V=x[W+o+o]<<2,h=x[W+1+o+o]<<1,l=x[W+2+o+o]<<2;
Z[b]=~~(.5+(c+Y+$+k)*(1/9));Z[b+1]=~~(.5+(R+Y+w+k)*(1/9));Z[b+L]=~~(.5+(V+h+$+k)*(1/9));Z[b+L+1]=~~(.5+(l+h+w+k)*(1/9))}return{rect:D,ov:Z}};
f.K5=function(x,z,A,o,i){var L=z.tE(o);if(i)L=L.tE(i);var B=Math.max(0,L.x-z.x),D=Math.max(0,L.x-o.x),Z=Math.max(0,L.y-z.y),j=Math.max(0,L.y-o.y),a=L.m,b=L.n;
for(var F=0;F<b;F++){var W=(Z+F)*z.m+B,c=(j+F)*o.m+D;A.set(new Uint8Array(x.buffer,W,a),c)}};f.hp=function(x,z,A,o){if(z.S0(o)){f.c8(x,A,3);
return}var i=z.tE(o),L=Math.max(0,i.x-z.x),B=Math.max(0,i.x-o.x),D=Math.max(0,i.y-z.y),Z=Math.max(0,i.y-o.y),j=i.m,a=i.n;
for(var F=0;F<a;F++){var b=(D+F)*z.m+L,W=(Z+F)*o.m+B;for(var c=0;c<j;c++)A[(W+c<<2)+3]=x[b+c]}};f.mK=function(x,z,A,o){var i=z.tE(o),L=Math.max(0,i.x-z.x),B=Math.max(0,i.x-o.x),D=Math.max(0,i.y-z.y),Z=Math.max(0,i.y-o.y),j=i.m,a=i.n;
for(var F=0;F<a;F++){var b=(D+F)*z.m+L,W=(Z+F)*o.m+B;for(var c=0;c<j;c++)A[W+c]=x[(b+c<<2)+3]}};f.mV=function(x,z,A,o,i){if(z.S0(o)&&(i==null||i.S0(o))){f.Yy(x,A);
return}x=new Uint32Array(x.buffer),A=new Uint32Array(A.buffer);var L=z.tE(o);if(i)L=L.tE(i);var B=Math.max(0,L.x-z.x),D=Math.max(0,L.x-o.x),Z=Math.max(0,L.y-z.y),j=Math.max(0,L.y-o.y),a=L.m,b=L.n,W=a&3,c=W==0?a:a-W;
for(var F=0;F<b;F++){var Y=(Z+F)*z.m+B,R=(j+F)*o.m+D;A.set(new Uint32Array(x.buffer,Y*4,a),R)}};f.c1=function(x,z,A,o){var i=z.tE(o),L=Math.max(0,i.x-z.x),B=Math.max(0,i.x-o.x),D=Math.max(0,i.y-z.y),Z=Math.max(0,i.y-o.y),j=i.m,a=i.n,b=x.xc,W=x.w,c=x.a,Y=x.s,R=A.xc,$=A.w,k=A.a,w=A.s;
for(var F=0;F<a;F++){var V=(D+F)*z.m+L,h=(Z+F)*o.m+B;for(var l=0;l<j;l++){R[h+l]=b[V+l];$[h+l]=W[V+l];
k[h+l]=c[V+l];w[h+l]=Y[V+l]}}};f.h$=function(x){var z=x.length;for(var F=0;F<z;F+=4){var A=x[F+3];if(A==255)continue;
x[F]=~~(x[F]*A*(1/255)+.5);x[F+1]=~~(x[F+1]*A*(1/255)+.5);x[F+2]=~~(x[F+2]*A*(1/255)+.5)}};f.n_=function(x){var z=x.length;
for(var F=0;F<z;F+=4){var A=x[F+3];if(A==0||A==255)continue;var o=255/A;x[F]=~~(x[F]*o+.5);x[F+1]=~~(x[F+1]*o+.5);
x[F+2]=~~(x[F+2]*o+.5)}};f.DX=function(x,z){for(var F=0;F<x.length;F++)if(x[F]!=z)return!1;return!0};
f.pY=function(x){return x+1+(x>>>8)>>>8};f.round=function(x,z){if(z==null)z=128;var A=x.length;for(var F=0;
F<A;F++)x[F]=x[F]<z?0:255};f.Wb=function(x,z){var A=x.length;for(var F=0;F<A;F++)x[F]=Math.round(x[F]*z)};
f.bA=function(x,z){var A=new Uint32Array(x.buffer),o=new Uint32Array(z.buffer),i=A.length;for(var F=0;
F<i;F++){var L=A[F],B=o[F];o[F]=f.pY((L>>>24)*(B>>>24))<<24|f.pY((L>>>16&255)*(B>>>16&255))<<16|f.pY((L>>>8&255)*(B>>>8&255))<<8|f.pY((L&255)*(B&255))}};
f._i=function(x,z){var A=x.length;for(var F=0;F<A;F++)z[(F<<2)+3]=f.pY(z[(F<<2)+3]*x[F])};f.ahZ=function(x,z,A,o){var i=Math.max(0,o.x-z.x),L=Math.max(0,z.x-o.x),B=Math.max(0,o.y-z.y),D=Math.max(0,z.y-o.y),Z=Math.min(z.x+z.m,o.x+o.m)-Math.max(z.x,o.x),j=Math.min(z.y+z.n,o.y+o.n)-Math.max(z.y,o.y);
for(var F=0;F<j;F++){var a=(B+F)*z.m+i,b=(D+F)*o.m+L;for(var W=0;W<Z;W++){A[b]=f.pY(A[b]*x[a]);a++;b++}}};
f.A5=function(x,z,A,o){var i=Math.max(0,o.x-z.x),L=Math.max(0,z.x-o.x),B=Math.max(0,o.y-z.y),D=Math.max(0,z.y-o.y),Z=Math.min(z.x+z.m,o.x+o.m)-Math.max(z.x,o.x),j=Math.min(z.y+z.n,o.y+o.n)-Math.max(z.y,o.y);
for(var F=0;F<j;F++){var a=(B+F)*z.m+i,b=((D+F)*o.m+L<<2)+3;for(var W=0;W<Z;W++){A[b]=f.pY(A[b]*x[a]);
a++;b+=4}}};f.Sr=function(x,z,A,o){var i=Math.max(0,o.x-z.x),L=Math.max(0,z.x-o.x),B=Math.max(0,o.y-z.y),D=Math.max(0,z.y-o.y),Z=Math.min(z.x+z.m,o.x+o.m)-Math.max(z.x,o.x),j=Math.min(z.y+z.n,o.y+o.n)-Math.max(z.y,o.y);
for(var F=0;F<j;F++){var a=((B+F)*z.m+i<<2)+3,b=((D+F)*o.m+L<<2)+3;for(var W=0;W<Z;W++){A[b]=f.pY(A[b]*x[a]);
a+=4;b+=4}}};f.SM=function(x){var z=new Float64Array(256),A=new Float64Array(256),o=new Float64Array(256),i=new Float64Array(256),L=x.length,B=0;
for(var F=0;F<L;F+=4){var D=x[F+0],Z=x[F+1],j=x[F+2],a=x[F+3],b=a*(1/255);A[D]+=b;o[Z]+=b;i[j]+=b;B+=a}for(var F=0;
F<256;F++)z[F]=A[F]+o[F]+i[F];return[z,A,o,i,L>>>2,B/255]};f.OC=function(x,z){function A(M,q){var t=-1,p=0;
while(p<=q){t++;p+=M[t]}return t}function o(M,q){var t=256,p=0;while(p<=q){t--;p+=M[t]}return t}function i(M){var q=0,t=0;
for(var F=0;F<256;F++){t+=M[F];q+=M[F]*F*(1/255)}return q/t}var L=x[0],B=x[1]/100,D=x[2]/100,Z=[],j=[];
for(var F=0;F<4;F++){var a=F==0?3:1;Z[F]=A(z[F],a*B*z[5]);j[F]=o(z[F],a*D*z[5])}var b=[i(z[1]),i(z[2]),i(z[3])],W=b.slice(0);
W.sort(function(M,q){return M-q});var c=b.indexOf(W[1]),Y=(b[0]+b[1]+b[2])/3,R=[];for(var F=0;F<4;F++){var $=0,k=255,w=Z[F],V=j[F];
if(L==0&&F==0){$=w;k=V}if(L==1&&F!=0){$=w;k=V}if(L==2&&F!=0){var a=b[F-1]/Y;k=Math.max(0,Math.min(255,j[c]*a))}var h=[$,k];
R.push(h);if(L==3&&F==0){var l=255*(1-Y);h.push(l)}}return R};f.hu=function(x,z){var A=new Uint32Array(x.buffer),o=A.length;
for(var F=0;F<o;F++){var i=A[F],L=i&255,B=i>>8&255,D=i>>16&255,Z=i>>24&255;A[F]=z[L]|z[B]<<8|z[D]<<16|z[Z]<<24}};
f.ale=function(x,z,A,o,i,L,B){var D=new Uint32Array(x.buffer),Z=new Uint32Array(z.buffer),j=D.length,a=0;
while(256<<a<A.length)a++;if(!B&&!L){for(var F=0;F!=j;F++){var b=D[F],W=(b&255)<<a,c=(b>>>8&255)<<a,Y=(b>>>16&255)<<a,R=A[W],$=o[c],k=i[Y];
Z[F]=R|$<<8|k<<16|b&4278190080}return}for(var F=0;F<j;F++){var b=D[F],W=(b&255)<<a,c=(b>>>8&255)<<a,Y=(b>>>16&255)<<a;
if(L)W=c=Y=Math.round(W*.3+c*.59+Y*.11);var R=A[W],$=o[c],k=i[Y];if(B){var w=f.yA(W,c,Y),V=f.yA(R,$,k);
if(w>V){var h=(w-V)/(255-V);R+=h*(255-R);$+=h*(255-$);k+=h*(255-k)}else if(V==0)R=$=k=0;else{var h=w/V;
R=h*R;$=h*$;k=h*k}}Z[F]=R|$<<8|k<<16|b&4278190080}};f.mI=function(x,z){var A=z.m,o=z.n,top=0,i=0,L=0,B=0,D=0;
D=0;for(var Z=0;Z<o;Z++){var j=Z*A;for(var F=0;F<A;F++)D|=x[j+F];if(D!=0)break;top++}if(top==o)return new av(0,0,0,0);
D=0;for(var Z=o-1;Z>=0;Z--){var j=Z*A;for(var F=0;F<A;F++)D|=x[j+F];if(D!=0)break;L++}var a=o-L;D=0;
for(var F=0;F<A;F++){for(var Z=top;Z<a;Z++)D|=x[Z*A+F];if(D!=0)break;i++}D=0;for(var F=A-1;F>=0;F--){for(var Z=top;
Z<a;Z++)D|=x[Z*A+F];if(D!=0)break;B++}var b=new av(z.x+i,z.y+top,A-i-B,o-top-L);return b};f.N1=function(x,z,A,o){if(o==null)o=[!0,!0,!0,!0];
if(A==null)A=0;var i=new Uint32Array(x.buffer),L=z.m,B=z.n,top=0,D=0,Z=0,j=0,a=!1,b=[i[0],i[i.length-1],0][A];
a=!1;if(o[0])for(var W=0;W<B;W++){var c=W*L;for(var F=0;F<L;F++)if(i[c+F]!=b)a=!0;if(a)break;top++}a=!1;
if(o[2])for(var W=B-1;W>=0;W--){var c=W*L;for(var F=0;F<L;F++)if(i[c+F]!=b)a=!0;if(a)break;Z++}a=!1;
if(o[1])for(var F=0;F<L;F++){for(var W=0;W<B;W++)if(i[W*L+F]!=b)a=!0;if(a)break;D++}a=!1;if(o[3])for(var F=L-1;
F>=0;F--){for(var W=0;W<B;W++)if(i[W*L+F]!=b)a=!0;if(a)break;j++}var Y=new av(z.x+D,z.y+top,L-D-j,B-top-Z);
return Y.WT()?new av(0,0,0,0):Y};f.wr=function(x){var z=f.mI(x.channel,x.rect);if(z.S0(x.rect))return;
var A=f.C(z.$());f.K5(x.channel,x.rect,A,z);x.channel=A;x.rect=z};f.H9=function(x){var z=f.C(x.buffer.length>>2);
f.XN(x.buffer,z,3);var A=f.mI(z,x.rect);if(A.S0(x.rect))return;var o=new f.C(A.$()*4);f.mV(x.buffer,x.rect,o,A);
x.buffer=o;x.rect=A};f.extend=function(x,z,A){if(x.rect.V2(z))return;var o=x.rect.QM(z),i=f.C(o.$());
if(A!=null)i.fill(A);f.K5(x.channel,x.rect,i,o);x.rect=o;x.channel=i};f.a1M=function(x,z){if(z.WT()||x.rect.V2(z))return;
var A=x.rect.QM(z),o=f.C(A.$()*4);f.mV(x.buffer,x.rect,o,A);x.rect=A;x.buffer=o};f.Qd=function(x,z,A){if(!A.Td(x))return!1;
var o=Math.floor(x.x)-A.x,i=Math.floor(x.y)-A.y,F=i*A.m+o;return z[F]>128};f.a1u=function(x,z,A){if(!A.Td(x))return!1;
var o=Math.floor(x.x)-A.x,i=Math.floor(x.y)-A.y,F=i*A.m+o;return z[4*F+3]>128};f.YU=function(x){if(f.zY.length<x){f.zY=f.C(x);
f.zY.fill(255)}return f.zY};f.zY=f.C(0);f.vJ=function(x){if(f.KK.length<x)f.KK=f.C(x);return f.KK};f.KK=f.C(0);
f.mz=function(x){this.xc=f.C(x);this.w=f.C(x);this.a=f.C(x);this.s=f.C(x)};f.mz.prototype.clone=function(){var x=this.xc.length,z=new f.mz(1);
z.xc=this.xc.slice(0);z.w=this.w.slice(0);z.a=this.a.slice(0);z.s=this.s.slice(0);return z};f.R.aa3=function(x,z,A,o,i){var L=i[0]+1,B=i[1],D=Math.abs(B-25)/4,Z=i[2],j=Z%2+Z*Z>>1,a=f.R.T;
a.m7(z,A);var b=a.xf(1),W=a.xf(1),c=a.xf(1);a.r2(x,o,Z,Z,j);a.eF(o);a.eQ(o,b);a.Wn(b,W,L,L,1);a.Wn(b,c,L,L,L*L);
a.sub(c,W);a.bA(W,D);(B<25?a.sub:a.add)(b,W);a.Ia(W,o);a.GX(o)};f.R.ac5=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=i[0]*2.55,D=i[1],Z=D>>1,j=i[2]*.25,a=L.xf(4),b=L.xf(1),W=L.xf(1);L.Lt(x,a,D,1,!0,Z);
L.Lt(x,o,D,1,!1,Z);L.t5(x,b);L.iZ(b,B);L.aH(b,W,3);L._1(o,W,a);L._3(a,o,j)};f.R.a1Z=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[3]);var B=i[0]*-3+80,D=i[1]*-3+80,Z=i[2]/2+.5,j=i[4],a=i[5],b=L.xf(1),W=L.xf(1),c=L.xf(1),Y=L.xf(1),R=L.xf(4),$=L.xf(4);
L.t5(x,b);L.Yy(b,W);L.kZ(b,D,5);L.Gg(b,.4,0);L.aH(b,c,3);L.mb(c,b,9,3,!0,27);L.Yy(W,c);L.Qs(c);var k=L.MN(B,5,c);
for(var F=0;F<L.LO;F++){W[F]=k[255-W[F]]}L.Gg(W,.4,0);L.Yy(W,c);L.aH(c,Y,2);L.mb(Y,c,5,3,!1,15);L.bA(b,Z);
L.bA(c,Z);L.D2(o,2155905279);L.D2($,j);L.D2(R,a);L._1($,b,o);L._1(R,c,o)};f.R.amT=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=new Uint8Array(256),D=5+10*i[1];D+=i[1]>3?(i[1]-3)*10:0;var Z=~~(i[2]*.73)+50,j=Math.min(Z+D,128),a=j-Z,b=-255*Z;
for(var F=0;F<256;F++){var W=F*65;B[F]=L.G1(b/a);b+=255}var c=L.xf(1),Y=L.xf(1),R=L.xf(1);L.t5(x,c);
L.Yy(c,R);L.aH(c,Y,2*i[0]+1);L.sub(Y,c);L.bA(c,65);L.mb(c,Y,9,3,!0,20);for(var F=0;F<L.LO;F++){var $=R[F],k=Y[F];
c[F]=k>0?~~((k*$+(255-k)*128)/255):128}L.aH(c,Y,3);L.mb(Y,c,15,2,!0,16);L.mb(Y,R,15,2,!1,15);L.ZA(c,R);
L.cH(R,Y,2);L.KL(Y,B);L.aH(Y,c,2);L.Je(c,o)};f.R.an7=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);var B=2*i[0]+1,D=L.S7[i[1]],Z=i[2]*5.1,j=i[3],a=L.xf(1),b=L.xf(1),W=L.xf(4),c=L.xf(4);
L.D2(W,j);L.eF(W,o);L.yl(a,Z);L.Ia(a,o);L.GX(o,W);L.t5(x,b);L.aH(b,a,B);L.sub(a,b);L.bA(b,D);L.mb(b,a,9,3,!0,20);
L._1(x,a,W);L.Pt(W,o,3);L.Lt(o,W,15,2,!0,16);L.Lt(o,c,15,2,!1,16);L.ZA(W,c);L._3(c,o,2)};f.R.auT=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=(15-i[0])/4+1,D=(15-i[1])/4+1,Z=i[2],j=i[3],a=L.zL(i[4]),b=i[5]+1,W=i[6],c=i[7],Y=i[8],R=L.xf(1),$=L.xf(1),k=L.xf(1),w=L.xf(1),V=L.xf(4),h=L.xf(4);
L.lw(k,Z,j,W);L.t5(x,$);L.aH($,R,5);L.oi(k,R,w,b,a);L.bA(w,B);L.GP(w,2);L.Qs(R);L.oi(k,R,$,b,a);L.bA($,D);
L.GP($,2);L.D2(V,2155905279);L.D2(h,c);L.D2(o,Y);L._1(V,$,h);L._1(h,w,o)};f.R.aqa=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[3]);var B=i[0],D=i[1]/10,Z=i[2]/10,j=L.xf(1),a=L.xf(1),b=L.xf(1),W=L.WS(),c=L.WS(),Y=L.WS();
L.dt(j);L.aH(j,a,11);L.aH(a,j,11);L.Xq(j,W);L.JA(x,j);L.Yy(j,b);L.aH(j,a,9);L.aH(a,j,9);L.Xq(j,c);L.R1(c,Y,5);
L.R1(Y,c,5);L.Ll(W,.8);L.aoJ(W,c,.8,.9);L.sn(c,j,B);L.Wn(j,a,2,2,1);L.Wn(a,j,2,2,3);L.Wn(j,a,2,2,3);
L.Wn(b,j,5,5,13);L.hg(a,j,a,D);L.e$(j,a,a,Z);L.oi(a,a,j,5,1);L.eF(x,o);L.Ia(j,o);L.GX(o)};f.R.auE=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=i[0],D=i[1]/2,Z=i[2],j=B/2,a=L.xf(4),b=L.xf(4);L.Yy(x,o);for(var W=0;W<Z;W++){L.Lt(o,a,B,1,!0,j);
L.Lt(o,b,B,1,!1,j);L.ZA(b,a);L.Pt(a,b,2);L._3(b,o,D)}};f.R.agf=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);
var B=i[0]*10,D=i[1]*4.9,Z=i[2]*4.9,j=L.xf(1),a=L.xf(1),b=L.xf(4),W=L.xf(4);L.t5(x,j);L.iZ(j,L.ani(j,B));
L.aH(j,a,3);L.Lt(x,b,5,1,!1,1);L.Lt(x,o,15,2,!0,16);L._1(o,a,b);L.eF(b,o);L.eQ(o,j);L.kZ(j,D,Z);L.Ia(j,o);
L.GX(o)};f.R.aqV=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);L.xT(i[4]);var B=i[0]/20,D=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][i[1]],Z=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][i[2]],j=i[3],a=new Int16Array(256);
for(var F=0;F<256;F++){a[F]=~~((F-128)*B)}var b=L.xf(1),W=L.xf(1),c=L.xf(4);L.t5(x,b);L.aH(b,W,25);L.bA(W,D);
L.GP(W,Z);L.aH(W,b,25);L.dt(W);L.K0(b,W,a);L.Yy(x,o);L.D2(c,j);L._1(c,b,o)};f.R.ahG=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=i[0]+5,D=15-i[1],Z=B*B/2,j=1-(3-i[2])/10,a=~~(D*D*j-1),b=~~(D*D*(1-j));if(b==0)b=1;var W=L.xf(1),c=L.xf(1),Y=L.xf(1),R=L.xf(4);
L.t5(x,Y);L.Wn(Y,W,B,B,Z);L.aH(Y,c,B);L.sub(W,c);L.iZ(c,1);L.r2(x,R,D,D,a);L.r2(x,o,D,D,b);L._1(R,c,o)};
f.R.awP=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);L.xT(i[3]);var B=(20-i[0])*.05,D=i[1]*-2.75+60,Z=65-D,j=i[2]/10,a=L.xf(1),b=L.xf(1);
L.JA(x,b);var W=L.MN(D,Z,b);L.eF(x,o);L.eQ(o,b);L.dt(a);L.ZX(b,a,B);L.KL(b,W);L.bA(b,i[2]/10);L.add(a,b);
L.Ia(b,o);L.GX(o)};f.R.a6w=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);var B=5+i[0],D=15-i[1],Z=i[2],j=B*B/2+B*B%2*1,a=1-(3-i[2])/10,b=~~(D*D*a-1),W=~~(D*D*(1-a));
if(W==0)W=1;var c=L.xf(1),Y=L.xf(1),R=L.xf(1),$=L.xf(1),k=L.xf(1);L.JA(x,Y);L.cH(Y,c,3);L.Wn(c,Y,2,2,1);
var w=L.MN(20,20,Y);L.KL(Y,w);L.aH(Y,k,5);L.Wn(k,c,B,B,j);L.Wn(k,Y,D,D,b);L.Wn(k,R,D,D,W);L.aH(k,$,B);
L.sub(c,$);L.iZ($,1);L.Pp(Y,$,R);L.eF(x,o);L.Ia(R,o);L.GX(o)};f.R.av0=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[5]);var B=L.LO,D=L.r0,Z=i[0],j=i[1],a=i[2],b=i[3],W=i[4],c=.05*Z+1,Y=Z/100,R=Z>>1,$=2*Z-100,k=+(j==9),w=+(j==7),V=[4,1][k],h=[3,2][k],l=[1,2][w],M=[2,1][w],q=[50,75][k],t=j<4?a:(a>>1)+50,p=L.RT(q,t),E=L.T0(b),_=L.T0(W),S=L.xf(4),y=L.xf(4),v=L.xf(1),r=L.xf(1);
function K(o,p){if(t!=50){L.pl(o,p)}}function s(x,jK){for(var F=0;F<B;F++){x[F]=L.G1(x[F]+(jK[F]-128)*Y)}}function P(x,jK){for(var F=0,N=0;
F<B;F++){x[N]=L.G1(x[N]+(jK[N]-128)*Y);x[N+1]=L.G1(x[N+1]+(jK[N+1]-128)*Y);x[N+2]=L.G1(x[N+2]+(jK[N+2]-128)*Y);
N+=4}}function d(x,o){L.dt(y);L.Yy(x,o);P(o,y);K(o,p)}function X(jK){var N=0;for(var he=0;he<12;he++)N+=L.random();
return L.G1(R*(N-6)+jK)}function U(x,o){L.Yy(x,o);for(var F=0;F<D;F+=4){o[F]=X(o[F]);o[F+1]=X(o[F+1]);
o[F+2]=X(o[F+2])}K(o,p)}function n(x,o){L.Yy(x,o);for(var F=0;F<D;F+=4){if(L.random()<Y){o[F]=E[0];o[F+1]=E[1];
o[F+2]=E[2]}}K(o,p)}function e(x,o){L.dt(S);L.r2(S,y,h,h,V);L.Yy(x,S);P(S,y);L.r2(S,o,5,5,13);K(o,p)}function J(x,o){L.dt(y);
L.Yy(x,S);P(S,y);K(o,p);L.r2(S,o,h,h,V)}function C(x,o){L.Yy(x,S);K(o,p);L.t5(S,v);for(var F=0,jK=0;
F<B;F++){var N=(($-v[F]+255)*128.5+.5)/32767;if(L.random()<=N){o[jK++]=_[0];o[jK++]=_[1];o[jK++]=_[2]}else{o[jK++]=E[0];
o[jK++]=E[1];o[jK++]=E[2]}o[jK]=x[jK];jK++}}function H(x,o){L.eF(x,o);L.eQ(o,v);L.cH(v,r,c);L.Wn(r,v,h,h,V);
L.KL(v,p);L.Ia(v,o);L.GX(o)}function u(x){var jK=0;if(j==8){for(var N=0;N<z;N++){x[jK++]=~~(L.random()*255)}for(var F=1;
F<A;F++){for(var N=0;N<z;N++){x[jK++]=x[N]}}}else{for(var F=0;F<A;F++){var he=~~(L.random()*255);for(var N=0;
N<z;N++){x[jK++]=he}}}}function bc(x,o){L.t5(x,v);L.dt(r);s(v,r);u(r);s(v,r);L.Pt(x,S,9);L.Pt(S,y,9);
L.aH(v,r,2);L.KL(r,p);L.aH(r,v,2);L.eF(y,o);L.Ia(v,o);L.GX(o)}[d,U,n,e,e,J,C,bc,bc,H][j](x,o)};f.R.ak$=function(x,z,A,o,i){var L=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],B=f.R.T,R=0,$,F,l,M,q,t=0,p=1,E=255;
B.m7(z,A);B.xT(i[3]);var D=B.xf(1),Z=B.xf(1);B.t5(x,D);var j=i[0],a=i[1],b=a<=50?L[a]/255:1+(255-L[101-a])/255,W=i[2],c=D.length,Y=new Float32Array(c),k=1+1/10*j,w=(1-1/k)/2,V=16/256,h=z-1;
for(F=0;F<B.LO;F++){Y[F]=D[F]/255;Z[F]=j==1?B.random()<1/255?E:p:p}function _(S,y){var v=S*z+y;if(Z[v]!=p||S>=A||y>=z){return}var M=Y[v],r=b-M,K=B.random(),s=K/k+w;
if(R==0||Math.abs(q-M)>V){$=s<=r?t:E;R=~~(B.random()*j)}else if(.1<K){R--}else{R=0}Z[v]=$;q=M}if(W==0){for(F=0;
F<z;F++){for(l=0;l<z;l++){M=F+l;if(M>=z)break;_(l,h-M)}R=0}for(F=1;F<A;F++){for(l=0;l<A;l++){M=F+l;if(M>=A||l>=z)break;
_(M,h-l)}R=0}}else if(W==1){for(F=0;F<A;F++){for(l=0;l<z;l++){_(F,l)}R=0}}else if(W==2){for(F=0;F<z;
F++){for(l=0;l<z;l++){M=F+l;if(M>=z)break;_(l,M)}R=0}for(F=1;F<A;F++){for(l=0;l<A;l++){M=F+l;if(M>=A||l>=z)break;
_(M,l)}R=0}}else{for(F=0;F<z;F++){for(l=0;l<A;l++){_(l,F)}R=0}}B.Je(Z,o)};f.R.ar5=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=i[0],D=i[1],Z=i[2],j=L.xf(1),a=L.xf(1),b=L.xf(1),W=L.xf(4),c=L.xf(4);L.t5(x,j);L.Wn(j,a,3,3,1);
L.Wn(j,b,3,3,9);L.sub(b,a);L.aH(a,j,3);L.kZ(j,40,10);L.Lt(x,o,B,2,!1,B);L.Lt(x,W,B,2,!0,B);L.D2(c,255);
L._1(o,j,c);L._1(c,j,W);L._3(W,o,1);L.eF(o);L.eQ(o,j);L.kZ(j,D,Z);L.Ia(j,o);L.GX(o)};f.R.ax3=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[3]);var B=i[0],D=i[1],Z=i[2]/10;B=B+D;var j=L.xf(1),a=L.xf(1),b=L.WS(),W=L.WS();L.dt(j);
L.aH(j,a,11);L.aH(a,j,11);L.Xq(j,b);L.R1(b,W,5);L.R1(W,b,5);L.Ll(W,.97);L.sn(W,j,B);L.Wn(j,a,D,D,1);
L.JA(x,j);L.hg(a,j,a,.6);L.e$(j,a,a,Z);L.oi(a,a,j,5,1);L.eF(x,o);L.Ia(j,o);L.GX(o)};f.R.a1f=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=Math.abs(i[0]),D=B+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][B],Z=2*B+1,j=i[1]/10,a=j*13/15,b=L.xf(1),W=L.xf(1),c=L.xf(1),Y=L.xf(1),R=L.xf(4),$=L.xf(4),k=L.xf(4),w=L.xf(4),V=L.xf(4);
L.t5(x,b);if(i[0]>=0){L.Qs(b)}L.Yy(b,c);L.aH(b,Y,D);L.aH(Y,b,D);L.bA(b,j);L.Yy(b,W);L.aH(b,Y,Z);L.aH(Y,b,Z);
L.bA(b,a);L.D2(k,i[2]);L.D2(w,i[3]);L.D2(V,i[4]);L._1(k,b,w,R);L._1(V,W,R,$);L._1(w,c,$,o);L.eQ(x,c,3);
L.Ia(c,o,3)};f.R.aii=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);L.xT(i[5]);var B=i[0]*5.1,D=i[1]/100,Z=L.mT[i[2]],j=L.xf(1),a=L.xf(1),b=L.xf(1);
L.t5(x,j);L.yl(a,255);L.dt(b);L.iZ(j,B);L.ZX(a,j,.7);L.ZX(b,j,D);L.oi(j,j,a,5,Z);L.Yy(x,o);L.ady(o,B,i[4],i[3]);
L.eF(o);L.Ia(a,o);L.GX(o)};f.R.af9=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);var B=i[0],D=4-i[1],Z=11-i[2],j=L.xf(1),a=L.xf(1),b=L.xf(4);
L.JA(x,a);for(var F=0;F<D;F++){L.Yy(a,j);L.Qt(j,a,B,B)}L.Pt(x,b,B);L.eF(b,b);L.Ia(a,b);L.GX(b,b);(Z<11?L.am6:L.Yy)(b,o,Z)};
f.R.abR=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);L.xT(i[2]);var B=i[0]+5,D=~~(B/5+1),Z=~~(B/2)+1,j=Z*Z,a=~~(B/3),b=L.mT[i[1]],W=new Array(256);
for(var F=0;F<256;F++){W[F]=~~(.2*(F-128))}var c=L.xf(1),Y=L.xf(1);L.amv(x,o,B);L.eF(o);L.eQ(o,c);L.dt(Y);
L.K0(c,Y,W);L.ap4(Y,B,B,D,D);L.hg(c,Y,c,1);L.aH(c,Y,a);L.aH(Y,c,a);L.Wn(c,Y,Z,Z,j);L.oi(Y,Y,c,5,b);L.Ia(c,o);
L.GX(o)};f.R.aoi=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);var B=L.xf(1),D=L.xf(1),Z=L.xf(1),j=L.WS(),a=L.WS();
L.t5(x,B);L.aH(B,D,i[2]);L.iZ(D,i[0]*5.1);L.Wn(D,B,2,2,4);L.aH(B,D,3);L.aH(D,B,3);L.Yy(B,Z);L.aH(B,D,5);
L.aH(D,B,5);L.Xq(B,j);L.R1(j,a,5);L.R1(a,j,5);L.a7x(j,D,i[1]);L.Qs(D);L.hg(Z,D,Z,1);L.Je(Z,o)};f.R.a58=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=1<<7-i[2],D=L.xf(1),Z=L.xf(1),j=L.xf(1);L.JA(x,Z);L.aH(Z,D,3);L.Yy(D,Z);L.aH(D,j,i[0]+5);
L.sub(j,Z);L.kZ(Z,1,i[1]);L.bA(D,1/B);L.bA(D,B);L.sub(D,Z);L.eF(x,o);L.Ia(Z,o);L.GX(o)};f.R.a7j=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[3]);var B=L.xf(1),D=L.xf(1),Z=L.xf(1);L.t5(x,B);L.ax5(D,i[0]/50);L.aH(D,Z,3);L.Wn(B,D,9,9,41);
L.kZ(D,i[1],i[2]);L.hg(D,Z,Z,.75);L.e$(D,Z,D,.5);L.Yy(D,B);L.Wn(B,Z,3,3,8);L.hg(Z,D,Z,.75);L.bA(Z,1.2);
L.cH(Z,B,1);L.aH(B,Z,2);L.cH(Z,B,2);L.bA(B,1.2);L.aH(B,Z,2);L.Je(Z,o)};f.R.awM=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=i[0]+9,D=i[1]/2,Z=i[2],j=i[3],a=L.zL(i[4]),b=i[5]+1,W=i[6],c=L.xf(1),Y=L.xf(1),R=L.xf(4),$=L.xf(4);
L.lw(Y,Z,j,W);L.MI(x,o,B,1,1);L.MI(o,R,B,1,1);L.anT(R,R,$,7,D);L.bA($,1.2);L.GP($,1.2);L.oi(Y,c,c,b,a);
L.bA(c,3);L.Yy(x,o);L._1($,c,o)};f.R.apO=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);L.xT(i[3]);var B=i[0]+4,D=B*2/5+(B%5|0);
B--;var Z=i[1]*-2.75+60,j=65-Z,a=i[2]/10,b=L.xf(1),W=L.xf(1);L.dt(b);L.JA(x,W);var c=L.MN(Z,j,W);L.eF(x,o);
L.eQ(o,W);L.ZX(W,b,.8);L.KL(W,c);L.bA(W,a);L.add(b,W);L.mb(W,b,B,3,!1,D);L.Ia(b,o);L.GX(o)};f.R.afb=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[3]);var B=i[0]+5,D=(B*B>>1)+B%2,Z=i[1]/10,j=i[2],a=(j*j>>1)+j%2,b=L.xf(1),W=L.xf(1),c=L.xf(1),Y=L.xf(4),R=L.xf(4),$=L.xf(4);
L.dt(c);L.eF(x,$);L.eQ($,b);L.ZX(b,c,.8);L.aH(c,b,3);L.cH(b,c,Z);L.Ia(c,$);L.GX($,$);L.t5($,c);L.Wn(c,b,B,B,D);
L.aH(c,W,B);L.sub(b,W);L.iZ(W,1);L.r2($,Y,7,7,40);L.r2($,R,7,7,10);L._1(Y,W,R);L.r2(R,o,j,j,a)};f.R.aeb=function(x,z,A,o,i){var L=f.R.T,D=255,F,j;
L.m7(z,A);var B=i[0];if(B<2)D=B;else if(B<12)D=5*B-5;else if(B<47)D=2*B+28;else if(B<50){F=B-47;D=125+12.5*F+12.5*F*F}var Z=new Uint8Array(256);
for(F=75,j=15;F<256;F++,j+=24)Z[F]=Math.min(255,j);var a=L.xf(1),b=L.xf(1),W=L.xf(1);L.t5(x,a);L.aH(a,b,11);
L.aH(b,W,11);L.sub(W,a);L.bA(a,8);L.sub(W,a);L.iZ(a,D);L.Qs(a);L.aH(a,b,5);L.iZ(b,51);L.aH(b,a,i[1]);
L.aH(a,b,i[1]);L.Qs(b);L.KL(b,Z);L.Je(b,o)};f.R.a5U=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);var B=L.S7[i[1]],D=i[2],Z=D*1.5,j=L.xf(1),a=L.xf(1),b=L.xf(1);
L.JA(x,j);L.mb(j,a,15,2,!0,15);L.Yy(a,b);L.kZ(b,D,Z);L.aH(b,j,3);L.aH(a,b,i[0]);L.sub(b,a);L.bA(a,B);
L.sub(j,a);L.aH(a,j,3);L.mb(j,a,3,1,!1,1);L.Pt(x,o,15);L.eF(o);L.Ia(a,o);L.GX(o)};f.R.aiX=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);L.xT(i[3]);var B=i[0]*5.1,D=16-i[1],Z=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][i[2]],j=L.xf(1),a=L.xf(1),b=L.xf(1);
L.t5(x,j);L.iZ(j,B);L.aH(j,a,D);L.aH(a,j,D);L.dt(b);L.e$(j,b,b,1);L.hg(j,b,j,.75);L.bA(j,Z);L.GP(j,Z);
L.Wn(j,a,2,2,2);L.Je(a,o)};f.R.avY=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);var B=i[0]+9,D=i[1]+9,Z=i[2],j=i[3],a=L.zL(i[4]),b=i[5]+1,W=i[6],c=L.xf(1),Y=L.xf(1),R=L.xf(1),$=L.xf(1),k=L.xf(1),w=L.xf(4);
L.JA(x,c);L.Qt(c,R,B,B);L.aH(R,c,D);L.Yy(R,k);L.Yy(c,$);L.sub(k,$);L.sub(c,k);L.add(k,$);L.bA($,10);
L.lw(Y,Z,j,W);L.oi(Y,c,k,b,a);L.Pp(k,$,R,.8);L.Pt(x,w,9);L.Pt(w,o,9);L.eF(o);L.Ia(R,o);L.GX(o)};f.R.acP=function(x,z,A,o,i){var L=f.R.T;
L.m7(z,A);var B=16-i[0],D=i[1]*8,Z=1-(3-i[2])/10,j=~~(B*B*Z-1),a=~~(B*B*(1-Z));if(a==0)a=1;var b=L.xf(1),W=L.xf(1),c=L.xf(1),Y=L.xf(4);
L.t5(x,c);L.Wn(c,b,7,7,25);L.aH(c,W,7);L.sub(b,W);L.iZ(W,1);L.r2(x,Y,B,B,j);L.r2(x,o,B,B,a);L._1(Y,W,o);
L.eF(o);L.eQ(o,b);L.Wn(b,c,3,3,1);L.Wn(b,W,3,3,9);L.sub(W,c);L.Yy(c,W);L.sub(b,c);L.sub(c,W);L.Wn(W,b,3,3,8);
L.kZ(b,D,1);L.Ia(b,o);L.GX(o)};f.R.afK=function(x,z,A,o,i){var L=f.R.T;L.m7(z,A);L.xT(i[3]);var B=i[0],D=i[1],Z=i[2],j=B>>1,a=Math.max(~~(B/5),1),b=Math.max(~~(B*2/3),1),W=L.RT(D,Z),c=L.xf(1),Y=L.xf(1),R=L.xf(1),$=L.xf(1),k=L.xf(4);
L.JA(x,c);L.k9(2147483647,4,2,2,0,255,Y);L.k9(4,2147483647,2,2,0,255,$);L.dt(R);L.e$(Y,R,Y,1);L.e$($,R,$,1);
L.e$(Y,c,Y,1);L.e$($,c,$,1);L.Pt(x,k,j);L.Pt(k,o,j);L.Wn(Y,c,1,B,a);L.Wn(c,Y,3,B,b);L.Wn($,c,B,1,a);
L.Wn(c,$,B,3,b);L.ZA(Y,$);L.eF(o);L.Ia($,o);L.GX(o);L.pl(o,W)};f.R.T={};f.R.T.GM=0;f.R.T.zp=0;f.R.T.LO=0;
f.R.T.S3=0;f.R.T.r0=0;f.R.T.m7=function(x,z){var A=x*z,self=f.R.T;self.GM=x;self.zp=z;self.LO=A;self.S3=A<<1;
self.r0=A<<2};f.R.T.xT=function(x){f.R.T.random=function(){var z=x+=1831565813;z=Math.imul(z^z>>>15,z|1);
z^=z+Math.imul(z^z>>>7,z|61);return((z^z>>>14)>>>0)/4294967296}};f.R.T.xf=function(x){var z=f.R.T;return new Uint8Array([-1,z.LO,z.S3,-1,z.r0][x])};
f.R.T.WS=function(){return new Int32Array(f.R.T.S3)};f.R.T.aH=function(x,z,A,o){if(o==null)o=A;var self=f.R.T,i=self.GM,L=self.zp;
f.ZY.DP(x,z,new av(0,0,i,L),A>>>1);return};f.R.T.R1=function(x,z,A,o){var self=f.R.T,i=new Int32Array(self.LO),L=new Int32Array(self.LO);
for(var F=0;F<2;F++){self.eQ(x,i,F,2);self.aH(i,L,A,o);self.Ia(L,z,F,2)}};f.R.T.Pt=function(x,z,A,o){var self=f.R.T,i=self.xf(1),L=self.xf(1);
for(var F=0;F<4;F++){self.eQ(x,i,F);if(F<3)self.aH(i,L,A,o);else L=i;self.Ia(L,z,F)}};f.R.T.MI=function(x,z,A,o,i){var self=f.R.T,L=self.GM,B=self.zp,D=A+o-1,Z=A>>1,j=D>>1,a=0,b=A*o,W=new Int32Array(A);
for(var F=0;F<B;F++){var c=0,Y=0,R=0;for(var $=0;$<A;$++){var k=i?D-$-o:$;for(var w=k,V=o+k;w<V;w++){var h=0-j+w,l=F-Z+$;
if(w==k){W[$]=h}if(h<0)h=0;else if(h>=L)h=L-1;if(l<0)l=0;else if(l>=B)l=B-1;var M=L*l+h<<2;c+=x[M];Y+=x[M+1];
R+=x[M+2]}}z[a++]=~~(c/b);z[a++]=~~(Y/b);z[a++]=~~(R/b);z[a]=x[a];a++;for(var q=1;q<L;q++){for(var $=0;
$<A;$++){var l=F-Z+$,k=W[$]+1;W[$]=k;var t=k-1,p=k+o-1;if(l<0)l=0;else if(l>=B)l=B-1;if(t<0)t=0;else if(t>=L)t=L-1;
if(p<0)p=0;else if(p>=L)p=L-1;var E=l*L+t<<2,_=l*L+p<<2;c=c+x[_]-x[E];Y=Y+x[_+1]-x[E+1];R=R+x[_+2]-x[E+2]}z[a++]=~~(c/b);
z[a++]=~~(Y/b);z[a++]=~~(R/b);z[a]=x[a];a++}}};f.R.T.mb=function(x,z,A,o,i,L){var self=f.R.T,B=self.GM,D=self.zp,Z=A+o-1,j=A>>1,a=Z>>1,b=0,W=new Int32Array(A),c=new Int32Array(256),Y=new Int32Array(16);
for(var F=0;F<D;F++){c.fill(0);Y.fill(0);for(var R=0;R<A;R++){var $=i?Z-R-o:R;for(var k=$,w=o+$;k<w;
k++){var V=0-a+k,h=F-j+R;if(k==$){W[R]=V}if(V<0)V=0;else if(V>=B)V=B-1;if(h<0)h=0;else if(h>=D)h=D-1;
c[x[h*B+V]]++;Y[x[h*B+V]>>>4]++}}z[b++]=f.R.T.Xa(Y,c,L);for(var l=1;l<B;l++){for(var R=0;R<A;R++){var h=F-j+R,$=W[R]+1;
W[R]=$;var M=$-1,q=$+o-1;if(h<0)h=0;else if(h>=D)h=D-1;if(M<0)M=0;else if(M>=B)M=B-1;if(q<0)q=0;else if(q>=B)q=B-1;
var t=x[h*B+M],p=x[h*B+q];c[t]--;c[p]++;Y[t>>>4]--;Y[p>>>4]++}z[b++]=f.R.T.Xa(Y,c,L)}}};f.R.T.Lt=function(x,z,A,o,i,L){var self=f.R.T,B=self.xf(1),D=self.xf(1);
for(var F=0;F<4;F++){self.eQ(x,B,F);if(F<3)self.mb(B,D,A,o,i,L);else D=B;self.Ia(D,z,F)}};f.R.T.Wn=function(x,z,A,o,i){i=Math.min(o*A,i);
var self=f.R.T,L=self.GM,B=self.zp,D=o>>1,Z=A>>1,j=0,a=new Int32Array(o),b=new Int32Array(256),W=new Int32Array(16);
for(var F=0;F<B;F++){b.fill(0);W.fill(0);for(var c=0;c<o;c++){for(var Y=0,R=A;Y<R;Y++){var $=0-Z+Y,k=F-D+c;
if(Y==0){a[c]=$}if($<0)$=0;else if($>=L)$=L-1;if(k<0)k=0;else if(k>=B)k=B-1;b[x[k*L+$]]++;W[x[k*L+$]>>>4]++}}z[j++]=f.R.T.Xa(W,b,i);
for(var w=1;w<L;w++){for(var c=0;c<o;c++){var k=F-D+c,V=a[c]+1;a[c]=V;var h=V-1,l=V+A-1;if(k<0)k=0;else if(k>=B)k=B-1;
if(h<0)h=0;else if(h>=L)h=L-1;if(l<0)l=0;else if(l>=L)l=L-1;var M=x[k*L+h],q=x[k*L+l];b[M]--;b[q]++;
W[M>>>4]--;W[q>>>4]++}z[j++]=f.R.T.Xa(W,b,i)}}};f.R.T.Xa=function(x,z,A){var o=0,i=0;while(o+x[i>>>4]<A){o+=x[i>>>4];
i+=16}for(;i<256;i++){o+=z[i];if(o>=A)break}return i};f.R.T.r2=function(x,z,A,o,i){var self=f.R.T,L=self.xf(1),B=self.xf(1);
for(var F=0;F<4;F++){self.eQ(x,L,F);if(F<3)self.Wn(L,B,A,o,i);else B=L;self.Ia(B,z,F)}};f.R.T.cH=function(x,z,A){var self=f.R.T,o=self.GM,i=self.zp,L=0;
for(var F=0;F<i;F++){var B=F*o,D=(F-1)*o,Z=(F+1)*o;if(D<0)D=B;if(Z>=i)Z=B;for(var j=0;j<o;j++){var a=j-1,b=j+1;
if(a<0)a=j;if(b>=o)b=j;var W=B+a,c=B+b,Y=D+j,R=Z+j,$=B+j,k=x[W],w=x[c],V=x[Y],h=x[R],l=x[$],M=l+(l*4*A+.5);
M=M-((k+w+h+V)*A+.5);z[L++]=self.G1(M)}}};f.R.T._3=function(x,z,A){var self=f.R.T,o=self.xf(1),i=self.xf(1);
for(var F=0;F<4;F++){self.eQ(x,o,F);if(F<3)self.cH(o,i,A);else i=o;self.Ia(i,z,F)}};f.R.T.am6=function(x,z,A){var self=f.R.T,o=self.GM,i=self.zp,L=0,B=A+4;
for(var F=0;F<i;F++){var D=F*o,Z=(F-1)*o,j=(F+1)*o;if(Z<0)Z=D;if(j>=i)j=D;for(var a=0;a<o;a++){var b=a-1,W=a+1;
if(b<0)b=a;if(W>=o)W=a;var c=D+b<<2,Y=D+W<<2,R=Z+a<<2,$=j+a<<2,k=D+a<<2;for(var w=0;w<3;w++){var V=x[c+w],h=x[Y+w],l=x[R+w],M=x[$+w],q=x[k+w];
z[L++]=(q*A+V+h+M+l)/B}z[L]=x[L];L++}}};f.R.T.Qt=function(x,z,A,o){var self=f.R.T,i=self.GM,L=self.zp,B=A>>1,D=o>>1,Z=0,j=new Int32Array(A),a=new Int32Array(256);
for(var F=0;F<L;F++){a.fill(0);for(var b=0;b<A;b++){for(var W=0,c=o;W<c;W++){var Y=0-D+W,R=F-B+b;if(W==0){j[b]=Y}if(Y<0)Y=0;
else if(Y>=i)Y=i-1;if(R<0)R=0;else if(R>=L)R=L-1;a[x[R*i+Y]]++}}var $=0,k=0;for(var w=0;w<256;w++){if($<a[w]){k=w;
$=a[w]}}z[Z++]=k;for(var V=1;V<i;V++){for(var b=0;b<A;b++){var R=F-B+b,h=j[b]+1;j[b]=h;var l=h-1,M=h+o-1;
if(R<0)R=0;else if(R>=L)R=L-1;if(l<0)l=0;else if(l>=i)l=i-1;if(M<0)M=0;else if(M>=i)M=i-1;a[x[R*i+l]]--;
a[x[R*i+M]]++}$=0;k=0;for(var w=0;w<256;w++){if($<a[w]){k=w;$=a[w]}}z[Z++]=k}}};f.R.T.arW=[function(x,z,A,o,i,L,B,D,Z,j){return i+(x+z+A)*j-(Z+D+B)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(z+A+L)*j-(D+B+o)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(A+L+Z)*j-(B+o+x)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(L+Z+D)*j-(o+x+z)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(Z+D+B)*j-(x+z+A)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(D+B+o)*j-(z+A+L)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(B+o+x)*j-(A+L+Z)*j},function(x,z,A,o,i,L,B,D,Z,j){return i+(o+x+z)*j-(L+Z+D)*j}];
f.R.T.oi=function(x,z,A,o,i){var self=f.R.T,L=self.GM,B=self.zp,D=L,Z=self.arW[o-1];for(var F=0;F<B;
F++){var j=(F>0?F-1:0)*D,a=F*D,b=(F<B?F+1:F)*D;for(var W=0;W<L;W++){var c=W>0?W-1:0,Y=W<L?W+1:W,R=a+W,$=x[j+c],k=x[j+W],w=x[j+Y],V=x[a+c],h=z[R],l=x[a+Y],M=x[b+c],q=x[b+W],t=x[b+Y];
A[R]=self.G1(Z($,k,w,V,h,l,M,q,t,i))}}};f.R.T.anT=function(x,z,A,o,i){var self=f.R.T,L=self.xf(1),B=self.xf(1),D=self.xf(1);
for(var F=0;F<3;F++){self.eQ(x,L,F);self.eQ(z,B,F);self.oi(L,B,D,o,i);self.Ia(D,A,F)}self.eQ(z,L,3);
self.Ia(L,A,3)};f.R.T.t5=function(x,z){var A=x.length,o=0;for(var F=0;F<A;F++){z[o++]=~~((x[F++]+x[F++]+x[F++]+2)/3)}};
f.R.T.Je=function(x,z){var A=z.length,o=0;for(var F=0;F<A;F++){var i=x[F];z[o++]=i;z[o++]=i;z[o++]=i;
z[o++]=255}if(z[0]==255)z[0]--;else z[0]++};f.R.T.JA=function(x,z){var A=z.length,o=0;for(var F=0;F<A;
F++){var i=x[o++],L=x[o++],B=x[o++];o++;if(L>i)i=L;if(B>i)i=B;z[F]=i}};f.R.T.eF=function(x,z){if(z==null)z=x;
var A=x.length;for(var o=0;o<A;o+=4){var i=x[o],L=x[o+1],B=x[o+2],D=i,Z=0,j=i,b;if(L<=i){i=L}else{Z=1;
j=L}if(B<=j){if(i>B){i=B}}else{Z=2;j=B}var a=j-i;if(a!=0){if(Z==0){b=~~(43*(L-B)/a)}else if(Z==1){b=~~(43*(B+2*a-D)/a)}else{b=43*(D+4*a-L)/a}if(b<0){b=255&b-1}z[o]=b;
z[o+1]=~~(255*a/j)}else{z[o]=a;z[o+1]=a}z[o+2]=j;z[o+3]=x[o+3]}};f.R.T.GX=function(x,z){if(z==null)z=x;
var A=x.length;for(var o=0;o<A;o+=4){var i=x[o],L=x[o+1],B=x[o+2];if(L){if(i==255)i=0;var D=~~(6*i/255),Z=~~(-255*D+6*i);
if(D==0){z[o]=B;z[o+1]=~~(B*(255-L*(255-Z)/255)/255);z[o+2]=~~(B*(255-L)/255)}else if(D==1){z[o]=~~(B*(255-L*Z/255)/255);
z[o+1]=B;z[o+2]=~~(B*(255-L)/255)}else if(D==2){z[o]=~~(B*(255-L)/255);z[o+1]=B;z[o+2]=~~(B*(255-L*(255-Z)/255)/255)}else if(D==3){z[o]=~~(B*(255-L)/255);
z[o+1]=~~(B*(255-L*Z/255)/255);z[o+2]=B}else if(D==4){z[o]=~~(B*(255-L*(255-Z)/255)/255);z[o+1]=~~(B*(255-L)/255);
z[o+2]=B}else{z[o]=B;z[o+1]=~~(B*(255-L)/255);z[o+2]=~~(B*(255-L*Z/255)/255)}}else{z[o]=B;z[o+1]=B;z[o+2]=B}z[o+3]=x[o+3]}};
f.R.T.Ia=function(x,z,A,o){if(A==null)A=2;if(o==null)o=4;var i=x.length;for(var F=0;F<i;F++){z[A]=x[F];
A+=o}};f.R.T.eQ=function(x,z,A,o){if(A==null)A=2;if(o==null)o=4;var i=z.length;for(var F=0;F<i;F++){z[F]=x[A];
A+=o}};f.R.T.Pp=function(x,z,A,o){if(o==null)o=1;var i=z.length,L=0,B;for(var L=0;L<i;L++){B=z[L];if(B){B*=o;
A[L]=~~((B*x[L]+(255-B)*A[L])/255)}}};f.R.T._1=function(x,z,A,o){if(o==null)o=A;var i=z.length,L=0,B,D;
for(var F=0;F<i;F++){B=z[F];if(B){D=255-B;o[L]=~~((B*x[L]+D*A[L])/255);o[L+1]=~~((B*x[L+1]+D*A[L+1])/255);
o[L+2]=~~((B*x[L+2]+D*A[L+2])/255)}o[L+3]=x[L+3];L+=4}};f.R.T.hg=function(x,z,A,o){var i=~~(o*255),L=A.length;
for(var F=0;F<L;F++){A[F]=((255-i*(255-x[F])/255)*z[F]+x[F]*(i*(255-x[F])/255))/255}};f.R.T.e$=function(x,z,A,o){var i=~~(o*255),L=A.length;
for(var F=0;F<L;F++){A[F]=((255-i*x[F]/255)*z[F]+x[F]*(i*x[F]/255))/255}};f.R.T.ZX=function(x,z,A){var o=z.length;
for(var F=0;F<o;F++){z[F]=~~(x[F]*A+.5)+(z[F]-~~(z[F]*A+.5))}};f.R.T.sub=function(x,z){var A=x.length;
for(var F=0;F<A;F++){z[F]=Math.max(x[F]-z[F],0)}};f.R.T.add=function(x,z){var A=x.length;for(var F=0;
F<A;F++){z[F]=Math.min(x[F]+z[F],255)}};f.R.T.ZA=function(x,z){var A=x.length;for(var F=0;F<A;F++){z[F]=x[F]+z[F]>>1}};
f.R.T.Yy=function(x,z){var A=x.length;for(var F=0;F<A;F++){z[F]=x[F]}};f.R.T.KL=function(x,z){var A=x.length;
for(var F=0;F<A;F++){x[F]=z[x[F]]}};f.R.T.pl=function(x,z){var A=f.R.T.r0;for(var F=0;F<A;F+=4){var o=x[F],i=x[F+1],L=x[F+2],B=o;
if(i>o)B=i;if(L>o)B=L;var D=z[B];if(D){x[F]=~~(D*o/B);x[F+1]=~~(D*i/B);x[F+2]=~~(D*L/B)}else{x[F]=D;
x[F+1]=D;x[F+2]=D}}};f.R.T.bA=function(x,z){for(var F=0,A=x.length;F<A;F++){x[F]=Math.min(255,~~(.5+x[F]*z))}};
f.R.T.GP=function(x,z){for(var F=0,A=x.length;F<A;F++){x[F]=255-Math.min(255,~~(.5+(255-x[F])*z))}};
f.R.T.Qs=function(x){var z=x.length;for(var F=0;F<z;F++){x[F]=255-x[F]}};f.R.T.iZ=function(x,z,A,o){if(A==null)A=0;
if(o==null)o=255;for(var F=0,i=x.length;F<i;F++){x[F]=x[F]>=z?o:A}};f.R.T.T0=function(x){return[x>>24&255,x>>16&255,x>>8&255,x&255]};
f.R.T.ady=function(x,z,A,o){if(A==null)A=255;if(o==null)o=4278190335;var i=f.R.T,L=i.r0,B=i.T0(A),D=i.T0(o);
for(var F=0;F<L;F+=4){var Z=~~((x[F]+x[F+1]+x[F+2]+2)/3);if(Z>=z){x[F]=B[0];x[F+1]=B[1];x[F+2]=B[2]}else{x[F]=D[0];
x[F+1]=D[1];x[F+2]=D[2]}}};f.R.T.D2=function(x,z){var A=f.R.T,o=A.r0,i=A.T0(z);for(var F=0;F<o;){x[F++]=i[0];
x[F++]=i[1];x[F++]=i[2];x[F++]=i[3]}};f.R.T.yl=function(x,z){var A=x.length;for(var F=0;F<A;){x[F++]=z}};
f.R.T.RT=function(x,z){x=x>5?(100-Math.max(4,x))/100:.95;z=z!=100?Math.max(4,z)/100:.9995;var A=new Uint8Array(256),o=z>.5?.5/(1-z):z*2,i=~~(o*256),L=~~((.5-x*o)*256)<<8;
for(var F=0;F<256;F++){A[F]=f.R.T.G1(L>>8);L+=i}return A};f.R.T.dt=function(x){for(var F=0,z=f.R.T,A=x.length;
F<A;F++){x[F]=~~(z.random()*256)}};f.R.T.ax5=function(x,z){for(var F=0,A=f.R.T,o=x.length;F<o;F++){x[F]=A.random()<z?255:0}};
f.R.T.Gg=function(x,z,A){for(var F=0,o=f.R.T,i=x.length;F<i;F++){if(o.random()<z)x[F]=A}};f.R.T.K0=function(x,z,A){var o=x.length;
for(var F=0;F<o;F++){x[F]=f.R.T.G1(x[F]+A[z[F]])}};f.R.T.eJ=function(x){var z=new Uint32Array(256);for(var F=0,A=x.length;
F<A;F++){z[x[F]]++}return z};f.R.T.MN=function(x,z,A){var self=f.R.T,o=self.eJ(A),i=self.LO/100,L=new Uint8Array(256),B=i*x,D=i*z,Z=0,j=-1,a=256;
do{Z+=o[++j]}while(Z<=B);Z=0;do{Z+=o[--a]}while(Z<=D);if(a-j<=0)a=j+1;if(a>255){a=255;j=254}var b=255/(a-j),W=-j;
for(var F=0;F<256;F++){L[F]=self.G1(b*W+.5);W++}return L};f.R.T.kZ=function(x,z,A){var o=f.R.T;o.KL(x,o.MN(z,A,x))};
f.R.T.ani=function(x,z){var self=f.R.T,A=self.eJ(x),o=self.LO*z/100,i=0,L=-1;do{i+=A[++L]}while(i<=o);
return L};f.R.T.Xq=function(x,z){var A=0,self=f.R.T,o=self.GM,i=self.zp,L=1/Math.PI,B=L*255;for(var F=0;
F<i;F++){var D=F+1;if(D==i)D--;var Z=F*o,j=~~((1-(F+1)/i)*255);for(var a=0;a<o;a++){var b=a+1;if(b==o)b--;
var W=x[Z+a],c=x[Z+b],Y=x[D*o+a];if(W-Y==0){z[A++]=j}else{var R=W-Y+255;if(R==255){R=0}else{R=~~(Math.atan2(1/(255-R),1)*B+.5);
if(R<0)R+=255}z[A++]=R}if(W-c==0){z[A++]=~~((1-(a+1)/o)*255)}else{var R=W-c+255;if(R==255){R=0}else{R=~~(Math.atan2(1/(255-R),1)*B+.5);
if(R<0)R+=255}z[A++]=R}}}};f.R.T.Ll=function(x,z){var self=f.R.T,A=self.GM,o=self.zp,i=0;for(var F=0;
F<o;F++){for(var L=0;L<A;L++){x[i]=~~(F*z+.5)+~~(x[i]*(1-z)+.5);i++;x[i]=~~(L*z+.5)+~~(x[i]*(1-z)+.5);
i++}}};f.R.T.aoJ=function(x,z,A,o){var self=f.R.T,i=self.GM,L=self.zp,B=0;for(var F=0;F<L;F++){for(var D=0;
D<i;D++){z[B]=~~(z[B]*(1-A)+.5)+~~(x[B]*o+.5);B++;z[B]=~~(z[B]*(1-A)+.5)+~~(x[B]*o+.5);B++}}};f.R.T.sn=function(x,z,A){var self=f.R.T,o=self.GM,i=self.zp,L=0,B=0;
for(var F=0;F<i;F++){for(var D=0;D<o;D++){var Z=x[L++],j=x[L++];z[B++]=j%A>=2&&Z%A>=2?255:0}}};f.R.T.k9=function(x,z,A,o,i,L,B){var self=f.R.T,D=self.GM,Z=self.zp,j=0,a=0,b=0;
for(var F=0;F<Z;F++){var W=F%x<A||Z-A<=F;for(var c=0;c<D;c++){B[j++]=W||c%z<o||D-o<=c?i:L}}};f.R.T.lw=function(x,z,A,o){var self=f.R.T,i=self.GM,L=self.zp,B=iT.lw(z),D=B[0],Z=B[1],j=f.C(D.$()*4);
j.fill(4294967295);f.c3(Z,j);var a=f.scale.su(j,D.m,D.n),b=f.scale.hn(a,null,i,L,A/100,A/100,0,0);f.XN(b,x,0);
if(o)f.Qs(x)};f.R.T.G1=function(x){return~~Math.min(255,Math.max(0,x))};f.R.T.S7=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
f.R.T.mT=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];f.R.T.zL=function(x){return x>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][x-41]:x/40};
f.R.T.amv=function(x,z,A){var self=f.R.T,o=self.GM,i=self.zp,L=A,B=A>>1,D=B-1,Z=L*L,j=0;for(var F=0;
F<i;F++){var a=0,b=0,W=0,c=~~(F/A)*A,Y=0;for(var R=0;R<L;R++){for(var $=0;$<L;$++){var k=Y+$,w=c+R;if(k>=o)k=o-1;
if(w>=i)w=i-1;a+=x[w*o+k<<2];b+=x[(w*o+k<<2)+1];W+=x[(w*o+k<<2)+2]}}var V=~~(a/Z),h=~~(b/Z),l=~~(W/Z);
z[j]=V;z[j+1]=h;z[j+2]=l;z[j+3]=x[j+3];j+=4;for(var M=1;M<o;M++){for(var R=0;R<L;R++){var q=M-1,t=q+L,w=c+R;
if(t>=o)t=o-1;if(w>=i)w=i-1;var p=w*o,E=p+t<<2,_=p+q<<2;a+=x[E]-x[_];b+=x[E+1]-x[_+1];W+=x[E+2]-x[_+2]}if(M%A==0){V=~~(a/Z);
h=~~(b/Z);l=~~(W/Z)}z[j]=V;z[j+1]=h;z[j+2]=l;z[j+3]=x[j+3];j+=4}}};f.R.T.ap4=function(x,z,A,o,i){var self=f.R.T,L=self.GM,B=self.zp,D=0,Z=0,j=0,a=0;
for(var F=a;F<B+a;F++){var b=F%z>=o||F<o||B+a-o<=F;for(var W=0;W<L;W++){x[D++]=b&&(W%A>=i||W<i||L-i<=W)?255:0}}};
f.R.T.a7x=function(x,z,A){var o=function(j,a){return a<=j?j/a&1?a-j%a:j%a:j},i=[function(D,Z){return o(D,255)/255},function(D,Z){return(255+o(D,255)-o(Z,255))/510},function(D,Z){return(255-o(Z,255))/255},function(D,Z){return(510-o(D,255)-o(Z,255))/510},function(D,Z){return(255-o(D,255))/255},function(D,Z){return(255-o(D,255)+o(Z,255))/510},function(D,Z){return o(Z,255)/255},function(D,Z){return(o(D,255)+o(Z,255))/510}][A],L=0,B=0;
for(var F=0;F<f.R.T.LO;F++){var D=x[L++],Z=x[L++];z[B++]=~~(255*i(D,Z))}};f.R.arL=function(){var x=[],z=new Uint8Array(512),A=new Float32Array(512),o=new Float32Array(512),i=[1,-1,1,-1,1,-1,0,0],L=[1,1,-1,-1,0,0,1,-1],B=0,D,Y=0;
for(;B<256;B++)x[B]=B;while(B!=0){B--;D=Math.floor(Math.random()*B);x[D]^=x[B]^(x[B]=x[D])}function Z(Z){Z=Math.floor(Z*65536);
if(Z<256){Z|=Z<<8}for(var F=0;F<256;F++){var k=F+256,w=x[F]^(F&1?Z:Z>>8)&255;z[F]=z[k]=w;w=w%8;A[F]=A[k]=i[w];
o[F]=o[k]=L[w]}}function j(k){return k*k*k*(k*(k*6-15)+10)}function a(k,w,V){return(1-V)*k+V*w}function b(k,w){return k&w}function W(k,w){return k%w}function c(k,w,V,h,l){var M=Math.floor(k),q=Math.floor(w),B,t,p,E,_,S;
k=k-M;w=w-q;M=M&255;q=q&255;B=M+z[q];E=A[B]*k+o[B]*w;B=M+z[l(q+1,h)];p=A[B]*k+o[B]*(w-1);B=l(M+1,V)+z[q];
_=A[B]*(k-1)+o[B]*w;B=l(M+1,V)+z[l(q+1,h)];S=A[B]*(k-1)+o[B]*(w-1);t=j(k);return a(a(E,_,t),a(p,S,t),j(w))}function R(k,B,w){k[B]=w}function $(k,w,V,h,l){var M=Math.min(Math.min(w,256),Math.min(256,V)),q=M==256||M<8,t=8,p=new Uint32Array(t),E=new Uint32Array(t),_=new Float32Array(t),S=new Float32Array(t),y=1,v=1,r=q?b:W,K=R,s;
for(var F=0;F<t;F++){s=v*1/M;if(q){E[F]=(1<<Math.ceil(Math.log2(V*s)))-1;p[F]=(1<<Math.ceil(Math.log2(w*s)))-1}else{E[F]=s*V;
p[F]=s*w}_[F]=y;S[F]=s;y*=.5;v=v<<1}Z(Math.random());for(var P=0,B=0;P<V;P++){for(var d=0;d<w;d++){var X=0;
for(var U=0;U<t;U++){s=S[U];X+=c(d*s,P*s,p[U],E[U],r)*_[U]}K(h,B++,Math.round(Math.max(0,255*Math.min(1,.5+X*.5))))}}}return $}();
f.R.asj=function(){function x(z,A,o,i){var L=new Uint8Array(z.length>>>2),B=new Uint8Array(z.length>>>2),D=new Uint8Array(z.length);
for(var F=0;F<z.length;F+=4){var Z=z[F+0]*.3+z[F+1]*.59+z[F+2]*.11;B[F>>>2]=Z;D[F]=z[F];D[F+1]=z[F+1];
D[F+2]=z[F+2]}f.Nr.qa(B,L,A,o);f.Nr.fr(z,i,A,o,f.Nr.jp[1],0,!0);for(var F=0;F<z.length;F+=4){D[F+3]=255-L[F>>>2]}for(var F=0,j=z.length;
F<j;F+=4){var a=D[F+3]/255;i[F]=D[F]*a+i[F]*(1-a);i[F+1]=D[F+1]*a+i[F+1]*(1-a);i[F+2]=D[F+2]*a+i[F+2]*(1-a)}}return x}();
f.R.ajk=function(){function x(L,B,D,Z,j){var a=new Uint32Array(L.buffer),b=0;for(var F=0;F<D;F++){for(var W=0;
W<B;W++,b+=4){var c=a[F*B+W],Y=c&255,R=c>>>8&255,$=c>>>16&255,k=c>>>24&255,w=~~(Math.random()*8),V=w%3,h=0,l=0;
if(w<3){l--}else if(w>4){l++}if(V==0){h--}else if(V==2){h++}var M=W+h,q=F+l;if(M<0)M=0;else if(M>B-1)M=B-1;
if(q<0)q=0;else if(q>D-1)q=D-1;var c=a[q*B+M],t=c&255,p=c>>>8&255,E=c>>>16&255,_=c>>>24&255;Z[b]=j(Y,t);
Z[b+1]=j(R,p);Z[b+2]=j($,E);Z[b+3]=j(k,_)}}}function z(L,B){return B}function A(L,B){return L>B?B:L}function o(L,B){return L<B?B:L}function i(L,B,D,Z,j){var a=j[0];
if(a==0)x(L,B,D,Z,z);else if(a==1)x(L,B,D,Z,A);else if(a==2)x(L,B,D,Z,o);else if(a==3){console.error("Not implemented")}else console.error("Mew mew")}return i}();
f.R.ab2=function(){function x(z,A,o,i,L){var B=L&&L[0]?L[0]:4,D,Z,j,a,b,W,c;for(var F=0;F<o;F++){var Y=Math.max(F-B,0),R=Math.min(F+B,o-1);
for(var $=0;$<A;$++){var k=Math.max($-B,0),w=Math.min($+B,A-1);D=Y*A+k<<2;a=z[D];b=z[D+1];W=z[D+2];c=z[D+3];
D=Y*A+w<<2;a+=z[D];b+=z[D+1];W+=z[D+2];c+=z[D+3];D=R*A+k<<2;a+=z[D];b+=z[D+1];W+=z[D+2];c+=z[D+3];D=R*A+w<<2;
a+=z[D];b+=z[D+1];W+=z[D+2];c+=z[D+3];D=F*A+$<<2;i[D]=a+2>>>2;i[D+1]=b+2>>>2;i[D+2]=W+2>>>2;i[D+3]=c+2>>>2}}}return x}();
f.R.amk=function(){function x(z,A,o,i){var L=new Uint8Array(z.length),B=new Uint8Array(z.length>>>2),D=new Uint8Array(z.length>>>2);
f.Nr.fr(z,L,A,o,f.Nr.jp[2],0,!0);for(var F=0;F<z.length;F+=4){var Z=L[F+0]*.3+L[F+1]*.59+L[F+2]*.11;
B[F>>>2]=Z;i[F+0]=z[F+0];i[F+1]=z[F+1];i[F+2]=z[F+2];i[F+3]=z[F+3]}f.Nr.qa(B,D,A,o);for(var F=0;F<z.length;
F+=4){L[F+3]=~~(Math.max(0,255-D[F>>>2]-50)*(255/205))}for(var F=0,j=z.length;F<j;F+=4){var a=L[F+3]/255;
i[F]=L[F]*a+i[F]*(1-a);i[F+1]=L[F+1]*a+i[F+1]*(1-a);i[F+2]=L[F+2]*a+i[F+2]*(1-a)}}return x}();f.R.ca=function(){function x(w,V){return w[V]+w[V+1]+w[V+2]+w[V+3]}function z(w,V){return w[V]+w[V+1]+w[V+2]+2*w[V+3]}function A(w,V,h,l){w[V]=h[l];
w[V+1]=h[l+1];w[V+2]=h[l+2];w[V+3]=h[l+3]}function o(w,V,h){w[V]=w[h];w[V+1]=w[h+1];w[V+2]=w[h+2];w[V+3]=w[h+3]}function i(w,V,h){w[h]=V[h];
w[h+1]=V[h+1];w[h+2]=V[h+2];w[h+3]=255-V[h+3]}function L(w){for(var F=0,V=w.length;F<V;F+=4){w[F+3]=255-w[F+3]}}function B(){var w=Math.random();
if(w>.5)return 0;if(w>.25)return 1;if(w>.1)return 2;if(w>.02143)return 3;if(w>.00445)return 4;if(w>65e-5)return 5;
if(w>415e-6)return 6;if(w>55e-6)return 7;return 8}function D(w,V,h,l,M,q){w[V]=h[l]+(M[q]-h[l]>>1);w[V+1]=h[l+1]+(M[q+1]-h[l+1]>>1);
w[V+2]=h[l+2]+(M[q+2]-h[l+2]>>1);w[V+3]=h[l+3]+(M[q+3]-h[l+3]>>1)}function Z(w,V,h,l,M,q){w[V]=M[q]+h[l]>>1;
w[V+1]=M[q+1]+h[l+1]>>1;w[V+2]=M[q+2]+h[l+2]>>1;w[V+3]=M[q+3]+h[l+3]>>1}function j(w,V,h,l,M,q,t,p,E){var _=0,S=0,y=0,F,v=M[q],r;
D(p,0,w,V,w,h);for(F=0;F<v;F++){D(p,(F+1)*4,p,F*4,w,h)}S=(v+1)*4;y+=v;q--;A(w,V,p,S-4);l[q]=x(w,V);V-=E;
while(q>0&&l[q-1]<l[q]){r=p;p=t;t=r;_=S;Z(p,0,w,V-E,t,0);for(F=4;F<_;F+=4){Z(p,F,p,F-4,t,F)}v=M[q];for(F=y;
F<v;F++){D(p,S,p,S-4,t,_-4);S+=4;y++}q--;A(w,V,p,S-4);l[q]=x(w,V);V-=E}}function a(w,V,h,l,M){var q=V*4,t=0,p,E,_=new Uint8Array(V+1),S=new Uint8Array(10*4),y=new Uint8Array(10*4);
for(var F=0;F<h;F++){i(l,w,t);M[0]=x(l,t);_[0]=B();p=t;t+=4;for(var v=1;v<V;v++){i(l,w,t);M[v]=x(l,t);
E=B();_[v]=E;if(M[v-1]<M[v]&&E>0){j(l,t-4,t,M,_,v,S,y,4)}t+=4}M[V]=M[0];_[V]=_[0];if(M[V-1]<M[V]&&E>0){j(l,t,p,M,_,V,S,y,4)}}L(l)}function b(){var w=Math.random();
if(w>.659755)return 0;if(w>.1625)return 10;if(w>.06)return 20;if(w>.01)return 30;if(w>.0035)return 40;
if(w>65e-5)return 50;if(w>415e-6)return 60;if(w>55e-6)return 70;return 80}function W(w,V,h,l,M,q){var t=b()+1,p=l[M];
for(var F=1;F<t;F++){if(0>M)break;if(l[M-F]<p){o(w,V,h)}else{break}V+=q}}function c(w,V,h,l,M){var q=V*4,t=0;
for(var F=0;F<h;F++){i(l,w,t);M[0]=x(l,t);t+=4;for(var p=1;p<V;p++){i(l,w,t);M[p]=x(w,t);if(M[p-1]<M[p]){W(l,t-4,t,M,p,-4)}t+=4}M[V]=M[0];
if(M[p-1]<M[p]){W(l,t-4,t-q,M,p,-4)}}L(l)}function Y(w,V,h,l,M,q){var t=1,p,E,_=new Uint8Array(4),S,y=V;
while(Math.random()<1/t){y=V;if(l<=1)break;p=h[l];E=h[l-1];if(p<=E)break;A(_,0,w,y-q);S=!0;for(var F=l;
F<M;F++){if(E>h[F]){A(w,y-q,_,0);h[F-1]=E;S=!1;break}A(w,y-q,w,y);h[F-1]=h[F];y+=q}if(S){A(w,y-q,_,0);
h[M-1]=E}t++;l--;V-=q}}function R(w,V,h,l,M){var q=0,t=0,p=V*4;for(var F=0;F<h;F++){t=q;for(var E=0;
E<V;E++){i(l,w,q);M[E]=z(l,q);q+=4}q=t;for(var E=1;E<V;E++){if(M[E-1]<M[E]&&Math.random()<.66){Y(l,q+4,M,E,V,4)}q+=4}q+=4}L(l)}function $(w,V,h,l,M){var q=M[0],t=M[1],p=new Uint16Array(V+1),E=w,_=l,S;
if(t){S=l.slice(0);k(w,l,V,h);E=l;_=S}if(q==0)a(E,V,h,_,p);else if(q==1)c(E,V,h,_,p);else if(q==2)R(E,V,h,_,p);
if(t){k(S,l,V,h)}}function k(w,V,h,l){for(var M=0;M<l;M++)for(var q=0;q<h;q++){var t=M*h+q<<2,p=M*h+(h-1-q)<<2;
V[p]=w[t];V[p+1]=w[t+1];V[p+2]=w[t+2];V[p+3]=w[t+3]}}return $}();f.R.np=function(x,z,A,o,i){var L=f.R.T,B=1,$=0,V=0;
L.m7(z,A);L.xT(i[2]);var D=3<<13,Z=Math.PI/2.43,j=Z/256,a=Math.PI*2/256;function b(){var q=L.random()*256,t=L.random()*256;
return B*~~(Math.tan(Z-q*j)*325*Math.cos(t*a)*256)+D>>16}B=i[0];var W=i[1],c=(W+2)/2,Y=L.random()*255,R=L.xf(1);
for(var F=0;F<A;F++){var k=L.G1(b()+Y);for(var w=0;w<z;w++){k=L.G1(b()+k);R[$++]=k}}$=z;for(var F=1;
F<A;F++){var h=L.G1(b()+R[V++]);R[$++]=h;for(var w=1;w<z;w++){var l=V+1;if(w+1==z){l--}var M=(c+h+R[l]+R[V]*W)/(W+2);
h=L.G1(b()+M);R[$++]=h;V++}}L.Je(R,o)};var hV=function(){function x(J){J=J^61^J>>>16;J=J+(J<<3);J=J^J>>>4;
J=J*668265261;J=J^J>>>15;return J}var z=function(){var z=function(J){if(J){this.xc=J}this.xc=x(this.xc);
return(this.xc&16777215)*(1/16777215)};return z};function A(J,C){if(C==null){C=[0,0]}return Math.sqrt((C[0]-J[0])*(C[0]-J[0])+(C[1]-J[1])*(C[1]-J[1]))}function o(J,C){if(C==null){C=[0,0]}return[-(C[1]-J[1])/A(J,C),(C[0]-J[0])/A(J,C)]}function i(J){return[Math.cos(J),Math.sin(J)]}function L(J){var C=A(J,[0,0]),H=[J[0]/C,J[1]/C],u=Math.atan(H[1]/H[0]);
if(H[0]>0&&H[1]<0){u+=2*Math.PI}else if(H[0]<0&&H[1]<0){u+=Math.PI}else if(H[0]<0&&H[1]>0){u+=Math.PI}return u}function B(J){var B=0;
for(var F=1;F<J.length/2;++F){B+=A([J[2*F],J[2*F+1]],[J[2*(F-1)],J[2*(F-1)+1]])}return B}function D(J,C,H){var u=new Float32Array(J.length),bc=1/(J.length/2),jK=l(H);
for(var F=0;F<J.length/2;++F){var N=F*bc,he=N/2+.5,gJ=1,kg=0;if(H.shape==2){gJ=1/(2*he)}if(H.shape==3){he=(1-N)/2+.5;
gJ=1/(2*he)+.5}if(H.shape==4){he=N;gJ=Math.sin(3/2*Math.PI*he)/4+1}if(H.shape==5){he=(N-.5)*6;gJ=(-Math.atan(he)/1.25+1)/5+.6-.2*N}var cJ=[null,null];
if(F==0){cJ=o([J[2*F],J[2*F+1]],[J[2*(F+1)],J[2*(F+1)+1]])}else if(F==J.length/2-1){cJ=o([J[2*(F-1)],J[2*(F-1)+1]],[J[2*F],J[2*F+1]])}else{cJ=o([J[2*(F-1)],J[2*(F-1)+1]],[J[2*(F+1)],J[2*(F+1)+1]])}u[2*F]=J[2*F]+(gJ*C+kg)*cJ[0];
u[2*F+1]=J[2*F+1]+(gJ*C+kg)*cJ[1];if(H.style==2){u[2*F]+=M(2*F/u.length,jK,H)}}return u}function Z(J,C,H){var u=new Float32Array(J.length),bc=1/(J.length/2);
for(var F=0;F<J.length/2;++F){var jK=F*bc,N=[null,null],he=.6*H.iz*p(jK,C.a5A)*H.Jz/100,gJ=.6*H.iz*p(jK,C.a9N)*H.Jz/100,kg=C.agc*he+(1-C.agc)*gJ;
if(F==0){N=o([J[2*F],J[2*F+1]],[J[2*(F+1)],J[2*(F+1)+1]])}else if(F==J.length/2-1){N=o([J[2*(F-1)],J[2*(F-1)+1]],[J[2*F],J[2*F+1]])}else{N=o([J[2*(F-1)],J[2*(F-1)+1]],[J[2*(F+1)],J[2*(F+1)+1]])}u[2*F]=J[2*F]+kg*N[0];
u[2*F+1]=J[2*F+1]+kg*N[1]}return u}function j(J){if(J.VC==1){return[.150684932,.205479452,.465753425,.178082192]}else if(J.VC==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var C=[],H=1/(y(J)-1);
for(var F=0;F<y(J)-1;++F){C.push(H)}return C}}function a(J,C,H){var u=[],bc=C-J,jK=J;for(var F=0;F<H.length-1;
++F){u.push(jK+H[F]*bc);jK=u[F]}return u}function b(J,C,H,u){var bc=new Float32Array(H.length),jK=0,N={shape:Math.floor(u.random()*2.99),alF:u.random()*.1+.15};
for(var F=0;F<H.length-1;++F){var he=jK+H[F];bc[F]=((1-he)*J+he*C)*k(u,he,N);jK=he}return bc}function W(J,C,H,u){var bc=_(u),jK=u.random(),N=jK*20+(1-jK)*26,he=new Float32Array(H.length),gJ=0;
for(var F=0;F<H.length-1;++F){var kg=gJ+H[F];he[F]=(1-kg)*J+kg*C+bc/N*(2/3*Math.sin(Math.PI*kg)+1/3*Math.sqrt(Math.sin(Math.PI*kg)));
gJ=kg}return he}function c(J,C,H){var u=[];for(var F=0;F<C.length-1;++F){u.push(C[F].slice());var bc=F*(y(H)-1),jK=(F+1)*(y(H)-1),N=J[jK]-J[bc];
for(var he=bc+1;he<jK;++he){var gJ=l(H),kg=new Float32Array(C[0].length),cJ=(J[he]-J[bc])/N;for(var it=0;
it<C[0].length/2;++it){kg[2*it]=(1-cJ)*C[F][2*it]+cJ*C[F+1][2*it];kg[2*it+1]=(1-cJ)*C[F][2*it+1]+cJ*C[F+1][2*it+1];
if(H.style==2){kg[2*it]+=M(2*it/C[0].length,gJ,H)}}u.push(kg)}}u.push(C[C.length-1]);return u}function Y(J,C,H){var u=new Array(C.length),bc=X(J),N=null;
for(var F=0;F<C.length;++F){u[F]=D(bc,(C[F]-.5)*H.Jz,H)}var jK=1+.05*H.al3*_(H)/_({VC:1});for(var F=0;
F<C.length;++F){if(C[F]==0){N=F}}for(var F=0;F<C.length;++F){var he=(H.random()-.5)*2,gJ=Math.round(H.random()*9+1),kg=new Float32Array(gJ*2+2);
for(var cJ=0;cJ<=gJ;++cJ){kg[2*cJ]=u[F][0]-(u[F][2*cJ]-u[F][0]);kg[2*cJ+1]=u[F][1]-(u[F][2*cJ+1]-u[F][1])}if(F==N){he*=.1}for(var cJ=(u[F].length-1)/2;
cJ>gJ;--cJ){u[F][2*cJ]=(1-he)*u[F][2*cJ]+he*(u[F][2*(cJ-gJ)]+jK*(u[F][2*cJ]-u[F][2*(cJ-gJ)]));u[F][2*cJ+1]=(1-he)*u[F][2*cJ+1]+he*(u[F][2*(cJ-gJ)+1]+jK*(u[F][2*cJ+1]-u[F][2*(cJ-gJ)+1]))}for(var cJ=gJ-1;
cJ>=0;--cJ){u[F][2*cJ]=(1-he)*u[F][2*cJ]+he*(kg[2*(gJ-cJ)]+jK*(u[F][2*cJ]-kg[2*(gJ-cJ)]));u[F][2*cJ+1]=(1-he)*u[F][2*cJ+1]+he*(kg[2*(gJ-cJ)+1]+jK*(u[F][2*cJ+1]-kg[2*(gJ-cJ)+1]))}}var it=t(C,H);
if(H.iz>0){var by=0;for(var F=0;F<C.length;++F){if(F==0){by+=C[F]}else{by+=Math.abs(C[F]-C[F-1])}var cz=by-Math.floor(by),fG=1;
if(cz==0){fG=0}u[F]=Z(u[F],{a5A:it[Math.floor(by)],a9N:it[Math.floor(by)+fG],agc:cz},H)}}return u}function R(J,C){var H=K(C,J),u=s(C,J),bc=[],jK=[],N=[],he=j(J);
for(var F=0;F<C.length-1;++F){bc.push(C[F]);jK.push(H[F]);N.push(u[F]);var gJ=a(C[F],C[F+1],he),kg=b(H[F],H[F+1],he,J),cJ=W(u[F],u[F+1],he,J);
for(var it=0;it<gJ.length;++it){bc.push(gJ[it]);jK.push(kg[it]);N.push(cJ[it])}}bc.push(C[C.length-1]);
jK.push(H[H.length-1]);N.push(u[u.length-1]);return{akI:bc,a2u:jK,D6:N}}function $(J,C,H,u){var bc=new Float32Array(2*u),jK=J.length/2,N=jK-C,he=H*N,gJ=he/u;
for(var F=0;F<u;++F){var kg=Math.floor(C+F*gJ),cJ=Math.ceil(C+F*gJ),H=C+F*gJ,it=cJ-kg,by=1,cz=0;if(it!=0){by=(cJ-H)/it;
cz=(H-kg)/it}bc[2*F]=by*J[2*kg]+cz*J[2*cJ];bc[2*F+1]=by*J[2*kg+1]+cz*J[2*cJ+1]}return bc}function k(J,C,H){var u=H.alF,bc=C*2*Math.PI,jK=bc,N=0;
if(H.shape==0){N=(Math.sin(2*jK+Math.PI/2)+1)/2}else if(H.shape==1){N=(Math.sin(jK+Math.PI/2)+1)/2}else{N=(4*Math.sin(3/4*jK+Math.PI)+Math.sin(Math.PI/2+2*jK)-2*jK/Math.PI+6)/7}return Math.min(1,1-u+u*N)}function w(J,C,H,u){var bc=[];
for(var F=0;F<J.length;++F){bc.push($(J[F],C[F],H[F],u))}return bc}function V(J,C,H){var u=[];for(var F=0;
F<J.length;++F){var bc=i(2*Math.PI*H.random()),jK=i(2*Math.PI*H.random()),N=H.Ir*.5*v({VC:1})/v(H),he=N*H.Jz/200,gJ=N*C/500,kg=new Float32Array(J[0].length);
for(var cJ=0;cJ<J[0].length/2;++cJ){var it=i(2*Math.PI*H.random()),by=2*cJ/J[0].length;kg[2*cJ]=J[F][2*cJ]+he*(it[0]+((1-by)*bc[0]+by*jK[0]));
kg[2*cJ+1]=J[F][2*cJ+1]+gJ*(it[1]+((1-by)*bc[1]+by*jK[1]))}u.push(kg)}return u}function h(J,C,H){var u=H.rq,bc=2/u,jK=[1/10,1/30,1/40,1/45,1/100],N=jK[H.VC-1],he=4*(H.opacity/25*bc*N)*(1-H.Ir/150),it=0,cz=0;
if(H.style==3){return he*.09}var gJ=2.2*(J-.5),kg=gJ*gJ*gJ*gJ+.27+Math.max(0,(H.opacity-50)/15),cJ=2*(Math.sin(3*Math.PI*C)/(Math.PI*C+2)+1.1)-C/2;
C=2*C;if(C<.41){var by=2*Math.PI*C/.41;it=(Math.sin(by-Math.PI/2)+1)/4+.5}else if(C<.77){var by=2*Math.PI*(C-.41)/.36;
it=(Math.sin(by-Math.PI/2)+1)/4+.5-by/2/Math.PI*.5}else{var by=2*Math.PI*(C-.77)/.23;it=(Math.sin(by-Math.PI/2)+1)/2*.12}it*=3;
it+=Math.max(0,(H.opacity-50)/15);if(H.type==6){cz=cJ}else{cz=it}return he*kg*cz}function l(J){return{U:J.random()*7/2+.5,Hu:J.random()*2*Math.PI}}function M(J,C,H){return H.Jz/300*y({VC:1})/y(H)*10*(Math.sin(C.U*2*Math.PI*J+C.Hu)+10*(H.random()-.5))}function q(J){var C=Math.exp(-J.iz/25);
return{U:J.random()*3/2+.5,Hu:J.random()*2*Math.PI,aD:(J.random()-.5)*10*C}}function t(J,C){var H=Math.ceil(P(J)),u=[];
for(var F=0;F<=H;++F){u.push(q(C))}return u}function p(J,C){var H=C.U*4*Math.PI*J+C.Hu;return Math.exp(-1/2*Math.PI*J)*Math.cos(H)*Math.cos(H)*Math.cos(H)*Math.cos(H)*Math.cos(H)+J*C.aD-C.aD/4}function E(J,C,H,u,bc){var jK=0,N=v(C)-1;
for(var F=0;F<N;++F){for(var he=0;he<J.length-1;he+=y(C)-1){for(var gJ=F;gJ<J[0].length/2-N;gJ+=N){for(var kg=he;
kg<he+(y(C)-1);++kg){H[bc+jK]=h(kg*(C.rq-1)/(J.length-1)%1,gJ/J[0].length,C);var cJ=0,it=0;if(C.type==6&&kg!=0&&kg!=J.length-1){it=(J[kg][2*(gJ+1)+1]-J[kg][2*gJ+1])/2;
cJ=(J[kg][2*(gJ+1)]-J[kg][2*gJ])/2}u[8*bc+8*jK]=J[kg][2*gJ]+cJ;u[8*bc+8*jK+1]=J[kg][2*gJ+1]+it;u[8*bc+8*jK+2]=J[kg][2*(gJ+N)]+cJ;
u[8*bc+8*jK+3]=J[kg][2*(gJ+N)+1]+it;u[8*bc+8*jK+4]=J[kg+1][2*(gJ+N)];u[8*bc+8*jK+5]=J[kg+1][2*(gJ+N)+1];
u[8*bc+8*jK+6]=J[kg+1][2*gJ];u[8*bc+8*jK+7]=J[kg+1][2*gJ+1];++jK}}}}}function _(J){var C=[100,300,500,700,1e3];
return C[J.VC-1]}function S(J){var C=[30,70,100,140,300];return C[J.VC-1]}function y(J){var C=[5,7,26,40,100];
return C[J.VC-1]}function v(J){if(J.VC==1){return 4}else if(J.VC==2){return 8}else{return Math.floor(S(J)/9)}}function r(J){var C=J.rq,H=new Float32Array(C),u=null;
for(var F=0;F<C;++F){H[F]=J.random()}if(J.rq<=3){H[0]=0;H[J.rq-1]=1}else{for(var F=0;F<2;++F){var bc=Math.floor(J.random()*C);
if(u==null||u!=bc){H[bc]=F;u=bc}else{H[bc+1]=F}}}return H}function K(J,C){var H=[],u=.2,jK=0;for(var F=0;
F<J.length;++F){var bc=C.random()*(1-u)+u;H.push(bc)}var N=Math.min(3,C.rq);for(var F=0;F<J.length;++F){if(H[F]>.9){++jK}}while(jK<N){var he=Math.floor(C.random()*J.length);
if(H[he]<=.9){H[he]=.9+.1*C.random();++jK}}return H}function s(J,C){var H=_(C),u=_({VC:1}),bc=[];for(var F=0;
F<J.length;++F){bc.push(Math.max(1,(C.random()*10+2)*H/u))}return bc}function P(J){var C=0;for(var F=0;
F<J.length;++F){if(F==0){C+=J[F]}else{C+=Math.abs(J[F]-J[F-1])}}return C}function d(J,C){if(J.length/2-1==_(C)){return J}var H=new Float32Array(2*(_(C)+1)),u=(J.length-2)/(H.length-2);
for(var F=0;F<H.length/2;++F){var bc=F*u,jK=Math.floor(bc),N=Math.ceil(bc),he=N-jK,gJ=1,kg=0;if(he!=0){gJ=(N-bc)/he;
kg=(bc-jK)/he}H[2*F]=gJ*J[2*jK]+kg*J[2*N];H[2*F+1]=gJ*J[2*jK+1]+kg*J[2*N+1]}return H}function X(J,C){var H=J.length/2,u=B(J),bc=u/H,jK=!1,gJ=0,kg=0,cJ=1;
if(C){var N=Math.floor(u/C.aoa),he=C.aoa;if(C.a2x&&J[0]==J[J.length-2]&&J[1]==J[J.length-1]){jK=!0;he=u/(N+1)}if(C.type==2&&!jK&&he*N+C.length>u){H=N+1}else{H=N+2}bc=he}var it=new Float32Array(H*2);
it[0]=J[0];it[1]=J[1];for(var F=1;F<H;++F){while(gJ<=F*bc){kg=gJ;gJ+=A([J[2*cJ],J[2*cJ+1]],[J[2*(cJ-1)],J[2*(cJ-1)+1]]);
++cJ}var by=1-(F*bc-kg)/(gJ-kg);it[2*F]=(1-by)*J[2*cJ]+by*J[2*(cJ-1)];it[2*F+1]=(1-by)*J[2*cJ+1]+by*J[2*(cJ-1)+1]}it[it.length-2]=J[J.length-2];
it[it.length-1]=J[J.length-1];return it}function U(J,C){var H=X(J,C),u=[];for(var F=0;F<(H.length-2)/2;
++F){var bc=[];bc.push(H[2*F]);bc.push(H[2*F+1]);var jK=A([H[2*(F+1)],H[2*(F+1)+1]],[H[2*F],H[2*F+1]]),N=[(H[2*(F+1)]-H[2*F])/jK,(H[2*(F+1)+1]-H[2*F+1])/jK],he=i((C.ard-90)/360*2*Math.PI),gJ=N;
if(C.type==3){gJ=he}else if(C.type==4){gJ=i(L(N)+L(he))}else if(C.type==5){gJ=i(((C.random()-.5)*C.ard-90)/360*2*Math.PI)}var kg=C.length;
if(C.aor){kg=2*C.random()*C.length}bc.push(H[2*F]+gJ[0]*kg);bc.push(H[2*F+1]+gJ[1]*kg);u.push(bc)}return u}function n(J){if(J.acx){J.Bc=100*Math.random()}else{J.Bc=J.a9v}J.random=new z;
J.random(J.Bc);if(J.type==6){J.rq=2;J.shape=5;J.al3=0}}function e(J,C){J=d(J,C);var H=[J],kg=0;if(C.type>=2&&C.type<6){H=U(J,C)}var u=v(C)-1,bc=S(C)-u,jK=(C.rq-1)*(y(C)-1),N=H.length*bc*jK,he=new Float32Array(N),gJ=new Float32Array(8*N);
for(var F=0;F<H.length;++F){for(var cJ=0;cJ<1e4;++cJ){C.Bc=x(C.Bc)}C.random(C.Bc);var J=d(H[F],C),it=r(C),by=P(it),cz=Y(J,it,C),fG=R(C,it),ju=c(fG.akI,cz,C);
ju=w(ju,fG.D6,fG.a2u,S(C));if(C.Ir>0){ju=V(ju,B(H[F]),C)}E(ju,C,he,gJ,kg);kg+=bc*jK}return[he,gJ]}var hV=function(J){var C=performance.now(),H=J[0],u=J[1];
n(u);var bc=[new Float32Array(0),new Float32Array(0)];for(var F=0;F<H.length;++F){u.Bc=x(u.Bc);var jK=e(H[F],u),N=new Float32Array(bc[0].length+jK[0].length),he=new Float32Array(bc[1].length+jK[1].length);
N.set(bc[0]);N.set(jK[0],bc[0].length);bc[0]=N;he.set(bc[1]);he.set(jK[1],bc[1].length);bc[1]=he}var gJ=performance.now();
if(u.a9j){console.wO("Geometry: "+String(gJ-C)+"ms")}return bc};return hV}(),gt=function(){function x(i,L){var B=[],D=0,Z=L.length,j=0,a=0,b=new av,W=0,c=1e9;
for(a=0;a<Z;a++){var Y=a*8,R=L[a];if(R<c)c=R;var $=i[Y+0],k=i[Y+1],w=i[Y+2],V=i[Y+3],h=i[Y+4],l=i[Y+5],M=i[Y+6],q=i[Y+7],t=Math.min($,w,h,M),p=Math.max($,w,h,M),E=Math.min(k,V,l,q),_=Math.max(k,V,l,q),S=new av(t,E,p-t,_-E),y=S.QM(b),v=W+R;
if(a-j<10&&(a==j||y.$()*.8<S.$()+b.$())){b=y;W=v}else{B.push(a-j);j=a;b=S;W=R;c=R}}if(a!=j)B.push(a-j);
return B}function z(i,L,B,D,Z,j){var a=document.createElement("canvas"),k=0,N=.8;a.width=L;a.height=B;
var b=a.getContext("2d"),W=Z[0],c=Z[1],Y=new Float64Array(L*B),R=Date.now(),$=x(c,W);for(var w=0;w<$.length;
w++){var V=k,h=k+$[w],q=1e9,p=1e9,K=0;k=h;var l=V*8,M=h*8,t=-q,E=-p;for(var _=l;_<M;_+=2){var S=c[_],y=c[_+1];
if(S<q)q=S;if(S>t)t=S;if(y<p)p=y;if(y>E)E=y}q=Math.floor(q);t=Math.ceil(t);p=Math.floor(p);E=Math.ceil(E);
var v=t-q,r=E-p;for(var s=V;s<h;s++)K+=W[s];for(var _=l;_<M;_+=8){var P=W[_>>>3],d=c[_+0],X=c[_+1],U=c[_+2],n=c[_+3],e=c[_+4],J=c[_+5],C=c[_+6],H=c[_+7];
b.fillStyle="rgba(0,0,0,"+P/K+")";b.beginPath();b.moveTo(d,X);b.lineTo(U,n);b.lineTo(e,J);b.lineTo(C,H);
b.closePath();b.fill()}var u=b.getImageData(q,p,v,r).data;for(var y=0;y<r;y++)for(var S=0;S<v;S++){var F=y*v+S,bc=u[F*4+3],jK=(p+y)*L+q+S;
if(bc!=0)Y[jK]+=bc*K}b.clearRect(q,p,v,r)}var he=j[1].color,gJ=Math.pow(he.w/255,N),kg=Math.pow(he.a/255,N),cJ=Math.pow(he.s/255,N),it=new av(0,0,L,B),by=f.C(L*B*4);
for(var y=0;y<B;y++)for(var S=0;S<L;S++){var F=y*L+S,s=F*4,W=Y[F]*(1/255);by[s]=o(gJ,W);by[s+1]=o(kg,W);
by[s+2]=o(cJ,W);by[s+3]=Math.min(255,W*255)}f.q.lx("norm",by,it,D,it,it,1)}var A=new Uint8Array(2e3);
for(var F=0;F<2e3;F++)A[F]=255*Math.min(1,Math.log(F/700+1));function o(i,L){return A[Math.min(1500,~~(i*L*1e3))]}return z}(),fa=function(){var x=new Float32Array(3e3),z=new Float32Array(3e3),A=new Float32Array(256),o=new Float32Array(3e3);
function i(){var c=x.length;x[0]=Math.log10(157647e-9);for(var F=1;F<c;++F)x[F]=Math.log10(F/c)}function L(){var c=z.length;
for(var F=0;F<c;++F)z[F]=Math.pow(10,20*(F-c/2)/c)}function B(){var c=A.length;for(var F=0;F<c;++F)A[F]=f.sS(F/255)}function D(){var c=o.length;
for(var F=0;F<c;++F)o[F]=255*f.Ln(F/(c-1))}function Z(c,Y){var R=c.length>>>2;for(var F=0;F<R;++F){var $=A[c[4*F]],k=A[c[4*F+1]],w=A[c[4*F+2]],V=.3811*$+.5783*k+.0402*w,h=.1967*$+.7244*k+.0782*w,l=.0241*$+.1288*k+.8444*w;
V=x[~~(V*x.length)];h=x[~~(h*x.length)];l=x[~~(l*x.length)];Y[3*F]=(V+h+l)*.5773502692;Y[3*F+1]=(V+h-2*l)*.4082482905;
Y[3*F+2]=(V-h)*.7071067812}}function j(c,Y){var R=Y.length>>>2,$=o.length-1;for(var F=0;F<R;++F){var k=.5773502692*c[3*F],w=.4082482905*c[3*F+1],V=.7071067812*c[3*F+2],h=z[~~((k+w+V+10)*(3e3/20))],l=z[~~((k+w-V+10)*(3e3/20))],M=z[~~((k-2*w+10)*(3e3/20))],q=4.4679*h-3.5873*l+.1193*M,t=-1.2186*h+2.3809*l-.1624*M,p=.0497*h-.2439*l+1.2045*M;
Y[4*F]=o[~~($*Math.max(0,Math.min(1,q)))];Y[4*F+1]=o[~~($*Math.max(0,Math.min(1,t)))];Y[4*F+2]=o[~~($*Math.max(0,Math.min(1,p)))]}}function a(c){var Y=0,R=0,$=0;
for(var F=0;F<c.length;F+=3){Y+=c[F];R+=c[F+1];$+=c[F+2]}return[Y/(c.length/3),R/(c.length/3),$/(c.length/3)]}function b(c,a){var Y=0,R=0,$=0;
for(var F=0;F<c.length;F+=3){var k=c[F]-a[0],w=c[F+1]-a[1],V=c[F+2]-a[2];Y+=k*k;R+=w*w;$+=V*V}return[Math.sqrt(Y/(c.length/3)),Math.sqrt(R/(c.length/3)),Math.sqrt($/(c.length/3))]}function W(c,Y,R,$,k,w){i();
L();B();D();var V=0,X,U;if(w[0]>100)V=-(w[0]-100)/100*.13;else if(w[0]>=75)V=(100-w[0])/25*.04;else if(w[0]>=50)V=.04+(75-w[0])/25*.04;
else if(w[0]>=25)V=.08+(50-w[0])/25*.08;else V=.16+(25-w[0])/25*.24;var h=(w[1]-100+100)/100,l=w[2]/100,M=w[3],q=new Float32Array(c.length*3/4),t=new Float32Array($.length*3/4),p=Date.now();
Z(c,q);Z($,t);var E=Date.now(),_=a(q),S=a(t),y=Date.now(),v=b(q,_),r=b(t,S),K=Date.now();S[0]*=Math.pow(10,V);
var s=[r[0]/v[0],r[1]/v[1],r[2]/v[2]],P=q.length,d=1/-1.1546978950500488;for(var F=0;F<P;F+=3){if(M){var n=Math.max(0,Math.min(1,q[F]*d));
n=1-Math.sqrt(n);X=n*S[1];U=n*S[2]}else{X=S[1];U=S[2]}q[F]=(q[F]-_[0])*s[0]+S[0];q[F+1]=(q[F+1]-_[1])*s[1]*h+X;
q[F+2]=(q[F+2]-_[2])*s[2]*h+U}var e=Date.now();j(q,k);var J=k.length>>>2;for(var F=0;F<J;++F){k[4*F]=(1-l)*k[4*F]+l*c[4*F];
k[4*F+1]=(1-l)*k[4*F+1]+l*c[4*F+1];k[4*F+2]=(1-l)*k[4*F+2]+l*c[4*F+2];k[4*F+3]=255}}return W}(),hq=function(){function x(z,A,o,i,L){var B=[-1,-1,-1,-1],D=255,Z=160,j,a=!1,b=new Array(4);
b[0]=new Array(A);b[1]=new Array(o);b[2]=new Array(A);b[3]=new Array(o);var W=new Array(2);W[0]=new Array(o);
W[1]=new Array(o);function c(r,K,s,P,d){this.start=P;this.axis=d;this.dir=r;this.end=-1;this.source=K;
this.$=s}function Y(r,K,s,P,d){if(s%2==0){if(!b[s][r])b[s][r]=new Array;b[s][r].push(new c(s,P,d,K,r))}else{if(!b[s][K])b[s][K]=new Array;
b[s][K].push(new c(s,P,d,r,K))}var X=Date.now()}function R(F){var r=!1,K=0;if(z[4*F+3]<D)return r;var s=F%A,P=Math.floor(F/A);
$(s,P);if(F+A<A*o&&z[4*(F+A)+3]<D&&z[4*(F-A)+3]>=D&&z[4*(F-2*A)+3]>=D){var d=2;if(z[4*(F+A)+3]<=Z)K=-1;
if(z[4*(F+2*A-1)+3]<D&&z[4*(F+2*A+1)+3]<D)r=!0;else if(z[4*(F+2*A-1)+3]>=D&&z[4*(F+1)+3]>=D)r=!0;else if(z[4*(F+2*A+1)+3]>=D&&z[4*(F-1)+3]>=D)r=!0;
Y(s,P,d,K,r)}else if(F-A>=0&&z[4*(F-A)+3]<D&&z[4*(F+A)+3]>=D&&z[4*(F+2*A)+3]>=D){var d=0;if(z[4*(F-A)+3]<=Z)K=-1;
if(z[4*(F-2*A-1)+3]<D&&z[4*(F-2*A+1)+3]<D)r=!0;else if(z[4*(F-2*A-1)+3]>=D&&z[4*(F+1)+3]>=D)r=!0;else if(z[4*(F-2*A+1)+3]>=D&&z[4*(F-1)+3]>=D)r=!0;
Y(s,P,d,K,r)}K=0;if(F+1<A*o&&z[4*(F+1)+3]<D&&z[4*(F-1)+3]>=D&&z[4*(F-2)+3]>=D){var d=3;if(z[4*(F+1)+3]<=Z)K=-1;
if(!r&&z[4*(F+A+2)+3]<D&&z[4*(F-A+2)+3]<D){r=!0;Y(s,P,d,K,!0)}else Y(s,P,d,K,!1)}else if(F>=1&&z[4*(F-1)+3]<D&&z[4*(F+1)+3]>=D&&z[4*(F+2)+3]>=D){var d=1;
if(z[4*(F-1)+3]<=Z)K=-1;if(!r&&z[4*(F+A-2)+3]<D&&z[4*(F-A-2)+3]<D){r=!0;Y(s,P,d,K,!0)}else Y(s,P,d,K,!1)}return r}function $(F,r){if(B[0]==-1){B[0]=F;
B[1]=r;B[2]=1;B[3]=1}if(F<B[0]){B[2]+=B[0]-F;B[0]=F}if(F>B[0]+B[2])B[2]=F-B[0];if(r<B[1]){B[3]+=B[1]-r;
B[1]=r}if(r>B[1]+B[3])B[3]=r-B[1]}function k(r,F,K,s){if(!K.$)return;var P=(r+2)%4,d=K.start,X=B[1];
if(r==2)X+=B[3];else if(r==1)X=B[0];else if(r==3)X=B[0]+B[2];var U=K.source;if(b[P][F])for(var n=0;n<b[P][F].length;
++n){if(r>1){var e=d+Math.floor((b[P][F][n].start-d)/2);if(b[P][F][n].start>d&&e<X)X=e}else{var e=d-Math.floor((d-b[P][F][n].start)/2);
if(b[P][F][n].start<d&&e>X)X=e}}for(var J=1;J<Math.abs(X-d);++J){var n=d+J;if(r==1||r==0)n=d-J;for(var C=0;
C<2;++C){var H=2*C,u=!1;if(r%2==0)H+=1;if(b[H][n]){for(var bc=0;bc<b[H][n].length;++bc){if(b[H][n][bc].$){var jK=b[H][n][bc].start,N=F-jK,he=n-d;
if(H==0||H==1)N=-N;if(N<=0)continue;if(r==0||r==1)he=-he;if(he>N){X=n;u=!0;break}}}if(u)break}}}K.end=X;
h(r,F,d,X,U)}function w(r){for(var F=0;F<b[r].length;++F){if(b[r][F])for(var K=0;K<b[r][F].length;++K){k(r,F,b[r][F][K])}}}function V(){var r=[2,0,3,1];
for(var F=0;F<r.length;++F)w(r[F])}function h(r,F,K,s,P){if(r==2)for(var d=K;d<=s;++d){if(!l(d*A+F,(K+P)*A+F))return!1}else if(r==0)for(var d=K;
d>=s;--d){if(!l(d*A+F,(K-P)*A+F))return!1}else if(r==1)for(var d=K;d>=s;--d){if(!l(F*A+d,F*A+K-P))return!1}else if(r==3)for(var d=K;
d<=s;++d){if(!l(F*A+d,F*A+K+P))return!1}}function l(r,K){if(!j[r]){i[4*r]=i[4*K];i[4*r+1]=i[4*K+1];i[4*r+2]=i[4*K+2];
if(a)i[4*r+3]=255;j[r]=!0;return!0}return!1}function M(){for(var F=0;F<4;F+=1){for(var r=0;r<b[F].length;
++r){if(b[F][r])for(var K=0;K<b[F][r].length;++K){var s=b[F][r][K];for(var P=1;P<3;P+=2){var d=(F+P)%4;
if(b[d][s.start])for(var X=0;X<b[d][s.start].length;++X){if(b[d][s.start][X].start==s.axis){var f5=A*s.start+s.axis;
if(F%2==1){f5=s.start+A*s.axis;q(b[d][s.start][X])}else q(s)}}}}}}}function q(r){if(r.dir%2==0){var f5=A*r.start+r.axis,K=r.start,s=1;
if(!j[f5+1])s=3;else if(j[f5-1])return;var P=i[4*f5],d=i[4*f5+1],X=i[4*f5+2];while(i[4*f5]==P&&i[4*f5+1]==d&&i[4*f5+2]==X){if(s==1){if(!W[0][K])W[0][K]=new Array;
W[0][K].push(new c(s,0,!1,r.axis,K))}else{if(!W[1][K])W[1][K]=new Array;W[1][K].push(new c(s,0,!1,r.axis,K))}if(r.dir==2){f5+=A;
K++}else{f5-=A;K--}}}}function t(){for(var r=0;r<2;++r){var K=(r+1)%2;for(var F=0;F<W[r].length;++F){if(W[r][F])for(var s=0;
s<W[r][F].length;++s){var P=B[0];if(r==1)P+=B[2];var d=W[r][F][s].start;if(W[K][F])for(var X=0;X<W[K][F].length;
++X){var U=W[K][F][X].Ww;if(r==0){if(U>P&&U<d){P=d-Math.floor((d-U)/2)}}else{if(U<P&&U>d){P=d+Math.ceil((U-d)/2)}}}if(r==0)h(W[r][F][s].dir,F,d-1,P,-1);
else h(W[r][F][s].dir,F,d+1,P,-1)}}}for(var F=0;F<j.length;++F){if(!j[F]&&F%A>=B[0]&&F%A<=B[0]+B[2]&&Math.floor(F/A)>=B[1]&&Math.floor(F/A)<=B[1]+B[3]){var d=A;
if(F<d||!j[F-d])d=1;i[4*F]=i[4*(F-d)];i[4*F+1]=i[4*(F-d)+1];i[4*F+2]=i[4*(F-d)+2];j[F]=!0;if(a)i[4*F+3]=255}}}function p(){j=new Array(z.length/4);
for(var F=0;F<i.length/4;++F){j[F]=!1;i[4*F]=z[4*F];i[4*F+1]=z[4*F+1];i[4*F+2]=z[4*F+2];i[4*F+3]=z[4*F+3];
if(i[4*F+3]==255)j[F]=!0;if(R(F))j[F]=!1}if(B[0]>0){B[0]--;B[2]++}if(B[1]>0){B[1]--;B[3]++}if(B[0]+B[2]<A){B[2]++}if(B[1]+B[3]<o){B[3]++}}var E=Date.now();
p();var _=Date.now();V();var S=Date.now();M();var y=Date.now();t();var v=Date.now();console.log("Init: "+String(_-E));
console.log("Filling: "+String(S-_));console.log("Check areas: "+String(y-S));console.log("Fill areas: "+String(v-y))}return x}();
f.uJ={Ly:function(x,z){var F=x.length;x.push(z);var A=F>>>1;while(A!=0&&x[F][0]<x[A][0]){var o=x[F];
x[F]=x[A];x[A]=o;F=A;A=F>>>1}},el:function(x){if(x.length==2)return x.pop();var top=x[1],F=1;x[1]=x.pop();
var z=x.length;while(!0){var A=F<<1,o=A+1,i=F;if(A<z&&x[A][0]<x[i][0])i=A;if(o<z&&x[o][0]<x[i][0])i=o;
if(i==F)break;var L=x[F];x[F]=x[i];x[i]=L;F=i}return top},acl:function(x){for(var F=1;F<x.length;F++){var z=F,A=1e9;
while(z!=0){var o=x[z][0];if(o>A){console.log(F);throw"e"}A=o;z=z>>>1}}}};f.q={};f.q.cD=new Float64Array(256);
f.q.K4=new Uint8Array(256*256);f.q.vR=new Uint8Array(256*256);(function(){for(var F=0;F<256;F++)f.q.cD[F]=255/F;
for(var F=0;F<256;F++)for(var x=0;x<256;x++)f.q.K4[F*256+x]=F==0?0:Math.round(x*255/F);for(var F=0;F<256;
F++)for(var x=0;x<256;x++)f.q.vR[F*256+x]=Math.round(F*(255-x)/255)}());f.q.lx=function(x,z,A,o,i,L,B,D){if(D==null)D=ct.rC();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){B=B*D.fill;D.fill=1;D.style=!1}var Z="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),j="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),a=f.q[x+"F"];
if(D.R3==null&&x=="norm")f.q.adz(z,A,o,i,L,B,a,D.Oe?1:0);else if(x=="diss")f.q.agO(z,A,o,i,L,B,a,D.Oe?1:0);
else if(Z.indexOf(x)!=-1)f.q.alA(z,A,o,i,L,B,a,D);else if(j.indexOf(x)!=-1)f.q.aww(z,A,o,i,L,B,a,D)};
f.q.aqb=function(x,z,A){var o=x*A+1-A;return o<.001?0:1-Math.min(1,(1-z)/o)};f.q.auR=function(x,z,A){return x*A==1?1:Math.min(1,z/(1-x*A))};
f.q.UI=function(x){return x<=.25?((16*x-12)*x+4)*x:Math.sqrt(x)};f.q.normF=function(x,z,A){return x};
f.q.darkF=function(x,z,A){return Math.min(x,z)};f.q["mul F"]=function(x,z,A){return x*z};f.q.idivF=function(x,z,A){var o=x*A+1-A;
return z==1?1:1-z>=o?0:1-(1-z)/o};f.q.lbrnF=function(x,z,A){return Math.max(0,x*A+z-A)};f.q.dkClF=function(x,z,A){var o=f.Ps(x)<f.Ps(z)?x:z;
A.w=o.w;A.a=o.a;A.s=o.s;return A};f.q.liteF=function(x,z,A){return Math.max(x,z)};f.q.scrnF=function(x,z,A){return z+x-z*x};
f.q["div F"]=function(x,z,A){x*=A;return z==0?0:z>=1-x?1:z/(1-x)};f.q.lddgF=function(x,z,A){x*=A;return Math.min(1,x+z)};
f.q.lgClF=function(x,z,A){var o=f.Ps(x)>f.Ps(z)?x:z;A.w=o.w;A.a=o.a;A.s=o.s;return A};f.q.overF=function(x,z,A){return f.q.hLitF(z,x,A)};
f.q.sLitF=function(x,z,A){return x<=.5?z-(1-2*x)*z*(1-z):z+(2*x-1)*(f.q.UI(z)-z)};f.q.hLitF=function(x,z,A){return x<=.5?f.q["mul F"](2*x,z,A):f.q.scrnF(2*x-1,z,A)};
f.q.vLitF=function(x,z,A){return x<=.5?f.q.aqb(2*x,z,A):f.q.auR(2*x-1,z,A)};f.q.lLitF=function(x,z,A){return x<=.5?f.q.lbrnF(2*x,z,A):f.q.lddgF(2*x-1,z,A)};
f.q.pLitF=function(x,z,A){return x<=.5?f.q.darkF(2*x,z,A):f.q.liteF(2*x-1,z,A)};f.q.hMixF=function(x,z,A){if(A>.99)return x+z<1?0:1;
return Math.min(1,Math.max(0,(z+x*A-A)/(1-A+1e-6)))};f.q.diffF=function(x,z,A){x*=A;return Math.abs(x-z)};
f.q.smudF=function(x,z,A){return x+z-2*x*z};f.q.fsubF=function(x,z,A){return Math.max(z-x,0)};f.q.fdivF=function(x,z,A){return Math.min(z/x,1)};
f.q["hue F"]=function(x,z,A){f.q.PH(x,f.Sw(z),A);f.q.vK(A,f.Ps(z),A)};f.q["sat F"]=function(x,z,A){f.q.PH(z,f.Sw(x),A);
f.q.vK(A,f.Ps(z),A)};f.q.colrF=function(x,z,A){f.q.vK(x,f.Ps(z),A)};f.q["lum F"]=function(x,z,A){f.q.vK(z,f.Ps(x),A)};
f.q.vK=function(x,z,A){var o=z-f.Ps(x);A.w=x.w+o;A.a=x.a+o;A.s=x.s+o;f.q.ak1(A)};f.q.ak1=function(x){var z=x.w,A=x.a,o=x.s,i=f.yA(z,A,o),f5=Math.min(z,A,o),L=Math.max(z,A,o);
if(f5<0){var B=i/(i-f5);z=i+(z-i)*B;A=i+(A-i)*B;o=i+(o-i)*B}if(L>1){var B=(1-i)/(L-i);z=i+(z-i)*B;A=i+(A-i)*B;
o=i+(o-i)*B}x.w=z;x.a=A;x.s=o};f.q.PH=function(x,z,A){var o=f.q.aiP,i=x.w,L=x.a,B=x.s;if(i==L&&L==B){A.w=A.a=A.s=0}else if(i>L){if(i>B){if(L>B){A.w=z;
A.a=o(i,L,B,z);A.s=0}else{A.w=z;A.s=o(i,B,L,z);A.a=0}}else{A.s=z;A.w=o(B,i,L,z);A.a=0}}else{if(i<B){if(L>B){A.a=z;
A.s=o(L,B,i,z);A.w=0}else{A.s=z;A.a=o(B,L,i,z);A.w=0}}else{A.a=z;A.w=o(L,i,B,z);A.s=0}}};f.q.aiP=function(x,z,A,o){return(z-A)*o/(x-A)};
f.q.adz=function(x,z,A,o,i,L,B,D){var Z=z.tE(o).tE(i),j=Math.max(0,Z.x-z.x),a=Math.max(0,Z.x-o.x),b=Math.max(0,Z.y-z.y),W=Math.max(0,Z.y-o.y),c=Z.m,Y=Z.n,R=z.m,$=o.m,k=f.q.K4,w=f.q.vR,V=new Uint32Array(x.buffer),h=new Uint32Array(A.buffer);
for(var F=0;F<Y;F++){var l=(b+F)*R+j,M=(W+F)*$+a;for(var q=0;q<c;q++){var t=V[l+q],s=1;if(t>>>24==0)continue;
if(t>>>24==255&&L==1&&D==0){h[M+q]=V[l+q];continue}var p=h[M+q],E=t&255,_=t>>>8&255,S=t>>>16&255,y=p&255,v=p>>>8&255,r=p>>>16&255,K=L,P=(p>>>24)*(1/255);
if(D==0){K=(t>>>24)*L*(1/255);s=P}var d=s*(1-K),X=K+d,U=1/X;h[M+q]=~~(.5+(D*P+(1-D)*X)*255)<<24|~~(.5+(S*K+r*d)*U)<<16|~~(.5+(_*K+v*d)*U)<<8|~~(.5+(E*K+y*d)*U)}}};
f.q.aes=function(x,z,A,o,i,L){var B=z.tE(o).tE(i),D=Math.max(0,B.x-z.x),Z=Math.max(0,B.x-o.x),j=Math.max(0,B.y-z.y),a=Math.max(0,B.y-o.y),b=B.m,W=B.n,c=z.m,Y=o.m,R=f.q.K4,$=f.q.vR,k=new Uint32Array(x.buffer),w=new Uint32Array(A.buffer),V=Math.floor(Math.random()*16777215),h=0;
for(var F=0;F<W;F++){var l=(j+F)*c+D,M=(a+F)*Y+Z;for(var q=0;q<b;q++){var t=k[l+q];if(t>>>24==0)continue;
if(t>>24==255&&L==1){w[M+q]=t;continue}var p=w[M+q],E=(t>>>24)*L*(1/255),_=(p>>>24)*(1/255),S=_*(1-E),y=E+S,v=t&255,r=t>>>8&255,K=t>>>16&255,s=p&255,P=p>>>8&255,d=p>>>16&255;
h>>>=8;if((q&3)==0)h=f.q.cp(M+q+V);var X=y==0?0:1/y,U=Math.floor(y*(256*255))+(h&255)>>>8,n=Math.floor((K*E+d*S)*X+.5),e=Math.floor((r*E+P*S)*X+.5),J=Math.floor((v*E+s*S)*X+.5);
w[M+q]=U<<24|n<<16|e<<8|J}}};f.q.Os=function(x,z,A,o,i,L,B,D){var Z=f.yA(x,z,A),j=f.yA(o,i,L),a=Math.min,b=f.q.aj$,W=b(Z,D,0);
W=a(W,b(x,D,8));W=a(W,b(z,D,16));W=a(W,b(A,D,24));var c=b(j,D,4);c=a(c,b(o,D,12));c=a(c,b(i,D,20));c=a(c,b(L,D,28));
c=Math.max(c,1-B);var Y=Math.min(W,c);return Y<0?0:Y>1?1:Y};f.q.aj$=function(x,z,F){return Math.min((x-z[F])*z[F+1],(x-z[F+3])*z[F+2])};
f.q.alA=function(x,z,A,o,i,L,B,D){var Z=1/255,j=Z*L,a=D.Oe?1:0,b=D.fill,W=D.style,c=z.tE(o).tE(i),Y=Math.max(0,c.x-z.x),R=Math.max(0,c.x-o.x),$=Math.max(0,c.y-z.y),k=Math.max(0,c.y-o.y),w=c.m,V=c.n,h=z.m,l=o.m,M=new Uint32Array(x.buffer),q=new Uint32Array(A.buffer);
for(var F=0;F<V;F++){var t=($+F)*h+Y,p=(k+F)*l+R;for(var E=0;E<w;E++,t++,p++){var _=M[t],X=1;if(_>>>24==0)continue;
var S=q[p],y=(_&255)*Z,v=(_>>>8&255)*Z,r=(_>>>16&255)*Z,K=(S&255)*Z,s=(S>>>8&255)*Z,P=(S>>>16&255)*Z,d=L;
if(a==0){d=(_>>>24)*j;X=(S>>>24)*Z}if(D.R3)d*=f.q.Os(y,v,r,K,s,P,X,D.R3);var U=X*(1-d),n=d+U,e=n==0?0:255/n,J=W?1:d,C=((1-X)*d*y+(1-J)*X*K+J*X*B(y,K,(1+d-J)*b))*e,H=((1-X)*d*v+(1-J)*X*s+J*X*B(v,s,(1+d-J)*b))*e,u=((1-X)*d*r+(1-J)*X*P+J*X*B(r,P,(1+d-J)*b))*e;
n=d*b+X*(1-d*b);var bc=~~(n*255+.5);q[p]=a*(S>>>24)+(1-a)*bc<<24|u<<16|H<<8|C}}};f.q.aww=function(x,z,A,o,i,L,B,D){var Z=1/255,j=Z*L,a=D.Oe?1:0,b=z.tE(o).tE(i),W=Math.max(0,b.x-z.x),c=Math.max(0,b.x-o.x),Y=Math.max(0,b.y-z.y),R=Math.max(0,b.y-o.y),$=b.m,k=b.n,w=new Uint32Array(x.buffer),V=new Uint32Array(A.buffer),h={w:0,a:0,s:0},l={w:0,a:0,s:0},M={w:0,a:0,s:0};
for(var F=0;F<k;F++){var q=(Y+F)*z.m+W,t=(R+F)*o.m+c;for(var p=0;p<$;p++,q++,t++){var E=w[q],_=V[t],S=(E&255)*Z,y=(E>>>8&255)*Z,v=(E>>>16&255)*Z,r=(_&255)*Z,K=(_>>>8&255)*Z,s=(_>>>16&255)*Z,P=L,d=1;
if(a==0){P=(E>>>24)*j;d=(_>>>24)*Z}if(D.R3)P*=f.q.Os(S,y,v,r,K,s,d,D.R3);var X=d*(1-P),U=P+X,n=255/U;
h.w=S;h.a=y;h.s=v;l.w=r;l.a=K;l.s=s;B(h,l,M);var e=(((1-d)*S+d*M.w)*P+r*X)*n,J=(((1-d)*y+d*M.a)*P+K*X)*n,C=(((1-d)*v+d*M.s)*P+s*X)*n,H=a*(_>>>24)+(1-a)*Math.round(U*255);
V[t]=H<<24|C<<16|J<<8|e}}};f.q.xv=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;x=x^x>>15;
return(x&16777215)*(1/16777215)};f.q.cp=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;
x=x^x>>>15;return x};f.q.pk=function(x){this.xT=x};f.q.pk.prototype.get=function(){var x=this.xT=f.q.cp(this.xT);
return(x&16777215)*(1/16777215)};f.q.agO=function(x,z,A,o,i,L,B,D){var Z=1/255,j=Z*L,a=Math.round(L*(256*256*256/255)),b=z.tE(o).tE(i),W=Math.max(0,b.x-z.x),c=Math.max(0,b.x-o.x),Y=Math.max(0,b.y-z.y),R=Math.max(0,b.y-o.y),$=b.m,k=b.n,w=new Uint32Array(x.buffer),V=new Uint32Array(A.buffer);
for(var F=0;F<k;F++){var h=(Y+F)*z.m+W,l=(R+F)*o.m+c;for(var M=0;M<$;M++,h++,l++){var q=w[h],t=V[l],p=D*255+(1-D)*(q>>>24);
if((f.q.cp(h)&16777215)>=p*a)continue;V[l]=q&16777215|D*(t>>>24)+(1-D)*255<<24}}};f.q.a0P=function(x,z,A){for(var F=0;
F<x.length;F+=4){var o=A[F>>>2];if(o==0)continue;var i=o*(1/255),L=1/i,B=z[F],D=z[F+1],Z=z[F+2],j=x[F],a=x[F+1],b=x[F+2];
z[F]=Math.min(255,Math.max(0,Math.round((B-(1-i)*j)*L)));z[F+1]=Math.min(255,Math.max(0,Math.round((D-(1-i)*a)*L)));
z[F+2]=Math.min(255,Math.max(0,Math.round((Z-(1-i)*b)*L)));z[F+3]=255}};f.q.Zd=function(x,z,A,o,i,L,B,D,Z,j,a){if(j==null)j=!1;
if(a==null)a=[1,1,1];var b=255<<24|a[2]*16711680|a[1]*65280|a[0]*255,W=~b;if(i&&!z.S0(L)){var c=f.C(z.$()*4);
c.fill(B);f.K5(i,L,c,z);i=c;L=z}if(j){if(i==null)f.q.aqv(x,z,A,o,i,D,Z,b,W);else f.q.a1q(x,z,A,o,i,D,Z)}else{if(i==null)f.q.ahu(x,z,A,o,i,D,Z,b,W);
else f.q.asN(x,z,A,o,i,D,Z)}};f.q.ahu=function(x,z,A,o,i,L,B,D,Z){var j=1/255,a=z.tE(o).tE(L),b=Math.max(0,a.x-z.x),W=Math.max(0,a.x-o.x),c=Math.max(0,a.y-z.y),Y=Math.max(0,a.y-o.y),R=a.m,$=a.n,k=new Uint32Array(x.buffer),w=new Uint32Array(A.buffer),V=f.q.K4,h=B*255&255;
for(var F=0;F<$;F++){var l=(c+F)*z.m+b,M=(Y+F)*o.m+W;for(var q=0;q<R;q++,l++,M++){var t=k[l],p=w[M],E=t>>>24,_=p>>>24,S=f.pY(h*E+(255-h)*_),y=f.pY(E*h),v=f.pY(_*(255-h)),r=t&255,K=t>>>8&255,s=t>>>16&255,P=p&255,d=p>>>8&255,X=p>>>16&255,U=y*r+P*v,n=y*K+d*v,e=y*s+X*v;
U=V[S<<8|f.pY(U)];n=V[S<<8|f.pY(n)];e=V[S<<8|f.pY(e)];var J=S<<24|e<<16|n<<8|U;w[M]=Z&p|D&J}}};f.q.aqv=function(x,z,A,o,i,L,B,D,Z){var j=1/255,a=z.tE(o).tE(L),b=Math.max(0,a.x-z.x),W=Math.max(0,a.x-o.x),c=Math.max(0,a.y-z.y),Y=Math.max(0,a.y-o.y),R=a.m,$=a.n,k=new Uint32Array(x.buffer),w=new Uint32Array(A.buffer),V=f.q.K4,h=B*16777215&16777215;
for(var F=0;F<$;F++){var l=(c+F)*z.m+b,M=(Y+F)*o.m+W;for(var q=0;q<R;q++,l++,M++){if((f.q.cp(l)&16777215)<h){w[M]=Z&w[M]|D&k[l]}}}};
f.q.asN=function(x,z,A,o,i,L,B){var D=1/255,Z=z.tE(o).tE(L),j=Math.max(0,Z.x-z.x),a=Math.max(0,Z.x-o.x),b=Math.max(0,Z.y-z.y),W=Math.max(0,Z.y-o.y),c=Z.m,Y=Z.n,R=new Uint32Array(x.buffer),$=new Uint32Array(A.buffer),k=f.q.K4;
for(var F=0;F<Y;F++){var w=(b+F)*z.m+j,V=(W+F)*o.m+a;for(var h=0;h<c;h++,w++,V++){var l=i[w]*B&255;if(l==0)continue;
if(l==255){$[V]=R[w];continue}var M=R[w],q=$[V],t=M>>>24,p=q>>>24,E=f.pY(l*t+(255-l)*p),_=f.pY(t*l),S=f.pY(p*(255-l)),y=M&255,v=M>>>8&255,r=M>>>16&255,K=q&255,s=q>>>8&255,P=q>>>16&255,d=k[E<<8|f.pY(_*y+K*S)],X=k[E<<8|f.pY(_*v+s*S)],U=k[E<<8|f.pY(_*r+P*S)];
$[V]=E<<24|U<<16|X<<8|d}}};f.q.a1q=function(x,z,A,o,i,L,B){var D=1/255,Z=z.tE(o).tE(L),j=Math.max(0,Z.x-z.x),a=Math.max(0,Z.x-o.x),b=Math.max(0,Z.y-z.y),W=Math.max(0,Z.y-o.y),c=Z.m,Y=Z.n,R=new Uint32Array(x.buffer),$=new Uint32Array(A.buffer),k=f.q.K4,w=Math.round(B*257);
for(var F=0;F<Y;F++){var V=(b+F)*z.m+j,h=(W+F)*o.m+a;for(var l=0;l<c;l++,V++,h++){var M=i[V]*w;if((f.q.cp(V)&65535)<M)$[h]=R[V]}}};
f.q.q7=function(x,z,A,o,i,L,B){var D=1/255,Z=z.tE(o).tE(L),j=Math.max(0,Z.x-z.x),a=Math.max(0,Z.x-o.x),b=Math.max(0,Z.y-z.y),W=Math.max(0,Z.y-o.y),c=Z.m,Y=Z.n,R=new Uint32Array(x.buffer),$=new Uint32Array(A.buffer),k=Math.floor(Math.random()*o.$()),w=f.q.abI;
for(var F=0;F<Y;F++){var V=(b+F)*z.m+j,h=(W+F)*o.m+a;for(var l=0;l<c;l++){var M=i[V+l]*B;if(M==0)continue;
if(M==255){$[h+l]=R[V+l];continue}var q=R[V+l],t=$[h+l],p=q>>>24,E=t>>>24,_=p*M*(1/255),S=E*(255-M)*(1/255),y=q&255,v=q>>>8&255,r=q>>>16&255,K=t&255,s=t>>>8&255,P=t>>>16&255,d=f.q.cp(h+l+k),X=Math.floor((_+S)*256+.5)+(d>>>0&255)>>>8,U=X==0?0:256/(_+S),n=y*_+K*S,e=v*_+s*S,J=r*_+P*S,C=Math.floor(n*U+.5)+(d>>>8&255)>>>8,H=Math.floor(e*U+.5)+(d>>>16&255)>>>8,u=Math.floor(J*U+.5)+(d>>>24&255)>>>8;
$[h+l]=X<<24|u<<16|H<<8|C}}};f.q.abI=function(x){return Math.floor(x+Math.random())};f.q.NX=function(x,z,A,o,i,L,B){var D=1/255,Z=z.tE(o).tE(L),j=Math.max(0,Z.x-z.x),a=Math.max(0,Z.x-o.x),b=Math.max(0,Z.y-z.y),W=Math.max(0,Z.y-o.y),c=Z.m,Y=Z.n;
for(var F=0;F<Y;F++){var R=(b+F)*z.m+j,$=(W+F)*o.m+a;for(var k=0;k<c;k++,R++,$++){var w=B*i[R]*D;if(w==0)continue;
if(w==1){A[$]=x[R];continue}A[$]=x[R]*w+A[$]*(1-w)}}};f.ap9=function(){function x(L){var B=L*.85;return Math.exp(-(B*B)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function z(L,B){var D=L<B?1:x((L-B)/Math.pow(1.001-B,.86));
return D}var A=[];function o(L){if(A[L])return A[L];var B=Math.pow(L,.55),D=new Float64Array(8e3),Z=0,j=8e3;
for(var F=0;F<8e3;F++){var a=z(F*(1.55/4e3),B);if(a>=1)Z=F;else if(a<=0&&j==8e3)j=F;D[F]=a}var b=[D,Z,j];
A[L]=b;return b}function i(L,B,D){var Z=1+.55*(1-B),j=Math.round(D*L*Z)+2,a=new av(0,0,j,j),b=f.C(j*j*4),W=new Uint32Array(b.buffer),c=[b,a],Y=j/2,R=Z/(Y-1),$=Date.now(),k=o(B),w=Math.round(8e3/Y),V=k[0],h=k[1]-w,l=k[2]+w,M=Math.min(j,j+1>>>1),q=R*.4*(4e3/1.55),t=f.C(8e3);
for(var F=0;F<8e3;F++){var p=F,E=F,_=~~Math.max(0,p-q-q),S=~~Math.max(0,p-q),y=~~(p+q),v=~~(p+q+q),r=~~(.5+255*(1/5)*(V[E]+V[_]+V[S]+V[y]+V[v]));
t[F]=r;if(r==0)break}for(var F=0;F<M;F++){var K=R*(F-Y+.5),s=K*K,P=F*j,d=(j-1-F)*j;for(var X=0;X<M;X++){var U=R*(X-Y+.5),E=~~(Math.sqrt(U*U+s)*(4e3/1.55));
if(l<E)continue;else if(E<h){var r=4278190080;while(X<M){var n=j-1-X;W[P+X]=r;W[P+n]=r;W[d+X]=r;W[d+n]=r;
X++}break}else{var r=t[E]<<24,n=j-1-X;W[P+X]=r;W[P+n]=r;W[d+X]=r;W[d+n]=r}}}return c}return{aoG:i}}();
f.XY={};f.XY.akx=function(x,z,A,o,i,L){f.XY.O0(x,z,A,o,i,L,null,0)};f.XY.ac_=function(x,z,A,o,i){f.XY.O0(x,z,A,o,i,null,null,0)};
f.XY.aow=function(x,z,A,o,i,L,B){f.XY.O0(x,z,A,o,i,null,L,B*.5)};f.XY.O0=function(x,z,A,o,i,L,B,D){var Z=0,S=0,y=1e9,v=0,r=1e9,K=0,s=1e9,P=0,d=0,X=0,U=0;
if(L){Z=i*.5;i=3+Math.round((i-3)*.75)}if(B){i=Math.round(i*2.2)}var j=1/i,a=Math.floor(z*j)+1,b=Math.floor(A*j)+1,W=[],c=new Uint8Array(a*b*4),Y=B?.5:1,R=L?64:0;
for(var $=0;$<b;$++){var k=B?.5*($&1):0;for(var w=0;w<a;w++){var V=(w+Math.random()*Y+k)*i,h=($+Math.random()*Y)*i;
W.push(V,h);var l=Math.min(z-1,Math.floor(V)),M=Math.min(A-1,Math.floor(h)),q=(M*z+l)*4,t=($*a+w)*4;
for(var F=0;F<4;F++)c[t+F]=Math.max(0,Math.min(255,Math.floor(x[q+F]+(Math.random()-.5)*R)))}}var p=L?L:B?B:[0,0,0],E=a*b*2,_=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1];
for(var $=0;$<A;$++){X=0;for(var w=0;w<z;w++){var n=w+.5,e=$+.5,J=Math.floor(e*j),C=Math.floor(n*j),H=J*a+C,jK=0,N=0;
if(X>1+D){y=f.XY.uN(W,S,n,e);P=Math.sqrt(y);X--;U++}else{y=r=s=1e9;for(var F=0;F<_.length;F++){var u=(H+_[F])*2;
if(u<0||u>=E)continue;var bc=f.XY.uN(W,u,n,e);if(bc<s){if(bc<r){if(bc<y){K=v;s=r;v=S;r=y;S=u;y=bc}else{K=v;
s=r;v=u;r=bc}}else{K=u;s=bc}}}P=Math.sqrt(y);d=Math.sqrt(r);X=d-(P+d)*.5}if(B==null){var he=(P+d)*.5,gJ=L?Math.max(0,he-Z):0;
jK=Math.max(0,Math.min(1,.5+he-P-gJ));N=Math.max(0,Math.min(1,1-(.5+he-P)-gJ))}else{var kg=Math.min(f.XY.cS(W,S,v,n,e),f.XY.cS(W,S,K,n,e));
jK=Math.max(0,Math.min(1,kg-D*.5));if(n<D||z-D<n||e<D||A-D<e)jK=0;N=0}var cJ=1-N-jK,t=$*z+w<<2,it=S<<1,by=v<<1;
o[t+0]=Math.floor(.5+jK*c[it+0]+N*c[by+0]+cJ*p[0]);o[t+1]=Math.floor(.5+jK*c[it+1]+N*c[by+1]+cJ*p[1]);
o[t+2]=Math.floor(.5+jK*c[it+2]+N*c[by+2]+cJ*p[2]);o[t+3]=x[t+3]}}};f.XY.uN=function(x,z,A,o){var i=A-x[z],L=o-x[z+1];
return i*i+L*L};f.XY.cS=function(x,z,A,o,i){var L=x[z],B=x[z+1],D=x[A],Z=x[A+1],j=(L+D)*.5,a=(B+Z)*.5,b=j+(Z-B),W=a-(D-L),c=W-a,Y=b-j;
return Math.abs(c*o-Y*i+b*a-W*j)/Math.sqrt(Y*Y+c*c)};f.ZY={};f.ZY.hq=function(x){if(f.ZY.v4.length<x)f.ZY.v4=f.C(x);
return f.ZY.v4};f.ZY.v4=f.C(0);f.ZY.pN=function(x){if(f.ZY.lO.length<x)f.ZY.lO=new Float32Array(x);return f.ZY.lO};
f.ZY.lO=new Float32Array(0);f.ZY.nM=function(x,z,A,o){var i=A.m,L=A.n;f.ZY.ae9(x,z,i,L,o)};f.ZY.yn=function(x,z,A,o){var i=A.m,L=A.n;
f.ZY.agW(x,z,i,L,o)};f.ZY._a=function(x,z,A){var o=z.m,i=z.n;f.ZY.auY(x,o,i,A)};f.ZY.nT=function(x,z,A,o,i){var L=A.m,B=A.n;
f.ZY.a90(x,z,L,B,o,i)};f.ZY.DP=function(x,z,A,o){var i=A.m,L=A.n;o=Math.round(o);var B=f.ZY.hq(i*L);
f.Yy(x,z);f.ZY.Pb(z,B,i,L,o)};f.ZY.e9=function(x,z,A){var o=z.m,i=z.n;A=Math.round(A);var L=f.ZY.hq(o*i*4);
f.ZY.h1(x,L,o,i,A)};f.ZY.Yf=function(x,z,A,o){var i=A.m,L=A.n;o=Math.round(o);var B=f.ZY.pN(i*L);f.Yy(x,z);
f.ZY.aY(z,B,i,L,o)};f.ZY.zW=function(x,z,A){var o=z.m,i=z.n;A=Math.round(A);var L=f.ZY.hq(o*i*4);f.ZY.K$(x,L,o,i,A);
f.Yy(L,x)};f.ZY.Z3=function(x,f5){var z=Math.sqrt(12*x*x/f5+1),A=Math.floor(z);if(A%2==0)A--;var o=A+2,i=(12*x*x-f5*A*A-4*f5*A-3*f5)/(-4*A-4),L=Math.round(i),B=[];
for(var F=0;F<f5;F++)B.push(F<L?A:o);return B};f.ZY.ae9=function(x,z,A,o,i){var L=f.ZY.Z3(i,3),B=f.ZY.hq(A*o);
f.Yy(x,z);f.ZY.Pb(z,B,A,o,L[0]-1>>1);f.ZY.Pb(z,B,A,o,L[1]-1>>1);f.ZY.Pb(z,B,A,o,L[2]-1>>1)};f.ZY.agW=function(x,z,A,o,i){var L=f.ZY.Z3(i,2),B=f.ZY.hq(A*o);
f.Yy(x,z);f.ZY.Pb(z,B,A,o,L[0]-1>>1);f.ZY.Pb(z,B,A,o,L[1]-1>>1)};f.ZY.auY=function(x,z,A,o){var i=f.ZY.Z3(o,3),L=f.ZY.hq(z*A*4);
f.ZY.h1(x,L,z,A,i[0]-1>>1);f.ZY.h1(x,L,z,A,i[1]-1>>1);f.ZY.h1(x,L,z,A,i[2]-1>>1)};f.ZY.a90=function(x,z,A,o,i,L){if(L==null)L=3;
var B=f.ZY.Z3(i,L),D=f.ZY.pN(A*o);f.Yy(x,z);for(var F=0;F<L;F++)f.ZY.aY(z,D,A,o,(B[F]-1)/2)};f.ZY.Pb=function(x,z,A,o,i){f.ZY.awv(x,z,A,o,i);
f.ZY.abw(z,x,A,o,i)};f.ZY.h1=function(x,z,A,o,i){f.ZY.K$(x,z,A,o,i);f.ZY.afY(z,x,A,o,i)};f.ZY.aY=function(x,z,A,o,i){f.ZY.asI(x,z,A,o,i);
f.ZY.akf(z,x,A,o,i)};f.ZY.Bl=[];f.ZY.kx=function(x){if(f.ZY.Bl[x])return f.ZY.Bl[x];var z=1/(x+x+1),A=(x+x+1)*256,o=f.C(A);
for(var F=0;F<A;F++)o[F]=Math.round(F*z);f.ZY.Bl[x]=o;return o};f.ZY.awv=function(x,z,A,o,i){var L=1/(i+i+1),B=A-i-i-1,D=f.ZY.kx(i);
for(var F=0;F<o;F++){var Z=F*A,j=Z,a=Z+i,b=x[Z],W=x[Z+A-1],c=(i+1)*b;for(var Y=0;Y<i;Y++)c+=x[Z+Y];for(var Y=0;
Y<=i;Y++){c+=x[a+Y]-b;z[Z+Y]=D[c]}a+=i+1;Z+=i+1;for(var Y=0;Y<B;Y++){c+=x[a+Y]-x[j+Y];z[Z+Y]=D[c]}a+=B;
j+=B;Z+=B;for(var Y=A-i;Y<A;Y++){c+=W-x[j++];z[Z++]=D[c]}}};f.ZY.K$=function(x,z,A,o,i){var L=A<<2,B=i<<2,D=1/(i+i+1),Z=A-i-i-1,j=Z<<2,a=f.ZY.kx(i);
for(var F=0;F<o;F++){var b=F*L,W=b,c=b+B,Y=b+L,R=x[b],$=x[b+1],k=x[b+2],w=x[b+3],V=(i+1)*R,h=(i+1)*$,l=(i+1)*k,M=(i+1)*w;
for(var q=0;q<B;q+=4){V+=x[b+q];h+=x[b+q+1];l+=x[b+q+2];M+=x[b+q+3]}for(var q=0;q<=B;q+=4){V+=x[c]-R;
z[b]=a[V];h+=x[c+1]-$;z[b+1]=a[h];l+=x[c+2]-k;z[b+2]=a[l];M+=x[c+3]-w;z[b+3]=a[M];c+=4;b+=4}for(var q=0;
q<j;q+=4){V+=x[c+q]-x[W+q];z[b+q]=a[V];h+=x[c+q+1]-x[W+q+1];z[b+q+1]=a[h];l+=x[c+q+2]-x[W+q+2];z[b+q+2]=a[l];
M+=x[c+q+3]-x[W+q+3];z[b+q+3]=a[M]}c+=j;W+=j;b+=j;R=x[Y-4];$=x[Y-3];k=x[Y-2];w=x[Y-1];for(var q=A-i;
q<A;q++){V+=R-x[W];z[b]=a[V];h+=$-x[W+1];z[b+1]=a[h];l+=k-x[W+2];z[b+2]=a[l];M+=w-x[W+3];z[b+3]=a[M];
W+=4;b+=4}}};f.ZY.asI=function(x,z,A,o,i){var L=1/(i+i+1),B=A-i-i-1;for(var F=0;F<o;F++){var D=F*A,Z=D,j=D+i,a=x[D],b=x[D+A-1],W=(i+1)*a;
for(var c=0;c<i;c++)W+=x[D+c];for(var c=0;c<=i;c++){W+=x[j+c]-a;z[D+c]=W*L}j+=i+1;D+=i+1;for(var c=0;
c<B;c++){W+=x[j+c]-x[Z+c];z[D+c]=W*L}j+=B;Z+=B;D+=B;for(var c=A-i;c<A;c++){W+=b-x[Z++];z[D++]=W*L}}};
f.ZY.abw=function(x,z,A,o,i){var L=1/(i+i+1),B=o-i-i-1,D=f.ZY.kx(i);for(var F=0;F<A;F++){var Z=F,j=Z,a=Z+i*A,b=x[Z],W=x[Z+A*(o-1)],c=(i+1)*b;
for(var Y=0;Y<i;Y++)c+=x[Z+Y*A];for(var Y=0;Y<=i;Y++){c+=x[a]-b;z[Z]=D[c];a+=A;Z+=A}for(var Y=0;Y<B;
Y++){var R=Y*A;c+=x[a+R]-x[j+R];z[Z+R]=D[c]}j+=B*A;a+=B*A;Z+=B*A;for(var Y=o-i;Y<o;Y++){c+=W-x[j];z[Z]=D[c];
j+=A;Z+=A}}};f.ZY.afY=function(x,z,A,o,i){var L=A<<2,B=i<<2,D=1/(i+i+1),Z=o-i-i-1,j=Z<<2,a=f.ZY.kx(i);
for(var F=0;F<A;F++){var b=F<<2,W=b,c=b+i*L,Y=b+L*(o-1),R=x[b],$=x[b+1],k=x[b+2],w=x[b+3],V=(i+1)*R,h=(i+1)*$,l=(i+1)*k,M=(i+1)*w;
for(var q=0;q<i;q++){var t=b+q*L;V+=x[t];h+=x[t+1];l+=x[t+2];M+=x[t+3]}for(var q=0;q<=i;q++){V+=x[c]-R;
z[b]=a[V];h+=x[c+1]-$;z[b+1]=a[h];l+=x[c+2]-k;z[b+2]=a[l];M+=x[c+3]-w;z[b+3]=a[M];c+=L;b+=L}for(var q=0;
q<Z;q++){var p=q*L;V+=x[c+p]-x[W+p];z[b+p]=a[V];h+=x[c+p+1]-x[W+p+1];z[b+p+1]=a[h];l+=x[c+p+2]-x[W+p+2];
z[b+p+2]=a[l];M+=x[c+p+3]-x[W+p+3];z[b+p+3]=a[M]}W+=Z*L;c+=Z*L;b+=Z*L;R=x[Y];$=x[Y+1];k=x[Y+2];w=x[Y+3];
for(var q=o-i;q<o;q++){V+=R-x[W];z[b]=a[V];h+=$-x[W+1];z[b+1]=a[h];l+=k-x[W+2];z[b+2]=a[l];M+=w-x[W+3];
z[b+3]=a[M];W+=L;b+=L}}};f.ZY.akf=function(x,z,A,o,i){var L=1/(i+i+1),B=o-i-i-1;for(var F=0;F<A;F++){var D=F,Z=D,j=D+i*A,a=x[D],b=x[D+A*(o-1)],W=(i+1)*a;
for(var c=0;c<i;c++)W+=x[D+c*A];for(var c=0;c<=i;c++){W+=x[j]-a;z[D]=W*L;j+=A;D+=A}for(var c=0;c<B;c++){var Y=c*A;
W+=x[j+Y]-x[Z+Y];z[D+Y]=W*L}Z+=B*A;j+=B*A;D+=B*A;for(var c=o-i;c<o;c++){W+=b-x[Z];z[D]=W*L;Z+=A;D+=A}}};
f.fE={};f.fE.C=function(x,z,A,o){var i=[];for(var L=0;L<4;L++)for(var B=0;B<4;B++)i.push(x+A*B/3,z+o*L/3);
return i};f.fE.AX=function(x,z){var A=x.slice(0);for(var F=0;F<4;F++)for(var o=0;o<4;o++){var i=2*(F*4+o),L=2*(o*4+(3-F));
if(z){var B=i;i=L;L=B}A[L]=x[i];A[L+1]=x[i+1]}return A};f.fE.Ma=f.C(0);f.fE.drawImage=function(x,z,A,o,i,L,B){var D=!1,Z=Date.now(),j=2,a=A+2*j,b=o+2*j,W=new av(j,j,A,o),c=W.clone(),w=50;
c.nw(j,j);var Y=f.fE.Ma;if(Y.length!=c.$()*4)Y=f.fE.Ma=f.C(c.$()*4);else Y.fill(0);f.mV(z,W,Y,c);if(D)console.log(Date.now()-Z,"copy rect");
Z=Date.now();f.h$(Y);if(D)console.log(Date.now()-Z,"multiply alpha");Z=Date.now();var R=[],$=[],k=[];
for(var V=0;V<w+1;V++)for(var h=0;h<w+1;h++){var l=h/w,M=V/w;R.push(a*l,b*M);if(h<w&&V<w){var q=V*(w+1)+h,t=q+1,p=q+w+1,E=p+1;
$.push(q,t,p);$.push(p,t,E)}var _=f.fE.acV(x,l,M);k.push(-_)}var S=R.slice(0);f.fE.D(x,S,new av(j,j,A,o));
f.p.D(S,new cb(1,0,0,1,-L.x,-L.y),S);if(D)console.log(Date.now()-Z,"mesh built");Z=Date.now();var y=L.m,v=L.n;
f.l4.X4(Y,a,b,i,y,v,R,S,k,$);if(D)console.log(Date.now()-Z,"rendered");Z=Date.now();f.n_(i);if(D)console.log(Date.now()-Z,"divided");
Z=Date.now()};f.fE.tC=new Array(10);f.fE.ajX=function(x,z){var A=200,o=0,i=0,L=1e9,B=f.fE.tC;for(var D=0;
D<A+1;D++)for(var Z=0;Z<A+1;Z++){var j=Z/A,a=D/A;f.fE.$I(x,j,a,B);var b=B[8]-z.x,W=B[9]-z.y,c=b*b+W*W;
if(c<L){L=c;o=j;i=a}}return[o,i]};f.fE.D=function(x,z,A){var o=A.x,i=A.y,L=1/A.m,B=1/A.n,D=f.fE.tC;for(var Z=0;
Z<z.length;Z+=2){var j=(z[Z]-o)*L,a=(z[Z+1]-i)*B;f.fE.$I(x,j,a,D);z[Z]=D[8];z[Z+1]=D[9]}};f.fE.acV=function(x,z,A){var o,i,L,B,D=f.fE.tC;
f.fE.apH(x,z,A,D);o=D[8];i=D[9];f.fE.alY(x,z,A,D);L=D[8];B=D[9];return o*B-i*L};f.fE.$I=function(x,z,A,o){f.fE.s_(o,0,A);
f.fE.s_(o,4,z);f.fE.pR(x,o)};f.fE.apH=function(x,z,A,o){f.fE.s_(o,0,A);f.fE.G7(o,4,z);f.fE.pR(x,o)};
f.fE.alY=function(x,z,A,o){f.fE.G7(o,0,A);f.fE.s_(o,4,z);f.fE.pR(x,o)};f.fE.G7=function(x,F,z){var A=1-z;
x[F]=-3*(A*A);x[F+1]=3*(A*A)-6*(z*A);x[F+2]=6*(z*A)-3*(z*z);x[F+3]=3*(z*z)};f.fE.s_=function(x,F,z){var A=1-z;
x[F]=A*(A*A);x[F+1]=3*z*(A*A);x[F+2]=3*(z*z)*A;x[F+3]=z*z*z};f.fE.pR=function(x,z){var A=0,o=0,i=0,L=z[0],B=z[1],D=z[2],Z=z[3],j=z[4],a=z[5],b=z[6],W=z[7];
i=L*j;A+=x[0]*i;o+=x[1]*i;i=L*a;A+=x[2]*i;o+=x[3]*i;i=L*b;A+=x[4]*i;o+=x[5]*i;i=L*W;A+=x[6]*i;o+=x[7]*i;
i=B*j;A+=x[8]*i;o+=x[9]*i;i=B*a;A+=x[10]*i;o+=x[11]*i;i=B*b;A+=x[12]*i;o+=x[13]*i;i=B*W;A+=x[14]*i;o+=x[15]*i;
i=D*j;A+=x[16]*i;o+=x[17]*i;i=D*a;A+=x[18]*i;o+=x[19]*i;i=D*b;A+=x[20]*i;o+=x[21]*i;i=D*W;A+=x[22]*i;
o+=x[23]*i;i=Z*j;A+=x[24]*i;o+=x[25]*i;i=Z*a;A+=x[26]*i;o+=x[27]*i;i=Z*b;A+=x[28]*i;o+=x[29]*i;i=Z*W;
A+=x[30]*i;o+=x[31]*i;z[8]=A;z[9]=o};f.yg={};f.yg.a1A=function(x,z,A){var o=Date.now(),i=new ArrayBuffer(z*A*16),L=f.yg.ah3(x,z,A,i),B=f.yg.ab6(z,A,i);
return{ki:B,dc:L}};f.yg.au3=function(x,z,A){var o=Math.round(x.length/8),i=new Uint32Array(o),L=new Uint8Array(o),B=new Uint32Array(o);
f.OD(i,4294967295,0);i[A]=0;var D=new eO(o);D.push(A,i[A]);var Z={ki:x,dc:z,iU:i,zE:L,Hv:B,KI:D,ank:A};
return Z};f.yg.dZ=function(x,z){var A=x.ki,o=x.dc,i=x.iU,L=x.zE,B=x.Hv,D=x.KI;while(!D.WT()&&(z==null||L[z]==0)){var Z=D.pop();
L[Z]=1;for(var F=0;F<8;F++){var j=A[8*Z+F],a=Z+j;if(j==0||L[a])continue;var b=i[Z]+o[8*Z+F];if(D.contains(a)&&b<i[a])D.remove(a,i[a]);
if(!D.contains(a)){i[a]=b;B[a]=Z;D.push(a,i[a])}}}};function eO(x){this.Hz=new Uint32Array(x);this.list=[];
this.jh=0;this.wD=4294967295}eO.prototype.WT=function(){return this.jh==0};eO.prototype.push=function(x,z){var A=this.list;
if(A[z]==null)A[z]=[];A[z].push(x);this.jh++;this.Hz[x]=A[z].length-1+1;this.wD=Math.min(this.wD,z)};
eO.prototype.pop=function(){this.jh--;var x=this.list,z=this.wD,A=x[z].pop();if(x[z].length==0)x[z]=null;
this.Yi();this.Hz[A]=0;return A};eO.prototype.contains=function(x){return this.Hz[x]!=0};eO.prototype.remove=function(x,z){this.jh--;
var A=this.list,F=this.Hz[x]-1;if(F==A[z].length-1)A[z].pop();else{var o=A[z].pop();A[z][F]=o;this.Hz[o]=F+1}if(A[z].length==0)A[z]=null;
this.Hz[x]=0;this.Yi()};eO.prototype.Yi=function(){if(this.jh==0){this.wD=4294967295;return}var x=this.wD,z=this.list;
while(z[x]==null)x++;this.wD=x};f.yg.a1h=function(x,z,A,o){var i=new Int16Array(o);for(var L=0;L<A;L++)for(var B=0;
B<z;B++){var F=L*z+B,D=0;if(1<B&&B<z-2&&1<L&&L<A-2){D+=x[F-z-z];D+=x[F-z-1]+2*x[F-z]+x[F-z+1];D+=x[F-2]+2*x[F-1]-16*x[F]+2*x[F+1]+x[F+2];
D+=x[F+z-1]+2*x[F+z]+x[F+z+1];D+=x[F+z+z]}else D=-16*x[F];i[F]=D}return i};f.yg.a2D=function(x,z,A,o){if(o==null)o=128;
var i=new Uint8Array(z*A);for(var L=1;L<A-1;L++)for(var B=1;B<z-1;B++){var F=L*z+B;i[F]=f.yg.akr(x[F],x[F-1],x[F+1],x[F-z],x[F+z],o)}return i};
f.yg.akr=function(x,z,A,o,i,L){var B=Math.abs(x);return x*z<0&&B<Math.abs(z)&&Math.abs(z-x)>L||x*A<0&&B<Math.abs(A)&&Math.abs(A-x)>L||x*o<0&&B<Math.abs(o)&&Math.abs(o-x)>L||x*i<0&&B<Math.abs(i)&&Math.abs(i-x)>L?1:0};
f.yg.acC=function(x,z,A,o){var i=new Float32Array(o),L=0;new Uint32Array(o).fill(0);for(var B=0;B<A;
B++)for(var D=0;D<z;D++){var Z=0,j=0,F=B*z+D,a=F*3;if(0<D&&D<z-1)Z=x[F+1]-x[F-1];if(0<B&&B<A-1)j=x[F+z]-x[F-z];
var b=i[a+2]=Math.sqrt(Z*Z+j*j);if(b!=0){var W=1/b;i[a]=Z*W;i[a+1]=j*W}if(b>L)L=b}var c=z*A,Y=L==0?0:1/L;
for(var F=0;F<c;F++)i[F*3+2]=1-i[F*3+2]*Y;return i};f.yg.afq=function(x,z,A){return A[~~((.5+.5*x)*255)]+A[~~((.5+.5*z)*255)]};
f.yg.ah3=function(x,z,A,o){var i=Date.now(),L=f.yg.a1h(x,z,A,o),B=f.yg.a2D(L,z,A),D=f.yg.acC(x,z,A,o),Z=new Float32Array(256);
for(var F=0;F<256;F++)Z[F]=Math.acos(-1+2*F/255)*(.95/Math.PI);var j=[-1,0,1,1,1,0,-1,-1],a=[-1,-1,-1,0,1,1,1,0];
for(var F=0;F<8;F++){var b=1/Math.sqrt(j[F]*j[F]+a[F]*a[F]);j[F]*=b;a[F]*=b}var W=[j[0],a[0],j[1],a[1],j[2],a[2],j[3],a[3]],c=[-z-1,-z,-z+1,1],Y=new Uint8Array(z*A*8);
new Uint32Array(Y.buffer).fill(4294967295);var R=z*A;for(var $=1;$<A-1;$++)for(var k=1;k<z-1;k++){var w=$*z+k,V=1-B[w],h=D[w*3+2],l=D[3*w+1],M=-D[3*w];
for(var q=0;q<4;q++){var t=w+c[q];f.yg.arX(w,t,q,Y,B,D,V,h,l,M,W,Z)}}return Y};f.yg.arX=function(x,z,A,o,i,L,B,D,Z,j,a,b){var W=1-i[z],c=(A&1)==0?1:Math.SQRT1_2,Y=L[z*3+2]*c,R=L[3*z+1],$=-L[3*z],k=D*c,w=a[A+A],V=a[A+A+1],h=Z*w+j*V,l=R*w+$*V;
if(h+l<0){h=-h;l=-l}var M=f.yg.afq(h,l,b);o[(x<<3)+A]=f.yg.Cj(W,M,Y);o[(z<<3)+A+4]=f.yg.Cj(B,M,k)};f.yg.Cj=function(x,z,A){return 1+~~(.5+20*(.43*x+.43*z+.14*A))};
f.yg.ab6=function(x,z,A){var o=new Int16Array(A),i=o,F=0,L=0;new Uint32Array(A).fill(0);for(var B=0;
B<z;B++)for(var D=0;D<x;D++){if(B>0&&D>0)i[L+0]=-x-1;if(B>0)i[L+1]=-x;if(B>0&&D<x-1)i[L+2]=-x+1;if(D<x-1)i[L+3]=1;
if(B<z-1&&D<x-1)i[L+4]=x+1;if(B<z-1)i[L+5]=x;if(B<z-1&&D>0)i[L+6]=x-1;if(D>0)i[L+7]=-1;F++;L+=8}return o};
f.Nr={};f.Nr.e7=function(x){var z=x.slice(0),A=0;for(var F=0;F<x.length;F++)A+=x[F];for(var F=0;F<x.length;
F++)z[F]/=A;return z};f.Nr.jp=[f.Nr.e7([1,2,1,2,16,2,1,2,1]),f.Nr.e7([1,2,1,2,4,2,1,2,1]),f.Nr.e7([0,-1,0,-1,8,-1,0,-1,0]),f.Nr.e7([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
f.Nr.fr=function(x,z,A,o,i,L,B,D){if(B==null)B=!1;if(D==null)D=!1;var Z=Math.floor(Math.sqrt(i.length)),j=Z-1>>>1,a=new Uint32Array(x.buffer),z=new Uint8ClampedArray(z.buffer);
for(var F=0;F<o;F++)for(var b=0;b<A;b++){var W=0,c=0,Y=0,R=0;for(var $=0;$<Z;$++)for(var k=0;k<Z;k++){var w=i[$*Z+k];
if(w==0)continue;var V=b-j+k,h=F-j+$;if(V<0)V=0;else if(V>A-1)V=A-1;if(h<0)h=0;else if(h>o-1)h=o-1;if(D&&a[h*A+V]>>>24==0){h=F;
V=b}var l=a[h*A+V];W+=(l&255)*w;c+=(l>>>8&255)*w;Y+=(l>>>16&255)*w;R+=(l>>>24&255)*w}if(B){if(W<0)W=-W;
if(c<0)c=-c;if(Y<0)Y=-Y;if(R<0)R=-R}if(D){W=Math.max(0,Math.min(255,W));c=Math.max(0,Math.min(255,c));
Y=Math.max(0,Math.min(255,Y));R=Math.max(0,Math.min(255,R))}var M=F*A+b<<2;z[M]=~~(.5+W);z[M+1]=~~(.5+c);
z[M+2]=~~(.5+Y);z[M+3]=255-L&z[M+3]|L&~~(.5+R)}};f.Nr.M_=function(x,z,A,o){var i=x.length,L=new Uint8Array(i);
f.Nr.fr(x,z,A,o,f.Nr.jp[4],0,!0);f.Nr.fr(x,L,A,o,f.Nr.jp[5],0,!0);for(var F=0;F<i;F+=4){var B=z[F],D=z[F+1],Z=z[F+2],j=z[F+3],a=L[F],b=L[F+1],W=L[F+2],c=L[F+3];
z[F]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+a*a)));z[F+1]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+b*b)));
z[F+2]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+W*W)))}};f.Nr.qa=function(x,z,A,o){var i=x.length,L=new Uint8Array(i);
f.Nr.fk(x,z,A,o,f.Nr.jp[4],!0);f.Nr.fk(x,L,A,o,f.Nr.jp[5],!0);for(var F=0;F<i;F++){var B=z[F],D=L[F];
z[F]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+D*D)))}};f.Nr.fk=function(x,z,A,o,i,L){z=new Uint8ClampedArray(z.buffer);
var B=[-A-1,-A,-A+1,-1,0,1,A-1,A,A+1],D=o-1,Z=A-1;for(var F=1;F<D;F++)for(var j=1;j<Z;j++){var a=F*A+j,b=f.Nr.EB(x,a,A,i);
if(L){if(b<0)b=-b}z[a]=~~(b+.5)}};f.Nr.EB=function(x,z,A,o){return x[z-A-1]*o[0]+x[z-A]*o[1]+x[z-A+1]*o[2]+x[z-1]*o[3]+x[z]*o[4]+x[z+1]*o[5]+x[z+A-1]*o[6]+x[z+A]*o[7]+x[z+A+1]*o[8]};
f.Nr.OO=function(x,z,A,o,i){var L=[-A-1,-A,-A+1,-1,0,1,A-1,A,A+1],B=o-1,D=A-1;for(var F=1;F<B;F++)for(var Z=1;
Z<D;Z++){var j=F*A+Z;z[j]=f.Nr.a0L(x,j,A,i)}};f.Nr.a0L=function(x,z,A,o){return x[z-A-1]*o[0]+x[z-A]*o[1]+x[z-A+1]*o[2]+x[z-1]*o[3]+x[z]*o[4]+x[z+1]*o[5]+x[z+A-1]*o[6]+x[z+A]*o[7]+x[z+A+1]*o[8]};
f._8={};f._8.s3=function(){function x(B,D,Z,j,a,b,W){if(a==0){D.set(B);return}var c=f.C(Z*j),Y=f.C(Z*j);
if(f.Tp(B)){z(B,D,Z,j,a,b,W);var R=[f._8.hT,f._8.z2],$=R.indexOf(b),k=$!=-1?R[1-$]:b;f.XN(B,c,3);f._8.ie(c,Y,Z,j,a,k,W);
f.c8(Y,D,3)}else{for(var F=0;F<3;F++){f.XN(B,c,F);f._8.ie(c,Y,Z,j,a,b,W);f.c8(Y,D,F)}}}function z(B,D,Z,j,a,b,W){var c=0,Y=new ArrayBuffer(512*4*3),R=[new Int32Array(Y,0),new Int32Array(Y,2048),new Int32Array(Y,2*2048)],$=1+2*Math.round(Math.sqrt(a)),k=$>>>1,w=new Array($),V=new Array($);
for(var F=0;F<$;F++){var Y=new ArrayBuffer(512*4*3);w[F]=[new Int32Array(Y,0),new Int32Array(Y,2048),new Int32Array(Y,2*2048)];
V[F]=w[F][0]}var h=b[0],l=b[1],M=R[0];for(var q=0;q<Z;q++)if(q<a||q>Z-a-$-1){M.fill(0);var t=Math.max(q-a,0),p=Math.min(Z,q+a+1),E=p-t;
for(var _=0;_<a;_++)o(M,B,_*Z+t,_*Z+p,1);for(var _=0;_<j;_++){var S=_-a-1,y=_+a;if(y<j)o(M,B,y*Z+t,y*Z+p,1);
if(S>=0)o(M,B,S*Z+t,S*Z+p,-1);var v=_*Z+q<<2;c=M[300];if(c!=0)for(var F=0;F<3;F++)D[v+F]=h(R[F],B[v+F],c,W)}}else{for(var F=0;
F<$;F++)V[F].fill(0);var t=q-a+k,p=q+a+1+k;for(var _=0;_<a;_++)A(V,B,_*Z+t,_*Z+p,1,k);for(var _=0;_<j;
_++){var S=_-a-1,y=_+a;if(S>=0)A(V,B,S*Z+t,S*Z+p,-1,k);if(y<j)A(V,B,y*Z+t,y*Z+p,1,k);var r=w[k];c=r[0][300];
for(var F=0;F<k;F++){var K=k-1-F,s=k+1+F,P=w[K],d=w[s],X=c+P[0][300],U=c+d[0][300],n=_*Z+q+K<<2,e=_*Z+q+s<<2;
if(X!=0)for(var J=0;J<3;J++)D[n+J]=l(r[J],P[J],B[n+J],X,W);if(U!=0)for(var J=0;J<3;J++)D[e+J]=l(r[J],d[J],B[e+J],U,W)}var v=_*Z+q+k<<2;
if(c!=0)for(var J=0;J<3;J++)D[v+J]=h(r[J],B[v+J],c,W)}q+=$-1}}function A(B,D,Z,j,a,b){var W=i,c=Z<<2,Y=j<<2;
W(B[b-1],D,Z-1<<2,a);W(B[b-1],D,j-1<<2,-a);W(B[b+1],D,j<<2,a);W(B[b+1],D,Z<<2,-a);for(var F=1;F<b;F++){var R=B[b-F-1],$=B[b+F+1];
for(var k=0;k<=F;k++){var w=k<<2;W(R,D,Z-1-k<<2,a);W(R,D,j-1-k<<2,-a);W($,D,j+k<<2,a);W($,D,Z+k<<2,-a)}}o(B[b],D,Z,j,a)}function o(B,D,F,Z,j){var a=F<<2,b=Z<<2;
while(a<b){i(B,D,a,j);a+=4}}function i(B,D,Z,j){var a=j*D[Z+3];B[300]+=a;L(B,D[Z],0,a);L(B,D[Z+1],512,a);
L(B,D[Z+2],1024,a)}function L(B,D,Z,j){B[Z|D]+=j;B[Z|256|D>>>4]+=j}return x}();f._8.ie=function(){function x(b,W,c,Y,R,$,k){if(R==0){W.set(b);
return}if(R<=80)z(b,W,c,Y,R,$,k);else L(b,W,c,Y,R,$,k)}function z(b,W,c,Y,R,$,k){var w=0,V=new Int32Array(512),h=1+2*Math.round(Math.sqrt(R)),l=h>>>1,M=new Array(h);
for(var F=0;F<h;F++)M[F]=new Int32Array(512);var q=$[0],t=$[1];for(var p=0;p<c;p++)if(p<R||p>c-R-h-1){V.fill(0);
w=0;var E=Math.max(p-R,0),_=Math.min(c,p+R+1),S=_-E;for(var y=0;y<R;y++){w+=S;o(V,b,y*c+E,y*c+_,1)}for(var y=0;
y<Y;y++){var v=y-R-1,r=y+R;if(v>=0){w-=S;o(V,b,v*c+E,v*c+_,-1)}if(r<Y){w+=S;o(V,b,r*c+E,r*c+_,1)}var K=q(V,b[y*c+p],w,k);
W[y*c+p]=K}}else{for(var F=0;F<h;F++)M[F].fill(0);w=0;var E=p-R+l,_=p+R+1+l,S=_-E;for(var y=0;y<R;y++){w+=S;
A(M,b,y*c+E,y*c+_,1,l)}for(var y=0;y<Y;y++){var v=y-R-1,r=y+R;if(v>=0){w-=S;A(M,b,v*c+E,v*c+_,-1,l)}if(r<Y){w+=S;
A(M,b,r*c+E,r*c+_,1,l)}for(var F=0;F<l;F++){var s=l-1-F,P=l+1+F;W[y*c+p+s]=t(M[l],M[s],b[y*c+p+s],w,k);
W[y*c+p+P]=t(M[l],M[P],b[y*c+p+P],w,k)}W[y*c+p+l]=q(M[l],b[y*c+p+l],w,k)}p+=h-1}}function A(b,W,c,Y,R,$){var k=i;
k(b[$-1],W[c-1],0,R);k(b[$-1],W[Y-1],0,-R);k(b[$+1],W[Y],0,R);k(b[$+1],W[c],0,-R);for(var F=1;F<$;F++){var w=b[$-F-1],V=b[$+F+1];
for(var h=0;h<=F;h++){k(w,W[c-1-h],0,R);k(w,W[Y-1-h],0,-R);k(V,W[Y+h],0,R);k(V,W[c+h],0,-R)}}o(b[$],W,c,Y,R)}function o(b,W,F,c,Y){while(F<c)i(b,W[F++],0,Y)}function i(b,W,c,Y){b[c|W]+=Y;
b[c|256|W>>>4]+=Y}function L(b,W,c,Y,R,$,k){var w=0,V=new Int32Array(512),h=new Int32Array(1*c),l=new Int32Array(512*c),M=Math.min(R,c),q=Math.min(R,Y),t=$[0];
for(var p=0;p<q;p++)B(l,h,b,c,p,1);for(var p=0;p<Y;p++){if(p+R<Y)B(l,h,b,c,p+R,1);if(p-R-1>=0)B(l,h,b,c,p-R-1,-1);
V.fill(0);w=0;for(var E=0;E<M;E++){w+=h[E];D(V,l,E)}for(var E=0;E<c;E++){var _=E-R-1,S=E+R;if(_>=0&&h[_]!=0){w-=h[_];
Z(V,l,_)}if(S<c&&h[S]!=0){w+=h[S];D(V,l,S)}var y=w==0?0:t(V,b[p*c+E],w,k);W[p*c+E]=y}}}function B(b,W,c,Y,R,$){var F=R*Y;
for(var k=0;k<Y;k++){i(b,c[F+k],k<<9,$);W[k]+=$}}function D(b,W,c){for(var F=0;F<16;F++){var Y=W[c<<9|256|F];
if(Y==0)continue;b[256|F]+=Y;var R=F<<4,$=c<<9|R;j(b,W,R,$);j(b,W,R+4,$+4);j(b,W,R+8,$+8);j(b,W,R+12,$+12)}}function Z(b,W,c){for(var F=0;
F<16;F++){var Y=W[c<<9|256|F];if(Y==0)continue;b[256|F]-=Y;var R=F<<4,$=c<<9|R;a(b,W,R,$);a(b,W,R+4,$+4);
a(b,W,R+8,$+8);a(b,W,R+12,$+12)}}function j(b,W,c,Y){b[c]+=W[Y];b[c+1]+=W[Y+1];b[c+2]+=W[Y+2];b[c+3]+=W[Y+3]}function a(b,W,c,Y){b[c]-=W[Y];
b[c+1]-=W[Y+1];b[c+2]-=W[Y+2];b[c+3]-=W[Y+3]}return x}();f._8.z2=[function(x,z,A,o){var F=15;while(x[256|F]==0&&F>0)F--;
F=(F<<4)+15;while(x[F]==0&&F>0)F--;return F},function(x,z,A,o,i){var F=15;while(x[256|F]+z[256|F]==0&&F>0)F--;
F=(F<<4)+15;while(x[F]+z[F]==0&&F>0)F--;return F}];f._8.hT=[function(x,z,A,o){var F=0;while(x[256|F]==0&&F<15)F++;
F=F<<4;while(x[F]==0&&F<255)F++;return F},function(x,z,A,o,i){var F=0;while(x[256|F]+z[256|F]==0&&F<15)F++;
F=F<<4;while(x[F]+z[F]==0&&F<255)F++;return F}];f._8.Sz=.5;f._8.pw=[function(x,z,A,o){var i=~~(.5+f._8.Sz*A),L=0,F=256;
while(L+x[F]<i)L+=x[F++];F=F-256<<4;while(L<i)L+=x[F++];return F-1},function(x,z,A,o,i){var L=~~(.5+f._8.Sz*o),B=0,F=256;
while(B+x[F]+z[F]<L){B+=x[F]+z[F];F++}F=F-256<<4;while(B<L){B+=x[F]+z[F];F++}return F-1}];f._8.Tw=[function(x,z,A,o){var i=o[0],L=0,B=0,F=Math.max(0,z-i),D=Math.min(256,z+i+1);
while(F<D){var Z=x[F];L+=F*Z;B+=Z;F++}return B==0?0:L/B},function(x,z,A,o,i){var L=i[0],B=0,D=0,F=Math.max(0,A-L),Z=Math.min(256,A+L+1);
while(F<Z){var j=x[F]+z[F];B+=F*j;D+=j;F++}return D==0?0:B/D}];f.P={};f.P.hw=function(x){var z=Q.S.z5(x.Trnf),A=x.Sz.v,o=f.P.p0(z,new av(0,0,A.Wdth.v,A.Hght.v));
return f.P.eA(o)};f.P.p0=function(x,z){var A=x[0],o=x[1],i=x[2],L=x[3],B=x[6],D=x[7],Z=x[4],j=x[5],a=0,b=0,W=1,c=0,Y=0,R=1,$=1,k=1;
if(z){a=z.x;b=z.y;W=z.x+z.m;c=z.y;Y=z.x;R=z.y+z.n;$=z.x+z.m;k=z.y+z.n}return f.P.Bt(x,[a,b,W,c,$,k,Y,R])};
f.P.b3=function(x){function z(i,L){for(var F=0;F<L.length;F+=2)if(!A(i,L[F],L[F+1]))return!1;return!0}function A(i,L,B){return i[2*L]==i[2*B]&&i[2*L+1]==i[2*B+1]}var o=0;
if(z(x,[0,1,2,3]))o+=1;if(z(x,[0,3,1,2]))o+=2;return o};f.P.Bt=function(x,z){function A(K,F,s){var y=K[F*2]-K[s*2],v=K[F*2+1]-K[s*2+1];
return Math.sqrt(y*y+v*v)}var o=x[0],i=x[1],L=x[2],B=x[3],D=x[6],Z=x[7],j=x[4],a=x[5],b=z[0],W=z[1],c=z[2],Y=z[3],R=z[6],$=z[7],k=z[4],w=z[5],V=[[b,W,1,0,0,0,-b*o,-W*o,o],[0,0,0,b,W,1,-b*i,-W*i,i],[c,Y,1,0,0,0,-c*L,-Y*L,L],[0,0,0,c,Y,1,-c*B,-Y*B,B],[R,$,1,0,0,0,-R*D,-$*D,D],[0,0,0,R,$,1,-R*Z,-$*Z,Z],[k,w,1,0,0,0,-k*j,-w*j,j],[0,0,0,k,w,1,-k*a,-w*a,a]],h=[0,0,0,0,0,0,0,0],l=f.Ph.qJ(V,h);
if(l!=0){h=[0,0,0,0,0,0,0,0];var M=f.P.b3(x),q=f.P.b3(z);if(M==q&&M!=0){var t=M==1,p=t?3:1,E=A(x,0,p),_=A(z,0,p),S=_/E,y=x[2*p]-x[0],v=x[2*p+1]-x[1],r=new cb;
r.translate(-o,-i);r.rotate(Math.atan2(v,y)-(t?Math.PI/2:0));if(t)r.scale(1,S);else r.scale(S,1);r.translate(b,W);
r.Qs();h=f.P.TX(r)}}return h};f.P.Vo=function(x){return Math.abs(x[6])<1e-10&&Math.abs(x[7])<1e-10};
f.P.eA=function(x){return new cb(x[0],x[3],x[1],x[4],x[2],x[5])};f.P.TX=function(x){return[x.xc,x.Pm,x.ZT,x.s,x.y9,x._s,0,0]};
f.P.D=function(x,z){var A=new Float64Array(2);for(var o=0;o<z.length;o+=2){var i=z[o],L=z[o+1];f.P.j6(i,L,x,A);
z[o]=A[0];z[o+1]=A[1]}};f.P.j6=function(x,z,A,o){var i=1/(A[6]*x+A[7]*z+1);o[0]=(A[0]*x+A[1]*z+A[2])*i;
o[1]=(A[3]*x+A[4]*z+A[5])*i};f.P.a7C=function(x,z){var A=new Float64Array(2);f.P.j6(z.x,z.y,x,A);return new iL(A[0],A[1])};
f.P.dS=function(x,z,A,o){x=new Uint32Array(x.buffer);z=new Uint32Array(z.buffer);for(var i=0;i<o;i++){for(var L=0;
L<A;L++){z[L*o+i]=x[i*A+L]}}};f.P.S1=function(x,z,A,o){x=new Uint32Array(x.buffer);z=new Uint32Array(z.buffer);
for(var i=0;i<o;i++){for(var L=0;L<A;L++){z[i*A+L]=x[i*A+A-1-L]}}};f.P.acb=function(x,z,A,o){x=new Uint32Array(x.buffer);
z=new Uint32Array(z.buffer);for(var i=0;i<o;i++){for(var L=0;L<A;L++){z[i*A+L]=x[(o-1-i)*A+L]}}};f.P._F=function(x){return Math.abs(x[6])<1e-9&&Math.abs(x[7])<1e-9};
f.P.wH=function(x){return Math.abs(x[0])<1e-9&&Math.abs(x[4])<1e-9||Math.abs(x[1])<1e-9&&Math.abs(x[3])<1e-9};
f.P.drawImage=function(x,z,A,o,i,L,B,D,Z){if(B==null)B=!1;if(D==null)D=!1;var j=f.P.Qs(x),a=!0,b=0;for(var F=0;
F<8;F++){var W=Math.round(x[F]);if(F!=2&&F!=5)b+=Math.abs(W);if(Math.abs(W-x[F])>1e-9)a=!1}var c=f.P._F(x),Y=f.P.wH(x)&&c,R=Y?1:0;
if(B||a&&b==A+o&&c){f.P.anK(j,z,A,o,i,L,D,c,Z);return}var $=L.m,k=L.n,w=new Float64Array(2);i=new Uint32Array(i.buffer);
z=new Uint32Array(z.buffer);for(var V=0;V<k;V++)for(var h=0;h<$;h++){var l=V*$+h,M,q,t,p,X=0,U=0,n=0,e=0;
i[l]=0;var E=h+L.x+.5,_=V+L.y+.5;M=E;q=_;t=j;var S=t[0]*M+t[1]*q+t[2],y=t[3]*M+t[4]*q+t[5];if(!c){p=1/(t[6]*M+t[7]*q+1);
S*=p;y*=p}var v=S*A,r=y*o,K=v<-1||v>A+1||r<-1||r>o+1;if(D){v=Math.max(.001,Math.min(A-1,v));r=Math.max(.001,Math.min(o-1,r))}else if(K)continue;
var s=f.P.a2J(x,A,o,E,_,S,y),P=Math.round(s*2.3);if(s<1.1){f.P.N5(v,r,z,A,o,i,l,R);continue}if(!D&&(v<.6||v>A-.6||r<.6||r>o-.6)){P=Math.max(P,5)}if(D&&K)P=1;
var d=1/P,J=L.x+h,C=L.y+V;t=j;for(var F=0;F<P;F++)for(var H=0;H<P;H++){M=J+(F+.5)*d;q=C+(H+.5)*d;var v=t[0]*M+t[1]*q+t[2],r=t[3]*M+t[4]*q+t[5];
if(!c){p=1/(t[6]*M+t[7]*q+1);v*=p;r*=p}if(D){v=Math.max(.001,Math.min(.999,v));r=Math.max(.001,Math.min(.999,r))}else if(v<0||v>=1||r<0||r>=1)continue;
v=Math.floor(v*A);r=Math.floor(r*o);var u=r*A+v,bc=z[u],jK=bc>>>24;X+=(bc&255)*jK;U+=(bc>>>8&255)*jK;
n+=(bc>>>16&255)*jK;e+=jK}if(e!=0){var N=1/e;X=~~(X*N+.5);U=~~(U*N+.5);n=~~(n*N+.5);e=~~(e*d*d+.5);i[l]=e<<24|n<<16|U<<8|X}}};
f.P.a2J=function(x,z,A,o,i,L,B){var D=f.P.Vr(x,o,i,L+1/z,B),Z=f.P.Vr(x,o,i,L,B+1/A);return 1/Math.sqrt(Math.max(D,Z))};
f.P.Vr=function(x,z,A,o,i){var L=1/(x[6]*o+x[7]*i+1),B=(x[0]*o+x[1]*i+x[2])*L-z,D=(x[3]*o+x[4]*i+x[5])*L-A;
return B*B+D*D};f.P.anK=function(x,z,A,o,i,L,B,D,Z){if(D&&!B&&L.$()>4e6&&Z){f.P.arp(x,z,A,o,i,L,B,D,Z);
return}var j=L.x+L.m,a=L.y+L.n,b=0,W=new Uint32Array(i.buffer),c=new Uint32Array(z.buffer),Y=x[0]*A,R=x[1]*A,$=x[2]*A,k=x[3]*o,w=x[4]*o,V=x[5]*o,h=x[6],l=x[7];
if(D&&!B)for(var M=L.y+.5;M<a;M++)for(var q=L.x+.5;q<j;q++){var t=Y*q+R*M+$,p=k*q+w*M+V;if(0<t&&t<A&&0<p&&p<o){var E=~~p*A+~~t;
W[b]=c[E]}else W[b]=0;b++}else for(var M=L.y+.5;M<a;M++)for(var q=L.x+.5;q<j;q++){var _=1/(h*q+l*M+1),t=(Y*q+R*M+$)*_,p=(k*q+w*M+V)*_;
if(B){t=Math.max(.001,Math.min(A-1,t));p=Math.max(.001,Math.min(o-1,p))}if(0<t&&t<A&&0<p&&p<o){var E=Math.floor(p)*A+Math.floor(t);
W[b]=c[E]}else W[b]=0;b++}};f.P.arp=function(x,z,A,o,i,L,B,D,Z){var j=new Uint32Array(i.buffer),a=new Uint32Array(z.buffer),l=0;
if(Z&&(L.m&3)!=0)throw"e";var b=x[0]*A,W=x[1]*A,c=x[2]*A,Y=x[3]*o,R=x[4]*o,$=x[5]*o,k=x[6],w=x[7],V=L.m,h=L.n,M=L.x+.5,q=L.y+.5,t=(V>>>2<<2)-1e-9,p=-.1+(h>>>1<<1)-1e-9,E=~~A,_=b==0?0:1/b,S=Y==0?0:1/Y;
for(var y=0;y<h;y++){var v=M*b+W*(y+q)+c,r=M*Y+R*(y+q)+$,K=0,s=V;if(b==0){}else if(_>0){K=Math.max(K,-v*_);
s=Math.min(s,(A-v)*_)}else{s=Math.min(s,-v*_);K=Math.max(K,(A-v)*_)}if(Y==0){}else if(S>0){K=Math.max(K,-r*S);
s=Math.min(s,(o-r)*S)}else{s=Math.min(s,-r*S);K=Math.max(K,(o-r)*S)}if(s<0)s=0;if(K>s)K=s;K=Math.ceil(K);
s=~~s;l=~~(y*V);for(var P=0;P<K;P++)j[l++]=0;for(var P=K;P<s;P+=4){var d=b*P+v,X=Y*P+r,U=~~X*E+~~d;j[l++]=j[l++]=j[l++]=j[l++]=a[U]}for(var P=s;
P<V;P++)j[l++]=0}};f.P.Qs=function(x){var z=x[4]-x[5]*x[7],A=x[2]*x[7]-x[1],o=x[1]*x[5]-x[2]*x[4],i=x[5]*x[6]-x[3],L=x[0]-x[2]*x[6],B=x[3]*x[2]-x[0]*x[5],D=x[3]*x[7]-x[4]*x[6],Z=x[1]*x[6]-x[0]*x[7],j=1/(x[0]*x[4]-x[1]*x[3]);
return[z*j,A*j,o*j,i*j,L*j,B*j,D*j,Z*j]};f.P.a7=function(x,z){var A=x[0],o=x[1],i=x[2],L=x[3],B=x[4],D=x[5],Z=x[6],j=x[7],a=z[0],b=z[1],W=z[2],c=z[3],Y=z[4],R=z[5],$=z[6],k=z[7],w=[A*a+o*c+i*$,A*b+o*Y+i*k,A*W+o*R+i,L*a+B*c+D*$,L*b+B*Y+D*k,L*W+B*R+D,Z*a+j*c+$,Z*b+j*Y+k],V=1/(Z*W+j*R+1);
for(var F=0;F<8;F++)w[F]*=V;return w};f.P.N5=function(x,z,A,o,i,L,B,D){var Z=x,j=z,W=0,c=0,Y=0,R=0;x-=.499999;
z-=.499999;var a=Math.floor(x),b=Math.floor(z);if(D==0){var F=b*o+a,$=a>=0&&a<o,k=a+1>=0&&a+1<o,w=b>=0&&b<i,V=b+1>=0&&b+1<i;
if($&&w)W=A[F];if(k&&w)c=A[F+1];if($&&V)Y=A[F+o];if(k&&V)R=A[F+o+1]}else if(D==1){var h=a<0?0:a>o-1?o-1:a,l=a<-1?0:a>o-2?o-1:a+1,M=b<0?0:b>i-1?i-1:b,q=b<-1?0:b>i-2?i-1:b+1;
W=A[M*o+h];c=A[M*o+l];Y=A[q*o+h];R=A[q*o+l]}else{var h=(a+50*o)%o,l=(a+50*o)%o,M=(b+50*i)%i,q=(b+50*i)%i;
W=A[M*o+h];c=A[M*o+l];Y=A[q*o+h];R=A[q*o+l]}var t=x-a,p=z-b,E=(1-p)*(1-t)*(W>>>24),_=(1-p)*t*(c>>>24),S=p*(1-t)*(Y>>>24),y=p*t*(R>>>24),v=E+_+S+y,r=E*(W&255)+_*(c&255)+S*(Y&255)+y*(R&255),K=E*(W>>>8&255)+_*(c>>>8&255)+S*(Y>>>8&255)+y*(R>>>8&255),s=E*(W>>>16&255)+_*(c>>>16&255)+S*(Y>>>16&255)+y*(R>>>16&255);
if(v==0)L[B]=0;else{var P=1/v;r=~~(r*P+.5);K=~~(K*P+.5);s=~~(s*P+.5);v=~~(v+.5);L[B]=v<<24|s<<16|K<<8|r}};
f.P.P5=function(x,z,A,o,i,L){var B=x-.499999,D=z-.499999,Z=~~B,j=~~D,a=B-Z,b=D-j,W=(1-b)*(1-a),c=(1-b)*a,Y=b*(1-a),R=b*a,$=j*o+Z<<2,k=(j+1)*o+Z<<2,w=W*A[$]+c*A[$+4]+Y*A[k]+R*A[k+4],V=W*A[$+1]+c*A[$+5]+Y*A[k+1]+R*A[k+5],h=W*A[$+2]+c*A[$+6]+Y*A[k+2]+R*A[k+6],l=W*A[$+3]+c*A[$+7]+Y*A[k+3]+R*A[k+7];
L[0]=w;L[1]=V;L[2]=h;L[3]=l};f.P.EM=function(x,z,A,o,i){x-=.499999;z-=.499999;var L=Math.floor(x),B=Math.floor(z),D=x-L,Z=z-B,j=(1-Z)*(1-D),a=(1-Z)*D,b=Z*(1-D),W=Z*D,c=(L+50*o)%o,Y=(L+1+50*o)%o,R=(B+50*i)%i,$=(B+1+50*i)%i,k=A[R*o+c],w=A[R*o+Y],V=A[$*o+c],h=A[$*o+Y];
if(k==null||h==null)throw"e";return j*k+a*w+b*V+W*h};f.P.EL=function(x,z,A,o,i,L,B,D,Z,j,a,b){var W=new Uint32Array(x.buffer),c=new Uint32Array(o.buffer),Y=(1+2*j)/i,R=[],$=[];
for(var k=0;k<i;k++){var w=-.25+j-k*Y;R.push(Math.cos(2*Math.PI*w)*b/a);R.push(Math.sin(2*Math.PI*w)/a)}B*=z;
D*=A;for(var V=0;V<L;V++){var h=Math.pow(V/L,Z)*L;for(var k=0;k<i;k++){var l=B+R[k<<1]*h,M=D+R[(k<<1)+1]*h,t=~~(.5+(l<0?0:l>z-1?z-1:l)),p=~~(.5+(M<0?0:M>A-1?A-1:M));
c[V*i+k]=W[p*z+t]}}};f.P.Xy=function(x,z,A,o,i,L,B,D,Z,j,a,b){var W=new Uint32Array(x.buffer),c=new Uint32Array(o.buffer),Y=1/b,R=[],$=A*4,k=1/$;
for(var w=0;w<$+10;w++)R.push(Math.pow(w*k,1/Z)*A*a);B*=i;D*=L;for(var w=0;w<L;w++)for(var V=0;V<i;V++){var h=Y*(V-B),l=w-D,M=1.75-Math.atan2(l,h)*(1/(2*Math.PI));
M=M-~~M;M=(M+j)*(1/(1+2*j));var q=Math.sqrt(h*h+l*l);q=R[~~(q*4)];f.P.N5(M*z+.5,q+.5,W,z,A,c,w*i+V,1)}};
f.P.RN=function(x,z,A,o,i){var L=i[0],B=i[1];for(var D=0;D<B;D++)for(var Z=0;Z<L;Z++){var j=i[2]*Z+i[3]*D+i[4],a=i[5]*Z+i[6]*D+i[7],b=D*L+Z<<2,W=a*z+j<<2;
o[b]=x[W+0];o[b+1]=x[W+1];o[b+2]=x[W+2];o[b+3]=x[W+3]}};f.Q={Ex:function(x,z){var A=~~(.499+x*z);return A<0?0:A>z?z:A},a5H:function(x,z,A,o,i,L,B,D){var Z=A[0],j=A[1],a=A[2],b=A[3],W=o.m,c=o.n,Y=new Float64Array(W*4+8),R=new Float64Array(W*4+8);
for(var $=0,F=0;$<c;$++){var k=Y;Y=R;R=k;R.fill(0);for(var w=0;w<W;w++,F++){var V=w+i,h=$+L,l=Z*V+j*h,M=a*V+b*h,q=0,E=0;
if(D==0)q=l+.5;else if(D==1)q=2*Math.sqrt(l*l+M*M);else if(D==2)q=(Math.PI+Math.atan2(-M,-l))/(2*Math.PI);
else if(D==3)q=Math.abs(l*2);else if(D==4)q=2*(Math.abs(l)+Math.abs(M));var t=f.Q.Ex(q,B)*4,p=w*4;for(var _=0;
_<4;_++){var S=Math.max(0,Math.min(254.999,z[t+_]+Y[p+4+_])),y=Math.floor(S);if(Math.random()<S-y)y++;
var v=S-y;Y[p+8+_]=v*(7/16);R[p+0+_]=v*(3/16);R[p+4+_]=v*(5/16);R[p+8+_]=v*(1/16);E|=y<<_*8}x[F]=E}}},AT:[function(x,z,A,o,i,L,B){var D=A[0],Z=A[1],j=A[2],a=A[3],b=o.m,W=o.n;
for(var c=0,F=0;c<W;c++)for(var Y=0;Y<b;Y++,F++){var R=Y+i,$=c+L,k=D*R+Z*$,w=j*R+a*$,V=k+.5;x[F]=z[f.Q.Ex(V,B)]}},function(x,z,A,o,i,L,B){var D=A[0],Z=A[1],j=A[2],a=A[3],b=o.m,W=o.n;
for(var c=0,F=0;c<W;c++)for(var Y=0;Y<b;Y++,F++){var R=Y+i,$=c+L,k=D*R+Z*$,w=j*R+a*$,V=2*Math.sqrt(k*k+w*w);
x[F]=z[f.Q.Ex(V,B)]}},function(x,z,A,o,i,L,B){var D=A[0],Z=A[1],j=A[2],a=A[3],b=o.m,W=o.n;for(var c=0,F=0;
c<W;c++)for(var Y=0;Y<b;Y++,F++){var R=Y+i,$=c+L,k=D*R+Z*$,w=j*R+a*$,V=(Math.PI+Math.atan2(-w,-k))/(2*Math.PI);
x[F]=z[f.Q.Ex(V,B)]}},function(x,z,A,o,i,L,B){var D=A[0],Z=A[1],j=A[2],a=A[3],b=o.m,W=o.n;for(var c=0,F=0;
c<W;c++)for(var Y=0;Y<b;Y++,F++){var R=Y+i,$=c+L,k=D*R+Z*$,w=j*R+a*$,V=Math.abs(k*2);x[F]=z[f.Q.Ex(V,B)]}},function(x,z,A,o,i,L,B){var D=A[0],Z=A[1],j=A[2],a=A[3],b=o.m,W=o.n;
for(var c=0,F=0;c<W;c++)for(var Y=0;Y<b;Y++,F++){var R=Y+i,$=c+L,k=D*R+Z*$,w=j*R+a*$,V=2*(Math.abs(k)+Math.abs(w));
x[F]=z[f.Q.Ex(V,B)]}}]};f.Q.asF=function(x,z){return x+.5};f.Q.a5O=function(x,z){return 2*Math.sqrt(x*x+z*z)};
f.Q.ao4=function(x,z){return(Math.PI+Math.atan2(-z,-x))/(2*Math.PI)};f.Q.aaF=function(x,z){return Math.abs(x*2)};
f.Q.aeS=function(x,z){return 2*(Math.abs(x)+Math.abs(z))};f.Q.aS=function(x,z,A,o,i,L,B,D,Z,j,a,b){var W=x.Clrs,c=new Uint32Array(z.buffer),Y=1023,R=W?f.Q.PV(W.v,Z,j):null;
if(b&&W){var $=f.Q.avA(x,R,Y+1,B);f.Q.a5H(c,$,o,A,A.x-i,A.y-L,Y,D)}else{var k=W?f.Q.qz(x,R,Y+1,B):f.Q.Ip(x,Y+1,B);
if(D<5){f.Q.AT[D](c,k,o,A,A.x-i,A.y-L,Y)}else{var w=new Uint8Array(k.buffer),V=A.m,h=A.n,l=a.by-a.iG,M=1/l,q=a.DD.m-A.m>>1,t=a.DD.n-A.n>>1,p=a.DD.m,E=-.6*M,_=(-.6+.4)*M,S=(-.6+2*.4)*M,y=(-.6+3*.4)*M;
for(var v=0,F=0;v<h;v++)for(var r=0;r<V;r++,F+=4){var K=0,s=0,P=0,d=0,X=(v+t)*p+r+q,U=(a.bQ[X]-a.iG)*M,n=0;
if(U<=0||U>=1){n=(U<=0?0:Y)<<2;z[F]=w[n];z[F+1]=w[n+1];z[F+2]=w[n+2];z[F+3]=w[n+3];continue}n=Math.max(0,Math.min(Y-1,Math.round((U+E)*Y)))<<2;
s+=w[n];P+=w[n+1];d+=w[n+2];K+=w[n+3];n=Math.max(0,Math.min(Y-1,Math.round((U+_)*Y)))<<2;s+=w[n];P+=w[n+1];
d+=w[n+2];K+=w[n+3];n=Math.max(0,Math.min(Y-1,Math.round((U+S)*Y)))<<2;s+=w[n];P+=w[n+1];d+=w[n+2];K+=w[n+3];
n=Math.max(0,Math.min(Y-1,Math.round((U+y)*Y)))<<2;s+=w[n];P+=w[n+1];d+=w[n+2];K+=w[n+3];z[F]=s>>>2;
z[F+1]=P>>>2;z[F+2]=d>>>2;z[F+3]=K>>>2}}}};f.Q.PV=function(x,z,A){var o=[];for(var F=0;F<x.length;F++){var i,L=x[F].v,B=L.Type.v.Clry;
if(B=="FrgC")i={w:z>>16&255,a:z>>8&255,s:z&255};else if(B=="BckC")i={w:A>>16&255,a:A>>8&255,s:A&255};
else i=f.Q.Pw(L.Clr.v);o.push(i)}return o};f.Q.Pw=function(x){var z,A=x.classID;if(A=="RGBC"){if(x.Rd)z={w:x.Rd.v,a:x.Grn.v,s:x.Bl.v};
else z={w:x.redFloat.v*255,a:x.greenFloat.v*255,s:x.blueFloat.v*255}}else if(A=="HSBC"){z=f.M$(x.H.v.val/360,x.Strt.v/100,x.Brgh.v/100);
z.w*=255;z.a*=255;z.s*=255}else if(A=="CMYC"){var o=100-x.Cyn.v,i=100-x.Mgnt.v,L=100-x.Ylw.v,B=100-x.Blck.v,D=255*o*B*1e-4,Z=255*(.2*o+.8*i)*B*1e-4,j=255*(.2*i+.8*L)*B*1e-4;
z={w:D,a:Z,s:j}}else if(A=="Grsc")z={w:255-x.Gry.v,a:255-x.Gry.v,s:255-x.Gry.v};else if(A=="LbCl"){z=f.Rm(x.Lmnc.v,x.A.v,x.B.v)}else console.log(x);
if(isNaN(z.w))z.w=z.a=z.s=0;return z};f.Q.Ip=function(x,z,A){var o=new Uint32Array(z),i=new Uint8Array(o.buffer);
o.fill(4278190080);var L=[],B=[],D=x.RndS.v,Z=x.Smth.v/4096;for(var F=0;F<4;F++){L[F]=~~(x.Mnm.v[F].v*255/100);
B[F]=~~(x.Mxm.v[F].v*255/100)}var j=f.C(z*4),a=f.C(z);for(var b=0;b<3;b++){f.R.np(null,z,1,j,[1+Math.round(Z*Z*Z*60),22,D*(2+b)]);
f.XN(j,a,0);f.c8(a,i,b);var W=L[b],c=B[b];for(var F=0;F<z;F++)i[4*F+b]=Math.max(W,Math.min(c,i[4*F+b]))}if(A)for(var F=0;
F<z/2;F++){var Y=o[F];o[F]=o[z-1-F];o[z-1-F]=Y}return o};f.Q.Vv=function(x){return{classID:"RGBC",Rd:{t:"doub",v:x.w},Grn:{t:"doub",v:x.a},Bl:{t:"doub",v:x.s}}};
f.Q.avA=function(x,z,A,o){var i=[],L=1/(A-0);for(var F=0;F<A;F++){var B=F*4,D=f.Q.fi(x,z,(o?A-1-F:F)*L);
i[B]=D[0];i[B+1]=D[1];i[B+2]=D[2];i[B+3]=D[3]}return i};f.Q.qz=function(x,z,A,o){var i=new Uint32Array(A),L=1/(A-0);
for(var F=0;F<A;F++)i[F]=f.Q.ZU(x,z,(o?A-1-F:F)*L);return i};f.Q.fi=function(x,z,A){var o=4096,i=1/4096,L=x.Intr.v*i,B=x.Clrs.v,D=x.Trns.v,Z=B.length-1,j=D.length-1,F=-1,a=0,b=0,W=0,c=0;
while(F<j&&D[F+1].v.Lctn.v<=A*o)F++;if(F==-1){a=D[0].v.Opct.v.val*(255/100)}else if(F==j){a=D[F].v.Opct.v.val*(255/100)}else{var Y=f.Q.P8(D,i,F,A,L);
a=(Y*D[F].v.Opct.v.val+(1-Y)*D[F+1].v.Opct.v.val)*(255/100)}F=-1;while(F<Z&&B[F+1].v.Lctn.v<=A*o)F++;
if(F==-1){var R=z[0];b=R.w;W=R.a;c=R.s}else if(F==Z){var R=z[F];b=R.w;W=R.a;c=R.s}else{var $=z[F],k=z[F+1],w=f.Q.P8(B,i,F,A,L);
b=w*$.w+(1-w)*k.w;W=w*$.a+(1-w)*k.a;c=w*$.s+(1-w)*k.s}return[b,W,c,a]};f.Q.ZU=function(x,z,A){var o=f.Q.fi(x,z,A),i=~~(.5+o[0]),L=~~(.5+o[1]),B=~~(.5+o[2]),D=~~(.5+o[3]);
return D<<24|B<<16|L<<8|i};f.Q.P8=function(x,z,F,A,o){if(x.length==2)o*=.5;var i=x[F].v.Lctn.v*z,L=x[F+1].v.Lctn.v*z,B=i+x[F+1].v.Mdpn.v*.01*(L-i),D;
if(A<B)D=.5*(A-i)/(B-i);else D=.5+.5*(A-B)/(L-B);D=.5+.5*(o*Math.cos(Math.PI*D)+(1-o)*(1-2*D));return D};
f.Q.bn=function(x,z){var A=Math.PI*x.Angl.v.val/180,o=x.Scl.v.val/100,i=x.Ofst.v,L=i.Hrzn.v.val/100,B=i.Vrtc.v.val/100,D=Math.cos(A),Z=-Math.sin(A),j=.5*z.n,a=j*(D/Z),b=Math.sqrt(j*j+a*a),W=.5*z.m,c=W*(Z/D),Y=Math.sqrt(W*W+c*c),R=Math.min(b,Y)*o,$=z.x+z.m/2+L*z.m,k=z.y+z.n/2+B*z.n;
return[new iL($,k),new iL($+D*R,k+Z*R)]};f.Q.e2=function(x,z,A,o){var i=z.x-x.x,L=-(z.y-x.y),B=Math.sqrt(i*i+L*L),D=Math.atan2(L,i),Z=Math.cos(D),j=-Math.sin(D),a=.5*A.n,b=a*(Z/j),W=Math.sqrt(a*a+b*b),c=.5*A.m,Y=c*(j/Z),R=Math.sqrt(c*c+Y*Y),$=B/Math.min(W,R),k=(x.x-A.x-A.m/2)/A.m,w=(x.y-A.y-A.n/2)/A.n;
o.Angl.v.val=180*D/Math.PI;o.Scl.v.val=$*100;var V=o.Ofst.v;V.Hrzn.v.val=k*100;V.Vrtc.v.val=w*100};f.Q.uW=function(x,z){for(var F=0;
F<x.length;F++){var A=x[F],o=Math.round(A[0]*4096),i=A[1],L=A[2],B=A[3];if(L==null)L=1;if(B==null)B=.5;
var D=f.Q.Vv({w:i[0]*255,a:i[1]*255,s:i[2]*255});z.Clrs.v[F]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:o},Mdpn:{t:"long",v:Math.round(B*100)},Clr:{t:"Objc",v:D},Type:{t:"enum",v:{Clry:"UsrS"}}}};
z.Trns.v[F]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:o},Mdpn:{t:"long",v:Math.round(B*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(L*100)}}}}}};
f.LL={};f.LL.a88=function(x,z,A,o,i,L,B,D,Z,j,a,b){var W,c,Y,R=Date.now(),$=!1,k=B,w=j,V,h,l,M,q=L*255,t=255-Z*255,p=1+i*6,E=1+D*6,_=1+b*4,S=(_-1)/7,y=0,v=255-0,r,K,s,P,d,X,U,n,e,J,C,H,u,bc=0,jK=1,N,he,gJ,kg,cJ,it,by,cz,fG,ju,gW=1+a,iI,ht=f.C(A*o),et=f.C(A*o),be=f.C(A*o),c9=f.C(A*o),aJ=255/q,b6=255/(255-t);
for(c=0;c<o;c++){for(W=0;W<A;W++){var F=c*A+W,ef=F<<2;N=f.yA(x[ef],x[ef+1],x[ef+2]);c9[F]=N;if(N<q)ht[F]=255-N*aJ;
if(N>t)et[F]=255-(255-N)*b6}}if($)console.log("init",Date.now()-R);R=Date.now();if(i*k>0){be.set(ht);
f.ZY.yn(be,ht,new av(0,0,A,o),k)}if(D*w>0){be.set(et);f.ZY.yn(be,et,new av(0,0,A,o),w)}if($)console.log("blur",Date.now()-R);
R=Date.now();var jV=f.C(256),hu=f.C(256);for(var F=0;F<256;F++){var eG=F*(1/255),k8=0;k8=(1-Math.pow(1-eG,p))*255;
jV[F]=Math.max(0,Math.min(255,~~(k8+.5)));k8=Math.pow(eG,E)*255;hu[F]=Math.max(0,Math.min(255,~~(k8+.5)))}var eE=new Uint8ClampedArray(z.buffer),jD=new Float32Array(32768);
for(var F=0;F<32768;F++){iI=Math.sqrt(F)*(1/128);if(gW>1)iI=(1-iI)*(gW-1)+1;else iI=iI*(gW-1)+1;jD[F]=iI}for(c=0;
c<o;c++){for(W=0;W<A;W++){var F=c*A+W,ef=F<<2,k8=c9[F],a_=ht[F]*(1/255),cH=et[F]*(1/255);k8=(1-a_)*k8+a_*jV[~~k8];
k8=(1-cH)*k8+cH*hu[~~k8];N=k8;var ic=x[ef],aj=x[ef+1],dS=x[ef+2];he=-ic*.168736-aj*.331264+dS*.5;gJ=ic*.5-aj*.418688-dS*.081312;
iI=jD[~~(.5+he*he+gJ*gJ)];kg=he*iI;it=gJ*iI;jK=1-Math.min(2-(a_+cH),1);he=jK*he+(1-jK)*kg;gJ=jK*gJ+(1-jK)*it;
cz=N+1.402*gJ;fG=N-.34414*he-.71414*gJ;ju=N+1.772*he;eE[ef]=~~(.5+cz);eE[ef+1]=~~(.5+fG);eE[ef+2]=~~(.5+ju)}}if($)console.log("apply masks",Date.now()-R);
R=Date.now()};f.BI={};f.BI.lQ=function(x,z,A,o,i){var L=!1,Y=1,K=0,s=0,C=0,gW=0;if(!z.V2(i)){var B=z.QM(i),D=f.C(B.$()*4);
f.mV(x,z,D,B);x=D;z=B}var Z=f.C(z.$());f.K5(A,i,Z,z);f.round(Z);i=i.tE(z);var j=i.m,a=i.n,b=j*3<a?2:1,W=a*3<j?2:1;
if(i.$()*(b*2+1)*(W*2+1)<z.$()){var B=new av(i.x-j*b,i.y-a*b,j*(b*2+1),a*(W*2+1)).tE(z),D=f.C(B.$()*4);
f.mV(x,z,D,B);var c=f.C(B.$());f.K5(Z,z,c,B);z=B;x=D;Z=c}while((z.m+z.n)/2/Y>400)Y++;var R=x,$=z,k=Z,w=Math.floor($.m/Y),V=Math.floor($.n/Y);
x=f.C(w*V*4);f.scale.DC(R,$.m,$.n,x,w,V,1/Y);Z=f.C(w*V);f.scale.RN(k,$.m,$.n,Z,w,V,1/Y);f.round(Z,1);
var h=f.mI(Z,new av(0,0,w,V));if(h.WT())return 1;var l=Math.round((h.m+h.n)/2/15),M=Date.now(),q=f.C(w*V*4);
f.a37(x,q);var t=Int16Array,p=new t(w*V*24),E=new t(64),_=new t(64),v=new t(64),r=new t(64);for(var P=3;
P<V-4;P++)for(var d=3;d<w-4;d++){var X=P*w+d;if(Z[X]==255)continue;if(f.BI.a8$(q,Z,d,P,w,V,E,_,v)!=0)continue;
f.BI.dE(E,r);p[K]=d;p[K+1]=P;f.BI.Yy(E,p,K+4,12);K+=16;f.BI.dE(_,r);f.BI.Yy(_,p,K,4);K+=4;f.BI.dE(v,r);
f.BI.Yy(v,p,K,4);K+=4;var U=p[K-24+5],n=p[K-24+6];p[K-24+5]=p[K-24+20];p[K-24+6]=p[K-24+16];p[K-24+16]=U;
p[K-24+20]=n;s++}if(s==0)return 2;if(L)console.log(Date.now()-M,"FWHT computed");M=Date.now();var e=[];
f.BI.Hw(0,s-1,e,p,new t(2*24));if(L)console.log(Date.now()-M,"KD tree computed");M=Date.now();var J=new Float32Array(w*V*4);
for(var F=0;F<s;F++){var H=F,u=f.BI.aov(H,p,e,l);if(u==-1)continue;var bc=H*24,jK=u*24,N=p[bc],he=p[bc+1],gJ=p[jK],kg=p[jK+1];
C+=f.BI.getError(jK,bc,p,1e99);var cJ=gJ-N,it=kg-he;J[(V+it)*2*w+(w+cJ)]+=1}if(L)console.log(Date.now()-M,"NN found");
M=Date.now();var by=[],cz=1/(2*w);for(var F=0;F<J.length;F++){if(J[F]>0){var P=Math.floor(F*cz),d=F-P*2*w;
by.push({x:d-w,y:P-V,h:J[F],PF:-1})}}by.sort(function(cH,ic){return ic.h-cH.h});var fG=new Int32Array(w*V),ju=[];
for(var F=0;F<w*V;F++){if(Z[F]==255){fG[F]=gW;ju.push(F%w,Math.floor(F/w));gW++}else if(x[(F<<2)+3]<200){fG[F]=-2}else{fG[F]=-1}}var iI=f.BI.a3j(w,V,by,fG,ju,gW);
if(iI==null){return 3}var ht=iI.mC,top=iI.top;ht=f.BI.avP(ht,x,w,V,top,fG,ju,gW);if(L)console.log(Date.now()-M,"optimal labeling found");
M=Date.now();var B=i.clone();B.nw(1,1);B=B.tE($);var et=f.C(B.$()*4),be=f.C(B.$());f.mV(R,$,et,B);var c9=$.m,aJ=$.n;
for(var P=0;P<aJ;P++)for(var d=0;d<c9;d++){if(k[P*c9+d]==0)continue;var b6=Math.min(Math.floor(d/Y),w-1),ef=Math.min(Math.floor(P/Y),V-1),jV=fG[ef*w+b6];
if(jV==-1)continue;var hu=ht[jV],eG=top[hu],k8=d+eG.x*Y,eE=P+eG.y*Y,jD=eE*c9+k8<<2,a_=(P-B.y+$.y)*B.m+(d-B.x+$.x)<<2;
et[a_]=R[jD];et[a_+1]=R[jD+1];et[a_+2]=R[jD+2];et[a_+3]=R[jD+3];et[a_+3]=R[jD+3];be[a_>>2]=hu+1}if(L)console.log(Date.now()-M,"copied back");
M=Date.now();f.t7.lQ(et,be,B,null,1e3);if(L)console.log(Date.now()-M,"poisson smooth");M=Date.now();
f.mV(et,B,o,i);return 0};f.BI.Eb=function(x,z,A,o,i,L){return f.BI.Qm(x+i.x,z+i.y,A,o)&&L[(z+i.y)*A+(x+i.x)]==-1?0:1e9};
f.BI.avP=function(x,z,A,o,top,i,L,B){var D=Date.now(),Z=[-1,0,0,-1,1,0,0,1],j=1e99,a=[],b=[],W=2*(B*2*3+B*2),c=null,Y=0,R=0,$=0,k=1e99;
while(!0&&Date.now()<D+12e3){$++;var w=null,V=j;for(var h=0;h<top.length;h++){var l=top[h],M=0,q=B+2,t=0;
for(var F=0;F<B;F++){var p=L[F*2],E=L[F*2+1],_=top[x[F]],S=f.BI.Eb(p,E,A,o,l,i),y=x[F]==h?1e9:f.BI.Eb(p,E,A,o,_,i);
for(var f5=0;f5<4;f5++){if(f5==0&&p==0||f5==1&&E==0||f5==2&&p==A-1||f5==3&&E==o-1)continue;var v=Z[2*f5],r=Z[2*f5+1],K=p+v,s=E+r,P=i[s*A+K];
if(P==-2){}else if(P==-1){S+=3*f.BI.wU(K+l.x,s+l.y,K,s,A,o,z,i);S+=2*f.BI.wU(K+l.x+v,s+l.y+r,K+v,s+r,A,o,z,i);
y+=3*f.BI.wU(K+_.x,s+_.y,K,s,A,o,z,i);y+=2*f.BI.wU(K+_.x+v,s+_.y+r,K+v,s+r,A,o,z,i)}else if(f5>1){if(x[F]==x[P]){var d=0;
d+=f.BI.wU(p+_.x,E+_.y,p+l.x,E+l.y,A,o,z,i);d+=f.BI.wU(K+_.x,s+_.y,K+l.x,s+l.y,A,o,z,i);a[M]=F;a[M+1]=P;
b[M]=d;b[M+1]=d;M+=2}else{var X=top[x[P]],U=q,n=0,e=0,J=0;q++;n+=f.BI.wU(p+_.x,E+_.y,p+l.x,E+l.y,A,o,z,i);
n+=f.BI.wU(K+_.x,s+_.y,K+l.x,s+l.y,A,o,z,i);e+=f.BI.wU(p+X.x,E+X.y,p+l.x,E+l.y,A,o,z,i);e+=f.BI.wU(K+X.x,s+X.y,K+l.x,s+l.y,A,o,z,i);
J+=f.BI.wU(p+X.x,E+X.y,p+_.x,E+_.y,A,o,z,i);J+=f.BI.wU(K+X.x,s+X.y,K+_.x,s+_.y,A,o,z,i);a[M]=F;a[M+1]=U;
b[M]=n;b[M+1]=n;M+=2;a[M]=P;a[M+1]=U;b[M]=e;b[M+1]=e;M+=2;a[M]=U;a[M+1]=B+1;b[M]=J;b[M+1]=0;M+=2}}}a[M]=B;
a[M+1]=F;b[M]=S;b[M+1]=0;M+=2;a[M]=F;a[M+1]=B+1;b[M]=y;b[M+1]=0;M+=2;t+=Math.min(S,y)}if(t>V)continue;
var C=f.C$.qJ(q,M,B,B+1,a,b,V);if(C.iU<V){V=C.iU;var H=x.slice(0);f.BI.al9(H,M,a,C.aj,h,B);w=H}}if(V*1>=j){break}j=V;
x=w;if(($&3)==0){if(V*1.03>=k)break;k=V}if(($&3)==0){var u=0*top.length;for(var F=0;F<top.length&&top.length>u;
F++){if(x.indexOf(F)!=-1)continue;top.splice(F,1);for(var P=0;P<x.length;P++)if(x[P]>F)x[P]--;F--}}}return x};
f.BI.al9=function(x,z,A,o,i,L){for(var F=0;F<o.length;F++){var B=o[F]<<1,D=0,Z=0;if(B<z){D=A[B];Z=A[B+1]}else{Z=A[B];
D=A[B+1]}if(D==L&&x[Z]!=i)x[Z]=i}};f.BI.E5=function(top,x,z,A,o,i,L,B,D){for(var F=0;F<z.length;F++){var Z=z[F],j=!0;
if(B!=null&&!(f.BI.Qm(B+Z.x,D+Z.y,i,L)&&A[i*(D+Z.y)+B+Z.x]==-1))continue;if(Z.PF==-1)Z.PF=f.BI.akR(Z,A,o,i,L);
if(Z.PF<=0)continue;for(var a=0;a<top.length;a++){var b=top[a],W=Z.x-b.x,c=Z.y-b.y;if(W*W+c*c<x){j=!1;
break}}if(j)return Z}return null};f.BI.akR=function(x,z,A,o,i){var L=0;for(var F=0;F<A.length;F+=2){var B=A[F]+x.x,D=A[F+1]+x.y;
if(f.BI.Qm(B,D,o,i)&&z[o*D+B]==-1)L++}return L/(A.length>>1)};f.BI.a3j=function(x,z,A,o,i,L){var top=[];
for(var F=0;F<60;F++){var B=f.BI.E5(top,25,A,o,i,x,z);if(B==null)break;else top.push(B)}if(top.length==0)return null;
var D=[];for(var F=0;F<L;F++){var Z=i[F*2],j=i[F*2+1],a=-1,b=0;while(!0){b++;var W=Math.random();a=Math.floor(W*.99999*top.length);
var c=top[a],Y=Z+c.x,R=j+c.y;if(f.BI.Qm(Y,R,x,z)&&o[R*x+Y]==-1)break;if(b>100){var B;B=f.BI.E5(top,0,A,o,i,x,z,Z,j);
if(B==null)return null;top.push(B);b=0}}D.push(a)}return{top:top,mC:D}};f.BI.wU=function(x,z,A,o,i,L,B,D){if(x==A&&z==o)return 0;
if(x<0||z<0||x>=i||z>=L||A<0||o<0||A>=i||o>=L||D[z*i+x]!=-1||D[o*i+A]!=-1)return 1e7;var Z=z*i+x<<2,j=o*i+A<<2,a=B[Z]-B[j],b=B[Z+1]-B[j+1],W=B[Z+2]-B[j+2];
return 1+(a*a+b*b+W*W)};f.BI.Qm=function(x,z,A,o){return x>=0&&x<A&&z>=0&&z<o};f.BI.aov=function(x,z,A,o){var i=24*x,L=z[i],B=z[i+1],D=o*o,Z=0,W=1e9;
while(A[Z]!=99)if(z[i+A[Z]]<A[Z+1])Z=A[Z+2];else Z=A[Z+3];var j=A[Z+1],a=A[Z+2],b=-1;for(var F=j;F<=a;
F++){var Z=F,c=Z*24,Y=z[c],R=z[c+1];if((Y-L)*(Y-L)+(R-B)*(R-B)<D)continue;var $=f.BI.getError(c,i,z,W);
if($<W){W=$;b=Z}}return b};f.BI.getError=function(x,z,A,o){var i=0;for(var L=4;L<24;L+=4){var B=A[z+L]-A[x+L],D=A[z+L+1]-A[x+L+1],Z=A[z+L+2]-A[x+L+2],j=A[z+L+3]-A[x+L+3];
i+=B*B+D*D+Z*Z+j*j;if(i>=o)return i+1}return i};f.BI.Hw=function(x,z,A,o,i){var L=16,W=0;if(z-x<=L){A.push(99,x,z);
return}f.BI.Jr(x,z,o,i);var B=-1,D=-1;for(var F=4;F<24;F++){var Z=i[2*F+1]-i[2*F];if(Z>D){D=Z;B=F}}var j=x+z>>1,a=f.BI.ab$(j,x,z,o,B),b=-1;
for(var F=x;F<=z;F++)if(o[24*F+B]==a){if(b==-1)b=F;W=F}if(x+8<b&&b-x>z-W)j=b;else if(W+1<z-8)j=W+1;else if(z-x<64){A.push(99,x,z);
return}else j=j;var c=A.length;A.push(B,a,0,0);A[c+2]=c+4;f.BI.Hw(x,j-1,A,o,i);A[c+3]=A.length;f.BI.Hw(j,z,A,o,i)};
f.BI.Jr=function(x,z,A,o){for(var F=0;F<48;F+=4){o[F]=3e4;o[F+1]=-3e4;o[F+2]=3e4;o[F+3]=-3e4}for(var F=x;
F<=z;F++){var i=F*24;for(var L=0;L<24;L++){var B=A[i+L],D=o[L<<1],Z=o[(L<<1)+1];if(B<D)o[L<<1]=B;if(B>Z)o[(L<<1)+1]=B}}};
f.BI.SG=function(x,z,A){var o=0,F=0;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;
F++;o=A[x+F];A[x+F]=A[z+F];A[z+F]=o;F++};f.BI.Ts=function(x,z,A,o){var i=A+o>>>1,L=x[24*i+z];while(A<=o){while(x[24*A+z]<L)A++;
while(x[24*o+z]>L)o--;if(A<=o){if(x[24*A+z]!=x[24*o+z])f.BI.SG(A*24,o*24,x);A++;o--}}return A};f.BI.ab$=function(x,z,A,o,i){var L=0;
while(z!=A){L=f.BI.Ts(o,i,z,A);if(x<L)A=L-1;else z=L}return o[x*24+i]};f.BI.Yy=function(x,z,A,o){for(var F=0;
F<o;F++)z[A+F]=x[F]};f.BI.a8$=function(x,z,A,o,i,L,B,D,Z){var j=(o-3)*i+(A-3),a=j<<2;for(var b=0;b<8;
b++){if(z[j]+z[j+1]+z[j+2]+z[j+3]+z[j+4]+z[j+5]+z[j+6]+z[j+7]!=0||x[a+3]<200||x[a+7]<200||x[a+11]<200||x[a+15]<200||x[a+19]<200||x[a+23]<200||x[a+27]<200||x[a+31]<200)return 1;
var F=b<<3;B[F+0]=x[a+0];D[F+0]=x[a+1];Z[F+0]=x[a+2];B[F+1]=x[a+4];D[F+1]=x[a+5];Z[F+1]=x[a+6];B[F+2]=x[a+8];
D[F+2]=x[a+9];Z[F+2]=x[a+10];B[F+3]=x[a+12];D[F+3]=x[a+13];Z[F+3]=x[a+14];B[F+4]=x[a+16];D[F+4]=x[a+17];
Z[F+4]=x[a+18];B[F+5]=x[a+20];D[F+5]=x[a+21];Z[F+5]=x[a+22];B[F+6]=x[a+24];D[F+6]=x[a+25];Z[F+6]=x[a+26];
B[F+7]=x[a+28];D[F+7]=x[a+29];Z[F+7]=x[a+30];a+=i<<2;j+=i}return 0};f.BI.dE=function(x,z){z[0]=x[32]+x[0];
z[1]=x[33]+x[1];z[2]=x[34]+x[2];z[3]=x[35]+x[3];z[4]=x[36]+x[4];z[5]=x[37]+x[5];z[6]=x[38]+x[6];z[7]=x[39]+x[7];
z[8]=x[40]+x[8];z[9]=x[41]+x[9];z[10]=x[42]+x[10];z[11]=x[43]+x[11];z[12]=x[44]+x[12];z[13]=x[45]+x[13];
z[14]=x[46]+x[14];z[15]=x[47]+x[15];z[16]=x[48]+x[16];z[17]=x[49]+x[17];z[18]=x[50]+x[18];z[19]=x[51]+x[19];
z[20]=x[52]+x[20];z[21]=x[53]+x[21];z[22]=x[54]+x[22];z[23]=x[55]+x[23];z[24]=x[56]+x[24];z[25]=x[57]+x[25];
z[26]=x[58]+x[26];z[27]=x[59]+x[27];z[28]=x[60]+x[28];z[29]=x[61]+x[29];z[30]=x[62]+x[30];z[31]=x[63]+x[31];
z[32]=x[0]-x[32];z[33]=x[1]-x[33];z[34]=x[2]-x[34];z[35]=x[3]-x[35];z[36]=x[4]-x[36];z[37]=x[5]-x[37];
z[38]=x[6]-x[38];z[39]=x[7]-x[39];z[40]=x[8]-x[40];z[41]=x[9]-x[41];z[42]=x[10]-x[42];z[43]=x[11]-x[43];
z[44]=x[12]-x[44];z[45]=x[13]-x[45];z[46]=x[14]-x[46];z[47]=x[15]-x[47];z[48]=x[16]-x[48];z[49]=x[17]-x[49];
z[50]=x[18]-x[50];z[51]=x[19]-x[51];z[52]=x[20]-x[52];z[53]=x[21]-x[53];z[54]=x[22]-x[54];z[55]=x[23]-x[55];
z[56]=x[24]-x[56];z[57]=x[25]-x[57];z[58]=x[26]-x[58];z[59]=x[27]-x[59];z[60]=x[28]-x[60];z[61]=x[29]-x[61];
z[62]=x[30]-x[62];z[63]=x[31]-x[63];x[0]=z[16]+z[0];x[1]=z[17]+z[1];x[2]=z[18]+z[2];x[3]=z[19]+z[3];
x[4]=z[20]+z[4];x[5]=z[21]+z[5];x[6]=z[22]+z[6];x[7]=z[23]+z[7];x[8]=z[24]+z[8];x[9]=z[25]+z[9];x[10]=z[26]+z[10];
x[11]=z[27]+z[11];x[12]=z[28]+z[12];x[13]=z[29]+z[13];x[14]=z[30]+z[14];x[15]=z[31]+z[15];x[16]=z[0]-z[16];
x[17]=z[1]-z[17];x[18]=z[2]-z[18];x[19]=z[3]-z[19];x[20]=z[4]-z[20];x[21]=z[5]-z[21];x[22]=z[6]-z[22];
x[23]=z[7]-z[23];x[24]=z[8]-z[24];x[25]=z[9]-z[25];x[26]=z[10]-z[26];x[27]=z[11]-z[27];x[28]=z[12]-z[28];
x[29]=z[13]-z[29];x[30]=z[14]-z[30];x[31]=z[15]-z[31];z[0]=x[8]+x[0];z[1]=x[9]+x[1];z[2]=x[10]+x[2];
z[3]=x[11]+x[3];z[4]=x[12]+x[4];z[5]=x[13]+x[5];z[6]=x[14]+x[6];z[7]=x[15]+x[7];z[8]=x[0]-x[8];z[9]=x[1]-x[9];
z[10]=x[2]-x[10];z[11]=x[3]-x[11];z[12]=x[4]-x[12];z[13]=x[5]-x[13];z[14]=x[6]-x[14];z[15]=x[7]-x[15];
x[0]=z[4]+z[0];x[1]=z[5]+z[1];x[2]=z[6]+z[2];x[3]=z[7]+z[3];x[4]=z[0]-z[4];x[5]=z[1]-z[5];x[6]=z[2]-z[6];
x[7]=z[3]-z[7];x[8]=z[12]+z[8];x[9]=z[13]+z[9];x[10]=z[14]+z[10];x[11]=z[15]+z[11];x[12]=z[8]-z[12];
x[13]=z[9]-z[13];x[14]=z[10]-z[14];x[15]=z[11]-z[15];z[0]=x[2]+x[0];z[1]=x[3]+x[1];z[2]=x[0]-x[2];z[3]=x[1]-x[3];
z[4]=x[6]+x[4];z[5]=x[7]+x[5];z[6]=x[4]-x[6];z[7]=x[5]-x[7];z[8]=x[10]+x[8];z[9]=x[11]+x[9];z[10]=x[8]-x[10];
z[11]=x[9]-x[11];z[12]=x[14]+x[12];z[13]=x[15]+x[13];z[14]=x[12]-x[14];z[15]=x[13]-x[15];x[0]=z[1]+z[0];
x[1]=z[0]-z[1];x[2]=z[3]+z[2];x[3]=z[2]-z[3];x[4]=z[5]+z[4];x[5]=z[4]-z[5];x[6]=z[7]+z[6];x[7]=z[6]-z[7];
x[8]=z[9]+z[8];x[9]=z[8]-z[9];x[10]=z[11]+z[10];x[11]=z[10]-z[11];x[12]=z[13]+z[12];x[13]=z[12]-z[13];
x[14]=z[15]+z[14];x[15]=z[14]-z[15]};f.BI.aaq=function(){var x="",f5=64,z="v",A="t",o="a",i=5,F,L,B;
for(F=f5>>1;F>0;F>>=1,i--){for(L=0;L<f5;L++){B=(L>>i&1)!=0;if(B){x+=A+"["+L+"] = "+z+"["+(-F+L)+"] - "+z+"["+L+"];  "}else{x+=A+"["+L+"] = "+z+"["+(F+L)+"] + "+z+"["+L+"];  "}}o=z;
z=A;A=o;x+="\n"}console.log(x)};f.BI.a05=function(f5,x,z){var A=x,o=z,i=A,L=0,F,D,Z;while(f5>>L!=2)L++;
var B=L;for(F=f5>>1;F>0;F>>=1,L--){for(D=0;D<f5;D++){Z=(D>>L&1)!=0;if(Z)o[D]=A[-F+D]-A[D];else o[D]=A[F+D]+A[D]}i=A;
A=o;o=i}if((B&1)==1)for(F=0;F<f5;F++)z[F]=A[F]};f.RG={};f.RG.AZ=function(x,z,A,o,i,L,B,D,Z){var j=Date.now(),a=new Uint32Array(x.buffer),b=new Uint32Array(z.buffer),W=B/A,c=D/o,Y=1/W,R=1/c,$=new Float64Array(2),k=3,w=1/k,V=1/(k*k),h=0,l=0,M=A,q=o;
if(i){h=i.x;l=i.y;M=i.m;q=i.n}for(var t=0;t<q;t++)for(var p=0;p<M;p++){var E=h+p,_=l+t,F=_*A+E,S=F<<1,y=F<<2;
f.RG.at9(L,B,D,(E+.5)*W,(_+.5)*c,$);var v=$[0]*Y,r=$[1]*R;if(v==0&&r==0)b[F]=a[F];else{f.P.N5(E+v+.5,_+r+.5,a,A,o,b,F,Z)}}};
f.RG.at9=function(x,z,A,o,i,L){o-=.499999;i-=.499999;var B=~~o,D=~~i,Z=o-B,j=i-D,a=(1-j)*(1-Z),b=(1-j)*Z,W=j*(1-Z),c=j*Z,Y=B<z-1?B+1:B,R=D<A-1?D+1:D,$=D*z+B<<1,k=D*z+Y<<1,w=R*z+B<<1,V=R*z+Y<<1;
L[0]=a*x[$]+b*x[k]+W*x[w]+c*x[V];L[1]=a*x[$+1]+b*x[k+1]+W*x[w+1]+c*x[V+1]};f.RG.am9=function(x,z,A,o,i){var L=1/x,B=[-1,1,-x,x],D=o.length;
for(var Z=0;Z<D;Z++){var F=o[Z],j=F<<1,a=Z<<1,b=~~(F*L),W=F-x*b,c=A[j],Y=A[j+1],R=0,$=0;if(W!=0&&W!=x-1){var k=F-1<<1,w=F+1<<1,V=A[k],h=A[w],l=A[k+1],M=A[w+1],q=c-(V+h)*.5,t=Y-(l+M)*.5;
R-=q*i;$-=t*i}if(b!=0&&b!=z-1){var k=F-x<<1,w=F+x<<1,V=A[k],h=A[w],l=A[k+1],M=A[w+1],q=c-(V+h)*.5,t=Y-(l+M)*.5;
R-=q*i;$-=t*i}A[j]=c+R;A[j+1]=Y+$}};f.RG.ajl=function(x,z){var A=x+","+z;if(f.RG.HQ==A)return f.RG.Qk;
var o=f.RG.Qk=[];f.RG.HQ=A;for(var F=0;F<=1e3;F++){var i=F*.001,L=Math.sqrt(i),B=Math.exp(-4*L),D=.96*(1-L*L),Z=z*((1-x)*B+x*D);
o[F]=Z}return o};f.RG.HQ="";f.RG.Qk=[];f.RG.ab8=function(x,z,A,o,i,L,B,D,Z,j,a,b,W){var c=Math.max(0,Math.floor(i-B-1)),Y=Math.min(z,Math.ceil(i+B+1)),R=Math.max(0,Math.floor(L-B-1)),$=Math.min(A,Math.ceil(L+B+1)),k=2*z,w=B*B,V=1/B,h=0;
if(W&&(o==3||o==6))Z=-Z;var l=f.RG.ajl(D,Z);for(var M=R;M<$;M++)for(var q=c;q<Y;q++){var F=M*z+q,t=F<<1,p=(i-q)*V,E=(L-M)*V,_=p*p+E*E;
if(_<1){b[h]=F;var S=l[~~(_*1e3)];if(o==1){x[t]=x[t]*(1-S*.05);x[t+1]=x[t+1]*(1-S*.05)}else{var y=0,v=0,s,P,d,X;
if(o==0){y=j*S;v=a*S}else if(o==2){}else if(o==3){y=S*E;v=-S*p}else if(o==4){y=S*p;v=S*E}else if(o==5){y=-S*p;
v=-S*E}else if(o==6){y=a*S;v=-j*S}var r=x[t],K=x[t+1];if(q==0||q!=z-1&&y<0){s=1+x[t+2]-r;d=x[t+3]-K}else{s=r-x[t-2]+1;
d=K-x[t-1]}if(M==0||M!=A-1&&v<0){P=x[t+k]-r;X=1+x[t+k+1]-K}else{P=r-x[t-k];X=K-x[t-k+1]+1}x[t]=-(s*y+P*v-r);
x[t+1]=-(d*y+X*v-K)}h++}}};f.RG.awZ=function(x){var z=x[0],A=x[0],o=x[1],i=x[1];for(var F=0;F<x.length;
F+=2){var L=x[F],B=x[F+1];if(L<z)z=L;else if(L>A)A=L;if(B<o)o=B;else if(B>i)i=B}return[z,o,A,i]};f.aak=function(x,z,A,o,i){function L(N,he,gJ,kg){return Math.sqrt((N-gJ)*(N-gJ)+(he-kg)*(he-kg))}function B(N,he){return N>=0&&N<z&&he>=0&&he<A}function D(N){if(N<0)return 0;
if(N>=z)return z-1;return N}function Z(N){if(N<0)return 0;if(N>=A)return A-1;return N}function j(F,N){var he=N[3]*(1/255),gJ=o[F]+N[0]*he;
if(gJ>255)gJ=255;o[F]=gJ;gJ=o[F+1]+N[1]*he;if(gJ>255)gJ=255;o[F+1]=gJ;gJ=o[F+2]+N[2]*he;if(gJ>255)gJ=255;
o[F+2]=gJ}function a(N,he,gJ){if(!U(N,he))return;if(gJ[3]<0)gJ[3]=0;j((he*z+N)*4,gJ)}function b(N){var he=N.slice(0,3);
he[3]=0;return he}var W=z/800;function c(N){return Math.round(N*W)}function Y(){for(var F=0;F<=300;F++){e[F]=R(F)}}function R(A){var N=.8,he=.2,gJ=N*he,kg=A/60%2-1,cJ=gJ*(1-kg*kg),it=he-gJ,by;
if(A<60){by=[gJ+it,cJ,0]}else if(A<120){by=[cJ,gJ,0]}else if(A<180){by=[0,gJ,cJ]}else if(A<240){by=[0,cJ,gJ]}else if(A<300){by=[cJ,0,gJ]}else{by=[gJ,0,cJ]}return[(by[0]+it)*255,(by[1]+it)*255,(by[2]+it)*255]}function $(A){return e[~~A]}function k(N){return 1-w(N)}function w(N){return N-~~N}function V(N,he,gJ,kg){d(N,he,gJ,0,he+1,1,kg)}function h(N,he,gJ,kg,cJ,it){d(N,he,gJ,0,kg,1,cJ,it)}function l(N){for(var F=0;
F<o.length;F+=4){j(F,N)}}function M(N,he,gJ,kg,cJ,it,by,cz){q(N,he,gJ,kg,cJ,1,it,by,cz)}function q(N,he,gJ,kg,cJ,it,by,cz,fG){if(it==null)it=.5;
if(by==null)by=0;if(cz==null)cz=0;if(fG==null)fG=!1;var ju=N.x,gW=N.y,iI=gJ.slice(0),ht=~~(gJ[3]*C);
kg=kg*C;if(!fG){he=X(he);cJ=X(cJ);by=X(by);cz=X(cz)}var et=D(ju-he),be=D(ju+he);for(var c9=et;c9<=be;
c9++){var aJ=c9-ju,b6=Math.floor(Math.sqrt(he*he-aJ*aJ)),ef=Z(gW-b6),jV=Z(gW);for(var hu=ef;hu<=jV;hu++){var eG=L(c9,hu,ju,gW);
if(eG>he||eG<=he-cJ)break;var k8=(eG-he+cJ)/cJ;iI[3]=ht-kg*(it==1?k8:Math.pow(k8,it));j((hu*z+c9)*4,iI)}ef=Z(gW+b6);
for(var hu=ef;hu>jV;hu--){var eG=L(c9,hu,ju,gW);if(eG>he||eG<=he-cJ)break;var k8=(eG-he+cJ)/cJ;iI[3]=ht-kg*(it==1?k8:Math.pow(k8,it));
j((hu*z+c9)*4,iI)}}if(by>0){d(N,he+by,iI,iI[3],by,1,0,0,!0)}if(cz>0){d(N,he-cJ,n(gJ),-gJ[3],cz,1,0,0,!0)}}function t(N,he,gJ,kg,cJ,it){d(N,he,gJ,gJ[3],he+1,1,kg,cJ,it)}function p(N,he,gJ,kg,cJ){if(cJ==null)cJ=!1;
var it=N.x,by=N.y;kg*=C;if(!cJ){he=X(he);gJ=X(gJ)}var cz=D(it-he),fG=D(it+he);for(var ju=cz;ju<fG;ju++){var gW=ju-it,iI=~~Math.sqrt(he*he-gW*gW),ht=Z(by-iI),et=Z(by);
for(var be=ht;be<=et;be++){var c9=L(ju,be,it,by);if(c9>he||c9<=he-gJ)break;var aJ=(he-c9)/gJ,b6=$(300*aJ);
b6[3]=kg;j((be*z+ju)*4,b6)}ht=Z(by+iI);for(var be=ht;be>et;be--){var c9=L(ju,be,it,by);if(c9>he||c9<=he-gJ)break;
var aJ=(he-c9)/gJ,b6=$(300*aJ);b6[3]=kg;j((be*z+ju)*4,b6)}}}function E(J,N){var he=J.o8,gJ=J.ml,kg=N.slice(0),cJ=N[3]*C,it=Math.abs(gJ.y-he.y)>Math.abs(gJ.x-he.x);
if(it){var by=he.x;he.x=he.y;he.y=by;by=gJ.x;gJ.x=gJ.y;gJ.y=by}if(he.x>gJ.x){var by=he;he=gJ;gJ=by}var cz=gJ.x-he.x,fG=gJ.y-he.y,ju=cz==0?1:fG/cz,gW=Math.round(he.x),iI=he.y+ju*(gW-he.x),ht=k(he.x+.5),et=gW,be=~~iI;
if(it){kg[3]=cJ*k(iI)*ht;a(be,et,kg);kg[3]=cJ*w(iI)*ht;a(be+1,et,kg)}else{kg[3]=cJ*k(iI)*ht;a(et,be,kg);
kg[3]=cJ*w(iI)*ht;a(et,be+1,kg)}var c9=iI-ju;gW=Math.round(gJ.x);iI=gJ.y+ju*(gW-gJ.x);ht=w(gJ.x+.5);
var aJ=gW,b6=~~iI;if(it){kg[3]=cJ*k(iI)*ht;a(b6,aJ,kg);kg[3]=cJ*w(iI)*ht;a(b6+1,aJ,kg)}else{kg[3]=cJ*k(iI)*ht;
a(aJ,b6,kg);kg[3]=cJ*w(iI)*ht;a(aJ,b6+1,kg)}if(it){for(var ef=et+1;ef<=aJ-1;ef++){kg[3]=cJ*k(c9);a(~~c9,ef,kg);
kg[3]=cJ*w(c9);a(~~c9+1,ef,kg);c9+=ju}}else{for(var ef=et+1;ef<=aJ-1;ef++){kg[3]=cJ*k(c9);a(ef,~~c9,kg);
kg[3]=cJ*w(c9);a(ef,~~c9+1,kg);c9+=ju}}}function _(N,he,gJ,kg){for(var F=0;F<4;F++){var cJ=N.JV(he+1.3*F,gJ);
E(cJ,kg,1)}}function iL(N,he){this.x=Math.round(N);this.y=Math.round(he)}var S=Math.PI/180;iL.prototype.JV=function(N,he){N=N*S;
var gJ=this.x+he*Math.cos(N),kg=this.y+he*Math.sin(N);return new y(this.x,this.y,gJ,kg)};iL.prototype.atb=function(N,he){N=N*S;
var gJ=this.k5+he*Math.cos(N),kg=this.asX+he*Math.sin(N);return new iL(gJ,kg)};function y(N,he,gJ,kg){this.o8=new iL(N,he);
this.ml=new iL(gJ,kg)}y.prototype.pA=function(N){var he=N*this.o8.x+(1-N)*this.ml.x,gJ=N*this.o8.y+(1-N)*this.ml.y;
return new iL(he,gJ)};var v=M,r=t,K=V,s=h,P=p,d=q,X=c,U=B,n=b,e=[];Y();for(var F=0;F<x.length;F++){o[F]=x[F]}var J=new y(z*i[2],A*i[3],z/2,A/2),C=i[1],H=[];
H[0]=function u(){var N=[80,40,15,60],gJ=0,kg=0;K(J.pA(1.4),260,N,10);K(J.pA(1),100,[240,50,50,30],30);
r(J.pA(1),60,[255,40,0,40]);var he=[255,255,255,255];d(J.pA(1),70,he,he[3],58,.5);K(J.pA(1),12,he);he[3]=40;
v(J.pA(1),150,he,he[3],150);for(var F=0;F<40;F++){gJ+=Math.random()*25;kg=Math.random()*X(300)+X(100);
var cJ=J.pA(1).JV(gJ,kg);E(J.pA(1).JV(gJ,kg),[110,110,110,30])}r(J.pA(1),130,[255,255,255,8]);var it=[170,30,23,70];
s(J.pA(1),70,it,1,3,3);var by=[60,60,130,40];K(J.pA(.47),44,by,5);K(J.pA(.43),22,by,3);by[3]=16;K(J.pA(.53),15,by,2);
var cz=[138,94,42,100];K(J.pA(.2),16,cz,2);var fG=[130,255,170,180];r(J.pA(0),4,fG);r(J.pA(-.25),5,fG);
cz=[150,90,0,50];v(J.pA(-.45),55,n(cz),-cz[3],40,2);K(J.pA(-.42),35,cz,2);K(J.pA(-.5),15,cz,2);P(J.pA(-1.28),145,11,70);
var ju=$(0);ju[3]=50;v(J.pA(-1.28),149,ju,ju[3],4);ju=$(300);ju[3]=50;v(J.pA(-1.28),155-1,n(ju),-ju[3],3);
var gW=[130,130,10,50];s(J.pA(-1),73,gW,3,2);var iI=[40,130,70,40];v(J.pA(-1),70,n(iI),-iI[3],35);iI=[40,170,60,50];
K(J.pA(-.7),25,iI,4);var iI=[70,110,50,60];v(J.pA(1.3),30,n(iI),-iI[3],11,3);by=[0,50,210,80];r(J.pA(-.72),20,by)};
H[1]=function bc(){r(J.pA(1),150,[240,70,70,60]);K(J.pA(1),100,[200,60,60,40],30);var N=[255,255,255,255],he=0,gJ=0;
d(J.pA(1),75,N,N[3],63);K(J.pA(1),12,N);r(J.pA(1),270,[200,200,200,20],10);for(var F=0;F<10;F++){he+=10+Math.random()*40;
gJ=Math.random()*X(250)+X(80);var kg=J.pA(1).JV(he,gJ);E(kg,[110,110,110,35])}he=5;gJ=100;for(var F=0;
F<12;F++){he+=30;_(J.pA(1),he,gJ,[90,90,90,40])}var cJ=[150,40,23,100];s(J.pA(1),70,cJ,1,3,3);var it=[30,100,60,40];
r(J.pA(-.9),180,[255,255,255,20]);K(J.pA(-.9),140,it,15);var by=[170,80,25,15];s(J.pA(-.9),120,by,1,4,4);
var cz=[110,240,190,200];r(J.pA(-.6),3,cz);cz[3]=100;r(J.pA(-.6),7,cz);var fG=[230,120,40,85];r(J.pA(-.73),9,fG);
var ju=[60,60,190,50];K(J.pA(.3),28,ju,6);ju[3]=25;K(J.pA(.34),20,ju,3)};H[2]=function jK(){var N=[255,255,255,255],gJ=0,kg=0;
K(J.pA(1),13,N);d(J.pA(1),150,N,N[3],137);var he=[120,80,35,20];K(J.pA(1.4),260,he,10);for(var F=0;F<40;
F++){gJ+=5+Math.random()*30;kg=Math.random()*X(300);E(J.pA(1).JV(gJ,kg),[110,110,110,20])}var cJ=[10,30,255,30];
K(J.pA(1),70,cJ,50);var it=[15,90,170,15];K(J.pA(1.5),60,it);var by=[220,220,20,50];K(J.pA(-1.15),8,by,2);
var N=[255,255,255,40];r(J.pA(-1.18),6,N);r(J.pA(-1.18),4,N);by=[110,110,10,8];v(J.pA(-1.2),32,n(by),-by[3],20,3);
var cz=[5,0,16,255];for(var F=0;F<4;F++){K(J.pA(-1.36),10,cz,3)}var fG=[90,200,150,20],ju=fG.slice(0);
ju[3]*=2;K(J.pA(-1.32),7,ju,3);K(J.pA(-1.36),7,ju,3);K(J.pA(-1.4),7,ju,3);var N=[230,230,230,100];r(J.pA(-1.36),2,N);
N[3]=3;K(J.pA(-.55),10,N);by=[120,100,10,18];K(J.pA(-.55),160,by,8);K(J.pA(-.55),80,by,4);fG[3]=3;ju[3]=6;
v(J.pA(-.49),13,n(ju),-ju[3],13,2);v(J.pA(-.55),13,n(ju),-ju[3],13,2);fG[3]=20;K(J.pA(.15),25,fG,3);
by[3]=100;r(J.pA(-.52),3,by);by=[200,200,50,40];K(J.pA(.27),1,by,4);var gW=[150,40,23,30];v(J.pA(1),80,n(gW),-gW[3],2,1)};
return H[i[0]]()};f.Ph={};f.Ph.dS=function(x){var z=x.length,f5=x[0].length,A=new Array(f5);for(var F=0;
F<f5;F++)A[F]=new Array(z);for(var F=0;F<f5;F++)for(var o=0;o<z;o++)A[F][o]=x[o][F];return A};f.Ph.Vx=function(x,z){var A=x.length,f5=x[0].length,o=new Array(A);
for(var F=0;F<A;F++)o[F]=new Array(f5);for(var F=0;F<A;F++)for(var i=0;i<f5;i++)o[F][i]=x[F][i]-z[F][i];
return o};f.Ph.add=function(x,z){var A=x.length,f5=x[0].length,o=new Array(A);for(var F=0;F<A;F++)o[F]=new Array(f5);
for(var F=0;F<A;F++)for(var i=0;i<f5;i++)o[F][i]=x[F][i]+z[F][i];return o};f.Ph.multiply=function(x,z){var A=x.length,o=x[0].length,f5=z[0].length;
if(o!=z.length)throw"e";var i=new Array(A);for(var F=0;F<A;F++)i[F]=new Array(f5);if((o&1)!=0)for(var F=0;
F<A;F++){var L=x[F],B=i[F];for(var D=0;D<f5;D++){var Z=0;for(var j=0;j<o;j++)Z+=L[j]*z[j][D];B[D]=Z}}else for(var F=0;
F<A;F++){var L=x[F],B=i[F];for(var D=0;D<f5;D++){var Z=0;for(var j=0;j<o;j+=2)Z+=L[j]*z[j][D]+L[j+1]*z[j+1][D];
B[D]=Z}}return i};f.Ph.eu=function(x,z){var A=x.length,f5=x[0].length,o=new Array(A);for(var F=0;F<A;
F++){var i=0;for(var L=0;L<f5;L++)i+=x[F][L]*z[L];o[F]=i}return o};f.Ph.D6=function(x,z){var A=[];for(var F=0;
F<x;F++){A.push([]);for(var o=0;o<z;o++)A[F].push(0)}return A};f.Ph.aiR=function(x){for(var F=0;F<x.length;
F++)console.log(JSON.stringify(x[F]))};f.Ph.ahA=function(x){var z=[];for(var F=0;F<x.length;F++)z.push(x[F].join(","));
return"["+z.join(";")+"]"};f.Ph.qJ=function(x,z){var A=x.length;for(var o=0;o<A;o++){var i=0,L=Number.NEGATIVE_INFINITY;
for(var F=o;F<A;F++)if(Math.abs(x[F][o])>L){i=F;L=Math.abs(x[F][o])}f.Ph.auJ(x,o,i);for(var F=o+1;F<A;
F++){if(x[o][o]==0)return 1;var B=x[F][o]/x[o][o];for(var D=o;D<A+1;D++)x[F][D]-=x[o][D]*B}}for(var F=A-1;
F>=0;F--){if(x[F][F]==0)return 1;var Z=x[F][A]/x[F][F];z[F]=Z;for(var D=F-1;D>=0;D--){x[D][A]-=x[D][F]*Z;
x[D][F]=0}}return 0};f.Ph.auJ=function(x,z,A){var o=x[z];x[z]=x[A];x[A]=o};f.Ph.akX=function(x){var z=x.length,A=f.Ph.D6(z,z);
for(var F=0;F<z;F++)A[F][F]=x[F];return A};f.Ph.ae_=function(x){var z=x.length,A=x[0].length,o=new Array(z);
for(var F=0;F<z;F++){o[F]=0;for(var i=0;i<A;i++)o[F]+=x[F][i];o[F]/=A}return o};f.Ph.$y=function(x){var z=0;
for(var F=0;F<x.length;F++)z+=x[F]*x[F];return Math.sqrt(z)};f.ZJ={};f.ZJ.BT=function(x){var z=~~(x+.5);
return z<0?0:z>255?255:z};f.ZJ.transform=function(x,z,A){var o=f.ZJ.BT,i=x.w.length;for(var F=0;F<i;
F++){var L=x.w[F],B=x.a[F],D=x.s[F];z.w[F]=o(A[0]*L+A[1]*B+A[2]*D+A[3]*255);z.a[F]=o(A[4]*L+A[5]*B+A[6]*D+A[7]*255);
z.s[F]=o(A[8]*L+A[9]*B+A[10]*D+A[11]*255)}};f.ZJ.n4=function(x,z,A){var o=f.ZJ.BT,i=x.length;for(var F=0;
F<i;F+=4){var L=x[F],B=x[F+1],D=x[F+2];z[F]=o(A[0]*L+A[1]*B+A[2]*D+A[3]*255);z[F+1]=o(A[4]*L+A[5]*B+A[6]*D+A[7]*255);
z[F+2]=o(A[8]*L+A[9]*B+A[10]*D+A[11]*255)}};f.ZJ.Ax=function(x){var z=x[0]+x[1]+x[2],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(z==1){var o=x.indexOf(1);A[o]=A[o+4]=A[o+8]=1}else{A[0]=x[0];A[5]=x[1];A[10]=x[2]}return A};f.ZJ.jd=function(x,z,A){return[1,0,0,x,0,1,0,z,0,0,1,A,0,0,0,1]};
f.ZJ.PN=function(x,z,A){return[x,0,0,0,0,z,0,0,0,0,A,0,0,0,0,1]};f.ZJ.a61=function(x){return[x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]]};
f.ZJ.Xp=function(x){return[x[0],x[1],x[2],0,x[3],x[4],x[5],0,x[6],x[7],x[8],0,0,0,0,1]};f.ZJ.xB=function(x,z){return[x[0]*z[0]+x[1]*z[1]+x[2]*z[2]+x[3]*z[3],x[4]*z[0]+x[5]*z[1]+x[6]*z[2]+x[7]*z[3],x[8]*z[0]+x[9]*z[1]+x[10]*z[2]+x[11]*z[3],x[12]*z[0]+x[13]*z[1]+x[14]*z[2]+x[15]*z[3]]};
f.ZJ.dS=function(x){var z=[];z[0]=x[0];z[1]=x[4];z[2]=x[8];z[3]=x[12];z[4]=x[1];z[5]=x[5];z[6]=x[9];
z[7]=x[13];z[8]=x[2];z[9]=x[6];z[10]=x[10];z[11]=x[14];z[12]=x[3];z[13]=x[7];z[14]=x[11];z[15]=x[15];
return z};f.ZJ.add=function(x,z){var A=x.slice(0);for(var F=0;F<16;F++)A[F]+=z[F];return A};f.ZJ.multiply=function(x,z){var A=[];
A[0]=x[0]*z[0]+x[1]*z[4]+x[2]*z[8]+x[3]*z[12];A[1]=x[0]*z[1]+x[1]*z[5]+x[2]*z[9]+x[3]*z[13];A[2]=x[0]*z[2]+x[1]*z[6]+x[2]*z[10]+x[3]*z[14];
A[3]=x[0]*z[3]+x[1]*z[7]+x[2]*z[11]+x[3]*z[15];A[4]=x[4]*z[0]+x[5]*z[4]+x[6]*z[8]+x[7]*z[12];A[5]=x[4]*z[1]+x[5]*z[5]+x[6]*z[9]+x[7]*z[13];
A[6]=x[4]*z[2]+x[5]*z[6]+x[6]*z[10]+x[7]*z[14];A[7]=x[4]*z[3]+x[5]*z[7]+x[6]*z[11]+x[7]*z[15];A[8]=x[8]*z[0]+x[9]*z[4]+x[10]*z[8]+x[11]*z[12];
A[9]=x[8]*z[1]+x[9]*z[5]+x[10]*z[9]+x[11]*z[13];A[10]=x[8]*z[2]+x[9]*z[6]+x[10]*z[10]+x[11]*z[14];A[11]=x[8]*z[3]+x[9]*z[7]+x[10]*z[11]+x[11]*z[15];
A[12]=x[12]*z[0]+x[13]*z[4]+x[14]*z[8]+x[15]*z[12];A[13]=x[12]*z[1]+x[13]*z[5]+x[14]*z[9]+x[15]*z[13];
A[14]=x[12]*z[2]+x[13]*z[6]+x[14]*z[10]+x[15]*z[14];A[15]=x[12]*z[3]+x[13]*z[7]+x[14]*z[11]+x[15]*z[15];
return A};f.ZJ.Qs=function(x){var z=[];z[0]=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10];
z[1]=-x[1]*x[10]*x[15]+x[1]*x[14]*x[11]+x[2]*x[9]*x[15]-x[2]*x[13]*x[11]-x[3]*x[9]*x[14]+x[3]*x[13]*x[10];
z[2]=x[1]*x[6]*x[15]-x[1]*x[14]*x[7]-x[2]*x[5]*x[15]+x[2]*x[13]*x[7]+x[3]*x[5]*x[14]-x[3]*x[13]*x[6];
z[3]=-x[1]*x[6]*x[11]+x[1]*x[10]*x[7]+x[2]*x[5]*x[11]-x[2]*x[9]*x[7]-x[3]*x[5]*x[10]+x[3]*x[9]*x[6];
z[4]=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10];
z[5]=x[0]*x[10]*x[15]-x[0]*x[14]*x[11]-x[2]*x[8]*x[15]+x[2]*x[12]*x[11]+x[3]*x[8]*x[14]-x[3]*x[12]*x[10];
z[6]=-x[0]*x[6]*x[15]+x[0]*x[14]*x[7]+x[2]*x[4]*x[15]-x[2]*x[12]*x[7]-x[3]*x[4]*x[14]+x[3]*x[12]*x[6];
z[7]=x[0]*x[6]*x[11]-x[0]*x[10]*x[7]-x[2]*x[4]*x[11]+x[2]*x[8]*x[7]+x[3]*x[4]*x[10]-x[3]*x[8]*x[6];z[8]=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9];
z[9]=-x[0]*x[9]*x[15]+x[0]*x[13]*x[11]+x[1]*x[8]*x[15]-x[1]*x[12]*x[11]-x[3]*x[8]*x[13]+x[3]*x[12]*x[9];
z[10]=x[0]*x[5]*x[15]-x[0]*x[13]*x[7]-x[1]*x[4]*x[15]+x[1]*x[12]*x[7]+x[3]*x[4]*x[13]-x[3]*x[12]*x[5];
z[11]=-x[0]*x[5]*x[11]+x[0]*x[9]*x[7]+x[1]*x[4]*x[11]-x[1]*x[8]*x[7]-x[3]*x[4]*x[9]+x[3]*x[8]*x[5];z[12]=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
z[13]=x[0]*x[9]*x[14]-x[0]*x[13]*x[10]-x[1]*x[8]*x[14]+x[1]*x[12]*x[10]+x[2]*x[8]*x[13]-x[2]*x[12]*x[9];
z[14]=-x[0]*x[5]*x[14]+x[0]*x[13]*x[6]+x[1]*x[4]*x[14]-x[1]*x[12]*x[6]-x[2]*x[4]*x[13]+x[2]*x[12]*x[5];
z[15]=x[0]*x[5]*x[10]-x[0]*x[9]*x[6]-x[1]*x[4]*x[10]+x[1]*x[8]*x[6]+x[2]*x[4]*x[9]-x[2]*x[8]*x[5];var A=x[0]*z[0]+x[1]*z[4]+x[2]*z[8]+x[3]*z[12];
for(var F=0;F<16;F++)z[F]/=A;return z};f.ZJ.an6=function(x){var z=[],A=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10],o=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10],i=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9],L=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
return x[0]*A+x[1]*o+x[2]*i+x[3]*L};f.ZJ.Wv=f.ZJ.Xp([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
f.ZJ.a1H=f.ZJ.Xp([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
f.ZJ.aiq=f.ZJ.Qs(f.ZJ.Wv);f.C$={};f.C$.w_=new Uint32Array(1);f.C$.Tc=function(x,z,A,o,i,L){var B=new Uint32Array(x),D=0,Z=f.C$.w_;
if(Z.length<z*4)f.C$.w_=Z=new Uint32Array(z*4);var j=new Float64Array(Z.buffer);for(var F=0;F<z;F+=2){var a=i[F],b=i[F+1],W=L[F],c=L[F+1];
Z[D]=b;j[D+2>>1]=W;Z[D+1]=B[a];B[a]=D+1;D+=4;Z[D]=a;j[D+2>>1]=c;Z[D+1]=B[b];B[b]=D+1;D+=4}return{zE:Z,agn:j,avw:B}};
f.C$.qJ=function(x,z,A,o,i,L,B){var D=1,Z=f.C$.Tc(x,z,A,o,i,L),j=Z.zE,a=Z.agn,b=Z.avw,W=new Uint32Array(x),c=new f.C$.z4(x),R=1,h=0;
c.push(A);c.push(o);var Y=new f.C$.z4(x),$=new Uint8Array(x),k=new Uint32Array(x);$[A]=1;$[o]=2;var w=new Uint32Array(x),V=new Uint32Array(x);
V[A]=V[o]=0;w[A]=w[o]=1;while(!0){var l=-1,S=0,K=1e30;while(!c.Zw()&&l==-1){var M=c.top(),q=$[M],t=b[M]-1;
while(t!=-1){var p=j[t],E=$[p],_=t^q-1<<2;if(a[_+2>>1]!=0){if(E==0){f.C$.zN(M,t,p,$,k,V,w);c.push(p)}else if(E==q&&w[p]<=w[M]&&V[p]>V[M])f.C$.zN(M,t,p,$,k,V,w);
else if(E!=q){l=_}}t=j[t+1]-1}if(l!=-1)break;c.pop()}if(l==-1){break}R++;var y=l;while(y!=-1){W[S]=y;
S++;y=k[j[y^4]]-1}var v=S>>1;for(var F=0;F<v;F++){var r=W[F];W[F]=W[S-F-1];W[S-F-1]=r}y=k[j[l]]-1;while(y!=-1){W[S]=y^4;
S++;y=k[j[y^4]]-1}for(var F=0;F<S;F++)K=Math.min(K,a[W[F]+2>>1]);h+=K;if(h>=B)return{aj:null,iU:h};for(var F=0;
F<S;F++){var s=W[F],P=s^4,M=j[P],p=j[s];a[s+2>>1]-=K;a[P+2>>1]+=K;if(a[s+2>>1]==0&&$[M]==$[p]){if($[M]==1){k[p]=0;
Y.push(p)}if($[M]==2){k[M]=0;Y.push(M)}}}while(!Y.Zw()){var M=Y.pop(),q=$[M],t=b[M]-1,d=q==1?4:0,X=0,U=0,n=1e9;
while(t!=-1){var p=j[t],e=t^4,_=t^d;if($[p]==q&&a[_+2>>1]>0&&f.C$.aof(p,A,o,k,j,R,w,V)+1<n){X=p;U=e;
n=V[p]+1}t=j[t+1]-1}if(U!=0){f.C$.zN(X,U,M,$,k,V,w);continue}t=b[M]-1;while(t!=-1){var p=j[t],_=t^d;
if($[p]==q){if(a[_+2>>1]>0){c.push(p)}if(k[p]==t+1){k[p]=0;Y.push(p)}}t=j[t+1]-1}$[M]=0;c.remove(M)}}var J=[];
for(var F=0;F<z;F+=2){var M=i[F],p=i[F+1];if($[M]==1&&$[p]!=1){J.push(F>>1)}if($[p]==1&&$[M]!=1){J.push(z+F>>1)}}return{aj:J,iU:h}};
f.C$.zN=function(x,z,A,o,i,L,B){o[A]=o[x];i[A]=z+1;L[A]=L[x]+1;B[A]=B[x]};f.C$.aof=function(x,z,A,o,i,L,B,D){var Z=x,j=o[x]-1,a=0;
while(j!=-1&&B[x]!=L){x=i[j^4];j=o[x]-1;a++}if(j==-1&&x!=z&&x!=A)return 1e9;var b=D[x]+a;a=0;j=o[Z]-1;
while(Z!=x){D[Z]=b-a;a++;B[Z]=L;Z=i[j^4];j=o[Z]-1}return b};f.C$.a3L=function(x,z,A,o,i,L){var B=f.C$.Tc(x,z,A,o,i,L),D=B.zE,Z=B.agn,j=B.avw,a=0,b=0,W=new Uint32Array(x*2),c=new f.C$.NR(x),Y=0;
while(!0){c.reset();c.push(A);for(var F=0;F<x;F++)W[F<<1]=0;while(!c.Zw()){var R=c.pop(),$=j[R]-1;while($!=-1){Y=D[$];
if(W[Y<<1]==0&&Z[$+2>>1]>0&&Y!=A){W[Y<<1]=R+1;W[(Y<<1)+1]=$;c.push(Y)}$=D[$+1]-1}if(W[o<<1]!=0){break}}if(W[o<<1]==0){break}var k=1e30;
Y=o;while(!0){var w=W[Y<<1]-1;if(w==-1)break;var V=W[(Y<<1)+1];k=Math.min(k,Z[V+2>>1]);Y=w}Y=o;while(!0){var w=W[Y<<1]-1;
if(w==-1)break;var V=W[(Y<<1)+1],h=V^4;Z[V+2>>1]-=k;Z[h+2>>1]+=k;Y=w}a+=k}var l=[];for(var F=0;F<z;F+=2){var w=i[F],Y=i[F+1];
if((W[w<<1]!=0||w==A)&&W[Y<<1]==0&&Y!=A){l.push(F>>1)}if((W[Y<<1]!=0||Y==A)&&W[w<<1]==0&&w!=A){l.push(z+F>>1)}}return{aj:l,iU:a}};
f.C$.NR=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.zf=new Uint32Array(x+1);this.sD=x;
this.Eg=0;this.OK=0};f.C$.NR.prototype={push:function(x){var z=this.OK;this.zf[z]=x;this.OK=z+1&this.sD},pop:function(){var x=this.Eg,z=this.zf[x];
this.Eg=x+1&this.sD;return z},Zw:function(){return this.Eg==this.OK},reset:function(){this.Eg=0;this.OK=0}};
f.C$.z4=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.zf=new Uint32Array(x+1);this.DM=new Uint32Array(x+1);
this.sD=x;this.Eg=0;this.OK=0};f.C$.z4.prototype={top:function(){return this.zf[this.Eg]},ara:function(){return this.zf[this.OK]},push:function(x){if(this.DM[x]!=0)return;
this.DM[x]=this.OK+1;var z=this.OK;this.zf[z]=x;this.OK=z+1&this.sD},pop:function(){var x=this.Eg,z=this.zf[x];
this.DM[z]=0;this.Eg=x+1&this.sD;return z},Zw:function(){return this.Eg==this.OK},remove:function(x){var z=this.DM[x]-1;
if(z==-1)return;this.DM[x]=0;if(z==this.Eg){this.pop();return}var A=this.pop();this.zf[z]=A;this.DM[A]=z+1},ns:function(F){return F+this.sD+1&this.sD}};
f.C$.Tz=function(x,z,A){var o=f.C$.Ts(x,z,A);if(z<o-1)f.C$.Tz(x,z,o-1);if(o<A)f.C$.Tz(x,o,A)};f.C$.Ts=function(x,z,A){var o=x[z+A>>>1];
while(z<=A){while(x[z]<o)z++;while(x[A]>o)A--;if(z<=A){f.C$.SG(x,z,A);z++;A--}}return z};f.C$.SG=function(x,z,A){var o=x[z];
x[z]=x[A];x[A]=o};f.i4={};f.i4.awf=function(x){for(var F=0;F<x.length;F++)f.i4.vT(x,F)};f.i4.vT=function(x,F){x[F].v.keyShapeInvalidated={t:"bool",v:!0}};
f.i4.ajE=function(x){for(var F=0;F<x.length;F++)x[F].v.keyOriginIndex.v=F};f.i4.vJ=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
f.i4.tY=function(x){x=x.v;var z={Rctn:2,Ln:4,Elps:5},A=z[x.classID],o=x.topLeft?f.i4.EA(x):null,i=null,L=0,B=[!1,!1,0,0,0];
if(A==4){var D=x.Strt.v,Z=x.End.v;i=[D.Hrzn.v.val,D.Vrtc.v.val,Z.Hrzn.v.val,Z.Vrtc.v.val];L=x.Wdth.v.val;
for(var F=0;F<2;F++){var j=x[F==0?"StrA":"EndA"];if(j==null)continue;j=j.v;B[F]=j.On.v;B[2]=j.Wdth.v;
B[3]=j.Lngt.v;B[4]=j.Cncv.v.val}}if(A==null)return null;return f.i4.Iy(A,A==4?null:f.i4.xm(x),o,i,L,B)};
f.i4.NT=function(x,z,A,o,i,L,B){var D={classID:x,unitValueQuadVersion:{t:"long",v:1}};if(z)f.i4.eo(D,["Left","Top","Rght","Btom"],z);
if(A)f.i4.eo(D,["topLeft","topRight","bottomRight","bottomLeft"],A);if(x=="Ln"){D.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[1]}}}},D.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[3]}}}},D.Wdth={t:"UntF",v:{type:"#Pxl",val:i}};
for(var F=0;F<2;F++){var Z=F==0?"StrA":"EndA";D[Z]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:B[F]},Wdth:{t:"doub",v:B[2]},Lngt:{t:"doub",v:B[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:B[4]}}}}}}if(L)D.Nm={t:"TEXT",v:L};
return{t:"Objc",v:D}};f.i4.U$=function(x,z){var A=f.i4.LF(x),o=x[2]-x[0],i=x[3]-x[1],L=Math.sqrt(o*o+i*i),B=[0,0,L,0,L,z,0,z],D=new cb;
D.rotate(-A);D.translate(x[0],x[1]);f.p.D(B,D,B);return B};f.i4.Iy=function(x,z,A,o,i,L){var B=f.i4.vJ(),D=B.v,Z;
delete D.keyShapeInvalidated;D.keyOriginType={t:"long",v:x};D.keyOriginResolution={t:"doub",v:75};if(x==4){D.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[0]},Vrtc:{t:"doub",v:o[1]}}};
D.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[2]},Vrtc:{t:"doub",v:o[3]}}};Z=f.i4.U$(o,i);
var j=f.p.Jr(Z);z=[j.x,j.y,j.x+j.m,j.y+j.n];D.keyOriginLineWeight={t:"doub",v:i};if(L)f.i4.a44(D,L)}else Z=[z[0],z[1],z[2],z[1],z[2],z[3],z[0],z[3]];
D.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};f.i4.jX(D,"keyOriginBoxCorners",Z);var a={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
D.keyOriginShapeBBox={t:"Objc",v:a};f.i4.MW(D,z);if(A!=null){var b={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
D.keyOriginRRectRadii={t:"Objc",v:b};f.i4.Kf(D,A)}return B};f.i4.D=function(x,z,A,o){var i=f.P.wH(z),L=f.P._F(z);
for(var F=0;F<x.length;F++){var B=x[F].v;if(!f.i4.uH(B))continue;if(A.length!=0&&A.indexOf(F)==-1)continue;
var D=B.keyOriginType.v,Z=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var j=0;j<Z.length;
j++){var a=f.i4.Vq(B,Z[j]);if(a==null)continue;f.P.D(z,a);f.i4.jX(B,Z[j],a);var b=f.p.Jr(a);f.i4.MW(B,[b.x,b.y,b.x+b.m,b.y+b.n]);
var W=new cb;W.rotate(-f.i4.LF(a));var c={classID:"Trnf"};B.Trnf={t:"Objc",v:c};var Y="xx xy yx yy tx ty".split(" "),R=[W.xc,W.s,W.Pm,W.y9,W.ZT,W._s];
for(var $=0;$<6;$++)c[Y[$]]={t:"doub",v:R[$]}}var a=f.i4.Vq(B,"keyOriginBoxCorners"),k=a[2]-a[0],w=a[3]-a[1],V=Math.sqrt(k*k+w*w);
k/=V;w/=V;var h=a[6]-a[0],l=a[7]-a[1],M=Math.sqrt(h*h+l*l);h/=M;l/=M;if(D==4){B.keyOriginLineWeight.v=M;
var q=f.i4.PL(B);f.P.D(z,q);f.i4.a9C(B,q)}var t=k*h+w*l;if(Math.abs(t)>.001){f.i4.vT(x,F)}}};f.i4.uH=function(x){var z=x.keyShapeInvalidated,A=x.keyOriginType;
return(z==null||!z.v)&&A!=null&&A.v!=9};f.i4.av8=function(x){var z=x.keyOriginType.v,A=f.i4.$K(x),o=A[0],i=A[1],L=A[2],B=A[3],D=new cb,Z=x.keyOriginPolyCornerRadius,c;
Z=Z?Z.v:0;var j=f.i4.Vq(x,z==7||z==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),a=f.i4.Qn(j),b=a[2],W=a[3];
o=-b/2;L=b/2;i=-W/2;B=W/2;D.rotate(-f.i4.LF(j));D.ZT=a[0];D._s=a[1];if(z==1||z==2){var Y=z==1?0:f.i4.bj(x);
c=f.J.Ja.Rect(o,i,L-o,B-i,Y)}else if(z==4){var R=f.i4.PL(x),$=f.i4.ah8(x);D=new cb;if($==null)c=f.J.Ja.d9(R[0],R[1],R[2],R[3],x.keyOriginLineWeight.v);
else c=f.J.Ja.Fz(R[0],R[1],R[2],R[3],x.keyOriginLineWeight.v,$)}else if(z==5){c=f.J.Ja.sq(o,i,L-o,B-i)}else if(z==7||z==8){var k=z==7?3:x.keyOriginPolySides.v;
c=f.J.Ja.LB(0,0,100,Math.PI/k-Math.PI/2,k,Z,L,B)}f.J.ox(c,D);return c};f.i4.nX=function(x,z){var A=z._;
for(var F=0;F<x.length;F++){var o=x[F].v;if(!f.i4.uH(o))continue;var i=f.i4.av8(o),L=f.J.MB(A,F),B=f.J.Mr(A,F);
i[2].qh=A[L].qh;var D=A;A=A.slice(0,L);for(var Z=2;Z<i.length;Z++)A.push(i[Z]);for(var Z=L+B;Z<D.length;
Z++)A.push(D[Z])}z._=A;z.h9=!0};f.i4.p0=function(x){var z=1e9,A=-z,o=1e9,i=-o,L=[],B=x.Dd(),D=B[0],Z=B[1];
for(var j=0;j<Z.length;j++){var a=D[Z[j]],b=a.add.vogk;if(b==null)continue;var W=a.add.vmsk.f;for(var c=0;
c<b.length;c++){var Y=b[c].v,k=0;if(!f.i4.uH(Y))continue;if(Z.length==1&&W.length!=0&&W.indexOf(c)==-1)continue;
var R=Y.keyOriginType.v;if(R==9)continue;var $=f.i4.$K(Y);z=Math.min(z,$[0]);o=Math.min(o,$[1]);A=Math.max(A,$[2]);
i=Math.max(i,$[3]);var w=f.i4.Vq(Y,"keyOriginBoxCorners");if(w){var V=f.i4.Qn(w),h=V[2],l=V[3];$[2]=$[0]+h;
$[3]=$[1]+l;k=f.i4.LF(w)}var M=[R,$,k];L.push(M);if(R==2)M.push(f.i4.bj(Y));if(R==7||R==8)M.push(Y.keyOriginPolyCornerRadius.v);
if(R==8)M.push(Y.keyOriginPolySides.v)}}return L.length==1?L[0]:[0,z<A?[z,o,A,i]:null,0]};f.i4.LF=function(x){var z=x[2]-x[0],A=x[3]-x[1];
return-Math.atan2(-A,z)};f.i4.ajn=function(x,z){var A=f.i4.p0(x),o=-1;for(var F=0;F<z.length;F++)if(JSON.stringify(z[F])!=JSON.stringify(A[F]))o=F;
if(o==1||o==2){}var i=x.Dd(),L=i[0],B=i[1];for(var D=0;D<B.length;D++){var Z=L[B[D]],j=Z.add.vogk;if(j==null)continue;
var a=Z.add.vmsk.f;for(var b=0;b<j.length;b++){var W=j[b].v;if(!f.i4.uH(W))continue;if(B.length==1&&a.length!=0&&a.indexOf(b)==-1)continue;
var c=W.keyOriginType.v;if(o==1||o==2){f.i4.D(j,f.i4.asH(o,W,A,z),a,!1);break}if(o==3)if(c==2)f.i4.Kf(W,z[3]);
else W.keyOriginPolyCornerRadius.v=z[3];if(o==4)W.keyOriginPolySides.v=z[4]}}};f.i4.asH=function(x,z,A,o){var i=o[1],L=A[1],B=(i[2]-i[0])/(L[2]-L[0]),D=(i[3]-i[1])/(L[3]-L[1]),Z=new cb;
if(x==1){if(Math.max(Math.abs(B-1),Math.abs(D-1))>1e-8){var j=i[0],a=i[1];if(o[0]!=0){var b=f.i4.Vq(z,"keyOriginBoxCorners");
j=b[0];a=b[1]}Z.translate(-j,-a);Z.rotate(o[2]);Z.scale(B,D);Z.rotate(-o[2]);Z.translate(j,a)}else{Z.translate(-L[0],-L[1]);
Z.translate(i[0],i[1])}}else{if(o[0]!=0)i=f.i4.$K(z);var j=(i[0]+i[2])/2,a=(i[1]+i[3])/2;Z.translate(-j,-a);
if(A[0]!=0)Z.rotate(A[2]);Z.rotate(-o[2]);Z.translate(j,a)}return f.P.TX(Z)};f.i4.Qn=function(x){var z=x[0],A=x[1],o=x[2],i=x[3],L=x[4],B=x[5],D=x[6],Z=x[7],j=o-z,a=i-A,b=Math.sqrt(j*j+a*a),j=L-o,a=B-i,W=Math.sqrt(j*j+a*a);
return[(z+L)/2,(A+B)/2,b,W]};f.i4.Vq=function(x,z){var A=x[z];if(A==null)return null;var o=[];A=A.v;
for(var i=0;i<4;i++){var L=A["rectangleCorner"+["A","B","C","D"][i]].v;o.push(L.Hrzn.v,L.Vrtc.v)}return o};
f.i4.jX=function(x,z,A){var o=x[z];if(o==null)return null;o=o.v;for(var i=0;i<4;i++){var L="rectangleCorner"+["A","B","C","D"][i];
o[L]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:A[2*i]},Vrtc:{t:"doub",v:A[2*i+1]}}}}};f.i4.$K=function(x){return f.i4.xm(x.keyOriginShapeBBox.v)};
f.i4.xm=function(x){var z=x.classID,A=x.Left.v,o=x.Rght.v,i=x.Top.v,L=x.Btom.v;if(z=="unitRect"||z=="radii"||z=="Rctn"){A=A.val;
o=o.val;i=i.val;L=L.val}return[A,i,o,L]};f.i4.MW=function(x,z){f.i4.eo(x.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],z)};
f.i4.bj=function(x){return f.i4.EA(x.keyOriginRRectRadii.v)};f.i4.EA=function(x){var z=[],A=["topLeft","topRight","bottomRight","bottomLeft"];
for(var o=0;o<4;o++)z.push(x[A[o]].v.val);return z};f.i4.Kf=function(x,z){f.i4.eo(x.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],z)};
f.i4.eo=function(x,z,A){var o=x.classID;if(o=="unitRect"||o=="radii"||o=="Rctn"){for(var F=0;F<4;F++)if(A[F]!=null)x[z[F]]={t:"UntF",v:{type:"#Pxl",val:A[F]}}}else{for(var F=0;
F<4;F++)if(A[F]!=null)x[z[F]]={t:"doub",v:A[F]}}};f.i4.PL=function(x){var z=x.keyOriginLineStart.v,A=x.keyOriginLineEnd.v;
return[z.Hrzn.v,z.Vrtc.v,A.Hrzn.v,A.Vrtc.v]};f.i4.a9C=function(x,z){var A=x.keyOriginLineStart.v,o=x.keyOriginLineEnd.v;
A.Hrzn.v=z[0];A.Vrtc.v=z[1];o.Hrzn.v=z[2];o.Vrtc.v=z[3]};f.i4.ah8=function(x){var z=[],A=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var F=0;F<5;F++){var o=x["keyOriginLineArr"+A[F]];if(o==null)return null;z[F]=o.v}return z};f.i4.a44=function(x,z){x.keyOriginLineArrowSt={t:"bool",v:z[0]};
x.keyOriginLineArrowEnd={t:"bool",v:z[1]};x.keyOriginLineArrWdth={t:"doub",v:z[2]};x.keyOriginLineArrLngth={t:"doub",v:z[3]};
x.keyOriginLineArrConc={t:"long",v:z[4]}};f.p={};f.p.clone=function(x){return{F:x.F.slice(0),v:x.v.slice(0)}};
f.p.HI=function(x){if(x.length<6)return!0;var z=x.length-4;for(var F=0;F<z;F+=2)if(!f.p._L(x[F],x[F+1],x[F+2],x[F+3],x[F+4],x[F+5]))return!1;
if(!f.p._L(x[z],x[z+1],x[z+2],x[z+3],x[0],x[1]))return!1;if(!f.p._L(x[z+2],x[z+3],x[0],x[1],x[2],x[3]))return!1;
return!0};f.p._L=function(x,z,A,o,i,L){return(z-o)*(i-A)+(A-x)*(L-o)>=0};f.p.J_=function(x){var z={},A=null,o=0,i={M:2,L:2,Q:4,C:6},L="",B="";
for(var F=0;F<x.F.length;F++){var D=x.F[F];if(D[0]=="#")L=D;else if(D[0]=="X")L="";else if(D[0]=="O"&&D[1]=="-")B=D;
else if(D=="OX")B="";else{var Z=L+B;A=z[Z];if(A==null)A=z[Z]={v:[],F:[]};A.F.push(D);var j=i[D];if(j==null)j=0;
for(var a=0;a<j;a++)A.v.push(x.v[o+a]);o+=j}}return z};f.p.Ok=function(x,z,A){var o=x[z]-x[A-2],i=x[z+1]-x[A-1];
return o*o+i*i<1e-4};f.p.fq=function(x,z,A){x=f.p.Ox(x);var o=x.v,i=x.F,L=0,B="",D=0,Z=0,L=0,b=null;
for(var F=0;F<i.length;F++){var j=i[F];if(j=="M"){D=o[L];Z=o[L+1];L+=2;B=j}if(j=="C"){if(B=="Z"){i.splice(F,0,"M");
o.splice(L,0,D,Z);F--;continue}L+=6;B=j}if(j=="Z"){B=j}}var a=[];L=0;for(var F=0;F<i.length;F++){var j=i[F];
if(j=="M"){b={cM:L,LO:0,iQ:!1};a.push(b);L+=2}if(j=="C"){b.LO++;L+=6}if(j=="Z"&&b!=null){b.iQ=!0}}var W=[];
for(var F=0;F<a.length;F++)if(a[F].LO!=0)W.push(a[F]);a=W;for(var F=0;F<a.length;F++){var c=a[F],Y=c.cM,R=Y+2+c.LO*6,k=0;
c.MV=f.p.Jr(o,Y,R);var $=f.p.Ok(o,Y,R);for(var w=0;w<c.LO;w++){var V=Y+w*6,h=V+6;k+=(o[h]-o[V])*(o[h+1]+o[V+1])}if(c.LO==2){var l=function(bc,jK,N){var he=1-N;
return he*he*he*bc[jK]+3*he*he*N*bc[jK+2]+3*he*N*N*bc[jK+4]+N*N*N*bc[jK+6]},M=o[Y],q=o[Y+1],t=o[Y+6],p=o[Y+7],E=o[Y+6],_=o[Y+7],S=l(o,Y,.5),y=l(o,Y+1,.5),v=l(o,Y+6,.5),r=l(o,Y+7,.5);
k=(S-M)*(y-q)+(t-S)*(p-y)+(v-t)*(r-p)+(E-v)*(_-r)}if(!$)k+=(o[Y]-o[R-2])*(o[Y+1]+o[R-1]);c.cl=k<=0}for(var F=0;
F<a.length-1;F++)for(var V=F+1;V<a.length;V++){var K=a[F],s=a[V];if(s.MV.V2(K.MV)){a[F]=s;a[V]=K}}var P=a.length==0?!0:a[0].cl,d=[{type:6},{type:8,all:0}];
for(var F=0;F<a.length;F++){var c=a[F],Y=c.cM,R=Y+2+c.LO*6,$=f.p.Ok(o,Y,R),X=c.iQ||$?0:3,U=c.cl==P&&!z?1:0;
if(!z&&F!=0){if(a[F-1].MV.V2(c.MV)&&a[F-1].cl!=c.cl)U=0;for(var V=0;V<a.length;V++)if(V!=F&&a[V].MV.V2(c.MV))U=0}d.push({type:X,length:c.LO+($?0:1),qh:A?1:U,zB:2});
for(var V=0;V<c.LO;V++){var L=Y+V*6,n=new iL(o[L],o[L+1]),e=new iL(o[L+2],o[L+3]),J;if(V==0){if($){J=new iL(o[R-4],o[R-3]);
if(iL.Or(J,n)<1e-5)J=n.clone()}else J=n.clone()}else J=new iL(o[L-2],o[L-1]);d.push({type:X+2,re:J,H:n,zy:e})}if(!$){var C=new iL(o[R-2],o[R-1]);
d.push({type:X+2,re:new iL(o[R-4],o[R-3]),H:C,zy:C.clone()})}}for(var V=0;V<d.length;V++){var H=d[V];
if(H.type>5||H.type==0||H.type==3)continue;var u=H.re.S0(H.H)||H.zy.S0(H.zy);if(!u){var K=H.re.x*(H.H.y-H.zy.y)+H.H.x*(H.zy.y-H.re.y)+H.zy.x*(H.re.y-H.H.y);
if(Math.abs(K)<1e-6)u=!0}if(u)H.type--}return d};f.p.mt=function(x,z){var A=f.J.T1(x),o=!1;for(var F=2;
F<x.length;F++){var i=x[F].qh;if(i!=null){if(i==2||i==0||i==3)o=!0}}if((o||z)&&x.length<15e3&&A>1)x=f.J.xK(x);
var L=f.p.zx(x);return{ht:L,Du:o?1:0}};f.p.zx=function(){function x(o,i,L,B){if(!B&&o.zy.S0(o.H)&&i.re.S0(i.H)){L.v.push(i.H.x,i.H.y);
L.F.push("L")}else{var D=o.H,Z=o.zy,j=i.re,a=i.H,b=3/2*Z.x-1/2*D.x,W=3/2*Z.y-1/2*D.y,c=3/2*j.x-1/2*a.x,Y=3/2*j.y-1/2*a.y,R=c-b,$=Y-W;
if(!B&&R*R+$*$<.001){L.v.push((b+c)*.5,(W+Y)*.5,a.x,a.y);L.F.push("Q")}else{L.v.push(Z.x,Z.y,j.x,j.y,a.x,a.y);
L.F.push("C")}}}function z(o,i,F,L,B,D){var Z=i[F];o.v.push(Z.H.x,Z.H.y);o.F.push("M");for(var j=F;j<F+L-1;
j++)x(i[j],i[j+1],o,D);if(!B)x(i[j],i[F],o,D)}function A(o,i){o=f.J.a0A(o);if(i==null)i=!1;var L={v:[],F:[]};
for(var F=0;F<o.length;F++){if(o[F].type>5)continue;var B=o[F].length;if(B==0)continue;if(F==o.length-1)break;
var D=o[F].type==3;z(L,o,F+1,B,D,i);if(!D)L.F.push("Z");F+=B}return L}return A}();f.p.auj=function(x){var z=x.v,A=[],o,i=0;
for(var F=0;F<x.F.length;F++){var L=x.F[F];if(L=="C"){o.push(z[i++],z[i++],z[i++],z[i++],z[i++],z[i++])}else if(L=="Z"){}else{o=[];
if(L!="M"){o.push(L);F++}o.push(z[i++],z[i++]);A.push(o)}}return A};f.p.IE=function(x,z,A,o){if(o==null)o=1e9;
var i=1e9,L=0;for(var F=0;F<x.length;F+=2){var B=z-x[F],D=A-x[F+1],Z=B*B+D*D;if(Z<i){i=Z;L=F>>>1}}return i<o*o?L:-1};
f.p.Uf=function(x,z,A,o){for(var F=0;F<x.length;F+=2){var i=x[F],L=x[F+1],B=z[F],D=z[F+1];A[F]=i+(B-i)*o;
A[F+1]=L+(D-L)*o}};f.p.D=function(x,z,A){for(var F=0;F<x.length;F+=2){var o=x[F],i=x[F+1];A[F]=o*z.xc+i*z.Pm+z.ZT;
A[F+1]=o*z.s+i*z.y9+z._s}};f.p.Jr=function(x,z,A){if(z==null)z=0;if(A==null)A=x.length;var o=99999999999,i=-o,L=99999999999,B=-L;
for(var F=z;F<A;F+=2){var D=x[F],Z=x[F+1];o=Math.min(o,D);L=Math.min(L,Z);i=Math.max(i,D);B=Math.max(B,Z)}return new av(o,L,i-o,B-L)};
f.p.on=function(x,z){var A=Math.max(z.x,Math.min(z.x+z.m,x.x)),o=Math.max(z.y,Math.min(z.y+z.n,x.y)),i=x.x-A,L=x.y-o;
return Math.sqrt(i*i+L*L)};f.p.u8=function(x){if(x.WT())return new av(Math.floor(x.x),Math.floor(x.y),Math.ceil(x.m),Math.ceil(x.n));
var z=Math.floor(x.x),A=Math.ceil(x.x+x.m),o=Math.floor(x.y),i=Math.ceil(x.y+x.n);return new av(z,o,A-z,i-o)};
f.p.ke=function(x){return f.p.u8(f.p.Jr(x))};f.p.Mm=function(x){var z=x.x,A=x.y,o=x.x+x.m,i=x.y+x.n;
return{F:["M","L","L","L","Z"],v:[z,A,o,A,o,i,z,i]}};f.p.concat=function(x,z,A){if(A==null)A=new cb;
for(var F=0;F<z.v.length;F+=2){var o=z.v[F],i=z.v[F+1];x.v.push(o*A.xc+i*A.Pm+A.ZT);x.v.push(o*A.s+i*A.y9+A._s)}for(var F=0;
F<z.F.length;F++)x.F.push(z.F[F])};f.p.Ox=function(x){var z=x.v,A=[],o=[],i=0,L=0,B=0,D=0,Z=0,j=0,a=0,b=0,W=0,c=0,Y=0;
for(var F=0;F<x.F.length;F++){var R=x.F[F];if(R=="M"){L=z[i];B=z[i+1];i+=2;o.push(R);A.push(L,B);c=L;
Y=B}else if(R=="C"){D=z[i];Z=z[i+1];j=z[i+2];a=z[i+3];b=z[i+4];W=z[i+5];i+=6;o.push(R);A.push(D,Z,j,a,b,W);
L=b;B=W}else if(R=="Q"){D=z[i];Z=z[i+1];j=z[i+2];a=z[i+3];i+=4;var $=D-L,k=Z-B,w=j-D,V=a-Z;o.push("C");
A.push(L+2/3*$,B+2/3*k,D+1/3*w,Z+1/3*V,j,a);L=j;B=a}else if(R=="L"){D=z[i];Z=z[i+1];i+=2;if(D!=L||Z!=B){o.push("C");
A.push(L,B,D,Z,D,Z);L=D;B=Z}}else{if(R=="Z"){L=c;B=Y}o.push(R)}}return{F:o,v:A}};f.p.amS=function(x){var z=x.v,A=[],o=[],i=0;
for(var F=0;F<x.F.length;F++){var L=x.F[F];if(L=="Q"){var B=z[i-2],D=z[i-1],Z=z[i],j=z[i+1],a=z[i+2],b=z[i+3];
i+=4;var W=Z-B,c=j-D,Y=a-Z,R=b-j;o.push("C");A.push(B+2/3*W,D+2/3*c,Z+1/3*Y,j+1/3*R,a,b)}else{var $=0;
if(L=="M"||L=="L")$=2;else if(L=="C")$=6;for(var k=0;k<$;k++)A.push(z[i+k]);i+=$;o.push(L)}}return{F:o,v:A}};
f.p.GJ=function(x,z){var A=x.v,o=[],i=[],L=0,B=0,D=0,Z=0,j=0,a=0,b=0,W=0,c=0;for(var F=0;F<x.F.length;
F++){var Y=x.F[F];if(Y=="M"){B=A[L];D=A[L+1];L+=2;i.push(Y);o.push(B,D)}else if(Y=="C"){Z=A[L];j=A[L+1];
a=A[L+2];b=A[L+3];W=A[L+4];c=A[L+5];L+=6;f.p.KE(B,D,Z,j,a,b,W,c,z,i,o,0);B=W;D=c}else i.push(Y)}return{F:i,v:o}};
f.p.KE=function(x,z,A,o,i,L,B,D,Z,j,a,b){var W=Math.sqrt((B-x)*(B-x)+(D-z)*(D-z)),c=Math.sqrt((B-i)*(B-i)+(D-L)*(D-L))+Math.sqrt((i-A)*(i-A)+(L-o)*(L-o))+Math.sqrt((A-x)*(A-x)+(o-z)*(o-z)),Y=(W+c)/2;
if(Y<=Z){j.push("C");a.push(A,o,i,L,B,D)}else{var R=0,$=0,k=0,w=0,V=0,h=0,l=0,M=0,q=0,t=0,p=0,E=0,_=0;
$=(x+A)/2;k=(z+o)/2;w=(A+i)/2;V=(o+L)/2;h=(i+B)/2;l=(L+D)/2;M=($+w)/2;q=(k+V)/2;t=(w+h)/2;p=(V+l)/2;
E=(M+t)/2;_=(q+p)/2;f.p.KE(x,z,$,k,M,q,E,_,Z,j,a,b+1);f.p.KE(E,_,t,p,h,l,B,D,Z,j,a,b+1)}};f.p.$T=function(x,z,A,o,i){var L=Date.now(),B=f.p.apD(x,z,A);
if(i){console.log("trace polygons",Date.now()-L);L=Date.now()}var D=[];for(var F=0;F<B.length;F++){var Z=B[F],j=Z[0],a=["M"],b=x[j[1]*z+j[0]];
if(j.length>8)j=f.p.Og(j,o,Z[1]);if(j.length<=4)continue;for(var W=2;W<j.length;W+=2)a.push("L");a.push("Z");
D.push({path:{v:j,F:a},color:b,parent:-1,MV:f.p.Jr(j)})}if(i){console.log("simplify polygons",Date.now()-L);
L=Date.now()}for(var F=1;F<D.length;F++){var c=D[F],Y=c.path.v,R=Y[0],$=Y[1],k=Y[2],w=Y[3],V=k-R,h=w-$,l=R+.5*V-.001*h,M=$+.5*h+.001*V;
for(var W=F-1;W>=0;W--){var q=D[W];if(!q.MV.V2(c.MV))continue;if(!ds.Iq(q.path.v,l,M))continue;c.parent=W;
break}}if(i){console.log("checking parents",Date.now()-L);L=Date.now()}return D};f.p.apD=function(x,z,A){var o=z*A,i=new Uint16Array(z*A),B=0;
for(var F=0;F<o;F++)i[F]=x[F];var L=new Uint8Array(z*A);L[1*z+1]=L[(A-1)*z+1]=L[1*z+z-1]=L[(A-1)*z+z-1]=1;
for(var D=1;D<A;D++)for(var Z=1;Z<z;Z++){var F=D*z+Z,j=i[F-z-1],a=i[F-z],b=i[F-1],W=i[F],c=j==W&&a==b&&j!=a,Y=0;
if(W<b){B=W;W=b;b=B}if(b<a){B=b;b=a;a=B}if(a<j){B=a;a=j;j=B}if(W<b){B=W;W=b;b=B}if(b<a){B=b;b=a;a=B}if(W<b){B=W;
W=b;b=B}if(j!=a)Y++;if(a!=b)Y++;if(b!=W)Y++;if(W!=j)Y++;if(Y>=3||c)L[F]=1}var R=[];for(var D=1;D<A;D++)for(var Z=1;
Z<z;Z++){var F=D*z+Z;if(i[F]!=i[F-1]){var $=f.p.a4n(i,z,A,Z,D),k=[];for(var w=0;w<$.length;w+=2)if(L[$[w+1]*z+$[w]]==1)k.push(w>>>1);
R.push([$,k]);f.p.yL(i,z,A,Z,D)}}return R};f.p.yL=function(x,z,A,o,i){var L=[i*z+o],B=x[i*z+o];x[i*z+o]=65535;
while(L.length!=0){var F=L.pop();x[F]=0;if(x[F+z]==B){L.push(F+z);x[F+z]=65535}if(x[F-z]==B){L.push(F-z);
x[F-z]=65535}if(x[F-1]==B){L.push(F-1);x[F-1]=65535}if(x[F+1]==B){L.push(F+1);x[F+1]=65535}}};f.p.a4n=function(x,z,A,o,i){var L=[0,-1,1,0,0,1,-1,0],a=1;
function B(W,c,a){var F=j*z+Z,Y=0;if(a==0)Y=F-z;else if(a==1)Y=F;else if(a==2)Y=F-1;else if(a==3)Y=F-z-1;
return x[Y]}var D=[],Z=o,j=i,b=B(Z,j,a);do{D.push(Z,j);Z+=L[a*2];j+=L[a*2+1];if(B(Z,j,a)!=b)a=a+1&3;
else if(B(Z,j,a+3&3)!=b)a=a;else if(B(Z,j,a+2&3)!=b)a=a+3&3}while(Z!=o||j!=i);return D};f.p.Og=function(x,z,A){var o=x.length-2;
if(A&&A.length!=0){var i=A[0]*2,L=A[A.length-1]*2,B=i==0?o:i-2,D=x.slice(L);for(var F=0;F<i;F++)D.push(x[F]);
if(i==L)D.push(.9*x[i]+.1*x[B],.9*x[i+1]+.1*x[B+1]);else D.push(x[i],x[i+1]);D=f.p.Ey(D,z);D.pop();D.pop();
for(var F=0;F<A.length-1;F++){var Z=x.slice(A[F]*2,A[F+1]*2+2);Z=f.p.Ey(Z,z);for(var j=0;j<Z.length-2;
j++)D.push(Z[j])}return D}var a=x.slice(0);a.push(.9*x[0]+.1*x[o],.9*x[1]+.1*x[o+1]);a=f.p.Ey(a,z);a.pop();
a.pop();return a};f.p.Ey=function(x,z){var A=x.length-2,o=x[0],i=x[1],L=x[A],B=x[A+1],D=L-o,Z=B-i,j=1/Math.sqrt(D*D+Z*Z),a=L*i-B*o,b=-1,W=-1,c=0;
for(var F=2;F<A;F+=2){var Y=x[F],R=x[F+1],$=R*R*1e6+Y*Y,k=Math.abs(Z*Y-D*R+a)*j;if(k>W||k==W&&$>c){W=k;
b=F;c=$}}if(W<z)return[o,i,L,B];var w=f.p.Ey(x.slice(0,b+2),z),V=f.p.Ey(x.slice(b),z);for(var F=2;F<V.length;
F++)w.push(V[F]);return w};f.p.atX=function(){var x=function(o,i,L,B,D,Z){return(i-B)*(D-L)+(L-o)*(Z-B)>=0},z=function(o,i,L,B,D,Z,j,a){var b=j-L,W=a-B,c=D-L,Y=Z-B,R=o-L,$=i-B,k=b*b+W*W,w=b*c+W*Y,V=b*R+W*$,h=c*c+Y*Y,l=c*R+Y*$,M=1/(k*h-w*w),q=(h*V-w*l)*M,t=(k*l-w*V)*M;
return q>=0&&t>=0&&q+t<1},A=function(o){var f5=o.length>>>1,F=0;if(f5<3)return[];var i=[],L=[];for(var F=0;
F<f5;F++)L.push(F);var B=f5;while(B>3){var D=L[(F+0)%B],Z=L[(F+1)%B],j=L[(F+2)%B],a=o[2*D],b=o[2*D+1],W=o[2*Z],c=o[2*Z+1],Y=o[2*j],R=o[2*j+1],$=!1;
if(x(a,b,W,c,Y,R)){$=!0;for(var k=0;k<B;k++){var w=L[k];if(w==D||w==Z||w==j)continue;if(z(o[2*w],o[2*w+1],a,b,W,c,Y,R)){$=!1;
break}}}if($){i.push(D,Z,j);L.splice((F+1)%B,1);B--;F=0}else if(F++>3*B)break}i.push(L[0],L[1],L[2]);
return i};return A}();f.p.a3e=function(x,z){var A={},o={F:[],v:[]};for(var F=0;F<z.length;F+=3){var i=z[F]*2,L=z[F+1]*2,B=z[F+2]*2;
f.p.No(x,i,L,o,A);f.p.No(x,i,B,o,A);f.p.No(x,L,B,o,A)}return o};f.p.No=function(x,z,A,o,i){if(z>A){var L=A;
A=z;z=L}if(i[z+","+A])return;i[z+","+A]=!0;o.F.push("M","L");o.v.push(x[z],x[z+1],x[A],x[A+1])};f.p.yk=function(x,z){var A=[],o=x.length;
for(var F=0;F<o;F+=2){var i=x[F],L=x[F+1],B=x[(F+2)%o],D=x[(F+3)%o];if(D<L){var Z=L;L=D;D=Z}if(L<z&&z<D){var j=(z-L)/(D-L);
A.push(i+j*(B-i))}}A.sort(function(a,b){return a-b});return A};f.p.br=function(x,z,A,o,i,L,B){var D=x-A,Z=z-o,j=i-A,a=L-o,b=1/Math.sqrt(D*D+Z*Z),W=1/Math.sqrt(j*j+a*a),c=D*b,Y=Z*b,R=j*W,$=a*W,k=Y*B,w=-c*B,V=-$*B,h=R*B,l=f.p.tR(k,w,c,Y,V,h,R,$),M=k+c*l,q=w+Y*l,l=f.p.tR(0,0,c,Y,M,q,-Y,c),t=c*l,p=Y*l;
return[Math.sqrt(t*t+p*p),c,Y,R,$]};f.p.aio=function(x,z,A,o,i,L,B){var D=f.p.br(x,z,A,o,i,L,B),Z=D[0],j=D[1],a=D[2],b=D[3],W=D[4],c=Math.atan2(j*W-a*b,j*b+a*W);
if(c<0){c=c*-1}var Y=Math.PI-c,R=4/3*Math.tan(Y/4),$=A+Z*j,k=o+Z*a,w=A+Z*b,V=o+Z*W,h=$+R*B*-j,l=k+R*B*-a,M=w+R*B*-b,q=V+R*B*-W;
return[0,0,$,k,h,l,M,q,w,V]};f.p.tR=function(x,z,A,o,i,L,B,D){var Z=B*(z-L)-D*(x-i),j=D*A-B*o;if(j==0)return 0;
return Z/j};f.p.a0H=function(x,z,A,o,i,L){return x*(o-L)+A*(L-z)+i*(z-o)};f.p.a7s=function(x){function z(v,r,K,s,P,d,X,U,n){var e=f.p.tR(v,r,K,s,P,d,X,U);
n.push(v+K*e,r+s*e)}var A=[],o=x.length,i=[];for(var F=0;F<o;F+=2){var L=F==0?o-2:F-2,B=F==o-2?0:F+2,D=x[F],Z=x[F+1],j=D-x[L],a=Z-x[L+1],b=x[B]-D,W=x[B+1]-Z,c=Math.sqrt(j*j+a*a),Y=Math.sqrt(b*b+W*W);
i.push(Y);var R=c/(c+Y),$=D-j*.5,k=Z-a*.5,w=D+b*.5,V=Z+W*.5,h=(x[B]+x[L])*.5,l=(x[B+1]+x[L+1])*.5,M=$+R*(w-$),q=k+R*(V-k),t=D-M,p=Z-q,E=(b*-j+W*-a)/(c*Y),_=(R-.5)*7,S=1+_*R,y=1-_*(1-R);
A.push($+t*S,k+p*S,w+t*y,V+p*y)}return A};f.t7=function(){};f.t7.lQ=function(x,z,A,o,i){var L=A.m,B=A.n,D=L*B,Z=new Int32Array(D),f5=0;
for(var F=0;F<D;F++)if(z[F]!=0){Z[F]=f5;f5++}else if(x[(F<<2)+3]<200){Z[F]=-2}else Z[F]=-1;if(f5==0)return;
var j=new f.Iu(f5,f5),a=new Array(3*f5),b=new Array(3*f5);for(var F=0;F<b.length;F++)b[F]=a[F]=0;var W=1/255,c=[-L,-1,1,L],Y=[],R=[];
for(var $=0;$<B;$++)for(var k=0;k<L;k++){var w=$*L+k,V=w<<2,F=Z[w],h=F*3,l=0,M=0,q=0;if(F==-1||F==-2)continue;
for(var t=0;t<4;t++){if(t==2){M=q;Y[q]=0;R[q]=F;q++}var p=w+c[t],E=p<<2,_=Z[p];if(t==0&&$==0||t==1&&k==0||t==2&&k==L-1||t==3&&$==B-1||_==-2)continue;
l++;if(_==-1){a[h+0]+=x[E+0];a[h+1]+=x[E+1];a[h+2]+=x[E+2]}else{Y[q]=-1;R[q]=_;q++;if(z[w]==z[p]){a[h+0]+=x[V+0]-x[E+0];
a[h+1]+=x[V+1]-x[E+1];a[h+2]+=x[V+2]-x[E+2]}}}Y[M]=l;j.$b(Y,R,q)}for(var F=0;F<D;F++)if(Z[F]!=-1){var S=F<<2,y=Z[F],v=y*3;
b[v]=x[S+0];b[v+1]=x[S+1];b[v+2]=x[S+2]}var r=Date.now();j.adM(b,a,o,i);console.log(Date.now()-r);for(var F=0;
F<D;F++){var y=Z[F],K=y*3,S=F<<2;if(y==-1||x[S+3]!=255)continue;x[S+0]=~~(.5+Math.max(0,Math.min(255,b[K+0])));
x[S+1]=~~(.5+Math.max(0,Math.min(255,b[K+1])));x[S+2]=~~(.5+Math.max(0,Math.min(255,b[K+2])))}};f.rect={};
f.rect.P1=function(x,z){var A=[x],o=[];for(var F=0;F<z.length;F++){var i=z[F],L=!1;for(var B=F+1;B<z.length;
B++){var D=z[B];if(D[0]<=i[0]&&D[1]<=i[1]&&i[2]<=D[2]&&i[3]<=D[3]){L=!0;break}}if(!L)o.push(i)}z=o;for(var F=0;
F<z.length;F++){var i=z[F];for(var B=0;B<A.length;B++){var D=A[B],Z=Math.max(i[0],D[0]),j=Math.min(i[2],D[2]),a=Math.max(i[1],D[1]),b=Math.min(i[3],D[3]);
if(Z<j&&a<b){var W=[];if(D[1]<i[1]){var c=D.slice(0);c[3]=i[1];W.push(c)}if(D[0]<i[0]){var Y=D.slice(0);
Y[1]=a;Y[2]=i[0];W.push(Y)}if(i[2]<D[2]){var R=D.slice(0);R[1]=a;R[0]=i[2];W.push(R)}if(i[3]<D[3]){var $=[Z,b,j,D[3]];
W.push($)}if(W.length!=0){A[B]=W[0];for(var k=1;k<W.length;k++)A.push(W[k])}}}A.push(i);A=f.rect.ade(A)}A.sort(function(i,D){return i[1]!=D[1]?i[1]-D[1]:i[0]-D[0]});
for(var F=1;F<A.length;F++){var i=A[F-1],D=A[F];if(i[0]==D[0]&&i[1]==D[1]&&i[2]==D[2]&&i[3]==D[3]){A.splice(i[4]==null?F-1:F,1);
F--}}return A};f.rect.ade=function(x){x=x.slice(0);for(var F=0;F<x.length;F++){var z=x[F],A=null;if(z[4]!=null)continue;
for(var o=0;o<x.length;o++){var i=x[o];if(F==o||i[4]!=null)continue;var L=z[0]==i[0],B=z[1]==i[1],D=z[2]==i[2],Z=z[3]==i[3];
if(B&&Z&&(z[2]==i[0]||z[0]==i[2])){A=[Math.min(z[0],i[0]),z[1],Math.max(z[2],i[2]),z[3]]}if(L&&D&&(z[3]==i[1]||z[1]==i[3])){A=[z[0],Math.min(z[1],i[1]),z[2],Math.max(z[3],i[3])]}if(A){x[F]=A;
x.splice(o,1);break}}if(A){F--}}return x};f.rect.FI=function(x){var z=new av;for(var F=0;F<x.length;
F++)z=z.QM(x[F]);return z};f.rect.abB=function(x,z){var A=f.rect.FI,o=new UnionFind(x.length),M=1e3,q=1e3;
for(var F=0;F<x.length;F++)for(var i=F+1;i<x.length;i++){if(!z)continue;var L=x[F],B=x[i],b=1e9,W=1e9;
if(L.$X(B)){o.link(F,i);continue}var D=L.x+L.m,Z=L.y+L.n,j=B.x+B.m,a=B.y+B.n;if((D<B.x||j<L.x)&&(Z<B.y||a<L.y))continue;
if(!(Z<B.y||a<L.y))b=Math.min(Math.abs(D-B.x),Math.abs(L.x-j));if(!(D<B.x||j<L.x))W=Math.min(Math.abs(Z-B.y),Math.abs(L.y-a));
var c=Math.min(b,W),Y=Math.min(L.m,L.n,B.m,B.n);if(c<.3*Y)o.link(F,i)}var R=[],$={};for(var F=0;F<x.length;
F++){var k=o.find(F),w=x[F];if($[k]==null){$[k]=R.length;R.push([])}R[$[k]].push(w)}var V=[],h=[];for(var F=0;
F<R.length;F++){V.push(A(R[F]));var l=A(R[F]);l.ns=F;h.push(l)}h.sort(function(s,P){return Math.max(P.n,P.m)-Math.max(s.n,s.m)});
var t=new NETXUS.RectanglePacker(M,q);while(!0){var p=!1;t.reset(M,q);for(var F=0;F<h.length;F++){var E=t.findCoords(h[F].m,h[F].n);
if(E){h[F].x=E.x;h[F].y=E.y}else{M=Math.floor(M*1.1);q=Math.floor(q*1.1);p=!0;break}}if(p)continue;break}for(var F=0;
F<R.length;F++){var _=h[F],S=_.ns,y=V[S],v=R[S],r=_.x-y.x,K=_.y-y.y;for(var i=0;i<v.length;i++)v[i].offset(r,K)}};
f.Fi=function(){};f.Fi.Xh=Math.floor(16*window.devicePixelRatio);f.Fi.f5={};f.Fi.Tb=0;f.Fi.la=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
f.Fi.auB=["px","in","cm","mm","%"];f.Fi.Br=function(x,z,A,o){var i=[1,z,z/2.54,z/25.4,A/100][o];return x*i};
f.Fi.a0B=function(x,z,A,o){var i=[1,z,z/2.54,z/25.4,A/100][o];return x/i};f.Fi.v1=function(x,z,A,o,i){var L=A.gw.xI,B=[1,z,z/2.54,z/25.4,o/100][L],D=[2,3,2,1,2][L];
x=x/B;var Z=Math.round(x),j=L==0&&Math.abs(x-Z)<1e-6?Z+"":x.toFixed(D);if(i)j+=" "+f.Fi.auB[L];return j};
f.Fi.and=function(x,z,A,o){var i=A.gw.xI,L=[1,z,z/2.54,z/25.4,o/100][i];x=parseFloat(x)*L;return x};
f.Fi.a5a=function(x,z){var A=x+","+z;if(f.Fi.f5.clr==A)return;var o=Math.round(f.Fi.Xh*.5);f.Fi.Tb=o;
var i=document.createElement("canvas");i.width=i.height=o;var L=i.getContext("2d");L.font=o*1.5+"px monospace";
var B="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var F=0;F<B.length;F++){L.fillStyle="#"+f.Ng(z);L.fillRect(0,0,o,o);
L.fillStyle="#"+f.Ng(x);L.fillText(B[F],0,o);f.Fi.f5[B[F]]=L.getImageData(0,0,o,o).data}f.Fi.f5.clr=A};
f.Fi.ajt=function(x,z,A){var o=0,i=0,L=4*f.Fi.Xh;for(var F=9;F>=0;F--){var B=Math.pow(10,F);if(5*B*x<=L){o=5*B;
i=10;break}if(2*B*x<=L){o=2*B;i=4;break}if(1*B*x<=L){o=1*B;i=10;break}}if(o==0){o=1;i=10}var D=Math.ceil(o*x),Z=f.C(D*f.Fi.Xh*4);
f.OD(Z,4278190080|A);for(var F=0;F<f.Fi.Xh;F++)f.Fi.d5(Z,4*F*D,z);for(var F=0;F<D;F++)f.Fi.d5(Z,4*((f.Fi.Xh-1)*D+F),z);
if(o==2)i=2;if(o==5)i=5;if(o>1||o==1&&D>20)for(var F=1;F<i;F++)f.Fi.aus(Z,F*(D/i),D,(F&1)==1?.8:.7,z);
return{Fe:Z,step:o}};f.Fi.aus=function(x,z,A,o,i){var z=Math.round(z);for(var L=Math.round(f.Fi.Xh*o);
L<f.Fi.Xh-1;L++)f.Fi.d5(x,4*(L*A+z),i)};f.Fi.d5=function(x,z,A){x[z+0]=A>>16&255;x[z+1]=A>>8&255;x[z+2]=A&255};
f.Fi.aa7=function(x,z,A,o,i,L,B){var D=x.VK.m,Z=x.VK.n,j=f.Fi.Xh,a=z&255,b=z>>8&255,W=z>>16&255;z=Math.round(a*.6)<<16|Math.round(b*.6)<<8|Math.round(W*.6);
f.Fi.a5a(Math.round(a*.8)<<16|Math.round(b*.8)<<8|Math.round(W*.8),A);var c=x.X,Y=x.u,R=x.Yp;for(var $=0;
$<2;$++){var k=$==0?L:B;x.X=k[0];x.u=k[1];x.Yp=0;var w=this.ajt(x.X,z,A),V=x.Sd(0,0),h=x.Sd(D,Z),l=Math.floor(V.x/w.step)*w.step,M=Math.ceil(h.x/w.step)*w.step,q=Math.floor(V.y/w.step)*w.step,t=Math.ceil(h.y/w.step)*w.step,p=x.ay(l,q),E=x.ay(M,q),_=w.step*x.X,S=Math.ceil(_);
if($==1){var y=w.Fe;w.Fe=f.C(y.length*4);f.P.dS(y,w.Fe,S,j)}var v=$==0?x.Nn.data:x.Lv.data,r=new av(0,0,[D,j][$],[j,Z][$]),K=new av(0,0,[S,j][$],[j,S][$]),s=new av([0,Math.round(j*.2)][$],[Math.round(j*.08),0][$],f.Fi.Tb,f.Fi.Tb),P=($==0?M-l:t-q)/w.step;
for(var F=0;F<P;F++){if($==0)K.x=Math.round(p.x+F*_);else K.y=Math.round(p.y+F*_);f.mV(w.Fe,K,v,r,K);
var d=($==0?l+F*w.step:Math.abs(q+F*w.step)).toString(10);for(var X=0;X<d.length;X++){if($==0)s.x=K.x+3+X*Math.round(f.Fi.Tb*.8);
else s.y=K.y+3+X*Math.round(f.Fi.Tb*1.15);var U=f.Fi.f5[d[X]];f.mV(U,s,v,r,s)}}}x.X=c;x.u=Y;x.Yp=R;var n=Math.floor(j*.6),e=new Uint32Array(x.Nn.data.buffer),J=new Uint32Array(x.Lv.data.buffer),C=a<128?4278190080:4294967295;
if(0<o&&o<D)for(var F=0;F<n;F++)e[F*D+o]=C;if(0<i&&i<Z)for(var F=0;F<n;F++)J[i*j+F]=C};f.scale={};f.scale.I=document.createElement("canvas");
f.scale.E4=f.scale.I.getContext("2d");f.scale.oj=document.createElement("canvas");f.scale.$p=f.scale.oj.getContext("2d");
f.scale.su=function(x,z,A){var o=f.scale.I,i=f.scale.E4;o.width=z;o.height=A;var L=new ImageData(new Uint8ClampedArray(x.buffer),z,A);
i.putImageData(L,0,0);return i.createPattern(o,"repeat")};f.scale.hn=function(x,z,A,o,i,L,B,D,Z){var j=f.scale.avt(x,A,o,i,L,B,D,Z).data;
if(z)f.Yy(j,z);return new Uint8Array(j.buffer)};f.scale.avt=function(x,z,A,o,i,L,B,D){var Z=f.scale.I,j=f.scale.E4;
Z.width=z;Z.height=A;j.rect(0,0,z,A);j.translate(L,B);j.scale(o,i);if(D!=null)j.rotate(-D);j.fillStyle=x;
j.fill();return j.getImageData(0,0,z,A)};f.scale.D=function(x,z,A,o,i){var L=A.clone();L.Qs();var B=i.m,D=i.n,Z=f.p.Mm(z).v;
f.p.D(Z,L,Z);var j=f.p.ke(Z).tE(i),a=j.x,b=j.y,W=a+j.m,c=b+j.n,Y=~~z.x,R=~~z.y,$=~~z.m,k=~~z.n;for(var w=b;
w<c;w++)for(var V=a;V<W;V++){var h=V+.5,l=w+.5,M=A.xc*h+A.Pm*l+A.ZT-Y,q=A.s*h+A.y9*l+A._s-R;if(0<=M&&0<=q&&M<$&&q<k)o[w*B+V]=x[~~q*$+~~M]}};
f.scale.et=function(x,z,A,o,i){var L=new Uint32Array(x.buffer),B=new Uint32Array(o.buffer),D=A.clone();
D.Qs();var Z=i.m,j=i.n,a=f.p.Mm(z).v;f.p.D(a,D,a);var b=f.p.ke(a).tE(i),W=b.x,c=b.y,Y=W+b.m,R=c+b.n,$=~~z.x,k=~~z.y,w=~~z.m,V=~~z.n;
for(var h=c;h<R;h++)for(var l=W;l<Y;l++){var M=l+.5,q=h+.5,t=A.xc*M+A.Pm*q+A.ZT-$,p=A.s*M+A.y9*q+A._s-k;
if(0<=t&&0<=p&&t<w&&p<V)B[h*Z+l]=L[~~p*w+~~t]}};f.scale.RN=function(x,z,A,o,i,L,B){if(B<1)f.scale.an0(x,z,A,o,i,L,Math.round(1/B));
else f.scale.arH(x,z,A,o,i,L,B)};f.scale.DC=function(x,z,A,o,i,L,B,D){if(D)D=D.tE(new av(0,0,z,A));x=new Uint32Array(x.buffer);
o=new Uint32Array(o.buffer);if(B<1)f.scale.a6k(x,z,A,o,i,L,Math.round(1/B),D);else f.scale.au0(x,z,A,o,i,L,B)};
f.scale.arH=function(x,z,A,o,i,L,B){for(var D=0;D<A;D++)for(var Z=0;Z<z;Z++){var j=x[D*z+Z],a=Math.min(B,i-Z*B),b=Math.min(B,L-D*B);
for(var F=0;F<b;F++)for(var W=0;W<a;W++)o[(B*D+F)*i+B*Z+W]=j}};f.scale.an0=function(x,z,A,o,i,L,B){for(var D=0;
D<L;D++)for(var Z=0;Z<i;Z++){var j=0,a=Math.min(B,z-Z*B),b=Math.min(B,A-D*B);for(var F=0;F<b;F++)for(var W=0;
W<a;W++)j+=x[(B*D+F)*z+(B*Z+W)];o[D*i+Z]=Math.round(j/(a*b))}};f.scale.au0=function(x,z,A,o,i,L,B){for(var D=0;
D<A;D++)for(var Z=0;Z<z;Z++){var j=x[D*z+Z],a=Math.min(B,i-Z*B),b=Math.min(B,L-D*B);for(var F=0;F<b;
F++)for(var W=0;W<a;W++)o[(B*D+F)*i+B*Z+W]=j}};f.scale.a8n=function(x,z,A){return(x>>>A&255)+(z>>>A&255)>>>1};
f.scale.X5=function(x,z){var A=f.scale.a8n;return A(x,z,24)<<24|A(x,z,16)<<16|A(x,z,8)<<8|A(x,z,0)};
f.scale.auI=function(x,z,A,o,i,L){var B=new Uint32Array(x.buffer),D=new Uint32Array(o.buffer);for(var Z=0;
Z<A;Z++){for(var j=0;j<z;j++){var a=Z*z+j,b=B[a],W=b,c=b,Y=b;if(j<z-1)W=f.scale.X5(b,B[a+1]);if(Z<A-1)c=f.scale.X5(b,B[a+z]);
if(j<z-1&&Z<A-1)Y=f.scale.X5(b,B[a+z+1]);var R=(Z*i+j)*2;D[R]=b;D[R+1]=W;D[R+i]=c;D[R+i+1]=Y}}if((i&1)==1)for(var Z=0;
Z<L;Z++)D[Z*i+i-1]=D[Z*i+i-2];var $=i*(L-1);if((L&1)==1)for(var j=0;j<i;j++)D[$+j]=D[$-i+j]};f.scale.a6k=function(x,z,A,o,i,L,B,D){var Z=0,j=i,a=0,b=L;
if(D){Z=Math.floor(D.x/B);j=Math.ceil((D.x+D.m)/B);a=Math.floor(D.y/B);b=Math.ceil((D.y+D.n)/B)}for(var W=a;
W<b;W++)for(var c=Z;c<j;c++){var Y=0,R=0,$=0,k=0,w=Math.min(B,z-c*B),V=Math.min(B,A-W*B);for(var F=0;
F<V;F++)for(var h=0;h<w;h++){var l=x[(B*W+F)*z+B*c+h],M=l>>>24;Y+=M;R+=M*(l>>>16&255);$+=M*(l>>>8&255);
k+=M*(l&255)}if(Y!=0){var q=1/Y;o[W*i+c]=Y/(w*V)<<24|R*q<<16|$*q<<8|k*q}else o[W*i+c]=0}};f.O={};f.O.awg=function(x,z,A){var o=128,F=0,i=A.m,L=A.n;
for(var B=0;B<L;B++)for(var D=0;D<i;D++){if(x[F]>=o&&(D==0||x[F-1]<o||(D==i-1||x[F+1]<o)||(B==0||x[F-i]<o)||(B==L-1||x[F+i]<o)))z[F]=255;
F++}};f.O.av7=function(x,z,A,o){var i=new Uint32Array([4278190080,4294967295]),L=A.m,B=A.n,D=0,Z=0,j=L,a=B;
if(o){D=o.x-A.x;Z=o.y-A.y;j=D+o.m;a=Z+o.n}var b=new Uint8Array(z.buffer),W=new Uint32Array(z.buffer);
for(var c=Z;c<a;c++)for(var Y=D;Y<j;Y++){var F=c*L+Y;if((x[F]&128)!=0&&(c==0||(x[F-L]&128)==0||Y==0||(x[F-1]&128)==0||Y==L-1||(x[F+1]&128)==0||c==B-1||(x[F+L]&128)==0)){W[F]=i[(Y+c&4)>>>2]}}};
f.O.abC=function(x,z,A,o,i,L){var B=A.m,D=A.n,Z=0,j=0,a=B,b=D;if(o){Z=o.x-A.x;j=o.y-A.y;a=Z+o.m;b=j+o.n}var W=new Uint8Array(z.buffer),c=new Uint32Array(z.buffer);
for(var Y=j;Y<b;Y++)for(var R=Z;R<a;R++){var F=Y*B+R,$=x[F];if(i==1)c[F]=255-$>>>1<<24|255;else c[F]=255<<24|($<<16|$<<8|$)}};
f.iv={};f.iv._Z=function(x,z,A){var o,i;if(A==0){o=x.rect.clone();i=f.iv.a20}if(A==1){o=x.rect.QM(z.rect);
i=f.iv.QM}if(A==2){o=z.rect.clone();i=f.iv.a2o}if(A==3){o=x.rect.tE(z.rect);i=f.iv.tE}if(A==4){o=x.rect.QM(z.rect);
i=f.iv.ao$}if(o.WT())return null;var L=f.C(o.$());f.K5(z.channel,z.rect,L,o);var B=f.C(o.$());f.K5(x.channel,x.rect,B,o);
i(B,L,L);var D=f.mI(L,o);if(D.WT())return null;if(!D.S0(o)){var Z=f.C(D.$());f.K5(L,o,Z,D);L=Z;o=D}return{channel:L,rect:o}};
f.iv.a20=function(x,z,A){for(var F=0;F<x.length;F++)A[F]=x[F]};f.iv.QM=function(x,z,A){for(var F=0;F<x.length;
F++)A[F]=Math.min(x[F]+z[F],255)};f.iv.a2o=function(x,z,A){for(var F=0;F<x.length;F++)A[F]=Math.max(z[F]-x[F],0)};
f.iv.tE=function(x,z,A){var o=1/255;for(var F=0;F<x.length;F++)A[F]=x[F]*z[F]*o};f.iv.ao$=function(x,z,A){var o=1/255;
for(var F=0;F<x.length;F++)A[F]=Math.min(x[F]+z[F],255)-x[F]*z[F]*o};f.Iu=function(x,z){this.U=[];this.qy=[0];
this.lM=[];this.ib=[];this.qO=[0];this.l5=[];this.Si=[];this.rows=x;this.cols=z};f.Iu.prototype.clone=function(){var x=this,z=x.rows,A=x.cols,o=new f.Iu(z,A);
o.U=x.U.slice(0);o.qy=x.qy.slice(0);o.lM=x.lM.slice(0);o.ib=x.ib.slice(0);o.qO=x.qO.slice(0);o.l5=x.l5.slice(0);
o.Si=x.Si.slice(0);return o};f.Iu.prototype.$b=function(x,z,A){var o=this.qy.length-1;for(var F=0;F<A;
F++){var i=x[F],L=z[F];this.U.push(i);this.lM.push(L);if(L==o){this.Si.push(i==0?0:1/i)}else{this.ib.push(i);
this.l5.push(L)}}this.qy.push(this.U.length);this.qO.push(this.ib.length)};f.Iu.prototype.eu=function(x,z){var A=this,o=A.rows,i=A.U,L=A.lM;
if(z==null)z=new Array(o);for(var F=0;F<o;F++){var B=A.qy[F],D=A.qy[F+1],Z=0;while((D-B&3)!=0){Z+=i[B]*x[L[B]];
B++}for(var j=B;j<D;j+=4)Z+=i[j]*x[L[j]]+i[j+1]*x[L[j+1]]+i[j+2]*x[L[j+2]]+i[j+3]*x[L[j+3]];z[F]=Z}return z};
f.Iu.prototype.multiply=function(x){return this.zZ(x.dS())};f.Iu.prototype.zZ=function(x){var z=this,A=z.rows,o=z.cols,i=x.rows,L=new f.Iu(A,i),B=z.lM,D=x.lM;
for(var F=0;F<A;F++){var Z=[],j=[],a=z.qy[F],b=z.qy[F+1];for(var W=0;W<i;W++){var c=x.qy[W],Y=x.qy[W+1],R=0,$=a,k=c;
while($<b&&k<Y){var w=Math.max(B[$],D[k]);while($<b&&B[$]<w)$++;while(k<Y&&D[k]<w)k++;if($<b&&k<Y&&B[$]==D[k])R+=z.U[$++]*x.U[k++]}if(R!=0){Z.push(R);
j.push(W)}}L.$b(Z,j,Z.length)}return L};f.Iu.prototype.dS=function(){var x=this.rows,z=this.cols,A=[];
for(var F=0;F<z;F++)A.push([[],[]]);var o=this.U,i=this.qy,L=this.lM;for(var F=0;F<x;F++){var B=i[F],D=i[F+1];
for(var Z=B;Z<D;Z++){var j=A[L[Z]];j[0].push(o[Z]);j[1].push(F)}}var a=new f.Iu(z,x);for(var F=0;F<z;
F++)a.$b(A[F][0],A[F][1],A[F][1].length);return a};f.Iu.prototype.YU=function(){var x=this.rows,z=this.cols,A=new Array(x),o=this.U,i=this.qy,L=this.lM;
for(var F=0;F<x;F++){var B=A[F]=new Array(z);for(var D=0;D<z;D++)B[D]=0;var Z=i[F],j=i[F+1];for(var a=Z;
a<j;a++)B[L[a]]=o[a]}return A};f.Iu.prototype.h6=function(x,z,A,o,i){function L(q,z,t,p){var E=q.length;
for(var F=0;F<E;F++)p[F]=q[F]-z[F]*t}function B(q,z,t,p){var E=q.length,_=0;while((E-_&3)!=0){p[_]=q[_]+z[_]*t;
_++}for(var F=_;F<E;F+=4){p[F]=q[F]+z[F]*t;p[F+1]=q[F+1]+z[F+1]*t;p[F+2]=q[F+2]+z[F+2]*t;p[F+3]=q[F+3]+z[F+3]*t}}function D(q,z,t){var p=q.length;
for(var F=0;F<p;F++)t[F]=q[F]*z[F]}function Z(q,z){var t=q.length,p=0,E=0;while((t-p&3)!=0){E+=q[p]*z[p];
p++}for(var F=p;F<t;F+=4)E+=q[F]*z[F]+q[F+1]*z[F+1]+q[F+2]*z[F+2]+q[F+3]*z[F+3];return E}var j=o!=null?2:1,a=Date.now(),b=0,W=this,c=x.slice(0),Y=x.slice(0);
W.eu(x,Y);L(z,Y,1,c);var R=this.Si;if(j==0){R=c.slice(0);R.fill(1)}var $=c.slice(0);D(R,c,$);var k=$.slice(0),w=Z(c,$);
while(!0){W.eu(k,Y);var V=w/Z(k,Y);B(x,k,V,x);L(c,Y,V,c);if((b&7)==0&&Math.sqrt(Z(c,c))<A)break;if(j<=1)D(R,c,$);
else{var h=c.slice(0);o.afe(h,c);i.a9z($,h)}var l=Z(c,$),M=l/w;B($,k,M,k);w=l;b++}};f.Iu.prototype.abr=function(x,z,A,o){var i=Date.now(),L=1.96,D=0;
if(A==null)A=5e-6;if(o==null)o=1e9;var B=1-L,f5=this.rows,Z=this.ib,j=this.qO,a=this.l5,b=this.Si;while(!0){var W=0;
for(var F=0;F<f5;F++){var c=z[F],Y=j[F],R=j[F+1];if(R-Y==4)c-=Z[Y]*x[a[Y]]+Z[Y+1]*x[a[Y+1]]+Z[Y+2]*x[a[Y+2]]+Z[Y+3]*x[a[Y+3]];
else for(var $=Y;$<R;$++)c-=Z[$]*x[a[$]];var k=x[F]*B+b[F]*c*L,w=k-x[F];W+=w*w;x[F]=k}if(W/f5<A||Date.now()>i+o)break}};
f.Iu.prototype.adM=function(x,z,A,o){var i=Date.now(),L=1.96,D=0;if(A==null)A=5e-5;if(o==null)o=1e9;
var B=1-L,f5=this.rows,Z=this.ib,j=this.qO,a=this.l5,b=this.Si;while(!0){var W=0;for(var F=0;F<f5;F++){var c=F*3,Y=z[c],R=z[c+1],$=z[c+2],k=j[F],w=j[F+1];
for(var V=k;V<w;V++){var h=Z[V],l=a[V]*3;Y-=h*x[l+0];R-=h*x[l+1];$-=h*x[l+2]}var M=b[F]*L,q=x[c+0]*B+Y*M,t=x[c+1]*B+R*M,p=x[c+2]*B+$*M,E=q-x[c+0],_=t-x[c+1],S=p-x[c+2];
W+=.4*E*E+.5*_*_+.1*S*S;x[c+0]=q;x[c+1]=t;x[c+2]=p}if(W/f5<A||Date.now()>i+o)break}};f.tt={};f.tt.pf=function(x,z,A){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:x},Vrtc:{t:"doub",v:z},Cnty:{t:"bool",v:A}}}};
f.tt.D=function(x,z){for(var F=0;F<x.length;F++){var A=x[F].v,o=z.nx(new iL(A.Hrzn.v,A.Vrtc.v));A.Hrzn.v=Math.round(o.x);
A.Vrtc.v=Math.round(o.y)}};f.tt._K=function(x,z,A){var f5=x.length-1,o=f.Ph.D6(f5+1,f5+2);for(var F=1;
F<f5;F++){o[F][F-1]=1/(x[F]-x[F-1]);o[F][F]=2*(1/(x[F]-x[F-1])+1/(x[F+1]-x[F]));o[F][F+1]=1/(x[F+1]-x[F]);
o[F][f5+1]=3*((z[F]-z[F-1])/((x[F]-x[F-1])*(x[F]-x[F-1]))+(z[F+1]-z[F])/((x[F+1]-x[F])*(x[F+1]-x[F])))}o[0][0]=2/(x[1]-x[0]);
o[0][1]=1/(x[1]-x[0]);o[0][f5+1]=3*(z[1]-z[0])/((x[1]-x[0])*(x[1]-x[0]));o[f5][f5-1]=1/(x[f5]-x[f5-1]);
o[f5][f5]=2/(x[f5]-x[f5-1]);o[f5][f5+1]=3*(z[f5]-z[f5-1])/((x[f5]-x[f5-1])*(x[f5]-x[f5-1]));f.Ph.qJ(o,A)};
f.tt.ab9=function(x,z,A,o){if(x<=z[0])return A[0];if(x>=z[z.length-1])return A[z.length-1];var F=1;while(z[F]<x)F++;
var i=z[F],L=z[F-1],B=A[F],D=A[F-1],Z=(x-L)/(i-L),j=o[F-1]*(i-L)-(B-D),a=-o[F]*(i-L)+(B-D),b=(1-Z)*D+Z*B+Z*(1-Z)*(j*(1-Z)+a*Z);
return b};f.tt.zb=function(x,z,A,o){var i={SE:[x[0]],nr:[z[0]],mg:[]};o[0]=i;for(var F=1;F<x.length-1;
F++){i.SE.push(x[F]);i.nr.push(z[F]);if(A[F]==!1){f.tt._K(i.SE,i.nr,i.mg);i={SE:[x[F]],nr:[z[F]],mg:[]}}o[F]=i}i.SE.push(x[F]);
i.nr.push(z[F]);f.tt._K(i.SE,i.nr,i.mg);o[F]=i};f.tt.Ct=function(x,z,A,o){if(x<=z[0])return A[0];if(x>=z[z.length-1])return A[z.length-1];
var F=1;while(z[F]<x)F++;var i=o[F-1];return f.tt.ab9(x,i.SE,i.nr,i.mg)};f.tt.xN=function(x){var z={SE:[],nr:[],$t:[]};
for(var F=0;F<x.length;F++){z.SE[F]=x[F].v.Hrzn.v;z.nr[F]=x[F].v.Vrtc.v;z.$t[F]=x[F].v.Cnty?x[F].v.Cnty.v:!0}return z};
f.tt.Z8=function(x,f5,z){var A=0,o=255;if(z){A=-1e9;o=1e9}var i=f.tt.xN(x),L=[];f.tt.zb(i.SE,i.nr,i.$t,L);
var B=[];for(var F=0;F<f5;F++)B[F]=1/255*Math.max(A,Math.min(o,f.tt.Ct(F*(255/(f5-1)),i.SE,i.nr,L)));
return B};f.tt.aoZ=function(x,f5,z){var A=Math.round(x.length/20),o=f5-x.length,i=z?(x[A]-x[0])/A:0,L=z?x[0]-o*i:x[x.length-1],B=[];
for(var F=0;F<o;F++)B.push(L+F*i);return z?B.concat(x):x.concat(B)};f.tt.PZ=function(x,f5,z){var A=f.tt.xN(x),o=[];
f.tt.zb(A.SE,A.nr,A.$t,o);var i=new Uint8Array(f5),L=f5/256;for(var F=0;F<f5;F++)i[F]=Math.max(0,Math.min(f5-1,f.tt.Ct(F*L,A.SE,A.nr,o)));
if(z){i[0]=0;if(i[1]>100)i[1]=.4*i[1];if(i[2]>150)i[1]=.7*i[2]}return i};f.tt.qM=function(x,z){var A=new Uint8Array(x.length);
for(var F=0;F<x.length;F++)A[F]=z[x[F]];return A};f.tt.p2=function(x,z,A){var o=document.createElement("canvas");
o.width=z;o.height=A;var i=o.getContext("2d"),L=f.tt.PZ(x,256);i.scale(z/255,A/255);i.fillStyle="#fff";
i.fillRect(0,0,255,255);i.fillStyle="#333";i.beginPath();i.moveTo(0,255);for(var F=0;F<L.length;F++)i.lineTo(F,255-L[F]);
i.lineTo(255,255);i.closePath();i.fill();return o.toDataURL()};f.style={};f.style.stroke=function(x,z,A,o){var i=A.m,L=A.n,B=new Float64Array(i*L);
f.style.My(x,B,i,L);f.style.fy(z,A,B,A,o)};f.style.fy=function(x,z,A,o,i){var L=z.tE(o),B=L.m,D=L.n;
i+=.5;var Z=L.x-z.x,j=L.y-z.y,a=z.m,b=L.x-o.x,W=L.y-o.y,c=o.m;for(var Y=0;Y<D;Y++){var R=(Y+W)*c+b,$=(Y+j)*a+Z;
for(var k=0;k<B;k++){var w=Math.max(0,Math.min(1,i-A[R+k]));x[$+k]=Math.round(w*255)}}};f.style.ac0=function(x,z,A,o){for(var i=0;
i<A;i++)for(var L=0;L<z;L++){var B=i*z+L,D=0,Z=0,j=x[B];if(L==0||i==0){D=x[B+1]-j;Z=x[B+z]-j}else if(L==A-1||i==z-1){D=j-x[B-1];
Z=j-x[B-z]}else{D=x[B+1]-x[B-1];Z=x[B+z]-x[B-z]}if(D!=0||Z!=0){var a=1/Math.sqrt(D*D+Z*Z);D*=a;Z*=a}o[B+B]=D;
o[B+B+1]=Z}};f.style.My=function(x,z,A,o){var i=0,L=A*o;for(var F=0;F<L;F++)i|=x[F];if(i==0){z.fill(1e9);
return}var B=f.style.b7(x,A,o);for(var D=0;D<o;D++)for(var Z=0;Z<A;Z++){var F=D*A+Z,j=B[F*2],a=B[F*2+1],b=(D+a)*A+Z+j;
if(j==0&&a==0){z[F]=0;continue}var W=Math.sqrt(j*j+a*a),c=x[b]*(1/255),Y=1/W,R=Math.abs(j)*Y,$=Math.abs(a)*Y;
if($>R){var k=$;$=R;R=k}z[F]=W+f.style.avS(R,$,c)}};f.style.avS=function(x,z,A){return(.5-A)*x};f.style.b7=function(x,z,A,o){var i=new Int16Array(z*A*2);
f.style.abS(x,i,z,A,128);return i};f.style.abS=function(x,z,A,o,i){var L=new Int32Array(A*o);f.style.ac8(x,L,A,o,i);
f.style.agq(L,z,A,o)};f.style.ac8=function(x,z,A,o,i){var L=new Int32Array(o);for(var B=0;B<A;B++){var D=A+o;
for(var Z=o-1;Z>=0;Z--){if(x[Z*A+B]>i)D=0;else D++;L[Z]=D}D=A+o;for(var Z=0;Z<o;Z++){if(x[Z*A+B]>i)D=0;
else D++;z[Z*A+B]=D<L[Z]?-D:L[Z]}}};f.style.agq=function(x,z,A,o){var i=(A+o)*(A+o),L=new Float64Array(A),B=new Uint16Array(A);
for(var D=0;D<o;D++){var Z=D*A,j=0;B[0]=0;L[0]=-i;L[1]=+i;for(var a=1;a<A;a++){var b=x[a+Z]*x[a+Z]+a*a,W=(b-(x[B[j]+Z]*x[B[j]+Z]+B[j]*B[j]))/(2*a-2*B[j]);
while(W<=L[j]){j--;W=(b-(x[B[j]+Z]*x[B[j]+Z]+B[j]*B[j]))/(2*a-2*B[j])}j++;B[j]=a;L[j]=W;L[j+1]=i}j=0;
for(var a=0;a<A;a++){while(L[j+1]<a)j++;var c=B[j]-a,Y=x[B[j]+Z],F=D*A+a<<1;z[F]=c;z[F+1]=Y}}};f.style.mn=function(x,z,A){if(A)for(var F=0;
F<x.length;F++){var o=x[F];if(o>0)x[F]=Math.max(0,Math.min(255,o+z*2*(f.style.xv(F)-128)))}else for(var F=0;
F<x.length;F++){var o=x[F];if(o>0)x[F]=Math.max(0,Math.min(255,o+Math.min(o*3,z*2*(f.style.xv(F)-128))))}};
f.style.xv=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return x&255};f.vC={};
f.vC.U2=function(x,z,A){var o=x.canvas;if(o.width!=z||o.height!=A){o.width=z;o.height=A}};f.vC.Y$=function(x,z,A,o,i,L){f.vC.U2(x,z,A);
if(L==null)L=!1;var B=i.channel,D=i.rect,Z=!i.isEnabled;if(z*A==0)return;var j=x.createImageData(z,A),a=j.data,b=1/z,W=1/A;
for(var F=0;F<A;F++)for(var c=0;c<z;c++){var Y=F*z+c,R=Y*4,$=Math.round(o.x+c*b*o.m),k=Math.round(o.y+F*W*o.n),w=0;
if($<D.x||$>=D.x+D.m||k<D.y||k>=D.y+D.n)w=i.color;else w=B[(k-D.y)*D.m+($-D.x)];w=255*(255-i.Op)+w*i.Op>>>8;
if(L)w=170+Math.round(.4*(w-170));a[R]=w;a[R+1]=w;a[R+2]=w;a[R+3]=255}x.putImageData(j,0,0);if(Z)f.vC.fI(x,z,A)};
f.vC.rh=[];f.vC.ahx=function(x,z,A,o){var i,L,B;i=Math.ceil(Math.max(z,A)*.35);L=z-i;B=A-i;var D=f.vC.rh[i];
if(D==null){var Z=f.zG(i,i);Z.fillStyle="#eeeeee";Z.fillRect(0,0,i,i);var j=Math.round(i*.27),a=Z.lineWidth=Math.max(1,Math.round(i*.12)),b=a/2;
Z.strokeRect(1+b,1+b,i-a-2,i-a-2);Z.strokeRect(j+b,j+b,i-j-j-a,i-j-j-a);D=f.vC.rh[i]=Z.getImageData(0,0,i,i)}x.putImageData(D,L,B)};
f.vC.A2=[];f.vC.a3l=function(x,z,A){var o,i,L;o=Math.ceil(Math.max(z,A)*.35);i=z-o;L=A-o;var B=f.vC.A2[o];
if(B==null){var D=f.zG(o,o);D.fillStyle="#eeeeee";D.fillRect(0,0,o,o);D.lineWidth=1;D.strokeRect(2.5,2.5,o-5,o-5);
var Z=D.createImageData(3,3);f.OD(Z.data,4278190080);Z.data[4*4]=Z.data[4*4+1]=Z.data[4*4+2]=238;D.putImageData(Z,1,1);
D.putImageData(Z,o-4,1);D.putImageData(Z,1,o-4);D.putImageData(Z,o-4,o-4);B=f.vC.A2[o]=D.getImageData(0,0,o,o)}x.putImageData(B,i,L)};
f.vC.a3s=function(x,z,A,o,i){f.vC.U2(x,z,A);var L=z/o.m;if(z*A==0)return;x.fillStyle="#999999";x.setTransform(1,0,0,1,0,0);
x.clearRect(0,0,z,A);var B=f.vC.q_;if(B==null){B=f.vC.q_=JSON.parse(JSON.stringify(gN.J9.default));B.strokeEnabled.v=!0}B.strokeStyleLineWidth.v.val=1/L;
x.fillStyle="#ffffff";x.scale(L,L);f.J.QI(i._,x,0,0);f.J.QI(i._,x,0,0,B)};f.vC.IT=null;f.vC.W_=function(x,z,A,o,i,L,B,D){f.vC.U2(x,z,A);
if(z*A==0)return;var Z=Math.max(z,A),j=f.vC.IT;if(j==null||j.width<Z||j.height<Z){f.vC.IT=j=x.createImageData(Z,Z)}Z=j.width;
var a=j.data,b=o.m/z,W=o.n/A,c=L.x,Y=L.x+L.m,R=L.y,$=L.y+L.n;for(var F=0;F<A;F++)for(var k=0;k<z;k++){var w=F*Z+k,V=w*4,h=~~(o.x+k*b),l=~~(o.y+F*W),M=f.sB(F,k,2);
if(h<c||h>=Y||l<R||l>=$){a[V]=M;a[V+1]=M;a[V+2]=M;a[V+3]=255}else{var q=(l-L.y)*L.m+(h-L.x)<<2,t=i[q+3]*(1/255);
a[V]=i[q+0]*t+M*(1-t);a[V+1]=i[q+1]*t+M*(1-t);a[V+2]=i[q+2]*t+M*(1-t);a[V+3]=255}}if(D!=null)for(var F=0;
F<a.length;F+=4)a[F]=a[F+1]=a[F+2]=a[F+D];x.putImageData(j,0,0);if(B)f.vC.fI(x,z,A)};f.vC.aby=function(x,z,A,o){f.vC.U2(x,z,A);
x.fillStyle=f.vC.Pw(o.Clr.v);x.fillRect(0,0,z,A);f.vC.wd(x,z,A)};f.vC.f7=null;f.vC.ais=function(x,z,A,o){f.vC.U2(x,z,A);
var i=x.canvas.width,L=x.canvas.height,B=f.vC.f7;if(B==null||B.width!=i||B.height!=L){x.fillStyle="#ffffff";
x.fillRect(0,0,z,A);x.fillStyle="#000000";x.font=""+A*.7+"px serif";x.fillText("T",(z-A*.43)/2,A*.75);
x.fillText("T",(z-A*.43)/2,A*.75);f.vC.f7=x.getImageData(0,0,i,L)}else x.putImageData(B,0,0)};f.vC.a17=function(x,z,A){f.vC.U2(x,z,A);
x.clearRect(0,0,z,A);x.font=A*.7+"px serif";x.fillText(":(",(z-A*.43)/2,A*.7)};f.vC.anp=function(x,z,A,o){f.vC.U2(x,z,A);
var i=ei.get(o),L=x.canvas.width,B=f.vC.a4[L+i];if(B==null){var D=PIMG["adj/"+i],Z=iF.H6(D),j=UPNG.decode(Z.buffer),a=new Uint8Array(UPNG.toRGBA8(j)[0]),b=new av(0,0,160,160),W=0,c=L-W*2,Y=Q.S.eM([a,b],new cb(c/160,0,0,c/160,0,0)),R=new av(0,0,L,L),$=f.C(R.$()*4);
f.q.lx("norm",Y.buffer,Y.rect,$,R,Y.rect,1);B=f.vC.a4[L+i]=new ImageData(new Uint8ClampedArray($.buffer),L,L)}x.putImageData(B,0,0)};
f.vC.a4={};f.vC.a8X=function(x,z,A,o){f.vC.U2(x,z,A);var i=x.canvas.width,L=x.canvas.height,B=x.getImageData(0,0,i,L);
f.Q.aS(o.Grad.v,new Uint8Array(B.data.buffer),new av(0,0,i,L),[1/i,0,0,1/L],i/2,L/2,!1,0,16711680,65280);
x.putImageData(B,0,0);f.vC.wd(x,z,A)};f.vC.abc=function(x,z,A,o,i){f.vC.U2(x,z,A);var L=x,B=ct.wj(o.Ptrn.v,i.add.Patt);
if(B==null)return;var D=B.zH[1];f.vC.W_(x,z,A,D,B.zH[0],D,!1);f.vC.wd(L,z,A)};f.vC.fI=function(x,z,A){x.strokeStyle="#bb0000";
x.lineWidth=3;x.beginPath();x.moveTo(z*.15,A*.15);x.lineTo(z*.85,A*.85);x.moveTo(z*.85,A*.15);x.lineTo(z*.15,A*.85);
x.closePath();x.stroke()};f.vC.wd=function(x,z,A){x.fillStyle="#eeeeee";x.fillRect(0,A*.75,z,A*.25);
x.beginPath();x.moveTo(0,A*.75);x.lineTo(z,A*.75);x.moveTo(z*.1,A*.875);x.lineTo(z*.9,A*.875);x.moveTo(z*.65,A*.825);
x.lineTo(z*.65,A*.95);x.closePath();x.stroke()};f.vC.Pw=function(x){var z=f.Q.Pw(x),A=Math.round(z.w)<<16|Math.round(z.a)<<8|Math.round(z.s);
return"#"+f.Ng(A)};f.J={};f.J.DU=function(x,z,A){var o=[],i=-1;for(var F=0;F<x.length;F++){var L=x[F];
if((L.type==0||L.type==3)&&L.qh!=-1)i++;if(L.type>5||L.type==0||L.type==3)continue;if(z!=null&&z.indexOf(i)==-1)continue;
if(A!=null&&A.indexOf(F)==-1)continue;o.push(L.re.x);o.push(L.re.y);o.push(L.H.x);o.push(L.H.y);o.push(L.zy.x);
o.push(L.zy.y)}return o};f.J.Ye=function(x,z,A,o){var i=0,L=-1;for(var F=0;F<z.length;F++){var B=z[F];
if((B.type==0||B.type==3)&&B.qh!=-1)L++;if(B.type>5||B.type==0||B.type==3)continue;if(A!=null&&A.indexOf(L)==-1)continue;
if(o!=null&&o.indexOf(F)==-1)continue;B.re.Jt(x[i],x[i+1]);B.H.Jt(x[i+2],x[i+3]);B.zy.Jt(x[i+4],x[i+5]);
i+=6}};f.J.ox=function(x,z,A,o){var i=f.J.DU(x,A,o);f.p.D(i,z,i);f.J.Ye(i,x,A,o)};f.J.aiG=function(x,z,A,o){var i=f.J.DU(x,A,o);
f.P.D(z,i);f.J.Ye(i,x,A,o)};f.J.a9S=function(x,z,A,o){if(o==null){var i=f.J.anq(x,40,A);for(var F=0;
F<i.length;F++)x[F]=i[F]}var L=f.J.DU(x,A,o);f.fE.D(z,L,f.p.Jr(L));f.J.Ye(L,x,A,o)};f.J.anq=function(x,z,A){var o=[],i=-1;
for(var F=0;F<x.length;F++){var L=x[F],B=L.length;if(L.type>5){o.push(JSON.parse(JSON.stringify(L)));
continue}L=JSON.parse(JSON.stringify(L));o.push(L);if(L.qh!=-1)i++;if(A&&A.indexOf(i)==-1){o=o.concat(x.slice(F+1,F+1+B))}else{var D=f.J.aqp(x,F+1,B);
D=f.p.GJ(D,z);var Z=f.J.aju(D);L.length=Z.length;for(var j=0;j<Z.length;j++)o.push(Z[j])}F+=B}return o};
f.J.aqp=function(x,z,A){var o={F:["M"],v:[]},i=x[z],L=x[z+A-1];o.v.push(i.H.x,i.H.y);for(var F=1;F<A;
F++){var B=x[z+F-1],D=x[z+F];o.F.push("C");o.v.push(B.zy.x,B.zy.y,D.re.x,D.re.y,D.H.x,D.H.y)}o.F.push("C");
o.v.push(L.zy.x,L.zy.y,i.re.x,i.re.y,i.H.x,i.H.y);return o};f.J.aju=function(x){var z=[],A=x.F,o=x.v,i=0,f5=o.length;
z.push({type:2,re:new iL(o[f5-4],o[f5-3]),H:new iL(o[0],o[1]),zy:new iL(o[2],o[3])});for(var F=0;F<A.length-2;
F++){var L=F*6+4;z.push({type:2,re:new iL(o[L],o[L+1]),H:new iL(o[L+2],o[L+3]),zy:new iL(o[L+4],o[L+5])})}return z};
f.J.ar0=function(x){for(var F=0;F<x.length;F++){if(x[F].type>5)continue;var z=x[F].length;if(!(z==4||z==6||z==8)){F+=z;
continue}for(var A=0;A<z;A++){var o=x[F+1+A],i=x[F+1+(A+1)%z],L=Math.min(o.H.x,i.H.x),B=Math.min(o.H.y,i.H.y),D=0,Z=0;
if(o.H.x<i.H.x){D=o.H.y-B;Z=D-(i.H.x-L)}else{D=i.H.y-B;Z=D-(o.H.x-L)}if(Math.abs(Z)<.2*D)return D}}return-1};
f.J.BH=function(x,z,A){function o(W,c){var Y=Math.min(W.x,c.x),R=Math.min(W.y,c.y),$=Math.max(W.x+W.m,c.x+c.m),k=Math.max(W.y+W.n,c.y+c.n);
return new av(Y,R,$-Y,k-R)}var i=null,L=-1,B=!f.J.Kh(x);for(var F=0;F<x.length;F++){var D=x[F];if(D.type>5)continue;
if((D.type==0||D.type==3)&&D.qh!=-1)L++;if(z!=null&&z.indexOf(L)==-1)continue;if(F==x.length-1)break;
var Z=D.type==3,j=D.length,a=D.qh,b=f.J.avr(x,F+1,j,Z);if(i==null)i=b;else if(A)i=o(i,b);else if(B){if(z!=null||a==0||a==-1||a==2)i=o(i,b);
else if(a==1)i=i;else if(a==3){i=b;B=!1}}else{if(z!=null||a==0||a==-1||a==1)i=o(i,b);else if(a==2)i=i;
else if(a==3)i=i.tE(b)}F+=j}if(i==null||i.m<0||i.n<0)i=new av(0,0,0,0);return i};f.J.as3=new Float64Array(4);
f.J.avr=function(x,F,z,A){var o=f.J.as3;o[0]=1e30;o[1]=1e30;o[2]=-1e30;o[3]=-1e30;var i=x[F+z-1];if(!A)f.J.fF(i.H.x,i.H.y,i.zy.x,i.zy.y,x[F].re.x,x[F].re.y,x[F].H.x,x[F].H.y,o);
for(var L=F;L<F+z-1;L++){var B=x[L],D=x[L+1];f.J.fF(B.H.x,B.H.y,B.zy.x,B.zy.y,D.re.x,D.re.y,D.H.x,D.H.y,o)}return new av(o[0],o[1],o[2]-o[0],o[3]-o[1])};
f.J.fF=function(x,z,A,o,i,L,B,D,Z){if(x==A&&z==o&&i==B&&L==D){Z[0]=Math.min(Z[0],Math.min(x,B));Z[1]=Math.min(Z[1],Math.min(z,D));
Z[2]=Math.max(Z[2],Math.max(x,B));Z[3]=Math.max(Z[3],Math.max(z,D));return}var j=x,a=z,b=x,W=z,c=40,Y=1/(c-1);
for(var R=0;R<c;R++){var $=R*Y,k=1-$,w=k*k*k,V=3*k*k*$,h=3*k*$*$,l=$*$*$,M=w*x+V*A+h*i+l*B,q=w*z+V*o+h*L+l*D;
if(M<j)j=M;else if(M>b)b=M;if(q<a)a=q;else if(q>W)W=q}if(j<Z[0])Z[0]=j;if(a<Z[1])Z[1]=a;if(b>Z[2])Z[2]=b;
if(W>Z[3])Z[3]=W};f.J.I2=function(x,z){var A=x.length-3,o=z%A,i=Math.floor(o);if(z<0||i>=A)return null;
var L=x[3+i],B=x[3+(i+1)%A],D=L.H,Z=L.zy,j=B.re,a=B.H,b=o-i,W=1-b,c=W*W*W*D.x+3*W*W*b*Z.x+3*W*b*b*j.x+b*b*b*a.x,Y=W*W*W*D.y+3*W*W*b*Z.y+3*W*b*b*j.y+b*b*b*a.y;
return new iL(c,Y)};f.J.W8=function(x,z){var A=f.p.mt(x),o=A.ht;A.ht=Typr.U.pathToSVG({crds:o.v,cmds:o.F},z==null?2:z);
return A};f.J.xK=function(x){f.J.wP();var z,A=f.J.fO(x),o=[];for(var F=0;F<A.length;F++){var i=A[F][0],L=A[F][1];
if(Math.abs(i.area)<1e-5)o.push(i);else if(z==null)z=i;else{if(!i.closed)i.closed=!0;z=z[L](i);z.remove()}}if(z==null)z=new paper.CompoundPath(o);
else{if(z.segments)z=new paper.CompoundPath(z);for(var F=0;F<o.length;F++){z.addChild(o[F])}}var B=x.slice(0,2);
B=B.concat(f.J.zQ(z));if(B[2])B[2].qh=1;for(var F=3;F<B.length;F++)if(B[F].qh!=null)B[F].qh=-1;return B};
f.J.wP=function(){if(f.J.a60==null){var x=document.createElement("canvas");paper.setup(x);f.J.a60=!0}};
f.J.agl=function(x,z){f.J.wP();var A=[],o=f.J.fO(x),i=new paper.Path.Rectangle(new paper.Rectangle(z.x,z.y,z.m,z.n));
i.remove();i.fillColor=new paper.Color(1,0,0);for(var F=0;F<o.length;F++){if(i.intersects(o[F][0])||i.contains(o[F][0].children[0].segments[0].point))A.push(F)}return A};
f.J.Qd=function(x,z,A,o){f.J.wP();var i=A?{curves:!0,tolerance:o}:null,L=new paper.Point(z.x,z.y),B=f.J.fO(x);
for(var F=B.length-1;F>=0;F--){var D=B[F][0],Z=D.hitTest(L,i);if(Z!=null)return{dD:F,So:A?Z.location.index:null}}return{dD:-1}};
f.J.hs=function(x,z,A){var o=[[],[],[]];for(var F=0;F<x.length;F++){var i=x[F];if(i.type>5||i.type==0||i.type==3)continue;
var L=A==null?!0:A.indexOf(F)!=-1;if(z.Td(i.H))o[0].push(F);if(z.Td(i.re)&&L)o[1].push(F);if(z.Td(i.zy)&&L)o[2].push(F)}return o};
f.J.aoo=function(x,z,A){var o=x[z];for(var i=z+1;i<A;i++)x[i-1]=x[i];x[A-1]=o};f.J.a4$=function(x,z,A,o){var F,i,L,B=0;
x=x.slice(0);z.sort(function(Y,R){return Y-R});L=-1;for(F=2;F<x.length;){var D=x[F],Z=D.length;if(D.qh!=-1)L++;
var j=B;while(j<z.length&&z[j]<F+1+Z)j++;if(B!=j){var a=z.slice(B,j);B=j;for(i=0;i<Z;i++)if(a.indexOf(F+1+i)!=-1)x[F+1+i]=null;
if(D.type==0){var b=a[0]-(F+1);while(b!=0){f.J.aoo(x,F+1,F+1+Z);b--}}var W=D;W.length=0;i=0;while(i<Z&&x[F+1+i]==null)i++;
while(i<Z){var c=x[F+1+i];if(c!=null)W.length++;else if(i<Z+1&&x[F+1+i+1]){W=x[F+1+i]={type:0,qh:-1,length:0,wN:0,CG:0,zB:1}}i++}if(o)for(i=-1;
i<Z;i++)if(x[F+1+i]&&x[F+1+i].type<3)x[F+1+i].type+=3;f.i4.vT(A,L)}F+=1+Z}for(F=0;F<x.length;F++)if(x[F]==null){x.splice(F,1);
F--}L=0;for(F=2;F<x.length;F++){var D=x[F];if(D.length==0){if(x[F+1]&&x[F+1].qh==-1)x[F+1].qh=D.qh;else if(D.qh!=-1)A.splice(L,1);
x.splice(F,1);F--}else if(D.length!=null&&D.qh!=-1)L++}return x};f.J.a9X=function(x,z){var A=x.slice(0,2),o=-1;
for(var F=2;F<x.length;F++){if((x[F].type==0||x[F].type==3)&&x[F].qh!=-1)o++;if(z.indexOf(o)==-1)A.push(x[F])}return A};
f.J.a5d=function(x,z){var A=x.slice(0,2),o=-1;for(var F=2;F<x.length;F++){if((x[F].type==0||x[F].type==3)&&x[F].qh!=-1)o++;
if(z.indexOf(o)!=-1)A.push(x[F])}return A};f.J.av_=function(x){var z=0;for(var F=0;F<x.length;F++)if(x[F].type==0||x[F].type==3)z=F;
return x[z]};f.J.T1=function(x){var z=-1;for(var F=0;F<x.length;F++)if((x[F].type==0||x[F].type==3)&&x[F].qh!=-1)z++;
return z+1};f.J.MB=function(x,z,A){var o=-1;for(var F=0;F<x.length;F++)if((x[F].type==0||x[F].type==3)&&(A||x[F].qh!=-1)){o++;
if(o==z)return F}return-1};f.J.Ah=function(x,z,A){var o=-1;for(var F=0;F<x.length;F++)if((x[F].type==0||x[F].type==3)&&(A||x[F].qh!=-1)){if(F>=z)return o;
o++}return o};f.J.Mr=function(x,z){var A=-1,o=0;for(var F=0;F<x.length;F++){if((x[F].type==0||x[F].type==3)&&x[F].qh!=-1)A++;
if(A==z)o++}return o};f.J.a6R=function(x){var z=180;for(var F=0;F<x.length;F++){if(x[F].type!=0&&x[F].type!=3)continue;
var A=x[F].length;if(A<3)continue;for(var o=0;o<A;o++){var i=x[F+1+(o-1+A)%A],L=x[F+1+o],B=x[F+1+(o+1)%A],D=L.H,Z=L.re.S0(D)?i.zy:L.re,j=L.zy.S0(D)?B.re:L.zy;
if(D.S0(Z)||D.S0(j))continue;var a=Z.x-D.x,b=Z.y-D.y,W=j.x-D.x,c=j.y-D.y,Z=Math.atan2(Z.y-D.y,Z.x-D.x)*180/Math.PI,j=Math.atan2(j.y-D.y,j.x-D.x)*180/Math.PI,Y=Math.abs(j-Z)%360,R=Y>180?360-Y:Y;
if(R<z)z=R}}return z*Math.PI/180};f.J.zQ=function(x){var z=x.segments?[x]:x.children,A=[];for(var F=0;
F<z.length;F++){var o=z[F],i=o.segments,L=o.closed?0:3,B=A.length,D=null;if(i.length<=1)continue;A.push({type:L,length:i.length,qh:0,zB:2});
for(var Z=0;Z<i.length;Z++){var j=i[Z],a=new iL(j.handleIn.x,j.handleIn.y),b=new iL(j.handleOut.x,j.handleOut.y),W=new iL(j.point.x,j.point.y),c={type:L+1,re:W.add(a),H:W,zy:W.add(b)};
if(D==null)D=c;A.push(c);if(Z+1==i.length&&iL.Or(D.H,c.H)<1e-5){A.pop();A[B].length--;D.re=c.re;if(L==3)for(var Y=B;
Y<A.length;Y++)A[Y].type-=3}}}return A};f.J.fO=function(x){f.J.wP();var z=[],A,o=new paper.Color(1,0,0);
function i(c,D){c.remove();c.closed=!D;c.fillRule="evenodd"}for(var F=0;F<x.length;F++){if(x[F].type>5)continue;
var L=x[F].length,B;if(F==x.length-1)break;var D=x[F].type==3;if(F==2){if(!f.J.u$(x))B="subtract";else B="unite"}else{if(x[F].qh==0)B="exclude";
if(x[F].qh==1)B="unite";if(x[F].qh==2)B="subtract";if(x[F].qh==3)B="intersect"}if(x[F].qh!=-1){A=new paper.CompoundPath;
z.push([A,B]);A.fillRule="evenodd";A.fillColor=o}var Z=[];for(var j=0;j<L;j++){var a=x[F+1+j],b=a.re.Vx(a.H),W=a.zy.Vx(a.H);
Z.push([[a.H.x,a.H.y],[b.x,b.y],[W.x,W.y]])}var c=new paper.Path(Z);i(c,D);A.addChild(c);F+=L}return z};
f.J.Ab=function(x){for(var F=0;F<x.length;F++){var z=x[F];if(z.H==null)continue;if(!z.H.S0(z.re)||!z.H.S0(z.zy))return!1}return!0};
f.J.ar$=function(x){if(x.length<=5)return 0;var z=0,A=x.length-3-1;for(var F=0;F<A;F++){var o=x[3+F],i=x[3+F+1];
if(o.type==0||i.type==0)return 0;z+=(i.H.x-o.H.x)*(o.H.y+i.H.y)}z+=(x[3].H.x-x[3+A].H.x)*(x[3+A].H.y+x[3+1].H.y);
return-z*.5};f.J.Kh=function(x){var z=x[2],A=!1;if(x.length==2)A=x[1].all==0;else if(x[1].all==1){if(z.qh==1||z.qh==3)A=!0;
else A=!1}else{if(z.qh==1||z.qh==3||z.qh==0)A=!0;else A=!1}return A};f.J.u$=function(x){var z=f.J.Kh(x);
for(var F=3;F<x.length;F++)if(x[F].qh==3)z=!0;return z};f.J.a0$=0;f.J.kT=0;f.J.a2e=0;f.J.a1p=function(x,z,A,o){if(A.WT())return;
var i=A.$(),k=16384;f.J.a0$+=i;if(i>f.J.kT){f.J.kT=i}var L=A.m,B=A.n;if(o==null&&f.J.Ab(x)&&x[2]&&x[2].qh!=2){var D=!0;
for(var F=2;F<x.length;)if(x[F].length==2)F+=3;else{D=!1;break}if(D){return}if(f.J.gb(x)){z.fill(255);
var Z=f.J.BH(x);if(Z.$()!=i){var j=1-(Z.x-A.x),a=1-(Z.y-A.y),b=1-(A.x+A.m-(Z.x+Z.m)),W=1-(A.x+A.n-(Z.x+Z.n)),c=~~(j*255),Y=~~(b*255),R=~~(a*255),$=~~(W*255);
z.fill(R,0,L);z[0]=~~(j*a*255);z[L-1]=~~(b*a*255);for(var F=L;F<i;F+=L){z[F]=c;z[F+L-1]=Y}z.fill($,(B-1)*L,B*L);
z[i-L]=~~(j*W*255);z[i-1]=~~(b*W*255)}return}}var w=Math.ceil(L/k),V=Math.ceil(B/k),h=Math.ceil(L/w),l=Math.ceil(B/V),M=Date.now();
for(var q=0;q<V;q++)for(var t=0;t<w;t++){var p=t*h,E=q*l,_=h,S=l,y=f.zG(_,S);if(!f.J.Kh(x))y.fillRect(0,0,_,S);
f.J.QI(x,y,-A.x-p,-A.y-E,o);var v=new Uint8Array(y.getImageData(0,0,_,S).data.buffer);if(_==L&&S==B)f.XN(v,z,3);
else f.mK(v,new av(p,E,_,S),z,new av(0,0,L,B))}};f.J.QI=function(x,z,A,o,i){if(i!=null){var L=!1,B=!1,D=0,Z=!1;
for(var F=0;F<x.length;F++){var j=x[F].qh;if(j!=null){D++;if(j==-1)L=!0;if(j>0)B=!0;if(x[F].type==0)Z=!0}}if(!L&&D<20&&(i==null||Z))x=f.J.xK(x)}for(var F=0;
F<x.length;F++){if(x[F].type>5)continue;var a=x[F].length;if(a==0)continue;if(F==x.length-1)break;var b=x[F].type==3,j=x[F].qh;
if(j!=-1&&i==null){var W=["xor","source-over","destination-out","source-in"][j];z.globalCompositeOperation=W}if(x[F].qh!=-1){z.beginPath();
if(i){var c=i.strokeStyleLineWidth.v.val,Y=i.strokeStyleLineAlignment.v.strokeStyleLineAlignment,R=i.strokeStyleLineCapType.v.strokeStyleLineCapType,$=i.strokeStyleLineJoinType.v.strokeStyleLineJoinType,k=i.strokeStyleMiterLimit.v,w=[],V=i.strokeStyleLineDashSet.v;
for(var h=0;h<V.length;h++)w.push(V[h].v.val*c);z.setLineDash(w);z.lineCap=["butt","round","square"][gN.J9.qA.indexOf(R)];
z.lineJoin=["miter","round","bevel"][gN.J9.join.indexOf($)];z.lineWidth=gN.J9.kq.indexOf(Y)==1?c:c*=2;
z.miterLimit=k}}f.J.ajM(z,x,F+1,a,A,o,b);if(b){}else z.closePath();if(x[F+1+a]==null||x[F+1+a].qh!=-1){if(i)z.stroke();
else z.fill("evenodd")}F+=a}z.globalCompositeOperation="source-over"};f.J.ajM=function(x,z,F,A,o,i,L){var B=z[F],D=null;
x.moveTo(B.H.x+o,B.H.y+i);for(var Z=F;Z<F+A-1;Z++){B=z[Z];D=z[Z+1];x.bezierCurveTo(B.zy.x+o,B.zy.y+i,D.re.x+o,D.re.y+i,D.H.x+o,D.H.y+i)}if(!L){B=z[Z];
D=z[F];x.bezierCurveTo(B.zy.x+o,B.zy.y+i,D.re.x+o,D.re.y+i,D.H.x+o,D.H.y+i)}};f.J.a8w=function(x,z){var A=[],o=z?4:1;
for(var F=0;F<x.length;F+=2){var i=new iL(x[F],x[F+1]);A.push({type:o,re:i.clone(),H:i.clone(),zy:i.clone()})}return A};
f.J.Wj=function(x,z,A){var o=f.p.Jr(x),i=Math.sqrt(Math.sqrt(o.$()))*.2,L=.2;x=x.slice(0);var B=x.length,D=z?0:2;
for(var Z=0;Z<5;Z++)for(var F=D;F<x.length-D;F+=2){var j=(F-2+B)%B,a=(F+2)%B,b=x[F],W=x[F+1],c=(x[j]+x[a])*.5,Y=(x[j+1]+x[a+1])*.5;
x[F]=b+(c-b)*L;x[F+1]=W+(Y-W)*L}if(A)return f.J.Ja.Un(x,null,!z);f.J.wP();var R=new paper.Path;R.remove();
R.closed=z;for(var F=0;F<x.length;F+=2)R.add(new paper.Point(x[F],x[F+1]));R.simplify(i);var $=[{type:6},{type:8,all:0}];
$=$.concat(f.J.zQ(R));return $};f.J.FZ=function(x,z,A){var o=x[z].length,i=x[z].type,L=0,B=x.slice(z+1,z+1+o);
for(var F=0;F<o;F++){var D=A[(F-1+o)%o],Z=A[(F+1+o)%o],j=A[F];if(j!=0){var a=B[(F-1+o)%o].H,b=B[(F+0+o)%o].H,W=B[(F+1+o)%o].H,c=iL.Or(b,a),Y=iL.Or(b,W),R=f.p.br(a.x,a.y,b.x,b.y,W.x,W.y,j)[0],$=Math.min(R,D==0?c:c/2,Z==0?Y:Y/2);
j*=$/R;var k=f.p.aio(a.x,a.y,b.x,b.y,W.x,W.y,j),w={type:i+1,re:new iL(k[2],k[3]),H:new iL(k[2],k[3]),zy:new iL(k[4],k[5])},V={type:i+1,re:new iL(k[6],k[7]),H:new iL(k[8],k[9]),zy:new iL(k[8],k[9])};
x.splice(z+L+1,1,w,V);L++;x[z].length++}L++}};f.J.Ab=function(x){for(var F=0;F<x.length;F++){var z=x[F],A=z.type;
if(A==1||A==2||A==4||A==5)if(!z.H.S0(z.re)||!z.H.S0(z.zy))return!1}return!0};f.J.gb=function(x){if(x.length!=7||x[2].length!=4||!f.J.Ab(x))return!1;
for(var F=0;F<4;F++){var z=!0;for(var A=0;A<4;A++){var o=x[3+(F+A&3)],i=x[3+(F+A+1&3)];if(o.H.x!=i.H.x&&o.H.y!=i.H.y)z=!1}if(z)return!0}return!1};
f.J.ah2=function(x){if(x.length<6)return 0;var z=x.length-2,A=0;for(var F=0;F<z;F+=2)A+=(x[F+2]-x[F])*(x[F+1]+x[F+3]);
A+=(x[0]-x[z])*(x[z+1]+x[1]);return-A*.5};f.J.a0A=function(x){x=g.tZ.cj(x);var z=f.J.T1(x);for(var A=0;
A<z;A++){var o=f.J.MB(x,A)+1,i=x[o-1].length,L=[];for(var F=0;F<i;F++){var B=x[o+F].H;L.push(B.x,B.y)}var D=f.J.ah2(L);
if(D<0){var Z=[];for(var F=0;F<i;F++){var j=x[o+F],a=j.re;j.re=j.zy;j.zy=a;Z.push(j)}for(var F=0;F<i;
F++)x[o+F]=Z[i-1-F]}}return x};f.J.Ja={};f.J.Ja.Un=function(x,z,A){var o=[{type:6},{type:8,all:0}],i=null;
o.push({type:A?3:0,qh:1,length:0,wN:0,CG:0,zB:1});if(z==0||z==null)i=null;else if(z instanceof Array)i=z;
else{i=[];for(var F=0;F<x.length;F+=2)i.push(z)}o=o.concat(f.J.a8w(x,A));o[2].length=o.length-3;if(i)f.J.FZ(o,2,i);
return o};f.J.Ja.adt=function(x,z,A,o,i){var L=[],B=[],D=.553,Z=1,j=-1;L.push({type:1,re:new iL(0,D),H:new iL(0,0),zy:new iL(0,-D)});
i+=2;for(var F=0;F<i;F++){var a={type:1};if(F==0){a.H=new iL(1,-1);a.re=new iL(1-D,-1);a.zy=new iL(1+D,-1)}else{var b=-(F+2)*Math.PI/2,W=1+((F&1)==1?F-1:F),c=Math.sin(b),Y=Math.cos(b);
Z+=W*(c-Y);j+=W*(Y+c);a.H=new iL(Z,j);a.re=new iL(Z+W*Y*D,j-W*c*D);if((F&1)==1)W+=2;a.zy=new iL(Z-W*Y*D,j+W*c*D)}var R={type:1,re:new iL(-a.zy.x,-a.zy.y),H:new iL(-a.H.x,-a.H.y),zy:new iL(-a.re.x,-a.re.y)};
L.push(a);if(F<i-2)B.push(R)}B.reverse();L=L.concat(B);var $=[{type:6},{type:8,all:0}];$.push({type:0,qh:1,length:L.length,wN:0,CG:0,zB:1});
$=$.concat(L);var k=new cb(A/i,0,0,A/i,0,0);k.rotate(o);k.translate(x,z);f.J.ox($,k);return $};f.J.Ja.Rect=function(x,z,A,o,i){var L=[x,z,x+A,z,x+A,z+o,x,z+o];
return f.J.Ja.Un(L,i)};f.J.Ja.LB=function(x,z,A,o,i,L,B,D){var Z=[],j=2*Math.PI/i;for(var F=0;F<i;F++)Z.push(Math.cos(F*j-o),Math.sin(F*j-o));
if(B!=null){var a=f.p.Jr(Z),b=a.m,W=a.n,c=B/(b/2),Y=D/(W/2);for(var F=0;F<Z.length;F+=2){Z[F]=(Z[F]-(a.x+b/2))*c;
Z[F+1]=(Z[F+1]-(a.y+W/2))*Y}A=1}var R=new cb(A,0,0,A,0,0);R.translate(x,z);f.p.D(Z,R,Z);return f.J.Ja.Un(Z,L)};
f.J.Ja.Cm=function(x,z,A,o,i,L,B){var D=[],Z=Math.PI/i;for(var F=0;F<i*2;F++){var j=(F&1)==0?1:B;D.push(j*Math.cos(F*Z),j*Math.sin(F*Z))}var a=new cb(A,0,0,A,0,0);
a.rotate(o);a.translate(x,z);f.p.D(D,a,D);return f.J.Ja.Un(D,L)};f.J.Ja.d9=function(x,z,A,o,i){return f.J.Ja.af(0,x,z,A,o,i)};
f.J.Ja.aj9=function(x,z,A,o,i,L){return f.J.Ja.af(1,x,z,A,o,i,L)};f.J.Ja.Fz=function(x,z,A,o,i,L){return f.J.Ja.af(2,x,z,A,o,i,L)};
f.J.Ja.af=function(x,z,A,o,i,L,B){var D=Math.sqrt((o-z)*(o-z)+(i-A)*(i-A)),Z;L/=2;if(x==0)Z=[-L,0,L,0,L,D,-L,D];
if(x==1){var j=L*2*B*1.3/1.5,a=L*B;Z=[-L,0,L,0,L,D-j,a,D-j,0,D,-a,D-j,-L,D-j]}if(x==2){var j=B[3],a=B[2]/2,b=j*(2/3)*B[4]/100,W=j-b,c=j;
Z=[];if(B[0])Z.push(-L,W,-a,c,0,0,a,c,L,W);else Z.push(-L,0,L,0);if(B[1])Z.push(L,D-W,a,D-c,0,D,-a,D-c,-L,D-W);
else Z.push(L,D,-L,D)}var Y=new cb(1,0,0,1,0,0);Y.rotate(Math.atan2(-i+A,o-z)+Math.PI/2);Y.translate(z,A);
f.p.D(Z,Y,Z);return f.J.Ja.Un(Z,0)};f.J.Ja.sq=function(x,z,A,o){var i=[{type:6},{type:8,all:0}],b=.553;
i.push({type:0,qh:1,length:4,wN:0,CG:0,zB:1});var L=x,B=z,D=x+A,Z=z+o,x=(L+D)/2,z=(B+Z)/2,j=(L-D)/2,a=(B-Z)/2;
i.push({type:1,re:new iL(x-b*j,z-a),H:new iL(x,z-a),zy:new iL(x+b*j,z-a)});i.push({type:1,re:new iL(x+j,z-b*a),H:new iL(x+j,z),zy:new iL(x+j,z+b*a)});
i.push({type:1,re:new iL(x+b*j,z+a),H:new iL(x,z+a),zy:new iL(x-b*j,z+a)});i.push({type:1,re:new iL(x-j,z+b*a),H:new iL(x-j,z),zy:new iL(x-j,z-b*a)});
return i};f.J.Ja.abA=function(x,z,A,o,i){var L=[{type:6},{type:8,all:0}];L.push({type:3,qh:1,length:5,wN:0,CG:0,zB:1});
var B=(i-o)/4;for(var F=0;F<5;F++){var D=F*B,Z=Math.cos(D),j=Math.sin(D),a=.553*(B/(Math.PI/2)),b=j*a,W=-Z*a,c=new iL(Z,j);
L.push({type:4,re:F==0?c.clone():new iL(Z+b,j+W),H:c,zy:F==4?c.clone():new iL(Z-b,j-W)})}var Y=new cb;
Y.rotate(-o);Y.scale(A,A);Y.translate(x,z);f.J.ox(L,Y);return L};f.qK={};f.qK.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
f.qK.h8=function(x){var z=x.warpStyle.v.warpStyle;if(z=="warpNone")return!0;else if(z=="warpCustom"){var A=!1,o=x.customEnvelopeWarp.v.meshPoints.v.arr,i=o[0].arr,L=o[1].arr;
for(var F=0;F<4;F++)for(var B=0;B<4;B++){if(Math.abs(i[F]-i[B*4+F])>1||Math.abs(L[F*4]-L[F*4+B])>1)A=!0}return!A}else return x.warpValue.v==0&&x.warpPerspective.v==0&&x.warpPerspectiveOther.v==0};
f.qK.C=function(x){var z={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(x){z.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x.y}},Left:{t:"UntF",v:{type:"#Pxl",val:x.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:x.y+x.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:x.x+x.m}}}};
z.uOrder={t:"long",v:4};z.vOrder={t:"long",v:4}}return z};f.qK.a2j=function(x,z,A,o){for(var F=0;F<x.length;
F+=2){var i=x[F],L=x[F+1],B=(i-z.x)/z.m,D=(L-z.y)/z.n,Z=(1-A)/2,j=1-Z,a=Z+B*(j-Z);D=.5+(D-.5)*a*2;var b=(1-o)/2,W=1-b,c=b+D*(W-b);
B=.5+(B-.5)*c*2;i=z.x+B*z.m;L=z.y+D*z.n;x[F]=i;x[F+1]=L}};f.qK.r9=function(x,z){var A=[],o=[];for(var F=0;
F<x.length;F+=2){A.push(x[F]);o.push(x[F+1])}var i=[];i.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:A});
i.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:o});z.warpStyle.v.warpStyle="warpCustom";z.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:i}}}}};
f.qK.Tq=function(x,z){if(z==null){var A=x.bounds.v,o=A.Left.v.val,i=A.Rght.v.val,L=A.Top.v.val,B=A.Btom.v.val;
z=new av(o,L,i-o,B-L)}if(z.WT())z.m=z.n=1;var D=[],Z=x.warpStyle.v.warpStyle;if(Z=="warpCustom"){var j=x.customEnvelopeWarp.v.meshPoints.v.arr,a=j[0].arr,b=j[1].arr;
for(var F=0;F<16;F++)D.push(a[F],b[F])}else D=f.qK.qK(z,Z,x.warpRotate.v.Ornt=="Hrzn",x.warpValue.v/100,x.warpPerspective.v/100,x.warpPerspectiveOther.v/100);
return D};f.qK.qK=function(x,z,A,o,i,L){var B=f.fE.C(x.x,x.y,x.m,x.n);if(z=="warpNone")return B;var D=JSON.parse(JSON.stringify(x)),Z=new cb;
if(!A){Z.translate(-x.x,-x.y);Z.rotate(-Math.PI/2);Z.translate(x.n,0);f.p.D(B,Z,B);x=new av(0,0,x.n,x.m);
B=f.fE.AX(B,!1)}f.qK.a92(B,x,z,o,i,L);if(!A){B=f.fE.AX(B,!0);x=D;Z.Qs();f.p.D(B,Z,B)}if(o==0)f.qK.a2j(B,x,i,L);
else{var Z=new cb(1/x.m,0,0,1/x.n,-x.x,-x.y);Z.translate(-.5,-.5);f.p.D(B,Z,B);f.qK.a2F(B,L,i);Z.Qs();
f.p.D(B,Z,B)}return B};f.qK.a92=function(x,z,A,o,i,L){for(var F=0;F<4;F++){for(var B=0;B<4;B++){var D=2*(4*F+B),Z=x[D]-z.x,j=x[D+1]-z.y,a=Z,b=j;
if(o!=0){var W=z.m/2,c=z.n/2;a-=W;b-=c;var Y=a,R=a,$=-c,k=c,w=Math.abs(o),V=Math.tan((1-w)*Math.PI/2),h=Math.sqrt(V*V+1),l=Math.atan2(1,V),M=a/W*l,q=W*h,t=W*h+z.n,p=Math.cos(l),E=Math.sin(l),_=f.qK.aiE(p,E),S=f.qK.aeT(p,E),y=-V*W+_*q;
if(A=="warpArc"){Y=Math.sin(M)*t;$=V*W-Math.cos(l)*t+c;R=Math.sin(M)*q;k=V*W-Math.cos(l)*q+c;if(B==1||B==2){Y=B==1?-S*t:S*t;
R=B==1?-S*q:S*q;$=V*W+c-_*t;k=V*W+c-_*q}if(o<0){var v=Y;Y=R;R=v;v=$;$=-k;k=-v}}if(A=="warpArcLower"){if(B==1||B==2){R=B==1?-S*q:S*q;
k=o<0?c-y:c+y}}if(A=="warpArcUpper"||A=="warpArch"||A=="warpBulge"){if(B==1||B==2){Y=B==1?-S*q:S*q;$=o<0?-c+y:-c-y}if(A=="warpArch"){R=Y;
k=$+2*c}if(A=="warpBulge"){R=Y;k=-$}}if(A=="warpFish"||A=="warpFlag"||A=="warpWave"){var r=B;if(A=="warpFlag")r=3-B;
if(r==1){$-=o*4*c;k+=o*4*c}if(r==2){$+=o*4*c;k-=o*4*c}if(A=="warpFlag"||A=="warpWave")$=k-2*c}if(A=="warpRise"){if(B<2)$=-c+o*c*4;
k=$+2*c}var K=(b+c)/z.n;a=Y+K*(R-Y);b=$+K*(k-$);if(A=="warpWave"){if(F==0)b=-c;if(F==3)b=c;if(F==1||F==2)b=2*c*(F/3-.5)*(1/3)+b*(2/3)}if(A=="warpFisheye"){if((F==1||F==2)&&(B==1||B==2)){a=a+4*a*o;
b=b+4*b*o}}if(A=="warpInflate"){var s=2/3;if((F==1||F==2)&&(B==1||B==2)){a=a+.5*a*o;b=b+.5*b*o}else if(F==1||F==2)a=a+s*a*o;
else if(B==1||B==2)b=b+s*b*o}if(A=="warpSqueeze"){var s=2/3;if((F==1||F==2)&&(B==1||B==2)){if(o>0)a=a-s*a*o;
else b=b+s*b*o}else if(F==1||F==2)a=a-s*a*o;else if(B==1||B==2)b=b+s*b*o}if(A=="warpTwist"){if((F==1||F==2)&&(B==1||B==2)){var P=o*Math.PI/2,h=1+Math.abs(o)*2,d=a*Math.cos(P)-b*Math.sin(P),X=a*Math.sin(P)+b*Math.cos(P);
a=d*h;b=X*h}}if(A=="warpShellLower"||A=="warpShellUpper"){if(A=="warpShellUpper"){F=3-F;b=-b}if(F>2||F==2&&(B==0||B==3)){if(o>0){var U=q+F/3*2*c;
a=Math.sin(M)*U;b=-V*W-c+Math.cos(M)*U;if(B==1||B==2){a=B==1?-S*U:S*U;b=-V*W-c+_*U}}else{if((B==1||B==2)&&F==3){a=B==1?-S*q:S*q;
b=V*W-_*q+c}else if(F==2){b=c-c*(2/3)*Math.cos(M);a=a+c*(2/3)*Math.sin(M)}}}if(A=="warpShellUpper"){F=3-F;
b=-b}}a+=W;b+=c}Z=a,j=b;x[D]=Z+z.x;x[D+1]=j+z.y}}};f.qK.a2F=function(x,z,A){var o=[];for(var i=0;i<4;
i++)o.push(1-A+i/3*2*A);var L=[];for(var i=0;i<4;i++)L.push(1-z+i/3*2*z);var B=[0,0,0,0],D=[0,0,0,0];
for(var F=0;F<4;F++)for(var i=0;i<4;i++){var Z=2*(4*F+i),j=x[Z],a=x[Z+1];B[i]+=j/4;D[i]+=a/4}for(var F=0;
F<4;F++)for(var i=0;i<4;i++){var b=o[i],Z=2*(4*F+i),j=x[Z],a=x[Z+1],W=B[i],c=D[i];x[Z]=W+b*(j-W);x[Z+1]=c+b*(a-c)}var Y=x.slice(0);
for(var F=0;F<4;F++)for(var i=1;i<3;i++){var Z=2*(4*F+i),j=x[Z],a=x[Z+1],R=Z+(i==1?-2:2),$=x[R],k=x[R+1];
x[Z]=j-$;x[Z+1]=a-k}var w=x[0],V=x[1],h=x[8],l=x[9],M=x[16],q=x[17],t=x[24],p=x[25],E=x[6],_=x[7],S=x[14],y=x[15],v=x[22],r=x[23],K=x[30],s=x[31],P=E-w,d=_-V,X=S-h,U=y-l,n=v-M,e=r-q,J=K-t,C=s-p;
for(var F=0;F<4;F++){var H=2*F*4,u=0,bc=0,jK=F==1?.33:.66,N=1-jK;if(F==0){u=P;bc=d}if(F==1){u=N*P+jK*-J;
bc=N*d+jK*-C}if(F==2){u=N*P+jK*-J;bc=N*d+jK*-C}if(F==3){u=-J;bc=-C}x[H]=x[H]+u/2;x[H+1]=x[H+1]+bc/2;
x[H+6]=x[H+6]-u/2;x[H+7]=x[H+7]-bc/2}for(var F=0;F<4;F++)for(var i=1;i<3;i++){var Z=2*(4*F+i),j=x[Z],a=x[Z+1],R=Z+(i==1?-2:2),$=x[R],k=x[R+1],b=2*F/3;
x[Z]=$+b*j;x[Z+1]=k+b*a}for(var F=1;F<3;F++)for(var i=1;i<3;i++){var Z=2*(4*F+i),j=x[Z],a=x[Z+1],he=F==1?-8:-16,gJ=F==1?16:8,kg=x[Z+he],cJ=x[Z+he+1],it=x[Z+gJ],by=x[Z+gJ+1],b=F/3;
j=(1-b)*kg+b*it;a=(1-b)*cJ+b*by;x[Z]=j;x[Z+1]=a}f.p.Uf(Y,x,x,z)};f.qK.aiE=function(x,z){return(4-x)*(1/3)};
f.qK.aeT=function(x,z){return(1-x)*(3-x)/(3*z)};f.NB={};f.NB.arF=function(x,z,A,o,i,L,B,D,Z,j){for(var a=0;
a<D;a++)for(var b=0;b<B;b++){var W=3*(a*B+b),c=a+L,Y=b+i,R=x[c*z+Y];o[W]=R;o[W+1]=R;o[W+2]=R}};f.NB.RN=function(x,z,A,o,i,L,B,D,Z,j){var a=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],b=1/Z,W=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],c=new Uint32Array(6);
for(var Y=0;Y<D;Y++){for(var R=0;R<B;R++){var $=3*(Y*B+R),k=Y+L,w=R+i;c[0]=0;c[1]=0;c[2]=0;c[3]=0;c[4]=0;
c[5]=0;for(var F=0;F<16;F+=2){var V=w+W[F],h=k+W[F+1],l=V-Z*~~(V*b),M=h-Z*~~(h*b),q=j[M*Z+l];c[q]+=x[h*z+V];
c[q+3]++}var V=w,h=k,l=V-Z*~~(V*b),M=h-Z*~~(h*b),q=j[M*Z+l];c[q]=x[k*z+w];c[q+3]=1;o[$]=c[0]*a[c[3]];
o[$+1]=c[1]*a[c[4]];o[$+2]=c[2]*a[c[5]]}}};f.NB.yN=function(x,z,A){for(var F=0;F<A;F+=2)x[z+F]=x[z+F+1];
z=z+A;for(var F=0;F<A;F+=2)x[z+F+1]=x[z+F]};f.NB.Ku=function(x,z,A,o){for(var F=0;F<o;F+=2){var i=z+F*A;
x[i]=x[i+A];x[i+A+1]=x[i+1]}};f.NB.eI=function(x,z,A,o,i,L){var B=o[i],D=o[i+1],Z=o[L],j=o[L+1],a=D+Z>>>1;
x[z]=x[z+3]=x[A]=x[A+3]=B;x[z+1]=a;x[z+4]=D;x[A+1]=Z;x[A+4]=a;x[z+2]=x[z+5]=x[A+2]=x[A+5]=j};f.NB.aiz=function(x,z,A,o,i,L){var B=L*3;
for(var F=0;F<L;F+=2){var D=z+F,Z=i+F*3;f.NB.eI(o,Z,Z+B,x,D,D+A)}};f.NB.aka=function(x,z,A,o,i,L,B){var D=L*3;
for(var F=0;F<B;F+=2){var Z=z+F*A,j=i+F*L*3;f.NB.eI(o,j,j+D,x,Z,Z+A)}};f.NB.Wu=function(x,F,z){var A=x[F-z-z],o=x[F-z],i=x[F-2],L=x[F-1],B=x[F],D=x[F+1],Z=x[F+2],j=x[F+z],a=x[F+z+z],b=Math.abs(o-j),W=Math.abs(L-D),c=Math.abs(B-A)*2+b,Y=Math.abs(B-Z)*2+W,R=Math.abs(B-i)*2+W,$=Math.abs(B-a)*2+b,k=Math.min(c,Math.min(Y,Math.min(R,$)));
if(k==c)return o*3+j+B-A>>2;if(k==Y)return D*3+L+B-Z>>2;if(k==R)return L*3+D+B-i>>2;return j*3+o+B-a>>2};
f.NB.zj=function(x,z,A,o,i){if(x<z&&z<A||x>z&&z>A)return~~(.5+o+(i-o)*(z-x)/(A-x));else return(o+i>>1)+(z+z-x-A>>2)};
f.NB.vj=function(x,z,F,A){var o=z[F-A-1],i=z[F-A+1],L=z[F],B=z[F+A-1],D=z[F+A+1],Z=x[F-A-1],j=x[F-A+1],a=x[F],b=x[F+A-1],W=x[F+A+1],c=Math.abs(j-b)+Math.abs(x[F-A-A+2]-a)+Math.abs(a-x[F+A+A-2])+Math.abs(i-L)+Math.abs(L-B),Y=Math.abs(Z-W)+Math.abs(x[F-A-A-2]-a)+Math.abs(a-x[F+A+A+2])+Math.abs(o-L)+Math.abs(L-D);
if(c<Y)return f.NB.zj(i,L,B,j,b);else return f.NB.zj(o,L,D,Z,W)};f.NB.s8=function(x,z,A,o,i,L){x[z+0]=A[i];
x[z+1]=o[i];x[z+2]=f.NB.vj(A,o,i,L)};f.NB.WA=function(x,z,A,o,i,L){var B=o[i];x[z+0]=f.NB.zj(o[i-1],B,o[i+1],A[i-1],A[i+1]);
x[z+1]=B;x[z+2]=f.NB.zj(o[i-L],B,o[i+L],A[i-L],A[i+L])};f.NB.wM=function(x,z,A,o,i,L){var B=o[i];x[z+0]=f.NB.zj(o[i-L],B,o[i+L],A[i-L],A[i+L]);
x[z+1]=B;x[z+2]=f.NB.zj(o[i-1],B,o[i+1],A[i-1],A[i+1])};f.NB.AL=function(x,z,A,o,i,L){x[z+0]=f.NB.vj(A,o,i,L);
x[z+1]=o[i];x[z+2]=A[i]};f.NB.a9b=function(x,z,A,o,i,L,B,D,Z){var j=Date.now(),a=2,b=z-2,W=2;if((i&1)==1){a++;
b--}var c=A-2;if((L&1)==1){W++;c--}if(Z==1||Z==3){a++;b--}var Y=x.slice(0);f.NB.yN(Y,0,z);f.NB.Ku(Y,0,z,A);
f.NB.Ku(Y,z-2,z,A);f.NB.yN(Y,(A-2)*z,z);for(var R=W;R<c;R+=2)for(var $=a;$<b;$+=2){var F=R*z+$,k=f.NB.Wu(Y,F,z),w=f.NB.Wu(Y,F+z+1,z);
Y[F]=Math.max(0,k);Y[F+z+1]=Math.max(0,w)}var V=B,h=D;if(L+D==A){h-=2;f.NB.aiz(x,(A-2)*z+i,z,o,(D-2)*B*3,B)}if(i+B==z){V-=2;
f.NB.aka(x,L*z+i+B-2,z,o,(B-2)*3,B,D)}if(Z==0)for(var R=0;R<h;R+=2)for(var $=0;$<V;$+=2){var l=(R+L)*z+$+i,M=(R*B+$)*3;
f.NB.s8(o,M,x,Y,l,z);f.NB.WA(o,M+3,x,Y,l+1,z);l+=z;M+=3*B;f.NB.wM(o,M,x,Y,l,z);f.NB.AL(o,M+3,x,Y,l+1,z)}else if(Z==1)for(var R=0;
R<h;R+=2)for(var $=0;$<V;$+=2){var l=(R+L)*z+$+i,M=(R*B+$)*3;f.NB.WA(o,M,x,Y,l,z);f.NB.s8(o,M+3,x,Y,l+1,z);
l+=z;M+=3*B;f.NB.AL(o,M,x,Y,l,z);f.NB.wM(o,M+3,x,Y,l+1,z)}else if(Z==2)for(var R=0;R<h;R+=2)for(var $=0;
$<V;$+=2){var l=(R+L)*z+$+i,M=(R*B+$)*3;f.NB.AL(o,M,x,Y,l,z);f.NB.wM(o,M+3,x,Y,l+1,z);l+=z;M+=3*B;f.NB.WA(o,M,x,Y,l,z);
f.NB.s8(o,M+3,x,Y,l+1,z)}else if(Z==3)for(var R=0;R<h;R+=2)for(var $=0;$<V;$+=2){var l=(R+L)*z+$+i,M=(R*B+$)*3;
f.NB.wM(o,M,x,Y,l,z);f.NB.AL(o,M+3,x,Y,l+1,z);l+=z;M+=3*B;f.NB.s8(o,M,x,Y,l,z);f.NB.WA(o,M+3,x,Y,l+1,z)}};
f.raw={};f.raw.asS=function(x){var z=Date.now(),A=x.width,o=x.height,i=0,L=0,B=A,D=o;if(x.t50829){var Z=x.t50829;
i=Z[1];L=Z[0];B=Z[3];D=Z[2]}if(x.t50719){var j=x.t50719;i+=j[0]>>1<<1;L+=j[1]>>1<<1}if(x.t50720){var a=x.t50720;
B=i+a[0];D=L+a[1]}var b=B-i,W=D-L,c=f.raw.abO(x),Y=x.t33422,R=x.t33421;if(R){var a=R[0],$=Y.slice(0);
for(var k=0;k<a;k++)for(var w=0;w<a;w++){var V=(w+(i&1))%a,h=(k+(L&1))%a;$[k*a+w]=Y[h*a+V]}Y=$}if(x.t277[0]==1)f.raw.afw(c,A,o,x,Y);
f.raw.Hc(2,x,c,A,o);var l=new Float32Array(b*W*3);if(x.t277[0]==1){if(R==null){f.NB.arF(c,A,o,l,i,L,b,W)}else if(R.length!=2||R[0]!=2||R[1]!=2){console.log("Unknown CFA pattern size",R);
f.NB.RN(c,A,o,l,i,L,b,W,R[0],Y)}else{var M=x.t33422.join(","),q=0;if(M=="0,1,1,2")q=0;else if(M=="1,0,2,1")q=1;
else if(M=="2,1,1,0")q=2;else if(M=="1,2,0,1")q=3;else throw"Unknown CFA pattern "+M;if((b&1)!=0||(W&1)!=0)throw"e";
f.NB.a9b(c,A,o,l,i,L,b,W,q)}}else{for(var k=0;k<W;k++)for(var w=0;w<b;w++){var t=((k+L)*A+w+i)*3,p=(k*b+w)*3;
l[p+0]=c[t+0];l[p+1]=c[t+1];l[p+2]=c[t+2]}}var E=l,_=l.length,S=f.raw.QT(x),y=1/S;for(var F=0;F<_;F+=3){l[F]=E[F]*y;
l[F+1]=E[F+1]*y;l[F+2]=E[F+2]*y}f.raw.Hc(3,x,l,b,W);var v=x.$e,r=b,K=W;if(v==1||v==9){}else{var s=f.raw.qZ(v,b,W),p=0;
r=s[0];K=s[1];var P=l.slice(0);for(var k=0;k<K;k++)for(var w=0;w<r;w++){var d=s[2]*w+s[3]*k+s[4],X=s[5]*w+s[6]*k+s[7],t=(X*b+d)*3;
l[p]=P[t];l[p+1]=P[t+1];l[p+2]=P[t+2];p+=3}}return{ov:l,xX:r,aN:K}};f.raw.qZ=function(x,z,A){var o=z,i=A;
if(!1){}else if(x==2)return[z,A,-1,0,z-1,0,1,0];else if(x==3)return[z,A,-1,0,z-1,0,-1,A-1];else if(x==4)return[z,A,1,0,0,0,-1,A-1];
else if(x==5)return[A,z,0,1,0,1,0,0];else if(x==6)return[A,z,0,1,0,-1,0,A-1];else if(x==7)return[A,z,0,-1,z-1,-1,0,A-1];
else if(x==8)return[A,z,0,-1,z-1,1,0,0];else throw"unknown orientation "+x};f.raw.afw=function(x,z,A,o,i){var L=Date.now(),y=0,K=0;
if(f.raw.QT(o)>4e4){for(var F=0;F<x.length;F++)x[F]>>=1;var B=["t50714","t50715","t50712","t50717"];
for(var F=0;F<B.length;F++){var D=o[B[F]];if(D)for(var Z=0;Z<D.length;Z++)D[Z]>>>=1}console.log("remapping to lower bit depth")}var j=~~Math.sqrt(i.length),a=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],b=[];
for(var W=0;W<j;W++)for(var c=0;c<j;c++){var F=W*j+c,Y=i[F],R=4,$=4,k=8,w=0,V=0;for(var Z=0;Z<18;Z+=2){var h=(j+c+a[Z])%j,l=(j+W+a[Z+1])%j,M=i[l*j+h];
if(M==Y){}else if(R==4){R=M;w=Z}else if($==4&&M!=R){$=M;V=Z;break}}if($<R){var q=$;$=R;R=q;q=V;V=w;w=q}if(R<Y){var q=R;
R=Y;Y=q;q=w;w=k;k=q}if($<R){var q=$;$=R;R=q;q=V;V=w;w=q}b[F*3]=a[k+1]*z+a[k];b[F*3+1]=a[w+1]*z+a[w];
b[F*3+2]=a[V+1]*z+a[V]}var t=~~(.996*f.raw.QT(o)),p=~~(.992*f.raw.QT(o)),E=o.t50728;if(E[0]==0)E=[1,1,1];
var _=[],S=[0,0,0];for(var W=1;W<A-1;W++)for(var c=1;c<z-1;c++){var F=W*z+c,v=W%j*j+c%j,Y=x[F+b[v*3+0]],R=x[F+b[v*3+1]],$=x[F+b[v*3+2]],r=Math.max(Y,R,$);
if(r>t)_.push(F);else if(r>p){S[0]+=Y;S[1]+=R;S[2]+=$;y++}}if(_.length==0)return;if(y/(z*A)<1e-5){console.log("not enough semi-saturated pixels",y);
S=E}if(S[1]<S[K])K=1;if(S[2]<S[K])K=2;var s=[S[0]/S[K],S[1]/S[K],S[2]/S[K]],P=x.slice(0);for(var d=0;
d<_.length;d++){var F=_[d],W=~~(F/z),c=F-W*z,v=W%j*j+c%j,X=Math.min(65535,~~(x[F+b[v*3+K]]*s[i[v]]));
if(X>P[F])P[F]=X}x.set(P)};f.raw.AC=function(x,z,A,o){var i=x.ov,L=Math.round(i.length/3),B=i.slice(0);
f.raw.ff(i,B,A,o);var D=Math.pow(2,o[2]),Z=new Uint8Array(4e3);for(var F=0;F<4e3;F++){var j=F*(1/1e3);
j=f.sS(j);j*=D;j=f.Ln(j);j=Math.max(0,Math.min(1,j));j=f.raw.ue.au5(j,o[3]/100);Z[F]=~~(.5+255*j)}for(var F=0;
F<L;F++){var a=F<<2,b=a-F;z[a]=Z[~~(B[b]*1e3)];z[a+1]=Z[~~(B[b+1]*1e3)];z[a+2]=Z[~~(B[b+2]*1e3)]}};f.raw.ff=function(x,z,A,o){var i=Math.round(x.length/3),L=hz.amK(o[0],o[1]),B=f.raw.ajo(A,L),D=f.ZJ.multiply(f.ZJ.Wv,B),Z=Math.pow(2,A.t50730?A.t50730[0]:0);
D=f.ZJ.multiply(D,f.ZJ.PN(Z,Z,Z));var j=f.raw.ff.adT;if(j==null){j=f.raw.ff.adT=new Float64Array(8e3);
for(var F=0;F<8e3;F++)j[F]=f.Ln(F*(1/1e3))}for(var F=0;F<i;F++){var a=F<<2,b=a-F,W=x[b],c=x[b+1],Y=x[b+2],R=D[0]*W+D[1]*c+D[2]*Y,$=D[4]*W+D[5]*c+D[6]*Y,k=D[8]*W+D[9]*c+D[10]*Y;
if(R<0)R=0;if($<0)$=0;if(k<0)k=0;z[b]=j[~~(R*1e3)];z[b+1]=j[~~($*1e3)];z[b+2]=j[~~(k*1e3)]}};f.raw.ue={au5:function(x,z){var A=.5-.5*Math.cos(x*3.2),o=0;
if(z>0){var i=x*.2;o=i*x+(1-i)*A}else{var L=Math.pow(x,.33);o=(1-L)*L+L*(x+(x-A)*.63)}var B=Math.abs(z);
return B*o+(1-B)*x},a5$:function(x,z){var A=0;if(z>0){var o=x*1.47,i=Math.pow(x,2.4);A=Math.min(1,i*x+(1-i)*o)}else{var o=x*.68,i=Math.pow(x,3);
A=i*x*.5+(1-i)*o}var L=Math.abs(z);return L*A+(1-L)*x},adY:function(x,z){var A=0;if(z>0){var o=Math.pow(x,.3),i=x;
A=(1-x)*o+x*i}else{var o=Math.pow(x,2.5),L=x,i=x;A=Math.min(1,(1-L)*o+L*i)}var B=Math.abs(z);return B*A+(1-B)*x}};
f.raw.abO=function(x){var z=x.width,A=x.height,o=z*A*x.t277,i=new Uint16Array(o),L=null,B=0;f.raw.amW(x,i);
f.raw.Hc(1,x,i,z,A);if(x.t50712){L=x.t50712;B=L.length-1;if(L[B]>65535)throw"too big values"}var D=f.raw.Wk(x),Z=f.raw.HP(x);
if(L==null)for(var F=0;F<o;F++)i[F]=Math.max(0,i[F]-D);else for(var F=0;F<o;F++){var j=i[F];if(j>B)j=B;
j=L[j];i[F]=Math.max(0,j-D)}return i};f.raw.Wk=function(x){var z=x.t50714,A=z?z[0]:0,o=x.t50715,i=x.t50716;
if(o)A+=o[0][0]/o[0][1];if(i)A+=i[0][0]/i[0][1];return Math.round(A)};f.raw.HP=function(x){var z=null,A=0;
if(x.t50712){z=x.t50712;A=z.length-1}var o=x.t50717?x.t50717[0]:(1<<x.t258[0])-1;if(z)o=Math.min(o,z[A]);
return o};f.raw.QT=function(x){var z=f.raw.Wk(x),A=f.raw.HP(x);return A-z};f.raw.amW=function(x,z){var A=z.length,o=x.data,i=x.t258[0];
if(i!=16&&i!=14&&i!=12&&i!=10&&i!=8)throw"Unsupported Bits Per Sample:"+i;i=Math.round(o.length*8/A);
if(i==16&&x.isLE){f.Yy(o,z);return}for(var F=0;F<A;F+=2){var L=0,B=0,D=0;if(i==16){L=F<<1;B=o[L]<<8|o[L+1];
D=o[L+2]<<8|o[L+3]}else if(i==14){var Z=F*14,j=Z>>>3,a=o[j]<<24|o[j+1]<<16|o[j+2]<<8|o[j+3];if((Z&7)==0){B=a>>>18;
D=a>>>4&16383}else{B=a>>>14&16383;D=a&16383}}else if(i==12){L=F+(F>>>1);B=o[L]<<4|o[L+1]>>4;D=(o[L+1]&15)<<8|o[L+2]}else if(i==10){var Z=F*10,j=Z>>>3;
if((Z&7)==0){B=(o[j]<<2|o[j+1]>>6)&1023;D=(o[j+1]<<4|o[j+2]>>4)&1023}else{B=(o[j]<<6|o[j+1]>>2)&1023;
D=(o[j+1]<<8|o[j+2]>>0)&1023}}else if(i==8){L=F;B=o[L];D=o[L+1]}z[F]=B;z[F+1]=D}};f.raw.awc=function(x,z,A,o,i,L,B){var D=x-.499999,Z=z-.499999,j=~~D,a=~~Z,b=D-j,W=Z-a,c=(1-W)*(1-b),Y=(1-W)*b,R=W*(1-b),$=W*b,k=(a*o+j)*3,w=((a+1)*o+j)*3,V=c*A[k]+Y*A[k+3]+R*A[w]+$*A[w+3],h=c*A[k+1]+Y*A[k+4]+R*A[w+1]+$*A[w+4],l=c*A[k+2]+Y*A[k+5]+R*A[w+2]+$*A[w+5];
L[B]=V;L[B+1]=h;L[B+2]=l};f.raw.Hc=function(x,z,A,o,i){var L=z["t"+[51008,51009,51022][x-1]],a=0;if(L==null)return;
var B=o*i,D=m.l,Z=m.gN,j=new Uint8Array(L),is=m.l(j,a);a+=4;for(var b=0;b<is;b++){var W=D(j,a);a+=4;
var c=D(j,a);a+=4;var Y=D(j,a);a+=4;var R=D(j,a);a+=4;if(!1){}else if(W==1&&x==3){var $=a,k=D(j,$);$+=4;
var w=Z(j,$);$+=8;var V=Z(j,$);$+=8;var h=Z(j,$);$+=8;var l=Z(j,$);$+=8;var M=Z(j,$);$+=8;var q=Z(j,$);
$+=8;$+=(k-1)*8*6;var t=Z(j,$);$+=8;var p=Z(j,$);$+=8;var E=t*o,_=p*i,S=Math.max(E,o-E),y=Math.max(_,i-_),v=Math.sqrt(S*S+y*y),r=1/v,K=A.slice(0);
for(var s=0;s<i;s++)for(var P=0;P<o;P++){var d=(P+.5-E)*r,X=(s+.5-_)*r,U=d*d+X*X,n=w+V*U+h*(U*U)+l*(U*U)*U,e=M*(2*d*X)+q*(U+2*d*d),J=q*(2*d*X)+M*(U+2*X*X),C=Math.min(E+v*(n*d+e),o-1),H=Math.min(_+v*(n*X+J),i-1),u=(s*o+P)*3;
f.raw.awc(C,H,K,o,i,A,u)}}else if(W==3&&x==3){var $=a,bc=Z(j,$);$+=8;var jK=Z(j,$);$+=8;var N=Z(j,$);
$+=8;var he=Z(j,$);$+=8;var gJ=Z(j,$);$+=8;var t=Z(j,$);$+=8;var p=Z(j,$);$+=8;var E=t*o,_=p*i,S=Math.max(E,o-E),y=Math.max(_,i-_),v=Math.sqrt(S*S+y*y),r=1/v;
for(var s=0;s<i;s++)for(var P=0;P<o;P++){var d=(P+.5-E)*r,X=(s+.5-_)*r,U=d*d+X*X,kg=1+(bc+(jK+(N+(he+gJ*U)*U)*U)*U)*U,u=(s*o+P)*3;
A[u]=kg*A[u];A[u+1]=kg*A[u+1];A[u+2]=kg*A[u+2]}}else if(W==4&&x==1){var $=a,cJ=D(j,$);$+=4;var it=D(j,$);
$+=4;for(var F=0;F<B;F++)if(A[F]==cJ)A[F]=A[F-2]+A[F+2]>>1}else if(W==5&&x==1){var $=a,by=D(j,$);$+=4;
var cz=D(j,$);$+=4;var fG=D(j,$);$+=4;for(var F=0;F<cz;F++){var ju=D(j,$);$+=4;var gW=D(j,$);$+=4;var F=ju*o+gW;
A[F]=A[F-2]+A[F+2]>>1}}else if(W==7&&x==1){var $=a,iI=m.$v(j,$);$+=16;var ht=D(j,$);$+=4;var et=D(j,$);
$+=4;var be=D(j,$),c9=D(j,$+4);$+=8;var aJ=D(j,$);$+=4;var b6=new Uint16Array(aJ);for(var F=0;F<aJ;F++)b6[F]=m.FH(j,$+2*F);
var ef=iI.m,jV=iI.n;for(var s=0;s<jV;s+=be)for(var P=0;P<ef;P+=c9){var F=(iI.y+s)*o+(iI.x+P);A[F]=b6[A[F]]}}else if(W==8&&x==2){var $=a,iI=m.$v(j,$);
$+=16;var ht=D(j,$);$+=4;var et=D(j,$);$+=4;var be=D(j,$),c9=D(j,$+4);$+=8;var hu=D(j,$);$+=4;var eG=[];
for(var F=0;F<=hu;F++)eG[F]=m.gN(j,$+F*8);var k8=iI.x,eE=iI.x+iI.m,jD=iI.y,a_=iI.y+iI.n,cH=z.t50717[0],ic=1/cH;
for(var aj=0;aj<et;aj++)for(var s=jD;s<a_;s+=be){var u=3*s*o+ht+aj;for(var P=k8;P<eE;P+=c9){var F=u+3*P,ay=A[F]*ic,dS=eG[hu];
for(var hC=hu;hC>0;hC--)dS=dS*ay+eG[hC-1];A[F]=Math.max(0,Math.min(65535,~~(dS*cH)))}}}else if(W==9&&x==2){var $=a,iI=m.$v(j,$),km=!0;
$+=16;var ht=D(j,$);$+=4;var et=D(j,$);$+=4;var be=D(j,$),c9=D(j,$+4);$+=8;var eq=D(j,$),ck=D(j,$+4);
$+=8;var eL=Z(j,$),gj=Z(j,$+8);$+=16;var bv=Z(j,$),dK=Z(j,$+8);$+=16;var cC=D(j,$);$+=4;if(cC!=1)throw"more than one map plane";
var iv=eq*ck,dJ=new Float32Array(iv);for(var hC=0;hC<iv;hC++)dJ[hC]=m.yw(j,$+hC*4);for(var hC=0;hC<iv;
hC++)if(dJ[hC]!=1)km=!1;if(!km){var ef=iI.m,jV=iI.n,aM=.9999*(ck-1)/ef,fq=.9999*(eq-1)/jV;for(var s=0;
s<jV;s+=be)for(var P=0;P<ef;P+=c9){var F=(iI.y+s)*o+(iI.x+P),dV=P*aM,im=s*fq,hj=Math.floor(dV),d8=Math.floor(im),cI=dV-hj,gD=im-d8,u=d8*ck+hj,iw=dJ[u]*(1-cI)+dJ[u+1]*cI,e3=dJ[u+ck]*(1-cI)+dJ[u+1+ck]*cI,c5=iw*(1-gD)+e3*gD;
A[F]=Math.max(0,Math.min(65535,~~(A[F]*c5+.5)))}}}else console.log("Unknown opcode "+W+" in OpcodeList"+x+". Length: "+R);
a+=R}};f.raw.ajo=function(x,z){var A=hz.nP(z),o=f.raw.s6(x,z),i=f.ZJ.Qs(o),L=hz.ak9(A,hz.nP(hz.aso)),B=f.ZJ.multiply(L,i);
return B};f.raw.apZ=function(x){var z=x.t50728,i=1;if(z==null||z[0]==0)z=[1,1,1];var A=z.slice(0);A.push(0);
var o={x:.34567,y:.3585};do{var L=f.ZJ.Qs(f.raw.s6(x,o)),B=f.ZJ.xB(L,A),D=hz.a6r(B);i=Math.abs(o.x-D.x)+Math.abs(o.y-D.y);
o=D}while(i>1e-7);return o};f.raw.s6=function(x,z){var A=hz.dx(z),o=f.raw.asT,i=x.t50778?x.t50778[0]:0,L=x.t50779?x.t50779[0]:0,B=o(x.t50721,x.t50722,i,L,A.gM),D=o(x.t50723,x.t50724,i,L,A.gM);
B=B||[1,0,0,0,1,0,0,0,1];D=D||[1,0,0,0,1,0,0,0,1];var Z=x.t50727?[x.t50727[0],0,0,0,x.t50727[1],0,0,0,x.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return f.ZJ.multiply(f.ZJ.Xp(Z),f.ZJ.multiply(f.ZJ.Xp(D),f.ZJ.Xp(B)))};f.raw.asT=function(x,z,A,o,i){if(!x&&!z){return null}else if(x&&!z){return x}else if(i<A){return x}else if(i>o){return z}else{var L=(1/i-1/o)/(1/A-1/o),B=1-L,D=[];
for(var F=0;F<9;F++)D[F]=x[F]*L+z[F]*B;return D}};var hz={};hz.aso={x:.34567,y:.3585};hz.pM=[{w:0,Oa:.18006,u6:.26352,Q1:-.24341},{w:10,Oa:.18066,u6:.26589,Q1:-.25479},{w:20,Oa:.18133,u6:.26846,Q1:-.26876},{w:30,Oa:.18208,u6:.27119,Q1:-.28539},{w:40,Oa:.18293,u6:.27407,Q1:-.3047},{w:50,Oa:.18388,u6:.27709,Q1:-.32675},{w:60,Oa:.18494,u6:.28021,Q1:-.35156},{w:70,Oa:.18611,u6:.28342,Q1:-.37915},{w:80,Oa:.1874,u6:.28668,Q1:-.40955},{w:90,Oa:.1888,u6:.28997,Q1:-.44278},{w:100,Oa:.19032,u6:.29326,Q1:-.47888},{w:125,Oa:.19462,u6:.30141,Q1:-.58204},{w:150,Oa:.19962,u6:.30921,Q1:-.70471},{w:175,Oa:.20525,u6:.31647,Q1:-.84901},{w:200,Oa:.21142,u6:.32312,Q1:-1.0182},{w:225,Oa:.21807,u6:.32909,Q1:-1.2168},{w:250,Oa:.22511,u6:.33439,Q1:-1.4512},{w:275,Oa:.23247,u6:.33904,Q1:-1.7298},{w:300,Oa:.2401,u6:.34308,Q1:-2.0637},{w:325,Oa:.24792,u6:.34655,Q1:-2.4681},{w:350,Oa:.25591,u6:.34951,Q1:-2.9641},{w:375,Oa:.264,u6:.352,Q1:-3.5814},{w:400,Oa:.27218,u6:.35407,Q1:-4.3633},{w:425,Oa:.28039,u6:.35577,Q1:-5.3762},{w:450,Oa:.28863,u6:.35714,Q1:-6.7262},{w:475,Oa:.29685,u6:.35823,Q1:-8.5955},{w:500,Oa:.30505,u6:.35907,Q1:-11.324},{w:525,Oa:.3132,u6:.35968,Q1:-15.628},{w:550,Oa:.32129,u6:.36011,Q1:-23.325},{w:575,Oa:.32931,u6:.36038,Q1:-40.77},{w:600,Oa:.33724,u6:.36051,Q1:-116.45}];
hz.dx=function(x){var z=hz.pM,A=2*x.x/(1.5-x.x+6*x.y),o=3*x.y/(1.5-x.x+6*x.y),i=0,L=0,B=0;for(;B<31;
B++){i=o-z[B].u6-z[B].Q1*(A-z[B].Oa);if(B>0&&i<0){break}L=i}while(B>=z.length)B--;i/=Math.sqrt(1+z[B].Q1*z[B].Q1);
L/=Math.sqrt(1+z[B-1].Q1*z[B-1].Q1);var D=L/(L-i),Z=1e6/((z[B].w-z[B-1].w)*D+z[B-1].w),j=A-((z[B].Oa-z[B-1].Oa)*D+z[B-1].Oa),a=o-((z[B].u6-z[B-1].u6)*D+z[B-1].u6),b=Math.sqrt(1+z[B].Q1*z[B].Q1),W=1/b,c=z[B].Q1/b,Y=Math.sqrt(1+z[B-1].Q1*z[B-1].Q1),R=1/Y,$=z[B-1].Q1/Y,k=(W-R)*D+R,w=(c-$)*D+$,V=Math.sqrt(k*k+w*w);
k/=V;w/=V;var h=(j*k+a*w)*-3e3;return{gM:Z,Zr:h}};hz.amK=function(x,z){var A=hz.pM,o=1e6/x,i=1;for(;
i<31;i++){if(o<A[i].w){break}}var L=(A[i].w-o)/(A[i].w-A[i-1].w),B=(A[i-1].Oa-A[i].Oa)*L+A[i].Oa,D=(A[i-1].u6-A[i].u6)*L+A[i].u6,Z=Math.sqrt(1+A[i].Q1*A[i].Q1),j=1/Z,a=A[i].Q1/Z,b=Math.sqrt(1+A[i-1].Q1*A[i-1].Q1),W=1/b,c=A[i-1].Q1/b,Y=(W-j)*L+j,R=(c-a)*L+a,$=Math.sqrt(Y*Y+R*R);
Y/=$;R/=$;B+=Y*z/-3e3;D+=R*z/-3e3;return{x:1.5*B/(B-4*D+2),y:D/(B-4*D+2)}};hz.a6r=function(x){var z=x[0]+x[1]+x[2];
return{x:x[0]/z,y:x[1]/z}};hz.nP=function(x){return{x:x.x/x.y,y:1,JC:(1-x.x-x.y)/x.y}};hz.ak9=function(x,z){var A=f.ZJ.Xp([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),o=[x.x,x.y,x.JC,0],i=[z.x,z.y,z.JC,0];
o=f.ZJ.xB(A,o);i=f.ZJ.xB(A,i);var L=i[0]/o[0],B=i[1]/o[1],D=i[2]/o[2],Z=f.ZJ.Xp([L,0,0,0,B,0,0,0,D]),j=f.ZJ.Qs(A);
return f.ZJ.multiply(f.ZJ.multiply(j,Z),A)};f.raw.$y={};f.raw.VL=function(x){x*=8;var z=[8,10,12,14,16];
for(var A in CAMS){var o=CAMS[A];if(o.length==4)continue;var i=o[4],L=o[5];for(var F=0;F<z.length;F++)if(i*L*z[F]==x)return[A,z[F]]}var B=[[4e3,3e3]];
for(var F=0;F<B.length;F++){var o=B[F],i=o[0],L=o[1];for(var F=0;F<z.length;F++)if(i*L*z[F]==x)return[o,z[F]]}return null};
f.raw.akA=function(x){var x=new Uint8Array(x);for(var F=0;F<x.length;F+=2){var z=x[F];x[F]=x[F+1];x[F+1]=z}var A=f.raw.VL(x.length),o=CAMS[A[0]];
if(o==null)o=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,A[0][0],A[0][1]];var i=o[4],L=o[5],B=Math.max(o[2],116),D={data:x,$e:1,width:i,height:L,t256:[i],t257:[L],t258:[A[1]],t277:[1],t33421:[2,2],t33422:f.raw.Dm[o[1]],t50706:[1,2,0,0],t50714:[B,B,B,B],t50717:[o[3]],t50721:o[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var F=0;F<9;F++)D.t50721[F]/=1e4;return D};f.raw.Qr=function(x){if(x==null||x.length==0||typeof x[0]=="number")return x;
var z=[];for(var F=0;F<x.length;F++)z[F]=x[F][1]==0?0:x[F][0]/x[F][1];return z};f.raw.Dm=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
f.raw.normalize=function(x,z){if(x.t50706!=null||x.t271[0].startsWith("Hasselblad")){var A=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var F=0;F<A.length;F++)if(x["t"+A[F]]!=null)x["t"+A[F]]=f.raw.Qr(x["t"+A[F]]);if(x.t271&&x.t271[0].startsWith("Hasselblad")){x.t50706=[1,2,0,0];
x.t33422=f.raw.Dm[1];x.t50723=[1,0,0,0,1,0,0,0,1];x.t50778=[17];if(!x.isLE)for(var F=0;F<x.data.length;
F+=2){var o=x.data[F];x.data[F]=x.data[F+1];x.data[F+1]=o}}return}var i=x.t258[0],L=x.exifIFD,z=new Uint8Array(z);
x.t50706=[1,2,0,0];var B=x.t272[0].trim();if(B.indexOf(" ")==-1)B=x.t271[0].trim()+" "+B;if(x.t50708==null)x.t50708=[B];
var D=B.toLowerCase(),Z=CAMS,j=Z[D];if(j==null)for(var a in Z)if(D.startsWith(a))j=Z[a];if(j==null)alert("Unknown camera:"+B);
else{var b=j[2];x.t50714=[b,b,b,b];x.t50717=[j[3]];x.t50721=j[0].slice(0);for(var F=0;F<9;F++)x.t50721[F]=x.t50721[F]*(1/1e4)}x.t50723=[1,0,0,0,1,0,0,0,1];
if(x.t50728==null)x.t50728=[.35,1,.6];x.t50778=[17];if(x.t271[0].startsWith("SONY")){var W=UTIF["_bin"+(x.isLE?"LE":"BE")],c=x.t28688,h;
if(JSON.stringify(c)!="[8000,10400,12900,14100]")console.log(c);if(c){var Y=[0,0,0,0,0,4095],R=new Uint16Array(16385);
for(var F=0;F<4;F++){var $=c[F]>>>2;Y[F+1]=$;if($>4095)throw"e"}for(var F=0;F<16385;F++)R[F]=F;for(var F=0;
F<5;F++)for(var k=Y[F]+1;k<=Y[F+1];k++)R[k]=R[k-1]+(1<<F);var w=z.length*8<x.width*x.height*i;if(w)x.t50712=R}else console.log("no curve");
var V=x.dngPrvt;if(V){var l=V.t29184[0],M=V.t29185[0],q=(x.isLE?m.GQ:m.l)(V.t29217,0),t=new Uint32Array(z.slice(l,l+(M&4294967292)).buffer),p=new Uint32Array(M>>>2);
f.raw.axk(t,p,M>>>2,q);var E=new Uint8Array(l+M);E.set(new Uint8Array(p.buffer),l);var _=[];UTIF._readIFD(W,E,l,_,0,!1);
var S=_.pop(),y=S.t29458;x.t50728=[y[1]/y[0],1,y[1]/y[3]];x.t50730=[.5];var v=S.t29891;x.t50829=[v[1],v[0],v[3],v[2]]}else if(L.makerNote&&L.makerNote.t8208){var h=L.makerNote,r=h.t8208,K=r.length,s=0,P=new Uint8Array(256);
for(var F=249;F<256;F++)P[F]=F;for(var F=0;F<249;F++)P[F*F*F%249]=F;for(var F=0;F<K;F++)r[F]=P[r[F]];
if(K==6604)s=612;else throw"e";var y=[];for(var F=0;F<3;F++)y.push(m.ID(r,s+F*2));console.log(y);x.t50728=[y[1]/y[0],1,y[1]/y[2]]}else console.log("no white balance");
if(x.width*x.height*1.5==x.t279[0]){b=b>>>2;x.t50714=[b,b,b,b];x.t50717=[j[3]>>>2]}}else if(x.t271[0].startsWith("Canon")){var z=x.data,d=z.slice(0),X=x.t50752,U=[],e=0;
if(X==null||X[0]==0&&X[1]==0)U.push(x.width);else{for(var F=0;F<X[0];F++)U.push(X[1]);U.push(X[2])}var n=x.width*2,J=x.t50885&&x.t50885[0]==4;
if(!J)for(var C=0;C<U.length;C++){var H=U[C],u=2*e,bc=2*H;for(var jK=0;jK<x.height;jK+=2){var N=jK*n+u,he=x.height*u+jK*bc;
for(var F=0;F<bc;F++){z[N+F]=d[he+F];z[N+F+n]=d[he+F+bc]}}e+=H}else{for(var C=0;C<U.length;C++){var H=U[C]/((X[0]*X[1]+X[2])/x.width);
for(var jK=0;jK<x.height;jK++){var N=(jK*x.width+e)*6,he=(x.height*e+jK*H)*6;for(var F=0;F<H*6;F++)z[N+F]=d[he+F]}e+=H}var gJ=new Uint16Array(z.buffer),kg=new Uint16Array(1),cJ=new Int16Array(kg.buffer);
for(var F=0;F<gJ.length;F+=3){var it=gJ[F],by=gJ[F+1],cz=gJ[F+2];kg[0]=by<<2;by=cJ[0]>>2;kg[0]=cz<<2;
cz=cJ[0]>>2;gJ[F+0]=Math.max(0,cz+it);gJ[F+1]=Math.max(0,(it<<12)-by*778-(cz<<11)>>12);gJ[F+2]=Math.max(0,by+it)}}var h=L.makerNote;
if(h.t16385){var fG=h.t224,iI=0;if(fG){x.t50719=[fG[5],fG[6]];x.t50720=[fG[7]+1-fG[5],fG[8]+1-fG[6]]}var ju=h.t16385,gW=ju.length;
if(gW==582)iI=1;else if(gW==653)iI=2;else if(gW==796)iI=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(gW)!=-1)iI=4;
else if(gW==5120){iI=5;ju=new Int16Array(ju.slice(0).buffer)}else if(gW==1273||gW==1275)iI=6;else if([1312,1313,1316,1506].indexOf(gW)!=-1)iI=7;
else if([1560,1592,1353,1602].indexOf(gW)!=-1)iI=8;else throw"e"+gW;var ht=ju[0],et=[null,[25,166],[34,286],[63,196],[63],[71,ht==-4?333:264],[63,251],[63,ht==10?504:728],[63,326]],s=et[iI][0],be=et[iI][1];
if(iI==4){if(ju[0]==2)be=231;else if(ju[0]==3)be=231;else if(ju[0]==4)be=231;else if(ju[0]==5)be=231;
else if(ju[0]==6)be=231;else if(ju[0]==7)be=231;else if(ju[0]==9)be=231;else throw"e"}x.t50728=[ju[s+1]/ju[s],1,ju[s+1]/ju[s+3]];
var b=be==null?1024:ju[be];if(iI!=4)x.t50714=[b,b,b,b]}else{x.t50728=[.4,1,.6]}if(J){x.t277=[3];x.t50728=[1,1,1];
x.t50714=[0,0,0,0]}}else if(x.t271[0].startsWith("NIKON")){var h=L.makerNote,c9=x.isLE?m.ID:m.Zl,eG=0,k8=0,ic,eL=0;
if(h.t61){var aJ=h.t61,b6=[];for(var F=0;F<4;F++)b6[F]=aJ[F]/Math.pow(2,14-i);x.t50714=b6}if(h.t3585){var ef=h.t3585,F=0,l=22;
while(l<ef.length&&F!=-4){var jV=m.GQ(ef,l);l+=4;l+=14;F=m.GQ(ef,l)-4;l+=4;if(jV==1990472198){if(ef[l]!=0)throw"Flip"}if(jV==1990472199){var hu=m.ID(ef,l);
if(hu==0)x.$e=1;else if(hu==270)x.$e=8;else throw"e "+hu}l+=F}}if(h.t183){var eE=h.t183,jD=[];for(var F=0;
F<6;F++)jD.push(c9(eE,16+F*2));eG=jD[0];k8=jD[1]}if(h.t3614){var a_=h.t3614;eG=m.GQ(a_,8);k8=m.GQ(a_,12)}if(eG!=0&&Math.max(eG,k8)<Math.max(x.width,x.height)){if(eG<k8){var o=eG;
eG=k8;k8=o}var e=x.width-eG>>>1,jK=x.height-k8>>>1;x.t50829=[jK,e,jK+k8,e+eG]}else x.t50829=[8,8,x.height-8,x.width-56];
var cH=h.t69;if(cH)x.t50829=[cH[1],cH[0],cH[1]+cH[3],cH[0]+cH[2]];if(h.t12){var aj=f.raw.Qr(h.t12);ic=[1/aj[0],1,1/aj[1]]}else if(h.t151){var ay=f.raw.aad(h,151),dS=ay[0],iW=ay[1],hC=ay[2];
if(dS=="0100"&&iW>=80)throw"e";else if(dS=="0102"){var eq=[];for(var F=0;F<4;F++)eq.push(c9(hC,6+F*2));
ic=[eq[1]/eq[0],1,eq[1]/eq[3]]}else if(dS=="0103"&&iW>=26){var eq=[];for(var F=0;F<4;F++)eq.push(c9(hC,16+F*2));
ic=[eq[1]/eq[0],1,eq[3]/eq[2]]}else if(dS=="0204"&&iW>=564||dS=="0205"&&iW>=284){var l=dS=="0204"?6:14,eq=[];
for(var F=0;F<4;F++)eq.push(c9(hC,l+F*2));ic=[eq[1]/eq[0],1,eq[1]/eq[3]]}else throw"e"}else console.log("no white balance info");
if(B=="NIKON D1")ic=[1,1,1];if(ic)x.t50728=ic;var ck=h.t150?h.t150:h.t140;if(ck){var gj=ck[eL++],bv=ck[eL++],iv;
if(gj==73||bv==88)eL+=2110;eL+=8;var dK=1<<i&32767,cC=c9(ck,eL);eL+=2;var R=[];if(cC>1)iv=Math.floor(dK/(cC-1));
if(gj==68&&bv==32&&iv>0){for(F=0;F<cC;F++){R[F*iv]=c9(ck,eL);eL+=2}for(F=0;F<dK;F++)R[F]=Math.floor((R[F-F%iv]*(iv-F%iv)+R[F-F%iv+iv]*(F%iv))/iv)}else if(gj!=70&&cC<=16385){dK=cC;
for(var F=0;F<cC;F++)R[F]=c9(ck,eL+2*F);eL+=2*cC}var dJ=x.t272[0];if(R.length!=0)x.t50712=new Uint16Array(R);
if(x.t258[0]==14&&x.t50717[0]<1e4){console.log("fixing white");x.t50717[0]*=4}}}else if(B.startsWith("FujiFilm")){}else alert("Unknown camera "+B)};
f.raw.axk=function(x,z,A,o){if(0==A)return;var i=new Uint32Array(128),L=new Uint8Array(i.buffer),B=127,D=0,Z=0;
for(var B=0;B<4;B++)i[B]=o=(o*15625>>>0)*3125+1>>>0;i[3]=i[3]<<1|(i[0]^i[2])>>>31;for(var B=4;B<127;
B++)i[B]=(i[B-4]^i[B-2])<<1|(i[B-3]^i[B-1])>>>31;for(var B=0;B<127;B++)i[B]=m.l(L,B*4);for(;A>0;A--){i[B&127]=i[B+1&127]^i[B+1+64&127];
var j=i[B&127],a=x[D];a^=j;z[Z]=a;D++;Z++;B++}};f.raw.ajv=function(x,z){var A=m.dX(z,0,4),o=f.raw.a1Q;
for(var F=0;F<o.length;F++)if(o[F][0]==x&&A.startsWith(o[F][1])&&(o[F][2]==0||o[F][2]==z.length))return o[F];
throw"e"};f.raw.atv=function(x){if(x.t29==null)return[];var z=f.raw.a0y,A=f.raw.a94,o=x.t29[0],i=0,B=0;
for(var F=0;F<o.length;F++){var L=o.charCodeAt(F);i=i*10+(48<=L&&L<=57?L-48:L%10)}var iW=x.t167[0];for(var F=0;
F<4;F++)B^=iW>>>(F<<3)&255;var D=z[i&255],Z=A[B&255];return[D,Z,96]};f.raw.aad=function(x,z){var A=x["t"+z],iW=A.length,o=f.raw.ajv(z,A),i=m.dX(A,0,4),L,B=o[4];
if(B==null)L=A.slice(4);else{L=new Uint8Array(iW-B);var D=f.raw.atv(x),Z=D[0],j=D[1],a=D[2];for(var F=0;
F<L.length;F++){j=j+Z*a++&255;L[F]=A[B++]^j}}return[i,iW,L]};f.raw.a1Q=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
f.raw.a0y=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
f.raw.a94=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
f.pc={};f.pc.pc=function(x,z,A,o,i){if(o==null)o=3;if(i==null)i=!0;var L=x.m,B=x.n,D=1/L,Z=L*B,j=Date.now(),a=!1,b=f.pc.ic(A,L,B,255,128),W=f.pc.ic(A,L,B,0,128),jK=0;
if(a)console.log("extract contours",Date.now()-j);j=Date.now();var c=function(ay,dS){var eq=ay<<2,ck=dS<<2;
return z[eq]+z[eq+1]+z[eq+2]-(z[ck]+z[ck+1]+z[ck+2])};b.sort(c);W.sort(c);var Y=f.C(Z),R=f.C(Z),$=[],k=new Uint32Array(L*B);
k.fill(4294967295);for(var F=0;F<Z;F++)if(A[F]==0)R[F]=255;else if(A[F]==255)Y[F]=255;else{k[F]=$.length;
$.push(F)}var w=b.length,V=W.length,h=$.length;function l(ay,dS,eq,ck){var eL=ay.length,gj=new Array(eL*2);
for(var F=0;F<eL;F++){var s=ay[F],P=~~(s*ck),d=s-P*eq,cH=s<<2;gj[F*2]=d<<16|P;gj[F*2+1]=dS[cH]<<16|dS[cH+1]<<8|dS[cH+2]}return gj}var M=l(b,z,L,D),q=l(W,z,L,D),t=l($,z,L,D);
if(a)console.log("Itemize",Date.now()-j,"Unknown:",h,w,V);j=Date.now();var p=f.style.b7(Y,L,B,!0),E=f.style.b7(R,L,B,!0),_=new Array(h),S=new Array(h),y=new Array(h),v=new Array(h),r=new Array(h);
if(a)console.log("Dist transform",Date.now()-j);j=Date.now();var K=f.pc.iU;for(var F=0;F<h;F++){var s=$[F],P=~~(s*D),d=s-P*L,X=p[s<<1],U=p[(s<<1)+1],n=Math.sqrt(X*X+U*U),e=E[s<<1],J=E[(s<<1)+1],C=Math.sqrt(e*e+J*J);
_[F]=1/n;S[F]=1/C;var H=Math.floor(f.q.xv(s*17)*w),u=Math.floor(f.q.xv(s*19)*V);y[F]=H;v[F]=u;r[F]=K(t[F*2],t[F*2+1],M[H*2],M[H*2+1],q[u*2],q[u*2+1],_[F],S[F],1e9)}var bc=[-L-1,-L,-L+1,-1,1,L-1,L,L+1];
while(Math.floor(Math.max(w,V)*Math.pow(.5,jK))>1)jK++;for(var N=0;N<o;N++){var he=0;for(var F=0;F<h;
F++){var s=$[F],P=~~(s*D),d=s-P*L,gJ=_[F],kg=S[F],cJ=t[F*2],it=t[F*2+1],by=r[F],H=y[F],u=v[F],ht=1;if(P!=0&&d!=0&&d!=L-1&&P!=B-1)for(var cz=0;
cz<8;cz++){var fG=k[s+bc[cz]];if(fG==4294967295)continue;var ju=y[fG],gW=v[fG];if(ju==H&&gW==u)continue;
var iI=K(cJ,it,M[ju*2],M[ju*2+1],q[gW*2],q[gW*2+1],gJ,kg,by);if(iI<by){by=iI;H=ju;u=gW}}for(var et=0;
et<jK;et++){var be=~~(w*ht),c9=~~(V*ht);ht*=.5;var aJ=f.q.xv(s+N*17+et*31),b6=f.q.xv(s+N*29+et*63),ef=Math.max(0,H-be),jV=Math.min(H+be,w-1),hu=Math.max(0,u-c9),eG=Math.min(u+c9,V-1),ju=ef+~~(aJ*(jV-ef)),gW=hu+~~(b6*(eG-hu)),iI=K(cJ,it,M[ju*2],M[ju*2+1],q[gW*2],q[gW*2+1],gJ,kg,by);
if(iI<by){by=iI;H=ju;u=gW}}r[F]=by;y[F]=H;v[F]=u;he+=by}}if(a)console.log(he);if(a)console.log("iterations",Date.now()-j);
j=Date.now();var k8=A.slice(0);for(var F=0;F<h;F++){var eE=f.pc.alpha(t[F*2+1],M[y[F]*2+1],q[v[F]*2+1]);
k8[$[F]]=~~(.5+255*eE)}k8=f.yp.awb(k8,z,new av(0,0,L,B),16,.01*.01);if(a)console.log("guided filter",Date.now()-j);
j=Date.now();if(i)for(var F=0;F<Z;F++)if(A[F]==255||A[F]==0)k8[F]=A[F];var jD=z.slice(0);for(var F=0;
F<h;F++){var a_=$[F],H=b[y[F]],by=r[F],cH=a_<<2,ic=k8[a_],aj=(ic>=250?a_:H)<<2;jD[cH]=z[aj];jD[cH+1]=z[aj+1];
jD[cH+2]=z[aj+2]}f.c8(k8,jD,3);if(a)console.log(Date.now()-j);j=Date.now();return jD};f.pc.iU=function(x,z,A,o,i,L,B,D,Z){var j=x>>>16,a=x&65535,b=j-(A>>>16),W=a-(A&65535),c=j-(i>>>16),Y=a-(i&65535),R=Math.sqrt(b*b+W*W)*B,$=Math.sqrt(c*c+Y*Y)*D;
if(R+$>=Z)return 1e9;var k=f.pc.a0M(z,o,L);return k+R+$};f.pc.a0M=function(x,z,A){var o=x>>>16,i=x>>>8&255,L=x&255,B=z>>>16,D=z>>>8&255,Z=z&255,j=A>>>16,a=A>>>8&255,b=A&255,W=f.pc.alpha(x,z,A),c=o-(W*B+(1-W)*j),Y=i-(W*D+(1-W)*a),R=L-(W*Z+(1-W)*b);
return Math.sqrt(c*c+Y*Y+R*R)};f.pc.alpha=function(x,z,A){var o=x>>>16,i=x>>>8&255,L=x&255,B=z>>>16,D=z>>>8&255,Z=z&255,j=A>>>16,a=A>>>8&255,b=A&255,W=B-j,c=D-a,Y=Z-b,R=o-j,$=i-a,k=L-b,w=W*W+c*c+Y*Y,V=w==0?.5:(R*W+$*c+k*Y)/w;
return Math.max(0,Math.min(1,V))};f.pc.ant=function(x){};f.pc.ic=function(x,z,A,o,i){var L=[],B=z-1,D=A-1;
for(var Z=1;Z<D;Z++)for(var j=1;j<B;j++){var F=Z*z+j;if(x[F]==o&&(x[F-z-1]==i||x[F-z]==i||x[F-z+1]==i||(x[F-1]==i||x[F+1]==i)||(x[F+z-1]==i||x[F+z]==i||x[F+z+1]==i)))L.push(F)}return L};
f.yp={};f.yp.agt=function(x,z,A,o,i){var L=A.m,B=A.n,D=L*B,Z=f.yp.kN,j=f.C(D*4),a;f.OD(j,4294967295);
var b=A,W=x,c=z,Y=o;f.c8(x,j,0);a=f.sN(j,A);a=f.sN(a.ov,a.rect);b=a.rect;Y=o>>>2;console.log(b,Y);W=f.C(b.$());
f.XN(a.ov,W,0);f.c8(z,j,0);a=f.sN(j,A);a=f.sN(a.ov,a.rect);c=f.C(b.$());f.XN(a.ov,c,0);var R=f.yp.aa0(W,c,b,Y,i),$=R[0],k=R[1],w=new av(0,0,b.m*2,b.n*2);
$=Z($,b,w,!0);$=Z($,w,A,!0);k=Z(k,b,w,!0);k=Z(k,w,A,!0);var V=f.C(D);for(var F=0;F<D;F++)V[F]=Math.max(0,Math.min(255,Math.floor(.5+($[F]*z[F]+255*k[F]))));
return V};f.yp.kN=function(x,z,A,o){var i=A.m,L=A.n,B=z.m,D=z.n,Z=f.yp.N5,j=new Float32Array(i*L);for(var a=0;
a<D;a++){var b=(a+a)*i;for(var W=0;W<B;W++){if(!0||W==0||a==0||W==B-1||a==D-1)j[b]=j[b+1]=j[b+i]=j[b+i+1]=x[a*B+W];
else{j[b]=Z(W+.25,a+.25,x,B,D);j[b+1]=Z(W+.75,a+.25,x,B,D);j[b+i]=Z(W+.25,a+.75,x,B,D);j[b+i+1]=Z(W+.75,a+.75,x,B,D)}b+=2}}return j};
f.yp.N5=function(x,z,A,o,i){x-=.499999;z-=.499999;var L=Math.floor(x),B=Math.floor(z),D=B*o+L,Z=x-L,j=z-B,a=(1-j)*(1-Z),b=(1-j)*Z,W=j*(1-Z),c=j*Z;
if(A[D]==null||A[D+o+1]==null){console.log(x,z,o,i);throw"e"}return a*A[D+0]+b*A[D+1]+W*A[D+o+0]+c*A[D+o+1]};
f.yp.aa0=function(x,z,A,o,i){var L=A.m,B=A.n,D=L*B,Z=f.yp.eS,j=f.yp.C,a=f.ZY.Yf,b=f.yp.ec,z=Z(z),x=Z(x),W=j(D);
a(z,W,A,o);var c=j(D);a(x,c,A,o);var Y=j(D);b(z,z,Y);a(Y,Y,A,o);var R=j(D);b(z,x,R);a(R,R,A,o);var $=j(D),k=j(D);
for(var F=0;F<D;F++){var w=W[F],V=c[F],h=Y[F]-w*w,l=R[F]-w*V,M=l/(h+i),q=V-M*w;$[F]=M;k[F]=q}var t=j(D);
a($,t,A,o);var p=j(D);a(k,p,A,o);return[t,p]};f.yp.awb=function(x,z,A,o,i){var L=A.m,B=A.n,D=L*B,Z=f.yp.kN,j=Date.now(),a=!1,b=A,W=x,c=z,Y=o;
b=new av(0,0,L>>>2,B>>>2);Y=o>>>2;W=f.yp.ahy(x,L,B);c=f.yp.ae2(z,L,B);if(a)console.log(Date.now()-j);
j=Date.now();var R=f.yp.auS(W,c,b,Y,i),$=R[0],k=R[1],w=R[2],V=R[3];if(a)console.log(Date.now()-j);j=Date.now();
var h=f.C(D);for(var l=0;l<B;l++)for(var M=0;M<L;M++){var F=l*L+M,q=(l>>>2)*(L>>>2)+(M>>>2),t=F<<2,p=$[q]*z[t]+k[q]*z[t+1]+w[q]*z[t+2]+V[q]*255;
h[F]=Math.max(0,Math.min(255,~~(.5+p)))}if(a)console.log(Date.now()-j);j=Date.now();return h};f.yp.ahy=function(x,z,A){var o=z>>>2,i=A>>>2,L=f.C(z*A);
for(var B=0;B<i;B++)for(var D=0;D<o;D++)L[B*o+D]=x[B*z+D<<2];return L};f.yp.ae2=function(x,z,A){var o=z>>>2,i=A>>>2,L=f.C(z*A*4);
for(var B=0;B<i;B++)for(var D=0;D<o;D++){var Z=B*o+D<<2,j=B*z+D<<4;L[Z]=x[j];L[Z+1]=x[j+1];L[Z+2]=x[j+2];
L[Z+3]=x[j+3]}return L};f.yp.auS=function(x,z,A,o,i){var L=A.m,B=A.n,D=L*B,Z=f.yp.eS,j=f.yp.C,a=f.ZY.Yf,b=f.yp.ec,x=Z(x),W=new f.mz(L*B);
f.hC(z,W);var z=[Z(W.w),Z(W.a),Z(W.s)],c=f.yp.avX(x,z,A,o,i),Y=j(D);a(x,Y,A,o);var R=j(D);b(z[0],x,R);
a(R,R,A,o);var $=j(D);b(z[1],x,$);a($,$,A,o);var k=j(D);b(z[2],x,k);a(k,k,A,o);var w=j(D),V=j(D),h=j(D),l=j(D);
for(var F=0;F<D;F++){var M=Y[F],q=c.Xt[F],t=c.yi[F],p=c.A6[F],E=R[F]-q*M,_=$[F]-t*M,S=k[F]-p*M;w[F]=c.amR[F]*E+c.G0[F]*_+c.Z$[F]*S;
V[F]=c.G0[F]*E+c.aqe[F]*_+c.cX[F]*S;h[F]=c.Z$[F]*E+c.cX[F]*_+c.acO[F]*S;l[F]=M-w[F]*q-V[F]*t-h[F]*p}a(w,w,A,o);
a(V,V,A,o);a(h,h,A,o);a(l,l,A,o);return[w,V,h,l]};f.yp.avX=function(x,z,A,o,i){var L=A.m,B=A.n,D=L*B,Z=f.yp.C,j=f.ZY.Yf,a=f.yp.ec,b={};
b.Xt=Z(D);j(z[0],b.Xt,A,o);b.yi=Z(D);j(z[1],b.yi,A,o);b.A6=Z(D);j(z[2],b.A6,A,o);var W=Z(D);a(z[0],z[0],W);
j(W,W,A,o);var c=Z(D);a(z[0],z[1],c);j(c,c,A,o);var Y=Z(D);a(z[0],z[2],Y);j(Y,Y,A,o);var R=Z(D);a(z[1],z[1],R);
j(R,R,A,o);var $=Z(D);a(z[1],z[2],$);j($,$,A,o);var k=Z(D);a(z[2],z[2],k);j(k,k,A,o);b.amR=W;b.G0=c;
b.Z$=Y;b.aqe=R;b.cX=$;b.acO=k;for(var F=0;F<D;F++){var w=b.Xt[F],V=b.yi[F],h=b.A6[F],l=W[F]-w*w+i,M=c[F]-w*V,q=Y[F]-w*h,t=R[F]-V*V+i,p=$[F]-V*h,E=k[F]-h*h+i,_=t*E-p*p,S=p*q-M*E,y=M*p-t*q,v=l*E-q*q,r=q*M-l*p,K=l*t-M*M,s=_*l+S*M+y*q,P=1/s;
b.amR[F]=_*P;b.G0[F]=S*P;b.Z$[F]=y*P;b.aqe[F]=v*P;b.cX[F]=r*P;b.acO[F]=K*P}return b};f.yp.C=function(x){return new Float32Array(x)};
f.yp.eS=function(x){var z=x.length,A=new Float32Array(z);for(var F=0;F<z;F++)A[F]=x[F]*(1/255);return A};
f.yp.ec=function(x,z,A){for(var F=0;F<x.length;F++)A[F]=x[F]*z[F]};f.FQ={};f.FQ.p8=function(x,z,A,o){var i=x[z]-A[o],L=x[z+1]-A[o+1],B=x[z+2]-A[o+2];
return Math.sqrt(i*i+L*L+B*B)*(1/441.7)};f.FQ.getSelection=function(x,z,A){var o=z*A,i=f.C(o),L=!1,B=Math.round(A*.7),D=1,Z=new Uint32Array(12),j=f.C(12);
for(var a=0;a<B;a++)for(var b=0;b<z;b++){if(b<D||a<D||b>z-D-1||a>A-D-1){var F=a*z+b,W=F<<2,c=0;if(a<D)c=4;
else if(b>z-D-1)c=8;Z[c]+=x[W];Z[c+1]+=x[W+1];Z[c+2]+=x[W+2];Z[c+3]++;i[F]=255}}for(var F=0;F<12;F+=4)for(var Y=0;
Y<3;Y++)j[F+Y]=Z[F+Y]/Z[F+3];var R=new Float32Array(o);for(var F=0;F<o;F++){var W=F*4,$=f.FQ.p8(x,W,j,0),k=f.FQ.p8(x,W,j,4),w=f.FQ.p8(x,W,j,8),V=Math.max($,Math.max(k,w));
R[F]=$+k+w-V}f.FQ.Fb(R);var h=Date.now(),l=new Float32Array(o),M=[],q=f.C(o);for(var F=0;F<3;F++){f.XN(x,q,F);
var t=new Uint16Array(o);M.push(t);f.FQ.at7(q,i,z,A,t)}if(L)console.log("MBD",Date.now()-h);h=Date.now();
for(var F=0;F<o;F++)l[F]=M[0][F]+M[1][F]+M[2][F];f.FQ.Fb(l);for(var F=0;F<o;F++)l[F]+=.4*R[F];var p=z>>>1,B=A>>>1,E=1/Math.sqrt(p*p+B*B);
for(var a=0;a<A;a++)for(var b=0;b<z;b++){var _=b-p,S=a-B,y=1-Math.sqrt(_*_+S*S)*E;l[a*z+b]*=y}if(L)console.log("Centeredness",Date.now()-h);
h=Date.now();for(var F=0;F<o;F++)i[F]=l[F]*255;var v=Math.round(z/120),r=Math.round(v*.8);if(L)console.log(v,r);
f._8.ie(i,q,z,A,v,f._8.hT,[]);i.set(q);if(L)console.log("erosion",Date.now()-h);h=Date.now();for(var F=0;
F<o;F++)l[F]=i[F];f.FQ.Fb(l);var K=f.C(256);for(var F=0;F<256;F++)K[F]=256/(1+Math.exp(-20*(F/255-.5)));
for(var F=0;F<o;F++){var s=~~(l[F]*255+.5);i[F]=K[s]}if(L)console.log("Simoid",Date.now()-h);h=Date.now();
return i};f.FQ.Fb=function(x){var z=x.length,A=0;for(var F=0;F<z;F++)A=Math.max(A,x[F]);var o=1/A;for(var F=0;
F<z;F++)x[F]=x[F]*o};f.FQ.at7=function(x,z,A,o,i){var L=A*o,B=x.slice(0),D=x.slice(0);for(var F=0;F<L;
F++)i[F]=z[F]==255?0:65535;f.FQ.Rg(x,D,B,i,A,o);f.FQ.vI(x,D,B,i,A,o);f.FQ.Rg(x,D,B,i,A,o);f.FQ.vI(x,D,B,i,A,o);
return i};f.FQ.Rg=function(x,z,A,o,i,L){for(var B=1;B<i;B++)f.FQ.tr(B,-1,x,z,A,o);for(var D=1;D<L;D++){f.FQ.tr(D*i,-i,x,z,A,o);
for(var B=1;B<i;B++){var F=D*i+B;f.FQ.tr(F,-1,x,z,A,o);f.FQ.tr(F,-i,x,z,A,o)}}};f.FQ.vI=function(x,z,A,o,i,L){for(var B=i-2;
B>=0;B--)f.FQ.tr(i*L-i+B,1,x,z,A,o);for(var D=L-2;D>=0;D--){f.FQ.tr(D*i+i-1,i,x,z,A,o);for(var B=i-2;
B>=0;B--){var F=D*i+B;f.FQ.tr(F,1,x,z,A,o);f.FQ.tr(F,i,x,z,A,o)}}};f.FQ.tr=function(F,x,z,A,o,i){var L=F+x,B=z[F],D=A[L],Z=o[L];
if(D<B)D=B;else if(B<Z)Z=B;var j=D-Z;if(i[L]!=65535&&j<i[F]){i[F]=j;A[F]=D;o[F]=Z}};f.O5={};f.O5.filter=function(x,z,A,o){var i=z.m,L=z.n,B=i*L,D=o[0],Z=o[1],j=o[2],a=o[3],b=o[4],W=o[5],c=o[6],Y=Date.now(),R=new Float32Array(i*L*4);
f.O5.an_(x,i,L,R);var $=Math.ceil(D*Math.sqrt(-2*Math.log(.1))),k=new ArrayBuffer(B*4),w=new Float32Array(k),V=new Float32Array(B),h=new Float32Array(B);
for(var F=0;F<B;F++){var l=F*4;w[F]=R[l];V[F]=R[l+1];h[F]=R[l+2]}f.ZY.nT(w,w,z,$*1/2.4,2);f.ZY.nT(V,V,z,$*1/2.4,2);
f.ZY.nT(h,h,z,$*1/2.4,2);for(var F=0;F<B;F++){var l=F*4;R[l]=w[F];R[l+1]=V[F];R[l+2]=h[F]}var M=new Uint8Array(k);
for(var F=0;F<B;F++){var l=F*4,q=F*4,w=R[l],V=R[l+1],h=R[l+2],t=Math.sqrt((w-h)*(w-h)+4*V*V),p=(w+h+t)*.5,E=(w+h-t)*.5,_=E-h,S=V,y=_*_+S*S;
if(y!=0){var v=Math.sqrt(y),r=1/v;_*=r;S*=r}M[q]=128+127*_;M[q+1]=128+127*S}var K=1.3*Z+2,s=a*(2/10),P=x.slice();
if(O.Id){var d=new Float32Array([1/i,1/L]),X=O.uy(0,i,L);X.set(P);var U=O.uy(1,i,L);U.set(M);O.WW(X,z);
if(b){X.jv(z);O.filter.cf({type:O.filter.aeu,fN:d,alg:1/j,a4_:s},X.Ft)}X.jv(z);O.filter.cf({type:O.filter.AB,Ol:U.Gt,fN:d,arq:K,axj:2},X.Ft);
if(b){X.jv(z);O.filter.cf({type:O.filter.a7M,fN:d,ae3:new Float32Array(c),a2b:W},X.Ft)}X.get(A)}else{if(b)f.O5.mn(1/j,s,P,i,L);
f.O5.AB(P,A,M,i,L,K);if(b)f.O5.atz(i,L,A,c,W)}var n=B*4;for(var F=3;F<n;F+=4)A[F]=x[F]};f.O5.AB=function(x,z,A,o,i,L){var B=Math.ceil(2*L),D=-1/(2*L*L),Z=[],j=1;
for(var F=0;F<B+20;F++)Z[F]=Math.exp(F*F*D);var a=[0,0,0,0];for(var b=0;b<i;b++){for(var W=0;W<o;W++){var c=b*o+W,Y=c*4,R=1,$=x[Y],k=x[Y+1],w=x[Y+2],V=x[Y+3],h=(A[Y]-128)*(1/127),l=(A[Y+1]-128)*(1/127),M=h,q=l,t=W==0?.51:.49,p=b==0?.51:.49;
for(var F=0;F<2;F++){var E=W+t,_=b+p,S=0;while(S<B){if(E<.5||o-.5<E||_<.5||i-.5<_)break;var y=~~E,v=~~_,r=v*o+y,K=r*4,s=(A[K]-128)*(1/127),P=(A[K+1]-128)*(1/127);
if(s*M+P*q<0){s=-s;P=-P}M=s;q=P;E+=j*s;_+=j*P;if(E<.5||o-.5<E||_<.5||i-.5<_)break;var d=~~E,X=~~_,U=X*o+d<<2;
S+=j;var n=Z[~~S];f.P.P5(E,_,x,o,i,a);$+=a[0]*n;k+=a[1]*n;w+=a[2]*n;V+=a[3]*n;R+=n}M=-h;q=-l}var e=1/R;
z[Y]=~~(.5+$*e);z[Y+1]=~~(.5+k*e);z[Y+2]=~~(.5+w*e);z[Y+3]=~~(.5+V*e)}}};f.O5.atz=function(x,z,A,o,i){for(var L=0;
L<z;L++)for(var B=0;B<x;B++){var D=L*x+B<<2,Z=1+f.O5.aj_(B,L,A,x,z,o)*i;A[D]=Math.max(0,Math.min(255,A[D]*Z));
A[D+1]=Math.max(0,Math.min(255,A[D+1]*Z));A[D+2]=Math.max(0,Math.min(255,A[D+2]*Z))}};f.O5.aj_=function(x,z,A,o,i,L){var B=A[(z*o+Math.max(0,x-1))*4+3],D=A[(z*o+Math.min(o-1,x+1))*4+3],Z=A[(Math.max(0,z-1)*o+x)*4+3],j=A[(Math.min(i-1,z+1)*o+x)*4+3],a=.7,b=(D-B)*(1/255),W=.7,c=(j-Z)*(1/255),Y=-b*W,R=-a*c,$=a*W,k=Math.sqrt(Y*Y+R*R+$*$),w=1/k,V=Y*w,h=R*w,l=$*w,M=L[0]*V+L[1]*h+L[2]*l;
return M};f.O5.mn=function(x,z,A,o,i){function L(D,j,a){return Math.max(j,Math.min(a,D))}for(var B=0;
B<i;B++)for(var D=0;D<o;D++){var Z=f.O5.abY(D+.5,B+.5,x,z);A[(B*o+D)*4+3]=Math.max(0,Math.min(255,Z*255))}};
f.O5.abY=function(x,z,A,o){function i(q,t,p){return(1-p)*q+p*t}var L=(x+613)*A,B=(z+117)*A,D=~~L,Z=~~B,j=L-D,a=B-Z,b=Math.sin(11),W=Math.cos(D)*b,c=Math.cos(D+1)*b,Y=Math.cos(Z)*b,R=Math.cos(Z+1)*b,f5=f.O5.hash(W,Y),$=f.O5.hash(c,Y),k=f.O5.hash(W,R),w=f.O5.hash(c,R),V=i(f5,$,j),h=i(k,w,j),l=i(V,h,a);
l=l<.5?0:1;var M=l+o*f.O5.hash(Math.cos(L)*b,Math.cos(B)*b);return M*(1/3)};f.O5.hash=function(x,z){var A=Math.sin(x*11.697096+z*73.32456)*12157.47691;
return A-Math.floor(A)};f.O5.an_=function(x,z,A,o){var i=[-1,0,1,-2,0,2,-1,0,1],L=[-1,-2,-1,0,0,0,1,2,1],B=z-1,D=A-1,Z=z*4;
for(var j=1;j<D;j++)for(var a=1;a<B;a++){var F=j*z+a,b=F*4,W=f.O5.EB(x,b,Z,i),c=f.O5.EB(x,b,Z,L),Y=f.O5.EB(x,b+1,Z,i),R=f.O5.EB(x,b+1,Z,L),$=f.O5.EB(x,b+2,Z,i),k=f.O5.EB(x,b+2,Z,L);
o[b]=W*W+Y*Y+$*$;o[b+1]=W*c+Y*R+$*k;o[b+2]=c*c+R*R+k*k}f.O5.al5(o,z,A)};f.O5.EB=function(x,z,A,o){return x[z-A-4]*o[0]+x[z-A]*o[1]+x[z-A+4]*o[2]+x[z-4]*o[3]+x[z]*o[4]+x[z+4]*o[5]+x[z+A-4]*o[6]+x[z+A]*o[7]+x[z+A+4]*o[8]};
f.O5.al5=function(x,z,A){function o(Z,F,j){var a=F*4,b=j*4;Z[b]=Z[a];Z[b+1]=Z[a+1];Z[b+2]=Z[a+2]}var i=z-1,L=A-1;
o(x,z+1,0);o(x,2*z-2,z-1);for(var B=1;B<i;B++)o(x,z+B,B);for(var D=1;D<L;D++){o(x,D*z+1,D*z);o(x,D*z+z-2,D*z+z-1)}for(var B=1;
B<i;B++)o(x,(A-2)*z+B,(A-1)*z+B);o(x,(D-2)*z+1,(D-1)*z);o(x,(D-1)*z-2,D*z-1)};f.ji=function(){function x(j,a,b,W){var c=new Float32Array(j*j),Y=j/2;
for(var R=0;R<j;R++)for(var $=0;$<j;$++){var k=$+b-Y,w=R+W-Y;c[R*j+$]=Math.max(0,Math.min(1,a+.5-Math.sqrt(k*k+w*w)))}return c}var z=[],o=null;
function A(j,a,b,W){var c=Math.floor(a*10),Y=z[c],R=j*8,$=R>>>1;if(Y==null){Y=z[c]=[];var k=new av(0,0,R,R),w=j/2/(1+.2*a),V=Math.floor(j*c*.1);
for(var h=0;h<2;h++)for(var l=0;l<2;l++){var M=x(R,w,.25+l*.5,.25+h*.5),q=0;f.ZY.nT(M,M,k,V);while(M[R*$+q]<.005)q++;
if(q!=0)q--;var t=2*($-q),p=new av(q,q,t,t),E=new Float32Array(t*t);for(var _=0;_<t;_++)for(var S=0;
S<t;S++)E[_*t+S]=M[(q+_)*R+q+S];Y.push([E,p])}}var y=Math.floor(b),v=Math.floor(W),r=b-y,K=W-v,s=r<.5?1:0,P=K<.5?1:0;
Y=Y[P*2+s];var p=Y[1].clone();p.x+=y-$;p.y+=v-$;return[Y[0],p]}function i(j,a,b){if(o==null){o=new Uint8Array(4e4);
for(var F=0;F<4e4;F++)o[F]=Math.min(255,~~(.5+255*f.sS(F*(1/255))))}var W=j.length;for(var F=0;F<W;F++){var c=j[F],Y=~~(255*c);
a[F]=o[Y]<<24|b}}function L(j,a,b,W,c){var Y=a.tE(W),R=Math.max(0,Y.x-a.x),$=Math.max(0,Y.x-W.x),k=Math.max(0,Y.y-a.y),w=Math.max(0,Y.y-W.y),V=Y.m,h=Y.n;
for(var F=0;F<h;F++){var l=(k+F)*a.m+R,M=(w+F)*W.m+$;for(var q=0;q<V;q++){b[M+q]+=c*j[l+q]}}}var B=-1;
function D(j,a,b,W,c){var Y=Math.round(W[1]*a*b*.01),R=W[2],$=W[3],k=W[4],w=W[5],V=W[6],h=W[7],l=W[8],M=W[9],q=W[10]?W[10]:1,n=!1;
if(R!=B){z=[];B=R}var t=Date.now(),p=new av(0,0,a,b),E=new Z(W[0]);if(c)j.fill(0);var _=new Float32Array(c?j.buffer:a*b);
for(var F=0;F<Y;F++){var S=E.get()*a,y=E.get()*b,v=E.get()*$,r=E.get()*R*4,K=(E.get()+V)*Math.PI*2,s=E.get()*R*4,P=(E.get()+2*V)*Math.PI*2;
S+=M*(r*Math.cos(K)+s*Math.cos(P));y+=M*(r*Math.sin(K)+s*Math.sin(P));if(l)y=y+V*b*q;var d=A(R,v,S,y%b),X=k,U=E.get();
if(h)X=.5+.5*k*(.5+.5*Math.sin((2*V+U)*2*Math.PI));L(d[0],d[1],_,p,X)}if(n)console.log(Date.now()-t,"add floats");
t=Date.now();var e=new Uint8Array(_.buffer);i(_,new Uint32Array(e.buffer),w.s<<16|w.a<<8|w.w);if(n)console.log(Date.now()-t,"toInt");
t=Date.now();if(!c){f.q.lx("scrn",e,p,j,p,p,1);if(n)console.log(Date.now()-t,"blendOver")}}function Z(j){this.cG=123456789;
this.Vs=987654321;this.B=4294967295;this.xT(j)}Z.prototype.xT=function(F){this.cG=123456789+F&this.B;
this.Vs=987654321-F&this.B};Z.prototype.get=function(){this.Vs=36969*(this.Vs&65535)+(this.Vs>>16)&this.B;
this.cG=18e3*(this.cG&65535)+(this.cG>>16)&this.B;var j=(this.Vs<<16)+(this.cG&65535)>>>0;j/=4294967296;
return j};return{yC:D}}();f.jG={};f.jG.IB=function(x,z,A,o){var i=x[z*2],L=x[z*2+1],B=x[A*2],D=x[A*2+1],Z=x[o*2],j=x[o*2+1];
return i*D+B*j+Z*L-Z*D-B*L-i*j};f.jG.Km=function(x,z){var A=[],o=[],i=[],L={};for(var F=0;F<z.length;
F+=3){var B=~~(F*(1/3)),D=z[F+0],Z=z[F+1],j=z[F+2],a=f.jG.IB(x,D,Z,j);if(a>0){var b=Z;Z=j;j=b}var W=L[j+"-"+Z],c=L[Z+"-"+D],Y=L[D+"-"+j],R=[j,W,B,null],k=[Z,c,B,R],w=[D,Y,B,k];
R[3]=w;if(W)W[1]=R;if(c)c[1]=k;if(Y)Y[1]=w;L[j+"-"+D]=w;L[D+"-"+Z]=k;L[Z+"-"+j]=R;A[D]=k;i[F]=k;A[Z]=R;
i[F+1]=R;A[j]=w;i[F+2]=w;o[B]=k}return{N6:A,KG:o,zK:i}};f.jG.a2v=function(x){var z=[],A=x.KG;for(var F=0;
F<A.length;F++){var o=A[F];z.push(o[0]);o=o[3];z.push(o[0]);o=o[3];z.push(o[0])}return z};f.jG.a5Y=function(x,z,A,o){var i=x[z*2],L=x[z*2+1],B=x[A*2],D=x[A*2+1],Z=x[o*2],j=x[o*2+1],a=B-i,b=D-L,W=Z-i,c=j-L,Y=a*(i+B)+b*(L+D),R=W*(i+Z)+c*(L+j),$=2*(a*(j-D)-b*(Z-B));
if(Math.abs($)<1e-5){var k=Math.min(i,B,Z),w=Math.min(L,D,j),V=(Math.max(i,B,Z)-k)*.5,h=(Math.max(L,D,j)-w)*.5;
return[k+V,w+h,V*V+h*h,1]}var l=(c*Y-b*R)/$,M=(a*R-W*Y)/$,V=l-i,h=M-L;return[l,M,V*V+h*h,0]};f.jG.a3r=function(x,z,A){var o=A[1],i=A[3],L=i[3],B=o[3],D=B[3],Z=A[2],j=o[2],a=A[0],b=o[0],W=i[0],c=B[0],Y=f.jG.a5Y(x,b,c,W),R=x[a*2]-Y[0],$=x[a*2+1]-Y[1],k=R*R+$*$>Y[2]&&Y[3]==0&&f.jG.IB(x,c,a,W)<0&&f.jG.IB(x,W,b,c)<0;
if(k){A[0]=W;o[0]=c;A[3]=L;L[3]=B;B[3]=A;o[3]=D;D[3]=i;i[3]=o;i[2]=j;B[2]=Z;z.KG[j]=D;z.KG[Z]=L;z.N6[b]=B;
z.N6[a]=i}return k};f.jG.a0h=function(x,z,A){var o=x[z*2]-x[A*2],i=x[z*2+1]-x[A*2+1];return Math.sqrt(o*o+i*i)};
f.jG.agr=function(x,z,A){var o=A[1],i=A[3],L=i[3],B,D,Z=A[2],j,a=A[0],b=L[0],W=i[0],c;if(o){B=o[3];D=B[3];
j=o[2];c=B[0]}var Y=x.length>>>1;x[2*Y]=(x[2*b]+x[2*a])*.5;x[2*Y+1]=(x[2*b+1]+x[2*a+1])*.5;if(!0){var R=Z,$=A,k=z.KG.length,w=[Y,null,R,$],V=[W,w,k,L];
w[1]=V;var h=[Y,null,k,V];i[3]=w;L[3]=h;L[2]=k;z.KG[R]=i;z.KG[k]=h;z.N6[a]=i;z.N6[W]=L;z.zK.push(w,V,h)}if(o){var l=j,M=o,q=k+1;
h[1]=M,M[1]=h;var t=[Y,null,l,M],p=[c,t,q,D];t[1]=p;var E=[Y,$,q,p];$[1]=E;B[3]=t;D[3]=E;D[2]=q;z.KG[l]=B;
z.KG[q]=D;z.N6[b]=B;z.N6[c]=D;z.zK.push(t,p,E)}z.N6[Y]=$};f.jG.hQ=function(x,z){var A=0;while(!0){var o=A;
for(var F=0;F<z.zK.length;F++){var i=z.zK[F];if(i[1]==null)continue;var L=f.jG.a3r(x,z,i);if(L){A++;
break}}if(o==A)break}return A!=0};f.jG.abt=function(x,z,A,o){var i=0;for(var F=0;F<o;F++){var L=null,B=0;
for(var D=0;D<z.zK.length;D++){var Z=z.zK[D],j=f.jG.a0h(x,Z[0],Z[3][3][0])*(Z[1]?1:2);if(j>B){L=Z;B=j}}if(B>A){f.jG.agr(x,z,L);
i++}}return i!=0};f.jG.apx=function(x,z){var A=[],c=0;for(var F=0;F<x.length;F++)A.push(0);for(var F=0;
F<z.zK.length;F++){var o=z.zK[F],i=o[0],L=o[3][3][0],B=x[i*2],D=x[i*2+1],j=x[L*2],a=x[L*2+1],b=B-j,W=D-a;
A[i*2]+=-b;A[i*2+1]+=-W;A[L*2]+=b;A[L*2+1]+=W}for(var F=0;F<x.length;F+=2){var Y=F>>>1,R=z.N6[Y],o=R,$=!0;
do{if(o[1]==null){$=!1;break}o=o[1][3]}while(o!=R);if($){var k=.02;x[F]+=k*A[F];x[F+1]+=k*A[F+1];c+=k*(A[F]*A[F]+A[F+1]*A[F+1])}}return c};
f.jG.ajr=function(x,z,A){var o=f.p.Jr(x),i=f.jG.Km(x,z);f.jG.hQ(x,i);for(var L=0;L<300;L++){var B=!1,D=!1;
B=f.jG.abt(x,i,A,5);if(B)D=f.jG.hQ(x,i);var Z=f.jG.apx(x,i);if(!B&&!D&&Z<1e-4){break}}return f.jG.a2v(i)};
f.l4={};f.l4.d2=function(x){var z=x.q9,A=x.VN,o=x.VF,i=x._o,L=x.Dr,B=x.IY,D=x._E,Z=f.Ph.eu,w,V,h=0;function j(f5){var he=new Array(f5);
for(var F=0;F<f5;F++)he[F]=0;return he}var a=A.length>>>1,b=j(z.y_*2),W=j(z.y_),c=j(z.y_),Y=Date.now();
for(var F=0;F<x.t3.length;F++){var R=z.amd+F,$=z.GM*(B[F*2]+D[F*2]),k=z.GM*(B[F*2+1]+D[F*2+1]);b[R*2]=$;
b[R*2+1]=k;W[R]=$;c[R]=k}z.a2i.h6(i,z.aiF.eu(b),.01,w,V);for(var F=0;F<z.a8K.zK.length;F++){var l=z.a8K.zK[F],M=l[3][3][0],q=l[0],t=l[3][0],p=l[1]?l[1][3][0]:t;
if(l[1]&&M>q)continue;var E=A[M*2],_=A[M*2+1],S=A[q*2],y=A[q*2+1],v=i[M*2],r=i[M*2+1],K=i[q*2],s=i[q*2+1],P=i[t*2],d=i[t*2+1],X=i[p*2],U=i[p*2+1],n=[v,r,K,s,P,d];
if(l[1])n.push(X,U);var e=Z(z.a3J[h],n),J=e[0],C=e[1],H=1/Math.sqrt(J*J+C*C);J*=H;C*=H;var u=S-E,bc=y-_;
W[h]=J*u+C*bc;c[h]=-C*u+J*bc;h++}var jK=new Array(a),N=new Array(a);for(var F=0;F<a;F++){jK[F]=L[F*2];
N[F]=L[F*2+1]}z.a0w.h6(jK,z.a6E.eu(W),.5);z.a0w.h6(N,z.a6E.eu(c),.5);for(var F=0;F<a;F++){L[F*2]=jK[F];
L[F*2+1]=N[F]}};f.l4.Ls=function(x){var z=x.VN,A=x.VF,o=x.t3,i=f.Ph.multiply,L=Date.now(),B=f.jG.Km(z,A),D=z.length>>>1,Z=0,Y=0,C=1e3;
for(var F=0;F<B.zK.length;F++)Z+=B.zK[F][1]?.5:1;var j=Z+o.length,a=[],b=new f.Iu(j*2,D*2),W=new f.Iu(j,D),c=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],R=[],$=[];
for(var F=0;F<B.zK.length;F++){var k=B.zK[F],w=k[3][3][0],V=k[0],h=k[3][0],l=k[1]?k[1][3][0]:h;if(k[1]&&w>V)continue;
var M=z[w*2],q=z[w*2+1],t=z[V*2],p=z[V*2+1],E=z[h*2],_=z[h*2+1],S=z[l*2],y=z[l*2+1],v=[[M,q,1,0],[q,-M,0,1],[t,p,1,0],[p,-t,0,1],[E,_,1,0],[_,-E,0,1]];
if(k[1])v.push([S,y,1,0],[y,-S,0,1]);var r=f.Ph.dS(v),K=i(linear.invert(i(r,v)),r);K.pop();K.pop();a.push(K);
var s=t-M,P=p-q,d=c[k[1]?1:0];d=f.Ph.Vx(d,i([[s,P],[P,-s]],K));var X=[w*2,w*2+1,V*2,V*2+1,h*2,h*2+1,l*2,l*2+1],U=k[1]?8:6,n=[];
for(var e=0;e<U;e++)n.push([X[e],d[0][e],d[1][e]]);n.sort(function(he,gJ){return he[0]-gJ[0]});for(var J=0;
J<2;J++){for(var e=0;e<U;e++){R[e]=n[e][0];$[e]=n[e][1+J]}b.$b($,R,U)}if(w<V)W.$b([-1,1],[w,V],2);else W.$b([1,-1],[V,w],2);
Y++}for(var F=0;F<o.length;F++){var H=o[F];b.$b([C],[H*2],1);b.$b([C],[H*2+1],1);W.$b([C],[H],1)}var u=b.dS(),bc=u.zZ(u),jK=W.dS(),N=jK.zZ(jK);
return{amd:Z,y_:j,aiF:u,a2i:bc,a6E:jK,a0w:N,a8K:B,a3J:a,GM:C}};f.l4.auU=function(x,z,A,o,i){var L=new av(0,0,z,A),B=f.C(L.$());
f.XN(x,B,3);f.round(B,70);var D=f.mI(B,L),Z=[.1,.065,.035][o]*Math.max(D.m,D.n),j=i+1,a=z+j*2,b=A+j*2,W=new av(-j,-j,a,b),c=f.C(W.$());
f.K5(B,L,c,W);var Y=c.slice(0);for(var R=0;R<i;R++){for(var $=1;$<b-1;$++){for(var k=1;k<a-1;k++){var F=$*a+k;
Y[F]=c[F-a]|c[F-1]|c[F]|c[F+1]|c[F+a]}}var w=Y;Y=c;c=w}var V=ds.La(c,a,b,Math.round(D.$()*5e-4)),h=ds.Dd(V),l=new cb(1,0,0,1,-j,-j);
for(var F=0;F<h.length;F++){var M=h[F];f.p.D(M.path.v,l,M.path.v);M.VN=f.l4.avL(M.path);M.VF=f.p.atX(M.VN);
M.VF=f.jG.ajr(M.VN,M.VF,Z)}return h};f.l4.avL=function(x){var z=[],A=x.v,o=x.F.length-1,i=0,L=0;for(var B=0;
B<o;B++){var F=B*6,D=A[F+6]-A[F+0],Z=A[F+7]-A[F+1],j=Math.ceil(Math.sqrt(D*D+Z*Z));for(var a=0;a<j;a++){var b=a/j,W=1-b,c=W*W*W*A[F+0]+3*W*W*b*A[F+2]+3*W*b*b*A[F+4]+b*b*b*A[F+6],Y=W*W*W*A[F+1]+3*W*W*b*A[F+3]+3*W*b*b*A[F+5]+b*b*b*A[F+7];
z.push(c,Y);i=c;L=Y}}z=f.p.Og(z,1);var R=[],$=z.length;for(var F=0;F<$;F+=2){var Y=z.pop(),c=z.pop();
R.push(c,Y)}return R};f.l4.awT=function(x,z,A,o){function i(t,p,E,_,S){var y=S[t*2]-S[p*2],v=S[t*2+1]-S[p*2+1],r=Math.sqrt(y*y+v*v);
if(E[t].indexOf(p)==-1){E[t].push(p);_[t].push(r)}if(E[p].indexOf(t)==-1){E[p].push(t);_[p].push(r)}}var L=x.length>>>1,B=new Array(L);
if(A.length==0){B.fill(0);return B}var D=new Array(L),Z=new Array(L);for(var F=0;F<L;F++){D[F]=[];Z[F]=[]}for(var F=0;
F<z.length;F+=3){i(z[F],z[F+1],D,Z,x);i(z[F],z[F+2],D,Z,x);i(z[F+1],z[F+2],D,Z,x)}var j=new Float64Array(L*2),a=new Uint32Array(L*2);
j.fill(1e9);var b=new Uint8Array(L);for(var W=0;W<A.length;W++){b.fill(0);var c=["---",[0,A[W]]];while(c.length!=1){var Y=f.uJ.el(c),R=Y[0],$=Y[1];
if(b[$]==1)continue;var k=$<<1;if(R<j[k]){j[k+1]=j[k];a[k+1]=a[k];j[k]=R;a[k]=W}else if(R<j[k+1]){j[k+1]=R;
a[k+1]=W}b[$]=1;var w=D[$],V=Z[$];for(var F=0;F<w.length;F++){var h=w[F];if(b[h]!=1){f.uJ.Ly(c,[R+V[F],h])}}}}for(var F=0;
F<L;F++){var k=F<<1,l=j[k],M=j[k+1],q=1/(l+M);B[F]=(1-l*q)*o[a[k]]+(1-M*q)*o[a[k+1]]}return B};f.l4.aae=function(x){var z={F:[],v:[]},A=[x];
while(A.length!=0){var o=A.pop(),i=o.MV;if(o.a7m instanceof Array||o.acB instanceof Array){z.F.push("M","L","L","L","Z");
z.v.push(i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3])}else A.push(o.a7m,o.acB)}return z};f.l4.X4=function(x,z,A,o,i,L,B,D,Z,j){var a=Math.round(j.length/3),b=new Array(a);
for(var F=0;F<a;F++)b[F]=F;b.sort(function(c,Y){return Z[j[c*3]]-Z[j[Y*3]]});for(var F=0;F<a;F++){var W=b[F]*3;
f.l4.auu(j[W]*2,j[W+1]*2,j[W+2]*2,B,D,x,z,A,o,i,L)}};f.l4.auu=function(x,z,A,o,i,L,B,D,Z,j,a){var b=f.l4.J4,W=[x,z,A,1.2,1.2,1.2,0],c=[0,0,0,0],Y=i[x],R=i[x+1],$=i[z],k=i[z+1],w=i[A],V=i[A+1],h=Math.max(0,Math.min(B-1,o[x])),l=Math.max(0,Math.min(B-1,o[z])),M=Math.max(0,Math.min(B-1,o[A])),q=Math.max(0,Math.min(D-1,o[x+1])),t=Math.max(0,Math.min(D-1,o[z+1])),p=Math.max(0,Math.min(D-1,o[A+1])),E=$-Y,_=k-R,S=w-Y,y=V-R,v=1/(E*y-S*_+1e-9),r=Math.max(0,Math.floor(Math.min(Y,$,w))),K=Math.min(j,Math.ceil(Math.max(Y,$,w))),s=Math.max(0,Math.floor(Math.min(R,k,V))),P=Math.min(a,Math.ceil(Math.max(R,k,V)));
for(var d=s;d<P;d++)for(var X=r;X<K;X++){var U=X+.5-Y,n=d+.5-R,e=(U*y-S*n)*v,J=(E*n-U*_)*v;if(e>=0&&J>=0&&e+J<=1){var C=1-e-J,H=h*C+l*e+M*J,u=q*C+t*e+p*J;
f.P.P5(H,u,L,B,D,c);f.l4.axa(c,Z,d*j+X<<2)}}};f.l4.axa=function(x,z,A){var o=z[A],i=z[A+1],L=z[A+2],B=z[A+3],D=1-x[3]*(1/255);
z[A]=~~(.5+x[0]+o*D);z[A+1]=~~(.5+x[1]+i*D);z[A+2]=~~(.5+x[2]+L*D);z[A+3]=~~(.5+x[3]+B*D)};f.l4.J4=function(){var x=function(A,o,i,L){var B=L[0],D=L[1],Z=L[2],j=A[B+0],a=A[B+1],b=A[D+0],W=A[D+1],c=A[Z+0],Y=A[Z+1],R=b-j,$=W-a,k=c-j,w=Y-a,V=o-j,h=i-a,l=R*w-k*$,M=1/(l+1e-9),q=(V*w-k*h)*M,t=(R*h-V*$)*M;
if(q>=0&&t>=0&&q+t<=1){L[3]=1-q-t;L[4]=q;L[5]=t;return 1}return 0},z=function(A,o,i,L){var B=[0,0,0,0,0,0];
for(var F=0;F<o.length;F+=3){B[0]=o[F]*2;B[1]=o[F+1]*2;B[2]=o[F+2]*2;if(x(A,i,L,B)==1)return!0}return!1};
return{ak3:x,aq3:z}}();f.gh={};f.gh.a6T=function(x,z,A){var o=f.C(z*A*4),i=!1;f.P.RN(x,z,A,o,[A,z,0,1,0,1,0,0]);
return[f.gh.vr(x,z,A,i),f.gh.vr(o,A,z,i)]};f.gh.D=function(x,z){var A=!1,o=x[0],i=x[1],L=o[1],B=o[2],D=o[3],Z=z.m,j=z.n;
if(B==Z&&D==j)L=L.slice(0);else if(D!=j){var a=f.C(B*j*4);f.gh.RP(i,j,a,A);L=f.C(B*j*4);f.P.RN(a,j,B,L,[B,j,0,1,0,1,0,0]);
if(B!=Z){o=f.gh.vr(L,B,j,A);L=f.C(Z*j*4);f.gh.RP(o,Z,L,A)}}else if(B!=Z){L=f.C(Z*D*4);f.gh.RP(o,Z,L,A)}return L};
f.gh.vr=function(x,z,A,o){var i=Date.now(),L=new Uint16Array(z*A),B=1;f.gh.a0i(x,z,A,L);var D=Math.ceil(z/B),Z=new Uint32Array(B),j=new Uint32Array(B),D=Math.floor(z/B);
for(var a=0;a<B;a++)j[a]=a<B-1?D:z-(B-1)*D;for(var b=0;b<A;b++){var F=b*z;for(var a=0;a<B;a++){var D=j[a];
for(var W=0;W<D;W++)Z[a]+=L[F+W];F+=D}}if(o){console.log(Date.now()-i,"cost");i=Date.now()}var c=new Uint32Array(z),Y=new Uint32Array(z),R=new Uint32Array(z*A);
for(var W=0;W<z;W++){R[(A-1)*z+W]=L[(A-1)*z+W]}for(var b=A-2;b>=0;b--){var $=b*z;for(var a=0;a<B;a++){var D=j[a];
R[$]=L[$]+Math.min(R[$+z],R[$+z+1]);for(var W=1;W<D-1;W++){var F=$+W;R[F]=L[F]+Math.min(R[F+z-1],Math.min(R[F+z],R[F+z+1]))}$+=D-1;
R[$]=L[$]+Math.min(R[$+z-1],R[$+z]);$++}}if(o){console.log(Date.now()-i,"Building M");i=Date.now()}function k(_,S){return _<S?_:S}function w(F,_){var S=Y[F],y=R[_],v=~~(S*y*1e-4);
return v}var V=new Uint8Array(z*A),h=new Uint32Array(z);for(var F=0;F<z;F++){c[F]=F;Y[F]=L[F]}for(var b=1;
b<A;b++){var l=0,$=b*z;for(var a=0;a<B;a++){var D=j[a],F=$;h[l]=w(l,F);var M=h[l]+w(l+1,F+1),q=w(l,F+1)+w(l+1,F);
h[l+1]=k(M,q);for(var W=2;W<D;W++){var F=$+W,t=h[l+W-1]+w(l+W-1,F-1),p=h[l+W-2]+w(l+W-1,F-2)+w(l+W-2,F-1);
h[l+W]=k(t,p)}var W=D-1;while(W>=2){var F=$+W,t=h[l+W-1]+w(l+W-1,F-1),p=h[l+W-2]+w(l+W-1,F-2)+w(l+W-2,F-1);
if(h[l+W]==t){V[F-z]=1;W-=1}else{V[F-z]=0;V[F-z-1]=2;W-=2}}var F=$;if(W==0){V[F-z]=1}else{if(h[l+1]==M){V[F+1-z]=1;
V[F-z]=1}else{V[F+1-z]=0;V[F-z]=2}}$+=D;l+=D}f.gh.aua(b,z,V,L,c,Y,!0,i)}if(o){console.log(Date.now()-i,"Matching");
i=Date.now()}var E=L;return[UZIP.adler(x,0,x.length),x,z,A,B,j,Z,c,Y,V,E]};f.gh.RP=function(x,z,A,o){var i=x.slice(0),L=i.shift(),B=i.shift(),D=i.shift(),Z=i.shift(),j=i.shift(),a=i.shift(),b=i.shift(),W=i.shift(),c=i.shift().slice(0),Y=i.shift(),R=i.shift(),$=Date.now(),k=Math.abs(D-z),w=Math.floor(k/j),V=new Uint32Array(j),l=0,M=1e9,t=0,p=0,E=0;
for(var h=0;h<j;h++)V[h]=h<j-1?w:k-(j-1)*w;R.fill(0);for(var q=0;q<D;q++){l=Math.max(l,c[q]);M=Math.min(M,c[q])}for(var h=0;
h<j;h++){var _=a[h],w=V[h];for(var S=0;S<w;S++){var y=0,v=1e9;for(var q=0;q<_;q++)if(c[p+q]<v){v=c[p+q];
y=p+q}if(z<D)c[y]=1e9;else c[y]*=1.2;if(E<D/3)t+=v;var r=W[y],K=R[r],s=K<65280?65280:K+1;if(s<65280)throw"e";
for(var P=0;P<Z;P++){var F=P*D+r;R[F]=s;r+=Y[F]-1}E++}p+=_}if(o){console.log(Date.now()-$,"Removing best seams");
$=Date.now()}function d(F,U){var n=F<<2,e=U<<2;A[n]=B[e];A[n+1]=B[e+1];A[n+2]=B[e+2];A[n+3]=B[e+3]}for(var P=0;
P<Z;P++){var X=0,F=P*D;for(var q=0;q<z;q++,X++){if(z<D){while(R[F+X]==65280)X++;d(P*z+q,P*D+X)}else{d(P*z+q,P*D+X);
while(R[F+X]>=65280){R[F+X]--;q++;d(P*z+q,P*D+X)}}}}if(o){console.log(Date.now()-$,"Shifting image pixels");
$=Date.now()}};f.gh.aua=function(x,z,A,o,i,L){var B=0,F=x*z;while(B<z){if(A[F-z]==1){L[B]=L[B]+o[F];
B++;F++}else{var D=i[B];i[B]=i[B+1];i[B+1]=D;var Z=L[B];L[B]=L[B+1]+o[F];L[B+1]=Z+o[F+1];B+=2;F+=2}}};
f.gh.a0i=function(x,z,A,o){function i(x,F,Z){var b=F<<2,W=Z<<2,c=x[b]-x[W],Y=x[b+1]-x[W+1],R=x[b+2]-x[W+2];
return Math.abs(c)+Math.abs(Y)+Math.abs(R)}for(var L=1;L<z;L++){var B=i(x,L,L-1);o[L-1]+=B;o[L]+=B}for(var D=1;
D<A;D++){var Z=D*z,B=i(x,Z,Z-z);o[Z]+=B;o[Z-z]+=B;for(var L=1;L<z;L++){var F=D*z+L,j=i(x,F,F-1),a=i(x,F,F-z);
o[F-z]+=a;o[F-1]+=j;o[F]+=a+j}}for(var D=0;D<A;D++){o[D*z]*=2;o[D*z+z-1]*=2}for(var F=0;F<o.length;F++)if(o[F]==0)o[F]=1};
f.TU=function(){var x=0,z=0,o=15,L=256;function A(a,b,W,c,Y,R){var $=(Y-1)*b,k=R*b;return a[k+c]-a[k+W-1]-a[$+c]+a[$+W-1]}var i=Math.round(o/8),B=[];
function D(a,b){for(var W=0;W<b.length;W++){var c=b[W],Y=0,R=0,$=a[c.RM],k=$.Od,w=$.GM,V=$.zp;for(var h=-o;
h<=o;h++)for(var l=-o;l<=o;l++){var M=l+c.aha,q=h+c.a1E;if(l*l+h*h>o*o||M<0||q<0||M>=w||q>=w)continue;
var t=k[q*w+M];Y+=l*t;R+=h*t}c.TG=Math.atan2(R,Y)}}function Z(a,b,W,c,Y){var R=~~(a+.5),$=~~(b+.5);return A(W,c,R-i,R+i,$-i,$+i)}function j(a,b,W,c,Y){x=c;
z=Y;if(B.length==0){var R=new f.q.pk(16200817),V=8,h=0;function $(he){var E=he[0]-he[2],_=he[1]-he[3];
return E*E+_*_}function k(){var he=0,gJ=0;while(he===0)he=R.get();while(gJ===0)gJ=R.get();return Math.sqrt(-2*Math.log(he))*Math.cos(2*Math.PI*gJ)}var w=k,l=[];
while(h!=L){var M=Math.max(-o,Math.min(o,w()*V)),q=Math.max(-o,Math.min(o,w()*V)),t=Math.max(-o,Math.min(o,w()*V)),p=Math.max(-o,Math.min(o,w()*V)),E=M-t,_=q-p,S=Math.sqrt(E*E+_*_);
if(S<3||S>12)continue;B.push(M,q,t,p);h++}}var y=20;for(var v=0;v<b.length;v++){var r=b[v],K=a[r.RM],s=K.FU,W=K.Od,c=K.GM,Y=K.zp,P=r.aha,d=r.a1E,X=r.TG,U=Math.cos(X),n=Math.sin(X),e=new Uint8Array(L>>>3);
r.k7=e;for(var F=0;F<L;F++){var J=F*4,M=B[J+0],q=B[J+1],t=B[J+2],p=B[J+3],C=U*M-n*q,H=n*M+U*q,u=U*t-n*p,bc=n*t+U*p,jK=Z(P+C,d+H,s,c,Y),N=Z(P+u,d+bc,s,c,Y);
e[F>>>3]|=(jK<N?0:1)<<(F&7)}}}return{aw7:D,a9h:j}}();f.aom=function(){function x(z,A){var o=[[9]],i=Date.now(),L=[];
for(var B=0;B<z.length;B++){var D=z[B],Z=D.FU,j=D.GM,a=D.zp,c=9,V=1,r=24;if(Z==null)continue;var b=new Float32Array(j*a),W=new Uint8Array(j*a),Y=c>>>1,R=Y>>>1,$=Math.round(c/3);
if($!=c/3)throw"e";var k=1/(c*c),w=1.2*(c/9);for(var h=Y+1;h<a-Y;h+=V)for(var l=Y+1;l<j-Y;l+=V){var M=f.K3(Z,j,l-R,l+R,h-Y,h+Y)-3*f.K3(Z,j,l-R,l+R,h-Y+$,h+Y-$),q=f.K3(Z,j,l-Y,l+Y,h-R,h+R)-3*f.K3(Z,j,l-Y+$,l+Y-$,h-R,h+R),t=l-Y+1,p=l+Y-1,E=h-Y+1,_=h+Y-1,S=f.K3(Z,j,t,l-1,E,h-1)+f.K3(Z,j,l+1,p,h+1,_)-f.K3(Z,j,l+1,p,E,h-1)-f.K3(Z,j,t,l-1,h+1,_),y=(q*M-.9*S*(.9*S))*(k*k);
b[h*j+l]=Math.abs(y);W[h*j+l]=y<0?0:1}var v=j*V;for(var h=r;h<a-r;h+=V)for(var l=r;l<j-r;l+=V){var F=h*j+l,K=b[F];
if(K<16)continue;if(b[F-V]>=K||b[F+V]>=K)continue;if(b[F-v-V]>=K||b[F-v]>=K||b[F-v+V]>=K)continue;if(b[F+v-V]>=K||b[F+v]>=K||b[F+v+V]>=K)continue;
L.push({x:~~(l*D.im+.5),y:~~(h*D.im+.5),aha:l,a1E:h,RM:B,h:K,a0_:W[F],Ww:w})}}if(A!=null){L.sort(function(J,C){return C.h-J.h});
L=L.slice(0,A)}return L;var s=[];for(var F=0;F<L.length;F++){var P=!0,d=L[F];for(var X=0;X<L.length;
X++){var U=L[X];if(X!=F&&U.h>d.h&&(U.RM==d.RM+1||U.RM==d.RM-1)){var n=d.x-U.x,e=d.y-U.y;if(n*n+e*e<5){P=!1;
break}}}if(P)s.push(d)}console.log(L.length,s.length);return s}return{a9G:x}}();f.BF={};f.BF.ahm=function(x){var z=x.length,A=f.BF._5(x,!1),i=0,L=1;
throw"e";var o=[];for(var F=0;F<z;F++)o[F]=f.BF.Xw(A[F]);var B=x[0][1],D=f.BF.match(A[i],A[L],o[L]);
console.log(D.length);var Z=Math.max(Math.min(D.length,40),D.length*.54);Z=Math.min(Z,200);var j=D.slice(0,Z),a=f.M9.alb(A[i],A[L],j,B.m,B.n),b=f.M9.ai5(a,[0,0,0],1),W=B.m/2,c=B.n/2,Y=1/Math.max(W,c);
for(var F=0;F<1;F++){var R=j[F],$=A[i][R[0]],k=A[L][R[1]],w=f.M9.aeN(b,Y*($.x-W),Y*($.y-c),Y*(k.x-W),Y*(k.y-c))}var V=f.M9.as9(a,B),h=[];
for(var F=0;F<2;F++){var l=V[F],M=[l[0][0],l[0][1],l[0][2],l[1][0],l[1][1],l[1][2],l[2][0],l[2][1]],q=Q.S.Ea(x[F],null,M);
h.push([q.buffer,q.rect])}return[f.BF.a2Q(h[0],h[1],A[i],A[L],j,a,V,B)]};f.BF.Sb=function(x,z){var A=x.length,o=!1,i=Date.now(),L=f.BF._5(x,!1,1e4);
if(o)console.log("Descriptors ready",Date.now()-i);i=Date.now();for(var F=0;F<A;F++){var B=x[F][1];for(var D=0;
D<L[F].length;D++){L[F][D].x+=B.x;L[F][D].y+=B.y}}if(o)console.log("shifted",Date.now()-i);i=Date.now();
var Z=[];for(var F=0;F<A;F++)Z[F]=f.BF.Xw(L[F]);if(o)console.log("trees built",Date.now()-i);i=Date.now();
var j=[];for(var F=0;F<A-1;F++)for(var D=F+1;D<A;D++){var a=f.BF.match(L[F],L[D],Z[D]);if(o)console.log("Matches found",F,D,a.length);
a=a.slice(0,a.length>>>1);if(a.length<10)return null;var b=f.BF.a3c(L[F],L[D],a,2);j.push([F,D,a,b])}j.sort(function(p,E){return E[2].length-p[2].length});
if(o)console.log("Matches found",Date.now()-i);i=Date.now();var W=[],c=new UnionFind(A);for(var F=0;
F<j.length;F++){var Y=j[F],R=c.find(Y[0]),$=c.find(Y[1]);if(R!=$){W.push(Y);c.link(R,$)}}var k=[];for(var F=0;
F<A;F++)k[F]=[1,0,0,0,1,0,0,0];var w=[0],V=new Uint8Array(A);V[w[0]]=1;while(w.length!=0){var $=w.pop(),b=k[$],h=[];
for(var F=0;F<W.length;F++){var Y=W[F],l=Y[0],M=Y[1];if(l==$&&V[M]==0){k[M]=f.P.a7(b,Y[3]);w.push(M);
V[M]=1}if(M==$&&V[l]==0){k[l]=f.P.a7(b,f.P.Qs(Y[3]));w.push(l);V[l]=1}}}if(z==null){var q=[];for(var F=0;
F<A;F++)q.push([k[F][2],F]);q.sort(function(p,E){return p[0]-E[0]});z=q[q.length>>>1][1]}var t=f.P.Qs(k[z]);
for(var F=0;F<A;F++)k[F]=f.P.a7(k[F],t);if(o)console.log("Transforms reordered",Date.now()-i);i=Date.now();
return k};f.BF._5=function(x,z,A){var o=[],i=!1;for(var F=0;F<x.length;F++){var L=x[F][0],B=x[F][1],D=B.m,Z=B.n,j=f.C(B.$());
f.wJ(L,j);var a=Date.now(),b=f.BF.a23(j,B,!0);if(i)console.log("Pyramid built ---------------",Date.now()-a);
a=Date.now();var W=f.aom.a9G(b,A);if(i)console.log("SURF Generation",Date.now()-a);a=Date.now();if(!z){f.TU.aw7(b,W);
if(i)console.log("ORB Orientations",Date.now()-a);a=Date.now();f.TU.a9h(b,W,j,D,Z);if(i)console.log("ORB Descriptors",Date.now()-a);
a=Date.now()}o.push(W)}return o};f.BF.a23=function(x,z,A){var o=[],i=[x,z];f.zI(i);if(A){var L=f.UK(x,z),B=L.rect,D=[L.ov,B];
f.zI(D)}for(var F=0;F<i.length;F++){var Z=i[2*F],j=i[2*F+1],a=j.m,b=j.n,W=Math.min(a,b);if(W<30)break;
if(W<1600)o.push({Od:Z,GM:a,zp:b,im:1<<F,FU:f.ti(Z,a,b)});if(!A)continue;var Z=D[2*F],j=D[2*F+1],a=j.m,b=j.n,W=Math.min(a,b);
if(W<30)break;if(W<1600)o.push({Od:Z,GM:a,zp:b,im:(1<<F)*3/2,FU:f.ti(Z,a,b)})}return o};f.BF.a3c=function(x,z,A,o){var i=Date.now(),L,B=0,D=0,Z=A.length,j=new Float64Array(2);
for(var a=0;a<3e3;a++){var b=~~(Math.random()*Z),W=~~(Math.random()*Z),c=~~(Math.random()*Z),Y=~~(Math.random()*Z),v=0,r=0;
if(b==W||b==c||b==Y||W==c||W==Y||c==Y)continue;var R=A[b],$=A[W],k=A[c],w=A[Y],V=x[R[0]],h=z[R[1]],l=x[$[0]],M=z[$[1]],q=x[k[0]],t=z[k[1]],p=x[w[0]],E=z[w[1]],_=[V.x,V.y,l.x,l.y,q.x,q.y,p.x,p.y],S=[h.x,h.y,M.x,M.y,t.x,t.y,E.x,E.y],y=f.P.Bt(_,S);
if(y[0]==0&&y[1]==0&&y[3]==0&&y[4]==0)continue;var K=Z-B+2;for(var F=0;F<Z&&F-v<K;F++){var s=x[A[F][0]],P=z[A[F][1]];
f.P.j6(P.x,P.y,y,j);var d=j[0]-s.x,X=j[1]-s.y,U=d*d+X*X;if(U<o){v++;r+=U}}if(v>B||v==B&&r<D){L=y;B=v;
D=r}}return L};var is=new Uint8Array(256);for(var F=0;F<256;F++){var iW=0,f5=F;while(f5!=0){f5=f5&f5-1;
iW++}is[F]=iW}f.BF.aiN=function(x,z,A){var o=0,i=x.length;for(var F=0;F<i&&o<A;F++)o+=is[x[F]^z[F]];
return o};f.BF.ak0=function(x,z,A,top,o){if(o[A]==1)return;var i=f.BF.aiN(x.k7,z.k7,top[0]);if(i<top[0]){if(i<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=i;top[3]=A}else{top[0]=i;top[1]=A}}o[A]=1};f.BF.Xw=function(x){var z=[],A=[],o=[[],[]],i=4;
for(var F=0;F<x.length;F++)(x[F].a0_==0?z:A).push(F);for(var L=0;L<2;L++){var B=new Array(i),D=[],Z=L==0?z:A,j=Z.length/256,a=[];
for(var b=0;b<32;b++){var W=new Array(256),R=0;for(var c=0;c<256;c++)W[c]=[];for(var c=0;c<Z.length;
c++){var Y=Z[c];W[x[Y].k7[b]].push(Y)}for(var c=0;c<256;c++)R+=Math.abs(W[c].length-j);a.push([R,b,W])}a.sort(function($,k){return $[0]-k[0]});
var D=[],B=[];o[L]=[D,B];for(var F=0;F<i;F++){D.push(a[F][1]);B.push(a[F][2])}}return o};f.BF.match=function(x,z,A){var o=[],i=new Uint16Array(z.length);
i.fill(65535);var L=new Uint8Array(z.length),top=new Uint32Array(4),B=[];for(var D=0;D<x.length;D++){var Z=x[D],j=Z.k7;
top.fill(1e6);L.fill(0);var a=A[Z.a0_];for(var b=0;b<a[1].length;b++){var W=a[1][b][j[a[0][b]]];for(var c=0;
c<W.length;c++){var Y=W[c];f.BF.ak0(Z,z[Y],Y,top,L)}}if(top[2]<50&&top[2]<top[0]*.5){var R=i[top[3]];
if(R==65535){i[top[3]]=o.length;o.push([D,top[3],top[2]])}else if(top[2]<o[R][2]){o[R]=[D,top[3],top[2]]}}}o.sort(function($,k){return $[2]-k[2]});
return o};f.BF.a1_=function(x){var z=new av;for(var F=0;F<x.length;F++)z=z.QM(x[F][1]);var A=f.C(z.$()*4);
for(var F=0;F<x.length;F++)f.q.lx("norm",x[F][0],x[F][1],A,z,z,1);return[A,z]};f.BF.a2Q=function(x,z,A,o,i,L,B,D){var Z=x[1].clone(),j=Z.clone();
Z.x=Z.y=0;var a=z[1].clone(),b=a.clone();a.x=a.y=0;a.x=Z.m;var W=Z.QM(a),c=b.y-j.y,Y=f.C(W.$()*4);f.mV(x[0],Z,Y,W);
f.mV(z[0],new av(a.x,a.y+c,a.m,a.n),Y,W);var R=document.createElement("canvas");R.width=W.m;R.height=W.n;
var $=R.getContext("2d");$.lineWidth=.5;$.putImageData(new ImageData(new Uint8ClampedArray(Y.buffer),W.m,W.n),0,0);
if(L){var k=L[0],w=f.Ph.dS(k),V=Z.m,h=D.m;for(var F=0;F<i.length;F++){var l=i[F],x=A[l[0]],z=o[l[1]];
$.strokeStyle="#"+"ff0000";$.beginPath();var M=f.M9.a2U(w,B[0],z,0,h),q=f.M9.a2U(k,B[1],x,0,h);$.moveTo(-j.x+M[0],-j.y+M[1]);
$.lineTo(-j.x+M[2],-j.y+M[3]);$.moveTo(V-b.x+q[0],-b.y+c+q[1]);$.lineTo(V-b.x+q[2],-b.y+c+q[3]);$.stroke()}}if(i){var t=i.length;
for(var F=0;F<t;F++){var l=i[F],x=A[l[0]],z=o[l[1]];$.strokeStyle="#"+"ffff00"}}var p=new Uint8Array($.getImageData(0,0,W.m,W.n).data.buffer);
if(!1){for(var E=0;E<2;E++){var _=E==0?A:o,S=E*Z.m;for(var F=0;F<_.length;F++){var y=_[F],v=~~y.x,r=~~y.y,K=(r*W.m+v+S)*4;
p[K+1]=p[K+2]=y.apz*60;p[K+0]=0;p[K+3]=255}}}return[p,W]};f.stack={};f.stack.stack=function(x,z,A){var o=x.length,i=z.length;
if(o==1){z.set(x[0]);return}if(A=="avrg"||A=="stdv"||A=="summ"||A=="vari"){var L=1/o;for(var F=0;F<i;
F++){var B=0;for(var D=0;D<o;D++)B+=x[D][F];var Z=~~(B*L+.5);if(A=="avrg"||(F&3)==3)z[F]=Z;else if(A=="summ")z[F]=255*Math.pow(Math.min(255,B)*(1/255),1/2.4);
else{var j=0;for(var D=0;D<o;D++){var a=x[D][F]-Z;j+=a*a}var b=Math.sqrt(j*L)*(1/255);if(A=="stdv")z[F]=255*Math.pow(b,1/2.4);
else z[F]=255*Math.pow(b*b,1/2.4)}}}else if(A=="maxx"){for(var F=0;F<i;F++){var W=0;for(var D=0;D<o;
D++)W=Math.max(W,x[D][F]);z[F]=W}}else if(A=="minn"){for(var F=0;F<i;F++){var W=255;for(var D=0;D<o;
D++)W=Math.min(W,x[D][F]);z[F]=W}}else if(A=="medn"||A=="rang"){var c=function(k,w){return k-w},Y=new Array(o),R=0,$=0;
if(o%1==0){$=o>>>1;R=$-1}else{R=$=o>>>1}for(var F=0;F<i;F++){for(var D=0;D<o;D++)Y[D]=x[D][F];Y.sort(c);
if(A=="medn")z[F]=Y[R]+Y[$]>>>1;else z[F]=(F&3)==3?Y[o-1]:Y[o-1]-Y[0]}}else console.log(A)};f.TN={};
f.TN.awI=function(x,z,A,o){var i=Date.now(),L=new Uint32Array(z*A),B=new Uint8Array(z*A);while(!0){B.fill(0);
L.fill(0);var D=[],Z=0;for(var j=0;j<A;j++){for(var a=0;a<z;a++){var F=j*z+a;if(B[F]==0){var b=D.length,W=f.TN.yL(x,z,A,a,j,B,L,b);
D.push([b,a,j,W[0],W[1],x[F]]);if(W[0]<o)Z++}}}if(Z==0)break;var c=D.length,Y=new UnionFind(c),R=[];
for(var F=0;F<c;F++)R.push([]);for(var F=0;F<c;F++){var W=D[F],$=W[4],k=0,w=0;if(W[3]>=o)continue;var b=W[0];
for(var V=0;V<$.length;V+=2){var h=L[$[V+1]*z+$[V]],l=D[h];if(l[3]>w){w=l[3];k=h}}if(Y.find(b)!=Y.find(k)){Y.link(b,k);
R[b].push(k);R[k].push(b)}}var M=new Uint32Array(c);M.fill(4294967295);var q=new Uint32Array(c);for(var F=0;
F<c;F++){if(M[F]!=4294967295||R[F].length==0)continue;var t=[F],p=[F],E=F,_=D[F][3];while(p.length!=0){var S=p.pop(),y=R[S];
for(var V=0;V<y.length;V++){var v=y[V];if(t.indexOf(v)==-1){t.push(v);p.push(v);var r=D[v];if(r[3]>_){_=r[3];
E=v}}}}for(var V=0;V<t.length;V++){M[t[V]]=E;var K=D[E];q[t[V]]=x[K[2]*z+K[1]]}}for(var j=0;j<A;j++)for(var a=0;
a<z;a++){var F=j*z+a,s=M[L[F]];if(s!=4294967295)x[F]=q[s]}}};f.TN.yL=function(x,z,A,o,i,L,B,D){var Z=[o,i],j=x[i*z+o],a=0,b=[];
L[i*z+o]=1;while(Z.length!=0){var W=Z.pop(),c=Z.pop(),F=W*z+c;B[F]=D;a++;if(W!=A-1)if(x[F+z]==j){if(L[F+z]==0){Z.push(c,W+1);
L[F+z]=1}}else b.push(c,W+1);if(W!=0)if(x[F-z]==j){if(L[F-z]==0){Z.push(c,W-1);L[F-z]=1}}else b.push(c,W-1);
if(c!=z-1)if(x[F+1]==j){if(L[F+1]==0){Z.push(c+1,W);L[F+1]=1}}else b.push(c+1,W);if(c!=0)if(x[F-1]==j){if(L[F-1]==0){Z.push(c-1,W);
L[F-1]=1}}else b.push(c-1,W)}return[a,b]};f.TN.as4=function(x,z,A,o,i){var L=f.TN.pu(x.buffer,z,A).Ko,B=Date.now(),D=[];
for(var F=0;F<L.length;F++){var Z=L[F],j=1;for(var a=0;a<j;a++)D.push(Z.Pm)}var b=new Uint32Array(D),W=UPNG.quantize.getKDtree(new Uint8Array(b.buffer),o),c=[z,1,-z,-1,z+1,-z+1,-z-1,z-1,z+z,2,-z-z,-2,z+z-1,z+z+1,z+2,-z+2,-z-z+1,-z-z-1,-z-2,z-2,z+z+2,-z-z+2-z-z-2,z+z-2],Y=new Uint8Array(z*A),R=x;
for(var $=0;$<A;$++)for(var k=0;k<z;k++){var F=$*z+k<<2,w=R[F]*(1/255),V=R[F+1]*(1/255),h=R[F+2]*(1/255),l=R[F+3]*(1/255),M=f.TN.cy(W,w,V,h,l,i);
if(M==null){var q=[],t=0;while(t<20){var p=$*z+k+c[t]<<2,E=R[p]*(1/255),_=R[p+1]*(1/255),S=R[p+2]*(1/255),y=R[p+3]*(1/255),v=f.TN.cy(W,E,_,S,y,.005);
if(v!=null){if(q.indexOf(v)==-1){q.push(v);v.KN=1}else v.KN++}t++}q.sort(function(l,h){return h.KN-l.KN});
while(q.length!=0&&q[q.length-1].KN<3)q.pop();if(q.length==0)M=f.TN.cy(W,w,V,h,l,100);else if(q.length==1)M=q[0];
else if(q.length==2){var r=q[0],K=q[1],s=r.est.q,P=K.est.q,d=P[0]-s[0],X=P[1]-s[1],U=P[2]-s[2],n=P[3]-s[3],e=w-s[0],J=V-s[1],C=h-s[2],H=l-s[3],u=d*d+X*X+U*U+n*n,bc=e*e+J*J+C*C+H*H,jK=(e*d+J*X+C*U+H*n)/u,N=bc-jK*jK*u;
if(N<.5)M=jK<.5?r:K;else{M=f.TN.cy(W,w,V,h,l,100)}}else{var r=q[0],K=q[1],he=q[2],s=r.est.q,P=K.est.q,gJ=he.est.q,kg=s[0]-gJ[0],cJ=s[1]-gJ[1],it=s[2]-gJ[2],by=s[3]-gJ[3],cz=P[0]-gJ[0],fG=P[1]-gJ[1],ju=P[2]-gJ[2],gW=P[3]-gJ[3],iI=gJ[0]-w,ht=gJ[1]-V,et=gJ[2]-h,be=gJ[3]-l,c9=kg*kg+cJ*cJ+it*it+by*by,aJ=kg*cz+cJ*fG+it*ju+by*gW,b6=iI*kg+ht*cJ+et*it+be*by,ef=kg*cz+cJ*fG+it*ju+by*gW,jV=cz*cz+fG*fG+ju*ju+gW*gW,hu=iI*cz+ht*fG+et*ju+be*gW,eG=1/(aJ*ef-c9*jV),jK=(jV*b6-hu*aJ)*eG,k8=(hu*c9-b6*ef)*eG,eE=1-jK-k8,jD=Math.max(jK,k8,eE);
if(jD==jK)M=r;else if(jD==k8)M=K;else M=he}}Y[F>>2]=M.ind}return{VF:Y,Ko:W[1]}};f.TN.pu=function(x,z,A){var o=[],i={},L=z-1,B=A-1,D=0,Z=new Uint32Array(x),j=[-z-1,-z,-z+1,-1,1,z-1,z,z+1,z+z,2,-z-z,-2,z+z-1,z+z+1,z+2,-z+2,-z-z+1,-z-z-1,-z-2,z-2,z+z+2,-z-z+2-z-z-2,z+z-2];
for(var a=1;a<B;a++)for(var b=1;b<L;b++){var W=a*z+b,c=Z[W],Y=!0;for(var F=0;F<8;F++)Y=Y&&Z[W+j[F]]==c;
if(Y){D++;var R=i[c];if(R==null){i[c]=o.length;o.push({Pm:c,ki:1})}else o[R].ki++}}return{Ko:o,arT:D}};
f.TN.cy=function(x,z,A,o,i,L){var B=UPNG.quantize.getNearest(x[0],z,A,o,i);return f.TN.alP(B,z,A,o,i)<L?B:null};
f.TN.alP=function(x,z,A,o,i){var L=x.est.q,B=z-L[0],D=A-L[1],Z=o-L[2],j=i-L[3];return B*B+D*D+Z*Z+j*j};
f.TN.fK=function(){function x(k,w,V,h,l,M){var q=[],t=M,p=M,E=M>>>2;for(var _=0;_<l;_++)for(var S=0;
S<h;S++){var y=~~((S+.5)*t),v=~~((_+.5)*p),r=1e9,K=Math.max(0,y-E),s=Math.min(w,y+E+1),P=Math.max(0,v-E),d=Math.min(V,v+E+1);
for(var X=P;X<d;X++)for(var U=K;U<s;U++){var n=z(k,w,U,X);if(n<r){y=U;v=X;r=n}}var e=(v*w+y)*4;q.push(y,v)}return q}function z(k,w,V,h){var l=(h*w+V)*4,M=w*4,q=A(k,l-4,l)+A(k,l,l+4),t=A(k,l-M,l)+A(k,l,l+M);
return q+t}function A(k,w,V){var h=k[w]-k[V],l=k[w+1]-k[V+1],M=k[w+2]-k[V+2];return h*h+l*l+M*M}var o=0,i=0;
function L(k,w,V,h){i++;if(h<o)o=h;k[h].push(w,V)}function B(k){i--;while(k[o].length==0)o++}function D(k,w,V,h,l){o=0;
i=0;var M=w*V,q=Math.round(Math.min(w,V)/(h?h:50)),K=0,s=16;if(q==0)q=1;var t=(l?l:30)/q,p=Math.floor(w/q),E=Math.floor(V/q),_=new Uint16Array(M);
for(var F=0;F<M;F++)_[F]=65535;var S=x(k,w,V,p,E,q),y=S.length>>>1;if(y>65535)throw y;var v=[];for(var F=0;
F<1e3+V;F++)v.push([]);var r=[0,1,0,-1,-1,0,1,0],P=Math.min(E,5),d=new Uint32Array(y*6);for(var X=0;
X<E;X+=P){var U=Math.min(X+P+1,E);for(var n=X;n<U;n++)for(var e=0;e<p;e++){var F=n*p+e,J=F*2,C=S[J+1]<<16|S[J];
L(v,C,F,S[J+1]>>>s)}var H=Math.min(V,U*q);if(X+P>=E)H=V;while(i!=0){B(v);var u=v[o].pop(),bc=v[o].pop(),jK=bc>>>16,N=bc&65535,F=jK*w+N;
if(_[F]==65535){var he=u*6,gJ=F<<2;_[F]=u;d[he]+=k[gJ];d[he+1]+=k[gJ+1];d[he+2]+=k[gJ+2];d[he+3]+=N;
d[he+4]+=jK;d[he+5]++;var kg=jK>>>s;if(jK!=H-1&&_[F+w]==65535)L(v,jK+1<<16|N,u,Z(k,w,t,N,jK+1,d,he)+kg);
if(jK!=0&&_[F-w]==65535)L(v,jK-1<<16|N,u,Z(k,w,t,N,jK-1,d,he)+kg);if(N!=0&&_[F-1]==65535)L(v,jK<<16|N-1,u,Z(k,w,t,N-1,jK,d,he)+kg);
if(N!=w-1&&_[F+1]==65535)L(v,jK<<16|N+1,u,Z(k,w,t,N+1,jK,d,he)+kg)}}if(H!=jK){var cJ=(X+P)*p;d.fill(0,cJ*6,(cJ+p)*6);
for(var jK=(X+P-2)*q;jK<H;jK++)for(var N=0;N<w;N++){var F=jK*w+N;if(_[F]>=cJ){_[F]=65535}}}}return{VF:_,c_:y,pG:d}}f.TN.Wj=function(k,w,V,h,l){var M=k.c_,q=w*V,t=k.pG,p=k.VF,E=c(h,p,M,q),_=new UnionFind(M),s=0;
for(var S=1;S<V;S++)for(var y=1;y<w;y++){var F=S*w+y,v=p[F],r=0;if((r=p[F-1])!=v&&E[r]==E[v]&&j(t,0,v*6,r*6)<l)_.link(v,r);
if((r=p[F-w])!=v&&E[r]==E[v]&&j(t,0,v*6,r*6)<l)_.link(v,r)}var K=new Uint16Array(M);K.fill(65535);var P=new Uint16Array(M);
for(var F=0;F<M;F++){var d=_.find(F);if(K[d]==65535)K[d]=s++;P[F]=K[d]}var X=new Uint16Array(q);for(var F=0;
F<q;F++)X[F]=P[p[F]];return{VF:X,c_:s}};f.TN.a87=function(k,w,V,h){var l=f.C(V),M=w.length,q=0;for(var F=0;
F<M&&q!=3;F++){var t=h[F];if(t==0||t==255){var p=w[F],E=2-(t>>>7);l[p]=q=l[p]|E}}return q!=3};function Z(k,w,V,h,l,M,q){var t=(l*w+h)*4,p=M[q+5],E=1/p,_=k[t]*p-M[q],S=k[t+1]*p-M[q+1],y=k[t+2]*p-M[q+2],v=h*p-M[q+3],r=l*p-M[q+4],K=Math.sqrt(_*_+S*S+y*y),s=Math.sqrt(v*v+r*r);
return~~((K+V*s)*E+.5)}function j(k,w,V,h){var l=1/k[V+5],M=1/k[h+5],q=k[V]*l-k[h]*M,t=k[V+1]*l-k[h+1]*M,p=k[V+2]*l-k[h+2]*M,E=k[V+3]*l-k[h+3]*M,_=k[V+4]*l-k[h+4]*M,S=Math.sqrt(q*q+t*t+p*p),y=Math.sqrt(E*E+_*_);
return~~(S+w*y+.5)}function a(k,w,V){var h=f.vo(k,new av(0,0,w,V)),l=h.rect.m,M=h.rect.n,q=D(h.ov,l,M),t=q.VF,p=Date.now(),E=new Uint16Array(w*V);
E.fill(65535);for(var _=0;_<M;_++){for(var S=0;S<l;S++){var y=_*l+S,F=(_<<1)*w+(S<<1),v=t[y];if(t[y-l]!=v||t[y-1]!=v||t[y+1]!=v||t[y+l]!=v)v=65535;
E[F]=v;E[F+1]=v;E[F+w]=v;E[F+w+1]=v}}q.VF=E;return q}function b(k,w){var F=0,V=k.length;while(F!=V&&k[F]!=w)F+=2;
return F==V?-1:F}function W(k,F){if(F==k.length-2){k.pop();k.pop()}else{k[F+1]=k.pop();k[F]=k.pop()}}f.TN.as2=function(k,w,V,h,l){var M=new Uint32Array(l*4400),z=[];
for(var F=0;F<l;F++)z.push([]);for(var q=0;q<V;q++)for(var t=0;t<w;t++){var F=q*w+t,p=F<<2,E=h[F],_=0,S=k[p]>>>4,y=k[p+1]>>>4,v=k[p+2]>>>4;
M[E*4400+(S<<8|y<<4|v)]++;M[E*4400+4096]++;M[E*4400+4100+(S<<4|y)]++;M[E*4400+4360+S]++;if(t!=0&&(_=h[F-1])!=E&&b(z[E],_)==-1){z[E].push(_,0);
z[_].push(E,0)}if(q!=0&&(_=h[F-w])!=E&&b(z[E],_)==-1){z[E].push(_,0);z[_].push(E,0)}}for(var F=0;F<l;
F++){var v=z[F];for(var r=0;r<v.length;r+=2)v[r+1]=$(M,F,v[r])}return[M,z]};function c(k,w,V,h){var l=f.C(V);
for(var F=0;F<h;F++){var M=k[F];if(M==0||M==255)l[w[F]]=2-(M>>>7)}return l}f.TN.a0T=function(k,w,V,h,l,M,q){var t=w*V,p=q[0],z=q[1],E=new UnionFind(h),_=c(l,k,h,t),S=-1,y=!0,v=0;
for(var F=0;F<h;F++)if(_[F]==1){if(S==-1)S=F;else E.link(F,S)}if(S==-1){for(var F=0;F<t;F++)M[F]=l[F]==255?255:0;
return}while(y){while(y){y=!1;for(var F=0;F<h;F++){if(_[F]==0){var r=Y(z[F]);if(_[r]==1){_[F]=_[r];y=!0;
E.link(F,r)}}}}y=!0;v=0;while(y){y=!1;for(var F=0;F<h;F++){if(_[F]==0){var r=Y(z[F]);if(_[r]==0){var K=F*4400,s=r*4400;
for(var P=0;P<4400;P+=2){p[K+P]+=p[s+P];p[K+P+1]+=p[s+P+1]}R(z,p,F,r);v++;_[r]=3;y=!0;E.link(F,r)}}}}y=v!=0}var d=E.find(S);
for(var F=0;F<h;F++)_[F]=E.find(F)==d?255:0;for(var F=0;F<t;F++){M[F]=_[k[F]]}for(var F=0;F<t;F++){var r=l[F];
if(r==0||r==255)M[F]=r}};function Y(k){var w=0,V=0,h=k.length;for(var l=0;l<h;l+=2){var M=k[l+1];if(M>V){V=M;
w=l}}return k[w]}function R(z,k,w,V){var h=z[w],l=z[V];W(h,b(h,V));W(l,b(l,w));for(var F=0;F<l.length;
F+=2){var M=l[F],q=z[M];W(q,b(q,V));if(b(q,w)==-1){q.push(w,0);h.push(M,0)}}for(var F=0;F<h.length;F+=2){var M=h[F],q=z[M],t=$(k,w,M);
h[F+1]=t;q[b(q,w)+1]=t}}function $(k,w,V){var h=0,l=4096,M=w*4400,q=V*4400;for(var t=0;t<16;t++){if(k[M+4360+t]==0||k[q+4360+t]==0)continue;
for(var p=0;p<16;p++){var E=t<<4|p;if(k[M+4100+E]==0||k[q+4100+E]==0)continue;var _=M+(E<<4),S=q+(E<<4);
for(var F=0;F<16;F++)h+=Math.sqrt(k[_+F]*k[S+F])}}var y=h/Math.sqrt(k[M+l]*k[q+l]);return~~(999.99999*y)}return D}();
f.ij={};f.ij.aqP=function(){var x=11,z=7,A=x>>>1,f5=z>>>1,o=2,i=2e3/o,L=[],D=null,Z="";function B(a,b,W){var c=(a[b+0]-a[W+0])*(1/255),Y=(a[b+1]-a[W+1])*(1/255),R=(a[b+2]-a[W+2])*(1/255),$=(a[b+3]-a[W+3])*(1/255),k=c*c*.125+Y*Y*.25+R*R*.5+$*$;
return L[~~(k*i)]}function j(a,b,W,c,Y,R){var $=Date.now(),k=f.C(b*W);f.wJ(a,k);var w=UZIP.adler(k,0,b*W);
if(w!=Z){var V=f.ti(k,b,W);D=f.C(b*W*4);Z=w;var h=[1,1/9,1/25,1/49,1/81];for(var l=0;l<W;l++)for(var M=0;
M<b;M++)for(var F=0;F<4;F++){var q=Math.max(1,M-F),t=Math.min(b-1,M+F),p=Math.max(1,l-F),E=Math.min(W-1,l+F),_=f.K3(V,b,q,t,p,E);
if(isNaN(_))throw M+","+l+","+F+","+_;D[(l*b+M)*4+F]=_*h[F]}}if(O.Id){var S=O.uy(0,b,W);S.set(a);var y=O.uy(1,b,W);
y.set(D);var v=O.uy(2,b,W);O.WW(v);O.filter.cf({type:O.filter.acR,fN:new Float32Array([1/b,1/W]),af1:y.Gt,aqq:Y,aaK:R},S.Gt);
v.get(c)}else{for(var F=0;F<2e3;F++)L[F]=Math.exp(-(F/2e3)*o*(100+(1-Y)*(1-Y)*1e4));var r=f5+2;for(var l=r;
l<W-r;l++)for(var M=r;M<b-r;M++){var K=0,s=0,P=0,d=0;for(var X=0;X<x;X++)for(var U=0;U<x;U++){var n=M+U-A,e=l+X-A;
if(n==M&&e==l||n<r||e<r||n>=b-r||e>=W-r)continue;var J=B(D,(l*b+M)*4,(e*b+n)*4),C=e*b+n<<2;K+=J*a[C+0];
s+=J*a[C+1];P+=J*a[C+2];d+=J}if(d==0){continue}var H=1/d,u=(l*b+M)*4;c[u+0]=~~((1-R)*H*K+R*c[u+0]);c[u+1]=~~((1-R)*H*s+R*c[u+1]);
c[u+2]=~~((1-R)*H*P+R*c[u+2])}}}return j}();var ds=function(){function x(){this.$=0;this.LO=0;this.Z4={};
this.M2=[];this.Fd=1e5;this.ED=1e5;this.Xk=-1;this.GF=-1;this.color=0}function z(f5){this.ga=f5;this.ET=new Array(f5);
this.Pm=new Array(f5*6);this.ae6=0;this.kB=new Array(f5*2);this.alpha=new Array(f5);this.iy=new Array(f5);
this.Qz=new Array(f5)}function A(i,L,B,D){function Z($,k,i,L){return i[L*k+$]}function j(F){var q=i.length;
while(F<q&&i[F]==0)F++;return F<q?F:-1}function a($,k,q){for(var F=2;F<5;F++){var t=0;for(var p=-F+1;
p<=F-1;p++){t+=Z($+p,k+F-1,i,L)==q?1:-1;t+=Z($+F-1,k+p-1,i,L)==q?1:-1;t+=Z($+p-1,k-F,i,L)==q?1:-1;t+=Z($-F,k+p,i,L)==q?1:-1}if(t>0)return 1;
else if(t<0)return 0}return 0}function b(q,Y){var R=new x,$=q,k=Y,t=0,p=1,E;R.color=i[Y*L+q];R.sign=Z(q,Y,i,L)==R.color?"+":"-";
while(1){R.M2.push($,k);if($>R.Xk)R.Xk=$;if($<R.Fd)R.Fd=$;if(k>R.GF)R.GF=k;if(k<R.ED)R.ED=k;R.LO++;$+=t;
k+=p;R.$-=$*p;if($==q&&k==Y)break;var _=Z($+(t+p-1>>1),k+(p-t-1>>1),i,L)==R.color,S=Z($+(t-p-1>>1),k+(p+t-1>>1),i,L)==R.color;
if(S&&!_){if(D.pV=="right"||D.pV=="black"&&R.sign=="+"||D.pV=="white"&&R.sign=="-"||D.pV=="majority"&&a($,k,R.color)||D.pV=="minority"&&!a($,k,R.color)){E=t;
t=-p;p=E}else{E=t;t=p;p=-E}}else if(S){E=t;t=-p;p=E}else if(!_){E=t;t=p;p=-E}}return R}var W=0,c=[];
while(!0){var W=j(W);if(W==-1)break;var Y=Math.floor(W/L),R=b(W-Y*L,Y);for(var F=0;F<R.M2.length-2;F+=2){var $=R.M2[F],k=R.M2[F+1],w=k*L+$;
if($==R.M2[F+2]&&k+1==R.M2[F+3]&&i[w]!=0)ds.fill(w,i,L,0)}if(R.$>D.aem)c.push(R)}for(var F=0;F<c.length;
F++)c[F].parent=-1;var V=Date.now();for(var F=1;F<c.length;F++){var h=c[F];for(var l=F-1;l>=0;l--){var M=c[l];
if(h.Fd<M.Fd||h.Xk>M.Xk||h.ED<M.ED||h.GF>M.GF)continue;if(!ds.Iq(M.M2,h.M2[0]+.5,h.M2[1]+.5))continue;
h.parent=l;break}}return c}function o(i,L){function B(t,p,E,_,S){this.x=t;this.y=p;this.U6=E;this.bO=_;
this.jk=S}function D(t,f5){return(f5+t)%f5}function Z(t,p,E,_){return t*_-E*p}function j(t,p,E,_){return t*E+p*_}function a(t,p,E){if(t<=E)return t<=p&&p<E;
else return t<=p||p<E}function b(t,p,E){var _=0;_+=p*t[0]*p;_+=p*t[1]*E;_+=p*t[2];_+=E*t[3]*p;_+=E*t[4]*E;
_+=E*t[5];_+=t[6]*p;_+=t[7]*E;_+=t[8];return _}function W(t,p,E){return p+t*(E-p)}function c(t,p,E,_){var S=Math.sign(E-t),y=-Math.sign(_-p);
return S*(E-t)-y*(_-p)}function Y(t,p){return Math.sqrt(t*t+p*p)}function R(t,p,E,_,S){var y=1-t;return y*y*y*p+3*(y*y*t)*E+3*(t*t*y)*_+t*t*t*S}function $(t,p,E,_,S,y,v,r){var K=Z(t,p,v,r),s=Z(E,_,v,r),P=Z(S,y,v,r),d=K-2*s+P,X=-2*K+2*s,U=K,n=X*X-4*d*U;
if(d==0||n<0)return-1;var e=Math.sqrt(n),J=(-X+e)/(2*d),C=(-X-e)/(2*d);if(J>=0&&J<=1)return J;else if(C>=0&&C<=1)return C;
else return-1}function k(q){var F,t,p;q.c$=q.M2[0];q.awq=q.M2[1];q.x5=[];var E=q.x5;E.push(new B(0,0,0,0,0));
for(F=0;F<q.LO;F++){t=q.M2[F<<1]-q.c$;p=q.M2[(F<<1)+1]-q.awq;E.push(new B(E[F].x+t,E[F].y+p,E[F].U6+t*p,E[F].bO+t*t,E[F].jk+p*p))}}function w(q){var f5=q.LO,t=q.M2,p,E=new Array(f5),_=new Array(f5),S=new Array(4),y,v,r,K,s,P,d,X,U,n,e,F,J,C,H,u,bc,jK,N=0;
q.b6=new Array(f5);for(F=f5-1;F>=0;F--){if(t[F<<1]!=t[N<<1]&&t[(F<<1)+1]!=t[(N<<1)+1])N=F+1;_[F]=N}for(F=f5-1;
F>=0;F--){var he=D(F+1,f5)<<1;S[0]=S[1]=S[2]=S[3]=0;p=(3+3*(t[he]-t[F<<1])+(t[he+1]-t[(F<<1)+1]))/2;
S[p]++;y=0;v=0;r=0;K=0;N=_[F];C=F;while(1){e=0;p=(3+3*Math.sign(t[N*2]-t[C*2])+Math.sign(t[N*2+1]-t[C*2+1]))/2;
S[p]++;if(S[0]&&S[1]&&S[2]&&S[3]){E[F]=C;e=1;break}U=t[N*2]-t[F*2];n=t[N*2+1]-t[F*2+1];if(Z(y,v,U,n)<0||Z(r,K,U,n)>0){break}if(Math.abs(U)<=1&&Math.abs(n)<=1){}else{s=U+(n>=0&&(n>0||U<0)?1:-1);
P=n+(U<=0&&(U<0||n<0)?1:-1);if(Z(y,v,s,P)>=0){y=s;v=P}s=U+(n<=0&&(n<0||U<0)?1:-1);P=n+(U>=0&&(U>0||n<0)?1:-1);
if(Z(r,K,s,P)<=0){r=s;K=P}}C=N;N=_[C];if(!a(N,F,C)){break}}if(e==0){d=Math.sign(t[N*2]-t[C*2]);X=Math.sign(t[N*2+1]-t[C*2+1]);
U=t[C*2]-t[F*2];n=t[C*2+1]-t[F*2+1];H=Z(y,v,U,n);u=Z(y,v,d,X);bc=Z(r,K,U,n);jK=Z(r,K,d,X);J=1e7;if(u<0){J=Math.floor(H/-u)}if(jK>0){J=Math.min(J,Math.floor(-bc/jK))}E[F]=D(C+J,f5)}}J=E[f5-1];
q.b6[f5-1]=J;for(F=f5-2;F>=0;F--){if(a(F+1,E[F],J)){J=E[F]}q.b6[F]=J}for(F=f5-1;a(D(F+1,f5),J,q.b6[F]);
F--){q.b6[F]=J}}function V(q){function t(q,F,p){var f5=q.LO,U=q.M2,n=q.x5,e,J,C,H,u,_,bc,jK,X,N,he,gJ,kg,cJ,it=0;
if(p>=f5){p-=f5;it=1}if(it==0){e=n[p+1].x-n[F].x;J=n[p+1].y-n[F].y;H=n[p+1].bO-n[F].bO;C=n[p+1].U6-n[F].U6;
u=n[p+1].jk-n[F].jk;_=p+1-F}else{e=n[p+1].x-n[F].x+n[f5].x;J=n[p+1].y-n[F].y+n[f5].y;H=n[p+1].bO-n[F].bO+n[f5].bO;
C=n[p+1].U6-n[F].U6+n[f5].U6;u=n[p+1].jk-n[F].jk+n[f5].jk;_=p+1-F+f5}he=(U[F<<1]+U[p<<1])/2-U[0];gJ=(U[(F<<1)+1]+U[(p<<1)+1])/2-U[1];
cJ=U[p<<1]-U[F<<1];kg=-(U[(p<<1)+1]-U[(F<<1)+1]);bc=(H-2*e*he)/_+he*he;jK=(C-e*gJ-J*he)/_+he*gJ;X=(u-2*J*gJ)/_+gJ*gJ;
N=kg*kg*bc+2*kg*cJ*jK+cJ*cJ*X;return Math.sqrt(N)}var F,p,E,_,f5=q.LO,S=new Array(f5+1),y=new Array(f5+1),v=new Array(f5),r=new Array(f5+1),K=new Array(f5+1),s=new Array(f5+1),P,d,X;
for(F=0;F<f5;F++){X=D(q.b6[D(F-1,f5)]-1,f5);if(X==F){X=D(F+1,f5)}if(X<F){v[F]=f5}else{v[F]=X}}p=1;for(F=0;
F<f5;F++){while(p<=v[F]){r[p]=F;p++}}F=0;for(p=0;F<f5;p++){K[p]=F;F=v[F]}K[p]=f5;E=p;F=f5;for(p=E;p>0;
p--){s[p]=F;F=r[F]}s[0]=0;S[0]=0;for(p=1;p<=E;p++){for(F=s[p];F<=K[p];F++){d=-1;for(_=K[p-1];_>=r[F];
_--){P=t(q,_,F)+S[_];if(d<0||P<d){y[F]=_;d=P}}S[F]=d}}q.acJ=E;q.a0k=new Array(E);for(F=f5,p=E-1;F>0;
p--){F=y[F];q.a0k[p]=F}}function h(q){function t(q,F,P,v,r,by){var f5=q.LO,cz=q.x5,fG=0,X;while(P>=f5){P-=f5;
fG+=1}while(F>=f5){F-=f5;fG-=1}while(P<0){P+=f5;fG-=1}while(F<0){F+=f5;fG+=1}var ju=cz[P+1].x-cz[F].x+fG*cz[f5].x,gW=cz[P+1].y-cz[F].y+fG*cz[f5].y,iI=cz[P+1].bO-cz[F].bO+fG*cz[f5].bO,ht=cz[P+1].U6-cz[F].U6+fG*cz[f5].U6,et=cz[P+1].jk-cz[F].jk+fG*cz[f5].jk,d=P+1-F+fG*f5;
v[by]=ju/d;v[by+1]=gW/d;var be=(iI-ju*ju/d)/d,c9=(ht-ju*gW/d)/d,aJ=(et-gW*gW/d)/d,b6=(be+aJ+Math.sqrt((be-aJ)*(be-aJ)+4*c9*c9))/2;
be-=b6;aJ-=b6;if(Math.abs(be)>=Math.abs(aJ)){X=Math.sqrt(be*be+c9*c9);if(X!=0){r[by]=-c9/X;r[by+1]=be/X}}else{X=Math.sqrt(aJ*aJ+c9*c9);
if(X!=0){r[by]=-aJ/X;r[by+1]=c9/X}}if(X==0){r[by]=r[by+1]=0}}var p=q.acJ,E=q.a0k,f5=q.LO,_=q.M2,S=q.c$,y=q.awq,v=new Array(p*2),r=new Array(p*2),K=new Array(p),s=new Array(3),F,P,d,X,J,C,H,u,bc,jK,N;
q.Z4=new z(p);for(F=0;F<p;F++){P=E[D(F+1,p)];P=D(P-E[F],f5)+E[F];v[F<<1]=0;v[(F<<1)+1]=0;r[F<<1]=0;r[(F<<1)+1]=0;
t(q,E[F],P,v,r,F<<1)}for(F=0;F<p;F++){K[F]=[0,0,0,0,0,0,0,0,0];var U=r[F<<1]*r[F<<1]+r[(F<<1)+1]*r[(F<<1)+1],n=1/U;
if(U!=0){s[0]=r[(F<<1)+1];s[1]=-r[F<<1];s[2]=-s[1]*v[(F<<1)+1]-s[0]*v[F<<1];for(X=0;X<3;X++){K[F][X*3+0]=s[X]*s[0]*n;
K[F][X*3+1]=s[X]*s[1]*n;K[F][X*3+2]=s[X]*s[2]*n}}}var e=[0,0,0,0,0,0,0,0,0];for(F=0;F<p;F++){e[0]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=0;
var he=_[E[F]<<1]-S,gJ=_[(E[F]<<1)+1]-y,kg=0,cJ=0;P=D(F-1,p);for(X=0;X<9;X+=3){e[X+0]=K[P][X+0]+K[F][X+0];
e[X+1]=K[P][X+1]+K[F][X+1];e[X+2]=K[P][X+2]+K[F][X+2]}while(1){var it=e[0]*e[4]-e[1]*e[3];if(it!=0){kg=(-e[2]*e[4]+e[5]*e[0])/it;
cJ=(e[2]*e[3]-e[5]*e[0])/it;break}if(e[0]>e[4]){s[0]=-e[1];s[1]=e[0]}else if(e[4]){s[0]=-e[4];s[1]=e[3]}else{s[0]=1;
s[1]=0}var U=s[0]*s[0]+s[1]*s[1],n=1/U;s[2]=-s[1]*gJ-s[0]*he;for(X=0;X<3;X++){e[X*3+0]+=s[X]*s[0]*n;
e[X*3+1]+=s[X]*s[1]*n;e[X*3+2]+=s[X]*s[2]*n}}J=Math.abs(kg-he);C=Math.abs(cJ-gJ);if(J<=.5&&C<=.5){q.Z4.kB[F<<1]=kg+S;
q.Z4.kB[(F<<1)+1]=cJ+y;continue}H=b(e,he,gJ);bc=he;jK=gJ;if(e[0]!=0){for(N=0;N<2;N++){cJ=gJ-.5+N;kg=-(e[1]*cJ+e[2])/e[0];
J=Math.abs(kg-he);u=b(e,kg,cJ);if(J<=.5&&u<H){H=u;bc=kg;jK=cJ}}}if(e[4]!=0){for(N=0;N<2;N++){kg=he-.5+N;
cJ=-(e[3]*kg+e[5])/e[4];C=Math.abs(cJ-gJ);u=b(e,kg,cJ);if(C<=.5&&u<H){H=u;bc=kg;jK=cJ}}}for(X=0;X<2;
X++){for(d=0;d<2;d++){kg=he-.5+X;cJ=gJ-.5+d;u=b(e,kg,cJ);if(u<H){H=u;bc=kg;jK=cJ}}}q.Z4.kB[F<<1]=bc+S;
q.Z4.kB[(F<<1)+1]=jK+y}}function l(q){var t=q.Z4.ga,p=q.Z4,F,E,_,S,y,v,r,K,s;for(F=0;F<t;F++){E=D(F+1,t);
_=D(F+2,t);var P=p.kB[F<<1],d=p.kB[(F<<1)+1],X=p.kB[_<<1],U=p.kB[(_<<1)+1],n=p.kB[E<<1],e=p.kB[(E<<1)+1],J=W(.5,X,n),C=W(.5,U,e);
y=c(P,d,X,U);if(y!=0){S=Z(n-P,e-d,X-P,U-d)/y;S=Math.abs(S);v=S>1?1-1/S:0;v=v*(1/.75)}else{v=4/3}p.iy[E]=v;
var H=3*E<<1;if(v>=L.aej){p.ET[E]=0;p.Pm[H+0]=p.Pm[H+1]=0;p.Pm[H+2]=n;p.Pm[H+3]=e;p.Pm[H+4]=J;p.Pm[H+5]=C}else{if(v<.55){v=.55}else if(v>1){v=1}var u=.5+.5*v;
p.ET[E]=1;p.Pm[H]=W(u,P,n);p.Pm[H+1]=W(u,d,e);p.Pm[H+2]=W(u,X,n);p.Pm[H+3]=W(u,U,e);p.Pm[H+4]=J;p.Pm[H+5]=C}p.alpha[E]=v;
p.Qz[E]=.5}p.a5S=1}function M(q){function t(){this.gS=0;this.sY=0;this.jF=0;this.EN=0;this.uC=0;this.Q1=0;
this.Ww=0;this.alpha=0}function p(q,F,P,jV,hu,bc,jK){var _=q.Z4.ga,eG=q.Z4.Pm,k8=q.Z4.kB;if(F==P)return 1;
var eE=F,n=D(F+1,_),jD=D(eE+1,_),ht=k8[F<<1],et=k8[(F<<1)+1],a_=k8[n<<1],cH=k8[(n<<1)+1],ic=bc[jD];if(ic==0)return 1;
var aj=Y(ht-a_,et-cH);for(eE=jD;eE!=P;eE=jD){var jD=D(eE+1,_),ay=D(eE+2,_),dS=k8[jD<<1],hC=k8[(jD<<1)+1],eq=k8[ay<<1],ck=k8[(ay<<1)+1];
if(bc[jD]!=ic)return 1;if(Math.sign(Z(a_-ht,cH-et,eq-dS,ck-hC))!=ic)return 1;if(j(a_-ht,cH-et,eq-dS,ck-hC)<aj*Y(dS-eq,hC-ck)*-.999847695156)return 1}var eL=D(F,_)*3+2<<1,gj=D(F+1,_)<<1,bv=D(P,_)<<1,dK=D(P,_)*3+2<<1,by=eG[eL],cz=eG[eL+1],cC=k8[gj],iv=k8[gj+1],dJ=k8[bv],km=k8[bv+1],aM=eG[dK],fq=eG[dK+1],N=k8[0],he=k8[1];
eL=P*3+2<<1;var dV=eG[eL],im=eG[eL+1],e=jK[P]-jK[F];e-=Z(dV-N,im-he,dV-N,im-he)/2;if(F>=P){e+=jK[_]}var hj=cC-by,d8=iv-cz,cI=dJ-by,gD=km-cz,iw=aM-by,e3=fq-cz,c5=Z(hj,d8,cI,gD),eT=Z(hj,d8,iw,e3),iO=Z(cI,gD,iw,e3),hW=c5+iO-eT;
if(eT==c5)return 1;var u=iO/(iO-hW),H=eT/(eT-c5),j5=eT*u/2;if(j5==0)return 1;var aL=e/j5,J=2-Math.sqrt(4-aL/.3);
jV.sY=W(u*J,by,cC);jV.jF=W(u*J,cz,iv);jV.EN=W(H*J,aM,dJ);jV.uC=W(H*J,fq,km);jV.alpha=J;jV.Q1=u;jV.Ww=H;
cC=jV.sY;iv=jV.jF;dJ=jV.EN;km=jV.uC;jV.gS=0;for(eE=D(F+1,_);eE!=P;eE=jD){jD=D(eE+1,_);var gk=k8[eE<<1],eA=k8[(eE<<1)+1],dS=k8[jD<<1],hC=k8[(jD<<1)+1];
u=$(cC-by,iv-cz,dJ-cC,km-iv,aM-dJ,fq-km,dS-gk,hC-eA);if(u<-.5)return 1;var gF=R(u,by,cC,dJ,aM),bB=R(u,cz,iv,km,fq),aj=Y(dS-gk,hC-eA);
if(aj==0)return 1;var ix=Z(dS-gk,hC-eA,gF-gk,bB-eA)/aj;if(Math.abs(ix)>hu)return 1;if(j(dS-gk,hC-eA,gF-gk,bB-eA)<0||j(gk-dS,eA-hC,gF-dS,bB-hC)<0){return 1}jV.gS+=ix*ix}for(eE=F;
eE!=P;eE=jD){jD=D(eE+1,_);var eL=eE*3+2<<1,gj=jD*3+2<<1,ab=eG[eL],ez=eG[eL+1],cM=eG[gj],ib=eG[gj+1];
u=$(cC-by,iv-cz,dJ-cC,km-iv,aM-dJ,fq-km,cM-ab,ib-ez);if(u<-.5)return 1;var gF=R(u,by,cC,dJ,aM),bB=R(u,cz,iv,km,fq),aj=Y(cM-ab,ib-ez);
if(aj==0)return 1;var ix=Z(cM-ab,ib-ez,gF-ab,bB-ez)/aj,hU=Z(cM-ab,ib-ez,k8[jD<<1]-ab,k8[(jD<<1)+1]-ez)/aj;
hU*=.75*q.Z4.alpha[jD];if(hU<0){ix=-ix;hU=-hU}if(ix<hU-hu)return 1;if(ix<hU){jV.gS+=(ix-hU)*(ix-hU)}}return 0}var E=q.Z4,_=E.ga,S=E.kB,y=new Array(_+1),v=new Array(_+1),r=new Array(_+1),K=new Array(_+1),s,F,P,d,X=new t,U,n,e,J,C,H,u,bc=new Array(_),jK=new Array(_+1);
for(F=0;F<_;F++){if(E.ET[F]=="CURVE"){var N=S[D(F-1,_)<<1],he=S[(D(F-1,_)<<1)+1],gJ=S[F<<1],kg=S[(F<<1)+1],cJ=S[D(F+1,_)<<1],it=S[(D(F+1,_)<<1)+1];
bc[F]=Math.sign(Z(gJ-N,kg-he,cJ-gJ,it-kg))}else{bc[F]=0}}e=0;jK[0]=0;var by=E.kB[0],cz=E.kB[1];for(F=0;
F<_;F++){n=D(F+1,_);if(E.ET[n]=="CURVE"){J=E.alpha[n];var fG=F*3+2<<1,ju=n*3+2<<1,gW=E.Pm[fG],iI=E.Pm[fG+1],ht=S[n<<1],et=S[(n<<1)+1],be=E.Pm[ju],c9=E.Pm[ju+1];
e+=.3*J*(4-J)*Z(ht-gW,et-iI,be-gW,c9-iI)/2;e+=Z(gW-by,iI-cz,be-by,c9-cz)/2}jK[F+1]=e}y[0]=-1;v[0]=0;
r[0]=0;for(P=1;P<=_;P++){y[P]=P-1;v[P]=v[P-1];r[P]=r[P-1]+1;for(F=P-2;F>=0;F--){d=p(q,F,D(P,_),X,L.ahB,bc,jK);
if(d){break}if(r[P]>r[F]+1||r[P]==r[F]+1&&v[P]>v[F]+X.gS){y[P]=F;v[P]=v[F]+X.gS;r[P]=r[F]+1;K[P]=X;X=new t}}}s=r[_];
C=new z(s);H=new Array(s);u=new Array(s);P=_;for(F=s-1;F>=0;F--){var aJ=D(P,_),b6=F*3+0<<1,ef=aJ*3+0<<1;
if(y[P]==P-1){C.ET[F]=E.ET[aJ];C.Pm[b6]=E.Pm[ef];C.Pm[b6+1]=E.Pm[ef+1];C.Pm[b6+2]=E.Pm[ef+2];C.Pm[b6+3]=E.Pm[ef+3];
C.Pm[b6+4]=E.Pm[ef+4];C.Pm[b6+5]=E.Pm[ef+5];C.kB[F<<1]=E.kB[aJ<<1];C.kB[(F<<1)+1]=E.kB[(aJ<<1)+1];C.alpha[F]=E.alpha[aJ];
C.iy[F]=E.iy[aJ];C.Qz[F]=E.Qz[aJ];H[F]=u[F]=1}else{C.ET[F]="CURVE";C.Pm[b6]=K[P].sY;C.Pm[b6+1]=K[P].jF;
C.Pm[b6+2]=K[P].EN;C.Pm[b6+3]=K[P].uC;C.Pm[b6+4]=E.Pm[ef+4];C.Pm[b6+5]=E.Pm[ef+5];C.kB[F<<1]=W(K[P].Ww,E.Pm[ef+4],S[aJ<<1]);
C.kB[(F<<1)+1]=W(K[P].Ww,E.Pm[ef+5],S[(aJ<<1)+1]);C.alpha[F]=K[P].alpha;C.iy[F]=K[P].alpha;H[F]=K[P].Ww;
u[F]=K[P].Q1}P=y[P]}for(F=0;F<s;F++){n=D(F+1,s);C.Qz[F]=H[F]/(H[F]+u[n])}C.a5S=1;q.Z4=C}for(var F=0;
F<i.length;F++){var q=i[F];k(q);w(q);V(q);h(q);l(q);if(L.agB)M(q)}}return{aia:A,a9H:o}}();ds.La=function(x,z,A,o){var i={pV:"minority",aem:o,agB:!0,aej:1,ahB:.2},L=ds.aia(x,z,A,i);
ds.a9H(L,i);return L};ds.Dd=function(x){var z=[];for(var F=0;F<x.length;F++){var A=x[F],o=A.Z4,i=["M"],L=[o.Pm[(o.ga-1)*6+4],o.Pm[(o.ga-1)*6+5]];
for(var B=0;B<o.ga;B++){var D=B*6;if(o.ET[B]==1){i.push("C");for(var Z=0;Z<6;Z++)L.push(o.Pm[D+Z])}else if(o.ET[B]==0){i.push("L");
for(var Z=2;Z<4;Z++)L.push(o.Pm[D+Z])}}i.push("Z");z.push({parent:A.parent,color:A.color,path:{v:L,F:i}})}return z};
ds.Iq=function(x,z,A){var f5=x.length>>1,o,i=x[2*f5-3]-A,L=x[2*f5-2]-z,B=x[2*f5-1]-A,D=B>i,Z=0;for(var F=0;
F<f5;F++){o=L;i=B;L=x[2*F]-z;B=x[2*F+1]-A;if(i==B)continue;D=B>i}for(var F=0;F<f5;F++){o=L;i=B;L=x[2*F]-z;
B=x[2*F+1]-A;if(i<0&&B<0)continue;if(i>0&&B>0)continue;if(o<0&&L<0)continue;if(i==B&&Math.min(o,L)<=0)return!0;
if(i==B)continue;var j=o+(L-o)*-i/(B-i);if(j==0)return!0;if(j>0)Z++;if(i==0&&D&&B>i)Z--;if(i==0&&!D&&B<i)Z--;
D=B>i}return(Z&1)==1};ds.fill=function(x,z,A,o){var i=z[x],L=[x],B=0;while(B<L.length){var D=L[B];B++;
z[D]=o;if(z[D-A]==i){L.push(D-A);z[D-A]=254}if(z[D-1]==i){L.push(D-1);z[D-1]=254}if(z[D+1]==i){L.push(D+1);
z[D+1]=254}if(z[D+A]==i){L.push(D+A);z[D+A]=254}}};function dG(){}dG.l6=function(x){var z=new Uint8Array(x),A=0,o={U0:[],xn:[],list:[]},i=m.FH(z,A);
A+=2;if(i<=2){return dG.a3W(z)}var L=m.FH(z,A);A+=2;var B=m.dX(z,A,8);A+=8;var D=m.l(z,A);A+=4;if(D>0)o.U0=dG._J(z,A,D,L,i);
A+=D;var Z=m.dX(z,A,8);A+=8;var j=m.l(z,A);A+=4;if(j>0)o.xn=aP.fM(z,A,j);A+=j;var a=m.dX(z,A,8);A+=8;
var b=m.l(z,A);A+=4;if(b>0){var W={};gX.XZ(z,W,A+4);o.list=W.Brsh.v}A+=b;var c=o.list;for(var F=0;F<c.length;
F++){bz.$y.check(c[F].v)}return o};dG.Mp=function(x,z){x.v.Nm.v=z};dG.a3W=function(x){var z={U0:[],xn:[],list:[]},A=0,o=m.FH(x,A);
A+=2;var i=m.FH(x,A);A+=2;for(var F=0;F<i;F++){var L=m.FH(x,A);A+=2;var B=m.l(x,A);A+=4;var D=A;if(L==2){var Z={};
z.U0.push(Z);var j=m.l(x,D);D+=4;var a=m.FH(x,D);D+=2;if(o==2){var b=m.Aq(x,D);D+=4+b.length*2+2}Z.id=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f";
D++;D+=8;Z.G8=m.$v(x,D);D+=16;var W=m.FH(x,D);D+=2;var c=x[D];D++;var Y=cg.JU(!1,W,x,Z.G8.m,Z.G8.n,D,c);
dG.fo(Z,Y);var R=bz.K2(Z.id),$=R.Brsh.v;$.Dmtr.v.val=Z.G8.m;$.Spcn.v.val=a;z.list.push({t:"Objc",v:R})}A+=B}return z};
dG.aM=function(x){var z=new cc,A=0,o=0;m.MY(z,A,6);A+=2;m.MY(z,A,2);A+=2;m._h(z,A,"8BIMsamp");A+=8;A+=4;
o=A;A=dG.dQ(z,A,x.U0);m.HX(z,o-4,A-o);m._h(z,A,"8BIMpatt");A+=8;A+=4;o=A;A=aP.rX(z,A,x.xn);m.HX(z,o-4,A-o);
var i={classID:"null",Brsh:{t:"VlLs",v:x.list}};m._h(z,A,"8BIMdesc");A+=8;A+=4;o=A;m.HX(z,A,16);A+=4;
A+=gX.DN(z,i,A);m.HX(z,o-4,A-o);return z.data.slice(0,A).buffer};dG._J=function(x,z,A,o,i){var L=m.l,B=m.$v,D=z+A,Z=[];
while(z<D){var j={};Z.push(j);var a=L(x,z);z+=4;var b=z,W=m.Cq(x,z);z+=W.length;j.id=W.oW;if(o==1){z+=9;
j.G8=B(x,z);z+=16}else{z+=7;var c=L(x,z);z+=4;j.G8=B(x,z);z+=16;var Y=L(x,z);z+=4;z+=Y*4;var R=L(x,z);
z+=4;var $=L(x,z);z+=4;var k=B(x,z);z+=16}var w=m.FH(x,z);z+=2;var V=x[z];z+=1;var h=cg.JU(!1,w,x,j.G8.m,j.G8.n,z,V);
dG.fo(j,h);if(a%4!=0)a+=4-a%4;z=b+a}return Z};dG.fo=function(x,z){var A=x.G8.clone(),o=f.C(A.$()*4);
f.c8(z,o,3);A.x=A.y=0;x.zH=[o,A]};dG.dQ=function(x,z,A){var o=m.HX,i=m.aI;for(var F=0;F<A.length;F++){var L=A[F],B=z+4,Z=56,a=1;
z+=4;m.Zg(x,z,L.id);z+=L.id.length+2;x.qQ(z,1);x.data[z]=1;z+=3;o(x,z,3);z+=4;var D=z;z+=4;i(x,z,L.G8);
z+=16;o(x,z,Z);z+=4;z+=Z*4;o(x,z-4,1);var j=z;z+=4;o(x,z,8);z+=4;i(x,z,L.G8);z+=16;m.MY(x,z,8);z+=2;
x.qQ(z,1);x.data[z]=a;z++;var b=f.C(L.G8.$());f.XN(L.zH[0],b,3);x.qQ(z,L.G8.$()*2);z=cg.WB(!1,b,x.data,L.G8.m,L.G8.n,z,a);
x.qQ(z,8);z+=8;var W=z-B;o(x,B-4,W);o(x,D,W-49);o(x,j,W-305);if(W%4!=0)z+=4-W%4}return z};function e8(){}e8.l6=function(x){var z=new Uint8Array(x),A=[],o=0,i=m.FH(z,o);
o+=2;if(i!=4){throw"Unknown version of curves: "+i}var L=m.FH(z,o);o+=2;for(var F=0;F<L;F++){var B=e8.rY(z,o);
o+=2+2*B.length;A.push(B)}if(o==z.length)return A;var D=m.dX(z,o,4);o+=4;var Z=m.FH(z,o);o+=2;var j=m.FH(z,o);
o+=2;if(j!=0)throw"extra curves for channels";return A};e8.S6=function(x,z,A){var o=z,i=[],L=x[z];z+=3;
var B=m.l(x,z);z+=4;for(var F=0;F<4;F++){var D=B>>>F&1;if(D){if(L==0){var Z=e8.rY(x,z);z+=2+2*Z.length}else{var Z=e8.a0U(x,z);
z+=256}i.push(Z)}else i.push(L==0?[0,0,255,255]:e8.atC())}var j=h6.d6("curv");for(var F=0;F<4;F++){if(L==0){var a=i[F],b=[];
for(var W=0;W<a.length;W+=2)b.push(f.tt.pf(a[W],a[W+1],!0));e8.D3(j,F,b)}else e8.D3(j,F,i[F])}return j};
e8.atC=function(){var x=[];for(var F=0;F<256;F++)x.push(F);return x};e8.D3=function(x,z,A){var o=gy.ST("CrvA",z);
if(A.length<256)o.Crv={t:"VlLs",v:A};else{o.Mpng={t:"VlLs",v:[]};for(var F=0;F<256;F++)o.Mpng.v[F]={t:"long",v:A[F]}}o={t:"Objc",v:o};
var i=x.Adjs.v,L=gy.Rk(i,z);if(L==-1)i.push(o);else i[L]=o};e8.FL=function(x,z){var A=x.Adjs.v,o=gy.Rk(A,z);
if(o==-1){if(A.length==0||A[0].v.Crv)return[f.tt.pf(0,0,!0),f.tt.pf(255,255,!0)];if(A[0].v.autoMachineLearning||A[0].v.AuCo)return[f.tt.pf(0,0,!0),f.tt.pf(128,160,!0),f.tt.pf(255,255,!0)];
var i=[];for(var F=0;F<256;F++)i.push(F);return i}var L=A[o].v;if(L.Crv)return L.Crv.v;if(L.Mpng){var i=[];
for(var F=0;F<256;F++)i.push(L.Mpng.v[F].v);return i}return[f.tt.pf(0,0,!0),f.tt.pf(255,255,!0)]};e8.rY=function(x,z){var A=[],o=m.FH(x,z);
z+=2;for(var i=0;i<o;i++){var L=m.FH(x,z);z+=2;var B=m.FH(x,z);z+=2;A.push(B,L)}return A};e8.a4T=function(x,z,A){var o=A.length/2;
m.MY(x,z,o);z+=2;for(var i=0;i<o;i++){m.MY(x,z,A[i*2+1]);z+=2;m.MY(x,z,A[i*2+0]);z+=2}};e8.a0U=function(x,z){var A=[];
for(var F=0;F<256;F++)A.push(x[z+F]);return A};e8.adr=function(x,z,A){x.qQ(z,256);for(var F=0;F<256;
F++)x.data[z+F]=A[F]};e8.g3=function(x,z,A){var o=[];for(var F=0;F<4;F++){var i=e8.FL(A,F);if(i.length==256)o.push(i);
else{var L=[];for(var B=0;B<i.length;B++)L.push(i[B].v.Hrzn.v,i[B].v.Vrtc.v);o.push(L)}}var D=z,Z=o[0].length==256?1:0;
x.qQ(z,3);x.data[z]=Z;x.data[z+1]=0;x.data[z+2]=1;z+=3;m.HX(x,z,15);z+=4;for(var F=0;F<4;F++){var j=o[F];
if(Z==0){e8.a4T(x,z,j);z+=2+2*j.length}else{e8.adr(x,z,j);z+=256}}return z-D};function cA(){}cA.S6=function(x,z,A){var o={},i=m.FH(x,z);
z+=2;o.Uw=x[z]==1;z++;z++;o.QG=[m.Zl(x,z),m.Zl(x,z+2),m.Zl(x,z+4)];z+=6;o.Et=[m.Zl(x,z),m.Zl(x,z+2),m.Zl(x,z+4)];
z+=6;o.Fp=[];for(var F=0;F<6;F++){var L={};L.eL=[m.Zl(x,z),m.Zl(x,z+2),m.Zl(x,z+4),m.Zl(x,z+6)];z+=8;
L.zS=[m.Zl(x,z),m.Zl(x,z+2),m.Zl(x,z+4)];z+=6;o.Fp.push(L)}var B=h6.d6("hue2"),D=o;if(B.Clrz==null)B.Clrz={t:"bool",v:!1};
B.Clrz.v=D.Uw;for(var F=0;F<7;F++){var Z=F==0?D.Uw?D.QG:D.Et:D.Fp[F-1];cA.D3(B,F,Z)}return B};cA.adL=function(x){return{classID:"Hst2",H:{t:"long",v:x[0]},Strt:{t:"long",v:x[1]},Lght:{t:"long",v:x[2]}}};
cA.Rk=function(x,z){for(var F=0;F<x.length;F++){var A=x[F].v.LclR;if(z==0&&A==null||A!=null&&A.v==z)return F}return-1};
cA.D3=function(x,z,A){var o=z==0?A:A.zS,i=cA.adL(o);if(z!=0){var L=A.eL;i.LclR={t:"long",v:z},i.BgnR={t:"long",v:L[0]};
i.BgnS={t:"long",v:L[1]};i.EndS={t:"long",v:L[2]};i.EndR={t:"long",v:L[3]}}i={t:"Objc",v:i};var B=x.Adjs.v,D=cA.Rk(B,z);
if(D==-1)B.push(i);else B[D]=i};cA.FL=function(x,z){var A=x.Adjs.v,o=cA.Rk(A,z);if(o==-1){if(z==0)return[0,0,0];
else return[{eL:[315,345,15,45],zS:[0,0,0]},{eL:[15,45,75,105],zS:[0,0,0]},{eL:[75,105,135,165],zS:[0,0,0]},{eL:[135,165,195,225],zS:[0,0,0]},{eL:[195,225,255,285],zS:[0,0,0]},{eL:[255,285,315,345],zS:[0,0,0]}][z-1]}var i=A[o].v,L=[i.H.v,i.Strt.v,i.Lght.v];
if(z==0)return L;return{zS:L,eL:[i.BgnR.v,i.BgnS.v,i.EndS.v,i.EndR.v]}};cA.g3=function(x,z,A){var o={Uw:A.Clrz?A.Clrz.v:!1,Fp:[]};
o.QG=o.Et=cA.FL(A,0);for(var F=1;F<7;F++)o.Fp.push(cA.FL(A,F));var i=2+2+12+6*14,L=x.data;x.qQ(z,i);
m.uI(L,z,2);z+=2;L[z]=o.Uw?1:0;z++;z++;m.dd(L,z+0,o.QG[0]);m.dd(L,z+2,o.QG[1]);m.dd(L,z+4,o.QG[2]);z+=6;
m.dd(L,z+0,o.Et[0]);m.dd(L,z+2,o.Et[1]);m.dd(L,z+4,o.Et[2]);z+=6;for(var F=0;F<6;F++){var B=o.Fp[F].eL,D=o.Fp[F].zS;
m.dd(L,z+0,B[0]);m.dd(L,z+2,B[1]);m.dd(L,z+4,B[2]);m.dd(L,z+6,B[3]);z+=8;m.dd(L,z+0,D[0]);m.dd(L,z+2,D[1]);
m.dd(L,z+4,D[2]);z+=6}return i};function gy(){}gy.l6=function(x){var z=new Uint8Array(x),A=2,o=[];for(var F=0;
F<29;F++){var i=[];o.push(i);for(var L=0;L<5;L++)i.push(m.FH(z,A+F*10+L*2))}A+=29*10;if(A<z.length){var B=m.dX(z,A,4);
A+=4;var D=m.FH(z,A);A+=2;var Z=m.FH(z,A);A+=2;var j=Z-29;for(var F=0;F<j;F++){var i=[];o.push(i);for(var L=0;
L<5;L++)i.push(m.FH(z,A+F*10+L*2))}}var a=h6.d6("levl");for(var F=0;F<4;F++)gy.D3(a,F,o[F]);return a};
gy.ST=function(x,F){var z=["Cmps","Rd","Grn","Bl"],A={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:z[F]}}]};
return{classID:x,Chnl:A}};gy.Rk=function(x,z){var A={Cmps:0,Rd:1,Grn:2,Bl:3};for(var F=0;F<x.length;
F++){var o=x[F].v,i=A[o.Chnl.v[0].v.enum];if(i==z)return F}return-1};gy.D3=function(x,z,A){var o=gy.ST("LvlA",z);
o.Inpt={t:"VlLs",v:[{t:"long",v:A[0]},{t:"long",v:A[1]}]};o.Otpt={t:"VlLs",v:[{t:"long",v:A[2]},{t:"long",v:A[3]}]};
o.Gmm={t:"doub",v:A[4]/100};o={t:"Objc",v:o};var i=x.Adjs.v,L=gy.Rk(i,z);if(L==-1)i.push(o);else i[L]=o};
gy.FL=function(x,z){var A=[0,255,0,255,100],o=x.Adjs.v,i=gy.Rk(o,z);if(i==-1)return A;var L=o[i].v;if(L.Inpt){A[0]=L.Inpt.v[0].v;
A[1]=L.Inpt.v[1].v}if(L.Otpt){A[2]=L.Otpt.v[0].v;A[3]=L.Otpt.v[1].v}if(L.Gmm){A[4]=Math.round(L.Gmm.v*100)}return A};
gy.aM=function(x,z){var A=[],o=0;for(var F=0;F<4;F++)A.push(gy.FL(z,F));while(A.length<29)A.push([0,255,0,255,100]);
x.qQ(0,2+10*29);m.uI(x.data,o,2);o+=2;for(var F=0;F<29;F++){var i=A[F];for(var L=0;L<5;L++)m.uI(x.data,o+F*10+L*2,i[L])}o+=29*10;
if(A.length==29)return o;x.qQ(o,8+10*(A.length-29));m.ax(x.data,o,"Lvls");o+=4;m.uI(x.data,o,3);o+=2;
m.uI(x.data,o,A.length);o+=2;var B=A.length-29;for(var F=0;F<B;F++){var i=A[29+F];for(var L=0;L<5;L++)m.uI(x.data,o+F*10+L*2,i[L])}o+=10*B;
return o};function ex(){}ex.l6=function(x){var z=new Uint8Array(x),A=2,o={mm:[],I6:[]},i=m.dX(z,A,4);
A+=4;var L=m.FH(z,A);A+=2;var B=m.l(z,A);A+=4;o.mm=aP.fM(z,A,B);A+=B;var D=m.l(z,A);A+=4;for(var F=0;
F<D;F++){var Z=m.l(z,A);A+=4;var j=A,a={nE:{},tz:{}};o.I6.push(a);A+=4;A+=gX.XZ(z,a.nE,A);A+=4;A+=gX.XZ(z,a.tz,A);
A=j+Z;var b=a.tz.blendOptions,W=a.tz.Lefx;if(b&&Object.keys(b.v).length>1){}if(W){if(W.v.masterFXSwitch==null)W.v.masterFXSwitch={t:"bool",v:!0};
ap.dy(W.v)}}return o};ex.Mp=function(x,z){x.nE.Nm.v=z};ex.aM=function(x){var z=new cc,A=0;m.MY(z,A,2);
A+=2;m._h(z,A,"8BSL");A+=4;m.MY(z,A,3);A+=2;var o=A;A+=4;A=aP.rX(z,A,x.mm);m.HX(z,o,A-o-4);var i=x.I6.length;
m.HX(z,A,i);A+=4;for(var F=0;F<i;F++){A+=4;var L=A,B=x.I6[F];m.HX(z,A,16);A+=4;A+=gX.DN(z,B.nE,A);var D=B.tz.Lefx;
if(D){B.tz.Lefx=JSON.parse(JSON.stringify(D));ap.HG(B.tz.Lefx.v)}m.HX(z,A,16);A+=4;A+=gX.DN(z,B.tz,A);
if(D)B.tz.Lefx=D;m.HX(z,L-4,A-L)}return z.data.slice(0,A).buffer};function cp(){}cp.S6=function(x,z,A){var o=m.FH(x,z);
z+=2;var i={};i._C=m.FH(x,z)==1;z+=2;i.w4=[];for(var F=0;F<10;F++){var L=[];i.w4.push(L);for(var B=0;
B<4;B++)L.push(m.Zl(x,z+B*2));z+=8}var D=h6.d6("selc");D.Mthd.v.CrcM=i._C?"Absl":"Rltv";for(var F=1;
F<10;F++)cp.D3(D,F-1,i.w4[F]);return D};cp.b_="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
cp.ST=function(x,F){var z=["Cmps","Rd","Grn","Bl"],A={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:z[F]}}]};
return{classID:x,Chnl:A}};cp.Rk=function(x,z){var A=cp.b_;for(var F=0;F<x.length;F++){var o=x[F].v,i=A.indexOf(o.Clrs.v.Clrs);
if(i==z)return F}return-1};cp.D3=function(x,z,A){var o=["Cyn","Mgnt","Ylw","Blck"],i={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:cp.b_[z]}}};
for(var L=0;L<4;L++)i[o[L]]={t:"UntF",v:{type:"#Prc",val:A[L]}};i={t:"Objc",v:i};var B=x.ClrC.v,D=cp.Rk(B,z);
if(D==-1)B.push(i);else B[D]=i};cp.FL=function(x,z){var A=[0,0,0,0],o=x.ClrC.v,i=cp.Rk(o,z);if(i==-1)return A;
var L=["Cyn","Mgnt","Ylw","Blck"];for(var F=0;F<4;F++)if(o[i].v[L[F]])A[F]=o[i].v[L[F]].v.val;return A};
cp.g3=function(x,z,A){var o={_C:A.Mthd.v.CrcM=="Absl",w4:[[0,0,0,0]]};for(var F=0;F<9;F++)o.w4.push(cp.FL(A,F));
x.qQ(z,84);m.uI(x.data,z,1);z+=2;m.uI(x.data,z,o._C?1:0);z+=2;for(var F=0;F<10;F++){var i=o.w4[F];for(var L=0;
L<4;L++)m.dd(x.data,z+L*2,i[L]);z+=8}return 84};function dF(){}dF.d6=function(){return{MV:new av(0,0,50,50),nE:"",$U:"play",_:f.J.Ja.Un([.1,.1,.9,.5,.1,.9],0)}};
dF.l6=function(x){x=new Uint8Array(x);var z=0,A=[],o=Date.now(),i=m.dX(x,0,4);z+=4;var L=m.l(x,z);z+=4;
var B=m.l(x,z);z+=4;for(var F=0;F<B;F++){var D=m.Aq(x,z);z+=D.length*2+4+2;if((D.length&1)==0)z+=2;z=dF.Ce(x,z,D,A)}return A};
dF.Ce=function(x,z,A,o){var i=m.l(x,z);z+=4;var L=m.l(x,z);z+=4;var B=z,D=m.Cq(x,B).oW;B+=D.length+1;
var Z=m.$v(x,B);B+=16;var j=dF.nk(x,B,L-(B-z)),a=f.J.DU(j),b=f.p.Jr(a),W=1/b.m,c=1/b.n;f.J.ox(j,new cb(W,0,0,c,-b.x*W,-b.y*c));
o.push({$U:A,nE:D,_:j,MV:Z});z+=L;return z};dF.Mp=function(x,z){x.$U=z};dF.aM=function(x){var z=new cc,A=0;
m._h(z,A,"cush");A+=4;m.HX(z,A,2);A+=4;m.HX(z,A,x.length);A+=4;for(var F=0;F<x.length;F++){var o=x[F],i=o.$U+"\0";
m.jy(z,A,i);A+=4+i.length*2;if((i.length&1)==1)A+=2;m.HX(z,A,1);A+=4;A+=4;var L=A;m.Zg(z,A,o.nE);A+=o.nE.length+1;
m.aI(z,A,o.MV);A+=16;z.qQ(A,o._.length*26);dF.eN(z.data,A,o._,1,1);A+=o._.length*26;var B=A-L;if((B&3)!=0)B+=4-(B&3);
m.HX(z,L-4,B);A=L+B}return z.data.slice(0,A).buffer};dF.atQ=function(x){var z=[];for(var F=0;F<x.length;
F++){var A=x[F],o=A.type,i={type:o};z.push(i);if(o==6){}else if(o==8)i.all=A.all;else if(o==0||o==3){i.length=A.length;
i.frule=A.qh;i.third=A.zB;i.prmA=A.wN;i.prmB=A.CG}else{i.c=[A.re.x,A.re.y,A.H.x,A.H.y,A.zy.x,A.zy.y]}}return z};
dF.adI=function(x){var z=[];for(var F=0;F<x.length;F++){var A=x[F],o=A.type,i={type:o};z.push(i);if(o==6){}else if(o==8)i.all=A.all;
else if(o==0||o==3){i.length=A.length;i.qh=A.frule;i.zB=A.third;i.wN=A.prmA;i.CG=A.prmB}else{var L=A.c;
i.re=new iL(L[0],L[1]);i.H=new iL(L[2],L[3]);i.zy=new iL(L[4],L[5])}}return z};dF.nk=function(x,z,A,o,i){if(o==null)o=1;
if(i==null)i=1;function L(R,$,k){var w=m.a8r(R,$)*k,V=Math.round(w);return Math.abs(w-V)<1e-6?V:w}var B=m.Zl,D=[],Z=Math.floor(A/26);
for(var F=0;F<Z;F++){var j=z+F*26,a={},b=0;D.push(a);a.type=B(x,j);j+=2;if(a.type==6){b=24}if(a.type==8){a.all=B(x,j);
j+=2;b=22}if(a.type==0||a.type==3){a.length=B(x,j);j+=2;a.qh=B(x,j);j+=2;a.zB=B(x,j);j+=2;a.wN=m.l(x,j);
j+=4;a.CG=m.l(x,j);j+=4;b=10}if(a.type==1||a.type==2||a.type==4||a.type==5){var W,c;c=L(x,j,i);j+=4;
W=L(x,j,o);j+=4;a.re=new iL(W,c);c=L(x,j,i);j+=4;W=L(x,j,o);j+=4;a.H=new iL(W,c);c=L(x,j,i);j+=4;W=L(x,j,o);
j+=4;a.zy=new iL(W,c);b=0}for(var Y=0;Y<b;Y++)if(x[j+Y]!=0){console.log("Unexpected non-zero byte!",a,Y,x[j+Y])}}return D};
dF.eN=function(x,z,A,o,i){var L=m.dd,B=m.y4,D=A.length;for(var F=0;F<D;F++){var Z=z+F*26,j=A[F];L(x,Z,j.type);
Z+=2;if(j.type==6){}if(j.type==8)L(x,Z,j.all);if(j.type==0||j.type==3){L(x,Z,j.length);Z+=2;L(x,Z,j.qh);
Z+=2;L(x,Z,j.zB);Z+=2}if(j.type==1||j.type==2||j.type==4||j.type==5){B(x,Z,j.re.y/i);Z+=4;B(x,Z,j.re.x/o);
Z+=4;B(x,Z,j.H.y/i);Z+=4;B(x,Z,j.H.x/o);Z+=4;B(x,Z,j.zy.y/i);Z+=4;B(x,Z,j.zy.x/o);Z+=4}}};function hS(){}hS.l6=function(x){var z=new Uint8Array(x),A=[],o=0;
o=hS.D0(z,o,A);if(o+3<z.length){A=[];o=hS.D0(z,o,A)}return A};hS.D0=function(x,z,A){var o=m.FH,i=m.Zl,L=o(x,z);
z+=2;var B=o(x,z);z+=2;for(var F=0;F<B;F++){var D=hS.cK(x,z);z+=10;if(L==2){D.GC=m.Aq(x,z);z+=4+D.GC.length*2+2}A.push(D)}return z};
hS.cK=function(x,z){var A=m.FH,o=m.Zl,i=A(x,z),c=null;z+=2;var L=A(x,z);z+=2;var B=A(x,z);z+=2;var D=A(x,z);
z+=2;var Z=A(x,z);z+=2;var j=1/65535,a=255/65535,b=100/65535,W=255/1e4;if(i==0)c={w:L*a,a:B*a,s:D*a};
else if(i==1){c=f.M$(L*j,B*j,D*j);c.w*=255;c.a*=255;c.s*=255}else if(i==2)c=f.Q.Pw({classID:"CMYC",Cyn:{t:"doub",v:100-L*b},Mgnt:{t:"doub",v:100-B*b},Ylw:{t:"doub",v:100-D*b},Blck:{t:"doub",v:100-Z*b}});
else if(i==7){var Y=f.Rm(L/100,o(x,z-6)/100,o(x,z-4)/100);c=Y}else if(i==8){c={w:255-L*W,a:255-B*W,s:255-D*W}}else throw"e "+i+", ";
return c};hS.aM=function(x){var z=new cc,A=0,o=m.MY;o(z,A,2);A+=2;o(z,A,x.length);A+=2;for(var F=0;F<x.length;
F++){var i=x[F];z.qQ(A,10);hS.Gk(z.data,A,i);A+=10;var L=(i.GC?i.GC:"")+"\0";m.jy(z,A,L);A+=4+L.length*2}return z.data.slice(0,A).buffer};
hS.Mp=function(x,z){x.GC=z};hS.Gk=function(x,z,A){var o=65535/255,i=m.uI;i(x,z,0);i(x,z+2,Math.round(A.w*o));
i(x,z+4,Math.round(A.a*o));i(x,z+6,Math.round(A.s*o));i(x,z+8,0)};function bP(){}bP.l6=function(x){var z=new Uint8Array(x),A=4,o={};
o._4=m.Aq(z,A);A+=4+o._4.length*2+2;o.exp=z[A++]==1;o.VK=[];var i=m.l(z,A);A+=4;for(var F=0;F<i;F++){var L={};
o.VK.push(L);L.dD=m.FH(z,A);A+=2;L.shift=z[A++]==1;L.a8o=z[A++]==1;L.color=m.FH(z,A);A+=2;L._4=m.Aq(z,A);
A+=4+L._4.length*2+2;L.exp=z[A++]==1;L.VK=[];var B=m.l(z,A);A+=4;for(var D=0;D<B;D++){var Z={};L.VK.push(Z);
Z.exp=z[A++]==1;Z.K=z[A++]==1;Z.a9W=z[A++]==1;Z.av4=z[A++];var j=m.dX(z,A,4);A+=4;if(j=="TEXT"){Z.zR=bP.Y7(z,A);
A+=4+Z.zR.length}else if(j=="long"){Z.zR=m.dX(z,A,4);A+=4}else throw"e";Z.j$=bP.Y7(z,A);A+=4+Z.j$.length;
var a=m.JR(z,A);A+=4;if(a==-1){Z.k7={};var b=gX.XZ(z,Z.k7,A);A+=b}}}console.log(o);var W=new Uint8Array(bP.aM(o));
for(var F=0;F<W.length;F++)if(W[F]!=z[F]&&m.dX(z,F+1,4)!="None"){console.log(z.length,W.length);var c=4*(F>>>2)-16;
console.log(m.Fa(z,c,64));console.log(m.Fa(W,c,64));console.log(z.slice(c,c+64));console.log(W.slice(c,c+64));
throw"i"}return[o]};bP.Y7=function(x,z){var A=m.l(x,z);return m.dX(x,z+4,A)};bP.Ue=function(x,z,A){m.HX(x,z,A.length);
m._h(x,z+4,A)};bP.aM=function(x){var z=new cc,A=0;m.HX(z,A,16);A+=4;m.jy(z,A,x._4+"\0");A+=4+x._4.length*2+2;
z.qQ(A,1);z.data[A++]=x.exp?1:0;var o=x.VK.length;m.HX(z,A,o);A+=4;for(var F=0;F<o;F++){var i=x.VK[F];
m.MY(z,A,i.dD);A+=2;z.qQ(A,2);z.data[A++]=i.shift?1:0;z.data[A++]=i.a8o?1:0;m.MY(z,A,i.color);A+=2;m.jy(z,A,i._4+"\0");
A+=4+i._4.length*2+2;z.qQ(A,1);z.data[A++]=i.exp?1:0;var L=i.VK.length;m.HX(z,A,L);A+=4;for(var B=0;
B<L;B++){var D=i.VK[B];z.qQ(A,4);z.data[A++]=D.exp?1:0;z.data[A++]=D.K?1:0;z.data[A++]=D.a9W?1:0;z.data[A++]=D.av4;
var Z="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(D.zR)!=-1;m._h(z,A,Z?"long":"TEXT");A+=4;
if(!Z){bP.Ue(z,A,D.zR);A+=4+D.zR.length}else{m._h(z,A,D.zR);A+=4}bP.Ue(z,A,D.j$);A+=4+D.j$.length;m.ur(z,A,D.k7?-1:0);
A+=4;if(D.k7){var j=gX.DN(z,D.k7,A);A+=j}}}return z.data.slice(0,A).buffer};function hc(){}hc.l6=function(x){var z=new Uint8Array(x),A=0,o=m.l(z,A),Z;
A+=4;var i=m.dX(z,A,8);A+=8;var L=m.GQ(z,A);A+=4;var B=m.GQ(z,A);A+=4;var D=m.GQ(z,A);A+=4;if(o==2){Z=new Float32Array(x,32,x.byteLength-32>>>2)}else if(o==3||o==4){Z=new Float32Array(B*D*2);
var j=0,a=0,b=!0;A=o==3?32:16+8+40;while(A<z.length){var W=m.GQ(z,A);A+=4;if(b)a+=W;else{for(var F=0;
F<W;F++){Z[j+a+F<<1]=m.fU(z,A);Z[(j+a+F<<1)+1]=m.fU(z,A+4);A+=8}a+=W}b=!b;if(W!=0&&a==B){j+=B;a=0;b=!0;
if(j==B*D)break}}}else throw"unknown Mesh version: "+o;return{GM:B,zp:D,map:Z}};hc.Im=function(x){var z=x.GM,A=x.zp,o=x.map,i=new Uint8Array(32+A*z*8+A*8),L=0,B=0;
m.bw(i,L,3);L+=4;m.ax(i,L,"yfqLhseM");L+=8;m.hX(i,L,2);L+=4;m.hX(i,L,z);L+=4;m.hX(i,L,A);L+=4;m.hX(i,L,0);
L+=4;m.hX(i,L,1);L+=4;for(var D=0;D<A;D++){m.hX(i,L,0);L+=4;m.hX(i,L,z);L+=4;for(var Z=0;Z<z;Z++){m._v(i,L,o[B]);
m._v(i,L+4,o[B+1]);B+=2;L+=8}}return i.buffer};function a5(){}a5.l6=function(x){var z=new Uint8Array(x),A=0,o=m.dX(z,A,4);
A+=4;var i=m.FH(z,A);A+=2;var L=m.l(z,A);A+=4;var B=[];for(var F=0;F<L;F++){var D=m.l(z,A);A+=4;var Z={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
B.push(Z);var j=m.Aq(z,A);Z.Nm.v=j;A+=4+j.length*2+2;var a=m.FH(z,A);A+=2;var b=m.FH(z,A);A+=2;for(var W=0;
W<b;W++){var c=f.tt.pf(0,0,!0);c.v.Vrtc.v=m.FH(z,A);A+=2;c.v.Hrzn.v=m.FH(z,A);A+=2;Z.Crv.v.push(c)}if(D==1){}else if(D==2){for(var W=0;
W<b;W++){Z.Crv.v[W].v.Cnty.v=z[A]==1;A+=1}}else throw"error";var Y=m.l(z,A);A+=4;var R=m.l(z,A);A+=4}return B};
a5.Mp=function(x,z){x.Nm.v=z};a5.aM=function(x){var z=new cc,A=0;m._h(z,A,"8BFS");A+=4;m.MY(z,A,1);A+=2;
m.HX(z,A,x.length);A+=4;for(var F=0;F<x.length;F++){m.HX(z,A,2);A+=4;var o=x[F];m.jy(z,A,o.Nm.v+"\0");
A+=4+o.Nm.v.length*2+2;m.MY(z,A,2);A+=2;var i=o.Crv.v.length;m.MY(z,A,i);A+=2;for(var L=0;L<i;L++){var B=o.Crv.v[L];
m.MY(z,A,B.v.Vrtc.v);A+=2;m.MY(z,A,B.v.Hrzn.v);A+=2}z.qQ(A,i);for(var L=0;L<i;L++){z.data[A]=o.Crv.v[L].v.Cnty.v;
A++}m.HX(z,A,0);A+=4;m.HX(z,A,0);A+=4}return z.data.slice(0,A).buffer};function aP(){}aP.l6=function(x){var z=new Uint8Array(x),A=4,o=m.FH(z,A);
A+=2;var i=m.l(z,A);A+=4;var L=[];for(var F=0;F<i;F++){var B={};L.push(B);A=aP.LX(z,A,B)}return L};aP.Mp=function(x,z){x.name=z};
aP.aM=function(x){var z=new cc,A=0;m._h(z,A,"8BPT");A+=4;m.MY(z,A,1);A+=2;m.HX(z,A,x.length);A+=4;for(var F=0;
F<x.length;F++){A=aP.j_(z,A,x[F])}return z.data.slice(0,A).buffer};aP.fM=function(x,z,A){var o=z+A,i=[];
while(z<o){var L={},B=m.l(x,z);z+=4;var D=z;z=aP.LX(x,z,L);if(!L.zH[1].WT())i.push(L);if(B%4!=0)B+=4-B%4;
z=D+B}return i};aP.rX=function(x,z,A){for(var F=0;F<A.length;F++){var o=A[F];z+=4;var i=z;z=aP.j_(x,z,o);
var L=z-i;m.HX(x,i-4,L);if(L%4!=0)i+=4-L%4;z=i+L}return z};aP.LX=function(x,z,A){var o=m.l(x,z);z+=4;
if(o!=1)alert("Unknown version of pattern");var i=m.l(x,z);z+=4;if(i!=1&&i!=2&&i!=3)console.log("Unsupported mode of pattern: "+i);
var L=m.FH(x,z);z+=2;var B=m.FH(x,z);z+=2;var D=new av(0,0,B,L);A.name=m.Aq(x,z);z+=4+2*A.name.length+2;
var Z=x[z];z++;A.id=m.dX(x,z,Z);z+=A.id.length;var j=-1;if(i==2){j=z;z+=3*256+4}var a=new f.mz(B*L);
z=aP.ar8(x,z,a);if(i==2){for(var F=0;F<a.w.length;F++){var b=3*a.w[F];a.w[F]=x[j+b+0];a.a[F]=x[j+b+1];
a.s[F]=x[j+b+2]}}var W=f.C(D.$()*4);f.Ve(a,W);A.zH=[W,D];return z};aP.j_=function(x,z,A){var o=A.zH[0],i=A.zH[1];
m.HX(x,z,1);z+=4;m.HX(x,z,3);z+=4;m.MY(x,z,i.n);z+=2;m.MY(x,z,i.m);z+=2;m.jy(x,z,A.name+"\0");z+=4+2*A.name.length+2;
m.UU(x,z,A.id.length);z++;m._h(x,z,A.id);z+=A.id.length;var L=new f.mz(i.$());f.hC(o,L);z=aP.aml(x,z,L,i);
return z};aP.ar8=function(x,z,A){var o=z,i={G8:null,u1:[],a9T:null,tI:null},L=m.l(x,z);z+=4;var B=m.l(x,z);
z+=4;i.G8=m.$v(x,z);z+=16;var D=m.l(x,z);z+=4;for(var F=0;F<D+2;F++){var Z=m.l(x,z);z+=4;if(Z==0)continue;
var j=m.l(x,z);z+=4;if(j==0)continue;var a=m.l(x,z);z+=4;var b=m.$v(x,z);z+=16;var W=m.FH(x,z);z+=2;
var c=x[z];z++;var Y=cg.JU(!1,a,x,b.m,b.n,z,c);if(F<D)i.u1.push(Y);if(F==D)i.a9T=Y;if(F==D+1)i.tI=Y;
z+=j-23}if(!i.G8.WT()){if(i.u1[0])A.w=i.u1[0];if(i.u1[1])A.a=i.u1[1];else A.a=i.u1[0].slice(0);if(i.u1[2])A.s=i.u1[2];
else A.s=i.u1[0].slice(0);if(i.tI)A.xc=i.tI;else A.xc.fill(255)}return z};aP.aml=function(x,z,A,o){var i=z,L={G8:o,u1:[A.w,A.a,A.s],a9T:null,tI:A.xc};
m.HX(x,z,3);z+=4;m.HX(x,z,0);z+=4;m.aI(x,z,o);z+=16;m.HX(x,z,24);z+=4;for(var F=0;F<24+2;F++){var B=z,D=F<3||F==25?1:0;
m.HX(x,z,D);z+=4;if(D==0)continue;m.HX(x,z,0);z+=4;m.HX(x,z,8);z+=4;m.aI(x,z,o);z+=16;m.MY(x,z,8);z+=2;
m.UU(x,z,1,1);z++;var Z=F<3?L.u1[F]:L.tI;x.qQ(z,o.$()+2);z=cg.WB(!1,Z,x.data,o.m,o.n,z,1);m.HX(x,B+4,z-B-8)}m.HX(x,i+4,z-i-8);
return z};function hD(){}hD.l6=function(x){var z=new Uint8Array(x),A=0;if(z[0]==71)return hD.a5W(z);
var o=m.dX(z,A,4);A+=4;var i=m.FH(z,A);A+=2;var L=[];if(i<=3){var B=m.FH(z,A);A+=2;for(var F=0;F<B;F++){var D=z[A++],Z=m.dX(z,A,D);
A+=D;var j=hD.PC(z,A,Z),a=j[0];A=j[1];L.push(a)}}else{var j={},b=gX.XZ(z,j,A+4),W=j.GrdL.v;for(var F=0;
F<W.length;F++)L[F]=W[F].v.Grad.v}return L};hD.Mp=function(x,z){x.Nm.v=z};hD.aM=function(x){var z=new cc,A=0;
m._h(z,A,"8BGR");A+=4;m.MY(z,A,5);A+=2;m.HX(z,A,16);A+=4;var o={classID:"null",GrdL:{t:"VlLs",v:[]}},i=o.GrdL.v;
for(var F=0;F<x.length;F++)i[F]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:x[F]}}};
A+=gX.DN(z,o,A);return z.data.slice(0,A).buffer};hD.PC=function(x,z,A){var o={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:A},Trns:{t:"VlLs",v:[]}},i=m.FH(x,z);
z+=2;if(i==0)throw"e";for(var F=0;F<i;F++){var L=m.l(x,z),B=m.l(x,z+4),D=hS.cK(x,z+8),Z={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:D.w},Grn:{t:"doub",v:D.a},Bl:{t:"doub",v:D.s}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:L},Mdpn:{t:"long",v:B}}};
o.Clrs.v.push(Z);z+=20}var j=m.FH(x,z);z+=2;for(var F=0;F<j;F++){var L=m.l(x,z),B=m.l(x,z+4),a=m.FH(x,z+8),Z={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*a/255)}},Lctn:{t:"long",v:L},Mdpn:{t:"long",v:B}}};
o.Trns.v.push(Z);z+=10}var b=m.FH(x,z);z+=2;if(b!=2)throw b;o.Intr.v=m.FH(x,z);z+=2;var W=m.FH(x,z);
z+=2;if(W!=32)throw"e";return[o,z]};hD.a1c=function(x,z,A){var o=A.Clrs.v.length;m.MY(x,z,o);z+=2;for(var F=0;
F<o;F++){var i=A.Clrs.v[F];m.HX(x,z,i.v.Lctn.v);m.HX(x,z+4,i.v.Mdpn.v);m.MY(x,z+8,0);var L=f.Q.Vv(f.Q.Pw(i.v.Clr.v)),B=[L.Rd.v,L.Grn.v,L.Bl.v,0];
for(var D=0;D<4;D++)m.MY(x,z+10+D*2,Math.round(65535*(B[D]/255)));z+=20}var Z=A.Trns.v.length;m.MY(x,z,Z);
z+=2;for(var F=0;F<Z;F++){var i=A.Trns.v[F];m.HX(x,z,i.v.Lctn.v);m.HX(x,z+4,i.v.Mdpn.v);m.MY(x,z+8,Math.round(255*i.v.Opct.v.val/100));
z+=10}m.MY(x,z,2);z+=2;m.MY(x,z,A.Intr.v);z+=2;m.MY(x,z,32);z+=2;return z};hD.a5W=function(x){var z=m._X(x,0,x.length).split("\n"),A=parseFloat(z[2]),o=[],i=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]).Grad.v;
i.Intr.v=0;i.Nm.v=z[1];for(var F=0;F<A;F++){var L=z[3+F].split(" ").map(parseFloat),B=L[11],D=L[12];
o.push([L[0],L.slice(3,6),L[6]]);if(D!=0){var Z=f._$(L[3],L[4],L[5]),j=f._$(L[7],L[8],L[9]),a=Z.zp,b=j.zp;
if(D==1&&a>b)b++;if(D==2&&a<b)a++;var W=Math.round(Math.abs(b-a)*7);if(W>1)for(var c=0;c<W;c++){var Y=1-(c+1)/(W+1),R=1-Y,$=f.M$(Y*a+R*b,Y*Z.Ww+R*j.Ww,Y*Z.u6+R*j.u6);
o.push([Y*L[0]+R*L[2],[$.w,$.a,$.s],Y*L[6]+R*L[10]])}}o.push([L[2],L.slice(7,10),L[10]])}o.sort(function(k,w){return k[0]-w[0]});
f.Q.uW(o,i);return[i]};function cL(){}cL.l6=function(x){var z=new Uint8Array(x),A=[],o=[],i=[],L=[],B=[],D=0,Z=m.dX(z,D,4);
D+=4;var j=m.l(z,D);D+=4;var a=m.l(z,D);D+=4;while(D<z.length){var b=m.dX(z,D,4);D+=4;var W=m.dX(z,D,4);
D+=4;var c=m.l(z,D);D+=4;if(W=="tppa"){o=aP.fM(z,D,c);D+=c}else if(W=="tpbd"){i=dG._J(z,D,c,1,1);D+=c}else if(W=="tptp"){var Y=m.l(z,D);
D+=4;for(var F=0;F<Y;F++){var R=m.Aq(z,D);D+=6+R.length*2;D+=4;var $={};D+=gX.XZ(z,$,D);A.push([R,$])}while((D&3)!=0)D++}else if(W=="tpsh"){var k=D,w=z.slice(D,D+c);
while(D<k+c){var V=m.l(z,D);D+=4;D=dF.Ce(z,D,"Shape",L)}D=k+c}else if(W=="tpst"){var k=D;D+=4;while(D<k+c){var h=m.l(z,D);
D+=4;var l=D,M=m.l(z,D);D+=4;var $={nE:{},tz:{}};B.push($);D+=4;D+=gX.XZ(z,$.nE,D);D+=4;D+=gX.XZ(z,$.tz,D);
D=l+h;var q=$.tz.Lefx;if(q){if(q.v.masterFXSwitch==null)q.v.masterFXSwitch={t:"bool",v:!0};ap.dy(q.v)}}D=k+c}else{console.log(z.slice(D-8,D+64));
console.log(m.dX(z,D-8,64));throw W}}return{U0:i,xn:o,list:A,a6_:L,I6:B}};cL.Mp=function(x,z){x[0]=z};
cL.aM=function(x){var z=new cc,A=0;m._h(z,A,"8BTP");A+=4;m.HX(z,A,3);A+=4;m.HX(z,A,1);A+=4;var o=[x.xn,x.U0,x.list];
for(var F=0;F<3;F++){if(o[F].length==0)continue;m._h(z,A,"8BIM");A+=4;var i=["tppa","tpbd","tptp"][F];
m._h(z,A,i);A+=4;var L=A;A+=4;if(i=="tppa"){A=aP.rX(z,A,x.xn)}else if(i=="tpbd"){A=dG.dQ(z,A,x.U0)}else if(i=="tptp"){m.HX(z,A,x.list.length);
A+=4;for(var B=0;B<x.list.length;B++){var D=x.list[B];m.jy(z,A,D[0]+"\0");A+=6+D[0].length*2;m.HX(z,A,16);
A+=4;A+=gX.DN(z,D[1],A)}}m.HX(z,L,A-L-4);while((A&3)!=0)A++;z.qQ(A,0)}return z.data.slice(0,A).buffer};
function jJ(){}jJ.l6=function(x,z){var A=new Uint8Array(x),o;if(m.l(A,0)==A.length)o="icc";else if(A[0]=="<".charCodeAt(0))o="look";
else if(m.rz(A,"LUT_3D_SIZE")!=-1)o="cube";else o="3DL";if(o!="icc"){var i=jJ.akl(A,o),L=jJ.a2L(i[0],i[1]);
A=L}var B=[];for(var F=0;F<A.length;F++)B.push(A[F]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:z?z:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:B}}]};
jJ.aM=function(x){var z=x[0],A=new Uint8Array(z.profile.v);return A.buffer};jJ.Mp=function(x,z){x.Nm.v=z};
jJ.a2L=function(x,z){var A=new cc,o=128;A.qQ(0,128);var i=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var F=0;F<i.length;F++)A.data[F]=i[F];var L=["desc","A2B0"],B=L.length,D=128+4+B*12;m.HX(A,o,B);
o+=4;for(var Z=0;Z<B;Z++){var j=L[Z];m._h(A,o,j);o+=4;m.HX(A,o,D);o+=4;var a=D;if(j=="desc"){m._h(A,a,"mluc");
a+=4;a+=4;m.HX(A,a,1);a+=4;m.HX(A,a,12);a+=4;m._h(A,a,"enUS");a+=4;var b="ICC by Photopea\0",W=b.length*2+2;
m.HX(A,a,W);a+=4;m.HX(A,a,28);a+=4;A.qQ(a,W);for(var F=0;F<b.length;F++)A.data[a+F*2+1]=b.charCodeAt(F);
a+=W}if(j=="A2B0"){m._h(A,a,"mAB ");a+=4;a+=4;A.qQ(a,4);A.data[a]=3;A.data[a+1]=3;a+=4;A.qQ(a,4*5);a+=4*3;
m.HX(A,a,a+8-D);a+=4;a+=4;A.qQ(a,20);A.data[a]=x;A.data[a+1]=x;A.data[a+2]=x;a+=16;A.data[a]=2;a+=4;
var c=x*x*x*3;A.qQ(a,c*2);for(var F=0;F<c;F++)m.uI(A.data,a+F*2,Math.max(0,Math.min(65535,Math.round(z[F]*65535))));
a+=c*2}var Y=a-D;while((Y&3)!=0)Y++;m.HX(A,o,Y);o+=4;D+=Y}m.HX(A,0,D);return A.data.slice(0,D)};jJ.akl=function(x,z){z="LUTFormat"+z.toUpperCase();
var A=[],o=0,i=m._X(x,0,x.length),L="";for(var F=0;F<x.length&&L=="";F++){if(x[F]==10)L="\n";else if(x[F]==13){L="\r";
if(x[F+1]==10)L+="\n"}}if(z=="LUTFormatCUBE"){var B=i.split(L);for(var F=0;F<B.length;F++){if(B[F]==""||B[F][0]=="#")continue;
var D=B[F].split(" "),Z=D[0];if(Z=="LUT_3D_SIZE"){o=parseInt(D[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(Z)!=-1)continue;
A.push(parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2]))}A=jJ.tn(o,A)}else if(z=="LUTFormat3DL"){var B=i.split(L),j=1/4095;
for(var F=0;F<B.length;F++){var a=B[F];if(a==""||a=="3DMESH"||a.startsWith("Mesh")||a[0]=="#")continue;
var D=a.split(" "),Z=D[0];if(o==0){o=D.length;continue}A.push(parseFloat(D[0])*j,parseFloat(D[1])*j,parseFloat(D[2])*j)}}else if(z=="LUTFormatLOOK"){var b=new DOMParser,W=b.parseFromString(i,"text/xml"),c=W.getElementsByTagName("LUT")[0],Y=c.children[0].textContent;
o=parseInt(JSON.parse(Y));var R=c.children[1].textContent;R=R.replace(/"/g,"").replace(/\s/g,"");var $=3*o*o*o,k=$*4,w=new Uint8Array(k);for(var F=0;F<k;F++){var V=R.charCodeAt(F*2),h=R.charCodeAt(F*2+1),l=V<58?V-48:V-55,M=h<58?h-48:h-55;w[F]=(l<<4)+M}for(var F=0;F<$;F++)A.push(m.fU(w,F<<2));A=jJ.tn(o,A)}else throw z;return[o,A]};jJ.a5V=function(x,z,A){var o=["#Created by www.Photopea.com","TITLE \""+A+"\"","","#LUT size","LUT_3D_SIZE "+z,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],i=6;
for(var F=0;F<x.length;F+=3){o.push(x[F].toFixed(i)+" "+x[F+1].toFixed(i)+" "+x[F+2].toFixed(i))}o.push("");
return m.zi(o.join("\n")).buffer};jJ.tn=function(x,z){var A=[],o=x*x*x;for(var F=0;F<o;F++)A.push(0,0,0);
for(var i=0;i<x;i++)for(var L=0;L<x;L++)for(var B=0;B<x;B++){var F=3*(B+L*x+i*x*x),D=3*(i+L*x+B*x*x);
A[D]=z[F];A[D+1]=z[F+1];A[D+2]=z[F+2]}return A};function gX(){}gX.XZ=function(x,z,A,o,i){var L=A,B;if(i==null)i=0;
var D=m.l(x,A);if(D==0){B="";A+=4}else{B=m.Aq(x,A);A+=4+2*B.length+2}if(B!="")z.__name=B;z.classID=gX.vW(x,A);
if(o)console.log("\t".repeat(i),"- reading descriptor",z.classID,A);A+=gX.oH(x,A);var Z=m.JR(x,A);A+=4;
for(var F=0;F<Z;F++){var j=gX.vW(x,A);A+=gX.oH(x,A);var a=gX.Au(x,A,o,i);z[j]=a;A+=a.size;delete a.size}return A-L};
gX.DN=function(x,z,A,o){var i=A,L=z.__name;if(L==null)L="";L+="\0";m.jy(x,A,L);A+=4+2*L.length;gX.CM(x,A,z.classID);
A+=gX.oH(x.data,A);m.ur(x,A,Object.keys(z).length-1-(z.__name==null?0:1));A+=4;for(var B in z){if(B=="classID")continue;
if(B=="__name")continue;gX.CM(x,A,B);A+=gX.oH(x.data,A);A+=gX.SH(x,A,z[B])}return A-i};gX.Au=function(x,z,A,o){var i=z,L=m.dX(x,z,4);
z+=4;var B={size:0,t:L,v:null};if(A)console.log("\t".repeat(o),"reading key",L,i);switch(L){case"obj ":case"VlLs":B.v=[];
var D=m.l(x,z);z+=4;for(var F=0;F<D;F++){var Z=gX.Au(x,z,A,o+1);z+=Z.size;delete Z.size;B.v.push(Z)}break;
case"UntF":B.v={type:m.dX(x,z,4),val:m.gN(x,z+4)};z+=12;break;case"doub":B.v=m.gN(x,z);z+=8;break;case"bool":B.v=x[z]==1;
z+=1;break;case"long":B.v=m.JR(x,z);z+=4;break;case"comp":B.v=m.JR(x,z+4);z+=8;break;case"Objc":B.v={};
var j=gX.XZ(x,B.v,z,A,o+1);z+=j;break;case"TEXT":var a=m.l(x,z);if(a==0){B.v="";z+=4}else{B.v=m.Aq(x,z);
z+=4+B.v.length*2+2}break;case"enum":var b=gX.vW(x,z);z+=gX.oH(x,z);var W=gX.vW(x,z);z+=gX.oH(x,z);B.v={};
B.v[b]=W;break;case"tdta":var c=m.JR(x,z);z+=4;B.v=[];for(var F=0;F<c;F++)B.v.push(x[z+F]);z+=c;break;
case"ObAr":var Y=m.l(x,z);z+=4;var R=m.Aq(x,z);z+=4+2*R.length+2;if(R!="")throw R;var $=gX.vW(x,z);z+=4+Math.max(4,$.length);
B.v={classID:$,arr:[]};var k=m.l(x,z);z+=4;for(var F=0;F<k;F++){var $=gX.vW(x,z);z+=4+Math.max(4,$.length);
var b=m.dX(x,z,4);z+=4;var w=m.dX(x,z,4);z+=4;var V={id:$,type:b,uID:w,arr:[]};B.v.arr.push(V);var h=m.l(x,z,4);
z+=4;for(var l=0;l<h;l++){var M=m.gN(x,z);z+=8;V.arr.push(M)}}break;case"Pth ":var q=z,c=m.l(x,z);z+=4;
var t=m.dX(x,z,4);z+=4;var p=m.GQ(x,z);z+=4;var E=m.anv(x,z);z+=4+E.length*2;B.v={sig:t,pth:E};break;
case"Clss":case"type":case"rele":var E=m.Aq(x,z);z+=4+E.length*2+2;var _=gX.vW(x,z);z+=4+Math.max(4,_.length);
B.v={classID:_};if(E!="")B.v.__name=E;if(L=="rele"){B.v.val=m.JR(x,z);z+=4}break;case"prop":case"Enmr":case"indx":case"name":var S=gX.rO[L],E=m.Aq(x,z);
z+=4+E.length*2+2;if(E.length!=0){console.log(L,E);throw"e"}B.v={};for(var F=0;F<S.length;F++){var _=gX.vW(x,z);
z+=4+Math.max(4,_.length);B.v[S[F]]=_}if(L=="name"){var E=m.Aq(x,z);z+=4+E.length*2+2;B.v.val=E}if(L=="indx"){B.v.val=m.l(x,z);
z+=4}break;case"alis":var c=m.l(x,z);z+=4;B.v=m.dX(x,z,c);z+=c;break;default:{console.log("unknown oskey: "+L+", "+i);
throw"e";return B}}if(A){console.log("\t".repeat(o),B.v);console.log("\t".repeat(o),"======",z)}B.size=z-i;
return B};gX.rO={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
gX.SH=function(x,z,A){var o=z,i=A.t;A=A.v;m._h(x,z,i);z+=4;switch(i){case"obj ":case"VlLs":m.ur(x,z,A.length);
z+=4;for(var L=0;L<A.length;L++){var B=gX.SH(x,z,A[L]);z+=B}break;case"UntF":m._h(x,z,A.type);m.$P(x,z+4,A.val);
z+=12;break;case"doub":m.$P(x,z,A);z+=8;break;case"bool":m.UU(x,z,A?1:0,1);z+=1;break;case"long":m.ur(x,z,A);
z+=4;break;case"comp":m.ur(x,z+4,A);z+=8;break;case"Objc":var B=gX.DN(x,A,z);z+=B;break;case"TEXT":m.jy(x,z,A+"\0");
z+=4+A.length*2+2;break;case"enum":var D=Object.keys(A)[0],Z=A[D];gX.CM(x,z,D);z+=gX.oH(x.data,z);gX.CM(x,z,Z);
z+=gX.oH(x.data,z);break;case"tdta":m.HX(x,z,A.length);z+=4;m.iX(x,z,A);z+=A.length;break;case"ObAr":m.HX(x,z,A.arr[0].arr.length);
z+=4;m.jy(x,z,"\0");z+=6;gX.CM(x,z,A.classID);z+=4+Math.max(4,A.classID.length);m.HX(x,z,A.arr.length);
z+=4;for(var F=0;F<A.arr.length;F++){var j=A.arr[F];gX.CM(x,z,j.id);z+=4+Math.max(4,j.id.length);m._h(x,z,j.type);
z+=4;m._h(x,z,j.uID);z+=4;m.HX(x,z,j.arr.length);z+=4;for(var L=0;L<j.arr.length;L++){m.$P(x,z,j.arr[L]);
z+=8}}break;case"Pth ":var a=A.pth.length*2+4+8;m.HX(x,z,a);z+=4;m._h(x,z,A.sig);z+=4;m.KX(x,z,a);z+=4;
m.a5I(x,z,A.pth);z+=A.pth.length*2+4;break;case"Clss":case"type":case"rele":var b=A.__name;if(b==null)b="";
m.jy(x,z,b+"\0");z+=4+b.length*2+2;var W=A.classID;gX.CM(x,z,W);z+=4+Math.max(4,W.length);if(i=="rele"){m.ur(x,z,A.val);
z+=4}break;case"prop":case"Enmr":case"indx":case"name":var c=gX.rO[i];m.HX(x,z,1);z+=6;for(var F=0;F<c.length;
F++){var W=A[c[F]];gX.CM(x,z,W);z+=4+Math.max(4,W.length)}if(i=="name"){m.jy(x,z,A.val+"\0");z+=4+A.val.length*2+2}if(i=="indx"){m.HX(x,z,A.val);
z+=4}break;case"alis":var a=A.length;m.HX(x,z,a);z+=4;m._h(x,z,A);z+=a;break;default:console.log("unknown oskey: "+i);
z=o;break}return z-o};gX.vW=function(x,z){var A=m.JR(x,z);if(A>1e3)throw"e";if(A==0)A=4;return m.dX(x,z+4,A).trim()};
gX.oH=function(x,z){var A=m.JR(x,z);return A==0?8:4+A};gX.CM=function(x,z,A){var o="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time trim then else".split(" "),i=4<A.length||o.indexOf(A)!=-1;
m.ur(x,z,i?A.length:0);m._h(x,z+4,A);if(A.length<4&&!i){var L="";for(var F=A.length;F<4;F++)L+=" ";m._h(x,z+4+A.length,L)}};
gX.ai_=function(x){var z={};for(var A in x){if(A=="classID")z[A]=x[A];else if(A=="__name")z[A]=x[A];
else z[A]=gX.d7(x[A])}return z};gX.d7=function(x){if(x.Q1=="Objc")return gX.ai_(x.v);else if(x.Q1=="VlLs"){var z=[];
for(var F=0;F<x.v.length;F++)z.push(gX.d7(x.v[F]));return z}else if(x.Q1=="UntF")return x.v.val;else return x.v};
function ap(){}ap.py=function(x,z,A,o,i,L){while(z<A){var B=m.dX(x,z,4);z+=4;if(B!="8BIM"&&B!="8B64"){console.log("layer information signature error! "+B,"PSB = "+i);
alert("Error in PSD file: wrong signature.");return A}var D=m.dX(x,z,4);z+=4;var Z=m.l(x,z);z+=4;var j=i&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(D)!=-1;
if(j){Z=Z<<32|m.JR(x,z);z+=4}var a=["lrFX","PlLd"];if(a.indexOf(D)!=-1){if(Z%4!=0)Z+=4-Z%4;z+=Z;continue}switch(D){case"iOpa":o[D]=x[z];
break;case"brst":o[D]=[1,1,1];for(var F=0;F<Z;F+=4)o[D][m.l(x,z+F)]=0;break;case"knko":o[D]=x[z];break;
case"infx":o[D]=x[z];break;case"clbl":o[D]=x[z];break;case"lmgm":o[D]=x[z];break;case"vmgm":o[D]=x[z];
break;case"fcmy":o[D]=x[z];break;case"lyid":o[D]=m.l(x,z);break;case"lsct":o[D]={type:m.l(x,z)};if(Z>=12)o[D].Cz=m.dX(x,z+8,4);
break;case"lsdk":o.lsct={type:m.l(x,z)};break;case"lyvr":o[D]=m.l(x,z);break;case"lnsr":var b={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
o[D]=m.dX(x,z,4);break;case"lspf":o[D]=m.l(x,z);break;case"lclr":o[D]=m.FH(x,z);break;case"luni":o[D]=m.II(x,z);
break;case"fxrp":o[D]=new iL(m.gN(x,z),m.gN(x,z+8));break;case"artb":case"artd":o[D]={};gX.XZ(x,o[D],z+4);
break;case"SoCo":o[D]={};gX.XZ(x,o[D],z+4);break;case"GdFl":o[D]={};gX.XZ(x,o[D],z+4);ap.wq(o[D],D);
break;case"PtFl":o[D]={};gX.XZ(x,o[D],z+4);ap.wq(o[D],D);break;case"CgEd":var W=o.brit=h6.d6("brit"),c={};
gX.XZ(x,c,z+4);W.Brgh.v=c.Brgh?c.Brgh.v:0;W.Cntr.v=c.Cntr?c.Cntr.v:0;W.useLegacy.v=c.useLegacy?c.useLegacy.v:0;
break;case"brit":if(o.brit==null){var W=o.brit=h6.d6("brit"),c={};W.Brgh.v=m.Zl(x,z);W.Cntr.v=m.Zl(x,z+2);
W.useLegacy.v=!1}break;case"levl":var Y=x.buffer.slice(z,z+Z);o[D]=gy.l6(Y);break;case"curv":o[D]=e8.S6(x,z,Z);
break;case"expA":var R=m.FH(x,z),$=o[D]=h6.d6("expA");$.Exps.v=m.yw(x,z+2);$.Ofst.v=m.yw(x,z+6);$.gammaCorrection.v=m.yw(x,z+10);
break;case"vibA":o[D]={};gX.XZ(x,o[D],z+4);break;case"hue2":o[D]=cA.S6(x,z,Z);break;case"blnc":var $=o[D]=h6.d6(D);
$.PrsL.v=x[z+18]==1;var k=["ShdL","MdtL","HghL"];for(var F=0;F<3;F++)for(var w=0;w<3;w++)$[k[F]].v[w].v=m.Zl(x,z+F*6+w*2);
break;case"blwh":var V={};gX.XZ(x,V,z+4);var $=h6.d6(D),h="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var F=0;F<h.length;F++){$[h[F]]=V[h[F]];delete V[h[F]]}o[D]=$;break;case"phfl":var $=o[D]=h6.d6(D),l=$.Clr.v,R=m.FH(x,z);
if(R==3){var M=[m.l(x,z+2),m.l(x,z+6),m.l(x,z+10)],q=32768,t=f.aX(M[0]/q,M[1]/q,M[2]/q);l.Lmnc.v=t.KI;
l.A.v=t.xc;l.B.v=t.s}if(R==2){var p=m.FH(x,z+2);if(p!=7)throw"e";l.Lmnc.v=m.Zl(x,z+4)/100;l.A.v=m.Zl(x,z+6)/100;
l.B.v=m.Zl(x,z+8)/100}var E=z+2+(R==3?12:10);$.Dnst.v=m.l(x,E);E+=4;$.PrsL.v=x[E]==1;break;case"mixr":var _={sV:m.FH(x,z+2)==1,h:[]};
for(var F=0;F<20;F++)_.h.push(m.Zl(x,z+4+F*2));o[D]=ei.a9o(_);break;case"clrL":case"rplc":o[D]={};gX.XZ(x,o[D],z+6);
break;case"nvrt":o[D]={};break;case"post":o[D]=h6.d6("post");o[D].Lvls.v=m.FH(x,z);break;case"thrs":o[D]=h6.d6("thrs");
o[D].Lvl.v=m.FH(x,z);break;case"grdm":var S=z,y=x[z+2]==1,v=x[z+3]==1;S+=4;var r=m.II(x,S);S+=4+r.length*2;
var K=hD.PC(x,S,r),s=K[0];S=K[1];var P=m.FH(x,S);S+=2;var d=m.l(x,S);S+=4;var X=m.FH(x,S)==1;S+=2;var U=m.FH(x,S)==1;
S+=2;var n=m.l(x,S);S+=4;var e=m.FH(x,S);S+=2;var J=[],C=[];for(var F=0;F<4;F++){J.push({t:"long",v:~~(m.FH(x,S+F*2)*100/32768)});
C.push({t:"long",v:~~(m.FH(x,S+F*2+8)*100/32768)})}S+=16;var H=m.FH(x,S);S+=2;if(P==1)s={classID:"Grdn",Nm:{t:"TEXT",v:r},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:X},VctC:{t:"bool",v:U},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:d},Smth:{t:"long",v:n},Mnm:{t:"VlLs",v:J},Mxm:{t:"VlLs",v:C}};
var u=h6.d6("grdm");u.Rvrs.v=y;u.Grad.v=s;o[D]=u;break;case"selc":o[D]=cp.S6(x,z,Z);break;case"vmsk":case"vsms":var bc=o.vmsk=new g.tZ,jK=m.JR(x,z+4),N=(jK>>0&1)==1;
bc.GD=(jK>>1&1)==0;bc.isEnabled=(jK>>2&1)==0;bc._=dF.nk(x,z+8,Z-8,L.m,L.n);break;case"shmd":o[D]={};
var he=m.l(x,z),E=z+4;for(var F=0;F<he;F++){var B=m.dX(x,E,4);E+=4;var gJ=m.dX(x,E,4);E+=4;var kg=x[E];
E++;if(Math.max(x[E],x[E+1])!=0)throw"e";E+=3;var cJ=m.l(x,E);E+=4;if(gJ=="cust"||gJ=="cmls"||gJ=="extn"||gJ=="mlst"){var it=m.l(x,E);
if(it!=16)E+=4;if(m.l(x,E)==16){var V={};gX.XZ(x,V,E+4,!1);o[D][gJ]=V;if(gJ=="cmls")Q.kG.afs(o[D][gJ])}}else{console.log("unknown shmd key: "+gJ+", size: "+cJ)}E+=cJ}break;
case"shpa":var R=m.l(x,z),by=m.l(x,z+4);if(by!=0)console.log("some patterns present!");break;case"TySh":var cz=o[D]={},R=m.FH(x,z);
cz.D=m.t6(x,z+2);var fG=m.FH(x,z+2+48);cz.pn={};var ju=gX.XZ(x,cz.pn,z+56),gW=am.a8v();for(var iI in gW)if(cz.pn[iI]==null)cz.pn[iI]=gW[iI];
cz.rK={};var ht=gX.XZ(x,cz.rK,z+56+ju+6);cz.t0=m.a3M(x,z+56+ju+6+ht);cz.gP=ch.l6(cz.pn.EngineData.v);
am.a1O(cz.gP.EngineDict.StyleRun.RunArray);if(cz.gP.ResourceDict==null)cz.gP.ResourceDict=JSON.parse(JSON.stringify(cz.gP.DocumentResources));
delete cz.pn.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var et=m.l(x,z),be=m.l(x,z+4);o.lmfx={};
var ju=gX.XZ(x,o.lmfx,z+8);ap.dy(o.lmfx);break;case"FMsk":o[D]=m.xE(x,z,Z);break;case"Txt2":o[D]={};
o[D].raw=m.xE(x,z,Z);o[D].w8=gw.l6(o[D].raw);break;case"Patt":o[D]=aP.fM(x,z,Z);break;case"SoLd":var c9=m.dX(x,z,4),aJ=m.l(x,z+4),b6=m.l(x,z+8);
o[D]={};var ef=gX.XZ(x,o[D],z+12);if(o[D].nonAffineTransform==null)o[D].nonAffineTransform=JSON.parse(JSON.stringify(o[D].Trnf));
if(o[D].Impr==null)o[D].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var aJ=m.l(x,z);
o[D]={};var ef=gX.XZ(x,o[D],z+4);break;case"vscg":var gJ=m.dX(x,z,4),aJ=m.l(x,z+4);o[gJ]={};var ef=gX.XZ(x,o[gJ],z+8);
ap.wq(o[gJ],gJ);break;case"vogk":var jV=m.l(x,z),aJ=m.l(x,z+4);o[D]={};var ef=gX.XZ(x,o[D],z+8);o[D]=o[D].keyDescriptorList.v;
for(var F=0;F<o[D].length;F++){var hu=o[D][F].v;if(!f.i4.uH(hu))continue;if(hu.keyOriginBoxCorners==null){var eG=f.i4.$K(hu);
hu.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var k8=[eG[0],eG[1],eG[2],eG[1],eG[2],eG[3],eG[0],eG[3]];
if(hu.keyOriginType.v==4)k8=f.i4.U$(f.i4.PL(hu),hu.keyOriginLineWeight.v);f.i4.jX(hu,"keyOriginBoxCorners",k8)}}break;
case"lnk2":case"lnkD__":case"lnk3__":o[D]=[];var S=z;while(S<z+Z){var eE=new g.eC;o[D].push(eE);var jD=m.Kl(x,S);
S+=8;var a_=S;eE.type=m.dX(x,S,4);S+=4;if(eE.type!="liFD"){alert("Unknown Linked Layer type: "+eE.type);
break;throw eE.type}eE.TB=m.l(x,S);S+=4;var cH=m.Cq(x,S);S+=1+cH.oW.length;eE.mZ=cH.oW;eE.W7=m.Aq(x,S);
S+=4+eE.W7.length*2+2;eE.ks=m.dX(x,S,4);S+=4;eE.T9=m.dX(x,S,4);S+=4;var ic=m.Kl(x,S);S+=8;eE.open=x[S];
S+=1;if(eE.open!=0){var aj={},ju=gX.XZ(x,aj,S+4);if(ju%4!=0)ju+=4-ju%4;console.log(aj);S+=ju+4}eE.open=0;
eE.raw=m.xE(x,S,ic);S=a_+jD;if(jD%4!=0)S+=4-jD%4}break;case"FEid":var S=z;o[D]=[];var ay=S+Z,R=m.l(x,S);
S+=4;while(S<ay){S+=4;var jD=m.l(x,S);S+=4;var K={};o[D].push(K);K.id=m.Cq(x,S).oW;S+=K.id.length+1;
var R=m.l(x,S);S+=4;S+=4;var dS=m.l(x,S);S+=4;K.rect=m.$v(x,S);S+=16;var hC=m.l(x,S);S+=4;var eq=m.l(x,S);
S+=4;var ck=new f.mz(0);for(var F=0;F<eq+2;F++){var eL=m.l(x,S);S+=4;if(eL!=0){S+=4;var gj=m.l(x,S),bv=null;
S+=4;if(F<3||F==25)bv=cg.kD(!0,hC,x,K.rect.m,K.rect.n,S,gj);if(F==0)ck.w=bv;if(F==1)ck.a=bv;if(F==2)ck.s=bv;
if(F==25)ck.xc=bv;S+=gj}}K.buffer=f.C(K.rect.$()*4);f.Ve(ck,K.buffer);f.H9(K);var dK=x[S];S++;if(dK!=0){K.B=new g.$R;
K.B.rect=m.$v(x,S);S+=16;S+=4;var cC=m.l(x,S);S+=4;K.B.channel=cg.kD(!0,hC,x,K.B.rect.m,K.B.rect.n,S,cC);
K.B.color=255;K.B.wr();S+=cC}if(jD%4!=0)S+=4-jD%4}break;case"Lr16":g4.gu(L,x,z);break;case"Anno":o[D]=[];
var iv=z,dJ=z+4,by=m.l(x,dJ);dJ+=4;for(var F=0;F<by;F++){var jD=m.l(x,dJ);dJ+=4;var km=m.dX(x,dJ,4);
dJ+=4;if(km!="txtA")throw km;var aM=x[dJ++],fq=x[dJ++],dV=m.FH(x,dJ);dJ+=2;var im=m.$v(x,dJ);dJ+=16;
var hj=m.$v(x,dJ);dJ+=16;var l=hS.cK(x,dJ);dJ+=10;var d8=m.Cq(x,dJ);dJ+=d8.length;var cI=m.Cq(x,dJ);
dJ+=cI.length;var gD=m.Cq(x,dJ);dJ+=gD.length;var iw=m.l(x,dJ);dJ+=4;var e3=m.dX(x,dJ,4);dJ+=4;var c5=m.l(x,dJ);
dJ+=4;var eT=m.RY(x,dJ+2,c5-2>>1);dJ+=c5;o[D].push([im.x,im.y,l,d8.oW,eT])}break;default:break}var iO="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(iO.indexOf(D)==-1)if(Z%4!=0)console.log("size not multiple of 4!!!",D);if(D!="luni"&&D!="TySh"&&D!="tySh"&&D!="lfx2")if(Z%4!=0)Z+=4-Z%4;
z+=Z}var hW=[];for(var F=0;F<hW.length;F++)delete o[hW[F]];return z};ap.hY=function(x,z,A,o,i){for(var L in A)if(A[L]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+L+"\" tag was present with a null value.");delete A[L]}for(var L in A){var B=o&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(L)!=-1,Z=0;
m._h(x,z,B?"8B64":"8BIM");z+=4;var D=z;m._h(x,z,L);z+=4;m.ur(x,z,0);z+=B?8:4;switch(L){case"iOpa":m.UU(x,z,A[L],1);
Z=4;break;case"brst":Z=0;for(var F=0;F<3;F++)if(A[L][F]==0){m.HX(x,z+Z,F);Z+=4}break;case"knko":m.UU(x,z,A[L],1);
Z=4;break;case"infx":m.UU(x,z,A[L],1);Z=4;break;case"clbl":m.UU(x,z,A[L],1);Z=4;break;case"lmgm":m.UU(x,z,A[L],1);
Z=4;break;case"vmgm":m.UU(x,z,A[L],1);Z=4;break;case"fcmy":m.UU(x,z,A[L],1);Z=4;break;case"lyid":m.HX(x,z,A[L]);
Z=4;break;case"lsct":m.HX(x,z,A[L].type);Z=4;if(A[L].Cz){m._h(x,z+4,"8BIM");m._h(x,z+8,A[L].Cz);Z=12}break;
case"lyvr":m.HX(x,z,A[L]);Z=4;break;case"lnsr":m._h(x,z,A[L]);Z=4;break;case"lspf":m.HX(x,z,A[L]);Z=4;
break;case"lclr":m.MY(x,z,A[L]);Z=8;break;case"luni":m.jy(x,z,A[L]);Z=4+2*A[L].length;break;case"fxrp":m.$P(x,z,A[L].x);
m.$P(x,z+8,A[L].y);Z=16;break;case"artb":case"artd":m.HX(x,z,16);Z=gX.DN(x,A[L],z+4)+4;break;case"SoCo":m.HX(x,z,16);
Z=gX.DN(x,A[L],z+4)+4;break;case"GdFl":m.HX(x,z,16);Z=gX.DN(x,A[L],z+4)+4;break;case"PtFl":m.HX(x,z,16);
Z=gX.DN(x,A[L],z+4)+4;break;case"CgEd":var j={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},a=j,b=A[L];
a.Brgh.v=b.Brgh.v;a.Cntr.v=b.Cntr.v;a.useLegacy.v=b.useLegacy.v;m.HX(x,z,16);Z=gX.DN(x,j,z+4)+4;break;
case"brit":x.qQ(z,8);Z=8;break;case"levl":var W=new cc;Z=gy.aM(W,A[L]);m.iX(x,z,W.data);break;case"curv":Z=e8.g3(x,z,A[L]);
break;case"expA":Z=14;x.qQ(z,14);m.uI(x.data,z,1);m.hf(x.data,z+2,A[L].Exps?A[L].Exps.v:0);m.hf(x.data,z+6,A[L].Ofst?A[L].Ofst.v:0);
m.hf(x.data,z+10,A[L].gammaCorrection?A[L].gammaCorrection.v:1);break;case"vibA":m.HX(x,z,16);Z=gX.DN(x,A[L],z+4)+4;
break;case"hue2":Z=cA.g3(x,z,A[L]);break;case"blnc":Z=19;x.qQ(z,Z);var c=["ShdL","MdtL","HghL"];for(var F=0;
F<3;F++){var Y=A[L][c[F]].v;for(var R=0;R<3;R++)Y.push(m.dd(x.data,z+F*6+R*2,Y[R].v))}x.data[z+18]=A[L].PrsL.v?1:0;
break;case"blwh":var j={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},$="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var F=0;F<$.length;F++){j[$[F]]=A[L][$[F]]}m.HX(x,z,16);Z=gX.DN(x,j,z+4)+4;break;case"phfl":m.MY(x,z,2);
var k=A[L].Clr.v;m.MY(x,z+2,7);m.MY(x,z+4,Math.round(k.Lmnc.v*100));m.MY(x,z+6,Math.round(k.A.v*100));
m.MY(x,z+8,Math.round(k.B.v*100));m.MY(x,z+10,0);var w=z+2+10;x.qQ(w,5);m.bw(x.data,w,A[L].Dnst.v);w+=4;
x.data[w]=A[L].PrsL.v?1:0;w++;Z=w-z;break;case"mixr":Z=44;x.qQ(z,Z);var V=ei.cQ(A[L]);m.uI(x.data,z,1);
m.uI(x.data,z+2,V.sV?1:0);for(var F=0;F<20;F++)m.dd(x.data,z+4+F*2,V.h[F]);break;case"clrL":case"rplc":m.MY(x,z,1);
m.HX(x,z+2,16);Z=gX.DN(x,A[L],z+6)+6;break;case"nvrt":Z=0;break;case"post":m.MY(x,z,A[L].Lvls.v);Z=2;
break;case"thrs":m.MY(x,z,A[L].Lvl.v);Z=2;break;case"grdm":var h=A[L].Rvrs?A[L].Rvrs.v:!1,l=!1,M=867527939,q=!1,t=!1,p=2048,E=[0,0,0,0],_=[32768,32768,32768,32768],S=A[L].Grad.v,y,v,r=S.Clrs==null?1:0;
if(r==0){y=S;v=JSON.parse(gN.VQ.a3Z).v}else{y=h6.d6("grdm").Grad.v;v=S}x.qQ(z,4);m.uI(x.data,z,1);x.data[z+2]=h?1:0;
x.data[z+3]=l?1:0;var K=z+4;m.jy(x,K,S.Nm.v);K+=4+S.Nm.v.length*2;K=hD.a1c(x,K,y);m.MY(x,K,r);K+=2;m.HX(x,K,v.RndS.v);
K+=4;m.MY(x,K,v.ShTr.v?1:0);K+=2;m.MY(x,K,v.VctC.v?1:0);K+=2;m.HX(x,K,v.Smth.v);K+=4;m.MY(x,K,3);K+=2;
for(var F=0;F<4;F++)m.MY(x,K+F*2,E[F]);K+=8;for(var F=0;F<4;F++)m.MY(x,K+F*2,_[F]);K+=8;K+=2;Z=K-z;break;
case"selc":Z=cp.g3(x,z,A[L]);break;case"FMsk":m.iX(x,z,A[L]);Z=A[L].length;break;case"Txt2":var s=new cc,P=gw.Im(A[L].w8,s),d=f.C(P,!0);
for(var F=0;F<P;F++)d[F]=s.data[F];m.iX(x,z,d);Z=d.length;break;case"vmsk":var X=A[L],U=0;m.HX(x,z,3);
if(!X.GD)U+=1<<1;if(!X.isEnabled)U+=1<<2;m.HX(x,z+4,U);Z=8;var n=X._.length;x.qQ(z+8,n*26);dF.eN(x.data,z+8,X._,i.m,i.n);
Z+=n*26;break;case"shmd":m.HX(x,z,Object.keys(A[L]).length);var w=z+4;for(var e in A[L]){m._h(x,w,"8BIM");
w+=4;m._h(x,w,e);w+=4;m.HX(x,w,0);w+=4;m.HX(x,w,0);w+=4;m.HX(x,w,16);w+=4;var J=gX.DN(x,A[L][e],w);if(J%4!=0)J+=4-J%4;
m.HX(x,w-8,J+4);w+=J}Z=w-z;break;case"TySh":var w=z;m.XM(x,w,1);w+=2;var C=A[L],s=new cc;C.gP.DocumentResources=JSON.parse(JSON.stringify(C.gP.ResourceDict));
var P=ch.Im(C.gP,s),d=f.C(P,!0);for(var F=0;F<P;F++)d[F]=s.data[F];C.pn.EngineData={t:"tdta",v:d};var H=C.gP.EngineDict.Editor.Text;
C.pn.Txt.v=H.substring(0,H.length-1);m.aaX(x,w,C.D);w+=48;m.XM(x,w,50);w+=2;m.HX(x,w,16);w+=4;w+=gX.DN(x,C.pn,w);
m.XM(x,w,1);w+=2;m.HX(x,w,16);w+=4;w+=gX.DN(x,C.rK,w);m.ajg(x,w,C.t0);w+=16;Z=w-z;break;case"lmfx":m.HX(x,z,0);
m.HX(x,z+4,16);var j=JSON.parse(JSON.stringify(A[L])),u=!1;ap.HG(j);for(var F=0;F<gN.OX.length;F++)if(j[gN.OX[F]]!=null)u=!0;
m._h(x,D,u?"lmfx":"lfx2");Z=gX.DN(x,j,z+8)+8;break;case"Patt":var w=aP.rX(x,z,A[L]);Z=w-z;break;case"SoLd":m._h(x,z,"soLD");
m.HX(x,z+4,4);m.HX(x,z+8,16);Z=gX.DN(x,A[L],z+12)+12;break;case"vstk":case"pths":m.HX(x,z,16);Z=gX.DN(x,A[L],z+4)+4;
break;case"vscg__":m._h(x,z,A[L].key);m.HX(x,z+4,16);Z=gX.DN(x,A[L].h,z+8)+8;break;case"vogk":m.HX(x,z,1);
m.HX(x,z+4,16);f.i4.ajE(A[L]);for(var F=0;F<A[L].length;F++){var bc=A[L][F].v.keyOriginResolution;if(bc)bc.v=i.um}var jK={classID:"null",keyDescriptorList:{t:"VlLs",v:A[L]}};
Z=gX.DN(x,jK,z+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var K=z;for(var F=0;F<A[L].length;F++){var N=A[L][F],he=K;
m.L1(x,K,0);K+=8;m._h(x,K,N.type);K+=4;m.HX(x,K,N.TB);K+=4;x.qQ(K,1);x.data[K]=N.mZ.length;K++;m._h(x,K,N.mZ);
K+=N.mZ.length;m.jy(x,K,N.W7+"\0");K+=4+N.W7.length*2+2;m._h(x,K,N.ks);K+=4;m._h(x,K,N.T9);K+=4;m.L1(x,K,N.raw.length);
K+=8;x.qQ(K,1);x.data[K]=N.open;K++;m.iX(x,K,N.raw);K+=N.raw.length;m.HX(x,K,1);K+=4;K+=11;var gJ=K-he-8;
m.L1(x,he,gJ);if(gJ%4!=0){x.qQ(K,4-gJ%4);K+=4-gJ%4}}Z=K-z;break;case"FEid":var K=z;m.HX(x,K,3);K+=4;
for(var kg=0;kg<A[L].length;kg++){var cJ=A[L][kg];K+=4;var it=K;K+=4;m.Zg(x,K,cJ.id);K+=cJ.id.length+1;
m.HX(x,K,1);K+=4;var by=f.C(cJ.rect.$()),cz=cJ.rect,fG=f.C(cz.$());K+=4;var ju=K;K+=4;m.aI(x,K,cz);K+=16;
m.HX(x,K,8);K+=4;m.HX(x,K,24);K+=4;for(var F=0;F<24+2;F++){var gW=-1;if(F==0)gW=0;if(F==1)gW=1;if(F==2)gW=2;
if(F==25)gW=3;m.HX(x,K,gW!=-1?1:0);K+=4;if(gW!=-1){f.XN(cJ.buffer,by,gW);f.K5(by,cJ.rect,fG,cz);K+=4;
var iI=K;K+=4;x.qQ(K,cz.$()+2);K=cg.JB(!0,fG,x.data,cz.m,cz.n,K,3);m.HX(x,iI,K-(iI+4))}}m.HX(x,ju,K-(ju+4));
x.qQ(K,1);x.data[K]=cJ.B?1:0;K++;if(cJ.B!=null){var ht=cz,et=f.C(ht.$());et.fill(cJ.B.color);f.K5(cJ.B.channel,cJ.B.rect,et,ht);
m.aI(x,K,ht);K+=16;K+=4;var be=K;K+=4;x.qQ(K,ht.$()+2);K=cg.JB(!0,et,x.data,ht.m,ht.n,K,3);m.HX(x,be,K-(be+4))}var gJ=K-(it+4);
m.HX(x,it,gJ);if(gJ%4!=0)K+=4-gJ%4}Z=K-z;break;case"Anno":var c9=z,aJ=A[L].length;m.MY(x,c9,2);m.MY(x,c9+2,1);
c9+=4;m.HX(x,c9,aJ);c9+=4;for(var F=0;F<aJ;F++){var b6=A[L][F],ef=b6[0],jV=b6[1],hu=c9;c9+=4;m._h(x,c9,"txtA");
c9+=4;x.qQ(c9,2);x.data[c9]=1;x.data[c9+1]=28;c9+=2;m.MY(x,c9,1);c9+=2;m.aI(x,c9,new av(ef,jV,17,21));
c9+=16;m.aI(x,c9,new av(ef+8,jV+10,241,141));c9+=16;x.qQ(c9,10);hS.Gk(x.data,c9,b6[2]);c9+=10;c9+=m.Zg(x,c9,b6[3]);
c9+=m.Zg(x,c9,"");c9+=m.Zg(x,c9,"D:20211012120233+01'00'");var eG=b6[4].length*2;m.HX(x,c9,12+2+eG);
c9+=4;m._h(x,c9,"txtC");c9+=4;m.HX(x,c9,2+eG);c9+=4;x.qQ(c9,2);x.data[c9]=254;x.data[c9+1]=255;c9+=2;
m.aa6(x,c9,b6[4]);c9+=eG;m.HX(x,hu,c9-hu)}Z=c9-z;break;default:console.log("unknown layer tag: "+L+", size: "+Z);
z-=12;continue}var k8=["Txt2","artd","extd","pths"];if(k8.indexOf(L)==-1)if(Z%4!=0)Z+=4-Z%4;if(B)m.L1(x,z-8,Z);
else m.HX(x,z-4,Z);if(L!="luni"&&L!="TySh")if(Z%4!=0)Z+=4-Z%4;z+=Z}return z};ap.dy=function(x){for(var F=0;
F<gN.order.length;F++){var z=gN.order[F],A=gN.OX[F];if(x[A]==null)x[A]={t:"VlLs",v:[]};if(x[z]!=null){x[A].v.push(x[z]);
delete x[z]}var o=[];for(var i=0;i<x[A].v.length;i++){var L=x[A].v[i];if(L.v.present==null||L.v.present.v==!0)o.push(L)}x[A].v=o}};
ap.HG=function(x){for(var F=0;F<gN.order.length;F++){var z=gN.order[F],A=gN.OX[F],o=x[A].v.length;if(o==0){delete x[A];
continue}if(o==1){x[z]=x[A].v[0];delete x[A];continue}}};ap.wq=function(x,z){if(z=="GdFl"){if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(x.Algn==null)x.Algn={v:!0,t:"bool"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(x.Ofst==null)x.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(x.Rvrs==null)x.Rvrs={v:!1,t:"bool"};if(x.Dthr==null)x.Dthr={v:!1,t:"bool"}}if(z=="PtFl"){if(x.Algn==null)x.Algn={v:!0,t:"bool"};
if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(x.phase==null)x.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};ap.clone=function(x,z){var A={};
if(x=="TySh"){A.D=z.D.clone();A.pn=JSON.parse(JSON.stringify(z.pn));A.rK=JSON.parse(JSON.stringify(z.rK));
A.t0=z.t0.clone();A.gP=JSON.parse(JSON.stringify(z.gP));if(z.add)A.add={vmsk:z.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(z.add.vogk))};
return A}else if(x=="fxrp")return z.clone();else if(x=="vmsk")return z.clone();else return JSON.parse(JSON.stringify(z))};
function h$(x,z){}h$.l6=function(x,z,A,o){o=h$.aga(x,z,A,o);return o};h$.Im=function(x,z,A,o,i){o=h$.a3O(x,z,A,o,i);
return o};h$.aga=function(x,z,A,o){var i=o;x.rect=m.$v(A,o);o+=16;var L=m.FH(A,o);o+=2;x.tV=[];var B=z.qu;
for(var F=0;F<L;F++){x.tV[F]={id:m.Zl(A,o),length:(B?m.Kl:m.l)(A,o+2)};o+=B?10:6}var D=m.dX(A,o,4);o+=4;
if(D!="8BIM"){console.log("Invalid Blend mode signature: "+D);alert("Error in Photoshop file: wrong signature.");
throw"e"}x.Cz=m.dX(A,o,4);o+=4;x.opacity=A[o];o+=1;x.fG=A[o]==1;o+=1;x.Fu=A[o];o+=1;if(A[o]!=0)console.log("error in filler!");
o+=1;var Z=m.l(A,o);o+=4;var j=o;o=h$.ap2(x,A,o);o=h$.awt(x,A,o);var a=m.Cq(A,o);x.name=a.oW;o+=a.length;
if(a.length%4!=0)o+=4-a.length%4;o=ap.py(A,o,j+Z,x.add,B,z);if(x.add.lsct){if(x.add.lsct.Cz)x.Cz=x.add.lsct.Cz;
x.add.lsct=x.add.lsct.type}return o};h$.a3O=function(x,z,A,o,i){var L=o;m.aI(A,o,x.rect);o+=16;var B=x.avW();
m.MY(A,o,B.length);o+=2;var D=z.qu;i.push(o);for(var F=0;F<B.length;F++){m.XM(A,o,B[F]);if(D)m.L1(A,o+2,0);
else m.HX(A,o+2,0);o+=D?10:6}m._h(A,o,"8BIM");o+=4;m._h(A,o,x.Cz);o+=4;m.UU(A,o,x.opacity,1);o+=1;m.UU(A,o,x.fG?1:0,1);
o+=1;m.UU(A,o,x.Fu,1);o+=1;m.UU(A,o,0,1);o+=1;var Z=o;m.HX(A,o,0);o+=4;var j=o;o=h$.a8U(x,A,o);o=h$.a07(x,A,o);
var a=m.Zg(A,o,x.name.slice(0,255));o+=a;if(a%4!=0)o+=4-a%4;if(x.add.lsct){x.add.lsct={type:x.add.lsct};
if(x.Cz=="pass"){x.add.lsct.Cz="pass";x.Cz="norm"}}if(x.Cz=="pass")x.add.lsct={type:x.add.lsct,Cz:"pass"};
if(x.add.brit)x.add.CgEd=x.add.brit;o=ap.hY(A,o,x.add,D,z);delete x.add.CgEd;if(x.add.lsct){if(x.add.lsct.Cz)x.Cz=x.add.lsct.Cz;
x.add.lsct=x.add.lsct.type}var b=o-j;m.HX(A,Z,b);return o};h$.ap2=function(x,z,A){var o=m.l(z,A);A+=4;
if(o==0)return A;var i=A;x.B=new g.$R;x.B.rect=m.$v(z,A);A+=16;x.B.color=z[A];A+=1;var L=h$.Mn(x.B,z,A);
A+=1;if(L){var B=!1,D=255,Z=0,j=255,a=0;for(var F=0;F<x.tV.length;F++)if(x.tV[F].id==-3)B=!0;if(B){x.w0=h$.Fo(z,A);
A+=18}var b=A,W=z[A];A++;if(W>>0&1){D=z[A];A++}if(W>>1&1){Z=m.gN(z,A);A+=8}if(W>>2&1){j=z[A];A++}if(W>>3&1){a=m.gN(z,A);
A+=8}if((A-b&1)==1)A++;x.MP=[D,Z,j,a]}else{if(o==20)A+=2;else{x.w0=h$.Fo(z,A);A+=18}}return i+o};h$.a8U=function(x,z,A){m.HX(z,A,0);
A+=4;if(x.B==null)return A;var o=x.dP(),i=x.add.vmsk,L=A,B=!0;m.HX(z,A,0);m.aI(z,A,x.B.rect);A+=16;m.UU(z,A,x.B.color);
A+=1;h$.LM(x.B,z,A,B);A+=1;if(B){if(x.w0){h$.als(z,A,x.w0);A+=18}m.UU(z,A,15);A+=1;m.UU(z,A,o?o.Op:255);
A+=1;m.$P(z,A,o?o.Jc:0);A+=8;m.UU(z,A,i?i.Op:255);A+=1;m.$P(z,A,i?i.Jc:0);A+=8;A++}m.HX(z,L-4,A-L);return A};
h$.Fo=function(x,z){var A=new g.$R;h$.Mn(A,x,z);z+=1;A.color=x[z];z+=1;A.rect=m.$v(x,z);z+=16;return A};
h$.als=function(x,z,A){h$.LM(A,x,z,!1);z+=1;m.UU(x,z,A.color);z+=1;m.aI(x,z,A.rect);z+=16};h$.Mn=function(x,z,A){var o=z[A];
x.GD=(o>>0&1)==0;x.isEnabled=(o>>1&1)==0;x.JL=(o>>3&1)==1;return o>>4&1};h$.LM=function(x,z,A,o){var i=0;
if(!x.GD)i+=1<<0;if(!x.isEnabled)i+=1<<1;if(x.JL)i+=1<<3;if(o)i+=1<<4;m.UU(z,A,i)};h$.awt=function(x,z,A){var o=m.l(z,A);
A+=4;for(var F=0;F<o;F++)x.A4[F]=z[A+F];return A+o};h$.a07=function(x,z,A){m.HX(z,A,x.A4.length);A+=4;
z.qQ(A,40);for(var F=0;F<40;F++){z.data[A+F]=x.A4[F]}return A+40};function cg(){}cg.l6=function(x,z,A,o){o=cg.a9D(z,z.qu,z.zw,z.lh,x,A,o);
return o};cg.aM=function(x,z,A,o,i,L){o=cg.aao(x,z,A,o,i,L);return o};cg.a9D=function(x,z,A,o,i,L,B){var D=i.tV,Z={},j=B;
for(var F=0;F<D.length;F++){var a=D[F],b=a.id,W=a.length,c;if(b==-3)c=i.w0.rect;else if(b==-2)c=i.B.rect;
else c=i.rect;var Y=cg.kD(z,A,L,c.m,c.n,B,W);B+=W;if(b==-3)i.w0.channel=Y;else if(b==-2)i.B.channel=Y;
else Z["c"+b]=Y}var R=new f.mz(0);R.xc=null;if(o==3){R.w=Z.c0;R.a=Z.c1;R.s=Z.c2;R.xc=Z["c-1"]}else if(o==1){R.w=Z.c0;
R.a=Z.c0;R.s=Z.c0;R.xc=Z["c-1"]}else if(o==4){var $=x.d3.r1039,k=Z.c0,w=Z.c1,V=Z.c2,h=Z.c3;if($){var l=$._P,M=17;
if(l==null){var q=ICC.R($.buffer);console.log(q);l=$._P=ICC.U.sampleLUT(q,M)}var t={w:k,a:w,s:V,xc:h},p=f.C(k.length*4);
f.Ve(t,p);f.Qs(p);ICC.U.applyLUT4(l,M,p,p);f.hC(p,t)}else{for(var F=0;F<k.length;F++){var E=1-k[F]*(1/255),_=1-w[F]*(1/255),S=1-V[F]*(1/255),y=1-h[F]*(1/255),v=UDOC.C.cmykToRgb([E,_,S,y]);
k[F]=v[0]*255;w[F]=v[1]*255;V[F]=v[2]*255}}R.w=k;R.a=w;R.s=V;R.xc=Z["c-1"]}if(R.w==null)R.w=f.C(0);if(R.xc==null&&R.w!=null){R.xc=R.w.slice(0);
R.xc.fill(255)}if(R.a==null)R.a=R.w.slice(0);if(R.s==null)R.s=R.w.slice(0);i.buffer=f.C(Math.max(0,i.rect.$()*4));
f.Ve(R,i.buffer);return B};cg.aao=function(x,z,A,o,i,L){var B=z.avW(),D=new f.mz(z.rect.$());f.hC(z.buffer,D);
for(var F=0;F<B.length;F++){var Z=B[F],j,a;if(Z==-3)j=z.w0.rect;else if(Z==-2)j=z.B.rect;else j=z.rect;
if(Z==-3)a=z.w0.channel;if(Z==-2)a=z.B.channel;if(Z==-1)a=D.xc;if(Z==0)a=D.w;if(Z==1)a=D.a;if(Z==2)a=D.s;
A.qQ(o,j.$()*3+4);var b=o;o=cg.JB(x,a,A.data,j.m,j.n,o,L[1]?3:1);var W=o-b;if(x)m.T6(A.data,i+F*10+2,W);
else m.bw(A.data,i+F*6+2,W)}return o};cg.kD=function(x,z,A,o,i,L,B){var D=m.FH(A,L);L+=2;return cg.JU(x,z,A,o,i,L,D,B-2)};
cg.JB=function(x,z,A,o,i,L,B){m.dd(A,L,B);L+=2;L=cg.WB(x,z,A,o,i,L,B);return L};cg.JU=function(x,z,A,o,i,L,B,D){var Z,j=o*i*(z>>>3),a=j&3,b=j+(a==0?0:4-a);
if(D<=0){return f.C(b)}if(B>3){console.log("unknown compression: "+B,o,i,o*i,D);B=0}if(B==0){if(L+b<=A.length)Z=A.slice(L,L+b);
else{Z=f.C(j);for(var F=0;F<j;F++)Z[F]=A[L+F]}L+=j}else if(B==1){Z=f.C(j);var W=x?4:2,c=cg.SL(A,Z,o,i,L,L+W*i,W);
L+=W*i+c}else if(B==2||B==3){var Y=new Uint8Array(A.buffer,L+2,D-6),R=f.C(b);UZIP.inflateRaw(Y,R);if(B==3){if(z==8)for(var $=0;
$<i;$++){var k=$*o+1,w=k+o-1,V=R[k-1];for(var h=k;h<w;h++){V+=R[h];R[h]=V&255}}else for(var $=0;$<i;
$++){var k=$*o+1,w=k+o-1,V=R[2*k-2]<<8|R[2*k-1];for(var h=k;h<w;h++){var l=h<<1;V+=R[l]<<8|R[l+1];R[l]=V>>>8;
R[l+1]=V&255}}}if(R.length==b)Z=R;else{Z=f.C(b);for(var F=0;F<R.length;F++)Z[F]=R[F]}}if(z==16){var M=f.C(o*i);
for(var F=0;F<j;F+=2)M[F>>>1]=Z[F];Z=M}return Z};cg.WB=function(x,z,A,o,i,L,B){var D=o*i;if(B==0)for(var F=0;
F<D;F++)A[L++]=z[F];else if(B==1){var Z=x?4:2,j=cg.zt(z,A,o,i,L,L+Z*i,Z);L+=Z*i+j}else if(B==2||B==3){if(B==3){var a=new Uint8Array(z.length);
for(var b=0;b<i;b++){var W=b*o+1,c=W+o-1,Y=z[W-1];a[W-1]=Y;for(var R=W;R<c;R++){a[R]=z[R]+(256-Y)&255;
Y=z[R]}}z=a}A[L]=120;A[L+1]=156;L+=2;var $=pako.deflateRaw(z,{a4y:4});m.X2(A,L,$);L+=$.length+4}else console.log("Unknown compression: "+B);
return L};cg.SL=function(x,z,A,o,i,L,B){if(!(x instanceof Uint8Array)||!(z instanceof Uint8Array))throw"e";
var D=L,Z=o|0;if(B==2)for(var F=0;F<Z;F++){var j=m.FH(x,i+(F<<1));cg.NS(x,L,j,z,F*A,A);L+=j}else for(var F=0;
F<Z;F++){var j=m.l(x,i+(F<<2));cg.NS(x,L,j,z,F*A,A);L+=j}return L-D};cg.zt=function(x,z,A,o,i,L,B){var D=L;
if(B==2)for(var F=0;F<o;F++){var Z=cg.XW(x,F*A,A,z,L);m.uI(z,i+F*2,Z);L+=Z}else for(var F=0;F<o;F++){var Z=cg.XW(x,F*A,A,z,L);
m.bw(z,i+F*4,Z);L+=Z}return L-D};cg.XW=function(x,z,f5,A,o){var i,L,B,D,Z,iW,j;D=z+f5;for(B=z,L=o;f5>0;
B=i,f5-=iW){j=f5<128?f5:128;if(B<=D-3&&x[B+1]==x[B+0]&&x[B+2]==x[B+0]){for(i=B+3;i<B+j&&x[i]==x[B+0];
)++i;iW=i-B;A[L++]=1+256-iW;A[L++]=x[B+0]}else{for(i=B;i<B+j;)if(i<=D-3&&x[i+1]==x[i+0]&&x[i+2]==x[i+0])break;
else++i;iW=i-B;A[L++]=iW-1;for(var F=0;F<iW;F++)A[L+F]=x[B+F];L+=iW}}return L-o};cg.NS=function(x,z,A,o,i,L){for(var B=0;
B<A;){var f5=x[z++];if(f5>=128){var D=x[z++],Z=i+(257-f5);o.fill(D,i,Z);i=Z;B+=2}else{for(var F=0;F<=f5;
F++)o[i+F]=x[z+F];z+=f5+1;i+=f5+1;B+=1+1+f5}}};function g4(){}g4.Cw=function(x,z,A){return;var o="",i=z;
while(i!=0){var L=i%1e3+"";while(L.length<3)L="0"+L;o=(o==""?L:L+" ")+o;i=Math.floor(i/1e3)}while(o.startsWith("0")&&o!="0")o=o.slice(1);
while(o.length<11)o=" "+o;console.log("===",o,"\t".repeat(x),": "+A)};g4.l6=function(x,z){z.qu=!1;z.zw=8;
var A=new Uint8Array(x),o=0,i=0,J,hu=!1,eG=!0,k8=!1,eE=0,ib=0;i=g4.hR(z,A,o);g4.Cw(0,i-o,"PSD Header");
o=i;i=g4.a4p(z,A,o);g4.Cw(0,i-o,"Color Mode Data");o=i;i=g4.anH(z,A,o);g4.Cw(0,i-o,"Image Resources");
o=i;i=g4.awN(z,A,o);g4.Cw(0,i-o,"Layer And Mask Info");o=i;i=g4.alE(z,A,o);g4.Cw(0,i-o,"Merged Image");
o=i;if(z.g.length==0){var L=z.Ad();L.rk("Background");z.g.push(L);L.buffer=z.buffer.slice(0);L.rect=new av(0,0,z.m,z.n)}if(z.d3.r1005){z.um=m.a5n(z.d3.r1005,0)}if(z.d3.r1026){var A=z.d3.r1026;
for(var F=0;F<A.length;F+=2){var i=z.g[F>>>1];if(i)i.en=m.FH(A,F)}}if(z.d3.r1072){var A=z.d3.r1072;for(var F=0;
F<A.length;F++){var i=z.g[F];if(i)i.xw=A[F]==1}}if(z.d3.r1032){var A=z.d3.r1032,B=m.l(A,12);for(var F=0;
F<B;F++){var D=A[16+F*5+4],Z=m.JR(A,16+F*5)/32;z.sf.push([D,Z])}}delete z.d3.r1036;z.nN(z.d3.r1039);
if(z.d3.r1050){var j=m.l,a=z.d3.r1050,b=m.l(a,0);if(b==6){var W=4,c=m.$v(a,W);W+=16;var Y=m.II(a,W);
W+=4+Y.length*2;var R=j(a,W);W+=4;var $=z.TY;for(var F=0;F<R;F++){var k=Q.wV.iu(),V;$.push(k);k=k.v;
k.sliceID.v=j(a,W);W+=4;k.groupID.v=j(a,W);W+=4;var w=j(a,W);W+=4;if(w==1){V=j(a,W);W+=4}var Y=m.II(a,W);
W+=4+Y.length*2;var h=j(a,W);W+=4;var l=[j(a,W),j(a,W+4),j(a,W+8),j(a,W+12)];W+=16;Q.wV.LH($,$.length-1,l);
var M=k.url.v=m.II(a,W);W+=4+M.length*2;var q=k.null.v=m.II(a,W);W+=4+q.length*2;var t=k.Msge.v=m.II(a,W);
W+=4+t.length*2;var p=k.altTag.v=m.II(a,W);W+=4+p.length*2;k.cellTextIsHTML.v=a[W]==1;W++;var E=k.cellText.v=m.II(a,W);
W+=4+E.length*2;var _=j(a,W);W+=4;var S=j(a,W);W+=4;var y=a.slice(W,W+4);W+=4;if(w!=2)$.pop()}}else if(b==8){var v={};
gX.XZ(a,v,8,!1);var a=z.TY=v.slices.v;for(var F=0;F<a.length;F++){if(a[F].v.origin.v.ESliceOrigin!="userGenerated"){a.splice(F,1);
F--}}}}if(z.d3.r1058){var r=z.d3.r1058,K=UTIF.decode(r.buffer,{parseMN:!1,debug:!1});gT.nf(K[0],z._T);
delete z.d3.r1058}if(z.d3.r1060){var s=m._X(z.d3.r1060);gT.aj1(s,z._T);delete z.d3.r1060}if(z.d3.r1065){var A=z.d3.r1065;
z.$C={};gX.XZ(A,z.$C,4,!1)}if(z.d3.r1069){var A=z.d3.r1069,P=[];for(var F=2;F<A.length;F+=4){var V=m.l(A,F);
for(var d=0;d<z.g.length;d++){var i=z.g[d];if(i.add.lyid==V&&i.add.lsct!=3)P.push(d)}}z.f=P}if(z.d3.r1025){var X=z.d3.r1025;
delete z.d3.r1025;var U=dF.nk(X,0,X.length,z.m,z.n),n=new g.tZ;n._=U;z.Ds[0]=ew.HA("Working Path",{vmsk:n})}var e=z.add.pths;
delete z.add.pths;var C=z.d3.r3000;if(C){J={};gX.XZ(C,J,4,!1);delete z.d3.r3000}for(var H=0;H<=997;H++){var u="r"+(2e3+H),X=z.d3[u];
if(X==null)break;var U=dF.nk(X,0,X.length,z.m,z.n),bc=e?e.pathList.v[H].v.pathUnicodeName.v:"Path "+H,jK=J?J.keyRootDescriptorList.v[H].v.keyDescriptorList.v:g.Az(U),n=new g.tZ;
n._=U;z.Ds[H+1]=ew.HA(bc,{vmsk:n,vogk:jK});delete z.d3[u]}delete z.qu;var N=z.d3.r7000,he=z.d3.r7001;
if(N){var gJ="varName trait docRef placementMethod align valign clip".split(" "),kg=m._X(N),cJ=new DOMParser,it=cJ.parseFromString(kg,"text/xml").firstChild.children[0],by=it.getElementsByTagName("variables")[0].children,cz=z.cC=[];
for(var d=0;d<by.length;d++){var fG=by[d],ju={};cz.push(ju);for(var gW=0;gW<gJ.length;gW++){var iI=gJ[gW],ht=fG.getAttribute(iI);
if(ht==null)continue;ju[iI]=ht}}}if(he){var kg=m._X(he),cJ=new DOMParser,et=cJ.parseFromString(kg,"text/xml").firstChild.children,be=z.Gd=[[]];
for(var F=0;F<et.length;F++){var c9=et[F],aJ=[];be.push(aJ);for(var d=0;d<c9.children.length;d++){var ht=c9.children[d];
if(F==0)be[0].push(ht.tagName);aJ.push(ht.textContent)}}}delete z.d3.r7000;delete z.d3.r7001;var b6=new av(0,0,z.m,z.n),ef=z.add.Txt2,jV=ef;
if(jV){jV=jV.w8;if(jV._DocumentResources==null)jV=c3.ans(jV)}for(var F=0;F<z.g.length;F++){var i=z.g[F],jD=i.add.lsct,a_=i.add.vmsk,cH=i.dP();
if(jD==hF.ju){eE++;i.add.lspf=0}else if(jD==hF.X7||jD==hF.$Z)eE--;if(i.name==""){i.name="Layer "+(F+1);
k8=!0}if(k8&&i.Q0()&&i.Cz=="norm")i.Cz="pass";if(i.Mi()&&i.zg(z).B){var ic=i.zg(z);ic.B.isEnabled=i.add.SoLd.filterFX.v.filterMaskEnable.v}if(a_&&i.d8()){var aj=gN.J9.default;
if(i.add.vstk==null)i.add.vstk=JSON.parse(JSON.stringify(aj));else{var ay="strokeStyleLineDashSet";if(i.add.vstk[ay]==null)i.add.vstk[ay]=JSON.parse(JSON.stringify(aj[ay]))}i.add.vstk.strokeStyleResolution.v=z.um}if(a_&&(i.add.vogk==null||f.J.T1(a_._)!=i.add.vogk.length))i.Az();
if(i.add.SoLd&&i.rect.WT()){console.log("redrawing smart instance");i._6(z)}if(cH==null&&i.B!=null){if(i.B.JL==!1){i.B.JL=!0;
i.w0=i.B.clone()}}cH=i.dP();if(i.MP){var aj=i.MP,n=a_;if(cH){cH.Op=aj[0];cH.Jc=aj[1]}if(n){n.Op=aj[2];
n.Jc=aj[3]}i.MP=null}if(cH!=null&&a_!=null&&(cH.Jc+a_.Jc!=0||cH.Op+a_.Op!=2*255))i.cm(z);else if(a_!=null&&!i.d8())i.cm();
else if(cH&&cH.Op!=255&&i.d8())i.cm(z);var dS=i.add.artb;if(dS&&dS.artboardBackgroundType==null)dS.artboardBackgroundType={t:"long",v:1};
if(dS&&eE!=0)delete i.add.artb;var hC=i.add.vstk;if(i.d8()&&(i.rect.WT()||a_&&a_.Jc!=0||hC&&!hC.fillEnabled.v&&(!hC.strokeEnabled.v||hC.strokeStyleLineWidth.v.val==0)))i.lU(z);
if(i.add.TySh){hu=!0;if(!i.rect.WT())eG=!1}if(i.add.TySh&&jV){var eq=i.add.TySh.pn.TextIndex.v;if(eq==-1)continue;
var ck=i.add.TySh.gP,eL=am.iA(ck),gj=jV._DocumentObjects._TextObjects;if(gj.length<=eq){console.log("Txt2 incomplete");
continue}var bv=gj[eq]._Model,dK=bv._StyleRun?bv._StyleRun._RunArray:[],cC=ck.EngineDict.StyleRun.RunArray;
for(var iv=0;iv<cC.length;iv++){var dJ=cC[iv].StyleSheet.StyleSheetData;if(dK[iv]==null)continue;var km=dK[iv]._RunData._StyleSheet._Features;
if(km&&km._BaselineDirection)dJ.BaselineDirection=parseInt(km._BaselineDirection.slice(1));if(km&&km._FillBackgroundFlag)dJ._FillBackgroundFlag=km._FillBackgroundFlag;
if(km&&km._FillBackgroundColor){var aM=km._FillBackgroundColor,by=aM._Color._Values.slice(0);for(var d=0;
d<4;d++)by[d]=parseFloat(by[d].slice(1));dJ._FillBackgroundColor={Type:1,Values:by}}if(km&&km._LineWidth)dJ._LineWidth=parseFloat(km._LineWidth.slice(1))}var fq=ck.EngineDict.ParagraphRun.RunArray,dV=bv._ParagraphRun._RunArray;
if(dV==null)dV=[];var im=Math.min(dV.length,fq.length);for(var d=0;d<im;d++){var hj=fq[d].ParagraphSheet.Properties,d8=jV._DocumentResources._ParagraphSheetSet._Resources,cI=dV[d]._RunData._ParagraphSheet;
if(typeof cI=="string")cI=d8[parseInt(cI.slice(1))]._Resource;var gD=cI._Parent==null?cI:d8[parseInt(cI._Parent.slice(1))]._Resource;
cI=cI._Features;gD=gD._Features;var iw=cI._ParagraphDirection;if(iw==null)iw=gD._ParagraphDirection;
if(iw)hj._Direction=parseInt(iw.slice(1));if(cI._ComposerEngine)hj._ComposerEngine=parseInt(cI._ComposerEngine.slice(1))}if(bv._AlternateGlyphRun){var dV=bv._AlternateGlyphRun._RunArray,im=dV.length,e3=ck.EngineDict.AlternateGlyphRun=am.auH();
for(var d=0;d<im;d++){var cI=dV[d],c5={},eT=cI._RunData._AlternateGlyphSheet;if(eT)c5.Glyph=parseInt(eT._Glyph.slice(1));
e3.RunArray.push(c5);e3.RunLengthArray.push(parseInt(cI._Length.slice(1)))}}var iO=jV._DocumentResources,hW=iO._TextFrameSet._Resources,j5=hW[eq]._Resource,aL=j5._Data,gk=new cb(1,0,0,1,0,0);
if(j5._0){var eA=parseFloat(j5._0[0].slice(1)),gF=parseFloat(j5._0[1].slice(1));gk.translate(eA,gF)}if(eL){gk.translate(eL[0],eL[1]);
am.Lf(ck,[0,0,eL[2]-eL[0],eL[3]-eL[1]])}else{if(j5._Bezier&&j5._Bezier._Points){var U=j5._Bezier._Points,eA=parseFloat(U[0].slice(1)),gF=parseFloat(U[1].slice(1));
if(eA!=0||gF!=0){gk.translate(eA,gF)}}}if(j5._Data&&j5._Data._FrameMatrix){var bB=j5._Data._FrameMatrix;
bB=bB.map(function(go){return parseFloat(go.slice(1))});gk.concat(new cb(bB[0],bB[1],bB[2],bB[3],bB[4],bB[5]))}gk.concat(i.add.TySh.D);
i.add.TySh.D=gk;var h=aL._Type?parseInt(aL._Type.slice(1)):0;if(h==2||h==1&&aL._PathData&&aL._PathData._Spacing=="i-3"){var ix=function(go){return parseFloat(go.slice(1))},U=j5._Bezier._Points.map(ix);
if(eL)f.p.D(U,new cb(1,0,0,1,-eL[0],-eL[1]),U);var ab=aL._PathData?aL._PathData._Reversed:!1,ez=aL._TextOnPathTRange;
if(ez==null)ez=["f-3","f-3"];ck.Curve={Points:U,TextOnPathTRange:ez.map(ix),Reversed:ab==null?!1:ab};
i.add.TySh.add={vmsk:new g.tZ,vogk:null};am.AA(i.add.TySh)}if(aL._LineOrientation=="i2")ck._LineOrientation=2}}Q.kG.QX(z,!0);
var cM={},hU=[];for(var F=0;F<z.g.length;F++){var hi=z.g[F].add.lyid;if(hi==null)continue;var ib=Math.max(ib,hi);
if(cM[hi]!=null)hU.push(F);else cM[hi]=!0}for(var F=0;F<hU.length;F++)z.g[hU[F]].add.lyid=ib+1+F};g4.Im=function(x,z,A){Q.kG.Em(x);
Q.kG.QX(x,!1);x.qu=A[3]==!0;var o=[],i=[],R=0,k=1,q=16,by=0;for(var F=0;F<x.g.length;F++){var L=x.g[F];
if(L.Mi()&&L.zg(x).B){L.add.SoLd.filterFX.v.filterMaskEnable.v=L.zg(x).B.isEnabled}if(L.add.TySh){var B=L.add.TySh.gP,D=am.dC(B);
L.add.TySh.pn.TextIndex={t:"long",v:o.length};o.push(B);if(D==2)am.vN(L.add.TySh)}var j=L.add.vstk;if(j)j.strokeStyleResolution.v=x.um;
if(L.d8()||A[2]&&L.add.SoLd){i[F]=[L.rect,L.buffer];L.rect=new av;L.buffer=f.C(0);if(L.add.SoLd){var a=L.zg(x);
if(a!=null){i[F].push(a.buffer);a.buffer=f.C(a.buffer.length)}}}}if(o.length>0){var b=x.add.Txt2?x.add.Txt2.w8:null;
if(x.add.Txt2==null)x.add.Txt2={};x.add.Txt2.w8=dB.ag0(o,null,b)}var W=[x.add.lnk2,x.add.FEid,x.add.Patt],c=x.atl(x.g);
x.a65(c);x.d3.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);m.tA(x.d3.r1005,0,x.um);m.tA(x.d3.r1005,8,x.um);
if(x.oF()){x.d3.r1022=new Uint8Array([0,3+x.lX.length-1,0])}else delete x.d3.r1022;var Y=new Uint8Array(x.g.length*2),$=new Uint8Array(x.g.length);
for(var F=0;F<x.g.length;F++){var L=x.g[F],w=L.en,V=L.xw?1:0;m.uI(Y,F*2,w);$[F]=V;if(w>R)R=w;if(V==0)k=0}if(R>0)x.d3.r1026=Y;
if(k<1)x.d3.r1072=$;var h=x.sf,l=h.length,M=x.d3.r1032=f.C(16+5*l,!0);m.bw(M,0,1);m.bw(M,4,576);m.bw(M,8,576);
m.bw(M,12,l);for(var F=0;F<l;F++){m.mh(M,q,Math.round(h[F][1]*32));M[q+4]=h[F][0];q+=5}if(A[0]!=!0){var t=[x.buffer,new av(0,0,x.m,x.n)],p=0;
f.mL(t);while(t[p+1].$()>200*200)p+=2;var E=iF.Lg("jpg"),_=t[p+1],S=new Uint8Array(E.ys([[t[p].buffer]],_.m,_.n)),M=x.d3.r1036=f.C(28+S.length);
m.bw(M,0,1);m.bw(M,4,_.m);m.bw(M,8,_.n);m.bw(M,12,_.m*3);m.bw(M,16,_.$()*3);m.bw(M,20,S.length);m.uI(M,24,24);
m.uI(M,26,1);M.set(S,28)}var y=f.Tp(x.buffer),v=[];if(y)v.push({name:"Transparency",bk:{w:255,a:0,s:0},rS:100,VW:1});
v=v.concat(x.lX);delete x.d3.r1045;delete x.d3.r1006;delete x.d3.r1077;var r=new cc;q=0;var K=new Uint8Array(4+v.length*13);
K[3]=1;for(var F=0;F<v.length;F++){var s=v[F],P=s.name+"\0";m.jy(r,q,P);q+=4+P.length*2;var d=4+F*13;
hS.Gk(K,d,s.bk);K[d+11]=s.rS;K[d+12]=s.VW}x.d3.r1045=r.data.slice(0,q);x.d3.r1077=K;for(var F=0;F<x.TY.length;
F++)x.TY[x.TY.length-F-1].v.sliceID.v=2+F*3;var X={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:x.TY}},r=new cc;
m.HX(r,0,8);m.HX(r,4,16);var U=gX.DN(r,X,8);x.d3.r1050=r.data.slice(0,U+8);var r=new cc;m.HX(r,0,16);
var U=gX.DN(r,x.$C,4);x.d3.r1065=r.data.slice(0,U+4);var n=x.f;M=x.d3.r1069=f.C(2+n.length*4,!0);m.uI(M,0,n.length);
for(var F=0;F<n.length;F++)m.bw(M,2+4*F,x.g[n[F]].add.lyid);delete x.d3.r1058;delete x.d3.r1060;if(Object.keys(x._T).length!=0){var e=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
gT.Yv(x._T,e[0],A[0]&&A[1]);x.d3.r1058=new Uint8Array(UTIF.encode(e));var J=gT.asB(x._T);x.d3.r1060=m.zi(J)}var C=[],H=[];
for(var F=0;F<x.Ds.length;F++){var u=x.Ds[F],bc=u.add.vmsk._;if(F==0&&bc.length==2)continue;var jK=f.C(bc.length*26);
dF.eN(jK,0,bc,x.m,x.n);var N=F==0?1025:2e3+F-1;x.d3["r"+N]=jK;if(F!=0){C.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:u.name}}});
H.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:u.add.vogk}}})}}if(C.length!=0){x.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:C}};
H={classID:"null",keyRootDescriptorList:{t:"VlLs",v:H}};var r=new cc;m.HX(r,0,16);var U=gX.DN(r,H,4);
x.d3.r3000=r.data.slice(0,U+4)}else{delete x.add.pths;delete x.d3.r3000}if(x.cC.length!=0){var he="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var F=0;F<x.cC.length;F++){var gJ=x.cC[F],kg=[];for(var N in gJ)kg.push(N+"=\""+gJ[N]+"\"");he+="<variable "+kg.join(" ")+">\n</variable>\n"}he+="</variables>\n</variableSet>\n</variableSets>";
x.d3.r7000=m.zi(he)}if(x.Gd.length!=0){var he="<sampleDataSets psdPath=\""+x.name+"\">\n";for(var F=1;
F<x.Gd.length;F++){var cJ=x.Gd[F];he+="<sampleDataSet dataSetName=\"Data Set "+F+"\">\n";for(var it=0;
it<cJ.length;it++)he+="<"+x.Gd[0][it]+">"+cJ[it].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+x.Gd[0][it]+">\n";
he+="</sampleDataSet>\n"}he+="</sampleDataSets>";x.d3.r7001=m.zi(he)}by=g4.abK(x,z,by,3+v.length);by=g4.aaY(x,z,by);
by=g4.atI(x,z,by);by=g4.asd(x,z,by,A,y);by=g4.a73(x,z,by,A[0],y);var cz=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var F=0;F<cz.length;F++)delete x.d3["r"+cz[F]];for(var F=0;F<x.g.length;F++){var L=x.g[F];if(L.d8()||A[2]&&L.add.SoLd){L.rect=i[F][0];
L.buffer=i[F][1];if(i[F][2]){var a=L.zg(x);i[F].push(a.buffer);a.buffer=i[F][2]}}}x.a65(W);Q.kG.QX(x,!0);
delete x.qu;return by};g4.hR=function(x,z,A){var o=m.dX(z,A,4);A+=4;if(o!="8BPS")alert("invalid header signature: "+o);
var i=m.FH(z,A);A+=2;x.qu=i==2;if(i!=1&&i!=2)alert("invalid version: "+i);A+=6;x.rc=m.FH(z,A);A+=2;x.n=m.JR(z,A);
A+=4;x.m=m.JR(z,A);A+=4;x.zw=m.FH(z,A);A+=2;x.lh=m.FH(z,A);A+=2;return A};g4.abK=function(x,z,A,o){z.qQ(0,64);
m.ax(z.data,A,"8BPS");A+=4;m.uI(z.data,A,x.qu?2:1);A+=2;m.bw(z.data,A,0);A+=4;m.uI(z.data,A,0);A+=2;
m.uI(z.data,A,o);A+=2;m.mh(z.data,A,x.n);A+=4;m.mh(z.data,A,x.m);A+=4;m.uI(z.data,A,8);A+=2;m.uI(z.data,A,3);
A+=2;return A};g4.a4p=function(x,z,A){var o=m.JR(z,A);A+=4;if(o!=0)x.$w=z.slice(A,A+o);A+=o;return A};
g4.aaY=function(x,z,A){m.ur(z,A,0);A+=4;return A};g4.anH=function(x,z,A){var o=m.l(z,A),i=0;A+=4;var L=[];
while(i<o){var B=m.dX(z,A+i,4);i+=4;var D=m.FH(z,A+i);i+=2;var Z=m.Cq(z,A+i);i+=Z.length;if(B=="MeSa"&&(D==7e3||D==7001)){}else if(B!="8BIM"){L.push(D);
console.log("Unknown Image Resources signature: "+B+", ID: "+D)}var j=m.l(z,A+i);i+=4;if(x.d3["r"+D]!=null)console.log("--- two resources with same ID");
x.d3["r"+D]=m.xE(z,A+i,j);i+=j+(j&1)}for(var F=0;F<L.length;F++)delete x.d3["r"+L[F]];return A+o};g4.atI=function(x,z,A){var o=A,B=0;
A+=4;var i=[];for(var L in x.d3){i.push(parseInt(L.slice(1)))}i.sort(function(b,W){return b-W});for(var F=0;
F<i.length;F++){var D=i[F];m._h(z,A+B,D==7e3||D==7001?"MeSa":"8BIM");B+=4;m.MY(z,A+B,D);B+=2;var Z=m.Zg(z,A+B,"");
B+=Z;var j=x.d3["r"+D],a=j.length;m.HX(z,A+B,a);B+=4;m.iX(z,A+B,j);B+=a;if(a%2==1)B++}m.HX(z,o,B);return A+B};
g4.awN=function(x,z,A){var o=A,i,L,B=x.qu?8:4;if(x.qu)i=m.Kl(z,A);else i=m.l(z,A);A+=B;if(i==0)return o+B;
L=g4.aqo(x,z,A);g4.Cw(1,L-A,"Layer Info");A=L;L=g4.a8H(x,z,A);g4.Cw(1,L-A,"Global Layer Mask Info");
A=L;L=ap.py(z,A,o+B+i,x.add,x.qu,x);g4.Cw(1,L-A,"Project Add Info");A=L;return o+B+i};g4.asd=function(x,z,A,o,i){var L=A;
m.HX(z,A,0);A+=4;if(x.qu){m.HX(z,A,0);A+=4}A=g4.a7A(x,z,A,o,i);A=g4.a83(x,z,A);A=ap.hY(z,A,x.add,x.qu,x);
if(x.qu)m.L1(z,L,A-L-8);else m.HX(z,L,A-L-4);return A};g4.aqo=function(x,z,A){var o,i=x.qu?8:4;if(x.qu)o=m.Kl(z,A);
else o=m.l(z,A);A+=i;if(o!=0)g4.gu(x,z,A);return A+o};g4.gu=function(x,z,A){var o=m.Zl(z,A);A+=2;var i=Math.abs(o);
for(var F=0;F<i;F++){var L=new g;A=h$.l6(L,x,z,A);x.g[F]=L}var B=new av(0,0,x.m,x.n);for(var F=0;F<i;
F++){var D=x.g[F],Z=D.dP(),j=cg.l6(D,x,z,A);if(j-A>8)g4.Cw(2,j-A,"Lay: "+D.getName());A=j;g4.SQ(D,B);
if(Z)g4.SQ(Z,B)}};g4.SQ=function(x,z){var A=x.rect.$(),o=x.rect.tE(z),i=o.$()/A;if(A>2e3*3e3&&i<.5){if(x.buffer){var L=f.C(o.$()*4);
f.mV(x.buffer,x.rect,L,o);x.buffer=L;x.rect=o}else{var L=f.C(o.$());f.K5(x.channel,x.rect,L,o);x.channel=L;
x.rect=o}alert("Removing hidden parts of layers")}};g4.a7A=function(x,z,A,o,i){var L=A,B=x.qu;A+=B?8:4;
A=g4.T_(x,z,A,o,i);var D=A-L-(B?8:4);if(D%2!=0)D++;if(B)m.L1(z,L,D);else m.HX(z,L,D);return L+D+(B?8:4)};
g4.T_=function(x,z,A,o,i){var L=x.g.length;m.XM(z,A,i?-L:L);A+=2;var B=[];for(var F=0;F<L;F++)A=h$.Im(x.g[F],x,z,A,B);
for(var F=0;F<L;F++)A=cg.aM(x.qu,x.g[F],z,A,B[F],o);return A};g4.a8H=function(x,z,A){var o=m.l(z,A);
A+=4;A+=o;return A};g4.a83=function(x,z,A){var o=m.HX(z,A,0);A+=4;return A};g4.alE=function(x,z,A){var o=x.lh,i="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),L=[1,1,1,3,4,1,1,3],B,R;
if(o!=3){if(o==1||o==2||o==4)console.log("Project will be converted from "+i[o]+" to "+i[3]+" mode.");
else{alert("Color mode "+i[o]+" is not supported yet :(")}if(o==4)x.add.fcmy=1}if(x.d3.r1045){B=[];var D=x.d3.r1045,Z=0;
while(Z<D.length){var j=m.Aq(D,Z);B.push(j);Z+=4+2+j.length*2}}var a=L[o]+(B==null||B[0]=="Transparency"?1:0),b=x.m,W=x.n,c=b*W,Y=m.FH(z,A);
A+=2;x.buffer=f.C(c*4);f.OD(x.buffer,4278190080);var $=A;for(var k=0;k<x.rc;k++){if(Y==0){R=cg.JU(x.qu,x.zw,z,b,W,A,Y);
A+=c*(x.zw>>>3)}else if(Y==1){R=f.C(c);var w=x.qu?4:2;if(k==0)A+=x.rc*W*w;A+=cg.SL(z,R,b,W,$+k*W*w,A,w)}else{console.log("unknown compression of image data: ",Y);
return}if(k<a){f.c8(R,x.buffer,k);if(x.rc==1&&k==0){f.c8(R,x.buffer,1);f.c8(R,x.buffer,2)}}else{var V=new g.$R,h=k-a,l=k-L[x.lh];
V.name=B?B[l]:"Alpha";if(V.name=="Quick Mask"){V.ft=!0;x.CE.push(h)}V.rect=new av(0,0,b,W);V.channel=R;
V.color=0;V.wr();x.lX[h]=V;if(x.d3.r1077){var D=x.d3.r1077.slice(4+l*13);V.bk=hS.cK(D,0);V.rS=D[11];
V.VW=D[12];if(V.VW==2)V.ft=!0}}}x.rc=4;if(x.lh==2)for(var F=0;F<c;F++){var M=F*4,q=x.buffer[M];x.buffer[M]=x.$w[0+q];
x.buffer[M+1]=x.$w[256+q];x.buffer[M+2]=x.$w[512+q]}return A};g4.a73=function(x,z,A,o,i){var L=1,B=16,D=x.m,Z=x.n,a,b;
m.MY(z,A,L);A+=2;var j=D*Z;if(!o){b=new f.mz(D*Z);f.hC(x.buffer,b);var W=b.w,c=b.a,Y=b.s,R=b.xc;for(var F=0;
F<j;F++){var $=R[F]*(1/255);W[F]=~~(W[F]*$+255*(1-$));c[F]=~~(c[F]*$+255*(1-$));Y[F]=~~(Y[F]*$+255*(1-$))}}else a=f.C(j);
var k=[a,a,a];if(!o)k=[b.w,b.a,b.s];if(i)k.push(o?a:b.xc);for(var F=0;F<x.lX.length;F++){k.push(x.lX[F].$n(new av(0,0,x.m,x.n)))}var w=A;
for(var V=0;V<k.length;V++){z.qQ(A,D*Z+4);a=k[V];if(L==0||L==2||L==3)A=cg.WB(x.qu,a,z.data,D,Z,A,L);
else{var h=x.qu?4:2;if(V==0)A+=k.length*Z*h;var l=A;A+=cg.zt(a,z.data,D,Z,w+V*Z*h,A,h)}}return A};function ch(){}ch.l6=function(x){var z={};
ch.qs(x,z,0,0);return z};ch.Im=function(x,z){var A=0;A=ch.s2(x,z,A,0);return A};ch.qs=function(x,z,A,o){while(x[A]!="<".charCodeAt(0))A++;
A+=2;while(!0){if(x[A]=="/".charCodeAt(0)){A++;var i=m.indexOf(x," ".charCodeAt(0),A,A+50),L=m.indexOf(x,"\n".charCodeAt(0),A,A+50);
if(L==-1)L=Infinity;if(i==-1)i=Infinity;var B=Math.min(L,i),D=m.dX(x,A,B-A),Z=ch.if(x,B+1,o+1,D);z[D]=Z.h;
A=B+1;A+=Z.size}else if(x[A]==">".charCodeAt(0)){A+=2;break}else{var j=x[A];if(j==10||j==9||j==32)A++;
else{console.log("unknown byte: "+j+", char: "+String.fromCharCode(j),A);A++}}}return A};ch.s2=function(x,z,A,o){m._h(z,A,"<<\n");
A+=3;var i=ch.agR;for(var L in x){m.UU(z,A,"\t".charCodeAt(0),o+1);A+=o+1;m._h(z,A,"/"+L);A+=1+L.length;
if(i(x[L])||x[L]instanceof Array){m._h(z,A," ");A++}else{m._h(z,A,"\n");A++;m.UU(z,A,"\t".charCodeAt(0),o+1);
A+=o+1}A=ch.QV(x[L],z,A,o+1);m._h(z,A,"\n");A++}m.UU(z,A,"\t".charCodeAt(0),o);A+=o;m._h(z,A,">>");A+=2;
return A};ch.if=function(x,z,A,o){var i=z,L={size:0,h:0};while(!0){while(x[z]==" ".charCodeAt(0)||x[z]=="\t".charCodeAt(0)||x[z]=="\n".charCodeAt(0))z++;
if(x[z]=="<".charCodeAt(0)){L.h={};z=ch.qs(x,L.h,z,A+1);break}else if(x[z]=="(".charCodeAt(0)){z+=3;
var B=z;while(!0){if(x[B-1]!="\\".charCodeAt(0)&&x[B]==")".charCodeAt(0)&&(x[B+1]=="\n".charCodeAt(0)||x[B+1]==" ".charCodeAt(0)))break;
else B++}L.h=m.Fw(x,z,B);z=B+2;break}else if(x[z]=="[".charCodeAt(0)){z++;L.h=[];while(x[z]==" ".charCodeAt(0)||x[z]=="\t".charCodeAt(0)||x[z]=="\n".charCodeAt(0))z++;
while(x[z]!="]".charCodeAt(0)){var D=ch.if(x,z,A+1,o);L.h.push(D.h);z+=D.size;while(x[z]==" ".charCodeAt(0)||x[z]=="\t".charCodeAt(0)||x[z]=="\n".charCodeAt(0))z++}z++;
break}else{var Z=m.indexOf(x," ".charCodeAt(0),z,z+50),j=m.indexOf(x,"\n".charCodeAt(0),z,z+50);if(j==-1)j=Infinity;
if(Z==-1)Z=Infinity;var a=m.dX(x,z,Math.min(Z,j)-z).trim(),b=parseFloat(a);if(!isNaN(b)){L.h=parseFloat(a);
z=Math.min(Z,j)+1;break}else if(a=="true"||a=="false"){L.h=a=="true";z=Math.min(Z,j)+1;break}else if(a=="null"||a=="NaN"||a=="undefined"){L.h=0;
z=Math.min(Z,j)+1;break}else{console.log("unknown identifier: "+a);throw"e"}z=Math.min(Z,j)+1}}L.size=z-i;
return L};ch.QV=function(x,z,A,o){if(x instanceof Array){var i=x.length==0||typeof x[0]=="number";if(i){m._h(z,A,"[ ");
A+=2;for(var F=0;F<x.length;F++){var L=x[F]+" ";m._h(z,A,L);A+=L.length}m._h(z,A,"]");A+=1}else{m._h(z,A,"[\n");
A+=2;for(var F=0;F<x.length;F++){m.UU(z,A,"\t".charCodeAt(0),o);A+=o;A=ch.QV(x[F],z,A,o);m._h(z,A,"\n");
A++}m.UU(z,A,"\t".charCodeAt(0),o);A+=o;m._h(z,A,"]");A+=1}}else if(x instanceof Object){A=ch.s2(x,z,A,o)}else if(typeof x=="string"){m._h(z,A,"(");
A++;m.UU(z,A,254);A++;m.UU(z,A,255);A++;A=m.zq(z,A,x);m._h(z,A,")");A+=1}else{var L=x+"";m._h(z,A,L);
A+=L.length}return A};ch.agR=function(x){var z=typeof x;return z=="string"||z=="number"||z=="boolean"};
function gw(){}gw.l6=function(x){var z={};gw.Bf(x,z,0,0);return z};gw.Im=function(x,z){var A=0;m._h(z,A," ");
A++;A=gw.vs(x,z,A,0);A--;z.qQ(A,2);z.data[A]=z.data[A+1]=0;A+=2;return A};gw.qs=function(x,z,A,o){while(x[A]!="<".charCodeAt(0)){A++;
console.log("\u0161ipka")}A+=2;A=gw.Bf(x,z,A,o);return A};gw.s2=function(x,z,A,o){m._h(z,A,"<< ");A+=3;
A=gw.vs(x,z,A,o);m._h(z,A,">>");A+=2;return A};gw.kV=function(x){return x==9||x==10||x==32};gw.Bf=function(x,z,A,o){while(!0){while(gw.kV(x[A])||x[A]==0)A++;
if(A>=x.length)break;if(x[A]=="/".charCodeAt(0)){A++;var i=A;while(!gw.kV(x[i]))i++;var L=m.dX(x,A,i-A);
A=i+1;var B=gw.if(x,A,o,L);z["_"+L]=B.h;A+=B.size}else if(x[A]==">".charCodeAt(0)){A+=2;break}else{var D=x[A];
console.log(m.dX(x,A,A+100));console.log("unknown byte: "+D+", char: "+String.fromCharCode(D)+", offset: "+A);
A++;throw"e";return-1}}return A};gw.vs=function(x,z,A,o){for(var i in x){var L=i.substring(1,i.length);
m._h(z,A,"/"+L);A+=1+L.length;m._h(z,A," ");A++;A=gw.QV(x[i],z,A,o+1);m._h(z,A," ");A++}return A};gw.if=function(x,z,A,o){var i=z,L={type:"",size:0,h:0};
while(gw.kV(x[z]))z++;if(x[z]=="<".charCodeAt(0)){L.type="Object";L.h={};z=gw.qs(x,L.h,z,A+1)}else if(x[z]=="(".charCodeAt(0)){L.type="String";
z++;if(x[z]==")".charCodeAt(0)){L.h="e";z++}else{z+=2;var B=z,D=0;while(!0){if(x[B]==")".charCodeAt(0)&&x[B-1]!="\\".charCodeAt(0))break;
else B+=1}L.h="s"+m.Fw(x,z,B);z=B+2}}else if(x[z]=="[".charCodeAt(0)){z++;L.h=[];L.type="Array";while(gw.kV(x[z]))z++;
while(x[z]!="]".charCodeAt(0)){var Z=gw.if(x,z,A+1,o);if(Z==-1)return-1;L.h.push(Z.h);z+=Z.size;delete Z.size;
while(gw.kV(x[z]))z++}z++}else{var j=z;while(!gw.kV(x[j]))j++;var a=m.dX(x,z,j-z),b=parseFloat(a);if(!isNaN(b)&&a.indexOf(".")!=-1){L.type="Float";
var W=parseFloat(a);L.h="f"+W}else if(!isNaN(b)&&a.indexOf(".")==-1){L.type="Integer";L.h="i"+parseInt(a)}else if(a=="true"||a=="false"){L.type="Boolean";
L.h=a=="true"}else if(a.charAt(0)=="/"){L.type="BString";L.h=a}else if(a=="NaN"){L.type="Float";L.h="f0"}else{console.log("unknown value",JSON.stringify(a));
throw"e"}z=j+1}L.size=z-i;return L};gw.ap5=function(x){if(x==Math.round(x))return x+".0";var z=x.toFixed(5);
while(z.endsWith("0")&&z[z.length-2]!=".")z=z.slice(0,z.length-1);if(0<x&&x<1)z=z.slice(1);if(-1<x&&x<0)z="-"+z.slice(2);
return z};gw.QV=function(x,z,A,o){var i=typeof x=="string"?x.charAt(0):"";if(x instanceof Array){m._h(z,A,"[ ");
A+=2;for(var F=0;F<x.length;F++){A=gw.QV(x[F],z,A,o);m._h(z,A," ");A++}m._h(z,A,"]");A+=1}else if(x instanceof Object){A=gw.s2(x,z,A,o)}else if(i=="e"){m._h(z,A,"()");
A+=2}else if(i=="s"){m._h(z,A,"(");A++;m.UU(z,A,254);A++;m.UU(z,A,255);A++;A=m.zq(z,A,x.substring(1));
m._h(z,A,")");A++}else if(i=="/"){m._h(z,A,x);A+=x.length}else if(i=="f"){var L=parseFloat(x.substring(1)),B=gw.ap5(L);
m._h(z,A,B);A+=B.length}else if(i=="i"){m._h(z,A,x.substring(1));A+=x.length-1}else{var B=x+"";m._h(z,A,B);
A+=B.length}return A};function m(){}m.aaQ=function(f5){var x="";for(var F=3;F>=0;F--)x+=String.fromCharCode(f5>>F*8&255);
return x};m.a7p=function(x){var f5=0;for(var F=x.length-1;F>=0;F--)f5|=x.charCodeAt(F)<<(3-F)*8;return f5};
m.indexOf=function(x,z,A,o){if(A==null)A=0;if(o==null)o=x.length;o=Math.min(o,x.length);for(var F=A;
F<o;F++)if(x[F]==z)return F;return-1};m.rz=function(x,z,A){if(A==null)A=0;var o=z.length,i=x.length-o;
if(typeof z=="string"){var L=[];for(var F=0;F<o;F++)L.push(z.charCodeAt(F));z=L}if(z.length>0){var B=z[0];
for(var F=A;F<i;F++)if(x[F]==B){var D=!0;for(var Z=1;Z<o;Z++)if(z[Z]!=x[F+Z]){D=!1;break}if(D)return F}}return-1};
m.Fw=function(x,z,A){var o=[],L="";while(z<A){var i=x[z++];if(i=="\\".charCodeAt(0))o.push(x[z++]);else o.push(i)}for(var F=0;
F<o.length;F+=2)L+=String.fromCharCode(o[F]<<8|o[F+1]);return L};m.awQ=function(x,z,A){var o=new Uint8Array(2);
for(var F=0;F<A.length;F++){m.uI(o,0,A.charCodeAt(F));if(o[0]==")".charCodeAt(0)||o[0]=="(".charCodeAt(0)||o[0]=="\\".charCodeAt(0)){x[z]="\\".charCodeAt(0);
z++}x[z]=o[0];z++;if(o[1]==")".charCodeAt(0)||o[1]=="(".charCodeAt(0)||o[1]=="\\".charCodeAt(0)){x[z]="\\".charCodeAt(0);
z++}x[z]=o[1];z++}return z};m.zq=function(x,z,A){x.qQ(z,4*A.length);return m.awQ(x.data,z,A)};m.IA=function(x,z,A){var o="";
for(var F=0;F<A;F++){var i=x[z++]|x[z++]<<8;o+=String.fromCharCode(i)}return o};m.RY=function(x,z,A){var o="";
for(var F=0;F<A;F++){var i=x[z++]<<8|x[z++];o+=String.fromCharCode(i)}return o};m.atM=function(x,z,A){for(var F=0;
F<A.length;F++){var o=A.charCodeAt(F);m.GB(x,z+2*F,o)}};m.NN=function(x,z,A){for(var F=0;F<A.length;
F++){var o=A.charCodeAt(F);m.uI(x,z+2*F,o)}};m.aa6=function(x,z,A){x.qQ(z,2*A.length);m.NN(x.data,z,A)};
m.a7Q=function(x,F,z){var A=[],o=0,i=0;z+=F;while(F<z){o=x[F++];if((o&128)==0)i=o;else if((o&224)==192){i=(o&31)<<6;
o=x[F++];i|=o&63}else if((o&240)==224){i=(o&15)<<12;o=x[F++];i|=(o&63)<<6;o=x[F++];i|=o&63}else if((o&248)==240){i=(o&7)<<18;
o=x[F++];i|=(o&63)<<12;o=x[F++];i|=(o&63)<<6;o=x[F++];i|=o&63}else throw"e";A.push(i)}return A};m.Gw=window.TextDecoder?new window.TextDecoder("utf8"):null;
m._X=function(x,z,A){if(z==null)z=0;if(A==null)A=x.length;if(m.Gw&&z==0&&A==x.length)return m.Gw.decode(x);
var o=m.a7Q(x,z,A),i=o.length;for(var F=0;F<i;F++)o[F]=String.fromCharCode(o[F]);return o.join("")};
m.GU=window.TextEncoder?new window.TextEncoder("utf8"):null;m.zi=function(x){if(m.GU)return m.GU.encode(x);
var z=new Uint8Array(x.length*4),A=m.Yq(x,z,0);return z.slice(0,A)};m.Yq=function(x,z,A){var o=x.length,F=0;
for(var i=0;i<o;i++){var L=x.charCodeAt(i);if((L&4294967295-(1<<7)+1)==0){z[A+F]=L;F++}else if((L&4294967295-(1<<11)+1)==0){z[A+F]=192|L>>6;
z[A+F+1]=128|L>>0&63;F+=2}else if((L&4294967295-(1<<16)+1)==0){z[A+F]=224|L>>12;z[A+F+1]=128|L>>6&63;
z[A+F+2]=128|L>>0&63;F+=3}else if((L&4294967295-(1<<21)+1)==0){z[A+F]=240|L>>18;z[A+F+1]=128|L>>12&63;
z[A+F+2]=128|L>>6&63;z[A+F+3]=128|L>>0&63;F+=4}else throw"e"}return F};m.tT=function(x,z){var A=m.l(x,z),o=m._X(x,z+4,A-1);
return{Ww:o,dc:4+A}};m.anv=function(x,z){var A=m.GQ(x,z),o=m.IA(x,z+4,A);return o};m.II=function(x,z){var A=m.l(x,z),o=m.RY(x,z+4,A);
return o};m.Aq=function(x,z){var A=m.l(x,z),o=m.RY(x,z+4,A-1);return o};m.adJ=function(x,z,A){m.hX(x,z,A.length);
z+=4;m.atM(x,z,A)};m.a0S=function(x,z,A){m.bw(x,z,A.length);z+=4;m.NN(x,z,A)};m.jy=function(x,z,A){x.qQ(z,4+2*A.length);
m.a0S(x.data,z,A)};m.a5I=function(x,z,A){x.qQ(z,4+2*A.length);m.adJ(x.data,z,A)};m.Fa=function(x,z,A){var o=[];
for(var F=0;F<A;F++)o.push(String.fromCharCode(x[z+F]));return o};m.au7=function(x,z,A){var o=!1,i=x.length-A.length;
for(var F=z;F<i;F++){for(var L=0;L<A.length;L++){if(x[F+L]!=A.charCodeAt(L))break;if(L==A.length-1)return F}}};
m.dX=function(x,z,A){var o="";for(var F=0;F<A;F++)o+=String.fromCharCode(x[z+F]);return o};m.ax=function(x,z,A){for(var F=0;
F<A.length;F++)x[z+F]=A.charCodeAt(F)};m._h=function(x,z,A){x.qQ(z,A.length);m.ax(x.data,z,A)};m.a6O=function(x,z,A){var o="";
for(var F=0;F<A;F++){var i=x[z+F];if(i<10)o+="  ";else if(i<100)o+=" ";o+=i+", "}return o};m.FH=function(x,z){return x[z]<<8|x[z+1]};
m.uI=function(x,z,f5){x[z]=f5>>8&255;x[z+1]=f5&255};m.MY=function(x,z,f5){x.qQ(z,4);m.uI(x.data,z,f5)};
m.a5n=function(x,z){var A=m.FH(x,z),o=m.FH(x,z+2);return A+o*(1/65536)};m.tA=function(x,z,f5){var A=Math.floor(f5),o=Math.floor((f5-A)*65536);
m.uI(x,z,A);m.uI(x,z+2,o)};m.FJ=function(x,z){return x[z+1]<<8|x[z]};m.GB=function(x,z,f5){x[z+1]=f5>>8&255;
x[z]=f5&255};m.Gx=function(x,z,f5){x.qQ(z,4);m.GB(x.data,z,f5)};m.Zl=function(x,z){m.E9[0]=x[z+1];m.E9[1]=x[z];
return m.I7[0]};m.ID=function(x,z){m.E9[0]=x[z];m.E9[1]=x[z+1];return m.I7[0]};m.dd=m.uI;m.XM=m.MY;m.JR=function(x,z){m.Jl[0]=x[z+3];
m.Jl[1]=x[z+2];m.Jl[2]=x[z+1];m.Jl[3]=x[z];return m.gq[0]};m.mh=function(x,z,f5){m.gq[0]=f5;x[z+3]=m.Jl[0];
x[z+2]=m.Jl[1];x[z+1]=m.Jl[2];x[z+0]=m.Jl[3]};m.ur=function(x,z,f5){x.qQ(z,4);m.mh(x.data,z,f5)};m.ny=function(x,z,A,o){A[o+0]=x[z+0];
A[o+1]=x[z+1];A[o+2]=x[z+2];A[o+3]=x[z+3]};m.GQ=function(x,z){m.ny(x,z,m.Jl,0);return m.$g[0]};m.hX=function(x,z,f5){m.$g[0]=f5;
m.ny(m.Jl,0,x,z)};m.KX=function(x,z,f5){x.qQ(z,4);m.hX(x.data,z,f5)};m.Hf=function(x,z){m.ny(x,z,m.Jl,0);
return m.gq[0]};m.aw4=function(x,z,f5){m.gq[0]=f5;m.ny(m.Jl,0,x,z)};m.a79=function(x,z,f5){x.qQ(z,4);
m.aw4(x.data,z,f5)};m.l=function(x,z){var A=x[z]*(256*256*256)+(x[z+1]<<16|x[z+2]<<8|x[z+3]);return A};
m.bw=function(x,z,f5){x[z]=f5>>24&255;x[z+1]=f5>>16&255;x[z+2]=f5>>8&255;x[z+3]=f5>>0&255};m.HX=function(x,z,f5){x.qQ(z,4);
m.bw(x.data,z,f5)};m.Kl=function(x,z){return m.l(x,z)<<32|m.l(x,z+4)};m.T6=function(x,z,f5){m.bw(x,z,f5>>16>>16);
m.bw(x,z+4,f5&4294967295)};m.L1=function(x,z,f5){x.qQ(z,8);m.T6(x.data,z,f5)};m.gN=function(x,z){var A=new Uint8Array(8);
for(var F=0;F<8;F++)A[F]=x[z+7-F];var o=new Float64Array(A.buffer);return o[0]};m.SV=function(x,z){var A=new Uint8Array(8);
for(var F=0;F<8;F++)A[F]=x[z+F];var o=new Float64Array(A.buffer);return o[0]};m.mY=function(x,z,f5){var A=new Float64Array(1);
A[0]=f5;var o=new Uint8Array(A.buffer);for(var F=0;F<4;F++){var i=o[F];o[F]=o[7-F];o[7-F]=i}for(var F=0;
F<8;F++)x[z+F]=o[F]};m.$P=function(x,z,f5){x.qQ(z,8);m.mY(x.data,z,f5)};m.yw=function(x,z){m.Jl[0]=x[z+3];
m.Jl[1]=x[z+2];m.Jl[2]=x[z+1];m.Jl[3]=x[z+0];return m.kR[0]};m.fU=function(x,z){m.Jl[0]=x[z+0];m.Jl[1]=x[z+1];
m.Jl[2]=x[z+2];m.Jl[3]=x[z+3];return m.kR[0]};m.hf=function(x,z,f5){m.kR[0]=f5;x[z+0]=m.Jl[3];x[z+1]=m.Jl[2];
x[z+2]=m.Jl[1];x[z+3]=m.Jl[0]};m.a0r=function(x,z,f5){x.qQ(z,4);m.hf(x.data,z,f5)};m._v=function(x,z,f5){m.kR[0]=f5;
x[z+0]=m.Jl[0];x[z+1]=m.Jl[1];x[z+2]=m.Jl[2];x[z+3]=m.Jl[3]};m.a7E=function(x,z,f5){x.qQ(z,4);m._v(x.data,z,f5)};
m.a8r=function(x,z){var A=m.JR(x,z),o=A*(1/(1<<24));return o};m.y4=function(x,z,A){var o=Math.floor(A*(1<<24));
m.mh(x,z,o)};m.amL=function(x,z,A){x.qQ(z,4);m.y4(x.data,z,A)};m.Cq=function(x,z){var A=x[z],o=m.dX(x,z+1,A);
A+=1-A%2;return{oW:o,length:A+1}};m.a1N=function(x,z,A){var o=A.length;x[z]=o;m.ax(x,z+1,A);if(o%2==0){x[z+1+o]=0;
++o}return o+1};m.Zg=function(x,z,A){x.qQ(z,A.length+2);return m.a1N(x.data,z,A)};m.t6=function(x,z){var A=new cb;
A.xc=m.gN(x,z+0*8);A.s=m.gN(x,z+1*8);A.Pm=m.gN(x,z+2*8);A.y9=m.gN(x,z+3*8);A.ZT=m.gN(x,z+4*8);A._s=m.gN(x,z+5*8);
return A};m.ty=function(x,z,A){m.mY(x,z+0*8,A.xc);m.mY(x,z+1*8,A.s);m.mY(x,z+2*8,A.Pm);m.mY(x,z+3*8,A.y9);
m.mY(x,z+4*8,A.ZT);m.mY(x,z+5*8,A._s)};m.aaX=function(x,z,A){x.qQ(z,48);m.ty(x.data,z,A)};m.a3M=function(x,z){var A=m.yw(x,z),o=m.yw(x,z+4),i=m.yw(x,z+8),L=m.yw(x,z+12);
return new av(A,o,i-A,L-o)};m.a2a=function(x,z,A){m.hf(x,z,A.x);m.hf(x,z+4,A.y);m.hf(x,z+8,A.x+A.m);
m.hf(x,z+12,A.y+A.n)};m.ajg=function(x,z,A){x.qQ(z,16);m.a2a(x.data,z,A)};m.$v=function(x,z){var A=m.JR(x,z),o=m.JR(x,z+4),i=m.JR(x,z+8),L=m.JR(x,z+12);
return new av(o,A,L-o,i-A)};m.qw=function(x,z,A){m.mh(x,z,A.y);m.mh(x,z+4,A.x);m.mh(x,z+8,A.y+A.n);m.mh(x,z+12,A.x+A.m)};
m.aI=function(x,z,A){x.qQ(z,16);m.qw(x.data,z,A)};m.xE=function(x,z,A){var o=new Uint8Array(A);for(var F=0;
F<A;F++)o[F]=x[z+F];return o};m.X2=function(x,z,A){x.set(A,z)};m.iX=function(x,z,A){x.qQ(z,A.length);
m.X2(x.data,z,A)};m.anB=function(x,z,A,f5){if(!f5)f5=1;for(var F=0;F<f5;F++)x[z+F]=A};m.UU=function(x,z,A,f5){if(!f5)f5=1;
x.qQ(z,f5);m.anB(x.data,z,A,f5)};m.I7=new Int16Array(1);m.E9=new Uint8Array(m.I7.buffer);m.gq=new Int32Array(1);
m.$g=new Uint32Array(m.gq.buffer);m.Jl=new Uint8Array(m.gq.buffer);m.kR=new Float32Array(m.gq.buffer);
function aO(){}aO.l6=function(x,z){var A=new Uint8Array(x),o=0,i=m.dX(A,o,9),D=4,Z=100;o+=9;var L=m.dX(A,o,4);
o+=4;o++;z.m=m.l(A,o);o+=4;z.n=m.l(A,o);o+=4;var B=m.l(A,o);o+=4;if(B!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(L)==-1){Z=m.l(A,o);o+=4;if(parseInt(L.slice(1))>=7){Z=Z}else alert("Unknown XCF version: "+L);
D=8}var j={};o=aO.aP(A,o,j);var a=[];o=aO.qd(A,o,a,D);var b=[];o=aO.qd(A,o,b,D);z.mp=0;for(var F=0;F<a.length;
F++)aO.a2p(A,a[F],z,j,D,Z);while(z.mp>0){z.g.push(z.Qy());z.mp--}z.g.reverse();delete z.mp;z.buffer=f.C(z.m*z.n*4);
if(z.g.length==0)console.log("No layers!!!");for(var F=0;F<b.length;F++){var W=aO.Vu(A,b[F],j,D,Z);if(W.Be[ej.a97])z.O={channel:W.Od,rect:new av(0,0,z.m,z.n)}}};
aO.a2p=function(x,z,A,o,i,L){var B=A.Ad(),D=m.l(x,z),b=0;z+=4;var Z=m.l(x,z);z+=4;B.rect=new av(0,0,D,Z);
var j=m.l(x,z);z+=4;var a=m.tT(x,z);z+=a.dc;B.rk(a.Ww);var W={};z=aO.aP(x,z,W);if(W[ej.P6]){var c=W[ej.P6];
b=c.length/4-1}if(W[ej.yI]){B.rect.x=m.JR(W[ej.yI],0);B.rect.y=m.JR(W[ej.yI],4)}if(W[ej.AD]){B.opacity=m.l(W[ej.AD],0)}if(W[ej.ags]){B.add.lsct=hF.X7;
B.rect=new av(0,0,0,0);B.buffer=f.C(0);B.Fu=24}if(W[ej.jc]){var Y=m.l(W[ej.jc],0);B.Cz=ej.akB[Y];if(B.Q0()&&B.Cz=="norm")B.Cz="pass"}if(W[ej.O4]){if(m.l(W[ej.O4],0)==0)B.Fu+=2}if(W[ej.Gs]){var R=m.l(W[ej.Gs],0);
B.add.lsct=R&1==1?hF.X7:hF.$Z}if(W[ej.oK]){var $=W[ej.oK];for(var k in $){var w=$[k];if(k=="gimp-text-layer"){var V=aO.aqg(w),h=V.text,l=V.font,M=V.color,q=V["font-size"];
if(h==null&&V.markup){var t=new DOMParser,p=t.parseFromString(V.markup,"image/svg+xml");while(p.firstChild!=null&&p.firstChild.tagName!=null){p=p.firstChild;
var E=p.getAttribute("font"),_=p.getAttribute("foreground"),S=p.getAttribute("size");if(E!=null)l=E;
if(_!=null){_=CSS.cK(_);M=[1,_.w/255,_.a/255,_.s/255]}if(S!=null){q=""+parseFloat(S)/245}}h=p.textContent}B.add.lnsr="rend";
B.add.TySh=am.P9(0,0);B.add.TySh.t0=new av(0,0,100,100);B.add.TySh.D=new cb(1,0,0,1,B.rect.x,B.rect.y);
var y=B.add.TySh.gP;am.tW(y,0,h);var v=am.En(y,0,0),r=V.justify,K=V["line-spacing"];if(M)v.i8.FillColor={Type:1,Values:[1,parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3])]};
if(q){q=Math.round(parseFloat(q));v.i8.FontSize=q;B.add.TySh.D._s+=Math.min(17,q*.17)}if(K){K=Math.round(parseFloat(K)+v.i8.FontSize*1.2);
v.i8.Leading=K;v.i8.AutoLeading=!1}if(r)v.tl.Justification=["left","right","center","fill"].indexOf(r);
if(l&&l!="Sans-serif"){var s=l.toLowerCase(),P="bold italic semi extra regular condensed light".split(" "),d=s.length;
for(var F=0;F<P.length;F++){var X=s.indexOf(P[F]);if(X!=-1&&X<d&&s[X-1]==" ")d=X}if(d!=s.length)l=l.slice(0,d-1).split(" ").join("")+"-"+l.slice(d).split(" ").join("");
am.Lk(v,l)}am.zz(y,0,h.length,v);var U=V["box-width"],n=V["box-height"],e=U?parseFloat(U):B.rect.m,J=n?parseFloat(n):B.rect.n;
am.cn(y,1);am.Lf(y,[0,0,Math.ceil(e),Math.ceil(J)])}else console.log("Unknown property "+k)}}while(A.mp>b){A.g.push(A.Qy());
A.mp--}A.mp=b;if(B.add.lsct==hF.X7||B.add.lsct==hF.$Z)A.mp++;var C=i==4?m.l:m.Kl;if(B.RC()){B.buffer=f.C(B.rect.$()*4);
var H=new f.mz(B.rect.$()),u=C(x,z);z+=i;var bc=C(x,z);z+=i;aO.jA(x,u,H,o,i,L);f.Ve(H,B.buffer);if(bc!=0){B.B=new g.$R;
B.B.color=0;B.B.rect=B.rect.clone();B.B.channel=aO.Vu(x,bc,o,i,L).Od;if(W[ej.Ep])B.B.isEnabled=m.l(W[ej.Ep],0)==1}}A.g.push(B)};
aO.aqg=function(x){var z="("+m._X(x,0,x.length-1)+")",A=[],o={};aO.b$(z,1,A);aO.ajy(A,o);return o};aO.ajy=function(x,z){for(var F=0;
F<x.length;F++){var A=x[F],o=A[0];if(A.length==2)z[o]=A[1];else z[o]=A.slice(1)}};aO.b$=function(x,z,A){while(!0){if(z>=x.length)throw"e";
var o=x.charAt(z);z++;if(o=="("){var i=[];z=aO.b$(x,z,i);A.push(i)}else if(o==" "||o=="\n"||o=="\r"){}else if(o==")")return z;
else if(o=="\""){var L=z;while(!0){var B=x[z];z++;if(B=="\"")break;if(B=="\\")z++}A.push(JSON.parse(x.slice(L-1,z)))}else{var L=z-1;
while(x[z]!=" "&&x[z]!=")")z++;A.push(x.slice(L,z))}}};aO.Vu=function(x,z,A,o,i){var L=m.l(x,z);z+=4;
var B=m.l(x,z);z+=4;var D=m.tT(x,z);z+=D.dc;var Z={};z=aO.aP(x,z,Z);var j=new f.mz(L*B),a=o==4?m.l:m.Kl,b=a(x,z);
z+=o;aO.jA(x,b,j,A,o,i);return{Od:j.w,Be:Z}};aO.jA=function(x,z,A,o,i,L){var B=m.l(x,z);z+=4;var D=m.l(x,z);
z+=4;var Z=m.l(x,z);z+=4;var j=i==4?m.l:m.Kl,a=j(x,z);z+=i;aO.acH(x,a,A,o,Z,i,L)};aO.acH=function(x,z,A,o,i,L,B){var D=m.l(x,z),a=0,F=0;
z+=4;var Z=m.l(x,z);z+=4;var j=new av(0,0,D,Z);if(B==100||B==150)a=1;else if(B==200||B==250)a=2;else if(B==300||B==350)a=4;
else if(B==500||B==550)a=2;else if(B==600||B==650)a=4;else if(B==700||B==750)a=8;else{alert("unsupported bit depth "+B);
throw"e"}var b=i/a,a=Math.round(i/b),W=[];z=aO.qd(x,z,W,L);var c=new f.mz(64*64*a),Y=new av,R=o[ej.am3][0],$=[c.w,c.a,c.s,c.xc];
if(b==3)c.xc.fill(255);var k=Date.now();for(var w=0;w<Z;w+=64)for(var V=0;V<D;V+=64){var h=Math.min(D-V,64),l=Math.min(Z-w,64),M=h*l;
Y.Jt(V,w,h,l);aO.a7J(x,W[F++],M*a,R,b,$);if(B==100||B==150){}else if(B==250){for(var q=0;q<b;q++){var t=$[q];
for(var p=0;p<M;p++){var E=t[p]<<8|t[M+p];t[p]=Math.min(E>>>8,255)}}}else if(B==600){var _=aO.agA(),S=new Uint32Array(1),y=new Float32Array(S.buffer);
for(var q=0;q<b;q++){var t=$[q];for(var p=0;p<M;p++){S[0]=t[p]<<24|t[M+p]<<16|t[(M<<1)+p]<<8|t[(M<<1)+M+p]<<0;
var v=y[0];if(v<0)v=0;else if(v>1)v=1;t[p]=_[~~(.5+v*1e3)]}}}else console.log("unknown data format",B);
f.c1(c,Y,A,j)}};aO.agA=function(){var x=aO.ak_;if(x!=null)return x;x=aO.ak_=new Uint8Array(1001);for(var F=0;
F<1001;F++)x[F]=~~(.49+255*f.Ln(F*.001));return x};aO.a7J=function(x,z,A,o,i,L){if(o==1){for(var B=0;
B<i;B++){var D=L[B],Z=0;while(Z<A){var f5=x[z];z++;if(f5<127){var j=x[z];z++;f5++;for(var F=0;F<f5;F++)D[Z+F]=j}else if(f5==127){var a=x[z];
z++;var b=x[z];z++;var j=x[z];z++;f5=a<<8|b;for(var F=0;F<f5;F++)D[Z+F]=j}else if(f5==128){var a=x[z];
z++;var b=x[z];z++;f5=a<<8|b;for(var F=0;F<f5;F++)D[Z+F]=x[z+F];z+=f5}else{f5=256-f5;for(var F=0;F<f5;
F++)D[Z+F]=x[z+F];z+=f5}Z+=f5}}}else if(o==2){var W=pako.inflate(x.slice(z)),c=Math.round(W.length/A);
for(var F=0;F<A;F++){var Y=F*c;L[0][F]=W[Y];L[1][F]=W[Y+1];L[2][F]=W[Y+2];L[3][F]=c==3?255:W[Y+3]}}else alert("Unknown compression "+o)};
aO.qd=function(x,z,A,o){var i=o==4?m.l:m.Kl;while(!0){var L=i(x,z);z+=o;if(L==0)break;else A.push(L)}return z};
aO.aP=function(x,z,A){while(!0){var o=m.l(x,z);z+=4;var i=m.l(x,z);z+=4;if(o==ej.att)break;else if(o==ej.oK)A[o]=aO.aj7(x,z,z+i);
else A[o]=m.xE(x,z,i);z+=i}return z};aO.aj7=function(x,z,A){var o={};while(z<A){var i=m.tT(x,z);z+=i.dc;
var L=m.l(x,z);z+=4;if(L!=1)console.log("unknown flags",L);var B=m.l(x,z);z+=4;o[i.Ww]=m.xE(x,z,B);z+=B}return o};
var ej={att:0,avH:1,ab3:2,afn:3,a97:4,a5q:5,AD:6,jc:7,O4:8,agL:9,acv:10,Ep:11,ajw:12,a4Q:13,adQ:14,yI:15,amM:16,am3:17,aav:18,akC:19,a2w:20,oK:21,acQ:22,a15:23,aan:24,ab5:25,a0R:26,asG:27,a8Q:28,ags:29,P6:30,Gs:31,aiW:32,afy:33,apf:34,awW:35,a7_:36,ar_:37,a1$:38,aty:0,ai9:1,a5E:2,ail:3,as8:1,as$:2,aci:0,abj:1,aai:1};
ej.akB="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var bh=function(){var x=!1,z,A,V;function o(){var M=m.dX(z,A,4);A+=4;return M[3]+M[2]+M[1]+M[0]}function i(){var M=m.dX(z,A,4);
A+=4;return M}function L(){var M=z[A];A+=1;return M}function B(){var M=m.FJ(z,A);A+=2;return M}function D(){var M=m.GQ(z,A);
A+=4;return M}function Z(){var M=m.Hf(z,A);A+=4;return M}function j(){var M=m.GQ(z,A);A+=8;return M}function a(){var M=m.fU(z,A);
A+=4;return M}function b(){var M=m.SV(z,A);A+=8;return M}function W(){var M=m.FJ(z,A),q=m._X(z,A+2,M);
A+=2+M;return q}function c(){var M=m.GQ(z,A),q=m._X(z,A+4,M);A+=4+M;return q}function Y(M){A=M;var q=[];
while(A!=0){var t=i();if(t!="#FT4"&&t!="#FT3"&&t!="#FT2")throw t;var p=j(),E=j(),_=j(),S=j(),y=j(),v=D(),r=D(),K=D(),s=B(),P=L(),d={};
q.push(d);for(var F=0;F<v;F++){var X=D(),U=L();if(U!=0&&U!=1&&U!=2)throw U;var n=[];if(U==0||U==1){var e=j(),J=j(),C=j(),H=D(),u=L(),bc=D(),jK=t!="#FT4"?0:D(),N=null;
if(t=="#FAT"||t=="#FT2"){switch(u){case 1:u=1;break;case 2:u=65;break;case 3:u=129;break;case 4:u=193;
break;default:u=0;break}}if(U==0)N=W();n=[e,J,C,u,N]}d["i"+X]=[U,n]}for(var F=0;F<s;F++){var he=B(),gJ=B(),kg=j(),cJ=m.dX(z,A,he);
A+=he}A=p}q.reverse();for(var it=1;it<q.length;it++){var d=q[it],by=q[it]=JSON.parse(JSON.stringify(q[it-1]));
for(var cz in d){var fG=d[cz];if(fG[0]==0)by[cz]=fG;else if(fG[0]==1){fG[1][4]=by[cz][1][4];by[cz]=fG}else if(fG[0]==2)delete by[cz]}}var ju=q.pop(),gW=[];
for(var cz in ju)gW.push(ju[cz][1]);gW.sort(function(iI,ht){return iI[0]-ht[0]});return gW}function R(M,q,t,p){while(A<z.length){var E=L(),v=null;
if(E==0){if(p){var _=L();if(_!=2){var S=o()}if(_==0)A+=4;p=!1;continue}else{break}}var y=o();if(x)console.log("  ".repeat(q),E,E&127,y,M._type);
if(E>127)v=$(E,q,t);else v=k(E,q,t);M[y]=v}}function $(M,q,t){var p=[];M=M&127;if(M==43)A+=4;var E=D();
if(M==50){var _=o(),S=B();if(S!=1)throw"e";for(var F=0;F<E;F++){var y={_status:"NotShared",_type:_};
p.push(y);var v=L();if(v!=1)throw v;R(y,q+1,t)}}else for(var F=0;F<E;F++){p.push(k(M,q,t));if(M==42)M=2}return p}function k(M,q,t){var p=null;
if(M==49){p={};var E=L();if(E!=0){var _=D();if(t==null){p._id=_;p._status=["Shared","Link"][E-1]}if(t&&E==2)p=t[_];
if(E==1){if(t)t[_]=p;var S=L(),y=!1;if(S>1)throw S;p._type=o();if(x)console.log("  ".repeat(q),"new",p._type,S,A);
if(S==0){while(!0){var v=B();if(v!=0&&v!=1&&v!=2&&v!=4)throw v;if(z[A]!=0){y=!0;break}var r=B();if(r==512)break;
var K=o();if(r==256)break}}R(p,q+1,t,y)}}}else if(M==50){p={_status:"NotShared"};if(L()==1){p._type=o();
A+=2;R(p,q+1,t)}}else if(M==1)p={type:"byte",value:L()};else if(M==2)p={type:"uint16",value:B()};else if(M==3)p={type:"uint32",value:D()};
else if(M==4)p={type:"uint64",value:j()};else if(M==7)p={type:"int32",value:Z()};else if(M==8)p={type:"int64",value:j()};
else if(M==9)p={type:"float32",value:a()};else if(M==10)p={type:"float64",value:b()};else if(M==21)p={type:"Vec2i",value:[D(),D()]};
else if(M==23)p={type:"Vec4i",value:[D(),D(),D(),D()]};else if(M==33)p={type:"Vec4f",value:[a(),a(),a(),a()]};
else if(M==36)p={type:"Vec2",value:[b(),b()]};else if(M==38)p={type:"Vec4",value:[b(),b(),b(),b()]};
else if(M==40)p={type:"Vec6",value:[b(),b(),b(),b(),b(),b()]};else if(M==41)p={type:"bool",value:L()!=0};
else if(M==42)p={type:"Enum",value:D()};else if(M==43)p={type:"string",value:c()};else if(M==44){var s=B();
p={type:"curv16",value:[b(),s==12?[L(),L(),L(),L()]:[D(),D()]]}}else if(M==45){var s=D();p={type:"buff",value:z.slice(A,A+s)};
A+=s}else if(M==47){p={type:"uint32",value:D()}}else if(M==48){var P=[],d=B();if(d!=1)throw d;if(z[A]==135){var X=$(L(),q+1,t),U=$(L(),q+1,t),n=$(L(),q+1,t);
P=[X,U,n]}else{var e=1;if(z[A]==3){L();e=D()}for(var F=0;F<e;F++){if(L()!=41)throw"e";var _=L();if(_!=0&&_!=1)throw _;
if(L()!=172)throw"e";var J=D(),C=B(),H=[];P.push(H);if(C!=18)throw C;if(J>2e3)throw J;for(var u=0;u<J;
u++)H.push([b(),b(),L(),L()])}}A++;p={type:"curve",value:P}}else if(M==51){p={type:"EmbeddedData"};p[o()]=c()}else if(M==52)p={type:"uint32",value:D()};
else if(M==56)p={type:"Color32",value:[L(),L(),L(),L()]};else if(M==60)p={type:"ColorGRAY",value:[a(),a()]};
else if(M==68)p={type:"ColorRGBA",value:[a(),a(),a(),a()]};else if(M==72)p={type:"ColorCMYK",value:[a(),a(),a(),a(),a()]};
else{throw M}return M==49||M==50||M==51?p:p.value}function w(M){var q=0,t=M.length;for(var F=0;F<t;F++)M[F]=q=q+M[F]&255}function h(M){z=M;
A=4;var q=D(),t=i();if(t!="nsrP")throw t;var t=i();if(t!="#Inf")throw t;var p=j();V=j();var E=j(),_=j(),S=j(),y=D(),v=D(),t=i();
if(t!="Prot")throw t;var y=D(),r=Y(p),K={},s=Date.now();for(var P=0;P<r.length;P++){var d=r[P],X=d[3],C=null;
A=d[0];var t=i();if(t!="#Fil")throw t;var U=X>>>5&1,n=X&3,e=X&192;switch(e){case 64:e=1;U=0;break;case 128:e=2;
break;case 192:e=3;break;default:e=0;U=0}var J=new Uint8Array(z.buffer,A,d[2]);if(n==0)C=J;else if(n==1)C=pako.inflate(J);
else if(n==2)C=iF.wv.Ib(J,d[1]);else throw n;if(U==0){if(e==1)w(C);if(e==2)throw"e"}else throw U;K[d[4]]=C}return K}function l(M){var q=h(new Uint8Array(M));
z=q["doc.dat"];A=16;var t={};R(t,0,[]);return[q,t,V]}return{arK:l}}();function cZ(){}cZ.l6=function(){function x(c,Y){var R=Date.now(),$=bh.arK(c),k=$[0],w=$[1],V=$[2],h=w.DocR,l=h.DfSz,M=h.Chld;
if(M.length!=1)throw"e";var q=M[0],t=q.SprB;M=q.Chld;Y.m=~~t[2];Y.n=~~t[3];Y.buffer=f.C(Y.m*Y.n*4);var p=[0,{}];
for(var F=0;F<M.length;F++)i(M[F],Y,k,new cb,p);Y.sC(p[0]);console.log(Date.now()-R,"Document created");
R=Date.now()}function z(c){return new cb(c[0],c[3],c[1],c[4],c[2],c[5])}function A(c,Y){var R=Y.Xfrm;
R=R?z(R):new cb;R.concat(c);return R}function o(c){var Y={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[c];
return Y?Y:"norm"}function i(c,Y,R,$,k){var w=c._type,V=c.Chld,h=Y.Ad();h.rk(c.Desc==null||c.Desc==""?w=="Grup"?"Folder":"Layer":c.Desc);
h.uO(c.Visi);h.opacity=Math.round(255*c.Opac);if(c.FOpc!=1)h.add.iOpa=Math.round(255*c.FOpc);var l=c.Blnd;
if(l!=null)h.Cz=o(l);var M=A($,c),q=w=="ShpN"||w=="PCrv";if(V){Y.g.push(Y.Qy());h.add.lsct=hF.X7;h.Cz="pass";
h.Fu=24;if(w=="ShpN"){var t=c.ShpB;h.T4(new av(t[0]+M.ZT,t[1]+M._s,t[2]-t[0],t[3]-t[1]));k[0]++;h.add.artb.Clr={t:"Objc",v:f.Q.Vv({w:255,a:255,s:255})}}for(var F=0;
F<V.length;F++)i(V[F],Y,R,M,k)}else if(w=="Rstr"||w=="ImgN"||w=="MRst"){var p=c.Bitm,E=p.Bckg,_=Date.now(),S;
if(E==null){S=j(p,R,k[1]);h.rect=S[2].clone();h.buffer=S[1].slice(0);h.rect.x+=M.ZT;h.rect.y+=M._s}if(E||M._q()!=1){var y,v=0,r=0;
if(E){var K=R[E.Data],s=m.rz(K,"ataD")+4,P=m.GQ(K,s);s+=4;y=K.slice(s,s+P)}else{v=h.rect.x-M.ZT;r=h.rect.y-M._s;
if(S[3]==null)S[3]=new Uint8Array(iF.Lg("PNG").ys([[h.buffer.buffer]],h.rect.m,h.rect.n));y=S[3].slice(0)}var d=Y.za(y,h.getName(),0,0);
d.Fu=h.Fu;d.opacity=h.opacity;h=d;var X=new cb;X.translate(v,r);X.concat(M);var U=h.rect.clone();U.x=U.y=0;
var n=f.p.Mm(U).v;f.p.D(n,X,n);h.add.SoLd.Trnf=Q.S.rL(n);h.add.SoLd.nonAffineTransform=Q.S.rL(n);h._6(Y,!1)}}else if(w=="TxtA"||w=="TxtF"){h.add.lnsr="rend";
h.add.TySh=am.P9(0,0);h.add.TySh.t0=new av(0,0,100,100);var e=c.TxtH.FrmB,J=new cb,bc=0;J.translate(e[0],e[1]);
J.concat(M);h.add.TySh.D=J;var C=h.add.TySh.gP,H=c.StSt,u=H.Blok;if(u.length!=1)throw"e";for(var jK=0;
jK<u.length;jK++){var N=u[jK],he=bc,gJ=0,kg=N.Glyp.Utf8;kg=kg.replace(/\u2028/g,"\n");kg=kg.replace(/\u2029/g,"\n");
kg=kg.slice(0,kg.length-1);am.tW(C,bc,kg);bc+=kg.length;var cJ=N.GAtt.Runs,it=N.PAtt.Runs[0],by=it.Item.Ints[0];
for(var cz=0;cz<cJ.length;cz++){var fG=cJ[cz],ju=fG.Indx,gW=fG.Item,iI=gW.Objs,ht=am.En(C,he,1);ht.tl.Justification=by==0?0:by==1?2:1;
am.Lk(ht,gW.DFnt.Post);ht.i8.FontSize=gW.Doub[0];for(var F=0;F<iI.length;F++){var et=iI[F];if(et._type=="FDsc"){var be=et.FDeF;
if(be._type=="FilS"){var c9=Z(be.Colr);ht.i8.FillColor={Type:1,Values:[1,c9[0],c9[1],c9[2]]}}}}am.zz(C,he+gJ,he+Math.min(ju,kg.length),ht);
gJ=ju}}am.cn(C,1);am.Lf(C,[0,0,Math.round(e[2]-e[0]),Math.round((e[3]-e[1])*1.2)]);Y.t$=!0}else if(q){h.Fu|=16;
var aJ=h.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));h.add.vstk.strokeEnabled.v=!1;h.add.vogk=[];
var b6=h.add.vmsk=L(c);f.J.ox(b6._,M);if(c.BFFl){var ef=c.BFFl[0].FDeF,jV=ef._type;if(jV=="FilS")h.add.SoCo={classID:"null",Clr:D(ef.Colr)};
else if(jV=="FilG"){var hu=h.add.GdFl=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]);B(ef,hu)}else if(jV=="FilN"){h.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:0,a:0,s:0})}};
aJ.fillEnabled.v=!1}else console.log(jV)}if(c.LILn){var eG=c.LILn[0].LDeL,k8=eG.Wght;if(k8!=0){aJ.strokeEnabled.v=!0;
aJ.strokeStyleLineWidth.v.val=k8;var ef=c.LIFl[0].FDeF,jV=ef._type;if(jV=="FilS")aJ.strokeStyleContent.v.Clr=D(ef.Colr);
else if(jV=="FilN")aJ.strokeEnabled.v=!1}}h.cm(Y)}else console.log(w);var eE=c.AdCh,jD=[];if(eE)for(var F=0;
F<eE.length;F++){var a_=eE[F],cH=a_._type;if(cH=="ShpN"||cH=="PCrv"){var b6=h.add.vmsk=L(a_),ic=A(M,a_);
f.J.ox(b6._,ic);h.cm(Y)}else if(a_.AdjP){var aj=a_.AdjP,ay=aj._type,dS={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[ay];
if(dS==null){console.log(aj);continue}var hC=h6.SB(dS,{});jD.push(hC);var eq=hC.v.Fltr.v;if(ay=="LevP"){var ck=gy.FL(eq,0);
ck[0]=aj.OutB*255;ck[1]=aj.OutW*255;gy.D3(eq,0,ck)}else if(ay=="WhBP"){var ck=gy.FL(eq,2);ck[4]=100+aj.WBTi*20;
gy.D3(eq,2,ck);var ck=gy.FL(eq,3);ck[4]=100+aj.WBTi*200;gy.D3(eq,3,ck)}else if(ay=="HSSP"){var ck=cA.FL(eq,0);
ck[0]=Math.round(aj.HueA*256);ck[1]=Math.round(aj.SatA*256);ck[2]=Math.round(aj.LumA*256);cA.D3(eq,0,ck)}else if(ay=="RecP"){eq.Clrz.v=!0;
var ck=cA.FL(eq,0);ck[0]=Math.round(aj.RecH*100);ck[1]=Math.round(aj.RecS*100);ck[2]=Math.round(aj.RecL*100);
cA.D3(eq,0,ck)}else if(ay=="B&CP"){eq.Brgh.v=Math.round(aj.Brig*100);eq.Cntr.v=Math.round(aj.Ctrs*100-100)}else if(ay=="PosP"){eq.Lvls.v=aj.Post}else if(ay=="VibP"){eq.vibrance.v=aj.Vibr-100;
eq.Strt.v=Math.round(aj.Satu*100)}else if(ay=="ExpP"){eq.Exps.v=aj.Expo;eq.gammaCorrection.v=aj.Gamm/2.2}else if(ay=="ThrP"){eq.Lvl.v=Math.round(aj.Thre*255)}else if(ay=="CrvP"){var eL=aj.Mast["Cnt "],gj=aj.Mast.Vals,ck=e8.FL(eq,0),bv=ck[0];
for(var dK=0;dK<eL;dK++){var cC=ck[dK]=JSON.parse(JSON.stringify(bv));cC.v.Hrzn.v=Math.round(gj[dK]*255);
cC.v.Vrtc.v=Math.round(gj[4+dK]*255)}e8.D3(eq,0,ck)}}else console.log(a_)}if(jD.length!=0){h.add.SoLd.filterFX=h6.NW();
Y.o2({id:h.add.SoLd.placed.v,rect:new av,buffer:f.C(1),B:new g.$R});h.add.SoLd.filterFX.v.filterFXList.v=jD;
h._6(Y,!1)}var iv=c.FiEf;if(iv&&iv.length!=0){var dJ=h.add.lmfx=JSON.parse(gN.default);for(var F=0;F<gN.order.length;
F++)dJ[gN.OX[F]]={t:"VlLs",v:[]};for(var km=0;km<iv.length;km++){var fq=iv[km],dV=fq._type,im={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[dV],hu=im?JSON.parse(gN.NK[gN.order.indexOf(im)]):null;
if(dV=="ColO"){hu.Clr=D(fq.Colr)}else if(dV=="GrdO"){B(fq.GrFl.FDeF,hu)}else if(dV=="Shad"||dV=="InnS"||dV=="OutG"||dV=="InnG"){hu.Clr=D(fq.Colr);
hu.blur.v.val=Math.round(fq.Radi/2.4);if(fq.Offs!=null){hu.Dstn.v.val=fq.Offs;hu.lagl.v.val=Math.round(180-fq.Angl*180/Math.PI);
hu.uglg.v=!1}}else if(dV=="Strk"){hu.Clr=D(fq.Colr);hu.Sz.v.val=Math.round(fq.Radi)}else if(dV=="PhgB"||dV=="BevE"){hu.blur.v.val=Math.round(fq.Radi);
if(dV=="BevE")hu.bvlS.v.BESl="PlEb"}else if(dV=="Gaus"){if(q&&fq.Enab){h.add.vmsk.Jc=fq.Radi/2.4;h.add.vmsk.h9=!0;
h.cm(Y)}}if(im){hu.enab.v=fq.Enab;if(hu.Md&&fq.BlnM!=null)hu.Md.v.BlnM=b_.d$(o(fq.BlnM));if(hu.Opct&&fq.Opac!=null)hu.Opct.v.val=Math.round(fq.Opac*100);
var d8=gN.OX[gN.order.indexOf(im)];dJ[d8].v.unshift({t:"Objc",v:hu})}}}Y.g.push(h)}function L(c){var Y=new g.tZ,R=c._type;
if(R=="PCrv"){var $=c.Crvs.Data,k=[],w=[];for(var F=0;F<$.length;F++){var V=$[F];if(V.length%3!=1){V=V.slice(1,V.length-1)}for(var h=0;
h<V.length;h++){var l=V[h],M=l[2];if(M!=0)k.push(h==0?"M":"C");w.push(l[0],l[1])}}Y._=f.p.fq({v:w,F:k},!0)}else{var q=c.ShpB,t=c.Shpe,p=t._type,E=q[2]-q[0];
if(p=="ShpE"){Y._=f.J.Ja.sq(q[0],q[1],q[2]-q[0],q[3]-q[1])}else if(p=="ShNR"){var _=[0,0,0,0];if(t.CTyp){_=t.ShCR.slice(0);
for(var F=0;F<4;F++)_[F]*=q[2]-q[0]}Y._=f.J.Ja.Rect(q[0],q[1],q[2]-q[0],q[3]-q[1],_)}else if(p=="ShpT"){Y._=f.p.fq({F:["M","L","L","Z"],v:[q[0],q[3],q[2],q[3],q[0]+E*.5,q[1]]},!0)}else if(p=="ShTz"){Y._=f.p.fq({F:["M","L","L","L","Z"],v:[q[0]+E*t.PosL,q[1],q[0]+E*t.PosR,q[1],q[2],q[3],q[0],q[3]]},!0)}else{console.log("--",p);
Y._=f.J.Ja.Rect(q[0],q[1],q[2]-q[0],q[3]-q[1],[0,0,0,0])}}return Y}function B(c,Y){var R=c.Grad,$=R.Cols;
Y.Type.v.GrdT=c.Type==0?"Lnr":"Rdl";var k=[];for(var F=0;F<$.length;F++){var w=Z($[F]);k.push([R.Posn[F][0],w])}Y.Grad.v.Intr.v=0;
f.Q.uW(k,Y.Grad.v);var V=R.Posn,h=new iL(V[0][0],V[0][1]),l=new iL(V[1][0],V[1][1]);if(c.Type==0)h=new iL((h.x+l.x)/2,(h.y+l.y)/2);
f.Q.e2(h,l,new av(0,0,1,1),Y)}function D(c){var Y=Z(c);return{t:"Objc",v:f.Q.Vv({w:Y[0]*255,a:Y[1]*255,s:Y[2]*255})}}function Z(c){var Y=c._col,R=c._type;
if(R=="HSLA"){var $=f.ug(Y[0],Y[1],Y[2]);return[$.w,$.a,$.s,Y[3]]}else if(R=="RGBA")return Y;else if(R=="CMYK"){var k=1-Y[3];
return[(1-Y[0])*k,(1-Y[1])*k,(1-Y[2])*k]}else if(R=="GRAY")return[Y[0],Y[1],Y[2]];else{console.log(Y);
throw R}}function j(c,Y,R){var $=c.Frmt,_="";if($!=0&&$!=4&&$!=6)throw $;var k=c.BmpW,w=c.BmpH,V=$==4?5:$==0?4:1,h=Math.ceil(k/256),l=Math.ceil(w/256),M=new av(0,0,h,l),q=new av;
for(var F=0;F<V;F++){var t=new Uint8Array(c["Sta"+(F+1)]),p=f.mI(t,M);q=q.QM(p)}var E=[];for(var F=0;
F<V;F++){var t=new Uint8Array(c["Sta"+(F+1)]),S=f.C(q.$());f.K5(t,M,S,q);E[F]=[];for(var y=0;y<S.length;
y++)E[F][y]=S[y];_+=JSON.stringify(E[F])+","+JSON.stringify(c["Idx"+(F+1)])+","}if(R[_]==null){var v=q.m*256,r=q.n*256,K=new Array(V);
for(var F=0;F<V;F++){var t=K[F]=new Uint8Array(v*r);a(t,c["Idx"+(F+1)],E[F],Y,v,r)}var s=f.C(v*r*4);
if($==0)f.Ve({w:K[0],a:K[1],s:K[2],xc:K[3]},s);else if($==4){for(var F=0;F<K[0].length;F++){var P=F*4,d=K[0][F]*(1/255),X=K[1][F]*(1/255),U=K[2][F]*(1/255),n=K[3][F]*(1/255),e=UDOC.C.cmykToRgb([d,X,U,n]);
s[P]=e[0]*255;s[P+1]=e[1]*255;s[P+2]=e[2]*255;s[P+3]=K[4][F]}}else{s.fill(255);f.c3(K[0],s)}var J=new av(0,0,v,r),C={buffer:s,rect:J};
f.H9(C);R[_]=[C.rect,C.buffer]}var p=R[_][2]=R[_][0].clone();p.x+=q.x*256;p.y+=q.y*256;return R[_]}function a(c,Y,R,$,k,w){var V=0,h=k>>>8,l=w>>>8;
for(var M=0;M<l;M++)for(var q=0;q<h;q++){var t=q*256,p=M*256,E=M*h+q,_=p*k+t,S=R[E];if(S<=1)b(c,_,0,k,256,256);
else if(S==2)b(c,_,4294967295,k,256,256);else if(S==4){var y=Y[V];V++;var v=$[y.Data.DatI],r=y.Rect;
if(r==null)r=[0,0,256,256];b(c,_,0,k,256,256);W(c,(p+r[1])*k+t+r[0],v,r[1]*256+r[0],k,256,r[2]-r[0],r[3]-r[1])}else console.log(S)}}function b(c,Y,R,$,k,w){var V=Y+$*w;
for(;Y<V;Y+=$){var h=Y+k;for(var l=Y;l<h;l++){c[l]=R}}}function W(c,Y,R,$,k,w,V,h){var l=Y+k*h,M=$+w*h;
for(;Y<l&&$<M;Y+=k,$+=w){for(var F=0;F<V;F++)c[Y+F]=R[$+F]}}return x}();function gE(){}gE.l6=function(x,z){var A=gE,o=fv.parse(x),L=0;
if(o.pages.length>1)console.log(o.pages.length,"pages");var i=[],B=new av;for(var D=0;D<o.pages.length;
D++){var Z=o.pages[D],j=Z.layers,a=A.Jr(j,D),W=!1;if(a.$()>8e3*8e3||a.m>3e4||a.n>3e4){A.Wo(j,!0);var b=A.Jr(j,D);
if(b.$()>=a.$())A.Wo(j,!1)}a=A.Jr(j,D);for(var c=0;c<j.length;c++){var Y=j[c];if(A.qn(Y)=="artboard")W=!0}if(!W){console.log("no artboard");
var R={};for(var $ in Z)R[$]=Z[$];R._class="group";Z.layers=[R]}i.push(a.clone());if(a.WT())continue;
a.x=0;a.y=L;L+=a.n+200;B=B.QM(a)}var k={};if(o.foreignSymbols)for(var F=0;F<o.foreignSymbols.length;
F++){var w=o.foreignSymbols[F].symbolMaster;k[w.symbolID]={mE:w}}A.S2(o.pages,k,z);for(var V in k){var Y=k[V].mE,h=A.$c(Y.layers)}var l=gE.Ml(B,8192*8192);
z.t$=!0;z.m=Math.round(B.m/l);z.n=Math.round(B.n/l);z.buffer=f.C(z.m*z.n*4);z.sC(o.pages[0].layers.length);
z.bH={};z.$Y=[];L=0;for(var D=0;D<o.pages.length;D++){var M=o.pages[D],a=i[D],q=new cb(l,0,0,l,a.x,a.y-L);
A.Oq(M.layers,z,q,o,k,{},[]);L+=a.n+200}delete z.bH;delete z.$Y;if(l!=1)alert("File scaled down "+l+"x");
z.ajK()};gE.akm=0;gE.qn=function(x){return x._class?x._class:x.$class};gE.Ml=function(x,z){var A=1;while(Math.round(x.m/A)*Math.round(x.n/A)>z||Math.max(Math.round(x.m/A),Math.round(x.n/A))>3e4)A++;
if(A!=1&&!window.confirm("Your image is quite large ("+x.m+" x "+x.n+" px).\n"+"Press OK to scale it down "+A+"x, or Cancel to keep the size."))A=1;
return A};gE.Jr=function(x,z){var A=[],o=gE;for(var i=0;i<x.length;i++){var L=x[i],B=o.$v(L.frame);if(z==0||o.qn(L)=="artboard")A.push(B)}return f.rect.FI(A)};
gE.Wo=function(x,z){var A=[],o=gE;for(var i=0;i<x.length;i++){var L=x[i],B=o.$v(L.frame);B.m+=150;B.n+=150;
A.push(B)}var D=f.rect.FI(A);f.rect.abB(A,z);var Z=f.rect.FI(A);if(Z.$()*1.5<D.$()||D.m>3e4&&Z.m<=3e4||D.n>3e4&&Z.n<=3e4){alert("Re-arranging artboards");
for(var i=0;i<x.length;i++){var j=A[i],L=x[i],a=L.frame;a.x=j.x;a.y=j.y}}};gE.S2=function(x,z,A){var o=gE;
for(var i=0;i<x.length;i++){var L=x[i],B=o.qn(L);if(["page","artboard","group"].indexOf(B)!=-1)o.S2(L.layers,z,A);
else if(B=="symbolMaster")z[L.symbolID]={mE:L}}};gE.$c=function(x){var z=gE;for(var A=0;A<x.length;A++){var o=x[A],i=z.qn(o),L=null;
if(["page","artboard","group"].indexOf(i)!=-1)L=z.$c(o.layers);if(i=="symbolMaster"||i=="symbolInstance")L=o;
if(L!=null)return L}return null};gE.Oq=function(x,z,A,o,i,L,B){var D=gE,Z=[];for(var j=0;j<x.length;
j++){var a=x[j],b=a.frame?D.$v(a.frame):null,W=a.style,k="",q=null,t=!1;if(W==null){console.log("no styles")}var c=D.CV(a,A),Y=D.qn(a),R=Y=="shapeGroup"||Y=="shapePath"||Y=="rectangle"||Y=="oval"||Y=="triangle"||Y=="polygon",$=["page","artboard","group"].indexOf(Y)!=-1;
if(Y=="shapeGroup"){for(var F=0;F<a.layers.length;F++)if(D.qn(a.layers[F])=="shapeGroup")$=!0}var w=a.exportOptions;
if(w){var V=w.exportFormats;if(V==null)V=w.sizes;if(Y!="artboard"&&(V&&V.length!=0)){var h=V[0].scale}}var l=z.Ad();
l.uO(a.isVisible);var M=a.name;if(!(typeof M=="string"))M=Y;l.rk(k+M.slice(0,250));if(W!=null)q=D.a8N(o,z,W,b,c,l.getName(),R||Y=="artboard"||$);
if(Y=="rectangle"&&W&&W.fills&&W.fills[0]){var p=W.fills[0];if(p.fillType==4&&p.patternFillType>1&&p.image!=null)t=!0}if(a.shouldBreakMaskChain){while(Z.length!=0)D.VZ(Z.pop(),z)}if($){l.add.lsct=a.layerListExpandedType==2?hF.X7:hF.$Z;
l.Cz="pass";l.Fu=24;l.uO(a.isVisible);z.g.push(z.Qy());if(Y=="artboard"){var E=b.clone(),_=c._q();E.x=-Math.floor(c.ZT/_);
E.y=-Math.floor(c._s/_);E.m=Math.floor(E.m/_);E.n=Math.floor(E.n/_);l.T4(E);var S=a.backgroundColor,y=S?{w:255*S.red,a:255*S.green,s:255*S.blue}:{w:255,a:255,s:255};
l.add.artb.Clr={t:"Objc",v:f.Q.Vv(y)};l.add.artb.artboardBackgroundType={t:"long",v:4}}D.Oq(a.layers,z,c,o,i,L,B)}else if(R&&!t){l.add.vmsk=new g.tZ;
l.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));l.add.vstk.strokeEnabled.v=!1;l.add.vogk=[];var v=q!=null&&q.frameFXMulti.v.length==1,r=W?W.fills:null,K=W?D.sk(o,r,b,c,l.getName(),z,D.gg(B,a.do_objectID+"_image")):[];
if(K.length==0){if(v)l.add.vstk.fillEnabled.v=!1;else l.add.iOpa=0;l.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:0,a:0,s:0})}}}else{var s=K[0],P=null,d=null;
if(s.type=="SoFi"){P="SoCo";d=gN.ww}if(s.type=="GrFl"){P="GdFl";d=gN.B_}if(s.type=="patternFill"){P="PtFl";
d=gN.Lm}if(P!=null){l.add[P]={classID:"null"};for(var F=0;F<d.length;F++){var X=d[F];l.add[P][X]=s.h.v[X]}var U=s.h.v.Opct.v.val;
if(v&&U==0)l.add.vstk.fillEnabled.v=!1;else l.add.iOpa=Math.round(255*U/100)}}l.Fu|=16;l.add.vmsk._=D.xo(a.layers?a.layers:[a],a.layers?c:A,l.add.vogk);
var n=W?W.blur:null;if(n&&n.isEnabled&&n.type<=1)l.add.vmsk.Jc=n.radius;if(l.add.vmsk._.length==2){console.log("shape with no content:",l.getName())}if(v){var e=q.frameFXMulti.v[0].v,J=l.add.vstk,C=W.borders[0];
q.frameFXMulti.v=[];ct.adK(e,J);var H=W.borderOptions,u=W.miterLimit;if(H){var bc=H.dashPattern;J.strokeStyleLineCapType.v.strokeStyleLineCapType=gN.J9.qA[H.lineCapStyle];
J.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gN.J9.join[H.lineJoinStyle];if(bc)J.strokeStyleLineDashSet.v=ct.a3(bc,1/e.Sz.v.val);
if(u!=null)J.strokeStyleMiterLimit.v=u}}l.cm(z)}else if(Y=="bitmap"||t){if(!t&&a.image==null)continue;
var jK=t?W.fills[0]:null,N=t?jK.image.bdata:a.image.bdata,he=z.za(N,l.getName(),0,0);he.Fu=l.Fu;l=he;
var n=W?W.blur:null,gJ=W?W.colorControls:null;if(n||gJ){l.add.SoLd.filterFX=h6.NW();z.o2({id:l.add.SoLd.placed.v,rect:new av,buffer:f.C(1),B:new g.$R});
var r=l.add.SoLd.filterFX.v.filterFXList.v;if(n){var kg=h6.SB("GsnB",{});kg.v.enab.v=n.isEnabled;kg.v.Fltr.v.Rds.v.val=n.radius;
r.push(kg)}if(gJ){var cJ=gJ.brightness,it=gJ.contrast,by=gJ.hue,cz=gJ.saturation;if(by!=0||cz!=1){var kg=h6.SB("hue2",{});
kg.v.enab.v=gJ.isEnabled;cA.D3(kg.v.Fltr.v,0,[Math.round(by*180/Math.PI),Math.round((cz-1)*100),0]);
r.push(kg)}if(cJ!=0||it!=1){var kg=h6.SB("brit",{});kg.v.enab.v=gJ.isEnabled;it=it-1;if(it>0)it/=2;var fG=kg.v.Fltr.v;
fG.Brgh.v=Math.round(cJ*255);fG.Cntr.v=Math.round(it*255);fG.useLegacy.v=!0;r.push(kg)}}}if(t){var ju=jK.patternFillType;
if(ju==3){var gW=l.rect.m/l.rect.n,iI=b.m/b.n;if(gW<iI){c.translate(-(b.m*(1-gW/iI))/2,0);c.scale(iI/gW,1)}else{c.translate(0,-(b.n*(1-iI/gW))/2);
c.scale(1,gW/iI)}}}b.x=b.y=0;var ht=f.p.Mm(b).v;c.Qs();f.p.D(ht,c,ht);l.add.SoLd.Trnf=Q.S.rL(ht);l.add.SoLd.nonAffineTransform=Q.S.rL(ht);
l._6(z,!1)}else if(Y=="text"){if(a.attributedString==null)continue;var et=c.clone(),be,c9,hu=0;et.Qs();
et.xc=et.y9=Math.min(et.xc,et.y9);l.add.lnsr="rend";l.add.TySh=am.P9(0,0);l.add.TySh.t0=new av(0,0,b.m,b.n);
l.add.TySh.D=et;var aJ=a.attributedString;if(aJ.archivedAttributedString)aJ=aJ.archivedAttributedString;
var b6=aJ.NSString;if(b6==null)b6=aJ.string;if(b6==null)b6="";if(b6["NS.string"])b6=b6["NS.string"];
if(L[a.do_objectID]!=null)b6=L[a.do_objectID];var ef=D.gg(B,a.do_objectID+"_stringValue");if(ef)b6=ef.value;
if(aJ.attributes!=null){be=[];c9=[];var jV=aJ.attributes;for(var F=0;F<jV.length;F++){be.push(jV[F].length,F);
c9.push(jV[F].attributes)}}else if(aJ.NSAttributeInfo==null){be=[b6.length,0];c9=[aJ.NSAttributes]}else{be=aJ.NSAttributeInfo["NS.data"];
c9=aJ.NSAttributes;be=gE.aag(be,c9)}for(var F=0;F<be.length;F+=2)hu+=be[F];if(hu!=b6.length){while(hu>b6.length){be[be.length-2]--;
hu--;if(be[be.length-2]==0){be.pop();be.pop()}}be[be.length-2]+=b6.length-hu}b6=b6.replace(/\u2028/g,"\n");
b6=b6.replace(/\u2029/g,"\n");b6=b6.replace(/\r/g,"\n");var eG=l.add.TySh.gP;am.tW(eG,0,b6);if(b6!=""){var k8=a.textBehaviour,eE=W.textStyle,jD=eE?eE.verticalAlignment:0,a_=D.alX(eG,be,c9,b6),_=et._q(),cH=am.En(eG,0,1),ay=0;
if(cH.i8.Font){var ic=cH.Cr[cH.i8.Font].Name;if(ic=="FontAwesome"||ic=="Ionicons")a_*=.87}var aj=cH.i8.AutoLeading?0:cH.i8.Leading*.6,dS=Math.max(a_,aj)*_,hC=b.m,eq=b.n;
if(k8==0){am.cn(eG,0);var ck=am.zk(cH.tl);if(ck==1)ay=hC*_;if(ck==2)ay=hC*_*.5;if(jD==0)dS*=1;else dS*=.9}else{am.cn(eG,1);
am.Lf(eG,[0,0,Math.round(hC),Math.round(eq)]);if(k8==2&&jD==0)dS=dS*.2;else if(k8==2&&jD==1){dS=_*.5*(eq-cH.i8.FontSize)}else if(k8==1&&jD==0)dS=dS*.2;
else dS=dS*.35}l.add.TySh.D.translate(ay,dS)}}else if(Y=="symbolInstance"||Y=="symbolMaster"){var eL=a.symbolID;
if(L[a.do_objectID])eL=L[a.do_objectID].symbolID;var gj=D.gg(B,a.do_objectID+"_symbolID");if(gj)eL=gj.value;
if(eL=="")continue;var bv={};for(var X in L)bv[X]=L[X];if(a.overrides)for(var X in a.overrides)bv[X]=a.overrides[X];
var dK=B.slice(0);if(a.overrideValues)dK=dK.concat(a.overrideValues);var cC=i[eL];if(cC==null){console.log("Unknown master master",a.symbolID);
continue}var iv=gE.$v(cC.mE.frame),km=iv.m/b.m,aM=iv.n/b.n,fq=c.clone();fq.scale(km,aM);l.add.lsct=hF.$Z;
l.Cz="pass";l.Fu=24;l.uO(a.isVisible);z.g.push(z.Qy());var im=cC.mE;if(z.$Y.indexOf(im)==-1){z.$Y.push(im);
D.Oq(im.layers,z,fq,o,i,bv,dK);z.$Y.pop()}}else if(Y=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+Y,a);continue}if(W&&W.contextSettings){var d8=W.contextSettings,cI=d8.blendMode;
if(cI<D.gR.length){l.Cz=b_.Am[b_.p3.indexOf(D.gR[cI])];if($&&l.Cz=="norm")l.Cz="pass"}l.opacity=Math.round(l.opacity*d8.opacity)}if(q!=null){l.add.lmfx=q}z.g.push(l);
if(a.hasClippingMask&&x.length>1){Z.push(l);z.g.push(z.Qy())}}while(Z.length!=0)D.VZ(Z.pop(),z)};gE.gg=function(x,z){for(var F=0;
F<x.length;F++)if(x[F].overrideName.startsWith(z))return x[F]};gE.aag=function(x,z){var A=0,o=[];while(A+1<x.length){var i=x[A];
A++;if(i>127){i+=128*(x[A]-1);A++;if(x[A-1]>127){i+=128*(x[A]-1);A++}}var L=x[A];A++;o.push(i,L)}return o};
gE.alX=function(x,z,A,o){var i=gE,L=0,b=0,W=0;for(var F=0;F<o.length;F++){var B=o.charCodeAt(F),D=1473<=B&&B<=1479||1488<=B&&B<=1514||1520<=B&&B<=1524,j=1569<=B&&B<=1594||1600<=B&&B<=1749;
if(D||j)L++}var a=L>o.length/2;for(var F=0;F<z.length;F+=2){var c=z[F],M=14,q="DejaVuSans";if(c==0)continue;
var Y=z[F+1],R=A[Y],$=am.En(x,b,b+c-1),k=R.NSColor;if(k==null){var k=R.MSAttributedStringColorDictionaryAttribute;
if(k==null)k=R.MSAttributedStringColorAttribute;if(k==null)k="0 0 0";else k=[k.red,k.green,k.blue].join(" ")}else if(i.qn(k)=="MSArchivedColor")k=k.dr+" "+k.dg+" "+k.db;
else if(k.NSRGB){k=k.NSRGB;k=m.dX(k,0,k.length-1)}else if(k.NSCMYK){k=k.NSCMYK;k=m.dX(k,0,k.length-1);
k=k.split(" ").map(parseFloat);var w=1-k[0],V=1-k[1],h=1-k[2],l=1-k[3];k=w*l+" "+V*l+" "+h*l}else if(k.NSWhite){k="1 1 1"}k=k.split(" ");
$.i8.FillColor={Type:1,Values:[1,parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2])]};var t=R.MSAttributedStringFontAttribute;
if(R.NSFont){M=R.NSFont.NSSize;q=R.NSFont.NSName}else if(t){if(t.attributes){t=t.attributes;M=t.size;
q=t.name}else{var p=t.NSFontDescriptorAttributes;if(p==null)p=t.UIFontDescriptorAttributes;t=p;M=t.NSFontSizeAttribute;
q=t.NSFontNameAttribute}if(q==null)q="DejaVuSans"}var W=Math.max(W,M);$.i8.FontSize=Math.round(M);am.Lk($,q);
var E=R.NSKern;if(E==null)E=R.kerning;if(E!=null)$.i8.Tracking=Math.round(1e3*E/M);if(R.NSUnderline!=null)$.i8.Underline=R.NSUnderline>0;
var _=R.NSStrikethrough;if(_==null)_=R.strikethroughStyle;if(_!=null)$.i8.Strikethrough=_>0;if(R.MSAttributedStringTextTransformAttribute==1)$.i8.FontCaps=2;
var S=R.NSParagraphStyle;if(S==null)S=R.paragraphStyle;if(S){var y=S.paragraphSpacing;if(y!=null){$.tl.SpaceAfter=y}var v=S.NSAlignment;
if(v==null)v=S.alignment;if(v!=null){var r=0;if(!1){}else if(v==1)r=1;else if(v==2)r=2;else if(v==4)r=0;
else{r=v;console.log("unknown align",v)}if(a&&r<2)r=1-r;$.tl.Justification=r}var K=S.NSMinLineHeight;
if(K==null)K=S.minimumLineHeight;if(K!=null){$.i8.AutoLeading=!1;$.i8.Leading=K}}$.tl._Direction=a?1:0;
am.zz(x,b,b+c,$);b+=c}return W};gE.a8N=function(x,z,A,o,i,L,B){var D=gE,Z=JSON.parse(gN.default),j=!1;
for(var F=0;F<gN.order.length;F++)Z[gN.OX[F]]={t:"VlLs",v:[]};var a=A.fills,b=D.sk(x,a,o,i,L,z);for(var W=0;
W<2;W++){var c=A[["shadows","innerShadows"][W]];if(c==null)continue;var Y=["DrSh","IrSh"][W],R=gN.OX[gN.order.indexOf(Y)];
for(var F=0;F<c.length;F++){var $=c[F];if(!$.isEnabled)continue;if($.contextSettings.opacity==0||$.color.alpha==0)continue;
var k=JSON.parse(gN.NK[gN.order.indexOf(Y)]);Z[R].v.unshift({t:"Objc",v:k});j=!0;k.Clr.v=D.cK($.color);
k.blur.v.val=Math.round($.blurRadius/i._q());var w=i.clone();w.ZT=w._s=0;w.Qs();var V=w.nx(new iL($.offsetX,$.offsetY)),h=Math.sqrt(V.x*V.x+V.y*V.y);
k.Dstn.v.val=Math.round(h);k.lagl.v.val=Math.round(Math.atan2(V.y,-V.x)*(180/Math.PI));if(k.layerConceals)k.layerConceals.v=b.length!=0;
D.ir($,k)}}var l=A.borders;if(l!=null&&(b.length==0||A.blur==null||!A.blur.isEnabled))for(var F=0;F<l.length;
F++){var M=l[F];if(!M.isEnabled)continue;var k=JSON.parse(gN.NK[gN.order.indexOf("FrFX")]),R=gN.OX[gN.order.indexOf("FrFX")];
Z[R].v.unshift({t:"Objc",v:k});j=!0;k.Clr.v=D.cK(M.color);if(M.fillType!=0&&M.gradient){var q=D.wk(M.gradient,o,i,L),t=["Type","Angl","Ofst","Scl"];
for(var F=0;F<t.length;F++)k[t[F]]=q[t[F]];k.Grad.v=q.Grad.v;k.PntT.v.FrFl="GrFl"}k.Sz.v.val=M.thickness/i._q();
k.Styl.v.FStl=["CtrF","InsF","OutF"][M.position];D.ir(M,k)}for(var F=B?1:0;F<b.length;F++){var p=b[F],R=gN.OX[gN.order.indexOf(p.type)];
Z[R].v.unshift(p.h);j=!0}return j?Z:null};gE.sk=function(x,z,A,o,i,L,B){if(z==null)return[];var D=gE,Z=[];
for(var F=0;F<z.length;F++)if(z[F].isEnabled)Z.push(z[F]);z=Z;var j=[];for(var F=0;F<z.length;F++){var a=z[F],b=null,W=null;
if(a.fillType==0){b="SoFi";var c=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);W={t:"Objc",v:c};W.v.Clr.v=D.cK(a.color)}else if(a.fillType==1){b="GrFl";
W={t:"Objc",v:D.wk(a.gradient,A,o,i)}}else if(a.fillType==4&&a.image!=null){var Y=a.image;if(B)Y=B.value;
var R=iF.cd(Y.bdata.buffer);if(R!=null&&R!="pdf"&&R!="eps"){var $,M=0,q=0,t=0;if(L.bH[Y.key])$=L.bH[Y.key];
else{var k=iF.Lg(R).i0(Y.bdata)[0],w=k.xH.clone();$={};$.id=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f";$.name="someImage";
$.zH=[new Uint8Array(k.data),w];L.si($);L.bH[Y.key]=$}var V=$.zH[1],c=JSON.parse(gN.NK[gN.order.indexOf("patternFill")]);
b="patternFill";W={t:"Objc",v:c};var h=a.patternFillType,l=a.patternTileScale;c.Algn.v=!0;c.Ptrn.v.Idnt.v=$.id;
if(h==0){M=l*V.m/Math.min(V.m,V.n);q=-o.ZT;t=-o._s}else{M=Math.max(A.m/V.m,A.n/V.n);q=-o.ZT-(V.m*M-A.m)/2;
t=-o._s-(V.n*M-A.n)/2}c.Scl.v.val=100*M*(1/o._q());c.phase.v.Hrzn.v=Math.round(q/o._q());c.phase.v.Vrtc.v=Math.round(t/o._q())}}else if(a.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",a.fillType);
if(b!=null){D.ir(a,W.v);j.push({type:b,h:W})}}return j};gE.akF=function(x){var z=gE,A=new av(0,0,1,1);
x=x.slice(0);while(!0){var o=!1;for(var F=0;F<x.length-1;F++){var i=x[F],L=x[F+1],B=null,D=i.contextSettings;
if(i.fillType==0&&(D==null||D.opacity==1&&D.blendMode==0)&&i.color.alpha==1){var Z="norm",j=1,D=L.contextSettings;
if(D){j=D.opacity;Z=b_.Sa(z.gR[D.blendMode])}if(L.fillType==0){B=JSON.parse(JSON.stringify(L));z.YO(B.color,i.color,B.color,A,Z,j)}if(L.fillType==1){B=JSON.parse(JSON.stringify(L));
var a=B.gradient.stops;for(var b=0;b<a.length;b++)z.YO(a[b].color,i.color,a[b].color,A,Z,j)}if(B!=null&&B.contextSettings){var D=B.contextSettings;
D.opacity=1;D.blendMode=0}}if(B!=null){x.splice(F,0,B);o=!0;break}}if(!o||x.length<2)break}return x};
gE.YO=function(x,z,A,o,i,L){var B=gE,D=f.C(4);B.Nk(x,D);var Z=f.C(4);B.Nk(z,Z);f.q.lx(i,D,o,Z,o,o,L);
B.aq1(Z,A)};gE.Nk=function(x,z){z[0]=255*x.red;z[1]=255*x.green;z[2]=255*x.blue;z[3]=255*x.alpha};gE.aq1=function(x,z){z.red=x[0]/255;
z.green=x[1]/255;z.blue=x[2]/255;z.alpha=x[3]/255};gE.VZ=function(x,z){x=x.clone();x.Fu=24;x.rk("Mask by "+x.getName());
z.g.push(x);x.add.lsct=hF.X7;x.add.lyid=z.Q3();delete x.add.lmfx;delete x.add.SoCo;delete x.add.GdFl;
delete x.add.PtFl;delete x.add.iOpa;if(x.add.vmsk)x.add.vmsk.h9=!0;x.cm(z);if((x.Fu&16)==16)x.Fu-=16;
if((x.Fu&2)==2)x.Fu-=2;x.Cz="pass";x.opacity=255};gE.gR="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
gE.wk=function(x,z,A,o){A=A.clone();A.Qs();A.ZT=A._s=0;var i=A._q(),W=0,c=0;A.scale(1/i,1/i);var L=gE,B=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),D=B.Grad.v;
D.Intr.v=0;if(x==null)return B;var Z=x.gradientType,j=L.bZ(x.from),a=L.bZ(x.to);j.offset(-.5,-.5);a.offset(-.5,-.5);
j=A.nx(j);a=A.nx(a);var b=Math.atan2(-(a.y-j.y),a.x-j.x);B.Type.v.GrdT=["Lnr","Rdl","Angl"][Z];B.Scl.v.val=100*iL.Or(j,a);
if(Z==0){B.Angl.v.val=180/Math.PI*b;B.Scl.v.val=100*iL.Or(j,a);W=(j.x+a.x)/2;c=(j.y+a.y)/2}if(Z==1){B.Scl.v.val=200*iL.Or(j,a);
W=j.x;c=j.y}if(Z==2){B.Angl.v.val=180/Math.PI*(b-Math.PI/2)}var Y=B.Ofst.v;Y.Hrzn.v.val=W*100;Y.Vrtc.v.val=c*100;
var R=[];for(var F=0;F<x.stops.length;F++){var $=x.stops[F],k=$.color;R.push([$.position,k?[k.red,k.green,k.blue]:[0,0,0],k.alpha])}f.Q.uW(R,D);
return B};gE.ir=function(x,z){var A=gE,o=1,i=x.contextSettings;if(i!=null){z.Md.v.BlnM=A.gR[i.blendMode];
o*=i.opacity}else z.Md.v.BlnM=A.gR[0];z.enab.v=x.isEnabled;if(z.uglg!=null)z.uglg.v=!1;if(x.color!=null)o*=x.color.alpha;
z.Opct.v.val=Math.round(o*100)};gE.cK=function(x){return f.Q.Vv(x?{w:x.red*255,a:x.green*255,s:x.blue*255}:{w:0,a:0,s:0})};
gE.xo=function(x,z,A){var o=gE,i=[{type:6},{type:8,all:0}];for(var L=0;L<x.length;L++){var B=x[L],D=B.booleanOperation,Z=0,j=B._class,R=!1;
if(j=="group"||j=="text"||j=="symbolInstance"||j=="slice"){console.log(j+" inside ShapeGroup");continue}if(D==-1)Z=0;
else if(D==0)Z=1;else if(D==1)Z=2;else if(D==2)Z=3;else if(D==3)Z=0;if(L==0)Z=1;var a=gE.$v(B.frame),b=o.CV(B,z),W=B.path?B.path:B,c=[{type:0,length:0,qh:Z,zB:2,wN:0,CG:0}],Y=W.points;
for(var F=0;F<Y.length;F++){var $=Y[F],k=o.bZ($.curveTo),w=o.bZ($.point),V=o.bZ($.curveFrom);R=R||$.hasCurveFrom&&!V.S0(w)||$.hasCurveTo&&!k.S0(w)}var h=[];
if(!R){var l=[],f5=Y.length;if(f5==0)continue;for(var F=0;F<f5;F++){h[F]=Y[F].cornerRadius;var $=o.bZ(Y[F].point);
l.push($.x,$.y)}b.scale(1/a.m,1/a.n);b.Qs();f.p.D(l,b,l);c=f.J.Ja.Un(l,h).slice(2);c[0].qh=Z}else{var M=Y.length;
c[0].length=M;for(var F=0;F<M;F++){var $=Y[F],q=$.curveMode,t=o.bZ($.point);c[1+F]={type:q==2||q==4?1:2,re:$.hasCurveTo?o.bZ($.curveTo):t.clone(),H:t,zy:$.hasCurveFrom?o.bZ($.curveFrom):t.clone()}}b.scale(1/a.m,1/a.n);
b.Qs();f.J.ox(c,b);var h=[];for(var F=0;F<M;F++){var $=Y[F],q=$.curveMode,p=$.cornerRadius;if(q==1&&p!=0)h.push(p);
else h.push(0)}}if(!W.isClosed)for(var F=0;F<c.length;F++)c[F].type+=3;i=i.concat(c);var E=f.i4.vJ(),_=o.qn(B);
if(b.s==0&&b.Pm==0){var S=b.ZT,y=b._s,v=S+b.xc,r=y+b.y9,K=[S,y,v,r];if(_=="rectangle"&&h.length==4)E=f.i4.Iy(2,K,h);
if(_=="oval")E=f.i4.Iy(5,K)}A.push(E)}return i};gE.CV=function(x,z){var A=z.clone(),o=x.frame?gE.$v(x.frame):null;
if(o)A.translate(-o.x-o.m/2,-o.y-o.n/2);if(x.isFlippedHorizontal)A.scale(-1,1);if(x.isFlippedVertical)A.scale(1,-1);
A.rotate(-x.rotation*(Math.PI/180));if(o)A.translate(o.m/2,o.n/2);return A};gE.bZ=function(x){x=x.slice(1,x.length-1).split(",");
return new iL(parseFloat(x[0]),parseFloat(x[1]))};gE.$v=function(x){return new av(x.x,x.y,x.width,x.height)};
gE.qw=function(x){return{_class:"rect",constrainProportions:!1,x:x.x,y:x.y,width:x.m,height:x.n}};function gB(){}gB.l6=function(x,z){var A=Date.now(),o=gB,i=UZIP.parse(x),L=JSON.parse(m._X(i.manifest)),B=JSON.parse(m._X(i["resources/graphics/graphicContent.agc"])).resources,D=[],Z=[],j=L.children;
for(var F=0;F<j.length;F++){var a=j[F];if(a.name=="artwork"){var b=a.children;for(var W=0;W<b.length;
W++){var c=b[W],Y=JSON.parse(m._X(i["artwork/"+c.path+"/graphics/graphicContent.agc"])),R=Y.children;
if(R.length==0){}else if(R.length==1){if(c["uxdesign#bounds"]){c._node=R[0];D.push(c)}}else{var $=R[0],k=$.transform,w=$.shape;
if(w==null)w={x:0,y:0,width:1e3,height:1e3};if(w.type=="path"){var V=f.p.ke(Typr.U.SVGToPath(w.path).crds);
w={x:V.x,y:V.y,width:V.m,height:V.n}}w=JSON.parse(JSON.stringify(w));if(k){w.x+=k.tx;w.y+=k.ty}c["uxdesign#bounds"]=w;
c._node={type:"artboard",artboard:{children:R}};Z.push(c)}}}}if(D.length==0)D=Z;var h=[],l=new av;for(var F=0;
F<D.length;F++){var c=D[F],M=gE.$v(c["uxdesign#bounds"]);h.push(M);l=l.QM(M)}var q=gE.Ml(l,8192*8192);
z.t$=!0;z.m=Math.round(l.m/q);z.n=Math.round(l.n/q);z.buffer=f.C(z.m*z.n*4);z.sC(D.length);var t=new cb(q,0,0,q,l.x,l.y);
z.bH={};for(var F=0;F<D.length;F++){var c=D[F],M=gE.$v(c["uxdesign#bounds"]),p=c._node,E=t.clone(),_=M.clone(),S=E._q();
E.translate(-M.x,-M.y);_.x=-Math.floor(E.ZT/S);_.y=-Math.floor(E._s/S);_.m=Math.floor(_.m/S);_.n=Math.floor(_.n/S);
E.translate(M.x,M.y);gB.Ag(p,z,E,B,i,_);var y=z.g[z.g.length-1];y.rk(c.name);y.T4(_);if(F!=D.length-1)y.add.lsct=hF.$Z}delete z.bH};
gB.t6=function(x){if(x==null)return new cb;return new cb(x.a,x.b,x.c,x.d,x.tx,x.ty)};gB.Ag=function(x,z,A,o,i,L){var B=gB,D=x.type,Z=x[D],j=x.style,a=B.t6(x.transform),Y,R="none",$,k="none",w,V;
a.Qs();var b=A.clone();b.concat(a);var W=z.Ad(),c=x.name;W.rk(c?c.slice(0,250):"Layer");if(x.visible!=null)W.uO(x.visible);
if(j){Y=j.stroke;R=Y?Y.type:"none";$=j.fill;k=$?$.type:"none";w=j.filters;V=j.clipPath;if(V&&o.clipPaths[V.ref])V=o.clipPaths[V.ref].children;
else V=null;if(j.opacity)W.opacity=Math.round(255*j.opacity);if(k=="solid"&&$.color.alpha)W.opacity=Math.round(W.opacity*$.color.alpha);
if(w){W.add.lmfx=B.a5X(w);for(var F=0;F<w.length;F++)if(w[F].type=="uxdesign#blur"){var h=w[F],l=h.params,M=l.brightnessAmount;
if(M==null)M=0;M=Math.abs(M/100);if((h.visible==null||h.visible==!0)&&l.backgroundEffect)W.opacity=Math.round(W.opacity*(M+(1-M)*l.fillOpacity))}}if(k=="pattern"&&$.pattern.meta.ux.uid=="")k="none"}if(V==null&&x.meta&&x.meta.ux&&x.meta.ux.clipPathResources)V=x.meta.ux.clipPathResources.children;
if(D=="artboard"||D=="group"){if(V){var q=V[0],t=q.shape,p=t!=null&&t.type=="rect"&&t.width*t.height>1e6;
if(q.type!="text"&&!p){if(t){var a=B.t6(q.transform);a.Qs();var E=b.clone();E.concat(a);W.add.vmsk=new g.tZ;
W.add.vmsk._=B.xo(t);E=E.clone();E.Qs();f.J.ox(W.add.vmsk._,E);W.cm(z)}}else if(!p)alert("Clipping by text has been ignored")}W.add.lsct=hF.X7;
W.Cz="pass";W.Fu=24;if(x.visible!=null)W.uO(x.visible);z.g.push(z.Qy());var _=Z.children,S=$;if(S)S=S.color;
if(S)S=S.value;if($){if(D=="artboard"&&k=="solid"){W.T4(new av(0,0,10,10));W.add.artb.Clr={t:"Objc",v:f.Q.Vv({w:S.r,a:S.g,s:S.b})};
W.add.artb.artboardBackgroundType={t:"long",v:4}}else{var y=z.Ad();y.rk("BACKGROUND");y.Fu|=16;y.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));
y.add.vmsk=new g.tZ;y.add.vmsk._=B.xo({type:"rect",x:L.x,y:L.y,width:L.m,height:L.n});B.av($,k,b,L,L,y,z,o,i);
y.cm(z);z.g.push(y)}}for(var F=0;F<_.length;F++){gB.Ag(_[F],z,b,o,i,L)}}else if(D=="shape"&&(Z.type=="rect"&&(Z.r==null||Z.r==0)||Z.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(Z.path)))&&k=="pattern"&&(Math.abs(Z.width/Z.height-$.pattern.width/$.pattern.height)<.01||j.fill.pattern.meta.ux.scaleBehavior=="fill")){var v=$.pattern,r=v.meta.ux,K=r.uid,s=i["resources/"+K];
if(s==null){console.log(v);return}var P=z.za(s,W.getName(),0,0);P.Fu=W.Fu;P.opacity=W.opacity;W=P;var d=f.J.BH(B.xo(Z),null),X=f.p.Mm(new av(0,0,v.width,v.height)).v,U=new cb;
U.scale(v.width/d.m,v.height/d.n);if(r.offsetX)U.translate(-r.offsetX*v.width,0);if(r.offsetY)U.translate(0,-r.offsetY*v.height);
b.concat(U);b.Qs();f.p.D(X,b,X);W.add.SoLd.Trnf=Q.S.rL(X);W.add.SoLd.nonAffineTransform=Q.S.rL(X);W._6(z,!1)}else if(D=="shape"){W.Fu|=16;
W.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));W.add.vmsk=new g.tZ;W.add.vmsk._=B.xo(Z);var d=f.J.BH(W.add.vmsk._,null),E=b.clone();
E.Qs();f.J.ox(W.add.vmsk._,E);var n=f.J.BH(W.add.vmsk._,null);if(R=="none"){}else{var e=Y.color.value,J,C;
J="SoFi";var H=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);C={t:"Objc",v:H};C.v.Clr.v=f.Q.Vv({w:e.r,a:e.g,s:e.b});
var u=Y.align,bc=Y.cap;if(u==null)u="center";var jK=W.add.vstk;jK.strokeEnabled.v=!0;jK.strokeStyleLineWidth.v.val=Y.width;
if(u)jK.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gN.J9.kq[["inside","center","outside"].indexOf(u)];
if(bc)jK.strokeStyleLineCapType.v.strokeStyleLineCapType=gN.J9.qA[["butt","round","square"].indexOf(bc)];
var N=["SoFi","GrFl","patternFill"].indexOf(J),he=[gN.ww,gN.B_,gN.Lm][N];jK.strokeStyleContent.v={classID:gN.J9.x6[0]};
var gJ=jK.strokeStyleContent.v={classID:gN.J9.x6[N]};for(var F=0;F<he.length;F++)gJ[he[F]]=C.v[he[F]]}if(w)for(var F=0;
F<w.length;F++)if(w[F].type=="uxdesign#blur"&&w[F].visible){var kg=w[F];W.add.vmsk.Jc=kg.params.blurAmount}B.av($,k,b,d,n,W,z,o,i);
W.cm(z)}else if(D=="text"&&x.text){var cJ=x.text,it=cJ.frame,by=j.font,cz=j.textAttributes,a=b.clone(),et=0;
a.Qs();W.add.lnsr="rend";W.add.TySh=am.P9(0,0);W.add.TySh.t0=new av(0,0,100,100);W.add.TySh.D=a;var fG=W.add.TySh.gP,ju=cJ.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
am.tW(fG,0,ju);if(ju!=""){var gW=am.En(fG,0,1),iI=by.postscriptName;if(iI==null)iI=by.family;am.Lk(gW,iI);
gW.i8.FontSize=Math.round(by.size);if($){var e=$.color.value;gW.i8.FillColor={Type:1,Values:[1,e.r/255,e.g/255,e.b/255]}}if(cz){if(cz.paragraphAlign)gW.tl.Justification=["left","right","center"].indexOf(cz.paragraphAlign);
if(cz.letterSpacing)gW.i8.Tracking=Math.round(cz.letterSpacing);if(cz.lineHeight){gW.i8.AutoLeading=!1;
gW.i8.Leading=Math.round(cz.lineHeight)}}am.zz(fG,0,ju.length,gW)}var ht=x.meta.ux.rangedStyles;if(ht)for(var F=0;
F<ht.length;F++){var Z=ht[F],be=Math.min(Z.length,ju.length-et);if(F==ht.length-1)be=ju.length-et;var gW=am.En(fG,et,et+be),iI=Z.postscriptName;
if(iI==null)iI=Z.family;if(iI!=null)am.Lk(gW,iI);var c9=Z.textScript,aJ=Z.underline,b6=Z.fontSize,h=Z.fill,ef=Z.textTransform;
if(c9&&c9!="none")gW.i8.FontBaseline=c9=="superscript"?1:2;if(aJ!=null)gW.i8.Underline=aJ;if(b6!=null)gW.i8.FontSize=Math.round(b6);
if(ef!=null)gW.i8.FontCaps=ef=="uppercase"?2:0;if(ef=="lowercase"){am.vx(fG,et,et+be);am.tW(fG,et,ju.slice(et,et+be).toLowerCase())}if(h!=null){var jV=h.value;
gW.i8.FillColor={Type:1,Values:[1,(jV>>>16&255)/255,(jV>>>8&255)/255,(jV>>>0&255)/255]}}am.zz(fG,et,et+be,gW);
et+=be}if(it.type=="area"||it.type=="autoHeight"){var hu=it.width,eG=it.height;am.cn(fG,1);am.Lf(fG,[0,0,hu,eG!=null?eG:hu*2])}}else if(D=="syncRef"){var k8=x.syncSourceGuid,eE=o.meta.ux.symbols,jD=B.aO(eE,k8);
if(jD){var a_=b.clone();a_.concat(B.t6(jD.transform));gB.Ag(jD,z,a_,o,i,L)}return}else console.log(D,x);
z.g.push(W)};gB.aO=function(x,z){for(var F=0;F<x.length;F++){var A=x[F],o=A.group;if(A.id==z)return A;
if(o){var i=gB.aO(o.children,z);if(i)return i}}return null};gB.xo=function(x){var z=x.type,A=[{type:6},{type:8,all:0}];
if(z=="rect"){var o=x.r,i=x.x,L=x.y,B=x.width,D=x.height;A=f.J.Ja.Rect(i,L,B,D,o?o:0)}else if(z=="circle"){var o=x.r;
A=f.J.Ja.sq(x.cx-o,x.cy-o,2*o,2*o)}else if(z=="ellipse"){var Z=x.rx,j=x.ry;A=f.J.Ja.sq(x.cx-Z,x.cy-j,2*Z,2*j)}else if(z=="path"||z=="compound"){var a=Typr.U.SVGToPath(x.path);
A=f.p.fq({F:a.cmds,v:a.crds},!1)}else if(z=="line"){var b=x.x1,W=x.x2,c=x.y1,Y=x.y2;A=f.J.Ja.Un([b,c,W,Y],0,!0)}else if(z=="polygon"){var R=x.points,$=[];
for(var F=0;F<R.length;F++)$.push(R[F].x,R[F].y);A=A.concat(f.J.Ja.Un($,0,!1).slice(2))}else console.log(z,x);
return A};gB.a5X=function(x){var z=JSON.parse(gN.default);for(var F=0;F<gN.order.length;F++)z[gN.OX[F]]={t:"VlLs",v:[]};
for(var F=0;F<x.length;F++){var A=x[F],o=A.type,i=A.params,L=A.visible;if(o=="dropShadow"){var B=gN.OX[gN.order.indexOf("DrSh")],D=JSON.parse(gN.NK[gN.order.indexOf("DrSh")]);
z[B].v.unshift({t:"Objc",v:D});var Z=i.dropShadows;if(Z.length!=1)throw"e";var j=Z[F],a=j.color,b=a.value,W=j.dx,c=j.dy;
D.Clr.v=f.Q.Vv({w:b.r,a:b.g,s:b.b});D.Opct.v.val=Math.round((a.alpha!=null?a.alpha:1)*100);D.uglg.v=!1;
D.enab.v=L!=null?L:!0;D.lagl.v.val=Math.round(180/Math.PI*Math.atan2(c,-W));D.Dstn.v.val=Math.round(Math.sqrt(W*W+c*c));
D.blur.v.val=Math.round(j.r*2.3)}}return z};gB.av=function(x,z,A,o,i,L,B,D,Z){var j=gB;if(z=="none"){L.add.vstk.fillEnabled.v=!1;
L.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:0,a:0,s:0})}}}else{var a,b,W;if(z=="solid"){var c=x.color.value;
a="SoCo";b=gN.ww;var Y=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);W={t:"Objc",v:Y};W.v.Clr.v=f.Q.Vv({w:c.r,a:c.g,s:c.b})}else if(z=="gradient"){a="GdFl";
b=gN.B_;var Y=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),R=Y.Grad.v,h,l,M;R.Intr.v=0;var $=x[z],k=$.ref?D.gradients[$.ref]:$.meta.ux.gradientResources,w=["linear","radial"].indexOf(k.type),V=k.stops;
Y.Type.v.GrdT=["Lnr","Rdl","Angl"][w];if(w==0){var h=new iL($.x1,$.y1),l=new iL($.x2,$.y2);h.x=l.x+.5*(h.x-l.x);
h.y=l.y+.5*(h.y-l.y)}else{var h=new iL($.cx,$.cy),l=new iL($.cx+$.r,$.cy)}M=i;if($.units=="objectBoundingBox"){var q=new cb(o.m,0,0,o.n,o.x,o.y);
h=q.nx(h);l=q.nx(l)}var q=j.t6($.transform);h=q.nx(h);l=q.nx(l);q=A.clone();q.Qs();h=q.nx(h);l=q.nx(l);
f.Q.e2(h,l,M,Y);var t=[];for(var F=0;F<V.length;F++){var p=V[F],E=p.color,c=E.value,_=E.alpha;if(_==null)_=1;
t.push([p.offset,[c.r/255,c.g/255,c.b/255],_])}f.Q.uW(t,R);W={t:"Objc",v:Y}}else if(z=="pattern"){a="PtFl";
b=gN.Lm;var Y=JSON.parse(gN.NK[gN.order.indexOf("patternFill")]),X;W={t:"Objc",v:Y};var S=x[z],y=S.meta.ux,v=y.uid,r=Z["resources/"+v].buffer,K=y.flipX,s=y.flipY,P=v+K+s,d=iF.cd(r);
if(B.bH[P])X=B.bH[P];else{var U=new av(0,0,S.width,S.height),n;if(U.WT()||d==null){U=new av(0,0,1,1);
n=new ArrayBuffer(4)}else{var e=iF.Lg(d);if(e.RQ){var J=new ew;e.i0(r,J);n=J.MK().buffer}else{try{var C=e.i0(r)[0];
n=C.data;U=C.xH}catch(kc){n=new ArrayBuffer(U.$()*4)}}}X={};X.id=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f";
X.name="someImage";X.zH=[new Uint8Array(n),U];if(K)f.P.S1(X.zH[0].slice(0),X.zH[0],U.m,U.n);if(s)f.P.acb(X.zH[0].slice(0),X.zH[0],U.m,U.n);
B.si(X);B.bH[P]=X}var H=A.clone();H.Qs();H.translate(o.x,o.y);var u=o.m,bc=o.n,jK=X.zH[1].m,N=X.zH[1].n,he=Math.max(u/jK,bc/N);
if(y.scale)he*=y.scale;var gJ=new cb;gJ.translate(-jK/2,-N/2);gJ.scale(1/jK,1/N);if(y.offsetX!=null)gJ.translate(y.offsetX,y.offsetY);
gJ.scale(jK,N);gJ.scale(he,he);gJ.translate(u/2,bc/2);gJ.concat(H);ct.a47(X,Y,0,0,1e3,gJ)}else console.log(z);
if(a!=null){L.add[a]={classID:"null"};for(var F=0;F<b.length;F++){var kg=b[F];L.add[a][kg]=W.v[kg]}}}};
function c0(){}c0.l6=function(x,z,A){x=new Uint8Array(x);var o=m._X(x,0,x.length),i=new DOMParser,L=i.parseFromString(o,"image/svg+xml"),B=L.getElementsByTagName("style")[0],c=1;
if(B)B=Typr.U.SVG.cssMap(B.textContent);else B={};var D=L.firstChild;while(D.tagName!="svg")D=D.nextSibling;
var Z=new av(0,0,100,100),j=D.getAttribute("viewBox"),a=D.getAttribute("width"),b=D.getAttribute("height");
if(j){var W=c0.ou(j);Z.x=W[0];Z.y=W[1];Z.m=W[2];Z.n=W[3]}else if(a!=null||b!=null){Z.m=a!=null?parseFloat(a):parseFloat(b);
Z.n=b!=null?parseFloat(b):parseFloat(a)}Z=f.p.u8(Z);while(A&&Math.max(Z.m*c,Z.n*c)<Math.max(A[0],A[1]))c++;
while(A==null&&Math.max(Z.m,Z.n)*c>8192)c*=.5;z.t$=!0;z.m=~~(Z.m*c);z.n=~~(Z.n*c);z.buffer=f.C(z.m*z.n*4);
var Y=new cb(c,0,0,c,-Z.x*c,-Z.y*c),R={tz:c0.Xn(D),any:B,OY:0};c0.gu(L,D.children,z,Y,R,new cb,0);if(z.g.length==0){var $=z.Ad();
$.rk("Layer");z.g.push($)}};c0.ou=function(x){var z=" ";if(x.indexOf(",")!=-1)z=",";return x.split(z).map(parseFloat)};
c0.gu=function(x,z,A,o,i,L,B){var D=c0,Z=["display","opacity","fill-opacity","filter"];for(var j=0;j<z.length;
j++){var a=z[j],b=a.tagName,W=a.getAttribute("id"),c=D.Xn(a,i.any),R=13,h=1,q="clip-path",t=null,s=0;
for(var Y in i.tz)if(Z.indexOf(Y)==-1&&c[Y]==null)c[Y]=i.tz[Y];if(c["font-size"])R=D.Wy(c["font-size"],R);
if(a.getAttribute("dx"))o.ZT+=D.Wy(a.getAttribute("dx"),R);if(a.getAttribute("dy"))o._s+=D.Wy(a.getAttribute("dy"),R);
var $=D.dY(a);$.concat(o);var k=a.getAttribute("visibility"),w=c.display,V=A.Ad();if(k=="hidden"||w=="none")V.uO(!1);
V.rk(W!=null?W.split(":::")[0]:"Layer");if(c.opacity)h*=parseFloat(c.opacity);if(c["fill-opacity"]){var l=parseFloat(c["fill-opacity"]);
if(l!=0)h*=l}V.opacity=Math.round(255*h);if(c["mix-blend-mode"]){var M=b_.a50.indexOf(c["mix-blend-mode"]);
if(M!=-1)V.Cz=b_.Am[M]}if(a.getAttribute(q)==null)q="mask";if(a.getAttribute(q)!=null){var p=a.getAttribute(q);
p=p.slice(4,p.length-1);var E=x.getElementById(p.slice(1));if(E){var _=E.children;t=A.Ad();t.rk("Clip-Path"+(W?": "+W:""));
t.add.lsct=B<2?hF.X7:hF.$Z;t.Cz="pass";t.Fu=24;var S=t.add.vmsk=new g.tZ;A.g.push(A.Qy());var y=[];if(E.getAttribute(q)){var p=E.getAttribute(q);
p=p.slice(4,p.length-1);y=x.getElementById(p.slice(1)).children}for(var F=0;F<_.length;F++){var v=D.dY(_[F]);
v.concat($);var r=D.xo(x,_[F],!1).slice(2);f.J.ox(r,v);S._=S._.concat(r)}for(var F=0;F<y.length;F++){var v=D.dY(_[F]);
v.concat($);var r=D.xo(x,y[F],!1).slice(2);for(var K=0;K<r.length;K++)if(r[F].qh!=null)r[F].qh=3;f.J.ox(r,v);
S._=S._.concat(r)}t.Az();t.cm();B++}}if(c.filter&&c.filter!="none"){var P=c.filter,X,U,n,J=!1,C=!1,H=!1;
P=P.slice(5,P.length-1);var d=x.getElementById(P),e=[0,0,0,.5],u=Q.S._q($);if(d)for(var F=0;F<d.children.length;
F++){var bc=d.children[F];if(bc.tagName=="feGaussianBlur"){J=!0;X=parseFloat(bc.getAttribute("stdDeviation"))*u}if(bc.tagName=="feColorMatrix"){var jK=bc.getAttribute("values").split(" ").map(parseFloat);
e=[jK[4],jK[9],jK[14],jK[18]]}if(bc.tagName=="feComposite"){H=!0}if(bc.tagName=="feOffset"){C=!0;var N=bc.getAttribute("dx"),he=bc.getAttribute("dy");
U=parseFloat(N?N:0)*u;n=parseFloat(he?he:0)*u}}if(H||C){var gJ=H?"IrSh":"DrSh";if(gJ=="IrSh"){V.add.iOpa=0}var kg=JSON.parse(gN.NK[gN.order.indexOf(gJ)]);
kg.blur.v.val=Math.round(X*2.4);var cJ=Math.sqrt(U*U+n*n);kg.uglg.v=!1;kg.Dstn.v.val=Math.round(cJ);
kg.lagl.v.val=Math.round(Math.atan2(n,-U)*(180/Math.PI));kg.Clr.v=f.Q.Vv({w:e[0]*255,a:e[1]*255,s:e[2]*255});
kg.Opct.v.val=Math.round(e[3]*100);D.DB(V,gN.OX[gN.order.indexOf(gJ)],kg)}else if(J)s=X}if(b=="g"||b=="a"||b=="svg"||b=="switch"||(b=="text"||b=="textPath")&&a.children.length>0){if(b=="text")L=D.J1(a,L);
var it=a.getAttribute("viewBox"),by=a.getAttribute("width"),cz=a.getAttribute("height");if(it&&by&&cz){var fG=c0.ou(it),ju=D.J1(a),gW=new cb;
gW.translate(-fG[0],-fG[1]);gW.scale(parseFloat(by)/fG[2],parseFloat(cz)/fG[3]);gW.translate(ju.ZT,ju._s);
gW.concat($);$=gW}var iI=a.children.length,ht=i.tz;i.tz=c;var et=i.OY;i.OY=Math.max(i.OY,s);var be=b!="text"&&b!="textPath"||iI>1;
if(be){var c9=V.Gi();V.add.lsct=B<2&&c9&&(W==null||!W.endsWith(":::"))?hF.X7:hF.$Z;V.Cz="pass";V.Fu=24;
V.uO(c9);A.g.push(A.Qy())}D.gu(x,a.children,A,$,i,L,B+1);if(be)A.g.push(V);else{var aJ=A.g[A.g.length-1];
aJ.opacity=V.opacity;aJ.Cz=V.Cz}i.OY=et;i.tz=ht}else if(b=="use"){var gW=D.J1(a);gW.concat($);var b6=D.BX(a),ef=x.getElementById(b6.slice(1));
if(ef){var ht=i.tz;i.tz=c;if(c.filter)ef.setAttribute("filter",c.filter);D.gu(x,[ef],A,gW,i,L,B+1);i.tz=ht}}else if(b=="path"||b=="rect"||b=="circle"||b=="ellipse"||b=="polygon"||b=="polyline"||b=="line"){V.Fu|=16;
V.add.vmsk=new g.tZ;V.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));V.add.vstk.strokeEnabled.v=!1;
var jV=V.add.vstk,S=V.add.vmsk,hu=c.fill,eG=hu=="none"||c["fill-opacity"]&&parseFloat(c["fill-opacity"])==0;
S._=D.xo(x,a,c["fill-rule"]=="evenodd",eG);f.J.ox(S._,$);var k8=f.J.BH(S._),eE=c.stroke,jD=c["stroke-width"],a_=c["stroke-dasharray"],cH=c["stroke-linejoin"],ic=c["stroke-linecap"],aj=c["paint-order"];
if(eE==null||eE=="none"||eE=="null"){}else{var ay=D.xL(x,eE,$,k8),dS=["SoFi","GrFl","patternFill"].indexOf(ay.type),hC=ay.h.v.Opct.v,gj=1;
if(hC.val!=100){V.opacity=Math.round(V.opacity*hC.val/100);hC.val=100}var eq=[gN.ww,gN.B_,gN.Lm][dS],ck=jV.strokeStyleContent.v={classID:gN.J9.x6[dS]};
for(var F=0;F<eq.length;F++)ck[eq[F]]=ay.h.v[eq[F]];jD=jD?parseFloat(jD):1;if(aj&&aj.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){gj=2;
jD/=2}jV.strokeEnabled.v=!0;if(cH)jV.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gN.J9.join[["miter","round","bevel"].indexOf(cH)];
if(ic)jV.strokeStyleLineCapType.v.strokeStyleLineCapType=gN.J9.qA[["butt","round","square"].indexOf(ic)];
jV.strokeStyleLineWidth.v.val=jD*Q.S._q($);jV.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gN.J9.kq[gj];
jV.strokeStyleOpacity.v.val=100*(c["stroke-opacity"]?parseFloat(c["stroke-opacity"]):1);if(a_!=null&&a_!="none")jV.strokeStyleLineDashSet.v=ct.a3(a_.split(",").map(parseFloat),1/jD)}if(eG){V.add.vstk.fillEnabled.v=!1;
V.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:0,a:0,s:0})}}}else{var ay=D.xL(x,hu,$,k8),bv=null,dK=null;
if(ay.type=="SoFi"){bv="SoCo";dK=gN.ww}if(ay.type=="GrFl"){bv="GdFl";dK=gN.B_}if(ay.type=="patternFill"){bv="PtFl";
dK=gN.Lm}if(bv!=null){var hC=ay.h.v.Opct.v;if(hC.val!=100){V.opacity=Math.round(V.opacity*hC.val/100);
hC.val=100}V.add[bv]={classID:"null"};for(var F=0;F<dK.length;F++){var Y=dK[F];V.add[bv][Y]=ay.h.v[Y]}}}var cC=Math.max(s,i.OY);
if(cC!=0)V.add.vmsk.Jc=cC;V.Az();V.cm(A);A.g.push(V)}else if((b=="text"||b=="tspan")&&a.textContent!=""){L=D.J1(a,L);
var gW=L.clone(),n=0;gW.concat($);if(a.children.length>0){var iv=D.Xn(a.children[0],i.any);for(var Y in iv)if(Z.indexOf(Y)==-1)c[Y]=iv[Y]}var dJ=c["xml:space"],km=a.textContent;
if(dJ=="preserve")km=km.replace(/\t/g," ").replace(/\n/g," ");if(W==null)V.rk(km);V.add.lnsr="rend";
V.add.TySh=am.P9(0,0);V.add.TySh.t0=new av(0,0,100,100);V.add.TySh.D=gW.clone();var aM=V.add.TySh.gP;
am.tW(aM,0,km);var hu=c.fill,fq=c["font-weight"],dV=c["font-family"],hj=c["text-decoration"],eE=c.stroke,jD=c["stroke-width"],d8=c["dominant-baseline"];
if(d8=="text-before-edge")n=R;else if(d8=="middle")n=R/2;else if(d8=="hanging")n=R;if(n!=0)V.add.TySh.D.translate(0,n);
var cI=am.En(aM,0,1);if(hu&&hu!="none"){var e=CSS.cK(hu);cI.i8.FillColor={Type:1,Values:[1,e.w/255,e.a/255,e.s/255]}}if(hj=="underline")cI.i8.Underline=!0;
cI.i8.FontSize=Math.round(R);am.Lk(cI,"LiberationSans");if(fq=="bold")am.Lk(cI,"LiberationSans-Bold");
if(dV){dV=dV.split(",")[0].trim();if(dV[0]=="\"")dV=dV.slice(1);if(dV[dV.length-1]=="\"")dV=dV.slice(0,dV.length-1);
var gD=dV+":"+(fq?fq:"normal"),iw={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(iw[gD])am.Lk(cI,iw[gD]);else am.Lk(cI,dV)}if(c["text-anchor"])cI.tl.Justification=["start","end","middle"].indexOf(c["text-anchor"]);
am.zz(aM,0,km.length,cI);if(eE==null||eE=="none"){}else{var kg=JSON.parse(gN.NK[gN.order.indexOf("FrFX")]);
kg.Clr.v=f.Q.Vv(CSS.cK(eE));kg.Sz.v.val=Math.round(parseFloat(jD)*Q.S._q(gW));D.DB(V,"frameFXMulti",kg)}A.g.push(V)}else if(b=="image"){var b6=D.BX(a);
if(b6&&b6.slice(0,4)=="data"){var e3=iF.H6(b6),c5=e3,eT=A.za(c5,V.getName(),0,0);eT.Fu=V.Fu;V=eT;var iO=V.rect.clone();
iO.x=iO.y=0;var hW=a.getAttribute("width"),j5=a.getAttribute("height");if(hW)iO.m=parseFloat(hW);if(j5)iO.n=parseFloat(j5);
var aL=D.J1(a);aL.concat($);var gk=f.p.Mm(iO).v;f.p.D(gk,aL,gk);V.add.SoLd.Trnf=Q.S.rL(gk);V.add.SoLd.nonAffineTransform=Q.S.rL(gk);
V._6(A,!1);A.g.push(V)}}else console.log("unknown tag: "+b,a.children.length,a.textContent.length);if(t!=null){A.g.push(t);
B--}}};c0.DB=function(x,z,A){var o=x.add.lmfx;if(o==null){var o=x.add.lmfx=JSON.parse(gN.default);for(var F=0;
F<gN.order.length;F++)o[gN.OX[F]]={t:"VlLs",v:[]}}o[z].v.push({t:"Objc",v:A})};c0.xo=function(x,z,A,o){var i=c0,L=[{type:6},{type:8,all:0}],B=z.tagName;
if(B=="use"){var D=i.BX(z),Z=x.getElementById(D.slice(1)),j=new cb;if(Z.tagName!="rect")j=i.J1(Z);j.concat(i.dY(Z));
L=i.xo(x,Z,A,o);f.J.ox(L,j)}else if(B=="path"){var a=z.getAttribute("d");if(a==null)return L;var b=Typr.U.SVGToPath(a);
L=f.p.fq({v:b.crds,F:b.cmds},A,o)}else if(B=="rect"){var W=z.getAttribute("rx"),c=i.J1(z);L=f.J.Ja.Rect(c.ZT,c._s,parseFloat(z.getAttribute("width")),parseFloat(z.getAttribute("height")),W?parseFloat(W):0)}else if(B=="circle"||B=="ellipse"){var Y=[0,0,0,0],R=["cx","cy","rx","ry","r"];
for(var F=0;F<5;F++){var $=z.getAttribute(R[F]);if($){$=parseFloat($);if(F<4)Y[F]=$;else Y[2]=Y[3]=$}}L=f.J.Ja.sq(Y[0]-Y[2],Y[1]-Y[3],2*Y[2],2*Y[3])}else if(B=="polygon"||B=="polyline"||B=="line"){var k;
if(B=="line")k=[z.getAttribute("x1"),z.getAttribute("y1"),z.getAttribute("x2"),z.getAttribute("y2")].map(parseFloat);
else k=z.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
L=f.J.Ja.Un(k,0,B!="polygon")}return L};c0.Wy=function(x,z){if(x.charAt(x.length-1)=="m")return z*parseFloat(x.slice(0,x.length-2));
else return parseFloat(x)};c0.xL=function(x,z,A,o){var i,L,B=c0,D=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]),Z=z!=null?z.indexOf("("):-1;
if(Z!=-1){var j=z.indexOf(")"),a=z.slice(0,Z).trim(),b=z.slice(Z+1,j).trim();if(b.charAt(0)=="'")b=b.slice(1,b.length-1);
if(a=="url"){if(b.charAt(0)=="#"){var W=x.getElementById(b.slice(1));if(W&&W.tagName.toLowerCase().endsWith("gradient")){var c=B.wk(x,W,A,o);
i="GrFl";L={t:"Objc",v:c}}else{i="SoFi";L={t:"Objc",v:D}}}else console.log("unknown url",b)}else if(a=="rgb"||a=="rgba"){i="SoFi";
L={t:"Objc",v:D};L.v.Clr.v=f.Q.Vv(CSS.cK(z));if(a=="rgba")L.v.Opct.v.val=Math.round(100*parseFloat(z.split(",").pop()))}else console.log("unknown fill",z)}else{i="SoFi";
L={t:"Objc",v:D};var Y=CSS.cK(z);L.v.Clr.v=f.Q.Vv(Y);if(Y.xc!=null)L.v.Opct.v.val=Math.round(100*Y.xc/255)}return{type:i,h:L}};
c0.dY=function(x){var z=new cb,A=x.getAttribute("transform");if(A)z=c0.i3(A);var o=x.getAttribute("style");
if(o!=null){var i={};c0.S9(i,o,["transform"]);o=i.transform;if(o)z.concat(c0.i3(o))}return z};c0.J1=function(x,z){var A=new cb,o=x.getAttribute("x"),i=x.getAttribute("y");
if(o)A.ZT=parseFloat(o);else if(z)A.ZT=z.ZT;if(i)A._s=parseFloat(i);else if(z)A._s=z._s;return A};c0.i3=function(x){var z=Typr.U.SVG.readTrnf(x);
return new cb(z[0],z[1],z[2],z[3],z[4],z[5])};c0.Xn=function(x,z){var A={},o="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var F=0;F<o.length;F++){var i=x.getAttribute(o[F]);if(i!=null&&i!="inherit")A[o[F]]=i}var L=x.getAttribute("class");
if(z!=null&&L!=null&&z["."+L]!=null)c0.S9(A,z["."+L],o);var B=x.getAttribute("id");if(z!=null&&B!=null&&z["#"+B]!=null)c0.S9(A,z["#"+B],o);
var D=x.getAttribute("style");if(D!=null)c0.S9(A,D,o);return A};c0.S9=function(x,z,A){z=z.trim().split(";");
for(var F=0;F<z.length;F++){var o=z[F].split(":"),i=o[0]?o[0].trim():"",L=o[1]?o[1].trim():"";for(var B=0;
B<A.length;B++)if(i==A[B]&&L!="inherit")x[A[B]]=L}};c0.BX=function(x){var z=x.getAttribute("xlink:href");
if(z==null)z=x.getAttribute("href");if(z==null)z=x.getAttribute("xl:href");return z};c0.wk=function(x,z,A,o){var i=c0,c=!1;
function L(_,S,y){var v=z.getAttribute(_);if(v==null)return;var r=parseFloat(v);if(v.endsWith("%"))r*=(y?o.m:o.n)/100;
if(y)S.x=r;else S.y=r}var B=new cb,D=z.getAttribute("gradientTransform");if(D)B=i.i3(D);B.concat(A);
var Z=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),j=Z.Grad.v;j.Intr.v=0;var a=z.tagName,b=new iL(0,0),W=new iL(o.m,0);
if(a=="linearGradient"){Z.Type.v.GrdT="Lnr";L("x1",b,!0);L("y1",b,!1);L("x2",W,!0);L("y2",W,!1);b.x=W.x+.5*(b.x-W.x);
b.y=W.y+.5*(b.y-W.y)}if(a=="radialGradient"){Z.Type.v.GrdT="Rdl";if(z.getAttribute("cx"))b.x=parseFloat(z.getAttribute("cx"));
if(z.getAttribute("cy"))b.y=parseFloat(z.getAttribute("cy"));W.Jt(b.x,b.y);if(z.getAttribute("r"))W.x+=parseFloat(z.getAttribute("r"))}var Y=z;
while(!0){if(Y.getAttribute("gradientUnits")=="userSpaceOnUse")c=!0;var R=i.BX(Y);if(R==null)break;Y=x.getElementById(R.slice(1))}if(c){b=B.nx(b);
W=B.nx(W)}else{b.x=o.x+b.x*o.m;b.y=o.y+b.y*o.n;W.x=o.x+W.x*o.m;W.y=o.y+W.y*o.n}f.Q.e2(b,W,o,Z);var $=z.children;
if($.length==0){var k=i.BX(z);if(k==null)throw"gradient has no stops";var w=x.getElementById(k.slice(1));
if(w==null){console.log(k.slice(1))}else{var V=i.wk(x,w,B,o);Z.Grad=V.Grad}}else{var h=[];for(var F=0;
F<$.length;F++){var l=$[F],M=i.Xn(l),q=M["stop-color"],t=M["stop-opacity"],p=l.getAttribute("offset");
if(q==null)q="#000000";t=t==null?1:parseFloat(t);var E=p?parseFloat(p):0;q=CSS.cK(q);if(q.xc!=null)t*=q.xc/255;
h.push([E,[q.w/255,q.a/255,q.s/255],parseFloat(t)])}f.Q.uW(h,j)}return Z};c0.aM=function(x,z,A){var o=[],i=c0,Z=" { ",j=" } ",a=!1;
i._P=z.oL?"":"\t";var L=z.aeI,B=z.al6;o.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+x.m+" "+x.n+"\" width=\""+L+"\" height=\""+B+"\">");
if(!z.oL)o.push(i.Rp(1)+"<title>"+c0.oW(x.name.split(".")[0])+"</title>");var D={wW:[],VK:[],e5:0,cV:0,ZF:0,JH:{},jK:{},A_:0,I6:{},AV:{},Jd:0,P2:[]};
c0.T_(x,D,x.root.children,1,z,A);if(D.wW.length!=0){o.push(i.Rp(1)+"<defs>");o=o.concat(D.wW);o.push(i.Rp(1)+"</defs>")}o.push(i.Rp(1)+"<style>");
if(z.oL){Z="{";j="}"}for(var F=0;F<x.g.length;F++)if(x.g[F].add.TySh)a=!0;if(a&&!z.a5h&&!z.ago)o.push(i.Rp(2)+"tspan"+Z+"white-space:pre"+j);
for(var b in D.I6)o.push(i.Rp(2)+"."+b+Z+D.I6[b]+j);o.push(i.Rp(1)+"</style>");o=o.concat(D.VK);o.push("</svg>");
o=o.join(z.oL?"":"\n");if(i.i2){console.log(i.i2);var W="SVGParser.gen.db = [\n";for(var F=0;F<i.i2.length;
F++){var c=i.i2[F];W+="{\n\tnam: \""+c.ts+"\",\n\tpts: [\n";for(var Y=0;Y<c.qX.length;Y++){var R=c.qX[Y];
W+="\t\t[\""+R[0]+"\", { cmds: "+JSON.stringify(R[1].F)+", crds:"+JSON.stringify(R[1].v)+" } ]"+(Y==c.qX.length-1?"":",")+"\n"}W+="\t]\n}"+(F==i.i2.length-1?"":",")+"\n"}W+="]\n";
console.log(W)}return m.zi(o)};c0._P="";c0.Rp=function(f5){var x="";for(var F=0;F<f5;F++)x+=c0._P;return x};
c0.Uj=function(f5,x){if(x==null)x=1;var z=""+parseFloat(f5.toFixed(x));if(z.startsWith("0."))z=z.slice(1);
return z};c0.T_=function(x,z,A,o,i,L){var B=c0;function D(a,hu){var t=a.add.lmfx;if(t)t=t[hu].v[0];if(t)t=t.v;
if(t&&!t.enab.v)t=null;return t}function Z(a,R){var dK=D(a,"frameFXMulti");if(dK){var cC=dK.Sz.v.val;
if(dK.Styl.v.FStl=="OutF"){R.push("paint-order:stroke fill markers");cC*=2}R.push("stroke: "+CSS.DY(dK.Clr.v));
R.push("stroke-width: "+cC);R.push("stroke-linejoin: round;")}}for(var j=0;j<A.length;j++){var a=A[j].j,b=a.add.lsct,W=a.add.vmsk,c=a.add.vstk,Y=a.add.TySh;
if(W&&!W.isEnabled)W=c=null;var R=[];if(!i.hidden&&!a.Gi())continue;var $=a.opacity/255,k=a.add.iOpa?a.add.iOpa/255:1;
if($!=1)R.push("opacity: "+B.Uj($));if(k!=1)R.push("fill-opacity: "+B.Uj(k));if(a.Cz!="norm"){var w=b_.a50[b_.Am.indexOf(a.Cz)];
if(w!=null)R.push("mix-blend-mode: "+w)}if(!a.Gi())R.push("display: none");var V=[],h=[],l=a.getName(),M=l.indexOf(" .");
if(M!=-1){h.push(l.slice(M+2));l=l.slice(0,M)}if(!i.oL)V.push("id=\""+B.oW(l)+"\"");var q=ct.Kp(a.add.lmfx,a.add),t=q[0],p=q[1];
if(a.Q0()){var E=A[j].children;if(!(E.length==1&&E[0].j.add.SoLd&&!i.W5)){if(B.i2&&a.getName().split("-").length==3){B.i2.push({ts:a.getName(),LO:0,qX:[]})}c0.B5(a,W,z,V);
if(R.length!=0)V.push("style=\""+R.join(";")+"\"");var _=B.cs(V,h),S=i.oL&&_=="";if(!S)z.VK.push(B.Rp(o)+"<g"+(_==""?"":" "+_)+">");
B.T_(x,z,E,o+1,i,L);if(!S)z.VK.push(B.Rp(o)+"</g>")}}else if(a.d8()&&W==null){var y=new av(0,0,x.m,x.n);
B.pJ(R,a.add,z,y,i);if(R.length!=0)V.push("style=\""+R.join(";")+"\"");z.VK.push(B.Rp(o)+"<rect width=\""+x.m+"\" height=\""+x.n+"\" "+B.cs(V,h)+" />")}else if(W&&a.add.SoLd==null){var y=f.J.BH(W._,null,!0),v=f.J.W8(W._,1);
if(v.Du!=0){V.push("fill-rule=\"evenodd\"")}var r=v.ht;B.pJ(R,a.add,z,y,i);if(R.length!=0){var K=R.join(";"),s=z.AV[K];
if(s==null){s="s"+z.Jd;z.Jd++;z.AV[K]=s;z.I6[s]=K}h.push(s)}z.VK.push(B.Rp(o)+"<path "+B.cs(V,h)+" d=\""+r+"\" />");
if(B.i2&&B.i2[B.i2.length-1]){var P=f.p.zx(W._);P.v=P.v.map(Math.round);var d=B.i2[B.i2.length-1];d.LO+=JSON.stringify(P).length;
d.qX.push([R[0].split("#").pop(),P])}}else if(Y&&i.a5h){var X=Y.gP,U=new ah(X,L),n=null;if(t)n=CSS.DY(t.Clr.v);
if(p){var y=a.rect.clone();B.oO(p,z,y,i);n=" url(#g"+z.e5+")"}if(n)V.push("fill=\""+n+"\"");Z(a,R);if(R.length!=0)V.push("style=\""+R.join(";")+"\"");
var e=g3.O2(U,Y),J=f.p.J_(e);for(var C in J){var H=V.length;if(n==null){V.push("fill=\""+C.slice(0,7)+"\"");
if(C.length>7){var r=C.slice(7).split("-");console.log(r);V.push("stroke=\""+r[1]+"\"");V.push("stroke-width=\""+r[2]+"\"")}}var u=J[C],r=Typr.U.pathToSVG({crds:u.v,cmds:u.F},2);
z.VK.push(B.Rp(o)+"<path "+B.cs(V,h)+" "+B.ZI(Y)+" d=\""+r+"\" />");while(V.length>H)V.pop()}}else if(Y&&!i.ago){var X=Y.gP,bc=Y.D.clone(),n=null;
R.push("transform: "+B.ty(bc));var jK=am.FP(X),U=new ah(X,L);Z(a,R);if(R.length!=0)V.push("style=\""+R.join(";")+"\"");
z.VK.push(B.Rp(o)+"<text "+B.cs(V,h)+" >");if(t)n=CSS.DY(t.Clr.v);if(p){var y=a.rect.clone();y.x-=bc.ZT;
y.y-=bc._s;B.oO(p,z,y,i);n=" url(#g"+z.e5+")"}for(var F=0;F<U.tl.length;F++){var N=U.tl[F];if(N.io.length==1&&N.io[0].xg)continue;
for(var he=0;he<N.VI.length;he++){var gJ=N.VI[he],kg=N.RD.y+gJ.RD.y,cJ=N.io[gJ.start].start,it=N.io[gJ.end-1].end,by=am.avM(X,cJ,it),cz="";
for(var fG=0;fG<by.length;fG++){var ju=U.tB(cJ),gW=by[fG],iI=am.En(X,cJ,cJ),ht=iI.Cr[iI.i8.Font].Name,C=am.Pw(iI.i8.FillColor),et=Math.round(iI.i8.FontSize),be=jK.slice(cJ,cJ+gW);
if(iI.i8.FontCaps==2)be=be.toUpperCase();var c9=new cb;c9.translate(ju.G8.x,-kg);var aJ=[];CSS.afN(aJ,iI,null,!0,!0,n);
var K=aJ.join(";"),s=z.AV[K];if(s==null){s="t"+z.Jd;z.Jd++;z.AV[K]=s;z.I6[s]=K}var b6=ju.G8.x,ef=B.aq9(iI,be);
cz+="<tspan "+(fG==0?"x=\""+B.Uj(ju.G8.x)+"\"":"")+" y=\""+B.Uj(kg)+"\" class=\""+s+"\""+ef+">"+B.oW(be)+"</tspan>";
cJ+=gW}z.VK.push(B.Rp(o+1)+cz)}}z.VK.push(B.Rp(o)+"</text>")}else if(a.add.SoLd&&i.W5){var jV=a.add.SoLd,hu=jV.Idnt.v,eG=0,k8=jV.Crop?jV.Crop.v:null;
if(z.jK[hu]!=null)eG=z.jK[hu];else{z.A_++;eG=z.A_;z.jK[hu]=z.A_;var eE=x.vX(hu,k8),cH="";if(eE==null)return;
var jD=eE.da,a_=iF.cd(eE.raw.buffer);if(a_=="pdf"){var ic=new ew("h");iF.Lg("PDF").i0(eE.raw.buffer,ic);
ic.GK();ic.kW();ic.i();ic.or();if(jV.Crop&&jV.Crop.v==1){Q.lv.U8(ic,ic.root.mc(ic,!0))}var aj=iF.Lg("SVG").ys(ic,ic.m,ic.n,null,{P2:L});
cH="data:image/svg+xml;base64,"+iF.mu(aj)}else if(a_=="jpg"||a_=="png"||a_=="gif"||a_=="svg"){var ay={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
cH="data:"+ay[a_]+";base64,"+iF.mu(eE.raw.buffer)}else{cH=iF.Cx(jD[0].buffer,jD[1].m,jD[1].n)}z.wW.push(B.Rp(2)+"<image width=\""+jD[1].m+"\" height=\""+jD[1].n+"\" id=\"img"+eG+"\" href=\""+cH+"\"/>")}var dS=f.P.hw(jV),hC=[];
c0.B5(a,W,z,hC);if(hC.length!=0)z.VK.push(B.Rp(o)+"<g "+B.cs(hC,h)+">");if(R.length!=0)V.push("style=\""+R.join(";")+"\"");
var eq=B.cs(V,h);z.VK.push(B.Rp(o)+"<use "+eq+" href=\"#img"+eG+"\" transform=\""+B.ty(dS)+"\"/>");if(hC.length!=0)z.VK.push(B.Rp(o)+"</g>")}else if(!a.rect.WT()&&(i.W5||Y)){if(R.length!=0)V.push("style=\""+R.join(";")+"\"");
var eq=B.cs(V,h),ck=a.buffer;if(t)ck=ct.a9y(ck,t,a.rect);var gj=a.rect;z.A_++;var cH=iF.Cx(ck.buffer,gj.m,gj.n,"png",null,!0);
z.wW.push(B.Rp(2)+"<image "+B.ZI(Y)+" width=\""+a.rect.m+"\" height=\""+a.rect.n+"\" id=\"img"+z.A_+"\" href=\""+cH+"\"/>");
z.VK.push(B.Rp(o)+"<use "+eq+" href=\"#img"+z.A_+"\" x=\""+gj.x+"\" y=\""+gj.y+"\" />")}}};c0.aq9=function(x,z){var A=x.i8.Tracking,o="";
if(A!=null&&A!=0){A=Math.round(A*x.i8.FontSize/1e3);o=" dx=\"0";for(var i=1;i<z.length;i++)o+=" "+A;
o+="\" "}return o};c0.ZI=function(x){if(x==null)return"";var z=x.gP,A=am.FP(z);A=c0.oW(A.slice(0,A.length-1));
return"aria-label=\""+A+"\" "};c0.cs=function(x,z){if(z.length!=0)x.push("class=\""+z.join(" ")+"\"");
return x.join(" ")};c0.oW=function(x){return String(x).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
c0.ty=function(x){var z=[x.xc,x.s,x.Pm,x.y9,x.ZT,x._s];for(var F=0;F<6;F++)z[F]=c0.Uj(z[F],3);return"matrix("+z.join(",")+")"};
c0.B5=function(x,z,A,o){var i=c0;if(z||x.add.artb){var L;if(z)L=f.J.W8(z._).ht;else{var B=x.nU(),D=f.p.Mm(B);
L=Typr.U.pathToSVG({crds:D.v,cmds:D.F},2)}A.ZF++;o.push("clip-path=\"url(#cp"+A.ZF+")\"");A.wW.push(i.Rp(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+A.ZF+"\">");
A.wW.push(i.Rp(3)+"<path d=\""+L+"\" />");A.wW.push(i.Rp(2)+"</clipPath>")}};c0.pJ=function(x,z,A,o,i){var L=i.oL?"":" ",B=c0,D=z.vstk,Z=z.vmsk,j=z.lmfx;
if(Z&&Z.Jc!=0){var a=B.Uj(Z.Jc);if(A.JH[a]==null){A.cV++;A.JH[a]=A.cV;A.wW.push(B.Rp(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+A.cV+"\"> <feGaussianBlur stdDeviation=\""+a+"\" /> </filter>")}x.push("filter:"+L+"url(#f"+A.JH[a]+")")}var b=ct.Kp(j,z),W=b[0],c=b[1];
if(D&&!D.fillEnabled.v)x.push("fill:"+L+"none");else if(W){var Y=CSS.DY(W.Clr.v);x.push("fill:"+L+Y)}else if(c){B.oO(c,A,o,i);
x.push("fill:"+L+"url(#g"+A.e5+")")}if(D==null||!D.strokeEnabled.v)D=ct.ZV(j);if(D&&D.strokeEnabled.v){var R=D.strokeStyleContent.v,$=R.classID;
if($=="solidColorLayer")x.push("stroke:"+L+CSS.DY(R.Clr.v));else{B.oO(R,A,o,i);x.push("stroke:"+L+"url(#g"+A.e5+")")}var k=gN.J9.qA.indexOf(D.strokeStyleLineCapType.v.strokeStyleLineCapType),w=gN.J9.join.indexOf(D.strokeStyleLineJoinType.v.strokeStyleLineJoinType),V=D.strokeStyleOpacity.v.val/100,h=D.strokeStyleLineWidth.v.val,l=gN.J9.kq.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(l==2){h*=2;x.push("paint-order:stroke fill markers")}var M=D.strokeStyleLineDashSet.v,q=[];for(var F=0;
F<M.length;F++)q.push(Math.round(M[F].v.val*h));if(k!=0)x.push("stroke-linecap:"+L+["butt","round","square"][k]);
if(w!=0)x.push("stroke-linejoin:"+L+["miter","round","bevel"][w]);if(V!=1)x.push("stroke-opacity:"+L+B.Uj(V));
if(h!=1)x.push("stroke-width:"+L+B.Uj(h));if(q.length!=0)x.push("stroke-dasharray:"+L+q.join(","))}};
c0.oO=function(x,z,A,o){z.e5++;var i=c0,L=x.Grad.v,B=JSON.parse(JSON.stringify(L.Clrs.v)),D=JSON.parse(JSON.stringify(L.Trns.v)),Z=x.Ofst.v,j=x.Type.v.GrdT,a=j=="Rdl"?1:0,b=(a==1?"radial":"linear")+"Gradient",W=f.Q.bn(x,A),Y="";
if(a==0){W[0].x=W[1].x+2*(W[0].x-W[1].x);W[0].y=W[1].y+2*(W[0].y-W[1].y)}var c=i.Rp(2)+"<"+b+" id=\"g"+z.e5+"\"";
if(o.oL){if(z.e5==1)z.wW.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");Y=" href=\"#P\""}else Y=" gradientUnits=\"userSpaceOnUse\"";
if(a==0)z.wW.push(c+" x1=\""+i.Uj(W[0].x)+"\" y1=\""+i.Uj(W[0].y)+"\" x2=\""+i.Uj(W[1].x)+"\" y2=\""+i.Uj(W[1].y)+"\""+Y+">");
if(a==1)z.wW.push(c+" cx=\""+i.Uj(W[0].x)+"\" cy=\""+i.Uj(W[0].y)+"\" r=\""+i.Uj(iL.Or(W[0],W[1]))+"\""+Y+">");
if(j=="Rflc"){for(var R=0;R<2;R++){var $=R==0?B:D;for(var F=$.length-1;F>=0;F--){var k=$[F];k.v.Lctn.v=2048+(k.v.Lctn.v>>>1);
var w=JSON.parse(JSON.stringify(k));w.v.Lctn.v=4096-w.v.Lctn.v;$.push(w)}$.sort(function(p,E){return p.v.Lctn.v-E.v.Lctn.v})}}var V=x.Rvrs.v;
if(V){B.reverse();D.reverse()}for(var F=0;F<B.length;F++){var h=B[F].v,l=h.Lctn.v/4096;if(V)l=1-l;var M=F<D.length?D[F].v.Opct.v.val/100:1,M=M==1?"":" stop-opacity=\""+i.Uj(M)+"\"",q=l==0&&o.oL?"":" offset=\""+i.Uj(l)+"\"",t=CSS.DY(h.Clr.v);
t=o.oL&&t=="#000000"?"":" stop-color=\""+t+"\"";z.wW.push(i.Rp(3)+"<stop"+q+t+M+"/>")}z.wW.push(i.Rp(2)+"</"+b+">")};
c0.Ja=function(x,z,A,o,i){var L=[],B=c0.Ja,D=!1,Z={GM:x,zp:z,fQ:[!0,!0,!0],fV:!1,xT:A,a5Z:0};Z.Iv=Math.round(Math.max(x,z)*(.02+B.C2(Z)*.03));
Z.CD=B.a0Q(Z);Z.Xu=B.asO(Z.CD,(B.C2(Z)<.5?-1:1)*(.2+B.C2(Z)*.3));if(B.C2(Z)<.5){var j=Z.CD;Z.CD=Z.Xu;
Z.Xu=j}Z.atO=B.C2(Z)<.4&&B.a5k(Z.Xu,{w:1,a:1,s:1})>.3;Z.atn=B.C2(Z)<.5?0:1;L.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+x+" "+z+"\" width=\""+x+"\" height=\""+z+"\">");
Z.n1=o[Math.floor(B.Uo(Z)*o.length)];Z.Gr=o[Math.floor(B.Uo(Z)*o.length)];L.push("<style>");L.push("@font-face {  font-family: "+Z.n1[2]+";  src: url(rsrc/fonts/"+Z.n1[5]+");  }");
L.push("@font-face {  font-family: "+Z.Gr[2]+";  src: url(rsrc/fonts/"+Z.Gr[5]+");  }");L.push("</style>");
var a=[0,0,x,z],b=a;if(i==null)L.push("<path style=\"fill: "+B.nK(Z.CD)+"\" d=\""+B.Rect(a[0],a[1],a[2]-a[0],a[3]-a[1])+"\" id=\"Background\" />");
else{Z.fV=!0;B.E0(Z,a,L,i)}if(B.C2(Z)<.25&&!Z.fV){Z.fQ[0]=Z.fQ[2]=!1;B.akU(a,Z,L);b=a}else if(B.C2(Z)<.25||Z.fV)b=a;
else{var W=.52+B.C2(Z)*.2;if(B.C2(Z)<.5)W=1-W;var c=a.slice(0),Y=a.slice(0);if(B.C2(Z)<.5)c[2]=Y[0]=Math.round(W*x);
else c[3]=Y[1]=Math.round(W*z);if(B.C2(Z)<.5){var j=c;c=Y;Y=j}b=c;B.auv(Z,Y,L,i)}B.a2t(Z,b,L);L.push("</svg>");
L=L.join("\n");var R=f.C(Math.round(L.length*1.5)),$=m.Yq(L,R,0);return[R.buffer.slice(0,$),Z.Fe]};c0.Ja.akU=function(x,z,A){var o=c0.Ja,i=x[2]-x[0],L=x[3]-x[1];
if(o.C2(z)<.5){A.push("<path id=\"Border\" style=\"fill: "+o.nK(z.Xu)+"\" d=\""+o.aer(x[0],x[1],x[2]-x[0],x[3]-x[1],z.Iv)+"\" />")}else if(o.C2(z)<-.4){o.aoy(z,x,A)}else{var B=o.C2(z)<.5?0:1,D=(B==0?L:i)/4,Z=o.qN(z,B,x,A,D,!0),Z=o.qN(z,B+2,x,A,D,!0,Z)}};
c0.Ja.a2t=function(x,z,A){var o=c0.Ja,i="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),L=2*Math.floor(o.C2(x)*i.length/2),B=z[2]-z[0],D=z[3]-z[1],j=0,b=0;
x.ue=(x.GM+B)*.5*(.04+o.C2(x)*.05);x.ue=Math.min(x.ue,D*.4,B*.12);x.ue=Math.round(x.ue);var Z=Math.min(x.ue*i[L].length*(.35+.3*o.C2(x)),B*.9),a=(z[1]+z[3])/2,W=f.Ps(x.CD)<.85?{w:1,a:1,s:1}:{w:.1,a:.1,s:.1};
if(o.C2(x)<.25&&x.fQ[0]){b=0;j=z[0]+x.Iv}else if(o.C2(x)<.33&&x.fQ[2]){b=2;j=z[2]-x.Iv}else{b=1;j=(z[0]+z[2])/2}var c=W.w==1?"0,0,0":"255,255,255",Y=x.fV&&o.C2(x)<1;
if(Y){var R=z[0],$=B,k=a-x.ue*1.1,w=x.ue*2.2,V=.7;if(b==1&&o.C2(x)<.5){R=k=.2*Math.min(B,D);$=B-2*k;
w=D-k-k}else if(o.C2(x)<.7){R=k=0;$=B;w=D;V=.25}A.push("<path id=\"Strip\" style=\"fill: rgb("+c+"); opacity: "+V+"\" d=\""+o.Rect(R,k,$,w)+"\" />")}if(o.C2(x)<.4){var h=x.ue*.07;
h*=1.5+o.C2(x)*1;if(b==-1&&B/D<3&&!Y){A.push("<path id=\"Bar-bottom\" style=\"fill: "+o.nK(W)+"\" d=\""+o.Rect(j-Z/2,a+x.ue*1.1-h/2,Z,h)+"\" />");
A.push("<path id=\"Bar-top\"    style=\"fill: "+o.nK(W)+"\" d=\""+o.Rect(j-Z/2,a-x.ue*1.1-h/2,Z,h)+"\" />")}if(b!=1){A.push("<path id=\"Bar\" style=\"fill: "+o.nK(W)+"\" d=\""+o.Rect(j-h/2,a-x.ue*.8,h,x.ue*.8*2)+"\" />");
j+=(b==0?1:-1)*x.ue/3}}var l=x.ue*.4;A.push(o.Eu(i[L+1],j,a+l*1.6,l,W,b,x.Gr));A.push(o.Eu(i[L],j,a+x.ue*.04,x.ue,W,b,x.n1))};
c0.Ja.auv=function(x,z,A,o){var i=z[2]-z[0],L=z[3]-z[1],B=Math.max(i,L),D=Math.min(i,L),Z=c0.Ja;if(B/D<5&&!x.fV&&!1){Z.E0(x,z,A,o)}else if(Z.C2(x)<0)A.push("<path style=\"fill: "+Z.nK(x.Xu)+"\" d=\""+Z.Rect(z[0],z[1],i,L)+"\" />");
else{var j=0;if(z[3]!=x.zp)j=0;if(z[2]!=x.GM)j=3;if(z[0]!=0)j=1;if(z[1]!=0)j=2;var a=j+2&3;if(B/D<3){var b=Z.asx(a),W=b[Math.round(Z.C2(x)*(b.length-1))],c=W.ts.slice(0,4),Y=c.indexOf(1);
W=JSON.parse(JSON.stringify(W));var R=-1;if(c!="0000"){var $=new cb;if(W.ts[5]=="0"){if(Y==3&&j==1){R=1;
$.scale(-1,1)}else R=Y}else{var k=a;while(k==a)k=Math.floor(Z.C2(x)*4)&3;$.rotate((-Y+k)*Math.PI/2)}Z.D(W,$)}var w=Z.Jr(W),V=i-2*x.Iv,h=L-2*x.Iv;
if(R!=-1){if((R&1)==0)h-=x.Iv;else V-=x.Iv}var l=Math.min(V/w.m,h/w.n),M=new cb;M.translate(-w.x,-w.y);
M.scale(l,l);var q=(i-w.m*l)/2,t=(L-w.n*l)/2;if(R!=-1){if(R==3)q=0;if(R==0)t=0;if(R==1)q=i-w.m*l;if(R==2)t=L-w.n*l}M.translate(z[0]+q,z[1]+t);
Z.yP(x,W,M,x.Xu,A)}else{Z.qN(x,j,z,A,1e9)}}};c0.Ja.E0=function(x,z,A,o){var i=z[2]-z[0],L=z[3]-z[1],B=Math.max(i,L),D=Math.min(i,L),Z=c0.Ja,j=Z.Uo(x),a,b,W,c=o[0]instanceof ArrayBuffer;
if(c){a="data:image/jpg;base64,"+gC.Cu(o[0]);b=o[1];W=o[2]}else{var Y=Math.floor(j*o.length),R=o[Y];
x.Fe=R;a=R.webformatURL;b=R.webformatWidth;W=R.webformatHeight}var $=z[0],k=z[1],w=i,V=L;if(i/L>b/W){V=w*W/b;
k=k-(V-L)/2}else{w=V*b/W;$=$-(w-i)/2}if(c){A.push("<defs>");A.push("<image width=\""+b+"\" height=\""+W+"\" id=\"Background\" href=\""+a+"\" />");
A.push("</defs>");var h=w/b;A.push("<use href=\"#Background\" transform=\""+c0.ty(new cb(h,0,0,h,$,k))+"\" />")}else{var l="cp"+Math.random();
A.push("<clipPath id=\""+l+"\">");A.push("<path style=\"fill: "+Z.nK(x.Xu)+"\" d=\""+Z.Rect(z[0],z[1],i,L)+"\" />");
A.push("</clipPath>");A.push("<image  clip-path=\"url(#"+l+")\" xlink:href=\""+a+"\" x=\""+$+"\" y=\""+k+"\" width=\""+w+"\" height=\""+V+"\" />")}};
c0.Ja.Eu=function(x,z,A,o,i,L,B){var D=c0.Ja;return"<text x=\""+z+"\" y=\""+A+"\" style=\"fill:"+D.nK(i)+"; font-size:"+o+"px; text-anchor:"+["start","middle","end"][L]+"; font-family:"+B[2]+";\"><tspan>"+x+"</tspan></text>"};
c0.Ja.yP=function(x,z,A,o,i){var L=c0.Ja,B=[];for(var F=0;F<z.qX.length;F++){B.push(o);if(x.atO){o=(F&1)==x.atn?{w:1,a:1,s:1}:B[0]}}i.push("<g id=\""+z.ts.split("-")[2]+":::\" style=\"transform: "+c0.ty(A)+";\" >");
for(var F=0;F<z.qX.length;F++){var D=z.qX[F];o=B.pop();i.push("<path style=\"fill: "+(o?L.nK(o):"#"+D[0])+"\" d=\""+Typr.U.pathToSVG({crds:D[1].v,cmds:D[1].F})+"\" />")}i.push("</g>")};
c0.Ja.aoy=function(x,z,A){var o=c0.Ja,i=c0.Ja.nZ,L=[];for(var F=0;F<i.length;F++){var B=i[F],D=B.ts.slice(0,4);
if(D!="1001")continue;L.push(B)}var B=L[Math.floor(o.C2(x)*L.length)];if(o.C2(x)<.5)o.D(B,new cb(0,1,1,0,0,0));
var Z=z[3]-z[1],j=z[2]-z[0],a=o.Jr(B),b=.7*Math.min(j,Z,.5*Math.max(j,Z))/Math.max(a.m,a.n),W=new cb;
W.scale(b,b);if(o.C2(x)<.5){W.scale(1,-1);W.translate(0,Z)}o.yP(x,B,W,x.Xu,A);W.rotate(Math.PI);W.translate(j,Z);
o.yP(x,B,W,x.Xu,A)};c0.Ja.asx=function(x){var z=c0.Ja.nZ,A=[];for(var F=0;F<z.length;F++){var o=z[F],i=o.ts.slice(0,4);
if(i=="0000"){A.push(o);continue}if(["1000","0100","0010","0001"].indexOf(i)==-1)continue;var L=i.indexOf("1");
if(o.ts[5]=="0"&&x==L&&L!=3)continue;A.push(o)}return A};c0.Ja.qN=function(x,z,A,o,i,L,B){var D=c0.Ja.nZ,Z=c0.Ja,j=[],w,V;
for(var F=0;F<D.length;F++){var a=D[F],b=a.ts.slice(0,4);if(["1110","1101","1011","0111"].indexOf(b)==-1)continue;
var W=b.indexOf("0")+2&3;if(a.ts[5]=="0")if(L==!0||z!=W&&!(z==1&&W==3))continue;j.push(a)}var c=B!=null?B:Math.floor(Z.C2(x)*j.length),a=j[c],a=JSON.parse(JSON.stringify(a)),b=a.ts.slice(0,4),W=b.indexOf("0")+2&3;
if(W==3&&z==1)f.D(a,new cb(1,0,0,-1,0,1e3));var Y=new cb;Y.translate(-500,-500);Y.rotate(-W*Math.PI/2);
Y.translate(500,500);Z.D(a,Y);var R=A[3]-A[1],$=A[2]-A[0],k=Z.Jr(a);if(k.y<0){k.n+=k.y;k.y=0}if(k.y>0){k.n+=k.y;
k.y=0}if((z&1)==0){V=R;w=$}else{w=R;V=$}var h=Math.min(Math.min(.5+.5*Z.C2(x))*Math.min($,R),i)/k.n,l=Math.ceil(w/(1e3*h)),M=new cb,q=new cb;
q.scale(h,h);if(z==0||z==2){q.translate(-($/2),-(R/2));q.rotate(-z*Math.PI/2);q.translate($/2+A[0],R/2+A[1])}else{q.rotate(Math.PI/2);
q.scale(1,-1);q.translate(A[0],A[1]);if(z==1){q.scale(-1,1);q.translate($,0)}}o.push("<g id=\"Border-"+["top","right","bottom","left"][z]+":::\">");
for(var F=0;F<l;F++){var t=M.clone();t.concat(q);Z.yP(x,a,t,x.Xu,o);M.translate(1e3-2,0)}o.push("</g>");
return c};c0.Ja.Rect=function(x,z,A,o){return Typr.U.pathToSVG({crds:[x,z,x+A,z,x+A,z+o,x,z+o],cmds:["M","L","L","L","Z"]})};
c0.Ja.aer=function(x,z,A,o,i){var L=[x,z,x+A,z,x+A,z+o,x,z+o];x+=i;z+=i;A-=2*i;o-=2*i;L.push(x,z,x,z+o,x+A,z+o,x+A,z);
return Typr.U.pathToSVG({crds:L,cmds:"M L L L Z M L L L Z".split(" ")})};c0.Ja.asO=function(x,z){var A=f.gn(x.w,x.a,x.s);
A.dc=Math.max(.1,Math.min(.9,A.dc+z));return f.ug(A.zp,A.Ww,A.dc)};c0.Ja.ad6=function(x,z){var A=f.gn(x.w,x.a,x.s);
A.zp+=z;return f.ug(A.zp,A.Ww,A.dc)};c0.Ja.a3T=function(x){var z=f.gn(x.w,x.a,x.s);z.dc=1-z.dc;return f.ug(z.zp,z.Ww,z.dc)};
c0.Ja.a5k=function(x,z){var A=x.w-z.w,o=x.a-z.a,i=x.s-z.s;return Math.sqrt(A*A+o*o+i*i)};c0.Ja.a0Q=function(x){var z=c0.Ja;
return{w:z.C2(x),a:z.C2(x),s:z.C2(x)}};c0.Ja.nK=function(x){return CSS.Gk({w:x.w*255,a:x.a*255,s:x.s*255})};
c0.Ja.Jr=function(x){var z=x.qX,A=new av;for(var F=0;F<z.length;F++)A=A.QM(f.p.Jr(z[F][1].v));return A};
c0.Ja.D=function(x,z){var A=x.qX;for(var F=0;F<A.length;F++)f.p.D(A[F][1].v,z,A[F][1].v)};c0.Ja.C2=function(x){x.a5Z++;
var z=x.a5Z&3;if(z==0)x.xT=c0.Ja.cp(x.xT);var A=x.xT>>>8*z&255;return A*(.99999999/255)};c0.Ja.Uo=function(x){var z=c0.Ja.cp(x.xT);
x.xT=c0.Ja.cp(z);return z*(1/4294967295)};c0.Ja.cp=function(x){x=(x^61^x>>>16)>>>0;x=x+(x<<3)>>>0;x=(x^x>>>4)>>>0;
x=x*668265261>>>0;x=(x^x>>>15)>>>0;return x};c0.Ja.nZ=[{ts:"0001-0-bird",qX:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),v:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),v:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),v:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{ts:"0001-0-bird2",qX:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),v:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),v:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),v:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),v:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),v:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),v:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{ts:"0000-1-flower",qX:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),v:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{ts:"0000-1-flower",qX:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),v:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{ts:"0000-1-flower",qX:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),v:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{ts:"0000-1-flower",qX:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{ts:"0000-1-flower",qX:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),v:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),v:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{ts:"0000-0-hearts",qX:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),v:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),v:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),v:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{ts:"0000-0-anchor",qX:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),v:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{ts:"0000-1-leaf",qX:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),v:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{ts:"0000-1-acorn",qX:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),v:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),v:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{ts:"0000-0-skull",qX:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),v:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{ts:"0000-0-ghost",qX:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),v:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),v:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{ts:"1001-1-rose",qX:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),v:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),v:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{ts:"1001-1-curls",qX:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{ts:"0111-0-pines",qX:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),v:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),v:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{ts:"0111-0-flowers",qX:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),v:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{ts:"1101-1-confetti",qX:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{ts:"1101-1-branch",qX:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),v:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{ts:"1101-1-sticks",qX:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{ts:"1101-1-dots",qX:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],v:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{ts:"1101-1-strips",qX:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],v:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{ts:"1101-1-circs",qX:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),v:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),v:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],v:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{ts:"1101-1-squares",qX:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),v:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),v:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],v:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{ts:"1101-0-christmas",qX:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var fv={};fv.parse=function(x){var z=new Uint8Array(x),A=null;if(z[0]==80&&z[1]==75){var o=Date.now(),i=UZIP.parse(z.buffer),A=i["document.json"];
A=JSON.parse(m._X(A,0,A.length));fv.Yd(A,i)}else{var L=k4.parse(x);A=fv.s1(L[2][0][1])}return A};fv.Yd=function(x,z){var A=typeof x;
if(A=="string"||A=="number"||A=="boolean")return x;if(x instanceof Array){for(var F=0;F<x.length;F++)x[F]=fv.Yd(x[F],z);
return x}var o=x._class;if(o==null)return x;if(o=="MSJSONFileReference"){var i=x._ref;if(!1){}else if(z[i+".json"]!=null){var L=z[i+".json"],B=L.length;
for(var F=0;F<B;F++)if(L[F]==11||L[F]==3)L[F]=32;var D=m._X(L,0,B);x=JSON.parse(D)}else if(z[i+".png"]!=null)return{key:i.split("/").pop(),bdata:z[i+".png"]};
else if(z[i+".jpg"]!=null)return{key:i.split("/").pop(),bdata:z[i+".jpg"]};else if(z[i+".pdf"]!=null)return{key:i.split("/").pop(),bdata:z[i+".pdf"]};
else if(z[i]!=null)return{key:i.split("/").pop(),bdata:z[i]};else{console.log(x,z);return}}else if(o=="MSAttributedString"){var D=atob(x.archivedAttributedString._archive),Z=D.length-1,j=new Uint8Array(Z);
for(var F=0;F<Z;F++)j[F]=D.charCodeAt(F);x.archivedAttributedString=fv.s1(j)}for(var a in x)x[a]=fv.Yd(x[a],z);
return x};fv.Y6=function(x,z,A,o){if(x instanceof Uint8Array)return null;if(o.indexOf(x)!=-1)return null;
o.push(x);if(x==z)return A;for(var i in x){A.push(i);var L=fv.Y6(x[i],z,A,o);if(L){console.log(x,L);
throw"e"}A.pop()}};fv.s1=function(x){var z=j9.parse(x,0),A=z.$objects,o=new Uint8Array(A.length),i=fv.gv(A,o,z.$top.root);
for(var F=0;F<A.length;F++)if(o[F]==0&&F!=0){console.log(F,A[F]);fv.Y6(i,F,[],[])}for(var F=0;F<A.length;
F++){var L=A[F];if(L._class&&(L._class=="bitmap"||L._class=="fill"&&L.fillType==4&&(L.image||L.imageSHA))){var B=L.image,D=L.imageSHA,Z=null,j=null;
if(B=="$null")B=null;if(D=="$null")D=null;if(B&&B.data){j=B.sha1["NS.bytes"];j=btoa(m.dX(j,0,j.length));
Z=B.data instanceof Uint8Array?B.data:B.data["NS.bytes"]}else if(B==null&&D==null){var a=iF.Lg("PNG").ys([[f.C(4).buffer]],1,1);
Z=new Uint8Array(a)}else{var b=(i.assets?i.assets.imageCollection:i.images).images;if(D)j=D instanceof Uint8Array?D:D["NS.bytes"];
else j=B.sha1["NS.bytes"];j=btoa(m.dX(j,0,j.length));var Z=b[j].data;if(Z["NS.bytes"])Z=Z["NS.bytes"]}Z=new Uint8Array(Z.buffer.slice(Z.byteOffset,Z.byteOffset+Z.length));
delete L.imageSHA;L.image={key:j,bdata:Z}}}return i};fv.anI=function(x){return x.slice(0,11)=="MSImmutable"?"MS"+x.slice(11):x};
fv.gv=function(x,z,A){var o=x[A];if(z[A]==1){return o}z[A]=1;if(typeof o=="string")return o;if(typeof o=="number")return o;
if(typeof o=="boolean")return o;if(o instanceof Array)return o;if(o instanceof Uint8Array){return o}if(x[o.$class]==null){if(o.$class==null&&o["NS.data"]!=null)return o;
console.log(A,o);throw"e"}var i=x[o.$class],L=fv.anI(i.$classname);z[o.$class]=1;o.$class=L;if(fv.jx[L]){delete o.$class;
o._class=fv.jx[L]}var B=fv.gv;if(L=="NSMutableArray"||L=="NSArray"){var D=[];if(o["NS.objects"]!=null)for(var F=0;
F<o["NS.objects"].length;F++)D.push(B(x,z,o["NS.objects"][F]));else for(var F=0;o["NS.object."+F]!=null;
F++)D.push(B(x,z,o["NS.object."+F]));x[A]=D;return D}if(L=="NSDictionary"||L=="NSMutableDictionary"){var Z={$class:L};
if(o["NS.keys"]!=null)for(var F=0;F<o["NS.keys"].length;F++){var j=B(x,z,o["NS.keys"][F]);if(j instanceof Uint8Array)j=btoa(fv.WI.dX(j,0,j.length));
else if(typeof j!="string"&&typeof j!="number")j=btoa(fv.WI.dX(j["NS.bytes"],0,j["NS.bytes"].length));
Z[j]=B(x,z,o["NS.objects"][F])}else for(var F=0;o["NS.key."+F]!=null;F++){var j=B(x,z,o["NS.key."+F]);
if(j instanceof Uint8Array)j=btoa(fv.WI.dX(j,0,j.length));else if(typeof j!="string"&&typeof j!="number")j=btoa(fv.WI.dX(j["NS.bytes"],0,j["NS.bytes"].length));
Z[j]=B(x,z,o["NS.object."+F])}for(var a in o)delete o[a];for(var a in Z)o[a]=Z[a];return o}if(L=="NSURL")return{$class:L,base:B(x,z,o["NS.base"]),relative:B(x,z,o["NS.relative"])};
if(fv.avh.indexOf(L)!=-1){x[A]=B(x,z,o.array_do);return x[A]}if(o.do_objectID!=null)o.do_objectID=B(x,z,o.do_objectID);
if(fv.aaS.indexOf(L)!=-1)return o;var b=fv.a4D[L];if(b==null){console.log(x,o);throw"unknown class "+L}for(var F=0;
F<b.length;F++)if(o[b[F]]!=null)o[b[F]]=B(x,z,o[b[F]]);if(L=="MSTextLayer"){var W=o,c,Y,R,$;if(W.attributedString)c=W.attributedString.archivedAttributedString;
else c=W.storage;$=c.NSString;if(typeof $!="string")$=m._X($["NS.bytes"],0,$["NS.bytes"].length);if(c.NSAttributeInfo)Y=c.NSAttributeInfo["NS.bytes"];
else{var k=$.length,w=[];while(k>0){var V=Math.min(100,k);w.push(V,0);k-=V}Y=new Uint8Array(w)}R=c.NSAttributes instanceof Array?c.NSAttributes:[c.NSAttributes];
var h={$class:"NSAttributedString",NSString:$,NSAttributes:R};W.attributedString={_class:"MSAttributedString",archivedAttributedString:h};
h.NSAttributeInfo={$class:"NSMutableData","NS.data":Y};delete W.storage}return o};fv.WI={FH:function(x,z){return x[z+1]<<8|x[z]},l:function(x,z){return x[z+3]<<24|x[z+2]<<16|x[z+1]<<8|x[z]},dX:function(x,z,A){var o="";
for(var F=0;F<A;F++)o+=String.fromCharCode(x[z+F]);return o}};fv.jx={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fv.avh=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fv.aaS="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fv.a4D={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var j9={};j9.parse=function(x,z){var A=m.dX(x,z,8);z+=8;var o=j9.parse.aim(x,x.length-31),i=[];if(o.ds==1){var z=x.length-31-o.ds*o.nR;
for(var F=0;F<o.nR;F++)i.push(x[z+F])}else if(o.ds==2){var z=x.length-31-o.ds*o.nR;for(var F=0;F<o.nR;
F++)i.push(m.FH(x,z+F*2))}else if(o.ds==4){var z=x.length-31-o.ds*o.nR;for(var F=0;F<o.nR;F++)i.push(m.l(x,z+F*4))}else{throw"e"}var L=j9.parse.gv(x,i,o.root,o);
return L};j9.parse.gv=function(x,z,A,o){var i=j9.WI,L=o.a1B,B=L==4?i.l:L==2?i.FH:i.aqY,D=j9.parse,Z=z[A],j=x[Z],a=j>>4,b=j&15,c=null;
Z+=1;if([4,5,6,10,12,13].indexOf(a)!=-1&&b==15){var W=D.JR(x,Z);Z+=W.LO;b=W.h}if(!1){}else if(a==0)c=b==8?!1:b==9?!0:null;
else if(a==1)c=D.JR(x,Z-1).h;else if(a==2)c=1<<b==4?m.yw(x,Z):m.gN(x,Z);else if(a==3)c=m.gN(x,Z);else if(a==4)c=new Uint8Array(x.buffer,Z,b);
else if(a==5)c=m.dX(x,Z,b);else if(a==6)c=m.RY(x,Z,b);else if(a==8){c=0;for(var F=0;F<b+1;F++)c=c<<8|x[Z+F]}else if(a==10){c=[];
for(var F=0;F<b;F++)c.push(D.gv(x,z,B(x,Z+L*F),o))}else if(a==12){c=[];for(var F=0;F<b;F++)c.push(D.gv(x,z,B(x,Z+L*F),o))}else if(a==13){c={};
for(var F=0;F<b;F++){var Y=D.gv(x,z,B(x,Z+L*F),o),R=D.gv(x,z,B(x,Z+L*(b+F)),o);c[Y]=R}}else throw"unknown mask "+a;
return c};j9.parse.JR=function(x,z){var A=1<<(x[z]&15),o=0;for(var F=0;F<A;F++)o=o<<8|x[z+1+F];return{h:o,LO:A+1}};
j9.parse.aim=function(x,z){var A={};z+=6;A.ds=x[z];z++;A.a1B=x[z];z++;z+=4;A.nR=m.l(x,z);z+=4;z+=4;A.root=m.l(x,z);
z+=4;z+=4;A.aah=m.l(x,z);z+=4;return A};j9.WI={aqY:function(x,z){return x[z]},FH:function(x,z){return x[z]<<8|x[z+1]},l:function(x,z){return x[z]<<24|x[z+1]<<16|x[z+2]<<8|x[z+3]},dX:function(x,z,A){var o="";
for(var F=0;F<A;F++)o+=String.fromCharCode(x[z+F]);return o}};var k4={parse:function(x){var z=new Uint8Array(x),A=k4.hR(z),o=[],i=new Uint8Array(z.length),L=[];
o.push(L);k4.yH(z,A,1,i,L);for(var F=0;F<L.length;F++){var B=[];o.push(B);k4.yH(z,A,L[F][3],i,B);L[F][3]=F+1}return o},yH:function(x,z,A,o,i){A--;
var L=A*z.ee+(A==0?100:0),B=x[L],D=k4.FH(x,L+1);if(D!=0)throw"free block in a page";var Z=k4.FH(x,L+3),j=k4.FH(x,L+5);
if(j==0)j=65536;var a=x[L+7],b=k4.FH(x,L+8);if(B==2||B==5)L+=4;else b=0;for(var W=0;W<Z;W++){var c=A*z.ee+k4.FH(x,L+8+2*W),Y=-1,R=0,$=0,k=0;
if(B==2||B==5){Y=k4.l(x,c);c+=4}if(B==2||B==10||B==13){R=k4.lC(x,c);c+=R.LO}if(B==5||B==13){$=k4.lC(x,c);
c+=$.LO}if(B==5){k4.yH(x,z,Y,o,i);continue}var w=z.ee-(A==0?100:0),V=R.u6,h=B==13?w-35:Math.floor((w-12)*64/255)-23,l=Math.floor((w-12)*32/255)-23,M=l+(V-l)%(w-4);
if(V<=h){k4.Yy(x,c,o,0,V)}else{var q=M<=h?M:l,t=0;k4.Yy(x,c,o,0,q);t+=q;k=k4.l(x,c+q);while(k!=0){var p=(k-1)*z.ee;
k=k4.l(x,p);var E=Math.min(z.ee-4,V-t);k4.Yy(x,p+4,o,t,E);t+=E}}i.push(k4.ahC(o,V))}},ahC:function(x,z){var A=0,o=k4.lC(x,A);
A+=o.LO;var i=[],L=[];while(A<o.u6){var B=k4.lC(x,A);A+=B.LO;i.push(B.u6)}if(A!=o.u6)throw"e";for(var F=0;
F<i.length;F++){var B=i[F];if(!1){}else if(B==0)L.push(null);else if(B==1){L.push(k4.a3X(x,A));A+=1}else if(B==2){L.push(k4.Zl(x,A));
A+=2}else if(B==3){L.push(k4.aaP(x,A));A+=3}else if(B==4){L.push(k4.JR(x,A));A+=4}else if(B==7){L.push(k4.asr(x,A));
A+=16}else if(B==8)L.push(0);else if(B==9)L.push(1);else if(B>=12&&(B&1)==0){var D=B-13>>1,Z=new Uint8Array(D);
k4.Yy(x,A,Z,0,D);L.push(Z);A+=D}else if(B>=13&&(B&1)==1){var D=B-12>>1;L.push(k4._X(x,A,D));A+=D}else throw"unknonw type "+B}return L},hR:function(x){if(!(x[18]==1&&x[19]==1&&x[20]==0&&x[21]==64&&x[22]==32&&x[23]==32))throw"unexpected SQL3 header";
var z={wO:k4.dX(x,0,15),ee:k4.FH(x,16),avC:k4.l(x,24),size:k4.l(x,28),awz:k4.l(x,32),a2c:k4.l(x,36),aiC:k4.l(x,40),aqF:k4.l(x,44),aq2:k4.l(x,48),apT:k4.l(x,52),amI:k4.l(x,56),agX:k4.l(x,60),ac1:k4.l(x,64)!=0,adb:k4.l(x,68),amV:k4.l(x,92),asU:k4.l(x,96)};
if(z.ee==1)z.ee=65536;if(z.amI!=1)throw"unsupported text encoding "+z.amI;return z},a6z:function(x,z){return x[z]<<16|x[z+1]<<8|x[z+2]},aaP:function(x,z){var A=k4.a6z(x,z),o=A&8388608;
return o?-(16777215-A+1):A},a3X:function(x,z){k4.KO[0]=x[z];return k4.ahO[0]},JR:function(x,z){var A=k4.KO;
for(var F=0;F<4;F++)A[F]=x[z+3-F];return k4.abM[0]},Zl:function(x,z){var A=k4.KO;A[0]=x[z+1];A[1]=x[z];
return k4.arS[0]},FH:function(x,z){return x[z]<<8|x[z+1]},l:function(x,z){return x[z]<<24|x[z+1]<<16|x[z+2]<<8|x[z+3]},asr:function(x,z){var A=k4.KO;
for(var F=0;F<8;F++)A[F]=x[z+7-F];return k4.anN[0]},lC:function(x,z){var A=z,f5=0;while(!0){var o=x[z];
z++;f5=f5*128+(o&127);if(o<128)break}return{u6:f5,LO:z-A}},dX:function(x,z,A){var o="";for(var F=0;F<A;
F++)o+=String.fromCharCode(x[z+F]);return o},_X:function(x,z,A){var o="";for(var F=0;F<A;F++)o+="%"+k4.a5m(x[z+F].toString(16));
return decodeURIComponent(o)},Yy:function(x,z,A,o,i){if(x[z+i-1]==null||A[o+i-1]==null){console.log(z,o,i);
throw"e"}for(var F=0;F<i;F++)A[o+F]=x[z+F]},a5m:function(f5){return f5.length<2?"0"+f5:f5}};k4.KO=new Uint8Array(8);
k4.ahO=new Int8Array(k4.KO.buffer);k4.arS=new Int16Array(k4.KO.buffer);k4.abM=new Int32Array(k4.KO.buffer);
k4.anN=new Float64Array(k4.KO.buffer);function jn(x,z,A){this.Xg=x;this.xW=z;this.ag4=A;this.cT=new iL(0,0);
this.St=-1;this.R_=0;this.$A=0;this.u3=new av;this.n8=[];this.w1=null;this.a14=null;this.c6=null;this.B4=null;
this.DG=null;this.aaE=null}jn.prototype.StartPage=function(x,z,A,o,i){var L=this.xW,B=L._q(),D=1,Z=(A-x)*(o-z);
if(i!=null)Z=i;while(Z*B*B/(D*D)>2*8192*8192)D++;L.scale(1/D,1/D);this.a14=[x,z,A,o];var D=L._q();x=Math.round(x*D);
z=Math.round(z*D);A=Math.round(A*D);o=Math.round(o*D);var j=this.Xg,a=this.c6;if(a==null){L.ZT=-x}else{var b=a[2]-a[0]+30,W=Math.round(A-x)+30;
if(this.cT.x+b+W>8192){L.ZT=-x;this.cT.x=0;this.cT.y+=this.$A+120;this.$A=0}else{L.ZT+=b;this.cT.x+=b}}L._s=this.cT.y+(this.ag4?o:-z);
this.$A=Math.max(this.$A,Math.round(o-z));this.c6=[x,z,A,o];j.g.push(j.Qy())};jn.prototype.JY=function(){var x=this.Xg,z=x.g[x.g.length-1];
return z};jn.prototype.xJ=function(){var x=JSON.parse(JSON.stringify(gN.J9.default));x.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
x.strokeEnabled.v=!1;x.fillEnabled.v=!1;return x};jn.prototype.X3=function(){var x=this.Xg,z=x.Ad();
z.rk("Path "+x.g.length);this.Xg.g.push(z);z.Fu|=16;z.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:0,a:0,s:0})}};
z.add.vmsk=new g.tZ;z.add.vstk=this.xJ();return z};jn.prototype.MF=function(x){var z={v:x.crds,F:x.cmds},A=f.p.fq(z,!1);
f.J.ox(A,this.xW);return A};jn.a9K=function(x,z){for(var F=0;F<x.length;F++)if(x[F].qh!=null)x[F].qh=z};
jn.amb=function(x){return Math.sqrt(Math.abs(x[0]*x[3]-x[1]*x[2]))};jn.kc=function(x){return f.Q.Vv({w:x[0]*255,a:x[1]*255,s:x[2]*255})};
jn.kd=function(x){return new cb(x[0],x[1],x[2],x[3],x[4],x[5])};jn.prototype.Stroke=function(x){if(this.St!=-1&&this.St!=this.R_)return;
if(x.pth.cmds.length<=1)return;var z=this.MF(x.pth);if(z.length<=2)return;this.jT(x);jn.a9K(z,-1);z[2].qh=1;
var A=jn.kc(x.COLR),o=this.JY(),i=this.xJ();jn.Yb(i,x,this.xW._q(),A);var L=o!=null&&o.add.vmsk!=null&&!o.Q0(),B=L&&!o.add.vstk.strokeEnabled.v&&g.tZ.are(o.add.vmsk._,z,!0),D=L&&!o.add.vstk.fillEnabled.v&&JSON.stringify(i)==JSON.stringify(o.add.vstk);
if(D){o.add.vmsk._=o.add.vmsk._.concat(z.slice(2))}else if(B){o.add.vstk=i;i.fillEnabled.v=!0}else{o=this.X3();
o.add.vmsk._=z;o.add.vstk=i}};jn.Yb=function(x,z,A,o){x.strokeEnabled.v=!0;x.strokeStyleMiterLimit.v=z.mlimit;
x.strokeStyleLineDashSet.v=ct.a3(z.dash,1/z.lwidth);x.strokeStyleLineDashOffset.v.val=z.doff;x.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gN.J9.join[z.ljoin];
x.strokeStyleLineCapType.v.strokeStyleLineCapType=gN.J9.qA[z.lcap];x.strokeStyleLineWidth.v.val=Math.max(.4,z.lwidth*jn.amb(z.ctm)*A);
x.strokeStyleContent.v.Clr.v=o};jn.prototype.Fill=function(x,z){if(this.St!=-1&&this.St!=this.R_)return;
if(x.ca==0)return;var A=x.pth.cmds;if(A.length==0)return;if(A.length==2&&JSON.stringify(A)=="[\"M\",\"L\"]")return;
var o=f.p.Jr(x.pth.crds),i=f.p.Jr(x.cpth.crds);if(o.tE(i).WT())return;var L=x.pth,B=UDOC.G.isBox(L,[o.x,o.y,o.x+o.m,o.y+o.n]),D=x.cpth,Z=UDOC.G.isBox(D,[i.x,i.y,i.x+i.m,i.y+i.n]);
if(B&&Z&&o.$()>i.$()*2){var j=o.tE(i),a=j.x,b=j.y,W=a+j.m,c=b+j.n;L={cmds:["M","L","L","L","Z"],crds:[a,b,W,b,W,c,a,c]};
o=j}else if(this.B4==null&&UDOC.G.isBox(L,[o.x,o.y,o.x+o.m,o.y+o.n])&&o.V2(i)){L=D;o=i}else this.jT(x);
var Y=this.MF(L),R=f.p.Mm(o);f.p.D(R.v,this.xW,R.v);o=f.p.Jr(R.v);var $=jn.lt(x.colr,this.xW,o),k=this.JY(),w=k!=null&&k.opacity==Math.round(255*x.ca)&&k.add.vstk!=null&&!k.add.vstk.strokeEnabled.v&&k.add.SoCo&&$.type=="SoFi"&&JSON.stringify(k.add.SoCo.Clr.v)==JSON.stringify($.h.v.Clr.v);
if(w){var V=!1;for(var F=0;F<Y.length;F++){if(Y[F].qh==0||Y[F].qh==2)V=!0}if(V){var h=f.p.Jr(f.J.DU(k.add.vmsk._)),l=f.p.Jr(f.J.DU(Y));
w=h.tE(l).WT()}}if(w){var M=k.add.vmsk._;for(var F=2;F<Y.length;F++)M.push(Y[F])}else{k=this.X3();delete k.add.SoCo;
k.add.vmsk._=g.tZ.cj(Y);jn.av(x.colr,k,this.xW,o);jn.UD(x,k)}};jn.av=function(x,z,A,o){var i=jn.lt(x,A,o),L=null,B=null;
z.add.vstk.fillEnabled.v=!0;if(i.type=="SoFi"){L="SoCo";B=gN.ww}if(i.type=="GrFl"){L="GdFl";B=gN.B_}if(i.type=="patternFill"){L="PtFl";
B=gN.Lm}if(L!=null){z.add[L]={classID:"null"};for(var F=0;F<B.length;F++){var D=B[F];z.add[L][D]=i.h.v[D]}}};
jn.prototype.jT=function(x){var z=this.Xg,A=x.cpth,o=A.cmds.join(""),i=A.crds,L=o+" "+i.join(","),B=UDOC.G.isBox(A,this.a14);
if(B&&this.B4==null)return;if(L==this.B4)return;this.Eh();if(!B){this.B4=L;z.g.push(z.Qy());var D=z.Ad();
D.rk("Mask");D.add.lsct=hF.$Z;D.Cz="pass";D.Fu=24;var Z=D.add.vmsk=new g.tZ;Z._=this.MF(x.cpth);if(UDOC.G.isBox(A)){this.DG=f.J.BH(Z._);
this.DG.nw(3,3)}else this.DG=null;this.aaE=D}};jn.prototype.Eh=function(){var x=this.Xg;if(this.B4!=null){var z=x.g.length-1,F=z,A=!1;
while(F>=0&&x.g[F].add.lsct!=hF.ju)F--;var o=this.DG;if(o){var i=new av,L=z;while(L>F){i=x.g[L].XJ(this.Xg,!1,!0);
L--}A=o.V2(i)}if(A){this.n8.splice(F,1);x.g.splice(F,1)}else{x.g.push(this.aaE)}this.B4=null}};jn.lt=function(x,z,A){var o,i;
if(x.length!=null){o="SoFi";var L=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);i={t:"Objc",v:L};i.v.Clr.v=jn.kc(x)}else{var B=jn.a2E(x,z,A);
o="GrFl";i={t:"Objc",v:B}}return{type:o,h:i}};jn.a2E=function(x,z,A){var o=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),i=o.Grad.v;
i.Intr.v=0;var L=jn.kd(x.mat);L.concat(z);var B=new iL(0,0),D=new iL(A.m,0),Z=x.crds;if(x.typ=="rad"){o.Type.v.GrdT="Rdl";
var j=.7;B.x=(1-j)*Z[0]+j*Z[3];B.y=(1-j)*Z[1]+j*Z[4];D.x=B.x;D.y=B.y;D.x+=Math.max(Z[2],Z[5])}else{o.Type.v.GrdT="Lnr";
B.x=Z[0];B.y=Z[1];D.x=Z[2];D.y=Z[3];B.x=D.x+.5*(B.x-D.x);B.y=D.y+.5*(B.y-D.y)}B=L.nx(B);D=L.nx(D);f.Q.e2(B,D,A,o);
var a=x.grad;f.Q.uW(a,i);return o};jn.prototype.PutText=function(x,z,A,o){var i=z.charCodeAt(0),W=null;
if(this.St!=-1&&this.St!=this.R_)return;if(z.length==0||z.length==1&&(i==0||i==8203))return;this.jT(x);
var L=this.Xg,B=x.font,D=jn.kd(x.ctm);D.concat(this.xW);var Z=jn.kd(B.Tm);Z.concat(D);var j=Q.S._q(Z),a=new cb(1/j,0,0,-1/j,0,0);
a.concat(Z);var b=B.Tfs*j,c=L.g.length-1;while(c>=0&&L.g[c].add.TySh==null)c--;if(a.s*a.s+a.Pm*a.Pm<.001&&o==null&&c>=0&&L.g[c].add.TySh&&L.g[c].opacity==Math.round(255*x.ca)){var Y=L.g[c],R=this.n8[c],$=Y.add.TySh.D,k=($.ZT+R.W1-a.ZT)/b,w=Math.abs(k),V=z.indexOf(" ")==-1,h=$.xc==a.xc&&$.s==a.s&&$.Pm==a.Pm&&$.y9==a.y9,l=h&&Math.abs(R.Ef-a._s)<1e-5&&w<.6,M=a._s-R.Ef;
if(l){W=Y;R.W1=a.ZT-$.ZT;if(k>.2&&V&&[".",",","?",":","!"].indexOf(z)==-1)z=" "+z}else if(h&&Math.abs(a.ZT-$.ZT)<1e-5&&0<M&&M<b*1.7&&R.ajV==b){W=Y;
this.W6(R);R.Ef=a._s;z="\n"+z}}if(W==null){c=L.g.length;this.n8[c]={t9:[],W1:0,Ef:a._s,pX:"",ajV:b};
W=L.Ad();L.g.push(W);W.add.lnsr="rend";W.add.TySh=am.P9(0,0);W.add.TySh.D=a}var R=this.n8[c];R.W1+=A*b;
R.pX+=z;var q=W.add.TySh.gP,t=am.FP(q);if(o){am.cn(q,1);var p=[0,0,Math.ceil(o[0]*j),Math.ceil(o[1]*j)];
am.Lf(q,p)}var E=t.length-1,_=E+z.length;am.tW(q,E,z);if(this.w1==null)this.w1=am.En(q,E,E);var S=this.w1;
S.i8.FontSize=Math.round(b);S.i8.Tracking=Math.round(B.Tc*100);S.i8.Underline=B.Tun==1;S.i8.FillColor={Type:1,Values:[1,x.colr[0],x.colr[1],x.colr[2]]};
if(B.Tal!=null)S.tl.Justification=B.Tal;if(R.t9.length!=0){S.i8.AutoLeading=!1;S.i8.Leading=R.Ef-R.t9[R.t9.length-1].y}var y=B.Tf;
y=y.replace(/#2B/g,"+");y=y.replace(/#2C/g,"-");y=y.split("+").pop();var v={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(v[y])y=v[y];am.Lk(S,y);am.zz(q,E,_-1,S);W.bP();W.opacity=Math.round(255*x.ca)};jn.prototype.W6=function(x){x.t9.push({GM:x.W1,Q1:x.pX.slice(x.t9.length==0?0:1)+"\n",y:x.Ef,Ww:x.ajV});
x.W1=0;x.pX=""};jn.prototype.f$=function(x,z,A){return new Uint8Array(iF.Lg("PNG").ys([[x.buffer,0]],z,A))};
jn.prototype.PutImage=function(x,z,A,o,i,L,B){if(this.St!=-1&&this.St!=this.R_)return;var D=this.Xg,Z=x.font.Tmode;
if(Z==7&&D.g[D.g.length-1].add.TySh){return}this.jT(x);var j=jn.kd(x.ctm);j.concat(this.xW);var a=new cb(1/A,0,0,-1/o,0,1);
a.concat(j);j=a;z=jn.ku(z,A,o,L,!1);if(i)i=jn.ku(i,A,o,B,!0);if(i==null){if(z.length==A*o*4)z=this.f$(z,A,o)}else{z=this.Kj(z,A,o,L,!1);
i=this.Kj(i,A,o,B,!0);var b=f.C(A*o);f.XN(i,b,0);f.c8(b,z,3);z=this.f$(z,A,o)}var W=D.za(z,"Bitmap",0,0),c=W.rect.clone();
c.x=c.y=0;var Y=f.p.Mm(c).v;f.p.D(Y,j,Y);W.add.SoLd.Trnf=Q.S.rL(Y);W.add.SoLd.nonAffineTransform=Q.S.rL(Y);
W._6(D,!1);jn.UD(x,W);D.g.push(W)};jn.UD=function(x,z){z.opacity=Math.round(255*x.ca);var A=jn.Ho[x.bmode];
if(A==null)console.log("Unknown blend mode",A);else z.Cz=A};jn.Ho={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
jn.UJ=function(x){for(var z in jn.Ho)if(jn.Ho[z]==x)return z};jn.ku=function(x,z,A,o,i){var L=iF.cd(x.buffer);
if(L=="jpg"){try{x=new Uint8Array(iF.Lg("JPG").awH(x.buffer))}catch(kc){x=new Uint8Array(z*A*4)}}else if(L=="jb2"){x=new Uint8Array(iF.Lg("JPG").i0(x.buffer,o,i)[0].data)}else if(x.length!=z*A*4){var B=new Uint8Array(z*A*4),D=Math.ceil(z/8),Z=new Uint8Array(A*D);
UTIF.decode._decodeG4(x,0,x.length,Z,0,z,1);var j=Z[0]==(i?255:0);for(var a=0;a<A;a++){var b=D*a;for(var W=0;
W<z;W++){var F=a*z+W,c=F*4,Y=(Z[b+(W>>3)]>>7-(W&7)&1)*255;if(j)Y=255-Y;B[c]=Y;B[c+1]=Y;B[c+2]=Y;B[c+3]=255}}x=B}return x};
jn.prototype.Kj=function(x,z,A,o,i){if(x.length!=z*A*4){var L=iF.cd(x.buffer);if(L=="jb2")throw"e";var B=iF.Lg(L);
if(B==null||L=="tga")B=iF.Lg("jpg");x=new Uint8Array(B.i0(x,o,i)[0].data)}return x};jn.prototype.ShowPage=function(){var x=this.Xg;
this.R_++;var z=this.c6;this.Eh();var A=x.Ad();x.g.push(A);var o=new av(Math.round(this.cT.x),Math.round(this.cT.y),Math.round(z[2]-z[0]),Math.round(z[3]-z[1]));
if(o.WT())o.m=o.n=2e3;this.u3=this.u3.QM(o);A.T4(o);A.add.artb.artboardBackgroundType.v=1;A.rk("Page "+this.R_);
A.add.lsct=hF.$Z;A.Cz="pass";A.Fu=24};jn.prototype.Print=function(x){console.log("Print:",x)};jn.prototype.Done=function(){var x=this.Xg;
if(this.R_==1)x.g[x.g.length-1].add.lsct=hF.X7;x.sC(this.R_);for(var F=0;F<x.g.length;F++){var z=x.g[F],A=z.add.vmsk,o=z.add.TySh,i=this.n8[F];
z.Az();if(A){var L=!1;for(var B=0;B<A._.length;B++){var D=A._[B];if((D.type==0||D.type==3)&&D.length>32767)L=!0}if(L){x.g.splice(F,1);
F--;continue}}z.cm(x);if(o&&i.t9.length!=0){this.W6(i);var Z=o.gP,j=i.t9.length,a=i.t9[0],b=0,W=0;for(var B=0;
B<j;B++)b=Math.max(b,i.t9[B].GM);am.cn(Z,1);o.D._s-=a.Ww*.7;am.Lf(Z,[0,0,Math.ceil(b*1.1),Math.ceil(i.t9[j-1].y-a.y+a.Ww*2)])}if(o){var Z=o.gP;
am.avk(Z);var c=am.FP(Z).split("\n");for(var B=0;B<c.length-1;B++){var Y=c[B],R=0;for(var $=0;$<Y.length;
$++){var k=Y.charCodeAt($);if(1473<=k&&k<=1524)R++}if(R>Y.length/2){c[B]=Y.split("").reverse().join("");
var w=Z.EngineDict.ParagraphRun.RunArray[B].ParagraphSheet.Properties;w._Direction=1;w.Justification=am.zk(w)}}am.Yn(Z,c.join("\n"))}}x.t$=!0;
x.m=this.u3.m;x.n=this.u3.n;x.buffer=f.C(this.u3.$()*4)};var jv={};jv.aM=function(x,z,A,o,i,L){if(i==null)i=x.m;
if(L==null)L=x.n;var B=!1,D=[x.root],Z=x.root.children;if(x.add.artd){B=!0;for(var F=0;F<Z.length;F++)if(Z[F].j.add.artb==null)B=!1;
if(B)D=Z}var j=new av(0,0,x.m,x.n),a=z[0];a=a.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
a=a.split(" ");var b=[];for(var F=0;F<a.length;F++){var W=a[F];if(W=="-"){var c=b.pop(),Y=parseInt(a[F+1]);
while(c<Y){b.push(c);c++}}else b.push(parseInt(W))}a=b;for(var F=0;F<a.length;F++)if(isNaN(a[F])||a[F]<1||a[F]>D.length){a.splice(F,1);
F--}var R=i/x.m,$=L/x.n,k=R*72/x.um,w=$*72/x.um,V=z[5];if(V==null)V=0;var h=72*V,l=72*V;for(var M=0;
M<D.length;M++){var F=M;if(z[2])F=D.length-1-M;if(a.length!=0&&a.indexOf(F+1)==-1)continue;var q=D[F],t=B?q.j.nU():j;
if(!q.j.Gi())continue;var p=Math.round(t.m*k+2*h),E=Math.round(t.n*w+2*l);A.StartPage(0,0,p,E);var _=UDOC.getState([[0,0,p,E]]),S=new cb;
S.translate(-t.x,-t.y-t.n);S.scale(k,-w);S.translate(h,l);if(B){var y=q.j.add.artb,v=y.artboardBackgroundType.v;
if(v!=1&&v!=3){var r=q.j.WE(),K=h,s=l,P=K+t.m,d=s+t.n;_.colr=[(r>>>0&255)/255,(r>>>8&255)/255,(r>>>16&255)/255];
_.pth={cmds:["M","L","L","L","Z"],crds:[K,s,P,s,P,d,K,d]};A.Fill(_)}}if(z[3]){var X=x.MK();if(!j.S0(t)){X=f.C(t.$()*4);
f.mV(x.MK(),j,X,t)}if(z[1]!=100){var U=iF.Lg("JPG").ys([[X.buffer]],t.m,t.n,[z[1]]);X=new Uint8Array(U)}var n=new cb;
n.translate(t.x,t.y);jv.OW(_,A,X,t,n,S)}else{jv.IQ(x,q,_,A,S,z,o);if(h!=0){var K=h,s=l,P=K+t.m,d=s+t.n,e=P+h,J=d+h;
_.ca=1;_.colr=[1,1,1];_.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,J,e,J,e,0,K,s,P,s,P,d,K,d]};
A.Fill(_)}}A.ShowPage()}A.Done()};jv.V0=function(x){x=f.Q.Pw(x);return[x.w/255,x.a/255,x.s/255]};jv.IQ=function(x,z,A,o,i,L,B){var D=z.j,Z=D.add.lsct,j=D.add.lmfx,a=D.add.vmsk,b=D.add.vstk,W=D.add.TySh,$,k;
if(!D.Gi())return;var c=D.opacity/255,Y=D.add.iOpa!=null?D.add.iOpa/255:1;A.bmode=jn.UJ(D.Cz);A.ca=A.CA=c*Y;
var R=j;if(R)R=R.solidFillMulti.v[0];if(R)R=R.v;if(R&&!R.enab.v)R=null;var w=D.rect;if(D.N8()&&(!D.Q0()||D.AT&&D.AT.wh)){if(D.Q0){$=D.AT.wh;
w=D.AT.alx}else{$=f.C(D.rect.$());f.XN(D.buffer,$,3)}k=ct.cE(j,null,$,w,x,w).type;var V=["DrSh","OrGl"];
if(Y!=1||b&&!b.fillEnabled.v){var h=$.slice(0);f.Qs(h);for(var F=0;F<V.length;F++){var l=k[V[F]];for(var M=0;
M<l.length;M++){var q=l[M],t=q.FG.clone();t.x+=w.x;t.y+=w.y;f.A5(h,w,q.ov,t)}}}}if(k)jv.co(D,$,w,k,A,o,i,L,!0);
if(D.Q0()){for(var F=0;F<z.children.length;F++)jv.IQ(x,z.children[F],A,o,i,L,B)}else if(a&&D.d8()&&D.add.PtFl==null){var p=a._,E=f.J.BH(p),_=!1;
if(b.fillEnabled.v){var S=ct.Kp(j,D.add),y=S[0],v=S[1];A.colr=jv.mw(y?y:v,i,E);_=!0}var r=ct.ZV(j);if(!b.strokeEnabled.v&&r)b=r;
var K=f.p.mt(p,b.strokeEnabled.v),s=K.ht;f.p.D(s.v,i,s.v);A.pth={cmds:s.F,crds:s.v};jv.em(o,A,_,b,i,E,K.Du!=0)}else if(W&&L[4]){var P=W.gP,d=new ah(P,B),s=g3.O2(d,W),X=f.p.J_(s),U=ct.ZV(j);
for(var n in X){var e=parseInt(n.slice(1,7),16),J=0;A.colr=R?jv.V0(R.Clr.v):jv.rG(e);var C=X[n];f.p.D(C.v,i,C.v);
C=f.p.amS(C);A.pth={cmds:C.F,crds:C.v};var b=U;if(n.length>7){b=JSON.parse(JSON.stringify(gN.J9.default));
var H=n.slice(7).split("-"),e=parseInt(H[1].slice(1),16),u=jv.rG(e);b.strokeEnabled.v=!0;b.strokeStyleLineWidth.v.val=parseFloat(H[2]);
b.strokeStyleContent.v.Clr.v=R?R.Clr.v:f.Q.Vv({w:u[0]*255,a:u[1]*255,s:u[2]*255});b.strokeStyleMiterLimit.v=parseFloat(H[2])}jv.em(o,A,!0,b,i,null,!1)}}else if(W){var P=JSON.parse(JSON.stringify(W.gP));
am.avk(P);var bc=W.D.clone(),jK=new cb(1,0,0,-1,0,0);jK.concat(bc);jK.concat(i);var N=am.FP(P),d=new ah(P,B);
for(var F=0;F<d.tl.length;F++){var he=d.tl[F];if(he.io.length==1&&he.io[0].xg)continue;for(var M=0;M<he.VI.length;
M++){var gJ=he.VI[M],kg=he.RD.y+gJ.RD.y,cJ=he.io[gJ.start].start,it=he.io[gJ.end-1].end,by=am.avM(P,cJ,it);
for(var cz=0;cz<by.length;cz++){var fG=d.tB(cJ),ju=by[cz],gW=am.En(P,cJ,cJ),iI=gW.Cr[gW.i8.Font].Name;
A.font.Tf=iI;var n=am.Pw(gW.i8.FillColor);A.colr=R?jv.V0(R.Clr.v):[n.w/255,n.a/255,n.s/255];var ht=A.font.Tfs=Math.round(gW.i8.FontSize),et=N.slice(cJ,cJ+ju);
if(gW.i8.FontCaps==2)et=et.toUpperCase();var be=new cb;be.translate(fG.G8.x,-kg);be.concat(jK);A.ctm=[be.xc,be.s,be.Pm,be.y9,be.ZT,be._s];
o.PutText(A,et,0);for(var c9=0;c9<2;c9++){var aJ=gW.i8[c9==0?"Strikethrough":"Underline"];if(!aJ)continue;
var b6=d.tB(cJ+ju-1),ef=c9==0?.27:-.2,jV=ht*ef,hu=ht*(ef+.07),J=b6.G8.x+b6.G8.m-fG.G8.x,eG=[0,jV,J,jV,J,hu,0,hu];
f.p.D(eG,be,eG);A.pth={cmds:["M","L","L","L","Z"],crds:eG};o.Fill(A)}A.ctm=[1,0,0,1,0,0];cJ+=ju}}}}else if(!D.rect.WT()){var k8,eE,jD=!1,a_=new cb,cH=D.add.SoLd,ic=!0;
if(cH)ic=f.P.Vo(Q.S.z5(cH.Trnf));if(cH&&ic){var aj=cH.Idnt.v,ay=x.vX(aj,cH.Crop?cH.Crop.v:null),eq="";
if(ay==null)return;var dS=ay.da,hC=iF.cd(ay.raw.buffer);if(L[6].indexOf(hC)!=-1){k8=ay.raw;jD=!0}else k8=dS[0];
eE=dS[1];a_=f.P.hw(cH)}else{k8=D.buffer;eE=D.rect;a_.translate(eE.x,eE.y)}if(R&&!jD)k8=ct.a9y(k8,R,eE);
jv.OW(A,o,k8,eE,a_,i);if(R&&jD){var eG=[0,0,eE.m,0,eE.m,eE.n,0,eE.n];f.p.D(eG,a_,eG);f.p.D(eG,i,eG);
var ck=JSON.parse(JSON.stringify(A));ck.ca=R.Opct.v.val/100;ck.pth={cmds:["M","L","L","L","Z"],crds:eG};
ck.colr=jv.V0(R.Clr.v);o.Fill(ck)}}if(k)jv.co(D,$,w,k,A,o,i,L,!1)};jv.em=function(x,z,A,o,i,L,B){var D=!1,Z=0,j=0;
if(o&&o.strokeEnabled.v){var a=o.strokeStyleContent.v,b=o.strokeStyleLineDashSet.v;Z=gN.J9.kq.indexOf(o.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
z.COLR=jv.mw(a,i,L);j=o.strokeStyleLineWidth.v.val*i._q();z.mlimit=o.strokeStyleMiterLimit.v;z.doff=o.strokeStyleLineDashOffset.v.val;
z.ljoin=gN.J9.join.indexOf(o.strokeStyleLineJoinType.v.strokeStyleLineJoinType);z.lcap=gN.J9.qA.indexOf(o.strokeStyleLineCapType.v.strokeStyleLineCapType);
z.dash=[];for(var F=0;F<b.length;F++)z.dash.push(b[F].v.val*z.lwidth);if(z.dash.length==1&&z.dash[0]==0)z.dash=[];
D=!0}var W=Z==2;if(A&&!W)x.Fill(z,B);if(D){z.lwidth=j*(Z==2?2:1);x.Stroke(z)}if(A&&W)x.Fill(z,B)};jv.rG=function(x){return[(x>>>16&255)/255,(x>>>8&255)/255,(x&255)/255]};
jv.mw=function(x,z,A){if(x.Clr)return jv.V0(x.Clr.v);var o=x,i=o.Rvrs?o.Rvrs.v:!1,L=o.Type.v.GrdT,B=[],D,Z=L=="Rdl"||L=="Dmnd"?"rad":"lin",j=f.Q.bn(o,A),a=z.nx(j[0]),b=z.nx(j[1]);
if(Z=="rad")D=[a.x,a.y,0,a.x,a.y,iL.Or(a,b)];else{a.Jt(b.x+(a.x-b.x)*2,b.y+(a.y-b.y)*2);D=[a.x,a.y,b.x,b.y]}var W=o.Grad.v.Clrs.v;
for(var F=0;F<W.length;F++){var c=W[F].v,Y=c.Lctn.v/4096;B.push([i?1-Y:Y,jv.V0(c.Clr.v)])}if(i)B.reverse();
return{typ:Z,mat:[1,0,0,1,0,0],grad:B,crds:D}};jv.co=function(x,z,A,o,i,L,B,D,Z){var j=A.clone(),a=z;
if(x.add.TySh&&!D[3]&&!D[4])return;var b=i.ca,W=i.bmode;for(var F=gN.order.length-1;F>=0;F--){var c=gN.order[F];
if(c=="GrFl"||c=="SoFi")continue;if((x.add.vmsk||x.add.TySh)&&c=="FrFX")continue;var Y=o[c],R=F>7||c=="FrFX";
if(R!=Z)continue;for(var $=0;$<Y.length;$++){var k=Y[$];if(k.FG==null)k=k.r7?k.r7:k.yb;var w=k.FG.clone();
w.offset(j.x,j.y);if(!R){if(!j.V2(w)){var V=j.QM(w),h=f.C(V.$());f.K5(a,j,h,V);a=h;j=V}f.A5(a,j,k.ov,w)}if(R&&c=="FrFX"&&k.VD)f.A5(k.VD,w,k.ov,w);
var l=new cb;l.translate(w.x,w.y);i.ca=k.fA;i.bmode=jn.UJ(k.ul);jv.OW(i,L,k.ov,w,l,B)}}i.ca=b;i.bmode=W};
jv.OW=function(x,z,A,o,i,L){var B=new cb;B.scale(o.m,-o.n);B.translate(0,o.n);B.concat(i);B.concat(L);
x.ctm=[B.xc,B.s,B.Pm,B.y9,B.ZT,B._s];z.PutImage(x,A,o.m,o.n);x.ctm=[1,0,0,1,0,0]};var hk={};hk.l6=function(x){var z=new Uint8Array(x);
return hk.YP(z,0)};hk.YP=function(x,z){var A=m.l,o=m.dX,i={mZ:o(x,z,4),u:z+8,size:A(x,z+4)},L=i.mZ=="FORM"||i.mZ=="LIST"||i.mZ=="CAT ";
if(L)i.x6=o(x,z+8,4);if(i.size<0||i.u+i.size>x.length)throw"e";if(L){i.sub=[];z+=12;var B=i.u+i.size;
while(z<B){var D=hk.YP(x,z);i.sub.push(D);z+=8+D.size+(D.size&1)}}return i};var i9={};i9.l6=function(x,z){var A=new Uint8Array(x);
return i9.YP(A,0,z)};i9.YP=function(x,z,A){var o=m.GQ,i=m.dX,L={mZ:i(x,z,4),u:z+8,size:o(x,z+4)};if(A&&A[L.size]!=null)L.size=A[L.size];
if(L.mZ=="RIFF"||L.mZ=="LIST"){L.x6=i(x,z+8,4)}if(L.size<0||L.u+L.size>x.length)throw"e";if(L.mZ=="RIFF"||L.mZ=="LIST"&&(L.x6!="cmpr"&&L.x6!="stlt")){L.sub=[];
z+=12;var B=L.u+L.size;while(z<B){var D=i9.YP(x,z,A);L.sub.push(D);z+=8+D.size+(D.size&1)}}return L};
function gl(){}gl.l6=function(x,z){var A=new Uint8Array(x);z.t$=!0;var o=m.dX(A,0,2);if(o=="WL"){alert("Unsupported CDR version")}else{var i=gl.gA,L=i9.l6(A.buffer),B={data:A,u:0,AF:gl.a4d(A[11])},D,Z,Y=300;
B.JT=B.AF<600?16:32;gl.Lp(B,L.sub,z,0);if(i(L,"cmpr")==null){D=i(L,"page");Z=D}else{var j=i(L,"cmpr").sub;
D=j[0];Z=j.slice(1)[1];var a=i(D,"filt").sub,b=i(D,"otlt").sub;D.dN={};for(var F=0;F<a.length;F++)D.dN[a[F].sub[0].h.id]=a[F].sub[0].h;
D.ih={};for(var F=0;F<b.length;F++)D.ih[b[F].h.id]=b[F].h}var W=i(D,"mcfg").h,c=W.a4R;Y/=gE.Ml(new av(0,0,Math.round(c.x*Y),Math.round(c.y*Y)),8192*8192);
var R=Math.round(c.x*Y),$=Math.round(c.y*Y);z.m=R;z.n=$;z.buffer=f.C(z.m*z.n*4);var k=new cb(Y,0,0,-Y,c.x*Y/2,c.y*Y/2);
gl.Ag(Z,D,z,k);z.sC(1);z.g[z.g.length-1].T4(new av(0,0,R,$))}};gl.gA=function(x,z){var A=null;if(x.sub==null)return A;
for(var F=0;F<x.sub.length;F++){var o=x.sub[F];if(o.mZ==z||o.x6==z)A=o}return A};gl.Ag=function(x,z,A,o){var i=gl.gA,L=x.x6?x.x6:x.mZ,B=i(x,"lgob"),D=i(x,"txsm"),Z,j;
if(B){Z=i(B,"trfl");j=i(B,"loda")}else if(i(x,"lobj"))j=i(x,"lobj");var a=Z?Z.sub[0].Ph.clone():new cb;
a.concat(o);var b=A.Ad();if(L=="page"||L=="layr"||L=="grp "){b.rk((L=="page"?"Page":"Group")+" "+A.g.length);
b.add.lsct=hF.X7;b.Cz="pass";b.Fu=24;var W=[];if(L=="page")W=i(x,"gobj").sub;if(L=="layr")W=x.sub.slice(2);
if(L=="grp ")W=x.sub.slice(4);if(W.length==0)return;A.g.push(A.Qy());for(var F=W.length-1;F>=0;F--)gl.Ag(W[F],z,A,o)}else if(L=="obj "&&j.h&&j.h.path){b.rk("Object "+A.g.length);
var c,Y;if(z.dN){c=z.dN[j.h.adP];Y=z.ih[j.h.a3U]}var R=b.getName(),$=c&&c.type!=0,k=$&&c.h!=null?c.h:[0,0,0];
b.Fu|=16;b.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));var w=b.add.vstk;w.strokeEnabled.v=!1;
b.add.vmsk=new g.tZ;if(Y&&Y.afj!=1){w.strokeEnabled.v=!0;w.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
w.strokeStyleLineWidth.v.val=Y.lineWidth*o._q();var V=Y.color;w.strokeStyleContent.v.Clr.v=f.Q.Vv({w:V[0]*255,a:V[1]*255,s:V[2]*255})}var h=j.h.path;
b.add.vmsk._=f.p.fq(h,!1);f.J.ox(b.add.vmsk._,a);jn.av(k,b,a,f.J.BH(b.add.vmsk._));w.fillEnabled.v=$;
b.Az();b.cm(A)}else if(L=="obj "&&D){var l=j.h.a06,M=j.h.aoA,p="";b.add.TySh=am.P9(0,0);var q=a._q();
b.add.TySh.D.translate(a.ZT,a._s);var t=b.add.TySh.gP,E=D.h.ji;for(var F=0;F<E.length;F++){var _=E[F],S=p.length;
p+=_.text+"\n";am.tW(t,S,_.text+"\n");var y=gl.aky(_.ap8,z),v=am.En(t,S,p.length);if(y.align==3)v.tl.Justification=1;
else v.tl.Justification=0;var r=y.fill.h;v.i8.FillColor={Type:1,Values:[1,r[0],r[1],r[2]]};v.i8.FontSize=Math.round(y.adN.fontSize*a._q());
am.zz(t,S,p.length-1,v)}if(M){am.cn(t,0)}else{am.cn(t,1);am.Lf(t,[0,0,Math.round(l.x*a.xc),Math.round(-l.y*a.y9)])}b.rk(p.slice(0,10))}else{b=null}if(b)A.g.push(b)};
gl.aky=function(x,z){var A=gl.gA(z,"stlt").h,o=JSON.parse(JSON.stringify(A.Pq[x]));if(o.HS!=0){var i=A.Pq[o.HS];
for(var L in i)if(o[L]==null||o[L]==0)o[L]=i[L];delete o.HS}o.align=A.ae0[o.a3B];o.fill=z.dN[A.a7$[o.af5]];
o.a2r=z.ih[A.ahz[o.aoT]];o.adN=A.ahn[o.aa1];return o};gl.afZ=function(F){var f5=F.data[F.u];F.u+=1;return f5};
gl.L9=function(F){var f5=m.FJ(F.data,F.u);F.u+=2;return f5};gl.Gb=function(F){var f5=m.GQ(F.data,F.u);
F.u+=4;return f5};gl.adp=function(F){var f5=m.GQ(F.data,F.u);F.u+=8;return f5};gl.g_=function(F){var f5=m.ID(F.data,F.u);
F.u+=2;return f5};gl.K7=function(F){var f5=m.Hf(F.data,F.u);F.u+=4;return f5};gl.gN=function(F){var f5=m.SV(F.data,F.u);
F.u+=8;return f5};gl.Y7=function(F){if(F.u>=F.data.length)throw"e";var x=0;while(F.data[F.u+x]!=0)x++;
var z=m.dX(F.data,F.u,x);F.u+=x+1;return z};gl.a5y=function(x){if(x.AF<600)return Math.PI*gl.g_(x)/1800;
return Math.PI*gl.K7(x)/18e7};gl.arP=function(x){if(x.AF<1500)return gl.uV(x);else return gl.gN(x)/254e3};
gl.uV=function(x){if(x.AF<600)return gl.g_(x)/1e3;else return gl.K7(x)/254e3};gl.awd=function(x){if(x.AF<600)return gl.L9(x);
else return gl.Gb(x)};gl.agZ=function(x){if(x.AF<600)return CRDParser.g_(x);else return gl.K7(x)};gl.Lp=function(x,z,A,o){var i=gl,L=i.afZ,B=i.L9,D=i.Gb,Z=i.adp,j=i.g_,a=i.K7,b=i.gN,W=i.uV,c=i.arP,Y=i.a5y,R=i.awd,$=i.agZ;
for(var k=0;k<z.length;k++){var w=x.AF,V=z[k];x.u=V.u+(V.mZ=="LIST"?4:0);if(V.mZ=="vrsn"){var h=B(x);
x.AF=h;console.log("Version",h);x.JT=h<600?16:32}else if(V.mZ=="DISP"){}else if(V.mZ=="LIST"&&V.x6=="cmpr"){var l=D(x),M=D(x),q=D(x),t=D(x),p=new Uint8Array(x.data.buffer,x.u+8+2,l-6-8),E=pako.inflateRaw(p),v=0;
x.u+=l;p=new Uint8Array(x.data.buffer,x.u+8+2);var _=pako.inflateRaw(p),S=[];for(var y=0;y<_.length;
y+=4)S.push(m.GQ(_,y));V.sub=[];while(v<E.length){var r=i9.YP(E,v,S);v=r.u+r.size;V.sub.push(r)}var K={data:E,u:0,AF:w,JT:x.JT};
gl.Lp(K,V.sub,A,o+1)}else if(V.mZ=="LIST"&&V.x6=="stlt"){var s=x.u,gJ=32;V.h={};var P=D(x);if(P==0)return;
V.h.a7$=gl.Nh(x,w>=1300);V.h.ahz=gl.Nh(x);V.h.ahn={};var d=D(x);for(var F=0;F<d;F++){var X=D(x);x.u+=w<1e3?12:20;
var U=B(x),n=B(x);x.u+=8;var e=W(x);x.u+=w<1e3?12:20;V.h.ahn[X]={av2:U,abe:n,fontSize:e}}V.h.ae0=gl.Nh(x);
var J=D(x);x.u+=52*J;var C=D(x);x.u+=152*C;var H=D(x);x.u+=784*H;var u=D(x);for(var F=0;F<u;F++){x.u+=40;
if(w>1300)x.u+=4;if(w>=1300){if(D(x))x.u+=68;else x.u+=12}else{x.u+=20;if(w>=1e3)x.u+=8;if(D(x))x.u+=8;
x.u+=8}}var bc=D(x);V.h.ael={};for(var F=0;F<bc;F++){var jK=D(x),N={};x.u+=12;N.right=W(x);N.aw5=W(x);
N.left=W(x);V.h.ael[jK]=N}var he=D(x);if(w>=1300)gJ+=4;x.u+=gJ*he;var kg=D(x);x.u+=28*kg;if(w>800){var cJ=D(x);
x.u+=12*cJ}V.h.Pq={};for(var F=0;F<P;F++){var it=D(x),by=D(x),cz={};cz.HS=D(x);x.u+=8;var fG=D(x);if(w>=1200)fG*=2;
x.u+=fG;cz.af5=D(x);cz.aoT=D(x);if(it>1){cz.aa1=D(x);cz.a3B=D(x);cz.apK=D(x);cz.a5j=D(x);if(w>800)cz.ac9=D(x)}if(it>2){cz.a6X=D(x);
cz.a9F=D(x);cz.ar1=D(x);cz.abm=D(x);cz.ahH=D(x)}V.h.Pq[by]=cz}}else if(V.mZ=="LIST")gl.Lp(x,V.sub,A,o+1);
else if(V.mZ=="txsm"){V.h={};if(w<600)throw"e";if(w<700)throw"e";if(w>=1600)throw"e";if(w>=1500)x.u+=37;
else x.u+=36;if(D(x)){if(w<800)x.u+=32}if(w<800)x.u+=4;V.h.a9l=D(x);V.h.ji=[];x.u+=48;if(w>=800){if(D(x)){x.u+=32;
if(w>=1300)x.u+=8}}if(w>=1500)x.u+=12;var it=D(x),ju=1,gW=!1;if(!it){if(w>=800)x.u+=4;if(w>800)x.u+=2;
if(w>=1400)x.u+=2;x.u+=24;if(w<800)x.u+=8;ju=D(x)}for(var y=0;y<ju;y++){var iI=D(x),F=0;if(w>=1300&&it)x.u++;
x.u++;var P=D(x),ht=[];for(F=0;F<P;F++){var et=L(x),c9=0;L(x);var be=L(x);if(w>=800)c9=L(x);var cz={};
if(be&1){cz.av2=B(x);var aJ=B(x);if(aJ)cz.akj=aJ}if(be&2)x.u+=4;if(be&4)cz.afd=W(x);if(be&8)x.u+=4;if(be&16)x.u+=4;
if(be&32)x.u+=4;if(be&64){cz.af5=D(x);if(w>=1500)x.u+=48}if(be&128){cz.aoT=D(x)}if(c9&8){if(w>=1300){var b6=D(x);
if(x.u+b6*2>=x.data.length){gW=!0;break}x.u+=b6*2}else x.u+=4}if(c9&32){var ef=L(x);if(ef)x.u+=52}if(et==2)if(w>=1300)x.u+=48;
ht.push(cz)}if(gW){break}var jV=D(x);if(x.u+jV*4>x.data.length)break;var hu=[];for(F=0;F<jV;F++){var eG=0;
if(w>=1200)eG=Z(x)&4294967295;else eG=D(x);hu[F]=eG>>16|eG&1}var k8=jV;if(w>=1200)k8=D(x);var eE=gl.Y7(x);
V.h.ji.push({ap8:iI,text:eE,Pq:ht})}}else if(V.mZ=="font"){var jD=B(x),a_=B(x);x.u+=14;var cH=gl.Y7(x);
V.h={id:jD,alJ:a_,name:cH}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(V.mZ)!=-1){}else if(V.mZ=="flgs")V.h=D(x);
else if(V.mZ=="bbox"){var ic=W(x),aj=W(x),ay=W(x),dS=W(x);V.h=new av(ic,aj,ay-ic,dS-aj)}else if(V.mZ=="fild"){var hC=D(x),eq=0,eL;
if(w>=1300){x.u+=4;eq=B(x);x.u+=2}var ck=B(x);if(ck==0){}else if(ck==1){x.u+=w>=1300?13:2;eL=gl.cK(x)}else if(ck==2){x.u+=w>=1300?8:2;
var gj=L(x),bv=0;if(w>=1300){x.u+=17;bv=j(x)}else if(w>=600){x.u+=19;bv=a(x)}else{x.u+=11;bv=j(x)}var dK=Y(x),cC=.5+$(x),iv=.5+$(x)-.5;
if(w>=600)x.u+=2;var dJ=R(x)&255,km=L(x)/100;x.u++;var aM=R(x)&65535;if(w>=1300)x.u+=3;var fq=[];for(var F=0;
F<aM;F++){var dV=gl.cK(x);if(w>=1300){if(eq==158||w>=1600&&eq==150)x.u+=26;else x.u+=5}var im=R(x)/100;
if(w>=1300)x.u+=3;fq.push([im,dV])}eL={typ:gj==1?"lin":"rad",crds:[cC-Math.cos(dK)/2,iv-Math.sin(dK)/2,cC,iv],grad:fq,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ck);
V.h={id:hC,type:ck,h:eL}}else if(V.mZ=="outl"){var hj=D(x);if(w>=1300){var d8=0,cI=0;while(d8!=1){x.u+=cI;
d8=D(x);cI=D(x)}}var gD=B(x),iw=B(x),e3=B(x);if(w<1300&&w>=600)x.u+=2;var c5=W(x),eT=B(x)/100;if(w>=600)x.u+=2;
var iO=Y(x);if(w>=1300)x.u+=46;else if(w>=600)x.u+=52;var eL=gl.cK(x,hj==270963208||hj==276198e3,hj);
V.h={id:hj,afj:gD,acw:iw,afx:e3,lineWidth:c5,color:eL}}else if(V.mZ=="mcfg"){if(1300<=w)x.u+=12;else if(900<=w)x.u+=4;
else if(600<=w&&w<700)x.u+=28;var hW=0,j5=0;if(w<400){x.u+=2;var ic=W(x),aj=W(x),ay=W(x),dS=W(x);hW=Math.abs(ay-ic);
j5=Math.abs(dS-aj)}else{hW=W(x);j5=W(x)}V.h={a4R:new iL(hW,j5)}}else if(V.mZ=="loda"||V.mZ=="lobj"){var s=x.u,aL=R(x),gk=R(x),eA=R(x),gF=R(x),bB=R(x),ix=[],ab=[];
x.u=s+eA;for(var F=0;F<gk;F++)ix[F]=R(x);x.u=s+gF;for(var F=gk-1;F>=0;F--)ab[F]=R(x);V.h={};for(var F=0;
F<gk;F++){x.u=s+ix[F];var ez=ab[F];if(ez==10)V.h.a3U=D(x);else if(ez==20)V.h.adP=D(x);else if(ez==200)V.h.amA=R(x);
else if(ez==30){if(w<400)bB--;if(bB==1){var ic=c(x),aj=c(x),cM=0,ib=0,hU=0,hi=0;if(w<1500){hi=c(x);hU=w<900?hi:c(x);
ib=w<900?hi:c(x);cM=w<900?hi:c(x)}else throw"e";V.h.path=f.p.zx(f.J.Ja.Rect(0,0,ic,aj,cM))}else if(bB==2){var go=W(x),bg=W(x),hB=Y(x),d5=Y(x),fb=Math.abs(go),js=Math.abs(bg);
V.h.path=f.p.zx(f.J.Ja.sq(0,0,fb,-js))}else if(bB==3){V.h.path=gl.ad4(x)}else if(bB==4){V.h.aoA=gl.ahN(x)}else if(bB==6){V.h.a06=gl.a63(x)}else if(bB==37){V.h.path=gl.AA(x)}else console.log(bB)}}}else if(V.mZ=="trfd"){var s=x.u,aL=R(x),gk=R(x),eA=R(x);
x.u=s+eA;var ix=[];for(var F=0;F<gk;F++)ix[F]=R(x);for(var F=0;F<gk;F++){x.u=s+ix[F];if(w>=1300)x.u+=8;
var hJ=B(x);if(hJ==8){var cx,i7,ic,bw,iN,aj;if(w>=600)x.u+=6;if(w>=500){cx=b(x);i7=b(x);ic=b(x)/(w<600?1e3:254e3);
bw=b(x);iN=b(x);aj=b(x)/(w<600?1e3:254e3)}else throw"e";V.Ph=new cb(cx,bw,i7,iN,ic,aj)}else console.log(hJ)}}else if(!1){console.log(V);
var gc=Math.min(V.size,32);console.log(m.Fa(data,V.u,gc));console.log(m.a6O(data,V.u,gc))}}};gl.Nh=function(x,z){var A=gl.Gb,o={},i=A(x);
for(var F=0;F<i;F++){var L=A(x);x.u+=4;var B=A(x);o[L]=B;if(z)x.u+=48}return o};gl.ahN=function(x){var z=gl,A=z.uV,o=A(x),i=A(x);
return new iL(o,i)};gl.a63=function(x){var z=gl,A=z.uV;x.u+=4;var o=A(x),i=A(x);return new iL(o,i)};
gl.AA=function(x){var z=gl,A=z.Gb,o=z.L9,i=z.uV;x.u+=4;var L=o(x)+o(x);x.u+=16;var B=gl.WV(x,L);return B};
gl.ad4=function(x){var z=gl.L9(x);x.u+=2;return gl.WV(x,z)};gl.WV=function(x,z){var A=gl,o=A.uV,i=x.AF<600?2:4,L=x.u,B={v:[],F:[]},D=0,Z=0,j=0;
for(var F=0;F<z;F++){var D=o(x),Z=o(x),a=x.data[L+z*i*2+F];if(!(a&64)&&!(a&128)){B.v.push(D,Z);B.F.push("M");
j+=2}else if(a&64&&!(a&128)){B.v.push(D,Z);B.F.push("L");j+=2}else if(!(a&64)&&a&128){B.v.push(D,Z);
B.F.push("C");j+=6}else if(a&64&&a&128){B.v.push(D,Z)}}if(j!=B.v.length)throw"e";return B};gl.adB=function(x,z){var A=m.GQ;
z+=8;var o=A(x,z);z+=4;var i=A(x,z);z+=4;z+=4*7;var L=z,B=f.C(o*i*4);z+=1024;for(var D=0;D<i;D++)for(var Z=0;
Z<o;Z++){var F=D*o+Z,j=(i-D-1)*o+Z,a=x[z+F]<<2,b=j<<2;B[b+0]=x[L+a+2];B[b+1]=x[L+a+1];B[b+2]=x[L+a+0];
B[b+3]=255}return{ov:B,rect:new av(0,0,o,i)}};gl.a4d=function(x){if(x==32)return 300;else if(x<49)return 0;
else if(x<58)return 100*(x-48);else if(x<65)return 0;return 100*(x-55)};gl.cK=function(x,z,A){var o=gl.L9,i=gl.Gb,L=x.AF,B=0,D=0;
if(L>=500){B=o(x);if(B==1&&L>=1300)B=25;if(B==25||B==30){var Z=0;if(B==30){B=25;Z=30}else{Z=o(x);x.u+=4}var j=o(x),a=o(x)}else if(B==14)throw"e";
else{x.u+=6;D=i(x)}}else throw"e";var b=[];if(B==2||B==9||B==17){var W=[D>>>0&255,D>>>8&255,D>>>16&255,D>>>24&255];
if(B==2)for(var F=0;F<4;F++)W[F]=Math.round(255*W[F]/100);for(var F=0;F<4;F++)W[F]/=255;b=UDOC.C.cmykToRgb(W)}else if(B==1||B==5){b=[D>>>0&255,D>>>8&255,D>>>16&255];
for(var F=0;F<3;F++)b[F]=b[F]/255}else console.log("Unknown color model "+B,D,D.toString(16));return b};
var cR=function(){var x,z,A=new ArrayBuffer(4),o=new Uint8Array(A),i=new Uint32Array(A),L=new Float32Array(A);
function B(W,c){for(var Y=0;Y<W.length;Y++)if(W[Y][0]==c)return W[Y]}function D(){var W=0,c=0,Y=0;do{Y=x[z++];
W|=(Y&127)<<c;c+=7}while(Y&128&&c<35);return W>>>0}function Z(W,c,Y,R,$){x=W;z=c;var k=R[0]=="mesg",w=R[2],V={},h=1,l=k?1e9:w.length;
while(h<=l){var M=h;if(k){M=D();if(M==0)break}var q=B(w,M),t=q[2],p=q[1]==1,E=p?D():1,_=new Array(E);
if(t==3){if(!p)throw"e";_=x.slice(z,z+E);z+=E}else for(var F=0;F<E;F++){var S;if((t&1)==1){if(t==1)S=x[z++]==1;
else if(t==3)S=x[z++];else if(t==5){var y=D();S=y&1?~(y>>>1):y>>>1}else if(t==7)S=D();else if(t==9){if(x[z]==0){S=0;
z++}else{o[0]=x[z];o[1]=x[z+1];o[2]=x[z+2];o[3]=x[z+3];var v=i[0];i[0]=v<<23|v>>>9;S=L[0];z+=4}}else if(t==11){var r=j(x,z);
S=r[0];z+=r[1]+1}else throw t}else{var K=Y[t>>>1];if(K[0]=="enum"){var s=x[z++];if(s>127)throw"e";S=K[2][s]}else{var P=Z(x,z,Y,K,$+1);
S=P[0];z=P[1]}}_[F]=S}V[q[3]]=p?_:_[0];h++}return[V,z]}function j(W,c){var Y=c;while(W[Y]!=0)Y++;return[m._X(W,c,Y-c),Y-c]}function a(W,c){var Y=c;
while(W[Y]!=0)Y++;for(var F=c;F<Y;F++)if(W[F]>127)throw"e";return m.dX(W,c,Y-c)}function b(W){x=W;z=1;
var c=[];while(z<W.length){var Y=z,R=c.length,$=a(W,z);z+=$.length+1;var k=D();if(k>2)throw"e";var w=D(),V=[];
for(var F=0;F<w;F++){var h=a(W,z);z+=h.length+1;var l=D(),M=D(),q=D();V.push(k==0?h:[q,M,l,h])}c.push([["enum","strc","mesg"][k],$,V])}return c}return{at1:b,agz:Z}}();
function jL(){}jL.l6=function(x,z){var A=new Uint8Array(x),o=8,i=m.GQ(A,o),j=0,K=0;o+=4;var L=[];while(o<A.length){var B=m.GQ(A,o);
o+=4;var D=A.slice(o,o+B);if(A[o]==137&&A[o+1]==80){}else D=UZIP.inflateRaw(D);L.push(D);o+=B}var Z=cR.at1(L[0]);
for(var F=0;F<Z.length;F++)if(Z[F][1]=="Message")j=F;var a=cR.agz(L[1],0,Z,Z[j],0)[0],b={So:{},uv:{},aap:{}},W=a.nodeChanges;
for(var c=0;c<W.length;c++){var Y=W[c],R=Y.guid;b.uv[R.sessionID+","+R.localID]=Y}for(var c=0;c<W.length;
c++){var Y=W[c],R=Y.parentIndex;if(R){var $=jL.aO(b.uv,R.guid);if($.children==null)$.children=[];$.children.push(Y)}}var k=W[0],w=k.children,V=new av,h=[],l=[];
for(var R=0;R<w.length;R++){var M=w[R],q=M.children;if(M.name=="Internal Only Canvas"||q==null)continue;
var t=new av;for(var F=0;F<q.length;F++){var p=q[F],E=p.transform,_=p.size;if(E.m00==1&&E.m10==0&&E.m01==0&&E.m11==1){var S=new av(E.m02,E.m12,_.x,_.y);
t=t.QM(S)}}var y=V.n==0?0:V.n+100,v=t.clone();v.x=0;v.y=y;V=V.QM(v);h[R]=t;l[R]=y}var r=gE.Ml(new av(0,0,V.m,V.n),8192*8192);
z.m=Math.round(V.m/r);z.n=Math.round(V.n/r);z.buffer=f.C(z.m*z.n*4);for(var R=0;R<w.length;R++){var M=w[R],q=M.children;
if(M.name=="Internal Only Canvas"||q==null)continue;q.sort(jL.jU);var s=new cb(1,0,0,1,-h[R].x,l[R]-h[R].y);
s.scale(1/r,1/r);for(var F=0;F<q.length;F++){var p=q[F];jL.Ag(p,[],s,a.blobs,z,0,b);K++}}z.sC(K);z.t$=!0;
if(r!=1)alert("File scaled down "+r+"x")};jL.Ag=function(x,z,A,o,i,L,B){var D=jL,E=!1,_,S,r,K,s;z=JSON.parse(JSON.stringify(z));
var Z=x.overrideKey?x.overrideKey:x.guid;for(var F=0;F<z.length;F++){var j=z[F],a=j.guidPath.guids;if(D.arZ(a[0],Z)){if(a.length==1){var b={};
for(var W in x)b[W]=j[W]!=null?j[W]:x[W];x=b}else j.guidPath.guids=a.slice(1)}}var c=x.type,Y=x.children,R=x.size,$=x.effects,k=i.Ad();
k.rk(x.name);k.uO(x.visible);k.opacity=Math.round(x.opacity*255);var w=D.t6(x.transform),V=w.clone();
V.concat(A);var h=new av(Math.round(V.ZT),Math.round(V._s),Math.round(R.x*V._q()),Math.round(R.y*V._q()));
if(h.m==0||isNaN(h.m))h.m=100;if(h.n==0||isNaN(h.n))h.n=100;var l=x.fillPaints,M=x.inheritFillStyleID;
if(M){var b=D.aO(B.uv,M);if(b)l=b.fillPaints}if(l==null)l=[];var l=D.oE(l),q=l[0],t=x.strokePaints,M=x.inheritFillStyleIDForStroke;
if(M){var b=D.aO(B.uv,M);if(b)t=b.fillPaints}if(t==null)t=[];var t=D.oE(t),p="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(c)!=-1;
if(p||c=="FRAME"){_=new g.tZ;S=[];D.HC(x,o,_,S);E=f.J.gb(_._);f.J.ox(_._,V);var y=f.p.u8(f.J.BH(_._));
if(!y.WT())h=y;if(B.So.Ot&&q){var v=g.tZ.cj(B.So.Ot._);for(var F=2;F<v.length;F++)if(v[F].qh!=null)v[F].qh=3;
_._=_._.concat(v.slice(2));S=S.concat(JSON.parse(JSON.stringify(B.So.i4)))}}if(q&&q.type=="IMAGE"){s=q.imageScaleMode;
r=D.MK(o,q.image.dataBlob);var P=r.xH.m/r.xH.n,d=R.x/R.y;K=Math.abs(P-d)}if(c=="FRAME"){}else if(p&&E&&r&&(s=="FIT"||s=="FILL"&&K<=.05)){var X=o[q.image.dataBlob].bytes,U=i.za(X,k.getName(),0,0);
U.Fu=k.Fu;U.opacity=k.opacity;k=U;var n=new av(0,0,R.x,R.y);if(s=="FIT"){var e=r.xH.m,J=r.xH.n,C=Math.min(R.x/e,R.y/J),H=e*C,u=J*C;
n=new av(n.x+(n.m-H)/2,n.y+(n.n-u)/2,H,u)}var bc=f.p.Mm(n).v;f.p.D(bc,V,bc);k.add.SoLd.Trnf=Q.S.rL(bc);
k.add.SoLd.nonAffineTransform=Q.S.rL(bc);var jK=[],$=x.effects,N=q.paintFilter;if($)for(var F=0;F<$.length;
F++)if($[F].type=="FOREGROUND_BLUR"){var he=$[F],gJ=h6.SB("GsnB",{});jK.push(gJ);gJ.v.enab.v=he.visible;
gJ.v.Fltr.v.Rds.v.val=he.radius/2.4}if(N&&N.exposure!=0){var gJ=h6.SB("brit",{});jK.push(gJ);gJ.v.Fltr.v.Brgh.v=Math.round(N.exposure*160);
gJ.v.Fltr.v.useLegacy.v=!0}if(N&&N.vibrance!=0){var gJ=h6.SB("vibA",{});jK.push(gJ);console.log(gJ);
gJ.v.Fltr.v.Strt.v=Math.round(Math.round(N.vibrance*100))}if(jK.length!=0){k.add.SoLd.filterFX=h6.NW();
i.o2({id:k.add.SoLd.placed.v,rect:new av,buffer:f.C(1),B:new g.$R});k.add.SoLd.filterFX.v.filterFXList.v=jK}k._6(i,!1);
D.uc(B,k,i)}else if(p){D.kf(k,S,_,x,q,t,V,h,o,i,B);if($)for(var F=0;F<$.length;F++){var he=$[F];if(he.type!="FOREGROUND_BLUR")continue;
_.Jc=he.radius/2.4}k.cm(i)}else if(c=="TEXT"){var kg=x.textData,cJ=kg.layoutSize,it=["LEFT","RIGHT","CENTER"].indexOf(x.textAlignHorizontal);
k.add.lnsr="rend";k.add.TySh=am.P9(0,0);k.add.TySh.t0=new av(0,0,100,100);var by=V.clone();k.add.TySh.D=by;
var cz=k.add.TySh.gP,fG=kg.characters;if(x.textCase=="TITLE"){for(var F=0;F<fG.length;F++)if(F==0||fG[F-1]==" "){var ju=fG.slice(0,F),gW=fG.slice(F+1);
fG=ju+fG[F].toUpperCase()+gW}}fG=fG.replace(/\u2028/g,"\n");fG=fG.replace(/\u2029/g,"\n");fG=fG.replace(/\r\n/g," \n");
am.tW(cz,0,fG);var iI=x.textAutoResize,ht=kg.baselines;if(iI=="WIDTH_AND_HEIGHT"){var et=it==0?0:it==1?cJ.x:cJ.x/2,be=ht?ht[0].position.y:0;
by.translate(et*V._q(),be*V._q());am.cn(cz,0)}else if(iI=="HEIGHT"||iI=="NONE"||iI==null){var be=ht?ht[0].position.y-x.fontSize*.7:0;
by.translate(0,be*V._q());am.cn(cz,1);am.Lf(cz,[0,0,Math.round(cJ.x),Math.round((iI=="NONE"?1.8:1)*cJ.y)])}else throw iI;
if(fG!=""){var c9=am.En(cz,0,1);D.iP(x,V,R,c9,k,o,i,B);am.zz(cz,0,fG.length,c9);var aJ=kg.characterStyleIDs,b6=kg.styleOverrideTable;
if(aJ){aJ=aJ.slice(0);for(var F=0;F<aJ.length;F++)if(fG[F]=="\n")aJ[F]=-F-1;var ef=[0],jV=0,hu=0;for(var F=0;
F<aJ.length;F++){hu++;var eG=aJ[F];if(F==0||eG==aJ[F-1]){}else{ef.push(hu-1,F);hu=1}}ef.push(hu);for(var F=0;
F<ef.length;F+=2){var k8=ef[F],eE=ef[F+1];if(fG[k8]=="\n")continue;var eG=aJ[k8];if(eG!=0){var jD;for(var a_=0;
a_<b6.length;a_++)if(b6[a_].styleID==eG)jD=b6[a_];var c9=am.En(cz,k8,k8+1);D.iP(jD,V,R,c9,k,o,i,B);am.zz(cz,k8,k8+eE-1,c9)}}}}}else if(c=="SYMBOL"){}else if(c=="INSTANCE"){var cH=x.symbolData,ic=cH.symbolOverrides,b=D.aO(B.uv,cH.symbolID);
if(b)Y=b.children;else console.log(x.name,"symbol not found",cH.symbolID);z=z.slice(0);for(var F=0;F<ic.length;
F++)z.push(ic[F])}else console.log(c);if(!1){}else if(Y&&!p){i.g.push(i.Qy());var aj=!1,ay=L==0&&c!="SYMBOL"&&c!="INSTANCE";
if(ay){if(h.WT())console.log(h);k.T4(h)}q=l[l.length-1];if(ay&&q&&q.type=="SOLID"){var dS=q.color;k.add.artb.artboardBackgroundType.v=4;
k.add.artb.Clr=D.cK(dS)}else if((q||t[0])&&_){var hC=i.Ad();hC.rk("Background");D.kf(hC,S,_,x,q,t,V,h,o,i,B);
hC.cm(i);i.g.push(hC);aj=!0}Y.sort(D.jU);var eq=B.So;B.So={};for(var ck=0;ck<Y.length;ck++)D.Ag(Y[ck],z,V,o,i,L+1,B);
B.So=eq;k.add.lsct=!1?hF.X7:hF.$Z;k.Cz="pass";var eL=k.Gi();k.Fu=24;k.uO(eL);var gj=L!=0&&l.length!=0&&!x.frameMaskDisabled&&x.containerSupportsFillStrokeAndCorners;
if(!aj&&gj&&_){k.add.vmsk=_;k.add.vogk=S;k.cm(i)}else D.uc(B,k,i);i.g.push(k)}else if(x.mask){if(_){B.So.Ot=_;
B.So.i4=S}}else{var bv=[],fq=1;if($)for(var dK=0;dK<$.length;dK++){var he=$[dK],cC=he.color,iv=he.type,dJ=["DROP_SHADOW","INNER_SHADOW"].indexOf(iv);
if(dJ!=-1){var km=["DrSh","IrSh"][dJ],aM=JSON.parse(gN.NK[gN.order.indexOf(km)]);bv.push([km,aM]);aM.enab.v=he.visible;
aM.Md.v.BlnM=b_.d$(D.aek(he.blendMode));aM.Opct.v.val=Math.round(100*cC.a);aM.blur.v.val=Math.round(he.radius*V._q());
aM.Clr=D.cK(cC);var et=he.offset.x,be=he.offset.y;aM.uglg.v=!1;aM.lagl.v.val=Math.round(180/Math.PI*Math.atan2(be,-et));
aM.Dstn.v.val=Math.round(Math.sqrt(et*et+be*be)*V._q())}}if(c=="TEXT"&&l[0]&&l[0].type!="SOLID")fq=0;
for(var F=fq;F<l.length;F++){var dV=l[F],im=D.uu(x,dV,V,h,o,i,B);if(im[0]=="GdFl")bv.push(["GrFl",im[1]]);
else if(im[0]=="SoCo")bv.push(["SoFi",im[1]]);else if(im[0]=="PtFl")bv.push(["patternFill",im[1]]);else throw im}if(!p)for(var F=0;
F<t.length;F++){var dV=t[F],im=D.uu(x,dV,V,h,o,i,B);if(im[0]=="SoCo"){var aM=JSON.parse(gN.NK[gN.order.indexOf("FrFX")]);
bv.push(["FrFX",aM]);aM.enab=im[1].enab;aM.Opct=im[1].Opct;aM.Md=im[1].Md;aM.Clr=im[1].Clr;aM.Sz.v.val=x.strokeWeight}}if(bv.length!=0){var hj=JSON.parse(gN.default);
for(var F=0;F<gN.order.length;F++)hj[gN.OX[F]]={t:"VlLs",v:[]};for(var F=0;F<bv.length;F++){var d8=bv[F],km=gN.OX[gN.order.indexOf(d8[0])];
hj[km].v.unshift({t:"Objc",v:d8[1]})}if(Y==null)k.add.lmfx=hj}i.g.push(k)}};jL.kf=function(x,z,A,o,i,L,B,D,Z,j,a){var b=jL;
x.Fu|=16;x.add.vogk=z;x.add.vmsk=A;var W=x.add.vstk=JSON.parse(JSON.stringify(gN.J9.default)),c=b.uu(o,i,B,D,Z,j,a);
if(c[0]=="None"){W.fillEnabled.v=!1;x.add.SoCo=c[1]}else{b.Go(c,x);x.add[c[0]]=c[1]}var c=b.uu(o,L[0],B,D,Z,j,a);
if(c[0]!="None"){var W=x.add.vstk;W.strokeEnabled.v=!0;W.strokeStyleLineWidth.v.val=o.strokeWeight*B._q();
W.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gN.J9.kq[["INSIDE","CENTER","OUTSIDE"].indexOf(o.strokeAlign)];
var Y={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[c[0]],R=["SoFi","GrFl","patternFill"].indexOf(Y),$=[gN.ww,gN.B_,gN.Lm][R];
W.strokeStyleContent.v={classID:gN.J9.x6[0]};var k=o.dashPattern;if(k)W.strokeStyleLineDashSet.v=ct.a3(k,1/o.strokeWeight);
var w=W.strokeStyleContent.v={classID:gN.J9.x6[R]};for(var F=0;F<$.length;F++)w[$[F]]=c[1][$[F]];if(!W.fillEnabled.v)b.Go(c,x)}};
jL.Go=function(x,z){var A=x[1].Opct.v.val;if(A!=100)z.opacity=Math.round(z.opacity/255*(A/100)*255)};
jL.jU=function(x,z){var A=x.parentIndex.position,o=z.parentIndex.position;return A>o?1:-1};jL.oE=function(x){for(var F=1;
F<x.length;F++){var z=x[F];if(z.type=="IMAGE"&&z.opacity==1){x=x.slice(F);break}}for(var F=0;F<x.length;
F++){var z=x[F],A=z.imageThumbnail;if(z.type=="IMAGE"&&(z.image==null||z.image.dataBlob==null)&&A&&A.dataBlob)z.image=A;
if(!z.visible||z.type=="IMAGE"&&z.image.dataBlob==null){x.splice(F,1);F--}}return x};jL.uc=function(x,z,A){if(x.So.Ot){z.add.vmsk=x.So.Ot.clone();
z.add.vogk=JSON.parse(JSON.stringify(x.So.i4));z.cm(A)}};jL.iP=function(x,z,A,o,i,L,B,D){var Z=x.fontSize,j=x.lineHeight,a=x.fontName,b=x.textAlignHorizontal,W=x.textTracking,c=x.textCase,Y=x.textDecoration;
if(Z==null)Z=o.i8.FontSize;if(a)am.Lk(o,a.postscript);if(Z!=null)o.i8.FontSize=Math.round(Z);if(Y=="UNDERLINE")o.i8.Underline=!0;
if(W)o.i8.Tracking=Math.round(W*1e3);if(c)o.i8.FontCaps=c=="UPPER"?2:0;if(j&&(j.units!="PERCENT"||j.value!=100)){if(Z==null)Z=15;
var R=j.value;if(j.units=="PERCENT")R=1*Z*R/100;if(j.units=="RAW")R=1*Z*R;o.i8.AutoLeading=!1;o.i8.Leading=Math.round(R)}if(b)o.tl.Justification=["LEFT","RIGHT","CENTER"].indexOf(b);
var $=x.fillPaints,k=x.inheritFillStyleID;if(k){var w=jL.aO(D.uv,k);if(w)$=w.fillPaints}if($&&$[0]){var V=jL.uu(x,$[0],z,A,L,B,D);
if(V[0]=="SoCo"){var h=f.Q.Pw(V[1].Clr.v);o.i8.FillColor={Type:1,Values:[1,h.w/255,h.a/255,h.s/255]};
jL.Go(V,i)}}};jL.uu=function(x,z,A,o,i,L,B){var D=jL,Z,j,a=x.size;if(z){var b=z.type,W=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(b);
if(b=="SOLID"){Z="SoCo";var c=z.color;j=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);j.Clr=D.cK(c)}else if(W!=-1){var Y=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),R=Y.Grad.v;
R.Intr.v=0;Y.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][W];var $=[],k=z.stops;for(var F=0;F<k.length;F++){var w=k[F],V=w.color;
$.push([w.position,[V.r,V.g,V.b],V.a])}f.Q.uW($,R);var h=D.t6(z.transform);h.Qs();var l=h.clone();if(a)l.scale(a.x,a.y);
l.concat(A);var M=new iL(0,.5),q=new iL(1,.5);M=l.nx(M);q=l.nx(q);if(!0){M.x=q.x+.5*(M.x-q.x);M.y=q.y+.5*(M.y-q.y)}f.Q.e2(M,q,o,Y);
if(W==3){if(l.xc*l.y9-l.s*l.Pm<0)Y.Rvrs.v=!Y.Rvrs.v}Z="GdFl";j=Y}else if(b=="IMAGE"){var Y=JSON.parse(gN.NK[gN.order.indexOf("patternFill")]),t=z.image.dataBlob,p=B.aap[t];
if(p==null){var E=D.MK(i,t);p=B.aap[t]={};p.id=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f";p.zH=[new Uint8Array(E.data),E.xH];
p.name="someImage";L.si(p)}var _=["FILL","FIT","STRETCH","TILE"].indexOf(z.imageScaleMode),h=D.t6(z.transform);
h.Qs();var S=_==3?z.scale:1;ct.a47(p,Y,a.x,a.y,_,A,h,S);Z="PtFl";j=Y}else throw b;if(j)j.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(z.opacity*100)}}}else{Z="None";
j={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:0,a:0,s:0})}}}return[Z,j]};jL.MK=function(x,z){var A=x[z];
if(A.rslt)return A.rslt;var o=A.bytes.buffer,i=iF.cd(o),L=iF.Lg(i);try{A.rslt=L.i0(o)[0]}catch(kc){A.rslt={data:f.C(4),xH:new av(0,0,1,1)}}return A.rslt};
jL.HC=function(x,z,A,o){var i=x.type,L=x.size,B=x.cornerRadius,b;if(B==null)B=0;var D=f.i4.vJ(),Z=L.x,j=L.y,a=[B,B,B,B],W=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var F=0;F<4;F++)if(x[W[F]]!=null)a[F]=x[W[F]];if(i=="RECTANGLE"||i=="ROUNDED_RECTANGLE"||i=="FRAME"){b=f.J.Ja.Rect(0,0,Z,j,a)}else if(i=="ELLIPSE"){var c=x.arcData,Y=c?c.startingAngle:0,R=c?c.endingAngle:2*Math.PI,$=c?c.innerRadius:0;
if(Y==0&&R>1.999*Math.PI)b=f.J.Ja.sq(0,0,Z,j,0);else b=f.J.Ja.abA(Z/2,j/2,j/2,Y,R);if($!=0&&$!=1){var k=g.tZ.cj(b).slice(3);
k.reverse();for(var F=0;F<k.length;F++){var w=k[F],V=w.re;w.re=w.zy;w.zy=V}var h=new cb;h.translate(-Z/2,-j/2);
h.scale($,$);h.translate(Z/2,j/2);f.J.ox(k,h);b=b.concat(k);b[2].length*=2}}else if(i=="LINE"){b=f.J.Ja.Rect(0,0,Z,j,0);
b.pop();b.pop();b[2].length=2}else if(i=="STAR"){b=f.J.Ja.Cm(Z/2,j/2,Z/2,2*Math.PI*(1/4),5,0,x.starInnerScale)}else if(i=="REGULAR_POLYGON"){b=f.J.Ja.LB(.5,.5,.5,Math.PI/2,x.count,0);
var l=new cb;l.scale(Z,j);f.J.ox(b,l)}else if(i=="BOOLEAN_OPERATION"){b=[{type:6},{type:8,all:0}];var M=x.children,q=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(x.booleanOperation);
if(q==-1)throw x;if(M==null)M=[];for(var F=0;F<M.length;F++){var t=M[F],p=new g.tZ,E=[],_=jL.HC(t,z,p,E);
if(p._==null)continue;f.J.ox(p._,jL.t6(t.transform));b=b.concat(p._.slice(2));for(var S=0;S<E.length;
S++)o.push(E[S])}for(var F=3;F<b.length;F++)if(b[F].qh!=null)b[F].qh=q;D=null}else if(i=="VECTOR"){var y,v,C=3;
if(!0){var r=x.vectorData;if(r==null)return;y=r.normalizedSize;v=r.vectorNetworkBlob}var K=z[v].bytes,s=new Uint32Array(K.buffer),P=new Float32Array(K.buffer),d=s[0],X=s[1],U=s[2],n=[],e=[],J=[],H=C+d*3,u=H+X*7;
for(var F=0;F<d;F++){var bc=C+F*3,jK=new iL(P[bc+1],P[bc+2]);n.push(jK)}for(var F=0;F<X;F++){var N=H+F*7;
e.push([s[N+0],s[N+1],P[N+2],P[N+3],s[N+4],P[N+5],P[N+6]])}for(var F=0;F<U;F++){var he=s[u+1],gJ=J[F]=[];
u+=2;for(var S=0;S<he;S++){var kg=s[u++],cJ=gJ[S]=[];for(var it=0;it<kg;it++)cJ[it]=s[u+it];u+=kg}}if(u!=s.length)throw"e";
if(U==0){var by=-1;for(var F=0;F<X;F++){if(by==-1){}else{var cz=-1;for(var S=F;S<X;S++)if(e[S][4]==by)cz=S;
for(var S=F;S<X;S++)if(e[S][1]==by)cz=S;if(cz!=-1){var fG=0,V=e[cz];e[cz]=e[F];e[F]=V;if(V[1]!=by){fG=V[1];
V[1]=V[4];V[4]=fG;fG=V[2];V[2]=V[5];V[5]=fG;fG=V[3];V[3]=V[6];V[6]=fG}}}by=e[F][4]}J.push([[]]);for(var F=0;
F<X;F++)J[0][0].push(F)}var ju=[],gW=[];for(var iI=0;iI<J.length;iI++){for(var ht=0;ht<J[iI].length;
ht++){var et=J[iI][ht],be=0;if(et.length>1){var c9=e[et[0]],aJ=e[et[1]];be=c9[4]==aJ[1]?1:0}for(var F=0;
F<et.length;F++){var b6=e[et[F]],ef=1,jV=4;if(be==0){ef=4;jV=1}var hu=n[b6[ef]],eG=n[b6[jV]];if(F==0){gW.push("M");
ju.push(hu.x,hu.y)}gW.push("C");ju.push(hu.x+b6[ef+1],hu.y+b6[ef+2],eG.x+b6[jV+1],eG.y+b6[jV+2],eG.x,eG.y)}}}b=f.p.fq({v:ju,F:gW},!1);
if(B!=0){var a=[],k8=b[2].length;for(var F=0;F<k8;F++)a.push(B);if(f.J.Ab(b))f.J.FZ(b,2,a)}var jD=new cb;
jD.scale(y.x==0?1:L.x/y.x,y.y==0?1:L.y/y.y);f.J.ox(b,jD)}A._=b;if(D)o.push(D)};jL.aO=function(x,z){return x[z.sessionID+","+z.localID]};
jL.arZ=function(x,z){return x.sessionID==z.sessionID&&x.localID==z.localID};jL.aek=function(x){var z={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[x];
if(z==null)throw x;return z};jL.cK=function(x){return{t:"Objc",v:f.Q.Vv({w:x.r*255,a:x.g*255,s:x.b*255})}};
jL.t6=function(x){var z=[x.m00,x.m10,x.m01,x.m11,x.m02,x.m12];for(var F=0;F<6;F++)if(Math.abs(z[F])<1e-20)z[F]=0;
return new cb(z[0],z[1],z[2],z[3],z[4],z[5])};function fe(){}fe.l6=function(){var x=m.dX;function z(c,Y,R,$){var k=$?[]:{};
while(Y<c.length-1&&c[Y]!=125){var w=x(c,Y,3),V=x(c,Y+3,1),h;Y+=4;Y++;if(V=="v"){var l=z(c,Y,R+1,w=="ELM"||w=="TIL");
h=l.h;Y=l.u}else if(V=="i"||V=="f"){var M=Y;while(c[M]!=125)M++;var q=x(c,Y,M-Y);h=V=="i"?parseInt(q,16):parseFloat(q);
Y=M+1}else if(V=="s"){var t=m.FH(c,Y),q="";Y+=2;for(var F=0;F<t;F++)q+=String.fromCharCode(c[Y+2*F+1]);
h=q;Y=Y+2*t+1}else if(V=="b"){h=c[Y]==49;Y=Y+2}else throw"e";if($)k.push([w,h]);else if(k[w]==null)k[w]=h;
else{if(!(k[w]instanceof Array))k[w]=[k[w]];k[w].push(h)}}Y++;return{h:k,u:Y}}function A(c,Y){var R=o(c).slice(1),c=Y.Clr.v;
c.Rd.v=R[0]*255;c.Grn.v=R[1]*255;c.Bl.v=R[2]*255}function o(c){return[(c>>>24&255)/255,(c>>>16&255)/255,(c>>>8&255)/255,(c>>>0&255)/255]}function i(c,Y){var R=Y&4278190080|(Y&255)<<16|(Y>>>8&255)<<8|Y>>>16&255;
new Uint32Array(c.buffer).fill(R)}function L(c,Y){var R=c.TSZ,$=c.WPX,k=c.HPX,w=c.TIL,V=new av(0,0,$,k),h=f.C($*k*4),l=0;
for(var M=0;M<k;M+=R)for(var q=0;q<$;q+=R){var t=new av(q,M,R,R),p,E=w[l];if(E[0]=="TMC"){p=f.C(t.$()*4);
i(p,E[1])}else if(E[0]=="TID"){p=Y[E[1]]}f.mV(p,t,h,V);l++}return[h,V]}function B(c,Y){c=new Uint8Array(c);
var R=8,$,k={},K=0;while(R<c.length){var w=m.l(c,R);R+=4;var V=x(c,R,4);R+=4;if(V=="mkTS"){var h=pako.inflate(c.slice(R,R+w)),l=z(h,0,0);
$=l.h}else if(V=="mkBT"){var M=m.l(c,R+4),q=m.l(c,R+8),h=pako.inflate(c.slice(R+76,R+w));if(q==0)for(var F=0;
F<h.length;F+=4){var t=h[F],p=h[F+1],E=h[F+2],_=h[F+3];h[F+3]=t;h[F+2]=_;h[F+1]=E;h[F]=p}else{var S=f.C(h.length*4);
S.fill(255);f.c3(h,S);h=S}k[M]=h}R+=w+4}var y=$.PDC,v=y?y instanceof Array?y:[y]:[$.MKB],r=new av;for(var F=0;
F<v.length;F++){var s=v[F];r=r.QM(new av(0,K,s.WID,s.HIT));K+=s.HIT+100}Y.m=r.m;Y.n=r.n;Y.buffer=f.C(r.$()*4);
Y.sC(v.length);K=0;for(var P=0;P<v.length;P++){Y.g.push(Y.Qy());var s=v[P],d=s.WID,X=s.HIT,U=s.BGC,n=(s.LYL?s:$).LYL.LAY,C=3;
for(var F=0;F<n.length;F++)Z(n[F],Y,null,k,new cb(1,0,0,1,-s.XLC,-s.YLC+K));var e=Y.Ad();Y.g.push(e);
var J=new av(0,K,d,X);K+=X+100;e.T4(J);if(U>>>24!=0){var H=f.Q.Vv({w:U>>>16&255,a:U>>>8&255,s:U>>>0&255});
e.add.artb.Clr={t:"Objc",v:H};C=4}e.add.artb.artboardBackgroundType.v=C;e.rk(s.PGN?s.PGN:"Page "+(P+1));
e.add.lsct=hF.$Z;e.Cz="pass";e.Fu=24}}function D(c,Y,R){var $=c[Y];return $ instanceof Array?$[R]:$}function Z(c,Y,R,$,k){var w=Y.Ad();
if(c.VIS!=null)w.uO(c.VIS);if(c.VIF!=null)w.uO(c.VIF.VIS);if(c.OPA!=null)w.opacity=Math.round(255*c.OPA/1e3);
w.Cz=c.CLL||R=="GRP"?"pass":"norm";if(c.BLD!=null){var V=c.BLD,h={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[V+""];
if(h==null)console.log(c.OBN,V);else w.Cz=h;if(V==30)w.opacity>>>=1}if(c.CLL){w.rk(c.LNM);Y.g.push(Y.Qy());
var l=c.CLL.CEL;if(l.length==null)l=[l];for(var M=l.length-1;M>=0;M--){var q=l[M].ELM;for(var F=q.length-1;
F>=0;F--)Z(q[F][1],Y,q[F][0],$,k)}w.add.lsct=c.DIS?hF.X7:hF.$Z;w.Fu|=24}else if(R=="GRP"){var t=w.add.lmfx=a(c.EFL),p;
Y.g.push(Y.Qy());var q=c.ELM;if(c.MNA){p=q[0][1];q=q.slice(1)}w.rk("Group: "+q.length+" objects");for(var F=q.length-1;
F>=0;F--)Z(q[F][1],Y,q[F][0],$,k);if(p){if(c.MRX){var E=L(p,$),_=w.B=new g.$R;_.rect=E[1].clone();_.rect.x=p.XLC;
_.rect.y=p.YLC+k._s;_.channel=f.C(_.rect.$());f.XN(E[0],_.channel,0);f.Qs(_.channel)}else{j(w,p,k);w.cm(Y)}}w.add.lsct=hF.$Z;
w.Fu|=24}else if(R=="IMG"){w.rk(c.OBN?c.OBN:"Bitmap");var E=L(c,$);w.rect=E[1].clone();w.rect.x=c.XLC;
w.rect.y=c.YLC+k._s;w.buffer=E[0]}else if(R=="TXT"){var S=c.TFS,y=S.TRN instanceof Array?S.TRN.length:1,s="",P="Arial",d=20,X=0;
w.add.lnsr="rend";w.add.TySh=am.P9(0,0);w.add.TySh.t0=new av(0,0,100,100);var v=new cb(1,0,0,1,c.LFT,c.TOP);
if(c.MTX){var r=c.MTX,_=new cb(r.M00,r.M01,r.M10,r.M11,r.M20,r.M21);v.concat(_)}v.concat(k);w.add.TySh.D=v;
var K=w.add.TySh.gP;for(var F=0;F<y;F++){var U=D(S,"TRN",F);if(U==null)continue;U=U.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
am.tW(K,s.length,U);var n=am.En(K,0,1),e=D(S,"FON",F);if(e)P=e;am.Lk(n,P);var J=D(S,"PTS",F);if(J!=null)d=J;
n.i8.FontSize=Math.round(d);var C=D(S,"FCL",F);if(C!=null)X=C;n.i8.FillColor={Type:1,Values:o(X)};am.zz(K,s.length,s.length+U.length,n);
s+=U}w.rk(s.slice(0,255));var H=c.RIT-c.LFT,u=c.BOT-c.TOP;if(c.IMG){Z(c.IMG,Y,"IMG",$,k);var bc=Y.g.pop();
w.buffer=bc.buffer;w.rect=bc.rect.clone()}am.cn(K,1);am.Lf(K,[0,0,H,u])}else if(R=="PTH"){w.rk(c.OBN?c.OBN:"Path");
w.Fu|=16;var jK=!1;j(w,c,k);var N=w.add.vmsk,he=w.add.vstk,gJ=f.J.BH(N._),kg=c.PAT,cJ=kg.BPL,it=kg.FPL,by=kg.TXF;
if(it&&it.FEF)N.Jc+=it.FEF/2.4;if(cJ){var cz=cJ.CAT;he.strokeEnabled.v=!0;he.strokeStyleLineWidth.v.val=cJ.BDI;
he.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gN.J9.kq[c.BRP];A(kg.BCL,he.strokeStyleContent.v);
if(cz!="bc_Basic"&&cz!="bc_Pencil")jK=!0}if(it==null){he.fillEnabled.v=!1;w.add.SoCo=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);
A(0,w.add.SoCo)}else if(it.CAT=="fc_Solid"){w.add.SoCo=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);A(c.PAT.FCL,w.add.SoCo)}else if(it.CAT=="fc_Linear"||it.CAT=="fc_Circular"||it.CAT=="fc_Elliptical"){var fG=it.CAT=="fc_Linear",ju=w.add.GdFl=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),gW=ju.Grad.v,iI=[],ht=it.FGL,et,be=[];
if(ht.FGY){var c9=ht.FGY,et=c9.FG0.FGI,be=c9.FG1.FGI}else et=ht.FGV.FGI;for(var F=0;F<et.length;F++){var aJ=et[F],b6=o(aJ.FGC),ef=1;
if(be.length==et.length)ef=o(be[F].FGC)[0];iI.push([aJ.FGP,b6.slice(1),ef])}ju.Type.v.GrdT=fG?"Lnr":"Rdl";
f.Q.uW(iI,gW);gW.Intr.v=0;var jV=c.PRI?c.PRI:c,hu=new iL(jV.PSX,jV.PSY),eG=new iL(jV.PEX,jV.PEY);if(it.CAT=="fc_Elliptical"&&jV.PFX!=null){var k8=new iL(jV.PFX,jV.PFY),eE=iL.Or(hu,eG),jD=iL.Or(hu,k8);
if(jD<eE){var a_=eE;eE=jD;jD=a_}eG=new iL(hu.x+(eE+jD)/2,hu.y);if(eE/jD<.5)jK=!0}if(fG){hu.x=(hu.x+eG.x)/2;
hu.y=(hu.y+eG.y)/2}f.Q.e2(hu,eG,gJ,ju)}else console.log(it.CAT);var t=w.add.lmfx=a(c.EFL,N);if(it&&it.FTB!=0&&by){var E=L(by.MSK,$),cH={};
cH.id=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f";cH.name="someImage";cH.zH=E;Y.si(cH);var ic=E[0];for(var F=0;
F<ic.length;F+=4){ic[F+3]=255-ic[F];ic[F]=ic[F+1]=ic[F+2]=255}var ju=JSON.parse(gN.NK[gN.order.indexOf("patternFill")]);
ju.Opct.v.val=Math.round(it.FTB/10);ju.Algn.v=!0;ju.Ptrn.v.Idnt.v=cH.id;t.patternFillMulti.v.unshift({t:"Objc",v:ju})}if(jK&&c.IMG){Z(c.IMG,Y,"IMG",$,k);
var aj=Y.g[Y.g.length-1];aj.opacity=w.opacity;return}w.cm(Y)}else if(R=="URL")return;else{console.log("unknown layer type",R,c);
w.rk("Layer")}Y.g.push(w)}function j(c,Y,R){if(Y.PBL==null)return;var $=c.add.vmsk=new g.tZ,k=c.add.vstk=JSON.parse(JSON.stringify(gN.J9.default)),w=Y.PBL.PBP;
if(!(w instanceof Array))w=[w];for(var V=0;V<w.length;V++){var h=w[V].PBT;if(h==null)continue;if(!(h instanceof Array))h=[h];
var l=w[V].ISC?0:3;$._.push({type:l,length:h.length,qh:0,zB:2,wN:0,CG:0});for(var F=0;F<h.length;F++){var M=h[F],q=M.XLC,t=M.YLC,p=[q,t,q,t,q,t],E="XPC YPC XLC YLC XSC YSC".split(" ");
for(var _=0;_<6;_++){var S=E[_],y=M[S];if(y!=null)p[_]=y}$._.push({type:l+2,H:new iL(q,t),re:new iL(p[0],p[1]),zy:new iL(p[4],p[5])})}}f.J.ox($._,R);
c.Az()}function a(c,Y){var R=JSON.parse(gN.default);for(var F=0;F<gN.order.length;F++)R[gN.OX[F]]={t:"VlLs",v:[]};
if(c==null)return R;var $=c.EPS;if(!($ instanceof Array))$=[$];for(var F=0;F<$.length;F++){var k=$[F].DCE,w={};
for(var V=0;V<k.length;V++)w[k[V].DCK]=k[V].DCV;if(w.EffectIsVisible=="false")continue;var h=w.mkbFile_WriteOnly_TemporaryEffectUiName;
if(h=="Gaussian Blur..."&&Y){Y.Jc+=parseFloat(w.gaussian_blur_radius);continue}var l=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(h);
if(l==-1){continue}var M=["DrSh","ebbl","IrGl","OrGl"][l],q=gN.OX[gN.order.indexOf(M)],t=JSON.parse(gN.NK[gN.order.indexOf(M)]);
R[q].v.unshift({t:"Objc",v:t});if(M=="DrSh"){t.uglg.v=!1;b(w,"ShadowDistance",t,"Dstn");b(w,"ShadowBlur",t,"blur");
b(w,"ShadowAngle",t,"lagl",180);t.Opct.v.val=100;W(w,"ShadowColor",t,"Clr")}if(M=="IrGl"){t.Md.v.BlnM="Nrml";
var p=w.MaskSoftness,E=w.GlowWidth;if(p&&E){p=parseInt(p);E=parseInt(E);t.blur.v.val=E+p;t.Ckmt.v.val=Math.round(100*E/(E+p))}b(w,"BevelContrast",t,"Opct");
W(w,"OuterBevelColor",t,"Clr")}if(M=="OrGl"){t.Md.v.BlnM="Nrml";var p=w.MaskSoftness,E=w.GlowWidth;if(p&&E){p=parseInt(p);
E=parseInt(E);t.blur.v.val=E+p}b(w,"BevelContrast",t,"Opct");W(w,"OuterBevelColor",t,"Clr")}if(M=="ebbl"){t.uglg.v=!1;
b(w,"BevelWidth",t,"blur");b(w,"AngleSoftness",t,"Sftn");b(w,"BevelContrast",t,"srgR");b(w,"LightAngle",t,"lagl")}}return R}function b(c,Y,R,$,k){var w=c[Y];
if(k==null)k=0;if(w)R[$].v.val=parseInt(w)+k}function W(c,Y,R,$){var k=c[Y];if(k){k=k.slice(1);if(k.length==6)k=k+"ff";
if(k.length!=8)throw"e";var w=o(parseInt(k,16)),V=R[$].v;V.Rd.v=w[0]*255;V.Grn.v=w[1]*255;V.Bl.v=w[2]*255;
R.Opct.v.val=Math.round(R.Opct.v.val/100*w[3]*100)}}return B}();function ft(){}ft.l6=function(){function x(p,E){var _=!1,S=Date.now(),y=w(p,_),kg=1;
if(_)console.log("part found",Date.now()-S);S=Date.now();var v=k(y),r=v.Layer,K=v.Header;if(_)console.log(v);
var s=r[0];s=v.Layer[0];if(_)console.log("document parsed",Date.now()-S);S=Date.now();v.Setup.Gradient=$(v.Setup.Gradient,y);
if(_)console.log("grads loaded",Date.now()-S);S=Date.now();v.Setup.Pattern=R(v.Setup.Pattern,y);if(_)console.log("patts loaded",Date.now()-S);
S=Date.now();v.Setup.DocumentData=Y(v.Setup.DocumentData,y).pop();if(_)console.log("docdata loaded",Date.now()-S);
S=Date.now();v.Setup.SVGFilter=Y(v.Setup.SVGFilter,y);if(_)console.log("svgfilter loaded",Date.now()-S);
S=Date.now();var P=K.Cropmarks,d=K.BoundingBox.split(" ").map(parseFloat),X=K.ArtSize?K.ArtSize.split(" ").map(parseFloat):[d[2]-d[0],d[3]-d[1]];
E.m=Math.round(X[0]);E.n=Math.round(X[1]);var U=[1,0,0,1,-d[0]+(E.m-(d[2]-d[0]))/2,-d[1]+(E.n-(d[3]-d[1]))/2];
U[3]=-1;U[5]=E.n-U[5];if(P){P=P.split(" ").map(parseFloat);E.m=Math.round(P[2]-P[0]);E.n=Math.round(P[3]-P[1]);
U=[1,0,0,-1,-P[0],E.n+P[1]]}var n=v.Setup.DocumentData;if(n&&n[0]&&n[0].ArtboardArray){var e=n[0].ArtboardArray;
if(e.length!=1)console.log(e.length,"artboards");var J=new av;for(var F=0;F<e.length;F++){var C=e[F],H=C.PositionPoint1,u=C.PositionPoint2,bc=H[0],jK=Math.min(H[1],u[1]),N=u[0],he=Math.max(H[1],u[1]);
J=J.QM(new av(bc,jK,N-bc,he-jK))}E.m=Math.round(J.m);E.n=Math.round(J.n);U[4]=-J.x;U[5]=J.y+E.n}var gJ=Math.max(E.m,E.n);
while(gJ*kg<1200)kg++;while(gJ*kg>6e3)kg*=.5;E.m=Math.round(E.m*kg);E.n=Math.round(E.n*kg);E.um=Math.round(72*kg);
E.buffer=f.C(E.m*E.n*4);for(var F=0;F<6;F++)U[F]*=kg;for(var cJ=0;cJ<r.length;cJ++){var it=r[cJ];it.Raster=z(it);
var by=W(y,it);A(E,by,U,v,it,y)}if(_)console.log("layers created",Date.now()-S);S=Date.now()}function z(p){var E=p.Layer,_=p.Raster;
if(_==null)_=[];if(E){for(var F=0;F<E.length;F++){var S=E[F],y=S.Raster=z(S);_=_.concat(y)}_.sort(function(v,r){return v._begin-r._begin})}return _}function A(p,E,_,S,y,v){var r="",K=0,s="",P=!1,d=UDOC.G,X=UDOC.getState(),U="norm",n=1,e="SoCo",H=!1,u=0,jK=null,N=!1,he=0,gJ=null,kg,cJ,it=0,by=0,cz=0,gW=0,iI=!1;
X.ctm=_;var J=[0,0,0],C=[0,0,0],bc=[],fG=[],ju=[];for(var ht=0;ht<E.length;ht++){var et=E[ht],b6=1e9;
if(et[0]=="%"){if(et=="%_/ArtDictionary :"&&he==0)jK=[et.slice(2)];else if(jK!=null){if(et=="%_"&&he==0){var be=l(jK)[0],c9=be.AI10_ArtUID;
if(c9&&!c9.startsWith("XMLID"))p.g[p.g.length-1].rk(q(c9));jK=null}else{jK.push(et.slice(N?1:2));if(et=="%_X=")he++;
if(et=="%_X+")he--;if(et=="%_/Binary : /ASCII85Decode ,")N=!0;if(N&&et.endsWith("~>"))N=!1}}else if(gJ){kg+=(kg==""?"":" ")+et.slice(2);
if(kg.endsWith("X#")){gJ.push(kg.slice(0,kg.length-3));kg=""}}continue}else if(et=="/Mesh X!"){gJ=[];
kg="";continue}else if(et=="/End X!"){o(gJ,X,p);gJ=null;continue}var aJ="Xa XR m l c f U u *U w J j M d".split(" "),ef=-1;
for(var F=0;F<aJ.length;F++){var jV=et.indexOf(" "+aJ[F]+" ");if(jV!=-1&&jV<b6){b6=jV;ef=F}}if(ef!=-1){P=!0;
var hu=b6+1+aJ[ef].length;E[ht]=et.slice(0,hu);var eG=E[ht+1];if(eG==null||eG[0]=="%"||ef>9)E.splice(ht+1,0,et.slice(hu));
else E[ht+1]=(et.slice(hu)+" "+eG).replace(/\s\s+/g," ");ht--;continue}et=et.trim();var k8=et.split(" "),eE=k8[k8.length-1],jD=eE.toLowerCase(),a_=k8.map(parseFloat);
if(eE=="m")d.moveTo(X,a_[0],a_[1]);else if(eE=="L"||eE=="l")d.lineTo(X,a_[0],a_[1]);else if(eE=="V"||eE=="v"||eE=="Y"||eE=="y")d.quadCurveTo(X,a_[0],a_[1],a_[2],a_[3]);
else if(eE=="C"||eE=="c")d.curveTo(X,a_[0],a_[1],a_[2],a_[3],a_[4],a_[5]);else if(eE=="H"||eE=="h"){if(eE==jD)d.closePath(X);
bc.push(JSON.parse(JSON.stringify(X.pth)))}else if(eE=="Xy"){U=["norm","mul ","scrn","over","sLit"][a_[0]];
n=a_[1];if(U==null){U="norm";console.log("unknown blend mode",a_[0])}}else if(eE=="Xd"){var cH=p.g[p.g.length-1];
cH.opacity=Math.round(255*n);cH.Cz=cH.Q0()&&U=="norm"?"pass":U}else if(eE=="AE")it=a_[0];else if(eE=="Ae")by=a_[0];
else if(eE=="Xw")cz=a_[0];else if(eE=="*"){var ic=X.pth.crds,aj=X.ctm,jV=ic[0]==ic[2]?0:1;p.sf.push([jV,ic[jV]]);
d.newPath(X)}else if(eE=="XN")cJ=et.split(" ")[0];else if(eE=="XI"){var ay=y.Raster,dS,hC;if(ay==null||ay.length==0){console.log("no Raster");
continue}if(et!="XI"){continue}else{var eq=ay[K++].Data,ck=eq._begin,eL=eq._end;while(v[ck]!=88)ck++;
ck+=3;dS=v.slice(ck,eL);hC=E[ht-2].split(" ").map(parseFloat)}var gj=hC.slice(8),bv=gj[2],dK=gj[3],cC=bv*dK,iv=f.C(cC*4);
iv.fill(255);var dJ=gj[7],km=gj[8],aM=gj[6],fq=Math.ceil(bv*dJ*aM/8);if(dJ==1){if(aM==8)for(var F=0;
F<cC;F++)for(var dV=0;dV<3;dV++)iv[4*F+dV]=dS[F];else if(aM==1)for(var im=0;im<dK;im++)for(var hj=0;
hj<bv;hj++)for(var dV=0;dV<3;dV++)iv[4*(im*bv+hj)+dV]=255*(dS[im*fq+(hj>>>3)]>>>7-(hj&7)&1);else throw aM}else if(dJ==3)for(var F=0;
F<cC;F++)for(var dV=0;dV<3;dV++)iv[4*F+dV]=dS[3*F+dV];else if(dJ==4||dJ==5)for(var F=0;F<cC;F++){var d8=j([dS[dJ*F+0]/255,dS[dJ*F+1]/255,dS[dJ*F+2]/255,dS[dJ*F+3]/255]);
iv[4*F+0]=d8[0]*255;iv[4*F+1]=d8[1]*255;iv[4*F+2]=d8[2]*255}else if(dJ==7)for(var F=0;F<cC;F++){iv[4*F+0]=dS[dJ*F+0];
iv[4*F+1]=dS[dJ*F+1];iv[4*F+2]=dS[dJ*F+2]}else console.log("unknown number of channels",dJ);if(km==1){var cI=dK*fq;
for(var F=0;F<cC;F++)iv[4*F+3]=dS[cI+F]}var gD=f.EK(iv,bv,dK)?"JPG":"PNG";if(bv*dK<700*700)gD="PNG";
var iw=iF.Lg(gD).ys([[iv.buffer]],bv,dK),e3=p.za(new Uint8Array(iw),"<Image>",0,0);p.g.push(e3);e3.Cz=U;
e3.opacity=Math.round(255*n);e3.uO(cz==0);var _=new cb;_.scale(1,-1);_.concat(Z(hC.slice(1)));_.concat(Z(X.ctm));
var c5=e3.rect.clone();c5.x=c5.y=0;var k8=f.p.Mm(c5).v;f.p.D(k8,_,k8);e3.add.SoLd.Trnf=Q.S.rL(k8);e3.add.SoLd.nonAffineTransform=Q.S.rL(k8);
e3._6(p,!1)}else if(eE=="Ln"){r=L(et)}else if(eE=="u"||eE=="q"||eE=="Lb"){fG.push(by==1);ju.push((eE=="Lb"?1-a_[0]:cz)==0);
if(H)continue;p.g.push(p.Qy())}else if(eE=="U"||eE=="Q"||eE=="LB"){if(fG.length==0||ju.length==0)throw ht;
var eT=fG.pop(),iO=ju.pop();if(eE=="LB")eT=it==1;if(H)continue;var e3=p.Ad();e3.rk((eE=="U"?"<Group>":"<Clip Group>")+s);
if(eE=="LB")e3.rk(r);if(eE=="Q"&&bc.length!=0){var hW=bc.pop(),j5=UDOC.G.isBox(hW,[0,0,p.m,p.n]);if(!j5)a(e3,hW,p)}e3.add.lsct=eT?hF.X7:hF.$Z;
e3.Cz="pass";e3.Fu=24;e3.uO(iO);p.g.push(e3);if(iI){if(p.g[p.g.length-3].getName()=="</Layer group>"){p.g.pop();
p.g.splice(p.g.length-2,1)}iI=!1}}else if(eE=="Bb"||eE=="Bh"||eE=="BB"){}else if(eE=="Bg"){var aL=S.Setup.Gradient,gk=aL[L(et)];
if(gk==null){for(var eA in aL){gk=aL[eA];break}}e="GdFl";J=i(gk.VW,gk.a66)}else if(eE=="Bm"||eE=="Xm"){var gF=J.Type.v.GrdT;
if(gF=="Lnr"&&eE!="Xm"||gF=="Rdl"&&eE!="Bm")continue;var bB=new iL(0,0),ix=new iL(1,0),ab=new cb;ab.concat(Z(a_));
ab.concat(Z(X.ctm));bB=ab.nx(bB);ix=ab.nx(ix);var ez=f.p.Jr(X.pth.crds);if(ez.WT())ez=f.p.Jr([bB.x,bB.y,ix.x,ix.y]);
if(gF=="Lnr"){bB.x=(bB.x+ix.x)/2;bB.y=(bB.y+ix.y)/2}f.Q.e2(bB,ix,ez,J)}else if(eE=="p"){var cM=L(et),ib=S.Setup.Pattern[cM];
if(ib.raw==null){var ez=ib.MV,bv=Math.round(ez[2]-ez[0]),dK=Math.round(ez[3]-ez[1]),be=new ew;be.m=bv;
be.n=dK;be.buffer=f.C(bv*dK*4);A(be,ib.t9,[1,0,0,-1,-ib.MV[0],dK+ib.MV[1]],S,y,v);ib.raw=new Uint8Array(iF.Lg("PSD").ys(be))}var hU=et.slice(et.indexOf(")")+2),hi=hU.slice(0,hU.indexOf("[")-1).split(" ").map(parseFloat),go=hU.slice(hU.indexOf("[")+1,hU.indexOf("]")).split(" ").map(parseFloat);
e="patt";J=[cM,hi,go]}else if(eE=="J"||eE=="j"||eE=="w"||eE=="M"||eE=="d"){for(var F=1;F<k8.length;F++){var bg=k8[F],hB=a_[F-1];
if(bg=="w")X.lwidth=hB;if(bg=="j")X.ljoin=hB;if(bg=="J")X.lcap=hB;if(bg=="d"){var d5=et.slice(et.indexOf("[")+1,et.indexOf("]")).trim();
if(d5.length!=0){var fb=d5.split(" ").map(parseFloat);X.dash=fb}}}}else if(jD=="xa"||jD=="xx"){var js=a_[4]==null?a_.slice(0,3):[a_[4],a_[5],a_[6]];
if(jD=="xx"&&a_[a_.length-2]==2)js=j(a_);e="SoCo";if(eE=="Xa"||eE=="Xx")J=js;else C=js}else if(jD=="xk"){var js,hJ=a_[a_.length-2],cx=a_[a_.length-3];
if(hJ==0)js=j(a_);else if(hJ==1){js=[a_[4],a_[5],a_[6]];for(var F=0;F<3;F++)js[F]=cx*1+(1-cx)*js[F]}else throw et;
e="SoCo";if(eE=="Xk")J=js;else C=js}else if(jD=="k"||jD=="x"){if(jD=="x"){a_.pop();var i7=1-a_.pop();
for(var F=0;F<4;F++)a_[F]*=i7}var js=j(a_);e="SoCo";if(eE==jD)J=js;else C=js}else if(jD=="g"){var js=[a_[0],a_[0],a_[0]];
e="SoCo";if(eE==jD)J=js;else C=js}else if(jD=="n"){if(!H)d.newPath(X)}else if(eE=="*u"){H=!0;u=0}else if(eE=="*U"||jD=="s"||jD=="f"||jD=="b"){if(eE!="*U"&&H){if(jD=="f"||jD=="b")u|=1;
if(jD=="s"||jD=="b")u|=2;continue}if(eE==jD)d.closePath(X);if(eE=="*U"){H=!1}var e3;if(e=="patt"){var ib=S.Setup.Pattern[J[0]];
e3=p.za(ib.raw,"<Pattern>",0,0);var c5=e3.rect.clone();c5.x=c5.y=0;var k8=f.p.Mm(c5).v,go=Z(J[2]);go.ZT=go._s=0;
f.p.D(k8,go,k8);e3.add.SoLd.Trnf=Q.S.rL(k8);e3.add.SoLd.nonAffineTransform=Q.S.rL(k8);e3._6(p,!1)}else{e3=p.Ad();
e3.Fu|=16;var bw=e3.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));bw.strokeEnabled.v=bw.fillEnabled.v=!1;
if(e=="SoCo"){e3.add.SoCo=JSON.parse(gN.NK[gN.order.indexOf("SoFi")]);var iN=e3.add.SoCo.Clr.v;B(iN,J)}if(e=="GdFl")e3.add.GdFl=J;
if(jD=="f"||jD=="b"||eE=="*U"&&u&1)bw.fillEnabled.v=!0;if(jD=="s"||jD=="b"||eE=="*U"&&u&2)jn.Yb(bw,X,1,jn.kc(C))}e3.rk("<"+(eE=="*U"?"Compound ":"")+"Path>"+s);
e3.Cz=U;e3.opacity=Math.round(255*n);e3.uO(cz==0);a(e3,X.pth,p);p.g.push(e3);d.newPath(X)}else if(eE==","&&k8[1]=="/FreeUndo"){gW=a_[0]}else if(eE==","&&k8[1]=="/StoryIndex"){var gc=S.Setup.TextDocument,eM=null;
if(!(gc instanceof Array))gc=S.Setup.TextDocument=c(gc,v);var cO=gc[0],cE=gc[2];if(cO._DocumentResources)cO=gc[0]=c3.amB(cO);
else c3.ans(cO);var e3=p.Ad();e3.add.lnsr="rend";e3.add.TySh=am.P9(0,0);var b5=a_[0];if(gW==1){for(var F=1;
F<60;F++){var eG=E[ht+F];if(eG.endsWith("/StoryIndex ,")){b5=parseFloat(eG.slice(2,eG.indexOf(" ")));
iI=!0;break}}gW=0}var e4=dB.a8D(cO),k6=e3.add.TySh.gP=e4[b5];if(k6==null){console.log("text not found");
iI=!1;continue}e3.rk(am.FP(k6).slice(0,50));e3.Cz=U;e3.opacity=Math.round(255*n);e3.uO(cz==0);var i7=cO._1._1[b5]._1._0[0]._0;
i7=parseInt(i7.slice(1));var fk=cO._0._8._0,cD=fk[i7]._0;if(cD._0)eM=D(cD._0);else if(cD._1)eM=D(cD._1._0);
else eM=D(cD._2._2).slice(3);if(eM.length!=2){var ez=f.p.Jr(eM);eM=[ez.x,ez.y];if(ez.$()!=0){am.cn(k6,1);
am.Lf(k6,[0,0,Math.round(ez.m),Math.round(ez.n)])}}var fy=new cb,aA=new cb(1,0,0,1,eM[0],eM[1]),cX=new cb(1,0,0,1,-cE[0],-cE[1]),bo=Z(X.ctm),jH=new cb;
if(cD._2&&cD._2._2){var _=D(cD._2._2);jH=new cb(_[0],_[1],_[2],_[3],_[4],_[5])}fy.concat(aA);fy.concat(jH);
fy.concat(cX);fy.scale(1,-1);fy.concat(bo);e3.add.TySh.D=fy;p.g.push(e3);p.t$=!0}else if(P&&a_.length>3){var fl=!1;
for(var F=0;F<a_.length;F++)if(isNaN(a_[F]))fl=!0;if(!fl)E[ht+1]=(et+" "+E[ht+1]).replace(/\s\s+/g," ")}}}function o(p,E,_){var S=UDOC.G,y=[],v=[],r="/DeviceGray",K=1,s=[],P=1;
for(var d=0;d<p.length;d++){var X=p[d];if(X.endsWith(" /CS")){var U=X.indexOf("/NChannel"),n=X.indexOf("/Process");
if(X.startsWith("/DeviceRGB")){r="/DeviceRGB";K=3}else if(X.startsWith("/DeviceGray")){r="/DeviceGray";
K=1}else if(X.startsWith("/DeviceCMYK")){r="/DeviceCMYK";K=4;s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(U!=-1){r="/DeviceCMYK";
K=parseInt(X.slice(U-2,U-1));var e=1;for(var F=0;F<K;F++){e=X.indexOf("[",e);s[K-1-F]=X.slice(e+1,e+8).split(" ").map(parseFloat);
e++}}else if(n){r="/DeviceGray";K=1}else throw X}else if(X[0]=="["){var J=X.indexOf("]"),C=X.slice(1,J).split(" ").map(parseFloat),H=X.slice(J+2),u,bc,jK,N,he,gJ;
if(H=="/Size"||H=="/P"||H=="/R")continue;if(H=="/S"||H=="/A"){u=C[0];bc=C[1];jK=C[2];N=C[3];he=C[4];
gJ=C[5]}else if(H=="/N"){var kg=K+(P==1?0:1),cJ;u=C[kg+0];bc=C[kg+1];jK=C[kg+2];N=C[kg+3];he=C[kg+5];
gJ=C[kg+6];if(r=="/DeviceRGB")cJ=C.slice(0,3);else if(r=="/DeviceGray")cJ=[C[0],C[0],C[0]];else if(r=="/DeviceCMYK"){var it=[0,0,0,0];
for(var F=0;F<K;F++){var by=C[F],cz=s[F];it[0]+=by*cz[0];it[1]+=by*cz[1];it[2]+=by*cz[2];it[3]+=by*cz[3]}cJ=j(it)}else throw cJ;
cJ.push(C[K]);v.push([cJ,u,bc])}else throw H;y.push([H,he,gJ,u,bc,jK,N])}else if(X=="/E"){var fG=y.slice(0),ju=0;
for(var F=0;F<y.length;F++){var gW=y[F][0];if(gW=="/N"){ju++;continue}var iI=F,ht=F+1;while(y[ht][0]!="/N"&&ht<y.length)ht++;
if(ju==0||ju==3){for(var et=0;et<ht-iI;et++)fG[iI+et]=y[ht-1-et]}else for(var et=iI;et<ht;et++){var be=fG[et],c9=be[1];
be[1]=be[5];be[5]=c9;c9=be[2];be[2]=be[6];be[6]=c9}F=ht-1}y=[];for(var F=0;F<fG.length;F++){var be=fG[F];
y.push(be[1],be[2],be[3],be[4],be[5],be[6])}var aJ=y.length;S.moveTo(E,y[2],y[3]);for(var F=0;F<aJ;F+=6){var jK=y[(F+4)%aJ],N=y[(F+5)%aJ],he=y[(F+6)%aJ],gJ=y[(F+7)%aJ],u=y[(F+8)%aJ],bc=y[(F+9)%aJ];
S.curveTo(E,jK,N,he,gJ,u,bc)}S.closePath(E);y=[]}else if(X.endsWith("/Version"))P=parseFloat(X[0])}var b6=_.Ad();
b6.Fu|=16;b6.rk("<Mesh>");var ef=b6.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));ef.strokeEnabled.v=!1;
if(v.length>=2){var jV=0,hu=0,eG=0;for(var F=0;F<v.length;F++)for(var et=F+1;et<v.length;et++){var k8=v[F][0],eE=v[et][0],jD=k8[0]-eE[0],a_=k8[1]-eE[1],cH=k8[2]-eE[2],ic=Math.sqrt(jD*jD+a_*a_+cH*cH);
if(ic>eG){eG=ic;jV=F;hu=et}}var aj=v[jV],ay=v[hu],dS=b6.add.GdFl=i(0,[[0,aj[0]],[1,ay[0]]]),hC=Z(E.ctm),eq=hC.nx(new iL(aj[1],aj[2])),ck=hC.nx(new iL(ay[1],ay[2])),eL=f.p.Jr(E.pth.crds);
eq.x=(eq.x+ck.x)/2;eq.y=(eq.y+ck.y)/2;f.Q.e2(eq,ck,eL,dS)}a(b6,E.pth,_);_.g.push(b6);S.newPath(E)}function i(p,E){var _=JSON.parse(gN.NK[gN.order.indexOf("GrFl")]),S=_.Grad.v;
S.Intr.v=0;_.Type.v.GrdT=["Lnr","Rdl"][p];f.Q.uW(E,S);return _}function L(p){return p.slice(p.indexOf("(")+1,p.indexOf(")"))}function B(p,E){p.Rd.v=E[0]*255;
p.Grn.v=E[1]*255;p.Bl.v=E[2]*255}function D(p){var E=[];for(var F=0;F<p.length;F++)E[F]=parseFloat(p[F].slice(1));
return E}function Z(p){return new cb(p[0],p[1],p[2],p[3],p[4],p[5])}function j(p){return UDOC.C.cmykToRgb(p)}function a(p,E,_){p.add.vmsk=new g.tZ;
if(E.crds.length!=0)p.add.vmsk._=b(E);p.Az();p.cm(_)}function b(p){var E={v:p.crds,F:p.cmds},_=f.p.fq(E,!1);
return _}function W(p,E){var _=[E._begin],S=E._end-E._begin,y=S,v=E.Raster,d=0;if(v){for(var F=0;F<v.length;
F++){var r=v[F].Data;if(r==null)break;var K=r._begin+32,s=r._end;if(K>s)K=s;_.push(K,s);y-=s-K}}_.push(E._end);
var P=new Uint8Array(y);for(var F=0;F<_.length;F+=2){var K=_[F],X=_[F+1]-K;P.set(new Uint8Array(p.buffer,K,X),d);
d+=X}return m._X(P).split(/\r\n|\r|\n/)}function c(p,E){if(p==null)return[];var _=W(E,p),S="",y="",v=0,r;
for(var F=2;F<_.length;F++){var K=_[F];if(K[0]=="%"){if(v==0)S+=K.slice(1);else y+=K.slice(1)}else if(K==";")v++;
else if(K.endsWith("/RulerOrigin ,"))r=K.split(" ").slice(0,2).map(parseFloat)}var s=[S,y],P=[];for(var F=0;
F<2;F++){var d=s[F],X=new Uint8Array(d.length);m.ax(X,0,d);var U=FromPS.F.ASCII85Decode({buff:X,off:0}),n=gw.l6(U);
P.push(n)}P.push(r);return P}function Y(p,E){if(p==null)return[];var _=W(E,p);_=_.slice(1);for(var F=0;
F<_.length;F++){var S=_[F];if(S[0]=="%")_[F]=S.slice(S[1]=="_"?2:1)}var y=l(_);return y}function R(p,E){var _={};
if(p==null)return _;for(var F=0;F<p.length;F++){var S=W(E,p[F]),y=S[1],v=L(y),r=y.slice(y.indexOf(")")+2).split(" ").map(parseFloat),K=[];
for(var s=2;s<S.length;s++)K.push(S[s].slice(2));_[v]={MV:r,t9:K}}return _}function $(p,E){var _={},S,y;
if(p==null)return _;var v=[];for(var F=0;F<p.length;F++){var r=W(E,p[F]);for(var K=0;K<r.length;K++){var s=r[K];
if(s.endsWith("%_Bs")){var P=s.slice(0,s.length-4);if(!P.endsWith(" "))P+=" ";s=P+"%_BS"}if(s[0]=="("){var d=s.split(")");
S=d[0].slice(1);var X=d[1].split(" ");y=parseInt(X[1])}else if(s.endsWith("%_BS")){var d=s.split(" "),J,C=1;
d.pop();d=d.map(parseFloat);var U=d.pop(),n=d.pop(),e=d.pop();if(e==0)J=[d[0],d[0],d[0]];else if(e==2||e==4)J=[d[4],d[5],d[6]];
else if(e==1||e==3)J=j(d);else if(e==6){if(d.length==3)J=[d[0],d[0],d[0]];else J=j(d);C=d.pop()}else{throw e}v.push([U/100,J,C,n/100])}else if(s=="BD"){for(var H=0;
H<v.length-1;H++)v[H][3]=v[H+1][3];v.sort(function(u,bc){return u[0]-bc[0]});_[S]={VW:y,a66:v};v=[]}}}return _}function k(p){var E="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),_=Date.now(),S=0,y=[],v={Header:{}},r=[v],K=p.length;
while(S<K){var s=S;while(s!=K&&p[s]!=13&&p[s]!=10){s++}if(p[S]==37&&p[S+1]==95&&p[S+2]==37)S+=2;if(p[S]==37&&(p[S+1]==37||p[S+1]==65)){var P=m.dX(p,S,s-S);
if(P=="%%EOF")break;if(P=="%%EndComments"||P=="%EndComments"||P=="%AI5_Begin_NonPrinting"||P=="%AI5_End_NonPrinting--"||P.startsWith("%AI17_Begin_Content_if_version_gt")||P=="%AI17_End_Versioned_Content"){}else{var d=P.indexOf("Begin"),X=Math.max(P.indexOf("_End"),P.indexOf("%End"));
if(d!=-1){var U=P.slice(d+5).split(":")[0],n={_begin:S,_end:S},e=r[r.length-1];if(E.indexOf(U)!=-1){if(e[U]==null)e[U]=[];
e[U].push(n)}else{if(e[U]!=null){console.log(r);throw P}e[U]=n}r.push(n);if(P.startsWith("%%BeginData")){s=m.rz(p,"%%EndData",S)}else if(P=="%AI9_BeginDocumentData")s=m.rz(p,"%AI9_EndDocumentData",s);
else if(P=="%AI11_BeginTextDocument")s=m.rz(p,"%AI11_EndTextDocument",s)}else if(X!=-1){r.pop()._end=S}else if(r.length==1&&(P.startsWith("%AI")||P.startsWith("%%")&&P.indexOf(" ")!=-1)){var J=1;
if(P.startsWith("%AI"))while(P[J]!="_"&&J<P.length)J++;var C=P.indexOf(":");if(C==-1)C=P.indexOf(" ");
var H=P.slice(J+1,C),u=P.slice(C+1).trim();v.Header[H]=u}}}S=s;if(p[S]==13)S++;if(p[S]==10)S++}return v}function w(p,E){var _=Date.now(),S=new Uint8Array(p),y,v=S[2]==68;
if(E)console.log(!v?"EPS":"PDF");if(v){var r=m.rz(S,"/AIMetaData "),N=!1,he=!1;while(S[r]!=60)r--;r--;
var K=m.rz(S,">>",r),s=m.dX(S,r+2,K-r-2).split("/"),P=[];for(var F=0;F<s.length;F++){var d=s[F],X=d.startsWith("AIPrivateData"),U=d.startsWith("AIPDFPrivateData");
if(!X&&!U)continue;var n=d.trim().split(/\s+/),e=parseInt(n[1]),J=parseInt(n[0].slice(X?13:16));P.push([J,e])}if(E)console.log("--- map made",Date.now()-_);
_=Date.now();var C=FromPDF.indexOfXref(S),H=[],u=FromPDF.readXrefTrail(S,C,H),bc={buff:S,off:0},jK=new Array(P.length),gJ=r;
for(var F=0;F<P.length;F++){var J=P[F][0],e=P[F][1],kg=FromPDF.getIndirect(e,0,bc,H),cJ=kg.buff,it=kg["/Filter"],by=0;
if(it!=null&&typeof it=="string")it=[it];var cz=m.dX(cJ,by,by+20);if(cz=="%AI12_CompressedData"){by+=20;
N=!0}else if(cz=="%AI24_ZStandard_Data"){by+=20;he=!0}cJ=new Uint8Array(cJ.buffer,cJ.byteOffset+by,cJ.length-by);
if(it)for(var fG=0;fG<it.length;fG++){var ju=it[fG];if(ju=="/FlateDecode")cJ=pako.inflate(cJ);else if(ju=="/ASCIIHexDecode")cJ=FromPS.F.HexDecode({buff:cJ,off:0});
else if(ju=="/ASCII85Decode")cJ=FromPS.F.ASCII85Decode({buff:cJ,off:0});else throw ju}jK[J-1]=cJ}if(E)console.log("--- arrays found",Date.now()-_);
_=Date.now();var gW=m.dX(jK[0],0,13);if(gW=="%%BoundingBox"||gW=="%AI7_Thumbnai")jK=jK.slice(1);if(gW=="%AI24_ZStanda"){jK[0]=jK[0].slice(20);
he=!0}if(m.dX(jK[0],0,13)=="%AI12_Compres"){jK[0]=jK[0].slice(20);N=!0}y=V(jK);if(E)console.log("--- concatenated",Date.now()-_);
_=Date.now();if(N)y=UZIP.inflate(y);if(he)y=iF.wv.Ib(y);if(E)console.log("--- inflated",Date.now()-_);
_=Date.now()}else{var iI=m._X(S);if(iI.indexOf("%AI5_BeginLayer")!=-1){y=S}else{var ht=iI.split(/[\n\r]+/),et=[],be=!1;
for(var c9=0;c9<ht.length;c9++){var aJ=ht[c9].trim();if(aJ=="%AI9_PrivateDataEnd"){be=!1;break}else if(aJ=="%AI9_DataStream"||aJ=="%AI24_DataStream"){be=!0}else if(be)et.push(aJ.slice(1))}var b6=m.zi(et.join("")),ef=FromPS.F.ASCII85Decode({buff:b6,off:0});
if(ef[0]==120&&ef[1]==156)y=UZIP.inflate(ef);else y=iF.wv.Ib(ef)}}return y}function V(p){var E=0,S=0;
for(var F=0;F<p.length;F++)E+=p[F].length;var _=new Uint8Array(E);for(var F=0;F<p.length;F++){var y=p[F];
_.set(y,S);S+=y.length}return _}function h(p,E){for(var F=0;F<E.length;F++)if(p.startsWith(E[F]))return!0;
return!1}function l(p){var E=[],_=[],top=-1,S,y=null,v=null,r=0;for(var K=0;K<p.length;K++){var s=p[K];
if(S){s=S+s;S=null}var P="\t".repeat(E.length);if(y!=null){y.push(s);if(s.endsWith("~>")){var d=m.zi(y.join("")),X=FromPS.F.ASCII85Decode({off:0,buff:d});
E.push(X);_.push(!1);top++;y=null}}else if(v!=null){if(s=="X+"){if(r==1){E.push(v);_.push(!1);top++;
v=null}else r--}else if(s=="X=")r++;else v.push(s)}else if(s=="/Binary : /ASCII85Decode ,"){y=[]}else if(s=="X="){v=[];
r++}else if(s=="/SVGFilter :"||s=="; /Def ;")continue;else if(s.startsWith("/")&&s[1].toUpperCase()!=s[1].toLowerCase()){if(s.startsWith("/XMLUID")){var U=M(s);
if(_[top])throw"e";E[top][U[4]]=U[2]}if(s.startsWith("/GObjRef")){var U=M(s);if(!_[top])throw"e";E[top].push(U[2])}else{var n=s.startsWith("/Array")||s.startsWith("/Document");
E.push(n?[]:{});_.push(n);top++}}else if(s.endsWith(",")){var e,J,U=M(s);U.pop();if(U[0]==";"||U.length==1){J=E.pop();
_.pop();top--;e=_[top]?null:U.pop()}else{e=_[top]?null:U.pop();var C=U.pop(),H=U[0];if(C=="/Int")J=parseInt(H);
else if(C=="/Real")J=parseFloat(H);else if(C=="/Bool")J=H=="1";else if(C=="/String"||C=="/UnicodeString")J=U.join("");
else if(C=="/RealMatrix"||C=="/RealPoint"||C=="/RealPointRelToROrigin")J=U.map(parseFloat);else throw C}if(_[top])E[top].push(J);
else E[top][e]=J}else if(s==";"){}else if(s==""){}else{if(s.indexOf("/RealPoint")!=-1){}else if(s.startsWith("(")&&s.endsWith(")")){}else if(s.endsWith("/RealMatrix")){}else throw s;
S=S?S+s:s}}return E}function M(p){var E=0,_=[];while(E<p.length){var S=p[E],y=S.charCodeAt(0);if(S==" ")E++;
else if(S==","||S==";"||S==":"){_.push(S);E++}else if(S=="("){var v=E+1;while(!(p[v]==")"&&p[v-1]!="\\"))v++;
var r=p.slice(E+1,v);_.push(r);E=v+1}else if(S=="/"||S=="-"||48<=y&&y<=57){var v=E;while(p[v]!=" ")v++;
_.push(p.slice(E,v));E=v}else throw S}return _}function q(p){var E="";for(var F=0;F<p.length;F++){if(p[F]=="_"&&p[F+1]=="x"){var f5=parseInt(p.slice(F+2,F+4),16);
E+=String.fromCharCode(f5);F+=4}else if(p[F]=="_")E+=" ";else E+=p[F]}return E}function t(p){var E="xmlnode-nodename",_="xmlnode-nodevalue",S="xmlnode-attributes",y="xmlnode-children",v=p[E],r=p[S],K=p[y],s={_nam:v};
for(var P in r){var d=r[P];if(Object.keys(d[S]).length!=0||d[y].length!=0)throw"e";if(d[E]!=P)throw"e";
s[P]=d[_]}if(K.length==0)return s;var X=s.cln=[];for(var F=0;F<K.length;F++)X.push(t(K[F]));return s}return x}();
function gh(){}gh.l6=function(){function x(K,s,P,d,X){if(K==0)return"";if(s==0)s=d||X?16:32;var U=i+K,n="";
n+="<pre style=\"background-color:#"+P+";\">\n";while(i<U){var e=Math.min(s,U-i);n+=A(i,e);if(d)n+="    ".repeat(s-e)+"   "+z(i,e);
if(X){n+="    ".repeat(s-e)+"   ";for(var F=0;F<e;F+=4){var J=m.GQ(o,i+F),C=J+"";while(C.length<16)C+=" ";
n+=C}}n+="\n";i+=e}n+="</pre>\n";return n}function z(K,s){var P="";for(var F=0;F<s;F++){var d=o[K+F],f5=d.toString(16);
if(f5.length==1)f5="0"+f5;f5=" "+f5;if(32<=d&&d<=126)f5="  "+String.fromCharCode(d);if(d==10)f5=" \\n";
P+=f5+" "}return P}function A(K,s){var P="";for(var F=0;F<s;F++){var f5=o[K+F]+"";while(f5.length<3)f5=" "+f5;
P+=f5+" "}return P}var o,i,L,B,D,l,M,q;function Z(K){return m.SV(o,K)}function j(K){return m.FJ(o,K)}function a(K){return m.GQ(o,K)}function b(K){return m.Hf(o,K)}function W(K,s){var P=[];
for(var F=0;F<s;F++)P.push(a(K+F*4));return P}function c(K,s){var P=[];for(var F=0;F<s;F++)P.push(Z(K+F*8));
return P}function Y(K){return a((K+1)*4096-12)}function R(K){return a((K+1)*4096-8)}function $(K,i,s,P){if(B[K]==null)B[K]=[];
B[K].push([P,new Uint8Array(o.buffer,i,s)])}function k(K,s,P,d){var X=L[K],i=X*4096;i=i+a(i+4096-24-12-s*4);
var U=j(i),n=o[i+2],e=o[i+3];if(s!=n)throw n;if(e==0)$(d,i+4,P,9);else{var J=j(i+6),C=a(i+8);$(d,i+12,U-12,9);
k(C,J,P-(U-12),d)}}function w(){var K=a(352),s=a(K*4096+128),P=a(936),d=a(P*4096+128);L=W(d*4096+128,4096-128-12>>>2);
B={};D={};for(var X=0;X<L.length;X++){var U=L[X],n=Y(U);if(n!=6)continue;var i=U*4096,e=a(i);i+=4;for(var F=0;
F<e;F++){var J=a(i);i+=4;var C=a(i);i+=4;var H=a(i);i+=4;var u=a(i);i+=4;if(J==0)D[C]=H;else{var bc=H&65535,jK=H>>>16;
if(jK==0)$(C,u*4096,bc,8);else k(u,jK,bc,C)}}}var l={};for(var N in B){var he=B[N],gJ=he.length;if(gJ==1)l[N]=he[0][1];
else{var kg=0,i=0;for(var F=0;F<gJ;F++)kg+=he[F][1].length;var cJ=l[N]=new Uint8Array(kg);for(var F=0;
F<gJ;F++){cJ.set(he[F][1],i);i+=he[F][1].length}}}return l}function V(K,s){if(s.indexOf(K)==-1)s.push(K)}function h(i,K){var s=K?a(i):j(i),P="";
if(s==0)return"";i+=K?4:2;while(P.length<s){var d=o[i++],X=o[i++],U=0;d+=(X&15)*256;X=X&240;for(var F=0;
F<d;F++){if(X==64)U=o[i++];else if(X==128)U=o[i++]|o[i++]<<8;else throw X;P+=String.fromCharCode(U)}}return P}function t(i,K){var s=W(i,K);
for(var F=0;F<K;F++){if(s[F]>M)throw"e";s[F]=p(s[F])}return s}function p(K){if(q.indexOf(K)!=-1)return"---"+K;
if(K==0)return null;if(l[K]==null)return null;if(!(l[K]instanceof Uint8Array))return l[K];var s=o,i=0;
o=l[K];q.push(K);var P=D[K].toString(16),d=l[K]={_type:r[P]?r[P]:"typ-"+P,_eid:K};while(i+8<o.length){var X=a(i);
i+=4;var U=X.toString(16),n=a(i);i+=4;var e=i+n;if(i+n>o.length){d._bin=o;break}var J=S[U];if(J){var C=J[0],H=null,u=J[1];
if(C=="")C=u+"-"+U;if(y[u]&&n!=y[u]){console.log(U,J);console.log(o.slice(i,i+n));throw"e"}if(u=="mat")H=c(i,6);
else if(u=="rect")H=c(i,4);else if(u=="pointArr"){var bc=j(i);H=W(i+2,bc*2)}else if(u=="uint")H=a(i);
else if(u=="pntr"||u=="ptr6"){H=p(a(i))}else if(u=="bool2"){if(j(i)!=0&&j(i)!=1)throw j(i);H=j(i)==1}else if(u=="bool4"){if(a(i)!=0&&a(i)!=1)throw a(i);
H=a(i)==1}else if(u=="color"){if(n!=38&&n!=30)throw n;var jK=a(i),N=j(i+4);H=[jK];for(var F=0;F<N;F++)H.push(Z(i+6+F*8))}else if(u=="path"){H=[];
var he=a(i);i+=4;for(var F=0;F<he;F++){var gJ=[];H.push(gJ);var kg=a(i);i+=4;for(var cJ=0;cJ<kg;cJ++){var jK=a(i);
i+=4;if(jK<2){gJ.push([jK,Z(i),Z(i+8),Z(i+16),Z(i+24),Z(i+32),Z(i+40)]);i+=48}else if(jK==2){gJ.push([jK,Z(i),Z(i+8)]);
i+=16}else throw jK}}}else if(u=="ptrArray"||u=="ptrArrayX"){var it=n>>2;if(u=="ptrArray"){it=a(i);i+=4;
if(n!=4+it*4)throw n}H=t(i,it)}else if(u=="cldrn"){var by=a(i),cz=a(i+4),it=a(i+8);H=t(i+12,it);if(n!=12+it*4){console.log(U,sa);
throw"e"}if(by==0)throw by}else if(u=="aprnc"){var it=a(i);i+=4;H={};for(var F=0;F<it;F++){var fG=a(i),ju=j(i+4),gW=j(i+6);
i+=8;var iI=v[fG.toString(16)];if(iI==null)iI="prm-"+fG.toString(16);else iI=_(iI);H[iI]=[];for(var cJ=0;
cJ<gW;cJ++){var ht=a(i),et=j(i+4),be=null;i+=6;if(ht==28264)be=Z(i);else if(ht==28263||ht==279)be=a(i);
else if(ht==28261)be=j(i)==1;else if(ht==28265)be=[Z(i),Z(i+4)];else if(ht==28259||ht==28260||ht==23094)be=o.slice(i,i+et);
else throw ht;H[iI].push(be);i+=et}}}else if(u=="lopts"){H={a85:j(i+0)==1,show:j(i+2)==1,ajO:j(i+4)==1,k0:a(i+10),name:h(i+21)}}else if(u=="origin"){i++;
var bc=a(i);i+=4;var c9=m.dX(o,i,bc);i+=bc;i+=16;var aJ=h(i,!0);i+=4+2+aJ.length;i+=19;var b6=h(i);i+=2+2+b6.length;
H={file:c9,id:aJ,a5:b6}}else if(u=="string")H=h(i+3);else if(u=="textData"){var ef=i+n,jV=a(i);i+=4;
var hu=a(i);i+=4;var N=j(i);i+=2;H=[];for(var F=0;F<N;F++){var eG=a(i);i+=4;if(jV==514)H.push(h(i,!0));
else H.push(o.slice(i,i+eG));i+=eG}if(ef-i!=12)throw ef-i;H={VW:jV,ajO:hu,ao1:H}}else if(u=="storyProps"){if(j(i+4)!=1)throw"e";
var N=j(i+10),k8=j(i+14+N*4);H={TB:j(i),w8:p(a(i+6)),pd:t(i+14,N),a0q:W(i+14+N*4+4,4)};if(k8!=0)H.a5L=p(k8)}else throw u;
if(d[C]!=null){console.log(K,U,i,d[C],J,H);throw"e"}d[C]=H}else d["prop-"+U]=o.slice(i,i+n);i=e}o=s;
q.pop();return d}function E(K){o=new Uint8Array(K);l=w();var s=l[2147483649];s=m._X(s,4,s.length-4);
delete l[2147483649];M=0;for(var P in l)M=Math.max(M,parseInt(P));q=[];var d={};for(var P in l)d[P]=l[P];
for(var P in l)p(parseInt(P));return l}function _(K){K=K.split(" ").join("");return K[0].toLowerCase()+K.slice(1)}var S={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"118":["","bool4"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"119":["bitmap","uint"],"117":["","uint"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"261":["","pointArr"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"210":["","ptrArrayX"],"222":["stories","ptrArrayX"],"223":["props","storyProps"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},y={mat:48,rect:32,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2},v={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length"},r={e01:"Document","302":"Layer","401":"Group","501":"Spread","227":"Column","201":"Story","263":"TextFrame","6201":"Path",ca18:"StoryText"};
return E}();function cT(){}cT.l6=function(){var x=0;function z(B,D){var Z=gh.l6(B);x=0;var j=Z[1];console.log(j);
var a=j.spreads,b=j.layers,W=[],c=new av;for(var Y=0;Y<a.length;Y++){var R=a[Y],$=R.children,k=o(R),w=$[0].children[0],V=o(w);
V.concat(k);var h=A(w);W.push(h);h.offset(V.ZT,V._s);h=f.p.u8(h);c=c.QM(h)}D.m=c.m;D.n=c.n;D.buffer=new Uint8Array(4*D.m*D.n);
D.t$=!0;D.sC(a.length);for(var Y=0;Y<a.length;Y++){var l=D.Ad(),M=b[Math.min(Y+1,b.length-1)].lopts;
l.Fu=24;l.add.lsct=hF.X7;l.rk(M.name);l.uO(M.show);if(M.a85)l.add.lspf=1<<31;var q=W[Y].clone();q.offset(-c.x,-c.y);
q=f.p.u8(q);l.T4(q);l.Cz="pass";D.g.push(D.Qy());var R=a[Y],$=R.children,k=o(R);k.translate(-c.x,-c.y);
var t=$[2].children;for(var F=0;F<t.length;F++)L(t[F],D,k,Z);D.g.push(l)}}function A(B){var D=B.rect;
return new av(D[0],D[1],D[2],D[3])}function o(B){var D=B.transform;return new cb(D[0],D[1],D[2],D[3],D[4],D[5])}function i(B){var D=B.color,Z=D[0],j;
if(Z==5)j=D.slice(1);else if(Z==6)j=UDOC.C.cmykToRgb(D.slice(1));else{console.log(D);throw Z}return j}function L(B,D,Z,j){Z=Z.clone();
Z.concat(o(B));var a=B.path,b=B.appearance,W=B.visible,c=B.children,Y=D.Ad();if(W!=null)Y.uO(W);if(c&&c.length==1&&c[0].bitmapFill){Y.rk("bitmap");
var R=c[0],$=A(R),k=o(R);k.concat(Z);var w=R.bitmapFill.bitmap;w=j[w]._bin;var V=D.za(w,"img.jpg",0,0);
V.Fu=Y.Fu;Y=V;var h=[0,0,$.m,0,$.m,$.n,0,$.n];f.p.D(h,k,h);Y.add.SoLd.Trnf=Q.S.rL(h);Y.add.SoLd.nonAffineTransform=Q.S.rL(h);
Y._6(D,!1)}else if(B["bool2-1623"]){var l=c[0],$=A(l),k=o(l);k.concat(Z);var M=l.children[0],q=m.GQ(M["prop-220"],0);
q=j[q];var t=m.GQ(q["prop-2ab"],4);t=j[t];if(t==null)return;var p=t.props;console.log(M);console.log(t);
var E=p.pd[1]["ptrArrayX-210"][0];if(E==null||E.textData==null)return;E=E.textData.ao1.join("").replace(/\r/g,"\n");
Y.rk("text");Y.add.lnsr="rend";Y.add.TySh=am.P9(0,0);Y.add.TySh.t0=$;Y.add.TySh.D=k;var _=Y.add.TySh.gP;
am.tW(_,0,E.slice(0,E.length-1));am.cn(_,1);am.Lf(_,[0,0,Math.round($.m),Math.round($.n)])}else if(a){Y.rk("path");
Y.Fu|=16;var S=Y.add.vmsk=new g.tZ,y=Y.add.vstk=JSON.parse(JSON.stringify(gN.J9.default)),v=Y.add.vogk=[],r=[0,0,0];
if(b){var K=b.strokeSwatch,s=b.fillSwatch,P=b.strokeWeight;y.strokeEnabled.v=K!=null;y.fillEnabled.v=s!=null;
if(K){y.strokeStyleLineWidth.v.val=P?P[0]:1;r=i(j[K[0]]);y.strokeStyleContent.v.Clr.v=f.Q.Vv({w:r[0]*255,a:r[1]*255,s:r[2]*255})}if(s){r=i(j[s[0]])}}Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:r[0]*255,a:r[1]*255,s:r[2]*255})}};
var d=B["prop-6204"]?B["prop-6204"][2]!=9:!0;for(var X=0;X<a.length;X++){var U=a[X],n=U.length,e=d?0:3;
S._.push({type:e,length:n,qh:0,zB:2,wN:0,CG:0});for(var F=0;F<n;F++){var J=U[F],e=J[0],C=new iL(J[1],J[2]),H=new iL(J[3],J[4]),u=new iL(J[5],J[6]);
if(e==0)S._.push({type:e+2,re:C,H:H,zy:u});else if(e==2)S._.push({type:e+2,re:C,H:C,zy:C});else throw e}v.push(f.i4.vJ())}f.J.ox(S._,Z);
Y.cm(D)}else if(c){Y.rk("group");Y.Fu=24;Y.add.lsct=hF.X7;D.g.push(D.Qy());for(var F=0;F<c.length;F++)L(c[F],D,Z,j)}if(B.name)Y.rk(B.name);
D.g.push(Y)}return z}();var Q={};Q.Z=function(x){return window.devicePixelRatio||1};Q.VS=function(x,z){return(z.a5r=="touch"?12:4)*Q.Z()/x.t.X};
Q.He=function(x,z,A){this.name=x;this.id=z;this.i7=null;if(A!=null)this.jI=A};Q.He.prototype.A1=function(x,z,A,o,i){};
Q.He.prototype.enable=function(x,z,A,o,i,L){var B=new fZ(G.E.Y,!0);B.data={d:G.U.sy,OU:"default"};z.c(B)};
Q.He.prototype.disable=function(x,z,A,o,i){};Q.He.prototype.L5=function(x,z,A,o,i){return!1};Q.He.prototype.Xv=function(x,z,A,o,i){};
Q.He.prototype.wK=function(x,z,A,o,i){};Q.He.prototype.Dg=function(x,z,A,o,i){};Q.He.prototype.V4=function(x,z,A,o,i,L){};
Q.He.prototype.zD=function(x,z,A,o,i){};Q.He.prototype.R0=function(x,z,A,o){};Q.He.prototype.Nu=function(x,z,A,o){};
Q.He.prototype.IR=function(x,z){};Q.He.prototype.a_=function(x,z){};Q.He.prototype.Wr=function(x,z,A,o,i){};
Q.He.prototype.wB=function(x,z){};Q.He.prototype.WU=function(x,z){return!1};Q.He.prototype.V5=function(x,z){return!1};
Q.He.prototype.wn=function(){return!1};Q.He.prototype.na=function(x,z){return!0};Q.He.prototype.wX=function(){return null};
Q.He.prototype.Qc=function(x,z,A){};Q.He.prototype.OA=function(){return!1};Q.He.prototype.g$=function(x,z,A,o){};
Q.He.prototype.track=function(x){var z=new fZ(G.E.rm,!0);z.data=x;x._g=!0;this.i7.c(z)};Q.He.uz=function(x,z,A,o){var i=10*Q.Z()*(x.a5r=="touch"?2:1),L=x.x+i,B=x.y-i,D=f.Fi.v1(z.m,A.um,o,A.m,!0),Z=f.Fi.v1(z.n,A.um,o,A.n,!0);
while(D.length<Z.length)D=" "+D;while(D.length>Z.length)Z=" "+Z;Q.He.Kw(L,B,[kc.get([12,41]).charAt(0)+": "+D,kc.get([12,42]).charAt(0)+": "+Z],A)};
Q.He.Kw=function(x,z,A,o){function i(j,R,$,k,w,V){j.beginPath();j.moveTo(R,$+V);j.arcTo(R,$+w,R+V,$+w,V);
j.arcTo(R+k,$+w,R+k,$+w-V,V);j.arcTo(R+k,$,R+k-V,$,V);j.arcTo(R,$,R,$+V,V)}var L=Q.Z(),B=Math.round,D=B(11*L),Z=Q.He.r5,a=0;
if(Z==null)Z=Q.He.r5=document.createElement("canvas");var j=Z.getContext("2d");j.font=D+"px monospace";
for(var F=0;F<A.length;F++)a=Math.max(a,j.measureText(A[F]).width);var b=B(a+12*L),W=B((A.length*14+5)*L),c=new av(x,z-W,b,W);
if(Z.width!=b||Z.height!=W){Z.width=b;Z.height=W}j.clearRect(0,0,b,W);j.fillStyle="rgba(0,0,3,0.8)";
i(j,0,0,b,W,B(4*L));j.fill();j.fillStyle="rgba(255,255,255,1)";for(var F=0;F<A.length;F++)j.fillText(A[F],B(6*L),B((F+1)*13*L));
var Y=[j.getImageData(0,0,b,W).data,c.clone()];if(o)o.G.ey=[Y];return Y};Q.He.r5=null;Q.ah="0";Q.dz="1";
Q.ag6="2";Q.a4h="3";Q.R6="5";Q.aok="6";Q.aqE="7";Q.ll="8";Q.J5="9";Q.e_="10";Q.A3="11";Q.eV="12";Q.Dy="13";
Q.ag="14";Q.Gl="16";Q.mU="18";Q.vi="19";Q.H0="20";Q.kF="21";Q._W="22";Q.s7="23";Q.AN="24";Q.V9="25";
Q.jQ="27";Q.XR="31";Q.arx="32";Q.ajP="34";Q.apC="35";Q.xR="36";Q.dI="37";Q.gG="38";Q.x3="39";Q.iC="40";
Q.WM="41";Q.TW="42";Q.bB="43";Q.alz="44";Q.Mb="47";Q._Q="48";Q.n7="51";Q.US="52";Q.Ck="54";Q.Mf="55";
Q.hI="56";Q.lj="57";Q.fe="58";Q.RF="59";Q.k6="60";Q.WQ="61";Q.Zv="70";Q.fT="100";Q.yz="101";Q.lq="102";
Q.C8="103";Q.qW="120";Q.v6="230";Q.avB="231";Q.xa="232";Q.xu="233";Q.je="234";Q.qI="235";Q.CQ="236";
Q.Al=function(x){var z=Q.Yc,A=null;for(var o in z)if(z[o][1].indexOf(x[1].classID)!=-1)A=o;return A};
Q.Yc={};Q.Yc[Q.s7]=["tools/brush",["PbTl"]];Q.Yc[Q.AN]=["tools/pencil",["PcTl"]];Q.Yc[Q.XR]=["tools/eraser",["ErTl"]];
Q.sg=function(x,z,A){Q.He.call(this,x,z,A);this.vQ={brush:x?bz.K2():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.OQ=null;this.oq=null;this.ps=null;this.ln=null;this._G=null;this.Nv=null;this.p7=null;this.VB=null;
this.wE=null;this.Z9=null;this.lp=null;this.ob=null;this.rl=null;this.Wl=1;this.mk=!1;this.RJ=null;this.caller=null};
Q.sg.prototype=new Q.He;Q.sg.prototype.V5=function(x,z){return x.z0&&z.A(bJ.xb)};Q.sg.prototype.wK=function(x,z,A,o,i){if(o.A(bJ.yU)){this.Nv=new iL(i.x,i.y);
var L=this.vQ.brush.Brsh.v,B=L.Dmtr.v.val,D=L.Hrdn!=null?L.Hrdn.v.val:-1;this.p7=[B,D,!0,JSON.parse(JSON.stringify(this.vQ.brush)),i];
this.k2(A)}};Q.sg.prototype.Zk=function(x,z,A){var o=this.p7,i=x.t.X,L=A.x-o[4].x,B=A.y-o[4].y,D=o[0],Z=o[1],j=Math.abs(L)>Math.abs(B);
if(j&&o[2]){var a=Math.round(2*L/i);D+=a;A.x-=L-.5*a*i}if(!j&&!o[2]&&Z!=-1){var a=Math.round(.25*B);
Z+=a;A.y-=B-4*a}D=Math.max(1,D);Z=o[1]==-1?-1:Math.max(0,Math.min(100,Z));var b=o[3];b.Brsh.v.Dmtr.v.val=D;
if(Z!=-1)b.Brsh.v.Hrdn.v.val=Z;this.p7=[D,Z,j,b,A];var W=kb.Ih(b,z.I9.U0,i),c=W[1];c.x=Math.round(this.Nv.x-c.m/2);
c.y=Math.round(this.Nv.y-c.n/2);x.G.WL=[W];var Y=x.t.Sd(this.Nv.x,this.Nv.y);x.G.RE={b5:[],EI:[Y.x-D/2,Y.y,Y.x+D/2,Y.y]};
if(Z!=-1)x.G.RE.EI.push(Y.x+50/i,Y.y-Z/2,Y.x+50/i,Y.y+Z/2);x.o$=!0};Q.sg.prototype.zD=function(x,z,A,o,i){if(this.id==Q.H0||this.id==Q.kF)return;
if(this.Nv){this.Nv=null;this.WR(JSON.parse(JSON.stringify(this.p7[3])));x.G.WL=[];x.G.RE=null;x.o$=!0;
return}var L=new fZ(G.E.Y,!0);L.data={d:G.U.HU,k:this.id,a7c:"showBrushOpts",rg:new iL(i.Md+4,i.fZ)};
z.c(L)};Q.sg.prototype.WR=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.nF,Hl:cu.jn,Zj:x};this.caller.c(z)};
Q.sg.rJ=function(x,z,A,o,i,L){if(x==null)x="FrgC";if(z==null)z="norm";if(A==null)A=1;if(i==null)i=!1;
var B={classID:"Fl",Usng:{t:"enum",v:{FlCn:x}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(A*100)}},PrsT:{t:"bool",v:i},Md:{t:"enum",v:{BlnM:b_.d$(z)}}};
if(x=="Clr")B.Clr={t:"Objc",v:o};if(x=="contentAware")B.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(x=="Ptrn")B.Ptrn={t:"Objc",v:L};return{zR:"fill",k7:B}};Q.sg.prototype.A1=function(x,z,A,o,i){this.i7=z;
var L=A.CE.length;if(L==0&&!A.Qi())return;var B=L!=0?-1-A.CE[0]:A.f[0],D=A.g[B];if(x.d=="fromAction"){var Z=x.hz,j=Z.k7;
if(j&&j.null&&j.null.v[0]&&j.null.v[0].v.classID=="Path"){var a=A.Dd(),b=a[0],W=a[1],c=b[W.length==0?0:W[0]].add.vmsk;
if(Z.zR=="fill"){var Y=c.dP(),R=i.VJ,$=this.vQ,k=R>>16&255,w=R>>8&255,V=R>>0&255;this.yE(A,D,Y,k,w,V,Math.round($.opacity*255),$.bmode,"Fill Path")}else{for(var h=0;
h<1e3;h++){var l=f.J.MB(c._,h,!0);if(l==-1){this.V4(A,z,i,o,null);break}var M=c._[l],q=c._.slice(l,l+1+M.length),t=f.p.zx(q,!0).v,p=t.slice(0,8);
for(var E=8;E<t.length;E+=6)p.push(t[E-2],t[E-1],t[E],t[E+1],t[E+2],t[E+3],t[E+4],t[E+5]);var _={};_.Points=p;
_.TextOnPathTRange=c.qX.slice(0);var _=ah.nG(_,2),S=_[0];if(h==0)this.Xv(A,z,i,o,A.t.ay(S[0],S[1]));
else this.oq.moveTo(S[0],S[1]);for(var F=2;F<S.length;F+=2){var y=A.t.ay(S[F],S[F+1]);y.z0=!0;this.Dg(A,z,i,o,y,this.vQ.flow)}}}}else if(Z.zR=="fill"){var v=j.PrsT?j.PrsT.v:!1,r=D?D.add.lspf:0;
if(v&&D){D.add.lspf=r==null?1:r|1}var K=(j.Opct?j.Opct.v.val:100)/100,s=j.Md?b_.Sa(j.Md.v.BlnM):"norm",P=j.Usng.v.FlCn;
if(P=="contentAware"){if(A.O==null){alert("Select an area to heal first.");return}if(!A.Qi())return;
this.N4(A);this._Y(A,0);var d=A.O,X=f.C(d.rect.$()*4);f.c8(d.channel,X,3);this.AU(A,"sheal",X,d.rect,d.rect);
this.i(A,d.rect);this.finish(A,d.rect)}else if(P=="Ptrn"){var U=i.UB,n=A.O?A.O.rect.clone():new av(0,0,A.m,A.n),e=f.C(n.$()*4);
ct.su(j,e,n,U,new iL(0,0));this.y$(A,D,A.O,e,"norm",[6,48,0,2])}else{var R;if(P=="FrgC")R=i.VJ;else if(P=="BckC")R=i.GN;
else if(P=="Blck")R=0;else if(P=="Wht")R=16777215;else if(P=="Gry")R=8421504;else if(P=="Clr"){var J=f.Q.Pw(j.Clr.v);
R=J.w<<16|J.a<<8|J.s}var k=R>>16&255,w=R>>8&255,V=R>>0&255;this.yE(A,D,A.O,k,w,V,Math.round(255*K),s,[2,3])}if(v&&D){D.add.lspf=r==null?0:r}}else if(Z.zR=="delete"){var C=B<0?1:D.ZD,d=A.O,jK;
if(d==null)return;var H=B<0?A.lX[-B-1]:C<=0?null:C==1?D.dP():D.zg(A).B,n=C<=0?D.rect:H.rect,u=C<=0?d.rect.tE(n):d.rect.clone();
if(u.WT())return;var bc=u.$();if(C<=0){jK=f.C(bc*4);f.mV(D.buffer,D.rect,jK,u)}else{jK=f.C(bc);H.extend(u);
f.K5(H.channel,H.rect,jK,u)}if(0<=B&&D.QZ(A,d)){if(C<=0){f.OD(jK,0);f.mV(D.sL.MV,D.sL.SW,jK,u)}else{jK.fill(255);
f.K5(D.sL.MV,D.sL.SW,jK,u)}}else{if(C<=0){var N=f.C(jK.length>>2);f.XN(jK,N,3);f.q.NX(f.vJ(d.rect.$()),d.rect,N,u,d.channel,u,1);
f.c8(N,jK,3)}else{var he=f.C(d.rect.$()),k=i.GN>>>16&255,w=i.GN>>8&255,V=i.GN>>0&255;he.fill(Math.round(f.yA(k,w,V)));
f.q.NX(he,d.rect,jK,u,d.channel,u,1)}}this.Pl(A,!0,[2,2],B,C,u,jK)}}if(x.d=="stroke"){var gJ=x.a1F,d=A.O;
if(d==null){d={rect:D.rect.clone(),channel:f.C(D.rect.$())};f.XN(D.buffer,d.channel,3)}var kg=ct.YJ(gJ),cJ=Q.BO.jP(d,Math.ceil(kg[0]),Math.ceil(kg[1])),R=f.Q.Pw(gJ.Clr.v),k=Math.round(R.w),w=Math.round(R.a),V=Math.round(R.s);
this.yE(A,D,cJ,k,w,V,Math.round(255*gJ.Opct.v.val/100),b_.Sa(gJ.Md.v.BlnM),[14,9])}if(x.d=="fillBMP"){this.y$(A,D,A.O,x.H1,x.ul,x._4)}if(x.d=="draw"){var it=x.jw,by=it.rect;
this.N4(A);var cz=A.g[A.f[0]];if(x.alG&&cz&&cz.ZD<=0&&A.CE.length==0){by=Q.J3.a30(it,A);cz.buffer=it.buffer.slice(0);
cz.rect=by.clone()}else{var fG=this.vQ.bmode;this.vQ.bmode="norm";this.AU(A,"draw",it.buffer,by,by.tE(new av(0,0,A.m,A.n)));
this.vQ.bmode=fG}this.i(A,by);A.bg=!0;this.finish(A,by,x._4,x.alG)}};Q.sg.prototype.yE=function(x,z,A,o,i,L,B,D,Z){var j=A==null?new av(0,0,x.m,x.n):A.rect,a=B<<24|L<<16|i<<8|o<<0,b=f.C(j.$()*4);
f.OD(b,a);this.y$(x,z,A,b,D,Z)};Q.sg.prototype.y$=function(x,z,A,o,i,L){var B=x.CE.length!=0?-1-x.CE[0]:x.f[0],D=B<0?1:z.ZD,Z=B<0?x.lX[-1-B]:D<=0?null:D==1?z.dP():z.zg(x).B,j=D<=0?z.rect:Z.rect,a=A==null?new av(0,0,x.m,x.n):A.rect,b=A==null?f.YU(x.m*x.n):A.channel,W=a.$(),c,Y=null;
if(D<=0){c=f.C(W*4);f.mV(z.buffer,z.rect,c,a)}else{c=f.C(W);Z.extend(a);f.K5(Z.channel,Z.rect,c,a)}if(A!=null)f._i(b,o);
if(D>0){Y=f.C(W);f.wJ(o,Y)}if(0<=B&&A&&z.QZ(x,A)){var R=z.sL.EU,$=z.sL.EU.slice(0);if(D<=0)f.Yy(o,$);
else f.Yy(Y,$);var k=new j$([2,3],this);k.data={d:"drawtemp",j:x.f[0],dm:D,abX:R,anP:$};x.U7(k);this.IR(k.data,x)}else{if(D<=0){var w;
if(z.bb(0)){w=f.C(a.$());f.XN(c,w,3)}f.q.lx(i,o,a,c,a,a,1);if(z.bb(0))f.c8(w,c,3)}else f.q.NX(Y,a,c,a,b,a,1);
this.Pl(x,!0,L,B,D,a,c)}};Q.sg.prototype.WU=function(x){if(bJ.E$.indexOf(x)!=-1)return!0;return!1};Q.sg.prototype.R0=function(x,z,A,o){var i=this.vQ.brush,L=o.A(bJ.yU),B=L!=this.mk,D=Q.sg.Bb(i,o);
if(D!=null)this.WR(D);if(!o.A(bJ.RI)&&o.bN()!=-1){var Z=bJ.pr(Math.round(this.vQ.opacity*100),o.bN())/100;
this.cc({opacity:Z},z)}if(this.id==Q.ll&&B&&x!=null){var j=this.vQ.qsmode;if(j==2)j=x.O==null?0:1;else j=2;
this.cc({qsmode:j},z)}this.mk=L;if(B){if(x)this.Wl=x.t.X;this.k2(A,o)}};Q.sg.Bb=function(x,z){var A=x.Brsh.v.Dmtr.v.val,o=x.Brsh.v.Hrdn!=null?x.Brsh.v.Hrdn.v.val:-1,i=A,L=o,B=z.A(bJ.xb);
if(z.A(bJ.w3)){if(B)o=25*Math.floor((o-1)/25);else{if(A<=10)A--;else if(A<=50)A=5*Math.floor((A-1)/5);
else if(A<=100)A=10*Math.floor((A-1)/10);else if(A<=200)A=25*Math.floor((A-1)/25);else if(A<=400)A=50*Math.floor((A-1)/50);
else A=100*Math.floor((A-1)/100)}}if(z.A(bJ.w2)){if(B)o=25*Math.ceil((o+1)/25);else{if(A<10)A++;else if(A<50)A=5*Math.ceil((A+1)/5);
else if(A<100)A=10*Math.ceil((A+1)/10);else if(A<200)A=25*Math.ceil((A+1)/25);else if(A<400)A=50*Math.ceil((A+1)/50);
else A=100*Math.ceil((A+1)/100)}}A=Math.max(1,A);o=Math.max(0,Math.min(100,o));if(L==-1)o=-1;if(A!=i||o!=L){var D=JSON.parse(JSON.stringify(x));
D.Brsh.v.Dmtr.v.val=A;if(L!=-1)D.Brsh.v.Hrdn.v.val=o;return D}return null};Q.sg.prototype.k2=function(x,z,A,o){if(x.I9.list.length==0)return;
var i=this.id,L;if((i==Q.jQ||i==Q.vi||i==Q.s7||i==Q.AN)&&(z!=null&&z.A(bJ.yU)||this.vQ.alt[0]))L="crosshair";
else{var B=this.Wl,D=this.vQ.brush;if((i==Q.jQ||i==Q.vi)&&A&&this.ob&&this.ob.length==this.lp.$()*4){var Z=A.t.Sd(o.x,o.y),j=this.DK(Z),a=this.ob,b=this.lp,W=new av(b.x+j.x,b.y+j.y,b.m,b.n),c=kb.Ih(D,x.I9.U0,B),Y=c[0],R=c[1],$=Math.ceil(R.m/B),k=new av(Math.round(Z.x-$/2),Math.round(Z.y-$/2),$,$),w=f.C(k.$()*4),V,h;
f.mV(a,W,w,k);if(B==1){V=w;h=k}else{var l=new cb(B,0,0,B,0,0),M=Q.S.eM([w,k],l,!0);h=R.clone();h.x=M.rect.x;
h.y=M.rect.y;if(h.S0(M.rect))V=M.buffer;else{V=f.C(h.$()*4);f.mV(M.buffer,M.rect,V,h)}}var q=this.vQ.opacity/255;
for(var F=0;F<V.length;F+=4)V[F+3]=q*(Y[F+3]*V[F+3]);kb.ak5(new Uint32Array(V.buffer),h,4278190080,4294967295);
L={Fe:V,G8:h,d1:new iL(h.m/2,h.n/2)}}else L=kb.me(D,x.I9.U0,B,i==Q.V9)}var t=new fZ(G.E.Y,!0);t.data={d:G.U.sy,OU:L};
if(this.caller)this.caller.c(t)};Q.sg.prototype.enable=function(x,z,A,o){this.OQ=A;this.caller=z;this.WR(JSON.parse(JSON.stringify(this.vQ.brush)));
if(x&&x.t.X!=0)this.Wl=x.t.X;this.k2(A,o)};Q.sg.prototype.wB=function(x,z){if(z==cu.jn){this.vQ.brush=x.I9.oJ;
this.k2(x)}};Q.sg.prototype.Wr=function(x,z,A,o,i){for(var L in x)this.vQ[L]=x[L];if(this.vQ.alt[0])this.k2(i,o,A)};
Q.sg.prototype.SX=function(x){var z=x.CE.length!=0?-1-x.CE[0]:x.f[0],A=x.g[z],o=z<0?1:A.ZD,i=z<0?x.lX[-z-1]:o<=0?null:o==1?A.dP():A.zg(x).B,L=i?i.channel:A.buffer,B=(i?i.rect:A.rect).clone();
return[A,o,i,L,B]};Q.sg.prototype.N4=function(x,z){this.rl=x.O==null?null:{rect:x.O.rect.clone(),channel:x.O.channel.slice(0)};
var A=this.SX(x),o=A[0],i=A[1],L=A[2];this.Z9=A[3];this.wE=A[4];var B=new av(0,0,x.m,x.n),D=B.QM(this.wE);
if((this.rf()&&i<=0||D.S0(this.wE))&&z!=!0)this.Z9=this.Z9.slice(0);else{if(L)L.extend(D);else o.extend(D)}};
Q.sg.prototype._Y=function(x,z){var A=this.SX(x),o=A[1],i=A[3],L=A[4],B=[i,L],D=z!=null?z:this.vQ.sfrom;
if(o<=0&&D!=0){B[1]=new av(0,0,x.m,x.n);B[0]=x.MK(D==1&&x.f[0]!=x.g.length-1?x.f[0]:null).slice(0)}this.lp=B[1].clone();
this.ob=B[0].slice(0)};Q.sg.prototype.x0=function(x,z,A){if(x.A(bJ.yU)){var o=new fZ(G.E.r,!0);o.k=Q.ag;
o.data={d:"pickhere",aqJ:A};z.c(o);return!0}return!1};Q.sg.prototype.B2=function(x,z,A,o,i,L){if(this.id!=Q.ll&&!x.Qi(this.caller)){this.oq=null;
return}if(this.id!=Q.ll&&this.oq)return;this.N4(x);var B=new av(0,0,x.m,x.n),D=null;if(L!=null){var Z=x.CE.length!=0?-1-x.CE[0]:x.f[0],j=x.g[Z],a=Z<0?x.lX[-Z-1]:j.ZD<=0?null:j.ZD==1?j.dP():j.zg(x).B;
D=f.C(B.$()*4);if(a)Q.sg.HL(this.Z9,this.wE,a.color,D,B);else f.mV(this.Z9,this.wE,D,B)}var b=this.vQ;
if(this.oq&&this.id==Q.ll&&b.qsmode!=0&&x.O!=null){}else{var W=z.VJ,c=z.GN;if(this.RJ=="erase"){var Y=W;
W=c;c=Y}var R=this.id==Q.ll?this.wE:B;this.oq=new kb(b.brush,z.I9.U0,z.I9.xn,{pg:i,fc:L,agN:b.smth*50/x.t.X,nq:this.id==Q.AN||b.emode==1,aq:b.prsr},W,c,R,D)}if(this.id==Q.ll){this.oq.aqR(b.brush,b.qsmode==2?0:16777215)}var $=x.t.Sd(o.x,o.y);
if(A.A(bJ.xb)&&this.ps){var k=this.ps;this.oq.moveTo(k.x,k.y,o.yY);this.oq.lineTo(.001*k.x+.999*$.x,.001*k.y+.999*$.y,o.yY);
this.oq.lineTo($.x,$.y,o.yY)}else this.oq.moveTo($.x,$.y,o.yY);this.ps=$;this.ln=$.clone();this._G=new a1($,x.t.Yp)};
Q.sg.prototype.kY=function(x,z,A){if(x&&x.t.X!=0&&x.t.X!=this.Wl){this.Wl=x.t.X;this.k2(A)}};Q.sg.prototype.Zo=function(x,z,A,o){if(this.oq==null)return;
var i=x.g[x.f[0]],L=x.t.Sd(o.x,o.y),B=this._G.PA(L,A);if(B.S0(this.ps))return 1;this.oq.lineTo(B.x,B.y,o.yY);
this.ps=B;if(this.id==Q.jQ||this.id==Q.vi){var D=this.$W(),Z=11;D=x.t.ay(L.x-D.x,L.y-D.y);var j=Z>>>1,a=new av(Math.round(D.x)-j,Math.round(D.y)-j,Z,Z),b=f.C(a.$()*4);
f.OD(16777215);for(var F=0;F<Z;F++)b[(F*Z+j)*4+3]=b[(Z*j+F)*4+3]=255;x.G.ey=[[b,a]];x.o$=!0}};Q.sg.prototype.Nu=function(x,z,A,o){if(A.YC!=this.id)return;
if(this.id!=Q.ll||x==null)return;if(x.O==null||x.f[0]!=this.a9_){this.a9_=x.f[0];this.cc({qsmode:0},z)}};
Q.sg.prototype.i=function(x,z){if(x.CE.length!=0){x.o$=!0;return}var A=x.g[x.f[0]];if(z==null){z=this.oq.kl();
if(this.rf()&&A.ZD<=0)z=z.tE(this.wE)}var o=A.ZD;if(o==1||o==3){var i=Math.round((o==1?A.dP():A.zg(x).B).Jc*2.4);
z=z.clone();z.nw(i,i)}if(z.WT())return;if(o<=0){A.i(z)}if(o==1){A.dP().h9=!0;A.cm(x,z)}if(o==3){A.i(z)}x.i(x.root.cI(z,x,x.f[0],!0))};
Q.sg.prototype.V4=function(x,z,A,o,i){if(this.oq==null)return;this.oq.finish();if(this.id!=Q.mU&&this.id!=Q.vi&&this.id!=Q.ll)this.sP(x);
if(this.id==Q.jQ||this.id==Q.vi){x.G.ey=[];x.o$=!0}if(this.id==Q.ll){var L=x.O;x.O=this.rl;var B=new fZ(G.E.r,!0);
B.data={d:"setsel",_4:this.name,O:L};B.k=Q.dz;z.c(B);if(this.vQ.qsmode==0)this.cc({qsmode:1},z)}else{this.finish(x,this.oq.Ig());
this.oq=null;this.VB=null}this.dir=0};Q.sg.prototype.cc=function(x,z){for(var A in x)this.vQ[A]=x[A];
var o=new fZ(G.E.Y,!0);o.data={d:G.U.HU,k:this.id,HN:x};z.c(o)};Q.sg.prototype.rf=function(){var x=this.id;
return x==Q.ll||x==Q.XR||x==Q.x3||x==Q.iC||x==Q.WM||x==Q._W};Q.sg.prototype.finish=function(x,z,A,o,i){var L=x.CE.length!=0?-1-x.CE[0]:x.f[0],B=x.g[L],D=L<0?1:B.ZD,Z=L<0?x.lX[-L-1]:D<=0?null:D==1?B.dP():B.zg(x).B,j=Z?Z.rect:B.rect,W;
if(this.rf()||!j.S0(this.wE)){if(Z==null){if(this.rf())B.wr();else{var a=z.QM(this.wE),b=f.C(a.$()*4);
f.mV(B.buffer,B.rect,b,a);B.buffer=b;B.rect=a}}else Z.wr();this.i(x,j)}if(D<=0){W=f.C(z.$()*4);f.mV(this.Z9,this.wE,W,z)}else{W=f.C(z.$());
W.fill(Z.color);f.K5(this.Z9,this.wE,W,z)}this.Pl(x,!1,A?A:this.name,L,D,z,W,o,i)};Q.sg.prototype.Pl=function(x,z,A,o,i,L,B,D,Z){var j=B;
if(i>0){j=f.C(L.$()*4);Q.sg.HL(B,L,0,j,L)}var a=new j$(A,this);a.data=[{j:o,dm:i,G8:L,Mw:j}];if(D)a.data.dF=[x.O,null];
if(Z)a.data.dF=[this.rl,x.O];x.U7(a);if(z)this.IR(a.data,x);else if(D)x.O=null;Q.aW.aaC(x,a.data)};Q.sg.prototype.a_=function(x,z){this.Ut(x,z,!1)};
Q.sg.prototype.IR=function(x,z){this.Ut(x,z,!0)};Q.sg.prototype.Ut=function(x,z,A){if(x.d=="drawtemp"){var o=A?x.anP:x.abX,i=z.g[x.j];
i.sL.EU=o;i.PJ(z,0,0,z.O);i.i();z.bg=!0}else{Q.aW.cA(z,x);if(x.dF){z.O=x.dF[A?1:0];z.I3=!0}}z.i()};Q.sg.prototype.sP=function(x){this.AU(x,this.RJ,this.oq.Nt(),this.oq.mc(),this.oq.kl());
this.i(x)};Q.sg.prototype.AU=function(x,z,A,o,i){var L=this.vQ,B=x.g[x.f[0]],D=x.CE.length!=0?x.lX[x.CE[0]]:B.ZD<=0?null:B.ZD==1?B.dP():B.zg(x).B,Z=f.C(i.$()*4),j,a=B.bb(0);
if(D==null){if(this.id==Q.kF&&z=="heal")f.mV(B.buffer,B.rect,Z,i);else f.mV(this.Z9,this.wE,Z,i);if(a){j=f.C(i.$());
f.XN(Z,j,3)}}else{Q.sg.HL(this.Z9,this.wE,D.color,Z,i)}if(x.O&&z!="qselect"){var b=i.tE(x.O.rect),W=f.C(b.$()*4);
if(z=="copy"){var c=f.C(b.$());f.K5(x.O.channel,x.O.rect,c,b);f.mV(Z,i,W,b);f.q.Zd(A,o,W,b,c,b,0,b,1,!1)}else{f.mV(A,o,W,b);
f.A5(x.O.channel,x.O.rect,W,b)}A=W;o=b}function Y(k,fG){var gW=Math.max(fG.x,Math.min(fG.x+fG.m-1,k.x)),iI=Math.max(fG.y,Math.min(fG.y+fG.n-1,k.y));
return new iL(gW,iI)}if(z=="idraw"||z=="ierase"){if(this.VB==null)this.VB=f.C(this.wE.$());var R=this.vQ.samp,$=this.OQ.GN,k=Y(this.ps,i),w=R==0?k:this.ln,V=w.x,h=w.y,l=Q.xr.ams(this.Z9,this.wE,[w,new iL(V-2,h),new iL(V+2,h),new iL(V,h-2),new iL(V,h+2)]);
if(R==2)l=[[$>>>16&255,$>>>8&255,$>>>0&255,255]];var M=Q.xr.akO(Z,i,k,l,this.vQ.wconf),q=f.C(i.$());
f.K5(this.VB,this.wE,q,i);f.iv.QM(M,q,q);f.K5(q,i,this.VB,this.wE);f.A5(q,i,A,o);z=z.slice(1)}if(z=="erase"&&(Q.aW.ask(x)!=16777215||D))z="draw";
if(z=="draw")f.q.lx(L.bmode,A,o,Z,i,i,L.opacity);else if(z=="erase"){var t=f.C(i.$()*4);f.mV(A,o,t,i);
if(D==null){var p=f.C(i.$());f.XN(t,p,3);f.Wb(p,L.opacity);f.Qs(p);f.A5(p,i,Z,i)}else{f.OD(t,0,4278190080);
f.q.lx("norm",t,i,Z,i,i,L.opacity)}}else if(z=="clone"||z=="heal"){var E=this.$W(),_=this.lp.clone();
_.offset(E.x,E.y);var S=i.clone();S.nw(1,1);var y=f.C(S.$()*4),v=f.C(S.$());f.mV(A,o,y,S);f.XN(y,v,3);
f.OD(y,0);if(D==null){f.mV(this.ob,_,y,S);var r=f.C(S.$());f.XN(y,r,3);f.bA(r,v)}else Q.sg.HL(this.ob,_,D.color,y,S);
if(z=="clone"){f.c8(v,y,3);f.q.lx(L.bmode,y,S,Z,i,i,L.opacity)}if(z=="heal"){var K=v.slice(0);f.round(K,20);
var s=f.C(S.$()*4);if(D==null)f.mV(this.Z9,this.wE,s,S);else Q.sg.HL(this.Z9,this.wE,D.color,s,S);f.q.Zd(y,S,s,S,K,S,0,S,1,!1);
f.t7.lQ(s,K,S);f.q.Zd(s,S,Z,i,v,S,0,i,1,!1)}}else if(z=="dodge"||z=="burn"){var y=f.C(i.$()*4),X=1,U=0,n=0,e=0;
f.mV(A,o,y,i);var P=i.$()*4,d=Q.sg.wI;if(this.mk){if(z=="dodge")z="burn";else z="dodge"}var J=L.rng;
if(z=="dodge"){U=[1-X/2,1,1+X][J];n=[1,1/(1+X),1][J];e=[X/2,0,0][J]}if(z=="burn"){U=[1/(1-X/2),1,1-X/2][J];
n=[1,1+X,1][J];e=[-(X/2)/(1-X/2),0,0][J]}for(var F=0;F<P;F+=4){var C=y[F+3];Z[F+0]=d(Z[F+0],U,n,e,C);
Z[F+1]=d(Z[F+1],U,n,e,C);Z[F+2]=d(Z[F+2],U,n,e,C)}}else if(z=="sponge"||z=="redeye"){var y=f.C(i.$()*4),v=f.C(i.$());
f.mV(A,o,y,i);f.XN(y,v,3);f.Yy(Z,y);var H=L.smode;if(this.mk)H=1-H;var u=h6.d6("hue2");if(z=="sponge")cA.D3(u,0,[0,[-50,46][H],[6,5][H]]);
else cA.D3(u,1,{eL:[265,305,25,55],zS:[0,-90,-70]});var bc=ei.Th("hue2",u);ei.$B(bc,y,y,i);f.q.Zd(y,i,Z,i,v,i,0,i,1,!1)}else if(z=="copy")f.mV(A,o,Z,i);
else if(z=="sheal"){var y=f.C(i.$()*4),v=f.C(i.$());f.mV(A,o,y,i);f.XN(y,v,3);y.fill(0);var jK=this.ob,N=this.lp;
if(D){jK=f.C(N.$()*4);Q.sg.HL(this.ob,N,0,jK,N)}var he=f.BI.lQ(jK,N,v,y,i);if(he!=0)f.mV(jK,N,y,i);if(this.vQ.sfrom==0)f.mV(y,i,Z,i);
else{f.mV(this.Z9,this.wE,Z,i);f.c8(v,y,3);f.q.lx("norm",y,i,Z,i,i,1)}}else if(z=="qselect"){var gJ=this.wE,kg=gJ.m,cJ=gJ.n,it=kg*cJ,by=this.oq.Nt(),l=this.Z9,cz=Q.BO.H7,v=cz.By;
v.fill(128);for(var F=0;F<it;F++){var fG=by[F<<2],ju=by[(F<<2)+3];if(ju==255&&(fG==0||fG==255))v[F]=fG}v[0]=v[kg-1]=0;
v[(cJ>>>1)*kg]=v[(cJ>>>1)*kg+kg-1]=0;Q.LI.f0(cz,!0);x.O={rect:gJ,channel:cz.O.slice(0)};x.I3=!0}if(D==null){if(a)f.c8(j,Z,3);
f.mV(Z,i,B.buffer,B.rect)}else Q.sg.qF(Z,i,D)};Q.sg.$W=function(){return null};Q.sg.wI=function(x,z,A,o,i){var L=x*(1/255),B=o+z*Math.pow(L,A),D=Math.round(B*i+L*(255-i));
return Math.max(0,Math.min(255,D))};Q.sg.HL=function(x,z,A,o,i){var L=f.C(i.$());L.fill(A);f.K5(x,z,L,i);
o.fill(255);f.c3(L,o)};Q.sg.qF=function(x,z,A){var o=f.C(z.$());f.wJ(x,o);f.K5(o,z,A.channel,A.rect)};
Q.BO=function(x,z,A){Q.He.call(this,x,z,A);this.vQ={binop:0,feat:0,cstr:{Q1:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.YH=new iL(-1,-1);this.fl=new iL(-1,-1);this.EF="default";this.i7=null;this.a4r=!0;this.ui=!1;this.my=new a7;
this.Mk=!1;this.kS=null;this.D1=null;this.jl=!1;this.nQ=!1};Q.BO.prototype=new Q.He;Q.BO.prototype.ajB=function(){var x=this.vQ,z=[x.binop,x.feat];
if(this.id==Q.J5)z.push(x.wconf);return z};Q.BO.prototype.ajJ=function(x,z,A){var o=this.vQ;o.binop=x[0];
o.feat=x[1];o.wconf=x[2];var i=new fZ(G.E.Y,!0);i.data={d:G.U.HU,k:this.id,vQ:o};A.c(i)};Q.BO.H7={key:""};
Q.BO.rD=function(x,z,A){var o={zR:x,k7:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(z)o.k7.T=z;if(A!=null)o.k7.AntA={t:"bool",v:A};return o};Q.BO.uX=function(x,z,A){return Q.BO.rD("set",{t:"Objc",v:{classID:x,Top:{t:"UntF",v:{type:"#Pxl",val:z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:z.y+z.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:z.x+z.m}}}},A)};
Q.BO.Vf=function(x,z,A){var o=[],i=[],B="set";for(var F=0;F<x.length;F+=2){o.push(x[F]);i.push(x[F+1])}var L={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:o},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:i}]}}}};
if(z)B=["set","addTo","subtractFrom","interfaceWhite"][z];return Q.BO.rD(B,L,A)};Q.BO.amp=function(x,z,A){var o={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x.y}}}},i=Q.BO.rD("set",o);
i.k7.Tlrn={t:"long",v:z[0]};i.k7.AntA={t:"bool",v:z[1]};i.k7.Cntg={t:"bool",v:z[2]};if(A==!0)i.k7.Mrgd={t:"bool",v:A};
return i};Q.BO.dA=function(x){return Q.BO.rD("set",{t:"enum",v:{Ordn:x?"Al":"None"}})};Q.BO.ahY=function(x,z,A){var o={classID:"null"};
if(x!="border")o.selectionModifyEffectAtCanvasBounds={t:"bool",v:A};var i={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[x[0]];
o[i]={t:"UntF",v:{type:"#Pxl",val:z}};return{zR:x,k7:o}};Q.BO.WO=function(x,z,A){var o={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},i={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:z}}]};
if(A)i.v.push({t:"name",v:{classID:"Lyr",val:A}});var L=[{classID:"null",null:o,T:i},{classID:"null",null:i,T:o},{classID:"null",null:i,From:o},{classID:"null",null:i,With:o}],B=["set","add","subtract","interfaceIconFrameDimmed"];
return{zR:B[x],k7:L[x]}};Q.BO.g7=function(x,z){var A=new fZ(G.E.Y,!0);A.data={d:G.U.nF,Hl:cu.Lu};if(!z.c4)x.c(A);
A.data={d:G.U.nF,Hl:cu.ge};if(!z.gw.Y8)x.c(A)};Q.BO.prototype.A1=function(x,z,A,o,i){Q.BO.g7(z,i);this.i7=z;
var L=x.d,B,D,Z=new av(0,0,A.m,A.n),k8=!1,eE,jD,a_,cH;if(L=="fromAction"){var j=x.hz,a=j.zR,b=j.k7,W=b?b.selectionModifyEffectAtCanvasBounds:null,c=W&&W.v;
if(a=="colorRange"){if(b.Clrs){var Y=b.Clrs.v.Clrs,R=0,$=255,k=["Shdw","Mdtn","Hghl"].indexOf(Y),l=.4;
if(k==0)$=60;else if(k==1){R=100;$=150}else R=190;var w=["shadows","midtones","highlights"][k],V=b[w+"LowerLimit"],h=b[w+"UpperLimit"];
if(V)R=V.v;if(h)$=h.v;var M=b[w+"Fuzziness"];if(M)l=M.v/100;B=Q.BO.Fm(A,R,$,l,!0)}else{var R=b.Mnm.v,$=b.Mxm.v,l;
R={KI:R.Lmnc.v,xc:R.A.v,s:R.B.v};$={KI:$.Lmnc.v,xc:$.A.v,s:$.B.v};l=b.Fzns.v/200;B=Q.BO.Fm(A,R,$,l)}D=[7,8]}else if(a=="inverse"){if(A.O==null){alert("No selection!");
return}B={channel:f.C(Z.$()),rect:Z};f.K5(A.O.channel,A.O.rect,B.channel,B.rect);f.Qs(B.channel);D=[7,2]}else if(a=="expand"){var q=b.By.v.val,t=A.O.rect.clone();
t.nw(q,q);var p=f.C(t.$()),E=f.C(t.$());f.K5(A.O.channel,A.O.rect,E,t);f.style.stroke(E,p,t,q);B={channel:p,rect:t};
D=[7,4]}else if(a=="contract"){var q=b.By.v.val,_=A.O.rect.clone();_.nw(1,1);if(!c)_=_.tE(Z);var E=f.C(_.$()),S=f.C(E.length);
f.K5(A.O.channel,A.O.rect,E,_);f.Qs(E);f.style.stroke(E,S,_,q);f.Qs(S);B={channel:S,rect:_};f.wr(B);
D=[7,5]}else if(a=="border"){var q=b.Wdth.v.val;B=Q.BO.jP(A.O,q/2,q/2);D=[7,9]}else if(a=="feather"||a=="smoothness"){var q=b.Rds.v.val;
B=Q.BO.Ou(A.O,q,a=="smoothness",Z,c);D=a=="feather"?[7,6]:[19,3,0]}else if(a=="move"){var y=b.T.v,t=A.O.rect.clone();
t.x+=y.Hrzn.v.val;t.y+=y.Vrtc.v.val;B={channel:A.O.channel,rect:t};D=[7,7]}else{var v=b.null.v,r=b.AntA!=null&&b.AntA.v;
function K(km){var aM=km.Top.v.val,dS=km.Left.v.val;return new av(dS,aM,km.Rght.v.val-dS,km.Btom.v.val-aM)}function s(km){var aM=km[0].arr,fq=km[1].arr,dV={v:[],F:[]};
for(var F=0;F<aM.length;F++){dV.F.push(F==0?"M":"L");dV.v.push(aM[F],fq[F])}dV.F.push("Z");return dV}var P=["set","addTo","subtractFrom","interfaceWhite"].indexOf(a),d=b.T?b.T.v:null;
if(d&&d.classID=="Elps"){B=this.eG(Q.Ks.mQ(K(d)));D=[10,4]}else if(d&&d.classID=="Rctn"){var X=K(d);
B={channel:f.C(X.$()),rect:X.clone()};B.channel.fill(255);D=[10,15]}else if(d&&d.classID=="ObSl"){var X=K(d),U=Q.BO.H7,n=U.rect,e=U.By,J=n.m,C=n.n,H=X.x-n.x,u=H+X.m-1,bc=Math.max(H,Math.min(u,H+u>>>1)),jK=X.y-n.y,N=jK+X.n-1,he=Math.max(jK,Math.min(N,jK+N>>>1)),gJ=Math.max(H,0),kg=Math.min(u,J),cJ=Math.max(jK,0),it=Math.min(N,C);
e.fill(128);if(0<=jK)for(var by=gJ;by<kg;by++)e[jK*J+by]=0;if(N<C)for(var by=gJ;by<kg;by++)e[N*J+by]=0;
if(0<=H)for(var cz=cJ;cz<it;cz++)e[cz*J+H]=0;if(u<J)for(var cz=cJ;cz<it;cz++)e[cz*J+u]=0;var fG=Q.kX.aqL,ju=Math.round(X.m*fG),gW=Math.round(X.n*fG);
for(var by=Math.max(0,bc-ju);by<Math.min(J,bc+ju);by++)e[he*J+by]=255;for(var cz=Math.max(0,he-gW);cz<Math.min(C,he+gW);
cz++)e[cz*J+bc]=255;Q.LI.f0(U,!0);B={channel:U.O.slice(0),rect:n.clone()};D=[10,44]}else if(d&&d.classID=="Plgn"){B=this.eG(s(d.Pts.v.arr));
D=[10,9]}else if(d&&d.classID=="Pnt"){B=Q.xr.a4U(A,new iL(d.Hrzn.v.val,d.Vrtc.v.val),[b.Tlrn.v,r,b.Cntg==null||b.Cntg.v],b.Mrgd?b.Mrgd.v:!1);
D=[10,12]}else if(d&&d.Ordn=="None"){B=null;D=[7,1]}else if(d&&d.Ordn=="Al"){var iI=Z;if(A.f.length!=0){var ht=A.root.RX(A.f[0]);
while(ht.parent&&ht.parent.parent)ht=ht.parent;if(ht.j.add.artb)iI=ht.j.nU()}B={channel:f.C(iI.$()),rect:iI};
B.channel.fill(255);D=[7,0]}else if(d&&d[0]&&d[0].v.keyID=="WrPt"){var et={d:"frompath",s5:[-1,0,0]};
this.A1(et,z,A,o,i);return}else{var be=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(a),c9=a=="set"?d:v,aJ=c9[0].v.enum,et;
if(aJ=="Trsp"||aJ=="Msk"||aJ=="vectorMask"||aJ=="Trgt"){var b6=A.f[0];if(c9.length==2)b6=jd.aG(A,c9[1]);
var ef=["Trsp","Msk","vectorMask"].indexOf(aJ);if(aJ=="Trgt"&&A.g[b6].ZD==1)ef=1;et={d:"fromlayer",s5:[b6,ef,be]}}else{if(c9[0].t=="name"){var b6=0;
for(var F=0;F<A.lX.length;F++)if(A.lX[F].name==c9[0].v.val)b6=F;et={d:"fromchannel",s5:[-5-b6,0,be]}}else{var jV=["RGB","Rd","Grn","Bl"].indexOf(aJ);
et={d:"fromchannel",s5:[-1-jV,0,be]}}}this.A1(et,z,A,o,i);return}if(!r&&B)f.round(B.channel);if(b.Fthr)B=Q.BO.Ou(B,b.Fthr.v.val,!1);
if(a!="set"&&A.O!=null)B=f.iv._Z(B,A.O,P)}if(a=="expand"||a=="contract")if(!c&&!Z.contains(B.rect)){var hu=B.rect.tE(Z),eG=f.C(hu.$());
f.K5(B.channel,B.rect,eG,hu);B.channel=eG;B.rect=hu}}if(L=="qmask"){k8=!0;var ic=A.oF(),aj=new av(0,0,A.m,A.n);
if(ic){B=ic.rect.S0(aj)&&f.DX(ic.channel,255)?null:{rect:ic.rect.clone(),channel:ic.channel.slice(0)};
eE=ic}else{B=null;jD=new g.$R;jD.color=0;jD.name="Quick Mask";jD.ft=!0;if(A.O){jD.rect=A.O.rect.clone();
jD.channel=A.O.channel.slice(0)}else{jD.rect=aj;jD.channel=f.C(jD.rect.$());jD.channel.fill(255)}}D=[6,6,1];
A.bg=!0}if(L=="setsel"){B=x.O;D=x._4}if(L=="crange"){var R=x.cq,$=x.dL;B=Q.BO.Fm(A,R,$,x.YE);D=[7,8]}if(L=="fromlayer"||L=="fromchannel"||L=="frompath"){var ay=x.s5[0],ef=x.s5[1],P=x.s5[2];
if(L=="fromlayer"){if(ay==null)ay=A.f[0];var dS=A.g[ay];if(ef==0){var hC=dS.rect,eq=dS.buffer;if(hC.WT())return;
var ck=f.C(eq.length>>>2);f.XN(eq,ck,3);B={channel:ck,rect:hC.clone()}}else{if(dS.B==null)dS.cm(A);var eL=ef==1?dS.dP():dS.B;
B=Q.BO.eT(eL,Z)}this.track(Q.BO.WO(P,["Trsp","Msk"][ef],dS.getName()))}else if(L=="frompath"){var gj=A.Dd(),bv=gj[1],gj=gj[0];
if(ay==null)if(gj.length==0||bv.length==0)return;var dK=gj[bv[0]];if(ay!=null)for(var F=0;F<gj.length;
F++)if(gj[F].dD==ay)dK=gj[F];var eL=dK.add.vmsk.dP(),cC=eL.mc();if(cC.$()==0)return;var ck=eL.JG();if(x.s5[3]!=null)this.a4r=x.s5[3];
if(this.a4r){ck=ck.slice(0);f.round(ck)}a_=[JSON.stringify(A.Dt),JSON.stringify(A.Iz)];cH=["[]","[]"];
A.Dt=[];A.Iz=[];B={channel:ck,rect:cC}}else{if(ay==null)ay=Q.BO.x_(A);B=Q.BO.zJ(A,ay)}if(P!=0&&A.O)B=f.iv._Z(B,A.O,P);
D=[14,11]}if(B!=null&&f.DX(B.channel,0)){B=null;D=[7,1]}if(B)f.wr(B);var iv=new j$(D,this);iv.data={d:"changesel",rl:A.O,Bp:B,oF:k8,a0E:eE,agT:jD,MR:a_,agb:cH};
A.U7(iv);this.IR(iv.data,A)};Q.BO.x_=function(x){var z=0;if(x.CE.length!=0)z=-5-x.CE[0];else if(JSON.stringify(x.t.u1)=="[1,1,1]")z=-1;
else z=-2-x.t.u1.indexOf(1);return z};Q.BO.zJ=function(x,z){var A,o=new av(0,0,x.m,x.n);if(-5<z&z<0){var i=-z-1,L=x.MK(),B=f.C(o.$());
if(i==0)f.wJ(L,B);else f.XN(L,B,i-1);A={channel:B,rect:o.clone()}}if(z<-4){A=Q.BO.eT(x.lX[-z-5],o)}return A};
Q.BO.eT=function(x,z){var A,o;if(x.Pw()==0){o=x.mc().clone();if(o.$()==0)return;A=x.JG()}else{o=z;A=f.C(o.$());
x.$n(o,A)}return{channel:A,rect:o}};Q.BO.prototype.V5=function(x){return this.Mk||x.z0&&this.id!=Q.R6};
Q.BO.prototype.bf=function(x,z,A){var o=new fZ(z,!0);o.data=A;x.c(o)};Q.BO.prototype.kK=function(x,z){var A=new fZ(G.E.Y,!0);
A.data={d:G.U.sy,OU:z};x.c(A)};Q.BO.prototype.mc=function(x,z,A){z=x.O==null||this.my.Ny(1)||this.my.c5(1)?z:null;
var o=this.YH,i=this.fl;if(A){o.x=Math.max(0,Math.min(x.m,o.x));o.y=Math.max(0,Math.min(x.n,o.y));i.x=Math.max(0,Math.min(x.m,i.x));
i.y=Math.max(0,Math.min(x.n,i.y))}var L=Q.yP.aA(o,i,z,!0,this.vQ.cstr),B=L[0].x,D=L[0].y;return new av(B,D,L[1].x-B,L[1].y-D)};
Q.BO.prototype.Xv=function(x,z,A,o,i){this.nQ=!0;if(this.hd())return;this.i7=z;this.ui=!1;this.my.Xv(o);
this.YH=x.t.Sd(i.x,i.y);this.YH=Q.R7.EX(x,this.YH,A);if(this.rW(x,this.YH,o)){this.Mk=!0;this.kS=x.O.rect.clone();
return}this.XP(x,A,o,i);x.t.xC=new av};Q.BO.prototype.rW=function(x,z,A){var o=A.A(bJ.xb),i=A.A(bJ.yU);
if(x.O&&!o&&!i&&this.vQ.binop==0)return f.Qd(z,x.O.channel,x.O.rect);return!1};Q.BO.prototype.Dg=function(x,z,A,o,i){this.i7=z;
if(this.jl)return;var L=x.t.Sd(i.x,i.y);if(iL.Or(this.YH,L)*x.t.X>5){this.ui=!0;this.my.Dg()}if(o.A(bJ.aU)){if(this.D1==null)this.D1=new iL(L.x-this.YH.x,L.y-this.YH.y);
this.YH.x=L.x-this.D1.x;this.YH.y=L.y-this.D1.y}else this.D1=null;this.fl=L;if(!this.Mk)this.fl=Q.R7.EX(x,this.fl,A);
if(this.rW(x,this.fl,o))this.kK(z,"move");else this.kK(z,this.EF);if(this.Mk){var B=this.kS.clone();
B.x+=this.fl.x-this.YH.x;B.y+=this.fl.y-this.YH.y;var D=Q.R7.Dh(x,B,A);x.O.rect.x=Math.round(this.fl.x-this.YH.x+this.kS.x+D[0]);
x.O.rect.y=Math.round(this.fl.y-this.YH.y+this.kS.y+D[1]);x.I3=!0;Q.R7.mj(x,B,D);return}this.ss(x,A,o,i);
if(x.t.xC)x.t.xC=this.mc(x,o)};Q.BO.prototype.hd=function(){return!1};Q.BO.prototype.V4=function(x,z,A,o,i,L){var B=this.nQ;
this.nQ=!1;if(L||!B)return;x.t.xC=null;this.fl=x.t.Sd(i.x,i.y);this.fl=Q.R7.EX(x,this.fl,A);if(this.Mk){this.Mk=!1;
if(x!=null&&x.G.ky){x.G.ky=null;x.o$=!0}if(this.fl.S0(this.YH)&&this.$D()==0){this.bf(z,G.E.rm,Q.BO.dA());
return}this.bs(x,this.kS,x.O.rect.clone());return}this.rP(x,A,o,i);Q.BO.g7(z,A);this.my.V4();this.tH(z)};
Q.BO.prototype.bs=function(x,z,A){var o=x.nW();if(o!=null&&o.k==this&&o.data.d=="movesel"){}else{o=new j$([7,7],this);
o.data={d:"movesel",rN:z};x.U7(o)}o.data.BP=A;this.IR(o.data,x)};Q.BO.prototype.wK=function(x,z,A,o,i){this.jl=!0};
Q.BO.prototype.zD=function(x,z,A,o,i){var L=new fZ(G.E.Y,!0);L.data={d:G.U.HU,k:this.id,Fq:i,Xg:x,DL:A};
z.c(L);this.jl=!1};Q.BO.prototype.R0=function(x,z,A,o){this.my.R0(o);if(x!=null&&x.O!=null){var i=o.u0();
if(i.x!=0||i.y!=0){var L=x.O.rect.clone();L.x+=i.x;L.y+=i.y;this.bs(x,x.O.rect.clone(),L)}}this.tH(z)};
Q.BO.prototype.tH=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.HU,k:this.id,fA:this.$D()};x.c(z)};
Q.BO.prototype.$D=function(){var x=this.my.Ny(0),z=this.my.c5(0);return Q.BO.TA(this.vQ.binop,x,z)};
Q.BO.TA=function(x,z,A){if(z)x=1;if(A)x=2;if(z&&A)x=3;return x};Q.BO.prototype.finish=function(x,z,A,o){var i=x.O,L=this.getSelection(x,z,A,o);
if(L==null)L=Q.BO.dA();else{var B=this.vQ.feat,D=this.$D();if(B!=0)L.k7.Fthr={t:"UntF",v:{type:"#Pxl",val:B}};
if(D!=0&&D!=4)L.zR=["","addTo","subtractFrom","interfaceWhite",""][D]}this.bf(this.i7,G.E.rm,L);this.YH.Jt(-1,-1);
this.fl.Jt(-1,-1)};Q.BO.prototype.getSelection=function(x,z,A,o){return null};Q.BO.prototype.XP=function(x,z,A,o){};
Q.BO.prototype.ss=function(x,z,A,o){};Q.BO.prototype.rP=function(x,z,A,o){};Q.BO.prototype.a_=function(x,z){var A=x.d;
if(A=="changesel")z.O=x.rl;if(A=="movesel")z.O.rect=x.rN;if(x.oF){if(x.a0E){z.CE=[z.lX.length];z.lX.push(x.a0E)}else{z.lX.pop();
z.CE=[]}}if(x.MR){z.Dt=JSON.parse(x.MR[0]);z.Iz=JSON.parse(x.MR[1])}z.I3=!0};Q.BO.prototype.IR=function(x,z){var A=x.d;
if(A=="changesel")z.O=x.Bp;if(A=="movesel")z.O.rect=x.BP;if(x.oF){if(x.agT){z.CE=[z.lX.length];z.lX.push(x.agT)}else{z.lX.pop();
z.CE=[]}}if(x.MR){z.Dt=JSON.parse(x.agb[0]);z.Iz=JSON.parse(x.agb[1])}z.I3=!0};Q.BO.prototype.Wr=function(x){this.vQ=x.vQ};
Q.BO.prototype.eG=function(x){var z=f.p.ke(x.v);if(z.WT())return null;var A=f.zG(z.m,z.n);A.save();A.beginPath();
A.translate(-z.x,-z.y);Typr.U.pathToContext({cmds:x.F,crds:x.v},A);A.closePath();A.fill();A.restore();
var o=f.C(z.$()),i=A.getImageData(0,0,z.m,z.n);f.XN(i.data,o,3);return{rect:z,channel:o}};Q.BO.Ou=function(x,z,A,o,i){if(A)z=Math.round(z*.7);
var L=Math.ceil(2.6*z),B=x.rect.clone();B.nw(L,L);if(o&&!i)B=B.tE(o);var D=f.C(B.$()),Z=f.C(D.length);
f.K5(x.channel,x.rect,Z,B);f.ZY.nM(Z,D,B,z);if(A){var j=D.length;for(var F=0;F<j;F++){var a=(D[F]-128)*z*2.5;
D[F]=Math.max(0,Math.min(255,Math.round(128+a)))}}return{channel:D,rect:B}};Q.BO.jP=function(x,z,A){var o=Math.max(1,Math.ceil(A)),i=x.rect.clone();
i.nw(o,o);var L=i.$(),B={channel:f.C(L),rect:i},D=f.C(L);f.K5(x.channel,x.rect,D,B.rect);if(A!=0)f.style.stroke(D,B.channel,B.rect,A);
else f.Yy(D,B.channel);var Z=f.C(L);f.Qs(D);if(z!=0)f.style.stroke(D,Z,B.rect,z);else f.Yy(D,Z);f.iv.tE(B.channel,Z,B.channel);
return B};Q.BO.Fm=function(x,z,A,o,i){var L=new av(0,0,x.m,x.n),B=x.MK();if(x.O){var D=x.O.rect.tE(L),Z=f.C(D.$()*4);
f.mV(B,L,Z,D);L=D;B=Z}var j=L.$(),a=f.C(j),b=1/o;if(i){if(z>=A)z=A-1;var W=z*(1-o),c=z,Y=A,R=A+(255-A)*o,$=W==c?0:1/(c-W),k=Y==R?0:1/(R-Y);
for(var F=0;F<j;F++){var w=F<<2,V=f.yA(B[w],B[w+1],B[w+2]),h=0;if(V<W)h=0;else if(V<c)h=(V-W)*$;else if(V<=Y)h=1;
else if(V<=R)h=1-(V-Y)*k;else h=0;a[F]=B[w+3]*h*h}}else for(var F=0;F<j;F++){var w=F<<2,l=f.hN(B[w],B[w+1],B[w+2]),h=f.ub(l,z,A,o,b);
a[F]=B[w+3]*h}return{rect:L,channel:a}};Q.Yz=function(){Q.sg.call(this,[10,18],Q.xR,"tools/blur");this.RJ="copy"};
Q.Yz.prototype=new Q.sg;Q.Yz.prototype.Xv=function(x,z,A,o,i){var L=o.A(bJ.yU)?kb.t8:kb.xR;this.B2(x,A,o,i,this.vQ.strn,L);
if(this.oq==null)return;this.sP(x)};Q.Yz.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.hx=function(){Q.sg.call(this,[10,0],Q.s7,"tools/brush");
this.RJ="draw"};Q.hx.prototype=new Q.sg;Q.hx.prototype.Xv=function(x,z,A,o,i){if(this.x0(o,z,i))return;
this.B2(x,A,o,i,this.vQ.flow);if(this.oq==null)return;this.sP(x)};Q.hx.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.FA=function(){Q.sg.call(this,[10,42],Q.V9,"tools/crepl");
this.RJ="idraw";this.vQ.bmode="hue "};Q.FA.prototype=new Q.sg;Q.FA.prototype.Xv=function(x,z,A,o,i){if(this.x0(o,z,i))return;
this.B2(x,A,o,i,this.vQ.flow);if(this.oq==null)return;this.sP(x)};Q.FA.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.Hg=function(){Q.sg.call(this,[10,43],Q._W,"tools/redeye");
this.vQ.smode=0;this.RJ="redeye"};Q.Hg.prototype=new Q.sg;Q.Hg.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,this.vQ.flow);
if(this.oq==null)return;this.sP(x)};Q.Hg.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.xZ=function(){Q.sg.call(this,[10,38],Q.AN,"tools/pencil");
this.RJ="draw"};Q.xZ.prototype=new Q.sg;Q.xZ.prototype.Xv=function(x,z,A,o,i){if(this.x0(o,z,i))return;
this.B2(x,A,o,i,this.vQ.flow);if(this.oq==null)return;this.sP(x)};Q.xZ.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.h7=function(){Q.sg.call(this,[10,22],Q.iC,"tools/burn");
this.RJ="burn"};Q.h7.prototype=new Q.sg;Q.h7.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,this.vQ.expo/Math.E);
if(this.oq==null)return;this.sP(x)};Q.h7.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.hl=function(x,z,A){Q.sg.call(this,x==""?null:x?x:[10,1],z?z:Q.jQ,A?A:"tools/clone");
this.RJ="clone";this.$0=null;this.u=null};Q.hl.prototype=new Q.sg;Q.hl.prototype.Xv=function(x,z,A,o,i){var L=this.vQ,B=L.alt[0];
if(o.A(bJ.yU)||o.A(bJ.c_)||B){this.$0=x.t.Sd(i.x,i.y);this.u=null;if(B)this.cc({alt:[!1]},z);this._Y(x);
this.k2(A,o,x,i);return}if(this.$0==null){alert(kc.get([15,7,0]));return}this.k2(A,o);this.B2(x,A,o,i,this.vQ.flow);
if(this.oq==null)return;this.u=this.DK(x.t.Sd(i.x,i.y));this.sP(x)};Q.hl.prototype.DK=function(x){var z=this.u;
if(z==null||!this.vQ.algnd)z=new iL(Math.round(x.x-this.$0.x),Math.round(x.y-this.$0.y));return z};Q.hl.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
if(this.Nv)this.Zk(x,A,i);if(this.oq==null){if(this.$0!=null)this.k2(A,o,x,i);return}if(!i.z0||this.$0==null)return;
this.Zo(x,A,o,i);this.sP(x)};Q.hl.prototype.$W=function(){return this.u};Q.lv=function(x,z,A){Q.He.call(this,x,z,A);
this.bp={xp:{Q1:0,x:0,y:0},U8:!1};this.iq=!1;this.vf=null;this.cursor=null;this.a3_=0;this.DH=null;this.YH=null;
this.GI=null;this.f1=!1};Q.lv.prototype=new Q.He;Q.lv.prototype.wn=function(){return this.vf!=null};
Q.lv.prototype.V5=function(x){return this.YH!=null||this.vf&&this.vf.arz()};Q.lv.prototype.Xv=function(x,z,A,o,i){this.DH=i;
var L=x.t.Sd(i.x,i.y);L.x=Math.round(L.x);L.y=Math.round(L.y);var B=this.bp.xp,D=B.Q1!=0?B.x/B.y:null,Z=this.f1;
this.f1=!1;if(this.vf){var j=this.vf.El(L,x.t.X);if(Z&&j==null){this.vf.clear(x);this.vf=null}else{this.vf.Xv(x,A,o,L,D,!1,i);
return}}this.YH=Q.R7.EX(x,L,A)};Q.lv.prototype.mO=function(x,z,A){if(A==null)A=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.n,x.x,x.y+x.n];
return new ig(A,!0,!1,this.id==Q.A3,!0,z,this.id==Q.A3?2:0,this.id==Q.A3?4:3)};Q.lv.prototype.k2=function(x){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.sy,OU:this.cursor};x.c(z)};Q.lv.prototype.enable=function(x,z,A,o){this.i7=z;this.cursor="crosshair";
this.k2(z);if(x!=null&&this.vf==null){var i=x.O?{Vn:"cropby",awA:3}:{Vn:"config",bp:this.bp,acu:!0};
this.Wr(i,z,x,o,A);if(x.O==null&&this.bp.xp.Q1==0)this.f1=!0}};Q.lv.prototype.Dg=function(x,z,A,o,i){this.DH=i;
var L=x.t.Sd(i.x,i.y);if(!i.z0){var B="crosshair";if(this.vf){var D=this.vf.El(L,x.t.X,null,i);if(D)B=D;
else B="default"}if(B!=this.cursor){this.cursor=B;this.k2(z)}}if(this.vf)this.vf.Dg(x,A,o,L);else if(this.YH){if(this.iq){x.G.PK={F:["M","L"],v:[this.YH.x,this.YH.y,L.x,L.y]}}else{var Z=Q.yP.aA(this.YH,Q.R7.EX(x,L,A),o,!0,this.bp.xp),j=Z[0].x,a=Z[0].y,b=this.GI=new av(j,a,Z[1].x-j,Z[1].y-a);
x.G.PK=f.p.Mm(b);Q.He.uz(i,b,x,A)}x.o$=!0}};Q.lv.a8q=function(x,z,A){var o,i,D,Z;if(z<=A){o=z;i=A}else{o=A;
i=z}var L=x-Math.floor((x+Math.PI)/(2*Math.PI))*2*Math.PI;L=Math.abs(L);if(L>Math.PI/2)L=Math.PI-L;var B=o/(i*Math.sin(L)+o*Math.cos(L));
if(z<=A){D=o*B;Z=i*B}else{D=i*B;Z=o*B}return{GM:D,zp:Z}};Q.lv.prototype.V4=function(x,z,A,o,i){this.DH=i;
var L=x.t.Sd(i.x,i.y);if(this.vf==null){var B=this.GI;if(this.YH&&(B||this.iq)){if(this.iq){var D=this.YH,Z=L;
if(D.x>Z.x){var j=D;D=Z;Z=j}var D=Math.atan2(-(Z.y-D.y),Z.x-D.x),a=Q.lv.a8q(D,x.m,x.n),b=[0,0,a.GM,0,a.GM,a.zp,0,a.zp],W=new cb;
W.translate(-a.GM/2,-a.zp/2);W.rotate(D);W.translate(x.m/2,x.n/2);f.p.D(b,W,b);this.vf=this.mO(B,!1,b);
x.G.PK=null;this.iq=!1}else{var c=this.bp.xp;this.vf=this.mO(B,c.Q1!=0)}this.vf.KH(x,A);this.GI=null;
this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Nf:!0});this.YH=null;x.G.ey=[];x.o$=!0}return}this.vf.V4(x,A,o,L);
this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Nf:!0});var b=this.vf.m9();if(Math.abs(b[0]-b[4])<2&&Math.abs(b[1]-b[5])<2){this.disable(x,z,null,o);
return}if(Date.now()-this.a3_<200&&this.vf.xA(L)){this.wy(x,A);this.disable(x,z,A,o);return}this.a3_=Date.now()};
Q.lv.prototype.R0=function(x,z,A,o){var i=this.vf;if(i==null||this.DH&&this.DH.z0)return;if(o.A(bJ.oN)){this.wy(x,A);
this.disable(x,z,A,o)}else if(o.A(bJ.dw)){this.disable(x,z,A,o)}else i.R0(x,A,o)};Q.lv.sh=function(x,z,A){var o={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:x[1]+x[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:x[0]+x[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:z!=null?z:0}},Dlt:{t:"bool",v:A!=null?A:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{zR:"crop",k7:o}};Q.lv.ck=function(x,z){if(z==null)z=[!0,!0,!0,!0];var A={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][x]}}},o=["Top","Left","Btom","Rght"];
for(var F=0;F<4;F++)A[o[F]]={t:"bool",v:z[F]};return{zR:"trim",k7:A}};Q.lv.Bw=function(x,z,A,o){var i={classID:"null"};
if(o!=null){i.Wdth={t:"UntF",v:{type:"#Pxl",val:x}};i.Hght={t:"UntF",v:{type:"#Pxl",val:z}};i.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][o]}}}if(A!=null)i.Rslt={t:"UntF",v:{type:"#Rsl",val:A}};
return{zR:"imageSize",k7:i}};Q.lv.LS=function(x,z,A){if(A==null)A=4;var o=Math.floor(A/3),i=A%3;return{zR:"canvasSize",k7:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:x}},Hght:{t:"UntF",v:{type:"#Pxl",val:z}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][i]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][o]}}}}};
Q.lv.prototype.A1=function(x,z,A,o,i){var L=new av(0,0,A.m,A.n),B=[11,3],D=A.um,Z=A.m/2,j=A.n/2,a=1,C,H;
if(x.d=="fromAction"){var b=x.hz,W=b.zR,c=b.k7,Y=A.m/A.n,R=c.Wdth?c.Wdth.v.val:-1,$=c.Hght?c.Hght.v.val:-1,D=c.Rslt?c.Rslt.v.val:null,k=c.Wdth?c.Wdth.v.type:c.Hght?c.Hght.v.type:-1,w=1,V;
if(k=="#Prc"){if(R!=-1)R=Math.round(A.m*R/100);if($!=-1)$=Math.round(A.n*$/100)}if(W=="imageSize"){if(c.Intr){if(c.Intr.v.Intp=="Nrst")w=0;
if(c.Intr.v.Intp=="bicubicSharper")w=2;if(R==-1&&$==-1){var h=D/A.um;R=Math.round(A.m*h);$=Math.round(A.n*h)}if(c.CnsP&&c.CnsP.v){if(R==-1)R=Math.round($*Y);
if($==-1)$=Math.round(R/Y)}}else{if(k=="#Prc")D=Math.round(A.um*(A.m/R));else if(k==-1)D=Math.round(D);
else throw"e";R=A.m;$=A.n}V={d:"imgsize",R5:R,hA:$,Y1:D,ws:w}}else if(W=="canvasSize"){if(R==-1)R=A.m;
if($==-1)$=A.n;if(c.Rltv&&c.Rltv.v==!0){if(c.Wdth)R+=A.m;if(c.Hght)$+=A.n}var l=c.Vrtc?c.Vrtc.v.VrtL:"Cntr",M=c.Hrzn?c.Hrzn.v.HrzL:"Cntr";
V={d:"canvsize",R5:R,hA:$,NG:3*["Top","Cntr","Btom"].indexOf(l)+["Left","Cntr","Rght"].indexOf(M)}}else if(W=="revealAll"){V={d:"revealAll"}}else if(W=="trim"){var q={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[c.trimBasedOn.v.trimBasedOn];
if(q==null)throw"e";var t=["Top","Left","Btom","Rght"],p=[!0,!0,!0,!0];for(var F=0;F<4;F++)if(c[t[F]])p[F]=c[t[F]].v;
V={d:"trim",a86:q,WH:p}}else if(W=="crop"){var E,_,S,y;if(c.T){var v=c.T.v,E=Math.round(v.Left.v.val),_=Math.round(v.Top.v.val),S=Math.round(v.Rght.v.val)-E,y=Math.round(v.Btom.v.val)-_}else{var r=A.g[A.f[0]],K=r.rect;
K=K.tE(new av(0,0,A.m,A.n));E=K.x;_=K.y;S=K.m;y=K.n}V={d:"canvsize",R5:S,hA:y,u:new iL(E,_),a8u:c.Dlt!=null&&c.Dlt.v}}else console.log(b);
if(V)this.A1(V,z,A,o,i);return}else if(x.d=="imgsize"){L=new av(0,0,x.R5,x.hA);if(x.Y1)D=x.Y1;a=x.ws}else if(x.d=="canvsize"){var s=x.NG!=null?x.NG:0;
L=new av(0,0,x.R5,x.hA);var P=A.m-x.R5,d=A.n-x.hA,X=Math.round(P/2),U=Math.round(d/2);if(s==1||s==4||s==7)L.x=X;
if(s==2||s==5||s==8)L.x=P;if(s==3||s==4||s==5)L.y=U;if(s==6||s==7||s==8)L.y=d;if(x.u){L.x=x.u.x;L.y=x.u.y}}else if(x.d=="rot"&&(x.h+2*Math.PI)%(Math.PI/2)!=0){var n=f.p.Mm(L).v,e=new cb;
e.translate(-Z,-j);e.rotate(x.h);e.translate(Z,j);f.p.D(n,e,n);L=f.p.ke(n)}else if(x.d=="rot"&&x.h!=Math.PI&&x.h!=-Math.PI){L=new av(Z-A.n/2,j-A.m/2,A.n,A.m);
if((A.m+A.n&1)==1){Z=Math.floor(Z);j=Math.floor(j);L=new av(Z-Math.floor(A.n/2),j-Math.floor(A.m/2),A.n,A.m);
if((A.m&1)==1&&x.h!=-Math.PI/2)L.y--;if((A.n&1)==1&&x.h==-Math.PI/2)L.x--}}else if(x.d=="trim"){B=[11,12,0];
var J=A.MK(),K=new av(0,0,A.m,A.n);L=f.N1(J,K,x.a86,x.WH);if(L.WT())L=K}else if(x.d=="cropbysel"){B=[11,12,1];
L=A.O.rect.clone()}else if(x.d=="revealAll"){B=[11,12,2];L=A.root.mc(A,!0)}var u=x.d=="canvsize"&&x.a8u;
if(x.d=="imgsize"||x.d=="rot"||x.d=="scl"||u){var bc=new cb;if(x.d=="imgsize"){B=[11,10];bc.scale(x.R5/A.m,x.hA/A.n)}else if(u){}else{bc.translate(-Z,-j);
if(x.d=="rot")bc.rotate(x.h);if(x.d=="scl")bc.scale(x.h.x,x.h.y);bc.translate(Z,j);B=x._4}H=f.P.TX(bc);
C=this.WC(A,i,!0,H,a,u?L:null)}else if(x.d=="auto-align"){if(A.f.length<2){alert("Select two or more layers.");
return}var jK=[];for(var F=0;F<A.f.length;F++){var r=A.g[A.f[F]];if(!r.RC()&&r.add.SoLd==null){alert("Unsupported layer selected.");
return}if(r.rect.WT()){alert("Empty layer selected.");return}jK.push([r.buffer,r.rect])}var N=f.BF.Sb(jK,0);
if(N==null){alert("No similarity found.");return}H=N[1];var he=A.f;A.f=A.f.slice(1);C=this.WC(A,i,!1,N.slice(1),a);
A.f=he;L=A.root.mc(A,!0);B=[2,10,1]}var gJ=new av(0,0,A.m,A.n);if(!L.WT()&&(!L.S0(gJ)||C!=null)){var kg=new j$(B,this);
kg.data={aoV:A.um,Y1:D,Fg:C,tF:H,iS:Q.lv.GO(A,L,gJ,C!=null)};Q.lv.yv(A,kg.data,L);A.U7(kg);this.IR(kg.data,A)}};
Q.lv.GO=function(x,z,A,o){if(x.TY.length==0)return null;var i=JSON.stringify(x.TY),L=JSON.parse(i);Q.wV.a5N(L,z,A,o);
L=JSON.stringify(L);return[i,L]};Q.lv.prototype.WC=function(x,z,A,o,i,L){var B={g:[],Di:null,zV:null};
if(A){for(var F=0;F<x.g.length;F++)B.g.push(F);for(var F=0;F<x.Ds.length;F++)B.g.push(-1-F);for(var F=0;
F<x.lX.length;F++)B.g.push(-1e3-F)}else B.g=x.f.slice(0);B.Di=Q.S.sd(x,B.g,!0);Q.S.WX(x,z,B.g,B.Di,i,o,null,!0,L);
B.zV=Q.S.sd(x,B.g,!0);return B};Q.lv.prototype.IR=function(x,z){if(x.Y1)z.um=x.Y1;if(x.iS)z.TY=JSON.parse(x.iS[1]);
if(x.Fg){Q.lv.C_(z,f.P.eA(x.tF));Q.S.HB(z,x.Fg.g,x.Fg.zV)}Q.lv.oy(z,x)};Q.lv.prototype.a_=function(x,z){if(x.aoV)z.um=x.aoV;
if(x.iS)z.TY=JSON.parse(x.iS[0]);Q.lv.Cg(z,x);if(x.PR)z.t.u.rH(x.PR);z.arw();if(x.Fg){var A=f.P.eA(x.tF).clone();
A.Qs();Q.lv.C_(z,A);Q.S.HB(z,x.Fg.g,x.Fg.Di)}};Q.lv.C_=function(x,z){for(var F=0;F<x.g.length;F++){var A=x.g[F];
if(A.add.artb==null)continue;var o=f.p.Mm(A.nU()).v;f.p.D(o,z,o);var i=f.p.ke(o);A.T4(i)}};Q.lv.Ux=function(x){var z=new av,A=0,o=x.root.children.length;
for(var F=0;F<o;F++){var i=x.root.children[F].j;if(i.add.artb==null)continue;z=z.QM(i.nU());A++}var L=new av(0,0,x.m,x.n);
if(!z.WT()&&!L.S0(z)&&o==A)return z;return null};Q.lv.b0=function(x){var z=Q.lv.Ux(x);if(z)Q.lv.U8(x,z,!0);
return z};Q.lv.U8=function(x,z,A){var o=x.m,i=x.n,L=z.m,B=z.n,D=z.x==0&&z.y==0;if(D&&o==L&&i==B)return;
x.m=L;x.n=B;var Z=[];for(var F=0;F<x.g.length;F++)Z.push(F);if(!D)Q.R7.cL(x,Z,null,-z.x,-z.y);for(var F=0;
F<x.g.length;F++){x.g[F].cm(x)}x.arw();if(A){var j=x.t.u,a=x.t.X;j.x+=Math.round((z.x+(L-o)/2)*a);j.y+=Math.round((z.y+(B-i)/2)*a)}else x.t.u.Jt(0,0);
if(x.O)x.O.rect.offset(-z.x,-z.y);var b=x.OG();for(var W=0;W<b[0].length;W++)if(b[1][W]==-1){var c=x.sf[W];
c[1]-=c[0]==0?z.x:z.y}for(var F=0;F<x.lX.length;F++)x.lX[F].rect.offset(-z.x,-z.y)};Q.lv.prototype.Wr=function(x,z,A,o,i){if(x.Vn=="commit"){this.wy(A,i);
this.disable(A,z,null,o)}else if(x.Vn=="cancel"){this.disable(A,z,null,o)}var L=null,B=new av(0,0,A.m,A.n),D=this.bp.xp;
if(x.Vn=="config"){this.bp=x.bp;D=this.bp.xp;if(A==null||!x.acu)return;L=B;if(D.Q1==1){var Z=D.x/D.y;
if(L.m/Z<L.n)L.n=Math.round(L.m/Z);else L.m=Math.round(L.n*Z)}if(D.Q1==2){L.m=D.x;L.n=D.y}L.x=Math.round((A.m-L.m)/2);
L.y=Math.round((A.n-L.n)/2)}if(x.Vn=="straighten"){alert("Draw a line in the image.");this.iq=!0}if(x.Vn=="cropby"){if(A==null)return;
var j=x.awA,L;if(j==0)L=A.root.mc(A,!0);if(j==1){if(A.f.length==0)alert("No layer is selected.");else{var a=A.root.RX(A.f[0]);
L=a.mc(A,!0)}}if(j==2){if(A.f.length==0)alert("No layer is selected.");else{L=f.N1(A.MK(),B,0);if(L.WT())L=B.clone()}}if(j==3){if(A.O!=null)L=A.O.rect;
else alert("There is no selection.")}if(j==4){L=new av(0,0,A.m,A.n)}}if(L&&L.WT())L=null;if(L!=null){this.vf=this.mO(L,D.Q1!=0);
this.vf.KH(A,i);this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Nf:!0})}};Q.lv.prototype.wy=function(x,z){var A=this.vf.m9(),o=f.p.ke(A),i=this.acL(x,A),L=!1,B=this.bp.xp,D=this.bp.U8,Z=B.x,j=B.y,W;
if(this.id==Q.e_&&B.Q1==2&&i.$()!=Z*j){i=new av(i.x,i.y,Z,j);L=!0}var a=f.P.p0(A,i);a=f.P.Qs(a);var b=f.P.Vo(a),c=Math.atan2(a[3],a[0]);
if(Math.abs(c)>1e-9||!b||L||D)W=this.WC(x,z,!0,a,1,o);var Y=new j$(this.name,this),R=new av(0,0,x.m,x.n);
Y.data={Fg:W,tF:a,PR:x.t.u.clone(),iS:Q.lv.GO(x,i,R,!1)};Q.lv.yv(x,Y.data,i);x.U7(Y);this.IR(Y.data,x);
this.track(Q.lv.sh([o.x,o.y,o.m,o.n],null,D))};Q.lv.yv=function(x,z,A){if(A==null)return;z.rN=new av(0,0,x.m,x.n);
z.BP=A};Q.lv.oy=function(x,z){if(z.BP==null)return;Q.lv.U8(x,z.BP)};Q.lv.Cg=function(x,z){if(z.BP==null)return;
var A=z.rN.clone();A.offset(-z.BP.x,-z.BP.y);Q.lv.U8(x,A)};Q.lv.prototype.acL=function(x,z){var A=f.P.p0(z),o=f.P.Vo(A),i=f.P.eA(A),L=i.ZT,B=i._s,D=Math.atan2(i.s,i.xc);
i.rotate(D);var Z=new av(L,B,i.xc,i.y9);if(!o){function j(V,F,h){var l=V[F]-V[h],M=V[F+1]-V[h+1];return Math.sqrt(l*l+M*M)}var a=j(z,0,2),b=j(z,4,6),W=Math.max(a,b),c=j(z,2,4),Y=j(z,6,0),R=Math.max(c,Y),$=Q.lv.a27(z,x.m/2,x.n/2),k,w;
if(isNaN($)||$==Infinity||$==-Infinity||Math.min($,1/$)<.1)$=(a+b)/(c+Y);if(W/R>$){k=W*1;w=k/$}else{w=R*1;
k=w*$}Z.m=k;Z.n=w}Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);Z.m=Math.round(Z.m);Z.n=Math.round(Z.n);return Z};
Q.lv.a27=function(x,z,A){var o=x[0]-z,i=x[1]-A,L=x[2]-z,B=x[3]-A,D=x[6]-z,Z=x[7]-A,j=x[4]-z,a=x[5]-A,b=((i-a)*D-(o-j)*Z+o*a-i*j)/((B-a)*D-(L-j)*Z+L*a-B*j),W=((i-a)*L-(o-j)*B+o*a-i*j)/((Z-a)*L-(D-j)*B+D*a-Z*j),c=-((W*Z-i)*(b*B-i)+(W*D-o)*(b*L-o))/((W-1)*(b-1));
function Y($){return $*$}var R=Math.sqrt((Y(b-1)+Y(b*B-i)/c+Y(b*L-o)/c)/(Y(W-1)+Y(W*Z-i)/c+Y(W*D-o)/c));
if(b==1&&W==1)R=Math.sqrt((Y(B-i)+Y(L-o))/(Y(Z-i)+Y(D-o)));return R};Q.lv.prototype.disable=function(x,z,A,o){if(x==null)return;
if(this.vf)this.vf.clear(x);this.vf=null;this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Nf:!1})};Q.lv.prototype.bf=function(x,z,A,o){var i=new fZ(z,!0);
i.data=A;if(o)i.k=o;x.c(i)};Q.ux=function(){Q.lv.call(this,[10,2],Q.e_,"tools/rcrop")};Q.ux.prototype=new Q.lv;
Q.q6=function(){Q.lv.call(this,[10,39],Q.A3,"tools/pcrop")};Q.q6.prototype=new Q.lv;Q.Wc=function(){Q.sg.call(this,[10,21],Q.x3,"tools/dodge");
this.RJ="dodge"};Q.Wc.prototype=new Q.sg;Q.Wc.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,this.vQ.expo/Math.PI);
if(this.oq==null)return;this.sP(x)};Q.Wc.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.cr=function(){Q.sg.call(this,[10,3],Q.XR,"tools/eraser");
this.RJ="erase"};Q.cr.prototype=new Q.sg;Q.cr.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,this.vQ.flow);
if(this.oq==null)return;this.sP(x)};Q.cr.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;var L=this.Zo(x,A,o,i);this.sP(x)};Q.V1=function(){Q.sg.call(this,[10,45],Q.arx,"tools/beraser");
this.RJ="ierase"};Q.V1.prototype=new Q.sg;Q.V1.prototype.Xv=function(x,z,A,o,i){if(this.x0(o,z,i))return;
this.B2(x,A,o,i,this.vQ.flow);if(this.oq==null)return;this.sP(x)};Q.V1.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.bT=function(){Q.BO.call(this,[10,15],Q.dz,"tools/rselect");
this.EF="crosshair"};Q.bT.prototype=new Q.BO;Q.bT.prototype.ss=function(x,z,A,o){if(!o.z0||!this.ui)return;
var i=this.mc(x,A,!0);x.G.PK=f.p.Mm(i);x.o$=!0;Q.He.uz(o,i,x,z)};Q.bT.prototype.rP=function(x,z,A,o){x.G.PK=null;
x.G.ey=[];x.o$=!0;this.finish(x,z,A,o)};Q.bT.prototype.getSelection=function(x,z,A,o){if(this.YH.S0(this.fl)||!this.ui)return null;
var i=this.mc(x,A,!0);if(i.WT())return null;return Q.BO.uX("Rctn",i,this.vQ.anta)};Q.Ks=function(){Q.BO.call(this,[10,4],Q.ag6,"tools/eselect");
this.EF="crosshair"};Q.Ks.prototype=new Q.BO;Q.Ks.prototype.ss=function(x,z,A,o){if(!o.z0||!this.ui)return;
var i=this.mc(x,A);x.G.PK=Q.Ks.mQ(i);x.o$=!0;Q.He.uz(o,i,x,z)};Q.Ks.prototype.rP=function(x,z,A,o){x.G.PK=null;
x.G.ey=[];x.o$=!0;this.finish(x,z,A,o)};Q.Ks.prototype.getSelection=function(x,z,A,o){if(this.YH.S0(this.fl)||!this.ui)return null;
var i=this.mc(x,A);if(!i.$X(new av(0,0,x.m,x.n)))return null;return Q.BO.uX("Elps",i,this.vQ.anta)};
Q.Ks.mQ=function(x){var z=x.x,A=x.y,o=x.x+x.m,i=x.y+x.n,L=(z+o)/2,B=(A+i)/2,D=(z-o)/2,Z=(A-i)/2,j=.5522848,a={v:[L,B-Z],F:["M","C","C","C","C"]};
a.v.push(L+j*D,B-Z,L+D,B-j*Z,L+D,B);a.v.push(L+D,B+j*Z,L+j*D,B+Z,L,B+Z);a.v.push(L-j*D,B+Z,L-D,B+j*Z,L-D,B);
a.v.push(L-D,B-j*Z,L-j*D,B-Z,L,B-Z);return a};Q.S5=function(x){Q.He.call(this,[10,5],x?Q.C8:Q.ag,"tools/eyedropper");
this.QD=null;this.XX=0;this.be=null;this.y8=1;this.yZ=2;this.a1l=!0;this.GT=!1};Q.S5.prototype=new Q.He;
Q.S5.prototype.V5=function(x){return x.z0};Q.S5.prototype.A1=function(x,z,A,o,i){if(x.d=="pickhere")this.C5(A,z,i,null,x.aqJ);
if(x.d=="supertool")this.QD=x.k};Q.S5.prototype.Xv=function(x,z,A,o,i){var L=this.QD;if(L){L.Xv(x,z,A,o,i);
return}this.XX=A.VJ;this.be=i;var B=this.C5(x,null,A,o,i);this.k2(x,z,B,i)};Q.S5.prototype.Dg=function(x,z,A,o,i){var L=this.QD;
if(L){L.Dg(x,z,A,o,i);return}var B=this.be;if(B){var D=i.x-B.x,Z=i.y-B.y,j=1,a=new iL(B.x+D*j,B.y+Z*j),b=this.C5(x,null,A,o,a);
this.k2(x,z,b,a,new iL(D*(1-j),Z*(1-j)))}};Q.S5.prototype.k2=function(x,z,A,o,i){var L=this.a1l,B=this.GT,j=12,a=11;
if(x.t.X>4)B=!1;if(!B&&!L)return;if(i==null)i=new iL(0,0);var D=new av(0,0,x.m,x.n),Z=x.MK(),b=(j*2+1)*a,W=new iL(b/2,b/2),c=new av(0,0,b,b),Y=f.C(c.$()*4),R=x.t.Sd(o.x,o.y),$=Math.floor(R.x),k=Math.floor(R.y),w=new cb;
w.scale(1/a,1/a);w.translate($-j,k-j);if(B)f.scale.et(Z,D,w,Y,c);var V=(j-3.4)*a,h=(j-1.7)*a,l=j*a;for(var M=0;
M<b;M++)for(var q=0;q<b;q++){var t=iL.Or(new iL(q,M),W);if(t>V){if(L){var p=Math.max(0,V-t+1),E=(M*b+q)*4,_=Y[E+3]<<24|Y[E]<<16|Y[E+1]<<8|Y[E+2],S=255<<24|(M<l+a*.5?A:this.XX);
if(t>h){p=Math.max(0,h-t+1);_=S;S=4286611584}else if(!B){_=S&16777215}Y[E+0]=(1-p)*(S>>>16&255)+p*(_>>>16&255);
Y[E+1]=(1-p)*(S>>>8&255)+p*(_>>>8&255);Y[E+2]=(1-p)*(S>>>0&255)+p*(_>>>0&255);Y[E+3]=(1-p)*(S>>>24&255)+p*(_>>>24&255)}if(t>l){Y[(M*b+q)*4+3]=Math.max(0,255*(l-t+1))}}}function y(F){var H=F<<2;
Y[H]=0;Y[H+1]=0;Y[H+2]=0;Y[H+3]=255}function v(F){var H=F<<2;Y[H]=255;Y[H+1]=255;Y[H+2]=255;Y[H+3]=255}var r=this.y8*a+2,K=b-r>>>1,s=K+r-1;
if(B&&r<b)for(var F=0;F<r;F++){var P=K*b+K+F,d=s*b+K+F,X=(K+F)*b+K,U=(K+F)*b+s;y(P);y(d);y(X);y(U);if(F!=0&&F!=r-1){v(P+b);
v(d-b);v(X+1);v(U-1)}}if(!B)for(var F=-9;F<=9;F++){if(-3<F&&F<3)continue;var n=b>>>1,q=n*b+n+F,M=(n+F)*b+n;
v(q-b);y(q);v(q+b);v(M-1);y(M);v(M+1)}var e=Q.He.Kw(0,0,["#"+f.Ng(A),"RGB "+(A>>>16&255)+","+(A>>>8&255)+","+(A>>>0&255)]),D=e[1];
D.y=0;D.x=b-D.m>>>1;f.mV(e[0],D,Y,c);var J={Fe:Y,G8:c,d1:new iL(W.x+i.x,W.y+i.y)},C=new fZ(G.E.Y,!0);
C.data={d:G.U.sy,OU:J};z.c(C)};Q.S5.prototype.V4=function(x,z,A,o,i,L){this.C5(x,z,A,o,i);var B=this.QD;
if(B){B.V4(x,z,A,o,i);return}if(this.be){this.be=null;if(L)this.C5(x,z,A,o,i,this.XX);var D=new fZ(G.E.Y,!0);
D.data={d:G.U.sy,OU:"default"};z.c(D)}};Q.S5.prototype.C5=function(x,z,A,o,i,L){if(L==null)L=Q.S5.Sh(x,i,this.y8,this.yZ);
var B=new fZ(G.E.Y);B.data={d:G.U.nF,Hl:cu.NV,wa:o&&o.A(bJ.yU)?1:0,h:L};if(z)z.c(B);return L};Q.S5.Sh=function(x,z,A,o){if(o==null)o=2;
var i=x.t.Sd(z.x,z.y),L,B,D=x.f.length==1&&x.g[x.f[0]].ZD>0,Z=x.CE.length!=0,h=0,l=0,M=0;if(D||Z){var j;
if(Z)j=x.lX[x.CE[0]];else{var a=x.g[x.f[0]];j=a.ZD==1?a.dP():a.at_()}B=j.mc();if(!B.Td(i))return j.color==0?0:16777215;
L=f.C(B.$()*4);L.fill(255);var b=j.JG();f.c3(b,L)}else if(o==0&&x.f.length!=0){var a=x.g[x.f[0]];L=a.buffer;
B=a.rect}else{L=o==2?x.MK():x.MK(x.f[0]);B=new av(0,0,x.m,x.n)}var W=Math.floor(i.x)-B.x,c=Math.floor(i.y)-B.y,Y=(A-1)/2,R=Math.max(0,W-Y),$=Math.max(0,c-Y),k=Math.min(B.m,W+Y+1),w=Math.min(B.n,c+Y+1),V=(k-R)*(w-$);
for(var W=R;W<k;W++)for(var c=$;c<w;c++){var F=4*(c*B.m+W);h+=L[F];l+=L[F+1];M+=L[F+2]}h=Math.round(h/V);
l=Math.round(l/V);M=Math.round(M/V);return h<<16|l<<8|M};Q.S5.prototype.Wr=function(x){var z=x.vQ;this.y8=[1,3,5,11,31][z[0]];
this.yZ=z[1];this.a1l=z[2];this.GT=z[3]};Q.Bx=function(){Q.He.call(this,[10,6],Q.ajP,"tools/gradient");
this.vQ={Q:JSON.parse(gN.VQ.atd).v,tz:"Lnr",j1:!1,ajC:!1,a7Y:"norm",pg:1};this.D8=!1;this.l9=null};Q.Bx.prototype=new Q.He;
Q.Bx.prototype.enable=function(x,z,A,o){var i=new fZ(G.E.Y,!0);i.data={d:G.U.sy,OU:"default"};z.c(i)};
Q.Bx.prototype.Wr=function(x){this.vQ=x.Hl};Q.Bx.prototype.Xv=function(x,z,A,o,i){if(!x.Qi())return;
this.l9=x.t.Sd(i.x,i.y);this.l9=Q.R7.EX(x,this.l9,A);this.D8=!0};Q.Bx.prototype.Dg=function(x,z,A,o,i){if(!this.D8)return;
var L=x.t.Sd(i.x,i.y);L=Q.R7.EX(x,L,A);if(o.A(bJ.xb))L=Q.Bx.i5(this.l9,L);x.G.PK={v:[this.l9.x,this.l9.y,L.x,L.y],F:["M","L"]};
x.G.XF=[this.l9.x,this.l9.y,L.x,L.y];x.o$=!0};Q.Bx.prototype.V4=function(x,z,A,o,i){if(!this.D8)return;
var L=x.g[x.f[0]],B=x.t.Sd(i.x,i.y);B=Q.R7.EX(x,B,A);if(o.A(bJ.xb))B=Q.Bx.i5(this.l9,B);var D=B.Vx(this.l9),Z=iL.Uf(this.l9,B,.5),j=Math.atan2(D.y,D.x),a=iL.Or(this.l9,B),b=Math.sin(j),W=Math.cos(j);
if(a>2){var c;if(x.O)c=x.O.rect;else c=new av(0,0,x.m,x.n);var Y=f.C(c.$()*4),R=this.vQ,$=R.tz;if($!="Lnr"){a*=2;
Z=this.l9}f.Q.aS(R.Q,Y,c,[W*1/a,b*1/a,-b*1/a,W*1/a],Z.x,Z.y,R.j1,gN.Q.types.indexOf($),A.VJ,A.GN,null,R.ajC);
var k=Math.round(R.pg*256),w=Y.length;if(k!=256)for(var F=0;F<w;F+=4)Y[F+3]=Y[F+3]*k>>>8;var V=new fZ(G.E.r);
V.k=Q.XR;V.data={d:"fillBMP",H1:Y,ul:R.a7Y,_4:this.name};z.c(V)}x.G.PK=null;x.G.XF=[];x.o$=!0;this.D8=!1};
Q.Bx.i5=function(x,z){if(x.S0(z))return x;var A=z.x-x.x,o=z.y-x.y,i=Math.abs(A),L=Math.abs(o);if(i>L)L=i/2>L?0:i;
if(L>i)i=L/2>i?0:L;i=A>0?i:-i;L=o>0?L:-L;var B=Math.sqrt(A*A+o*o)/Math.sqrt(i*i+L*L);return new iL(x.x+i*B,x.y+L*B)};
Q.Bx.p2=function(x,z,A,o,i,L,B){if(B==null)B=document.createElement("canvas");var D=B.getContext("2d");
B.width=z;B.height=A;var Z=new av(0,0,z,A),j=f.C(z*A*4);f.ar(j,z,A,4);var a=Math.sin(o),b=Math.cos(o),W=f.C(z*A*4);
f.Q.aS(x,W,Z,[b*1/z,a*1/z,-a*1/A,b*1/A],z/2,A/2,!1,0,i,L);f.q.lx("norm",W,Z,j,Z,Z,1);var c=D.getImageData(0,0,z,A);
f.Yy(j,c.data);D.putImageData(c,0,0);return B.toDataURL()};Q.Bx.aht=function(x,z,A){var o=JSON.parse(JSON.stringify(x));
if(o.Clrs)for(var F=0;F<o.Clrs.v.length;F++){var i=o.Clrs.v[F].v,L=i.Type.v.Clry;if(L=="UsrS")continue;
var B=L=="FrgC"?z:A;i.Type.v.Clry="UsrS";i.Clr={t:"Objc",v:f.Q.Vv({w:B>>16&255,a:B>>8&255,s:B&255})}}return o};
Q.TC=function(){Q.He.call(this,[10,7],Q.RF,"tools/hand");this.be=new iL(0,0);this.hW=null;this.rV=0};
Q.TC.prototype=new Q.He;Q.TC.prototype.A1=function(x,z,A,o,i){var L=x.d;if(L=="setcls"){A.t.u1=x.u1;
A.o$=!0;A.Gy=!0}if(L=="scroll"&&!o.A(bJ.yU)){if(o.A(bJ.RI))Q.TC.ix(A,A.t.u.x-x.I0.y,A.t.u.y-x.I0.x);
else Q.TC.ix(A,A.t.u.x-x.I0.x,A.t.u.y-x.I0.y)}};Q.TC.prototype.enable=function(x,z,A,o){this.hW=null;
var i=new fZ(G.E.Y,!0);i.data={d:G.U.sy,OU:"grab"};z.c(i);if(x&&Date.now()-this.rV<300){i.type=G.E.r;
i.k=Q.WQ;i.data={d:"adapt",h:"fitscr"};z.c(i)}this.rV=Date.now()};Q.TC.prototype.Xv=function(x,z,A,o,i){this.hW=x.t.u.clone();
this.be.Jt(i.x,i.y)};Q.TC.prototype.Dg=function(x,z,A,o,i){if(!i.z0)return;if(this.hW==null)this.Xv(x,z,A,o,i);
Q.TC.ix(x,this.hW.x+(i.x-this.be.x),this.hW.y+(i.y-this.be.y))};Q.TC.prototype.V4=function(x,z,A,o,i){this.hW=null};
Q.TC.ix=function(x,z,A){var o=x.t.X,i=x.t.VK,L=i.m,B=i.n,D=x.m*o,Z=x.n*o,j=D<L&&Z<B,a=L/2+D/2-64,b=B/2+Z/2-64;
x.t.u.Jt(Math.max(-a,Math.min(a,z)),Math.max(-b,Math.min(b,A)));x.Gy=!0};Q.n3=function(){Q.He.call(this,[10,47],Q.k6,"tools/rview");
this.be=new iL(0,0);this.ps=null;this.a3m=null;this.rV=0};Q.n3.prototype=new Q.He;Q.n3.prototype.enable=function(x,z,A,o){this.hW=null;
var i=new fZ(G.E.Y,!0);i.data={d:G.U.sy,OU:"grab"};z.c(i);if(x&&Date.now()-this.rV<300&&x.t.Yp!=0){x.t.Yp=0;
x.o$=!0}this.rV=Date.now();if(x)this.q0(x,z)};Q.n3.prototype.disable=function(x,z,A,o,i){if(x)this.q0(x,z)};
Q.n3.prototype.g$=function(x,z,A,o){if(x)this.q0(x,z)};Q.n3.prototype.Xv=function(x,z,A,o,i){this.be.Jt(i.x,i.y);
var L=x.t;this.ps=L.Sd(L.VK.m/2,L.VK.n/2);this.a3m=L.$f()};Q.n3.prototype.Dg=function(x,z,A,o,i){if(!i.z0)return;
var L=x.t,B=this.ps,D=this.be,Z=new iL(L.VK.m/2,L.VK.n/2),j=Math.atan2(i.y-Z.y,i.x-Z.x),a=Math.atan2(D.y-Z.y,D.x-Z.x);
this.QB(x,z,this.a3m.clone(),B,j-a)};Q.n3.prototype.Wr=function(x,z,A,o){this.QB(A,z,null,null,x.TG-A.t.Yp);
A.t.Yp=x.TG};Q.n3.prototype.QB=function(x,z,A,o,i){var L=x.t;if(A==null)A=L.$f();if(o==null)o=L.Sd(L.VK.m/2,L.VK.n/2);
A.translate(-o.x,-o.y);A.rotate(i);A.translate(o.x,o.y);L.auA(A);if(x.m*L.X<L.VK.m&&x.n*L.X<L.VK.n)L.u.Jt(0,0);
x.o$=!0;this.q0(x,z)};Q.n3.prototype.q0=function(x,z){var A=new fZ(G.E.Y,!0);A.data={d:G.U.HU,k:this.id,TG:x.t.Yp};
z.c(A)};Q.sG=function(){Q.hl.call(this,[10,25],Q.vi,"tools/hbrush")};Q.sG.prototype=new Q.hl("");Q.sG.prototype.V4=function(x,z,A,o,i){if(this.oq==null)return;
this.AU(x,"heal",this.oq.Nt(),this.oq.mc(),this.oq.Ig());this.i(x,this.oq.Ig());Q.sg.prototype.V4.call(this,x,z,A,o,i);
if(!this.vQ.algnd)this.u=null};Q.FK=function(x){Q.He.call(this,x?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],x?Q._Q:Q.Mb,x?"tools/vtype":"tools/htype");
this.yG=[];this.DL=null;this.caller=null;this.q8=1;this.Ac=null;this.ajs=0;this.N0=0;this.ajz=null;this.js=null;
this.aT=null;this.kz=null;this.vv=null;this.DQ=null;this.awG=null;this.VU=null;this.vf=null;this.An=null;
this.acU=null;this.W0=!1;this.kO=!1;this.qm=!1;this.qe=null;this.KQ=null;this.ag3=null;this.Xi=!1;this.jb=!1;
this.DA=-1;this.ZP=-1;this.YD=document.createElement("textarea");this.YD.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.YD.addEventListener("input",this.HD.bind(this),!1);this.YD.addEventListener("keydown",this.aqm.bind(this),!1);
this.YD.addEventListener("keyup",this.a0D.bind(this),!1);var z=function(A){A.stopPropagation()};this.YD.addEventListener("keydown",z,!1);
this.YD.addEventListener("keyup",z,!1)};Q.FK.prototype=new Q.He;Q.FK.prototype.V5=function(x){return x.z0};
Q.FK.prototype.Nu=function(x,z,A,o){if(this.aT!=null||this.id==Q._Q)return;this.caller=z;var i=this.Z7(x);
if(i.length!=0){var L=null,B=[],D=[];for(var F=0;F<i.length;F++){var Z=x.g[i[F]],j=Z.add.TySh,a=0,b=am.FP(j.gP).length-2,W=am.En(j.gP,a,b);
am.Gp(W,Q.S._q(j.D));if(W.i8.Font!=null)W.i8.Font=W.Cr[W.i8.Font].Name;L=W.Cr;B.push(W.i8);D.push(W.tl)}var W={Cr:L,i8:am.a7(B),tl:am.a7(D)};
if(W.i8.Font!=null)am.Lk(W,W.i8.Font);this.vL(z,W,j)}};Q.FK.prototype.Z7=function(x){var z=[];for(var F=0;
F<x.f.length;F++)if(x.g[x.f[F]]&&x.g[x.f[F]].add.TySh)z.push(x.f[F]);return z};Q.FK.prototype.A1=function(x,z,A,o,i){var L=x.d=="insertGlyph";
if((L||x.d=="insertText")&&this.aT){var B=L?String.fromCharCode(65533):x.h,D=this.YD,Z=D.value,j=D.selectionStart,a=D.selectionEnd;
D.value=Z.slice(0,j)+B+Z.slice(a);D.selectionStart=D.selectionEnd=j+B.length;this.HD(null,L?x.h:null);
D.focus()}if(x.d=="updateStyles"){if(this.aT==null){var b=this.Z7(A),W=!1;if(b.length!=0){this.ZW(A,z,i,b);
for(var F=0;F<b.length;F++){var c=A.g[b[F]],Y=c.add.TySh;am.Q4(Y,this.q8);this.aT=c;var R=am.FP(Y.gP);
this.DA=0;this.ZP=R.length-1;am.zz(Y.gP,this.DA,this.ZP,this.gd(i,Y));var $=this.zl(A,i);if($==!1)W=!0}if(W){this.Xi=!0;
return}this.Ga(A,z)}return}this.CT(i)}if(x.d.startsWith("warp")){var k=this.jb;if(x.d=="warp"||x.d=="warpCancel"){if(this.aT==null)return;
if(x.d=="warp")this.aT.add.TySh.rK=x.qK;else this.aT.add.TySh.rK=this.awG;this.zl(A,i);if(!k)this.PB(A)}if(x.d!="warp")this.YD.focus();
if((x.d=="warpConfirm"||x.d=="warpCancel")&&k){this.jb=!1;if(x.d=="warpConfirm")this.Ga(A,z);else this.oG(A,z)}}if(x.d=="editCurr"){if(i.YC!=Q.Mb){this.Ac=i.YC;
var w=new fZ(G.E.Y,!0);w.data={d:G.U.hV,k:Q.Mb};z.c(w)}if(this.aT!=null)this.disable(A,z,i,o);this.DL=i;
this.caller=z;this.ZW(A,z,i,[x.IP]);var R=am.FP(this.aT.add.TySh.gP);this.DA=0;this.ZP=R.length-1;this.PB(A);
this.B$();this.YD.focus()}if(x.d=="switchPntPrgr"){if(this.aT)return;var c=A.g[A.f[0]],Y=c.add.TySh,V=Y.D._q(),h=JSON.parse(JSON.stringify(Y.gP)),l=am.dC(h),M=l==1?am.iA(h):[0,0,Math.round(c.rect.m*1.05/V),Math.round(c.rect.n*1.25/V)],q=am.En(h,0,0),t=q.Cr[q.i8.Font].Name,p=i.P2.iY(t),E=[0,M[2],M[2]/2][q.tl.Justification%3],_=p?ah.Gc(p,t,q.i8):q.i8.FontSize*.8;
am.cn(h,1-l);if(l==0){E=-E;_=-_;am.Lf(h,[0,0,M[2],M[3]])}var S=new cb(1,0,0,1,E,_);S.concat(Y.D);this.A1({XC:A.f[0],d:"newED",M6:h,D:S,a3q:[16,3,l==1?0:1]},z,A,o,i)}if(x.d=="newED"){var c=A.g[x.XC],Y=c.add.TySh,y=this.eK(A,[x.XC]);
Y.gP=x.M6;if(x.D)Y.D=x.D;var v=new ah(Y.gP,i.P2),r=g3.X4(v,Y);c.rect=r.G8;c.buffer=r.ov;c.i();A.i();
var K=new j$(x.a3q?x.a3q:this.name,this);K.data={h5:y,L6:this.eK(A,[x.XC])};A.U7(K)}if(x.d=="fromAction"){var s=x.hz.k7.Usng.v,P=s.TxtC.v,d=[];
for(var F=0;F<2;F++){var X=P[F==0?"Hrzn":"Vrtc"].v,B=X.val;if(X.type=="#Prc")B=(F==0?A.m:A.n)*(B/100);
d[F]=B}this.Y4(A,z,i,o,A.t.ay(d[0],d[1]));var c=A.g[A.f[0]],Y=c.add.TySh,U=Y.gP,Z=am.FP(U);am.vx(U,0,Z.length-1);
am.tW(U,0,s.Txt.v.replace(/\r/g,"\n"));Z=am.FP(U);for(var l=0;l<2;l++){var n=s[l==0?"Txtt":"paragraphStyleRange"].v;
for(var F=0;F<n.length;F++){var e=n[F].v,j=e.From.v,a=Math.min(e.T.v-1,Z.length-1);e=e[l==0?"TxtS":"paragraphStyle"].v;
var J=am.En(U,j,a),C=l==0?J.i8:J.tl;for(var H in e){var u=e[H].v;if(H=="Sz")C.FontSize=Math.round(u.val);
else if(H=="fontPostScriptName")am.Lk(J,u);else if(H=="Algn")C.Justification={Left:1,Cntr:2}[u.Alg];
else if(H=="leading")C.Leading=e[H].v.val;else if(H=="baselineShift")C.BaselineShift=e[H].v.val;else if(H=="autoLeading")C.AutoLeading=e[H].v;
else if(H=="syntheticBold")C.FauxBold=e[H].v;else if(H=="syntheticItalic")C.FauxItalic=e[H].v;else if(H=="Trck")C.Tracking=e[H].v;
else if(H=="verticalScale")C.VerticalScale=e[H].v/100;else if(H=="horizontalScale")C.HorizontalScale=e[H].v/100;
else if(H=="Clr")C.FillColor={Type:1,Values:[1,u.Rd.v/255,u.Grn.v/255,u.Bl.v/255]}}am.zz(U,j,a,J)}}var v=new ah(Y.gP,i.P2),r=g3.X4(v,Y);
c.rect=r.G8;c.buffer=r.ov;c.i();A.i();this.Ga(A,z)}};Q.FK.prototype.CT=function(x){var z=Math.min(this.DA,this.ZP),A=Math.max(this.DA,this.ZP),o=this.aT.add.TySh;
am.Q4(o,this.q8);am.zz(o.gP,z,A-1,this.gd(x,o));var i=this.caller.Bm(),L=this.zl(i,x);if(L)this.PB(i);
if(document.activeElement.tagName.toLowerCase()!="input")this.YD.focus()};Q.FK.prototype.WU=function(x){return this.yG.indexOf(x)!=-1};
Q.FK.prototype.enable=function(x,z,A,o){var i=this.YD;z.e.appendChild(i);this.VU="default";this.k2(z)};
Q.FK.prototype.wn=function(){return this.aT!=null};Q.FK.Ak=function(x,z){for(var F=x.g.length-1;F>=0;
F--){var A=x.g[F];if(A.add.TySh&&A.rect.Td(z)&&x.aau(F)){var o=A.bb(2)||A.bb(31);return o?-2:F}}return-1};
Q.FK.prototype.Xv=function(x,z,A,o,i){this.DL=A;this.caller=z;var L=x.t.Sd(i.x,i.y),B=this.aT==null;
if(B){var D=Q.FK.Ak(x,L);if(D==-2){alert(kc.get([6,57,0]));return}if(D>=0&&!o.A(bJ.xb)){if(!g3.gj(x.g[D].add.TySh,A.P2,z)){alert("Fonts not loaded yet");
return}this.ZW(x,z,A,[D])}else{this.qm=!0;this.qe=i;return}}var Z=B?-1:am.dC(this.aT.add.TySh.gP),j=this.An?this.An:this.vf;
if(j&&j.Xv(x,A,o,L,null,null,i)&&f.qK.h8(this.aT.add.TySh.rK)||!B&&f.p.on(L,this.aT.rect)>20/x.t.X&&(Z==0||Z==1)){this.W0=!0;
this.KQ=L;this.ag3=this.aT.add.TySh.D.clone();if(this.DA==-1&&this.ZP==-1)this.DA=this.ZP=this.Xs(L)}else{if(this.vv==null){alert("Fonts not loaded yet");
return}this.kO=!0;this.DA=this.ZP=this.Xs(L);var a=Date.now();if(a-this.ajs>300)this.N0=0;this.N0++;
this.ajs=a;if(this.N0==2)this.amf();if(this.N0==3)this.a0N();if(this.N0>1){this.kO=!1}}this.B$();this.PB(x)};
Q.FK.prototype.ZW=function(x,z,A,o){var i=x.g[o[0]];this.aT=i;this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Vn:"showactive"});
this.kz=o;x.f=o.slice(0);x.Tr();x.We=!0;this.DQ=this.eK(x,o);this.I_(i.add.TySh);this.zl(x,A)};Q.FK.prototype.I_=function(x){if(am.dC(x.gP)!=1)return;
var z=am.iA(x.gP);z=new av(0,0,z[2]-z[0],z[3]-z[1]);var A=[z.x,z.y,z.x+z.m,z.y,z.x+z.m,z.y+z.n,z.x,z.y+z.n];
f.p.D(A,x.D,A);this.vf=new ig(A,!1,!1,!1,!0)};Q.FK.prototype.amf=function(){var x=am.FP(this.aT.add.TySh.gP);
this.DA=this.f8(x,this.DA);this.ZP=this.Pe(x,this.DA)};Q.FK.prototype.f8=function(x,z){var A=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",o=[];
for(var F=0;F<A.length;F++)o.push(A.charAt(F));var i=o.indexOf(x[z])==-1?!0:!1;for(var F=z-1;F>=0;F--)if(o.indexOf(x.charAt(F))!=-1==i)return F+1;
return 0};Q.FK.prototype.Pe=function(x,z){var A=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",o=[];for(var F=0;
F<A.length;F++)o.push(A.charAt(F));var i=o.indexOf(x[z])==-1?!0:!1;for(var F=z+1;F<x.length;F++)if(o.indexOf(x.charAt(F))!=-1==i)return F;
return x.length-1};Q.FK.prototype.a0N=function(){var x=this.vv.auc(this.DA);this.DA=x[0];this.ZP=x[1]};
Q.FK.prototype.k2=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.sy,OU:this.VU};x.c(z)};Q.FK.prototype.Dg=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=this.aT;
if(!i.z0){var D="default",Z=this.vf,j=this.An?this.An:Z;if(j&&f.qK.h8(B.add.TySh.rK)){var a=j.El(L,x.t.X,null,i);
if(a)D=a;else if(j==Z&&Z.xA(L))D="text"}else if(B&&f.p.on(L,B.rect)>20/x.t.X)D="move";else if(Q.FK.Ak(x,L)>=0)D="text";
if(D!=this.VU){this.VU=D;this.k2(z)}}var b=this.qe;if(this.qm&&Math.min(i.x-b.x,i.y-b.y)>4/x.t.X){this.qm=!1;
this.Y4(x,z,A,o,i);B=this.aT;this.W0=!0;this.vf=new ig(null,!1,!1,!1,!0);var W=x.t.Sd(this.qe.x,this.qe.y);
W.x=Math.round(W.x);W.y=Math.round(W.y);this.vf.Xv(x,A,o,W,null,null,i)}if(this.W0){var c=B.add.TySh;
if(this.An){this.An.Dg(x,A,o,L);var Y=f.P.eA(f.P.p0(this.An.m9(),this.acU));c.D=Y;this.zl(x,A);am.AA(c)}else if(this.vf){this.vf.Dg(x,A,o,L);
var R=c.D.clone(),$=Math.atan2(R.s,R.xc);R.rotate($);var Y=f.P.eA(f.P.p0(this.vf.m9())),k=Math.atan2(Y.s,Y.xc);
Y.rotate(k);if(!isNaN(Y.xc)&&Y.xc*Y.y9-Y.s*Y.Pm!=0){var w=new av(0,0,Y.xc/R.xc,Y.y9/R.y9),V=Math.round(w.m),h=Math.round(w.n),l=c.gP.Curve;
if(l){var M=am.iA(c.gP),q=new cb(V/M[2],0,0,h/M[3],0,0);f.p.D(l.Points,q,l.Points);am.AA(c)}am.Lf(c.gP,[0,0,V,h]);
c.D=f.P.eA(f.P.p0(this.vf.m9(),w));this.zl(x,A);am.AA(c)}}else{var t=L.x-this.KQ.x,p=L.y-this.KQ.y;c.D=this.ag3.clone();
var E=new iL(c.D.ZT+t,c.D._s+p);E=Q.R7.EX(x,E,A);c.D.ZT=E.x;c.D._s=E.y;this.zl(x,A)}}if(this.kO)this.ZP=this.Xs(L);
if(this.W0||this.kO)this.PB(x)};Q.FK.prototype.Y4=function(x,z,A,o,i){var L=x.Dd(),B=L[0],D=L[1],Z=x.Ad();
Z.add.lnsr="rend";var j=x.g.slice(0);Z.rk("Text layer "+j.length);this.aT=Z;var a=x.f.length==0?x.g.length-1:x.f[x.f.length-1],b=a+1;
if(j[a].add.lsct==hF.X7)b--;this.DQ={Ms:j.slice(0),rl:x.f.slice(0)};j.splice(b,0,Z);x.f=[b];this.DA=this.ZP=0;
x.Wi(j);this.DQ.xd=j.slice(0);this.DQ.Bp=x.f.slice(0);this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Vn:"showactive"});
var W=x.t.Sd(i.x,i.y),c=A.u5;console.log(c);if(this.id==Q._Q){c=JSON.parse(JSON.stringify(c));c.i8.BaselineDirection=1}Z.add.TySh=am.P9(W.x,W.y,c);
var Y=Z.add.TySh,R=Y.gP;if(this.id==Q._Q)R._LineOrientation=2;am.Q4(Y,this.q8);if(i.z0)am.cn(R,1);else{am.cn(R,0);
var $=B[D.pop()],k=$?$.add.vmsk:null;if(k&&!o.A(bJ.xb)){k=k.clone();var w=k._,h,l;for(var F=0;F<w.length;
F++)if(w[F].qh!=null)w[F].qh=0;var V=5/x.t.X;h=f.J.Qd(k._,W,!0,V);if(h.dD==-1)h=f.J.Qd(k._,W);if(h.dD!=-1){am.cn(R,1);
var M=f.J.MB(w,h.dD),q=f.J.Mr(w,h.dD)-1;w=k._=w.slice(0,2).concat(w.slice(M,M+q+1));k.f=[];Y.add={vmsk:k,vogk:g.Az(w)};
R.Curve={};am.vN(Y);if(h.So!=null){var t=ah.nG(R.Curve);f.p.D(t[0],Y.D,t[0]);var p=f.p.IE(t[0],W.x,W.y),E=A.u5.tl.Justification;
if(E==2||E==5){var _=(t[2][p]+t[3]*.5)%t[3];p=ah.O9(_,t[2])}var S=t[1][p];S=S%q;k.qX=[S,S];am.vN(Y)}else this.I_(Y)}}}return Z};
Q.FK.prototype.V4=function(x,z,A,o,i,L){if(L){this.qm=!1;return}if(this.aT==null&&!this.qm)return;var B=x.t.Sd(i.x,i.y),D=this.qm;
if(this.qm){this.qm=!1;this.Y4(x,z,A,o,i);this.kO=!0}if(this.W0||this.kO){this.PB(x);this.B$();if(D)this.CT(A)}if(this.W0&&this.vf)this.vf.V4(x,A,o,B);
this.W0=this.kO=!1;this.YD.focus()};Q.FK.prototype.B$=function(){var x=this.aT.add.TySh,z=Math.min(this.DA,this.ZP),A=Math.max(this.DA,this.ZP),o,i;
if(z==A){var L=am.FP(x.gP);if(z==0||L.charAt(z-1)=="\n")o=i=z;else o=i=z-1}else{o=z;i=A-1}var B=am.En(x.gP,o,i);
am.Gp(B,Q.S._q(x.D));this.vL(this.caller,B,x)};Q.FK.prototype.vL=function(x,z,A){this.bf(x,G.E.Y,{d:G.U.nF,Hl:cu.Qx,u5:z});
var o=this.q8=am.Mt(A);this.bf(this.caller,G.E.Y,{d:G.U.HU,k:this.id,Vn:"changeAA",NI:o})};Q.FK.prototype.Jy=function(){var x=this.aT;
if(x&&!this.W0&&this.An!=null){var z=this.caller.Bm();this.An.V4(z,this.DL,null,null);this.An=null;this.I_(x.add.TySh);
this.PB(z)}};Q.FK.prototype.disable=function(x,z,A,o){var i=this.aT;this.Ga(x,z)};Q.FK.prototype.Wr=function(x,z,A,o,i){if(this.jb)return;
if(x.Vn=="commit")this.Ga(A,z);if(x.Vn=="cancel")this.oG(A,z);if(x.Vn=="changeAA"){this.q8=x.NI;if(A!=null)this.A1({d:"updateStyles"},z,A,o,i)}if(x.Vn=="showwarp"){if(A==null)return;
if(this.aT==null){var L=A.g[A.f[0]],B=L.add.TySh;if(B==null)return;this.ZW(A,z,i,[A.f[0]]);this.YD.focus();
this.jb=!0}this.awG=this.aT.add.TySh.rK;var D=new fZ(G.E.Y,!0);D.data={d:G.U.z1,ca:"textwarp"};z.c(D)}};
Q.FK.prototype.wB=function(x,z){if(z!=cu.Oc)return;if(this.Xi){this.Xi=!1;var A=this.caller.Bm(),o=this.kz;
for(var F=0;F<o.length;F++){this.aT=A.g[o[F]];this.zl(A,x)}this.Ga(A,this.caller);return}if(this.aT)this.CT(x)};
Q.FK.prototype.gd=function(x,z){var A=JSON.parse(JSON.stringify(x.u5));am.Gp(A,1/Q.S._q(z.D));return A};
Q.FK.prototype.IR=function(x,z){if(x.h5!=null)this.sm(z,x.L6);else this.rs(z,x.xd,x.Bp)};Q.FK.prototype.a_=function(x,z){if(x.h5!=null)this.sm(z,x.h5);
else this.rs(z,x.Ms,x.rl)};Q.FK.prototype.sm=function(x,z){for(var F=0;F<z.length;F++){var A=z[F],o=A.XC,i=x.g[o];
i.buffer=A.Mw;i.rect=A.G8.clone();i.i();var L=i.add.TySh;L.rK=A.qK;L.t0=A.t0.clone();L.D=A.D.clone();
L.gP=JSON.parse(JSON.stringify(A.gP));i.bP()}x.i()};Q.FK.prototype.eK=function(x,z){var A=[];for(var F=0;
F<z.length;F++){var o=z[F],i=x.g[o],L=i.add.TySh;A.push({XC:o,D:L.D.clone(),qK:JSON.parse(JSON.stringify(L.rK)),t0:L.t0.clone(),gP:JSON.parse(JSON.stringify(L.gP)),Mw:i.buffer.slice(0),G8:i.rect.clone()})}return A};
Q.FK.prototype.rs=function(x,z,A){x.f=A;x.Wi(z);x.i();x.bg=!0};Q.FK.prototype.zl=function(x,z,A){if(A==null)A=!1;
var o=this.aT.add.TySh;if(!g3.gj(o,z.P2,this.caller))return!1;this.vv=new ah(o.gP,z.P2);if(!A){var i=am.FP(o.gP);
this.YD.value=i.slice(0,i.length-1)}var L=g3.X4(this.vv,o);if(f.qK.h8(o.rK))o.t0=new av;else{if(am.dC(o.gP)==1){var B=am.iA(o.gP),f5=L.t0.y;
o.t0=new av(0,f5,B[2]-B[0],B[3]-B[1]-f5)}else{o.t0=L.t0}}var D=this.aT.rect;this.aT.rect=L.G8;this.aT.buffer=L.ov;
this.aT.i();x.GK();x.i(x.root.cI(L.G8.QM(D),x,x.g.indexOf(this.aT)));return!0};Q.FK.prototype.HD=function(x,z){if(this.aT==null||this.jb)return;
var A=this.YD.selectionStart,o=this.aT.add.TySh,i=am.FP(o.gP),L=this.YD.value+"\n",B=Math.min(this.DA,this.ZP),D=Math.max(this.DA,this.ZP),W=!1;
this.DA=Math.min(A,B);if(L.length-A<i.length-this.ZP)this.ZP=i.length-L.length+A;if(i!=L){while(this.DA>0&&i.charAt(this.DA-1)!=L.charAt(this.DA-1))this.DA--}var Z=i.substring(0,this.DA),j=i.substring(this.ZP,i.length),a=L.substring(this.DA,L.length-j.length);
am.vx(o.gP,this.DA,this.ZP);am.tW(o.gP,this.DA,a);if(z!=null)am.awC(o.gP,this.DA,z);var b=this.gd(this.DL,o),c=-1,Y=Array.from(a);
for(var F=0;F<Y.length;F++)c=Math.max(c,Y[F].codePointAt(0));if(c!=-1&&c>128&&c!=65533&&b.i8.Font!=null){var R=b.Cr[b.i8.Font].Name,$=this.DL.P2.Kv(c,R,b.Cr);
if(R!=$){am.Lk(b,$);W=!0}}if(this.js!=null&&a==this.js){var k=JSON.parse(this.ajz);b.i8=k.i8;b.Cr=k.Cr;
W=!0}am.zz(o.gP,this.DA,this.DA+a.length-1,b);this.DA=this.ZP=Z.length+a.length;var w=this.caller.Bm(),V=this.zl(w,this.DL,!0);
if(V)this.PB(w,!0);if(W)this.B$()};Q.FK.prototype.a0D=function(x){if(!x.ctrlKey)this.Jy()};Q.FK.prototype.aqm=function(x){if(this.aT==null||this.jb)return;
if(this.aT==null)return;var z=this.caller.Bm(),D=0,Z=0,l=!1;if(this.An==null&&x.ctrlKey){var A=this.aT.add.TySh,o=am.dC(A.gP),i;
if(o==1){i=am.iA(A.gP);i=new av(0,0,i[2]-i[0],i[3]-i[1])}else i=this.vv.yF();var L=[i.x,i.y,i.x+i.m,i.y,i.x+i.m,i.y+i.n,i.x,i.y+i.n];
f.p.D(L,A.D,L);this.An=new ig(L,!0,!0,!1,!1);this.acU=i;this.PB(z)}var B=bJ;if(B.gY(x.code,B.vH))D=1;
if(B.gY(x.code,B.Mj))D=-1;if(B.gY(x.code,B.ci))Z=-1;if(B.gY(x.code,B.ZG))Z=1;var j=x.ctrlKey||x.metaKey,a=B.gY(x.code,bJ.qC),b=B.gY(x.code,bJ.arn);
if(B.gY(x.code,bJ.oN)&&j){this.Ga(z,this.caller);return}if(B.gY(x.code,bJ.dw)){this.oG(z,this.caller);
return}if(B.gY(x.code,bJ.MT)){x.preventDefault();var W=this.YD,c=W.value,Y=W.selectionStart,R=W.selectionEnd;
W.value=c.substring(0,Y)+"\t"+c.substring(R);W.selectionStart=W.selectionEnd=Y+1;this.HD(null);return}if((B.gY(x.code,B.aD)||B.gY(x.code,B.k5))&&j){var $=this.DA,k=this.ZP;
if($>k){var w=$;$=k;k=w}var A=this.aT.add.TySh,V=am.FP(A.gP);if($!=k){this.js=V.slice($,k);this.ajz=JSON.stringify(this.DL.u5)}}var h=am.FP(this.aT.add.TySh.gP);
if(D!=0||Z!=0||a||b){x.preventDefault();var M=this.DA;if(D!=0){if(j&&D==-1)M=this.f8(h,this.DA-1);else if(j&&D==1)M=this.Pe(h,this.DA);
else{var W=this.YD,c=W.value;M=this.DA+D;if(M!=0&&c.codePointAt(M-1)>65535)M+=D}}else if(Z!=0){var q=this.vv.tB(this.DA);
if(Z==-1&&q.Gq==0)M=0;else if(Z==1&&q.Gq==this.vv.a9O()-1)M=99999999999;else M=this.vv.ao2(new iL(q.G8.x+q.G8.m/2,0),q.Gq+Z)}else if(a){var t=this.DA-1;
while(t>0&&h.charCodeAt(t)!=10)t--;M=t==0?0:t+1}else if(b){var t=this.DA;while(t<h.length-1&&h.charCodeAt(t)!=10)t++;
M=t}M=Math.max(0,Math.min(h.length-1,M));if(x.shiftKey)this.DA=M;else this.DA=this.ZP=M;l=!0}if(B.gY(x.code,bJ.U)&&j){this.DA=0;
this.ZP=h.length-1;l=!0}if(l){this.B$();this.PB(z)}};Q.FK.ane=function(x,z){var A=x.length;if(A!=z.length)return!1;
for(var F=0;F<A;F++)if(x[F].XC!=z[F].XC)return!1;return!0};Q.FK.prototype.Ga=function(x,z){if(this.aT==null)return;
this.aT.bP();var A=this.DQ;if(A instanceof Array){var o=this.eK(x,this.kz),i=x.nW();if(i!=null&&i.k==this&&i.data.h5&&Q.FK.ane(i.data.h5,A))i.data.L6=o;
else{var L=new j$(this.name,this);L.data={h5:A,L6:o};x.U7(L)}}else{var L=new j$(this.name,this);L.data={Ms:A.Ms,xd:A.xd,rl:A.rl,Bp:A.Bp};
x.U7(L)}this.escape(x,z)};Q.FK.prototype.oG=function(x,z){if(this.aT==null)return;if(this.DQ instanceof Array){this.sm(x,this.DQ);
if(this.aT)am.AA(this.aT.add.TySh)}else{x.f=this.DQ.rl;x.Wi(this.DQ.Ms)}x.i();this.escape(x,z)};Q.FK.prototype.escape=function(x,z){this.Jy();
this.aT=null;this.kz=null;this.vv=null;this.vf=null;this.YD.blur();x.G.PK=null;x.G.YI=null;x.G.XF=[];
x.o$=!0;this.W0=!1;this.kO=!1;this.DA=this.ZP=-1;this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,Vn:"hideactive"});
if(this.Ac){var A=new fZ(G.E.Y,!0);A.data={d:G.U.hV,k:this.Ac};z.c(A);this.Ac=null}};Q.FK.prototype.bf=function(x,z,A,o){var i=new fZ(z,!0);
i.data=A;if(o)i.k=o;x.c(i)};Q.FK.prototype.Xs=function(x){var z=this.aT.add.TySh,A=this.vv,o=z.D.clone();
o.Qs();var i=o.nx(x),L=am.mc(z,A),B=f.qK.Tq(z.rK,L),D=f.fE.ajX(B,i);if(D==null)D=new Float64Array(2);
i=new iL(L.x+D[0]*L.m,L.y+D[1]*L.n);if(A.BS){var Z=A.BS.clone();Z.Qs();i=Z.nx(i)}var j=A.ao2(i);return j};
Q.FK.prototype.PB=function(x,z){if(z==null)z=!1;var A=this.aT.add.TySh,o=am.dC(A.gP),i=this.vv,L=i?am.mc(A,i):null;
x.G.XF=[];x.G.PK=null;x.G.YI=null;var B=this.An?this.An:this.vf;if(B){B.KH(x,this.DL,!f.qK.h8(A.rK));
var D=A.D.clone();D.Qs();if(i&&i.BS&&i.VW==1){var Z=i.BS.clone();Z.Qs();D.concat(Z)}f.p.D(x.G.XF,D,x.G.XF);
f.p.D(x.G.PK.v,D,x.G.PK.v);if(i&&i.BS==null&&i.auf()){var j=L.m-20,a=L.n+8;x.G.PK.v.push(j,a,j+10,a,j+5,a-5,j+5,a+5);
x.G.PK.F.push("M","L","M","L")}}else if(o==0)this.arE(x,A,i);else x.G.PK={v:[],F:[]};var b=Math.min(this.DA,this.ZP),W=Math.max(this.DA,this.ZP);
if(!z){this.YD.selectionStart=b;this.YD.selectionEnd=W}if(i!=null){var c=function(B,h){var l=B.x,M=B.y+B.n,q=new cb;
q.translate(-l,-M);q.rotate(-h);q.translate(l,M);B.y+=B.n*.27;var V=f.p.Mm(B);f.p.D(V.v,q,V.v);return V};
if(b==W){b=Math.max(b,0);var Y=i.tB(b);if(Y){var R=Y.G8,$=this.DL.u5.i8.FontSize;if($!=null&&$!=0){$/=A.D._q();
R.y+=R.n-$;R.n=$}var k=i.a4j(b);if(k!=null&&k.Er==1)R.x+=R.m;var w=c(R,Y.Yp).v;x.G.PK.F.push("M","L");
x.G.PK.v.push(w[0],w[1]-1,w[6],w[7]-1)}}else{x.G.YI={v:[],F:[]};for(var F=b;F<W;F++){var Y=i.tB(F),V=c(Y.G8,Y.Yp);
f.p.concat(x.G.YI,V)}}}x.G.PK=g3.kJ(x.G.PK,A,i);x.G.YI=g3.kJ(x.G.YI,A,i);x.G.XF=g3.kJ({v:x.G.XF},A,i).v;
x.o$=!0};Q.FK.prototype.arE=function(x,z,A){if(A==null)return;x.G.XF.push(0,0);if(x.G.PK==null)x.G.PK={F:[],v:[]};
for(var F=0;F<A.tl.length;F++){var o=A.tl[F];for(var i=0;i<o.VI.length;i++){var L=o.VI[i],B=o.RD.x+L.RD.x+L.G8.x,D=o.RD.y+L.RD.y+L.G8.y+L.G8.n;
x.G.PK.F.push("M","L");x.G.PK.v.push(B,D,B+L.G8.m,D)}}x.o$=!0};Q.vy=function(){Q.FK.call(this,!0)};Q.vy.prototype=new Q.FK;
Q.p1=function(){Q.BO.call(this,[10,9],Q.R6,"tools/lasso");this.EF="crosshair";this.pU=null;this.vw=null;
this.KQ=null};Q.p1.prototype=new Q.BO;Q.p1.prototype.XP=function(x,z,A,o){this.pU=this.YH;this.vw={v:[this.pU.x,this.pU.y],F:["M"]}};
Q.p1.prototype.ss=function(x,z,A,o){this.KQ=o;var i=this.vw;if(i==null)return;if(!o.z0){if(this.vw!=null&&this.l$>1&&A.A(bJ.yU)){i.v.pop();
i.v.pop();i.v.push(this.fl.x,this.fl.y);x.G.PK=i;x.o$=!0}return}i.F.push("L");i.v.push(this.fl.x,this.fl.y);
this.pU=this.fl;if(this.ui){x.G.PK=i;x.o$=!0}};Q.p1.prototype.wn=function(){return this.vw!=null};Q.p1.prototype.hd=function(){return this.vw!=null};
Q.p1.prototype.R0=function(x,z,A,o){Q.BO.prototype.R0.call(this,x,z,A,o);if(this.vw&&this.l$>1&&this.KQ&&!this.KQ.z0&&!o.A(bJ.yU))this.NP(x,A,o)};
Q.p1.prototype.rP=function(x,z,A,o){this.KQ=o;var i=this.vw;if(i==null)return;if(this.l$>1&&A.A(bJ.yU)){i.F.push("L");
i.v.push(this.fl.x,this.fl.y);return}this.NP(x,z,A)};Q.p1.prototype.NP=function(x,z,A){this.finish(x,z,A,this.KQ);
this.vw=null;x.G.PK=null;x.o$=!0};Q.p1.prototype.getSelection=function(x,z,A,o){if(this.YH.S0(this.fl)||!this.ui)return null;
return Q.BO.Vf(this.vw.v,null,this.vQ.anta)};Q.R7=function(){Q.He.call(this,[10,11],Q.ah,"tools/move");
this.KZ=new iL(0,0);this.pE=new iL(0,0);this.Rr=null;this._G=null;this.TE=new iL(0,0);this.Uh=null;this.OQ=null;
this.i7=null;this.rV=0;this.UX=null;this.ct=[];this.$L=null;this.nn=null;this.D8=!1;this.d=0;this.Xe=null;
this.vZ=null;this.U3=null;this.aV=!1;this.vQ={HH:!1,Y5:!1,RE:!1};this.anL=!1;this.a2I=!1;this.vf=null;
this.R9=null;this.afH=null;var x=[];for(var F=0;F<f.Fi.la.length;F++)x.push({name:f.Fi.la[F],K:function(z,A,o){return{PO:A.gw.xI==o}}});
this.an=new ir(x);this.an.W("select",this.vS,this)};Q.R7.prototype=new Q.He;Q.He.prototype.V5=function(x){return this.D8&&this.d!=2};
Q.R7.prototype.OA=function(){return this.D8&&(this.d==0||this.d==1)};Q.R7.prototype.g$=function(x,z,A,o){this.y1(x,-this.TE.x,-this.TE.y);
this.TE.Jt(0,0);this.H8(x,null,A);this.ac(x)};Q.R7.prototype.wX=function(){var x=this.vQ;return[x.HH?1:0,x.Y5?1:0,x.RE?1:0]};
Q.R7.prototype.Qc=function(x,z,A){var o=this.vQ;if(x&&x[0]!=null)o.HH=x[0]==1;if(x&&x[1]!=null)o.Y5=x[1]==1;
if(x&&x[2]!=null)o.RE=x[2]==1;var i=new fZ(G.E.Y,!0);i.data={d:G.U.HU,k:this.id,uS:o,a4O:z};A.c(i)};
Q.R7.BR=function(x,z,A,o,i,L,B){if(B==null)B=[!1,!0];var D=x.al(null,i,!0),Z,j;if(x.add.artd&&x.f.length==1&&x.g[x.f[0]].add.artb){var a=x.g[x.f[0]].nU();
Z=x.aR(D,a,a)[0]}else{var b=new av(0,0,x.m,x.n),Z=x.aR(D,B[0]?b:null,B[1]?null:b)[0];delete Z.add.artd;
if(B[1]){var W=f.N1(Z.MK(),new av(0,0,Z.m,Z.n),2);Q.lv.U8(Z,W)}}if(A!=1){var c=new av(0,0,Math.round(Z.m*A),Math.round(Z.n*A));
Q.lv.U8(Z,c);var Y=[];for(var F=0;F<Z.g.length;F++)Y.push(F);var R=Q.S.sd(Z,Y,!0);Q.lv.C_(Z,new cb(A,0,0,A,0,0));
Q.S.WX(Z,o,Y,R,1,f.P.TX(new cb(A,0,0,A,0,0)),null,!0);Z.or()}else if(j){Z.i();Z.or()}var $=[];for(var F=0;
F<z.length;F++)if(Z.m*Z.n!=0)$.push(iF.XO(Z,z[F].toUpperCase(),null,null,L?L[F]:null,o));return $};Q.R7.prototype.cJ=function(x,z,A,o,i){if(x==null||x.f.length==0)return;
var L=Q.R7.BR(x,[z],A,o,null)[0],B=new fZ(G.E.Y,!0);B.data={d:G.U.ex,data:L,name:x.g[x.f[0]].getName()+(A==1?"":"@"+A+"x")+"."+z};
i.c(B)};Q.R7.prototype.Wr=function(x,z,A,o,i){if(x.wa=="getPNG"){this.cJ(A,"png",x.im,i,z)}else if(x.wa=="getSVG"){this.cJ(A,"svg",x.im,i,z)}if(x.wa=="prms"){this.vQ=x;
this.ac(A)}};Q.R7.at5=function(x){var f5=x.length,A=0;x.sort(function(L,B){return L[0]+L[1]/2-(B[0]+B[1]/2)});
var z=x[f5-1][0]+x[f5-1][1]-x[0][0];for(var F=0;F<f5;F++)A+=x[F][1];var o=Math.round((z-A)/(f5-1)),i=x[0][0];
for(var F=0;F<f5;F++){x[F][0]=i;i+=x[F][1]+o}};Q.R7.prototype.A1=function(x,z,A,o,i){var L=x.d;if(L=="trsl"){var B=Math.round(x.Ay),D=Math.round(x.CP);
this.TE.Jt(B,D);this.MA(A,z,o,i,!1,x.j);this.y1(A,B,D);this.H8(A,null,i)}else if(L=="fcmy"){var L=new j$(["RGB","CMYK"][x.h]+" Color",this);
L.data={d:x.d,IO:A.add.fcmy==null?0:A.add.fcmy,NI:x.h};A.U7(L);this.IR(L.data,A)}else if(L=="lockguides"){if(A)A.lW=!A.lW}else if(L=="gids"||L=="gidsFromLayer"){var Z=x.vZ,j,a;
if(Z==null)Z=A.OG();if(L=="gids"){j=x.ng;var b=Z[0].length,W=j[0].length;a=b==W?[23,2]:b>W?[23,3]:[23,4];
if(W==0)a=[11,15,0]}else if(L=="gidsFromLayer"){var c=[],Y=[],R=A.oT();for(var F=0;F<A.f.length;F++){var $=A.g[A.f[F]].rect;
if($.WT())continue;c.push([0,$.x],[1,$.y],[0,$.x+$.m],[1,$.y+$.n]);Y.push(R,R,R,R)}a=[11,15,1];j=A.OG();
Q.R7.hD(j,[c,Y])}if(JSON.stringify(Z)==JSON.stringify(j))return;var L=new j$(a,this);L.data={d:2,vZ:Z,ng:j};
A.U7(L);this.IR(L.data,A)}else if(L=="algn"){var k=x.h;if(A==null)return;if(A.f.length<2&&!(A.O!=null&&k!=3&&k!=7)){alert(kc.get([15,7,5]));
return}var w=A.O;A.O=null;var $=w?w.rect:Q.S.mc(A);this.MA(A,z,o,i,!1);if(!this.D8)return;var V=this.UX,h={},l=[],M=[],q=[];
for(var F=0;F<V.length;F++){var t=V[F];while(A.g[t].getName()=="</Layer group>")t++;var p=A.root.RX(t),E=p;
while(p.parent!=null){p=p.parent;if(V.indexOf(p.index)!=-1)E=p}var _=M.indexOf(E.index);if(_==-1){_=M.length;
M.push(E.index)}l[F]=_}var S=[],y=[],v=[];for(var F=0;F<M.length;F++){var r=Q.S.mc(A,A.al(!0,M[F]));
v.push(r);var K=k==3?[r.y,r.n]:[r.x,r.m];S[F]=K;y.push(K)}Q.R7.at5(y);for(var F=0;F<M.length;F++){var r=v[F],s=r.x,P=r.y;
if(k==0)s=$.x;if(k==1)s=$.x+($.m-r.m)/2;if(k==2)s=$.x+($.m-r.m);if(k==3)P=S[F][0];if(k==4)P=$.y;if(k==5)P=$.y+($.n-r.n)/2;
if(k==6)P=$.y+($.n-r.n);if(k==7)s=S[F][0];q.push(Math.round(s-r.x),Math.round(P-r.y))}var d=[];for(var F=0;
F<V.length;F++){var X=l[F];d[2*F]=q[2*X];d[2*F+1]=q[2*X+1]}this.y1(A,0,0,null,d);var U=k==3||k==7?[20,4,6]:[20,4,k<3?k:k-1];
this.H8(A,null,i,d,U);A.O=w}else if(L=="disabAuto"){this.Qc([!1],null,z)}};Q.R7.hD=function(x,z){for(var F=0;
F<z[0].length;F++){var A=z[0][F],o=z[1][F],i=!1;for(var L=0;L<x[0].length;L++){var B=x[0][L],D=x[1][L];
if(A[0]==B[0]&&A[1]==B[1]&&o==D)i=!0}if(!i){x[0].push(A.slice(0));x[1].push(o)}}};Q.R7.prototype.enable=function(x,z,A,o,i){this.OQ=A;
this.i7=z;this.aV=i?!0:!1;this.ac(x);this.k2("default",z)};Q.R7.prototype.disable=function(x,z,A,o){this.Z5(x)};
Q.R7.prototype.Z5=function(x){if(x==null)return;if(this.vf){this.vf.clear(x);this.vf=null}if(x.G.RE){x.G.RE=null;
x.o$=!0}if(x.G.ky){x.G.ky=null;x.o$=!0}if(x.G.$M[this.id]){delete x.G.$M[this.id];x.o$=!0}if(x.G.ey.length!=0){x.G.ey=[];
x.o$=!0}};Q.R7.prototype.Nu=function(x,z,A,o){if(A.YC!=this.id)return;this.ac(x)};Q.R7.prototype.ac=function(x,z){if(x==null)return;
var A=this.vQ;this.Z5(x);if(!this.aV){var o;if(A.Y5||A.RE)o=f.p.u8(Q.S.mc(x));if(A.Y5&&!o.WT()){this.vf=new ig([o.x,o.y,o.x+o.m,o.y,o.x+o.m,o.y+o.n,o.x,o.y+o.n],!0);
this.vf.KH(x,this.OQ)}if(A.RE){var i=null,a=null,b=!1;if(x.oT()!=-1)i=x.g[x.oT()].nU();else i=new av(0,0,x.m,x.n);
x.G.RE={b5:[o],EI:[]};var L=x.G.RE.EI,B=o.x+o.m,D=o.y+o.n,Z=o.x+Math.floor(o.m/2),j=o.y+Math.floor(o.n/2);
if(z){var W=x.root.Qd(new iL(Math.floor(z.x),Math.floor(z.y)));if(W){a=f.p.u8(W.j.XJ(x));if(a.$X(o)){b=(a.V2(o)||o.V2(a))&&!o.S0(a);
if(!b)a=null}}}this.akb(o,L);if(a!=null){x.G.RE.b5.push(a);var c=a.x+a.m,Y=a.y+a.n,R=a.x+Math.floor(a.m/2),$=a.y+Math.floor(a.n/2);
if(b){var k=Z,w=j;if(o.V2(a)){k=R;w=$}L.push(o.x,w,a.x,w);L.push(B,w,c,w);L.push(k,o.y,k,a.y);L.push(k,D,k,Y)}else{this.akb(a,L);
var V=D<a.y||Y<o.y,h=B<a.x||c<o.x;if(B<a.x)L.push(B,j,a.x,j);if(c<o.x)L.push(c,j,o.x,j);if(D<a.y)L.push(Z,D,Z,a.y);
if(Y<o.y)L.push(Z,Y,Z,o.y);if(V&&!h){if(o.x<a.x)L.push(o.x,$,a.x,$);if(a.x<o.x)L.push(a.x,j,o.x,j)}}}else{if(o.y>i.y)L.push(Z,i.y,Z,o.y);
if(D<i.y+i.n)L.push(Z,D,Z,i.y+i.n);if(o.x>i.x)L.push(i.x,j,o.x,j);if(B<i.x+i.m)L.push(B,j,i.x+i.m,j)}x.o$=!0}}if(this.d==2&&this.D8){var l=new av(0,0,x.m,x.n),M=x.oT();
if(M!=-1){var q=x.OG(),t=q[1][this.UX];if(t==-1)t=M;l=x.g[t].nU()}var p=x.sf[this.UX],E=p[0],_=(E==0?"X":"Y")+": "+f.Fi.v1(p[1]-(E==0?l.x:l.y),x.um,this.OQ,E==0?l.m:l.n,!0);
Q.He.Kw(Math.round(this.Rr.x)+10,Math.round(this.Rr.y)-10,[_],x);x.o$=!0}if(this.d==3&&this.D8){var S=f.p.Mm(this.Xe);
x.G.$M[this.id]={PK:S};x.o$=!0}};Q.R7.prototype.akb=function(x,z){var A=x.m,o=x.n,i=x.x+Math.floor(A*.2),L=x.y+Math.floor(o*.2);
z.push(i,x.y,i,x.y+o);z.push(x.x,L,x.x+A,L)};Q.R7.prototype.k2=function(x,z){var A={d:G.U.sy,OU:x},o=new fZ(G.E.Y,!0);
o.data=A;z.c(o)};Q.R7.prototype.nV=function(x){var z=this.R9.WJ()[0],A=this.Uh,o=this.afH[z];this.asR(A,o)};
Q.R7.prototype.vS=function(x){var z=JSON.parse(JSON.stringify(this.OQ.gw));z.xI=this.an.WJ()[0];var A=new fZ(G.E.Y,!0);
A.data={d:G.U.nF,Hl:cu.MU,NI:z};this.i7.c(A)};Q.R7.prototype.zD=function(x,z,A,o,i){if(this.D8)this.V4(x,z,A,o,i);
this.Uh=x;this.OQ=A;this.i7=z;var L=x.t.Sd(i.x,i.y),B;if(Q.R7.tD(A,i,x.t)){B=this.an}else{if(this.R9)this.R9.removeEventListener("select",this.nV);
var D=[];x.root.Qd(L,D);if(D.length==0)return;var Z=[];this.afH=D;for(var F=0;F<D.length;F++)Z.push({name:x.g[D[F]].getName()});
B=this.R9=new ir(Z);B.W("select",this.nV,this)}B.parent=z;B.N();B.update(x,A);var j=new fZ(G.E.Y,!0);
j.data={d:G.U.Sc,oM:B,x:i.Md+2,y:i.fZ+1};z.c(j)};Q.R7.prototype.L5=function(x,z,A,o,i){var L=Q.R7.sO(x,i);
return L!=-1||Q.R7.tD(A,i,x.t)};Q.R7.sO=function(x,z){if(x==null||x.add.artd==null)return-1;var A=x.t.Sd(z.x,z.y),o=12*Q.Z()/x.t.X;
for(var F=0;F<x.g.length;F++){var i=x.g[F];if(!i.Gi()||i.add.artb==null)continue;var L=i.nU(),B=new av(L.x,L.y-1.7*o,o*i.getName().length*.5,o);
if(B.Td(A))return F}return-1};Q.R7.prototype.Xv=function(x,z,A,o,i){var L=Q.R7.sO(x,i),B=Q.R7.anZ(x,x.t.Sd(i.x,i.y));
if(L!=-1){x.f=[L];if(A.YC==Q.ah){var D=new fZ(G.E.Y);D.data={d:G.U.hV,k:Q.Zv};z.c(D)}return}if(B!=-1){x.t.Z1=B;
x.Gy=!0;var D=new fZ(G.E.Y,!0);D.data={d:G.U.NQ,ca:c4.SU.a7I};z.c(D);return}this.Rr=i;this.KZ.Jt(i.x,i.y);
this.pE=x.t.Sd(i.x,i.y);this._G=new a1(this.pE);this.MA(x,z,o,A,!0)};Q.R7.tD=function(x,z,A,o){var i=f.Fi.Xh,L=A.VK.n;
return x.TS&&(0<z.x&&z.x<i||0<z.y&&z.y<i||o&&0<z.x&&z.x<4*i&&L-i<z.y&&z.y<L)};Q.R7.prototype.MA=function(x,z,A,o,i,L){var B,D=this.pE,Z=!1;
if(i){var j=o.c4&&o.gw.sf;if(Q.R7.tD(o,this.KZ,x.t)){B=x.OG();var a=x.OG(),b=null;if(this.KZ.x<f.Fi.Xh){b=[0,D.x]}if(this.KZ.y<f.Fi.Xh){b=[1,D.y]}a[0].push(b);
a[1].push(x.oT());x.q5(a);if(!j){var W=new fZ(G.E.Y);if(!o.gw.sf){W.data={d:G.U.nF,Hl:cu.ne};z.c(W)}if(!o.c4){W.data={d:G.U.nF,Hl:cu.Lu};
z.c(W)}j=!0}}var c=this.a9i(x,D);if(j&&c!=null&&!x.lW){this.d=2;this.vZ=B?B:x.OG();this.UX=c;this.D8=!0;
this.nn=Q.S.mc(x);return}if(x.CE.length!=0){this.d=4;this.nn=x.lX[x.CE[0]].rect.clone();this.D8=!0;return}if(this.vf&&this.vf.El(D,x.t.X,!0,this.Rr)!=null){var W=new fZ(G.E.Y);
W.data={d:G.U.hV,k:Q.fT,a6x:!0};z.c(W);return}if(x.O&&x.O.rect.Td(D)){var Y=Math.round(D.x),R=Math.round(D.y),$=x.O.rect;
Z=x.O.channel[(R-$.y)*$.m+Y-$.x]>128}if(!Z&&(!this.aV&&this.vQ.HH||this.aV&&this.vQ.HH&&(A.A(bJ.xb)||x.f.length<2))){var k=this.api(x,D,A);
if(!k){x.f=[];x.Iz=null;x.bg=x.dv=!0;this.d=3;this.Xe=new av;this.D8=!0;return}}if(A.A(bJ.yU)&&!Z){var w=new fZ(G.E.r);
w.k=Q.xu;w.data={d:g.Xm,aaR:!0};z.c(w)}}if(x.CE.length!=0){this.d=4;this.nn=x.lX[x.CE[0]].rect.clone();
this.D8=!0;return}this.UX=x.al(L==null,L,null,!0);for(var F=0;F<this.UX.length;F++){var V=this.UX[F],h=x.g[V];
if(h.bb(2)||h.bb(31)||x.gx(V)){alert(kc.get([6,57,0]));return}}if(x.add.artd&&i){var l=this.UX,M=!1;
for(var F=0;F<l.length;F++)if(x.g[l[F]].add.artb)M=!0;if(!M){this.$L=[x,x.g.slice(0),x.f.slice(0),-1];
this.UX.sort(function(v,r){return v-r})}}this.ct=Q.R7.acG(x,this.UX);this.d=0;if(x.O&&(!i||Z)&&x.f.length==1&&x.Qi(!1)){if(!x.anY()){this.D8=!1;
return}var q=x.g[x.f[0]],t=A.A(bJ.yU);this.d=1;var p=x.history[x.pF];if(p.k==this&&p.data.d==1&&p.data.j==x.f[0]&&q.ZD==q.sL.ZD&&!t){this.U3=p}else{var E=q.sL,_=!1,S;
if(!q.QZ(x,x.O)||t){_=!0;q.RL(x,x.O,t)}if(q.sL.ZD<=0){S=f.C(q.sL.EU.length>>2);f.XN(q.sL.EU,S,3)}else S=x.O.channel.slice(0);
var y={rect:q.sL.Du.clone(),channel:S};this.U3=new j$(t?[12,53]:[12,54],this);this.U3.data={d:1,j:x.f[0],sL:q.sL,Sg:E,Gj:_,rl:x.O,Bp:y,y9:new iL(0,0)};
x.U7(this.U3);x.O=y;x.I3=!0}}this.D8=!0;this.nn=Q.S.mc(x)};Q.R7.prototype.api=function(x,z,A){var o=x.root.Qd(new iL(Math.floor(z.x),Math.floor(z.y)));
if(o){if(o.j.add.vmsk)x.o$=!0;var i=x.g.indexOf(o.j);if(A.A(bJ.xb)){var L=x.f.indexOf(i);if(L==-1)x.f.push(i);
else if(x.f.length>1)x.f.splice(L,1)}else if(x.f.indexOf(i)==-1){this.asR(x,i)}}return o!=null};Q.R7.prototype.asR=function(x,z){x.g[z].ZD=0;
x.f=[z];x.Iz=null;x.Tr();x.We=!0;x.bg=!0};Q.R7.anZ=function(x,z){var A=x.add.Anno;if(A==null||A.length==0)return-1;
var o=30/x.t.X;for(var F=0;F<A.length;F++)if(new av(A[F][0],A[F][1],o,o).Td(z))return F;return-1};Q.R7.prototype.Dg=function(x,z,A,o,i){this.Rr=i;
var L=x.t.Sd(i.x,i.y),c,Y;if(this._G&&this.d<2)L=this._G.PA(L,o);if(!this.D8){if(A.c4&&A.gw.sf&&x&&!x.lW){var B=this.a9i(x,L),D="default",Z=Q.R7.sO(x,i);
if(B!=null)D=["col-resize","row-resize"][x.sf[B][0]];else if(this.vf){var j=this.vf.El(L,x.t.X,null,i);
if(j)D=j}else if(Z!=-1||Q.R7.anZ(x,L)!=-1){D="pointer"}this.k2(D,z)}this.ac(x,L);return}var a=this.pE,b=Math.round(L.x-a.x)-this.TE.x,W=Math.round(L.y-a.y)-this.TE.y;
if(this.nn){if(this.d==2){var R=[];if(x.O)R.push(x.O.rect);if(this.nn)R.push(this.nn);if(x.t.xC)R.push(x.t.xC);
L=Q.R7.EX(x,L,A,[!1,R,!0])}else{Y=this.nn.clone();Y.offset(this.TE.x+b,this.TE.y+W);c=Q.R7.Dh(x,Y,A);
var $=this._G.a4u(o);if($==1){c[0]=0;c[2]=1e9}if($==2){c[1]=0;c[3]=1e9}b+=Math.round(c[0]);W+=Math.round(c[1])}}this.TE.x+=b;
this.TE.y+=W;var k=this.$L;if(k&&x==k[0]){x.Wi(k[1]);x.f=k[2].slice(0);k[3]=-1}this.y1(x,b,W,L,null,o.A(bJ.xb));
if(k&&x==k[0]){var w=this.nn.clone();w.offset(this.TE.x,this.TE.y);var V=L,Z=x.oT(),h=-1;for(var F=0;
F<x.g.length;F++){var l=x.g[F];if(!l.Gi()||l.add.artb==null)continue;var M=l.nU();if(M.Td(V))h=F}if(h!=-1&&h!=Z){var q=Q.J3.E2(x,this.UX,h,!0,null,!1);
x.Wi(q[0]);x.f=q[1];k[3]=h}}this.ac(x,L);if(c)Q.R7.mj(x,Y,c)};Q.R7.prototype.a9i=function(x,z){var A=Q.VS(x,this.Rr);
z=[z.x,z.y];var o=x.OG(),i=x.oT();for(var F=0;F<o[0].length;F++){var L=o[0][F],B=o[1][F];if(B!=-1&&B!=i)continue;
if(Math.abs(L[1]-z[L[0]])<A)return F}return null};Q.R7.prototype.y1=function(x,z,A,o,i,L){if(this.d==0){if(i)Q.R7.Vh(x,this.UX,this.ct,i);
else Q.R7.cL(x,this.UX,this.ct,z,A)}else if(this.d==1){var B=this.U3.data;B.y9.offset(z,A);Q.R7.Bs(x,B.j,z,A)}else if(this.d==2){var D=1e-5;
if(L)D=x.t.X<=1?10:1;else if(x.t.X<=1)D=1;var Z=D*Math.round(o.x/D),j=D*Math.round(o.y/D),a=[Z,j],b=x.sf[this.UX];
b[1]=a[b[0]]}else if(this.d==3){var W=this.pE,c=f.p.ke([W.x,W.y,o.x,o.y]);this.Xe=c;var Y=[];x.root.a95(c,Y);
if(JSON.stringify(x.f)!=JSON.stringify(Y)){x.f=Y;x.bg=x.dv=!0}}else if(this.d==4){for(var F=0;F<x.CE.length;
F++)x.lX[x.CE[F]].rect.offset(z,A);x.o$=!0}};Q.R7.Bs=function(x,z,A,o){var i=x.g[z];x.O.rect.offset(A,o);
i.PJ(x,A,o,x.O);x.I3=!0;x.i()};Q.R7.prototype.V4=function(x,z,A,o,i,L){this.H8(x,i,A);this.ac(x);if(Date.now()-this.rV<300&&!L){var B=Q.FK.Ak(x,x.t.Sd(i.x,i.y));
if(Q.R7.tD(A,i,x.t,!0)){var D=new fZ(G.E.Y);if(i.y>x.t.VK.n-20){D.data={d:G.U.z1,ca:"doczoom",IO:x.t.X*100,YS:{V:G.E.r,k:Q.WQ,M:{d:"pzoom"}}}}else{D.data={d:G.U.z1,ca:"preferences"}}z.c(D)}else if(B>=0){var Z=new fZ(G.E.r,!0);
Z.k=Q.Mb;Z.data={d:"editCurr",IP:B};z.c(Z)}}this.rV=Date.now();Q.lv.b0(x)};Q.R7.prototype.H8=function(x,z,A,o,i){if(!this.D8)return;
this.D8=!1;if(this.d==0){if(o){this.aiT(x,null,o,i)}else{if(this.TE.x==0&&this.TE.y==0)return;this.aiT(x,this.TE.clone())}x.Gy=!0}else if(this.d==2){var L=0;
z=[z.x,z.y];var B=this.UX,D=x.sf[B],is=this.vZ[0].length,Z=x.sf.length;if(A.TS&&z[D[0]]<f.Fi.Xh){var j=x.OG();
j[0].splice(B,1);j[1].splice(B,1);x.q5(j);L=1;if(is==Z-1)return}if(is<Z)L=2;var a=new j$([[23,2],[23,3],[23,4]][L],this);
a.data={d:2,vZ:this.vZ,ng:x.OG()};x.U7(a)}else if(this.d==4){var a=new j$([12,54],this);a.data={d:4,f:x.CE.slice(0),u:this.TE.clone()};
x.U7(a)}this.TE.Jt(0,0)};Q.R7.prototype.R0=function(x,z,A,o){var i=o.u0();if(x!=null&&(i.x!=0||i.y!=0)){if(o.A(bJ.yU)&&x.O==null){var L=new fZ(G.E.r);
L.k=Q.xu;L.data={d:g.Xm,aaR:!0};z.c(L)}this.TE.Jt(i.x,i.y);this.MA(x,z,o,A,!1);if(!this.D8)return;this.y1(x,i.x,i.y);
this.H8(x,null,A);this.ac(x)}var B=o.A(bJ.RI);if(!this.aV&&this.a2I!=B){if(B){this.anL=this.vQ.HH;this.vQ.HH=!0}else{this.vQ.HH=this.anL}this.a2I=B;
var D=new fZ(G.E.Y,!0);D.data={d:G.U.HU,k:this.id,uS:this.vQ};z.c(D)}};Q.R7.prototype.a_=function(x,z){if(x.d==0){var A=x.ot;
if(A){z.Wi(A.Ms);z.f=A.Q7.slice(0);z.i();z.bg=!0}Q.R7.Vh(z,x.f,x.ae,x.G$,!0);Q.lv.b0(z)}else if(x.d=="fcmy"){if(x.IO==0)delete z.add.fcmy;
else z.add.fcmy=x.IO;z.o$=!0}else if(x.d==2){z.q5(x.vZ);z.o$=!0}else if(x.d==4){for(var F=0;F<x.f.length;
F++)z.lX[x.f[F]].rect.offset(-x.u.x,-x.u.y);z.o$=!0}else{var o=z.g[x.j];if(x.Gj){o.gm(z,x.Sg);z.O=x.rl;
z.I3=!0;z.i();o.i()}else{Q.R7.Bs(z,x.j,-x.y9.x,-x.y9.y)}}};Q.R7.prototype.IR=function(x,z){if(x.d==0){Q.R7.Vh(z,x.f,x.ae,x.G$);
var A=x.ot;if(A){z.Wi(A.xd);z.f=A.bJ.slice(0);z.i();z.bg=!0}Q.lv.b0(z)}else if(x.d=="fcmy"){if(x.NI==0)delete z.add.fcmy;
else z.add.fcmy=x.NI;z.o$=!0}else if(x.d==2){z.q5(x.ng);z.o$=!0}else if(x.d==4){for(var F=0;F<x.f.length;
F++)z.lX[x.f[F]].rect.offset(x.u.x,x.u.y);z.o$=!0}else{var o=z.g[x.j];if(x.Gj){o.sL=x.sL;z.O=x.Bp;Q.R7.Bs(z,x.j,0,0);
o.i()}else{Q.R7.Bs(z,x.j,x.y9.x,x.y9.y)}}};Q.R7.prototype.aiT=function(x,z,A,o){if(A){var i=!0;for(var F=0;
F<A.length;F++)if(A[F]!=0)i=!1;if(i)return}var L=x.history[x.pF],B=this.$L,D=B!=null&&B[3]!=-1&&B[0]==x;
if(!D&&A==null&&L.data&&L.k==this&&L.data.d==0&&JSON.stringify(L.data.f)==JSON.stringify(this.UX)&&JSON.stringify(L.data.ae)==JSON.stringify(this.ct)){var Z=L.data.G$,j=L.data.agj.k7.T.v;
j.Hrzn.v.val+=z.x;j.Vrtc.v.val+=z.y;for(var F=0;F<Z.length;F+=2){Z[F]+=z.x;Z[F+1]+=z.y}}else{if(z==null)z=new iL(A[0],A[1]);
var a={zR:"move",k7:{classID:"null",null:jd.uU("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:z.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:z.y}}}}}},b=null;
if(D)b={Ms:B[1],Q7:B[2],xd:x.g.slice(0),bJ:x.f.slice(0)};this.$L=null;var W=new j$(o?o:[12,54],this);
if(A)W.data={d:0,f:this.UX,ae:this.ct,ot:b,G$:A};else W.data={d:0,f:this.UX,ae:this.ct,ot:b,G$:Q.R7.ary(this.UX,z.x,z.y)};
W.data.agj=a;x.U7(W);this.track(a)}};Q.R7.ary=function(x,z,A){var o=[];for(var F=0;F<x.length;F++)o.push(z,A);
return o};Q.R7.cL=function(x,z,A,o,i){Q.R7.Vh(x,z,A,Q.R7.ary(z,o,i))};Q.R7.Vh=function(x,z,A,o,i){if(z.length==0)return;
if(A==null){A=[];for(var F=0;F<z.length;F++){A.push(x.g[z[F]].V3(x,!0))}}var L=new av,B=new av(0,0,x.m,x.n);
for(var F=0;F<z.length;F++){var D=o[2*F],Z=o[2*F+1];if(i){D=-D;Z=-Z}var j=x.g[z[F]],a=A[F];if(j.add.fxrp&&(a.indexOf(0)!=-1||j.d8()))j.add.fxrp.offset(D,Z);
for(var b=0;b<a.length;b++){var W=a[b];if(W==0){j.rect.offset(D,Z);if(j.Mi()&&j.zg(x))j.zg(x).rect.offset(D,Z);
if(j.add.artb){var c=j.nU();c.offset(D,Z);j.T4(c);var Y=j.add.artb.guideIndeces;Y=Y?Y.v:[];for(var R=0;
R<Y.length;R++){var $=x.sf[Y[R].v];$[1]+=$[0]==0?D:Z}}if(j.add.TySh){j.add.TySh.D.translate(D,Z);if(j.add.TySh.add){j.add.TySh.add.vmsk.offset(D,Z)}}if(j.add.SoLd){var k=new cb(1,0,0,1,D,Z),w=j.add.SoLd,V=Q.S.z5(w.Trnf),h=Q.S.z5(w.nonAffineTransform);
f.p.D(V,k,V);f.p.D(h,k,h);w.Trnf=Q.S.rL(V);w.nonAffineTransform=Q.S.rL(h);Q.S.asV(w,k)}}if(W==1)j.dP().rect.offset(D,Z);
if(W==2){j.add.vmsk.offset(D,Z);if(j.add.vogk)f.i4.D(j.add.vogk,[1,0,D,0,1,Z,0,0],[])}if(W==3){j.zg(x).B.rect.offset(D,Z);
if(a.length==1)j.i()}}if(a.length>0){var l=j.add.GdFl;if(l==null)l=j.add.PtFl;if(j.d8()&&!j.Gm()&&j.add.vmsk!=null&&f.J.u$(j.add.vmsk._)&&j.add.vmsk.Op==255&&(l==null||l.Algn&&l.Algn.v)){j.rect.offset(D,Z)}else j.cm(x);
var M=x.root.cI(j.XJ(x),x,z[F]);if(j.add.artb)M=M.QM(j.nU());L=L.QM(M);M.offset(-D,-Z);L=L.QM(M);if(j.N8()&&j.B&&j.B.color==255)L=L.QM(B);
j.a26()}}x.i(f.p.u8(L))};Q.R7.acG=function(x,z){var A=[];for(var F=0;F<z.length;F++){var o=x.g[z[F]];
A.push(o.V3(x))}return A};Q.R7.mj=function(x,z,A){var o=x.G.ky={v:[],F:[]},i=z.x+A[0],L=z.y+A[1];if(A[2]!=1e9){o.F.push("M","L");
o.v.push(A[2],L,A[2],L+z.n)}if(A[3]!=1e9){o.F.push("M","L");o.v.push(i,A[3],i+z.m,A[3])}x.o$=!0};Q.R7.EX=function(x,z,A,o){var i=Q.R7.arO(x,[[z.x],[z.y]],A,o);
return new iL(z.x+i[0],z.y+i[1])};Q.R7.Dh=function(x,z,A,o,i){var L=i==!0?1:.5,B=Q.R7.arO(x,[[z.x,z.x+Math.round(z.m*L),z.x+z.m],[z.y,z.y+Math.round(z.n*L),z.y+z.n]],A,o);
return B};Q.R7.arO=function(x,z,A,o){if(o==null)o=[!0,null,!0];var i=[0,0,1e9,1e9];if(!A.rF)return i;
var L=JSON.parse(JSON.stringify(z));for(var B=0;B<2;B++){var D=1e9,Z=z[B],j=0;for(var a=0;a<Z.length;
a++){var b=Q.R7.afh(x,Z[a],L[1-B][a],B,A,o);if(b!=1e9)L[B][a]=b;if(b!=1e9&&Math.abs(b-Z[a])<Math.abs(D)){D=b-Z[a];
j=b}}if(D!=1e9){i[B]=D;i[B+2]=j}}return i};Q.R7.afh=function(x,z,A,o,i,L){var B=1e9,D=i.TK,Z=i.gw,j=[x.root];
while(j.length!=0&&D[2]){var a=j.pop(),b=a.j,W=b.rect;if(!b.Gi())continue;if(a.children)for(var F=0;
F<a.children.length;F++)j.push(a.children[F]);if(x.f.indexOf(a.index)!=-1||W.WT())continue;if(o==0){var c=W.m,Y=c>>>1;
if(Math.abs(W.x-z)<Math.abs(B-z))B=W.x;if(Math.abs(W.x+Y-z)<Math.abs(B-z))B=W.x+Y;if(Math.abs(W.x+c-z)<Math.abs(B-z))B=W.x+c}else{var R=W.n,$=R>>>1;
if(Math.abs(W.y-z)<Math.abs(B-z))B=W.y;if(Math.abs(W.y+$-z)<Math.abs(B-z))B=W.y+$;if(Math.abs(W.y+R-z)<Math.abs(B-z))B=W.y+R}}if(L[0]&&D[0]&&Z.sf&&i.c4){var k=x.OG(),w=k[0],V=k[1],h=x.oT();
for(var F=0;F<w.length;F++)if((V[F]==-1||V[F]==h)&&w[F][0]==o&&Math.abs(w[F][1]-z)<Math.abs(B-z))B=w[F][1]}if(D[1]&&Z.TQ&&i.c4){var l=Math.round(f.Fi.Br(Z.tq,x.um,x.m,Z.Pv));
if(o==1&&Z.r8==1){var M=A*.5*Math.sqrt(4/3),q;l*=Math.sqrt(4/3);q=Math.round((z-M)/l)*l+M;if(Math.abs(q-z)<Math.abs(B-z))B=q;
q=Math.round((z+M)/l)*l-M;if(Math.abs(q-z)<Math.abs(B-z))B=q}else{var q=Math.round(z/l)*l;if(Math.abs(q-z)<Math.abs(B-z))B=q}}var t=x.TY;
if(D[3]&&Z.TY&&i.c4&&t.length!=0){for(var F=0;F<t.length;F++){if(!L[2]&&x.D4.indexOf(F)!=-1)continue;
var p=Q.wV.vG(t,F);for(var E=0;E<3;E+=2)if(p[E+o]!=z&&Math.abs(p[E+o]-z)<Math.abs(B-z))B=p[E+o]}}if(L[1])for(var _=0;
_<L[1].length;_++){var W=L[1][_],c=W.m,R=W.n,S=[W.x,W.y,W.x+(c>>>1),W.y+(R>>>1),W.x+c,W.y+R];for(var F=0;
F<6;F+=2)if(Math.abs(S[F+o]-z)<Math.abs(B-z))B=S[F+o]}if(D[4]){var W=new av(0,0,x.m,x.n),h=x.oT();if(h!=-1)W=x.g[h].nU();
var c=W.m,R=W.n,S=[W.x,W.y,W.x+(c>>>1),W.y+(R>>>1),W.x+c,W.y+R];for(var F=0;F<6;F+=2)if(Math.abs(S[F+o]-z)<Math.abs(B-z))B=S[F+o]}var y=Math.abs(B-z)<=4*Q.Z()/x.t.X?B:1e9;
return y};Q.xr=function(){Q.BO.call(this,[10,12],Q.J5,"tools/mwand")};Q.xr.prototype=new Q.BO;Q.xr.prototype.wX=Q.BO.prototype.ajB;
Q.xr.prototype.Qc=Q.BO.prototype.ajJ;Q.xr.prototype.XP=function(x,z,A,o){this.finish(x,z,A,o)};Q.xr.prototype.getSelection=function(x,z,A,o){var i=this.fl,L=Q.BO.amp(new iL(Math.floor(i.x),Math.floor(i.y)),this.vQ.wconf,this.vQ.sall);
return L};Q.xr.a4U=function(x,z,A,o,i){if(x.f.length!=1){alert("More than one layer selected.");return null}var L=x.g[x.f[0]],B=null,D;
if(i)B=L.ZD<=0?null:L.ZD==1?L.dP():L.zg(x).B;if(B==null&&L.add.lsct!=null&&L.add.lsct!=hF.OI){alert("No layer selected.");
return null}if(z.x<0||z.x>x.m||z.y<0||z.y>x.n)return null;var Z=new av(0,0,x.m,x.n);if(o){D=x.MK()}else if(B==null&&Z.S0(L.rect))D=L.buffer;
else{D=f.C(Z.$()*4);if(B==null)f.mV(L.buffer,L.rect,D,Z);else Q.sg.HL(B.channel,B.rect,B.color,D,Z)}var j=Q.xr.akO(D,Z,z,null,A),a=f.mI(j,Z),b=f.C(a.$());
f.K5(j,Z,b,a);return{rect:a,channel:b}};Q.xr.ams=function(x,z,A){var o=z.m,i=z.n,B=0,D=0,Z=0,j=0;x=new Uint32Array(x.buffer);
var L=[],a=A.length;for(var F=0;F<a;F++){var b=A[F],W=Math.round(b.x-.5-z.x),c=Math.round(b.y-.5-z.y);
W=Math.max(0,Math.min(o-1,W));c=Math.max(0,Math.min(i-1,c));var Y=c*o+W,R=x[Y];L.push([R&255,R>>8&255,R>>16&255,R>>>24])}return L};
Q.xr.akO=function(x,z,A,o,i){x=new Uint32Array(x.buffer);var L=z.m,B=z.n,D=L*B;if(o==null)o=Q.xr.ams(x,z,[A]);
var Z=Math.round(A.x-.5-z.x),j=Math.round(A.y-.5-z.y),a=j*L+Z,b=Date.now(),W=f.C(L*B),c=i[0],Y=1/c,R=i[1]&&c>0?255:0;
if(i[2]){var $=f.C(W.length),k=new Uint32Array(D),w=1;k[0]=Z<<16|j;$[a]=1;while(w>0){var V=k[w-1];w--;
var h=V>>>16,l=V&65535,F=l*L+h,M=Q.xr.BE(x[F],o);if(M>c){var q=R*(1-Math.max(0,Math.min(1,(M-c)*Y)));
W[F]=~~q}else{W[F]=255;if(l!=B-1&&$[F+L]==0){k[w++]=h<<16|l+1;$[F+L]=1}if(l!=0&&$[F-L]==0){k[w++]=h<<16|l-1;
$[F-L]=1}if(h!=L-1&&$[F+1]==0){k[w++]=h+1<<16|l;$[F+1]=1}if(h!=0&&$[F-1]==0){k[w++]=h-1<<16|l;$[F-1]=1}}}}else{for(var F=0;
F<D;F++){var M=Q.xr.BE(x[F],o);if(M<=c)W[F]=255}for(var l=0;l<B;l++)for(var h=0;h<L;h++){var F=l*L+h;
if(W[F]==0&&(h>0&&(W[F-1]==255||l>0&&W[F-L-1]==255||l<B-1&&W[F+L-1]==255)||h<L-1&&(W[F+1]==255||l>0&&W[F-L+1]==255||l<B-1&&W[F+L+1]==255)||l>0&&W[F-L]==255||l<B-1&&W[F+L]==255)){var M=Q.xr.BE(x[F],o),q=R*(1-Math.max(0,Math.min(1,(M-c)*Y)));
W[F]=~~q}}}return W};Q.xr.BE=function(x,z){var A=z.length,o=Q.xr.a9p(x,z[0]),F=1;while(F!=A){o=Math.min(o,Q.xr.a9p(x,z[F]));
F++}return o};Q.xr.a9p=function(x,z){var A=x&255,o=x>>>8&255,i=x>>>16&255,L=x>>>24&255;if(z[3]==0)return L<5?0:255;
var B=Math.max(Math.abs(A-z[0]),Math.max(Math.abs(o-z[1]),Math.abs(i-z[2])));return L==0?255:B};Q.z7=function(x,z){if(z)Q.sg.call(this);
else if(x)Q.sg.call(this,[10,49],Q.kF,"tools/camove");else Q.sg.call(this,[10,26],Q.H0,"tools/patch");
this.pU=null;this.vw=null;this.u=null;this.RD=null;this.RW=new iL;this.BV=null;this.Vi=null};Q.z7.prototype=new Q.sg;
Q.z7.prototype.Xv=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y);if(x.O&&f.Qd(L,x.O.channel,x.O.rect)){var B=new av(0,0,x.m,x.n),D=B.tE(x.O.rect);
if(!x.Qi()||D.WT())return;if(!0){var Z=f.C(D.$());f.K5(x.O.channel,x.O.rect,Z,D);x.O={channel:Z,rect:D}}this.N4(x);
this._Y(x);this.RD=L;this.RW=new iL(L.x-x.O.rect.x,L.y-x.O.rect.y);this.Vi=f.C(x.O.rect.$()*4);this.Vi.fill(255);
if(this.vQ.patch==1){var j=x.g[x.f[0]];j.RL(x,x.O,!0);if(j.sL==null)this.RD=null}this.BV=x.O.rect.clone()}else{this.vw={v:[L.x,L.y],F:["M"]};
this.pU=L}};Q.z7.prototype.Dg=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y);if(this.RD){if(this.vQ.patch==1){if(x.CE.length==0){var B=x.g[x.f[0]].sL,D=L.x-this.RW.x,Z=L.y-this.RW.y;
Q.R7.Bs(x,x.f[0],Math.round(D-B.Du.x),Math.round(Z-B.Du.y))}}else this.acE(x,L,"clone")}if(this.pU){this.vw.F.push("L");
this.vw.v.push(L.x,L.y);this.pU=L;x.G.PK=this.vw;x.o$=!0}};Q.z7.prototype.V4=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y);
if(this.RD){var B=x.O.rect.clone();if(this.id==Q.kF){var D=x.g[x.f[0]];D.gm(x,D.sL);x.O.rect=this.BV.clone();
var Z=f.C(x.O.rect.$()*4);f.c8(x.O.channel,Z,3);this.AU(x,"sheal",Z,x.O.rect,x.O.rect);x.O.rect=B;B=B.QM(this.BV)}this.acE(x,L,"heal");
this.finish(x,B,null,null,!0);x.i(B);this.RD=null}if(this.pU){var j=Q.BO.TA(this.vQ.setop,o.A(bJ.xb),o.A(bJ.yU)),a=new fZ(G.E.rm,!0);
if(this.vw.v.length<=4)a.data=Q.BO.dA();else a.data=Q.BO.Vf(this.vw.v,j);z.c(a);this.pU=null;x.G.PK=null;
x.o$=!0}};Q.z7.prototype.$W=function(){return this.u};Q.z7.prototype.Wr=function(x,z,A,o,i){Q.sg.prototype.Wr.call(this,x,z,A,o,i);
this.k2(i,o)};Q.z7.prototype.k2=function(x,z){var A="auto;";if(z!=null&&z.A(bJ.xb)&&!z.A(bJ.yU)||this.vQ.setop=="union")A="copy";
var o=new fZ(G.E.Y,!0);o.data={d:G.U.sy,OU:A};if(this.caller)this.caller.c(o)};Q.z7.prototype.acE=function(x,z,A){var o=new iL(Math.round(this.RD.x-z.x),Math.round(this.RD.y-z.y));
if(this.vQ.patch==1)o.Jt(-o.x,-o.y);this.u=o;this.AU(x,A,this.Vi,x.O.rect,x.O.rect);this.i(x,x.O.rect)};
Q.agF=function(){Q.z7.call(this,!0);this.vQ.patch=1};Q.agF.prototype=new Q.z7(!0,!0);Q.Nl=function(){Q.sg.call(this,[10,13],Q.apC,"tools/pbucket");
this.LQ=!1};Q.Nl.prototype=new Q.sg;Q.Nl.prototype.enable=function(x,z,A,o){var i=new fZ(G.E.Y,!0);i.data={d:G.U.sy,OU:"default"};
z.c(i)};Q.Nl.prototype.wB=function(x,z){};Q.Nl.prototype.Xv=function(x,z,A,o,i){this.LQ=!0};Q.Nl.prototype.V4=function(x,z,A,o,i,L){var B=this.LQ;
this.LQ=!1;if(!B||L)return;if(this.x0(o,z,i))return;if(!x.Qi())return;var D=x.t.Sd(i.x,i.y),Z=Q.xr.a4U(x,D,this.vQ.wconf,this.vQ.sall,!0);
if(Z==null)return;var j=f.C(Z.rect.$()*4);f.OD(j,(A.VJ&255)<<16|(A.VJ>>8&255)<<8|(A.VJ>>16&255)<<0);
f.c8(Z.channel,j,3);this.N4(x);this.AU(x,"draw",j,Z.rect,Z.rect);this.i(x,Z.rect);this.finish(x,Z.rect)};
Q.Py=function(){Q.BO.call(this,[10,14],Q.aok,"tools/plasso");this.EF="crosshair";this.yG=[];this.lL=null;
this.vw=null;this.amH=0};Q.Py.prototype=new Q.BO;Q.Py.prototype.disable=function(x,z,A,o){this.rQ(x)};
Q.Py.prototype.XP=function(x,z,A,o){this.yG=[bJ.BC,bJ.Bo]};Q.Py.prototype.WU=function(x){return this.yG.indexOf(x)!=-1};
Q.Py.prototype.V5=function(x){return this.vw!=null};Q.Py.prototype.hd=function(){return this.vw!=null};
Q.Py.prototype.wn=function(){return this.vw!=null};Q.Py.prototype.ss=function(x,z,A,o){if(this.vw==null)return;
var i=this.vw,L=i.v,B=L.length-2,D=this.fl;if(this.my.c5(1)&&A.A(bJ.yU)&&o.z0){L.push(0,0);i.F.push("L");
B+=2}else if(A.A(bJ.xb))D=Q.Bx.i5(new iL(L[B-2],L[B-1]),D);L[B]=D.x;L[B+1]=D.y;x.G.PK=i;x.o$=!0};Q.Py.prototype.rP=function(x,z,A,o){var i=Date.now();
if(this.vw==null)this.vw={v:[this.fl.x,this.fl.y,this.fl.x,this.fl.y],F:["M","L"]};else{this.ss(x,z,A,o);
if(i-this.amH<250||iL.Or(this.fl,new iL(this.vw.v[0],this.vw.v[1]))<Q.VS(x,o)){this.lL=this.vw;this.finish(x,z,A,o);
this.rQ(x);return}this.vw.F.push("L");this.vw.v.push(this.fl.x,this.fl.y)}this.amH=i;x.G.PK=this.vw};
Q.Py.prototype.rQ=function(x){this.vw=null;this.yG=[];if(x!=null){x.G.PK=null;x.o$=!0}};Q.Py.prototype.R0=function(x,z,A,o){Q.BO.prototype.R0.call(this,x,z,A,o);
if(o.A(bJ.dw)&&this.vw==null&&this.lL&&x.O!=null){var i=new fZ(G.E.r);i.k=Q.xa;i.data={d:"h_stepbck"};
z.c(i);this.XP(x,A,o,null);this.vw=this.lL;return}if(this.vw==null)return;if(o.A(bJ.BC)||o.A(bJ.Bo)){this.vw.v.pop();
this.vw.v.pop();this.vw.F.pop();this.ss(x,A,o)}if(o.A(bJ.oN)){if(this.vw.v.length>4){this.lL=this.vw;
this.finish(x,A,o)}this.vw=null}if(o.A(bJ.dw)){this.vw=null}x.G.PK=this.vw;x.o$=!0};Q.Py.prototype.getSelection=function(x,z,A,o){return Q.BO.Vf(this.vw.v,null,this.vQ.anta)};
Q.ZE=function(){Q.BO.call(this,[10,10],Q.aqE,"tools/mlasso");this.EF="crosshair";this.yG=[];this._=[];
this.kg=[];this.VI=[];this.X0=null;this.yT=null;this.qV=null;this.rV=0;this.DO=0};Q.ZE.prototype=new Q.BO;
Q.ZE.prototype.disable=function(x,z,A,o){this.clear(x)};Q.ZE.prototype.V5=function(x){return this._.length!=0};
Q.ZE.prototype.wn=function(){return this._.length!=0};Q.ZE.prototype.WU=function(x){return this.yG.indexOf(x)!=-1};
Q.ZE.prototype.XP=function(x,z,A,o){this.yG=[bJ.BC,bJ.Bo];var i=this.un(this.YH,x);if(this._.length!=0&&(iL.Or(i,this._[0])<Q.VS(x,o)||Date.now()-this.rV<300)){this.dO(x,this._[0]);
this.finish(x,z,A);this.clear(x);return}this.rV=Date.now();if(this._.length!=0)i=this.qr(i,x);else{var L=x.m,B=x.n,D=f.C(L*B),Z=x.MK(),j=L*B*4;
for(var F=0;F<j;F+=4)D[F>>>2]=~~(.5+f.yA(Z[F],Z[F+1],Z[F+2])*(Z[F+3]*(1/255)));this.X0=f.yg.a1A(D,L,B);
this.qV=new Uint16Array(D.length)}this.dO(x,i);this.DO=A.A(bJ.yU)?1:0;this.SN(x)};Q.ZE.prototype.dO=function(x,z){var A=this._;
this.kg[A.length]=this.VI.length;if(A.length!=0){f.yg.dZ(this.yT,z.y*x.m+z.x);var o=this.w5(x,z);o.reverse();
var i=Q.ZE.arI(x,o);this.VI=this.VI.concat(i)}A.push(z);this.ahg(x)};Q.ZE.prototype.ahg=function(x){var z=this._[this._.length-1],A=z.y*x.m+z.x;
this.yT=f.yg.au3(this.X0.ki,this.X0.dc,A);this.qV.fill(0)};Q.ZE.prototype.un=function(x,z){return new iL(Math.floor(Math.max(0,Math.min(z.m-1,x.x))),Math.floor(Math.max(0,Math.min(z.n-1,x.y))))};
Q.ZE.prototype.clear=function(x){this.VI=[];this._=[];this.kg=[];this.X0=null;this.yT=null;this.qV=null;
if(x!=null){x.G.PK=null;x.G.XF=[];x.o$=!0}this.yG=[]};Q.ZE.prototype.ss=function(x,z,A,o){var i=this._,L=i.length;
if(L==0)return;var B=this.qr(this.un(this.fl,x),x),D=this.w5(x,B);for(var F=0;F<D.length;F++){var Z=D[F],j=new iL(Z%x.m,Math.floor(Z/x.m));
if(this.qV[Z]>30&&iL.Or(j,i[L-1])>20){this.dO(x,j);return}this.qV[Z]++}if(this.DO==1&&o.z0)this.dO(x,B);
this.SN(x)};Q.ZE.prototype.SN=function(x){var z=this._;if(z.length!=0){var A=this.qr(this.un(this.fl,x),x),o=this.w5(x,A);
o.reverse();var i=Q.ZE.arI(x,o),L=this.VI.concat(i),B=x.G.PK={v:L,F:["M"]};for(var F=2;F<L.length;F+=2)B.F.push("L")}x.G.XF=[];
for(var F=0;F<z.length;F++)x.G.XF.push(z[F].x+.5,z[F].y+.5);x.o$=!0};Q.ZE.prototype.rP=function(x,z,A,o){};
Q.ZE.prototype.R0=function(x,z,A,o){if(this._.length==0)return;if(o.A(bJ.BC)||o.A(bJ.Bo)){this._.pop();
this.VI=this.VI.slice(0,this.kg[this._.length]);this.kg.pop();if(this._.length==0)this.clear(x);else this.ahg(x);
this.SN(x)}if(o.A(bJ.oN)){var i=this.un(this.fl,x);this.dO(x,i);this.finish(x,A,o);this.clear(x)}if(o.A(bJ.dw)){this.clear(x)}};
Q.ZE.prototype.getSelection=function(x,z,A,o){return Q.BO.Vf(this.VI,null,this.vQ.anta)};Q.ZE.prototype.w5=function(x,z){var A=this._[this._.length-1],o=A.y*x.m+A.x,i=z.y*x.m+z.x;
if(this.DO==1)return[i,o];var L=[i];while(i!=o){i=this.yT.Hv[i];L.push(i);if(L.length>5e3){console.log(L);
throw"e"}}return L};Q.ZE.arI=function(x,z){var A=[],o=x.m;for(var F=0;F<z.length;F++){var i=z[F];A.push(i%o+.5,Math.floor(i/o)+.5)}return A};
Q.ZE.prototype.qr=function(x,z){var A=z.m,o=z.n,i=x.clone(),B=3;f.yg.dZ(this.yT,x.y*A+x.x);var L=this.yT.iU[x.y*A+x.x];
for(var D=-B+1;D<B;D++)for(var Z=-B+1;Z<B;Z++){var j=x.x+Z,a=x.y+D;if(j<0||j>=A||a<0||a>=o)continue;
f.yg.dZ(this.yT,a*A+j);if(this.yT.iU[a*A+j]<L)i.Jt(j,a)}return i};Q.ap=function(){Q.He.call(this,[10,36],Q.Gl,"tools/ruler");
this.qX=null;this.wg=null;this.Fj=null;this.nv=null;this.fJ=null};Q.ap.prototype=new Q.He;Q.ap.prototype.V5=function(x){return x.z0};
Q.ap.prototype.enable=function(x,z,A,o){Q.He.prototype.enable.call(this,x,z,o,A);if(x)this.ac(x)};Q.ap.prototype.disable=function(x,z,A,o){if(x)this.rQ(x)};
Q.ap.prototype.A1=function(x,z,A,o,i){this.qX=this.Fj=null;this.ac(A)};Q.ap.prototype.Xv=function(x,z,A,o,i){var L=Q.VS(x,i),B=x.t.Sd(i.x,i.y);
B.x=Math.round(B.x);B.y=Math.round(B.y);var D=this.qX;this.wg=D?D.slice(0):null;var Z=D&&iL.Or(B,D[0])<L,j=D&&iL.Or(B,D[1])<L,a=D&&D[2]&&iL.Or(B,D[2])<L;
if(Z||j||a){if(o.A(bJ.yU)&&D.length==2){if(j){var b=D[0];D[0]=D[1];D[1]=b}D[2]=D[0].clone();this.Fj=[2]}else this.Fj=[Z?0:j?1:2]}else if(D&&Q.ap.atN(D[0],D[1],B)<L&&Math.min(D[0].x,D[1].x)-5<=B.x&&B.x<=Math.max(D[0].x,D[1].x)+5&&Math.min(D[0].y,D[1].y)-5<=B.y&&B.y<=Math.max(D[0].y,D[1].y)+5){this.Fj=[];
this.fJ=[];for(var F=0;F<D.length;F++){this.Fj.push(F);this.fJ.push(D[F].clone())}this.nv=B}else{this.qX=[B.clone(),B.clone()];
this.Fj=[1]}};Q.ap.prototype.Dg=function(x,z,A,o,i){if(this.Fj==null)return;var L=this.qX,B=this.Fj,D=x.t.Sd(i.x,i.y);
D.x=Math.round(D.x);D.y=Math.round(D.y);if(B.length>1){var Z=D.x-this.nv.x,j=D.y-this.nv.y;for(var F=0;
F<L.length;F++){L[F]=this.fJ[F].clone();L[F].offset(Z,j)}}else{L[B[0]].Jt(D.x,D.y);if(o.A(bJ.xb)){L[B[0]]=Q.Bx.i5(L[1-B[0]],L[B[0]])}}this.ac(x);
this.bf(z,G.E.Y,{d:G.U.HU,k:this.id,a7T:L[0],o8:L[1],ml:L[2],um:x.um,ac3:x.m});x.t.xC=f.p.ke([L[0].x,L[0].y,L[1].x,L[1].y]);
console.log(x.t.xC)};Q.ap.prototype.V4=function(x,z,A,o,i,L){this.Fj=null;if(L){this.qX=this.wg.slice(0);
this.ac(x)}};Q.ap.prototype.bf=function(x,z,A){var o=new fZ(z,!0);o.data=A;x.c(o)};Q.ap.prototype.ac=function(x){var z=this.qX;
if(z==null)this.rQ(x);else{var A=[z[1].x,z[1].y,z[0].x,z[0].y],o=["M","L"];if(z.length>2){A.push(z[2].x,z[2].y);
o.push("L")}x.G.PK={F:o,v:A};x.G.XF=A}x.o$=!0};Q.ap.prototype.rQ=function(x){x.G.PK=null;x.G.XF=[]};
Q.ap.atN=function(x,z,A){var o=z.x-x.x,i=z.y-x.y,L=Math.abs(i*A.x-o*A.y+z.x*x.y-z.y*x.x),B=Math.sqrt(o*o+i*i);
return B==0?0:L/B};Q.Ld=function(){Q.sg.call(this,[10,19],Q.dI,"tools/sharpen");this.RJ="copy"};Q.Ld.prototype=new Q.sg;
Q.Ld.prototype.Xv=function(x,z,A,o,i){var L=this.vQ.pdetail?kb.t8:kb.dI;if(o.A(bJ.yU))L=kb.xR;this.B2(x,A,o,i,this.vQ.strn,L);
if(this.oq==null)return;this.sP(x)};Q.Ld.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.zo=function(){Q.sg.call(this,[10,24],Q.mU,"tools/shbrush");
this.RJ="draw";this.vQ.opacity=.5};Q.zo.prototype=new Q.sg;Q.zo.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,1);
if(this.oq==null)return;this._Y(x);this.sP(x)};Q.zo.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.zo.prototype.V4=function(x,z,A,o,i){if(this.oq==null)return;
this.AU(x,"sheal",this.oq.Nt(),this.oq.mc(),this.oq.Ig(),null);this.i(x,this.oq.Ig());Q.sg.prototype.V4.call(this,x,z,A,o,i)};
Q.LJ=function(){Q.sg.call(this,[10,20],Q.gG,"tools/smudge");this.RJ="copy"};Q.LJ.prototype=new Q.sg;
Q.LJ.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,this.vQ.strn,kb.gG);if(this.oq==null)return;this.sP(x)};
Q.LJ.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;
if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.tG=function(){Q.sg.call(this,[10,23],Q.WM,"tools/sponge");
this.RJ="sponge"};Q.tG.prototype=new Q.sg;Q.tG.prototype.Xv=function(x,z,A,o,i){this.B2(x,A,o,i,this.vQ.flow);
if(this.oq==null)return;this.sP(x)};Q.tG.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);if(this.Nv)this.Zk(x,A,i);
if(this.oq==null)return;if(!i.z0)return;this.Zo(x,A,o,i);this.sP(x)};Q.jO=function(){Q.He.call(this,[10,17],Q.WQ,"tools/zoom");
this.Qs=!1;this.gE=!0;this.Jx=0;this.oY=null;this.l9=null;this.Xf=0;this.PR=null;this.Kz=0;this.an=new ir([{name:[8,0],PD:"Ctrl + +"},{name:[8,1],PD:"Ctrl + -",Oh:!0},{name:[20,3],PD:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],PD:"Ctrl + 1"}],[{V:G.E.r,k:Q.WQ,M:{d:"zoom",gE:!0}},{V:G.E.r,k:Q.WQ,M:{d:"zoom",gE:!1}},{V:G.E.r,k:Q.WQ,M:{d:"adapt",h:"fitscr"}},{V:G.E.r,k:Q.WQ,M:{d:"adapt",h:"pixel"}}])};
Q.jO.prototype=new Q.He;Q.jO.prototype.zD=function(x,z,A,o,i){var L=this.an;L.N();L.parent=z;L.update(x,A);
var B=new fZ(G.E.Y,!0);B.data={d:G.U.Sc,oM:L,x:i.Md+2,y:i.fZ+1};z.c(B)};Q.jO.prototype.enable=function(x,z,A,o){this.nD(z,o);
if(x&&Date.now()-this.Jx<300)this.A1({d:"adapt",h:"pixel"},z,x,o,A);this.Jx=Date.now()};Q.jO.prototype.Xv=function(x,z,A,o,i){this.l9=new iL(i.x,i.y);
this.Xf=x.t.X;this.PR=x.t.u.clone()};Q.jO.prototype.Dg=function(x,z,A,o,i){if(this.l9==null)return;var L=Math.exp(Math.log(this.Xf)+(i.x-this.l9.x)/64);
L=Math.max(.02,Math.min(Q.jO.zv[0],L));x.t.X=this.Xf;x.t.u=this.PR.clone();this.A1({d:"zoom",X:L,Rr:this.l9},z,x,o,A)};
Q.jO.prototype.V4=function(x,z,A,o,i){if(iL.Or(this.l9,i)<4){var L=this.afv(o);this.A1({d:"zoom",gE:L,Rr:i},z,x,o,A)}this.l9=null};
Q.jO.zv=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
Q.jO.agS=function(x,z,A,o){var i=1;while(x*i*1/2>A||z*i*1/2>o)i*=1/2;if(x*i*2/3>A||z*i*2/3>o)i*=1/2;
else if(x*i>A||z*i>o)i*=2/3;return i};Q.jO.amQ=function(x,z){var A=Q.jO.ag8(x);if(z&&A==0)return x;if(!z&&A==Q.jO.zv.length-1)return x;
return Q.jO.zv[z?A-1:A+1]};Q.jO.ag8=function(x){var z=0;while(Q.jO.zv[z]>x)z++;return z};Q.jO.nl=function(x,z,A,o){var i=x.m5;
if(o==0||o==null){o=Q.jO.amQ(x.X,A);if(o==x.X)return}var L=x.Sd(z.x,z.y);if(i.m*o<=x.VK.m&&i.n*o<=x.VK.n){x.u.Jt(0,0);
x.X=o}else{var B=x.$f(),D=x.X/o;B.translate(-L.x,-L.y);B.scale(D,D);B.translate(L.x,L.y);x.auA(B)}};
Q.jO.prototype.A1=function(x,z,A,o,i){if(x.d=="pzoom"){if(typeof x.h=="string")return;x={d:"zoom",X:x.h/100}}var L=0,B=!1,D=null;
if(x.d=="adapt"){var Z=0;if(x.h=="pixel")Z=1;if(x.h=="fitscr"){var Z=0,j=A.t.VK.m,a=A.t.VK.n,b=i.TS?f.Fi.Xh+4:8;
Z=Math.min((j-b*2)/A.m,(a-b*2)/A.n)}D=new iL(Math.round(A.t.VK.m/2),Math.round(A.t.VK.n/2));L=Z;Q.jO.nl(A.t,D,B,L);
A.Gy=!0}if(x.d.startsWith("multi")){function W(q){var t=q[0].x-q[1].x,p=q[0].y-q[1].y;return Math.sqrt(t*t+p*p)}function c(q){return new iL((q[0].x+q[1].x)/2,(q[0].y+q[1].y)/2)}var Y=x.j0,R=c(Y);
if(x.d=="multidown"){this.oY=[Y,A.t.X,A.t.Sd(R.x,R.y)]}else{var $=Q.jO.zv;L=this.oY[1]*W(Y)/W(this.oY[0]);
L=Math.max($[$.length-1],Math.min($[0],L));if(L!=A.t.X)Q.jO.nl(A.t,R,B,L);var k=this.oY[2],w=A.t.ay(k.x,k.y),V=A.t.u;
V.x=Math.round(V.x+R.x-w.x);V.y=Math.round(V.y+R.y-w.y);A.Gy=!0}}if(x.d=="scroll"){D=x.Rr;this.Kz+=x.I0.y;
var h=14;if(this.Kz<-h){B=!0;this.Kz=Math.max(this.Kz+h,-(h-1))}else if(this.Kz>h){B=!1;this.Kz=Math.min(this.Kz-h,h-1)}else return;
Q.jO.nl(A.t,D,B,L);A.Gy=!0}if(x.d=="zoom"){D=x.Rr?x.Rr:new iL(Math.round(A.t.VK.m/2),Math.round(A.t.VK.n/2));
if(x.X!=null)L=x.X;else B=x.gE;Q.jO.nl(A.t,D,B,L);A.Gy=!0}if(x.d=="mskView"){var l=A.g[A.f[0]];if(l.ZD<=0){l.ZD=1;
A.bg=!0}var M=l.ZD==3?l.zg(A).B:l.dP();if(x.h==0){A.t.u1=[1,1,1];M.ft=!1}if(x.h==1){A.t.u1=[1,1,1];M.ft=!0}if(x.h==2){A.t.u1=[0,0,0];
M.ft=!0}for(var F=0;F<A.lX.length;F++)A.lX[F].ft=!1;A.CE=[];A.o$=!0}};Q.jO.prototype.R0=function(x,z,A,o){if(this.Qs!=o.A(bJ.yU)){this.Qs=o.A(bJ.yU);
var i={d:G.U.HU,k:this.id,Qs:this.Qs},L=new fZ(G.E.Y,!0);L.data=i;z.c(L);this.nD(z,o)}};Q.jO.prototype.nD=function(x,z){var A=new fZ(G.E.Y,!0),o=this.afv(z);
A.data={d:G.U.sy,OU:o?"zoom-in":"zoom-out"};x.c(A)};Q.jO.prototype.Wr=function(x,z,A,o){this.gE=x.gE;
this.nD(z,o)};Q.jO.prototype.afv=function(x){var z=this.gE;if(x.A(bJ.aU)&&x.A(bJ.RI))z=!0;if(this.Qs)z=!z;
return z};Q.jO.ahE=function(x,z){if(x.A(bJ.Xr)||x.A(bJ.aft)){z.k=Q.WQ;z.data={d:"zoom",gE:!0}}if(x.A(bJ.On)){z.k=Q.WQ;
z.data={d:"zoom",gE:!1}}if(x.A(bJ._O)){z.k=Q.WQ;z.data={d:"adapt",h:"fitscr"}}if(x.A(bJ.UH)){z.k=Q.WQ;
z.data={d:"adapt",h:"pixel"}}};Q.YG=function(x,z,A){Q.He.call(this,x,z,A);this.S$=null;this.OQ=null;
this.i7=null;this.an$=0};Q.YG.prototype=new Q.He;Q.YG.YM=function(x){var z={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},A=x==0?{classID:"null",null:z,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:z,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{zR:x==0?"fill":"stroke",k7:A}};Q.YG.prototype.enable=function(x,z,A,o,i){this.OQ=A;var L=new fZ(G.E.Y,!0);
L.data={d:G.U.sy,OU:"default"};z.c(L)};Q.YG.prototype.zD=function(x,z,A,o,i){var L=x.Dd(),B=L[0],D=L[1];
if(D.length==0)return;var Z=B[D[0]],j=Z.add.vmsk,a=x.t.Sd(i.x,i.y),b=4*Q.Z()/x.t.X,W=new av(a.x-b,a.y-b,b*2,b*2),c=f.J.hs(j._,W)[0];
if(c.length!=0){j.OH=c;x.o$=!0}var Y=f.J.Qd(j._,a).dD;if(Y!=-1){j.f=[Y];x.o$=!0}var R=new fZ(G.E.Y,!0);
R.data={d:G.U.HU,k:this.id,Fq:i,Xg:x,DL:A};z.c(R)};Q.YG.prototype.anf=function(x,z){var A=new fZ(G.E.Y,!0);
A.data={d:G.U.nF,Hl:cu.Lu};if(!z.c4)x.c(A);A.data={d:G.U.nF,Hl:cu.VV};if(!z.gw.Ds)x.c(A)};Q.YG.prototype.Nu=function(x,z,A,o){if(A.YC!=this.id)return;
if(x.f.length==0)return;var i=x.g[x.f[0]],L=i.add.vmsk,B=i.add.vstk,D=Q.YG.N2(x,x.f[0]);this.S$=x;this.i7=z;
if(i.d8()&&L!=null&&(JSON.stringify(B)!=JSON.stringify(A.YK)||JSON.stringify(D)!=JSON.stringify(A.od))){this.an$=Date.now();
var Z=new fZ(G.E.Y,!0);Z.data={d:G.U.nF,Hl:cu.NU,h:D};z.c(Z);Z.data={d:G.U.nF,Hl:cu.kp,h:B};z.c(Z)}};
Q.YG.prototype.wB=function(x,z){if(this.S$==null)return;if(z==cu._j||z==cu.NU||z==cu.kp){if(Date.now()-this.an$<50)return;
var A=z==cu.NU,o=this.S$,i=A?x.od:x.YK,L=[],B=o.f;for(var F=0;F<B.length;F++){var D=B[F],Z=o.g[D];if(!Z.d8()||Z.add.vmsk==null)continue;
L.push(D)}var j=new fZ(G.E.r,!0);j.k=Q.xu;j.data={d:g.rZ,P$:L,Dj:A,h:i};if(L.length!=0)this.i7.c(j)}};
Q.YG.prototype.a5M=function(x){if(typeof x=="number"){var z=new fZ(G.E.rm,!0);z.data=Q.yP.rJ(0);z.data.k7.Usng.v.Type.v.Clr.v=f.Q.Vv({w:x>>>16&255,a:x>>>8&255,s:x>>>0&255});
this.i7.c(z)}};Q.YG.prototype.A1=function(x,z,A,o,i){this.i7=z;if(x.d=="newfill"){if(x.VW==0){var L=new fZ(G.E.Y,!0);
L.data={d:G.U.z1,ca:"colorpicker",bk:i.VJ,PE:this.a5M.bind(this)};z.c(L)}}else if(x.d=="pathedit"){var B=x.wa,D="",Z=A.Ds.slice(0),j=A.Dt.slice(0),a=A.Ds.slice(0),b=A.Dt.slice(0);
if(B=="rnm"){var W=-1-x.dD,c=Z[W],Y=ew.HA(x.name,c.add);if(W!=0)a[W]=Y;else{b=[a.length];a.push(Y);a[0]=ew.HA("Work Path")}D="Rename"}else if(B=="new"){var Y=ew.HA("Path "+Z.length);
if(x.awp){var R=A.Dd(),$=R[0],k=R[1],w=$[k[0]];Y.add.vmsk=w.add.vmsk.clone();Y.add.vogk=JSON.parse(JSON.stringify(w.add.vogk));
if(w.dD==-1){var V=a[b[0]]=ew.HA("Path "+Z.length);V.name=w.name;V.dD=w.dD}}a.push(Y);b=[a.length-1];
D="New"}else if(B=="del"){if(b.length==0)return;b.sort(function(v,n){return v-n});if(b[0]==0){a[0]=ew.HA(Z[0].name);
b=b.slice(1)}var h=0;while(b.length!=0){a.splice(b[0]-h,1);b=b.slice(1);h++}D="Delete"}else if(B=="fromsel"){var l=a[0]=ew.HA("Work Path");
b=[0];if(A.O==null)return;var M=A.O.channel.slice(0);for(var F=0;F<M.length;F++)M[F]=M[F]>128?2:1;var q=A.O.rect.clone();
q.nw(1,1);var t=f.C(q.$());f.K5(M,A.O.rect,t,q);var p=ds.La(t,q.m,q.n,Math.round(q.$()*5e-4)),$=ds.Dd(p),_=new cb(1,0,0,1,-1+A.O.rect.x,-1+A.O.rect.y);
for(var F=0;F<$.length;F++)f.p.D($[F].path.v,_,$[F].path.v);for(var F=0;F<$.length;F++){var S=$[F];if(S.color==1&&S.parent==-1)continue;
var y=f.p.fq($[F].path,!1);l.add.vmsk._=l.add.vmsk._.concat(y.slice(2))}l.add.vogk=g.Az(l.add.vmsk._);
D="Selection to"}var v=new j$(D+" Path",this);v.data={wg:Z,sb:j,a2d:a,sW:b};if(B=="fromsel"){v.data.rl=A.O;
v.data.Bp=null}A.U7(v);this.IR(v.data,A)}else{var r=x._4,R=A.Dd(x.d=="append"),$=R[0],k=R[1],l=$[k[0]],K=l.add.vmsk,s=l.add.vogk,P=K.clone(),d=K.clone(),X=JSON.stringify(s);
if(x.d=="remove"){if(x.gy&&d.OH.length!=0){d._=f.J.a4$(d._,d.OH,s,x.aqu);var U=f.J.T1(d._);for(var F=0;
F<d.f.length;F++)if(d.f[F]>=U){d.f.splice(F,1);F--}d.OH=[];r="Delete Anchors"}else{if(d.f.length==0)return;
var h=0;for(var F=0;F<d.f.length;F++){s.splice(d.f[F]+h,1);h--}d._=f.J.a9X(d._,d.f);d.f=[];d.OH=[];if(r==null)r="Delete Paths"}}if(x.d=="append"){Q.YG.j2(x.abN,d,s)}this.sa(A,l.dD,d,s);
this.lH(A,r,l.dD,P,d.clone(),null,X,JSON.stringify(s))}};Q.YG.Lw=function(x,z){var A=f.J.a5d(x._,x.f),o=[];
for(var F=0;F<x.f.length;F++)o.push(JSON.parse(JSON.stringify(z[x.f[F]])));return[A,o]};Q.YG.j2=function(x,z,A){var o=f.J.T1(z._),i=f.J.T1(x[0]);
z._=z._.concat(x[0].slice(2));z.f=[];for(var F=0;F<i;F++)z.f.push(o+F);for(var F=0;F<i;F++)A.push(JSON.parse(JSON.stringify(x[1][F])))};
Q.YG.prototype.WU=function(x,z){if(z==null)return!1;var A=z.Dd(),o=A[0],i=A[1];if(i.length==0)return!1;
var L=o[i[0]],B=L.add.vmsk;if(B&&B.f.length+B.OH.length!=0)return[bJ.BC,bJ.Bo].indexOf(x)!=-1};Q.YG.prototype.R0=function(x,z,A,o){if(x==null)return;
var i=x.Dd(),L=i[0],B=i[1];if(B.length==0)return;var D=L[B[0]],Z=D.add.vmsk;if(o.A(bJ.dw)||o.A(bJ.oN)||this.id==Q.TW&&o.A(bJ.nA)){Z.OH=[];
x.o$=!0}if(Z.f.length!=0){var j=o.u0();if(j.x!=0||j.y!=0){var a=Z.clone(),b=Z.clone(),W=new cb(1,0,0,1,j.x,j.y),c=D.add.vogk,Y=JSON.stringify(c);
if(o.A(bJ.yU)){var R=Q.YG.Lw(b,c);Q.YG.j2(R,b,c)}f.J.ox(b._,W,b.f);f.i4.D(c,f.P.TX(W),b.f);this.sa(x,D.dD,b,c);
this.lH(x,"Move Paths",D.dD,a,b.clone(),!0,Y,JSON.stringify(c))}if(o.A(bJ.BC)||o.A(bJ.Bo))this.A1({d:"remove",gy:this.id==Q.TW},z,x,o,A)}};
Q.YG.prototype.lH=function(x,z,A,o,i,L,B,D){var Z=new j$(z,this);Z.data={Zc:A,WG:o,i_:i,amF:L,ajS:B,qR:D};
x.U7(Z)};Q.YG.prototype.IR=function(x,z){if(x.Zc!=null)this.sa(z,x.Zc,x.i_.clone(),JSON.parse(x.qR));
else{z.Ds=x.a2d.slice(0);z.Dt=x.sW.slice(0);z.o$=z.bg=!0}if(x.rl||x.Bp){z.O=x.Bp;z.I3=!0}};Q.YG.prototype.a_=function(x,z){if(x.Zc!=null)this.sa(z,x.Zc,x.WG.clone(),JSON.parse(x.ajS));
else{z.Ds=x.wg.slice(0);z.Dt=x.sb.slice(0);z.o$=z.bg=!0}if(x.rl||x.Bp){z.O=x.rl;z.I3=!0}};Q.YG.prototype.sa=function(x,z,A,o){var i=z<0?x.Ds[-1-z]:z<1e6?x.g[z]:x.g[z-1e6].add.TySh,L=i.add.vmsk;
L.channel=null;L.h9=!0;if(L.w0){L.w0.channel=null;L.w0.h9=!0}i.add.vmsk=A;i.add.vogk=o;if(1e6<=z){am.vN(i);
var B=x.g[z-1e6],D=i,Z=this.OQ,j=new ah(D.gP,Z.P2),a=g3.X4(j,D);B.rect=a.G8;B.buffer=a.ov;B.i();x.i()}else if(0<=z){A.h9=!0;
i.cm(x);x.i()}x.o$=x.bg=!0};Q.YG.N2=function(x,z){var A=x.g[z],o=A.add.vstk,i=null;if(o&&!o.fillEnabled.v)i={ks:0};
else if(A.add.SoCo)i={ks:1,Kb:A.add.SoCo};else if(A.add.GdFl)i={ks:2,Kb:A.add.GdFl};else if(A.add.PtFl)i={ks:3,Kb:A.add.PtFl};
return i};Q.YG.UC=function(x,z){var A=x.add.vmsk,o=x.add.vstk,i=z.ks;if(o)o.fillEnabled.v=i!=0;if(i>0){var L=["SoCo","GdFl","PtFl"][i-1];
for(var F=0;F<3;F++)delete x.add[["SoCo","GdFl","PtFl"][F]];x.add[L]=z.Kb}};Q.yP=function(x,z,A,o){Q.YG.call(this,x,z,A);
this.vQ={shape:dF.d6(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Q1:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a4a=o;this.p5=null;this.cR=null;this.eW=null;this.my=new a7};Q.yP.prototype=new Q.YG;Q.yP.prototype.V5=function(x){return x.z0&&this.id!=Q.bB};
Q.yP.prototype.enable=function(x,z,A,o,i){this.OQ=A;var L=new fZ(G.E.Y,!0);L.data={d:G.U.sy,OU:"crosshair"};
z.c(L)};Q.yP.prototype.R0=function(x,z,A,o){Q.YG.prototype.R0.call(this,x,z,A,o);this.my.R0(o);this.tH(z,A)};
Q.yP.prototype.tH=function(x,z){var A=new fZ(G.E.Y,!0);A.data={d:G.U.HU,k:this.id,fA:this.$D(z)};x.c(A)};
Q.yP.prototype.$D=function(x){var z=this.my.Ny(0),A=this.my.c5(0),o=Q.BO.TA(this.vQ.binop,z,A);if(x.ma==1&&o==0)o=1;
return o};Q.yP.prototype.Iy=function(x,z,A,o){};Q.yP.prototype.Xv=function(x,z,A,o,i){var L=A.ma;if(L!=2)this.anf(z,A);
if(L==2&&!x.Qi())return;var B=x.t.Sd(i.x,i.y);B=Q.R7.EX(x,B,A);this.eW=[B.x,B.y];this.p5=B;this.cR=new iL(0,0);
this.my.Xv(o)};Q.yP.prototype.ac4=function(x,z,A,o){var i=[this.p5.clone(),z.clone()];A=this.my.Ny(1)||A.A(bJ.xb)||this.my.c5(1)?A:null;
if(this.a4a)i=Q.yP.aA(i[0],i[1],A,!0,this.vQ.cstr);if(x)x.t.xC=new av(i[0].x,i[0].y,i[1].x-i[0].x,i[1].y-i[0].y);
return this.Iy(i[0],i[1],this.my.Ny(1)&&A.A(bJ.xb),this.eW,x.t,o)};Q.yP.prototype.aj2=function(x,z,A){var o=x.t.Sd(z.x,z.y);
if(this.id==Q.bB)return o;var i=this.vQ.cstr;if(i.Q1==2){var L=new av(o.x-i.x,o.y-i.y,i.x,i.y),B=Q.R7.Dh(x,L,A);
o.x+=B[0];o.y+=B[1];Q.R7.mj(x,L,B)}else o=Q.R7.EX(x,o,A);return o};Q.yP.prototype.Dg=function(x,z,A,o,i){if(this.p5==null)return;
var L=this.eW,B=L.length,D=i?this.aj2(x,i,A):new iL(L[B-2],L[B-1]);if(o.A(bJ.aU))this.p5=D.Vx(this.cR);
else this.cR=D.Vx(this.p5);L.push(D.x,D.y);if(this.vQ.shape==null)this.vQ.shape=A.WZ[0];var Z=this.ac4(x,D,o,!0)[0],j=f.p.zx(Z);
x.G.PK=j;if(this.id!=Q.bB&&this.id!=Q.hI&&this.id!=Q.lj)Q.He.uz(i,x.t.xC,x,A);x.o$=!0;this.my.Dg()};
Q.yP.prototype.acm=function(x,z,A,o){var i=x[4].clone();if(o){i.x-=z/2;i.y-=A/2}if(this.id==Q.hI){z/=2;
A/=2;i.x+=z;i.y+=A;A=-A;z=0}var L=this.Iy(i,new iL(i.x+z,i.y+A),!1,this.eW);this.axb(x[0],x[1],x[2],L)};
Q.yP.prototype.axb=function(x,z,A,o){var i=new fZ(G.E.rm,!0);i.data=Q.yP.aw1(o[1],A);z.c(i);if(o[1].v.classID=="customShape"&&o[1].v.Nm.v.startsWith("--")){var L=x.Dd(),B=L[0],D=L[1],Z=B[D.pop()],j=Z.add.vmsk,a=Z.add.vogk,b=j.clone();
b._=o[0];this.sa(x,Z.dD,b,a)}};Q.yP.prototype.V4=function(x,z,A,o,i,L){if(this.p5==null)return;var B=this.aj2(x,i,A),D=this.$D(A),Z=A.ma,j=this.eW,a=j.length;
if(this.id==Q.bB&&a<=4){}else if(a<=4){B.x=Math.round(B.x);B.y=Math.round(B.y);var b=new fZ(G.E.Y);b.data={d:G.U.z1,ca:"createshape",a76:this.acm.bind(this),avR:this.name,a8P:[x,z,A,o,B]};
if(!L)z.c(b)}else if(a!=2){var W=this.ac4(x,B,o),c=W[0],Y=x.Dd(!0),R=Y[0],$=Y[1],k=$.length-1;if(Z==1&&c.length>2||Z==0&&D!=0&&k!=-1&&R[$[k]].dD>=0){c[2].qh=[1,2,3,0][D-1];
var w=R[$.pop()],V=w.add.vmsk,h=w.add.vogk,l=V.clone(),M=V.clone(),q=JSON.stringify(h);M._=M._.concat(c.slice(2));
M.f=[f.J.T1(M._)-1];var t=f.i4.tY(W[1]);h.push(t?t:f.i4.vJ());this.sa(x,w.dD,M,h);this.lH(x,this.name,w.dD,l,M,null,q,JSON.stringify(h))}else if(Z==0){this.axb(x,z,A,W)}else if(Z==2){var M=new g.tZ;
M._=M._.concat(c.slice(2));var p=M.dP();if(!this.vQ.anta)f.round(p.channel);var E=f.C(p.rect.$()*4);
f.OD(E,(A.VJ&255)<<16|(A.VJ>>8&255)<<8|(A.VJ>>16&255)<<0);f.c8(p.channel,E,3);var _=new fZ(G.E.r,!0);
_.k=Q.s7;_.data={d:"draw",jw:{buffer:E,rect:p.rect.clone()},_4:this.name};z.c(_)}}this.p5=null;x.G.PK=null;
x.G.ky=null;x.G.ey=[];x.t.xC=null;x.o$=!0;this.my.V4();this.tH(z,A)};Q.yP.prototype.Wr=function(x,z,A,o,i){for(var A in x)this.vQ[A]=x[A]};
Q.yP.aA=function(x,z,A,o,i){var L=x.x,B=x.y,D=z.x,Z=z.y;if(i&&i.Q1==2){if(o){D=Math.round(D);Z=Math.round(Z)}L=D-i.x;
B=Z-i.y}else{var j=0;if(i&&i.Q1==1)j=i.y/i.x;else if(A&&A.A(bJ.xb))j=1;if(j!=0){if(o){if(L<D)L=Math.floor(L);
else L=Math.ceil(L);if(B<Z)B=Math.floor(B);else B=Math.ceil(B)}var a=Math.abs(D-L),b=Math.abs(Z-B),W=a;
if(b/a<j)W*=b/a/j;D=D>L?L+W:L-W;Z=Z>B?B+W*j:B-W*j}if(A&&A.A(bJ.yU)){L-=D-L;B-=Z-B}}var x=new iL(L,B),z=new iL(D,Z);
if(o)Q.yP.a6W(x,z);return[x,z]};Q.yP.a6W=function(x,z){if(x.x>z.x){var A=x.x;x.x=z.x;z.x=A}if(x.y>z.y){var A=x.y;
x.y=z.y;z.y=A}x.x=Math.floor(x.x);x.y=Math.floor(x.y);z.x=Math.ceil(z.x);z.y=Math.ceil(z.y)};Q.yP.au2=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
Q.yP.rJ=function(x,z){var A=Q.yP.au2();if(z==null)z=JSON.parse(JSON.stringify(gN.Xl[x]));Q.J3.WY(z,A.Usng.v.Type.v,x);
return{zR:"make",k7:A}};Q.yP.aw1=function(x,z){var A=z.od,o=JSON.parse(JSON.stringify(z.YK));if(A.ks==0)o.fillEnabled.v=!1;
var i=Q.yP.rJ(Math.max(0,A.ks-1),A.Kb);i.k7.Usng.v.Shp=x;i.k7.Usng.v.strokeStyle={t:"Objc",v:o};return i};
Q.nL=function(x){Q.YG.call(this,x==0?[10,29]:[10,51],x==0?Q.TW:Q.alz,x==0?"tools/pen":"tools/cpen");
this.DO=x;this.Hy=null;this.Y0=null;this.iH=null;this.aoM=0;this.qU=null;this.il=!1;this.ta=!1;this.C0=!1;
this.JN=!1;this.Jx=0};Q.nL.prototype=new Q.YG;Q.nL.prototype.V5=function(x){return this.Y0!=null};Q.nL.prototype.R0=function(x,z,A,o){if(!o.A(bJ.yU))this.C0=!1;
if(this.DO==1&&(o.A(bJ.BC)||o.A(bJ.Bo))&&this.WU(bJ.BC,x)){this.A1({d:"remove",gy:!0},z,x,o,A);return}Q.YG.prototype.R0.call(this,x,z,A,o)};
Q.nL.prototype.Xv=function(x,z,A,o,i){this.Hy=i;this.anf(z,A);var L=x.t.Sd(i.x,i.y),R,$;L.x=Math.round(L.x);
L.y=Math.round(L.y);var B=Q.R7.EX(x,L,A),D=A.ma,Z=this.aoM;if(D==2)D=0;var j=x.Dd(D==1),a=j[0],b=j[1],W=a[b.pop()],c=W?W.add.vmsk:null;
if(D==0&&Z!=0&&W&&W.dD>=0)D=1;var Y=Q.VS(x,i);if(c)R=f.J.Qd(c._,L,!0,Y);var k=o.A(bJ.yU);if(D==0&&(c==null||c.OH.length==0&&R.dD==-1)){var w=new fZ(G.E.rm,!0),V=f.i4.NT("customShape",[0,0,1,1],null,null,null,"--");
w.data=Q.yP.aw1(V,A);z.c(w);this.JN=!0;j=x.Dd(!0);a=j[0];b=j[1];W=a[b.pop()];c=W.add.vmsk;c._=c._.slice(0,2)}var h=W.add.vogk;
this.Y0=c.clone();this.iH=JSON.stringify(h);var l=c._,M=f.J.T1(l);$=f.J.hs(c._,new av(L.x-Y,L.y-Y,Y*2,Y*2),c.OH);
R=f.J.Qd(c._,L,!0,Y);var q=$[0].length+$[1].length+$[2].length;if(R.dD!=-1&&$[0].length==0){var t=f.J.MB(l,R.dD);
while(l[t].length<=R.So){R.So-=l[t].length;t+=l[t].length+1}l[t].length++;var p={type:4,re:B.clone(),H:B.clone(),zy:B.clone()};
l.splice(t+2+R.So,0,p);c.OH=[t+2+R.So];if(this.DO==1){p.re.x+=2;this._u(c)}}else if(q!=0&&k){var _=0;
for(var F=0;F<3;F++)if($[F].length!=0){_=$[F][0];this.ta=F==1;break}if($[0].length!=0){var S=c._.length-1,y=c._[_];
y.zy=y.H.clone();var v=y.type>=3?3:0;if(_!=S){y.re=y.H.clone();y.type=v+1;this.C0=!0}else y.type=v+2}c.OH=[_]}else if($[0].length==1&&l[$[0][0]-1]&&(l[$[0][0]-1].H!=null||l[$[0][0]-1].type==0||l[$[0][0]-1].length==1)){var _=$[0][0];
if(this.DO==1){var r=l[_],K=r.H,s=Math.abs(f.p.a0H(r.re.x,r.re.y,K.x,K.y,r.zy.x,r.zy.y));if(s>.01){r.re=K.clone();
r.zy=K.clone()}if(Date.now()-this.Jx<300){var P=r.re.S0(K)&&r.zy.S0(K);if(P)r.zy.offset(2,2);else{r.re=K.clone();
r.zy=K.clone()}this.Jx=0}else this.Jx=Date.now();c.OH=[_];this._u(c)}else{var t=f.J.MB(l,f.J.Ah(l,_)),V=l[t],d=t+V.length;
if(_!=d||V.type==0){l[t].length--;l.splice(_,1);d--;if(V.length==0){l.splice(t,1);d=-1}}if(d!=-1)c.OH=[d];
else c.OH=[]}}else{var X=0;if(c.OH.length!=1){c.f=[M];l.push({type:3,length:1,qh:[1,2,3,0][Math.max(0,Z-1)],zB:0,wN:0,CG:0});
X=l.length;h.push(f.i4.vJ())}else{var r=c.OH[0],U=f.J.Ah(l,r),t=f.J.MB(l,U);r=t+l[t].length;if(iL.Or(L,l[t+1].H)<Y){l[t].type=0;
c.OH=[t+1];this.qU=B;this.il=!0;this.sa(x,W.dD,c,h);x.o$=!0;return}l[t].length++;X=r+1;if(r==t+1&&l[t].length!=2)X=t+1}if(o.A(bJ.xb)&&l[X-1]&&l[X-1].H)B=Q.Bx.i5(l[X-1].H,B);
var p={type:4,re:B.clone(),H:B.clone(),zy:B.clone()};l.splice(X,0,p);c.OH=[X];this.qU=B;if(this.DO==1){p.re.x+=2;
this._u(c)}this.Jx=Date.now()}this.sa(x,W.dD,c,h);x.o$=!0};Q.nL.prototype._u=function(x){var z=x._,A=x.OH[0],o=f.J.MB(z,f.J.Ah(z,A))+1,i=z[o-1].length;
if(i<3)return;var L=[],B=[];for(var F=0;F<5;F++){var D=o+(A-o-2+F+5*i)%i;B.push(D);var Z=z[D].H;L.push(Z.x,Z.y)}var j=f.p.a7s(L);
for(var F=1;F<4;F++){var a=F*4,b=z[B[F]],Z=b.H,W=b.re.S0(Z)&&b.zy.S0(Z);if(!W){b.re.Jt(j[a],j[a+1]);
b.zy.Jt(j[a+2],j[a+3])}else{b.re=Z.clone();b.zy=Z.clone()}}};Q.nL.prototype.Dg=function(x,z,A,o,i){if(this.Y0==null)return;
var L=this.Hy;if(L&&iL.Or(L,i)<Q.VS({t:{X:1}},i))return;this.Hy=null;var B=x.t.Sd(i.x,i.y),D=Q.R7.EX(x,B,A),Z=x.Dd(A.ma==1),j=Z[0],a=Z[1],b=j[a.pop()],W=b.add.vmsk,c=W._,Y=c[W.OH[0]];
if(this.DO==1){var R=Y.H.S0(Y.re)&&Y.H.S0(Y.zy);Y.H=B.clone();Y.re=B.clone();Y.zy=B.clone();if(!R)Y.re.x+=2;
this._u(W)}else if(o.A(bJ.aU)){if(o.A(bJ.xb))D=Q.Bx.i5(this.qU,D);var $=Y.H.Vx(Y.zy),k=Y.re.Vx(Y.H);
Y.zy=D;Y.H=D.add($);Y.re=Y.H.add(k)}else{if(o.A(bJ.xb))D=Q.Bx.i5(Y.H,D);if(this.ta){var w=Y.re;Y.re=Y.zy;
Y.zy=w}if(this.il){var V=iL.Or(Y.H,D),h=V==0?0:iL.Or(Y.H,Y.zy)/V;Y.zy.x=Y.H.x+h*(D.x-Y.H.x);Y.zy.y=Y.H.y+h*(D.y-Y.H.y)}else Y.zy=D;
if(o.A(bJ.yU)&&!this.C0)Y.type=5;else{Y.type=4;Y.re=Y.H.add(Y.H.Vx(D))}this.qU=D;if(this.ta){var w=Y.re;
Y.re=Y.zy;Y.zy=w}}this.sa(x,b.dD,W,b.add.vogk);x.o$=!0};Q.nL.prototype.V4=function(x,z,A,o,i){if(this.Y0==null)return;
var L=x.Dd(A.ma==1),B=L[0],D=L[1],Z=B[D.pop()],j=Z.add.vmsk,a=Z.add.vogk;if(this.il){j.OH=[];this.sa(x,Z.dD,j,Z.add.vogk)}var b=this.Y0._.length,W=j._.length;
if(!this.JN)this.lH(x,this.il?"Close Path":(b==W?"Move":b<W?"Add":"Delete")+" Anchor Point",Z.dD,this.Y0,j.clone(),null,this.iH,JSON.stringify(a));
this.JN=!1;this.il=!1;this.ta=!1;this.C0=!1;this.Y0=null};Q.nL.prototype.Wr=function(x,z,A,o,i){this.aoM=x.binop};
Q.it=function(){Q.yP.call(this,[10,30],Q.bB,"tools/fpen",!1)};Q.it.prototype=new Q.yP;Q.it.prototype.Iy=function(x,z,A,o,i,L){var B=o.length-1,D=Math.sqrt((o[B-1]-o[0])*(o[B-1]-o[0])+(o[B]-o[1])*(o[B]-o[1]))<6/i.X;
return[f.J.Wj(o,D,L),f.i4.NT("customShape",[0,0,1,1],null,null,null,"--")]};Q.ol=function(){Q.YG.call(this,[10,27],Q.n7,"tools/pselect");
this.aa=null;this.b1=!1;this.vw=null;this.Y0=null;this.u9=null;this.iH=null;this.tc=null;this.nn=null;
this.Cp=null;this._G=null};Q.ol.prototype=new Q.YG;Q.ol.prototype.V5=function(x){return x.z0};Q.ol.prototype.Xv=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=x.Dd(),D=B[0],Z=B[1],j,a;
for(var F=0;F<Z.length;F++){var b=D[Z[F]],W=b.add.vmsk,c=f.J.Qd(W._,L).dD;if(c!=-1){this.vw=j=b;a=c}for(var Y=0;
Y<W.qX.length;Y++){var R=f.J.I2(W._,W.qX[Y]);if(R==null)continue;var $=iL.Or(R,L);if($<4*Q.Z()/x.t.X){var k=x.g[b.dD-1e6].add.TySh,w=k.gP.Curve,V=k.D,h=w.Reversed;
w.Reversed=!1;var w=ah.nG(k.gP.Curve);w.Reversed=h;f.p.D(w[0],V,w[0]);this.Cp=[w,Y,V.xc*V.y9-V.s*V.Pm];
this.vw=j=b;a=0}}if(this.Cp)break}if(j!=null){var W=j.add.vmsk;W.OH=[];var l=W.f.indexOf(a);if(o.A(bJ.xb)){if(l==-1){W.f.push(a);
this.b1=!0}else W.f.splice(l,1)}else{if(l==-1)W.f=[a];this.b1=!0}this.nn=f.J.BH(W._,W.f)}this.aa=L;this._G=new a1(L);
x.bg=!0;x.o$=!0};Q.ol.prototype.Dg=function(x,z,A,o,i){if(this.aa==null)return;var L=x.t.Sd(i.x,i.y);
if(this.b1){L=this._G.PA(L,o);var B=this.vw;if(this.Y0==null){this.Y0=this.u9=B.add.vmsk.clone();this.iH=this.tc=JSON.stringify(B.add.vogk);
if(o.A(bJ.yU)){var D=this.Y0.clone(),Z=JSON.parse(this.iH),j=Q.YG.Lw(D,Z);Q.YG.j2(j,D,Z);this.u9=D;this.tc=JSON.stringify(Z)}}var D=this.u9.clone(),Z=JSON.parse(this.tc);
if(this.Cp){var a=this.Cp,b=a[0][0],W=f.p.IE(b,L.x,L.y);D.qX[a[1]]=a[0][1][W];var c=b[W*2],Y=b[W*2+1],R=(b[W*2+2]-c)*(L.y-Y)-(b[W*2+3]-Y)*(L.x-c);
if(a[2]<0)R=-R;D.j1=R>0}else{var $=this.nn.clone(),k=$.x,w=$.y;$.offset(L.x-this.aa.x,L.y-this.aa.y);
$.x=Math.round($.x);$.y=Math.round($.y);var V=Q.R7.Dh(x,$,A),h=new cb(1,0,0,1,$.x-k+V[0],$.y-w+V[1]);
f.J.ox(D._,h,D.f);f.i4.D(Z,f.P.TX(h),D.f);Q.R7.mj(x,$,V)}this.sa(x,B.dD,D,Z)}else{var l=this.aa;x.G.PK=f.p.Mm(new av(l.x,l.y,L.x-l.x,L.y-l.y));
x.o$=!0}};Q.ol.prototype.V4=function(x,z,A,o,i){if(this.aa==null)return;var L=x.t.Sd(i.x,i.y),B=this.vw,D=B?B.add.vmsk:null;
if(this.b1){var Z=JSON.stringify(B.add.vogk);if(!this.aa.S0(L))this.lH(x,"Move Paths",B.dD,this.Y0,D,null,this.iH,Z);
if(x!=null&&x.G.ky){x.G.ky=null;x.o$=!0}}else{if(D){var j=this.aa,a=new av(j.x,j.y,L.x-j.x,L.y-j.y),b=f.J.agl(D._,a);
if(o.A(bJ.xb)){for(var F=0;F<b.length;F++)if(D.f.indexOf(b[F])==-1)D.f.push(b[F])}else D.f=b}x.G.PK=null;
x.o$=!0}this.aa=null;this.Y0=null;this.Cp=null;this.b1=!1;this._G=null};Q.ol.prototype.Nu=function(x,z,A,o){Q.YG.prototype.Nu.call(this,x,z,A,o);
if(A.YC!=this.id)return;if(x.f.length==0)return;var i=x.Dd(),L=i[0],B=i[1];if(B.length==0)return;var D=L[B[0]],Z=D.add.vmsk,j=D.add.vstk,a=D.add.vogk,b=new fZ(G.E.Y,!0);
b.data={d:G.U.HU,k:this.id,Vn:"main",Ot:Z?Z:null,i4:a};z.c(b)};Q.ol.prototype.Wr=function(x,z,A,o,i){var L=x.s5;
if(L.Ot){var B=A.Dd(),D=B[0],Z=B[1];if(Z.length==0)return;var j=D[Z[0]],a=j.add.vmsk.clone(),b=JSON.stringify(j.add.vogk),W=L.Ot;
this.sa(A,j.dD,W,L.i4);var c=[18,5];if(a._.length==W._.length)c=a.f[0]==W.f[0]?"Fill Rule":"Path Order";
this.lH(A,c,j.dD,a,W,null,b,JSON.stringify(L.i4))}};Q.VY=function(){Q.YG.call(this,[10,28],Q.US,"tools/dselect");
this.j8=-1;this.ja=-1;this.lG=null;this.aa=null;this.vw=null;this.Y0=null;this.iH=null;this.S$=null;
this.rV=0;this.Yo={psnap:!1};this._G=null};Q.VY.prototype=new Q.YG;Q.VY.prototype.V5=function(x){return x.z0};
Q.VY.prototype.Wr=function(x){this.Yo=x};Q.VY.prototype.A1=function(x,z,A,o,i){if(x.d=="crnr"){if(A==null)return;
var L=A.Dd(),B=L[0],D=L[1];if(D.length==0){alert("No paths selected");return}var Z=B[D[0]],j=Z.add.vmsk;
if(j.OH.length==0){alert("No corners selected");return}for(var F=0;F<j.OH.length;F++){var a=j._[j.OH[F]];
if(!a.H.S0(a.zy)||!a.H.S0(a.re)){alert("Only sharp corners can be rounded");return}}if(this.Y0==null){this.Y0=Z.add.vmsk.clone();
this.iH=JSON.stringify(Z.add.vogk);this.vw=Z;this.S$=A}var b=new fZ(G.E.Y,!0);b.data={d:G.U.z1,ca:"cornerradius",IO:5,Cn:this.a5v.bind(this)};
z.c(b)}else Q.YG.prototype.A1.call(this,x,z,A,o,i)};Q.VY.prototype.a5v=function(x){if(x=="confirm"){var z=this.S$,A=this.vw,o=A.add.vmsk,i=A.add.vogk;
this.lH(z,[12,94,0],A.dD,this.Y0,o,null,this.iH,JSON.stringify(i));this.rQ();return}var o=this.Y0.clone(),i=JSON.parse(this.iH),L=o.OH;
if(x=="cancel"){}else{var B=[];for(var F=0;F<L.length;F++){var D=L[F],Z=f.J.Ah(o._,D,!0),b=0;if(B.indexOf(Z)!=-1)continue;
B.push(Z);var j=f.J.MB(o._,Z,!0),a=o._[j].length,W=[];for(var c=0;c<a;c++){var Y=o.OH.indexOf(j+c+1)==-1?0:x;
W.push(Y);if(Y!=0)b++}f.J.FZ(o._,j,W);for(var c=0;c<L.length;c++)if(L[c]>j+a)L[c]+=b}this.RU(o,i);o.OH=[]}this.sa(this.S$,this.vw.dD,o,i);
if(x=="cancel")this.rQ()};Q.VY.prototype.disable=function(x,z,A,o){this.XT(x)};Q.VY.prototype.Xv=function(x,z,A,o,i){this.XT(x);
var L=x.t.Sd(i.x,i.y),b,W,c;this.lG=L.clone();var B=x.Dd(),D=B[0],Z=B[1];if(Z.length==0)return;var j=Q.VS(x,i),a=new av(L.x-j,L.y-j,j*2,j*2);
for(var Y=0;Y<Z.length;Y++){b=this.vw=D[Z[Y]];W=b.add.vmsk;c=f.J.hs(W._,a);if(c[0].length+c[1].length+c[2].length!=0)break}var R=[!1,!1,!1];
for(var F=0;F<3;F++){for(var $=0;$<c[F].length;$++){var k=c[F][$],w=W._[k];if(W.OH.indexOf(k)!=-1||F==1&&W.OH.indexOf(k-1)!=-1&&!w.H.S0(w.re)||F==2&&W.OH.indexOf(k+1)!=-1&&!w.H.S0(w.zy)){c[F]=[k];
R[F]=!0;break}}}if(c[0].length!=0&&(R[0]||!R[1]&&!R[2])){var V=c[0][0],h=W.OH.indexOf(V);if(o.A(bJ.xb)){if(h==-1)W.OH.push(V);
else{W.OH.splice(h,1);x.o$=!0;return}}else if(h==-1)W.OH=[V];this.j8=V;this.ja=0}else if(c[1].length!=0&&R[1]){this.j8=c[1][0];
this.ja=1}else if(c[2].length!=0&&R[2]){this.j8=c[2][0];this.ja=2}else{var l=f.J.Qd(W._,L,!0,j);if(l.dD==-1)this.aa=L;
else{W.f=[l.dD];W.OH=[]}}if(this.Y0==null){this.Y0=b.add.vmsk.clone();this.iH=JSON.stringify(b.add.vogk)}this._G=new a1(L);
x.o$=!0};Q.VY.prototype.Dg=function(x,z,A,o,i){if(x==null)return;var L=x.t.Sd(i.x,i.y),B=this.vw;if(this.j8!=-1){var D=this.Y0.clone(),Z=B.add.vogk,j=D._[this.j8];
j=[j.H,j.re,j.zy][this.ja];if(o.A(bJ.xb)){if(this.ja==0){L=this._G.PA(L,o);L.x+=j.x-this.lG.x;L.y+=j.y-this.lG.y}else L=Q.Bx.i5(D._[this.j8].H,L)}else{if(this.Yo.psnap){L.x=Math.round(L.x);
L.y=Math.round(L.y)}L=Q.R7.EX(x,L,A)}if(this.ja==0){var a=new cb(1,0,0,1,L.x-j.x,L.y-j.y);f.J.ox(D._,a,null,D.OH)}else{var b=D._[this.j8],W=b.re,c=b.zy;
if(this.ja==2){W=b.zy;c=b.re}if(o.A(bJ.yU)&&(b.type==1||b.type==4))b.type++;W.Jt(L.x,L.y);if(b.type==1||b.type==4){var Y=iL.Or(W,b.H),R=iL.Or(c,b.H);
if(R!=0){c.x=b.H.x-(W.x-b.H.x)*(R/Y);c.y=b.H.y-(W.y-b.H.y)*(R/Y)}}}this.RU(D,Z);this.sa(x,B.dD,D,Z)}else if(this.aa!=null){var $=this.aa;
x.G.PK=f.p.Mm(new av($.x,$.y,L.x-$.x,L.y-$.y));x.o$=!0}else{var k=x.Dd(),w=k[0],V=k[1],B,D,M;if(V.length==0)return;
var h=Q.VS(x,i),l=new av(L.x-h,L.y-h,h*2,h*2);for(var q=0;q<V.length;q++){B=w[V[q]];D=B.add.vmsk;M=f.J.hs(D._,l);
if(M[0].length+M[1].length+M[2].length!=0)break}this.XT(x);for(var F=0;F<3;F++){for(var t=0;t<M[F].length;
t++){var p=M[F][t],E=D._[p];E=F==0?E.H:F==1?E.re:E.zy;x.G.Zt.push(x.G.L2.length>>>1);x.G.L2.push(E.x,E.y);
x.o$=!0}}}};Q.VY.prototype.XT=function(x){if(x&&x.G.L2.length!=0){x.G.L2=[];x.G.Zt=[];x.o$=!0}};Q.VY.prototype.V4=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=this.vw,D=B?B.add.vmsk:null,Z=B?B.add.vogk:null;
if(this.j8!=-1){if(Date.now()-this.rV<300){var j=D._[this.j8],a=this.ja,b=null;if(a==0){var W=j.re.S0(j.H),c=j.zy.S0(j.H);
if(!W&&!c){b="Anchor Type";if(j.type==1||j.type==4)j.type++;else{j.type--;j.zy=j.H.add(j.H.Vx(j.re))}}else{b="Add Handles";
if(W&&c){j.re.x-=30;j.zy.x+=30}else if(W)j.re=j.H.add(j.H.Vx(j.zy));else if(c)j.zy=j.H.add(j.H.Vx(j.re))}}else{b="Remove Handle";
if(a==1)j.re.rH(j.H);else j.zy.rH(j.H)}this.RU(D,Z);this.sa(x,B.dD,D,Z);this.lH(x,b,B.dD,this.Y0,D,null,this.iH,JSON.stringify(Z))}else if(!this.lG.S0(L)){this.lH(x,"Drag Anchors",B.dD,this.Y0,D,null,this.iH,JSON.stringify(Z))}this.rV=Date.now()}else if(this.aa!=null){var Y=this.aa,R=new av(Y.x,Y.y,L.x-Y.x,L.y-Y.y);
if(R.m<0)R.x+=R.m;if(R.n<0)R.y+=R.n;R.m=Math.abs(R.m);R.n=Math.abs(R.n);var $=f.J.hs(D._,R);D.OH=$[0].concat(o.A(bJ.xb)?D.OH:[]);
x.G.PK=null}this.rQ();x.o$=!0};Q.VY.prototype.rQ=function(){this.vw=null;this.Y0=null;this.aa=null;this.j8=this.ja=-1;
this._G=null};Q.VY.prototype.RU=function(x,z){for(var F=0;F<x.OH.length;F++){var A=f.J.Ah(x._,x.OH[F]);
f.i4.vT(z,A)}};Q.VY.prototype.R0=function(x,z,A,o){if(x==null)return;var i=x.Dd(),L=i[0],B=i[1];if(B.length==0)return;
var D=L[B[0]],Z=D.add.vmsk;if(Z==null||Z.OH.length==0)return;var j=D.add.vogk,a=JSON.stringify(j),b=o.u0();
if(b.x!=0||b.y!=0){var W=Z.clone(),c=Z.clone(),Y=new cb(1,0,0,1,b.x,b.y);f.J.ox(c._,Y,null,c.OH);this.RU(c,j);
this.sa(x,D.dD,c,j);this.lH(x,"Move Anchors",x.f[0],W,c.clone(),!0,a,JSON.stringify(j))}if(o.A(bJ.BC)||o.A(bJ.Bo))this.A1({d:"remove",gy:!0,aqu:!0},z,x,o,A)};
Q.VY.prototype.lH=function(x,z,A,o,i,L,B,D){var Z=x.nW();if(L&&Z!=null&&Z.k==this&&Z.data.amF&&Z.data.Zc==A&&JSON.stringify(Z.data.WG.OH)==JSON.stringify(o.OH)){Z.data.i_=i;
Z.data.qR=D}else{var Z=new j$(z,this);Z.data={Zc:A,WG:o,i_:i,amF:L,ajS:B,qR:D};x.U7(Z)}};Q.Rect=function(){Q.yP.call(this,[10,32],Q.Ck,"tools/rect",!0)};
Q.Rect.prototype=new Q.yP;Q.Rect.prototype.Iy=function(x,z,A){var o=this.vQ.crad,i=z.x-x.x,L=z.y-x.y;
return[f.J.Ja.Rect(x.x,x.y,i,L,o),f.i4.NT("Rctn",[x.x,x.y,z.x,z.y],[o,o,o,o])]};Q.sq=function(){Q.yP.call(this,[10,33],Q.Mf,"tools/ellipse",!0)};
Q.sq.prototype=new Q.yP;Q.sq.prototype.Iy=function(x,z,A){var o=z.x-x.x,i=z.y-x.y;return[f.J.Ja.sq(x.x,x.y,o,i),f.i4.NT("Elps",[x.x,x.y,z.x,z.y])]};
Q.jS=function(){Q.yP.call(this,[10,34],Q.hI,"tools/pshape",!1);this.vQ.aopts=[!1,!0,50,100,0]};Q.jS.prototype=new Q.yP;
Q.jS.prototype.Iy=function(x,z,A){var o=this.vQ.pshape,i=this.vQ.crad,L=this.vQ.irad/100,B=this.vQ.sides,D=this.vQ.width,Z=this.vQ.aopts,j=this.vQ.length,$;
z=z.clone();var a=x.x,b=x.y,W=z.x,c=z.y,Y=Math.sqrt((W-a)*(W-a)+(c-b)*(c-b)),R=Math.atan2(-c+b,W-a);
if(A)R=Math.round(R*180/Math.PI/15)*15*Math.PI/180;if(o==0)$=f.J.Ja.LB(a,b,Y,R,B,i);if(o==1)$=f.J.Ja.Cm(a,b,Y,R,B,i,L);
if(o==2)$=f.J.Ja.Fz(x.x,x.y,z.x,z.y,D,Z);if(o==3)$=f.J.Ja.adt(a,b,Y,R,j);return[$,f.i4.NT("customShape",[x.x,x.y,z.x,z.y],null,null,null,"--")]};
Q.jS.prototype.R0=function(x,z,A,o){Q.yP.prototype.R0.call(this,x,z,A,o);var i=o.u0(),L=this.vQ,B,D;
if(i.y!=0){var Z=-i.y,j=L.pshape;if(j<2){B="sides";D=Math.max(3,Math.min(100,L.sides+Z))}else if(j==2){B="width";
D=Math.max(1,Math.min(100,L.width+Z))}else if(j==3){B="length";D=Math.max(4,Math.min(40,L.length+Z))}}if(i.x!=0){B="pshape";
D=Math.max(0,Math.min(3,L.pshape+i.x))}if(B){var a=new fZ(G.E.Y,!0),b={};b[B]=D;L[B]=D;a.data={d:G.U.HU,k:this.id,wa:"vals",a8E:b};
z.c(a);this.Dg(x,z,A,o)}};Q.d9=function(){Q.yP.call(this,[10,35],Q.lj,"tools/line",!1)};Q.d9.prototype=new Q.yP;
Q.d9.prototype.Iy=function(x,z,A){var o=this.vQ.width,i=this.vQ.aopts;z=z.clone();if(A){z=Q.Bx.i5(x,z)}return[f.J.Ja.Fz(x.x,x.y,z.x,z.y,o,i),f.i4.NT("Ln",null,null,[x.x,x.y,z.x,z.y],o,null,i)]};
Q.rI=function(){Q.yP.call(this,[10,31],Q.fe,"tools/cshape",!0)};Q.rI.prototype=new Q.yP;Q.rI.prototype.Iy=function(x,z,A){var o=this.vQ.shape,i=o.MV.m/o.MV.n,L=g.tZ.cj(o._);
z=z.clone();var B=z.x-x.x,D=z.y-x.y;f.J.ox(L,new cb(B,0,0,D,x.x,x.y));return[L,f.i4.NT("customShape",[x.x,x.y,z.x,z.y],null,null,null,o.$U)]};
Q.S=function(x,z,A){Q.He.call(this,x,z,A);this.C7=0;this.g=null;this.M1=null;this.DL=null;this.ws=1;
this.p6=!1;this.cursor=null;this.Sg=null;this.rl=null;this.Gj=!1;this.Di=null;this.abZ=0;this.Ff=null;
this.DO=0;this.rN=null;this.vf=null;this.DV=null;this.V_=null;this.akn=null;this.Ob=null};Q.S.prototype=new Q.He;
Q.S.EH=function(x,z){var A={classID:"null",null:jd.uU("Dcmn",!0)};if(x)A.Angl={t:"UntF",v:{type:"#Ang",val:z}};
else A.Axis={t:"enum",v:{Ornt:z}};return{zR:x?"rotateEventEnum":"flip",k7:A}};Q.S.prototype.zD=function(x,z,A,o,i){var L=new fZ(G.E.Y,!0);
L.data={d:G.U.HU,k:this.id,Fq:i,Xg:x,DL:A};z.c(L);this.jl=!1};Q.S.prototype.V5=function(x){return this.vf&&this.vf.arz()};
Q.S.prototype.A1=function(x,z,A,o,i){this.DL=i;if(x.d=="again"&&this.Ff==null)return;if(!this.na(A,i))return;
if(this.vf){this.a03(x,this.vf.gz());this.Ow(A,i,0,!0);this.cB(A);return}this.aug(A,x.j==null,x.j);this.a3G(A);
this.a03(x);this.Ga(A,z,x._4,!1)};Q.S.prototype.a03=function(x,z){var A=this.rN;if(z==null){var o=x.NG!=null?x.NG:4;
z=this.vf.a0g()[o]}var i=z.x,L=z.y;if(x.d=="rot"&&x.h!=Math.PI&&(A.m+A.n&1)==1){i=Math.floor(i);L=Math.floor(L)}var B=new cb;
B.translate(-i,-L);if(x.d=="rot")B.rotate(x.h);if(x.d=="scl")B.scale(x.h.x,x.h.y);if(x.d=="mat")B.concat(x.h);
B.translate(i,L);if(x.d=="again")B=this.Ff;var D=this.vf.m9();f.p.D(D,B,D);this.vf.Oi(D)};Q.S.prototype.wn=function(){return!0};
Q.S.prototype.na=function(x,z){if(x==null)return!1;if(this.id==Q.yz)return x.O!=null;var A=x.al(!0,null,null,!0);
if(this.id==Q.lq&&x.g[A[0]].rect.WT()){alert("Layer is empty.");return!1}for(var F=0;F<A.length;F++){var o=x.g[A[F]];
if(o.bb(2)||o.bb(31)){alert(kc.get([6,57,0]));return!1}if(o.add.artb){alert("You can not transform the whole artboard");
return!1}if(o.add.TySh)if(!g3.gj(o.add.TySh,z.P2))return!1;if(o.add.SoLd){if(A.length==1&&!f.qK.h8(o.add.SoLd.warp.v)&&(o.dP()&&o.dP().GD||o.add.vmsk&&o.add.vmsk.GD)){alert("Unlink masks before transforming Smart Object");
return!1}if(!x.ase(o.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+x.E3(o.add.SoLd.Idnt.v).W7+")");
return!1}}}if(x.O==null)return!0;if(!x.Qi())return!1;return x.anY()};Q.S.prototype.Xv=function(x,z,A,o,i){var L=this.avo(i,x),B=L[0],D=L[1],Z=this.DO==0?this.vf:this.DV;
x.t.X*=D;this.p6=Z.Xv(x,A,o,B,null,null,i);x.t.X/=D;if(this.p6&&Z.xA(B)){if(Date.now()-this.abZ<250)this.Ga(x,z,null,!0);
this.abZ=Date.now()}};Q.S.prototype.k2=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.sy,OU:this.cursor};
x.c(z)};Q.S.prototype.avo=function(x,z){var A=1;x=z.t.Sd(x.x,x.y);if(this.DO==1){var o=f.P.p0(this.vf.m9(),this.rN);
A=f.P.eA(o)._q();var i=f.P.Qs(o);x=f.P.a7C(i,x)}return[x,A]};Q.S.prototype.Dg=function(x,z,A,o,i){var L=this.avo(i,x),B=L[0],D=L[1],Z=this.DO==0?this.vf:this.DV;
if(!i.z0){var j="default";if(Z){var a=Z.El(B,x.t.X*D,null,i);if(a)j=a}if(j!=this.cursor){this.cursor=j;
this.k2(z)}}if(!this.p6)return;x.t.X*=D;Z.Dg(x,A,o,B);x.t.X/=D;this.Ow(x,A,0,!0);this.cB(x);this.lz(z)};
Q.S.prototype.V4=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y);this.vf.V4(x,A,o,L);this.p6=!1};Q.S.prototype.R0=function(x,z,A,o){if(o.A(bJ.oN))this.Ga(x,z,null,!0);
else if(o.A(bJ.dw))this.oG(x,z);else{var i=this.vf.R0(x,A,o);if(i){this.Ow(x,A,0,!0);this.lz(z)}}};Q.S.prototype.Wr=function(x,z,A,o){if(x.Vn=="commit")this.Ga(A,z,null,!0);
else if(x.Vn=="cancel")this.oG(A,z);else if(x.Vn=="switchWarp"){this.DO=1-this.DO;this.auw();this.cB(A);
this.lz(z)}else if(x.Vn=="wrp"){this.DV.atg(x.P7);this.cB(A);this.Ow(A,this.DL,0,!0)}else if(x.Vn=="ctyp"){this.vf.aj4(x.BZ);
this.cB(A);this.lz(z)}else if(x.Vn=="cen"){this.vf.aqD(x.d1);this.cB(A);this.Ow(A,this.DL,0,!0)}else if(x.Vn=="trn"){var i=f.P.TX(x.a$),L=this.rN,B=f.P.p0(this.vf.m9(),this.rN);
i[6]=B[6],i[7]=B[7];var D=[L.x,L.y,L.x+L.m,L.y,L.x+L.m,L.y+L.n,L.x,L.y+L.n];f.P.D(i,D);this.ws=x.ws;
this.vf.Oi(D);this.cB(A);this.Ow(A,this.DL,0,!0)}};Q.S.prototype.cB=function(x){if(this.DO==0)this.vf.KH(x,this.DL);
else{this.DV.KH(x);var z=f.P.p0(this.vf.m9(),this.rN);f.P.D(z,x.G.PK.v);f.P.D(z,x.G.XF)}};Q.S.prototype.Ga=function(x,z,A,o){this.Ow(x,this.DL,this.ws);
var i=new j$(A?A:this.name,this);if(this.C7==0)i.data={type:this.C7,g:this.g,Di:this.M1,zV:Q.S.sd(x,this.g)};
else if(this.C7==1){var L=x.g[this.g[0]],B;if(L.sL.ZD<=0){B=f.C(L.sL.Du.$());f.XN(L.sL.EU,B,3)}else B=x.O.channel;
var D={rect:L.sL.Du.clone(),channel:B};i.data={type:this.C7,j:this.g[0],rl:this.rl,Bp:D,Sg:this.Sg,Gj:this.Gj,sL:L.sL,Di:this.Di,zV:{G8:L.sL.Du,Mw:L.sL.EU}}}else if(this.C7==2){i.data={type:this.C7,rl:this.rl,Bp:{rect:x.O.rect.clone(),channel:x.O.channel.slice(0)}}}x.U7(i);
var Z=this.rN,j=new iL(Z.x+Z.m/2,Z.y+Z.n/2),a=f.P.p0(this.vf.m9(),Z),b=f.P.eA(a),W=new cb;W.translate(j.x,j.y);
W.concat(b);W.translate(-j.x,-j.y);b=W.clone();var c=-Math.atan2(-b.s,b.xc),Y=new cb;Y.rotate(c);b.concat(Y);
function R(w,V){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][V],val:w}}}var $=jd.uU("Lyr",!0);if(this.id==Q.yz)$.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var k={classID:"null",null:$,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:R(W.ZT,0),Vrtc:R(W._s,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:R(Math.atan(b.Pm)*180/Math.PI,2),Vrtc:R(0,2)}},Wdth:R(b.xc*100,1),Hght:R(b.y9*100,1),Angl:R(c*180/Math.PI,2)};
this.i7=z;this.track({zR:"transform",k7:k});this.escape(x,z,o)};Q.S.prototype.oG=function(x,z){if(this.C7==0)Q.S.HB(x,this.g,this.M1);
else if(this.C7==1){var A=x.g[this.g[0]];x.O=this.rl;if(!this.Gj){A.sL.Du=this.Di.G8;A.sL.EU=this.Di.Mw;
A.PJ(x,0,0,x.O)}else{A.gm(x,this.Sg)}x.i();x.I3=!0}else if(this.C7==2){x.O=this.rl;x.I3=!0}this.escape(x,z,!0)};
Q.S.prototype.escape=function(x,z,A){this.vf.clear(x);this.vf=null;this.DV=null;this.Ob=null;this.DO=0;
if(A)this.bf(z,G.E.Y,{d:G.U.Mq})};Q.S.prototype.IR=function(x,z){if(x.type==0)Q.S.HB(z,x.g,x.zV);else{if(x.type==1){var A=z.g[x.j];
if(x.Gj){A.sL=x.sL}else{A.sL.Du=x.zV.G8;A.sL.EU=x.zV.Mw}A.PJ(z,0,0,z.O);z.i()}z.O={rect:x.Bp.rect.clone(),channel:x.Bp.channel.slice(0)};
z.I3=!0}};Q.S.prototype.a_=function(x,z){if(x.type==0)Q.S.HB(z,x.g,x.Di);else{if(x.type==1){var A=z.g[x.j];
if(x.Gj){A.gm(z,x.Sg)}else{A.sL.Du=x.Di.G8;A.sL.EU=x.Di.Mw;A.PJ(z,0,0,z.O)}z.i()}z.O=x.rl;z.I3=!0}};
Q.S.prototype.aug=function(x,z,A){x.Dd();var o=[];if(A==null)for(var F=0;F<x.Dt.length;F++)if(x.Ds[x.Dt[F]].add.vmsk._.length>2)o.push(-1-x.Dt[F]);
var i=[],L=x.t.u1;if(L[0]+L[1]+L[2]==3)if(A!=null||o.length==0||x.Iz!=null&&x.Iz.length!=0){if(x.f.length==1){var B=x.g[x.f[0]];
if(B.Q0()&&B.Ro)i=[x.f[0]]}if(i.length==0)i=x.al(z,A,null,!0)}i=i.concat(o);for(var F=0;F<x.CE.length;
F++)i.push(-1e3-x.CE[F]);this.g=i};Q.S.prototype.enable=function(x,z,A,o,i,L){if(this.cursor==null)this.cursor="default";
this.k2(z);if(this.vf)return;this.DL=A;this.aug(x,!0);this.a3G(x,L&&L.Ym!=null&&L.Ym!=-1?L.Ym:null);
this.lz(z);this.cB(x);if(L&&L.Ym==-1)this.Wr({Vn:"switchWarp"},z,x,o)};Q.S.prototype.lz=function(x){var z={d:G.U.HU,k:this.id};
if(this.DO==0){var A=f.P.p0(this.vf.m9(),this.rN),o=f.P.eA(A);z.a$={Ph:o,BZ:this.vf.adF(),d1:this.vf.gz(),G8:this.rN.clone()}}else{z.P7=this.DV.f4()}z.apn=this.DV!=null;
this.bf(x,G.E.Y,z)};Q.S.prototype.a3G=function(x,z){var A=this.id==Q.yz,o=!0,i=this.g[0],L=x.g[i],D=null,Z=null;
if(A){this.C7=2;this.rl=x.O}else if(x.O&&this.g.length==1&&i>=0&&!L.rect.WT()){this.C7=1;this.rl=x.O;
this.Sg=L.sL;this.Gj=!1;if(!L.QZ(x,x.O)){this.Gj=!0;L.RL(x,x.O,!1)}this.Di={Mw:L.sL.EU,G8:L.sL.Du}}else{this.C7=0;
this.M1=Q.S.sd(x,this.g,null);for(var F=0;F<this.M1.length;F++)if(this.M1[F][3]!=null)o=!1}var B=this.C7==1;
if(this.M1&&this.M1.length==1){var j=this.M1[0];if(j[2]!=null&&j[2].i4){var a=j[2].Ot.f;if(a.length<2){Z=j[2].i4[a.length==0?0:a[0]].v;
if(!f.i4.uH(Z))Z=null}}if(j[3]==null)B=!0;if(j[4]!=null){D=x.g[this.g[0]].add.SoLd;if(j[1]||j[2])B=!1}}var b=A?x.O.rect.clone():Q.S.mc(x,this.g);
this.rN=b;if(!A&&D){var W=Q.S.z5(D.nonAffineTransform);this.rN=f.p.Jr(f.qK.Tq(D.warp.v));if(B)this.DV=new dp(D.warp.v);
this.V_=f.P.p0(W,this.rN);this.vf=new ig(W,!0,!0,o,!1,!1,z)}else{if(B||A)this.DV=new dp(f.qK.C(this.rN));
this.V_=[1,0,0,0,1,0,0,0];if(this.id==Q.lq)z=3;this.vf=new ig([b.x,b.y,b.x+b.m,b.y,b.x+b.m,b.y+b.n,b.x,b.y+b.n],!0,!0,o,!1,!1,z)}this.akn=[1,0,0,0,1,0,0,0];
if(this.id==Q.lq){var c,Y;if(this.M1){var R=this.M1[0][0],$=R.XS;c=$[0];Y=$[1]}else if(this.Di){c=this.Di.Mw;
Y=this.Di.G8}this.Ob=f.gh.a6T(c,Y.m,Y.n)}};Q.S.mc=function(x,z){if(z==null)z=x.al(!0,null,null,!0);var A=new av,o=new av;
if(x.O&&z.length==1&&z[0]>=0)A=x.O.rect.clone();else for(var F=0;F<z.length;F++){var i=z[F],L=0<=i?x.g[i]:-1e3<i?x.Ds[-1-i]:x.lX[-1e3-i],B=L.add?L.add.vmsk:null,D=0<=i?L.XJ(x,z.length==1,!1,!0):-1e3<i?f.J.BH(B._,z.length==1&&B.f.length!=0?B.f:null):L.rect.clone();
A=A.QM(D);if(i>0&&L.add.artb)o=o.QM(L.nU())}return!o.WT()?o:A};Q.S.prototype.bf=function(x,z,A,o){var i=new fZ(z,!0);
i.data=A;if(o)i.k=o;x.c(i)};Q.S.sd=function(x,z,A){var o=[];for(var F=0;F<z.length;F++){var i=z[F],L,B;
if(i>=0){L=x.g[i];B=L.V3(x,A,!0)}else if(i>-1e3){L=x.Ds[-1-i];B=[2]}else{o.push([null,null,null,null,null,null,null,x.lX[-1e3-i].clone()]);
continue}var D=[];if(B.indexOf(0)!=-1){var Z={XS:[L.buffer.slice(0),L.rect.clone()]};D.push(Z);if(L.Mi()){var j=L.zg(x);
Z.ajH=j.buffer.slice(0);Z.atY=j.rect.clone()}}else D.push(null);if(B.indexOf(1)!=-1)D.push(L.dP().clone());
else D.push(null);if(B.indexOf(2)!=-1)D.push({Ot:L.add.vmsk.clone(),J9:L.add.vstk?JSON.parse(JSON.stringify(L.add.vstk)):null,Kb:L.add.vstk?Q.YG.N2(x,i):null,i4:L.add.vogk?JSON.parse(JSON.stringify(L.add.vogk)):null});
else D.push(null);if(L.add.TySh&&D[0]){am.vN(L.add.TySh);D.push(L.add.TySh.D.clone())}else D.push(null);
if(L.add.SoLd&&D[0])D.push(JSON.parse(JSON.stringify(L.add.SoLd)));else D.push(null);if(B.indexOf(3)!=-1)D.push(L.zg(x).B.clone());
else D.push(null);if(L.add.lmfx)D.push(JSON.stringify(L.add.lmfx));else D.push(null);o.push(D)}return o};
Q.S.HB=function(x,z,A){for(var F=0;F<z.length;F++){var o=z[F],i=0<=o?x.g[o]:-1e3<o?x.Ds[-1-o]:x.lX[-1e3-o],L=A[F];
if(L[0]){i.rect=L[0].XS[1].clone();i.buffer=L[0].XS[0].slice(0);if(i.Mi()){var B=i.zg(x);B.buffer=L[0].ajH.slice(0);
B.rect=L[0].atY.clone()}}if(L[1]){i.dP().channel=L[1].channel.slice(0);i.dP().rect=L[1].rect.clone();
i.dP().h9=!0}if(L[2]){i.add.vmsk=L[2].Ot.clone();if(L[2].Kb)Q.YG.UC(i,L[2].Kb);if(L[2].J9)i.add.vstk=JSON.parse(JSON.stringify(L[2].J9));
if(L[2].i4)i.add.vogk=JSON.parse(JSON.stringify(L[2].i4))}if(L[3]){i.add.TySh.D=L[3].clone();am.AA(i.add.TySh)}if(L[4]){i.add.SoLd=JSON.parse(JSON.stringify(L[4]))}if(L[5]){var D=i.zg(x).B;
D.channel=L[5].channel.slice(0);D.rect=L[5].rect.clone()}if(L[6]){i.add.lmfx=JSON.parse(L[6])}if(L[7]){i.channel=L[7].channel.slice(0);
i.rect=L[7].rect.clone();i.h9=!0}if(0<=o){i.cm(x);i.i()}}x.i()};Q.S._q=function(x){var z=x.clone(),A=Math.atan2(-z.s,z.xc),o=new cb;
o.rotate(-A);z.concat(o);return(Math.abs(z.xc)+Math.abs(z.y9))/2};Q.S.WX=function(x,z,A,o,i,L,B,D,Z,j){if(typeof L[0]=="number"){var a=[];
for(var F=0;F<A.length;F++)a[F]=L;L=a}for(var F=0;F<A.length;F++){var b=L[F],W=f.P.eA(b),c=Q.S._q(W),Y=A[F],R=0<=Y?x.g[Y]:-1e3<Y?x.Ds[-1-Y]:x.lX[-1e3-Y],$=o[F];
if(R.add&&R.add.lmfx&&D)ct.pi(R.add.lmfx,c);if($[0]&&!$[3]&&!$[4]&&!$[5]){var k=$[0].XS;if(Z){var w=Z.clone(),V=f.C(w.$()*4);
f.mV(k[0],k[1],V,w);k=[V,w]}var h=Q.S.Ea(k,i,b,B,i==0?R.buffer.buffer:null,null,null,j);if(h){R.rect=h.rect;
R.buffer=h.buffer}}if($[1]){var l=R.dP();Q.S.EG(x,$[1],l,i,b,B);if(Z){var w=R.rect.tE(Z),M=f.C(w.$());
f.K5(l.channel,l.rect,M,w);l.channel=M;l.rect=w}}if($[2]){var q=B&&!f.qK.h8(B),t=$[2].Ot.clone(),p=A.length==1&&t.f.length!=0,E=A.length==1&&t.OH.length>1;
if(E)p=!1;var _=p?t.f:null,S=E?t.OH:null;if(q){var y=f.qK.Tq(B);f.P.D(b,y);f.J.a9S(t._,y,_,S)}else f.J.aiG(t._,b,_,S);
if(R.add.vstk&&D){R.add.vstk.strokeStyleLineWidth.v.val=$[2].J9.strokeStyleLineWidth.v.val*c;var v=$[2].Kb;
if(v&&v.ks==3){v=JSON.parse(JSON.stringify(v));var r=v.Kb.phase.v;v.Kb.Scl.v.val=Math.round(v.Kb.Scl.v.val*c);
r.Hrzn.v=Math.round(r.Hrzn.v*c);r.Vrtc.v=Math.round(r.Vrtc.v*c);Q.YG.UC(R,v)}}if(R.add.vogk){R.add.vogk=JSON.parse(JSON.stringify($[2].i4));
if(q||E)f.i4.awf(R.add.vogk);else f.i4.D(R.add.vogk,b,A.length>1?[]:t.f,D)}t.Jc*=c;R.add.vmsk=t;if(R.add.vogk)f.i4.nX(R.add.vogk,R.add.vmsk)}if($[3]){var K=$[3].clone();
K.concat(W);R.add.TySh.D=K;am.AA(R.add.TySh);var s=new ah(R.add.TySh.gP,z.P2),P=g3.X4(s,R.add.TySh);
R.rect=P.G8;R.buffer=P.ov}if($[4]){var d=R.add.SoLd,X=Q.S.z5($[4].nonAffineTransform);f.P.D(b,X);var U=f.p.ke(X);
if(ig.fS(X)){if(B){var n=f.p.Jr(f.qK.Tq($[4].warp.v)),M=f.P.p0(X,n),e=f.p.Jr(f.qK.Tq(B));X=[e.x,e.y,e.x+e.m,e.y,e.x+e.m,e.y+e.n,e.x,e.y+e.n];
f.P.D(M,X);d.warp.v=B}var J=f.P.p0(X),C=X;if(!f.P.Vo(J)){J[6]=J[7]=0;C=[0,0,1,0,1,1,0,1];f.P.D(J,C)}d.Trnf=Q.S.rL(C);
d.nonAffineTransform=Q.S.rL(X);if(d.filterFX)d.filterFX=JSON.parse(JSON.stringify($[4].filterFX));Q.S.asV(d,W);
R._6(x,i==0,z.P2)}}if($[5])Q.S.EG(x,$[5],R.zg(x).B,i,b,B);if($[7])Q.S.EG(x,$[7],R,i,b,B);if(0<=Y){if(i!=0)R.wr();
R.cm(x);R.i()}}x.i()};Q.S.eM=function(x,z,A,o,i,L){if(A==null)A=!1;return Q.S.Ea(x,A?0:1,f.P.TX(z),null,o,i,L,A)};
Q.S.Ea=function(x,z,A,o,i,L,B,D){if(D==null)D=!1;if(D&&B)throw"e";var Z={},W=0,c=.3;if(o&&!f.qK.h8(o)){var j=f.qK.Tq(o);
f.P.D(A,j);Z.rect=f.p.ke(j);Z.buffer=f.C(Z.rect.$()*4);f.fE.drawImage(j,x[0],x[1].m,x[1].n,Z.buffer,Z.rect,z==0);
return Z}f.mL(x);var a=x[0],b=x[1],Y=b.$()*Q.S._q(f.P.eA(A));if(D&&Y>4e6)c=Y>8e6?2.2:1.2;while(W+3<x.length&&x[W+3].$()>16&&f.P.Vo(A)&&Q.S._q(f.P.eA(A))<c){W+=2;
var R=x[W],$=x[W+1],k=b.m/$.m,w=b.n/$.n;A=f.P.a7(A,[1,0,b.x,0,1,b.y,0,0]);A=f.P.a7(A,[k,0,0,0,w,0,0,0]);
A=f.P.a7(A,[1,0,-b.x,0,1,-b.y,0,0]);b=$;a=R}var V=f.P.a7(A,f.P.TX(new cb(b.m,0,0,b.n,b.x,b.y))),h=[0,0,1,0,1,1,0,1];
f.P.D(V,h);Z.rect=f.p.ke(h);if(B)Z.rect=Z.rect.tE(B);if(D){while((Z.rect.m&3)!=0)Z.rect.m++;while((Z.rect.n&3)!=0)Z.rect.n++}if(!ig.fS(h)||Z.rect.m>1e5||Z.rect.n>1e5||Z.rect.$()>3e4*3e4)return null;
var l=Z.rect.$()*4;if(i&&i.byteLength>=l&&l>=i.byteLength>>2){Z.buffer=new Uint8Array(i)}else{Z.buffer=f.C(l)}f.P.drawImage(V,a,b.m,b.n,Z.buffer,Z.rect,z==0,L,D);
if(z==2&&Z.buffer){var M=Z.rect.m,q=Z.rect.n,t;t=[0,-1,0,-1,16,-1,0,-1,0];t=f.Nr.e7(t);var p=Z.buffer.slice(0);
f.Nr.fr(p,Z.buffer,M,q,t,255,!1,!0)}if(Z.buffer)return Z};Q.S.EG=function(x,z,A,o,i,L){if(z.color==255)f.Qs(z.channel);
var B=z.rect,D=f.C(B.$()*4);f.c8(z.channel,D,3);var Z=Q.S.Ea([D,B],o,i,L);if(Z){A.rect=Z.rect;A.channel=f.C(Z.rect.$());
f.XN(Z.buffer,A.channel,3);A.h9=!0}if(z.color==255){f.Qs(z.channel);if(Z)f.Qs(A.channel)}};Q.S.asV=function(x,z){var A=x.filterFX;
if(A)A=A.v.filterFXList;if(A)A=A.v;if(A)for(var o=0;o<A.length;o++){var i=A[o].v.Fltr;if(i==null||i.v.classID!="rigidTransform")continue;
i=i.v;console.log(i);var L=[];for(var B=0;B<4;B++)L.push(i["PuX"+B].v,i["PuY"+B].v);f.p.D(L,z,L);for(var B=0;
B<4;B++){i["PuX"+B].v=L[B*2];i["PuY"+B].v=L[B*2+1]}var D=["PinP","posFinalPins"],Z=["originalVertexArray","deformedVertexArray"],j=i.puppetShapeList.v;
for(var a=0;a<j.length;a++){var b=j[a].v;for(var W=0;W<D.length;W++){var c=Q.S.z5(b[D[W]]);f.p.D(c,z,c);
b[D[W]]=Q.S.rL(c);var Y=new Uint8Array(b[Z[W]].v),R=new Float32Array(Y.buffer);f.p.D(R,z,R);var $=[];
for(var k=0;k<Y.length;k++)$[k]=Y[k];b[Z[W]].v=$}}}};Q.S.z5=function(x){var z=[],A=x.v.length;for(var F=0;
F<A;F++)z.push(x.v[F].v);return z};Q.S.rL=function(x){var z={t:"VlLs",v:[]},A=x.length;for(var F=0;F<A;
F++)z.v.push({t:"doub",v:x[F]});return z};Q.S.prototype.auw=function(){var x=f.p.Jr(f.qK.Tq(this.DV.f4())),z=f.P.p0(this.vf.m9(),this.rN),A=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.n,x.x,x.y+x.n];
f.P.D(z,A);this.vf.Oi(A);this.rN=x};Q.S.prototype.Ow=function(x,z,A,o){var i=f.P.p0(this.vf.m9(),this.rN);
i=f.P.a7(i,f.P.Qs(this.V_));var L=this.DV?this.DV.f4():null;if(this.C7==0){var B=this.Ff=f.P.eA(i);if(this.id==Q.lq){var D=this.M1[0][0],Z=D.XS,j=Z[1],a=~~(j.m*Math.max(0,B.xc)),b=~~(j.n*Math.max(0,B.y9)),W=new av(Math.round(B.xc*j.x+B.ZT),Math.round(B.y9*j.y+B._s),a,b),c=f.gh.D(this.Ob,W),Y=x.g[this.g[0]];
Y.buffer=c;Y.rect=W;Y.i();x.i()}else Q.S.WX(x,z,this.g,this.M1,A,i,L,null,null,o)}else if(this.C7==1){var R=x.g[this.g[0]],j=this.Di.G8;
if(R.ZD<=0){var $=this.Di.Mw,k=this.rl,w=null;if(L&&!f.qK.h8(L)&&!k.rect.S0(j)){var c=f.C(k.rect.$()*4);
f.mV($,j,c,k.rect);$=c;j=k.rect}if(this.id==Q.lq){var B=this.Ff=f.P.eA(i),a=~~(j.m*Math.max(0,B.xc)),b=~~(j.n*Math.max(0,B.y9)),W=new av(Math.round(B.xc*j.x+B.ZT),Math.round(B.y9*j.y+B._s),a,b),c=f.gh.D(this.Ob,W);
w={buffer:c,rect:W}}else w=Q.S.Ea([$,j],A,i,L);if(w){R.sL.EU=w.buffer;R.sL.Du=w.rect;var V=f.C(w.rect.$());
f.XN(R.sL.EU,V,3);x.O={channel:V,rect:R.sL.Du.clone()}}}else{var h=f.C(j.$()*4);f.c8(this.Di.Mw,h,3);
var w=Q.S.Ea([h,j],A,i,L);if(w){R.sL.EU=f.C(w.rect.$());f.XN(w.buffer,R.sL.EU,3);R.sL.Du=w.rect}this.afP(x,A,i,L)}R.PJ(x,0,0,x.O);
if(A!=0){R.wr();f.wr(x.O)}x.I3=!0;x.i()}else if(this.C7==2)this.afP(x,A,i,L)};Q.S.prototype.afP=function(x,z,A,o){var i=this.rl.rect,L=f.C(i.$()*4);
f.c8(this.rl.channel,L,3);var B=Q.S.Ea([L,i],z,A,o),D=f.C(B.rect.$());f.XN(B.buffer,D,3);x.O={channel:D,rect:B.rect};
x.I3=!0};Q.S.prototype.disable=function(x,z,A,o){if(this.vf)this.Ga(x,z,null,!0)};Q.auF=function(){Q.S.call(this,[10,16],Q.fT,"tools/transform")};
Q.auF.prototype=new Q.S;Q.a2f=function(){Q.S.call(this,[7,10],Q.yz,"tools/transform")};Q.a2f.prototype=new Q.S;
Q.ape=function(){Q.S.call(this,[10,48],Q.lq,"tools/transform")};Q.ape.prototype=new Q.S;Q.wT=function(x,z,A){Q.He.call(this,[10,46],Q.qW,"tools/transform");
this.AQ=[1,1,2,!0];this.ET="rigidTransform";this.Rf=null;this.adS=null;this.Pf=null;this.eP=null;this.KQ=null;
this.Q6=null;this.Ap=[]};Q.wT.prototype=new Q.He;Q.wT.prototype.wn=function(){return!0};Q.wT.atk=function(x){if(x==null)return!1;
if(x.f.length!=1)return!1;var z=x.g[x.f[0]];return z.add.SoLd||x.Qi(!1)};Q.wT.prototype.na=function(x,z){return Q.wT.atk(x)};
Q.wT.prototype.enable=function(x,z,A,o,i,L,B){this.adS=L.CH;var D=L.CH,Z,R=null;if(D){var j=x.g[D.j];
if(j.add.SoLd.filterFX!=null){var a=j.add.SoLd.filterFX.v.filterFXList.v;if(a[D.index])Z=JSON.parse(JSON.stringify(a[D.index].v.Fltr.v))}}var b=Z==null,j=x.g[x.f[0]],W=j.buffer,c=j.rect,Y=j.add.SoLd;
if(Y){var $=Y.nonAffineTransform.v;R=[];for(var F=0;F<4;F++)R.push($[F*2].v,$[F*2+1].v);if(b)this.Vl("edit",z);
var k=j.zg(x);W=k.buffer;c=k.rect}this.Rf={buffer:W.slice(0),rect:c.clone(),am$:R};if(b)Z=Q.wT.mv(this.Rf,this.AQ);
this.Pf=Z;this.eP=Q.wT.FF(this.Pf,this.AQ);this.DE();this.ac(x);if(b)this.Ta(z);var w=new fZ(G.E.Y,!0);
w.data={d:G.U.HU,k:this.id,Hl:this.AQ};z.c(w);w.data={d:G.U.sy,OU:"default"};z.c(w)};Q.wT.prototype.disable=function(x,z,A,o){if(this.eP)this.Ga(x,z,!0)};
Q.wT.prototype.DE=function(x){var z=this.eP;this.Ap=[];for(var F=0;F<z.length;F++){var A=z[F];for(var o=0;
o<A.f.length;o++)this.Ap.push([F,A.f[F]]);A.q9=f.l4.Ls(A);if(x)f.l4.d2(A)}};Q.wT.prototype.Wr=function(x,z,A,o){if(x.Vn=="commit")this.Ga(A,z,!0);
else if(x.Vn=="cancel")this.oG(A,z,!0);else if(x.Vn=="prm"){var i=!1;for(var F=0;F<3;F++)if(this.AQ[F]!=x.Hl[F])i=!0;
this.AQ=x.Hl;if(i){this.Pf=Q.wT.mv(this.Rf,this.AQ,this.Pf);this.eP=Q.wT.FF(this.Pf,this.AQ);this.DE(!0);
this.Ta(z)}this.ac(A)}else if(x.Vn=="moveDepth"){var L=this.eP;for(var B=0;B<L.length;B++){var D=L[B];
for(var F=0;F<D.f.length;F++){var Z=D.f[F];D.tf[Z]+=x.abD?1:-1}}this.Ta(z)}};Q.wT.prototype.WU=function(x,z){return x==bJ.BC||x==bJ.Bo};
Q.wT.prototype.R0=function(x,z,A,o){var i=o.u0();if(o.A(bJ.oN))this.Ga(x,z,!0);else if(o.A(bJ.dw))this.oG(x,z,!0);
else if(o.A(bJ.BC)||o.A(bJ.Bo)){var L=this.eP;for(var B=0;B<L.length;B++){var D=L[B];D.f.sort(function(a,b){return b-a});
for(var F=0;F<D.f.length;F++){var Z=D.f[F],j=Z*2;D.tf.splice(Z,1);D.m$.splice(Z,1);D.fw.splice(Z,1);
D.t3.splice(Z,1);D._E.splice(j,2);D.IY.splice(j,2)}D.f=[];if(D.t3.length==0){D._o=D.VN.slice(0);D.Dr=D.VN.slice(0)}}this.DE(!0);
this.Ta(z);this.ac(x)}else if(i.x!=0||i.y!=0){this.aly(x,i.x,i.y,z);this.hP=null}};Q.wT.prototype.Ga=function(x,z,A){this.Vl("confirm",z);
this.escape(x,z,A)};Q.wT.prototype.oG=function(x,z,A){this.Vl("cancel",z);this.escape(x,z,A)};Q.wT.prototype.escape=function(x,z,A){x.G.PK=null;
x.G.L2=[];x.o$=!0;this.eP=null;var o=new fZ(G.E.Y,!0);o.data={d:G.U.Mq};if(A)z.c(o)};Q.wT.prototype.Xv=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=L.x,D=L.y,Z=this.eP,j=null,a=[0,2,4,1.2,1.2,1.2],b=-1,W=Q.VS(x,i);
for(var F=0;F<Z.length;F++){var c=Z[F],Y=f.p.IE(c.IY,B,D,W);if(Y!=-1)j=[F,Y];if(b==-1&&f.l4.J4.aq3(c.Dr,c.VF,B,D))b=F}if(j==null&&b!=-1){var c=Z[b];
Q.wT.agV(c,B,D,B,D,0);j=[b,c.t3.length-1];c.q9=f.l4.Ls(c)}this.KQ=L;if(j){var R=Z[j[0]].f.indexOf(j[1])!=-1;
if(o.A(bJ.xb)&&!R){Z[j[0]].f.push(j[1]);this.Ap.push(j)}else if(!R){Z[j[0]].f=[j[1]];this.Ap=[j]}}this.ac(x)};
Q.wT.agV=function(x,z,A,o,i,L){var B=f.p.IE(x.Dr,z,A);x.t3.push(B);x.IY.push(o,i);x._E.push(x.Dr[B*2]-z,x.Dr[B*2+1]-A);
x.fw.push(0);x.m$.push(!1);x.tf.push(L)};Q.wT.prototype.Dg=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=this.KQ;
if(B)this.aly(x,L.x-B.x,L.y-B.y,z)};Q.wT.prototype.aly=function(x,z,A,o){var i={},L=this.Ap,B=this.eP;
if(this.hP==null){this.hP=[];for(var F=0;F<B.length;F++)this.hP.push(B[F].IY.slice(0))}for(var F=0;F<L.length;
F++){var D=this.Ap[F],Z=D[0],j=B[D[0]],a=D[1]*2;j.IY[a+0]=this.hP[Z][a+0]+z;j.IY[a+1]=this.hP[Z][a+1]+A;
i[Z]=Z}for(var Z in i)f.l4.d2(this.eP[i[Z]]);this.ac(x);this.Ta(o)};Q.wT.prototype.Vl=function(x,z){var A=new fZ(G.E.r,!0);
A.k=Q.qI;A.data={d:x,CH:this.adS,ET:this.ET,u6:this.Pf};z.c(A)};Q.wT.prototype.V4=function(x,z,A,o,i){this.KQ=null;
this.hP=null};Q.wT.prototype.Ta=function(x){Q.wT.afM(this.eP,this.AQ,this.Pf);this.Vl("edit",x)};Q.wT.prototype.ac=function(x){var z=this.eP,A=this.Pf;
x.G.PK={v:[],F:[]};x.G.L2=[];x.G.Zt=[];for(var F=0;F<z.length;F++){var o=z[F];for(var i=0;i<o.f.length;
i++)x.G.Zt.push((x.G.L2.length>>>1)+o.f[i]);x.G.L2=x.G.L2.concat(o.IY);if(this.AQ[3])f.p.concat(x.G.PK,f.p.a3e(o.Dr,o.VF))}x.o$=!0};
Q.wT.mv=function(x,z,A){var o=x.buffer,i=x.rect,L=x.am$,B=h6.d6("rigidTransform");if(L)for(var F=0;F<4;
F++){B["PuX"+F].v=L[F*2];B["PuY"+F].v=L[F*2+1]}var D=B.puppetShapeList.v,Z=f.l4.auU(o,i.m,i.n,z[1],z[2]),j=[];
for(var a=0;a<Z.length;a++){var b={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
b.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var W=Z[a];D.push({t:"Objc",v:b});var c=W.VN.slice(0);f.p.D(c,new cb(1,0,0,1,i.x,i.y),c);var Y=W.VF;
for(var F=0;F<Y.length;F+=3){var R=Y[F+1];Y[F+1]=Y[F+2];Y[F+2]=R}j.push({VF:Y,VN:c,_o:c,Dr:c,t3:[],_E:[],IY:[],q9:null,f:[],fw:[],m$:[],tf:[]})}if(A){var $=Q.wT.FF(A,[]),k=j[0];
for(var F=0;F<$.length;F++){var w=$[F];for(var V=0;V<w.f.length;V++)k.f.push((k.IY.length>>>1)+w.f[V]);
for(var V=0;V<w.t3.length;V++){var h=w.t3[V]*2,l=w.VN[h]-w._E[V*2],M=w.VN[h+1]-w._E[V*2+1];Q.wT.agV(k,l,M,w.IY[V*2],w.IY[V*2+1],w.tf[V])}}}Q.wT.afM(j,z,B);
return B};Q.wT.FF=function(x,z){var A=Q.S.z5,o=x.puppetShapeList.v,i=[];for(var L=0;L<o.length;L++){var B=o[L].v;
z[0]=B.meshRigidity.v-1;z[1]=B.meshQuality.v-1;z[2]=B.meshExpansion.v;var D=B.pinVertexIndices.v.length,Z=B.meshBoundaryPath.v.pathComponents.v;
if(Z.length!=0){var j=Z[0].v.SbpL.v[0].v.Pts;j.v=[]}var a=new Uint32Array(new Uint8Array(B.indexArray.v).buffer),b=new Float32Array(new Uint8Array(B.originalVertexArray.v).buffer),W=new Float32Array(new Uint8Array(B.deformedVertexArray.v).buffer),c=[],Y=[],R=[];
for(var F=0;F<a.length;F++)c.push(a[F]);for(var F=0;F<b.length;F++){Y.push(b[F]);R.push(W[F])}var $=A(B.pinVertexIndices),k=A(B.pinOffsets),w=A(B.posFinalPins),V=A(B.PnRt),h=A(B.PnOv),l=A(B.PnDp),M=A(B.selectedPin);
i.push({VF:c,VN:Y,_o:R.slice(0),Dr:R,t3:$,_E:k,IY:w,q9:null,fw:V,m$:h,tf:l,f:M})}return i};Q.wT.afM=function(x,z,A){function o(W,c){var Y=[];
for(var F=0;F<W.length;F++)Y.push({t:c,v:W[F]});return Y}function i(W,c,Y){var R=new(Y?Uint32Array:Float32Array)(W),$=new Uint8Array(R.buffer);
for(var F=0;F<$.length;F++)c[F]=$[F]}var L=A.puppetShapeList.v;for(var B=0;B<L.length;B++){var D=x[B],Z=L[B].v;
Z.meshRigidity.v=z[0]+1;Z.meshQuality.v=z[1]+1;Z.meshExpansion.v=z[2];i(D.VF,Z.indexArray.v,!0);i(D.VN,Z.originalVertexArray.v);
i(D.Dr,Z.deformedVertexArray.v);var j=[];for(var F=0;F<D.t3.length;F++){var a=D.t3[F]*2,b=F*2;j[b]=D.VN[a]-D._E[b];
j[b+1]=D.VN[a+1]-D._E[b+1]}Z.PinP.v=o(j,"doub");Z.pinVertexIndices.v=o(D.t3,"long");Z.pinOffsets.v=o(D._E,"doub");
Z.posFinalPins.v=o(D.IY,"doub");Z.PnRt.v=o(D.fw,"long");Z.PnOv.v=o(D.m$,"bool");Z.PnDp.v=o(D.tf,"doub");
Z.selectedPin.v=o(D.f,"long")}};Q.wV=function(x,z,A){Q.He.call(this,x?x:[10,40],z?z:Q.eV,A?A:"tools/slice");
this.G_=null;this.i7=null;this.jJ=null;this.anJ=null;this.tS=null;this.an=null};Q.wV.prototype=new Q.He;
Q.wV.Qd=function(x,z){var A=-1;for(var F=0;F<x.length;F++){var o=Q.wV.vG(x,F);if(o[0]<=z.x&&z.x<=o[2]&&o[1]<=z.y&&z.y<=o[3]){A=F;
break}}return A};Q.wV.prototype.A1=function(x,z,A,o,i){if(A==null)return;this._2(A);if(x.d=="fromAction"){var L=A.OG(),B=A.oT(),D=B==-1?new av(0,0,A.m,A.n):A.g[B].nU(),Z=[D.x,D.x+D.m],j=[D.y,D.y+D.n];
for(var F=0;F<L[0].length;F++){var a=L[0][F],b=Math.round(a[1]),W=L[1][F];if(W!=-1&&W!=B)continue;if(a[0]==0&&Z.indexOf(b)==-1)Z.push(b);
if(a[0]==1&&j.indexOf(b)==-1)j.push(b)}Z.sort(function(q,t){return q-t});j.sort(function(q,t){return q-t});
for(var c=1;c<j.length;c++)for(var Y=1;Y<Z.length;Y++){A.TY.push(Q.wV.iu());Q.wV.LH(A.TY,A.TY.length-1,[Z[Y-1],j[c-1],Z[Y],j[c]]);
A.o$=!0}}else if(x.d=="reorder"){if(A.D4.length==0)return;var R=A.TY,$=A.D4;$.sort(function(q,t){return q-t});
console.log($);var k=R.slice(0),w=[],V=[];for(var F=0;F<$.length;F++){var h=$[F],l=R[h];V.push(l);k.splice(k.indexOf(l),1)}var M=Math.max(0,Math.min(k.length,$[0]-x.dir));
for(var F=0;F<V.length;F++){k.splice(M+F,0,V[F]);w.push(M+F)}A.TY=k;A.D4=w}else if(x.d=="delete"){var R=A.TY.slice(0);
for(var F=0;F<A.D4.length;F++)A.TY.splice(A.TY.indexOf(R[A.D4[F]]),1);A.D4=[]}else if(x.d=="deleteAll"){A.TY=[];
A.D4=[]}else{A.TY[A.D4[0]].v=x;A.o$=!0}this.yo(A)};Q.wV.prototype.enable=function(x,z,A,o,i,L){Q.He.prototype.enable.call(this,x,z,A,o,i,L);
if(!A.gw.TY){var B=new fZ(G.E.Y,!0);B.data={d:G.U.nF,Hl:cu.mX};z.c(B)}};Q.wV.prototype.disable=function(){this.G_=null;
this.i7=null};Q.wV.prototype.zD=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=Q.wV.Qd(x.TY,L);if(B==-1)return;
this.G_=x;this.i7=z;x.D4=[B];x.o$=!0;if(this.an==null){this.an=new ir([{name:[5,4]},{name:[8,11,1],fs:!0}]);
this.an.W("select",this.vS,this)}var D=this.an;D.parent=z;D.N();D.update(x,A);var Z=new fZ(G.E.Y,!0);
Z.data={d:G.U.Sc,oM:D,x:i.Md+2,y:i.fZ+1};z.c(Z)};Q.wV.prototype.vS=function(x){var z=this.an.WJ()[0],A=this.G_;
if(z==0){this._2(A);A.TY.splice(A.D4[0],1);A.D4=[];A.o$=!0;this.yo(A)}if(z==1){var o=new fZ(G.E.Y,!0);
o.data={d:G.U.z1,ca:"soptions",h:A.TY[A.D4[0]].v};this.i7.c(o)}};Q.wV.prototype.Xv=function(x,z,A,o,i){if(x==null)return;
this._2(x);var L=x.t.Sd(i.x,i.y);L=Q.R7.EX(x,L,A,[!0,null,!1]);L.x=Math.round(L.x);L.y=Math.round(L.y);
this.tS=L;x.TY.unshift(Q.wV.iu());x.D4=[0];Q.wV.LH(x.TY,0,[L.x,L.y,L.x+20,L.y+20]);x.o$=!0};Q.wV.prototype.Dg=function(x,z,A,o,i){if(this.jJ==null)return;
var L=x.t.Sd(i.x,i.y),B=this.tS;L=Q.R7.EX(x,L,A,[!0,null,!1]);L.x=Math.round(L.x);L.y=Math.round(L.y);
var D=[B.x,B.y,L.x,L.y];Q.wV.aoB(D);Q.wV.LH(x.TY,0,D);x.o$=!0};Q.wV.prototype.V4=function(x,z,A,o,i){this.yo(x);
this.tS=null};Q.wV.prototype._2=function(x){this.jJ=JSON.stringify(x.TY);this.anJ=JSON.stringify(x.D4)};
Q.wV.prototype.yo=function(x){var z=JSON.stringify(x.TY);if(z!=this.jJ){var A=new j$(this.name,this);
A.data={Di:this.jJ,zV:z,aiY:this.anJ,atq:JSON.stringify(x.D4)};x.U7(A)}this.jJ=null};Q.wV.prototype.a_=function(x,z){z.TY=JSON.parse(x.Di);
z.D4=JSON.parse(x.aiY);z.o$=!0};Q.wV.prototype.IR=function(x,z){z.TY=JSON.parse(x.zV);z.D4=JSON.parse(x.atq);
z.o$=!0};Q.wV.prototype.WU=function(x,z){return z!=null&&z.D4.length!=0&&(x==bJ.BC||x==bJ.Bo)};Q.wV.prototype.R0=function(x,z,A,o){if(x==null)return;
if(o.A(bJ.BC)||o.A(bJ.Bo))this.A1({d:"delete"},z,x,o,A);var i=o.u0();if(i.x!=0||i.y!=0){this._2(x);Q.wV.kO(x,i);
this.yo(x)}};Q.wV.prototype.Wr=function(x,z,A,o,i){};Q.wV.a5N=function(x,z,A,o){var i=new iL(-z.x,-z.y),L=z.m/A.m,B=z.n/A.n,D=[0,0,z.m,z.n];
for(var F=0;F<x.length;F++){var Z=Q.wV.vG(x,F);if(o){Z[0]=Math.round(Z[0]*L);Z[1]=Math.round(Z[1]*B);
Z[2]=Math.round(Z[2]*L);Z[3]=Math.round(Z[3]*B)}else{Q.wV.aE(Z,i);Q.wV.a1Y(Z,D)}if(Z[0]>=Z[2]||Z[1]>=Z[3]){x.splice(F,1);
F--;continue}Q.wV.LH(x,F,Z)}};Q.wV.kO=function(x,z){var A=x.TY;for(var F=0;F<x.D4.length;F++){var o=Q.wV.vG(A,x.D4[F]);
Q.wV.aE(o,z);Q.wV.LH(A,x.D4[F],o)}};Q.wV.a1Y=function(x,z){if(x[0]<z[0])x[0]=z[0];if(x[1]<z[1])x[1]=z[1];
if(z[2]<x[2])x[2]=z[2];if(z[3]<x[3])x[3]=z[3]};Q.wV.aE=function(x,z){x[0]=Math.round(x[0]+z.x);x[2]=Math.round(x[2]+z.x);
x[1]=Math.round(x[1]+z.y);x[3]=Math.round(x[3]+z.y)};Q.wV.LH=function(x,F,z){var A=x[F].v.bounds.v;A.Left.v=z[0];
A.Top.v=z[1];A.Rght.v=z[2];A.Btom.v=z[3]};Q.wV.vG=function(x,F){var z=x[F].v.bounds.v;return[z.Left.v,z.Top.v,z.Rght.v,z.Btom.v,F]};
Q.wV.aoB=function(x){if(x[2]<x[0]){var z=x[0];x[0]=x[2];x[2]=z}if(x[2]==x[0])x[2]++;if(x[3]<x[1]){var z=x[1];
x[1]=x[3];x[3]=z}if(x[3]==x[1])x[3]++};Q.wV.Jr=function(x,z){var A=1e9,o=-1e9,i=1e9,L=-1e9;for(var F=0;
F<z.length;F++){var B=Q.wV.vG(x,z[F]);A=Math.min(A,B[0]);i=Math.min(i,B[1]);o=Math.max(o,B[2]);L=Math.max(L,B[3])}return[A,i,o,L]};
Q.wV.iu=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
Q.p_=function(){Q.wV.call(this,[10,41],Q.Dy,"tools/sselect");this.tS=null;this.gZ=null;this.w_=null;
this.Q6=null;this.kk=!1};Q.p_.prototype=new Q.wV;Q.p_.prototype.Xv=function(x,z,A,o,i){if(x==null)return;
var L=x.t.Sd(i.x,i.y),B=Q.p_.abh(L,4/x.t.X,x.TY,x.D4);B.pop();if(B.length!=0){this.tS=L;this.w_=B;this._2(x);
return}var D=x.TY,Z=Q.wV.Qd(D,L);if(Z==-1)x.D4=[];else{var j=x.D4.indexOf(Z);if(o.A(bJ.xb)){if(j==-1)x.D4.push(Z);
else x.D4.splice(j,1)}else{x.D4.sort(function(R,$){return R-$});if(j==-1)x.D4=[Z];this.tS=L;this._2(x);
this.gZ=Q.wV.Jr(D,x.D4);this.Q6=[];for(var F=0;F<x.D4.length;F++)this.Q6.push(Q.wV.vG(D,x.D4[F]));if(o.A(bJ.yU)){var a=D.slice(0),b=x.D4,W=[];
for(var F=0;F<b.length;F++){var Z=b[F],c=a[Z],Y=D.indexOf(c);W.push(Y);D.splice(Y,0,JSON.parse(JSON.stringify(c)))}x.D4=W}}}x.o$=!0};
Q.p_.prototype.Dg=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y);if(this.tS==null){var B=Q.p_.abh(L,4/x.t.X,x.TY,x.D4),D=B.pop(),Z=B.length==0?"default":["ew","nwse","ns","nesw"][D]+"-resize",j=new fZ(G.E.Y,!0);
j.data={d:G.U.sy,OU:Z};z.c(j);return}if(!this.kk&&L.S0(this.tS))return;this.kk=!0;var a=x.TY,B=this.w_;
if(B){L=Q.R7.EX(x,L,A,[!0,null,!1]);var b=Math.round(L.x),W=Math.round(L.y);for(var F=0;F<B.length;F+=2){var c=Q.wV.vG(a,B[F]),Y=B[F+1];
c[Y]=(Y&1)==0?b:W;Q.wV.aoB(c);Q.wV.LH(a,B[F],c)}}else{var R=L.Vx(this.tS),$=this.gZ.slice(0);Q.wV.aE($,R);
var k=new av($[0],$[1],$[2]-$[0],$[3]-$[1]),w=Q.R7.Dh(x,k,A,[!0,null,!1],!0);Q.R7.mj(x,k,w);R.x+=w[0];
R.y+=w[1];for(var F=0;F<x.D4.length;F++)Q.wV.LH(a,x.D4[F],this.Q6[F]);Q.wV.kO(x,R)}x.o$=!0};Q.p_.prototype.V4=function(x,z,A,o,i){if(this.tS==null)return;
this.yo(x);x.G.ky=null;x.o$=!0;this.tS=null;this.w_=null;this.Q6=null;this.kk=!1};Q.p_.abh=function(x,z,A,o){var i=x.x,L=x.y,B=[],D=-1,Z=[];
for(var F=0;F<o.length;F++){var j=o[F],a=Q.wV.vG(A,j),b=a[0],W=a[1],c=a[2],Y=a[3];if(i<b-z||c+z<i||L<W-z||Y+z<L)continue;
var R=[i<b+z,L<W+z,c-z<i,Y-z<L],$=-1;for(var k=0;k<4;k++){if(R[k]&&R[k+1&3])$=1+2*(k&1);if(R[k])B.push(j,k)}if($==-1){if(R[0]||R[2])$=0;
if(R[1]||R[3])$=2}if($!=-1){D=$;Z.push(j)}}var w=B.length;for(var F=0;F<w;F+=2){var j=B[F],V=B[F+1],h=Q.wV.vG(A,j)[V];
for(var k=0;k<o.length;k++){var l=o[k];if(Z.indexOf(l)!=-1)continue;var a=Q.wV.vG(A,l);if(a[V&1]==h)B.push(l,V&1);
if(a[2+(V&1)]==h)B.push(l,2+(V&1))}}B.push(D);return B};Q.kX=function(){Q.BO.call(this,[10,44],Q.a4h,"tools/oselect");
this.EF="crosshair";this.a6Z=0};Q.kX.prototype=new Q.BO;Q.kX.prototype.XP=function(x,z,A,o){if(Math.random()<1/(1+this.a6Z)){alert("The cross should be fully inside the object.",3500);
this.a6Z++}};Q.kX.prototype.ss=function(x,z,A,o){Q.LI.LK(x,Q.BO.H7,this.i7);if(!o.z0||!this.ui)return;
var i=this.mc(x,A,!1),L=i.m,B=i.n,D=i.x,Z=i.y,j=i.x+L,a=i.y+B,b=D+L/2,W=Z+B/2,c=Q.kX.aqL;x.G.PK={v:[D,Z,j,Z,j,a,D,a,b-L*c,W,b+L*c,W,b,W-B*c,b,W+B*c],F:"M L L L Z M L M L".split(" ")};
x.o$=!0};Q.kX.aqL=.12;Q.kX.prototype.rP=function(x,z,A,o){x.G.PK=null;x.o$=!0;this.finish(x,z,A,o)};
Q.kX.prototype.getSelection=function(x,z,A,o){if(this.YH.S0(this.fl)||!this.ui)return null;var i=this.mc(x,A,!1),L=x.g[x.f[0]];
if(i.WT()||!i.$X(L.rect))return null;return Q.BO.uX("ObSl",i)};Q.LI=function(){Q.sg.call(this,[10,37],Q.ll,"tools/qselect");
this.RJ="qselect"};Q.LI.prototype=new Q.sg;Q.LI.prototype.Xv=function(x,z,A,o,i){Q.LI.LK(x,Q.BO.H7,z,!0);
this.B2(x,A,o,i,1);if(this.oq==null)return;this.sP(x)};Q.LI.prototype.Dg=function(x,z,A,o,i){this.kY(x,z,A);
Q.LI.LK(x,Q.BO.H7,z);if(this.Nv)this.Zk(x,A,i);if(this.oq==null)return;if(!i.z0)return;var L=this.Zo(x,A,o,i);
if(L!=1)this.sP(x)};Q.LI.LK=function(x,z,A,o){if(x&&z.key!=Q.LI.fu(x)){z.key=Q.LI.fu(x);var i=x.g[x.f[0]].rect.$(),B="Image Analysis ...";
if(i==0)return;var L=i>1e6&&o!=!0,D=new fZ(G.E.Y,!0);D.data={d:G.U.pj,_9:B};if(L)A.c(D);var Z=function(){var j=Q.LI.ahX(x);
for(var a in j)z[a]=j[a];var D=new fZ(G.E.Y,!0);D.data={d:G.U.gt,_9:B};if(L)A.c(D)};if(o)Z();else setTimeout(Z,30)}};
Q.LI.fu=function(x){var z=x.f[0],A=x.g[z],o=A.rect,i=o.m,L=o.n,B=i*L,D=A.buffer;return[z,o.x,o.y,i,L,D[0],D[1],D[2],D[3]].join(",")};
Q.LI.ahX=function(x){var z=x.f[0],A=x.g[z],o=A.rect,i=o.m,L=o.n,B=i*L,D=A.buffer,Z=Date.now(),j=f.C(B);
j.fill(128);var a=f.TN.fK(D,i,L);console.log(Date.now()-Z);var b={key:Q.LI.fu(x),DJ:D,rect:o.clone(),GM:i,zp:L,YE:12,acf:!1,By:j,QR:a,O:f.C(B),Ko:null,dq:null,Yk:null};
Q.LI.f0(b);return b};Q.LI.f0=function(x,z){var A=x.GM,o=x.zp,i=0,L=0,B=Date.now(),D=x.Ko!=null&&f.TN.a87(x.QR.VF,x.Ko.VF,x.Ko.c_,x.By);
i=Date.now()-B;B=Date.now();if(!D&&!x.acf){x.Ko=f.TN.Wj(x.QR,A,o,x.By,x.YE);if(!f.TN.a87(x.QR.VF,x.Ko.VF,x.Ko.c_,x.By)){x.acf=!0;
console.log("conflict")}x.dq=f.TN.as2(x.DJ,A,o,x.Ko.VF,x.Ko.c_);x.Yk=[x.dq[0].slice(0),[]];L=Date.now()-B;
B=Date.now()}var B=Date.now();if(z){x.Yk[0].set(x.dq[0]);var Z=x.dq[1],j=x.Yk[1];for(var a=0;a<Z.length;
a++)j[a]=Z[a].slice(0);f.TN.a0T(x.Ko.VF,A,o,x.Ko.c_,x.By,x.O,x.Yk)}};Q.tJ=function(){Q.He.call(this,[10,50],Q.Zv,"tools/artb");
this.dl=null;this.ye=!1;this.vf=null;this.e6=!1;this.asM=null;this.bQ=100;this.nd=null;this.rV=0};Q.tJ.prototype=new Q.He;
Q.tJ.prototype.A1=function(x,z,A,o,i){this.Kg(A,x.a2$,z,x.Ym)};Q.tJ.a8a=function(x,z){var A=x[0],o=0,i=0;
if(A==0)i=-1;else if(A==1)o=1;else if(A==2)i=1;else o=-1;return[20/z.tK,x[1]+o*60/z.tK,x[2]+i*60/z.tK]};
Q.tJ.prototype.Wr=function(x,z,A,o,i){this.dl=x.Hl;this.rV=Date.now()};Q.tJ.prototype.Nu=function(x,z,A,o){if(A.YC!=this.id)return;
if(x==null||x.f.length!=1){this.rQ(x);return}var i=x.f[0],L=x.g[i],B=L.add.artb;if(B==null){this.rQ(x);
return}if(this.e6)return;if(Date.now()-this.rV>50){this.dl={};var D=["artboardBackgroundType","Clr"];
for(var F=0;F<D.length;F++)if(B[D[F]])this.dl[D[F]]=JSON.parse(JSON.stringify(B[D[F]]));var Z=new fZ(G.E.Y,!0);
Z.data={d:G.U.HU,k:this.id,uS:this.dl};z.c(Z)}var j=L.nU(),a=f.p.Mm(j).v,b=this.vf=new ig(a,!0,!1,!1,!0,!1,3,!1);
b.KH(x,A,!1);var W={v:[1,0],F:["M"]};for(var F=1;F<30;F++){var c=Math.PI*2*F/30;W.v.push(Math.cos(c),Math.sin(c));
W.F.push("L")}W.F.push("Z","M","L","M","L");W.v.push(-.5,0,.5,0,0,-.5,0,.5);var Y=j.x+j.m/2,R=j.y+j.n/2,$=this.bQ*1.1,k=this.asM=[Y,j.y,j.x+j.m,R,Y,j.y+j.n,j.x,R],w=[0,-$,$,0,0,$,-$,0],V=x.root.children;
x.G.HM=[];for(var F=0;F<4;F++){var h=new iL(k[F*2]+w[F*2],k[F*2+1]+w[F*2+1]),l=!1;for(var M=0;M<V.length;
M++){var L=V[M].j;if(L.add.artb==null)continue;var j=L.nU();if(j.Td(h))l=!0}if(l){k[F*2]=1e9;continue}x.G.HM.push([F,k[F*2],k[F*2+1]])}};
Q.tJ.prototype.disable=function(x,z,A,o,i){this.rQ(x)};Q.tJ.prototype.rQ=function(x){if(this.vf){this.vf.clear(x);
this.vf=null;x.G.HM=null}};Q.tJ.prototype.Xv=function(x,z,A,o,i){this.rV=Date.now();var L=x.t.Sd(i.x,i.y),B=this.vf;
if(B){var D=new fZ(G.E.r),Z=B.awk(null,L,x,i);if(Z<9){this.e6=B.Xv(x,A,o,L,null,!0,i);return}else if(B.xA(L)){D.k=Q.ah;
D.data={d:"disabAuto"};z.c(D);var j=new fZ(G.E.Y);j.data={d:G.U.hV,k:Q.ah,a6x:!0};z.c(j);return}else{var a=-1,b=x.G.HM;
for(var F=0;F<b.length;F++){var W=Q.tJ.a8a(b[F],x.t);if(iL.Or(L,new iL(W[1],W[2]))<W[0])a=b[F][0]}if(a!=-1){var c=x.g[x.f[0]].nU(),Y=c.clone(),R=(a==0||a==2?c.n:c.m)+this.bQ;
if(a==0||a==3)R=-R;if(a==0||a==2)c.y+=R;else c.x+=R;if(o.A(bJ.yU)){var $=new av(0,0,x.m,x.n);D.k=Q.xu;
D.data={d:g.Xm};z.c(D);Q.R7.cL(x,x.al(null,x.f[0],null,!0),null,c.x-Y.x,c.y-Y.y);var k=Q.lv.b0(x);if(k){var w=x.nW();
w.data.rN=$;w.data.BP=k}x.f=w.data.bJ=x.f.slice(x.f.length-1)}else this.Kg(x,c,z);return}}}this.nd=Q.R7.EX(x,L,A)};
Q.tJ.prototype.Kg=function(x,z,A,o){if(o==null)o=0;var i=x.g.slice(0),L=[x.g.length+1],B=x.Ad();B.rk(kc.get([1,16,0])+" "+(x.add.artd==null?1:x.root.children.length+1));
B.add.lsct=hF.X7;B.T4(z);if(this.dl){var D=B.add.artb,Z=this.dl;for(var j in Z)D[j]=Z[j]}B.Cz="pass";
B.Fu=24;if(o==0){if(x.add.artd||z.tE(new av(0,0,x.m,x.n)).WT())i.push(x.Qy());else i.unshift(x.Qy())}else{var a=x.al();
a.sort(function(R,$){return R-$});var b=Q.J3.E2(x,a,i.length-1,!1,null,!1),W=b.pop(),c=b.pop();i=b.pop();
i.splice(x.g.length-a.length,0,x.Qy())}i.push(B);var Y=new fZ(G.E.r);Y.k=Q.xu;Y.data={d:g.WF,xd:i,Bp:L,_4:[1,16,2]};
A.c(Y)};Q.tJ.prototype.Dg=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=this.vf,D=this.nd;if(B){if(this.e6){B.Dg(x,A,o,L)}else{var Z=B.El(L,x.t.X,null,i);
if(Z==null)Z="default";var j=new fZ(G.E.Y,!0);j.data={d:G.U.sy,OU:Z};z.c(j)}}if(D){var a=this.vG(x,L,o,A);
x.G.PK=f.p.Mm(a);x.o$=!0;Q.He.uz(i,a,x,A)}};Q.tJ.prototype.V4=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y),B=this.nd;
if(this.e6){this.vf.V4(x,A,o,L);this.e6=!1;var D=f.p.ke(this.vf.m9()),Z=g.J7(D),j=x.g[x.f[0]],a=JSON.parse(JSON.stringify(j.add.artb));
a.artboardRect.v=Z;var b=new fZ(G.E.r,!0);b.k=Q.xu;b.data={d:g.Jn,IM:a};z.c(b)}if(B){var W=this.vG(x,L,o,A);
if(W.$()>20)this.Kg(x,W,z);x.G.PK=null;x.o$=!0;this.nd=null;x.G.ey=[]}};Q.tJ.prototype.vG=function(x,z,A,o){var i=this.nd,L=Q.R7.EX(x,z,o),B=Q.yP.aA(i,L,A,!0);
i=B[0];L=B[1];return f.p.ke([i.x,i.y,L.x,L.y])};function ig(x,z,A,o,i,L,B,D){this.wg=null;this.qX=x?x.slice(0):null;
this.x9=4;this.fl=null;this.EE=null;this.Eo=null;this.TZ=-1;this.Ty=null;this.a1D=!1;this.a9L=[];for(var F=0;
F<8;F++)this.a9L.push(iF.apM(0,PIMG.rotate,-.5,-.5,-45-F*45));this.aki=z;this.aoR=A;this.aoq=o;this.aih=i;
this.mJ=L;this.Ym=B;this.agh=D==null?1:D}ig.prototype.arz=function(){return this.TZ!=-1};ig.prototype.m9=function(){return this.qX.slice(0)};
ig.prototype.Oi=function(x){this.qX=x};ig.prototype.a0g=function(){return this.OM(this.qX)};ig.prototype.adF=function(){return this.x9};
ig.prototype.aj4=function(x){this.x9=x};ig.prototype.gz=function(x){if(x==null)x=this.qX;if(this.x9==9)return this.fl;
else return this.OM(x)[this.x9]};ig.prototype.aqD=function(x){if(this.x9==9)this.fl=x.clone();else{var z=this.gz(),A=new cb(1,0,0,1,x.x-z.x,x.y-z.y);
f.p.D(this.qX,A,this.qX)}};ig.prototype.El=function(x,z,A,o){var i=this.ii(null,x,z,o),L;if(i==9)return"default";
if(i==10){if(A)return null;return!this.aki?"move":null}if(i==-1||i==4)return null;if(i==11){var B=this.gz().Vx(x);
L=90-Math.atan2(B.y,B.x)*180/Math.PI;var D=Math.round(8*(L/360));D=(D+8)%8;return this.a9L[D]}else{var Z=this._7(x,this.qX);
L=[135,90,45,180,0,0,225,270,315][i];var j=f.P.p0(this.qX);L+=Math.atan2(-j[3],j[0])*180/Math.PI;var a="ew nesw ns nwse ew nesw ns nwse".split(" "),D=Math.round(8*(L/360));
D=(D+8)%8;return a[D]+"-resize"}};ig.prototype._7=function(x,z){var A=f.P.Qs(f.P.p0(z)),o=new Float64Array(2);
f.P.j6(x.x,x.y,A,o);return new iL(o[0],o[1])};ig.prototype.xA=function(x){var z=this._7(x,this.qX);return 0<=z.x&&z.x<=1&&0<=z.y&&z.y<=1};
ig.prototype.Xv=function(x,z,A,o,i,L,B){this.a1D=L;this.Ty=o;var D=x.t.X,Z;if(this.qX==null)o=Q.R7.EX(x,o,z);
this.Eo=o.clone();if(this.qX==null){this.Eo.offset(1,1);var j=i==null?1:1/i;this.qX=[o.x,o.y,o.x+1,o.y,o.x+1,o.y+j,o.x,o.y+j];
Z=8}else{Z=this.ii(A,o,D,B);if(0<=Z&&Z<=8)this.Eo=this.OM(this.qX)[Z];if(Z==9){this.x9=9;this.fl=o.clone()}}this.wg=this.qX.slice(0);
this.TZ=Z;this.KH(x,z);this.EE=this.gz();return Z!=-1};ig.prototype.awk=function(x,z,A,o){return this.ii(x,z,A.t.X,o)};
ig.prototype.ii=function(x,z,A,o){var i=-1,L=this.OM(),B=[0,2,6,8,1,3,5,7],D=o?Q.VS({t:{X:A}},o):6*Q.Z()/A;
if(i==-1)if(iL.Or(this.gz(),z)<D)i=9;if(i==-1)for(var F=0;F<B.length;F++)if(iL.Or(L[B[F]],z)<D)i=B[F];
if(i==-1&&x&&x.A(bJ.yU))i=9;if(i==-1||this.Ym==4){if(this.xA(z)){if(this.aki)i=10}else{var Z=this._7(z,this.qX),j=new av(0,0,1,1);
j.nw(.2,.2);i=j.Td(Z)&&this.Ym!=3?11:10}}return i};ig.prototype.Dg=function(x,z,A,o){if(this.TZ==-1)return;
this.Ty=o;var i=A.A(bJ.xb),L=A.A(bJ.yU),B=A.A(bJ.RI),D=x.t.X,Z=this.Eo,j=this.TZ,a=this.OM(),b=Q.R7.EX(x,Z,z),W=Q.R7.EX(x,o,z),c,Y;
if(j==9){var a=this.OM(),R=-1;for(var F=0;F<a.length;F++)if(iL.Or(a[F],W)*D<10)R=F;this.x9=R==-1?9:R;
this.fl=i?Q.Bx.i5(b,W):W.clone()}else if(j==10){Y=f.p.Jr(this.wg);var $=Y.x,k=Y.y;Y.offset(o.x-Z.x,o.y-Z.y);
if(this.apr()){Y.x=Math.round(Y.x);Y.y=Math.round(Y.y)}c=Q.R7.Dh(x,Y,z);var w=new cb(1,0,0,1,Y.x-$+c[0],Y.y-k+c[1]);
f.p.D(this.wg,w,this.qX)}else if(j==11){var V=this.gz(this.wg),h=V.Vx(o),l=V.Vx(Z),M=Math.atan2(h.y,h.x),q=Math.atan2(l.y,l.x),w=new cb(1,0,0,1,-V.x,-V.y),t=Math.PI/12;
if(i)w.rotate(Math.round((q-M)/t)*t);else w.rotate(q-M);w.translate(V.x,V.y);f.p.D(this.wg,w,this.qX)}else{var p,E=this.wg,_=j==0||j==2||j==6||j==8;
if(this.Ym==1){if(_)i=L=B=!0}else if(this.Ym==2&&_&&this.a1D!=!0)B=!0;if(this.Ym==3)B=!1;if(this.aoq&&_&&B){var F=[0,0,2,0,0,0,6,0,4,0][j],S=-1,y=W.x,v=W.y;
if(i){var r=F+6&7,K=F+10&7,s=ig.atH(E[F],E[F+1],E[r],E[r+1],W.x,W.y),P=ig.atH(E[F],E[F+1],E[K],E[K+1],W.x,W.y),d=s[2]<P[2]?s:P;
y=d[0];v=d[1];if(L)S=s[2]<P[2]?r:K}else if(L)S=F+4&7;p=E.slice(0);if(S!=-1){var X=E[S],U=E[S+1],n=(E[F]+X)/2,e=(E[F+1]+U)/2;
p[S]=n-(y-n);p[S+1]=e-(v-e)}p[F]=y;p[F+1]=v}else if(_&&L){var V=this.EE,J=V.x,C=V.y,H=b.x-J,u=b.y-C,bc=1,jK=1;
if(Math.abs(H)>=1)bc=(W.x-J)/H;if(Math.abs(u)>=1)jK=(W.y-C)/u;if(i||this.mJ)bc=jK=(bc+jK)/2;var w=new cb;
w.translate(-J,-C);w.scale(bc,jK);w.translate(J,C);p=E.slice(0);f.p.D(p,w,p)}else{if(this.apr()){W.x=Math.round(W.x);
W.y=Math.round(W.y)}var N=[0,1,2,5,8,7,6,3],he=N[(N.indexOf(j)+4)%8],gJ=[];for(var F=0;F<3;F++)for(var S=0;
S<3;S++)gJ.push(new iL(S/2,F/2));var V=this.EE,kg=this._7(W,E),cJ=this._7(Z,E),it=L&&(this.x9==4||this.x9==9)?this._7(V,E):gJ[he],by=new cb,cz=new cb,bc=(kg.x-it.x)/(cJ.x-it.x);
if(bc==0)bc=1e-4;var jK=(kg.y-it.y)/(cJ.y-it.y);if(jK==0)jK=1e-4;if(this.aih){bc=Math.max(bc,0);jK=Math.max(jK,0)}if(j==0||j==2||j==6||j==8){if(i||this.mJ)by.scale(bc,bc);
else by.scale(bc,jK)}if(j==1||j==3||j==5||j==7){var fG=this.mJ;if(j==1||j==7)by.scale(fG?jK:1,jK);else by.scale(bc,fG?bc:1);
if(this.aoR&&B){if(j==1||j==7)cz.Pm=(kg.x-it.x)/(kg.y-it.y);else cz.s=(kg.y-it.y)/(kg.x-it.x)}}var w=new cb;
w.translate(-it.x,-it.y);w.concat(by);w.concat(cz);w.translate(it.x,it.y);p=[0,0,1,0,1,1,0,1];f.p.D(p,w,p);
var d=f.P.p0(E);f.P.D(d,p)}if(ig.fS(p))this.qX=p}this.KH(x,z);if(c)Q.R7.mj(x,Y,c)};ig.atH=function(x,z,A,o,i,L){var B=A-x,D=o-z,Z=i-x,j=L-z,a=B*B+D*D,b=Z*B+j*D,W=b/a,c=x+W*B,Y=z+W*D,R=i-c,$=L-Y;
return[c,Y,Math.sqrt(R*R+$*$)]};ig.prototype.apr=function(){var x=this.qX;return Math.abs(x[1]-x[3])<1e-6&&Math.abs(x[2]-x[4])<1e-6||Math.abs(x[0]-x[2])<1e-6&&Math.abs(x[3]-x[5])<1e-6};
ig.fS=function(x){return f.p.HI(x)||f.p.HI([x[6],x[7],x[4],x[5],x[2],x[3],x[0],x[1]])};ig.prototype.V4=function(x,z,A,o){this.TZ=-1;
this.Ty=null;x.G.ky=null;x.G.ey=[];x.o$=!0};ig.prototype.R0=function(x,z,A){var o=A.u0();if(o.x||o.y){var i=new cb(1,0,0,1,o.x,o.y);
f.p.D(this.qX,i,this.qX);this.KH(x,z);return!0}return!1};ig.prototype.OM=function(x){if(x==null)x=this.qX;
var z=x[6]-x[0],A=x[7]-x[1],o=x[4]-x[2],i=x[5]-x[3],L=[x[0],x[1],x[2],x[3],x[0]+z/2,x[1]+A/2,x[2]+o/2,x[3]+i/2,x[6],x[7],x[4],x[5]],B=[];
for(var F=0;F<3;F++){var D=F*4,Z=L[D+0],j=L[D+1],a=L[D+2],b=L[D+3];B.push(new iL(Z,j));B.push(new iL(Z+(a-Z)/2,j+(b-j)/2));
B.push(new iL(a,b))}return B};ig.prototype.KH=function(x,z,A){if(A==null)A=!1;var o=this.OM(),i=o[0],L=o[2],B=o[6],D=o[8];
x.G.PK={F:[],v:[]};x.G.PK.F.push("M","L","L","L","Z");x.G.PK.v.push(i.x,i.y,L.x,L.y,D.x,D.y,B.x,B.y);
var Z=this.agh;if(Z>1){var j=L.Vx(i),a=B.Vx(i),b=D.Vx(L),W=D.Vx(B);for(var F=1;F<Z;F++){x.G.PK.F.push("M","L","M","L");
var c=F/Z;x.G.PK.v.push(i.x+j.x*c,i.y+j.y*c,B.x+W.x*c,B.y+W.y*c);x.G.PK.v.push(i.x+a.x*c,i.y+a.y*c,L.x+b.x*c,L.y+b.y*c)}}x.t.xC=new av(0,0,iL.Or(o[0],o[2]),iL.Or(o[0],o[6]));
if(this.TZ!=-1&&this.TZ<9&&this.Ty){var Y=x.t.ay(this.Ty.x,this.Ty.y);Q.He.uz(Y,x.t.xC,x,z)}if(!A){x.G.XF=[];
for(var F=0;F<o.length;F++)if(F!=4)x.G.XF.push(o[F].x,o[F].y);var R=this.gz();x.G.XF.push(R.x,R.y)}x.o$=!0};
ig.prototype.clear=function(x){x.t.xC=null;x.G.ky=null;x.G.PK=null;x.G.XF=[];x.o$=!0};function dp(x,z){this.qK=null;
this.TZ=-1;this.atg(x)}dp.prototype.f4=function(){return JSON.parse(JSON.stringify(this.qK))};dp.prototype.atg=function(x){this.qK=JSON.parse(JSON.stringify(x))};
dp.prototype.xA=function(x){return!0};dp.prototype.El=function(x,z,A,o){var i=this.ii(x,z,o);if(i==-1)return"default";
return"pointer"};dp.prototype.Xv=function(x,z,A,o,i,L,B){this.TZ=this.ii(o,x.t.X,B);return this.TZ!=-1};
dp.prototype.ii=function(x,z,A){var o=this.akN(),i=-1,L=1e6;for(var F=0;F<o.length;F++){var B=iL.Or(o[F],x);
if(B<L){i=F;L=B}}return L<(A?Q.VS({t:{X:z}},A)*2:20*Q.Z()/z)?i:-1};dp.prototype.Dg=function(x,z,A,o){if(this.TZ==-1)return;
var i=x.t.X,L=this.TZ,B=f.qK.Tq(this.qK);B[L*2]=o.x;B[L*2+1]=o.y;f.qK.r9(B,this.qK)};dp.prototype.V4=function(x,z,A,o){this.TZ=-1;
x.o$=!0};dp.prototype.R0=function(x,z,A){var o=A.u0();if(o.x||o.y){var i=new cb(1,0,0,1,o.x,o.y);f.p.D(this.qX,i,this.qX);
this.KH(x)}};dp.prototype.akN=function(x){var z=f.qK.Tq(this.qK),A=[];for(var F=0;F<z.length;F+=2)A.push(new iL(z[F],z[F+1]));
return A};dp.prototype.KH=function(x){var z=this.akN();x.G.PK={F:[],v:[]};x.G.PK.F.push("M","C","C","C","C");
var A=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var F=0;F<A.length;F++)x.G.PK.v.push(z[A[F]].x,z[A[F]].y);
x.G.PK.F.push("M","L","L","M","L","L","M","L","L","M","L","L");A=[4,0,1,2,3,7,11,15,14,13,12,8];for(var F=0;
F<A.length;F++)x.G.PK.v.push(z[A[F]].x,z[A[F]].y);x.G.XF=[];for(var F=0;F<z.length;F++)x.G.XF.push(z[F].x,z[F].y);
x.o$=!0};dp.prototype.clear=function(x){x.G.PK=null;x.G.XF=[];x.o$=!0};function a7(){this.z3=!1;this.dT=!1;
this.axe=!1;this.auD=!1;this.iT=!1;this.mk=!1;this.wb=0;this.l$=0}a7.prototype.Xv=function(x){this.z3=!0;
this.dT=!1;this.iT=x.A(bJ.xb);this.mk=x.A(bJ.yU);this.wb=this.iT?0:1;this.l$=this.mk?0:1};a7.prototype.R0=function(x){var z=this.auD=x.A(bJ.xb),A=this.axe=x.A(bJ.yU);
if(this.dT){if(this.wb==0&&!z)this.wb++;if(this.wb==1&&z)this.wb++;if(this.l$==0&&!A)this.l$++;if(this.l$==1&&A)this.l$++}};
a7.prototype.Dg=function(){this.dT=!0};a7.prototype.V4=function(){this.z3=!1};a7.prototype.c5=function(F){if(F==0)return this.z3?this.mk:this.axe;
if(F==1)return this.dT?this.l$==2:!1};a7.prototype.Ny=function(F){if(F==0)return this.z3?this.iT:this.auD;
if(F==1)return this.dT?this.wb==2:!1};Q.History=function(){Q.He.call(this,"History",Q.xa);this.dk=!0;
this.ach=0};Q.History.prototype=new Q.He;Q.History.prototype.A1=function(x,z,A,o){A.Gy=!0;if(x.d=="h_itemchange"){if(x.index<A.pF)for(var F=A.pF;
F>x.index;F--)this.Ka(A);if(x.index>A.pF)for(var F=A.pF;F<x.index;F++)this.Jp(A)}if(x.d=="h_stepfwd")this.Jp(A);
if(x.d=="h_stepbck")this.Ka(A);if(x.d=="h_undoredo"){var i=this.dk||this.ach!=A.pF;if(i){this.Ka(A);
i=!1}else{this.Jp(A);i=!0}this.dk=i;this.ach=A.pF}if(x.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
A.history=[new j$([1,0],null)];A.pF=0}else this.dk=!0};Q.History.prototype.Ka=function(x){if(x.pF==0)return;
var z=x.history[x.pF];z.k.a_(z.data,x);x.pF--};Q.History.prototype.Jp=function(x){if(x.pF==x.history.length-1)return;
var z=x.history[x.pF+1];z.k.IR(z.data,x);x.pF++};Q.J3=function(){Q.He.call(this,"Layers",Q.xu);this.i7=null};
Q.J3.prototype=new Q.He;Q.J3.prototype.A1=function(x,z,A,o,i){this.i7=z;var L=x.d,B=x.j!=null?x.j:A.f.length!=0?A.f[0]:A.g.length-1,D=A.g[B];
A.bg=!0;var Z=o.A(bJ.yU),j=o.A(bJ.xb),a=o.A(bJ.RI);if(L==g.EY&&A.O==null&&(A.f.length>1||!A.Qi(!1)))L=g.Xm;
if(L==g.ya){var b=new j$([6,33],this),W=D.Q0()?["pass"].concat(b_.Am):b_.Am,c=W[x.NI],Y=x.j!=null?[x.j]:A.f,R=JSON.stringify(Y),$=[];
for(var F=0;F<Y.length;F++)$.push(A.g[Y[F]].Cz);b.data={d:L,P$:R,op:$,NI:c};A.U7(b);this.IR(b.data,A);
this.track(jd.f3("Md",{t:"enum",v:{BlnM:b_.d$(c)}}))}if(L==g.ce){var b,k=A.nW(),Y=x.j!=null?[x.j]:A.f,R=JSON.stringify(Y);
if(k&&k.data&&k.data.d==L&&k.data.P$==R)b=k;else{var w=jd.f3("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(w);var $=[];for(var F=0;F<Y.length;F++)$.push(A.g[Y[F]].opacity);b=new j$([6,32],this);b.data={d:L,P$:R,op:$,NI:x.NI,n2:w.k7};
A.U7(b)}b.data.NI=x.NI;b.data.n2.T.v.Opct.v.val=Math.round(x.NI*100/255);this.IR(b.data,A)}if(L==g.V$){if(D.add.iOpa==null)D.add.iOpa=255;
var b,k=A.nW();if(k&&k.data&&k.data.d==L&&k.data.j==B)b=k;else{b=new j$("Fill Opacity Change",this);
b.data={d:L,j:B,op:D.add.iOpa,NI:x.NI};A.U7(b)}b.data.NI=x.NI;this.IR(b.data,A)}if(L==g.wF){var V=x.NI,h=x.j!=null?[x.j]:A.f.slice(0),l=[],M=[],b;
for(var q=0;q<h.length;q++){var t=A.g[h[q]];if(t.add.lspf==null)t.add.lspf=0;var $=t.add.lspf,c=$;for(var F=0;
F<V[0].length;F++){var p=V[1][F],E=1<<p;if((c&E)==0&&V[0][F])c^=E;else if((c&E)!=0&&!V[0][F])c^=E}l.push($);
M.push(c)}var k=A.nW(),Y=JSON.stringify(h);if(k&&k.data&&k.data.d==L&&JSON.stringify(k.data.P$)==Y){b=k;
b.data.NI=M}else{var b=new j$([6,57,1],this);b.data={d:L,P$:Y,op:l,NI:M};A.U7(b)}this.IR(b.data,A)}if(L==g._U){var _="----",S=x.SZ,c=null;
for(var F=0;F<dx.hh.wl.length;F++)if(D.add[dx.hh.wl[F]])_=dx.hh.wl[F];var y=D.add[_];if(S=="TySh")c=am.P9(50,50,i.u5);
var b=new j$("Layer Type",this);b.data={d:L,j:B,a5g:[_,y],SZ:[S,c]};A.U7(b);this.IR(b.data,A)}if(L==g.D7){var h=[];
if(Z){var v=A.nW(),r=v?v.data:null;if(v!=null&&v.k==this&&r.d==g.D7&&r.P$.length!=1){var K=new fZ(G.E.r);
K.k=Q.xa;K.data={d:"h_stepbck"};z.c(K);if(r.j==B)return}var s=A.root.RX(B),P=A.al(null,B);while(s.parent!=A.root){P.push(s.parent.index);
s=s.parent}for(var F=0;F<A.g.length;F++){var d=A.g[F],X=d.Gi(),U=P.indexOf(F)!=-1;if(!U&&X)h.push(F);
if(F==B&&!X)h.push(F)}}else if(x.P$)h=x.P$;else{h.push(B);var X=A.g[B].Gi(),w={zR:X?"hide":"show",k7:{classID:X?"Hd":"Shw",null:{t:"VlLs",v:[jd.uU("Lyr",!0)]}}};
this.track(w)}var b=new j$("Layer visibility",this,!0);b.data={d:L,P$:h,j:B};A.U7(b);this.IR(b.data,A)}if(L==g.LD){if(i.YC==Q.Zv){var n=new fZ(G.E.Y);
n.data={d:G.U.hV,k:Q.ah};z.c(n)}var e=x.ann,J=x.IG,u,escape=!1,he=!1;if(x.dV){if(a&&(J==0||J==1||J==2)){var C=0;
if(j)C++;if(Z)C+=2;var H=new fZ(G.E.r,!0);H.k=Q.dz;H.data={d:"fromlayer",s5:[x.j,J,C]};z.c(H);return}}var w={zR:"select",k7:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(A.t.u1.join("")!="111"){A.t.u1=[1,1,1];A.o$=!0}for(var F=0;F<A.g.length;F++){var d=A.g[F],bc=d.add.vmsk;
if(d.Mi()){var jK=d.zg(A);if(jK&&jK.B&&jK.B.ft){jK.B.ft=!1;A.o$=!0}}var N=d.dP();if(N&&N.ft){N.ft=!1;
A.o$=!0}if(bc){if(bc.f.length!=0)bc.f=[];if(bc.OH.length!=0)bc.OH=[]}}if(o.A(bJ.RI)||x.Il==0){var gJ=A.f.indexOf(B);
if(gJ==-1)A.f.push(B);else if(A.f.length>1){if(x.Il!=0)A.f.splice(gJ,1)}A.f.sort(function(b,jc){return b-jc});
w.k7.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};u=B}else if(j&&!Z&&J>0){L=J==1?g.k3:J==2?g.JK:g.$G;
escape=!0}else if((j||x.Il==1)&&A.f.length>0){var kg=Math.min(B,A.f[0]),cJ=Math.max(B,A.f[A.f.length-1]);
A.f=[];for(var F=kg;F<=cJ;F++)if(A.g[F].add.lsct!=hF.ju)A.f.push(F);w.k7.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
u=B}else{u=B;if(B>=A.g.length)return;var d=A.g[B];if(d&&d.Q0()&&x.aaO)d.add.lsct=hF.X7;else if(A.f.length==1&&A.f[0]==B&&J==d.ZD){he=!0}if(!he){A.f=[B];
A.Tr()}}if(!he){if(u!=null&&u<A.g.length){w.k7.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:A.g[u].getName()}}]},this.track(w)}if(!escape){console.log("no escape");
if(A.f.length==1){var it=A.f[0];for(var F=0;F<A.g.length;F++){if(F==it)continue;var t=A.g[F];t.ZD=0;
t.Ro=!1}var D=A.g[it];if(J==2){D.Ro=!D.Ro;A.Dt=[]}else if(D){D.ZD=J<=0?0:J}}else for(var F=0;F<A.g.length;
F++){var t=A.g[F];t.ZD=0;t.Ro=!1}A.Iz=null;A.Gy=!0}}if(x.dV&&Z){if((J==1||J==3)&&e!=null){var H=new fZ(G.E.r,!0);
H.k=Q.WQ;H.data={d:"mskView",h:e!=0?0:j?1:2};z.c(H)}else{this.A1({d:g.aQ,j:x.j},z,A,o,i)}}}if(L==g.k3||L==g.$G){var by=L==g.k3,cz=by?D.dP():D.zg(A).B;
if(cz==null)return;var b=new j$(cz.isEnabled?by?[6,15]:[6,42]:by?[6,14]:[6,41],this);b.data={d:L,j:B};
A.U7(b);this.IR(b.data,A)}if(L==g.JK){var cz=D.add.vmsk;if(cz==null)return;var b=new j$(cz.isEnabled?[6,17]:[6,16],this);
b.data={d:L,j:B};A.U7(b);this.IR(b.data,A)}if(L==g.a80){var fG=D.add.lsct==hF.X7?hF.$Z:hF.X7;if(o.A(bJ.RI)){var ju=A.root.RX(A.g.indexOf(D)).parent;
for(var F=0;F<ju.children.length;F++){var gW=ju.children[F].j;if(gW.Q0())gW.add.lsct=fG}}else D.add.lsct=fG;
A.Gy=!0}if(L==g.aQ){if(!A.LA(B))return;var b=new j$(D.fG?[6,19]:[6,18],this);b.data={d:L,j:B};A.U7(b);
if(x.NI==null||x.NI!=D.fG)this.IR(b.data,A)}if(L==g.a2X){if(D.Qu())D.Fu-=32;else D.Fu+=32;A.Gy=!0}if(L==g.g6||L==g._k){var b;
if(L==g.g6)b=new j$(D.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(L==g._k)b=new j$(D.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
b.data={d:L,j:B};A.U7(b);this.IR(b.data,A)}if(L==g.fx||L==g.kP){var it=x.index,b;if(L==g.fx)b=new j$(D.add.lmfx[gN.OX[it[0]]].v[it[1]].v.enab.v?[6,30]:[6,29],this);
if(L==g.kP)b=new j$(D.add.SoLd.filterFX.v.filterFXList.v[it].v.enab.v?[6,44]:[6,43],this);b.data={d:L,j:B,index:x.index};
A.U7(b);this.IR(b.data,A)}if(L==g.FV){if(x.src==x.Jg)return;var iI=A.g[x.src],ht=A.g[x.Jg],et=iI.add.lmfx?JSON.stringify(iI.add.lmfx):"",be=ht.add.lmfx?JSON.stringify(ht.add.lmfx):"";
if(ht.add.lmfx==null){ht.add.lmfx=JSON.parse(gN.default);for(var F=0;F<gN.order.length;F++)ht.add.lmfx[gN.OX[F]]={t:"VlLs",v:[]}}if(x.Za==null){ht.add.lmfx=JSON.parse(et);
if(!Z)delete iI.add.lmfx}else{var c9=x.Za[0],aJ=gN.OX[c9];if(gN.adU.indexOf(gN.order[c9])==-1)ht.add.lmfx[aJ].v=[];
ht.add.lmfx[aJ].v.push(iI.add.lmfx[aJ].v[x.Za[1]]);if(!Z)iI.add.lmfx[aJ].v.splice(x.Za[1],1)}var b6=iI.add.lmfx?JSON.stringify(iI.add.lmfx):"",ef=ht.add.lmfx?JSON.stringify(ht.add.lmfx):"";
if(!ht.Qu())ht.Fu+=32;var b=new j$("Move Layer Styles",this);b.data={d:L,YZ:x.src,b4:x.Jg,a33:et,ahi:be,aev:b6,a2_:ef};
A.U7(b);this.IR(b.data,A)}if(L==g.q4){if(x.src!=null)B=x.src;var t=A.g[B],jV=JSON.stringify(t.add.SoLd),hu=JSON.parse(jV),eG=hu.filterFX.v.filterFXList.v;
eG.splice(x.Za,1);var b=new j$([6,53],this);b.data={d:g.sZ,ae:[{Zc:B,po:[jV,JSON.stringify(hu)]}]};A.U7(b);
this.IR(b.data,A)}if(L==g.a5D){var k8=Z,iI=A.g[x.src],ht=A.g[x.Jg],eE=[];if(iI!=ht&&ht.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(iI==ht&&!k8&&(x.Za==x.kH||x.Za==-1))return;var jD=iI.zg(A),jV=JSON.stringify(iI.add.SoLd),hu=JSON.parse(jV),eG=hu.filterFX.v.filterFXList.v;
if(iI==ht){eG.splice(x.kH,0,eG[x.Za]);if(!k8)eG.splice(x.Za+(x.Za<x.kH?0:1),1);eE.push({Zc:x.src,po:[jV,JSON.stringify(hu)]})}else if(x.Za==-1){var a_=hu.filterFX;
if(!k8){delete hu.filterFX;eE.push({Zc:x.src,po:[jV,JSON.stringify(hu)],nO:[jD,null]})}var cH=ht.Mi()?ht.zg(A):null,ic=ew.aiw(jD),aj=JSON.stringify(ht.add.SoLd),ay=JSON.parse(aj);
ay.placed.v=ic.id;ay.filterFX=a_;eE.push({Zc:x.Jg,po:[aj,JSON.stringify(ay)],nO:[cH,ic]})}else{var dS=eG[x.Za];
if(!k8){eG.splice(x.Za,1);eE.push({Zc:x.src,po:[jV,JSON.stringify(hu)]})}var aj=JSON.stringify(ht.add.SoLd),ay=JSON.parse(aj);
if(ay.filterFX==null)ay.filterFX=h6.NW();var hC=ay.filterFX.v.filterFXList.v;hC.splice(x.kH,0,dS);var eq={Zc:x.Jg,po:[aj,JSON.stringify(ay)]};
if(!ht.Mi()){var ic=ew.aew(ht.add.SoLd.placed.v);eq.nO=[null,ic]}eE.push(eq)}var b=new j$([6,52],this);
b.data={d:g.sZ,ae:eE};A.U7(b);this.IR(b.data,A)}if(L==g.FD){var cz=D.dP(),b=new j$(cz.GD?[6,26]:[6,25],this);
b.data={d:L,j:B};A.U7(b);this.IR(b.data,A);this.track({zR:"set",k7:{classID:"setd",null:{t:"obj ",v:[jd.uU("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:cz.GD}}}}})}if(L==g.Dq){var cz=D.add.vmsk,b=new j$(cz.GD?[6,28]:[6,27],this);
b.data={d:L,j:B};A.U7(b);this.IR(b.data,A)}if(L==g.wo){var b=new j$("Variables / Datasets",this),ck=JSON.stringify([A.cC,A.Gd]);
if(ck==x.h)return;b.data={d:L,arY:ck,akW:x.h};A.U7(b);this.IR(b.data,A)}if(L==g.Z6){var eL=[],b;for(var F=0;
F<A.f.length;F++){var q=A.f[F],d=A.g[q];if(d.add.vogk)eL.push(q,JSON.stringify(d.add.vogk))}for(var F=0;
F<A.Dt.length;F++){var q=A.Dt[F],d=A.Ds[q];if(d.add.vogk)eL.push(-1-q,JSON.stringify(d.add.vogk))}f.i4.ajn(A,x.h);
var gj=[];for(var F=0;F<A.f.length;F++){var q=A.f[F],d=A.g[q];if(d.add.vogk)gj.push(q,JSON.stringify(d.add.vogk))}for(var F=0;
F<A.Dt.length;F++){var q=A.Dt[F],d=A.Ds[q];if(d.add.vogk)gj.push(-1-q,JSON.stringify(d.add.vogk))}var k=A.nW();
if(k&&k.data&&k.data.d==L){var bv=!0;for(var F=0;F<eL.length;F+=2)if(eL[F]!=k.data.jj[F])bv=!1;if(bv){b=k;
b.data.HN=gj}}if(b==null){var b=new j$([12,91,1],this);b.data={d:L,jj:eL,HN:gj};A.U7(b)}this.IR(b.data,A)}if(L==g.Jn){var dK=JSON.stringify(D.add.artb),cC=JSON.stringify(x.IM),b;
A.g[B].add.artb=JSON.parse(cC);var iv=new av(0,0,A.m,A.n),dJ=Q.lv.Ux(A),k=A.nW();if(k&&k.data&&k.data.d==L&&k.data.j==B){b=k;
b.data.IM=cC}if(b==null){var b=new j$("Editing Artboard",this);b.data={d:L,j:B,auC:dK,IM:cC,rN:iv};A.U7(b)}b.data.BP=dJ;
this.IR(b.data,A)}if(L==g.sR){var gj=A.lX.slice(0),km=A.CE.slice(0),fq=A.O,dV=A.O;if(x.wa=="fromAction"){var im=x.h.zR,hj=x.h.k7;
if(im=="make"||im=="duplicate"){var d8=gj.length,gD=!1,iw=!1;if(A.oF())d8--;var cI=new g.$R;cI.name="Alpha "+(d8+1);
if(im=="make"){var e3=hj.Nw.v;cI.color=255;km=[d8];cI.ft=!0;cI.rS=e3.Opct.v;if(e3.Nm)cI.name=e3.Nm.v;
if(e3.classID=="SCch"){gD=!0;dV=null;cI.VW=1}}else{var c5=hj.null.v[0].v;if(c5.keyID=="fsel")gD=!0;else{var eT=Q.BO.x_(A);
dV=Q.BO.zJ(A,eT);cI.color=0;cI.rect=dV.rect;cI.channel=dV.channel}}if(gD){cI.color=0;if(A.O){cI.rect=A.O.rect.clone();
cI.channel=A.O.channel.slice(0)}if(iw){cI.color=255-cI.color;f.Qs(cI.channel)}}gj.splice(d8,0,cI)}else if(im=="delete"){if(D&&D.dP()&&D.ZD==1){this.A1({d:g.__},z,A,o,i);
return}var P=A.CE;P.sort(function(b,jc){return jc-b});if(P.length==0)return;for(var F=0;F<P.length;F++)gj.splice(P[F],1);
km=[]}else if(im=="hide"){gj[km[0]]=gj[km[0]].clone();gj[km[0]].ft=!1}}if(x.wa=="rnm"){gj[x.dD]=gj[x.dD].clone();
gj[x.dD].name=x.name}var b=new j$("Channel Edit",this);b.data={d:L,jj:A.lX.slice(0),sb:A.CE.slice(0),HN:gj,sW:km,rl:fq,Bp:dV};
this.IR(b.data,A);A.U7(b)}if(L==g.WF){var iO=new av(0,0,A.m,A.n),b=new j$(x._4,this);b.data={d:g.WF,Ms:A.g.slice(0),xd:x.xd,Q7:A.f.slice(0),bJ:x.Bp};
A.U7(b);this.IR(b.data,A);var hW=Q.lv.b0(A);if(hW){b.data.rN=iO;b.data.BP=hW}}if(L==g.vn){var j5=A.al(null,x.j),gk=1e10;
if(j5.length==0)return;if(A.g.length==j5.length){alert("Project must have at least 1 layer");return}var aL=[];
for(var F=0;F<A.g.length;F++)if(j5.indexOf(F)==-1)aL.push(A.g[F]);for(var F=0;F<j5.length;F++)gk=Math.min(gk,j5[F]);
gk=Math.max(gk-1,0);while(aL[gk].name=="</Layer group>")gk++;this.track({zR:"delete",k7:{classID:"Dlt",null:jd.uU("Lyr",!0)}});
var iv=new av(0,0,A.m,A.n),b=new j$([6,31],this);b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:[gk]};
A.U7(b);this.IR(b.data,A);var dJ=Q.lv.Ux(A);if(dJ){b.data.BP=dJ;b.data.rN=iv;Q.lv.b0(A)}}if(L==g.Ke){if(!o.A(bJ.xb))return;
var b=new j$("Switch Layer Link",this);b.data={d:L,j:x.j};A.U7(b);this.IR(b.data,A)}if(L==g.pI){var P=x.a9t?x.a9t:A.f,eA=0,ix=!1;
if(P.length==0)return;if(P.length==1&&A.g[P[0]].en==0){alert(kc.get([15,7,5]));return}var gF=[];for(var F=0;
F<A.g.length;F++){var bB=A.g[F].en;gF.push(bB);eA=Math.max(eA,bB)}var ab=-1,ez=-1;for(var F=0;F<P.length;
F++){var bB=A.g[P[F]].en;if(bB==0)ix=!0;else if(ab==-1||ab==bB)ab=bB;else ez=bB}if(!ix)for(var F=0;F<P.length;
F++)A.g[P[F]].en=0;else if(ab!=-1&&ez==-1)for(var F=0;F<P.length;F++)A.g[P[F]].en=ab;else for(var F=0;
F<P.length;F++)A.g[P[F]].en=eA+1;var cM=[];for(var F=0;F<A.g.length;F++){var bB=A.g[F].en;if(cM[bB]==null)cM[bB]=0;
cM[bB]++}for(var F=0;F<A.g.length;F++){var bB=A.g[F].en;if(cM[bB]==1)A.g[F].en=0}var ib=gF;gF=[];for(var F=0;
F<A.g.length;F++){var bB=A.g[F].en;gF.push(bB);eA=Math.max(eA,bB)}var b=new j$(ix?[6,54,0]:[6,54,1],this);
b.data={d:g.pI,a0s:ib,auk:gF};A.U7(b);this.IR(b.data,A)}if(L==g.Xm&&(x.j!=null||A.f.length!=0)||L==g.uh){var hU=A.mW(L==g.Xm?x.j:B,null,x.aaR),hi;
if(L==g.uh){var t=hU[0],im=t.add.SoLd.Idnt.v,go=A.E3(im).clone();t.add.SoLd.Idnt.v=go.mZ=ew.Fs()+im.slice(8);
A.add.lnk2.push(go)}if(L==g.Xm){var bg={zR:"duplicate",k7:{classID:"null",null:jd.uU("Lyr",!0)}};if(x.iB){hU[0].rk(x.iB);
bg.Nm={t:"TEXT",v:x.iB}}this.track(bg);x.ahh=x.j}L=g.e0;x.g=hU;x.P0=A;x.qT=A}if(L==g.e0){var hB,d5,fb=x.P0,js=x.qT,iN=0,gc=0,k6=!1,fk,aA=0,cX=0;
if(fb!=js){console.log("ADDLAYERS different projs");var hB=new av(0,0,fb.m,fb.n),d5=new av(0,0,js.m,js.n),hJ=[],cx=[];
for(var F=0;F<x.g.length;F++){var t=x.g[F];if(t.add.SoLd==null)continue;var im=t.add.SoLd.Idnt.v;if(hJ.indexOf(im)==-1){hJ.push(im);
cx.push(ew.Fs()+im.slice(8))}t.add.SoLd.Idnt.v=cx[hJ.indexOf(im)];var jD=t.zg(fb);if(jD){fb.l8(jD);js.o2(jD)}}if(hJ.length>0){if(js.add.lnk2==null)js.add.lnk2=[];
for(var F=0;F<hJ.length;F++){var i7=fb.E3(hJ[F]),go=i7.clone();go.mZ=cx[F];js.add.lnk2.push(go)}}}var fq=js.f.slice(0);
fq.sort(function(b,jc){return b-jc});var aL=js.g.slice(0),dV=[],bw=-1;for(var F=0;F<fq.length;F++)bw=Math.max(bw,fq[F]);
if(x.ahh!=null)bw=x.ahh;var cO=fb.oT();if(x.Bq){bw=x.Bq-1;var cE=js.g[x.Bq].nU();iN+=cE.x;gc+=cE.y}if(cO!=-1&&(fb!=js||x.Bq)){var b5=fb.g[cO].nU();
iN-=b5.x;gc-=b5.y}var e4=js.OG();bw++;for(var F=0;F<x.g.length;F++){var d=x.g[F],cD=d.add.artb;aL.splice(bw,0,d);
dV.push(bw);bw++;if(cD){fk=!0;var eM=cD.guideIndeces;if(eM){eM=eM.v;console.log(eM);for(var fy=0;fy<eM.length;
fy++){e4[0].push(fb.sf[eM[fy].v].slice(0));e4[1].push(aL.indexOf(d));k6=!0}}}}for(var F=0;F<x.g.length;
F++){var d=x.g[F];if(d.add.lsct==hF.ju){if(aA==0)cX++;aA++}else if(d.Q0())aA--}if(cX==1)dV=[bw-1];var b=new j$([6,0],this);
b.data={d:g.WF,Ms:js.g.slice(0),xd:aL,Q7:fq,bJ:dV};if(k6){b.data.iJ=[js.OG(),e4]}js.U7(b);this.IR(b.data,js);
if(iN!=0||gc!=0)Q.R7.cL(js,js.al(),null,iN,gc);if(fk){b.data.rN=new av(0,0,js.m,js.n);b.data.BP=Q.lv.Ux(js);
Q.lv.b0(js)}}if(L==g.acZ){var bo=x.j!=null?[x.j]:A.al(),aL=A.g.slice(0);for(var F=0;F<bo.length;F++){var d=A.g[bo[F]].clone();
d.xt(A);aL.splice(bo[F],1,d)}var b=new j$([6,8],this);b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:A.f.slice(0)};
A.U7(b);this.IR(b.data,A)}if(L==g.a6v){var aL=A.g.slice(0),d=aL[A.f[0]]=aL[A.f[0]].clone(),jH=d.add.lmfx,fl,cE;
delete d.add.lmfx;var gx=A.f[0],aE=gx+1;if(d.Q0()){var ip=A.g[A.f[0]].AT;cE=ip.alx;fl=ip.wh;var s=A.root.RX(gx);
gx=s.fb}else{cE=d.rect;fl=f.C(cE.$());f.XN(d.buffer,fl,3)}var jU=ct.cE(jH,d.add.fxrp,fl,cE,A,cE).type;
for(var F=0;F<gN.order.length;F++){var b2=gN.order[F],h3=jU[b2];h3.reverse();for(var fy=0;fy<h3.length;
fy++){var bm=h3[fy],Y=A.Ad(),j4=F>7;if(b2=="ebbl"){if(bm.yb||bm.r7){var bO=bm.yb?bm.yb:bm.r7;if(bm.yb)delete bm.yb;
else delete bm.r7;if(bm.r7||bm.gT)fy--}else if(bm.gT||bm.QP){var bO=bm.QP?bm.QP:bm.gT;if(bm.QP){delete bm.QP;
if(bm.gT)fy--}j4=!0}bm=bO}Y.Cz=bm.ul;Y.opacity=Math.round(255*bm.fA);Y.buffer=bm.ov;Y.rect=bm.FG.clone();
Y.rect.offset(cE.x,cE.y);if(b2=="FrFX"){Y.buffer=Y.buffer.slice(0);f.c8(bm.VD?bm.VD:bm.bI,Y.buffer,3);
if(bm.VD){j4=!0;delete bm.VD;if(bm.bI)fy--}}Y.fG=!j4;Y.rk(d.getName()+"'s "+kc.get(gN.names[F]));aL.splice(j4?gx:aE,0,Y);
if(j4)aE++}}var b=new j$("Styles to Layers",this);b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:[aE-1]};
A.U7(b);this.IR(b.data,A)}if(L==g.JW){var bo=A.al(),aL=A.g.slice(0),dN=new av(0,0,A.m,A.n);for(var F=0;
F<bo.length;F++){var gR=A.g[bo[F]],ac=gR.Gi();gR.uO(!0);var iU=A.root.RX(bo[F]);if(gR.Q0())continue;
if(iU==null)continue;var d=gR.clone();d.xt(A);var iG=iU.mc(A,!0),f_=A.g;A.Wi([gR]);A.i();A.or();d.buffer=f.C(iG.$()*4);
f.mV(A.MK(),dN,d.buffer,iG);d.rect=iG;d.opacity=255;d.add.iOpa=255;d.Cz="norm";d.i();d.AT.KM=!0;A.Wi(f_);
if(d.add.lmfx)delete d.add.lmfx;d.B=d.w0=null;aL.splice(bo[F],1,d);d.uO(ac);gR.uO(ac)}var b=new j$([6,34],this);
b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:A.f.slice(0)};A.U7(b);this.IR(b.data,A)}if(L==g.awj){var bo=A.al(),aL=A.g.slice(0);
for(var F=0;F<bo.length;F++){var d=A.g[bo[F]],aF=d.add.TySh;if(aF==null)continue;var t=new ah(aF.gP,i.P2),fO=f.p.J_(g3.O2(t,aF));
for(var iC in fO){var c$=fO[iC],gW=d.clone();delete gW.add.TySh;gW.Fu=gW.Fu|1<<4;gW.add.SoCo=JSON.parse(JSON.stringify(gN.Xl[0]));
var an=gW.add.SoCo.Clr.v;an.Rd.v=parseInt(iC.slice(1,3),16);an.Grn.v=parseInt(iC.slice(3,5),16);an.Bl.v=parseInt(iC.slice(5,7),16);
var c6=new g.tZ;c6._=f.p.fq(c$,!1);if(gW.add.vmsk!=null){gW.add.vmsk.ajx();c6.concat(gW.add.vmsk)}gW.add.vmsk=c6;
gW.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));gW.Az();gW.cm(A);aL.splice(aL.indexOf(d),0,gW)}aL.splice(aL.indexOf(d),1)}var dV=A.f.slice(0);
for(var F=dV.length-1;F>=0;F--)if(dV[F]>=aL.length)dV.splice(F,1);var b=new j$([6,40],this);b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:dV};
A.U7(b);this.IR(b.data,A)}if(L==g.a7V){var iA=A.f.length;if(iA<2){alert("Select two or more layers.");
return}if(!A.L0())return;var gW=A.g[A.f[0]].clone(),aL=[];for(var F=0;F<A.g.length;F++)if(A.f.indexOf(F)==-1)aL.push(A.g[F]);
aL.splice(A.f[0],0,gW);for(var F=1;F<iA;F++)if(A.g[A.f[F]].rect.$()>2e6){alert("Blended areas are too large.");
return}for(var F=1;F<iA;F++){var d=A.g[A.f[F]],hL=d.rect.clone();hL.nw(1,1);var jc=f.C(hL.$()*4);f.mV(d.buffer,d.rect,jc,hL);
gW.extend(hL);var cG=f.C(hL.$()*4);f.mV(gW.buffer,gW.rect,cG,hL);var b=f.C(hL.$());f.XN(jc,b,3);f.round(b,200);
f.c8(b,jc,3);f.q.lx("norm",jc,hL,cG,hL,hL,1);f.t7.lQ(cG,b,hL);f.mV(cG,hL,gW.buffer,gW.rect)}var b=new j$([2,10,0],this);
b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:[A.f[0]]};A.U7(b);this.IR(b.data,A)}if(L==g.Hb){var aL=A.g.slice(0),km=A.f.slice(0);
for(var F=0;F<aL.length;F++){var d=aL[F],bc=d.add.vmsk;if(d.d8()&&bc&&d.add.vstk.strokeEnabled.v&&!d.add.vstk.fillEnabled.v){var jS=bc._,ca=0,at=-1;
for(var fy=0;fy<jS.length;fy++){if((jS[fy].type==0||jS[fy].type==3)&&jS[fy].qh!=-1){ca++;if(jS[fy].type==3&&at==-1){jS[fy].zB=jS[fy].qh=1;
at=fy}}}console.log(d.getName(),ca);if(ca>1&&at!=-1&&ca<10){console.log("separating an open path into a new layer");
d=d.clone();bc=d.add.vmsk;jS=bc._;var Y=jS[at].length,a8=d.clone();a8.add.lyid=A.Q3();bc._=jS.slice(0,2).concat(jS.slice(at,at+Y+1));
bc.f=[];d.cm(A);d.i();var az=a8.add.vmsk._;a8.add.vmsk._=az.slice(0,at).concat(az.slice(at+Y+1,az.length));
a8.add.vmsk.f=[];a8.cm(A);aL[F]=d;aL.splice(F+1,0,a8);for(var fy=0;fy<km.length;fy++)if(km[fy]>F)km[fy]++;
var aC=km.indexOf(F);if(aC!=-1){km.splice(aC+1,0,F+1)}}}}if(aL.length!=A.g.length){var b=new j$("Splitting open paths",this);
b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:km};A.U7(b);this.IR(b.data,A)}}if(L==g.$o){this.A1({d:g.Hb},z,A,o,i);
var fq=A.f.slice(0),f_=A.g.slice(0),bo=A.al();if(bo.length==0)return;A.an1(bo,!1,x.a5);var b=new j$([6,36,0],this);
b.data={d:g.WF,Ms:f_,xd:A.g.slice(),Q7:fq,bJ:A.f.slice(0)};A.U7(b);this.IR(b.data,A)}if(L==g.ajb){var jV=D.add.SoLd;
if(jV==null)return;var im=jV.Idnt.v,jW=A.E3(im);jW.MK(!1);var jR=jW.da[0],hL=jW.da[1];if(f.Tp(jR)){alert("The smart object contains transparency.");
return}var ao=iF.Lg("jpg").ys([[jR.buffer]],hL.m,hL.n,[90]);this.A1({d:g.GS,m5:A,data:new Uint8Array(ao),id:im,a5:"jpg"},z,A,o,i);
console.log(A.add);return}if(L==g.GS){var i7=x.m5.E3(x.id),go=i7.clone();go.raw=x.data;if(x.W7)go.W7=x.W7;
if(x.a5){go.T9="    ";go.ks="    ";go.W7=go.W7+"."+x.a5}else{go.T9="8BIM";go.ks="8BPB";go.W7=go.W7+(go.W7.endsWith(".psd")?"":".psd")}go.MK(!1);
i7.MK(!1);var b=new j$([6,36,1],this);b.data={d:g.GS,id:x.id,oU:i7,YF:go};x.m5.U7(b);this.IR(b.data,x.m5)}if(L==g.Yj){var b=new j$([6,36,4],this);
b.data={d:L,j:B,IO:D.add.SoLd.Impr.v.classID,NI:x.NI};A.U7(b);this.IR(b.data,A)}if(L==g.aeO){var cF,gs;
if(x.CR){cF=x.m5;gs=x.CR}else{x.m5.GK();x.m5.kW();x.m5.i();x.m5.or();x.m5.MK();cF=iF.Lg("PSD").ys(x.m5,0,0,[!0,!0]);
gs=x.m5.name}if(!(cF instanceof ArrayBuffer))throw"e";cF=new Uint8Array(cF);var gJ=x.IP;if(gJ==null){if(A.f.length==0)gJ=A.f.length;
else{var hs=A.f[A.f.length-1],Y=A.g[hs];gJ=Y.Q0()?hs:hs+1}}var aI=new av(0,0,A.m,A.n),cr=A.oT();if(cr!=-1)aI=A.g[cr].nU();
var g2=A.za(cF,gs,0,0,aI,i.P2,z),aL=A.g.slice(0);aL.splice(gJ,0,g2);var b=new j$([6,36,2],this);b.data={d:g.WF,Ms:A.g.slice(),xd:aL,Q7:A.f.slice(0),bJ:[aL.indexOf(g2)]};
A.U7(b);this.IR(b.data,A)}if(L==g.wZ&&x.wa=="merge"){var j0=[],ie=A.root.children,c7=0;for(var F=0;F<ie.length;
F++){var s=ie[F],d=s.j,ia=s.children,ek=!0;if(!d.Q0()||ia.length==0)continue;for(var fy=0;fy<ia.length;
fy++)if(!ia[fy].j.getName().startsWith("_a_")){ek=!1;break}if(ek)j0.push(A.g.indexOf(d))}var ha=[];for(var F=0;
F<j0.length;F++)if(A.f.indexOf(j0[F])!=-1)ha.push(j0[F]);if(ha.length>=2)j0=ha;if(j0.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var hA=[];for(var F=0;F<j0.length;F++)hA.push(A.g[j0[F]].getName());var h3=[];for(var c1=0;c1<j0.length;
c1++){var s=A.root.RX(j0[c1]),eq=[[],[],0,c1];h3.push(eq);for(var F=0;F<s.children.length;F++){var q=s.children[F].index,d=s.children[F].j,cI=d.getName(),bD=20,jP=cI.split(",");
if(jP.length>1){var cf=parseInt(jP.pop());if(!isNaN(cf)&&cf!=0)bD=cf}eq[0].push(d);eq[1].push(bD);eq[2]+=bD}}h3.sort(function(b,jc){return jc[2]-b[2]});
var jp=h3[0],ep=jp[2];for(var eV=1;eV<h3.length;eV++){var eq=h3[eV],b1=1,bY=eq[1].slice(0),gd=0;while((b1+1)*eq[2]<=jp[2]){b1++;
bY=bY.concat(eq[1])}eq[1]=bY;eq[2]*=b1;var bX=jp[2]/eq[2];for(var F=0;F<eq[1].length;F++){var dQ=Math.floor(eq[1][F]*bX);
eq[1][F]=dQ;gd+=dQ}while(gd<ep){gd++;eq[1][eq[1].length-1]++}eq[2]=gd}var dn=[],ey=[],dQ=[];for(var F=0;
F<h3.length;F++){dn.push(0);ey.push(0)}while(c7<ep){var jB=1e9,d8=-1;for(var F=0;F<h3.length;F++){var eZ=h3[F][1],gx=dn[F];
if(gx!=eZ.length&&ey[F]+eZ[gx]<c7+jB){d8=F;jB=ey[F]+eZ[gx]-c7}}ey[d8]+=h3[d8][1][dn[d8]];dn[d8]++;if(jB!=0){dQ.push(jB);
c7+=jB}}for(var F=1;F<dQ.length;F++){var eS=dQ[F];if(eS<16&&(dQ[F-1]<16||F<dQ.length-1&&16<=dQ[F+1])){dQ[F-1]+=eS;
dQ.splice(F,1);F--}}var ac=[],dN=new av(0,0,A.m,A.n);for(var F=0;F<A.g.length;F++){ac[F]=A.g[F].Gi();
A.g[F].uO(!1)}var bk=A.f.slice(0);A.f=j0;var j5=A.al();j5.sort(function(b,jc){return b-jc});var aL=[];
for(var F=0;F<A.g.length;F++){if(j5.indexOf(F)==-1)aL.push(A.g[F])}h3.sort(function(b,jc){return b[3]-jc[3]});
function g7(eZ,c8){var F=0,g0=0;while(g0+eZ[F]<=c8){g0+=eZ[F];F++}return F}c7=0;aL.splice(j5[0],0,A.Qy());
for(var jI=0;jI<dQ.length;jI++){var h=[];for(var F=0;F<h3.length;F++){var gx=g7(h3[F][1],c7)%h3[F][0].length,d=h3[F][0][gx];
h.push(d)}var d=A.Ad();for(var F=0;F<h3.length;F++){var dI=h[F],ju=A.g[j0[F]];dI.uO(!0);ju.uO(!0)}A.i();
A.or();var jR=A.MK();d.rect=f.N1(jR,dN,2);d.buffer=f.C(d.rect.$()*4);f.mV(jR,dN,d.buffer,d.rect);for(var F=0;
F<h3.length;F++){var dI=h[F],ju=A.g[j0[F]];dI.uO(!1);ju.uO(!1)}d.uO(jI==0);d.rk("_a_frm"+jI+","+dQ[jI]);
aL.splice(j5[0]+1+jI,0,d);c7+=dQ[jI]}var d=A.Ad();d.rk(hA.join(" + "));d.Cz="pass";d.add.lsct=hF.$Z;
d.Fu=24;aL.splice(j5[0]+1+dQ.length,0,d);for(var F=0;F<A.g.length;F++)A.g[F].uO(ac[F]);var b=new j$([6,12,0],this);
b.data={d:g.WF,Ms:A.g,xd:aL,Q7:bk,bJ:[j5[0]+1+dQ.length]};A.U7(b);this.IR(b.data,A)}if(L==g.wQ||L==g.gD){var jt=A.f.length==1,es=!0,g2,dV;
if(jt&&A.f[0]==0)return;var f_=A.g.slice(0),fq=A.f.slice(0);if(jt)A.f=[B,B-1];if(L==g.gD){A.f=[];for(var F=0;
F<A.g.length;F++)if(A.g[F].Gi())A.f.push(F)}var bo=A.al();bo.sort(function(b,jc){return b-jc});var io=new av,dN=new av(0,0,A.m,A.n);
for(var F=0;F<bo.length;F++){var q=bo[F],d=A.g[q];es=es&&d.d8()&&d.add.vmsk!=null;io=io.QM(A.root.RX(q).mc(A,!0))}if(es){g2=A.g[bo[0]].clone();
var bc=g2.add.vmsk;for(var F=1;F<bo.length;F++){var Y=A.g[bo[F]],az=g.tZ.cj(Y.add.vmsk._);bc._=bc._.concat(az.slice(2));
g2.add.vogk=g2.add.vogk.concat(JSON.parse(JSON.stringify(Y.add.vogk)))}g2.add.vmsk.h9=!0;g2.cm(A)}else if(dN.V2(io)){g2=A.Ad();
g2.rk(A.g[bo[bo.length-1]].getName());g2.rect=io;g2.buffer=f.C(io.$()*4);var fV=A.add.artd;delete A.add.artd;
var jx=A.MK(bo);if(fV)A.add.artd=fV;f.mV(jx,dN,g2.buffer,io);g2.wr();g2.i()}else{A.an1(bo,!0);g2=A.g[A.f[0]];
A.g.splice(A.f[0],1);var iR=A.E3(g2.add.SoLd.Idnt.v);A.add.lnk2.splice(A.add.lnk2.indexOf(iR),1);delete g2.add.SoLd}var j_=Z,eQ=-1;
if(x.k7&&x.k7.Dplc&&x.k7.Dplc.v)j_=!0;if(j_&&L==g.gD&&A.g[fq[0]].RC()&&A.g[fq[0]].rect.WT()){eQ=fq[0]}if(eQ!=-1||jt){var cS=A.g[eQ!=-1?eQ:B-1];
g2.rk(cS.getName());g2.add.lclr=cS.add.lclr}var aL=[];for(var F=0;F<A.g.length;F++)if(j_||bo.indexOf(F)==-1)if(F!=eQ)aL.push(A.g[F]);
var as=bo[bo.length-1],jE=as==A.g.length-1?null:A.g[as+1],fE=jE?aL.indexOf(jE):aL.length;aL.splice(fE,0,g2);
dV=[fE];var b=new j$([6,12,0],this);b.data={d:g.WF,Ms:f_,xd:aL,Q7:fq,bJ:dV};A.U7(b);this.IR(b.data,A)}if(L==g.aoc){var gW=A.Ad();
gW.rect=new av(0,0,A.m,A.n);gW.buffer=f.C(gW.rect.$()*4);f.OD(gW.buffer,4294967295);f.q.lx("norm",A.MK(),gW.rect,gW.buffer,gW.rect,gW.rect,1);
gW.rk("Background");gW.add.lspf=1<<2;var b=new j$([6,12,1],this);b.data={d:g.WF,Ms:A.g.slice(),xd:[gW],Q7:A.f.slice(0),bJ:[0]};
A.U7(b);this.IR(b.data,A)}var gG=L==g.EY||L==g.FW;if(L==g.Eq||L==g.fR||L==g.$a||L==g.Cd||gG){var d=gG?A.mW()[0]:A.Ad(),h4=kc.get([0,3]),ho=x.iB,jb=!1,g9,ba;
if(L==g.$a)h4=kc.get([12,76,1]);if(gG){if(A.O){var gR=A.g[A.f[0]],iV=gR.IZ(A,A.O);if(iV==null){alert("Copied area is empty");
return}d.rect=iV.rect;d.buffer=iV.Mw;d.xt(A);d.uO(!0)}else ho=d.getName();d.add.lspf=0;d.fG=!1;if((d.Fu&1)!=0)d.Fu--}if(L==g.Cd){d.rect=Q.J3.a30(x.jw,A);
d.buffer=x.jw.buffer.slice(0);if(x.MD&&A.O){d.B=new g.$R;d.B.rect=A.O.rect;d.B.color=0;d.B.channel=A.O.channel.slice(0)}}if(L==g.Eq){this.track({zR:"make",k7:{classID:"Mk",null:jd.uU("Lyr")}})}if(L==g.fR){d.Fu|=16;
var jo=x.k7.Usng.v,cy=jo.Type.v,jA=ei.gO[cy.classID];h4=kc.get(ei.names[jA]);if(jo.Nm)ho=jo.Nm.v;d.add[jA]=h6.d6(jA);
if(d.add[jA]==null)d.add[jA]={};for(var h5 in cy)d.add[jA][h5]=JSON.parse(JSON.stringify(cy[h5]));d.B=Q.J3.a8R(A);
d.ZD=1}if(L==g.$a){d.Fu|=16;var hj=x.k7,jo=hj.Usng.v,b3=jo.Type.v,h0=jo.Shp;if(jo.Nm)ho=jo.Nm.v;if(h0==null){var jh=A.Dd(),fO=jh[0],du=jh[1];
if(du.length!=0&&fO[du[0]].dD<0){var fi=fO[du[0]].add;d.add.vmsk=fi.vmsk.clone();d.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));
d.add.vogk=JSON.parse(JSON.stringify(fi.vogk));A.Dt=[]}else d.B=Q.J3.a8R(A)}else{console.log(jo);d.add.vmsk=new g.tZ;
d.add.vstk=JSON.parse(JSON.stringify(jo.strokeStyle?jo.strokeStyle.v:gN.J9.default));d.add.vogk=[];if(h0){var e2=f.i4.tY(h0);
if(e2){d.add.vogk=[e2];d.add.vmsk._.push({type:0,qh:1,length:0});f.i4.nX(d.add.vogk,d.add.vmsk)}else{h0=h0.v;
var el=h0.classID;if(el=="Plgn"){var dY=h0.Cntr.v,b5=h0.corner.v;dY=new iL(dY.Hrzn.v.val,dY.Vrtc.v.val);
b5=new iL(b5.Hrzn.v.val,b5.Vrtc.v.val);d.add.vmsk._=f.J.Ja.LB(dY.x,dY.y,Math.sqrt(b5.x*b5.x+b5.y*b5.y),Math.atan2(b5.y,b5.x),h0.sides.v,0)}else if(el=="customShape"){var aX=f.i4.xm(h0),k5=aX[2]-aX[0],f6=aX[3]-aX[1],d4=i.WZ,dC,fP;
for(var F=0;F<d4.length;F++)if(d4[F].$U==h0.Nm.v)dC=d4[F];if(dC){fP=g.tZ.cj(dC._);f.J.ox(fP,new cb(k5,0,0,f6,aX[0],aX[1]))}else fP=f.J.Ja.Rect(aX[0],aX[1],k5,f6,0);
d.add.vmsk._=fP}d.Az()}}}var fd={solidColorLayer:0,gradientLayer:1,patternLayer:2}[b3.classID],ii=["SoCo","GdFl","PtFl"][fd];
d.add[ii]=JSON.parse(JSON.stringify(gN.Xl[fd]));Q.J3.WY(b3,d.add[ii],fd);if(h0==null)h4=kc.get([6,48,0,fd]);
if(ii=="PtFl"){var cd=d.add[ii].Ptrn.v,jP=ct.wj(cd,i.UB);if(jP==null)jP=ct.wj(cd,A.add.Patt);cd.Idnt.v=jP.id;
A.si(jP)}d.cm(A)}var iA=Q.J3.Sk(A,h4+" ");d.rk(h4+" "+(iA+1));if(ho)d.rk(ho);var bT=A.f.length==0?A.g.length-1:A.f[A.f.length-1],kj=A.g[bT];
if(L==g.$a&&kj.RC()&&kj.rect.WT()){jb=!0;d.rk(kj.getName());g9=bT}else{g9=bT+(L==g.Eq&&a&&!j?0:1);if(kj&&kj.add.lsct==hF.X7)g9--}if(x.aaN)g9=Math.max(0,g9-1);
var aL=A.g.slice(0);if(L==g.FW){var bq=aL[A.f[0]]=aL[A.f[0]].clone(),j1=A.O.channel.slice(0);f.Qs(j1);
f.A5(j1,A.O.rect,bq.buffer,bq.rect)}aL.splice(g9,jb?1:0,d);var b8=[5,2];if(L==g.Eq)b8=[6,13];if(L==g.fR)b8=[6,1];
if(L==g.$a){b8=[6,48,1];var h0=x.k7.Usng.v.Shp;if(h0){var g5={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[h0.v.classID];
if(g5)b8=g5}}if(gG){b8=[6,49,L==g.EY?0:1]}if(gG||L==g.$a||L==g.Cd||L==g.fR)if(A.O)ba=[A.O,null];var b=new j$(b8,this);
b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:[g9],aZ:ba};A.U7(b);this.IR(b.data,A);if(L==g.$a&&h0==null&&fd!=0||L==g.fR){var n=new fZ(G.E.Y);
n.data={d:G.U.NQ,ca:c4.SU.UO};z.c(n)}}if(L==g.XA){var d=A.Ad(),h4=kc.get([0,4]),iA=Q.J3.Sk(A,h4+" ");
d.rk(h4+" "+(iA+1));d.Cz="pass";d.add.lsct=hF.X7;d.Fu=24;if(x.iB)d.rk(x.iB);if(x.xh!=null)d.add.lclr=x.xh;
var jy=A.Qy(),bT=B,g9=bT+(a?0:1),aL=A.g.slice(0);aL.splice(g9,0,jy,d);var b=new j$([6,20],this);b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:[g9+1]};
A.U7(b);this.IR(b.data,A)}if(L==g.f_||L==g.k_){var d3=L==g.f_?x.source:A.f[0],fN,cV,bp=A.f.indexOf(d3)!=-1,gY=Z|x.a6C,f8,jB=null;
if(bp)f8=A.al();else f8=A.cz(d3);f8.sort(function(b,jc){return b-jc});if(L==g.f_){fN=x.target;cV=x.Oy>.5}else if(x.target!=null){fN=Math.min(x.target,A.g.length-1);
cV=x.target<A.g.length;A.We=!0}else{var fn=x.wa;cV=fn>1;if(fn==0){fN=A.g.length-1}if(fn==1){fN=f8[f8.length-1]+1;
var Y=A.cz(fN);if(Y.indexOf(d3)==-1)fN+=Y.length-1}if(fn==2){fN=f8[0]-1;var Y=A.cz(fN);if(Y.indexOf(d3)==-1)fN-=Y.length-1}if(fn==3){fN=0;
if(A.g[0].add.lnsr=="bgnd")fN++}if(fN<0||fN>A.g.length-1)return;A.We=!0}if(f8.indexOf(fN)!=-1&&!gY)return;
var iB=Q.J3.E2(A,f8,fN,cV,gY?A.mW(bp?null:d3):null,L==g.f_&&x.Oy>.8),jO=iB.pop(),km=iB.pop(),aL=iB.pop(),jf=A.f;
A.f=[d3];var cO=A.oT();A.f=[fN];var dD=A.oT();if(dD==fN&&!cV)dD=-1;A.f=jf;if(d3==cO){}else if(cO!=dD){var jB=new iL(0,0);
if(cO!=-1){var hL=A.g[cO].nU();jB.x-=hL.x;jB.y-=hL.y}if(dD!=-1){var hL=A.g[dD].nU();jB.x+=hL.x;jB.y+=hL.y}}var b=new j$(gY?[6,0]:[6,35],this);
b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:km,x2:jB};A.U7(b);this.IR(b.data,A);var hj={classID:"move",null:jd.uU("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jO+(cV?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:gY}};
this.track({zR:"move",k7:hj})}if(L==g.hi){if(x.cD){if(D==null||!D.Q0())return;var s=A.root.RX(B),i$=A.g.indexOf(s.afr),aL=A.g.slice(0);
aL.splice(B,1);aL.splice(i$,1);var km=[];for(var F=i$;F<B-1;F++)km.push(F);var b=new j$("Ungroup Layers",this);
b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:km};A.U7(b);this.IR(b.data,A)}else{var d=A.Ad(),a9=kc.get([0,4])+" ";
d.rk(a9+(Q.J3.Sk(A,a9)+1));d.Cz="pass";if(x.iB)d.rk(x.iB);if(x.xh!=null)d.add.lclr=x.xh;d.add.lsct=A.f.length==1?hF.X7:hF.$Z;
d.Fu=24;var jy=A.Qy(),f8=A.al();if(f8.length==0)return;f8.sort(function(b,jc){return b-jc});var aL=[];
for(var F=0;F<A.g.length;F++)if(f8.indexOf(F)==-1)aL.push(A.g[F]);var bT=A.f[A.f.length-1]-f8.length;
aL.splice(bT+1,0,jy);for(var F=0;F<f8.length;F++)aL.splice(bT+2+F,0,A.g[f8[F]]);aL.splice(bT+2+f8.length,0,d);
var b=new j$([6,9],this);b.data={d:g.WF,Ms:A.g.slice(0),xd:aL,Q7:A.f.slice(0),bJ:[aL.indexOf(d)]};A.U7(b);
this.IR(b.data,A);var w={zR:"make",_g:!0};w.k7={classID:"Mk",null:jd.uU("layerSection"),From:jd.uU("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:d.getName()}}}};
this.track(w)}}if(L==g.abo){if(A.f.length!=1)return;var gJ=A.f[0],em=Z;if(A.g[gJ].dP()==null&&!o.A(bJ.RI)){L=g.lE;
x.Ym=A.O?!em?"RvlS":"HdSl":!em?"RvlA":"HdAl"}else{L=g.Zy;x.a1V=!0}}if(L==g.lE){if(A.f.length!=1)return;
var gJ=A.f[0],d=A.g[gJ];if(d.add.vmsk&&d.B==null)d.cm(A);var jz=d.dP();if(jz==null||x.alV){var b=new j$([6,21],this),eo=new g.$R,aY=x.Ym,hI=aY=="RvlS"||aY=="HdSl";
if(aY=="RvlS"||aY=="HdAl"||aY=="Trns")eo.color=0;if(hI){eo.channel=A.O.channel.slice(0);eo.rect=A.O.rect.clone();
if(aY=="HdSl")f.Qs(eo.channel)}if(aY=="Trns"){eo.rect=d.rect.clone();eo.channel=f.C(d.rect.$());f.XN(d.buffer,eo.channel,3)}b.data={d:g.BN,Gu:[gJ,jz,eo],aZ:hI?[A.O,null]:null};
A.U7(b);this.IR(b.data,A);A.g[gJ].ZD=1;this.track({zR:"make",k7:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:aY}}}})}}else if(L==g.a6B){var iI=A.g[x.src],ht=A.g[x.Jg],b=new j$([6,21],this),h8=iI.dP(),ga=ht.dP(),cz=[x.src,h8,null,x.Jg,ga,h8];
if(Z||j){var cI=h8.clone();if(Z)cz=[x.Jg,ga,cI];else cz[5]=cI;if(j){f.Qs(cI.channel);cI.color=255-cI.color}}b.data={d:g.BN,Gu:cz};
A.U7(b);this.IR(b.data,A)}if(L==g.__){if(A.f.length!=1)return;var gJ=B,bl=A.g[gJ].dP();if(bl!=null){var b=new j$([6,22],this);
b.data={d:g.BN,Gu:[B,bl,null]};A.U7(b);this.IR(b.data,A)}}if(L==g.Ca){var f_=A.g.slice(0),gW=D.clone(),N=gW.dP();
f.A5(N.$n(gW.rect),gW.rect,gW.buffer,gW.rect);Q.J3.Wh(A,gW);gW.wr();A.g[A.f[0]]=gW;var b=new j$([5,8],this);
b.data={d:g.WF,Ms:f_,xd:A.g.slice(),Q7:A.f.slice(0),bJ:A.f.slice(0)};A.U7(b);this.IR(b.data,A)}if(L==g.rr){if(A.f.length!=1)return;
var gJ=A.f[0];if(A.g[gJ].zg(A).B==null){var b=new j$([6,45],this);b.data={d:L,j:gJ,B:new g.$R};A.U7(b);
this.IR(b.data,A)}}if(L==g.RS){if(A.f.length!=1)return;var gJ=A.f[0];if(A.g[gJ].zg(A).B!=null){var b=new j$([6,46],this);
b.data={d:L,j:gJ,B:A.g[gJ].zg(A).B};A.U7(b);this.IR(b.data,A)}}if(L==g.jC){if(x.src==null&&A.f.length!=1)return;
if(x.src!=null)B=x.src;if(A.g[B].Mi()){var b=new j$([6,47],this),jV=JSON.stringify(A.g[B].add.SoLd),hu=JSON.parse(jV);
delete hu.filterFX;b.data={d:g.sZ,ae:[{Zc:B,po:[jV,JSON.stringify(hu)],nO:[A.g[B].zg(A),null]}]};A.U7(b);
this.IR(b.data,A)}}if(L==g.Zy){if(A.f.length!=1)return;if(D.add.vmsk==null){var b=new j$([6,23],this),jS=A.Dd(),P=jS[1],jS=jS[0],eo,e2;
if(x.a1V&&P.length!=0){var fi=jS[P[0]].add;eo=fi.vmsk.clone();e2=fi.vogk}else{eo=new g.tZ;e2=[];eo._[1].all=x.a4i?0:1}b.data={d:L,j:B,QN:!0,B:eo,i4:JSON.stringify(e2),J9:null};
if(D.d8()){b.data.J9=JSON.stringify(gN.J9.default)}A.U7(b);this.IR(b.data,A)}}if(L==g.sJ){var iI=A.g[x.src],ht=A.g[x.Jg];
if(ht.add.vmsk)return;var b=new j$([6,23],this),bc=iI.add.vmsk;b.data={j:x.Jg,QN:iI.Ro,B:bc.clone(),i4:JSON.stringify(iI.add.vogk),J9:iI.add.vstk?JSON.stringify(iI.add.vstk):null};
if(Z){b.data.d=g.Zy}else{b.data.d=L;b.data.src=x.src;b.data.Jg=x.Jg}A.U7(b);this.IR(b.data,A)}if(L==g.C1||L==g.AP){if(A.f.length!=1)return;
var d=A.g[B],bc=d.add.vmsk;if(bc!=null){var e6=L==g.AP,b=new j$(e6?[6,8]:[6,24],this);b.data={d:g.C1,j:B,QN:d.Ro,B:bc,i4:JSON.stringify(d.add.vogk),J9:d.add.vstk?JSON.stringify(d.add.vstk):null};
if(e6){b.data.w0=bc.dP(d.add.vstk)}A.U7(b);this.IR(b.data,A)}}if(L==g.g4){var b=new j$("Metadata",this);
b.data={d:L,Di:JSON.stringify(A._T),zV:JSON.stringify(x.zV)};A.U7(b);this.IR(b.data,A)}if(L==g.CN){var e_=x.Jg?x.Jg:A,d7=e_.name,ho=x.h+".psd";
if(d7==ho)return;var b=new j$([6,37],this);b.data={d:L,aiA:d7,iB:ho};if(x.a6t!=!0)e_.U7(b);this.IR(b.data,e_)}if(L==g.wZ&&x.wa.endsWith("makeframes")){var fo=[],d$=x.wa.startsWith("make");
for(var F=0;F<A.f.length;F++){var q=A.f[F],d=A.g[q],jF=d.getName(),cv=jF.startsWith("_a_");if(d$==cv||d.add.lsct==hF.ju)continue;
var bS=d$?"_a_"+jF:jF.slice(3);fo.push([q,jF,bS,d.add.lnsr,null])}var b=new j$([6,37],this);b.data={d:g.Vy,Hl:fo};
A.U7(b);this.IR(b.data,A)}if(L==g.Vy){var d7=D.getName(),ho=x.name.substring(0,255);if(d7==ho)return;
var b=new j$([6,37],this);b.data={d:L,Hl:[[B,d7,ho,D.add.lnsr,null]]};A.U7(b);this.IR(b.data,A);this.track(jd.f3("Nm",{t:"TEXT",v:ho}))}if(L==g.O7){var hm=A.al(),fA=[],df=[];
for(var F=0;F<hm.length;F++){fA.push(A.g[hm[F]].add.lclr);df.push(x.atW)}var b=new j$([6,38],this);b.data={d:L,g:hm,at8:fA,xh:df};
A.U7(b);this.IR(b.data,A)}if(L==g.FT){var b=A.history[A.pF];if(b!=null&&b.k==this&&b.data.d==L&&b.data.j==x.Tt&&b.data.NI.I5==x.Wp.I5)b.data.NI=x.Wp;
else{b=new j$("Mask Density / Feather",this);b.data={d:L,j:x.Tt,IO:A.g[x.Tt].d4(x.Wp.I5),NI:x.Wp};A.U7(b)}this.IR(b.data,A)}if(L==g.rZ){var bt=JSON.stringify(x.h),d_=JSON.parse(bt),b=A.history[A.pF];
if(b!=null&&b.k==this&&b.data.d==L&&b.data.Dj==x.Dj&&b.data.P$.join(",")==x.P$.join(",")){for(var F=0;
F<x.P$.length;F++)b.data.GG[F]=d_;if(b.data.k7&&d_.ks!=0)Q.J3.WY(d_.Kb,b.data.k7.T.v,d_.ks-1)}else{b=new j$([11,6],this);
b.data={d:L,P$:x.P$,Dj:x.Dj,afU:[],GG:[]};var gK=!1;for(var F=0;F<x.P$.length;F++){var q=x.P$[F],d=A.g[q],gZ=x.Dj?Q.YG.N2(A,q):JSON.parse(JSON.stringify(d.add.vstk));
b.data.afU.push(gZ);b.data.GG.push(d_);if(JSON.stringify(gZ)!=bt)gK=!0}if(!gK)return;A.U7(b);if(x.Dj&&d_.ks>0){var hj=b.data.k7={classID:"setd",null:jd.uU("contentLayer",!0),T:{t:"Objc",v:{}}},ii=["SoCo","GdFl","PtFl"][d_.ks-1];
Q.J3.WY(d_.Kb,hj.T.v,d_.ks-1);this.track({zR:"set",k7:hj})}}if(x.Dj&&d_.ks==3)A.si(ct.wj(d_.Kb.Ptrn.v,i.UB));
if(!x.Dj){var g6=d_.strokeStyleContent.v;if(g6.classID==gN.J9.x6[2])A.si(ct.wj(g6.Ptrn.v,i.UB))}this.IR(b.data,A)}};
Q.J3.E2=function(x,z,A,o,i,L){var B=x.g[A],D=[];if(i)D=x.g.slice(0);else for(var F=0;F<x.g.length;F++)if(z.indexOf(F)==-1)D.push(x.g[F]);
var Z=D.indexOf(B);if(L&&B.Q0()&&B.add.lsct==hF.$Z)Z-=x.cz(A).length-1;var j=[];for(var F=0;F<z.length;
F++){var a=Z+(o?0:1)+F,b=i?i[F]:x.g[z[F]];D.splice(a,0,b);j.push(a)}return[D,j,Z]};Q.J3.WY=function(x,z,A){var o=[gN.ww,gN.B_,gN.Lm][A];
if(z.classID==null)z.classID=["solidColorLayer","gradientLayer","patternLayer"][A];for(var F=0;F<o.length;
F++)if(x[o[F]])z[o[F]]=JSON.parse(JSON.stringify(x[o[F]]))};Q.J3.a8R=function(x){var z=new g.$R;if(x.O!=null){z.color=0;
z.channel=x.O.channel.slice(0);z.rect=x.O.rect.clone()}return z};Q.J3.jR=function(x,z,A,o,i){var L=o.m/A.m,B=o.n/A.n,D=o.m/2,Z=o.n/2,j=f.p.Mm(o).v;
for(var F=0;F<x.g.length;F++){var a=x.g[F],b=a.add.SoLd;if(b==null||b.Idnt.v!=z)continue;if(L!=1||B!=1){var W=Q.S.z5(b.nonAffineTransform),c=f.P.p0(W,o),Y=new cb;
Y.translate(-D,-Z);Y.scale(L,B);Y.translate(D,Z);var R=f.P.a7(c,f.P.TX(Y)),$=j.slice(0);f.P.D(R,$);b.Trnf=Q.S.rL($);
b.nonAffineTransform=Q.S.rL($);if(f.qK.h8(b.warp.v)){var k=b.warp.v.bounds.v;k.Rght.v.val=o.m;k.Btom.v.val=o.n}}a._6(x,null,i)}x.i()};
Q.J3.an8=function(x,z,A){z.color=255-z.color;f.Qs(z.channel);z.h9=!0;x.cm(A);A.i()};Q.J3.prototype.a_=function(x,z){var A=x.d,o=z.g[x.j];
z.bg=!0;if(A==g.GS){z.add.lnk2.splice(z.add.lnk2.indexOf(x.YF),1,x.oU);Q.J3.jR(z,x.id,x.YF.da[1],x.oU.da[1])}if(A==g.Yj){o.add.SoLd.Impr.v.classID=x.IO;
o._6(z)}if(A==g.ya){var i=JSON.parse(x.P$);for(var F=0;F<i.length;F++)z.g[i[F]].Cz=x.op[F];z.i()}if(A==g.ce){var i=JSON.parse(x.P$);
for(var F=0;F<i.length;F++)z.g[i[F]].opacity=x.op[F];z.i()}if(A==g.wF){var i=JSON.parse(x.P$);for(var F=0;
F<i.length;F++)if(z.g[i[F]].add.lsct!=hF.ju)z.g[i[F]].add.lspf=x.op[F]}if(A==g._U){var L=x.SZ,B=x.a5g;
delete o.add[L[0]];if(B[0]!="----")o.add[B[0]]=B[1]}if(A==g.V$){o.add.iOpa=x.op;z.i()}if(A==g.D7){for(var F=0;
F<x.P$.length;F++){var D=z.g[x.P$[F]];D.uO(!D.Gi())}z.i()}if(A==g.k3){var Z=o.dP();Z.isEnabled=!Z.isEnabled;
o.cm(z);z.i()}if(A==g.$G){var Z=o.zg(z).B;Z.isEnabled=!Z.isEnabled;o.i();z.i()}if(A==g.JK){var Z=o.add.vmsk;
Z.isEnabled=!Z.isEnabled;if(!Z.isEnabled){if(o.w0){o.B=o.w0;o.w0=null}else o.B=null}else if(o.B){o.w0=o.B;
o.B=null}o.cm(z);z.i()}if(A==g.aQ){o.fG=!o.fG;z.i()}if(A==g.g6){o.add.lmfx.masterFXSwitch.v=!o.add.lmfx.masterFXSwitch.v;
o.AT.KM=!0;z.i()}if(A==g._k){o.add.SoLd.filterFX.v.enab.v=!o.add.SoLd.filterFX.v.enab.v;o.J2(z);z.i()}if(A==g.fx){var j=x.index,a=o.add.lmfx[gN.OX[j[0]]].v[j[1]].v;
a.enab.v=!a.enab.v;o.AT.KM=!0;z.i()}if(A==g.FV){var b=z.g[x.YZ],W=z.g[x.b4],c=x.a33,Y=x.ahi;if(c=="")delete b.add.lmfx;
else b.add.lmfx=JSON.parse(c);if(Y=="")delete W.add.lmfx;else W.add.lmfx=JSON.parse(Y);b.AT.KM=!0;W.AT.KM=!0;
z.i()}if(A==g.kP){var R=o.add.SoLd.filterFX.v.filterFXList.v[x.index].v;R.enab.v=!R.enab.v;o.J2(z);z.i()}if(A==g.anX){o.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.a0a));
o.J2(z);z.i()}if(A==g.FD){var Z=o.dP();Z.GD=!Z.GD}if(A==g.Dq){var Z=o.add.vmsk;Z.GD=!Z.GD}if(A==g.wo){var $=JSON.parse(x.arY);
z.cC=$[0];z.Gd=$[1]}if(A==g.Z6){var $=x.jj;for(var F=0;F<$.length;F+=2){var k=$[F],D=k>=0?z.g[k]:z.Ds[-1-k];
D.add.vogk=JSON.parse($[F+1]);f.i4.nX(D.add.vogk,D.add.vmsk);if(k>=0)D.cm(z)}z.i()}if(A==g.Jn){o.add.artb=JSON.parse(x.auC);
z.i();Q.lv.Cg(z,x)}if(A==g.sR){z.O=x.rl;z.lX=x.jj.slice(0);z.CE=x.sb.slice(0);z.o$=z.Gy=!0}if(A==g.Ke){o.xw=!o.xw}if(A==g.pI){var w=x.a0s;
for(var F=0;F<w.length;F++)z.g[F].en=w[F]}if(A==g.WF){if(x.x2)Q.R7.cL(z,z.f,null,-x.x2.x,-x.x2.y);if(x.Q7)z.f=x.Q7;
if(x.aZ)z.O=x.aZ[0];z.Iz=null;z.i();z.Wi(x.Ms);Q.lv.Cg(z,x);if(x.iJ)z.q5(x.iJ[0])}if(A==g.BN){for(var F=0;
F<x.Gu.length;F+=3)Q.J3.Wh(z,z.g[x.Gu[F]],x.Gu[F+1]);if(x.aZ){var V=x.aZ[0];if(V==null)delete z.O;else z.O=V}}if(A==g.rr){o.zg(z).B=null;
o.i();z.i()}if(A==g.RS){o.zg(z).B=x.B;o.i();z.i()}if(A==g.sZ){Q.J3.a0f(z,x.ae,0)}if(A==g.Zy){Q.J3.A8(z,o,!0)}if(A==g.sJ){Q.J3.A8(z,z.g[x.Jg],x.B.isEnabled);
Q.J3.wA(z,z.g[x.src],x)}if(A==g.C1){if(x.w0)Q.J3.Wh(z,o,null);Q.J3.wA(z,o,x)}if(A==g.g4){z._T=JSON.parse(x.Di)}if(A==g.CN){z.name=x.aiA}if(A==g.Vy){for(var F=0;
F<x.Hl.length;F++){var h=x.Hl[F],D=z.g[h[0]];D.rk(h[1]);if(h[3])D.add.lnsr=h[3];else delete D.add.lnsr}}if(A==g.O7){for(var F=0;
F<x.g.length;F++)z.g[x.g[F]].add.lclr=x.at8[F]}if(A==g.rZ){var l=x.afU;for(var F=0;F<x.P$.length;F++){var D=z.g[x.P$[F]],M=l[F];
if(!x.Dj)D.add.vstk=JSON.parse(JSON.stringify(M));else Q.YG.UC(D,JSON.parse(JSON.stringify(M)));D.lU(z)}z.i()}if(A==g.FT){o.aj3(x.IO);
o.cm(z);z.i()}z.Gy=!0};Q.J3.prototype.IR=function(x,z){var A=x.d,o=z.g[x.j];z.bg=!0;if(A==g.GS){z.add.lnk2.splice(z.add.lnk2.indexOf(x.oU),1,x.YF);
Q.J3.jR(z,x.id,x.oU.da[1],x.YF.da[1])}if(A==g.Yj){o.add.SoLd.Impr.v.classID=x.NI;o._6(z)}if(A==g.ya){var i=JSON.parse(x.P$);
for(var F=0;F<i.length;F++)z.g[i[F]].Cz=x.NI;z.i()}if(A==g.ce){var i=JSON.parse(x.P$);for(var F=0;F<i.length;
F++)z.g[i[F]].opacity=x.NI;z.i()}if(A==g.wF){var i=JSON.parse(x.P$);for(var F=0;F<i.length;F++)if(z.g[i[F]].add.lsct!=hF.ju)z.g[i[F]].add.lspf=x.NI[F]}if(A==g._U){var L=x.a5g,B=x.SZ;
delete o.add[L[0]];if(B[0]!="----")o.add[B[0]]=B[1]}if(A==g.V$){o.add.iOpa=x.NI;z.i()}if(A==g.D7){for(var F=0;
F<x.P$.length;F++){var D=z.g[x.P$[F]];D.uO(!D.Gi())}z.i()}if(A==g.k3){var Z=o.dP();Z.isEnabled=!Z.isEnabled;
o.cm(z);z.i()}if(A==g.$G){var Z=o.zg(z).B;Z.isEnabled=!Z.isEnabled;o.i();z.i()}if(A==g.JK){var Z=o.add.vmsk;
Z.isEnabled=!Z.isEnabled;if(!Z.isEnabled){if(o.w0){o.B=o.w0;o.w0=null}else o.B=null}else if(o.B){o.w0=o.B;
o.B=null}o.cm(z);z.i()}if(A==g.aQ){o.fG=!o.fG;z.i()}if(A==g.g6){o.add.lmfx.masterFXSwitch.v=!o.add.lmfx.masterFXSwitch.v;
o.AT.KM=!0;z.i()}if(A==g._k){o.add.SoLd.filterFX.v.enab.v=!o.add.SoLd.filterFX.v.enab.v;o.J2(z);z.i()}if(A==g.fx){var j=x.index,a=o.add.lmfx[gN.OX[j[0]]].v[j[1]].v;
a.enab.v=!a.enab.v;o.AT.KM=!0;z.i()}if(A==g.FV){var b=z.g[x.YZ],W=z.g[x.b4],c=x.aev,Y=x.a2_;if(c=="")delete b.add.lmfx;
else b.add.lmfx=JSON.parse(c);if(Y=="")delete W.add.lmfx;else W.add.lmfx=JSON.parse(Y);b.AT.KM=!0;W.AT.KM=!0;
z.i()}if(A==g.kP){var R=o.add.SoLd.filterFX.v.filterFXList.v[x.index].v;R.enab.v=!R.enab.v;o.J2(z);z.i()}if(A==g.anX){o.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.aif));
o.J2(z);z.i()}if(A==g.FD){var Z=o.dP();Z.GD=!Z.GD}if(A==g.Dq){var Z=o.add.vmsk;Z.GD=!Z.GD}if(A==g.wo){var $=JSON.parse(x.akW);
z.cC=$[0];z.Gd=$[1]}if(A==g.Z6){var $=x.HN;for(var F=0;F<$.length;F+=2){var k=$[F],D=k>=0?z.g[k]:z.Ds[-1-k];
D.add.vogk=JSON.parse($[F+1]);f.i4.nX(D.add.vogk,D.add.vmsk);if(k>=0)D.cm(z)}z.i()}if(A==g.Jn){o.add.artb=JSON.parse(x.IM);
z.i();Q.lv.oy(z,x)}if(A==g.sR){z.O=x.Bp;z.lX=x.HN.slice(0);z.CE=x.sW.slice(0);z.o$=z.Gy=!0}if(A==g.Ke){o.xw=!o.xw}if(A==g.pI){var w=x.auk;
for(var F=0;F<w.length;F++)z.g[F].en=w[F]}if(A==g.WF){var V=x.xd,h=0,l;for(var F=0;F<V.length;F++){var D=V[F],M=D.add.lsct;
if(M==hF.ju)h++;else if(M==hF.X7||M==hF.$Z)h--;if(D.add.artb&&h!=0)l="Artboards can not be inside folders."}if(l){z.history.pop();
z.pF--;alert(l);return}Q.lv.oy(z,x);if(x.bJ)z.f=x.bJ;if(x.aZ)z.O=x.aZ[1];z.Iz=null;z.i();z.Wi(x.xd);
if(x.x2)Q.R7.cL(z,z.f,null,x.x2.x,x.x2.y);if(x.iJ)z.q5(x.iJ[1])}if(A==g.BN){for(var F=0;F<x.Gu.length;
F+=3)Q.J3.Wh(z,z.g[x.Gu[F]],x.Gu[F+2]);if(x.aZ){var q=x.aZ[1];if(q==null)delete z.O;else z.O=q}}if(A==g.rr){o.zg(z).B=x.B;
o.ZD=0;o.i();z.i()}if(A==g.RS){o.zg(z).B=null;o.ZD=0;o.i();z.i()}if(A==g.sZ){Q.J3.a0f(z,x.ae,1)}if(A==g.Zy){Q.J3.wA(z,o,x)}if(A==g.sJ){Q.J3.A8(z,z.g[x.src],x.B.isEnabled);
Q.J3.wA(z,z.g[x.Jg],x)}if(A==g.C1){Q.J3.A8(z,o,x.B.isEnabled);if(x.w0)Q.J3.Wh(z,o,x.w0)}if(A==g.g4){z._T=JSON.parse(x.zV)}if(A==g.CN){z.name=x.iB}if(A==g.Vy){for(var F=0;
F<x.Hl.length;F++){var t=x.Hl[F],D=z.g[t[0]];D.rk(t[2]);if(t[4])D.add.lnsr=t[4];else delete D.add.lnsr}}if(A==g.O7){for(var F=0;
F<x.g.length;F++)z.g[x.g[F]].add.lclr=x.xh[F]}if(A==g.rZ){var p=x.GG;for(var F=0;F<x.P$.length;F++){var D=z.g[x.P$[F]],E=p[F];
if(!x.Dj)D.add.vstk=JSON.parse(JSON.stringify(E));else Q.YG.UC(D,JSON.parse(JSON.stringify(E)));D.lU(z)}z.i()}if(A==g.FT){o.aj3(x.NI);
o.cm(z);z.i()}z.Gy=!0};Q.J3.Sk=function(x,z){var A=0;for(var F=0;F<x.g.length;F++){var o=x.g[F].getName();
if(o.startsWith(z)){var i=o.slice(z.length).trim(),L=parseInt(i);if(!isNaN(L)&&L+""==i&&L>A)A=L}}return A};
Q.J3.a0f=function(x,z,A){for(var F=0;F<z.length;F++){var o=z[F],i=x.g[o.Zc];if(o.po){i.add.SoLd=JSON.parse(o.po[A])}if(o.nO){if(o.nO[1-A]!=null)x.l8(o.nO[1-A]);
if(o.nO[A]!=null)x.o2(o.nO[A]);else i.ZD=0}i._6(x)}};Q.J3.a30=function(x,z){var A=x.wE,o=x.rect.clone();
if(A!=null&&(A.x!=z.m||A.y!=z.n)){o.x=Math.floor((z.m-o.m)/2);o.y=Math.floor((z.n-o.n)/2)}else if(A==null){var i=new av(0,0,z.m,z.n),L=z.oT();
if(L!=-1)i=z.g[L].nU();o.x+=i.x;o.y+=i.y}return o};Q.J3.a0x=function(x,z){if(z.w0)z.w0=null;else z.B=null;
z.cm(x);x.i();z.ZD=0};Q.J3.Wh=function(x,z,A){var o=z.dP();if(o==null&&A==null)return;if(o)Q.J3.a0x(x,z);
if(A==null)return;if(z.B)z.w0=A;else z.B=A;z.cm(x);x.i()};Q.J3.A8=function(x,z,A){if(z.w0&&A){z.B=z.w0;
z.w0=null}else if(z.B&&A){z.B=null}delete z.add.vogk;delete z.add.vstk;delete z.add.vmsk;z.cm(x);z.Ro=!1;
x.Iz=[];x.i()};Q.J3.wA=function(x,z,A){z.add.vogk=JSON.parse(A.i4);if(A.J9)z.add.vstk=JSON.parse(A.J9);
else delete z.add.vstk;z.add.vmsk=A.B.clone();if(z.B&&z.add.vmsk.isEnabled)z.w0=z.B;z.cm(x);z.Ro=A.QN;
x.Iz=[x.g.indexOf(z)];x.Dt=[];x.i()};Q.PG=function(){Q.He.call(this,"Layer Styles",Q.je);this.m2=null;
this.gQ=null;this.Pd=null;this.NK=[];this.Ky=null};Q.PG.prototype=new Q.He;Q.PG.prototype.A1=function(x,z,A,o,i){var L=x.j;
if(L==null)L=A.f[0];var B=A.g[L],D=x.dD;if(this.m2==null){this.Pd=Q.PG.U4(A,B);this.m2=JSON.stringify(this.Pd);
if(B.add.lmfx)this.gQ=JSON.stringify(B.add.lmfx)}if(B.add.lmfx==null){B.add.lmfx=JSON.parse(gN.default);
for(var F=0;F<gN.order.length;F++)B.add.lmfx[gN.OX[F]]={t:"VlLs",v:[]}}if(x.d=="scaleeffects"){if(x.h=="confirm"||x.h=="cancel"){this.A1({d:x.h},z,A,o,i);
return}B.add.lmfx=JSON.parse(this.gQ);ct.pi(B.add.lmfx,x.h/100)}else if(x.d=="changeprop"){var Z=null;
if(D!=0){var j=this.NK[D[0]];if(j==null)j=gN.NK[D[0]];j=JSON.parse(j);var a=B.add.lmfx[gN.OX[D[0]]].v;
if(a[D[1]]==null)a[D[1]]={t:"Objc",v:j};Z=a[D[1]].v;for(var b in j)if(Z[b]==null)Z[b]=j[b]}if(x.d=="changeprop"){if(D==0){this.Pd[x.Be].v=x.h;
Q.PG.eZ(A,B,this.Pd)}else if(x.Be=="lagl"){if(Z.uglg&&Z.uglg.v){A.he(x.h.val);this.Pd.awr=A.kA()}else Z[x.Be].v=x.h}else if(x.Be=="Lald"){if(Z.uglg.v){A.$r(x.h.val);
this.Pd.aay=A.Ee()}else Z[x.Be].v=x.h}else if((D[0]==3||D[0]==8)&&(x.Be=="Clr"||x.Be=="Grad")){if(x.Be=="Clr"){Z.Clr={t:"Objc",v:x.h};
delete Z.Grad}if(x.Be=="Grad"){Z.Grad={t:"Objc",v:x.h};delete Z.Clr}}else{Z[x.Be].v=x.h}if(D!=0)this.NK[D[0]]=JSON.stringify(Z)}if(D!=0)if(Z.Ptrn)A.si(ct.wj(Z.Ptrn.v,i.UB))}else if(x.d=="setstl"){var W=x.h.Lefx;
if(W)ct.ahf(W,A,i.UB);ct.al_(x.h,B);this.Pd=Q.PG.U4(A,B)}else if(x.d=="st_dupsingle"){var c=B.add.lmfx[gN.OX[x.ns[0]]].v;
if(c[x.ns[1]]==null)return;var Y=JSON.parse(JSON.stringify(c[x.ns[1]]));c.splice(x.ns[1],0,Y)}else if(x.d=="st_movsingle"){var R=x.ns[1],c=B.add.lmfx[gN.OX[x.ns[0]]].v;
if(c[x.ns[1]]==null)return;var $=Math.max(0,Math.min(c.length-1,R+x.a9u)),k=c[$];c[$]=c[R];c[R]=k}else if(x.d=="cancel"){if(this.gQ==null)delete B.add.lmfx;
else B.add.lmfx=JSON.parse(this.gQ);Q.PG.eZ(A,B,JSON.parse(this.m2));this.m2=null;this.gQ=null}else if(x.d=="confirm"){var w=JSON.stringify(B.add.lmfx),V=new j$([11,6],this);
V.data={g:[L],wY:[this.gQ],G6:[w],Bz:[this.m2],C4:[JSON.stringify(this.Pd)]};A.U7(V);this.m2=null;this.gQ=null;
if(w!=null){var h=JSON.parse(w);ap.HG(h);h.classID="Lefx";delete h.masterFXSwitch;var l=new fZ(G.E.rm);
l.cx=!0;l.data={zR:"set",_g:!0};var M=jd.uU("Lyr",!0);M.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
l.data.k7={__name:"Set",classID:"setd",null:M,T:{t:"Objc",v:h}};z.c(l)}}else if(x.d=="st_copy"){this.Ky=[this.m2,this.gQ];
this.m2=null;this.gQ=null}else if(x.d=="st_paste"||x.d=="st_clear"){if(x.d=="st_paste"&&this.Ky==null)return;
var q=x.j!=null?[x.j]:A.f.slice(0),t=[],p=[],_=[],S=[];for(var F=0;F<q.length;F++){var B=A.g[q[F]],y=Q.PG.U4(A,B);
t.push(B.add.lmfx?JSON.stringify(B.add.lmfx):null);_.push(JSON.stringify(y));if(x.d=="st_paste"){p.push(this.Ky[1]);
S.push(this.Ky[0])}else{p.push(null);y.lrMd.v=0;y.Opct.v.val=100;y.iOpa.v.val=100;y.blIf={v:[]};for(var v=0;
v<10;v++)y.blIf.v.push(0,0,255,255);S.push(JSON.stringify(y))}}var V=new j$([11,6],this);V.data={g:q,wY:t,G6:p,Bz:_,C4:S};
this.IR(V.data,A);A.U7(V);this.m2=null;this.gQ=null}else{var r=this.Pd,h=null;if(x.d=="st_delsingle"){h=JSON.parse(this.gQ);
h[gN.OX[x.ns[0]]].v.splice(x.ns[1],1);h=JSON.stringify(h)}if(h==null)delete B.add.lmfx;else B.add.lmfx=JSON.parse(h);
if(r!=null)Q.PG.eZ(A,B,r);var V=new j$([11,6],this);V.data={g:[x.j],wY:[this.gQ],G6:[h],Bz:[this.m2],C4:[JSON.stringify(r)]};
A.U7(V);this.m2=null;this.gQ=null}B.AT.KM=!0;A.bg=!0;A.i()};Q.PG.U4=function(x,z){if(z.add.iOpa==null)z.add.iOpa=255;
if(z.add.brst==null)z.add.brst=[1,1,1];var A=z.Q0()?["pass"].concat(b_.Am):b_.Am;return{lrMd:{v:A.indexOf(z.Cz)},Opct:{v:{type:"#Prc",val:Math.round(z.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(z.add.iOpa*100/255)},t:"UntF"},blIf:{v:z.A4.slice(0)},brst:{v:z.add.brst},awr:x.kA(),aay:x.Ee(),Q0:z.Q0()}};
Q.PG.eZ=function(x,z,A){var o=z.Q0()?["pass"].concat(b_.Am):b_.Am;z.Cz=o[A.lrMd.v];z.opacity=Math.round(A.Opct.v.val*255/100);
z.add.iOpa=Math.round(A.iOpa.v.val*255/100);z.A4=A.blIf.v.slice(0);z.add.brst=A.brst.v.slice(0);x.he(A.awr);
x.$r(A.aay)};Q.PG.prototype.a_=function(x,z){for(var F=0;F<x.g.length;F++){var A=z.g[x.g[F]],o=x.wY[F];
if(o==null)delete A.add.lmfx;else A.add.lmfx=JSON.parse(o);Q.PG.eZ(z,A,JSON.parse(x.Bz[F]));A.AT.KM=!0}z.bg=!0;
z.i()};Q.PG.prototype.IR=function(x,z){for(var F=0;F<x.g.length;F++){var A=z.g[x.g[F]],o=x.G6[F];if(o==null)delete A.add.lmfx;
else A.add.lmfx=JSON.parse(o);Q.PG.eZ(z,A,JSON.parse(x.C4[F]));A.AT.KM=!0}z.bg=!0;z.i()};Q.kG=function(){Q.He.call(this,"Layer Comps",Q.CQ)};
Q.kG.prototype=new Q.He;Q.kG.prototype.A1=function(x,z,A,o){var i=JSON.parse(JSON.stringify(A.$C)),L=JSON.parse(JSON.stringify(A.$C)),B=null,D=null,Z=null,j=-1,a=!1;
if(x.d=="delLC"){var b=Q.kG.nI(A.$C,x.dD),W=A.$C.lastAppliedComp?A.$C.lastAppliedComp.v:0;L.list.v.splice(b,1);
if(W==x.dD)delete L.lastAppliedComp;B="Delete Layer Comp"}if(x.d=="editLC"){var b=Q.kG.nI(A.$C,x.dD),c=L.list.v[b].v;
if(x.iB!=null)c.Nm.v=x.iB;if(x.auh!=null){var Y=x.auh,R=c.capturedInfo.v,$=R&(1<<Y)-1;R=R>>Y;if((R&1)==1)R--;
else R++;c.capturedInfo.v=(R<<Y)+$}B="Layer Comp properties"}if(x.d=="setLC"){Q.kG.Em(A);if(x.dD==0)delete L.lastAppliedComp;
else L.lastAppliedComp={t:"long",v:x.dD};B="Switch Layer Comp";a=!0}if(x.d=="updLC"){Q.kG.Em(A);D=Q.kG.aaa(A,x.dD);
Z=Q.kG.AG(A,x.dD);L.lastAppliedComp={t:"long",v:x.dD};B="Update Layer Comp";j=x.dD;a=!0}if(x.d=="addLC"){Q.kG.Em(A);
var k=1;for(var F=0;F<L.list.v.length;F++)k=Math.max(k,L.list.v[F].v.compID.v)+1;k+=Math.floor(Math.random()*1e4);
var w={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(L.list.v.length+1)},compID:{t:"long",v:k},capturedInfo:{t:"long",v:7}}};
L.list.v.push(w);L.lastAppliedComp={t:"long",v:k};B="New Layer Comp";var V=Q.kG.AG(A,k);Q.kG.bt(A,V,k)}var h=new j$(B,this);
h.data={a1S:i,adZ:L,avm:D,agg:Z,dD:j,SN:a};this.IR(h.data,A);A.U7(h)};Q.kG.prototype.IR=function(x,z){z.$C=x.adZ;
z.bg=!0;if(x.agg)Q.kG.bt(z,x.agg,x.dD);if(x.SN){var A=z.$C.lastAppliedComp?z.$C.lastAppliedComp.v:0,o=Q.kG.nI(z.$C,A),i=o==-1?null:z.$C.list.v[o].v,L=i?i.capturedInfo.v:7;
Q.kG.Rb(z,A,L);z.i()}};Q.kG.prototype.a_=function(x,z){z.$C=x.a1S;z.bg=!0;if(x.avm)Q.kG.bt(z,x.avm,x.dD);
if(x.SN){var A=z.$C.lastAppliedComp?z.$C.lastAppliedComp.v:0,o=Q.kG.nI(z.$C,A),i=o==-1?null:z.$C.list.v[o].v,L=i?i.capturedInfo.v:7;
Q.kG.Rb(z,A,L);z.i()}};Q.kG.Em=function(x){if(x.$C.lastAppliedComp!=null||!x.EV)return;var z=Q.kG.AG(x,0);
Q.kG.bt(x,z,0);x.EV=!1};Q.kG.E6=function(x,z,A){x.v.Hrzn.v+=z;x.v.Vrtc.v+=A};Q.kG.nI=function(x,z){var A=x.list.v;
for(var F=0;F<A.length;F++)if(A[F].v.compID.v==z)return F;return-1};Q.kG.afs=function(x){var z=x.layerSettings.v,i=null;
if(z.length==0)return;var A="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),o=z[0].v;
if(o.enab==null)o.enab={t:"bool",v:!0};if(o.Ofst==null)o.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var F=0;F<z.length;F++){var L=z[F].v;if(i==null)i=JSON.parse(JSON.stringify(L));else for(var B=0;
B<A.length;B++){var D=A[B];if(L[D])i[D]=JSON.parse(JSON.stringify(L[D]))}z[F].v=JSON.parse(JSON.stringify(i))}};
Q.kG.aw$=function(x,z){var A=x.add.shmd.cmls,o=A.layerSettings.v;for(var i=0;i<o.length;i++){var L=o[i].v,B=L.compList.v[0].v;
if(B==z)return i}return-1};Q.kG.aoj=function(x,z){var A=Q.kG.aw$(x,z);return A==-1?null:x.add.shmd.cmls.layerSettings.v[A].v};
Q.kG.Rb=function(x,z,A){for(var F=0;F<x.g.length;F++){var o=x.g[F],i=o.add.shmd.cmls;if(i==null)continue;
var L=i.layerSettings.v,B=Q.kG.aoj(o,z);if(B==null){o.uO(!1);continue}if((A&1)!=0){if(B.enab)o.uO(B.enab.v);
else o.uO(!0)}if((A&2)!=0){if(B.Ofst){var D=B.Ofst.v,Z=o.XJ(x),j=Math.round(D.Hrzn.v-Z.x),a=Math.round(D.Vrtc.v-Z.y);
if(j!=0||a!=0)Q.R7.cL(x,[F],null,j,a)}}if((A&4)!=0){if(B.Lefx){var b=JSON.parse(JSON.stringify(B.Lefx.v));
ap.dy(b);if(JSON.stringify(b)!=JSON.stringify(o.add.lmfx)){o.add.lmfx=b;o.AT.KM=!0}}else delete o.add.lmfx;
if(B.blendOptions){var W=B.blendOptions.v;if(W.Opct)o.opacity=Math.round(255*W.Opct.v.val/100);if(W.fillOpacity)o.add.iOpa=Math.round(255*W.fillOpacity.v.val/100);
if(W.Md)o.Cz=o.add.lsct==hF.ju?"norm":b_.Sa(W.Md.v.BlnM)}else{o.opacity=255;o.Cz=o.Q0()?"pass":"norm";
o.add.iOpa=255}}}};Q.kG.aaa=function(x,z){var A={};for(var F=0;F<x.g.length;F++){var o=x.g[F];if(o.add.shmd==null||o.add.shmd.cmls==null)continue;
A["l"+o.add.lyid]=JSON.parse(JSON.stringify(Q.kG.aoj(o,z)))}return A};Q.kG.AG=function(x,z){var A={};
for(var F=0;F<x.g.length;F++){var o=x.g[F],i=o.add.lyid;A["l"+i]=Q.kG.a3t(x,o,z)}return A};Q.kG.a3t=function(x,z,A){var o=z.add.shmd?z.add.shmd.cmls:null,i={classID:"null"},L=z.XJ(x),B={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:L.x},Vrtc:{t:"long",v:L.y}}};
i.compList={t:"VlLs",v:[{t:"long",v:A}]};i.enab={t:"bool",v:z.Gi()};i.Ofst=JSON.parse(JSON.stringify(B));
i.FXRefPoint=JSON.parse(JSON.stringify(o&&o.origFXRefPoint?o.origFXRefPoint:B));i.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:b_.d$(z.Cz)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*z.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:z.add.iOpa!=null?100*z.add.iOpa/255:100}}}};
if(z.add.vmsk){i.vectorMask={t:"Objc",v:{classID:"null"}};i.vectorMask.v.Ofst=JSON.parse(JSON.stringify(B))}if(z.add.lmfx){i.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(z.add.lmfx))};
ap.HG(i.Lefx.v)}return i};Q.kG.ai7=function(x,z){var A=z.add.lyid;if(z.add.shmd==null)z.add.shmd={};
if(z.add.shmd.cmls==null){z.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:A},layerSettings:{t:"VlLs",v:[{t:"Objc",v:Q.kG.a3t(x,z,0)}]}}}};
Q.kG.bt=function(x,z,A){for(var F=0;F<x.g.length;F++){var o=x.g[F],i=o.add.lyid;Q.kG.ai7(x,o);var L=o.add.shmd.cmls,B=L.layerSettings.v,D=z["l"+i];
if(D!=null)D={t:"Objc",v:JSON.parse(JSON.stringify(D))};var Z=Q.kG.aw$(o,A);if(Z==-1){if(D==null)continue;
else B.push(D)}else{if(D==null)B.splice(Z,1);else B[Z]=D}}};Q.kG.QX=function(x,z){for(var F=0;F<x.g.length;
F++){var A=x.g[F],o=A.add.lyid;if(A.add.shmd==null||A.add.shmd.cmls==null)continue;var i=A.XJ(x),L=Math.round(i.x),B=Math.round(i.y);
if(!z){L=-L;B=-B}var D=A.add.shmd.cmls,Z=D.layerSettings.v;if(D.origFXRefPoint)Q.kG.E6(D.origFXRefPoint,-L,-B);
for(var j=0;j<Z.length;j++){var a=Z[j].v;Q.kG.E6(a.Ofst,L,B);var b=a.imageMask,W=a.vectorMask;if(b&&b.v.Ofst)Q.kG.E6(b.v.Ofst,L,B);
if(W&&W.v.Ofst)Q.kG.E6(W.v.Ofst,L,B)}}};Q.aW=function(){Q.He.call(this,"Adjust Edit",Q.v6);this.zV=null;
this.uZ=null};Q.aW.prototype=new Q.He;Q.aW.bi=function(x,z,A,o){if(o)z/=4;var i=0,L=0,B=255,D=0,Z=0,j=255;
while(L+x[i]<z){L+=x[i];i++}while(D+x[B]<z){D+=x[B];B--}if(o){i-=Math.round(x[i]/(A/32));B+=Math.round(x[B]/(A/32));
if(i<0)Z=Math.round(-i*255/(B-i));if(B>255)j=255-Math.round((B-255)*255/(B-i))}return[Math.max(i,0),Math.min(B,255),Z,j,100]};
Q.aW.prototype.A1=function(x,z,A,o,i){var L=x.d;if(L=="auto"){var B=x.RZ,D=Q.aW.getData(A);for(var F=0;
F<D.length;F++){var Z=D[F],j;if(B<3){}else{var a=h6.d6("hue2");cA.D3(a,0,[0,-100,0]);j=ei.Th("hue2",a)}ei.$B(j,Z.Mw,Z.lB,Z.G8)}Q.aW.vB(A,D);
Q.aW.Uc(A,D,B<3?[4,16,B]:[19,7,0],this);A.i()}if(L=="edit_layer")this.ami(x,z,A,o);if(L=="edit"||L=="confirm"||L=="cancel")this.$S(x,z,A,i,!0);
if(L=="start"){if(A.f.length==0)return;var b=A.g[A.f[0]];if(b.add.SoLd&&b.ZD<=0&&A.CE.length==0){var W=new fZ(G.E.r,!0);
W.k=Q.qI;W.data={d:"start",ET:x.Mo,u6:x.u6};z.c(W);return}if(!A.L0(z,null,!0))return;if(T[x.Mo]&&x.u6==null){if(A.f.length!=1)alert("Will be applied to "+A.f.length+" layers.");
var W=new fZ(G.E.Y,!0);W.data={d:G.U.z1,ca:"afw_"+x.Mo};z.c(W)}else{this.$S({d:"edit",u6:x.u6,ET:x.Mo},z,A,i);
this.$S({d:"confirm",ET:x.Mo},z,A,i)}}};Q.aW.prototype.ami=function(x,z,A,o){var i=x.d,L=A.f[0],B=A.g[L],D=ei.get(B.add),Z=JSON.parse(JSON.stringify(B.add[D])),W;
for(var j in x.h)Z[j]=x.h[j];var a=JSON.parse(JSON.stringify(Z));for(var j in ei.gO)if(ei.gO[j]==D)a.classID=j;
var b=A.history[A.pF];if(b&&b.k==this&&b.data.IO!=null&&b.data.j==L)W=b;else{var c=new fZ(G.E.rm,!0),Y={classID:"setd",null:jd.uU("AdjL",!0),T:{t:"Objc",v:a}};
c.data={_g:!0,zR:"set",k7:Y};z.c(c);var W=new j$([6,39],this);W.data={j:L,IO:B.add[D],NI:Z,n2:Y};A.U7(W)}W.data.NI=Z;
W.data.n2.T.v=a;this.IR(W.data,A)};Q.aW.getData=function(x,z,A){var o=[],i=new av(0,0,x.m,x.n),L=x.CE.length!=0?[-1-x.CE[0]]:x.f;
for(var F=0;F<L.length;F++){var B=L[F],D=B<0?null:x.g[B],Z={j:B,dm:B<0?1:D.ZD};o.push(Z);var j=x.lX[-1-B];
if(0<=B)j=D.ZD<=0?null:D.ZD==1?D.dP():D.zg(x).B;var a=j?j.rect:D.rect;if(x.O)Z.G8=j!=null?x.O.rect.tE(i):x.O.rect.tE(a);
else Z.G8=z||j!=null?a.QM(i):a.clone();if(A)Z.G8=A[F].G8.clone();var b=Z.G8.$();Z.Mw=f.C(b*4);if(j)Q.sg.HL(j.channel,j.rect,j.color,Z.Mw,Z.G8);
else f.mV(D.buffer,a,Z.Mw,Z.G8);Z.lB=Z.Mw.slice(0);if(x.O){Z.Gu=f.C(b);f.K5(x.O.channel,x.O.rect,Z.Gu,Z.G8)}}return o};
Q.aW.alC=function(x,z,A){if(z==null)return z;var o=ei.se(x,z),L;if(o==-1)return z;var i=A.length>>>2,B=f.SM(A),D=.001*i;
if(o==0||o==2)L=[[0,255,0,255,100],Q.aW.bi(B[1],D,i,o==2),Q.aW.bi(B[2],D,i,o==2),Q.aW.bi(B[3],D,i,o==2)];
if(o==1)L=[Q.aW.bi(B[0],D*.33,i,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var Z=h6.d6("levl");
for(var F=0;F<4;F++)gy.D3(Z,F,L[F]);return Z};Q.aW.aup=function(x,z,A,o){var i,L;if(A.t=="name"){var B=0;
for(var D=0;D<x.g.length;D++)if(x.g[D].getName()==A.v.val)B=D;if(x==z&&B==o.j){i=o.Mw;L=o.G8}else{var Z=x.g[B];
i=Z.buffer;L=Z.rect}}else{L=new av(0,0,x.m,x.n);i=x==z?o.Fe:x.MK()}return[i,L]};Q.aW.prototype.$S=function(x,z,A,o){if(this.zV==null){if(x.ET=="aply")A.g[A.f[0]].extend(new av(0,0,A.m,A.n));
this.zV=Q.aW.getData(A,null,x.ET=="fade"?A.nW().data:null);if(x.ET=="aply"||x.ET=="matc")this.zV[0].Fe=A.MK()}if(x.d=="edit"){this.uZ=[x.ET,x.u6];
var i=this.zV[0],L=Q.aW.alC(x.ET,x.u6,i.Mw),B=ei.Th(x.ET,L);if(x.ET=="fade"||x.ET=="matc"||x.ET=="aply")B=x.u6;
if(B!=null){for(var D=0;D<this.zV.length;D++){var Z=this.zV[D];if(x.lP)f.Yy(Z.Mw,Z.lB);else if(x.ET=="fade"){var j=b_.Sa(x.u6.Md.v.BlnM),a=x.u6.Opct.v.val/100,b=A.nW().data[D];
f.Yy(b.Mw,Z.lB);if(j=="norm")f.q.Zd(Z.Mw,Z.G8,Z.lB,Z.G8,null,null,null,Z.G8,a);else{var W=ct.rC();W.Oe=!0;
for(var F=0;F<b.Mw.length;F+=4)if(b.Mw[F+3]!=Z.Mw[F+3]){W=null;break}f.q.lx(j,Z.Mw,Z.G8,Z.lB,Z.G8,Z.G8,a,W)}}else if(x.ET=="matc"){var c;
if(B.noReference&&B.noReference.v)c=Z.Mw;else{var Y=B.Srce.v,R=Y[1].v.val,$=z.qS,k=A;for(var F=0;F<$.length;
F++)if($[F].name==R)k=$[F];var w=Q.aW.aup(k,A,Y[0],Z);c=w[0]}fa(Z.Mw,Z.G8.m,Z.G8.n,c,Z.lB,[B.Lght.v,B.ClrR.v,B.Fade.v,B.neutralizeColor?B.neutralizeColor.v:!1])}else if(x.ET=="aply"){B=B.With.v;
var V=B.T.v,w=Q.aW.aup(A,A,V[1],Z),c=w[0],h=w[1],l=B.Clcl?B.Clcl.v.Clcn:null,j=l?b_.Sa(l):"norm",a=B.Opct?B.Opct.v.val/100:1,M=["RGB","Rd","Grn","Bl","Trsp"].indexOf(V[0].v.enum),L=B.Invr&&B.Invr.v;
if(L||M!=0){c=c.slice(0);if(L)f.a0V(c);if(M!=0){var q=f.C(h.$());f.XN(c,q,M-1);if(M==4)f.Qs(q);for(var t=0;
t<3;t++)f.c8(q,c,t)}}if(l=="Add"||l=="Sbtr"){var p=1/B.Scl.v,E=B.Ofst.v,_=l=="Add"?1:-1,S=new Uint8ClampedArray(Z.lB.buffer);
for(var F=0;F<c.length;F+=4){S[F]=(Z.Mw[F]+_*c[F])*p+E;S[F+1]=(Z.Mw[F+1]+_*c[F+1])*p+E;S[F+2]=(Z.Mw[F+2]+_*c[F+2])*p+E}}else{var W=ct.rC();
W.Oe=B.PrsT&&B.PrsT.v;Z.lB.fill(0);Z.lB.set(Z.Mw);f.q.lx(j,c,h,Z.lB,Z.G8,Z.G8,a,W)}}else ei.$B(B,Z.Mw,Z.lB,Z.G8)}Q.aW.vB(A,this.zV)}}if(x.d=="cancel"){Q.aW.a6l(A,this.zV);
this.zV=null}if(x.d=="confirm"){var y={fade:[2,11],aply:[2,12],matc:[4,18]},v=y[x.ET];if(v==null)v=ei.names[x.ET];
var r=ei.se(x.ET,this.uZ[1]);if(r!=-1)v=[4,16,r];Q.aW.Uc(A,this.zV,v,this);this.zV=null;if(r==-1)Q.aW.x8(z,this.uZ)}A.i()};
Q.aW.x8=function(x,z){var A=z[0],o=z[1],i,L;if(ei.Nb[A]){i=ei.Nb[A];if(T[A])L=o}if(h6.Nb[A]){i=h6.Nb[A];
if(T[A])L=o}if(A=="fade"){i="fade";L=o}if(A=="matc"){i="matchColor";L=o}if(A=="aply"){i="applyImageEvent";
L=o}if(i==null)return;var B=new fZ(G.E.rm,!0);B.data={_g:!0,zR:i};if(L){L=JSON.parse(JSON.stringify(L));
L.classID="null";delete L.__name;B.data.k7=L}x.c(B)};Q.aW.a6l=function(x,z){Q.aW.cA(x,z)};Q.aW.Uc=function(x,z,A,o){for(var F=0;
F<z.length;F++){var i=z[F],L=x.g[i.j],B=i.j<0?x.lX[-1-i.j]:i.dm<=0?null:i.dm==1?L.dP():L.zg(x).B;if(B){B.wr();
B.h9=!0;if(L)L.cm(x)}else{L.wr();L.i()}delete i.lB;delete i.Gu}var D=new j$(A,o);D.data=z;x.U7(D);x.bg=!0};
Q.aW.vB=function(x,z,A){for(var F=0;F<z.length;F++){var o=z[F],i=x.g[o.j],L=A?o.Mw:o.lB,B=o.G8;if(o.dm==0){i.extend(B);
if(o.Gu){f.mV(o.Mw,B,i.buffer,i.rect);f.q.Zd(L,B,i.buffer,i.rect,o.Gu,B,0,B,1)}else f.mV(L,B,i.buffer,i.rect)}else{var D=o.j<0?x.lX[-1-o.j]:o.dm==1?i.dP():i.zg(x).B;
D.extend(B);if(o.Gu){var Z=f.C(B.$()*4);f.Yy(o.Mw,Z);f.q.Zd(L,B,Z,B,o.Gu,B,0,B,1);Q.sg.qF(Z,B,D)}else Q.sg.qF(L,B,D);
D.h9=!0;if(i)i.cm(x)}if(i)i.i()}if(!A)Q.aW.aaC(x,z)};Q.aW.cA=function(x,z){for(var F=0;F<z.length;F++){var A=z[F],o=x.g[A.j],i=A.G8,L=f.C(i.$()*4);
if(A.dm==0){f.mV(o.buffer,o.rect,L,i);o.extend(i);f.mV(A.Mw,i,o.buffer,o.rect);o.wr()}else{var B=A.j<0?x.lX[-1-A.j]:A.dm==1?o.dP():o.zg(x).B;
Q.sg.HL(B.channel,B.rect,B.color,L,i);B.extend(i);Q.sg.qF(A.Mw,i,B);B.wr();B.h9=!0;if(o)o.cm(x)}A.Mw=L;
if(o)o.i()}x.bg=!0};Q.aW.aaC=function(x,z){var A=Q.aW.ask(x),o=~A;if(A==16777215)return;for(var F=0;
F<z.length;F++){var i=z[F],L=x.g[i.j],B=i.G8;if(i.dm!=0)continue;L.extend(B);var D=B.x-L.rect.x,Z=B.y-L.rect.y,j=L.rect.m,a=new Uint32Array(i.Mw.buffer),b=new Uint32Array(L.buffer.buffer);
for(var W=0;W<B.n;W++)for(var c=0;c<B.m;c++){var Y=W*B.m+c,R=(W+Z)*j+(c+D);b[R]=b[R]&A|a[Y]&o}L.wr();
L.i()}x.i()};Q.aW.ask=function(x){var z=x.t.u1;return z[2]*16711680|z[1]*65280|z[0]*255};Q.aW.prototype.a_=function(x,z){var A=z.g[x.j];
if(x.IO!=null)A.add[ei.get(A.add)]=x.IO;else Q.aW.cA(z,x);z.i()};Q.aW.prototype.IR=function(x,z){var A=z.g[x.j];
if(x.IO!=null)A.add[ei.get(A.add)]=x.NI;else Q.aW.cA(z,x);z.i()};Q.O$=function(){Q.He.call(this,"Filter Edit",Q.qI);
this.zV=null;this.de=null;this.d=null;this.uZ=null};Q.O$.prototype=new Q.He;Q.O$.prototype.A1=function(x,z,A,o,i){if(x.d=="start"){if(A.f.length==0)return;
var L=A.g[A.f[0]];if(L.add.SoLd&&L.ZD<=0&&A.CE.length==0){}else if(!A.L0(z,null,!0))return;var B=x.ET;
if((T[B]||h6.T[B])&&x.u6==null){if(A.f.length!=1)alert("Will be applied to "+A.f.length+" layers.");
var D=new fZ(G.E.Y,!0);D.data=Q.O$.apg(B,this.EW(A,B));z.c(D)}else{var Z={d:"edit",ET:B,u6:x.u6,CH:this.EW(A)};
this.A1(Z,z,A,o,i);Z.d="confirm";delete Z.u6;this.A1(Z,z,A,o,i)}}if(x.d=="edit"||x.d=="cancel"||x.d=="confirm"){if(x.d=="edit")this.uZ=[x.ET,x.u6];
if(x.CH)this.avf(x,z,A,i);else this.alh(x,z,A,i)}if(x.d=="applylast"&&this.uZ!=null){var Z={d:"edit",ET:this.uZ[0],u6:this.uZ[1],CH:this.EW(A)};
this.A1(Z,z,A,o,i);Z.d="confirm";delete Z.u6;this.A1(Z,z,A,o,i)}};Q.O$.apg=function(x,z){var A=h6.T[x];
if(A)return{d:G.U.hV,k:A,uS:{CH:z}};else return{d:G.U.z1,ca:"afw_"+x,CH:z}};Q.O$.prototype.EW=function(x,z){var A=x.g[x.f[0]],o;
if(A.add.SoLd&&A.ZD<=0&&x.CE.length==0){o={j:x.f[0],index:0};if(A.add.SoLd.filterFX!=null){var i=A.add.SoLd.filterFX.v.filterFXList.v;
o.index=i.length;for(var F=0;F<i.length;F++)if(h6.kn(i[F].v)==z&&h6.T[z])o.index=F}}return o};Q.O$.prototype.avf=function(x,z,A,o){var i=A.g[x.CH.j],L=x.ET;
if(x.d=="edit"){if(this.d==null){var B=h6.names[L];if(B==null)B=ei.names[L];if(L=="blendOptions")B=[14,10];
this.d=new j$(B,this);this.d.data={CH:x.CH,apJ:JSON.parse(JSON.stringify(i.add.SoLd))}}if(!i.Mi()){i.add.SoLd.filterFX=h6.NW();
this.d.data.nO=ew.aew(i.add.SoLd.placed.v);A.o2(this.d.data.nO);i._6(A)}var D=i.add.SoLd.filterFX.v.filterFXList.v;
if(D[x.CH.index]==null){D.push(h6.SB(L,o))}if(x.u6){D[x.CH.index].v.enab.v=x.lP!=!0;if(L=="blendOptions")D[x.CH.index].v.blendOptions.v=x.u6;
else D[x.CH.index].v.Fltr.v=x.u6}this.d.data.anO=JSON.parse(JSON.stringify(i.add.SoLd));this.IR(this.d.data,A)}if(x.d=="cancel"){if(this.d)this.a_(this.d.data,A);
this.d=null}if(x.d=="confirm"){if(this.d)A.U7(this.d);Q.aW.x8(z,this.uZ);this.d=null}};Q.O$.prototype.aD=function(x){return{w:x>>>16,a:x>>>8&255,s:x&255}};
Q.O$.prototype.alh=function(x,z,A,o){if(this.zV==null){var i=h6.BK(x.ET,x.u6);this.zV=Q.aW.getData(A,i.x!=0||i.y!=0)}if(x.d=="edit"){var L=JSON.stringify(x.u6);
if((x.u6==null||L!=this.de)&&x.lP!=!0)for(var F=0;F<this.zV.length;F++){var B=this.zV[F],D={rect:B.G8,buffer:B.Mw},Z={rect:B.G8,buffer:B.lB};
if(x.ET=="Avrg"&&B.Gu){D.buffer=B.Mw.slice(0);f._i(B.Gu,D.buffer)}h6.$B(x.ET,D,x.u6,this.aD(o.VJ),this.aD(o.GN),Z,[A.add.lnk2?A.add.lnk2:[],A.g[A.f[0]].dP(),A.lX,A.Dd()]);
if(x.ET=="Avrg"&&B.Gu){var j=B.Mw.length;for(var F=0;F<j;F+=4)B.lB[F+3]=B.Mw[F+3]}this.de=L}Q.aW.vB(A,this.zV,x.lP)}if(x.d=="cancel"){Q.aW.a6l(A,this.zV);
this.zV=null;this.de=null}if(x.d=="confirm"){Q.aW.Uc(A,this.zV,h6.names[x.ET],this);this.zV=null;this.de=null;
Q.aW.x8(z,this.uZ)}A.i();A.bg=!0};Q.O$.prototype.a_=function(x,z){if(x.CH){var A=z.g[x.CH.j];if(x.nO)z.l8(x.nO);
A.add.SoLd=JSON.parse(JSON.stringify(x.apJ));if(A.Mi())A.J2(z);else{A._6(z);A.ZD=0}}else Q.aW.cA(z,x);
z.i();z.bg=!0};Q.O$.prototype.IR=function(x,z){if(x.CH){var A=z.g[x.CH.j];if(x.nO)z.o2(x.nO);A.add.SoLd=JSON.parse(JSON.stringify(x.anO));
if(A.Mi())A.J2(z);else A._6(z);if(!A.Qu())A.Fu+=32}else Q.aW.cA(z,x);z.i();z.bg=!0};var cu={_j:"0",s7:"1",HF:"2",a6:"3",X1:"4",bq:"5",lb:"6",ZK:"7",r:"8",E1:"8.5",ra:"8.8",IF:"9",Oc:"10",Qx:"11",NU:"12",kp:"13",jn:"14",bC:"15",xD:"16",NV:"21",gr:"22",Lu:"23",MU:"23.0",ne:"23.1",Su:"23.2",VV:"23.3",kh:"23.4",mX:"23.5",ge:"23.6",aco:"30",Iw:"31",UN:"40",DI:"41",Zz:"42"};
cu.Ek={};cu.Ek[cu.s7]=["abr","brushes",dG,[9,3]];cu.Ek[cu.HF]=["grd","gradients",hD,[12,37]];cu.Ek[cu.a6]=["shc","contours",a5,[12,21]];
cu.Ek[cu.X1]=["asl","styles",ex,[12,22]];cu.Ek[cu.bq]=["pat","patterns",aP,[12,62]];cu.Ek[cu.lb]=["csh","shapes",dF,[12,77]];
cu.Ek[cu.ZK]=["aco","swatches",hS,[9,8]];cu.Ek[cu.r]=["atn","actions",bP,[9,9]];cu.Ek[cu.E1]=["tpl","tpresets",cL,[9,12]];
cu.Ek[cu.ra]=["icc","profiles",jJ,"ICCs"];function j$(x,z,A){if(A==null)A=!1;this.name=x;this.k=z;this.EQ=A;
this.data=null;this.ain=Date.now()}var jd={};jd.uU=function(x,z){var A={t:"Clss",v:{classID:x}};if(z)A={t:"Enmr",v:{classID:x,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[A]}};jd.f3=function(x,z){var A={classID:"Lyr"};A[x]=z;return{zR:"set",k7:{classID:"null",null:jd.uU("Lyr",!0),T:{t:"Objc",v:A}}}};
jd.aiQ=function(x,z,A,o,i){var L=new fZ(G.E.rm,!0),B=[],F=0,D=jd.YX(z,A,o,B);while(B.length!=0){var Z=B.pop();
F++;if(!Z.K)continue;console.log(F-1);if(Z.zR=="conditional"){var j=x.g[x.f[0]],a=Z.k7.null.v.Cndt,b=!1;
if(a=="Bckg")b=!1;else if(a=="Pxel"&&x.Qi(!1))b=!0;else if(a=="Adjs"&&ei.get(j.add))b=!0;else if(a=="Shp"&&j.add.vogk)b=!0;
else if(a=="Grup"&&j.Q0())b=!0;else if(a=="Opn"&&x!=null)b=!0;else if(a=="32Bt")b=!1;else if(a=="RGB")b=!0;
var W=Z.k7.then,c=Z.k7.else;if(b&&W)jd.YX(z,W.v[0].v.val,W.v[1].v.val,B);if(!b&&c)jd.YX(z,c.v[0].v.val,c.v[1].v.val,B)}else if(Z.zR=="stop"){if(Z.k7.Cntn&&Z.k7.Cntn.v==!0)window.confirm(Z.k7.Msge.v);
else{alert(Z.k7.Msge.v);break}}else if(Z.zR=="play"){var Y=Z.k7.null.v,R=new fZ(G.E.Y,!0);R.data={d:G.U.wC,s5:[Y[0].v.val,Y[1].v.val]};
i.c(R)}else{L.data={zR:Z.zR,k7:Z.k7};i.c(L)}}};jd.YX=function(x,z,A,o){var i;for(var F=0;F<x.length;
F++){if(x[F]._4!=A)continue;var L=x[F].VK;for(var B=0;B<L.length;B++){if(L[B]._4!=z)continue;i=L[B].VK}}var D=i.length;
for(var F=0;F<D;F++)o.push(i[D-1-F])};jd.ak4=function(x){var z=x.zR,A=x.k7,o,B,D,Z,j;if(A&&A.null)o=A.null.v[0];
if(A&&o==null&&A.At)o=A.At.v[0];if(o&&o.t=="obj ")o=o.v[0];var i=o?o.v.classID:null,L=["purge"];if(L.indexOf(z)!=-1)return z[0].toUpperCase()+z.slice(1);
if(z=="GEfc"||z=="paintDaubs")return iT.names[A.GEfk.v.GEft][1];j=ei.Nb;for(B in j)if(j[B]==z)D=B;j=h6.Nb;
for(B in j)if(j[B]==z)Z=B;if(D){var a=ei.se(D,A);if(a!=-1)return[4,16,a];return ei.names[D]}if(Z)return h6.names[Z];
var b=jd.a7L;if(z=="make"){if(o){if(i=="AdjL")return[6,1];else if(i=="layerSection")return A.From?[6,9]:[6,20];
else if(i=="Lyr")return[6,13];else if(i=="Chnl"&&o.v.enum=="Msk")return[6,2];else if(i=="contentLayer")return[6,48,1];
else if(i=="BckL")return"Make Background Layer";else if(i=="Path")return"Make Path";else if(i=="TxLr")return"Make Text Layer";
else if(i=="slice")return"Make Slices"}if(A.Nw){i=A.Nw.v.classID;if(i=="Dcmn")return[11,7];else if(i=="Chnl"||i=="SCch")return"New Channel"}}else if(z=="deselect"){if(i=="Path")return"Deselect current path";
else throw i}else if(z=="select"){if(i=="Chnl")return"Select "+(o.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(i=="Mn")return"Select Panel \""+o.v.enum+"\"";else if(i=="Lyr"){if(o.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[o.v.enum]+" Layer";
return"Select Layer \""+o.v.val+"\""}else if(i=="Path")return"Select Path";else if(i=="Brsh")return"Select Brush";
else if(i=="Dcmn")return"Select Document"}else if(b[z]&&i=="Chnl"){var W=o.v.keyID=="fsel";return b[z]+" "+(W?"Selection":"Channel")}else if(z=="set"){if(i=="Lyr")return"Set Current Layer";
else if(i=="AdjL")return[6,39];else if(i=="contentLayer")return[6,48,2];else if(i=="Prpr"){var c=o.v.keyID;
if(c=="TxtS")return"Set Text Style";else if(c=="paragraphStyle")return"Set Paragraph Style";else if(c=="Lefx")return[11,6];
else console.log(c)}else if(i=="Clr")return"Set "+(o.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(i=="Brsh")return"Set Brush";else console.log(i)}else if(z=="move"){if(i=="Lyr")return"Move Layer";
else if(i=="Chnl"&&o.v.keyID=="fsel")return[7,7];else console.log(i)}else if(z=="show"||z=="hide"){var Y="";
if(i=="Lyr")+"Layer";if(i=="Chnl")+"Channel";return(z=="show"?"Show":"Hide")+" "+Y}else if(z=="reset"){if(i=="Clr")return"Reset Colors"}else if(z=="exchange"){if(i=="Clr")return[22,7,0]}else if(z=="rotateEventEnum")return[2,5];
else if(z=="flip"){var R=A.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,R?2:3]]}if(i=="Chnl"){if(z=="duplicate"){if(o.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(z=="delete")return"Delete Channel"}if(z=="transform")return o&&o.v.keyID=="fsel"?[7,10]:[10,16];
var $={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:A?i=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},k=$[z];
if(k==null)k=jd.aox[z];if(k)return k;return z};jd.aox={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
jd.a7L={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
jd.adg=function(x,z,A,o){var i=x.zR,L=x.k7,B=!1,D=new fZ(G.E.r,!0),a,b,W,c;D.k=Q.xu;var Z=new fZ(G.E.Y,!0),j=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(j.indexOf(i)!=-1)return;c=ei.Nb;for(a in c)if(c[a]==i)b=a;c=h6.Nb;for(a in c)if(c[a]==i)W=a;if(i=="fade")b=i;
if(i=="matchColor")b="matc";if(i=="applyImageEvent")b="aply";if(b){D.k=Q.v6;D.data={d:"start",Mo:b,u6:L}}else if(W){D.k=Q.qI;
D.data={d:"start",ET:W,u6:L}}else if(i=="GEfc"||i=="paintDaubs"){D.k=Q.qI;D.data={d:"start",ET:"GEfc",u6:L}}else if(i=="imageSize"||i=="canvasSize"||i=="revealAll"||i=="trim"||i=="crop"){D.k=Q.e_;
D.data={d:"fromAction",hz:x}}else if(i=="fill"||i=="stroke"||i=="delete"&&L==null){D.k=Q.s7;D.data={d:"fromAction",hz:x}}else if(i=="colorRange"){D.k=Q.dz;
D.data={d:"fromAction",hz:x}}else if(jd.aox[i]||jd.a7L[i]&&(!1||L.With&&L.With.v[0].v.keyID=="fsel"||L.From&&L.From.v[0].v.keyID=="fsel"||L.null&&L.null.v[0].v.keyID=="fsel"||L.T.v[0]&&L.T.v[0].v.keyID=="fsel")){D.k=Q.dz;
D.data={d:"fromAction",hz:x}}var Y={copyToLayer:g.EY,cutToLayer:g.FW,mergeLayersNew:g.wQ,rasterizeLayer:g.acZ,mergeVisible:g.gD,flattenImage:g.aoc,newPlacedLayer:g.$o};
if(Y[i])D.data={d:Y[i],k7:L};if(D.data){z.c(D);return}if(i=="collapseAllGroupsEvent"){for(var F=0;F<o.g.length;
F++){var R=o.g[F];if(R.Q0())R.add.lsct=hF.$Z}o.Gy=!0;return}if(i=="desaturate"){D.k=Q.v6;D.data={d:"auto",RZ:3};
if(o&&o.g[o.f[0]].add.SoLd==null)z.c(D);return}if(i=="close"){if(L.Svng.v.YsN=="Ys"){Z.data={d:G.U.ld};
z.c(Z)}Z.data={d:G.U.S8,QW:o};z.c(Z);return}if(i=="save"){Z.data={d:G.U.ld};z.c(Z);return}if(i=="copyMerged"){Z.data={d:G.U.Rv,JO:!0,Qp:!0};
z.c(Z);return}var Y={placedLayerEditContents:G.U.asa,copyEvent:G.U.Rv,paste:G.U.D5};if(Y[i])Z.data={d:Y[i],Qp:!0};
if(Z.data){z.c(Z);return}console.log(i,L);var $=L.null?L.null.v:null,k=$?$[0].v.classID:"";if(i=="make"){if(L.null==null&&L.Nw)k=L.Nw.v.classID;
if(k=="AdjL"){D.data={d:g.fR,k7:L}}else if(k=="layerSection"){D.data=L.From?{d:g.hi}:{d:g.XA};if(L.Usng){var w=L.Usng.v;
if(w.Nm)D.data.iB=w.Nm.v;if(w.Clr)D.data.xh=jd.Hq(w)}}else if(k=="Lyr"){if(L.Usng&&L.Usng.v.length==2)D.data={d:g.a6v};
else{D.data={d:g.Eq};if(L.Usng)D.data.iB=L.Usng.v.Nm.v;if(L.below&&L.below.v)D.data.aaN=!0}}else if(k=="Chnl"&&L.At&&L.At.v[0].v.enum=="Msk"){D.data={d:g.lE,Ym:L.Usng.v.UsrM}}else if(k=="Chnl"||k=="SCch"){D.data={d:g.sR,wa:"fromAction",h:x}}else if(k=="contentLayer"){D.data={d:g.$a,k7:L}}else if(k=="BckL"){o.g[o.f[0]].alr();
return}else if(k=="Dcmn"){var V=L.Nw.v;Z.data={d:G.U.du,m5:ew.al4(V,A)}}else if(k=="Ptrn")Z.data={d:G.U.Tu,Hl:0};
else if(k=="Path"){D.k=Q.n7;D.data={d:"pathedit",wa:"fromsel"}}else if(k=="TxLr"){D.k=Q.Mb;D.data={d:"fromAction",hz:x}}else if(k=="slice"){D.k=Q.eV;
D.data={d:"fromAction",hz:x}}else{console.log(i,k,L);throw"e"}}else if(i=="deselect"){if(k=="Path"){o.Dt=[];
o.Gy=o.o$=!0;return}else throw k}else if(i=="selectNoLayers"){o.f=[];o.bg=!0}else if(i=="select"){var h={PcTl:Q.AN,PbTl:Q.s7,magicWandTool:Q.J5};
if(k=="Lyr"){var l=L.selectionModifier,M=l?l.v.selectionModifierType:null,q=jd.aG(o,$[0]);if(q==-1){alert("Layer "+$[0].v.val+" does not exist.");
return}D.data={d:g.LD,j:q,Il:M?["addToSelection","addToSelectionContinuous"].indexOf(M):null,IG:0}}else if(k=="Path"){if($[0].v.keyID=="WrPt"){o.Dt=[0];
o.Gy=o.o$=!0;return}else throw $[0]}else if(k=="Chnl"){D.data={d:g.LD,j:q,IG:1}}else if(k=="Dcmn"){if(z.qS.length<2)return;
Z.data={d:G.U.a8F,dir:L.null.v[0].v.val}}else if(k=="Brsh"){var t=A.I9.list,p;for(var F=0;F<t.length;
F++){if(t[F].v.Nm.v==$[0].v.val)p=t[F].v}Z.data={d:G.U.nF,Hl:cu.jn,Zj:p}}else if(k=="Mn"){if($[0].v.enum=="Scl")Z.data={d:G.U.hV,k:Q.fT,uS:{Ym:3}};
if($[0].v.enum=="Plce")Z.data={d:G.U.vP,a8k:!0};if($[0].v.enum=="ZmIn"){D.k=Q.WQ;D.data={d:"zoom",gE:!0}}if($[0].v.enum=="ZmOt"){D.k=Q.WQ;
D.data={d:"zoom",gE:!1}}if($[0].v.enum=="FtOn"){D.k=Q.WQ;D.data={d:"adapt",h:"fitscr"}}}else if(h[k]){Z.data={d:G.U.hV,k:h[k]}}else throw k}else if((i=="set"||i=="reset"||i=="exchange")&&k=="Clr"){Z.data={d:G.U.nF,Hl:cu.NV,wa:i=="reset"?3:2};
if(i=="set"){Z.data.wa=$[0].v.keyID=="FrgC"?0:1;var _=f.Q.Pw(L.T.v);Z.data.h=_.w<<16|_.a<<8|_.s}}else if(i=="set"){if(k=="AdjL"){var S=L.T.v.classID;
S=ei.gO[S];D.k=Q.v6;if(S)D.data={d:"edit_layer",h:L.T.v}}else if(k=="Lyr"){var y=L.T.v,q=jd.aG(o,$[0]);
for(var v in y){if(v=="classID")continue;D.k=Q.xu;if(v=="Nm")D.data={d:g.Vy,name:y.Nm.v};else if(v=="Opct")D.data={d:g.ce,NI:Math.round(y.Opct.v.val*255/100)};
else if(v=="fillOpacity")D.data={d:g.V$,NI:Math.round(y.fillOpacity.v.val*255/100)};else if(v=="Md")D.data={d:g.ya,NI:b_.p3.indexOf(y.Md.v.BlnM)+(o.g[q].Q0()?1:0)};
else if(v=="Usrs")D.data={d:g.FD,j:q};else if(v=="Blnd"){D.k=Q.je;D.data={d:"setstl",j:q,h:{blendOptions:{t:"objc",v:y}}};
z.c(D);D.data={d:"confirm",j:q}}else if(v=="userMaskFeather"||v=="userMaskDensity"){var r=y.userMaskFeather,K=y.userMaskDensity,q=o.f[0],s=o.g[q].d4(0);
if(r)s.FO=r.v.val;if(K)s.J6=K.v.val;D.data={d:g.FT,Tt:q,Wp:s}}else if(v=="Clr"){var P=jd.Hq(y);D.data={d:g.O7,atW:P}}else if(v=="Lefx")jd.adG(z,q,y.Lefx.v);
else{console.log(L);throw v}if(D.data){z.c(D);delete D.data}}D.data={};var R=o.g[q];R.awa()}else if(k=="Prpr"){var y=JSON.parse(JSON.stringify(L.T.v)),q=jd.aG(o,L.null.v[1]),R=o.g[q],d=$[0].v.keyID;
if(d=="TxtS"||d=="paragraphStyle"){var X=R.add.TySh,U=JSON.parse(JSON.stringify(X.gP)),n=am.FP(U),e=am.En(U,0,n.length-2);
if(d=="TxtS")am.a7r(y,e);else am.a1W(y,e);am.zz(U,0,n.length-1,e);D.k=Q.Mb;D.data={d:"newED",XC:q,M6:U}}else if(d=="Lefx"){for(var J in y)if(y[J].v){if(J=="Scl")y[J].v.val=100;
if(y[J].v.TrnS&&y[J].v.TrnS.v.Crv==null){y[J].v.TrnS=JSON.parse(gN.NK[9]).TrnS}}jd.adG(z,q,y);D.data={}}else throw d}else if(k=="contentLayer"){var q=jd.aG(o,$[0]),y=L.T.v;
if(y.classID=="shapeStyle")y=y.FlCn.v;var C={solidColorLayer:0,gradientLayer:1,patternLayer:2}[y.classID],H=Q.YG.N2(o,q),W=H.ks==C+1?H.Kb:gN.Xl[C];
W=JSON.parse(JSON.stringify(W));Q.J3.WY(y,W,C);D.data={d:g.rZ,P$:[q],Dj:!0,h:{ks:C+1,Kb:W}}}else if(k=="Brsh"){var p=JSON.parse(JSON.stringify(A.I9.oJ)),u=L.T.v;
if(u.masterDiameter)p.Brsh.v.Dmtr.v.val=u.masterDiameter.v.val;else console.log("unknown brush parameters");
Z.data={d:G.U.nF,Hl:cu.jn,Zj:p}}else{console.log($[0],L);throw k}}else if(i=="move"){if(k=="Lyr"){var y=L.T.v;
if(y.classID=="Ofst"){D.data={d:"trsl",Ay:y.Hrzn.v.val,CP:y.Vrtc.v.val};D.k=Q.ah}else{var bc,jK;if(y[0].t=="Enmr"){if(y[0].v.enum=="Frnt")jK=0;
else if(y[0].v.enum=="Nxt")jK=1;else if(y[0].v.enum=="Prvs")jK=2;else if(y[0].v.enum=="Back")jK=3;else throw"e"}else bc=y[0].v.val;
D.data={d:g.k_,target:bc,wa:jK,a6C:L.Dplc?L.Dplc.v:!1}}}else if(k=="Chnl"&&$[0].v.keyID=="fsel"){D.k=Q.dz;
D.data={d:"fromAction",hz:x}}}else if(i=="groupEvent"||i=="ungroup")D.data={d:g.aQ};else if(i=="show"||i=="hide"){var N=$[0].v;
for(var F=0;F<N.length;F++){var he=N[F],k=he.v.classID;if(k=="Lyr"){if(D.data==null)D.data={d:g.D7,P$:[]};
var q=jd.aG(o,he);if(q==-1)continue;var gJ=o.g[q].Gi();if(i=="show"&&gJ||i=="hide"&&!gJ)continue;D.data.P$.push(q)}else if(k=="Chnl"){D.data={d:g.sR,wa:"fromAction",h:x}}else if(k=="filterFX"){if(he.v.val!=null)D.data={d:g.kP,index:he.v.val-1};
D.data={d:g._k}}}}else if(i=="rotateEventEnum"){D.k=Q.e_;var kg=L.Angl.v.val;D.data={d:"rot",_4:[2,5],h:-kg*Math.PI/180}}else if(i=="flip"){D.k=Q.e_;
var cJ=L.Axis.v.Ornt=="Hrzn",it=cJ?new iL(-1,1):new iL(1,-1);D.data={d:"scl",_4:[[2,6],[22,4,cJ?2:3]],h:it}}else if(i=="transform"){var by=1,cz=1,fG=0,ju=0,gW=0,iI=0,ht=0;
if(L.Wdth)by=L.Wdth.v.val/100;if(L.Hght)cz=L.Hght.v.val/100;if(L.Skew){var et=L.Skew.v;fG=et.Hrzn.v.val;
ju=et.Vrtc.v.val}if(L.Ofst){var be=L.Ofst.v;iI=be.Hrzn.v.val;ht=be.Vrtc.v.val}if(L.Angl)gW=L.Angl.v.val;
var c9=new cb;c9.concat(new cb(by,by*Math.tan(ju*Math.PI/180),cz*Math.tan(fG*Math.PI/180),cz,0,0));c9.rotate(-gW*Math.PI/180);
c9.translate(iI,ht);var aJ={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[L.FTcs.v.QCSt];
if(aJ==null)throw L.FTcs.v.QCSt;var $=L.null;if($&&$.v instanceof Array)$=$.v[0];var q=$?jd.aG(o,$):null;
if(q==-1)q=null;D.k=$&&$.v.keyID=="fsel"?Q.yz:Q.fT;D.data={d:"mat",NG:aJ,h:c9}}else if(i=="duplicate"){if(k=="Chnl")D.data={d:g.sR,wa:"fromAction",h:x};
else D.data={d:g.Xm,iB:L.Nm?L.Nm.v:null}}else if(i=="delete"){if(k=="filterFX"){if($[0].v.val!=null)D.data={d:g.q4,Za:$[0].v.val-1};
else D.data={d:g.jC}}else if(k=="Path"){D.k=Q.n7;D.data={d:"pathedit",wa:"del"}}else if(k=="Lyr")D.data={d:g.vn};
else if(k=="Chnl"&&$[0].v.enum=="Msk")D.data={d:g.__};else if(k=="Chnl")D.data={d:g.sR,wa:"fromAction",h:x};
else throw k}else if(i=="align"){if(L.Aply&&L.Aply.v.projection=="Auto"){D.k=Q.e_;D.data={d:"auto-align"}}else{D.k=Q.ah;
var b6=L.Usng.v.ADSt,b={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[b6];if(b==null)throw b6;D.data={d:"algn",h:b}}}else if(i=="applyLocking"){var ef=L.layerLocking.v,jV;
if(ef.protectTransparency)jV=[[ef.protectTransparency.v],[0]];else if(ef.protectNone)jV=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(ef);throw"e"}D.data={d:g.wF,NI:jV}}if(D.data)z.c(D);else if(Z.data)z.c(Z);else{console.log(x);
alert("Unknown action \""+i+"\"");throw"e"}};jd.adG=function(x,z,A){A=JSON.parse(JSON.stringify(A));
ap.dy(A);if(A.masterFXSwitch==null)A.masterFXSwitch={t:"bool",v:!0};var o=new fZ(G.E.r,!0);o.k=Q.je;
o.data={d:"setstl",j:z,h:{Lefx:{t:"objc",v:A}}};x.c(o);o.data={d:"confirm",j:z};x.c(o)};jd.Hq=function(x){var z={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[x.Clr.v.Clr];
if(z==null)throw x.Clr.v.Clr;return z};jd.aG=function(x,z){var A=1e6,o=0,i=x.g.length;for(var F=0;F<x.f.length;
F++){A=Math.min(A,x.f[F]);o=Math.max(o,x.f[F])}var L=z.t,B=-1;if(L=="name"){var D=z.v.val,B=-1;for(var F=0;
F<i;F++)if(x.g[F].getName()==D){B=F;break}}else if(L=="Enmr"){if(x.f.length!=0)B=x.f[0];if(z.v.enum=="Frwr")B=o+1;
if(z.v.enum=="Bckw")B=A-1;if(z.v.enum=="Back")B=0;if(z.v.enum=="Frnt")B=i-1;B=(B+i)%i}else if(L=="prop"){if(z.v.keyID=="Bckg")B=0}return B};
var ei={};ei.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
ei.arj=["expA","clrL","selc"];ei.oC=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];ei.asz=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
ei.$h=[[13,1,1],[13,1,4],[13,1,5]];ei.bc={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
ei.gO=function(){var x=JSON.parse(JSON.stringify(ei.bc));delete x.GrMp;x.GdMp="grdm";return x}();ei.Nb={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
ei.keys={levl:[bJ.RI,bJ.KI],curv:[bJ.RI,bJ.Iv],hue2:[bJ.RI,bJ.yt],nvrt:[bJ.RI,bJ.Ti],blnc:[bJ.RI,bJ.Hu]};
ei.a9o=function(x){var z=h6.d6("mixr");z.Mnch={t:"bool",v:x.sV};function A(o,F){var i={classID:"ChMx"},L={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var B in L)i[B]={t:"UntF",v:{type:"#Prc",val:o[F+L[B]]}};return{t:"Objc",v:i}}if(x.sV)z.Gry=A(x.h,0);
else{z.Rd=A(x.h,0);z.Grn=A(x.h,5);z.Bl=A(x.h,10)}return z};ei.cQ=function(x){function z(o,i,F){var L={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var B in L)if(o[B])i[F+L[B]]=o[B].v.val}var A={sV:!1,h:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(x.Mnch&&x.Mnch.v)A.sV=!0;if(A.sV)z(x.Gry.v,A.h,0);else{z(x.Rd.v,A.h,0);z(x.Grn.v,A.h,5);z(x.Bl.v,A.h,10)}return A};
ei.get=function(x){for(var z in ei.names)if(x[z]!=null)return z;return null};ei.Th=function(x,z){var A=ei.Ri,o;
if(x=="brit"){var i=z.Brgh?z.Brgh.v:0,L=z.Cntr?z.Cntr.v:0,B=z.useLegacy?z.useLegacy.v:!1;if(B){var D=i/255,Z=1+L/100;
if(Z>1)Z=1+Math.tan(Math.PI/2*L/101);var j=(1-Z)/2,a=f.ZJ.jd(D,D,D),b=[Z,0,0,j,0,Z,0,j,0,0,Z,j,0,0,0,1],W=f.ZJ.multiply(a,b),c=new f.mz(256);
for(var F=0;F<256;F++)c.w[F]=F;f.ZJ.transform(c,c,W);o={type:A.IS,BS:c.w,ph:c.w,ul:c.w,Na:!1,Ur:!1}}else{var Y=1024,R=-30+60*(L+100)/200,$=[];
for(var F=0;F<4;F++)$.push(f.tt.pf(F/3*255,F/3*255,!0));$[1].v.Hrzn.v=64;$[1].v.Vrtc.v=64-R;$[2].v.Hrzn.v=128+64;
$[2].v.Vrtc.v=128+64+R;$.sort(function(iN,gc){return iN.v.Hrzn.v-gc.v.Hrzn.v});var k=f.tt.Z8($,Y);function w(iN,Y){var $=[],f5=3;
for(var F=0;F<f5+1;F++)$.push(f.tt.pf(F/f5*255,F/f5*255,!0));$[1].v.Hrzn.v=130-iN*26;$[1].v.Vrtc.v=130+iN*51;
$[2].v.Hrzn.v=233-iN*48;$[2].v.Vrtc.v=233+iN*10;return f.tt.Z8($,Y)}var V=w(Math.abs(i)/100,Y);if(i<0){var h=[],l=1/Y;
for(var F=0;F<Y;F++){var M=F*l,q=F;while(V[q]>M&&q>1)q--;h[F]=q*l}V=h}var t=new Uint8Array(Y);for(var F=0;
F<Y;F++){var p=Math.round((Y-1)*V[F]);t[F]=Math.round(255*k[p])}o={type:A.IS,BS:t,ph:t,ul:t,Na:!1,Ur:!1}}}if(x=="levl"){var E=[],_,S,a,y,v,r;
for(var F=0;F<4;F++)E.push(gy.FL(z,F));_=-E[0][0]/255;S=1/(E[0][1]/255-E[0][0]/255);a=f.ZJ.multiply(f.ZJ.PN(S,S,S),f.ZJ.jd(_,_,_));
y=f.ZJ.PN(1/(E[1][1]/255-E[1][0]/255),1/(E[2][1]/255-E[2][0]/255),1/(E[3][1]/255-E[3][0]/255));v=f.ZJ.jd(-E[1][0]/255,-E[2][0]/255,-E[3][0]/255);
r=f.ZJ.multiply(y,v);var t=new f.mz(256);for(var F=0;F<256;F++)t.w[F]=t.a[F]=t.s[F]=F;var K=1/(E[0][4]/100),s=1/(E[1][4]/100),P=1/(E[2][4]/100),d=1/(E[3][4]/100);
f.ZJ.transform(t,t,r);for(var F=0;F<256;F++){t.w[F]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.w[F]/255,s))));
t.a[F]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.a[F]/255,P))));t.s[F]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.s[F]/255,d))))}f.ZJ.transform(t,t,a);
for(var F=0;F<256;F++){t.w[F]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.w[F]/255,K))));t.a[F]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.a[F]/255,K))));
t.s[F]=Math.round(Math.max(0,Math.min(255,255*Math.pow(t.s[F]/255,K))))}_=E[0][2]/255;S=E[0][3]/255-E[0][2]/255;
a=f.ZJ.multiply(f.ZJ.jd(_,_,_),f.ZJ.PN(S,S,S));y=f.ZJ.PN(E[1][3]/255-E[1][2]/255,E[2][3]/255-E[2][2]/255,E[3][3]/255-E[3][2]/255);
v=f.ZJ.jd(E[1][2]/255,E[2][2]/255,E[3][2]/255);r=f.ZJ.multiply(v,y);f.ZJ.transform(t,t,f.ZJ.multiply(a,r));
o={type:A.IS,BS:t.w,ph:t.a,ul:t.s,Na:!1,Ur:!1}}if(x=="curv"){var X=e8.FL(z,0).length==256?1:0,U=[];if(X==0){var n=f.tt.PZ(e8.FL(z,0),256);
for(var F=1;F<4;F++){var e=f.tt.PZ(e8.FL(z,F),256);U.push(f.tt.qM(e,n))}}else{var J=[];for(var F=0;F<4;
F++){var C=new Uint8Array(256);J.push(C);var H=e8.FL(z,F);for(var q=0;q<256;q++)C[q]=H[q]}for(var F=1;
F<4;F++)U.push(f.tt.qM(J[F],J[0]))}o={type:A.IS,BS:U[0],ph:U[1],ul:U[2],Na:!1,Ur:!1}}if(x=="expA"){var u=z.Exps,bc=z.Ofst,jK=z.gammaCorrection,N=u?u.v:0,he=bc?bc.v:0,gJ=jK?jK.v:1,t=new Uint8Array(256);
for(var F=0;F<256;F++){var z=F/255,kg=Math.pow(Math.abs(he),1/(Math.PI/2));if(he>0){z=Math.max(he/Math.E,z);
z=z*Math.exp(he/1.75+N/Math.PI);z=(1-kg)*z+kg*1}else{z=z*Math.exp(-he*1.75+N/Math.PI);z=z+-kg*1.14}z=Math.pow(z,1/gJ);
z=Math.max(0,Math.min(1,z));t[F]=Math.round(z*255)}o={type:A.IS,BS:t,ph:t,ul:t,Na:!1,Ur:!1}}if(x=="vibA"){var cJ=(z.vibrance?z.vibrance.v:0)/100,it=(z.Strt?z.Strt.v:0)/100,kg=1+cJ*(cJ>0?.25:.5),by=.8+.2/kg;
o={type:A.k8,Hl:[cJ,it,by,kg]}}if(x=="hue2"){var cz=[],fG=[],ju=[],gW=z.Clrz?z.Clrz.v:!1;for(var F=0;
F<256;F++){cz[F]=F/255;fG[F]=0;ju[F]=0}var iI=cA.FL(z,0),ht=ei.VM(iI[1]/100);if(gW){var et=iI[0]/360;
for(var F=0;F<256;F++){cz[F]=et;fG[F]=ht}}else{for(var F=0;F<256;F++){var be=cz[F],c9=fG[F];cz[F]+=iI[0]/360;
for(var q=0;q<6;q++){var aJ=cA.FL(z,q+1),b6=aJ.zS,ef=aJ.eL,kg=0;for(var jV=1;jV<4;jV++)if(ef[jV]<ef[0])ef[jV]+=360;
var hu=ef[0],eG=ef[1],k8=ef[2],eE=ef[3],jD=be*360;if(jD<ef[0])jD+=360;var a_=(jD-hu)/(eG-hu),cH=(jD-k8)/(eE-k8);
if(a_<0)kg=0;else if(a_<1)kg=a_;else if(cH<0)kg=1;else if(cH<1)kg=1-cH;else kg=0;var Z=ei.VM(b6[1]/100);
cz[F]+=kg*b6[0]/360;fG[F]+=kg*Z;ju[F]+=kg*b6[2]/100}}for(var F=0;F<256;F++){fG[F]=(1+fG[F])*(1+ht)-1;
ju[F]=Math.max(-1,Math.min(1,ju[F]))}}var ic=new Uint8Array(256),aj=new Uint8Array(256),ay=new Uint8Array(256);
for(var F=0;F<256;F++){var dS=cz[F],it=fG[F],hC=ju[F];if(dS>1)dS--;if(dS<0)dS++;it=ei.avG(it);it=(1+it)*.5;
hC=(1+hC)*.5;ic[F]=Math.round(255*dS);aj[F]=Math.round(255*it);ay[F]=Math.round(255*hC)}var eq=iI[2]/100,ck=eq<0?-eq:eq,eL=eq<0?0:1;
o={type:A.Dn,ahb:ic,$t:aj,atZ:ay,a8s:ck*eL,ri:1-ck,ajT:iI[2]/100,a3x:gW?1:0}}if(x=="nvrt"){var t=new Uint8Array(256);
for(var F=0;F<256;F++)t[F]=255-F;o={type:A.IS,BS:t,ph:t,ul:t,Na:!1,Ur:!1}}if(x=="post"){var gj=z.Lvls.v,t=new Uint8Array(256),kg=gj/255.001,bv=255/(gj-1);
for(var F=0;F<256;F++)t[F]=Math.floor(F*kg)*bv;o={type:A.IS,BS:t,ph:t,ul:t,Na:!1,Ur:!1}}if(x=="grdm"){var dK=z.Grad.v,cC=z.Rvrs,Y=1024,iv;
if(dK.Clrs){var dJ=f.Q.PV(dK.Clrs.v,0,0);iv=f.Q.qz(dK,dJ,Y,cC?cC.v:!1)}else{iv=f.Q.Ip(dK,Y,cC?cC.v:!1)}var km=f.C(Y),aM=f.C(Y),fq=f.C(Y);
f.XN(iv,km,0);f.XN(iv,aM,1);f.XN(iv,fq,2);o={type:A.IS,BS:km,ph:aM,ul:fq,Na:!0,Ur:!1}}if(x=="selc"){var dV=new Float32Array(9*3*2),im=z.w4,hj=z.Mthd?z.Mthd.v.CrcM=="Absl":!1;
for(var q=0;q<9;q++){var d8=q*6,cI=cp.FL(z,q),gD=cI[0]/100,iw=cI[1]/100,e3=cI[2]/100,c5=cI[3]/100;if(hj){dV[d8]=dV[d8+1]=dV[d8+2]=1;
dV[d8+3]=gD*(1+c5)+c5;dV[d8+4]=iw*(1+c5)+c5;dV[d8+5]=e3*(1+c5)+c5}else{dV[d8+0]=(1+gD)*(1+c5);dV[d8+1]=(1+iw)*(1+c5);
dV[d8+2]=(1+e3)*(1+c5)}}o={type:A.vg,avQ:dV}}if(x=="blwh"){var eT="Rd Yllw Grn Cyn Bl Mgnt".split(" "),o=[],gk=0,eA=0;
for(var F=0;F<6;F++)o.push(z[eT[F]].v);o.push(z.useTint.v,z.tintColor.v);var iO=[];for(var F=0;F<6;F++)iO.push((o[F]-50)/50);
var hW=f.Q.Pw(o[7]);hW.w/=255;hW.a/=255;hW.s/=255;var j5=f._$(hW.w,hW.a,hW.s),hC=f.Ps(f.ug(j5.zp,1,.5)),aL=j5.Ww*j5.u6;
if(hC==.5)gk=eA=.5;else{gk=aL*(.5-hC)/(.5/hC-1);eA=1-aL*(.5-hC)-1/(2*(1-hC));eA/=1-1/(2*(1-hC))}o={type:A.eD,aq7:iO,Zr:o[6]?1:0,akv:j5.zp,Ps:hC,a6K:aL,c$:gk,app:eA}}if(x=="blnc"){var E=[],gF=["ShdL","MdtL","HghL"];
for(var F=0;F<3;F++){if(z[gF[F]]==null){E[F]=[0,0,0];continue}var gj=z[gF[F]].v,bB=gj[0].v/100,ix=gj[1].v/100,ab=gj[2].v/100,ez=z.PrsL==null||z.PrsL.v?(Math.min(bB,ix,ab)+Math.max(bB,ix,ab))/2:0;
E[F]=[bB-ez,ix-ez,ab-ez]}var U=[f.C(256),f.C(256),f.C(256)];for(var q=0;q<3;q++)for(var F=0;F<256;F++){var M=F*(1/255),cM=0,R=0,ib=0;
R=E[2][q];ib=Math.abs(R);if(R<0)cM=Math.pow(M,Math.SQRT2);else cM=1.63*(Math.pow(M+.04,.5)-.2);M=ib*cM+(1-ib)*M;
R=E[1][q];ib=Math.abs(R);if(R<0)cM=Math.pow(M,2);else cM=Math.min(2.35*(Math.pow(M+.09,.5)-.3),Math.pow(M,1/2));
M=ib*cM+(1-ib)*M;R=E[0][q];ib=Math.abs(R);if(R<0)cM=M<.4?0:Math.pow((M-.4)/.6,Math.SQRT2);else cM=Math.pow(M,Math.SQRT2/2);
M=ib*cM+(1-ib)*M;M=Math.max(0,Math.min(1,M));U[q][F]=Math.round(M*255)}o={type:A.IS,BS:U[0],ph:U[1],ul:U[2],Na:!1,Ur:!1}}if(x=="phfl"){var hU=f.Q.Pw(z.Clr.v),hi=[hU.w/255,hU.a/255,hU.s/255],go=z.Dnst.v/100,U=[f.C(256),f.C(256),f.C(256)];
for(var q=0;q<3;q++)for(var F=0;F<256;F++){var M=F*(1/255),bg=M*hi[q];bg=Math.max(0,Math.min(1,bg));
M=go*bg+(1-go)*M;U[q][F]=Math.round(M*255)}o={type:A.IS,BS:U[0],ph:U[1],ul:U[2],Na:!1,Ur:z.PrsL.v}}if(x=="thrs"){var t=f.C(256);
for(var F=z.Lvl.v;F<256;F++)t[F]=255;o={type:A.IS,BS:t,ph:t,ul:t,Na:!0,Ur:!1}}if(x=="mixr"){var hB=ei.cQ(z),W=[];
for(var F=0;F<hB.h.length;F++)if(F%5!=3)W.push(hB.h[F]/100);if(hB.sV){for(var d5=1;d5<3;d5++)for(var M=0;
M<4;M++)W[d5*4+M]=W[M]}o={type:A.jg,Ph:W}}if(x=="rplc"){var fb=z.Mnm.v,js=z.Mxm.v;o={type:A.Pz,cq:[fb.Lmnc.v,fb.A.v,fb.B.v],dL:[js.Lmnc.v,js.A.v,js.B.v],shift:[z.H.v/360,z.Strt.v/100,z.Lght.v/100],YE:z.Fzns.v/150}}if(x=="clrL"&&z.profile){var hJ=new Uint8Array(z.profile.v),cx=ICC.R(hJ.buffer),i7=[],bw=17,i7=ICC.U.sampleLUT(cx,bw);
o={type:A.Y9,Mw:ICC.U.rgba8LUT(i7,bw),afi:i7,ki:bw}}return o};ei.se=function(x,z){var A=-1;if(x!="levl"||z==null)A=-1;
else if(z.Auto)A=0;else if(z.AuCo)A=1;else if(z.autoBlackWhite)A=2;return A};ei.Ri={IS:0,Dn:1,k8:2,vg:3,eD:4,jg:5,Pz:6,Y9:7};
ei.VM=function(x){if(x<0)return x;return Math.pow(Math.tan(Math.PI/2*x),1.3)};ei.avG=function(x){if(x<0)return x;
x=Math.pow(x,1/1.3);return Math.atan2(x,1)/(Math.PI/2)};ei.$B=function(x,z,A,o){var i=ei.Ri,L=Date.now();
if(O.Id&&o.$()>300*300&&x.type!=i.IS&&x.type!=i.Y9){o=o.clone();o.x=o.y=0;var B=O.uy(0,o.m,o.n);B.set(z);
O.WW(B,o);B.jv(o);ei.cf(x,B.Ft,o);B.get(A);return}if(x.type==i.Y9){var D=x.afi,Z=x.ki;ICC.U.applyLUT(D,Z,z,A);
var j=z.length;for(var F=0;F<j;F+=4)A[F+3]=z[F+3]}if(x.type==i.jg)f.ZJ.n4(z,A,x.Ph);if(x.type==i.eD){var a=x.a6K,b=x.Ps,W=x.c$,c=x.app,j=z.length;
for(var F=0;F<j;F+=4){var o=z[F]*(1/255),Y=z[F+1]*(1/255),R=z[F+2]*(1/255),$=f.gn(o,Y,R),k=0;for(var w=0;
w<6;w++)k+=Math.min(1,1.7*(1-$.dc))*$.Ww*x.aq7[w]*ei.ahW($.zp,w*(1/6));var V=Math.max(0,Math.min(1,$.dc*(1+k)));
if(x.Zr==1){var h=0;if(V<W)h=V*(.5/b);else if(V<c)h=V+a*(.5-b);else h=1-(1-V)*.5/(1-b);$.zp=x.akv;$.Ww=Math.min(1,a+3*a*Math.abs(V-.5*(W+c)));
$.dc=h}else{$.zp=0;$.Ww=0;$.dc=V}var l=f.ug($.zp,$.Ww,$.dc);A[F]=Math.round(l.w*255);A[F+1]=Math.round(l.a*255);
A[F+2]=Math.round(l.s*255)}}if(x.type==i.vg){var M=x.avQ,j=z.length,q=1/255;for(var F=0;F<j;F+=4){var o=z[F]*q,Y=z[F+1]*q,R=z[F+2]*q,$=f.gn(o,Y,R),t=Math.max(o,Math.max(Y,R)),p=Math.min(o,Math.min(Y,R)),E=1-o,_=1-Y,S=1-R,y=0,v=0,r=0;
for(var w=0;w<9;w++){var K=w*6,X=0;if(M[K]==1&&M[K+1]==1&&M[K+2]==1&&M[K+3]==0&&M[K+4]==0&&M[K+5]==0)continue;
var s=E*M[K]+M[K+3],P=_*M[K+1]+M[K+4],d=S*M[K+2]+M[K+5];if(w<6)X=ei.ahW($.zp,w*(1/6))*$.Ww*2*Math.min($.dc,1-$.dc);
else if(w==6)X=Math.max(0,p-.5)*2;else if(w==7)X=1-(Math.abs(t-.5)+Math.abs(p-.5));else X=Math.max(0,.5-t)*2;
y+=(Math.max(0,Math.min(1,s))-E)*X;v+=(Math.max(0,Math.min(1,P))-_)*X;r+=(Math.max(0,Math.min(1,d))-S)*X}E=Math.max(0,Math.min(1,E+y));
_=Math.max(0,Math.min(1,_+v));S=Math.max(0,Math.min(1,S+r));o=1-E;Y=1-_;R=1-S;A[F]=Math.round(o*255);
A[F+1]=Math.round(Y*255);A[F+2]=Math.round(R*255)}}if(x.type==i.IS){f.ale(z,A,x.BS,x.ph,x.ul,x.Na,x.Ur)}if(x.type==i.Dn){var U=new Uint32Array(z.buffer),n=new Uint32Array(A.buffer),j=U.length;
if(ei.wS==null){ei.wS=new Float64Array(256);for(var F=0;F<256;F++)ei.wS[F]=ei.VM(-1+2*F/255)}var e=ei.wS;
for(var F=0;F<j;F++){var J=U[F],o=(J&255)*(1/255),Y=(J>>>8&255)*(1/255),R=(J>>>16&255)*(1/255),C=J>>>24,H=Math.min(o,Y,R),u=Math.max(o,Y,R),bc=0,jK=0,N=0;
bc=f.gn(o,Y,R).zp;var he=~~(bc*255+.5),gJ=x.ahb[he]*(1/255),kg=x.$t[he]*(1/255)*2-1,cJ=x.atZ[he]*(1/255)*2-1,k=-cJ,it=H;
if(0<cJ){k=cJ;it=u}var by=x.a8s+x.ri*k*it,cz=x.ri*(1-k);o=by+cz*o;Y=by+cz*Y;R=by+cz*R;u=Math.max(o,Y,R);
H=Math.min(o,Y,R);N=(u+H)*.5;if(u!=H){var fG=u-H;jK=N>.5?fG/(2-(u+H)):fG/(u+H)}var ju=kg;if(x.a3x==0){kg=e[Math.floor((1+kg)*127.5)];
ju=Math.min(jK*(1+kg),1)}var l=f.ug(gJ,ju,N);o=l.w;Y=l.a;R=l.s;n[F]=C<<24|R*255<<16|Y*255<<8|o*255}}if(x.type==i.Pz){f.Yy(z,A);
var U=new Uint32Array(z.buffer),n=new Uint32Array(A.buffer),j=U.length,gW=x.YE,iI=1/gW,ht={KI:x.cq[0],xc:x.cq[1],s:x.cq[2]},et={KI:x.dL[0],xc:x.dL[1],s:x.dL[2]};
for(var F=0;F<j;F++){var J=U[F],be=J&255,c9=J>>>8&255,aJ=J>>>16&255,o=be*(1/255),Y=c9*(1/255),R=aJ*(1/255),C=J>>>24,b6=f.hN(be,c9,aJ),ef=f.ub(b6,ht,et,gW,iI);
if(ef==0)continue;var $=f.gn(o,Y,R),gJ=2+$.zp+x.shift[0];$.zp=gJ-~~gJ;$.Ww=Math.max(0,Math.min(1,$.Ww+x.shift[1]));
$.dc=Math.max(0,Math.min(1,$.dc+x.shift[2]));var l=f.ug($.zp,$.Ww,$.dc);o=(1-ef)*o+ef*l.w;Y=(1-ef)*Y+ef*l.a;
R=(1-ef)*R+ef*l.s;n[F]=C<<24|R*255<<16|Y*255<<8|o*255}}if(x.type==i.k8){var U=new Uint32Array(z.buffer),n=new Uint32Array(A.buffer),j=U.length,jV=x.Hl[0],hu=x.Hl[1],eG=x.Hl[2],k=x.Hl[3],k8=f.ZJ.Xp([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),eE=f.ZJ.Qs(k8),jD=2.4;
console.log(eE);function Z(ay){return Math.max(0,Math.min(1,ay))}function a_(ay){return Math.pow(ay,jD)}function cH(ay){return Math.pow(ay,1/jD)}function ic(o,Y,R,ay){o=a_(o);
Y=a_(Y);R=a_(R);var dS=f.ZJ.xB(k8,[o,Y,R,1]);dS[0]*=eG;dS[1]*=k;dS[2]*=k;var l=f.ZJ.xB(eE,dS);l[0]=cH(Z(l[0]));
l[1]=cH(Z(l[1]));l[2]=cH(Z(l[2]));return l}for(var F=0;F<j;F++){var J=U[F],o=(J&255)*(1/255),Y=(J>>>8&255)*(1/255),R=(J>>>16&255)*(1/255),C=J>>>24,l=ic(o,Y,R,jV);
o=l[0];Y=l[1];R=l[2];var aj=f.gn(o,Y,R);aj.Ww=Math.max(0,Math.min(1,aj.Ww*(1+hu)));l=f.ug(aj.zp,aj.Ww,aj.dc);
o=l.w;Y=l.a;R=l.s;n[F]=C<<24|R*255<<16|Y*255<<8|o*255}}};ei.cf=function(x,z,A){O.Mo.cf(x,z)};ei.ahW=function(x,z){var A=f.It(z,x)*6;
return Math.max(0,Math.min(1,A<0?1+A:1-A))};var h6={};h6.kn=function(x){var z=x.filterID.v;return z>16777215?m.aaQ(z):x.Fltr.v.classID};
h6.uM=[{Kb:"GEfc"},{Kb:"LnCr"},{Kb:"LqFy",Oh:!0},{GC:"3D",ML:["lightFilterGradient"]},{GC:[24,2],ML:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{GC:[24,4],ML:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{GC:[24,6],ML:["AdNs","Dspc","DstS","Mdn ","denoise"]},{GC:[24,8],ML:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{GC:[24,10],ML:["Flam","Clds","DfrC","Fbrs","LnsF"]},{GC:[24,12],ML:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{GC:[24,14],ML:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{GC:[24,16],ML:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{GC:"Fourier",ML:["dDFT","iDFT"]}];
h6.Nb={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
h6.aab={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
h6.T={rigidTransform:Q.qW};h6.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Kale:"Kaleidoscope",Ctoa:"Color to Alpha",Dthr:[12,23,3],Part:"Particles",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
h6.d6=function(x){var z=null;if(x=="GEfc")z={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:iT.d6("GlwE")}]}};
if(x=="LqFy"){var A={GM:5,zp:5,map:new Float32Array(5*5*2)},o=new Uint8Array(hc.Im(A)),i=[];for(var F=0;
F<o.length;F++)i.push(o[F]);z={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:i}}}if(x=="rigidTransform"){z={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(x=="LnCr")z={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(x=="adaptCorrect")z={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(x=="Dfs ")z={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(x=="Fbrs")z={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(x=="Embs")z={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(x=="oilPaint")z={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(x=="TrcC")z={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(x=="Wnd ")z={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(x=="lightFilterGradient")z={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(x=="boxblur")z={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(x=="GsnB")z={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(x=="Bokh")z={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(x=="MtnB")z={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(x=="RdlB")z={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(x=="surfaceBlur")z={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(x=="denoise")z={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(x=="Dspl")z={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(x=="Pnch")z={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(x=="Plr ")z={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(x=="Rple")z={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(x=="Shr ")z={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(x=="Sphr")z={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(x=="Twrl")z={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(x=="Wave")z={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(x=="ZgZg")z={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(x=="AdNs")z={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(x=="DstS")z={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(x=="Mdn ")z={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(x=="ClrH")z={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(x=="Crst")z={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(x=="Mztn")z={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(x=="Msc ")z={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(x=="Pntl")z={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(x=="LnsF")z={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(x=="Dthr")z={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(x=="Part")z={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(x=="Adobe Camera Raw Filter")z={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(x=="smartSharpen")z={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(x=="UnsM")z={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(x=="HghP")z={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(x=="HsbP")z={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(x=="Mxm ")z={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Mnm ")z={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Ofst")z={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(x=="Kale")z={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(x=="Rept")z={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(x=="Flam")z={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(x=="Ctoa")z={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(x=="brit")z={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(x=="levl")z={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="curv")z={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="expA")z={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(x=="vibA")z={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(x=="hue2")z={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(x=="blnc")z={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(x=="blwh")z={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(x=="phfl")z={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(x=="grdm")z={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(gN.NK[6]).Grad};
if(x=="selc")z={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(x=="thrs")z={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(x=="mixr")z={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(x=="clrL")z={__name:"Color Lookup",classID:"colorLookup"};if(x=="post")z={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(x=="rplc")z={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(x=="fade")z={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(x=="aply")z={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(x=="matc"){z={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(x=="blendOptions")z={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return z};h6.I1={sFlam:function(x,z){z[0]=x.Type.v;z[1]=x.Leng.v;z[2]=x.RndL.v;z[3]=x.Widt.v;z[4]=x.Angl.v;
z[5]=x.Intr.v;z[6]=x.Adpt.v;z[7]=x.Clr.v;z[8]=x.Qual.v;z[9]=x.Turb.v;z[10]=x.Jag.v;z[11]=x.Opct.v.val;
z[12]=x.Lins.v;z[13]=x.Botm.v;z[14]=x.Styl.v;z[15]=x.Shap.v;z[16]=x.RnSh.v;z[17]=x.Arng.v},gFlam:function(x,z){x.Type.v=z[0];
x.Leng.v=z[1];x.RndL.v=z[2];x.Widt.v=z[3];x.Angl.v=z[4];x.Intr.v=z[5];x.Adpt.v=z[6];x.Clr.v=z[7];x.Qual.v=z[8];
x.Turb.v=z[9];x.Jag.v=z[10];x.Opct.v.val=z[11];x.Lins.v=z[12];x.Botm.v=z[13];x.Styl.v=z[14];x.Shap.v=z[15];
x.RnSh.v=z[16];x.Arng.v=z[17]},sAdNs:function(x,z){z[0]=x.Nose.v.val;z[1]=["Gsn","Unfr"].indexOf(x.Dstr.v.Dstr);
z[2]=x.Mnch.v},gAdNs:function(x,z){x.Nose.v.val=z[0];x.Dstr.v.Dstr=["Gsn","Unfr"][z[1]];x.Mnch.v=z[2]},sDstS:function(x,z){z[0]=x.Rds.v;
z[1]=x.Thsh.v},gDstS:function(x,z){x.Rds.v=z[0];x.Thsh.v=z[1]},sGsnB:function(x,z){z[0]=x.Rds.v.val},gGsnB:function(x,z){x.Rds.v.val=z[0]},sHghP:function(x,z){z[0]=x.Rds.v.val},gHghP:function(x,z){x.Rds.v.val=z[0]},sHsbP:function(x,z){var A=["RGBC","HSBl","HSLC"];
z[0]=A.indexOf(x.Inpt.v.ClrS);z[1]=A.indexOf(x.Otpt.v.ClrS)},gHsbP:function(x,z){var A=["RGBC","HSBl","HSLC"];
x.Inpt.v.ClrS=A[z[0]];x.Otpt.v.ClrS=A[z[1]]},"sMxm ":function(x,z){var A="preserveShape";z[0]=x.Rds.v.val;
z[1]=x[A]?["squareness","Rndn"].indexOf(x[A].v[A]):0},"gMxm ":function(x,z){var A="preserveShape";x.Rds.v.val=z[0];
x[A]={t:"enum",v:{preserveShape:["squareness","Rndn"][z[1]]}}},"sMnm ":function(x,z){var A="preserveShape";
z[0]=x.Rds.v.val;z[1]=x[A]?["squareness","Rndn"].indexOf(x[A].v[A]):0},"gMnm ":function(x,z){var A="preserveShape";
x.Rds.v.val=z[0];x[A]={t:"enum",v:{preserveShape:["squareness","Rndn"][z[1]]}}},sMtnB:function(x,z){z[0]=[x.Angl.v];
z[1]=x.Dstn.v.val;console.log(z)},gMtnB:function(x,z){x.Angl.v=typeof z[0]=="number"?z[0]:z[0][0];x.Dstn.v.val=z[1]},sOfst:function(x,z){z[0]=x.Hrzn.v;
z[1]=x.Vrtc.v;z[2]=["Rpt","Bckg","Wrp"].indexOf(x.Fl.v.FlMd)},gOfst:function(x,z){x.Hrzn.v=z[0];x.Vrtc.v=z[1];
x.Fl.v.FlMd=["Rpt","Bckg","Wrp"][z[2]]},sPnch:function(x,z){z[0]=x.Amnt.v},gPnch:function(x,z){x.Amnt.v=z[0]},"sPlr ":function(x,z){z[0]=["RctP","PlrR"].indexOf(x.Cnvr.v.Cnvr)},"gPlr ":function(x,z){x.Cnvr.v.Cnvr=["RctP","PlrR"][z[0]]},sRple:function(x,z){z[0]=x.Amnt.v;
z[1]=["Sml","Mdm","Lrg"].indexOf(x.RplS.v.RplS)},gRple:function(x,z){x.Amnt.v=z[0];x.RplS.v.RplS=["Sml","Mdm","Lrg"][z[1]]},sTwrl:function(x,z){z[0]=x.Angl.v},gTwrl:function(x,z){x.Angl.v=z[0]},sZgZg:function(x,z){z[0]=x.Amnt.v;
z[1]=x.NmbR.v;z[2]=["ArnC","OtFr","PndR"].indexOf(x.ZZTy.v.ZZTy)},gZgZg:function(x,z){x.Amnt.v=z[0];
x.NmbR.v=z[1];x.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][z[2]]},sUnsM:function(x,z){z[0]=x.Amnt.v.val;z[1]=x.Rds.v.val;
z[2]=x.Thsh.v},gUnsM:function(x,z){x.Amnt.v.val=z[0];x.Rds.v.val=z[1];x.Thsh.v=z[2]}};h6.adw=function(x){var z=new iL(0,0);
if(x.enab.v==!1)return z;var A=x.filterFXList.v;for(var F=0;F<A.length;F++){var o=A[F].v;if(o.enab.v==!1)continue;
var i=h6.kn(o),L=h6.BK(i,o.Fltr?o.Fltr.v:null);if(L.x>z.x)z.x=L.x;if(L.y>z.y)z.y=L.y}return z};h6.BK=function(x,z){var A=0,o=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var i=z.Rds?z.Rds.v.val:1;A=o=i*2.57}if(x=="MtnB")A=o=z.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(x)!=-1){A=o=1e4}if(x=="GEfc")return iT.BK(z);
return new iL(Math.ceil(A),Math.ceil(o))};h6.NW=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
h6.SB=function(x,z){var A={w:z.VJ>>16,a:z.VJ>>8&255,s:z.VJ&255},o={w:z.GN>>16,a:z.GN>>8&255,s:z.GN&255},i=h6.names[x];
if(i==null)i=ei.names[x];var L=x;for(var B in ei.bc)if(ei.bc[B]==x)L=B;var D={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:kc.get(i)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:f.Q.Vv(A)},BckC:{t:"Objc",v:f.Q.Vv(o)},filterID:{t:"long",v:L.length==4?m.a7p(L):777}}},Z=h6.d6(x);
if(Z)D.v.Fltr={t:"Objc",v:Z};return D};h6.yO=function(x,z,A,o){var i=Date.now(),L=O.Id&&Math.max(o.m,o.n)<=O.E4.getParameter(O.E4.MAX_TEXTURE_SIZE);
if(x<1){var B=Math.round(x*5),D=[1,2,1,2,[40,26,13,6,4,2][B],2,1,2,1];D=f.Nr.e7(D);if(!L){f.h$(A);var Z=A.slice(0);
f.Nr.fr(Z,A,o.m,o.n,D,255);f.n_(A)}else{var j=o.m,a=o.n,b=O.uy(0,j,a);b.set(A);var W=O.uy(1,j,a),c=new Float32Array([1/j,1/a]);
O.WW(W);O.filter.cf({type:O.filter.a2C,fN:c,aa$:new Float32Array(D)},b.Gt);W.get(A)}}else{var Y=z==f.ZY.e9?0:z==f.ZY._a?1:2,R=[];
while(Y!=2&&x*[1,2.4][Y]>20&&R.length<4){var $=f.sN(A,o);R.push(A,o);A=$.ov;o=$.rect;x/=2}var j=o.m,a=o.n;
if(!L||Y==2&&x>15){f.h$(A);z(A,o,x);f.n_(A)}else{var b=O.uy(0,j,a);b.set(A);var W=O.uy(1,j,a),c=new Float32Array([1/j,1/a]);
if(Y==0){var k=1;while(k<x)k<<=1;O.WW(W);O.filter.cf({type:O.filter.xR,fN:c,u2:x,uS:[0,0,k]},b.Gt);O.WW(b);
O.filter.cf({type:O.filter.xR,fN:c,u2:x,uS:[0,1,k]},W.Gt);b.get(A)}else if(Y==1){var w=3,V=f.ZY.Z3(x,w);
for(var F=0;F<w;F++){var h=V[F]>>>1,l=1;while(l<h)l<<=1;if(h==0)continue;O.WW(W);O.filter.cf({type:O.filter.xR,fN:c,u2:h,uS:[0,0,l]},b.Gt);
O.WW(b);O.filter.cf({type:O.filter.xR,fN:c,u2:h,uS:[0,1,l]},W.Gt)}b.get(A)}else{var k=1;while(k<x)k<<=1;
O.WW(W);O.filter.cf({type:O.filter.xR,fN:c,u2:x,uS:[0,0,k]},b.Gt);W.get(A)}}var M=Date.now();while(R.length!=0){var q=R.pop(),t=R.pop();
f.scale.auI(A,o.m,o.n,t,q.m,q.n);A=t;o=q}}};h6.abi=function(x,z,A,o){for(var F=0;F<x.length;F++){A[F]=x[F]*(1/255);
o[F]=0}FFT.fft2d(A,o);var i=z>>>1,L=16384,B=128,Z=100;while(B<z){B<<=1;L<<=2}var D=255/Math.log(L),j=-100;
for(var a=0;a<z;a++)for(var b=0;b<i;b++){var W=z+i+a&z-1,c=A[W*z+b],Y=o[W*z+b],R=Math.sqrt(c*c+Y*Y),$=Math.atan2(Y,c);
x[a*z+b]=Math.round(D*Math.log(R+1));x[a*z+i+b]=Math.round((Math.PI+$)*(255*.5/Math.PI))}};h6.alw=function(x,z,A,o){A.fill(0);
o.fill(0);var i=z>>>1,L=16384,B=128;while(B<z){B<<=1;L<<=2}var D=255/Math.log(L),Z=[],j=[],a=[];for(var F=0;
F<256;F++){Z[F]=Math.exp(F/D)-1;var b=F*(2*Math.PI/255)-Math.PI;j[F]=Math.sin(b);a[F]=Math.cos(b)}for(var W=0;
W<z;W++)for(var c=0;c<i;c++){var Y=z+i+W&z-1,R=Z[x[W*z+c]],b=x[W*z+i+c],$=R*a[b],k=R*j[b];A[Y*z+c]=$;
o[Y*z+c]=k;if(c!=0){var w=Y==0?Y*z+z-c:(z-Y)*z+(z-c);A[w]=$;o[w]=-k}}FFT.ifft2d(A,o);for(var F=0;F<x.length;
F++){x[F]=Math.max(0,Math.min(255,~~(.5+255*A[F])))}};h6.aeg=new ArrayBuffer(512);h6.aeV=function(x){var z=h6.aeg,A=x.length;
if(z.byteLength<A)h6.aeg=z=new ArrayBuffer(A);var o=new Uint8Array(z);for(var F=0;F<A;F+=4){o[F]=x[F];
o[F+1]=x[F+1];o[F+2]=x[F+2];o[F+3]=x[F+3]}return z};h6.$B=function(x,z,A,o,i,L,B){if(L==null)L={buffer:f.C(z.buffer.length),rect:z.rect.clone()};
f.Yy(z.buffer,L.buffer);var D=A&&A.RndS?A.RndS.v>>>1:0;if(x=="GEfc"){var Z=[];if(A.GEfs){var j=A.GEfs.v;
for(var F=0;F<j.length;F++){var a=j[F].v;if(a.GELv&&a.GELv.v==!1)continue;Z.push(a)}}else Z=[A];for(var F=0;
F<Z.length;F++){var b;if(F==0)iT.$B(x,z,Z[F],o,i,L,B);else{if(b==null)b={buffer:f.C(z.buffer.length),rect:z.rect.clone()};
f.Yy(L.buffer,b.buffer);iT.$B(x,b,Z[F],o,i,L,B)}}}if(x=="Adobe Camera Raw Filter"){var W=z.rect,c=W.m,Y=W.n,R=c*Y,$=R*4,k=R*3,w=new Float32Array(c*Y*3),V=z.buffer;
for(var F=0;F<R;F++){var h=F*3,l=F*4;w[h]=V[l]*(1/255);w[h+1]=V[l+1]*(1/255);w[h+2]=V[l+2]*(1/255)}var M=JSON.parse(JSON.stringify(A));
delete M.Upri;delete M.GuUr;var q=w.slice(0);w=q;V=L.buffer;for(var F=0;F<R;F++){var h=F*3,l=F*4;V[l]=255*Math.max(0,Math.min(1,w[h]));
V[l+1]=255*Math.max(0,Math.min(1,w[h+1]));V[l+2]=255*Math.max(0,Math.min(1,w[h+2]))}}if(x=="Fct "){var W=z.rect,c=W.m,Y=W.n,R=c*Y,$=R*4;
function t(bq){var iI=bq.slice(0);for(var X=0;X<3;X++)for(var U=0;U<3;U++)iI[X*3+U]=bq[(2-U)*3+X];return iI}function p(h4,co,jf,dD){var a8=0;
for(var X=0;X<3;X++)for(var U=0;U<3;U++)a8+=co[X*3+U]*h4[(dD-1+X)*c+jf-1+U];return a8}var E=[8,5,2,5,2,-1,2,-1,-4],_=[5,5,5,2,2,2,-1,-1,-1],S=[2,2,2,2,2,2,2,2,2],y=[];
y.push(E);for(var F=0;F<3;F++)y.push(t(y[y.length-1]));y.push(_);for(var F=0;F<3;F++)y.push(t(y[y.length-1]));
y.push(S);for(var F=0;F<9;F++)y[F]=f.Nr.e7(y[F]);var v=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],r=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],K=f.C(R),s=new Float32Array(R),q=f.C(R);
for(var P=0;P<3;P++){f.XN(z.buffer,K,P);for(var d=0;d<1;d++){for(var X=1;X<Y-1;X++)for(var U=1;U<c-1;
U++){var n=X*c+U,e=K[n];s[n]=1e9;for(var F=0;F<9;F++){var J=p(K,y[F],U,X),C=(J-e)*(J-e);if(C<s[n])s[n]=C}}for(var X=1;
X<Y-1;X++)for(var U=1;U<c-1;U++){var H=0,u=1e9;for(var F=0;F<9;F++){var bc=X*c+U+v[F],C=s[bc];if(C<u){u=C;
H=K[bc]}}q[X*c+U]=H}K.set(q)}f.c8(q,L.buffer,P)}}if(x=="adaptCorrect"){var W=z.rect,c=W.m,Y=W.n,R=c*Y,$=R*4,jK=A.sdwM.v,N=jK.Amnt.v.val/100,he=jK.Wdth.v.val/100,gJ=jK.Rds.v,kg=A.hglM.v,cJ=kg.Amnt.v.val/100,it=kg.Wdth.v.val/100,by=kg.Rds.v;
f.LL.a88(z.buffer,L.buffer,c,Y,N,he,gJ,cJ,it,by,A.ClrC.v/100,A.Cntr.v/100)}if(x=="denoise"){var W=z.rect,c=W.m,Y=W.n,cz=A.channelDenoise.v[0].v;
f.ij.aqP(z.buffer,c,Y,L.buffer,cz.Amnt.v/10,cz.EdgF.v/100)}if(x=="HsbP"){var fG=A.Inpt.v.ClrS,ju=A.Otpt.v.ClrS,W=z.rect,c=W.m,Y=W.n,R=c*Y;
for(var F=0;F<R;F++){var l=F*4,d=z.buffer[l]*(1/255),gW=z.buffer[l+1]*(1/255),iI=z.buffer[l+2]*(1/255);
if(fG=="RGBC"){}else if(fG=="HSLC"){var q=f.ug(d,gW,iI);d=q.w;gW=q.a;iI=q.s}else if(fG=="HSBl"){var q=f.at6(d,gW,iI);
d=q.w;gW=q.a;iI=q.s}var ht=d,et=gW,be=iI;if(ju=="RGBC"){}else if(ju=="HSLC"){var q=f.gn(d,gW,iI);ht=q.zp;
et=q.Ww;be=q.dc}else if(ju=="HSBl"){var q=f.aja(d,gW,iI);ht=q.zp;et=q.Ww;be=q.s}L.buffer[l]=~~(255*ht);
L.buffer[l+1]=~~(255*et);L.buffer[l+2]=~~(255*be)}}if(x=="Fbrs"){var W=z.rect,c=W.m,Y=W.n;f.R.np(z.buffer,c,Y,L.buffer,[A.Vrnc.v,A.Strg.v,D]);
var c9=f.C(c*Y);f.XN(L.buffer,c9,0);f.Qs(c9);iT.Hx(c9,L.buffer,o,i)}if(x=="Frgm"){var W=z.rect,c=W.m,Y=W.n,aJ=z.buffer.slice(0);
f.h$(aJ);f.R.ab2(aJ,c,Y,L.buffer);f.n_(L.buffer)}if(x=="Flam"){var W=z.rect,c=W.m,Y=W.n,b6=A.Clr.v,ef={type:A.Type.v+1,length:A.Leng.v,aor:A.RndL.v,Jz:A.Widt.v,ard:A.Angl.v,aoa:A.Intr.v,a2x:A.Adpt.v,color:{w:b6.Rd.v,a:b6.Grn.v,s:b6.Bl.v},VC:A.Qual.v+1,iz:A.Turb.v,Ir:A.Jag.v,opacity:A.Opct.v.val,rq:A.Lins.v,al3:A.Botm.v,style:A.Styl.v+1,shape:A.Shap.v+1,acx:A.RnSh.v,a9v:A.Arng.v,a9j:!1},jV=B[3],hu=jV[0],eG=jV[1],k8=hu[eG.length!=0?eG[0]:0];
if(k8==null){alert("Make a path first");return}var eE=k8.add.vmsk._,jD=f.J.T1(eE),cH=[];for(var ic=0;
ic<jD;ic++){var aj=f.J.MB(eE,ic),ay=eE[aj];if(ay.length<2)continue;var dS=[];cH.push(dS);var hC=ay.length-(ay.type==3?1:0);
for(var n=0;n<hC;n++){var eq=eE[aj+1+n],ck=n==ay.length-1?eE[aj+1]:eE[aj+1+n+1],eL=eq.H,gj=eq.zy,E=ck.re,bv=ck.H,dK=Math.round(iL.Or(eL,bv)/5);
for(var cC=0;cC<dK;cC++){var iv=cC/dK,dJ=1-iv,U=dJ*dJ*dJ*eL.x+3*dJ*dJ*iv*gj.x+3*dJ*iv*iv*E.x+iv*iv*iv*bv.x,X=dJ*dJ*dJ*eL.y+3*dJ*dJ*iv*gj.y+3*dJ*iv*iv*E.y+iv*iv*iv*bv.y;
dS.push(U,X)}}}var km=[cH,ef],aM=Date.now(),fq=hV(km);gt(z.buffer,c,Y,L.buffer,fq,km)}if(x=="Dfs "){var W=z.rect,c=W.m,Y=W.n,dV=["Nrml","DrkO","LghO","anisotropic"].indexOf(A.Md.v.DfsM);
if(dV<3)f.R.ajk(z.buffer,c,Y,L.buffer,[dV]);else{var km=[1.4,1.6,1,4,!1,2,[0,0,.001]],W=z.rect.clone();
W.x=W.y=0;f.O5.filter(z.buffer,W,L.buffer,km)}}if(x=="TrcC"){var W=z.rect,c=W.m,im=c<<2,Y=W.n,hj=A.Lvl.v,d8=A.Edg.v.CntE=="Lwr",cI=z.buffer,gD=L.buffer;
f.OD(gD,16777215,4278190080);function iw(dY,aX){c5(dY,aX);c5(dY+1,aX+1);c5(dY+2,aX+2)}function e3(dY,aX){eT(dY,aX);
eT(dY+1,aX+1);eT(dY+2,aX+2)}function c5(dY,aX){var ht=cI[dY],et=cI[aX];if(ht>=hj&&et<hj)gD[dY]=0;if(ht<hj&&et>=hj)gD[aX]=0}function eT(dY,aX){var ht=cI[dY],et=cI[aX];
if(ht>hj&&et<=hj)gD[aX]=0;if(ht<=hj&&et>hj)gD[dY]=0}if(d8)for(var X=1;X<Y;X++)for(var U=1;U<c;U++){var l=X*c+U<<2;
iw(l,l-4);iw(l,l-im)}else for(var X=1;X<Y;X++)for(var U=1;U<c;U++){var l=X*c+U<<2;e3(l,l-4);e3(l,l-im)}}if(x=="Embs"){var W=z.rect,c=W.m,Y=W.n,iO=-A.Angl.v*Math.PI/180,hW=A.Hght.v,j5=A.Amnt.v/100;
hW/=2;var aL=Math.cos(iO)*hW,gk=Math.sin(iO)*hW,cI=z.buffer,gD=L.buffer;gD.fill(0);var eA=new Uint32Array(cI.buffer),q=new Uint8Array(4),gF=new Uint32Array(q.buffer);
for(var X=0;X<Y;X++)for(var U=0;U<c;U++){var bB=0,ix=0,ab=0;if(0<=U+aL&&U+aL<c&&0<=X+gk&&X+gk<Y){f.P.N5(U+aL+.5,X+gk+.5,eA,c,Y,gF,0,0);
bB+=q[0]-128;ix+=q[1]-128;ab+=q[2]-128}if(0<=U-aL&&U-aL<c&&0<=X-gk&&X-gk<Y){f.P.N5(U-aL+.5,X-gk+.5,eA,c,Y,gF,0,0);
bB-=q[0]-128;ix-=q[1]-128;ab-=q[2]-128}var l=X*c+U<<2;gD[l]=Math.max(0,Math.min(255,bB*j5+128));gD[l+1]=Math.max(0,Math.min(255,ix*j5+128));
gD[l+2]=Math.max(0,Math.min(255,ab*j5+128));gD[l+3]=cI[l+3]}}if(x=="ShrE"){var W=z.rect,c=W.m,Y=W.n;
f.R.amk(z.buffer,c,Y,L.buffer)}if(x=="Dspc"){var W=z.rect,c=W.m,Y=W.n;f.R.asj(z.buffer,c,Y,L.buffer)}if(x=="Slrz"){var ez=L.buffer,cM=128;
for(var F=0;F<ez.length;F+=4){if(ez[F]>cM)ez[F]=255-ez[F];if(ez[F+1]>cM)ez[F+1]=255-ez[F+1];if(ez[F+2]>cM)ez[F+2]=255-ez[F+2]}}if(x=="Wnd "){var W=z.rect,c=W.m,Y=W.n,ib=["Wnd","Blst","Stgr"],hU=A.WndM.v.WndM;
f.R.ca(z.buffer,c,Y,L.buffer,[ib.indexOf(hU),A.Drct.v.Drct!="Left"])}if(x=="Bokh"){var W=z.rect,c=W.m,Y=W.n,R=c*Y,$=R*4,hi=z.buffer.slice(0),go=A.BkDi.v.BtDi,bg=A.BkDc,hB=A.BkDs.v,d5=A.BkDp.v/255;
if(go=="BeIn")d5=0;var fb=57*(.3+.7*((c+Y)/2)/1750)*(A.BkIb.v/100)*(1+.2*Math.pow(d5,.1)),f5=parseInt(A.BkIs.v.BtIs.slice(3)),js=-A.BkIr.v*Math.PI/180,hJ=[];
for(var F=0;F<8;F++){var cx=js+F*(Math.PI*2/f5),i7=js+(F+1)*(Math.PI*2/f5),bw=Math.cos(cx),iN=Math.sin(cx),gc=Math.cos(i7),cO=Math.sin(i7),cE=[0,0,0];
f.Ph.qJ([[bw,iN,1,0],[gc,cO,1,0],[1,1,1,1]],cE);if(cE[2]>0){cE[0]*=-1;cE[1]*=-1;cE[2]*=-1}hJ.push(cE[0],cE[1],cE[2],0)}if(go=="BeIn"){f.OD(hi,0,16777215);
d5=1}else if(go=="BeIt"&&bg.v.BtDc=="BeCt"){}else{var b5;if(go=="BeIt"&&bg.v.BtDc=="BeCm")b5=B[1];else if(go=="BeIa")b5=B[2][bg.v];
if(b5==null){f.OD(hi,0,16777215)}else{var K;if(b5.rect.S0(W))K=b5.channel;else K=b5.$n(W);f.c8(K,hi,3)}}if(hB)for(var F=0;
F<$;F+=4)hi[F+3]=255-hi[F+3];if(O.Id){var e4=hi,k6=c,fk=Y,cD=1,eM=(A.BkSb.v==0||A.BkSt.v==255)&&go=="BeIn";
if(!eM){var fy=0;for(var F=0;F<$;F+=4)fy+=Math.abs(d5-hi[F+3]*(1/255));fy=fy/R*fb;var aA=3.14*fy*fy*c*Y/3e6;
if(aA>2e3){alert("too large radius");return}}while(eM&&3*(fb/cD)*(fb/cD)*c*Y>500*2e3*2e3){var cX=f.vo(hi,new av(0,0,k6,fk));
hi=cX.ov;k6=cX.rect.m;fk=cX.rect.n;cD*=2}var aM=Date.now(),bo=O.uy(0,k6,fk);bo.set(hi);var jH=O.uy(1,c,Y);
O.WW(jH);O.filter.cf({type:O.filter.aiZ,fN:new Float32Array([1/k6,1/fk]),ag5:d5,BW:fb/cD,ass:new Float32Array([A.BkSb.v/100,A.BkSt.v/255]),af8:new Float32Array([A.BkNa.v/100,A.BkNt.v.BtNt=="BeNu"?0:1,A.BkNm.v?1:0]),a6L:new Float32Array(hJ.slice(0,16)),ar6:new Float32Array(hJ.slice(16))},bo.Gt);
jH.get(L.buffer);var fl=L.buffer;for(var F=0;F<$;F+=4)fl[F+3]=z.buffer[F+3]}}if(x=="rigidTransform"){var aM=Date.now(),gx=h6.aeV,bo=z.buffer.slice(0),bm=0,j4=0;
f.h$(bo);f.OD(L.buffer,0);var c=z.rect.m,Y=z.rect.n,aE=A.puppetShapeList.v,ip=[],jU=[],b2=[],h3=[];for(var n=0;
n<aE.length;n++){var bO=aE[n].v,gb=bm*2,h=j4*3,dN=bO.originalVertexArray.v.length>>>2,gR=bO.indexArray.v.length>>>2,ac=new Float32Array(gx(bO.originalVertexArray.v));
for(var F=0;F<dN;F++)ip[gb+F]=ac[F];var iU=new Float32Array(gx(bO.deformedVertexArray.v));for(var F=0;
F<dN;F++)jU[gb+F]=iU[F];var iG=new Uint32Array(gx(bO.indexArray.v));for(var F=0;F<gR;F++)b2[h+F]=bm+iG[F];
var f_=[],aF=[],fO=bO.PnDp.v;for(var F=0;F<fO.length;F++){f_.push(bO.pinVertexIndices.v[F].v);aF.push(fO[F].v)}var iC=f.l4.awT(ac,iG,f_,aF);
for(var F=0;F<iC.length;F++)h3[bm+F]=iC[F];bm+=dN>>>1;j4+=~~(gR/3)}var d=z.rect,c=d.m,Y=d.n;f.l4.X4(bo,c,Y,L.buffer,c,Y,ip,jU,h3,b2);
f.n_(L.buffer)}if(x=="lightFilterGradient"){function c$(eL){var co=1/Math.sqrt(eL[0]*eL[0]+eL[1]*eL[1]+eL[2]*eL[2]);
eL[0]*=co;eL[1]*=co;eL[2]*=co}var c=z.rect.m,Y=z.rect.n,R=c*Y,aM=Date.now(),an=f.C(R),et=.3,be=.7;f.wJ(L.buffer,an);
var c6=f.C(R);f.ZY.nM(an,c6,L.rect,16);var iA=f.C(R);f.ZY.nM(an,iA,L.rect,8);var hL=an,jc=new Float32Array(R),cG=A.Dtl.v,jS=cG[2].v,ca=cG[1].v,at=cG[0].v,a8=A.Scl.v*40*A.textureScale.v/(jS+ca+at);
jS*=a8;ca*=a8;at*=a8;for(var F=0;F<R;F++){var az=c6[F]*(1/255),aC=iA[F]*(1/255),jW=hL[F]*(1/255);jW=jW*jW;
jc[F]=jS*az+ca*aC+at*jW}var jR=A.blur.v;if(jR!=0){var ao=jc.slice(0);f.ZY.nT(ao,jc,L.rect,jR)}var cF=c-1,gs=Y-1;
for(var X=1;X<gs;X++)for(var U=1;U<cF;U++){var F=X*c+U,l=F*4,hs=jc[F],aL=et*(jc[F+1]-hs)+be*(hs-jc[F-1]),gk=et*(jc[F+c]-hs)+be*(hs-jc[F-c]),eL=[1,0,aL],gj=[0,1,gk];
c$(eL);c$(gj);var i7=eL[0],aI=eL[2],cr=gj[1],g2=gj[2],j0=-aI*cr,ie=-i7*g2,ia=i7*cr;L.buffer[l]=~~(127.5+j0*127.5);
L.buffer[l+1]=~~(127.5+ie*127.5);L.buffer[l+2]=~~(127.5+ia*127.5)}}if(x=="defr"){var c=z.rect.m,Y=z.rect.n;
hq(z.buffer,c,Y,L.buffer)}if(x=="dDFT"||x=="iDFT"){function ek(f5){if(f5==0)return 1;f5--;f5|=f5>>1;
f5|=f5>>2;f5|=f5>>4;f5|=f5>>8;f5|=f5>>16;return f5+1}var c=z.rect.m,Y=z.rect.n,ha=ek(Math.max(c,Y)),hA=ha>>>1,c1=new av(0,0,ha,ha),bD=new av(0,0,c,Y);
bD.y=ha-Y>>>1;var jP=c>>>1,cf=new av(0,bD.y,jP,Y),jp=new f.mz(c*Y);f.hC(z.buffer,jp);var ep=new Float64Array(ha*ha),eV=new Float64Array(ha*ha),K=f.C(ha*ha);
FFT.init(ha);var b1=[jp.w,jp.a,jp.s];for(var F=0;F<3;F++){var bY=b1[F];K.fill(0);if(x=="dDFT"){f.K5(bY,bD,K,c1);
h6.abi(K,ha,ep,eV);f.K5(K,c1,bY,bD,cf);cf.x+=jP;c1.x-=hA-jP;f.K5(K,c1,bY,bD,cf);cf.x-=jP;c1.x+=hA-jP}else{f.K5(bY,bD,K,c1,cf);
cf.x+=hA;bD.x+=hA-jP;f.K5(bY,bD,K,c1,cf);cf.x-=hA;bD.x-=hA-jP;h6.alw(K,ha,ep,eV);f.K5(K,c1,bY,bD)}}f.Ve(jp,L.buffer)}if(x=="Avrg"){var bX=0,gd=0,dQ=0,c7=0,dn=1;
for(var F=0;F<z.buffer.length;F+=4){var ey=z.buffer[F+3];dQ+=z.buffer[F]*ey;gd+=z.buffer[F+1]*ey;bX+=z.buffer[F+2]*ey;
c7+=ey}var jB=1/c7;bX=Math.round(dn*(bX*jB)+(1-dn)*255);gd=Math.round(dn*(gd*jB)+(1-dn)*255);dQ=Math.round(dn*(dQ*jB)+(1-dn)*255);
f.OD(L.buffer,bX<<16|gd<<8|dQ,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var eS=A.Rds?A.Rds.v.val:1,bk=x=="boxblur"?f.ZY.e9:f.ZY._a;
h6.yO(eS,bk,L.buffer,L.rect);if(x=="UnsM"||x=="smartSharpen"){var j5=(A.Amnt?A.Amnt.v.val:200)/100,g7=0;
if(x=="UnsM")g7=A.Thsh.v;else j5*=.75;for(var F=0;F<z.buffer.length;F++){if((F&3)==3){L.buffer[F]=z.buffer[F];
continue}var e=z.buffer[F],J=L.buffer[F],jI=j5*(e-J);if(jI>0)jI=Math.max(0,jI-g7);else jI=Math.min(0,jI+g7);
L.buffer[F]=Math.max(0,Math.min(255,e+jI))}}if(x=="HghP")for(var F=0;F<z.buffer.length;F++){if((F&3)==3){L.buffer[F]=z.buffer[F];
continue}var e=z.buffer[F],J=L.buffer[F];L.buffer[F]=Math.max(0,Math.min(255,128+e-J))}}if(x=="AdNs"){var dI=new Uint8ClampedArray(L.buffer.buffer),jt=255*A.Nose.v.val/100,es;
if(A.Dstr.v.Dstr=="Gsn")es=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else es=function(){return Math.random()*2-1};for(var F=0;F<dI.length;F+=4){var d=dI[F],gW=dI[F+1],iI=dI[F+2],io,fV,jx;
if(A.Mnch.v){io=fV=jx=es()}else{io=es();fV=es();jx=es()}d+=jt*io;gW+=jt*fV;iI+=jt*jx;dI[F]=d;dI[F+1]=gW;
dI[F+2]=iI}}var aM=Date.now();if(x=="Mdn "||x=="DstS"||x=="Mxm "||x=="Mnm "||x=="surfaceBlur"){var d=0,j_=A.Thsh,bO=0;
if(j_)j_=j_.v;else j_=0;if(x=="Mdn "||x=="Mxm "||x=="Mnm "||x=="surfaceBlur")d=A.Rds.v.val;else d=A.Rds.v;
var eQ=A.preserveShape;if(eQ&&eQ.v.preserveShape=="Rndn")bO=1;var c=z.rect.m,Y=z.rect.n,cS=["Mnm ","Mxm ","surfaceBlur"].indexOf(x),as=(bO==0?1:.75)*[.73,.73,1][cS]*(c*Y*d*d)/1722387,jE=[.73,.9,1.4][cS]*(c*Y*Math.sqrt(d))/6500;
if(O.Id&&cS!=-1&&(as<jE||bO==1)&&as<1500){var bo=O.uy(0,c,Y);bo.set(z.buffer);var b=O.uy(1,c,Y);O.WW(b);
O.filter.cf({type:O.filter.a36,fN:new Float32Array([1/c,1/Y]),BW:d,aob:j_/255,uS:[bO,cS,10*Math.ceil(d/10)]},bo.Gt);
b.get(L.buffer)}else{d=Math.round(d);f._8.Sz=.5;var bk=f._8.pw;if(x=="Mxm ")bk=f._8.z2;if(x=="Mnm ")bk=f._8.hT;
if(x=="surfaceBlur")bk=f._8.Tw;f._8.s3(z.buffer,L.buffer,c,Y,d,bk,[j_]);if(x=="DstS")for(var F=0;F<c*Y*4;
F++){var fE=Math.abs(z.buffer[F]-L.buffer[F]);if(fE<=j_)L.buffer[F]=z.buffer[F]}}}if(x=="ClrH"){var cf=z.rect.clone();
cf.x=cf.y=0;var d=A.Rds.v;d=Math.round(d*Math.sqrt(2));var c=cf.m,Y=cf.n,jp=new f.mz(c*Y);f.hC(z.buffer,jp);
f.Qs(jp.w);f.Qs(jp.a);f.Qs(jp.s);var gG=f.zG(c,Y),fl=f.C(c*Y*4);for(var h4=0;h4<3;h4++){var K=h4==0?jp.w:h4==1?jp.a:jp.s,iO=Math.PI*A["Ang"+(h4+1)].v/180,ho=new cb(1/d,0,0,1/d,0,0);
ho.rotate(iO);f.c8(K,fl,3);var q=Q.S.eM([fl,cf],ho,!0),bD=q.rect;gG.clearRect(0,0,c,Y);var iV=Math.sin(iO),jo=Math.cos(iO);
for(var F=0;F<bD.n;F++)for(var cC=0;cC<bD.m;cC++){var U=(cC+bD.x+.5)*d,X=(F+bD.y+.5)*d,cy=U,jA=X;U=jo*cy-iV*jA;
X=iV*cy+jo*jA;var R=q.buffer[(F*bD.m+cC<<2)+3]*(1/255),eS=d*Math.sqrt(R*(1/Math.PI));gG.beginPath();
gG.arc(U,X,eS,0,2*Math.PI);gG.fill()}var h5=gG.getImageData(0,0,c,Y);f.XN(h5.data,K,3)}f.Qs(jp.w);f.Qs(jp.a);
f.Qs(jp.s);f.Ve(jp,L.buffer)}if(x=="Crst"||x=="Pntl"){var c=z.rect.m,Y=z.rect.n,bk=x=="Crst"?f.XY.ac_:f.XY.akx;
bk(z.buffer,c,Y,L.buffer,A.ClSz.v,[Math.round(i.w),Math.round(i.a),Math.round(i.s)])}if(x=="Mztn"){var c=z.rect.m,Y=z.rect.n,R=c*Y,jp=new f.mz(R),b3=[jp.w,jp.a,jp.s];
f.hC(z.buffer,jp);var hU=A.MztT.v.MztT,h0={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[hU],aM=Date.now(),jh=[];
for(var F=0;F<R;F++){jh[F]=Math.random()}var R=c*Y,du=Math.round(R*h0[0]),fi=R-c-1;for(var F=0;F<du;
F++){var e2=Math.random(),el=1;if(e2<.5){el=c;e2*=2}else e2=2*(e2-.5);var dY=Math.floor(e2*fi),aX=dY+el;
jh[dY]=jh[aX]}var k5=Math.round(c*h0[1]);for(var X=0;X<Y;X++)for(var F=0;F<k5;F++){var e2=f.q.xv(X*R+F),dY=X*c+Math.floor(e2*(c-1));
jh[dY]=jh[dY+1]}var d4=new Float64Array(256);for(var F=0;F<256;F++){var fP=F/255,fd=2*(fP<.5?fP:1-fP);
fd=h0[2]+Math.pow(fd,h0[3])*(1-h0[2]);fP=fP<.5?fd*.5:1-fd*.5;d4[F]=fP}for(var P=0;P<3;P++){var K=b3[P];
for(var X=0;X<Y;X++){for(var U=0;U<c;U++){var F=X*c+U,ii=K[F],fP=d4[ii],e2=jh[F];K[F]=e2>fP?0:255}}}f.Ve(jp,L.buffer)}if(x=="Msc "){var jD=A.ClSz.v.val,c=z.rect.m,Y=z.rect.n,cd=Math.ceil(c/jD),bT=Math.ceil(Y/jD),kj=f.C(cd*bT*4);
f.scale.DC(z.buffer,c,Y,kj,cd,bT,1/jD);f.scale.DC(kj,cd,bT,L.buffer,c,Y,jD)}if(x=="Clds"||x=="DfrC"){var c=L.rect.m,Y=L.rect.n,R=c*Y,jb=f.C(R);
if(x=="Clds")f.OD(L.buffer,4278190080);var g9=f.C(256*4);for(var F=0;F<256;F++){var l=F<<2,bq=F/255,iG=1-bq;
g9[l]=Math.round(bq*o.w+iG*i.w);g9[l+1]=Math.round(bq*o.a+iG*i.a);g9[l+2]=Math.round(bq*o.s+iG*i.s)}f.R.arL(z.buffer,c,Y,jb);
var j1=L.buffer;for(var F=0;F<R;F++){var l=F<<2,P=jb[F]<<2,d=g9[P],gW=g9[P+1],iI=g9[P+2];if(x=="Clds"){j1[l]=d;
j1[l+1]=gW;j1[l+2]=iI}else{j1[l]=Math.abs(j1[4*F]-d);j1[l+1]=Math.abs(j1[4*F+1]-gW);j1[l+2]=Math.abs(j1[4*F+2]-iI)}}}if(x=="LnsF"){var c=z.rect.m,Y=z.rect.n,hU=["Zm","Nkn","Nkn1","PnVs"].indexOf(A.Lns.v.Lns),b8=A.FlrC.v,ba=[Math.min(hU,2),A.Brgh.v/100,b8.Hrzn.v,b8.Vrtc.v],aM=Date.now();
f.aak(z.buffer,c,Y,L.buffer,ba)}var g5=["Blr ","BlrM","Shrp","ShrM"].indexOf(x);if(g5!=-1){var jy=g5>1,c=z.rect.m,Y=z.rect.n,d3=f.Nr.jp[g5],fN=z.buffer.slice(0);
if(!jy)f.h$(fN);f.Nr.fr(fN,L.buffer,c,Y,d3,255,!1,jy);if(!jy)f.n_(L.buffer)}if(x=="MtnB"){var gY=-A.Angl.v*Math.PI/180,iz=A.Dstn.v.val/2,aM=Date.now(),c=z.rect.m,Y=z.rect.n,W=z.rect.clone();
W.x=W.y=0;if(O.Id){var aM=Date.now(),f8=L.buffer;f8.set(z.buffer);f.h$(f8);var fn=O.uy(0,c,Y);fn.set(f8);
var cI=f.C(4);cI[0]=Math.round(128+127*Math.cos(gY));cI[1]=Math.round(128+127*Math.sin(gY));new Uint32Array(f8.buffer).fill(new Uint32Array(cI.buffer)[0]);
var iB=O.uy(1,c,Y);iB.set(f8);O.WW(fn,W);fn.jv(W);O.filter.cf({type:O.filter.AB,Ol:iB.Gt,fN:new Float32Array([1/c,1/Y]),arq:iz/2,axj:1},fn.Ft);
fn.get(f8);f.n_(f8)}else{var ho=new cb;ho.rotate(gY);var q=Q.S.eM([z.buffer,z.rect],ho,!1,null,!0);h6.yO(iz,f.ZY.zW,q.buffer,q.rect);
ho.Qs();q=Q.S.eM([q.buffer,q.rect],ho,!1,L.buffer.buffer,!0,L.rect)}console.log(Date.now()-aM)}if(x=="RdlB"){var c=z.rect.m,Y=z.rect.n,j5=A.Amnt.v,jO=A.BlrM.v.BlrM=="Zm",h4=A.Cntr.v,jf=h4.Hrzn.v,dD=h4.Vrtc.v,aL=Math.max(jf,1-jf)*c,gk=Math.max(dD,1-dD)*Y,eS=Math.sqrt(aL*aL+gk*gk),i$=2*Math.PI*eS*1.5,em=Math.round(i$),jz=Math.round(eS),cf=new av(0,0,em,jz),eo=f.C(em*jz*4),aY=jO?4:1,hQ=jO?.6:8*((c+Y)/2)/1400,h8=.1,cD=1,bl=1;
f.P.EL(z.buffer,c,Y,eo,em,jz,jf,dD,aY,h8,cD,bl);var e6=jO?f.C(em*jz*4):null;if(jO){f.P.dS(eo,e6,em,jz);
var iv=e6;e6=eo;eo=iv;cf.m=jz;cf.n=em}h6.yO(hQ*j5,f.ZY.zW,eo,cf);if(jO){f.P.dS(eo,e6,jz,em);var iv=e6;
e6=eo;eo=iv;cf.m=em;cf.n=jz}f.P.Xy(eo,em,jz,L.buffer,c,Y,jf,dD,aY,h8,cD,bl)}if(x=="Plr "){var c=z.rect.m,Y=z.rect.n;
if(A.Cnvr.v.Cnvr=="RctP")f.P.Xy(z.buffer,c,Y,L.buffer,c,Y,.5,.5,1,0,2,c/Y);else f.P.EL(z.buffer,c,Y,L.buffer,c,Y,.5,.5,1,0,2,c/Y)}if(x=="FndE"){var c=z.rect.m,Y=z.rect.n;
f.Nr.M_(z.buffer,L.buffer,c,Y)}if(x=="oilPaint"){var iO=A.LghD.v*Math.PI/180,e_=[Math.cos(iO),Math.sin(iO),.001],km=[A.stylization.v,A.cleanliness.v,A.brushScale.v,A.microBrush.v,A.lightingOn.v,A.specularity.v,e_],W=z.rect.clone();
W.x=W.y=0;f.O5.filter(z.buffer,W,L.buffer,km)}if(x=="Ofst"){var c=z.rect.m,Y=z.rect.n,d7=new Uint32Array(z.buffer.buffer),fo=new Uint32Array(L.buffer.buffer),cy=A.Hrzn.v,jA=A.Vrtc.v,d$=A.Fl.v.FlMd;
f.OD(fo,0);if(d$=="Bckg"||d$=="Rpt"){var cf=z.rect.clone();cf.offset(cy,jA);f.mV(d7,cf,fo,L.rect)}if(d$=="Rpt"){var bw,iN,gc,cO,jF;
cy=Math.max(-c,Math.min(c,cy));jA=Math.max(-Y,Math.min(Y,jA));bw=cy>0?cy:0;gc=cy>0?c:c+cy;iN=jA>0?0:jA+Y;
cO=jA>0?jA:Y;jF=jA>0?0:c*(Y-1);for(var X=iN;X<cO;X++)for(var U=bw;U<gc;U++)fo[X*c+U]=d7[jF+U-cy];bw=cy>0?0:c+cy;
gc=cy>0?cy:c;iN=jA>0?jA:0;cO=jA>0?Y:Y+jA;jF=cy>0?0:c-1;for(var X=iN;X<cO;X++)for(var U=bw;U<gc;U++)fo[X*c+U]=d7[jF+c*(X-jA)];
if(cy>=0&&jA>=0){bw=0;gc=cy;iN=0;cO=jA;jF=0}if(cy>=0&&jA<0){bw=0;gc=cy;iN=Y+jA;cO=Y;jF=c*(Y-1)}if(cy<0&&jA>=0){bw=c+cy;
gc=c;iN=0;cO=jA;jF=c-1}if(cy<0&&jA<0){bw=c+cy;gc=c;iN=Y+jA;cO=Y;jF=c*Y-1}for(var X=iN;X<cO;X++)for(var U=bw;
U<gc;U++)fo[X*c+U]=d7[jF]}if(d$=="Wrp"){cy=(cy+100*c)%c;jA=(jA+100*Y)%Y;var cf=new av(cy-c,jA-Y,c,Y);
f.mV(d7,cf,fo,L.rect);cf.offset(c,0);f.mV(d7,cf,fo,L.rect);cf.offset(0,Y);f.mV(d7,cf,fo,L.rect);cf.offset(-c,0);
f.mV(d7,cf,fo,L.rect)}}if(x=="Rept"){var cv=A.Rsft.v.val/100,bS=A.SpcX.v.val/100;bS=Math.max(bS,-.99);
var hm=A.SpcY.v.val/100;hm=Math.max(hm,-.99);var cD=A.Scl.v.val/100,ho=new cb;ho.rotate(A.Angl.v*Math.PI/180);
ho.scale(cD,cD);var fA={buffer:z.buffer,rect:z.rect};f.H9(fA);if(fA.rect.WT()){fA.buffer=z.buffer;fA.rect=z.rect}var j1=fA.buffer,cf=fA.rect,df=f.N1(j1,cf,0),bt=new Uint32Array(j1.buffer)[0];
if(!df.WT()&&!df.S0(cf)){var d_=f.C(df.$()*4);f.mV(j1,cf,d_,df);j1=d_;cf=df}cf.x=cf.y=0;bt=bS==0&&hm==0||A.SpcC.v?bt:0;
function gK(U){return U<0?Math.ceil(U):Math.floor(U)}var gZ=ho.nx(new iL(cf.m,0));gZ.x=gK(gZ.x);gZ.y=gK(gZ.y);
var g6=ho.nx(new iL(0,cf.n));g6.x=gK(g6.x);g6.y=gK(g6.y);var q=Q.S.eM([j1,cf],ho,!1),bD=q.rect,gD=q.buffer,c8=Math.round(bD.x),g0=Math.round(bD.y),bd=Math.max(L.rect.m,L.rect.n)/Math.min(cf.m*cD*(1+bS),cf.n*cD*(1+hm));
bd=Math.ceil(bd*1.7);f.OD(L.buffer,bt);for(var X=-bd;X<bd;X++){for(var U=-bd;U<bd;U++){var bN=(U+X*cv)*(1+bS),bC=X*(1+hm);
bD.x=c8+Math.round(bN*gZ.x+bC*g6.x);bD.y=g0+Math.round(bN*gZ.y+bC*g6.y);if(bD.$X(L.rect))f.q.lx("norm",gD,bD,L.buffer,L.rect,bD,1)}}}if(x=="Ctoa"){var i=f.Q.Pw(A.Clr.v),j_=A.Trsp.v.val/100,cj=A.Opct.v.val/100;
j_=cj==0?0:j_/cj;var c=z.rect.m,Y=z.rect.n,hM=~~i.w,hd=~~i.a,e0=~~i.s,jF=z.buffer,bc=L.buffer;for(var X=0;
X<Y;X++)for(var U=0;U<c;U++){var F=X*c+U,l=F<<2,cf=jF[l],jl=jF[l+1],j1=jF[l+2],aS=Math.abs(hM-cf),dy=Math.abs(hd-jl),gz=Math.abs(e0-j1),bH=Math.max(aS,dy,gz)*(1/255);
bH=Math.max(0,Math.min(1,bH/cj));var dU=bH==0?0:1/bH,bE=j_==1?1:Math.max(0,Math.min(1,(bH-j_)/(1-j_)));
bc[l]=Math.max(0,Math.min(255,(cf-hM*(1-bH))*dU));bc[l+1]=Math.max(0,Math.min(255,(jl-hd*(1-bH))*dU));
bc[l+2]=Math.max(0,Math.min(255,(j1-e0*(1-bH))*dU));bc[l+3]=~~(.5+bE*255)}}if(x=="Dthr"){function bU(U){return~~(.5+255*f.sS(U/255))}var n=A.Plte.v,cP;
if(n==0)cP=[4278190080,4294967295];else{var aK=[[1,1,1],[2,2,2],[3,3,2]][n-1],bK=[1<<aK[0],1<<aK[1],1<<aK[2]],iq=[~~(255/(bK[0]-1)),~~(255/(bK[1]-1)),~~(255/(bK[2]-1))];
cP=[];for(var d=0;d<bK[0];d++)for(var gW=0;gW<bK[1];gW++)for(var iI=0;iI<bK[2];iI++)cP.push(255<<24|bU(iI*iq[2])<<16|bU(gW*iq[1])<<8|bU(d*iq[0]))}var c=z.rect.m,Y=z.rect.n,R=c*Y,gf=R*4,ab=z.buffer.slice(0),jj=L.buffer;
for(var F=0;F<gf;F++)ab[F]=~~(.5+255*f.sS(ab[F]/255));var hy=f.C(c*Y);UPNG.encode.dither(ab,c,Y,cP,jj,hy);
for(var F=0;F<gf;F++)jj[F]=~~(.5+255*f.Ln(jj[F]/255))}if(x=="Part"){var kk=[A.RndS.v,A.Cont.v/100,A.Size.v,A.Dpth.v/100,A.Brgh.v/100,f.Q.Pw(A.Clr.v),A.Time.v,A.Blnk.v,A.Fall.v,A.Turb.v/100];
f.ji.yC(L.buffer,z.rect.m,z.rect.n,kk)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(x)!=-1){var hn=B[0],c=z.rect.m,Y=z.rect.n,d4,ff=0;
if(x=="LqFy")d4=hc.l6(new Uint8Array(A.LqMe.v).buffer);else{var hK=3;d4={GM:Math.floor(c/hK),zp:Math.floor(Y/hK)};
d4.map=new Float32Array(d4.GM*d4.zp*2);if(x=="LnCr"){var jf=.5*(d4.GM-1),dD=.5*(d4.zp-1),ag=Math.max(Math.abs(0-jf),Math.abs(1-jf)),aR=Math.max(Math.abs(0-dD),Math.abs(1-dD)),f2=Math.sqrt(ag*ag+aR*aR),il=0,hR=0,jT=-1,jN=2,cD=A.LnSi.v/100,jO=1/cD,bu=A.LnIa.v/100,eg=bu==0?1e-6:bu*4.6,jr=jO/f2;
for(var X=0;X<d4.zp;X++){for(var U=0;U<d4.GM;U++){var aL=(U-jf)*jr,gk=(X-dD)*jr,d=Math.sqrt(aL*aL+gk*gk)*eg,iZ=Math.atan(d),jM=bu>0?iZ/d:d/iZ,bl=jf+f2*jM*aL,en=dD+f2*jM*gk,F=X*d4.GM+U<<1;
d4.map[F]=bl-U;d4.map[F+1]=en-X}}}else if(x=="Kale"){var cd=d4.GM,bT=d4.zp,cN=(cd-1)*.5,gs=(bT-1)*.5,ee=A.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,b0=A.Mirr.v,gV=Math.PI*2/b0,aq=.5*gV;
for(var X=0;X<bT;X++)for(var U=0;U<cd;U++){var aL=U-cN,gk=X-gs,dR=Math.sqrt(aL*aL+gk*gk),iO=Math.atan2(gk,aL)+ee;
iO=iO%gV;if(iO>aq)iO=gV-iO;var bl=cN+Math.cos(iO-ee)*dR,en=gs+Math.sin(iO-ee)*dR,F=(X*cd+U)*2;d4.map[F]=bl-U;
d4.map[F+1]=en-X}}else if(x=="Dspl"&&hn.length!=0){ff=A.UndA.v.UndA=="WrpA"?2:1;var hE=A.DspF.v.pth,f0;
for(var F=0;F<hn.length;F++)if(hn[F].mZ==hE)f0=hn[F];if(f0==null)f0=hn[0];f0.MK();var aS=f0.da[1],iM=f.C(aS.$());
f.wJ(f0.da[0],iM);var fH=aS.m,ad=aS.n;d4={GM:fH,zp:ad};d4.map=new Float32Array(d4.GM*d4.zp*2);var iD=2.54*A.HrzS.v*fH/c,de=2.54*A.VrtS.v*ad/Y;
for(var X=0;X<d4.zp;X++){for(var U=0;U<d4.GM;U++){var fE=-.5+iM[X*fH+U]*(1/255),F=X*d4.GM+U<<1;d4.map[F]=fE*iD;
d4.map[F+1]=fE*de}}}else if(x=="Pnch"||x=="Twrl"||x=="Sphr"||x=="ZgZg"){var j5=1,gY=Math.PI,gu=0,jw=1,dc=0,h4=3,jD=1.53,jM=1;
if(x=="Pnch"||x=="Sphr"||x=="ZgZg")j5=A.Amnt.v/100;if(x=="ZgZg"){jw=A.NmbR.v;dc=["ArnC","OtFr","PndR"].indexOf(A.ZZTy.v.ZZTy)}if(x=="Twrl")gY=A.Angl.v*Math.PI/180;
if(x=="Sphr")gu=["Nrml","HrzO","VrtO"].indexOf(A.SphM.v.SphM);function bk(U){U=Math.pow(U,1-U*.3-U*U*(U*U)*.5);
return-.225*Math.sin(U*Math.PI)}function bI(Y,co,d,bw,iN,gc,cO,jM){var aL=gc-bw,gk=cO-iN,h2=bw-Y,f1=iN-co,bq=aL*aL+gk*gk,iI=2*(aL*h2+gk*f1),h4=h2*h2+f1*f1-d*d,ke=Math.sqrt(iI*iI-4*bq*h4),cn=jM/(2*bq),bj=(-iI+ke)*cn,bA=(-iI-ke)*cn;
return jM*Math.min(bj,bA)}var cd=d4.GM,bT=d4.zp,cN=d4.GM/2,gs=d4.zp/2,jG=1/cN,d=Math.sqrt(h4*h4+1)/h4,bY=h4+Math.sqrt(1/(h4*h4));
if(j5<0){h4=1.72;d=1;bY=h4;jD=-1;jM=-1}for(var X=0;X<bT;X++){var gk=(X-gs)/gs;for(var U=0;U<cd;U++){var aL=(U-cN)*jG;
if(gu==1)gk=0;else if(gu==2)aL=0;var hT=Math.sqrt(aL*aL+gk*gk);if(hT<1&&hT!=0){var F=X*d4.GM+U<<1;if(x=="Pnch"){var cW=-j5*bk(hT)/hT;
d4.map[F]=aL*cW*cN;d4.map[F+1]=gk*cW*gs}else if(x=="Sphr"){var iv=bI(0,bY,d,0,0,hT,h4,jM),a$=jD*j5*(iv-1);
d4.map[F]=aL*a$*cN;d4.map[F+1]=gk*a$*gs}else if(x=="Twrl"){var iO=Math.atan2(gk,aL)-gY*(1-hT)*(1-hT),db=Math.cos(iO),fU=Math.sin(iO);
d4.map[F]=(hT*db-aL)*cN;d4.map[F+1]=(hT*fU-gk)*gs}else if(x=="ZgZg"){var db=0,fU=0,iE=j5*(.5-.5*Math.cos(hT*jw*2*Math.PI))*(1-hT);
if(dc==0){var iO=Math.atan2(gk,aL)-3.5*iE;db=hT*Math.cos(iO);fU=hT*Math.sin(iO)}if(dc==1){iE=100/c*iE/hT;
db=(1-iE)*aL;fU=(1-iE)*gk}if(dc==2){var S=512/c*iE*Math.PI/4;db=S+aL;fU=S+gk}d4.map[F]=(db-aL)*cN;d4.map[F+1]=(fU-gk)*gs}}}}}else if(x=="Shr "){var eE=JSON.parse(JSON.stringify(A.ShrP.v));
f.tt.D(eE,new cb(0,255/127,255/127,0,-2,0));var a4=f.tt.Z8(eE,d4.zp,!0);ff=A.UndA.v.UndA=="WrpA"?2:1;
for(var X=0;X<d4.zp;X++){var aL=-a4[X]*d4.GM;for(var U=0;U<d4.GM;U++){var F=X*d4.GM+U<<1;d4.map[F]=aL}}}else if(x=="Wave"){var cl=A.NmbG.v,ka=A.WLMn.v,eB=A.WLMx.v,dt=A.AmMn.v*(Math.PI/4),kd=A.AmMx.v*(Math.PI/4),ji=A.SclH.v/100,dh=A.SclV.v/100,hU=A.Wvtp.v.Wvtp,iE=Math.sin;
if(hU=="WvTr")iE=function(U){U*=2/Math.PI;return-.5+Math.abs(U%2-1)};if(hU=="WvSq")iE=function(U){U*=2/Math.PI;
return 1+2*Math.floor(U%2-1)};var ar=[],ae=new f.q.pk(A.RndS.v);for(var F=0;F<cl;F++){ar.push(ae.get()*10);
ar.push(Math.PI*hK/(ka+ae.get()*(eB-ka)));ar.push(ji*(dt+ae.get()*(kd-dt))/hK);ar.push(ae.get()*10);
ar.push(Math.PI*hK/(ka+ae.get()*(eB-ka)));ar.push(dh*(dt+ae.get()*(kd-dt))/hK)}var di=[],c2=[],bn=Math.max(d4.GM,d4.zp);
for(var F=0;F<bn;F++){var aL=0,gk=0;for(var cC=0;cC<cl;cC++){var f7=cC*6;aL+=ar[f7+2]*iE(ar[f7]+F*ar[f7+1]);
gk+=ar[f7+5]*iE(ar[f7+3]+F*ar[f7+4])}di[F]=gk;c2[F]=aL}for(var X=0;X<d4.zp;X++){for(var U=0;U<d4.GM;
U++){var F=X*d4.GM+U<<1;d4.map[F]=c2[X];d4.map[F+1]=di[U]}}ff=A.UndA.v.UndA=="WrpA"?2:1}else if(x=="Rple"){ff=1;
var j5=A.Amnt.v/100,eU=4,hZ=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],f4=1,aT=1,h2=0,dl=["Sml","Mdm","Lrg"].indexOf(A.RplS.v.RplS);
if(dl==0){f4=1;aT=.2;h2=3}if(dl==2){f4=1;aT=2;h2=-1;hZ=hZ.reverse()}var f3=function(U,X){var h4=Math.cos,a8=0;
for(var F=0;F<eU;F++)for(var cC=0;cC<eU;cC++)a8+=hZ[F*eU+cC]*h4(U*(F+h2)-X*(cC+h2));return a8},fg=Math.floor(50/hK),aG=new Float32Array(fg*fg*2),jZ=aT*j5*.5/hK;
for(var X=0;X<fg;X++)for(var U=0;U<fg;U++){var jf=f4*U*2*Math.PI/fg,dD=f4*X*2*Math.PI/fg,aQ=f3(jf,dD),aL=(f3(jf+.01,dD)-aQ)*100,gk=(f3(jf,dD+.01)-aQ)*100,F=(X*fg+U)*2;
aG[F]=aL*jZ;aG[F+1]=gk*jZ}for(var X=0;X<d4.zp;X++)for(var U=0;U<d4.GM;U++){var fU=X%fg,db=U%fg,F=X*d4.GM+U<<1,gi=fU*fg+db<<1;
d4.map[F]=aG[gi];d4.map[F+1]=aG[gi+1]}}}f.RG.AZ(z.buffer,L.buffer,c,Y,null,d4.map,d4.GM,d4.zp,ff)}return L};
var iT={};iT.a6m="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");iT.hy="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
iT.Fr=["ScrC","ScrD","ScrL"];iT.r3=["SDRD","SDHz","SDLD","SDVt"];iT.sw="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
iT.QL="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");iT.QA="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
iT.uM=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];iT.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
iT.d6=function(x){var z;if(x=="ClrP")z={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(x=="Ct")z={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(x=="DryB")z={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(x=="FlmG")z={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(x=="Frsc")z={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(x=="NGlw")z={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(x=="PntD")z={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(x=="PltK")z={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(x=="PlsW")z={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(x=="PstE")z={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(x=="RghP")z={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(x=="SmdS")z={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(x=="Spng")z={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(x=="Undr")z={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="Wtrc")z={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(x=="AccE")z={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(x=="AngS")z={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(x=="Crsh")z={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(x=="DrkS")z={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(x=="InkO")z={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(x=="Smie")z={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(x=="Spt")z={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(x=="SprS")z={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(x=="DfsG")z={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(x=="Gls")z={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(x=="OcnR")z={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(x=="BsRl")z={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(x=="ChlC")z={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(x=="Chrc")z={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(x=="Chrm")z={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(x=="CntC")z={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="GraP")z={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(x=="HlfS")z={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(x=="NtPr")z={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(x=="Phtc")z={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(x=="Plst")z={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(x=="Rtcl")z={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(x=="Stmp")z={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(x=="TrnE")z={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(x=="WtrP")z={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(x=="GlwE")z={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(x=="Crql")z={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(x=="Grn")z={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(x=="MscT")z={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(x=="Ptch")z={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(x=="StnG")z={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(x=="Txtz")z={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
z.__name="Filter Gallery";z.classID="GEfc";z.GEfk={t:"enum",v:{GEft:x}};z.GELv={t:"bool",v:!0};return z};
iT.Na=function(x,z){for(var F=0;F<z.length;F++)~~(z[F]=(x[4*F]+x[4*F+1]+x[4*F+2])*(1/3))};iT.acs=function(x,z,A,o){var i=UPNG.quantize(x,z);
i={VF:i.inds,Ko:i.plte};var L=Math.floor((A+o)*.015);if(L!=0)f.TN.awI(i.VF,A,o,L);return i};iT.$B=function(x,z,A,o,i,L,B){x=A.GEfk.v.GEft;
var D=z.rect,Z=D.m,j=D.n,a=Z*j,b=A.FlRs?A.FlRs.v>>>1:0;function W(l){return l.w<<24|l.a<<16|l.s<<8|255}if(x=="ClrP")f.R.an7(z.buffer,Z,j,L.buffer,[A.Pncl.v,A.StrP.v,A.PprB.v]);
if(x=="Ct"){var c=A.NmbL.v,Y=A.EdgS.v,R=iT.acs(z.buffer.buffer,c*2,Z,j);for(var F=0;F<R.VF.length;F++)R.VF[F]++;
var $=new Uint8Array((Z+2)*(j+2));f.K5(R.VF,new av(1,1,Z,j),$,new av(0,0,Z+2,j+2));var k=f.p.$T($,Z+2,j+2,Y,!1),w=new cb(1,0,0,1,-1,-1);
for(var F=0;F<k.length;F++)f.p.D(k[F].path.v,w,k[F].path.v);var V=[],h=R.Ko;for(var F=0;F<h.length;F++){var l=h[F].est.q;
V.push({w:Math.round(255*l[0]),a:Math.round(255*l[1]),s:Math.round(255*l[2]),xc:Math.round(255*l[3])})}var M=f.zG(Z,j);
for(var F=0;F<k.length;F++){var q=k[F],l=V[q.color-1];if(l.xc==0)continue;M.fillStyle="rgba("+l.w+","+l.a+","+l.s+","+l.xc/255+")";
M.beginPath();Typr.U.pathToContext({crds:q.path.v,cmds:q.path.F},M);M.fill()}if(!D.WT()){var t=M.getImageData(0,0,Z,j);
f.Yy(t.data,L.buffer)}}if(x=="DryB")f.R.ahG(z.buffer,Z,j,L.buffer,[A.BrsS.v,A.BrsD.v,A.Txtr.v]);if(x=="FlmG")f.R.awP(z.buffer,Z,j,L.buffer,[A.Grn.v,A.HghA.v,A.Intn.v,b]);
if(x=="Frsc")f.R.a6w(z.buffer,Z,j,L.buffer,[A.BrsS.v,A.BrsD.v,A.Txtr.v]);if(x=="NGlw")f.R.a1f(z.buffer,Z,j,L.buffer,[A.Sz.v,A.Brgh.v,W(f.Q.Pw(A.Clr.v)),W(o),W(i)]);
if(x=="PltK")f.R.af9(z.buffer,Z,j,L.buffer,[A.StrS.v,A.StDt.v,A.Sftn.v]);if(x=="PstE")f.R.a58(z.buffer,Z,j,L.buffer,[A.EdgT.v,A.EdgI.v,A.Pstr.v]);
if(x=="RghP")f.R.awM(z.buffer,Z,j,L.buffer,[A.StrL.v,A.StDt.v,iT.sw.indexOf(A.TxtT.v.TxtT),A.Scln.v,A.Rlf.v,iT.hy.indexOf(A.LghD.v.LghD),A.InvT.v]);
if(x=="SmdS")f.R.apO(z.buffer,Z,j,L.buffer,[A.StrL.v,A.HghA.v,A.Intn.v,A.FlRs.v,b]);if(x=="Spng")f.R.afb(z.buffer,Z,j,L.buffer,[A.BrsS.v,A.Dfnt.v,A.Smth.v,A.FlRs.v,b]);
if(x=="Undr")f.R.avY(z.buffer,Z,j,L.buffer,[A.BrsS.v,A.TxtC.v,iT.sw.indexOf(A.TxtT.v.TxtT),A.Scln.v,A.Rlf.v,iT.hy.indexOf(A.LghD.v.LghD),A.InvT.v]);
if(x=="Wtrc")f.R.acP(z.buffer,Z,j,L.buffer,[A.BrsD.v,A.ShdI.v,A.Txtr.v]);if(x=="AccE")f.R.aa3(z.buffer,Z,j,L.buffer,[A.EdgW.v,A.EdgB.v,A.Smth.v]);
if(x=="AngS")f.R.ac5(z.buffer,Z,j,L.buffer,[A.DrcB.v,A.StrL.v,A.Shrp.v]);if(x=="Crsh")f.R.auE(z.buffer,Z,j,L.buffer,[A.StrL.v,A.Shrp.v,A.Strg.v]);
if(x=="DrkS")f.R.agf(z.buffer,Z,j,L.buffer,[A.Blnc.v,A.BlcI.v,A.WhtI.v]);if(x=="InkO")f.R.ar5(z.buffer,Z,j,L.buffer,[A.StrL.v,A.DrkI.v,A.LghI.v]);
if(x=="Smie")f.R.a5U(z.buffer,Z,j,L.buffer,[A.StrW.v,A.StrP.v,A.Cntr.v]);if(x=="DfsG")f.R.aqV(z.buffer,Z,j,L.buffer,[A.Grns.v,A.GlwA.v,A.ClrA.v,W(i),b]);
if(x=="CntC")f.R.auT(z.buffer,Z,j,L.buffer,[A.FrgL.v,A.BckL.v,iT.sw.indexOf(A.TxtT.v.TxtT),A.Scln.v,A.Rlf.v,iT.hy.indexOf(A.LghD.v.LghD),A.InvT.v,W(i),W(o)]);
if(x=="ChlC")f.R.a1Z(z.buffer,Z,j,L.buffer,[A.ChrA.v,A.ChlA.v,A.StrP.v,b,W(i),W(o)]);var p=x=="GraP"||x=="Chrc"||x=="Plst"||x=="Rtcl"||x=="Stmp"||x=="TrnE";
if(p){var E=f.C(Z*j);if(x=="GraP")f.R.ak$(z.buffer,Z,j,L.buffer,[A.StrL.v,A.LgDr.v,iT.r3.indexOf(A.SDir.v.StrD),b]);
if(x=="Chrc")f.R.amT(z.buffer,Z,j,L.buffer,[A.ChAm.v,A.Dtl.v,A.LgDr.v]);if(x=="Plst")f.R.aoi(z.buffer,Z,j,L.buffer,[A.ImgB.v,iT.QL.indexOf(A.LghP.v.LghP),A.Smth.v]);
if(x=="Rtcl")f.R.a7j(z.buffer,Z,j,L.buffer,[A.Dnst.v,A.BlcL.v,A.WhtL.v,b]);if(x=="Stmp")f.R.aeb(z.buffer,Z,j,L.buffer,[A.LgDr.v,A.Smth.v]);
if(x=="TrnE")f.R.aiX(z.buffer,Z,j,L.buffer,[A.ImgB.v,A.Smth.v,A.Cntr.v,b]);f.XN(L.buffer,E,0);iT.Hx(E,L.buffer,o,i)}if(x=="NtPr")f.R.aii(z.buffer,Z,j,L.buffer,[A.ImgB.v,A.Grns.v,A.Rlf.v,W(o),W(i),b]);
if(x=="WtrP")f.R.afK(z.buffer,Z,j,L.buffer,[A.FbrL.v,A.Brgh.v,A.Cntr.v,b>>>1]);if(x=="Crql")f.R.aqa(z.buffer,Z,j,L.buffer,[A.CrcS.v,A.CrcD.v,A.CrcB.v,b]);
if(x=="Grn")f.R.av0(z.buffer,Z,j,L.buffer,[A.Intn.v,iT.QA.indexOf(A.Grnt.v.Grnt),A.Cntr.v,W(o),W(i),b]);
if(x=="MscT")f.R.ax3(z.buffer,Z,j,L.buffer,[A.TlSz.v,A.GrtW.v,A.LghG.v,b]);if(x=="Ptch")f.R.abR(z.buffer,Z,j,L.buffer,[A.SqrS.v,A.Rlf.v,b]);
if(x=="Phtc"){function _(gj,bv,D,ez){f.ZY.yn(gj,bv,D,ez);for(var F=0;F<a;F++)bv[F]=Math.max(0,Math.min(255,128+gj[F]-bv[F]))}var S=A.Dtl.v,y=A.Drkn.v,v=f.C(a);
f.wJ(z.buffer,v);var r=f.C(a);_(v,r,D,1);if(S==1){S=2;y=Math.round(y/4)}var K=f.C(a);_(v,K,D,S);for(var F=0;
F<a;F++)v[F]=Math.max(0,Math.min(255,255-(r[F]-K[F])*y));iT.Hx(v,L.buffer,o,i)}if(x=="Spt"||x=="SprS"){var s,P=1,d=1;
s={GM:Math.floor(Z/d),zp:Math.floor(j/d)};s.map=new Float32Array(s.GM*s.zp*2);var X=new f.q.pk(A.FlRs.v),U=new Float32Array(8192),n=A.SprR.v,e=n<20?.018*n:.36+(n-20)*.128;
if(x=="SprS"){e=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][n]}for(var F=0;
F<8192;F++)U[F]=(-1+2*X.get())*e*70;for(var J=0;J<j;J++)for(var C=0;C<Z;C++){var H=J*Z+C<<1;s.map[H]=U[H%7919];
s.map[H+1]=U[(H+1)%7919]}var u=s.map.slice(0),bc=x=="Spt"?A.Smth.v-1:1;if(x=="Spt"&&bc!=0){iT.amu(s.map,u,Z,j,bc);
iT.aar(u,s.map,Z,j,bc)}if(x=="SprS"){var jK=A.StrL.v>>>1,N=jK==0?2:1;iT.amu(s.map,u,Z,j,N);iT.aar(u,s.map,Z,j,N);
if(jK!=0){var he=iT.r3.indexOf(A.SDir.v.StrD),gJ=[1,1,1,0][he],kg=[-1,0,1,1][he],cJ=2*jK+1,it=1/cJ;for(var J=0;
J<j;J++)for(var C=0;C<Z;C++){var H=J*Z+C<<1,by=0,cz=0;for(var F=0;F<cJ;F++){var fG=Math.max(0,Math.min(Z-1,C-(jK+F)*gJ)),ju=Math.max(0,Math.min(j-1,J-(jK+F)*kg)),gW=ju*Z+fG<<1;
by+=s.map[gW];cz+=s.map[gW+1]}u[H]=by*it;u[H+1]=cz*it}s.map=u}}f.RG.AZ(z.buffer,L.buffer,Z,j,null,s.map,s.GM,s.zp,P)}if(x=="BsRl"||x=="PlsW"||x=="Chrm"){var iI=Date.now(),ht=f.C(a),et=ht.slice(0);
f.wJ(z.buffer,ht);var S=A.Dtl.v,be=A.Smth.v;if(S!=15){f.ZY.nM(ht,et,D,Math.round((15-S)*.5));f.Yy(et,ht)}var c9=1.4/Z,aJ=1.4/j,b6=new Float32Array(a),ef=new Float32Array(a),jV=new Float32Array(L.buffer.buffer);
for(var J=0;J<j;J++)for(var C=0;C<Z;C++){var F=J*Z+C,gJ=C==Z-1?ht[F]-ht[F-1]:ht[F+1]-ht[F],kg=J==j-1?ht[F]-ht[F-Z]:ht[F+Z]-ht[F],hu=C*c9-.7,eG=J*aJ-.7;
b6[F]=gJ==0?hu:gJ*.4;ef[F]=kg==0?eG:kg*.4}if(x=="BsRl"){var k8=(2+iT.hy.indexOf(A.LghD.v.LghD))*Math.PI*.25,by=Math.cos(k8);
if(Math.abs(by)<.1)by=0;by=Math.sign(by);var cz=Math.sin(k8);if(Math.abs(cz)<.1)cz=0;cz=Math.sign(cz);
var eE=1/(by*by+cz*cz);for(var J=0;J<j;J++)for(var C=0;C<Z;C++){var F=J*Z+C,jD=Math.max(-1,Math.min(1,by*b6[F])),cH=Math.max(-1,Math.min(1,cz*ef[F]));
et[F]=128+127*(jD+cH)*eE}if(be!=1){f.ZY.nM(et,ht,D,Math.round((be-1)*.5));f.Yy(ht,et)}iT.Hx(et,L.buffer,o,i)}else{if(x=="Chrm")be=5+be;
if(be>1)iT.yO(b6,ef,jV,D,be-1);if(x=="PlsW"){var ic=new Uint8Array(b6.buffer);for(var F=0;F<a;F++){var aj=F<<2,gJ=b6[F],kg=ef[F],ay=1/(Math.sqrt(1+gJ*gJ)*Math.sqrt(1+kg*kg)),dS=ay*ay,hC=dS*dS,l=~~(255*(hC*hC*dS));
ic[aj+0]=l;ic[aj+1]=l;ic[aj+2]=l;ic[aj+3]=l}L.buffer.set(z.buffer);f.q.lx("norm",ic,D,L.buffer,D,D,A.HghS.v/20)}else if(x=="Chrm"){var eq=L.buffer,ck=Z>>>1,eL=j>>>1;
for(var F=0;F<a;F++){var aj=F<<2,gJ=b6[F],kg=ef[F],gj={x:1,y:0,JC:gJ};ct.$y(gj);var bv={x:0,y:1,JC:kg};
ct.$y(bv);var dK=ct.agD(gj,bv),cC=1/dK.JC,iv=~~Math.max(0,Math.min(Z-1,ck-dK.x*cC*ck)),dJ=~~Math.max(0,Math.min(j-1,eL-dK.y*cC*eL)),l=ht[dJ*Z+iv];
eq[aj+0]=l;eq[aj+1]=l;eq[aj+2]=l}}}}if(x=="Gls"||x=="OcnR"||x=="Txtz"){var km=x=="OcnR"?2:iT.sw.indexOf(A.TxtT.v.TxtT),aM=iT.lw(km),fq=aM[0],ht=aM[1],dV=fq.m,im=fq.n,cJ=24,iO=0,hW,j5;
function hj(cX,bo,jH){return~~(d8*(cX+bo)+8192)&127}var b6=new Float32Array(a),ef=new Float32Array(a),jV=new Float32Array(L.buffer.buffer),d8=x=="OcnR"?1/(1+(A.RplS.v-1)*.1):100/A.Scln.v;
if(km==3)d8*=32/22.2;var iI=Date.now(),cI=d8,c9=1.4/Z,aJ=1.4/j;if(x=="Txtz"){cI*=1/255;cJ=256}for(var J=0;
J<j;J++){var gD=hj(J,D.y,im),ju=gD+1&127;for(var C=0;C<Z;C++){var F=J*Z+C,iw=hj(C,D.x,dV),fG=iw+1&127,e3=0,c5=0,eT=0;
if(x=="Txtz"){e3=f.P.EM(d8*C,d8*J,ht,128,128);c5=f.P.EM(d8*C,d8*J+1,ht,128,128);eT=f.P.EM(d8*C+1,d8*J,ht,128,128)}else{e3=ht[gD*dV+iw];
c5=ht[ju*dV+iw];eT=ht[gD*dV+fG]}b6[F]=Math.max(-cJ,Math.min((eT-e3)*cI,cJ));ef[F]=Math.max(-cJ,Math.min((c5-e3)*cI,cJ))}}if(x=="Txtz")iT.a78(b6,ef,jV,D,6);
else iT.yO(b6,ef,jV,D,x=="Txtz"?1:x=="OcnR"?3.5/d8:A.Smth.v);if(x=="Txtz")iO=A.InvT.v?-1:1;else if(x=="Gls"){iO=[1,.4,.5,.5][km]*(Math.exp(A.Dstr.v*.155)-1);
if(A.InvT.v)iO=-iO}else{iO=.5*(Math.exp(A.RplM.v*.155)-1)}var eq=L.buffer;if(x=="Txtz"){var k8=(2+iT.hy.indexOf(A.LghD.v.LghD))*Math.PI*.25,by=Math.cos(k8),cz=Math.sin(k8);
hW={x:by,y:cz,JC:0};ct.$y(hW);j5=A.Rlf.v;j5=j5/4+Math.max(0,(j5-35)*2)}function aL(gj,bv,eA){var hB=f.q.overF(bv,gj,1),cX=(1-eA)*gj+eA*(eA*bv+(1-eA)*hB);
return cX*255}for(var J=0;J<j;J++)for(var C=0;C<Z;C++){var F=J*Z+C,aj=F<<2,gJ=b6[F],kg=ef[F],gj={x:1,y:0,JC:gJ};
ct.$y(gj);var bv={x:0,y:1,JC:kg};ct.$y(bv);var dK=ct.agD(gj,bv);if(x=="Txtz"){var gk=ct.av9(dK,hW)*iO,eA=1,l=1;
if(gk<0){l=0;gk=-gk}eA=Math.min(1,gk*j5);eq[aj+0]=~~aL(z.buffer[aj]*(1/255),l,eA);eq[aj+1]=~~aL(z.buffer[aj+1]*(1/255),l,eA);
eq[aj+2]=~~aL(z.buffer[aj+2]*(1/255),l,eA)}else{var cC=iO/dK.JC,iv=~~Math.max(0,Math.min(Z-1,C-dK.x*cC)),dJ=~~Math.max(0,Math.min(j-1,J-dK.y*cC)),gF=dJ*Z+iv<<2;
eq[aj+0]=z.buffer[gF];eq[aj+1]=z.buffer[gF+1];eq[aj+2]=z.buffer[gF+2]}}}if(x=="PntD"){var bB=A.Shrp.v*.4,ix=A.BrsT.v.BrsT,ab={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[ix],ez=Math.round(A.Sz.v*.5);
f._8.Sz=ab[0];var cM=f._8.pw;f._8.s3(z.buffer,L.buffer,Z,j,ez,cM,[]);var ib=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
ib=f.Nr.e7(ib);var hU=L.buffer.slice(0);f.Nr.fr(hU,L.buffer,Z,j,ib,0);for(var F=0;F<z.buffer.length;
F++){var hi=L.buffer[F]-hU[F];L.buffer[F]=Math.max(0,Math.min(255,hU[F]+bB*hi))}}if(x=="GlwE"){var go=L.buffer.slice(0);
f._8.Sz=.5;var cM=f._8.pw;f._8.s3(z.buffer,go,Z,j,A.Smth.v>>>1,cM,[]);f.Nr.M_(go,L.buffer,Z,j);f.Yy(L.buffer,go);
f.Qs(go);f.OD(go,4278190080,16777215);f._8.s3(go,L.buffer,Z,j,A.EdgW.v>>>1,f._8.z2,[]);var bg=A.EdgB.v/10;
for(var F=0;F<go.length;F++){if((F&3)==3)continue;var hB=L.buffer[F];L.buffer[F]=Math.max(0,Math.min(255,hB*bg))}}if(x=="StnG"){f.XY.aow(z.buffer,Z,j,L.buffer,A.ClSz.v,[Math.round(o.w),Math.round(o.a),Math.round(o.s)],A.BrdT.v)}if(x=="HlfS"){var d5=A.HlSz.v,fb=d5*2+1,js=A.Cntr.v,hJ=iT.Fr.indexOf(A.ScrT.v.ScrT),a=Z*j,cx=a*4,i7=f.C(a),bw=z.buffer,b5=0,e4=0;
iT.Na(bw,i7);var iN=i7.slice(0);f.ZY.DP(iN,i7,D,d5);var gc=Math.PI/fb,cO=new Float64Array(Z),by=new Float64Array(Z),cE=new Float64Array(2*Z);
for(var C=0;C<Z;C++){var iw=(C-(Z>>>1))*gc;cO[C]=iw*iw;by[C]=Math.cos(iw);var gJ=C<<1;cE[gJ]=Math.sin(gJ*(1/4.5));
cE[gJ+1]=Math.sin((gJ+1)*(1/4.5))}for(var J=0;J<j;J++){var gD=(J-(j>>>1))*gc,cz=Math.cos(gD),k6=gD*gD;
for(var C=0;C<Z;C++){var l=cz;if(hJ==0){var fk=.5+Math.sqrt(cO[C]+k6)*4.5;l=cE[~~fk]}else if(hJ==1){l=by[C]*cz}var F=J*Z+C,cD=i7[F]*(.75+.25*l),eA=bw[(F<<2)+3]*(1/255),eM=Math.max(0,Math.min(255,~~cD));
b5+=eM*eA,e4+=eA;i7[F]=eM}}b5/=e4;var fy=128+1.26*(b5-128),bg=.08+.25*Math.abs((128-b5)/128),aA=1+bg*js;
for(var F=0;F<a;F++){var cD=fy+(i7[F]-fy)*aA;i7[F]=Math.max(0,Math.min(255,~~cD))}if(js>46)f.round(i7);
iT.Hx(i7,L.buffer,o,i)}for(var F=0;F<z.buffer.length;F+=4)L.buffer[F+3]=z.buffer[F+3]};iT.Hx=function(x,z,A,o){var i=x.length,L=A.w,B=A.a,D=A.s,Z=o.w,j=o.a,a=o.s;
for(var F=0;F<i;F++){var b=x[F]*(1/255),W=1-b,c=F<<2;z[c]=~~(L*W+Z*b);z[c+1]=~~(B*W+j*b);z[c+2]=~~(D*W+a*b)}};
iT.lw=function(x){if(x==6)x=2;var z="blocks canvas frosted tinylens brick burlap".split(" ")[x];if(iT.ut==null)iT.ut=[];
if(iT.ut[x]==null){var A,o;if(x==2){o=new av(0,0,128,128);var i=h6.d6("AdNs");i.Mnch.v=!0;i.Dstr.v.Dstr="Gsn";
i.Nose.v.val=50;var A=f.C(o.$()*4),L=A.slice(0);new Uint32Array(L.buffer).fill(4286611584);h6.$B("AdNs",{buffer:L,rect:o},i,0,0,{buffer:A,rect:o})}else{var B=iF.mR.get("tex/"+z,!0)[0];
o=B.xH;A=new Uint8Array(B.data)}var D=f.C(o.$());f.XN(A,D,0);iT.ut[x]=[o,D]}return iT.ut[x]};iT.yO=function(x,z,A,o,i){if(i<=1){i=Math.round(i);
iT.a78(x,z,A,o,[1,16,4][i]);return}var L=i*.42;if(x){f.ZY.nT(x,A,o,L,3);x.set(A)}if(z){f.ZY.nT(z,A,o,L,3);
z.set(A)}};iT.a78=function(x,z,A,o,i){var L=f.Nr.e7([1,2,1,2,i,2,1,2,1]);if(x){A.set(x);f.Nr.OO(x,A,o.m,o.n,L);
x.set(A)}if(z){A.set(z);f.Nr.OO(z,A,o.m,o.n,L);z.set(A)}};iT.BK=function(x){if(x==null)return new iL(0,0);
var z=0,A=x.GEfs?x.GEfs.v:[{v:x}];for(var F=0;F<A.length;F++){var o=A[F].v,L=1e4;if(o.GELv&&!o.GELv.v)continue;
var i=o.GEfk.v.GEft;if(i=="GlwE"||i=="Phtc"||i=="BsRl"||i=="PlsW"||i=="Chrm"||i=="Gls"||i=="OcnR")L=0;
z=Math.max(z,L)}return new iL(z,z)};iT.aol=function(x){var z=[0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][x];
for(var F=0;F<13;F++){var o=F-6;z[F]=1/(A*Math.sqrt(2*Math.PI))*Math.exp(-.5*(o/A)*(o/A))}return z};
iT.amu=function(x,z,A,o,i){var L=iT.aol(i),B=6,D=13;for(var Z=0;Z<o;Z++)for(var j=0;j<A;j++){var a=Z*A+j<<1,b=0,W=0;
for(var F=0;F<D;F++){var c=j+F-B,Y=c<0?0:c>=A?A-1:c,R=(Z*A+Y)*2,$=L[F];b+=$*x[R];W+=$*x[R+1]}z[a]=b;
z[a+1]=W}};iT.aar=function(x,z,A,o,i){var L=iT.aol(i),B=6,D=13;for(var Z=0;Z<o;Z++)for(var j=0;j<A;j++){var a=Z*A+j<<1,b=0,W=0;
for(var F=0;F<D;F++){var c=Z+F-B,Y=c<0?0:c>=o?o-1:c,R=(Y*A+j)*2,$=L[F];b+=$*x[R];W+=$*x[R+1]}z[a]=b;
z[a+1]=W}};function b_(){}b_.h3=[2,5,5,7,4,4];b_.Am="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
b_.p3="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
b_.m0=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
b_.a50=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
b_.Sa=function(x){if(x=="passThrough")return"pass";return b_.Am[b_.p3.indexOf(x)]};b_.d$=function(x){if(x=="pass")return"passThrough";
return b_.p3[b_.Am.indexOf(x)]};b_.getName=function(x){return b_.m0[b_.Am.indexOf(x)]};function g(){this.rect=null;
this.buffer=null;this.Cz="norm";this.opacity=255;this.fG=!1;this.Fu=0;this.en=0;this.xw=!0;this.A4=[];
for(var F=0;F<10;F++)this.A4.push(0,0,255,255);this.name=null;this.add={};this.tV=null;this.MP=null;
this.B=null;this.w0=null;this.a4e=30;this.qx=g.ea();this.amx=g.ea();this.a4E=g.ea();this.aog=g.ea();
this.ZD=0;this.Ro=!1;this.sL=null;this.AT=new g.Jw}g.ea=function(){var x=document.createElement("canvas");
x.width=x.height=30;return x.getContext("2d")};g.Jw=function(){this.EZ=!0;this.KM=!0;this.wh=f.C(0);
this.aw3=f.C(0);this.H_=null;this.Pq={};this.afa=null;this.$$=null;this.u7=null;this.XH=null;this.wx=null;
this.Yw=null;this.bS=null;this.tu=null;this.Lq=null;this.jZ=null;this.hm=null;this.th=null;this.Np=!1};
g.Jw.prototype.a1j=function(){this.EZ=null;this.KM=!1;this.H_=null;this.Np=O.Id};g.Jw.prototype.a8b=function(){ct.akP(this.Pq);
this.wh=f.C(0);this.aw3=f.C(0);if(this.XH)this.XH.delete();if(this.wx)this.wx.delete();this.XH=null;
this.wx=null;var x=[this.Yw,this.bS,this.tu,this.Lq,this.jZ,this.hm];for(var F=0;F<6;F++)if(x[F]!=null&&x[F]instanceof O.mz)x[F].delete();
this.Yw=null;this.bS=null;this.tu=null;this.Lq=null;this.jZ=null;this.hm=null};g.prototype.i=function(x){if(x==null)x=this.rect.clone();
if(this.AT.H_==null)this.AT.H_=x;else this.AT.H_=this.AT.H_.QM(x)};g.prototype.Q0=function(){return this.add.lsct==hF.X7||this.add.lsct==hF.$Z};
g.prototype.d8=function(){var x=this.add;return x.SoCo!=null||x.GdFl!=null||x.PtFl!=null};g.prototype.a26=function(){var x=this.add.lmfx;
if(x==null)return;var z=["GrFl","patternFill"];for(var F=0;F<z.length;F++){var A=gN.OX[gN.order.indexOf(z[F])],o=x[A].v;
if(o.length==0)continue;for(var i=0;i<o.length;i++){var L=o[i].v;if(L.enab.v&&(L.Algn==null||!L.Algn.v))this.AT.KM=!0}}};
g.prototype.a3F=function(){var x=this.B,z=this.AT.EZ;if(this.d8())x=this.dP();if(!O.Id)return x.JG();
if(this.AT.wx==null||z||O.Id!=this.AT.Np){var A=x.mc(),o=this.AT.wx,i=null;if(z!=!0&&z!=null){i=z.clone();
i.offset(-A.x,-A.y)}if(o==null||o.m!=A.m||o.n!=A.n){o=this.AT.wx=new O.tv(A.m,A.n);i=null}o.set(x.JG(),i)}return this.AT.wx};
g.prototype.amg=function(x){var z=this.rect,A=this.buffer;if(!O.Id){var o=this.PX(x,A,z);if(o){A=o.ov;
z=o.rect}return A}if(this.AT.H_!=null||O.Id!=this.AT.Np){var o=this.PX(x,A,z);if(o){A=o.ov;z=o.rect}var i=z;
if(O.Id!=this.AT.Np||this.AT.XH==null||this.AT.XH.m!=i.m||this.AT.XH.n!=i.n){if(this.AT.XH)this.AT.XH.delete();
this.AT.XH=new O.mz(i.m,i.n);this.AT.XH.set(A)}else{var L=this.AT.H_.clone();L.offset(-z.x,-z.y);this.AT.XH.set(A,L)}}return this.AT.XH};
g.prototype.Gm=function(){var x=this.B;if(this.d8())x=this.dP();return x!=null&&x.isEnabled&&(!x.rect.WT()||x.Pw()!=255)};
g.prototype.PX=function(x,z,A){if(this.Mi()){var o=this.zg(x);if(o.B&&o.B.isEnabled&&(!o.B.rect.WT()||o.B.color==0)){var i=this.add.SoLd.filterFX.v;
o.B.Op=i.filterMaskDensity?i.filterMaskDensity.v:255;o.B.Jc=i.filterMaskFeather?i.filterMaskFeather.v:0;
var L=o.buffer,B=o.rect;if(B.$()<A.$()){B=A;L=f.C(B.$()*4);f.mV(o.buffer,o.rect,L,B)}var D=o.B.$n(A);
f.Qs(D);z=z.slice(0);f.q.Zd(L,B,z,A,D,A,0,A,1);return{ov:z,rect:A}}}};g.prototype.aeh=function(){var x={gJ:!1,tx:!1,kt:0,$x:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)x.tx=!0;if(this.dP()&&this.dP().isEnabled)x.gJ=!0;if(x.gJ&&x.tx){x.kt=this.dP().rect.x-this.add.vmsk.dP().rect.x;
x.$x=this.dP().rect.y-this.add.vmsk.dP().rect.y}return x};g.prototype.cm=function(x,z){if(z&&this.dP().Jc!=0){z=z.clone();
var A=Math.round(this.dP().Jc*2.4);z.nw(A,A)}var o=!1;if(this.add.lsct==hF.ju)return;var i=this,L=this.dP()!=null&&this.dP().h9,B=this.add.vmsk!=null&&this.add.vmsk.h9,D=this.aeh(),Z=JSON.stringify(D)!=this.AT.afa||D.gJ&&L||D.tx&&B;
if(Z){if(D.tx){var j=this.add.vmsk.dP();if(D.gJ){this.B=this.dP().a7(j);this.AT.$$=new iL(this.B.rect.x-this.dP().rect.x,this.B.rect.y-this.dP().rect.y)}else this.B=j}if(this.B)o=!0;
if(this.B)this.AT.u7=new iL(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);if(D.gJ)this.dP().h9=!1;
if(D.tx)this.add.vmsk.h9=!1;this.i(z)}else{if(D.gJ&&D.tx){this.B.rect.x=this.dP().rect.x+this.AT.$$.x;
this.B.rect.y=this.dP().rect.y+this.AT.$$.y}}if(i.d8()){this.lU(x)}if(i.RC()){var a;if(this.B)a=new iL(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);
if(this.B&&this.B.isEnabled&&(this.AT.u7==null||!a.S0(this.AT.u7))){this.AT.u7=a;this.i(z);o=!0}}if(ei.get(i.add)!=null)o=!0;
if(o){var b=this.AT.EZ;if(z&&b&&b!=!0)b=b.QM(z);else b=z?z:!0;this.AT.EZ=b}this.AT.afa=JSON.stringify(D)};
g.prototype.lU=function(x){var z=this,A=z.add.vstk,o=new av(0,0,x.m,x.n),i,L=z.add.vmsk?this.add.vmsk.dP():null,Z=!0,b;
if(L&&L.isEnabled&&L.Pw()==0)i=L.mc().clone();else i=o;var B=z.dP();if(B&&B.isEnabled&&B.Pw()==0)i=i.tE(z.B.mc());
var D=L&&A;if(A&&(!A.strokeEnabled.v||A.strokeStyleLineWidth.v.val==0))D=!1;if(A&&!A.fillEnabled.v&&D)Z=!1;
var j=f.C(i.$()*4);if(Z){if(z.add.SoCo)ct.yS(j,z.add.SoCo.Clr.v);if(z.add.GdFl){var a=L&&L.color==0?f.J.BH(z.add.vmsk._,null,!0):null;
ct.nH(z.add.GdFl,j,i,x,null,a)}if(z.add.PtFl)ct.su(z.add.PtFl,j,i,x.add.Patt,z.add.fxrp)}if(D)b=gN.J9.kq.indexOf(A.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(L){var W=L.Op;if(D)L.Op=255;var c=f.C(i.$());if(L.Pw()!=0)c.fill(Math.round(L.Pw()));if(L&&L.isEnabled){var Y=L.mc(),R=L.JG();
if(Y.S0(i))f.Yy(R,c);else f.K5(R,Y,c,i)}if(D&&b==2){}else{if(z.add.SoCo&&Z){f.c8(c,j,3)}else f.A5(c,i,j,i)}if(D)L.Op=W}z.buffer=j;
z.rect=i;if(D){var $=A.strokeStyleContent.v,k=gN.J9.x6.indexOf($.classID),w=this.add.vmsk.dP(A);if(b!=0&&!z.rect.S0(o))z.extend(z.rect.QM(w.mc()));
var W=w.Op;w.Op=255;var V=w.$n(z.rect);w.Op=W;if(w.color==255)f.Qs(V);var h=f.C(z.rect.$()*4);if(k==0)ct.yS(h,$.Clr.v);
if(k==1)ct.nH($,h,z.rect,x,null,L.color==0?L.rect:null);if(k==2)ct.su($,h,z.rect,x.add.Patt,z.add.fxrp);
var l=A.strokeStyleOpacity.v.val/100;if(l!=1)f.Wb(V,l);if(w.color==255)b=2-b;if(b<2){f.q.Zd(h,z.rect,z.buffer,z.rect,V,z.rect,255,z.rect,1,!1);
if(b==0)f._i(c,z.buffer)}if(b==2){f._i(V,h);f.Qs(c);f.q.Zd(h,z.rect,z.buffer,z.rect,c,i,255,z.rect,1,!1);
f.Qs(c)}if(w.Op!=255){var M=h.slice(0);f.OD(M,4278190080,16777215);f.q.lx("norm",M,z.rect,z.buffer,z.rect,z.rect,1-w.Op/255)}W=L.Op;
L.Op=255;this.aw3=L.$n(z.rect);L.Op=W}this.i()};g.prototype._6=function(x,z,A){var o=this,i=o.add.SoLd.Idnt.v,L=o.add.SoLd,B=f.p.Jr(Q.S.z5(L.nonAffineTransform)),D=x.vX(i,L.Crop?L.Crop.v:null,[B.m,B.n],L.Impr.v.classID,A),c=1;
if(D==null)return;var Z=D.da;L.Sz.v.Wdth.v=Z[1].m;L.Sz.v.Hght.v=Z[1].n;var j=D.um==null?L.Rslt.v.val:D.um,a=L.warp.v,b=Q.S.z5(L.nonAffineTransform),W=Z[1].clone();
W.m*=c;W.n*=c;W.x=(Z[1].m-W.m)/2;W.y=(Z[1].n-W.n)/2;var Y=f.P.p0(b,W);if(a&&!f.qK.h8(a)){var B=f.p.Jr(f.qK.Tq(a)),R=B.x,$=B.y,k=1/B.m,w=1/B.n;
Y=f.P.p0(b);Y=f.P.a7(Y,[k,0,-R*k,0,w,-$*w,0,0])}var V=Q.S.Ea(Z,z?0:1,Y,a,null,null,null,z);if(V==null){o.buffer=f.C();
o.rect=new av}else if(o.Mi()){var h=o.zg(x);h.buffer=V.buffer;h.rect=V.rect.clone();this.J2(x,z)}else{o.buffer=V.buffer;
o.rect=V.rect}o.cm(x);o.i();x.i()};g.prototype.J2=function(x,z){if(z==null)z=!1;var A=this.zg(x),o=this.add.SoLd.filterFX.v,i=h6.adw(o),L=new av(0,0,x.m,x.n),B=A.rect.QM(L),D=A.rect.clone();
D.nw(i.x,i.y);var Z={buffer:null,rect:B.tE(D)};Z.buffer=f.C(Z.rect.$()*4);f.mV(A.buffer,A.rect,Z.buffer,Z.rect);
if(o.enab.v&&z==!1){var j=o.filterFXList.v;for(var F=0;F<j.length;F++){var a=j[F].v;if(a.enab.v==!1)continue;
var b=a.blendOptions.v,W=b_.Sa(b.Md.v.BlnM),c=b.Opct.v.val/100,Y=f.Q.Pw(a.FrgC.v),R=f.Q.Pw(a.BckC.v),$=h6.kn(a),k={buffer:f.C(Z.buffer.length),rect:Z.rect.clone()},w=a.Fltr?a.Fltr.v:null;
if(ei.bc[$]!=null){var V=ei.bc[$],h=ei.Th(V,w);if(h)ei.$B(h,Z.buffer,k.buffer,Z.rect)}else h6.$B($,Z,w,Y,R,k,[x.add.lnk2?x.add.lnk2:[],this.dP(),x.lX]);
if(W=="norm"&&c==1)Z=k;else if(W=="norm"){f.q.Zd(k.buffer,k.rect,Z.buffer,Z.rect,null,null,null,Z.rect,c)}else{f.q.lx(W,k.buffer,k.rect,Z.buffer,Z.rect,Z.rect,c)}}}this.rect=Z.rect;
this.buffer=Z.buffer;this.wr();this.i();x.i()};g.prototype.RL=function(x,z,A){this.sL=this.apS(x,z,A)};
g.prototype.IZ=function(x,z){var A=this.apS(x,z,!0);if(A==null)return null;var o={IG:A.ZD,Mw:A.EU,rect:A.Du};
if(o.IG==1||o.IG==3){var i=o.rect,L=f.C(i.m*i.n*4);f.c8(o.Mw,L,0);f.c8(o.Mw,L,1);f.c8(o.Mw,L,2);f.hp(x.O.channel,x.O.rect,L,i);
o.Mw=L}return o};g.prototype.apS=function(x,z,A){var o,i,L,B,D,Z,j;if(this.ZD<=0){var a=f.C(this.rect.$());
f.XN(this.buffer,a,3);o=f.iv._Z(z,{channel:a,rect:this.rect},3);if(o==null)return null;var b=f.mI(o.channel,o.rect);
B=o.rect.clone();D=this.rect.clone();i=f.C(B.$()*4);f.mV(this.buffer,D,i,B);f.c8(o.channel,i,3);L=this.buffer.slice(0);
if(!A){var W=z.channel.slice(0);f.Qs(W);f.A5(W,z.rect,L,D)}Z=this.buffer.slice(0);j=this.rect.clone()}if(this.ZD==1||this.ZD==3){var c=this.ZD==1?this.dP():this.zg(x).B;
B=z.rect.clone();D=c.rect.clone();i=c.a2k(B);var L=c.channel.slice(0);if(!A)f.q.NX(c.color==255?f.YU(B.$()):f.vJ(B.$()),B,L,D,z.channel,B,1);
Z=c.channel.slice(0);j=c.rect.clone()}return{ZD:this.ZD,EU:i,Du:B,MV:L,SW:D,Hj:Z,Pa:j}};g.prototype.gm=function(x,z){var A=this.sL;
if(A.ZD==0){this.rect=A.Pa;this.buffer=A.Hj;this.i()}if(A.ZD==1||A.ZD==3){var o=A.ZD==1?this.dP():this.zg(x).B;
o.channel=A.Hj;o.rect=A.Pa;if(this.ZD==1){o.h9=!0;this.cm(x)}if(this.ZD==3)this.i()}this.sL=z};g.prototype.QZ=function(x,z){if(this.ZD<=0&&z.rect.S0(this.rect)){var A=f.C(this.rect.$());
f.XN(this.buffer,A,3);if(f.S0(x.O.channel,A)){var o=this.rect,i=this.buffer;this.sL={ZD:this.ZD,EU:i.slice(0),Du:o.clone(),MV:f.C(0),SW:new av,Hj:f.C(0),Pa:new av};
return!0}}var L=this.sL;if(L==null)return!1;if(L.ZD!=this.ZD)return!1;if(!z.rect.S0(L.Du))return!1;var B=L.SW.QM(L.Du);
if(L.ZD<=0){if(!B.S0(this.rect))return!1;var D=f.C(L.EU.length>>2);f.XN(L.EU,D,3);if(!f.S0(z.channel,D))return!1;
var Z=f.C(B.m*B.n*4);f.mV(L.MV,L.SW,Z,B);f.q.lx("norm",L.EU,L.Du,Z,B,B,1);return f.S0(Z,this.buffer)}if(L.ZD==1||L.ZD==3){var j=L.ZD==1?this.dP():this.zg(x).B;
if(!B.S0(j.rect))return!1;var a=f.C(B.$());a.fill(j.color);f.K5(L.MV,L.SW,a,B);f.q.NX(L.EU,L.Du,a,B,z.channel,B,1);
return f.S0(a,j.channel)}};g.prototype.PJ=function(x,z,A,o){var i=this.sL;i.Du.offset(z,A);var L=i.SW.QM(i.Du);
if(i.ZD<=0){var B=f.C(L.$()*4);f.mV(i.MV,i.SW,B,L);f.q.lx("norm",i.EU,i.Du,B,L,L,1);this.buffer=B;this.rect=L;
this.i()}else{var D=this.ZD==1?this.dP():this.zg(x).B,Z=f.C(L.$());Z.fill(D.color);f.K5(i.MV,i.SW,Z,L);
f.q.NX(i.EU,i.Du,Z,L,o.channel,L,1);D.channel=Z;D.rect=L.clone();if(this.ZD==1){D.h9=!0;this.cm(x)}if(this.ZD==3)this.i()}};
g.prototype.avW=function(){var x=[-1,0,1,2];if(this.B)x.push(-2);if(this.w0)x.push(-3);return x};g.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
g.prototype.rk=function(f5){this.add.luni=this.name=f5};g.prototype.bP=function(x){var z=this.add.lnsr,A=this.add.TySh;
if(z=="rend"&&A){var o=am.FP(A.gP);this.rk(o.slice(0,o.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
g.prototype.Gi=function(){return(this.Fu&1<<1)==0};g.prototype.RC=function(){return(this.Fu&1<<4)==0};
g.prototype.Qu=function(){return(this.Fu&1<<5)!=0};g.prototype.alr=function(){var x=this;if(x.add.lnsr!="bgnd"){x.add.lnsr="bgnd";
x.rk("Background");x.add.lspf=1<<2}};g.prototype.awa=function(){var x=this;if(x.add.lnsr=="bgnd"){delete x.add.lnsr;
x.rk("Layer 0");x.add.lspf=0}};g.prototype.bb=function(x){var z=this.add.lspf;return z==null?!1:(z>>x&1)!=0};
g.prototype.uO=function(x){if(x&&!this.Gi())this.Fu-=2;if(!x&&this.Gi())this.Fu+=2};g.prototype.Rq=function(){var x=this.add.lmfx;
if(x==null)return!1;for(var z in x){if(z=="masterFXSwitch")continue;if(z=="Scl")continue;if(z=="classID")continue;
if(x[z].v.length>0)return!0}return!1};g.prototype.Mi=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
g.prototype.N8=function(){var x=this.add.lmfx;if(x==null)return!1;if(!x.masterFXSwitch.v)return!1;for(var z in x){if(z=="masterFXSwitch")continue;
if(z=="Scl")continue;if(z=="classID")continue;var A=x[z].v;for(var F=0;F<A.length;F++)if(A[F].v.enab.v)return!0}return!1};
g.prototype.XJ=function(x,z,A,o){var i=new av,L=this.V3(x,A,o);if(L.indexOf(0)!=-1)i=i.QM(this.rect);
if(L.indexOf(1)!=-1){var B=this.dP(),D=B.mc();i=A&&B.Pw()==0?i.WT()?D:i.tE(D):i.QM(D)}if(L.indexOf(2)!=-1){var Z=this.add.vmsk,j=this.add.vstk,a;
if(z){a=f.J.BH(Z._,Z.f.length!=0?Z.f:null)}else a=f.J.BH(Z._);if(!o&&j&&j.strokeEnabled.v){var b=j.strokeStyleLineAlignment.v.strokeStyleLineAlignment,W=j.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(b!="strokeStyleAlignInside"){var c=j.strokeStyleLineWidth.v.val;if(W=="strokeStyleMiterJoin")a=new av(0,0,x.m,x.n);
else a.nw(c,c)}}i=i.QM(a)}if(L.indexOf(3)!=-1)i=i.QM(this.zg(x).B.mc());if(L.length==0&&this.d8())i=o?new av(0,0,0,0):new av(0,0,x.m,x.n);
return i};g.prototype.WE=function(){var x=this.add.artb,z=x.artboardBackgroundType.v,A=0;if(z==1)A=4294967295;
else if(z==2)A=4278190080;else if(z==3)A=0;else if(z==4){A=x.Clr.v;A=255<<24|A.Bl.v<<16|A.Grn.v<<8|A.Rd.v}else throw z;
return A};g.prototype.nU=function(){var x=this.add.artb.artboardRect.v,z=x.Btom.v,A=x.Left.v,o=x.Rght.v,top=x.Top.v;
return new av(A,top,o-A,z-top)};g.prototype.T4=function(x){var z=g.J7(x);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=z};g.J7=function(x){var z={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
z.Btom.v=x.y+x.n;z.Left.v=x.x;z.Rght.v=x.x+x.m;z.Top.v=x.y;return z};g.prototype.V3=function(x,z,A){var o=[],i=this;
if(!z&&i.Ro&&A){o.push(2)}else if(i.ZD<=0||z){if(i.RC())if(!this.rect.WT())o.push(0);if(i.dP()&&!i.dP().rect.WT())if(i.dP().GD||z)o.push(1);
if(i.add.vmsk)if(i.add.vmsk.GD||z)o.push(2);if(i.Mi()&&i.zg(x).B&&!i.zg(x).B.rect.WT())o.push(3)}else if(i.ZD==1){o.push(1);
if(i.dP().GD&&!i.dP().rect.WT()){if(i.RC())if(!this.rect.WT())o.push(0);if(i.add.vmsk)if(i.add.vmsk.GD)o.push(2)}}else if(i.ZD==3&&!i.zg(x).B.rect.WT())o.push(3);
if(i.add.artb&&o.indexOf(0)==-1)o.push(0);o.sort();return o};g.prototype.dP=function(){var x=this;return x.w0?x.w0:x.add.vmsk&&x.add.vmsk.isEnabled?null:x.B};
g.prototype.zg=function(x){var z=this.add.SoLd.placed.v,A=x.add.FEid;if(A==null)return null;for(var F=0;
F<A.length;F++)if(A[F].id==z)return A[F];return null};g.prototype.extend=function(x){f.a1M(this,x)};
g.prototype.ahM=function(x,z,A){var o=x.clone();if(this.N8()){var i=this.add.lmfx,L=z.root.RX(z.g.indexOf(this)),B=i.gradientFillMulti.v,D=!1;
for(var F=0;F<B.length;F++)if(B[F].v.enab.v&&B[F].v.Algn.v)D=!0;if(D)o=o.QM(L.mc(z,!1));var Z=ct.aeH(this.add.lmfx,z,A);
o.offset(Z.x,Z.y);o.m+=Z.m;o.n+=Z.n}return o};g.prototype.wr=function(){if(this.RC())f.H9(this);var x=this.dP();
if(x)x.wr()};g.prototype.clone=function(){var x=new g;x.rect=this.rect.clone();x.buffer=this.buffer.slice(0);
x.Cz=this.Cz;x.opacity=this.opacity;x.fG=this.fG;x.Fu=this.Fu;x.name=this.name;x.A4=this.A4.slice(0);
if(this.B)x.B=this.B.clone();if(this.w0)x.w0=this.w0.clone();for(var z in this.add)x.add[z]=ap.clone(z,this.add[z]);
return x};g.prototype.xt=function(x){var z=this;if(z.add.TySh)delete z.add.TySh;if(z.add.SoLd){var A=this.PX(x,this.buffer,this.rect);
if(A){this.buffer=A.ov;this.rect=A.rect;this.i()}delete z.add.SoLd}if(z.add.SoCo||z.add.GdFl||z.add.PtFl){if(z.add.vogk)delete z.add.vogk;
if(z.add.SoCo)delete z.add.SoCo;if(z.add.GdFl)delete z.add.GdFl;if(z.add.PtFl)delete z.add.PtFl;if(z.add.vmsk){console.log(z.w0,z.B);
delete z.add.vmsk;if(z.w0==null&&z.B)delete z.B;else if(z.w0!=null&&z.B!=null){z.B=z.w0;delete z.w0}}}if(!z.Q0()&&ei.get(z.add)==null&&!this.RC())this.Fu-=16};
g.prototype.d4=function(x){var z=255,A=0;if(x==2){var o=this.add.SoLd.filterFX.v;if(o.filterMaskDensity)z=o.filterMaskDensity.v;
if(o.filterMaskFeather)A=o.filterMaskFeather.v}else{var i=x==0?this.dP():this.add.vmsk;z=i.Op;A=i.Jc}return{I5:x,J6:z,FO:A}};
g.prototype.aj3=function(x){if(x.I5==2){var z=this.add.SoLd.filterFX.v;if(x.J6==255)delete z.filterMaskDensity;
else z.filterMaskDensity={t:"long",v:x.J6};if(x.FO==0)delete z.filterMaskFeather;else z.filterMaskFeather={t:"doub",v:x.FO};
this.i()}else{var A=x.I5==0?this.dP():this.add.vmsk;A.Op=x.J6;A.Jc=x.FO;A.h9=!0}};g.prototype.Az=function(){var x=this,z=x.add.vmsk;
if(z==null)return;x.add.vogk=g.Az(z._)};g.Az=function(x){var z=[],A=f.J.T1(x);for(var o=0;o<A;o++)z.push(f.i4.vJ());
return z};var hF={OI:0,X7:1,$Z:2,ju:3};g.$R=function(){this.name="Mask";this.ft=!1;this.bk={w:255,a:0,s:0};
this.rS=50;this.VW=0;this.color=255;this.GD=!0;this.isEnabled=!0;this.JL=!1;this.Op=255;this.Jc=0;this.rect=new av;
this.channel=f.C(0);this.An=null;this.adX=null;this.h9=!0};g.$R.prototype.a7=function(x){if(!this.isEnabled)return x;
var z=new g.$R;z.color=Math.round(this.Pw()*x.Pw()/255);if(this.Pw()==0&&x.Pw()==0)z.rect=this.mc().tE(x.mc());
else if(x.Pw()==0)z.rect=x.mc().clone();else if(this.Pw()==0)z.rect=this.mc().clone();else z.rect=this.mc().QM(x.mc());
z.channel=this.$n(z.rect);z.Op=255;z.Jc=0;var A=x.$n(z.rect);f.ahZ(A,z.rect,z.channel,z.rect);return z};
g.$R.prototype.mc=function(){if(this.Jc==0)return this.rect;var x=Math.ceil(this.Jc*2.2),z=this.rect.clone();
if(z.y==0){if(z.x==0)z.m+=x;else z.nw(x,0);z.n+=x}else z.nw(x,x);return z};g.$R.prototype.JG=function(){if(this.Jc==0&&this.Op==255)return this.channel;
if(this.Jc==0){var x=this.channel.slice(0);f.Qs(x);f.Wb(x,this.Op/255);f.Qs(x);return x}var z=this.mc(),A=this.a2k(z),x=f.C(z.$());
f.ZY.nM(A,x,z,this.Jc);if(this.Op!=255){f.Qs(x);f.Wb(x,this.Op/255);f.Qs(x)}return x};g.$R.prototype.Pw=function(){return Math.round(255-(255-this.color)*(this.Op/255))};
g.$R.prototype.extend=function(x){f.extend(this,x,this.color)};g.$R.prototype.wr=function(){if(this.color==255)f.Qs(this.channel);
f.wr(this);if(this.color==255)f.Qs(this.channel)};g.$R.prototype.clone=function(){var x=new g.$R;x.name=this.name;
x.ft=this.ft;x.bk=this.bk;x.rS=this.rS;x.VW=this.VW;x.color=this.color;x.GD=this.GD;x.isEnabled=this.isEnabled;
x.JL=this.JL;x.Op=this.Op;x.Jc=this.Jc;x.rect=this.rect.clone();x.channel=this.channel.slice(0);return x};
g.$R.prototype.a2k=function(x,z){if(z==null)z=f.C(x.$());z.fill(this.color);f.K5(this.channel,this.rect,z,x);
return z};g.$R.prototype.$n=function(x,z){var A=this.mc(),o=this.JG();if(z==null)z=f.C(x.$());z.fill(this.Pw());
f.K5(o,A,z,x);return z};g.tZ=function(){this.GD=!0;this.isEnabled=!0;this.Op=255;this.Jc=0;this._=[{type:6},{type:8,all:0}];
this.qX=[-3,-3];this.j1=!1;this.w0=null;this.h9=!0;this.f=[];this.OH=[]};g.tZ.prototype.offset=function(x,z){this.w0=this.dP();
f.J.ox(this._,new cb(1,0,0,1,x,z));this.w0.rect.offset(x,z)};g.tZ.prototype.dP=function(x){if(!this.h9&&this.w0&&x==null){this.w0.isEnabled=this.isEnabled;
return this.w0}var z=f.J.BH(this._),A="strokeStyleLineAlignment",o="strokeStyleLineJoinType";if(z.$()>3e4*3e4)z=new av(0,0,100,100);
if(x&&x[A].v[A]!="strokeStyleAlignInside"){var i=1;if(x[o].v[o]=="strokeStyleMiterJoin"){var L=f.J.a6R(this._),B=L/2,D=Math.sin(B),Z=Math.cos(B);
Z/=D;D=1;var i=Math.sqrt(Z*Z+D*D);if(isNaN(i)||i<1)i=1}i*=x[A].v[A]=="strokeStyleAlignOutside"?1:.5;
var j=Math.ceil(x.strokeStyleLineWidth.v.val*i);j=Math.min(j,600);z.nw(j,j)}z=f.p.u8(z);var a=new g.$R;
a.color=f.J.u$(this._)?0:255;a.GD=this.GD;a.isEnabled=this.isEnabled;a.JL=!0;a.rect=z;a.Op=this.Op;a.Jc=this.Jc;
a.channel=f.C(a.rect.$());if(!z.WT())f.J.a1p(this._,a.channel,a.rect,x);if(x==null){this.w0=a;this.h9=!1}return a};
g.tZ.prototype.clone=function(){var x=new g.tZ;x.GD=this.GD;x.isEnabled=this.isEnabled;x.Op=this.Op;
x.Jc=this.Jc;x._=g.tZ.cj(this._);x.qX=this.qX.slice(0);x.j1=this.j1;x.f=this.f.slice(0);x.OH=this.OH.slice(0);
return x};g.tZ.prototype.concat=function(x){var z=x._.slice(2);if(z.length==0)return;z[0].qh=3;this._=this._.concat(z)};
g.tZ.cj=function(x){var z=[];for(var F=0;F<x.length;F++){var A=x[F];if(A.type>5||A.type==0||A.type==3)z.push(JSON.parse(JSON.stringify(A)));
else z.push({type:A.type,re:A.re.clone(),H:A.H.clone(),zy:A.zy.clone()})}return z};g.tZ.are=function(x,z,A){if(x.length!=z.length)return!1;
for(var F=2;F<x.length;F++){var o=x[F],i=z[F];if(o.type!=i.type)return!1;if(o.type==0||o.type==3){if(o.length!=i.length||!A&&o.qh!=i.qh)return!1}else if(!o.re.S0(i.re)||!o.H.S0(i.H)||!o.zy.S0(i.zy))return!1}return!0};
g.tZ.prototype.ajx=function(){var x=this._;for(var F=3;F<x.length;F++)if(x[F].type==0||x[F].type==3)x[F].qh=-1};
g.eC=function(){this.type=null;this.TB=2;this.mZ=null;this.W7="";this.ks="";this.T9="";this.open=0;this.raw=null;
this.da=null;this.a51="";this.t$=!1};g.eC.prototype.clone=function(){var x=new g.eC;x.type=this.type;
x.TB=this.TB;x.mZ=this.mZ;x.W7=this.W7;x.ks=this.ks;x.T9=this.T9;x.open=this.open;x.raw=new Uint8Array(this.raw.buffer.slice(0));
return x};g.eC.prototype.MK=function(x,z,A,o,i){if(A==null)A="none";var L=this,B=iF.cd(L.raw.buffer),D=B=="svg"||B=="pdf";
if(L.da){var Z=z&&D&&Math.max(L.da[1].m,L.da[1].n)<Math.max(z[0],z[1]);if(!Z&&A==this.a51&&!L.t$)return}this.a51=A;
if(!D)x=0;if(B==null){alert("Unsupported format: "+m.dX(L.raw,0,4));return null}var j=iF.Lg(B);if(j.RQ){var a=new ew(name+(B=="psd"?"":"-"+B)+".psd"),b;
j.i0(L.raw.buffer,a,z);var W=new av(0,0,a.m,a.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(A)!=-1){var c=[];
for(var F=0;F<a.g.length;F++){var Y=a.g[F],R=Y.buffer;if(!Y.rect.S0(W)){R=f.C(W.$()*4);f.mV(Y.buffer,Y.rect,R,W);
console.log("resizing")}c.push(R)}b=f.C(W.$()*4);f.stack.stack(c,b,A)}else{for(var F=0;F<a.g.length;
F++)if(a.g[F].d8())a.g[F].cm(a);if(o&&a.t$){var $=g3.a7G(a,o,i);L.t$=!$;if($)g3.agu(a,o,i)}a.GK();a.i();
a.or();b=a.MK()}L.da=[b,W];L.um=a.um!=null&&a.um!=0?a.um:72}else if(j){var k=j.i0(L.raw.buffer)[0];L.da=[new Uint8Array(k.data),k.xH];
L.um=k.um!=null&&k.um!=0?k.um:72}if(L.da){if(x==1){var R=L.da[0],w=L.da[1],V=f.C(w.$());f.XN(R,V,3);
var h=f.mI(V,w),l=f.C(h.$()*4);f.mV(R,w,l,h);L.da=[l,h]}f.mL(L.da)}};g.Xm="0";g.vn="2";g.pI="2.5";g.Ke="2.6";
g.$o="3";g.GS="4";g.Yj="4.5";g.ajb="4.6";g.aeO="5";g.uh="5.5";g.acZ="6";g.JW="7";g.a6v="8";g.wQ="9";
g.gD="9.3";g.aoc="9.5";g.wZ="9.6";g.k3="10";g.JK="11";g.$G="12";g.lE="13";g.__="13.1";g.a6B="13.2";g.Ca="13.3";
g.BN="13.4";g.Zy="14";g.C1="14.1";g.sJ="14.2";g.AP="14.3";g.FD="17";g.Dq="18";g.abo="19";g.Z6="19.5";
g.sR="19.6";g.Jn="19.7";g.wo="19.8";g.ya="20";g.ce="21";g.wF="21.5";g.V$="22";g._U="22.5";g.D7="23";
g.afg="24";g.LD="25";g.a80="26";g.a2X="27";g.g6="28";g.fx="29";g.e0="30";g.aQ="31";g.Eq="32";g.XA="33";
g.fR="34";g.Cd="35";g.f_="36";g.FV="36.5";g.hi="37";g.k_="37.5";g.ahe="37.6";g.Vy="38";g.CN="38.5";g.g4="38.6";
g.WF="39";g.O7="40";g.awj="41";g.a7V="42";g._k="50";g.kP="51";g.rr="52";g.RS="53";g.jC="54";g.a5D="54.5";
g.q4="54.6";g.anX="54.7";g.sZ="54.8";g.rZ="55";g.$a="56";g.EY="57";g.FW="58";g.FT="59";g.Hb="60";function fR(){this.depth=0;
this.index=-1;this.j=null;this.afr=null;this.fb=-1;this.children=null;this.parent=null;this.lc=null}fR.prototype.auy=function(x,z){if(this.depth!=0)x.push(this.j.getName());
if(this.children)for(var F=0;F<this.children.length;F++)this.children[F].auy(x,z);if(x.length>z.u6.length)z.u6=x.slice(0);
if(this.depth!=0)x.pop()};fR.prototype.aac=function(){var x=0;if(this.j.Q0()){for(var F=0;F<this.children.length;
F++)x+=this.children[F].aac()}else if(this.j.buffer)x+=this.j.buffer.length;return x};fR.prototype.RX=function(x){var z=this.lc[x];
return this.lc[x]};fR.prototype.a95=function(x,z){var A=this.j;if(!A.Gi()||A.bb(2)||A.bb(31))return null;
if(A.Gm()){var o=A.B.rect.$X(x);if(!o&&A.B.color==0)return}if(A.Q0()){for(var F=0;F<this.children.length;
F++){var f5=this.children[F];f5.a95(x,z)}}else if(A.rect.$X(x))z.push(this.index)};fR.prototype.Qd=function(x,z){var A=this.j;
if(!A.Gi()||A.bb(2)||A.bb(31))return null;if(A.Gm()){if(A.B.rect.Td(x)){if(!f.Qd(x,A.B.channel,A.B.rect))return null}else if(A.B.color==0)return null}if(A.Q0()){if(A.add.artb&&!A.nU().Td(x))return null;
for(var F=this.children.length-1;F>=0;F--){var f5=this.children[F],o=f5.Qd(x,z);if(o&&z==null)return o}return null}else if(A.add.TySh&&A.rect.Td(x)||f.a1u(x,A.buffer,A.rect)){if(z==null)return this;
else z.push(this.index)}return null};fR.prototype.aeX=function(x){var z=this.j;if(!z.Gi()||z.bb(2)||z.bb(31))return null;
var A=z.add.vmsk;if(A&&A.isEnabled){var o=f.J.Qd(A._,x).dD;if(o!=-1)return{adh:this,aqt:o}}if(z.Q0()){if(z.add.artb&&!z.nU().Td(x))return null;
for(var F=this.children.length-1;F>=0;F--){var f5=this.children[F],i=f5.aeX(x);if(i)return i}return null}return null};
fR.prototype.a3Q=function(x,z){x.push(this.index);if(this.j.Q0()){x.push(this.fb);if(z)if(this.j.ZD==1&&this.j.dP().GD==!1)return;
for(var F=0;F<this.children.length;F++)this.children[F].a3Q(x)}};fR.prototype.p2=function(x,z,A){var o=this.j,i,L;
if(o.Q0()&&o.add.artb!=null)z=o.nU();if(z.m>z.n){i=A;L=Math.floor(A*(z.n/z.m))}else{i=Math.floor(A*(z.m/z.n));
L=A}if(o.d8()&&o.add.vmsk==null||o.add.TySh)i=L=Math.max(L,16);else{i=Math.max(i,6);L=Math.max(L,6)}var B=L,D=o.d8()&&o.add.vmsk;
if(D){var Z=o.rect.clone(),b,W;if(Z.WT())Z=new av(0,0,20,20);var j=Z.m,a=Z.n;if(j>a){b=A;W=Math.floor(A*(a/j))}else{b=Math.floor(A*(j/a));
W=A}if(b*W==0)b=W=16;f.vC.W_(o.qx,b,W,Z,o.buffer,o.rect,!1);f.vC.a3l(o.qx,b,W);B=W}else if(o.add.TySh){f.vC.ais(o.qx,B,B,o.add.TySh)}else if(o.add.SoCo){B=Math.max(16,Math.min(i,L));
f.vC.aby(o.qx,B,B,o.add.SoCo)}else if(o.add.GdFl){f.vC.a8X(o.qx,B,B,o.add.GdFl)}else if(o.add.PtFl){f.vC.abc(o.qx,B,B,o.add.PtFl,x)}else if(ei.get(o.add)!=null){f.vC.anp(o.qx,B,B,o.add)}else if(o.add.SoLd){f.vC.W_(o.qx,i,L,z,o.buffer,o.rect,!1);
f.vC.ahx(o.qx,i,L,o.add.SoLd)}else if(o.Q0()){B=16}else{if(o.RC())f.vC.W_(o.qx,i,L,z,o.buffer,o.rect,!1);
else{f.vC.a17(o.qx,B,B)}}var c=o.dP();if(c)f.vC.Y$(o.amx,i,L,z,c);if(o.Mi()&&o.zg(x)&&o.zg(x).B){var Y=o.zg(x).B;
f.vC.Y$(o.aog,i,L,z,Y)}if(!D&&o.add.vmsk){f.vC.Y$(o.a4E,i,L,z,o.add.vmsk.dP(),!0)}if(o.add.vmsk||c)B=Math.max(B,L);
o.a4e=Math.max(B,16);if(o.Q0()&&(o.add.lsct==hF.X7||x.g.length<4e3))for(var F=0;F<this.children.length;
F++)this.children[F].p2(x,z,A)};fR.prototype.ajD=function(x,z,A,o){this.depth=A;var i=x[z];if(o==null)o=[];
this.lc=o;if(i.add.lsct==hF.ju){this.afr=i;this.fb=z-1;this.children=[];var F=z+1;while(!0){var L=x[F];
if(L==null)console.log(F,x.length);if(L.add.lsct==hF.X7||L.add.lsct==hF.$Z){if(i.add.lyid==L.add.lyid)i.add.lyid+=16777215;
this.j=L;this.index=F-1;o[this.index]=this;o[z-1]=this;break}var B=new fR;B.parent=this;F=B.ajD(x,F,A+1,o);
this.children.push(B)}return F+1}else{this.j=i;this.index=z-1;o[this.index]=this;return z+1}};fR.prototype.cI=function(x,z,A,o){var i=this.RX(A),L=x;
while(i.parent!=null){L=i.j.ahM(L,z,o);i=i.parent}return L};fR.prototype.mc=function(x,z){var A=this.j,o=new av;
if(!A.Gi())return o;var i=A.dP();if(A.Q0())for(var F=0;F<this.children.length;F++){var L=this.children[F].mc(x,!0);
o=o.QM(L)}else if(ei.get(A.add)!=null)o=A.Gm()&&A.B.color==0?A.B.mc().clone():new av(0,0,x.m,x.n);else if(A.d8()&&A.add.vmsk&&A.add.vmsk.isEnabled&&A.add.vstk){o=A.rect.clone()}else if(A.d8()&&i&&i.isEnabled&&i.Pw()!=0)o=new av(0,0,x.m,x.n);
else{o=A.XJ(x,!1,!0);if(A.add.vmsk)o=f.p.u8(o)}return z?A.ahM(o,x):o};fR.yt={delete:function(x){if(x&&x.m)x.delete()},C:function(x,z){return O.Id?new O.mz(x,z):f.C(x*z*4)},zO:function(x,z,A){if(O.Id){if(x==null||x.m!=z||x.n!=A){fR.yt.delete(x);
return new O.mz(z,A)}}else{if(x==null||!(x instanceof Uint8Array)||x.length!=z*A*4){fR.yt.delete(x);
return f.C(z*A*4)}}return x},K5:function(x,z,A,o,i){(O.Id?O.c1:f.mV)(x,z,A,o,i)},Zd:function(x,z,A,o,i,L,B,D,F,Z,j){(O.Id?O.q.U_:f.q.Zd)(x,z,A,o,i,L,B,D,F,Z,j)},lx:function(x,z,A,o,i,L,B,D){if(O.Id)O.q.eq(x,z,A,o,i,L,B,D);
else f.q.lx(x,z,A,o,i,L,B,D)},OD:function(x,z,A){if(O.Id){O.WW(x);O.hJ(z,A)}else f.OD(x,z,A)},a9M:function(x,z,A,o,i){if(O.Id){O.q.U_(null,null,o,i,x,z,A,i,1,!1)}else{if(A==255)f.A5(x,z,o,i);
else{var L=f.C(z.$());f.mK(o,i,L,z);f.bA(x,L);f.OD(o,0,16777215);f.hp(L,z,o,i)}}},Sr:function(x,z,A,o){if(O.Id)O.q.U_(null,null,A,o,x,z,0,o,1,!1);
else f.Sr(x,z,A,o)}};fR.prototype.Fx=function(x,z,A,o,i,L){var B=typeof L=="number";if(!this.j.Q0()&&(B&&this.index>L||!B&&L.indexOf(this.index)==-1)){return}var D=this.j,Z=ct.U4(D),j=fR.yt,a=D.d8()?D.dP():D.B;
if(!D.Gi())return;if(D.Gm()&&a.rect.WT()&&a.Pw()==0){return}if(D.add.vstk==null&&this.mc(o,!1).WT()){return}var b=this.mc(o,!0).tE(A);
if(!z.S0(A)&&!A.$X(b))return;if(D.Q0()&&D.add.artb){var W=D.nU();A=A.tE(W)}var c=fR.arU(D,i,Z);if(!c){this.arl(x,z,A,o,i,L);
return}D.AT.Yw=j.zO(D.AT.Yw,b.m,b.n);j.K5(x,z,D.AT.Yw,b,A);this.arl(D.AT.Yw,b,A,o,i,L);j.Zd(D.AT.Yw,b,x,z,null,null,0,A,D.opacity/255,D.Cz=="diss",Z.K1)};
fR.arU=function(x,z,A){if(A.K1[0]*A.K1[1]*A.K1[2]==0)return!0;return x.opacity!=255&&(z.length!=0||x.Q0()||x.N8())};
fR.ai1={AT:{}};fR.prototype.arl=function(x,z,A,o,i,L){var B=this.j,D=ct.U4(B),Z=ei.get(B.add)!=null,j=fR.yt,a=fR.arU(B,i,D),b=a?1:B.opacity/255,W=B.d8()?B.dP():B.B,c=B.Q0()&&D.R3==null&&(B.Cz=="pass"||B.add.artb)&&!(i.length>0||D.fill!=1||B.N8()),Y=!B.Q0()&&!Z&&!B.N8()&&i.length==0,R=Z&&!B.N8()&&i.length==0,l=null,M=null,q=null,S;
if(c||Y||R){var $=x,k=z;if(B.Gm()){k=this.mc(o,!1);$=B.AT.Lq=j.zO(B.AT.Lq,k.m,k.n);j.K5(x,z,B.AT.Lq,k)}if(c)this.NH($,k,A,o,L);
if(Y)j.lx(B.Cz,B.amg(o),B.rect,$,k,A,b,D);if(R){var w=B.Gm()&&W.Pw()==0?W.mc().clone():k.clone(),V=B.AT;
if(w.S0(new av(0,0,o.m,o.n)))V=fR.ai1;V.tu=this.ac6($,k,V.tu,w,B.add);D.Oe=!0;j.lx(B.Cz,V.tu,w,$,k,A,b,D)}if(B.Gm())j.Zd($,k,x,z,B.a3F(),W.mc(),W.Pw(),A,1,B.Cz=="diss");
B.AT.a1j();return}var h=B.Q0()&&B.Cz=="pass"&&(i.length>0||D.fill!=1||B.N8()),w=B.rect;if(B.Q0()){w=this.mc(o,!1);
q=B.AT.tu=j.zO(B.AT.tu,w.m,w.n);j.OD(q,0);this.NH(q,w,w,o,L);M=j.zO(B.AT.bS,w.m,w.n);j.K5(q,w,M,w)}else if(Z){w=B.Gm()&&W.Pw()==0?W.mc().clone():z.clone();
M=j.zO(B.AT.bS,w.m,w.n);j.OD(M,4294967295)}else{w=B.rect;l=B.amg(o);M=j.zO(B.AT.bS,w.m,w.n);j.K5(l,w,M,w)}B.AT.bS=M;
if(B.Gm())j.a9M(B.a3F(),W.mc(),W.Pw(),M,w);if(B.N8())if(B.AT.H_||B.AT.KM||B.AT.Np!=O.Id||B.AT.EZ||B.Q0()){var t=B.add.vmsk,p=f.C(w.$());
if(ct.adx(B.add.lmfx)){if(O.Id){if(!B.Q0()&&B.dP()==null&&B.rect.S0(w)&&t==null)f.XN(B.buffer,p,3);else{var E=f.C(w.$()*4);
M.get(E);f.XN(E,p,3)}}else f.XN(M,p,3)}if(B.AT.KM||B.AT.Np!=O.Id||!f.S0(p,B.AT.wh)){var _=null;if(B.d8()&&t&&t.isEnabled&&t.dP().color==0)_=t.dP().rect;
ct.akP(B.AT.Pq);B.AT.Pq=ct.apw(p,w,B.add.lmfx,B.add.fxrp,o,_);B.AT.wh=p;B.AT.alx=w}}if(B.N8())ct.anG(B.add.lmfx,B.AT.Pq,w,x,z,A);
if(B.Q0()){l=j.zO(B.AT.Lq,w.m,w.n);j.OD(l,0);if(B.Cz=="pass")j.K5(x,z,l,w);if(h)j.Sr(q,w,l,w);this.NH(l,w,A,o,L);
B.AT.Lq=l}if(Z){l=B.AT.Lq=this.ac6(x,z,B.AT.Lq,w,B.add)}if(B.Q0()||Z)S=l;else{S=j.zO(B.AT.Lq,w.m,w.n);
j.K5(l,w,S,w,A);B.AT.Lq=S}j.OD(S,4278190080,16777215);for(var F=0;F<i.length;F++)i[F].Fx(S,w,A,o,[],L);
var y=B.AT.jZ=j.zO(B.AT.jZ,w.m,w.n);j.K5(x,z,y,w,A);if(Z)D.Oe=!0;j.lx(B.Cz=="pass"?"norm":B.Cz,S,w,y,w,A,1,D);
if(B.N8()){var v=B.AT.Pq.type.FrFX,r=null;if(v.length!=0){r=v[0];for(var F=0;F<v.length;F++)if(v[F].ZM.m>r.ZM.m)r=v[F];
B.AT.hm=j.zO(B.AT.hm,r.ZM.m,r.ZM.n);j.K5(x,z,B.AT.hm,r.ZM,A);B.AT.th=j.zO(B.AT.th,r.ZM.m,r.ZM.n)}ct.a6e(B.add.lmfx,B.AT.Pq,w,x,z,A,y,B.AT.hm,B.AT.th,r?r.ZM:null)}if(!O.Id){var K=f.C(w.$());
f.XN(M,K,3);M=K}j.Zd(y,w,x,z,M,w,0,A,1,B.Cz=="diss");B.AT.a1j()};fR.prototype.ac6=function(x,z,A,o,i){var L=ei.get(i),B;
if(L)B=ei.Th(L,i[L]);var D=fR.yt;A=D.zO(A,o.m,o.n);if(!(O.Id&&z.S0(o)))D.K5(x,z,A,o);if(B){if(O.Id){var Z=o.clone();
Z.x=Z.y=0;if(z.S0(o)){O.WW(A,Z);ei.cf(B,x.Gt,Z)}else{O.WW(A,o);A.jv(o);ei.cf(B,A.Ft,Z)}}else ei.$B(B,A,A,o)}return A};
fR.prototype.NH=function(x,z,A,o,i){var L=this.children;for(var F=0;F<L.length;F++){var B=[];for(var D=F+1;
D<L.length;D++)if(L[D].j.fG)B.push(L[D]);else break;L[F].Fx(x,z,A,o,B,i);F+=B.length}};function ew(x){this.QE="psd";
this.KY=!1;this.name=x;this.lh=-1;this.Ra=null;this.Y_=null;this.no=null;this.yV=null;this.m=0;this.n=0;
this.buffer=null;this.g=[];this.d3={};this.add={};this.rc=4;this.$w=null;this.um=72;this._T={};this.f=[];
this.sf=[];this.lW=!1;this.TY=[];this.D4=[];this.Ds=[ew.HA("Work Path")];this.Dt=[];this.Iz=null;this.$C={classID:"CompList",list:{t:"VlLs",v:[]}};
this.cC=[];this.Gd=[];this.root=null;this.mP=null;this.t$=!1;this.alL=!1;this.ai3=!1;this.EV=!1;this.I3=!1;
this.o$=!1;this.Gy=!1;this.bg=!1;this.dv=!1;this.We=!1;this.H_=null;this.pe=null;this.O=null;this.lX=[];
this.CE=[];this.G={$M:{},XF:[],a13:[],L2:[],Zt:[],PK:null,YI:null,ky:null,RE:null,WL:[],ey:[],HM:null};
this.history=[new j$([1,0],null)];this.pF=0;this.Dx=0;this.pO=0;this.t=new d2(this);this.uQ=null;this.Qj=null}ew.lu=function(){var x=8,z=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
z=jJ.tn(x,z);return[x,z]}();ew.prototype.nN=function(x){if(x){this.d3.r1039=x;var z=ICC.R(x.buffer),A=z.header.spaceIn.toLowerCase(),o=JSON.stringify(z.tags.desc).toLowerCase(),i=null,L=17,Z,j;
try{i=ICC.U.profileName(z)}catch(kc){}if(A!="rgb "||i==null||o.indexOf("srgb")!=-1){this.nN(null);return}console.log("We got an ICC profile!",z,i);
var B=ICC.U.sampleLUT(z,L),D=B.slice(0),a=f.C(4),b=ew.lu[0],W=ew.lu[1];for(var F=0;F<B.length;F+=3){a[0]=B[F]*255;
a[1]=B[F+1]*255;a[2]=B[F+2]*255;ICC.U.applyLUT(W,b,a,a);D[F]=a[0]/255;D[F+1]=a[1]/255;D[F+2]=a[2]/255}if(O.Id){Z=new O.mz(L,L*L);
Z.set(ICC.U.rgba8LUT(B,L));j=new O.mz(L,L*L);j.set(ICC.U.rgba8LUT(D,L))}this.uQ=[x,z,L,B,Z,D,j]}else{delete this.d3.r1039;
this.uQ=null}};ew.prototype.rM=function(){return this.uQ};ew.prototype.a3z=function(){if(this.uQ)return this.uQ;
if(this.add.fcmy==1){if(this.Qj==null){var x=ew.lu[0],z=ew.lu[1],A;if(O.Id){A=new O.mz(x,x*x);A.set(ICC.U.rgba8LUT(z,x))}this.Qj=[null,null,x,null,null,z,A]}return this.Qj}};
ew.prototype.uT=function(){var x=this;return x.O!=null||x.Dd()[1].length!=0||x.f.length>1};ew.prototype.OG=function(){var x=this.sf,z=[];
for(var F=0;F<x.length;F++)z[F]=-1;var A=this.root.children;for(var F=0;F<A.length;F++){var o=A[F],i=o.j.add.artb;
if(i==null)continue;var L=i.guideIndeces;L=L?L.v:[];for(var B=0;B<L.length;B++)z[L[B].v]=o.index}return[JSON.parse(JSON.stringify(x)),z]};
ew.prototype.q5=function(x){this.sf=JSON.parse(JSON.stringify(x[0]));var z=x[1],A=this.root.children;
for(var F=0;F<A.length;F++){var o=A[F],i=o.j.add.artb;if(i==null)continue;i.guideIndeces={t:"VlLs",v:[]}}for(var F=0;
F<z.length;F++)if(z[F]!=-1)this.g[z[F]].add.artb.guideIndeces.v.push({t:"long",v:F})};ew.prototype.a65=function(x){var z=this;
if(x[0])z.add.lnk2=x[0];else delete z.add.lnk2;if(x[1])z.add.FEid=x[1];else delete z.add.FEid;if(x[2])z.add.Patt=x[2];
else delete z.add.Patt};ew.prototype.atl=function(x){var z=this,A=[],o=[],i=[],R=null,$=null,k=null;
for(var F=0;F<x.length;F++){var L=x[F];if(L.add.SoLd){A.push(L.add.SoLd.Idnt.v);o.push(L.add.SoLd.placed.v)}if(L.add.PtFl)i.push(L.add.PtFl.Ptrn.v.Idnt.v);
if(L.add.lmfx){for(var B=0;B<gN.OX.length;B++){var D=L.add.lmfx[gN.OX[B]].v;for(var Z=0;Z<D.length;Z++)if(D[Z].v.Ptrn){var j=D[Z].v;
if(j.classID=="FrFX"&&j.PntT.v.FrFl!="Ptrn")continue;i.push(j.Ptrn.v.Idnt.v)}}}var b=L.add.vstk;if(b&&b.strokeStyleContent.v.classID=="patternLayer"){i.push(b.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var W=z.add.lnk2,c=z.add.FEid,Y=z.add.Patt;
if(W){R=[];for(var F=0;F<W.length;F++)if(A.indexOf(W[F].mZ)!=-1)R.push(W[F]);if(R.length==0)R=null}if(c){$=[];
for(var F=0;F<c.length;F++)if(o.indexOf(c[F].id)!=-1)$.push(c[F]);if($.length==0)$=null}if(Y){k=[];for(var F=0;
F<Y.length;F++)if(i.indexOf(Y[F].id)!=-1)k.push(Y[F]);if(k.length==0)k=null}return[R,$,k]};ew.prototype.gx=function(x){var z=this,A=z.root.RX(x==null?z.f[0]:x),o=!1;
while(A.parent!=null){o=o||A.j.bb(31);A=A.parent}return o};ew.prototype.oF=function(){var x=this.lX,z=this.lX.length;
if(z!=0&&x[z-1].name=="Quick Mask")return x[z-1]};ew.prototype.wz=function(){return this.QE==dr.ei("% |/!)")||this.QE==dr.y2("gP")};
ew.prototype.sC=function(x){var z=this.add.artd;if(x!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:x},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};ew.prototype.o2=function(x){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(x)==-1)this.add.FEid.push(x)};
ew.prototype.l8=function(x){var z=this.add.FEid.indexOf(x);this.add.FEid.splice(z,1);if(this.add.FEid.length==0)delete this.add.FEid};
ew.prototype.i=function(x){if(x==null)x=new av(0,0,this.m,this.n);if(this.H_==null)this.H_=x;else this.H_=this.H_.QM(x)};
ew.prototype.atB=function(x){return this.H_!=null};ew.prototype.LA=function(x){var z=this.g[x],A=this.root.RX(x);
if(A==null)return!1;if(z.Q0()||A.parent.children.indexOf(A)==0)return!1;return!0};ew.a7S=function(x){if(x.add.lnk2)for(var F=0;
F<x.add.lnk2.length;F++){var z=x.add.lnk2[F].mZ;x.add.lnk2[F].mZ=ew.Fs()+z.slice(8);for(var A=0;A<x.g.length;
A++){var o=x.g[A].add.SoLd;if(o&&o.Idnt.v==z)o.Idnt.v=x.add.lnk2[F].mZ}}};ew.prototype.aR=function(x,z,A){x.sort(function(b,W){return b-W});
var top=x[x.length-1],o=this.g.slice(0),i=this.f.slice(0),L=[],B=[];for(var F=0;F<this.g.length;F++){if(x.indexOf(F)!=-1)B.push(this.g[F]);
else L.push(this.g[F])}this.Wi(B);this.f=[];var D=this.root.mc(this,!0);if(z)D=D.tE(z);if(A)D=D.QM(A);
if(D.WT())D=new av(0,0,100,100);var Z=new av(-D.x,-D.y,this.m,this.n),j=new Uint8Array(iF.Lg("PSD").ys(this,0,0,[!0,!1]));
this.Wi(o);this.f=i;var a=new ew(this.g[top].getName());iF.Lg("PSD").i0(j.buffer,a);delete a.add.artd;
a.TY=[];a.Wi(a.g);a.q5([[],[]]);ew.a7S(a);Q.lv.U8(a,D);a.i();a.or();a.MK();return[a,D,L,top]};ew.prototype.an1=function(x,z,A){var o=this.aR(x),i=o[0],L=o[1],B=o[2],top=o[3],D;
if(A=="jpg")D=new Uint8Array(iF.Lg("JPG").ys([[i.MK().buffer]],i.m,i.n,[80]));else D=new Uint8Array(iF.Lg("PSD").ys(i,null,null,[!0,!1]));
if(z)B=this.g.slice(0);var Z=this.za(D,i.name,L.x,L.y);if(top==this.g.length-1)B.push(Z);else B.splice(z?top+1:top-x.length+1,0,Z);
this.Wi(B);this.f=[B.indexOf(Z)]};ew.Fs=function(x){if(x==null)x="";var z="";while(z==""||z==x){z="";
for(var F=0;F<8;F++)z+=Math.floor(Math.random()*16).toString(16)}return z};ew.prototype.si=function(x){if(x==null)return;
if(this.add.Patt==null)this.add.Patt=[];var z=this.add.Patt;for(var F=0;F<z.length;F++)if(z[F].id==x.id)return;
z.push(x)};ew.prototype.za=function(x,z,A,o,i,L,B){if(this.add.lnk2==null)this.add.lnk2=[];var D=null,c=!1;
for(var F=0;F<this.add.lnk2.length;F++)if(f.S0(x,this.add.lnk2[F].raw)){D=this.add.lnk2[F].mZ;break}if(D==null){var Z=iF.cd(x.buffer);
D=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f";var j=new g.eC;j.mZ=D;j.T9=Z=="psd"?"8BIM":"    ";j.W7=z+"."+Z;
j.ks=Z=="psd"?"8BPB":"    ";j.open=0;j.raw=x;j.type="liFD";j.TB=2;this.add.lnk2.push(j)}var a=this.vX(D,null,null,null,L,B),b=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f",W=this.Ad();
W.rk(z);if(a!=null){var Y=0,R=0,$=this.m,k=this.n;if(i){Y=i.x;R=i.y;$=i.m;k=i.n}var w=W.rect=a.da[1].clone();
w.offset(Y+A,R+o);var V=Math.max(w.m/$,w.n/k),c=i!=null&&V>1.0001;if(c){w.m=Math.round(w.m/V);w.n=Math.round(w.n/V);
w.x=Math.round(Y+($-w.m)/2);w.y=Math.round(R+(k-w.n)/2)}else if(i!=null&&iF.cd(x.buffer)=="pdf"&&this.um!=144){var V=144/this.um;
w.m=Math.round(w.m/V);w.n=Math.round(w.n/V);c=!0}W.buffer=f.C(w.$()*4);if(!c)f.Yy(a.da[0],W.buffer)}W.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:D},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:b},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:f.qK.C(a?a.da[1]:W.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:W.rect.m},Hght:{t:"doub",v:W.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:a?a.um:72}}};
var h=f.p.Mm(W.rect).v;W.add.SoLd.Trnf=Q.S.rL(h);W.add.SoLd.nonAffineTransform=Q.S.rL(h);if(c)W._6(this,!1);
return W};ew.prototype.MK=function(x){if(x!=null){this.i();this.or(x);var z=this.buffer;if(O.Id)this.mP.get(z);
else z=z.slice(0);this.i();this.or();return z}if(this.H_){this.or();this.H_=null}if(O.Id&&this.pe){this.mP.get(this.buffer);
this.pe=null;this.Gy=!0}return this.buffer};ew.prototype.arw=function(){for(var F=0;F<this.g.length;
F++)this.g[F].a26();this.i()};ew.prototype.ad_=function(){for(var F=0;F<this.g.length;F++)if(this.g[F].add.lmfx)this.g[F].AT.KM=!0};
ew.prototype.Q3=function(){var x=this.d3.r1044;if(x==null){x=this.d3.r1044=new Uint8Array(4);var z=0;
for(var F=0;F<this.g.length;F++)z=Math.max(z,this.g[F].add.lyid);m.bw(x,0,z)}var A=m.l(x,0);m.bw(x,0,A+1);
return A+1};ew.prototype.Qi=function(x,z,A){if(x==null)x=!0;var o=this;if(o.CE.length!=0)return!0;if(o.f.length!=1){if(x)alert(o.f.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.L0(x,z,A)};ew.prototype.L0=function(x,z,A){if(x==null)x=!0;if(z==null)z=!1;var o=this;
if(o.CE.length!=0)return!0;for(var F=0;F<o.f.length;F++){var i=o.g[o.f[F]],L=z||i.ZD<=0;if(i.add.lsct!=null&&i.add.lsct!=hF.OI&&i.ZD!=1){if(x)alert(kc.get([15,7,2]));
return!1}if(L&&!i.RC()){if(x)alert(kc.get([15,7,2]));return!1}if(L&&i.add.TySh){return this.aps(x,[15,7,3],A)}if(L&&i.add.SoLd){return this.aps(x,[15,7,4],A)}if(i.bb(1)||o.gx(o.f[F])){if(x)alert(kc.get([6,57,0]));
return!1}}return!0};ew.prototype.aps=function(x,z,A){if(x&&typeof x=="object"){var o=new fZ(G.E.Y);o.data={d:G.U.z1,ca:"confirm"};
o.data.h=kc.get(z)+". "+kc.get([6,8])+"?";var i=x;o.data.Cn=function(){var L=new fZ(G.E.rm,!0);L.data={zR:"rasterizeLayer",k7:{classID:"rasterizeLayer",null:jd.uU("Lyr",!0)}};
i.c(L)};x.c(o);return!1}if(x)alert(kc.get(z));return!1};ew.prototype.aau=function(x){var z=this.root.RX(x);
if(z.parent)return z.j.Gi()&&this.aau(z.parent.index);else return z.j.Gi()};ew.prototype.oT=function(){var x=this;
if(x.add.artd&&x.f.length!=0){var z=x.root.RX(x.f[0]);while(z.parent.parent)z=z.parent;if(z.j.add.artb)return z.index}return-1};
ew.prototype.anY=function(){var x=this.g[this.f[0]];if(x.ZD<=0&&!x.rect.$X(this.O.rect)){alert("Selected area is empty.");
return!1}if(this.f.length==1&&this.O){var z=f.C(this.O.channel.length);f.mK(x.buffer,x.rect,z,this.O.rect);
f.bA(this.O.channel,z);if(f.DX(z,0)){alert("Selected area is empty.");return!1}}return!0};ew.prototype.kA=function(){if(this.d3["r"+1037]==null)this.he(30);
return m.JR(this.d3["r"+1037],0)};ew.prototype.he=function(x){if(this.d3["r"+1037]==null)this.d3["r"+1037]=new Uint8Array(4);
if(m.JR(this.d3["r"+1037],0)==x)return;m.mh(this.d3["r"+1037],0,x);this.ad_()};ew.prototype.Ee=function(){if(this.d3["r"+1049]==null)this.$r(30);
return m.JR(this.d3["r"+1049],0)};ew.prototype.$r=function(x){if(this.d3["r"+1049]==null)this.d3["r"+1049]=new Uint8Array(4);
if(m.JR(this.d3["r"+1049],0)==x)return;m.mh(this.d3["r"+1049],0,x);this.ad_()};ew.prototype.E3=function(x){if(this.add.lnk2==null)return null;
for(var F=0;F<this.add.lnk2.length;F++)if(this.add.lnk2[F].mZ==x)return this.add.lnk2[F];return null};
ew.prototype.ase=function(x){var z=this.E3(x);if(z==null)return!1;var A=iF.cd(z.raw.buffer);if(A==null)return!1;
if(iF.Lg(A)!=null||A=="psd")return!0;return!1};ew.prototype.vX=function(x,z,A,o,i,L){var B=this.E3(x);
if(B==null)return null;B.MK(z,A,o,i,L);if(B.da)return B};ew.prototype.a9J=function(){var x=this.m,z=this.n;
if(O.Id&&this.mP==null)this.mP=new O.mz(x,z,!0);if(this.buffer==null||this.buffer.length!=x*z*4||O.Id&&(this.mP.m!=x||this.mP.n!=z)){this.buffer=f.C(x*z*4);
if(this.mP)this.mP.delete();if(O.Id)this.mP=new O.mz(x,z,!0)}};ew.prototype.aoK=function(){this.a9J();
if(O.Id){this.mP.set(this.buffer)}};ew.prototype.or=function(x){var z=this.m,A=this.n,o=new av(0,0,z,A),i=o.tE(this.H_);
this.a9J();if(i.WT())return;if(!i.S0(o)){if(!O.Id){var L=f.vJ(i.$()*4);f.mV(L,i,this.buffer,o)}if(O.Id){O.WW(this.mP,i);
O.hJ(0)}}else{if(O.Id){this.mP.set(null)}else{this.buffer.fill(0)}}var B=Date.now(),D=O.Id?this.mP:this.buffer;
if(x==null)x=1e9;var Z=this.root.children;for(var F=0;F<Z.length;F++){var j=Z[F].j;if(j.Gi()&&j.add.artb&&this.add.artd){var a=j.nU(),b=i.tE(a),W=j.WE();
if(W!=0){if(O.Id){O.WW(D,b);O.hJ(W);O.hJ(W)}else f.afc(D,o,b,W)}}}this.root.Fx(D,o,i,this,[],x);this.pe=this.H_.clone()};
ew.prototype.Ad=function(x){var z=new g;z.rect=new av(0,0,0,0);z.buffer=f.C(1);z.add.luni=new iL(0,0);
if(x!=!0)z.add.lyid=this.Q3();z.add.lsct=hF.OI;z.add.lclr=0;z.add.fxrp=new iL(0,0);return z};ew.prototype.Qy=function(x){var z=this.Ad(x);
z.rk("</Layer group>");z.add.lsct=hF.ju;z.Fu=24;return z};ew.prototype.Ws=function(){return this.pF!=this.Dx};
ew.prototype.U7=function(x){while(this.history.length>this.pF+1)this.history.pop();if(this.Dx>this.pF)this.Dx=-1;
if(x.k.id!=Q.CQ){this.EV=!0;if(this.$C.lastAppliedComp){delete this.$C.lastAppliedComp;this.Gy=!0}}this.history.push(x);
this.pF++;this.Gy=!0;var z=eP.sv()?60:30,A=0;for(var F=this.history.length-1;F>=0;F--){var o=this.history[F];
if(o.EQ)continue;A++;if(A==z){this.pF-=F;this.history=this.history.slice(F);break}}};ew.prototype.nW=function(){if(this.pF!=this.history.length-1)return null;
return this.history[this.history.length-1]};ew.prototype.al=function(x,z,A,o){if(x==null)x=!1;var i=z!=null?[z]:this.f.slice(0);
if(o){var L=[];for(var F=0;F<i.length;F++){var B=this.g[i[F]],D=B.en;if(B.xw&&D!=0&&L.indexOf(D)==-1)L.push(D)}if(L.length!=0)for(var F=0;
F<this.g.length;F++){var B=this.g[F],D=B.en;if(B.xw&&D!=0&&L.indexOf(D)!=-1&&i.indexOf(F)==-1)i.push(F)}}var Z=[];
for(var F=0;F<i.length;F++){var j=this.cz(i[F],x);for(var a=0;a<j.length;a++)if(Z.indexOf(j[a])==-1)Z.push(j[a]);
if(A){var f5=this.root.RX(i[F]);while(f5.parent!=null&&f5.parent.parent!=null){f5=f5.parent;if(Z.indexOf(f5.index)==-1){Z.push(f5.index,f5.fb)}}}}return Z};
ew.prototype.mW=function(x,z,A){var o=this,i=o.al(!1,x,null,A);i.sort(function(V,h){return V-h});var L={};
for(var B=0;B<o.g.length;B++){var D=o.g[B].getName();L[D]=!0}var Z=[];for(var F=0;F<i.length;F++){var j=o.g[i[F]].clone(),$,k;
j.add.lyid=o.Q3();j.add.lspf=0;if(j.Mi()){var a=j.zg(o),b=ew.aiw(a);o.o2(b);j.add.SoLd.placed.v=b.id}else if(j.add.SoLd){var W=j.add.SoLd.placed.v;
j.add.SoLd.placed.v=ew.Fs(W.slice(0,8))+W.slice(8)}j.cm(o);var c=j.getName(),Y=c.length;while(48<=c.charCodeAt(Y-1)&&c.charCodeAt(Y-1)<=57)Y--;
var R=parseInt(c.slice(Y));if(isNaN(R)){if(c.endsWith(" copy")){R=1;$=c.slice(0,c.length-5)}else{R=0;
$=c}}else if(c.slice(0,Y).endsWith(" copy ")){R=R;$=c.slice(0,Y-6)}else{R=0;$=c}R++;while(!0){k=$+" copy"+(R==1?"":" "+R);
if(L[k]==null)break;R++}var w=i.indexOf(this.root.RX(i[F]).parent.index)!=-1;if(c=="Background"&&o.g.length==1)k="Layer 1";
if(z!=!0&&!w)j.rk(k);L[k]=!0;Z.push(j)}return Z};ew.aiw=function(x){return{id:ew.Fs(x.id.slice(0,8))+x.id.slice(8),buffer:x.buffer.slice(0),rect:x.rect.clone(),B:x.B?x.B.clone():null}};
ew.aew=function(x){return{id:x,rect:new av,buffer:f.C(1),B:new g.$R}};ew.HA=function(x,z){if(z==null)z={vmsk:new g.tZ};
if(z.vogk==null){z.vogk=[];var A=f.J.T1(z.vmsk._);for(var o=0;o<A;o++)z.vogk.push(f.i4.vJ())}return{name:x,dD:0,add:z}};
ew.prototype.Dd=function(x){var z=[],A=[],o=this,L=0;for(var F=1;F<o.Ds.length;F++){var i=o.Ds[F];i.dD=-1-F;
z.push(i);if(o.Dt.indexOf(F)!=-1)A.push(z.length-1)}if(o.Ds[0].add.vmsk._.length>2){var i=o.Ds[0];i.dD=-1;
z.push(i);if(o.Dt.indexOf(0)!=-1)A.push(z.length-1)}var B=o.Iz==null;if(B)o.Iz=[];for(var F=o.f.length-1;
F>=0;F--){var D=o.g[o.f[F]],Z=D.add.TySh;if(D.add.vmsk!=null&&(D.Ro||D.d8())){var i=ew.HA("\""+D.getName()+"\" Shape Path",D.add);
i.dD=o.f[F];z.push(i);if(B)o.Iz.push(L);if(o.Iz.indexOf(L)!=-1)A.push(z.length-1);L++}if(x!=!0&&Z&&Z.add&&f.qK.h8(Z.rK)){var i=ew.HA("\""+D.getName().slice(0,10)+"..\" Text Path",Z.add);
i.dD=1e6+o.f[F];z.push(i);A.push(z.length-1);L++}}if(A.length==0&&x){o.Ds[0].dD=-1;o.Dt=[0];A.push(z.length);
z.push(o.Ds[0])}return[z,A]};ew.prototype.cz=function(F,x){var z=[],f5=this.root.RX(F);if(f5)f5.a3Q(z,x);
return z};ew.prototype.kW=function(){this.root.p2(this,new av(0,0,this.m,this.n),32*Q.Z())};ew.prototype.Wi=function(x){for(var F=0;
F<this.g.length;F++){var z=this.g[F];if(x.indexOf(z)==-1){z.AT.a8b();z.i()}}var A=0;for(var F=0;F<x.length;
F++)if(x[F].add.artb)A++;this.sC(A);this.g=x.slice(0);this.GK()};ew.prototype.GK=function(){var x=this.g,z=x.length;
this.root=new fR;var A=this.Ad(!0);A.Cz="pass";A.add.lsct=hF.X7;A.rk("");var o=this.Qy(!0),i=[o];for(var F=0;
F<z;F++)i.push(x[F]);i.push(A);this.root.ajD(i,0,0);if(this.f.length==0)this.f=[z-1]};ew.prototype.Tr=function(){if(this.f.length!=1)return;
var x=this.root.RX(this.f[0]);while(x.parent!=null){var z=x.parent.j;z.add.lsct=hF.X7;x=x.parent}this.o$=this.ax6=!0};
ew.prototype.ajK=function(){this.GK();var x=[this.root],is=0;while(x.length!=0){var top=x.pop();is++;
if(top.j.add.lsct==hF.X7)for(var F=0;F<top.children.length;F++)x.push(top.children[F])}if(is>1e3){var z=this.root.children;
for(var F=0;F<z.length;F++)if(z[F].j.add.lsct==hF.X7)z[F].j.add.lsct=hF.$Z}};ew.bR=function(x,z,A,o,i,L,B,D){if(D==null)D="sRGB IEC61966-2.1";
var Z={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:o},artboard:{t:"bool",v:L},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:x}},Hght:{t:"UntF",v:{type:"#Rlt",val:z}},Rslt:{t:"UntF",v:{type:"#Rsl",val:A}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:i}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:D}}}};
if(i=="Clr")Z.Nw.v.FlCl={t:"Objc",v:B};return{zR:"make",k7:Z}};ew.al4=function(x,z){var A=0,o=0,i=72,L=z.a1P,B=x.preset&&x.preset.v=="Clipboard";
if(B){A=L.m;o=L.n}else{A=x.Wdth.v.val;o=x.Hght.v.val;i=x.Rslt.v.val}var D=new ew((x.Nm?x.Nm.v:kc.get([11,7]))+".psd");
D.m=A;D.n=o;D.um=i;var Z=x.Fl?x.Fl.v.Fl:"Wht";if(x.artboard&&x.artboard.v){var j=D.Ad();j.rk(kc.get([1,16,0])+" 1");
j.add.lsct=hF.X7;j.T4(new av(0,0,A,o));j.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[Z]};
if(Z=="Clr")j.add.artb.Clr={t:"Objc",v:f.Q.Vv(f.Q.Pw(x.FlCl.v))};j.Cz="pass";j.Fu=24;var a=D.Ad();a.rk("Layer 1");
D.Wi([D.Qy(),a,j]);D.sC(1);D.f=[1]}else{var b=D.Ad(),W=0;b.rk("Background");D.Wi([b]);b.add.lspf=1<<2;
if(Z=="Clr"){W=f.Q.Pw(x.FlCl.v);W=255<<24|Math.round(W.s)<<16|Math.round(W.a)<<8|Math.round(W.w)}else{var c=z.GN;
c=(c&255)<<16|(c>>>8&255)<<8|c>>>16;W={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|c}[Z]}b.rect=new av(0,0,A,o);
b.buffer=f.C(A*o*4);f.OD(b.buffer,W)}D.buffer=f.C(A*o*4);var Y=x.profile;if(Y){var R={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[Y.v];
if(R)D.nN(iF.mR.get(R))}return D};function d2(x){this.m5=x;this.X=0;this.tK=1;this.u=new iL(0,0);this.m8=new iL(0,0);
this.Yp=0;this.u1=[1,1,1];this.Z1=0;this.VK=new av(0,0,1,1);this.a52=new av(0,0,x.m,x.n);this.xC=null;
this.jW=null;this.GL=new Uint32Array(0);this.Nn=null;this.Lv=null;this.P4=f.C(0);this.zX=null;this.XK=null}d2.prototype.$f=function(x){var z=new cb,A=this.VK,o=this.m5,i=x?this.tK:this.X,L=x?this.m8:this.u,B=Math.round((A.m-o.m*i)/2+L.x),D=Math.round((A.n-o.n*i)/2+L.y);
z.translate(-B,-D);z.scale(1/i,1/i);var Z=o.m/2,j=o.n/2;z.translate(-Z,-j);z.rotate(this.Yp);z.translate(Z,j);
return z};d2.prototype.auA=function(x){var z=this.VK,A=this.m5,o=Math.atan2(-x.s,x.xc),i=A.m/2,L=A.n/2;
x.translate(-i,-L);x.rotate(-o);x.translate(i,L);var B=1/x._q();x.scale(B,B);var D=-x.ZT,Z=-x._s,j=Math.round(D-(z.m-A.m*B)/2),a=Math.round(Z-(z.n-A.n*B)/2);
if(Math.abs(B-Math.round(B))<1e-6)B=Math.round(B);this.Yp=o;this.X=B;this.u=new iL(j,a)};d2.prototype.Sd=function(x,z){var A=this.$f();
return A.nx(new iL(x,z))};d2.prototype.ay=function(x,z){var A=this.$f();A.Qs();return A.nx(new iL(x,z))};
function gN(){}gN.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");gN.OX="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
gN.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];gN.adU=["DrSh","IrSh","SoFi","GrFl","FrFX"];
gN.ww=["Clr"];gN.B_="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");gN.Lm=["Ptrn","Angl","Scl","Algn","phase"];
gN.VQ={k0:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",atF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",atd:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a3Z:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",hB:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
gN.VQ.k0="\"Clr\": "+gN.VQ.k0;gN.VQ.Q="\"Grad\":"+gN.VQ.atF+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
gN.VQ.hB="\"Ptrn\":"+gN.VQ.hB+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
gN.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
gN.NK=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+gN.VQ.k0+","+gN.VQ.Q+","+gN.VQ.hB+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gN.VQ.k0+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gN.VQ.Q+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gN.VQ.hB+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
gN.Q={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
gN.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Ar:["SClr","GrFl","Ptrn"],acW:[[13,0],[12,37],[12,62]]};
gN.Lj={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ait:["SrcC","SrcE"],aa5:[[19,5,1],[12,69]]};gN.m_={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],adi:["SfBL","PrBL","Slmt"],agk:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
gN.J9={qA:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],kq:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],x6:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+gN.VQ.k0+"}")},strokeStyleResolution:{t:"doub",v:72}}};
gN.Xl=[{classID:"null",Clr:JSON.parse(gN.NK[5]).Clr},{classID:"null",Grad:JSON.parse(gN.NK[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(gN.NK[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var ct={};ct.Kp=function(x,z){function A(x,W){if(x==null)return null;var c=x[W].v,Y;if(c.length!=0){Y=c[0].v;
if(!Y.enab.v)Y=null}return Y}var o=z.SoCo,i=z.GdFl,L=A(x,"solidFillMulti"),B=A(x,"gradientFillMulti");
if(L==null&&B==null)return[o,i];var D=ct.at0;if(o&&L&&B==null){var Z=JSON.parse(JSON.stringify(o));Z.Clr.v=D(L.Clr.v,o.Clr.v,L);
return[Z,null]}if(i&&L&&B==null){var j=JSON.parse(JSON.stringify(i)),a=j.Grad.v.Clrs.v;for(var F=0;F<a.length;
F++){var b=a[F].v.Clr;b.v=D(L.Clr.v,b.v,L)}return[null,j]}if(o&&B){var j=JSON.parse(JSON.stringify(B)),a=j.Grad.v.Clrs.v;
for(var F=0;F<a.length;F++){var b=a[F].v.Clr;b.v=D(b.v,o.Clr.v,B)}return[null,j]}return[L,B]};ct.am5={uG:f.C(4),RK:f.C(4),w:new av(0,0,1,1)};
ct.at0=function(x,z,A){var o=b_.Sa(A.Md.v.BlnM),i=A.Opct.v.val/100,L=ct.am5;x=f.Q.Pw(x);z=f.Q.Pw(z);
L.uG[0]=x.w;L.uG[1]=x.a;L.uG[2]=x.s;L.uG[3]=255;L.RK[0]=z.w;L.RK[1]=z.a;L.RK[2]=z.s;L.RK[3]=255;f.q.lx(o,L.uG,L.w,L.RK,L.w,L.w,i);
return{classID:"RGBC",Rd:{t:"doub",v:L.RK[0]},Grn:{t:"doub",v:L.RK[1]},Bl:{t:"doub",v:L.RK[2]}}};ct.a9y=function(x,z,A){var o=x;
x=x.slice(0);var i=b_.Am[b_.p3.indexOf(z.Md.v.BlnM)],L=f.Q.Pw(z.Clr.v),B=4278190080|Math.round(L.s)<<16|Math.round(L.a)<<8|Math.round(L.w),D=f.C(A.$()*4);
f.OD(D,B);f.q.lx(i,D,A,x,A,A,z.Opct.v.val/100);for(var F=0;F<x.length;F+=4)x[F+3]=o[F+3];return x};ct.pi=function(x,z){var A=["Sz","blur","Sftn","Dstn"];
for(var F=0;F<gN.order.length;F++){var o=gN.order[F],i=x[gN.OX[F]].v;for(var L=0;L<i.length;L++){var B=i[L].v;
for(var D=0;D<A.length;D++){var Z=B[A[D]];if(Z){var j=Z.v.val,a=j;a=Math.max(j==0?0:1,a*z);if(o=="ChFX")a=Math.min(a,250);
if(o=="ebbl"){if(A[D]=="blur")a=Math.min(a,250);if(A[D]=="Sftn")a=Math.min(a,16)}Z.v.val=Math.round(a)}}if(o=="ebbl"||o=="patternFill"||o=="FrFX")if(B.Ptrn&&B.Scl)B.Scl.v.val=Math.max(1,Math.min(1e3,B.Scl.v.val*z))}}};
ct.aeH=function(x,z,A){var o=new av(-.5,-.5,1,1);for(var F=0;F<gN.order.length;F++){var i=gN.order[F],L=x[gN.OX[F]].v;
for(var B=0;B<L.length;B++){var D=L[B].v,b;if(!D.enab.v)continue;var Z=D.blur?D.blur.v.val+1:0,j=D.Ckmt?D.Ckmt.v.val/100:0,a=Math.round(Z*j);
if(i=="DrSh"||i=="IrSh"&&A){b=new av(-.5,-.5,1,1);b.nw(Z,Z);ct.tb(b,D,z,0)}if(i=="OrGl"||i=="IrGl"&&A){b=new av(-.5,-.5,1,1);
b.nw(Z,Z)}if(i=="FrFX"){var W=ct.YJ(D),c=W[1];if(A)c=Math.max(W[0],c);b=new av(-.5,-.5,1,1);b.nw(Math.ceil(c),Math.ceil(c))}if(i=="ebbl"){var Z=D.blur.v.val,Y=D.bvlS.v.BESl;
if(Y=="Embs"||Y=="PlEb")Z/=2;var R=["OtrB","InrB","Embs","PlEb","strokeEmboss"],$=["SfBL","PrBL","Slmt"],k=["In","Out"],w=D.bvlT.v.bvlT!="SfBL"?Z:Z*.43,V=Math.round(Z);
b=new av(-V-1,-V-1,2*V+2,2*V+2)}if(A&&i=="ChFX"){b=new av(-.5,-.5,1,1);b.nw(Z,Z);var h=b.clone();ct.tb(b,D,z,0);
ct.tb(h,D,z,Math.PI);b=b.QM(h)}if(b)o=o.QM(b)}}if(o.x!=Math.ceil(o.x)){o.x=Math.ceil(o.x);o.m-=1}if(o.y!=Math.ceil(o.y)){o.y=Math.ceil(o.y);
o.n-=1}o.m=Math.floor(o.m);o.n=Math.floor(o.n);return o};ct.YJ=function(x){var z=0,A=0,o=x.Styl.v.FStl,i=x.Sz.v.val;
if(o=="OutF")A=i;if(o=="InsF")z=i;if(o=="CtrF")z=A=i/2;return[z,A]};ct.arJ=function(x){if(O.Id&&x.As==null){x.As=new O.mz(x.FG.m,x.FG.n);
x.As.set(x.ov);delete x.ov;if(x.bI){x.N$=new O.tv(x.FG.m,x.FG.n);x.N$.set(x.bI);delete x.bI}if(x.VD){x.JQ=new O.tv(x.FG.m,x.FG.n);
x.JQ.set(x.VD);delete x.VD}}};ct.a9A=function(x){if(x.As)x.As.delete();if(x.N$)x.N$.delete();if(x.JQ)x.JQ.delete()};
ct.akP=function(x){if(x.all==null)return;for(var F=0;F<x.all.length;F++){ct.a9A(x.all[F])}};ct.apw=function(x,z,A,o,i,L){var B=ct.cE(A,o,x,z,i,L);
for(var F=0;F<B.all.length;F++)ct.arJ(B.all[F]);return B};ct.adx=function(x){for(var F=0;F<gN.order.length;
F++){var z=gN.order[F],A=gN.OX[F],o=x[A].v;for(var i=0;i<o.length;i++){var L=o[i].v;if(L.enab.v&&["patternFill","GrFl","SoFi"].indexOf(z)==-1)return!0}}return!1};
ct.cE=function(x,z,A,o,i,L){if(L==null)L=o;var B=0,D=0;for(var F=0;F<gN.order.length;F++){var Z=gN.order[F],j=gN.OX[F],a=x[j].v;
for(var b=0;b<a.length;b++){var W=a[b].v;if(Z=="DrSh"&&W.enab.v&&W.Ckmt.v.val>0&&W.blur.v.val>0)B=Math.max(B,Math.ceil(W.Ckmt.v.val*W.blur.v.val/100));
if(Z=="OrGl"&&W.enab.v&&W.Ckmt.v.val>0&&W.blur.v.val>0&&W.GlwT.v.BETE=="SfBL")B=Math.max(B,Math.ceil(W.Ckmt.v.val*W.blur.v.val/100));
if(Z=="OrGl"&&W.enab.v&&W.blur.v.val>0&&W.GlwT.v.BETE=="PrBL")B=Math.max(B,W.blur.v.val);if(Z=="FrFX"&&W.enab.v&&W.Sz.v.val>0){if(W.Styl.v.FStl=="OutF")B=Math.max(B,W.Sz.v.val);
if(W.Styl.v.FStl=="CtrF")B=Math.max(B,Math.ceil(W.Sz.v.val/2));D=Math.max(D,ct.YJ(W)[1])}}}var c=new ct.B8(A,o,B,ct.adx(x)),Y=-o.x,R=-o.y,$={type:{},all:[]};
for(var k=0;k<gN.order.length;k++){var Z=gN.order[k],j=gN.OX[k];$.type[Z]=[];for(var w=x[j].v.length-1;
w>=0;w--){var V=x[j].v[w].v,q;if(!V.enab.v)continue;var h=V.blur?V.blur.v.val:0,l=V.Ckmt?V.Ckmt.v.val/100:0,M=h*l;
if(Z=="DrSh"){var t=c.Zh(M,h-M,!0),p=t.Od,E=t.G8;E.offset(Y,R);ct.xQ(p,V,!1);ct.tb(E,V,i,0);var _=f.C(E.$()*4);
ct.yS(_,V.Clr.v);f.c8(p,_,3);q={ov:_,FG:E,art:V.layerConceals.v}}else if(Z=="IrSh"){var t=c.Zh(M,h-M,!1);
ct.tb(t.G8,V,i,0);var E=c.rect().clone(),p=f.C(E.$());p.fill(255);f.K5(t.Od,t.G8,p,E);ct.xQ(p,V,!0);
var _=f.C(E.$()*4);ct.yS(_,V.Clr.v);f.c8(p,_,3);E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="GrFl"){var _=f.C(c.rect().$()*4);
ct.nH(V,_,c.rect(),i,null,L);var E=c.rect().clone();E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="SoFi"){var _=f.C(c.Od().length*4);
ct.yS(_,V.Clr.v);var E=c.rect().clone();E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="ebbl"){var S=!1;if(S)console.log(V);
var y=Date.now(),v=V.bvlS.v.BESl;if(v=="strokeEmboss"){var r=x.frameFXMulti.v;if(r.length==0)continue;
r=r[0].v;if(!r.enab.v)continue;var K=r.Styl.v.FStl;if(K=="OutF")v="OtrB";if(K=="CtrF")v="Embs";if(K=="InsF")v="InrB"}var h=V.blur.v.val;
if(h==0)h=.7;if(v=="Embs"||v=="PlEb")h/=2;var s=["OtrB","InrB","Embs","PlEb","strokeEmboss"],P=["SfBL","PrBL","Slmt"],d=["In","Out"],X=V.bvlT.v.bvlT!="SfBL"?h:h*.45,U=Math.round(h),n=c.rect().clone(),e=n.clone();
e.nw(U,U);var J=e.m,C=e.n,H=J*C,u=f.C(H);f.K5(c.Od(),n,u,e);var bc=new Float64Array(H),jK=new Float64Array(H);
f.style.My(u,bc,J,C);f.Qs(u);f.style.My(u,jK,J,C);if(S)console.log("distTransform computed",Date.now()-y);
for(var F=0;F<H;F++)jK[F]=jK[F]-bc[F];for(var F=0;F<H;F++){var N=jK[F];if(N<-X)jK[F]=-X;else if(N>X)jK[F]=X}if(S)console.log("summing + cropping",Date.now()-y);
if(V.bvlT.v.bvlT=="SfBL"){var he=Math.pow(h*.21,1.22);if(!0)he=Math.max(he,2);var gJ=f.ZY.Z3(he,2);f.ZY.Yf(jK,bc,e,gJ[0]>>>1);
f.ZY.Yf(bc,jK,e,gJ[1]>>>1)}if(S)console.log("blurring",Date.now()-y);var kg=jK,cJ=kg.slice(0);if(V.useShape.v){var it=Math.min(100,V.Inpr.v.val+1)/100;
if(v!="OtrB"&&v!="InrB")it=1;var by=f.tt.Z8(V.MpgS.v.Crv.v,2e3),cz=Math.round(2e3/it);by=f.tt.aoZ(by,cz,v=="InrB");
var fG=.5/X;for(var F=0;F<H;F++){var ju=kg[F],gW=.99999*(ju+X)*fG;kg[F]=-X+2*X*by[~~(gW*(cz-1))]}if(S)console.log("applying shape",Date.now()-y)}if(V.useTexture.v){var iI=f.C(J*C*4);
ct.su(V,iI,e,i.add.Patt,z);var ht=f.C(J*C);f.wJ(iI,ht);var et=f.C(J*C);f.ZY.DP(ht,et,e,1);ht=et;var be=h*V.textureDepth.v.val*(1/100)*(1/255);
if(V.InvT.v)be=-be;for(var F=0;F<H;F++)kg[F]+=-be*ht[F];if(S)console.log("applying texture",Date.now()-y)}var c9=(V.bvlT.v.bvlT=="SfBL"?1:.5)*(V.bvlD.v.BESs=="In"?1:-1)*V.srgR.v.val/100;
for(var F=0;F<H;F++)kg[F]*=c9;if(S)console.log("scaling",Date.now()-y);var aJ=V.uglg&&V.uglg.v?i.kA():V.lagl.v.val;
aJ=aJ*(Math.PI/180);var b6=V.uglg&&V.uglg.v?i.Ee():V.Lald.v.val;b6=b6*(Math.PI/180);var ef=Math.cos(aJ)*Math.cos(b6),jV=-Math.sin(aJ)*Math.cos(b6),hu=Math.sin(b6),eG=new Float64Array(H),k8=new Float64Array(H),eE=v=="PlEb";
for(var jD=0;jD<C;jD++)for(var a_=0;a_<J;a_++){var F=jD*J+a_,cH=0,ic=0,aj=1;if(jD!=0&&jD!=C-1&&a_!=0&&a_!=J-1){var ay=kg[F-J-1],dS=kg[F-J+1],hC=kg[F+J-1],eq=kg[F+J+1];
cH=-.125*(dS+2*kg[F+1]+eq-(ay+2*kg[F-1]+hC));ic=-.125*(hC+2*kg[F+J]+eq-(ay+2*kg[F-J]+dS))}else{var ck=kg[F];
ic=-(jD==0?kg[F+J]-ck:jD==C-1?ck-kg[F-J]:.5*(kg[F+J]-kg[F-J]));cH=-(a_==0?kg[F+1]-ck:a_==J-1?ck-kg[F-1]:.5*(kg[F+1]-kg[F-1]))}var eL=1/Math.sqrt(cH*cH+ic*ic+1);
cH*=eL;ic*=eL;aj*=eL;var gj=cH*ef+ic*jV+aj*hu,bv=gj;if(eE)bv=-cH*ef-ic*jV+aj*hu;if(gj>0)eG[F]=gj;if(bv>0)k8[F]=bv}if(S)console.log("raycasting",Date.now()-y);
if(V.Sftn.v.val!=0){f.ZY.nT(eG,bc,e,V.Sftn.v.val*.43);var dK=bc,bc=eG,eG=dK;if(eE){f.ZY.nT(k8,bc,e,V.Sftn.v.val*.43);
var dK=bc,bc=k8,k8=dK}else f.Yy(eG,k8)}if(S)console.log("softening",Date.now()-y);var by=f.tt.Z8(V.TrnS.v.Crv.v,1024);
for(var F=0;F<H;F++){eG[F]=by[~~(eG[F]*1024)];k8[F]=by[~~(k8[F]*1024)]}if(S)console.log("contour remap",Date.now()-y);
J=Math.round(J);C=Math.round(C);var cC=f.C(J*C*4);ct.yS(cC,V.hglC.v);var iv=f.C(J*C*4);ct.yS(iv,V.sdwC.v);
var dJ=f.C(J*C*4);ct.yS(dJ,V.hglC.v);var km=f.C(J*C*4);ct.yS(km,V.sdwC.v);var aM=1/hu,fq=1/(1-hu),fG=1/X,dV=new Float64Array(1e3);
for(var F=0;F<1e3;F++)dV[F]=Math.pow(F*.001,.2);for(var jD=0;jD<C;jD++)for(var a_=0;a_<J;a_++){var F=jD*J+a_,im=4*F+3,hj=0,d8=0;
hj=eG[F];d8=k8[F];var cI=Math.max(0,Math.min(.9999,(cJ[F]+X*.993)*fG));cI=dV[Math.floor(cI*1e3)];var gD=cI*(1-Math.min(1,hj*aM)),iw=cI*(1-Math.min(1,(1-hj)*fq)),e3=cI*(1-Math.min(1,d8*aM)),c5=cI*(1-Math.min(1,(1-d8)*fq));
iv[im]=Math.round(255*gD);cC[im]=Math.round(255*iw);km[im]=Math.round(255*e3);dJ[im]=Math.round(255*c5)}if(S)console.log("baking textures",Date.now()-y);
e=c.rect().clone();e.nw(U,U);e.offset(Y,R);q={a9d:V.bvlS.v.BESl=="strokeEmboss"};var eT=b_.Sa(V.hglM.v.BlnM),iO=V.hglO.v.val/100,hW=b_.Sa(V.sdwM.v.BlnM),j5=V.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(v)!=-1){q.r7={ov:cC,FG:e,ul:eT,fA:iO};q.yb={ov:iv,FG:e,ul:hW,fA:j5}}if(["OtrB","Embs","PlEb"].indexOf(v)!=-1){q.gT={ov:dJ,FG:e,ul:eT,fA:iO};
q.QP={ov:km,FG:e,ul:hW,fA:j5}}if(S)console.log(Date.now()-y)}else if(Z=="patternFill"){var aL=c.rect(),_=f.C(aL.$()*4);
ct.su(V,_,aL,i.add.Patt,z);var E=aL.clone();E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="ChFX"){var _=f.C(c.Od().length*4);
ct.yS(_,V.Clr.v);var h=V.blur.v.val,gk=c.rect().clone();gk.nw(h,h);var eA=f.C(gk.$()),gF=f.C(gk.$());
f.K5(c.Od(),c.rect(),gF,gk);f.ZY.nM(gF,eA,gk,h*.43);var bB=f.tt.PZ(V.MpgS.v.Crv.v,256,!0);f.hu(eA,bB);
var ix=f.C(c.Od().length),ab=f.C(c.Od().length),ez=c.rect().clone();ct.tb(ez,V,i,0);f.K5(eA,gk,ix,ez);
ez=c.rect().clone();ct.tb(ez,V,i,Math.PI);f.K5(eA,gk,ab,ez);var cM=ix.length;for(var F=0;F<cM;F++)_[4*F+3]=Math.abs(ix[F]-ab[F]);
if(V.Invr.v)for(var F=0;F<cM;F++)_[4*F+3]=255-_[4*F+3];var E=c.rect().clone();E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="OrGl"){var t;
if(V.GlwT.v.BETE=="SfBL")t=c.Zh(M,h-M,!0);else t=c.abL(h,l,!0);var p=t.Od,E=t.G8,ib=p.slice(0);ct.avd(p,V);
var _=f.C(E.$()*4);if(V.Grad==null){ct.yS(_,V.Clr.v);ct.xQ(p,V,!1)}else{ct.xQ(p,V,null);var hU={bQ:p,iG:255,by:0,DD:E};
ct.nH(V,_,E,i,hU);var hi=V.Nose.v.val/100,go=E.m;for(var F=0;F<ib.length;F++){var bg=255,hB=ib[F];if(hB<32){var d5=(hB+ib[F-1]+ib[F+1]+ib[F-go]+ib[F+go])*.2-1;
bg=Math.min(255,Math.round(Math.max(0,d5)*8))}p[F]=bg}ct.a98(p,V)}f.c8(p,_,3);E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="IrGl"){var t;
if(V.GlwT.v.BETE=="SfBL")t=c.Zh(M,h-M,!1);else t=c.abL(h,l,!1);var p=t.Od,E=t.G8;ct.avd(p,V);if(V.glwS.v.IGSr=="SrcC")f.Qs(p);
var _=f.C(E.$()*4);if(V.Grad==null){ct.yS(_,V.Clr.v);ct.xQ(p,V,!0)}else{ct.xQ(p,V,null);var hU={bQ:p,iG:255,by:0,DD:E};
ct.nH(V,_,E,i,hU);p.fill(255);ct.a98(p,V)}f.c8(p,_,3);E.offset(Y,R);q={ov:_,FG:E}}else if(Z=="FrFX"){var fb=ct.YJ(V),js=fb[0],hJ=fb[1],E=c.rect().clone(),cx=null,i7=null;
E.nw(Math.ceil(D),Math.ceil(D));if(hJ>0){var t=c.Zh(hJ,0,!0);i7=t.Od;if(i7.length<E.$()){i7=f.C(E.$());
f.K5(t.Od,t.G8,i7,E)}}if(js>0){var t=c.Zh(js,0,!1);cx=f.C(E.$());cx.fill(255);f.K5(t.Od,t.G8,cx,E)}E.offset(Y,R);
var _=f.C(E.$()*4),bw=V.PntT.v.FrFl;if(bw=="SClr")ct.yS(_,V.Clr.v);if(bw=="GrFl")ct.nH(V,_,E,i,c.abG(js,hJ));
if(bw=="Ptrn")ct.su(V,_,E,i.add.Patt,z);q={ov:_,FG:E,VD:i7,bI:cx}}$.type[Z].push(q);if(Z=="ebbl"){if(q.r7)$.all.push(q.r7,q.yb);
if(q.gT)$.all.push(q.gT,q.QP)}else{q.ul=b_.Sa(V.Md.v.BlnM);q.fA=V.Opct.v.val/100,$.all.push(q)}}}return $};
ct.$y=function(x){var z=1/Math.sqrt(x.x*x.x+x.y*x.y+x.JC*x.JC);x.x*=z;x.y*=z;x.JC*=z};ct.agD=function(x,z){return{x:x.y*z.JC-x.JC*z.y,y:x.JC*z.x-x.x*z.JC,JC:x.x*z.y-x.y*z.x}};
ct.av9=function(x,z){return x.x*z.x+x.y*z.y+x.JC*z.JC};ct.a98=function(x,z){var A=z.Nose.v.val/100;if(A>0)for(var F=0;
F<x.length;F++){var o=x[F];o=Math.min(510-(1+A)*f.style.xv(F),o);x[F]=o}};ct.U4=function(x){var z=ct.rC(),A=x.A4,o=!1;
for(var F=0;F<32;F+=8)if(A[F]+A[F+1]+A[F+4]+A[F+5]!=0||A[F+2]+A[F+3]+A[F+6]+A[F+7]!=1020)o=!0;if(o){A=A.slice(0);
for(var F=0;F<40;F+=4){var i=A[F]/255,L=A[F+1]/255,B=A[F+2]/255,D=A[F+3]/255;A[F]=i-.001;A[F+1]=i==L?1e6:1/(L-i);
A[F+2]=B==D?-1e6:1/(B-D);A[F+3]=D+.001}}var Z=x.add.iOpa!=null?x.add.iOpa/255:z.fill,j=x.add.vstk;if(j&&!j.fillEnabled.v&&(!j.strokeEnabled.v||j.strokeStyleLineWidth.v.val==0))Z=0;
return{fill:Z,R3:o?A:null,K1:x.add.brst!=null?x.add.brst:z.K1,ai0:x.add.knko!=null?x.add.knko:z.ai0,style:!1,Oe:!1}};
ct.rC=function(){return{fill:1,R3:null,K1:[1,1,1],ai0:0,style:!1,Oe:!1}};ct.a47=function(x,z,A,o,i,L,B,D){if(D==null)D=1;
if(B==null)B=new cb;var Z=x.zH[1].m,j=x.zH[1].n,a=new cb,b=i<2;if(b)a.translate(-Z/2,-j/2);if(i==0){D*=Math.max(A/Z,o/j)}else if(i==1){D*=Math.min(A/Z,o/j)}else if(i==2){a.scale(1/Z,1/j);
a.concat(B);a.scale(A,o)}else if(i==3){D=D}a.scale(D,D);if(b)a.translate(A/2,o/2);a.concat(L);z.Ptrn.v.Idnt.v=x.id;
z.Scl.v.val=Math.round(100*a._q());z.Angl.v.val=Math.round(180*Math.atan2(-a.s,a.xc)/Math.PI);z.Algn.v=!0;
var W=z.phase.v;W.Hrzn.v=Math.round(a.ZT);W.Vrtc.v=Math.round(a._s)};ct.wj=function(x,z){if(z==null)return null;
var A=x.Idnt.v,o=x.Nm.v;for(var F=0;F<z.length;F++)if(z[F].id==A)return z[F];for(var F=0;F<z.length;
F++)if(z[F].name==o)return z[F];return null};ct.ahf=function(x,z,A){var o=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var F=0;F<o.length;F++){var i=x.v[o[F]].v;for(var L=0;L<i.length;L++)if(i[L].v.Ptrn)z.si(ct.wj(i[L].v.Ptrn.v,A))}};
ct.adc=function(x,z,A){var o=["patternFillMulti","ebblMulti","frameFXMulti"];for(var F=0;F<o.length;
F++){var i=x.v[o[F]].v;for(var L=0;L<i.length;L++)if(i[L].v.Ptrn){var B=i[L].v.Ptrn.v,D=ct.wj(B,A),Z=ct.wj(B,z.add.Patt);
if(D==null&&Z)A.push(Z)}}};ct.su=function(x,z,A,o,i){var L=ct.wj(x.Ptrn.v,o);if(L!=null&&!A.WT()){var B=L.zH,D=B[0],Z=B[1],j=0;
f.mL(B);var a=(x.Scl?x.Scl.v.val:100)/100;while((a<.3||a==.5)&&B[j+2]){a*=Z.m/B[j+3].m;j+=2;D=B[j];Z=B[j+1]}var b=f.scale.su(D,Z.m,Z.n),W=x.phase?x.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},c=x.Angl?x.Angl.v.val:0,Y=-A.x+W.Hrzn.v-1,R=-A.y+W.Vrtc.v-1;
if(x.Algn!=null&&!x.Algn.v){}else{Y+=i.x;R+=i.y}f.scale.hn(b,z,A.m,A.n,a,a,Y+1,R+1,c*Math.PI/180)}};
ct.nH=function(x,z,A,o,i,L){if(L==null)L=A;var B=x.Type?x.Type.v.GrdT:"shapeburst",D=x.Algn&&x.Algn.v?L:new av(0,0,o.m,o.n),Z=x.Angl?f.Q.bn(x,D):[new iL(0,0),new iL(100,0)],j=Z[0].x,a=Z[0].y,b=Z[1].x-j,W=Z[1].y-a,c=Math.sqrt(b*b+W*W);
c=1/(2*c*c);var Y=[b*c,W*c,-W*c,b*c],R=x.Rvrs?x.Rvrs.v:!1,$=x.Dthr?x.Dthr.v:!1;f.Q.aS(x.Grad.v,z,A,Y,j,a,R,gN.Q.types.indexOf(B),0,0,i,$)};
ct.avc=function(x,z,A){for(var F=0;F<x.all.length;F++){var o=x.all[F];o.ZM=o.FG.clone();o.ZM.offset(z,A)}};
ct.anG=function(x,z,A,o,i,L){var B=O.Id?ct.a5F:ct.ajd;ct.avc(z,A.x,A.y);var D=z.type.DrSh;for(var F=0;
F<D.length;F++)if(!D[F].art)B(D[F],o,i,L)};ct.a6e=function(x,z,A,o,i,L,B,D,Z,j){var a=A,b=O.Id?ct.a5F:ct.ajd,W=O.Id?O.q.U_:f.q.Zd,c;
c=z.type.DrSh;for(var F=0;F<c.length;F++)if(c[F].art)b(c[F],o,i,L);c=z.type.OrGl;for(var F=0;F<c.length;
F++)b(c[F],o,i,L);var Y="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var R=0;R<Y.length;R++){var c=z.type[Y[R]];
for(var F=0;F<c.length;F++)b(c[F],B,a,L)}var $=z.type.ebbl[0],k=$!=null&&$.a9d;c=z.type.FrFX;for(var F=0;
F<c.length;F++){var w=c[F];fR.yt.K5(D,j,Z,j,L);b(w,Z,j,L);if(k&&F==c.length-1){if($.QP)b($.QP,Z,j,L);
if($.gT)b($.gT,Z,j,L);if($.yb)b($.yb,Z,j,L);if($.r7)b($.r7,Z,j,L)}if(w.bI||w.N$)W(Z,j,B,a,O.Id?w.N$:w.bI,w.ZM,0,L,1);
if(w.VD||w.JQ)W(Z,j,o,i,O.Id?w.JQ:w.VD,w.ZM,0,L,1)}if(!k&&$!=null){if($.QP)b($.QP,o,i,L);if($.gT)b($.gT,o,i,L);
if($.yb)b($.yb,B,a,L);if($.r7)b($.r7,B,a,L)}};ct.ajd=function(x,z,A,o){var i=ct.rC();i.fill=x.fA;i.style=!0;
f.q.lx(x.ul,x.ov,x.ZM,z,A,o,1,i)};ct.a5F=function(x,z,A,o){var i=ct.rC();i.fill=x.fA;i.style=!0;O.q.eq(x.ul,x.As,x.ZM,z,A,o,1,i)};
ct.avd=function(x,z){var A=1-z.Inpr.v.val/100,o=1+Math.tan(A*(Math.PI/2)),i=x.length;for(var F=0;F<i;
F++)x[F]=Math.min(255,Math.round(x[F]*o))};ct.xQ=function(x,z,A){var o=z.blur.v.val,i=Math.round(o*(z.Ckmt.v.val/100));
if(o>i){var L=f.tt.PZ(z.TrnS.v.Crv.v,256,!0);f.hu(x,L)}if(A!=null&&z.Nose.v.val>0)f.style.mn(x,z.Nose.v.val/100,A)};
ct.yS=function(x,z,A){if(A==null)A=255;var o=f.Q.Pw(z),i=A<<24|o.s<<16|o.a<<8|o.w,L=new Uint32Array(x.buffer);
L.fill(i)};ct.tb=function(x,z,A,o){var i=z.uglg&&z.uglg.v?A.kA():z.lagl.v.val;i=i*Math.PI/180+o;var L=Math.cos(i)*z.Dstn.v.val,B=Math.sin(i)*z.Dstn.v.val;
x.x-=Math.round(L);x.y+=Math.round(B)};ct.ZV=function(x){if(x==null)return null;var z=x.frameFXMulti.v;
if(z.length==0)return null;z=z[0].v;var A=JSON.parse(JSON.stringify(gN.J9.default));ct.adK(z,A);return A};
ct.adK=function(x,z){var A=gN.stroke.Ar.indexOf(x.PntT.v.FrFl),o=[gN.ww,gN.B_,gN.Lm][A],i=z.strokeStyleContent.v={classID:gN.J9.x6[A]};
for(var F=0;F<o.length;F++)i[o[F]]=x[o[F]];z.strokeEnabled=x.enab;z.strokeStyleLineWidth=x.Sz;z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gN.J9.kq[gN.stroke.types.indexOf(x.Styl.v.FStl)];
z.strokeStyleOpacity=x.Opct;z.strokeStyleBlendMode=x.Md;z.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
ct.a3=function(x,z){var A=[];for(var F=0;F<x.length;F++)A.push({t:"UntF",v:{type:"#Nne",val:Math.round(x[F]*z)}});
return A};ct.B8=function(x,z,A,o){this.Qg=z.clone();this.awm=z.clone();this.awm.nw(A,A);if(o){this.Qg.nw(1,1);
this.AR=f.C(this.Qg.$());f.K5(x,z,this.AR,this.Qg)}else this.AR=x;this.LE=null;this.JM=null;this.Db=null};
ct.B8.prototype.Od=function(){return this.AR};ct.B8.prototype.rect=function(){return this.Qg};ct.B8.prototype.rx=function(){return this.awm};
ct.B8.prototype.cD=function(){if(this.LE)return this.LE;this.LE=this.Od().slice(0);f.Qs(this.LE);return this.LE};
ct.B8.prototype.Vp=function(){if(this.JM)return this.JM;this.JM=new Float64Array(this.rect().$());f.style.My(this.cD(),this.JM,this.rect().m,this.rect().n);
return this.JM};ct.B8.prototype.Af=function(){if(this.Db)return this.Db;var x=this.rx(),z=f.C(x.$());
f.K5(this.Od(),this.rect(),z,x);this.Db=new Float64Array(x.$());f.style.My(z,this.Db,x.m,x.n);return this.Db};
ct.B8.prototype.abG=function(x,z){var A={iG:-z,by:x,DD:null,bQ:null};if(z==0){A.DD=this.rect();A.bQ=this.Vp();
return A}var o=this.Af().slice(0),i=this.rx();A.DD=i;A.bQ=o;for(var F=0;F<o.length;F++)o[F]=-o[F];if(x==0)return A;
var L=this.Vp(),B=this.rect();for(var D=0;D<B.n;D++)for(var Z=0;Z<B.m;Z++){var j=D*B.m+Z,a=(D+B.y-i.y)*i.m+Z+B.x-i.x;
o[a]+=L[j]}return A};ct.B8.prototype.Zh=function(x,z,A){var o=Math.ceil(x+z),i={G8:this.rect().clone(),Od:null};
i.G8.nw(o,o);i.Od=f.C(i.G8.$());if(x==0&&z==0)f.Yy(A?this.Od():this.cD(),i.Od);else{var L=f.C(i.G8.$());
f.K5(this.Od(),this.rect(),L,i.G8);if(!A)f.Qs(L);if(x!=0){if(A)f.style.fy(L,i.G8,this.Af(),this.rx(),x);
else f.style.fy(L,i.G8,this.Vp(),this.rect(),x)}if(z!=0)f.ZY.nM(L,i.Od,i.G8,Math.max(1,z*.43));else i.Od=L}return i};
ct.B8.prototype.abL=function(x,z,A){var o=x*(z-.5),i={G8:this.rect().clone(),Od:null};if(A)i.G8.nw(x,x);
i.Od=f.C(i.G8.$());var L=i.G8.m,B=i.G8.n,D=A?this.Af():this.Vp(),Z=A?this.rx():this.rect(),j=i.G8,a=j.tE(Z),L=a.m,B=a.n,b=a.x-j.x,W=a.y-j.y,c=a.x-Z.x,Y=a.y-Z.y,R=1-z*2;
for(var $=0;$<B;$++)for(var k=0;k<L;k++){var w=D[($+Y)*Z.m+k+c],V=w/x;i.Od[($+W)*j.m+k+b]=Math.max(0,Math.min(255,255-255*((V+R)/(1+R))))}return i};
ct.al_=function(x,z,A){var o=x.Lefx,i=x.blendOptions;if(o){var L=z.add.lmfx;if(A==null)A=L?L.Scl.v.val:100;
z.add.lmfx=JSON.parse(JSON.stringify(o.v));if(z.add.lmfx.Scl==null)z.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
ct.pi(z.add.lmfx,A/z.add.lmfx.Scl.v.val);if(L)z.add.lmfx.Scl.v.val=L.Scl.v.val}else delete z.add.lmfx;
if(i){i=i.v;if(i.Md)z.Cz=b_.Sa(i.Md.v.BlnM);if(i.Opct)z.opacity=Math.round(i.Opct.v.val*255/100);if(i.fillOpacity)z.add.iOpa=Math.round(i.fillOpacity.v.val*255/100);
if(i.Blnd){var B=[];for(var F=0;F<10;F++)B.push(0,0,255,255);var D=i.Blnd.v,Z="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var F=0;F<D.length;F++){var j=D[F].v,a=8*["Gry","Rd","Grn","Bl"].indexOf(j.Chnl.v[0].v.enum);for(var b=0;
b<8;b++){B[a+b]=j[Z[b]].v}}z.A4=B}}};ct.a4H=function(x){var z="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),A=[],o=x.A4;
for(var F=0;F<4;F++){var i=F*8;if(o[i]+o[i+1]+o[i+4]+o[i+5]==0&&o[i+2]+o[i+3]+o[i+6]+o[i+7]==4*255)continue;
var L={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][F]}}]}}};
A.push(L);for(var B=0;B<8;B++)L.v[z[B]]={t:"long",v:o[F*8+B]}}var D={classID:"blendOptions"};if(x.Cz!="norm")D.Md={t:"enum",v:{BlnM:b_.d$(x.Cz)}};
if(x.opacity!=255)D.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(x.opacity*100/255)}};if(x.add.iOpa!=null)D.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(x.add.iOpa*100/255)}};
if(A.length!=0)D.Blnd={t:"VlLs",v:A};var Z={nE:{classID:"null",Idnt:{t:"TEXT",v:ew.Fs()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},tz:{classID:"Styl",blendOptions:{t:"Objc",v:D}}},j=x.add.lmfx;
if(j)Z.tz.Lefx={t:"Objc",v:j};return Z};function bz(){}bz.zu=function(x){return JSON.parse(JSON.stringify(x))};
bz.K2=function(x){var z=bz.zu(bz.avy),A=z.Brsh.v;if(x!=null){delete A.Hrdn;A.classID="sampledBrush";
A.Nm={t:"TEXT",v:"layer.png"},A.sampledData={t:"TEXT",v:x}}return z};bz.avy={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bz.$y={};bz.$y.check=function(x){var z=bz.$y.ha;for(var F=0;F<z.length;F++)if(x[z[F]]==null)x[z[F]]=JSON.parse(bz.$y.gB[z[F]]);
var A=[];for(var F=0;F<z.length;F++)A.push(z[F]);var o=bz.$y.a2n;for(var F=0;F<o.length;F++){var i=o[F][0],L=o[F][1],B=!0;
for(var D=0;D<i.length;D++)B=B&&x[i[D]].v==!0;if(B)for(var D=0;D<L.length;D++){if(x[L[D]]==null)console.log("Missing conditional parameter "+L[D]);
else A.push(L[D])}}for(var Z in x)if(A.indexOf(Z)==-1)console.log("Extra parameter "+Z);x=x.Brsh.v;z=bz.$y.Zj.ha;
for(var F=0;F<z.length;F++)if(x[z[F]]==null)x[z[F]]=JSON.parse(bz.$y.Zj.gB[z[F]]);A=[];for(var F=0;F<z.length;
F++)if(x[z[F]])A.push(z[F]);else console.log("Missing default parameter "+z[F]);o=bz.$y.Zj.abf[x.classID];
for(var F=0;F<o.length;F++)if(x[o[F]]==null&&o[F]!="dtipsGridSize"&&o[F]!="dtipsErodibleTipHeightMap"&&x.avb!=1)console.log("Missing conditional parameter "+o[F]);
else A.push(o[F]);for(var Z in x)if(A.indexOf(Z)==-1)console.log("Extra parameter "+Z)};bz.$y.atV=function(x){var z=bz.$y.a2n;
for(var F=0;F<z.length;F++){var A=z[F][0],o=z[F][1],i=!0;for(var L=0;L<A.length;L++)i=i&&x[A[L]]&&x[A[L]].v==!0;
if(i){for(var L=0;L<o.length;L++)if(x[o[L]]==null){x[o[L]]=JSON.parse(bz.$y.gB[o[L]])}}else for(var L=0;
L<o.length;L++)if(x[o[L]]!=null){delete x[o[L]]}}};bz.$y.Zj={};bz.$y.Zj.ha="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bz.$y.Zj.gB={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bz.$y.Zj.abf={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bz.$y.a2n=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bz.$y.ha="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bz.$y.gB={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function a1(x,z){this.a0c=x;this.Yp=z==null?0:z;this.dir=0}a1.prototype.PA=function(x,z){var A=this.a0c,o=new iL(x.x-A.x,x.y-A.y),i=new cb;
i.rotate(-this.Yp);o=i.nx(o);if(this.dir==0&&!A.S0(x))this.dir=Math.abs(o.x)<Math.abs(o.y)?1:2;if(z.A(bJ.xb)){if(this.dir==1)o.x=0;
if(this.dir==2)o.y=0}i.Qs();o=i.nx(o);var L=new iL(A.x+o.x,A.y+o.y);return L};a1.prototype.a4u=function(x){if(x.A(bJ.xb))return this.dir;
return 0};var dZ=function(){function x(){this.avV={}}x.a4k=function(z,A){var o=z.clone();o.ZT-=Math.floor(o.ZT);
o._s-=Math.floor(o._s);var i=new iL(A,0),L=new iL(0,A),B=o.nx(i),D=o.nx(L),Z=new iL(o.ZT,o._s);return[B,D,Z]};
x.acD=function(z,A){var o=iL.Or;return o(z[0],A[0])+o(z[1],A[1])+o(z[2],A[2]);return dsum};x.prototype.ake=function(z){var A=this.avV,o=A[z];
if(o==null)o=A[z]={MN:[],LG:0,$:0,a3V:0,adl:0};o.LG=Date.now();while(Object.keys(A).length>3){var i="",L=Date.now();
for(var B in A){var D=A[B].LG;if(D<L){L=D;i=B}}delete A[i]}return o};x.prototype.an5=function(z,A){var o=z.MN,i,L=1e6;
for(var F=0;F<o.length;F++){var B=o[F],D=x.acD(B.Jc,A);if(D<L){i=B;L=D}}return i};x.prototype.alB=function(z,A){var o=z.MN;
o.push(A);z.$+=A.rect.$();if(o.length>1e3||z.$>100*100*1600){console.log("pruning",z.$,o.length);o.sort(function(L,B){return B.LG-L.LG});
while(o.length>500||z.$>100*100*800){var i=o.pop();z.$-=i.rect.$()}}};return x}();function kb(x,z,A,o,i,L,B,D,Z){this.U0=z;
this.xn=A;this.GN=L;this.s5=o;if(o.aq==null)o.aq=[!1,!0];this.ln=null;this.ps=null;this.uE=0;this.a0b=0;
this.aw0=0;this.pt=0;this.xT=Z==null?Math.floor(Math.random()*16777215):Z;this.ah$=Z==null?Math.floor(Math.random()*16777215):Z;
this.xH=new av;this.vl=new av;if(D!=null){this.ov=D}else{var j=kb.ap7;if(j.length!=B.$()*4)j=f.C(B.$()*4);
else j.fill(0);this.ov=kb.ap7=j}this.rect=B.clone();this.SJ=[];this.Z2=[];this.fl=null;this.VJ=0;this.s=null;
this.aex="";this.Ix=null;this.aqR(x,i)}kb.ap7=f.C(16);kb.prototype.aqR=function(x,z){this.VJ=z;this.s=x;
this.aex=JSON.stringify(x)+JSON.stringify(this.s5.nq);this.Ix=kb.aeq(this.s,this.U0,this.xn)};kb.prototype.moveTo=function(x,z,A){A=this.a2z(A);
this.uE=A;var o=new iL(x,z),i=this.s.Brsh.v.Dmtr.v.val;this.ln=o.clone();this.ps=o.clone();this.fl=o.clone();
this.SJ=[x,z];this.Z2=[A];var L=this.s5.aq;if(this.s5.fc!=kb.gG){var B=this.s.angleDynamics,D=B?B.v.bVTy.v==6:!1;
this.gK(D?new av:this.a1b(o,this.adn()*(L[1]?A:1),this.s5.pg*(L[0]?A*.5:1),new iL(0,0)))}this.pt=o.clone()};
kb.prototype.lineTo=function(x,z,A){A=this.a2z(A);var o=this.SJ,i=o.length,L=o[i-2],B=o[i-1];if(x==L&&z==B)return;
var D=this.s.Brsh.v.Dmtr.v.val,Z=Math.ceil(D)+1,j=new av(Math.round(L),Math.round(B),0,0);j.nw(Z,Z);
var a=new av(Math.round(x),Math.round(z),0,0);a.nw(Z,Z);this.SJ.push(x,z);this.Z2.push(A);i+=2;if(i>=6)this.gK(this.a2q(i))};
kb.prototype.a2z=function(x){if(x==null)x=1;x=Math.max(.05,Math.min(5,x));if(isNaN(x)){alert("Pressure is not a number");
throw"e"}return x};kb.prototype.gK=function(x){this.xH=x;this.vl=this.vl.QM(x)};kb.prototype.finish=function(){var x=this.SJ,z=x.length,A;
if(z==4)A=this.asW(x[z-2],x[z-1],this.Z2[(z>>1)-1],!0);if(z>4)A=this.a2q(z+2);if(A)this.gK(A)};kb.prototype.mc=function(){return this.rect.clone()};
kb.prototype.kl=function(){return this.xH.tE(this.rect)};kb.prototype.Ig=function(){return this.vl.tE(this.rect)};
kb.prototype.Nt=function(){return this.ov};kb.prototype.a2q=function(x){var z=this.SJ,A=this.Z2,o=z[x-6],i=z[x-5],L=z[x-4],B=z[x-3],D=A[(x>>1)-3],Z=A[(x>>1)-2],j=new iL(0,0),a=new iL(0,0);
if(8<=x)j=kb.agi(z[x-8],z[x-7],o,i,L,B);if(x<=z.length)a=kb.agi(z[x-2],z[x-1],L,B,o,i);var b=o+j.x,W=i+j.y,c=L+a.x,Y=B+a.y,R=new av;
for(var F=0;F<10;F++){var $=(F+1)*.1,k=1-$,w=k*k*k*o+3*$*k*k*b+3*$*$*k*c+$*$*$*L,V=k*k*k*i+3*$*k*k*W+3*$*$*k*Y+$*$*$*B,h=this.asW(w,V,D+$*(Z-D));
R=R.QM(h)}return R};kb.agi=function(x,z,A,o,i,L){var B=x-A,D=z-o,Z=i-A,j=L-o,a=Math.sqrt(B*B+D*D),b=Math.sqrt(Z*Z+j*j),W=Math.acos((B*Z+D*j)/(a*b))/Math.PI,c=.35,Y=.1;
W=Y+W*(c-Y);var R=i-x,$=L-z,k=Math.sqrt(R*R+$*$),w=W*b/k;return new iL(R*w,$*w)};kb.prototype.asW=function(x,z,A,o){var i=new av,L=this.s5.agN;
if(L==null)L=0;if(L==0||o){i=this.air(x,z,A);return i}var B=this.fl,D=x-B.x,Z=z-B.y,j=Math.sqrt(D*D+Z*Z);
D/=j;Z/=j;if(j>L){var a=B.x+D*(j-L),b=B.y+Z*(j-L);i=this.air(a,b,A);this.fl.Jt(a,b)}return i};kb.prototype.air=function(x,z,A){var o=new av,i=new iL(x,z),L=this.s.Brsh.v.Dmtr.v.val,B=this.s5.fc,D=i.Vx(this.ps);
D.normalize(1);var Z=iL.Or(this.ps,i),j=-this.a0b,a=this.ps.clone(),b=this.s5.aq;while(!0){var W=this.uE+(A-this.uE)*(Math.max(0,j)/Z),c=this.adn()*(b[1]?W:1),Y=this.anW()*(c+this.aw0)/2*this.Ix.aa2;
if(B==kb.gG)Y=1;if(j+Y<Z){j+=Y;var R=new iL(this.ps.x+D.x*j,this.ps.y+D.y*j),w=1;if(B==kb.gG){var $=a.clone();
$.x+=D.x>0?1:-1;var k=a.clone();k.y+=D.y>0?1:-1;if(iL.Or($,R)<iL.Or(k,R))R=$;else R=k;j=iL.Or(R,this.ps)}if(this.s.useScatter.v==!0){w=this.s.Cnt.v;
var V=this.s.countDynamics.v.jitter.v.val/100,h=V*(-1+2*this.C2());w+=Math.round(w*h)}for(var F=0;F<w;
F++){var l=this.a1b(R,c,this.s5.pg*(b[0]?W*.5:1),D);o=o.QM(l)}a=R}else break}this.a0b=Z-j;this.ps=i;
this.uE=A;return o};kb.prototype.anW=function(){var x=this.s.Brsh.v,z=x.Spcn.v.val,A=Math.max(5,x.Rndn.v.val);
return A/100*(z/100)};kb.prototype.adn=function(){var x=this.s,z=x.Brsh.v.Dmtr.v.val;if(x.useTipDynamics.v){var A=z*(x.minimumDiameter.v.val/100);
z=A+(z-A)*(1-this.C2(this.ah$)*(x.szVr.v.jitter.v.val/100))}return z};kb.prototype.a1b=function(x,z,A,o){A=Math.min(1,A);
var i=this.s,L=this.s.Brsh.v,B=L.Dmtr.v.val,D=this.s5,Z=D.fc,j=D.a2K,a=this.Ix.zH[1],b=new cb;b.translate(-a.m/2,-a.n/2);
b.scale(1/this.Ix.a9s,1/this.Ix.a9s);b.scale(z/B,z/B);b.scale(1,Math.max(5,L.Rndn.v.val)/100);if(i.usePaintDynamics&&i.usePaintDynamics.v){var W=i.opVr.v.jitter.v.val/100,c=i.prVr.v.jitter.v.val/100;
A*=1-this.C2()*W;A*=1-this.C2()*c}if(i.useTipDynamics.v){var Y=i.angleDynamics.v,R=i.minimumRoundness.v.val/100;
b.scale(1,R+(1-R)*Math.round(100-this.C2()*i.roundnessDynamics.v.jitter.v.val)/100);b.rotate((-.5+this.C2())*4*Math.PI*(Y.jitter.v.val/100));
if(Y.bVTy.v==6)b.rotate(Math.atan2(-o.y,o.x))}b.rotate(L.Angl.v.val*(Math.PI/180));if(i.useScatter.v){var $=(-1+2*this.C2())*i.scatterDynamics.v.jitter.v.val/100;
b.translate(-$*z*o.y,$*z*o.x)}b.translate(x.x,x.y);var k=this.a3u(b,x,z),w=k.rect.clone();if(Z==null){var V=this.Hq(i);
f.OD(k.Kr,Math.round(V.s*255)<<16|Math.round(V.a*255)<<8|Math.round(V.w*255)<<0,4278190080);if(this.vl.WT()&&this.rect.S0(k.rect)&&A==1)this.ov=k.Kr.slice(0);
else f.q.aes(k.Kr,k.rect,this.ov,this.rect,k.rect,A)}if(Z==kb.gG){var h=new iL(k.rect.x+k.rect.m/2,k.rect.y+k.rect.n/2),l=Math.round(h.x-this.pt.x),M=Math.round(h.y-this.pt.y),q=k.rect.clone();
q.offset(-l,-M);var t=q.tE(this.rect);t.offset(l,M);f.mV(this.ov,this.rect,k.Kr,q);f.q.q7(k.Kr,k.rect,this.ov,this.rect,k.By,k.rect,A)}if(Z==kb.xR||Z==kb.dI||Z==kb.t8){var p=k.rect.tE(this.rect),E;
if(p.S0(k.rect))E=k.By;else{E=f.C(p.$());f.K5(k.By,k.rect,E,p)}var _=f.C(p.$()*4);f.mV(this.ov,this.rect,_,p);
if(Z==kb.dI){var S=_.slice(0),y=f.Nr.e7([-1,-1,-1,-1,25,-1,-1,-1,-1]);f.Nr.fr(_,S,p.m,p.n,y,0);f.Yy(S,_)}else if(Z==kb.t8){var v=h6.d6("UnsM");
v.Amnt.v.val=15;v.Thsh.v=0;v.Rds.v.val=5;var S=f.C(_.length);h6.$B("UnsM",{buffer:_,rect:p},v,0,0,{buffer:S,rect:p});
f.Yy(S,_)}else{h6.yO(1,f.ZY.e9,_,p)}f.q.q7(_,p,this.ov,this.rect,E,p,A)}this.aw0=z;this.pt=h;this.ah$++;
return w};kb.prototype.Hq=function(x){var z=kb.a8m(this.VJ);if(x.useColorDynamics&&x.useColorDynamics.v){var A=1-this.C2()*x.clVr.v.jitter.v.val/100,o=kb.a8m(this.GN);
z.w=A*z.w+(1-A)*o.w;z.a=A*z.a+(1-A)*o.a;z.s=A*z.s+(1-A)*o.s;var i=(-.5+this.C2())*x.H.v.val/100,L=(-1+2*this.C2())*x.Strt.v.val/100,B=(-1+2*this.C2())*x.Brgh.v.val/100,D=f._$(z.w,z.a,z.s);
D.zp=(D.zp+i+1)%1;D.Ww=D.Ww+L;if(D.Ww<0)D.Ww=-D.Ww;if(D.Ww>1)D.Ww=1-(D.Ww-1);D.u6=D.u6+B;if(D.u6<0)D.u6=-D.u6;
if(D.u6>1)D.u6=1-(D.u6-1);z=f.M$(D.zp,D.Ww,D.u6)}return z};kb.prototype.$y=function(x){return Math.max(0,Math.min(1,x))};
kb.prototype.C2=function(x){if(x==null){x=this.xT++}return kb.hash(x)};kb.a8m=function(x){return{w:(x>>16&255)/255,a:(x>>8&255)/255,s:(x>>0&255)/255}};
kb.hash=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return(x&16777215)/16777215};
kb.ah9=new dZ;kb.prototype.a3u=function(x,z,A){var o=Math.sqrt(this.Ix.zH[1].$()),i=o*x._q(),L=i<10?1:i<50?1.5:i<200?3:8;
if(i<30)L=0;var B=kb.ah9,D=B.ake(this.aex),Z=this.s5.nq;if(Z){x=x.clone();x.ZT=Math.floor(x.ZT);x._s=Math.floor(x._s)}var j=dZ.a4k(x,o),a=B.an5(D,j);
if(a&&dZ.acD(a.Jc,j)>L)a=null;if(a){a.rect.x=Math.round(a.al0.x+x.ZT);a.rect.y=Math.round(a.al0.y+x._s);
if(Z){a.rect.x=Math.round(z.x-a.rect.m/2);a.rect.y=Math.round(z.y-a.rect.n/2)}a.LG=Date.now()}else{var b=Math.round(this.s.Brsh.v.Dmtr.v.val),W;
if(Z&&b<=3){W={buffer:f.C(b*b*4),rect:new av(Math.round(z.x-b/2),Math.round(z.y-b/2),b,b)};f.OD(W.buffer,4278190080)}else if(x.xc==1&&x.s==0&&x.Pm==0&&x.y9==1){W={buffer:this.Ix.zH[0],rect:this.Ix.zH[1].clone()};
W.rect.x=Math.round(x.ZT);W.rect.y=Math.round(x._s)}else W=Q.S.eM(this.Ix.zH,x);if(Z){for(var F=0;F<W.buffer.length;
F++)W.buffer[F]=W.buffer[F]>127?255:0}if(W==null)W={buffer:f.C(0),rect:new av};a={Kr:W.buffer,By:f.C(W.rect.$()),rect:W.rect,al0:new iL(W.rect.x-x.ZT,W.rect.y-x._s),Jc:j,LG:Date.now()};
f.XN(a.Kr,a.By,3);if(D)B.alB(D,a)}return a};kb.aeq=function(x,z,A){var o,i,L,B=x.Brsh.v.Dmtr.v.val;if(x.Brsh.v.classID=="computedBrush"){var D=x.Brsh.v.Hrdn.v.val/100;
i=B<100?1.4:1;L=1;o=f.ap9.aoG(B,D,i)}if(x.Brsh.v.classID=="sampledBrush"){var Z;for(var F=0;F<z.length;
F++)if(z[F].id==x.Brsh.v.sampledData.v)Z=z[F];o=Z.zH;var j=o[1];i=Math.max(j.m,j.n)/B;L=Math.min(j.m,j.n)/Math.max(j.m,j.n)}return{a9s:i,aa2:L,zH:o}};
kb.I=null;kb.E4=null;kb.p2=function(x,z,A,o,i,L){var B=kb.I,D=kb.E4;if(B==null){kb.I=B=document.createElement("canvas");
kb.E4=D=B.getContext("2d")}if(L==null)L=o;if(B.width!=L||B.height!=i){B.width=L;B.height=i}else D.clearRect(0,0,L,i);
D.fillStyle="#000000";D.font=Math.floor(10*Q.Z())+"px sans-serif";var Z=x.Brsh.v.Dmtr.v.val,j=""+Z,a=x.useBrushSize;
if(a&&a.v)j="---";var b=D.measureText(j);D.fillText(j,(o-b.width)/2,i-2);var W=o,c=i-10*Q.Z(),Y=Math.min(W,c),R=x.Brsh.v.classID;
if(R=="computedBrush"){D.translate(W/2,c/2);D.rotate(-x.Brsh.v.Angl.v.val*Math.PI/180);D.scale(1,.1+.9*x.Brsh.v.Rndn.v.val/100);
var $=Math.min(.95*Y/2,Z/2)+.5,k=.9*x.Brsh.v.Hrdn.v.val/100,w=D.createRadialGradient(0,0,0,0,0,$);w.addColorStop(k,"rgba(0,0,0,1)");
w.addColorStop((.5+k)/1.5,"rgba(0,0,0,.5)");w.addColorStop(1,"rgba(0,0,0,0)");D.fillStyle=w;D.fillRect(-$,-$,2*$,2*$);
D.setTransform(1,0,0,1,0,0)}else if(R=="sampledBrush"){var V,t=0;for(var F=0;F<z.length;F++)if(z[F].id==x.Brsh.v.sampledData.v)V=z[F];
var h=V.zH;f.mL(h);var l=h[0],M=h[1].m,q=h[1].n;while((M>W||q>c)&&h[t+2]){t+=2;l=h[t];M=h[t+1].m;q=h[t+1].n}if(M*q!=0){var p=new ImageData(new Uint8ClampedArray(l.buffer),M,q);
D.putImageData(p,Math.round((W-M)/2),Math.round((c-q)/2))}}else{}return B.toDataURL()};kb.Ih=function(x,z,A,o){if(A==0)A=1;
var i=x.Brsh.v,L=i.Dmtr.v.val,B=i.Dmtr.v.val=Math.min(o!=null?Math.round(o*2.6):3e3,L*A),D=i.Hrdn?i.Hrdn.v.val/100:1,Z=o!=null?o:Math.round(B*(1+.55*(1-D)))+4,b;
Z=Math.max(15,Math.min(Z,3e3));var j=new av(0,0,Z,Z),a=new kb(x,z,null,{pg:1},16711712,0,j);i.Dmtr.v.val=L;
a.moveTo(j.m/2,j.n/2);var W=a.Nt(),c=a.mc();if(j.S0(c))b=W;else{b=f.C(j.$()*4);f.mV(W,c,b,j)}return[b,j,B]};
kb.ak5=function(x,z,A,o){var i=z.m,L=i>>>1;for(var F=0;F<4;F++){var B=6-F;x[i*(L-B)+L-1]=o;x[i*(L-B)+L]=A;
x[i*(L-B)+L+1]=o;x[i*(L+B)+L-1]=o;x[i*(L+B)+L]=A;x[i*(L+B)+L+1]=o;x[i*(L-1)+L-B]=o;x[i*L+L-B]=A;x[i*(L+1)+L-B]=o;
x[i*(L-1)+L+B]=o;x[i*L+L+B]=A;x[i*(L+1)+L+B]=o}};kb.me=function(x,z,A,o){var i=kb.Ih(x,z,A),L=i[0].slice(0),B=i[1],D=i[2],Z=B.$(),j=f.C(Z);
f.XN(L,j,3);var a=f.C(Z);f.O.awg(j,a,B);if(D<3||f.DX(a,0)||o&&D>12){kb.ak5(a,B,255,0)}var b=[3,5,3,4,8,4,3,5,3];
b=f.Nr.e7(b);f.Nr.fk(a,j,B.m,B.n,b);f.OD(L,4294967295);f.c8(j,L,3);for(var F=0;F<Z;F++)if(a[F]==255){L[F<<2]=L[(F<<2)+1]=L[(F<<2)+2]=0;
L[(F<<2)+3]=255}return{Fe:L,G8:B,d1:new iL(B.m/2,B.n/2)}};kb.gG="0";kb.xR="1";kb.dI="2";kb.t8="3";var g3={};
g3.X4=function(x,z){var A=x.yF(),B=0,j;if(A.x==Infinity||A.WT())return{ov:f.C(0),G8:new av,t0:new av};
var o=x.yF(),i=g3.O2(x,z),L=f.p.ke(i.v);for(var F=0;F<x.i8.length;F++){var D=x.i8[F].C9;if(D.StrokeFlag&&D._LineWidth)B=Math.max(B,Math.ceil(D._LineWidth/2))}L.nw(B,B);
if(L.WT())return{ov:f.C(0),G8:new av,t0:new av};var Z=f.zG(L.m,L.n);Z.translate(-L.x,-L.y);g3.afV(i,Z);
if(x.i8.length!=0){var a=am.Mt(z),b=Z.getImageData(0,0,L.m,L.n);j=new Uint8Array(b.data.buffer);if(a==0)for(var F=0;
F<j.length;F+=4)j[F+3]=j[F+3]>80?255:0;if(a==3)for(var F=0;F<j.length;F+=4)j[F+3]=Math.min(255,j[F+3]*1.5)}else j=f.C(L.$()*4);
Z.resetTransform();Z.beginPath();return{ov:j,G8:L,t0:o}};g3.O2=function(x,z){var A=z.D,o=z.gP,i=am.Mt(z),L=Math.max(A.s*A.s,A.Pm*A.Pm)<1e-9?A:null;
if(i==3||i==4)L=null;var B={F:[],v:[]};g3.a32(x,B,L,!0);g3.a32(x,B,L,!1);B=g3.kJ(B,z,x);return B};g3.kJ=function(x,z,A){if(x==null)return x;
if(A&&A.BS)f.p.D(x.v,A.BS,x.v);if(A&&!f.qK.h8(z.rK)){var o=am.mc(z,A);if(!o.WT()){if(x.F){x=f.p.Ox(x);
var i=Math.min(o.m,o.n)/8;if(i<1)i=1;x=f.p.GJ(x,i)}var L=f.qK.Tq(z.rK,o);f.fE.D(L,x.v,o)}}var B=z.D;
f.p.D(x.v,B,x.v);return x};g3.afV=function(x,z){z.save();z.miterLimit=2;Typr.U.pathToContext({crds:x.v,cmds:x.F},z);
z.restore()};g3.gj=function(x,z,A){var o=ah.aea(A),i=x.gP,L=i.ResourceDict.FontSet,B=i.ResourceDict.StyleSheetSet[0].StyleSheetData,D=i.EngineDict.StyleRun.RunLengthArray,j=i.EngineDict.StyleRun.RunArray,a=am.FP(i),b=!0,W={},c=0;
for(var F=0;F<j.length;F++){var Y=j[F].StyleSheet.StyleSheetData.Font;if(Y==null)Y=B.Font;for(var R=0;
R<D[F];R++){var $=a.charCodeAt(c+R),k=Y+","+($>128?$:-1);if(W[k]==null){W[k]=1;if(z.iY(L[Y].Name,$)==null)b=!1}}c+=D[F]}return b&&o};
g3.a7G=function(x,z,A){for(var o=0;o<x.g.length;o++){var i=x.g[o],L=i.add.TySh;if(L!=null&&!g3.gj(L,z,A))return!1}return!0};
g3.agu=function(x,z,A){for(var o=0;o<x.g.length;o++){var i=x.g[o],L=i.add.TySh;if(L!=null&&g3.gj(L,z,A)){var B=new ah(L.gP,z),D=g3.X4(B,L);
i.rect=D.G8;i.buffer=D.ov;i.i();x.i()}}};g3.a32=function(x,z,A,o){var i=new cb;for(var F=0;F<x.tl.length;
F++)g3.ak6(x.i8,x.tl[F],z,i,A,o)};g3.ak6=function(x,z,A,o,i,L){o.translate(z.RD.x,z.RD.y);for(var F=0;
F<z.VI.length;F++){var B={},D=z.VI[F];if(!D.Pk)break;var Z=o.clone();Z.translate(D.RD.x,D.RD.y);if(i){var j=i._s+Z._s*i.y9;
Z._s=(Math.round(j)-i._s)/i.y9}for(var a=D.start;a<D.end;a++)g3.acM(x,z.io[a],z,B,A,Z,L)}o.translate(-z.RD.x,-z.RD.y)};
g3.a5c="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
g3.acM=function(x,z,A,o,i,L,B){L.translate(z.RD.x,z.RD.y);for(var D=z.F$;D<=z.K_;D++){var Z=A.bL[D],j=Z.G8.m,a=x[A.ao5+Z.j4],b=a.C9._FillBackgroundFlag;
if(a.Mx=="\n"||B&&!b)continue;var W=a.C9.FontSize/a.lT.head.unitsPerEm,c=L.clone();c.translate(Z.RD.x+Z.kt*W,Z.RD.y-Z.$x*W);
var Y=new cb;Y.scale(W,-W);if(a.Er==1&&g3.a5c.indexOf(a.Mx)!=-1)Y.concat(new cb(-1,0,0,1,j,0));if(a.C9.FauxItalic)Y.concat(new cb(1,0,-Math.tan(.18),1,0,0));
Y.translate(0,a.ry);Y.scale(a.scale.x,a.scale.y);if(a.C9.BaselineShift!=null)Y.translate(0,-a.C9.BaselineShift);
if(Z.Yp!=0){Y.rotate(-Z.Yp)}Y.concat(c);var R=a.C9._LineWidth?a.C9._LineWidth:1;if(B){i.F.push(g3.Hq(a.C9._FillBackgroundColor));
var $=1.005*Z.G8.n/W,k=new av(-Z.kt,-$*.27,1.03*Z.G8.m/(W*a.scale.x),$);if(a.C9.StrokeFlag)k.nw(R/W,R/W);
f.p.concat(i,f.p.Mm(k),Y);i.F.push("X");continue}if(a.C9.FillFlag)i.F.push(g3.Hq(a.C9.FillColor));if(a.C9.StrokeFlag)i.F.push("O-"+g3.Hq(a.C9.StrokeColor)+"-"+R);
if(Z.path.F.length!=0&&a.Mx!="\t"){if(a.C9.FauxBold){var w=a.C9.FontSize/2048*27*a.scale.x;Y.ZT+=w;f.p.concat(i,Z.path,Y);
Y.ZT-=w+w;f.p.concat(i,Z.path,Y)}else f.p.concat(i,Z.path,Y)}if(a.Mx!="\n"){if(a.C9.Underline){if(o.Pj==null)o.Pj=a.lT.post.underlineThickness;
if(o.ako==null)o.ako=a.lT.post.underlinePosition;var V=0,h=o.ako-o.Pj/2,l=Z.Md*1.05,M=-o.Pj;f.p.concat(i,{F:["M","L","L","L","Z"],v:[V,h,V+l,h,V+l,h+M,V,h+M]},Y)}if(a.C9.Strikethrough){var q=a.lT["OS/2"].yStrikeoutSize,t=a.lT["OS/2"].yStrikeoutPosition,V=0,h=t+q/2,l=Z.Md*1.05,M=-q;
f.p.concat(i,{F:["M","L","L","L","Z"],v:[V,h,V+l,h,V+l,h+M,V,h+M]},Y)}}if(a.C9.FillFlag)i.F.push("X");
if(a.C9.StrokeFlag)i.F.push("OX")}L.translate(-z.RD.x,-z.RD.y)};g3.Hq=function(x){var z=am.Pw(x),A=(Math.round(z.w)<<16)+(Math.round(z.a)<<8)+Math.round(z.s);
return"#"+f.Ng(A)};function ah(x,z){var A=am.dC(x),o,i,L=am.iA(x),B=x._LineOrientation==2?new cb:null,b,c;
if(x.Curve)i=ah.nG(x.Curve);if(A!=0){o=new av(L[0],L[1],L[2],L[3]);if(B){var D=o.m;o.m=o.n;o.n=D;B.translate(0,-L[2])}if(A==2){o.m=i[5]-i[4];
o.n=9999}}this.tl=[];this.i8=[];this.VW=A;this.BS=B;var j=this.a7o=am.FP(x),a=-1,W=-1;for(var F=0;F<j.length;
F++){var Y=b,R=am.af6(x,F);if(R!=a){a=R;Y=b=am.a4f(x,R)}var $=c,R=am.auZ(x,F);if(R!=W){W=R;$=c=am.avJ(x,R)}var k={Mx:j.charAt(F),C9:Y,lT:null,Hm:-1,Kd:am.a8l(x,F),ry:0,scale:new iL(0,0),Gc:0,lineHeight:0,Er:0},w=x.ResourceDict.FontSet[Y.Font].Name,V=k.lT=z.iY(w,j.charCodeAt(F));
k.scale.x=Y.HorizontalScale==null?1:Y.HorizontalScale;k.scale.y=Y.VerticalScale==null?1:Y.VerticalScale;
var h=V["OS/2"],l=V.hhea;if(Y.FontCaps==1&&k.Mx!=k.Mx.toUpperCase()){var M=h.sxHeight?h.sxHeight/h.sTypoAscender:.76;
k.scale.x*=M;k.scale.y*=M}var q=1/V.head.unitsPerEm*Y.FontSize;if(Y.FontBaseline==1){var M=x.ResourceDict.SuperscriptSize;
k.scale.x*=M;k.scale.y*=M;k.ry-=x.ResourceDict.SuperscriptPosition*Y.FontSize}if(Y.FontBaseline==2){var M=x.ResourceDict.SubscriptSize;
k.scale.x*=M;k.scale.y*=M;k.ry+=x.ResourceDict.SubscriptPosition*Y.FontSize}k.Gc=ah.Gc(V,w,Y);var t=$.AutoLeading;
k.lineHeight=Y.FontSize*(t==null?1.2:t);if(Y.AutoLeading==!1)k.lineHeight=Y.Leading;if(k.lineHeight==0)k.lineHeight=.01;
this.i8.push(k)}var p=this.tl,E=[0];for(var F=0;F<x.EngineDict.ParagraphRun.RunLengthArray.length;F++){var _=new ah.Qw(x,z,this.i8,F,o,E,A==1?i:null);
p.push(_)}if(B){if(A==0)B.translate(0,p[0].io[0].Gc/2);B.rotate(-Math.PI/2)}if(A==2){var S=x.Curve.Points,y=i[0],v=i[1],r=i[2],K=i[3],s=i[4],P=i[5];
for(var F=0;F<p.length;F++)for(var d=0;d<p[F].VI.length;d++)if(!(F==0&&d==0))p[F].VI[d].Pk=!1;var _=p[0],X=_.VI[0];
_.RD.Jt(0,0);X.RD.Jt(0,0);for(var d=X.start;d<X.end;d++){var U=_.io[d],n=U.RD.x;U.RD.x=0;for(var e=U.F$;
e<=U.K_;e++){var J=_.bL[e],C=J.G8.m/2;J.RD.x+=n;var H=ah.a5C(y,(s+J.RD.x+C)%K);J.RD.x=H[0]-C*H[2];J.RD.y=H[1]-C*H[3];
J.Yp=Math.atan2(H[3],H[2])}}}}ah.Gc=function(x,z,A){var o=x["OS/2"],i=x.hhea,L=0,L=0,B=[];B.push(o&&o.sxHeight&&z.toLowerCase().indexOf("capitals")!=-1?o.sxHeight:0);
B.push(o&&o.sCapHeight?o.sCapHeight:0);B.push(o&&o.sTypoAscender?o.sTypoAscender:0);B.push(i.ascender?i.ascender:0);
for(var D=0;D<B.length;D++)if(B[D]!=0){L=B[D];break}var Z=1/x.head.unitsPerEm*A.FontSize;L=L*Z;if(L<A.FontSize*.6)L=A.FontSize*.75;
return L};ah.prototype.auf=function(){return!this.a8y(0)};ah.prototype.a9O=function(){return this.a8y(1)};
ah.prototype.a8y=function(x){var z=this.tl,A=!0,o=0;for(var F=0;F<z.length;F++){var i=z[F].VI,L=i.length;
o+=L;for(var B=0;B<L;B++)A&=i[B].Pk}return[A,o][x]};ah.nG=function(x,z){if(z==null)z=.25;var A=x.Points,o=A.length,i=o>>>3,L=x.TextOnPathTRange,B=x.Reversed,b=0,W=0;
if(B){var D=A.slice(0);for(var F=0;F<o;F+=2){D[F]=A[o-2-F];D[F+1]=A[o-1-F]}A=D;L=[i-L[1]%i,i-L[0]%i]}var Z=[],j=[0],a=[0];
for(var F=0;F<o;F+=8){var c=A[F+6]-A[F+0],Y=A[F+7]-A[F+1],R=Math.round(1/z*Math.sqrt(c*c+Y*Y));for(var $=0;
$<R;$++){var k=$/R,w=1-k,V=w*w*w*A[F+0]+3*w*w*k*A[F+2]+3*w*k*k*A[F+4]+k*k*k*A[F+6],h=w*w*w*A[F+1]+3*w*w*k*A[F+3]+3*w*k*k*A[F+5]+k*k*k*A[F+7];
Z.push(V,h);if(F+$!=0){var c=V-b,Y=h-W;a.push(a[a.length-1]+Math.sqrt(c*c+Y*Y));j.push((F>>>3)+k)}b=V;
W=h}}var z=a.length,l=a[z-1],M=ah.O9(L[0]%i,j),q=ah.O9(L[1]%i,j),t=a[M%z],p=a[q%z];if(t>=p)p+=l;return[Z,j,a,l,t,p]};
ah.O9=function(x,z){var F=0;while(z[F]<x)F++;return F};ah.a5C=function(x,z){var A=0,F=0,o,i,L;while(A<z){o=x[F+2]-x[F];
i=x[F+3]-x[F+1];L=Math.sqrt(o*o+i*i);A+=L;F+=2}return[x[F],x[F+1],o/L,i/L]};ah.prototype.a4j=function(x){return this.i8[x]};
ah.prototype.auc=function(x){for(var z=0;z<this.tl.length;z++){var A=this.tl[z];for(var o=0;o<A.VI.length;
o++){var i=A.VI[o],L=A.io[i.start].start,B=A.io[i.end-1].end;if(L<x&&x<B)return[L,B-1]}}return[0,1]};
ah.prototype.ao2=function(x,z){var A=-1,o=this.tl;if(this.VW==2){var i=1e9,L=0,B=o[0],D=B.VI[0];for(var Z=D.start;
Z<D.end;Z++){var j=B.io[Z];for(var a=j.F$;a<=j.K_;a++){var b=B.bL[a],W=b.G8.m,c=x.x-b.RD.x,Y=x.y-b.RD.y,R=c*c+Y*Y;
if(R<i){i=R;L=b.j4}}}if(L!=0&&this.a7o.codePointAt(L-1)>65535)L--;return L}for(var $=0;$<o.length;$++){var B=o[$];
for(var k=0;k<B.VI.length;k++){A++;var D=B.VI[k],w=B.VI[k+1];if(w==null&&$<o.length-1)w=o[$+1].VI[0];
if(z!=null){if(A!=z)continue}else{if(w!=null&&B.RD.y+D.RD.y<x.y)continue}for(var Z=D.start;Z<D.end;Z++){var j=B.io[Z];
for(var a=j.F$;a<=j.K_;a++){var b=B.bL[a],W=b.G8.m,V=B.RD.x+D.RD.x+j.RD.x,h=V+b.RD.x,l=V+(a<j.K_?B.bL[a+1].RD.x:b.RD.x+W);
if(x.x<=l||Z+1==D.end&&a==j.K_){var M=B.ao5+b.j4,q=this.i8[M],t=q.Er&1;if(q.Mx!="\n"&&(t==0&&x.x>h+W/2||t==1&&x.x<h+W/2))M+=this.a7o.codePointAt(M)>65535?2:1;
return M}}}}}};ah.prototype.tB=function(x){var z={G8:new av,Gq:0},A=0;for(var o=0;o<this.tl.length;o++){var i=this.tl[o];
for(var L=0;L<i.VI.length;L++){var B=i.VI[L];z.Gq=A;A++;for(var D=B.start;D<B.end;D++){var Z=i.io[D];
for(var j=Z.start;j<Z.end;j++){if(j==x){var a=this.i8[j],b=a.Hm,W=i.bL[b].j4,c=1;while(i.bL[b]!=null&&i.bL[b].j4==W){var Y=i.bL[b],R=i.RD.x+B.RD.x+Z.RD.x+Y.RD.x,$=i.RD.y+B.RD.y+Z.RD.y+Y.RD.y;
z.G8=z.G8.QM(new av(R,$-a.lineHeight,Y.G8.m,a.lineHeight));z.Yp=Y.Yp;b+=c}return z}}}}}};ah.prototype.yF=function(){var x=Infinity,z=Infinity,A=-Infinity,o=-Infinity;
for(var F=0;F<this.tl.length;F++){var i=this.tl[F];for(var L=0;L<i.VI.length;L++){var B=i.VI[L];if(!B.Pk)break;
for(var D=B.start;D<B.end;D++){var Z=i.io[D];for(var j=Z.F$;j<=Z.K_;j++){var a=i.bL[j],b=a.G8,W=i.RD.x+B.RD.x+Z.RD.x+a.RD.x,c=i.RD.y+B.RD.y+Z.RD.y+a.RD.y;
x=Math.min(x,W+b.x);z=Math.min(z,c+b.y);A=Math.max(A,W+b.x+b.m);o=Math.max(o,c+b.y+b.n)}}}}return new av(x,z,A-x,o-z)};
ah.l2=function(x){return 19968<=x&&x<=40959||12288<=x&&x<=12543};ah.a24=function(x,z,A,o,i,L,B){var D=[L],j=0;
for(var F=L;F<B;F++){if(A[F]==null)console.log(F,L,B,A);var a=A[F].Mx,b=a.charCodeAt(0);if(b==32||b==9){D.push(j,F,1,F+1);
j=0}else if(b==3851){D.push(j+1,F+1);j=0}else if(ah.l2(b)){D.push(j,F);j=1}else if(F!=L&&A[F].Er!=A[F-1].Er){D.push(j,F);
j=1}else j++}D.push(j);var W=[];for(var F=0;F<D.length;F+=2){var c=D[F],Y=D[F+1];if(Y==0)continue;W.push(new ah.a5t(x,z,A,o,i,c,Y))}return W};
ah.au1=function(x,z,A,o,i,L,B){var D=[0,z?z.m:1e9],Z=[];if(o){var j=x[L].Gc,a=i+(i==0?j:x[L].lineHeight),b=a-j*.9,W=f.p.yk(o[0],b),c=W.length,Y=f.p.yk(o[0],a),R=Y.length;
if(c!=0&&R!=0){var $=0,k=0;D=[];while($<c&&k<R){var w=Math.max(W[$],Y[k]),V=W[$+1],h=Y[k+1],l=Math.min(V,h);
if(w<l)D.push(w,l);if(V<h)$+=2;else k+=2}}}for(var M=0;M<D.length;M+=2){var q=0,t=L,p=z?D[M+1]-D[M]-A.StartIndent-A.EndIndent-(L==0?A.FirstLineIndent:0):Infinity;
while(L!=x.length){var E=x[L],_=q==0||(E.lr||E.xg)||q+E.G8.m<p;if(!_)break;q+=E.G8.m;L++}Z.push(L-t)}B[0]=Z;
B[1]=D;B[2]=L};ah.atA=function(x,z){var A=x.length,o=new Uint32Array(A),i=new Uint8Array(A),L=0;for(var F=0;
F<A;F++){i[F]=0;var B=x.charCodeAt(F);o[F]=B;if(B>L)L=B}if(L>1424)i=ah.aaD(o,z);return i};ah.ag$=function(x){return x=="\xDF"?x:x.toUpperCase()};
ah.Qw=function(x,z,A,o,i,L,B){this.io=[];this.VI=[];this.RD=new iL(0,0);this.bL=null;this.io=null;this.C9=am.avJ(x,o);
var D=this.C9,W=0,R="",h=0,l=1,J=0;if(o!=0){var j=D.SpaceBefore;if(j!=null)L[0]+=j}var a=x.EngineDict.ParagraphRun.RunLengthArray,b=a[o];
for(var F=0;F<o;F++)W+=a[F];var c=D._Direction?D._Direction:0;this.ao5=W;var Y=am.FP(x).slice(W,W+b);
for(var $=0;$<Y.length;$++){var k=Y.charAt($);R+=A[W+$].C9.FontCaps==0?k:ah.ag$(k)}Y=R;var w=ah.atA(Y,c),V=[],M=w[F]&1,q=A[W].lT;
A[W].Er=w[0];for(var F=1;F<Y.length;F++){var k=A[W+F],t=w[F];k.Er=t;if(t!=M||k.lT!=q){V.push(h,l);h=F;
l=1;M=t;q=k.lT}else l++}V.push(h,l);var p=this.bL=[];for(var F=0;F<V.length;F+=2){var E=V[F],_=V[F+1],S=(A[W+E].Er&1)==0,y=Y.slice(E,E+_),v=Typr.U.shapeHB(A[W+E].lT,y,S),r=[],P=0;
for(var $=0;$<v.length;$++){var K=v[$];r.push({a:K.g,j4:K.cl,Md:K.ax,fZ:K.ay,kt:K.dx,$x:K.dy})}v=r;var s=v.slice(0);
if(!S)s.reverse();for(var $=0;$<y.length;$++){while(P+1<s.length&&s[P+1].j4<=$){P++}while(P>0&&s[P-1].j4==$)P--;
A[W+E+$].Hm=p.length+(S?P:s.length-P-1)}for(var $=0;$<v.length;$++){p.push(v[$]);v[$].j4+=E;var k=A[W+v[$].j4];
if(k.Kd!=-1){v[$].a=k.Kd;var d=k.lT.hmtx;if(d){var X=Object.keys(d)[0];v[$].Md=d[X][k.Kd]}}if(k.Mx=="\n")v[$].Md=0;
if(k.Mx=="\t")v[$].Md=k.lT.head.unitsPerEm*36/k.C9.FontSize}}var U=am.zk(D),n=this.io=ah.a24(x,z,A,W,p,W,W+b),e=this.VI,C=-1,R=[null,null,0];
while(J<n.length){ah.au1(n,i,D,B,L[0],J,R);C++;var H={start:J,end:0,G8:new av,RD:new iL(0,0),Pk:!0},ht=0,et=0;
e.push(H);H.end=R[2];var u=H.end==n.length;function bc(s,E,aJ){var b6=aJ-E>>>1;for(var F=0;F<b6;F++){var ef=s[E+F];
s[E+F]=s[aJ-1-F];s[aJ-1-F]=ef}}for(var jK=1;jK<5;jK++){var N=-1;for(var F=H.start;F<H.end;F++){var t=A[n[F].start].Er;
if(N==-1&&t>=jK)N=F;else if(N!=-1&&t<jK){bc(n,N,F);N=-1}}var he=H.end;if(c==0&&n[he-1].lr)he--;if(N!=-1)bc(n,N,he)}var gJ=R[0],kg=R[1],N=J,cJ=J;
for(var it=0;it<gJ.length;it+=2){var by=i?kg[it+1]-kg[it]-D.StartIndent-D.EndIndent-(J==0?D.FirstLineIndent:0):Infinity,cz=0;
N=cJ;cJ+=gJ[it];var fG=this.a5B(N,cJ,n,c,i!=null);if(i){if(U==1||u&&U==4)cz=fG[1]+(by-fG[0]);if(U==2||u&&U==5)cz=fG[1]+(by-fG[0])/2;
if(C==0)cz+=D.FirstLineIndent;cz+=D.StartIndent}else{if(U==0)cz=D.StartIndent+D.FirstLineIndent;if(U==1)cz=-fG[0]-D.EndIndent;
if(U==2)cz=-fG[0]/2}cz+=kg[it];if(i&&U>2&&(U==6||!u))this.ama(N,cJ,n,by,c,cz);else{var ju=cz;for(var F=N;
F<cJ;F++){var gW=n[F],iI=gW.G8.m;gW.RD.x=ju;if(gW.oW=="\t")iI=Math.ceil((ju+4)/36)*36-ju;ju+=iI}}}J=H.end;
for(var F=H.start;F<H.end;F++){var be=n[F].G8.clone();be.Jj(n[F].RD);H.G8=H.G8.QM(be);ht=Math.max(ht,n[F].Gc);
et=Math.max(et,n[F].lineHeight)}H.RD.y=C==0?0:e[C-1].RD.y+et;if(C==0){if(o==0&&i)L[0]+=ht;if(o!=0)L[0]+=et;
this.RD.y=L[0]}else L[0]+=et;if(i)H.Pk=this.RD.y+H.RD.y<i.y+i.n}var c9=D.SpaceAfter;if(c9!=null)L[0]+=c9};
ah.Qw.prototype.a5B=function(x,z,A,o,i){var L=0,B=0;for(var F=x;F<z;F++)L+=A[F].G8.m;if(i){if(o==0)for(var F=z-1;
F>=x;F--)if(A[F].lr||A[F].xg)L-=A[F].G8.m;else break;if(o==1)for(var F=x;F<z;F++)if(A[F].lr||A[F].xg){var D=A[F].G8.m;
L-=D;B-=D}else break}return[L,B]};ah.Qw.prototype.ama=function(x,z,A,o,i,L){var B=0,D=0,Z=0,j=0;for(var F=x;
F<z;F++)if(A[F].lr)Z++;else{B+=A[F].G8.m;D++}if(i==0)for(var F=z-1;F>=x;F--)if(A[F].lr||A[F].xg){if(A[F].lr){Z--}}else break;
if(i==1)for(var F=x;F<z;F++)if(A[F].lr||A[F].xg){if(A[F].lr){Z--;j++}}else break;if(D<=1||Z==0){if(D==1)A[x].RD.x=L;
return}var a=(o-B)/Z,b=-j*a;for(var F=x;F<z;F++){if(A[F].lr)this.bL[A[F].F$].G8.m=A[F].G8.m=a;A[F].RD.x=L+b;
b+=A[F].G8.m}};ah.a5t=function(x,z,A,o,i,L,B){this.oW="";for(var F=0;F<B;F++)this.oW+=A[L+F].Mx;this.lr=B==1&&(A[L].Mx==" "||A[L].Mx=="\t");
this.xg=B==1&&A[L].Mx=="\n";this.start=L;this.end=L+B;this.G8=new av;this.RD=new iL(0,0);this.Gc=0;this.lineHeight=0;
var D=0,j=0;if(B==0){this.lineHeight=A[L].lineHeight;this.Gc=A[L].Gc;this.G8=new av(0,-A[L].lineHeight,0,A[L].lineHeight)}var a=A[L].Hm,b=A[L+B-1].Hm;
if(b<a){var W=a;a=b;b=W}while(b+1<i.length&&i[b].j4==i[b+1].j4){b++}this.F$=a;this.K_=b;for(var c=a;
c<=b;c++){var Y=i[c],R=A[o+Y.j4],$=x._LineOrientation==2&&(R.C9.BaselineDirection!=2||ah.l2(R.Mx.charCodeAt(0))),k=Typr.U.glyphToPath(R.lT,Y.a),M=0;
Y.path={F:k.cmds,v:k.crds};var w=R.C9.FontSize,V=1/R.lT.head.unitsPerEm*w;if(!R.C9.AutoKerning)D+=R.C9.Kerning*2*V*R.scale.x;
Y.RD=new iL(D,0);Y.Yp=0;if($&&Y.path.v.length>0){Y.Yp=-Math.PI/2;Y.RD.x+=w*.83;Y.RD.y=-w*.3+Y.Md*V/2;
Y.Md=w/V}var h=Y.Md*V*R.scale.x;Y.G8=new av(0,-R.lineHeight,h,R.lineHeight);var l=Y.G8.clone();l.Jj(Y.RD);
if(R.C9.Tracking!=null)M=R.C9.Tracking*.001*w;if(R.C9.FauxBold==!0)M+=.027*w;D+=h+M;if(B==1&&R.Mx==" ")l.m+=2*M;
else if(B==1&&R.Mx!=null&&ah.l2(R.Mx.charCodeAt(0)))l.m+=M;this.G8=this.G8.QM(l);this.Gc=Math.max(this.Gc,R.Gc);
this.lineHeight=Math.max(this.lineHeight,R.lineHeight)}};ah.to=0;ah.aea=function(x){if(ah.to==2)return!0;
if(ah.to==1)return!1;ah.to=1;function z(){fetch("code/ext/fribidi.wasm").then(function(A){return A.arrayBuffer()}).then(function(A){return WebAssembly.instantiate(A)}).then(function(A){var o=A.instance.exports,i=o.memory,L=16,B=256,D=1,Z=L|B,j=L|B|D;
ah.aaD=function(b,W){var c=b.length,Y=c*4+4+c*4+c*4+c;iF.Ec(o,Y+c+1e7);var R=new Uint8Array(i.buffer),$=new Uint32Array(i.buffer),k=o.calloc(Y,1),w=k+c*4,V=w+4,h=V+c*4,l=h+c*4;
$.set(b,k>>>2);$[w>>>2]=W==0?Z:j;o.fribidi_get_bidi_types(k,c,V);o.fribidi_get_bracket_types(k,c,V,h);
o.fribidi_get_par_embedding_levels_ex(V,h,c,w,l);var M=R.slice(l,l+c);o.free(k);return M};ah.to=2;var a=new fZ(G.E.Y,!0);
a.data={d:G.U.nF,Ra:"add",Hl:cu.Oc,Cy:null};x.c(a)})}Typr.U.initHB("code/ext/hb.wasm",z);return!1};function am(){}am.zu=function(x){return JSON.parse(JSON.stringify(x))};
am.kr=function(x,z){for(var A in z)x[A]=z[A]};am.P9=function(x,z,A){var o=am.ajY();if(A)am.zz(o,0,0,A);
var i={D:new cb(1,0,0,1,Math.round(x),Math.round(z)),gP:o};i.pn=am.a8v();i.rK=f.qK.C();i.t0=new av;return i};
am.aji=function(x){var z=["CharacterDirection",0];for(var F=0;F<z.length;F+=2){if(x[z[F]]!=null&&x[z[F]]!=z[F+1]){throw"e";
console.log(z[F],x[z[F]])}}if(x instanceof Array)for(var F=0;F<x.length;F++)am.aji(x[F]);else if(x instanceof Object)for(var A in x)am.aji(x[A])};
am.zk=function(x,z){if(z==null)z=x.Justification;var A=x._Direction?x._Direction:0;if(A==1){if(z==0||z==3)z++;
else if(z==1||z==4)z--}return z};am.vN=function(x){if(x.add==null)return;var z=x.gP,A=z.Curve,o=x.add.vmsk,i=o._,L=f.p.zx(i,!0).v,B=x.D.clone();
B.Qs();f.p.D(L,B,L);var D=L.slice(0,8);for(var j=8;j<L.length;j+=6)D.push(L[j-2],L[j-1],L[j],L[j+1],L[j+2],L[j+3],L[j+4],L[j+5]);
A.Points=D;A.TextOnPathTRange=o.qX.slice(0);A.Reversed=o.j1;if(am.dC(z)==1){var A=ah.nG(z.Curve),a=f.p.Jr(A[0]);
am.Lf(z,[0,0,a.m,a.n].map(Math.round));for(var F=0;F<D.length;F+=2){D[F]-=a.x;D[F+1]-=a.y}var b=new cb(1,0,0,1,a.x,a.y);
b.concat(x.D);x.D=b}};am.AA=function(x){if(x.add==null)return;var z=x.add.vmsk,A=x.gP.Curve,o=A.Points,i={F:["M"],v:[o[0],o[1]]};
for(var F=0;F<o.length;F+=8){i.F.push("C");i.v.push(o[F+2],o[F+3],o[F+4],o[F+5],o[F+6],o[F+7])}f.p.D(i.v,x.D,i.v);
var L=f.p.fq(i,!0);z._=L;z.j1=A.Reversed;z.qX=A.TextOnPathTRange.slice(0);x.add.vogk=g.Az(L)};am.Pw=function(x){var z={w:0,a:0,s:0};
if(x){var A=x.Values;if(x.Type==1)z={w:A[1]*255,a:A[2]*255,s:A[3]*255};else if(x.Type==2){var o={classID:"CMYC",Cyn:{t:"doub",v:A[1]*100},Mgnt:{t:"doub",v:A[2]*100},Ylw:{t:"doub",v:A[3]*100},Blck:{t:"doub",v:A[4]*100}};
z=f.Q.Pw(o)}else console.log("Unknown color type")}return z};am.a1O=function(x){for(var F=0;F<x.length;
F++){var z=x[F].StyleSheet.StyleSheetData,A=z.FillColor;if(A&&A.Type==2){var o=am.Pw(A);A.Type=1;A.Values=[1,o.w/255,o.a/255,o.s/255]}}};
am.mc=function(x,z){var A;if(am.dC(x.gP)==1){var o=am.iA(x.gP);A=new av(0,0,o[2]-o[0],o[3]-o[1])}else{A=z.yF();
if(z.BS){var i=z.BS.clone(),L=f.p.Mm(A);f.p.D(L.v,i,L.v);A=f.p.Jr(L.v)}}return A};am.a7=function(x){var z=x[0];
for(var F=0;F<x.length;F++)z=am.abE(z,x[F]);return z};am.abE=function(x,z){var A={};for(var o in x)if(JSON.stringify(x[o])==JSON.stringify(z[o]))A[o]=x[o];
return A};am.Lk=function(x,z){var A=x.Cr,o=-1;for(var F=0;F<A.length;F++)if(A[F].Name==z)o=F;if(o==-1){o=A.length;
A.push({FontType:1,Name:z,Script:0,Synthetic:0})}x.i8.Font=o};am.FP=function(x){return x.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
am.Yn=function(x,z){x.EngineDict.Editor.Text=z.replace(/\n/g,"\r")};am.dC=function(x){return x.Curve&&x.Curve.TextOnPathTRange[0]>=0?2:x.EngineDict.Rendered.Shapes.Children[0].ShapeType};
am.cn=function(x,z){var A=x.EngineDict.Rendered.Shapes.Children[0];A.ShapeType=z;var o=A.Cookie.Photoshop;
o.ShapeType=z;o.Base.ShapeType=z;if(z==0){delete o.BoxBounds;o.PointBase=[0,0]}if(z==1){delete o.PointBase;
o.BoxBounds=[0,0,1,1]}};am.iA=function(x){return x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
am.Lf=function(x,z){x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=z};am.a8l=function(x,z){var A=x.EngineDict.AlternateGlyphRun;
if(A==null)return-1;var o=am.wc(A.RunLengthArray,z).To,i=A.RunArray[o].Glyph;return i==null?-1:i};am.awC=function(x,z,A){var o=x.EngineDict.AlternateGlyphRun;
if(o==null){o=x.EngineDict.AlternateGlyphRun=am.auH();o.RunArray.push({});o.RunLengthArray.push(am.FP(x).length)}var i=am.wc(o.RunLengthArray,z),L=i.To,B=z-i.m4,D=o.RunArray[L],j=JSON.stringify(D),a=o.RunLengthArray[L];
if(B!=0){o.RunArray.splice(L,0,JSON.parse(j));o.RunLengthArray.splice(L,0,B);o.RunLengthArray[L+1]-=B;
L++;a-=B;B=0}if(a!=1){o.RunArray.splice(L+1,0,JSON.parse(j));o.RunLengthArray.splice(L+1,0,a-1);o.RunLengthArray[L]=1;
a=1}D.Glyph=A};am.af6=function(x,z){var A=x.EngineDict.StyleRun.RunLengthArray;return am.wc(A,z).To};
am.a4f=function(x,z){var A=x.ResourceDict.StyleSheetSet[0].StyleSheetData,o={};for(var i in A)o[i]=A[i];
var L=x.EngineDict.StyleRun.RunArray[z].StyleSheet.StyleSheetData;am.kr(o,L);return o};am.auZ=function(x,z){var A=x.EngineDict.ParagraphRun.RunLengthArray;
return am.wc(A,z).To};am.avJ=function(x,z){var A=x.ResourceDict.ParagraphSheetSet[0].Properties,o={};
for(var i in A)o[i]=A[i];var L=x.EngineDict.ParagraphRun.RunArray[z].ParagraphSheet.Properties;am.kr(o,L);
var B=["StartIndent","EndIndent","FirstLineIndent"];for(var F=0;F<3;F++)if(o[B[F]]==null)o[B[F]]=0;return o};
am.tW=function(x,z,A){if(A=="")return;var o=am.FP(x);am.Yn(x,o.substring(0,z)+A+o.substring(z,o.length));
var i=x.EngineDict.StyleRun,L=i.RunLengthArray,B=am.wc(L,z-1);L[B.To]+=A.length;var D=x.EngineDict.AlternateGlyphRun;
if(D){var L=D.RunLengthArray,B=am.wc(L,z-1);L[B.To]+=A.length}var j=x.EngineDict.ParagraphRun,L=j.RunLengthArray,a=am.wc(L,z),b=A.split("\n");
if(b.length==1){L[a.To]+=A.length;return}L.splice(a.To+1,0,L[a.To]-(z-a.m4));j.RunArray.splice(a.To+1,0,am.zu(j.RunArray[a.To]));
L[a.To]-=L[a.To+1];L[a.To]+=b[0].length+1;for(var F=1;F<b.length-1;F++){j.RunArray.splice(a.To+F,0,am.zu(j.RunArray[a.To+F-1]));
j.RunLengthArray.splice(a.To+F,0,b[F].length+1)}L[a.To+b.length-1]+=b[b.length-1].length};am.vx=function(x,z,A){var o=am.FP(x);
am.Yn(x,o.substring(0,z)+o.substring(A,o.length));am.rT(x.EngineDict.ParagraphRun,z,A,!0);am.rT(x.EngineDict.StyleRun,z,A,!1);
var i=x.EngineDict.AlternateGlyphRun;if(i)am.rT(i,z,A,!1)};am.rT=function(x,z,A,o){var i=x.RunLengthArray,L=am.wc(i,z),B=am.wc(i,A),D=[];
for(var F=0;F<i.length;F++)for(var Z=0;Z<i[F];Z++)D.push(F);D.splice(z,A-z);var j=[];for(var F=0;F<i.length;
F++)j.push(0);for(var F=0;F<D.length;F++)j[D[F]]++;for(var F=0;F<i.length;F++){if(j[F]==0){j.splice(F,1);
i.splice(F,1);x.RunArray.splice(F,1);F--}else if(j[F]<i[F])i[F]=j[F]}if(o&&L.To!=B.To&&L.m4!=z){i[L.To]+=i[L.To+1];
i.splice(L.To+1,1);x.RunArray.splice(L.To+1,1)}};am.zz=function(x,z,A,o){var i=x.EngineDict.Editor.Text.length;
if(A==i-2)A++;if(o.i8.Font!=null)x.ResourceDict.FontSet=o.Cr.slice(0);if(z<=A)am.agI(x.EngineDict.StyleRun,o.i8,z,A,!0);
am.agI(x.EngineDict.ParagraphRun,o.tl,z,A,!1)};am.En=function(x,z,A){var o={Cr:x.ResourceDict.FontSet.slice(0),i8:[],tl:[]},i=x.EngineDict.StyleRun.RunLengthArray,L=am.wc(i,z).To,B=am.wc(i,A).To;
for(var F=L;F<=B;F++){var D=am.zu(x.ResourceDict.StyleSheetSet[0].StyleSheetData),j=x.EngineDict.StyleRun.RunArray;
if(j.length==0)continue;var a=j[F].StyleSheet.StyleSheetData;am.kr(D,a);o.i8.push(D)}var b=x.EngineDict.ParagraphRun.RunLengthArray,W=am.wc(b,z).To,c=am.wc(b,A).To;
for(var F=W;F<=c;F++){var Y=x.EngineDict.ParagraphRun.RunArray;if(Y.length==0)continue;o.tl.push(am.zu(Y[F].ParagraphSheet.Properties))}o.i8=o.i8.length==0?{}:am.a7(o.i8);
o.tl=o.tl.length==0?{}:am.a7(o.tl);return o};am.agI=function(x,z,A,o,i){var L=x.RunLengthArray;if(i){var B=am.wc(L,A);
if(B.m4!=A){var D=L[B.To];L.splice(B.To,0,A-B.m4);L[B.To+1]=D-L[B.To];x.RunArray.splice(B.To+1,0,am.zu(x.RunArray[B.To]))}var Z=am.wc(L,o);
if(Z.m4+L[Z.To]-1!=o){var D=L[Z.To];L.splice(Z.To,0,o-Z.m4+1);L[Z.To+1]=D-L[Z.To];x.RunArray.splice(Z.To+1,0,am.zu(x.RunArray[Z.To]))}}var B=am.wc(L,A),Z=am.wc(L,o);
if(i)for(var F=B.To;F<=Z.To;F++)am.kr(x.RunArray[F].StyleSheet.StyleSheetData,z);else for(var F=B.To;
F<=Z.To;F++)am.kr(x.RunArray[F].ParagraphSheet.Properties,z)};am.avM=function(x,z,A){var o=x.EngineDict.StyleRun.RunLengthArray,i=[],L=0;
for(var F=0;F<o.length;F++){var B=o[F];for(var D=0;D<B;D++)if(z<=L+D&&L+D<A)i.push(F);L+=B}var j=i[0],a=[];
for(var F=0;F<i.length;F++){var b=i[F]-j;if(b==a.length)a.push(0);a[b]++}return a};am.avk=function(x){var z=x.EngineDict.StyleRun,A=z.RunArray,o=z.RunLengthArray;
for(var F=0;F<o.length-1;F++){var i=A[F].StyleSheet.StyleSheetData,L=A[F+1].StyleSheet.StyleSheetData;
if(JSON.stringify(i)==JSON.stringify(L)){A.splice(F+1,1);o[F]+=o[F+1];o.splice(F+1,1);F--}}};am.Mt=function(x){var z=x.pn.AntA.v.Annt;
z=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(z);if(z==-1)z=1;return z};am.Q4=function(x,z){x.pn.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][z]};
am.Gp=function(x,z){var A,o;A=["FontSize","Leading","BaselineShift"];o=x.i8;for(var F=0;F<A.length;F++)if(o[A[F]]!=null)o[A[F]]*=z;
A=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];o=x.tl;for(var F=0;F<A.length;
F++)if(o[A[F]]!=null)o[A[F]]*=z};am.aet=function(){return am.En(am.ata,0,0)};am.a8v=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
am.wc=function(x,z){var A=0,F=0;while(A+x[F]<=z){A+=x[F];F++}return{To:F,m4:A}};am.ajY=function(){var x=am.zu(this.ata);
return x};am.a1W=function(x,z){var A=z.tl};am.a7r=function(x,z){var A=z.i8,o;o=x.Undl;if(o&&o.v.Undl=="underlineOnLeftInVertical")A.Underline=!0;
o=x.syntheticItalic;if(o)A.FauxItalic=o.v};am.ahl={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
am.a7D={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
am.auH=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};am.ata={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(am.ahl))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(am.ahl))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(am.a7D))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var dB={};dB.a8D=function(x){var z=dB.a59(x._0,x._1);dB.afm(z,x._0);return z};dB.ag0=function(x,z,A){var o={};
o._98={_0:"i7"};o._0=dB.acK(x,z,A?A._0:null);o._1=dB.ahq(x,z,o._0,A?A._1:null);return o};dB.acK=function(x,z,A){var o={};
o._1=dB.amy(x,A?A._1:null);o._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};o._3=JSON.parse(JSON.stringify(dB.aec));
o._4=JSON.parse(JSON.stringify(dB.asK));o._5=dB.ahv(x,o._1._0,A?A._5:null);o._6=dB.a5G(x,A?A._6:null);
o._8=dB.ax9(x,z,A?A._8:null);o._9=dB.aqU;return o};dB.afm=function(x,z){dB.amZ(x,z._5,z._1._0)};dB.amy=function(x,z){var A=[],o=[];
for(var F=0;F<x.length;F++){var i=x[F].ResourceDict.FontSet;for(var L=0;L<i.length;L++){var B=i[L];if(o.indexOf(B.Name)!=-1)continue;
A.push(B);o.push(B.Name)}}var D={_0:[]};for(var F=0;F<A.length;F++){var Z=A[F],j={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+Z.Name,_1:"i"+Z.Script,_2:"i"+Z.FontType}}};
if(Z.Script==0)delete j._0._0._1;D._0.push(j)}return D};dB.ahv=function(x,z,A){var o={_0:[],_1:[]},i={_0:JSON.parse(JSON.stringify(dB.a7a))};
dB.aj6(i._0,x[0].ResourceDict.StyleSheetSet[0],z,x[0].ResourceDict.FontSet);o._0.push(i);o._1.push({_0:"i0"});
o._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});o._1.push({_0:"i1"});return o};dB.amZ=function(x,z,A){var o=z._0[0];
for(var F=0;F<x.length;F++)dB.aba(o._0,x[F].ResourceDict.StyleSheetSet[0],A,x[F].ResourceDict.FontSet)};
dB.a5G=function(x,z){var A={_0:[],_1:[]},o={_0:JSON.parse(JSON.stringify(dB.Tm))};dB.ua(o._0,x[0].ResourceDict.ParagraphSheetSet[0]);
A._0.push(o);A._1.push({_0:"i0"});o={_0:JSON.parse(JSON.stringify(dB.Tm))};dB.ua(o._0,x[0].ResourceDict.ParagraphSheetSet[0]);
o._0._0="sBasic Paragraph";o._0._6="i0";A._0.push(o);A._1.push({_0:"i1"});return A};dB.ax9=function(x,z,A){var o={_0:[]};
for(var F=0;F<x.length;F++){var i=x[F].Curve,L={};o._0.push({_0:L});var B=am.dC(x[F]);L._2={};L._2._0="i"+B;
if(x[F]._LineOrientation==2)L._2._1="i2";if(B==0){L._2._6=["f-1","f-1"];L._2._11={_4:"i-1",_7:!1}}else if(B==1&&i==null){var D=am.iA(x[F]),Z=D[2],j=D[3];
L._1={_0:dB.VO("f",[0,0,0,0,Z,0,Z,0,Z,0,Z,0,Z,j,Z,j,Z,j,Z,j,0,j,0,j,0,j,0,j,0,0,0,0])};L._2._6=["f-2","f-2"];
L._2._11={_4:"i-2",_7:!1}}else if(B==1){var D=am.iA(x[F]),Z=D[2],j=D[3];L._1={_0:dB.VO("f",i.Points)};
L._2._6=["f-3","f-3"];L._2._11={_4:"i-3",_7:!1}}else if(B==2){L._1={_0:dB.VO("f",i.Points)};L._2._6=dB.VO("f",i.TextOnPathTRange);
L._2._11={_0:i.Reversed,_3:"i0",_5:"f0",_7:!1}}}return o};dB.ahq=function(x,z,A,o){var i={};i._0=JSON.parse(JSON.stringify(dB.akJ));
i._1=dB.ahD(x,z,A,o?o._1:null);i._2=JSON.parse(JSON.stringify(dB.a7a._6));i._3=JSON.parse(JSON.stringify(dB.Tm._5));
return i};dB.a59=function(x,z){return dB.avZ(x,z._1)};dB.ahD=function(x,z,A,o){var i=[],L=A._1._0;for(var F=0;
F<x.length;F++){var B=x[F],D={_0:{}};i.push(D);D._0._0="s"+B.EngineDict.Editor.Text;D._0._0=D._0._0;
var j=D._0._5={_0:[]},a=B.EngineDict.ParagraphRun;for(var b=0;b<a.RunArray.length;b++){var W={_0:{}};
j._0.push(W);W._0._0={_0:"s",_5:{},_6:"i1"};dB.ua(W._0._0,a.RunArray[b].ParagraphSheet);W._1="i"+a.RunLengthArray[b]}var c=D._0._6={_0:[]};
a=B.EngineDict.StyleRun;for(var b=0;b<a.RunArray.length;b++){var Y={_0:{}};c._0.push(Y);Y._0._0={_0:"s",_5:"i1",_6:{}};
dB.aj6(Y._0._0,a.RunArray[b].StyleSheet,L,B.ResourceDict.FontSet);Y._1="i"+a.RunLengthArray[b]}a=B.EngineDict.AlternateGlyphRun;
if(a){var R=D._0._9={_0:[]};for(var b=0;b<a.RunArray.length;b++){var $={_0:{}};R._0.push($);var k=a.RunArray[b];
if(k.Glyph!=null){$._0._0={_0:"i"+k.Glyph,_1:"e"}}$._1="i"+a.RunLengthArray[b]}}D._0._10={_0:"i4",_2:!0};
D._1=dB.view.atU(B,null,F,null)}return i};dB.avZ=function(x,z){var A=[],o=x._1._0;for(var F=0;F<z.length;
F++){var i=am.ajY();A.push(i);var L=z[F];i.EngineDict.Editor.Text=L._0._0.slice(1);var B=i.EngineDict.ParagraphRun.RunArray[0],D=i.EngineDict.ParagraphRun,j=L._0._5;
if(j)for(var a=0;a<j._0.length;a++){var b=j._0[a];D.RunLengthArray[a]=parseInt(b._1.slice(1));D.RunArray[a]=JSON.parse(JSON.stringify(B));
dB.at2(b._0._0,D.RunArray[a].ParagraphSheet)}else{D.RunLengthArray[0]=am.FP(i).length}var W=L._0._6;
D=i.EngineDict.StyleRun;if(W)for(var a=0;a<W._0.length;a++){var c=W._0[a];D.RunLengthArray[a]=parseInt(c._1.slice(1));
D.RunArray[a]={StyleSheet:{StyleSheetData:{}}};dB.aba(c._0._0,D.RunArray[a].StyleSheet,o,i.ResourceDict.FontSet)}else{D.RunLengthArray[0]=am.FP(i).length;
D.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return A};dB.aj6=function(x,z,A,o,i){x._0="s"+(z.Name?z.Name:"");
var L=x._6,B=i?i._6:null,D=z.StyleSheetData;if(D.Font==null)return;var Z=o[D.Font].Name,j=-1;for(var F=0;
F<A.length;F++)if("s"+Z==A[F]._0._0._0){j=F;break}L._0="i"+j;if(D.FontSize!=null)L._1="f"+D.FontSize;
if(D.FauxBold!=null)L._2=D.FauxBold;if(D.FauxItalic!=null)L._3=D.FauxItalic;if(D.AutoLeading!=null)L._4=D.AutoLeading;
if(D.Leading!=null)L._5="f"+D.Leading;if(D.HorizontalScale!=null)L._6="f"+D.HorizontalScale;if(D.VerticalScale!=null)L._7="f"+D.VerticalScale;
if(D.Tracking!=null)L._8="i"+D.Tracking;if(D.BaselineShift!=null)L._9="f"+D.BaselineShift;if(D.AutoKerning!=null)L._11="i"+(D.AutoKerning?1:0);
if(D.FontCaps!=null)L._12="i"+D.FontCaps;if(D.FontBaseline!=null)L._13="i"+D.FontBaseline;if(D.Strikethrough!=null)L._15="i"+(D.Strikethrough?1:0);
if(D.Underline!=null)L._16="i"+(D.Underline?2:0);if(D.Ligatures!=null)L._18=D.Ligatures;if(D.DLigatures!=null)L._19=D.DLigatures;
if(D.BaselineDirection!=null)L._35="i"+D.BaselineDirection;if(D.Language!=null)L._38="i"+D.Language;
if(D.FillColor!=null)L._53=dB.Hq(D.FillColor);if(D.StrokeColor!=null)L._54=dB.Hq(D.StrokeColor);if(D.FillFlag!=null)L._56=D.FillFlag;
if(D.StrokeFlag!=null)L._57=D.StrokeFlag;if(D._LineWidth!=null)L._63="f"+D._LineWidth;if(D._FillBackgroundColor!=null)L._79=dB.Hq(D._FillBackgroundColor);
if(D._FillBackgroundFlag!=null)L._80=D._FillBackgroundFlag};dB.Hq=function(x){return{_99:"/SimplePaint",_0:{_0:"i1",_1:dB.VO("f",x.Values)}}};
dB.aba=function(x,z,A,o){var i=x._6;if(i==null)return;var L=z.StyleSheetData;if(i._0){var B=parseInt(i._0.slice(1)),D=A[B]._0._0._0.slice(1);
am.Lk({i8:L,Cr:o},D)}if(i._1!=null)L.FontSize=parseFloat(i._1.slice(1));if(i._2!=null)L.FauxBold=i._2;
if(i._3!=null)L.FauxItalic=i._3;if(i._4!=null)L.AutoLeading=i._4;if(i._5!=null)L.Leading=parseFloat(i._5.slice(1));
if(i._6!=null)L.HorizontalScale=parseFloat(i._6.slice(1));if(i._7!=null)L.VerticalScale=parseFloat(i._7.slice(1));
if(i._8!=null)L.Tracking=parseFloat(i._8.slice(1));if(i._9!=null)L.BaselineShift=parseFloat(i._9.slice(1));
if(i._11!=null)L.AutoKerning=parseFloat(i._11.slice(1))==1;if(i._12!=null)L.FontCaps=parseFloat(i._12.slice(1));
if(i._13!=null)L.FontBaseline=parseFloat(i._13.slice(1));if(i._15!=null)L.Strikethrough=parseFloat(i._15.slice(1))==1;
if(i._16!=null)L.Underline=parseFloat(i._16.slice(1))==1;if(i._18!=null)L.Ligatures=i._18;if(i._19!=null)L.DLigatures=i._19;
if(i._35!=null)L.BaselineDirection=parseFloat(i._35.slice(1));if(i._38!=null)L.Language=parseFloat(i._38.slice(1));
if(i._53!=null)L.FillColor=dB.i9(i._53);if(i._54!=null)L.StrokeColor=dB.i9(i._54);if(i._56!=null)L.FillFlag=i._56;
if(i._57!=null)L.StrokeFlag=i._57;if(i._63!=null)L._LineWidth=parseFloat(i._63.slice(1));if(i._79!=null)L._FillBackgroundColor=dB.i9(i._79);
if(i._80!=null)L._FillBackgroundFlag=i._80};dB.i9=function(x){var z=x._0._0,A=x._0._1,o=[1,0,0,0],i=[];
for(var F=0;F<A.length;F++)i[F]=parseFloat(A[F].slice(1));if(z=="i0")o[1]=o[2]=o[3]=i[1];else if(z=="i1")o=i;
else if(z=="i2")o=[1].concat(UDOC.C.cmykToRgb(i.slice(1)));else console.log("unknown color type",z,i);
return{Type:1,Values:o}};dB.ua=function(x,z){x._0="s"+(z.Name?z.Name:"");var A=x._5,o=z.Properties;if(o.Justification!=null)A._0="i"+o.Justification;
if(o.FirstLineIndent!=null)A._1="f"+o.FirstLineIndent;if(o.StartIndent!=null)A._2="f"+o.StartIndent;
if(o.EndIndent!=null)A._3="f"+o.EndIndent;if(o.SpaceBefore!=null)A._4="f"+o.SpaceBefore;if(o.SpaceAfter!=null)A._5="f"+o.SpaceAfter;
if(o.AutoLeading!=null)A._7="f"+o.AutoLeading;if(o.AutoHyphenate!=null)A._9=o.AutoHyphenate;if(o._Direction!=null)A._33="i"+o._Direction;
if(o._ComposerEngine!=null)A._35="i"+o._ComposerEngine};dB.at2=function(x,z){var A=x._5;if(A==null)return;
var o=z.Properties;if(A._0)o.Justification=parseInt(A._0.slice(1))};dB.VO=function(x,z){var A=[];for(var F=0;
F<z.length;F++)A.push(x+z[F]);return A};dB.aec={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
dB.asK={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
dB.a7a={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
dB.Tm={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
dB.aqU={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
dB.akJ={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var c3={};c3.ans=function(x){return c3.kv(x,c3.$V,0)};c3.amB=function(x){return c3.Uu(x,c3.$V)};c3.kv=function(x,z,A){var o;
if(typeof x=="string")return x;if(x instanceof Array){o=[];for(var F=0;F<x.length;F++)o[F]=c3.kv(x[F],z,A+1)}else{o={};
var i={};for(var L in z){var B=z[L],D="_"+B[0];if(x[D]!=null){o[L]=B[1]?c3.kv(x[D],B[1],A+1):x[D];i[D]=!0}}for(var L in x){if(i[L]==null){if(L.length>3)continue;
console.log(z,i);console.log(L,x);throw"e"}}}return o};c3.Uu=function(x,z){var A;if(typeof x=="string")return x;
else if(x instanceof Array){A=[];for(var F=0;F<x.length;F++)A[F]=c3.Uu(x[F],z)}else{A={};var o={};for(var i in z){var L=z[i],B="_"+L[0];
if(x[i]!=null){A[B]=L[1]?c3.Uu(x[i],L[1]):x[i];o[i]=!0}}for(var i in x){if(o[i]==null){console.log(z,o);
console.log(i,x);throw"e"}}}return A};c3.y7={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
c3.p3={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,c3.y7],_StrokeColor:[54,c3.y7],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,c3.y7],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
c3.anR={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,c3.p3],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
c3.a3P={_Name:[0],_Features:[5,c3.anR],_Parent:[6],_UUID:[97]};c3.aoz={_Name:[0],_Parent:[5],_Features:[6,c3.p3],_UUID:[97]};
c3.$V={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,c3.aoz]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,c3.a3P]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,c3.a3P]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,c3.aoz]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,c3.p3],_OriginalNormalParagraphFeatures:[3,c3.anR]}]};
dB.view={};dB.view.atU=function(x,z,A,o){var i={},L=am.dC(x);i._0=[{_0:"i"+A}];return i};function CSS(){}CSS.acT=function(x,z){var A=x.add,o=A.vmsk,i=A.vstk,L=A.lmfx,B=A.TySh,D=[],Z=CSS.aaJ(L,A);
if(x.d8()&&o){var j=f.J.BH(o._);if(!j.WT()){D.push("width: "+Math.round(j.m)+"px");D.push("height: "+Math.round(j.n)+"px")}var a=f.J.ar0(o._);
if(a>0)D.push("border-radius: "+Math.round(a)+"px")}else if(B){var b=B.gP;if(am.dC(b)==1){var j=am.iA(b);
D.push("width: "+Math.round(j[2])+"px");D.push("height: "+Math.round(j[3])+"px")}CSS.afN(D,am.En(b,0,0),B.D,!1,!1,Z[0])}var W=[],c=L?L.dropShadowMulti.v:0;
for(var F=0;F<c.length;F++){var Y=c[F].v;if(Y.enab.v){var R=Y.Dstn.v.val,$=Y.lagl.v.val*Math.PI/180;
if(Y.uglg&&Y.uglg.v)$=z.kA()*Math.PI/180;var k=R*Math.cos($),w=R*Math.sin($);W.push("drop-shadow("+(k==0?"0 ":CSS.Uj(-k)+"px ")+(w==0?"0 ":CSS.Uj(w)+"px ")+Y.blur.v.val/2+"px "+CSS.DY(Y.Clr.v,Y.Opct.v.val/100)+")")}}if(W.length!=0)D.push("filter: "+W.join(" "));
if(B==null)CSS.ad3(Z,D);if(i==null||!i.strokeEnabled.v)i=ct.ZV(L);if(i&&i.strokeEnabled.v){var V=i.strokeStyleContent.v,h=V.classID,l=gN.J9.qA.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),M=gN.J9.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),q=i.strokeStyleOpacity.v.val/100,t=i.strokeStyleLineWidth.v.val,p="";
if(h=="solidColorLayer")p=CSS.DY(V.Clr.v,q);D.push("border: "+t+"px solid "+p)}return D};CSS.aaJ=function(x,z){var A=ct.Kp(x,z),o=A[0],i=A[1],L,B;
if(o){L=CSS.DY(o.Clr.v,z.iOpa!=null?z.iOpa/255:1)}else if(i){B=CSS.oO(i)}return[L,B]};CSS.ad3=function(x,z){if(x[0])z.push("background-color: "+x[0]);
if(x[1])z.push("background-image: "+x[1])};CSS.b_={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Uj=function(f5){return""+parseFloat(f5.toFixed(3))};CSS.cK=function(x){if(x==null)return{w:0,a:0,s:0};
var z=x.indexOf("(");if(z!=-1){var A=x.slice(z+1,x.length-1).split(",");for(var F=0;F<A.length;F++){var o=A[F].trim();
A[F]=parseFloat(o)*(o.endsWith("%")?255/100:1)}return{w:A[0],a:A[1],s:A[2]}}if(x.charAt(0)!="#"){var i=CSS.b_;
if(i[x])x=i[x];else console.log("unknown color "+x)}x=x.slice(1);if(x.length==4)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]+x[3]+x[3];
if(x.length==3)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2];var L=-1;if(x.length==8){L=parseInt(x.slice(6),16);x=x.slice(0,6)}x=parseInt(x,16);
var B={w:x>>16&255,a:x>>8&255,s:x&255};if(L!=-1)B.xc=L;return B};CSS.DY=function(x,z){return CSS.Gk(f.Q.Pw(x),z)};
CSS.Gk=function(x,z){if(z==null)z=1;var A=Math.round(x.w),o=Math.round(x.a),i=Math.round(x.s),L=A<<16|o<<8|i;
return z==1?"#"+f.Ng(L):"rgba("+A+","+o+","+i+","+z+")"};CSS.oO=function(x){var z=x.Grad.v;if(z.Clrs==null)return"";
var A=z.Clrs.v.slice(0),o=z.Trns.v.slice(0),i=x.Ofst.v,L=x.Type.v.GrdT=="Rdl"?1:0,B=(L==1?"radial":"linear")+"-gradient",D=L==0?Math.round(-x.Angl.v.val+90)+"deg":"circle at center",Z=x.Rvrs.v;
if(Z){A.reverse();o.reverse()}for(var F=0;F<A.length;F++){var j=A[F].v,a=F<o.length?o[F].v.Opct.v.val/100:1,b=j.Lctn.v/4096;
if(Z)b=1-b;D+=", "+CSS.DY(j.Clr.v,a)+" "+Math.round(b*100)+"%"}return B+"("+D+")"};CSS.afN=function(x,z,A,o,i,L){var B=z.i8,D=o?1:Q.S._q(A),Z=Math.round(B.FontSize*D);
x.push("font-size: "+Z+"px");var j=B.Tracking;if(!o&&j!=null&&j!=0)x.push("letter-spacing: "+Math.round(j*Z/1e3)+"px");
if(!B.AutoLeading)x.push("line-height: "+Math.round(B.Leading*D)+"px");if(B.Strikethrough)x.push("text-decoration: line-through");
if(B.Underline)x.push("text-decoration: underline");var a=am.Pw(B.FillColor);a=[a.w,a.a,a.s].map(Math.round);
x.push((o?"fill: ":"color: ")+(L?L:"#"+f.Ng(a[0]<<16|a[1]<<8|a[2])));var b=z.Cr[B.Font].Name;if(b){var W=j2.Rw.iY(b),c="",Y=null,R=null;
if(W!=null&&b!=j2.$l(W))W=null;if(i&&W)c+="\""+b+"\", ";var $=b.toLowerCase();if(W){Y=j2.TP(W)[0];if(W["OS/2"])R=W["OS/2"].usWeightClass}else{Y=CSS.ate(b);
if($.indexOf("light")!=-1)R=300;else if($.indexOf("medium")!=-1)R=500;else if($.indexOf("black")!=-1||$.indexOf("extrabold")!=-1)R=800;
else if($.indexOf("bold")!=-1)R="bold"}if(Y!=null)c+="\""+Y+"\"";if(R!=null)x.push("font-weight: "+R);
if($.indexOf("italic")!=-1||$.indexOf("oblique")!=-1)x.push("font-style: italic");if(c)x.push("font-family: "+c)}var k=z.tl.Justification;
if(k!=null&&k!=0)if(o){}else x.push("text-align: "+["left","right","center"][k%3])};CSS.ate=function(x){x=x.split("-")[0];
while(x.endsWith("MT")||x.endsWith("PS"))x=x.slice(0,x.length-2);var z=!0;for(var F=0;F<x.length;F++){var A=x.charAt(F);
if(!z&&A.toLowerCase()!=A){x=x.slice(0,F)+" "+x.slice(F);F++;z=!0}else z=!1}return x};function dx(){}dx.Q8={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
dx.Nz=function(x,z){var A=Date.now(),o;try{o=acorn.parse(x)}catch(kc){console.log(kc);return}var i=JSON.parse(JSON.stringify(dx.hh.ZL));
i.__return=!1;i.__continue=!1;i.__break=!1;i.__throw=!1;i.__fs={};i.__window={};dx.eval(o,z,i);var L=i.__fs;
if(Object.keys(L).length!=0){var B=UZIP.encode(L);gC.save(B,"output.zip")}};dx.eval=function(x,z,A){var o=x.type;
if(!1){}else if(o=="Program"||o=="BlockStatement"){var i=x.body;for(var F=0;F<i.length;F++){var L=i[F].type;
if(L=="FunctionDeclaration")A[i[F].id.name]=i[F]}for(var F=0;F<i.length;F++){var L=i[F].type,B=dx.eval(i[F],z,A);
if(A.__continue){A.__continue=!1;return B}if(A.__return||A.__break||A.__throw)return B}}else if(o=="ReturnStatement"){A.__return=!0;
return x.argument?dx.ZU(x.argument,z,A):null}else if(o=="BreakStatement"){A.__break=!0}else if(o=="ContinueStatement"){A.__continue=!0}else if(o=="VariableDeclaration"){var D=x.declarations;
for(var F=0;F<D.length;F++)dx.eval(D[F],z,A)}else if(o=="VariableDeclarator"){A[x.id.name]=x.init?dx.ZU(x.init,z,A):null}else if(o=="FunctionDeclaration"){A[x.id.name]=x}else if(o=="MemberExpression"){var Z=dx.ZU(x.object,z,A),j=x.computed?dx.ZU(x.property,z,A):dx.eval(x.property,z,A),B;
if(Z.u1!=null)B=dx.hh.Be(Z,j,z,A);else if(Z==window&&dx.Q8[j]){}else B=Z[j];return B}else if(o=="ArrayExpression"){var a=[],b=x.elements;
for(var F=0;F<b.length;F++)a.push(dx.ZU(b[F],z,A));return a}else if(o=="ObjectExpression"){var a={},b=x.properties;
for(var F=0;F<b.length;F++){var W=b[F],Y=b[F].key.name?b[F].key.name:b[F].key.value;a[Y]=dx.ZU(b[F].value,z,A)}return a}else if(o=="ExpressionStatement"){return dx.eval(x.expression,z,A)}else if(o=="NewExpression"){var R=x.arguments,$=x.callee,k=$.type,w=$.name,V=[],a=null;
for(var F=0;F<R.length;F++)V.push(dx.ZU(R[F],z,A));if(w=="Array")a=new window[w];else if(k=="Identifier")a=dx.hh.ark(w,V,z,A);
else throw"e";if(a==null)throw"new "+w;return a}else if(o=="CallExpression"){var R=x.arguments,$=x.callee,k=$.type,h={};
for(var l in A)h[l]=A[l];var V=[];for(var F=0;F<R.length;F++)V.push(dx.ZU(R[F],z,A));if(k=="Identifier"){var M=$.name,q=A[M];
if(q){if(q.params){var t=q.params;for(var F=0;F<t.length;F++)h[t[F].name]=V[F];return dx.eval(q.body,z,h)}else{return q.apply(null,V)}}else if(dx.hh.a7u.indexOf(M)!=-1)return dx.hh.wI({u1:"Application"},M,V,z,A);
else if(window[M]==null)console.log("Unknown function "+M);else if(dx.Q8[M])alert(M+"() not available");
else{var p=window[M].apply(window,V);return p}}else if(k=="MemberExpression"){var Z=dx.ZU($.object,z,A),j=$.computed?dx.ZU($.property,z,A):dx.eval($.property,z,A);
if(Z==window&&dx.Q8[j])return;if(Z.u1!=null)return dx.hh.wI(Z,j,V,z,A);else return Z[j].apply(Z,V)}else if(k=="FunctionExpression"){return dx.eval($.body,z,A)}else console.log(x)}else if(o=="AssignmentExpression"){var E=x.operator,_=x.left,S=_.type,y=dx.ZU(_,z,A),v=dx.ZU(x.right,z,A),B=null;
if(!1){}else if(E=="=")B=v;else if(E=="+=")B=y+v;else if(E=="-=")B=y-v;else if(E=="*=")B=y*v;else if(E=="/=")B=y/v;
else if(E=="%=")B=y%v;else if(E=="&=")B=y&v;else if(E=="|=")B=y|v;else if(E=="&&=")B=y&&v;else if(E=="||=")B=y||v;
else console.log(x);if(S=="Identifier"){var r=_.name;if(A.hasOwnProperty(r))A[r]=B;else A.__window[r]=B}else if(S=="MemberExpression"){var K=dx.eval(_.property,z,A),s=dx.ZU(_.object,z,A);
if(s.u1!=null)dx.hh.a91(s,K,B,z,A);else s[K]=B}else console.log(x)}else if(o=="Identifier")return x.name;
else if(o=="Literal")return x.value;else if(o=="UpdateExpression"){var E=x.operator,P=x.argument.name,a=dx.ZU(x.argument,z,A),d=A;
if(d[P]==null)d=A.__window;if(!1){}else if(E=="++"){d[P]++;return x.prefix?d[P]:d[P]-1}else if(E=="--"){d[P]--;
return x.prefix?d[P]:d[P]+1}else console.log(x)}else if(o=="UnaryExpression"){var E=x.operator,X=dx.ZU(x.argument,z,A);
if(X.u1=="UnitValue"){if(E=="-")return-X.h;else return dx.a4P(X.h,E)}else return dx.a4P(X,E)}else if(o=="BinaryExpression"||o=="LogicalExpression"){var E=x.operator,_=dx.ZU(x.left,z,A),X=dx.ZU(x.right,z,A);
if(_==null||X==null)return dx.Ch(_,X,E);else if(_.u1=="UnitValue"&&X.u1=="UnitValue")return dx.Ch(_.h,X.h,E);
else if(_.u1=="UnitValue")return dx.Ch(_.h,X,E);else if(X.u1=="UnitValue"){if(E=="-")return-(_-X.h);
else return dx.Ch(_,X.h,E)}else return dx.Ch(_,X,E)}else if(o=="IfStatement"||o=="ConditionalExpression"){var U=dx.ZU(x.test,z,A);
if(U)return dx.eval(x.consequent,z,A);else if(x.alternate)return dx.eval(x.alternate,z,A)}else if(o=="ForInStatement"){dx.eval(x.left,z,A);
var n=x.left.declarations[0].id.name,e=dx.ZU(x.right,z,A);for(var l in e){A[n]=l;var J=dx.eval(x.body,z,A);
if(A.__break)break;if(A.__return)return J}A.__break=!1}else if(o=="ForStatement"){dx.eval(x.init,z,A);
while(dx.eval(x.test,z,A)){var J=dx.eval(x.body,z,A);if(A.__break)break;if(A.__return)return J;dx.eval(x.update,z,A)}A.__break=!1}else if(o=="DoWhileStatement"){do{var J=dx.eval(x.body,z,A);
if(A.__break)break;if(A.__return)return J}while(dx.eval(x.test,z,A));A.__break=!1}else if(o=="TryStatement"){dx.eval(x.block,z,A);
if(A.__throw){var C=x.handler;A[C.param.name]=A.__throw;A.__throw=!1;dx.eval(C.body,z,A);delete A[C.param.name]}}else if(o=="EmptyStatement"){}else console.log(x)};
dx.Ch=function(x,z,A){if(A=="+")return x+z;else if(A=="-")return x-z;else if(A=="*")return x*z;else if(A=="/")return x/z;
else if(A=="%")return x%z;else if(A=="^")return x^z;else if(A=="&")return x&z;else if(A=="&&")return x&&z;
else if(A=="|")return x|z;else if(A=="||")return x||z;else if(A=="<")return x<z;else if(A==">")return x>z;
else if(A=="=="){if(x.u1&&z.u1)return x.h==z.h;return x==z}else if(A=="===")return x===z;else if(A=="<=")return x<=z;
else if(A==">=")return x>=z;else if(A=="!=")return x!=z;else if(A=="!==")return x!==z;else if(A=="<<")return x<<z;
else if(A==">>")return x>>z;else console.log(A)};dx.a4P=function(x,z){if(z=="-")return-x;else if(z=="!")return!x;
else if(z=="~")return~x;else if(z=="+")return x;else if(z=="typeof")return typeof x;else console.log(z,x)};
dx.ZU=function(x,z,A){var o=x.type;if(o=="Identifier")return dx.aee(x.name,z,A);else return dx.eval(x,z,A)};
dx.aee=function(x,z,A){if(x=="undefined")return undefined;else if(A.hasOwnProperty(x))return A[x];else if(x=="app")return{u1:"Application"};
else if(x=="$")return{u1:"$"};else if(dx.hh.avN.indexOf(x)!=-1)return dx.hh.Be({u1:"Application"},x,z,A);
else if(A.__window.hasOwnProperty(x))return A.__window[x];else if(window[x]&&!dx.Q8[x])return window[x];
else{A[x]=null;return null}};dx.hh={};dx.hh.ark=function(x,z,A,o){var i;if(x=="SolidColor")i={u1:x,h:[1,0,0,0]};
if(x=="RGBColor")i={u1:x,h:[1,0,0,0]};if(x=="Window")i={u1:x,h:new i8(z[0],z[1],z[2])};if(x=="ExportOptionsSaveForWeb")i={u1:x,h:{a5:"png",rU:100}};
if(x=="JPEGSaveOptions")i={u1:x,h:{a5:"jpg",rU:100}};if(x=="PDFSaveOptions")i={u1:x,h:{a5:"pdf",avu:""}};
if(x=="File")i={u1:x,h:z[0]};if(x=="ActionReference")i={u1:x,h:[]};if(x=="ActionDescriptor")i={u1:x,h:{}};
if(x=="ActionList")i={u1:x,h:[]};if(x=="UnitValue")i={u1:x,h:z.length==0?0:parseFloat(z[0])};return i};
dx.hh.avN="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
dx.hh.a7u="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
dx.hh.Be=function(x,z,A,o){var i=A.Vt,L=A.Bm();if(!1){}else if(z=="typename"){if(x.u1=="Layer")return x.h.Q0()?"LayerSet":"ArtLayer";
else return x.u1}else if(["Document","Layer"].indexOf(x.u1)!=-1&&["layers","artLayers","layerSets"].indexOf(z)!=-1){var B=L.root,D={u1:"Layers",Rp:z,h:[]};
if(x.u1=="Layer")B=L.root.RX(L.g.indexOf(x.h));if(B.children==null)return null;for(var F=0;F<B.children.length;
F++){var Z=B.children[F].j,j=Z.Q0();if(j&&z=="artLayers"||!j&&z=="layerSets")continue;D.h.push({u1:"Layer",h:Z})}D.h.reverse();
return D}else if(x.u1=="Documents"||x.u1=="Layers"||x.u1=="HistoryStates"||x.u1=="LayerComps"){if(!1){}else if(z=="length")return x.h.length;
else if(Number.isInteger(z))return x.h[z];else console.log(x.u1+": unknown property ",z)}else if(x.u1=="Application"){if(!1){}else if(z=="activeDocument")return{u1:"Document",h:A.Bm()};
else if(z=="documents"){var D={u1:"Documents",h:[]};for(var F=0;F<A.qS.length;F++)D.h.push({u1:"Document",h:A.qS[F]});
return D}else if(z=="fonts")return{u1:"TextFonts"};else if(z=="preferences")return{u1:"Preferences"};
else if(z=="displayDialogs")return{u1:"DialogModes"};else if(z=="foregroundColor"||z=="backgroundColor"){var a=z[0]=="f"?i.VJ:i.GN;
return{u1:"SolidColor",h:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if(z=="UI")return{u1:"UI"};
else console.log(x,z)}else if(x.u1=="Document"){var L=x.h;if(!1){}else if(z=="activeLayer"){var Z=L.g[L.f[0]];
return{u1:"Layer",h:Z}}else if(z=="resolution")return L.um;else if(z=="width")return L.m;else if(z=="height")return L.n;
else if(z=="name")return L.name;else if(z=="saved")return!L.Ws();else if(z=="selection")return{u1:"Selection"};
else if(z=="activeHistoryState")return{u1:"HistoryState",dD:L.pF};else if(z=="source")return L.Y_;else if(z=="layerComps"){var b=L.$C.list.v,W=[];
for(var F=0;F<b.length;F++)W.push({u1:"LayerComp",h:F});return{u1:"LayerComps",h:W}}else if(z=="historyStates"){var c=[];
for(var F=0;F<L.history.length;F++)c.push({u1:"HistoryState",dD:F});return{u1:"HistoryStates",h:c}}else if(z=="mode")return 7;
else console.log(x,z)}else if(x.u1=="LayerComp"){if(z=="name")return L.$C.list.v[x.h].v.Nm.v;else throw z}else if(x.u1=="Layer"){var Y={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},Z=x.h;
if(!1){}else if(z=="visible")return Z.Gi();else if(z=="selected")return L.f.indexOf(L.g.indexOf(Z))!=-1;
else if(z=="grouped")return Z.fG;else if(Y[z]!=null)return Z.bb(Y[z]);else if(z=="opacity")return Z.opacity*100/255;
else if(z=="blendMode")return Z.Cz;else if(z=="name")return Z.getName();else if(z=="textItem")return{u1:"TextItem",h:Z};
else if(z=="bounds"){var R=Q.S.mc(L,[L.g.indexOf(Z)]);return dx.hh.acI(R,L)}else if(z=="parent"){var $=A.qS;
for(var F=0;F<$.length;F++)if($[F].g.indexOf(Z)!=-1)return{u1:"Document",h:$[F]}}else if(z=="kind"){var k=dx.hh.wl;
for(var F=0;F<k.length;F++)if(Z.add[k[F]]!=null)return F;return 0}else console.log(x,z)}else if(x.u1=="Selection"){if(!1){}else if(z=="bounds")return dx.hh.acI(A.Bm().O.rect,L);
else console.log(x,z)}else if(x.u1=="TextItem"){var w=x.h.add.TySh,V=w.gP,h=am.FP(V),l=w.D._q(),M=am.En(V,0,Math.max(0,h.length-2));
if(z=="contents")return h.slice(0,h.length-1).replace(/\n/g,"\r");else if(z=="font")return M.i8.Font!=null?M.Cr[M.i8.Font].Name:null;
else if(z=="size")return dx.hh._e(M.i8.FontSize*l,L);else if(z=="leading")return dx.hh._e(M.i8.Leading*l,L);
else if(z=="tracking")return dx.hh._e(M.i8.Tracking);else if(z=="baselineShift")return dx.hh._e(M.i8.BaselineShift);
else if(z=="fauxBold")return M.i8.FauxBold;else if(z=="fauxItalic")return M.i8.FauxItalic;else if(z=="kind")return 1-am.dC(V);
else if(z=="useAutoLeading")return M.tl.AutoLeading;else if(z=="hyphenation")return M.tl.AutoHyphenate;
else if(z=="justification")return dx.hh._e(M.tl.Justification);else if(z=="color")return{u1:"SolidColor",h:M.i8.FillColor.Values.slice(0)};
else if(z=="width"||z=="height"){var q=am.iA(V),t=(q[2]-q[0])*l,p=(q[3]-q[1])*l;return dx.hh._e(z=="width"?t:p,L)}else if(z=="position"){var E=w.D;
return dx.hh.auW([E.ZT,E._s],L)}else if(z=="horizontalScale"||z=="verticalScale"){var _=z[0].toUpperCase()+z.slice(1);
return Math.round(M.i8[_]*100)}else if(z=="antiAliasMethod")am.Mt(w);else if(z=="totalTextStyle"){var D={};
for(var S=0;S<2;S++){var y=["Style","Paragraph"][S],v=V.EngineDict[y+"Run"].RunLengthArray,r=[],K=0;
for(var F=0;F<v.length;F++){var s=am.En(V,K,Math.min(K+v[F],h.length-2));K+=v[F];r.push(S==0?s.i8:s.tl);
D.fontSet=s.Cr}D[y]={runs:v,styles:r}}return JSON.stringify(D)}else console.log(x,z)}else if(x.u1=="Preferences"){if(z=="rulerUnits")return i.gw.xI;
else console.log(x,z)}else if(x.u1=="SolidColor"){if(z=="rgb")return{u1:"RGBColor",h:x.h};else console.log(x,z)}else if(x.u1=="RGBColor"){var R=Math.round(255*x.h[1]),P=Math.round(255*x.h[2]),d=Math.round(255*x.h[3]);
if(!1){}else if(z=="red")return R;else if(z=="green")return P;else if(z=="blue")return d;else if(z=="hexValue")return"#"+f.Ng(R<<16|P<<8|d).toUpperCase();
else console.log(x,z)}else if(x.u1=="UnitValue"){if(z=="value")return x.h;else throw"e"}else if(x.u1=="ExportOptionsSaveForWeb"){if(z=="format")return x.h.a5;
else if(z=="PNG8"||z=="interlaced")return!1;else if(z=="quality")return x.h.rU;else if(z=="transparency")return!0;
else throw z}else if(x.u1=="JPEGSaveOptions"||x.u1=="PDFSaveOptions"){return 0}else if(x.u1=="$"){if(z=="localize")return!1}else if(x.u1=="ActionList"){if(z=="count")return x.w8.length;
else throw z}else console.log(x,z)};dx.hh.acI=function(x,z){return dx.hh.auW([x.x,x.y,x.x+x.m,x.y+x.n],z)};
dx.hh.auW=function(x,z){var A=[];for(var F=0;F<x.length;F++)A.push(dx.hh._e(x[F],z));return A};dx.hh.ad$=function(x){var z=[];
for(var F=0;F<x.length;F++)z.push(x[F].u1?x[F].h:x[F]);return z};dx.hh._e=function(x,z){return{u1:"UnitValue",h:x}};
dx.hh.ada=function(x,z){if(x.u1=="UnitValue")return x.h;return x};dx.hh.a91=function(x,z,A,o,i){var L=new fZ(G.E.r,!0),B=new fZ(G.E.Y,!0),D=o.Bm(),Z=o.Vt;
if(!1){}else if(x.u1=="Application"){if(!1){}else if(z=="activeDocument"){B.data={d:G.U.du,m5:A.h};o.c(B)}else if(z=="displayDialogs"){}else if(z=="foregroundColor"||z=="backgroundColor"){var j=A.h,a=j[1]*255<<16|j[2]*255<<8|j[3]*255<<0;
B.data={d:G.U.nF,Hl:cu.NV,wa:z=="foregroundColor"?0:1,h:a};o.c(B)}else console.log(x,z,A)}else if(x.u1=="Document"){var b=x.h;
if(!1){}else if(z=="name"){L.k=Q.xu;L.data={d:g.CN,h:A,a6t:!0,Jg:b};D.Gy=!0}else if(z=="source")b.Y_=A;
else if(z=="activeLayer"){b.f=[b.g.indexOf(A.h)]}else if(z=="activeHistoryState"){L.k=Q.xa;L.data={d:"h_itemchange",index:A.dD}}else console.log(x,z)}else if(x.u1=="Layer"){L.k=Q.xu;
var W={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},c=x.h,Y=D.g.indexOf(c);
if(!1){}else if(z=="visible"){if(c.Gi()!=A)L.data={d:g.D7,j:Y}}else if(z=="opacity"){L.data={d:g.ce,j:Y,NI:Math.round(255*A/100)}}else if(z=="blendMode"){L.data={d:g.ya,j:Y,NI:b_.Am.indexOf(A)}}else if(z=="name"){L.data={d:g.Vy,j:Y,name:A}}else if(W[z]!=null){L.data={d:g.wF,j:Y,NI:[[A],[W[z]]]}}else if(z=="kind"){L.data={d:g._U,j:Y,SZ:dx.hh.wl[A]}}else if(z=="grouped"){L.data={d:g.aQ,j:Y,NI:A}}else console.log(x,z,A)}else if(x.u1=="TextItem"){L.k=Q.Mb;
var c=x.h,R=c.add.TySh,$=JSON.parse(JSON.stringify(R.gP)),k=R.D.clone(),w=R.D._q(),V=am.FP($),h=am.En($,0,V.length-2),l=!1;
if(!1){}else if(z=="contents"){am.vx($,0,V.length-1);am.tW($,0,A.replace(/\r/g,"\n"))}else if(z=="size"){h.i8.FontSize=(A.h!=null?A.h:A)/w;
l=!0}else if(z=="leading"){h.i8.Leading=(A.h!=null?A.h:A)/w;l=!0}else if(z=="tracking"){h.i8.Tracking=A.h!=null?A.h:A;
l=!0}else if(z=="baselineShift"){h.i8.BaselineShift=A.h!=null?A.h:A;l=!0}else if(z=="fauxBold"){h.i8.FauxBold=A;
l=!0}else if(z=="fauxItalic"){h.i8.FauxItalic=A;l=!0}else if(z=="kind"){var M=am.dC($);if(M==1&&A==1){var q=new ah($,o.Vt.P2).tl[0],t=q.VI[0].end,p=q.io[t-1].end;
am.vx($,0,V.length-1);am.tW($,0,V.slice(0,p-1))}if(M==A)am.cn($,1-A)}else if(z=="useAutoLeading"){h.tl.AutoLeading=A;
l=!0}else if(z=="hyphenation"){h.tl.AutoHyphenate=A;l=!0}else if(z=="justification"){h.tl.Justification=A;
l=!0}else if(z=="font"){am.Lk(h,A);l=!0}else if(z=="color"){h.i8.FillColor.Values=A.h.slice(0);l=!0}else if(z=="width"||z=="height"){var _=am.iA($).slice(0),S=dx.hh.ada(A);
if(z=="width")_[2]=Math.round(_[0]+S/w);else _[3]=Math.round(_[1]+S/w);am.Lf($,_)}else if(z=="position"){k.ZT=A[0];
k._s=A[1]}else if(z=="horizontalScale"||z=="verticalScale"){var y=z[0].toUpperCase()+z.slice(1);h.i8[y]=A/100;
l=!0}else if(z=="antiAliasMethod")am.Q4(R,A);else console.log(x,z,A);if(l)am.zz($,0,V.length-1,h);L.data={d:"newED",XC:D.g.indexOf(c),M6:$,D:k}}else if(x.u1=="Preferences"){if(!1){}else if(z=="rulerUnits"){var v=JSON.parse(JSON.stringify(Z.gw));
v.xI=A;B.data={d:G.U.nF,Hl:cu.MU,NI:v};o.c(B)}else console.log(x,z,A)}else if(x.u1=="SolidColor"){if(z=="rgb")x.h=A.h;
else throw z}else if(x.u1=="RGBColor"){if(!1){}else if(z=="red")x.h[1]=A/255;else if(z=="green")x.h[2]=A/255;
else if(z=="blue")x.h[3]=A/255;else if(z=="hexValue"){var r=f.xe(A.slice(1));x.h[1]=(r>>>16&255)/255;
x.h[2]=(r>>>8&255)/255;x.h[3]=(r>>>0&255)/255}else console.log(x,z)}else if(x.u1=="ExportOptionsSaveForWeb"){if(z=="format")x.h.a5=A;
else if(z=="PNG8"||z=="transparency"||z=="interlaced"){}else if(z=="quality")x.h.rU=A;else throw z}else if(x.u1=="JPEGSaveOptions"){if(z=="quality")x.h.rU=Math.round(100*A/12)}else if(x.u1=="PDFSaveOptions"){if(z=="preset")x.h.avu=A}else if(x.u1=="$"){if(z=="localize"){}}else console.log(x,z,A);
if(L.data!=null)o.c(L)};dx.hh.wI=function(x,z,A,o,i){var L=x.u1,B=null,D=new fZ(G.E.r,!0),Z=new fZ(G.E.rm,!0),j=new fZ(G.E.Y,!0),a=o.Bm(),b=o.qS;
if(!1){}else if(L=="Application"){if(!1){}else if(z=="charIDToTypeID"){var W=A[0].trim(),c={slct:"select",Dlt:"delete",Mk:"make"};
return c[W]?c[W]:W}else if(z=="stringIDToTypeID"){var Y=A[0].trim(),c={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},R=c[Y];
return R==null?Y:R}else if(z=="typeIDToStringID"){return A[0].trim()}else if(z=="executeAction"){console.log(A);
var $;if(A[1]){$=A[1].h;$.classID=A[0]}var k={setd:"set"},w=k[A[0]];if(w==null)w=A[0];var V=ei.bc[A[0]];
if(V&&ei.Nb[V])w=ei.Nb[V];Z.data={zR:w,k7:$}}else if(z=="executeActionGet"){return{u1:"ActionDescriptor",h:{classID:"null",null:{t:"obj ",v:A[0].h}},w8:a.g[a.f[0]]}}else if(z=="doAction"){j.data={d:G.U.wC,s5:[A[0],A[1]]}}else if(z=="open"){j.data={d:G.U.gk,Hl:{url:A[0]}};
if(A[2]&&b.length!=0)j.data.Hl.mf=b.indexOf(a)}else if(z=="echoToOE"){j.data={d:G.U.pS,Hl:A[0]}}else console.log(z)}else if(L=="LayerComp"){if(z=="apply"){D.k=Q.CQ;
D.data={d:"setLC",dD:a.$C.list.v[x.h].v.compID.v}}else throw z}else if(L=="Document"){var a=x.h;if(!1){}else if(z=="crop"){Z.data=Q.lv.sh(A[0])}else if(z=="trim"){var h=[];
for(var F=0;F<4;F++)h.push(A[F+1]!=null?A[F+1]:!0);Z.data=Q.lv.ck(A[0]!=null?A[0]:0,h)}else if(z=="suspendHistory"){var l=acorn.parse(A[1]);
dx.eval(l,o,i)}else if(z=="save"){j.data={d:G.U.ld}}else if(z=="saveToOE"){j.data={d:G.U.ld,tg:A}}else if(z=="rotateCanvas"){Z.data=Q.S.EH(!0,A[0])}else if(z=="resizeImage"||z=="resizeCanvas"){var M=A[0],q=A[1];
if(typeof M!="number"){M=a.m*parseFloat(M.slice(0,M.length-1))/100;q=a.n*parseFloat(q.slice(0,q.length-1))/100}if(z=="resizeCanvas")Z.data=Q.lv.LS(Math.round(M),Math.round(q),A[2]);
else Z.data=Q.lv.Bw(Math.round(M),Math.round(q),null,1)}else if(z=="paste"){j.data={d:G.U.D5,MD:A.length!=0&&A[0],Qp:!0}}else if(z=="close"){j.data={d:G.U.S8,QW:a}}else if(z=="exportDocument"||z=="saveAs"){var t=i.__fs,p=A[0].h.replace(":","").replace("~/",""),_=z=="exportDocument"?A[2].h:A[1].h,S=iF.XO(a,_.a5,null,null,_.a5=="pdf"?null:[_.rU],o.Vt);
t[p]=new Uint8Array(S)}else console.log(x,z,A)}else if(L=="Layer"){var y=x.h,v=a.g.indexOf(y);if(!1){}else if(z=="copy"){dx.hh.Dv(a,o,0);
j.data={d:G.U.Rv,JO:A[0],Zc:v,Qp:!0};o.c(j);delete j.data;dx.hh.Dv(a,o,1)}else if(z=="clear"){dx.hh.Dv(a,o,0);
Z.data={zR:"delete"};o.c(Z);delete Z.data;dx.hh.Dv(a,o,1)}else if(z=="duplicate"){if(A.length==0){D.data={d:g.Xm,j:v};
D.k=Q.xu;o.c(D);D.data=null;B={u1:"Layer",h:a.g[a.f[0]]}}else if(A[0].u1=="Document"){D.data={d:g.e0,g:a.mW(v),P0:a,qT:A[0].h};
D.k=Q.xu}}else if(z=="merge"||z=="remove"){D.data={d:z=="merge"?g.wQ:g.vn,j:v};D.k=Q.xu;if(z!="remove")B={u1:"Layer",h:a.g[a.f[0]]}}else if(z=="move"){D.data={d:g.f_,source:v,target:a.g.indexOf(A[0].h),Oy:A[1]!=3?.6:.3};
D.k=Q.xu}else if(z=="rasterize"){Z.data={zR:"rasterizeLayer",k7:{classID:"rasterizeLayer",null:jd.uU("Lyr",!0)}}}else if(z=="rotate"){D.data={d:"rot",_4:[2,5],h:-A[0]*Math.PI/180,NG:A[1],j:v};
D.k=Q.fT}else if(z=="resize"){D.data={d:"scl",_4:[2,4],h:new iL(A[0]/100,A[1]/100),NG:A[2],j:v};D.k=Q.fT}else if(z=="translate"){var r=dx.hh.ad$(A);
D.data={d:"trsl",j:v,Ay:r[0],CP:r[1]};D.k=Q.ah}else if(z=="link"){D.data={d:g.pI,a9t:[v,a.g.indexOf(A[0].h)]};
D.k=Q.xu}else if(z=="invert"){D.k=Q.v6;D.data={d:"start",Mo:"nvrt"}}else if(z.startsWith("apply")&&h6.aab[z.slice(5)]){var r=dx.hh.ad$(A),K=h6.aab[z.slice(5)];
Z.data={zR:h6.Nb[K]};var $=h6.d6(K);if($){h6.I1["g"+K]($,r);Z.data.k7=$}}else console.log(x,z,A)}else if(L=="Documents"){if(z=="getByName"){for(var F=0;
F<b.length;F++)if(b[F].name==A[0])return{u1:"Document",h:b[F]};return null}else if(z=="add"){var s=A[5];
if(s==null)s=1;Z.data=ew.bR(A[0],A[1],A[2],A[3],["Wht","Trns","BckC"][s],!1)}else throw"e"}else if(L=="Layers"){if(z=="getByName"){for(var F=0;
F<x.h.length;F++)if(x.h[F].h.getName()==A[0]){B=x.h[F];break}if(B==null)i.__throw={message:"No layer with a name "+A[0]}}else if(z=="add"){D.data={d:x.Rp=="layerSets"?g.XA:g.Eq};
D.k=Q.xu;o.c(D);D.data=null;B={u1:"Layer",h:a.g[a.f[0]]}}else console.log(x,z,A)}else if(x.u1=="Selection"){if(z=="select"){var P=A[0],d=[];
for(var F=0;F<P.length;F++)d.push(P[F][0],P[F][1]);Z.data=Q.BO.Vf(d)}else if(z=="clear"){Z.data={zR:"delete"}}else if(z=="selectAll"){Z.data=Q.BO.dA(!0)}else if(z=="invert"){Z.data={zR:"inverse"}}else if(z=="copy"){j.data={d:G.U.Rv}}else if(z=="deselect"){Z.data=Q.BO.dA()}else if(z=="fill"){var X=A[0].h;
X=f.Q.Vv({w:X[1]*255,a:X[2]*255,s:X[3]*255});Z.data=Q.sg.rJ("Clr",A[1],A[2]==null?1:A[2]/100,X)}else if(z=="translate"){var $={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:A[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:A[1]}}}}};
Z.data={zR:"move",k7:$}}else console.log(x,z,A)}else if(x.u1=="Window"){if(z=="show"){j.data={d:G.U.z1,ca:x.h}}else throw"e"}else if(x.u1=="ActionReference"){if(z=="putProperty"){x.h.push({t:"prop",v:{classID:A[0],keyID:A[1]}})}else if(z=="putClass"){x.h.push({t:"Clss",v:{classID:A[0]}})}else if(z=="putEnumerated"){x.h.push({t:"Enmr",v:{classID:A[0],typeID:A[1],enum:A[2]}})}else if(z=="putName"){x.h.push({t:"name",v:{classID:A[0],val:A[1]}})}else console.log(z,A)}else if(x.u1=="ActionDescriptor"||x.u1=="ActionList"){if(z=="putReference"){x.h[A[0]]={t:"obj ",v:A[1].h}}else if(z=="putDouble"){x.h[A[0]]={t:"doub",v:A[1]}}else if(z=="putUnitDouble"){x.h[A[0]]={t:"UntF",v:{type:A[1],val:A[2]}}}else if(z=="putObject"){if(x.u1=="ActionList"){var U=A[1].h;
U.classID=A[0];x.h.push({t:"Objc",v:U})}else{var U=A[2].h;U.classID=A[1];x.h[A[0]]={t:"Objc",v:U}}}else if(z=="putList"){x.h[A[0]]={t:"VlLs",v:A[1].h}}else if(z=="putBoolean"){x.h[A[0]]={t:"bool",v:A[1]}}else if(z=="putInteger"){x.h[A[0]]={t:"long",v:A[1]}}else if(z=="putString"){x.h[A[0]]={t:"TEXT",v:A[1]}}else if(z=="putEnumerated"){var n={};
n[A[1]]=A[2];x.h[A[0]]={t:"enum",v:n}}else if(z=="hasKey"){var y=a.g[a.f[0]],W=A[0];if(W=="textKey")return y.add.TySh!=null;
var e=x.h.null.v;for(var F=0;F<e.length;F++){if(e[F].v.keyID==A[0]){if(W=="UsrM"){return y.dP()!=null}else throw A}}}else if(z=="getEnumerationValue"){if(A[0]=="layerSection")B="layerSectionContent";
else console.log(A)}else if(z=="getBoolean"){if(A[0]=="background")B=!1;else console.log(A)}else if(z=="getString"){if(A[0]=="name")B=x.w8.getName();
else if(A[0]=="textKey")B=am.FP(x.w8.gP);else console.log(x,A)}else if(z=="getObjectValue"){if(A[0]=="textKey"){B={u1:"ActionDescriptor",w8:x.w8.add.TySh}}else if(typeof A[0]=="number")B=x.w8[A[0]];
else throw A[0]}else if(z=="getList"){B={u1:"ActionList"};if(A[0]=="paragraphStyleRange")B.w8=x.w8.gP.EngineDict.ParagraphRun.RunArray;
else if(A[0]=="kerningRange")B.w8=[];else if(A[0]=="textStyleRange")B.w8=x.w8.gP.EngineDict.StyleRun.RunArray;
else throw A}else console.log(z,A)}else if(x.u1=="$"){if(z=="writeln"){console.log(A[0])}else throw z}else if(x.u1=="UI"){var J;
if(z=="zoomIn"||z=="zoomOut"){J={d:"zoom",gE:z=="zoomIn"}}else if(z=="fitTheArea"){J={d:"adapt",h:"fitscr"}}else if(z=="pixelToPixel"){J={d:"adapt",h:"pixel"}}D.k=Q.WQ;
D.data=J}else console.log(x,z,A);if(D.data)o.c(D);if(Z.data)o.c(Z);if(j.data)o.c(j);return B};dx.hh.Dv=function(x,z,A){var o=new fZ(G.E.r,!0);
o.k=Q.dz;var i=new fZ(G.E.rm,!0);if(A==0){dx.hh.awx=x.O;i.data=Q.BO.dA(!0)}else{var L=dx.hh.awx;if(L)o.data={d:"setsel",_4:"Restore Selection",O:{rect:L.rect.clone(),channel:L.channel.slice(0)}};
else i.data=Q.BO.dA()}z.c(o.data?o:i)};dx.hh.awx=null;dx.hh.ZL={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
dx.hh.ZL.ColorBlendMode=dx.hh.ZL.BlendMode;dx.hh.wl="---- SoLd TySh SoCo GdFl PtFl".split(" ");function gT(){}gT.Rn={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
gT.bu={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
gT.a7W=function(x,z){if(z==null)z={};var A=gT.bu,o=[],i=[],L="";for(var F=0;F<x.length;F++){var B=x[F],D=A[B[0]+""];
if(D&&z[D]==null)z[D]=B[1];else if(B[0]==12)i.push(B[1]);else if(B[0]==25)o.push(B[1]);else if(B[0]==55)L=B[1];
else if(B[0]==60)L+=";"+B[1]}if(L!=""&&z["exif:DateTimeOriginal"]==null)z["exif:DateTimeOriginal"]=L;
if(i.length!=0&&z["Iptc4xmpCore:SubjectCode"]==null)z["Iptc4xmpCore:SubjectCode"]=i.join(";");if(o.length!=0&&z["dc:Keywords"]==null)z["dc:Keywords"]=o.join(";");
return z};gT.ax4=function(x){var z=gT.bu,A=[];for(var o in z)if(x[z[o]])A.push([parseInt(o),x[z[o]]]);
if(x["Iptc4xmpCore:SubjectCode"]){var i=x["Iptc4xmpCore:SubjectCode"].split(";");for(var F=0;F<i.length;
F++)A.push([12,i[F].trim()])}if(x["dc:Keywords"]){var i=x["dc:Keywords"].split(";");for(var F=0;F<i.length;
F++)A.push([25,i[F].trim()])}A.sort(function(L,B){return L[0]-B[0]});return A};gT.aj1=function(x,z){if(z==null)z={};
var A=new DOMParser,o=A.parseFromString(x,"image/svg+xml"),i=o.getElementsByTagName("rdf:Description")[0];
if(i==null)return z;var L=gT.Rn;for(var B in L){var D=L[B][2];if(D==null)continue;var Z=i.getElementsByTagName(D)[0];
if(Z==null)continue;var j=Z.getElementsByTagName("rdf:li"),a=[];for(var F=0;F<j.length;F++)a.push(j[F].textContent);
z[B]=a.join("; ")}return z};gT.asB=function(x){var z=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],A=gT.Rn;
for(var o in A){var i=x[o],L=A[o][2],B="Seq",D="";if(i==null||L==null)continue;if(L=="dc:title"||L=="dc:description"){B="Alt";
D=" xml:lang=\"x-default\""}if(L=="dc:subject")B="Bag";z.push("\t<"+L+"><rdf:"+B+">");var Z=L=="dc:subject"?i.split(";").join(",").split(","):[i];
for(var F=0;F<Z.length;F++)z.push("\t\t<rdf:li"+D+">"+Z[F].trim()+"</rdf:li>");z.push("\t</rdf:"+B+"></"+L+">")}z.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return z.join("\n")};gT.abl=function(x){var z=[];for(var F=0;F<x.length;F++)z[F]=x[F][1]==0?0:x[F][0]/x[F][1];
return z};gT.a8h=function(x){var z=[];for(var F=0;F<x.length;F++){var A=x[F],o=1;if(A!=Math.round(A)){o=1e3;
A=Math.round(A*o)}z[F]=[A,o]}return z};gT.nf=function(x,z){var A=gT.Rn;if(z==null)z={};for(var o in A){var i=A[o][1],L="t"+i;
if(i!=null&&x[L]!=null){var B=x[L];if(i==0)B=B.join(".");else if(i==2||i==4){var D=x["t"+(i-1)];if(D==null)D=[i==2?"N":"E"];
B=gT.abl(B).join(",")+D[0]}else if(i==42034)B=gT.abl(B).join(" ");else if(i==270||i==315){var Z=B[0],j=new Uint8Array(Z.length);
m.ax(j,0,Z);B=m._X(j)}else B=B[0];z[o]=B}}if(x.exifIFD)gT.nf(x.exifIFD,z);if(x.gpsiIFD)gT.nf(x.gpsiIFD,z);
return z};gT.Yv=function(x,z,A){var o=gT.Rn,L=0,D=0;if(z==null)z={};var i={},B={};for(var Z in o){if(x[Z]==null||o[Z][1]==null)continue;
var j=o[Z][1],a="t"+j,b=z;if(Z.startsWith("exif:")){b=i;L++;if(Z.startsWith("exif:GPS")){b=B;D++}}var W=x[Z];
if(j==0)W=new Uint8Array(W.split(".").map(parseFloat));else if(j==2||j==4){var c=W.length;b["t"+(j-1)]=[W.slice(W.length-1)];
W=gT.a8h(W.split(",").map(parseFloat))}else if(j==42034)W=gT.a8h(W.split(" ").map(parseFloat));else if(j==270||j==315){var Y=m.zi(W);
W=[m.dX(Y,0,Y.length)]}else W=[W];b[a]=W}if(L!=0){z.exifIFD=i;z.t34665=[0]}if(D!=0){z.gpsiIFD=B;z.t34853=[0]}var R=new Date,$=[R.getFullYear(),R.getMonth()+1,R.getDate(),R.getHours(),R.getMinutes(),R.getSeconds()];
for(var F=0;F<6;F++)$[F]=($[F]+"").padStart(2,"0");z.t305=["Photopea Editor (www.photopea.com)"];if(A!=!0)z.t306=[$[0]+":"+$[1]+":"+$[2]+" "+$[3]+":"+$[4]+":"+$[5]];
return z};function h7(){}h7.l6=function(x){var z={am_:",",Kq:"\r\n",Ij:"\""},A=[[""]],o,i,L,B,D;for(o=i=L=B=0;
L<x.length;L++){switch(D=x.charAt(L)){case z.Ij:if(B&&x.charAt(L+1)==z.Ij){A[o][i]+=z.Ij;++L}else{B^=1}break;
case z.am_:if(!B){A[o][++i]=""}else{A[o][i]+=D}break;case z.Kq.charAt(0):if(!B&&(!z.Kq.charAt(1)||z.Kq.charAt(1)&&z.Kq.charAt(1)==x.charAt(L+1))){A[++o]=[""];
A[o][i=0]="";if(z.Kq.charAt(1)){++L}}else{A[o][i]+=D}break;default:A[o][i]+=D}}if(A[A.length-1].length<A[0].length)A.pop();
return A};var I={};I.aeC=0;I.kn=function(){I.aeC++;return I.aeC};I.a4X="uint8";I.a55=function(){var x=I.abb();
if(x=="")return 0;if(x!=I.y2("_TXZRPB;d7@;")){var z=I.nS[dr.Sy][dr.NM],A=z.indexOf(String.fromCharCode(35)),o;
if(A==-1)return 0;try{o=JSON.parse(I.nS[dr.arR](z.slice(A+1)))}catch(kc){return 0}var i=o[I.y2("bQ[ODL<E<M")];
if(i==null||i.length<<2!=64)return 0;var L=dr.LG(),B=parseInt(i.slice(3*4).split("").reverse().join(""),16)<<16;
if(B<L||i!=dr.apG(B,x))return 0;return 2}return 1};I.abb=function(){var x=I.nS[I.ei("}$z{2*35")][I.y2("W[\\ZQAJ?")],z=String.fromCharCode(46),A=x.split(z);
if(A.length<2)return"";var o=A.pop();o=A.pop()+z+o;return o};I.a00=function(){if(I.nS[dr.a0z][dr.a1G]){var x=new I.nS[dr.dK];
x[dr.a8](dr.aqs,I.y2("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+I.abb());x[dr.mN]()}};I.dJ=function(){if(window.top!=window.self)return!1;
var x=navigator.userAgent.toLowerCase();if(x.indexOf("android")!=-1)return!1;if(x.indexOf("safari")!=-1&&x.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};I.Xb=function(x){this.Uy=x;this.af$=I.z("img");this.Lr=I.z("canvas");
this.V8=null;this.n0="";this.iV=null;this.DH=new iL(0,0);this.ye=!0;I.Ss(this.Uy,this.a2.bind(this))};
I.Xb.prototype.N_=function(x,z){this.V8=x;if(z)this.n0=z;this.a2()};I.Xb.prototype.dU=function(x){this.ye=x;
this.a2()};I.Xb.prototype.a2=function(x){if(x)this.DH=I.Ki(x,this.Uy);var z=this.ye?this.V8:"auto",A=typeof z=="string";
if(!A){var o=I.Z(),i=this.DH,L=z.G8.m,B=z.G8.n,D=typeof z.Fe=="string",Z=D?this.af$:this.Lr;if(D)Z.setAttribute("src",z.Fe);
else{Z.width=L;Z.height=B;var j=Z.getContext("2d"),a=new ImageData(new Uint8ClampedArray(z.Fe.buffer),L,B);
j.putImageData(a,0,0)}Z.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(i.y-z.d1.y/o)+"px; left:"+(i.x-z.d1.x/o)+"px; width:"+L/o+"px; height:"+B/o+"px");
var b=this.iV;if(b==null||b!=Z){if(b)this.Uy.removeChild(b);this.Uy.appendChild(Z);this.iV=Z}}else if(this.iV){this.Uy.removeChild(this.iV);
this.iV=null}this.Uy.setAttribute("style","cursor:"+(A?z:"none")+"; "+this.n0)};I.xx=function(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
I.c0=function(x,z){x.mB(kc.get([12,41]).charAt(0)+":");z.mB(kc.get([12,42]).charAt(0)+":")};I.z=function(x,z){var A=document.createElement(x);
if(z!=null)A.setAttribute("class",z);return A};I.Uv=function(x){while(x.firstChild)x.removeChild(x.firstChild)};
I.ho=function(x,z){var A=x.getAttribute("class");if(A==null)A="";A=A.split(" ");if(A.indexOf(z)==-1)A.push(z);
x.setAttribute("class",A.join(" "))};I.wi=function(x,z){var A=x.getAttribute("class");if(A==null)return;
A=A.split(" ");if(A.indexOf(z)!=-1)A.splice(A.indexOf(z),1);x.setAttribute("class",A.join(" "))};I.gX=function(x){while(!0){if(x==document)return!0;
if(x==null)return!1;x=x.parentNode}};I.iw=function(x){x.appendChild(I.z("br"))};I._l=function(x){x.appendChild(I.z("hr"))};
I.yD=function(x,z,A){var o=new eI([1,12,1],A==null?!0:A,null,!0);if(x)o.W("click",x.RB,x);if(z)z.appendChild(o.e);
return o};I.nS=document;I.Pi=function(x){var z=0;for(var F=0;F<x;F++)z+=Math.random();return z/x<Math.PI/4};
I.y2=function(x){var z="";if(!I.Pi(28))x+="-3";for(var F=0;F<x.length;F++){var A=x.charCodeAt(F);if(A<32||126<A)throw"e";
z+=String.fromCharCode(32+(A-32+17+3*F)%95)}return z};I.ei=function(x){var z="";if(!I.Pi(28))x+="-1";
for(var F=0;F<x.length;F++){var A=x.charCodeAt(F);A-=32;A+=95e4;A-=17+3*F;A=A%95;z+=String.fromCharCode(32+A)}return z};
I.qm=function(x){var z=Math.random();I.a4X="uint"+(3+z);return new x};(function(){var x=window.PointerEvent,z=x?"pointer":"mouse",A=z+"down",o=z+"move",i=z+"up",L=!1;
I.Zs=function(B,D){B.addEventListener(A,D,L);if(!x)B.addEventListener("touchstart",D,L)};I.Ss=function(B,D){B.addEventListener(o,D,L);
if(!x)B.addEventListener("touchmove",D,L)};I.ek=function(B,D){B.addEventListener(i,D,L);if(!x)B.addEventListener("touchend",D,L)};
I.ax2=function(B,D){B.removeEventListener(A,D,L);if(!x)B.removeEventListener("touchstart",D,L)};I.va=function(B,D){B.removeEventListener(o,D,L);
if(!x)B.removeEventListener("touchmove",D,L)};I.K9=function(B,D){B.removeEventListener(i,D,L);if(!x)B.removeEventListener("touchend",D,L)}}());
I.MX=function(x){x.addEventListener("touchstart",I.ik,!1);x.addEventListener("touchmove",I.ik,!1);x.addEventListener("touchend",I.ik,!1);
x.addEventListener("gesturestart",I.ik,!1);x.addEventListener("gesturechange",I.ik,!1);x.addEventListener("gestureend",I.ik,!1)};
I.anD=function(x){var z=x.sourceCapabilities;if(z)return z.firesTouchEvents;return!1};I.IX=function(x,z,A,o){var i=I.Z();
x.width=Math.floor(z*i);x.height=Math.floor(A*i);if(o)o.scale(i,i);I.lS(x)};I.lS=function(x){var z=I.Z();
x.style.width=x.width/z+"px";x.style.height=x.height/z+"px"};I.FX=function(x,z,A){x.setAttribute("style","width:"+z/I.Z()+"px; height:"+A/I.Z()+"px")};
I.Ki=function(x,z){if(z==null)z=x.currentTarget;var A=z.getBoundingClientRect();if(x.touches)x=x.touches.item(0);
return{x:x.clientX-A.left,y:x.clientY-A.top}};I.Z=function(){return window.devicePixelRatio||1};I.aK=function(x){x.addEventListener("keydown",I.agm,!1)};
I.agm=function(x){x.stopPropagation()};I.ik=function(x){x.preventDefault()};I.oG=function(x){x.stopPropagation();
x.preventDefault()};I.gF=function(x,z,A){A=A?A:"";if(PIMG["__"+x]==null)A+=" gsicon";return"<img src=\""+PIMG[x]+"\" alt=\""+(z?z:"")+"\" class=\""+A+"\" />"};
I.Zb=function(x,z,A,o){var i=x.dataTransfer.getData("text/uri-list");if(i!=null&&i.startsWith("http")){var L=new fZ(G.E.Y,!0);
L.data={d:G.U.gk,Hl:{url:i,Vz:!0,mf:A,l3:o}};z.c(L)}if(x.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var B=[],D=x.dataTransfer.items.length,Z=x.dataTransfer.files;
for(var j of x.dataTransfer.items)j.getAsFileSystemHandle().then(function(a){B.push(a);if(B.length==D){var L=new fZ(G.E.Y,!0);
L.data={d:G.U.rt,data:Z,mf:A,l3:o,a57:B};z.c(L)}})}else{var L=new fZ(G.E.Y,!0);L.data={d:G.U.rt,data:x.dataTransfer.files,mf:A,l3:o};
z.c(L)}};if(I.Pi(27))I.nS=window;else I.nS=I.a9x;I.nS._cwY=I.nS[I.ei("t$&!'31")];var jX={};jX.aiI=function(F){var x=jX.Ic[F],z=document.documentElement.style,o=1;
z.setProperty("--base","#"+f.Ng(x["--base"]));z.setProperty("--bg-panel","#"+f.Ng(x["--bg-panel"]));
z.setProperty("--bg-canvas","#"+f.Ng(x["--bg-canvas"]));z.setProperty("--bg-input","#"+f.Ng(x["--bg-input"]));
z.setProperty("--bg-bbtn","#"+f.Ng(x["--bg-bbtn"]));z.setProperty("--bg-bbtnOver","#"+f.Ng(x["--bg-bbtnOver"]));
z.setProperty("--brdr","#"+f.Ng(x["--brdr"]));z.setProperty("--text-color","#"+f.Ng(x["--text-color"]));
z.setProperty("--brdrLgt","rgba(255,255,255,"+x["--brdrLgt"]+")");z.setProperty("--brdrDrk","rgba(  0,  0,  0,"+x["--brdrDrk"]+")");
z.setProperty("--alphaDark",""+x["--alphaDark"]);z.setProperty("--gs-invert",""+x["--gs-invert"]);var A=x["--sh-clr"];
z.setProperty("--sh-clr","rgba("+(A>>16)+","+(A>>8&255)+","+(A&255)+", 0.45)");z.setProperty("--sh-dy",""+x["--sh-dy"]+"px");
if(1<I.Z()&&I.Z()<1.5)o=1/I.Z();z.setProperty("--img20",20*o+"px");z.setProperty("--img18",18*o+"px");
z.setProperty("--img15",15*o+"px");if(PIMG!=null){var i="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var F=0;F<i.length;F++){var L=i[F],B=L.split("/").pop(),D=PIMG["__"+L]==null?x["--gs-invert"]:"0";
z.setProperty("--icon_"+B,"url("+PIMG[L]+")");z.setProperty("--icon_"+B+"_invrt",D)}}var Z=document.querySelector("meta[name=theme-color]");
if(Z)Z.setAttribute("content","#"+f.Ng(x["--base"]))};jX.Ic=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function d6(){this.Mu={};this.eB={}}d6.prototype.asD=function(x){var z=this.Mu[x];if(z==null)return!1;
return z.length>0};d6.prototype.addEventListener=function(x,z){this.W(x,z,null)};d6.prototype.W=function(x,z,A){if(this.Mu[x]==null){this.Mu[x]=[];
this.eB[x]=[]}this.Mu[x].push(z);this.eB[x].push(A)};d6.prototype.removeEventListener=function(x,z){var A=this.Mu[x];
if(A==null)return;var o=A.indexOf(z);if(o<0)return;var i=this.eB[x];A.splice(o,1);i.splice(o,1)};d6.prototype.c=function(x){x.currentTarget=this;
if(x.target==null)x.target=this;var z=this.Mu[x.type];if(z==null)return;var A=this.eB[x.type];for(var F=0;
F<z.length;F++){if(A[F]==null)z[F](x);else z[F].call(A[F],x)}};var fZ=function(x,z){if(!z)z=!1;this.type=x;
this.target=null;this.currentTarget=null;this.bubbles=z;this.k=null;this.cx=!1},G={E:{r:"0",Y:"1",rm:"1.5",o:"2",X9:"3",af_:"4"},U:{Bu:"10",Sc:"11",wt:"12",lk:"13",sy:"14",apA:"14.1",gk:"15",vP:"16",Me:"17",e8:"18",ld:"19",a3R:"19.5",asa:"20",ah7:"20.5",a2H:"20.6",jN:"21",Rv:"22",D5:"23",NQ:"24",z1:"25",ex:"26",du:"27",in:"28",a6h:"29",rt:"30",hV:"31",Mq:"32",At:"33",HU:"34",nF:"35",auM:"35.5",OB:"37",aun:"38",pj:"39",gt:"40",ep:"41",pS:"41.5",a7l:"42",Tu:"43",a8F:"43.5",S8:"44",a7U:"45",G2:"46",t2:"47",AM:"48",wC:"49",aoU:"50",ZS:"51"}};
function a0(){d6.call(this);this.parent=null;this.e=null;this.GM=0;this.zp=0}a0.prototype=new d6;a0.prototype.a4Z=function(x){var f5=this;
while(f5!=null){if(f5==x)return!0;f5=f5.parent}return!1};a0.prototype.pq=function(){var x=this.e;return x.offsetWidth+x.clientLeft};
a0.prototype.agp=function(){var x=this.e;return x.offsetHeight+x.clientTop};a0.prototype.update=function(x){};
a0.prototype.c=function(x){d6.prototype.c.call(this,x);if(x.bubbles&&this.parent!=null)this.parent.c(x)};
a0.prototype.N=function(){};a0.prototype.a0=function(x,z){};a0.prototype.vb=function(x){I.ho(this.e,"disabled")};
a0.prototype.LV=function(x){I.wi(this.e,"disabled")};a0.prototype.dU=function(x){if(x)this.LV();else this.vb()};
function j7(x){a0.call(this);this.tX=[];this.XQ=!1;this.abP=0;this.Ty={x:0,y:0,z0:!1};this.h_=x;this.abu=this.XP.bind(this);
this.QC=this.ss.bind(this);this.apL=this.rP.bind(this);I.Zs(x,this.abu);I.Ss(x,this.QC);x.addEventListener("wheel",this._0.bind(this),!1);
x.addEventListener("contextmenu",this.a8p.bind(this),!1);var z=this.aaV.bind(this);x.addEventListener("gesturestart",z,!1);
x.addEventListener("gesturechange",z,!1);x.addEventListener("gestureend",z,!1);I.MX(x)}j7.prototype=new a0;
j7.prototype.aaV=function(x){if(x.type=="gesturestart")this.Vm=x.scale;if(x.type=="gesturechange"){var z=new fZ("mouse",!0);
z.action="scroll";z._c=!0;this.aC(x,z);var A=(this.Vm-x.scale)/this.Vm;z.I0=new iL(0,100*A);this.Vm=x.scale;
this.c(z)}};j7.prototype.pz=function(x){var z=-1,A=this.tX;for(var F=0;F<A.length;F++)if(A[F].pointerId==x.pointerId)z=F;
return z};j7.up=function(x){var z=x.pointerType,A=window.__kb;return z=="touch"&&A.A(bJ.agY)};j7.prototype.XP=function(x){if(j7.up(x))return;
var z=this.pz(x);if(z!=-1)this.tX[z]=x;else this.tX.push(x);if(this.tX.length==1){this.abP=Date.now();
var A=x.button!=null&&x.button!=0?x.which==2?"idown":"rdown":"down",o=new fZ("mouse",!0);o.action=A;
this.aC(x,o);this.c(o);I.va(this.h_,this.QC);I.Ss(window,this.QC);I.ek(window,this.apL)}if(this.tX.length==2){if(Date.now()-this.abP<100){var o=new fZ("mouse",!0);
o.action="cancellast";this.aC(x,o);this.c(o)}this.anh("multidown");this.XQ=!0}};j7.prototype.ss=function(x){if(j7.up(x))return;
var z=this.pz(x);if(z!=-1)this.tX[z]=x;if(this.tX.length>1){this.anh("multimove")}if(this.XQ)return;
if(this.tX.length==1&&z==-1)return;var A=new fZ("mouse",!0);A.action="move";this.aC(x,A);this.c(A)};
j7.prototype.rP=function(x){if(j7.up(x))return;var z=this.tX,A=this.pz(x);if(A!=-1)z.splice(A,1);else return;
if(z.length==0){var o=x.button!=null&&x.button>0?x.which==2?"iup":"rup":"up",i=new fZ("mouse",!0);i.action=o;
this.aC(x,i);this.c(i);I.va(window,this.QC);I.K9(window,this.apL);I.Ss(this.h_,this.QC);this.XQ=!1}};
j7.prototype._0=function(x){x.preventDefault();if(x.deltaX==0&&x.deltaY==0)return;var z=new fZ("mouse",!0);
z.action="scroll";z._c=x.ctrlKey;this.aC(x,z);this.c(z)};j7.prototype.a8p=function(x){I.oG(x);if(I.anD(x)){var z=new fZ("mouse",!0);
this.aC(x,z);z.action="rdown";this.c(z);z.action="rup";this.c(z)}};j7.prototype.anh=function(x){var z=this.tX,A=I.Z(),o=[];
for(var F=0;F<z.length;F++){var i=o[F]=I.Ki(z[F],this.h_);i.x*=A;i.y*=A}var L=new fZ("mouse",!0);L.action=x;
L.j0=o;if(z.length<=2)this.c(L)};j7.prototype.aC=function(x,z,A){var o=this.tX.length!=0;if(z.action!="up"){var i=I.Z();
if(A==null)A=I.Ki(x,this.h_);this.Ty=z.Rr={x:i*A.x,y:i*A.y,z0:o};var L=I.Ki(x,document.body);z.Rr.Md=L.x;
z.Rr.fZ=L.y}else this.Ty=z.Rr={x:this.Ty.x,y:this.Ty.y,z0:o};z.Rr.yY=.5;if(x.pressure!=null&&x.pressure!=0)z.Rr.yY=x.pressure;
if(x.pointerType=="mouse")z.Rr.yY*=2;z.Rr.a5r=x.pointerType;if(x.deltaX!=null){var B=x.deltaMode==0?1:40;
z.I0=new iL(x.deltaX*B,x.deltaY*B)}};function ir(x,z,A){a0.call(this);this.IH=null;this.as6=this.rP.bind(this);
this.a2S=this.NZ.bind(this);this.a6M=this.axd.bind(this);this.akz=this.a45.bind(this);this.j5=[];this.QF=[];
this.UT=[];this.aeL=[];this.e=I.z("div","contextpanel "+(A?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",I.ik,!1);
this.mH=null;this.cg=0;this.pd=x;this.mS=z;this.$i=[];for(var F=0;F<x.length;F++){var o=I.z("div","enab");
this.QF.push(o);this.e.appendChild(o);if(x[F].vC){o.innerHTML=I.gF(x[F].vC,null,"thumb")}else{var i=I.z("span","check");
this.aeL.push(i);o.appendChild(i)}var L=I.z("span","label");L.innerHTML=kc.get(x[F].name);o.appendChild(L);
this.UT.push(L);if(x[F].Oh)this.e.appendChild(I.z("hr"));if(x[F].PD||x[F].sub){var B=I.z("span","right");
o.appendChild(B);if(x[F].PD)B.innerHTML=bJ.ew(x[F].PD);if(x[F].sub)B.innerHTML="\u25B6"}o.addEventListener("click",this.as6,!1);
o.addEventListener("mouseover",this.a2S,!0);o.addEventListener("mouseout",this.a6M,!0);if(x[F].sub){var D=new ir(x[F].sub,z?z[F].sub:null);
D.parent=this;this.$i.push(D);D.W("select",this.asi,this)}else this.$i.push(null)}}ir.prototype=new a0;
ir.prototype.a0X=function(x){I.Uv(this.e);for(var F=0;F<x.length;F++)if(x[F]!=0&&x[F]!=null){this.e.appendChild(this.QF[F]);
if(x[F]!=1&&this.$i[F])this.$i[F].a0X(x[F])}};ir.prototype.N=function(){var x=this.pd;for(var F=0;F<x.length;
F++){if(x[F].title)this.QF[F].title=kc.get(x[F].title);this.UT[F].textContent=kc.get(x[F].name)+(x[F].fs?"...":"")}for(var F=0;
F<this.$i.length;F++)if(this.$i[F])this.$i[F].N()};ir.prototype.update=function(x,z){var A=this.pd;for(var F=0;
F<A.length;F++){if(A[F].K){var o=A[F].K(x,z,F);if(o.K!=null)this.QF[F].setAttribute("class",o.K?"enab":"disab");
if(o.qk!=null)this.UT[F].textContent=o.qk;if(o.PO!=null)this.aeL[F].textContent=o.PO?"\u2713":"";if(o.M!=null)this.mS[F]=o.M}}for(var F=0;
F<this.$i.length;F++)if(this.$i[F])this.$i[F].update(x,z)};ir.prototype.WJ=function(){return this.j5};
ir.prototype.rP=function(x){if(x.button!=0)return;var F=this.QF.indexOf(x.currentTarget);if(this.$i[F]){this.cg=F;
this.a45()}else{if(this.mS){var z=this.mS[F],A=new fZ(z.V,!0);A.k=z.k;A.data=z.M;this.c(A)}this.IH=null;
this.j5=[F];this.c(new fZ("select",!1));var A=new fZ(G.E.Y,!0);A.data={d:G.U.lk};this.c(A)}};ir.prototype.NZ=function(x){var F=this.QF.indexOf(x.currentTarget);
if(this.mH){clearTimeout(this.mH);this.mH=null}if(this.$i[F]==null)return;this.cg=F;this.mH=setTimeout(this.akz,300)};
ir.prototype.axd=function(x){var F=this.QF.indexOf(x.currentTarget);if(this.mH){clearTimeout(this.mH);
this.mH=null}};ir.prototype.a45=function(){if(this.mH){clearTimeout(this.mH);this.mH=null}var F=this.cg;
if(this.IH)this.IH.a2g();this.IH=this.$i[F];var x=this.QF[F].getBoundingClientRect(),z=new fZ(G.E.Y,!0);
z.data={d:G.U.Sc,oM:this.$i[F],x:x.left+x.width+2,y:x.top};this.c(z)};ir.prototype.a2g=function(){for(var F=0;
F<this.$i.length;F++)if(this.$i[F])this.$i[F].a2g();var x=new fZ(G.E.Y,!0);x.data={d:G.U.wt,oM:this};
this.c(x)};ir.prototype.asi=function(x){var F=this.$i.indexOf(x.target);this.j5=[F].concat(x.target.WJ());
this.c(new fZ("select",!1))};function dg(x,z,A){a0.call(this);this.e=I.z("span","fitem cbox");if(z==null)z=!0;
if(A==null)A="flabel";var o="cb"+I.kn();this.SS=I.z("input","");this.SS.setAttribute("type","checkbox");
this.SS.setAttribute("id",o);this.e.appendChild(this.SS);this.v8=x;this.mC=I.z("label",A);if(z)this.mC.setAttribute("for",o);
this.e.appendChild(this.mC);this.N();this.SS.addEventListener("change",this.GH.bind(this),!1)}dg.prototype=new a0;
dg.prototype.ajL=function(){return this.v8};dg.prototype.mB=function(x){this.mC.textContent=x};dg.prototype.N=function(){var x=this.v8;
if(typeof x=="string"&&x.startsWith("<"))this.mC.innerHTML=x;else this.mC.textContent=kc.get(x)};dg.prototype.wR=function(){this.SS.checked=!0};
dg.prototype.bG=function(){this.SS.checked=!1};dg.prototype.uj=function(){return this.SS.checked};dg.prototype.b=function(x){this.SS.checked=x};
dg.prototype.L=dg.prototype.uj;dg.prototype.GH=function(x){this.c(new fZ(G.E.o,!1))};function eX(x,z){a0.call(this);
this.v8=x;this.e=I.z("span","labelitem fitem"+(z?" spread":""));this.N()}eX.prototype=new a0;eX.prototype.b=function(x){this.e.textContent=x};
eX.prototype.L=function(){return this.e.textContent};eX.prototype.LV=function(){this.e.removeAttribute("disabled")};
eX.prototype.vb=function(){this.e.setAttribute("disabled","")};eX.prototype.mB=function(x){this.e.textContent=x};
eX.prototype.N=function(){this.e.textContent=kc.get(this.v8)};eX.prototype.ajL=function(){return this.v8};
function eI(x,z,A,o,i){a0.call(this);this.e=I.z("button","fitem"+(z?" spread":"")+(o?" bbtn":""));this.v8=x;
this.nt=A;this.N();var L=i&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(L,this.$m.bind(this),!1)}eI.prototype=new a0;
eI.prototype.N=function(){var x=this.e,z=this.v8,A=this.nt,o=kc.get(z);if(o.startsWith("<img")||o.startsWith("<svg")||o.startsWith("<span"))x.innerHTML=o;
else x.textContent=o;if(o.startsWith("<img")||o.startsWith("<svg")||o.startsWith("<span"))x.setAttribute("style","padding:2px");
if(A){x.setAttribute("title",kc.get(A))}};eI.prototype.agC=function(x){this.e.setAttribute("title",x)};
eI.prototype.$m=function(x){this.c(new fZ("click",!1))};eI.prototype.wR=function(){I.ho(this.e,"bactive")};
eI.prototype.bG=function(){I.wi(this.e,"bactive")};eI.prototype.mB=function(x,z){if(x)this.v8=x;if(z)this.nt=z;
this.N()};eI.prototype.b=function(x){if(x)this.wR();else this.bG()};eI.prototype.uj=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
eI.prototype.L=function(){return this.uj()};function bQ(x,z,A,o,i){a0.call(this);var L=I.kn();this.e=I.z("span","fitem tinput");
if(x){this.v8=x;this.mC=I.z("label","flabel");this.e.appendChild(this.mC);this.mC.setAttribute("for",L);
this.N()}if(i){this.SS=I.z("span")}else if(o==null){this.SS=I.z("input");this.SS.setAttribute("type","text")}else this.SS=I.z("textarea","scrollable");
this.SS.setAttribute("id",L);if(A)this.SS.setAttribute("style","width:"+A+"em;"+(i?" display:inline-block; margin-left:6px;":""));
if(o)this.SS.setAttribute("rows",o);this.e.appendChild(this.SS);if(z){this.C3=I.z("span");this.C3.textContent=z;
this.C3.style.marginLeft="2px";this.e.appendChild(this.C3)}I.aK(this.SS);this.SS.addEventListener("change",this.GH.bind(this),!1);
this.SS.addEventListener("input",this.aax.bind(this),!1)}bQ.prototype=new a0;bQ.prototype.N=function(){if(this.v8)this.mC.textContent=kc.get(this.v8)+":"};
bQ.prototype.mB=function(x){this.mC.textContent=x};bQ.prototype.b=function(x){var z=this.SS,A=x==null?"":x,o=z.tagName=="SPAN";
if(o){z.textContent=" "+A;if(this.C3)z.appendChild(this.C3)}else z.value=A};bQ.prototype.avj=function(x){this.C3.textContent=x};
bQ.prototype.L=function(){return this.SS.value};bQ.prototype.AO=function(){this.SS.select();this.SS.focus()};
bQ.prototype.GH=function(x){this.c(new fZ(G.E.o,!1))};bQ.prototype.aax=function(x){this.c(new fZ("input",!1))};
function fY(x,z,A,o,i,L,B,D,Z){a0.call(this);if(i==null)i=0;this.e=I.z("span","fitem");var j=I.kn();
this.v8=x;this.nt=D;this.V8=0;this.bE=Z;this.iG=z;this.by=A;this.xU=null;if(o instanceof Array){this.xU=o;
o=o[0]}this.XB=o;this.VP=i;this.alT=L;this.sH=B;this.EC=0;this.mC=I.z("label","flabel");this.mC.innerHTML=x;
this.mC.setAttribute("style","cursor:col-resize;");this.QS=I.z("input");this.QS.setAttribute("type","range");
if(B){this.QS.min=0;this.QS.max=400}else{this.QS.min=z;this.QS.max=A;if(i!=0)this.QS.step=(A-z)/200}this.SS=I.z("input");
this.SS.setAttribute("type","text");this.SS.setAttribute("id",j);this.C3=I.z("span");this.C3.innerHTML=o;
I.aK(this.SS);this.SS.addEventListener("change",this.GH.bind(this),!1);this.SS.addEventListener("keydown",this.JX.bind(this),!1);
this.SS.addEventListener("wheel",this._0.bind(this),!1);this.QS.addEventListener("input",this.GH.bind(this),!1);
if(Z)this.QS.addEventListener("change",this.GH.bind(this),!1);this.QS.addEventListener("click",this.ae4.bind(this),!1);
this.at4=this.aal.bind(this);this.a40=this.aq5.bind(this);this.agd=this.a75.bind(this);this.Re=0;this.uf=0;
this.Ui=!1;I.Zs(this.mC,this.at4);I.MX(this.mC)}fY.prototype=new a0;fY.prototype.n5=function(x){this.VP=x};
fY.prototype.mB=function(x){this.mC.style.display=x?"inherit":"none";if(x)this.mC.textContent=kc.get(x)};
fY.prototype.N=function(){var f5=this.v8,x=this.nt;if(f5){if(typeof f5=="string"&&f5.startsWith("<"))this.mC.innerHTML=f5;
else this.mC.textContent=kc.get(f5)+":"}if(x){x=kc.get(x);if(f5)this.mC.setAttribute("title",x);this.SS.setAttribute("title",x)}};
fY.prototype.b=function(x,z){var A=this.iG==this.by,i;if(!A&&this.iG>=0)x=Math.max(this.iG,x);if(this.VP==0)x=Math.round(x);
var o=this.XB;this.V8=x;this.SS.value=(this.VP!=0?x.toFixed(this.VP):x)+(this.alT&&o?(o.toLowerCase()==o.toUpperCase()?"":" ")+o:"");
if(-this.iG==this.by)i=200+Math.sign(x)*200*Math.pow(Math.abs(x)/this.by,1/2.7);else i=400*Math.pow((x-this.iG)/(this.by-this.iG),1/2.7);
this.QS.value=this.sH?i:x;if(z)this.yj()};fY.prototype.L=function(){var x=this.V8;if(isNaN(x))x=0;return x};
fY.prototype.px=function(){return this.XB};fY.prototype.GH=function(x){var z=0;if(x.currentTarget==this.SS){var A=x.target.value,o=0;
z=A==""?0:this.XB?parseFloat(A):eval(A);if(isNaN(z))z=0;while(o<A.length&&(A.charAt(o)=="."||48<=A.charCodeAt(o)&&A.charCodeAt(o)<=57))o++;
var i=A.slice(o).trim();if(this.xU&&this.xU.indexOf(i)!=-1)this.XB=i}else{if(Date.now()-this.EC<10)return;
z=parseFloat(x.target.value);if(this.sH){if(-this.iG==this.by)z=Math.sign(z-200)*Math.pow(Math.abs(z-200)/200,2.7)*this.by;
else z=this.iG+Math.pow(z/400,2.7)*(this.by-this.iG);z=this.a8j(z)}}this.b(z);if(x.type=="input"&&this.bE)return;
this.yj()};fY.prototype.yj=function(){this.c(new fZ(G.E.o))};fY.prototype.a8j=function(x){if(this.by-this.iG>50&&x>10)x=Math.round(x);
return x};fY.prototype.JX=function(x){var z=0;if(bJ.gY(x.code,bJ.ci))z=1;if(bJ.gY(x.code,bJ.ZG))z=-1;
if(z!=0)this.a8x(z,x.shiftKey)};fY.prototype._0=function(x){this.a8x(x.deltaY>0?-1:1,x.shiftKey)};fY.prototype.a8x=function(x,z){var A=this.L(),o=this.VP,i=x*(o==null||o==0||A>5?1:.1);
if(z)i*=10;var L=A+i;if(!this.sH&&this.by!=this.iG)L=Math.min(this.by,L);this.b(L);this.yj()};fY.prototype.ae4=function(x){var z=Date.now()-this.EC;
this.EC=Date.now();if(z>200)return;var A=this.iG,o=this.by,i=(A+o)/2;if(A<1&&o>1&&o<10)i=1;else if(A<90&&o>110)i=100;
else if(A<0&&o>0)i=0;this.b(i);this.yj()};fY.prototype.aal=function(x){I.Ss(document,this.a40);I.ek(document,this.agd);
this.Re=I.Ki(x,document.body).x;this.uf=this.L()};fY.prototype.aq5=function(x){I.oG(x);var z=this.iG==this.by,A=I.Ki(x,document.body).x,o=(A-this.Re)*(z?1:1/120*(this.by-this.iG)),i=this.uf+o;
if(z)i=Math.round(i);if(!z){if(!0){i=Math.max(this.iG,i);if(i==this.iG){this.Re=A;this.uf=this.iG}}if(!this.sH){i=Math.min(this.by,i);
if(i==this.by){this.Re=A;this.uf=this.by}}i=this.a8j(i)}this.Ui=!0;this.b(i);if(!this.bE)this.yj()};
fY.prototype.a75=function(x){if(!this.Ui)this.SS.focus();this.Ui=!1;if(this.bE)this.yj();I.va(document,this.a40);
I.K9(document,this.agd)};fY.prototype.AO=function(){this.SS.select();this.SS.focus()};function eN(x,z,A,o,i,L,B,D,Z,j){fY.call(this,x,z,A,o,i,!0,L,Z,j);
I.ho(this.e,"rangedropinput");this.e.appendChild(this.mC);this.SS.setAttribute("style","width:"+(D?D:3.3)+"em");
this.e.appendChild(this.SS);this.a64=I.z("span","rangecontFloat");this.a64.appendChild(this.QS);this.sI=I.z("button");
this.sI.textContent="\u25BC";I.Zs(this.sI,this.akh.bind(this));if(B!=!0)this.e.appendChild(this.sI);
this.zM=new a0;this.zM.e=this.a64}eN.prototype=new fY;eN.prototype.akh=function(x){if(I.gX(this.zM.e))return;
x.stopPropagation();var z=this.e.getBoundingClientRect();this.QS.setAttribute("style","width:"+z.width+"px;");
var A=new fZ(G.E.Y,!0);A.data={d:G.U.Sc,oM:this.zM,x:z.left-10,y:z.top+z.height};this.c(A)};function kl(x,z,A,o,i,L){fY.call(this,x,z,A,o,i,!1,L);
this.e.appendChild(this.mC);var B=I.z("span");this.e.appendChild(B);B.appendChild(this.QS);this.e.appendChild(this.SS);
this.SS.setAttribute("style","width:3.3em");if(this.XB)this.e.appendChild(this.C3)}kl.prototype=new fY;
function f$(x,z,A,o,i,L,B,D){fY.call(this,x,z,A,o,i,!0,L,null,B);I.ho(this.e,"trangeinput");this.e.appendChild(this.mC);
this.e.appendChild(this.SS);var Z=I.z("span");if(D!=!0)this.e.appendChild(Z);Z.appendChild(this.QS);
this.QS.setAttribute("style","width:97%;")}f$.prototype=new fY;function hN(x,z,A,o){a0.call(this);if(!z)return;
if(A==null)A=!1;this.QH=0;this.alq=A;this.v8=x;this.bu=null;this.apl=o;this.xO=[];var i="dd"+I.kn();
this.e=I.z("span","fitem ddmenu");if(x&&!A){this.mC=I.z("label","flabel");this.e.appendChild(this.mC);
this.mC.setAttribute("for",i)}this.I4=I.z("select","bbtn");this.I4.setAttribute("id",i);this.e.appendChild(this.I4);
this.I4.addEventListener("change",this.GH.bind(this),!1);function L(B){var D=0;if(bJ.gY(B.code,bJ.ci))D=1;
if(bJ.gY(B.code,bJ.ZG))D=-1;if(D!=0)B.stopPropagation()}this.I4.addEventListener("keydown",L,!1);this.I4.addEventListener("keyup",L,!1);
this.wg=[];this.DF=null;this.sx(z,o);this.N()}hN.prototype=new a0;hN.prototype.mB=function(x){this.v8=x;
this.N()};hN.prototype.N=function(){if(this.v8!=null){var x=kc.get(this.v8);if(this.alq)this.I4.setAttribute("title",x);
else this.mC.textContent=x+":"}if(this.DF)this.sx(this.DF,this.apl);this.b(this.QH)};hN.prototype.L=function(){return this.QH};
hN.prototype.sx=function(x,z){I.Uv(this.I4);var A=[],o=0;if(z){A.push(z[0]);for(var F=1;F<z.length;F++)A.push(A[F-1]+z[F])}this.DF=x;
this.bu=[];this.apl=z;for(var F=0;F<x.length;F++){var i=I.z("option");if(this.xO.indexOf(F)!=-1)i.setAttribute("disabled","");
i.textContent=kc.get(x[F]);i.setAttribute("value",F);this.I4.appendChild(i);this.wg.push(i);this.bu.push(F+o);
if(A.indexOf(F+1)!=-1&&F!=x.length-1){var L=I.z("option");L.setAttribute("disabled","");L.textContent="";
this.I4.appendChild(L);o++}}};hN.prototype.aix=function(F){var x=this.xO,z=x.indexOf(F);if(z==-1)x.push(F);
this.N()};hN.prototype.amt=function(F){var x=this.xO,z=x.indexOf(F);if(z!=-1)x.splice(z,1);this.N()};
hN.prototype.b=function(x){this.QH=x;this.I4.selectedIndex=this.bu[x]};hN.prototype.GH=function(x){this.QH=this.bu.indexOf(this.I4.selectedIndex);
this.c(new fZ(G.E.o,!1))};function i6(x,z,A,o){a0.call(this);if(!z)return;this.QH=0;this.a09=o;this.e=I.z("span","fitem bbmenu");
this.mC=I.z("label","flabel");if(x){this.v8=x;this.mC.textContent=x+":";this.e.appendChild(this.mC)}this.wg=[];
this._R=I.z("span");this.e.appendChild(this._R);this.DF=null;this.sx(z,A);this.b(0)}i6.prototype=new a0;
i6.prototype.mB=function(x){this.v8=x;this.N()};i6.prototype.N=function(){var x=this.mC.parentNode!=null,z=this.e;
if(this.v8!=null){if(!x){z.appendChild(this.mC);z.appendChild(this._R)}this.mC.textContent=kc.get(this.v8)+": "}else if(x)z.removeChild(this.mC);
for(var F=0;F<this.wg.length;F++)this.wg[F].N()};i6.prototype.L=function(){return this.QH};i6.prototype.sx=function(x,z){I.Uv(this._R);
this.wg=[];this.DF=x;for(var F=0;F<x.length;F++){var A=new eI(x[F],!1,z?z[F]:null,this.a09);A.W("click",this.GH,this);
this._R.appendChild(A.e);this.wg.push(A)}this.N()};i6.prototype.b=function(x){this.QH=x;for(var F=0;
F<this.wg.length;F++)this.wg[F].bG();this.wg[x].wR()};i6.prototype.GH=function(x){var F=this.wg.indexOf(x.target);
this.b(F);this.c(new fZ(G.E.o,!1))};i6.ZO=function(x,z,A){if(z==null)z=16;var o=i6.Lr,i=o.getContext("2d"),L=z>>>1;
o.width=o.height=z;var B=[];for(var F=0;F<x.length;F++){if(x[F][0]=="-")B.push(x[F].slice(1));else if(x[F]=="checker"||x[F].startsWith("#")){if(x[F]=="checker"){i.fillStyle="white";
i.fillRect(0,0,z,z);i.fillStyle="#bbbbbb";i.fillRect(L,0,L,L);i.fillRect(0,L,L,L)}else if(x[F].startsWith("#")){i.fillStyle=x[F];
i.fillRect(0,0,z,z)}B.push("<img src=\""+o.toDataURL()+"\" />")}else B.push(I.gF(x[F],null,A?A:"autoscale"))}return B};
i6.Lr=I.z("canvas");function i4(x,z,A,o,i,L){a0.call(this);this.e=I.z("span","fitem mbox");this.aeF=A;
this.avT=i;if(x){this.v8=x;this.mC=I.z("label","flabel");this.e.appendChild(this.mC)}this.FB=z;this.ER=[];
for(var F=0;F<z.length;F++){var B=A?new eI(z[F],!1,o?o[F]:null,!1,L):new dg(z[F],!0,"");B.W(A?"click":G.E.o,this.GH,this);
this.ER.push(B);this.e.appendChild(B.e)}this.N()}i4.prototype=new a0;i4.prototype.b=function(x){for(var z=0;
z<this.FB.length;z++)this.ER[z].b(x[z])};i4.prototype.L=function(){var x=[];for(var z=0;z<this.FB.length;
z++)x[z]=this.ER[z].L();return x};i4.prototype.N=function(){if(this.v8)this.mC.innerHTML=kc.get(this.v8)+": ";
var x=this.ER;for(var z=0;z<x.length;z++){x[z].N();if(z==x.length-1)x[z].e.style.marginRight="0px"}};
i4.prototype.GH=function(x){var F=this.ER.indexOf(x.currentTarget),z=this.ER[F];if(this.aeF)z.b(!z.L());
if(this.avT){var A=z.L();for(var F=0;F<this.ER.length;F++)this.ER[F].b(!1);z.b(A)}this.c(new fZ(G.E.o,!1))};
function b9(x,z){a0.call(this);this.ct=[];this.f=[];this.ar9=x;this.yu=z;this.hv=0;this.eP=null;this.DH=new iL(0,0);
if(z!=null){this.Fn=new ir([{name:[6,37]},{name:[5,4]}]);this.Fn.parent=this;this.Fn.W("select",this.nV,this)}this.e=I.z("div","imageset scrollable");
this.e.addEventListener("contextmenu",I.ik,!1)}b9.prototype=new a0;b9.prototype.N=function(){if(this.Fn)this.Fn.N()};
b9.prototype.nV=function(x){var F=this.Fn.WJ()[0],z=new fZ(G.E.Y,!0),A={d:G.U.nF,Hl:this.yu,VF:this.f.slice(0)};
if(F==0){var o=this.eP[1][this.f[0]];A.Ra="rnm";z.data={d:G.U.z1,ca:"namewindow",IO:o,YS:{V:G.E.Y,M:A}}}else{z.data=A;
A.Ra="del"}this.c(z)};b9.prototype.awO=function(){return this.hv};b9.prototype.j7=function(x){this.hv=x;
if(this.eP)this.Ta()};b9.prototype.xl=function(x,z,A,o){this.eP=[x,z,A,o];this.Ta()};b9.prototype.Ta=function(){var x=this.eP,z=x[0],A=x[1],o=x[2],i=x[3];
this.ct=[];this.e.innerHTML="";var L=this.$m.bind(this),B=this.hv;if(B==0)I.ho(this.e,"imageset");else I.wi(this.e,"imageset");
for(var F=0;F<z.length;F++){var D=z[F],Z=null;if(D==null){this.ct.push(null);continue}if(typeof D=="string"){Z=I.z("img","image");
Z.setAttribute("src",D)}else Z=D;if(o)I.FX(Z,o,i);if(this.ar9)I.ho(Z,"gsicon");if(B==0){}else{var j=I.z("div","listitem");
j.appendChild(Z);var a=I.z("span");a.textContent=A?A[F]:"Item "+(F+1);a.setAttribute("style","margin-left:4px;");
j.appendChild(a);Z=j}if(A)Z.setAttribute("title",A[F]);Z.addEventListener("mousedown",L,!1);this.ct.push(Z);
this.e.appendChild(Z)}};b9.prototype.$m=function(x){if(this.yu==null)x.preventDefault();var z=this.ct.indexOf(x.currentTarget),A=window.__kb,o=this.f,i=o.length;
if(A.A(bJ.xb)){var L=Math.min(o[0],o[o.length-1],z),B=Math.max(o[0],o[o.length-1],z);o=[];for(var F=L;
F<=B;F++)o.push(F)}else if(A.A(bJ.RI)){var D=o.indexOf(z);if(D==-1)o.push(z);else o.splice(D,1)}else o=[z];
o.sort(function(b,W){return b-W});if(x.button==0||i==1)this.b(o);this.DH=I.Ki(x,x.currentTarget);if(x.button==0)this.c(new fZ(G.E.o));
if(x.button==2&&this.Fn){var Z=this.Fn;Z.update(null);var j=I.Ki(x,document.body),a=new fZ(G.E.Y,!0);
a.data={d:G.U.Sc,oM:Z,x:j.x,y:j.y+2};this.c(a)}};b9.prototype.L=function(){return this.f.slice(0)};b9.prototype.amE=function(){var x=this.DH;
return new iL(x.x,x.y)};b9.prototype.b=function(x){this.f=x.slice(0);for(var F=0;F<this.ct.length;F++){var z=this.ct[F];
if(z==null)continue;if(x.indexOf(F)!=-1)I.ho(z,"selected");else I.wi(z,"selected")}};function hP(x,z,A,o,i,L,B){a0.call(this);
this.e=I.z("span","fitem "+A);this.gC=new a0;this.gC.e=I.z("div","floatcont");this.gC.e.setAttribute("style","width: "+(o+1.5)+"em;");
this.gC.parent=this;this.a8z=I.z("div");this.gC.e.appendChild(this.a8z);this.v3=I.z("div");this.gC.e.appendChild(this.v3);
if(x){this.v8=x;this.mC=I.z("label","flabel");this.e.appendChild(this.mC)}this.d=I.z("button",B?"nopadding":"");
this.d.setAttribute("style","position:relative;");var D=this.TO.bind(this),Z=this.ka.bind(this);I.Zs(this.d,z?Z:D);
this.e.appendChild(this.d);this.T2=I.z("img",B?"gsicon":"");this.d.appendChild(this.T2);if(z){var j=I.z("button");
j.textContent="\u25BC";I.Zs(j,D);this.e.appendChild(j)}else{var a=I.z("span");a.textContent="\u25BC";
a.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(a)}var b=I.z("span");
this.v3.appendChild(b);b.setAttribute("style","display:inline-block;  vertical-align:top; width:"+o+"em;");
this.CZ=new b9(B,L);b.appendChild(this.CZ.e);this.CZ.parent=this.gC;this.CZ.W(G.E.o,this.Te,this);this.CZ.e.style.height=i+"em";
this.bF=I.z("button");this.bF.textContent="\u25BC";this.bF.setAttribute("style","padding:3px");I.Zs(this.bF,this.fH.bind(this));
this.v3.appendChild(this.bF);var W=this.zd(),c=L!=cu.X1&&L!=cu.lb?L:null,Y=L==null?"":cu.Ek[L][0].toUpperCase(),R=c?[{name:[12,87]}]:[];
R=R.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Oh:!0},{name:[[23,6],"."+(Y=="ICC"?"icc .cube .look .3dl":Y)]},{name:["VAR0 ."+Y,[1,8]]},{name:[6,37]},{name:[5,4],Oh:W.length!=0}]);
for(var F=0;F<W.length;F++)R.push({name:W[F].split("/").pop()});this.Fn=new ir(R);this.Fn.parent=this.gC;
this.Fn.W("select",this.nV,this);this.yu=L;this.afo=c;this.tQ=null;this.Gh=!0;this.d_=null}hP.prototype=new a0;
hP.prototype.zd=function(){return[]};hP.prototype.ka=function(){};hP.prototype.N=function(){this.Fn.N();
this.CZ.N();var x=this.v8;if(x)this.mC.textContent=kc.get(x)+":"};hP.prototype.mB=function(x){this.mC.textContent=x};
hP.prototype.VT=function(x){var z=this.yu,A=0;if(z==cu.ra){A=this.tQ?this.tQ.length:0;x=x.slice(0)}this.tQ=x;
this.Gh=!0;if(I.gX(this.CZ.e)||z==cu.ZK)this.lK();if(z==cu.ra&&x.length-A==1&&I.gX(this.e)){this.b(x[A]);
this.Gh=!0;this.lK();this.CZ.b([A]);this.c(new fZ(G.E.o))}};hP.prototype.nV=function(x){var z=x.target.WJ()[0];
if(this.afo==null)z++;var A=new fZ(G.E.Y,!0);if(z==0){var o=this.CU();if(this.yu==cu.ra&&o[0].profile==null)return;
A.data={d:G.U.nF,Ra:"add",Hl:this.afo,Cy:o}}else if(z==1)this.CZ.j7(1-this.CZ.awO());else if(z<=5)this.A1(z-2);
else{var i=this.zd();A.data={d:G.U.gk,Hl:{url:"rsrc/"+i[z-6]}}}if(A.data)this.c(A)};hP.prototype.A1=function(x){var z=new fZ(G.E.Y,!0),A=this.CZ.L(),o={d:G.U.nF,Hl:this.yu,VF:A};
if(x>1&&A.length==0){alert("No items selected");return}if(x==0)z.data={d:G.U.vP};else if(x==1)z.data={d:G.U.G2,ad2:this.yu,VF:A.length==0?null:A};
else if(x==2){var i=this.CZ.eP[1][A[0]];o.Ra="rnm";z.data={d:G.U.z1,ca:"namewindow",IO:i,YS:{V:G.E.Y,M:o}}}else if(x==3){z.data=o;
o.Ra="del"}this.c(z)};hP.prototype.CU=function(){return[this.L()]};hP.prototype.fH=function(x){if(I.gX(this.Fn.e))return;
x.stopPropagation();var z=this.Fn;z.N();z.update(null);var A=x.currentTarget.getBoundingClientRect(),o=new fZ(G.E.Y,!0);
o.data={d:G.U.Sc,oM:z,x:A.left,y:A.top+A.height};this.c(o)};hP.prototype.TO=function(x,z,A){if(I.gX(this.gC.e))return;
if(x)x.stopPropagation();this.lK();if(z==null){var o=this.d.getBoundingClientRect(),z=o.left,A=o.top+o.height}var i=new fZ(G.E.Y,!0);
i.data={d:G.U.Sc,oM:this.gC,x:z,y:A,Sb:!0};this.c(i)};hP.prototype.a2O=function(x,z){this.TO(null,x,z)};
function hG(){a0.call(this);this.e=I.z("div");this.V8=!1;this.U5=[new hN([12,19,1],[[13,1,7]].concat(ei.$h)),new fp([17,1]),new fp([12,46])];
for(var F=0;F<3;F++){var x=this.U5[F];this.e.appendChild(x.e);x.W(G.E.o,this.og,this)}this.N()}hG.prototype=new a0;
hG.prototype.N=function(){for(var F=0;F<3;F++)this.U5[F].N()};hG.prototype.L=function(){return this.V8.slice(0)};
hG.prototype.b=function(x){this.V8=x.slice(0);var z=this.U5,A=z[0].L();z[1].b(x.slice(A*8,A*8+4),A);
z[2].b(x.slice(A*8+4,A*8+8),A)};hG.prototype.og=function(x){var z=this.U5,A=z.indexOf(x.currentTarget);
if(A==0)this.b(this.V8);else{var o=z[0].L()*8+(A==1?0:4),i=z[A].L();for(var F=0;F<4;F++)this.V8[o+F]=i[F];
this.c(new fZ(G.E.o,!1))}};function fp(x){a0.call(this);this.e=I.z("div");this.I=I.z("canvas");this.td=x;
this.V8=[0,20,200,255];this.V0=0;this.ND=-1;this.a0v=[];for(var F=0;F<5;F++){var z=I.z("span");z.setAttribute("style","display:inline-block;width:"+(F==0?8:F==2?7:2)+"em");
this.a0v.push(z);this.e.appendChild(z)}this.oa=this.XP.bind(this);this.yR=this.ss.bind(this);this.f9=this.rP.bind(this);
I.MX(this.I);I.Zs(this.I,this.oa);this.e.appendChild(this.I);this.Ta()}fp.prototype=new a0;fp.prototype.N=function(){this.Ta()};
fp.prototype.b=function(x,z){this.V8=x;this.V0=z;this.Ta()};fp.prototype.L=function(){return this.V8.slice(0)};
fp.prototype.XP=function(x){var z=this.V8,A=I.Ki(x,this.I),o=A.x-8,i=-1,L=1e9;for(var F=0;F<4;F++){var B=o-z[F],D=Math.abs(B);
if(D<8&&D<L&&((F&1)==0&&B<0||(F&1)==1&&B>0)){L=B;i=F}}if(i==-1)return;this.ND=i;this.UA=window.__kb.A(bJ.yU)||z[(i>>>1)*2]!=z[(i>>>1)*2+1];
I.Ss(window,this.yR);I.ek(window,this.f9)};fp.prototype.ss=function(x){var z=this.V8,A=this.ND,o=(A>>>1)*2,i=o+1,L=I.Ki(x,this.I),B=Math.round(Math.max(0,Math.min(255,L.x-8)));
z[A]=B;if(this.UA&&z[o]>=z[i])this.UA=!1;if(!this.UA)z[o]=z[i]=B;this.Ta();this.c(new fZ(G.E.o,!1))};
fp.prototype.rP=function(x){I.va(window,this.yR);I.K9(window,this.f9)};fp.prototype.Ta=function(){var x=this.I;
I.IX(x,255+16,16);var z=x.getContext("2d"),A=x.width,o=x.height,i=Math.round(255*I.Z()),L=Math.round(8*I.Z());
z.translate(L,0);var B=z.createLinearGradient(0,0,i,0);B.addColorStop(0,"black");B.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.V0]);
z.fillStyle=B;z.fillRect(0,0,i,L);var D=this.a0v,Z=kc.get(this.td)+":";D[0].textContent=Z;for(var F=0;
F<4;F++){var j=this.V8[F];D[1+F].textContent=j;var a=Math.round(j*I.Z());z.beginPath();z.moveTo(a,L);
z.lineTo(a,L+L);z.lineTo(a+((F&1)==0?-1:1)*L,L+L);z.closePath();z.fillStyle=F<2?"#666666":"#cccccc";
z.fill();z.strokeStyle="black";z.stroke()}};function iY(x,z,A){a0.call(this);if(A==null)A=!1;this.h=[0,0,1];
this.arM=z;this.asl=A;this.ajj=0;var o="ai"+I.kn();this.e=I.z("span","fitem angleinput");if(x){this.mC=I.z("label","flabel");
this.v8=x;this.e.appendChild(this.mC);this.mC.setAttribute("for",o)}this.u2=A?44:20;this.I=I.z("canvas","gsicon");
this.E4=this.I.getContext("2d");I.MX(this.I);I.IX(this.I,this.u2*2+1,this.u2*2+1);this.E4.scale(I.Z(),I.Z());
this.e.appendChild(this.I);I.Zs(this.I,this.qc.bind(this));this.G4=this.uB.bind(this);this.QU=this.zc.bind(this);
var i=this.GH.bind(this),L=I.z("div");L.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!A)this.e.appendChild(L);this.yr=[];for(var F=0;F<2;F++){var B=I.z("input");this.yr.push(B);B.setAttribute("type","text");
I.aK(B);if(F==0)B.setAttribute("id",o);B.addEventListener("change",i,!1);var D=I.z("span");D.textContent="\xB0";
if(F==0||z){L.appendChild(B);L.appendChild(D);I.iw(L)}}this.b(this.h)}iY.prototype=new a0;iY.prototype.N=function(){if(this.v8)this.mC.textContent=kc.get(this.v8)+":"};
iY.prototype.mB=function(x){this.mC.textContent=x};iY.prototype.L=function(){return this.h.slice(0)};
iY.prototype.b=function(x,z){var A=this.h;x=x.slice(0);if(x[0]==null)x[0]=A[0];if(x[1]==null)x[1]=A[1];
if(x[2]==null)x[2]=A[2];this.h=x;var o=x[0],i=x[1],L=x[2],B=this.arM,D=this.asl,Z=this.u2*.85;if(!B)i=0;
this.yr[0].value=o;this.yr[1].value=i;var j=this.E4;j.clearRect(0,0,100,100);o=Math.PI*o/180;i=Z*(90-i)/90;
var a=this.u2+.5;j.save();j.translate(a,a);j.rotate(-o);j.strokeStyle="rgba(0,0,0,0.5)";j.beginPath();
j.ellipse(0,0,Z,Z*L,0,0,2*Math.PI);if(D){j.moveTo(0,-Z*L);j.lineTo(0,Z*L);j.moveTo(-i,0)}else j.moveTo(0,0);
j.lineTo(i,0);j.stroke();var b=this.u2*.15;j.fillStyle="black";j.beginPath();if(D){j.arc(0,-Z*L,b*.66,0,2*Math.PI);
j.arc(0,Z*L,b*.66,0,2*Math.PI)}if(B){j.arc(i,0,b*.4,0,2*Math.PI)}else{j.moveTo(a-b,-b*.66);j.lineTo(a,0);
j.lineTo(a-b,b*.66)}j.fill();j.restore();if(z)this.GH()};iY.prototype.GH=function(x){var z=parseInt(this.yr[0].value);
if(isNaN(z))z=0;var A=parseInt(this.yr[1].value);if(isNaN(A))A=0;z=z%360;A=A%360;this.b([z,A]);this.c(new fZ(G.E.o,!1))};
iY.prototype.qc=function(x){I.Ss(window,this.G4);I.ek(window,this.QU);var z=I.Ki(x,this.I),a=0,b=1e9;
z.x-=this.u2;z.y-=this.u2;var A=this.h,o=A[0]*Math.PI/180,i=(90-A[1])/90,L=A[2],B=this.u2*.85,D=Math.sin(-o),Z=Math.cos(-o),j=[new iL(Z*B,D*B)];
if(this.asl)j.push(new iL(-D*B*L,Z*B*L),new iL(D*B*L,-Z*B*L));for(var F=0;F<j.length;F++){var W=iL.Or(z,j[F]);
if(W<b){b=W;a=F}}this.ajj=a;if(a==0)this.uB(x)};iY.prototype.uB=function(x){var z=I.Ki(x,this.I),A=this.ajj,o=[],i=z.x-this.u2,L=z.y-this.u2,B=this.u2*.85;
if(A==0){var D=180*Math.atan2(-L,i)/Math.PI,Z=90-90*Math.min(1,Math.sqrt(i*i+L*L)/B);if(x.shiftKey)D=Math.round(D/15)*15;
o=[Math.round(D),Math.round(Z)]}else o=[null,null,Math.max(.01,Math.min(1,Math.sqrt(i*i+L*L)/B))];this.b(o);
this.c(new fZ(G.E.o,!1))};iY.prototype.zc=function(x){this.c(new fZ(G.E.o,!1));I.va(window,this.G4);
I.K9(window,this.QU)};function aW(x,z){a0.call(this);this.V8=0;this.bU=z;this.e=I.z("span","fitem angleinput");
if(x){this.mC=I.z("label","flabel");this.v8=x;this.e.appendChild(this.mC)}this.I=I.z("canvas","gsicon");
this.E4=this.I.getContext("2d");I.IX(this.I,z,z);this.e.appendChild(this.I);I.MX(this.I);I.Zs(this.I,this.qc.bind(this));
this.G4=this.uB.bind(this);this.QU=this.zc.bind(this);this.b(0)}aW.prototype=new a0;aW.prototype.N=function(){if(this.v8)this.mC.textContent=kc.get(this.v8)+":"};
aW.prototype.mB=function(x){this.mC.textContent=x};aW.prototype.L=function(){return this.V8};aW.prototype.a5J=function(x){var z=this.V8,A=Math.floor(z/3),o=z-A*3;
o=Math.max(0,Math.min(2,o+x.x));A=Math.max(0,Math.min(2,A+x.y));this.b(A*3+o)};aW.prototype.b=function(x){this.V8=x;
var z=this.I.width,A=Math.floor(x/3),o=x-3*A,i=(o+.5)*z/3,L=(A+.5)*z/3,B=this.E4,D=[.5,Math.round(z/3)+.5,Math.round(2*z/3)+.5,z-.5];
B.clearRect(0,0,z,z);var Z=this.bU<30;B.setLineDash([]);B.strokeStyle=Z?"rgba(0,0,0,0.5)":"#000000";
B.beginPath();for(var F=0;F<4;F++){var j=D[F];B.moveTo(j,0);B.lineTo(j,z);B.moveTo(0,j);B.lineTo(z,j)}B.stroke();
if(x==9)return;if(!Z){B.setLineDash([1,2]);var a=z*.53,b=Math.max(0,Math.min(z-a,i-a/2)),W=Math.max(0,Math.min(z-a,L-a/2));
B.strokeRect(Math.round(b)+.5,Math.round(W)+.5,Math.round(a),Math.round(a))}B.fillStyle="#000000";B.beginPath();
B.arc(i,L,z/8,0,Math.PI*2);B.fill()};aW.prototype.qc=function(x){I.Ss(document.body,this.G4);I.ek(document.body,this.QU);
this.uB(x)};aW.prototype.uB=function(x){var z=I.Ki(x,this.I),A=Math.max(0,Math.min(2,Math.floor(z.x/(this.bU/3)))),o=Math.max(0,Math.min(2,Math.floor(z.y/(this.bU/3))));
this.b(o*3+A)};aW.prototype.zc=function(x){this.c(new fZ(G.E.o,!1));I.va(document.body,this.G4);I.K9(document.body,this.QU)};
function aw(f5){a0.call(this);this.e=I.z("span","fitem cswatch");this.apj=0;this.DS=[];this.k1=[];var x=this.a1y.bind(this);
for(var F=0;F<f5;F++){this.DS.push(0);var z=I.z("span","colorsample");z.addEventListener("click",x,!1);
this.k1.push(z);this.e.appendChild(z)}var A=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],o=Math.min(f5,A.length);
for(var F=0;F<o;F++)this.DS[F]=A[F];this.rw()}aw.prototype=new a0;aw.prototype.a1y=function(x){this.apj=this.k1.indexOf(x.currentTarget);
this.c(new fZ(G.E.o))};aw.prototype.L=function(){return this.DS[this.apj]};aw.prototype.b=function(x){var z=this.DS,A=z.indexOf(x);
if(A!=-1)z.splice(A,1);else z.pop();z.unshift(x);this.rw()};aw.prototype.rw=function(){for(var F=0;F<this.DS.length;
F++){this.k1[F].setAttribute("style","background-color:#"+f.Ng(this.DS[F]))}};function aD(x){a0.call(this);
this.y7={w:0,a:0,s:0};this.Vk=x;this.e=I.z("span","fitem colorsample");this.e.addEventListener("click",this.JD.bind(this),!1)}aD.prototype=new a0;
aD.prototype.N=function(){};aD.prototype.JD=function(x){var z=this.y7;this.c(new fZ("click"));var A=new fZ(G.E.Y,!0);
A.data={d:G.U.z1,ca:"colorpicker",bk:z.w<<16|z.a<<8|z.s,PE:this.EJ.bind(this),W$:this.Vk};this.c(A)};
aD.prototype.EJ=function(x){this.Mg(x);this.c(new fZ(G.E.o))};aD.prototype.XL=function(){this.JD(null)};
aD.prototype.adO=function(){var x=this.y7;return x.w<<16|x.a<<8|x.s};aD.prototype.L=function(){return f.Q.Vv(this.y7)};
aD.prototype.Mg=function(x){this.y7={w:x>>16&255,a:x>>8&255,s:x&255};this.a9m()};aD.prototype.b=function(x){this.y7=f.Q.Pw(x);
this.a9m()};aD.prototype.a9m=function(){var x=this.y7,z=x.w,A=x.a,o=x.s,i=z<<16|A<<8|o;this.e.setAttribute("style","background-color:#"+f.Ng(i))};
function h1(){a0.call(this);this.Jm=!1;this.fB=20;this.axi=10;this.Hi=0;this.Jm=!1;this.Wd={w:255,a:0,s:0};
this.Jq={w:0,a:0,s:0};this.e=I.z("canvas");this.Ta();I.MX(this.e);I.Zs(this.e,this.oa.bind(this))}h1.prototype=new a0;
h1.prototype.aeY=function(x){if(this.Jm==x)return;this.Jm=x;this.Ta()};h1.prototype.N=function(){};h1.prototype.aep=function(x,z){function A(o){return{w:o>>16&255,a:o>>8&255,s:o&255}}if(x!=null)this.Wd=A(x);
if(z!=null)this.Jq=A(z);this.Ta()};h1.prototype.oa=function(x){var z=I.Ki(x,this.e),A=z.x*I.Z(),o=z.y*I.Z(),i=this.fB,L=this.axi,B=0;
if(A<L&&o<L){B=0}else if(A>i-L&&o>i-L){B=1}else if(A<L){B=2}else{B=3}this.XL(B)};h1.prototype.XL=function(x){var z=new fZ(G.E.Y,!0);
if(x>1)z.data={d:G.U.nF,Hl:cu.NV,wa:x};else{this.Hi=x;var A=x==0?this.Wd:this.Jq;z.data={d:G.U.z1,ca:"colorpicker",bk:A.w<<16|A.a<<8|A.s,PE:this.EJ.bind(this)}}this.c(z)};
h1.prototype.EJ=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.nF,Hl:cu.NV,wa:this.Hi,h:x};this.c(z)};
h1.prototype.Ta=function(){var x=this.e,z=x.getContext("2d"),A=I.Z(),i="#aaaaaa",L=.62;I.IX(x,34,34);
x.setAttribute("style",x.getAttribute("style")+";cursor:pointer");var o=this.fB=x.width,B=this.axi=Math.round(o*L);
function D(c,Y){var R=c.w,$=c.a,k=c.s;if(Y)R=$=k=Math.round(f.yA(R,$,k));var w=R<<16|$<<8|k;return"#"+f.Ng(w)}function Z(c,Y,B,R,$){z.fillStyle=$?$:"black";
z.fillRect(c,Y,B,B);z.fillStyle=R;z.fillRect(c+1,Y+1,B-2,B-2)}Z(o-B,o-B,B,D(this.Jq,this.Jm));Z(0,0,B,D(this.Wd,this.Jm));
var j=o-B,a=Math.round(j*L);Z(o-a,j-a,a,"white",i);Z(o-j,0,a,"black",i);z.save();z.fillStyle=i;z.translate(0,o);
z.rotate(-Math.PI/2);j=o-B;var b=Math.round(j*.28),W=Math.round(j*.25);for(var F=0;F<2;F++){z.fillRect(b,b,j-b,1);
z.beginPath();z.moveTo(j-W,b+.5-W);z.lineTo(j,b+.5);z.lineTo(j-W,b+.5+W);z.closePath();z.fill();z.transform(0,1,1,0,0,0)}z.restore()};
function aH(x){hP.call(this,x,!1,"brushbutton nopadding",19,10,cu.s7,!0);var z=this.a8z;I.ho(z,"flexrow");
var A=I.z("div");z.appendChild(A);var o=I.z("div");z.appendChild(o);o.setAttribute("style","margin-left:8px");
this.A0=new iY(null,null,!0);this.A0.W(G.E.o,this.VA,this);A.appendChild(this.A0.e);this.ve=new f$([12,14,0],1,1e3," px",0,!0);
this.ve.W(G.E.o,this.VA,this);o.appendChild(this.ve.e);this.pW=new f$([12,17],0,100,"%");this.pW.W(G.E.o,this.VA,this);
o.appendChild(this.pW.e)}aH.prototype=new hP;aH.prototype.zd=function(){var x=["pencil","trees"];for(var F=0;
F<x.length;F++)x[F]="brushes/"+x[F]+".abr";return x};aH.prototype.b=function(x,z,A){this.d_=JSON.parse(JSON.stringify(x));
var o=Math.floor(20*I.Z()),i=Math.floor(36*I.Z()),L=Math.floor(24*I.Z()),B=kb.p2(x,z,A,o,L,i);this.T2.setAttribute("src",B);
I.FX(this.T2,i,L);var D=x.Brsh.v;this.ve.b(D.Dmtr.v.val);if(D.Hrdn!=null){this.pW.LV();this.pW.b(D.Hrdn.v.val)}else this.pW.vb();
if(D.Angl!=null)this.A0.b([D.Angl.v.val]);if(D.Rndn!=null)this.A0.b([null,null,D.Rndn.v.val/100])};aH.prototype.CU=function(){return{list:[{t:"Objc",v:this.L()}],U0:[],xn:[]}};
aH.prototype.L=function(){return this.d_};aH.prototype.lK=function(){if(!this.Gh)return;var x=[],z=[],A=this.tQ,o=Math.floor(33*I.Z()),i=Math.floor(40*I.Z());
for(var F=0;F<A.list.length;F++){var L=A.list[F].v,B=kb.p2(L,A.U0,A.xn,o,i);x.push(B);z.push(L.Nm.v.split("=").pop())}this.CZ.xl(x,z,o,i);
this.Gh=!1};aH.prototype.Te=function(x){var z=this.tQ;this.b(z.list[this.CZ.L()[0]].v,z.U0,z.xn);this.c(new fZ(G.E.o))};
aH.prototype.N=function(){hP.prototype.N.call(this);this.A0.N();this.ve.N();this.pW.N()};aH.prototype.VA=function(x){var z=this.tQ,A=this.d_,o=A.Brsh.v;
o.Dmtr.v.val=this.ve.L();if(o.Hrdn!=null)o.Hrdn.v.val=this.pW.L();if(o.Angl!=null)o.Angl.v.val=this.A0.L()[0];
if(o.Rndn!=null)o.Rndn.v.val=Math.round(this.A0.L()[2]*100);this.b(A,z.U0,z.xn);this.c(new fZ(G.E.o))};
function ed(x){hP.call(this,x,!0,"contourbutton",17,10.5,cu.a6)}ed.prototype=new hP;ed.prototype.Te=function(x){this.b(this.tQ[x.target.L()]);
this.c(new fZ(G.E.o))};ed.prototype.ka=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.z1,ca:"contoureditor",VK:this.d_,response:this.awX.bind(this)};
this.c(z)};ed.prototype.awX=function(x){this.b(x);this.c(new fZ(G.E.o))};ed.prototype.lK=function(){if(!this.Gh)return;
var x=Math.floor(38*I.Z()),z=Math.floor(38*I.Z()),A=[],o=[],i=this.tQ;for(var F=0;F<i.length;F++){o.push(i[F].Nm?i[F].Nm.v:"");
A.push(f.tt.p2(i[F].Crv.v,x,z))}this.CZ.xl(A,o,x,z);this.Gh=!1};ed.prototype.b=function(x){this.d_=JSON.parse(JSON.stringify(x));
var z=this.d_.Crv.v;for(var F=0;F<z.length;F++)if(z[F].v.Cnty==null)z[F].v.Cnty={t:"bool",v:!0};this.mF()};
ed.prototype.mF=function(){var x=Math.floor(30*I.Z()),z=Math.floor(30*I.Z()),A=f.tt.p2(this.d_.Crv.v,x,z);
this.T2.setAttribute("src",A);I.FX(this.T2,x,z)};ed.prototype.L=function(){return JSON.parse(JSON.stringify(this.d_))};
function b7(x){a0.call(this);this.Pc=null;this.OQ=null;this.Uh=null;this.TR=null;this.a3I=[];this.ab0=[];
this.e=I.z("span","fitem fillbutton");this.gC=new a0;this.gC.e=I.z("div","floatcont form");this.gC.e.setAttribute("style","width: 21em;");
this.gC.parent=this;this.jq=x;this.mC=this.mC=I.z("label","flabel");this.e.appendChild(this.mC);this.I=I.z("canvas");
this.E4=this.I.getContext("2d");this.a99=null;this.e.appendChild(this.I);I.Zs(this.I,this.TO.bind(this));
this.tm=new i6([12,66],["","Color","Grad","Patt"]);this.gC.e.appendChild(this.tm.e);this.tm.W(G.E.o,this.og,this);
this.gC.e.appendChild(I.z("hr"));this.a4J=I.z("span");this.ru=new aD(!1);this.ru.parent=this.gC;this.ru.W(G.E.o,this.og,this);
this._w=new aw(10);this._w.W(G.E.o,this.og,this);this.fL=I.z("div","marged hiline");this.fL.appendChild(this.ru.e);
I.iw(this.fL);this.fL.appendChild(this._w.e);this.iO=new d9("GrFl",!0);this.iO.parent=this.gC;this.iO.W(G.E.o,this.og,this);
this.Xo=I.z("div","marged hiline");var z="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var F=0;
F<z.length;F++){var A=this.iO.B7[z[F]].e;this.Xo.appendChild(A)}this.B1=new d9("patternFill",!0);this.B1.parent=this.gC;
this.B1.W(G.E.o,this.og,this);this.CF=I.z("div","marged hiline");var z=["Ptrn","Angl","Scl","Algn","phase"];
for(var F=0;F<z.length;F++){var A=this.B1.B7[z[F]].e;this.CF.appendChild(A)}}b7.prototype=new a0;b7.prototype.wB=function(x,z){var A=gn.v2(x,z);
if(A!=null)this._w.b(A);if(z==cu.bq){this.a3I=[];this.ab0=[];if(this.Pc)this.b(this.Uh,this.L(),this.Pc)}this.OQ=x;
this.iO.wB(x,z);this.B1.wB(x,z)};b7.prototype.N=function(){this.mC.textContent=kc.get(this.jq)+": ";
this.tm.N();this.ru.N();this.iO.N();this.B1.N()};b7.prototype.og=function(x){var z=x.currentTarget;if(z==this.tm){var A=this.tm.L(),o={ks:A,Kb:this.Pc[A]};
if(A>0&&o.Kb==null)o.Kb=JSON.parse(JSON.stringify(gN.Xl[A-1]));if(this.Pc)this.b(this.Uh,o,this.Pc)}if(z==this._w)this.ru.Mg(z.L());
this.c(new fZ(G.E.o,!1))};b7.prototype.TO=function(x){if(I.gX(this.gC.e))return;x.stopPropagation();
var z=this.I.getBoundingClientRect(),A=new fZ(G.E.Y,!0);A.data={d:G.U.Sc,oM:this.gC,x:z.left,y:z.top+z.height+4};
this.c(A)};b7.prototype.b=function(x,z,A){this.Pc=A;this.Uh=x;var o=[[13,1,0],[13,0],[12,37],[12,62]],i=this.a3I,L=this.ab0,B=!1,a;
for(var F=0;F<4;F++){var D={ks:F,Kb:A[F]},Z=b7.ad8(D);if(L[F]==Z)continue;B=!0;var j=b7.ad1(null,D,this.OQ,this.Uh,22,22,!1);
i[F]="<img width=\"22\" height=\"22\" src=\""+j+"\" />";L[F]=Z}if(B)this.tm.sx(i,o);this.tm.b(z.ks);
var Z=b7.ad8(z);if(Z!=this.a99)b7.ad1(this.E4,z,this.OQ,this.Uh,30,23,!0);this.a99=Z;var b=z.ks;if(b==0){a=this.a4J}if(b==1){this.ru.b(z.Kb.Clr.v);
a=this.fL}if(b==2){this.iO.update(x,z.Kb);a=this.Xo}if(b==3){this.B1.update(x,z.Kb);a=this.CF}if(a!=this.TR){if(this.TR!=null){this.gC.e.removeChild(this.TR)}this.gC.e.appendChild(a);
this.TR=a}};b7.prototype.L=function(){var x={ks:this.tm.L()};if(x.ks==1){x.Kb=JSON.parse(JSON.stringify(gN.Xl[0]));
x.Kb.Clr.v=this.ru.L()}if(x.ks==2){x.Kb=this.iO.L()}if(x.ks==3){x.Kb=this.B1.L()}return x};b7.ad8=function(x){var z=x.ks,A=x.Kb,o="empty";
if(z==1){o=f.Q.Pw(A.Clr.v);o=o.w+","+o.a+","+o.s}if(z==2)o=JSON.stringify(A.Grad.v);if(z==3)o=A.Ptrn.v.Idnt.v;
return o};b7.ad1=function(x,z,A,o,i,L,B){if(x==null)x=b7.E4;var D=Math.floor(i*I.Z()),Z=Math.floor(L*I.Z()),j=x.canvas,a;
j.width=D;j.height=Z;I.FX(j,D,Z);var b=z.ks;if(b==0){x.fillStyle="#ffffff";x.fillRect(0,0,D,Z);x.strokeStyle="#ff0000";
x.lineWidth=2;x.moveTo(0,0);x.lineTo(D,Z);x.moveTo(0,Z);x.lineTo(D,0);x.stroke()}if(b==1){var W=z.Kb.Clr.v;
W=f.Q.Pw(W);x.fillStyle="#"+f.Ng(W.w<<16|W.a<<8|W.s);x.fillRect(0,0,D,Z)}if(b==2){Q.Bx.p2(z.Kb.Grad.v,D,Z,0,A.VJ,A.GN,j)}if(b==3){var c=z.Kb.Ptrn.v,Y;
if(o!=null)Y=ct.wj(c,o.add.Patt);if(Y==null)Y=ct.wj(c,A.UB);dk.p2(Y,D,Z,j)}if(B){x.beginPath();x.strokeStyle="#000000";
x.fillStyle="#ffffff";x.lineWidth=2;var R=D*.7,$=Math.floor(Z*.7),k=7*I.Z();x.moveTo(R,$);x.lineTo(R+k,$);
x.lineTo(R+k/2,$+k/2);x.closePath();x.stroke();x.fill()}if(x==b7.E4)return j.toDataURL()};b7.E4=I.z("canvas").getContext("2d");
function dk(x){hP.call(this,x,!1,"patternbutton",18,10,cu.bq);this.Ae=null}dk.prototype=new hP;dk.prototype.Te=function(x){var z=this.tQ[this.CZ.L()];
this.d_={classID:"Ptrn",Nm:{t:"TEXT",v:z.name},Idnt:{t:"TEXT",v:z.id}};this.c(new fZ(G.E.o));this.mF()};
dk.prototype.lK=function(){if(!this.Gh)return;var x=this.tQ,z=Math.floor(34*I.Z()),A=Math.floor(34*I.Z()),o=[],i=[];
for(var F=0;F<x.length;F++){o.push(dk.p2(x[F],z,A));i.push(x[F].name)}this.CZ.xl(o,i,z,A);this.Gh=!1};
dk.prototype.b=function(x,z){if(this.d_&&x.Idnt.v==this.d_.Idnt.v)return;this.d_=JSON.parse(JSON.stringify(x));
this.mF(z)};dk.prototype.L=function(){return JSON.parse(JSON.stringify(this.d_))};dk.prototype.CU=function(){return this.Ae?[this.Ae]:[]};
dk.prototype.mF=function(x){var z=Math.floor(50*I.Z()),A=Math.floor(50*I.Z()),o;if(x!=null)o=ct.wj(this.d_,x.add.Patt);
if(o==null)o=ct.wj(this.d_,this.tQ);this.Ae=o;var i=dk.p2(o,z,A);this.T2.setAttribute("src",i);I.FX(this.T2,z,A)};
dk.I=I.z("canvas","");dk.p2=function(x,z,A,o){if(o==null)o=dk.I;var i=o.getContext("2d");o.width=z;o.height=A;
if(x){var L=x.zH[1],B=L.m,D=L.n,Z=x.zH[0],j=Math.min(z/B,A/D),a=j;if(a*B<2)a=2/B;var b=j;if(b*D<2)b=2/D;
var W=Q.S.eM([Z,L],new cb(a,0,0,b,0,0),a>2),c=W.rect.m,Y=W.rect.n,R=i.createImageData(c,Y);f.Yy(W.buffer,R.data);
i.putImageData(R,Math.floor((z-c)/2),Math.floor((A-Y)/2))}return o.toDataURL()};function bs(x,z,A){if(z==null)z=24.2;
if(A==null)A=17;hP.call(this,x,!1,"patternbutton",z,A,cu.X1);this.xp=""}bs.prototype=new hP;bs.prototype.Te=function(x){this.d_=JSON.parse(JSON.stringify(this.tQ[0][this.CZ.L()[0]]));
this.c(new fZ(G.E.o))};bs.prototype.lK=function(){var x=this.tQ;if(x==null||!this.Gh)return;var z=Math.floor(50*I.Z()),A=Math.floor(50*I.Z()),o=[],i=[];
for(var F=0;F<x[0].length;F++){o.push(bs.p2(this.tQ[0][F].tz,z,A,this.tQ[1]));i.push(x[0][F].nE.Nm.v.split("=").pop())}this.CZ.xl(o,i,z,A);
this.Gh=!1};bs.prototype.b=function(x,z,A,o){var i=JSON.stringify(x.tz)+","+A+","+o;if(this.xp!=i){this.xp=i;
this.d_=JSON.parse(JSON.stringify(x));this.mF(z,A,o)}};bs.prototype.L=function(){return JSON.parse(JSON.stringify(this.d_))};
bs.prototype.mF=function(x,z,A){var o=Math.floor(68*I.Z()),i=Math.floor(68*I.Z()),L=bs.p2(this.d_.tz,o,i,x?x:this.tQ[1],z,A);
this.T2.setAttribute("src",L);I.FX(this.T2,o,i)};bs.p2=function(x,z,A,o,i,L){var B=new ew;B.m=z;B.n=A;
B.buffer=f.C(z*A*4);B.add.Patt=o;B.he(i==null?90:i);B.$r(L==null?30:L);var D=new av(0,0,Math.round(z*.5),Math.round(A*.5));
D.x=Math.round((z-D.m)/2);D.y=Math.round((A-D.n)/2);var Z=B.Ad();Z.rect=D;Z.buffer=f.C(D.$()*4);f.OD(Z.buffer,4284045657);
ct.al_(x,Z,.5*100);B.g.push(Z);B.GK();B.i();var j=O.Id;O.Id=!1;B.or();var a=B.MK();O.Id=j;var b=iF.Cx(a.buffer,B.m,B.n);
return b};function k9(x){hP.call(this,null,!1,"tpresetbutton",18,24,cu.E1,!0);I.wi(this.e,"fitem");this.CZ.j7(1);
this.id=x;this.mF();this.d.style.overflow="hidden";this.VX=new dg([15,7,9]);this.VX.b(!0);this.VX.W(G.E.o,this.abU,this);
this.v3.appendChild(this.VX.e)}k9.prototype=new hP;k9.prototype.atE=function(x){if(this.id==x)return;
this.id=x;this.VT(this.tQ)};k9.prototype.Te=function(x){var z=this.tQ[this.CZ.L()],A=new fZ(G.E.Y,!0);
A.data={d:G.U.nF,Ra:"set",Hl:cu.E1,Cy:z};this.c(A)};k9.prototype.N=function(){hP.prototype.N.call(this);
this.VX.N()};k9.prototype.abU=function(){this.Gh=!0;this.lK()};k9.prototype.lK=function(){if(!this.Gh)return;
var x=Math.floor(16*I.Z()),z=Math.floor(16*I.Z()),A=[],o=[],i=this.tQ,L=this.VX.L();for(var F=0;F<i.length;
F++){var B=Q.Al(i[F]);if(!L||B==this.id){o.push(i[F][0]?i[F][0].split("=").pop():"");A.push(B==-1?"":PIMG[Q.Yc[B][0]])}else{A.push(null);
o.push(null)}}this.CZ.xl(A,o,x,z);this.Gh=!1};k9.prototype.mF=function(){var x=this.T2;x.setAttribute("src",PIMG[Q.Yc[this.id][0]]);
I.ho(x,"toolicon")};k9.prototype.CU=function(){return null};k9.$V={};k9.p2=function(x,z,A){var o=k9.E4,i=k9.$V,L=f.Ng(x.w<<16|x.a<<8|x.s);
if(i[L])return i[L];if(o==null){var B=I.z("canvas");o=k9.E4=B.getContext("2d")}var B=o.canvas;B.width=z;
B.height=A;o.fillStyle="#"+L;o.fillRect(0,0,z,A);var D=i[L]=B.toDataURL();return D};function fI(x,z,A){a0.call(this);
this.e=I.z("span","fitem curveeditor");this.eJ=null;this.aoF=0;this.V0="";this.mode=0;this.PU=x;this.a1T=z;
this.anc=A;this.Z4=null;this.KB=null;this.a4V=0;this.a16=0;this.ps=new iL;this.Tv=this.uB.bind(this);
this.Lz=this.zc.bind(this);this.bU=256;this.I=I.z("canvas");this.E4=this.I.getContext("2d");I.MX(this.I);
this.e.appendChild(this.I);this.a0(256,256);I.Zs(this.I,this.qc.bind(this));this.coords=I.z("div","");
this.coords.setAttribute("style","width:250px");this.e.appendChild(this.coords);var o=this.by=A?100:255,i=null;
this.wu=new eN("X (in):",0,o,i,0,!1,!0);this.NO=new eN("Y (out):",0,o,i,0,!1,!0);this.TD=new dg([19,3,0]);
this.wu.W(G.E.o,this.CI,this);this.NO.W(G.E.o,this.CI,this);this.TD.W(G.E.o,this.CI,this);this.coords.appendChild(this.wu.e);
if(A)this.coords.appendChild(this.TD.e);this.coords.appendChild(this.NO.e)}fI.prototype=new a0;fI.prototype.N=function(){this.TD.N()};
fI.prototype.a0=function(x,z){this.bU=Math.round(x);this.E4.resetTransform();I.IX(this.I,this.bU,this.bU,this.E4);
this.E4.scale(this.bU/256,this.bU/256);if(this.Z4)this.SN()};fI.prototype.CI=function(x){var F=this.akM(),z=this.Z4[F],A=255/this.by;
z.v.Hrzn.v=this.wu.L()*A;z.v.Vrtc.v=this.NO.L()*A;if(this.anc)z.v.Cnty.v=this.TD.L();this.Z4.sort(function(o,i){return o.v.Hrzn.v-i.v.Hrzn.v});
this.SN();this.c(new fZ(G.E.o))};fI.prototype.b=function(x,F){var z=JSON.stringify(x);if(z==JSON.stringify(this.Z4))return;
this.mode=x.length==256?1:0;this.Z4=JSON.parse(z);if(F!=null)this.KB=this.Z4[F];this.SN()};fI.prototype.qp=function(x,z,A){this.eJ=x;
this.aoF=z;this.V0=A;this.SN()};fI.prototype.L=function(){return JSON.parse(JSON.stringify(this.Z4))};
fI.prototype.akM=function(){return this.Z4.indexOf(this.KB)};fI.prototype.qc=function(x){var z=256/this.bU,A=I.Ki(x,this.I);
A.x*=z;A.y*=z;var o=A.x,i=256-A.y;if(this.PU){var L=o;o=256-i;i=L}this.ps.Jt(o,i);if(this.mode==0){var B=0,D=1e9,W;
for(var F=0;F<this.Z4.length;F++){var Z=this.Z4[F].v,j=Z.Hrzn.v-o,a=Z.Vrtc.v-i,b=Math.sqrt(j*j+a*a);
if(b<D){D=b;B=F}}if(D<15)W=this.Z4[B];else{W=f.tt.pf(o,i,!0);this.Z4.push(W);this.Z4.sort(function(c,Y){return c.v.Hrzn.v-Y.v.Hrzn.v})}this.KB=W;
this.a16=this.Z4.slice(0)}I.Ss(document.body,this.Tv);I.ek(document.body,this.Lz);this.uB(x)};fI.prototype.uB=function(x){var z=256/this.bU,A=I.Ki(x,this.I);
A.x*=z;A.y*=z;var o=A.x,i=256-A.y;if(this.PU){var L=o;o=256-i;i=L}if(this.mode==0){var B=this.Z4,D=this.KB,Z=this.a16,j=Z.indexOf(D),a=B.indexOf(D)!=-1,b=Z.length-1,W=o;
if(j==0){W=Math.max(0,Math.min(Z[1].v.Hrzn.v-1,o))}else if(j==b){W=Math.min(255,Math.max(Z[b-1].v.Hrzn.v+1,o))}else{var c=o<0||o>255||i<0||i>255;
if(o<=Z[j-1].v.Hrzn.v||o>=Z[j+1].v.Hrzn.v)c=!0;if(!c&&!a)B.splice(j,0,D);if(c&&a)B.splice(j,1)}if(this.a1T&&(j==0||j==Z.length-1)){}else D.v.Hrzn.v=Math.round(W);
D.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(i)))}else{o=Math.round(o);i=Math.round(i);o=Math.max(0,Math.min(255,o));
i=Math.max(0,Math.min(255,i));var Y=this.ps.x,R=o,$=this.ps.y,k=i;if(o<this.ps.x){R=Y;Y=o;k=$;$=i}this.Z4[o]=i;
if(Y!=R)for(var w=Y;w<=R;w++)this.Z4[w]=Math.round($+(w-Y)*(k-$)/(R-Y))}this.ps.Jt(o,i);this.SN();this.c(new fZ(G.E.o))};
fI.prototype.zc=function(x){I.va(document.body,this.Tv);I.K9(document.body,this.Lz);this.c(new fZ(G.E.o))};
fI.prototype.SN=function(){var x=this.E4,z=this.I;x.fillStyle="#ffffff";x.fillRect(0,0,256,256);var A=256/z.width;
if(this.eJ){x.save();x.translate(0,256);x.scale(1,-1);hb.alO(x,this.eJ,5700/this.aoF,this.V0);x.restore()}x.strokeStyle="#aaaaaa";
x.lineWidth=1*A;x.beginPath();for(var F=1;F<4;F++){var o=(Math.floor(64*F/A)+.5)*A;x.moveTo(0,o);x.lineTo(255,o);
x.moveTo(o,0);x.lineTo(o,255)}x.stroke();if(this.PU){x.save();x.transform(0,1,-1,0,256,0)}if(this.mode==0){var i=this.Z4,L=f.tt.PZ(i,256);
x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-L[0]);for(var F=0;F<256;F++)x.lineTo(F,255.5-L[F]);
x.stroke();x.lineWidth=2*A;for(var F=0;F<i.length;F++){var B=i[F].v;x.fillStyle=this.KB==i[F]?"#333":"#fff";
x.beginPath();x.moveTo(B.Hrzn.v,255.5-B.Vrtc.v);x.arc(B.Hrzn.v,255.5-B.Vrtc.v,5*A,0,2*Math.PI);x.stroke();
x.fill()}}else{var L=this.Z4;x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-L[0]);for(var F=0;
F<256;F++)x.lineTo(F,255.5-L[F]);x.stroke()}if(this.PU)x.restore();var F=this.akM();this.coords.setAttribute("class",F==-1?"disabled":"");
if(F==-1)return;var B=this.Z4[F].v,D=255/this.by;this.wu.b(Math.round(B.Hrzn.v/D));this.NO.b(Math.round(B.Vrtc.v/D));
if(B.Cnty)this.TD.b(B.Cnty.v)};function hb(x,z){a0.call(this);this.e=I.z("span","");this.ej=new hN([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.ej.W(G.E.o,this.Ta,this);this.e.appendChild(this.ej.e);I.iw(this.e);this.I=I.z("canvas");var A=this.I;
this.e.appendChild(A);A.width=Math.round(x*I.Z());A.height=Math.round(100*I.Z());I.FX(A,A.width,A.height);
this.E4=A.getContext("2d");this.eJ=null;this.kc=0;this.a6U=null;this.a3Y=[];this.iW=[];var o=["Mean:","Pixels:"],i=this.e;
for(var F=0;F<o.length;F++){var L=new eX(o[F]);this.a3Y.push(L);if(z)i.appendChild(L.e);var B=new eX("hi");
this.iW.push(B);if(z)i.appendChild(B.e);I.iw(i)}}hb.prototype=new a0;hb.prototype.N=function(){this.ej.N()};
hb.prototype.j7=function(x){this.ej.b(x);this.Ta()};hb.prototype.b=function(x,z){this.eJ=x;this.a6U=z;
this.Ta()};hb.prototype.Mg=function(x){if(x==this.kc)return;this.kc=x;this.Ta()};hb.prototype.Ta=function(){if(this.eJ==null)return;
var x=this.I,z=this.E4,A=this.eJ,o=this.a6U,i=this.ej.L(),L=6e3/A[4],B="#"+f.Ng(this.kc),D=hb.alO;x.width=x.width;
z.setTransform(x.width/256,0,0,-x.height/100,0,x.height);z.globalCompositeOperation="lighter";if(i==0)D(z,A[0],L/3,B);
else if(i<4)D(z,A[i],L,B);else{D(z,A[1],L,"#ff0000");D(z,A[2],L,"#00ff00");D(z,A[3],L,"#0000ff")}z.setTransform(1,0,0,1,0,0);
if(o!=null){var Z=0;for(var F=0;F<256;F++)Z+=F*A[i][F];if(i==0)Z/=3;this.iW[0].b((Z/o).toFixed(1)+"");
this.iW[1].b(o+"")}};hb.alO=function(x,z,A,o){x.beginPath();x.moveTo(0,0);for(var i=0;i<256;i++)x.lineTo(i,z[i]*A);
x.lineTo(256,0);x.closePath();x.fillStyle=o;x.fill()};function hl(x,z){a0.call(this);this.h4={w:0,a:0,s:0};
if(Math.abs(x-256/I.Z())<10)x=256/I.Z();var A=this.e=I.z("div","flexrow"),o=this.arb=I.z("div");A.appendChild(o);
this.x$=new iL;this.er=new iL;this.G4=this.ado.bind(this);this.QU=this.agv.bind(this);this.I=I.z("canvas","");
this.E4=this.I.getContext("2d");this.I.width=this.I.height=256;this.aib=this.E4.getImageData(0,0,256,256);
this.adv=-1;this.aqh="";I.MX(this.I);I.Zs(this.I,this.a7f.bind(this));o.appendChild(this.I);this.a1a=this.a3A.bind(this);
this.aiU=this.afR.bind(this);this.oj=I.z("canvas","");this.$p=this.oj.getContext("2d");this.oj.width=20;
this.oj.height=256;this.abW=this.$p.getImageData(0,0,20,256);hl.ajm(this.abW.data,20,256);I.MX(this.oj);
I.Zs(this.oj,this.a2B.bind(this));A.appendChild(this.oj);this.I.setAttribute("style","width:"+x+"px; height:"+x+"px");
this.oj.setAttribute("style","width:16px; height:"+x+"px");this.yW=new dg("Web Colors\u2001");this.yW.W(G.E.o,this.update,this);
this.Qe=new dg("CMYK gamut");this.Qe.W(G.E.o,this.update,this);if(z){I.iw(o);o.appendChild(this.yW.e);
o.appendChild(this.Qe.e)}}hl.prototype=new a0;hl.prototype.a0=function(x,z){this.I.style.width=this.arb.style.width=x-16+"px"};
hl.prototype.b=function(x){if(this.yW.L()){var z=JSON.parse(JSON.stringify(x));hl.u4(z);var A=this.L();
if(z.w==A.w&&z.a==A.a&&z.s==A.s)x=this.h4}this.h4=x;this.update()};hl.prototype.L=function(){var x=JSON.parse(JSON.stringify(this.h4));
if(this.yW.L())hl.u4(x);return x};hl.prototype.update=function(){var x=this.h4,z=f._$(x.w,x.a,x.s);if(z.u6==0)z.Ww=this.x$.x/255;
if(z.Ww==0||z.u6==0)z.zp=(255-this.$y(this.er.y))/255;if(z.u6!=0)this.x$.x=z.Ww*255;this.x$.y=(1-z.u6)*255;
this.er.y=(1-z.zp)*255;var A=this.aib,o=this.yW.L(),i=this.Qe.L(),L=o+","+i;if(Math.abs(z.zp-this.adv)>.002||this.aqh!=L){this.afW(A.data,256,256,z.zp,o,i);
this.adv=z.zp;this.aqh=L}var B=this.E4;B.putImageData(A,0,0);B.strokeStyle="#000000";B.beginPath();B.arc(this.x$.x+1,this.x$.y+1,5,0,2*Math.PI);
B.stroke();B.strokeStyle="#ffffff";B.beginPath();B.arc(this.x$.x,this.x$.y,5,0,2*Math.PI);B.stroke();
A=this.abW;B=this.$p;B.putImageData(A,0,0);B.strokeStyle="#ffffff";B.beginPath();B.moveTo(0,this.er.y);
B.lineTo(20,this.er.y);B.lineWidth=2;B.stroke()};hl.u4=function(x){x.w=~~(.5+x.w*5)*.2;x.a=~~(.5+x.a*5)*.2;
x.s=~~(.5+x.s*5)*.2};hl.prototype.afW=function(x,z,A,o,i,L){var B=1/z,D=1/A;for(var Z=0;Z<A;Z++)for(var j=0;
j<z;j++){var a=f.M$(o,j*B,(A-Z-1)*D);if(i)hl.u4(a);var F=Z*z+j<<2;x[F+0]=~~(a.w*255);x[F+1]=~~(a.a*255);
x[F+2]=~~(a.s*255);x[F+3]=255}if(L){var b=x.slice(0),W=ew.lu[0],c=ew.lu[1];ICC.U.applyLUT(c,W,b,b);for(var F=0;
F<x.length;F+=4){var Y=x[F]-b[F],R=x[F+1]-b[F+1],$=x[F+2]-b[F+2],k=Y*Y+R*R+$*$;if(k>300)x[F]=x[F+1]=x[F+2]=200}}};
hl.ajm=function(x,z,A,o,i){if(o==null)o=1;if(i==null)i=0;var L=new Uint32Array(x.buffer);for(var B=0;
B<A;B++){var D=f.M$((1+o*(1-B/A)+i)%1,1,1),Z=255<<24|D.s*255<<16|D.a*255<<8|D.w*255;for(var j=0;j<z;
j++)L[B*z+j]=Z}};hl.prototype.a7f=function(x){I.Ss(window,this.G4);I.ek(window,this.QU);this.ado(x)};
hl.prototype.agv=function(x){I.va(window,this.G4);I.K9(window,this.QU)};hl.prototype.ado=function(x){var z=I.Ki(x,this.I);
z.x=z.x*(256/parseFloat(this.I.style.width));z.y=z.y*(256/parseFloat(this.I.style.height));this.x$.Jt(this.$y(z.x),this.$y(z.y));
this.yj()};hl.prototype.yj=function(){this.h4=this.a2G();this.c(new fZ(G.E.o))};hl.prototype.a2G=function(){var x=f.M$((255-this.$y(this.er.y))/255,this.Le(this.x$.x/255),this.Le(1-this.x$.y/255));
return{w:x.w,a:x.a,s:x.s}};hl.prototype.a2B=function(x){I.Ss(window,this.a1a);I.ek(window,this.aiU);
this.a3A(x)};hl.prototype.afR=function(x){I.va(window,this.a1a);I.K9(window,this.aiU)};hl.prototype.a3A=function(x){var z=I.Ki(x,this.oj);
z.y=z.y*(256/parseFloat(this.oj.style.height));this.er.Jt(this.$y(z.x),this.$y(z.y));this.yj()};hl.prototype.$y=function(x){return Math.max(0,Math.min(255,x))};
hl.prototype.Le=function(x){return Math.max(0,Math.min(1,x))};function jm(x,z,A,o){var i=i6.ZO(z,o);
i6.call(this,x,i,A)}jm.prototype=new i6;function i_(){a0.call(this);this.DL=null;this.es=new b$;this.es.W(G.E.o,this.aeE,this);
this.es.parent=this;this.M4=new eN([12,14,0],1,150,"px",0,!0);this.M4.W(G.E.o,this.JP,this);this.M4.parent=this;
this.t4=new eN([16,0],.01,100,"px",2,!0,null,5);this.t4.W(G.E.o,this.JP,this);this.t4.parent=this;this.Qv=new dg("Auto");
this.Qv.W(G.E.o,this.JP,this);this.iD=new eN([16,1],-500,5e3,"%",0,!0);this.iD.W(G.E.o,this.JP,this);
this.iD.parent=this;this.Ys=new eN("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Ys.W(G.E.o,this.JP,this);
this.Ys.parent=this;this._y=new eN("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this._y.W(G.E.o,this.JP,this);
this._y.parent=this;this.zh=new eN([16,2],-10,10,"px");this.zh.W(G.E.o,this.JP,this);this.zh.parent=this;
this._H=new aD(!0);this._H.W(G.E.o,this.eX,this);this._H.parent=this;this.qP=new aD(!0);this.qP.W(G.E.o,this.eX,this);
this.qP.parent=this;this.$u=new aD(!0);this.$u.W(G.E.o,this.eX,this);this.$u.parent=this;this.Ni=new aD(!0);
this.Ni.W(G.E.o,this.eX,this);this.Ni.parent=this;this.WN=new dg([2,3]);this.WN.W(G.E.o,this.JP,this);
this.Oj=new dg([14,9]);this.Oj.W(G.E.o,this.JP,this);this.PY=new dg([12,46]);this.PY.W(G.E.o,this.JP,this);
this.oI=new eI("...",null,null,!0);this.oI.e.style.marginLeft="-8px";I.Zs(this.oI.e,this.asA.bind(this));
this.gC=new a0;var x=this.gC.e=I.z("div","floatcont form"),i=100;this.gC.parent=this;this.U9=new eN([12,41],1,20,"px",0,!0,!0);
this.U9.e.style.marginLeft="16px";this.U9.W(G.E.o,this.JP,this);this.U9.parent=this.gC;x.appendChild(this.qP.e);
x.appendChild(this.WN.e);I.iw(this.gC.e);x.appendChild(this.$u.e);x.appendChild(this.Oj.e);x.appendChild(this.U9.e);
I.iw(this.gC.e);x.appendChild(this.Ni.e);x.appendChild(this.PY.e);this.$z=new eI("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.eE=new eI("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.pp=new eI("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.VG=new eI("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Ud=new eI("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.o9=new eI("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this._z=new eI("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.bd=new eI("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var z=[this.$z,this.eE,this.pp,this.VG,this.Ud,this.o9,this._z,this.bd];
for(var F=0;F<z.length;F++)z[F].W("click",this.a1J,this);this.te=new eI("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.hK=new eI("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.oX=new eI("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a04=new eI("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.awR=new eI("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a5i=new eI("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a1r=new eI("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.n6=[this.te,this.hK,this.oX,this.a04,this.awR,this.a5i,this.a1r];for(var F=0;F<this.n6.length;F++)this.n6[F].W("click",this.JP,this);
var A=["lind","rind","flind","bind","aind"],o=[];for(var F=0;F<5;F++)o.push("<img src=\""+PIMG["par/"+A[F]]+"\" class=\"autoscale gsicon\" /> ");
this.uR=new eN(o[0],-i,i,"px");this.uR.W(G.E.o,this.JP,this);this.uR.parent=this;this.vA=new eN(o[1],-i,i,"px");
this.vA.W(G.E.o,this.JP,this);this.vA.parent=this;this.sl=new eN(o[2],-i,i,"px");this.sl.W(G.E.o,this.JP,this);
this.sl.parent=this;this.zs=new eN(o[3],-i,i,"px");this.zs.W(G.E.o,this.JP,this);this.zs.parent=this;
this.NJ=new eN(o[4],-i,i,"px");this.NJ.W(G.E.o,this.JP,this);this.NJ.parent=this;this.sK=new i6([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.sK.W(G.E.o,this.JP,this);this.sK.parent=this;this.W2=new eN(["Auto VAR0",[16,0]],0,500,"%");this.W2.W(G.E.o,this.JP,this);
this.W2.parent=this}i_.prototype=new a0;i_.prototype.asA=function(x){if(I.gX(this.gC.e))return;x.stopPropagation();
var z=this.oI.e.getBoundingClientRect(),A=new fZ(G.E.Y,!0);A.data={d:G.U.Sc,oM:this.gC,x:z.left,y:z.top+z.height+4};
this.c(A)};i_.prototype.N=function(){this.es.N();this.M4.N();this.t4.N();this.iD.N();this.zh.N();this.Ys.N();
this._y.N();this.WN.N();this.Oj.N();this.PY.N();this.U9.N();this.sK.N();this.W2.N()};i_.prototype.b=function(x,z,A){this.u5=JSON.parse(JSON.stringify(x));
var o=this.u5,i=o.i8,L=o.tl;this.$z.b(i.FauxBold!=null?i.FauxBold:!1);this.eE.b(i.FauxItalic!=null?i.FauxItalic:!1);
this.pp.b(i.FontCaps==2);this.VG.b(i.FontCaps==1);this.o9.b(i.FontBaseline==1);this.Ud.b(i.FontBaseline==2);
this._z.b(i.Underline);this.bd.b(i.Strikethrough);this.es.b(i.Font==null?null:o.Cr[i.Font].Name,z,A);
var B=i.FontSize==null?20:i.FontSize;this.M4.b(B);var D=i.Tracking;this.iD.b(D==null?0:D);this.U9.b(i._LineWidth!=null?i._LineWidth:1);
this.t4.b(i.Leading!=null&&i.Leading!=0?i.Leading:B);this.Qv.b(i.AutoLeading);this.Ys.b((i.VerticalScale!=null?i.VerticalScale:0)*100);
this._y.b((i.HorizontalScale!=null?i.HorizontalScale:0)*100);this.zh.b(i.BaselineShift!=null?i.BaselineShift:0);
this.WN.b(i.FillFlag!=null?i.FillFlag:!1);this.Oj.b(i.StrokeFlag!=null?i.StrokeFlag:!1);this.PY.b(i._FillBackgroundFlag!=null?i._FillBackgroundFlag:!1);
this.h2(i.FillColor,this._H);this.h2(i.FillColor,this.qP);this.h2(i.StrokeColor,this.$u);this.h2(i._FillBackgroundColor,this.Ni);
var Z=L._Direction!=null?L._Direction:0,j=am.zk(L);for(var F=0;F<this.n6.length;F++)this.n6[F].b(j==F);
this.sK.b(Z);this.W2.b((L.AutoLeading!=null?L.AutoLeading:1.2)*100);this.uR.b(L.StartIndent!=null?L.StartIndent:0);
this.vA.b(L.EndIndent!=null?L.EndIndent:0);this.sl.b(L.FirstLineIndent!=null?L.FirstLineIndent:0);this.zs.b(L.SpaceBefore!=null?L.SpaceBefore:0);
this.NJ.b(L.SpaceAfter!=null?L.SpaceAfter:0)};i_.prototype.h2=function(x,z){if(x){var A=am.Pw(x);z.Mg(Math.round(A.w)<<16|Math.round(A.a)<<8|Math.round(A.s))}else z.Mg(0)};
i_.prototype.AE=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.nF,Hl:cu.Qx,u5:this.u5};this.c(x);var x=new fZ(G.E.r,!0);
x.k=Q.Mb;x.data={d:"updateStyles"};this.c(x)};i_.prototype.a1J=function(x){var z=this.u5.i8,A=x.target,o=!A.uj();
if(A==this.$z)z.FauxBold=o;if(A==this.eE)z.FauxItalic=o;if(A==this.pp)z.FontCaps=o?2:0;if(A==this.VG)z.FontCaps=o?1:0;
if(A==this.o9)z.FontBaseline=o?1:0;if(A==this.Ud)z.FontBaseline=o?2:0;if(A==this._z)z.Underline=o;if(A==this.bd)z.Strikethrough=o;
this.AE()};i_.prototype.JP=function(x){var z=this.u5.i8,A=this.u5.tl,o=x.target;if(o==this.iD){var i=this.iD.L();
z.Tracking=i}if(o==this.t4){z.AutoLeading=!1;z.Leading=this.t4.L()}if(o==this.Qv){z.AutoLeading=this.Qv.L()}if(o==this.U9)z._LineWidth=o.L();
if(o==this.M4)z.FontSize=o.L();if(o==this.Ys)z.VerticalScale=o.L()/100;if(o==this._y)z.HorizontalScale=o.L()/100;
if(o==this.zh)z.BaselineShift=o.L();if(o==this.WN)z.FillFlag=o.L();if(o==this.Oj)z.StrokeFlag=o.L();
if(o==this.PY)z._FillBackgroundFlag=o.L();if(this.n6.indexOf(o)!=-1){A.Justification=am.zk(A,this.n6.indexOf(o))}if(o==this.uR)A.StartIndent=o.L();
if(o==this.vA)A.EndIndent=o.L();if(o==this.sl)A.FirstLineIndent=o.L();if(o==this.zs)A.SpaceBefore=o.L();
if(o==this.NJ)A.SpaceAfter=o.L();if(o==this.sK)A._Direction=o.L();if(o==this.W2)A.AutoLeading=o.L()/100;
this.AE()};i_.prototype.aeE=function(x){var z=this.u5,A=this.es.L(),o=-1;for(var F=0;F<z.Cr.length;F++)if(z.Cr[F].Name==A)o=F;
if(o==-1){o=z.Cr.length;var i=JSON.parse(JSON.stringify(z.Cr[0]));i.Name=A;z.Cr.splice(o,0,i)}z.i8.Font=o;
this.AE()};i_.prototype.eX=function(x){var z=x.target,A=z.adO(),o={Type:1,Values:[1,(A>>16&255)/255,(A>>8&255)/255,(A>>0&255)/255]};
for(var F=0;F<4;F++)o.Values[F]=Math.round(o.Values[F]*1e3)/1e3;var i=z==this._H||z==this.qP?0:z==this.$u?1:2;
this.u5.i8[["FillColor","StrokeColor","_FillBackgroundColor"][i]]=o;this.AE()};function b$(){a0.call(this);
this.e=I.z("span","fontinput");this.L$=null;this.dp=null;this.OF=null;this.c7="";this.ct={};this.Dk=[];
this.rd={};this.akd={};this.JZ=!1;this.ZB=I.z("button","fitem");this.ZB.setAttribute("style","width:9em;");
this.ZB.textContent="Family Name \u25BC";this.e.appendChild(this.ZB);I.Zs(this.ZB,this.adR.bind(this));
this.qL=new a0;this.qL.parent=this;this.qL.e=I.z("div","floatcont");this.BL=new eW(6.8);this.qL.e.appendChild(this.BL.ax8());
this.BL.parent=this.qL;this.BL.W(G.E.o,this.T3,this);var x=I.z("div","form");this.qL.e.appendChild(x);
this.Nq=new eI(I.gF("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Nq.W("click",this.a5K,this);
x.appendChild(this.Nq.e);this.pL=new bQ([12,86],null,8.4);this.pL.W("input",this.mi,this);x.appendChild(this.pL.e);
var z=this.pP=new eI([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);z.W("click",this.a28,this);
z.e.style.marginLeft="1.5em";z.e.style.marginRight="0";x.appendChild(z.e);this.Mz=I.z("span","fitem imageset scrollable");
this.Mz.style.height="30em";this.qL.e.appendChild(this.Mz);this.Mz.addEventListener("scroll",this.a6a.bind(this),!1);
this.Zn=I.z("button","fitem");this.Zn.setAttribute("style","width:7em;");this.Zn.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.Zn);I.Zs(this.Zn,this.adR.bind(this));this.pH=new a0;this.pH.parent=this;this.pH.e=I.z("div","floatcont");
this.b9=I.z("span","fitem imageset scrollable marged");this.pH.e.appendChild(this.b9);this.amY=this.avv.bind(this);
this.a74=this.ahk.bind(this)}b$.prototype=new a0;b$.prototype.a6a=function(x){var z=this.Mz.scrollTop,A=this.Dk,o=Math.floor(z/27),i=Math.min(o+20,A.length);
for(var F=o;F<i;F++)this.anU(A[F])};b$.prototype.a28=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.vP,anl:".otf,.ttf,.ttc"};
this.c(x)};b$.prototype.N=function(){this.BL.N();this.pP.N();this.Nq.mB(I.gF("tools/cshape",null,"autoscale"))};
b$.prototype.a5K=function(x){this.Nq.b(!this.Nq.uj());this.T3()};b$.prototype.mi=function(x){this.c7=this.pL.L().toLowerCase();
this.T3()};b$.prototype.adR=function(x){I.oG(x);var z=x.currentTarget,A=z.getBoundingClientRect(),o=z==this.ZB,i=o?this.qL:this.pH;
if(I.gX(i.e)){this.aro(i);return}if(!o&&this.L$.Bg()[this.OF]==null)return;var L=new fZ(G.E.Y,!0);L.data={d:G.U.Sc,oM:i,x:A.left,y:A.top+A.height};
this.c(L);if(o){this.T3(null,!0)}};b$.prototype.avv=function(x){var z=x.currentTarget.firstChild.nextSibling.textContent;
if(x.target.tagName.toLowerCase()=="button"){var A=this.dp.slice(0),o=A.indexOf(z);if(o==-1){A=A.slice(Math.max(0,A.length-29));
A.push(z)}else A.splice(o,1);var i=new fZ(G.E.Y,!0);i.data={d:G.U.nF,Hl:cu.bC,NI:A};this.c(i);this.JZ=!0;
this.T3()}else{this.aw8(z,null)}};b$.prototype.ahk=function(x){this.aw8(null,x.currentTarget.firstChild.textContent)};
b$.prototype.aw8=function(x,z){var A=x==null?this.pH:this.qL,o=this.L$;if(x==null)x=o.Bg()[this.OF][0];
else{var i=o.Zp(x),L=o.Bg()[this.OF];z=j2.Y2(i,L?L[1]:"regular")}var B=o.PS(x,z)[2];this.b(B,o);this.c(new fZ(G.E.o,!1));
this.aro(A);this.T3()};b$.prototype.aro=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.wt,oM:x};this.c(z)};
b$.prototype.L=function(){return this.OF};b$.prototype.b=function(x,z,A){var o=this.L$;if(x!=null)this.OF=x;
else x=this.OF;this.L$=z;this.dp=A;if(x!=null){var i=z.Bg()[x],L,B;if(i==null){L="- "+x;B="-------"}else{L=i[0];
B=i[1];var D=z.Zp(L);D.sort(j2.an9);this.b9.textContent="";for(var F=0;F<D.length;F++){var i=z.PS(L,D[F]);
if(!this.BL.ni(i))continue;var Z=this.alv(i,!1);this.b9.appendChild(Z)}}this.ZB.textContent=L.substring(0,15)+" \u25BC";
this.ZB.setAttribute("title",L+", \""+x+"\"");this.Zn.textContent=B.substring(0,10)+" \u25BC";this.Zn.setAttribute("title",B)}};
b$.prototype.T3=function(x,z){var A=this.L$.Bg()[this.OF],o=this.dp,i=this.L$.rv();this.Dk=[];for(var L in i){var B=o.indexOf(L)!=-1,D=this.L$.Zp(L),Z=!1;
for(var F=0;F<D.length;F++){var j=this.L$.PS(L,D[F]),a=!0;if(this.c7.length>0&&j[0].toLowerCase().indexOf(this.c7)==-1)a=!1;
else if(!this.BL.ni(j))a=!1;else if(this.Nq.uj()&&!B)a=!1;if(a)Z=!0}var b=this.ct[L];if(b==null){var W=j2.Y2(i[L],"regular"),c=this.L$.PS(L,W),b=this.alv(c,!0);
this.ct[L]=b;this.Mz.appendChild(b);this.rd[L]="[true,false,false]"}if(Z)this.Dk.push(L);var Y=A!=null&&A[0]==L;
this.akd[L]="["+Z+","+Y+","+B+"]";if(!z)this.anU(L)}if(A&&!this.JZ){var R=this.ct[A[0]];this.Mz.scrollTop=R.offsetTop-210}this.a6a();
this.JZ=!1};b$.prototype.anU=function(x){var z=this.ct[x];if(z.firstChild==null){var A=this.L$.rv(),o=j2.Y2(A[x],"regular"),i=this.L$.PS(x,o);
this.al$(z,i,!0)}var L=this.rd[x],B=this.akd[x];if(L==B)return;var D=JSON.parse(L),Z=JSON.parse(B);if(D[0]!=Z[0]||D[1]!=Z[1]){var j=Z[0]?"":"display:none; ";
if(Z[1])j+="background-color:rgba(0,0,0,0.13);";z.setAttribute("style",j)}if(D[2]!=Z[2])z.firstChild.setAttribute("style","opacity: "+(Z[2]?"1":"0.2"));
this.rd[x]=B};b$.prototype.alv=function(x,z){var A=I.z("div","fontitem");if(!z)this.al$(A,x,z);return A};
b$.prototype.al$=function(x,z,A){var o=z[A?0:1],i=A?this.amY:this.a74,Z="";x.addEventListener("click",i,!1);
if(A)x.appendChild(I.z("button","star"));var L=I.z("span","label");L.setAttribute("title",o);L.textContent=o;
x.appendChild(L);var B=I.Z(),D=1/B,j=j2.Dl*D,a=j2.BQ*D;if(1<B&&B<1.5)Z="width:"+j+"px; height:"+a+"px;";
var b=I.z("span","thumb gsicon");if(z.apF){Z+="background: url("+z.apF+");";if(1<B&&B<1.5)Z+="background-size: "+j+"px "+a+"px;"}else{var W=Math.ceil(FNTS.list.length/j2.cols),c=Math.floor(z.dD/W),Y=z.dD%W,R=c*j2.Dl,$=Y*j2.BQ;
if(1<B&&B<1.5){Z+="background-size: "+j2.cols*j+"px "+W*a+"px;";R*=D;$*=D}Z+="background-position:-"+R+"px -"+$+"px;"}b.setAttribute("style",Z);
x.appendChild(b)};function eW(x){a0.call(this);this.e=I.z("button","fitem bbtn");this.e.addEventListener("click",this.a6c.bind(this),!1);
this.gC=new a0;this.gC.e=I.z("div","floatcont");this.gC.parent=this;this.SP=I.z("div","flexrow");this.gC.e.appendChild(this.SP);
this.Aj=[];this.UF=[];var z=this.SP,A=I.z("div",""),o=I.z("div","");z.appendChild(A);z.appendChild(o);
this.uM=[];for(var F=0;F<FNTS.cats.length;F++)this.uM.push({name:FNTS.cats[F],index:F,KN:0});this.o1=new dg([7,0]);
this.o1.b(!0);this.o1.W(G.E.o,this.a8V,this);A.appendChild(this.o1.e);this.QJ=I.z("div","vlist marged scrollable");
this.QJ.setAttribute("style","width:10.3em; height:"+x+"em; ");A.appendChild(this.QJ);this.xM=[];for(var F=0;
F<this.uM.length;F++){var i=this.uM[F],L=new dg(i.name);this.xM.push(L);L.W(G.E.o,this.apW,this);L.b(!0);
this.QJ.appendChild(L.e);this.Aj.push(1)}this.a0p=new dg([7,0]);this.a0p.W(G.E.o,this.a4C,this);this.yX=I.z("div","vlist marged scrollable");
this.yX.setAttribute("style","width:8.6em; height:"+(x+1.5)+"em; ");o.appendChild(this.yX);this.q2=[];
for(var F=0;F<FNTS.subsetNames.length;F++){var L=new dg(FNTS.subsetNames[F]);this.q2.push(L);L.W(G.E.o,this.a1K,this);
L.b(!1);this.yX.appendChild(L.e);this.UF.push(L.L()?1:0)}}eW.prototype=new a0;eW.prototype.aqf=function(x){var z=this.q2;
for(var F=0;F<z.length;F++){var A=(x>>>F&1)==1;this.UF[F]=A;z[F].b(A)}};eW.prototype.ax8=function(){return this.SP};
eW.prototype.N=function(){this.e.textContent=kc.get([25,1,0])+" \u25BC";this.o1.N();this.a0p.N()};eW.prototype.a6c=function(x){var z=this.e.getBoundingClientRect(),A=new fZ(G.E.Y,!0);
A.data={d:G.U.Sc,oM:this.gC,x:z.left,y:z.top+z.height,Sb:!1};this.c(A)};eW.prototype.ni=function(x){if(this.Aj[x[4]]==0)return!1;
else for(var z=0;z<this.UF.length;z++)if(this.UF[z]==1&&(x[3]>>>z&1)==0)return!1;return!0};eW.prototype.a8V=function(x){var z=x.target.L(),A=this.xM,o=this.Aj;
for(var F=0;F<A.length;F++){A[F].b(z);o[F]=z?1:0}this.c(new fZ(G.E.o,!1))};eW.prototype.a4C=function(x){var z=x.target.L(),A=this.q2,o=this.UF;
for(var F=0;F<A.length;F++){A[F].b(z);o[F]=z?1:0}this.c(new fZ(G.E.o,!1))};eW.prototype.apW=function(x){var F=this.xM.indexOf(x.target),z=this.uM[F].index;
this.Aj[z]=1-this.Aj[z];this.c(new fZ(G.E.o,!1));this.ag1(this.xM,this.o1)};eW.prototype.a1K=function(x){var F=this.q2.indexOf(x.target);
this.UF[F]=1-this.UF[F];this.c(new fZ(G.E.o,!1))};eW.prototype.ag1=function(x,z){var A=!0;for(var F=0;
F<x.length;F++)A=A&&x[F].L();z.b(A)};function eD(x,z,A){hP.call(this,z,!0,"gradientbutton",18,10,cu.HF);
this.VJ=-1;this.GN=-1;this.a4S=null;this.aqx=x;this.Vk=A}eD.prototype=new hP;eD.prototype.Te=function(x){var z=this.tQ;
this.b(z[this.CZ.L()]);this.c(new fZ(G.E.o))};eD.prototype.ka=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.z1,ca:"gradienteditor",Q:this.d_,PE:this.ahV.bind(this),W$:this.Vk};
this.c(z)};eD.prototype.ahV=function(x){this.b(x);this.c(new fZ(G.E.o))};eD.prototype.lK=function(){if(!this.Gh)return;
var x=Math.floor(36*I.Z()),z=Math.floor(36*I.Z()),A=[],o=[],i=this.tQ;for(var F=0;F<i.length;F++){var L=i[F];
o.push(L.Nm?L.Nm.v.split("=").pop():"");var B=Q.Bx.p2(L,x,z,Math.PI/4,this.VJ,this.GN);A.push(B)}this.CZ.xl(A,o,x,z);
this.Gh=!1};eD.prototype.sA=function(x,z){this.avz(this.d_,x,z)};eD.prototype.b=function(x){this.avz(x,this.VJ,this.GN)};
eD.prototype.avz=function(x,z,A){this.VJ=z;this.GN=A;if(x==null)return;var o=JSON.stringify(x),i=o+z+","+A;
if(i==this.a4S)return;this.a4S=i;this.d_=JSON.parse(o);var L=Math.floor(80*I.Z()),B=Math.floor(16*I.Z()),D=Q.Bx.p2(this.d_,L,B,0,this.VJ,this.GN);
this.T2.setAttribute("src",D);I.FX(this.T2,L,B)};eD.prototype.L=function(){var x;if(this.aqx)x=Q.Bx.aht(this.d_,this.VJ,this.GN);
else x=JSON.parse(JSON.stringify(this.d_));return x};function iX(x){hP.call(this,x,!1,"swatchbutton",16,8.75,cu.ZK)}iX.prototype=new hP;
iX.prototype.Te=function(x){this.b(this.tQ[x.target.L()]);this.c(new fZ(G.E.o))};iX.prototype.lK=function(){if(!this.Gh)return;
var x=Date.now(),z=Math.floor(10*I.Z()),A=Math.floor(10*I.Z()),o=[],i=[],L=this.tQ;for(var F=0;F<L.length;
F++){i.push(L[F].GC?L[F].GC.split("=").pop():"");o.push(iX.p2(L[F],z,A))}this.CZ.xl(o,i,z,A);this.Gh=!1};
iX.prototype.b=function(x){this.d_=JSON.parse(JSON.stringify(x));this.mF()};iX.prototype.mF=function(){var x=Math.floor(24*I.Z()),z=Math.floor(20*I.Z()),A=iX.p2(this.d_,x,z);
this.T2.setAttribute("src",A);I.FX(this.T2,x,z)};iX.prototype.L=function(){return JSON.parse(JSON.stringify(this.d_))};
iX.$V={};iX.p2=function(x,z,A){var o=iX.E4,i=iX.$V,L=f.Ng(x.w<<16|x.a<<8|x.s);if(i[L])return i[L];if(o==null){var B=I.z("canvas");
o=iX.E4=B.getContext("2d")}var B=o.canvas;B.width=z;B.height=A;o.fillStyle="#"+L;o.fillRect(0,0,z,A);
var D=i[L]=B.toDataURL();return D};function e1(x,z,A,o,i){if(x==null)x=!1;if(z==null)z=!1;if(A==null)A=!1;
a0.call(this);this.Cb=new iL;this.Wp=new iL;this.oD=72;this.oo=72;this.HT=!0;this.e=I.z("span");this.sQ=new eN([12,41],0,0,null,0,!1,!0);
this.e.appendChild(this.sQ.e);this.sQ.W(G.E.o,this.og,this);var L=["px","%"];if(x)L=L.concat(["mm","in"]);
if(i){L=[[12,76,2],[12,76,6]];if(x)L=L.concat([[12,76,5],[12,76,3]])}this.Sj=new hN(null,L);this.e.appendChild(this.Sj.e);
I.iw(this.e);this.Sj.W(G.E.o,this.og,this);this.SD=new eN([12,42],0,0,null,0,!1,!0);this.e.appendChild(this.SD.e);
this.SD.W(G.E.o,this.og,this);var B=new eI("\u21F5",!1,null,!0);B.W("click",this.aqZ,this);this.D$=new eI("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.D$.W("click",this.og,this);this.a9c=new eX("");if(z){this.e.appendChild(this.D$.e);this.e.appendChild(this.a9c.e);
this.D$.wR()}else this.e.appendChild(B.e);this.z6=new eN("DPI",0,0,null,3,!1,!0,4);if(x&&o==null){I.iw(this.e);
this.e.appendChild(this.z6.e)}this.z6.W(G.E.o,this.og,this);this.qg=new dg([12,23,1]);this.qg.W(G.E.o,this.og,this);
if(A){I.iw(this.e);this.e.appendChild(this.qg.e)}I.iw(this.e)}e1.prototype=new a0;e1.prototype.AO=function(){this.sQ.AO()};
e1.prototype.awU=function(){this.HT=!1;if(this.Sj.L()==0){this.Sj.b(3);this.Lx()}};e1.prototype.aoE=function(){this.HT=!0};
e1.prototype.aqd=function(x){this.D$.b(x)};e1.prototype.N=function(){this.sQ.N();this.SD.N();this.z6.N();
this.D$.N();this.qg.N();this.Sj.N()};e1.prototype.aqZ=function(x){var z=this.Wp.x;this.Wp.x=this.Wp.y;
this.Wp.y=z;this.Lx();this.c(new fZ(G.E.o,!1))};e1.prototype.og=function(x){if(x.target==this.Sj&&!this.HT&&this.Sj.L()==0)this.Sj.b(3);
if(x.target==this.Sj||x.target==this.qg){this.Lx();return}if(x.target==this.D$)x.target.b(!x.target.L());
var z=this.Cb,A=parseFloat(this.sQ.L());if(isNaN(A))A=1;var o=parseFloat(this.SD.L());if(isNaN(o))o=1;
var i=this.Sj.L();if(this.HT){var L=this.oo;if(i==1){A=this.Cb.x*(A/100);o=this.Cb.y*(o/100)}var B=[1,1,25.4/L,1/L][i];
A/=B;o/=B;if(this.qg.L()){A+=this.Cb.x;o+=this.Cb.y}if(x.target==this.z6){var D=this.z6.L();if(!0){var Z=D/L;
A*=Z;o*=Z}L=D}if(this.D$.L()){if(x.target==this.sQ)o=A*(z.y/z.x);else A=o*(z.x/z.y)}A=Math.max(Math.abs(A),1);
o=Math.max(Math.abs(o),1)}else{var L=this.oD;if(x.target==this.z6)L=this.z6.L();else{if(this.D$.L()){if(x.target==this.sQ)o=A*(z.y/z.x);
else A=o*(z.x/z.y)}var B=[1,1,25.4/L,1/L][i],j=A/(i==1?100:z.x*B);L=L/j}A=z.x;o=z.y}this.Wp=new iL(Math.round(A),Math.round(o));
this.oo=L;this.Lx();this.c(new fZ(G.E.o,!1))};e1.prototype.arN=function(F){this.Sj.b(F);this.Lx()};e1.prototype.b=function(x,z,A){if(A!=!0)this.Cb=x.clone();
this.Wp=x.clone();if(z!=null){this.oD=z;this.oo=z}this.Lx()};e1.prototype.Lx=function(){var x=this.Wp.x,z=this.Wp.y,A=this.oo,o=(x/z).toFixed(3);
while(o.charAt(o.length-1)=="0")o=o.substring(0,o.length-1);if(o.charAt(o.length-1)==".")o=o.substring(0,o.length-1);
var i="  "+o+" : 1",L=function(a,b){while(b!=0){var W=b;b=a%b;a=W}return a},B=L(x,z);if(Math.min(x,z)/B<10)i="  "+Math.round(x/B)+" : "+Math.round(z/B);
this.a9c.b(i);if(this.qg.L()){x-=this.Cb.x;z-=this.Cb.y}var D=this.Sj.L();if(D==1){if(this.HT){x=100*x/this.Cb.x;
z=100*z/this.Cb.y}else{x=z=100*this.oD/this.oo}}else{x=Math.round(x);z=Math.round(z)}var Z=[1,1,25.4/A,1/A][D];
x*=Z;z*=Z;var j=D==1||D==3?2:0;this.sQ.n5(j);this.SD.n5(j);this.sQ.b(x);this.SD.b(z);this.z6.b(A)};e1.prototype.L=function(){return this.Wp.clone()};
e1.prototype.om=function(){return this.oo};function bb(x,z,A){a0.call(this);var o=x==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.DO=x;this.ag2=z;this.ig=1;this.GA=[1,1,0];var i=this.e=I.z("div","numlist"),L=this.AS=[];for(var F=0;
F<4;F++){var B=new eN(o[F],0,0,null,2,!1,!0,4,null,A&&(F==0||F==2));B.W(G.E.o,this.og,this);i.appendChild(B.e);
L[F]=B;if(F==1||F==3)I.iw(i)}L[4]=new dg(x==0?[12,51]:[12,91,2]);L[4].b(!0);i.appendChild(L[4].e)}bb.prototype=new a0;
bb.prototype.N=function(){var x=this.AS;for(var F=0;F<5;F++)x[F].N();if(this.DO==0)I.c0(x[0],x[2])};
bb.prototype.b=function(x,z,A){if(z)this.GA=z;z=this.GA;var o=A?x:this.DO==0?[x[2],x[0],x[3],x[1]]:[x[0],x[1],x[3],x[2]];
this.ig=o[0]/o[2];for(var F=0;F<4;F++){var i=this.AS[F];i.n5(z[2]==0&&this.ag2?0:2);i.b(f.Fi.a0B(o[F],z[0],z[1],z[2]))}};
bb.prototype.L=function(x){var z=[],A=this.GA;for(var F=0;F<4;F++){var o=f.Fi.Br(this.AS[F].L(),A[0],A[1],A[2]);
z[F]=this.ag2?Math.round(o):o}return x?z:this.DO==0?[z[1],z[3],z[0],z[2]]:[z[0],z[1],z[3],z[2]]};bb.prototype.og=function(x){var z=this.DO,A=this.AS.indexOf(x.currentTarget),o=this.L(!0),i=this.AS[4].L();
if(z==0){o[0]=Math.max(1,o[0]);o[2]=Math.max(1,o[2]);if(i&&A==0)o[2]=o[0]/this.ig;if(i&&A==2)o[0]=o[2]*this.ig}if(z==1){o[A]=Math.max(0,o[A]);
if(i)for(var F=0;F<4;F++)o[F]=o[A]}this.b(o,null,!0);this.c(new fZ(G.E.o,!1))};function fc(){a0.call(this);
this.LW=0;this.iW=[0,0,1,1,100,100];this.e=I.z("span","fitem");this.mo=new hN(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.mo.e);this.mo.W(G.E.o,this.og,this);this.sQ=new eN("W",0,0,null,0,!1,!0);this.e.appendChild(this.sQ.e);
this.sQ.W(G.E.o,this.og,this);this.SD=new eN("H",0,0,null,0,!1,!0);this.e.appendChild(this.SD.e);this.SD.W(G.E.o,this.og,this);
this.b({Q1:0,x:0,y:0})}fc.prototype=new a0;fc.prototype.N=function(){I.c0(this.sQ,this.SD);this.mo.N()};
fc.prototype.og=function(x){if(x.target==this.mo){var z=this.L(),A=this.iW;A[this.LW*2]=z.x;A[this.LW*2+1]=z.y;
this.LW=z.Q1;this.b({Q1:z.Q1,x:A[z.Q1*2],y:A[z.Q1*2+1]})}if(this.sQ.L()<1)this.sQ.b(1);if(this.SD.L()<1)this.SD.b(1);
this.c(new fZ(G.E.o,!1))};fc.prototype.b=function(x){this.mo.b(x.Q1);this.sQ.b(x.x);this.SD.b(x.y);if(x.Q1==0){this.sQ.vb();
this.SD.vb()}else{this.sQ.LV();this.SD.LV()}};fc.prototype.L=function(){return{Q1:this.mo.L(),x:this.sQ.L(),y:this.SD.L()}};
function fh(x){a0.call(this);this.e=I.z("span","");this.as5=x;this.jz=new kl("Off X",-100,100,x?"%":"px",0,!1);
this.bl=new kl("Off Y",-100,100,x?"%":"px",0,!1);this.jz.W(G.E.o,this.og,this);this.bl.W(G.E.o,this.og,this);
this.e.appendChild(this.jz.e);this.e.appendChild(this.bl.e)}fh.prototype=new a0;fh.prototype.N=function(){this.jz.N();
this.bl.N()};fh.prototype.og=function(x){this.c(new fZ(G.E.o,!1))};fh.prototype.aop=function(x){this.jz.b(x.x);
this.bl.b(x.y)};fh.prototype.a4o=function(){return new iL(this.jz.L(),this.bl.L())};fh.prototype.b=function(x,z){var A=x.Hrzn.v,o=x.Vrtc.v;
if(this.as5){A=A.val;o=o.val}this.jz.b(A);this.bl.b(o);if(z==!0)this.og()};fh.prototype.L=function(){var x=this.jz.L(),z=this.bl.L();
if(this.as5)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:x}},Vrtc:{t:"UntF",v:{type:"#Prc",val:z}}};
else return{classID:"Pnt",Hrzn:{v:x,t:"doub"},Vrtc:{v:z,t:"doub"}}};function ev(){a0.call(this);this.e=I.z("span","fitem strokebutton");
this.KA=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.q_=JSON.parse(JSON.stringify(gN.J9.default));
this.qD=I.z("button");this.e.appendChild(this.qD);I.Zs(this.e,this.TO.bind(this));var x=I.z("canvas","gsicon");
this.E4=x.getContext("2d");this.qD.appendChild(x);var z=I.z("span");z.textContent=" \u25BC";this.qD.appendChild(z);
this.gC=new a0;this.gC.parent=this;this.gC.e=I.z("div","floatcont form");var A=this.gC.e;A.setAttribute("style","width: 14em;");
this.ct=[new hN([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new i6([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new i6([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new bQ([19,9,2])];
for(var F=0;F<this.ct.length;F++){var o=this.ct[F];A.appendChild(o.e);var i=F<4?G.E.o:"click";o.W(i,this.og,this)}I.iw(A);
this.k1=[];var L=this.aoW.bind(this);this.q_.strokeStyleLineWidth.v.val=3;for(var F=0;F<this.KA.length;
F++){var B=I.z("button","fitem");this.k1.push(B);A.appendChild(B);B.addEventListener("click",L,!1);var x=I.z("canvas","gsicon"),D=x.getContext("2d");
B.appendChild(x);this.as0(D,40,20,this.KA[F])}this.q_.strokeStyleLineWidth.v.val=1}ev.prototype=new a0;
ev.prototype.TO=function(x){if(I.gX(this.gC.e))return;x.stopPropagation();var z=this.qD.getBoundingClientRect(),A=new fZ(G.E.Y,!0);
A.data={d:G.U.Sc,oM:this.gC,x:z.left,y:z.top+z.height+4};this.c(A)};ev.prototype.og=function(x){var z=this.ct,A=z.indexOf(x.target),o=[];
for(var F=0;F<4;F++)o.push(z[F].L());this.q_=this.ao0(o);this.c(new fZ(G.E.o,!1))};ev.prototype.aoW=function(x){var z=this.k1.indexOf(x.currentTarget);
this.b(this.ao0(this.KA[z]));this.c(new fZ(G.E.o,!1))};ev.prototype.ao0=function(x){var z=JSON.parse(JSON.stringify(this.q_)),A=x[0],o=x[1],i=x[2],L=x[3];
if(A!=null)z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gN.J9.kq[A];if(o!=null)z.strokeStyleLineCapType.v.strokeStyleLineCapType=gN.J9.qA[o];
if(i!=null)z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gN.J9.join[i];var B=z.strokeStyleLineDashSet.v=[];
L=L.split(" ");while((L.length&1)!=0)L.pop();for(var F=0;F<L.length;F++)B.push({t:"UntF",v:{type:"#Nne",val:parseInt(L[F])}});
return z};ev.prototype.N=function(){for(var F=0;F<this.ct.length;F++)this.ct[F].N()};ev.prototype.b=function(x){this.q_=JSON.parse(JSON.stringify(x));
var z=gN.J9.kq.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment),A=gN.J9.qA.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),o=gN.J9.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),i=[],L=x.strokeStyleLineDashSet.v;
for(var B=0;B<L.length;B++)i.push(L[B].v.val);var D=this.ct;D[0].b(z);D[1].b(A);D[2].b(o);D[3].b(i.join(" "));
var Z=[];for(var F=0;F<4;F++)Z.push(D[F].L());this.as0(this.E4,40,16,Z)};ev.prototype.L=function(){return JSON.parse(JSON.stringify(this.q_))};
ev.prototype.as0=function(x,z,A,o){var i=o[0],L=o[1],B=o[2],D=o[3].split(" ").map(parseFloat);I.IX(x.canvas,z,A);
var Z=Math.min(5,this.q_.strokeStyleLineWidth.v.val);for(var F=0;F<D.length;F++)D[F]*=Z;x.clearRect(0,0,z,A);
x.setLineDash(D);x.lineCap=["butt","round","square"][L];x.lineJoin=["miter","round","bevel"][B];x.lineWidth=Z;
x.beginPath();x.moveTo(0,A/2);x.lineTo(z*2,A/2);x.stroke()};function gg(x){hP.call(this,x,!1,"contourbutton",34,16,cu.lb,!0);
this.pL=new bQ([12,86],null,16);this.pL.W("input",this.mi,this);this.gC.e.appendChild(this.pL.e);this.Kk=null;
this.c7="";this.qj=null;this.b(dF.d6())}gg.prototype=new hP;gg.prototype.N=function(){hP.prototype.N.call(this);
this.pL.N()};gg.prototype.Te=function(x){this.b(this.Kk[x.target.L()[0]]);this.c(new fZ(G.E.o))};gg.prototype.mi=function(x){this.c7=this.pL.L().toLowerCase();
this.alS()};gg.atD=!1;gg.prototype.lK=function(){if(!this.Gh)return;var x=this.tQ;if(x==null||!gg.atD){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.gk,Hl:{url:"rsrc/basic/fa_basic.csh"}};this.c(z);gg.atD=!0}else{var A=Math.floor(38*I.Z()),o=Math.floor(38*I.Z());
this.qj=[];for(var F=0;F<x.length;F++)this.qj.push(gg.aen(x[F],A,o));this.alS();this.Gh=!1}};gg.prototype.alS=function(){var x=Math.floor(38*I.Z()),z=Math.floor(38*I.Z());
this.Kk=[];var A=[],o=[],i=this.tQ;for(var F=0;F<i.length;F++){if(i[F].$U.toLowerCase().indexOf(this.c7)==-1)continue;
this.Kk.push(i[F]);A.push(this.qj[F]);o.push(i[F].$U)}this.CZ.xl(A,o,x,z)};gg.prototype.b=function(x){this.d_=gg.clone(x);
this.mF()};gg.prototype.mF=function(){var x=Math.floor(23*I.Z()),z=Math.floor(23*I.Z()),A=gg.aen(this.d_,x,z);
this.T2.setAttribute("src",A);I.FX(this.T2,x,z)};gg.prototype.L=function(){return gg.clone(this.d_)};
gg.clone=function(x){return{$U:x.$U,nE:x.nE,_:g.tZ.cj(x._),MV:x.MV.clone()}};gg.I=null;gg.oP=null;gg.aen=function(x,z,A){var o=g.tZ.cj(x._),i=x.MV,L=Math.min(z/i.m,A/i.n)*.9,B=new cb;
B.translate(-.5,-.5);B.scale(.95,.95);B.translate(.5,.5);B.scale(L*i.m,L*i.n);f.J.ox(o,B);var D=new g.tZ;
D._=o;var Z=D.dP();Z.rect.x=Math.floor((z-Z.rect.m)/2);Z.rect.y=Math.floor((A-Z.rect.n)/2);var j=f.C(Z.rect.$()*4);
f.c8(Z.channel,j,3);var a=gg;if(a.I==null)a.I=I.z("canvas");var b=a.I,W=b.getContext("2d");if(b.width!=z||b.height!=A||a.oP==null){b.width=z;
b.height=A;a.oP=W.createImageData(z,A)}var c=a.oP;c.data.fill(0);f.mV(j,Z.rect,c.data,new av(0,0,z,A));
W.putImageData(c,0,0);return b.toDataURL()};function id(x){hP.call(this,x,!1,"ICCButton",16,12,cu.ra,!0);
this.CZ.j7(1)}id.prototype=new hP;id.prototype.zd=function(){var x="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var F=0;F<x.length;F++)x[F]="luts/"+x[F]+".CUBE";return x};id.prototype.Te=function(x){this.b(this.tQ[x.target.L()]);
this.c(new fZ(G.E.o))};id.prototype.lK=function(){if(!this.Gh)return;var x=Math.floor(1*I.Z()),z=Math.floor(1*I.Z()),A=[],o=[],i=this.tQ;
for(var F=0;F<i.length;F++){var L=i[F].Nm.v.split("\\").pop().split("/").pop();o.push(L);A.push(id.p2(i[F],x,z))}this.CZ.xl(A,o,x,z);
this.Gh=!1};id.prototype.b=function(x){this.d_=JSON.parse(JSON.stringify(x));this.mF()};id.p2=function(x,z,A){var o=I.z("canvas"),B="ICC / 3DL / look / cube";
o.width=z;o.height=A;var i=o.getContext("2d"),L=Math.floor(14*I.Z());i.font=L+"px sans-serif";if(x.Nm)B=x.Nm.v.split("\\").pop().split("/").pop();
i.fillText(B,10,L);return o.toDataURL()};id.prototype.mF=function(){var x=Math.floor(120*I.Z()),z=Math.floor(20*I.Z());
this.T2.setAttribute("src",id.p2(this.d_,x,z));I.FX(this.T2,x,z)};id.prototype.L=function(){return JSON.parse(JSON.stringify(this.d_))};
function eJ(){a0.call(this);this.h4=null;this.e=I.z("span","fitem");this.Px=new b7([14,9]);this.N7=new eN(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.X6=new ev;this.YY=[this.Px,this.N7,this.X6];for(var F=0;F<this.YY.length;F++){var x=this.YY[F];
this.e.appendChild(x.e);x.parent=this;x.W(G.E.o,this.og,this)}}eJ.prototype=new a0;eJ.prototype.N=function(){for(var F=0;
F<this.YY.length;F++)this.YY[F].N()};eJ.prototype.wB=function(x,z){this.Px.wB(x,z)};eJ.prototype.og=function(x){var z=this.h4,A=this.Px.L(),o=A.ks;
z.strokeEnabled.v=o!=0;if(o!=0){z.strokeStyleContent.v=A.Kb;A.Kb.classID=gN.J9.x6[o-1]}z.strokeStyleLineWidth.v.val=this.N7.L();
if(x.target==this.X6)z=this.X6.L();this.h4=z;this.c(new fZ(G.E.o,!1))};eJ.prototype.b=function(x,z,A){this.h4=JSON.parse(JSON.stringify(z));
var o=z.strokeEnabled.v,i=z.strokeStyleContent.v,L=o?{ks:1+gN.J9.x6.indexOf(i.classID),Kb:i}:{ks:0};
this.Px.b(x,L,A);this.N7.b(z.strokeStyleLineWidth.v.val);this.X6.b(z)};eJ.prototype.L=function(){return JSON.parse(JSON.stringify(this.h4))};
function iP(x){var z=[[18,0],[18,1],[18,2],[18,3]],A=i6.ZO(["set/front","set/union","set/difference","set/intersection"]);
i6.call(this,x?[12,36]:null,A,z)}iP.prototype=new i6;function gr(){a0.call(this);this.e=I.z("button","fitem bbtn");
I.Zs(this.e,this.TO.bind(this));this.gC=new a0;this.gC.e=I.z("div","floatcont form");this.gC.e.setAttribute("style","max-width: 200px;");
this.gC.parent=this;var x=f$;this.AQ=[new dg("Start"),new dg("End"),new x([12,41],0,100,"px",null,!0,null,!0),new x([12,80,0],0,100,"px",null,!0,null,!0),new x("Concavity",-50,50,"%",null,null,null,!0)];
for(var F=0;F<this.AQ.length;F++){var z=this.AQ[F];z.parent=this;z.W(G.E.o,this.yj,this);this.gC.e.appendChild(z.e)}this.aj5=I.z("div");
this.gC.e.appendChild(this.aj5)}gr.prototype=new a0;gr.prototype.b=function(x){for(var F=0;F<5;F++)this.AQ[F].b(x[F]);
this.Ta()};gr.prototype.L=function(x){var z=[];for(var F=0;F<5;F++)z[F]=this.AQ[F].L();return z};gr.prototype.N=function(){this.e.textContent=kc.get([12,93,4]);
for(var F=0;F<this.AQ.length;F++)this.AQ[F].N()};gr.prototype.yj=function(x){this.c(new fZ(G.E.o,!1));
this.Ta()};gr.prototype.Ta=function(x){var z=this.L(),A=200,o=60;z[2]/=I.Z();z[3]/=I.Z();var i=f.J.Ja.Fz(0,o/2,A,o/2,5,z),L=f.J.W8(i);
this.aj5.innerHTML="<svg width=\""+A+"\" height=\""+o+"\" class=\"gsicon\">\t\t\t<path d=\""+L.ht+"\" />\t\t\t</svg>"};
gr.prototype.TO=function(x){if(I.gX(this.gC.e))return;x.stopPropagation();var z=this.e.getBoundingClientRect(),A=new fZ(G.E.Y,!0);
A.data={d:G.U.Sc,oM:this.gC,x:z.left,y:z.top+z.height,Sb:!0};this.c(A)};function fs(){a0.call(this);
this.e=I.z("div");this.AS=[];this.a4K=[];var x=this.Rw=I.z("div"),z=I.z("h2");z.textContent="Create Teams";
x.appendChild(z);z.style.margin="26px 0 16px 0";var A=new eI("More about Teams",!1,null,!0);z.appendChild(A.e);
A.e.style.float="right";A.W("click",this.a4F,this);this.g8=I.z("div");x.appendChild(this.g8);this.a5Q=new bQ("Team Name",null,10);
x.appendChild(this.a5Q.e);var o=this.a11=new eI("Create Team",null,null,!0);x.appendChild(o.e);o.W("click",this.a8d,this);
var z=I.z("h2");z.textContent="Join Teams";x.appendChild(z);z.style.margin="26px 0 16px 0";this.BU=I.z("div");
x.appendChild(this.BU);this.alj=new bQ("Team ID",null,10);x.appendChild(this.alj.e);var o=new eI("Join Team",null,null,!0);
x.appendChild(o.e);o.W("click",this.a8d,this);this.a8A;this.a8M=this.N_.bind(this);this.at$=this.ajQ.bind(this);
this.i$=!1;this.jD();this.B3=null;this.apI=""}fs.prototype=new a0;fs.prototype.a4F=function(x){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.OB,link:"https://www.photopea.com/api/accounts#teams"};this.c(z)};fs.prototype.jD=function(){clearTimeout(this.awn);
this.awn=setTimeout(this.at$,this.B3?10:3e3)};fs.prototype.ajQ=function(){var x=eP.Ai();if(document.hidden||!I.gX(this.e)||x==null){this.jD();
return}var z=eP.MG();if(this.B3==null&&z==null)return;eP.rb(this.B3?this.B3:z,this.a8M);this.i$=!0;this.B3=null};
fs.prototype.adq=function(x){x.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.i$)this.B3=x;else{clearTimeout(this.awn);eP.rb(x,this.a8M)}};fs.prototype.iK=function(x){var z=typeof x=="string"?this.a8A:this.AS.indexOf(x.target),A=this.a4K[z],o=A[0],i=eP.MG();
if(i==null)i={};var L=i.acc,B=L.tjoin,D=L.tstart;if(o=="leave"){B.splice(B.indexOf(A[1]),1)}if(o=="add"||o=="remove"||o=="delTeam"||o=="showRename"||o=="rename"){var Z=-1,j=0;
for(var F=0;F<D.length;F++){j+=D[F][1].length;if(D[F][2]==A[1])Z=F}var a=D[Z];if(o=="add"){var b=eP.sv();
if(b[0]==0&&b[1][2]<=j){alert("You can have at most "+b[1][2]+" members in your Premium.");return}a[1].push(A[2])}if(o=="remove")a[1].splice(a[1].indexOf(A[2]),1);
if(o=="delTeam"){if(a[1].length!=0){alert("Remove members first.");return}D.splice(Z,1)}if(o=="showRename"){var W=new fZ(G.E.Y,!0);
W.data={d:G.U.z1,ca:"namewindow",IO:a[0],Cn:this.iK.bind(this)};this.c(W);this.a8A=z;A[0]="rename";return}if(o=="rename")a[0]=x}this.adq(i)};
fs.prototype.a8d=function(x){var z=this.a11==x.target,A=(z?this.a5Q:this.alj).L().trim();if(A==""){alert("The Team "+(z?"Name":"ID")+" is empty.");
return}if(!z){A=parseInt(A);if(isNaN(A)){alert("The ID must be a number");return}}var o=eP.MG();if(o==null)o={};
var i=o.acc;if(i==null)i=o.acc={};var L=i.tstart,B=i.tjoin;if(z){if(L==null)L=i.tstart=[];if(L.length>5){alert("You can have at most 5 teams");
return}L.push([A,[]])}else{if(L)for(var F=0;F<L.length;F++)if(L[F][2]==A){alert("You are the owner of this team");
return}if(B==null)B=i.tjoin=[];if(B.indexOf(A)!=-1){alert("You already asked to join this team.");return}i.tjoin.push(A)}i.update=!0;
this.adq(o)};fs.prototype.N_=function(){this.i$=!1;var x=eP.Ai(),z=x!=null,A=this.Rw.parentNode!=null;
if(z!=A){I.Uv(this.e);if(z)this.e.appendChild(this.Rw);else this.e.textContent="Log In to access Team Settings."}if(!z)return;
var o=eP.MG();if(o==null)o={};var i=o.acc;if(i==null)i={};var L=JSON.stringify(i)+"===="+JSON.stringify(x);
if(L!=this.apI){this.apI=L;var B=this.g8,D=this.BU;I.Uv(B);I.Uv(D);var Z=this.AS=[],j=this.a4K=[],a=this.iK.bind(this);
function b(v,r){v.addEventListener("click",a);Z.push(v);j.push(r)}function W(h,v){var q=I.z("div"),r="rgba(255,255,255,0.15)";
q.appendChild(Y("ID: "+h[2],44,r));q.appendChild(Y(h[0],160,null,!0));if(v){q.appendChild(Y(h[1].length+" members",80,null,!0))}else{q.appendChild(Y(h[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<h[1]*1e3)q.appendChild(Y("Premium",80,"rgba(0,140,0,1)"))}var K=Y("",120);q.appendChild(K);
K.setAttribute("style","float:right;text-align:right");if(v){var s=new eI("Rename",null,null,!0);b(s,["showRename",h[2]]);
K.appendChild(s.e)}var s=new eI(v?"Delete":"Leave",null,null,!0);b(s,[v?"delTeam":"leave",h[2]]);K.appendChild(s.e);
return q}function c(v,r,y){var q=I.z("div");q.style.paddingLeft="36px";q.appendChild(Y(r?"\u2713":"...",8,r?"#229922":"#aa7700"));
q.appendChild(Y(v[1],200));q.appendChild(Y(v[2],240));var K=Y("",120);q.appendChild(K);K.setAttribute("style","float:right;text-align:right");
var s=new eI(r?"Remove":"Add",null,null,!0);b(s,[r?"remove":"add",y,v[0]]);K.appendChild(s.e);return q}function Y(v,r,K,s){var P=I.z("span");
P.textContent=v;P.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+r+"px;  "+(K!=null?"background-color:"+K+";":"")+(s?"font-weight:bold;":""));
return P}var R=i.tstart,$=i.tjoin,k=x.wantToJoin,w=x.inTeams;if(R)for(var V=0;V<R.length;V++){var h=R[V],l=k["t"+h[2]];
if(l==null)l=[];var M={};for(var F=0;F<l.length;F++)M["u"+l[F][0]]=l[F];var q=W(h,!0);B.appendChild(q);
q.style.marginTop="10px";for(var F=0;F<h[1].length;F++){var t=h[1][F],p=M["u"+t];if(p==null)p=[t,"========","... user has left your team"];
delete M["u"+t];var E=c(p,!0,h[2]);B.appendChild(E)}for(var _ in M){var p=M[_],E=c(p,!1,h[2]);B.appendChild(E)}}if($){var S={};
for(var F=0;F<w.length;F++)S["t"+w[F][2]]=w[F];for(var V=0;V<$.length;V++){var y=$[V],h=S["t"+y],q=W(h?h:["==========",-1,y],!1);
D.appendChild(q)}}this.c(new fZ(G.E.o))}if(this.B3==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.jD()};
function iQ(){a0.call(this);this.eP=[16,!0,!0];this.e=I.z("span","");this.U5=[new eN([12,24],0,255),new dg([12,25,1]),new dg([12,25,0])];
for(var F=0;F<3;F++){var x=this.U5[F];x.parent=this;x.b(this.eP[F]);this.e.appendChild(x.e);x.W(G.E.o,this.og,this)}}iQ.prototype=new a0;
iQ.prototype.og=function(){for(var F=0;F<3;F++)this.eP[F]=this.U5[F].L();this.c(new fZ(G.E.o,!1))};iQ.prototype.b=function(x){this.eP=x.slice(0);
for(var F=0;F<3;F++)this.U5[F].b(x[F])};iQ.prototype.L=function(){return this.eP.slice(0)};iQ.prototype.N=function(){for(var F=0;
F<3;F++)this.U5[F].N()};function eh(x,z){a0.call(this);if(z==null)z=!1;this.qj=[];this.Hd=Math.floor(120*I.Z());
this.atK=Math.floor(23*I.Z());this.Yl=0;this.OZ=[];this.m0=[];for(var A in f.qK.type){if(A=="warpCustom"&&!z)continue;
this.OZ.push(A);this.m0.push(f.qK.type[A])}this.e=I.z("span","fitem warpbutton");this.gC=new a0;this.gC.e=I.z("div","floatcont");
if(x){this.dh=x;this.mC=I.z("label","flabel");this.e.appendChild(this.mC)}this.d=I.z("button");this.e.appendChild(this.d);
I.Zs(this.d,this.TO.bind(this));this.o5=new b9(!0);this.gC.e.appendChild(this.o5.e);this.o5.W(G.E.o,this.av3,this);
this.gC.e.setAttribute("style","width:"+Math.floor(8+this.Hd/I.Z())+"px;");this.N()}eh.prototype=new a0;
eh.prototype.mB=function(x){this.mC.textContent=x};eh.prototype.N=function(){if(this.dh)this.mC.innerHTML=kc.get(this.dh)+":";
this.mF()};eh.asP={};eh.a42=function(x,z,A){var o=kc.get(f.qK.type[x]),i=o+"-"+x+"-"+z+"-"+A,L=eh.asP[i];
if(L)return L;var B=eh.E4;if(D==null){var D=I.z("canvas");B=eh.E4=D.getContext("2d")}var D=B.canvas;
if(D.width!=z||D.height!=A){D.width=z;D.height=A}B.font=Math.floor(13*I.Z())+"px sans-serif";B.lineWidth=1;
B.strokeStyle="#000000";var Z=Math.floor(16*I.Z()),j=new av(0,0,Z,Z);B.clearRect(0,0,D.width,D.height);
var a=f.qK.qK(j,x,!0,.3,0,0),b=f.p.Mm(j);b.F.push("M","L","M","L");b.v.push(0,Z/2,Z,Z/2);b.v.push(Z/2,0,Z/2,Z);
b=f.p.Ox(b);b=f.p.GJ(b,Z/5);f.fE.D(a,b.v,j);f.p.D(b.v,new cb(1,0,0,1,Math.floor(8*I.Z())+.5,Math.floor(3*I.Z())+.5),b.v);
B.beginPath();Typr.U.pathToContext({cmds:b.F,crds:b.v},B);B.stroke();B.fillText(o,Math.floor(40*I.Z()),Math.floor(16*I.Z()));
L=eh.asP[i]=D.toDataURL();return L};eh.prototype.TO=function(x){if(I.gX(this.gC.e))return;x.stopPropagation();
var z=this.Hd,A=this.atK;for(var F=0;F<this.OZ.length;F++)this.qj[F]=eh.a42(this.OZ[F],z,A);this.o5.xl(this.qj,null,z,A);
var o=this.d.getBoundingClientRect(),i=new fZ(G.E.Y,!0);i.data={d:G.U.Sc,oM:this.gC,x:o.left,y:o.top+o.height+4};
this.c(i)};eh.prototype.av3=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.wt,oM:this.gC};this.c(z);
this.Yl=x.target.L()[0];this.mF();this.c(new fZ(G.E.o))};eh.prototype.mF=function(){var x=this.Hd,z=this.atK;
this.o5.b([this.Yl]);this.d.innerHTML="<img src=\""+eh.a42(this.OZ[this.Yl],x,z)+"\" class=\"gsicon\" />";
I.FX(this.d.firstChild,x,z)};eh.prototype.L=function(){return this.OZ[this.Yl]};eh.prototype.b=function(x){this.Yl=this.OZ.indexOf(x);
this.mF()};function hY(x,z,A){a0.call(this);if(x==null)x=!1;if(z==null)z=!1;if(A==null)A=!1;this.adu=z;
this.qK=null;this.xk=new eh([12,22],A);this.xk.parent=this;this.xk.W(G.E.o,this.AE,this);this.dj=new hN([22,0],[[22,4,0],[22,4,1]]);
this.dj.W(G.E.o,this.AE,this);var o=x?eN:f$;this.G9=new o([22,1],-100,100,"%");this.oZ=new o("Horizontal Distortion:",-100,100,"%");
this.OV=new o("Vertical Distortion:",-100,100,"%");this.G9.parent=this.oZ.parent=this.OV.parent=this;
this.G9.W(G.E.o,this.AE,this);this.oZ.W(G.E.o,this.AE,this);this.OV.W(G.E.o,this.AE,this)}hY.prototype=new a0;
hY.prototype.N=function(){this.xk.N();this.dj.N();this.G9.N();var x=this.adu?1:100;this.oZ.mB(kc.get([22,2]).substring(0,x)+":");
this.OV.mB(kc.get([22,3]).substring(0,x)+":")};hY.prototype.AE=function(){var x=this.qK,z=this.xk.L(),A=x.warpStyle.v.warpStyle;
if(z=="warpCustom")f.qK.r9(f.qK.Tq(x),x);else delete x.customEnvelopeWarp;x.warpStyle.v.warpStyle=this.xk.L();
x.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.dj.L()];x.warpValue.v=this.G9.L();x.warpPerspective.v=this.oZ.L();
x.warpPerspectiveOther.v=this.OV.L();if(z=="warpNone"||z=="warpCustom"){x.warpValue.v=0;x.warpPerspective.v=0;
x.warpPerspectiveOther.v=0}else if(A=="warpNone"||A=="warpCustom")x.warpValue.v=50;this.c(new fZ(G.E.o,!1));
this.b(x)};hY.prototype.L=function(x){return JSON.parse(JSON.stringify(this.qK))};hY.prototype.b=function(x){this.qK=JSON.parse(JSON.stringify(x));
this.xk.b(x.warpStyle.v.warpStyle);this.dj.b(x.warpRotate.v.Ornt=="Hrzn"?0:1);this.G9.b(x.warpValue.v);
this.oZ.b(x.warpPerspective.v);this.OV.b(x.warpPerspectiveOther.v);var z=x.warpStyle.v.warpStyle,A=z=="warpNone"||z=="warpCustom",o=[this.dj,this.G9,this.oZ,this.OV];
for(var F=0;F<o.length;F++)if(A)o[F].vb();else o[F].LV()};function fu(x,z){a0.call(this);this.e=I.z("div");
this.Wt=x;this.Wz=null;this.DH=new iL(0,0);this.n0="position:relative;overflow:hidden;";this.VU=null;
this.Vj=new I.Xb(this.e);this.ace=z;this.lf("grab");this.I=I.z("canvas","canv");this.e.appendChild(this.I);
this.E4=this.I.getContext("2d");this.akG=null;this.ZQ=null;this.B9=null;this.jo=0;this.Ru=0;this.W4=0;
this.acY=this.acn.bind(this);this.aaA=null;this.t=new d2({m:1,n:1});this.Eo=null;this.PR=null;this.tX=[];
this.a3o=0;this.Gz=0;this.a62=this.XP.bind(this);this.akT=this.ss.bind(this);this.ajc=this.rP.bind(this);
this.a3E=this._0.bind(this);this.avO=0;this.oc=null;this.atu(this.I);this.ok(this)}fu.prototype=new a0;
fu.apE=function(x){var z=new bJ(!0);if(x>=0)z.r4("Space");if(x>=1){z.r4("ControlLeft");if(x==2)z.r4("AltLeft")}return z};
fu.prototype.R0=function(x){var z=this.VU,A=null;if(x.A(bJ.aU)){A="grab";if(x.A(bJ.RI)){A="zoom-in";
if(x.A(bJ.yU))A="zoom-out"}}this.Wz=A;if(A)z=A;this.Vj.N_(z,this.n0);if(x.A(bJ.RI)){var o=0;if(x.A(bJ.Xr))o=1;
if(x.A(bJ.On))o=-1;if(o!=0){this._V(new iL(this.I.width/2,this.I.height/2),o==1)}}};fu.prototype.lf=function(x){this.VU=x;
if(this.Wz)return;this.Vj.N_(x,this.n0)};fu.prototype.atu=function(x){I.Zs(x,this.a62);I.MX(x);x.addEventListener("wheel",this.a3E,!1)};
fu.prototype.ok=function(x){x.W("viewchange",this.a6I,this)};fu.prototype.a6I=function(x){var z=this.t.X,A=x.currentTarget.Bh();
this.t.X=A.X;this.t.u=A.u.clone();if(z!=A.X)this.dW();this.SN()};fu.prototype.Bh=function(){return{X:this.t.X,u:this.t.u}};
fu.prototype.b=function(x,z){var A=x[0].xH;if(this.ZQ!=null&&this.ZQ[0].xH.S0(A)){}else{this.t.m5={m:A.m,n:A.n};
this.t.u=new iL(0,0);this.t.X=1}this.ZQ=x;this.dW();this.Zu();this.jo=0;this.Ru=0;this.W4=z==null?0:z;
this.acn()};fu.prototype._0=function(x){x.preventDefault();if(x.deltaY==0||Date.now()-this.avO<100)return;
var z=I.Ki(x);z.x=I.Z()*z.x;z.y=I.Z()*z.y;this.avO=Date.now();this._V(z,x.deltaY<0)};fu.prototype._V=function(x,z){Q.jO.nl(this.t,x,z);
this.aqI()};fu.prototype.SA=function(){var x=this.t,z=x.m5;this.t.X=Q.jO.agS(z.m,z.n,x.VK.m,x.VK.n);
this.aqI()};fu.prototype.aqI=function(){this.dW();this.c(new fZ("viewchange"));this.c(new fZ("zoom"))};
fu.prototype.dW=function(){this.B9=[];var x=this.t.X;if(this.ZQ==null)return;for(var F=0;F<this.ZQ.length;
F++){var z=this.ZQ[F],A=new Uint8Array(z.data),o;if(x>=1)o={ov:A,rect:z.xH};else o=f.ad9(A,z.xH,x);this.B9.push(o)}};
fu.prototype.Zu=function(){clearTimeout(this.aaA)};fu.prototype.SN=function(){if(this.ZQ==null||!I.gX(this.I))return;
var x=this.akG,z=this.I.width,A=this.I.height,Y,R;if(x==null||x.width!=z||x.height!=A){x=this.akG=this.E4.createImageData(z,A);
console.log("creating image data")}var o=this.ZQ[this.jo],i=this.B9[this.jo],L=this.t,B=L.m5,D=L.VK,Z=D.m,j=D.n,a=B.m*L.X,b=B.n*L.X,W=Math.round((Z-a)/2+L.u.x),c=Math.round((j-b)/2+L.u.y);
if(L.X<=1){R=i.rect.clone();R.x=W;R.y=c;a=R.m;b=R.n;Y=i.ov}else{var $=1/L.X,k=new av(Math.floor((D.x-W)*$),Math.floor((D.y-c)*$),Math.ceil(D.m*$)+1,Math.ceil(D.n*$)+1),w=new av(0,0,k.m*L.X,k.n*L.X);
w.x=k.x*L.X+W;w.y=k.y*L.X+c;if(L.GL==null||L.GL.length!=k.$()*4){L.GL=f.C(k.$()*4)}if(L.jW==null||L.jW.length!=w.$()*4){L.jW=f.C(w.$()*4)}f.OD(L.GL,0);
f.mV(i.ov,i.rect,L.GL,k);f.scale.DC(L.GL,k.m,k.n,L.jW,w.m,w.n,L.X);Y=L.jW;R=w}var V=new Uint8Array(x.data.buffer);
f.ar(V,Z,j,8,-W,-c);f.q.lx("norm",Y,R,V,D,D,1);var h=this.E4;h.setTransform(1,0,0,1,0,0);h.putImageData(x,0,0);
h.clearRect(W-1e3,c,1e3,b);h.clearRect(W+a,c,1e3,b);h.clearRect(W-1e3,c-1e3,a+2e3,1e3);h.clearRect(W-1e3,c+b,a+2e3,1e3);
var l=fu.a7i(L.X,"#ffffff",this.ace);h.putImageData(l,0,L.VK.n-l.height)};fu.avp={};fu.a7i=function(x,z,A){if(A==null)A=!1;
var o="z"+x+","+z+","+A,i=fu.avp[o];if(i)return i;var L=Math.round(50*I.Z()),B=Math.round(18*I.Z()),D=A?2*B:0,Z=I.z("canvas"),j=Z.getContext("2d");
Z.width=L+D;Z.height=B;j.fillStyle="rgba(1,1,1,1)";j.fillRect(0,0,L+D,B);j.font=Math.round(11*I.Z())+"px monospace";
j.fillStyle=z;var a=x*100;if(a<100)a=a.toFixed(2);else a=Math.round(a);a=a+"%";var b=j.measureText(a).width;
j.fillText(a,D+(L-b)/2,Math.round(B*.7));i=fu.avp[o]=j.getImageData(0,0,L+D,B);return i};fu.prototype.acn=function(){var x=this.ZQ,z=x.length,A=this.jo,o=this.ZQ[A],i=(A+1)%z;
this.SN();if(z!=1&&x[i].xH.S0(o.xH)){var L=o.xy?parseInt(o.xy.split(",").pop()):30;if(L==0)L=16;if(i==0)this.Ru++;
if(this.W4==0||this.Ru<this.W4)this.aaA=setTimeout(this.acY,L)}this.jo=i};fu.prototype.a0=function(x,z){if(x<=0||z<=0)return;
var A=Math.floor(x*I.Z()),o=Math.floor(z*I.Z());this.t.VK=new av(0,0,A,o);this.I.width=A;this.I.height=o;
this.I.setAttribute("style","width:"+A/I.Z()+"px; height:"+o/I.Z()+"px; display:block;");this.SN()};
fu.prototype.pz=function(x){var z=-1,A=this.tX;for(var F=0;F<A.length;F++)if(A[F].pointerId==x.pointerId)z=F;
return z};fu.prototype.XP=function(x){var z=this.pz(x),A=this.tX;if(z!=-1)A[z]=x;else A.push(x);if(A.length==1){this.oc=x.target;
I.Ss(window,this.akT);I.ek(window,this.ajc);this.Eo=I.Ki(x,this.I);this.Eo.x*=I.Z();this.Eo.y*=I.Z();
this.DH=this.Eo;this.PR=this.t.u.clone();if(this.Wt&&this.oc==this.I&&!this.Wz)this.c(new fZ("mousedown"))}else this.a3o=this.Gz=iL.Or(I.Ki(A[0],this.I),I.Ki(A[1],this.I))};
fu.prototype.ss=function(x){var z=this.pz(x),A=this.tX;if(z!=-1)A[z]=x;var o=this.t,i=this.Wz,L=this.ZQ[this.jo].xH.clone();
L.m*=o.X;L.n*=o.X;var B=I.Ki(x,this.I);B.x*=I.Z();B.y*=I.Z();this.DH=B;if(this.Wt&&this.oc==this.I&&!i)this.c(new fZ("mousemove"));
else if((i=="grab"||i==null)&&(A.length>1||!o.VK.V2(L))){if(A.length>1){var D=I.Ki(A[0],this.I),Z=I.Ki(A[1],this.I),j=new iL(I.Z()*(D.x+Z.x)/2,I.Z()*(D.y+Z.y)/2),a=iL.Or(D,Z),b=null;
if(a>this.Gz+50){this.Gz+=50;b=!0}if(a<this.Gz-50){this.Gz-=50;b=!1}if(b!=null)this._V(j,b);return}else{var W=B.x-this.Eo.x,Y=B.y-this.Eo.y;
o.u.x=this.PR.x+Math.round(W);o.u.y=this.PR.y+Math.round(Y)}this.c(new fZ("viewchange"))}};fu.prototype.rP=function(x){var z=this.pz(x),A=this.tX;
A.splice(z,1);if(A.length==0){I.va(window,this.akT);I.K9(window,this.ajc);var o=this.Wz;if(x.detail>1){this.t.X=1;
this.t.u.Jt(0,0);this.SN()}if(this.Wt&&this.oc==this.I&&!this.Wz)this.c(new fZ("mouseup"));else{if(o=="zoom-in"||o=="zoom-out")this._V(this.DH,o=="zoom-in")}}else{var i=this.Eo=I.Ki(A[0],this.I);
i.x*=I.Z();i.y*=I.Z()}};fu.prototype.Sq=function(){return this.t.Sd(this.DH.x,this.DH.y)};function cU(){a0.call(this);
this.TM=null;this.fB=null;this.Ju=null;this.nC=null;this.ahw="";this.S_=[];this.Bk=0;this.Tg=[];this.Jx=0;
this.OQ=null;var x=this.e=I.z("div",""),z=this.anx=I.z("div","form");z.setAttribute("style","line-height:0; margin-bottom:0.5em;");
x.appendChild(z);var A=this.dh=I.z("span");z.appendChild(A);A.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var o=this.afG=new dg([25,2,0]);o.b(!0);z.appendChild(o.e);o.W(G.E.o,this.rw,this);var i=this.km=new dg([25,2,1]);
i.b(!0);z.appendChild(i.e);i.W(G.E.o,this.rw,this);var L=new eX(" ");z.appendChild(L.e);var B=this.kU=new bQ([25,1,1]);
z.appendChild(B.e);B.W(G.E.o,this.rw,this);this.BL=new eW(14);this.BL.aqf(3);z.appendChild(this.BL.e);
this.BL.parent=this;this.BL.W(G.E.o,this.alU,this);var D=this.a4s=new eI([25,1,2],null,null,!0);z.appendChild(D.e);
D.W("click",this.YT,this);var Z=new eI("?",null,null,!0);z.appendChild(Z.e);Z.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aig=this.afE.bind(this);this.BM=I.z("div","svggallery scrollable");x.appendChild(this.BM);this.BM.addEventListener("scroll",this.av5.bind(this))}cU.prototype=new a0;
cU.prototype.wB=function(x){this.a7H=x};cU.prototype.N=function(){this.dh.textContent=kc.get([25,0]);
this.BL.N();this.afG.N();this.km.N();this.kU.N();this.a4s.N()};cU.prototype.a0=function(x,z){this.TM=new iL(x,z);
this.anx.setAttribute("style","width:"+x+"px");var A=this.anx.getBoundingClientRect();z-=A.height;this.BM.setAttribute("style","width:"+x+"px; height:"+z+"px");
if(I.gX(this.e))this.rw()};cU.prototype.b=function(x){this.fB=x;this.rw()};cU.prototype.av5=function(x){var z=this.BM;
if(z.scrollTop+z.clientHeight+10>=z.scrollHeight){this.rw(!0)}};cU.prototype.alU=function(x){this.Ju=null;
this.rw()};cU.prototype.afE=function(x){if(Date.now()-this.Jx<2e3)return;this.Jx=Date.now();this.Bk=this.Tg.indexOf(x.currentTarget);
var z=this.J$(this.fB.x,this.fB.y);if(z[1]){var A=z[1].largeImageURL,o=new XMLHttpRequest;o.responseType="arraybuffer";
o.open("GET",A,!0);o.onload=this.a9Z.bind(this);o.send();return}this.at3(z)};cU.prototype.a9Z=function(x){var z=x.target.response,A=iF.cd(z),o=iF.Lg(A),i=o.i0(z),L=this.J$(this.fB.x,this.fB.y,[z,i[0].xH.m,i[0].xH.n]);
this.at3(L)};cU.prototype.at3=function(x){var z=x[0],A=iF.cd(z),o=iF.Lg(A),i=new ew("template.psd");
o.i0(z,i);var L=new fZ("tempready",!0);L.data={m5:i};this.c(L)};cU.prototype.YT=function(x){var z=x.target;
this.S_=[];this.Ju=null;this.rw()};cU.prototype.a0e=function(x){var z=JSON.parse(x.target.response),A=this.nC=z.hits;
for(var F=0;F<A.length;F++)if(A[F].user_id==6314823)A.splice(F,1);this.rw()};cU.prototype.rw=function(x){if(this.fB==null||this.TM==null||this.a7H==null)return;
if(this.TM.x<=0)return;var z=this.fB.x,A=this.fB.y;if(Math.min(z,A)<50)return;if(x!=!0){this.Tg=[];I.Uv(this.BM);
this.BM.scrollTop=0}if(this.Tg.length>300)return;var o=Math.min(1,300/Math.max(z,A)),i=this.TM.clone();
i.x-=20;var L=Math.max(1,Math.floor(i.x/(z*o))),B=Math.max(1,Math.ceil(i.y/(A*o)));o=i.x/L/z;var D=L*B;
if(this.Ju==null){var Z=this.a7H.P2.Bg(),j=[];for(var a in Z){var b=Z[a],W=b[3];if(!this.BL.ni(b))continue;
if(b[5]==null||b[5].slice(0,2)=="gf")continue;j.push(b)}if(j.length==0)j.push(Z.DejaVuSans);var c=j.length;
for(var F=0;F<c*10;F++){var Y=Math.floor(Math.random()*c),R=Math.floor(Math.random()*c),$=j[Y];j[Y]=j[R];
j[R]=$}j=j.slice(0,10);this.Ju=j}var k=this.km.L(),w=this.kU.L().trim();this.kU.dU(k);if(k&&(this.nC==null||w!=this.ahw)){var V=new XMLHttpRequest,h="https://pixabay.com/api/?image_type=photo"+(w==""?"":"&q="+encodeURIComponent(w))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(w=="")h="plugins/gallery.json";V.open("GET",h,!0);V.onload=this.a0e.bind(this);V.onerror=function(E){console.log(E.target.response)};
V.send();this.ahw=w;return}o*=(z*o-5)/(z*o);var l=this.Tg.length;for(var F=0;F<D;F++){var M=this.Bk=l+F;
if(this.S_[M]==null)this.S_[M]=Math.floor(Math.random()*4294967295);var q=this.J$(Math.round(z*o),Math.round(A*o)),t=q[0];
t=m._X(new Uint8Array(t));var p=I.z("span");p.innerHTML=t;this.Tg.push(p);this.BM.appendChild(p);p.addEventListener("click",this.aig,!1)}};
cU.prototype.J$=function(x,z,A){var o=this.km.L(),i=this.afG.L(),L=o&&this.nC.length!=0?this.nC:null;
if(i&&!o)L=null;if(i&&o&&(this.Bk&1)==0)L=null;return c0.Ja(x,z,this.S_[this.Bk],this.Ju,A?A:L)};function gP(){a0.call(this);
this.e=I.z("div");this.Rw=null;this.aff=null;this.gL=-1;this.x1={JPG:[{If:new f$([12,52,0],0,100,"%",null,null,!0),Uk:70},{If:new dg("attach metadata"),Uk:!1}],TIFF:[{If:new dg("attach metadata"),Uk:!1}],WEBP:[{If:new f$([12,52,0],0,100,"%",null,null,!0),Uk:70}],GIF:[{If:new f$([12,52,0],0,100,"%",null,null,!0),Uk:100},{If:new dg([12,23,3]),Uk:!1}],PNG:[{If:new f$([12,52,0],0,100,"%",null,null,!0),Uk:100},{If:new dg("don't use palettes"),Uk:!1}],PDF:[{If:new bQ([12,52,1]),Uk:""},{If:new f$([12,52,0],0,100,"%",null,null,!0),Uk:100},{If:new dg("reverse pages"),Uk:!1},{If:new dg("rasterize all"),Uk:!1},{If:new dg("vectorize text"),Uk:!1},{If:new f$("Add Margin",0,5,"in",2),Uk:0}],EMF:[{If:new bQ([12,52,1]),Uk:""},{If:new f$([12,52,0],0,100,"%",null,null,!0),Uk:100},{If:new dg("reverse pages"),Uk:!1},{If:new dg("rasterize all"),Uk:!1},{If:new dg("vectorize text"),Uk:!1},{If:new f$("Add Margin",0,5,"in",2),Uk:0}],SVG:[{If:new dg("add raster graphics"),Uk:!0},{If:new dg("add hidden layers"),Uk:!1},{If:new dg("vectorize text"),Uk:!1},{If:new dg("rasterize text"),Uk:!1},{If:new dg("minify"),Uk:!0}],RAW:[{If:new i6([12,72],["1","3","4"]),Uk:2},{If:new i6([12,34],["8 Bits","16 Bits"]),Uk:0},{If:new i6("Byte Order",["12-34","34-12"]),Uk:0}],DDS:[{If:new dg("Add Mipmaps"),Uk:!0},{If:new dg("Compression"),Uk:!0}],anim:[{If:new f$("Speed",10,800,"%",null,!0,!0),Uk:100},{If:new eN("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Uk:0},{If:new dg("reverse frames"),Uk:!1},{If:new dg("boomerang"),Uk:!1}],slcs:[{If:new dg([8,11,0]),Uk:!0}],artb:[{If:new dg([1,16,1]),Uk:!0}],hicc:[{If:new dg("convert to sRGB"),Uk:!0}]};
for(var x in this.x1){var z=this.x1[x];for(var F=0;F<z.length;F++){z[F].If.b(z[F].Uk);z[F].If.W(G.E.o,this.uA,this)}}}gP.prototype=new a0;
gP.prototype.a2y=function(){this.gL=-1};gP.prototype.N=function(){for(var x in this.x1)for(var F=0;F<this.x1[x].length;
F++)this.x1[x][F].If.N()};gP.prototype.uA=function(){this.rw();this.c(new fZ(G.E.o,!1))};gP.prototype.rw=function(){var x=this.Rw,z=x[0],A=x[1],o=x[2],i=x[3],L=x[4],B=this.x1[z];
if(B==null)B=[];else B=B.slice(0);if(A)B=B.concat(this.x1.anim);if(["GIF","PNG","JPG"].indexOf(z)!=-1&&o)B=B.concat(this.x1.slcs);
else if(["GIF","PNG","JPG"].indexOf(z)!=-1&&i)B=B.concat(this.x1.artb);if(L)B=B.concat(this.x1.hicc);
var D=x.join(",");if(D!=this.gL){this.gL=D;I.Uv(this.e);for(var F=0;F<B.length;F++){if(z=="PDF"&&!i&&(F==0||F==2))continue;
this.e.appendChild(B[F].If.e);I.iw(this.e)}}var Z=this.aff=[];for(var F=0;F<B.length;F++)Z.push(B[F].If.L())};
gP.prototype.awy=function(x,z,A,o,i){this.Rw=[x,z,A,o,i];this.rw()};gP.prototype.L=function(){return this.aff.slice(0)};
function gH(){a0.call(this);this.e=I.z("span","fitem");this.V8=!1;this.Ze=new eI("No",!1,"Cancel");this.jY=new eI("Yes",!1,"Confirm");
this.e.appendChild(this.Ze.e);this.e.appendChild(this.jY.e);this.Ze.W("click",this.am,this);this.jY.W("click",this.am,this);
this.N()}gH.prototype=new a0;gH.prototype.N=function(){this.Ze.mB(I.gF("cross",null,"autoscale"));this.jY.mB(I.gF("checkmark",null,"autoscale"))};
gH.prototype.am=function(x){this.V8=x.target==this.jY;this.c(new UIEvent("click"))};gH.prototype.L=function(){return this.V8};
function ce(x){a0.call(this);this.e=I.z("span","fitem");this.vh=new eI("\u25BC",null,"Auto Options",!0);
I.Zs(this.vh.e,this.agG.bind(this));this.e.appendChild(this.vh.e);this.vV=new eI("Auto",null,null,!0);
this.vV.W("click",this.yj,this);this.e.appendChild(this.vV.e);this.bh=new i4("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.bh.W(G.E.o,this.yj,this);this.bh.b([!1,!1,!1,!0]);this.gC=new a0;var z=this.gC.e=I.z("div","floatcont form");
z.setAttribute("style","width: 250px;");this.gC.parent=this;z.appendChild(this.bh.e);this.Q2=[];for(var F=0;
F<2;F++){var A=new eN((F==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);A.b(.1);A.W(G.E.o,this.yj,this);
this.Q2.push(A);z.appendChild(A.e)}}ce.prototype=new a0;ce.prototype.yj=function(x){this.c(new fZ(G.E.o,!1))};
ce.prototype.N=function(){};ce.prototype.L=function(){return[this.bh.L().indexOf(!0),this.Q2[0].L(),this.Q2[1].L()]};
ce.prototype.agG=function(x){if(I.gX(this.gC.e))return;x.stopPropagation();var z=this.vh.e.getBoundingClientRect(),A=new fZ(G.E.Y,!0);
A.data={d:G.U.Sc,oM:this.gC,x:z.left,y:z.top+z.height+4};this.c(A)};function j6(){a0.call(this);var x=this.e=I.z("div","fitem");
this.FS=new hN([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.FS.W(G.E.o,this.og,this);x.appendChild(this.FS.e);
this.KP=new aD(!1);this.KP.parent=this;this.KP.Mg(16777215);this.KP.W(G.E.o,this.og,this);x.appendChild(this.KP.e)}j6.prototype=new a0;
j6.prototype.N=function(){this.FS.N();this.KP.N()};j6.prototype.a8B=function(x){var z=[x.artboardBackgroundType.v-1];
if(x.Clr)z.push(x.Clr.v);this.b(z)};j6.prototype.apu=function(){var x=this.L();return{classID:"artboard",Clr:{t:"Objc",v:x[1]},artboardBackgroundType:{t:"long",v:x[0]+1}}};
j6.prototype.b=function(x){this.FS.b(x[0]);if(x[1])this.KP.b(x[1])};j6.prototype.L=function(){return[this.FS.L(),this.KP.L()]};
j6.prototype.og=function(x){if(x.target==this.KP)this.FS.b(3);this.c(new fZ(G.E.o,!1))};function gL(x){a0.call(this);
this.Ya=x;this.Ed=0;this.a8J=!1;this.pT=x?new gL.qC:null;this.e=I.z("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.aJ=I.z("div");this.e.appendChild(this.aJ);this.Dc=I.z("div");this.e.appendChild(this.Dc);this.k1=[];
var z=Storage.list.length;if(x)z++;var A=this.cF.bind(this);for(var F=0;F<z;F++){var o=I.z("div");this.k1.push(o);
this.aJ.appendChild(o);o.addEventListener("click",A,!1)}this.cF(null,0)}gL.prototype=new a0;gL.ap1=[];
gL.Ly=function(x){gL.ap1.push(x);x.Ta()};gL.el=function(){var x=gL.ap1;x.pop();x[x.length-1].Ta()};gL.prototype.Ta=function(){console.log(this.Ed);
this.cF(null,this.Ed)};gL.prototype.wB=function(x,z){if(!x.Mc&&!this.a8J){var A=this.Ya?2:1;for(var F=A;
F<this.k1.length;F++)this.aJ.removeChild(this.k1[F]);this.a8J=!0;if(this.Ya)this.pT.wB(x,z)}};gL.prototype.N=function(){if(this.Ya)this.pT.N();
if(this.Ub)this.Ub.N()};gL.prototype.cF=function(x,z){var A=this.k1,o;if(z==null)z=A.indexOf(x.currentTarget);
this.Ed=z;for(var F=0;F<A.length;F++)I.wi(A[F],"active");I.ho(A[z],"active");if(this.Ya)z--;I.Uv(this.Dc);
if(z==-1)o=this.pT;else o=Storage.gA(z);this.Ub=o;o.parent=this;this.Dc.appendChild(o.e);this.a0(this.GM,this.zp);
this.N()};gL.prototype.a0=function(x,z){this.GM=x;this.zp=z;var A=x<850,o=A?50:200,i=Storage.list;if(this.Ya)i=[["Home",null,"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ4OS4wNzUgNDg5LjA3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjA3NSA0ODkuMDc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNNDgyLjQ1MywyMjAuNzc1bC0xMTUuNS0xMTEuMnYtODguNWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44cy0yMC44LDkuNC0yMC44LDIwLjh2NDguNWwtNjYuNi02NC4xDQoJCWMtNy4zLTcuMy0xOS44LTcuMy0yOC4xLDBsLTIyMy42LDIxNS4zYy04LjMsOC4zLTkuNCwyMC44LTEsMjkuMWM4LjQsOC4zLDIwLjgsOS40LDI5LjEsMWwzLjEtM3YyMjAuNGMwLDExLjQsOS40LDIwLjgsMjAuOCwyMC44DQoJCWgzNzIuNGMxMS40LDAsMTkuOC05LjQsMjAuOC0xOS44di0yMTkuM2wyLjEsMmMxNS4yLDEwLjUsMjYsMy4xLDI5LjEtMi4xQzQ5MC43NTMsMjQxLjU3NSw0OTAuNzUzLDIyOC4wNzUsNDgyLjQ1MywyMjAuNzc1eg0KCQkgTTI4MS42NTMsNDQ4LjU3NWgtNzIuOHYtMTExLjNoNzIuOFY0NDguNTc1eiBNNDEwLjY1Myw0NDguNTc1aC04OC40di0xMzIuMWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44aC0xMTMuNA0KCQljLTExLjQsMC0yMC44LDkuNC0yMC44LDIwLjh2MTMyLjFoLTg3LjR2LTIwMy45aDMzMC44VjQ0OC41NzVMNDEwLjY1Myw0NDguNTc1eiBNODMuODUzLDIwNC4xNzVsMTYxLjQtMTU1bDE1OS44LDE1NUg4My44NTN6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="]].concat(i);
for(var F=0;F<i.length;F++){var L=this.k1[F],B="padding: 8px "+(A?13:36)+"px; cursor:pointer;";L.setAttribute("style",B);
L.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+i[F][2]+"\" /> "+(A?"":i[F][0])}this.e.style.width=x+"px";
this.e.style.height=z+"px";this.aJ.style.width=o+"px";this.aJ.style.paddingTop="32px";if(this.Ub)this.Ub.a0(x-o,z)};
gL.qC=function(){var x=this.e=I.z("div");x.style.background="var(--bg-canvas)";var z=this.Jk=I.z("div");
x.appendChild(z);var A=I.z("style");x.appendChild(A);A.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var F=0;F<2;F++){var o=I.z("div"),A="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";z.appendChild(o);
if(F==0)A+="padding: 12px 0px";if(F==1)A+="position:absolute;  bottom:0;";o.setAttribute("style",A);
var i=I.z("img");o.appendChild(i);i.setAttribute("src",PIMG[F==0?"logo":"bottom"]);if(F==0)this.a9g=i;
else this.aeQ=i;if(F==0)this.asE=o;else this.a5u=o}this.k1=[];A="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var L=this.Jh.bind(this);for(var F=0;F<3;F++){var B=I.z("span","bhover");this.k1.push(B);B.setAttribute("style",A+"cursor:pointer; padding:12px;");
B.addEventListener("click",L,!1);z.appendChild(B)}I.iw(z);I.iw(z);var B=I.z("div");B.setAttribute("style",A+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
B.textContent="Drop any files here";z.appendChild(B);this.I=I.z("canvas");this.I.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.E4=this.I.getContext("2d");this.an2=f.C(4);x.appendChild(this.I);var D=new Date().getDate(),Z=new Date().getMonth();
if(Z==11&&D>20||Z==0&&D<10){var j=Math.random()<.5,a={w:255,a:255,s:255};if(!j){a=f.M$(Math.random(),Math.random()*.7,1);
a.w*=255;a.a*=255;a.s*=255}this.Yo=[Math.round(1048575*Math.random()),j?.05:.02,Math.round(4+Math.random()*8),1,j?3:15,a,0,!0,j,j?1:.2,3];
this.aaW=j?.1:.2;this.z$=this.N3.bind(this);window.requestAnimationFrame(this.z$)}};gL.qC.prototype=new a0;
gL.qC.prototype.N3=function(){window.requestAnimationFrame(this.z$);if(!I.gX(this.e))return;var x=this.an2,z=this.I,A=this.E4,o=z.width,i=z.height;
this.Yo[6]=Date.now()*.001*this.aaW;f.ji.yC(x,o,i,this.Yo,!0);A.putImageData(new ImageData(new Uint8ClampedArray(x.buffer),o,i),0,0)};
gL.qC.prototype.Jh=function(x){var F=this.k1.indexOf(x.currentTarget),z=new fZ(G.E.Y,!0);if(F==0)z.data={d:G.U.z1,ca:"newproject"};
if(F==1)z.data={d:G.U.vP};if(F==2)z.data={d:G.U.z1,ca:"templates"};this.c(z)};gL.qC.prototype.N=function(){var x=this.k1,z=[[11,7],[1,6],["PSD VAR0",[25,0]]],A=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var F=0;F<x.length;F++)x[F].textContent=A[F]+"\u2000"+kc.get(z[F])};gL.qC.prototype.a0=function(x,z){var A=Math.min(z*1.5,Math.min(x,600));
I.IX(this.I,x,A*.26);var o=this.I.width,i=this.I.height;this.an2=f.C(o*i*4);this.e.style.width=x+"px";
this.e.style.height=z+"px";this.a5u.style.width=x+"px";this.Jk.style.marginLeft=Math.max(0,Math.round((x+200-600)/2)-200)+"px";
this.a9g.style.width=A+"px";this.aeQ.style.width=A+"px"};gL.qC.prototype.wB=function(x,z){if(!x.Mc)this.Jk.removeChild(this.k1[2])};
function Storage(x){a0.call(this);var z=this.e=I.z("div","storage");I.aK(z);var A=this.ao6=I.z("style");
z.appendChild(A);z.setAttribute("tabindex","0");z.style.outline="none";z.addEventListener("keydown",this.a6i.bind(this),!1);
this.oz=this.ax7.bind(this);var o=I.z("div");z.appendChild(o);var i=this.a9w.bind(this);this.Wa=I.z("div","bar");
o.appendChild(this.Wa);this.s$=I.z("div","fls scrollable");o.appendChild(this.s$);this.xS=I.z("div");
o.appendChild(this.xS);this.xS.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.aF=I.z("div","bar");this.aF.textContent="Name: ";var L=this.YA=I.z("input");L.setAttribute("type","text");
this.aF.appendChild(L);var B=this.n9=I.z("div","btn");B.textContent="Save";this.aF.appendChild(B);I.ek(B,i);
I.Zs(this.s$,this.oz);this.hG=0;this.TV=x;this.Bv=I.z("div","btn");I.ek(this.Bv,this.kC.bind(this));
this.vu=new ir([{name:[6,20]}]);this.vu.parent=this;this.vd=new ir([{name:[5,4]},{name:[6,37]}]);this.vd.parent=this;
this.vu.W("select",this.I4,this);this.vd.W("select",this.I4,this);this.s$.addEventListener("contextmenu",this.oz);
this.a35=I.z("span");this.md=I.z("span");this.md.setAttribute("style","position:absolute; right:0; top:5px;");
this.vU=[];this.UE=[];for(var F=0;F<3;F++){var D=I.z("div","btn");this.vU.push(D);this.a35.appendChild(D);
I.ek(D,i);D.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][F]}for(var F=0;F<4;F++){var D=I.z("div","btn");
this.UE.push(D);this.md.appendChild(D);I.ek(D,i)}window.addEventListener("message",this.aqA.bind(this),!1);
this.asu=!1;setInterval(this.a0F.bind(this),300);this.dn()}Storage.prototype=new a0;Storage.prototype.a0F=function(){var x=I.gX(this.e),z=this.asu;
if(x&&!z){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!x&&z){window.onpopstate=function(){};
history.go(-1)}this.asu=x};Storage.prototype.dn=function(){if(this.yM)document.body.removeChild(this.yM);
this.hj=[[]];this.N9=0;this.aqj={"/":[]};this.RA="";this.SI=null;this.U5=[];this.vY=[];var x="code/storages/"+Storage.list[this.TV][1],z=this.yM=I.z("iframe");
z.setAttribute("src",x);z.setAttribute("style","display:none");document.body.appendChild(z)};Storage.prototype.OJ=function(){return this.aqj[this.P_()]};
Storage.prototype.w7=function(x){this.aqj[this.P_()]=x};Storage.gA=function(F){var x=Storage.Cc[F];if(x==null)x=Storage.Cc[F]=new Storage(F);
return x};Storage.Cc=[];Storage.DO=0;Storage.arh="";Storage.j7=function(x,z){Storage.DO=x;Storage.arh=z;
var A=Storage.Cc;for(var F=0;F<A.length;F++)if(A[F])A[F].Ta()};Storage.dG=0;Storage.g0=2;Storage.kM=0;
Storage.list=[["This Device","deviceStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDg5LjIgNDg5LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4OS4yIDQ4OS4yOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBkPSJNMzkuNSwzNzcuMzVoMTYwLjl2NDQuMUgxNjljLTUuMiwwLTkuNSw0LjItOS41LDkuNXYyNy41YzAsNS4yLDQuMiw5LjUsOS41LDkuNWgxNTEuMmM1LjIsMCw5LjUtNC4yLDkuNS05LjV2LTI3LjUNCgkJCQljMC01LjItNC4yLTkuNS05LjUtOS41aC0zMS40di00NC4xaDE2MC45YzIxLjgsMCwzOS41LTE3LjcsMzkuNS0zOS41VjYwLjc1YzAtMjEuOC0xNy43LTM5LjUtMzkuNS0zOS41SDM5LjUNCgkJCQlDMTcuNywyMS4yNSwwLDM4Ljk1LDAsNjAuNzV2Mjc3LjFDMCwzNTkuNjUsMTcuNywzNzcuMzUsMzkuNSwzNzcuMzV6IE01My45LDc1LjE1aDM4MS40djI0OEg1My45Vjc1LjE1eiAiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"],["Google Drive","googledriveStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwNy4wMjcgMjA3LjAyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjA3LjAyNyAyMDcuMDI3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNNjkuODY2LDE1LjU1N0wwLDEzOC45MTlsMjguNzMyLDUyLjU1MmwxNDMuMjg4LTAuMDI5bDM1LjAwOC01OS41ODhMMTM2LjM5LDE1LjczNUw2OS44NjYsMTUuNTU3eiBNMTcuMTY2LDEzOS4wNDYNCglMNzQuMjY4LDM4LjIwNUw5MS4yMSw2Ny43ODNMMzMuMjQsMTY4LjQ0N0wxNy4xNjYsMTM5LjA0NnogTTk5Ljg0MSw4Mi44NTFsMjMuODA1LDQxLjU1OGwtNDcuNzMyLTAuMDA2TDk5Ljg0MSw4Mi44NTF6DQoJIE0xNjMuNDM0LDE3Ni40NDNsLTExNy4zMzIsMC4wMjRsMjEuNTMtMzcuMDY1bDY0LjYwNiwwLjAwOGwwLjA2NywwLjExOWw1Mi44NjUtMC4wODVMMTYzLjQzNCwxNzYuNDQzeiBNMTQwLjkzMiwxMjQuNDExDQoJTDkwLjE1NywzNS43NjdsLTIuOTY2LTUuMTc4bDQwLjc1MSwwLjEyMWw1Ny4wMDMsOTMuNzA2TDE0MC45MzIsMTI0LjQxMXoiLz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"],["Dropbox","dropboxStorage.html","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi4wOTY1OCAyLjQ5MjQ2QzYuMzQyNCAyLjMzNTg2IDYuNjU2NjggMi4zMzU4NCA2LjkwMjUgMi40OTI0M0wxMi4wMDAzIDUuNzM5NjNMMTcuMDk3IDIuNDkyNDdDMTcuMzQyOCAyLjMzNTg0IDE3LjY1NzIgMi4zMzU4NCAxNy45MDMgMi40OTI0N0wyMy40MDMgNS45OTY1N0MyMy42MTkxIDYuMTM0MjggMjMuNzUgNi4zNzI4MiAyMy43NSA2LjYyOTFDMjMuNzUgNi44ODUzOSAyMy42MTkxIDcuMTIzOTMgMjMuNDAzIDcuMjYxNjNMMTguODk1OCAxMC4xMzMyTDIzLjQwMyAxMy4wMDQ4QzIzLjYxOTEgMTMuMTQyNSAyMy43NSAxMy4zODEgMjMuNzUgMTMuNjM3M0MyMy43NSAxMy44OTM2IDIzLjYxOTEgMTQuMTMyMSAyMy40MDMgMTQuMjY5OEwxOC43OTY2IDE3LjIwNDVMMTkuMDE2MSAxNy4zNTA4QzE5LjIyNDcgMTcuNDg5OSAxOS4zNSAxNy43MjQxIDE5LjM1IDE3Ljk3NDhDMTkuMzUgMTguMjI1NiAxOS4yMjQ3IDE4LjQ1OTggMTkuMDE2MSAxOC41OTg5TDEyLjQxNjYgMjIuOTk5QzEyLjE2NDcgMjMuMTY3IDExLjgzNjUgMjMuMTY3IDExLjU4NDUgMjIuOTk5MUw0Ljk4NDAyIDE4LjU5OUM0Ljc3NTM2IDE4LjQ1OTkgNC42NTAwMiAxOC4yMjU3IDQuNjUwMDIgMTcuOTc1QzQuNjUwMDMgMTcuNzI0MiA0Ljc3NTM2IDE3LjQ5IDQuOTg0MDMgMTcuMzUwOUw1LjIwMzY5IDE3LjIwNDVMMC41OTcwMDYgMTQuMjY5NUMwLjM4MDg2MiAxNC4xMzE4IDAuMjUgMTMuODkzMiAwLjI1IDEzLjYzN0MwLjI1IDEzLjM4MDcgMC4zODA4NjggMTMuMTQyMSAwLjU5NzAxMyAxMy4wMDQ0TDUuMTA0MjMgMTAuMTMyOUwwLjU5NzAwNiA3LjI2MTI5QzAuMzgwODYyIDcuMTIzNTggMC4yNSA2Ljg4NTA0IDAuMjUgNi42Mjg3NUMwLjI1IDYuMzcyNDcgMC4zODA4NjggNi4xMzM5MyAwLjU5NzAxMyA1Ljk5NjIyTDYuMDk2NTggMi40OTI0NlpNMTAuNTc5MiAxMy42MjExTDkuNTEwOTYgMTQuMzMzMkw2LjQ5OTYgMTYuMjUxNUwyLjM5NTgyIDEzLjYzN0w2LjQ5OTYxIDExLjAyMjVMMTAuNTc5MiAxMy42MjExWk0xNC41MjY0IDE0LjM1NzZMMTMuNDIxNSAxMy42MjA5TDE3LjUgMTEuMDIyNUwyMS42MDQyIDEzLjYzNzNMMTcuNSAxNi4yNTJMMTQuNTI2NCAxNC4zNTc2Wk0xMC4zMyAxNS41OUw2Ljc1MjE4IDE3Ljk3NUwxMi4wMDA1IDIxLjQ3MzZMMTcuMjQ4IDE3Ljk3NDlMMTMuNzA3MiAxNS42MTQyTDExLjk5OTYgMTQuNTI2NEwxMC4zMyAxNS41OVpNMTEuOTk5NiA3LjUxODE1TDE2LjEwNDIgMTAuMTMzMkwxMi4wMDAzIDEyLjc0NzhMNy44OTUwNiAxMC4xMzI5TDExLjk5OTYgNy41MTgxNVpNNi40OTk2MSA0LjAxNDI1TDIuMzk1ODIgNi42Mjg3N0w2LjQ5OTYgOS4yNDMzM0wxMC42MDQgNi42Mjg3TDYuNDk5NjEgNC4wMTQyNVpNMTMuMzk1OCA2LjYyOTFMMTcuNSA5LjI0MzkyTDIxLjYwNDIgNi42MjkxTDE3LjUgNC4wMTQyOEwxMy4zOTU4IDYuNjI5MVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="]];
Storage.ash=function(x){for(var F=0;F<Storage.Cc.length;F++){if(Storage.Cc[F]&&Storage.Cc[F].yM.contentWindow==x)return!0}return!1};
Storage.prototype.a6i=function(x){if(x.target.tagName=="INPUT")return;var z=bJ;if(z.gY(x.code,z.BC)&&this.P_().length!=0)this.a43();
else if(x.ctrlKey){if(z.gY(x.code,z.U)){var A=[];this.w7(A);for(var F=0;F<this.SI.length;F++)A.push(F);
this.$J()}if(z.gY(x.code,z.aD)){}if(z.gY(x.code,z.fn)){}}else if(z.gY(x.code,z.oN)){var o=this.OJ();
if(o.length!=0)this.a1d(o[0])}else if(z.gY(x.code,z.Bo)){this.N9=Math.max(this.N9-1,0);this.kC()}else{var i=0;
for(var F=65;F<=90;F++)if(x.code=="Key"+String.fromCharCode(F))i=F;if(i!=0){var L=String.fromCharCode(i).toLowerCase(),B=[],D=this.SI,Z;
for(var F=0;F<D.length;F++)if(D[F][0][0].toLowerCase()==L)B.push(F);if(B.length==0)return;var o=this.OJ();
if(o.length==0)Z=B[0];else{var j=B.indexOf(o[0]);if(j==-1){Z=B[0];for(var F=0;F<B.length;F++)if(B[F]>o[0]){Z=B[F];
break}}else Z=B[(j+1)%B.length]}this.w7([Z]);this.$J(!0)}}};Storage.prototype.a0=function(x,z){this.GM=x;
this.zp=z;this.e.style.width=x+"px";this.e.style.height=z+"px";var A=x-30,o=Math.floor(A/230),A=Math.floor(A/o)-70;
this.ao6.textContent=".storage .tile .name {  width:"+A+"px;  }";this.YA.style.width=x-140+"px";this.s$.style.width=this.Wa.style.width=x-20+"px";
this.s$.style.height=z-70-(Storage.DO==0?0:45)+"px"};Storage.prototype.kC=function(){this.mN("show",this.P_())};
Storage.prototype.P_=function(x){var z=this.hj[this.N9],A="/"+z.join("/");if(x&&z.length!=0)A+="/";return A};
Storage.prototype.a9w=function(x){var z=x.currentTarget,A=this.N9,o=this.vU.indexOf(z),i=this.UE.indexOf(z);
if(o>=0&&!this.a6o(o))return;if(o==0){this.N9=Math.max(A-1,0);this.kC()}if(o==1){this.N9=Math.min(A+1,this.hj.length-1);
this.kC()}if(o==2){var L=this.hj[A+1]=this.hj[A].slice(0);L.pop();this.N9++;this.hj=this.hj.slice(0,this.N9+1);
this.kC()}if(i==0){Storage.dG=(Storage.dG+1)%2;this.Ta()}if(i==1){Storage.g0=(Storage.g0+1)%3;this.Ta()}if(i==2){Storage.kM=(Storage.kM+1)%3;
this.Ta()}if(i==3){this.mN("forget","")}if(z==this.n9){var B=this.YA.value.trim(),D=this.SI,Z=-1;if(!B.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var F=0;F<D.length;F++)if(D[F][0]==B)Z=F;if(Z!=-1){this.ak8("Do you really want to replace \""+B+"\"?",this.a5R.bind(this))}else this.a5R()}};
Storage.prototype.a5R=function(){var x=this.YA.value.trim(),z=[this.TV,this.P_(!0)+x];this.Ew({d:G.U.a2H,g1:z});
this.c(new fZ("canclose",!0))};Storage.prototype.I4=function(x){var z=x.target.WJ()[0];if(x.target==this.vu){var A=[kc.get([6,20]),-1,0];
this.SI.push(A);this.Ta();var F=this.SI.indexOf(A),o=this.U5[F].querySelector(".name");console.log(o);
var i=new c4.z_(o,function(B){this.Ew({d:G.U.pj,_9:kc.get([1,2])+" ..."});var D=this.P_(!0)+B+"/";console.log(D);
this.mN("save",D)}.bind(this),!0)}else{if(z==0)this.a43();else{var F=this.OJ()[0],L=this.SI[F],o=this.U5[F].querySelector(".name");
console.log(o);o.innerHTML=L[0];var i=new c4.z_(o,function(B){B=B.trim();var D=this.SI;for(var F=0;F<D.length;
F++)if(D[F][0]==B){alert("Item with such name already exists.");this.Ta();return}var Z=this.P_(!0)+L[0]+":"+B;
console.log(Z);this.mN("rename",Z)}.bind(this))}}};Storage.prototype.a43=function(){var x=this.OJ();
this.ak8("Do you really want to delete "+(x.length==1?"\""+this.SI[x[0]][0]+"\"":"these files")+"?",this.AJ.bind(this))};
Storage.prototype.ak8=function(x,z){var A={d:G.U.z1,ca:"confirm",h:x,Cn:z};this.Ew(A)};Storage.prototype.AJ=function(){this.Ew({d:G.U.pj,_9:kc.get([5,4])+" ..."});
this.vY=this.a0d();this.aiJ()};Storage.prototype.aiJ=function(){if(this.vY.length==0){this.Ew({d:G.U.gt,_9:kc.get([5,4])+" ..."});
this.w7([]);this.kC()}else this.mN("delete",this.vY.pop()[1])};Storage.prototype.a0d=function(){var x=[],z=this.P_(!0),A=this.OJ();
for(var F=0;F<A.length;F++){var o=this.SI[A[F]];x.push([this.TV,z+o[0]])}return x};Storage.prototype.mN=function(x,z){this.RA=x;
this.yM.contentWindow.postMessage("{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(z)+"  }","*")};Storage.prototype.aqA=function(x){if(x.source!=this.yM.contentWindow)return;
if(typeof x.data=="string"){var z=JSON.parse(x.data),A=z.code,o=z.prm;if(A=="ready"){if(o)this.kC();
else{I.Uv(this.Wa);I.Uv(this.s$);this.Wa.appendChild(this.Bv)}}else if(A!="0"){alert(o);this.Ta()}else if(this.RA=="show"){this.SI=o;
this.Ta()}else if(this.RA=="save"){this.Ew({d:G.U.gt,_9:kc.get([1,2])+" ..."});this.kC()}else if(this.RA=="delete"){this.aiJ()}else if(this.RA=="forget"){this.dn()}else if(this.RA=="rename"){this.kC()}else throw A}else{this.Ew({d:G.U.ah7,g1:this.a0d()[0],Mw:x.data});
this.Ew({d:G.U.gt,_9:"Opening ..."})}};Storage.prototype.a6o=function(F){if(F==0)return this.N9>0;if(F==1)return this.N9<this.hj.length-1;
if(F==2)return this.P_()!="/"};Storage.prototype.Ta=function(){var x=this.SI,z=Storage.g0,A=Storage.dG,o=Storage.kM;
if(x==null)return;x.sort(function(p,E){var _=p[1]==-1?1:5,S=E[1]==-1?1:5,y=0;if(Math.min(_,S)==1&&_!=S)return _-S;
else if(_==1||z==0)y=p[0].toLowerCase()<E[0].toLowerCase()?-1:1;else if(z==1)y=p[1]-E[1];else if(z==2)y=p[2]-E[2];
if(A==1)y=-y;return y});var i=this.s$,L=this.Wa,B=this.hj[this.N9];I.Uv(i);I.Uv(L);this.U5=[];for(var F=0;
F<3;F++)if(this.a6o(F))I.wi(this.vU[F],"disabled");else I.ho(this.vU[F],"disabled");L.appendChild(this.a35);
L.appendChild(this.md);var D=I.z("span");D.textContent="/";L.appendChild(D);for(var F=0;F<B.length;F++){var D=I.z("span");
D.textContent=B[F];L.appendChild(D);var D=I.z("span");D.textContent="/";L.appendChild(D)}var Z=["tile","icon","litm"][o];
for(var F=0;F<x.length;F++){var j=x[F],a=j[1]==-1,b=a?"":aV.l1(j[1]),W=I.z("div","cont "+Z);i.appendChild(W);
this.U5.push(W);W.setAttribute("title",j[0]+(a?"":"\nSize: "+b+"\nDate Modified: "+new Date(j[2]*1e3).toLocaleString().replaceAll(". ",".")));
var c=I.z("img");c.setAttribute("src",a?Storage.abq:j[3]?j[3]:Storage.VH);if(!a&&j[3])c.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var Y=I.z("span","name"),R=j[0];if(Z=="icon"&&R.length>30)R=R.slice(0,24)+".."+R.slice(R.length-5);Y.textContent=R;
W.appendChild(c);W.appendChild(Y);if(Z!="icon"&&!a){if(Z=="tile")I.iw(Y);var $=I.z("span");$.textContent=b;
$.style.opacity="0.8";(Z=="tile"?Y:W).appendChild($)}var k=j[0].split("."),w=(k.length==1?"":k.pop()).toUpperCase();
if(Z!="litm"&&!a&&j[3]==null){var V=I.z("span","ext");V.textContent=w;var h=Storage.b_[w];V.style.backgroundColor=h?h:Storage.ahr(w);
W.appendChild(V)}I.Zs(W,this.oz);W.addEventListener("contextmenu",this.oz)}this.$J();var l=this.aF.parentNode!=null,M=Storage.DO,t=this.e;
if(l&&M==0)t.removeChild(this.aF);if(!l&&M==1)t.appendChild(this.aF);this.a0(this.GM,this.zp);this.N()};
Storage.prototype.$J=function(x){var z=this.U5,A=this.SI,o=this.OJ(),i=!1,L=0;for(var F=0;F<z.length;
F++){var B=A[F],D=B[1]==-1,Z=z[F];if(Storage.DO==1&&!D&&!B[0].toLowerCase().endsWith(".psd"))Z.style.display="none";
else Z.style.display="auto";if(o.indexOf(F)==-1)I.wi(Z,"active");else{if(D)i=!0;else L+=B[1];I.ho(Z,"active");
if(x)Z.scrollIntoView({block:"center",behavior:"smooth"})}}var j=i?"":aV.l1(L);this.xS.textContent=o.length==0?"":o.length+" item"+(o.length==1?"":"s")+" selected\u2001"+j;
this.YA.value=o.length==1&&!i?A[o[0]][0]:Storage.arh};Storage.prototype.a1d=function(F){var x=this.SI[F];
if(x[1]==-1){var z=this.hj[this.N9].slice(0);z.push(x[0]);this.N9++;this.hj[this.N9]=z;this.hj=this.hj.slice(0,this.N9+1);
this.w7([]);this.kC()}else if(Storage.DO==0){this.Ew({d:G.U.pj,_9:"Opening ..."});this.c(new fZ("canclose",!0));
var A=this.P_(!0)+x[0];this.mN("load",A)}};Storage.prototype.N=function(){var x=Storage.g0,z=Storage.dG,A=Storage.kM;
this.UE[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][z];this.UE[1].textContent=kc.get([[12,48],[12,14,0],"Date"][x]);
this.UE[2].textContent=kc.get(["Tiles","Icons",[25,3,1]][A]);this.UE[3].textContent="\u2716";this.Bv.textContent=kc.get([[23,6],Storage.list[this.TV][0]])};
Storage.prototype.ax7=function(x){this.Ew({d:G.U.lk});if(x.button==3||x.button==4){if(Date.now()-this.a02>50){var z=this.N9;
if(x.button==3)this.N9=Math.max(z-1,0);else this.N9=Math.min(z+1,this.hj.length-1);this.kC()}this.a02=Date.now();
return}x.stopPropagation();var F=this.U5.indexOf(x.currentTarget);if(x.type=="contextmenu"){if(this.SI==null)return;
x.preventDefault();var A=F==-1?this.vu:this.vd;A.parent=this;A.N();this.Ew({d:G.U.Sc,oM:A,x:x.clientX+4,y:x.clientY});
return}var o=this.OJ(),i=o.indexOf(F);if(x.button!=0&&i!=-1)return;if(x.target==this.s$)this.w7([]);
else{if(x.ctrlKey){if(i==-1)o.push(F);else o.splice(i,1)}else if(x.shiftKey&&o.length!=0){var L=o[0];
if(L<F){var B=F;F=L;L=B}o=[];this.w7(o);for(var D=F;D<=L;D++)o.push(D)}else{this.w7([F]);if(Date.now()-this.hG<300&&o.length!=0&&o[0]==F){this.a1d(F);
this.hG=0}}}this.hG=Date.now();this.$J()};Storage.prototype.Ew=function(x){var z=new fZ(G.E.Y,!0);z.data=x;
this.c(z)};Storage.prototype.aiS=function(x,z){this.Ew({d:G.U.pj,_9:kc.get([1,2])+" ..."});this.mN("save",x);
this.yM.contentWindow.postMessage(z,"*")};Storage.b_={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.ahr=function(x){x=x.toLowerCase();
var z=0;for(var F=0;F<x.length;F++)z+=x.charCodeAt(F)*613<<8*F;return"#"+f.Ng(z&16777215)};Storage.abq="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.VH="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function T(x){a0.call(this);this.qY=x;this.e=I.z("div","");this.Se=[];this.ZR=null;this.aa9=[]}T.prototype=new a0;
T.prototype.A$=function(x){};T.prototype.Xx=function(){return!1};T.prototype.a0=function(x,z){};T.prototype.wB=function(x,z){};
T.prototype.qp=function(x){};T.prototype.b=function(x,z,A,o,i,L){var B=[],D=this.Se,Z=0,j=h6.I1["s"+this.qY];
j?j(x,B,L):this.EO(x,B,L);for(var F=0;F<D.length;F++)if(!(D[F]instanceof eX))D[F].b(B[Z++]);if(x.RndS)this.ZR=x.RndS.v};
T.prototype.L=function(){var x=h6.d6(this.qY),z=[],A=this.Se,o=0;for(var F=0;F<A.length;F++)if(!(A[F]instanceof eX))z[o++]=A[F].L();
var i=h6.I1["g"+this.qY];i?i(x,z):this.lm(x,z);if(x.RndS)x.RndS.v=this.ZR;return x};T.prototype.R0=function(x){};
T.prototype.AE=function(x){if(x&&x.target instanceof eI){this.ZR=Math.floor(Math.random()*4294967295)}var z=this.aa9;
for(var F=0;F<z.length;F+=2){var A=this.Se[z[F]],o=this.Se[z[F+1]],i=A.L(),L=o.L();if(x.target==A)o.b(Math.max(i,L));
else A.b(Math.min(i,L))}this.c(new fZ(G.E.o))};T.prototype.N=function(){for(var F=0;F<this.Se.length;
F++)this.Se[F].N();var x=this.aqr;if(x)x.N()};T.prototype.m7=function(x){I.ho(this.e,"form");var z=this.Se;
for(var F=0;F<z.length;F++){var A=z[F];A.parent=this;A.W(G.E.o,this.AE,this);this.e.appendChild(A.e);
if(A instanceof dg&&z[F+1]instanceof aD)continue;if(x&&x.indexOf(F)!=-1)I._l(this.e);else I.iw(this.e)}var o=h6.d6(this.qY);
if(o.RndS){var i=this.aqr=new eI([25,1,2],null,null,!0);this.e.appendChild(i.e);i.W("click",this.AE,this)}};
T.prototype.Jb=function(){return!1};T.prototype.Xv=function(x,z,A,o,i){};T.prototype.Dg=function(x,z,A,o,i){};
T.prototype.V4=function(x,z,A,o,i){};T.prototype.lm=function(x,z){};T.prototype.EO=function(x,z){};T.prototype.MC=function(x){var z=x.target.L().indexOf(!0)!=-1,A=new fZ(G.E.Y,!0);
A.cx=!0;A.data={d:z?G.U.hV:G.U.Mq,k:Q.C8};this.c(A);A=new fZ(G.E.r,!0);A.k=Q.C8;A.cx=!0;A.data={d:"supertool",k:z?this:null};
this.c(A)};T.aeP=function(x){x.Jb=function(){return!0};x.Xv=function(z,A,o,i,L){this.z3=!0;this.a1U(z,L)};
x.Dg=function(z,A,o,i,L){if(!this.z3)return;this.a1U(z,L)};x.V4=function(z,A,o,i,L){this.z3=!1};x.a1U=function(z,A){var o=new av(0,0,z.m,z.n);
if(z.O)o=z.O.rect;var i=z.t.Sd(A.x,A.y);i.x-=o.x;i.y-=o.y;function L(B,D){return Math.round(Math.max(0,Math.min(100,100*B/D)))}this.Se[2].b(L(i.x,o.m));
this.Se[3].b(L(i.y,o.n));this.AE()}};T.Bokh=function(){T.call(this,"Bokh");this.Se=[new hN("Depth Map",["A","b"]),new f$("Focal Distance",0,255),new dg([4,11]),new hN([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new f$([12,56],0,100),new f$([12,15],0,360),new f$([12,2],0,100),new f$([4,13],0,255),new f$([24,6],0,100),new i6([12,58],[[12,59,0],[12,59,1]]),new dg([12,60])];
this.m7([5,7])};T.Bokh.prototype=new T;T.Bokh.prototype.EO=function(x,z,A){var o=[[22,5,0],[6,5,3],[6,2]],i=x.BkDi.v.BtDi,L=x.BkDc,B=0;
if(i=="BeIn")B=0;else if(i=="BeIt"&&L.v.BtDc=="BeCt")B=1;else if(i=="BeIt"&&L.v.BtDc=="BeCm")B=2;else B=3+L.v;
for(var F=0;F<A[1].length;F++)o.push(A[1][F].name);this.Se[0].sx(o,[3]);z[0]=B;z[1]=x.BkDp.v;z[2]=x.BkDs.v;
z[3]=parseInt(x.BkIs.v.BtIs.slice(3))-3;z[4]=x.BkIb.v;z[5]=x.BkIr.v;z[6]=x.BkSb.v;z[7]=x.BkSt.v;z[8]=x.BkNa.v;
z[9]=x.BkNt.v.BtNt=="BeNu"?0:1;z[10]=x.BkNm.v};T.Bokh.prototype.lm=function(x,z){var A;if(z[0]==0){A="BeIn";
delete x.BkDc}else if(z[0]<3){A="BeIt";x.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][z[0]-1]}}}else{A="BeIa";
x.BkDc={t:"long",v:z[0]-3}}x.BkDi.v.BtDi=A;x.BkDp.v=z[1];x.BkDs.v=z[2];x.BkIs.v.BtIs="BeS"+(3+z[3]);
x.BkIb.v=z[4];x.BkIr.v=z[5];x.BkSb.v=z[6];x.BkSt.v=z[7];x.BkNa.v=z[8];x.BkNt.v.BtNt=["BeNu","BeNg"][z[9]];
x.BkNm.v=z[10]};T.oilPaint=function(){T.call(this,"oilPaint");this.Se=[new f$([12,56],.1,10,"px",!0),new f$("Cleanliness",0,10,"px",!0),new f$([12,38],.1,10,null,!0),new f$("Bristle Detail",0,10,null,!0),new dg("Lighting"),new f$("Shine",0,10,null,!0),new iY([12,15])];
this.m7()};T.oilPaint.prototype=new T;T.oilPaint.prototype.EO=function(x,z){var A="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var F=0;F<A.length;F++)z[F]=x[A[F]].v;z[6]=[x.LghD.v]};T.oilPaint.prototype.lm=function(x,z){var A="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var F=0;F<A.length;F++)x[A[F]].v=z[F];x.LghD.v=z[6][0]};T.TrcC=function(){T.call(this,"TrcC");this.Se=[new f$("Level",0,255),new i6([12,69],[[19,4,1],[19,4,0]])];
this.m7()};T.TrcC.prototype=new T;T.TrcC.prototype.EO=function(x,z){z[0]=x.Lvl.v;z[1]=["Lwr","Upr"].indexOf(x.Edg.v.CntE)};
T.TrcC.prototype.lm=function(x,z){x.Lvl.v=z[0];x.Edg.v.CntE=["Lwr","Upr"][z[1]]};T["Dfs "]=function(){T.call(this,"Dfs ");
this.Se=[new i6([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.m7()};T["Dfs "].prototype=new T;
T["Dfs "].prototype.EO=function(x,z){z[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(x.Md.v.DfsM)};
T["Dfs "].prototype.lm=function(x,z){x.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][z[0]]};T.Embs=function(){T.call(this,"Embs");
this.Se=[new iY([12,15]),new f$([12,42],1,100,"px"),new f$([12,57],1,500,"%")];this.m7()};T.Embs.prototype=new T;
T.Embs.prototype.EO=function(x,z){z[0]=[x.Angl.v];z[1]=x.Hght.v;z[2]=x.Amnt.v};T.Embs.prototype.lm=function(x,z){x.Angl.v=z[0][0];
x.Hght.v=z[1];x.Amnt.v=z[2]};T["Wnd "]=function(){T.call(this,"Wnd ");this.Se=[new i6([12,32],["Wind","Blast","Stagger"]),new i6([12,33],["From the Right","From the Left"])];
this.m7()};T["Wnd "].prototype=new T;T["Wnd "].prototype.EO=function(x,z){z[0]=["Wnd","Blst","Stgr"].indexOf(x.WndM.v.WndM);
z[1]=["Left","Rght"].indexOf(x.Drct.v.Drct)};T["Wnd "].prototype.lm=function(x,z){x.WndM.v.WndM=["Wnd","Blst","Stgr"][z[0]];
x.Drct.v.Drct=["Left","Rght"][z[1]]};T.denoise=function(){T.call(this,"denoise");this.Se=[new f$([12,64],0,10),new f$([12,65],0,100,"%")];
this.m7()};T.denoise.prototype=new T;T.denoise.prototype.EO=function(x,z){var A=x.channelDenoise.v[0].v;
z[0]=A.Amnt.v;z[1]=A.EdgF.v};T.denoise.prototype.lm=function(x,z){var A=x.channelDenoise.v[0].v;A.Amnt.v=z[0];
A.EdgF.v=z[1]};T.lightFilterGradient=function(){T.call(this,"lightFilterGradient");this.Se=[new f$([24,3,1],0,100,"px",1,!0),new f$([12,38],0,200,"%"),new dg([4,11]),new f$("High",0,100,"%"),new f$("Medium",0,100,"%"),new f$("Low",0,100,"%")];
this.m7()};T.lightFilterGradient.prototype=new T;T.lightFilterGradient.prototype.EO=function(x,z){z[0]=x.blur.v;
z[1]=x.textureScale.v*100;z[2]=x.Scl.v==-1;var A=x.Dtl.v;z[3]=A[0].v*100;z[4]=A[1].v*100;z[5]=A[2].v*100};
T.lightFilterGradient.prototype.lm=function(x,z){x.blur.v=z[0];x.textureScale.v=z[1]/100;x.Scl.v=z[2]?-1:1;
var A=x.Dtl.v;A[0].v=z[3]/100;A[1].v=z[4]/100;A[2].v=z[5]/100};T.Fbrs=function(){T.call(this,"Fbrs");
this.Se=[new f$("Variance",1,64),new f$([12,64],1,64)];this.m7()};T.Fbrs.prototype=new T;T.Fbrs.prototype.EO=function(x,z){z[0]=x.Vrnc.v;
z[1]=x.Strg.v};T.Fbrs.prototype.lm=function(x,z){x.Vrnc.v=z[0];x.Strg.v=z[1]};T.LnsF=function(){T.call(this,"LnsF");
this.Se=[new f$([12,2],10,300,"%"),new i6([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new f$("Position X",0,100,"%"),new f$("Position Y",0,100,"%")];
this.m7()};T.LnsF.prototype=new T;T.LnsF.prototype.EO=function(x,z){z[0]=x.Brgh.v;z[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(x.Lns.v.Lns);
var A=x.FlrC.v;z[2]=Math.round(A.Hrzn.v*100);z[3]=Math.round(A.Vrtc.v*100)};T.LnsF.prototype.lm=function(x,z){x.Brgh.v=z[0];
x.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][z[1]];var A=x.FlrC.v;A.Hrzn.v=z[2]/100;A.Vrtc.v=z[3]/100};T.aeP(T.LnsF.prototype);
T.blendOptions=function(){T.call(this,"blendOptions");this.Se.push(new hN([12,19,0],b_.m0,!1,b_.h3));
this.Se.push(new f$([12,0],0,100,"%"));this.m7()};T.blendOptions.prototype=new T;T.blendOptions.prototype.EO=function(x,z){z[0]=b_.p3.indexOf(x.Md.v.BlnM);
z[1]=x.Opct.v.val};T.blendOptions.prototype.lm=function(x,z){x.Md.v.BlnM=b_.p3[z[0]];x.Opct.v.val=z[1]};
T.LnCr=function(){T.call(this,"LnCr");this.Se=[new f$([12,57],-100,100),new f$([12,38],10,150,"%")];
this.m7()};T.LnCr.prototype=new T;T.LnCr.prototype.EO=function(x,z){z[0]=x.LnIa.v;z[1]=x.LnSi.v};T.LnCr.prototype.lm=function(x,z){x.LnIa.v=z[0];
x.LnSi.v=z[1]};T.adaptCorrect=function(){T.call(this,"adaptCorrect");var x=kl;this.Se=[new eX([19,6,0]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new eX([19,6,2]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new eX([3]),new x([13,0],-100,100)];
this.m7([3,7])};T.adaptCorrect.prototype=new T;T.adaptCorrect.prototype.EO=function(x,z){var A=x.sdwM.v;
z[0]=A.Amnt.v.val;z[1]=A.Wdth.v.val;z[2]=A.Rds.v;var A=x.hglM.v;z[3]=A.Amnt.v.val;z[4]=A.Wdth.v.val;
z[5]=A.Rds.v;z[6]=x.ClrC.v};T.adaptCorrect.prototype.lm=function(x,z){var A=x.sdwM.v;A.Amnt.v.val=z[0];
A.Wdth.v.val=z[1];A.Rds.v=z[2];var A=x.hglM.v;A.Amnt.v.val=z[3];A.Wdth.v.val=z[4];A.Rds.v=z[5];x.ClrC.v=z[6]};
T.Flam=function(){T.call(this,"Flam");var x=this.Se=[new hN([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new f$([12,80,0],20,1e3,"px"),new dg("Randomize Length"),new f$([12,41],5,600,"px"),new f$([12,15],0,360,"\xB0"),new f$("Interval",10,200,"px"),new dg("Adapt Interval for Loops"),new aD(!1),new hN([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new f$("Turbulent",0,100),new f$("Jag",0,100),new f$([12,0],0,100),new f$("Lines",2,30),new f$("Bottom",0,100),new hN([12,22],["Normal","Violent","Flat"]),new hN([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dg("Randomize Shape"),new f$("Random Seed",0,100)];
this.m7();var z=this.e;I.Uv(z);var A=new i6(null,["Basic","Advanced"]);A.W(G.E.o,this.atP,this);z.appendChild(A.e);
I._l(z);var o=I.z("div"),i=I.z("div");this.ai$=[o,i];z.appendChild(o);for(var F=0;F<x.length;F++){(F<9?o:i).appendChild(x[F].e);
if(F==6)I.iw(o)}x[0].W(G.E.o,this.aeJ,this);this.aeJ()};T.Flam.prototype=new T;T.Flam.prototype.aeJ=function(x){var z=this.Se,F=z[0].L();
z[1].dU(F!=0&&F!=5);z[2].dU(F!=0&&F!=5);z[4].dU(F!=0&&F!=5&&F!=1);z[5].dU(F!=0&&F!=5);z[6].dU(F!=0&&F!=5)};
T.Flam.prototype.atP=function(x){var F=x.target.L(),z=this.ai$,A=this.e;A.removeChild(z[1-F]);A.appendChild(z[F])};
T.boxblur=function(){T.call(this,"boxblur");this.Se=[new f$([12,56],1,200," px")];this.m7()};T.boxblur.prototype=new T;
T.boxblur.prototype.EO=function(x,z){z[0]=x.Rds.v.val};T.boxblur.prototype.lm=function(x,z){x.Rds.v.val=z[0]};
T.GsnB=function(){T.call(this,"GsnB");this.Se=[new f$([12,56],.1,400,"px",1,!0)];this.m7()};T.GsnB.prototype=new T;
T.MtnB=function(){T.call(this,"MtnB");this.Se=[new iY([12,15]),new f$([12,28],1,100," px")];this.m7()};
T.MtnB.prototype=new T;T.RdlB=function(){T.call(this,"RdlB");this.Se=[new f$([12,57],1,100),new i6([12,36],["Spin","Zoom"]),new f$("Position X",0,100,"%"),new f$("Position Y",0,100,"%")];
this.m7()};T.RdlB.prototype=new T;T.RdlB.prototype.EO=function(x,z){z[0]=x.Amnt.v;z[1]=["Spn","Zm"].indexOf(x.BlrM.v.BlrM);
z[2]=x.Cntr.v.Hrzn.v*100;z[3]=x.Cntr.v.Vrtc.v*100};T.RdlB.prototype.lm=function(x,z){x.Amnt.v=z[0];x.BlrM.v.BlrM=["Spn","Zm"][z[1]];
x.Cntr.v.Hrzn.v=z[2]/100;x.Cntr.v.Vrtc.v=z[3]/100};T.aeP(T.RdlB.prototype);T.Dspl=function(){T.call(this,"Dspl");
this.Se=[new hN([6,36,3],["a","b"]),new f$([22,4,0],-100,100,"px"),new f$([22,4,1],-100,100,"px"),new hN([24,18,0],[[24,18,3],[24,18,2]])];
this.m7()};T.Dspl.prototype=new T;T.Dspl.prototype.EO=function(x,z,A){this.anF=[];this.db=[];var o=-1,i=A?A[0]:null;
if(i==null)i=this.apq;else this.apq=i;if(i)for(var F=0;F<i.length;F++){var L=i[F];this.anF.push(L.W7.trim());
this.db.push(L.mZ);if(L.mZ==x.DspF.v.pth)o=F}this.Se[0].sx(this.anF);z[0]=o==-1?0:o;z[1]=x.HrzS.v;z[2]=x.VrtS.v;
z[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};T.Dspl.prototype.lm=function(x,z){if(this.db.length==0)return;
x.DspF.v.pth=this.db[z[0]];x.HrzS.v=z[1];x.VrtS.v=z[2];x.UndA.v.UndA=["WrpA","RptE"][z[3]]};T.Pnch=function(){T.call(this,"Pnch");
this.Se=[new f$([12,57],-100,100,"%")];this.m7()};T.Pnch.prototype=new T;T["Plr "]=function(){T.call(this,"Plr ");
this.Se=[new i6(null,["Rect to Polar","Polar to Rect"])];this.m7()};T["Plr "].prototype=new T;T.Rple=function(){T.call(this,"Rple");
this.Se=[new f$([12,57],-999,999),new hN([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.m7()};T.Rple.prototype=new T;
T["Shr "]=function(){T.call(this,"Shr ");this.Se=[new fI(!0,!0),new hN([24,18,0],[[24,18,3],[24,18,2]])];
this.m7()};T["Shr "].prototype=new T;T["Shr "].prototype.EO=function(x,z){var A=new cb(0,255/127,255/127,0,-2,128),o=JSON.parse(JSON.stringify(x.ShrP.v));
f.tt.D(o,A);z[0]=o;z[1]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};T["Shr "].prototype.lm=function(x,z){var A=new cb(0,255/127,255/127,0,-2,128);
A.Qs();f.tt.D(z[0],A);x.ShrP.v=z[0];x.ShrE.v=z[0].length-1;x.UndA.v.UndA=["WrpA","RptE"][z[1]]};T.Sphr=function(){T.call(this,"Sphr");
this.Se=[new f$([12,57],-100,100),new hN([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.m7()};T.Sphr.prototype=new T;
T.Sphr.prototype.EO=function(x,z){z[0]=x.Amnt.v;z[1]=["Nrml","HrzO","VrtO"].indexOf(x.SphM.v.SphM)};
T.Sphr.prototype.lm=function(x,z){x.Amnt.v=z[0];x.SphM.v.SphM=["Nrml","HrzO","VrtO"][z[1]]};T.Dthr=function(){T.call(this,"Dthr");
this.Se=[new hN("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.m7()};T.Dthr.prototype=new T;
T.Dthr.prototype.EO=function(x,z){z[0]=x.Plte.v};T.Dthr.prototype.lm=function(x,z){x.Plte.v=z[0]};T.Part=function(){T.call(this,"Part");
this.Se=[new f$([15,5,1],0,100,"%"),new f$([12,14,0],1,50,"px"),new f$([12,34],0,100,"%"),new f$([12,2],10,1e3,"%"),new aD(!0),new f$("Time",0,1,null,3),new f$("Turbulence",0,100,"%"),new dg("Blink"),new dg("Fall")];
this.m7([4])};T.Part.prototype=new T;T.Part.prototype.EO=function(x,z){z[0]=x.Cont.v;z[1]=x.Size.v;z[2]=x.Dpth.v;
z[3]=x.Brgh.v;z[4]=x.Clr.v;z[5]=x.Time.v;z[6]=x.Turb.v;z[7]=x.Blnk.v;z[8]=x.Fall.v};T.Part.prototype.lm=function(x,z){x.Cont.v=z[0];
x.Size.v=z[1];x.Dpth.v=z[2];x.Brgh.v=z[3];x.Clr.v=z[4];x.Time.v=z[5];x.Turb.v=z[6];x.Blnk.v=z[7];x.Fall.v=z[8]};
T.Twrl=function(){T.call(this,"Twrl");this.Se=[new f$([12,15],-999,999)];this.m7()};T.Twrl.prototype=new T;
T.Wave=function(){T.call(this,"Wave");this.aa9=[1,2,3,4];this.Se=[new f$("Number of Generators",1,100),new kl("Min Length",1,999),new kl("Max Length",1,999),new kl("Min Ampl.",1,999),new kl("Max Ampl.",1,999),new kl("Scale X",1,100,"%"),new kl("Scale Y",1,100,"%"),new i6([12,44],["Sine","Triangle",[12,93,3]]),new hN([24,18,0],[[24,18,3],[24,18,2]]),new bQ("Randomizer Seed")];
this.m7()};T.Wave.prototype=new T;T.Wave.prototype.EO=function(x,z){z[0]=x.NmbG.v;z[1]=x.WLMn.v;z[2]=x.WLMx.v;
z[3]=x.AmMn.v;z[4]=x.AmMx.v;z[5]=x.SclH.v;z[6]=x.SclV.v;z[7]=["WvSn","WvTr","WvSq"].indexOf(x.Wvtp.v.Wvtp);
z[8]=["WrpA","RptE"].indexOf(x.UndA.v.UndA);z[9]=x.RndS.v};T.Wave.prototype.lm=function(x,z){x.NmbG.v=z[0];
x.WLMn.v=z[1];x.WLMx.v=z[2];x.AmMn.v=z[3];x.AmMx.v=z[4];x.SclH.v=z[5];x.SclV.v=z[6];x.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][z[7]];
x.UndA.v.UndA=["WrpA","RptE"][z[8]];var A=parseInt(z[9]);if(isNaN(A))A=248325464;A=Math.max(0,Math.min(268435455,A));
x.RndS.v=A;this.Se[9].b(A)};T.ZgZg=function(){T.call(this,"ZgZg");this.Se=[new f$([12,57],-100,100),new f$("Ridges",0,20),new hN([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.m7()};T.ZgZg.prototype=new T;T.surfaceBlur=function(){T.call(this,"surfaceBlur");this.Se=[new f$([12,56],1,200," px"),new f$([4,13],1,255," px")];
this.m7()};T.surfaceBlur.prototype=new T;T.surfaceBlur.prototype.EO=function(x,z){z[0]=x.Rds.v.val;z[1]=x.Thsh.v};
T.surfaceBlur.prototype.lm=function(x,z){x.Rds.v.val=z[0];x.Thsh.v=z[1]};T.AdNs=function(){T.call(this,"AdNs");
this.Se=[new f$([12,57],0,200," %"),new hN([12,58],[[12,59,1],[12,59,0]]),new dg([12,60])];this.m7()};
T.AdNs.prototype=new T;T.DstS=function(){T.call(this,"DstS");this.Se=[new f$([12,56],1,200," px"),new f$([4,13],1,255," px")];
this.m7()};T.DstS.prototype=new T;T["Mdn "]=function(){T.call(this,"Mdn ");this.Se=[new f$([12,56],1,200," px")];
this.m7()};T["Mdn "].prototype=new T;T["Mdn "].prototype.EO=function(x,z){z[0]=x.Rds.v.val};T["Mdn "].prototype.lm=function(x,z){x.Rds.v.val=z[0]};
T.ClrH=function(){T.call(this,"ClrH");this.Se=[new f$([12,56],4,100," px")];for(var F=1;F<4;F++)this.Se.push(new f$("Angle "+F,0,90," \xB0"));
this.m7()};T.ClrH.prototype=new T;T.ClrH.prototype.EO=function(x,z){z[0]=x.Rds.v;for(var F=1;F<4;F++)z[F]=x["Ang"+F].v};
T.ClrH.prototype.lm=function(x,z){x.Rds.v=z[0];for(var F=1;F<4;F++)x["Ang"+F].v=z[F]};T.ClrH.prototype.N=function(){var x=this.Se;
x[0].N();for(var F=1;F<4;F++)x[F].mB(kc.get([12,15])+" "+F)};T.Crst=function(){T.call(this,"Crst");this.Se=[new f$([12,61],3,100," px")];
this.m7()};T.Crst.prototype=new T;T.Crst.prototype.EO=function(x,z){z[0]=x.ClSz.v};T.Crst.prototype.lm=function(x,z){x.ClSz.v=z[0]};
T.Mztn=function(){T.call(this,"Mztn");this.Se.push(new hN([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.db="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.m7()};T.Mztn.prototype=new T;
T.Mztn.prototype.EO=function(x,z){z[0]=this.db.indexOf(x.MztT.v.MztT)};T.Mztn.prototype.lm=function(x,z){x.MztT.v.MztT=this.db[z[0]]};
T["Msc "]=function(){T.call(this,"Msc ");this.Se=[new f$([12,61],2,200," px")];this.m7()};T["Msc "].prototype=new T;
T["Msc "].prototype.EO=function(x,z){z[0]=x.ClSz.v.val};T["Msc "].prototype.lm=function(x,z){x.ClSz.v.val=z[0]};
T.Pntl=function(){T.call(this,"Pntl");this.Se=[new f$([12,61],3,100," px")];this.m7()};T.Pntl.prototype=new T;
T.Pntl.prototype.EO=function(x,z){z[0]=x.ClSz.v};T.Pntl.prototype.lm=function(x,z){x.ClSz.v=z[0]};T.smartSharpen=function(){T.call(this,"smartSharpen");
this.Se=[new f$([12,57],1,200,"%"),new f$([12,56],0,200,"px",1,!0)];this.m7()};T.smartSharpen.prototype=new T;
T.smartSharpen.prototype.EO=function(x,z){z[0]=x.Amnt.v.val;z[1]=x.Rds.v.val};T.smartSharpen.prototype.lm=function(x,z){x.Amnt.v.val=z[0];
x.Rds.v.val=z[1]};T.UnsM=function(){T.call(this,"UnsM");this.Se=[new f$([12,57],1,200," %"),new f$([12,56],.1,400,"px",1,!0),new f$([4,13],0,255," ")];
this.m7()};T.UnsM.prototype=new T;T.HghP=function(){T.call(this,"HghP");this.Se=[new f$([12,56],.1,400,"px",1,!0)];
this.m7()};T.HghP.prototype=new T;T.HsbP=function(){T.call(this,"HsbP");this.Se=[new i6("Input",["RGB","HSB","HSL"]),new i6("Output",["RGB","HSB","HSL"])];
this.m7()};T.HsbP.prototype=new T;T["Mxm "]=function(){T.call(this,"Mxm ");this.Se=[new f$([12,56],.1,200," px",1,!0),new hN([12,76,1],[[12,93,3],"Circle"])];
this.m7()};T["Mxm "].prototype=new T;T["Mnm "]=function(){T.call(this,"Mnm ");this.Se=[new f$([12,56],.1,200," px",1,!0),new hN([12,76,1],[[12,93,3],"Circle"])];
this.m7()};T["Mnm "].prototype=new T;T.Ofst=function(){T.call(this,"Ofst");this.Se=[new f$([22,4,0],-1024,1024," px"),new f$([22,4,1],-1024,1024," px"),new hN([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.m7()};T.Ofst.prototype=new T;T.Kale=function(){T.call(this,"Kale");this.Se=[new kl("Mirrors",2,20),new kl([12,15],0,360,"\xB0")];
this.m7()};T.Kale.prototype=new T;T.Kale.prototype.EO=function(x,z){z[0]=x.Mirr.v;z[1]=x.MRot.v};T.Kale.prototype.lm=function(x,z){x.Mirr.v=z[0];
x.MRot.v=z[1]};T.Rept=function(){T.call(this,"Rept");this.Se=[new kl([12,38],1,300," %"),new kl("Row Shift",-50,50," %"),new kl("Space X",-99,200," %"),new kl("Space Y",-99,200," %"),new dg([4,16,2]),new iY([12,15])];
this.m7()};T.Rept.prototype=new T;T.Rept.prototype.EO=function(x,z){z[0]=x.Scl.v.val;z[1]=x.Rsft.v.val;
z[2]=x.SpcX.v.val;z[3]=x.SpcY.v.val;z[4]=x.SpcC.v;z[5]=[x.Angl.v]};T.Rept.prototype.lm=function(x,z){x.Scl.v.val=z[0];
x.Rsft.v.val=z[1];x.SpcX.v.val=z[2];x.SpcY.v.val=z[3];x.SpcC.v=z[4];x.Angl.v=z[5][0];return x};T.Ctoa=function(){T.call(this,"Ctoa");
this.Se=[new eX([13,0]),new aD(!0),new f$(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new f$(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.m7()};T.Ctoa.prototype=new T;T.Ctoa.prototype.EO=function(x,z){z[0]=x.Clr.v;z[1]=x.Trsp.v.val;z[2]=x.Opct.v.val};
T.Ctoa.prototype.lm=function(x,z){x.Clr.v=z[0];x.Trsp.v.val=z[1];x.Opct.v.val=z[2]};T.LqFy=function(){T.call(this,"LqFy");
this.mk=!1;this.LQ=!1;this.Ty=null;this.aod=null;this.k=0;this.uo=-1;this.T={i1:[[{k:{id:0,name:[24,1,0,1,0],jI:"liq/smudge"}}],[{k:{id:1,name:[24,1,0,1,1],jI:"liq/reconstruct"}}],[{k:{id:2,name:[24,1,0,1,2],jI:"liq/smooth"}}],[{k:{id:3,name:[24,1,0,1,3],jI:"liq/twirl"}}],[{k:{id:4,name:[24,1,0,1,4],jI:"liq/shrink"}}],[{k:{id:5,name:[24,1,0,1,5],jI:"liq/blow"}}],[{k:{id:6,name:[24,1,0,1,6],jI:"liq/pleft"}}],[{k:{id:7,name:"Hand",jI:"tools/hand"}}],[{k:{id:8,name:"Zoom In",jI:"zoomIn"}}],[{k:{id:9,name:"Zoom Out",jI:"zoomOut"}}]],keys:[]};
this.oS=new iK(this.T,!1);this.oS.EP(0);this.oS.W(G.E.Y,this.apX,this);this.GY=bz.K2();this.$V=null;
this.Wx=[];this.Fl=-1;this.DD=null;this.a1t=null;this.Ma=null;this.TF=null;this.vq=null;var x=I.z("div","flexrow");
this.Uy=x;this.e.appendChild(x);x.appendChild(this.oS.e);this.view=new fu(!0);this.view.a0(100,100);
this.view.W("mousedown",this.XP,this);this.view.W("mousemove",this.ss,this);this.view.W("mouseup",this.rP,this);
this.view.W("zoom",this.k2,this);x.appendChild(this.view.e);var z=I.z("div","form");x.appendChild(z);
this.O_=z;z.style.width="230px";this.ER=[new f$([12,14,0],0,1e3,null,!1,!0),new f$([12,74],0,100,null,!1,!1),new f$([12,84],0,100,null,!1,!1),new dg([12,46]),new f$([12,0],0,100,null,!1,!1),new dg([24,18,5])];
var A=this.GY.Brsh.v;A.Dmtr.v.val=100;var o=[100,50,100,!1,100,!0];for(var F=0;F<this.ER.length;F++){var i=this.ER[F];
i.b(o[F]);if(F==4)i.vb();i.W(G.E.o,this.a8Y,this);z.appendChild(i.e)}var L=this.avl=new eI([1,12,2],!0,null,!0);
L.W("click",this.YT,this);z.appendChild(L.e);this.al1=this.ZN.bind(this);this.Qb=new a0;this.Qb.e=I.z("div","floatcont");
this.rA=new eI("Menu",!1,null,!0);var B=this.rA.e;B.setAttribute("style","position:absolute; right:13px; top:47px");
I.Zs(B,this.a4A.bind(this))};T.LqFy.prototype=new T;T.LqFy.prototype.Xx=function(){return!0};T.LqFy.prototype.A$=function(x){this.O_.appendChild(x)};
T.LqFy.prototype.a4A=function(x){if(I.gX(this.Qb.e))return;x.stopPropagation();var z=this.rA.e.getBoundingClientRect();
this.Qb.e.appendChild(this.O_);var A=new fZ(G.E.Y,!0);A.data={d:G.U.Sc,oM:this.Qb,x:z.right+z.width-290,y:z.top+z.height};
this.c(A)};T.LqFy.prototype.R0=function(x){this.mk=x.A(bJ.yU);var z=Q.sg.Bb(this.GY,x);if(z!=null){this.GY=z;
this.k2();this.ER[0].b(z.Brsh.v.Dmtr.v.val)}else if(x.A(bJ.RI)&&x.A(bJ.CK)){var A=this.Wx;if(x.A(bJ.xb)){if(this.Fl+1<A.length)this.Fl++}else if(this.Fl>0)this.Fl--;
this.$V.map=A[this.Fl].slice(0);this.Ta(null)}else if(this.k<=6)this.view.R0(x);var o=this.k,i=-1,L=x.A(bJ.yU);
if(L&&this.uo==-1){if(o==0)i=1;if(o==4)i=5;if(o==5)i=4;if(i!=-1)this.uo=o}if(!L&&this.uo!=-1){i=this.uo;
this.uo=-1}if(i!=-1){this.k=i;this.oS.EP(this.k)}};T.LqFy.prototype.apX=function(x){if(x.data.d==G.U.hV){var z=this.k=x.data.k;
this.oS.EP(this.k);this.view.R0(z>6?fu.apE(z-7):new bJ)}};T.LqFy.prototype.a8Y=function(x){var z=x.currentTarget,F=this.ER.indexOf(z),A=this.GY.Brsh.v;
if(F==0){A.Dmtr.v.val=z.L();this.k2()}this.ER[4].dU(this.ER[3].L());if(F>2)this.Ta(null)};T.LqFy.prototype.Xz=function(){var x=this.Wx;
this.Fl++;x[this.Fl]=this.$V.map.slice(0);while(x.length>this.Fl+1)x.pop();while(x.length>50){x=x.slice(1);
this.Fl--}};T.LqFy.prototype.XP=function(x){this.Ty=this.view.Sq();this.aod=new iL(0,0);this.LQ=!0;window.requestAnimationFrame(this.al1)};
T.LqFy.prototype.ss=function(x){var z=this.view.Sq(),A=new iL(z.x-this.Ty.x,z.y-this.Ty.y);if(this.k==0||this.k==6)this.awL(A);
this.Ty=z};T.LqFy.prototype.rP=function(x){this.Xz();this.LQ=!1};T.LqFy.prototype.ZN=function(x){if(this.k!=0&&this.k!=6)this.awL(new iL(0,0));
if(this.LQ)window.requestAnimationFrame(this.al1)};T.LqFy.prototype.awL=function(x){var z=this.$V,A=z.GM/this.DD.m,o=this.Ty,i=this.GY.Brsh.v,L=i.Dmtr.v.val,B=Date.now(),D=z.GM,Z=z.zp,j=Math.sqrt(x.x*x.x+x.y*x.y),a=Math.max(1,Math.ceil(j/2)),b=x.x/a,W=x.y/a,c=o.clone(),Y=this.k,R=this.ER[1].L()/100,$=this.ER[2].L()/100,k=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],w=k[Y*2],V=k[Y*2+1],h=(1-R)*w+R*V,l=L*A/2;
for(var F=0;F<a;F++){var M=[];c.x+=b;c.y+=W;f.RG.ab8(z.map,D,Z,Y,c.x*A,c.y*A,l,R,$,b*A,W*A,M,this.mk);
f.RG.am9(D,Z,z.map,M,2*h*$)}var q=new av(0,0,D,Z),t=new av(o.x*A,o.y*A,0,0);t.nw(L*A*.5,L*A*.5);var p=t.clone();
p.offset(x.x*A,x.y*A);t=t.QM(p);var E=new av(t.x/A,t.y/A,t.m/A,t.n/A);E=f.p.u8(E).tE(this.DD);this.ER[5].b(!0);
this.Ta(E)};T.LqFy.prototype.k2=function(){var x=kb.me(this.GY,null,this.view.Bh().X);this.view.lf(x)};
T.LqFy.prototype.b=function(x,z,A,o,i){A=A.clone();if(z==null)return;if(!o.S0(A)){var L=A.QM(o),B=f.C(L.$()*4);
f.mV(z,A,B,L);z=B;A=L;var D=f.C(L.$()*4);f.mV(i,o,D,L);i=D}A.x=A.y=0;this.Ma=z;this.a1t=i;this.vq=z.slice(0);
this.TF=z.slice(0);this.DD=A;this.$V=hc.l6(new Uint8Array(x.LqMe.v).buffer);var Z=A.m,j=A.n;if(this.$V.GM/Z<.22){this.$V={GM:Math.floor(Z/4),zp:Math.floor(j/4)};
this.$V.map=new Float32Array(this.$V.GM*this.$V.zp*2)}this.Wx=[];this.Fl=-1;this.Xz();this.Ta(null);
this.view.SA();this.k2()};T.LqFy.prototype.L=function(){var x=h6.d6("LqFy"),z=new Uint8Array(hc.Im(this.$V)),A=[];
for(var F=0;F<z.length;F++)A.push(z[F]);x.LqMe.v=A;return x};T.LqFy.prototype.a0=function(x,z){this.oS.a0(x,z);
var A=this.rA.e,o=this.O_;this.Uy.appendChild(o);this.Uy.appendChild(A);if(x>450&&x-z>200){o.style.marginLeft="1em";
this.Uy.removeChild(A);this.view.a0(x-238-45,z)}else{o.style.marginLeft="";this.Uy.removeChild(o);this.view.a0(x-40,z)}};
T.LqFy.prototype.N=function(){this.oS.N();this.avl.N();for(var F=0;F<this.ER.length;F++)this.ER[F].N()};
T.LqFy.prototype.YT=function(){this.$V.map.fill(0);this.Xz();this.Ta(null)};T.LqFy.prototype.Ta=function(x){var z=this.DD,A=this.Ma,o=this.vq,i=this.$V;
if(this.ER[5].L())f.RG.AZ(A,this.TF,z.m,z.n,x,i.map,i.GM,i.zp,0);else this.TF.set(A);if(this.ER[3].uj()){f.mV(this.a1t,z,o,z,x?x:z);
f.q.lx("norm",this.TF,z,o,z,x?x:z,this.ER[4].L()/100)}else f.Yy(this.TF,o);this.view.b([{xH:z,data:o.buffer}])};
T.GEfc=function(){T.call(this,"GEfc");this._r=0;this.Ul=0;this.Ma=null;this.vq=null;this.DD=null;this.OQ=null;
this.Wp=null;this.CB=0;var x=I.z("div","flexrow");this.Uy=x;this.e.appendChild(x);this.view=new fu(null);
this.view.a0(100,100);x.appendChild(this.view.e);this.di="";this.NE=270;var z=this.Gf=I.z("div","form scrollable");
x.appendChild(z);z.setAttribute("style","width:"+this.NE+"px;  margin-left:10px");var A=this.md=I.z("div","form");
x.appendChild(A);A.setAttribute("style","width:230px;  margin-left:1em");this.hM={};for(var o in iT.names){var i=new T.GEfc.JS(o);
i.parent=this;this.hM[o]=i;i.W(G.E.o,this.ajq,this)}this.v$=!0;this.rA=new eI("Menu",null,null,!0);this.rA.W("click",this.a2T,this);
x.appendChild(this.rA.e);this.PM=new eI(">>",null,null,!0);this.PM.W("click",this.ax1,this);A.appendChild(this.PM.e);
this.SF=I.z("div");this.SF.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
A.appendChild(this.SF);this.kj=I.z("div");this.kj.style.minHeight="14em";this.kj.style.marginBottom="1em";
A.appendChild(this.kj);this.Us=I.z("div","lpbody scrollable");this.CA=I.z("div","lpfoot");A.appendChild(this.Us);
A.appendChild(this.CA);this.W("click",this.aqS,this);this.nY=[];je.ev([[5,3],[5,4]],this.nY,this.CA,this.sU.bind(this))};
T.GEfc.prototype=new T;T.GEfc.prototype.Xx=function(){return!0};T.GEfc.prototype.A$=function(x){this.SF.appendChild(x)};
T.GEfc.prototype.wB=function(x,z){this.OQ=x};T.GEfc.prototype.ax1=function(x){var z=this.Gf.style.display!="none";
this.Gf.style.display=z?"none":"";this.PM.mB(z?"<<":">>");this.a0()};T.GEfc.prototype.a2T=function(x){this.v$=!this.v$;
this.a0()};T.GEfc.prototype.a0=function(x,z){var A=this.Gf.style.display!="none";if(x!=null){this._r=x;
this.Ul=z;if(x<1e3&&A||x>=1e3&&!A){this.ax1();A=!A}this.v$=x>600}else{x=this._r;z=this.Ul}var o=this.v$?240+(A?this.NE+10:0):0;
if(I.gX(this.md)&&!this.v$){this.Uy.removeChild(this.Gf);this.Uy.removeChild(this.md)}if(!I.gX(this.md)&&this.v$){this.Uy.appendChild(this.Gf);
this.Uy.appendChild(this.md)}this.Gf.style.height=z+"px";this.view.a0(x-o,z);this.Us.style.height=z-this.kj.getBoundingClientRect().height-96+"px";
this.rA.e.setAttribute("style","position:absolute; top:46px;  right:"+(o+16)+"px")};T.GEfc.prototype.a0Y=function(){var x=iF.mR.get("img/beach",!0)[0],z=x.xH,A=this.Gf,o=Math.floor(I.Z()*(this.NE-40)/3),i=~~(o*.7),L=new av(0,0,o,i),B=f.C(o*i*4),D=B.slice(0),Z=Math.round(10*I.Z()),j=new ImageData(new Uint8ClampedArray(D.buffer),o,i);
f.mV(new Uint8Array(x.data),z,B,new av(Math.round((z.m-o)/2),Math.round((z.n-i)/2),o,i));var a=I.z("canvas"),b=a.getContext("2d");
a.width=o;a.height=i+Math.round(Z*1.5);b.font=Z+"px sans-serif";this.yK={};var W=this.aon.bind(this);
for(var F=0;F<iT.uM.length;F++){var c=iT.uM[F],Y=I.z("div");A.appendChild(Y);Y.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
Y.textContent=kc.get(c);for(var R in iT.names){var $=iT.names[R];if($[0]!=F)continue;iT.$B(R,{rect:L,buffer:B},iT.d6(R),{w:0,a:0,s:0},{w:255,a:255,s:255},{rect:L,buffer:D},{});
b.fillStyle="black";b.fillRect(0,0,500,500);b.putImageData(j,0,0);var k=kc.get($[1]);b.fillStyle="white";
b.fillText(k,(o-b.measureText(k).width)/2,i+Math.round(Z*1.1));var w=I.z("div");A.appendChild(w);w.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
w.addEventListener("click",W,!1);var Y=I.z("img");w.appendChild(Y);Y.setAttribute("src",a.toDataURL());
Y.setAttribute("style","width:"+o/I.Z()+"px; margin-bottom:0px;");this.yK[R]=w}}};T.GEfc.prototype.aon=function(x){var z;
for(var A in this.yK)if(this.yK[A]==x.currentTarget)this.di=A;this.ajq()};T.GEfc.prototype.sU=function(x){var z=je.fv(this.nY,x),A=this.Wp.GEfs.v,o=A[this.CB].v;
if(z==0){A.push(JSON.parse(JSON.stringify(A[this.CB])));this.CB=A.length-1}else if(A.length>1){A.splice(this.CB,1);
if(this.CB==A.length)this.CB--}this.Vg();this.Ta()};T.GEfc.prototype.ajq=function(x){var z=this.di,A;
if(x==null)A=iT.d6(z);else A=this.hM[z].L();this.Wp.GEfs.v[this.CB].v=A;this.Vg();this.Ta()};T.GEfc.prototype.b=function(x,z,A,o,i){if(this.yK==null)this.a0Y();
x=this.Wp=JSON.parse(JSON.stringify(x));if(x.GEfs==null)x=this.Wp={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:x}]}};
var L=x.GEfs.v;for(var F=0;F<L.length;F++)if(L[F].v.GELv==null)L[F].v.GELv={t:"bool",v:!0};this.CB=L.length-1;
this.Vg();A=A.clone();if(z==null)return;if(!o.S0(A)&&iT.BK(x).x!=0){var B=A.QM(o),D=f.C(B.$()*4);f.mV(z,A,D,B);
z=D;A=B}A.x=A.y=0;this.Ma=z;this.vq=z.slice(0);this.DD=A;this.Ta();this.view.SA()};T.GEfc.prototype.aqS=function(x){var z=x.data,F=z.dD,A=this.Wp.GEfs.v;
if(z.jB){A[F].v.GELv.v=!A[F].v.GELv.v;this.Ta()}else this.CB=F;this.Vg()};T.GEfc.prototype.Vg=function(){var x=this.Wp.GEfs.v,z=x[this.CB].v,A=z.GEfk.v.GEft,o=this.kj;
if(iT.names[A]==null){alert("Unsupported gallery filter");I.Uv(o)}else{this.di=A;for(var i in this.yK)I.wi(this.yK[i],"selected");
I.ho(this.yK[A],"selected");var L=this.hM[A];L.b(z);if(o.firstChild!=L.e){I.Uv(o);o.appendChild(L.e)}}var B=[];
for(var F=0;F<x.length;F++){var D=x[F].v,Z=iT.names[D.GEfk.v.GEft],j=new hw(F,!0,!0,null,Z?Z[1]:"Filter",F==this.CB,D.GELv.v);
j.parent=this;B.push(j.e)}I.Uv(this.Us);B.reverse();for(var F=0;F<B.length;F++)this.Us.appendChild(B[F]);
this.a0()};T.GEfc.prototype.L=function(){return JSON.parse(JSON.stringify(this.Wp))};T.GEfc.prototype.Ta=function(x){var z=this.DD,A=this.Ma,o=this.vq,i=this.di,L=this.Wp,B=this.OQ;
function D(Z){return{w:Z>>>16,a:Z>>>8&255,s:Z&255}}h6.$B("GEfc",{rect:this.DD,buffer:this.Ma},L,D(B.VJ),D(B.GN),{rect:this.DD,buffer:this.vq},null);
this.view.b([{xH:z,data:o.buffer}])};T.GEfc.prototype.N=function(){for(var x in this.hM)this.hM[x].N();
je.Fk(this.nY,["lrs/newlayer","lrs/bin"])};T.GEfc.JS=function(x){a0.call(this);this.x6=x;this.e=I.z("div");
this.r6={};var z=iT.d6(x);for(var A in z){var o=null;if(A=="__name"||A=="classID"||A=="GEfk"||A=="GELv"||["FlRs"].indexOf(A)!=-1)continue;
else if(A=="EdgW")o=new f$("Edge Width",1,14);else if(A=="EdgB")o=new f$("Edge Brightness",0,x=="AccE"?50:20);
else if(A=="Smth")o=new f$([19,3,3],1,x=="Stmp"?50:15);else if(A=="ClSz")o=new f$([12,61],3,100);else if(A=="BrdT")o=new f$([7,9],1,20);
else if(A=="HghS")o=new f$([12,64],0,20);else if(A=="HlSz")o=new f$([12,14,0],1,15);else if(A=="Cntr")o=new f$([12,3,0],0,x=="WtrP"?100:50);
else if(A=="Shrp")o=new f$("Sharpness",0,40);else if(A=="SprR")o=new f$("Spray Radius",0,25);else if(A=="LgDr")o=new f$("Light/Dark Balance",0,x=="Stmp"?50:100);
else if(A=="Drkn")o=new f$("Darkness",1,50);else if(A=="Dstr")o=new f$("Distortion",0,20);else if(A=="Scln")o=new f$([12,38],50,200);
else if(A=="Rlf")o=new f$("Relief",0,x=="Ptch"||x=="NtPr"?25:50);else if(A=="ChAm")o=new f$("Thickness",1,7);
else if(A=="Pncl")o=new f$([19,2,5],1,30);else if(A=="StrP")o=new f$("Stroke Pressure",0,15);else if(A=="PprB")o=new f$("Paper Brightness",0,50);
else if(A=="BrsS")o=new f$("Brush Size",0,10);else if(A=="BrsD")o=new f$("Brush Detail",0,10);else if(A=="Txtr")o=new f$([12,67],1,3);
else if(A=="Grn")o=new f$("Grain",0,20);else if(A=="HghA")o=new f$("Highlight Area",0,20);else if(A=="Intn")o=new f$("Intensity",0,10);
else if(A=="Brgh")o=new f$("Glow Brightness",0,x=="WtrP"?100:50);else if(A=="StrS")o=new f$("Stroke Size",1,50);
else if(A=="StDt")o=new f$("Stroke Detail",1,3);else if(A=="Sftn")o=new f$("Softness",0,10);else if(A=="EdgT")o=new f$("Edge Thickness",0,10);
else if(A=="EdgI")o=new f$("Edge Intensity",0,10);else if(A=="Pstr")o=new f$("Posterization",0,6);else if(A=="Dfnt")o=new f$("Definition",0,25);
else if(A=="TxtC")o=new f$("Texture Coverage",0,50);else if(A=="ShdI")o=new f$("Shadow Intensity",0,10);
else if(A=="DrcB")o=new f$("Direction Balance",0,100);else if(A=="Strg")o=new f$([12,64],1,3);else if(A=="Blnc")o=new f$("Balance",0,10);
else if(A=="BlcI")o=new f$("Black Intensity",0,10);else if(A=="WhtI")o=new f$("White Intensity",0,10);
else if(A=="DrkI")o=new f$("Dark Intensity",0,50);else if(A=="LghI")o=new f$("Light Intensity",0,50);
else if(A=="StrW")o=new f$("Stroke Width",3,15);else if(A=="Grns")o=new f$("Graininess",0,x=="NtPr"?20:10);
else if(A=="GlwA")o=new f$("Glow Amount",0,20);else if(A=="ClrA")o=new f$("Clear Amount",0,20);else if(A=="ChrA")o=new f$("Charcoal Area",0,20);
else if(A=="ChlA")o=new f$("Chalk Area",0,20);else if(A=="FrgL")o=new f$("Foreground Level",1,15);else if(A=="BckL")o=new f$("Background Level",1,15);
else if(A=="WhtL")o=new f$("Background Level",0,50);else if(A=="BlcL")o=new f$("Foreground Level",0,50);
else if(A=="ImgB")o=new f$("Image Balance",0,50);else if(A=="Dnst")o=new f$([12,74],0,50);else if(A=="FbrL")o=new f$("Fiber Length",3,50);
else if(A=="CrcS")o=new f$("Crack Sapcing",2,100);else if(A=="CrcD")o=new f$("Crack Depth",0,10);else if(A=="CrcB")o=new f$("Crack Brightness",0,10);
else if(A=="TlSz")o=new f$("Tile Size",2,100);else if(A=="GrtW")o=new f$("Grout Width",1,15);else if(A=="LghG")o=new f$("Lighten Grout",0,10);
else if(A=="SqrS")o=new f$("Square Size",0,10);else if(A=="RplS")o=new f$("Ripple Size",1,15);else if(A=="RplM")o=new f$("Ripple Magnitude",0,20);
else if(A=="NmbL")o=new f$("Number of Levels",2,8);else if(A=="EdgS")o=new f$("Edge Simplicity",0,10);
else if(A=="EdgF")o=new f$("Edge Fidelity",1,3);else if(A=="Sz")o=x=="NGlw"?new f$("Glow Size",-24,24):new f$("Brush Size",1,50);
else if(A=="Dtl")o=x=="Chrc"?new f$("Detail",0,5):new f$("Detail",1,15);else if(A=="StrL")o=x=="InkO"?new f$("Stroke Length",1,50):new f$("Stroke Length",0,20);
else if(A=="TxtT")o=new hN([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(A=="BrsT")o=new hN("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(A=="Grnt")o=new hN("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(A=="SDir")o=new hN([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(A=="ScrT")o=new hN([12,62],["Circle","Dot",[10,35]]);
else if(A=="LghD"||A=="LghP")o=new hN("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(A=="Clr")o=new aD("Glow Color");else if(A=="InvT")o=new dg([4,11]);else console.log(A);o.W(G.E.o,this.yj,this);
o.parent=this;this.r6[A]=o;this.e.appendChild(o.e)}};T.GEfc.JS.prototype=new a0;T.GEfc.JS.prototype.yj=function(x){this.c(new fZ(G.E.o,!1))};
T.GEfc.aqK="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
T.GEfc.JS.prototype.b=function(x){for(var z in this.r6){var A;if(T.GEfc.aqK.indexOf(z)!=-1)A=x[z].v;
else if(z=="TxtT")A=iT.sw.indexOf(x[z].v[z]);else if(z=="BrsT")A=iT.a6m.indexOf(x[z].v[z]);else if(z=="LghD")A=iT.hy.indexOf(x[z].v[z]);
else if(z=="LghP")A=iT.QL.indexOf(x[z].v[z]);else if(z=="Grnt")A=iT.QA.indexOf(x[z].v[z]);else if(z=="ScrT")A=iT.Fr.indexOf(x[z].v[z]);
else if(z=="SDir")A=iT.r3.indexOf(x[z].v.StrD);this.r6[z].b(A)}};T.GEfc.JS.prototype.L=function(){var x=iT.d6(this.x6);
for(var z in this.r6){var A=this.r6[z].L();if(T.GEfc.aqK.indexOf(z)!=-1)x[z].v=A;else if(z=="TxtT")x[z].v[z]=iT.sw[A];
else if(z=="BrsT")x[z].v[z]=iT.a6m[A];else if(z=="LghD")x[z].v[z]=iT.hy[A];else if(z=="LghP")x[z].v[z]=iT.QL[A];
else if(z=="Grnt")x[z].v[z]=iT.QA[A];else if(z=="ScrT")x[z].v[z]=iT.Fr[A];else if(z=="SDir")x[z].v.StrD=iT.r3[A]}return x};
T.GEfc.JS.prototype.N=function(){for(var x in this.r6)this.r6[x].N()};T.blnc=function(){T.call(this);
var x=this.e;this.V8=null;this.Hr=new hN([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.Hr.W(G.E.o,this.Ta,this);
x.appendChild(this.Hr.e);this.zS=[];for(var F=0;F<3;F++){var z=new f$(ei.$h[F],-100,100);z.W(G.E.o,this.AE,this);
this.zS.push(z);x.appendChild(z.e)}this.WD=new dg([13,4]);this.WD.W(G.E.o,this.AE,this);x.appendChild(this.WD.e)};
T.blnc.prototype=new T;T.blnc.prototype.N=function(){this.Hr.N();for(var F=0;F<3;F++)this.zS[F].N();
this.WD.N()};T.blnc.prototype.b=function(x){this.V8=JSON.parse(JSON.stringify(x));this.Ta()};T.blnc.prototype.L=function(x){var z=["ShdL","MdtL","HghL"],A=this.V8[z[this.Hr.L()]].v;
for(var F=0;F<3;F++)A[F].v=this.zS[F].L();this.V8.PrsL.v=this.WD.L();return JSON.parse(JSON.stringify(this.V8))};
T.blnc.prototype.Ta=function(x){var z=["ShdL","MdtL","HghL"],A=this.V8[z[this.Hr.L()]].v;for(var F=0;
F<3;F++)this.zS[F].b(A[F].v);this.WD.b(this.V8.PrsL.v)};T.brit=function(){T.call(this,"brit");this.Se.push(new f$([12,2],-150,150,""));
this.Se.push(new f$([12,3,0],-100,100,""));this.Se.push(new dg([12,3,1]));this.m7()};T.brit.prototype=new T;
T.brit.prototype.EO=function(x,z){z[0]=x.Brgh?x.Brgh.v:0;z[1]=x.Cntr?x.Cntr.v:0;z[2]=x.useLegacy?x.useLegacy.v:!1};
T.brit.prototype.lm=function(x,z){x.Brgh.v=z[0];x.Cntr.v=z[1];x.useLegacy.v=z[2]};T.curv=function(){T.call(this);
this.value=null;this.MN=null;var x=this.e;this.Hp=new hN([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Hp.W(G.E.o,this.SN,this);x.appendChild(this.Hp.e);this.mo=new hN(null,["Spline","Sketch"]);this.mo.W(G.E.o,this.amO,this);
x.appendChild(this.mo.e);this.vV=new ce;this.vV.parent=this;this.vV.W(G.E.o,this.gU,this);x.appendChild(this.vV.e);
I.iw(x);this.hk=new fI;this.hk.W(G.E.o,this.Vc,this);x.appendChild(this.hk.e);this.yd=null;this.ajf=0;
this.XI=0;I.iw(x);this.ko=new i4("Sample from image",i6.ZO(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.ko.W(G.E.o,this.MC,this);this.ko.e.style.marginRight="0";x.appendChild(this.ko.e)};T.curv.prototype=new T;
T.curv.prototype.a0=function(x,z){this.hk.a0(x,z)};T.curv.prototype.N=function(){this.Hp.N()};T.curv.prototype.amO=function(x){var z=e8.FL(this.value,0),A=z.length==256?1:0,o=this.mo.L();
if(A==o)return;var i=h6.d6("curv");if(o==1){var L=[];for(var F=0;F<256;F++)L.push(F);e8.D3(i,0,L)}this.b(i);
this.AE()};T.curv.prototype.Vc=function(){e8.D3(this.value,this.Hp.L(),this.hk.L());this.AE()};T.curv.prototype.SN=function(){var x=this.Hp.L(),z=e8.FL(this.value,x),A=z.length==256?1:0;
this.mo.b(A);if(this.MN)this.hk.qp(this.MN[x],this.MN[4]*[1,.33,.33,.33][x],["#ccc","#fcc","#cfc","#ccf"][x]);
this.hk.b(z)};T.curv.prototype.Jb=function(){return!0};T.curv.prototype.Xv=function(x,z,A,o,i){var L=this.value;
this.value=h6.d6("curv");this.AE();var B=Q.S5.Sh(x,i,1),D=this.yd=[B>>>16&255,B>>>8&255,B&255];this.ajf=i.y;
var Z=this.ko.L().indexOf(!0);if(Z==0){var j=(D[0]+D[1]+D[2])/3,a=this.Hp.L(),b=e8.FL(L,a),W=a==0?j:D[a-1],c=-1;
for(var F=0;F<b.length;F++)if(b[F].v.Hrzn.v==W)c=F;if(c==-1){var Y=JSON.parse(JSON.stringify(b[0]));
Y.v.Hrzn.v=W;Y.v.Vrtc.v=W;b.push(Y);b.sort(function(R,$){return R.v.Hrzn.v-$.v.Hrzn.v});e8.D3(L,a,b);
this.XI=b.indexOf(Y)}else this.XI=c}this.b(L);this.AE()};T.curv.prototype.Dg=function(x,z,A,o,i){if(this.yd==null)return;
if(this.ko.L().indexOf(!0)==0){var L=this.value,B=this.Hp.L(),D=e8.FL(L,B),Z=D[this.XI];Z.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(Z.v.Hrzn.v+(this.ajf-i.y))));
e8.D3(L,B,D);this.b(L);this.AE()}};T.curv.prototype.V4=function(x,z,A,o,i){var L=this.value,B=this.yd,D=(B[0]+B[1]+B[2])/3,Z=this.ko.L().indexOf(!0)-1;
if(Z<=-1){}else for(var F=0;F<3;F++){var j=e8.FL(L,1+F);if(Z==0)j[0].v.Hrzn.v=B[F];if(Z==1){var a=Math.log(B[F]/255)/Math.log(D/255),b=Math.min(999,Math.max(10,Math.round(100*a)));
if(j.length==2)j.splice(1,0,JSON.parse(JSON.stringify(j[0])));j[1].v.Hrzn.v=127-Math.log(b/100)*127;
j[1].v.Vrtc.v=127}if(Z==2)j[j.length-1].v.Hrzn.v=B[F];e8.D3(L,1+F,j)}this.b(L);this.AE();this.yd=null};
T.curv.prototype.b=function(x){this.value=x;this.SN()};T.curv.prototype.qp=function(x){this.MN=x;this.SN()};
T.curv.prototype.L=function(x){return JSON.parse(JSON.stringify(this.value))};T.curv.prototype.gU=function(){var x=this.vV.L(),z=this.MN,A=this.value,o=f.OC(x,z);
for(var F=0;F<4;F++){var i=o[F][0],L=o[F][1],B=o[F][2],D=[f.tt.pf(i,0,!0),f.tt.pf(L,255,!0)];if(B!=null)D.splice(1,0,f.tt.pf(128,B,!0));
e8.D3(A,F,D)}this.SN();this.AE()};T.expA=function(){T.call(this,"expA");this.Se.push(new f$([12,5],-20,20,null,2,!0));
this.Se.push(new f$([12,6],-.5,.5,null,2));this.Se.push(new f$([12,7],.01,9.99,null,2,!0));this.m7()};
T.expA.prototype=new T;T.expA.prototype.EO=function(x,z){z[0]=x.Exps.v;z[1]=x.Ofst?x.Ofst.v:0;z[2]=x.gammaCorrection?x.gammaCorrection.v:1};
T.expA.prototype.lm=function(x,z){x.Exps={t:"doub",v:z[0]};x.Ofst={t:"doub",v:z[1]};x.gammaCorrection={t:"doub",v:z[2]}};
T.grdm=function(){T.call(this,"grdm");this.Se.push(new eD(!0,null,!0));this.Se.push(new dg([12,23,0]));
this.m7()};T.grdm.prototype=new T;T.grdm.prototype.EO=function(x,z){z[0]=x.Grad.v;z[1]=x.Rvrs?x.Rvrs.v:!1};
T.grdm.prototype.lm=function(x,z){x.Grad.v=z[0];x.Rvrs={t:"bool",v:z[1]}};T.grdm.prototype.wB=function(x,z){this.Se[0].sA(x.VJ,x.GN);
if(z==cu._j||z==cu.NV||z==cu.HF)this.Se[0].VT(x.Po)};T.selc=function(){T.call(this);var x=this.e;this.xs=[];
this.IW=null;this.Hr=new hN([12,82],ei.oC.concat([[13,1,8],[13,1,13],[13,1,10]]));this.Hr.W(G.E.o,this.yj,this);
x.appendChild(this.Hr.e);I.iw(x);for(var F=0;F<4;F++){var z=new f$(ei.asz[F],-100,100,"%");z.W(G.E.o,this.yj,this);
this.xs.push(z);x.appendChild(z.e)}this.lA=new dg([13,3]);x.appendChild(this.lA.e);this.lA.W(G.E.o,this.yj,this)};
T.selc.prototype=new T;T.selc.prototype.N=function(){this.Hr.N();this.lA.N();for(var F=0;F<4;F++)this.xs[F].N()};
T.selc.prototype.b=function(x){this.IW=JSON.parse(JSON.stringify(x));this.Ta()};T.selc.prototype.L=function(x){return JSON.parse(JSON.stringify(this.IW))};
T.selc.prototype.yj=function(x){if(x.target!=this.Hr){var z=this.IW,A=[];for(var F=0;F<4;F++)A[F]=this.xs[F].L();
cp.D3(z,this.Hr.L(),A);z.Mthd={t:"enum",v:{CrcM:this.lA.L()?"Absl":"Rltv"}}}this.Ta();this.AE()};T.selc.prototype.Ta=function(){var x=this.IW,z=cp.FL(x,this.Hr.L());
for(var F=0;F<4;F++)this.xs[F].b(z[F]);this.lA.b(x.Mthd?x.Mthd.v.CrcM=="Absl":!1)};T.blwh=function(){T.call(this,"blwh");
this.Se.push(new dg([12,11]));this.Se.push(new aD(!0));for(var F=0;F<6;F++)this.Se.push(new f$(ei.oC[F],-200,300));
this.m7()};T.blwh.prototype=new T;T.blwh.prototype.EO=function(x,z){z[0]=x.useTint.v;z[1]=x.tintColor.v;
var A="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var F=0;F<6;F++)z[2+F]=x[A[F]].v};T.blwh.prototype.lm=function(x,z){x.useTint.v=z[0];
x.tintColor.v=z[1];var A="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var F=0;F<6;F++)x[A[F]].v=z[2+F]};
T.hue2=function(){T.call(this);this.value=null;this.jz=null;this.a31=null;this.eY=[[0,0,0],[0,50,0]];
var x=this.e;this.ko=new i4(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.ko.W(G.E.o,this.auO,this);this.ko.W(G.E.o,this.MC,this);x.appendChild(this.ko.e);this.Hr=new hN([12,12],["Master"].concat(ei.oC));
this.Hr.W(G.E.o,this.SN,this);x.appendChild(this.Hr.e);this.ia=new f$([12,8],-180,180);this.ia.W(G.E.o,this.Sx,this);
x.appendChild(this.ia.e);this.fm=new f$([12,9],-100,100);this.fm.W(G.E.o,this.Sx,this);x.appendChild(this.fm.e);
this.U1=new f$([12,10],-100,100);this.U1.W(G.E.o,this.Sx,this);x.appendChild(this.U1.e);this.o4=new dg([12,11]);
this.o4.W(G.E.o,this.Sx,this);x.appendChild(this.o4.e);this.CO=new i4("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.CO.W(G.E.o,this.auO,this);this.CO.W(G.E.o,this.MC,this);this.CO.e.style.marginLeft="20px";x.appendChild(this.CO.e);
this.Z0=I.z("div");x.appendChild(this.Z0);this.Tv=this.uB.bind(this);this.Lz=this.zc.bind(this);this.I=I.z("canvas");
this.E4=this.I.getContext("2d");this.ND=null;I.MX(this.I);I.IX(this.I,282,18);x.appendChild(this.I);
I.Zs(this.I,this.qc.bind(this))};T.hue2.prototype=new T;T.hue2.prototype.a0=function(x,z){I.IX(this.I,Math.round(x),18);
if(this.value)this.SN()};T.hue2.prototype.auO=function(x){var z=x.target.L().indexOf(!0);if(z==-1)return;
if(x.target==this.ko)this.CO.b([!1,!1,!1]);else this.ko.b([!1,!1,!1])};T.hue2.prototype.qc=function(x){if(this.Hr.L()==0||this.o4.L())return;
var z=I.Ki(x,this.I).x/(this.I.width/I.Z()),L=1e6;function A(b,W,c){return b<W&&W<c||c<b&&(b<W||W<c)}var o=this.Sn(),i=-1;
for(var F=0;F<4;F++){var B=Math.abs(z-(o[F]+F*1e-5));if(B<L){L=B;i=F}}if(L>.025){i=-1;var D=o[0],Z=o[1],j=o[2],a=o[3];
if(A(D,z,Z))i=4;if(A(Z,z,j))i=5;if(A(j,z,a))i=6}if(i==-1)return;this.ND=i;I.Ss(document.body,this.Tv);
I.ek(document.body,this.Lz)};T.hue2.prototype.uB=function(x){var z=I.Ki(x,this.I).x/(this.I.width/I.Z()),A=this.Sn(),o=this.ND;
for(var F=1;F<4;F++)if(A[F]<A[F-1]){A[F]+=1}if(o<4){var i=1e6,L=0;for(var F=-20;F<20;F++){var B=Math.abs(A[o]-(z+F));
if(B<i){i=B;L=F}}z+=L;A[o]=z;for(var F=o+1;F<4;F++)if(A[F]<A[F-1]){A[F]=A[F-1]}for(var F=o-1;F>=0;F--)if(A[F]>A[F+1]){A[F]=A[F+1]}}else{var D=z-(A[o-4]+A[o-3])/2;
if(D<-.5)D+=1;if(o==4){A[0]+=D;A[1]+=D;A[2]=Math.max(A[1],A[2]);A[3]=Math.max(A[1],A[3])}if(o==5)for(var F=0;
F<4;F++)A[F]+=D;if(o==6){A[2]+=D;A[3]+=D;A[0]=Math.min(A[0],A[2]);A[1]=Math.min(A[1],A[2])}}for(var F=1;
F<4;F++)if(A[F]<A[F-1])throw"e";this.auo(A);this.SN();this.AE()};T.hue2.prototype.zc=function(x){I.va(document.body,this.Tv);
I.K9(document.body,this.Lz)};T.hue2.prototype.N=function(){this.ia.N();this.fm.N();this.U1.N();this.o4.N();
this.Hr.N()};T.hue2.prototype.Sx=function(x){var z=this.value.Clrz.v=this.o4.L();if(z)this.Hr.b(0);if(x&&x.target==this.o4){var A=z?1:0;
this.eY[1-A]=cA.FL(this.value,0);var o=this.eY[A];cA.D3(this.value,0,o);if(this.Hr.L()==0){this.ia.b(o[0]);
this.fm.b(o[1]);this.U1.b(o[2])}}var i=this.Hr.L(),L=cA.FL(this.value,i),o=i==0?L:L.zS;o[0]=this.ia.L();
var B=this.fm.L();o[1]=z?Math.max(0,B):B;o[2]=this.U1.L();cA.D3(this.value,i,L);this.SN();this.AE()};
T.hue2.prototype.SN=function(){var x=this.Hr.L(),z=this.value.Clrz?this.value.Clrz.v:!1;this.o4.b(z);
this.Hr.dU(!z);this.CO.dU(!z&&x!=0);var A=cA.FL(this.value,x),o=x==0?A:A.zS;this.ia.b(o[0]);this.fm.b(o[1]);
this.U1.b(o[2]);var i=this.I.width,L=this.I.height,B=this.E4;B.clearRect(0,0,i,L);if(z||x==0){this.Z0.innerHTML="";
return}var D=A.eL;this.Z0.innerHTML=D[0]+"\xB0 / "+D[1]+"\xB0<span style=\"float:right\">"+D[2]+"\xB0 \\ "+D[3]+"\xB0</span>";
var Z=f.C(i*4);hl.ajm(Z,1,i,-1,.5);var j=new ImageData(new Uint8ClampedArray(Z.buffer),i,1),a=Math.round(L/4);
for(var F=0;F<a;F++)B.putImageData(j,0,F);function b(k,w,V){B.fillStyle=V;var h=a*2;if(k<=w)B.fillRect(k*i,h,(w-k)*i,a);
else{B.fillRect(0,h,w*i,a);B.fillRect(k*i,h,(1-k)*i,a)}}var W=this.Sn();b(W[0],W[1],"#888888");b(W[1],W[2],"#cccccc");
b(W[2],W[3],"#888888");B.fillStyle="#ffffff";B.lineWidth=1;B.beginPath();var c=a+.5,Y=4*a+.5;for(var F=0;
F<4;F++){var R=Math.floor(i*W[F])+.5,$=(F<2?-1:1)*a*(F==1||F==2?1:2);B.moveTo(R,c);B.lineTo(R,Y);B.lineTo(R+$,Y);
B.lineTo(R+$,a+a+.5);B.closePath()}B.fill();B.stroke()};T.hue2.prototype.Sn=function(){var x=this.Hr.L(),z=cA.FL(this.value,x).eL;
for(var F=0;F<4;F++)z[F]=(1000.5+z[F]/360)%1;return z};T.hue2.prototype.auo=function(x){var z=this.Hr.L(),A=cA.FL(this.value,z);
for(var F=0;F<4;F++)A.eL[F]=Math.round(36e3+(x[F]-.5)*360)%360;cA.D3(this.value,z,A)};T.hue2.prototype.Jb=function(){return!0};
T.hue2.prototype.acA=function(){var x=this.ko.L().indexOf(!0),z=this.CO.L().indexOf(!0);return x!=-1?x:z!=-1?z+1:-1};
T.hue2.prototype.Xv=function(x,z,A,o,i){var L=this.acA();if(L==-1)return;var B=this.value;this.value=h6.d6("hue2");
this.AE();var D=Q.S5.Sh(x,i,1);this.b(B);var Z=[D>>>16&255,D>>>8&255,D&255],j=f._$(Z[0]/255,Z[1]/255,Z[2]/255);
if(L==0){this.Hr.b(1+Math.round(j.zp*6)%6)}else{var a=this.Sn(),b=.5+j.zp,W=1/12,c=a[1],Y=a[2];if(Y<c){Y++;
if(b<c&&b+1-Y<c-b)b++}var R=c<=b&&b<=Y;if(L==1){c=b-W/2;Y=b+W/2}else if(L==2&&!R){c=Math.min(b,c);Y=Math.max(b,Y)}else if(L==3&&R){if(b-c<Y-b)c=b;
else Y=b}a=[c-W,c,Y,Y+W];this.auo(a)}this.AE();this.jz=i.x;this.a31=this.fm.L()};T.hue2.prototype.Dg=function(x,z,A,o,i){var L=this.acA();
if(L==-1)return;if(L==0){if(this.jz!=null){var B=i.x-this.jz;B=Math.max(-100,Math.min(100,this.a31+.5*B));
this.fm.b(B);this.Sx()}}};T.hue2.prototype.V4=function(x,z,A,o,i){this.jz=null};T.hue2.prototype.b=function(x){this.value=JSON.parse(JSON.stringify(x));
var z=this.value.Clrz?this.value.Clrz.v:!1;this.eY[z?1:0]=cA.FL(this.value,0);this.SN()};T.hue2.prototype.L=function(x){return JSON.parse(JSON.stringify(this.value))};
T.levl=function(){function x(){T.call(this);this.value=null;this.MN=null;this.pU=[new iL(0,0),new iL(0,0),new iL(0,0),new iL(0,0),new iL(0,0)];
this.fD=-1;this.Tv=this.uB.bind(this);this.Lz=this.zc.bind(this);var z=this.e;this.Hp=new hN([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Hp.W(G.E.o,this.SN,this);z.appendChild(this.Hp.e);this.vV=new ce;this.vV.parent=this;this.vV.W(G.E.o,this.gU,this);
z.appendChild(this.vV.e);var A=I.z("div","");z.appendChild(A);var o=I.z("div","");z.appendChild(o);this.I=I.z("canvas");
A.appendChild(this.I);this.E4=this.I.getContext("2d");this.hr=new iL(256,120);this.I.setAttribute("style","display:block");
I.MX(this.I);I.Zs(this.I,this.qc.bind(this));this.oj=I.z("canvas","");o.appendChild(this.oj);this.$p=this.oj.getContext("2d");
this.KC=new iL(this.hr.x,40);this.oj.setAttribute("style","display:block");I.MX(this.oj);I.Zs(this.oj,this.a7Z.bind(this));
var i=this.OR=[];for(var F=0;F<5;F++){var L=new bQ(null,null,3);i.push(L);L.W(G.E.o,this.aat,this);(F<2||F==4?A:o).appendChild(L.e)}A.appendChild(i[1].e);
this.ko=new i4("Sample from image",i6.ZO(["#000000","#888888","#ffffff"]),!0,null,!0);this.ko.W(G.E.o,this.MC,this);
z.appendChild(this.ko.e);this.a0(250,100)}x.prototype=new T;x.prototype.gU=function(){var z=this.vV.L(),A=this.MN,o=this.value,i=f.OC(z,A);
for(var F=0;F<4;F++){var L=i[F][0],B=i[F][1],D=i[F][2],Z=[f.tt.pf(L,0,!0),f.tt.pf(B,255,!0)];if(D!=null)Z.splice(1,0,f.tt.pf(128,D,!0));
var j=[~~L,~~B,0,255,D==null?100:~~(100+.75*100*(D-128)/128)];gy.D3(o,F,j)}this.SN();this.AE()};x.prototype.a0=function(z,A){z+=6;
this.hr.x=this.KC.x=z;I.IX(this.I,z,this.hr.y,this.E4);I.IX(this.oj,z,this.KC.y,this.$p);var o=this.OR;
o[3].e.setAttribute("style","margin-left: "+(z-104)+"px");o[4].e.setAttribute("style","margin: 0 "+(z/2-74)+"px");
if(this.value)this.SN()};x.prototype.N=function(){this.Hp.N()};x.prototype.aat=function(z){var A=[];
for(var F=0;F<5;F++){var o=255,i=1;if(F==4){o=999;i=100}var L=parseFloat(this.OR[F].L());A[F]=Math.max(0,Math.min(o,L*i))}gy.D3(this.value,this.Hp.L(),A);
this.SN();this.AE()};x.prototype.SN=function(z){var A=this.hr.x,o=this.hr.y,i=this.Hp.L(),L=this.E4;
L.clearRect(0,0,A,o);L.fillStyle="#cccccc";L.fillRect(8,8,A-16,o-16-8);if(this.MN){var B=this.MN[0].slice(0),Y=0;
if(i==0){B.fill(0);var D=JSON.parse(JSON.stringify(this.value));gy.D3(D,0,[0,255,0,255,100]);var Z=ei.Th("levl",D),j=[Z.BS,Z.ph,Z.ul];
for(var a=0;a<3;a++){var b=this.MN[1+a],W=j[a];for(var F=0;F<256;F++)B[W[F]]+=b[F]}}var c=i==0?B:this.MN[i];
for(var F=0;F<c.length;F++)Y+=c[F];L.fillStyle="#333333";L.beginPath();L.moveTo(8,o-16);for(var F=0;
F<256;F++){var R=55*c[F]/Y;L.lineTo(8+F/256*(A-16),Math.max(8,o-16-o*R))}L.lineTo(A-8,o-16);L.closePath();
L.fill()}var $=gy.FL(this.value,i);for(var F=0;F<5;F++)this.OR[F].b($[F]/(F==4?100:1));this.pU[0].Jt(8+$[0]/255*(A-16),o-14);
this.pU[1].Jt(8+$[1]/255*(A-16),o-14);var k=Math.log($[4]/100)/Math.log(9.99);k=.5-k/2;this.pU[4].Jt(this.pU[0].x+k*(this.pU[1].x-this.pU[0].x),o-14);
this.r1(L,this.pU[0],"#000000");this.r1(L,this.pU[1],"#ffffff");this.r1(L,this.pU[4],"#777777");var A=this.KC.x,o=this.KC.y;
L=this.$p;L.clearRect(0,0,A,o);var w=L.createLinearGradient(0,0,A-16,0);w.addColorStop(0,"black");w.addColorStop(1,"white");
L.fillStyle=w;L.fillRect(8,8,A-16,16);this.pU[2].Jt(8+$[2]/255*(A-16),o-14);this.pU[3].Jt(8+$[3]/255*(A-16),o-14);
this.r1(L,this.pU[2],"#000000");this.r1(L,this.pU[3],"#ffffff")};x.prototype.r1=function(z,A,o){z.fillStyle=o;
z.fillRect(A.x-5,A.y,10,10)};x.prototype.qc=function(z){var A=I.Ki(z,this.I),o=this.apc([0,1,4],A);if(o!=-1)this.fD=o;
this.aqX()};x.prototype.a7Z=function(z){var A=I.Ki(z,this.oj),o=this.apc([2,3],A);if(o!=-1)this.fD=o;
this.aqX()};x.prototype.apc=function(z,A){var o=-1,i=1e9;for(var F=0;F<z.length;F++){var L=Math.abs(this.pU[z[F]].x-A.x);
if(L<i){i=L;o=z[F]}}return i<16?o:-1};x.prototype.aqX=function(z){if(this.fD==-1)return;I.Ss(document.body,this.Tv);
I.ek(document.body,this.Lz)};x.prototype.uB=function(z){var A=gy.FL(this.value,this.Hp.L()),o=I.Ki(z,this.fD==2&&this.fD==3?this.oj:this.I),i=255*(o.x-8)/(this.hr.x-16);
i=Math.max(0,Math.min(255,i));if(this.fD==0)i=Math.min(i,A[1]-2);if(this.fD==1)i=Math.max(i,A[0]+2);
if(this.fD!=4)A[this.fD]=Math.round(i);else{var L=(i-A[0])/(A[1]-A[0]);L=1-2*L;L=Math.pow(9.99,L);A[4]=Math.min(999,Math.max(10,Math.round(L*100)))}gy.D3(this.value,this.Hp.L(),A);
this.SN();this.AE()};x.prototype.zc=function(z){I.va(document.body,this.Tv);I.K9(document.body,this.Lz);
this.fD=-1};x.prototype.Jb=function(){return!0};x.prototype.V4=function(z,A,o,i,L){var B=this.value,D=this.ko.L().indexOf(!0);
if(D==-1)return;this.value=h6.d6("levl");this.AE();var Z=Q.S5.Sh(z,L,1),j=[Z>>>16&255,Z>>>8&255,Z&255];
for(var F=0;F<3;F++){var a=gy.FL(B,1+F);if(D==0)a[0]=j[F];if(D==1){var b=Math.log(j[F]/255)/Math.log((j[0]+j[1]+j[2])*.333/255);
a[4]=Math.min(999,Math.max(10,Math.round(100*b)))}if(D==2)a[1]=j[F];gy.D3(B,1+F,a)}this.b(B);this.AE()};
x.prototype.b=function(z){this.value=z;this.SN()};x.prototype.qp=function(z){this.MN=z;this.SN()};x.prototype.L=function(z){return JSON.parse(JSON.stringify(this.value))};
return x}();T.phfl=function(){T.call(this,"phfl");this.Se.push(new aD);this.Se.push(new f$([12,74],0,100,"%"));
this.Se.push(new dg([13,4]));this.m7()};T.phfl.prototype=new T;T.phfl.prototype.EO=function(x,z){z[0]=x.Clr.v;
z[1]=x.Dnst.v;z[2]=x.PrsL.v};T.phfl.prototype.lm=function(x,z){var A=f.Q.Pw(z[0]),o=x.Clr.v,i=f.hN(A.w,A.a,A.s);
o.Lmnc.v=i.KI;o.A.v=i.xc;o.B.v=i.s;x.Dnst.v=z[1];x.PrsL.v=z[2]};T.vibA=function(){T.call(this,"vibA");
this.Se.push(new f$([12,13],-100,100,null));this.Se.push(new f$([12,9],-100,100,null));this.m7()};T.vibA.prototype=new T;
T.vibA.prototype.EO=function(x,z){z[0]=x.vibrance?x.vibrance.v:0;z[1]=x.Strt?x.Strt.v:0};T.vibA.prototype.lm=function(x,z){x.vibrance.v=z[0];
x.Strt.v=z[1]};T.thrs=function(){T.call(this,"thrs");this.Se.push(new f$([4,13],1,255,null));this.m7()};
T.thrs.prototype=new T;T.thrs.prototype.EO=function(x,z){z[0]=x.Lvl.v};T.thrs.prototype.lm=function(x,z){x.Lvl.v=z[0]};
T.mixr=function(){T.call(this);var x=this.e;this.xs=[];this.IW=null;this.Hr=new hN([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.Hr.W(G.E.o,this.yj,this);x.appendChild(this.Hr.e);I.iw(x);this.sV=new dg([12,60]);x.appendChild(this.sV.e);
this.sV.W(G.E.o,this.yj,this);for(var F=0;F<4;F++){var z=new f$([[13,1,1],[13,1,4],[13,1,5],[13,2]][F],-200,200,"%");
z.W(G.E.o,this.yj,this);this.xs.push(z);x.appendChild(z.e)}};T.mixr.prototype=new T;T.mixr.prototype.N=function(){this.Hr.N();
this.sV.N();for(var F=0;F<4;F++)this.xs[F].N()};T.mixr.prototype.b=function(x){this.IW=JSON.parse(JSON.stringify(x));
this.Ta()};T.mixr.prototype.L=function(x){return JSON.parse(JSON.stringify(this.IW))};T.mixr.prototype.yj=function(x){if(x.target!=this.Hr){var z=ei.cQ(this.IW);
if(x.target==this.sV){z.sV=this.sV.L();if(z.sV)z.h=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else z.h=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var A=(z.sV?0:this.Hr.L())*5,F=this.xs.indexOf(x.target);
z.h[A+(F<3?F:4)]=x.target.L()}this.IW=ei.a9o(z)}this.Ta();this.AE()};T.mixr.prototype.Ta=function(){var x=ei.cQ(this.IW);
this.sV.b(x.sV);var z=(x.sV?0:this.Hr.L())*5;for(var F=0;F<4;F++)this.xs[F].b(x.h[z+(F<3?F:4)])};T.post=function(){T.call(this,"post");
this.Se.push(new f$([4,1],2,255,null));this.m7()};T.post.prototype=new T;T.post.prototype.EO=function(x,z){z[0]=x.Lvls.v};
T.post.prototype.lm=function(x,z){x.Lvls.v=z[0]};T.clrL=function(){T.call(this,"clrL");this.Se.push(new id("LUTs"));
this.m7()};T.clrL.prototype=new T;T.clrL.prototype.EO=function(x,z){z[0]=x};T.clrL.prototype.lm=function(x,z){var A=z[0];
for(var o in A)x[o]=A[o]};T.clrL.prototype.wB=function(x,z){if(z==cu._j||z==cu.ra)this.Se[0].VT(x.asg)};
T.rplc=function(){T.call(this,"rplc");this.Se.push(new f$([12,92],0,200));this.Se.push(new aD);this.Se.push(new f$([12,8],-180,180));
this.Se.push(new f$([12,9],-100,100));this.Se.push(new f$([12,10],-100,100));this.m7()};T.rplc.prototype=new T;
T.rplc.prototype.EO=function(x,z){z[0]=x.Fzns.v;z[1]=x.Mxm.v;z[2]=x.H.v;z[3]=x.Strt.v;z[4]=x.Lght.v};
T.rplc.prototype.lm=function(x,z){function A(i,L){L.Lmnc.v=i.KI;L.A.v=i.xc;L.B.v=i.s}x.Fzns.v=z[0];x.H.v=z[2];
x.Strt.v=z[3];x.Lght.v=z[4];var o=f.Q.Pw(z[1]),i=f.hN(o.w,o.a,o.s);A(i,x.Mnm.v);A(i,x.Mxm.v)};T.fade=function(){T.call(this,"fade");
this.Se.push(new f$([12,0],0,100,"%"));this.Se.push(new hN([12,19,0],b_.m0,!1,b_.h3));this.m7()};T.fade.prototype=new T;
T.fade.prototype.EO=function(x,z){z[0]=x.Opct.v.val;z[1]=b_.p3.indexOf(x.Md.v.BlnM)};T.fade.prototype.lm=function(x,z){x.Opct.v.val=z[0];
x.Md.v.BlnM=b_.p3[z[1]]};T.aply=function(){var x=b_.p3.concat(["Add","Sbtr"]);x.splice(21,1);var z=b_.m0.concat([[15,10,28],[15,10,21]]);
z.splice(21,1);var A=b_.h3.slice(0);A[4]--;function o(){T.call(this,"aply");this.Se.push(new hN([0,3],[]));
this.Se.push(new hN([12,4],["RGB"].concat(ei.$h).concat(["Transparency"])));this.Se.push(new dg([4,11]));
this.Se.push(new hN([12,19,0],z,!1,A));this.Se.push(new f$([12,0],0,100,"%"));this.Se.push(new eN([12,38],1,2,null,2));
this.Se.push(new eN([12,6],-255,255));this.Se.push(new dg([13,5]));this.m7([2]);this.H5=null}o.prototype=new T;
o.prototype.EO=function(i,L,B){if(B){var D=B[2].g,Z=this.H5=[];for(var F=0;F<D.length;F++){var j=D[F].getName();
Z.push(j.length<30?j:j.slice(0,27)+"...")}Z.reverse();this.Se[0].sx([[5,7]].concat(Z),[1,Z.length])}else var Z=this.H5;
i=i.With.v;var a=i.T.v;L[0]=a[1].t=="name"?1+Z.indexOf(a[1].v.val):0;L[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(a[0].v.enum);
L[2]=i.Invr.v;var b=i.Clcl.v.Clcn;L[3]=x.indexOf(b);L[4]=i.Opct.v.val;L[5]=i.Scl.v;L[6]=i.Ofst.v;L[7]=i.PrsT.v};
o.prototype.lm=function(i,L){i=i.With.v;var B=i.T.v;if(L[0]==0)B[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else B[1]={t:"name",v:{classID:"Lyr",val:this.H5[L[0]-1]}};B[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][L[1]];
i.Invr.v=L[2];var D=i.Clcl.v.Clcn=x[L[3]];i.Opct.v.val=L[4];i.Scl.v=L[5];i.Ofst.v=L[6];i.PrsT.v=L[7];
var Z=D=="Add"||D=="Sbtr";this.Se[5].dU(Z);this.Se[6].dU(Z)};return o}();T.matc=function(){var x,z,A=0;
function o(){T.call(this,"matc");this.Se.push(new f$("Luminance",1,200));this.Se.push(new f$("Color Intensity",1,200));
this.Se.push(new f$([2,11],0,100,"%"));this.Se.push(new dg("Neutralize"));this.Se.push(new hN([12,70],[]));
this.Se.push(new hN([0,3],[]));this.m7([2])}function i(L,B){L.Se[5].sx([[5,7]].concat(B),[1,B.length])}o.prototype=new T;
o.prototype.EO=function(L,B,D){A=0;B[0]=L.Lght.v;B[1]=L.ClrR.v;B[2]=L.Fade.v;B[3]=L.neutralizeColor?L.neutralizeColor.v:!1;
B[4]=B[5]=0;var Z=L.Srce;if(Z)Z=Z.v;if(D){x=[];z=[];var j=D[2],a=D[3];for(var F=0;F<a.length;F++){var b=a[F];
x.push(b.name);var W=b.g,c=[];z.push(c);for(var Y=0;Y<W.length;Y++)c.push(W[Y].getName());c.reverse()}this.Se[4].sx([[13,1,0]].concat(x),[1,x.length]);
var R=a.indexOf(j);if(Z)R=x.indexOf(Z[1].v.val);i(this,z[R])}if(Z){var $=x.indexOf(Z[1].v.val);B[3]=A=1+$;
if(Z[0].t=="name")B[4]=1+z[$].indexOf(Z[0].v.val)}};o.prototype.lm=function(L,B){L.Lght.v=B[0];L.ClrR.v=B[1];
L.Fade.v=B[2];L.neutralizeColor.v=B[3];if(B[4]==0){L.noReference={t:"bool",v:!0};delete L.Srce}else{if(B[4]!=A){A=B[4];
i(this,z[B[4]-1])}delete L.noReference;var D={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},Z=z[B[4]-1];
if(B[5]!=0)D={t:"name",v:{classID:"Lyr",val:Z[B[5]-1]}};L.Srce={t:"obj ",v:[D,{t:"name",v:{classID:"Dcmn",val:x[B[4]-1]}}]}}};
return o}();function dz(x,z){a0.call(this);if(x==null)return;this.id=z;this.Ht=x;this.TT=null;this.e=I.z("div","window "+z);
this.aqk=null;this.eR=I.z("div","whead");this.a2Z=I.z("span","wname");this.eR.appendChild(this.a2Z);
this.e.appendChild(this.eR);this.oa=this.a9$.bind(this);this.yR=this.akH.bind(this);this.f9=this.av1.bind(this);
I.MX(this.eR);I.Zs(this.eR,this.oa);this.hU=I.z("span","cross");this.eR.appendChild(this.hU);dz.prototype.N.call(this);
I.ek(this.hU,this.aje.bind(this));this.body=I.z("div","body");this.e.appendChild(this.body)}dz.prototype=new a0;
dz.prototype.wn=function(){return!1};dz.prototype.Jb=function(){return!1};dz.prototype.N=function(){if(this.Ht==null)return;
this.a2Z.textContent=kc.get(this.Ht);var x=PIMG.__cross==null?"filter:invert(1);":"";this.hU.setAttribute("style","background-image:url("+PIMG.cross+");"+x)};
dz.prototype.Xv=function(x,z,A,o,i){};dz.prototype.wK=function(x,z,A,o,i){};dz.prototype.Dg=function(x,z,A,o,i){};
dz.prototype.V4=function(x,z,A,o,i){};dz.prototype.zD=function(x,z,A,o,i){};dz.prototype.R0=function(x,z,A,o){if(o.A(bJ.oN)&&this.RB)this.RB();
if(o.A(bJ.RI)){var i=new fZ(G.E.r);i.cx=!0;Q.jO.ahE(o,i);if(i.data)z.c(i)}};dz.prototype.WU=function(x){return!1};
dz.prototype.FE=function(x,z){return!0};dz.prototype.N_=function(x,z,A,o){};dz.prototype.wB=function(x,z){};
dz.prototype.oQ=function(x,z){return null};dz.prototype.atT=function(x){return this.aqk};dz.prototype.a0=function(){};
dz.prototype.close=function(){this.c(new fZ(G.E.X9))};dz.prototype.a9$=function(x){this.TT=I.Ki(x,this.e);
I.Ss(window,this.yR);I.ek(window,this.f9)};dz.prototype.akH=function(x){var z=this.e.parentNode,A=I.Ki(x,z),o=Math.round(A.x-this.TT.x),i=z.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(A.y-this.TT.y)));
this.aqk=new iL(o,i);this.e.style.left=o+"px";this.e.style.top=i+"px"};dz.prototype.av1=function(x){I.va(window,this.yR);
I.K9(window,this.f9)};dz.prototype.aje=function(x){this.c(new fZ("closebtn"));this.close()};function hX(){dz.call(this,"About Photopea","aboutpp");
var x=I.z("div","flexrow");this.body.appendChild(x);var z=this.ahS=I.z("img");x.appendChild(z);this.body.setAttribute("style","margin:0; padding:0");
var A=this.as7=I.z("div");A.innerHTML=hX.Jk;x.appendChild(A);var o=this.td=I.z("span");o.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(o)}hX.prototype=new dz;hX.prototype.oQ=function(x,z){return new iL(0,0)};hX.prototype.a0=function(x,z){var A=this.ahS,o=this.as7,i=this.td,L=(x+z-42-42)/110;
L=Math.sqrt((x-42)*(z-42))/50;A.setAttribute("style","width:"+x/2+"px; height:"+z+"px; display:block; object-fit:cover;");
o.setAttribute("style","width:"+(x/2-42)+"px; height:"+(z-42)+"px; padding:20px; font-size:"+L+"px;");
i.setAttribute("style","position:absolute;  bottom:10px; right:"+(x/2+10)+"px")};hX.prototype.N=function(){};
hX.prototype.N_=function(x,z,A,o){this.ahS.setAttribute("src","promo/ivan_pp.webp")};hX.Jk="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function dj(){dz.call(this,[0,13,0],"account");this.HE=I.z("div","form scrollable");this.body.appendChild(this.HE);
this.body.style.padding="0";this.i6=[new dj.Av,new dj.bv("::privacy.html"),new dj.bv(dj.aij)];for(var F=0;
F<this.i6.length;F++)this.i6[F].parent=this;this.W("showpage",this.aj0,this)}dj.prototype=new dz;dj.prototype.FE=function(x,z){var A=navigator.onLine;
if(!A)alert("Go online first");return A};dj.prototype.a0=function(x,z){this.HE.setAttribute("style","width:"+Math.min(x-40,740)+"px;  height:"+(z-38)+"px;  padding:1.5em;");
this.i6[0].a0(x,z)};dj.prototype.oQ=function(x,z){return new iL(Math.max(0,Math.min(150,(x-740)/2)),Math.max(0,Math.min(100,(z-500)/2)))};
dj.prototype.aj0=function(x){I.Uv(this.HE);this.HE.scrollTop=0;this.HE.appendChild(this.i6[x.data.dD].e)};
dj.prototype.N=function(){dz.prototype.N.call(this);for(var F=0;F<this.i6.length;F++)this.i6[F].N()};
dj.prototype.N_=function(x,z,A){if(!navigator.onLine)return;I.Uv(this.HE);var o=this.i6[0];this.HE.appendChild(o.e);
o.N_();this.N()};dj.prototype.wB=function(x,z){this.N_(null,null,null)};dj.Av=function(){a0.call(this);
this.e=I.z("div");var x=this.e,D,Z,a="font-size:1.25em;",b="text-align:center;",c="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",Y="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",R="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",k=12;
this.wm=I.z("div");x.appendChild(this.wm);this.IC=new eI([0,11],!1,null,!0);this.IC.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.IC.W("click",this.hH,this);x.appendChild(this.IC.e);this.uq=new eI([0,13,1],!1,null,!0);this.uq.W("click",this.aez,this);
x.appendChild(this.uq.e);this.bx=new eI("Business Terms",!1,null,!0);this.bx.W("click",this.a67,this);
x.appendChild(this.bx.e);var z=I.z("div");z.style.margin="20px 0";x.appendChild(z);var A=["Account Types","Go Premium","Team Settings","Distributors"],o=this.QF=[],i=this.a3n=[],L=this.VK=I.z("div");
x.appendChild(L);for(var F=0;F<A.length;F++){var B=I.z("span");B.textContent=A[F];z.appendChild(B);o.push(B);
B.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
B.addEventListener("click",this.Ha.bind(this));i.push(I.z("div"))}this.Ha(0);var j=this.a3S="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
x=i[0];var Z=I.z("table"),W="style=\" "+b+a+" padding-bottom:20px;\"";Z.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+R+">\t\t\t\t\t<div "+W+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+Y+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+R+">\t\t\t\t\t<div "+W+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+Y+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+Y+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+Y+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
x.appendChild(Z);var B=new eI("Go Premium");B.e.setAttribute("style",j+"padding:10px 0;");B.W("click",function(h){this.Ha(1)},this);
Z.children[0].children[1].children[1].appendChild(B.e);this.UQ=I.z("div");x.appendChild(this.UQ);x=i[1];
var $=this.ari=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.tj=[];for(var F=0;F<$.length;F++)this.tj.push(new eI("Buy: $"+$[F][0],!1,null,!0));for(var F=0;
F<this.tj.length;F++){this.tj[F].W("click",this.atS,this)}this.qG=new eI("...",!0);this.qG.e.setAttribute("style",j);
x.appendChild(this.qG.e);Z=this.am4(4,["Single user",this.tj[0],this.tj[1],this.tj[2],"Team of 5",this.tj[3],this.tj[4],this.tj[5],"Team of 20",this.tj[6],this.tj[7],this.tj[8],"Team of 50",this.tj[9],this.tj[10],this.tj[11]]);
x.appendChild(Z);this.afO=new dg("I accept",!0,"");x.appendChild(this.afO.e);this.FY=new eI([0,13,1],!1,null,!0);
this.FY.W("click",this.aez,this);x.appendChild(this.FY.e);this.p$=new eI("I have a key",!1,null,!0);
this.p$.e.setAttribute("style",j+" float:right; width:inherit;");this.p$.W("click",this.atS,this);x.appendChild(this.p$.e);
x=i[2];this.Fv=new fs;this.Fv.parent=this;this.Fv.W(G.E.o,this.BY,this);x.appendChild(this.Fv.e);x=i[3];
this.qb=new eI("...",!0);this.qb.e.setAttribute("style",j);x.appendChild(this.qb.e);Z=this.am4(3,["1000 views/mo",this.tj[k++],this.tj[k++],this.tj[k++],"5000 views/mo",this.tj[k++],this.tj[k++],this.tj[k++],"20000 views/mo",this.tj[k++],this.tj[k++],this.tj[k++]]);
x.appendChild(Z);var w=I.z("p");w.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
x.appendChild(w);this.tU=new bQ("Domain name (e.g. domain.com)",null,14);x.appendChild(this.tU.e);var V=new eI("Save Domain Settings",!1,null,!0);
V.wR();x.appendChild(V.e);V.W("click",this.a4G,this)};dj.Av.prototype=new a0;dj.Av.prototype.Ha=function(x){var z=typeof x=="number"?x:this.QF.indexOf(x.target);
for(var F=0;F<4;F++)this.QF[F].style.opacity=.6;this.QF[z].style.opacity=1;I.Uv(this.VK);this.VK.appendChild(this.a3n[z])};
dj.Av.prototype.a0=function(x,z){var A=x<600?"d":" days",o=["30 days","90 days","365 days"];if(x<600)o=["30d","90d","365d"];
var i=this.ari;for(var F=0;F<i.length;F++){this.tj[F].mB("<span>"+o[F%3]+": <sup>$</sup><big><b>"+i[F][0]+"</b></big>"+"</span>");
this.tj[F].e.setAttribute("style",this.a3S)}};dj.Av.prototype.aez=function(x){var z=new fZ("showpage",!0);
z.data={dD:1};this.c(z)};dj.Av.prototype.a67=function(x){var z=new fZ("showpage",!0);z.data={dD:2};this.c(z)};
dj.Av.prototype.N=function(){this.IC.mB(eP.hO()?kc.get([0,11]):kc.get([0,10]));this.FY.N();this.uq.N();
this.bx.N()};dj.Av.prototype.a4F=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.OB,link:"https://www.photopea.com/api/accounts#"+(x.target==this.am8?"teams":"distributors")};
this.c(z)};dj.Av.prototype.adm=function(x){var z=x.currentTarget==this.a6G;this.a6G.b(z);this.aeK.b(!z)};
dj.Av.prototype.ati=function(x){var z=this.a6G.L(),A=this.ah_.L().trim().toLowerCase(),o=this.aiu.value.trim().toLowerCase();
if(A.length>60){alert("Too long email address");return}if(o.length>600){alert("Too many team members");
return}o=o.split(",").join(" ").trim();o=o.replace(/\s+/g," ");if(o=="")o=[];else o=o.split(" ");var i=eP.MG();
if(i==null)i={};if(i.acc==null)i.acc={};i.acc.team={jin:z,ldr:A,mmb:o};eP.rb(i,this.BY.bind(this));alert("Saved!");
this.N_()};dj.Av.prototype.a4G=function(x){var z=this.tU.L().trim();if(!eP.hO()){alert("You have to log in first.");
return}if(eP.fp()==0){alert("Order a distributor account first.");return}var A=eP.MG();if(A==null)A={};
if(A.acc==null)A.acc={};if(z=="")delete A.acc.dname;else A.acc.dname=z;eP.rb(A,this.BY.bind(this));alert("Saved!");
this.N_()};dj.Av.prototype.akK=function(x){var z=eP.Ai(),F=this.mf,A=eP.MG();if(A==null)A={};if(A.acc==null)A.acc={};
A.acc.bto=x;eP.rb(A,function(){});var o=dj.aqM(x.split("\n"),z.pmnts[F]);gC.save(o,"photopea_invoice.pdf")};
dj.Av.prototype.amn=function(x){var z=eP.Ai(),A=eP.MG(),o=A.acc?A.acc.bto:null;if(o==null)o=z.name+"\n"+z.email;
var F=-1,i=x.target.e.parentNode;while((i=i.previousSibling)!=null)F++;this.mf=F;var L=new fZ(G.E.Y,!0);
L.data={d:G.U.z1,ca:"billto",IO:o,Cn:this.akK.bind(this)};this.c(L)};dj.Av.prototype.N_=function(){if(eP.hO()){var x=eP.Ai(),z=x.pmnts;
if(x==null)return;this.wm.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+x.name+"</span> "+x.email+" <br/>";
I.Uv(this.UQ);if(z){var A="<h2>Payments</h2>";for(var F=0;F<z.length;F++){var o=z[F],i=new Date(o[0]*1e3);
A+="<div style=\"font-size:1.2em\">"+i.getDate()+". "+(i.getMonth()+1)+". "+i.getFullYear()+" - "+dj.ahT(o)+"</div>"}this.UQ.innerHTML=A;
for(var F=0;F<z.length;F++){var L=new eI("Get Invoice",!1,null,!0);L.e.setAttribute("style","float:right");
L.W("click",this.amn,this);this.UQ.children[F+1].appendChild(L.e)}}}else{}var B=eP.hO()&&eP.sv();this.qG.e.style.display=B?"block":"none";
if(B){var D,Z,j=B;if(j[0]==0){D=eP.Bi(j[1])-Date.now()*(1/1e3);Z=j[1][2]==1?"Single User":"Team Of "+j[1][2]}else{D=j[1][1]-Date.now()*(1/1e3);
Z="Member of \""+j[1][0]+"\""}this.qG.mB("Premium active for "+Math.round(D/(60*60*24))+" more days! ("+Z+")")}var a=eP.hO()&&eP.fp()*1e3>Date.now();
this.qb.e.style.display=a?"block":"none";if(a){var D=eP.fp()-Date.now()/1e3;this.qb.mB("Distributor active for "+Math.round(D/(60*60*24))+" more days!")}var b=eP.MG();
this.Fv.N_();if(b&&b.acc&&b.acc.dname)this.tU.b(b.acc.dname);else this.tU.b("")};dj.Av.prototype.am4=function(x,z){var A=I.z("table");
if(!0){var o="<table><tr>";for(var F=0;F<x;F++)o+="<th>"+z[F*4]+"</th>";o+="</tr></table>";A.innerHTML=o;
for(var F=0;F<3;F++){var i=I.z("tr"),L;A.appendChild(i);for(var B=0;B<x;B++){L=I.z("td");L.style.width=Math.round(100/x)+"%";
i.appendChild(L);L.appendChild(z[B*4+1+F].e)}}}return A};dj.Av.prototype.atS=function(x){var z=this.tj.indexOf(x.currentTarget),o=30,i=1;
if(!eP.hO()){alert("You must log in before buying Premium");return}if(this.afO.L()==!1&&z<12){alert("You must accept Terms of Service");
return}var A=eP.hO()&&eP.sv();if(z!=-1){var L=this.ari[z];o=L[1];i=L[2]}if(A&&i<1e3){alert("You already have premium.");
return}console.log(L,o,i);if(z==-1){var B=prompt("Please enter your key");if(B!=null){eP.alN(B,this.BY.bind(this));
this.xF()}return}if(o==30&&i==1){var D=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!D)return}eP.order(o,i,this.BY.bind(this));this.xF()};dj.Av.prototype.BY=function(x){this.N_();this.xF()};
dj.Av.prototype.hH=function(x){if(eP.hO()){eP.asY();this.xF();this.N_(null,null,null)}else eP.hH(this.a4t.bind(this))};
dj.Av.prototype.a4t=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.ahj};this.c(x)};dj.Av.prototype.xF=function(){var x=new fZ(G.E.Y,!0);
x.data={d:G.U.aun};this.c(x)};dj.bv=function(x){a0.call(this);this.e=I.z("div");var z=this.e,A=this.ao9=new eI([0,13,2],!1,null,!0),o;
A.W("click",this.abd,this);z.appendChild(A.e);if(x.startsWith("::")){o=I.z("iframe");o.setAttribute("style","width:100%;height:1700px; background-color:white;");
o.setAttribute("src",x.slice(2))}else{o=I.z("div");o.innerHTML=x}z.appendChild(o)};dj.bv.prototype=new a0;
dj.bv.prototype.abd=function(x){var z=new fZ("showpage",!0);z.data={dD:0};this.c(z)};dj.bv.prototype.N=function(){this.ao9.N()};
dj.aij="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
dj.ahT=function(x){return"Photopea "+(x[1]<1e3?"Premium":"Distributor")+" ("+x[1]+" days, "+x[2]+" user"+(x[2]==1?"":"s")+")"};
dj.aqM=function(x,z){x=["Bill To:"].concat(x);var A=new ToPDF,o=595,i=842,L=40,B=18,D=12,Z=500,j=100,a=400,R=0;
function b(E,_,S,y,v){c.font.Tf=v?"Helvetica-Bold":"Helvetica";c.ctm=[1,0,0,1,_,S];c.font.Tfs=y?y:D;
A.PutText(c,E,0)}function W(E,_,S,y){for(var F=0;F<E.length;F++){b(E[F],_,S-F*y,null,F==0)}}var c=UDOC.getState();
A.StartPage(0,0,o,i);b("INVOICE",o-L-140,i-L-30,30,!0);W(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],L,i-L-40,B);
var Y=new Date(z[0]*1e3);W(["Date: "+Y.getDate()+". "+(Y.getMonth()+1)+". "+Y.getFullYear(),"Transaction ID: "+z[4]],o-L-140,i-L-40-B*2,B);
var $=x.join("");for(var F=0;F<$.length;F++)R=Math.max(R,$.charCodeAt(F));if(R>256){var k=4,w=I.z("canvas"),V=w.getContext("2d"),h=0;
V.font=D*k+"px sans-serif";for(var F=0;F<x.length;F++)h=Math.max(h,V.measureText(x[F]).width);var l=Math.round(h)+20,M=x.length*k*B+20;
w.width=l;w.height=M;V.font=D*k+"px sans-serif";for(var F=0;F<x.length;F++){V.font=(F==0?"bold ":"")+D*k+"px sans-serif";
V.fillText(x[F],10,(F+1)*k*B)}document.body.appendChild(w);var q=new Uint8Array(V.getImageData(0,0,l,M).data.buffer);
c.ctm=[l/k,0,0,M/k,L-10/k,i-L-40-100-M/k];A.PutImage(c,q,l,M);c.ctm=[1,0,0,1,0,0]}else W(x,L,i-L-40-100,B);
c.colr=[.8,.8,.8];c.pth={cmds:["M","L","L","L","Z"],crds:[L,Z,o-L,Z,o-L,Z-B,L,Z-B]};A.Fill(c);c.colr=[0,0,0];
var t=[L,Z,o-L,Z,L,Z-B,o-L,Z-B,L,Z-j,o-L,Z-j,L,Z,L,Z-j,o-L,Z,o-L,Z-j,a,Z,a,Z-j],p=[];for(var F=0;F<t.length;
F+=4)p.push("M","L");c.pth={cmds:p,crds:t};A.Stroke(c);b("Order details",L+4,Z-14);b(dj.ahT(z),L+4,Z-B-14);
b("TOTAL:",L+4,Z-j-14,null,!0);b("Price",o-L-50,Z-14);b(z[3]+" USD",o-L-60,Z-B-14);b(z[3]+" USD",o-L-60,Z-j-14,null,!0);
b("www.Photopea.com",L,L);b("support@photopea.com",o-L-130,L);A.ShowPage();A.Done();return A.buffer};
function hO(){dz.call(this,[11,14],"addguides");this.G_;this.OQ={gw:{xI:0}};this.b2=null;var x=I.z("div","form");
this.body.appendChild(x);this.SD=new bQ([22,4,0],null,16);this.SD.W(G.E.o,this.c2,this);this.JI=new bQ([22,4,1],null,16);
this.JI.W(G.E.o,this.c2,this);this.m3=new hN(null,f.Fi.la);this.m3.W(G.E.o,this.c2,this);x.appendChild(this.SD.e);
x.appendChild(this.m3.e);I.iw(x);x.appendChild(this.JI.e);this.jY=I.yD(this,x);this.W("closebtn",this.I8,this)}hO.prototype=new dz;
hO.prototype.FE=function(x,z){return x!=null};hO.prototype.wn=function(){return!0};hO.prototype.N=function(){dz.prototype.N.call(this);
this.SD.N();this.JI.N();this.m3.N();this.jY.N()};hO.prototype.wB=function(x,z){var A=x.gw.xI;this.OQ.gw.xI=A;
this.m3.b(A)};hO.prototype.N_=function(x,z){this.G_=x;this.b2=JSON.stringify(x.OG());this.rw()};hO.prototype.rw=function(){var x=this.G_,z=x.sf,A=function(o,i,x,L,B){var D=[];
for(var F=0;F<o.length;F++)if(o[F][0]==i)D.push(f.Fi.v1(o[F][1],x.um,L,B));D.sort(function(Z,j){return Z-j});
return D.join(", ")};this.SD.b(A(z,0,x,this.OQ,x.m));this.JI.b(A(z,1,x,this.OQ,x.n))};hO.prototype.c2=function(x){if(x&&x.currentTarget==this.m3)this.OQ.gw.xI=this.m3.L();
else{var z=this.a81(),A=this.G_;A.q5(z);A.o$=!0}this.rw()};hO.prototype.a81=function(){var x=[],z=[];
for(var A=0;A<2;A++){var o=A==0?this.SD:this.JI,i=A==0?this.G_.m:this.G_.n,L=o.L().replace(/,/g," ").replace(/  +/g," ").trim(),B=L==""?[]:L.split(" ");
for(var F=0;F<B.length;F++){x.push([A,f.Fi.and(B[F],this.G_.um,this.OQ,i)]);z.push(-1)}}return[x,z]};
hO.prototype.I8=function(x){var z=this.G_;z.q5(JSON.parse(this.b2));z.o$=!0;this.G_=null};hO.prototype.RB=function(x){this.c2(x);
var z=new fZ(G.E.r,!0);z.k=Q.ah;z.data={d:"gids",vZ:JSON.parse(this.b2),ng:this.G_.OG()};this.G_=null;
this.close();this.c(z)};function fK(x){var z=h6.names[x];if(z==null)z=ei.names[x];if(x=="aply")z=[2,12];
if(x=="fade")z=[2,11];if(x=="matc")z=[4,18];if(x=="blendOptions")z=[14,10];dz.call(this,z,"afw_"+x);
this.ET=x;this.CH=null;this.NA=null;this.hk=new T[x];this.hk.W(G.E.o,this.AE,this);this.hk.parent=this;
this.body.appendChild(this.hk.e);this.Hv=new dg([24,18,5]);this.Hv.b(!0);this.Hv.W(G.E.o,this.AE,this);
this.cv=new eI([1,12,2],!0,null,!0);this.cv.W("click",this.YT,this);this.jY=I.yD(this);if(this.NC())this.hk.A$(this.jY.e);
else{I.ho(this.hk.e,"form");I.ho(this.body,"flexrow");this.hk.e.setAttribute("style","width:312px");
var A=I.z("div");this.body.appendChild(A);A.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
A.appendChild(this.jY.e);A.appendChild(this.cv.e);A.appendChild(this.Hv.e)}this.W("closebtn",this.lZ,this)}fK.prototype=new dz;
fK.prototype.wn=function(){return!0};fK.prototype.NC=function(){return this.hk!=null&&this.hk.Xx()};
fK.prototype.oQ=function(){return this.NC()?new iL(0,0):dz.prototype.oQ()};fK.prototype.Jb=function(){return this.hk.Jb()};
fK.prototype.Xv=function(x,z,A,o,i){this.hk.Xv(x,z,A,o,i)};fK.prototype.Dg=function(x,z,A,o,i){this.hk.Dg(x,z,A,o,i)};
fK.prototype.V4=function(x,z,A,o,i){this.hk.V4(x,z,A,o,i)};fK.prototype.FE=function(x,z){if(this.ET=="fade")return fK.asL(x);
return!0};fK.prototype.YT=function(x){this.hk.b(h6.d6(this.ET));this.AE()};fK.prototype.AE=function(x){this.cO({d:"edit",u6:this.hk.L(),lP:!this.Hv.L()})};
fK.prototype.lZ=function(x){this.cO({d:"cancel"})};fK.prototype.RB=function(x){if(!this.Hv.L()){this.Hv.b(!0);
this.AE()}this.NA=this.hk.L();if(this.NC())this.AE();this.cO({d:"confirm"});this.close()};fK.prototype.N=function(){dz.prototype.N.call(this);
this.Hv.N();if(this.hk)this.hk.N();this.jY.N()};fK.prototype.wB=function(x,z){if(this.hk)this.hk.wB(x,z)};
fK.prototype.R0=function(x,z,A,o){if(this.NC())this.hk.R0(o);else dz.prototype.R0.call(this,x,z,A,o)};
fK.prototype.N_=function(x,z,A,o){this.CH=z.CH;var i=x.add.lnk2?x.add.lnk2:[],L,B,D=new av(0,0,x.m,x.n),Z=x.g[x.f[0]],j=null;
L=Z.buffer;B=Z.rect;if(this.NC())j=x.MK(x.f[0]-1);var a=h6.d6(this.ET),b=[i,x.lX,x,A];if(z.CH==null){this.hk.b(a,L,B,D,j,b);
if(ei.names[this.ET]){if(o.A(bJ.yU)&&this.NA)this.hk.b(this.NA);var W=Q.aW.getData(x),c=f.SM(W[0].Mw);
this.hk.qp(c)}}else{var Y=!1,Z=x.g[this.CH.j];if(Z.Mi()){var R=Z.zg(x);L=R.buffer;B=R.rect;var $=Z.add.SoLd.filterFX.v.filterFXList.v;
if($[this.CH.index]){var k=$[this.CH.index].v;this.hk.b(this.ET=="blendOptions"?k.blendOptions.v:k.Fltr.v,L,B,D,j,b);
this.hk.qp(f.SM(L));Y=!0}}if(!Y){this.hk.b(a,L,B,D,j,b);this.hk.qp(f.SM(L))}}if(!this.NC())this.AE()};
fK.prototype.cO=function(x){var z=new fZ(G.E.r,!0);x.ET=this.ET;x.CH=this.CH;z.data=x;z.k=h6.names[this.ET]||this.CH?Q.qI:Q.v6;
z.cx=!0;this.c(z)};fK.prototype.a0=function(x,z){if(!this.hk.Xx()){}else{this.body.style.padding="0";
this.hk.a0(x,z)}};fK.asL=function(x){if(x==null)return!1;var z=x.nW();if(z==null||!(z.data instanceof Array)||z.data.length!=x.f.length)return!1;
for(var F=0;F<z.data.length;F++){var A=z.data[F];if(A.j<0&&x.lX[-1-A.j])return!0;if(A.j==null||x.g[A.j]==null||x.g[A.j].ZD!=A.dm)return!1;
if(x.f.indexOf(A.j)==-1)return!1}return!0};function g$(){dz.call(this,[11,0],"camera");this.data=null;
this.Df=new iL(1,1);this.au$=[];var x=I.z("div","form hbar");this.body.appendChild(x);this.abp=new hN(null,[]);
this.YV=new hN([21,0],[[21,2],[21,1]]);x.appendChild(this.YV.e);this.AW=new hN(null,[]);this.AW.W(G.E.o,this.agw,this);
x.appendChild(this.AW.e);this.qt=new eI([11,0],!1,null,!0);this.qt.W("click",this.agH,this);x.appendChild(this.qt.e);
this.iI=new eX("");x.appendChild(this.iI.e);this.stream=null;this.oe=I.z("video","");this.oe.setAttribute("autoplay","true");
this.body.appendChild(this.oe);this.a8Z=this.a3$.bind(this);this.ath=this.asq.bind(this);this.adC=this.amm.bind(this);
this.W("closebtn",this.aiH,this)}g$.prototype=new dz;g$.prototype.N=function(){dz.prototype.N.call(this);
this.YV.N();this.qt.N();this.a0(this.GM,this.zp)};g$.prototype.MK=function(){var x=this.oe.videoWidth,z=this.oe.videoHeight,A=I.z("canvas","");
A.width=x;A.height=z;var o=A.getContext("2d");o.drawImage(this.oe,0,0,x,z);var i=o.getImageData(0,0,x,z);
return{xH:new av(0,0,x,z),data:i.data.buffer}};g$.prototype.agH=function(x){if(this.YV.L()==0)this.amh();
else this.amP()};g$.prototype.amP=function(){var x=this.MK(),z={buffer:new Uint8Array(x.data),rect:x.xH},A=new fZ(G.E.r,!0);
A.cx=!0;A.k=Q.xu;A.data={d:g.Cd,jw:z};this.c(A);alert(kc.get([21,4]))};g$.prototype.amh=function(){var x=this.MK(),z=iF.Q9("camera",[x]),A=new fZ(G.E.Y,!0);
A.data={d:G.U.du,m5:z};this.c(A);alert(kc.get([21,5]))};g$.prototype.N_=function(x,z,A){navigator.mediaDevices.enumerateDevices().then(this.aoC.bind(this))};
g$.prototype.aoC=function(x){var z=this.au$=[],A=[];for(var F=0;F<x.length;F++)if(x[F].kind=="videoinput"){z.push(x[F]);
A.push("Camera "+z.length)}this.AW.sx(A);this.AW.b(0);this.agw()};g$.prototype.agw=function(x){this.aiH();
var z={video:{deviceId:this.au$[this.AW.L()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(z).then(this.a8Z).catch(this.ath);
else navigator.webkitGetUserMedia(z,this.a8Z,this.ath)};g$.prototype.a3$=function(x){this.stream=x;this.oe.srcObject=x;
this.oe.addEventListener("loadedmetadata",this.adC,!1)};g$.prototype.amm=function(x){this.oe.play();
this.a0(this.GM,this.zp)};g$.prototype.oQ=function(x,z){return new iL(0,0)};g$.prototype.a0=function(x,z){var A=this.oe.videoWidth,o=this.oe.videoHeight;
this.iI.b(A+" x "+o+" px");this.iI.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Df.Jt(A,o);this.GM=x;this.zp=z;var i=x-28,L=z-28-30,B=this.Df.x/this.Df.y;if(i/L>B)i=L*B;else L=i/B;
this.oe.setAttribute("style","display: block; width: "+Math.round(i)+"px; height:"+Math.round(L)+"px;")};
g$.prototype.asq=function(x){console.log("error",x);alert(kc.get([21,6]));this.close()};g$.prototype.aiH=function(x){if(this.stream!=null){var z=this.stream.getTracks();
for(var F=0;F<z.length;F++)z[F].stop();this.stream=null}};function c_(){dz.call(this,[7,8],"crange");
this.G_=null;this.p4={KI:73,xc:4.45,s:4};this._m={KI:73,xc:4.45,s:4};this.body.style.width="20em";this.DO=new hN([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.DO.W(G.E.o,this.a6p,this);this.body.appendChild(this.DO.e);this.Jk=I.z("div","form");this.body.appendChild(this.Jk);
var x=this.a0l=2,z=this.U5=[new f$([12,92],0,200),new i6([12,36],[[18,0],"\uFF0B","-"]),new f$([12,92],0,100,"%"),new eN("Min",0,255),new eN("Max",0,255)];
z[0].b(40);z[x].b(40);for(var F=0;F<z.length;F++){z[F].W(G.E.o,this.Ta,this);z[F].parent=this}this.I=I.z("canvas");
this.body.appendChild(this.I);this.jY=I.yD(this,this.body)}c_.prototype=new dz;c_.prototype.FE=function(x,z){return x!=null};
c_.prototype.Jb=function(){return!0};c_.prototype.wn=function(){return!0};c_.prototype.a6p=function(x){var z=this.DO.L(),A=this.U5,o=this.Jk,i=0,L=A.length,B=this.a0l;
if(z==0)L=B;else{i=B;A[i+1].b([0,100,190][z-1]);A[i+1].dU(z!=1);A[i+2].b([60,150,255][z-1]);A[i+2].dU(z!=3)}I.Uv(o);
for(var F=i;F<L;F++){o.appendChild(A[F].e)}this.Ta()};c_.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.DO.N();for(var F=0;F<this.U5.length;F++)this.U5[F].N()};c_.prototype.Xv=function(x,z,A,o,i){var L=x.t.Sd(i.x,i.y);
this.asv(L.x,L.y)};c_.prototype.asv=function(x,z){var A=Math.min,o=Math.max,i=this.G_,L=o(0,A(i.m-1,Math.floor(x))),B=o(0,A(i.n-1,Math.floor(z))),D=i.MK(),Z=(B*i.m+L)*4,j=D[Z],a=D[Z+1],b=D[Z+2],W=f.hN(j,a,b),c=this.U5[1].L(),Y=this.p4,R=this._m;
if(c==0){this.p4=JSON.parse(JSON.stringify(W));this._m=W}else if(c==1){Y.KI=A(Y.KI,W.KI);Y.xc=A(Y.xc,W.xc);
Y.s=A(Y.s,W.s);R.KI=o(R.KI,W.KI);R.xc=o(R.xc,W.xc);R.s=o(R.s,W.s)}else if(c==2){var $=(Y.KI+R.KI)/2,k=(Y.xc+R.xc)/2,w=(Y.s+R.s)/2;
if(W.KI<$)Y.KI=o(Y.KI,W.KI+10);else R.KI=A(R.KI,W.KI-10);if(W.xc<k)Y.xc=o(Y.xc,W.xc+1);else R.xc=A(R.xc,W.xc-1);
if(W.s<w)Y.s=o(Y.s,W.s+1);else R.s=A(R.s,W.s-1)}this.Ta()};c_.prototype.RB=function(x){var z=this.DO.L(),A=this.U5,o={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(z==0){var i=this.p4,L=this._m;o.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.KI},A:{t:"doub",v:i.xc},B:{t:"doub",v:i.s}}};
o.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:L.KI},A:{t:"doub",v:L.xc},B:{t:"doub",v:L.s}}};o.Fzns={t:"long",v:A[0].L()}}else{z--;
var B=["shadows","midtones","highlights"][z];o.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][z]}};if(0<z)o[B+"LowerLimit"]={t:"long",v:A[3].L()};
if(z<2)o[B+"UpperLimit"]={t:"long",v:A[4].L()};o[B+"Fuzziness"]={t:"long",v:A[2].L()}}this.close();var D=new fZ(G.E.rm,!0);
D.data={zR:"colorRange",k7:o};this.c(D)};c_.prototype.N_=function(x,z){this.G_=x;this.asv(0,0);this.a6p()};
c_.prototype.Ta=function(){var x=this.G_,z=this.DO.L(),A=this.p4,o=this._m,i=this.U5,L=i[0].L()/200,B=!1;
if(z>0){A=i[3].L();o=i[4].L();if(A>=o)A=o-1;B=!0;L=i[2].L()/100}var D=Q.BO.Fm(x,A,o,L,B),Z=D.rect,j=D.channel,a=this.I,b=a.getContext("2d"),W=Math.floor(230*I.Z()),c=Math.floor(W*(Z.n/Z.m));
a.width=W;a.height=c;I.FX(a,W,c);var Y=f.C(j.length*4);f.OD(Y,4294967295);for(var F=0;F<3;F++)f.c8(j,Y,F);
var R=Q.S.eM([Y,Z],new cb(W/Z.m,0,0,c/Z.n,0,0)),$=R.rect,k=new ImageData(new Uint8ClampedArray(R.buffer.buffer),$.m,$.n);
b.putImageData(k,0,0)};function jC(){dz.call(this,[12,76,1],"createshape");this.eP=null;var x=I.z("div","form");
x.setAttribute("style","width:20em");this.body.appendChild(x);this.sQ=new eN([12,41],0,0,null,0,!1,!0);
x.appendChild(this.sQ.e);I.iw(x);this.SD=new eN([12,42],0,0,null,0,!1,!0);x.appendChild(this.SD.e);I.iw(x);
this.rE=new dg([19,5,3]);x.appendChild(this.rE.e);this.sQ.b(100);this.SD.b(100);this.jY=I.yD(this,x)}jC.prototype=new dz;
jC.prototype.RB=function(x){this.eP.a76(this.eP.a8P,this.sQ.L(),this.SD.L(),this.rE.L());this.close()};
jC.prototype.N=function(){if(this.eP)this.Ht=kc.get([5,3])+": "+kc.get(this.eP.avR);dz.prototype.N.call(this);
this.jY.N();this.sQ.N();this.SD.N();this.rE.N()};jC.prototype.N_=function(x,z){this.eP=z;this.N();this.sQ.AO()};
function dW(){dz.call(this,[11,1],"colorpicker");this.MQ=null;this.h4=null;this.vp=null;this.nc=!1;this.Vk=!1;
var x=I.z("div","flexrow"),L,B;this.body.appendChild(x);this.Fy=new hl(256,!0);this.Fy.W(G.E.o,this.vD,this);
x.appendChild(this.Fy.e);var z=I.z("div","form");z.setAttribute("style","width:14.5em; margin-left:1em;");
x.appendChild(z);this.a7P=I.z("div","full");z.appendChild(this.a7P);this.ajh=I.z("div","full");z.appendChild(this.ajh);
var A=I.z("div","flexrow");z.appendChild(A);var o=I.z("div"),i=I.z("div");A.appendChild(o);A.appendChild(i);
L=["R","G","B"];B=o;this.UW=[];for(var F=0;F<3;F++){var D=new eN(L[F]+":",0,255,null,0,!1,!0);this.UW.push(D);
D.W(G.E.o,this.an3,this);B.appendChild(D.e)}L=["H","S","B"];B=i;this.Y3=[];for(var F=0;F<3;F++){var Z=0,j=360,a="\xB0";
if(F!=0){j=100;a="%"}var D=new eN(L[F]+":",Z,j,a,0,!1,!0);this.Y3.push(D);D.W(G.E.o,this.ap$,this);B.appendChild(D.e)}this.SD=new bQ("Hex",null,6);
this.SD.W(G.E.o,this.Js,this);z.appendChild(this.SD.e);this.UL=I.z("input","fitem");this.UL.setAttribute("type","color");
this.UL.setAttribute("style","width:50px");this.UL.addEventListener("change",this.Js.bind(this),!1);
z.appendChild(this.UL);this.NY=new aw(9);this.NY.W(G.E.o,this.Js,this);z.appendChild(this.NY.e);this.jY=I.yD(this,z);
this.W("closebtn",this.lZ,this);this.uK=!1}dW.prototype=new dz;dW.prototype.Jb=function(){return!0};
dW.prototype.oQ=function(x,z){return new iL(Math.max(0,Math.min(150,(x-484)/2)),Math.max(0,Math.min(150,(z-316)/2)))};
dW.prototype.a0=function(x,z){this.Fy.a0(Math.min(256,x-226),z)};dW.prototype.N=function(x,z){dz.prototype.N.call(this);
this.jY.N()};dW.prototype.vD=function(x){this.h4=this.Fy.L();this.update()};dW.prototype.Xv=function(x,z,A,o,i){this.uK=!0;
this.asQ(x,i)};dW.prototype.Dg=function(x,z,A,o,i){if(!this.uK)return;this.asQ(x,i)};dW.prototype.V4=function(x,z,A,o,i){this.uK=!1};
dW.prototype.asQ=function(x,z){var A=Q.S5.Sh(x,z,1),o=A&255,i=A>>8&255,L=A>>16&255;this.h4={w:L/255,a:i/255,s:o/255};
this.update()};dW.prototype.an3=function(x){var z=this.UW,A=this.$y(parseInt(z[0].L())),o=this.$y(parseInt(z[1].L())),i=this.$y(parseInt(z[2].L()));
this.h4={w:A/255,a:o/255,s:i/255};this.update()};dW.prototype.ap$=function(x){var z=this.Y3,A=this.Le(parseInt(z[0].L())/360),o=this.Le(parseInt(z[1].L())/100),i=this.Le(parseInt(z[2].L())/100);
this.h4=f.M$(A,o,i);this.update()};dW.prototype.Js=function(x){var z;if(x.currentTarget==this.NY)z=this.NY.L();
else{z=x.currentTarget==this.SD?this.SD.L():this.UL.value;if(z.charAt(0)=="#")z=z.slice(1);if(z.length==3)z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2];
z=f.xe(z)}this.h4={w:(z>>16&255)/255,a:(z>>8&255)/255,s:(z&255)/255};this.update()};dW.prototype.CC=function(x){var z=x.w,A=x.a,o=x.s;
return Math.round(z*255)<<16|Math.round(A*255)<<8|Math.round(o*255)};dW.prototype.RB=function(x){this.afp();
var z=this.CC(this.h4);this.vp(z);this.close();this.Vk=!1;this.h4=null};dW.prototype.lZ=function(x){this.afp();
if(this.nc)this.vp(this.CC(this.MQ));this.Vk=!1;this.h4=null};dW.prototype.afp=function(x){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.apA};this.c(z)};dW.prototype.wB=function(x,z){var A=gn.v2(x,z);if(A!=null)this.NY.b(A);
if(z!=cu.NV)return;if(this.h4!=null){this.h4={w:(A>>16&255)/255,a:(A>>8&255)/255,s:(A>>0&255)/255};this.update()}};
dW.prototype.N_=function(x,z){var A=z.bk,o={w:(A>>16&255)/255,a:(A>>8&255)/255,s:(A>>0&255)/255};if(this.h4==null){var i=new fZ(G.E.Y,!0);
i.data={d:G.U.sy,OU:"crosshair",push:!0};this.c(i);this.uK=!1;this.vp=z.PE;this.nc=!1;this.Vk=z.W$;this.MQ=JSON.parse(JSON.stringify(o));
this.ajh.setAttribute("style","height:3em;background-color:#"+f.Ng(A)+";")}this.h4=o;this.update()};
dW.prototype.update=function(){var x=this.h4,z=this.CC(x),A=this.UW;A[0].b(Math.round(x.w*255));A[1].b(Math.round(x.a*255));
A[2].b(Math.round(x.s*255));this.SD.b(f.Ng(z));this.UL.value="#"+f.Ng(z);this.a7P.setAttribute("style","height:3em;background-color:#"+f.Ng(z)+";");
var o=f._$(x.w,x.a,x.s);A=this.Y3;A[0].b(Math.round(o.zp*360));A[1].b(Math.round(o.Ww*100));A[2].b(Math.round(o.u6*100));
this.Fy.b(x);if(this.Vk){this.vp(this.CC(this.h4));this.nc=!0}};dW.prototype.$y=function(x){return Math.max(0,Math.min(255,x))};
dW.prototype.Le=function(x){return Math.max(0,Math.min(1,x))};function bi(){dz.call(this,[11,2],"contoureditor");
this.afX=null;this.yg=null;this.response=null;this.Ba=I.z("div","cell");this.body.appendChild(this.Ba);
this.an=I.z("div","cell padded");this.body.appendChild(this.an);var x=I.z("div","bordered padded vmargin");
this.Ba.appendChild(x);this.hk=new fI(null,null,!0);this.hk.W(G.E.o,this.Vc,this);x.appendChild(this.hk.e);
this.jY=I.yD(this,this.an);this.W("closebtn",this.oG,this)}bi.prototype=new dz;bi.prototype.RB=function(){this.close()};
bi.prototype.N=function(){dz.prototype.N.call(this);this.jY.N();this.hk.N()};bi.prototype.Vc=function(x){this.yg.Crv.v=this.hk.L();
this.response(this.yg)};bi.prototype.oG=function(x){this.response(this.afX)};bi.prototype.N_=function(x,z){this.afX=JSON.parse(JSON.stringify(z.VK));
this.yg=z.VK;this.response=z.response;this.hk.b(this.yg.Crv.v)};function jk(){dz.call(this,[11,3],"csize");
this.z9=0;this.HE=I.z("div","form");this.HE.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.HE);
this.iF=new e1(!0,!0,!0,!0,!0);this.iF.aqd(!1);this.HE.appendChild(this.iF.e);this.Wm=new i6("Align with",[[8,7],[12,6]]);
this.Wm.W(G.E.o,this.a8G,this);this.NL=new aW([12,23,2],41);this.HE.appendChild(this.NL.e);this.NL.b(4);
this.F_=new fh(!1);this.F_.aop(new iL(0,0));this.jY=I.yD(this,this.body)}jk.prototype=new dz;jk.prototype.FE=function(x,z){return x!=null};
jk.prototype.wn=function(){return!0};jk.prototype.WU=function(x){return[bJ.Mj,bJ.vH,bJ.ci,bJ.ZG].indexOf(x)!=-1};
jk.prototype.R0=function(x,z,A,o){this.NL.a5J(o.u0())};jk.prototype.a8G=function(){var x=[this.NL.e,this.F_.e];
this.HE.removeChild(x[this.z9]);this.z9=this.Wm.L();this.HE.appendChild(x[this.z9])};jk.prototype.N=function(){dz.prototype.N.call(this);
this.iF.N();this.Wm.N();this.NL.N();this.F_.N();this.jY.N()};jk.prototype.RB=function(x){var z=this.iF.L(),A=z.x,o=z.y,i=new fZ(G.E.rm,!0);
i.data=Q.lv.LS(A,o,this.NL.L());this.close();this.c(i)};jk.prototype.N_=function(x,z){this.iF.b(new iL(x.m,x.n),x.um);
this.iF.AO()};function bM(){dz.call(this,[11,4],"duplinto");this.QW=null;this.O1=null;this.qH=null;var x=I.z("div","form");
x.setAttribute("style","max-width:26em");this.body.appendChild(x);this.Ql=new hN([12,43],["abc","def"]);
this.Ql.W(G.E.o,this.yj,this);x.appendChild(this.Ql.e);I.iw(x);this.Yg=new hN([1,16,0],["abc","def"]);
this.Yg.W(G.E.o,this.yj,this);x.appendChild(this.Yg.e);I.iw(x);this.Of=new bQ([12,48],null,14);x.appendChild(this.Of.e);
this.jY=I.yD(this,x)}bM.prototype=new dz;bM.prototype.wn=function(){return!0};bM.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.Ql.N();this.Of.N()};bM.prototype.yj=function(x){if(x&&x.target==this.Yg)return;var z=this.Ql.L(),A=this.O1[z],o=this.QW,i=A!=null&&A.add.artd!=null;
for(var F=0;F<o.f.length;F++)if(o.g[o.f[F]].add.artb)i=!1;this.Of.dU(z==this.O1.length);this.Yg.dU(i);
if(i){var L=A.root.children,B=[],D=this.qH=[];for(var F=0;F<L.length;F++){var Z=L[F].j;if(Z.add.artb)B.push(Z.getName());
D.push(L[F].index)}this.Yg.sx(B);this.Yg.b(0)}else this.qH=null};bM.prototype.N_=function(x,z,A){this.QW=x;
this.O1=A;this.Of.b(x.f.length==0?"Layer":x.g[x.f[0]].getName());var o=[];for(var F=0;F<A.length;F++){var i=A[F].name;
o.push(i.length<30?i:i.slice(0,27)+"...")}o.push([11,7]);this.Ql.sx(o);this.Ql.b(A.indexOf(x));this.yj(null)};
bM.prototype.RB=function(x){var z=this.Ql.L();if(z==this.O1.length){var A=new ew(this.Of.L()+".psd"),o=this.QW.m,i=this.QW.n,L=this.QW.oT();
if(L!=-1){var B=this.QW.g[L].nU();o=B.m;i=B.n}A.m=o;A.n=i;A.buffer=f.C(A.m*A.n*4);var D=A.Ad();D.rk("Background");
A.Wi([D]);var Z=new fZ(G.E.Y,!0);Z.cx=!0;Z.data={d:G.U.du,m5:A};this.c(Z)}var j=this.QW.mW(null,this.QW!=this.O1[z]),Z=new fZ(G.E.r,!0);
Z.data={d:g.e0,g:j,P0:this.QW,qT:this.O1[z]};if(this.qH)Z.data.Bq=this.qH[this.Yg.L()];Z.k=Q.xu;Z.cx=!0;
this.c(Z);this.close()};function i3(){dz.call(this,[1,9],"eassets");this.OQ=null;this.S$=null;var x=I.z("div","form");
x.setAttribute("style","width:32em");this.body.appendChild(x);this._9=I.z("span");x.appendChild(this._9);
I.iw(x);this.hP=[new dg("Only layers / folders, whose name starts with \"-e-\""),new dg("Remove parts outside the canvas"),new dg("Trim transparent parts")];
for(var F=0;F<3;F++){var z=this.hP[F];z.b(!0);z.W(G.E.o,this.rw,this);x.appendChild(z.e);I.iw(x)}this.sE=new i4([12,14,0],["1x","2x","3x","4x"]);
this.sE.b([!0,!1,!1,!1]);x.appendChild(this.sE.e);I._l(x);this.xz=["PNG","JPG","SVG","TIFF","TGA"];this.f2=new hN([12,50],this.xz);
this.f2.W(G.E.o,this.a9q,this);x.appendChild(this.f2.e);this.s9=new gP;x.appendChild(this.s9.e);this.jY=new eI([1,9],!0,null,!0);
this.jY.W("click",this.RB,this);x.appendChild(this.jY.e);this.W("closebtn",this.x4,this)}i3.prototype=new dz;
i3.prototype.a9q=function(x){this.s9.awy(this.xz[this.f2.L()],!1,!1,!1,this.S$.rM()!=null)};i3.prototype.x4=function(x){this.S$=null};
i3.prototype.N=function(){dz.prototype.N.call(this);this.f2.N();this.sE.N();this.jY.N();this.s9.N()};
i3.prototype.N_=function(x,z,A){this.S$=x;this.rw()};i3.prototype.rw=function(x){var z=this.atp(),A="- - - "+z.length+" exportable layers";
this._9.textContent=A;this.a9q(null)};i3.prototype.atp=function(){var x=this.hP[0].L(),z=[],A=this.S$;
for(var F=0;F<A.g.length;F++){var o=A.g[F],i=o.getName();if(!x&&!o.Q0()&&!o.rect.WT()||i.startsWith("-e"))z.push(F)}return z};
i3.prototype.wB=function(x,z){this.OQ=x};i3.prototype.RB=function(x){var z=this.S$,A=[this.xz[this.f2.L()]],o=[this.s9.L()],i=this.sE.L(),L={},B={},D=this.atp();
if(D.length==0){alert("No layers to export.");return}var Z=[this.hP[1].L(),this.hP[2].L()];for(var F=0;
F<D.length;F++){var j=D[F],a=z.g[j],b=a.getName();if(B[b]!=null){B[b]++;b+=" "+B[b]}else B[b]=1;var W=a.Gi();
a.uO(!0);for(var c=0;c<i.length;c++){if(!i[c])continue;var Y=c+1,R=Q.R7.BR(z,A,Y,this.OQ,j,o,Z);for(var $=0;
$<A.length;$++){var k=A[$],w=b.slice(b.startsWith("-e-")?3:0)+(Y==1?"":"@"+Y+"x")+"."+k.toLowerCase();
if(R[$])L[w]=new Uint8Array(R[$])}}a.uO(W)}var V=UZIP.encode(L),l=new fZ(G.E.Y,!0);l.data={d:G.U.ex,data:V,name:"assets.zip"};
this.c(l)};function gQ(){dz.call(this,"Export Color Lookup Tables","exlut");this.OQ=null;this.S$=null;
var x=I.z("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);this.hP=[new eN("Grid Points",1,256),new i6([12,50],[".CUBE"])];
var z=[16,0];for(var F=0;F<this.hP.length;F++){var A=this.hP[F];A.b(z[F]);A.parent=this;A.W(G.E.o,this.rw,this);
x.appendChild(A.e);I.iw(x)}this.jY=I.yD(this,x);this.W("closebtn",this.x4,this)}gQ.prototype=new dz;
gQ.prototype.FE=function(x,z){if(Math.min(x.m,x.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(x.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};gQ.prototype.x4=function(x){this.S$=null};gQ.prototype.wB=function(x,z){this.OQ=x};
gQ.prototype.N_=function(x,z,A){this.S$=x};gQ.prototype.RB=function(){var x=this.S$,z=this.hP[0].L(),A=[],o=new av(0,0,x.m,x.n),i=f.C(z*z*4),L=i.slice(0),B=new av(x.m-z>>>1,x.n-z>>>1,z,z),D=x.g[0],Z=D.buffer,j=D.rect;
D.rect=B;D.buffer=i;for(var a=0;a<z;a++){this.ap_(z,a,i);D.i(B);x.i(B);var b=x.MK();f.mV(b,o,L,B);for(var W=0;
W<z;W++)for(var c=0;c<z;c++){var Y=W*z+c<<2;A.push(L[Y]/255,L[Y+1]/255,L[Y+2]/255)}}var R=jJ.a5V(A,z,x.name);
gC.save(R,x.name.split(".")[0]+".CUBE");D.buffer=Z;D.rect=j;D.i();x.i()};gQ.prototype.ap_=function(x,z,A){var o=255/(x-1),i=Math.round(z*o);
for(var L=0;L<x;L++)for(var B=0;B<x;B++){var D=L*x+B<<2;A[D]=Math.round(B*o);A[D+1]=Math.round(L*o);
A[D+2]=i;A[D+3]=255}};gQ.prototype.N=function(){dz.prototype.N.call(this);for(var F=0;F<this.hP.length;
F++)this.hP[F].N();this.jY.N()};function dT(){dz.call(this,[1,14],"finfo");this.UG=null;this.$V=null;
this.UM=null;this.HE=I.z("div","form scrollable label12");this.HE.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.HE);var x=I.z("div","form");this.body.appendChild(x);this.gV=new hN(null,["Hello"]);
x.appendChild(this.gV.e);this.aue=new eI("Add Parameter",!1,null,!0);x.appendChild(this.aue.e);this.aue.W("click",this.FS,this);
this.n9=new eI("=== S A V E ===",!1,null,!0);x.appendChild(this.n9.e);this.n9.W("click",this.y5,this);
this.a4x=""}dT.prototype=new dz;dT.prototype.oQ=function(x,z){return x<450||z<450?new iL(0,0):new iL(150,100)};
dT.prototype.FS=function(x){if(this.UM.length==0)return;var z=this.UM[this.gV.L()],A=this.XE();A[z]=gT.Rn[z][0];
this.ls(A);this.$V[z].e.scrollIntoView();this.$V[z].AO()};dT.prototype.oV=function(x){var z=this.XE();
delete z[x.currentTarget.aa_];this.ls(z)};dT.prototype.y5=function(x){var z=this.XE(),A=this.UG,o=!0;
for(var i in A)if(JSON.stringify(A[i])!=JSON.stringify(z[i]))o=!1;for(var i in z)if(JSON.stringify(A[i])!=JSON.stringify(z[i]))o=!1;
if(o)return;var L=new fZ(G.E.r,!0);L.k=Q.xu;L.data={d:g.g4,zV:z};this.c(L);this.UG=z;this.ls(z)};dT.aaH=function(x){function z(i){var L=i.toLowerCase();
return i==L}var A=x.split(":").pop();for(var o=1;o<A.length-1;o++){if(A[o]==A[o].toUpperCase()&&(z(A[o+1])||z(A[o-1]))){A=A.slice(0,o)+" "+A.slice(o);
o++}}return A};dT.prototype.N_=function(x,z){this.UG=x._T;this.ls(x._T)};dT.prototype.ls=function(x){var z=this.HE,i=0;
I.Uv(z);var A=this.$V={},o=["tiff","exif","exif:GPS"],L=this.UM=[],B=[];for(var D in gT.Rn){var Z=dT.aaH(D),j=0,a=15,b=null;
if(x[D]==null){if(gT.Rn[D].length!=1||D=="photoshop:Credit"||D=="photoshop:Source"){L.push(D);B.push(Z)}continue}for(var F=0;
F<o.length;F++)if(D.startsWith(o[F]))j=F;if(j!=i){I._l(z);i=j}if(D=="tiff:ImageDescription"||D=="dc:Keywords"){a=18.5;
b=3}var W=new bQ(Z,null,a,b);A[D]=W;var c=x[D];if(c instanceof Array)c=c[1]==0?"---":c[0]+"/"+c[1];var Y=new eI("\u2716",null,kc.get([5,4]));
z.appendChild(Y.e);Y.W("click",this.oV,this);Y.aa_=D;W.b(c);z.appendChild(W.e);I.iw(z);if(D=="exif:GPSLongitude"&&x["exif:GPSLatitude"]){this.a4x=dT.a7v(x["exif:GPSLatitude"])+","+dT.a7v(x["exif:GPSLongitude"]);
var R=new eI("Show on map",!1,null,!0);z.appendChild(R.e);I.iw(z);R.W("click",this.a4v,this)}}this.gV.sx(B);
this.gV.b(0)};dT.prototype.XE=function(){var x=this.$V,z=gT.Rn,A={};for(var o in z){var i=z[o][0],L=typeof i;
if(i==null||x[o]==null)continue;var B=x[o].L(),D="The value of \""+dT.aaH(o)+"\" must ";if(L=="number"){B=parseFloat(B);
if(isNaN(B)){alert(D+"be a number.");B=i}}else if(i instanceof Array&&i.length==2){if(B.indexOf("/")==-1){alert(D+"be a fraction.");
B=i.slice(0)}else{B=B.split("/").map(parseFloat);if(isNaN(B[0])||isNaN(B[1])){B=i.slice(0)}}}A[o]=B}return A};
dT.a7v=function(x){var z=x.length,A=x.slice(0,z-1).split(",").map(parseFloat),o=x.slice(z-1),i=A[0]+A[1]/60+A[2]/3600;
if(o!="N"&&o!="E")i=-i;return i};dT.prototype.a4v=function(x){window.open("https://maps.google.com?q="+this.a4x,"Map")};
function eY(){dz.call(this,[11,5],"gradienteditor");this.MQ=null;this.h4=null;this.Ii=null;this.vp=null;
this.nc=!1;this.Vk=!1;this.zF=null;this.FC=null;this.$j=-1;this.bz=-1;this.EC=0;this.Tv=this.uB.bind(this);
this.Lz=this.zc.bind(this);this.I=I.z("canvas");this.E4=this.I.getContext("2d");this.I.setAttribute("style","display:block");
this.Oz=null;I.MX(this.I);I.Zs(this.I,this.qc.bind(this));this.Pr=I.z("div","form");this.g8=I.z("div");
this.Fh=I.z("div","form");this.BU=I.z("div");this.S4=new hN([12,44],[[15,10,0],[24,6]]);this.S4.W(G.E.o,this.rp,this);
this.body.appendChild(this.S4.e);I._l(this.body);var x=this.Pr;this.RO=new eN([19,3,3],0,100,"%");this.RO.W(G.E.o,this.rp,this);
this.RO.parent=this;x.appendChild(this.RO.e);I.iw(x);this.Kx=new eX([12,0]);x.appendChild(this.Kx.e);
this.Wf=I.z("div","bordered padded noalign");x.appendChild(this.Wf);this.pg=new eN([12,0],0,100,"%");
this.pg.parent=this;this.pg.W(G.E.o,this.rp,this);this.Wf.appendChild(this.pg.e);this.iM=new eN([12,40],0,100,"%");
this.iM.parent=this;this.iM.W(G.E.o,this.rp,this);this.Wf.appendChild(this.iM.e);this.$s=new eI([5,4],!1,null,!0);
this.$s.W("click",this.a7B,this);this.Wf.appendChild(this.$s.e);x.appendChild(this.g8);this.arQ=new eX([13,0]);
x.appendChild(this.arQ.e);this.K8=I.z("div","bordered padded noalign");x.appendChild(this.K8);this.x9=new hN([12,44],[[12,45],[12,46],[12,47]]);
this.x9.W(G.E.o,this.rp,this);this.K8.appendChild(this.x9.e);this.$H=new aD(!0);this.$H.parent=this;
this.$H.W(G.E.o,this.rp,this);this.K8.appendChild(this.$H.e);this.H4=new eN([12,40],0,100,"%");this.H4.parent=this;
this.H4.W(G.E.o,this.rp,this);this.K8.appendChild(this.H4.e);this.bK=new eI([5,4],!1,null,!0);this.bK.W("click",this.a29,this);
this.K8.appendChild(this.bK.e);var x=this.Fh;this.eh=new eN("Roughness",0,100,"%");this.eh.W(G.E.o,this.rp,this);
this.eh.parent=this;x.appendChild(this.eh.e);x.appendChild(this.BU);this.C2=new eI([25,1,2],!1,null,!0);
this.C2.W("click",this.rp,this);x.appendChild(this.C2.e);this.jY=I.yD(this);this.W("closebtn",this.lZ,this)}eY.prototype=new dz;
eY.prototype.lZ=function(x){if(this.nc)this.vp(this.MQ)};eY.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.RO.N();this.Kx.N();this.arQ.N();this.$s.N();this.bK.N();this.pg.N();this.iM.N();this.x9.N();
this.H4.N();this.C2.N()};eY.prototype.wB=function(x,z){this.Ii=x};eY.prototype.N_=function(x,z){this.h4=JSON.parse(JSON.stringify(z.Q));
this.MQ=JSON.parse(JSON.stringify(z.Q));this.zF=this.FC=null;this.vp=z.PE;this.nc=!1;this.Vk=z.W$;this.SN();
this.Mh()};eY.prototype.RB=function(x){var z=this.h4;this.vp(z);this.close()};eY.prototype.WU=function(x){return x==bJ.BC||x==bJ.Bo};
eY.prototype.R0=function(x,z,A,o){if(o.A(bJ.BC)||o.A(bJ.Bo)){if(this.FC)this.a7B();if(this.zF)this.a29()}};
eY.prototype.a7B=function(x){var z=this.h4.Trns.v;if(this.FC==null||z.length==1)return;z.splice(z.indexOf(this.FC),1);
this.FC=null;this.SN();this.Mh()};eY.prototype.a29=function(x){var z=this.h4.Clrs.v;if(this.zF==null||z.length==1)return;
z.splice(z.indexOf(this.zF),1);this.zF=null;this.SN();this.Mh()};eY.prototype.SN=function(){var x=this.I,z=this.E4,A=I.Z();
x.width=Math.floor(410*A);x.height=Math.floor(70*A);I.FX(x,x.width,x.height);x.style.marginTop="8px";
this.Oz=new av(0,0,Math.floor(380*A),Math.floor(32*A));this.Oz.x=Math.floor((x.width-this.Oz.m)/2);this.Oz.y=Math.floor((x.height-this.Oz.n)/2);
var o=this.Oz,i=o.m,L=o.n,B=o.x,D=o.y,Z=new av(0,0,i,L),j=z.getImageData(0,0,i,L),a=new Uint8Array(j.data.buffer);
f.ar(a,i,L,8);var b=f.C(i*L*4);f.Q.aS(this.h4,b,Z,[1/i,0,0,1/L],i/2,L/2,!1,0,this.Ii.VJ,this.Ii.GN);
f.q.lx("norm",b,o,a,o,o,1);z.clearRect(0,0,x.width,x.height);z.putImageData(j,B,D);var W=this.h4;if(W.Clrs){var c=W.Trns.v,Y=W.Clrs.v,R=f.Q.PV(Y,this.Ii.VJ,this.Ii.GN),$=Math.round(6*I.Z()),k=Math.round(14*I.Z()),w=this.FC?this.FC.v:null,V=this.zF?this.zF.v:null;
for(var F=0;F<c.length;F++){var h=c[F].v,l=Math.round(255-255*h.Opct.v.val/100);if((h==w||c[F-1]&&c[F-1].v==w||F==this.bz)&&F!=0){z.fillStyle="#000000";
z.fillRect(B-3+i*(c[F-1].v.Lctn.v+(h.Lctn.v-c[F-1].v.Lctn.v)*h.Mdpn.v/100)/4096,D-6-2,6,6)}if(h==w){z.fillStyle="#ffffff";
z.fillRect(B-$+i*(h.Lctn.v/4096)-2,D-2-k-2,2*$+4,k+4)}z.fillStyle="rgb("+l+","+l+","+l+")";z.fillRect(B-$+i*(h.Lctn.v/4096),D-2-k,2*$,k)}for(var F=0;
F<Y.length;F++){var M=Y[F].v,q=R[F];if((M==V||Y[F-1]&&Y[F-1].v==V||F==this.$j)&&F!=0){z.fillStyle="#000000";
z.fillRect(B-3+i*(Y[F-1].v.Lctn.v+(M.Lctn.v-Y[F-1].v.Lctn.v)*M.Mdpn.v/100)/4096,D+L+2,6,6)}if(M==V){z.fillStyle="#ffffff";
z.fillRect(B-$+i*(M.Lctn.v/4096)-2,D+L+2-2,2*$+4,k+4)}z.fillStyle="rgb("+Math.round(q.w)+", "+Math.round(q.a)+","+Math.round(q.s)+")";
z.fillRect(B-$+i*(M.Lctn.v/4096),D+L+2,2*$,k)}}if(this.Vk){this.vp(this.h4);this.nc=!0}};eY.prototype.Mh=function(){var x=this.h4,z=x.Clrs?0:1;
this.S4.b(z);if(I.gX(this.Pr))this.body.removeChild(this.Pr);if(I.gX(this.Fh))this.body.removeChild(this.Fh);
(z==0?this.g8:this.BU).appendChild(this.I);if(z==0){this.body.appendChild(this.Pr);this.RO.b(Math.round(100*x.Intr.v/4096));
var A=x.Trns.v,o=x.Clrs.v,i=this.FC!=null,L=this.bz!=-1;this.pg.dU(i);this.iM.dU(i||L);this.$s.dU(i);
if(i){this.Wf.setAttribute("style","");var B=this.FC.v;this.iM.b(Math.round(100*B.Lctn.v/4096));this.pg.b(B.Opct.v.val)}if(L)this.iM.b(A[this.bz].v.Mdpn.v);
var i=this.zF!=null,L=this.$j!=-1;this.x9.dU(i);this.$H.dU(i);this.H4.dU(i||L);this.bK.dU(i);if(i){this.K8.setAttribute("style","");
var D=this.zF.v;this.H4.b(Math.round(100*D.Lctn.v/4096));var Z=D.Type.v.Clry;this.x9.b(["FrgC","BckC","UsrS"].indexOf(Z));
if(Z=="FrgC")this.$H.Mg(this.Ii.VJ);if(Z=="BckC")this.$H.Mg(this.Ii.GN);if(Z=="UsrS")this.$H.b(D.Clr.v)}if(L)this.H4.b(o[this.$j].v.Mdpn.v)}else{this.body.appendChild(this.Fh);
this.eh.b(Math.round(100*x.Smth.v/4096))}this.body.appendChild(this.jY.e)};eY.prototype.rp=function(x){var z=this.h4,A=z.Clrs?0:1;
if(x.target==this.S4){var o=A==0?JSON.parse(gN.VQ.a3Z).v:h6.d6("grdm").Grad.v;this.h4=o;this.Mh();this.SN();
return}if(A==0){z.Intr.v=Math.round(4096*this.RO.L()/100);var i=z.Trns.v,L=z.Clrs.v;if(this.FC!=null){var B=this.FC.v;
B.Lctn.v=Math.round(4096*(this.iM.L()/100));B.Opct.v.val=this.pg.L()}if(this.zF!=null){var D=this.zF.v;
D.Lctn.v=Math.round(4096*(this.H4.L()/100));if(x.target==this.$H)this.x9.b(2);var Z=this.x9.L();D.Type.v.Clry=["FrgC","BckC","UsrS"][Z];
if(Z==2)D.Clr={t:"Objc",v:this.$H.L()};else if(D.Clr)delete D.Clr}if(this.bz!=-1)i[this.bz].v.Mdpn.v=this.iM.L();
if(this.$j!=-1)L[this.$j].v.Mdpn.v=this.H4.L()}else{z.Smth.v=Math.round(4096*this.eh.L()/100);if(x.target==this.C2)z.RndS.v=Math.floor(Math.random()*4294967295)}this.SN()};
eY.prototype.qc=function(x){var z=I.Ki(x,this.I),A=this.Oz,o=(z.x*I.Z()-A.x)/A.m,i=(z.y*I.Z()-A.y)/A.n,L=this.h4.Trns.v,B=this.h4.Clrs.v,D=null,Z=null,j=-1,a=-1;
if(i<1)for(var F=0;F<L.length;F++){var b=L[F].v;if(Math.abs(b.Lctn.v/4096-o)<.02)D=L[F];if(F>0)if(Math.abs((L[F-1].v.Lctn.v+(b.Lctn.v-L[F-1].v.Lctn.v)*b.Mdpn.v/100)/4096-o)<.01)j=F}if(i>0)for(var F=0;
F<B.length;F++){var W=B[F].v;if(Math.abs(W.Lctn.v/4096-o)<.02)Z=B[F];if(F>0)if(Math.abs((B[F-1].v.Lctn.v+(W.Lctn.v-B[F-1].v.Lctn.v)*W.Mdpn.v/100)/4096-o)<.01)a=F}if(Z==null&&D==null&&j==-1&&a==-1){if(i<0){var b={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
b.v.Lctn.v=Math.round(o*4096);L.push(b);L.sort(this.mx);D=b}if(i>1){var B=this.h4.Clrs.v,c=f.Q.PV(B,this.Ii.VJ,this.Ii.GN),Y=f.Q.ZU(this.h4,c,o),W={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:f.Q.Vv({w:Y&255,a:Y>>8&255,s:Y>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
W.v.Lctn.v=Math.round(o*4096);B.push(W);B.sort(this.mx);Z=W}}if(Z!=null)a=-1;if(D!=null)j=-1;if(Z!=null||D!=null||j>-1||a>-1){this.FC=D;
this.zF=Z;this.bz=j;this.$j=a;this.Mh();this.SN();I.Ss(window,this.Tv);I.ek(window,this.Lz)}};eY.prototype.uB=function(x){var z=I.Ki(x,this.I),A=this.Oz,o=(z.x*I.Z()-A.x)/A.m,i=(z.y*I.Z()-A.y)/A.n;
o=Math.max(0,Math.min(1,o));var L=this.h4.Trns.v,B=this.h4.Clrs.v;if(this.FC!=null){var D=this.FC.v;
D.Lctn.v=Math.round(4096*o);var Z=L.indexOf(this.FC);if(Z!=-1&&i<-1&&L.length>1)L.splice(Z,1);if(Z==-1&&i>-1)L.push(this.FC);
L.sort(this.mx)}if(this.zF!=null){var j=this.zF.v;j.Lctn.v=Math.round(4096*o);var a=B.indexOf(this.zF);
if(a!=-1&&i>2&&B.length>1)B.splice(a,1);if(a==-1&&i<2)B.push(this.zF);B.sort(this.mx)}if(this.bz>-1){var D=L[this.bz].v;
D.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(o*4096-L[this.bz-1].v.Lctn.v)/(D.Lctn.v-L[this.bz-1].v.Lctn.v))))}if(this.$j>-1){var j=B[this.$j].v;
j.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(o*4096-B[this.$j-1].v.Lctn.v)/(j.Lctn.v-B[this.$j-1].v.Lctn.v))))}if(this.FC!=null||this.zF!=null||this.bz>-1||this.$j>-1){this.Mh();
this.SN()}};eY.prototype.zc=function(x){I.va(window,this.Tv);I.K9(window,this.Lz);if(Date.now()-this.EC<300){if(this.$j!=-1||this.bz!=-1){var z=(this.$j!=-1?this.h4.Clrs.v[this.$j]:this.h4.Trns.v[this.bz]).v;
z.Mdpn.v=50;this.Mh();this.SN()}else if(this.zF!=null)this.$H.XL()}this.EC=Date.now()};eY.prototype.mx=function(x,z){return x.v.Lctn.v-z.v.Lctn.v};
function iH(){dz.call(this,[11,10],"isize");this.HE=I.z("div","form");this.HE.setAttribute("style","width:20em");
this.body.appendChild(this.HE);this.iF=new e1(!0,!0,null,null,!0);this.HE.appendChild(this.iF.e);this.RV=new dg([12,25,3]);
this.RV.b(!0);this.HE.appendChild(this.RV.e);this.RV.W(G.E.o,this.a7O,this);this.mo=new hN([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.mo.b(1);this.HE.appendChild(this.mo.e);this.jY=I.yD(this,this.body)}iH.prototype=new dz;iH.prototype.FE=function(x,z){return x!=null};
iH.prototype.wn=function(){return!0};iH.prototype.a7O=function(x){var z=this.RV.L(),A=this.iF,o=this.mo;
if(z)o.LV();else o.vb();if(z)A.aoE();else A.awU()};iH.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.mo.N();this.iF.N()};iH.prototype.RB=function(x){this.close();var z=this.iF.L(),A=z.x,o=z.y,i=this.mo.L();
if(!this.RV.L())i=null;var L=new fZ(G.E.rm,!0);L.data=Q.lv.Bw(A,o,this.iF.om(),i);this.c(L)};iH.prototype.N_=function(x,z){this.iF.b(new iL(x.m,x.n),x.um);
this.iF.AO()};function k7(){dz.call(this,"Import RAW","importraw");var x=I.z("div","flexrow"),z=I.z("div");
z.setAttribute("style","margin-bottom: 1em");this.body.appendChild(x);this.body.appendChild(z);var A=I.z("div","form");
A.setAttribute("style","width:18em");x.appendChild(A);var o=I.z("div","form");o.setAttribute("style","width:15em");
x.appendChild(o);this.eP=null;this.YA=null;this.T2=null;this.ed=null;this.ar7=[];var i=[];for(var F=0;
F<k7.cY.length;F++)i.push(k7.cY[F]+" Bits");var L=this.AQ=[new e1(!0,null,null,!0),new eN([12,72],1,8),new dg("Last one is Transparency"),new i6([12,34],i),new i6("Byte Order",["12-34","34-12"]),new hN("Guesses",[])];
for(var F=0;F<L.length;F++){var B=L[F];B.parent=this;B.W(G.E.o,F==5?this.aoQ:this.yj,this);var D=F==0?A:F==5?z:o;
D.appendChild(B.e)}this.I=I.z("canvas");this.E4=this.I.getContext("2d");this.body.appendChild(this.I);
this.jY=I.yD(this,this.body)}k7.prototype=new dz;k7.prototype.N=function(){dz.prototype.N.call(this);
var x=this.AQ;this.jY.N();for(var F=0;F<x.length;F++)x[F].N()};k7.prototype.RB=function(x){this.close();
var z=this.AQ[0].L(),A=iF.Q9(this.YA,[{data:this.T2,xH:new av(0,0,z.x,z.y)}]);if(this.ed)A.lX=this.ed;
var o=new fZ(G.E.Y,!0);o.data={d:!0?G.U.du:G.U.in,m5:A};this.c(o)};k7.cY=[8,16];k7.prototype.N_=function(x,z){this.eP=new Uint8Array(z.cZ);
this.YA=z.W7;var A=this.eP.length,o=[1,3,4],i=0,L=0,B=1,D=1,Z=this.ar7=[];for(var j=0;j<3;j++){for(var a=0;
a<2;a++){var b=k7.cY[a],W=o[j],c=W*b,Y=Math.round(A*8/c);if(Y!=A*8/c)continue;for(var R=0;R<=4e3;R++)for(var $=0;
$<=4e3;$++)if(R*$==Y){var k=0;if(R==$)k+=64;if(Math.round(R/100)==R/100&&Math.round($/100)==$/100)k+=32;
if(Math.round(R/10)==R/10&&Math.round($/10)==$/10)k+=16;if(Math.round(R/2)==R/2&&Math.round($/2)==$/2)k+=8;
Z.push([R,$,W,b,k])}}}var w=function(M,q){if(q[4]!=M[4])return q[4]-M[4];var t=Math.max(M[0],M[1])/Math.min(M[0],M[1]),p=Math.max(q[0],q[1])/Math.min(q[0],q[1]);
if(t!=p)return t-p;return q[0]-M[0]};Z.sort(w);var V=this.AQ,h=[];for(var F=0;F<Z.length;F++){var l=Z[F];
h.push(l[0]+" x "+l[1]+", "+l[2]+"ch, "+l[3]+"-bit")}V[5].sx(h);V[5].b(0);this.aoQ(null)};k7.prototype.aoQ=function(x){var z=this.AQ,A=this.ar7[this.AQ[5].L()];
z[0].b(new iL(A[0],A[1]),72);z[1].b(A[2]);z[3].b(k7.cY.indexOf(A[3]));this.yj()};k7.prototype.yj=function(x){var z=this.AQ,A=z[0].L(),o=A.x,i=A.y,L=k7.cY[z[3].L()],B=this.eP;
if(L==16&&z[4].L()==1){B=B.slice(0);for(var F=0;F<B.length;F+=2){var D=B[F];B[F]=B[F+1];B[F+1]=D}}var Z=this.T2=this.i0(B,o,i,z[1].L(),L,z[2].L()),j=this.I,a=this.E4,b=[Z,new av(0,0,o,i)];
f.mL(b);for(var F=0;F<b.length;F+=2)if(b[F+1].n<300){Z=b[F];o=b[F+1].m;i=b[F+1].n;break}j.width=o;j.height=i;
I.FX(j,o,i);var W=new ImageData(new Uint8ClampedArray(Z.buffer),o,i);a.putImageData(W,0,0)};k7.prototype.i0=function(x,z,A,o,i,L){this.ed=null;
var B=[],D=z*A;for(var Z=0;Z<o;Z++){var j=f.C(D);B.push(j);if(i==8)for(var F=0;F<D;F++)j[F]=x[F*o+Z];
else if(i==16)for(var F=0;F<D;F++)j[F]=Math.round((x[(F*o+Z)*2]<<8|x[(F*o+Z)*2+1])*(255/65535))}var a=f.C(D*4);
new Uint32Array(a.buffer).fill(4278190080);if(L){f.c8(B.pop(),a,3);o--}if(o==0){}else if(o==1)f.c3(B[0],a);
else{f.c8(B[0],a,0);f.c8(B[1],a,1);if(o>2){f.c8(B[2],a,2);if(o>3){this.ed=[];for(var F=3;F<o;F++){var b=new g.$R;
b.name="Alpha "+(F-2);b.rect=new av(0,0,z,A);b.channel=B[F];this.ed.push(b)}}}}return a};function d9(x,z,A){a0.call(this);
this.e=I.z("div","");this.p3=x;this.B7=null;this.wG=z==null?!1:z;this.hb=null;this.J8=A;this.Jv=[];this.E_=[];
this.Yx=[];this.ct=[];this.m6=0;this.B7=this.afA(d9.ct[x]);this.m7();this.Hy=null;this.a6A;this.awF}d9.prototype=new a0;
d9.prototype.Xv=function(x,z,A,o,i){this.Hy=i;this.a6A=JSON.parse(JSON.stringify(this.hb));if(this.B7.lagl)this.awF=this.B7.lagl.L()[0]};
d9.prototype.Dg=function(x,z,A,o,i){var L=this.Hy,B=this.p3,D=this.a6A;if(L==null)return;var Z=(i.x-L.x)/x.t.X,j=(i.y-L.y)/x.t.X;
if(B=="GrFl"){var a=JSON.parse(JSON.stringify(D.Ofst.v));a.Hrzn.v.val+=Z*.5;a.Vrtc.v.val+=j*.5;this.B7.Ofst.b(a,!0)}if(B=="patternFill"){var a=JSON.parse(JSON.stringify(D.phase.v));
a.Hrzn.v+=Z;a.Vrtc.v+=j;this.B7.phase.b(a,!0)}if(B=="DrSh"||B=="IrSh"||B=="ChFX"){var b=D.Dstn.v.val,W=this.awF*Math.PI/180,c=-Math.cos(W)*b+Z,Y=Math.sin(W)*b+j;
this.B7.Dstn.b(Math.sqrt(c*c+Y*Y),!0);this.B7.lagl.b([Math.atan2(Y,-c)*180/Math.PI],!0)}};d9.prototype.V4=function(x,z,A,o,i){this.Hy=null};
d9.prototype.ag_=function(){for(var F=0;F<this.ct.length;F++){I.wi(this.ct[F],"selected");if(this.Yx[F]instanceof dg)this.Yx[F].b(!1)}};
d9.prototype.ajW=function(x){var z=this.a7w.bind(this);for(var F=0;F<this.Yx.length;F++){var A=I.z("div","listitem");
this.ct.push(A);if(F>0)A.textContent="\u2003";A.appendChild(this.Yx[F].e);if(gN.adU.indexOf(this.p3)!=-1){var o=new eI("+");
o.wR();o.e.style.float="right";A.appendChild(o.e);var i=new eI("\u2B0D");i.wR();i.e.style.float="right";
i.e.style["margin-right"]="2px";A.appendChild(i.e)}A.addEventListener("click",z,!1);x.appendChild(A)}};
d9.xj=function(x,z){var A=z.getBoundingClientRect();return(x.clientY-A.top)/A.height};d9.prototype.a7w=function(x){var z=x.target.tagName.toLowerCase();
if(z=="input"){return}if(z=="button"){var A=new fZ(G.E.r,!0),o=x.target.textContent=="+",i=o?0:d9.xj(x,x.target)<.5?-1:1;
if(o)A.data={d:"st_dupsingle",j:this.parent.data.j,ns:this.J8};else A.data={d:"st_movsingle",j:this.parent.data.j,ns:this.J8,a9u:i};
A.k=Q.je;A.cx=!0;this.c(A);A=new fZ("redrawall",!0);A.data={a9u:i};this.c(A);return}I.oG(x);this.Jf();
this.m6=this.ct.indexOf(x.currentTarget);this.c(new fZ("showme"))};d9.prototype.Jf=function(){if(this.B7.enab&&this.B7.enab.L()==!1)this.cO({Be:"enab",h:!0})};
d9.prototype.aoP=function(){var x=this.ct[this.m6];if(x)I.ho(x,"selected");return this.E_[this.m6]};
d9.prototype.afA=function(x){var z={};for(var F=0;F<x.length;F++){var A=x[F],o=null;if(A=="----")o={e:I.z("hr")};
if(A=="\n")o={e:I.z("br")};if(A=="blOptions")o=new eX([14,10]);if(A=="brst")o=new i4([12,72],["R","G","B"]);
if(A=="knko")o=new hN("Knockout",[[13,1,0],"Shallow","Deep"]);if(A=="enab")o=new dg(gN.names[gN.order.indexOf(this.p3)]);
if(A=="lrMd"||A=="Md")o=new hN([12,19,0],b_.m0,!1,b_.h3);if(A=="Opct")o=new kl([12,0],0,100,"%");if(A=="iOpa")o=new kl([12,26],0,100,"%");
if(A=="blIf")o=new hG;if(A=="ShdN")o=new kl([12,68],0,100,"%");if(A=="lagl"||A=="Angl")o=new iY([12,15],this.p3=="ebbl");
if(A=="uglg")o=new dg([12,27]);if(A=="Dstn")o=new kl([12,28],0,200,"px");if(A=="Ckmt")o=new kl([12,29],0,100,"%");
if(A=="blur")o=new kl([12,14,0],0,200,"px");if(A=="TrnS"||A=="MpgS")o=new ed([12,21]);if(A=="Nose")o=new kl([12,30],0,100,"%");
if(A=="layerConceals")o=new dg([12,31]);if(A=="AntA"||A=="antialiasGloss")o=new dg([12,25,1]);if(A=="GlwT")o=new hN([12,32],gN.Lj.names);
if(A=="glwS")o=new hN([12,70],gN.Lj.aa5);if(A=="Inpr")o=new kl([12,12],1,100,"%");if(A=="bvlS")o=new hN([12,22],gN.m_.style);
if(A=="bvlT")o=new hN([12,32],gN.m_.agk);if(A=="bvlD")o=new hN(null,gN.m_.dir);if(A=="srgR")o=new kl([12,34],0,1e3,"%");
if(A=="Sftn")o=new kl([12,35],0,20,"px");if(A=="Lald")o=z.lagl;if(A=="hglM"||A=="sdwM")o=new hN([12,36],b_.m0,!1,b_.h3);
if(A=="hglC"||A=="sdwC")o=new aD;if(A=="hglO"||A=="sdwO")o=new kl([12,0],0,100,"%");if(A=="Invr"||A=="InvT")o=new dg([4,11]);
if(A=="Sz")o=new kl([12,14,0],1,200,"px");if(A=="Styl")o=new hN([12,40],gN.stroke.names);if(A=="PntT")o=new hN([12,66],gN.stroke.acW);
if(A=="Clr")o=new aD(!0);if(A=="Grad"){o=new eD(!0,[12,37],!0);o.b(JSON.parse(gN.VQ.atF).v)}if(A=="Rvrs")o=new dg([12,23,0]);
if(A=="Dthr")o=new dg([12,23,3]);if(A=="Type")o=new hN([12,22],gN.Q.names.slice(0,this.p3=="FrFX"?6:5));
if(A=="Ptrn")o=new dk([12,62]);if(A=="Scl")o=new kl([12,38],5,500,"%",0,!0);if(A=="Algn")o=new dg([12,39]);
if(A=="Ofst")o=new fh(!0);if(A=="phase")o=new fh(!1);if(A=="useShape")o=new dg([12,21]);if(A=="useTexture")o=new dg([12,67]);
if(A=="textureDepth")o=new kl([12,34],-300,300,"%");var i=A=="----"||A=="\n"?A+F:A;if(o!=null)z[i]=o}return z};
d9.prototype.avU=function(x){var z=this.E_[this.m6];for(var F=0;F<x.length;F++){var A=this.B7[x[F]];
if(A&&z.contains(A.e))z.removeChild(A.e)}};d9.prototype.amr=function(x){var z=this.E_[this.m6];for(var F=0;
F<x.length;F++){var A=this.B7[x[F]];if(A&&!z.contains(A.e))z.appendChild(A.e)}};d9.prototype.wB=function(x,z){if(this.B7==null)return;
var A=z==cu._j;if(this.B7.Grad){this.B7.Grad.sA(x.VJ,x.GN);if(A||z==cu.NV||z==cu.HF)this.B7.Grad.VT(x.Po)}if(this.B7.Ptrn){if(A||z==cu.bq)this.B7.Ptrn.VT(x.UB)}if(this.B7.TrnS){if(A||z==cu.a6)this.B7.TrnS.VT(x.df)}if(this.B7.MpgS){if(A||z==cu.a6)this.B7.MpgS.VT(x.df)}};
d9.prototype.N=function(){for(var F=0;F<this.Jv.length;F++)this.Jv[F].N();for(var x in this.B7)if(this.B7[x]instanceof a0)this.B7[x].N()};
d9.prototype.m7=function(){for(var x in this.B7){var z=this.B7[x];z.parent=this;if(z instanceof a0)z.W(G.E.o,this.aic,this);
if(this.E_.length==0||x=="useShape"||x=="useTexture"){var A=new eX(z.ajL()),o=I.z("div","bordered padded");
if(this.wG==!1){o.appendChild(A.e);o.appendChild(I.z("hr",""))}this.Jv.push(A);this.E_.push(o);this.Yx.push(z)}else this.E_[this.E_.length-1].appendChild(z.e)}};
d9.prototype.update=function(x,z){if(this.B7==null)return;this.hb=JSON.parse(JSON.stringify(z));for(var A in z){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(A)!=-1)this.B7[A].b(z[A].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(A)!=-1){this.B7[A].b(z[A].v,x)}if(["Md","hglM","sdwM"].indexOf(A)!=-1)this.B7[A].b(b_.p3.indexOf(z[A].v.BlnM));
if(A=="lrMd"){var o=(z.Q0?[[15,10,27]]:[]).concat(b_.m0),i=(z.Q0?[1]:[]).concat(b_.h3);this.B7[A].sx(o,i);
this.B7[A].b(z[A].v)}if(A=="Angl")this.B7[A].b([z[A].v.val]);if(A=="lagl"){var L=z.uglg&&z.uglg.v?x.kA():z.lagl.v.val;
this.B7[A].b([L])}if(A=="Lald"){var L=z.uglg&&z.uglg.v?x.Ee():z.Lald.v.val;this.B7[A].b([null,L])}if(A=="Type")this.B7[A].b(gN.Q.types.indexOf(z.Type.v.GrdT));
if(A=="Styl")this.B7[A].b(gN.stroke.types.indexOf(z.Styl.v.FStl));if(A=="PntT"){var B=gN.stroke.Ar.indexOf(z.PntT.v.FrFl);
this.B7[A].b(B);if(!this.wG){this.avU(gN.ww.concat(gN.B_.concat(gN.Lm)));this.amr([gN.ww,gN.B_,gN.Lm][B])}}if(A=="GlwT")this.B7[A].b(gN.Lj.types.indexOf(z.GlwT.v.BETE));
if(A=="glwS")this.B7[A].b(gN.Lj.ait.indexOf(z.glwS.v.IGSr));if(A=="bvlS")this.B7[A].b(gN.m_.types.indexOf(z.bvlS.v.BESl));
if(A=="bvlT")this.B7[A].b(gN.m_.adi.indexOf(z.bvlT.v.bvlT));if(A=="bvlD")this.B7[A].b(["In","Out"].indexOf(z.bvlD.v.BESs))}};
d9.prototype.aic=function(x){for(var z in this.B7){if(this.B7[z]!=x.target)continue;var A=null,o=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(z)!=-1)A={type:"#Prc",val:x.target.L()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(z)!=-1)A={type:"#Pxl",val:x.target.L()};if(["Angl","lagl"].indexOf(z)!=-1)A={type:"#Ang",val:x.target.L()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(z)!=-1)A=x.target.L();
if(["Md","hglM","sdwM"].indexOf(z)!=-1)A={BlnM:b_.p3[x.target.L()]};if(z=="uglg"){A=x.target.L();o=!0}if(z=="PntT"){A={FrFl:gN.stroke.Ar[x.target.L()]};
o=!0}if(z=="Lald")A={type:"#Ang",val:x.target.L()[1]};if(z=="Type")A={GrdT:gN.Q.types[x.target.L()]};
if(z=="Styl")A={FStl:gN.stroke.types[x.target.L()]};if(z=="GlwT")A={BETE:gN.Lj.types[x.target.L()]};
if(z=="glwS")A={IGSr:gN.Lj.ait[x.target.L()]};if(z=="bvlS")A={BESl:gN.m_.types[x.target.L()]};if(z=="bvlT")A={bvlT:gN.m_.adi[x.target.L()]};
if(z=="bvlD")A={BESs:["In","Out"][x.target.L()]};this.cO({Be:z,h:A});if(o){if(this.wG)this.update(null,this.hb);
else{var i=this.parent,L=i.m5,B=this.J8,D=L.g[i.data.j].add.lmfx[gN.OX[B[0]]].v[B[1]].v;this.update(L,D)}}}};
d9.prototype.cO=function(x){if(this.hb&&this.hb[x.Be])this.hb[x.Be].v=x.h;if(this.wG){this.c(new fZ(G.E.o))}else{x.d="changeprop";
x.j=this.parent.data.j;x.dD=this.J8;var z=new fZ(G.E.r,!0);z.data=x;z.k=Q.je;z.cx=!0;this.c(z);this.c(new fZ("afterchange",!0))}};
d9.prototype.L=function(){return JSON.parse(JSON.stringify(this.hb))};d9.ct={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(gN.ww),GrFl:["enab","Md","Opct"].concat(gN.B_),patternFill:["enab","Md","Opct"].concat(gN.Lm),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(gN.ww.concat(gN.B_.concat(gN.Lm)))};
function e9(){dz.call(this,[11,6],"layerstyle");this.a41=-1;this.data={};this.m5=null;this.OQ=null;this.wL=[];
this.kI=[];I.ho(this.body,"flexrow");this.Ba=I.z("div","bordered");this.Ba.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Ba);this.R9=I.z("div","");this.R9.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.R9);this.an=I.z("div","form");this.an.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.an);this.jY=I.yD(this,this.an);this.TJ=new eI([12,87],!0,null,!0);this.TJ.W("click",this.ala,this);
this.an.appendChild(this.TJ.e);this.Aw=new bs;this.Aw.parent=this;this.Aw.W(G.E.o,this.aqB,this);this.an.appendChild(this.Aw.e);
this.W("closebtn",this.lZ,this);this.W("redrawall",this.akV,this)}e9.prototype=new dz;e9.prototype.wn=function(){return!0};
e9.prototype.Jb=function(){return!0};e9.prototype.Xv=function(x,z,A,o,i){var L=this.v5();if(L)L.Xv(x,z,A,o,i)};
e9.prototype.Dg=function(x,z,A,o,i){var L=this.v5();if(L)L.Dg(x,z,A,o,i)};e9.prototype.V4=function(x,z,A,o,i){var L=this.v5();
if(L)L.V4(x,z,A,o,i)};e9.prototype.v5=function(x){if(x==null)x=this.data.index;return x==null?null:x==0?this.wL[0]:this.kI[x[0]][x[1]]};
e9.prototype.aqB=function(x){var z=this.Aw.L();this.cO({d:"setstl",h:z.tz});this.akV(null)};e9.prototype.ala=function(x){var z=this.m5,A=this.data.j;
if(A==null)A=z.f[0];var o=this.m5.g[A],i=ct.a4H(o),L=new fZ(G.E.Y,!0);L.data={d:G.U.nF,Ra:"add",Hl:cu.X1,Cy:[JSON.parse(JSON.stringify(i))]};
this.c(L)};e9.prototype.ai6=function(x){this.data.index=x.currentTarget.J8;this.gs(x.currentTarget.J8)};
e9.prototype.akV=function(x){this.N_(this.m5,this.data)};e9.prototype.gs=function(x,z){I.Uv(this.R9);
for(var F=0;F<this.wL.length;F++)this.wL[F].ag_();var A=this.v5(x);this.R9.appendChild(A.aoP());if(z)A.Jf();
var o=this.m5;if(o){var i=o.g[this.data.j];this.wL[0].update(o,Q.PG.U4(o,i));var L=i.add.lmfx;if(L==null)return;
for(var F=0;F<gN.order.length;F++){var B=L[gN.OX[F]].v;for(var D=0;D<B.length;D++)this.kI[F][D].update(o,B[D].v)}}if(z)A.Jf()};
e9.prototype.N=function(){dz.prototype.N.call(this);this.TJ.N();this.Aw.N();this.jY.N();for(var F=0;
F<this.wL.length;F++)this.wL[F].N()};e9.prototype.N_=function(x,z){var A=z.j==null;this.data.j=z.j;this.data.index=z.index;
z=this.data;this.m5=x;if(A)z.j=x.f.length==0?x.g.length-1:x.f[0];I.Uv(this.Ba);var o=x.g[z.j].add.lmfx;
this.o0();this.wL=[new d9("bops",!1,0)];this.kI=[];for(var F=0;F<gN.order.length;F++){this.kI.push([]);
var i=o==null?[]:o[gN.OX[F]].v;for(var L=0;L<i.length;L++){var B=new d9(gN.order[F],!1,[F,L]);this.wL.push(B);
this.kI[F].push(B)}if(i.length==0){var B=new d9(gN.order[F],!1,[F,0]);this.wL.push(B);this.kI[F].push(B)}}this.N();
this.ajG(this.OQ,cu._j);for(var F=0;F<this.wL.length;F++){this.wL[F].parent=this;this.wL[F].ajW(this.Ba);
this.wL[F].W("showme",this.ai6,this)}if(z.index==null||z.index==0||!A&&o[gN.OX[z.index[0]]].v.length==0){this.gs(0)}else this.gs(z.index,A);
this.W("afterchange",this.o0,this)};e9.prototype.o0=function(x){var z=this.m5,A=this.data.j;if(A==null)A=z.f[0];
var o=this.m5.g[A],i=ct.a4H(o);this.Aw.b(i,z.add.Patt?z.add.Patt:[],z.kA(),z.Ee())};e9.prototype.wB=function(x,z){this.OQ=x;
this.ajG(x,z);if(z==cu.X1||z==cu._j){this.Aw.VT([x.Pq,x.UB])}if(z==cu.lb){}};e9.prototype.ajG=function(x,z){for(var F=0;
F<this.wL.length;F++)this.wL[F].wB(x,z)};e9.prototype.lZ=function(x){this.cO({d:"cancel"})};e9.prototype.RB=function(x){this.cO({d:"confirm"});
this.close()};e9.prototype.cO=function(x){x.j=this.data.j;var z=new fZ(G.E.r,!0);z.data=x;z.k=Q.je;z.cx=!0;
this.c(z);this.o0()};e9.Tj=function(x){var z=[{name:[14,10],Oh:!0}];for(var F=0;F<gN.names.length;F++)z.push({name:gN.names[F]});
if(x){z[z.length-1].Oh=!0;z.push({name:"Scale Effects",K:function(A){return{K:A!=null&&A.f.length!=0&&A.g[A.f[0]].Rq()}}});
z.push({name:["VAR0 VAR1",[12,49],[9,1]],K:function(A){return{K:A!=null&&A.f.length!=0&&A.g[A.f[0]].add.lmfx!=null}}})}return z};
e9.lD=function(x){var z=[{V:G.E.Y,M:{d:G.U.z1,ca:"layerstyle"}}];for(var F=0;F<gN.names.length;F++)z.push({V:G.E.Y,M:{d:G.U.z1,ca:"layerstyle",index:[F,0]}});
if(x){z.push({V:G.E.Y,M:{d:G.U.z1,ca:"scaleeffects",IO:100,YS:{V:G.E.r,k:Q.je,M:{d:"scaleeffects"}}}});
var A={classID:"Mk",null:jd.uU("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
z.push({V:G.E.rm,M:{zR:"make",k7:A}})}return z};e9.atf=function(x){var z=[];if(x)z.push({name:[6,48,0,0],fs:!0},{name:[6,48,0,1],fs:!0},{name:[6,48,0,2],fs:!0,Oh:!0});
for(var A in ei.names)z.push({name:ei.names[A],Oh:ei.arj.indexOf(A)!=-1,fs:T[A]!=null});return z};e9.Hh=function(x){var z=[];
if(x){z.push({V:G.E.r,k:Q.Ck,M:{d:"newfill",VW:0}});for(var F=1;F<3;F++)z.push({V:G.E.rm,M:Q.yP.rJ(F)})}for(var A in ei.names){var o=h6.d6(A);
if(o==null)o={};for(var i in ei.gO)if(ei.gO[i]==A)o.classID=i;var L={zR:"make",k7:{classID:"Mk",null:jd.uU("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:o}}}}};
z.push({V:G.E.rm,M:L})}return z};function fB(){dz.call(this,"Merge Channels","mergechannels");this.Nm=null;
var x=I.z("div","form");this.body.appendChild(x);this.AQ=[];for(var F=0;F<3;F++){var z=new hN(ei.$h[F],[]);
this.AQ.push(z);x.appendChild(z.e);I.iw(x)}this.jY=I.yD(this,x)}fB.prototype=new dz;fB.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();for(var F=0;F<3;F++)this.AQ[F].N()};fB.prototype.N_=function(x,z,A,o){this.Nm=A;var i=[];
for(var F=0;F<A.length;F++)i.push(A[F].name);for(var F=0;F<3;F++){var L=this.AQ[F];L.sx(i);L.b(Math.min(F,A.length-1))}};
fB.prototype.RB=function(x){var z=this.Nm,A=z[0],o=new fZ(G.E.rm,!0);o.data=ew.bR(A.m,A.n,A.um,"Merged Document","Wht",!1);
this.c(o);var i=[];for(var F=0;F<3;F++)i.push(z[this.AQ[F].L()].MK());var A=z[z.length-1],L=A.g[0],B=L.buffer;
for(var F=0;F<B.length;F+=4){B[F]=i[0][F];B[F+1]=i[1][F];B[F+2]=i[2][F]}L.i();A.i();this.close()};function d0(){dz.call(this,[1,10],"script");
var x=I.z("div","form");x.setAttribute("style","width:44em");this.body.appendChild(x);this.OQ=null;this.k1=[];
this.dg=[];this.akD;var z=this.n9=new eI([1,2],!1,null,!0);z.W("click",this.y5,this);x.appendChild(z.e);
var A=new eI("JS Reference",!1,null,!0);A.W("click",this.ah6,this);x.appendChild(A.e);x.appendChild(new eX("Demos:").e);
this.a7k=[];var o=d0.dH;for(var F=0;F<o.length;F++){var i=new eI(o[F].i_,!1,null,!0);this.a7k.push(i);
x.appendChild(i.e);i.W("click",this.aqc,this)}this.eO=I.z("textarea");I.aK(this.eO);this.eO.setAttribute("rows",16);
this.eO.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");x.appendChild(this.eO);
var L=new eI("Run",!0,null,!0);L.W("click",this.RB,this);x.appendChild(L.e);this.qo=I.z("div");x.appendChild(this.qo)}d0.prototype=new dz;
d0.prototype.N=function(){this.n9.N()};d0.prototype.y5=function(){var x=this.akD;if(x==null)x="script.jsx";
var z=new fZ(G.E.Y,!0);z.data={d:G.U.z1,ca:"namewindow",IO:x.slice(0,x.length-4),Cn:this.akS.bind(this)};
this.c(z)};d0.prototype.akS=function(x){var z=this.eO.value,A=m.zi(z),o=new fZ(G.E.Y,!0);o.data={d:G.U.t2,cZ:A.buffer,ts:x+".jsx",a2s:!0};
this.c(o)};d0.prototype.a1L=function(x){var F=this.k1.indexOf(x.target),z=this.akD=this.dg[F],A=this.OQ.v_.zU[z],o=new Uint8Array(A),i=m._X(o,0,o.length);
this.eO.value=i};d0.prototype.N_=function(x,z,A){this.eO.value=d0.dH[0].Pu;this.auV()};d0.prototype.auV=function(){var x=this.OQ.v_,z=this.qo;
I.Uv(z);this.k1=[];this.dg=[];z.textContent="Saved scripts: ";for(var A in x.zU){if(A.endsWith(".jsx")){var o=new eI(A,!1,null,!0);
this.k1.push(o);this.dg.push(A);o.W("click",this.a1L,this);z.appendChild(o.e)}}};d0.prototype.wB=function(x,z){this.OQ=x;
if(z==cu.Zz)this.auV()};d0.prototype.ah6=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.OB,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(z)};d0.prototype.RB=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.ep,ZC:this.eO.value};this.c(z)};
d0.prototype.aqc=function(x){var z=this.a7k.indexOf(x.currentTarget);this.eO.value=d0.dH[z].Pu};d0.dH=[{i_:"Hello",Pu:"\nalert(\"Hello Photopea!\");\n"},{i_:"Process Layers",Pu:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{i_:"Clone Layers",Pu:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cw(){dz.call(this,[11,7],"newproject");this.data=null;this.Nm=null;var x=I.z("div","flexrow");
this.Jk=x;this.body.appendChild(x);var z=I.z("div","form");this.HE=z;x.appendChild(z);this.Of=new bQ([12,48],null,10);
z.appendChild(this.Of.e);I.iw(z);this.iF=new e1(!0,null,null,null,!0);this.iF.b(new iL(1280,720),72);
this.iF.W(G.E.o,this.IU,this);z.appendChild(this.iF.e);this.f6=new j6;this.f6.parent=this;z.appendChild(this.f6.e);
this.vO=new eI("\u02C5",null,[0,14],!0);this.vO.W("click",this.fH,this);z.appendChild(this.vO.e);var A=this.alc=I.z("span");
z.appendChild(A);A.style.display="none";this.auX=new hN([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
A.appendChild(this.auX.e);this.ZZ=new dg([1,16,1]);A.appendChild(this.ZZ.e);this.jY=new eI([12,49],!0,null,!0);
this.jY.W("click",this.RB,this);z.appendChild(this.jY.e);var o=cw.eP,i=[];for(var F=0;F<o.length;F++)i.push(o[F].name);
this.oR=new i6(null,i);this.oR.W(G.E.o,this.a77,this);z.appendChild(this.oR.e);this.oR.e.style["margin-top"]="1em";
this.dM=new b9(!0);this.dM.W(G.E.o,this.a82,this);z.appendChild(this.dM.e);this.a77();this.zP=new cU;
this.zP.parent=this;this.zP.e.setAttribute("style","margin-left:1em");this.zP.W("tempready",this.a6d,this)}cw.prototype=new dz;
cw.prototype.fH=function(x){var z=this.alc,A=z.style.display!="none";z.style.display=A?"none":"";this.vO.mB(A?"\u02C5":"\u02C4");
this.a0(this.GM,this.zp)};cw.prototype.wB=function(x,z){this.zP.wB(x)};cw.prototype.oQ=function(x,z){return new iL(Math.max(0,Math.min(70,(x-690)/2)),x>z?Math.max(0,Math.min(50,(z-400)/2)):0)};
cw.prototype.a0=function(x,z){this.GM=x;this.zp=z;this.HE.setAttribute("style","width:"+Math.min(x-24,338)+"px");
this.dM.e.style.height=z-248-(this.alc.style.display=="none"?0:28)+"px";var A=this.zP.e,o=A.parentNode;
if(x<500){if(o!=null)this.Jk.removeChild(A)}else{if(o==null)this.Jk.appendChild(A);this.zP.a0(x-378,z-28)}};
cw.prototype.IU=function(){this.zP.b(this.iF.L())};cw.prototype.a82=function(x){var z=this.dM.L()[0],A=cw.eP[this.oR.L()].zS[z],o=A[4];
if(o==0)o=72;var i=A[1],L=A[2],B=["px","%","mm","in"].indexOf(A[3]),D=[1,1,25.4/o,1/o][B];i/=D;L/=D;
this.iF.b(new iL(Math.round(i),Math.round(L)),o);this.iF.arN(B);this.IU()};cw.prototype.a77=function(x){var z=cw.eP[this.oR.L()].zS,A=[],o=[],i=Math.round(106*I.Z()),L=Math.round(106*I.Z()),B=0;
for(var F=0;F<z.length;F++)B=Math.max(B,z[F][1],z[F][2]);for(var F=0;F<z.length;F++){var D=z[F],Z=D[1]+" x "+D[2]+" "+D[3];
if(D[3]=="in")Z=(D[1]*25.4).toFixed(0)+" x "+(D[2]*25.4).toFixed(0)+" mm";if(D[3]=="mm")Z=(D[1]/25.4).toFixed(1)+" x "+(D[2]/25.4).toFixed(1)+" in";
if(D[4])Z=Z+" @ "+D[4]+" ppi";o.push(Z);A.push(cw.p2(D,i,L,B))}this.dM.xl(A,o,i,L)};cw.p2=function(x,z,A,o){var i=I.z("canvas",""),L=i.getContext("2d");
i.width=z;i.height=A;var B=Math.round(z/8),D=Math.floor(11*I.Z()),Z=x[1],j=x[2];L.fillStyle="#000000";
L.font=Math.round(D*.9)+"px \"Open Sans\", Sans-Serif";var a=Z+" x "+j+" "+x[3],b=L.measureText(a);L.fillText(a,Math.round((z-b.width)/2),A-Math.round(B/2));
if(x[0]!=null){L.font="bold "+D+"px \"Open Sans\", Sans-Serif";var a=x[0],b=L.measureText(a);L.fillText(a,Math.round((z-b.width)/2),A-Math.round(B/2)-Math.round(D*1.3))}A-=Math.round(2.5*D);
var W=Math.min((z-B)/Z,(A-B)/j);W*=.5+.5*(Math.max(Z,j)/o);var c=(z-Z*W)/2,Y=(A-j*W)/2;L.strokeRect(Math.round(c)+.5,Math.round(Y)+.5,Math.round(Z*W),Math.round(j*W));
return i.toDataURL()};cw.prototype.N=function(){dz.prototype.N.call(this);this.iF.N();this.Of.N();this.f6.N();
this.jY.N();this.Of.b(kc.get([11,7]));this.oR.N();this.ZZ.N();this.vO.N();this.zP.N()};cw.prototype.RB=function(x){var z=this.iF.L(),A=z.x,o=z.y;
this.close();var i=this.f6.L(),L=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.auX.L()],B=new fZ(G.E.rm,!0);
B.data=ew.bR(A,o,this.iF.om(),this.Of.L(),["Wht","Blck","Trns","Clr"][i[0]],this.ZZ.L(),i[1],L);this.c(B);
this.aqC()};cw.prototype.a6d=function(x){var z=x.data.m5;z.um=this.iF.om();var A=new fZ(G.E.Y,!0);A.data={d:G.U.du,m5:z};
this.c(A);this.close();this.aqC()};cw.prototype.aqC=function(){var x=this.Nm[this.Nm.length-1],z=this.data.amo;
if(z)g1.pZ(function(){var A=new XMLHttpRequest,o="https://www.googleapis.com/drive/v3/files?"+g1.xY();
A.open("POST",o,!0);A.setRequestHeader("Content-Type","application/json");A.addEventListener("load",function(i){var L=JSON.parse(i.target.response);
x.yV={file:L,AK:"psd"};alert(x.name+" created in Google Drive")});A.send(JSON.stringify({name:x.name,abH:[z]}))})};
cw.prototype.N_=function(x,z,A,o){this.Nm=A;if(x!=null&&x.O!=null){var i=new av(0,0,x.m,x.n).tE(x.O.rect);
this.iF.b(new iL(i.m,i.n))}this.data=z;this.IU();if(I.dJ())gC.agM(this.aiv.bind(this))};cw.prototype.aiv=function(x){if(x=="granted")gC.jf(this,this.aaZ.bind(this))};
cw.prototype.aaZ=function(x,z){this.iF.b(new iL(z.m,z.n))};cw.eP=[{name:"Social",zS:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],zS:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],zS:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],zS:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],zS:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],zS:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",zS:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function ax(x,z,A){dz.call(this,z,"sel_"+x);this.d=x;var o=I.z("div","form");this.body.appendChild(o);
this.Of=new eN(z,0,255,null,0,!1,!0);o.appendChild(this.Of.e);this.Of.b(1);var i=I.z("span");i.textContent=A;
o.appendChild(i);I.iw(o);this.au6=new dg("Apply at canvas bounds");if(x!="border")o.appendChild(this.au6.e);
this.jY=I.yD(this,o)}ax.prototype=new dz;ax.prototype.FE=function(x,z){if(x==null)return;if(x.O==null)alert("No selection!");
return x.O!=null};ax.prototype.RB=function(x){var z=new fZ(G.E.rm,!0);z.data=Q.BO.ahY(this.d,this.Of.L(),this.au6.L());
z.cx=!0;this.c(z);this.close()};ax.prototype.N=function(){dz.prototype.N.call(this);this.jY.N();if(this.Of)this.Of.N()};
ax.prototype.N_=function(x,z){};function fm(x,z,A,o,i,L){dz.call(this,A,z);this.ahp=L;this.Vk=i;this.eP=null;
this.HE=I.z("div","form");this.body.appendChild(this.HE);this.Of=x==0?new bQ(A,null,10):x==1?new kl(A,0,500,o,1):new bQ(A,null,24,5);
this.Of.W(G.E.o,this.uA,this);this.HE.appendChild(this.Of.e);this.jY=I.yD(this,this.HE);this.W("closebtn",this.lZ,this)}fm.prototype=new dz;
fm.prototype.oQ=function(x,z){return new iL(Math.max(0,Math.min(150,(x-250)/2)),Math.max(0,Math.min(150,(z-120)/2)))};
fm.prototype.wn=function(){return this.ahp};fm.prototype.uA=function(x){var z=this.Of.L();if(this.Vk)this.IV(z)};
fm.prototype.lZ=function(x){if(this.Vk)this.IV("cancel")};fm.prototype.RB=function(x){if(this.Vk)this.IV("confirm");
else this.IV(this.Of.L());this.close()};fm.prototype.IV=function(x){if(this.eP.Cn)this.eP.Cn(x);else if(this.eP.YS){var z=this.eP.YS,A=new fZ(z.V,!0);
A.k=z.k;A.data=z.M;A.data.h=x;A.cx=!0;this.c(A)}};fm.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();if(this.Of)this.Of.N()};fm.prototype.N_=function(x,z){this.eP=z;this.Of.b(z.IO);this.Of.AO();
this.uA(null)};function gU(){dz.call(this,[1,5],"open_from_url");this.mf=null;var x=I.z("div","form");
this.body.appendChild(x);this.kL=new bQ("URL",null,22);x.appendChild(this.kL.e);I.iw(x);this.nu=new i6([21,0],[[21,2],[21,1]]);
x.appendChild(this.nu.e);this.jY=I.yD(this,x)}gU.prototype=new dz;gU.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.nu.N()};gU.prototype.N_=function(x,z,A){this.kL.AO();this.mf=null;if(x&&A.indexOf(x)!=-1)this.mf=A.indexOf(x)};
gU.prototype.RB=function(x){var z=new fZ(G.E.Y,!0),A=this.kL.L();z.data={d:G.U.gk,Hl:{url:A,Vz:!0,mf:this.nu.L()==1?this.mf:null}};
this.c(z);this.close()};function b4(){dz.call(this,[12,79],"preferences");this.OQ=null;var x=I.z("div","form");
this.body.appendChild(x);this.ct=[new dg([8,2]),new dg([8,4]),new hN([12,80,3],[[12,93,3],[12,80,4]]),new kl([12,80,5],1,100,null,2),new hN(null,f.Fi.la),new hN([12,80,6],f.Fi.la),new dg("Remind me to save")];
for(var F=0;F<this.ct.length;F++){var z=this.ct[F];x.appendChild(z.e);if(F!=3)I.iw(x);z.W(G.E.o,this.c2,this)}}b4.prototype=new dz;
b4.prototype.N=function(){dz.prototype.N.call(this);for(var F=0;F<this.ct.length;F++)this.ct[F].N()};
b4.prototype.N_=function(x,z,A){};b4.prototype.wB=function(x,z){this.OQ=x;this.ct[0].b(x.gw.sf);this.ct[1].b(x.gw.TQ);
this.ct[2].b(x.gw.r8);this.ct[3].b(x.gw.tq);this.ct[4].b(x.gw.Pv);this.ct[5].b(x.gw.xI);this.ct[6].b(x._t==1)};
b4.prototype.c2=function(x){var z=this.ct;if(x.target==z[6])this.OQ._t=1-this.OQ._t;var A=JSON.parse(JSON.stringify(this.OQ.gw));
A.sf=z[0].L();A.TQ=z[1].L();A.r8=z[2].L();A.tq=z[3].L();A.Pv=z[4].L();A.xI=z[5].L();if(A.Pv!=4)A.tq=Math.round(A.tq);
var o=new fZ(G.E.Y,!0);o.data={d:G.U.nF,Hl:cu.MU,NI:A};this.c(o)};function aV(){dz.call(this,[11,8],"saveforweb");
this.a5P="";this.W("closebtn",function(){this.CX.Zu()},this);this.bU=new iL(512,512);this.m5=null;this.eb=null;
this.aeR=null;this.OQ=null;I.ho(this.body,"flexrow");var x=I.z("div"),z=I.z("div");this.body.appendChild(x);
this.body.appendChild(z);this.K8=I.z("div","imgcont");x.appendChild(this.K8);this.CX=new fu;this.CX.a0(this.bU.x,this.bU.y);
this.wO=I.z("span");x.appendChild(this.wO);this.HE=I.z("div","form cell");this.HE.setAttribute("style","width:15em; padding-left:1em;");
z.appendChild(this.HE);this.j9=new hN([12,50],iF.Is());this.HE.appendChild(this.j9.e);this.j9.W(G.E.o,this.rw,this);
this.v8=new bQ([12,48],".www",7.7);this.HE.appendChild(this.v8.e);this.iF=new e1(!0,!0,!1,!0);this.iF.W(G.E.o,this.rw,this);
this.HE.appendChild(this.iF.e);this.s9=new gP;this.s9.W(G.E.o,this.rw,this);this.HE.appendChild(this.s9.e);
this.g9=new eI([1,2],!0,null,!0);this.g9.W("click",this.RB,this);this.HE.appendChild(this.g9.e)}aV.prototype=new dz;
aV.prototype.FE=function(x,z){return x!=null};aV.prototype.N=function(){dz.prototype.N.call(this);this.iF.N();
this.j9.N();this.s9.N();this.g9.N()};aV.prototype.RB=function(x){var z=this.v8.L().trim(),A=iF.Is()[this.j9.L()],o=A=="JPG"||A=="PNG"||A=="GIF",i=iF.Lg(A),L="."+A.toLowerCase(),B=this.eb,D=z+L,Z=this.m5,j=Z.TY,a=this.s9.L();
if(Z.rM())a.pop();if(j.length!=0&&o&&a.pop()){var b="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",W=[],c={},Y=new av(0,0,Z.m,Z.n),R=Z.MK();
for(var F=0;F<j.length;F++)W.push(Q.wV.vG(j,F));W.reverse();var $=f.rect.P1([0,0,Z.m,Z.n],W);for(var F=0;
F<$.length;F++){var k=$[F],w=new av(k[0],k[1],k[2]-k[0],k[3]-k[1]),V=k.length==5?j[k[4]].v:null,h=f.C(w.$()*4);
f.mV(R,Y,h,w);var l="img/img"+(F+1)+L;c[l]=new Uint8Array(i.ys([[h.buffer,0]],w.m,w.n,a));b+="<div style=\"background-image:url('"+l+"'); left:"+w.x+"px; top:"+w.y+"px; width:"+w.m+"px; height:"+w.n+"px\">";
if(V&&V.url.v!="")b+="\n\t<a href=\""+V.url.v+"\" target=\""+V.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
b+="</div>\n"}b+="</body>\n</html>\n";var M=f.C(Math.round(b.length*1.5)),q=m.Yq(b,M,0);c["index.html"]=M.slice(0,q);
B=UZIP.encode(c);D=z+".zip"}else if(Z.add.artd&&Z.add.artd.Cnt.v>1&&o&&a.pop()){var c={},Y=new av(0,0,Z.m,Z.n),R=Z.MK(),t=Z.root.children;
for(var F=0;F<t.length;F++){var p=t[F].j;if(p.add.artb==null||!p.Gi())continue;var E=p.nU(),_=f.C(E.$()*4);
f.mV(R,Y,_,E);c[p.getName()+L]=new Uint8Array(i.ys([[_.buffer,0]],E.m,E.n,a))}B=UZIP.encode(c);D=z+".zip"}if(Z.KY){var S=new XMLHttpRequest;
S.open("GET","/papi/img/update.php?act=1&id="+Z.KY+"&rnd="+Math.random());S.send()}var y=new fZ(G.E.Y,!0);
y.data={d:G.U.ex,data:B,name:D};this.c(y);this.CX.Zu();this.close()};aV.prototype.N_=function(x,z){if(z.a5!=null)this.j9.b(z.a5);
this.m5=x;var A=this.m5.name,o=A.lastIndexOf("."),A=o==-1?A:A.slice(0,o);this.v8.b(A);var i=x.m+","+x.n;
if(i!=this.a5P){this.a5P=i;this.iF.b(new iL(x.m,x.n),x.um)}this.s9.a2y();if(z.af4){this.iF.arN(3);this.s9.x1.PDF[2].If.b(!0)}this.rw(null,!0)};
aV.prototype.oQ=function(x,z){return new iL(Math.max(0,Math.min(150,(x-770)/2)),Math.max(0,Math.min(150,(z-590)/2)))};
aV.prototype.a0=function(x,z){this.GM=x;this.zp=z;this.bU.x=Math.min(512,x-26-214);this.bU.y=Math.min(512,z-45);
if(this.m5==null)return;var A=this.iF.L(),x=A.x,z=A.y,o=iF.Is()[this.j9.L()],i=iF.Lg(o),b="<span style=\"width:",W="display:inline-block; text-align:right;\">";
if(i.RQ){var L=x,B=z,D;if(o=="PDF"||i.lP){L=this.bU.x;B=this.bU.y}else{L=Math.min(x+20,this.bU.x);B=Math.min(z+20,this.bU.y)}this.K8.firstChild.setAttribute("style","display:block; width:"+L+"px; height:"+B+"px;")}else{if(i.lP){L=this.bU.x;
B=this.bU.y}else{var Z=this.aeR,j=Z[0].xH,L=j.m,B=j.n;this.CX.a0(Math.max(50,Math.min(L/I.Z(),this.bU.x)),Math.max(50,Math.min(B/I.Z(),this.bU.y)))}}var a=this.eb.byteLength,c=o+":"+b+64+"px;"+W+aV.l1(a)+"</span>";
if(this.bU.x>200)c+=b+90+"px; opacity:"+.5+";"+W+a.toLocaleString()+" B</span>";this.wO.innerHTML=c};
aV.l1=function(x){var z=x.toString(2),A=0;while(A+10<z.length)A+=10;var o=(x/Math.pow(2,A)).toFixed(1);
if(o.endsWith(".0"))o=o.slice(0,-2);var i="B KB MB GB TB PB".split(" ")[Math.floor(A/10)];return o+" "+i};
aV.prototype.wB=function(x,z){this.OQ=x};aV.prototype.rw=function(x,z){var A=this.m5,o=this.iF.L(),i=o.x,L=o.y,B=this.j9.L(),D=iF.Is()[B],$="";
this.v8.avj("."+D.toLowerCase());var Z=iF.bM(A)[0].length,j=["GIF","PNG","WEBP"].indexOf(D)!=-1&&Z>1;
if(j&&z&&(Z>4&&i*L>1024*1024||i*L*Z>800*800*50)){var a=1;while(Math.max(i>>>a,L>>>a)>800)a++;var b=window.confirm("Your animation is large ("+i+" x "+L+" px). Press \"OK\" to scale it to "+(100>>>a)+"%. Press \"Cancel\" to keep the size.");
if(b){this.iF.b(new iL(i>>>a,L>>>a),null,!0);i=i>>>a;L=L>>>a}}var W=A.add.artd,c=W!=null&&W.Cnt.v>1,Y=A.rM();
this.s9.awy(D,j,A.TY.length!=0,c,Y!=null);var R=this.s9.L();this.eb=iF.XO(A,D,i,L,R,this.OQ);if(this.eb==null){this.m5=null;
return}I.Uv(this.K8);this.CX.Zu();var k=iF.Lg(D);if(k.lP){this.K8.innerHTML="<div></div>";$+="width:0px"}else if(k.RQ){var w=i,V=L,h;
if(D=="PDF"){h=URL.createObjectURL(new Blob([this.eb],{type:"application/pdf"}))}else{h=URL.createObjectURL(new Blob([this.eb],{type:"image/svg+xml"}))}this.K8.innerHTML="<iframe src=\""+h+"\"></iframe>"}else{var l=this.aeR=k.i0(this.eb),M=l[0],q=M.xH,w=q.m,V=q.n;
if(M.E7){var t=ICC.R(M.E7.buffer),p=17,E=ICC.U.sampleLUT(t,p);for(var F=0;F<l.length;F++){var _=new Uint8Array(l[F].data);
ICC.U.applyLUT(E,p,_,_)}}this.CX.b(l,l.length>1?R[R.length-3]:0);this.K8.appendChild(this.CX.e);$="background: rgba(0,0,0,0);"}this.K8.setAttribute("style","display:block; background-size:"+16/I.Z()+"px;"+$);
this.a0(this.GM,this.zp)};function aN(){dz.call(this,[11,13],"shortcuts");var x=this.Jk=I.z("div","scrollable");
x.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(x);
this.ahc()}aN.prototype=new dz;aN.prototype.N=function(){dz.prototype.N.call(this);this.ahc()};aN.prototype.ahc=function(){var x="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",z="",A=bJ,o=A.RI,i=A.xb,L=A.yU;
z+="<h2 style=\"margin-top:0;\">Main Menu</h2>";z+=x;z+=this.vF([[0,0],"---",[1,0],[o,A.Z_],[1,2],[o,A.kb],[1,3],[i,o,A.kb],[1,8],[L,i,o,A.kb],[0,1],"---",[2,0],[i,o,A.CK],[2,1],[o,A.CK],[5,0],[o,A.k5],[5,1],[o,A.aD],[5,2],[o,A.fn],[2,2],"Delete",[2,3],[L,A.Bo],[10,16],[L,o,A.AT],[12,79],[o,A.c_],[3],"---",[4,1],[o,A.KI],[4,2],[o,A.Iv],[4,5],[o,A.yt],[4,11],[o,A.Ti],[0,3],"---",[6,13],[i,o,A.ki],[6,49,0],[o,A.Om],[6,6,0],[L,o,A.jL],[6,9],[o,A.jL],[6,10],[o,A.E],[0,5],"---",[7,0],[o,A.U],[7,1],[o,A.UI],[7,2],[i,o,A.Ti],[0,7],"---",[8,0],[o,A.Xr],[8,1],[o,A.On],[8,3],[o,A.SU],[8,2],[o,A.cu],[8,4],[o,A.nh],[11,13],"?"]);
z+="</div>";z+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";z+=x;z+=this.vF(["Vertical scroll","Wheel","Horizontal scroll",[o,"Wheel"],"Zooming",[L,"Wheel"]]);
z+="</div>";z+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
z+=x;z+=this.vF([[10,11],[o],[10,7],"Space",[10,17],[o,A.aU]]);z+="</div>";z+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
z+=x;var B=aN.T,D=[];for(var F=0;F<B.length;F+=3)if(B[F+1])D.push(B[F],B[F+1]);D=D.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[o,A.ue]]);
z+=this.vF(D);z+="</div>";this.Jk.innerHTML=z};aN.prototype.vF=function(x){var z="",A=!0;for(var F=0;
F<x.length;F+=2){var o=x[F],i=bJ.ew(x[F+1]);if(i==null){A=!1;continue}var L=I.xx(kc.get(o));if(i=="---"){if(!A)z+="<br/>";
z+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+L+"</div>"}else z+="<div>"+L+" <span style=\"float:right; font-weight:bold;\">"+i+"</span> </div>";
A=!1}return z};aN.T=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function dL(){dz.call(this,[8,11,1],"soptions");this.Wp=null;var x=I.z("div","form");x.style.width="20em";
this.body.appendChild(x);this.L_={Nm:[12,48],url:"URL",null:[12,71]};this.ct={};for(var z in this.L_){var A=new bQ(this.L_[z],null,15);
this.ct[z]=A;x.appendChild(A.e)}this.jY=I.yD(this,x)}dL.prototype=new dz;dL.prototype.N_=function(x,z,A){var o=z.h;
this.Wp=JSON.stringify(o);for(var i in this.L_){if(o[i])this.ct[i].b(o[i].v)}};dL.prototype.RB=function(x){var z=JSON.parse(this.Wp);
for(var A in this.L_){var o=this.ct[A].L();z[A]={t:"TEXT",v:o}}var i=new fZ(G.E.r,!0);i.k=Q.eV;i.data=z;
i.cx=!0;this.c(i);this.close()};dL.prototype.N=function(){dz.prototype.N.call(this);this.jY.N()};function e$(){dz.call(this,[2,3],"fill");
this.OQ=null;this.G_=null;var x=I.z("div","form padded");x.style.width="22em";this.body.appendChild(x);
this.rO="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.tm=new hN([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.tm.W(G.E.o,this.aeG,this);x.appendChild(this.tm.e);this.K8=I.z("span");x.appendChild(this.K8);this.k0=new aD;
this.k0.parent=this;this.k0.Mg(0);this.xn=new dk;this.xn.parent=this;this.M8=new hN([12,19,0],b_.m0,!1,b_.h3);
x.appendChild(this.M8.e);this.GE=new kl([12,0],0,100,"%",0,!1);this.GE.b(100);x.appendChild(this.GE.e);
this.$_=new dg([13,5]);this.$_.b(!1);x.appendChild(this.$_.e);this.jY=I.yD(this,this.body)}e$.prototype=new dz;
e$.prototype.FE=function(x,z){return x!=null};e$.prototype.wn=function(){return!0};e$.prototype.aeG=function(){var x=this.tm.L(),z=this.k0.e,A=this.xn.e,o=this.K8;
if(x==2)o.appendChild(z);else if(o.contains(z))o.removeChild(z);if(x==7)o.appendChild(A);else if(o.contains(A))o.removeChild(A)};
e$.prototype.N=function(){dz.prototype.N.call(this);this.tm.N();this.M8.N();this.GE.N();this.jY.N()};
e$.prototype.RB=function(x){if(!this.G_.Qi())return;var z=new fZ(G.E.rm,!0),A=this.tm.L();z.data=Q.sg.rJ(this.rO[A],b_.Am[this.M8.L()],this.GE.L()/100,this.k0.L(),this.$_.L(),this.xn.L());
this.close();this.c(z)};e$.prototype.N_=function(x,z){this.G_=x};e$.prototype.wB=function(x,z){this.OQ=x;
if(z==cu._j||z==cu.bq){this.xn.VT(x.UB);this.xn.b({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function fD(){dz.call(this,[14,9],"stroke");this.OQ=null;this.HE=I.z("div","form");this.HE.setAttribute("style","width:24em");
this.body.appendChild(this.HE);this.X6=new d9("FrFX",!0);this.X6.parent=this;var x=["Sz","Styl","Md","Opct"].concat(gN.ww);
for(var F=0;F<x.length;F++){var z=this.X6.B7[x[F]].e;this.HE.appendChild(z)}this.KF=!1;this.jY=I.yD(this,this.body)}fD.prototype=new dz;
fD.prototype.FE=function(x,z){return x!=null};fD.prototype.wn=function(){return!0};fD.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.X6.N()};fD.prototype.RB=function(x){var z=new fZ(G.E.r,!0);z.k=Q.XR;z.data={d:"stroke",a1F:this.X6.L()};
this.close();this.c(z)};fD.prototype.N_=function(x,z){if(!this.KF){var A=gN.NK[gN.order.indexOf("FrFX")];
A=JSON.parse(A);this.X6.update(x,A);this.KF=!0}var A=this.X6.L(),o=this.OQ.VJ;A.Clr.v=f.Q.Vv({w:o>>16&255,a:o>>8&255,s:o&255});
this.X6.update(x,A)};fD.prototype.wB=function(x,z){this.OQ=x};function hh(){dz.call(this,[11,9],"textwarp");
this.ct=new hY;this.ct.W(G.E.o,this.AE,this);this.ct.parent=this;this.HE=I.z("div","form");this.HE.setAttribute("style","width:20em");
this.body.appendChild(this.HE);this.HE.appendChild(this.ct.xk.e);this.HE.appendChild(this.ct.dj.e);this.HE.appendChild(this.ct.G9.e);
this.HE.appendChild(this.ct.oZ.e);this.HE.appendChild(this.ct.OV.e);this.jY=I.yD(this,this.HE);this.W("closebtn",this.lZ,this)}hh.prototype=new dz;
hh.prototype.wn=function(){return!0};hh.prototype.N=function(){dz.prototype.N.call(this);this.jY.N();
this.ct.N()};hh.prototype.AE=function(x){var z=this.ct.L();this.IV({d:"warp",qK:z})};hh.prototype.IV=function(x){var z=new fZ(G.E.r,!0);
z.k=Q.Mb;z.data=x;z.cx=!0;this.c(z)};hh.prototype.lZ=function(x){this.IV({d:"warpCancel"})};hh.prototype.RB=function(x){this.IV({d:"warpConfirm"});
this.close()};hh.prototype.N_=function(x,z){var A=x.g[x.f[0]];this.ct.b(A.add.TySh.rK)};function cB(){dz.call(this,[11,12,0],"trim");
var x=this.HE=I.z("div","form");this.HE.setAttribute("style","width:22em");this.body.appendChild(this.HE);
var z=new eX("Color To Trim:");x.appendChild(z.e);this.DO=new i4(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.DO.b([!0]);this.HE.appendChild(this.DO.e);var z=new eX("Sides:");x.appendChild(z.e);this.ad=new i4(null,["Top","Left","Bottom","Right"]);
this.ad.b([!0,!0,!0,!0]);this.HE.appendChild(this.ad.e);this.jY=I.yD(this,this.body)}cB.prototype=new dz;
cB.prototype.FE=function(x,z){return x!=null};cB.prototype.wn=function(){return!0};cB.prototype.N=function(){dz.prototype.N.call(this);
this.DO.N();this.ad.N();this.jY.N()};cB.prototype.RB=function(x){var z=this.DO.L().indexOf(!0),A=this.ad.L(),o=new fZ(G.E.rm,!0);
o.data=Q.lv.ck(z,A);this.close();this.c(o)};function dH(){dz.call(this,"Raw Photopea","rawpea");this.T2=null;
this._N=null;this.XV=null;this.Vm=0;this.ak=null;this.IT=null;this.abg=500;this.arm=500;this.ahd=0;this.W("closebtn",this.rQ,this);
I.ho(this.body,"flexrow");var x=I.z("div"),z=I.z("div"),o="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
z.setAttribute("style","padding-left: 1em");this.body.appendChild(x);this.body.appendChild(z);this.I=I.z("canvas");
x.appendChild(this.I);this.eJ=new hb(225);this.eJ.j7(4);z.appendChild(this.eJ.e);this.HE=I.z("div");
this.HE.setAttribute("style","width:18em;");z.appendChild(this.HE);this.aud=new eX("Hi",!0);this.HE.appendChild(this.aud.e);
this.r6=[new f$("Temperature",2e3,13e3),new f$("Tint",-150,150),new f$([4,3],-4,4,null,!0),new f$([12,3,0],-100,100)];
for(var F=0;F<this.r6.length;F++){var A=this.r6[F];A.b(0);A.W(G.E.o,this.Ta,this);this.HE.appendChild(A.e);
if(F==1)this.HE.appendChild(I.z("hr"))}this.jY=new eI([1,0],!0,null,!0);this.jY.W("click",this.RB,this);
this.HE.appendChild(this.jY.e);this.nz=new eI(o+" JPG",!0,null,!0);this.nz.W("click",this.a3b,this);
this.HE.appendChild(this.nz.e);this.nz.e.style.marginTop="6px"}dH.prototype=new dz;dH.prototype.oQ=function(){return new iL(0,0)};
dH.prototype.a0=function(x,z){this.abg=x-274;this.arm=z-32;if(this.T2)this.anC()};dH.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();for(var F=0;F<this.r6.length;F++)this.r6[F].N()};dH.prototype.a3b=function(x){var z=this.T2,A=this._N,o=f.C(z.width*z.height*4);
f.OD(o,4294967295);f.raw.AC(A,o,z,this.p0());var i=iF.Lg("JPG").ys([[o.buffer]],A.xX,A.aN,[85]),L=new fZ(G.E.Y,!0);
L.data={d:G.U.ex,data:i,name:"photo.jpg"};this.c(L)};dH.prototype.RB=function(x){var z=this.T2,A=this._N,o=f.C(z.width*z.height*4);
f.OD(o,4294967295);f.raw.AC(A,o,z,this.p0());var i=gT.nf(z),z={xH:new av(0,0,A.xX,A.aN),data:o.buffer,_T:i},L=iF.Q9("Raw Photo",[z]),B=new fZ(G.E.Y,!0);
B.data={d:G.U.du,m5:L};this.c(B);this.rQ();this.close()};dH.prototype.rQ=function(){this.T2=null;this._N=null;
this.ak=null;this.IT=null};dH.prototype.N_=function(x,z,A,o){this.T2=z.Fe;this._N=f.raw.asS(this.T2);
var i=this._N;this.aud.b(i.xX+" x "+i.aN+", "+(i.xX*i.aN/1e6).toFixed(1)+" MPx");var L=f.raw.apZ(z.Fe);
this.XV=hz.dx(L);this.r6[0].b(this.XV.gM);this.r6[1].b(this.XV.Zr);for(var F=2;F<this.r6.length;F++)this.r6[F].b(0);
this.anC()};dH.prototype.wB=function(x,z){this.eJ.Mg(jX.Ic[x.fY]["--text-color"])};dH.prototype.anC=function(){var x=this._N,z=x.xX,A=x.aN,o=1;
while(z/o>this.abg*I.Z()||A/o>this.arm*I.Z())o++;if(this.ahd==o&&this.ak)return;this.ahd=o;var i=Math.floor(z/o),L=Math.floor(A/o);
this.ak={ov:new Float32Array(i*L*3),xX:i,aN:L};var B=this.I.getContext("2d");this.IT=f.C(i*L*4);f.OD(this.IT,4294967295);
var D=1/(o*o);for(var Z=0;Z<L;Z++)for(var j=0;j<i;j++){var a=0,b=0,W=0,c=(j+1)*o,Y=(Z+1)*o;for(var R=Z*o;
R<Y;R++)for(var $=j*o;$<c;$++){var k=(R*z+$)*3;a+=this._N.ov[k];b+=this._N.ov[k+1];W+=this._N.ov[k+2]}var w=(Z*i+j)*3;
this.ak.ov[w]=a*D;this.ak.ov[w+1]=b*D;this.ak.ov[w+2]=W*D}this.Ta()};dH.prototype.Ta=function(){var x=this.T2,z=this.ak.xX,A=this.ak.aN,o=z*A,i=this.I,L=i.getContext("2d");
i.width=z;i.height=A;I.FX(i,z,A);f.raw.AC(this.ak,this.IT,x,this.p0());L.putImageData(new ImageData(new Uint8ClampedArray(this.IT.buffer),z,A),0,0);
var B=f.SM(this.IT);for(var F=0;F<4;F++)for(var D=1;D<256;D++)if(B[F][D]==0)B[F][D]=B[F][D-1];for(var F=0;
F<4;F++)for(var D=1;D<256;D++)if(B[F][D]==0)B[F][D]=B[F][D-1];this.eJ.b(B)};dH.prototype.p0=function(){var x=[];
for(var F=0;F<this.r6.length;F++)x.push(this.r6[F].L());return x};function kh(x){dz.call(this,x?[11,11,0]:[11,11,1],x?"vbitmap":"rcolors");
this.eP=null;this.wp=null;this.BA=null;this.L3=null;this.v9=null;this.apY=null;this.S$=null;this.AQ="";
this.hc=x;this.r$=this.SN.bind(this);this.body.style.padding="0";this.HE=I.z("div","form hbar padded");
this.body.appendChild(this.HE);var z=this.yr={cnum:new eN([12,82],2,50,null),nois:new dg([12,81]),mode:new hN(null,["Cartoon","Photo"]),segm:new dg("Segmentize"),poly:new dg("Polygon"),merg:new dg("Merge colors"),polE:new eN("Roughness",2,30,null),ok:I.yD(this,null,!1)},L=16;
for(var A in z){var o=z[A];o.parent=this;if(A!="ok")o.W(G.E.o,this.SN,this)}var i=this.$F=I.z("div","flexrow");
this.body.appendChild(i);this.Xc=new fu;this.Xc.W("viewchange",this.bV,this);this.Ci=new fu;this.I=I.z("canvas");
this.I.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.E4=this.I.getContext("2d");
var B=f.C(16*16*4);f.ar(B,L,L,8);this.$E=f.scale.su(B,L,L);this.Xc.atu(this.I);this.Xc.ok(this.Ci);this.Ci.ok(this.Xc);
i.appendChild(this.Xc.e);if(x)i.appendChild(this.I);else i.appendChild(this.Ci.e)}kh.prototype=new dz;
kh.prototype.oQ=function(){return new iL(0,0)};kh.prototype.wn=function(){return!0};kh.prototype.a0=function(x,z){this.GM=x;
this.zp=z;z=z-44;if(x<600)z-=29;if(this.eP==null)return;var A=this.eP.xH,o=fM.amj(x,z,A.m,A.n);if(o==1)z-=3;
if(o==0){x=Math.floor(x/2);I.ho(this.$F,"flexrow")}else{z=Math.floor(z/2);I.wi(this.$F,"flexrow")}I.IX(this.I,x,z);
this.Xc.a0(x,z);if(this.hc)this.bV();else this.Ci.a0(x,z)};kh.prototype.R0=function(x,z,A,o){this.Xc.R0(o)};
kh.prototype.N=function(){dz.prototype.N.call(this);for(var x in this.yr)this.yr[x].N()};kh.prototype.N_=function(x,z){this.S$=x;
this.v9=null;var A=x.g[x.f[0]],o=f.TN.pu(A.buffer.buffer,A.rect.m,A.rect.n).arT,i=o/((A.rect.m-2)*(A.rect.n-2)),L=this.yr;
L.cnum.b(20);L.nois.b(i<.75);L.mode.b(i<.75?1:0);L.segm.b(!1);L.poly.b(!1);L.merg.b(!0);L.polE.b(1);
var B=A.rect.clone();B.x=B.y=0;this.eP={xH:B,data:A.buffer.buffer.slice(0)};this.wp=null;this.a0(this.GM,this.zp);
this.Xc.b([this.eP]);this.Xc.SA();setTimeout(this.r$,20)};kh.prototype.SN=function(){var x=!0,z=Date.now(),A=this.eP,o=this.yr,i=o.cnum.L(),L=o.nois.L(),B=o.mode.L(),D=o.segm.L(),Z=o.poly.L(),j=o.merg.L(),a=o.polE.L(),t=null;
if(B==0)D=Z=!1;var b=["cnum","nois","mode"];if(B==1){b.push("segm");if(this.hc){b.push("poly");if(Z)b.push("polE")}}if(this.hc)b.push("merg");
b.push("ok");I.Uv(this.HE);for(var F=0;F<b.length;F++)this.HE.appendChild(o[b[F]].e);if(x)console.log("---------------------------------------");
var W=L||D,c=L+","+D;if(W&&(this.wp==null||this.AQ!=c)){this.AQ=c;var Y=new Uint8Array(A.data),R=A.xH.m,$=A.xH.n;
if(L){if(this.v9==null){this.v9=Y.slice(0);f._8.s3(this.v9,this.v9,R,$,15,f._8.Tw,[35]);if(x){console.log("denoise",Date.now()-z);
z=Date.now()}}Y=this.v9.slice(0)}else Y=Y.slice(0);if(D){var k=f.TN.fK(Y,R,$,40,10),w=k.c_,V=new Uint8Array(w*4);
for(var F=0;F<w;F++){var h=F*4,l=F*6,M=1/k.pG[l+5];V[h]=k.pG[l]*M;V[h+1]=k.pG[l+1]*M;V[h+2]=k.pG[l+2]*M}for(var F=0;
F<Y.length;F+=4){var q=k.VF[F>>>2]*4;Y[F]=V[q];Y[F+1]=V[q+1];Y[F+2]=V[q+2]}if(x){console.log("segm",Date.now()-z);
z=Date.now()}}this.wp={xH:A.xH.clone(),data:Y.buffer}}if(W)A=this.wp;var Y=new Uint8Array(A.data),R=A.xH.m,$=A.xH.n;
for(var F=0;F<Y.length;F+=4){if(Y[F+3]<10)Y[F]=Y[F+1]=Y[F+2]=Y[F+3]=0}if(B==0){t=f.TN.as4(Y,R,$,i,W?.1:2e-4);
if(x){console.log("quantize",Date.now()-z);z=Date.now()}}else{t=iT.acs(Y.buffer,i,R,$)}if(this.hc){var p=t.VF.slice(0);
for(var F=0;F<p.length;F++)p[F]++;var E=new Uint8Array((R+2)*($+2));f.K5(p,new av(1,1,R,$),E,new av(0,0,R+2,$+2));
if(!Z){var _=Math.round((R+2)*($+2)/1e4),S=ds.La(E.slice(0),R+2,$+2,Math.min(12,_)),y=ds.Dd(S);if(x){console.log("trace smooth",Date.now()-z);
z=Date.now()}}else{var y=f.p.$T(E,R+2,$+2,a,x)}var v=y.length,r=new cb(1,0,0,1,-1,-1);for(var F=0;F<v;
F++)f.p.D(y[F].path.v,r,y[F].path.v);this.L3=y;this.BA=t;for(var F=0;F<v;F++){var K=y[F];for(var s=F+1;
s<v;s++){var P=y[s];if(P.parent==F&&t.Ko[P.color-1].est.q[3]<.05){var d=P.path.F.slice(1);d.reverse();
d=["M"].concat(d);var X=[],S=P.path.v.length;for(var U=0;U<S;U+=2){X[U]=P.path.v[S-2-U];X[U+1]=P.path.v[S-2-U+1]}f.p.concat(K.path,{v:X,F:d})}}}if(x){console.log("finding holes",Date.now()-z);
z=Date.now()}for(var F=0;F<y.length;F++){var n=y[F];if(n.parent!=-1){var e=y[n.parent];n.parent=e;if(e.p9==null)e.p9=[];
e.p9.push(n)}n.depth=n.parent==-1?0:n.parent.depth+1}if(j){function J(gW,u){var iI={},ht=0,et=0;for(var F=0;
F<gW.length;F++){var jK=gW[F].color,U="c"+jK;if(jK==u)throw jK;if(iI[U]==null)iI[U]=0;iI[U]++;if(iI[U]>ht){ht=iI[U];
et=jK}}return et}var C=[],H=[],u=-1,bc=!0;for(var F=0;F<y.length;F++)if(y[F].parent==-1)H.push(y[F]);
while(H.length!=0){var jK=J(H,u);u=jK;for(var F=0;F<H.length;F++)if(H[F].color==jK){var N=H[F];C.push(N);
H.splice(F,1);F--;if(N.p9)for(var s=0;s<N.p9.length;s++){H.push(N.p9[s]);if(N.p9[s].color!=jK)bc=!1}}}if(bc)y=C;
else{var he=[];for(var gJ=0;gJ<500;gJ++){var kg=[],S=he[gJ-1];he.push(kg);for(var F=0;F<y.length;F++){var n=y[F],e=n.parent;
if(gJ==0&&e==-1||gJ!=0&&S.indexOf(e)!=-1){kg.push(n);y.splice(F,1);F--}}kg.sort(function(gW,iI){return gW.color-iI.color});
if(y.length==0)break}for(var F=0;F<he.length;F++)y=y.concat(he[F])}}else{var C=[],cJ=[];while(y.length!=0){cJ.push(y.shift());
while(cJ.length!=0){var it=cJ.pop();C.push(it);if(it.p9)for(var F=0;F<it.p9.length;F++){var n=it.p9[F];
y.splice(y.indexOf(n),1);cJ.push(n)}}}y=C}this.L3=y;for(var F=0;F<y.length;F++){var K=y[F],by=t.Ko[K.color-1].est.q;
if(by[3]<=.05){y.splice(F,1);F--;continue}}for(var F=1;F<y.length;F++){var cz=y[F-1],K=y[F];if(cz.color==K.color&&(j||cz.parent==K.parent&&cz.depth>=2)){f.p.concat(cz.path,K.path);
y.splice(F,1);F--;continue}}if(x){console.log("reordering layers",Date.now()-z,v,y.length);z=Date.now()}this.bV()}else{var fG=new Uint32Array(R*$),ju=R*$;
for(var F=0;F<ju;F++){var jK=t.Ko[t.VF[F]];fG[F]=jK.est.rgba}this.apY=new Uint8Array(fG.buffer);this.Ci.b([{xH:A.xH,data:fG.buffer}])}};
kh.prototype.bV=function(x){if(this.L3==null)return;var z=this.eP.xH.m,A=this.eP.xH.n,o=this.L3,i=this.BA.Ko,L=this.I,B=this.E4,D=this.Xc.Bh();
B.setTransform(1,0,0,1,0,0);B.clearRect(0,0,L.width,L.height);B.translate(L.width/2,L.height/2);B.scale(D.X,D.X);
B.translate(D.u.x/D.X-z/2,D.u.y/D.X-A/2);B.scale(1/D.X,1/D.X);B.fillStyle=this.$E;B.fillRect(0,0,z*D.X,A*D.X);
B.scale(D.X,D.X);var Z=[];for(var F=0;F<i.length;F++){var j=i[F].est.q;Z.push({w:Math.round(255*j[0]),a:Math.round(255*j[1]),s:Math.round(255*j[2]),xc:Math.round(255*j[3])})}for(var F=0;
F<o.length;F++){var a=o[F],j=Z[a.color-1];if(j.xc==0)continue;B.fillStyle="rgba("+j.w+","+j.a+","+j.s+","+j.xc/255+")";
B.beginPath();Typr.U.pathToContext({crds:a.path.v,cmds:a.path.F},B);B.fill()}};kh.prototype.RB=function(x){var z=this.S$,A=z.f[0],o=z.g[A],i=new fZ(G.E.r,!0);
i.cx=!0;i.k=Q.xu;if(this.hc){var L=this.L3,B=L.length==1,D=z.g.slice(0,A);if(!B)D.push(z.Qy());for(var F=0;
F<L.length;F++){var Z=L[F],j=this.BA.Ko[Z.color-1].est.q;f.p.D(Z.path.v,new cb(1,0,0,1,o.rect.x,o.rect.y),Z.path.v);
var a=z.Ad();a.rk("Path "+F);D.push(a);a.opacity=Math.round(j[3]*255);a.Fu|=16;a.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.Q.Vv({w:255*j[0],a:255*j[1],s:255*j[2]})}};
a.add.vmsk=new g.tZ;a.add.vstk=JSON.parse(JSON.stringify(gN.J9.default));a.add.vmsk._=f.p.fq(Z.path,!1);
a.add.vogk=[];a.Az();a.cm(z)}var b=D[D.length-1];if(!B){var a=z.Ad();a.rk(o.getName());a.add.lsct=hF.X7;
a.Cz="pass";a.Fu=24;D.push(a);b=a}var W=o.add.lmfx;if(W)b.add.lmfx=JSON.parse(JSON.stringify(W));for(var F=A+1;
F<z.g.length;F++)D.push(z.g[F]);i.data={d:g.WF,xd:D,Bp:[A+L.length+(B?-1:1)],_4:[11,11,0]}}else{var D=z.g.slice(0),a=z.Ad();
a.rk(o.getName());D.splice(z.f[0]+1,0,a);a.rect=o.rect.clone();a.buffer=this.apY;a.i();i.data={d:g.WF,xd:D,Bp:[z.f[0]+1],_4:[11,11,1]}}this.c(i);
this.close()};function fM(x){dz.call(this,[[7,11],[7,13]][x],["redge","magiccut"][x]);this.DO=x;this.eP={};
this.oq=null;this.DL=null;this.S$=null;this.JE=null;this.KQ=null;this.body.style.padding="0";this.Wx=[];
this.Fl=-1;this.HE=I.z("div","form hbar padded");this.body.appendChild(this.HE);this.gZ=new aH;this.gZ.parent=this;
this.gZ.W(G.E.o,this.k2,this);this.HE.appendChild(this.gZ.e);var z=x==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
z=z.concat("tools/hand","zoomIn","zoomOut");var A=x==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.L8=new jm(null,z,A,28);this.L8.W(G.E.o,this.R0,this);this.HE.appendChild(this.L8.e);this.yy=new eN([7,9],0,50,null);
this.yy.parent=this;this.yy.W(G.E.o,[this.a6q,this.SN][x],this);this.HE.appendChild(this.yy.e);var o=this.ac7=new eI([2,2],!1,null,!0);
o.W("click",this.rQ,this);this.HE.appendChild(o.e);var i=this.Dc=I.z("span","form");this.HE.appendChild(i);
var L=this.a7N=new eI([12,90],!1,null,!0);L.W("click",function(Z){alert(x==0?kc.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
i.appendChild(L.e);var B=new eI("Tutorial",!1,null,!0);B.W("click",this.a3C,this);i.appendChild(B.e);
this.T$=new jm([12,46],["checker","#ffffff","#000000"]);this.T$.W(G.E.o,this.a2N,this);i.appendChild(this.T$.e);
this.ez=new hN(null,[[6,13],[6,2],[17,2]]);i.appendChild(this.ez.e);this.jY=I.yD(this,i,!1);var D=this.$F=I.z("div","flexrow");
this.body.appendChild(D);this.rj=new fu(!0);this.yx=new fu;this.rj.ok(this.yx);this.yx.ok(this.rj);this.rj.W("mousedown",this.XP,this);
this.rj.W("mousemove",this.ss,this);this.rj.W("mouseup",this.rP,this);this.rj.W("zoom",this.k2,this);
this.yx.W("zoom",this.k2,this);D.appendChild(this.rj.e);D.appendChild(this.yx.e)}fM.prototype=new dz;
fM.prototype.FE=function(x,z){var A=x!=null&&!x.g[x.f[0]].rect.WT();if(!A)alert("The layer is empty.");
return A};fM.prototype.oQ=function(){return new iL(0,0)};fM.prototype.wn=function(){return!0};fM.prototype.a0=function(x,z){this.GM=x;
this.zp=z;z=z-12-33;if(x<900){this.Dc.setAttribute("style","display:block;  text-align:right;");z-=29}else{this.Dc.setAttribute("style","position:absolute;  right:0px")}this.T$.mB(x<440?null:[12,46]);
this.yy.mB(x<470?null:[7,9]);var A=this.eP.rect;if(A){var o=fM.amj(x,z,A.m,A.n);if(o==0){x=Math.floor(x/2);
I.ho(this.$F,"flexrow")}else{z=Math.floor(z/2);I.wi(this.$F,"flexrow")}this.rj.a0(x,z);this.yx.a0(x,z)}};
fM.amj=function(x,z,A,o){var i=x/2,L=z/2,B=Math.min(i/A,z/o),D=Math.min(x/A,L/o);return B>D?0:1};fM.prototype.N=function(){dz.prototype.N.call(this);
this.gZ.N();this.yy.N();this.jY.N();this.T$.N();this.ez.N();this.ac7.N();this.a7N.N()};fM.prototype.a3C=function(x){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.DO],"_blank")};
fM.prototype.wB=function(x,z){this.DL=x;if(z==cu.s7||z==cu._j){this.gZ.VT(x.I9);this.gZ.b(bz.K2(),x.I9.U0,x.I9.xn)}};
fM.prototype.R0=function(x,z,A,o){var i=this.L8.L();if(o==null){this.rj.R0(fu.apE(i-3));return}this.JE=o;
var L=Q.sg.Bb(this.gZ.L(),o);if(L!=null){this.gZ.b(L);this.k2()}else if(o.A(bJ.RI)&&o.A(bJ.CK)){var B=this.Wx,D=0;
if(o.A(bJ.xb)){if(this.Fl+1<B.length)D=1}else if(this.Fl>0)D=-1;if(D!=0){this.Fl+=D;var Z=this.Fl,j=this.eP;
if(D==1)f.mV(B[Z][2],B[Z][0],j.jr,j.rect);else f.mV(B[Z+1][1],B[Z+1][0],j.jr,j.rect);j.Q$=j.rect;this.SN()}}else if(i<3)this.rj.R0(o)};
fM.prototype.Xz=function(x){var z=this.eP,A=this.Wx,o=f.C(x.$()*4);f.mV(z.Cf,z.rect,o,x);z.Cf=null;var i=f.C(x.$()*4);
f.mV(z.jr,z.rect,i,x);this.Fl++;A[this.Fl]=[x.clone(),o,i];while(A.length>this.Fl+1)A.pop();while(A.length>50){A=A.slice(1);
this.Fl--}};fM.prototype.k2=function(){var x=this.DL,z=kb.me(this.gZ.L(),x.I9.U0,this.rj.Bh().X);this.rj.lf(z)};
fM.prototype.XP=function(x){var z=this.DL,A=this.eP,o=this.JE,i=this.gZ.L(),L=this.rj.Sq(),B=[16777215,8421504,0][this.L8.L()];
this.oq=new kb(i,z.I9.U0,z.I9.xn,{pg:1,nq:!0},B,z.GN,A.rect);A.Cf=A.jr.slice(0);if(o!=null&&o.A(bJ.xb)&&this.KQ){this.oq.moveTo(this.KQ.x,this.KQ.y);
this.oq.lineTo(L.x,L.y)}else this.oq.moveTo(L.x,L.y);this.ajR()};fM.prototype.ss=function(x){var z=this.eP,A=this.rj.Sq();
this.oq.lineTo(A.x,A.y);this.ajR()};fM.prototype.rP=function(x){this.KQ=this.rj.Sq();this.Xz(this.oq.Ig());
this.SN()};fM.prototype.ajR=function(){var x=this.eP,z=this.oq,A=z.kl();if(A.WT())return;x.Q$=A;f.q.lx("norm",z.Nt(),z.mc(),x.jr,x.rect,A,1);
this.atw()};fM.prototype.rQ=function(x){var z=this.eP;z.Cf=z.jr.slice(0);z.Q$=z.rect;f.OD(z.jr,[4278190080,4292730333][this.DO]);
this.Xz(z.rect);this.SN()};fM.prototype.N_=function(x,z){this.S$=x;var A=x.g[x.f[0]],o=A.rect.clone(),i=o.m,L=o.n;
this.yy.b(this.DO==0?3:i*L<3e6?3:0);this.L8.b(x.O==null?0:1);this.yy.vb();if(this.DO==0&&x.O!=null||this.DO==1)this.yy.LV();
var B=this.DO,D=f.C(o.$()),Z=new Float32Array(o.$());if(B==0&&x.O){f.K5(x.O.channel,x.O.rect,D,o);var j=f.C(o.$());
for(var a=0;a<L;a++)for(var b=0;b<i;b++){var F=a*i+b,W=D[F];if(b>0&&D[F-1]!=W||b<i-1&&D[F+1]!=W||a>0&&D[F-i]!=W||a<L-1&&D[F+i]!=W)j[F]=255}f.style.My(j,Z,i,L)}else Z.fill(1e9);
o.x=o.y=0;this.eP={rect:o,ov:A.buffer,rl:D,RE:Z,Yw:f.C(o.$()*4),bS:f.C(o.$()*4),jr:f.C(o.$()*4),Cf:null,GW:null,Q$:o,ai2:{}};
if(B==0)this.a6q();else{this.eP.ai2=Q.LI.ahX(x);var c=this.eP.jr;f.OD(c,4287137928);var Y=f.FQ.getSelection(A.buffer,i,L),R=Math.round(i/60),$=Math.round(.7*L);
for(var a=0;a<L;a++)for(var b=0;b<i;b++){var k=(a*i+b)*4,w=Y[k>>>2];w=w>128?255:128;if(a<R||a<$&&(b<R||b>i-1-R))w=0;
c[k]=c[k+1]=c[k+2]=w}this.SN()}this.Wx=[1];this.Fl=0;var V=this.gZ.L();V.Brsh.v.Dmtr.v.val=Math.round(o.m/(B==0?10:20));
this.gZ.b(V);this.k2();this.a0(this.GM,this.zp);this.rj.SA()};fM.prototype.a6q=function(){var x=this.eP,z=x.rect.$(),A=this.yy.L(),o=x.rl.slice(0);
for(var F=0;F<z;F++)if(x.RE[F]<A)o[F]=128;f.OD(x.jr,4294967295);f.c8(o,x.jr,0);f.c8(o,x.jr,1);f.c8(o,x.jr,2);
x.Q$=x.rect;this.SN()};fM.prototype.SN=function(){var x=this.eP,i,D,Z=0,j=0,a=0;this.atw();var z=x.rect,A=z.m,o=z.n,L=f.C(z.$()),B=x.ov;
f.XN(x.jr,L,0);for(var F=0;F<L.length;F++){if(B[(F<<2)+3]!=255)continue;var b=L[F];if(b==0)Z++;else if(b==255)j++;
else a++}if(Z*j*a!=0){if(this.DO==0)D=f.pc.pc(z,B,L);else{var W=this.L8.L();for(var c=1;c<o;c++)for(var Y=1;
Y<A;Y++){var F=c*A+Y,R=L[F],$=L[F-1];if(R==0&&$==255||R==255&&$==0){i="The Red and Green should never touch! Erase it with Grey.";
break}}var k=Date.now(),w=this.eP.ai2;f.Yy(L,w.By);Q.LI.f0(w,!0);var V=Math.ceil(this.yy.L()/2);if(V==0){D=B.slice(0);
f.c8(w.O,D,3)}else{var h=w.O.slice(0),l=w.O.slice(0);for(var M=0;M<V;M++){for(var c=1;c<o-1;c++)for(var Y=1;
Y<A-1;Y++){var F=c*z.m+Y,q=h[F];if(h[F-A]!=q||h[F-1]!=q||h[F+1]!=q||h[F+A]!=q)l[F]=128;else l[F]=q}var t=h;
h=l;l=t}D=f.pc.pc(z,B,h,20,!1)}}}else{D=B.slice(0);f.c8(L,D,3)}for(var F=3;F<D.length;F+=4)if(D[F]>B[F])D[F]=B[F];
if(z.S0(x.rect))x.GW=D;else f.mV(D,z,x.GW,x.rect);this.a2N();if(i)alert(i,4e3)};fM.prototype.atw=function(x){var z=this.eP,A=z.Q$;
f.mV(z.ov,z.rect,z.Yw,z.rect,A,!0);var o=z.jr;if(this.DO==1){var i=new Uint32Array(256);i[0]=4278190335;
i[255]=4278255360;var L=z.rect.$();o=o.slice(0);var B=new Uint32Array(o.buffer);for(var F=0;F<L;F+=2){B[F]=i[B[F]&255];
B[F+1]=i[B[F+1]&255]}}f.q.lx("norm",o,z.rect,z.Yw,z.rect,A,.3);this.rj.b([{xH:z.rect,data:z.Yw.buffer}])};
fM.prototype.a2N=function(x){var z=this.eP;f.OD(z.bS,[0,4294967295,4278190080][this.T$.L()]);f.q.lx("norm",z.GW,z.rect,z.bS,z.rect,z.rect,1);
this.yx.b([{xH:z.rect,data:z.bS.buffer}])};fM.prototype.RB=function(x){var z=this.S$,A=this.eP,o=this.ez.L(),i=z.g[z.f[0]],L=new fZ(G.E.r,!0);
L.cx=!0;var B=i.rect.clone();if(o==0&&i.Gi()||o!=0&&!i.Gi()){L.k=Q.xu;L.data={d:g.D7,j:z.f[0]};this.c(L)}if(z.O!=null){L.k=Q.dz;
L.data={d:"fromAction",hz:Q.BO.dA()};this.c(L)}if(o==0){var D=z.g.slice(0),Z=z.Ad();Z.rk(i.getName());
D.splice(z.f[0]+1,0,Z);Z.rect=B;Z.buffer=A.GW;Z.i();L.k=Q.xu;L.data={d:g.WF,xd:D,Bp:[z.f[0]+1],_4:[7,11]};
this.c(L)}if(o==1){var j=i.dP();L.k=Q.xu;L.data={d:g.lE,alV:!0};this.c(L);var a=i.dP();a.channel=f.C(B.$());
a.rect=B;a.color=0;a.h9=!0;f.XN(A.GW,a.channel,3);if(j){var b=a.a7(j);a.rect=b.rect;a.channel=b.channel;
a.color=b.color}a.wr();i.cm()}if(o==2){var W={rect:B,channel:f.C(B.$())};f.XN(A.GW,W.channel,3);L.k=Q.dz;
L.data={d:"setsel",O:W,_4:this.Ht};this.c(L)}this.close()};function al(){dz.call(this,[1,13],"locstor");
this.OQ=null;this.OZ=[];var x=this.body,z=I.z("p");z.textContent="These files are loaded every time you start Photopea.";
x.appendChild(z);this.a4g=0;this.uL=I.z("span");x.appendChild(this.uL);this.uL.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var A=I.z("span","form");x.appendChild(A);this.oV=new eI([5,4],!1,null,!0);this.oV.W("click",this.AJ,this);
A.appendChild(this.oV.e);this.a9n=new eI("Get all as ZIP",!1,null,!0);this.a9n.W("click",this.y5,this);
A.appendChild(this.a9n.e);this.os=new b9(!0);this.os.parent=this;this.os.j7(1);x.appendChild(this.os.e);
this.os.e.setAttribute("style","width: 40em; height: 25em")}al.prototype=new dz;al.prototype.N=function(){dz.prototype.N.call(this);
this.uL.textContent=kc.get([13,2])+": "+aV.l1(this.a4g);this.oV.N()};al.prototype.wB=function(x,z){this.OQ=x;
if(z==cu.Zz)this.N_()};al.prototype.N_=function(x,z){var A=this.OQ.v_.zU,Z=0;this.OZ=[];for(var o in A)this.OZ.push(o);
this.OZ.sort(function(a,b){a=a.split(".");b=b.split(".");return a[1]==b[1]?a[0]<b[0]?-1:1:a[1]<b[1]?-1:1});
var i=Math.floor(100*I.Z()),L=Math.floor(16*I.Z()),B=[],D=[];for(var F=0;F<this.OZ.length;F++){var o=this.OZ[F],j=al.p2(o,A[o],i,L);
B.push(j);D.push(o);Z+=A[o].byteLength}this.os.xl(B,D,i,L);this.a4g=Z;this.N()};al.prototype.AJ=function(x){var z=this.os.L();
if(z.length==0){alert("Select a file first.");return}this.os.b([]);var A=this.OQ.v_.zU;for(var F=0;F<z.length;
F++)delete A[this.OZ[z[F]]];var o=new fZ(G.E.Y,!0);o.data={d:G.U.nF,Hl:cu.Zz};this.c(o)};al.prototype.y5=function(x){var z=this.OQ.v_.zU,A={};
for(var o in z)A[o]=new Uint8Array(z[o]);var i=UZIP.encode(A);gC.save(i,"resources.zip")};al.p2=function(x,z,A,o){var i=I.z("canvas"),D=0;
i.width=A;i.height=o;var L=i.getContext("2d"),B=x.split(".").pop().toLowerCase();for(var F=0;F<B.length;
F++)D+=B.charCodeAt(F)*613<<8*F;L.fillStyle="#"+f.Ng(D&16777215);L.fillRect(0,0,20,o);var Z=Math.floor(14*I.Z());
L.fillStyle="#000000";L.font="bold "+Z+"px sans-serif";var j=(o-Z)/2,a=aV.l1(z.byteLength),b=L.measureText(a);
L.fillText(a,A-12-b.width,o-j);return i.toDataURL()};function hf(){dz.call(this,[1,15],"pmanager");this.OQ=null;
this.ej=new hN([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.ej.W(G.E.o,this.N_,this);
this.body.appendChild(this.ej.e);var x=I.z("div","flexrow");this.body.appendChild(x);var z=this.axh=I.z("div");
x.appendChild(z);var A=I.z("div","form");x.appendChild(A);A.setAttribute("style","width:140px; margin-left:12px");
this.acp=[cu.s7,cu.HF,cu.bq,cu.X1,cu.lb,cu.a6];this.k1=[new aH,new eD,new dk,new bs,new gg,new ed];for(var F=0;
F<this.k1.length;F++)this.k1[F].parent=this;this.aJ=[];for(var F=0;F<4;F++){var o=new eI("Hello",!0,null,!0);
o.W("click",this.iK,this);this.aJ.push(o);A.appendChild(o.e)}this.N_()}hf.prototype=new dz;hf.prototype.WU=function(x){return x==bJ.BC||x==bJ.Bo};
hf.prototype.iK=function(x){var F=this.aJ.indexOf(x.target);this.k1[this.ej.L()].A1(F)};hf.prototype.N=function(){dz.prototype.N.call(this);
this.ej.N();for(var F=0;F<this.k1.length;F++)this.k1[F].N();var x=this.aJ,z=this.ej.L(),A=cu.Ek[this.acp[z]],o=A[0].toUpperCase();
x[0].mB([[23,6],"."+o]);x[1].mB(["VAR0 ."+o,[1,8]]);x[2].mB([6,37]);x[3].mB([5,4])};hf.prototype.wB=function(x,z){this.OQ=x;
this.N_()};hf.prototype.N_=function(x,z){if(!I.gX(this.e))return;this.N();I.Uv(this.axh);this.axh.appendChild(this.k1[this.ej.L()].v3);
var A=this.k1,o=this.OQ;if(o==null)return;A[0].VT(o.I9);A[1].sA(o.VJ,o.GN);A[1].VT(o.Po);A[2].VT(o.UB);
A[3].VT([o.Pq,o.UB]);A[4].VT(o.WZ);A[5].VT(o.df)};function i8(x,z,A){dz.call(this,z,"cwindow");this.a9V=new iL(A[0],A[1]-33);
this.HE=I.z("div","form");this.HE.setAttribute("style","width:"+(A[2]-A[0])+"px; height:"+(A[3]-A[1])+"px");
this.body.appendChild(this.HE)}i8.prototype=new dz;i8.prototype.oQ=function(x,z){return this.a9V.clone()};
function gM(){dz.call(this,["PSD VAR0",[25,0]],"templates");this.a93=null;this.BM=null;this.Dw=0;this.Hn=null;
this.body.setAttribute("style","padding:0");this.Rd=new eI("Add Templates",null,null,!0);this.body.appendChild(this.Rd.e);
this.Rd.W("click",this.asn,this);this.Rd.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a0C=new eI("New Template",null,null,!0);this.a0C.W("click",this.a54,this);this.avs=new eI("Upload Current Document as a Template",null,null,!0);
this.avs.W("click",this.afu,this);this.fz=I.z("iframe","scrollable");this.fz.setAttribute("style","border:none; margin:0; padding:0;");
this.c9=I.z("div","form scrollable padded");this.hk=I.z("div","form scrollable padded label12");var x=[],z=gM.uM;
this.Ua=[];for(var A in z){var o=parseInt(A.slice(1)),i=o%10==0?"":"\u2800\u2800- ";x.push(i+z[A]);this.Ua.push(o)}this.VR=[new bQ("Name",null,30),new bQ("Description",null,30,4),new bQ("File"," www.Photopea.com#i...",17),new bQ("Thumbnail URL","* Use Imgur.com etc.",17),new hN("Category",x),new eI("<< Back",null,null,!0),new eI("Save",null,null,!0),new eX("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new eX("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var F=0;F<this.VR.length;F++){var L=this.VR[F];this.hk.appendChild(L.e);L.parent=this;if(F!=5)I.iw(this.hk);
if(L instanceof eI)L.W("click",this.aqW,this)}this.body.appendChild(this.fz)}gM.prototype=new dz;gM.prototype.oQ=function(x,z){return new iL(0,0)};
gM.prototype.a0=function(x,z){this.GM=x;this.zp=z;this.G_=null;z=z-4;x=x;var A=this.c9;A.style.width=x-12+"px";
A.style.height=z-12+"px";var A=this.hk;A.style.width=x-12+"px";A.style.height=z-12+"px";var A=this.fz;
A.style.width=x+"px";A.style.height=z+"px";this.Zm()};gM.prototype.N=function(){dz.prototype.N.call(this)};
gM.prototype.N_=function(x,z,A,o){this.G_=x;this.asn(null,!1)};gM.prototype.asn=function(x,z){var A=z!=null?z:I.gX(this.fz);
if(A){if(!eP.hO()){alert("You need to log in first!");return}var o=eP.MG();this.BM=o.tpl?o.tpl.list:[];
this.Zm()}else{this.fz.setAttribute("src","");this.fz.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(A?this.c9:this.fz);this.Rd.mB(A?"All Templates":"Add Templates")};gM.prototype.Zm=function(){var x=this.BM,L=450;
if(x==null)return;var z=this.c9;I.Uv(z);var A=I.z("h1");z.appendChild(A);A.textContent="Share your PSD templates with the world!";
var o=I.z("ul");z.appendChild(o);var i=I.z("li");o.appendChild(i);i.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var i=I.z("li");o.appendChild(i);i.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
z.appendChild(this.a0C.e);z.appendChild(this.avs.e);I.iw(z);L=(this.GM-20)/Math.max(1,Math.floor(this.GM/L))-42;
var B="display:inline-block; width:"+L+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var F=x.length-1;F>=0;F--){var D=x[F],Z=I.z("div");z.appendChild(Z);Z.setAttribute("style",B);var j=I.z("img");
Z.appendChild(j);j.setAttribute("src",D.thmb);j.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var a=I.z("h3");Z.appendChild(a);a.textContent=D.name;a.setAttribute("style","margin:0 0 10px 0");var b=I.z("p");
Z.appendChild(b);b.textContent=D.desc;b.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var W=0;W<2;W++){var c=new eI(W==0?"Edit":"Delete",null,null,!0);c.aeB=F;c.KR=W==0;c.W("click",this.akY,this);
Z.appendChild(c.e)}}};gM.prototype.afu=function(x){if(this.G_==null){alert("No document opened.");return}var z=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!z)return;var A=new fZ(G.E.Y,!0);A.data={d:G.U.e8,a5:"psd",Tn:this.arV.bind(this)};this.c(A)};gM.prototype.arV=function(x){this.a93=x;
var z=new fZ(G.E.Y,!0);z.data={d:G.U.e8,a5:"jpg",Tn:this.axf.bind(this),ahI:1400};this.c(z)};gM.prototype.axf=function(x){this.Hn={catg:0,desc:"",file:this.a93.split("#i").pop(),name:this.G_.name.split(".")[0],thmb:x,utme:""};
this.KR()};gM.prototype.a54=function(x){this.Hn={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.KR()};
gM.prototype.akY=function(x){this.Dw=x.target.aeB;if(!x.target.KR){this.BM.splice(this.Dw,1);this.y5();
this.Zm();return}this.KR()};gM.prototype.KR=function(){this.body.removeChild(this.c9);this.body.appendChild(this.hk);
var x=["name","desc","file","thmb"],z=this.Hn?this.Hn:this.BM[this.Dw];for(var F=0;F<4;F++){var A=z[x[F]];
if(A!=""&&F==2)A="https://photopea.com#i"+A;this.VR[F].b(A)}this.VR[4].b(this.Ua.indexOf(z.catg))};gM.prototype.aqW=function(x){if(this.VR.indexOf(x.target)==6){var z=this.VR[3].L().trim(),A=z.startsWith("http")&&(z.endsWith(".jpeg")||z.endsWith(".jpg")||z.endsWith(".png")||z.endsWith(".gif"));
if(!A){alert("Thumbnail URL is incorrect.");return}var o=new XMLHttpRequest,i=(z);
o.open("GET",i);o.responseType="arraybuffer";o.onload=this.a0I.bind(this);o.send()}else this.rQ()};gM.prototype.a0I=function(x){var z=x.target.response,A=z.byteLength;
if(A>2e5&&iF.cd(z)!="gif"){alert("Thumbnail is too large ("+aV.l1(A)+"). Make it under 200 kB.");return}var o=["name","desc","file","thmb"],i=this.Hn?this.Hn:this.BM[this.Dw];
for(var F=0;F<4;F++){var L=this.VR[F].L().trim();if(L.length==0){alert("One of values is empty.");return}if(F==2){var B=L.split("#i");
if(B.length!=2||B[1].length!=8){alert("File ID is incorrect.");return}L=B.pop()}i[o[F]]=L}i.catg=this.Ua[this.VR[4].L()];
if(i.utme.length==0)i.utme=""+Math.round(Date.now()/1e3);if(this.Hn)this.BM.push(this.Hn);this.y5();
this.rQ()};gM.prototype.rQ=function(){this.Hn=null;this.body.removeChild(this.hk);this.body.appendChild(this.c9);
this.Zm()};gM.prototype.y5=function(){var x=eP.MG();if(this.BM.length==0)delete x.tpl;else x.tpl={list:JSON.parse(JSON.stringify(this.BM))};
eP.rb(x,function(){alert("Saved.")})};gM.uM={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function ij(){dz.call(this,"Make Selection","makesel");this.OQ=null;var x=I.z("div","form");this.body.appendChild(x);
this._f=new dg([12,25,1]);this._f.b(!0);x.appendChild(this._f.e);I.iw(x);this.r_=new iP(!0);x.appendChild(this.r_.e);
this.jY=I.yD(this,this.body)}ij.prototype=new dz;ij.prototype.N=function(){dz.prototype.N.call(this);
this.r_.N();this._f.N();this.jY.N()};ij.prototype.RB=function(x){var z=new fZ(G.E.r,!0);z.k=Q.dz;z.data={d:"frompath",s5:[null,0,this.r_.L(),!this._f.L()]};
this.close();this.c(z)};function ak(){dz.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.G_=null;this.VQ=null;
this.q1=null;var x=this.a25=I.z("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);
this.Ej=new i6([12,50],["PSD","PSB"]);this.Ej.W(G.E.o,this.rw,this);x.appendChild(this.Ej.e);I._l(x);
var z=new eX("Minify the file");x.appendChild(z.e);I.iw(x);var A=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.y3=[];for(var F=0;F<A.length;F++){var o=new dg(A[F]);this.y3.push(o);x.appendChild(o.e);o.W(G.E.o,this.rw,this)}I._l(x);
this.YZ=new eX("aa.psd");this.b4=new eX("10 kB");x.appendChild(this.b4.e);this.aaB=new eX("1000 B");
x.appendChild(this.aaB.e);this.jY=new eI([1,2],!0,null,!0);this.jY.W("click",this.RB,this);x.appendChild(this.jY.e);
this.lR=new eI(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.lR.W("click",this.RB,this);x.appendChild(this.lR.e);
this.W("closebtn",this.lZ,this)}ak.prototype=new dz;ak.prototype.N_=function(x,z,A,o){var i=I.gX(this.lR.e),L=x.yV!=null&&x.yV.AK=="psd";
if(L&&!i)this.a25.appendChild(this.lR.e);if(!L&&i)this.a25.removeChild(this.lR.e);for(var F=0;F<this.y3.length;
F++)this.y3[F].b(!1);this.G_=x;this.rw()};ak.prototype.RB=function(x){if(x.target==this.jY)gC.save(this.VQ,this.q1);
else{if(this.y3[3].L()){alert("You should not save a ZIP as a PSD to Google Drive.");return}a2.a6D(this.G_,this.VQ)}};
ak.prototype.lZ=function(){this.G_=null;this.VQ=null};ak.prototype.rw=function(){var x=this.G_,z=[!1,!1,!1,!1];
for(var F=0;F<3;F++)z[F]=this.y3[F].L();var A=this.y3[3].L(),o=z[3]=this.Ej.L()==1,i=x.name.slice(0,x.name.length-3),L=this.VQ=iF.Lg("PSD").ys(x,0,0,z),f5=this.q1=i+"ps"+(o?"b":"d");
if(A){var B={};B[f5]=new Uint8Array(L);L=this.VQ=UZIP.encode(B);f5=this.q1=i+"zip"}this.YZ.b(f5);this.b4.b(aV.l1(L.byteLength));
this.b4.e.style["font-size"]="2em";this.aaB.b(" \u2001 "+L.byteLength+" B");this.jY.mB(kc.get([1,2])+" \""+f5+"\"")};
ak.prototype.N=function(){dz.prototype.N.call(this);this.jY.N();this.lR.N()};function br(){dz.call(this,"Confirm","confirm");
this.Cn=null;var x=I.z("div","form");this.body.appendChild(x);this.Of=I.z("div");this.Of.textContent="Hello";
x.appendChild(this.Of);this.jY=I.yD(this,x);x.appendChild(this.jY.e)}br.prototype=new dz;br.prototype.RB=function(x){this.Cn();
this.close()};br.prototype.N_=function(x,z){this.Of.textContent=z.h;this.Cn=z.Cn;this.jY.e.focus()};
br.prototype.oQ=function(x,z){return new iL(Math.max(0,(x-500)/2),Math.max(0,Math.min(60,(z-100)/2)))};
br.prototype.a0=function(x,z){this.Of.style.width=x-30+"px"};function fT(){dz.call(this,[1,16,2],"newartb");
this.DO=0;this.fP=null;var x=I.z("div","form");x.style.width="260px";this.body.appendChild(x);this.os=new e1;
x.appendChild(this.os.e);this.jY=I.yD(this,x)}fT.prototype=new dz;fT.prototype.FE=function(x,z){return x!=null};
fT.prototype.RB=function(x){var z=this.os.L();this.fP.m=z.x;this.fP.n=z.y;var A=new fZ(G.E.r,!0);A.k=Q.Zv;
A.data={a2$:this.fP,Ym:this.DO};this.c(A);this.close()};fT.prototype.N=function(){dz.prototype.N.call(this);
this.os.N();this.jY.N()};fT.prototype.N_=function(x,z){this.DO=z.Ym;var A=new av(0,0,x.m,x.n);if(x.f.length!=0){var o=x.g[x.f[0]];
if(o.add.artb){A=o.nU();A.x+=A.m+100}if(z.Ym==1)A=Q.S.mc(x)}this.fP=A;this.os.b(new iL(A.m,A.n))};function cK(){dz.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.H3=null;this.W("closebtn",this.I8,this);this.W("canclose",this.I8,this)}cK.prototype=new dz;
cK.prototype.wB=function(x,z){if(this.H3)this.H3.wB(x,z)};cK.prototype.oQ=function(x,z){return new iL(Math.max(0,Math.min(150,(x-980)/2)),Math.max(0,Math.min(150,(z-590)/2)))};
cK.prototype.a0=function(x,z){this.GM=x;this.zp=z;x=Math.min(x,980);z=Math.min(z,590);if(this.H3)this.H3.a0(x,z)};
cK.prototype.N=function(){dz.prototype.N.call(this);if(this.H3)this.H3.N()};cK.prototype.N_=function(x,z,A,o){this.Ht=z.Ym==0?"Open from Storage":"Save to Storage";
this.N();if(this.H3==null){this.H3=new gL;this.H3.parent=this;this.body.appendChild(this.H3.e);this.N();
this.a0(this.GM,this.zp)}Storage.j7(z.Ym,x?x.name:"");gL.Ly(this.H3)};cK.prototype.I8=function(x){Storage.j7(0);
gL.el();if(x.type=="canclose")this.close()};function h9(){dz.call(this,"Variables","varsdats");var x=this.HE=I.z("div","form");
x.setAttribute("style","width:300px");this.body.appendChild(x);this.G_=null;this.Pn=new i6(null,["Variables","Data Sets"]);
this.Pn.W(G.E.o,this.a4z,this);this.tN=new h9.uk;this.vt=new h9.Ik;this.td=new eX([1,8]);var z=this.CA=I.z("div");
z.appendChild(this.vt.a2W.e);z.appendChild(this.td.e);this.Rc=new eI("PNGs",!1,null,!0);this.Rc.W("click",this.afz,this);
z.appendChild(this.Rc.e);this.a8t=new eI("JPGs",!1,null,!0);this.a8t.W("click",this.afz,this);z.appendChild(this.a8t.e);
this.jY=I.yD(this,z)}h9.prototype=new dz;h9.prototype.a4z=function(x){var z=this.Pn.L(),A=this.HE;I.Uv(A);
A.appendChild(this.Pn.e);A.appendChild(z==0?this.tN.e:this.vt.e);A.appendChild(this.CA)};h9.prototype.RB=function(x){var z=new fZ(G.E.r,!0);
z.k=Q.xu;z.data={d:g.wo,h:JSON.stringify([this.tN.L(),this.vt.L()])};this.c(z);this.close()};h9.prototype.N=function(){dz.prototype.N.call(this);
this.jY.N();this.td.N()};h9.prototype.N_=function(x,z){this.G_=x;this.tN.N_(x,z);this.vt.N_(x,z);this.Pn.b(0);
this.a4z()};h9.prototype.afz=function(x){var z=this.tN.L(),A=this.vt.L();if(z.length==0){alert("There are no variables.");
return}if(A.length==0){alert("There are no data sets.");return}var o=iF.a08(this.G_,z,A,this.vt.lJ,x.target==this.Rc?"PNG":"JPG",this);
if(o!=null)gC.save(o,"images.zip")};h9.Ik=function(){a0.call(this);this.mG=null;var x=this.e=I.z("div","form");
this.qo=I.z("div","scrollable");this.qo.setAttribute("style","overflow:scroll;  height:234px;");x.appendChild(this.qo);
this.lJ={};this.AH=0;var z=this.afQ=I.z("input");this.afQ.setAttribute("type","file");this.afQ.addEventListener("change",this.apa.bind(this),!1);
this.ai8=this.atL.bind(this);this.pP=new eI("Import a CSV file",null,null,!0);x.appendChild(this.pP.e);
this.pP.addEventListener("click",function(A){h9.Ik.yZ=0;z.removeAttribute("multiple");z.click()});this.a2W=new eI("Source images",null,null,!0);
this.a2W.addEventListener("click",function(A){h9.Ik.yZ=1;z.setAttribute("multiple","");z.click()})};
h9.Ik.prototype=new a0;h9.Ik.yZ=0;h9.Ik.prototype.apa=function(x){var z=x.target.files;this.AH=z.length;
this.lJ={};for(var F=0;F<z.length;F++){var A=z[F],o=new FileReader;o.onload=this.ai8;o.v8=A.name;o.readAsArrayBuffer(A)}};
h9.Ik.prototype.atL=function(x){var z=this.lJ[x.target.v8]=new Uint8Array(x.target.result);this.AH--;
if(this.AH!=0)return;if(h9.Ik.yZ==0){this.mG=h7.l6(m._X(z));this.Ta()}else console.log(this.lJ)};h9.Ik.prototype.N_=function(x,z){var A=this.mG=JSON.parse(JSON.stringify(x.Gd));
this.Ta()};h9.Ik.prototype.L=function(){return this.mG};h9.Ik.prototype.Ta=function(){var x=this.mG,z=I.z("table");
z.setAttribute("style","border-collapse: collapse;");for(var F=0;F<x.length;F++){var A=I.z("tr"),o=x[F];
z.appendChild(A);for(var i=0;i<o.length;i++){var L=I.z(F==0?"th":"td");L.textContent=o[i];A.appendChild(L);
L.setAttribute("style","max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px");
L.setAttribute("title",o[i])}}I.Uv(this.qo);this.qo.appendChild(z)};h9.uk=function(){a0.call(this);var x=this.e=I.z("div","form marged");
this.lc=null;this.jt=[];this.dg=[];this.B0=null;this.nB=new hN([0,3],[]);this.nB.W(G.E.o,this.amc,this);
x.appendChild(this.nB.e);this.s4=[];var z=["Visibility","Text Content","Pixel Content"];for(var F=0;
F<z.length;F++){I._l(x);var A=new dg(z[F]);A.W(G.E.o,this.yj,this);x.appendChild(A.e);I.iw(x);var o=new bQ("Variable Name");
o.W(G.E.o,this.yj,this);x.appendChild(o.e);this.s4.push(A,o)}};h9.uk.prototype=new a0;h9.uk.prototype.yj=function(x){var z=this.nB.L(),A=this.B0[z],o=this.jt[z],i=this.lc["l"+A],L=this.s4;
if(i==null)this.lc["l"+A]=i=[];while(i.length!=0)i.pop();for(var F=0;F<3;F++){var B=L[2*F+1].L();if(!L[2*F].L())continue;
var D={varName:B,trait:["visibility","textcontent","fileref"][F]};i.push(D);if(F==2){D.align="center";
D.clip="false";D.placementMethod="fit";D.valign="middle"}}if(i.length==0)delete this.lc["l"+A];this.N_()};
h9.uk.prototype.amc=function(x){var z=this.nB.L(),A=this.B0[z],o=this.jt[z],i=this.lc["l"+A],L=this.s4;
if(i==null)i=[];for(var F=0;F<3;F++){var B=F==0||F==1&&o==0||F==2&&o==1;L[2*F].dU(B);L[2*F].b(!1);L[2*F+1].dU(B);
L[2*F+1].b("")}for(var F=0;F<i.length;F++){var D=i[F],Z=D.trait,j=["visibility","textcontent","fileref"].indexOf(Z);
L[j*2].b(!0);L[j*2+1].b(D.varName)}};h9.uk.prototype.N_=function(x,z){if(x){var A=JSON.parse(JSON.stringify(x.cC)),o=this.lc={};
for(var F=0;F<A.length;F++){var i=A[F],L=i.docRef;L="l"+L.slice(4,L.length-2);if(o[L]==null)o[L]=[];
o[L].push(i)}this.B0=[];this.jt=[];this.dg=[];for(var F=x.g.length-1;F>=0;F--){var B=x.g[F],L=B.add.lyid;
if(B.getName()=="</Layer group>")continue;this.B0.push(L);this.jt.push(B.add.TySh?0:1);this.dg.push(B.getName())}}var D=[],Z=this.dg;
for(var F=0;F<Z.length;F++){D.push(Z[F]+(this.lc["l"+this.B0[F]]?" *":""))}var j=this.nB.L();this.nB.sx(D);
this.nB.b(j);this.amc()};h9.uk.prototype.L=function(){var x=this.lc,z=[];for(var A in x){var o=x[A];
for(var i=0;i<o.length;i++){o[i].docRef="id('"+A.slice(1)+"')";z.push(o[i])}}return z};function c4(x,z,A,o){a0.call(this);
this.name=x;this.amN=A;this.pa=o;this.iR=I.z("div","");this.iR.setAttribute("draggable","true");this.Fc=I.z("div","pbody");
this.O3=new eI("",!1,"");this.O3.parent=this;this.ajF=I.z("span","cross");this.jq=I.z("span","label");
var i=this.aaM.bind(this);this.iR.addEventListener("mousedown",this.ajA.bind(this),!1);this.iR.addEventListener("contextmenu",i,!1);
this.O3.e.addEventListener("contextmenu",i,!1);this.ajF.addEventListener("mousedown",this.x4.bind(this),!1);
this.iR.appendChild(this.jq);if(z)this.iR.appendChild(this.ajF);this.QH=!1;this.vc=new ir([{name:[1,12,0]}]);
this.vc.W("select",this.x4,this);this.jq.textContent=x}c4.prototype=new a0;c4.prototype.G5=function(){return null};
c4.prototype.N=function(){var x=kc.get(this.name),z=this.GM==0?22:Math.round(2+this.GM/50),A=x.length>z;
this.jq.textContent=A?x.slice(0,z-2):x;if(A)for(var o=0;o<2;o++){var i=I.z("span");i.textContent=x.charAt(z-2+o);
i.setAttribute("style","opacity:"+(.6-o*.4));this.jq.appendChild(i)}var L=x.split(" "),B=L.length==2?L[0].substring(0,2)+L[1][0]:x.substring(0,3);
if(B.charCodeAt(0)>=11776)B=B.substring(0,1);var D=this.amN;if(D==null)this.O3.mB(B,x);else{var Z;if(D.startsWith("---"))Z="<img src=\""+PIMG[D.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.startsWith("==="))Z="<img src=\""+D.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.indexOf("\"")==-1)Z="<img src=\""+D+"\" alt=\""+x+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.O3.mB(Z,x)}};c4.prototype.enable=function(){this.Fc.setAttribute("class","pbody")};c4.prototype.disable=function(){this.Fc.setAttribute("class","pbody disabled")};
c4.prototype.wB=function(x,z){};c4.prototype.N_=function(x,z,A){};c4.prototype.A9=function(x){};c4.prototype.a0=function(x,z){};
c4.prototype.Mp=function(x){this.name=x;this.N()};c4.prototype.yQ=function(){};c4.prototype.ajA=function(x){if(x.button==0)this.c(new fZ("select",!1))};
c4.prototype.aaM=function(x){I.oG(x);if(this.pa!=null&&isNaN(this.pa))return;var z=I.Ki(x,document.body),A=this.vc;
A.update(null);A.N();A.parent=this;var o=new fZ(G.E.Y,!0);o.data={d:G.U.Sc,oM:A,x:z.x+1,y:z.y+1};this.c(o)};
c4.prototype.SR=function(){this.x4({})};c4.prototype.x4=function(x){if(x.stopPropagation)x.stopPropagation();
if(this.pa!=null&&!isNaN(this.pa)){var z=new fZ(G.E.Y,!0);z.data={d:G.U.wt,oM:this.vc};this.c(z);z.data={d:G.U.nF,Hl:cu.IF,h:parseFloat(this.pa),Ra:"del"};
this.c(z)}else if(this.aqy())this.c(new fZ(G.E.X9,!1))};c4.prototype.aqy=function(x){return!0};c4.prototype.Xv=function(x,z,A,o,i){};
c4.prototype.Dg=function(x,z,A,o,i){};c4.prototype.V4=function(x,z,A,o,i){};c4.z_=function(x,z,A){if(x.childElementCount!=0)return;
var o=x.textContent;this.MO=this.acS.bind(this);this.alo=this.avi.bind(this);this.M0=z;this.apt=A;this.h_=x;
this.a0O=o;var i=I.z("input","");i.setAttribute("type","text");i.setAttribute("size","10");i.setAttribute("value",o);
I.Uv(x);x.appendChild(i);i.select();i.focus();I.aK(x);x.addEventListener("keyup",this.MO,!1);document.body.addEventListener("mousedown",this.alo,!1)};
c4.z_.prototype.acS=function(x){var z=bJ.gY,A=z(x.code,bJ.oN);if(z(x.code,bJ.dw)||A)this.ato(A)};c4.z_.prototype.avi=function(x){var z=x.target;
if(z.tagName&&z.tagName.toLowerCase()=="input")return;this.ato(!0)};c4.z_.prototype.ato=function(x){var z=this.h_,A=z.firstChild.value;
z.removeEventListener("keyup",this.MO);document.body.removeEventListener("mousedown",this.alo);if(this.apt||x&&A!=""&&A!=this.a0O){this.M0(A)}else{I.Uv(z);
z.textContent=this.a0O}};c4.SU={xa:"0",aoS:"1",xu:"2",a3i:"3",ao_:"4",UO:"5",CSS:"6",s7:"7",ab7:"8",afJ:"9",ae8:"10",aur:"11",agK:"12",NV:"13",E1:"14",a0K:"15",ava:"16",VV:"17",agy:"18",ajp:"19",abz:"20",X1:"21",a7I:"22"};
function dP(){c4.call(this,[9,9],!1,"---panels/actions",c4.SU.aur);this.OQ=null;this.pQ=[0,0];this.Rw=I.z("div","padded scrollable");
this.Rw.setAttribute("style","width:260px;  height:260px");this.Fc.appendChild(this.Rw);this.W(G.E.o,this.uA,this);
this.CA=I.z("div","lpfoot");this.Fc.appendChild(this.CA);this.k1=[];var x="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",z="</svg>",A=x+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+z,o=x+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+z;
this.acj=x+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+z;this.anA=x+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+z;
var i=[this.acj,o,"lrs/folder","lrs/newlayer","lrs/bin",A],L=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var F=0;F<i.length;F++){var B=i[F];if(1<F&&F!=i.length-1)B="<img src=\""+PIMG[i[F]]+"\" class=\"miniscale gsicon\" />";
var D=new eI(B,!1,L[F]);D.W("click",this.aqn,this);this.CA.appendChild(D.e);this.k1.push(D)}}dP.prototype=new c4("");
dP.prototype.N=function(){c4.prototype.N.call(this);for(var F=0;F<this.k1.length;F++)this.k1[F].N()};
dP.prototype.aqn=function(x){var F=this.k1.indexOf(x.currentTarget),z=this.pQ,A=this.OQ,o=A.vM;if(F==0){var i,L=A.M3;
if(o.length==0){alert("Create an Action Set first.");return}if(z.length<2){alert("Select a target action first.");
return}if(L==null){i=this.anA;L=this.pQ}else{i=this.acj;L=null}this.k1[0].mB(i);A.M3=L}else if(F==1)this.avE();
else if(F==2||F==3){var B={_4:"Action Set "+o.length,VK:[],exp:!0};if(F==2||o.length==0){z=[o.length];
o.push(B)}if(F==3){var D=o[z[0]].VK;z=[z[0],D.length];D.push({_4:"Action "+D.length,color:0,VK:[],a8o:!1,shift:!1,exp:!0,dD:D.length})}this.pQ=z;
this.Ta()}else if(F==4){var Z;if(z.length==1)Z=o;else if(z.length==2)Z=o[z[0]].VK;else Z=o[z[0]].VK[z[1]].VK;
var j=z.length-1;Z.splice(z[j],1);if(Z.length==0)z.pop();else while(z[j]>=Z.length)z[j]--;if(z.length==0)z.push(0);
this.Ta()}else if(F==5){if(o.length==0){alert("No Actions Present.");return}var a=new fZ(G.E.Y,!0);a.data={d:G.U.G2,ad2:cu.r,ns:z[0]};
this.c(a)}};dP.prototype.uA=function(x){var z=this.OQ.vM,A=x.data.d,o=x.data.I$;if(A=="sel")this.pQ=o;
if(A=="fold"){if(o.length==1)z[o[0]].exp=!z[o[0]].exp;else z[o[0]].VK[o[1]].exp=!z[o[0]].VK[o[1]].exp}if(A=="enab"){var i=z[o[0]].VK[o[1]].VK[o[2]];
i.K=!i.K}if(A=="nchange"){if(o.length==1)z[o[0]]._4=x.data.iB;else z[o[0]].VK[o[1]]._4=x.data.iB}this.Ta()};
dP.prototype.wB=function(x,z){this.OQ=x;if(z==cu.r||z==cu._j)this.Ta()};dP.prototype.Ta=function(){if(this.OQ==null)return;
I.Uv(this.Rw);var x=this.OQ.vM;if(x.length==0)return;var z=JSON.stringify(this.pQ);for(var F=0;F<x.length;
F++){var A=x[F],o=new dP.M5([F],z,A.exp,A._4.split("=").pop());o.parent=this;this.Rw.appendChild(o.e);
if(!A.exp)continue;for(var i=0;i<A.VK.length;i++){var L=A.VK[i],o=new dP.M5([F,i],z,L.exp,L._4.split("=").pop());
o.parent=this;this.Rw.appendChild(o.e);if(!L.exp)continue;for(var B=0;B<L.VK.length;B++){var D=L.VK[B],o=new dP.M5([F,i,B],z,null,kc.get(jd.ak4(D)),D.K);
o.parent=this;this.Rw.appendChild(o.e)}}}};dP.prototype.avE=function(){var x=this.OQ.vM,z=this.pQ;if(x.length==0){alert("No Actions Present");
return}if(z.length==1){alert("Select an Action first");return}if(this.OQ.M3!=null){alert("You can not apply actions while recording actions");
return}if(z.length==1)z.push(0);var A=x[z[0]],o=A.VK[z[1]],i=new fZ(G.E.Y,!0);i.data={d:G.U.wC,s5:[o._4,A._4]};
this.c(i)};dP.M5=function(x,z,A,o,i){a0.call(this);this.I$=x;var L=this.I$.length-1;this.e=I.z("div","layeritem"+(JSON.stringify(x)==z?" selected":""));
this.eR=I.z("div","head");this.e.appendChild(this.eR);this.eR.setAttribute("style","height:24px");this.k4=I.z("div","headL");
this.eR.appendChild(this.k4);if(L!=0){var B=I.z("div");B.style.width=L*20+"px";this.k4.appendChild(B)}if(A!=null){var D=this.a9B=I.z("div",A?"open":"closed");
this.k4.appendChild(D)}else{var Z=this.ao3=I.z("div","cmark");Z.setAttribute("style","background-size:12px 12px; opacity:"+(i?1:.3));
this.k4.appendChild(Z)}if(L==0){var j=I.z("div","folder");this.k4.appendChild(j)}var a=this.jq=I.z("div","label");
a.textContent=o;this.k4.appendChild(a);this.e.addEventListener("mouseup",this.so.bind(this),!1)};dP.M5.prototype=new a0;
dP.M5.prototype.so=function(x){if(x.detail==1&&x.target.tagName.toLowerCase()!="input"){var z="sel";
if(x.target==this.a9B)z="fold";if(x.target==this.ao3)z="enab";var A=new fZ(G.E.o,!0);A.data={d:z,I$:this.I$};
this.c(A)}else if(this.I$.length<3)var o=new c4.z_(this.jq,this.M0.bind(this))};dP.M5.prototype.M0=function(x){var z=new fZ(G.E.o,!0);
z.data={d:"nchange",iB:x,I$:this.I$};this.c(z)};function aB(){c4.call(this,[3],!1,"---lrs/adj",c4.SU.agy);
this.Fc.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.k1=[];var F=0;
for(var x in ei.names){var z=new eI("<img src=\""+PIMG["adj/"+x]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,ei.names[x]);
z.W("click",this.a8_,this);this.k1.push(z);this.Fc.appendChild(z.e);if(F==4||F==10)I.iw(this.Fc);F++}}aB.prototype=new c4("");
aB.prototype.N=function(){c4.prototype.N.call(this);for(var F=0;F<this.k1.length;F++)this.k1[F].N()};
aB.prototype.a8_=function(x){var z=this.k1.indexOf(x.target),A=e9.Hh()[z],o=new fZ(A.V,!0);o.data=A.M;
this.c(o)};function fJ(){c4.call(this,[12,22],!1,null,c4.SU.X1);this.Rw=I.z("div","padded");this.Fc.appendChild(this.Rw);
this.Aw=new bs(null,17.7,10);this.Aw.parent=this;this.Aw.W(G.E.o,this.og,this);this.Rw.appendChild(this.Aw.v3)}fJ.prototype=new c4("");
fJ.prototype.og=function(x){var z=this.Aw.L(),A=new fZ(G.E.r,!0);A.data={d:"setstl",h:z.tz};A.k=Q.je;
this.c(A);A.data={d:"confirm"};this.c(A)};fJ.prototype.wB=function(x,z){if(z==cu.X1||z==cu._j){this.Aw.VT([x.Pq,x.UB])}};
var dO=function(){function x(){c4.call(this,[9,3],!1,"---panels/brush",c4.SU.s7);this.Zj=null;this.OQ=null}x.prototype=new c4("");
x.prototype.dn=function(){var o=I.z("div","");this.Fc.appendChild(o);this.Ba=I.z("div","bordered cell");
this.Ba.setAttribute("style","width:10em; height:28.5em;");o.appendChild(this.Ba);this.ct=[];this.Rt=null;
this.HR=[];var i=this.alm.bind(this);this.wL=[new z("basic"),new z("useTipDynamics"),new z("useScatter"),new z("useColorDynamics"),new z("usePaintDynamics")];
for(var F=0;F<this.wL.length;F++){var L=I.z("div","listitem"),B=this.wL[F],Z=null;B.parent=this;B.W("brushchange",this.agQ,this);
var D=B.CR;if(F==0){this.Rt=new eX(D);L.appendChild(this.Rt.e)}else{Z=new dg(D,!1);Z.W(G.E.o,this.a4Y,this);
L.appendChild(Z.e)}this.HR.push(Z);this.Ba.appendChild(L);this.ct.push(L);L.addEventListener("click",i,!1)}this.R9=I.z("div","cell padded");
o.appendChild(this.R9);this.setItem(0);this.I=I.z("canvas");this.I.height=10;o.appendChild(this.I);this.E4=this.I.getContext("2d");
this.SN()};x.prototype.a0=function(o,i){if(this.GM==o)return;this.GM=o;this.zp=i;this.SN()};x.prototype.yQ=function(){if(!I.gX(this.Fc))return;
if(this.Ba){this.SN();return}this.dn();this.N();this.wB(this.OQ,cu._j)};x.prototype.N=function(){c4.prototype.N.call(this);
if(this.Ba==null)return;this.Rt.N();for(var F=1;F<this.HR.length;F++)this.HR[F].N();for(var F=0;F<this.wL.length;
F++)this.wL[F].N()};x.prototype.agQ=function(o){var i=this.wL.indexOf(o.currentTarget),L=JSON.parse(JSON.stringify(this.wL[i].Zj)),B=new fZ(G.E.Y,!0);
B.data={d:G.U.nF,Hl:cu.jn,Zj:L};this.c(B)};x.prototype.a4Y=function(o){this.a4N(this.HR.indexOf(o.currentTarget),o.currentTarget.uj())};
x.prototype.alm=function(o){var F=this.ct.indexOf(o.currentTarget);if(o.target.tagName.toLowerCase()=="input")return;
if(this.HR[F]&&!this.HR[F].uj()){this.HR[F].wR();this.a4N(F,!0)}this.setItem(F)};x.prototype.a4N=function(o,i){this.wL[o].aw9(i)};
x.prototype.setItem=function(o){for(var F=0;F<this.wL.length;F++)this.ct[F].setAttribute("class","listitem");
if(this.R9.firstChild)this.R9.removeChild(this.R9.firstChild);this.ct[o].setAttribute("class","listitem selected");
this.R9.appendChild(this.wL[o].e)};x.prototype.wB=function(o,i){this.OQ=o;if(this.Ba==null)return;for(var F=0;
F<this.wL.length;F++)this.wL[F].wB(o,i);if(i==cu.jn||i==cu._j){this.Zj=o.I9.oJ;this.SN()}if(i==cu.NV)this.SN()};
x.prototype.SN=function(){if(this.Zj)this.enable();else{this.disable();return}if(!I.gX(this.Fc))return;
var o=this.OQ;for(var F=0;F<this.wL.length;F++){this.wL[F].b(this.Zj);if(this.HR[F])this.HR[F].b(this.wL[F].uj())}var i=JSON.parse(JSON.stringify(this.Zj));
i.Brsh.v.Dmtr.v.val=Math.min(i.Brsh.v.Dmtr.v.val,50);I.IX(this.I,this.GM,80);var L=new av(0,0,this.I.width,this.I.height),B=this.OQ.I9,D=new kb(i,B?B.U0:null,B?B.xn:null,{pg:1},o.VJ,o.GN,L,null,0),Z=L.n/2,j=L.m-Z*2;
D.moveTo(Z,Z);for(var F=0;F<=j;F+=10)D.lineTo(Z+F,Z+20*Math.sin(2*Math.PI*F/j));D.finish();var a=this.E4.createImageData(L.m,L.n);
f.mV(D.Nt(),D.mc(),a.data,L);this.E4.putImageData(a,0,0)};function z(o){a0.call(this);this.e=I.z("div");
this.Zj=null;var i=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(o);
this.CR=[[15,0],[15,1],[15,2],[15,3],"Transfer"][i];this.DO=o;this.B7={};this.a1C=null;var L=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","prVr.jitter"]][i];
for(var F=0;F<L.length;F++){var B=L[F],D;if(B=="--br"){D=new aH;this.e.appendChild(D.v3.firstChild)}else if(B=="Brsh.Dmtr")D=new f$([12,14,0],1,1e3," px",0,!0);
else if(B=="Brsh.Angl")D=new f$([12,15],0,359," \xB0");else if(B=="Brsh.Rndn")D=new f$([12,16],0,100," %");
else if(B=="Brsh.Hrdn")D=new f$([12,17],0,100," %");else if(B=="Brsh.Spcn")D=new f$([12,18],1,300," %");
else if(B=="szVr.jitter")D=new f$([15,4,0],0,100,"%");else if(B=="minimumDiameter")D=new f$([15,4,1],0,100,"%");
else if(B=="angleDynamics.jitter")D=new f$([15,4,2],0,100,"%");else if(B=="angleDynamics.bVTy")D=new hN("Control",["Off","Direction"]);
else if(B=="roundnessDynamics.jitter")D=new f$([15,4,3],0,100,"%");else if(B=="minimumRoundness")D=new f$([15,4,4],1,100,"%");
else if(B=="scatterDynamics.jitter")D=new f$([15,5,0],0,1e3," %");else if(B=="Cnt")D=new f$([15,5,1],1,20);
else if(B=="countDynamics.jitter")D=new f$([15,5,2],0,100," %");else if(B=="clVr.jitter")D=new f$([15,6,0],0,100," %");
else if(B=="H")D=new f$([15,6,1],0,100," %");else if(B=="Strt")D=new f$([15,6,2],0,100," %");else if(B=="Brgh")D=new f$([15,6,3],0,100," %");
else if(B=="opVr.jitter")D=new f$("Opacity Jitter",0,100," %");else if(B=="prVr.jitter")D=new f$("Flow Jitter",0,100," %");
else throw B;this.B7[B]=D;D.parent=this;D.W(G.E.o,this.yj,this)}}z.prototype=new a0;z.prototype.a2V=function(){this.c(new fZ("brushchange"))};
z.prototype.b=function(o){this.Zj=JSON.parse(JSON.stringify(o));this.e.setAttribute("class",this.uj()?"":"disabled");
this.SN()};z.prototype.N=function(){for(var o in this.B7)this.B7[o].N()};z.prototype.uj=function(){return!0};
z.prototype.wB=function(o,i){if(i==cu.s7||i==cu._j){var L=this.B7["--br"];if(L)L.VT(o.I9)}};z.prototype.yj=function(o){var i=o.target,L=this.B7,B;
for(var D in L)if(L[D]==i)B=D;if(B=="--br"){var Z=new fZ(G.E.Y,!0);Z.data={d:G.U.nF,Hl:cu.jn,Zj:i.L()};
this.c(Z)}else{var j=A(this.Zj,B),a=i.L();if(j){if(B.endsWith("bVTy"))j.v=a==0?0:6;else if(B=="Cnt")j.v=a;
else j.v.val=a;this.a2V()}}};z.prototype.SN=function(){var o=this.Zj,i=o.Brsh.v.classID,L=this.B7,B=i!=this.a1C;
this.a1C=i;if(B){I.Uv(this.e);for(var D in L){if(i!="computedBrush"&&i!="sampledBrush"&&D=="Brsh.Rndn")continue;
if(i!="computedBrush"&&D=="Brsh.Hrdn")continue;var Z=L[D],j=Z.e;if(D=="--br"){j=Z.CZ.e;j.style.width="auto"}this.e.appendChild(j)}}for(var D in L){if(D=="--br")continue;
var a=A(o,D),b;if(a){if(D.endsWith("bVTy"))b=a.v==0?0:1;else if(D=="Cnt")b=a.v;else b=a.v.val;L[D].b(b)}}};
z.prototype.uj=function(){var o=this.DO;return o=="basic"?!0:this.Zj[o].v};z.prototype.aw9=function(o){var i=this.DO;
if(i=="basic")return;this.Zj[i].v=o;bz.$y.atV(this.Zj);this.a2V()};function A(o,i){var L=i.split(".");
o=o[L[0]];for(var F=1;F<L.length;F++){if(o==null)return o;o=o.v[L[F]]}return o}return x}();function d1(){c4.call(this,[9,0],!1,"---panels/history",c4.SU.xa);
this.Fc.setAttribute("style","min-width:200px;");this.Uy=I.z("div","hpbody scrollable");this.Uy.style.height="160px";
this.Fc.appendChild(this.Uy);this.a89=-1;this.au=[];this.xv="";this.sc=new ir([{name:"Clear History"}],[{V:G.E.r,k:Q.xa,M:{d:"h_clear"}}])}d1.prototype=new c4("");
d1.prototype.G5=function(){return this.sc};d1.prototype.N_=function(x){if(x==null){I.Uv(this.Uy);this.xv="";
return}I.Uv(this.Uy);var z=0;for(var F=0;F<x.history.length;F++)if(F<=x.pF&&!x.history[F].EQ)z=F;for(var F=0;
F<x.history.length;F++){var A=x.history[F];if(A.EQ)continue;var o=new eu(A,F,z);o.parent=this;this.Uy.appendChild(o.e);
this.au.push(o)}if(x.pF==x.history.length-1)this.yQ()};d1.prototype.yQ=function(){this.Uy.scrollTop=this.Uy.scrollHeight};
d1.prototype.N=function(){c4.prototype.N.call(this);for(var F=0;F<this.au.length;F++)this.au[F].N()};
function eu(x,F,z){a0.call(this);this.index=F;this.e=I.z("div",F==z?"listitem selected":"listitem");
this.v8=x.name;this.N();if(F>z)this.e.style.opacity=.4;this.e.addEventListener("click",this.Xv.bind(this),!1)}eu.prototype=new a0;
eu.prototype.N=function(){this.e.textContent=kc.get(this.v8)};eu.prototype.Xv=function(x){if(this.index==this.parent.a89)return;
this.cO({d:"h_itemchange",index:this.index})};eu.prototype.cO=function(x){var z=new fZ(G.E.r,!0);z.data=x;
z.k=Q.xa;this.c(z)};function ea(){c4.call(this,[9,10],!1,"---panels/histogram",c4.SU.ao_);var x=I.z("div","padded");
this.Fc.appendChild(x);this.eJ=new hb(256,!0);x.appendChild(this.eJ.e);this.G_=null}ea.prototype=new c4("");
ea.prototype.N_=function(x){this.G_=x;this.Ta()};ea.prototype.Ta=function(){var x=this.G_;if(!I.gX(this.Fc))return;
if(x==null||x.f.length==0){this.eJ.b(f.SM(f.C(4)));return}var z=x.MK(),A=new av(0,0,x.m,x.n),o=A.$();
if(x.O){var i=x.O.rect,L=f.C(i.$()*4);f.mV(z,A,L,i);f._i(x.O.channel,L);z=L;A=i;var B=x.O.channel;o=0;
for(var F=0;F<B.length;F++)o+=B[F];o=Math.round(o/255)}var D=f.SM(z);D[0][255]+=3*(o-D[5]);for(var F=1;
F<4;F++)D[F][255]+=o-D[5];this.eJ.b(D,o)};ea.prototype.wB=function(x,z){this.eJ.Mg(jX.Ic[x.fY]["--text-color"])};
ea.prototype.N=function(){c4.prototype.N.call(this);this.eJ.N()};ea.prototype.yQ=function(){this.Ta()};
function gn(){c4.call(this,[9,8],!1,"---adj/clrL",c4.SU.aoS);this.Rw=I.z("div","padded");this.Fc.appendChild(this.Rw);
this.uZ=new aw(10);this.Rw.appendChild(this.uZ.e);this.Rw.appendChild(I.z("hr"));this.mq=new iX;this.mq.parent=this;
this.Rw.appendChild(this.mq.v3);this.uZ.W(G.E.o,this.arD,this);this.mq.W(G.E.o,this.arD,this)}gn.prototype=new c4("");
gn.prototype.arD=function(x){var z;if(x.target==this.uZ)z=this.uZ.L();else{var A=this.mq.L();z=Math.round(A.w)<<16|Math.round(A.a)<<8|Math.round(A.s)}var o=new fZ(G.E.Y,!0);
o.data={d:G.U.nF,Hl:cu.NV,wa:0,h:z};this.c(o)};gn.v2=function(x,z){var A=z==cu._j,o=x.od,i=x.YK,L=i.strokeStyleContent.v,B=null;
if((z==cu.NU||A)&&o.ks==1){B=f.Q.Pw(o.Kb.Clr.v);B=B.w<<16|B.a<<8|B.s}if((z==cu.kp||A)&&i.strokeEnabled.v&&L.classID=="solidColorLayer"){B=f.Q.Pw(L.Clr.v);
B=B.w<<16|B.a<<8|B.s}if(z==cu.NV||A)B=x.VJ;return B};gn.prototype.wB=function(x,z){var A=x.VJ,o=z==cu._j,i=gn.v2(x,z);
if(i!=null){this.uZ.b(i);this.mq.b({w:i>>>16&255,a:i>>>8&255,s:i>>>0&255,GC:"Color #"+f.Ng(i)})}if(z==cu.ZK||o){var L=x.aaI;
this.mq.VT(L)}};function je(){c4.call(this,[12,72],!1,"---adj/mixr",c4.SU.ava);this.e1=null;this.Uh=null;
this.Uy=I.z("div","lpbody scrollable");this.CA=I.z("div","lpfoot");this.Fc.appendChild(this.Uy);this.Fc.appendChild(this.CA);
this.KJ=[];this.W("click",this.fa,this);this.nY=[];je.ev([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.nY,this.CA,this.sU.bind(this),this.jm.bind(this));
this.sc=new ir([{name:"Merge Channels",fs:!0}],[{V:G.E.Y,M:{d:G.U.z1,ca:"mergechannels"}}])}je.prototype=new c4("");
je.prototype.G5=function(){return this.sc};je.ev=function(x,z,A,o,i){for(var F=0;F<x.length;F++){var L=new eI("W",!1,x[F]);
z.push(L);I.Zs(L.e,o);A.appendChild(L.e);var B=L.e;B.addEventListener("drop",i,!1);B.addEventListener("dragover",function(D){D.preventDefault()},!1);
B.addEventListener("dragenter",I.oG,!1)}};je.fv=function(x,z){for(var F=0;F<x.length;F++)if(x[F].e==z.currentTarget)return F};
je.prototype.sU=function(x){var z=je.fv(this.nY,x);if(z==0)this.c(hw.ze(!0,null,x));else{z--;var A=new fZ(G.E.rm,!0),o={classID:"null"};
if(z==0)o.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(z==1)o.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else o.null=jd.uU("Chnl",!0);A.data={zR:["duplicate","make","delete"][z],k7:o};this.c(A)}};je.prototype.jm=function(x){var z=je.fv(this.nY,x);
if(z==2){var A=new fZ(G.E.rm,!0),o={classID:"null"};o.null=jd.uU("Chnl",!0);A.data={zR:"duplicate",k7:o};
this.c(A)}else this.sU(x)};je.prototype.ea=function(F){var x=this.KJ,z=x[F];if(z==null){var A=I.z("canvas");
z=A.getContext("2d");x.push(z)}return z};je.prototype.fa=function(x){var z=this.e1.slice(0),A=x.data.dD,o=z[0]+z[1]+z[2],i=this.Uh;
if(-5<A&&A<0){var L=-A-1;if(x.data.jB){if(L==0)z=o==3?[0,0,0]:[1,1,1];else{if(z[L-1]==0)z[L-1]=1;else if(!0)z[L-1]=0}}else{if(L==0)z=[1,1,1];
else{z=[0,0,0];z[L-1]=1}i.CE=[]}var B=new fZ(G.E.r,!0);B.k=Q.RF;B.data={d:"setcls",u1:z};this.c(B);return}if(-1<A){var D=i.g[A],Z=D.ZD==1?D.dP():D.zg(i).B;
if(x.data.jB)Z.ft=!Z.ft;else{for(var F=0;F<i.lX.length;F++)i.lX[F].ft=!1;i.CE=[]}}else{var j=-A-5,Z=i.lX[j];
if(x.data.jB)Z.ft=!Z.ft;else{for(var F=0;F<i.lX.length;F++)i.lX[F].ft=!1;Z.ft=!0;i.CE=[j]}}i.o$=i.Gy=!0};
je.prototype.yQ=function(){this.rw()};je.prototype.N_=function(x){this.Uh=x;this.rw()};je.prototype.rw=function(){var x=this.Uh,z=this.Uy,c=4;
I.Uv(z);if(x==null||!I.gX(z))return;var A=x.m,o=x.n,i=new av(0,0,A,o),L=this.e1=x.t.u1.slice(0),B=L[0]+L[1]+L[2],D=Math.round(34*I.Z()),Z=D;
if(A>o)Z=Math.round(Z*o/A);else D=Math.round(D*A/o);var j=["RGB"].concat(ei.$h);for(var F=0;F<4;F++){var a=this.ea(F);
f.vC.W_(a,D,Z,i,x.MK(),i,!1,F==0?null:F-1);var b=F==0?B==3:L[F-1]==1,W=new hw(-1-F,!0,!0,a,j[F],b,b);
W.parent=this;z.appendChild(W.e);I.lS(a.canvas)}for(var F=0;F<x.f.length;F++){var Y=x.g[x.f[F]],R=Y.ZD;
if(R!=1&&R!=3)continue;var $=R==1?Y.dP():Y.zg(x).B,a=this.ea(c+F);c++;f.vC.Y$(a,D,Z,i,$);var W=new hw(x.f[F],!0,!0,a,Y.getName()+(R==1?"":" Filter")+" Mask",!0,$.ft);
W.parent=this;z.appendChild(W.e);I.lS(a.canvas)}for(var F=0;F<x.lX.length;F++){var $=x.lX[F],a=this.ea(c+F);
f.vC.Y$(a,D,Z,i,$);var W=new hw(-5-F,!0,$.name=="Quick Mask",a,$.name,x.CE.indexOf(F)!=-1,$.ft,Q.xu,{d:g.sR,wa:"rnm",dD:F});
W.parent=this;z.appendChild(W.e);I.lS(a.canvas)}};je.prototype.a0=function(x,z){this.Uy.style.height=z-9-26+"px";
this.Uy.style.width=x+"px"};je.prototype.N=function(){c4.prototype.N.call(this);this.rw();je.Fk(this.nY,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
je.Fk=function(x,z){var z=i6.ZO(z,null,"miniscale");for(var F=0;F<x.length;F++)x[F].mB(z[F])};function hw(x,z,A,o,i,L,B,D,Z){a0.call(this);
this.e=I.z("div","layeritem");this.a70=x;this.a0n=z;this.E4=o;this.ao8=D;this.ad0=Z;this.eR=I.z("div",L?"head selected":"head");
this.eR.setAttribute("style","height: "+40+"px");var j=I.z("div","headL"),a=I.z("div","headR"),b=15;
this.e.appendChild(this.eR);this.eR.appendChild(j);this.eR.appendChild(a);this.li=I.z("div","eye");if(1<I.Z()&&I.Z()<1.5)b=b/I.Z();
this.li.setAttribute("style","background-size: "+b+"px "+b+"px;");this.li.style.opacity=B?1:.2;if(z)j.appendChild(this.li);
this.pC=I.z("div","thumb");if(o)this.pC.appendChild(o.canvas);j.appendChild(this.pC);this.UZ=I.z("div","label");
if(A)this.UZ.style.fontStyle="italic";this.UZ.textContent=kc.get(i);j.appendChild(this.UZ);var W=this.eR;
W.setAttribute("draggable","true");W.addEventListener("dragstart",function(c){c.dataTransfer.setData("Text","")},!1);
I.Zs(this.eR,this.aa4.bind(this));if(!A)this.eR.addEventListener("mouseup",this.abk.bind(this),!1)}hw.prototype=new a0;
hw.prototype.M0=function(x){var z=new fZ(G.E.r,!0);z.k=this.ao8;z.data=this.ad0;z.data.name=x;this.c(z)};
hw.prototype.aa4=function(x){var z=x.ctrlKey||x.metaKey,A=this.a70;if(z&&x.target==this.E4.canvas){this.c(hw.ze(this.a0n,A,x))}else{var o=new fZ("click",!0);
o.data={dD:A,jB:x.target==this.li,_c:z};this.c(o)}};hw.prototype.abk=function(x){if(x.detail==2&&x.target==this.UZ){var z=new c4.z_(this.UZ,this.M0.bind(this))}};
hw.ze=function(x,z,A){var o=0;if(A.shiftKey)o++;if(A.altKey)o+=2;var i=new fZ(G.E.r,!0);i.k=Q.dz;if(x){if(-5<z&&z<0){i=new fZ(G.E.rm,!0);
i.data=Q.BO.WO(o,["RGB","Rd","Grn","Bl"][-1-z])}else i.data={d:"fromchannel",s5:[z,0,o]}}else i.data={d:"frompath",s5:[z,0,o]};
return i};function fW(){c4.call(this,[8,9],!1,"---panels/paths",c4.SU.VV);this.e1=null;this.Uh=null;
this.Uy=I.z("div","lpbody scrollable");this.CA=I.z("div","lpfoot");this.Fc.appendChild(this.Uy);this.Fc.appendChild(this.CA);
this.Fc.addEventListener("click",this.a4c.bind(this),!1);this.KJ=[];this.W("click",this.fa,this);this.nY=[];
je.ev(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.nY,this.CA,this.sU.bind(this),this.jm.bind(this))}fW.prototype=new c4("");
fW.prototype.sU=function(x,z){var A=je.fv(this.nY,x),o;if(A<2){o=new fZ(G.E.rm,!0);o.data=Q.YG.YM(A)}else if(A==2)o=hw.ze(!1,null,x);
else if(A==3){o=new fZ(G.E.rm,!0);o.data={zR:"make",k7:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(A>3){var o=new fZ(G.E.r,!0);
o.k=Q.n7;o.data={d:"pathedit",wa:["new","del"][A-4],awp:z}}this.c(o)};fW.prototype.jm=function(x){this.sU(x,!0)};
fW.prototype.ea=function(F){var x=this.KJ,z=x[F];if(z==null){var A=I.z("canvas");z=A.getContext("2d");
x.push(z)}return z};fW.prototype.a4c=function(x){if(x.target==this.Uy){var z=this.Uh;z.Dt=[];z.Iz=[];
z.Gy=!0;z.o$=!0}};fW.prototype.fa=function(x){var z=x.data.dD,A=this.Uh,o=x.data._c,i=0,L,B;if(z<0){i=-1-z;
L=A.Dt;B=A.Iz}else{var D=A.Dd()[0];for(var F=0;F<D.length;F++){var Z=D[F].dD;if(Z==z)break;if(Z>=0)i++}L=A.Iz;
B=A.Dt}if(o){var j=L.indexOf(i);if(j==-1)L.push(i);else L.splice(j,1)}else{while(L.length!=0)L.pop();
while(B.length!=0)B.pop();L.push(i)}A.Gy=!0;A.o$=!0};fW.prototype.yQ=function(){this.rw()};fW.prototype.N_=function(x){this.Uh=x;
this.rw()};fW.prototype.rw=function(){var x=this.Uh,z=this.Uy;I.Uv(z);if(x==null||!I.gX(z))return;var A=x.m,o=x.n,i=new av(0,0,A,o),L=this.e1=x.t.u1.slice(0),B=L[0]+L[1]+L[2],D=Math.round(34*I.Z()),Z=D;
if(A>o)Z=Math.round(Z*o/A);else D=Math.round(D*A/o);var j=x.Dd(),a=j[0];for(var F=0;F<a.length;F++){var b=a[F],W=this.ea(F);
f.vC.a3s(W,D,Z,i,b.add.vmsk);var c=new hw(b.dD,!1,b.dD>=0,W,b.name,j[1].indexOf(F)!=-1,!1,Q.n7,{d:"pathedit",wa:"rnm",dD:b.dD});
c.parent=this;z.appendChild(c.e);I.lS(W.canvas)}};fW.prototype.a0=function(x,z){this.Uy.style.height=z-9-26+"px";
this.Uy.style.width=x+"px"};fW.prototype.N=function(){c4.prototype.N.call(this);this.rw();je.Fk(this.nY,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function e7(x){c4.call(this,[9,x?4:5],!1,"---panels/"+(x?"character":"paragraph"),x?c4.SU.afJ:c4.SU.ae8);
this.Fc.setAttribute("style","min-width:240px;");this.a6N=x;this.n$=null;this.OQ=null}e7.prototype=new c4("");
e7.prototype.dn=function(){this.n$=new i_;var x=this.n$,z=this.Fc;x.parent=this;if(this.a6N){var A=I.z("div","marged");
z.appendChild(A);A.appendChild(x.es.e);z.appendChild(I.z("hr"));var o=I.z("div","marged");z.appendChild(o);
o.appendChild(x.M4.e);o.appendChild(x.iD.e);var i=I.z("div","marged");z.appendChild(i);i.appendChild(x.t4.e);
i.appendChild(x.Qv.e);z.appendChild(I.z("hr"));var L=I.z("div","marged");z.appendChild(L);L.appendChild(x.Ys.e);
L.appendChild(x._y.e);var B=I.z("div","marged");z.appendChild(B);B.appendChild(x.zh.e);B.appendChild(x._H.e);
B.appendChild(x.oI.e);z.appendChild(I.z("hr"));var D=I.z("div","marged");z.appendChild(D);D.appendChild(x.$z.e);
D.appendChild(x.eE.e);D.appendChild(x.pp.e);D.appendChild(x.VG.e);D.appendChild(x.o9.e);D.appendChild(x.Ud.e);
D.appendChild(x._z.e);D.appendChild(x.bd.e)}else{var A=I.z("div","marged");z.appendChild(A);A.appendChild(x.te.e);
A.appendChild(x.oX.e);A.appendChild(x.hK.e);A.appendChild(x.a04.e);A.appendChild(x.a5i.e);A.appendChild(x.awR.e);
A.appendChild(x.a1r.e);z.appendChild(I.z("hr"));var o=I.z("div","marged");z.appendChild(o);o.appendChild(x.uR.e);
o.appendChild(x.vA.e);o.appendChild(x.sl.e);z.appendChild(I.z("hr"));var i=I.z("div","marged");z.appendChild(i);
i.appendChild(x.zs.e);i.appendChild(x.NJ.e);i.appendChild(x.W2.e);i.appendChild(x.sK.e)}};e7.prototype.yQ=function(){if(!I.gX(this.Fc))return;
if(this.n$==null){this.dn();var x=this.OQ;if(x)this.n$.b(x.u5,x.P2,x.L7);this.n$.N()}};e7.prototype.N=function(){c4.prototype.N.call(this);
if(this.n$)this.n$.N()};e7.prototype.wB=function(x,z){this.OQ=x;if(z!=cu._j&&z!=cu.Qx&&z!=cu.Oc&&z!=cu.bC)return;
if(this.n$)this.n$.b(x.u5,x.P2,x.L7)};function eH(){c4.call(this,[9,13],!1,"---panels/glyphs",c4.SU.ajp);
this.n$=new i_;this.n$.parent=this;this.OQ=null;this.acd=null;this.aiO=null;this.xV=null;this.a3K=null;
this.yh=Math.round(290*I.Z());this.cN=45;this.ahJ=4;this.acy=this.Ta.bind(this);this.a8L=0;this.l0=new hN(null,["Hi","Hello"]);
this.l0.W(G.E.o,this.Ta,this);var x=this.iG=new eI("-",null,null,!0);x.W("click",this.a0Z,this);var z=this.am1=new eI("+",null,null,!0);
z.W("click",this.a0Z,this);this.CZ=new b9(!1);this.CZ.W(G.E.o,this.JD,this);this.CZ.e.style.height=250+"px";
var A=this.my=I.z("div","form padded");this.Fc.appendChild(A);A.appendChild(this.n$.es.e);I.iw(A);A.appendChild(this.l0.e);
A.appendChild(x.e);A.appendChild(z.e);this.Fc.appendChild(this.CZ.e)}eH.prototype=new c4("");eH.prototype.a0=function(x,z){if(this.GM==x)return;
this.GM=x;this.yh=Math.floor((x-13)*I.Z());this.my.setAttribute("style","width:"+this.yh/I.Z()+"px;");
this.CZ.e.style.height=z-73+"px";this.Ta()};eH.prototype.JD=function(x){var z=this.a2A(),A=Math.round(this.yh/z);
z/=I.Z();var o=this.CZ.L()[0]*A*this.ahJ,i=this.CZ.amE();o+=Math.floor(i.y/z)*A;o+=Math.floor(i.x/z);
var L=this.xV[this.l0.L()];if(o>=L.length)return;var B=L[o],D=this.a3K[B],Z=new fZ(G.E.r,!0);Z.k=Q.Mb;
if(D.eH.length==0)Z.data={d:"insertGlyph",h:o+1};else Z.data={d:"insertText",h:String.fromCodePoint(D.eH[0])};
this.c(Z)};eH.prototype.a0Z=function(x){var z=1.2;if(x.target==this.iG){if(this.cN>20)this.cN/=z}else{if(this.cN<100)this.cN*=z}this.Ta()};
eH.prototype.yQ=function(){this.wB(this.OQ)};eH.prototype.wB=function(x,z){this.OQ=x;if(!I.gX(this.Fc))return;
this.n$.b(x.u5,x.P2,x.L7);var A=x.u5,o=A.i8.Font,Z=0;if(o==null)return;var i=A.Cr[o].Name;if(this.acd==i)return;
var o=x.P2.iY(i);if(o==null)return;var L=o.maxp.numGlyphs,B=this.a3K=new Array(L);for(var F=0;F<L;F++)B[F]={eH:[]};
var D=Date.now(),j=new Uint8Array(1048575);for(var F=0;F<1048575;F++){var a=Typr.U.codeToGlyph(o,F);
if(a!=0&&a<L){j[F]=1;if(B[a].eH.length==0)Z++;B[a].eH.push(F)}}var b=eH.uM,W=[];for(var F=0;F<b.length;
F++)W.push([]);for(var a=1;a<L;a++){W[0].push(a);var c=B[a].eH[0];if(c==null){continue}for(var Y=1;Y<b.length;
Y++){var R=b[Y].ip;for(var F=0;F<R.length;F+=2)if(R[F]<=c&&c<=R[F+1]){W[Y].push(a);break}}}this.xV=W;
var $=[];for(var F=0;F<b.length;F++)$.push(b[F].i_+" ("+W[F].length+")");var k=this.l0.L();this.l0.sx($);
this.l0.b(k);this.acd=i;this.aiO=o;this.Ta()};eH.prototype.a2A=function(x){var z=Math.floor(this.yh/this.cN);
return Math.floor(this.yh/z)};eH.prototype.Ta=function(x){if(!I.gX(this.Fc)||this.xV==null)return;var z=this.xV[this.l0.L()],A=z.length,o=this.aiO,i=Typr.U,L=this.a2A(),B=L,D=B*.8,Z=B*.8/o.head.unitsPerEm,j=[],a=Math.floor(this.yh/L),b=Math.ceil(A/a),W=this.ahJ,c=Date.now();
for(var Y=0;Y<b;Y+=W){var R=I.z("canvas"),$=R.getContext("2d");R.width=L*a;R.height=B*W;$.strokeStyle="rgba(0,0,0,0.3)";
$.fillStyle="white";$.fillRect(0,0,a*L,B*W);for(var k=0;k<W;k++){for(var w=0;w<a;w++){var F=z[(Y+k)*a+w];
if(F==null)break;var V=i.glyphToPath(o,F),h=f.p.Jr(V.crds);if(!h.WT()){$.fillStyle="#252525";$.beginPath();
var l=w*L+(L-h.m*Z)*.5-h.x*Z,M=k*B+D;$.translate(l,M);$.scale(Z,-Z);i.pathToContext(V,$);$.scale(1/Z,-1/Z);
$.translate(-l,-M);$.fill()}}}$.beginPath();for(var w=0;w<a;w++){var q=w*L+L+.5;$.moveTo(q,0);$.lineTo(q,B*W)}for(var k=0;
k<W;k++){var t=k*B+B+.5;$.moveTo(0,t);$.lineTo(a*L,t)}$.stroke();j.push(R)}this.CZ.xl(j,null,L*a,B*W)};
eH.uM=[{i_:"All Glyphs"},{i_:"Basic Latin, Latin 1",ip:[0,127,128,143]},{i_:"Latin Extended-A",ip:[256,383]},{i_:"Latin Extended-B",ip:[384,591]},{i_:"Punctuations",ip:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{i_:"Greek",ip:[880,1023]},{i_:"Cyrillic",ip:[1024,1279]},{i_:"Hebrew",ip:[1424,1535]},{i_:"Arabic",ip:[1536,1791]},{i_:"Emoji",ip:[9728,10095,127744,129535]}];
function bW(){c4.call(this,[13,0],!1,null,c4.SU.NV);this.UY=0;this.a46=0;this.OQ=null;var x=I.z("div","flexrow padded");
this.Fc.appendChild(x);var z=I.z("div");x.appendChild(z);this.Ji=[];for(var F=0;F<2;F++){var A=new aD;
this.Ji.push(A);A.W("click",this.aeM,this);z.appendChild(A.e)}this.Fy=new hl(192);this.Fy.W(G.E.o,this.vD,this);
this.YQ=new h1;this.YQ.parent=this;x.appendChild(this.Fy.e)}bW.prototype=new c4("");bW.prototype.aeM=function(x){var z=x.currentTarget,A=this.Ji.indexOf(z);
if(A==this.UY){this.YQ.XL(A)}else{this.UY=A;this.Ta()}};bW.prototype.vD=function(x){var z=this.Fy.L();
this.Fy.b(z);var A=Math.round(z.w*255)<<16|Math.round(z.a*255)<<8|Math.round(z.s*255),o=new fZ(G.E.Y,!0);
o.data={d:G.U.nF,Hl:cu.NV,wa:this.UY,h:A};this.c(o);this.a46=Date.now()};bW.prototype.Ta=function(){var x=this.OQ,z=this.UY,A=[x.VJ,x.GN];
for(var F=0;F<2;F++){var o=this.Ji[F],i=o.e.style;o.Mg(A[F]);if(F==z)i.filter="drop-shadow(0 0 1px #000000)"}var L=A[z];
if(Date.now()-this.a46>100)this.Fy.b({w:(L>>>16)/255,a:(L>>>8&255)/255,s:(L&255)/255})};bW.prototype.wB=function(x,z){this.OQ=x;
if(z==cu._j||z==cu.NV){this.YQ.aep(x.VJ,x.GN);this.Ta()}};bW.prototype.yQ=function(){this.Ta()};function fS(){c4.call(this,"CSS",!1,"---panels/css",c4.SU.CSS);
this.G_=null;var x=I.z("div","padded");this.Fc.appendChild(x);this.eO=I.z("textarea");I.aK(this.eO);
x.appendChild(this.eO)}fS.prototype=new c4("");fS.prototype.a0=function(x,z){if(this.GM==x)return;this.GM=x;
this.eO.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(z-10)+"px")};
fS.prototype.N_=function(x){this.G_=x;this.Ta()};fS.prototype.wB=function(x,z){if(z==cu.Oc)this.Ta()};
fS.prototype.Ta=function(){var x=this.G_;if(x==null||x.f.length==0)return;if(!I.gX(this.Fc))return;var z=x.g[x.f[0]],A=CSS.acT(z,x);
if(A.length!=0)this.eO.value=A.join(";\n")+";";else this.eO.value=""};fS.prototype.yQ=function(){this.Ta()};
function bG(){c4.call(this,[9,6],!1,"---panels/info",c4.SU.a3i);this.Fc.setAttribute("style","min-width:240px;");
this.G_=null;this.OQ=null;var x=I.z("div","marged row");this.Fc.appendChild(x);var z=I.z("div","cell");
z.setAttribute("style","width:10em");x.appendChild(z);var A=I.z("div","cell");A.setAttribute("style","width:10em");
x.appendChild(A);this.auN=[];for(var F=0;F<4;F++){var o=new eX("");this.auN.push(o);z.appendChild(o.e);
I.iw(z)}this.Fc.appendChild(I.z("hr",""));var i=I.z("div","marged row");this.Fc.appendChild(i);var z=I.z("div","cell");
z.setAttribute("style","width:10em");var A=I.z("div","cell");A.setAttribute("style","width:10em");i.appendChild(z);
i.appendChild(A);this.wu=new eX("");z.appendChild(this.wu.e);I.iw(z);this.NO=new eX("");z.appendChild(this.NO.e);
this.sQ=new eX("");A.appendChild(this.sQ.e);I.iw(A);this.SD=new eX("");A.appendChild(this.SD.e);this.wu.b("X: 100 px");
this.NO.b("Y: 100 px");this.sQ.b("W: 0");this.SD.b("H: 0")}bG.prototype=new c4("");bG.prototype.Dg=function(x,z,A,o,i){if(!I.gX(this.Fc)||x==null)return;
var L=x.t.Sd(i.x,i.y),B=new iL(Math.floor(L.x),Math.floor(L.y));if(!i.z0){var D=0,Z=0,j=0,a=0,b=this.auN;
if(!i.z0&&!x.atB()&&new av(0,0,x.m-1,x.n-1).Td(B)){var W=x.MK(),F=x.m*B.y+B.x<<2;D=W[F+0];Z=W[F+1];j=W[F+2];
a=W[F+3]}b[0].b("R: "+D);b[1].b("G: "+Z);b[2].b("B: "+j);b[3].b("A: "+a)}this.wu.b("X: "+f.Fi.v1(B.x,x.um,A,x.m));
this.NO.b("Y: "+f.Fi.v1(B.y,x.um,A,x.n));this.aB()};bG.prototype.aB=function(){var x=this.G_,z=this.OQ,A=0,o=0;
if(x&&z){if(x.t.xC){A=x.t.xC.m;o=x.t.xC.n}else if(x.O){A=x.O.rect.m;o=x.O.rect.n}A=f.Fi.v1(Math.abs(A),x.um,z,x.m);
o=f.Fi.v1(Math.abs(o),x.um,z,x.n)}this.sQ.b(kc.get([12,41]).charAt(0)+": "+A);this.SD.b(kc.get([12,42]).charAt(0)+": "+o)};
bG.prototype.N=function(){c4.prototype.N.call(this);this.aB()};bG.prototype.N_=function(x,z,A){this.G_=x;
this.OQ=A;this.aB()};function dm(){c4.call(this,[9,1],!1,"---panels/layers",c4.SU.xu);this.Li=null;this.m5=null;
this.O1=null;this.eR=I.z("div","lphead");this.Uy=I.z("div","lpbody scrollable");this.CA=I.z("div","lpfoot");
this.De=new dg([0,6]);this.De.W(G.E.o,this.Zx,this);this.eR.appendChild(this.De.e);this.bY=I.z("span","disabled");
this.bY.setAttribute("style","display:inline-block; height:26px");this.eR.appendChild(this.bY);this.ow=new hN(null,["Kind",[12,48]],!1,[]);
this.ow.W(G.E.o,this.Zx,this);var x=this.B6=[new i4(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new bQ(null,null,8)];
x[0].W(G.E.o,this.Zx,this);x[1].W("input",this.Zx,this);this.a3k();this.Sp=new hN(null,b_.m0,!1,b_.h3);
this.Sp.W(G.E.o,this.al2,this);this.eR.appendChild(this.Sp.e);this.ly=new eN([12,0],0,100,"%",0);this.ly.W(G.E.o,this.a3p,this);
this.ly.parent=this;this.eR.appendChild(this.ly.e);this.sp=new i4([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.sp.W(G.E.o,this.aql,this);this.eR.appendChild(this.sp.e);this.ME=new eN([12,26],0,100,"%",0);this.ME.W(G.E.o,this.asC,this);
this.ME.parent=this;this.eR.appendChild(this.ME.e);this.nY=[];this.ev();this.Fc.appendChild(this.eR);
this.Fc.appendChild(this.Uy);this.Uy.addEventListener("dragover",function(i){i.preventDefault()},!1);
this.Uy.addEventListener("dragenter",I.oG,!1);this.Uy.addEventListener("drop",this.au_.bind(this),!1);
this.Fc.appendChild(this.CA);this.Fc.addEventListener("contextmenu",I.oG,!1);var z=e9.Tj(!0),A=e9.lD(!0);
this.alI=new ir(z,A);var z=[{name:[14,10]},{name:[14,11],Oh:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Oh:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",K:function(i){return{K:i.g[i.f[0]].add.SoLd!=null}},Oh:!0},{name:[6,8],K:dm.akg},{name:[6,34],K:function(i){var L=i.g[i.f[0]];
return{K:L.add.lmfx!=null&&!L.Q0()}}},{name:[6,40],Oh:!0,K:function(i){var L=i.g[i.f[0]];return{K:L.add.TySh!=null}}},{name:"",Oh:!0,K:function(i){var L=i.g[i.f[0]],B=L.add.TySh,D=B?B.gP:null;
return{K:B!=null&&D.Curve==null,qk:kc.get(B&&am.dC(D)==0?[16,3,1]:[16,3,0])}}},dm.aut(!1),{name:[11,6],Oh:!0,sub:[{name:[5,1],K:function(i){var L=i.g[i.f[0]];
return{K:L.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],K:function(i){var L=i.g[i.f[0]];return{K:L.add.lmfx!=null}}}]},{name:[6,12,0],K:function(i){var L=i==null?0:i.f.length;
return{K:L!=0&&(L!=1||i.f[0]!=0),qk:kc.get(L>1||L==1&&i.g[i.f[0]].Q0()?[6,12,0]:[6,10])}}},{name:[6,12,1],Oh:!0},{name:[13,0],sub:function(){var i=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],L=[];
for(var F=0;F<i.length;F++)L.push({name:i[F]});return L}()}],A=[{V:G.E.Y,M:{d:G.U.z1,ca:"layerstyle"}},{V:G.E.r,k:Q.dz,M:{d:"fromlayer",s5:[null,0,0]}},{V:G.E.r,k:Q.xu,M:{d:g.Xm}},{V:G.E.Y,M:{d:G.U.z1,ca:"duplinto"}},{V:G.E.r,k:Q.xu,M:{d:g.vn}},{V:G.E.rm,M:{zR:"newPlacedLayer"}},{V:G.E.r,k:Q.xu,M:{d:g.uh}},{V:G.E.rm,M:{zR:"rasterizeLayer",k7:{classID:"rasterizeLayer",null:jd.uU("Lyr",!0)}}},{V:G.E.r,k:Q.xu,M:{d:g.JW}},{V:G.E.r,k:Q.xu,M:{d:g.awj}},{V:G.E.r,k:Q.Mb,M:{d:"switchPntPrgr"}},{V:G.E.r,k:Q.xu,M:{d:g.aQ}},{sub:[{V:G.E.r,k:Q.je,M:{d:"st_copy"}},{V:G.E.r,k:Q.je,M:{d:"st_paste"}},{V:G.E.r,k:Q.je,M:{d:"st_clear"}}]},{V:G.E.rm,M:{zR:"mergeLayersNew",k7:{__name:"Merge Layers",classID:"Mrg2"}}},{V:G.E.rm,M:{zR:"flattenImage"}},{sub:function(){var i=[];
for(var F=0;F<8;F++)i.push({V:G.E.r,k:Q.xu,M:{d:g.O7,atW:F}});return i}()}];this.R9=new ir(z,A);var z=[{name:[6,45],K:function(i){var L=i.g[i.f[0]];
return{K:L.zg(i).B==null}}},{name:[6,47]}],A=[{V:G.E.r,k:Q.xu,M:{d:g.rr}},{V:G.E.r,k:Q.xu,M:{d:g.jC}}];
this.a69=new ir(z,A);var z=[{name:"enab/disab",K:function(i){return{qk:kc.get(i.g[i.f[0]].dP().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],K:function(i){return{K:i.Qi(!1,!0)}}}],A=[{V:G.E.r,k:Q.xu,M:{d:g.k3}},{V:G.E.r,k:Q.xu,M:{d:g.__}},{V:G.E.r,k:Q.xu,M:{d:g.Ca}}];
this.ar4=new ir(z,A);var z=[{name:"enab/disab",K:function(i){return{qk:kc.get(i.g[i.f[0]].zg(i).B.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],A=[{V:G.E.r,k:Q.xu,M:{d:g.$G}},{V:G.E.r,k:Q.xu,M:{d:g.RS}}];
this.amw=new ir(z,A);var z=[{name:"enab/disab",K:function(i){return{qk:kc.get(i.g[i.f[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],A=[{V:G.E.r,k:Q.xu,M:{d:g.JK}},{V:G.E.r,k:Q.xu,M:{d:g.C1}},{V:G.E.r,k:Q.xu,M:{d:g.AP}}];
this.a3w=new ir(z,A);this.aey=new ir(e9.atf(!0),e9.Hh(!0));this.acq=new ir(e9.Tj(),e9.lD());this.W("rclick",this.apv,this);
var o=function(i,L,F){return{PO:this._A[F]==1}}.bind(this);this.aqH=new ir([{name:[0,6],K:o},{name:[14,10],K:o},{name:[6,57,2],K:o,Oh:!0},{name:"Long-tap as a right click",K:o}]);
this.aqH.W("select",this.ahs,this);this._A=[0,1,1,0];this.ahs()}dm.prototype=new c4("");dm.prototype.G5=function(){return this.aqH};
dm.prototype.ahs=function(x){var z=this._A;if(x){var A=x.target.WJ(),F=A[0];console.log(A);z[F]=1-z[F]}var o=[[this.De,{e:this.bY}],[this.Sp,this.ly],[this.sp,this.ME]];
for(var F=0;F<3;F++)for(var i=0;i<o[F].length;i++)o[F][i].e.style.display=z[F]==1?"inline-block":"none";
this.a0(this.GM,this.zp)};dm.prototype.a6b=function(){if(this.De.L()){var x=this.ow.L(),z=this.B6[x].L();
if(x==0)return z.indexOf(!0)!=-1;if(x==1)return z!=""}return!1};dm.aut=function(x){var z=function(o){var i=o!=null&&o.f.length!=0&&o.g[o.f[0]].fG;
return{PO:i,K:o!=null&&o.LA(o.f[0]),M:{V:G.E.rm,M:{zR:i?"ungroup":"groupEvent",k7:{classID:i?"Ungr":"GrpL",null:jd.uU("Lyr",!0)}}}}},A={name:[6,6,0],Oh:!0,K:z};
if(x)A.PD=[bJ.yU,bJ.RI,bJ.jL];return A};dm.akg=function(x,z){if(x)for(var F=0;F<x.f.length;F++){var A=x.g[x.f[F]];
if(A.add.TySh||A.add.SoLd||A.add.SoCo||A.add.GdFl||A.add.PtFl)return{K:!0}}return{K:!1}};dm.prototype.au_=function(x){I.oG(x);
var z=x.dataTransfer.getData("Text"),A=1,o=0;if(z==""){I.Zb(x,this,this.O1.indexOf(this.m5),o+(A>.5?0:1))}else if(z!="--panel"){var z=JSON.parse(z),i=z.VW;
if(i=="l")this.cO({d:g.f_,source:z.ns,target:o,Oy:A})}};dm.prototype.apv=function(x){var z=this.m5,A=x.data,i;
if(z.f.indexOf(A.j)==-1){var o={d:g.LD,j:x.target.h_.index,IG:A.ZD};this.cO(o)}if(z.f.indexOf(A.j)==-1)return;
if(A.ZD==1){i=this.ar4}else if(A.ZD==2){i=this.a3w}else if(A.ZD==3){i=this.amw}else if(A.ZD==4){i=this.a69}else if(A.ZD==5){i=this.alI}else{i=this.R9}i.N();
i.update(z);i.parent=this;var L=new fZ(G.E.Y,!0);L.data={d:G.U.Sc,oM:i,x:A.rg.x+1,y:A.rg.y+1};this.c(L)};
dm.prototype.N=function(){c4.prototype.N.call(this);this.Sp.N();this.ly.N();this.sp.N();this.ME.N();
if(this.m5)this.N_(this.m5);var x="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var F=0;F<this.nY.length;F++){var z=this.nY[F];z.mB(I.gF(x[F],null,"miniscale"));if(F==1||F==2){z.e.style.position="relative";
var A=I.z("img","gsicon");A.setAttribute("src",PIMG["tools/corner"]);A.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
z.e.appendChild(A)}}};dm.prototype.N_=function(x,z){if(x&&!x.bg)return;if(x==null)I.ho(this.Fc,"disabled");
else I.wi(this.Fc,"disabled");this.m5=x;this.O1=z;if(this.Li!=null){this.Uy.removeChild(this.Li.Uy);
this.Li=null}if(x==null)return;var A=!1;for(var F=0;F<x.lX.length;F++)if(x.lX[F].ft)A=!0;this.Li=new g_(x.root,this,x,{bk:0,TH:!1},{a2Y:A,aoN:this.a6b()});
this.Uy.appendChild(this.Li.Uy);if(x.f.length==0||x.g[x.f[0]]==null)I.ho(this.eR,"disabled");else{I.wi(this.eR,"disabled");
if(x.f.length==1&&x.We)this.Li.apQ(x.f);var o=x.g[x.f[0]];if(o.Q0()){this.Sp.sx([[15,10,27]].concat(b_.m0),[1].concat(b_.h3));
var i=b_.Am.indexOf(o.Cz);this.Sp.b(i+1)}else{this.Sp.sx(b_.m0,b_.h3);var i=b_.Am.indexOf(o.Cz);this.Sp.b(i)}this.ly.b(Math.round(100*o.opacity/255));
this.sp.b([o.bb(0),o.bb(1),o.bb(2),o.bb(31)]);var L=x.gx();this.Sp.dU(!L);this.ME.dU(!L);this.ly.dU(!L);
this.sp.dU(!(L&&!o.bb(31)));this.ME.b(Math.round(100*(o.add.iOpa!=null?o.add.iOpa/255:1)))}};dm.prototype.a0=function(x,z){this.GM=x;
this.zp=z;var A=this.eR.getBoundingClientRect().height;if(55<A&&A<56)A=60.2;var o=z-(A+35);this.Uy.style.height=o+"px";
this.Uy.style.width=x+"px"};dm.prototype.al2=function(x){this.cO({d:g.ya,NI:this.Sp.L()})};dm.prototype.a3p=function(x){this.cO({d:g.ce,NI:Math.round(255*this.ly.L()/100)})};
dm.prototype.aql=function(x){this.cO({d:g.wF,NI:[this.sp.L(),[0,1,2,31]]})};dm.prototype.asC=function(x){this.cO({d:g.V$,NI:Math.round(255*this.ME.L()/100)})};
dm.prototype.Zx=function(x){if(x.target==this.ow)this.a3k();var z=this.De.L();if(z)I.wi(this.bY,"disabled");
else I.ho(this.bY,"disabled");this.N();this.m5.bg=!0;this.N_(this.m5);this.m5.bg=!1};dm.prototype.a3k=function(){I.Uv(this.bY);
this.bY.appendChild(this.ow.e);this.bY.appendChild(this.B6[this.ow.L()].e)};dm.prototype.a8f=function(x){this.a56(x,this.aey)};
dm.prototype.asw=function(x){this.a56(x,this.acq)};dm.prototype.a56=function(x,z){var A=x.currentTarget;
if(I.gX(z.e))return;x.stopPropagation();var o=A.getBoundingClientRect();z.N();z.update(this.m5);z.parent=this;
var i=new fZ(G.E.Y,!0);i.data={d:G.U.Sc,oM:z,x:o.left,y:o.top,aq6:!0};this.c(i)};dm.prototype.aiL=function(x){this.cO({d:g.abo})};
dm.prototype.ah0=function(x){this.cO({d:this.m5.f.length>1?g.hi:g.XA})};dm.prototype.a4W=function(x){this.cO({d:g.Eq})};
dm.prototype.aw_=function(x){var z=this.m5;if(z.f.length==0)return;var A=z.g[z.f[0]],o=A.ZD;this.cO({d:o<=0?A.Ro?g.C1:g.vn:o==3?g.RS:g.__})};
dm.prototype.aub=function(x){this.cO({d:g.pI})};dm.prototype.cO=function(x){var z=new fZ(G.E.r,!0);z.data=x;
z.k=Q.xu;this.c(z)};dm.prototype.ev=function(){var x=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],z=[this.aub,this.asw,this.a8f,this.aiL,this.ah0,this.a4W,this.aw_],A=this.a8C.bind(this);
for(var F=0;F<x.length;F++){var o=new eI("W",!1,x[F]);this.nY.push(o);I.Zs(o.e,z[F].bind(this));this.CA.appendChild(o.e);
if(F>=x.length-3){var i=o.e;i.addEventListener("drop",A,!1);i.addEventListener("dragover",function(L){L.preventDefault()},!1);
i.addEventListener("dragenter",I.oG,!1)}}};dm.prototype.a8C=function(x){I.oG(x);var z=0,A=this.nY;while(A[z].e!=x.currentTarget)z++;
A[z].bG();var o=x.dataTransfer.getData("Text");if(o=="")return;var o=JSON.parse(o);if(o.VW=="l"){var i={d:[g.hi,g.Xm,g.vn][z-4]};
if(this.m5.f.indexOf(o.ns)==-1)i.j=o.ns;this.cO(i)}if(z!=6)return;if(o.VW=="sm"||o.VW=="s"){var L=new fZ(G.E.r,!0);
L.k=Q.je;L.data={d:o.VW=="sm"?"st_clear":"st_delsingle",j:o.ns,ns:o.Za};this.c(L)}if(o.VW=="fm"||o.VW=="f"){this.cO({d:o.VW=="fm"?g.jC:g.q4,src:o.ns,Za:o.Za})}if(o.VW=="m"||o.VW=="vm"){this.cO({d:o.VW=="m"?g.__:g.C1,j:o.ns})}};
function g_(x,z,A,o,i){a0.call(this);this.parent=z;this.h_=x;this.yc=[];this.e=I.z("div","layeritem");
var L=i.aoN&&!this.auz(),B=x.j,D=A.f.indexOf(x.index)!=-1,w=!0,gJ=!1;this.eR=I.z("div",D?"head selected":"head");
if(B.add.artb!=null)I.ho(this.eR,"artb");var Z=B.Q0()?26:Math.floor(10+B.a4e/I.Z()),j="height: "+Z+"px;";
if(D&&i.a2Y)j+="background-color:rgba(255,50,50,0.4);";this.eR.setAttribute("style",j);var a=I.z("div","headL"),b=I.z("div","headR"),W=I.z("div","lpineck");
this.Uy=I.z("div","lpibody");this.eR.appendChild(a);this.eR.appendChild(b);if(!L){this.e.appendChild(this.eR);
if(B.Rq()||B.Mi())if(B.Qu())this.e.appendChild(W)}var c=this.eR;c.setAttribute("draggable","true");c.addEventListener("dragstart",this.fj.bind(this),!1);
c.addEventListener("drop",this.zM.bind(this),!1);c.addEventListener("dragover",this.v0.bind(this),!1);
c.addEventListener("dragenter",I.oG,!1);c.addEventListener("dragleave",this.IL.bind(this),!1);var Y=[],R=[null,null,null,null],$=B.Gi(),k=x;
while(k.parent){k=k.parent;$=$&&k.j.Gi()}if(B.fG){for(var F=x.index-1;F>=0;F--){var V=A.g[F];if(!V.fG){w=V.Gi();
break}}}var h=B.Gi()?$&&w?2:1:0;this.uD=I.z("div");var l=I.z("div",h==0?"sqr":"eye");this.uD.appendChild(l);
l.style.opacity=[.12,.33,1][h];var M=I.z("div","space");this.UZ=I.z("div","label");this.UZ.setAttribute("style","max-width:calc(100% - "+(96+x.depth*20)+"px); margin-top:"+(Z-19)/2+"px;");
this.UZ.textContent=B.getName();this.iE=I.z("div","lock");this.aik=I.z("div","lrfx");this.HJ=I.z("div","arfx");
var q=this.aui.bind(this),t=this.ad5.bind(this);this.eR.addEventListener("click",t,!1);this.eR.addEventListener("contextmenu",q,!1);
var p=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],E=B.add.lclr==null?0:p[B.add.lclr];
if(E==0)E=o.bk;var _=[E>>16,E>>8&255,E&255];for(var F=0;F<3;F++){_[F]=Math.round(.5*_[F]+.5*220)}this.uD.setAttribute("style","background-color:rgba("+_.join(",")+","+(E==0?0:1)+");");
var S=this.a6n.bind(this);this.uD.addEventListener("mousedown",S,!1);this.uD.addEventListener("mouseover",S,!1);
this.HJ.addEventListener("click",this.a7y.bind(this),!1);Y[0]=this.uD;Y[1]=M;Y[10]=this.UZ;if(B.Q0()){var y=I.z("div","arrow"),v=I.z("div","folder");
this.QK(v);y.addEventListener("click",this.asZ.bind(this),!1);Y[2]=y;Y[3]=v;if(B.add.lsct==hF.X7||i.aoN){var r={bk:E,TH:o.TH||B.bb(31)};
for(var F=x.children.length-1;F>=0;F--){var K=new g_(x.children[F],z,A,r,i);this.yc.push(K);this.Uy.appendChild(K.e)}this.e.appendChild(this.Uy)}y.setAttribute("class",B.add.lsct==hF.X7?"open":"closed")}else{this.pC=I.z("div","thumb");
Y[5]=this.pC;g_._I(this.pC,B.qx);this.QK(this.pC);if(ei.get(B.add))I.ho(B.qx.canvas,"gsicon")}var s=B.dP();
if(s){this.Rs=I.z("div","chain");this.pm=I.z("div","thumb");g_._I(this.pm,B.amx,!0);this.Rs.style.opacity=s.GD?1:0;
this.Rs.addEventListener("click",this.aoX.bind(this),!1)}var P=B.d8()&&B.add.vmsk;if(B.add.vmsk&&!P){this.Bn=I.z("div","chain");
this.GR=I.z("div","thumb");g_._I(this.GR,B.a4E,!0);this.Bn.style.opacity=B.add.vmsk.GD?1:0;this.Bn.addEventListener("click",this.a12.bind(this),!1)}if(B.Mi()&&B.zg(A).B){this.JF=I.z("div","thumb");
g_._I(this.JF,B.aog,!1);this.QK(this.JF);this.JF.addEventListener("click",t,!1);this.JF.addEventListener("contextmenu",q,!1)}if(B.Rq()){this.ap6=W;
W.addEventListener("contextmenu",q,!1);var d=new dm.mD(kc.get([12,1]),"sm","layerstyle",x.depth,0,null);
d.parent=this;W.appendChild(d.e);var X=B.add.lmfx,U=X.masterFXSwitch.v;d.uO(U);for(var F=0;F<gN.order.length;
F++){var n=X[gN.OX[F]].v;if(n.length==0)continue;for(var e=0;e<n.length;e++){var d=new dm.mD(kc.get(gN.names[F]),"s","layerstyle",x.depth,1,[F,e]);
d.uO(U&&n[e].v.enab.v);d.parent=this;W.appendChild(d.e)}}}if(B.Mi()){var d=new dm.mD(kc.get([12,55]),"fm",null,x.depth,0,-1,B.zg(A).B?this.JF:null);
d.parent=this;W.appendChild(d.e);this.ar3=d.e;this.ar3.addEventListener("contextmenu",q,!1);var X=B.add.SoLd.filterFX.v,J=X.filterFXList.v,U=X.enab.v;
d.uO(U);for(var F=J.length-1;F>=0;F--){var C=J[F].v,H=h6.kn(C);if(ei.bc[H])H=ei.bc[H];var u=C.Nm.v;if(h6.names[H])u=kc.get(h6.names[H]);
if(ei.names[H])u=kc.get(ei.names[H]);var bc="afw_"+H,d=new dm.mD(u,"f",bc,x.depth,1,F);d.uO(U&&C.enab.v);
d.parent=this;W.appendChild(d.e)}}if(x.index==A.f[0]){var jK=B.ZD,N;if(jK<=0)N=this.pC;else if(jK==1)N=this.pm;
else if(jK==3)N=this.JF;if(N)N.setAttribute("class","thumb active");if(B.Ro&&this.GR)this.GR.setAttribute("class","thumb active")}M.setAttribute("style","width:"+Math.max(0,x.depth-1)*18+"px");
var he=B.add.lspf!=null&&B.add.lspf!=0||o.TH;this.iE.style.opacity=B.bb(31)?1:.5;Y[4]=B.fG?I.z("div","clipp"):null;
Y[6]=s?this.Rs:null;Y[7]=s?this.pm:null;Y[8]=B.add.vmsk&&!P?this.Bn:null;Y[9]=B.add.vmsk&&!P?this.GR:null;
var kg=B.en,cJ=A.f;if(kg!=0)for(var F=0;F<cJ.length;F++)if(A.g[cJ[F]].en==kg){gJ=!0;break}if(gJ){R[0]=I.z("div",B.xw?"link":"linkX");
R[0].addEventListener("click",this.a68.bind(this),!1)}R[1]=he?this.iE:null;R[2]=B.Rq()?this.aik:null;
R[3]=B.Rq()||B.Mi()?this.HJ:null;this.HJ.setAttribute("class",B.Qu()?"arfx open  gsicon":"arfx closed  gsicon");
var it=Y;for(var F=0;F<it.length;F++)if(it[F])a.appendChild(it[F]);it=R;for(var F=0;F<it.length;F++)if(it[F])b.appendChild(it[F])}g_.prototype=new a0;
g_._I=function(x,z,A){var o=z.canvas;I.lS(o);if(A)x.setAttribute("draggable","true");x.appendChild(o);
o.setAttribute("style",o.getAttribute("style")+"; pointer-events:none")};g_.prototype.QK=function(x){I.Zs(x,function(z){if(this.parent._A[3]==0)return;
I.ik(z);I.ek(document.body,function(){clearTimeout(this.akq)}.bind(this));this.akq=setTimeout(function(){var A=new fZ("rclick",!0);
A.data={j:this.h_.index,ZD:this.ZD(z),rg:I.Ki(z,document.body)};this.c(A)}.bind(this),600)}.bind(this))};
g_.prototype.apQ=function(x){var z=this.h_.index;if(x.indexOf(z)!=-1){if(this.e.scrollIntoView)this.e.scrollIntoView({block:"nearest"})}for(var F=0;
F<this.yc.length;F++)this.yc[F].apQ(x)};g_.xj=function(x,z){var A=z.getBoundingClientRect();return(x.clientY-A.top)/A.height};
g_.prototype.fj=function(x){x.stopPropagation();var z=x.target==this.pm?"m":x.target==this.GR?"vm":"l";
x.dataTransfer.setData("Text",JSON.stringify({VW:z,ns:this.h_.index}))};g_.prototype.IL=function(x){I.oG(x);
this.ab()};g_.prototype.zM=function(x){I.oG(x);this.ab();var z=x.dataTransfer.getData("Text"),A=this.parent.m5,o=g_.xj(x,this.eR),i=this.h_.index;
if(o>.8){var L=!0,B=A.root.RX(i);while(B.parent!=null){var D=B.parent,Z=D.children;if(Z.indexOf(B)!=0)L=!1;
B=B.parent}if(L){i=0;o=1}}if(z==""){I.Zb(x,this,this.parent.O1.indexOf(A),i+(o>.5?0:1))}else if(z!="--panel"){var z=JSON.parse(z),j=z.VW;
if(j=="l")this.cO({d:g.f_,source:z.ns,target:i,Oy:o});else if(j=="m"||j=="vm")this.cO({d:j=="m"?g.a6B:g.sJ,src:z.ns,Jg:i});
else g_.avK(x,z,this)}};g_.avK=function(x,z,A,o){var i=z.VW,L=A.h_.index,B=z.ns;if(i=="s"||i=="sm")A.cO({d:g.FV,src:B,Jg:L,Za:z.Za});
if(i=="f"||i=="fm")A.cO({d:g.a5D,src:B,Jg:L,Za:z.Za,kH:o==null?0:o})};g_.prototype.v0=function(x){I.oG(x);
var z=g_.xj(x,this.eR),A=this.h_.j.Q0()&&.5<z&&z<.8;this.ab();var o="inset 0 "+(A?0:z>.5?-3:3)+"px "+(A?"5px black":"0 rgba(0,0,0,0.5)");
this.eR.style.boxShadow=o};g_.prototype.ab=function(x){this.eR.style.boxShadow=""};g_.aie=-1;g_.o7=!1;
g_.a6y=function(x){g_.o7=!1;document.body.removeEventListener("mouseup",g_.a6y)};g_.prototype.a6n=function(x){if(x.button!=0)return;
if(x.type=="mousedown"){g_.o7=!0;document.body.addEventListener("mouseup",g_.a6y,!1)}if(x.type=="mouseover"&&(!g_.o7||g_.aie==this.h_.index))return;
I.oG(x);this.cO({d:g.D7,j:this.h_.index});g_.aie=this.h_.index};g_.prototype.asZ=function(x){I.oG(x);
this.cO({d:g.a80,j:this.h_.index})};g_.prototype.aoX=function(x){this.cO({d:g.FD,j:this.h_.index})};
g_.prototype.a12=function(x){this.cO({d:g.Dq,j:this.h_.index})};g_.Jx=0;g_.prototype.M0=function(x){this.cO({d:g.Vy,j:this.h_.index,name:x})};
g_.prototype.a7y=function(x){this.cO({d:g.a2X,j:this.h_.index})};g_.prototype.a68=function(x){this.cO({d:g.Ke,j:this.h_.index})};
g_.prototype.aui=function(x){if(x.button!=2&&!I.anD(x))return;var z=this.ZD(x);if(z!=3&&x.currentTarget==this.ar3)z=4;
if(x.target==this.aik||x.currentTarget==this.ap6)z=5;var A=new fZ("rclick",!0);A.data={j:this.h_.index,ZD:z,rg:I.Ki(x,document.body)};
this.c(A)};g_.prototype.ZD=function(x){var z=x.target,A=z;return A==this.GR?2:A==this.pm?1:A==this.pC?0:A==this.JF?3:-1};
g_.prototype.ad5=function(x){var z=x.target,W;if(z==this.uD.firstChild||z==this.HJ||z==this.Rs||z==this.Bn||z.tagName&&z.tagName.toLowerCase()=="input")return;
var A=this.ZD(x),o=this.parent.m5,i=this.h_.index,L=o.g[i];if(z==this.iE){this.cO({d:g.wF,j:i,NI:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(z==this.UZ){var B=g_.Jx;g_.Jx=Date.now();if(Date.now()-B<300){this.eR.setAttribute("draggable","false");
var D=new c4.z_(this.UZ,this.M0.bind(this))}else this.cO({d:g.LD,j:i,IG:A,dV:!0});return}if(x.button==0&&x.detail==2){if(z==this.UZ)return;
var Z=new fZ(G.E.r,!0),j=new fZ(G.E.Y,!0),a=new fZ(G.E.rm,!0);if(A==0&&L.add.SoCo){var b=f.Q.Pw(L.add.SoCo.Clr.v);
j.data={d:G.U.z1,ca:"colorpicker",bk:b.w<<16|b.a<<8|b.s,PE:function(R){var $=f.Q.Vv({s:R&255,a:R>>>8&255,w:R>>16&255});
$={classID:"null",Clr:{t:"Objc",v:$}};var k=new fZ(G.E.r,!0);k.k=Q.xu;k.data={d:g.rZ,P$:[i],Dj:!0,h:{ks:1,Kb:$}};
this.c(k)}.bind(this),W$:!0}}else if(A==0&&(ei.get(L.add)||L.add.SoCo||L.add.GdFl||L.add.PtFl))j.data={d:G.U.NQ,ca:c4.SU.UO};
else if(A!=0&&A!=-1)j.data={d:G.U.NQ,ca:c4.SU.UO};else if(A==0&&L.add.SoLd)a.data={zR:"placedLayerEditContents",k7:{classID:"placedLayerEditContents"}};
else if(A==0&&L.add.TySh){Z.k=Q.Mb;Z.data={d:"editCurr",IP:i}}else j.data={d:G.U.z1,ca:"layerstyle",j:i};
this.c(a.data?a:j.data?j:Z);return}if(x.button!=0)return;if(A==1||A==3){var c=A==3?L.zg(o).B:L.dP();
W=c.ft?o.t.u1.join("")=="111"?1:2:0}var Y={d:g.LD,j:i,IG:A,ann:W,dV:!0};this.cO(Y)};g_.prototype.cO=function(x){var z=new fZ(G.E.r,!0);
z.data=x;z.k=Q.xu;this.c(z)};g_.prototype.auz=function(){var x=this.h_.j,z=x.add,A=this.parent.ow.L(),o=this.parent.B6[A].L();
if(A==0){if(o[0]&&z.SoLd==null&&z.TySh==null&&x.RC())return!0;if(o[1]&&ei.get(z)!=null)return!0;if(o[2]&&z.TySh!=null)return!0;
if(o[3]&&z.vstk!=null)return!0;if(o[4]&&z.SoLd!=null)return!0;return!1}if(A==1)return x.getName().toLowerCase().indexOf(o.toLowerCase())!=-1};
dm.mD=function(x,z,A,o,i,L,B){a0.call(this);this.akZ=z;this.le=A;this.index=L;this.e=I.z("div","styleitem");
this.eR=I.z("div","head");this.atm=null;if(z=="f"){var D=this.atm=I.z("div","headR");D.textContent="\u2699";
this.eR.appendChild(D)}this.uD=I.z("div","eye gsicon");this.UZ=I.z("div","label");this.e.appendChild(this.eR);
this.eR.appendChild(this.uD);if(B){this.pm=B;this.eR.appendChild(this.pm);this.eR.setAttribute("style","height: "+(B.firstChild.height/I.Z()+10)+"px")}this.UZ.innerHTML=x;
this.e.setAttribute("style","margin-left: "+(24+o*16+i*22)+"px");this.eR.appendChild(this.UZ);this.uD.addEventListener("click",this.aqG.bind(this),!1);
var Z=this.e;Z.setAttribute("draggable","true");Z.addEventListener("dragstart",this.fj.bind(this),!1);
if(!0){Z.addEventListener("drop",this.zM.bind(this),!1);Z.addEventListener("dragover",this.v0.bind(this),!1);
Z.addEventListener("dragenter",I.oG,!1);Z.addEventListener("dragleave",this.IL.bind(this),!1)}this.e.addEventListener("click",this.V4.bind(this),!1)};
dm.mD.prototype=new a0;dm.mD.prototype.fj=function(x){x.stopPropagation();x.dataTransfer.setData("Text",JSON.stringify({VW:this.akZ,ns:this.parent.h_.index,Za:this.index}))};
dm.mD.prototype.IL=function(x){I.oG(x);this.ab()};dm.mD.prototype.zM=function(x){I.oG(x);this.ab();var z=x.dataTransfer.getData("Text");
if(z=="")return;var z=JSON.parse(z);g_.avK(x,z,this.parent,this.index+(g_.xj(x,this.eR)>.5?0:1))};dm.mD.prototype.v0=function(x){I.oG(x);
var z=g_.xj(x,this.eR)>.5;this.ab();var A="border-"+(z?"bottom":"top");this.eR.style[A]="0.2em solid rgba(0,0,0,0.5)"};
dm.mD.prototype.ab=function(x){this.eR.style.border="none"};dm.mD.prototype.uO=function(x){this.uD.style.opacity=x?1:.2};
dm.mD.prototype.V4=function(x){if(x.target==this.uD)return;var z=this.parent.h_.index;if(x.detail!=1&&this.le!=null){var z=this.parent.h_.index,A=new fZ(G.E.Y,!0);
if(this.le.indexOf("afw_")==0){var o=this.le.slice(4),i=T[o]||h6.T[o],L=x.target==this.atm;if(!L&&!i)return;
A.data=Q.O$.apg(L?"blendOptions":o,{j:z,index:this.index})}else A.data={d:G.U.z1,ca:this.le,j:z,index:this.index};
this.c(A)}else{if(x.target.getAttribute("class")!="thumb")this.parent.cO({d:g.LD,j:z,IG:0})}};dm.mD.prototype.aqG=function(x){var z={fm:g._k,f:g.kP,sm:g.g6,s:g.fx}[this.akZ];
this.parent.cO({d:z,j:this.parent.h_.index,index:this.index})};function gp(){c4.call(this,"Guide Guy",!1,"---panels/guideguy",c4.SU.a0K);
this.G_=null;this.ER=[];var x=I.z("div","form padded");this.Fc.appendChild(x);x.setAttribute("style","width:200px");
this.Fc.appendChild(x);var z=I.z("canvas"),A=z.getContext("2d");z.width=z.height=160;var o=[32,0,16,160,0,32,160,16,0,112,160,16],i="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),L=[0,0,0,0,0,0,0,0,0,0];
for(var F=0;F<10;F++){A.clearRect(0,0,160,160);A.setTransform(1,0,0,1,80,80);A.rotate((F&3)*Math.PI/2);
A.translate(-80,-80);A.fillStyle="rgba(0,0,0,0.3)";if(F<4){for(var B=0;B<12;B+=4){A.fillStyle=B==0?"#000000":"rgba(0,0,0,0.3)";
A.fillRect(o[B],o[B+1],o[B+2],o[B+3])}}else if(F<6){var D=8*6;A.fillRect(0,0,D,160);A.fillRect(8*7,0,D,160);
A.fillStyle="#000000";A.fillRect(8*14,0,D,160)}else if(F<8){A.fillRect(0,0,16,160);A.fillRect(160-16,0,16,160);
A.fillRect(32,0,160-64,160);A.fillStyle="#000000";A.fillRect(32,80-8,160-64,8*1)}else{A.fillRect(0,0,8*7,160);
A.fillRect(8*13,0,160,160);A.fillStyle="#000000";A.fillRect(8*7,80-8,8*6,8*1)}var Z="<img src=\""+z.toDataURL()+"\" class=\"autoscale gsicon\" /> ",j=new eN(Z,0,200,F==4||F==5?null:"px",null,null,null,4,i[F]);
j.parent=this;j.W(G.E.o,this.amC,this);j.b(L[F]);j.N();this.ER.push(j);x.appendChild(j.e)}var a=[[11,14],[11,15,0]];
this.k1=[];for(var F=0;F<a.length;F++){var b=new eI(a[F],!0,null,!0);this.k1.push(b);b.W("click",this.iK,this);
x.appendChild(b.e)}for(var F=0;F<6;F++){A.setTransform(1,0,0,1,80,80);A.rotate(Math.floor(F/3)*Math.PI/2);
A.translate(-80,-80);A.clearRect(0,0,160,160);A.fillStyle="rgba(0,0,0,0.3)";A.fillRect(0,0,160,160);
A.clearRect(16,16,128,128);A.fillStyle="#000000";var W=F%3;A.fillRect([0,9,18][W]*8,0,16,160);var Z="<img src=\""+z.toDataURL()+"\" class=\"autoscale gsicon\" /> ",b=new eI(Z,!1,null,!1);
this.k1.push(b);b.W("click",this.iK,this);x.appendChild(b.e)}}gp.prototype=new c4("");gp.prototype.N=function(){c4.prototype.N.call(this);
for(var F=0;F<this.k1.length;F++)this.k1[F].N()};gp.prototype.amC=function(x){var z=this.ER,A=z.indexOf(x.target),o=Math.floor(A/2),i=A&1,L=[];
for(var F=0;F<4;F++)L.push(z[2*F+i].L());var B=-1;if(o==2&&L[2]!=0&&L[3]!=0&&L[4]!=0)B=4;if(o==3&&L[3]!=0&&L[2]!=0&&L[4]!=0)B=4;
if(o==4&&L[4]!=0&&L[2]!=0&&L[3]!=0)B=3;if(B!=-1)z[2*B+i].b(0)};gp.prototype.iK=function(x){var z=this.G_,A=this.k1.indexOf(x.target),o=[[],[]];
if(z==null)return;var i=z.O?z.O.rect:new av(0,0,z.m,z.n),L=i.m,B=i.n;if(A==0){var D=[[],[]];for(var F=0;
F<this.ER.length;F++)D[F&1].push(this.ER[F].L());var Z=[gp.aip(D[0],i.x,i.x+L),gp.aip(D[1],i.y,i.y+B)];
o=gp.aru(Z);Q.R7.hD(o,z.OG())}else if(A==1){}else{A-=2;var j=Math.floor(A/3),Z=[[],[]];Z[j].push([i.x,i.x+L/2,i.x+L,i.y,i.y+B/2,i.y+B][A]);
o=gp.aru(Z);Q.R7.hD(o,z.OG())}this.a3D(o)};gp.aru=function(x){var z=[],A=[];for(var o=0;o<2;o++)for(var F=0;
F<x[o].length;F++){z.push([o,x[o][F]]);A.push(-1)}return[z,A]};gp.prototype.axc=function(x){var z=this.arv.indexOf(x.target)};
gp.prototype.a3D=function(x){var z=new fZ(G.E.r,!0);z.k=Q.ah;z.data={d:"gids",ng:x};this.c(z)};gp.aip=function(x,z,A){var o=[],i=x[2],L=x[3],B=x[4],D=0;
if(i==0)D++;if(L==0)D++;if(B==0)D++;if(D>1&&i==0&&L==0){if(x[0]!=0)o.push(z+x[0]);if(x[1]!=0)o.push(A-x[1]);
return o}var Z=A-z-x[0]-x[1];if(i==0){if(B==0){i=Math.floor(Z/L);B=(Z-i*L)/(i-1)}else{i=1;while(L*i+B*(i-1)+L+B<=Z)i++}}else if(i!=0&&L!=0){if(i*L>Z)i=Math.floor(Z/L);
B=(Z-i*L)/(i-1)}o.push(z+x[0],A-x[1]);var L=(Z-B*(i-1))/i;for(var F=1;F<i;F++){if(B==0)o.push(z+x[0]+F*L);
else o.push(z+x[0]+F*L+(F-1)*B,z+x[0]+F*L+F*B)}return o};gp.prototype.N_=function(x){this.G_=x};function eR(){c4.call(this,[9,2],!1,"---panels/properties",c4.SU.UO);
this.agP=null;this.S$=null;this.OQ=null;this.afF=-1;this.Rw=null}eR.prototype=new c4("");eR.prototype.a0=function(x,z){this.GM=x;
this.zp=z;x=x-16;z=z-12;var A=this.Rw;if(A){A.style.width=x+"px";A.style.height=z+"px";for(var F=0;F<3;
F++)this.Ev[F].a0(x-12,z)}};eR.prototype.dn=function(){this.Rw=I.z("div","padded scrollable");this.Fc.appendChild(this.Rw);
var x=I.z("span");this.Rw.appendChild(x);this.HO=[new eI([0,3]),new eI([12,73]),new eI([12,91,0])];for(var F=0;
F<this.HO.length;F++){var z=this.HO[F];z.W("click",this.a7X,this);x.appendChild(z.e);if(F==2)z.e.style.marginRight="0"}this.Rw.appendChild(I.z("hr"));
this.Zf=new eR.Yr;this.Zf.parent=this;this.Ns=new eR.Kc;this.Ns.parent=this;this.K6=new eR.j3;this.K6.parent=this;
this.Ev=[this.Zf,this.Ns,this.K6];this.Rw.appendChild(this.Zf.e);this.a0(this.GM,this.zp)};eR.prototype.a7X=function(x){var F=this.HO.indexOf(x.currentTarget);
this.gW(F);this.a8g(F==1?this.Ns.cb:-1)};eR.prototype.gW=function(x){for(var F=0;F<3;F++){this.HO[F].bG();
var z=this.Ev[F].e;if(z.parentNode==this.Rw&&F!=x)this.Rw.removeChild(z);if(z.parentNode!=this.Rw&&F==x)this.Rw.appendChild(z)}this.HO[x].wR()};
eR.prototype.a8g=function(x){var z=this.S$.f[0],A=this.S$.g[z],o=x+1;if(x==1&&A.Ro)return;var i=new fZ(G.E.r,!0);
i.k=Q.xu;if(x!=1&&A.Ro){i.data={d:g.LD,j:z,IG:2};this.c(i)}i.data={d:g.LD,j:z,IG:o};this.c(i)};eR.prototype.N=function(){c4.prototype.N.call(this);
if(this.Rw==null)return;this.N_(this.S$);for(var F=0;F<3;F++){this.HO[F].N();this.Ev[F].N()}};eR.prototype.yQ=function(){if(!I.gX(this.Fc))return;
if(this.Rw==null){this.dn();this.wB(this.OQ,cu._j);this.N_(this.agP);this.N()}};eR.prototype.N_=function(x){this.agP=x;
if(this.Rw==null)return;this.Zf.N_(x);this.Ns.N_(x);this.K6.N_(x);if(x==null||x.f.length==0||x.g[x.f[0]]==null){I.ho(this.Fc,"disabled");
this.S$=null;return}else I.wi(this.Fc,"disabled");var z=x.f[0],A=x.g[z],o=x.Dd(),i=o[0],L=o[1];if(L.length!=0){var B=i[L[0]],D=B.add.vogk,Z=!1;
if(D)for(var F=0;F<D.length;F++){var j=D[F].v;if(!f.i4.uH(j))continue;Z=!0;z=B.dD}}z+=","+Z;if(x!=this.S$||this.afF!=z){this.S$=x;
this.afF=z;if(Z)this.gW(2);else if(A.ZD<1&&!A.Ro||ei.get(A.add))this.gW(0);else this.gW(1)}this.HO[1].dU(this.Ns.cb!=-1);
this.HO[2].dU(Z)};eR.prototype.wB=function(x,z){this.OQ=x;if(this.Zf)this.Zf.wB(x,z);if(this.K6)this.K6.wB(x,z)};
eR.Yr=function(){a0.call(this);this.e=I.z("div","form");this.a4L=new eX("Hello");this.cv=new eI([1,12,2],null,null,!0);
this.cv.e.style.abT="right";this.cv.W("click",this.YT,this);this.e.appendChild(this.a4L.e);this.e.appendChild(this.cv.e);
this.mr=null;this.pb=null;this.S$=null;this.OQ=null;this.afl=-1;this.a6u=null;this.ba=null;this.gZ=new bb(0,!0,!0);
this.gZ.parent=this;this.gZ.W(G.E.o,this.acN,this);this.e.appendChild(this.gZ.e);this.ru=new aD(!0);
this.ru.parent=this;this.ru.W(G.E.o,this.a5_,this);this.fL=I.z("div","marged hiline");this.fL.appendChild(this.ru.e);
this.iO=new d9("GrFl",!0);this.iO.parent=this;this.iO.W(G.E.o,this.a4l,this);this.Xo=I.z("div","marged hiline");
var x="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var F=0;F<x.length;F++){var z=this.iO.B7[x[F]].e;
this.Xo.appendChild(z)}this.B1=new d9("patternFill",!0);this.B1.parent=this;this.B1.W(G.E.o,this.amD,this);
this.CF=I.z("div","marged hiline");var x=["Ptrn","Angl","Scl","Algn","phase"];for(var F=0;F<x.length;
F++){var z=this.B1.B7[x[F]].e;this.CF.appendChild(z)}this.GZ={};for(var A in ei.names){if(T[A]==null)continue;
this.GZ[A]=new T[A];this.GZ[A].W(G.E.o,this.ajI,this);this.GZ[A].parent=this}var o=this.alp=I.z("div","marged hiline");
this.NF=new bb(0,!0);o.appendChild(this.NF.e);this.NF.W(G.E.o,this.ZH,this);this.ag9=null;this.KP=new j6;
this.KP.parent=this;this.KP.W(G.E.o,this.ZH,this);o.appendChild(this.KP.e)};eR.Yr.prototype=new a0;eR.Yr.prototype.acN=function(x){var z=this.gZ.L(),A=this.ba,o=new av(z[0],z[1],z[2],z[3]);
if(o.S0(A))return;this.ba=o;var i=new fZ(G.E.r,!0);if(A.m==o.m&&A.n==o.n){i.k=Q.ah;i.data={d:"trsl",Ay:o.x-A.x,CP:o.y-A.y}}else{i.k=Q.fT;
i.data={d:"scl",_4:[2,4],h:new iL(o.m/A.m,o.n/A.n),NG:0}}this.c(i)};eR.Yr.prototype.a0=function(x,z){var A=this.GZ;
for(var o in A)A[o].a0(x,z)};eR.Yr.prototype.YT=function(x){var z=this.S$,A=z.g[z.f[0]],o=ei.get(A.add);
this.pb.b(h6.d6(o));this.ajI()};eR.Yr.prototype.N=function(){for(var x in this.GZ)this.GZ[x].N();this.iO.N();
this.B1.N();this.KP.N();this.NF.N();this.cv.N();this.gZ.N()};eR.Yr.prototype.ZH=function(x){var z=new fZ(G.E.r,!0),A=this.NF.L(),o=this.ag9;
if(x.target==this.NF&&A[2]==o[2]&&A[3]==o[3]){z.k=Q.ah;z.data={d:"trsl",Ay:A[0]-o[0],CP:A[1]-o[1]}}else{var i=g.J7(new av(A[0],A[1],A[2],A[3])),L=this.KP.apu();
L.artboardRect={t:"Objc",v:i};z.k=Q.xu;z.data={d:g.Jn,IM:L}}this.c(z)};eR.Yr.prototype.a5_=function(x){var z=this.S$,A=z.f[0];
if(z.g[A].add.SoCo==null)return;var o=JSON.parse(JSON.stringify(z.g[A].add.SoCo));o.Clr.v=this.ru.L();
this.Ge({ks:1,Kb:o})};eR.Yr.prototype.a4l=function(x){var z=this.S$,A=z.f[0];if(z.g[A].add.GdFl==null)return;
this.Ge({ks:2,Kb:this.iO.L()})};eR.Yr.prototype.amD=function(x){this.Ge({ks:3,Kb:this.B1.L()})};eR.Yr.prototype.Ge=function(x){this.a7e(Q.xu,{d:g.rZ,P$:[this.S$.f[0]],Dj:!0,h:x})};
eR.Yr.prototype.ajI=function(x){this.a7e(Q.v6,{d:"edit_layer",h:this.pb.L()})};eR.Yr.prototype.a7e=function(x,z){var A=new fZ(G.E.r,!0);
A.k=x;A.data=z;this.c(A)};eR.Yr.prototype.N_=function(x,z){var A=kc.get([0,3]),o=!1,i=!1,L=null;this.S$=x;
if(x&&x.g.length>0&&x.f.length!=0&&x.g[x.f[0]]){var B=x.g[x.f[0]],D=ei.get(B.add);if(D!=null&&this.GZ[D]!=null){L=this.GZ[D].e;
this.pb=this.GZ[D];this.GZ[D].b(JSON.parse(JSON.stringify(B.add[D])));if(x.f[0]!=this.afl){var Z=x.MK(x.f[0]-1);
this.a6u=f.SM(Z)}this.GZ[D].qp(this.a6u);A=kc.get(ei.names[D]);o=!0}if(D==null&&B.add.artb==null){var j=this.ba=f.p.u8(Q.S.mc(x));
i=!j.WT();this.gZ.b([j.x,j.y,j.m,j.n],[x.um,x.m,this.OQ.gw.xI])}if(B.add.SoCo){L=this.fL;this.ru.b(B.add.SoCo.Clr.v);
A=kc.get([6,48,0,0])}if(B.add.GdFl){L=this.Xo;this.iO.update(x,B.add.GdFl);A=kc.get([6,48,0,1])}if(B.add.PtFl){L=this.CF;
this.B1.update(x,B.add.PtFl);A=kc.get([6,48,0,2])}if(B.add.artb){var a=B.add.artb,b=B.nU();L=this.alp;
this.KP.a8B(a);var W=this.ag9=[b.x,b.y,b.m,b.n];this.NF.b(W,[x.um,x.m,this.OQ.gw.xI]);A=kc.get([1,16,0])}this.afl=x.f[0]}if(L!=this.mr){if(this.mr)this.e.removeChild(this.mr);
if(L!=null)this.e.appendChild(L);this.mr=L}this.a4L.b(A);this.cv.e.style.display=o?"":"none";this.gZ.e.style.display=i?"":"none"};
eR.Yr.prototype.wB=function(x,z){this.OQ=x;this.iO.wB(x,z);this.B1.wB(x,z);if(z==cu.MU)this.N_(this.S$,x);
for(var A in this.GZ)this.GZ[A].wB(x,z)};eR.Kc=function(){a0.call(this);this.e=I.z("div","form");this.S$=null;
this.cb=0;var x=I.z("span","fitem");this.e.appendChild(x);this.HO=[new eI([6,2]),new eI([6,3]),new eI([6,50])];
for(var F=0;F<this.HO.length;F++){var z=this.HO[F];z.W("click",this.abQ,this);x.appendChild(z.e)}this.J6=new f$([12,74],0,255);
this.J6.W(G.E.o,this.yj,this);this.e.appendChild(this.J6.e);this.FO=new f$([7,6],0,500,"px",2,!0);this.FO.W(G.E.o,this.yj,this);
this.e.appendChild(this.FO.e);this.ms=new eI([4,11],null,null,!0);this.ms.W("click",this.anQ,this)};
eR.Kc.prototype=new a0;eR.Kc.prototype.anQ=function(){var x=new fZ(G.E.r,!0);x.k=Q.v6;x.data={d:"start",Mo:"nvrt"};
this.c(x)};eR.Kc.prototype.yj=function(x){var z=this.J6.L(),A=this.FO.L(),o=new fZ(G.E.r,!0);o.k=Q.xu;
o.data={d:g.FT,Tt:this.S$.f[0],Wp:{I5:this.cb,J6:z,FO:A}};this.c(o)};eR.Kc.prototype.N=function(){for(var F=0;
F<this.HO.length;F++)this.HO[F].N();this.J6.N();this.FO.N();this.ms.N()};eR.Kc.prototype.N_=function(x){this.S$=x;
this.rw()};eR.Kc.prototype.abQ=function(x){this.rw(this.HO.indexOf(x.currentTarget));this.parent.a8g(this.cb)};
eR.Kc.prototype.rw=function(x){var z=this.S$,A=this.HO;for(var F=0;F<3;F++){var o=A[F];o.bG();o.vb()}if(z==null||z.g.length==0||z.f.length==0||z.g[z.f[0]]==null)return;
var i=-1,L=z.g[z.f[0]];if(L.Mi()&&L.zg(z).B!=null){A[2].LV();i=2}if(L.add.vmsk){A[1].LV();i=1}if(L.dP()){A[0].LV();
i=0}if(x!=null)i=x;else if(L.Ro)i=1;else if(L.ZD==3)i=2;else if(L.ZD==1)i=0;this.cb=i;if(i==-1){this.J6.vb();
this.FO.vb();return}var B=L.d4(i);this.J6.LV();this.FO.LV();this.J6.b(B.J6);this.FO.b(B.FO);A[i].wR();
var D=this.ms.e;if(i==0)this.e.appendChild(D);else if(D.parentNode==this.e)this.e.removeChild(D)};eR.j3=function(){a0.call(this);
this.e=I.z("div","form");this.G_=null;this.OQ=null;this.uZ=-1;this.gZ=new bb(0,!1);this.R4=new f$([12,15],-180,180,"\xB0",2);
this.Q_=new bb(1,!0);this.lF=new f$([12,94,0],0,100,null,2);this.jE=new f$([12,78],3,30);this.gZ.W(G.E.o,this.as,this);
this.R4.W(G.E.o,this.as,this);this.Q_.W(G.E.o,this.as,this);this.lF.W(G.E.o,this.as,this);this.jE.W(G.E.o,this.as,this)};
eR.j3.prototype=new a0;eR.j3.prototype.N=function(){this.gZ.N();this.R4.N();this.Q_.N();this.lF.N();
this.jE.N()};eR.j3.prototype.as=function(x){var z=this.G_,A=f.i4.p0(z),o=x.target.L(),i=[this.gZ,this.R4,this.Q_,this.lF,this.jE].indexOf(x.target);
if(i==0){var L=[];L[0]=o[0];L[1]=o[1];L[2]=L[0]+o[2];L[3]=L[1]+o[3];o=L}if(i==1)o=o*Math.PI/180;var B={0:1,1:2,2:3,3:3,4:4}[i];
A[B]=o;var D=new fZ(G.E.r,!0);D.k=Q.xu;D.data={d:g.Z6,h:A};this.c(D)};eR.j3.prototype.N_=function(x){var z=this.e;
this.G_=x;if(x==null)return;var A=this.OQ,o=[x.um,x.m,A.gw.xI],i=f.i4.p0(x),L=i[0],B=i[1];if(B==null)return;
var D=L!=this.uZ;this.uZ=L;if(D)I.Uv(z);if(D)z.appendChild(this.gZ.e);if(D)z.appendChild(this.R4.e);
this.gZ.b([B[0],B[1],B[2]-B[0],B[3]-B[1]],o);this.R4.b(i[2]*180/Math.PI);if(L==2){if(D)z.appendChild(this.Q_.e);
var Z=i[3];this.Q_.b(Z,o)}if(L==7||L==8){if(D)z.appendChild(this.lF.e);this.lF.b(i[3])}if(L==8){if(D)z.appendChild(this.jE.e);
this.jE.b(i[4])}};eR.j3.prototype.wB=function(x,z){this.OQ=x;this.N_(this.G_)};function bR(x){c4.call(this,x.name,!0);
this.m5=x;this.DL=null;this.iN=document.createElement("canvas");this.t_=this.iN.getContext("2d");this.jM=document.createElement("canvas");
this.VK=this.jM.getContext("2d");var z=16,A=f.C(16*16*4);f.ar(A,z,z,8);this.$E=f.scale.su(A,z,z);this.HK=new j7(this.Fc);
this.HK.parent=this;this.Wl=0;this.a1g="";this.Np=4}bR.prototype=new c4;bR.prototype.aqy=function(){if(this.m5.Ws())return window.confirm(kc.get([22,6,3])+" "+this.m5.name+". "+kc.get([22,6,4]));
return!0};bR.prototype.wB=function(x,z){this.DL=x};bR.prototype.N_=function(x){this.yQ();this.Ta()};
bR.prototype.a0=function(x,z){if(x<=0||z<=0)return;this.GM=x;this.zp=z;var A=this.m5,o=I.Z();A.t.VK.m=Math.floor(x*o);
A.t.VK.n=Math.floor(z*o);I.IX(this.jM,x,z);I.IX(this.iN,x,z);I.IX(O.zG(),x,z);if(A.t.X==0)A.t.X=Q.jO.agS(A.m,A.n,x*o,z*o);
this.Ta()};bR.prototype.yQ=function(){var x=this.Fc.firstChild;if(!O.Id&&x==O.zG()||O.Id&&x==this.jM)this.Fc.removeChild(x);
var z=O.Id?O.zG():this.jM;if(!I.gX(z))this.Fc.appendChild(z)};bR.prototype.Ta=function(){if(O.Id!=this.Np){this.Wl=0;
this.a1g=""}this.Np=O.Id;if(this.DL==null)return;if(O.Id)this.ab4();else this.r$();var x=this.m5;this.Wl=x.t.X;
this.a1g=JSON.stringify(x.t.u1)};bR.prototype.ab4=function(){if(O.Id&&bR.Kn==null){var x=bR.Kn=[],z=[0,2,8,32,128];
for(var F=0;F<5;F++)x[F]=[new bR.SC(!1,z[F]),new bR.SC(!0,z[F])]}var A=this.m5,b,Y=0,l,M;if(A.mP==null)return;
var o=A.t,i=o.VK.m,L=o.VK.n,B=O.E4;this.VK.clearRect(0,0,i,L);var D=this.af7(A);if(o.XK==null)o.XK=new O.mz(i,L);
if(D)o.XK.set(this.jM);else{O.WW(o.XK);O.hJ(1)}var Z=o.ay(0,0),j=new cb;j.scale(i,L);j.concat(o.$f(!0));
j.scale(1/A.m,1/A.n);var a=[j.xc,j.s,0,j.Pm,j.y9,0,j.ZT,j._s,1];if(bR.a0t==null)bR.a0t=new Float32Array(4*1024);
var W=[0,0,0,0],c=bR.a0t;if(A.add.artd){c.fill(0);W=bR.uY(A);var R=A.m,$=A.n,h=0;for(var F=0;F<A.g.length;
F++){var k=A.g[F],w=k.add.artb;if(w==null||!k.Gi())continue;var V=k.nU();c[Y]=V.x/R;c[Y+1]=V.y/$;c[Y+2]=V.m/R;
c[Y+3]=V.n/$;Y+=4;if(Y==c.length)break}if(Y>2*4)h++;if(Y>8*4)h++;if(Y>32*4)h++;b=bR.Kn[h+1];c=new Float32Array(c.buffer,0,[2,8,32,128][h]*4)}else b=bR.Kn[0];
var q=A.a3z();if(q==null)b=b[0];else{b=b[1];M=q[A.add.fcmy==1?6:4];l=q[2]}O.qi(i,L);O.hJ(0);O.qi(i,L);
b.Mv();b.Sf(o.XK.Gt,A.mP.Gt,new Float32Array(a),new Float32Array([i/8,L/8,Z.x/i,Z.y/L]),A.m,A.n,1/A.t.X,i,L,new Float32Array(W),c,new Float32Array(f.ZJ.dS(f.ZJ.Ax(o.u1))),M,l);
B.drawArrays(B.TRIANGLES,0,6)};bR.uY=function(x){return[0,0,0,0]};bR.aoH=function(x){var z=f.Q.Pw(x.v),A=[z.w/255,z.a/255,z.s/255,1];
for(var F=0;F<4;F++)A[F]=Math.min(1,A[F]);return A};bR.DJ=function(x,z){var A=x[2]*255;if(O.Id)A=z?0:Math.max(1,A);
return"rgba("+x[0]*255+","+x[1]*255+","+A+","+x[3]+")"};bR.vm=function(x){if(O.Id)for(var F=0;F<x.length;
F+=4){if(x[F+2]==0)x[F+2]=3}};bR.prototype.r$=function(){var x=this.m5;if(x.buffer==null)return;var z=x.t,A=z.VK,o=A.m,i=A.n,L=new av(0,0,x.m,x.n);
this.t_.clearRect(0,0,o,i);this.VK.clearRect(0,0,o,i);var B=z.$f(!0),D=B.clone();D.Qs();if(x.add.artd==null){this.VK.save();
var Z=D.nx(new iL(0,0));D.translate(-Z.x,-Z.y);this.VK.translate(Math.round(Z.x),Math.round(Z.y));this.VK.fillStyle=this.$E;
this.Uq(f.p.Mm(L),D,this.VK);this.VK.fill();this.VK.restore()}else{this.VK.fillStyle=bR.DJ(bR.uY(x));
this.VK.fillRect(0,0,o,i);this.VK.save();this.VK.setTransform(D.xc,D.s,D.Pm,D.y9,D.ZT,D._s);var j=x.root.children;
for(var F=0;F<j.length;F++){var a=j[F].j;if(a.add.artb==null||!a.Gi())continue;var b=a.nU(),W=a.WE();
if(W!=0)continue;this.VK.fillStyle=this.$E;this.VK.save();this.VK.scale(1/z.X,1/z.X);this.VK.fillRect(z.X*b.x,z.X*b.y,b.m*z.X,b.n*z.X);
this.VK.restore()}this.VK.restore()}if(z.P4.length!=A.$()){z.P4=f.C(A.$());z.zX=f.C(A.$()*4)}z.zX.fill(0);
f.scale.et(x.buffer,L,B,z.zX,A);var c=x.a3z();if(c)ICC.U.applyLUT(c[x.add.fcmy==1?5:3],c[2],z.zX,z.zX);
if(z.u1[0]+z.u1[1]+z.u1[2]!=3)f.ZJ.n4(z.zX,z.zX,f.ZJ.Ax(z.u1));this.t_.putImageData(new ImageData(new Uint8ClampedArray(z.zX.buffer),A.m,A.n),0,0);
this.VK.drawImage(this.iN,0,0);this.VK.getImageData(0,0,1,1);this.af7(x)};bR.prototype.af7=function(x){var z=x.t,A=z.u1[0]+z.u1[1]+z.u1[2],o=!1,i=[];
for(var F=0;F<x.f.length;F++){var L=x.g[x.f[F]];if(L==null)continue;var B=L.ZD;if(B!=1&&B!=3)continue;
var D=B==1?L.dP():L.zg(x).B;if(D.ft)i.push(D)}for(var F=0;F<x.lX.length;F++)if(x.lX[F].ft)i.push(x.lX[F]);
for(var F=0;F<i.length;F++){var D=i[F];this.amq(D,z,i.length==1&&A==0?2:1,D.color,D.bk);o=!0}var Z=this.DL;
o=this.aaj(x,this.VK,z)||o;if(x.O&&Z.c4&&Z.gw.Y8){this.amq(x.O,z,0,0,null);o=!0}return o};bR.prototype.amq=function(x,z,A,o,i){var L=0,W,c;
if(i)L=Math.round(i.s)<<16|Math.round(i.a)<<8|Math.round(i.w);var B=z.$f(!0),D=z.VK,Z=new av(0,0,z.m5.m,z.m5.n);
if(z.P4.length!=D.$()){z.P4=f.C(D.$());z.zX=f.C(D.$()*4)}z.P4.fill(o);z.zX.fill(0);var j=x.channel,a=x.rect;
f.scale.D(j,a,B,z.P4,D);if(A==0)f.O.av7(z.P4,z.zX,D,D);else f.O.abC(z.P4,z.zX,D,D,A,L);bR.vm(z.zX);var b=new ImageData(new Uint8ClampedArray(z.zX.buffer),D.m,D.n);
this.t_.putImageData(b,0,0);this.VK.save();if(A==0){W=D.clone();W.nw(-1,-1);c=new cb}else{W=new av(0,0,Z.m,Z.n);
c=B.clone();c.Qs()}this.Uq(f.p.Mm(W),c,this.VK);this.VK.clip();this.VK.drawImage(this.iN,0,0);this.VK.restore()};
bR.prototype.aaj=function(x,z,A){var o=x.G.YI!=null||x.G.PK!=null||x.G.ky!=null||x.G.WL.length!=0||x.G.ey.length!=0,i=this.DL,L=i.gw,B=jX.Ic[i.fY],D=Math.round(12*I.Z()),Z=D/x.t.X,j=A.$f(!0);
j.Qs();z.save();z.setTransform(j.xc,j.s,j.Pm,j.y9,j.ZT,j._s);if(x.add.artd){var a=bR.uY(x)[0];a=a<.5?a+.5:a-.5;
a=""+Math.round(a*255).toString(16);while(a.length<2)a="0"+a;z.fillStyle="#"+a+a+a;z.font=Z+"px sans-serif";
for(var F=0;F<x.g.length;F++){var b=x.g[F];if(b.add.artb==null||!b.Gi())continue;var W=b.nU();z.fillText(b.getName(),W.x+2,W.y-Z*.7);
o=!0}}function c(gD){return gD==1||gD==2||gD==4||gD==5}var Y=bR.DJ([.1,.5,1,1]),R=bR.DJ([1,1,1,1]);if(i.c4&&L.Ds){z.fillStyle=z.strokeStyle=Y;
z.lineWidth=1.5/A.X;var $=x.Dd(),k=$[0],w=$[1];for(var V=0;V<w.length;V++){var b=k[w[V]],l=b.add.vmsk,M=l._,q=f.p.zx(M);
this.Uq(q,null,z);z.stroke();o=!0;var t=3*I.Z()/A.X,p=M.length-3;for(var F=0;F<l.qX.length;F++){var E=f.J.I2(M,l.qX[F]);
if(E==null)continue;var _=E.x,S=E.y;z.beginPath();var y=F==0;if(l.j1)y=!y;if(y){z.moveTo(_-t,S-t);z.lineTo(_+t,S+t);
z.moveTo(_-t,S+t);z.lineTo(_+t,S-t);z.stroke()}else{z.arc(_,S,t*1,0,2*Math.PI);z.fill()}o=!0}if(x.f.length!=1)continue;
var v=-1;for(var F=0;F<M.length;F++){if(M[F].type>5)continue;if(M[F].type==0||M[F].type==3){if(M[F].qh!=-1)v++;
continue}if(l.f.indexOf(v)!=-1){var _=M[F].H.x,S=M[F].H.y;z.fillRect(_-t*.8,S-t*.8,2*t*.8,2*t*.8)}if(l.OH.indexOf(F)!=-1){var r=M[F],K=[r.H];
z.beginPath();z.moveTo(r.re.x,r.re.y);z.lineTo(r.H.x,r.H.y);z.lineTo(r.zy.x,r.zy.y);var s=M[F-1],P=M[F+1];
if(s&&c(s.type)&&l.OH.indexOf(F-1)==-1){z.moveTo(s.H.x,s.H.y);z.lineTo(s.zy.x,s.zy.y);K.push(s.zy)}if(P&&c(P.type)&&l.OH.indexOf(F+1)==-1){z.moveTo(P.H.x,P.H.y);
z.lineTo(P.re.x,P.re.y);K.push(P.re)}z.stroke();if(!r.H.S0(r.re))K.push(r.re);if(!r.H.S0(r.zy))K.push(r.zy);
for(var d=0;d<K.length;d++){var E=K[d],_=E.x,S=E.y;if(d==0&&(r.type==2||r.type==5))z.fillRect(_-1.2*t,S-1.2*t,2.4*t,2.4*t);
else{z.beginPath();z.arc(_,S,t*1.2,0,2*Math.PI);z.fill();if(d!=0)z.fillStyle=R;z.beginPath();z.arc(_,S,t*.8,0,2*Math.PI);
z.fill();z.fillStyle=Y}}}o=!0}}}z.lineWidth=1/A.X;if(x.G.HM){z.fillStyle=z.strokeStyle=Y;var P={v:[],F:[]},X=bR.atJ;
if(X==null){X=bR.atJ={v:[1,0],F:["M"]};for(var F=1;F<30;F++){var U=Math.PI*2*F/30;X.v.push(Math.cos(U),Math.sin(U));
X.F.push("L")}X.F.push("Z","M","L","M","L");X.v.push(-.5,0,.5,0,0,-.5,0,.5)}for(var F=0;F<x.G.HM.length;
F++){var s=Q.tJ.a8a(x.G.HM[F],A),n=new cb(s[0],0,0,s[0],s[1],s[2]);f.p.concat(P,X,n)}this.Uq(P,null,z);
z.stroke();o=!0}z.fillStyle=z.strokeStyle=bR.DJ([0,0,0,1],!0);var e=new cb(1,0,0,1,.5/A.X,.5/A.X);if(x.G.YI){this.Uq(x.G.YI,null,z);
z.fill()}if(x.G.PK){this.Uq(x.G.PK,e,z);z.stroke()}for(var J in x.G.$M)if(x.G.$M[J].PK){this.Uq(x.G.$M[J].PK,null,z);
z.stroke();o=!0}z.beginPath();var t=(4*I.Z()+.5)/A.X,C=x.G.XF;for(var F=0;F<C.length;F+=2){o=!0;var _=C[F],S=C[F+1];
z.rect(_-t,S-t,2*t,2*t)}z.stroke();var C=x.G.a13;z.beginPath();var t=4*I.Z()/A.X;for(var F=0;F<C.length;
F+=2){o=!0;var _=C[F],S=C[F+1];z.moveTo(_+t,S);z.arc(_,S,t,0,2*Math.PI)}z.fill();var C=x.G.L2;z.fillStyle=bR.DJ([1,1,1,1]);
z.beginPath();var t=6*I.Z()/A.X;for(var F=0;F<C.length;F+=2){o=!0;var _=C[F],S=C[F+1];z.moveTo(_+t,S);
z.arc(_,S,t,0,2*Math.PI)}z.fill();var t=4*I.Z()/A.X;for(var F=0;F<C.length;F+=2){o=!0;var _=C[F],S=C[F+1];
z.fillStyle=bR.DJ(x.G.Zt.indexOf(F>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);z.beginPath();z.moveTo(_+t,S);z.arc(_,S,t,0,2*Math.PI);
z.fill()}if(x.G.WL.length!=0){for(var F=0;F<x.G.WL.length;F++){var H=x.G.WL[F],u=H[1];z.putImageData(new ImageData(new Uint8ClampedArray(H[0].buffer),u.m,u.n),u.x,u.y)}}var bc=.5/A.X;
z.lineWidth=1/A.X;if(x.G.RE){o=!0;var jK=x.G.RE,N=jK.EI,q={F:[],v:[]};for(var F=0;F<jK.b5.length;F++)f.p.concat(q,f.p.Mm(jK.b5[F]));
q.v=q.v.concat(N);for(var F=0;F<N.length;F+=4){q.F.push("M","L")}for(var F=0;F<q.v.length;F++){q.v[F]+=bc}z.strokeStyle=bR.DJ([.9,.2,.2,1]);
this.Uq(q,null,z);z.stroke();var he=I.Z(),gJ=2/A.X;z.font=Z*.9+"px sans-serif";for(var F=0;F<N.length;
F+=4){var _=N[F],S=N[F+1],kg=N[F+2],cJ=N[F+3],it=Math.sqrt((cJ-S)*(cJ-S)+(kg-_)*(kg-_));it=f.Fi.v1(it,x.um,i,S==cJ?x.m:x.n);
var by=new iL((_+kg)/2,(S+cJ)/2);z.fillStyle=bR.DJ([.9,.2,.2,1]);var cz=z.measureText(it).width;z.fillRect(by.x-cz/2-gJ*he,by.y-3.5*gJ*he,cz+2*gJ*he,7*gJ*he);
z.fillStyle=bR.DJ([1,1,1,1]);z.save();z.translate(by.x-cz/2,by.y+2*gJ*he);z.scale(.1,.1);z.font=Z*9+"px sans-serif";
z.fillText(it,0,0);z.restore()}}if(i.c4){if(L.TQ){var fG=f.Fi.Br(L.tq,x.um,x.m,L.Pv),ju=fG;if(L.Pv==4)ju*=x.n/x.m;
this.ar(x,z,fG,ju,1,L.r8);o=!0}if(L.gp&&x.t.X>7){this.ar(x,z,1,1,.5,L.r8);o=!0}if(L.sf){var gW=x.OG(),iI=x.oT(),ht=Math.max(x.t.VK.m,x.t.VK.n)/x.t.X;
ht=Math.max(Math.max(x.m,x.n)*2,ht);z.beginPath();z.strokeStyle=bR.DJ([0,1,1,1]);for(var F=0;F<gW[0].length;
F++){var et=gW[0][F],be=gW[1][F];if(be!=-1&&be!=iI)continue;var c9=A.ay(et[1],et[1]),aJ=A.Sd(Math.floor(c9.x)+.5,Math.floor(c9.y)+.5);
if(et[0]==0){var b6=aJ.x;z.moveTo(b6,-ht);z.lineTo(b6,ht)}else{var ef=aJ.x;z.moveTo(-ht,ef);z.lineTo(ht,ef)}o=!0}z.stroke()}var jV=x.TY;
if(L.TY&&jV.length!=0){z.font=Z*.8+"px sans-serif";var hu=[],eG=[];for(var F=0;F<jV.length;F++){var k8=Q.wV.vG(jV,F);
hu.push(k8);if(x.D4.indexOf(F)!=-1)eG.push(k8)}hu.reverse();var eE=Date.now();hu=f.rect.P1([0,0,x.m,x.n],hu);
for(var d=0;d<2;d++)for(var F=0;F<hu.length;F++){var jD=hu[F],v=jD[4],a_=v!=null?jV[v]:null;if(a_&&d==0||a_==null&&d==1)continue;
var _=Math.round(jD[0]),S=Math.round(jD[1]),kg=Math.round(jD[2]),cJ=Math.round(jD[3]);z.strokeStyle=z.fillStyle=bR.DJ(a_?[0,.7,.7,1]:[.8,.8,.8,1]);
z.strokeRect(_+bc,S+bc,kg-_,cJ-S);var cH=F+1,ic=z.measureText(cH),cz=ic.width;z.fillRect(_,S,cz+Z/2,Z);
z.fillStyle=bR.DJ([1,1,1,1]);z.fillText(cH,_+Z/4,S+Z*.8)}var gJ=2/x.t.X,aj=2*gJ;for(var F=0;F<eG.length;
F++){var jD=eG[F],_=Math.round(jD[0]),S=Math.round(jD[1]),kg=Math.round(jD[2]),cJ=Math.round(jD[3]);
z.strokeStyle=z.fillStyle=bR.DJ([1,.6,0,1]);z.strokeRect(_+bc,S+bc,kg-_,cJ-S);var ay=[_,S,kg,S,kg,cJ,_,cJ];
for(var dS=0;dS<ay.length;dS+=2){var b6=ay[dS],ef=ay[dS+1],hC=ay[dS+2&7],eq=ay[dS+3&7];z.fillRect(b6-gJ,ef-gJ,aj,aj);
z.fillRect(Math.round((b6+hC)/2)-gJ,Math.round((ef+eq)/2)-gJ,aj,aj)}}o=!0}var ck=x.add.Anno;if(ck&&ck.length!=0)for(var F=0;
F<ck.length;F++){var eL=ck[F],gj=eL[2],b6=eL[0]-bc,ef=eL[1]-bc,aj=30/A.tK,bv=.4*aj,dK=.6*aj;z.beginPath();
z.moveTo(b6,ef+dK);z.lineTo(b6,ef);z.lineTo(b6+aj,ef);z.lineTo(b6+aj,ef+aj);z.lineTo(b6+bv,ef+aj);z.closePath();
z.lineTo(b6+bv,ef+dK);z.lineTo(b6+bv,ef+aj);if(F==x.t.Z1){z.lineWidth*=5;z.strokeStyle=bR.DJ([0,0,0,.5]);
z.stroke();z.lineWidth/=5}z.fillStyle=bR.DJ([gj.w/255,gj.a/255,gj.s/255,1]);z.fill();z.strokeStyle=bR.DJ([0,0,0,1]);
z.stroke()}}z.strokeStyle=bR.DJ([1,0,0,1]);if(x.G.ky){this.Uq(x.G.ky,e,z);z.stroke()}z.restore();if(i.TS){if(x.t.Nn==null||x.t.Nn.width!=x.t.VK.m||x.t.Lv.height!=x.t.VK.n){x.t.Nn=z.createImageData(x.t.VK.m,f.Fi.Xh);
x.t.Lv=z.createImageData(f.Fi.Xh,x.t.VK.n)}var B=jX.Ic[i.fY],cC=0,iv=0,dJ=x.m,km=x.n;if(x.oT()!=-1){var W=x.g[x.oT()].nU();
cC=W.x;iv=W.y;dJ=W.m;km=W.n}cC*=A.X;iv*=A.X;var A=x.t,aM=[1,x.um,x.um/2.54,x.um/25.4,dJ/100][L.xI],fq=A.X*x.m/2,dV=A.X*x.n/2,im=[A.X*aM,new iL(A.u.x+(cC+fq*aM-fq),A.u.y+(iv+dV*aM-dV))];
if(L.xI==4)aM*=km/dJ;var hj=[A.X*aM,new iL(A.u.x+(cC+fq*aM-fq),A.u.y+(iv+dV*aM-dV))],d8=this.HK.Ty;f.Fi.aa7(A,B["--text-color"],B["--bg-input"],Math.floor(d8.x),Math.floor(d8.y),im,hj);
var cI=fu.a7i(A.X,bR.DJ([1,1,1,1]));bR.vm(x.t.Lv.data);bR.vm(x.t.Nn.data);z.putImageData(x.t.Lv,0,0);
z.putImageData(x.t.Nn,0,0);z.putImageData(cI,0,x.t.VK.n-cI.height)}if(x.G.ey.length!=0){for(var F=0;
F<x.G.ey.length;F++){var H=x.G.ey[F],u=H[1];z.putImageData(new ImageData(new Uint8ClampedArray(H[0].buffer),u.m,u.n),u.x,u.y)}}return o||i.TS};
bR.prototype.ar=function(x,z,A,o,i,L){while(A*x.t.X<4){A*=2;o*=2}var B=x.m,D=x.n,Z=.5/x.t.X;z.strokeStyle=bR.DJ([.5,.5,.5,i],!0);
z.save();z.rect(0,0,B,D);z.clip();z.beginPath();for(var j=0;j<=B;j+=A){z.moveTo(j+Z,0);z.lineTo(j+Z,D)}if(L==0){for(var a=0;
a<=D;a+=o){z.moveTo(0,a+Z);z.lineTo(B,a+Z)}}else{o*=Math.sqrt(4/3);var b=o*Math.floor(B/o),W=B*(o/(2*A));
for(var a=-b;a<=D+b;a+=o){z.moveTo(0,a);z.lineTo(B,a-W);z.moveTo(0,a);z.lineTo(B,a+W)}}z.stroke();z.restore()};
bR.prototype.Uq=function(x,z,A){A.beginPath();var o=f.p.clone(x);if(z)f.p.D(o.v,z,o.v);Typr.U.pathToContext({cmds:o.F,crds:o.v},A)};
bR.SC=function(x,z){O.Hs.call(this);var A=z!=0,o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(x?"uniform sampler2D lut;  uniform float N;  "+O.ef.Sv:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(A?"uniform vec4 bgClr;  uniform vec4 ars["+z+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+O.ef.$O+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); \t\t\t\t"+(x?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(A?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+z+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",i="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.m7(o,i)};bR.SC.prototype=new O.Hs;bR.SC.prototype.Sf=function(x,z,A,o,i,L,B,D,Z,j,a,b,W,c){this.cw("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var Y=O.E4,R=this.yt;Y.uniformMatrix3fv(R.tmat,!1,A);Y.uniform4fv(R.gsize,o);Y.uniform3f(R.contSizeZoom,i,L,B);
Y.uniform2f(R.cnvSize,D,Z);Y.uniformMatrix4fv(R.ctrn,!1,b);if(this.aeU){Y.uniform4fv(R.ars,a);Y.uniform4fv(R.bgClr,j)}Y.uniform1i(R.source,0);
Y.uniform1i(R.target,1);Y.activeTexture(Y.TEXTURE0);Y.bindTexture(Y.TEXTURE_2D,x);Y.activeTexture(Y.TEXTURE1);
Y.bindTexture(Y.TEXTURE_2D,z);if(W){Y.uniform1f(R.N,c);Y.uniform1i(R.lut,2);Y.activeTexture(Y.TEXTURE2);
Y.bindTexture(Y.TEXTURE_2D,W.Gt);var $=Y.LINEAR;Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,$);
Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,$)}Y.activeTexture(Y.TEXTURE0)};function hv(){c4.call(this,[9,7],!1,"---panels/layercomps",c4.SU.ab7);
this.Fc.setAttribute("style","min-width:240px;");this.S$=null;this.L4=-1;this.a1v=[];this.Uy=I.z("div","scrollable");
this.Uy.style.height="160px";this.Fc.appendChild(this.Uy);this.CA=I.z("div","lpfoot");this.Fc.appendChild(this.CA);
this.k1=[];var x=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],z=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var F=0;F<x.length;F++){var A=x[F];if(F>0)A="<img src=\""+PIMG[x[F]]+"\" class=\"miniscale gsicon\" />";
var o=new eI(A,!1,z[F]);o.W("click",this.aaz,this);this.CA.appendChild(o.e);this.k1.push(o)}}hv.prototype=new c4("");
hv.prototype.a0=function(x,z){this.Fc.setAttribute("style","width:"+(x-2)+"px;");this.Uy.style.height=z-28+"px"};
hv.prototype.cO=function(x){var z=new fZ(G.E.r,!0);z.data=x;z.k=Q.CQ;this.c(z)};hv.aa8="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
hv.prototype.aaz=function(x){var F=this.k1.indexOf(x.currentTarget)-1;if(F==-1){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.ep,ZC:hv.aa8};this.c(z);return}if(F!=1)if(this.L4==-1)return;this.cO({d:["updLC","addLC","delLC"][F],dD:this.L4});
if(F==2)this.L4=-1};hv.prototype.N=function(){c4.prototype.N.call(this);for(var F=0;F<this.k1.length;
F++)this.k1[F].N()};hv.prototype.N_=function(x){if(x==null)I.ho(this.Fc,"disabled");else I.wi(this.Fc,"disabled");
this.S$=x;I.Uv(this.Uy);if(x==null)return;var z=x.$C.lastAppliedComp?x.$C.lastAppliedComp.v:0,A=x.$C.list.v.slice(0);
A.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var F=0;F<A.length;
F++){var o=A[F].v,i=new fL(o.Nm.v,o.compID.v,o.capturedInfo.v,z,this.L4);i.W("activate",this.so,this);
i.parent=this;this.Uy.appendChild(i.e);this.a1v.push(i)}};hv.prototype.so=function(x){this.L4=x.currentTarget.dD;
this.N_(this.S$)};function fL(x,F,z,A,o){a0.call(this);this.dD=F;this.e=I.z("div","head listitem"+(F==o?" selected":""));
var i=F==A,L=new eI(i?"\u2713":"\u2014");if(i)L.wR();this.e.appendChild(L.e);L.W("click",this.Rb,this);
var B=this.jq=I.z("span");B.textContent=x;this.e.appendChild(B);this.k1=[];if(F!=0){this.e.addEventListener("mouseup",this.so.bind(this),!1);
this.abF=I.z("span","headR");this.e.appendChild(this.abF);var D=["lrs/eye","pos","lrs/fx"],Z=["Visibility","Position","Appearance"];
for(var j=0;j<D.length;j++){var a=new eI("<img src=\""+PIMG[D[j]]+"\" class=\"autoscale gsicon\" />",!1,Z[j]);
if((z>>j&1)==0)a.e.setAttribute("style","opacity:0.3");a.W("click",this.arC,this);this.abF.appendChild(a.e);
this.k1.push(a)}}}fL.prototype=new a0;fL.prototype.so=function(x){if(x.target!=this.jq&&x.target!=this.e)return;
if(x.detail==1)this.c(new fZ("activate",!1));else{var z=new c4.z_(this.jq,this.M0.bind(this))}};fL.prototype.arC=function(x){var F=this.k1.indexOf(x.currentTarget);
this.cO({d:"editLC",auh:F,dD:this.dD})};fL.prototype.M0=function(x){this.cO({d:"editLC",iB:x,dD:this.dD})};
fL.prototype.Rb=function(x){this.cO({d:"setLC",dD:this.dD})};fL.prototype.cO=function(x){var z=new fZ(G.E.r,!0);
z.data=x;z.k=Q.CQ;this.c(z)};function aa(){c4.call(this,[9,11],!1,"---panels/navigator",c4.SU.agK);var x=I.z("div","padded");
x.setAttribute("style","min-width:15em");this.Fc.appendChild(x);var z=I.z("div");x.appendChild(z);z.setAttribute("style","cursor:grab;");
this.I=I.z("canvas");this.I.width=100;z.appendChild(this.I);I.MX(this.I);I.Zs(this.I,this.oa.bind(this));
this.GT=new kl(null,2,6400,"%",null,!0);this.GT.W(G.E.o,this.awE,this);x.appendChild(this.GT.e);this.ame=this.yR.bind(this);
this.a0J=this.f9.bind(this);this.G_=null}aa.prototype=new c4("");aa.prototype.a0=function(x,z){this.Ta()};
aa.prototype.awE=function(x){var z=this.GT.L(),A=this.G_,o=z/100;if(.8<o&&o<1.2)o=1;else if(1.8<o)o=Math.round(o);
var i=new fZ(G.E.r,!0);i.k=Q.WQ;i.data={d:"zoom",X:o};this.c(i)};aa.prototype.oa=function(x){if(this.G_==null)return;
I.Ss(window,this.ame);I.ek(window,this.a0J)};aa.prototype.yR=function(x){var z=I.Ki(x,this.I),A=this.G_,o=this.I.width,i=this.I.height,L=(z.x*I.Z()-o/2)/o,B=(z.y*I.Z()-i/2)/i,D=I.Z()*A.t.X,Z=Math.round(-A.t.X*A.m*L),j=Math.round(-A.t.X*A.n*B);
Q.TC.ix(A,Z,j)};aa.prototype.f9=function(x){I.va(window,this.ame);I.K9(window,this.a0J)};aa.prototype.N_=function(x){if(x==null&&this.G_!=null)this.I.width=100;
this.G_=x;this.Ta()};aa.prototype.Ta=function(){var x=this.G_,o=0;if(x==null||x.t.X==0)return;var z=x.t;
if(!I.gX(this.Fc))return;this.GT.b(z.X*100);var A=300*I.Z(),i=[x.MK(),new av(0,0,x.m,x.n)];f.mL(i);while(Math.max(i[o+1].m,i[o+1].n)>A){o+=2}var L=i[o],B=i[o+1],D=B.m,Z=B.n,j=this.I;
j.width=D;j.height=Z;I.FX(j,D,Z);var a=j.getContext("2d"),b=a.createImageData(D,Z);f.Yy(L,b.data);a.putImageData(b,0,0);
var W=z.VK,c=z.Sd(W.x,W.y),Y=z.Sd(W.x+W.m,W.y+W.n),R=D/x.m;a.scale(R,R);a.lineWidth=4/R;a.strokeStyle="#ff0000";
a.strokeRect(c.x,c.y,Y.x-c.x,Y.y-c.y)};aa.prototype.wB=function(x,z){};aa.prototype.yQ=function(){this.Ta()};
function cY(x,z){if(x==null){c4.call(this);return}c4.call(this,x.name,!1,x.icon,z);var A=this.qE=I.z("iframe");
A.setAttribute("src",x.url);A.setAttribute("style","width:"+x.width+"px; height:"+x.height+"px");this.Fc.appendChild(A)}cY.prototype=new c4("");
cY.prototype.A9=function(x){if(I.gX(this.qE))this.qE.contentWindow.postMessage(x,"*")};cY.prototype.a0=function(x,z){this.qE.setAttribute("style","width:"+x+"px; height:"+z+"px")};
function jY(){c4.call(this,[9,12],!1,"---panels/tpreset",c4.SU.E1);this.OQ=null;this.v7=new k9(Q.s7);
this.v7.parent=this;var x=I.z("div","padded");x.setAttribute("style","width:20em");this.Fc.appendChild(x);
x.appendChild(this.v7.v3)}jY.prototype=new c4("");jY.prototype.yQ=function(){this.v7.VT(this.OQ.hE)};
jY.prototype.wB=function(x,z){this.OQ=x;if(z==cu._j||z==cu.E1)this.v7.VT(x.hE)};jY.prototype.a0=function(x,z){this.v7.atE(this.OQ.YC)};
jY.prototype.N=function(){c4.prototype.N.call(this);this.v7.N()};var fw=function(){var x=[],z=null,A=null,o=null,i=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function L(){c4.call(this,"Memory",!1,null,c4.SU.abz);var W=I.z("div","padded");this.Fc.appendChild(W);
A=new eI(["<< VAR0",[0,13,2]],!1,null,!0);A.addEventListener("click",function(c){x.pop();D()});W.appendChild(A.e);
z=I.z("div","scrollable");z.setAttribute("style","width:20em;  height:26em; margin-top:8px;");W.appendChild(z)}L.prototype=new c4("");
L.prototype.N_=function(W,c,Y){o=c;this.yQ()};L.prototype.yQ=function(){A.dU(!1);if(!I.gX(z))return;
var W={ts:"Total:",us:[]};for(var F=0;F<o.length;F++)W.us.push(j(o[F]));b(W);x=[W];D()};L.prototype.N=function(){c4.prototype.N.call(this);
A.N()};function B(W){var c=W.currentTarget,F=0;while((c=c.previousSibling)!=null)F++;x.push(x[x.length-1].us[F-1]);
D()}function D(){A.dU(x.length>1);var W=x[x.length-1];I.Uv(z);Z(W,z,0);W.us.sort(function(c,Y){return Y.dR[0]-c.dR[0]});
for(var F=0;F<W.us.length;F++)Z(W.us[F],z,1)}function Z(W,c,Y){var R=aV.l1,$=Y!=0&&W.us,k="margin-left:"+Y*10+"px; margin-bottom:8px; padding:3px 5px;";
if($)k+="cursor:pointer;";if(W.VW!=null)k+="background-color:rgba("+i[W.VW].join(",")+",0.2);";var w=I.z("div");
c.appendChild(w);w.setAttribute("style",k);w.innerHTML=I.xx(W.ts)+"<br />"+"RAM: <b>"+R(W.dR[0])+"</b>\u2001GPU: <b>"+R(W.dR[1])+"</b>";
if($)w.addEventListener("click",B,!1)}function j(W){var c={ts:W.name,us:[],VW:0},Y=O.Id?1:0,R=1-Y,$={ts:"Final Image",dR:[W.m*W.n*4,Y*W.m*W.n*4],VW:2};
c.us.push($);for(var F=0;F<W.g.length;F++){var k=a(W.g[F]);if(k.us.length!=0)c.us.push(k)}var w=W.add.lnk2;
if(w)for(var F=0;F<w.length;F++){var k=w[F],V={ts:k.W7,us:[],VW:4},h=0;V.us.push({ts:"Raw file",dR:[k.raw.length,0]});
if(k.da)for(var l=0;l<k.da.length;l+=2)h+=k.da[l].length;if(h!=0)V.us.push({ts:"Decoded pixels",dR:[h,0]});
b(V);c.us.push(V)}b(c);return c}function a(W){var c={ts:W.getName(),us:[],VW:1},Y=O.Id?1:0,R=1-Y,$=W.rect.$();
if($!=0)c.us.push({ts:"Layer pixels",dR:[$*4,Y*$*4]});if(W.add.lmfx&&W.AT.Pq.type){var k=W.AT.Pq.type,l=0;
for(var w in k){var V=0;for(var h=0;h<k[w].length;h++)if(w=="ebbl"){if(k[w][h].r7)V+=k[w][h].r7.FG.$();
if(k[w][h].yb)V+=k[w][h].yb.FG.$();if(k[w][h].gT)V+=k[w][h].gT.FG.$();if(k[w][h].QP)V+=k[w][h].QP.FG.$()}else V+=k[w][h].FG.$();
if(V!=0)c.us.push({ts:kc.get(gN.names[gN.order.indexOf(w)]),dR:[R*V*4,Y*V*4],VW:3})}if(W.AT.Yw)l+=$;
if(W.AT.bS)l+=$;if(W.AT.tu)l+=$;if(W.AT.tu)l+=$;if(W.AT.Lq)l+=$;if(W.AT.jZ)l+=$;var M=W.AT.wh?W.AT.wh.length:0;
if(l+M!=0)c.us.push({ts:"Additional Blending Data",dR:[R*l*4+M,Y*l*4]})}var q=W.dP(),t=q?q.rect.$():0;
if(t!=0){c.us.push({ts:"Raster Mask",dR:[t,0]})}var q=W.add.vmsk,t=q&&q.w0?q.w0.rect.$():0;if(t!=0){c.us.push({ts:"Vector Mask",dR:[t,0]})}b(c);
return c}function b(W){W.dR=[0,0];for(var F=0;F<W.us.length;F++){W.dR[0]+=W.us[F].dR[0];W.dR[1]+=W.us[F].dR[1]}}return L}();
function h_(){c4.call(this,[9,14],!1,"---panels/notes",c4.SU.a7I);this.Fc.setAttribute("style","min-width:240px;");
var x=I.z("div","padded");this.Fc.appendChild(x);this.$q=new bQ("Author");x.appendChild(this.$q.e);this.eO=I.z("textarea");
I.aK(this.eO);x.appendChild(this.eO);var z=new eI("<<",null,null,!0);x.appendChild(z.e);this.au9=z;var A=new eI(">>",null,null,!0);
x.appendChild(A.e);z.W("click",this.Vh,this);A.W("click",this.Vh,this);var o=this.a4M=new eX("");x.appendChild(o.e)}h_.prototype=new c4("");
h_.prototype.Vh=function(x){var z=x.target==this.au9?-1:1,A=this.G_,o=A.add.Anno,i=o.length,L=A.t.Z1;
A.t.Z1=(L+z+i)%i;A.Gy=!0;this.Ta()};h_.prototype.Ta=function(){var x=this.G_;if(x==null)return;var z=x.add.Anno;
if(z==null||z.length==0)return;var A=x.t.Z1,o=z[A];this.eO.value=o[4];this.a4M.b(A+1+" / "+z.length);
this.$q.b(o[3])};h_.prototype.a0=function(x,z){if(this.GM==x)return;this.GM=x;z=Math.min(z,200);this.eO.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(z-66)+"px")};
h_.prototype.N_=function(x,z,A){this.G_=x;this.Ta()};function dX(){a0.call(this);this.k=0;this.jI=null;
this.e=I.z("div","toolconf");this.v7=null;this.e4=null;this.body=new I.z("div","body")}dX.prototype=new a0;
dX.prototype.apk=function(x,z){this.k=x;this.jI=z;if(Q.Yc[x]){var A=this.v7=new k9(x);this.e.appendChild(A.e);
A.parent=this}else{this.e4=I.z("div");this.e.appendChild(this.e4)}this.e.appendChild(this.body);this.N()};
dX.prototype.ahR=function(x,z){};dX.prototype.aws=function(x){};dX.prototype.wB=function(x,z){if(z==cu._j||z==cu.E1)if(this.v7)this.v7.VT(x.hE)};
dX.prototype.X8=function(x){};dX.prototype.N=function(){if(this.v7)this.v7.N();else this.e4.innerHTML=I.gF(this.jI,null,"toolicon");
this.X_()};dX.prototype.X_=function(){};function au(){dX.call(this);this.KP=new j6;this.KP.W(G.E.o,this.ZH,this);
this.body.appendChild(this.KP.e)}au.prototype=new dX;au.prototype.X_=function(){this.KP.N()};au.prototype.ZH=function(x){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.At,k:this.k,Hl:this.KP.apu()};this.c(z)};au.prototype.X8=function(x){this.KP.a8B(x.uS)};
function eF(x){dX.call(this);if(x==null)return;this.OQ=null;this.ER={};if(x.indexOf("brush")!=-1&&x.indexOf("prsr")==-1)x.push("prsr");
for(var F=0;F<x.length;F++){var z=x[F],A=null;if(z=="brush"){A=new aH}if(z=="bmode"){A=new hN([12,19,0],b_.m0,!1,b_.h3)}if(z=="bmode0"){A=new hN([12,19,0],b_.m0.slice(23),!1)}if(z=="emode"){A=new hN([12,36],[[9,3],[10,38]])}if(z=="opacity"){A=new eN([12,0],0,100,"%");
A.b(100)}if(z=="flow"){A=new eN([12,63],0,100,"%");A.b(100)}if(z=="smth"){A=new eN([19,3,0],0,100,"%");
A.b(0)}if(z=="samp"){A=new hN([12,36],[[12,25,4],[12,25,5],[12,46]])}if(z=="wconf"){A=new iQ;A.b([40,!0,!0])}if(z=="sall"){A=new dg([12,25,2])}if(z=="strn"){A=new eN([12,64],1,100,"%");
A.b(50)}if(z=="smode"){A=new hN([12,36],[[19,7,0],[19,7,1]]);A.b(1)}if(z=="pdetail"){A=new dg([12,65]);
A.wR()}if(z=="rng"){A=new hN([12,12],[[19,6,0],[19,6,1],[19,6,2]]);A.b(1)}if(z=="expo"){A=new eN([12,5],0,100,"%");
A.b(50)}if(z=="algnd"){A=new dg([12,75]);A.b(!1)}if(z=="sfrom"){A=new hN([12,70],[[17,1],[17,3],[17,0]])}if(z=="alt"){A=new i4(null,["Alt"],!0,["Select Source"])}if(z=="qsmode"){A=new i6([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(z=="redge"){A=new eI([7,11],!1,null,!0)}if(z=="setop"){A=new iP}if(z=="patch"){A=new i6(null,[[12,70],[12,71]])}if(z=="prsr"){A=new i4(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
A.b([!1,!1])}A.parent=this;this.body.appendChild(A.e);this.ER[z]=A;if(z=="brush")A.W(G.E.o,this.apb,this);
else if(z=="redge")A.W("click",this.tw,this);else A.W(G.E.o,this.Vd,this)}}eF.prototype=new dX;eF.prototype.ahR=function(x,z){x=x[1];
var A=this.ER;if(x.Md)A.bmode.b(b_.p3.indexOf(x.Md.v.BlnM));if(x.Opct)A.opacity.b(x.Opct.v);if(x.flow)A.flow.b(x.flow.v);
if(x.Brsh)A.brush.b(x,z.I9.U0,z.I9.xn);if(x.FrgC){var o=f.Q.Pw(x.FrgC.v),i=new fZ(G.E.Y,!0);i.data={d:G.U.nF,Hl:cu.NV,wa:0,h:o.w<<16|o.a<<8|o.s};
this.c(i)}this.apb();this.Vd()};eF.prototype.aws=function(){if(Q.Yc[this.k]==null)return null;var x=this.ER,z=JSON.parse(JSON.stringify(x.brush.L()));
z.classID=Q.Yc[this.k][1][0];if(x.bmode)z.Md={t:"enum",v:{BlnM:b_.p3[x.bmode.L()]}};if(x.opacity)z.Opct={t:"long",v:x.opacity.L()};
if(x.flow)z.flow={t:"long",v:x.flow.L()};var A=this.OQ.VJ;A={w:A>>>16,a:A>>>8&255,s:A&255};z.FrgC={t:"Objc",v:f.Q.Vv(A)};
return["Brush Preset "+z.Brsh.v.Dmtr.v.val,z]};eF.prototype.tw=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.z1,ca:"redge"};
this.c(x)};eF.prototype.X_=function(){for(var x in this.ER)this.ER[x].N()};eF.prototype.X8=function(x){if(x.a7c=="showBrushOpts"){this.ER.brush.a2O(x.rg.x,x.rg.y)}for(var z in x.HN){var A=x.HN[z];
if(z!="qsmode")A*=100;if(this.ER[z])this.ER[z].b(A)}};eF.prototype.wB=function(x,z){dX.prototype.wB.call(this,x,z);
this.OQ=x;var A=this.ER.brush;if(A==null)return;if(z==cu._j||z==cu.s7)A.VT(x.I9);if(z==cu.jn){A.b(x.I9.oJ,x.I9.U0,x.I9.xn)}};
eF.prototype.apb=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.nF,Hl:cu.jn,Zj:this.ER.brush.L()};this.c(x)};
eF.prototype.Vd=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.At,k:this.k};for(var z in this.ER){if(z=="brush"||z=="redge")continue;
var A=this.ER[z].L();if(["opacity","flow","smth","strn","expo"].indexOf(z)!=-1)x.data[z]=A/100;else if(z=="bmode")x.data.bmode=b_.Am[A];
else if(z=="bmode0")x.data.bmode=b_.Am[23+A];else x.data[z]=A}this.c(x)};function e5(x,z){dX.call(this);
if(x)return;this.ER={};for(var F=0;F<z.length;F++){var A=z[F],o=null;if(A=="binop")o=new iP;if(A=="feat"){o=new eN([7,6],0,100,"px");
o.b(0)}if(A=="redge")o=new eI([7,11],!1,null,!0);if(A=="wconf")o=new iQ;if(A=="cstr")o=new fc;if(A=="anta"){o=new dg([12,25,1]);
o.b(!0)}if(A=="sall")o=new dg([12,25,2]);if(A=="redge")o.W("click",this.tw,this);else o.W(G.E.o,this.Vd,this);
o.parent=this;this.body.appendChild(o.e);this.ER[A]=o}}e5.prototype=new dX;e5.prototype.X8=function(x){if(x.fA!=null)this.ER.binop.b(x.fA);
else if(x.vQ){for(var z in x.vQ)if(this.ER[z])this.ER[z].b(x.vQ[z])}else{var A=e5.zT;if(A==null){var o=f9.aj8(!0);
A=e5.zT=new ir(o.items,o.u_)}A.N();A.parent=this;A.update(x.Xg,x.DL);var i=new fZ(G.E.Y,!0);i.data={d:G.U.Sc,oM:A,x:x.Fq.Md+2,y:x.Fq.fZ+1};
this.c(i)}};e5.prototype.X_=function(){for(var x in this.ER)this.ER[x].N()};e5.prototype.tw=function(){var x=new fZ(G.E.Y,!0);
x.data={d:G.U.z1,ca:"redge"};this.c(x)};e5.prototype.Vd=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.At,k:this.k,vQ:{}};
for(var z in this.ER)x.data.vQ[z]=this.ER[z].L();this.c(x)};function bx(){eF.call(this,["brush","strn"])}bx.prototype=new eF;
function j8(){eF.call(this,"brush bmode opacity flow smth prsr".split(" "))}j8.prototype=new eF;function a3(){eF.call(this,["brush","bmode0","samp","wconf"])}a3.prototype=new eF;
function jq(){eF.call(this,["brush"])}jq.prototype=new eF;function bV(){eF.call(this,["brush","bmode","opacity","smth","prsr"])}bV.prototype=new eF;
function ja(){eF.call(this,["brush","rng","expo"])}ja.prototype=new eF;function bL(){eF.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}bL.prototype=new eF;
function gv(x){dX.call(this);if(x==null)return;var z=I.z("span","fitem");this.body.appendChild(z);var A=[[17,0],[17,1],[11,12,0],[17,2]];
this.HO=[];for(var F=0;F<A.length;F++){var o=new eI(A[F],!1,null,!0);this.HO.push(o);o.W("click",this.avI,this);
if(!x||F==1)z.appendChild(o.e)}this.WH=new fc;this.WH.W(G.E.o,this.an4,this);if(!x)this.body.appendChild(this.WH.e);
this.cM=new eI([15,7,6],!1,null,!0);this.cM.W("click",this.avI,this);if(!x)this.body.appendChild(this.cM.e);
this.cW=new dg([15,7,10]);this.cW.W(G.E.o,this.an4,this);if(!x)this.body.appendChild(this.cW.e);this.DW=new gH;
this.DW.W("click",this.am,this)}gv.prototype=new dX;gv.prototype.X_=function(){this.DW.N();for(var F=0;
F<this.HO.length;F++)this.HO[F].N();this.WH.N();this.cW.N();this.cM.N()};gv.prototype.X8=function(x){var z=this.DW.e;
if(x.Nf)this.body.appendChild(z);else if(this.body.contains(z))this.body.removeChild(z);if(x.WH)this.WH.b(x.WH)};
gv.prototype.am=function(x){var z={d:G.U.At,k:this.k,Vn:this.DW.L()?"commit":"cancel"},A=new fZ(G.E.Y,!0);
A.data=z;this.c(A)};gv.prototype.avI=function(x){x.target.e.blur();var z={d:G.U.At,k:this.k,Vn:"cropby",awA:this.HO.indexOf(x.target)};
if(x.target==this.cM)z.Vn="straighten";var A=new fZ(G.E.Y,!0);A.data=z;this.c(A)};gv.prototype.an4=function(x){var z={d:G.U.At,k:this.k,Vn:"config",bp:{xp:this.WH.L(),U8:this.cW.L()},acu:x.target==this.WH},A=new fZ(G.E.Y,!0);
A.data=z;this.c(A)};function er(){gv.call(this,!1)}er.prototype=new gv;function dM(){gv.call(this,!0)}dM.prototype=new gv;
function gq(){eF.call(this,["brush","rng","expo"])}gq.prototype=new eF;function j3(){eF.call(this,"brush emode opacity flow smth prsr".split(" "))}j3.prototype=new eF;
function a6(){eF.call(this,["brush","samp","wconf"])}a6.prototype=new eF;function iS(){e5.call(this,!1,["binop","feat","anta","redge","cstr"])}iS.prototype=new e5(!0);
function fF(){dX.call(this);var x=this.ER=[new hN([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new hN([12,70],[[17,1],[17,3],[17,0]]),new dg([12,20,1]),new dg([8,0])];
x[1].b(2);x[2].b(!0);for(var F=0;F<x.length;F++){var z=x[F];z.W(G.E.o,this.Vd,this);this.body.appendChild(z.e)}}fF.prototype=new dX;
fF.prototype.Vd=function(x){var z=this.ER,A=[];for(var F=0;F<z.length;F++)A[F]=z[F].L();var o=new fZ(G.E.Y,!0);
o.data={d:G.U.At,k:this.k,vQ:A};this.c(o)};fF.prototype.X_=function(){for(var F=0;F<this.ER.length;F++)this.ER[F].N()};
function ai(){dX.call(this);this.Dz=new eD(!1);this.Dz.parent=this;this.Dz.W(G.E.o,this.yj,this);this.body.appendChild(this.Dz.e);
this.Dz.b(JSON.parse(gN.VQ.atd).v);this.Nj=new hN(null,gN.Q.names.slice(0,5));this.Nj.W(G.E.o,this.yj,this);
this.body.appendChild(this.Nj.e);this.YN=new hN([12,19,0],b_.m0,null,b_.h3);this.YN.W(G.E.o,this.yj,this);
this.body.appendChild(this.YN.e);this.Kx=new eN([12,0],0,100,"%");this.Kx.parent=this;this.Kx.W(G.E.o,this.yj,this);
this.body.appendChild(this.Kx.e);this.Kx.b(100);this.yB=new dg([12,23,0]);this.yB.W(G.E.o,this.yj,this);
this.body.appendChild(this.yB.e);this.Gv=new dg([12,23,3]);this.Gv.W(G.E.o,this.yj,this);this.body.appendChild(this.Gv.e)}ai.prototype=new dX;
ai.prototype.X_=function(){this.Nj.N();this.YN.N();this.Kx.N();this.yB.N();this.Gv.N()};ai.prototype.wB=function(x,z){dX.prototype.wB.call(this,x,z);
var A=z==cu.NV;this.Dz.sA(x.VJ,x.GN);if(A||z==cu.HF||z==cu._j)this.Dz.VT(x.Po)};ai.prototype.yj=function(){var x=new fZ(G.E.Y,!0);
x.data={d:G.U.At,k:this.k};x.data.Hl={Q:this.Dz.L(),tz:gN.Q.types[this.Nj.L()],j1:this.yB.uj(),ajC:this.Gv.uj(),a7Y:b_.Am[this.YN.L()],pg:this.Kx.L()/100};
this.c(x)};function dE(){dX.call(this)}dE.prototype=new dX;function iJ(){dX.call(this);var x=I.z("span","fitem");
this.body.appendChild(x);this.WK=[new eN([12,15],-180,180,"\xB0"),new eI([1,12,2],null,null,!0)];for(var F=0;
F<this.WK.length;F++){var z=this.WK[F];z.parent=this;x.appendChild(z.e);z.W(F==1?"click":G.E.o,this.uA,this)}}iJ.prototype=new dX;
iJ.prototype.X_=function(){for(var F=0;F<this.WK.length;F++)this.WK[F].N()};iJ.prototype.X8=function(x){this.WK[0].b(x.TG*180/Math.PI)};
iJ.prototype.uA=function(x){var z=this.WK.indexOf(x.target),A=new fZ(G.E.Y,!0);A.data={d:G.U.At,k:this.k,TG:z==1?0:x.target.L()*Math.PI/180};
this.c(A)};function dd(){eF.call(this,["brush","algnd","sfrom","alt"])}dd.prototype=new eF;function kf(){dX.call(this);
this.E8=new i_;this.E8.parent=this;this.body.appendChild(this.E8.es.e);this.body.appendChild(this.E8.M4.e);
this.body.appendChild(this.E8._H.e);this.body.appendChild(this.E8.oI.e);var x=I.z("span","fitem");this.body.appendChild(x);
x.appendChild(this.E8.te.e);x.appendChild(this.E8.oX.e);x.appendChild(this.E8.hK.e);this.KT=new hN("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.KT.W(G.E.o,this.am,this);this.body.appendChild(this.KT.e);this.lN=new eI([11,9],!1,null,!0);this.lN.W("click",this.au4,this);
this.body.appendChild(this.lN.e);this.DW=new gH;this.DW.W("click",this.am,this)}kf.prototype=new dX;
kf.prototype.X_=function(){this.DW.N();this.E8.N();this.lN.N()};kf.prototype.au4=function(x){var z={d:G.U.At,k:this.k,Vn:"showwarp"},A=new fZ(G.E.Y,!0);
A.data=z;this.c(A)};kf.prototype.X8=function(x){if(x.Vn=="showactive")this.body.appendChild(this.DW.e);
if(x.Vn=="hideactive")this.body.removeChild(this.DW.e);if(x.Vn=="changeAA")this.KT.b(x.NI)};kf.prototype.wB=function(x,z){dX.prototype.wB.call(this,x,z);
if(z!=cu._j&&z!=cu.Qx&&z!=cu.Oc&&z!=cu.bC)return;this.E8.b(x.u5,x.P2,x.L7)};kf.prototype.am=function(x){var z={d:G.U.At,k:this.k,Vn:this.DW.L()?"commit":"cancel"};
if(x.target==this.KT){z.Vn="changeAA";z.NI=this.KT.L()}var A=new fZ(G.E.Y,!0);A.data=z;this.c(A)};function fz(){e5.call(this,!1,["binop","feat","anta","redge"])}fz.prototype=new e5(!0);
function eK(){dX.call(this);var x=[],A="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.CY=new dg([12,85]);this.CY.W(G.E.o,this.Vd,this);x.push(this.CY.e);this.lI=new dg([20,1]);this.lI.W(G.E.o,this.Vd,this);
x.push(this.lI.e);this.g2=new dg([12,83]);this.g2.W(G.E.o,this.Vd,this);x.push(this.g2.e);var z=I.z("span","fitem");
x.push(z);this.acc=new hN("Scale for exported files",["1x","2x","3x","4x"],!0);z.appendChild(this.acc.e);
this.f$=new eI(A+" PNG",!1,"Save selected layers as PNG",!0);z.appendChild(this.f$.e);this.f$.W("click",this._b,this);
this.ajU=new eI(A+" SVG",!1,"Save selected layers as SVG",!0);z.appendChild(this.ajU.e);this.ajU.W("click",this._b,this);
var o=I.z("span","fitem");x.push(o);var i=I.z("span","fitem");x.push(i);this.k1=[];for(var F=0;F<8;F++){var L=F==3||F==7?[20,4,6]:[20,4,F<3?F:F-1],B=new eI("Hi",!1,L);
(F<4?o:i).appendChild(B.e);B.W("click",this._b,this);this.k1.push(B)}for(var F=0;F<x.length;F++)this.body.appendChild(x[F]);
this.afT=x}eK.prototype=new dX;eK.prototype.X8=function(x){var z=x.uS,A=x.a4O;this.CY.b(z.HH);this.lI.b(z.Y5);
this.g2.b(z.RE);if(A){I.Uv(this.body);for(var F=0;F<A.length;F++)if(A[F]==1&&this.afT[F])this.body.appendChild(this.afT[F])}};
eK.prototype._b=function(x){var z=this.k1.indexOf(x.target),A;if(z==-1){A=new fZ(G.E.Y,!0);A.data={d:G.U.At,k:this.k,wa:x.target==this.f$?"getPNG":"getSVG",im:this.acc.L()+1}}else{A=new fZ(G.E.r,!0);
A.k=Q.ah;A.data={d:"algn",h:z}}this.c(A)};eK.prototype.Vd=function(x){var z=new fZ(G.E.Y,!0);z.data={d:G.U.At,k:this.k,wa:"prms",HH:this.CY.uj(),Y5:this.lI.uj(),RE:this.g2.uj()};
this.c(z)};eK.prototype.X_=function(){this.CY.N();this.lI.N();this.g2.N();var x="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var F=0;F<8;F++){this.k1[F].mB(I.gF("align/"+x[F],null,"autoscale"))}};function aZ(){e5.call(this,!1,["binop","feat","redge","wconf","sall"])}aZ.prototype=new e5(!0);
function hx(){eF.call(this,["setop","patch"])}hx.prototype=new eF;function gA(){eF.call(this,["setop"])}gA.prototype=new eF;
function cm(){eF.call(this,["bmode","opacity","wconf","sall"])}cm.prototype=new eF;function ik(){e5.call(this,!1,["binop","feat","anta","redge"])}ik.prototype=new e5(!0);
function cQ(){e5.call(this,!1,["binop","feat","anta","redge"])}cQ.prototype=new e5(!0);function gS(){e5.call(this,!1,["binop","feat","redge","cstr"])}gS.prototype=new e5(!0);
function ec(){dX.call(this);this.OQ=null;this.rB=null;this.FB=[new bQ("X",null,3.2,null,!0),new bQ("Y",null,3.2,null,!0),new bQ("W",null,3.2,null,!0),new bQ("H",null,3.2,null,!0),new bQ([12,15],"\xB0",3.7,null,!0),new bQ(["VAR0 1",[12,80,0]],null,3.5,null,!0),new bQ(["VAR0 2",[12,80,0]],null,3.5,null,!0),new eI([15,7,6],!1,null,!0),new eI([2,2],!1,null,!0)];
for(var F=0;F<this.FB.length;F++){var x=this.FB[F];this.body.appendChild(x.e);if(F>6)x.W("click",this.iq,this)}this.sj=0}ec.prototype=new dX;
ec.prototype.iq=function(x){var z=this.FB.indexOf(x.target)==7,A=new fZ(G.E.r,!0);if(z){if(this.sj==0)return;
A.k=Q.fT;A.data={d:"rot",_4:[2,5],h:-this.sj}}else{A.k=Q.Gl;for(var F=0;F<6;F++)this.FB[F].b(null)}this.c(A)};
ec.prototype.X8=function(x){function z(D,Z,j){var a=Math.sqrt(Math.pow(Z.x-D.x,2)+Math.pow(Z.y-D.y,2)),b=Math.sqrt(Math.pow(Z.x-j.x,2)+Math.pow(Z.y-j.y,2)),W=Math.sqrt(Math.pow(j.x-D.x,2)+Math.pow(j.y-D.y,2));
return Math.acos((b*b+a*a-W*W)/(2*b*a))}if(x==null)return;this.rB=x;var A=x.a7T,o=x.o8,i=o.x-A.x,L=o.y-A.y;
this.sj=-Math.atan2(L,i);if(x.ml)this.sj=z(o,A,x.ml);var B=this.FB;B[0].b(this.a1(x,A.x));B[1].b(this.a1(x,A.y));
B[2].b(this.a1(x,i));B[3].b(this.a1(x,L));B[4].b((this.sj*180/Math.PI).toFixed(2));B[5].b(this.a1(x,iL.Or(A,o)));
if(x.ml){B[6].b(this.a1(x,iL.Or(A,x.ml)))}else B[6].b("")};ec.prototype.a1=function(x,z){var A=f.Fi.v1(z,x.um,this.OQ,x.ac3,!1);
return parseFloat(A).toFixed(2)};ec.prototype.wB=function(x,z){this.OQ=x;this.X8(this.rB)};ec.prototype.X_=function(){var x=this.FB;
for(var F=0;F<x.length;F++)x[F].N();I.c0(x[2],x[3])};function fQ(){eF.call(this,["brush","strn","pdetail"])}fQ.prototype=new eF;
function ih(){eF.call(this,["brush","sfrom"]);this.apR=[];var x=[[7,12]];for(var F=0;F<x.length;F++){var z=new eI(x[F],!1,null,!0);
this.apR.push(z);z.parent=this;this.body.appendChild(z.e);z.W("click",this.a6F,this)}}ih.prototype=new eF;
ih.prototype.a6F=function(x){var z=this.apR.indexOf(x.currentTarget),A=new fZ(G.E.rm,!0);A.data=Q.sg.rJ("contentAware");
this.c(A)};function eC(){eF.call(this,["brush","strn"])}eC.prototype=new eF;function gO(){eF.call(this,["brush","flow","smode"])}gO.prototype=new eF;
function ci(){dX.call(this);this.Qs=!1;var x=I.z("span","fitem");this.body.appendChild(x);this.Zi=new i6(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
x.appendChild(this.Zi.e);this.Zi.W(G.E.o,this.Vd,this);this.jH=new eI([20,2]);this.body.appendChild(this.jH.e);
this.jH.W("click",this.atR,this);this.LT=new eI([20,3]);this.body.appendChild(this.LT.e);this.LT.W("click",this.atR,this)}ci.prototype=new dX;
ci.prototype.X_=function(){this.jH.N();this.LT.N()};ci.prototype.Vd=function(){var x={d:G.U.At,k:this.k,gE:this.Zi.L()==0},z=new fZ(G.E.Y,!0);
z.data=x;this.c(z)};ci.prototype.X8=function(x){if(this.Qs!=x.Qs)this.Zi.b(1-this.Zi.L());this.Qs=x.Qs};
ci.prototype.atR=function(x){var z=new fZ(G.E.r,!0);z.k=Q.WQ;z.data={d:"adapt",h:x.target==this.jH?"pixel":"fitscr"};
this.c(z)};function fj(x,z){dX.call(this);if(x==null)return;this.AQ=x;this.yr={};this.a7R=z;for(var F=0;
F<x.length;F++){var A=x[F],o=null;if(A=="tmode"){o=new hN(null,[[12,76,1],[12,76,0],[12,76,2]]);o.b(0);
if(z)o.aix(2)}if(A=="make"){o=new i6("Make",[[17,2],[12,76,1]],null,!0)}if(A=="anta"){o=new dg([12,25,1]);
o.b(!0)}if(A=="binop"){o=new hN(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(A=="pshape")o=new hN(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(A=="shape")o=new gg([12,76,1]);if(A=="crad"){o=new eN([12,94,0],0,50,"px");o.b(0)}if(A=="cstr"){o=new fc}if(A=="irad"){o=new eN([12,94,1],0,100,"%");
o.b(40)}if(A=="length"){o=new eN([12,80,0],4,40);o.b(4)}if(A=="sides"){o=new eN([12,78],3,30);o.b(5)}if(A=="width"){o=new eN([12,41],1,100,"px");
o.b(5)}if(A=="tolr"){o=new eN([12,24],0,100);o.b(5)}if(A=="fstyle"){o=new b7([12,26])}if(A=="sstyle"){o=new eJ}if(A=="psnap"){o=new dg([8,10])}if(A=="crnr"){o=new eI("\u2312",!1,[12,94,0],!0)}if(A=="aopts"){o=new gr;
o.b([!1,!1,50,60,0])}o.parent=this;this.body.appendChild(o.e);this.yr[A]=o;o.W(A=="crnr"?"click":G.E.o,this.Vd,this)}}fj.prototype=new dX;
fj.prototype.X8=function(x){if(x.fA!=null)this.yr.binop.b(x.fA);else if(x.wa=="vals")for(var z in x.a8E)this.yr[z].b(x.a8E[z]);
else{var A=fj.zT;if(A==null)A=fj.zT=new ir([{name:"Remove Anchor Point",K:function(i){var L=i?i.Dd():null;
return{K:i&&L[1].length!=0&&L[0][L[1][0]].add.vmsk.OH.length!=0}}},{name:"Remove Path",K:function(i){var L=i?i.Dd():null;
return{K:i&&L[1].length!=0&&L[0][L[1][0]].add.vmsk.f.length!=0}},Oh:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{V:G.E.r,k:Q.US,M:{d:"remove",gy:!0}},{V:G.E.r,k:Q.n7,M:{d:"remove"}},{V:G.E.Y,M:{d:G.U.z1,ca:"makesel"}},{V:G.E.rm,M:Q.YG.YM(0)},{V:G.E.rm,M:Q.YG.YM(1)}]);
A.parent=this;A.update(x.Xg,x.DL);var o=new fZ(G.E.Y,!0);o.data={d:G.U.Sc,oM:A,x:x.Fq.Md+2,y:x.Fq.fZ+1};
this.c(o)}};fj.prototype.anV=function(F){return null};fj.prototype.X_=function(){for(var x in this.yr){this.yr[x].N()}};
fj.prototype.Vd=function(x){var z=new fZ(G.E.Y,!0),A=this.yr;if(x.target==A.crnr){z=new fZ(G.E.r,!0);
z.k=Q.US;z.data={d:"crnr"}}else if(x.target==A.make){var F=x.target.L();console.log(F);if(F==0)z.data={d:G.U.z1,ca:"makesel"};
else{z=new fZ(G.E.r,!0);z.k=Q.Ck;z.data={d:"newfill",VW:0}}}else if(x.target==A.fstyle){z.data={d:G.U.nF,Hl:cu.NU,h:A.fstyle.L()}}else if(x.target==A.sstyle){z.data={d:G.U.nF,Hl:cu.kp,h:A.sstyle.L()}}else if(x.target==A.tmode){z.data={d:G.U.nF,Hl:cu.xD,h:A.tmode.L()}}else{if(A.pshape)this.mv();
z.data={d:G.U.At,k:this.k};for(var o in A)z.data[o]=A[o].L()}this.c(z)};fj.prototype.mv=function(){var x=this.yr,z=x.tmode.L(),A=x.pshape?this.anV(x.pshape.L()):this.AQ,o;
if(z==0)o=["anta","make"];if(z==1)o=["anta","fstyle","sstyle"];if(z==2)o=["make","binop","fstyle","sstyle"];
var i=x.binop;if(i){var L=i.L();if(z==0){i.amt(0)}else{i.aix(0);if(L==0){i.b(1);this.Vd({target:i})}}}I.Uv(this.body);
for(var F=0;F<A.length;F++){var B=A[F];if(o.indexOf(B)!=-1)continue;this.body.appendChild(x[B].e)}};
fj.prototype.wB=function(x,z){dX.prototype.wB.call(this,x,z);var A=this.yr.fstyle,o=this.yr.sstyle,i=this.yr.tmode;
if(A)A.wB(x,z);if(o)o.wB(x,z);if(z==cu._j||z==cu.lb)if(x.WZ.length!=0&&this.yr.shape){this.yr.shape.VT(x.WZ)}if(z==cu._j||z==cu.NU)if(A)A.b(null,x.od,x.aqT);
if(z==cu._j||z==cu.kp)if(o)o.b(null,x.YK,x.aph);if(z==cu._j||z==cu.xD){var L=x.ma;if(this.a7R&&L==2)L=0;
if(i){i.b(L);this.mv()}}};function da(){fj.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}da.prototype=new fj;
function eb(){fj.call(this,"tmode make anta fstyle sstyle binop".split(" "))}eb.prototype=new fj;function af(){fj.call(this,["fstyle","sstyle"]);
this.auq=null;this.af2=null;this.akt=null;this.IJ=new hN([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.z3=new eI("\u25BC");this.z3.wR();this.sz=new eI("\u25B2");this.sz.wR();this.qv=[this.IJ,this.z3,this.sz];
for(var F=0;F<this.qv.length;F++){var x=this.qv[F];this.body.appendChild(x.e);x.parent=this;x.W(F==0?G.E.o:"click",this.og,this)}}af.prototype=new fj;
af.prototype.X8=function(x){if(x.Vn=="main"){var z=this.qv,A=x.Ot;if(A){this.af2=A.clone();this.akt=JSON.stringify(x.i4);
var o=A.f.slice(0),i=o.length;for(var F=0;F<o.length;F++)o[F]++;o.sort(function(Z,j){return Z-j});z[0].LV();
z[1].dU(i!=0);z[2].dU(i!=0);z[0].mB(i==0?"No Paths":i==1?"Path "+o[0]:"Paths "+o.slice(0,3).join(",")+(i>3?"..":""));
if(i!=0){var L=A.f[0],B=f.J.MB(A._,L),D=A._[B];this.IJ.b([3,0,1,2][D.qh])}}else for(var F=0;F<z.length;
F++)z[F].vb()}else fj.prototype.X8.call(this,x)};af.prototype.X_=function(){fj.prototype.X_.call(this);
this.IJ.N()};af.prototype.og=function(x){if(x.target==this.IJ||x.target==this.z3||x.target==this.sz){var z={},A=this.af2,o=A._,i=A.f,L=f.J.T1(o),B=JSON.parse(this.akt);
i.sort(function(k,w){return k-w});if(x.target==this.IJ){var D=this.IJ.L();if(D<4)for(var F=0;F<i.length;
F++)o[f.J.MB(o,i[F])].qh=[1,2,3,0][D];else{if(L<=1)return;A._=f.J.xK(o);A.f=A._.length==2?[]:[0];A.OH=[];
B=[f.i4.vJ()]}}else{var Z=x.target==this.z3?-1:1,j=[];for(var F=0;F<L;F++){var a=f.J.MB(o,F),b=a+1+o[a].length;
j.push(o.slice(a,b))}var W=i.slice(0);for(var F=0;F<i.length;F++)W[F]=Math.max(F,Math.min(L-1-(i.length-1-F),W[F]+Z));
if(i.join(",")==W.join(","))return;for(var F=0;F<i.length;F++){var c=Z==-1?F:i.length-1-F,a=i[c],b=W[c];
if(a!=b){var Y=j[a];j[a]=j[b];j[b]=Y}}var R=o.slice(0,2);for(var F=0;F<j.length;F++)R=R.concat(j[F]);
A._=R;A.f=W}z.Ot=A;z.i4=B;var $=new fZ(G.E.Y,!0);$.data={d:G.U.At,k:this.k,s5:z};this.c($)}};function hp(){fj.call(this,["fstyle","sstyle","crnr","psnap"])}hp.prototype=new fj;
function gI(){fj.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}gI.prototype=new fj;
function i5(){fj.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}i5.prototype=new fj;
function hr(){fj.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.yr.aopts.b([!1,!0,50,60,0])}hr.prototype=new fj;hr.prototype.anV=function(F){var x=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(x[F])};function dq(){fj.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}dq.prototype=new fj;
function fX(){fj.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}fX.prototype=new fj;
function iy(){e5.call(this,!1,["binop","feat","redge"])}iy.prototype=new e5(!0);function hg(){eF.call(this,["brush","qsmode","redge"])}hg.prototype=new eF;
function gm(){dX.call(this);var x=this.awi=new eI([8,11,3],null,null,!0);x.W("click",this.og,this);this.body.appendChild(x.e)}gm.prototype=new dX;
gm.prototype.og=function(x){var z=new fZ(G.E.rm,!0);z.data={zR:"make",k7:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(z)};gm.prototype.X_=function(x){this.awi.N()};function dv(){dX.call(this);var x=this.aku=[new eI("\u25BC",null,null,!0),new eI("\u25B2",null,null,!0),new eI([5,4],null,null,!0)];
for(var F=0;F<3;F++){var z=x[F];this.body.appendChild(z.e);z.W("click",this.og,this)}}dv.prototype=new dX;
dv.prototype.og=function(x){var z=this.aku.indexOf(x.target),A=new fZ(G.E.r,!0);A.k=Q.eV;A.data={d:z==2?"delete":"reorder",dir:z==0?-1:1};
this.c(A)};dv.prototype.N=function(){dX.prototype.N.call(this);for(var F=0;F<3;F++)this.aku[F].N()};
function ge(x,z){dX.call(this);if(window.Typr==null||x)return;this.aq4=z;this.h5=null;this.ald=I.z("span","");
this.a7b=I.z("span","");var A=1;this.a$={NG:new aW(null,24),wu:new eN("X",0,0,"px",0,!1,!0,4),NO:new eN("Y",0,0,"px",0,!1,!0,4),sQ:new eN("W",0,0,["%","px"],2,!1,!0,5),k$:new eI("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),SD:new eN("H",0,0,["%","px"],2,!1,!0,5),a6Q:new eN("\u2221",0,0,"\xB0",A,!1,!0),auQ:new eN("\u25B1 H",-85,85,"\xB0",A,!1,!0),ah1:new eN("\u25B1 V",-85,85,"\xB0",A,!1,!0),mo:new hN(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.a$.mo.b(1);this.a$.k$.b(!0);for(var o in this.a$){var i=this.a$[o];if(z&&(i==this.a$.a6Q||i==this.a$.auQ||i==this.a$.ah1||i==this.a$.mo)){}else this.ald.appendChild(i.e);
var L=i==this.a$.k$?"click":G.E.o;i.W(L,this.a0o,this)}this.T8=new hY(!0,!0,!0);this.T8.W(G.E.o,this.a3g,this);
this.T8.parent=this;var B=this.a7b,D=this.T8;B.appendChild(D.xk.e);B.appendChild(D.dj.e);B.appendChild(D.G9.e);
B.appendChild(D.oZ.e);B.appendChild(D.OV.e);this.lN=new eI([11,9]);this.lN.W("click",this.alZ,this);
this.DW=new gH;this.DW.W("click",this.am,this)}ge.prototype=new dX;ge.prototype.X8=function(x){if(x.Fq){var z=ge,A=this.zT;
if(A==null)A=this.zT=new ir(z.adW(),z.akw(this.k));A.N();A.parent=this;A.update(x.Xg,x.DL);var o=new fZ(G.E.Y,!0);
o.data={d:G.U.Sc,oM:A,x:x.Fq.Md+2,y:x.Fq.fZ+1};this.c(o);return}I.Uv(this.body);this.h5=x;if(x.a$){var i=x.a$.G8,L=x.a$.Ph.clone(),B=Math.atan2(-L.s,L.xc),D=new cb;
D.rotate(-B);L.concat(D);var Z=this.a$;Z.NG.b(x.a$.BZ);Z.wu.b(x.a$.d1.x);Z.NO.b(x.a$.d1.y);Z.sQ.b(L.xc*(Z.sQ.px()=="%"?100:i.m));
Z.SD.b(L.y9*(Z.SD.px()=="%"?100:i.n));Z.a6Q.b(-B*180/Math.PI);Z.auQ.b(0*180/Math.PI);Z.ah1.b(Math.atan(L.Pm)*180/Math.PI);
this.body.appendChild(this.ald);this.lN.bG()}if(x.P7){this.T8.b(x.P7);this.body.appendChild(this.a7b);
this.lN.wR()}this.body.appendChild(this.DW.e);if(x.apn&&!this.aq4)this.body.appendChild(this.lN.e)};
ge.prototype.a0o=function(x){var z=this.a$,A=this.h5.a$.G8;if(x.target==z.k$)z.k$.b(!z.k$.L());if(z.k$.uj()){var o=z.SD,i=z.sQ,L=A.n,B=A.m;
if(x.target==z.sQ){o=z.sQ;i=z.SD;L=A.m;B=A.n}var D=o.L()/(o.px()=="%"?100:L);D*=i.px()=="%"?100:B;i.b(D)}var Z=[];
for(var j in z)if(z[j]!=z.k$&&z[j]!=z.NG){var D=z[j].L();if((z[j]==z.sQ||z[j]==z.SD)&&D==0){D=.1;z[j].b(D)}if(z[j]==z.sQ&&z[j].px()=="px")D/=A.m/100;
if(z[j]==z.SD&&z[j].px()=="px")D/=A.n/100;Z.push(D)}var a=new iL(Z[0],Z[1]);if(x.target==z.NG){this.Lb({Vn:"ctyp",BZ:z.NG.L()})}else if(x.target==z.wu||x.target==z.NO){this.Lb({Vn:"cen",d1:a})}else{var b=this.h5.a$.Ph.clone(),W=b.clone(),c=Math.atan2(-b.s,b.xc);
W.translate(-a.x,-a.y);W.rotate(-c);var Y=new cb(W.xc,W.s,W.Pm,W.y9,0,0);Y.Qs();W.concat(Y);W.concat(new cb(Z[2]/100,Math.tan(Z[5]*Math.PI/180),Math.tan(Z[6]*Math.PI/180),Z[3]/100,0,0));
W.rotate(-Z[4]*Math.PI/180);W.translate(a.x,a.y);this.h5.a$.Ph=W;this.Lb({Vn:"trn",a$:W,ws:this.a$.mo.L()})}};
ge.prototype.a3g=function(x){this.Lb({Vn:"wrp",P7:this.T8.L()})};ge.prototype.alZ=function(x){this.Lb({Vn:"switchWarp"})};
ge.prototype.am=function(x){this.Lb({Vn:this.DW.L()?"commit":"cancel"})};ge.prototype.Lb=function(x){x.d=G.U.At;
x.k=this.k;var z=new fZ(G.E.Y,!0);z.data=x;this.c(z)};ge.prototype.X_=function(){var x=this.a$;for(var z in x)x[z].N();
I.c0(x.sQ,x.SD);this.DW.N();this.T8.N();this.lN.N()};ge.adW=function(){return[{name:[5,9],PD:"Shift+Alt+Ctrl + T",Oh:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],K:function(x){if(x==null||x.f.length!=1)return{K:!1};
var z=x.g[x.f[0]];return{K:z.add.TySh==null&&!z.Q0()}},Oh:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
ge.akw=function(x){if(x==null)x=Q.fT;return[{V:G.E.r,k:x,M:{d:"again"}},{V:G.E.Y,M:{d:G.U.hV,k:x,uS:{Ym:3}}},{V:G.E.Y,M:{d:G.U.hV,k:x,uS:{Ym:4}}},{V:G.E.Y,M:{d:G.U.hV,k:x,uS:{Ym:2}}},{V:G.E.Y,M:{d:G.U.hV,k:x,uS:{Ym:1}}},{V:G.E.Y,M:{d:G.U.hV,k:x,uS:{Ym:-1}}},{V:G.E.r,k:x,M:{d:"rot",_4:[2,5],h:-Math.PI/2}},{V:G.E.r,k:x,M:{d:"rot",_4:[2,5],h:-3*Math.PI/2}},{V:G.E.r,k:x,M:{d:"rot",_4:[2,5],h:Math.PI}},{V:G.E.r,k:x,M:{d:"scl",_4:[[2,6],[22,4,2]],h:new iL(-1,1)}},{V:G.E.r,k:x,M:{d:"scl",_4:[[2,6],[22,4,3]],h:new iL(1,-1)}}]};
function fr(){ge.call(this)}fr.prototype=new ge(!0);function dw(){ge.call(this)}dw.prototype=new ge(!0);
function fx(){ge.call(this,!1,!0)}fx.prototype=new ge(!0);function i2(){dX.call(this);var x=this.AQ=[new hN([12,36],["Rigid",[15,10,0],[24,4]]),new hN([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new eN([7,4],0,100,"px"),new dg("Show Mesh"),new eI("\u25BC",null,null,!0),new eI("\u25B2",null,null,!0)];
for(var F=0;F<x.length;F++){var z=x[F];z.parent=this;this.body.appendChild(z.e);z.W(F<4?G.E.o:"click",this.a2l,this)}this.DW=new gH;
this.DW.W("click",this.am,this);this.body.appendChild(this.DW.e)}i2.prototype=new dX;i2.prototype.X_=function(){var x=this.AQ;
for(var F=0;F<4;F++)x[F].N();this.DW.N()};i2.prototype.X8=function(x){var x=x.Hl;for(var F=0;F<4;F++)this.AQ[F].b(x[F])};
i2.prototype.a2l=function(x){var z=[];for(var F=0;F<4;F++)z[F]=this.AQ[F].L();var A=this.AQ.indexOf(x.target);
if(A<4)this.Lb({Vn:"prm",Hl:z});else this.Lb({Vn:"moveDepth",abD:A==5})};i2.prototype.am=function(x){this.Lb({Vn:this.DW.L()?"commit":"cancel"})};
i2.prototype.Lb=function(x){x.d=G.U.At;x.k=this.k;var z=new fZ(G.E.Y,!0);z.data=x;this.c(z)};function iu(){a0.call(this);
this.e=I.z("div","cmanager");window.alert=function(o,i){this.aho(o,i);console.log("Alert: "+o)}.bind(this);
window.onblur=function(o){var i=this;i.HZ()}.bind(this);this.GM=0;this.zp=0;this.BD=[];this.RR={};this.$d=I.z("div","alertcont");
this.e.appendChild(this.$d);this.ag7=I.z("div","alertcont");this.e.appendChild(this.ag7);this.tk=I.z("div","alertcont");
this.akE=0;this.cU=-1;this.as_=null;this.U5=null;var x=this.a2P=I.z("div","alertpanel");x.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.tk.appendChild(x);var z=this.SS=I.z("input");z.setAttribute("type","text");I.aK(z);z.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
z.addEventListener("input",this.awe.bind(this),!1);z.addEventListener("keydown",this.a9a.bind(this),!1);
x.appendChild(z);var A=this.au8=I.z("div","contextpanel scrollable");A.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
A.addEventListener("click",this.ad7.bind(this),!1);x.appendChild(A);I.Zs(document.body,this.a6$.bind(this))}iu.prototype=new a0;
iu.prototype.ES=function(){if(I.gX(this.tk))this.e.removeChild(this.tk)};iu.prototype.ahU=function(x,z){var A=this.as_=[],o=z.al7;
for(var F=0;F<f9.data.length;F++){var i=f9.data[F],L=[kc.get(i.name)],B=[F];iu.aux(i.items,L,B,A,x,z,o==null?null:o[F]==null?0:o[F])}var D=aN.T;
for(var F=0;F<D.length;F+=3){if(z.bX&&z.bX.indexOf(D[F+2])==-1)continue;A.push([["Tools",kc.get(D[F])],[-1,D[F+2]],D[F+1]])}this.e.appendChild(this.tk);
var Z=this.SS;Z.focus();Z.select();this.Ta()};iu.prototype.awe=function(x){this.cU=-1;this.Ta()};iu.prototype.Ta=function(){var x=this.SS.value.toLowerCase().trim().replace(/  +/g," "),z=this.as_,A=[],o=[],i=x.split(" ");
if(x!="")for(var F=0;F<z.length;F++){var L=z[F][0],B=[],D=0;for(var Z=0;Z<L.length;Z++)B[Z]=-1;for(var j=0;
j<i.length;j++)for(var Z=0;Z<L.length;Z++){var a=L[Z].toLowerCase().indexOf(i[j]);if(a!=-1){B[Z]=[a,a+i[j].length];
D++;break}}if(D==i.length){A.push(z[F]);o.push(B)}}var b=[],W=this.au8;I.Uv(W);for(var F=0;F<A.length;
F++){var c=A[F],Y=c[0],a=o[F],R="enab",k="";if(F==this.cU)R+=" active";var $=I.z("div",R);b.push($);
W.appendChild($);for(var Z=0;Z<Y.length;Z++){var w=a[Z],V=i[Z],h=Y[Z];if(w!=-1)h=h.slice(0,w[0])+"<span style=\"color:black\">"+h.slice(w[0],w[1])+"</span>"+h.slice(w[1]);
k+=h;if(Z<Y.length-1)k+=" \uFE65 "}if(c[2]&&(typeof c[2]!="string"||c[2].length==1))k+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+bJ.ew(c[2])+"</span>";
$.innerHTML=k}this.U5=[A,b]};iu.prototype.a9a=function(x){var z=bJ.gY,A=x.code;if(z(A,bJ.dw))this.ES();
var o=z(A,bJ.ci),i=z(A,bJ.ZG),L=z(A,bJ.oN);if(o||i){this.cU=Math.max(0,Math.min(this.U5[0].length-1,this.cU+(o?-1:1)));
this.Ta()}if(L&&this.cU!=-1)this.a9I(this.cU)};iu.aux=function(x,z,A,o,i,L,B){if(typeof B=="number"){if(B==0)return;
if(B==1)B=null}for(var F=0;F<x.length;F++){if(B!=null&&(B[F]==0||B[F]==null))continue;var D=x[F],Z=z.slice(0),j=A.slice(0),a=kc.get(D.name);
if(D.K){var b=D.K(i,L,F);if(b.qk)a=b.qk;if(b.K==!1)continue}Z.push(a);j.push(F);if(D.sub)iu.aux(D.sub,Z,j,o,i,L,B?B[F]:null);
else o.push([Z,j,D.PD])}};iu.prototype.ad7=function(x){var z=x.target;if(z.tagName.toLowerCase()=="span")z=z.parentNode;
var A=this.U5[1].indexOf(z);if(A!=-1)this.a9I(A)};iu.prototype.a9I=function(x){var z=this.U5[0][x][1];
if(z[0]==-1){var A=new fZ(G.E.Y,!0);A.data={d:G.U.hV,k:z[1]};this.c(A)}else{var o=f9.data[z[0]].u_[z[1]];
for(var F=2;F<z.length;F++)o=o.sub[z[F]];var i=new fZ(o.V,!0);i.k=o.k;i.data=o.M;this.c(i)}this.ES()};
iu.prototype.a0=function(x,z){this.GM=x;this.zp=z;this.au8.style["max-height"]=z-120+"px"};iu.prototype.awu=function(x){var z=I.z("div","alertpanel");
z.textContent=kc.get(x);this.$d.appendChild(z);this.RR[JSON.stringify(x)]=z};iu.prototype.a9f=function(x){var z=this.RR[JSON.stringify(x)];
this.$d.removeChild(z);delete this.RR[JSON.stringify(x)]};iu.prototype.aho=function(x,z){var A=this.ag7;
for(var F=0;F<A.children.length;F++)if(A.children[F].textContent==x)return;var o=I.z("div","alertpanel tpanel");
o.textContent=x;o.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");A.appendChild(o);if(z==null)z=1500;
var i=z,L=Math.max(Date.now()+i,this.akE+i);setTimeout(function(){o.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){A.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},L-Date.now()-30);
setTimeout(function(){A.removeChild(A.firstChild);A.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},L-Date.now());
this.akE=L};iu.prototype.a6$=function(x){var z=this.BD;for(var F=z.length-1;F>=0;F--){var A=z[F],o=x.target;
while(o!=null){if(o==A.e){this.HZ(A);return}o=o.parentNode}}this.HZ();var i=x.target;while(i!=this.tk&&i!=document.body)i=i.parentNode;
if(i!=this.tk)this.ES()};iu.prototype.HZ=function(x){var z=this.BD;for(var F=0;F<z.length;F++){if(x&&x.a4Z(z[F]))continue;
var A=z[F].e;A.style.height="auto";I.wi(A,"scrollable");this.e.removeChild(A);z.splice(F,1);F--}};iu.prototype.a9e=function(x){this.HZ(x.oM);
var z=x.oM,A=z.e;if(this.BD.indexOf(z)!=-1)return;this.BD.push(z);this.e.appendChild(z.e);var o=this.GM,i=this.zp,L=x.x,B=x.y,D=this.e.getBoundingClientRect(),Z=z instanceof ir,j=-1,a=i-2;
if(Z||x.Sb){var b=z.pq(),W=z.agp();if(Z)b=Math.min(b,200);var c=o-b-2,Y=i-W-2;if(B<Y)j=2;else if(L<c)j=1;
else if(0<B-W-2)j=0;else j=3;if(x.aq6)j=0;if(x.acF)j=2;if(j==2){L=Math.min(L,c)}else if(j==1){B=Math.min(B,Y)}else if(j==0){B=B-W-2;
L=Math.min(L,c);a=x.y}else if(j==3){L=L-b-2;B=Math.min(B,Y)}}B=Math.max(2,B);var top=Math.round(B-D.y+this.e.offsetTop);
A.style.position="absolute";A.style["z-index"]=10;if(B+z.agp()>a){A.style.height=a-B+"px";I.ho(A,"scrollable");
if(j==3)L-=10}A.style.left=Math.round(L)+"px";A.style.top=top+"px"};iu.prototype.as1=function(x){var z=x.oM,A=this.BD.indexOf(z);
if(A==-1)return;this.BD.splice(A,1);var o=z.e;this.e.removeChild(z.e)};iu.prototype.g5=function(){var x=this.BD;
return x.length==0?null:x[x.length-1]};iu.prototype.avq=function(){this.as1({oM:this.g5()})};function bF(){a0.call(this);
this.e=I.z("div","confbar")}bF.prototype=new a0;bF.prototype.aoD=function(x){x.parent=this;I.Uv(this.e);
this.e.appendChild(x.e)};function gC(x){a0.call(this);gC.sr=x;this.OQ=null;this.Zq=I.z("input","");this.Zq.setAttribute("type","file");
this.Zq.setAttribute("multiple","");this.Zq.addEventListener("change",function(z){this.Xj(z.target.files,null,this.zn,null);
this.zn=null}.bind(this),!1);document.body.appendChild(this.Zq);this.Zq.setAttribute("style","display:none");
this.asm=[];this.Rh=!1;this.a1e={};this.zn=null}gC.prototype=new a0;gC.sr=null;gC.Tl=function(x){try{var z={};
z[x.type]=x;navigator.clipboard.write([new ClipboardItem(z)])}catch(kc){console.error(kc,kc.message)}};
gC.jf=function(x,z){navigator.clipboard.read().then(function(A){for(var F=0;F<A.length;F++){try{var o=A[F],i={},L=0,B=0;
for(var D=0;D<o.types.length;D++){var Z=o.types[D];L++;o.getType(Z).then(function(j){var a=Z;new Response(j).arrayBuffer().then(function(b){i[this.VW]=b;
B++;if(B==L)gC.aeo(i,x,z)}.bind({VW:this.VW}))}.bind({VW:Z}))}}catch(kc){console.error(kc,kc.message)}}}).catch(function(A){alert("Clipboard error: ("+A.message+")")})};
gC.agM=function(x){navigator.permissions.query({name:"clipboard-read"}).then(function(z){x(z.state)})};
gC.aeo=function(x,z,A){var o=["text/plain","image/png","text/html","text/plain"];for(var i in x)console.log(i,i.startsWith("text")?m._X(new Uint8Array(x[i])).slice(0,100)+"...":x[i]);
for(var L=0;L<o.length;L++){var B=o[L],D=x[B];if(D==null)continue;if(B=="image/png"){gC.sr({name:"image.png"},D,z,A);
return}if(B=="text/plain"){var Z=m._X(new Uint8Array(D));if(L==0)if(!Z.startsWith("<!--")&&!Z.startsWith("<svg"))continue;
var j=new fZ(G.E.Y,!0);j.data={d:G.U.aoU,h:Z};z.c(j);return}if(B=="text/html"){var Z=m._X(new Uint8Array(D)),a=Z.indexOf("src=\"");
if(a!=-1&&Z.slice(a+5,a+9)!="http"){var b=a+10;while(Z[b]!="\"")b++;var W=Z.slice(a+5,b);gC.sr({name:"chart.png"},iF.H6(W).buffer,z,A);
return}}}};gC.prototype.Da=function(x){if(x==null)x=[23,5];var z=JSON.stringify(x),A=this.a1e;if(A[z]==null)A[z]=0;
if(A[z]==0){var o=new fZ(G.E.Y,!0);o.data={d:G.U.pj,_9:x};this.c(o)}A[z]++};gC.prototype.gH=function(x){if(x==null)x=[23,5];
var z=JSON.stringify(x),A=this.a1e;if(A[z]==null)A[z]=0;A[z]--;if(A[z]==0){var o=new fZ(G.E.Y,!0);o.data={d:G.U.gt,_9:x};
this.c(o)}};gC.prototype.aul=function(x,z){this.zn=x;var A=window.showOpenFilePicker;if(A&&window.self==window.top){var o=this;
A({multiple:!0}).then(function(B){var D=[];function Z(j){D.push(j);if(D.length==B.length){o.Xj(D,null,o.zn,null,B);
o.zn=null}else B[D.length].getFile().then(Z)}B[D.length].getFile().then(Z)});return}var i=this.Zq;if(z)i.setAttribute("accept",z);
else i.removeAttribute("accept");var L=document.createEvent("MouseEvents");L.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
i.dispatchEvent(L)};gC.prototype.AY=function(x){if(x.url.indexOf("photopea.com#i")!=-1||x.url.indexOf("photopea.com/#i")!=-1){this.Vw(x.url.split("#i").pop());
return}this.asm.push(x);this.aiB()};gC.prototype.aiB=function(){var x=this.asm;if(x.length==0||this.Rh)return;
this.Rh=!0;var z=x.shift();this.Da();if(z.Ra==null)z.Ra={};var A=new XMLHttpRequest;A.VH=z;var o=z.url;
if(z.Vz&&!o.startsWith("data:image"))o=(o);A.open("GET",o);if(z.LN)for(var i in z.LN)A.setRequestHeader(i,z.LN[i]);
A.responseType="arraybuffer";A.onload=this.aks.bind(this);A.send()};gC.prototype.Xj=function(x,z,A,o,i){for(var F=0;
F<x.length;F++){this.Da();var L=x[F],B=new FileReader;B.VH=L;B.VH.mf=A;B.VH.l3=o;B.aqw=z;if(i)B.VH.Gn=i[F];
B.onload=this.aks.bind(this);B.onerror=function(D){this.gH()}.bind(this);B.readAsArrayBuffer(L)}this.Zq.value=null};
gC.prototype.adH=function(x,z,A){this.Da("Saving ...");this.OQ=z;setTimeout(A.bind({QW:x,caller:this}),50)};
gC.Cu=function(x){var z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=new Uint8Array(x),o=A.length,i=o%3,L=o-i,B=[],D=0,Z=0,j=0;
for(var F=0;F<L;F+=3){D=A[F];Z=A[F+1];j=A[F+2];B.push(z[D>>2]+z[(D&3)<<4|Z>>4]+z[(Z&15)<<2|j>>6]+z[j&63])}if(i==1){D=A[L];
B.push(z[D>>2]+z[(D&3)<<4]+"==")}if(i==2){D=A[L];Z=A[L+1];B.push(z[D>>2]+z[(D&3)<<4|Z>>4]+z[(Z&15)<<2]+"=")}var a=B.join("");
return a};gC.aaL=function(x,z){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(64),D=0,Z=0,j=0,b=0;
for(var F=0;F<64;F++)o[F]=A.charCodeAt(F);var i=new Uint8Array(x),L=z%3,B=z-L,a=new Uint8Array(Math.floor(z/3)*4+(L==0?0:4));
for(var F=0;F<B;F+=3){D=i[F];Z=i[F+1];j=i[F+2];a[b]=o[D>>>2];a[b+1]=o[(D&3)<<4|Z>>>4];a[b+2]=o[(Z&15)<<2|j>>>6];
a[b+3]=o[j&63];b+=4}if(L==1){D=i[B];a[b]=o[D>>2];a[b+1]=o[(D&3)<<4];a[b+2]=61;a[b+3]=61}if(L==2){D=i[B];
Z=i[B+1];a[b]=o[D>>2];a[b+1]=o[(D&3)<<4|Z>>4];a[b+2]=o[(Z&15)<<2];a[b+3]=61}return a};gC.prototype.aks=function(x){var z,A=x.target.VH;
if(x.target instanceof XMLHttpRequest)z=x.target.response;else z=x.target.result;gC.sr(A,z,this,x.target.aqw);
this.gH();if(x.target instanceof XMLHttpRequest){this.Rh=!1;this.aiB()}};gC.a2h=function(x,z){var A=new XMLHttpRequest;
A.open("POST","https://api.imgur.com/3/image",!0);A.Tn=z;A.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
A.setRequestHeader("Content-type","application/x-www-form-urlencoded");A.setRequestHeader("Accept","application/json");
A.addEventListener("load",gC.afD);A.send("type=base64&image="+encodeURIComponent(gC.Cu(x)));alert("Saving to Imgur ...",4e3)};
gC.afD=function(x){var z=JSON.parse(x.target.response);if(z.success){if(x.target.Tn)x.target.Tn(z.data.link);
else window.open(z.data.link,"Imgur")}};gC.prototype.Vw=function(x,z){this.Da();var A=new XMLHttpRequest;
A.responseType="arraybuffer";A.open("GET","https://f000.backblazeb2.com/file/psdshared/"+x);A.onload=this.aoL.bind(this);
A.send();gC.arB=Date.now();gC.asb=x;gC.a5b=z?x:null};gC.prototype.aoL=function(x){var z=new Uint8Array(x.target.response);
console.log(z.length,Date.now()-gC.arB);for(var F=0;F<z.length;F++)z[F]=255-z[F];z=pako.inflateRaw(z);
var A=JSON.parse(m._X(z,0,2e3));gC.sr({name:A.name,KY:gC.a5b},z.slice(2e3).buffer,this);this.gH();var o=new XMLHttpRequest;
o.open("GET","/papi/img/update.php?act=0&id="+gC.asb+"&rnd="+Math.random());o.send()};gC.prototype.aqN=function(x,z,A){if(!(x instanceof ArrayBuffer))throw"e";
x=new Uint8Array(x);var o=new Uint8Array(x.length+2e3),b="";for(var F=0;F<2e3;F++)o[F]=32;m.Yq(JSON.stringify({name:z}),o,0);
o.set(x,2e3);x=o;x=pako.deflateRaw(x);for(var F=0;F<x.length;F++)x[F]=255-x[F];x=x.buffer;var i=x.byteLength,L=aV.l1(i),B=~~(609e5/2),D=~~(209e5/2);
if(i>B){confirm("Your file is "+L+". Our limit is "+aV.l1(B)+". Delete some layers and try again.");
return}if(i>D){var Z=confirm("Your file is quite large ("+L+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!Z)return}var j=sha1(x),a=[];for(var F=0;F<20;F++){var W=parseInt(j.slice(F*2,F*2+2),16);a.push(W);
b+=String.fromCharCode(W)}var c=btoa(b).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(gC.anj(c)){console.log("file already exists");
if(A)A("https://www.photopea.com#i"+c);else window.open("https://www.photopea.com#i"+c);return}this.Da("Publishing ...");
var Y=new XMLHttpRequest;Y.rB=[x,j,c,A];Y.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+c+"&size="+i);
Y.onload=this.a9P.bind(this);Y.send()};gC.anj=function(x){try{var z=new XMLHttpRequest;z.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+x,!1);
z.send();if(z.status==200)return!0}catch(kc){return!1}return!1};gC.prototype.a9P=function(x){console.log(x.target.response);
var z=JSON.parse(x.target.response),A=x.target.rB,o=new XMLHttpRequest;o.open("POST",z.uploadUrl);o.setRequestHeader("Authorization",z.authorizationToken);
o.setRequestHeader("X-Bz-File-Name",A[2]);o.setRequestHeader("Content-Type","b2/x-auto");o.setRequestHeader("X-Bz-Content-Sha1",A[1]);
o.send(new Blob([A[0]]));o.onload=this.a9U.bind({i7:this,rB:A})};gC.prototype.a9U=function(x){this.i7.gH("Publishing ...");
if(this.rB[3])this.rB[3]("https://www.photopea.com#i"+this.rB[2]);else window.open("https://www.photopea.com#i"+this.rB[2]);
var z=new XMLHttpRequest;z.open("GET","/papi/img/update.php?act=2&id="+this.rB[2]+"&fileId="+JSON.parse(x.target.response).fileId+"&rnd="+Math.random());
z.send()};gC.save=function(x,z){var A=new Uint8Array(x),o=document.createElement("a");if(typeof o.download=="string"){var i=new Blob([A]),L=window.URL.createObjectURL(i);
o.href=L;o.download=z;document.body.appendChild(o);o.click();document.body.removeChild(o)}else{var B="data:application/octet-stream;base64,"+gC.Cu(x);
window.open(B)}};function cc(){this.size=16;this.data=f.C(16)}cc.prototype.qQ=function(x,z){if(x+z<=this.size)return;
var A=this.size;while(x+z>this.size)this.size*=2;var o=f.C(this.size);for(var F=0;F<A;F++)o[F]=this.data[F];
this.data=o};var a2={};a2.uw=function(x,z,A){var o=z.split(":"),i=o[0],L=null;if(o.length==2){if(i=="jpg")L=[Math.round(100*parseFloat(o[1]))];
if(i=="webp")L=[Math.round(100*parseFloat(o[1])),100,0,!1,!1];if(i=="psd")L=[!0,!0];if(i=="svg")L=o[1].split(",").map(function(D){return D=="true"})}var B=iF.XO(x,i.toUpperCase(),null,null,L,A);
return B};a2.a1o=function(x,z,A){var o=x.MK(),i=z[0];return a2.uw(x,i,A)};a2.a5w=function(){var x=this.QW,z=this.caller,A=x.Ra.UR,o=A.formats,i,L;
x.MK();var B=Date.now();if(A.version==1){var D=[],Z=0,a=0;for(var F=0;F<o.length;F++){var j=a2.uw(x,o[F],z.OQ);
D.push(j);Z+=j.byteLength}i=new Uint8Array(2e3+Z);var b="{ \"source\": "+JSON.stringify(x.Y_)+", \"versions\": [\n";
for(var F=0;F<o.length;F++){var W=new Uint8Array(D[F]);b+="\t{\"format\": \""+o[F].split(":")[0]+"\", \"start\": "+a+", \"size\": "+W.length+" }"+(F+1<o.length?", ":"")+"\n";
i.set(W,2e3+a);a+=D[F].byteLength}b+="] }";var c=m.Yq(b,i,0);for(var F=c;F<2e3;F++)i[F]=32;L="application/octet-stream"}else{var Y=new cc,R=0,$="",k=encodeURIComponent;
$="p="+k("{ \"source\": "+JSON.stringify(x.Y_)+", \"versions\": [");m._h(Y,R,$);R+=$.length;for(var F=0;
F<o.length;F++){$=k(" {\"format\": \""+o[F].split(":")[0]+"\", \"data\": \"");m._h(Y,R,$);R+=$.length;
var j=a2.uw(x,o[F],z.OQ),w=gC.aaL(j,j.byteLength),c=w.length;Y.qQ(R,c);for(var V=0;V<c;V++){Y.qQ(R,3);
var h=w[V];if(h==43){Y.data[R]=37;Y.data[R+1]=50;Y.data[R+2]=66;R+=3}else if(h==47){Y.data[R]=37;Y.data[R+1]=50;
Y.data[R+2]=70;R+=3}else if(h==61){Y.data[R]=37;Y.data[R+1]=51;Y.data[R+2]=68;R+=3}else{Y.data[R]=h;
R++}}$=k("\" }"+(F+1<o.length?", ":""));m._h(Y,R,$);R+=$.length}$=k("] }");m._h(Y,R,$);R+=$.length;i=Y.data.slice(0,R);
L="application/x-www-form-urlencoded"}var l=new XMLHttpRequest;l.open("POST",A.url,!0);if(L)l.setRequestHeader("Content-Type",L);
l.addEventListener("load",a2.alk.bind(this));l.send(new Blob([i.buffer]))};a2.alk=function(x){this.caller.gH("Saving ...");
var z=x.target.response;if(z.charAt(0)=="{"){z=JSON.parse(z);if(z.newSource)this.QW.Y_=z.newSource;if(z.message)alert(z.message,2e3);
if(z.script){var A=new fZ(G.E.Y,!0);A.data={d:G.U.ep,ZC:z.script};this.caller.c(A)}}else alert("Saved. Response: "+z,1500)};
a2.a8W=function(x){var z=x.g1,A=z[1].split(".").pop(),o=a2.uw(x,A),i=Storage.gA(z[0]);i.aiS(z[1],o)};
a2.a6D=function(x,z){var A=x.yV.AK;if(z==null)z=a2.uw(x,A);g1.pZ(function(){var o=new XMLHttpRequest,i="https://www.googleapis.com/upload/drive/v3/files/"+x.yV.file.id+"?uploadType=media"+"&"+g1.xY();
o.open("PATCH",i,!0);o.addEventListener("load",function(L){var B=JSON.parse(L.target.response);alert(B.name+" updated")});
o.send(z);alert("Saving \""+x.yV.file.name+"\" to Google Drive ...")})};a2.sr=function(x,z,A,o){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)a2.ads(x,z,A,o);
else{try{a2.ads(x,z,A,o)}catch(kc){if(kc=="low_ram"){}else{var i="Error. Please, send your file to support@photopea.com and we will solve it.";
if(iF.cd(z)=="eps")i="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(i,1e4)}}}};a2.ads=function(x,z,A,o){var i;if(x.name){var L=x.name.lastIndexOf(".");i=L==-1?L:x.name.slice(0,L)}else{if(x.url.substring(0,5)=="data:"||x.url.indexOf("googleapis")!=-1)i="image";
else i=x.url.substring(x.url.lastIndexOf("/")+1).split(".")[0];i=i.slice(0,50)}var B=x.name?x.name:x.url,D=new Uint8Array(z),Z=iF.cd(z),j=window.ga;
if(Math.random()<.25&&j&&Z!=null&&iF.Lg(Z))j("send","event","Formats",Z);if(Z==null)Z=m.dX(D,0,4);if(B&&B.toLowerCase().endsWith(".raw")){var a=new fZ(G.E.Y,!0);
a.data={d:G.U.z1,ca:"importraw",cZ:z,W7:B.split("/").pop()};A.c(a);return}else if(Z=="json"){var b="";
for(var F=0;F<D.length;F++)b+=String.fromCharCode(D[F]);b=decodeURIComponent(escape(b));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(b));return}if(Z=="html"){var b=m._X(D,0,D.length),W=new DOMParser,c=W.parseFromString(b,"text/html"),Y=c.getElementsByTagName("meta");
for(var F=0;F<Y.length;F++){var R=Y[F],$=R.getAttribute("property"),k=R.getAttribute("content"),w=null;
if($=="og:image")w=k;if($==null&&k&&k.startsWith("0;url=/imgres?")){var V=k.slice(14).split("&");for(var h=0;
h<V.length;h++)if(V[h].startsWith("imgurl"))w=decodeURIComponent(V[h].slice(7))}if(w==null)continue;
var a=new fZ(G.E.Y,!0);a.data={d:G.U.gk,Hl:{url:w,Vz:!0,mf:x.mf}};A.c(a)}return}if(iF.Lg(Z)){var l,M,q=iF.Lg(Z);
if(x.mf!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(Z)!=-1){var a=new fZ(G.E.Y,!0);a.data={d:G.U.in,target:x.mf,IP:x.l3,m5:z,CR:i};
A.c(a);return}var t=[i,q,Z,x,A,o,z];if(q.RQ){l=new ew(i+(Z=="psd"?"":"-"+Z)+".psd");q.i0(z,l,a2.vz,t)}else{M=q.i0(z,null,a2.vz,t,A)}if(q.l_!=!0)a2.vz(l,M,t);
else A.Da();return}var p=new fZ(G.E.Y,!0);p.data={d:G.U.t2,cZ:z,ts:x.name};var _=x instanceof File&&x.ae5!=!0,a=new fZ(G.E.Y,!0);
a.data={d:G.U.nF,Ra:"add",Hl:null,Cy:null,afL:x.ae5};if(Z=="zip"){var S=Date.now(),y=UZIP.parse(z),v="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var r in y){var K=!1;for(var F=0;F<v.length;F++)if(r.toLowerCase().endsWith("."+v[F]))K=!0;if(r.startsWith("__MACOSX/")||y[r].length==0)K=!0;
if(K)continue;var s=r.split("/").pop();a2.sr({name:s},y[r].buffer,A,o)}}else if(Z=="jsx"||B&&B.toLowerCase().endsWith(".jsx")){var b=m._X(new Uint8Array(z));
a.data={d:G.U.ep,ZC:b};A.c(a)}else if(Z=="otf"){if(_)A.c(p);var P=Typr.parse(z);a.data.Hl=cu.Oc;for(var F=0;
F<P.length;F++){a.data.Cy=P[F];A.c(a)}}else if(Z=="asl"){if(_)A.c(p);var P=ex.l6(z);a.data.Hl=cu.bq;
a.data.Cy=P.mm;A.c(a);a.data.Hl=cu.X1;a.data.Cy=P.I6;A.c(a)}else if(Z=="tpl"){if(_)A.c(p);var P=cL.l6(z);
a.data.Hl=cu.s7;a.data.Cy={U0:P.U0,xn:P.xn,list:[]};A.c(a);if(P.a6_.length!=0){a.data.Hl=cu.lb;a.data.Cy=P.a6_;
A.c(a)}if(P.I6.length!=0){a.data.Hl=cu.X1;a.data.Cy=P.I6;A.c(a)}a.data.Hl=cu.E1;a.data.Cy=P.list;A.c(a)}else{var d="";
for(var X in cu.Ek)if(cu.Ek[X][0]==Z)d=X;if(d!=""){if(_)A.c(p);a.data.Cy=cu.Ek[d][2].l6(z,B);a.data.Hl=d;
A.c(a)}else alert("Unknown file format: "+JSON.stringify(Z))}};a2.vz=function(x,z,A){var o=A[0],i=A[1],L=A[2],B=A[3],D=A[4],Z=A[5],j=A[6];
if(i.l_)D.gH();if(!i.RQ){if(z.length==0)return;if(z[0].t33421||z[0].t50706){f.raw.normalize(z[0],j);
console.log(z[0]);var a=new fZ(G.E.Y,!0);a.data={d:G.U.z1,ca:"rawpea",Fe:z[0]};D.c(a);return}if(Z){Z(new Uint8Array(z[0].data),z[0].xH);
return}x=iF.Q9(o,z)}x.KY=B.KY;x.QE=L;x.Ra=B.Ra;x.Y_=B.url;x.no=B.no;x.yV=B.yV;x.Gn=B.Gn;x.g1=B.g1;if(x.yV)x.yV.AK=L;
if(x.g.length!=0){var a=new fZ(G.E.Y,!0);a.data={d:B.mf==null?G.U.du:G.U.in,target:B.mf,IP:B.l3,m5:x};
D.c(a)}};function cq(x){a0.call(this);this.h0=cq.h0++;this.s0=x;this.av$=this.arA.bind(this);this.avn=this.atc.bind(this);
this.aq0=this.Qb.bind(this);this.auG=this.a3y.bind(this);this.awo=this.a7z.bind(this);this.ab1=this.aoe.bind(this);
this.$N=0;this.ah4=0;this.a0m=0;this.e=I.z("div","panelblock");this.Nc=I.z("div","block");this.Cs=I.z("div","collapsed");
this.e.appendChild(this.Nc);this.QH=-1;this.P3=!0;this.QY=I.z("div","panelhead");this.Nc.appendChild(this.QY);
this.yf(this.QY);this.ql=new eI("\u2261");this.ql.e.setAttribute("style","position:absolute; right:0;");
this.ql.W("click",this.auL,this);this.Uy=I.z("div","");this.Nc.appendChild(this.Uy);this.ct=[];this.TL=null;
this.oh=null}cq.h0=0;cq.prototype=new a0;cq.prototype.auL=function(x){var z=this.ct[this.QH].G5(),A=x.currentTarget.e.getBoundingClientRect();
z.N();z.update();z.parent=this;var o=new fZ(G.E.Y,!0);o.data={d:G.U.Sc,oM:z,x:A.left,y:A.top+A.height+2};
this.c(o)};cq.prototype.LC=function(x){var z=this.Nc,A=this.QY,o=this.Uy;if(I.gX(A))z.removeChild(A);
if(I.gX(o))z.removeChild(o);if(x==0)z.appendChild(A);z.appendChild(o);this.a0m=x};cq.oG=function(x){x.stopPropagation();
x.preventDefault()};cq.prototype.arA=function(x){var z=x.dataTransfer.types;if(z[1]!=null&&z[1]!=this.h0+"")return;
cq.oG(x);var f5=x.currentTarget;if(x.target==f5)I.ho(f5,"highlight")};cq.prototype.atc=function(x){cq.oG(x);
var f5=x.currentTarget;if(x.target==f5)I.wi(f5,"highlight")};cq.prototype.yf=function(x){x.addEventListener("dragenter",this.av$,!1);
x.addEventListener("dragleave",this.avn,!1);x.addEventListener("dragover",cq.oG,!1);x.addEventListener("drop",this.aq0,!1);
x.addEventListener("dragstart",function(z){z.dataTransfer.setData("Text","--panel");z.dataTransfer.setData(this.h0+"","")}.bind(this),!1)};
cq.prototype.Qb=function(x){this.avn(x);var z=null,f5=x.currentTarget,A=this.alQ(f5);if(f5==this.Uy&&this.QH!=-1)z=this.QH;
else if(f5==this.QY)z=null;else if(A!=-1)z=A;var o=x.dataTransfer.getData("Text");if(o==""||o.startsWith("http"))I.Zb(x,this,z);
else if(o=="--panel"){var i=I.Ki(x,f5),L=this.ct,B=L.slice(0),F=this.QH,D=A==-1?L.length:i.x<f5.getBoundingClientRect().width/2?A:A+1;
if(F==D||F+1==D||f5==this.Uy)return;var Z=F<D?D-1:D,j=L[F];L.splice(F,1);L.splice(Z,0,j);I.Uv(this.QY);
for(var a=0;a<L.length;a++)this.QY.appendChild(L[a].iR);this.MM(Z);var b=[];for(var F=0;F<L.length;F++)b[F]=B.indexOf(L[F]);
var W=new fZ("shuffleItems",!1);W.data={aam:b};this.c(W)}else if(z!=null&&this instanceof aU){var W=new fZ(G.E.Y,!0);
W.data={d:G.U.a7U,awD:z};this.c(W)}};cq.prototype.ym=function(){return null};cq.prototype.a5p=function(){if(this.ym()){this.oh=this.ym();
this.Uy.appendChild(this.oh);this.Vj.dU(!1);var x=new fZ(G.E.Y,!0);x.data={d:G.U.ZS,h:1};this.c(x)}};
cq.prototype.a6V=function(){if(this.oh){this.Uy.removeChild(this.oh);this.oh=null;this.Vj.dU(!0);var x=new fZ(G.E.Y,!0);
x.data={d:G.U.ZS,h:0};this.c(x)}};cq.prototype.alQ=function(x){var z=this.ct;for(var F=0;F<z.length;
F++)if(z[F].iR==x)return F;return-1};cq.prototype.tO=function(){for(var F=0;F<this.ct.length;F++)this.ct[F].O3.bG()};
cq.prototype.Xd=function(){return this.QH};cq.prototype.hZ=function(){if(this.P3)return;this.P3=!0;this.e.removeChild(this.Cs);
this.e.appendChild(this.Nc)};cq.prototype.collapse=function(){if(!this.P3)return;this.P3=!1;this.e.appendChild(this.Cs);
this.e.removeChild(this.Nc)};cq.prototype.a4B=function(){return 26+this.Uy.getBoundingClientRect().height};
cq.prototype.a0=function(x,z){this.QY.setAttribute("style","max-width: "+x+"px");var A=0;if(this.a0m==0){A=this.QY.getBoundingClientRect().height;
A=Math.max(A,26)}if(this.QH!=-1)this.ct[this.QH].a0(x,z-A);return z-A};cq.prototype.wB=function(x,z){if(this.QH!=-1)this.ct[this.QH].wB(x,z)};
cq.prototype.N_=function(x,z,A){this.ct[this.QH].N_(x,z,A)};cq.prototype.nJ=function(x){this.a6V();if(this.ct.indexOf(x)!=-1){this.MM(this.ct.indexOf(x));
return}x.parent=this;this.ct.push(x);this.QY.appendChild(x.iR);x.iR.addEventListener("mouseover",this.auG,!1);
this.yf(x.iR);this.Cs.appendChild(x.O3.e);x.O3.W("click",this.axl,this);x.W("select",this.anu,this);
x.W(G.E.X9,this.aaf,this);this.MM(this.ct.length-1)};cq.prototype.a3y=function(x){if(x.buttons==0)return;
var z=x.currentTarget,A=z,F=0;while((A=A.previousSibling)!=null)F++;this.ah4=F;z.addEventListener("mouseout",this.awo,!1);
this.$N=setTimeout(this.ab1,700)};cq.prototype.a7z=function(x){var z=x.currentTarget,A=z,F=0;while((A=A.previousSibling)!=null)F++;
z.removeEventListener("mouseout",this.awo);clearTimeout(this.$N)};cq.prototype.aoe=function(x){this.c(new fZ(G.E.af_,!1))};
cq.prototype.a6g=function(x){return this.ah4};cq.prototype.Jo=function(F){var x=new fZ(G.E.X9,!1);x.data={iQ:F};
this.c(x);var z=this.ct[F];this.ct.splice(F,1);this.QY.removeChild(z.iR);this.Cs.removeChild(z.O3.e);
z.iR.setAttribute("class","");z.O3.removeEventListener("click",this.axl,this);z.O3.bG();z.removeEventListener("activate",this.anu);
z.removeEventListener(G.E.X9,this.aaf);var A=this.QH;if(F<A)A--;else if(F==A&&F==this.ct.length)A--;
this.MM(A);if(this.ct.length==0)this.a5p()};cq.prototype.aaw=function(){return this.ct.length};cq.prototype.SR=function(){if(this.ct.length!=0)this.ct[this.QH].SR()};
cq.prototype.MM=function(x,z){if(z==null)z=!0;for(var F=0;F<this.ct.length;F++)this.ct[F].iR.setAttribute("class","");
if(this.TL)this.Uy.removeChild(this.TL);this.TL=null;this.QH=x;if(x==-1)return;var A=this.ct[this.QH];
this.TL=A.Fc;this.Uy.appendChild(A.Fc);A.iR.setAttribute("class","active");if(!this.P3){this.c(new fZ("showFloat"));
this.ct[x].O3.wR()}if(z)this.c(new fZ(G.E.o,!1));A.yQ();var o=this.ql.e;if(o.parentNode)this.QY.removeChild(o);
if(A.G5())this.QY.appendChild(o);var i=new fZ(G.E.Y,!0);i.data={d:G.U.Bu};this.c(i)};cq.prototype.anu=function(x){if(this.s0&&!this.s0.a4I())return;
var F=this.ct.indexOf(x.currentTarget);this.MM(F)};cq.prototype.aaf=function(x){if(this.s0&&!this.s0.a4I())return;
var F=this.ct.indexOf(x.currentTarget);this.Jo(F)};cq.prototype.axl=function(x){var z=this.ct.indexOf(x.currentTarget.parent);
if(this.ct[z].O3.uj())this.c(new fZ("hideFloat"));else this.MM(z)};cq.prototype.arf=function(x){this.c(x)};
function aU(x){cq.call(this,x);this.GM=0;this.zp=0;I.ek(this.QY,this.ac$.bind(this));this.XG=0;this.aoh=this.a5z.bind(this);
this.yf(this.Uy);this._D=["default;"];this.Vj=new I.Xb(this.Uy);this.CJ=new gL(!0);this.CJ.parent=this;
this.RH=this.CJ.e;gL.Ly(this.CJ)}aU.prototype=new cq;aU.prototype.ac$=function(x){if(x.target!=this.QY)return;
var z=this.XG;this.XG=Date.now();if(Date.now()-z>300)return;var A=new fZ(G.E.Y,!0);A.data={d:G.U.z1,ca:"newproject"};
this.c(A)};aU.prototype.lf=function(x,z){if(z)this._D.push(x);else{var A=this._D.length-1;if(this._D[A]==x)return;
this._D[A]=x}this.a2()};aU.prototype.a48=function(){this._D.pop();this.a2()};aU.prototype.a2=function(){var x=this._D[this._D.length-1];
this.Vj.N_(x,this.n0)};aU.prototype.wB=function(x,z){cq.prototype.wB.call(this,x,z);this.CJ.wB(x,z);
if(!x.Mc){}};aU.prototype.N=function(){cq.prototype.N.call(this);this.CJ.N()};aU.prototype.N_=function(x,z){for(var F=0;
F<z.length;F++){var A=z[F];this.ct[F].Mp(A.name+(A.Ws()?" *":""))}cq.prototype.N_.call(this,x,z)};aU.prototype.ym=function(){return this.RH};
aU.prototype.a0=function(x,z){if(this.ct.length==0)z+=22;this.GM=x;this.zp=z;z=cq.prototype.a0.call(this,x,z);
this.n0="height:"+z+"px; width:"+x+"px; overflow:hidden; position:relative;";this.a2();this.CJ.a0(x,z)};
aU.prototype.nJ=function(x){cq.prototype.nJ.call(this,x);x.iR.addEventListener("click",this.aoh,!1)};
aU.prototype.Jo=function(F){var x=this.ct[F];I.K9(x.iR,this.aoh);cq.prototype.Jo.call(this,F)};aU.prototype.a5z=function(x){var z=this.XG;
this.XG=Date.now();if(Date.now()-z>300)return;var A=this.alQ(x.currentTarget),o=this.ct[A].m5.name,i=new fZ(G.E.Y,!0),L={V:G.E.r,k:Q.xu,M:{d:g.CN}};
i.data={d:G.U.z1,ca:"namewindow",IO:o.slice(0,o.length-4),YS:L};this.c(i)};function cs(x){a0.call(this);
if(x)return;jX.aiI(1);this.e=I.z("div","flexrow app");this.a9=I.z("div");this.e.appendChild(this.a9);
setTimeout(function(){var A=window.hideCap;if(A)A()},25e3);this.x7=new bJ;window.addEventListener("blur",function(A){this.x7.reset()}.bind(this),!1);
window.addEventListener("resize",this.H2.bind(this),!1);var z=this.a9;this.KV=new jQ;this.KV.parent=this;
z.appendChild(this.KV.e);this.we=new iu;this.we.parent=this;z.appendChild(this.we.e);this._B=new bZ(!0);
this._B.parent=this;z.appendChild(this._B.e);this.W(G.E.Y,this.Wq,this);this.z$=this.N3.bind(this);window.requestAnimationFrame(this.z$)}cs.prototype=new a0;
cs.prototype.N3=function(x){this.ZN();window.requestAnimationFrame(this.z$)};cs.prototype.N=function(){};
cs.prototype.H2=function(x){var z=window.innerWidth,A=window.innerHeight;this.a0(z,A)};cs.prototype.a0=function(x,z){this.we.a0(x,z);
this.KV.a0(x,z)};cs.prototype.Wq=function(x){var z=x.data.d;if(z==G.U.Sc)this.we.a9e(x.data);if(z==G.U.wt)this.we.as1(x.data);
if(z==G.U.pj)this.we.awu(x.data._9);if(z==G.U.gt)this.we.a9f(x.data._9);if(z==G.U.lk)this.we.HZ()};function hH(){cs.call(this);
this.Ty={x:0,y:0,z0:!1};this.MS=!1;this.PW=!1;this.lY=null;this.anw=0;this.aiy=!1;this.rV=0;window.onmessage=function($){if(Storage.ash($.source))return;
if($.data instanceof ArrayBuffer){var k=iF.cd($.data),w=iF.Lg(k);gC.sr({url:"file"},$.data,this);if(w==null)this.LY()}else if($.data instanceof Object||$.data.startsWith("{")||$.data.startsWith("amp-")||$.data.startsWith("0=goog")||$.data.startsWith("3PCoo")){}else if($.data.startsWith("--ot ")){this.KV.g5().close();
this.t1.Vw($.data.split(" ").pop(),!0)}else{var V=new fZ(G.E.Y,!0);V.data={d:G.U.ep,ZC:$.data};this.c(V);
this.LY()}}.bind(this);window.onunload=window.onbeforeunload=function($){for(var F=0;F<this.qS.length;
F++)if(this.qS[F].Ws())return this.qS[F].name}.bind(this);window.setInterval(function(){var $=this.Bm();
if($==null)return;var k=(Date.now()-$.pO)/6e4;if(this.Vt._t==1&&$.pF!=$.Dx&&k>60){var w="You haven't saved your work ("+$.name+") for "+Math.round(k)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",V=new fZ(G.E.Y);
V.data={d:G.U.z1,ca:"confirm"};V.data.h=w;V.data.Cn=function(){var V=new fZ(G.E.Y);V.data={d:G.U.ld};
this.c(V)}.bind(this);this.c(V)}}.bind(this),30*60*1e3);var x=this,D="",Z="";if(window.indexedDB&&(!bf.w$()||document.hasStorageAccess==null)){var z={qQ:window.indexedDB.open("pp",1)};
z.qQ.onupgradeneeded=function($){var k=$.target.result,w=k.createObjectStore("rsrc",{keyPath:"k"})};
z.qQ.onsuccess=function($){var k=x.Vt.v_.nZ=$.target.result,w=k.transaction(["rsrc"],"readwrite").objectStore("rsrc"),V=w.get("fs0");
V.onsuccess=function($){if($.target.result){var h=x.Vt.v_.zU=$.target.result.fset;for(var l in h){if(!l.endsWith(".jsx"))gC.sr({url:l,ae5:!0},h[l],x)}}}}}var A=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],o=I.nS[dr.Rx][dr.vE];
for(var F=0;F<A.length;F++){var i=I.ei(A[F]);if(o.indexOf(i)!=-1){var L=I.nS[dr.Rx][dr.Uy],B=I.ei("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
I.Uv(L);L[dr.a8I]=B;return}}this.T={arg:[{k:Q.WQ,YW:!1,PD:[bJ.acX,bJ.aU]},{k:Q.RF,YW:!1,PD:[bJ.aU]},{k:Q.eV,YW:!0,PD:[bJ.RI],Sl:[Q.Dy]},{k:Q.Dy,YW:!0,PD:[bJ.RI],Sl:[Q.eV]},{k:Q.US,YW:!0,PD:[bJ.RI],Sl:[Q.n7,Q.TW,Q.bB]},{k:Q.n7,YW:!0,PD:[bJ.RI],Sl:[Q.US,Q.Ck,Q.Mf,Q.lj,Q.hI,Q.fe]},{k:Q.ah,YW:!0,PD:[bJ.RI]}],i1:[[{k:new Q.R7,Ne:eK},{k:new Q.tJ,Ne:au}],[{k:new Q.bT,Ne:gS},{k:new Q.Ks,Ne:iS}],[{k:new Q.p1,Ne:fz},{k:new Q.Py,Ne:ik},{k:new Q.ZE,Ne:cQ}],[{k:new Q.xr,Ne:aZ},{k:new Q.LI,Ne:hg},{k:new Q.kX,Ne:iy}],[{k:new Q.ux,Ne:er},{k:new Q.q6,Ne:dM},{k:new Q.wV,Ne:gm},{k:new Q.p_,Ne:dv}],[{k:new Q.S5,Ne:fF},{k:new Q.ap,Ne:ec}],[{k:new Q.zo,Ne:ih},{k:new Q.sG,Ne:dd},{k:new Q.z7,Ne:hx},{k:new Q.agF,Ne:gA},{k:new Q.Hg,Ne:jq}],[{k:new Q.hx,Ne:j8},{k:new Q.xZ,Ne:bV},{k:new Q.FA,Ne:a3}],[{k:new Q.hl,Ne:bL}],[{k:new Q.cr,Ne:j3},{k:new Q.V1,Ne:a6}],[{k:new Q.Bx,Ne:ai},{k:new Q.Nl,Ne:cm}],[{k:new Q.Yz,Ne:bx},{k:new Q.Ld,Ne:fQ},{k:new Q.LJ,Ne:eC}],[{k:new Q.Wc,Ne:gq},{k:new Q.h7,Ne:ja},{k:new Q.tG,Ne:gO}],[{k:new Q.FK,Ne:kf},{k:new Q.vy,Ne:kf}],[{k:new Q.nL(0),Ne:da},{k:new Q.it,Ne:eb},{k:new Q.nL(1),Ne:da}],[{k:new Q.ol,Ne:af},{k:new Q.VY,Ne:hp}],[{k:new Q.Rect,Ne:gI},{k:new Q.sq,Ne:i5},{k:new Q.d9,Ne:dq},{k:new Q.jS,Ne:hr},{k:new Q.rI,Ne:fX}],[{k:new Q.TC,Ne:dE},{k:new Q.n3,Ne:iJ}],[{k:new Q.jO,Ne:ci}]],Hk:[],keys:[bJ.fn,bJ.Iv,bJ.KI,bJ.OE,bJ.aD,bJ.Ti,bJ.Om,bJ.Hu,bJ.kb,bJ.E,bJ.jL,null,bJ.Z_,bJ.AT,bJ.nA,bJ.U,bJ.yt,bJ.Ao,bJ.CK],Fp:[{k:new Q.auF,Ne:fr},{k:new Q.a2f,Ne:dw},{k:new Q.ape,Ne:fx},{k:new Q.S5(!0),Ne:fF},{k:new Q.wT,Ne:i2}],o6:[{k:new Q.J3},{k:new Q.History},{k:new Q.kG},{k:new Q.PG},{k:new Q.aW},{k:new Q.O$}],map:{},xq:null,pB:null,Es:null};
for(var F=0;F<this.T.i1.length;F++){var j=this.T.i1[F];if(j=="---")continue;var a=this.T.keys[F];for(var b=0;
b<j.length;b++){this.T.map[j[b].k.id]=j[b];j[b].m1=F;j[b].auK=b;var W=kc.get(j[b].k.name);Z+="<li>"+j[b].k.id+": "+W+"</li>";
D+="\t"+JSON.stringify(j[b].k.name)+", "+(a?"\""+a.i_+"\"":"null")+", "+j[b].k.id+", // "+W+"\n"}this.T.Hk[F]=0}for(var F=0;
F<this.T.Fp.length;F++)this.T.map[this.T.Fp[F].k.id]=this.T.Fp[F];for(var F=0;F<this.T.o6.length;F++)this.T.map[this.T.o6[F].k.id]=this.T.o6[F];
this.Vt={aef:!1,YC:null,bW:0,I9:{xn:[],U0:[],list:[],oJ:null},hE:[],asg:[],Po:[],df:[],UB:[],aaI:[],acg:[],a0W:[],WZ:[dF.d6()],Pq:[],vM:[],M3:null,ma:0,od:{ks:1,Kb:JSON.parse(JSON.stringify(gN.Xl[0]))},YK:JSON.parse(JSON.stringify(gN.J9.default)),aqT:[null].concat(gN.Xl),aph:[null].concat(gN.Xl),P2:new j2(function($){var k=new fZ(G.E.Y,!0);
k.data={d:G.U.gk,Hl:{url:"rsrc/fonts/"+$}};this.c(k)}.bind(this)),u5:{Cr:[],i8:null,tl:null},font:null,L7:[],VJ:16711680,GN:0,TS:!1,c4:!0,gw:{sf:!0,TQ:!1,Y8:!0,Ds:!0,gp:!0,TY:!0,tq:20,Pv:0,r8:0,xI:0},rF:!0,TK:[!0,!0,!1,!0,!0],wL:[0,1,2,3,5,6,7,9,10,16,17,100],fY:1,yJ:!0,fh:{},Mc:!0,a7n:!1,compact:!1,_t:1,RH:!0,hS:null,v_:{aum:!1,aei:!1,zU:{},nZ:null},ana:0,a1P:null,jw:null,a3N:null,Qo:null};
this.a5e={G8:new av,wE:new iL};this.Vt.u5=am.aet();this.d0=new f9;this.uP=new bF;this.oS=new iK(this.T,!0);
this.gf=new jg;this.mA=new aU(this);this.KW=I.z("div");this.e3=!1;this.sX=this.ah5.bind(this);I.ho(this.mA.e,"mainblock");
this._B.parent=this.d0.parent=this.uP.parent=this.oS.parent=this.gf.parent=this.mA.parent=this;this.mA.W(G.E.o,this.gc,this);
this.mA.W(G.E.X9,this.axg,this);this.mA.W("shuffleItems",this.aq$,this);this.mA.W(G.E.af_,this.apm,this);
this.W("mouse",this.anM,this);this.W(G.E.r,this.A1,this);this.W(G.E.rm,this.a6j,this);document.body.addEventListener("keydown",this.JX.bind(this),!1);
window.addEventListener("keyup",this.MO.bind(this),!1);window.addEventListener("paste",this.a21.bind(this),!1);
window.addEventListener("copy",this.a9E.bind(this),!1);window.addEventListener("wheel",function($){if($.ctrlKey)$.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function($){if(window.innerWidth>400)$.preventDefault();
this.Vt.hS=$}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function($){if($.afk){console.log("Service worker installing")}else if($.apU){console.log("Service worker installed")}else if($.active){console.log("Service worker active")}}).catch(function($){console.log("Registration failed with "+$)})}this.Rj=0;
this.qS=[];this.t1=new gC(a2.sr);this.t1.parent=this;var c=this.a9,Y=this.wm=I.z("div");Y.appendChild(this.d0.e);
Y.appendChild(this.uP.e);this._B.a5l(Y);var R=this.a3V=I.z("div","flexrow");c.appendChild(R);R.appendChild(this.oS.e);
R.appendChild(this.mA.e);R.appendChild(this.gf.e);this.t1.AY({url:"rsrc/basic/basic.zip"});this.EP(Q.ah);
eP.m7(this.ap3.bind(this))}hH.prototype=new cs(!0);hH.prototype.LY=function(x){var z=new fZ(G.E.Y);z.data={d:G.U.pS,Hl:x?x:"done"};
this.c(z)};hH.prototype.ap3=function(){I.nS[dr.q$](this.afB.bind(this),Math.pow(Math.PI,8)+I.nS[dr.apo][dr.ae1]()*1e4);
var x=eP.MG();if(x!=null&&x.globals!=null)this.Nw(x.globals);else{this.aiy=!0;var z=navigator.languages;
if(z&&z.length!=0){var A=z[0];kc.SK(A,this.sX)}}if(!this.HV()){var o=I.a55();if(o==0)this.a7n=!0;if(o==2)this.Vt.Mc=!1;
if(o!=1&&Math.random()<.002)I.a00()}if(!bf.w$()||!this.Vt.Mc){this.awS();this.Rz()}else{var i=I.qm(I.nS[dr.dK]);
i[dr.C6](dr.D9,this.akQ.bind(this));i[dr.a8](I.y2("61="),I.y2("_MYOqDLGJa;A:6"));i[dr.mN]()}this.MS=!0;
this.LY()};hH.prototype.akQ=function(x){var z=JSON.parse(x.target[dr.vp]),A=I.nS[dr.fW][dr.ae$]()/1e3,o=I.nS[dr.Rx][dr.vE],i=!1;
for(var L in z)if(L.indexOf(".")!=-1&&o.indexOf(L)!=-1&&parseInt(z[L])>A)i=!0;if(i)this.Vt.Mc=!1;this.awS();
this.Rz()};hH.prototype.Rz=function(x){this.PW=!0;if(!this.Vt.RH)this.mA.RH=null;else this.mA.a5p();
this.qB(cu._j);this.N();this.H2();this.gf.N_(this.Bm(),this.qS,this.Vt)};hH.prototype.Nw=function(x){var z=this.Vt;
if(x.fcolor!=null)z.VJ=x.fcolor;if(x.bcolor!=null)z.GN=x.bcolor;if(x.rulers!=null)z.TS=x.rulers;if(x.extras!=null)z.c4=x.extras;
if(x.favFam!=null)z.L7=x.favFam;if(x.font!=null)z.u5.Cr[0].Name=x.font;if(x.panels!=null)z.wL=x.panels;
if(x.as!=null)z._t=x.as;if(x.eparams){var A=x.eparams,o=z.gw;if(A.guides!=null)o.sf=A.guides;if(A.grid!=null)o.TQ=A.grid;
if(A.gsize!=null)o.tq=A.gsize;if(A.gunits!=null)o.Pv=A.gunits;if(A.gtype!=null)o.r8=A.gtype;if(A.runits!=null)o.xI=A.runits;
if(A.sels!=null)o.Y8=A.sels;if(A.paths!=null)o.Ds=A.paths;if(A.pgrid!=null)o.gp=A.pgrid;if(A.slices!=null)o.TY=A.slices}if(x.lang!=null)kc.SK(x.lang,this.sX);
if(x.theme!=null)z.fY=x.theme;if(x.topt||z.FN){var i=x.topt?x.topt:{},L=z.FN?z.FN:{};for(var B in this.T.map){if(B>=100)continue;
var D="t"+B;if(i[D]||L[D])this.T.map[B].k.Qc(i[D],L[D],this)}}};hH.prototype.awS=function(){if(this.Vt.aef)return;
this.Vt.aef=!0;var x=null,z=window.location.href,A=z.indexOf("="),o=z.indexOf("#");if(A!=-1)x=z.substring(z.indexOf("?")+1,A);
if(o!=-1&&o!=z.length-1){x="p";A=o}if(o!=-1&&z[o+1]=="i"){this.t1.Vw(z.slice(o+2))}else if(o!=-1&&z[o+1]=="t"){this.t1.Vw(z.slice(o+2).split("").reverse().join(""),!0)}else if(x=="p"||x=="state"){var i=z.substring(A+1,z.length);
i=JSON.parse(decodeURI(i));if(x=="p"){if(i.script)ah.aea();if(i.server)this.lY=i.server;if(i.resources)for(var F=0;
F<i.resources.length;F++)this.t1.AY({url:i.resources[F]});if(i.files)for(var F=0;F<i.files.length;F++)this.t1.AY({url:i.files[F],Ra:{UR:i.server,aiV:i.script}});
var L=i.environment;if(L==null)L={};if(L.plugins!=null)this.gf.aaU(L.plugins);if(L.localsave!=null)this.Vt.yJ=L.localsave;
if(L.customIO!=null)this.Vt.fh=L.customIO;if(L.vmode!=null){var B=L.vmode;if(B==1)this.Vt.compact=!0;
if(B==2)this.LC(1)}if(L.intro!=null)this.Vt.RH=L.intro;if(L.menus!=null)this.Vt.al7=L.menus;if(L.tmnu!=null)this.Vt.FN=L.tmnu;
if(L.panels!=null)this.Vt.wL=L.panels;if(L.showtools!=null){var D=L.showtools,Z=D.indexOf(this.Vt.YC);
this.Vt.bX=D;if(Z==-1)this.EP(D[0])}if(L.phrases!=null)kc.a6s(L.phrases);if(L.autosave!=null){this.Vt._t=0;
window.setInterval(function(){var b=new fZ(G.E.Y);b.data={d:G.U.ld};this.c(b)}.bind(this),L.autosave*1e3)}if(L.icons!=null){for(var j in L.icons)if(L.icons[j].indexOf("\"")==-1){PIMG[j]=L.icons[j];
PIMG["__"+j]=!0}}this.Nw(L);if(i.files==null&&i.script){dx.Nz(i.script,this);this.LY()}}else if(x=="state"){var a=this.t1;
if(i.action=="create"){var b=new fZ(G.E.Y);b.data={d:G.U.z1,ca:"newproject",amo:i.folderId};this.c(b)}if(i.action=="open"){for(var F=0;
F<i.ids.length;F++)g1.pZ(function(){var c="https://www.googleapis.com/drive/v3/files/"+this.a2M,Y=new XMLHttpRequest;
Y.open("GET",c);Y.setRequestHeader("Authorization",g1.oB());Y.send();Y.onload=function(R){var $=JSON.parse(R.target.response);
a.AY({url:c+"?alt=media",name:$.name,yV:{file:$,AK:""},LN:{Authorization:g1.oB()}})}}.bind({a2M:i.ids[F]}));
alert("Loading files from Google Drive ...")}}}else{var W=window.launchQueue;if(W){var a=this.t1;W.setConsumer(function(c){var Y=c.files;
console.log(Y);for(var F=0;F<Y.length;F++){var R=Y[F];R.getFile().then(function($){a.Xj([$],null,null,null,[R])})}})}}};
hH.prototype.N=function(){var x=document.getElementById("cap"),z=window.innerWidth<500;if(x){var A=x.getElementsByTagName("h1")[0],L=0,D=0,Z=0;
A.textContent=z?"Photopea":kc.get([0,17,0]);var o=x.getElementsByTagName("p"),i=I.xx(kc.get([0,17,1])),B=["PSD","XCF","Sketch","XD","CDR"];
for(var F=0;F<B.length;F++)i=i.replace(B[F],"<b>"+B[F]+"</b>");if(!z)i+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
o[0].innerHTML=i;i=kc.get([0,17,2])+" "+kc.get([0,17,3]);for(var F=0;F<i.length;F++){var j=i[F];if(j=="<")D++;
if(j==">")Z++}if(!z&&D*Z==9){var a=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var F=0;F<3;F++){var b=i.indexOf("<",L),W=i.indexOf(">",L),c=i.slice(0,b)+"<a href=\""+a[F]+"\" target=\"_blank\">"+i.slice(b+1,W)+"</a>";
L=c.length;i=c+i.slice(W+1)}o[1].innerHTML=i}else o[1].innerHTML=kc.get([0,17,2])}var Y=document.getElementById("sponsors");
if(Y)Y.textContent=kc.get([0,17,4]);this._B.N();this.d0.N();this.gf.N();this.oS.N();this.KV.N();this.mA.N();
for(var R in this.T.map)if(this.T.map[R].Ii)this.T.map[R].Ii.N()};hH.prototype.HV=function(){return I.nS[dr.Sy][dr.NM].indexOf("")!=-1};
hH.prototype.a0=function(x,z){x=Math.floor(x);z=Math.floor(z);var A=I.y2("WUMK&AM"),o=dr.p3,i=I.nS[dr.Rx],L=Math.max(x,window.screen.width),B=Math.max(z,window.screen.height),a=0;
if(this.Yt==null)this.Yt=Math.min(L,B)<500||L<750?0:L<1600?1:2;var D=this.Yt,Z=!this.PW||this.HV()||!this.Vt.Mc||eP.sv()||D==0;
if(!Z&&bf.w$()){if(this.ali==null)this.ali=Math.random()<.5;Z=this.ali}if(Z){if(D!=0&&I.nS[A]&&this.PW)I.nS[A]()}else{if(D==0)z-=60;
else x-=D==1?180:320}cs.prototype.a0.call(this,x,z);if(Z&&this.e3){this.e[dr.Lh](this.KW);I.Uv(this.KW);
this.e3=!1}if(!Z&&!this.e3){var j=function(c){if(Math.random()<.002){eP.event(bf.V7()?"gota_0":"gota_1")}this.a53(x,z);
var Y=D==0?i[dr.Uy]:this.e;Y.appendChild(this.KW);this.KW[dr.pv](o,I.y2("_MMJLNDfKCAg")+(D==0?10:10)+I.y2("_d$ebOS?I:==Ba-+# }$M"));
this.KW[o][I.y2("_MMJLND&<:E")]=(D==0?0:19)+I.y2("_d");this.KW[o][I.y2("i5WJHX")]=D==0?0:1}.bind(this);
bf.adf(j);this.e3=!0}if(I.gX(this.d0.e))a+=31;if(I.gX(this.uP.e))a+=32;this._B.anS=this.Vt.Mc&&this.PW;
this._B.a0(x,a);var b=z-a,W=I.y2("_d");this.KW[o][dr.aqO]=(D==0?100>>>1:z-11)+W;this.KW[o][dr.vk]=(D==0?x:6*Math.pow(10,2))+W;
this.oS.a0(x,b);this.gf.a0(x,b);this.mA.a0(x-this.oS.pq()-this.gf.pq(),b)};hH.prototype.a53=function(x,z){var A=function(){var o=new fZ(G.E.Y);
o.data={d:G.U.z1,ca:"account"};this.c(o)}.bind(this);bf.a3v(x,z,this.KW,A,this.Yt)};hH.prototype.a9E=function(x){console.log("systemCopy")};
hH.prototype.a21=function(x){if(I.dJ())return;console.log("systemPaste");if(!x.clipboardData)return;
var z=x.target.tagName.toLowerCase(),A=x.clipboardData.items;if(A==null)return;var o=this.a5o.bind(this);
for(var F=0;F<A.length;F++){var i=A[F],L=i.getAsFile();if(i.type.indexOf("text")!=-1){i.getAsString(this.aaT.bind(this))}if(i.type.indexOf("image")!=-1){if(L.size==this.Vt.ana)return;
this.Vt.ana=L.size;if(L){L.name="image.png";this.t1.Xj([L],o)}}}};hH.prototype.aaT=function(x){if(x.startsWith("http")){if(x==this.Vt.aqi)return;
this.Vt.aqi=x;var z=new fZ(G.E.Y,!0);z.data={d:G.U.gk,Hl:{url:x,Vz:!0}};this.c(z)}};hH.prototype.a5o=function(x,z){var A={buffer:x,rect:z},o=this.Vt;
if(I.dJ()){var i=this.a5e,L=i.G8;if(L.m==z.m&&L.n==z.n){A.rect=L;A.wE=i.wE}}else{if(o.jw){var B=new fZ(G.E.r,!0);
B.k=Q.xa;B.data={d:"h_stepbck"};this.c(B)}}o.jw=A;var B=new fZ(G.E.Y,!0);B.data={d:G.U.D5,a96:!0};this.c(B)};
hH.prototype.aqz=function(){if(this.KV.g5()!=null)alert(kc.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
hH.prototype.A1=function(x){var z=this.Bm();if(z==null){alert(kc.get([15,7,7]));return}var A=x.k==Q.RF||x.k==Q.WQ;
if(this.KV.wn()&&x.cx!=!0&&!A){this.aqz();return}var o=this.T,i=this.Vt.YC,L=x.k;if(L==Q.Mb&&i==Q._Q)L=Q._Q;
if(i!=L&&o.map[i].k.wn()&&!A&&!(i==Q.qW&&L==Q.qI)){console.log("disabling",i);o.map[i].k.disable(z,this,this.Vt,this.x7)}var B=this.T.map[L].k;
B.A1(x.data,this,z,this.x7,this.Vt)};hH.prototype.a6j=function(x){var z=this.Vt;if(x.data._g!=!0)jd.adg({zR:x.data.zR,k7:x.data.k7},this,z,this.Bm());
var A=z.M3,o=z.vM;if(A==null)return;var i={a9W:!1,j$:"Step",av4:0,K:!0,exp:!1,zR:x.data.zR};if(A[2]==null)A[2]=o[A[0]].VK[A[1]].VK.length-1;
if(x.data.k7)i.k7=x.data.k7;o[A[0]].VK[A[1]].VK.splice(A[2]+1,0,i);A[2]++;this.qB(cu.r)};hH.prototype.Wq=function(x){if(this.a7n){x.data=0;
return x.type}cs.prototype.Wq.call(this,x);var z=x.data.d;if(z==G.U.wC)jd.aiQ(this.Bm(),this.Vt.vM,x.data.s5[0],x.data.s5[1],this);
if(z==G.U.a7U){this.aiD(x.data.awD)}if(z==G.U.aun){this.N();this.H2()}if(z==G.U.Bu)this.H2();if(z==G.U.a7l)if(this.Vt.hS){this.Vt.hS.prompt();
this.Vt.hS=null}if(z==G.U.sy)this.mA.lf(x.data.OU,x.data.push);if(z==G.U.apA)this.mA.a48();if(z==G.U.a8F)this.gc(null,x.data.dir);
if(z==G.U.S8)this.mA.Jo(this.qS.indexOf(x.data.QW));if(z==G.U.ZS){if(x.data.GV&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(x.data.h!=null)this.LC(x.data.h)}if(z==G.U.auM){if(x.data.z0)this.x7.r4(x.data.a7d);
else this.x7.eU(x.data.a7d);this.R0(x.data.z0?"down":"up")}if(z==G.U.Tu){var A=this.Bm(),o=A.MK().slice(0),i=A.g[A.f[0]],L=new av(0,0,A.m,A.n),B=ew.Fs()+"-d71c-11e5-b1ae-a548a96e5f9f",D=new fZ(G.E.Y,!0);
if(x.data.Hl==0){var Z={name:A.name.split(".")[0],id:B,zH:[o,L]};D.data={d:G.U.nF,Ra:"add",Hl:cu.bq,Cy:[Z]};
this.c(D)}if(x.data.Hl==1){var j=f.C(L.$()*4);f.OD(j,4294967295);f.q.lx("norm",o,L,j,L,L,1);var a=f.C(L.$());
f.wJ(j,a);f.Qs(a);var b=f.mI(a,L);if(b.WT())b=L;var W=f.C(b.$());f.K5(a,L,W,b);var c=f.C(b.$()*4);f.c8(W,c,3);
var Y={G8:b,id:B,zH:[c,b]},R=bz.K2(B),$=R.Brsh.v;$.Dmtr.v.val=b.m;$.Spcn.v.val=10;D.data={d:G.U.nF,Ra:"add",Hl:cu.s7,Cy:{list:[{t:"Objc",v:R}],U0:[Y],xn:[]}};
this.c(D);D.data={d:G.U.nF,Hl:cu.jn,Zj:R};this.c(D)}if(x.data.Hl==2){var k=A.Dd(),w=k[0][k[1][0]],V={$U:i.getName(),nE:B,_:w.add.vmsk.clone()._},h=f.J.BH(V._),l=new cb(h.m,0,0,h.n,h.x,h.y);
l.Qs();f.J.ox(V._,l);h.x=h.y=0;V.MV=h.clone();D.data={d:G.U.nF,Ra:"add",Hl:cu.lb,Cy:[V]};this.c(D)}}if(z==G.U.gk)this.t1.AY(x.data.Hl);
if(z==G.U.vP){var M=x.data.a8k;if(M!=!0&&this.ao("open"))return;this.t1.aul(M?this.mA.Xd():null,x.data.anl)}if(z==G.U.G2){var q=x.data.ad2,t=x.data.VF,p=this.LZ(q);
if(t){var _=q==cu.s7,S=[];for(var F=0;F<t.length;F++)S.push((_?p.list:p)[t[F]]);p=_?{xn:p.xn,U0:p.U0,list:S}:S}if(q==cu.X1){var L=new ew;
for(var F=0;F<p.length;F++){var y=p[F].tz.Lefx;if(y)ct.ahf(y,L,this.Vt.UB)}p={mm:L.add.Patt?L.add.Patt:[],I6:p}}if(q==cu.E1){var v=this.Vt.I9;
p={U0:[],xn:[],list:p};console.log(p)}if(q==cu.r)p=p[x.data.ns];var r=cu.Ek[q],o=r[2].aM(p);gC.save(o,r[1]+"."+r[0])}if(z==G.U.t2){var K=this.Vt.v_,s=x.data.a2s;
if(K.nZ&&!K.aum&&!s){K.aei=window.confirm("Load \""+x.data.ts+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
K.aum=!0}if((K.aei||s)&&K.nZ){K.zU[x.data.ts]=x.data.cZ;var D=new fZ(G.E.Y);D.data={d:G.U.nF,Hl:cu.Zz};
this.c(D)}}if(z==G.U.a3R){var A=this.Bm(),X="<!DOCTYPE HTML>";if(A==null)return;var P=iF.Cx(A.MK().buffer,A.m,A.n),d=window.open();
X+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";X+="<body><img src=\""+P+"\" /></body>";
X+="</html>";d.document.write(X)}if(z==G.U.e8){if(this.ao("publishOnline"))return;var U=x.data.a5!="psd",A=this.Bm();
if(A==null)return;if(!U&&A.KY)return;var n="Your picture will be published at "+(U?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!U)n+=" We guarantee 6 months of storage (or more, if your file is opened often).";var e=x.data.Tn?!0:confirm(n);
if(e){if(!U){var D=new fZ(G.E.r,!0);D.k=Q.xu;D.data={d:g.Hb};this.c(D);var J=new av(0,0,A.m,A.n);for(var F=0;
F<A.g.length;F++){var i=A.g[F];if(i.rect.WT()||i.Q0()||i.dP()||i.N8()||i.d8()||i.add.TySh||i.add.vmsk||i.add.SoLd)continue;
var C=J.tE(i.rect);if(!C.S0(i.rect)&&!C.WT()){var H=f.C(C.$()*4);f.mV(i.buffer,i.rect,H,C);i.buffer=H;
i.rect=C}if(!f.EK(i.buffer,i.rect.m,i.rect.n))continue;var u=i.Gi(),bc=i.opacity,jK=i.Cz,N=i.fG;i.uO(!0);
i.opacity=255;i.Cz="norm";A.f=[F];D.data={d:g.$o,a5:"jpg"};this.c(D);var he=A.g[F];i.uO(u);he.uO(u);
i.opacity=he.opacity=bc;i.Cz=he.Cz=jK,i.fG=he.fG=N}}if(A.H_){A.or()}var gJ=A.m,kg=A.n,cJ=x.data.ahI,it;
if(cJ)while(Math.max(gJ,kg)>cJ){gJ=gJ>>>1;kg=kg>>>1}console.log(gJ,kg);if(x.data.a5=="psd")it=iF.XO(A,"psd",0,0,[!0,!0,!0]);
else if(x.data.a5=="png")it=iF.XO(A,"png",gJ,kg);else{var by=iF.XO(A,"png",gJ,kg),cz=iF.XO(A,"jpg",gJ,kg);
it=by.byteLength<cz.byteLength?by:cz}if(U)gC.a2h(it,x.data.Tn);else this.t1.aqN(it,A.name,x.data.Tn)}}if(z==G.U.ld){var A=this.Bm(),fG=!1;
if(A==null)return;if(A.H_){A.or()}if(x.data.tg){if(!this.o_(A,x.data.tg))return;var o=a2.a1o(A,x.data.tg,this.Vt);
this.LY(o);fG=!0}else if(A.no){if(this.qS.indexOf(A.no.P0)!=-1){var o=new Uint8Array(iF.Lg("PSD").ys(A,null,null,[!0,!1])),D=new fZ(G.E.r,!0);
D.data={d:g.GS,m5:A.no.P0,data:o,id:A.no.a9Q,W7:A.name};D.k=Q.xu;this.c(D);alert("Smart Object updated")}fG=!0}else if(this.ao("save")){fG=!0}else if(A.yV){a2.a6D(A);
fG=!0}else if(A.g1){a2.a8W(A);fG=!0}else if(A.Ra&&A.Ra.UR){if(!this.o_(A,A.Ra.UR.formats))return;this.t1.adH(A,this.Vt,a2.a5w);
fG=!0}else if(A.Gn&&A.QE=="psd"){this.a4b();return}if(fG){A.Dx=A.pF;A.pO=Date.now();A.o$=!0}else{var D=new fZ(G.E.Y,!0);
D.data={d:G.U.Me};this.c(D)}}if(z==G.U.Me){if(!this.Vt.yJ){alert("function is disabled");return}if(this.ao("saveAsPSD"))return;
var A=this.Bm();if(A==null||A.KY)return;if(!this.o_(A))return;var D=new fZ(G.E.r,!0);D.data={d:g.Hb};
D.k=Q.xu;this.c(D);if(A.g.length>8e3&&!confirm("Your document has "+A.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var ju={u6:[]};A.root.auy([],ju);var gW=ju.u6;if(gW.length>11&&!confirm("One layer is nested "+(gW.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+gW.join(" \uD83E\uDC1A ")+"."))return;
var iI=window.showSaveFilePicker;if(window.parent!=window)iI=null;if(iI&&!x.data.a9k){var ht={suggestedName:A.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
iI(ht).then(function(x){A.Gn=x;A.name=x.name;A.Gy=!0;A.QE="psd";this.a4b()}.bind(this));return}var et=window.ga,be=I.ei("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(A.wz()&&et)et(be[0],be[1],be[2],A.QE+":"+I.ei(eP.sv()?"\"'|('61":"w'| "));if(A.H_){A.or()}var o=iF.Lg("PSD").ys(A);
if(x.data.a9k){this.aoO(o,A,this)}else{gC.save(o,A.name);A.Dx=A.pF;A.pO=Date.now();A.o$=!0}}if(z==G.U.OB)window.open(x.data.link,"_blank");
if(z==G.U.asa){if(this.KV.wn()){this.aqz();return}var A=this.Bm(),i=A.g[A.f[0]],c9=A.E3(i.add.SoLd.Idnt.v);
for(var F=0;F<this.qS.length;F++){var aJ=this.qS[F].no;if(aJ!=null&&aJ.a9Q==c9.mZ&&aJ.P0==A){this.mA.MM(F);
return}}gC.sr({name:c9.W7,no:{a9Q:i.add.SoLd.Idnt.v,P0:A}},c9.raw.buffer,this)}if(z==G.U.ah7){console.log(x.data);
gC.sr({name:x.data.g1[1].split("/").pop(),g1:x.data.g1},x.data.Mw,this)}if(z==G.U.a2H){var A=this.Bm();
A.g1=x.data.g1;A.name=A.g1[1].split("/").pop();var D=new fZ(G.E.Y);D.data={d:G.U.ld};this.c(D)}if(z==G.U.jN){this.atj()}if(z==G.U.Rv){this.ai4(x.data.JO,x.data.Zc,x.data.Qp)}if(z==G.U.D5){this.aaG(x.data.a96,x.data.MD,x.data.Qp)}if(z==G.U.aoU){var b6=x.data.h;
if(b6.startsWith("vcb;")){var ef=JSON.parse(b6.slice(4));ef[0]=dF.adI(ef[0]);var D=new fZ(G.E.r,!0);
D.k=Q.n7;D.data={d:"append",_4:"Paste Paths",abN:ef};this.c(D)}else if(b6.startsWith("lrs;")){var jV=b6.split(";"),hu=this.qS[parseInt(jV[1])];
if(hu==null)return;var eG=this.Bm(),k8=hu.f;hu.f=JSON.parse(jV[2]);var eE=hu.mW(null,hu!=eG),D=new fZ(G.E.r,!0);
D.data={d:g.e0,g:eE,P0:hu,qT:eG};D.k=Q.xu;this.c(D);hu.f=k8}else if(b6.startsWith("<!--")||b6.startsWith("<svg")){var jD=m.zi(b6),a_=iF.Lg("svg"),L=new ew("image.psd");
a_.i0(jD.buffer,L);if(this.qS.length!=0){var cH=L.g;if(cH.length==3&&cH[0].getName()=="</Layer group>"&&cH[2].Q0())cH=[cH[1]];
var D=new fZ(G.E.r,!0);D.k=Q.xu;D.data={d:g.e0,g:cH,P0:L,qT:this.Bm()};this.c(D)}else this.a1R(L)}}if(z==G.U.ep){dx.Nz(x.data.ZC,this)}if(z==G.U.pS){if(window.parent!=window)window.parent.postMessage(x.data.Hl,"*");
this.gf.A9(x.data.Hl)}if(z==G.U.NQ){var ic=parseFloat(x.data.ca);if(this.Vt.wL.indexOf(ic)==-1){var D=new fZ(G.E.Y,!0);
D.data={d:G.U.nF,Hl:cu.IF,h:ic,Ra:"add"};this.c(D)}this.gf.a8S(x.data.ca)}if(z==G.U.AM){this.we.ahU(this.Bm(),this.Vt)}if(z==G.U.z1){var aj="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var F=0;F<aj.length;F+=2)if(x.data.ca==aj[F]&&this.ao(aj[F+1]))return;if(!this.Vt.yJ&&x.data.window=="saveforweb"){alert("function is disabled");
return}this.KV.awh(x.data.ca,this.Bm(),x.data,this.qS,this.x7)}if(z==G.U.ex)gC.save(x.data.data,x.data.name);
if(z==G.U.du){if(!this.KV.wn()||x.cx)this.a1R(x.data.m5)}if(z==G.U.in){this.mA.MM(x.data.target);var D=new fZ(G.E.r,!0);
D.data={d:g.aeO,m5:x.data.m5,CR:x.data.CR,IP:x.data.IP};D.k=Q.xu;this.c(D);this.EP(Q.fT)}if(z==G.U.a6h){O.Id=!O.Id;
if(this.qS.length>0)this.Bm().i()}if(z==G.U.ahj){var ay=eP.MG();if(ay!=null&&ay.globals!=null)this.Nw(ay.globals);
this.Rz()}if(z==G.U.rt){this.t1.Xj(x.data.data,null,x.data.mf,x.data.l3,x.data.a57)}if(z==G.U.hV){if(!this.KV.g5()!=null)this.EP(x.data.k,x.data.uS);
if(x.data.a6x)this.aw().Xv(this.Bm(),this,this.Vt,this.x7,this.Ty)}if(z==G.U.Mq){if(this.T.xq)this.EP(this.T.xq)}if(z==G.U.At){var dS=this.T.map[x.data.k].k,A=this.Bm();
dS.Wr(x.data,this,A,this.x7,this.Vt);if(A)A.bg=!0;this.avF()}if(z==G.U.HU){var hC=this.T.map[x.data.k];
this.a9Y(hC);hC.Ii.X8(x.data)}if(z==G.U.nF){var A=this.Bm(),eq=x.data.Hl,ck=x.data.Cy,eL=this.Vt;if(x.data.Ra=="set"){var gj=Q.Al(ck);
if(eL.YC!=gj)this.EP(gj);this.T.map[gj].Ii.ahR(ck,eL)}if(x.data.Ra=="add"){var r=cu.Ek[eq];if(eq==cu.IF){eL.wL.push(x.data.h);
eL.wL.sort(function(iO,hW){return iO-hW})}else if(r==null){if(ck)eL.P2.amX(ck,x.data.afL)}else{var bv=this.LZ(eq);
if(eq==cu.s7){bv.U0=bv.U0.concat(ck.U0);bv.xn=bv.xn.concat(ck.xn);bv=bv.list;ck=ck.list}if(eq==cu.X1&&A){for(var F=0;
F<ck.length;F++){var y=ck[F].tz.Lefx;if(y)ct.adc(y,A,eL.UB)}}if(eq==cu.E1&&ck==null){var L=this.T.map[eL.YC].Ii.aws();
if(L==null)return;ck=[L]}for(var F=0;F<ck.length;F++)bv.push(ck[F]);if(eq==cu.lb){var dK={};for(var F=0;
F<bv.length;F++){var cC=bv[F].$U;while(dK[cC]!=null)cC=bv[F].$U=cC+"X";dK[cC]=!0}}if(x.data.afL!=!0)if(bv.length!=ck.length||eq==cu.ZK||eq==cu.X1||eq==cu.r)alert(kc.get(r[3])+" "+kc.get([23,1])+".")}}if(x.data.Ra=="del"){if(eq==cu.IF){eL.wL.splice(eL.wL.indexOf(x.data.h),1)}else{var r=cu.Ek[eq],t=x.data.VF,bv=this.LZ(eq);
if(eq==cu.s7)bv=bv.list;for(var F=0;F<t.length;F++)bv[t[F]]=null;for(var F=0;F<bv.length;F++)if(bv[F]==null){bv.splice(F,1);
F--}alert(kc.get(r[3])+" deleted.")}}if(x.data.Ra=="rnm"){var r=cu.Ek[eq],bv=this.LZ(eq);if(eq==cu.s7)bv=bv.list;
if(bv[x.data.VF[0]]==null)return;r[2].Mp(bv[x.data.VF[0]],x.data.h)}if(eq==cu.NU){var iv=x.data.h;eL.od=iv;
eL.aqT[iv.ks]=iv.Kb}if(eq==cu.kp){var iv=x.data.h;eL.YK=JSON.parse(JSON.stringify(iv));var dJ=iv.strokeEnabled.v,km=iv.strokeStyleContent.v,aM=dJ?{ks:1+gN.J9.x6.indexOf(km.classID),Kb:km}:{ks:0};
eL.aph[aM.ks]=aM.Kb}if(eq==cu.xD){eL.ma=x.data.h}if(eq==cu.Qx){eL.u5=x.data.u5}if(eq==cu.jn){var H=JSON.parse(JSON.stringify(x.data.Zj)),fq=H.useBrushSize;
if(fq&&fq.v){H.Brsh.v.Dmtr.v.val=eL.I9.oJ.Brsh.v.Dmtr.v.val;fq.v=!1}eL.I9.oJ=H}if(eq==cu.bC){eL.L7=x.data.NI}if(eq==cu.NV){var dV,im="Clrs";
if(x.data.wa<2){var d8=x.data.h,cI=x.data.wa==0,gD=f.Q.Vv({w:d8>>>16,a:d8>>>8&255,s:d8&255});if(cI)eL.VJ=d8;
else eL.GN=d8;im=cI?"FrgC":"BckC";dV={zR:"set",k7:{__name:"Set",classID:"setd",T:{t:"Objc",v:gD}}}}if(x.data.wa==2){var iw=eL.VJ;
eL.VJ=eL.GN;eL.GN=iw;dV={zR:"exchange",k7:{__name:"Exchange",classID:"Exch"}}}if(x.data.wa==3){eL.VJ=0;
eL.GN=16777215;if(A!=null&&A.f.length!=0&&A.g[A.f[0]].ZD==1){var iw=eL.VJ;eL.VJ=eL.GN;eL.GN=iw}dV={zR:"reset",k7:{__name:"Reset",classID:"Rset"}}}if(dV){dV.k7.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:im}}]};
var hC=this.aw();hC.i7=this;hC.track(dV)}}if(eq==cu.gr){eL.TS=!eL.TS;this.H2()}if(eq==cu.Lu){eL.c4=!eL.c4;
this.H2()}var e3=eL.gw;if(eq==cu.ge){e3.Y8=!e3.Y8;this.H2()}if(eq==cu.VV){e3.Ds=!e3.Ds;this.H2()}if(eq==cu.ne){e3.sf=!e3.sf;
this.H2()}if(eq==cu.Su){e3.TQ=!e3.TQ;this.H2()}if(eq==cu.kh){e3.gp=!e3.gp;this.H2()}if(eq==cu.mX){e3.TY=!e3.TY;
this.H2()}if(eq==cu.MU){eL.gw=x.data.NI;this.H2()}if(eq==cu.aco){eL.rF=!eL.rF;this.H2()}if(eq==cu.Iw){eL.TK[x.data.op]=!eL.TK[x.data.op];
this.H2()}if(eq==cu.UN){kc.Qa(x.data.lang,this.sX)}if(eq==cu.DI){eL.fY=x.data.fY;this.N()}if(eq==cu.Zz&&eL.v_.nZ){var c5=eL.v_.nZ.transaction(["rsrc"],"readwrite").objectStore("rsrc"),eT=c5.put({k:"fs0",fset:eL.v_.zU});
eT.onerror=function(x){console.log(x);alert("Storing failed. Browser says: "+x.target.error.message,7e3)}}this.qB(eq)}};
hH.prototype.a4b=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.pj,_9:"Saving ..."};this.c(x);setTimeout(function(){var x=new fZ(G.E.Y,!0);
x.data={d:G.U.Me,a9k:!0};this.c(x)}.bind(this),20)};hH.prototype.aoO=function(x,z){z.Gn.createWritable().then(function(A){A.write(x);
return A}).then(function(A){return A.close()}).then(function(A){z.Dx=z.pF;z.pO=Date.now();z.o$=!0;var o=new fZ(G.E.Y,!0);
o.data={d:G.U.gt,_9:"Saving ..."};this.c(o)}.bind(this))};hH.prototype.ah5=function(){this.N();this.H2()};
hH.prototype.ao=function(x){var z=this.Vt.fh[x];if(z){var A=new fZ(G.E.Y,!0);A.data={d:G.U.ep,ZC:z};
this.c(A)}return z!=null};hH.prototype.o_=function(x,z){var A=!0,B=15;if(z){A=!1;for(var F=0;F<z.length;
F++)if(z[F].startsWith(I.y2("__M")))A=!0}var o=x.wz()||x.no&&x.no.P0.wz();if(this.HV())o=!1;var i=new I.nS[dr.fW],L=(i[I.ei("xy,b-66:")]()&1)*60+i[I.y2("VQ]3LNRN<G")]();
if(o&&!eP.sv()&&L>B&&A){var D=I.nS[I.ei("}$z{2*35")][I.ei("y'|!")],Z=I.y2("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
Z+="\n\n"+I.y2("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-L+120)+I.y2("nYRTXTBMd");
if(D.indexOf(I.ei("\"|'/-1)(W0?@"))==-1)Z=kc.get([0,11+6,3+2]);I.nS._cwY(Z);return!1}return!0};hH.prototype.LZ=function(x){var z=this.Vt,A=[cu.s7,cu.HF,cu.a6,cu.bq,cu.lb,cu.X1,cu.ZK,cu.r,cu.E1,cu.ra],o=[z.I9,z.Po,z.df,z.UB,z.WZ,z.Pq,z.aaI,z.vM,z.hE,z.asg];
return o[A.indexOf(x)]};hH.prototype.atj=function(){var x=this.ai4(),z=this.Bm();if(z==null||z.f.length==0)return;
var A=z.g[z.f[0]],o=new fZ(G.E.r);if(x==1){o.k=Q.n7;o.data={d:"remove",_4:"Cut Paths"}}else{o=new fZ(G.E.rm);
o.data={zR:"delete"}}this.c(o)};hH.prototype.ai4=function(x,z,A){if(x==null)x=!1;var o=this.Vt;console.log("doCopy",x,z);
var i=this.Bm();if(i==null||i.f.length==0)return;var L=i.g[z==null?i.f[0]:z],B=i.Dd(),D=B[0],Z=B[1],j=D[Z[0]];
if(!x&&j!=null&&j.add.vmsk.f.length!=0){var a=Q.YG.Lw(j.add.vmsk,j.add.vogk);if(I.dJ()){a[0]=dF.atQ(a[0]);
var b="vcb;"+JSON.stringify(a);gC.Tl(new Blob([b],{type:"text/plain"}))}else o.Qo=a;return 1}else if(i.O==null){if(I.dJ()){var b="lrs;"+this.qS.indexOf(i)+";"+JSON.stringify(i.f);
gC.Tl(new Blob([b],{type:"text/plain"}))}}else{var W,c;if(x){var Y=new av(0,0,i.m,i.n);c=Y.tE(i.O.rect);
W=f.C(c.$()*4);f.mV(i.MK(),Y,W,c);f.A5(i.O.channel,i.O.rect,W,c)}else if(i.CE.length!=0){c=i.O.rect.clone();
W=f.C(c.$()*4);var R=i.lX[i.CE[0]],$=R.$n(c);f.c3($,W);f.c8(i.O.channel,W,3)}else{var k=L.IZ(i,i.O);
if(k==null){alert("Copied area is empty");return}W=k.Mw;c=k.rect}var w=i.t.u1,V=w[0]+w[1]+w[2];if(V==1){var h=w.indexOf(1);
for(var F=0;F<W.length;F+=4)W[F]=W[F+1]=W[F+2]=W[F+h]}var l=new iL(i.m,i.n);if(I.dJ()&&A!=!0){var M=iF.Lg("PNG").arG(W.buffer,c.m,c.n);
gC.Tl(new Blob([new Uint8Array(M)],{type:"image/png"}));this.a5e={G8:c,wE:l}}else o.jw={buffer:W,rect:c,wE:l};
o.a1P=c.clone();o.Qo=null}};hH.prototype.aaG=function(x,z,A){if(z)this.af0=!0;console.log("doPaste");
var o=this.Vt,i=o.jw,Z;if(this.qS.length==0){if(!x&&I.dJ()){gC.jf(this,null);return}if(i){var L=iF.Q9("image.psd",[{data:i.buffer.buffer,xH:i.rect}]),B=new fZ(G.E.Y);
B.data={d:G.U.du,m5:L};this.c(B)}return}var L=this.Bm(),D=L.g[L.f.length==0?L.g.length-1:L.f[0]];if(o.Qo){var j=L.Dd(!0),a=j[0],b=j[1];
Z=a[b[0]]}var B=new fZ(G.E.r,!0);if(o.Qo!=null&&Z!=null){B.k=Q.n7;B.data={d:"append",_4:"Paste Paths",abN:o.Qo}}else if(!x&&I.dJ()&&A!=!0){gC.jf(this,this.a5o.bind(this));
return}else{if(i==null)return;if(L.Qi(!1)&&(L.t.u1.join("")!="111"||L.CE.length!=0||D.ZD>0||D.rect.WT())){B.k=Q.s7;
B.data={d:"draw",alG:!0,_4:[5,2]}}else{B.k=Q.xu;B.data={d:g.Cd,MD:this.af0};this.af0=!1}B.data.jw=i}this.c(B)};
hH.prototype.akp=function(){for(var F=0;F<this.qS.length;F++){var x=this.qS[F];if(!g3.a7G(x,this.Vt.P2,this))continue;
if(x.t$)g3.agu(x,this.Vt.P2,this);var z=x.add.lnk2;if(z)for(var A=0;A<z.length;A++){var o=z[A];if(o.t$)Q.J3.jR(x,o.mZ,o.da[1],o.da[1],this.Vt.P2)}if(x.ai3)continue;
x.ai3=!0;if(x.Ra&&x.Ra.aiV)dx.Nz(x.Ra.aiV,this);this.LY();var i=new fZ(G.E.r);i.k=Q.qI;i.data={d:"start",ET:"GEfc"};
var L=new fZ(G.E.Y);L.data={d:G.U.NQ,ca:c4.SU.UO};L.data={d:G.U.z1,ca:"saveforweb",a5:2}}};hH.prototype.qB=function(x){var z=this.Vt,A=z.YC,B=!1;
if(x==cu.jn){if(this.T.map[A].Ii)this.T.map[A].Ii.wB(z,x)}else for(var o in this.T.map)if(this.T.map[o].Ii)this.T.map[o].Ii.wB(z,x);
if(x==cu.Oc){if(A!=Q.Mb)this.T.map[Q.Mb].k.wB(z,x);this.akp()}this.mA.wB(z,x);this.oS.wB(z,x);this.KV.wB(z,x);
this.aw().wB(z,x);this.gf.wB(z,x);this.d0.wB(z,x);if(x==cu.DI||x==cu._j){jX.aiI(z.fY);this.update(!0)}var i=z.u5,L=i.i8.Font;
if(x==cu.Qx&&L!=null&&i.Cr[L].Name!=z.font){z.font=i.Cr[L].Name;B=!0}if([cu.IF,cu.bC,cu.NV,cu.gr,cu.Lu,cu.MU,cu.ne,cu.Su,cu.ge,cu.VV,cu.kh,cu.mX,cu.UN,cu.DI].indexOf(x)!=-1||B)this.avF()};
hH.prototype.avF=function(){if(!this.MS)return;var x={},z=this.T.map;for(var A in z){var o=z[A].k;if(o.wX&&o.wX()!=null)x["t"+A]=o.wX()}var i=this.Vt,L=i.gw,B={fcolor:i.VJ,bcolor:i.GN,rulers:i.TS,extras:i.c4,favFam:i.L7,panels:i.wL,eparams:{guides:L.sf,grid:L.TQ,sels:L.Y8,paths:L.Ds,pgrid:L.gp,slices:L.TY,gsize:L.tq,gunits:L.Pv,gtype:L.r8,runits:L.xI},lang:kc.gl(),theme:i.fY,as:i._t,topt:x};
if(i.font!=null)B.font=i.font;var D=eP.MG();if(D==null)D={};D.globals=B;eP.rb(D)};hH.prototype.MJ=function(x){var z=this.x7,A=this.Ty,o=this.Vt.YC,i=this.T.map[o].k,L=null,B=!1;
for(var F=0;F<this.T.arg.length;F++){var D=this.T.arg[F],Z=!0;for(var j=0;j<D.PD.length;j++){var a=D.PD[j];
if(!z.A(a))Z=!1}if(Z&&(!D.YW||!i.wn())&&(D.Sl==null||D.Sl.indexOf(o)!=-1)){L=D.k;B=D.YW;break}}if((!A.z0||o==Q.R6||x)&&this.T.pB!=L&&(L!=o||!B)){var b=this.Bm();
if(this.T.pB!=null&&L==null)this.aw().disable(b,this,this.Vt,z,!0);this.T.pB=L;this.aw().enable(b,this,this.Vt,z,L!=null&&L!=o)}};
hH.prototype.q3=function(x){var z=this.Vt.YC,A=this.Bm();if(z!=null){this.T.map[z].k.disable(A,this,this.Vt,this.x7)}};
hH.prototype.a9Y=function(x){if(x.Ii==null){x.Ii=new x.Ne;x.Ii.apk(x.k.id,x.k.jI);x.Ii.wB(this.Vt,cu._j);
x.Ii.N()}};hH.prototype.EP=function(x,z){if(x==Q.fT&&this.KV.g5())return;var A=this.Bm(),o=this.Vt;if(this.T.map[x].k.na(A,o)){this.q3();
if(x!=o.YC)this.T.xq=o.YC?o.YC:Q.ah;o.YC=x;this.oS.N_(this.T,this.Vt);var i=this.T.map[x];this.T.Hk[i.m1]=i.auK;
this.a9Y(i);this.uP.aoD(i.Ii);var L=i.k;L.enable(A,this,this.Vt,this.x7,!1,z);if(A)A.bg=!0;this.H2()}};
hH.prototype.aw=function(x){var z=this.T,A=z.Es,o=z.pB,i=this.Vt.YC;if(A)i=A;else if(o&&x==null)i=o;
return z.map[i].k};hH.prototype.a1R=function(x){var z=this.Vt,A=this.qS.indexOf(x);if(A!=-1){this.mA.MM(A);
return}if(this.lY&&(x.Ra==null||x.Ra.UR==null)){x.Ra={UR:this.lY}}if(x.Y_==null){x.Y_="local,"+this.anw+","+x.name;
this.anw++}x.pO=Date.now();if(bf.V7()!=0&&!this.aiy&&I.nS[I.ei("t$&!'31")].toString().indexOf(I.ei(" u,$4&"))==-1){alert(I.ei("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var F=0;F<x.g.length;F++){var o=x.g[F];if(o.add.SoLd!=null){var i=Date.now()}}var L=x.g.length,B=dr.LG(),D=Math.PI*(5465<<14)+(I.Pi(31)?20:10)*7e7;
if(B>D){var L=x.g.length;x.g=[];return L}if(O.Id)O.Bd(Math.max(x.m,x.n));x.GK();x.kW();if(x.alL)x.aoK();
else x.i();x.alL=!1;this.qS.push(x);this.mA.nJ(new bR(x));x.bg=!0;x.o$=!0;this.akp();var Z=new fZ(G.E.r);
Z.k=Q.v6;Z.data={d:"auto",RZ:2}};hH.prototype.Bm=function(){return this.qS[this.Rj]};hH.prototype.a4I=function(){return this.KV.g5()==null};
hH.prototype.gc=function(x,z){this.q3();var A=this.qS.length;if(z!=null)this.mA.MM((this.mA.Xd()+z+A)%A);
this.Rj=this.mA.Xd();var o=this.Bm();this.d0.atr(o,this.Vt);this.gf.N_(o,this.qS,this.Vt);this.H2();
if(o)o.bg=!0};hH.prototype.axg=function(x){this.q3();this.qS.splice(x.data.iQ,1);if(this.qS.length==0){this.gc(x);
if(O.Id)O.zG().parentNode.removeChild(O.zG())}};hH.prototype.aq$=function(x){var z=[],A=x.data.aam;for(var F=0;
F<A.length;F++)z[F]=this.qS[A[F]];this.qS=z;this.Rj=this.mA.Xd()};hH.prototype.apm=function(x){var z=this.mA,A=z.a6g(),o=this.aw(),i=this.Bm();
if(A==z.Xd()||!o.OA())return;this.aiD(A,o)};hH.prototype.aiD=function(x,z){console.log("dup2doc");var A=this.Vt,o=this.mA,i=this.Bm(),L=this.qS[x],B,D=new fZ(G.E.r,!0);
D.k=Q.xu;if(i.O==null){D.data={d:g.e0,g:i.mW(null,!0),P0:i,qT:L};this.c(D)}else B=i.g[i.f[0]].IZ(i,i.O);
var Z=this.Ty,j=A.TS;A.TS=!1;Z=i.t.Sd(Z.x,Z.y);if(z)z.g$(i,this,A,this.x7);o.MM(x);if(i.O){D.data={d:g.Cd,jw:{buffer:B.Mw,rect:B.rect}};
this.c(D)}Z=L.t.ay(Z.x,Z.y);Z.x+=49;Z.y+=112;if(z)z.Xv(L,this,A,this.x7,Z);A.TS=j};hH.prototype.anM=function(x){var z=this.Bm(),A=this.x7,o=this.Vt,i=x.Rr;
if(i)this.Ty=i;if(x.action.startsWith("multi")){var L=new fZ(G.E.r,!0);L.data={d:x.action,j0:x.j0};L.k=Q.WQ;
this.c(L);return}var B=this.T.map[Q.ah].k;if((x.action=="down"||x.action=="rdown")&&o.YC!=Q.ah&&this.T.pB!=Q.ah&&B.L5(z,this,o,A,i)){this.T.Es=Q.ah;
B.enable(z,this,o,A,!0)}if(x.action=="idown"){A.r4("Space");this.MJ(!0);x.action="down"}var D=this.KV.g5(),Z=D!=null&&D.Jb()&&this.T.pB==null?D:this.aw();
if(D!=null&&Z!=D&&this.KV.wn()&&Z.id!=Q.RF&&Z.id!=Q.WQ)return;if(x.action=="down")Z.Xv(z,this,o,A,i);
if(x.action=="rdown")Z.wK(z,this,o,A,i);if(x.action=="move")Z.Dg(z,this,o,A,i);if(x.action=="up"||x.action=="iup"||x.action=="cancellast")Z.V4(z,this,o,A,i,x.action=="cancellast");
if(x.action=="rup")Z.zD(z,this,o,A,i);if(x.action=="iup"){A.eU("Space");this.MJ(!0)}if(x.action=="cancellast"){if(z&&z.history.length!=0&&Date.now()-z.history[z.history.length-1].ain<200){var j=new fZ(G.E.r);
j.k=Q.xa;j.data={d:"h_stepbck"};this.c(j)}}var a=this.gf;if(x.action=="down")a.Xv(z,this,o,A,i);if(x.action=="move")a.Dg(z,this,o,A,i);
if(x.action=="up")a.V4(z,this,o,A,i);if(x.action=="down"||x.action=="up"){this.MJ()}if(x.action=="down"||x.action=="up"||x.action=="ctx"){z.bg=!0}if((x.action=="up"||x.action=="rup")&&this.T.Es){this.T.Es=null;
B.disable(z,this,o,A)}if(x.action=="scroll"){var b=!A.A(bJ.RI)&&x._c,L=new fZ(G.E.r,!0);L.data={d:"scroll",I0:x.I0.clone(),Rr:i};
L.k=A.A(bJ.yU)||b?Q.WQ:Q.RF;this.c(L)}};hH.prototype.ZN=function(x){var z=this.Bm(),A=this.Ty;if(z&&this.aw().V5(A,this.x7)){var o=z.t,i=o.VK.m,L=o.VK.n,B=0,D=0,Z=16;
if(A.x<Z)B=Z-A.x;if(A.x>i-Z)B=A.x-(i-Z);if(A.y<Z)D=Z-A.y;if(A.y>L-Z)D=A.y-(L-Z);var j=this.x7.A(bJ.xb)?8:1;
if((B!=0||D!=0)&&(z.m*o.X>i||z.n*o.X>L)){B=Math.min(5,B*.5)*j;D=Math.min(5,D*.5)*j;if(!(A.x<Z||A.y<Z)){B=-B;
D=-D}o.u.x+=B;o.u.y+=D;this.anM({Rr:this.Ty,action:"move"});z.Gy=!0}}this.update()};hH.prototype.update=function(x){var z=this.Bm();
if(z==null)return;if(z.bg){var A=this.T.map;for(var o in A){if(A[o].k.Nu)A[o].k.Nu(z,this,this.Vt,this.x7)}}if(z.H_)if(O.Id)O.Bd(Math.max(z.m,z.n));
if(z.H_){z.or()}var i=z.t,L=this.rV,B=this.rV=Date.now();if(z.H_||z.I3||z.o$||z.Gy||x||i.tK!=i.X||!i.m8.S0(i.u)){var D=i.tK;
if(i.tK!=i.X){var Z=Q.jO.amQ(i.X,i.tK>i.X),j=.12;if(i.tK<i.X&&i.tK<Z)i.tK=Z;if(i.tK>i.X&&i.tK>Z)i.tK=Z;
var a=Math.abs(i.X-Z)*(B-L)*.001/j;if(i.tK<i.X)i.tK=Math.min(i.X,i.tK+a);else i.tK=Math.max(i.X,i.tK-a)}var b=D==i.X?0:(i.tK-i.X)/(D-i.X);
i.m8.x=i.u.x+b*(i.m8.x-i.u.x);i.m8.y=i.u.y+b*(i.m8.y-i.u.y);this.mA.wB(this.Vt,null);this.mA.N_(z,this.qS)}if((z.H_||z.Gy||z.bg)&&(!this.Ty.z0||z.dv)){if(z.bg)z.kW();
this.gf.N_(z,this.qS,this.Vt);this.oS.ats(z,this.x7);z.We=!1}z.dv=!1;z.bg=!1;z.H_=null;z.I3=z.o$=z.Gy=!1};
hH.prototype.JX=function(x){var z=x.target.tagName.toLowerCase(),A=x.target.getAttribute("type"),o=bJ,i=o.gY(x.code,o.oN);
if(!((z=="input"||z=="select"||z=="button")&&o.gY(x.code,o.MT))){if(o.pK(x)){x.preventDefault()}this.x7.r4(o.xP(x));
this.R0("down")}};hH.prototype.MO=function(x){if(x.key==" ")this.x7.qf();if(bJ.gY(x.code,bJ.Aa))this.x7.reset();
this.x7.eU(bJ.xP(x));var z=x.target.tagName.toLowerCase();if(bJ.pK(x)){x.preventDefault()}this.R0("up")};
hH.prototype.R0=function(x){var z=this.x7,A=this.Bm(),o=A!=null&&A.f.length!=0;if(this.we.g5()!=null){if(z.A(bJ.dw)){this.we.avq()}return}this.MJ();
var i=this.xi(bJ.RI),L=z.A(bJ.yU),B=z.A(bJ.xb);if(i&&z.A(bJ.CK)&&x=="down"){var D=new fZ(G.E.r),Z=new fZ(G.E.Y);
D.k=Q.xa;if(B){D.data={d:"h_stepfwd"}}else{D.data={d:"h_stepbck"}}if(this.KV.g5()!=null&&this.KV.g5().wn()){}else this.c(D)}if(i){var D=new fZ(G.E.r),j=new fZ(G.E.rm),Z=new fZ(G.E.Y);
if(z.A(bJ.Ti)&&z.A(bJ.yt)){Z.data={d:G.U.z1,ca:"storwindow"};this.c(Z)}if(!L&&x=="down")for(var a in ei.keys){var b=ei.keys[a],W=!0;
for(var F=0;F<b.length;F++)if(!z.A(b[F]))W=!1;if(W){D.k=Q.v6;if(a=="hue2"&&B)D.data={d:"auto",RZ:3};
else D.data={d:"start",Mo:a}}}if(z.A(bJ.U)){j.data=Q.BO.dA(!0)}if(z.A(bJ.aD)){if(L)Z.data={d:G.U.z1,ca:"csize"};
else if(A)Z.data={d:G.U.Rv,JO:B}}if(z.A(bJ.UI)){j.data=Q.BO.dA()}if(z.A(bJ.E)&&x=="down"){if(B)j.data={zR:"mergeVisible"};
else j.data={zR:"mergeLayersNew",k7:{__name:"Merge Layers",classID:"Mrg2"}}}if(z.A(bJ.ue)){if(B&&this.Vt.YC!=Q.fT)Z.data={d:G.U.z1,ca:"afw_fade"};
else if(L){D.k=Q.qI;D.data={d:"applylast"}}else Z.data={d:G.U.AM}}if(z.A(bJ.jL)){if(L&&A&&A.LA(A.f[0])){D.k=Q.xu;
D.data={d:g.aQ}}else{D.k=Q.xu;D.data={d:g.hi,cD:B}}}if(z.A(bJ.Ao)){Z.data={d:G.U.nF,Hl:cu.Lu}}if(z.A(bJ.Ti)){if(B){D.data=null;
if(L)Z.data={d:G.U.z1,ca:"finfo"};else j.data={zR:"inverse"}}else if(L)Z.data={d:G.U.z1,ca:"isize"}}if(z.A(bJ.Om)){j.data={zR:(B?"cut":"copy")+"ToLayer"}}if(z.A(bJ.c_)){Z.data={d:G.U.z1,ca:"preferences"}}if(z.A(bJ.ki)){if(B){D.k=Q.xu;
D.data={d:g.Eq}}else Z.data={d:G.U.z1,ca:"newproject"}}if(z.A(bJ.Z_)){Z.data={d:G.U.vP};z.reset()}if(z.A(bJ.nA)){Z.data={d:G.U.a3R};
z.reset()}if(z.A(bJ.SU)){Z.data={d:G.U.nF,Hl:cu.gr}}if(z.A(bJ.kb)&&x=="down"){if(B){if(L)Z.data={d:G.U.z1,ca:"saveforweb"};
else Z.data={d:G.U.Me}}else Z.data={d:G.U.ld}}if(z.A(bJ.AT)){if(B){D.k=Q.fT;D.data={d:"again"}}else Z.data={d:G.U.hV,k:Q.fT}}if(z.A(bJ.fn)){Z.data={d:G.U.D5}}if(z.A(bJ.OE)){this.mA.SR()}if(z.A(bJ.k5)&&A&&A.uT()){Z.data={d:G.U.jN}}if(z.A(bJ.w3)||z.A(bJ.w2)){D.k=Q.xu;
D.data={d:g.k_,wa:0};if(z.A(bJ.w3))D.data.wa=B?3:2;else D.data.wa=B?0:1}if(z.A(bJ.lV)&&A){D.k=Q.xu;D.data={d:g.D7}}if(z.A(bJ.oN)&&A){var c=0;
if(B)c++;if(L)c+=2;D.k=Q.dz;D.data={d:"frompath",s5:[null,0,c]}}if(z.A(bJ.HY)){j.data=Q.lv.ck(0)}if(z.A(bJ.MT)){var Y=this.qS.length;
if(Y>1)this.mA.MM((this.mA.Xd()+1)%Y)}if(z.A(bJ.cu)){Z.data={d:G.U.nF,Hl:cu.ne}}if(z.A(bJ.nh)){Z.data={d:G.U.nF,Hl:cu.Su}}Q.jO.ahE(z,D);
if(this.KV.g5()!=null&&this.KV.g5().wn()){}else{if(D.data)this.c(D);if(j.data)this.c(j);if(Z.data)this.c(Z)}}if(!i&&L){var R;
if(z.A(bJ.w3))R="Bckw";if(z.A(bJ.w2))R="Frwr";if(z.A(bJ.lV))R="Back";if(z.A(bJ.HY))R="Frnt";if(R){var j=new fZ(G.E.rm);
j.data={zR:"select",k7:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:R}}]},MkVs:{t:"bool",v:!1}}};
this.c(j)}}if(A&&A.f.length!=0){var $=A.g[A.f[0]],k=$.ZD;if(k==1||k==3||i){var D=new fZ(G.E.r),w=k==3?$.zg(A).B:$.dP();
if(w){var V=w.ft?A.t.u1.join("")=="111"?1:2:0;D.k=Q.WQ;if(w&&z.A(bJ.dw)&&V!=0){D.data={d:"mskView",h:0}}if(w&&z.A(bJ.a6S)){D.data={d:"mskView",h:V==1?0:1}}if(w&&z.A(bJ.atx)){D.data={d:"mskView",h:V==2?0:2}}if(D.data)this.c(D)}}}var h=z.bN();
if(A&&i&&2<=h&&h<=5){var l=[1,1,1];if(h>2){l=[0,0,0];l[h-3]=1}var M=new fZ(G.E.r,!0);M.k=Q.RF;M.data={d:"setcls",u1:l};
this.c(M)}if(!z.A(bJ.RI)&&!L&&x=="down"){var D=new fZ(G.E.r),Z=new fZ(G.E.Y),q=this.T.map[this.Vt.YC],t=-1;
for(var F=0;F<this.T.keys.length;F++)if(this.T.keys[F]&&this.xi(this.T.keys[F]))t=F;if(t!=-1){var p=null;
if(q.m1!=t)p=this.T.Hk[t];if(q.m1==t&&B)p=(q.auK+1)%this.T.i1[t].length;if(p!=null){var _=this.T.i1[t][p].k.id,S=this.Vt.bX;
if((S==null||S.indexOf(parseInt(_))!=-1)&&!this.Ty.z0)Z.data={d:G.U.hV,k:_}}}if(z.A(bJ.Ao))Z.data={d:G.U.hV,k:Q.RF};
if(z.A(bJ.SU))Z.data={d:G.U.hV,k:Q.k6};if(z.A(bJ.k5))Z.data={d:G.U.nF,Hl:cu.NV,wa:2};if(z.A(bJ.UI))Z.data={d:G.U.nF,Hl:cu.NV,wa:3};
if(Z.data)this.c(Z);if(z.A(bJ.awJ)&&A&&A.f.length==1){var $=A.g[A.f[0]];D.k=Q.xu;var y=$.bb(0)||$.bb(1)||$.bb(2)||$.bb(31);
D.data={d:g.wF,NI:y?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(D)}var h=z.bN();if(o&&h!=-1&&this.xi(bJ.E$[h])){var v=A.f[0],$=A.g[v],r=bJ.pr(Math.round(100*$.opacity/255),h);
D.k=Q.xu;D.data={d:g.ce,NI:Math.round(255*r/100)};this.c(D)}var K=this.Vt.bW;if(z.A(bJ.MT)){Z.data={d:G.U.ZS,h:K==0?1:0};
this.c(Z)}if(z.A(bJ.ue)||z.A(bJ.dw)&&K==2){var s=document.fullscreenElement!=null==(K==2);Z.data={d:G.U.ZS,h:K==0?2:0,GV:s};
this.c(Z)}if(z.A(bJ.gi)&&!this.Ty.z0){D.k=Q.dz;D.data={d:"qmask"};this.c(D)}}if(!z.A(bJ.RI)&&!L&&B){var D=new fZ(G.E.r),Z=new fZ(G.E.Y);
if(z.A(bJ.lV))Z.data={d:G.U.z1,ca:"shortcuts"};if(z.A(bJ.Ez))Z.data={d:G.U.z1,ca:"fill"};if(z.A(bJ.ar2))Z.data={d:G.U.z1,ca:"sel_feather"};
if(o&&(z.A(bJ.Xr)||z.A(bJ.On))){var v=A.f[0],$=A.g[v],P=b_.Am,d=P.length,X=P.indexOf($.Cz);D.k=Q.xu;
D.data={d:g.ya,NI:(X+d+(z.A(bJ.Xr)?1:-1))%d};this.c(D)}if(Z.data)this.c(Z)}var D=new fZ(G.E.r),U=x=="down"&&(this.xi(bJ.BC)||this.xi(bJ.Bo));
if((i||L)&&U){D=new fZ(G.E.rm);D.data=Q.sg.rJ(i?"BckC":"FrgC");this.c(D)}else if(A&&U&&!this.Ty.z0){if(A.O!=null){D=new fZ(G.E.rm);
D.data={zR:"delete"}}else if(A.f.length!=0){var $=A.g[A.f[0]];if($.ZD==1)D.data={d:g.__};else if($.ZD==3)D.data={d:g.RS};
else D.data={d:g.vn};D.k=Q.xu}this.c(D)}if(this.KV.g5()!=null){if(z.A(bJ.dw)){this.KV.g5().aje()}else{this.KV.g5().R0(A,this,this.Vt,z)}}if(this.Vt.YC==null)return;
var q=this.aw();if(this.KV.g5()==null||this.T.pB)q.R0(A,this,this.Vt,z)};hH.prototype.xi=function(x){var z=this.x7,A=this.T.map[this.Vt.YC].k,top=this.KV.g5(),o=this.Bm();
return z.A(x)&&!A.WU(x,o)&&(top==null||!top.WU(x,o))};hH.prototype.LC=function(x){var z=this.a3V,A=this.a9;
this.Vt.bW=x;var o=I.gX,i=this.d0.e;if(o(i))this.wm.removeChild(i);var L=this.uP.e;if(o(L))this.wm.removeChild(L);
var B=this.oS.e;if(o(B))z.removeChild(B);var D=this.mA.e;if(o(D))z.removeChild(D);var Z=this.gf.e;if(o(Z))z.removeChild(Z);
if(x==0){this.wm.appendChild(i);this.wm.appendChild(L);A.appendChild(z);z.appendChild(B);z.appendChild(D);
z.appendChild(Z)}if(x==1){this.wm.appendChild(i);z.appendChild(D)}if(x==2){z.appendChild(D)}this.mA.LC(x==2?1:0);
this.H2()};hH.prototype.afB=function(x){if(this.HV())return 1;if(I.a55()==0){this.Vt={};this.a0=function(z,A){return Math.sqrt(z*A)}}return-1};
function dA(x){a0.call(this);if(x==null)return;this.GM=null;this.zp=null;this.e=I.z("div","sbar"+" "+x);
this._M=new I.z("div","top");this._M.innerHTML="> <";this.e.appendChild(this._M);this.OT=1;this._M.addEventListener("click",this.anE.bind(this),!1)}dA.prototype=new a0;
dA.prototype.anE=function(x){if(this.GM!=null&&this.GM<500&&this.OT==0)return;if(this.OT==0)this.hZ(!0);
else this.collapse(!0)};dA.prototype.awl=function(x){this.OT=x;this._M.innerHTML=this.OT==0?"< >":"> <"};
dA.prototype.agU=function(){var x=new fZ(G.E.Y,!0);x.data={d:G.U.Bu};this.c(x)};dA.prototype.hZ=function(x){this.awl(1);
if(x)this.agU()};dA.prototype.collapse=function(x){this.awl(0);if(x)this.agU()};dA.prototype.iL=function(){return this.OT==1};
function g8(x,z){dA.call(this,"vcolumn");this.Wg=x;this.awB=z;this.BJ();this.Jk=I.z("div");this.Jk.setAttribute("style","cursor:default;");
this.akL=this.a1I.bind(this);this.asc=this.aq8.bind(this);this.ac2=this.adD.bind(this);I.Zs(this.e,this.akL);
this.e.appendChild(this.Jk);this.fC=I.z("div");this.Jk.appendChild(this.fC);this.MH=-1;this.fX=I.z("div","float");
var A=this.bo=I.z("canvas"),o=12;A.width=A.height=o;var i=A.getContext("2d");i.fillStyle="rgba(0,0,0,0.5)";
i.moveTo(0,0);i.lineTo(o,o);i.lineTo(0,o);i.fill();this.bo.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
I.MX(this.bo);I.Zs(this.bo,this.akL);this.Vb=[];this._p=[];this.ae7=null;this.rR=null;this.adA=0}g8.prototype=new dA;
g8.prototype.a1I=function(x){var z=x.target==this.bo;if(!z){if(x.target!=this.e)return;if(!this.iL())return}else{var A=this.Vb[this.MH].Nc;
A.style.pointerEvents="none";var o=A.getBoundingClientRect();this.ae7=[o.width,o.height];this._p[this.MH]=[o.width,o.height]}x.stopPropagation();
this.rR=I.Ki(x,document.body);this.adA=this.Wg;I.Ss(document,this.asc);I.ek(document,this.ac2)};g8.prototype.aq8=function(x){var z=I.Ki(x,document.body);
if(this.iL()){this.Wg=this.adA+this.rR.x-z.x;this.BJ()}else{var A=this._p[this.MH],o=this.ae7;A[0]=o[0]+this.rR.x-z.x;
A[1]=o[1]+z.y-this.rR.y}var i=new fZ(G.E.Y,!0);i.data={d:G.U.Bu};this.c(i)};g8.prototype.adD=function(x){if(!this.iL()){var z=this.Vb[this.MH].Nc;
z.style.pointerEvents="auto"}I.va(document,this.asc);I.K9(document,this.ac2)};g8.prototype.agE=function(x){x.W("showFloat",this.aq_,this);
x.W("hideFloat",this.jV,this);this.Vb.push(x);x.parent=this;this.Jk.appendChild(x.e)};g8.prototype.a84=function(F){var x=this.Vb[F];
x.removeEventListener("showFloat",this.aq_,this);x.removeEventListener("hideFloat",this.jV,this);this.Vb.splice(F,1);
x.parent=null;this.Jk.removeChild(x.e)};g8.prototype.apN=function(){return this.Vb.length};g8.prototype.tO=function(){for(var F=0;
F<this.Vb.length;F++)this.Vb[F].tO()};g8.prototype.aq_=function(x){this.jV(x);this.fC.appendChild(this.fX);
this.MH=this.Vb.indexOf(x.currentTarget);var z=this.Vb[this.MH].Nc;this.fX.appendChild(z);this.fX.appendChild(this.bo);
this.a0(this.GM,this.zp)};g8.prototype.jV=function(x){this.tO();if(this.MH!=-1){this.fC.removeChild(this.fX);
var z=this.Vb[this.MH];if(z)this.fX.removeChild(z.Nc);this.MH=-1}};g8.prototype.BJ=function(){this.e.setAttribute("style","width: "+this.Wg+"px; padding-left:3px; cursor:ew-resize;")};
g8.prototype.hZ=function(x){this.BJ();this.jV();for(var F=0;F<this.Vb.length;F++)this.Vb[F].hZ();dA.prototype.hZ.call(this,x)};
g8.prototype.collapse=function(x){this.e.removeAttribute("style");for(var F=0;F<this.Vb.length;F++)this.Vb[F].collapse();
dA.prototype.collapse.call(this,x)};g8.prototype.a0=function(x,z){this.GM=x;this.zp=z;z-=6;var A=this.Vb.length,o=this.iL();
if(A==0)return;x=this.Wg;var i=z<400?z:400+(z-400)*.5,L=z;for(var F=0;F<A;F++){var B=this.Vb[F],D=B.a4B(),Z=this._p[F];
B.a0(!o&&Z?Z[0]:x,o?F==A-1?L:D:Z?Z[1]:i);L-=D}};function bZ(x){a0.call(this);this.e=I.z("div");this.Jk=null;
this._r=0;this.Ul=0;this.a5s=x;this.ahL=this.XP.bind(this);this.a39=this.ss.bind(this);this.a7g=this.rP.bind(this);
this.Q6=null;this.yq=null;this.H$=null;I.Zs(this.e,this.ahL);var z=this.e,o="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
z.addEventListener("touchmove",I.ik,!1);this.anS=!0;this.k1=[];var A=this.a6Y=I.z("div");A.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(A);var i=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",o+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",o+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",o+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var F=0;F<i.length;F++){var L=new eI(i[F]);this.k1.push(L);L.e.setAttribute("style","margin-left:"+(F<7?4:0)+"px;cursor:pointer;");
L.W("click",this.iK,this)}}bZ.prototype=new a0;bZ.prototype.N=function(){var x=this.a6Y;I.Uv(x);for(var F=0;
F<this.k1.length;F++){var z=this.k1[F];if(F<5)z.N();x.appendChild(z.e)}};bZ.prototype.iK=function(x){var F=this.k1.indexOf(x.currentTarget);
if(F==0){if(window.showCap)window.showCap();return}var z=" issues learn blog api twitter facebook".split(" "),A=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),o=window.ga;
if(o)o("send","event","Links",z[F]);var i=new fZ(G.E.Y,!0);i.data={d:G.U.OB,link:A[F]};this.c(i)};bZ.prototype.XP=function(x){if(x.acr){x.preventDefault();
x.stopPropagation()}var z=window;I.Ss(z,this.a39);I.ek(z,this.a7g);z=this.Jk;this.Q6=new iL(parseInt(z.style.left),parseInt(z.style.top));
this.yq=I.Ki(x,this.e);this.H$=z.getBoundingClientRect()};bZ.prototype.ss=function(x){var z=I.Ki(x,this.e),A=this.Q6.x+z.x-this.yq.x,o=this.Q6.y+z.y-this.yq.y,i=this._r-this.H$.width,L=this.Ul-this.H$.height;
if(this.a5s)this.Jk.style.left=Math.min(0,Math.max(i,A))+"px";else this.Jk.style.top=Math.min(0,Math.max(L,o))+"px";
if(A-10>0){this.yq.x=z.x-10;this.Q6.x=0}if(A+10<i){this.yq.x=z.x+10;this.Q6.x=i}};bZ.prototype.rP=function(x){var z=window;
I.va(z,this.a39);I.K9(z,this.a7g)};bZ.prototype.a5l=function(x){if(this.Jk){this.e.removeChild(this.Jk)}this.Jk=x;
this.e.appendChild(x);x.style.position="absolute";if(this.a5s)x.style.left=0;else x.style.top=0};bZ.prototype.a0=function(x,z){this._r=x;
this.Ul=z;this.e.setAttribute("style","position:relative; width: "+x+"px; height: "+z+"px; overflow:hidden; white-space: nowrap; ");
this.Jk.style.left="0";this.Jk.style.top="0";var A=this.Jk.firstChild,o=this.a6Y,i=A?A.firstChild.getBoundingClientRect().width+80:1e9,L=170,B=this.anS&&x>i+L;
o[dr.p3][dr.apB]=B?"":dr.Ug;var D=this.k1;for(var F=0;F<D.length;F++){var Z=F>4||x-i>500?"":dr.Ug,j=D[F];
j.e.style.display=Z}};function jg(){a0.call(this);this.OQ=null;this.Ry=jg.nA;this.ahQ="";this.e=I.z("div","rightbar");
this.OS=[new g8(300),new g8(268,!0)];this.Vb=[new cq,new cq,new cq,new cq,new cq,new cq,new cq];this.a49=[]}jg.prototype=new a0;
jg.prototype.N=function(){var x=this.Ry;for(var F=0;F<x.length;F++)x[F].oM.N()};jg.nA=[{oM:new dP,Pg:3},{oM:new aB,Pg:1},{oM:new dO,Pg:4},{oM:new je,Pg:2},{oM:new e7(!0),Pg:5},{oM:new bW,Pg:0},{oM:new eH,Pg:5},{oM:new ea,Pg:3},{oM:new d1,Pg:0},{oM:new bG,Pg:3},{oM:new dm,Pg:2},{oM:new hv,Pg:4},{oM:new aa,Pg:3},{oM:new h_,Pg:5},{oM:new e7(!1),Pg:5},{oM:new fW,Pg:2},{oM:new eR,Pg:3},{oM:new fJ,Pg:1},{oM:new gn,Pg:0},{oM:new jY,Pg:5},{oM:new fS,Pg:6,l7:!0},{oM:new gp,Pg:6,l7:!0},{oM:new fw,Pg:6,l7:!0}];
(function(){var x=[{id:c4.SU.a1w,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Adaptive Palette",url:"https://hxim.github.io/TwemojiPlugin/adapal/adapal.html",icon:"https://hxim.github.io/TwemojiPlugin/adapal/icon.svg"},{name:"Fractal Noise",url:"https://yikuansun.github.io/photopea-fractalnoise",icon:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Value_noise_2D.png"},{name:"Zeus: Lightning Maker",url:"https://yikuansun.github.io/lightning-experiment/?photopeaPlugin=yes",icon:"https://yikuansun.github.io/lightning-experiment/icon.png"}];
for(var F=0;F<x.length;F++)jg.nA.push({oM:new cY(x[F],100+F),Pg:6,l7:!0})}());jg.prototype.aaU=function(x){for(var F=0;
F<x.length;F++){var z=x[F],A=new cY(z,"plg_"+z.name);this.Ry.push({oM:A,Pg:6});this.a49.push(A.pa)}this.Ta()};
jg.prototype.wB=function(x,z){this.OQ=x;var A=this.Ry;for(var F=0;F<A.length;F++)A[F].oM.wB(x,z);if(z==cu.IF||z==cu._j)this.Ta()};
jg.prototype.A9=function(x){var z=this.Ry;for(var F=0;F<z.length;F++)z[F].oM.A9(x)};jg.prototype.a0=function(x,z){this.GM=x;
this.zp=z;this.Ta();this.OS[0].a0(x,z);this.OS[1].a0(x,z)};jg.prototype.Ta=function(){var x=this.OQ,z=this.GM,A=this.zp;
if(x==null||z==0)return;var o=x.wL.concat(this.a49),i=z<500||z<700&&z<A,L=JSON.stringify(o)+","+i;if(L!=this.ahQ){this.ahQ=L;
I.Uv(this.e);var B=[];for(var F=0;F<this.OS.length;F++){var D=this.OS[F];B[F]=D.iL();while(D.apN()!=0)D.a84(0);
D.hZ()}var Z=[];for(var F=0;F<this.Vb.length;F++){var j=this.Vb[F];j.hZ();while(j.aaw()!=0)j.Jo(0);Z.push(0)}for(var F=0;
F<o.length;F++){var a=this.ahF(o[F].toString());this.Vb[a.Pg].nJ(a.oM);this.Vb[a.Pg].MM(0);Z[a.Pg]++}var b=[];
for(var F=0;F<Z.length;F++){if(Z[F]==0)continue;var W=F<3||i?1:0,D=this.OS[W];D.parent=this;D.agE(this.Vb[F]);
b[W]=!0}for(var F=0;F<this.OS.length;F++)if(b[F])this.e.appendChild(this.OS[F].e);this.OS[0].collapse();
if(z<700||this.OQ.compact||!B[1]){this.OS[1].collapse()}var c=new fZ(G.E.Y,!0);c.data={d:G.U.Bu};this.c(c)}};
jg.prototype.ahF=function(x){for(var F=0;F<this.Ry.length;F++)if(this.Ry[F].oM.pa==x)return this.Ry[F]};
jg.prototype.a8S=function(x){var z=this.ahF(x);this.Vb[z.Pg].nJ(z.oM)};jg.prototype.N_=function(x,z,A){var o=this.Ry;
for(var F=0;F<o.length;F++)o[F].oM.N_(x,z,A)};jg.prototype.Xv=function(x,z,A,o,i){var L=this.Ry;for(var F=0;
F<L.length;F++)L[F].oM.Xv(x,z,A,o,i)};jg.prototype.Dg=function(x,z,A,o,i){var L=this.Ry;for(var F=0;
F<L.length;F++)L[F].oM.Dg(x,z,A,o,i)};jg.prototype.V4=function(x,z,A,o,i){var L=this.Ry;for(var F=0;
F<L.length;F++)L[F].oM.V4(x,z,A,o,i)};function iK(x,z){dA.call(this,"toolbar");this.MZ=null;this._n=I.z("div","tools");
this.e.appendChild(this._n);this.vQ=null;this.a8i=z;this.JE=null;this.a1X=-1;this.amG={};this.T=null;
this.ct=null;this.IN=null;this.Yu=null;this.Rl(x);this.sc=new h1;this.sc.e.style.marginTop="5px";this.sc.e.style.marginBottom="3px";
this.sc.parent=this;this.oF=new eI(I.gF("lrs/mask"),!1,[6,6,1]);this.oF.W("click",function(L){var B=new fZ(G.E.r,!0);
B.k=Q.dz;B.data={d:"qmask"};this.c(B)},this);var A=new i4(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
A.W(G.E.o,this.adE,this);var o=I.z("span","rangecontFloat form padded");o.appendChild(A.e);var i=document.body;
this.alH=[!1,!1,!1,!1];this.CS=new eI("\u2328",!1,"Virtual Keys");this.CS.W("click",function(L){var B=this.CS.e.getBoundingClientRect();
o.setAttribute("style","position:absolute; top:"+(B.top-40)+"px; left: "+(B.left+B.width+4)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(I.gX(o))i.removeChild(o);else i.appendChild(o)},this)}iK.prototype=new dA;iK.prototype.adE=function(x){var z=x.target.L();
this.CS.b(z[0]||z[1]||z[2]||z[3]);var A=new fZ(G.E.Y,!0);for(var F=0;F<4;F++){if(z[F]!=this.alH[F]){A.data={d:G.U.auM,z0:z[F],a7d:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][F]};
this.c(A)}}this.alH=z.slice(0)};iK.prototype.ats=function(x,z){this.JE=z;if(x==null||x.f.length==0||x.g[x.f[0]]==null)return;
var A=x.oF()!=null,o=x.t.u1,i=x.g[x.f[0]].ZD,L=i==1||i==3||A||o[0]+o[1]+o[2]==1;this.sc.aeY(L);this.oF.b(A)};
iK.prototype.a2R=function(x,z){var A=x.length,o=[];for(var F=0;F<A;F++)o[F]=x[F].slice(0);x=o;var i=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],L=Math.min(i.length/2,A-z);
for(var F=0;F<L;F++){var B=i[2*F],D=i[2*F+1];x[B]=x[B].concat(x[D]);x[D]=null}for(var F=0;F<x.length;
F++)if(x[F]==null){x.splice(F,1);F--}return x};iK.prototype.a18=function(x,z){for(var F=0;F<z.length;
F++)for(var A=0;A<z[F].length;A++)if(z[F][A].k.id==x)return F};iK.prototype.Rl=function(x,z){this.MZ=x;
this.ct=[];this.IN=[];this.Yu=[];this.T=[];var A=x.i1;if(z!=null&&this.a8i)A=this.a2R(A,z);if(this.vQ){var o=[],i=this.vQ.bX;
for(var F=0;F<A.length;F++){var L=[];for(var B=0;B<A[F].length;B++){var D=A[F][B];if(i==null||i.indexOf(parseInt(D.k.id))!=-1)L.push(D)}if(L.length>0)o.push(L)}A=o}for(var F=0;
F<A.length;F++){var Z=[],j=this.ct.length,a=null,b=-1;for(var B=0;B<A[F].length;B++){var D=A[F][B].k,W=this.a18(D.id,x.i1),c=x.keys[W];
if(c==bJ.Ao&&B==1)c=bJ.SU;this.T.push(D);var Y=new fC(D.name,c,D.jI,this.ct.length,F,A[F].length>1);
this.ct.push(Y);var R=this.amG[D.id];if(R==null)R=0;if(R>b){b=R;a=Y}Y.W(G.E.o,this.GH,this);Y.W("mover",this.NZ,this);
Z.push({name:D.name,vC:D.jI,PD:c?c.i_:""})}this.IN.push(a);if(Z.length==1)this.Yu.push(null);else{var $=new ir(Z,null,!0);
$.ahP=j;$.m1=F;this.Yu.push($);$.W("select",this.ax0,this);$.parent=this}}};iK.prototype.a0=function(x,z){var A=this.zp=z-11,o=32;
if(1<I.Z()&&I.Z()<1.5)o=18+14*(1/I.Z());var i=39+23,L=Math.floor((A-i)/o),B=this.vQ;if(B==null)return;
if(L!=this.a1X){this.a1X=L;this.Rl(this.MZ,L);this.EP(B.YC)}var D=this.IN.length*o+i,Z=Math.min(1,A/D);
if(.75<=Z){this._n.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+Z+","+Z+");");
this.e.setAttribute("style","height:"+(z-2)+"px; overflow:hidden;")}else{A-=4;this._n.setAttribute("style","height: "+A+"px;  width:"+Math.ceil(D/A)*34+"px");
this.e.setAttribute("style","")}};iK.prototype.N=function(){for(var F=0;F<this.ct.length;F++)this.ct[F].N();
for(var F=0;F<this.Yu.length;F++)if(this.Yu[F])this.Yu[F].N()};iK.prototype.GH=function(x){var z=new fZ(G.E.Y,!0);
z.data={d:G.U.hV,k:this.T[x.id].id};this.c(z)};iK.prototype.ax0=function(x){var z=x.target.ahP+x.target.WJ()[0];
this.ct[z].rP(null)};iK.prototype.NZ=function(x){var z=this.JE,A=new fZ(G.E.Y,!0);A.data={d:G.U.lk};
this.c(A);var o=x.target,i=this.Yu[o.m1];if(i==null)return;var L=o.e.getBoundingClientRect(),A=new fZ(G.E.Y,!0);
A.data={d:G.U.Sc,oM:i,x:L.left+L.width+8,y:L.top};if(z==null||!(z.A(bJ.aU)||z.A(bJ.RI)))this.c(A)};iK.prototype.EP=function(x){this.amG[x]=Date.now();
var z=-1;for(var F=0;F<this.T.length;F++)if(this.T[F].id==x)z=F;for(var F=0;F<this.ct.length;F++){var A=this.ct[F];
A.aou(z==F)}if(z==-1)return;this.IN[this.ct[z].m1]=this.ct[z];I.Uv(this._n);var o=this.IN;for(var F=0;
F<o.length;F++){this._n.appendChild(o[F].e)}if(!this.a8i)return;this._n.appendChild(this.sc.e);if(this.zp>640)this._n.appendChild(this.oF.e);
this._n.appendChild(this.CS.e)};iK.prototype.N_=function(x,z){this.EP(z.YC)};iK.prototype.wB=function(x,z){this.vQ=x;
if(z==cu._j){this.Rl(this.MZ);this.EP(x.YC)}this.sc.aep(x.VJ,x.GN)};function fC(x,z,A,o,i,L){a0.call(this);
this.$N=0;this.HK=this.a7h.bind(this);this.m1=i;this.I$=o;this.v8=x;this.asJ=z;this.adj=L;this.jI=A;
this.e=I.z("button","");this.e.innerHTML=I.gF(this.jI);if(this.adj){var B=I.z("img","gsicon");B.setAttribute("src",PIMG["tools/corner"]);
B.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.e.appendChild(B)}this.N();
I.Zs(this.e,this.XP.bind(this));this.e.addEventListener("click",this.rP.bind(this),!1);this.e.addEventListener("contextmenu",fC.oG,!1)}fC.prototype=new a0;
fC.oG=function(x){x.stopPropagation();x.preventDefault();return!1};fC.prototype.N=function(){var x=this.asJ?" ("+this.asJ.i_+")":"";
this.e.setAttribute("title",kc.get(this.v8)+x)};fC.prototype.XP=function(x){this.$N=setTimeout(this.HK,160)};
fC.prototype.rP=function(x){clearTimeout(this.$N);var z=new fZ(G.E.o,!1);z.target=this;z.id=this.I$;
this.c(z)};fC.prototype.a7h=function(x){var z=new fZ("mover",!1);z.target=this;z.id=this.I$;this.c(z)};
fC.prototype.aou=function(x){this.e.setAttribute("class",x?"toolbtn active":"toolbtn")};function f9(){a0.call(this);
this.e=I.z("div","topbar");this.G3=I.z("span","");this.a10=0;this.e.appendChild(this.G3);this.Uh=null;
this.rn=null;this.QF=[];this.wL=[];var x=this.XP.bind(this);for(var F=0;F<f9.data.length;F++){var z=I.z("button");
this.QF.push(z);this.G3.appendChild(z);z.addEventListener("mouseover",x,!1);I.Zs(z,x)}this.Tf=new eI([0,13,0],!1,null,!0);
this.Tf.W("click",this.Lo,this);this.e.appendChild(this.Tf.e);this.BB=new eI(I.gF("tools/zoom",null,"autoscale"),!1,[12,86]);
this.BB.W("click",this.Lo,this);this.e.appendChild(this.BB.e);this.w6=new eI("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.w6.W("click",this.Lo,this);this.e.appendChild(this.w6.e)}f9.prototype=new a0;f9.prototype.al8=function(){if(this.wL.length!=0)return;
for(var F=0;F<f9.data.length;F++){var x=f9.data[F],z=new ir(x.items,x.u_);z.parent=this;this.wL.push(z)}this.N()};
f9.prototype.N=function(){this.Tf.N();this.BB.N();this.w6.N();for(var F=0;F<this.QF.length;F++)this.QF[F].textContent=kc.get(f9.data[F].name);
this.a72();for(var F=0;F<this.wL.length;F++)this.wL[F].N()};f9.prototype.Lo=function(x){var z=new fZ(G.E.Y,!0);
if(x.target==this.Tf)z.data={d:G.U.z1,ca:"account"};else if(x.target==this.BB)z.data={d:G.U.AM};else z.data={d:G.U.ZS,GV:!0};
this.c(z)};f9.prototype.atr=function(x,z){this.Uh=x;this.rn=z};f9.prototype.wB=function(x,z){this.rn=x;
if(z==cu._j){var A=x.al7;I.Uv(this.G3);for(var F=0;F<this.QF.length;F++){if(A==null||A[F]==1||A[F]instanceof Array)this.G3.appendChild(this.QF[F]);
if(A!=null&&A[F]instanceof Array){this.al8();this.wL[F].a0X(A[F])}}this.e.removeChild(this.Tf.e);this.e.removeChild(this.BB.e);
this.e.removeChild(this.w6.e);if(x.Mc)this.e.appendChild(this.Tf.e);this.e.appendChild(this.BB.e);this.e.appendChild(this.w6.e)}this.a72()};
f9.prototype.a72=function(x,z){var A=this.Tf,o=12255232;if(eP.Ai())o=eP.sv()?43520:16755200;A.e.setAttribute("style","color:#ffffff; background-color:#"+f.Ng(o))};
f9.prototype.XP=function(x){this.al8();var F=this.QF.indexOf(x.currentTarget),z=this.wL[F];if(x.type=="mouseover"&&!I.gX(this.wL[this.a10].e))return;
if(I.gX(z.e))return;x.acr=!0;this.a10=F;for(var F=0;F<f9.data.length;F++)this.wL[F].update(this.Uh,this.rn);
var A=x.target.getBoundingClientRect(),o=new fZ(G.E.Y,!0);o.data={d:G.U.Sc,oM:z,x:A.left,y:A.top+A.height+2,acF:!0};
this.c(o)};f9.aj8=function(x){var z=bJ,A=z.RI,o=z.xb,i=z.yU,L={name:[0,5],items:[{name:[7,0],PD:[A,z.U]},{name:[7,1],PD:[A,z.UI],K:function(D){return{K:D!=null&&D.O!=null}}},{name:[7,2],PD:[o,A,z.Ti],K:function(D){return{K:D!=null&&D.O!=null}},Oh:!0},{name:[7,8],fs:!0},{name:[7,13],fs:!0,K:function(D){return{K:D!=null&&D.f.length!=0&&!D.g[D.f[0]].rect.WT()}},Oh:!0},{name:[7,11],fs:!0,K:function(D){return{K:D!=null&&D.f.length!=0&&!D.g[D.f[0]].rect.WT()}}},{name:[7,3],Oh:!0,sub:[{name:[7,9],fs:!0,K:function(D){return{K:D!=null&&D.O!=null}}},{name:[19,3,0],fs:!0,K:function(D){return{K:D!=null&&D.O!=null}}},{name:[7,4],fs:!0,K:function(D){return{K:D!=null&&D.O!=null}}},{name:[7,5],fs:!0,K:function(D){return{K:D!=null&&D.O!=null}}},{name:[7,6],fs:!0,K:function(D){return{K:D!=null&&D.O!=null}},PD:"Shift+F6"}]},{name:[7,10],K:function(D){return{K:D!=null&&D.O!=null}},Oh:!0},{name:[6,6,1],K:function(D){return{K:D!=null,PO:D!=null&&D.oF()!=null}},PD:[z.gi],Oh:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],u_:[{V:G.E.rm,M:Q.BO.dA(!0)},{V:G.E.rm,M:Q.BO.dA()},{V:G.E.rm,M:{zR:"inverse"}},{V:G.E.Y,M:{d:G.U.z1,ca:"crange"}},{V:G.E.Y,M:{d:G.U.z1,ca:"magiccut"}},{V:G.E.Y,M:{d:G.U.z1,ca:"redge"}},{sub:[{V:G.E.Y,M:{d:G.U.z1,ca:"sel_border"}},{V:G.E.Y,M:{d:G.U.z1,ca:"sel_smoothness"}},{V:G.E.Y,M:{d:G.U.z1,ca:"sel_expand"}},{V:G.E.Y,M:{d:G.U.z1,ca:"sel_contract"}},{V:G.E.Y,M:{d:G.U.z1,ca:"sel_feather"}}]},{V:G.E.Y,M:{d:G.U.hV,k:Q.yz}},{V:G.E.r,k:Q.dz,M:{d:"qmask"}},{V:G.E.rm,M:{zR:"duplicate",k7:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(x){var B=L.items.length-1;L.items.splice(B-2,0,{name:[6,49],PD:[A,z.Om],Oh:!0});L.u_.splice(B-2,0,{V:G.E.rm,M:{zR:"copyToLayer"}});
L.items.splice(B-1,0,{name:[10,16],PD:[i,A,z.AT]});L.u_.splice(B-1,0,{V:G.E.Y,M:{d:G.U.hV,k:Q.fT}})}return L};
f9.data=function(){var x=bJ,z=x.RI,A=x.xb,o=x.yU,i=function(a){return{K:a!=null&&a.f.length!=0}},L=function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].add.SoLd!=null}},B=[],D=[],Z="none maxx avrg medn minn rang stdv summ vari".split(" "),j=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var F=0;F<Z.length;F++){B.push({name:j[F]});D.push({V:G.E.r,k:Q.xu,M:{d:g.Yj,NI:Z[F]}})}return[{name:[0,0],items:[{name:[5,3],PD:[o,z,x.ki],title:[11,7],fs:!0},{name:[1,0],PD:[z,x.Z_],fs:!0},{name:[1,11],fs:!0,K:function(a,b){return{K:a!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],Oh:!0,sub:[{name:"From Storage",fs:!0},{name:[1,5],fs:!0},{name:[11,0],fs:!0},{name:["PSD VAR0",[25,0]],fs:!0}]},{name:[1,1],Oh:!0,sub:[{name:"PNG",PD:"Imgur.com",K:function(a,b){return{K:a!=null&&b.yJ}}},{name:"JPG",PD:"Imgur.com",K:function(a,b){return{K:a!=null&&b.yJ}}},{name:"PSD",PD:"Photopea.com",K:function(a,b){return{K:a!=null&&b.yJ&&!a.KY}}}]},{name:"Save ...",PD:[z,x.kb],K:function(a,b){var W=kc.get([1,2]);
if(a){if(a.no)W+=" ("+kc.get([6,7,1])+")";if(a.yV)W+=" (Google Drive)";if(a.g1)W+=" ("+Storage.list[a.g1[0]][0]+")"}return{K:a!=null&&(a.g1!=null||a.Gn!=null&&a.QE=="psd"||a.no!=null||a.Ra!=null&&a.Ra.UR!=null||a.yV!=null||b.fh.save!=null),qk:W}}},{name:[1,3],K:function(a,b){return{K:a!=null&&!a.KY&&b.yJ}}},{name:["VAR0 VAR1",[1,2],[0,14]],sub:[{name:"PSD to Storage",K:function(a,b){return{K:a!=null&&!a.KY&&b.yJ}}},{name:["VAR0 PSD/PSB",[1,2]],fs:!0,K:function(a,b){return{K:a!=null&&!a.KY&&b.yJ}}}]},{name:[1,8],sub:function(){var a=iF.Is(0),b=[];
for(var F=0;F<a.length;F++)b.push({name:a[F],PD:"."+a[F].toLowerCase()});b.push({name:[0,14],sub:function(){var a=iF.Is(1),b=[];
for(var F=0;F<a.length;F++)b.push({name:a[F],PD:"."+a[F].toLowerCase()});return b}()});return b}()},{name:[1,4],fs:!0,K:function(a,b){return{K:a!=null}},Oh:!0},{name:[1,9],fs:!0,K:function(a,b){return{K:a!=null}}},{name:"Export Color Lookup",fs:!0,K:function(a,b){return{K:a!=null}},Oh:!0},{name:[1,14],fs:!0,K:function(a,b){return{K:a!=null}},Oh:!0},{name:[1,10]}],u_:[{V:G.E.Y,M:{d:G.U.z1,ca:"newproject"}},{V:G.E.Y,M:{d:G.U.vP}},{V:G.E.Y,M:{d:G.U.vP,a8k:!0}},{sub:[{V:G.E.Y,M:{d:G.U.z1,ca:"storwindow",Ym:0}},{V:G.E.Y,M:{d:G.U.z1,ca:"open_from_url"}},{V:G.E.Y,M:{d:G.U.z1,ca:"camera"}},{V:G.E.Y,M:{d:G.U.z1,ca:"templates"}}]},{sub:[{V:G.E.Y,M:{d:G.U.e8,a5:"png"}},{V:G.E.Y,M:{d:G.U.e8,a5:"jpg"}},{V:G.E.Y,M:{d:G.U.e8,a5:"psd"}}]},{V:G.E.Y,M:{d:G.U.ld}},{V:G.E.Y,M:{d:G.U.Me}},{sub:[{V:G.E.Y,M:{d:G.U.z1,ca:"storwindow",Ym:1}},{V:G.E.Y,M:{d:G.U.z1,ca:"savepsb"}}]},{sub:function(){var a=iF.Is(0),b=[];
for(var F=0;F<a.length;F++)b.push({V:G.E.Y,M:{d:G.U.z1,ca:"saveforweb",a5:F}});b.push({sub:function(){var W=iF.Is(0).length,a=iF.Is(1),b=[];
for(var F=0;F<a.length;F++)b.push({V:G.E.Y,M:{d:G.U.z1,ca:"saveforweb",a5:W+F}});return b}()});return b}()},{V:G.E.Y,M:{d:G.U.z1,ca:"saveforweb",a5:4,af4:!0}},{V:G.E.Y,M:{d:G.U.z1,ca:"eassets"}},{V:G.E.Y,M:{d:G.U.z1,ca:"exlut"}},{V:G.E.Y,M:{d:G.U.z1,ca:"finfo"}},{V:G.E.Y,M:{d:G.U.z1,ca:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],PD:[A,z,x.CK]},{name:[2,1],PD:[z,x.CK],Oh:!0},{name:[2,11],PD:[A,z,x.ue],Oh:!0,fs:!0,K:function(a,b){return{K:fK.asL(a)&&b.YC!=Q.fT}}},{name:[5,0],PD:[z,x.k5],K:function(a){return{K:a!=null&&a.uT()}}},{name:[5,1],PD:[z,x.aD],K:function(a){return{K:a!=null}}},{name:[5,7],PD:[A,z,x.aD],K:function(a){return{K:a!=null&&a.uT()}}},{name:[5,2],PD:[z,x.fn],K:function(a,b){return{K:I.dJ()||b.jw!=null||b.Qo!=null||b.aqi!=null}}},{name:[2,2],K:function(a){return{K:a!=null&&a.O!=null}},PD:"Delete",Oh:!0},{name:[2,3],K:function(a){return{K:a!=null}},fs:!0,PD:[A,x.Ez]},{name:[14,9],K:function(a){return{K:a!=null}},fs:!0,Oh:!0},{name:[10,48],K:function(a){return{K:a!=null&&a.Qi(!1)}}},{name:[10,46],K:function(a){return{K:Q.wT.atk(a)}}},{name:[10,16],PD:[o,z,x.AT]},{name:[2,4],sub:ge.adW()},{name:[2,10,1]},{name:[2,10,0],Oh:!0},{name:[12,87],sub:[{name:[12,62],K:function(a){return{K:a!=null}}},{name:[9,3],K:function(a){return{K:a!=null}}},{name:[10,31],K:function(a){return{K:a!=null&&a.Dd()[1].length!=0}}}]},{name:[1,15],fs:!0},{name:[12,79],fs:!0,PD:[z,x.c_]},{name:[1,13],fs:!0}],u_:[{V:G.E.r,k:Q.xa,M:{d:"h_undoredo"}},{V:G.E.r,k:Q.xa,M:{d:"h_stepfwd"}},{V:G.E.r,k:Q.xa,M:{d:"h_stepbck"}},{V:G.E.Y,M:{d:G.U.z1,ca:"afw_fade"}},{V:G.E.Y,M:{d:G.U.jN}},{V:G.E.Y,M:{d:G.U.Rv}},{V:G.E.Y,M:{d:G.U.Rv,JO:!0}},{V:G.E.Y,M:{d:G.U.D5}},{V:G.E.rm,M:{zR:"delete"}},{V:G.E.Y,M:{d:G.U.z1,ca:"fill"}},{V:G.E.Y,M:{d:G.U.z1,ca:"stroke"}},{V:G.E.Y,M:{d:G.U.hV,k:Q.lq}},{V:G.E.r,k:Q.qI,M:{d:"start",ET:"rigidTransform"}},{V:G.E.Y,M:{d:G.U.hV,k:Q.fT}},{sub:ge.akw()},{V:G.E.rm,M:{zR:"align",k7:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{V:G.E.r,k:Q.xu,M:{d:g.a7V}},{sub:[{V:G.E.Y,M:{d:G.U.Tu,Hl:0}},{V:G.E.Y,M:{d:G.U.Tu,Hl:1}},{V:G.E.Y,M:{d:G.U.Tu,Hl:2}}]},{V:G.E.Y,M:{d:G.U.z1,ca:"pmanager"}},{V:G.E.Y,M:{d:G.U.z1,ca:"preferences"}},{V:G.E.Y,M:{d:G.U.z1,ca:"locstor"}}]},{name:[0,2],items:[{name:[12,36],K:function(a){return{K:a!=null}},Oh:!0,sub:[{name:"RGB",K:function(a){if(a==null)return{K:!1};
return{PO:a.add.fcmy==null,K:!0}}},{name:"CMYK",K:function(a){if(a==null)return{K:!1};return{PO:a.add.fcmy!=null,K:!0}}}]},{name:[3],Oh:!0,sub:function(){var a=[];
for(var b in ei.names){a.push({name:ei.names[b],fs:T[b]!=null,PD:ei.keys[b],Oh:ei.arj.indexOf(b)!=-1});
if(b=="selc"){a.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],fs:!0,Oh:!0});a.push({name:[19,7,0],PD:[z,A,x.yt],K:function(b){return{K:b!=null&&b.Qi(!1)}}});
a.push({name:[4,18],fs:!0,K:function(b){return{K:b!=null&&b.Qi(!1)}}})}}return a}()},{name:[4,16,0],K:function(a){return{K:a!=null&&a.Qi(!1)}}},{name:[4,16,1],K:function(a){return{K:a!=null&&a.Qi(!1)}}},{name:[4,16,2],K:function(a){return{K:a!=null&&a.Qi(!1)}},Oh:!0},{name:[11,11,1],K:function(a){return{K:a!=null&&a.Qi(!1)}}},{name:[11,11,0],K:function(a){return{K:a!=null&&a.Qi(!1)}},Oh:!0},{name:[11,3],fs:!0,PD:[o,z,x.aD]},{name:[11,10],fs:!0,PD:[o,z,x.Ti]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],K:function(a){return{K:a!=null&&a.O!=null}}},{name:[11,12,0],K:function(a){return{K:a!=null}},PD:[z,x.HY],fs:!0},{name:[11,12,2],K:function(a){return{K:a!=null}},Oh:!0},{name:[2,12],K:function(a){return{K:a!=null&&a.Qi(!1)}},fs:!0,Oh:!0},{name:"Variables",K:function(a){return a!=null},fs:!0}],u_:[{sub:[{V:G.E.r,k:Q.ah,M:{d:"fcmy",h:0}},{V:G.E.r,k:Q.ah,M:{d:"fcmy",h:1}}]},{sub:function(){var a=[];
for(var b in ei.names){a.push({V:G.E.r,k:Q.v6,M:{d:"start",Mo:b}});if(b=="selc"){a.push({V:G.E.r,k:Q.qI,M:{d:"start",ET:"adaptCorrect"}});
a.push({V:G.E.rm,M:{zR:"desaturate"}});a.push({V:G.E.r,k:Q.v6,M:{d:"start",Mo:"matc"}})}}return a}()},{V:G.E.rm,M:{zR:"levels",k7:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{V:G.E.rm,M:{zR:"levels",k7:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{V:G.E.rm,M:{zR:"levels",k7:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{V:G.E.Y,M:{d:G.U.z1,ca:"rcolors"}},{V:G.E.Y,M:{d:G.U.z1,ca:"vbitmap"}},{V:G.E.Y,M:{d:G.U.z1,ca:"csize"}},{V:G.E.Y,M:{d:G.U.z1,ca:"isize"}},{sub:[{V:G.E.rm,M:Q.S.EH(!0,90)},{V:G.E.rm,M:Q.S.EH(!0,-90)},{V:G.E.rm,M:Q.S.EH(!0,-180)},{V:G.E.rm,M:Q.S.EH(!1,"Hrzn")},{V:G.E.rm,M:Q.S.EH(!1,"Vrtc")}]},{V:G.E.r,k:Q.e_,M:{d:"cropbysel",a86:0}},{V:G.E.Y,M:{d:G.U.z1,ca:"trim"}},{V:G.E.rm,M:{zR:"revealAll",k7:{classID:"RvlA"}}},{V:G.E.r,k:Q.v6,M:{d:"start",Mo:"aply"}},{V:G.E.Y,M:{d:G.U.z1,ca:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],PD:[A,z,x.ki]},{name:[0,4]},{name:[1,16,0],fs:!0},{name:[1,16,3],fs:!0,Oh:!0},{name:[6,49,0],PD:[z,x.Om]},{name:[6,49,1],PD:[A,z,x.Om],K:function(a){return{K:a!=null&&a.O!=null&&a.Qi(!1)}}}]},{name:[6,0],K:i,PD:[z,x.Om]},{name:[11,4],K:i},{name:[5,4],K:i,Oh:!0},{name:[11,6],Oh:!0,K:i,sub:e9.Tj(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Oh:!0,sub:e9.atf()},{name:[6,2],sub:[{name:[6,4],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()==null}}},{name:[6,5,0],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()==null}}},{name:[6,5,1],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()==null&&a.O!=null}}},{name:[6,5,2],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()==null&&a.O!=null}}},{name:[6,5,3],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()==null}},Oh:!0},{name:[5,4],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()!=null}}},{name:[5,8],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()!=null&&a.Qi(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].dP()!=null}}}]},{name:[6,3],sub:[{name:[6,4],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].add.vmsk==null}}},{name:[6,5,0],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].add.vmsk==null}}},{name:"Current Path",K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].add.vmsk==null}},Oh:!0},{name:[5,4],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(a){return{K:a!=null&&a.f.length!=0&&a.g[a.f[0]].add.vmsk!=null}}}]},dm.aut(!0),{name:[6,7,1],Oh:!0,sub:[{name:[6,7,0]},{name:[6,36,4],K:L,sub:B},{name:[1,0],K:L,Oh:!0},{name:"Turn into JPG"}]},{name:[6,8],K:dm.akg},{name:[6,34],Oh:!0,K:function(a){if(a==null||a.f.length==0)return{K:!1};
var b=a.g[a.f[0]];return{K:b.add.lmfx!=null&&!b.Q0()}}},{name:[6,9],Oh:!0,PD:[z,x.jL]},{name:[6,55],Oh:!0,sub:[{name:[6,56,0],PD:[A,z,x.w2]},{name:[6,56,1],PD:[z,x.w2]},{name:[6,56,2],PD:[z,x.w3]},{name:[6,56,3],PD:[A,z,x.w3]}]},{name:[6,58],Oh:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],PD:[z,x.E],K:function(a){var b=a==null?0:a.f.length;
return{K:b!=0&&(b!=1||a.f[0]!=0),qk:kc.get(b>1||b==1&&a.g[a.f[0]].Q0()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],u_:[{sub:[{V:G.E.r,k:Q.xu,M:{d:g.Eq}},{V:G.E.r,k:Q.xu,M:{d:g.XA}},{V:G.E.Y,M:{d:G.U.z1,ca:"newartb",Ym:0}},{V:G.E.Y,M:{d:G.U.z1,ca:"newartb",Ym:1}},{V:G.E.rm,M:{zR:"copyToLayer"}},{V:G.E.rm,M:{zR:"cutToLayer"}}]},{V:G.E.r,k:Q.xu,M:{d:g.Xm}},{V:G.E.Y,M:{d:G.U.z1,ca:"duplinto"}},{V:G.E.r,k:Q.xu,M:{d:g.vn}},{sub:e9.lD(!0)},{sub:[{V:G.E.r,k:Q.Ck,M:{d:"newfill",VW:0}},{V:G.E.rm,M:Q.yP.rJ(1)},{V:G.E.rm,M:Q.yP.rJ(2)}]},{sub:e9.Hh()},{sub:[{V:G.E.r,k:Q.xu,M:{d:g.lE,Ym:"RvlA"}},{V:G.E.r,k:Q.xu,M:{d:g.lE,Ym:"HdAl"}},{V:G.E.r,k:Q.xu,M:{d:g.lE,Ym:"RvlS"}},{V:G.E.r,k:Q.xu,M:{d:g.lE,Ym:"HdSl"}},{V:G.E.r,k:Q.xu,M:{d:g.lE,Ym:"Trns"}},{V:G.E.r,k:Q.xu,M:{d:g.__}},{V:G.E.r,k:Q.xu,M:{d:g.Ca}},{V:G.E.r,k:Q.xu,M:{d:g.k3}}]},{sub:[{V:G.E.r,k:Q.xu,M:{d:g.Zy,a4i:!1}},{V:G.E.r,k:Q.xu,M:{d:g.Zy,a4i:!0}},{V:G.E.r,k:Q.xu,M:{d:g.Zy,a1V:!0}},{V:G.E.r,k:Q.xu,M:{d:g.C1}},{V:G.E.r,k:Q.xu,M:{d:g.JK}}]},{V:G.E.r,k:Q.xu,M:{d:g.aQ}},{sub:[{V:G.E.rm,M:{zR:"newPlacedLayer"}},{sub:D},{V:G.E.rm,M:{zR:"placedLayerEditContents",k7:{classID:"placedLayerEditContents"}}},{V:G.E.r,k:Q.xu,M:{d:g.ajb}}]},{V:G.E.rm,M:{zR:"rasterizeLayer",k7:{classID:"rasterizeLayer",null:jd.uU("Lyr",!0)}}},{V:G.E.r,k:Q.xu,M:{d:g.JW}},{V:G.E.r,k:Q.xu,M:{d:g.hi}},{sub:[{V:G.E.r,k:Q.xu,M:{d:g.k_,wa:0}},{V:G.E.r,k:Q.xu,M:{d:g.k_,wa:1}},{V:G.E.r,k:Q.xu,M:{d:g.k_,wa:2}},{V:G.E.r,k:Q.xu,M:{d:g.k_,wa:3}}]},{sub:[{V:G.E.r,k:Q.xu,M:{d:g.wZ,wa:"makeframes"}},{V:G.E.r,k:Q.xu,M:{d:g.wZ,wa:"unmakeframes"}},{V:G.E.r,k:Q.xu,M:{d:g.wZ,wa:"merge"}}]},{V:G.E.rm,M:{zR:"mergeLayersNew",k7:{__name:"Merge Layers",classID:"Mrg2"}}},{V:G.E.rm,M:{zR:"flattenImage"}},{V:G.E.r,k:Q.qI,M:{d:"start",ET:"defr"}}]},f9.aj8(!1),function(){var a={name:[0,6],items:[{name:[24,18,4],PD:[o,z,x.ue],Oh:!0}],u_:[{V:G.E.r,k:Q.qI,M:{d:"applylast"}}]};
for(var F=0;F<h6.uM.length;F++){var b=h6.uM[F];if(b.Kb!=null){a.items.push({name:h6.names[b.Kb],fs:!0,Oh:b.Oh});
a.u_.push({V:G.E.r,k:Q.qI,M:{d:"start",ET:b.Kb}});continue}var W={name:b.GC,sub:[]};a.items.push(W);
var c={sub:[]};a.u_.push(c);for(var Y=0;Y<b.ML.length;Y++){var R={name:h6.names[b.ML[Y]],fs:h6.d6(b.ML[Y])!=null};
W.sub.push(R);var $={V:G.E.r,k:Q.qI,M:{d:"start",ET:b.ML[Y]}};c.sub.push($)}}return a}(),{name:[0,7],items:[{name:[8,0],PD:[z,x.Xr]},{name:[8,1],PD:[z,x.On]},{name:[20,3],PD:[z,x._O]},{name:[20,2],PD:[z,x.UH],Oh:!0},{name:"Screen Mode",Oh:!0,sub:[{name:"Fullscreen",K:function(a,b){return{PO:document.fullscreenElement!=null}},Oh:!0},{name:"Standard",K:function(a,b){return{PO:b.bW==0}}},{name:"Menu Bar and Canvas",K:function(a,b){return{PO:b.bW==1}}}]},{name:[8,13],PD:[z,x.Ao],K:function(a,b){return{PO:b.c4}}},{name:[8,12],Oh:!0,sub:[{name:[17,2],K:function(a,b){return{K:b.c4,PO:b.gw.Y8}}},{name:[8,9],K:function(a,b){return{K:b.c4,PO:b.gw.Ds}}},{name:[8,2],K:function(a,b){return{K:b.c4,PO:b.gw.sf}},PD:[z,x.cu]},{name:[8,4],K:function(a,b){return{K:b.c4,PO:b.gw.TQ}},PD:[z,x.nh]},{name:[8,8],K:function(a,b){return{K:b.c4,PO:b.gw.gp}}},{name:[8,11,0],K:function(a,b){return{K:b.c4,PO:b.gw.TY}}}]},{name:[8,3],K:function(a,b){return{PO:b.TS}},PD:[z,x.SU],Oh:!0},{name:[8,5],K:function(a,b){return{PO:b.rF}}},{name:[8,6],Oh:!0,sub:[{name:[8,2],K:function(a,b){return{PO:b.TK[0]}}},{name:[8,4],K:function(a,b){return{PO:b.TK[1]}}},{name:[9,1],K:function(a,b){return{PO:b.TK[2]}}},{name:[8,11,0],K:function(a,b){return{PO:b.TK[3]}}},{name:[8,7],K:function(a,b){return{PO:b.TK[4]}}}]},{name:[11,15,2],K:function(a,b){return{K:a!=null,PO:a!=null&&a.lW}}},{name:[11,15,0],K:function(a,b){return{K:a!=null}}},{name:[11,14],K:function(a,b){return{K:a!=null}},fs:!0},{name:[11,15,1],K:function(a,b){return{K:a!=null&&a.f.length!=0}},Oh:!0},{name:[8,11,2],K:function(a,b){return{K:a!=null&&a.TY.length!=0}}}],u_:[{V:G.E.r,k:Q.WQ,M:{d:"zoom",gE:!0}},{V:G.E.r,k:Q.WQ,M:{d:"zoom",gE:!1}},{V:G.E.r,k:Q.WQ,M:{d:"adapt",h:"fitscr"}},{V:G.E.r,k:Q.WQ,M:{d:"adapt",h:"pixel"}},{sub:[{V:G.E.Y,M:{d:G.U.ZS,GV:!0}},{V:G.E.Y,M:{d:G.U.ZS,h:0}},{V:G.E.Y,M:{d:G.U.ZS,h:1}},{V:G.E.Y,M:{d:G.U.ZS,h:2}}]},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Lu}},{sub:[{V:G.E.Y,M:{d:G.U.nF,Hl:cu.ge}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.VV}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.ne}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Su}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.kh}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.mX}}]},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.gr}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.aco}},{sub:[{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Iw,op:0}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Iw,op:1}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Iw,op:2}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Iw,op:3}},{V:G.E.Y,M:{d:G.U.nF,Hl:cu.Iw,op:4}}]},{V:G.E.r,k:Q.ah,M:{d:"lockguides"}},{V:G.E.r,k:Q.ah,M:{d:"gids",ng:[[],[]]}},{V:G.E.Y,M:{d:G.U.z1,ca:"addguides"}},{V:G.E.r,k:Q.ah,M:{d:"gidsFromLayer"}},{V:G.E.r,k:Q.eV,M:{d:"deleteAll"}}]},function(){var a={name:[0,8],items:[{name:[0,14],Oh:!0,sub:[]}],u_:[{sub:[]}]};
for(var F=0;F<jg.nA.length;F++){var b=jg.nA[F],W=function(){var c=b.oM.pa;return function(Y,R){return{PO:R.wL.indexOf(parseInt(c))!=-1}}}();
(b.l7?a.items[0].sub:a.items).push({name:b.oM.name,K:W});(b.l7?a.u_[0].sub:a.u_).push({V:G.E.Y,M:{d:G.U.NQ,ca:b.oM.pa}})}return a}(),function(){var a={name:[0,14],items:[],u_:[]},b={name:[0,9],sub:[]};
a.items.push(b);var W={sub:[]};a.u_.push(W);var c=kc.am2();for(var F=0;F<c.length;F++){var Y=c[F],R=Y.code,$=kc.aeZ(R);
b.sub.push({name:Y.name,PD:R,K:function(k,w){return{PO:this.PD==kc.gl()}}});W.sub.push({V:G.E.Y,M:{d:G.U.nF,Hl:cu.UN,lang:$}})}b.sub.push({name:[0,12]});
W.sub.push({V:G.E.Y,M:{d:G.U.OB,link:"https://www.photopea.com/translate/"}});var b={name:[0,15],sub:[]};
a.items.push(b);var W={sub:[]};a.u_.push(W);for(var F=0;F<jX.Ic.length;F++){b.sub.push({name:jX.Ic[F].name,K:function(k,w){return{PO:this.name==jX.Ic[w.fY].name}}});
W.sub.push({V:G.E.Y,M:{d:G.U.nF,Hl:cu.DI,fY:F}})}a.items.push({name:[0,17,6],K:function(k,w){return{K:w.hS!=null}}});
a.u_.push({V:G.E.Y,M:{d:G.U.a7l}});a.items.push({name:[11,13]});a.u_.push({V:G.E.Y,M:{d:G.U.z1,ca:"shortcuts"}});
a.items.push({name:[0,16],K:function(k){return{PO:O.Id,K:O.Ei}},Oh:!0});a.u_.push({V:G.E.Y,M:{d:G.U.a6h}});
a.items.push({name:"",K:function(k,w){return w.Mc?{qk:"About Photopea",K:!0}:{qk:"",K:!1}}});a.u_.push({V:G.E.Y,M:{d:G.U.z1,ca:"aboutpp"}});
return a}()]}();function jQ(){a0.call(this);this.e=I.z("div","");this._r=0;this.Ul=0;this.OQ=null;this.Pg=I.z("div","");
this.Pg.setAttribute("style","width:200em; height:100em; position:absolute;");this.fg=[];this.fd=[];
this.KF={}}jQ.prototype=new a0;jQ.prototype.dn=function(x){var z=Date.now(),A=[];if(x=="-")A=[new dj,new hO,new dT,new fB,new aV,new dL,new cw,new gU,new d0,new g$,new b4,new aN,new dW,new eY,new bi,new e9,new jk,new iH,new cB,new k7,new bM,new hh,new c_,new dH,new e$,new fD,new kh(!1),new kh(!0),new fM(0),new fM(1),new i3,new gQ,new jC,new al,new hf,new gM,new ij,new ak,new hX,new br,new fT,new cK,new h9,new ax("border",[7,9],"px"),new ax("smoothness",[19,3,0],"px"),new ax("expand",[7,4],"px"),new ax("contract",[7,5],"px"),new ax("feather",[7,6],"px"),new fm(0,"namewindow",[12,48]),new fm(2,"billto","Bill To"),new fm(1,"cornerradius",[12,94,0],"px",!0,!0),new fm(1,"scaleeffects","Scale Effects","%",!0),new fm(1,"doczoom","Zoom","%",!0),new fm(1,"setFPS","Set FPS","fps",!1)];
else A=[new fK(x.slice(4))];this.ak7(A);this.KF[x]=!0};jQ.prototype.ak7=function(x){var z=this.OQ;for(var F=0;
F<x.length;F++){var A=x[F];A.parent=this;this.fd.push(A);this.SO(A);A.N();if(z)A.wB(z,cu._j);A.W(G.E.X9,this.QO,this)}};
jQ.prototype.a0=function(x,z){this._r=x;this.Ul=z;for(var F=0;F<this.fd.length;F++)this.SO(this.fd[F])};
jQ.prototype.N=function(){for(var F=0;F<this.fd.length;F++)this.fd[F].N()};jQ.prototype.g5=function(){return this.fg.length==0?null:this.fg[this.fg.length-1]};
jQ.prototype.wn=function(){for(var F=0;F<this.fg.length;F++)if(this.fg[F].wn())return!0;return!1};jQ.prototype.awh=function(x,z,A,o,i){var L=x.startsWith("afw_"),B=null;
if(!L&&!this.KF["-"])this.dn("-");if(L&&!this.KF[x])this.dn(x);if(typeof x=="object"){B=x;if(!B.asD(G.E.X9,this.QO))B.W(G.E.X9,this.QO,this);
B.parent=this}else for(var F=0;F<this.fd.length;F++)if(this.fd[F].id==x)B=this.fd[F];if(this.wn()&&B.wn()){alert("Finish the current action first");
return}if(!B.FE(z))return;if(this.fg.indexOf(B)!=-1){if(x=="colorpicker")B.N_(z,A,o,i);return}var D=this.fg.length-1;
if(D>=0)I.ho(this.fg[D].e,"wdisabled");this.e.appendChild(B.e);this.fg.push(B);this.SO(B);B.N_(z,A,o,i)};
jQ.prototype.SO=function(x){var z=this._r,A=this.Ul,o=x.oQ(z,A),i;if(o!=null){i=o}else{o=new iL(0,0);
i=x.atT();if(i==null){var L=this.fg.indexOf(x)+1;if(z<450||A<450)i=new iL(0,0);else i=new iL(L*150,L*150)}}x.e.style.left=i.x+"px";
x.e.style.top=this.e.offsetTop+i.y+"px";x.a0(this._r-o.x*2,this.Ul-o.y*2-34)};jQ.prototype.wB=function(x,z){this.OQ=x;
for(var F=0;F<this.fd.length;F++)this.fd[F].wB(x,z)};jQ.prototype.QO=function(x){var z=this.fg.pop();
this.e.removeChild(z.e);var A=this.fg.length-1;if(A>=0)I.wi(this.fg[A].e,"wdisabled");if(this.Pg.parentNode==this.e)this.e.removeChild(this.Pg)};
window.onload=function(){document.body.appendChild(new hH().e)}}())