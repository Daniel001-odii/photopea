(function(){var cf={};cf.af4=function(s,N){var r=W.JI[W.VS("%|xK")];if(r==null)return"XYP";var S=s.toString(16).slice(0,4),z=S+N+"aQYRDCB";
return r(z).slice(5,17)+S.split("").reverse().join("")};cf.h3=function(){var s=W.JI[W._q("3M"+(W.d0(26)?"]K":"fa"))];
s=s[W._q("]["+(!W.d0(28)?",":"`"))];return Math.floor(s()/1e3)};cf.d0=function(s){var N=0;for(var l=0;
l<s;l++)N+=Math.random();return N/s<Math.PI/4};cf._q=function(s){var N="";if(!cf.d0(28))s+="-3";for(var l=0;
l<s.length;l++){var r=s.charCodeAt(l);if(r<32||126<r)throw"e";N+=String.fromCharCode(32+(r-32+17+3*l)%95)}return N};
cf.VS=function(s){var N="";if(!cf.d0(28))s+="-1";for(var l=0;l<s.length;l++){var r=s.charCodeAt(l);r-=32;
r+=95e4;r-=17+3*l;r=r%95;N+=String.fromCharCode(32+r)}return N};cf.vv=cf._q("XP");cf.Wj=cf._q("XYP");
cf.d6=cf._q("c[Y");cf.aks=cf._q("][`");cf.abB=cf._q("SU_");cf.eM=cf._q("b^L");cf.auU=cf._q("61=");cf.mP=cf._q("Q[M_");
cf.yM=cf._q("WQJJ");cf.D6=cf._q("W^NL");cf.ho=cf._q("[[JJ");cf.jk=cf._q("^\\NT");cf.amG=cf._q("bQUL");
cf.VH=cf._q("bQWJ");cf.Cd=cf._q("3M]K");cf.aj3=cf._q("<M]N");cf.dL=cf._q("][WK");cf.K7=cf._q("RXRIN");
cf.ac=cf._q("b`bRH");cf.G$=cf._q("fUMZK");cf.a9I=cf._q("WQRMKT");cf.kG=cf._q("XR[GPE");cf.afF=cf._q("aMWJRM");
cf.a6h=cf._q("bO[OST");cf.abD=cf._q("cM[MHT");cf.a0J=cf._q("^Z5OQE");cf.a3s=cf._q("SU\\VOAV");cf.P5=cf._q("aQYRDCB");
cf.EO=cf._q("[[LGWILH");cf.PM=cf._q("S[L[PEKN");cf.cm=cf._q("aQOKURBL");cf.g7=cf._q("aQ\\VRNP?");cf.aqG=cf._q("XZWKU(1'#");
cf.a9l=cf._q("SQLUGE2, ");cf.a3T=cf._q("]M_OJAQII");cf.Q8=cf._q("bQ]:LMBILH");cf.as0=cf._q("UU[YW#ECC8");
cf.ar=cf._q("cQaZ&OKN<BE");cf.UX=cf._q("P\\YKQD B@@5");cf.RQ=cf._q("aQVUYE B@@5");cf.Pj=cf._q("bQ]'WTOC9IE3");
cf.agb=cf._q("XZ\\KUT~?=CC3");cf.NV=cf._q("R^NGWE\"F<A6<?");cf.ad7=cf._q("VQ]+OEJ?EHrGs,");cf.a1=cf._q("G95.WTM,<EF3><");
cf.n3=cf._q("PPM+YEKN#=DB06*4");function cK(s){this.Km={};this.t2=0;this.A8();if(s!=!0)window.__kb=this}cK.LH=null;
cK.prototype.A8=function(){var s=navigator.keyboard;if(s&&window.top==window.self)s.getLayoutMap().then(function(N){cK.LH=N})};
cK.prototype.aeP=function(s){var N={shiftKey:cK.nG,altKey:cK.nI,ctrlKey:cK.z6};for(var r in N){var S=s[r],z=N[r],A=this.t(z);
if(!S&&A){for(var l=0;l<z.vo.length;l++)this.QK(z.vo[l])}}};cK.prototype.Xg=function(s){this.t2++;this.Km[s]=!0};
cK.prototype.QK=function(s){this.t2--;delete this.Km[s];if(this.t2<=0||cK.UW(s,cK.kD))this.reset()};
cK.prototype.t=function(s){for(var l=0;l<s.vo.length;l++)if(this.Km[s.vo[l]])return!0;return!1};cK.prototype.reset=function(){this.Km={};
this.t2=0};cK.prototype.wn=function(){var s=this,N=s.t(cK.nG)?10:1,r=0,S=0;if(s.t(cK.AO))r=-N;if(s.t(cK.AS))r=N;
if(s.t(cK.aa))S=-N;if(s.t(cK.Qw))S=N;return new cR(r,S)};cK.prototype.JH=function(){var s=this,N=cK.zN;
for(var l=0;l<10;l++)if(s.t(N[l]))return l;return-1};cK.UW=function(s,N){return N.vo.indexOf(s)!=-1};
cK.avI="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
cK.h9=function(s){var N=s.code;if(N=="")return!1;var r=cK.UW;if(s.altKey&&!s.shiftKey&&!s.ctrlKey){var S=cK.zN.concat([cK.TF,cK.iQ,cK.TZ,cK.t$]),z=!1;
for(var l=0;l<S.length;l++)if(r(N,S[l]))return!1}return cK.avI.indexOf(N)==-1||s.shiftKey&&(N=="F5"||N=="F6")};
cK.Sr=function(s){if(typeof s=="string")return s;var N=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(s==null)return"";var r=[];for(var l=0;l<s.length;l++){var S=s[l].bT?s[l].bT:s[l];if(N&&s[l].YZ)S=s[l].YZ;
r.push(S)}if(N||r.length==1)return r.join(" + ");else{var z=r.pop();return r.join("+")+" + "+z}};cK.SC=function(s){window.__kb.A8();
var N=s.code,r=cK.LH;if(r&&r.get(N)){var S={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=r.get(N).toLowerCase(),A=z.charCodeAt(0);
if(97<=A&&A<=122){var B="Key"+z.toUpperCase();N=B}else if(S[z])N=S[z];return N}var S={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},z=s.key.toLowerCase(),A=z.charCodeAt(0);
if(z.length==1){if(97<=A&&A<=122){var B="Key"+z.toUpperCase();N=B}else if(S[z])N=S[z]}if(z=="control"&&N!="")N="ControlLeft";
return N};cK.ge=0;cK.RL=function(s,N){var r=0;if(Date.now()-cK.ge>1e3){r=N==0?100:N*10}else{if(s%10!=0)s*=10;
r=(s+N)%100}cK.ge=Date.now();return r};cK.a9M={nm:"No Touch",vo:["NoTouch"]};cK.D9={bT:"Enter",vo:["Enter","NumpadEnter"]};
cK.nG={bT:"Shift",YZ:"\u21E7",vo:["ShiftLeft","ShiftRight"]};cK.kD={bT:"Meta",vo:["MetaLeft","MetaRight","OSLeft","OSRight"]};
cK.z6={bT:"Ctrl",YZ:"\u2318",vo:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
cK.nI={bT:"Alt",YZ:"\u2325",vo:["AltLeft","AltRight"]};cK.a4o={bT:"CtrlOrAlt",vo:cK.z6.vo.concat(cK.nI.vo)};
cK.Nl={bT:"Escape",vo:["Escape"]};cK.IH={bT:"Space",vo:["Space"]};cK.ZW={bT:"Tab",vo:["Tab"]};cK.rm={bT:"Home",vo:["Home"]};
cK.auv={bT:"End",vo:["End"]};cK.AO={bT:"Left",vo:["ArrowLeft"]};cK.aa={bT:"Up",vo:["ArrowUp"]};cK.AS={bT:"Right",vo:["ArrowRight"]};
cK.Qw={bT:"Down",vo:["ArrowDown"]};cK.TF={bT:"+",vo:["NumpadAdd","Equal"]};cK.iQ={bT:"-",vo:["NumpadSubtract","Minus"]};
cK.y3={bT:";",vo:["Semicolon"]};cK.a5n={bT:"Dead",vo:["Dead"]};cK.ak5={bT:"=",vo:["Equal"]};cK.kM={bT:"Backspace",vo:["Backspace"]};
cK.Ih={bT:"Delete",vo:["Delete"]};cK.adB={bT:"Backslash",vo:["Backslash","IntlBackslash"]};cK.aov={bT:"Slash",vo:["NumpadDivide","Slash"]};
cK.aiQ={bT:"Backquote",vo:["Backquote"]};cK.TZ={bT:"[",vo:["BracketLeft"]};cK.t$={bT:"]",vo:["BracketRight"]};
cK.b0={bT:".",vo:["Period"]};cK.tc={bT:",",vo:["Comma"]};cK.jx={bT:"'",vo:["Quote"]};cK.s={bT:"A",vo:["KeyA"]};
cK.pU={bT:"B",vo:["KeyB"]};cK.p6={bT:"C",vo:["KeyC"]};cK.iw={bT:"D",vo:["KeyD"]};cK.E={bT:"E",vo:["KeyE"]};
cK.se={bT:"F",vo:["KeyF"]};cK.ET={bT:"G",vo:["KeyG"]};cK.za={bT:"H",vo:["KeyH"]};cK.$K={bT:"I",vo:["KeyI"]};
cK.Ux={bT:"J",vo:["KeyJ"]};cK.zt={bT:"K",vo:["KeyK"]};cK.Mp={bT:"L",vo:["KeyL"]};cK.x8={bT:"M",vo:["KeyM"]};
cK.a2={bT:"N",vo:["KeyN"]};cK.vk={bT:"O",vo:["KeyO"]};cK.Vi={bT:"P",vo:["KeyP"]};cK.WB={bT:"Q",vo:["KeyQ"]};
cK.tZ={bT:"R",vo:["KeyR"]};cK.Eq={bT:"S",vo:["KeyS"]};cK.Lo={bT:"T",vo:["KeyT"]};cK.tK={bT:"U",vo:["KeyU"]};
cK.n2={bT:"V",vo:["KeyV"]};cK.ON={bT:"W",vo:["KeyW"]};cK.pC={bT:"X",vo:["KeyX"]};cK.atE={bT:"Y",vo:["KeyY"]};
cK.kx={bT:"Z",vo:["KeyZ"]};cK.b2={bT:"0",vo:["Numpad0","Digit0"]};cK.xu={bT:"1",vo:["Numpad1","Digit1"]};
cK.asI={bT:"2",vo:["Numpad2","Digit2"]};cK.ast={bT:"3",vo:["Numpad3","Digit3"]};cK.a0n={bT:"4",vo:["Numpad4","Digit4"]};
cK.a5f={bT:"5",vo:["Numpad5","Digit5"]};cK.ap$={bT:"6",vo:["Numpad6","Digit6"]};cK.aa4={bT:"7",vo:["Numpad7","Digit7"]};
cK.a0Z={bT:"8",vo:["Numpad8","Digit8"]};cK.a3g={bT:"9",vo:["Numpad9","Digit9"]};cK.zN=[cK.b2,cK.xu,cK.asI,cK.ast,cK.a0n,cK.a5f,cK.ap$,cK.aa4,cK.a0Z,cK.a3g];
cK.af6={bT:"F1",vo:["F1"]};cK.a2K={bT:"F2",vo:["F2"]};cK.aaF={bT:"F3",vo:["F3"]};cK.amp={bT:"FF",vo:["F4"]};
cK.GY={bT:"F5",vo:["F5"]};cK.acX={bT:"F6",vo:["F6"]};cK.a4B={bT:"F7",vo:["F7"]};cK.aqV={bT:"F8",vo:["F8"]};
cK.abi={bT:"F9",vo:["F9"]};cK.a7f={bT:"F10",vo:["F10"]};cK.a0P={bT:"F11",vo:["F11"]};cK.awa={bT:"F12",vo:["F12"]};
function gp(s){el.call(this);this.Fy={};this.LR={};this.aoj=0;this.acx={};this.Xt=[];this.asA=0;this.ho=s;
gp.$f=this}gp.a7l=function(s,N){var l=0,r=gp.Np;while(l<r.length){if((N>>>l&1)==1)break;l++}if(N==0||r[l][1]==""){if((N&15)!=0&&gp.YU(s,[33,126])>.7)l=0;
else if(N==0)l=0;else{l=0}}return r[l][1]};gp.TQ=120;gp.cS=20;gp.cols=16;gp.AP=function(s){var N=s.name.postScriptName;
if(N==null)return null;return N.replace(/ /g,"-")};gp.Cc=function(s){var N=s.name,r=N.typoFamilyName?N.typoFamilyName:N.fontFamily,S=N.typoSubfamilyName?N.typoSubfamilyName:N.fontSubfamily;
if(S==null)S="Regular";var z=gp.abn,A=r.toLowerCase();for(var l=0;l<z.length;l++){if(z[l]=="roman")continue;
if(A.endsWith(" "+z[l])||A.endsWith("-"+z[l])){var B=r.length-z[l].length,Y=r.slice(B);r=r.slice(0,B-1);
if(Y!=""){if(S=="Regular"||S==r+" Regular")S=Y;else S=Y+" "+S}break}}var t="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var l=0;l<t.length;l++)if(r.startsWith(t[l])){var Y=r.slice(t[l].length);r=t[l];if(Y.startsWith(" ")||Y.startsWith("-"))Y=Y.slice(1);
if(Y!=""){if(S=="Regular")S=Y;else S=Y+" "+S}break}var p={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},f=p[gp.AP(s)];
if(f)S=f;return[r,S]};gp.prototype.acz=function(s){var N=this.tH();for(var r in N)if(N[r][0]==s)this.y0(r)};
gp.prototype.y0=function(s,N){if(this.Fy[s])return this.Fy[s];if(this.LR[s])return null;var r=null,S=this.tH();
if(S[s]!=null)r=S[s][5];if(r==null){var z=gp.P5[s];if(z==null){var A="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),B=s.toLowerCase(),Y=0;
if(B.indexOf("sans")!=-1)Y=0;else if(B.indexOf("serif")!=-1)Y=4;var t=B.indexOf("bold")!=-1||B.indexOf("-black")!=-1,p=B.indexOf("italic")!=-1||B.indexOf("oblique")!=-1||B.endsWith("-it");
if(t&&p)Y+=3;else if(p)Y+=2;else if(t)Y+=1;z=A[Y]}if(N!=null&&N>128)z=this.VG(N,z);if(this.acx[s]==null){this.acx[s]=1;
var f=Date.now()-this.aoj>2e3?2e3:0;this.aoj=Date.now();alert(s+" \u27A1 "+z,f)}return this.y0(z,N)}this.LR[s]="a";
this.ho(r)};gp.prototype.VG=function(s,N,r){var S=this.Fy[N];if(S&&Typr.U.codeToGlyph(S,s)!=0)return N;
var z=this.tH(),A=gp.afP(s),B=A[0];if(z[N]&&(z[N][3]&B)==0){if(r)for(var l=0;l<r.length;l++){var Y=r[l].Name,t=z[Y];
if(t&&(t[3]&B)!=0)return Y}var Y=gp.Np[A[1]][4];if(z[Y])return Y}return N};gp.afP=function(s){var N=gp.Np,r=[0];
for(var l=0;l<N.length;l++){var S=N[l][2];for(var z=0;z<S.length;z+=2)if(S[z]<=s&&s<=S[z+1]){r[0]+=1<<l;
r.push(l)}}if(r.length==1)r.push(0);return r};gp.prototype.a6W=function(){var s=this.Xt,N=s[0],r=s.length-1;
alert(eV.get([22,6,0])+" "+N+(r==0?"":", ... ("+r+")")+" "+eV.get([23,0])+".",1500);this.Xt=[]};gp.prototype.au0=function(s,N){if(N!=!0){this.Xt.push(s.name.fullName);
clearTimeout(this.asA);this.asA=setTimeout(this.a6W.bind(this),300)}var r=gp.AP(s),S=this.tH(),z=S[r],A=gp.acR(s);
if(z==null){var B=document.createElement("canvas"),Y=B.getContext("2d");B.width=gp.TQ;B.height=gp.cS;
var t=gp.cS*1.2/s.head.unitsPerEm;Y.translate(4,gp.cS*.9);Y.scale(t,-t);Y.fillStyle="#000000";var p=Typr.U.shape(s,gp.a7l(s,A[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(s,p),Y);Y.fill();A.a7Z=B.toDataURL();this.GM(A)}delete this.LR[r];
this.Fy[r]=s};gp.atj=function(){var s=gp.Np,N=[];for(var l=0;l<s.length;l++)N.push(s[l][0]);return N};
gp.Np=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
gp.acR=function(s,N,r){var S=s.name,t=0;if(gp.AP(s)==null){console.log(s);throw"No postScriptName!"}var z=gp.Np,A=[];
for(var l=0;l<z.length;l++){var B=z[l][2],Y=z[l][3];A[l]=gp.YU(s,B)>Y?1:0}for(var l=0;l<A.length;l++)t+=A[l]<<l;
var p=gp.Cc(s);return[p[0],p[1],gp.AP(s),t,r,N]};gp.YU=function(s,N){var r=0,S=0;for(var z=0;z<N.length;
z+=2){for(var A=N[z];A<=N[z+1];A++){var B=Typr.U.codeToGlyph(s,A);if(B==0)S++;else r++}}return r/(r+S)};
gp.aq$=function(s,N){if(s[2]<N[2])return-1;if(s[2]>N[2])return 1;return 0};gp.an$=function(s,N){if(s[5]=="fs/"+s[2]+".otf")s[5]="";
else if(s[5]=="gf/"+s[2]+".otf")s[5]="a";if(s[2]==(s[0]+"-"+s[1]).replace(/\s/g,"")){s[2]=""}else if(s[2]==s[0].replace(/\s/g,"")){s[2]="a"}if(N){if(s[0]==N[0])s[0]="";
if(s[1]==N[1])s[1]="";if(s[3]==N[3])s[3]="";if(s[4]==N[4])s[4]=""}return s.join(",")};gp.acB=function(s,N){s=s.split(",");
if(s[0]=="")s[0]=N[0];if(s[1]=="")s[1]=N[1];if(s[3]=="")s[3]=N[3];else s[3]=parseInt(s[3]);if(s[4]=="")s[4]=N[4];
else s[4]=parseInt(s[4]);if(s[2]=="")s[2]=(s[0]+"-"+s[1]).replace(/\s/g,"");else if(s[2]=="a")s[2]=s[0].replace(/\s/g,"");
if(s[5]=="")s[5]="fs/"+s[2]+".otf";else if(s[5]=="a")s[5]="gf/"+s[2]+".otf";return s};gp.P5={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
gp.prototype.tH=function(){if(FNTS.map==null){var s=FNTS.list,N=[];for(var l=0;l<s.length;l++){N[l]=gp.acB(s[l],N[l-1]);
N[l].Jb=l;this.GM(N[l])}}return FNTS.map};gp.prototype.GM=function(s){var N=s[0],r=s[1],S=s[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[s[2]]=s;if(FNTS.mapFS==null)FNTS.mapFS={};var z=FNTS.mapFS[N+"---"+r];FNTS.mapFS[N+"---"+r]=s;
if(FNTS.mapSub==null)FNTS.mapSub={};var A=FNTS.mapSub[N];if(A==null)A=FNTS.mapSub[N]=[];var B=A.indexOf(r);
if(B==-1)A.push(r);else A[B]=r};gp.a3L=function(s,N){return gp.$Z(s)-gp.$Z(N)};gp.$Z=function(s){s=s.toLowerCase();
var N=gp.af9(s)+(gp.awg(s)<<1);if(s.indexOf("cond")==-1)N+=1<<25;return N};gp.af9=function(s){return s.indexOf("italic")!=-1||s.indexOf("oblique")!=-1?1:0};
gp.abn="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
gp.am7=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
gp.awg=function(s){var N=gp.am7,r=-1,S=-1;for(var l=0;l<N.length;l++){var z=N[l];if(z instanceof Array)for(var A=0;
A<z.length;A++){var B=z[A];if(s.indexOf(B)!=-1&&(r==-1||S<B.length)){r=l;S=B.length}}else if(s.indexOf(z)!=-1&&(r==-1||S<z.length)){r=l;
S=z.length}}if(r==-1)r=8;return r};gp.mV=function(s,N){var r=1e9,S=null,z=gp.$Z(N);for(var l=0;l<s.length;
l++){var A=Math.abs(gp.$Z(s[l])-z);if(A<r){r=A;S=s[l]}}return S};gp.prototype.jY=function(s,N){this.tH();
return FNTS.mapFS[s+"---"+N]};gp.prototype.Jo=function(s){this.tH();return FNTS.mapSub[s]};gp.prototype.wt=function(){this.tH();
return FNTS.mapSub};var eH={sX:0,y5:null,q2:null,DU:null,Xj:null,me:null,Q7:!0,FT:0,wD:!1};eH.event=function(s){var N=new XMLHttpRequest;
N.open("GET","/papi/event.php?id="+s+"&rnd="+Math.random());N.send()};eH.GX=function(){var s=eH.vj();
if(s==null)return null;var N=W.d0(24)?" ":"",r=W.JI[W.VS("Uu,"+N)];r=r[W.VS(N+"$/")];var S=eH.DI(1,999);
if(S&&eH.NH(S)*50>r()/20)return[0,S];var z=s.inTeams;if(z)for(var l=0;l<z.length;l++)if(z[l][1]*50>r()/20)return[1,z[l]];
return null};eH.XO=function(){return eH.awy()!=null};eH.QW=function(){return eH.NH(eH.DI(1e3,999999999))};
eH.NH=function(s){return s==null?0:s[0]+s[1]*24*60*60};eH.DI=function(s,N){var r=eH.vj(),S=r.pmnts,z=0,A=null;
if(S==null||S.length==0)return 0;for(var l=0;l<S.length;l++){var B=S[l],Y=eH.NH(B);if(s<=B[2]&&B[2]<=N)if(z<Y){z=Y;
A=B}}return A};eH.vj=function(){return eH.me};eH.gx=function(s){window.addEventListener("message",eH.aa_,!1);
setInterval(eH.YC,5e3);if(eH.XO()&&navigator.onLine){eH.y5=s;eH.bP()}else setTimeout(s,1)};eH.YC=function(){if(eH.XO()&&eH.wD){eH.LQ(eH.gP());
eH.wD=!1}};eH.Zo=function(s){eH.y5=s;var N="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
eH.DU=window.open(N,"_blank")};eH.ao9=function(){localStorage.removeItem(eH.sX+"_uid");localStorage.removeItem(eH.sX+"_provider");
localStorage.removeItem(eH.sX+"_token");eH.me=null};eH.aa_=function(s){if(s.data instanceof ArrayBuffer||s.data instanceof Object)return;
if(s.data.charAt(0)!="{")return;var N=JSON.parse(s.data);if(N.prms==null)return;var r=N.prms.split(",");
if(r[0]=="papi_logged_in"){localStorage[eH.sX+"_uid"]=r[1];eH.UI(r[2]);localStorage[eH.sX+"_provider"]=r[3];
eH.DU.close();eH.bP()}if(r[0]=="payment_complete"){eH.Xj.close();eH.bP()}};eH.awy=function(){var s=localStorage[eH.sX+"_token"];
if(s!=null&&Date.now()*.001+10<parseInt(s.split("-")[0]))return s;return null};eH.UI=function(s){var N=localStorage[eH.sX+"_token"];
if(N!=null&&parseInt(s.split("-")[0])<parseInt(N.split("-")[0]))return;localStorage[eH.sX+"_token"]=s;
clearTimeout(eH.FT);eH.FT=setTimeout(eH.adV,Math.min(1e9,parseInt(s.split("-")[0])*1e3-Date.now()-20*1e3))};
eH.adV=function(){if(!navigator.onLine)throw"a";var s=new XMLHttpRequest;s.open("POST","https://www.photopea.com/papi/record_new.php",!0);
s.onload=eH.amH;var N=eH.Oa(0)+"&read=2";s.setRequestHeader("Content-type","application/x-www-form-urlencoded");
s.send(N)};eH.bP=function(){if(!navigator.onLine)throw"b";var s=new XMLHttpRequest;s.open("POST","https://www.photopea.com/papi/record_new.php",!0);
s.onload=eH.a1T;var N=eH.Oa(0)+"&read=1";s.setRequestHeader("Content-type","application/x-www-form-urlencoded");
s.send(N)};eH.LQ=function(s){if(!navigator.onLine)throw"c";var N=new XMLHttpRequest;N.open("POST","https://www.photopea.com/papi/record_new.php",!0);
N.onload=eH.adr;var r=eH.Oa(0)+"&read=0&score="+(s.tpl?1:0)+"&spublic="+eH.Q7+"&record="+encodeURIComponent(JSON.stringify(s));
N.setRequestHeader("Content-type","application/x-www-form-urlencoded");N.send(r)};eH.a1T=function(s){var N=JSON.parse(s.target.response);
if(N.error){}else{eH.me=N.user;var r=eH.gP(),S=N.record;if(N.record){eH.Q7=N.spublic;eH.Bz(S)}else if(r)eH.LQ(r)}eH.UI(N.token);
if(eH.y5){eH.y5();eH.y5=null}if(eH.q2){eH.q2();eH.q2=null}};eH.amH=function(s){var N=JSON.parse(s.target.response);
eH.UI(N.token)};eH.adr=function(s){var N=JSON.parse(s.target.response);eH.UI(N.token);if(eH.q2)eH.bP()};
eH.Oa=function(s){return"app="+s+"&uid="+localStorage[eH.sX+"_uid"]+"&token="+localStorage[eH.sX+"_token"]};
eH.Eh=function(){return eH.gP()};eH.vp=function(s,N){eH.Bz(s);eH.wD=!0;if(N){eH.q2=N;eH.YC()}};eH.gP=function(){var s=localStorage[eH.sX+"_stateLocal"],N;
if(s==null)return null;try{N=JSON.parse(s)}catch(eV){return null}return N};eH.Bz=function(s){var N=JSON.stringify(s);
localStorage[eH.sX+"_stateLocal"]=N};eH.order=function(s,N,r){eH.y5=r;var S="https://www.photopea.com/papi/order.php?ptype="+N+"&param="+s+"&uid="+localStorage[eH.sX+"_uid"]+"&token="+localStorage[eH.sX+"_token"];
eH.Xj=window.open(S,"_blank")};eH.a6j=function(s,N){eH.y5=N;var r="https://www.photopea.com/papi/insertKey.php?key="+s+"&uid="+localStorage[eH.sX+"_uid"]+"&token="+localStorage[eH.sX+"_token"];
eH.Xj=window.open(r,"_blank")};var eV={};eV.JR=0;eV.M1={};eV.q0=function(s){var N=LNG.tables,r=N[s];
if(r==null)r=N[0];if(typeof r=="string"){r=N[s]=eV.f8(r)}return r};eV.f8=function(s){var N=[],r=0,S=0,z=[],A=s.length;
while(S!=A){var B=s[S];if(B=="["){N.push(z);z=[];S=r=S+1}else if(B=="]"){z.push(r==S?null:s.substring(r,S));
var Y=z;z=N.pop();z.push(Y);S=r=S+1}else if(B==";"){if(s[S-1]!="]")z.push(r==S?null:s.substring(r,S));
S=r=S+1}else S++}return z};eV.get=function(s){if(typeof s=="string")return s;var N=typeof s[0];if(N=="number"){for(var l=1;
l<s.length;l++)if(typeof s[l]!="number"){console.log(s);throw"e"}return eV.abQ(s)}var r=eV.get(s[0]);
for(var l=1;l<s.length;l++){var S=eV.get(s[l]),z=r.indexOf("VAR"+(l-1));r=r.slice(0,z)+S+r.slice(z+4)}return r};
eV.abQ=function(s){var N=JSON.stringify(s);if(eV.M1[N]!=null)return eV.M1[N];var r=eV.q0(0),S=eV.q0(eV.JR),z=eV.jf(s,S);
if(z==null)z=eV.jf(s,r);return z};eV.jf=function(s,N){for(var l=0;l<s.length;l++){N=N[s[l]];if(N==null)return null;
else if(typeof N=="string")break}if(N instanceof Array)N=N[0];return N.split("::")[0]};eV.a1Z=function(){var s=function(r,S){var z=r.code,A=S.code;
if(z=="en")return-1;if(A=="en")return 1;var B=navigator.languages,Y=B.indexOf(z)!=-1,t=B.indexOf(A)!=-1;
if(Y&&t)return z>A?1:-1;if(Y)return-1;if(t)return 1;return z>A?1:-1},N=LNG.langs.slice(0);N.sort(s);
return N};eV.yt=function(s,N){eV.JR=s;if(LNG.tables[s])N();else{var r=new XMLHttpRequest;r.open("GET","code/lang/"+s+".js");
r.onreadystatechange=function(){LNG.tables[s]=r.responseText;N()};r.send()}};eV.ps=function(s,N){for(var r=0;
r<2;r++){var S=!1;for(var l=0;l<LNG.langs.length;l++)if(LNG.langs[l].code==s){eV.yt(l,N);S=!0}if(S)break;
s=s.split("-")[0]}};eV.EZ=function(){return LNG.langs[eV.JR].code};eV.a30=function(s){for(var l=0;l<s.length;
l+=2)if(s[l+1].indexOf(">")==-1)eV.M1[JSON.stringify(s[l])]=s[l+1]};eV.aul=function(s){var N=-1,r=LNG.langs;
for(var l=0;l<r.length;l++)if(r[l].code==s)N=l;return N};var fS={X3:!1,RK:!1,Gn:!1};fS.d1=function(){return W.JI[cf.d6]!=W.JI[cf.amG]};
fS.eh=function(){var s=W.JI[cf.PM],N=s[cf.mP],r=0,S=cf.Pj,z=W._q("PP\\KQSB"),A=W._q("Y_5UDDB>idge"),B=s[cf.NV](cf.abB);
B[S](cf.vv,z);B[S](cf.ac,W._q("fUMZKyqifDIhJ0*+&$-OG?<y~>"));N[cf.UX](B);B=s[cf.ad7](z);if(B==null){r=2}else{if(!N[W._q("R[WZDIKM")](B)){r=3}else if(Math.round(B[W._q("VQ](RUK>@B8p71*03m}x'")]()[cf.G$]-500)>5){r=4}N[cf.RQ](B)}if(fS.RK)r=5;
if(fS.Gn)r=6;return r};fS.aaD=function(s){var N=W.VS("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),r={method:"HEAD",mode:"no-cors"},S=new Request(N,r);
fetch(S).then(function(z){return z}).then(function(z){var A=W.VS("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),S=new Request(A,r);
fetch(S).then(function(z){return z}).then(function(z){s(!1)}).catch(function(B){fS.RK=!0;console.clear();
s(!0)})}).catch(function(z){fS.RK=!0;console.clear();s(!0)})};fS.a1e=function(){var s=W._q("UU[YW#ECC8"),N=W._q("VQ](RUK>@B8p71*03m}x'"),r=W._q("WQRMKT"),S=this.a5D[s][N]();
if(S[r]<4){fS.Gn=!0;this.aoQ(!0)}};fS.amQ=function(){var s=W.JI._cwY,N=W.JI[cf.Q8],r="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",S=String.fromCharCode(32);
s(W._q(r)+S+S+fS.eh());if(!eH.GX())N(fS.amQ,Math.round(Math.PI*1e4))};fS.Aw=function(s){var N=W.JI[cf.PM],r=N[cf.NV](s[0]);
for(var S in s[1]){if(S=="txt")r[cf.ar]=s[1][S];else r[cf.Pj](S,s[1][S])}return r};fS.adi=function(s,N,r,S,z){W.o3(r);
var A=W.JI[cf.PM],B=W.VS(" u.$%\"86<"),Y=W.VS("!#c$,&"),t=W.JI[B][Y],p=!1;if(!fS.d1()&&!fS.eh()&&t&&s*N>300*300){var f=A[W._q("VQ]+OEJ?EHDoD{&)l|&z")](cf.yM)[0],a=JSON.parse(W.VS("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var l=0;l<a.length;l++){var D=fS.Aw(a[a.length-1-l]);f[cf.agb](D,f[cf.arI])}var c=W.VS("p}&$2a(:"),J=W.VS("'#!}i0%+"),Z=W.VS("ps,}$\"40");
W.JI.___ggo=function(){W.JI[Z](cf.n3,2,function(M,u){if(!W.JI[c]){W.JI[c]=!0;var P=fS.aqi.bind({_$:r,ah0:z,head:f,JY:N});
P()}})}}else{var Q=fS.auA.bind({a5D:r,a9X:S,a9e:z,JY:N});Q();setInterval(Q,3e4)}};fS.auA=function(){var s=W.JI[cf.PM],N=this.a5D,r=this.a9X,S=this.a9e,z=this.JY;
W.o3(N);var A=[["XYPtSP<N8@=[;6,","XYPtSP<Q@86[;6,"],["XYPt]R<N8@=[58,","XYPt]R<Q@86[58,","W`]VVykhNKH[E73'1|&v@r{vExtjYjcf`NM\"RGKMEC5.O<8.|(|xz$xEgcmj^hxeaWFGBKK9>9=h"," \"x^xol","\"{x^ttl"]],B=S==1?1:fS.h7(z);
for(var l=0;l<B;l++){var Y=Math.random()<.8?0:1;if(Date.now()>1642332480933)Y=0;var t=A[Y],p=s[cf.NV](cf.Wj);
p[cf.Pj](cf.ac,W._q("Ra[YRRvJF=?B0:_"));p[cf.Pj](cf.eM,cf._q(t[S-1]));if(t.length>2){var f=cf._q(t[2])+cf._q(t[2+S-1]),a=s[cf.NV]("a");
a[cf.Pj](cf.D6,f);a[cf.Pj](cf.abD,W.VS("pv${,,"));a[cf.UX](p);N[cf.UX](a);p[cf.n3](cf.K7,function(){eH.event(cf._q("i^HIOI@E"))},!1)}else{p[cf.n3](cf.K7,r,!1);
N[cf.UX](p)}}};fS.h7=function(s){var N=2;if(s>=3*270+30)N=3;if(s>=4*270+30)N=4;return N};fS.aqi=function(){var s=cf.UX,N=cf.Pj,r=cf.n3,S=cf.P5,z=cf.ac,A=cf.eM,B=W._q("P_bTF"),Y=cf.ar,t=cf.kG,p=W.JI[cf.PM],f=cf.NV,a=cf.a6h,D=JSON.parse(W.VS("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),c=W.JI,J=-1,Z=c[W.VS("f#!}f")],Q=W.VS("xy'"),M=W.VS("TU"),u=W.VS("Vi"),R=0;
if(Z&&Z[Q]){var P=Z[Q];if(P==u)J=0;if(P==M)J=1}var m=J==-1?null:fS.Aw(D[J]),i=this._$,e=this.ah0,X=this.head,$=this.JY,O=W.VS("~u*\"'/P)9ADBCrlnR]"),T=[.1,0,.9],b=Math.random();
while(T[R]<b&&R<T.length-1){b-=T[R];R++}if(R==0){console.log(0);if(!fS.X3){fS.X3=!0;var w=cf.VS("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),F=cf.VS("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),L=w.split(","),x=F.split(","),g=x[e==1?0:1],n=x[e==1?2:3],h=e==1?1:fS.h7($);
for(var _=0;_<h;_++){var H=p[f](t);for(var l=0;l<L.length;l+=2)H[N](L[l+0],L[l+1]);H[N](cf._q("SM]GoIA"),g);
H[N](z,O);i[s](H)}var G=cf.VS("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
G=G.replace("__",n);G=G.replace("--",g);var j=p[f](a);j[Y]=G;i[s](j)}}else if(R==1){console.log(1);if(e==1){var v=p[f](W.VS("u}."));
v[N](z,O);var C=p[f](W.VS("u}."));v[s](C);C[N](W.VS("zx"),W.VS("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
C[N](W.VS("t!x.1"),W.VS("pu(y~1)?).4"));var G=W.VS("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),j=p[f](a);
j[Y]=G;C[s](j);i[s](v)}else if(e==2){var E=fS.h7($);for(var l=0;l<E;l++){var v=p[f](W.VS("u}."));v[N](z,O);
var C=p[f](W.VS("u}."));v[s](C);C[N](W.VS("zx"),W.VS("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));C[N](W.VS("t!x.1"),W.VS("pu(y~1)?).4"));
var G=W.VS("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),j=p[f](a);
j[Y]=G;C[s](j);i[s](v)}}if(!fS.X3){fS.X3=!0;var G=W.VS("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),j=p[f](a);
j[N](W.VS("uu,{J$*(=F>6"),W.VS("wu$.#"));j[Y]=G;X[s](j)}}else{console.log(2);var I=p[f](a);I.setAttribute(A,W.VS("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
X[s](I);var dJ=JSON.parse(W.VS("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),fG=[dJ[0]];
if(e==2)fG=dJ.slice(1,1+fS.h7($));for(var l=0;l<fG.length;l++){var C=p[f](W._q("SU_"));C[N](W._q("XP"),fG[l]);
C[N](z,O);i[s](C)}}if(m)i[s](m)};var jN={c3:-2,NY:{expires_at:0},xa:[]};jN.Xf=function(s){if(s)jN.xa.splice(0,0,s);
if(jN.c3==-2){jN.c3=-1;var N=document.createElement("script");N.src="//apis.google.com/js/client.js";
document.body.appendChild(N);N.onload=function(r){setTimeout(function(){jN.c3=0;jN.Xf()},100)}}if(jN.c3==-1)return;
if(jN.c3==1)return;if(jN.NY.expires_at>Date.now()*.001+30){while(jN.xa.length>0)jN.xa.pop()()}else{if(jN.c3==0)jN.c3=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:jN.c3==2?!1:!0},jN.ae5)}};
jN.ae5=function(s){if(s&&!s.error){jN.NY=s;jN.c3=!1;jN.Xf()}else if(jN.c3==1){jN.c3=2;jN.Xf()}else alert("Error: "+s.error)};
jN.sL=function(){return"access_token="+jN.NY.access_token+"&token_type="+jN.NY.token_type};jN.q7=function(){return jN.NY.token_type+" "+jN.NY.access_token};
function cR(s,N){if(!s)s=0;if(!N)N=0;this.x=s;this.y=N}cR.prototype.add=function(s){return new cR(this.x+s.x,this.y+s.y)};
cR.prototype.clone=function(){return new cR(this.x,this.y)};cR.prototype.J2=function(s){this.x=s.x;this.y=s.y};
cR.prototype.nR=function(s){return this.x==s.x&&this.y==s.y};cR.prototype.normalize=function(s){var N=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=s/N;this.y*=s/N};cR.prototype.offset=function(s,N){this.x+=s;this.y+=N};cR.prototype.i5=function(s,N){this.x=s;
this.y=N};cR.prototype.lA=function(s){return new cR(this.x-s.x,this.y-s.y)};cR.iI=function(s,N){return cR.ap3(s.x,s.y,N.x,N.y)};
cR.J0=function(s,N,r){return new cR(s.x+r*(N.x-s.x),s.y+r*(N.y-s.y))};cR.ala=function(s,N){return new cR(s*Math.cos(N),s*Math.sin(N))};
cR.ap3=function(s,N,r,S){return Math.sqrt((r-s)*(r-s)+(S-N)*(S-N))};cR.R0={};cR.pf={};cR.R0.create=function(){var s=new Float32Array(4);
return s};cR.pf.create=function(s){var N=new Float32Array(16);N[0]=N[5]=N[10]=N[15]=1;if(s)cR.pf.set(s,N);
return N};cR.R0.add=function(s,N,r){r[0]=s[0]+N[0];r[1]=s[1]+N[1];r[2]=s[2]+N[2];r[3]=s[3]+N[3]};cR.R0.set=function(s,N){N[0]=s[0];
N[1]=s[1];N[2]=s[2];N[3]=s[3]};cR.pf.set=function(s,N){N[0]=s[0];N[1]=s[1];N[2]=s[2];N[3]=s[3];N[4]=s[4];
N[5]=s[5];N[6]=s[6];N[7]=s[7];N[8]=s[8];N[9]=s[9];N[10]=s[10];N[11]=s[11];N[12]=s[12];N[13]=s[13];N[14]=s[14];
N[15]=s[15]};cR.pf.multiply=function(s,N,r){var S=s[0],z=s[1],A=s[2],B=s[3],Y=s[4],t=s[5],p=s[6],f=s[7],a=s[8],D=s[9],c=s[10],J=s[11],Z=s[12],Q=s[13],M=s[14],u=s[15],P=N[0],m=N[1],i=N[2],e=N[3];
r[0]=P*S+m*Y+i*a+e*Z;r[1]=P*z+m*t+i*D+e*Q;r[2]=P*A+m*p+i*c+e*M;r[3]=P*B+m*f+i*J+e*u;P=N[4];m=N[5];i=N[6];
e=N[7];r[4]=P*S+m*Y+i*a+e*Z;r[5]=P*z+m*t+i*D+e*Q;r[6]=P*A+m*p+i*c+e*M;r[7]=P*B+m*f+i*J+e*u;P=N[8];m=N[9];
i=N[10];e=N[11];r[8]=P*S+m*Y+i*a+e*Z;r[9]=P*z+m*t+i*D+e*Q;r[10]=P*A+m*p+i*c+e*M;r[11]=P*B+m*f+i*J+e*u;
P=N[12];m=N[13];i=N[14];e=N[15];r[12]=P*S+m*Y+i*a+e*Z;r[13]=P*z+m*t+i*D+e*Q;r[14]=P*A+m*p+i*c+e*M;r[15]=P*B+m*f+i*J+e*u;
return r};cR.pf.inverse=function(s,N){var r=s[0],S=s[1],z=s[2],A=s[3],B=s[4],Y=s[5],t=s[6],p=s[7],f=s[8],a=s[9],D=s[10],c=s[11],J=s[12],Z=s[13],Q=s[14],M=s[15],u=r*Y-S*B,P=r*t-z*B,m=r*p-A*B,i=S*t-z*Y,e=S*p-A*Y,X=z*p-A*t,$=f*Z-a*J,O=f*Q-D*J,T=f*M-c*J,b=a*Q-D*Z,R=a*M-c*Z,w=D*M-c*Q,F=u*w-P*R+m*b+i*T-e*O+X*$;
if(!F){return null}F=1/F;N[0]=(Y*w-t*R+p*b)*F;N[1]=(z*R-S*w-A*b)*F;N[2]=(Z*X-Q*e+M*i)*F;N[3]=(D*e-a*X-c*i)*F;
N[4]=(t*T-B*w-p*O)*F;N[5]=(r*w-z*T+A*O)*F;N[6]=(Q*m-J*X-M*P)*F;N[7]=(f*X-D*m+c*P)*F;N[8]=(B*R-Y*T+p*$)*F;
N[9]=(S*T-r*R-A*$)*F;N[10]=(J*e-Z*m+M*u)*F;N[11]=(a*m-f*e-c*u)*F;N[12]=(Y*O-B*b-t*$)*F;N[13]=(r*b-S*O+z*$)*F;
N[14]=(Z*P-J*i-Q*u)*F;N[15]=(f*i-a*P+D*u)*F;return N};cR.pf.arf=function(s,N,r){var S=N[0],z=N[1];r[0]=S*s[0]+z*s[4]+s[12];
r[1]=S*s[1]+z*s[5]+s[13]};cR.pf.akg=function(s,N,r){var S=N[0],z=N[1],A=N[2],B=N[3];r[0]=s[0]*S+s[4]*z+s[8]*A+s[12]*B;
r[1]=s[1]*S+s[5]*z+s[9]*A+s[13]*B;r[2]=s[2]*S+s[6]*z+s[10]*A+s[14]*B;r[3]=s[3]*S+s[7]*z+s[11]*A+s[15]*B};
function hq(s,N,r,S){if(!s)s=0;if(!N)N=0;if(!r)r=0;if(!S)S=0;this.x=s;this.y=N;this.G=r;this.n=S}hq.prototype.$=function(){return this.G*this.n};
hq.prototype.clone=function(){return new hq(this.x,this.y,this.G,this.n)};hq.prototype.contains=function(s,N){return s>=this.x&&s<=this.x+this.G&&(N>=this.y&&N<=this.y+this.n)};
hq.prototype.CZ=function(s){return this.contains(s.x,s.y)};hq.prototype.V9=function(s){return this.x<=s.x&&this.y<=s.y&&s.x+s.G<=this.x+this.G&&s.y+s.n<=this.y+this.n};
hq.prototype.J2=function(s){this.x=s.x;this.y=s.y;this.G=s.G;this.n=s.n};hq.prototype.nR=function(s){return this.x==s.x&&this.y==s.y&&this.G==s.G&&this.n==s.n};
hq.prototype.r6=function(s,N){this.x-=s;this.y-=N;this.G+=2*s;this.n+=2*N};hq.prototype.at$=function(s){this.r6(s.x,s.y)};
hq.prototype.PS=function(s){var N=Math.max(this.x,s.x),r=Math.max(this.y,s.y),S=Math.min(this.x+this.G,s.x+s.G),z=Math.min(this.y+this.n,s.y+s.n);
if(S<N||z<r)return new hq;else return new hq(N,r,S-N,z-r)};hq.prototype.mF=function(s){if(s.y+s.n<this.y||s.x>this.x+this.G||s.y>this.y+this.n||s.x+s.G<this.x)return!1;
return!0};hq.prototype.Nf=function(){return this.G<=0||this.n<=0};hq.prototype.offset=function(s,N){this.x+=s;
this.y+=N};hq.prototype.WG=function(s){this.offset(s.x,s.y)};hq.prototype.akL=function(){this.x=this.y=this.G=this.n=0};
hq.prototype.i5=function(s,N,r,S){this.x=s;this.y=N;this.G=r;this.n=S};hq.prototype.Ms=function(s){if(this.Nf())return s.clone();
if(s.Nf())return this.clone();var N=this.clone();N.a15(s);return N};hq.q4=new Float32Array(2);hq.prototype.a15=function(s){if(s.Nf())return;
if(this.Nf()){this.J2(s);return}this.U5(s.x,s.y);this.U5(s.x+s.G,s.y+s.n)};hq.prototype.U5=function(s,N){var r=Math.min(this.x,s),S=Math.min(this.y,N);
this.G=Math.max(this.x+this.G,s)-r;this.n=Math.max(this.y+this.n,N)-S;this.x=r;this.y=S};hq.prototype.ano=function(s,N){this.x=s;
this.y=N;this.G=this.n=0};function gF(s,N,r,S,z,A){if(typeof s==="undefined"){s=1;N=0;r=0;S=1;z=0;A=0}this.aC=s;
this.U=N;this.K1=r;this.dX=S;this.JC=z;this.T3=A}gF.prototype.S5=function(){return Math.sqrt(Math.abs(this.aC*this.dX-this.U*this.K1))};
gF.prototype.av6=function(){var s=this,N=function(r){return Math.abs(r)<1e-9?0:r};s.aC=N(s.aC);s.U=N(s.U);
s.K1=N(s.K1);s.dX=N(s.dX);s.JC=N(s.JC);s.T3=N(s.T3)};gF.prototype.aK=function(s){return new cR(s.x*this.aC+s.y*this.K1+this.JC,s.x*this.U+s.y*this.dX+this.T3)};
gF.prototype.translate=function(s,N){this.JC+=s;this.T3+=N};gF.prototype.rotate=function(s){var N=new gF(Math.cos(s),-Math.sin(s),Math.sin(s),Math.cos(s),0,0);
this.concat(N)};gF.prototype.scale=function(s,N){var r=new gF(s,0,0,N,0,0);this.concat(r)};gF.prototype.concat=function(s){this.J2(new gF(this.aC*s.aC+this.U*s.K1,this.aC*s.U+this.U*s.dX,this.K1*s.aC+this.dX*s.K1,this.K1*s.U+this.dX*s.dX,this.JC*s.aC+this.T3*s.K1+s.JC,this.JC*s.U+this.T3*s.dX+s.T3))};
gF.prototype.dm=function(){var s=this.aC*this.dX-this.U*this.K1;this.J2(new gF(this.dX/s,-this.U/s,-this.K1/s,this.aC/s,(this.K1*this.T3-this.dX*this.JC)/s,(this.U*this.JC-this.aC*this.T3)/s))};
gF.prototype.clone=function(){return new gF(this.aC,this.U,this.K1,this.dX,this.JC,this.T3)};gF.prototype.J2=function(s){this.aC=s.aC;
this.U=s.U;this.K1=s.K1;this.dX=s.dX;this.JC=s.JC;this.T3=s.T3};function hg(){}hg.NT={ap1:["PNG","JPG","SVG","GIF","PDF"],af5:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
hg.$I=function(s,N){var r=s.memory.buffer.byteLength;if(r<N)s.memory.grow((N-r>>>16)+1)};hg.Dz={uf:function(s,N){fetch(s).then(function(r){return r.arrayBuffer()}).then(function(r){var S=new Uint8Array(r),z=0,t="";
if(N){z=S.length;var A={level:9},B=pako.deflateRaw(S,A),Y=UZIP.deflateRaw(S,A);console.log(z,B.length,Y.length);
S=B.length<Y.length?B:Y}for(var l=0;l<S.length;l++)t+=String.fromCharCode(S[l]);var p=btoa(t);console.log(JSON.stringify([z,p]))})},get:function(s,N){var r=BINDB[s],S=Date.now(),z=atob(r[1]),A=z.length,B=new Uint8Array(A);
for(var l=0;l<A;l++)B[l]=z.charCodeAt(l);if(r[0]!=0){var Y=new Uint8Array(r[0]);UZIP.inflateRaw(B,Y);
B=Y}if(N){var t=hg.yy(B.buffer);B=hg.Pp(t).LG(B.buffer)}return B}};hg.yy=function(s){if(!(s instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var N=new Uint8Array(s),r=hg.nk,S,z=0,A=N.length-1;
if(r(N,[239,187,191]))z=3;while(z<N.length&&(N[z]==9||N[z]==10||N[z]==13||N[z]==32))z++;while(A!=0&&(N[A]==9||N[A]==10||N[A]==13||N[A]==32))A--;
if(r(N,[56,66,80,83]))S="psd";if(r(N,[6,6,237,245]))S="indd";if(r(N,[68,73,67,77],128))S="dcm";if(r(N,[102,116,121,112,109,105,102,49],4)||r(N,[102,116,121,112,97,118,105,102],4))S="avif";
if(r(N,[102,116,121,112,105,115,111,109],4))S="mp4";if(r(N,[102,116,121,112,109,112,52,50],4))S="mp4";
if(r(N,[0,255,75,65]))S="afphoto";if(r(N,[120]))S="pxd";if(r(N,[80,68,78,51]))S="pdn";if(r(N,[103,105,109,112,32,120,99,102,32]))S="xcf";
if(r(N,[102,105,103,45,107,105,119,105]))S="fig";if(r(N,[137,80,78,71,13,10,26,10])){S="png";var B=8;
while(B<N.length){var Y=U.l(N,B);B+=4;var t=U.TX(N,B,4);B+=4;if(t=="mkTS")S="fpng";B+=Y+4}}if(r(N,[87,76]))S="cdr";
if(r(N,[82,73,70,70])){var p=dX.j7(N),f=p.Mn;if(f=="WEBP")S="webp";else if(f.slice(0,3)=="CDR")S="cdr";
else S=f}if(r(N,[70,79,82,77])||r(N,[76,73,83,84])||r(N,[67,65,84,32])){var p=g6.j7(N),f=p.Mn;if(f=="ILBM")S="ilbm";
else S=f}if(r(N,[255,216,255]))S="jpg";if(r(N,[0,0,0,12,106,80,32,32]))S="jpg";if(r(N,[48,0,1,0],4))S="jb2";
if(r(N,[71,73,70,56]))S="gif";if(r(N,[0,0,0,2,121,102,113,76]))S="msh";if(r(N,[0,0,0,3,121,102,113,76]))S="msh";
if(r(N,[0,0,0,16]))S="atn";if(r(N,[0,1]))S="aco";if(r(N,[0,2]))S="aco";if([0,1].indexOf(N[1])!=-1&&[1,2,3,9,10,11].indexOf(N[2])!=-1&&[0,16,24,32].indexOf(N[7])!=-1)S="tga";
if(r(N,[0,2,56,66,83,76]))S="asl";if(r(N,[0,1,0,-1,0,2,0]))S="abr";if(r(N,[0,2,0,-1,0,2,0]))S="abr";
if(r(N,[0,6,0,1]))S="abr";if(r(N,[0,6,0,2]))S="abr";if(r(N,[0,7,0,2]))S="abr";if(r(N,[0,9,0,2]))S="abr";
if(r(N,[0,10,0,2]))S="abr";if(r(N,[56,66,70,83]))S="shc";if(r(N,[56,66,80,84]))S="pat";if(r(N,[56,66,71,82]))S="grd";
if(r(N,[71,73,77,80,32,71,114,97]))S="grd";if(r(N,[56,66,84,80]))S="tpl";if(r(N,[0,4,0,5]))S="acv";if(r(N,[99,117,115,104]))S="csh";
if(r(N,[0,1,0,0,0]))S="otf";if(r(N,[79,84,84,79]))S="otf";if(r(N,[116,116,99,102]))S="otf";if(r(N,[68,68,83,32]))S="dds";
if(r(N,[80,86,82,3]))S="pvr";if(r(N,[86,84,70,0]))S="vtf";if(r(N,[83,73,77,80]))S="fits";if(r(N,[0,0,1,0]))S="ico";
if(r(N,[66,77]))S="bmp";if(r(N,[40,0,0,0]))S="bmp";if(r(N,[80,49]))S="ppm";if(r(N,[80,50]))S="ppm";if(r(N,[80,51]))S="ppm";
if(r(N,[80,52]))S="ppm";if(r(N,[80,53]))S="ppm";if(r(N,[80,54]))S="ppm";if(r(N,[73,73,42,0]))S="tiff";
if(r(N,[77,77,0,42]))S="tiff";if(r(N,[70,85,74,73,70,73,76,77]))S="raf";if(r(N,[112]))S="lif";if(r(N,[73,73,26,0]))S="ciff";
if(r(N,[83,81,76,105]))S="sketch";if(r(N,[80,75])){var a=UZIP.parse(s,!0);if(a["document.json"])S="sketch";
else if(a.manifest)S="xd";else S="zip"}if(r(N,[123]))S="json";if(U.l(N,0)==N.length)S="icc";if(r(N,[35]))S="icc";
if(r(N,[84,73,84,76],z))S="icc";if(r(N,[76,85,84,95],z))S="icc";if(r(N,[60,63,120,109],z)){if(U.yC(N,"<look>")!=-1)S="icc";
else S="svg"}if(r(N,[60,115,118,103],z))S="svg";if(r(N,[60,33,100,111],z)||r(N,[60,33,68,79],z)||r(N,[60,33,45,45],z)){if(U.yC(N,"<svg")!=-1)S="svg";
else S="html"}if(r(N,[37,33])||r(N,[197,208,211,198])){if(U.yC(N,"%AI9_PrivateDataBegin")!=-1||U.yC(N,"%AI5_BeginLayer")!=-1)S="ai";
else S="eps"}if(r(N,[37,80,68,70],z)){if(U.yC(N,"/AIMetaData ")!=-1)S="ai";else S="pdf"}else if(r(N,[10,69,79,70],A-3))S="dxf";
if(r(N,[1,0,9,0]))S="wmf";if(r(N,[215,205,198,154]))S="wmf";if(r(N,[1,0,0,0]))S="emf";if(r(N,[118,47,49,1]))S="exr";
if(r(N,[10,10,10,10]))S="jsx";if(r(N,[77,90]))S="exe";if(S==null&&q.raw.B0(N.length)!=null)return"tiff";
return S};hg.nk=function(s,N,r){if(r==null)r=0;for(var l=0;l<N.length;l++)if(N[l]!=-1&&s[r+l]!=N[l])return!1;
return!0};hg.Pp=function(s){var N={BMP:hg.ahS,CDR:hg.An,DDS:hg.vO,EMF:hg.Hz,DXF:hg.gM,EPS:hg.qw,FIG:hg.Gw,FPNG:hg.Y2,INDD:hg.QT,GIF:hg.MX,ICO:hg.RF,ILBM:hg.Az,FITS:hg._S,EXR:hg.RR,JPG:hg.Wi,LIF:hg.CQ,DCM:hg.aqb,PDF:hg.o6,PDN:hg.Zl,PNG:hg.a3,PPM:hg.dG,PSD:hg.kK,PXD:hg.Pw,RAF:hg.ko,RAW:hg.HB,SKETCH:hg.gr,SVG:hg.j9,TGA:hg.yn,AVIF:hg.aaX,TIFF:hg.uG,VTF:hg.ci,WEBP:hg.U4,WMF:hg.yq,XCF:hg.zz,XD:hg.R6,EXE:hg.yD,AI:hg.mD,AFPHOTO:hg.QA,MP4:hg.ahX};
return N[s.toUpperCase()]};hg.ed=function(l){var s=hg.NT.ap1,N=hg.NT.af5,r,S=[];if(l==null)r=s.concat(N);
else r=l==0?s:N;for(var l=0;l<r.length;l++)if(hg.Pp(r[l]).Bj)S.push(r[l]);return S};hg.av1=function(){var s;
function N(S){var z=S.target,A=z.width,B=z.height,Y=document.createElement("canvas");Y.width=A;Y.height=B;
var t=Y.getContext("2d");t.drawImage(z,0,0);s({zC:new hq(0,0,A,B),data:t.getImageData(0,0,A,B).data.buffer})}function r(S,z,A){s=A;
var B=document.createElement("img");B.onload=N;B.src="data:"+z+";base64,"+hg.DY(S)}return r}();hg._V=function(s,N,r,S,z){var A=hg.oX(s,N,r,S,z),B=hg.TH(A);
return B.buffer};hg.TH=function(s){var N=atob(s.split(",").pop()),r=new Uint8Array(N.length);for(var l=0;
l<N.length;l++)r[l]=N.charCodeAt(l);return r};hg.oX=function(s,N,r,S,z,A){if(!(s instanceof ArrayBuffer))throw"e";
if(S==null)S="png";if(S=="png"&&A==!0){var B=hg.Pp("PNG").Bj([[s,0]],N,r);return"data:image/png;base64,"+hg.DY(B)}var Y=hg.NB;
if(Y==null)Y=hg.NB=document.createElement("canvas");if(Y.width!=N||Y.height!=r){Y.width=N;Y.height=r}var t=Y.getContext("2d"),p=new ImageData(new Uint8ClampedArray(s,0,N*r*4),N,r);
t.putImageData(p,0,0);return Y.toDataURL("image/"+S,z)};hg.a7$=function(s,N,r,S,z){if(z==null)z=0;var A="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",B="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+A+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(s==1)B+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
B+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+z+")\" xlink:href=\""+N+"\" x=\""+80*r+"\" y=\""+80*S+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var Y=new Uint8Array(B.length);U.MD(B,Y,0);var t="data:image/svg+xml;base64,"+hg.DY(Y.buffer);return{r2:t,Ge:new hq(0,0,128,128),Yx:new cR(64,64)}};
hg.DY=function(s){var N=new Uint8Array(s),r="";for(var l=0;l<N.length;l++)r+=String.fromCharCode(N[l]);
return btoa(r)};hg.a1x=function(s){var N=atob(s),r=N.length,S=new Uint8Array(r);for(var l=0;l<r;l++)S[l]=N.charCodeAt(l);
return S.buffer};hg.jK=function(s){var N=[],r=[];for(var l=0;l<s.p.length;l++){var S=s.p[l];if(S.getName().slice(0,3)=="_a_"){N.push(l);
r.push(S.ES())}}return[N,r]};hg.Lf=function(s,N,r,S,z,A){if(r==null)r=s.G;if(S==null)S=s.n;var B=new hq(0,0,s.G,s.n),Y=new gF(r/(s.G+.001),0,0,S/(s.n+.001),0,0),p;
N=N.toUpperCase();var t=hg.Pp(N);if(t.oY){s.r9();p=t.Bj(s,r,S,z,A)}else{if(z)z=z.slice(0);var f=hg.jK(s),a=f[0],D=f[1],c=s.a8(),J=c&&z?z.pop():!1,Z=c&&!J?c[0]:null,Q=null;
if(s.Aa.length!=0){Q=[];for(var l=0;l<s.Aa.length;l++)Q.push(s.Aa[l].am(B))}if(a.length<2){var M=hg.MC(s.r9(),c,J),u;
if(r==s.G&&S==s.n)u=M.buffer;else{var P=K.S.aG([M,B],Y);u=P.buffer.buffer;if(Q){var m=q.m(B.$()*4);for(var l=0;
l<Q.length;l++){q.XX(Q[l],m,3);var P=K.S.aG([m,B],Y),i=Q[l]=q.m(P.rect.$());q.WZ(P.buffer,i,3)}}}p=t.Bj([[u,0,s.FD,s.yA,Q,Z]],r,S,z)}else{var e=[];
for(var l=0;l<a.length;l++){var X=a[l],u;for(var $=0;$<a.length;$++)s.p[a[$]].pQ(a[$]==X);s.$S();s.V();
s.im();if(r==s.G&&S==s.n)u=s.r9().buffer.slice(0);else{var P=K.S.aG([s.r9(),B],Y);u=P.buffer.buffer}u=hg.MC(new Uint8Array(u),c,J).buffer;
var O=s.p[X].getName().split(",");e.push([u,O[1]?parseInt(O[1]):100,s.FD,s.yA,Q,Z])}for(var l=0;l<a.length;
l++)s.p[a[l]].pQ(D[l]);s.V();s.im();if(z){var T=z.length,b=z[T-2],R=z[T-1],w=z[T-4]/100;if(w!=1)for(var l=0;
l<e.length;l++)e[l][1]=Math.round((e[l][1]==0?16:e[l][1])/w);if(b)e.reverse();if(R){var F=e.slice(1,e.length-1);
F.reverse();e=e.concat(F)}}p=t.Bj(e,r,S,z)}}return p};hg.MC=function(s,N,r){if(r){s=s.slice(0);ICC.U.applyLUT(N[3],N[2],s,s)}return s};
hg.i0=function(s,N){var r=N[0].ra&&N[0].ra.startsWith("_a_"),S,z=new a2(s+".psd"),A=new hq(0,0,1,1);
if(r){S=z.tT();S.add.lsct=d9.KK;S.lP(s);S.M9="pass";S.Vs=24;S.pQ(!0);z.p.push(z.YL())}for(var l=0;l<N.length;
l++){var B=N[l];A=A.Ms(B.zC);var Y=z.tT();Y.pQ(l==0);Y.lP(N.length==1?"Background":"Layer "+l);if(l==0&&B.FD)z.FD=B.FD;
if(l==0&&B.yA)z.yA=B.yA;if(B.ra)Y.lP(B.ra);if(B.eK)for(var l=0;l<B.eK.length;l++){var t=B.eK[l],p=a2.Zd(t[0]);
p.add.vmsk._=t[1];q.J.Yy(t[1],new gF(A.G,0,0,A.n,0,0));z.qI.push(p)}Y.rect=B.zC.clone();Y.buffer=new Uint8Array(B.data);
if(l==0&&B.ot)z.Tl(B.ot);q.pt(Y);z.p.push(Y)}if(r)z.p.push(S);if(N[0].Aa){for(var l=0;l<N[0].Aa.length;
l++){var f=new y.pk;z.Aa.push(f);f.rect=N[0].zC.clone();f.channel=N[0].Aa[l]}}z.f=[r?z.p.length-1:0];
z.G=A.G;z.n=A.n;z.buffer=q.m(A.$()*4);z.V();return z};hg.a2E=function(s,N,r,S,z,A){var B=new hU(k.E.Y,!0);
B.data={d:k.s.nF};var Y=new hU(k.E.r,!0);Y.k=K.pI;Y.data={d:"h_stepbck"};var t=new hU(k.E.r,!0);t.k=K.g$;
t.data={d:y.MS,ji:{buffer:null,rect:null}};var p=t.data.ji,f={};for(var a=1;a<r.length;a++){var D=s.f.slice(0),c=0;
for(var J=0;J<N.length;J++){var Z=N[J],Q=Z.trait,M=parseInt(Z.docRef.slice(4,-2)),u=0,P=null,m=r[0].indexOf(Z.varName);
if(m==-1){alert("Column "+Z.varName+" is missing");return}var i=r[a][m];for(var l=0;l<s.p.length;l++)if(s.p[l].add.lyid==M)u=l;
var e=s.p[u];s.f=[u];if(Q=="textcontent"){P="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(i)+";"}if(Q=="visibility"&&e.ES()+""!=i.toLowerCase()){P="app.activeDocument.activeLayer.visible = "+i.toLowerCase()+";"}if(Q=="fileref"){var X=i.split("/").pop(),$=null,F=0,L=0;
for(var i3 in S)if(i3.split("/").pop()==X)$=S[i3];if($==null){alert("Image "+X+" is missing.");return}var O=hg.Pp(hg.yy($.buffer)).LG($.buffer)[0],b=O.zC,R=e.rect.G/e.rect.n,w=b.G/b.n;
if(R>w){L=e.rect.n;F=~~(L*w)}else{F=e.rect.G;L=~~(F/w)}B.data.j_="app.activeDocument.activeLayer.visible = false;";
A.c(B);c++;var x=K.S.aG([new Uint8Array(O.data),b],new gF(F/b.G,0,0,L/b.n,0,0));p.rect=x.rect;p.buffer=x.buffer;
x.rect.x=e.rect.x+(e.rect.G-F>>>1);x.rect.y=e.rect.y+(e.rect.n-L>>>1);A.c(t);c++}if(P){B.data.j_=P;A.c(B);
c++}}f["img"+a+"."+z.toLowerCase()]=new Uint8Array(hg.Lf(s,z));for(var l=0;l<c;l++)A.c(Y)}return UZIP.encode(f)};
hg.a3={};hg.a3.Bj=function(s,N,r,S){if(S==null)S=[100,!1,0,0,0];var z={sRGB:1,loop:S[3]};if(s[0][5]!=null){delete z.sRGB;
z.iCCP=s[0][5]}if(s[0][2]!=null){var A=Math.round(s[0][2]*(1e4/254));z.pHYs=[A,A,1]}var B=S[0],Y=B==100?0:Math.max(2,Math.floor(B*5));
if(Y==5)Y=4;var t=[],p=[];for(var l=0;l<s.length;l++){t.push(s[l][0]);p.push(s[l][1])}var f=UPNG.encode(t,N,r,Y,p,z,S[1]);
return f};hg.a3.atJ=function(s,N,r){return UPNG.encodeLL([s],N,r,3,1,8)};hg.a3.LG=function(s){var N=Date.now(),r=UPNG.decode(s),S=UPNG.toRGBA8(r),z=r.width,A=r.height,B=0,Y=r.tabs.iCCP;
if(r.tabs.pHYs)B=Math.round(r.tabs.pHYs[0]*254/1e4);if(S.length==1)return[{zC:new hq(0,0,z,A),data:S[0],FD:B,ot:Y}];
var t=[];for(var l=0;l<S.length;l++){t.push({ra:"_a_frm"+l+","+r.frames[l].delay,zC:new hq(0,0,z,A),data:S[l],FD:B,ot:Y})}return t};
hg.dG={};hg.dG.Bj=function(s,N,r,S){var z=new Uint8Array(s[0][0]),A=N*r,B=A*3,Y="P6\n"+N+" "+r+"\n255\n",t=Y.length,p=q.m(t+B,!0);
for(var l=0;l<t;l++)p[l]=Y.charCodeAt(l);for(var l=0;l<A;l++){var f=l*4,a=l*3+t;p[a]=z[f];p[a+1]=z[f+1];
p[a+2]=z[f+2]}return p.buffer};hg.dG.LG=function(s){s=new Uint8Array(s);var N=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],r=0,S=String.fromCharCode(s[0])+String.fromCharCode(s[1]),z=[],A=0,B=S=="P1"||S=="P4"?2:3;
for(r=2;r<s.length;r++){var Y=s[r],t=String.fromCharCode(Y);if(Y=="#".charCodeAt(0)){while(s[r]!="\n".charCodeAt(0))r++;
continue}var p=N.indexOf(Y)!=-1;if(A==0&&!p){z.push(t);A=1;continue}if(A==1&&!p){z[z.length-1]+=t;continue}if(A==1&&p){A=0;
if(z.length==B)break;continue}}var f=parseInt(z[0]),a=parseInt(z[1]),D=f*a*4,c=S=="P1"||S=="P4"?1:255/parseInt(z[2]),J=q.m(D);
if(S=="P1"||S=="P2"||S=="P3"){var Z="",Q=0,A=0,M="#".charCodeAt(0);for(var l=r;l<s.length;l++){var Y=s[l],t=String.fromCharCode(Y),p=N.indexOf(Y)!=-1;
if(Y==M){while(s[l]!="\n".charCodeAt(0))l++}else if(A==0&&!p){Z=t;A=1}else if(A==1){if(p){A=0;var u=parseInt(Z);
Z="";if(S=="P1"){J[Q]=J[Q+1]=J[Q+2]=(1-u)*255;J[Q+3]=255;Q+=4}if(S=="P2"){J[Q]=J[Q+1]=J[Q+2]=Math.round(u*c);
J[Q+3]=255;Q+=4}if(S=="P3"){J[Q]=Math.round(u*c);Q++;if((Q&3)==3){J[Q]=255;Q++}}}else Z+=t}}}var P=f*a;
if(S=="P4")for(var m=0;m<a;m++){var i=m*8*Math.ceil(f/8);for(var e=0;e<f;e++){var l=i+e,X=s[r+1+(l>>3)];
X=X>>7-(l&7)&1;var $=m*f+e<<2;J[$]=J[$+1]=J[$+2]=(1-X)*255;J[$+3]=255}}if(S=="P5")for(var l=0;l<P;l++){var $=4*l;
J[$]=J[$+1]=J[$+2]=Math.round(s[r+1+l]*c);J[$+3]=255}if(S=="P6")for(var l=0;l<P;l++){var $=4*l,O=r+1+3*l;
J[$]=Math.round(s[O]*c);J[$+1]=Math.round(s[O+1]*c);J[$+2]=Math.round(s[O+2]*c);J[$+3]=255}return[{zC:new hq(0,0,f,a),data:J.buffer}]};
hg.vO={};hg.vO.Bj=function(s,N,r,S){if(S==null)S=[!0,!0];var z=new Uint8Array(s[0][0]),A=N&3,B=r&3;if(A!=0||B!=0){var Y=N+(A==0?0:4-A),t=r+(B==0?0:4-B),p=new Uint8Array(Y*t*4);
q.TM(p,4278190080);q.LP(z,new hq(0,0,N,r),p,new hq(0,0,Y,t));z=p;N=Y;r=t}var f=UTEX.DDS.encode(z.buffer,N,r,S);
if(!1){var a=UTEX.DDS.decode(f)[0],p=new Uint8Array(a.t1),c=0;for(var l=0;l<z.length;l++){var J=z[l]-p[l];
c+=J*J}console.log(c)}return f};hg.vO.LG=function(s){var N=UTEX.DDS.decode(s)[0];return[{zC:new hq(0,0,N.width,N.height),data:N.image}]};
hg.ci={};hg.ci.LG=function(s){var N=UTEX.VTF.decode(s).pop();return[{zC:new hq(0,0,N.width,N.height),data:N.image}]};
hg.Wi={};hg.Wi.MI=null;hg.Wi.atR=function(s,N){var r=hg.Wi.MI,S=s.byteLength,z=N.width,A=N.height,B=z*A,Y=5e6+2*S+B*(N.progressive?Math.max(2,N.numComponents)*4+1:8),t=r.instance.exports;
hg.$I(t,Y);var p=new Uint8Array(t.memory.buffer),f=t.malloc(S);p.set(new Uint8Array(s),f);var a=t.malloc(4),D=t.malloc(4),i3=t.malloc(4),c=t.stbi_load_from_memory(f,S,a,D,i3,4);
t.free(f);t.free(a,D,i3);t.free(c);var J=p.slice(c,c+B*4);return J};(function(){var s=hg.Dz.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(s).then(function(N){hg.Wi.MI=N})}());hg.Wi.Bj=function(s,N,r,S){if(S==null)S=[70];
var z=s[0],A=new Uint8Array(z[0]);if(q.Fq(A)){var B=new Uint8Array(A.length),Y=new hq(0,0,N,r);q.TM(B,4294967295);
q.Q.VP("norm",A,Y,B,Y,Y,1);A=B}var t=new Uint8Array(hg._V(A.buffer,N,r,"jpeg",S[0]/100));if(z[5]!=null){var p=hg.Wi.oe(t)[226][0]+2,f=U.XF(t,p),a=z[5].length+16,D=a-f,c=new Uint8Array(t.length+D);
for(var l=0;l<p+f;l++)c[l]=t[l];for(var l=p+f;l<t.length;l++)c[l+D]=t[l];U.a4(c,p,a);c.set(z[5],p+16);
t=c}if(z[2]!=null){var J=hg.Wi.oe(t)[224][0]+2;J+=9;t[J]=1;U.a4(t,J+1,z[2]);U.a4(t,J+3,z[2])}if(z[3]!=null&&S[1]==!0&&Object.keys(z[3]).length!=0){var Z=0,Q=0,M=0,u=gr.K2(z[3]),P=new Uint8Array(UTIF.encode([u])),m="http://ns.adobe.com/xap/1.0/",p=20;
Z=4+6+P.length;var i=gr.a8a(z[3]),e=U.et(i);Q=4+m.length+1+e.length;var X=gr.arN(z[3]);if(X.length!=0){var $=0,b=0;
for(var l=0;l<X.length;l++)$+=5+X[l][1].length;var O=$+($&1),T=q.m(14+4+2+4+O);U.s6(T,b,"Photoshop 3.0");
b+=14;U.s6(T,b,"8BIM");b+=4;T[b++]=4;T[b++]=4;b+=2;U.sM(T,b,$);b+=4;for(var l=0;l<X.length;l++){var R=X[l],w=R[1];
T[b++]=28;T[b++]=2;T[b++]=R[0];U.a4(T,b,w.length);b+=2;U.s6(T,b,w);b+=w.length}M=4+T.length}var F=Z+Q+M,L=new Uint8Array(t.length+F);
for(var l=0;l<20;l++)L[l]=t[l];for(var l=20;l<t.length;l++)L[l+F]=t[l];L[p]=255;L[p+1]=225;U.a4(L,p+2,Z-2);
U.s6(L,p+4,"Exif");for(var l=0;l<P.length;l++)L[p+10+l]=P[l];p+=Z;L[p]=255;L[p+1]=225;U.a4(L,p+2,Q-2);
U.s6(L,p+4,m);for(var l=0;l<e.length;l++)L[p+4+m.length+1+l]=e[l];p+=Q;if(M!=0){L[p]=255;L[p+1]=237;
U.a4(L,p+2,M-2);for(var l=0;l<T.length;l++)L[p+4+l]=T[l];p+=M}t=L}return t.buffer};hg.Wi.oe=function(s){var N=0,r=[],S=s.length;
while(N<S){while(s[N]!=255&&N<S)N++;while(s[N]==255)N++;var z=s[N];N++;if(r[z]==null)r[z]=[];r[z].push(N-2);
if(z==216)continue;if(z==217)break;if(224<=z&&z<=239||z==218||z==219||z==192||z==193||z==194||z==196||z==221||z==254){var A=U.XF(s,N);
N+=A;if(z==218)while(N<S&&(s[N]!=255||(s[N+1]==0||208<=s[N+1]&&s[N+1]<=215)))N++;continue}console.log("unknown marker ",z.toString(16),N);
break}if(r[217]==null){console.log("EOI marker missing");var B=s.length-2;s[B]=255;s[B+1]=217;r[217]=[B]}return r};
hg.Wi.agf=function(s){s=new Uint8Array(s);if(s[0]!=255)return s.buffer;var N=hg.Wi.oe(s),r=hg.Wi.dY(s,N);
if(r.numComponents!=4)return s.buffer;var S=r.width,z=r.height,A=hg.Wi.ec(s,N,!0);return hg.Wi.Bj([[A[0].data]],S,z,[85])};
hg.Wi.dY=function(s,N){var r=(N[192]?N[192]:N[193]?N[193]:N[194])[0]+4,S={};S.progressive=N[194]!=null;
S.precision=s[r];r++;S.height=U.XF(s,r);r+=2;S.width=U.XF(s,r);r+=2;S.numComponents=s[r];r++;if(N[224]){var z=S.jfif={};
r=N[224][0]+2+2+5+2;z.densityUnits=s[r];r++;z.xDensity=U.XF(s,r);r+=2;z.yDensity=U.XF(s,r);r+=2}if(N[238]){var z=S.adobe={};
r=N[238][0]+2+2+6;z.version=s[r];r++;z.flags0=U.XF(s,r);r+=2;z.flags1=U.XF(s,r);r+=2;z.transform=s[r];
r++}return S};hg.Wi.atP=function(s,N,r){var S=N,z=U.XF(s,S);S+=2;var A=U.TX(s,S,4);if(A=="Exif"){S+=6;
var B=s.slice(S,S+z-8),Y;try{Y=UTIF.decode(B.buffer,{parseMN:!1,debug:!1})}catch(eV){}if(Y)r.exif=Y}else if(A=="http"){var t=0;
while(s[S+t]!=0)t++;var p=U.TX(s,S,t);S+=t+1;if(p=="http://ns.adobe.com/xmp/extension/"){var f=U.TX(s,S,32);
S+=32;S+=8;var a=N+z-S;while(s[S+a-1]==0)a--;if(r.xmp_extn==null)r.xmp_extn="";try{r.xmp_extn+=U.uE(s,S,a)}catch(eV){}}else if(p=="http://ns.adobe.com/xap/1.0/"){var D=U.uE(s.slice(S,S+z-t-3));
if(D[0]=="?")D="<"+D;r.xmp=D}}else console.log(A)};hg.Wi.ec=function(s,N,r){var S=hg.Wi.dY(s,N),z=S.width,A=S.height,B=z*A,Y,t=-1,m=72,i,X;
if(S.adobe)t=S.adobe.transform;if(r||z*A>15e7||t==0||t==2){var p=new PDFJS.JpegImage;p.parse(s);var f=p.getData({width:z,height:A,forceRGB:!0,isSourcePDF:r}),Y=q.m(B*4);
for(var l=0;l<B;l++){var a=l<<2,D=a-l;Y[a]=f[D];Y[a+1]=f[D+1];Y[a+2]=f[D+2];Y[a+3]=255}}else{Y=hg.Wi.atR(s.buffer,S)}var c=N[225];
if(c)for(var l=0;l<c.length;l++)hg.Wi.atP(s,c[l]+2,S);var J=N[226];if(J){var Z=J[0],Q=U.XF(s,Z+2),M=U.TX(s,Z+4,11);
if(M=="ICC_PROFILE"){var u=U.l(s,Z+18);S.icc=s.slice(Z+18,Z+18+u)}}var P=N[217][0]+2;if(P!=s.length)S.suffix=s.slice(P);
var e=[z,A,1,0,0,0,1,0];if(S.jfif&&S.jfif.densityUnits!=0){m=Math.round([72,1,2.54][S.jfif.densityUnits]*S.jfif.xDensity)}else if(S.exif&&S.exif[0].t282!=null){var $=S.exif[0].t282[0];
m=$[0]/$[1]}if(S.exif){var O=S.exif;i=gr.B1(O[0]);var T=O[0].t274;if(T)T=T[0];if(T!=null&&T>1&&T<20)e=q.raw.yW(T,z,A)}if(S.xmp){i=gr.akl(S.xmp,i)}if(S.icc)X=S.icc;
var b=N[237],R=[],w=[];if(b){var F=new Uint8Array(65536),L=0,Z=0;for(var l=0;l<b.length;l++){Z=b[l]+2;
var x=Z+U.XF(s,Z);Z+=2;var g=Z;while(s[Z]!=0)Z++;Z++;var n=U.TX(s,g,Z-g-1),h=x-Z;if(h<0)break;while(L+h>F.length){var _=new Uint8Array(F.length*2);
_.set(F);F=_}var H=new Uint8Array(s.buffer,Z,h);F.set(H,L);L+=h}Z=0;s=F;while(Z<L){var G=U.TX(s,Z,4);
Z+=4;var j=U.XF(s,Z);Z+=2;var v=s[Z++],C=U.TX(s,Z,v);Z+=v;if((v&1)==0)Z++;var Q=U.l(s,Z);Z+=4;var P=Z+Q+(Q&1);
if(j==1028){while(Z+4<P){var E=s[Z++],I=s[Z++],dJ=s[Z++],fG=U.XF(s,Z);Z+=2;if(E==28&&I==2)R.push([dJ,U.TX(s,Z,fG)]);
Z+=fG}}else if((j&2e3)==2e3){var o=c1.JD(s,Z,Q);w.push([C,o])}else{}Z=P}if(R.length!=0)i=gr.aoR(R,i)}var i4=[{zC:new hq(0,0,z,A),data:Y.buffer,FD:m,yA:i,ot:X,eK:w.length==0?null:w}],i=S.xmp_extn;
if(i){var df=new DOMParser,eO=df.parseFromString(i,"image/svg+xml"),eO=eO.children[0].children[0].children[0],cO=[eO.getAttribute("GImage:Data"),eO.getAttribute("GDepth:Data")];
for(var l=0;l<cO.length;l++)if(cO[l]){var ej=atob(cO[l]),cn=new Uint8Array(ej.length);U.s6(cn,0,ej);
cn=cn.buffer;var j5=hg.yy(cn),gP=hg.Pp(j5).LG(cn);i4.push(gP[0])}}if(S.suffix){var bY=S.suffix,gR=U.TX(bY,4,4),c3=U.yC(bY,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(hg.nk(bY,[0,0,1,10,14,0,0,0])){var Z=0;while(Z!=bY.length){var jj=U.ix(bY,Z+2);Z+=4;var jC={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[jj];
if(jC!=null){var kf=U.g2(bY,Z);Z+=4;var bz=U.TX(bY,Z,kf);Z+=kf;var iv=U.TX(bY,Z,jC);Z+=jC;if(jj==2608){var bI=U.l(bY,Z+24);
Z+=bI+24;var jo=U.l(bY,Z);Z+=jo;alert("Photopea found a "+g$.gZ(bI)+" MP4 video inside your image.",4e3)}}else if(jj==18502){while(U.TX(bY,Z,4)!="SEFT")Z+=4;
Z+=4}else{break;console.log(U.M2(bY,Z,128));console.log(bY.slice(Z));throw jj.toString(16)}}}else if(gR=="ftyp"){alert("Photopea found a "+g$.gZ(bY.length)+" MP4 video inside your image.",4e3)}else if(U.TX(bY,0,4)=="fixe"){alert("Unknown data - "+bY.length+" B - at the end of the file",3e3);
var Z=4,Q=U.g2(bY,Z);Z+=4;var iZ=U.g2(bY,Z);Z+=4;var jD=U.g2(bY,Z);Z+=4;console.log(Q,iZ,jD,bY.slice(Z,Z+84));
Z+=84;var dM=U.TX(bY,Z,32);Z+=32;Z+=8;var dM=U.TX(bY,Z,32);Z+=32}else if(U.TX(bY,8,13)=="FocusShot_Map"){var ka=U.l(bY,0),fG=U.g2(bY,4),cn=q.m(B*4),ds=q.m(B*4);
for(var ee=0;ee<A;ee++)for(var a9=0;a9<z;a9++){var l=ee*z+a9,a=l<<2,ir=8+13+((ee>>>1)*z+a9>>>1),eP=bY[ir],jh=bY[ir+(B>>>2)];
cn[a]=cn[a+1]=cn[a+2]=eP;cn[a+3]=255;ds[a]=ds[a+1]=ds[a+2]=jh;ds[a+3]=255}i4.push({zC:new hq(0,0,z,A),data:cn.buffer},{zC:new hq(0,0,z,A),data:ds.buffer})}else if(gR=="edof"){var T=bY[8+7];
console.log(T.toString(16));var Z=8+16,fy=U.ix(bY,Z),eS=U.ix(bY,Z+2),B=fy*eS;Z+=4;Z+=32+16;var gz=q.m(B*4);
for(var l=0;l<B;l++){var a=l<<2;gz[a]=gz[a+1]=gz[a+2]=bY[Z+l];gz[a+3]=255}if(T==16){}else if(T==19){var fi=gz.slice(0);
q.P.yZ(gz,fi,fy,eS);var fw=fy;fy=eS;eS=fw;q.P.Dw(fi,gz,fy,eS)}else throw"Unknown orientation of a depth map";
i4.push({zC:new hq(0,0,fy,eS),data:gz.buffer})}else if(c3!=-1&&!(bY[0]==255&&bY[1]==129)){try{if(c3!=0)bY=bY.slice(c3);
var gP=hg.Pp("jpg").LG(bY.buffer);for(var l=0;l<gP.length;l++)i4.push(gP[l])}catch(eV){}}else if(U.TX(bY,0,4)=="PMPD"){var Z=4,ce=U.g2(bY,12),hl=U.g2(bY,16),fy=U.g2(bY,1060),eS=U.g2(bY,1064),ia=fy>eS,iQ=i4[0].zC.G>i4[0].zC.n,em=bY.slice(bY.length-fy*eS-4),k4=q.m(fy*eS);
for(var ee=0;ee<eS;ee++)for(var a9=0;a9<fy;a9++)k4[ee*fy+a9]=em[(eS-ee-1)*fy+a9];var ar=q.m(fy*eS*4);
ar.fill(255);q._i(k4,ar);if(ia!=iQ){var fi=ar.slice(0);q.P.yZ(ar,fi,fy,eS);var fw=fy;fy=eS;eS=fw;q.P.Dw(fi,ar,fy,eS)}i4.push({zC:new hq(0,0,fy,eS),data:ar.buffer})}else console.log(U.TX(bY,0,4),bY)}if(i4.length>1){var fg=i4[0].zC;
i4[0].ra="Main";for(var l=1;l<i4.length;l++){i4[l].ra=hg.Wi.a56(new Uint8Array(i4[l].data))?"Depth Map":null;
var j0=i4[l].zC;if(!j0.nR(fg)){var bU=fg.G/j0.G,dn=fg.n/j0.n,aJ=new gF;aJ.scale(bU,dn);var bE=K.S.Vy([new Uint8Array(i4[l].data),j0],1,q.P.tl(aJ));
i4[l].zC=bE.rect;i4[l].data=bE.buffer}}}if(hg.Wi.lc==1)if(e[2]!=1||e[6]!=1)for(var l=0;l<i4.length;l++){var ew=i4[l],jy=new Uint8Array(ew.data),z=ew.zC.G,A=ew.zC.n,fy=e[0],eS=e[1],Y=q.m(fy*eS*4);
q.P.$B(jy,z,A,Y,e);ew.zC=new hq(0,0,fy,eS);ew.data=Y.buffer}return i4};hg.Wi.a56=function(s){var N=!0;
for(var l=0;l<s.length;l+=4){N=N&&s[l]==s[l+1]&&s[l+1]==s[l+2]}return N};hg.Wi.lc=0;hg.Wi.LG=function(s,N,r){s=new Uint8Array(s);
if(s[0]==255){var S=hg.Wi.oe(s);if(S[195]==null){hg.Wi.lc++;var z=hg.Wi.ec(s,S,!1);hg.Wi.lc--;return z}var A=U.XF(s,S[195][0]+5),B=U.XF(s,S[195][0]+7),Y=UTIF.LosslessJpegDecode(s),t=B*A,p=q.m(t*4);
for(var l=0;l<t;l++){var f=l<<2,a=f-l;p[f]=Y[a];p[f+1]=Y[a+1];p[f+2]=Y[a+2];p[f+3]=255}return[{zC:new hq(0,0,B,A),data:p.buffer}]}else if(s[0]==0&&s[4]==48&&s[6]==1){var D=s,c=new PDFJS.Jbig2Image,J=[];
if(N)J.push({data:N,start:0,end:N.length});J.push({data:D,start:0,end:D.length});var Y=c.parseChunks(J);
if(!r)for(var l=0;l<Y.length;l++)Y[l]=~Y[l];var B=U.l(s,11),A=U.l(s,15),Z=Math.ceil(B/8),Q=q.m(B*A*4);
for(var M=0;M<A;M++){var u=M*Z;for(var P=0;P<B;P++){var f=(M*B+P)*4,m=Y[u+(P>>>3)]>>>7-(P&7)&1,i=m*255;
Q[f]=i;Q[f+1]=i;Q[f+2]=i;Q[f+3]=255}}return[{zC:new hq(0,0,B,A),data:Q.buffer}]}else{var c=new PDFJS.JpxImage;
c.parse(s);var B=c.width,A=c.height,e=c.tiles,X=c.componentsCount,$=new Uint8Array(B*A*4),O=new hq(0,0,B,A);
for(var c=0;c<e.length;c++){var T=e[c],b=T.width,R=T.height,w=b*R,F=T.items,L=new hq(T.left,T.top,b,R),x=new Uint8Array(w*4);
if(X==1)for(var l=0;l<w;l++){var g=F[l],f=l*4;x[f]=g;x[f+1]=g;x[f+2]=g;x[f+3]=255}else if(X==3)for(var l=0;
l<w;l++){var a=l*3,f=l*4;x[f]=F[a];x[f+1]=F[a+1];x[f+2]=F[a+2];x[f+3]=255}else console.log("Unknown number of components: "+X);
q.LP(x,L,$,O)}return[{zC:O,data:$.buffer}]}};hg.U4={};hg.U4.Bj=function(s,N,r,S){if(S==null)S=[70,0,0,0];
var z=S[0]/100,t=0;if(s.length==1)return hg._V(s[0][0],N,r,"webp",z);var A=U.Gc,B=U.AQ,Y=new iY;A(Y,t,"RIFF    WEBPVP8X");
t+=16;B(Y,t,10);t+=4;B(Y,t,18);t+=4;B(Y,t,N-1);t+=3;B(Y,t,r-1);t+=3;A(Y,t,"ANIM");t+=4;B(Y,t,6);t+=4;
Y.yd(t,4);Y.data[t+3]=255;U.n4(Y,t+4,S[2]);t+=6;var p=[];for(var l=0;l<s.length;l++){p.push(s[l][0])}var f=UPNG.encode.compress(p,N,r,z==1?0:Math.max(2,Math.floor(z*500)),[!1,!0,!0,0,!0]).frames;
function a($,O,T,b){var P=$.u-8,m=$.size+8;T.yd(b,m);for(var l=0;l<m;l++)T.data[b+l]=O[P+l];return b+m}for(var l=0;
l<s.length;l++){A(Y,t,"ANMF");t+=4;var D=t,P=0,m=0;t+=4;var c=f[l],J=c.rect,Z=[J.x>>>1,J.y>>>1,J.width-1,J.height-1,s[l][1]];
for(var Q=0;Q<5;Q++)B(Y,t+3*Q,Z[Q]);t+=15;Y.yd(t,1);Y.data[t]=1-c.blend<<1|c.dispose;t++;var M=new Uint8Array(hg._V(c.img.buffer,J.width,J.height,"webp",1)),u=dX.j7(M.buffer).sub,i={};
for(var e=0;e<u.length;e++)i[u[e].eq]=u[e];if(i.VP8L)t=a(i.VP8L,M,Y,t);else throw"e";var X=t-D-4;B(Y,D,X);
if((X&1)==1){Y.yd(t,1);t++}}B(Y,4,t-8);return Y.data.slice(0,t).buffer};(function(){var s=hg.Dz.get("wasm/webp").buffer;
WebAssembly.instantiate(s).then(function(N){var r=N.instance.exports;hg.U4.exp=r})}());hg.U4.LG=function(s){var N=new Uint8Array(s),r=hg.U4.auh,S=null,z=dX.j7(s).sub,A={};
for(var l=0;l<z.length;l++)A[z[l].eq]=z[l];var B=A.ANIM,Y=A.VP8L,t=A["VP8 "],p=A.VP8X;if(B==null){var f,a;
if(t){f=U.ix(N,t.u+6);a=U.ix(N,t.u+8)}else if(Y){var D=U.g2(N,Y.u+1);f=(D&(1<<14)-1)+1;a=(D>>>14&(1<<14)-1)+1}else throw"e";
var c=[r(S,s,{u:0,size:N.length},f,a)];return c}var J=p.u,f=1+(U.g2(N,J+4)&16777215),a=1+(U.g2(N,J+7)&16777215),Z=[],Q=new hq(0,0,f,a),M=q.m(f*a*4);
for(var l=0;l<z.length;l++){var u=z[l];if(u.eq!="ANMF")continue;var P=[];for(var m=0;m<5;m++)P.push(U.g2(N,u.u+m*3)&16777215);
var i=new hq(P[0]*2,P[1]*2,P[2]+1,P[3]+1),e=P[4],X=r(S,s,{u:u.u+16,size:u.size-16},f,a),$=new Uint8Array(X.data),O=N[u.u+15];
if(O>>>1==0)q.Q.VP("norm",$,i,M,Q,i,1);else q.LP($,i,M,Q);Z.push({ra:"_a_"+Z.length+","+e,zC:Q.clone(),data:M.buffer.slice(0)});
if((O&1)==1){q.TM($,0);q.LP($,i,M,Q)}}return Z};hg.U4.auh=function(s,N,r,S,z){var A=hg.U4.exp,B=A.memory,Y=5e6+2*r.size+S*z*10;
hg.$I(A,Y);var t=new Uint8Array(B.buffer),p=A.malloc(r.size);t.set(new Uint8Array(N,r.u,r.size),p);var f=A.malloc(8),a=A.WebPDecodeARGB(p,r.size,f,f+4),D=U.g2(t,f),c=U.g2(t,f+4),J=D*c*4,Z=q.m(J);
for(var l=0;l<J;l+=4){Z[l]=t[a+l+1];Z[l+1]=t[a+l+2];Z[l+2]=t[a+l+3];Z[l+3]=t[a+l]}A.WebPFree(a);A.free(f);
A.free(p);return{zC:new hq(0,0,D,c),data:Z.buffer}};hg.ahS=function(){function s(Y,t,p,f){var a=new Uint8Array(Y[0][0]),D=new Uint32Array(a.buffer),c=[],J={},Q=24,M=0,e=0;
for(var l=0;l<D.length;l++){var Z=D[l]&16777215;if(J[Z]==null){J[Z]=c.length;c.push(Z);if(c.length>256){c=null;
break}}}if(c){Q=1;while(1<<Q<c.length)Q*=2;if(Q==2)Q=4}var u={s7:t,JY:p,rQ:1,DC:Q,jS:0,a50:M},P=4*Math.floor((u.DC*u.s7+31)/32);
u.size=P*u.JY+2;var m=new iY,i=c?(1<<Q)*4:0;U.Gc(m,e,"BM");e+=2;U.AQ(m,e,P*p+16+40+i);e+=4;U.AQ(m,e,0);
e+=4;U.AQ(m,e,54+i);e+=4;m.yd(e,40);U.AQ(m,e,40);e+=4;B(m.data,e,u,P);e+=36;if(c){m.yd(e,i);var X=m.data;
for(var l=0;l<c.length;l++){var $=e+l*4,O=c[l]>>>16,T=c[l]>>>8&255,b=c[l]&255;X[$]=O;X[$+1]=T;X[$+2]=b}e+=i}m.yd(e,P*p);
if(Q==24)for(var R=0;R<p;R++){var w=e+(p-1-R)*P;for(var F=0;F<t;F++){var L=(R*t+F)*4;m.data[w+F*3+2]=a[L];
m.data[w+F*3+1]=a[L+1];m.data[w+F*3+0]=a[L+2]}}else if(Q==8)for(var R=0;R<p;R++){var w=e+(p-1-R)*P;for(var F=0;
F<t;F++){var L=R*t+F,x=J[D[L]&16777215];m.data[w+F]|=x}}else if(Q==4)for(var R=0;R<p;R++){var w=e+(p-1-R)*P;
for(var F=0;F<t;F++){var L=R*t+F,x=J[D[L]&16777215];m.data[w+(F>>>1)]|=x<<4-(F&1)*4}}else if(Q==1)for(var R=0;
R<p;R++){var w=e+(p-1-R)*P;for(var F=0;F<t;F++){var L=R*t+F,x=J[D[L]&16777215];m.data[w+(F>>>3)]|=x<<7-(F&7)}}e+=P*p+2;
return m.data.slice(0,e).buffer}function N(Y){Y=new Uint8Array(Y);if(U.g2(Y,0)==40)return[r(Y.buffer,0)];
var t=0,p=U.TX(Y,t,2);t+=2;if(p!="BM"){alert("Unsupported BMP format: "+p);return}var f=U.g2(Y,t);t+=4;
t+=4;var a=U.g2(Y,t);t+=4;return[r(Y.buffer,t,a)]}function r(Y,t,p){Y=new Uint8Array(Y);var f=U.g2(Y,t),a=A(Y,t+4);
if(a.rQ!=1)alert("unsupported number of color planes: "+a.rQ);if(a.jS!=0&&a.jS!=1&&a.jS!=2&&a.jS!=3){alert("Unsupported BMP compression: "+a.jS);
return}t+=f;var D=t,c=Y;if(p==null)p=t;if(a.jS==1||a.jS==2){var J=z(Y,p,a);a.DC=8;Y=J;p=0}var Z=4*Math.floor((a.DC*a.s7+31)/32),Q=a.s7,M=Math.abs(a.JY),u=new Uint8Array(Q*M*4);
u.fill(255);if(a.DC==32)for(var P=0;P<M;P++){var m=p+(M-1-P)*Z;for(var i=0;i<Q;i++){var e=(P*Q+i)*4;
u[e]=Y[m+i*4+2];u[e+1]=Y[m+i*4+1];u[e+2]=Y[m+i*4+0];u[e+3]=Y[m+i*4+3]}}else if(a.DC==24)for(var P=0;
P<M;P++){var m=p+(M-1-P)*Z;for(var i=0;i<Q;i++){var e=(P*Q+i)*4;u[e]=Y[m+i*3+2];u[e+1]=Y[m+i*3+1];u[e+2]=Y[m+i*3+0]}}else if(a.DC==16)for(var P=0;
P<M;P++){var m=p+(M-1-P)*Z;for(var i=0;i<Q;i++){var e=(P*Q+i)*4,X=Y[m+i*2+1]<<8|Y[m+i*2];u[e]=(X>>>11)*(255/31);
u[e+1]=(X>>>5&63)*(255/63);u[e+2]=(X&31)*(255/31)}}else if(a.DC==8)for(var P=0;P<M;P++){var m=p+(M-1-P)*Z;
for(var i=0;i<Q;i++){var e=(P*Q+i)*4,$=Y[m+i];u[e]=c[D+4*$+2];u[e+1]=c[D+4*$+1];u[e+2]=c[D+4*$+0]}}else if(a.DC==4)for(var P=0;
P<M;P++){var m=p+(M-1-P)*Z;for(var i=0;i<Q;i++){var e=(P*Q+i)*4,$=Y[m+(i>>1)];$=$>>4-4*(i&1);$=$&15;
u[e]=c[D+4*$+2];u[e+1]=c[D+4*$+1];u[e+2]=c[D+4*$+0]}}else if(a.DC==1)for(var P=0;P<M;P++){var m=p+(M-1-P)*Z;
for(var i=0;i<Q;i++){var e=(P*Q+i)*4,O=Y[m+(i>>3)];O=O>>7-(i&7);O=O&1;u[e]=c[D+4*O+2];u[e+1]=c[D+4*O+1];
u[e+2]=c[D+4*O+0]}}else throw"Unknown bit depth "+a.DC;if(a.JY<0){var T=new Uint32Array(u.buffer),b=M>>>1;
for(var P=0;P<b;P++){var R=P*Q,w=(M-P-1)*Q;for(var i=0;i<Q;i++){var F=T[R+i];T[R+i]=T[w+i];T[w+i]=F}}}return{zC:new hq(0,0,Q,M),data:u.buffer}}function S(Y,l){return Y>>>4-((l&1)<<2)&15}function z(Y,t,p){var f=p.s7,a=Math.abs(p.JY),D=new Uint8Array(f*a),c=0,J=0,l=0;
while(J<a){var Z=Y[t++],Q=Y[t++],M=J*f+c;if(Z>0){if(p.DC==4)for(l=0;l<Z;l++){D[M+l]=S(Q,l)}else for(l=0;
l<Z;l++){D[M+l]=Q}c+=Z}else if(Z==0&&Q==0){J++;c=0}else if(Z==0&&Q==1){break}else if(Z==0&&Q==2){c+=Y[t++];
J+=Y[t++]}else{var u=Q;if(p.DC==4){for(l=0;l<Q;l++){D[M+l]=S(Y[t+(l>>>1)],l)}u=Math.ceil(Q/2)}else{for(l=0;
l<Q;l++){D[M+l]=Y[t+l]}}if((u&1)!=0)u++;t+=u;c+=Q}}return D}function A(Y,t){var p=U.mB,f=U.g2,a=U.ix,D={};
D.s7=p(Y,t);t+=4;D.JY=p(Y,t);t+=4;D.rQ=a(Y,t);t+=2;D.DC=a(Y,t);t+=2;D.jS=f(Y,t);t+=4;D.size=f(Y,t);t+=4;
var c=p(Y,t);t+=4;var J=p(Y,t);t+=4;D.a50=f(Y,t);t+=4;t+=4;return D}function B(Y,t,p,f){U.BZ(Y,t,p.s7);
t+=4;U.BZ(Y,t,p.JY);t+=4;U.jo(Y,t,p.rQ);t+=2;U.jo(Y,t,p.DC);t+=2;U.BZ(Y,t,p.jS);t+=4;U.BZ(Y,t,p.size);
t+=4;U.BZ(Y,t,2834);t+=4;U.BZ(Y,t,2834);t+=4;U.BZ(Y,t,p.a50);t+=4;t+=4}return{LG:N,Bj:s,a0e:r}}();hg.MX={};
hg.MX.Bj=function(s,N,r,S){if(S==null)S=[100,!1,0,0,0,0];var z=[],A=[],B=N*r*4,Z=null;for(var Y=0;Y<s.length;
Y++){var t=new Uint8Array(s[Y][0].slice(0));for(var l=0;l<B;l+=4){var p=t[l+3]=t[l+3]>127?255:0;if(p==0)t[l]=t[l+1]=t[l+2]=0}z.push(t.buffer);
A.push(s[Y][1])}var f=Math.round(2+254*S[0]/100),a=UPNG.encode.compress(z,N,r,f,[!0,!1,!1,8,!1,S[1]]),D=a.plte,c=new Uint8Array(4),J=new Uint32Array(c.buffer);
for(var l=0;l<D.length;l++){J[0]=D[l];var Q=c[0];c[0]=c[2];c[2]=Q;D[l]=J[0];if(J[0]==0)Z=l}while(D.length<256)D.push(0);
var M=new Uint8Array(2e3+N*r*s.length),u=S[3],P={palette:D};if(u!=1)P.loop=u==0?0:u-1;var m=new GifWriter(M,N,r,P);
for(var l=0;l<s.length;l++){var i=a.frames[l],e=i.rect,X=i.blend,$=i.dispose,O=Math.round(A[l]/10);if(O<2)O=2;
m.addFrame(e.x,e.y,e.width,e.height,i.img,{transparent:Z,disposal:$+1,delay:O})}return M.slice(0,m.end()).buffer};
hg.MX.LG=function(s){var N=Date.now(),r=[],S=UGIF.decode(s),z=UGIF.toRGBA8(S),A=new hq(0,0,S.width,S.height);
for(var l=0;l<z.length;l++){var B=S.frames[l];r.push({zC:A.clone(),ra:"_a_frm"+l+","+B.delay*10,data:z[l]})}return r};
hg.RF={};hg.RF.Bj=function(s,N,r,S){console.log(s);if(N>256||r>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var z=Math.min(N,256),A=Math.min(r,256),B=new hq(0,0,z,A),Y=q.m(B.$()*4),t=new hq(0,0,N,r),p=new Uint8Array(s[0][0]);
q.LP(p,t,Y,B);s[0][0]=Y.buffer;N=z;r=A}var f=new iY,a=0,D=S&&S[0]==!0;U.n4(f,a,0);a+=2;U.n4(f,a,D?2:1);
a+=2;U.n4(f,a,1);a+=2;var c=new Uint8Array(hg.Pp("png").Bj(s,N,r));f.yd(a,16);f.data[a]=N==256?0:N;a++;
f.data[a]=r==256?0:r;a++;a+=2;U.n4(f,a,D?Math.round(N/2):1);a+=2;U.n4(f,a,D?Math.round(r/2):32);a+=2;
U.AQ(f,a,c.length);a+=4;U.AQ(f,a,6+16);a+=4;f.yd(a,c.length);for(var l=0;l<c.length;l++)f.data[a+l]=c[l];
a+=c.length;var J=new Uint8Array(a);for(var l=0;l<a;l++)J[l]=f.data[l];return J.buffer};hg.RF.LG=function(s){s=new Uint8Array(s);
var N=4,r=U.ix(s,N);N+=2;var S=[];for(var l=0;l<r;l++){var z=hg.RF.adQ(s,N+l*16),A=s.buffer.slice(z.offset,z.offset+z.size),B=hg.yy(A);
B=B?B:"bmp";if(B=="png"){var Y=hg.Pp(B),t=Y.LG(A);z.hp=t[0]}else{var p=hg.Pp("BMP").a0e(A,0),A=q.m(z.s7*z.JY*4);
q.LP(new Uint8Array(p.data),new hq(0,0,p.zC.G,p.zC.n),A,new hq(0,z.JY,z.s7,z.JY));p.data=A.buffer;p.zC.n=z.JY;
z.hp=p}S.push(z)}S.sort(function(f,a){if(f.s7!=a.s7)return f.s7-a.s7;return f.a8b-a.a8b});return[S.pop().hp]};
hg.RF.adQ=function(s,N){var r={};r.s7=s[N];N++;if(r.s7==0)r.s7=256;r.JY=s[N];N++;if(r.JY==0)r.JY=256;
r.a4S=s[N];N++;N++;r.a5s=U.ix(s,N);N+=2;r.a8b=U.ix(s,N);N+=2;r.size=U.g2(s,N);N+=4;r.offset=U.g2(s,N);
N+=4;return r};hg.uG={};hg.uG.LG=function(s){var N=Date.now(),S,a=!0;if(q.raw.B0(s.byteLength))return[q.raw.agj(s)];
var r=UTIF.decode(s);if(r[0].t33421)S=r[0];else if(r[0].subIFD&&r[0].t271&&r[0].t271[0]=="Hasselblad"){S=r[0].subIFD[0];
S.t33421=[2,2]}else if(r[0].subIFD&&r[0].subIFD[0].t33421){S=r[0].subIFD[0];if(S.t50706==null){if(S.t258[0]==8)S.t258[0]=12}}else if(r[0].subIFD&&r[0].subIFD[0]&&r[0].subIFD[0].t262&&r[0].subIFD[0].t262[0]==34892)S=r[0].subIFD[0];
else if(r[0].subIFD&&r[0].subIFD[1]&&r[0].subIFD[1].t33421)S=r[0].subIFD[1];else if(r[0].subIFD&&r[0].subIFD[2]&&r[0].subIFD[2].t33421)S=r[0].subIFD[2];
else if(r[3]&&r[3].t50648){var z=r[0].exifIFD,A=z.makerNote;S=r[3];var B=A.t224[1],Y=A.t224[2];S.t256=[B];
S.t257=[Y];S.t258=[16];S.t259=[7];S.t262=[32803];S.t277=[1];S.t33421=[2,2];var t=S.t50656[0],p=q.raw.jm[t];
if(p==null)throw"e";S.t33422=p}if(S){UTIF.decodeImage(s,S,r);for(var f in r[0])if((f[0]=="t"||f[0]=="e"||f[0]=="d")&&S[f]==null)S[f]=r[0][f];
S._3=r[0].t274?r[0].t274[0]:1;return[S]}var D=1/256;for(var l=0;l<r.length;l++)if(r[l].t258&&r[l].t258[0]==16&&r[l].t277&&r[l].t277[0]==1){}else a=!1;
if(a){var c=0,J=0,Z=0;for(var l=0;l<r.length;l++){UTIF.decodeImage(s,r[l],r);var Q=r[l].data;for(var M=0;
M<Q.length;M+=2){var u=Q[M+1]<<8|Q[M];if(u>c)c=u;J+=u;Z++}}D=1/256*65535/(.5*c+.5*(2*J/Z))}var P=[];
for(var l=0;l<r.length;l++){var m=r[l],i=72;UTIF.decodeImage(s,m,r);var e=m.t282,X=m.t296;if(e!=null&&X!=null){i=e[0][0]/e[0][1];
if(X[0]==3)i=Math.round(i/2.54)}if(m.width==null)continue;var $=UTIF.toRGBA8(m,D).buffer,O=gr.B1(m);
console.log(m);P.push({zC:new hq(0,0,m.width,m.height),data:$,FD:i,yA:O,ot:m.t34675?m.t34675.slice(0):null})}return P};
hg.uG.Bj=function(s,N,r,S){if(S==null)S=[!1];var z={},A=s[0];if(A[3]!=null&&S[0])z=gr.K2(A[3]);if(A[2]!=null){z.t282=z.t283=[[Math.round(A[2]),1]];
z.t296=[2]}return UTIF.encodeImage(A[0],N,r,z)};hg.kK={};hg.kK.oY=!0;hg.kK.LG=function(s,N){fL.j7(s,N)};
hg.kK.a5A=function(s,N,r,S){if(S==null)S=[!1,!1,!1,!1];if(!S[0])s.r9();var z=new iY,A=fL.MJ(s,z,S);return[z.data.buffer,A]};
hg.kK.Bj=function(s,N,r,S){var z=hg.kK.a5A(s,N,r,S),A=z[0],B=z[1];return A.byteLength==B?A:A.slice(0,B)};
hg.Pw={};hg.Pw.oY=!0;hg.Pw.LG=function(s,N){var r=pako.inflate(new Uint8Array(s)),S=U.XF(r,0),z=U.XF(r,2),A=4;
N.G=U.l(r,A);A+=4;N.n=U.l(r,A);A+=4;N.buffer=q.m(N.G*N.n*4);var B=U.XF(r,A);A+=2;A+=4;for(var Y=0;Y<B;
Y++){var t=N.tT(),J=0,x=1,g=2,n=3,h=0;N.p.push(t);var p=U.l(r,A);A+=4;var f=A,a=U.XF(r,f);f+=2;var D=U.uE(r,f,a);
f+=a;t.lP(D);var c=r[f];f++;if(c!=0&&c!=1)throw c;t.rect.x=U.sn(r,f);f+=4;t.rect.y=U.sn(r,f);f+=4;t.rect.G=U.l(r,f);
f+=4;t.rect.n=U.l(r,f);f+=4;if(S>3){J=U.sn(r,f);f+=4}t.opacity=Math.round(255*r[f]/100);f++;var Z=r[f];
f++;t.pQ(Z!=0);t.M9="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[r[f]];
f++;var Q=r[f];f++;if(Q)t.add.lspf=1<<31;if(S>3){var M=U.XF(r,f);f+=2;if(M!=0){var u=JSON.parse(U.uE(r,f,M));
f+=M;var P=u.text,m=u.textSettings,i=m.font,e=m.size,X=m.padding,$=parseInt(m.color.slice(1),16);t.add.lnsr="rend";
t.add.TySh=en.iE(0,0);t.add.TySh.Kr=new hq(0,0,100,100);var O=t.add.TySh.D=new gF,T=t.rect.G/2,b=t.rect.n/2;
O.translate(-T,-b);O.rotate(-J*Math.PI/180);O.translate(T,b);O.translate(t.rect.x+X,t.rect.y+X);var R=t.add.TySh.pg;
en.WR(R,1);en.EU(R,[0,0,t.rect.G-X*2,t.rect.n]);en.Bx(R,0,P);var w=en.hM(R,0,1);w.GN.FontSize=e;w.GN.FillColor={Type:1,Values:[1,($>>>16&255)/255,($>>>8&255)/255,($>>>0&255)/255]};
if(m.bold)i+="-Bold";en._E(w,i);w.M7.Justification=["left","right","center"].indexOf(m.align);en.Z6(R,0,P.length,w)}}var F=U.l(r,f);
f+=4;if(F!=t.rect.$()*4){for(var l=t.rect.G;l>t.rect.G/2;l--){var L=F/(l*4);if(L==Math.round(L)){t.rect.G=l;
t.rect.n=L;break}}}t.buffer=q.m(t.rect.$()*4);if(S>3){x=0;g=1;n=2;h=3}for(var l=0;l<F;l+=4){t.buffer[l]=r[f+l+x];
t.buffer[l+1]=r[f+l+g];t.buffer[l+2]=r[f+l+n];t.buffer[l+3]=r[f+l+h]}f+=F;var _=U.l(r,f);f+=4;if(_==0&&S>3){A+=p;
continue}var H=r[f];f++;var G=U.XF(r,f);f+=2;if(_!=0){t.B=new y.pk;t.B.rect=t.rect.clone();t.B.channel=q.m(t.rect.$());
for(var l=0;l<_;l+=4)t.B.channel[l>>>2]=r[f+l+1];f+=_}if(H!=0){var j=JSON.parse(jG.default);t.add.lmfx=j;
for(var l=0;l<jG.order.length;l++)j[jG.Um[l]]={t:"VlLs",v:[]};var v={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var l=0;l<H;l++){var C=U.XF(r,f),E=f+C+4,I=r.slice(f,E),dJ=r[f+2];f+=3;var fG=v[dJ+""],o=JSON.parse(jG.FH[fG]);
j[jG.Um[fG]].v.push({t:"Objc",v:o});if(fG!=0){o.Md.v.BlnM=bm.Cu("norm");o.Opct.v.val=r[f];f++;if(fG==9||fG==2){o.Dstn.v.val=r[f+1];
f+=2}else f+=2;o.blur.v.val=Math.round(r[f]*1.2);f++;if(fG==9||fG==2){o.uglg.v=!1;o.lagl.v.val=180-U.XF(r,f);
f+=2}o.Clr.v=q.i.Sm({w:r[f+1],A:r[f+2],U:r[f+3]})}else{o.hglM.v.BlnM=o.sdwM.v.BlnM=bm.Cu("norm");f+=2;
var i4=r[f++],df=r[f++];o.blur.v.val=Math.round(Math.sqrt(df*i4)*1.3);o.srgR.v.val=Math.round(100*i4/df);
o.uglg.v=!1;o.lagl.v.val=180-U.XF(r,f);f+=2;o.hglO.v.val=r[f++];o.hglC.v=q.i.Sm({w:r[f+1],A:r[f+2],U:r[f+3]});
f+=4;o.sdwO.v.val=r[f++];o.sdwC.v=q.i.Sm({w:r[f+1],A:r[f+2],U:r[f+3]});f+=4}f=E}}if(f-A<p){var eO=U.l(r,f),cn=0;
f+=4;f++;var a=U.XF(r,f);f+=2;var P=U.uE(r,f,a);f+=a;P=P.replace(/\r/g,"\n");var a=U.XF(r,f);f+=2;var i=U.uE(r,f,a);
f+=a;var e=U.XF(r,f);f+=2;var cO=t.rect.x,ej=t.rect.G;if(eO&4)cn=1;if(eO&2)cn=2;var j5=Math.round(e*.4);
if(cn==0||cn==2)ej+=j5;if(cn==1||cn==2){ej+=j5;cO-=j5}t.add.lnsr="rend";t.add.TySh=en.iE(0,0);t.add.TySh.Kr=new hq(0,0,100,100);
t.add.TySh.D=new gF(1,0,0,1,cO,t.rect.y+e*.25);var R=t.add.TySh.pg;en.WR(R,1);en.EU(R,[0,0,ej,t.rect.n]);
en.Bx(R,0,P);var w=en.hM(R,0,1);w.GN.FontSize=e;w.GN.FillColor={Type:1,Values:[1,r[f+1]/255,r[f+2]/255,r[f+3]/255]};
f+=4;if(r[f+5])i+="-Bold";if(r[f+6])i+="-Italic";en._E(w,i);w.M7.Justification=cn;f+=8;en.Z6(R,0,P.length,w)}A+=p}};
hg.gr={};hg.gr.oY=!0;hg.gr.LG=function(s,N){hQ.j7(s,N)};hg.R6={};hg.R6.oY=!0;hg.R6.LG=function(s,N){fF.j7(s,N)};
hg.Gw={};hg.Gw.oY=!0;hg.Gw.LG=function(s,N){kc.j7(s,N)};hg.zz={};hg.zz.oY=!0;hg.zz.LG=function(s,N){g4.j7(s,N)};
hg.Y2={};hg.Y2.oY=!0;hg.Y2.LG=function(s,N){gj.j7(s,N)};hg.QA={};hg.QA.oY=!0;hg.QA.LG=function(s,N){jf.j7(s,N)};
hg.j9={};hg.j9.oY=!0;hg.j9.Bj=function(s,N,r,S,z){if(S==null)S=[!0,!1,!1,!1,!0];var A=cs.vM(s,{aD:S[0],hidden:S[1],akV:S[2],acS:S[3],qr:S[4],asP:N,aav:r},z.dw);
return A};hg.j9.LG=function(s,N,r){cs.j7(s,N,r)};hg.qw={};hg.qw.oY=!0;hg.qw.LG=function(s,N){var r=150,S=new gF(1,0,0,-1,0,0);
S.scale(r/72,r/72);N.FD=r;var z=new h3(N,S,!0);FromPS.Parse(s,z)};hg.o6={};hg.o6.oY=!0;hg.o6.Bj=function(s,N,r,S,z){if(S==null)S=["",100,!1,!1,!1,0];
S[6]=["jpg"];var A=new ToPDF;af.vM(s,S,A,z.dw,N,r);return A.buffer};hg.o6.LG=function(s,N,r){var S=2;
while(!0){var z=S*72,A=new gF(1,0,0,-1,0,0);A.scale(z/72,z/72);N.FD=z;var B=new h3(N,A,!0);FromPDF.Parse(s,B);
var Y=Math.max(N.G,N.n);if(r&&Y<Math.max(r[0],r[1])){N.p=[];var t=S;while(Y*(S/t)<Math.max(r[0],r[1]))S++}else break}};
hg.yq={};hg.yq.oY=!0;hg.yq.LG=function(s,N){var r=72,S=new gF(1,0,0,1,0,0);S.scale(r/72,r/72);N.FD=r;
var z=new h3(N,S,!1);FromWMF.Parse(s,z)};hg.Hz={};hg.Hz.rn=!0;hg.Hz.oY=!0;hg.Hz.Bj=function(s,N,r,S,z){if(S==null)S=["",100,!1,!1,!1,0];
S[6]=[];var A=new ToEMF;af.vM(s,S,A,z.dw);return A.buffer};hg.Hz.LG=function(s,N){var r=72,S=new gF(1,0,0,1,0,0);
S.scale(r/72,r/72);N.FD=r;var z=new h3(N,S,!1);FromEMF.Parse(s,z)};hg.An={};hg.An.oY=!0;hg.An.LG=function(s,N){return ep.j7(s,N)};
hg.Az={};hg.Az.LG=function(s,N){var r=g6.j7(s),S=new Uint8Array(s),z=0,A,B,Y,t,p,f,a,D,c=0,J=0,Z=0,Q=0,M=0;
for(var u=0;u<r.sub.length;u++){var P=r.sub[u],z=P.u;if(P.eq=="BMHD"){var m=[];for(var l=0;l<4;l++)m[l]=U.XF(S,z+2*l);
z+=8;t=m[2];p=m[3];B=m[0];Y=m[1];A=q.m(B*Y*4);f=S[z++];a=S[z++];D=S[z++]}else if(P.eq=="CMAP")c=z;else if(P.eq=="CAMG"){var i=U.l(S,z);
J=i&32768,Z=i&4,Q=i&2048;M=i&128}else if(P.eq=="BODY"){var e=B+15>>>4<<1,X=f+a,$=q.m(e*Y*X),R,w,F;g9.XU(S,z,P.size,$,0,$.length);
var O=f-2,T=(1<<O)-1,b=Math.round(255/T);for(var p=0;p<Y;p++)for(var t=0;t<B;t++){var L=0;for(var x=0;
x<X;x++){var g=(p*X+x)*e*8+t,n=$[g>>>3]>>>7-(g&7)&1;L|=n<<x}var h=L>>>f,L=L&(1<<f)-1,l=p*B+t,_=l<<2;
if(c!=0){if(Q!=0&&L>>>O!=0){var H=L>>>O,G=(L&T)*b;if(H==1)F=G;else if(H==2)R=G;else if(H==3)w=G}else{var G=c+L*3;
R=S[G+0];w=S[G+1];F=S[G+2]}}else{R=L>>>0&255;w=L>>>8&255;F=L>>>16&255}A[_+0]=R;A[_+1]=w;A[_+2]=F;A[_+3]=255}}}return[{zC:new hq(0,0,B,Y),data:A.buffer}]};
hg.yn={};hg.yn.oY=!1;hg.yn.Bj=function(s,N,r,S){var z=s[0][4],A=new Uint8Array(s[0][0]),B=2,Y=z?!0:!1,t=Y?4:3,p=new Uint8Array(N*r*t);
for(var f=0;f<r;f++)for(var a=0;a<N;a++){var D=f*N+a<<2,c=((r-f-1)*N+a)*t;p[c]=A[D+2];p[c+1]=A[D+1];
p[c+2]=A[D+0];if(Y)p[c+3]=z[0][f*N+a]}if(!0){var J=p.length,Z=0,Q=new Uint8Array(J*2),M=0,u=0,P=N*t;
while(u<J){var m=u,i=0,e=P*(Math.floor(u/P)+1);while(m<e&&i<128){var X=!0;for(var l=0;l<t;l++)X=X&p[u+l]==p[m+l];
if(!X)break;m+=t;i++}if(i==1){var $=1;while($<128&&u+($+1)*t<e){var X=!0,O=u+$*t;for(var l=0;l<t;l++)X=X&p[O+l]==p[O+t+l];
if(X)break;$++}Q[M++]=$-1;for(var T=0;T<$;T++)for(var l=0;l<t;l++)Q[M++]=p[u++]}else{Q[M++]=127+i;for(var l=0;
l<t;l++)Q[M+l]=p[u+l];M+=t;u+=t*i;Z+=i}}p=Q.slice(0,M);B+=8}var b=new Uint8Array(18+p.length+26);b[2]=B;
U.jo(b,12,N);U.jo(b,14,r);b[16]=t*8;b[17]=t==4?8:0;b.set(p,18);U.s6(b,18+p.length+8,"TRUEVISION-XFILE.");
return b.buffer};hg.yn.LG=function(s){var N=new Uint8Array(s),r=0,S=N[0],z=N[1],A=N[2],B=N[4]*256+N[3],Y=N[6]*256+N[5],t=N[7],p=N[9]*256+N[8],f=N[11]*256+N[10],a=N[13]*256+N[12],D=N[15]*256+N[14],c=N[16],J=N[17],Z=J>>>4,Q=U.TX(N,18,S),M=q.m(a*D*4),r=18+S+(Y*t>>>3),u=new Uint8Array(N.buffer,r);
if(A>3){var P=0,m=N,i=new Uint8Array(a*D*c>>>3),e=r,X=0,$=N.length,O=c>>>3;while(X<i.length){var i3=m[e];
e++;if(i3<128)for(var l=0;l<i3+1;l++){for(var T=0;T<O;T++){i[X]=m[e];X++;e++}}else{for(var l=0;l<i3-127;
l++){for(var T=0;T<O;T++){i[X]=m[e+T];X++}}e+=O}}A-=8;u=i;r=e}else r+=a*D*c>>>3;var b=new Uint8Array(4),R=hg.yn.aki;
for(var w=0;w<D;w++)for(var F=0;F<a;F++){var L=(Z&2)==0?(D-w-1)*a+F:w*a+F,x=w*a+F,g,n,h,_=255,H=L*c>>>3;
if(A==1){var G=0;if(c==8)G=u[H];else throw"e";R(N,18+S+B+(G*t>>>3),t,b);g=b[0];n=b[1];h=b[2];_=b[3]}else if(A==2){R(u,H,c,b);
g=b[0];n=b[1];h=b[2];_=b[3]}else if(A==3){if(c==8)g=n=h=u[H];else throw"e"}var j=x*4;M[j]=g;M[j+1]=n;
M[j+2]=h;M[j+3]=_}var b={zC:new hq(0,0,a,D),data:M.buffer,ra:Q};if(q.Fq(M)){var v=q.m(a*D);q.WZ(M,v,3);
q.TM(M,4278190080,16777215);b.Aa=[v]}return[b]};hg.yn.aki=function(s,N,r,S){var z,A,B,Y=255;if(r==24||r==32){B=s[N];
A=s[N+1];z=s[N+2];if(r==32)Y=s[N+3]}else if(r==16){var t=s[N+1]<<8|s[N+0];z=t>>>10&31;A=t>>>5&31;B=t>>>0&31;
z=Math.round(z*(255/31));A=Math.round(A*(255/31));B=Math.round(B*(255/31))}else throw"e";S[0]=z;S[1]=A;
S[2]=B;S[3]=Y};hg.aaX=function(){var s,N=[],r=!1;function S(B,Y,t,p){s=t;N.push(B,p);z()}function z(){if(r||N.length==0)return;
r=!0;hg.av1(N.shift(),"image/avif",A)}function A(B){s(null,[B],N.shift());r=!1;z()}return{oY:!1,gC:!0,LG:S}}();
hg.ahX=function(){var s,N=[],r=!1,S,z,A,B,Y,t,p=10,f=0;function a(Q,M,u,P,m){s=u;N.push(Q,P);var i=new hU(k.E.Y,!0);
i.data={d:k.s.Pv,ic:"setFPS",kj:p,JN:D};m.c(i)}function D(Q){p=Math.max(1,Math.min(60,Q));c()}function c(){if(r||N.length==0)return;
r=!0;S=document.createElement("canvas");z=S.getContext("2d");A=document.createElement("video");var Q="data:"+"video/mp4"+";base64,"+hg.DY(N.shift());
A.src=Q;A.muted=!0;A.currentTime=0;A.addEventListener("canplay",J,!1);A.addEventListener("timeupdate",Z,!1)}function J(Q){A.removeEventListener("canplay",J);
B=S.width=A.videoWidth;Y=S.height=A.videoHeight;t=[];A.play()}function Z(Q){clearTimeout(f);z.drawImage(A,0,0);
t.push({ra:"_a_"+t.length+","+Math.round(1e3/p),zC:new hq(0,0,B,Y),data:z.getImageData(0,0,B,Y).data.buffer});
var M=A.currentTime+1/p;if(M<A.duration&&Q){A.currentTime=M;f=setTimeout(Z,1e3)}else{s(null,t,N.shift());
A.removeEventListener("timeupdate",Z);r=!1;c();t=null}}return{oY:!1,gC:!0,LG:a}}();hg.CQ={};hg.CQ.LG=function(s){var N=new Uint8Array(s),r=0,S=112,z=42,A=U.g2,f;
r+=8;var B=N[r];r++;if(B!=z)throw"e";var Y=A(N,r);r+=4;var t=U.RC(N,r,Y);r+=Y*2;var p=[];while(r<N.length){f=A(N,r);
r+=4;if(f!=S)throw f;r+=4;f=N[r];r++;if(f!=z)throw f;var a=A(N,r);r+=4;var D=N[r];r++;if(D!=z){r-=5;
a=A(N,r);r+=8;f=N[r];r++;if(f!=z)throw f}var c=A(N,r)*2;r+=4;if(a>0)p.push(r+c);r+=c+a}var J=new DOMParser,Z=J.parseFromString(t,"image/svg+xml").firstChild.firstChild,Q=[];
hg.CQ.$U(Z,N,p,Q);return Q};hg.CQ.$U=function(s,N,r,S){var z=s.firstChild.firstChild;if(z.tagName=="Image"){var A=z.getElementsByTagName("ImageDescription")[0],B=A.children[0].children,Y=A.children[1].children,t=r.shift(),p=[];
for(var l=0;l<Y.length;l++)p.push(parseInt(Y[l].getAttribute("NumberOfElements")));while(p.length>3)p[2]*=p.pop();
var f=B.length,a=p[0],D=p[1],c=p[2],J=parseInt(Y[0].getAttribute("BytesInc"));for(var Z=0;Z<c;Z++){var Q=q.m(a*D*4);
q.TM(Q,4278190080);for(var M=0;M<f;M++){var u=q.m(a*D);if(J==1)for(var P=0;P<u.length;P++)u[P]=N[t+P];
else if(J==2)for(var P=0;P<u.length;P++)u[P]=Math.min(255,(N[t+P*2+1]<<8|N[t+P*2])>>>2);else throw J;
if(M!=3)q.XX(u,Q,M);if(f==1){q.XX(u,Q,1);q.XX(u,Q,2)}t+=a*D*J}S.push({zC:new hq(0,0,a,D),data:Q.buffer})}}else{var m=s.children,i=0;
while(i<m.length&&m[i].tagName!="Children")i++;if(i==m.length)throw"e";m=m[i].children;for(var e=0;e<m.length;
e++)hg.CQ.$U(m[e],N,r,S)}};hg.aqb=function(){function s(B,Y,t,p,f){var a=new Int8Array(B.buffer),D=new Int8Array(p.buffer),c=Y+t;
while(Y<c){var i3=a[Y];Y++;if(i3>=0&&i3<128)for(var l=0;l<i3+1;l++){D[f]=a[Y];f++;Y++}if(i3>=-127&&i3<0){for(var l=0;
l<-i3+1;l++){D[f]=a[Y];f++}Y++}}return f}function N(B,Y,t,p,f,a){var D=Y*t*p>>>3,c=q.m(D*f),J=S(B,0,0)[0];
for(var Z=0;Z<f;Z++){var Q=J[Z+1];if(a){var M=hg.Pp("jpg").LG(Q.buffer),u=q.m(D);q.I_(new Uint8Array(M[0].data),u);
c.set(u,D*Z)}else if(Q[0]==255&&Q[1]==216&&Q[2]==255){var P=UTIF.LosslessJpegDecode(Q);c.set(new Uint8Array(P.buffer),D*Z)}else s(Q,64,Q.length,c,D*Z)}return c}function r(B){var Y=new Uint8Array(B),t=0,p=U.TX(Y,0,128);
t+=128;var f=U.TX(Y,t,4);t+=4;var a=z(Y,t,0)[0],D=a.g28;if(D==null){alert("No image.");return[]}var c=D.cols,J=D.rows,Z=c*J,Q=D.photoInterpret,M=D.bitsAlloc,u=D.bitsStored,P=D.lossyCompr;
if(P==null)P=a.g8.lossyCompr;var m=a.g7fe0.pixelData,i=D.numOfFrames;i=i?parseInt(i):1;var e=new Uint8Array(m.buffer),X=Z*M>>>3;
if(e.length!=X*i){m=N(m,c,J,M,i,P)}else{}if(M==16)m=new Uint16Array(m.buffer);console.log(D);console.log(a);
var $=[];for(var O=0;O<i;O++){var T=O*X,B=q.m(c*J*4);B.fill(255);if(Q=="MONOCHROME2"){var b=0,R=255,w=D.largestValue,F=D.smallestValue;
if(w!=null){R=w;b=F}else if(u!=8){R=0;b=1e9;for(var l=0;l<Z;l++){var L=m[T+l];if(L>1<<u-8){if(L>R)R=L;
if(L<b)b=L}}}var x=255/(R-b);for(var l=0;l<Z;l++){var L=Math.max(0,Math.min(255,(m[T+l]-b)*x)),g=l*4;
B[g]=B[g+1]=B[g+2]=L}}else if(Q=="PALETTE COLOR"){var n=D.pltRed,h=D.pltGreen,_=D.pltBlue;for(var l=0;
l<Z;l++){var H=m[T+l],g=l*4;B[g]=n[H]>>>8;B[g+1]=h[H]>>>8;B[g+2]=_[H]>>>8}}else throw Q;$.push({zC:new hq(0,0,c,J),data:B.buffer})}return $}function S(B,Y,t){var p=U.ix,f=U.Mz,a=U.g2,D=[],c=Y;
while(Y<B.length){var J=p(B,Y);Y+=2;var Z=p(B,Y);Y+=2;var Q=a(B,Y);Y+=4;if(J==65534&&Z==57344){if(Q==4294967295){var M=z(B,Y,t+1);
D.push(M[0]);Y=M[1]}else{D.push(B.slice(Y,Y+Q));Y+=Q}}else if(J==65534&&Z==57357){}else if(J==65534&&Z==57565)break;
else throw"e"}return[D,Y]}function z(B,Y,t){var p=U.ix,f=U.Mz,a=U.g2,D={},c="\t".repeat(t);while(Y<B.length){var J=p(B,Y),u="",P=0,i=null;
Y+=2;var Z=p(B,Y);Y+=2;var Q=J.toString(16),M=Z.toString(16);if(J==65532)break;if(J==65534&&Z==57357){Y-=4;
break}if(J==65534&&Z==57565)throw"e";if(Z==0){Y+=8;continue}if(65<=B[Y+1]){u=U.TX(B,Y,2);Y+=2;if(u=="OB"||u=="SQ"||u=="OW"){P=a(B,Y+2);
Y+=6}else{P=p(B,Y);Y+=2}}else{u=A[Q][M].split(",")[1];P=a(B,Y);Y+=4}var m=A[Q][M];if(m)m=m.split(",")[0];
if(m==null){m="t"+M}if(u=="SQ"){var e=S(B,Y,t);i=e[0];Y=e[1];P=0}else if(u=="US")i=p(B,Y);else if(u=="SS")i=f(B,Y);
else if(u=="UL")i=a(B,Y);else if(u=="FL")i=U.gl(B,Y);else if(u=="AT")i=[p(B,Y),p(B,Y+2)];else if(u=="OB")i=B.slice(Y,Y+P);
else if(u=="OW")i=new Uint16Array(B.slice(Y,Y+P).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(u)!=-1){var X=Y+P;
while(B[X-1]==0)X--;i=U.TX(B,Y,X-Y).trim()}else{console.log(c,JSON.stringify(U.TX(B,Y,Math.min(P,32))));
throw u}if(D["g"+Q]==null)D["g"+Q]={};D["g"+Q][m]=i;Y+=P}return[D,Y]}var A={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{LG:r}}();hg._S={};hg._S.LG=function(s){var N=new Uint8Array(s),r=0,S={},f=1e9;for(var l=0;l<306;
l++){var z=U.TX(N,r,8).trim(),A=U.TX(N,r+9,71).split("/")[0].trim();S[z]=A;r+=80;if(z=="END"){r=Math.ceil(r/2880)*2880;
break}}var B=parseInt(S.NAXIS1),Y=parseInt(S.NAXIS2),t=B*Y,p=parseInt(S.BITPIX),a=-1e9,D=new Float32Array(t),c=new Float32Array(s,r,s.byteLength-r>>>2);
for(var l=0;l<t;l++){var J=l<<2,Z=l<<1;if(p==-32){var Q=N[r+J+0];N[r+J+0]=N[r+J+3];N[r+J+3]=Q;var Q=N[r+J+1];
N[r+J+1]=N[r+J+2];N[r+J+2]=Q;D[l]=c[l]}else if(p==16){D[l]=U.ix(N,r+Z)}else throw p;var M=D[l];if(M<f)f=M;
if(M>a)a=M}var u=q.m(t*4),P=1/a;for(var m=0;m<Y;m++)for(var i=0;i<B;i++){var l=m*B+i,e=(Y-m-1)*B+i,J=e<<2,M=D[l]*P;
u[J]=u[J+1]=u[J+2]=255*M;u[J+3]=255}return[{zC:new hq(0,0,B,Y),data:u,ra:S.OBJECT}]};hg.ko={};hg.ko.LG=function(s){var N=new Uint8Array(s),r=16,S=U.TX(N,r,4),A=32,M=0,u=0,P=!1,n;
r+=4;var z=U.TX(N,r,8);r+=8;while(N[r+A-1]==0)A--;var B=U.TX(N,r,A);r+=32;var Y=U.TX(N,r,4);r+=4;r+=20;
var t=U.l(N,r);r+=4;var p=U.l(N,r);r+=4;var f=U.l(N,r);r+=4;var a=U.l(N,r);r+=4;var D=U.l(N,r);r+=4;
var c=U.l(N,r);r+=4;var J="FujiFilm "+B,Z=[0,1,1,2];if(J=="FujiFilm X10"){J="FujiFilm FinePix X10";Z=[2,1,1,0]}var Q={t271:["FujiFilm"],t272:[J],t277:[1],t33421:[2,2],t33422:Z,_3:1};
r=f;var m=[],i=U.XF,e=U.l(N,r);r+=4;for(var l=0;l<e;l++){var X=i(N,r);r+=2;var $=i(N,r);r+=2;if(X==256){u=i(N,r);
M=i(N,r+2)}else if(X==272){m=[i(N,r),i(N,r+2)]}else if(X==273){m.push(i(N,r),i(N,r+2))}else if(X==304){P=!(N[r]>>>7)}else if(X==305){var O=Math.round(Math.sqrt($)),T=[];
for(var b=0;b<$;b++)T.push(N[r+b]);T.reverse();Q.t33421=[O,O];Q.t33422=T}else if(X==12272){var R=i(N,r),w=i(N,r+2),F=i(N,r+6);
Q.t50728=[R/w,1,R/F]}r+=$}var L=M<u,x=N.slice(D,D+c),g=Math.round(c*8/(M*u));if(x[0]==73&&x[1]==73&&x[2]==42){n=UTIF.decode(x.buffer)[0].fujiIFD;
g=n.t61443[0];var h=n.t61454,_=n.t61450;if(_)Q.t50714=_;if(h)Q.t50728=[h[0]/h[1],1,h[0]/h[2]];var H=n.t61447[0];
x=x.slice(H,H+n.t61448[0])}var c=x.length,G=c*8<M*u*g;if(G){console.log("compressed");var j=Q.t33422,v=~~Math.sqrt(j.length),C=[];
for(var l=0;l<v;l++)C[l]=j.slice(l*v,l*v+v);x=new Uint8Array(UTIF._decompressRAF(x,C).buffer);c=x.length}function E(i4,df,eO){eO=eO<<8-(df&7);
var cO=df>>>3;i4[cO]|=eO>>>16;i4[cO+1]|=eO>>>8;i4[cO+2]|=eO}var I=c*8/(M*u);if(I==16)for(var l=0;l<c;
l+=2){var dJ=x[l];x[l]=x[l+1];x[l+1]=dJ}else if(I==14){for(var l=0;l<c;l+=4){var dJ=x[l];x[l]=x[l+3];
x[l+3]=dJ;dJ=x[l+1];x[l+1]=x[l+2];x[l+2]=dJ}}else if(I==12)for(var l=0;l<c;l+=3){var fG=x[l+2]<<16|x[l+1]<<8|x[l+0];
fG=fG>>>12|(fG&4095)<<12;x[l]=fG>>>16&255;x[l+1]=fG>>>8&255;x[l+2]=fG&255}if(L)x=hg.ko.asf(x,M,u);var o=L?2:1;
M*=o;Q.t256=[M];Q.t257=[u];Q.t258=[g];Q.t50719=[m[1],m[0]*o];Q.t50720=[m[3],m[2]*o];Q.width=M;Q.height=u;
Q.data=new Uint8Array(x.buffer);return[Q]};hg.ko.asf=function(s,N,r){s=new Uint16Array(s.buffer);var S=new Uint16Array(N*r*2);
for(var z=0;z<r;z+=2)for(var A=0;A<N;A++){var B=z*N+A,Y=B*2,t=s[B],p=s[B+N];S[Y+1]=S[Y+2*N]=p;if(((z>>>1)+A&1)==0){S[Y]=t;
S[Y+2*N+1]=s[B+1]}else{S[Y]=s[B-1];S[Y+2*N+1]=t}}return S};hg.HB={};hg.HB.rn=!0;hg.HB.Bj=function(s,N,r,S){var z=new Uint8Array(s[0][0]),A=N*r,B=[1,3,4][S[0]],Y=8+8*S[1],t=S[2];
if(B==1){var p=new Uint8Array(N*r);q.WZ(z,p,0);z=p}if(B==3){var p=new Uint8Array(N*r*3);for(var l=0;
l<A;l++){var f=l*4,a=l*3;p[a]=z[f];p[a+1]=z[f+1];p[a+2]=z[f+2]}z=p}if(Y==16){var D=z.length,p=new Uint8Array(D*2);
for(var l=0;l<D;l++){var c=Math.round(z[l]*(65535/255));p[l*2+t]=c>>>8;p[l*2+1-t]=c&255}z=p}return z.buffer};
hg.RR={};hg.RR.LG=function(s,N){function r(t){return~~(.5+q.VN(Math.max(0,Math.min(1,t)))*255)}var S=EXRLoader.parse(s),z=S.width,A=S.height,B=q.m(z*A*4);
for(var Y=0;Y<A;Y++)for(var t=0;t<z;t++){var l=(Y*z+t)*4,p=((A-Y-1)*z+t)*4;B[l]=r(S.data[p+0]);B[l+1]=r(S.data[p+1]);
B[l+2]=r(S.data[p+2]);B[l+3]=r(S.data[p+3])}return[{zC:new hq(0,0,z,A),data:B.buffer}]};hg.gM={};hg.gM.rn=!0;
hg.gM.oY=!0;hg.gM.Bj=function(s,N,r,S,z){S=["",100,!1,!1,!1,0];S[6]=["jpg"];var A=new ToDXF;af.vM(s,S,A,z.dw);
return A.buffer};hg.gM.LG=function(s,N){var r=72,S=new gF(1,0,0,1,0,0);S.scale(r/72,r/72);N.FD=r;var z=new h3(N,S,!1);
FromDXF.Parse(s,z)};hg.yD={};hg.yD.LG=function(){var s=U.ix,N=U.g2,r=U.TX,S;function z(B,Y,t,p,f){var a=N(B,t),D=N(B,t+4),c=N(B,t+8),J=s(B,t+12),Z=s(B,t+14);
t+=16;var Q={};for(var l=0;l<J+Z;l++){var M=N(B,t),u=N(B,t+4),P,m;if(M>>>31==1){M=M&16777215}if(l<J)P=U.RC(B,Y+M+2,s(B,Y+M));
else P="id"+M;var i=p.slice(0);i.push(P);if(u>>>31==1){u=u&268435455;m=z(B,Y,Y+u,i,f)}else{var e=N(B,Y+u),X=N(B,Y+u+4),$=N(B,Y+u+8),O=N(B,Y+u+12);
if(O!=0)throw"e";if(e<f[0]||e>f[0]+f[1])throw"e";var T=f[2]+e-f[0];m=B.slice(T,T+X);var b=hg.yy(m.buffer);
if(b&&["bmp","png","ico"].indexOf(b)!=-1){var R=hg.Pp(b);if(!R.oY){var w=null;try{w=R.LG(m.buffer)}catch(eV){}if(w){w[0].ra=i[1];
S.push(w[0])}}}else if(b)console.log(b)}Q[P]=m;t+=8}return Q}function A(B){S=[];var Y=new Uint8Array(B),t=0,p=s(Y,t);
t+=2;t+=58;var f=N(Y,t);t+=4;t=f;var a=r(Y,t,4);t+=4;var D=s(Y,t);t+=2;var c=s(Y,t);t+=2;var J=N(Y,t);
t+=4;var Z=N(Y,t);t+=4;var Q=N(Y,t);t+=4;var M=s(Y,t);t+=2;var u=s(Y,t);t+=2;t+=M;var P={};for(var l=0;
l<c;l++){var m=t;while(Y[m]!=0)m++;var i=r(Y,t,m-t),e=N(Y,t+8),X=N(Y,t+12),$=N(Y,t+16),O=N(Y,t+20),T=N(Y,t+24),b=N(Y,t+28),R=s(Y,t+32),w=s(Y,t+34),u=N(Y,t+36);
P[i]=[X,e,O,$,u];if(T+b!=0)throw"e";t+=40}for(var F in P){var L=P[F];t=L[2];if(F==".rsrc"){var x=z(Y,t,t,[],L),g="id134"}}return S}return A}();
hg.mD={};hg.mD.oY=!0;hg.mD.LG=function(s,N){ay.j7(s,N)};(function(){var s=hg.Dz.get("wasm/zstd").buffer;
WebAssembly.instantiate(s).then(function(N){var r=N.instance.exports;hg.mD.aus=r})}());hg.mD.Ut=function(s,N){var r=hg.mD.aus,S=s.length,z=r.memory,A=2*S+1e6,t=8;
hg.$I(r,A);var B=new Uint8Array(z.buffer),Y=r.malloc(S);B.set(s,Y);while(!0){var p=N==null?S*t:N;hg.$I(r,A+p);
var f=r.malloc(p),a=r.ZSTD_decompress(f,p,Y,S);if(a==-70){r.free(f);t+=t>>>1;if(N!=null)throw"error"}else{B=new Uint8Array(z.buffer);
s=B.slice(f,f+a);r.free(f);break}}r.free(Y);return s};hg.Zl={};hg.Zl.oY=!0;hg.Zl.LG=function(){var s=0,N=1,r=2,S=3,z=4,A=5,B=6,Y=7,t=1,p=2,f=7,a=8,D=9,c,J,Z,Q,M;
function u(){var i3=U.mB(c,J);J+=4;return i3}function P(){var n=0,h=0;for(var l=0;l<5;l++){var _=c[J++];
n+=(_&127)<<h;h+=7;if((_&128)==0)break}return n}function m(){var n=P(),h=U.uE(c,J,n);J+=n;return h}function i(){return{typeName:m(),aiY:u()}}function e(){var n=u(),h=m(),_=[],H=u();
for(var l=0;l<H;l++)_.push([m()]);return{id:n,aM:h,a80:_}}function X(n){var h=n.a80,_=[];for(var l=0;
l<h.length;l++)h[l].push(c[J++]);for(var l=0;l<h.length;l++){var H=h[l][1],G;h[l].push($(H))}}function $(n){var h;
if(n==s)h=c[J++];else if(n==S)h=m();else if(n==z)h=i();else if(n==N||n==r||n==B||n==A){}else throw n;
return h}function O(n,h,_){var H;if(n==s){if(h==t)H=c[J++]==1;else if(h==p){H=c[J++]}else if(h==a)H=u();
else if(h==D){H=u();u()}else throw h}else if(n==S){H=w(_+1)}else if(n==z){H=w(_+1)}else if(n==A){H=w(_+1)}else if(n==N){H=w(_+1)}else if(n==B){H=w(_+1)}else throw n;
return H}function T(n,h){var _=Z["c"+n],H=_.a80,G={_class:_.aM};for(var l=0;l<H.length;l++){var j=H[l],v=j[1],C=j[2],E=O(v,C,h),I=j[0];
G[I]=E}return G}function b(n,h,_,H){var G=[];for(var l=0;l<n;l++){var j=O(h,_,H);if(j.BO&&j.BO=="null_count"){var v=j.kc;
for(var C=0;C<v;C++)G.push(null);l+=v-1}else G.push(j)}return G}function R(){return[u(),u()]}function w(n){if(n==null)throw"e";
var h=null,_=c[J],H=null;J++;if(_==0){var G=u(),j=u(),v=u(),C=u();h=[G,j,v,C]}else if(_==1){H=u();var E=u();
h=T(E,n)}else if(_==4){var I=e();H=I.id;X(I);Z["c"+I.id]=I;h=T(I.id,n)}else if(_==5){var I=e();H=I.id;
X(I);var dJ=u();Z["c"+I.id]=I;h=T(I.id,n)}else if(_==6){H=u();var fG=m();h=fG}else if(_==7){H=u();var o=c[J++];
if(o!=0)throw o;var i4=u();if(i4!=1)throw i4;var df=u(),eO=c[J++],cO=$(eO);h=b(df,eO,cO,n)}else if(_==9){var ej=u();
h={BO:"ref",kc:ej};M["o"+ej]=!0}else if(_==10){h={BO:"null_count",kc:1}}else if(_==11){h={BO:"end"}}else if(_==12){var dJ=u(),cn=m()}else if(_==13){var j5=c[J++];
h={BO:"null_count",kc:j5}}else if(_==16){var gP=R();H=gP[0];h=b(gP[1],z,null,n)}else if(_==17){var gP=R();
H=gP[0];h=b(gP[1],N,null,n)}else throw"e";if(H!=null&&H>0){if(Q["o"+H]!=null)throw"e";Q["o"+H]=h}return h}function F(n,Q){if(n instanceof Array){for(var l=0;
l<n.length;l++)n[l]=L(n[l],Q)}else if(n instanceof Object){for(var h in n)n[h]=L(n[h],Q)}}function L(n,Q){if(n&&n.BO&&n.BO=="ref")return Q["o"+n.kc];
else return n}function x(n,h,_){c=new Uint8Array(n);J=0;Z={};Q={};M={};var H=U.TX(c,0,4);if(H!="PDN3")throw H;
J+=4;var G=U.ix(c,J)+c[J+2]*256*256;J+=3;var j=U.TX(c,J,G);J+=G;J+=2;while(!0){var v=w(0);if(v&&v.BO&&v.BO=="end")break}for(var C in M)if(Q[C]==null)throw C;
for(var C in Q)F(Q[C],Q);var E=Q.o1;console.log(E);h.G=E.width;h.n=E.height;h.buffer=q.m(h.G*h.n*4);
var I=E.layers["ArrayList+_items"];for(var l=0;l<I.length;l++){var dJ=I[l];if(dJ==null)continue;console.log(dJ);
var fG=dJ["Layer+width"],o=dJ["Layer+height"],i4=dJ["Layer+properties"],df=dJ.properties,eO=df.blendOp._class.split("+").pop();
eO=eO.slice(0,eO.length-7);var cO={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[eO],ej=h.tT();
ej.lP(i4.name);ej.opacity=i4.opacity;ej.pQ(i4.visible);ej.M9=cO;var cn=1<<16,j5=Math.ceil(fG*o/cn);ej.rect=new hq(0,0,fG,o);
ej.buffer=q.m(fG*o*4);var gP=ej.buffer;J+=5;for(var bY=0;bY<j5;bY++){var gR=g();gP.set(gR[1],gR[0]*cn*4)}for(var c3=0;
c3<gP.length;c3+=4){var jj=gP[c3+0];gP[c3+0]=gP[c3+2];gP[c3+2]=jj}h.p.push(ej)}}function g(){var n=U.l(c,J);
J+=4;var h=U.l(c,J);J+=4;var _=pako.inflateRaw(c.slice(J+10));J+=h;return[n,_]}return x}();hg.QT={};
hg.QT.oY=!0;hg.QT.LG=function(s,N){aD.j7(s,N)};var d={};d.Bi=!1;d.cD=!1;d.p3=!1;d.I=document.createElement("canvas");
d.IM=null;d.hj=null;d.T4=0;(function(){var s={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},N;
if(!N)N=d.I.getContext("webgl",s);if(!N)N=d.I.getContext("experimental-webgl",s);if(N){d.Bi=!0;d.cD=!0;
d.IM=N;d.hj=N.createFramebuffer();N.bindFramebuffer(N.FRAMEBUFFER,d.hj);N.disable(N.BLEND);N.disable(N.DEPTH_TEST);
var r=N.createBuffer();N.bindBuffer(N.ARRAY_BUFFER,r);N.bufferData(N.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),N.STATIC_DRAW);
N.enableVertexAttribArray(0);N.vertexAttribPointer(0,2,N.FLOAT,!1,0,0)}}());d.aag=function(s){s=s.replace(/\s\s+/g," ");
s=s.replace(/; /g,";");s=s.replace(/} /g,"}");s=s.replace(/ }/g,"}");s=s.replace(/{ /g,"{");s=s.replace(/ {/g,"{");
s=s.replace(/= /g,"=");s=s.replace(/ =/g,"=");s=s.replace(/\| /g,"|");s=s.replace(/ \|/g,"|");return s};
d._k=function(s){var N=d.IM;if(s>N.getParameter(N.MAX_TEXTURE_SIZE)){d.Bi=!1;alert("Disabling WebGL")}};
d.Rz=function(s,N){return new Float32Array([(s.x-N.x)/N.G,(s.y-N.y)/N.n,s.G/N.G,s.n/N.n])};d.ip=function(){return this.I};
d.Lp=function(s,N){var r=d.IM;r.bindFramebuffer(r.FRAMEBUFFER,d.hj);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s.Cp,0);
r.viewport(0,0,s.G,s.n);if(N){r.enable(r.SCISSOR_TEST);r.scissor(N.x,N.y,N.G,N.n)}else r.disable(r.SCISSOR_TEST)};
d.So=function(s,N,r){if(r)throw"error";var S=d.IM;S.disable(S.SCISSOR_TEST);S.bindFramebuffer(S.FRAMEBUFFER,null);
S.viewport(0,0,s,N);if(r){S.enable(S.SCISSOR_TEST);S.scissor(r.x,r.y,Math.round(r.G),Math.round(r.n))}else S.disable(S.SCISSOR_TEST)};
d.clear=function(){var s=d.IM;s.clearColor(0,0,0,0);s.clear(s.COLOR_BUFFER_BIT)};d.nY=function(s,N){if(N==null)N=0;
var r=(N>>>0&255)==0,S=(N>>>8&255)==0,z=(N>>>16&255)==0,A=(N>>>24&255)==0,B=(s>>>0&255)*(1/255),Y=(s>>>8&255)*(1/255),t=(s>>>16&255)*(1/255),p=(s>>>24&255)*(1/255),f=d.IM;
f.colorMask(r,S,z,A);f.clearColor(B,Y,t,p);f.clear(f.COLOR_BUFFER_BIT);f.colorMask(!0,!0,!0,!0)};d._b=function(s,N,r,S,z){var A=N.PS(S);
if(z)A=A.PS(z);if(A.Nf())return;var B=d.IM;d.Lp(s);B.bindTexture(B.TEXTURE_2D,r.Cp);B.copyTexSubImage2D(B.TEXTURE_2D,0,A.x-S.x,A.y-S.y,A.x-N.x,A.y-N.y,A.G,A.n)};
d.fw=function(l,s,N){var r=d.DW[l];if(r==null||r.G!=s||r.n!=N){if(r)r.delete();r=new d.Ek(s,N)}d.DW[l]=r;
return r};d.DW=[];d.Jv=function(){this.jJ=null;this.tK=null};d.Jv.SA=null;d.Jv.prototype.Rb=function(s){if(this.tK)return;
this.tK={};var N=d.IM,r=this.jJ,S=this.tK;for(var l=0;l<s.length;l++){var z=s[l];S[z]=N.getUniformLocation(r,z)}};
d.Jv.prototype.Mu=function(){};d.Jv.prototype.EG=function(s){var N=d.IM;for(var l=0;l<s.length;l+=2){N.uniform1i(s[l],l>>>1);
N.activeTexture(N["TEXTURE"+(l>>>1)]);N.bindTexture(N.TEXTURE_2D,s[l+1])}N.activeTexture(N.TEXTURE0)};
d.Jv.prototype.gx=function(s,N){var r=d.IM,S=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(S,s);r.compileShader(S);
if(!r.getShaderParameter(S,r.COMPILE_STATUS))console.log(r.getShaderInfoLog(S));var z=r.createShader(r.VERTEX_SHADER);
r.shaderSource(z,N);r.compileShader(z);if(!r.getShaderParameter(z,r.COMPILE_STATUS))console.log(r.getShaderInfoLog(z));
var A=r.createProgram();r.attachShader(A,z);r.attachShader(A,S);r.linkProgram(A);if(!r.getProgramParameter(A,r.LINK_STATUS))console.log("Could not initialise shaders");
this.jJ=A};d.Jv.prototype.Tq=function(){if(d.Jv.SA!=this){d.IM.useProgram(this.jJ);d.Jv.SA=this}};d.hV=function(s,N){d.s_++;
d.T4+=s*N;if(d.p3)console.log("GL.Channels instances: "+d.s_+", memory: "+d.T4);var r=d.IM;this.G=s;
this.n=N;this.Cp=r.createTexture();this.kv=null;this.L7(this.Cp,s,N)};d.hV.prototype.L7=function(s,N,r){var S=d.IM;
S.bindTexture(S.TEXTURE_2D,s);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.NEAREST);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST);
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE);
S.texImage2D(S.TEXTURE_2D,0,S.ALPHA,N,r,0,S.ALPHA,S.UNSIGNED_BYTE,null)};d.hV.prototype.set=function(s,N){var r=d.IM;
r.bindTexture(r.TEXTURE_2D,this.Cp);r.pixelStorei(r.UNPACK_ALIGNMENT,1);var S=this.G*this.n;if(N==null||N.$()*10>S)r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,this.G,this.n,0,r.ALPHA,r.UNSIGNED_BYTE,s);
else{var z=new hq(0,0,this.G,this.n),A=q.m(N.$());q.lf(s,z,A,N);r.texSubImage2D(r.TEXTURE_2D,0,N.x,N.y,N.G,N.n,r.ALPHA,r.UNSIGNED_BYTE,A)}r.pixelStorei(r.UNPACK_ALIGNMENT,4)};
d.hV.prototype.delete=function(){var s=d.IM;if(this.Cp){s.deleteTexture(this.Cp);d.s_--;d.T4-=this.G*this.n}if(d.p3)if(d.p3)console.log("GL.Channels instances: "+d.s_+", memory: "+d.T4*4)};
d.s_=0;d.Ek=function(s,N,r){if(r==null)r=!1;d.s_++;d.T4+=s*N*4;if(d.p3)console.log("GL.Channels instances: "+d.s_+", memory: "+d.T4);
var S=d.IM;this.apH=r;this.G=s;this.n=N;this.Cp=S.createTexture();this.kv=null;this.L7(this.Cp,s,N)};
d.Ek.prototype.set=function(s,N){var r=d.IM;r.disable(r.SCISSOR_TEST);r.bindTexture(r.TEXTURE_2D,this.Cp);
if(s==null||s instanceof Uint8Array){var S=this.G*this.n;if(N==null||N.$()*10>S)r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.G,this.n,0,r.RGBA,r.UNSIGNED_BYTE,s);
else{var z=q.m(N.$()*4);q.LP(s,new hq(0,0,this.G,this.n),z,N);r.texSubImage2D(r.TEXTURE_2D,0,N.x,N.y,N.G,N.n,r.RGBA,r.UNSIGNED_BYTE,z)}}else r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s)};
d.Ek.prototype.get=function(s){var N=d.IM;d.Lp(this);N.readPixels(0,0,this.G,this.n,N.RGBA,N.UNSIGNED_BYTE,s)};
d.Ek.prototype.AY=function(s){if(s.Nf())return;var N=d.IM;if(this.kv==null){this.kv=N.createTexture();
this.L7(this.kv,this.G,this.n);d.s_++;d.T4+=this.G*this.n*4}N.bindFramebuffer(N.FRAMEBUFFER,d.hj);N.bindTexture(N.TEXTURE_2D,this.kv);
if(s){var r=Math.max(s.x,0),S=Math.max(s.y,0);N.copyTexSubImage2D(N.TEXTURE_2D,0,r,S,r,S,s.G,s.n)}else N.copyTexImage2D(N.TEXTURE_2D,0,N.RGBA,0,0,this.G,this.n,0)};
d.Ek.prototype.L7=function(s,N,r){var S=d.IM;S.bindTexture(S.TEXTURE_2D,s);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.apH?S.LINEAR:S.NEAREST);
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.NEAREST);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE);
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE);S.texImage2D(S.TEXTURE_2D,0,S.RGBA,N,r,0,S.RGBA,S.UNSIGNED_BYTE,null)};
d.Ek.prototype.delete=function(){var s=d.IM;if(this.Cp){s.deleteTexture(this.Cp);d.s_--;d.T4-=this.G*this.n*4}if(this.kv){s.deleteTexture(this.kv);
d.s_--;d.T4-=this.G*this.n*4}if(d.p3)if(d.p3)console.log("GL.Channels instances: "+d.s_+", memory: "+d.T4)};
d.Ek.prototype.clone=function(){var s=d.IM,N=new d.Ek(this.G,this.n);d.Lp(this);s.bindTexture(s.TEXTURE_2D,N.Cp);
s.copyTexImage2D(s.TEXTURE_2D,0,s.RGBA,0,0,this.G,this.n,0);return N};d.dh={anr:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",agY:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",M_:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",uj:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Cv:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Ix:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",G6:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",iw:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a0W:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",XC:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",aua:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",s0:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",FY:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",ak:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",Lw:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",rO:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",R4:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",qG:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",lD:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",afB:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",awb:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Lh:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",$c:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
d.Q={};d.Q.JM={};d.Q.OJ=null;d.Q.XZ=null;d.Q.H7=null;d.Q.dv=function(s,N,r,S,z,A,B,Y){if(Y==null)Y=hC.bb();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(s)==-1){B=B*Y.fill;Y.fill=1;Y.style=!1}var t=s+(Y.dP?"1":"");
if(d.Q.JM[t]==null)d.Q.JM[t]=new d.Q.W0(s,Y.dP!=null);var p=d.Q.JM[t],f=r.PS(z).PS(A);f.offset(-z.x,-z.y);
if(f.Nf())return;var a=d.IM;d.Lp(S,f);S.AY(f);p.Tq();p.Mu(N.Cp,S.kv,d.Rz(r,z),B,Y.fill,Y.style?1:0,Y.vX?1:0,Y.dP?new Float32Array(Y.dP):null);
a.drawArrays(a.TRIANGLES,0,6)};d.Q.Qk=function(s,N,r,S,z,A,B,Y,t,p,f){if(d.Q.OJ==null)d.Q.OJ=new d.Q.rA(!0,!0);
if(d.Q.XZ==null)d.Q.XZ=new d.Q.rA(!0,!1);if(d.Q.H7==null)d.Q.H7=new d.Q.rA(!1,!0);var a=p?1:0,D=s?z?d.Q.OJ:d.Q.XZ:d.Q.H7,c=new Float32Array(f?[f[0],f[1],f[2],1]:[1,1,1,1]),J=N?N.PS(S).PS(Y):S.PS(Y);
if(J.Nf())return;J.offset(-S.x,-S.y);var Z=d.IM;d.Lp(r,J);r.AY(J);D.Tq();if(s==null)D.Mu(null,r.kv,z.Cp,d.Rz(S,S),d.Rz(A,S),B/255,t,a,c);
else if(z)D.Mu(s.Cp,r.kv,z.Cp,d.Rz(N,S),d.Rz(A,S),B/255,t,a,c);else D.Mu(s.Cp,r.kv,null,d.Rz(N,S),null,B/255,t,a,c);
Z.drawArrays(Z.TRIANGLES,0,6)};d.Q.a9o=function(s,N,r){if(d.Q.aeN==null)d.Q.aeN=new d.Q.j1;var S=d.Q.aeN,z=new hq(0,0,s.G,s.n),A=d.IM;
d.Lp(N);N.AY(z);S.Tq();S.Mu(z,s.Cp,N.kv,r.Cp);A.drawArrays(A.TRIANGLES,0,6)};d.Q.se={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
d.Q.W0=function(s,N){d.Jv.call(this);var r="\t\t\tprecision highp float;\t\t\t"+d.dh.M_+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(N?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+d.dh.Ix+"\t\t\t"+d.dh.G6+"\t\t\t"+d.dh.iw+"\t\t\t"+d.dh.anr+"\t\t\t"+d.dh.agY+"\t\t\t"+d.dh.a0W+"\t\t\t"+d.dh.XC+"\t\t\t"+d.dh.aua+"\t\t\t"+d.dh.s0+"\t\t\t"+d.dh.hash+"\t\t\t"+(N?d.dh.Lh:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+d.Q.se[s]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",S="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(s=="diss")r+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else r+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(N?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.gx(r,S)};d.Q.W0.prototype=new d.Jv;d.Q.W0.prototype.Mu=function(s,N,r,S,z,A,B,Y){this.Rb("srct alpha source target fill style keepBGA blIf".split(" "));
var t=d.IM,p=this.tK;t.uniform4fv(p.srct,r);t.uniform1f(p.alpha,S);t.uniform1f(p.fill,z);t.uniform1f(p.style,A);
t.uniform1f(p.keepBGA,B);if(Y)t.uniform4fv(p.blIf,Y);this.EG([p.source,s,p.target,N])};d.Q.rA=function(s,N){d.Jv.call(this);
this.akM=s;this.xv=N;var r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+d.dh.FY+"\t\t\t"+d.dh.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(s?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(N?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(s?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(N?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",S="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.gx(r,S)};d.Q.rA.prototype=new d.Jv;d.Q.rA.prototype.Mu=function(s,N,r,S,z,A,B,Y,t){if(this.xv)this.Rb("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.Rb("srct awg dissv source target cswitch".split(" "));var p=d.IM,f=this.tK;p.uniform4fv(f.srct,S);
if(this.xv){p.uniform4fv(f.wrct,z);p.uniform1f(f.wcolor,A)}else{p.uniform4fv(f.cswitch,t)}p.uniform1f(f.awg,B);
p.uniform1f(f.dissv,Y);var a=[f.source,s,f.target,N];if(this.xv)a.push(f.weight,r);this.EG(a)};d.Q.j1=function(){d.Jv.call(this);
var s="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",N="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.gx(s,N)};d.Q.j1.prototype=new d.Jv;d.Q.j1.prototype.Mu=function(s,N,r,S){this.Rb(["rct","prev","next","alpha"]);
var z=d.IM,A=this.tK;z.uniform4fv(A.rct,[0,0,1,1]);this.EG([A.prev,N,A.next,r,A.alpha,S])};d.R8={Zm:{},aJ:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
d.R8.Mx=function(s,N){var r=ai.Uq,S=[r.B4,r.qn,r.si,r.kX,r.t_,r.NL,r.Uc,r.jT].indexOf(s.type),z=d.R8.Zm[s.type];
if(z==null)z=d.R8.Zm[s.type]=new d.Zm[S];z.Tq();z.Mu(N,s);d.IM.drawArrays(d.IM.TRIANGLES,0,6)};d.Zm=[];
d.Zm[0]=function(){d.Jv.call(this);this.Gs={};var s="\t\t\tprecision mediump float;\t\t\t"+d.dh.G6+"\t\t\t"+d.dh.M_+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[0].prototype=new d.Jv;d.Zm[0].prototype.Mu=function(s,N){var r={w:N._O,A:N.Yq,U:N.hC,aC:q.m(N._O.length)},S=r.w.length;
if(this.Gs["m"+S]==null){this.Gs["m"+S]={a2k:new d.Ek(S,1),sB:q.m(S*4)}}var z=this.Gs["m"+S];q.vZ(r,z.sB,0);
var A=z.a2k;A.set(z.sB);this.Rb(["source","map","toGray","presLum"]);var B=d.IM,Y=this.tK;B.uniform1f(Y.toGray,N.fd?1:0);
B.uniform1f(Y.presLum,N.aI?1:0);this.EG([Y.source,s,Y.map,A.Cp])};d.Zm[1]=function(){d.Jv.call(this);
this.a2e=new d.Ek(256,1);this.asb=q.m(256*4);var s="\t\t\t\tprecision mediump float;\t\t\t\t"+d.dh.rO+"\t\t\t\t"+d.dh.ak+"\t\t\t\t"+d.dh.Lw+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[1].prototype=new d.Jv;d.Zm[1].prototype.Mu=function(s,N){q.vZ({w:N.ajQ,A:N.Rf,U:N.a13,aC:q.m(256)},this.asb);
this.a2e.set(this.asb);this.Rb(["source","map","cfa","cfb","colorize"]);var r=d.IM,S=this.tK;r.uniform1f(S.cfa,N.a1G);
r.uniform1f(S.cfb,N.A2);r.uniform1i(S.colorize,N.a2t);this.EG([S.source,s,S.map,this.a2e.Cp])};d.Zm[2]=function(){d.Jv.call(this);
var s="\t\t\tprecision mediump float;\t\t\t"+d.dh.rO+"\t\t\t"+d.dh.R4+"\t\t\t"+d.dh.qG+"\t\t\t"+d.dh.ak+"\t\t\t"+d.dh.Lw+"\t\t\t"+d.dh.afB+"\t\t\t"+d.dh.awb+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[2].prototype=new d.Jv;d.Zm[2].prototype.Mu=function(s,N){this.Rb(["source","vib","sat","yF"]);
var r=d.IM,S=this.tK;r.uniform1f(S.vib,N.LS[0]);r.uniform1f(S.sat,N.LS[1]);r.uniform3fv(S.yF,new Float32Array([N.LS[2],N.LS[3],N.LS[3]]));
this.EG([S.source,s])};d.Zm[3]=function(){d.Jv.call(this);var s="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[3].prototype=new d.Jv;d.Zm[3].prototype.Mu=function(s,N){this.Rb(["source","trf"]);
var r=d.IM,S=this.tK;r.uniformMatrix4fv(S.trf,!1,new Float32Array(q.i_.yZ(N.lO)));this.EG([S.source,s])};
d.Zm[4]=function(){d.Jv.call(this);var s="\t\t\tprecision mediump float; \t\t\t"+d.dh.lD+"\t\t\t"+d.dh.rO+"\t\t\t"+d.dh.Lw+"\t\t\t"+d.dh.ak+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[4].prototype=new d.Jv;d.Zm[4].prototype.Mu=function(s,N){this.Rb(["source","mnm","mxm","shift","lim"]);
var r=d.IM,S=this.tK;r.uniform3fv(S.mnm,new Float32Array(N.$W));r.uniform3fv(S.mxm,new Float32Array(N.Fs));
r.uniform3fv(S.shift,new Float32Array(N.shift));r.uniform1f(S.lim,N.KT);this.EG([S.source,s])};d.Zm[5]=function(){d.Jv.call(this);
var s="\t\t\tprecision mediump float;\t\t\t"+d.dh.M_+"\t\t\t"+d.dh.uj+"\t\t\t"+d.dh.Cv+"\t\t\t"+d.dh.ak+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[5].prototype=new d.Jv;d.Zm[5].prototype.Mu=function(s,N){this.Rb(["source","cfs"]);
var r=d.IM,S=this.tK;r.uniform3fv(S.cfs,N.a3E);this.EG([S.source,s])};d.Zm[6]=function(){d.Jv.call(this);
var s="\t\t\tprecision mediump float;\t\t\t"+d.dh.rO+"\t\t\t"+d.dh.uj+"\t\t\t"+d.dh.Cv+"\t\t\t"+d.dh.ak+"\t\t\t"+d.dh.Lw+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[6].prototype=new d.Jv;d.Zm[6].prototype.Mu=function(s,N){this.Rb(["source","wght","prms"]);
var r=d.IM,S=this.tK,z=[N.cJ,N.am6,N.G6,N.ail,N.KJ,N.a7p];r.uniform1fv(S.wght,new Float32Array(N.a0s));
r.uniform1fv(S.prms,new Float32Array(z));this.EG([S.source,s])};d.Zm[7]=function(){d.Jv.call(this);this.ga={};
var s="\t\t\tprecision mediump float;\t\t\t"+d.dh.$c+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.gx(s,d.R8.aJ)};d.Zm[7].prototype=new d.Jv;d.Zm[7].prototype.Mu=function(s,N){this.Rb(["source","lut","N"]);
var r=d.IM,S=this.tK,z=N.a2,A=N.GT;if(this.ga["m"+z]==null)this.ga["m"+z]=new d.Ek(z,z*z);var B=this.ga["m"+z];
B.set(A);r.uniform1f(S.N,z);this.EG([S.source,s,S.lut,B.Cp]);r.activeTexture(r.TEXTURE1);var Y=r.LINEAR;
r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,Y);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,Y);
r.activeTexture(r.TEXTURE0)};d.filter={Ds:{},aJ:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aup:0,aoN:1,iH:2,atg:3,avH:4,a5V:5,Vr:6,a1$:7};
d.filter.Mx=function(s,N){var r=d.filter,S,z=s.type+":"+(s.oT?s.oT.join(","):""),S=d.filter.Ds[z];if(S==null)S=d.filter.Ds[z]=new d.Ds[s.type](s.oT);
S.Tq();S.Mu(N,s);d.IM.drawArrays(d.IM.TRIANGLES,0,6)};d.Ds=[0,0,0,0,0,0,0,0,0,0,0,0];d.Ds[7]=function(){d.Jv.call(this);
var s="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.gx(cf.VS(s),cf.VS(d.filter.aJ))};d.Ds[7].prototype=new d.Jv;d.Ds[7].prototype.Mu=function(s,N){this.Rb(["source","iwh","kern"]);
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform1fv(S.kern,N.asz);this.EG([S.source,s])};d.Ds[6]=function(s){d.Jv.call(this);
var N=s[0],r=s[1],S=s[2],z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",A=cf.VS(z);
A=A.replaceAll("PRC",S+".0");A=A.replaceAll("DIR",["x,0","0,x"][r]);this.gx(A,d.R8.aJ)};d.Ds[6].prototype=new d.Jv;
d.Ds[6].prototype.Mu=function(s,N){this.Rb(["source","iwh","rad"]);var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);
r.uniform1f(S.rad,N.aw);this.EG([S.source,s])};d.Ds[4]=function(s){d.Jv.call(this);var N=s[0],r=s[1],S="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+s[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][r]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][N]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][r]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(r==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.gx(S,d.R8.aJ)};d.Ds[4].prototype=new d.Jv;d.Ds[4].prototype.Mu=function(s,N){this.Rb(["source","iwh","rrad","tr"]);
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform1f(S.rrad,N.Of);r.uniform1f(S.tr,N.anB);this.EG([S.source,s]);
var z=r.LINEAR;z=r.NEAREST;r.activeTexture(r.TEXTURE0);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,z);
r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,z);r.activeTexture(r.TEXTURE0)};d.Ds[5]=function(){d.Jv.call(this);
var s="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.gx(cf.VS(s),cf.VS(d.filter.aJ))};d.Ds[5].prototype=new d.Jv;d.Ds[5].prototype.Mu=function(s,N){this.Rb(["source","ssum","iwh","amnt","edgf"]);
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform1f(S.amnt,N.aeA);r.uniform1f(S.edgf,N.abr);this.EG([S.source,s,S.ssum,N.aaK])};
d.Ds[3]=function(){d.Jv.call(this);var s="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.gx(cf.VS(s),cf.VS(d.filter.aJ))};d.Ds[3].prototype=new d.Jv;d.Ds[3].prototype.Mu=function(s,N){this.Rb("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform1f(S.tdep,N.apn);r.uniform1f(S.rrad,N.Of);r.uniform2fv(S.spec,N.a8j);
r.uniform3fv(S.nois,N.adp);r.uniformMatrix4fv(S.poly0,!1,N.atH);r.uniformMatrix4fv(S.poly1,!1,N.aiP);
this.EG([S.source,s]);var z=r.LINEAR;r.activeTexture(r.TEXTURE0);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,z);
r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,z);r.activeTexture(r.TEXTURE0)};d.Ds[0]=function(){d.Jv.call(this);
var s="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.gx(cf.VS(s),cf.VS(d.filter.aJ))};d.Ds[0].prototype=new d.Jv;d.Ds[0].prototype.Mu=function(s,N){this.Rb(["source","iwh","ld","shine"]);
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform3fv(S.ld,N.af3);r.uniform1f(S.shine,N.auB);this.EG([S.source,s,S.tang,N.sj])};
d.Ds[1]=function(){d.Jv.call(this);var s="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.gx(cf.VS(s),cf.VS(d.filter.aJ))};d.Ds[1].prototype=new d.Jv;d.Ds[1].prototype.Mu=function(s,N){this.Rb(["source","iwh","isc","bristle"]);
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform1f(S.isc,N.al6);r.uniform1f(S.bristle,N.aee);
this.EG([S.source,s])};d.Ds[2]=function(){d.Jv.call(this);var s="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.gx(cf.VS(s),cf.VS(d.filter.aJ))};d.Ds[2].prototype=new d.Jv;d.Ds[2].prototype.Mu=function(s,N){this.Rb(["source","tang","iwh","sigma","expo"]);
var r=d.IM,S=this.tK;r.uniform2fv(S.iwh,N.GB);r.uniform1f(S.sigma,N.as6);r.uniform1f(S.expo,N.ajY);this.EG([S.source,s,S.tang,N.sj]);
var z=r.LINEAR;r.activeTexture(r.TEXTURE0);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,z);r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,z);
r.activeTexture(r.TEXTURE0)};function q(){}q.C={};q.a54={};q.apU=function(){var s=[64,64,128,256,512,1024,2048],N=[];
for(var l=0;l<s.length;l++){var r=s[l],S=document.createElement("canvas");S.width=r;S.height=r;N.push(S.getContext("2d"))}return N}();
q.ip=function(s,N){var r,S=q.apU,l=1,z=Math.max(s,N);while(l<S.length&&z>S[l].canvas.width)l++;if(l==S.length){r=S[0];
var A=r.canvas;A.width=s;A.height=N}else{r=S[l];r.clearRect(0,0,s,N)}return r};q.Hr=function(s,N,r){var S=new Uint32Array(N*r);
S[0]=s[0];for(var z=1;z<N;z++)S[z]=S[z-1]+s[z];for(var A=1;A<r;A++){var l=A*N;S[l]=S[l-N]+s[l];for(var z=1;
z<N;z++)S[l+z]=s[l+z]+S[l+z-1]+S[l+z-N]-S[l+z-N-1]}return S};q.wc=function(s,N,r,S,z,A){var B=(z-1)*N,Y=A*N;
return s[Y+S]-s[Y+r-1]-s[B+S]+s[B+r-1]};q.Yz=function(s,N,r){var S={},z=0,A=0,B=new Uint32Array(s.buffer),Y=B.length,t=Date.now();
for(var p=1;p<r-1;p++)for(var f=1;f<N-1;f++){var a=p*N+f,D=B[a];if(D>>>24<230)A++;if(S[D]==null){S[D]=!0;
z++}}if(A!=0||z<20)return!1;return!0};q.nD=function(s,N,r,S,z,A){if(z==null)z=A=0;S=Math.log(S)/Math.log(2);
S=Math.round(S);for(var l=0;l<r;l++)for(var B=0;B<N;B++){var Y=l*N+B<<2,t=q.Ro(l+A,B+z,S);s[Y]=s[Y+1]=s[Y+2]=t;
s[Y+3]=255}};q.Ro=function(l,s,N){return 255-((l>>>N)+(s>>>N)&1)*51};q.fD=function(s){var N=s.toString(16);
while(N.length<6)N="0"+N;return N};q.Lk=function(s){return parseInt(s,16)};q.G6=function(s){return.3*s.w+.59*s.A+.11*s.U};
q.Ix=function(s){return Math.max(s.w,s.A,s.U)-Math.min(s.w,s.A,s.U)};q.il=function(s,N,r){return.3*s+.59*N+.11*r};
q.ae2=function(s,N,r){return Math.max(s,N,r)-Math.min(s,N,r)};q.uj=function(s,N){var r=N-s,S=Math.abs(r),z=r-1,A=r+1;
if(Math.abs(z)<S)r=z;else if(Math.abs(A)<S)r=A;return r};q.VN=function(s){return s<.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055};
q.Fb=function(s){return s<.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)};q.aeL=function(s,N){var r=Math.min(s.length,N.length);
for(var l=0;l<r;l+=4){var S=s[l],z=s[l+1],A=s[l+2];N[l]=16+Math.floor(65.481/255*S+128.553/255*z+24.966/255*A+.5);
N[l+1]=128-Math.floor(37.797/255*S-74.203/255*z+112/255*A+.5);N[l+2]=128+Math.floor(112/255*S-93.786/255*z-18.214/255*A+.5);
N[l+3]=s[l+3]}};q.anO=function(s,N,r){var S,z,A,B=Math.max(s,N,r),Y=Math.min(s,N,r);A=B;if(B!=0)z=(B-Y)/B;
else z=0;if(z==0)S=0;else{var t=B-Y,p=(B-s)/t,f=(B-N)/t,a=(B-r)/t;if(s==B)S=a-f;else if(N==B)S=2+p-a;
else S=4+f-p;S*=1/6;if(S<0)S=S+1}return{JY:S,D7:z,U:A}};q.acK=function(s,N,r){var S=0,z=0,A=0;if(N==0)S=z=A=r;
else{var B=(s-Math.floor(s))*6,Y=Math.floor(B),t=B-Math.floor(B),p=r*(1-N),f=r*(1-N*t),a=r*(1-N*(1-t));
switch(Y){case 0:S=r;z=a;A=p;break;case 1:S=f;z=r;A=p;break;case 2:S=p;z=r;A=a;break;case 3:S=p;z=f;
A=r;break;case 4:S=a;z=p;A=r;break;case 5:S=r;z=p;A=f;break}}return{w:S,A:z,U:A}};q.ak=function(s,N,r){var S=Math.max(s,N,r),z=Math.min(s,N,r),A=0,B=0,Y=(S+z)*.5;
if(S!=z){var t=S-z;B=Y>.5?t/(2-(S+z)):t/(S+z);switch(S){case s:A=(N-r)/t+(N<r?6:0);break;case N:A=(r-s)/t+2;
break;case r:A=(s-N)/t+4;break}A*=1/6}return{JY:A,D7:B,Yc:Y}};q.Lw=function(s,N,r){var S,z,A;if(N==0)S=z=A=r;
else{var B=r<.5?r*(1+N):r+N-r*N,Y=2*r-B;S=q.rO(Y,B,s+1/3);z=q.rO(Y,B,s);A=q.rO(Y,B,s-1/3)}return{w:S,A:z,U:A}};
q.rO=function(s,N,r){if(r<0)r+=1;if(r>1)r-=1;if(r<1/6)return s+(N-s)*6*r;if(r<1/2)return N;if(r<2/3)return s+(N-s)*(2/3-r)*6;
return s};q.R4=function(s,N,r){var S=Math.max(s,N,r),z=Math.min(s,N,r),A,B,Y=S,t=S-z;B=S==0?0:t/S;if(S==z)A=0;
else{switch(S){case s:A=(N-r)/t+(N<r?6:0);break;case N:A=(r-s)/t+2;break;case r:A=(s-N)/t+4;break}A*=1/6}return{JY:A,D7:B,kc:Y}};
q.qG=function(s,N,r){var S,z,A,l,B,Y,t,p;l=Math.floor(s*6);B=s*6-l;Y=r*(1-N);t=r*(1-B*N);p=r*(1-(1-B)*N);
switch(l%6){case 0:S=r,z=p,A=Y;break;case 1:S=t,z=r,A=Y;break;case 2:S=Y,z=r,A=p;break;case 3:S=Y,z=t,A=r;
break;case 4:S=p,z=Y,A=r;break;case 5:S=r,z=Y,A=t;break}return{w:S,A:z,U:A}};q.CG=function(){var s=[],N=[];
for(var l=0;l<2e3;l++){var r=l/1e3;s[l]=q.Fb(r);N[l]=r>.008856?Math.pow(r,1/3):(903.3*r+16)*(1/116)}return[s,N]}();
q.lD=function(s,N,r){var S=q.CG[0],z=q.CG[1];s=S[~~(s*(1e3/255))];N=S[~~(N*(1e3/255))];r=S[~~(r*(1e3/255))];
var A=q.i_.ao0,B=A[0]*s+A[1]*N+A[2]*r,Y=A[4]*s+A[5]*N+A[6]*r,t=A[8]*s+A[9]*N+A[10]*r;B=B*(100/96.72);
Y=Y*(100/100);t=t*(100/81.427);return q.SO(B,Y,t)};q.SO=function(s,N,r){var S=q.CG[1],z=S[~~(s*1e3)],A=S[~~(N*1e3)],B=S[~~(r*1e3)];
return{Mp:116*A-16,aC:500*(z-A),U:200*(A-B)}};q.Hs=function(s,N,r){var S=903.3,z=.008856,A=(s+16)/116,B=A*A*A,Y=A-r/200,t=Y*Y*Y,p=N/500+A,f=p*p*p,a=t>z?t:(116*Y-16)/S,D=B>z?B:(116*A-16)/S,c=f>z?f:(116*p-16)/S,J=c*96.72,Z=D*100,Q=a*81.427,M=q.i_.Et(q.i_.J9,[J/100,Z/100,Q/100,0]);
for(var l=0;l<4;l++)M[l]=Math.max(0,Math.min(255,q.VN(M[l])*255));return{w:M[0],A:M[1],U:M[2]}};q.UD=function(s,N,r,S,z){var A=s.Mp,B=s.aC,Y=s.U,t=(A<N.Mp?N.Mp-A:r.Mp<A?r.Mp-A:0)*(1/100),p=(B<N.aC?N.aC-B:r.aC<B?r.aC-B:0)*(1/116),f=(Y<N.U?N.U-Y:r.U<Y?r.U-Y:0)*(1/116),a=Math.sqrt(t*t+p*p+f*f)*1.35;
return a<=S?Math.min(1,1.17*(1-a*z)):0};q.I_=function(s,N,r){var S=s.length,z=.3,A=.59,B=.11;if(r){z=r[0];
A=r[1];B=r[2]}for(var l=0;l<S;l+=4)N[l>>2]=~~(s[l+0]*z+s[l+1]*A+s[l+2]*B+.5)};q._i=function(s,N){var r=N.length;
for(var l=0;l<r;l+=4){var S=s[l>>>2];N[l]=S;N[l+1]=S;N[l+2]=S}};q.vZ=function(s,N){var r=s.aC,S=s.w,z=s.A,A=s.U,B=Math.min(s.aC.length,N.buffer.byteLength>>>2),Y=4*Math.floor(B/4),t=new Uint32Array(N.buffer),p=new Uint32Array(r.buffer),f=new Uint32Array(S.buffer),a=new Uint32Array(z.buffer),D=new Uint32Array(A.buffer);
for(var l=0;l<Y;l+=4){var c=p[l>>2],J=D[l>>2],Z=a[l>>2],Q=f[l>>2];t[l]=c<<24|(J&255)<<16|(Z&255)<<8|Q&255;
t[l+1]=(c&65280)<<16|(J&65280)<<8|Z&65280|(Q&65280)>>>8;t[l+2]=(c&16711680)<<8|J&16711680|(Z&16711680)>>>8|(Q&16711680)>>>16;
t[l+3]=c&4278190080|(J&4278190080)>>>8|(Z&4278190080)>>>16|(Q&4278190080)>>>24}for(var l=Y;l<B;l++)t[l]=r[l]<<24|A[l]<<16|z[l]<<8|S[l]};
q.oK=function(s,N){var r=N.aC,S=N.w,z=N.A,A=N.U,B=Math.min(N.aC.length,s.buffer.byteLength>>>2),Y=4*Math.floor(B/4),t=new Uint32Array(s.buffer),p=new Uint32Array(r.buffer),f=new Uint32Array(S.buffer),a=new Uint32Array(z.buffer),D=new Uint32Array(A.buffer);
for(var l=0;l<Y;l+=4){var c=t[l],J=t[l+1],Z=t[l+2],Q=t[l+3];f[l>>2]=c&255|(J&255)<<8|(Z&255)<<16|Q<<24;
a[l>>2]=(c&65280)>>8|J&65280|(Z&65280)<<8|(Q&65280)<<16;D[l>>2]=(c&16711680)>>16|(J&16711680)>>8|Z&16711680|(Q&16711680)<<8;
p[l>>2]=c>>>24|J>>>24<<8|Z>>>24<<16|Q&4278190080}for(var l=Y;l<B;l++){var M=t[l];S[l]=M>>0&255;z[l]=M>>8&255;
A[l]=M>>16&255;r[l]=M>>24&255}};q.WZ=function(s,N,r){var S=new Uint8Array(s.buffer),z=Math.min(S.length/4,N.length);
for(var l=0;l<z;l++){N[l]=S[(l<<2)+r]}};q.XX=function(s,N,r){var S=new Uint8Array(N.buffer),z=new Uint32Array(s.buffer),A=Math.min(S.length/4,s.length),l=0;
while(l+4<A){var B=z[l>>>2];S[(l<<2)+r]=B&255;S[(l<<2)+r+4]=B>>>8&255;S[(l<<2)+r+8]=B>>>16&255;S[(l<<2)+r+12]=B>>>24;
l+=4}while(l<A){S[(l<<2)+r]=s[l];l++}};q.TM=function(s,N,r){if(r==null)r=0;var S=new Uint32Array(s.buffer),z=S.length;
for(var l=0;l<z;l++)S[l]=S[l]&r|N};q.atU=function(s,N,r,S,z){if(z==null)z=0;var A=new Uint32Array(s.buffer);
r=r.PS(N);var B=r.x-N.x,Y=r.y-N.y,t=r.G,p=r.n,f=N.G;for(var a=0;a<p;a++){var l=(Y+a)*f+B;for(var D=0;
D<t;D++){A[l]=A[l]&z|S;l++}}};q.r8=function(s,N){var r=Math.min(s.buffer.byteLength,N.buffer.byteLength),S=r>>>2,s=new Uint32Array(s.buffer,0,S),N=new Uint32Array(N.buffer,0,S);
N.set(s)};q.nR=function(s,N){var r=s.buffer.byteLength,S=N.buffer.byteLength,z=new Uint32Array(s.buffer,0,r>>2),A=new Uint32Array(N.buffer,0,S>>2);
if(r!=S)return!1;var B=z.length;for(var l=0;l<B;l++)if(A[l]!=z[l])return!1;return!0};q.dm=function(s){var N=new Uint32Array(s.buffer),r=N.length;
for(var l=0;l<r;l++)N[l]=~N[l]};q.ap7=function(s){var N=s.length;for(var l=0;l<N;l+=4){s[l]=~s[l];s[l+1]=~s[l+1];
s[l+2]=~s[l+2]}};q.afC=function(s){var N=s.length;for(var l=3;l<N;l+=4)s[l]=~s[l]};q.auE=function(s){return s+(s%4==0?0:4-s%4)};
q.m=function(s,N){if(N==null)N=!1;if(!N)s=q.auE(s);try{var r=new Uint8Array(s)}catch(eV){alert("Not enough RAM! (need "+Math.round(s/(1<<20))+" MB)",7e3);
throw"low_ram"}return r};q.Ia=function(s){var N=s.length,r=s[N-2],S=s[N-1];while(S.G>=2&&S.n>=2){var z=q.fK(r,S);
s.push(z.sB,z.rect);r=z.sB;S=z.rect}};q.uq=function(s){var N=s.length,r=s[N-2],S=s[N-1];while(S.G>=2&&S.n>=2){var z=q.iv(r,S);
s.push(z.sB,z.rect);r=z.sB;S=z.rect}};q.fK=function(s,N,r){var S=N.G,z=N.n,A=S>>1,B=z>>1,Y=new hq(N.x,N.y,A,B),t=r&&r.length==A*B*4?r:q.m(A*B*4),p=new Uint32Array(s.buffer),f=new Uint32Array(t.buffer);
for(var a=0;a<B;a++)for(var D=0;D<A;D++){var c=a*A+D,J=(a<<1)*S+(D<<1),Z=p[J],Q=p[J+1],M=p[J+S],u=p[J+S+1],P=Z>>>24,m=Q>>>24,i=M>>>24,e=u>>>24,X=P+m+i+e;
if(X==1020){var $=(Z>>>0&255)+(Q>>>0&255)+(M>>>0&255)+(u>>>0&255)+2>>>2,O=(Z>>>8&255)+(Q>>>8&255)+(M>>>8&255)+(u>>>8&255)+2>>>2,T=(Z>>>16&255)+(Q>>>16&255)+(M>>>16&255)+(u>>>16&255)+2>>>2;
f[c]=255<<24|T<<16|O<<8|$}else if(X==0)f[c]=0;else{var $=(Z>>>0&255)*P+(Q>>>0&255)*m+(M>>>0&255)*i+(u>>>0&255)*e,O=(Z>>>8&255)*P+(Q>>>8&255)*m+(M>>>8&255)*i+(u>>>8&255)*e,T=(Z>>>16&255)*P+(Q>>>16&255)*m+(M>>>16&255)*i+(u>>>16&255)*e,b=1/X;
$=~~($*b+.5);O=~~(O*b+.5);T=~~(T*b+.5);f[c]=X+2>>>2<<24|T<<16|O<<8|$}}return{rect:Y,sB:t}};q.U6=function(s,N,r){var S=N.G,z=N.n,A=S>>1,B=z>>1,Y=new hq(N.x,N.y,A,B),t=r&&r.length==A*B*4?r:q.m(A*B*4),p=new Uint32Array(s.buffer),f=new Uint32Array(t.buffer);
for(var a=0;a<B;a++)for(var D=0;D<A;D++){var c=a*A+D,J=(a<<1)*S+(D<<1),Z=p[J],Q=p[J+1],M=p[J+S],u=p[J+S+1],P=2+(Z>>>0&255)+(Q>>>0&255)+(M>>>0&255)+(u>>>0&255)>>>2,m=2+(Z>>>8&255)+(Q>>>8&255)+(M>>>8&255)+(u>>>8&255)>>>2,i=2+(Z>>>16&255)+(Q>>>16&255)+(M>>>16&255)+(u>>>16&255)>>>2,e=2+(Z>>>24&255)+(Q>>>24&255)+(M>>>24&255)+(u>>>24&255)>>>2;
f[c]=e<<24|i<<16|m<<8|P}return{rect:Y,sB:t}};q.auK=function(s,N,r){var S=N.G,z=N.n,A=2*Math.floor(S/3),B=2*Math.floor(z/3),Y=new hq(N.x,N.y,A,B),t=r&&r.length==A*B*4?r:q.m(A*B*4),p=new Uint32Array(s.buffer),f=new Uint32Array(t.buffer);
for(var a=0;a<B;a+=2)for(var D=0;D<A;D+=2){var c=a*A+D,J=(a*3>>>1)*S+(D*3>>>1),Z=p[J],Q=p[J+1],M=p[J+2],u=p[J+S],P=p[J+1+S],m=p[J+2+S],i=p[J+S+S],e=p[J+1+S+S],X=p[J+2+S+S],$=Z>>>24<<2,O=(Z>>>16&255)*$,T=(Z>>>8&255)*$,b=(Z&255)*$,R=Q>>>24<<1,w=(Q>>>16&255)*R,F=(Q>>>8&255)*R,L=(Q&255)*R,x=M>>>24<<2,g=(M>>>16&255)*x,n=(M>>>8&255)*x,h=(M&255)*x,_=u>>>24<<1,H=(u>>>16&255)*_,G=(u>>>8&255)*_,j=(u&255)*_,v=P>>>24,C=(P>>>16&255)*v,E=(P>>>8&255)*v,I=(P&255)*v,dJ=m>>>24<<1,fG=(m>>>16&255)*dJ,o=(m>>>8&255)*dJ,i4=(m&255)*dJ,df=i>>>24<<2,eO=(i>>>16&255)*df,cO=(i>>>8&255)*df,ej=(i&255)*df,cn=e>>>24<<1,j5=(e>>>16&255)*cn,gP=(e>>>8&255)*cn,bY=(e&255)*cn,gR=X>>>24<<2,c3=(X>>>16&255)*gR,jj=(X>>>8&255)*gR,jC=(X&255)*gR,kf=$+R+_+v,bz=x+R+dJ+v,iv=df+cn+_+v,bI=gR+cn+dJ+v,jo=kf==0?0:1/kf,iZ=bz==0?0:1/bz,jD=iv==0?0:1/iv,dM=bI==0?0:1/bI,ka=0,ds=0,ee=0,a9=0;
ka=~~(.5+(b+L+j+I)*jo);ds=~~(.5+(T+F+G+E)*jo);ee=~~(.5+(O+w+H+C)*jo);a9=~~(.5+kf*(1/9));f[c]=a9<<24|ee<<16|ds<<8|ka;
ka=~~(.5+(h+L+i4+I)*iZ);ds=~~(.5+(n+F+o+E)*iZ);ee=~~(.5+(g+w+fG+C)*iZ);a9=~~(.5+bz*(1/9));f[c+1]=a9<<24|ee<<16|ds<<8|ka;
ka=~~(.5+(ej+bY+j+I)*jD);ds=~~(.5+(cO+gP+G+E)*jD);ee=~~(.5+(eO+j5+H+C)*jD);a9=~~(.5+iv*(1/9));f[c+A]=a9<<24|ee<<16|ds<<8|ka;
ka=~~(.5+(jC+bY+i4+I)*dM);ds=~~(.5+(jj+gP+o+E)*dM);ee=~~(.5+(c3+j5+fG+C)*dM);a9=~~(.5+bI*(1/9));f[c+A+1]=a9<<24|ee<<16|ds<<8|ka}return{rect:Y,sB:t}};
q.amf=function(s,N,r){var S=N.G,z=N.n,A=2*Math.floor(S/3),B=2*Math.floor(z/3),Y=new hq(N.x,N.y,A,B),t=r&&r.length==A*B*4?r:q.m(A*B*4),p=new Uint32Array(s.buffer),f=new Uint32Array(t.buffer);
for(var a=0;a<B;a+=2)for(var D=0;D<A;D+=2){var c=a*A+D,J=(a*3>>>1)*S+(D*3>>>1),Z=p[J],Q=p[J+1],M=p[J+2],u=p[J+S],P=p[J+1+S],m=p[J+2+S],i=p[J+S+S],e=p[J+1+S+S],X=p[J+2+S+S],$=(Z>>>16&255)<<2,O=(Z>>>8&255)<<2,T=(Z&255)<<2,b=(Q>>>16&255)<<1,R=(Q>>>8&255)<<1,w=(Q&255)<<1,F=(M>>>16&255)<<2,L=(M>>>8&255)<<2,x=(M&255)<<2,g=(u>>>16&255)<<1,n=(u>>>8&255)<<1,h=(u&255)<<1,_=P>>>16&255,H=P>>>8&255,G=P&255,j=(m>>>16&255)<<1,v=(m>>>8&255)<<1,C=(m&255)<<1,E=(i>>>16&255)<<2,I=(i>>>8&255)<<2,dJ=(i&255)<<2,fG=(e>>>16&255)<<1,o=(e>>>8&255)<<1,i4=(e&255)<<1,df=(X>>>16&255)<<2,eO=(X>>>8&255)<<2,cO=(X&255)<<2,ej=0,cn=0,j5=0;
ej=~~(.5+(T+w+h+G)*(1/9));cn=~~(.5+(O+R+n+H)*(1/9));j5=~~(.5+($+b+g+_)*(1/9));f[c]=255<<24|j5<<16|cn<<8|ej;
ej=~~(.5+(x+w+C+G)*(1/9));cn=~~(.5+(L+R+v+H)*(1/9));j5=~~(.5+(F+b+j+_)*(1/9));f[c+1]=255<<24|j5<<16|cn<<8|ej;
ej=~~(.5+(dJ+i4+h+G)*(1/9));cn=~~(.5+(I+o+n+H)*(1/9));j5=~~(.5+(E+fG+g+_)*(1/9));f[c+A]=255<<24|j5<<16|cn<<8|ej;
ej=~~(.5+(cO+i4+C+G)*(1/9));cn=~~(.5+(eO+o+v+H)*(1/9));j5=~~(.5+(df+fG+j+_)*(1/9));f[c+A+1]=255<<24|j5<<16|cn<<8|ej}return{rect:Y,sB:t}};
q.Fq=function(s){var N=255,r=s.length;r-=r&31;for(var l=3;l<r;l+=32)N=N&s[l]&s[l+4]&s[l+8]&s[l+12]&s[l+16]&s[l+20]&s[l+24]&s[l+28];
return N!=255};q.a7n=function(s,N,r,S){var z=q.fK,A=q.auK,Y=0;if(!q.Fq(s)){z=q.U6;A=q.amf}var B={sB:s,rect:N},t=r;
while(t<.499){Y++;t*=2}for(var l=0;l<Y;l++)B=z(B.sB,B.rect,S);if(t<.5001)B=z(B.sB,B.rect,S);else B=A(B.sB,B.rect,S);
return B};q.aiN=function(s,N,r,S){var z=q.iv,A=q.qq,B={sB:s,rect:N},Y=0,t=r;while(t<.499){Y++;t*=2}for(var l=0;
l<Y;l++)B=z(B.sB,B.rect,S);if(t<.5001)B=z(B.sB,B.rect,S);else B=A(B.sB,B.rect,S);return B};q.iv=function(s,N,r){var S=N.G,z=N.n,A=S>>1,B=z>>1,Y=new hq(N.x,N.y,A,B);
if(s==null)return{rect:Y};var t=r&&r.length>=A*B?r:q.m(A*B);for(var p=0;p<B;p++){var f=p*A;for(var a=0;
a<A;a++){var D=(p<<1)*S+(a<<1);t[f+a]=2+s[D]+s[D+1]+s[D+S]+s[D+S+1]>>>2}}return{rect:Y,sB:t}};q.qq=function(s,N,r){var S=N.G,z=N.n,A=2*Math.floor(S/3),B=2*Math.floor(z/3),Y=new hq(N.x,N.y,A,B);
if(s==null)return{rect:Y};var t=r&&r.length>=A*B?r:q.m(A*B);for(var p=0;p<B;p+=2)for(var f=0;f<A;f+=2){var a=p*A+f,D=(p*3>>>1)*S+(f*3>>>1),c=s[D]<<2,J=s[D+1]<<1,Z=s[D+2]<<2,Q=s[D+S]<<1,M=s[D+1+S],u=s[D+2+S]<<1,P=s[D+S+S]<<2,m=s[D+1+S+S]<<1,i=s[D+2+S+S]<<2;
t[a]=~~(.5+(c+J+Q+M)*(1/9));t[a+1]=~~(.5+(Z+J+u+M)*(1/9));t[a+A]=~~(.5+(P+m+Q+M)*(1/9));t[a+A+1]=~~(.5+(i+m+u+M)*(1/9))}return{rect:Y,sB:t}};
q.lf=function(s,N,r,S,z){var A=N.PS(S);if(z)A=A.PS(z);var B=Math.max(0,A.x-N.x),Y=Math.max(0,A.x-S.x),t=Math.max(0,A.y-N.y),p=Math.max(0,A.y-S.y),f=A.G,a=A.n;
for(var l=0;l<a;l++){var D=(t+l)*N.G+B,c=(p+l)*S.G+Y;r.set(new Uint8Array(s.buffer,D,f),c)}};q.YY=function(s,N,r,S){if(N.nR(S)){q.XX(s,r,3);
return}var z=N.PS(S),A=Math.max(0,z.x-N.x),B=Math.max(0,z.x-S.x),Y=Math.max(0,z.y-N.y),t=Math.max(0,z.y-S.y),p=z.G,f=z.n;
for(var l=0;l<f;l++){var a=(Y+l)*N.G+A,D=(t+l)*S.G+B;for(var c=0;c<p;c++)r[(D+c<<2)+3]=s[a+c]}};q.P_=function(s,N,r,S){var z=N.PS(S),A=Math.max(0,z.x-N.x),B=Math.max(0,z.x-S.x),Y=Math.max(0,z.y-N.y),t=Math.max(0,z.y-S.y),p=z.G,f=z.n;
for(var l=0;l<f;l++){var a=(Y+l)*N.G+A,D=(t+l)*S.G+B;for(var c=0;c<p;c++)r[D+c]=s[(a+c<<2)+3]}};q.LP=function(s,N,r,S,z){if(N.nR(S)&&(z==null||z.nR(S))){q.r8(s,r);
return}s=new Uint32Array(s.buffer),r=new Uint32Array(r.buffer);var A=N.PS(S);if(z)A=A.PS(z);var B=Math.max(0,A.x-N.x),Y=Math.max(0,A.x-S.x),t=Math.max(0,A.y-N.y),p=Math.max(0,A.y-S.y),f=A.G,a=A.n,D=f&3,c=D==0?f:f-D;
for(var l=0;l<a;l++){var J=(t+l)*N.G+B,Z=(p+l)*S.G+Y;r.set(new Uint32Array(s.buffer,J*4,f),Z)}};q._b=function(s,N,r,S){var z=N.PS(S),A=Math.max(0,z.x-N.x),B=Math.max(0,z.x-S.x),Y=Math.max(0,z.y-N.y),t=Math.max(0,z.y-S.y),p=z.G,f=z.n,a=s.aC,D=s.w,c=s.A,J=s.U,Z=r.aC,Q=r.w,M=r.A,u=r.U;
for(var l=0;l<f;l++){var P=(Y+l)*N.G+A,m=(t+l)*S.G+B;for(var i=0;i<p;i++){Z[m+i]=a[P+i];Q[m+i]=D[P+i];
M[m+i]=c[P+i];u[m+i]=J[P+i]}}};q.YG=function(s){var N=s.length;for(var l=0;l<N;l+=4){var r=s[l+3];if(r==255)continue;
s[l]=~~(s[l]*r*(1/255)+.5);s[l+1]=~~(s[l+1]*r*(1/255)+.5);s[l+2]=~~(s[l+2]*r*(1/255)+.5)}};q.wR=function(s){var N=s.length;
for(var l=0;l<N;l+=4){var r=s[l+3];if(r==0||r==255)continue;var S=255/r;s[l]=~~(s[l]*S+.5);s[l+1]=~~(s[l+1]*S+.5);
s[l+2]=~~(s[l+2]*S+.5)}};q.u6=function(s,N){for(var l=0;l<s.length;l++)if(s[l]!=N)return!1;return!0};
q.TS=function(s){return s+1+(s>>>8)>>>8};q.round=function(s,N){if(N==null)N=128;var r=s.length;for(var l=0;
l<r;l++)s[l]=s[l]<N?0:255};q.zL=function(s,N){var r=s.length;for(var l=0;l<r;l++)s[l]=Math.round(s[l]*N)};
q.Q2=function(s,N){var r=new Uint32Array(s.buffer),S=new Uint32Array(N.buffer),z=r.length;for(var l=0;
l<z;l++){var A=r[l],B=S[l];S[l]=q.TS((A>>>24)*(B>>>24))<<24|q.TS((A>>>16&255)*(B>>>16&255))<<16|q.TS((A>>>8&255)*(B>>>8&255))<<8|q.TS((A&255)*(B&255))}};
q.Ee=function(s,N){var r=s.length;for(var l=0;l<r;l++)N[(l<<2)+3]=q.TS(N[(l<<2)+3]*s[l])};q.auo=function(s,N,r,S){var z=Math.max(0,S.x-N.x),A=Math.max(0,N.x-S.x),B=Math.max(0,S.y-N.y),Y=Math.max(0,N.y-S.y),t=Math.min(N.x+N.G,S.x+S.G)-Math.max(N.x,S.x),p=Math.min(N.y+N.n,S.y+S.n)-Math.max(N.y,S.y);
for(var l=0;l<p;l++){var f=(B+l)*N.G+z,a=(Y+l)*S.G+A;for(var D=0;D<t;D++){r[a]=q.TS(r[a]*s[f]);f++;a++}}};
q.Nc=function(s,N,r,S){var z=Math.max(0,S.x-N.x),A=Math.max(0,N.x-S.x),B=Math.max(0,S.y-N.y),Y=Math.max(0,N.y-S.y),t=Math.min(N.x+N.G,S.x+S.G)-Math.max(N.x,S.x),p=Math.min(N.y+N.n,S.y+S.n)-Math.max(N.y,S.y);
for(var l=0;l<p;l++){var f=(B+l)*N.G+z,a=((Y+l)*S.G+A<<2)+3;for(var D=0;D<t;D++){r[a]=q.TS(r[a]*s[f]);
f++;a+=4}}};q.z7=function(s,N,r,S){var z=Math.max(0,S.x-N.x),A=Math.max(0,N.x-S.x),B=Math.max(0,S.y-N.y),Y=Math.max(0,N.y-S.y),t=Math.min(N.x+N.G,S.x+S.G)-Math.max(N.x,S.x),p=Math.min(N.y+N.n,S.y+S.n)-Math.max(N.y,S.y);
for(var l=0;l<p;l++){var f=((B+l)*N.G+z<<2)+3,a=((Y+l)*S.G+A<<2)+3;for(var D=0;D<t;D++){r[a]=q.TS(r[a]*s[f]);
f+=4;a+=4}}};q.yX=function(s){var N=new Float64Array(256),r=new Float64Array(256),S=new Float64Array(256),z=new Float64Array(256),A=s.length,B=0;
for(var l=0;l<A;l+=4){var Y=s[l+0],t=s[l+1],p=s[l+2],f=s[l+3],a=f*(1/255);r[Y]+=a;S[t]+=a;z[p]+=a;B+=f}for(var l=0;
l<256;l++)N[l]=r[l]+S[l]+z[l];return[N,r,S,z,A>>>2,B/255]};q.Kt=function(s,N){function r(e,X){var $=-1,O=0;
while(O<=X){$++;O+=e[$]}return $}function S(e,X){var $=256,O=0;while(O<=X){$--;O+=e[$]}return $}function z(e){var X=0,$=0;
for(var l=0;l<256;l++){$+=e[l];X+=e[l]*l*(1/255)}return X/$}var A=s[0],B=s[1]/100,Y=s[2]/100,t=[],p=[];
for(var l=0;l<4;l++){var f=l==0?3:1;t[l]=r(N[l],f*B*N[5]);p[l]=S(N[l],f*Y*N[5])}var a=[z(N[1]),z(N[2]),z(N[3])],D=a.slice(0);
D.sort(function(e,X){return e-X});var c=a.indexOf(D[1]),J=(a[0]+a[1]+a[2])/3,Z=[];for(var l=0;l<4;l++){var Q=0,M=255,u=t[l],P=p[l];
if(A==0&&l==0){Q=u;M=P}if(A==1&&l!=0){Q=u;M=P}if(A==2&&l!=0){var f=a[l-1]/J;M=Math.max(0,Math.min(255,p[c]*f))}var m=[Q,M];
Z.push(m);if(A==3&&l==0){var i=255*(1-J);m.push(i)}}return Z};q.ff=function(s,N){var r=new Uint32Array(s.buffer),S=r.length;
for(var l=0;l<S;l++){var z=r[l],A=z&255,B=z>>8&255,Y=z>>16&255,t=z>>24&255;r[l]=N[A]|N[B]<<8|N[Y]<<16|N[t]<<24}};
q.ac6=function(s,N,r,S,z,A,B){var Y=new Uint32Array(s.buffer),t=new Uint32Array(N.buffer),p=Y.length,f=0;
while(256<<f<r.length)f++;if(!B&&!A){for(var l=0;l!=p;l++){var a=Y[l],D=(a&255)<<f,c=(a>>>8&255)<<f,J=(a>>>16&255)<<f,Z=r[D],Q=S[c],M=z[J];
t[l]=Z|Q<<8|M<<16|a&4278190080}return}for(var l=0;l<p;l++){var a=Y[l],D=(a&255)<<f,c=(a>>>8&255)<<f,J=(a>>>16&255)<<f;
if(A)D=c=J=Math.round(D*.3+c*.59+J*.11);var Z=r[D],Q=S[c],M=z[J];if(B){var u=q.il(D,c,J),P=q.il(Z,Q,M);
if(u>P){var m=(u-P)/(255-P);Z+=m*(255-Z);Q+=m*(255-Q);M+=m*(255-M)}else if(P==0)Z=Q=M=0;else{var m=u/P;
Z=m*Z;Q=m*Q;M=m*M}}t[l]=Z|Q<<8|M<<16|a&4278190080}};q.af=function(s,N){var r=N.G,S=N.n,top=0,z=0,A=0,B=0,Y=0;
Y=0;for(var t=0;t<S;t++){var p=t*r;for(var l=0;l<r;l++)Y|=s[p+l];if(Y!=0)break;top++}if(top==S)return new hq(0,0,0,0);
Y=0;for(var t=S-1;t>=0;t--){var p=t*r;for(var l=0;l<r;l++)Y|=s[p+l];if(Y!=0)break;A++}var f=S-A;Y=0;
for(var l=0;l<r;l++){for(var t=top;t<f;t++)Y|=s[t*r+l];if(Y!=0)break;z++}Y=0;for(var l=r-1;l>=0;l--){for(var t=top;
t<f;t++)Y|=s[t*r+l];if(Y!=0)break;B++}var a=new hq(N.x+z,N.y+top,r-z-B,S-top-A);return a};q.DK=function(s,N,r,S){if(S==null)S=[!0,!0,!0,!0];
if(r==null)r=0;var z=new Uint32Array(s.buffer),A=N.G,B=N.n,top=0,Y=0,t=0,p=0,f=!1,a=[z[0],z[z.length-1],0][r];
f=!1;if(S[0])for(var D=0;D<B;D++){var c=D*A;for(var l=0;l<A;l++)if(z[c+l]!=a)f=!0;if(f)break;top++}f=!1;
if(S[2])for(var D=B-1;D>=0;D--){var c=D*A;for(var l=0;l<A;l++)if(z[c+l]!=a)f=!0;if(f)break;t++}f=!1;
if(S[1])for(var l=0;l<A;l++){for(var D=0;D<B;D++)if(z[D*A+l]!=a)f=!0;if(f)break;Y++}f=!1;if(S[3])for(var l=A-1;
l>=0;l--){for(var D=0;D<B;D++)if(z[D*A+l]!=a)f=!0;if(f)break;p++}var J=new hq(N.x+Y,N.y+top,A-Y-p,B-top-t);
return J.Nf()?new hq(0,0,0,0):J};q.pS=function(s){var N=q.af(s.channel,s.rect);if(N.nR(s.rect))return;
var r=q.m(N.$());q.lf(s.channel,s.rect,r,N);s.channel=r;s.rect=N};q.pt=function(s){var N=q.m(s.buffer.length>>2);
q.WZ(s.buffer,N,3);var r=q.af(N,s.rect);if(r.nR(s.rect))return;var S=new q.m(r.$()*4);q.LP(s.buffer,s.rect,S,r);
s.buffer=S;s.rect=r};q.extend=function(s,N,r){if(s.rect.V9(N))return;var S=s.rect.Ms(N),z=q.m(S.$());
if(r!=null)z.fill(r);q.lf(s.channel,s.rect,z,S);s.rect=S;s.channel=z};q.a5w=function(s,N){if(N.Nf()||s.rect.V9(N))return;
var r=s.rect.Ms(N),S=q.m(r.$()*4);q.LP(s.buffer,s.rect,S,r);s.rect=r;s.buffer=S};q.KB=function(s,N,r){if(!r.CZ(s))return!1;
var S=Math.floor(s.x)-r.x,z=Math.floor(s.y)-r.y,l=z*r.G+S;return N[l]>128};q.a63=function(s,N,r){if(!r.CZ(s))return!1;
var S=Math.floor(s.x)-r.x,z=Math.floor(s.y)-r.y,l=z*r.G+S;return N[4*l+3]>128};q.ni=function(s){if(q.yi.length<s){q.yi=q.m(s);
q.yi.fill(255)}return q.yi};q.yi=q.m(0);q.tC=function(s){if(q.Tg.length<s)q.Tg=q.m(s);return q.Tg};q.Tg=q.m(0);
q.Ek=function(s){this.aC=q.m(s);this.w=q.m(s);this.A=q.m(s);this.U=q.m(s)};q.Ek.prototype.clone=function(){var s=this.aC.length,N=new q.Ek(1);
N.aC=this.aC.slice(0);N.w=this.w.slice(0);N.A=this.A.slice(0);N.U=this.U.slice(0);return N};q.C.ahg=function(s,N,r,S,z){var A=z[0]+1,B=z[1],Y=Math.abs(B-25)/4,t=z[2],p=t%2+t*t>>1,f=q.C.T;
f.gx(N,r);var a=f.u3(1),D=f.u3(1),c=f.u3(1);f.nS(s,S,t,t,p);f.Ab(S);f.bR(S,a);f.qe(a,D,A,A,1);f.qe(a,c,A,A,A*A);
f.sub(c,D);f.Q2(D,Y);(B<25?f.sub:f.add)(a,D);f.dE(D,S);f.yP(S)};q.C.a2n=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=z[0]*2.55,Y=z[1],t=Y>>1,p=z[2]*.25,f=A.u3(4),a=A.u3(1),D=A.u3(1);A.fq(s,f,Y,1,!0,t);
A.fq(s,S,Y,1,!1,t);A.cg(s,a);A.Qc(a,B);A.SN(a,D,3);A.oo(S,D,f);A.MN(f,S,p)};q.C.akS=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[3]);var B=z[0]*-3+80,Y=z[1]*-3+80,t=z[2]/2+.5,p=z[4],f=z[5],a=A.u3(1),D=A.u3(1),c=A.u3(1),J=A.u3(1),Z=A.u3(4),Q=A.u3(4);
A.cg(s,a);A.r8(a,D);A.gQ(a,Y,5);A.aA(a,.4,0);A.SN(a,c,3);A.Vf(c,a,9,3,!0,27);A.r8(D,c);A.dm(c);var M=A.eT(B,5,c);
for(var l=0;l<A.HW;l++){D[l]=M[255-D[l]]}A.aA(D,.4,0);A.r8(D,c);A.SN(c,J,2);A.Vf(J,c,5,3,!1,15);A.Q2(a,t);
A.Q2(c,t);A.Yr(S,2155905279);A.Yr(Q,p);A.Yr(Z,f);A.oo(Q,a,S);A.oo(Z,c,S)};q.C.a9O=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=new Uint8Array(256),Y=5+10*z[1];Y+=z[1]>3?(z[1]-3)*10:0;var t=~~(z[2]*.73)+50,p=Math.min(t+Y,128),f=p-t,a=-255*t;
for(var l=0;l<256;l++){var D=l*65;B[l]=A.tk(a/f);a+=255}var c=A.u3(1),J=A.u3(1),Z=A.u3(1);A.cg(s,c);
A.r8(c,Z);A.SN(c,J,2*z[0]+1);A.sub(J,c);A.Q2(c,65);A.Vf(c,J,9,3,!0,20);for(var l=0;l<A.HW;l++){var Q=Z[l],M=J[l];
c[l]=M>0?~~((M*Q+(255-M)*128)/255):128}A.SN(c,J,3);A.Vf(J,c,15,2,!0,16);A.Vf(J,Z,15,2,!1,15);A.FP(c,Z);
A.xi(Z,J,2);A.AV(J,B);A.SN(J,c,2);A.qz(c,S)};q.C.amq=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);var B=2*z[0]+1,Y=A.dC[z[1]],t=z[2]*5.1,p=z[3],f=A.u3(1),a=A.u3(1),D=A.u3(4),c=A.u3(4);
A.Yr(D,p);A.Ab(D,S);A.e5(f,t);A.dE(f,S);A.yP(S,D);A.cg(s,a);A.SN(a,f,B);A.sub(f,a);A.Q2(a,Y);A.Vf(a,f,9,3,!0,20);
A.oo(s,f,D);A.ZK(D,S,3);A.fq(S,D,15,2,!0,16);A.fq(S,c,15,2,!1,16);A.FP(D,c);A.MN(c,S,2)};q.C.apD=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=(15-z[0])/4+1,Y=(15-z[1])/4+1,t=z[2],p=z[3],f=A.YW(z[4]),a=z[5]+1,D=z[6],c=z[7],J=z[8],Z=A.u3(1),Q=A.u3(1),M=A.u3(1),u=A.u3(1),P=A.u3(4),m=A.u3(4);
A.lv(M,t,p,D);A.cg(s,Q);A.SN(Q,Z,5);A.G_(M,Z,u,a,f);A.Q2(u,B);A.SL(u,2);A.dm(Z);A.G_(M,Z,Q,a,f);A.Q2(Q,Y);
A.SL(Q,2);A.Yr(P,2155905279);A.Yr(m,c);A.Yr(S,J);A.oo(P,Q,m);A.oo(m,u,S)};q.C.ai2=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[3]);var B=z[0],Y=z[1]/10,t=z[2]/10,p=A.u3(1),f=A.u3(1),a=A.u3(1),D=A._y(),c=A._y(),J=A._y();
A.cF(p);A.SN(p,f,11);A.SN(f,p,11);A.Fj(p,D);A.GG(s,p);A.r8(p,a);A.SN(p,f,9);A.SN(f,p,9);A.Fj(p,c);A.OU(c,J,5);
A.OU(J,c,5);A.WE(D,.8);A.avw(D,c,.8,.9);A.V2(c,p,B);A.qe(p,f,2,2,1);A.qe(f,p,2,2,3);A.qe(p,f,2,2,3);
A.qe(a,p,5,5,13);A.rS(f,p,f,Y);A.Za(p,f,f,t);A.G_(f,f,p,5,1);A.Ab(s,S);A.dE(p,S);A.yP(S)};q.C.anX=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=z[0],Y=z[1]/2,t=z[2],p=B/2,f=A.u3(4),a=A.u3(4);A.r8(s,S);for(var D=0;D<t;D++){A.fq(S,f,B,1,!0,p);
A.fq(S,a,B,1,!1,p);A.FP(a,f);A.ZK(f,a,2);A.MN(a,S,Y)}};q.C.aaY=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);
var B=z[0]*10,Y=z[1]*4.9,t=z[2]*4.9,p=A.u3(1),f=A.u3(1),a=A.u3(4),D=A.u3(4);A.cg(s,p);A.Qc(p,A.a9N(p,B));
A.SN(p,f,3);A.fq(s,a,5,1,!1,1);A.fq(s,S,15,2,!0,16);A.oo(S,f,a);A.Ab(a,S);A.bR(S,p);A.gQ(p,Y,t);A.dE(p,S);
A.yP(S)};q.C.afH=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);A.NE(z[4]);var B=z[0]/20,Y=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][z[1]],t=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][z[2]],p=z[3],f=new Int16Array(256);
for(var l=0;l<256;l++){f[l]=~~((l-128)*B)}var a=A.u3(1),D=A.u3(1),c=A.u3(4);A.cg(s,a);A.SN(a,D,25);A.Q2(D,Y);
A.SL(D,t);A.SN(D,a,25);A.cF(D);A.ZC(a,D,f);A.r8(s,S);A.Yr(c,p);A.oo(c,a,S)};q.C.akm=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=z[0]+5,Y=15-z[1],t=B*B/2,p=1-(3-z[2])/10,f=~~(Y*Y*p-1),a=~~(Y*Y*(1-p));if(a==0)a=1;var D=A.u3(1),c=A.u3(1),J=A.u3(1),Z=A.u3(4);
A.cg(s,J);A.qe(J,D,B,B,t);A.SN(J,c,B);A.sub(D,c);A.Qc(c,1);A.nS(s,Z,Y,Y,f);A.nS(s,S,Y,Y,a);A.oo(Z,c,S)};
q.C.aqa=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);A.NE(z[3]);var B=(20-z[0])*.05,Y=z[1]*-2.75+60,t=65-Y,p=z[2]/10,f=A.u3(1),a=A.u3(1);
A.GG(s,a);var D=A.eT(Y,t,a);A.Ab(s,S);A.bR(S,a);A.cF(f);A.Ht(a,f,B);A.AV(a,D);A.Q2(a,z[2]/10);A.add(f,a);
A.dE(a,S);A.yP(S)};q.C.a6c=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);var B=5+z[0],Y=15-z[1],t=z[2],p=B*B/2+B*B%2*1,f=1-(3-z[2])/10,a=~~(Y*Y*f-1),D=~~(Y*Y*(1-f));
if(D==0)D=1;var c=A.u3(1),J=A.u3(1),Z=A.u3(1),Q=A.u3(1),M=A.u3(1);A.GG(s,J);A.xi(J,c,3);A.qe(c,J,2,2,1);
var u=A.eT(20,20,J);A.AV(J,u);A.SN(J,M,5);A.qe(M,c,B,B,p);A.qe(M,J,Y,Y,a);A.qe(M,Z,Y,Y,D);A.SN(M,Q,B);
A.sub(c,Q);A.Qc(Q,1);A.tz(J,Q,Z);A.Ab(s,S);A.dE(Z,S);A.yP(S)};q.C.aiX=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[5]);var B=A.HW,Y=A.cc,t=z[0],p=z[1],f=z[2],a=z[3],D=z[4],c=.05*t+1,J=t/100,Z=t>>1,Q=2*t-100,M=+(p==9),u=+(p==7),P=[4,1][M],m=[3,2][M],i=[1,2][u],e=[2,1][u],X=[50,75][M],$=p<4?f:(f>>1)+50,O=A.hS(X,$),T=A.L9(a),b=A.L9(D),R=A.u3(4),w=A.u3(4),F=A.u3(1),L=A.u3(1);
function x(S,O){if($!=50){A.tm(S,O)}}function g(s,fG){for(var l=0;l<B;l++){s[l]=A.tk(s[l]+(fG[l]-128)*J)}}function n(s,fG){for(var l=0,o=0;
l<B;l++){s[o]=A.tk(s[o]+(fG[o]-128)*J);s[o+1]=A.tk(s[o+1]+(fG[o+1]-128)*J);s[o+2]=A.tk(s[o+2]+(fG[o+2]-128)*J);
o+=4}}function h(s,S){A.cF(w);A.r8(s,S);n(S,w);x(S,O)}function _(fG){var o=0;for(var i4=0;i4<12;i4++)o+=A.random();
return A.tk(Z*(o-6)+fG)}function H(s,S){A.r8(s,S);for(var l=0;l<Y;l+=4){S[l]=_(S[l]);S[l+1]=_(S[l+1]);
S[l+2]=_(S[l+2])}x(S,O)}function G(s,S){A.r8(s,S);for(var l=0;l<Y;l+=4){if(A.random()<J){S[l]=T[0];S[l+1]=T[1];
S[l+2]=T[2]}}x(S,O)}function j(s,S){A.cF(R);A.nS(R,w,m,m,P);A.r8(s,R);n(R,w);A.nS(R,S,5,5,13);x(S,O)}function v(s,S){A.cF(w);
A.r8(s,R);n(R,w);x(S,O);A.nS(R,S,m,m,P)}function C(s,S){A.r8(s,R);x(S,O);A.cg(R,F);for(var l=0,fG=0;
l<B;l++){var o=((Q-F[l]+255)*128.5+.5)/32767;if(A.random()<=o){S[fG++]=b[0];S[fG++]=b[1];S[fG++]=b[2]}else{S[fG++]=T[0];
S[fG++]=T[1];S[fG++]=T[2]}S[fG]=s[fG];fG++}}function E(s,S){A.Ab(s,S);A.bR(S,F);A.xi(F,L,c);A.qe(L,F,m,m,P);
A.AV(F,O);A.dE(F,S);A.yP(S)}function I(s){var fG=0;if(p==8){for(var o=0;o<N;o++){s[fG++]=~~(A.random()*255)}for(var l=1;
l<r;l++){for(var o=0;o<N;o++){s[fG++]=s[o]}}}else{for(var l=0;l<r;l++){var i4=~~(A.random()*255);for(var o=0;
o<N;o++){s[fG++]=i4}}}}function dJ(s,S){A.cg(s,F);A.cF(L);g(F,L);I(L);g(F,L);A.ZK(s,R,9);A.ZK(R,w,9);
A.SN(F,L,2);A.AV(L,O);A.SN(L,F,2);A.Ab(w,S);A.dE(F,S);A.yP(S)}[h,H,G,j,j,v,C,dJ,dJ,E][p](s,S)};q.C.asO=function(s,N,r,S,z){var A=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],B=q.C.T,Z=0,Q,l,i,e,X,$=0,O=1,T=255;
B.gx(N,r);B.NE(z[3]);var Y=B.u3(1),t=B.u3(1);B.cg(s,Y);var p=z[0],f=z[1],a=f<=50?A[f]/255:1+(255-A[101-f])/255,D=z[2],c=Y.length,J=new Float32Array(c),M=1+1/10*p,u=(1-1/M)/2,P=16/256,m=N-1;
for(l=0;l<B.HW;l++){J[l]=Y[l]/255;t[l]=p==1?B.random()<1/255?T:O:O}function b(R,w){var F=R*N+w;if(t[F]!=O||R>=r||w>=N){return}var e=J[F],L=a-e,x=B.random(),g=x/M+u;
if(Z==0||Math.abs(X-e)>P){Q=g<=L?$:T;Z=~~(B.random()*p)}else if(.1<x){Z--}else{Z=0}t[F]=Q;X=e}if(D==0){for(l=0;
l<N;l++){for(i=0;i<N;i++){e=l+i;if(e>=N)break;b(i,m-e)}Z=0}for(l=1;l<r;l++){for(i=0;i<r;i++){e=l+i;if(e>=r||i>=N)break;
b(e,m-i)}Z=0}}else if(D==1){for(l=0;l<r;l++){for(i=0;i<N;i++){b(l,i)}Z=0}}else if(D==2){for(l=0;l<N;
l++){for(i=0;i<N;i++){e=l+i;if(e>=N)break;b(i,e)}Z=0}for(l=1;l<r;l++){for(i=0;i<r;i++){e=l+i;if(e>=r||i>=N)break;
b(e,i)}Z=0}}else{for(l=0;l<N;l++){for(i=0;i<r;i++){b(i,l)}Z=0}}B.qz(t,S)};q.C.ajd=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=z[0],Y=z[1],t=z[2],p=A.u3(1),f=A.u3(1),a=A.u3(1),D=A.u3(4),c=A.u3(4);A.cg(s,p);A.qe(p,f,3,3,1);
A.qe(p,a,3,3,9);A.sub(a,f);A.SN(f,p,3);A.gQ(p,40,10);A.fq(s,S,B,2,!1,B);A.fq(s,D,B,2,!0,B);A.Yr(c,255);
A.oo(S,p,c);A.oo(c,p,D);A.MN(D,S,1);A.Ab(S);A.bR(S,p);A.gQ(p,Y,t);A.dE(p,S);A.yP(S)};q.C.aiW=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[3]);var B=z[0],Y=z[1],t=z[2]/10;B=B+Y;var p=A.u3(1),f=A.u3(1),a=A._y(),D=A._y();A.cF(p);
A.SN(p,f,11);A.SN(f,p,11);A.Fj(p,a);A.OU(a,D,5);A.OU(D,a,5);A.WE(D,.97);A.V2(D,p,B);A.qe(p,f,Y,Y,1);
A.GG(s,p);A.rS(f,p,f,.6);A.Za(p,f,f,t);A.G_(f,f,p,5,1);A.Ab(s,S);A.dE(p,S);A.yP(S)};q.C.abG=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=Math.abs(z[0]),Y=B+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][B],t=2*B+1,p=z[1]/10,f=p*13/15,a=A.u3(1),D=A.u3(1),c=A.u3(1),J=A.u3(1),Z=A.u3(4),Q=A.u3(4),M=A.u3(4),u=A.u3(4),P=A.u3(4);
A.cg(s,a);if(z[0]>=0){A.dm(a)}A.r8(a,c);A.SN(a,J,Y);A.SN(J,a,Y);A.Q2(a,p);A.r8(a,D);A.SN(a,J,t);A.SN(J,a,t);
A.Q2(a,f);A.Yr(M,z[2]);A.Yr(u,z[3]);A.Yr(P,z[4]);A.oo(M,a,u,Z);A.oo(P,D,Z,Q);A.oo(u,c,Q,S);A.bR(s,c,3);
A.dE(c,S,3)};q.C.awV=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);A.NE(z[5]);var B=z[0]*5.1,Y=z[1]/100,t=A.mL[z[2]],p=A.u3(1),f=A.u3(1),a=A.u3(1);
A.cg(s,p);A.e5(f,255);A.cF(a);A.Qc(p,B);A.Ht(f,p,.7);A.Ht(a,p,Y);A.G_(p,p,f,5,t);A.r8(s,S);A.avv(S,B,z[4],z[3]);
A.Ab(S);A.dE(f,S);A.yP(S)};q.C.aow=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);var B=z[0],Y=4-z[1],t=11-z[2],p=A.u3(1),f=A.u3(1),a=A.u3(4);
A.GG(s,f);for(var l=0;l<Y;l++){A.r8(f,p);A.N2(p,f,B,B)}A.ZK(s,a,B);A.Ab(a,a);A.dE(f,a);A.yP(a,a);(t<11?A.amI:A.r8)(a,S,t)};
q.C.a07=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);A.NE(z[2]);var B=z[0]+5,Y=~~(B/5+1),t=~~(B/2)+1,p=t*t,f=~~(B/3),a=A.mL[z[1]],D=new Array(256);
for(var l=0;l<256;l++){D[l]=~~(.2*(l-128))}var c=A.u3(1),J=A.u3(1);A.a4a(s,S,B);A.Ab(S);A.bR(S,c);A.cF(J);
A.ZC(c,J,D);A.ag2(J,B,B,Y,Y);A.rS(c,J,c,1);A.SN(c,J,f);A.SN(J,c,f);A.qe(c,J,t,t,p);A.G_(J,J,c,5,a);A.dE(c,S);
A.yP(S)};q.C.aep=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);var B=A.u3(1),Y=A.u3(1),t=A.u3(1),p=A._y(),f=A._y();
A.cg(s,B);A.SN(B,Y,z[2]);A.Qc(Y,z[0]*5.1);A.qe(Y,B,2,2,4);A.SN(B,Y,3);A.SN(Y,B,3);A.r8(B,t);A.SN(B,Y,5);
A.SN(Y,B,5);A.Fj(B,p);A.OU(p,f,5);A.OU(f,p,5);A.arz(p,Y,z[1]);A.dm(Y);A.rS(t,Y,t,1);A.qz(t,S)};q.C.a4R=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=1<<7-z[2],Y=A.u3(1),t=A.u3(1),p=A.u3(1);A.GG(s,t);A.SN(t,Y,3);A.r8(Y,t);A.SN(Y,p,z[0]+5);
A.sub(p,t);A.gQ(t,1,z[1]);A.Q2(Y,1/B);A.Q2(Y,B);A.sub(Y,t);A.Ab(s,S);A.dE(t,S);A.yP(S)};q.C.aph=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[3]);var B=A.u3(1),Y=A.u3(1),t=A.u3(1);A.cg(s,B);A.acM(Y,z[0]/50);A.SN(Y,t,3);A.qe(B,Y,9,9,41);
A.gQ(Y,z[1],z[2]);A.rS(Y,t,t,.75);A.Za(Y,t,Y,.5);A.r8(Y,B);A.qe(B,t,3,3,8);A.rS(t,Y,t,.75);A.Q2(t,1.2);
A.xi(t,B,1);A.SN(B,t,2);A.xi(t,B,2);A.Q2(B,1.2);A.SN(B,t,2);A.qz(t,S)};q.C.awn=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=z[0]+9,Y=z[1]/2,t=z[2],p=z[3],f=A.YW(z[4]),a=z[5]+1,D=z[6],c=A.u3(1),J=A.u3(1),Z=A.u3(4),Q=A.u3(4);
A.lv(J,t,p,D);A.ur(s,S,B,1,1);A.ur(S,Z,B,1,1);A.adA(Z,Z,Q,7,Y);A.Q2(Q,1.2);A.SL(Q,1.2);A.G_(J,c,c,a,f);
A.Q2(c,3);A.r8(s,S);A.oo(Q,c,S)};q.C.au7=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);A.NE(z[3]);var B=z[0]+4,Y=B*2/5+(B%5|0);
B--;var t=z[1]*-2.75+60,p=65-t,f=z[2]/10,a=A.u3(1),D=A.u3(1);A.cF(a);A.GG(s,D);var c=A.eT(t,p,D);A.Ab(s,S);
A.bR(S,D);A.Ht(D,a,.8);A.AV(D,c);A.Q2(D,f);A.add(a,D);A.Vf(D,a,B,3,!1,Y);A.dE(a,S);A.yP(S)};q.C.awo=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[3]);var B=z[0]+5,Y=(B*B>>1)+B%2,t=z[1]/10,p=z[2],f=(p*p>>1)+p%2,a=A.u3(1),D=A.u3(1),c=A.u3(1),J=A.u3(4),Z=A.u3(4),Q=A.u3(4);
A.cF(c);A.Ab(s,Q);A.bR(Q,a);A.Ht(a,c,.8);A.SN(c,a,3);A.xi(a,c,t);A.dE(c,Q);A.yP(Q,Q);A.cg(Q,c);A.qe(c,a,B,B,Y);
A.SN(c,D,B);A.sub(a,D);A.Qc(D,1);A.nS(Q,J,7,7,40);A.nS(Q,Z,7,7,10);A.oo(J,D,Z);A.nS(Z,S,p,p,f)};q.C.a5F=function(s,N,r,S,z){var A=q.C.T,Y=255,l,p;
A.gx(N,r);var B=z[0];if(B<2)Y=B;else if(B<12)Y=5*B-5;else if(B<47)Y=2*B+28;else if(B<50){l=B-47;Y=125+12.5*l+12.5*l*l}var t=new Uint8Array(256);
for(l=75,p=15;l<256;l++,p+=24)t[l]=Math.min(255,p);var f=A.u3(1),a=A.u3(1),D=A.u3(1);A.cg(s,f);A.SN(f,a,11);
A.SN(a,D,11);A.sub(D,f);A.Q2(f,8);A.sub(D,f);A.Qc(f,Y);A.dm(f);A.SN(f,a,5);A.Qc(a,51);A.SN(a,f,z[1]);
A.SN(f,a,z[1]);A.dm(a);A.AV(a,t);A.qz(a,S)};q.C.auu=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);var B=A.dC[z[1]],Y=z[2],t=Y*1.5,p=A.u3(1),f=A.u3(1),a=A.u3(1);
A.GG(s,p);A.Vf(p,f,15,2,!0,15);A.r8(f,a);A.gQ(a,Y,t);A.SN(a,p,3);A.SN(f,a,z[0]);A.sub(a,f);A.Q2(f,B);
A.sub(p,f);A.SN(f,p,3);A.Vf(p,f,3,1,!1,1);A.ZK(s,S,15);A.Ab(S);A.dE(f,S);A.yP(S)};q.C.awS=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);A.NE(z[3]);var B=z[0]*5.1,Y=16-z[1],t=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][z[2]],p=A.u3(1),f=A.u3(1),a=A.u3(1);
A.cg(s,p);A.Qc(p,B);A.SN(p,f,Y);A.SN(f,p,Y);A.cF(a);A.Za(p,a,a,1);A.rS(p,a,p,.75);A.Q2(p,t);A.SL(p,t);
A.qe(p,f,2,2,2);A.qz(f,S)};q.C.afS=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);var B=z[0]+9,Y=z[1]+9,t=z[2],p=z[3],f=A.YW(z[4]),a=z[5]+1,D=z[6],c=A.u3(1),J=A.u3(1),Z=A.u3(1),Q=A.u3(1),M=A.u3(1),u=A.u3(4);
A.GG(s,c);A.N2(c,Z,B,B);A.SN(Z,c,Y);A.r8(Z,M);A.r8(c,Q);A.sub(M,Q);A.sub(c,M);A.add(M,Q);A.Q2(Q,10);
A.lv(J,t,p,D);A.G_(J,c,M,a,f);A.tz(M,Q,Z,.8);A.ZK(s,u,9);A.ZK(u,S,9);A.Ab(S);A.dE(Z,S);A.yP(S)};q.C.aeg=function(s,N,r,S,z){var A=q.C.T;
A.gx(N,r);var B=16-z[0],Y=z[1]*8,t=1-(3-z[2])/10,p=~~(B*B*t-1),f=~~(B*B*(1-t));if(f==0)f=1;var a=A.u3(1),D=A.u3(1),c=A.u3(1),J=A.u3(4);
A.cg(s,c);A.qe(c,a,7,7,25);A.SN(c,D,7);A.sub(a,D);A.Qc(D,1);A.nS(s,J,B,B,p);A.nS(s,S,B,B,f);A.oo(J,D,S);
A.Ab(S);A.bR(S,a);A.qe(a,c,3,3,1);A.qe(a,D,3,3,9);A.sub(D,c);A.r8(c,D);A.sub(a,c);A.sub(c,D);A.qe(D,a,3,3,8);
A.gQ(a,Y,1);A.dE(a,S);A.yP(S)};q.C.asp=function(s,N,r,S,z){var A=q.C.T;A.gx(N,r);A.NE(z[3]);var B=z[0],Y=z[1],t=z[2],p=B>>1,f=Math.max(~~(B/5),1),a=Math.max(~~(B*2/3),1),D=A.hS(Y,t),c=A.u3(1),J=A.u3(1),Z=A.u3(1),Q=A.u3(1),M=A.u3(4);
A.GG(s,c);A.Sd(2147483647,4,2,2,0,255,J);A.Sd(4,2147483647,2,2,0,255,Q);A.cF(Z);A.Za(J,Z,J,1);A.Za(Q,Z,Q,1);
A.Za(J,c,J,1);A.Za(Q,c,Q,1);A.ZK(s,M,p);A.ZK(M,S,p);A.qe(J,c,1,B,f);A.qe(c,J,3,B,a);A.qe(Q,c,B,1,f);
A.qe(c,Q,B,3,a);A.FP(J,Q);A.Ab(S);A.dE(Q,S);A.yP(S);A.tm(S,D)};q.C.T={};q.C.T.s7=0;q.C.T.JY=0;q.C.T.HW=0;
q.C.T.zy=0;q.C.T.cc=0;q.C.T.gx=function(s,N){var r=s*N,self=q.C.T;self.s7=s;self.JY=N;self.HW=r;self.zy=r<<1;
self.cc=r<<2};q.C.T.NE=function(s){q.C.T.random=function(){var N=s+=1831565813;N=Math.imul(N^N>>>15,N|1);
N^=N+Math.imul(N^N>>>7,N|61);return((N^N>>>14)>>>0)/4294967296}};q.C.T.u3=function(s){var N=q.C.T;return new Uint8Array([-1,N.HW,N.zy,-1,N.cc][s])};
q.C.T._y=function(){return new Int32Array(q.C.T.zy)};q.C.T.SN=function(s,N,r,S){if(S==null)S=r;var self=q.C.T,z=self.s7,A=self.JY;
q.W9.MU(s,N,new hq(0,0,z,A),r>>>1);return};q.C.T.OU=function(s,N,r,S){var self=q.C.T,z=new Int32Array(self.HW),A=new Int32Array(self.HW);
for(var l=0;l<2;l++){self.bR(s,z,l,2);self.SN(z,A,r,S);self.dE(A,N,l,2)}};q.C.T.ZK=function(s,N,r,S){var self=q.C.T,z=self.u3(1),A=self.u3(1);
for(var l=0;l<4;l++){self.bR(s,z,l);if(l<3)self.SN(z,A,r,S);else A=z;self.dE(A,N,l)}};q.C.T.ur=function(s,N,r,S,z){var self=q.C.T,A=self.s7,B=self.JY,Y=r+S-1,t=r>>1,p=Y>>1,f=0,a=r*S,D=new Int32Array(r);
for(var l=0;l<B;l++){var c=0,J=0,Z=0;for(var Q=0;Q<r;Q++){var M=z?Y-Q-S:Q;for(var u=M,P=S+M;u<P;u++){var m=0-p+u,i=l-t+Q;
if(u==M){D[Q]=m}if(m<0)m=0;else if(m>=A)m=A-1;if(i<0)i=0;else if(i>=B)i=B-1;var e=A*i+m<<2;c+=s[e];J+=s[e+1];
Z+=s[e+2]}}N[f++]=~~(c/a);N[f++]=~~(J/a);N[f++]=~~(Z/a);N[f]=s[f];f++;for(var X=1;X<A;X++){for(var Q=0;
Q<r;Q++){var i=l-t+Q,M=D[Q]+1;D[Q]=M;var $=M-1,O=M+S-1;if(i<0)i=0;else if(i>=B)i=B-1;if($<0)$=0;else if($>=A)$=A-1;
if(O<0)O=0;else if(O>=A)O=A-1;var T=i*A+$<<2,b=i*A+O<<2;c=c+s[b]-s[T];J=J+s[b+1]-s[T+1];Z=Z+s[b+2]-s[T+2]}N[f++]=~~(c/a);
N[f++]=~~(J/a);N[f++]=~~(Z/a);N[f]=s[f];f++}}};q.C.T.Vf=function(s,N,r,S,z,A){var self=q.C.T,B=self.s7,Y=self.JY,t=r+S-1,p=r>>1,f=t>>1,a=0,D=new Int32Array(r),c=new Int32Array(256),J=new Int32Array(16);
for(var l=0;l<Y;l++){c.fill(0);J.fill(0);for(var Z=0;Z<r;Z++){var Q=z?t-Z-S:Z;for(var M=Q,u=S+Q;M<u;
M++){var P=0-f+M,m=l-p+Z;if(M==Q){D[Z]=P}if(P<0)P=0;else if(P>=B)P=B-1;if(m<0)m=0;else if(m>=Y)m=Y-1;
c[s[m*B+P]]++;J[s[m*B+P]>>>4]++}}N[a++]=q.C.T.Ib(J,c,A);for(var i=1;i<B;i++){for(var Z=0;Z<r;Z++){var m=l-p+Z,Q=D[Z]+1;
D[Z]=Q;var e=Q-1,X=Q+S-1;if(m<0)m=0;else if(m>=Y)m=Y-1;if(e<0)e=0;else if(e>=B)e=B-1;if(X<0)X=0;else if(X>=B)X=B-1;
var $=s[m*B+e],O=s[m*B+X];c[$]--;c[O]++;J[$>>>4]--;J[O>>>4]++}N[a++]=q.C.T.Ib(J,c,A)}}};q.C.T.fq=function(s,N,r,S,z,A){var self=q.C.T,B=self.u3(1),Y=self.u3(1);
for(var l=0;l<4;l++){self.bR(s,B,l);if(l<3)self.Vf(B,Y,r,S,z,A);else Y=B;self.dE(Y,N,l)}};q.C.T.qe=function(s,N,r,S,z){z=Math.min(S*r,z);
var self=q.C.T,A=self.s7,B=self.JY,Y=S>>1,t=r>>1,p=0,f=new Int32Array(S),a=new Int32Array(256),D=new Int32Array(16);
for(var l=0;l<B;l++){a.fill(0);D.fill(0);for(var c=0;c<S;c++){for(var J=0,Z=r;J<Z;J++){var Q=0-t+J,M=l-Y+c;
if(J==0){f[c]=Q}if(Q<0)Q=0;else if(Q>=A)Q=A-1;if(M<0)M=0;else if(M>=B)M=B-1;a[s[M*A+Q]]++;D[s[M*A+Q]>>>4]++}}N[p++]=q.C.T.Ib(D,a,z);
for(var u=1;u<A;u++){for(var c=0;c<S;c++){var M=l-Y+c,P=f[c]+1;f[c]=P;var m=P-1,i=P+r-1;if(M<0)M=0;else if(M>=B)M=B-1;
if(m<0)m=0;else if(m>=A)m=A-1;if(i<0)i=0;else if(i>=A)i=A-1;var e=s[M*A+m],X=s[M*A+i];a[e]--;a[X]++;
D[e>>>4]--;D[X>>>4]++}N[p++]=q.C.T.Ib(D,a,z)}}};q.C.T.Ib=function(s,N,r){var S=0,z=0;while(S+s[z>>>4]<r){S+=s[z>>>4];
z+=16}for(;z<256;z++){S+=N[z];if(S>=r)break}return z};q.C.T.nS=function(s,N,r,S,z){var self=q.C.T,A=self.u3(1),B=self.u3(1);
for(var l=0;l<4;l++){self.bR(s,A,l);if(l<3)self.qe(A,B,r,S,z);else B=A;self.dE(B,N,l)}};q.C.T.xi=function(s,N,r){var self=q.C.T,S=self.s7,z=self.JY,A=0;
for(var l=0;l<z;l++){var B=l*S,Y=(l-1)*S,t=(l+1)*S;if(Y<0)Y=B;if(t>=z)t=B;for(var p=0;p<S;p++){var f=p-1,a=p+1;
if(f<0)f=p;if(a>=S)a=p;var D=B+f,c=B+a,J=Y+p,Z=t+p,Q=B+p,M=s[D],u=s[c],P=s[J],m=s[Z],i=s[Q],e=i+(i*4*r+.5);
e=e-((M+u+m+P)*r+.5);N[A++]=self.tk(e)}}};q.C.T.MN=function(s,N,r){var self=q.C.T,S=self.u3(1),z=self.u3(1);
for(var l=0;l<4;l++){self.bR(s,S,l);if(l<3)self.xi(S,z,r);else z=S;self.dE(z,N,l)}};q.C.T.amI=function(s,N,r){var self=q.C.T,S=self.s7,z=self.JY,A=0,B=r+4;
for(var l=0;l<z;l++){var Y=l*S,t=(l-1)*S,p=(l+1)*S;if(t<0)t=Y;if(p>=z)p=Y;for(var f=0;f<S;f++){var a=f-1,D=f+1;
if(a<0)a=f;if(D>=S)D=f;var c=Y+a<<2,J=Y+D<<2,Z=t+f<<2,Q=p+f<<2,M=Y+f<<2;for(var u=0;u<3;u++){var P=s[c+u],m=s[J+u],i=s[Z+u],e=s[Q+u],X=s[M+u];
N[A++]=(X*r+P+m+e+i)/B}N[A]=s[A];A++}}};q.C.T.N2=function(s,N,r,S){var self=q.C.T,z=self.s7,A=self.JY,B=r>>1,Y=S>>1,t=0,p=new Int32Array(r),f=new Int32Array(256);
for(var l=0;l<A;l++){f.fill(0);for(var a=0;a<r;a++){for(var D=0,c=S;D<c;D++){var J=0-Y+D,Z=l-B+a;if(D==0){p[a]=J}if(J<0)J=0;
else if(J>=z)J=z-1;if(Z<0)Z=0;else if(Z>=A)Z=A-1;f[s[Z*z+J]]++}}var Q=0,M=0;for(var u=0;u<256;u++){if(Q<f[u]){M=u;
Q=f[u]}}N[t++]=M;for(var P=1;P<z;P++){for(var a=0;a<r;a++){var Z=l-B+a,m=p[a]+1;p[a]=m;var i=m-1,e=m+S-1;
if(Z<0)Z=0;else if(Z>=A)Z=A-1;if(i<0)i=0;else if(i>=z)i=z-1;if(e<0)e=0;else if(e>=z)e=z-1;f[s[Z*z+i]]--;
f[s[Z*z+e]]++}Q=0;M=0;for(var u=0;u<256;u++){if(Q<f[u]){M=u;Q=f[u]}}N[t++]=M}}};q.C.T.auD=[function(s,N,r,S,z,A,B,Y,t,p){return z+(s+N+r)*p-(t+Y+B)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(N+r+A)*p-(Y+B+S)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(r+A+t)*p-(B+S+s)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(A+t+Y)*p-(S+s+N)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(t+Y+B)*p-(s+N+r)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(Y+B+S)*p-(N+r+A)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(B+S+s)*p-(r+A+t)*p},function(s,N,r,S,z,A,B,Y,t,p){return z+(S+s+N)*p-(A+t+Y)*p}];
q.C.T.G_=function(s,N,r,S,z){var self=q.C.T,A=self.s7,B=self.JY,Y=A,t=self.auD[S-1];for(var l=0;l<B;
l++){var p=(l>0?l-1:0)*Y,f=l*Y,a=(l<B?l+1:l)*Y;for(var D=0;D<A;D++){var c=D>0?D-1:0,J=D<A?D+1:D,Z=f+D,Q=s[p+c],M=s[p+D],u=s[p+J],P=s[f+c],m=N[Z],i=s[f+J],e=s[a+c],X=s[a+D],$=s[a+J];
r[Z]=self.tk(t(Q,M,u,P,m,i,e,X,$,z))}}};q.C.T.adA=function(s,N,r,S,z){var self=q.C.T,A=self.u3(1),B=self.u3(1),Y=self.u3(1);
for(var l=0;l<3;l++){self.bR(s,A,l);self.bR(N,B,l);self.G_(A,B,Y,S,z);self.dE(Y,r,l)}self.bR(N,A,3);
self.dE(A,r,3)};q.C.T.cg=function(s,N){var r=s.length,S=0;for(var l=0;l<r;l++){N[S++]=~~((s[l++]+s[l++]+s[l++]+2)/3)}};
q.C.T.qz=function(s,N){var r=N.length,S=0;for(var l=0;l<r;l++){var z=s[l];N[S++]=z;N[S++]=z;N[S++]=z;
N[S++]=255}if(N[0]==255)N[0]--;else N[0]++};q.C.T.GG=function(s,N){var r=N.length,S=0;for(var l=0;l<r;
l++){var z=s[S++],A=s[S++],B=s[S++];S++;if(A>z)z=A;if(B>z)z=B;N[l]=z}};q.C.T.Ab=function(s,N){if(N==null)N=s;
var r=s.length;for(var S=0;S<r;S+=4){var z=s[S],A=s[S+1],B=s[S+2],Y=z,t=0,p=z,a;if(A<=z){z=A}else{t=1;
p=A}if(B<=p){if(z>B){z=B}}else{t=2;p=B}var f=p-z;if(f!=0){if(t==0){a=~~(43*(A-B)/f)}else if(t==1){a=~~(43*(B+2*f-Y)/f)}else{a=43*(Y+4*f-A)/f}if(a<0){a=255&a-1}N[S]=a;
N[S+1]=~~(255*f/p)}else{N[S]=f;N[S+1]=f}N[S+2]=p;N[S+3]=s[S+3]}};q.C.T.yP=function(s,N){if(N==null)N=s;
var r=s.length;for(var S=0;S<r;S+=4){var z=s[S],A=s[S+1],B=s[S+2];if(A){if(z==255)z=0;var Y=~~(6*z/255),t=~~(-255*Y+6*z);
if(Y==0){N[S]=B;N[S+1]=~~(B*(255-A*(255-t)/255)/255);N[S+2]=~~(B*(255-A)/255)}else if(Y==1){N[S]=~~(B*(255-A*t/255)/255);
N[S+1]=B;N[S+2]=~~(B*(255-A)/255)}else if(Y==2){N[S]=~~(B*(255-A)/255);N[S+1]=B;N[S+2]=~~(B*(255-A*(255-t)/255)/255)}else if(Y==3){N[S]=~~(B*(255-A)/255);
N[S+1]=~~(B*(255-A*t/255)/255);N[S+2]=B}else if(Y==4){N[S]=~~(B*(255-A*(255-t)/255)/255);N[S+1]=~~(B*(255-A)/255);
N[S+2]=B}else{N[S]=B;N[S+1]=~~(B*(255-A)/255);N[S+2]=~~(B*(255-A*t/255)/255)}}else{N[S]=B;N[S+1]=B;N[S+2]=B}N[S+3]=s[S+3]}};
q.C.T.dE=function(s,N,r,S){if(r==null)r=2;if(S==null)S=4;var z=s.length;for(var l=0;l<z;l++){N[r]=s[l];
r+=S}};q.C.T.bR=function(s,N,r,S){if(r==null)r=2;if(S==null)S=4;var z=N.length;for(var l=0;l<z;l++){N[l]=s[r];
r+=S}};q.C.T.tz=function(s,N,r,S){if(S==null)S=1;var z=N.length,A=0,B;for(var A=0;A<z;A++){B=N[A];if(B){B*=S;
r[A]=~~((B*s[A]+(255-B)*r[A])/255)}}};q.C.T.oo=function(s,N,r,S){if(S==null)S=r;var z=N.length,A=0,B,Y;
for(var l=0;l<z;l++){B=N[l];if(B){Y=255-B;S[A]=~~((B*s[A]+Y*r[A])/255);S[A+1]=~~((B*s[A+1]+Y*r[A+1])/255);
S[A+2]=~~((B*s[A+2]+Y*r[A+2])/255)}S[A+3]=s[A+3];A+=4}};q.C.T.rS=function(s,N,r,S){var z=~~(S*255),A=r.length;
for(var l=0;l<A;l++){r[l]=((255-z*(255-s[l])/255)*N[l]+s[l]*(z*(255-s[l])/255))/255}};q.C.T.Za=function(s,N,r,S){var z=~~(S*255),A=r.length;
for(var l=0;l<A;l++){r[l]=((255-z*s[l]/255)*N[l]+s[l]*(z*s[l]/255))/255}};q.C.T.Ht=function(s,N,r){var S=N.length;
for(var l=0;l<S;l++){N[l]=~~(s[l]*r+.5)+(N[l]-~~(N[l]*r+.5))}};q.C.T.sub=function(s,N){var r=s.length;
for(var l=0;l<r;l++){N[l]=Math.max(s[l]-N[l],0)}};q.C.T.add=function(s,N){var r=s.length;for(var l=0;
l<r;l++){N[l]=Math.min(s[l]+N[l],255)}};q.C.T.FP=function(s,N){var r=s.length;for(var l=0;l<r;l++){N[l]=s[l]+N[l]>>1}};
q.C.T.r8=function(s,N){var r=s.length;for(var l=0;l<r;l++){N[l]=s[l]}};q.C.T.AV=function(s,N){var r=s.length;
for(var l=0;l<r;l++){s[l]=N[s[l]]}};q.C.T.tm=function(s,N){var r=q.C.T.cc;for(var l=0;l<r;l+=4){var S=s[l],z=s[l+1],A=s[l+2],B=S;
if(z>S)B=z;if(A>S)B=A;var Y=N[B];if(Y){s[l]=~~(Y*S/B);s[l+1]=~~(Y*z/B);s[l+2]=~~(Y*A/B)}else{s[l]=Y;
s[l+1]=Y;s[l+2]=Y}}};q.C.T.Q2=function(s,N){for(var l=0,r=s.length;l<r;l++){s[l]=Math.min(255,~~(.5+s[l]*N))}};
q.C.T.SL=function(s,N){for(var l=0,r=s.length;l<r;l++){s[l]=255-Math.min(255,~~(.5+(255-s[l])*N))}};
q.C.T.dm=function(s){var N=s.length;for(var l=0;l<N;l++){s[l]=255-s[l]}};q.C.T.Qc=function(s,N,r,S){if(r==null)r=0;
if(S==null)S=255;for(var l=0,z=s.length;l<z;l++){s[l]=s[l]>=N?S:r}};q.C.T.L9=function(s){return[s>>24&255,s>>16&255,s>>8&255,s&255]};
q.C.T.avv=function(s,N,r,S){if(r==null)r=255;if(S==null)S=4278190335;var z=q.C.T,A=z.cc,B=z.L9(r),Y=z.L9(S);
for(var l=0;l<A;l+=4){var t=~~((s[l]+s[l+1]+s[l+2]+2)/3);if(t>=N){s[l]=B[0];s[l+1]=B[1];s[l+2]=B[2]}else{s[l]=Y[0];
s[l+1]=Y[1];s[l+2]=Y[2]}}};q.C.T.Yr=function(s,N){var r=q.C.T,S=r.cc,z=r.L9(N);for(var l=0;l<S;){s[l++]=z[0];
s[l++]=z[1];s[l++]=z[2];s[l++]=z[3]}};q.C.T.e5=function(s,N){var r=s.length;for(var l=0;l<r;){s[l++]=N}};
q.C.T.hS=function(s,N){s=s>5?(100-Math.max(4,s))/100:.95;N=N!=100?Math.max(4,N)/100:.9995;var r=new Uint8Array(256),S=N>.5?.5/(1-N):N*2,z=~~(S*256),A=~~((.5-s*S)*256)<<8;
for(var l=0;l<256;l++){r[l]=q.C.T.tk(A>>8);A+=z}return r};q.C.T.cF=function(s){for(var l=0,N=q.C.T,r=s.length;
l<r;l++){s[l]=~~(N.random()*256)}};q.C.T.acM=function(s,N){for(var l=0,r=q.C.T,S=s.length;l<S;l++){s[l]=r.random()<N?255:0}};
q.C.T.aA=function(s,N,r){for(var l=0,S=q.C.T,z=s.length;l<z;l++){if(S.random()<N)s[l]=r}};q.C.T.ZC=function(s,N,r){var S=s.length;
for(var l=0;l<S;l++){s[l]=q.C.T.tk(s[l]+r[N[l]])}};q.C.T.aV=function(s){var N=new Uint32Array(256);for(var l=0,r=s.length;
l<r;l++){N[s[l]]++}return N};q.C.T.eT=function(s,N,r){var self=q.C.T,S=self.aV(r),z=self.HW/100,A=new Uint8Array(256),B=z*s,Y=z*N,t=0,p=-1,f=256;
do{t+=S[++p]}while(t<=B);t=0;do{t+=S[--f]}while(t<=Y);if(f-p<=0)f=p+1;if(f>255){f=255;p=254}var a=255/(f-p),D=-p;
for(var l=0;l<256;l++){A[l]=self.tk(a*D+.5);D++}return A};q.C.T.gQ=function(s,N,r){var S=q.C.T;S.AV(s,S.eT(N,r,s))};
q.C.T.a9N=function(s,N){var self=q.C.T,r=self.aV(s),S=self.HW*N/100,z=0,A=-1;do{z+=r[++A]}while(z<=S);
return A};q.C.T.Fj=function(s,N){var r=0,self=q.C.T,S=self.s7,z=self.JY,A=1/Math.PI,B=A*255;for(var l=0;
l<z;l++){var Y=l+1;if(Y==z)Y--;var t=l*S,p=~~((1-(l+1)/z)*255);for(var f=0;f<S;f++){var a=f+1;if(a==S)a--;
var D=s[t+f],c=s[t+a],J=s[Y*S+f];if(D-J==0){N[r++]=p}else{var Z=D-J+255;if(Z==255){Z=0}else{Z=~~(Math.atan2(1/(255-Z),1)*B+.5);
if(Z<0)Z+=255}N[r++]=Z}if(D-c==0){N[r++]=~~((1-(f+1)/S)*255)}else{var Z=D-c+255;if(Z==255){Z=0}else{Z=~~(Math.atan2(1/(255-Z),1)*B+.5);
if(Z<0)Z+=255}N[r++]=Z}}}};q.C.T.WE=function(s,N){var self=q.C.T,r=self.s7,S=self.JY,z=0;for(var l=0;
l<S;l++){for(var A=0;A<r;A++){s[z]=~~(l*N+.5)+~~(s[z]*(1-N)+.5);z++;s[z]=~~(A*N+.5)+~~(s[z]*(1-N)+.5);
z++}}};q.C.T.avw=function(s,N,r,S){var self=q.C.T,z=self.s7,A=self.JY,B=0;for(var l=0;l<A;l++){for(var Y=0;
Y<z;Y++){N[B]=~~(N[B]*(1-r)+.5)+~~(s[B]*S+.5);B++;N[B]=~~(N[B]*(1-r)+.5)+~~(s[B]*S+.5);B++}}};q.C.T.V2=function(s,N,r){var self=q.C.T,S=self.s7,z=self.JY,A=0,B=0;
for(var l=0;l<z;l++){for(var Y=0;Y<S;Y++){var t=s[A++],p=s[A++];N[B++]=p%r>=2&&t%r>=2?255:0}}};q.C.T.Sd=function(s,N,r,S,z,A,B){var self=q.C.T,Y=self.s7,t=self.JY,p=0,f=0,a=0;
for(var l=0;l<t;l++){var D=l%s<r||t-r<=l;for(var c=0;c<Y;c++){B[p++]=D||c%N<S||Y-S<=c?z:A}}};q.C.T.lv=function(s,N,r,S){var self=q.C.T,z=self.s7,A=self.JY,B=gN.lv(N),Y=B[0],t=B[1],p=q.m(Y.$()*4);
p.fill(4294967295);q._i(t,p);var f=q.scale.Hb(p,Y.G,Y.n),a=q.scale.pO(f,null,z,A,r/100,r/100,0,0);q.WZ(a,s,0);
if(S)q.dm(s)};q.C.T.tk=function(s){return~~Math.min(255,Math.max(0,s))};q.C.T.dC=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
q.C.T.mL=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];q.C.T.YW=function(s){return s>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][s-41]:s/40};
q.C.T.a4a=function(s,N,r){var self=q.C.T,S=self.s7,z=self.JY,A=r,B=r>>1,Y=B-1,t=A*A,p=0;for(var l=0;
l<z;l++){var f=0,a=0,D=0,c=~~(l/r)*r,J=0;for(var Z=0;Z<A;Z++){for(var Q=0;Q<A;Q++){var M=J+Q,u=c+Z;if(M>=S)M=S-1;
if(u>=z)u=z-1;f+=s[u*S+M<<2];a+=s[(u*S+M<<2)+1];D+=s[(u*S+M<<2)+2]}}var P=~~(f/t),m=~~(a/t),i=~~(D/t);
N[p]=P;N[p+1]=m;N[p+2]=i;N[p+3]=s[p+3];p+=4;for(var e=1;e<S;e++){for(var Z=0;Z<A;Z++){var X=e-1,$=X+A,u=c+Z;
if($>=S)$=S-1;if(u>=z)u=z-1;var O=u*S,T=O+$<<2,b=O+X<<2;f+=s[T]-s[b];a+=s[T+1]-s[b+1];D+=s[T+2]-s[b+2]}if(e%r==0){P=~~(f/t);
m=~~(a/t);i=~~(D/t)}N[p]=P;N[p+1]=m;N[p+2]=i;N[p+3]=s[p+3];p+=4}}};q.C.T.ag2=function(s,N,r,S,z){var self=q.C.T,A=self.s7,B=self.JY,Y=0,t=0,p=0,f=0;
for(var l=f;l<B+f;l++){var a=l%N>=S||l<S||B+f-S<=l;for(var D=0;D<A;D++){s[Y++]=a&&(D%r>=z||D<z||A-z<=D)?255:0}}};
q.C.T.arz=function(s,N,r){var S=function(p,f){return f<=p?p/f&1?f-p%f:p%f:p},z=[function(Y,t){return S(Y,255)/255},function(Y,t){return(255+S(Y,255)-S(t,255))/510},function(Y,t){return(255-S(t,255))/255},function(Y,t){return(510-S(Y,255)-S(t,255))/510},function(Y,t){return(255-S(Y,255))/255},function(Y,t){return(255-S(Y,255)+S(t,255))/510},function(Y,t){return S(t,255)/255},function(Y,t){return(S(Y,255)+S(t,255))/510}][r],A=0,B=0;
for(var l=0;l<q.C.T.HW;l++){var Y=s[A++],t=s[A++];N[B++]=~~(255*z(Y,t))}};q.C.a6E=function(){var s=[],N=new Uint8Array(512),r=new Float32Array(512),S=new Float32Array(512),z=[1,-1,1,-1,1,-1,0,0],A=[1,1,-1,-1,0,0,1,-1],B=0,Y,J=0;
for(;B<256;B++)s[B]=B;while(B!=0){B--;Y=Math.floor(Math.random()*B);s[Y]^=s[B]^(s[B]=s[Y])}function t(t){t=Math.floor(t*65536);
if(t<256){t|=t<<8}for(var l=0;l<256;l++){var M=l+256,u=s[l]^(l&1?t:t>>8)&255;N[l]=N[M]=u;u=u%8;r[l]=r[M]=z[u];
S[l]=S[M]=A[u]}}function p(M){return M*M*M*(M*(M*6-15)+10)}function f(M,u,P){return(1-P)*M+P*u}function a(M,u){return M&u}function D(M,u){return M%u}function c(M,u,P,m,i){var e=Math.floor(M),X=Math.floor(u),B,$,O,T,b,R;
M=M-e;u=u-X;e=e&255;X=X&255;B=e+N[X];T=r[B]*M+S[B]*u;B=e+N[i(X+1,m)];O=r[B]*M+S[B]*(u-1);B=i(e+1,P)+N[X];
b=r[B]*(M-1)+S[B]*u;B=i(e+1,P)+N[i(X+1,m)];R=r[B]*(M-1)+S[B]*(u-1);$=p(M);return f(f(T,b,$),f(O,R,$),p(u))}function Z(M,B,u){M[B]=u}function Q(M,u,P,m,i){var e=Math.min(Math.min(u,256),Math.min(256,P)),X=e==256||e<8,$=8,O=new Uint32Array($),T=new Uint32Array($),b=new Float32Array($),R=new Float32Array($),w=1,F=1,L=X?a:D,x=Z,g;
for(var l=0;l<$;l++){g=F*1/e;if(X){T[l]=(1<<Math.ceil(Math.log2(P*g)))-1;O[l]=(1<<Math.ceil(Math.log2(u*g)))-1}else{T[l]=g*P;
O[l]=g*u}b[l]=w;R[l]=g;w*=.5;F=F<<1}t(Math.random());for(var n=0,B=0;n<P;n++){for(var h=0;h<u;h++){var _=0;
for(var H=0;H<$;H++){g=R[H];_+=c(h*g,n*g,O[H],T[H],L)*b[H]}x(m,B++,Math.round(Math.max(0,255*Math.min(1,.5+_*.5))))}}}return Q}();
q.C.agw=function(){function s(N,r,S,z){var A=new Uint8Array(N.length>>>2),B=new Uint8Array(N.length>>>2),Y=new Uint8Array(N.length);
for(var l=0;l<N.length;l+=4){var t=N[l+0]*.3+N[l+1]*.59+N[l+2]*.11;B[l>>>2]=t;Y[l]=N[l];Y[l+1]=N[l+1];
Y[l+2]=N[l+2]}q.DD.Vo(B,A,r,S);q.DD.tn(N,z,r,S,q.DD.OW[1],0,!0);for(var l=0;l<N.length;l+=4){Y[l+3]=255-A[l>>>2]}for(var l=0,p=N.length;
l<p;l+=4){var f=Y[l+3]/255;z[l]=Y[l]*f+z[l]*(1-f);z[l+1]=Y[l+1]*f+z[l+1]*(1-f);z[l+2]=Y[l+2]*f+z[l+2]*(1-f)}}return s}();
q.C.afc=function(){function s(A,B,Y,t,p){var f=new Uint32Array(A.buffer),a=0;for(var l=0;l<Y;l++){for(var D=0;
D<B;D++,a+=4){var c=f[l*B+D],J=c&255,Z=c>>>8&255,Q=c>>>16&255,M=c>>>24&255,u=~~(Math.random()*8),P=u%3,m=0,i=0;
if(u<3){i--}else if(u>4){i++}if(P==0){m--}else if(P==2){m++}var e=D+m,X=l+i;if(e<0)e=0;else if(e>B-1)e=B-1;
if(X<0)X=0;else if(X>Y-1)X=Y-1;var c=f[X*B+e],$=c&255,O=c>>>8&255,T=c>>>16&255,b=c>>>24&255;t[a]=p(J,$);
t[a+1]=p(Z,O);t[a+2]=p(Q,T);t[a+3]=p(M,b)}}}function N(A,B){return B}function r(A,B){return A>B?B:A}function S(A,B){return A<B?B:A}function z(A,B,Y,t,p){var f=p[0];
if(f==0)s(A,B,Y,t,N);else if(f==1)s(A,B,Y,t,r);else if(f==2)s(A,B,Y,t,S);else if(f==3){console.error("Not implemented")}else console.error("Mew mew")}return z}();
q.C.a93=function(){function s(N,r,S,z,A){var B=A&&A[0]?A[0]:4,Y,t,p,f,a,D,c;for(var l=0;l<S;l++){var J=Math.max(l-B,0),Z=Math.min(l+B,S-1);
for(var Q=0;Q<r;Q++){var M=Math.max(Q-B,0),u=Math.min(Q+B,r-1);Y=J*r+M<<2;f=N[Y];a=N[Y+1];D=N[Y+2];c=N[Y+3];
Y=J*r+u<<2;f+=N[Y];a+=N[Y+1];D+=N[Y+2];c+=N[Y+3];Y=Z*r+M<<2;f+=N[Y];a+=N[Y+1];D+=N[Y+2];c+=N[Y+3];Y=Z*r+u<<2;
f+=N[Y];a+=N[Y+1];D+=N[Y+2];c+=N[Y+3];Y=l*r+Q<<2;z[Y]=f+2>>>2;z[Y+1]=a+2>>>2;z[Y+2]=D+2>>>2;z[Y+3]=c+2>>>2}}}return s}();
q.C.a0y=function(){function s(N,r,S,z){var A=new Uint8Array(N.length),B=new Uint8Array(N.length>>>2),Y=new Uint8Array(N.length>>>2);
q.DD.tn(N,A,r,S,q.DD.OW[2],0,!0);for(var l=0;l<N.length;l+=4){var t=A[l+0]*.3+A[l+1]*.59+A[l+2]*.11;
B[l>>>2]=t;z[l+0]=N[l+0];z[l+1]=N[l+1];z[l+2]=N[l+2];z[l+3]=N[l+3]}q.DD.Vo(B,Y,r,S);for(var l=0;l<N.length;
l+=4){A[l+3]=~~(Math.max(0,255-Y[l>>>2]-50)*(255/205))}for(var l=0,p=N.length;l<p;l+=4){var f=A[l+3]/255;
z[l]=A[l]*f+z[l]*(1-f);z[l+1]=A[l+1]*f+z[l+1]*(1-f);z[l+2]=A[l+2]*f+z[l+2]*(1-f)}}return s}();q.C.ic=function(){function s(u,P){return u[P]+u[P+1]+u[P+2]+u[P+3]}function N(u,P){return u[P]+u[P+1]+u[P+2]+2*u[P+3]}function r(u,P,m,i){u[P]=m[i];
u[P+1]=m[i+1];u[P+2]=m[i+2];u[P+3]=m[i+3]}function S(u,P,m){u[P]=u[m];u[P+1]=u[m+1];u[P+2]=u[m+2];u[P+3]=u[m+3]}function z(u,P,m){u[m]=P[m];
u[m+1]=P[m+1];u[m+2]=P[m+2];u[m+3]=255-P[m+3]}function A(u){for(var l=0,P=u.length;l<P;l+=4){u[l+3]=255-u[l+3]}}function B(){var u=Math.random();
if(u>.5)return 0;if(u>.25)return 1;if(u>.1)return 2;if(u>.02143)return 3;if(u>.00445)return 4;if(u>65e-5)return 5;
if(u>415e-6)return 6;if(u>55e-6)return 7;return 8}function Y(u,P,m,i,e,X){u[P]=m[i]+(e[X]-m[i]>>1);u[P+1]=m[i+1]+(e[X+1]-m[i+1]>>1);
u[P+2]=m[i+2]+(e[X+2]-m[i+2]>>1);u[P+3]=m[i+3]+(e[X+3]-m[i+3]>>1)}function t(u,P,m,i,e,X){u[P]=e[X]+m[i]>>1;
u[P+1]=e[X+1]+m[i+1]>>1;u[P+2]=e[X+2]+m[i+2]>>1;u[P+3]=e[X+3]+m[i+3]>>1}function p(u,P,m,i,e,X,$,O,T){var b=0,R=0,w=0,l,F=e[X],L;
Y(O,0,u,P,u,m);for(l=0;l<F;l++){Y(O,(l+1)*4,O,l*4,u,m)}R=(F+1)*4;w+=F;X--;r(u,P,O,R-4);i[X]=s(u,P);P-=T;
while(X>0&&i[X-1]<i[X]){L=O;O=$;$=L;b=R;t(O,0,u,P-T,$,0);for(l=4;l<b;l+=4){t(O,l,O,l-4,$,l)}F=e[X];for(l=w;
l<F;l++){Y(O,R,O,R-4,$,b-4);R+=4;w++}X--;r(u,P,O,R-4);i[X]=s(u,P);P-=T}}function f(u,P,m,i,e){var X=P*4,$=0,O,T,b=new Uint8Array(P+1),R=new Uint8Array(10*4),w=new Uint8Array(10*4);
for(var l=0;l<m;l++){z(i,u,$);e[0]=s(i,$);b[0]=B();O=$;$+=4;for(var F=1;F<P;F++){z(i,u,$);e[F]=s(i,$);
T=B();b[F]=T;if(e[F-1]<e[F]&&T>0){p(i,$-4,$,e,b,F,R,w,4)}$+=4}e[P]=e[0];b[P]=b[0];if(e[P-1]<e[P]&&T>0){p(i,$,O,e,b,P,R,w,4)}}A(i)}function a(){var u=Math.random();
if(u>.659755)return 0;if(u>.1625)return 10;if(u>.06)return 20;if(u>.01)return 30;if(u>.0035)return 40;
if(u>65e-5)return 50;if(u>415e-6)return 60;if(u>55e-6)return 70;return 80}function D(u,P,m,i,e,X){var $=a()+1,O=i[e];
for(var l=1;l<$;l++){if(0>e)break;if(i[e-l]<O){S(u,P,m)}else{break}P+=X}}function c(u,P,m,i,e){var X=P*4,$=0;
for(var l=0;l<m;l++){z(i,u,$);e[0]=s(i,$);$+=4;for(var O=1;O<P;O++){z(i,u,$);e[O]=s(u,$);if(e[O-1]<e[O]){D(i,$-4,$,e,O,-4)}$+=4}e[P]=e[0];
if(e[O-1]<e[O]){D(i,$-4,$-X,e,O,-4)}}A(i)}function J(u,P,m,i,e,X){var $=1,O,T,b=new Uint8Array(4),R,w=P;
while(Math.random()<1/$){w=P;if(i<=1)break;O=m[i];T=m[i-1];if(O<=T)break;r(b,0,u,w-X);R=!0;for(var l=i;
l<e;l++){if(T>m[l]){r(u,w-X,b,0);m[l-1]=T;R=!1;break}r(u,w-X,u,w);m[l-1]=m[l];w+=X}if(R){r(u,w-X,b,0);
m[e-1]=T}$++;i--;P-=X}}function Z(u,P,m,i,e){var X=0,$=0,O=P*4;for(var l=0;l<m;l++){$=X;for(var T=0;
T<P;T++){z(i,u,X);e[T]=N(i,X);X+=4}X=$;for(var T=1;T<P;T++){if(e[T-1]<e[T]&&Math.random()<.66){J(i,X+4,e,T,P,4)}X+=4}X+=4}A(i)}function Q(u,P,m,i,e){var X=e[0],$=e[1],O=new Uint16Array(P+1),T=u,b=i,R;
if($){R=i.slice(0);M(u,i,P,m);T=i;b=R}if(X==0)f(T,P,m,b,O);else if(X==1)c(T,P,m,b,O);else if(X==2)Z(T,P,m,b,O);
if($){M(R,i,P,m)}}function M(u,P,m,i){for(var e=0;e<i;e++)for(var X=0;X<m;X++){var $=e*m+X<<2,O=e*m+(m-1-X)<<2;
P[O]=u[$];P[O+1]=u[$+1];P[O+2]=u[$+2];P[O+3]=u[$+3]}}return Q}();q.C.wq=function(s,N,r,S,z){var A=q.C.T,B=1,Q=0,P=0;
A.gx(N,r);A.NE(z[2]);var Y=3<<13,t=Math.PI/2.43,p=t/256,f=Math.PI*2/256;function a(){var X=A.random()*256,$=A.random()*256;
return B*~~(Math.tan(t-X*p)*325*Math.cos($*f)*256)+Y>>16}B=z[0];var D=z[1],c=(D+2)/2,J=A.random()*255,Z=A.u3(1);
for(var l=0;l<r;l++){var M=A.tk(a()+J);for(var u=0;u<N;u++){M=A.tk(a()+M);Z[Q++]=M}}Q=N;for(var l=1;
l<r;l++){var m=A.tk(a()+Z[P++]);Z[Q++]=m;for(var u=1;u<N;u++){var i=P+1;if(u+1==N){i--}var e=(c+m+Z[i]+Z[P]*D)/(D+2);
m=A.tk(a()+e);Z[Q++]=m;P++}}A.qz(Z,S)};var cU=function(){function s(v){v=v^61^v>>>16;v=v+(v<<3);v=v^v>>>4;
v=v*668265261;v=v^v>>>15;return v}var N=function(){var N=function(v){if(v){this.aC=v}this.aC=s(this.aC);
return(this.aC&16777215)*(1/16777215)};return N};function r(v,C){if(C==null){C=[0,0]}return Math.sqrt((C[0]-v[0])*(C[0]-v[0])+(C[1]-v[1])*(C[1]-v[1]))}function S(v,C){if(C==null){C=[0,0]}return[-(C[1]-v[1])/r(v,C),(C[0]-v[0])/r(v,C)]}function z(v){return[Math.cos(v),Math.sin(v)]}function A(v){var C=r(v,[0,0]),E=[v[0]/C,v[1]/C],I=Math.atan(E[1]/E[0]);
if(E[0]>0&&E[1]<0){I+=2*Math.PI}else if(E[0]<0&&E[1]<0){I+=Math.PI}else if(E[0]<0&&E[1]>0){I+=Math.PI}return I}function B(v){var B=0;
for(var l=1;l<v.length/2;++l){B+=r([v[2*l],v[2*l+1]],[v[2*(l-1)],v[2*(l-1)+1]])}return B}function Y(v,C,E){var I=new Float32Array(v.length),dJ=1/(v.length/2),fG=i(E);
for(var l=0;l<v.length/2;++l){var o=l*dJ,i4=o/2+.5,df=1,eO=0;if(E.shape==2){df=1/(2*i4)}if(E.shape==3){i4=(1-o)/2+.5;
df=1/(2*i4)+.5}if(E.shape==4){i4=o;df=Math.sin(3/2*Math.PI*i4)/4+1}if(E.shape==5){i4=(o-.5)*6;df=(-Math.atan(i4)/1.25+1)/5+.6-.2*o}var cO=[null,null];
if(l==0){cO=S([v[2*l],v[2*l+1]],[v[2*(l+1)],v[2*(l+1)+1]])}else if(l==v.length/2-1){cO=S([v[2*(l-1)],v[2*(l-1)+1]],[v[2*l],v[2*l+1]])}else{cO=S([v[2*(l-1)],v[2*(l-1)+1]],[v[2*(l+1)],v[2*(l+1)+1]])}I[2*l]=v[2*l]+(df*C+eO)*cO[0];
I[2*l+1]=v[2*l+1]+(df*C+eO)*cO[1];if(E.style==2){I[2*l]+=e(2*l/I.length,fG,E)}}return I}function t(v,C,E){var I=new Float32Array(v.length),dJ=1/(v.length/2);
for(var l=0;l<v.length/2;++l){var fG=l*dJ,o=[null,null],i4=.6*E.t8*O(fG,C.auc)*E.c2/100,df=.6*E.t8*O(fG,C.auq)*E.c2/100,eO=C.awH*i4+(1-C.awH)*df;
if(l==0){o=S([v[2*l],v[2*l+1]],[v[2*(l+1)],v[2*(l+1)+1]])}else if(l==v.length/2-1){o=S([v[2*(l-1)],v[2*(l-1)+1]],[v[2*l],v[2*l+1]])}else{o=S([v[2*(l-1)],v[2*(l-1)+1]],[v[2*(l+1)],v[2*(l+1)+1]])}I[2*l]=v[2*l]+eO*o[0];
I[2*l+1]=v[2*l+1]+eO*o[1]}return I}function p(v){if(v.pb==1){return[.150684932,.205479452,.465753425,.178082192]}else if(v.pb==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var C=[],E=1/(w(v)-1);
for(var l=0;l<w(v)-1;++l){C.push(E)}return C}}function f(v,C,E){var I=[],dJ=C-v,fG=v;for(var l=0;l<E.length-1;
++l){I.push(fG+E[l]*dJ);fG=I[l]}return I}function a(v,C,E,I){var dJ=new Float32Array(E.length),fG=0,o={shape:Math.floor(I.random()*2.99),aet:I.random()*.1+.15};
for(var l=0;l<E.length-1;++l){var i4=fG+E[l];dJ[l]=((1-i4)*v+i4*C)*M(I,i4,o);fG=i4}return dJ}function D(v,C,E,I){var dJ=b(I),fG=I.random(),o=fG*20+(1-fG)*26,i4=new Float32Array(E.length),df=0;
for(var l=0;l<E.length-1;++l){var eO=df+E[l];i4[l]=(1-eO)*v+eO*C+dJ/o*(2/3*Math.sin(Math.PI*eO)+1/3*Math.sqrt(Math.sin(Math.PI*eO)));
df=eO}return i4}function c(v,C,E){var I=[];for(var l=0;l<C.length-1;++l){I.push(C[l].slice());var dJ=l*(w(E)-1),fG=(l+1)*(w(E)-1),o=v[fG]-v[dJ];
for(var i4=dJ+1;i4<fG;++i4){var df=i(E),eO=new Float32Array(C[0].length),cO=(v[i4]-v[dJ])/o;for(var ej=0;
ej<C[0].length/2;++ej){eO[2*ej]=(1-cO)*C[l][2*ej]+cO*C[l+1][2*ej];eO[2*ej+1]=(1-cO)*C[l][2*ej+1]+cO*C[l+1][2*ej+1];
if(E.style==2){eO[2*ej]+=e(2*ej/C[0].length,df,E)}}I.push(eO)}}I.push(C[C.length-1]);return I}function J(v,C,E){var I=new Array(C.length),dJ=_(v),o=null;
for(var l=0;l<C.length;++l){I[l]=Y(dJ,(C[l]-.5)*E.c2,E)}var fG=1+.05*E.ar3*b(E)/b({pb:1});for(var l=0;
l<C.length;++l){if(C[l]==0){o=l}}for(var l=0;l<C.length;++l){var i4=(E.random()-.5)*2,df=Math.round(E.random()*9+1),eO=new Float32Array(df*2+2);
for(var cO=0;cO<=df;++cO){eO[2*cO]=I[l][0]-(I[l][2*cO]-I[l][0]);eO[2*cO+1]=I[l][1]-(I[l][2*cO+1]-I[l][1])}if(l==o){i4*=.1}for(var cO=(I[l].length-1)/2;
cO>df;--cO){I[l][2*cO]=(1-i4)*I[l][2*cO]+i4*(I[l][2*(cO-df)]+fG*(I[l][2*cO]-I[l][2*(cO-df)]));I[l][2*cO+1]=(1-i4)*I[l][2*cO+1]+i4*(I[l][2*(cO-df)+1]+fG*(I[l][2*cO+1]-I[l][2*(cO-df)+1]))}for(var cO=df-1;
cO>=0;--cO){I[l][2*cO]=(1-i4)*I[l][2*cO]+i4*(eO[2*(df-cO)]+fG*(I[l][2*cO]-eO[2*(df-cO)]));I[l][2*cO+1]=(1-i4)*I[l][2*cO+1]+i4*(eO[2*(df-cO)+1]+fG*(I[l][2*cO+1]-eO[2*(df-cO)+1]))}}var ej=$(C,E);
if(E.t8>0){var cn=0;for(var l=0;l<C.length;++l){if(l==0){cn+=C[l]}else{cn+=Math.abs(C[l]-C[l-1])}var j5=cn-Math.floor(cn),gP=1;
if(j5==0){gP=0}I[l]=t(I[l],{auc:ej[Math.floor(cn)],auq:ej[Math.floor(cn)+gP],awH:j5},E)}}return I}function Z(v,C){var E=x(C,v),I=g(C,v),dJ=[],fG=[],o=[],i4=p(v);
for(var l=0;l<C.length-1;++l){dJ.push(C[l]);fG.push(E[l]);o.push(I[l]);var df=f(C[l],C[l+1],i4),eO=a(E[l],E[l+1],i4,v),cO=D(I[l],I[l+1],i4,v);
for(var ej=0;ej<df.length;++ej){dJ.push(df[ej]);fG.push(eO[ej]);o.push(cO[ej])}}dJ.push(C[C.length-1]);
fG.push(E[E.length-1]);o.push(I[I.length-1]);return{apY:dJ,arJ:fG,At:o}}function Q(v,C,E,I){var dJ=new Float32Array(2*I),fG=v.length/2,o=fG-C,i4=E*o,df=i4/I;
for(var l=0;l<I;++l){var eO=Math.floor(C+l*df),cO=Math.ceil(C+l*df),E=C+l*df,ej=cO-eO,cn=1,j5=0;if(ej!=0){cn=(cO-E)/ej;
j5=(E-eO)/ej}dJ[2*l]=cn*v[2*eO]+j5*v[2*cO];dJ[2*l+1]=cn*v[2*eO+1]+j5*v[2*cO+1]}return dJ}function M(v,C,E){var I=E.aet,dJ=C*2*Math.PI,fG=dJ,o=0;
if(E.shape==0){o=(Math.sin(2*fG+Math.PI/2)+1)/2}else if(E.shape==1){o=(Math.sin(fG+Math.PI/2)+1)/2}else{o=(4*Math.sin(3/4*fG+Math.PI)+Math.sin(Math.PI/2+2*fG)-2*fG/Math.PI+6)/7}return Math.min(1,1-I+I*o)}function u(v,C,E,I){var dJ=[];
for(var l=0;l<v.length;++l){dJ.push(Q(v[l],C[l],E[l],I))}return dJ}function P(v,C,E){var I=[];for(var l=0;
l<v.length;++l){var dJ=z(2*Math.PI*E.random()),fG=z(2*Math.PI*E.random()),o=E.u0*.5*F({pb:1})/F(E),i4=o*E.c2/200,df=o*C/500,eO=new Float32Array(v[0].length);
for(var cO=0;cO<v[0].length/2;++cO){var ej=z(2*Math.PI*E.random()),cn=2*cO/v[0].length;eO[2*cO]=v[l][2*cO]+i4*(ej[0]+((1-cn)*dJ[0]+cn*fG[0]));
eO[2*cO+1]=v[l][2*cO+1]+df*(ej[1]+((1-cn)*dJ[1]+cn*fG[1]))}I.push(eO)}return I}function m(v,C,E){var I=E.Zu,dJ=2/I,fG=[1/10,1/30,1/40,1/45,1/100],o=fG[E.pb-1],i4=4*(E.opacity/25*dJ*o)*(1-E.u0/150),ej=0,j5=0;
if(E.style==3){return i4*.09}var df=2.2*(v-.5),eO=df*df*df*df+.27+Math.max(0,(E.opacity-50)/15),cO=2*(Math.sin(3*Math.PI*C)/(Math.PI*C+2)+1.1)-C/2;
C=2*C;if(C<.41){var cn=2*Math.PI*C/.41;ej=(Math.sin(cn-Math.PI/2)+1)/4+.5}else if(C<.77){var cn=2*Math.PI*(C-.41)/.36;
ej=(Math.sin(cn-Math.PI/2)+1)/4+.5-cn/2/Math.PI*.5}else{var cn=2*Math.PI*(C-.77)/.23;ej=(Math.sin(cn-Math.PI/2)+1)/2*.12}ej*=3;
ej+=Math.max(0,(E.opacity-50)/15);if(E.type==6){j5=cO}else{j5=ej}return i4*eO*j5}function i(v){return{s:v.random()*7/2+.5,pU:v.random()*2*Math.PI}}function e(v,C,E){return E.c2/300*w({pb:1})/w(E)*10*(Math.sin(C.s*2*Math.PI*v+C.pU)+10*(E.random()-.5))}function X(v){var C=Math.exp(-v.t8/25);
return{s:v.random()*3/2+.5,pU:v.random()*2*Math.PI,p6:(v.random()-.5)*10*C}}function $(v,C){var E=Math.ceil(n(v)),I=[];
for(var l=0;l<=E;++l){I.push(X(C))}return I}function O(v,C){var E=C.s*4*Math.PI*v+C.pU;return Math.exp(-1/2*Math.PI*v)*Math.cos(E)*Math.cos(E)*Math.cos(E)*Math.cos(E)*Math.cos(E)+v*C.p6-C.p6/4}function T(v,C,E,I,dJ){var fG=0,o=F(C)-1;
for(var l=0;l<o;++l){for(var i4=0;i4<v.length-1;i4+=w(C)-1){for(var df=l;df<v[0].length/2-o;df+=o){for(var eO=i4;
eO<i4+(w(C)-1);++eO){E[dJ+fG]=m(eO*(C.Zu-1)/(v.length-1)%1,df/v[0].length,C);var cO=0,ej=0;if(C.type==6&&eO!=0&&eO!=v.length-1){ej=(v[eO][2*(df+1)+1]-v[eO][2*df+1])/2;
cO=(v[eO][2*(df+1)]-v[eO][2*df])/2}I[8*dJ+8*fG]=v[eO][2*df]+cO;I[8*dJ+8*fG+1]=v[eO][2*df+1]+ej;I[8*dJ+8*fG+2]=v[eO][2*(df+o)]+cO;
I[8*dJ+8*fG+3]=v[eO][2*(df+o)+1]+ej;I[8*dJ+8*fG+4]=v[eO+1][2*(df+o)];I[8*dJ+8*fG+5]=v[eO+1][2*(df+o)+1];
I[8*dJ+8*fG+6]=v[eO+1][2*df];I[8*dJ+8*fG+7]=v[eO+1][2*df+1];++fG}}}}}function b(v){var C=[100,300,500,700,1e3];
return C[v.pb-1]}function R(v){var C=[30,70,100,140,300];return C[v.pb-1]}function w(v){var C=[5,7,26,40,100];
return C[v.pb-1]}function F(v){if(v.pb==1){return 4}else if(v.pb==2){return 8}else{return Math.floor(R(v)/9)}}function L(v){var C=v.Zu,E=new Float32Array(C),I=null;
for(var l=0;l<C;++l){E[l]=v.random()}if(v.Zu<=3){E[0]=0;E[v.Zu-1]=1}else{for(var l=0;l<2;++l){var dJ=Math.floor(v.random()*C);
if(I==null||I!=dJ){E[dJ]=l;I=dJ}else{E[dJ+1]=l}}}return E}function x(v,C){var E=[],I=.2,fG=0;for(var l=0;
l<v.length;++l){var dJ=C.random()*(1-I)+I;E.push(dJ)}var o=Math.min(3,C.Zu);for(var l=0;l<v.length;++l){if(E[l]>.9){++fG}}while(fG<o){var i4=Math.floor(C.random()*v.length);
if(E[i4]<=.9){E[i4]=.9+.1*C.random();++fG}}return E}function g(v,C){var E=b(C),I=b({pb:1}),dJ=[];for(var l=0;
l<v.length;++l){dJ.push(Math.max(1,(C.random()*10+2)*E/I))}return dJ}function n(v){var C=0;for(var l=0;
l<v.length;++l){if(l==0){C+=v[l]}else{C+=Math.abs(v[l]-v[l-1])}}return C}function h(v,C){if(v.length/2-1==b(C)){return v}var E=new Float32Array(2*(b(C)+1)),I=(v.length-2)/(E.length-2);
for(var l=0;l<E.length/2;++l){var dJ=l*I,fG=Math.floor(dJ),o=Math.ceil(dJ),i4=o-fG,df=1,eO=0;if(i4!=0){df=(o-dJ)/i4;
eO=(dJ-fG)/i4}E[2*l]=df*v[2*fG]+eO*v[2*o];E[2*l+1]=df*v[2*fG+1]+eO*v[2*o+1]}return E}function _(v,C){var E=v.length/2,I=B(v),dJ=I/E,fG=!1,df=0,eO=0,cO=1;
if(C){var o=Math.floor(I/C.ahV),i4=C.ahV;if(C.aoP&&v[0]==v[v.length-2]&&v[1]==v[v.length-1]){fG=!0;i4=I/(o+1)}if(C.type==2&&!fG&&i4*o+C.length>I){E=o+1}else{E=o+2}dJ=i4}var ej=new Float32Array(E*2);
ej[0]=v[0];ej[1]=v[1];for(var l=1;l<E;++l){while(df<=l*dJ){eO=df;df+=r([v[2*cO],v[2*cO+1]],[v[2*(cO-1)],v[2*(cO-1)+1]]);
++cO}var cn=1-(l*dJ-eO)/(df-eO);ej[2*l]=(1-cn)*v[2*cO]+cn*v[2*(cO-1)];ej[2*l+1]=(1-cn)*v[2*cO+1]+cn*v[2*(cO-1)+1]}ej[ej.length-2]=v[v.length-2];
ej[ej.length-1]=v[v.length-1];return ej}function H(v,C){var E=_(v,C),I=[];for(var l=0;l<(E.length-2)/2;
++l){var dJ=[];dJ.push(E[2*l]);dJ.push(E[2*l+1]);var fG=r([E[2*(l+1)],E[2*(l+1)+1]],[E[2*l],E[2*l+1]]),o=[(E[2*(l+1)]-E[2*l])/fG,(E[2*(l+1)+1]-E[2*l+1])/fG],i4=z((C.ahD-90)/360*2*Math.PI),df=o;
if(C.type==3){df=i4}else if(C.type==4){df=z(A(o)+A(i4))}else if(C.type==5){df=z(((C.random()-.5)*C.ahD-90)/360*2*Math.PI)}var eO=C.length;
if(C.a0w){eO=2*C.random()*C.length}dJ.push(E[2*l]+df[0]*eO);dJ.push(E[2*l+1]+df[1]*eO);I.push(dJ)}return I}function G(v){if(v.awF){v.jG=100*Math.random()}else{v.jG=v.a9Y}v.random=new N;
v.random(v.jG);if(v.type==6){v.Zu=2;v.shape=5;v.ar3=0}}function j(v,C){v=h(v,C);var E=[v],eO=0;if(C.type>=2&&C.type<6){E=H(v,C)}var I=F(C)-1,dJ=R(C)-I,fG=(C.Zu-1)*(w(C)-1),o=E.length*dJ*fG,i4=new Float32Array(o),df=new Float32Array(8*o);
for(var l=0;l<E.length;++l){for(var cO=0;cO<1e4;++cO){C.jG=s(C.jG)}C.random(C.jG);var v=h(E[l],C),ej=L(C),cn=n(ej),j5=J(v,ej,C),gP=Z(C,ej),bY=c(gP.apY,j5,C);
bY=u(bY,gP.At,gP.arJ,R(C));if(C.u0>0){bY=P(bY,B(E[l]),C)}T(bY,C,i4,df,eO);eO+=dJ*fG}return[i4,df]}var cU=function(v){var C=performance.now(),E=v[0],I=v[1];
G(I);var dJ=[new Float32Array(0),new Float32Array(0)];for(var l=0;l<E.length;++l){I.jG=s(I.jG);var fG=j(E[l],I),o=new Float32Array(dJ[0].length+fG[0].length),i4=new Float32Array(dJ[1].length+fG[1].length);
o.set(dJ[0]);o.set(fG[0],dJ[0].length);dJ[0]=o;i4.set(dJ[1]);i4.set(fG[1],dJ[1].length);dJ[1]=i4}var df=performance.now();
if(I.aw$){console.vq("Geometry: "+String(df-C)+"ms")}return dJ};return cU}(),ie=function(){function s(z,A){var B=[],Y=0,t=A.length,p=0,f=0,a=new hq,D=0,c=1e9;
for(f=0;f<t;f++){var J=f*8,Z=A[f];if(Z<c)c=Z;var Q=z[J+0],M=z[J+1],u=z[J+2],P=z[J+3],m=z[J+4],i=z[J+5],e=z[J+6],X=z[J+7],$=Math.min(Q,u,m,e),O=Math.max(Q,u,m,e),T=Math.min(M,P,i,X),b=Math.max(M,P,i,X),R=new hq($,T,O-$,b-T),w=R.Ms(a),F=D+Z;
if(f-p<10&&(f==p||w.$()*.8<R.$()+a.$())){a=w;D=F}else{B.push(f-p);p=f;a=R;D=Z;c=Z}}if(f!=p)B.push(f-p);
return B}function N(z,A,B,Y,t,p){var f=document.createElement("canvas"),M=0,o=.8;f.width=A;f.height=B;
var a=f.getContext("2d"),D=t[0],c=t[1],J=new Float64Array(A*B),Z=Date.now(),Q=s(c,D);for(var u=0;u<Q.length;
u++){var P=M,m=M+Q[u],X=1e9,O=1e9,x=0;M=m;var i=P*8,e=m*8,$=-X,T=-O;for(var b=i;b<e;b+=2){var R=c[b],w=c[b+1];
if(R<X)X=R;if(R>$)$=R;if(w<O)O=w;if(w>T)T=w}X=Math.floor(X);$=Math.ceil($);O=Math.floor(O);T=Math.ceil(T);
var F=$-X,L=T-O;for(var g=P;g<m;g++)x+=D[g];for(var b=i;b<e;b+=8){var n=D[b>>>3],h=c[b+0],_=c[b+1],H=c[b+2],G=c[b+3],j=c[b+4],v=c[b+5],C=c[b+6],E=c[b+7];
a.fillStyle="rgba(0,0,0,"+n/x+")";a.beginPath();a.moveTo(h,_);a.lineTo(H,G);a.lineTo(j,v);a.lineTo(C,E);
a.closePath();a.fill()}var I=a.getImageData(X,O,F,L).data;for(var w=0;w<L;w++)for(var R=0;R<F;R++){var l=w*F+R,dJ=I[l*4+3],fG=(O+w)*A+X+R;
if(dJ!=0)J[fG]+=dJ*x}a.clearRect(X,O,F,L)}var i4=p[1].color,df=Math.pow(i4.w/255,o),eO=Math.pow(i4.A/255,o),cO=Math.pow(i4.U/255,o),ej=new hq(0,0,A,B),cn=q.m(A*B*4);
for(var w=0;w<B;w++)for(var R=0;R<A;R++){var l=w*A+R,g=l*4,D=J[l]*(1/255);cn[g]=S(df,D);cn[g+1]=S(eO,D);
cn[g+2]=S(cO,D);cn[g+3]=Math.min(255,D*255)}q.Q.VP("norm",cn,ej,Y,ej,ej,1)}var r=new Uint8Array(2e3);
for(var l=0;l<2e3;l++)r[l]=255*Math.min(1,Math.log(l/700+1));function S(z,A){return r[Math.min(1500,~~(z*A*1e3))]}return N}(),kd=function(){var s=new Float32Array(3e3),N=new Float32Array(3e3),r=new Float32Array(256),S=new Float32Array(3e3);
function z(){var c=s.length;s[0]=Math.log10(157647e-9);for(var l=1;l<c;++l)s[l]=Math.log10(l/c)}function A(){var c=N.length;
for(var l=0;l<c;++l)N[l]=Math.pow(10,20*(l-c/2)/c)}function B(){var c=r.length;for(var l=0;l<c;++l)r[l]=q.Fb(l/255)}function Y(){var c=S.length;
for(var l=0;l<c;++l)S[l]=255*q.VN(l/(c-1))}function t(c,J){var Z=c.length>>>2;for(var l=0;l<Z;++l){var Q=r[c[4*l]],M=r[c[4*l+1]],u=r[c[4*l+2]],P=.3811*Q+.5783*M+.0402*u,m=.1967*Q+.7244*M+.0782*u,i=.0241*Q+.1288*M+.8444*u;
P=s[~~(P*s.length)];m=s[~~(m*s.length)];i=s[~~(i*s.length)];J[3*l]=(P+m+i)*.5773502692;J[3*l+1]=(P+m-2*i)*.4082482905;
J[3*l+2]=(P-m)*.7071067812}}function p(c,J){var Z=J.length>>>2,Q=S.length-1;for(var l=0;l<Z;++l){var M=.5773502692*c[3*l],u=.4082482905*c[3*l+1],P=.7071067812*c[3*l+2],m=N[~~((M+u+P+10)*(3e3/20))],i=N[~~((M+u-P+10)*(3e3/20))],e=N[~~((M-2*u+10)*(3e3/20))],X=4.4679*m-3.5873*i+.1193*e,$=-1.2186*m+2.3809*i-.1624*e,O=.0497*m-.2439*i+1.2045*e;
J[4*l]=S[~~(Q*Math.max(0,Math.min(1,X)))];J[4*l+1]=S[~~(Q*Math.max(0,Math.min(1,$)))];J[4*l+2]=S[~~(Q*Math.max(0,Math.min(1,O)))]}}function f(c){var J=0,Z=0,Q=0;
for(var l=0;l<c.length;l+=3){J+=c[l];Z+=c[l+1];Q+=c[l+2]}return[J/(c.length/3),Z/(c.length/3),Q/(c.length/3)]}function a(c,f){var J=0,Z=0,Q=0;
for(var l=0;l<c.length;l+=3){var M=c[l]-f[0],u=c[l+1]-f[1],P=c[l+2]-f[2];J+=M*M;Z+=u*u;Q+=P*P}return[Math.sqrt(J/(c.length/3)),Math.sqrt(Z/(c.length/3)),Math.sqrt(Q/(c.length/3))]}function D(c,J,Z,Q,M,u){z();
A();B();Y();var P=0,_,H;if(u[0]>100)P=-(u[0]-100)/100*.13;else if(u[0]>=75)P=(100-u[0])/25*.04;else if(u[0]>=50)P=.04+(75-u[0])/25*.04;
else if(u[0]>=25)P=.08+(50-u[0])/25*.08;else P=.16+(25-u[0])/25*.24;var m=(u[1]-100+100)/100,i=u[2]/100,e=u[3],X=new Float32Array(c.length*3/4),$=new Float32Array(Q.length*3/4),O=Date.now();
t(c,X);t(Q,$);var T=Date.now(),b=f(X),R=f($),w=Date.now(),F=a(X,b),L=a($,R),x=Date.now();R[0]*=Math.pow(10,P);
var g=[L[0]/F[0],L[1]/F[1],L[2]/F[2]],n=X.length,h=1/-1.1546978950500488;for(var l=0;l<n;l+=3){if(e){var G=Math.max(0,Math.min(1,X[l]*h));
G=1-Math.sqrt(G);_=G*R[1];H=G*R[2]}else{_=R[1];H=R[2]}X[l]=(X[l]-b[0])*g[0]+R[0];X[l+1]=(X[l+1]-b[1])*g[1]*m+_;
X[l+2]=(X[l+2]-b[2])*g[2]*m+H}var j=Date.now();p(X,M);var v=M.length>>>2;for(var l=0;l<v;++l){M[4*l]=(1-i)*M[4*l]+i*c[4*l];
M[4*l+1]=(1-i)*M[4*l+1]+i*c[4*l+1];M[4*l+2]=(1-i)*M[4*l+2]+i*c[4*l+2];M[4*l+3]=255}}return D}(),db=function(){function s(N,r,S,z,A){var B=[-1,-1,-1,-1],Y=255,t=160,p,f=!1,a=new Array(4);
a[0]=new Array(r);a[1]=new Array(S);a[2]=new Array(r);a[3]=new Array(S);var D=new Array(2);D[0]=new Array(S);
D[1]=new Array(S);function c(L,x,g,n,h){this.start=n;this.axis=h;this.dir=L;this.end=-1;this.source=x;
this.$=g}function J(L,x,g,n,h){if(g%2==0){if(!a[g][L])a[g][L]=new Array;a[g][L].push(new c(g,n,h,x,L))}else{if(!a[g][x])a[g][x]=new Array;
a[g][x].push(new c(g,n,h,L,x))}var _=Date.now()}function Z(l){var L=!1,x=0;if(N[4*l+3]<Y)return L;var g=l%r,n=Math.floor(l/r);
Q(g,n);if(l+r<r*S&&N[4*(l+r)+3]<Y&&N[4*(l-r)+3]>=Y&&N[4*(l-2*r)+3]>=Y){var h=2;if(N[4*(l+r)+3]<=t)x=-1;
if(N[4*(l+2*r-1)+3]<Y&&N[4*(l+2*r+1)+3]<Y)L=!0;else if(N[4*(l+2*r-1)+3]>=Y&&N[4*(l+1)+3]>=Y)L=!0;else if(N[4*(l+2*r+1)+3]>=Y&&N[4*(l-1)+3]>=Y)L=!0;
J(g,n,h,x,L)}else if(l-r>=0&&N[4*(l-r)+3]<Y&&N[4*(l+r)+3]>=Y&&N[4*(l+2*r)+3]>=Y){var h=0;if(N[4*(l-r)+3]<=t)x=-1;
if(N[4*(l-2*r-1)+3]<Y&&N[4*(l-2*r+1)+3]<Y)L=!0;else if(N[4*(l-2*r-1)+3]>=Y&&N[4*(l+1)+3]>=Y)L=!0;else if(N[4*(l-2*r+1)+3]>=Y&&N[4*(l-1)+3]>=Y)L=!0;
J(g,n,h,x,L)}x=0;if(l+1<r*S&&N[4*(l+1)+3]<Y&&N[4*(l-1)+3]>=Y&&N[4*(l-2)+3]>=Y){var h=3;if(N[4*(l+1)+3]<=t)x=-1;
if(!L&&N[4*(l+r+2)+3]<Y&&N[4*(l-r+2)+3]<Y){L=!0;J(g,n,h,x,!0)}else J(g,n,h,x,!1)}else if(l>=1&&N[4*(l-1)+3]<Y&&N[4*(l+1)+3]>=Y&&N[4*(l+2)+3]>=Y){var h=1;
if(N[4*(l-1)+3]<=t)x=-1;if(!L&&N[4*(l+r-2)+3]<Y&&N[4*(l-r-2)+3]<Y){L=!0;J(g,n,h,x,!0)}else J(g,n,h,x,!1)}return L}function Q(l,L){if(B[0]==-1){B[0]=l;
B[1]=L;B[2]=1;B[3]=1}if(l<B[0]){B[2]+=B[0]-l;B[0]=l}if(l>B[0]+B[2])B[2]=l-B[0];if(L<B[1]){B[3]+=B[1]-L;
B[1]=L}if(L>B[1]+B[3])B[3]=L-B[1]}function M(L,l,x,g){if(!x.$)return;var n=(L+2)%4,h=x.start,_=B[1];
if(L==2)_+=B[3];else if(L==1)_=B[0];else if(L==3)_=B[0]+B[2];var H=x.source;if(a[n][l])for(var G=0;G<a[n][l].length;
++G){if(L>1){var j=h+Math.floor((a[n][l][G].start-h)/2);if(a[n][l][G].start>h&&j<_)_=j}else{var j=h-Math.floor((h-a[n][l][G].start)/2);
if(a[n][l][G].start<h&&j>_)_=j}}for(var v=1;v<Math.abs(_-h);++v){var G=h+v;if(L==1||L==0)G=h-v;for(var C=0;
C<2;++C){var E=2*C,I=!1;if(L%2==0)E+=1;if(a[E][G]){for(var dJ=0;dJ<a[E][G].length;++dJ){if(a[E][G][dJ].$){var fG=a[E][G][dJ].start,o=l-fG,i4=G-h;
if(E==0||E==1)o=-o;if(o<=0)continue;if(L==0||L==1)i4=-i4;if(i4>o){_=G;I=!0;break}}}if(I)break}}}x.end=_;
m(L,l,h,_,H)}function u(L){for(var l=0;l<a[L].length;++l){if(a[L][l])for(var x=0;x<a[L][l].length;++x){M(L,l,a[L][l][x])}}}function P(){var L=[2,0,3,1];
for(var l=0;l<L.length;++l)u(L[l])}function m(L,l,x,g,n){if(L==2)for(var h=x;h<=g;++h){if(!i(h*r+l,(x+n)*r+l))return!1}else if(L==0)for(var h=x;
h>=g;--h){if(!i(h*r+l,(x-n)*r+l))return!1}else if(L==1)for(var h=x;h>=g;--h){if(!i(l*r+h,l*r+x-n))return!1}else if(L==3)for(var h=x;
h<=g;++h){if(!i(l*r+h,l*r+x+n))return!1}}function i(L,x){if(!p[L]){z[4*L]=z[4*x];z[4*L+1]=z[4*x+1];z[4*L+2]=z[4*x+2];
if(f)z[4*L+3]=255;p[L]=!0;return!0}return!1}function e(){for(var l=0;l<4;l+=1){for(var L=0;L<a[l].length;
++L){if(a[l][L])for(var x=0;x<a[l][L].length;++x){var g=a[l][L][x];for(var n=1;n<3;n+=2){var h=(l+n)%4;
if(a[h][g.start])for(var _=0;_<a[h][g.start].length;++_){if(a[h][g.start][_].start==g.axis){var i3=r*g.start+g.axis;
if(l%2==1){i3=g.start+r*g.axis;X(a[h][g.start][_])}else X(g)}}}}}}}function X(L){if(L.dir%2==0){var i3=r*L.start+L.axis,x=L.start,g=1;
if(!p[i3+1])g=3;else if(p[i3-1])return;var n=z[4*i3],h=z[4*i3+1],_=z[4*i3+2];while(z[4*i3]==n&&z[4*i3+1]==h&&z[4*i3+2]==_){if(g==1){if(!D[0][x])D[0][x]=new Array;
D[0][x].push(new c(g,0,!1,L.axis,x))}else{if(!D[1][x])D[1][x]=new Array;D[1][x].push(new c(g,0,!1,L.axis,x))}if(L.dir==2){i3+=r;
x++}else{i3-=r;x--}}}}function $(){for(var L=0;L<2;++L){var x=(L+1)%2;for(var l=0;l<D[L].length;++l){if(D[L][l])for(var g=0;
g<D[L][l].length;++g){var n=B[0];if(L==1)n+=B[2];var h=D[L][l][g].start;if(D[x][l])for(var _=0;_<D[x][l].length;
++_){var H=D[x][l][_].D7;if(L==0){if(H>n&&H<h){n=h-Math.floor((h-H)/2)}}else{if(H<n&&H>h){n=h+Math.ceil((H-h)/2)}}}if(L==0)m(D[L][l][g].dir,l,h-1,n,-1);
else m(D[L][l][g].dir,l,h+1,n,-1)}}}for(var l=0;l<p.length;++l){if(!p[l]&&l%r>=B[0]&&l%r<=B[0]+B[2]&&Math.floor(l/r)>=B[1]&&Math.floor(l/r)<=B[1]+B[3]){var h=r;
if(l<h||!p[l-h])h=1;z[4*l]=z[4*(l-h)];z[4*l+1]=z[4*(l-h)+1];z[4*l+2]=z[4*(l-h)+2];p[l]=!0;if(f)z[4*l+3]=255}}}function O(){p=new Array(N.length/4);
for(var l=0;l<z.length/4;++l){p[l]=!1;z[4*l]=N[4*l];z[4*l+1]=N[4*l+1];z[4*l+2]=N[4*l+2];z[4*l+3]=N[4*l+3];
if(z[4*l+3]==255)p[l]=!0;if(Z(l))p[l]=!1}if(B[0]>0){B[0]--;B[2]++}if(B[1]>0){B[1]--;B[3]++}if(B[0]+B[2]<r){B[2]++}if(B[1]+B[3]<S){B[3]++}}var T=Date.now();
O();var b=Date.now();P();var R=Date.now();e();var w=Date.now();$();var F=Date.now();console.log("Init: "+String(b-T));
console.log("Filling: "+String(R-b));console.log("Check areas: "+String(w-R));console.log("Fill areas: "+String(F-w))}return s}();
q.Xe={HL:function(s,N){var l=s.length;s.push(N);var r=l>>>1;while(r!=0&&s[l][0]<s[r][0]){var S=s[l];
s[l]=s[r];s[r]=S;l=r;r=l>>>1}},Ao:function(s){if(s.length==2)return s.pop();var top=s[1],l=1;s[1]=s.pop();
var N=s.length;while(!0){var r=l<<1,S=r+1,z=l;if(r<N&&s[r][0]<s[z][0])z=r;if(S<N&&s[S][0]<s[z][0])z=S;
if(z==l)break;var A=s[l];s[l]=s[z];s[z]=A;l=z}return top},aqs:function(s){for(var l=1;l<s.length;l++){var N=l,r=1e9;
while(N!=0){var S=s[N][0];if(S>r){console.log(l);throw"e"}r=S;N=N>>>1}}}};q.Q={};q.Q.CH=new Float64Array(256);
q.Q.qC=new Uint8Array(256*256);q.Q.vQ=new Uint8Array(256*256);(function(){for(var l=0;l<256;l++)q.Q.CH[l]=255/l;
for(var l=0;l<256;l++)for(var s=0;s<256;s++)q.Q.qC[l*256+s]=l==0?0:Math.round(s*255/l);for(var l=0;l<256;
l++)for(var s=0;s<256;s++)q.Q.vQ[l*256+s]=Math.round(l*(255-s)/255)}());q.Q.VP=function(s,N,r,S,z,A,B,Y){if(Y==null)Y=hC.bb();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(s)==-1){B=B*Y.fill;Y.fill=1;Y.style=!1}var t="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),p="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),f=q.Q[s+"F"];
if(Y.dP==null&&s=="norm")q.Q.a7B(N,r,S,z,A,B,f,Y.vX?1:0);else if(s=="diss")q.Q.apj(N,r,S,z,A,B,f,Y.vX?1:0);
else if(t.indexOf(s)!=-1)q.Q.a5E(N,r,S,z,A,B,f,Y);else if(p.indexOf(s)!=-1)q.Q.ajC(N,r,S,z,A,B,f,Y)};
q.Q.ajx=function(s,N,r){var S=s*r+1-r;return S<.001?0:1-Math.min(1,(1-N)/S)};q.Q.ams=function(s,N,r){return s*r==1?1:Math.min(1,N/(1-s*r))};
q.Q.iw=function(s){return s<=.25?((16*s-12)*s+4)*s:Math.sqrt(s)};q.Q.normF=function(s,N,r){return s};
q.Q.darkF=function(s,N,r){return Math.min(s,N)};q.Q["mul F"]=function(s,N,r){return s*N};q.Q.idivF=function(s,N,r){var S=s*r+1-r;
return N==1?1:1-N>=S?0:1-(1-N)/S};q.Q.lbrnF=function(s,N,r){return Math.max(0,s*r+N-r)};q.Q.dkClF=function(s,N,r){var S=q.G6(s)<q.G6(N)?s:N;
r.w=S.w;r.A=S.A;r.U=S.U;return r};q.Q.liteF=function(s,N,r){return Math.max(s,N)};q.Q.scrnF=function(s,N,r){return N+s-N*s};
q.Q["div F"]=function(s,N,r){s*=r;return N==0?0:N>=1-s?1:N/(1-s)};q.Q.lddgF=function(s,N,r){s*=r;return Math.min(1,s+N)};
q.Q.lgClF=function(s,N,r){var S=q.G6(s)>q.G6(N)?s:N;r.w=S.w;r.A=S.A;r.U=S.U;return r};q.Q.overF=function(s,N,r){return q.Q.hLitF(N,s,r)};
q.Q.sLitF=function(s,N,r){return s<=.5?N-(1-2*s)*N*(1-N):N+(2*s-1)*(q.Q.iw(N)-N)};q.Q.hLitF=function(s,N,r){return s<=.5?q.Q["mul F"](2*s,N,r):q.Q.scrnF(2*s-1,N,r)};
q.Q.vLitF=function(s,N,r){return s<=.5?q.Q.ajx(2*s,N,r):q.Q.ams(2*s-1,N,r)};q.Q.lLitF=function(s,N,r){return s<=.5?q.Q.lbrnF(2*s,N,r):q.Q.lddgF(2*s-1,N,r)};
q.Q.pLitF=function(s,N,r){return s<=.5?q.Q.darkF(2*s,N,r):q.Q.liteF(2*s-1,N,r)};q.Q.hMixF=function(s,N,r){if(r>.99)return s+N<1?0:1;
return Math.min(1,Math.max(0,(N+s*r-r)/(1-r+1e-6)))};q.Q.diffF=function(s,N,r){s*=r;return Math.abs(s-N)};
q.Q.smudF=function(s,N,r){return s+N-2*s*N};q.Q.fsubF=function(s,N,r){return Math.max(N-s,0)};q.Q.fdivF=function(s,N,r){return Math.min(N/s,1)};
q.Q["hue F"]=function(s,N,r){q.Q.XC(s,q.Ix(N),r);q.Q.s0(r,q.G6(N),r)};q.Q["sat F"]=function(s,N,r){q.Q.XC(N,q.Ix(s),r);
q.Q.s0(r,q.G6(N),r)};q.Q.colrF=function(s,N,r){q.Q.s0(s,q.G6(N),r)};q.Q["lum F"]=function(s,N,r){q.Q.s0(N,q.G6(s),r)};
q.Q.s0=function(s,N,r){var S=N-q.G6(s);r.w=s.w+S;r.A=s.A+S;r.U=s.U+S;q.Q.a4r(r)};q.Q.a4r=function(s){var N=s.w,r=s.A,S=s.U,z=q.il(N,r,S),i3=Math.min(N,r,S),A=Math.max(N,r,S);
if(i3<0){var B=z/(z-i3);N=z+(N-z)*B;r=z+(r-z)*B;S=z+(S-z)*B}if(A>1){var B=(1-z)/(A-z);N=z+(N-z)*B;r=z+(r-z)*B;
S=z+(S-z)*B}s.w=N;s.A=r;s.U=S};q.Q.XC=function(s,N,r){var S=q.Q.afn,z=s.w,A=s.A,B=s.U;if(z==A&&A==B){r.w=r.A=r.U=0}else if(z>A){if(z>B){if(A>B){r.w=N;
r.A=S(z,A,B,N);r.U=0}else{r.w=N;r.U=S(z,B,A,N);r.A=0}}else{r.U=N;r.w=S(B,z,A,N);r.A=0}}else{if(z<B){if(A>B){r.A=N;
r.U=S(A,B,z,N);r.w=0}else{r.U=N;r.A=S(B,A,z,N);r.w=0}}else{r.A=N;r.w=S(A,z,B,N);r.U=0}}};q.Q.afn=function(s,N,r,S){return(N-r)*S/(s-r)};
q.Q.a7B=function(s,N,r,S,z,A,B,Y){var t=N.PS(S).PS(z),p=Math.max(0,t.x-N.x),f=Math.max(0,t.x-S.x),a=Math.max(0,t.y-N.y),D=Math.max(0,t.y-S.y),c=t.G,J=t.n,Z=N.G,Q=S.G,M=q.Q.qC,u=q.Q.vQ,P=new Uint32Array(s.buffer),m=new Uint32Array(r.buffer);
for(var l=0;l<J;l++){var i=(a+l)*Z+p,e=(D+l)*Q+f;for(var X=0;X<c;X++){var $=P[i+X],g=1;if($>>>24==0)continue;
if($>>>24==255&&A==1&&Y==0){m[e+X]=P[i+X];continue}var O=m[e+X],T=$&255,b=$>>>8&255,R=$>>>16&255,w=O&255,F=O>>>8&255,L=O>>>16&255,x=A,n=(O>>>24)*(1/255);
if(Y==0){x=($>>>24)*A*(1/255);g=n}var h=g*(1-x),_=x+h,H=1/_;m[e+X]=~~(.5+(Y*n+(1-Y)*_)*255)<<24|~~(.5+(R*x+L*h)*H)<<16|~~(.5+(b*x+F*h)*H)<<8|~~(.5+(T*x+w*h)*H)}}};
q.Q.a4C=function(s,N,r,S,z,A){var B=N.PS(S).PS(z),Y=Math.max(0,B.x-N.x),t=Math.max(0,B.x-S.x),p=Math.max(0,B.y-N.y),f=Math.max(0,B.y-S.y),a=B.G,D=B.n,c=N.G,J=S.G,Z=q.Q.qC,Q=q.Q.vQ,M=new Uint32Array(s.buffer),u=new Uint32Array(r.buffer),P=Math.floor(Math.random()*16777215),m=0;
for(var l=0;l<D;l++){var i=(p+l)*c+Y,e=(f+l)*J+t;for(var X=0;X<a;X++){var $=M[i+X];if($>>>24==0)continue;
if($>>24==255&&A==1){u[e+X]=$;continue}var O=u[e+X],T=($>>>24)*A*(1/255),b=(O>>>24)*(1/255),R=b*(1-T),w=T+R,F=$&255,L=$>>>8&255,x=$>>>16&255,g=O&255,n=O>>>8&255,h=O>>>16&255;
m>>>=8;if((X&3)==0)m=q.Q.fU(e+X+P);var _=w==0?0:1/w,H=Math.floor(w*(256*255))+(m&255)>>>8,G=Math.floor((x*T+h*R)*_+.5),j=Math.floor((L*T+n*R)*_+.5),v=Math.floor((F*T+g*R)*_+.5);
u[e+X]=H<<24|G<<16|j<<8|v}}};q.Q.Lh=function(s,N,r,S,z,A,B,Y){var t=q.il(s,N,r),p=q.il(S,z,A),f=Math.min,a=q.Q.asu,D=a(t,Y,0);
D=f(D,a(s,Y,8));D=f(D,a(N,Y,16));D=f(D,a(r,Y,24));var c=a(p,Y,4);c=f(c,a(S,Y,12));c=f(c,a(z,Y,20));c=f(c,a(A,Y,28));
c=Math.max(c,1-B);var J=Math.min(D,c);return J<0?0:J>1?1:J};q.Q.asu=function(s,N,l){return Math.min((s-N[l])*N[l+1],(s-N[l+3])*N[l+2])};
q.Q.a5E=function(s,N,r,S,z,A,B,Y){var t=1/255,p=t*A,f=Y.vX?1:0,a=Y.fill,D=Y.style,c=N.PS(S).PS(z),J=Math.max(0,c.x-N.x),Z=Math.max(0,c.x-S.x),Q=Math.max(0,c.y-N.y),M=Math.max(0,c.y-S.y),u=c.G,P=c.n,m=N.G,i=S.G,e=new Uint32Array(s.buffer),X=new Uint32Array(r.buffer);
for(var l=0;l<P;l++){var $=(Q+l)*m+J,O=(M+l)*i+Z;for(var T=0;T<u;T++,$++,O++){var b=e[$],_=1;if(b>>>24==0)continue;
var R=X[O],w=(b&255)*t,F=(b>>>8&255)*t,L=(b>>>16&255)*t,x=(R&255)*t,g=(R>>>8&255)*t,n=(R>>>16&255)*t,h=A;
if(f==0){h=(b>>>24)*p;_=(R>>>24)*t}if(Y.dP)h*=q.Q.Lh(w,F,L,x,g,n,_,Y.dP);var H=_*(1-h),G=h+H,j=G==0?0:255/G,v=D?1:h,C=((1-_)*h*w+(1-v)*_*x+v*_*B(w,x,(1+h-v)*a))*j,E=((1-_)*h*F+(1-v)*_*g+v*_*B(F,g,(1+h-v)*a))*j,I=((1-_)*h*L+(1-v)*_*n+v*_*B(L,n,(1+h-v)*a))*j;
G=h*a+_*(1-h*a);var dJ=~~(G*255+.5);X[O]=f*(R>>>24)+(1-f)*dJ<<24|I<<16|E<<8|C}}};q.Q.ajC=function(s,N,r,S,z,A,B,Y){var t=1/255,p=t*A,f=Y.vX?1:0,a=N.PS(S).PS(z),D=Math.max(0,a.x-N.x),c=Math.max(0,a.x-S.x),J=Math.max(0,a.y-N.y),Z=Math.max(0,a.y-S.y),Q=a.G,M=a.n,u=new Uint32Array(s.buffer),P=new Uint32Array(r.buffer),m={w:0,A:0,U:0},i={w:0,A:0,U:0},e={w:0,A:0,U:0};
for(var l=0;l<M;l++){var X=(J+l)*N.G+D,$=(Z+l)*S.G+c;for(var O=0;O<Q;O++,X++,$++){var T=u[X],b=P[$],R=(T&255)*t,w=(T>>>8&255)*t,F=(T>>>16&255)*t,L=(b&255)*t,x=(b>>>8&255)*t,g=(b>>>16&255)*t,n=A,h=1;
if(f==0){n=(T>>>24)*p;h=(b>>>24)*t}if(Y.dP)n*=q.Q.Lh(R,w,F,L,x,g,h,Y.dP);var _=h*(1-n),H=n+_,G=255/H;
m.w=R;m.A=w;m.U=F;i.w=L;i.A=x;i.U=g;B(m,i,e);var j=(((1-h)*R+h*e.w)*n+L*_)*G,v=(((1-h)*w+h*e.A)*n+x*_)*G,C=(((1-h)*F+h*e.U)*n+g*_)*G,E=f*(b>>>24)+(1-f)*Math.round(H*255);
P[$]=E<<24|C<<16|v<<8|j}}};q.Q.No=function(s){s=s^61^s>>>16;s=s+(s<<3);s=s^s>>>4;s=s*668265261;s=s^s>>15;
return(s&16777215)*(1/16777215)};q.Q.fU=function(s){s=s^61^s>>>16;s=s+(s<<3);s=s^s>>>4;s=s*668265261;
s=s^s>>>15;return s};q.Q.NJ=function(s){this.NE=s};q.Q.NJ.prototype.get=function(){var s=this.NE=q.Q.fU(this.NE);
return(s&16777215)*(1/16777215)};q.Q.apj=function(s,N,r,S,z,A,B,Y){var t=1/255,p=t*A,f=Math.round(A*(256*256*256/255)),a=N.PS(S).PS(z),D=Math.max(0,a.x-N.x),c=Math.max(0,a.x-S.x),J=Math.max(0,a.y-N.y),Z=Math.max(0,a.y-S.y),Q=a.G,M=a.n,u=new Uint32Array(s.buffer),P=new Uint32Array(r.buffer);
for(var l=0;l<M;l++){var m=(J+l)*N.G+D,i=(Z+l)*S.G+c;for(var e=0;e<Q;e++,m++,i++){var X=u[m],$=P[i],O=Y*255+(1-Y)*(X>>>24);
if((q.Q.fU(m)&16777215)>=O*f)continue;P[i]=X&16777215|Y*($>>>24)+(1-Y)*255<<24}}};q.Q.arD=function(s,N,r){for(var l=0;
l<s.length;l+=4){var S=r[l>>>2];if(S==0)continue;var z=S*(1/255),A=1/z,B=N[l],Y=N[l+1],t=N[l+2],p=s[l],f=s[l+1],a=s[l+2];
N[l]=Math.min(255,Math.max(0,Math.round((B-(1-z)*p)*A)));N[l+1]=Math.min(255,Math.max(0,Math.round((Y-(1-z)*f)*A)));
N[l+2]=Math.min(255,Math.max(0,Math.round((t-(1-z)*a)*A)));N[l+3]=255}};q.Q.QV=function(s,N,r,S,z,A,B,Y,t,p,f){if(p==null)p=!1;
if(f==null)f=[1,1,1];var a=255<<24|f[2]*16711680|f[1]*65280|f[0]*255,D=~a;if(z&&!N.nR(A)){var c=q.m(N.$()*4);
c.fill(B);q.lf(z,A,c,N);z=c;A=N}if(p){if(z==null)q.Q.ajf(s,N,r,S,z,Y,t,a,D);else q.Q.a9A(s,N,r,S,z,Y,t)}else{if(z==null)q.Q.alv(s,N,r,S,z,Y,t,a,D);
else q.Q.av9(s,N,r,S,z,Y,t)}};q.Q.alv=function(s,N,r,S,z,A,B,Y,t){var p=1/255,f=N.PS(S).PS(A),a=Math.max(0,f.x-N.x),D=Math.max(0,f.x-S.x),c=Math.max(0,f.y-N.y),J=Math.max(0,f.y-S.y),Z=f.G,Q=f.n,M=new Uint32Array(s.buffer),u=new Uint32Array(r.buffer),P=q.Q.qC,m=B*255&255;
for(var l=0;l<Q;l++){var i=(c+l)*N.G+a,e=(J+l)*S.G+D;for(var X=0;X<Z;X++,i++,e++){var $=M[i],O=u[e],T=$>>>24,b=O>>>24,R=q.TS(m*T+(255-m)*b),w=q.TS(T*m),F=q.TS(b*(255-m)),L=$&255,x=$>>>8&255,g=$>>>16&255,n=O&255,h=O>>>8&255,_=O>>>16&255,H=w*L+n*F,G=w*x+h*F,j=w*g+_*F;
H=P[R<<8|q.TS(H)];G=P[R<<8|q.TS(G)];j=P[R<<8|q.TS(j)];var v=R<<24|j<<16|G<<8|H;u[e]=t&O|Y&v}}};q.Q.ajf=function(s,N,r,S,z,A,B,Y,t){var p=1/255,f=N.PS(S).PS(A),a=Math.max(0,f.x-N.x),D=Math.max(0,f.x-S.x),c=Math.max(0,f.y-N.y),J=Math.max(0,f.y-S.y),Z=f.G,Q=f.n,M=new Uint32Array(s.buffer),u=new Uint32Array(r.buffer),P=q.Q.qC,m=B*16777215&16777215;
for(var l=0;l<Q;l++){var i=(c+l)*N.G+a,e=(J+l)*S.G+D;for(var X=0;X<Z;X++,i++,e++){if((q.Q.fU(i)&16777215)<m){u[e]=t&u[e]|Y&M[i]}}}};
q.Q.av9=function(s,N,r,S,z,A,B){var Y=1/255,t=N.PS(S).PS(A),p=Math.max(0,t.x-N.x),f=Math.max(0,t.x-S.x),a=Math.max(0,t.y-N.y),D=Math.max(0,t.y-S.y),c=t.G,J=t.n,Z=new Uint32Array(s.buffer),Q=new Uint32Array(r.buffer),M=q.Q.qC;
for(var l=0;l<J;l++){var u=(a+l)*N.G+p,P=(D+l)*S.G+f;for(var m=0;m<c;m++,u++,P++){var i=z[u]*B&255;if(i==0)continue;
if(i==255){Q[P]=Z[u];continue}var e=Z[u],X=Q[P],$=e>>>24,O=X>>>24,T=q.TS(i*$+(255-i)*O),b=q.TS($*i),R=q.TS(O*(255-i)),w=e&255,F=e>>>8&255,L=e>>>16&255,x=X&255,g=X>>>8&255,n=X>>>16&255,h=M[T<<8|q.TS(b*w+x*R)],_=M[T<<8|q.TS(b*F+g*R)],H=M[T<<8|q.TS(b*L+n*R)];
Q[P]=T<<24|H<<16|_<<8|h}}};q.Q.a9A=function(s,N,r,S,z,A,B){var Y=1/255,t=N.PS(S).PS(A),p=Math.max(0,t.x-N.x),f=Math.max(0,t.x-S.x),a=Math.max(0,t.y-N.y),D=Math.max(0,t.y-S.y),c=t.G,J=t.n,Z=new Uint32Array(s.buffer),Q=new Uint32Array(r.buffer),M=q.Q.qC,u=Math.round(B*257);
for(var l=0;l<J;l++){var P=(a+l)*N.G+p,m=(D+l)*S.G+f;for(var i=0;i<c;i++,P++,m++){var e=z[P]*u;if((q.Q.fU(P)&65535)<e)Q[m]=Z[P]}}};
q.Q.mX=function(s,N,r,S,z,A,B){var Y=1/255,t=N.PS(S).PS(A),p=Math.max(0,t.x-N.x),f=Math.max(0,t.x-S.x),a=Math.max(0,t.y-N.y),D=Math.max(0,t.y-S.y),c=t.G,J=t.n,Z=new Uint32Array(s.buffer),Q=new Uint32Array(r.buffer),M=Math.floor(Math.random()*S.$()),u=q.Q.ar$;
for(var l=0;l<J;l++){var P=(a+l)*N.G+p,m=(D+l)*S.G+f;for(var i=0;i<c;i++){var e=z[P+i]*B;if(e==0)continue;
if(e==255){Q[m+i]=Z[P+i];continue}var X=Z[P+i],$=Q[m+i],O=X>>>24,T=$>>>24,b=O*e*(1/255),R=T*(255-e)*(1/255),w=X&255,F=X>>>8&255,L=X>>>16&255,x=$&255,g=$>>>8&255,n=$>>>16&255,h=q.Q.fU(m+i+M),_=Math.floor((b+R)*256+.5)+(h>>>0&255)>>>8,H=_==0?0:256/(b+R),G=w*b+x*R,j=F*b+g*R,v=L*b+n*R,C=Math.floor(G*H+.5)+(h>>>8&255)>>>8,E=Math.floor(j*H+.5)+(h>>>16&255)>>>8,I=Math.floor(v*H+.5)+(h>>>24&255)>>>8;
Q[m+i]=_<<24|I<<16|E<<8|C}}};q.Q.ar$=function(s){return Math.floor(s+Math.random())};q.Q.lW=function(s,N,r,S,z,A,B){var Y=1/255,t=N.PS(S).PS(A),p=Math.max(0,t.x-N.x),f=Math.max(0,t.x-S.x),a=Math.max(0,t.y-N.y),D=Math.max(0,t.y-S.y),c=t.G,J=t.n;
for(var l=0;l<J;l++){var Z=(a+l)*N.G+p,Q=(D+l)*S.G+f;for(var M=0;M<c;M++,Z++,Q++){var u=B*z[Z]*Y;if(u==0)continue;
if(u==1){r[Q]=s[Z];continue}r[Q]=s[Z]*u+r[Q]*(1-u)}}};q.aqX=function(){function s(A){var B=A*.85;return Math.exp(-(B*B)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function N(A,B){var Y=A<B?1:s((A-B)/Math.pow(1.001-B,.86));
return Y}var r=[];function S(A){if(r[A])return r[A];var B=Math.pow(A,.55),Y=new Float64Array(8e3),t=0,p=8e3;
for(var l=0;l<8e3;l++){var f=N(l*(1.55/4e3),B);if(f>=1)t=l;else if(f<=0&&p==8e3)p=l;Y[l]=f}var a=[Y,t,p];
r[A]=a;return a}function z(A,B,Y){var t=1+.55*(1-B),p=Math.round(Y*A*t)+2,f=new hq(0,0,p,p),a=q.m(p*p*4),D=new Uint32Array(a.buffer),c=[a,f],J=p/2,Z=t/(J-1),Q=Date.now(),M=S(B),u=Math.round(8e3/J),P=M[0],m=M[1]-u,i=M[2]+u,e=Math.min(p,p+1>>>1),X=Z*.4*(4e3/1.55),$=q.m(8e3);
for(var l=0;l<8e3;l++){var O=l,T=l,b=~~Math.max(0,O-X-X),R=~~Math.max(0,O-X),w=~~(O+X),F=~~(O+X+X),L=~~(.5+255*(1/5)*(P[T]+P[b]+P[R]+P[w]+P[F]));
$[l]=L;if(L==0)break}for(var l=0;l<e;l++){var x=Z*(l-J+.5),g=x*x,n=l*p,h=(p-1-l)*p;for(var _=0;_<e;_++){var H=Z*(_-J+.5),T=~~(Math.sqrt(H*H+g)*(4e3/1.55));
if(i<T)continue;else if(T<m){var L=4278190080;while(_<e){var G=p-1-_;D[n+_]=L;D[n+G]=L;D[h+_]=L;D[h+G]=L;
_++}break}else{var L=$[T]<<24,G=p-1-_;D[n+_]=L;D[n+G]=L;D[h+_]=L;D[h+G]=L}}}return c}return{akj:z}}();
q.LN={};q.LN.a0z=function(s,N,r,S,z,A){q.LN.HK(s,N,r,S,z,A,null,0)};q.LN.a1M=function(s,N,r,S,z){q.LN.HK(s,N,r,S,z,null,null,0)};
q.LN.aw6=function(s,N,r,S,z,A,B){q.LN.HK(s,N,r,S,z,null,A,B*.5)};q.LN.HK=function(s,N,r,S,z,A,B,Y){var t=0,R=0,w=1e9,F=0,L=1e9,x=0,g=1e9,n=0,h=0,_=0,H=0;
if(A){t=z*.5;z=3+Math.round((z-3)*.75)}if(B){z=Math.round(z*2.2)}var p=1/z,f=Math.floor(N*p)+1,a=Math.floor(r*p)+1,D=[],c=new Uint8Array(f*a*4),J=B?.5:1,Z=A?64:0;
for(var Q=0;Q<a;Q++){var M=B?.5*(Q&1):0;for(var u=0;u<f;u++){var P=(u+Math.random()*J+M)*z,m=(Q+Math.random()*J)*z;
D.push(P,m);var i=Math.min(N-1,Math.floor(P)),e=Math.min(r-1,Math.floor(m)),X=(e*N+i)*4,$=(Q*f+u)*4;
for(var l=0;l<4;l++)c[$+l]=Math.max(0,Math.min(255,Math.floor(s[X+l]+(Math.random()-.5)*Z)))}}var O=A?A:B?B:[0,0,0],T=f*a*2,b=[-f-1,-f,-f+1,-1,0,1,f-1,f,f+1];
for(var Q=0;Q<r;Q++){_=0;for(var u=0;u<N;u++){var G=u+.5,j=Q+.5,v=Math.floor(j*p),C=Math.floor(G*p),E=v*f+C,fG=0,o=0;
if(_>1+Y){w=q.LN.f$(D,R,G,j);n=Math.sqrt(w);_--;H++}else{w=L=g=1e9;for(var l=0;l<b.length;l++){var I=(E+b[l])*2;
if(I<0||I>=T)continue;var dJ=q.LN.f$(D,I,G,j);if(dJ<g){if(dJ<L){if(dJ<w){x=F;g=L;F=R;L=w;R=I;w=dJ}else{x=F;
g=L;F=I;L=dJ}}else{x=I;g=dJ}}}n=Math.sqrt(w);h=Math.sqrt(L);_=h-(n+h)*.5}if(B==null){var i4=(n+h)*.5,df=A?Math.max(0,i4-t):0;
fG=Math.max(0,Math.min(1,.5+i4-n-df));o=Math.max(0,Math.min(1,1-(.5+i4-n)-df))}else{var eO=Math.min(q.LN.H_(D,R,F,G,j),q.LN.H_(D,R,x,G,j));
fG=Math.max(0,Math.min(1,eO-Y*.5));if(G<Y||N-Y<G||j<Y||r-Y<j)fG=0;o=0}var cO=1-o-fG,$=Q*N+u<<2,ej=R<<1,cn=F<<1;
S[$+0]=Math.floor(.5+fG*c[ej+0]+o*c[cn+0]+cO*O[0]);S[$+1]=Math.floor(.5+fG*c[ej+1]+o*c[cn+1]+cO*O[1]);
S[$+2]=Math.floor(.5+fG*c[ej+2]+o*c[cn+2]+cO*O[2]);S[$+3]=s[$+3]}}};q.LN.f$=function(s,N,r,S){var z=r-s[N],A=S-s[N+1];
return z*z+A*A};q.LN.H_=function(s,N,r,S,z){var A=s[N],B=s[N+1],Y=s[r],t=s[r+1],p=(A+Y)*.5,f=(B+t)*.5,a=p+(t-B),D=f-(Y-A),c=D-f,J=a-p;
return Math.abs(c*S-J*z+a*f-D*p)/Math.sqrt(J*J+c*c)};q.W9={};q.W9.N3=function(s){if(q.W9.q4.length<s)q.W9.q4=q.m(s);
return q.W9.q4};q.W9.q4=q.m(0);q.W9.dx=function(s){if(q.W9.LC.length<s)q.W9.LC=new Float32Array(s);return q.W9.LC};
q.W9.LC=new Float32Array(0);q.W9.ju=function(s,N,r,S){var z=r.G,A=r.n;q.W9.ass(s,N,z,A,S)};q.W9.oU=function(s,N,r,S){var z=r.G,A=r.n;
q.W9.anb(s,N,z,A,S)};q.W9.Gu=function(s,N,r){var S=N.G,z=N.n;q.W9.a0a(s,S,z,r)};q.W9.Hn=function(s,N,r,S,z){var A=r.G,B=r.n;
q.W9.akO(s,N,A,B,S,z)};q.W9.MU=function(s,N,r,S){var z=r.G,A=r.n;S=Math.round(S);var B=q.W9.N3(z*A);
q.r8(s,N);q.W9.DP(N,B,z,A,S)};q.W9.C0=function(s,N,r){var S=N.G,z=N.n;r=Math.round(r);var A=q.W9.N3(S*z*4);
q.W9.rK(s,A,S,z,r)};q.W9.km=function(s,N,r,S){var z=r.G,A=r.n;S=Math.round(S);var B=q.W9.dx(z*A);q.r8(s,N);
q.W9.xU(N,B,z,A,S)};q.W9.nX=function(s,N,r){var S=N.G,z=N.n;r=Math.round(r);var A=q.W9.N3(S*z*4);q.W9.hT(s,A,S,z,r);
q.r8(A,s)};q.W9.RX=function(s,i3){var N=Math.sqrt(12*s*s/i3+1),r=Math.floor(N);if(r%2==0)r--;var S=r+2,z=(12*s*s-i3*r*r-4*i3*r-3*i3)/(-4*r-4),A=Math.round(z),B=[];
for(var l=0;l<i3;l++)B.push(l<A?r:S);return B};q.W9.ass=function(s,N,r,S,z){var A=q.W9.RX(z,3),B=q.W9.N3(r*S);
q.r8(s,N);q.W9.DP(N,B,r,S,A[0]-1>>1);q.W9.DP(N,B,r,S,A[1]-1>>1);q.W9.DP(N,B,r,S,A[2]-1>>1)};q.W9.anb=function(s,N,r,S,z){var A=q.W9.RX(z,2),B=q.W9.N3(r*S);
q.r8(s,N);q.W9.DP(N,B,r,S,A[0]-1>>1);q.W9.DP(N,B,r,S,A[1]-1>>1)};q.W9.a0a=function(s,N,r,S){var z=q.W9.RX(S,3),A=q.W9.N3(N*r*4);
q.W9.rK(s,A,N,r,z[0]-1>>1);q.W9.rK(s,A,N,r,z[1]-1>>1);q.W9.rK(s,A,N,r,z[2]-1>>1)};q.W9.akO=function(s,N,r,S,z,A){if(A==null)A=3;
var B=q.W9.RX(z,A),Y=q.W9.dx(r*S);q.r8(s,N);for(var l=0;l<A;l++)q.W9.xU(N,Y,r,S,(B[l]-1)/2)};q.W9.DP=function(s,N,r,S,z){q.W9.a4L(s,N,r,S,z);
q.W9.ao2(N,s,r,S,z)};q.W9.rK=function(s,N,r,S,z){q.W9.hT(s,N,r,S,z);q.W9.atN(N,s,r,S,z)};q.W9.xU=function(s,N,r,S,z){q.W9.abz(s,N,r,S,z);
q.W9.a7_(N,s,r,S,z)};q.W9._8=[];q.W9.RD=function(s){if(q.W9._8[s])return q.W9._8[s];var N=1/(s+s+1),r=(s+s+1)*256,S=q.m(r);
for(var l=0;l<r;l++)S[l]=Math.round(l*N);q.W9._8[s]=S;return S};q.W9.a4L=function(s,N,r,S,z){var A=1/(z+z+1),B=r-z-z-1,Y=q.W9.RD(z);
for(var l=0;l<S;l++){var t=l*r,p=t,f=t+z,a=s[t],D=s[t+r-1],c=(z+1)*a;for(var J=0;J<z;J++)c+=s[t+J];for(var J=0;
J<=z;J++){c+=s[f+J]-a;N[t+J]=Y[c]}f+=z+1;t+=z+1;for(var J=0;J<B;J++){c+=s[f+J]-s[p+J];N[t+J]=Y[c]}f+=B;
p+=B;t+=B;for(var J=r-z;J<r;J++){c+=D-s[p++];N[t++]=Y[c]}}};q.W9.hT=function(s,N,r,S,z){var A=r<<2,B=z<<2,Y=1/(z+z+1),t=r-z-z-1,p=t<<2,f=q.W9.RD(z);
for(var l=0;l<S;l++){var a=l*A,D=a,c=a+B,J=a+A,Z=s[a],Q=s[a+1],M=s[a+2],u=s[a+3],P=(z+1)*Z,m=(z+1)*Q,i=(z+1)*M,e=(z+1)*u;
for(var X=0;X<B;X+=4){P+=s[a+X];m+=s[a+X+1];i+=s[a+X+2];e+=s[a+X+3]}for(var X=0;X<=B;X+=4){P+=s[c]-Z;
N[a]=f[P];m+=s[c+1]-Q;N[a+1]=f[m];i+=s[c+2]-M;N[a+2]=f[i];e+=s[c+3]-u;N[a+3]=f[e];c+=4;a+=4}for(var X=0;
X<p;X+=4){P+=s[c+X]-s[D+X];N[a+X]=f[P];m+=s[c+X+1]-s[D+X+1];N[a+X+1]=f[m];i+=s[c+X+2]-s[D+X+2];N[a+X+2]=f[i];
e+=s[c+X+3]-s[D+X+3];N[a+X+3]=f[e]}c+=p;D+=p;a+=p;Z=s[J-4];Q=s[J-3];M=s[J-2];u=s[J-1];for(var X=r-z;
X<r;X++){P+=Z-s[D];N[a]=f[P];m+=Q-s[D+1];N[a+1]=f[m];i+=M-s[D+2];N[a+2]=f[i];e+=u-s[D+3];N[a+3]=f[e];
D+=4;a+=4}}};q.W9.abz=function(s,N,r,S,z){var A=1/(z+z+1),B=r-z-z-1;for(var l=0;l<S;l++){var Y=l*r,t=Y,p=Y+z,f=s[Y],a=s[Y+r-1],D=(z+1)*f;
for(var c=0;c<z;c++)D+=s[Y+c];for(var c=0;c<=z;c++){D+=s[p+c]-f;N[Y+c]=D*A}p+=z+1;Y+=z+1;for(var c=0;
c<B;c++){D+=s[p+c]-s[t+c];N[Y+c]=D*A}p+=B;t+=B;Y+=B;for(var c=r-z;c<r;c++){D+=a-s[t++];N[Y++]=D*A}}};
q.W9.ao2=function(s,N,r,S,z){var A=1/(z+z+1),B=S-z-z-1,Y=q.W9.RD(z);for(var l=0;l<r;l++){var t=l,p=t,f=t+z*r,a=s[t],D=s[t+r*(S-1)],c=(z+1)*a;
for(var J=0;J<z;J++)c+=s[t+J*r];for(var J=0;J<=z;J++){c+=s[f]-a;N[t]=Y[c];f+=r;t+=r}for(var J=0;J<B;
J++){var Z=J*r;c+=s[f+Z]-s[p+Z];N[t+Z]=Y[c]}p+=B*r;f+=B*r;t+=B*r;for(var J=S-z;J<S;J++){c+=D-s[p];N[t]=Y[c];
p+=r;t+=r}}};q.W9.atN=function(s,N,r,S,z){var A=r<<2,B=z<<2,Y=1/(z+z+1),t=S-z-z-1,p=t<<2,f=q.W9.RD(z);
for(var l=0;l<r;l++){var a=l<<2,D=a,c=a+z*A,J=a+A*(S-1),Z=s[a],Q=s[a+1],M=s[a+2],u=s[a+3],P=(z+1)*Z,m=(z+1)*Q,i=(z+1)*M,e=(z+1)*u;
for(var X=0;X<z;X++){var $=a+X*A;P+=s[$];m+=s[$+1];i+=s[$+2];e+=s[$+3]}for(var X=0;X<=z;X++){P+=s[c]-Z;
N[a]=f[P];m+=s[c+1]-Q;N[a+1]=f[m];i+=s[c+2]-M;N[a+2]=f[i];e+=s[c+3]-u;N[a+3]=f[e];c+=A;a+=A}for(var X=0;
X<t;X++){var O=X*A;P+=s[c+O]-s[D+O];N[a+O]=f[P];m+=s[c+O+1]-s[D+O+1];N[a+O+1]=f[m];i+=s[c+O+2]-s[D+O+2];
N[a+O+2]=f[i];e+=s[c+O+3]-s[D+O+3];N[a+O+3]=f[e]}D+=t*A;c+=t*A;a+=t*A;Z=s[J];Q=s[J+1];M=s[J+2];u=s[J+3];
for(var X=S-z;X<S;X++){P+=Z-s[D];N[a]=f[P];m+=Q-s[D+1];N[a+1]=f[m];i+=M-s[D+2];N[a+2]=f[i];e+=u-s[D+3];
N[a+3]=f[e];D+=A;a+=A}}};q.W9.a7_=function(s,N,r,S,z){var A=1/(z+z+1),B=S-z-z-1;for(var l=0;l<r;l++){var Y=l,t=Y,p=Y+z*r,f=s[Y],a=s[Y+r*(S-1)],D=(z+1)*f;
for(var c=0;c<z;c++)D+=s[Y+c*r];for(var c=0;c<=z;c++){D+=s[p]-f;N[Y]=D*A;p+=r;Y+=r}for(var c=0;c<B;c++){var J=c*r;
D+=s[p+J]-s[t+J];N[Y+J]=D*A}t+=B*r;p+=B*r;Y+=B*r;for(var c=S-z;c<S;c++){D+=a-s[t];N[Y]=D*A;t+=r;Y+=r}}};
q.Xp={};q.Xp.m=function(s,N,r,S){var z=[];for(var A=0;A<4;A++)for(var B=0;B<4;B++)z.push(s+r*B/3,N+S*A/3);
return z};q.Xp.rT=function(s,N){var r=s.slice(0);for(var l=0;l<4;l++)for(var S=0;S<4;S++){var z=2*(l*4+S),A=2*(S*4+(3-l));
if(N){var B=z;z=A;A=B}r[A]=s[z];r[A+1]=s[z+1]}return r};q.Xp.bK=q.m(0);q.Xp.drawImage=function(s,N,r,S,z,A,B){var Y=!1,t=Date.now(),p=2,f=r+2*p,a=S+2*p,D=new hq(p,p,r,S),c=D.clone(),u=50;
c.r6(p,p);var J=q.Xp.bK;if(J.length!=c.$()*4)J=q.Xp.bK=q.m(c.$()*4);else J.fill(0);q.LP(N,D,J,c);if(Y)console.log(Date.now()-t,"copy rect");
t=Date.now();q.YG(J);if(Y)console.log(Date.now()-t,"multiply alpha");t=Date.now();var Z=[],Q=[],M=[];
for(var P=0;P<u+1;P++)for(var m=0;m<u+1;m++){var i=m/u,e=P/u;Z.push(f*i,a*e);if(m<u&&P<u){var X=P*(u+1)+m,$=X+1,O=X+u+1,T=O+1;
Q.push(X,$,O);Q.push(O,$,T)}var b=q.Xp.ard(s,i,e);M.push(-b)}var R=Z.slice(0);q.Xp.D(s,R,new hq(p,p,r,S));
q.g.D(R,new gF(1,0,0,1,-A.x,-A.y),R);if(Y)console.log(Date.now()-t,"mesh built");t=Date.now();var w=A.G,F=A.n;
q.$m.Ow(J,f,a,z,w,F,Z,R,M,Q);if(Y)console.log(Date.now()-t,"rendered");t=Date.now();q.wR(z);if(Y)console.log(Date.now()-t,"divided");
t=Date.now()};q.Xp.Q_=new Array(10);q.Xp.ad8=function(s,N){var r=200,S=0,z=0,A=1e9,B=q.Xp.Q_;for(var Y=0;
Y<r+1;Y++)for(var t=0;t<r+1;t++){var p=t/r,f=Y/r;q.Xp.yH(s,p,f,B);var a=B[8]-N.x,D=B[9]-N.y,c=a*a+D*D;
if(c<A){A=c;S=p;z=f}}return[S,z]};q.Xp.D=function(s,N,r){var S=r.x,z=r.y,A=1/r.G,B=1/r.n,Y=q.Xp.Q_;for(var t=0;
t<N.length;t+=2){var p=(N[t]-S)*A,f=(N[t+1]-z)*B;q.Xp.yH(s,p,f,Y);N[t]=Y[8];N[t+1]=Y[9]}};q.Xp.ard=function(s,N,r){var S,z,A,B,Y=q.Xp.Q_;
q.Xp.aql(s,N,r,Y);S=Y[8];z=Y[9];q.Xp.ag9(s,N,r,Y);A=Y[8];B=Y[9];return S*B-z*A};q.Xp.yH=function(s,N,r,S){q.Xp.QG(S,0,r);
q.Xp.QG(S,4,N);q.Xp.Jm(s,S)};q.Xp.aql=function(s,N,r,S){q.Xp.QG(S,0,r);q.Xp.zV(S,4,N);q.Xp.Jm(s,S)};
q.Xp.ag9=function(s,N,r,S){q.Xp.zV(S,0,r);q.Xp.QG(S,4,N);q.Xp.Jm(s,S)};q.Xp.zV=function(s,l,N){var r=1-N;
s[l]=-3*(r*r);s[l+1]=3*(r*r)-6*(N*r);s[l+2]=6*(N*r)-3*(N*N);s[l+3]=3*(N*N)};q.Xp.QG=function(s,l,N){var r=1-N;
s[l]=r*(r*r);s[l+1]=3*N*(r*r);s[l+2]=3*(N*N)*r;s[l+3]=N*N*N};q.Xp.Jm=function(s,N){var r=0,S=0,z=0,A=N[0],B=N[1],Y=N[2],t=N[3],p=N[4],f=N[5],a=N[6],D=N[7];
z=A*p;r+=s[0]*z;S+=s[1]*z;z=A*f;r+=s[2]*z;S+=s[3]*z;z=A*a;r+=s[4]*z;S+=s[5]*z;z=A*D;r+=s[6]*z;S+=s[7]*z;
z=B*p;r+=s[8]*z;S+=s[9]*z;z=B*f;r+=s[10]*z;S+=s[11]*z;z=B*a;r+=s[12]*z;S+=s[13]*z;z=B*D;r+=s[14]*z;S+=s[15]*z;
z=Y*p;r+=s[16]*z;S+=s[17]*z;z=Y*f;r+=s[18]*z;S+=s[19]*z;z=Y*a;r+=s[20]*z;S+=s[21]*z;z=Y*D;r+=s[22]*z;
S+=s[23]*z;z=t*p;r+=s[24]*z;S+=s[25]*z;z=t*f;r+=s[26]*z;S+=s[27]*z;z=t*a;r+=s[28]*z;S+=s[29]*z;z=t*D;
r+=s[30]*z;S+=s[31]*z;N[8]=r;N[9]=S};q.Xm={};q.Xm.a2M=function(s,N,r){var S=Date.now(),z=new ArrayBuffer(N*r*16),A=q.Xm.a9G(s,N,r,z),B=q.Xm.acQ(N,r,z);
return{a2:B,Yc:A}};q.Xm.aaV=function(s,N,r){var S=Math.round(s.length/8),z=new Uint32Array(S),A=new Uint8Array(S),B=new Uint32Array(S);
q.TM(z,4294967295,0);z[r]=0;var Y=new fh(S);Y.push(r,z[r]);var t={a2:s,Yc:N,PG:z,L8:A,l8:B,Mp:Y,a1a:r};
return t};q.Xm.y_=function(s,N){var r=s.a2,S=s.Yc,z=s.PG,A=s.L8,B=s.l8,Y=s.Mp;while(!Y.Nf()&&(N==null||A[N]==0)){var t=Y.pop();
A[t]=1;for(var l=0;l<8;l++){var p=r[8*t+l],f=t+p;if(p==0||A[f])continue;var a=z[t]+S[8*t+l];if(Y.contains(f)&&a<z[f])Y.remove(f,z[f]);
if(!Y.contains(f)){z[f]=a;B[f]=t;Y.push(f,z[f])}}}};function fh(s){this.hq=new Uint32Array(s);this.list=[];
this.CM=0;this.F_=4294967295}fh.prototype.Nf=function(){return this.CM==0};fh.prototype.push=function(s,N){var r=this.list;
if(r[N]==null)r[N]=[];r[N].push(s);this.CM++;this.hq[s]=r[N].length-1+1;this.F_=Math.min(this.F_,N)};
fh.prototype.pop=function(){this.CM--;var s=this.list,N=this.F_,r=s[N].pop();if(s[N].length==0)s[N]=null;
this.bs();this.hq[r]=0;return r};fh.prototype.contains=function(s){return this.hq[s]!=0};fh.prototype.remove=function(s,N){this.CM--;
var r=this.list,l=this.hq[s]-1;if(l==r[N].length-1)r[N].pop();else{var S=r[N].pop();r[N][l]=S;this.hq[S]=l+1}if(r[N].length==0)r[N]=null;
this.hq[s]=0;this.bs()};fh.prototype.bs=function(){if(this.CM==0){this.F_=4294967295;return}var s=this.F_,N=this.list;
while(N[s]==null)s++;this.F_=s};q.Xm.a2O=function(s,N,r,S){var z=new Int16Array(S);for(var A=0;A<r;A++)for(var B=0;
B<N;B++){var l=A*N+B,Y=0;if(1<B&&B<N-2&&1<A&&A<r-2){Y+=s[l-N-N];Y+=s[l-N-1]+2*s[l-N]+s[l-N+1];Y+=s[l-2]+2*s[l-1]-16*s[l]+2*s[l+1]+s[l+2];
Y+=s[l+N-1]+2*s[l+N]+s[l+N+1];Y+=s[l+N+N]}else Y=-16*s[l];z[l]=Y}return z};q.Xm.adb=function(s,N,r,S){if(S==null)S=128;
var z=new Uint8Array(N*r);for(var A=1;A<r-1;A++)for(var B=1;B<N-1;B++){var l=A*N+B;z[l]=q.Xm.an_(s[l],s[l-1],s[l+1],s[l-N],s[l+N],S)}return z};
q.Xm.an_=function(s,N,r,S,z,A){var B=Math.abs(s);return s*N<0&&B<Math.abs(N)&&Math.abs(N-s)>A||s*r<0&&B<Math.abs(r)&&Math.abs(r-s)>A||s*S<0&&B<Math.abs(S)&&Math.abs(S-s)>A||s*z<0&&B<Math.abs(z)&&Math.abs(z-s)>A?1:0};
q.Xm.aeo=function(s,N,r,S){var z=new Float32Array(S),A=0;new Uint32Array(S).fill(0);for(var B=0;B<r;
B++)for(var Y=0;Y<N;Y++){var t=0,p=0,l=B*N+Y,f=l*3;if(0<Y&&Y<N-1)t=s[l+1]-s[l-1];if(0<B&&B<r-1)p=s[l+N]-s[l-N];
var a=z[f+2]=Math.sqrt(t*t+p*p);if(a!=0){var D=1/a;z[f]=t*D;z[f+1]=p*D}if(a>A)A=a}var c=N*r,J=A==0?0:1/A;
for(var l=0;l<c;l++)z[l*3+2]=1-z[l*3+2]*J;return z};q.Xm.a5Z=function(s,N,r){return r[~~((.5+.5*s)*255)]+r[~~((.5+.5*N)*255)]};
q.Xm.a9G=function(s,N,r,S){var z=Date.now(),A=q.Xm.a2O(s,N,r,S),B=q.Xm.adb(A,N,r),Y=q.Xm.aeo(s,N,r,S),t=new Float32Array(256);
for(var l=0;l<256;l++)t[l]=Math.acos(-1+2*l/255)*(.95/Math.PI);var p=[-1,0,1,1,1,0,-1,-1],f=[-1,-1,-1,0,1,1,1,0];
for(var l=0;l<8;l++){var a=1/Math.sqrt(p[l]*p[l]+f[l]*f[l]);p[l]*=a;f[l]*=a}var D=[p[0],f[0],p[1],f[1],p[2],f[2],p[3],f[3]],c=[-N-1,-N,-N+1,1],J=new Uint8Array(N*r*8);
new Uint32Array(J.buffer).fill(4294967295);var Z=N*r;for(var Q=1;Q<r-1;Q++)for(var M=1;M<N-1;M++){var u=Q*N+M,P=1-B[u],m=Y[u*3+2],i=Y[3*u+1],e=-Y[3*u];
for(var X=0;X<4;X++){var $=u+c[X];q.Xm.a8T(u,$,X,J,B,Y,P,m,i,e,D,t)}}return J};q.Xm.a8T=function(s,N,r,S,z,A,B,Y,t,p,f,a){var D=1-z[N],c=(r&1)==0?1:Math.SQRT1_2,J=A[N*3+2]*c,Z=A[3*N+1],Q=-A[3*N],M=Y*c,u=f[r+r],P=f[r+r+1],m=t*u+p*P,i=Z*u+Q*P;
if(m+i<0){m=-m;i=-i}var e=q.Xm.a5Z(m,i,a);S[(s<<3)+r]=q.Xm.bY(D,e,J);S[(N<<3)+r+4]=q.Xm.bY(B,e,M)};q.Xm.bY=function(s,N,r){return 1+~~(.5+20*(.43*s+.43*N+.14*r))};
q.Xm.acQ=function(s,N,r){var S=new Int16Array(r),z=S,l=0,A=0;new Uint32Array(r).fill(0);for(var B=0;
B<N;B++)for(var Y=0;Y<s;Y++){if(B>0&&Y>0)z[A+0]=-s-1;if(B>0)z[A+1]=-s;if(B>0&&Y<s-1)z[A+2]=-s+1;if(Y<s-1)z[A+3]=1;
if(B<N-1&&Y<s-1)z[A+4]=s+1;if(B<N-1)z[A+5]=s;if(B<N-1&&Y>0)z[A+6]=s-1;if(Y>0)z[A+7]=-1;l++;A+=8}return S};
q.DD={};q.DD.A$=function(s){var N=s.slice(0),r=0;for(var l=0;l<s.length;l++)r+=s[l];for(var l=0;l<s.length;
l++)N[l]/=r;return N};q.DD.OW=[q.DD.A$([1,2,1,2,16,2,1,2,1]),q.DD.A$([1,2,1,2,4,2,1,2,1]),q.DD.A$([0,-1,0,-1,8,-1,0,-1,0]),q.DD.A$([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
q.DD.tn=function(s,N,r,S,z,A,B,Y){if(B==null)B=!1;if(Y==null)Y=!1;var t=Math.floor(Math.sqrt(z.length)),p=t-1>>>1,f=new Uint32Array(s.buffer),N=new Uint8ClampedArray(N.buffer);
for(var l=0;l<S;l++)for(var a=0;a<r;a++){var D=0,c=0,J=0,Z=0;for(var Q=0;Q<t;Q++)for(var M=0;M<t;M++){var u=z[Q*t+M];
if(u==0)continue;var P=a-p+M,m=l-p+Q;if(P<0)P=0;else if(P>r-1)P=r-1;if(m<0)m=0;else if(m>S-1)m=S-1;if(Y&&f[m*r+P]>>>24==0){m=l;
P=a}var i=f[m*r+P];D+=(i&255)*u;c+=(i>>>8&255)*u;J+=(i>>>16&255)*u;Z+=(i>>>24&255)*u}if(B){if(D<0)D=-D;
if(c<0)c=-c;if(J<0)J=-J;if(Z<0)Z=-Z}if(Y){D=Math.max(0,Math.min(255,D));c=Math.max(0,Math.min(255,c));
J=Math.max(0,Math.min(255,J));Z=Math.max(0,Math.min(255,Z))}var e=l*r+a<<2;N[e]=~~(.5+D);N[e+1]=~~(.5+c);
N[e+2]=~~(.5+J);N[e+3]=255-A&N[e+3]|A&~~(.5+Z)}};q.DD.iu=function(s,N,r,S){var z=s.length,A=new Uint8Array(z);
q.DD.tn(s,N,r,S,q.DD.OW[4],0,!0);q.DD.tn(s,A,r,S,q.DD.OW[5],0,!0);for(var l=0;l<z;l+=4){var B=N[l],Y=N[l+1],t=N[l+2],p=N[l+3],f=A[l],a=A[l+1],D=A[l+2],c=A[l+3];
N[l]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+f*f)));N[l+1]=255-Math.max(0,Math.min(255,Math.sqrt(Y*Y+a*a)));
N[l+2]=255-Math.max(0,Math.min(255,Math.sqrt(t*t+D*D)))}};q.DD.Vo=function(s,N,r,S){var z=s.length,A=new Uint8Array(z);
q.DD.LB(s,N,r,S,q.DD.OW[4],!0);q.DD.LB(s,A,r,S,q.DD.OW[5],!0);for(var l=0;l<z;l++){var B=N[l],Y=A[l];
N[l]=255-Math.max(0,Math.min(255,Math.sqrt(B*B+Y*Y)))}};q.DD.LB=function(s,N,r,S,z,A){N=new Uint8ClampedArray(N.buffer);
var B=[-r-1,-r,-r+1,-1,0,1,r-1,r,r+1],Y=S-1,t=r-1;for(var l=1;l<Y;l++)for(var p=1;p<t;p++){var f=l*r+p,a=q.DD.yT(s,f,r,z);
if(A){if(a<0)a=-a}N[f]=~~(a+.5)}};q.DD.yT=function(s,N,r,S){return s[N-r-1]*S[0]+s[N-r]*S[1]+s[N-r+1]*S[2]+s[N-1]*S[3]+s[N]*S[4]+s[N+1]*S[5]+s[N+r-1]*S[6]+s[N+r]*S[7]+s[N+r+1]*S[8]};
q.DD.XP=function(s,N,r,S,z){var A=[-r-1,-r,-r+1,-1,0,1,r-1,r,r+1],B=S-1,Y=r-1;for(var l=1;l<B;l++)for(var t=1;
t<Y;t++){var p=l*r+t;N[p]=q.DD.a71(s,p,r,z)}};q.DD.a71=function(s,N,r,S){return s[N-r-1]*S[0]+s[N-r]*S[1]+s[N-r+1]*S[2]+s[N-1]*S[3]+s[N]*S[4]+s[N+1]*S[5]+s[N+r-1]*S[6]+s[N+r]*S[7]+s[N+r+1]*S[8]};
q.j0={};q.j0.k1=function(){function s(B,Y,t,p,f,a,D){if(f==0){Y.set(B);return}var c=q.m(t*p),J=q.m(t*p);
if(q.Fq(B)){N(B,Y,t,p,f,a,D);var Z=[q.j0.aZ,q.j0.Gv],Q=Z.indexOf(a),M=Q!=-1?Z[1-Q]:a;q.WZ(B,c,3);q.j0.ve(c,J,t,p,f,M,D);
q.XX(J,Y,3)}else{for(var l=0;l<3;l++){q.WZ(B,c,l);q.j0.ve(c,J,t,p,f,a,D);q.XX(J,Y,l)}}}function N(B,Y,t,p,f,a,D){var c=0,J=new ArrayBuffer(512*4*3),Z=[new Int32Array(J,0),new Int32Array(J,2048),new Int32Array(J,2*2048)],Q=1+2*Math.round(Math.sqrt(f)),M=Q>>>1,u=new Array(Q),P=new Array(Q);
for(var l=0;l<Q;l++){var J=new ArrayBuffer(512*4*3);u[l]=[new Int32Array(J,0),new Int32Array(J,2048),new Int32Array(J,2*2048)];
P[l]=u[l][0]}var m=a[0],i=a[1],e=Z[0];for(var X=0;X<t;X++)if(X<f||X>t-f-Q-1){e.fill(0);var $=Math.max(X-f,0),O=Math.min(t,X+f+1),T=O-$;
for(var b=0;b<f;b++)S(e,B,b*t+$,b*t+O,1);for(var b=0;b<p;b++){var R=b-f-1,w=b+f;if(w<p)S(e,B,w*t+$,w*t+O,1);
if(R>=0)S(e,B,R*t+$,R*t+O,-1);var F=b*t+X<<2;c=e[300];if(c!=0)for(var l=0;l<3;l++)Y[F+l]=m(Z[l],B[F+l],c,D)}}else{for(var l=0;
l<Q;l++)P[l].fill(0);var $=X-f+M,O=X+f+1+M;for(var b=0;b<f;b++)r(P,B,b*t+$,b*t+O,1,M);for(var b=0;b<p;
b++){var R=b-f-1,w=b+f;if(R>=0)r(P,B,R*t+$,R*t+O,-1,M);if(w<p)r(P,B,w*t+$,w*t+O,1,M);var L=u[M];c=L[0][300];
for(var l=0;l<M;l++){var x=M-1-l,g=M+1+l,n=u[x],h=u[g],_=c+n[0][300],H=c+h[0][300],G=b*t+X+x<<2,j=b*t+X+g<<2;
if(_!=0)for(var v=0;v<3;v++)Y[G+v]=i(L[v],n[v],B[G+v],_,D);if(H!=0)for(var v=0;v<3;v++)Y[j+v]=i(L[v],h[v],B[j+v],H,D)}var F=b*t+X+M<<2;
if(c!=0)for(var v=0;v<3;v++)Y[F+v]=m(L[v],B[F+v],c,D)}X+=Q-1}}function r(B,Y,t,p,f,a){var D=z,c=t<<2,J=p<<2;
D(B[a-1],Y,t-1<<2,f);D(B[a-1],Y,p-1<<2,-f);D(B[a+1],Y,p<<2,f);D(B[a+1],Y,t<<2,-f);for(var l=1;l<a;l++){var Z=B[a-l-1],Q=B[a+l+1];
for(var M=0;M<=l;M++){var u=M<<2;D(Z,Y,t-1-M<<2,f);D(Z,Y,p-1-M<<2,-f);D(Q,Y,p+M<<2,f);D(Q,Y,t+M<<2,-f)}}S(B[a],Y,t,p,f)}function S(B,Y,l,t,p){var f=l<<2,a=t<<2;
while(f<a){z(B,Y,f,p);f+=4}}function z(B,Y,t,p){var f=p*Y[t+3];B[300]+=f;A(B,Y[t],0,f);A(B,Y[t+1],512,f);
A(B,Y[t+2],1024,f)}function A(B,Y,t,p){B[t|Y]+=p;B[t|256|Y>>>4]+=p}return s}();q.j0.ve=function(){function s(a,D,c,J,Z,Q,M){if(Z==0){D.set(a);
return}if(Z<=80)N(a,D,c,J,Z,Q,M);else A(a,D,c,J,Z,Q,M)}function N(a,D,c,J,Z,Q,M){var u=0,P=new Int32Array(512),m=1+2*Math.round(Math.sqrt(Z)),i=m>>>1,e=new Array(m);
for(var l=0;l<m;l++)e[l]=new Int32Array(512);var X=Q[0],$=Q[1];for(var O=0;O<c;O++)if(O<Z||O>c-Z-m-1){P.fill(0);
u=0;var T=Math.max(O-Z,0),b=Math.min(c,O+Z+1),R=b-T;for(var w=0;w<Z;w++){u+=R;S(P,a,w*c+T,w*c+b,1)}for(var w=0;
w<J;w++){var F=w-Z-1,L=w+Z;if(F>=0){u-=R;S(P,a,F*c+T,F*c+b,-1)}if(L<J){u+=R;S(P,a,L*c+T,L*c+b,1)}var x=X(P,a[w*c+O],u,M);
D[w*c+O]=x}}else{for(var l=0;l<m;l++)e[l].fill(0);u=0;var T=O-Z+i,b=O+Z+1+i,R=b-T;for(var w=0;w<Z;w++){u+=R;
r(e,a,w*c+T,w*c+b,1,i)}for(var w=0;w<J;w++){var F=w-Z-1,L=w+Z;if(F>=0){u-=R;r(e,a,F*c+T,F*c+b,-1,i)}if(L<J){u+=R;
r(e,a,L*c+T,L*c+b,1,i)}for(var l=0;l<i;l++){var g=i-1-l,n=i+1+l;D[w*c+O+g]=$(e[i],e[g],a[w*c+O+g],u,M);
D[w*c+O+n]=$(e[i],e[n],a[w*c+O+n],u,M)}D[w*c+O+i]=X(e[i],a[w*c+O+i],u,M)}O+=m-1}}function r(a,D,c,J,Z,Q){var M=z;
M(a[Q-1],D[c-1],0,Z);M(a[Q-1],D[J-1],0,-Z);M(a[Q+1],D[J],0,Z);M(a[Q+1],D[c],0,-Z);for(var l=1;l<Q;l++){var u=a[Q-l-1],P=a[Q+l+1];
for(var m=0;m<=l;m++){M(u,D[c-1-m],0,Z);M(u,D[J-1-m],0,-Z);M(P,D[J+m],0,Z);M(P,D[c+m],0,-Z)}}S(a[Q],D,c,J,Z)}function S(a,D,l,c,J){while(l<c)z(a,D[l++],0,J)}function z(a,D,c,J){a[c|D]+=J;
a[c|256|D>>>4]+=J}function A(a,D,c,J,Z,Q,M){var u=0,P=new Int32Array(512),m=new Int32Array(1*c),i=new Int32Array(512*c),e=Math.min(Z,c),X=Math.min(Z,J),$=Q[0];
for(var O=0;O<X;O++)B(i,m,a,c,O,1);for(var O=0;O<J;O++){if(O+Z<J)B(i,m,a,c,O+Z,1);if(O-Z-1>=0)B(i,m,a,c,O-Z-1,-1);
P.fill(0);u=0;for(var T=0;T<e;T++){u+=m[T];Y(P,i,T)}for(var T=0;T<c;T++){var b=T-Z-1,R=T+Z;if(b>=0&&m[b]!=0){u-=m[b];
t(P,i,b)}if(R<c&&m[R]!=0){u+=m[R];Y(P,i,R)}var w=u==0?0:$(P,a[O*c+T],u,M);D[O*c+T]=w}}}function B(a,D,c,J,Z,Q){var l=Z*J;
for(var M=0;M<J;M++){z(a,c[l+M],M<<9,Q);D[M]+=Q}}function Y(a,D,c){for(var l=0;l<16;l++){var J=D[c<<9|256|l];
if(J==0)continue;a[256|l]+=J;var Z=l<<4,Q=c<<9|Z;p(a,D,Z,Q);p(a,D,Z+4,Q+4);p(a,D,Z+8,Q+8);p(a,D,Z+12,Q+12)}}function t(a,D,c){for(var l=0;
l<16;l++){var J=D[c<<9|256|l];if(J==0)continue;a[256|l]-=J;var Z=l<<4,Q=c<<9|Z;f(a,D,Z,Q);f(a,D,Z+4,Q+4);
f(a,D,Z+8,Q+8);f(a,D,Z+12,Q+12)}}function p(a,D,c,J){a[c]+=D[J];a[c+1]+=D[J+1];a[c+2]+=D[J+2];a[c+3]+=D[J+3]}function f(a,D,c,J){a[c]-=D[J];
a[c+1]-=D[J+1];a[c+2]-=D[J+2];a[c+3]-=D[J+3]}return s}();q.j0.Gv=[function(s,N,r,S){var l=15;while(s[256|l]==0&&l>0)l--;
l=(l<<4)+15;while(s[l]==0&&l>0)l--;return l},function(s,N,r,S,z){var l=15;while(s[256|l]+N[256|l]==0&&l>0)l--;
l=(l<<4)+15;while(s[l]+N[l]==0&&l>0)l--;return l}];q.j0.aZ=[function(s,N,r,S){var l=0;while(s[256|l]==0&&l<15)l++;
l=l<<4;while(s[l]==0&&l<255)l++;return l},function(s,N,r,S,z){var l=0;while(s[256|l]+N[256|l]==0&&l<15)l++;
l=l<<4;while(s[l]+N[l]==0&&l<255)l++;return l}];q.j0.JE=.5;q.j0.RW=[function(s,N,r,S){var z=~~(.5+q.j0.JE*r),A=0,l=256;
while(A+s[l]<z)A+=s[l++];l=l-256<<4;while(A<z)A+=s[l++];return l-1},function(s,N,r,S,z){var A=~~(.5+q.j0.JE*S),B=0,l=256;
while(B+s[l]+N[l]<A){B+=s[l]+N[l];l++}l=l-256<<4;while(B<A){B+=s[l]+N[l];l++}return l-1}];q.j0.vV=[function(s,N,r,S){var z=S[0],A=0,B=0,l=Math.max(0,N-z),Y=Math.min(256,N+z+1);
while(l<Y){var t=s[l];A+=l*t;B+=t;l++}return B==0?0:A/B},function(s,N,r,S,z){var A=z[0],B=0,Y=0,l=Math.max(0,r-A),t=Math.min(256,r+A+1);
while(l<t){var p=s[l]+N[l];B+=l*p;Y+=p;l++}return Y==0?0:B/Y}];q.P={};q.P.vY=function(s){var N=K.S.JS(s.Trnf),r=s.Sz.v,S=q.P.g8(N,new hq(0,0,r.Wdth.v,r.Hght.v));
return q.P.Nq(S)};q.P.g8=function(s,N){var r=s[0],S=s[1],z=s[2],A=s[3],B=s[6],Y=s[7],t=s[4],p=s[5],f=0,a=0,D=1,c=0,J=0,Z=1,Q=1,M=1;
if(N){f=N.x;a=N.y;D=N.x+N.G;c=N.y;J=N.x;Z=N.y+N.n;Q=N.x+N.G;M=N.y+N.n}return q.P.eo(s,[f,a,D,c,Q,M,J,Z])};
q.P.Id=function(s){function N(z,A){for(var l=0;l<A.length;l+=2)if(!r(z,A[l],A[l+1]))return!1;return!0}function r(z,A,B){return z[2*A]==z[2*B]&&z[2*A+1]==z[2*B+1]}var S=0;
if(N(s,[0,1,2,3]))S+=1;if(N(s,[0,3,1,2]))S+=2;return S};q.P.eo=function(s,N){function r(x,l,g){var w=x[l*2]-x[g*2],F=x[l*2+1]-x[g*2+1];
return Math.sqrt(w*w+F*F)}var S=s[0],z=s[1],A=s[2],B=s[3],Y=s[6],t=s[7],p=s[4],f=s[5],a=N[0],D=N[1],c=N[2],J=N[3],Z=N[6],Q=N[7],M=N[4],u=N[5],P=[[a,D,1,0,0,0,-a*S,-D*S,S],[0,0,0,a,D,1,-a*z,-D*z,z],[c,J,1,0,0,0,-c*A,-J*A,A],[0,0,0,c,J,1,-c*B,-J*B,B],[Z,Q,1,0,0,0,-Z*Y,-Q*Y,Y],[0,0,0,Z,Q,1,-Z*t,-Q*t,t],[M,u,1,0,0,0,-M*p,-u*p,p],[0,0,0,M,u,1,-M*f,-u*f,f]],m=[0,0,0,0,0,0,0,0],i=q.lO.PR(P,m);
if(i!=0){m=[0,0,0,0,0,0,0,0];var e=q.P.Id(s),X=q.P.Id(N);if(e==X&&e!=0){var $=e==1,O=$?3:1,T=r(s,0,O),b=r(N,0,O),R=b/T,w=s[2*O]-s[0],F=s[2*O+1]-s[1],L=new gF;
L.translate(-S,-z);L.rotate(Math.atan2(F,w)-($?Math.PI/2:0));if($)L.scale(1,R);else L.scale(R,1);L.translate(a,D);
L.dm();m=q.P.tl(L)}}return m};q.P.Zb=function(s){return Math.abs(s[6])<1e-10&&Math.abs(s[7])<1e-10};
q.P.Nq=function(s){return new gF(s[0],s[3],s[1],s[4],s[2],s[5])};q.P.tl=function(s){return[s.aC,s.K1,s.JC,s.U,s.dX,s.T3,0,0]};
q.P.D=function(s,N){var r=new Float64Array(2);for(var S=0;S<N.length;S+=2){var z=N[S],A=N[S+1];q.P.oh(z,A,s,r);
N[S]=r[0];N[S+1]=r[1]}};q.P.oh=function(s,N,r,S){var z=1/(r[6]*s+r[7]*N+1);S[0]=(r[0]*s+r[1]*N+r[2])*z;
S[1]=(r[3]*s+r[4]*N+r[5])*z};q.P.aiG=function(s,N){var r=new Float64Array(2);q.P.oh(N.x,N.y,s,r);return new cR(r[0],r[1])};
q.P.yZ=function(s,N,r,S){s=new Uint32Array(s.buffer);N=new Uint32Array(N.buffer);for(var z=0;z<S;z++){for(var A=0;
A<r;A++){N[A*S+z]=s[z*r+A]}}};q.P.Dw=function(s,N,r,S){s=new Uint32Array(s.buffer);N=new Uint32Array(N.buffer);
for(var z=0;z<S;z++){for(var A=0;A<r;A++){N[z*r+A]=s[z*r+r-1-A]}}};q.P.aj9=function(s,N,r,S){s=new Uint32Array(s.buffer);
N=new Uint32Array(N.buffer);for(var z=0;z<S;z++){for(var A=0;A<r;A++){N[z*r+A]=s[(S-1-z)*r+A]}}};q.P.Dh=function(s){return Math.abs(s[6])<1e-9&&Math.abs(s[7])<1e-9};
q.P.mi=function(s){return Math.abs(s[0])<1e-9&&Math.abs(s[4])<1e-9||Math.abs(s[1])<1e-9&&Math.abs(s[3])<1e-9};
q.P.drawImage=function(s,N,r,S,z,A,B,Y,t){if(B==null)B=!1;if(Y==null)Y=!1;var p=q.P.dm(s),f=!0,a=0;for(var l=0;
l<8;l++){var D=Math.round(s[l]);if(l!=2&&l!=5)a+=Math.abs(D);if(Math.abs(D-s[l])>1e-9)f=!1}var c=q.P.Dh(s),J=q.P.mi(s)&&c,Z=J?1:0;
if(B||f&&a==r+S&&c){q.P.asK(p,N,r,S,z,A,Y,c,t);return}var Q=A.G,M=A.n,u=new Float64Array(2);z=new Uint32Array(z.buffer);
N=new Uint32Array(N.buffer);for(var P=0;P<M;P++)for(var m=0;m<Q;m++){var i=P*Q+m,e,X,$,O,_=0,H=0,G=0,j=0;
z[i]=0;var T=m+A.x+.5,b=P+A.y+.5;e=T;X=b;$=p;var R=$[0]*e+$[1]*X+$[2],w=$[3]*e+$[4]*X+$[5];if(!c){O=1/($[6]*e+$[7]*X+1);
R*=O;w*=O}var F=R*r,L=w*S,x=F<-1||F>r+1||L<-1||L>S+1;if(Y){F=Math.max(.001,Math.min(r-1,F));L=Math.max(.001,Math.min(S-1,L))}else if(x)continue;
var g=q.P.apc(s,r,S,T,b,R,w),n=Math.round(g*2.3);if(g<1.1){q.P.Xu(F,L,N,r,S,z,i,Z);continue}if(!Y&&(F<.6||F>r-.6||L<.6||L>S-.6)){n=Math.max(n,5)}if(Y&&x)n=1;
var h=1/n,v=A.x+m,C=A.y+P;$=p;for(var l=0;l<n;l++)for(var E=0;E<n;E++){e=v+(l+.5)*h;X=C+(E+.5)*h;var F=$[0]*e+$[1]*X+$[2],L=$[3]*e+$[4]*X+$[5];
if(!c){O=1/($[6]*e+$[7]*X+1);F*=O;L*=O}if(Y){F=Math.max(.001,Math.min(.999,F));L=Math.max(.001,Math.min(.999,L))}else if(F<0||F>=1||L<0||L>=1)continue;
F=Math.floor(F*r);L=Math.floor(L*S);var I=L*r+F,dJ=N[I],fG=dJ>>>24;_+=(dJ&255)*fG;H+=(dJ>>>8&255)*fG;
G+=(dJ>>>16&255)*fG;j+=fG}if(j!=0){var o=1/j;_=~~(_*o+.5);H=~~(H*o+.5);G=~~(G*o+.5);j=~~(j*h*h+.5);z[i]=j<<24|G<<16|H<<8|_}}};
q.P.apc=function(s,N,r,S,z,A,B){var Y=q.P.In(s,S,z,A+1/N,B),t=q.P.In(s,S,z,A,B+1/r);return 1/Math.sqrt(Math.max(Y,t))};
q.P.In=function(s,N,r,S,z){var A=1/(s[6]*S+s[7]*z+1),B=(s[0]*S+s[1]*z+s[2])*A-N,Y=(s[3]*S+s[4]*z+s[5])*A-r;
return B*B+Y*Y};q.P.asK=function(s,N,r,S,z,A,B,Y,t){if(Y&&!B&&A.$()>4e6&&t){q.P.agp(s,N,r,S,z,A,B,Y,t);
return}var p=A.x+A.G,f=A.y+A.n,a=0,D=new Uint32Array(z.buffer),c=new Uint32Array(N.buffer),J=s[0]*r,Z=s[1]*r,Q=s[2]*r,M=s[3]*S,u=s[4]*S,P=s[5]*S,m=s[6],i=s[7];
if(Y&&!B)for(var e=A.y+.5;e<f;e++)for(var X=A.x+.5;X<p;X++){var $=J*X+Z*e+Q,O=M*X+u*e+P;if(0<$&&$<r&&0<O&&O<S){var T=~~O*r+~~$;
D[a]=c[T]}else D[a]=0;a++}else for(var e=A.y+.5;e<f;e++)for(var X=A.x+.5;X<p;X++){var b=1/(m*X+i*e+1),$=(J*X+Z*e+Q)*b,O=(M*X+u*e+P)*b;
if(B){$=Math.max(.001,Math.min(r-1,$));O=Math.max(.001,Math.min(S-1,O))}if(0<$&&$<r&&0<O&&O<S){var T=Math.floor(O)*r+Math.floor($);
D[a]=c[T]}else D[a]=0;a++}};q.P.agp=function(s,N,r,S,z,A,B,Y,t){var p=new Uint32Array(z.buffer),f=new Uint32Array(N.buffer),i=0;
if(t&&(A.G&3)!=0)throw"e";var a=s[0]*r,D=s[1]*r,c=s[2]*r,J=s[3]*S,Z=s[4]*S,Q=s[5]*S,M=s[6],u=s[7],P=A.G,m=A.n,e=A.x+.5,X=A.y+.5,$=(P>>>2<<2)-1e-9,O=-.1+(m>>>1<<1)-1e-9,T=~~r,b=a==0?0:1/a,R=J==0?0:1/J;
for(var w=0;w<m;w++){var F=e*a+D*(w+X)+c,L=e*J+Z*(w+X)+Q,x=0,g=P;if(a==0){}else if(b>0){x=Math.max(x,-F*b);
g=Math.min(g,(r-F)*b)}else{g=Math.min(g,-F*b);x=Math.max(x,(r-F)*b)}if(J==0){}else if(R>0){x=Math.max(x,-L*R);
g=Math.min(g,(S-L)*R)}else{g=Math.min(g,-L*R);x=Math.max(x,(S-L)*R)}if(g<0)g=0;if(x>g)x=g;x=Math.ceil(x);
g=~~g;i=~~(w*P);for(var n=0;n<x;n++)p[i++]=0;for(var n=x;n<g;n+=4){var h=a*n+F,_=J*n+L,H=~~_*T+~~h;p[i++]=p[i++]=p[i++]=p[i++]=f[H]}for(var n=g;
n<P;n++)p[i++]=0}};q.P.dm=function(s){var N=s[4]-s[5]*s[7],r=s[2]*s[7]-s[1],S=s[1]*s[5]-s[2]*s[4],z=s[5]*s[6]-s[3],A=s[0]-s[2]*s[6],B=s[3]*s[2]-s[0]*s[5],Y=s[3]*s[7]-s[4]*s[6],t=s[1]*s[6]-s[0]*s[7],p=1/(s[0]*s[4]-s[1]*s[3]);
return[N*p,r*p,S*p,z*p,A*p,B*p,Y*p,t*p]};q.P.kU=function(s,N){var r=s[0],S=s[1],z=s[2],A=s[3],B=s[4],Y=s[5],t=s[6],p=s[7],f=N[0],a=N[1],D=N[2],c=N[3],J=N[4],Z=N[5],Q=N[6],M=N[7],u=[r*f+S*c+z*Q,r*a+S*J+z*M,r*D+S*Z+z,A*f+B*c+Y*Q,A*a+B*J+Y*M,A*D+B*Z+Y,t*f+p*c+Q,t*a+p*J+M],P=1/(t*D+p*Z+1);
for(var l=0;l<8;l++)u[l]*=P;return u};q.P.Xu=function(s,N,r,S,z,A,B,Y){var t=s,p=N,D=0,c=0,J=0,Z=0;s-=.499999;
N-=.499999;var f=Math.floor(s),a=Math.floor(N);if(Y==0){var l=a*S+f,Q=f>=0&&f<S,M=f+1>=0&&f+1<S,u=a>=0&&a<z,P=a+1>=0&&a+1<z;
if(Q&&u)D=r[l];if(M&&u)c=r[l+1];if(Q&&P)J=r[l+S];if(M&&P)Z=r[l+S+1]}else if(Y==1){var m=f<0?0:f>S-1?S-1:f,i=f<-1?0:f>S-2?S-1:f+1,e=a<0?0:a>z-1?z-1:a,X=a<-1?0:a>z-2?z-1:a+1;
D=r[e*S+m];c=r[e*S+i];J=r[X*S+m];Z=r[X*S+i]}else{var m=(f+50*S)%S,i=(f+50*S)%S,e=(a+50*z)%z,X=(a+50*z)%z;
D=r[e*S+m];c=r[e*S+i];J=r[X*S+m];Z=r[X*S+i]}var $=s-f,O=N-a,T=(1-O)*(1-$)*(D>>>24),b=(1-O)*$*(c>>>24),R=O*(1-$)*(J>>>24),w=O*$*(Z>>>24),F=T+b+R+w,L=T*(D&255)+b*(c&255)+R*(J&255)+w*(Z&255),x=T*(D>>>8&255)+b*(c>>>8&255)+R*(J>>>8&255)+w*(Z>>>8&255),g=T*(D>>>16&255)+b*(c>>>16&255)+R*(J>>>16&255)+w*(Z>>>16&255);
if(F==0)A[B]=0;else{var n=1/F;L=~~(L*n+.5);x=~~(x*n+.5);g=~~(g*n+.5);F=~~(F+.5);A[B]=F<<24|g<<16|x<<8|L}};
q.P.fa=function(s,N,r,S,z,A){var B=s-.499999,Y=N-.499999,t=~~B,p=~~Y,f=B-t,a=Y-p,D=(1-a)*(1-f),c=(1-a)*f,J=a*(1-f),Z=a*f,Q=p*S+t<<2,M=(p+1)*S+t<<2,u=D*r[Q]+c*r[Q+4]+J*r[M]+Z*r[M+4],P=D*r[Q+1]+c*r[Q+5]+J*r[M+1]+Z*r[M+5],m=D*r[Q+2]+c*r[Q+6]+J*r[M+2]+Z*r[M+6],i=D*r[Q+3]+c*r[Q+7]+J*r[M+3]+Z*r[M+7];
A[0]=u;A[1]=P;A[2]=m;A[3]=i};q.P.YK=function(s,N,r,S,z){s-=.499999;N-=.499999;var A=Math.floor(s),B=Math.floor(N),Y=s-A,t=N-B,p=(1-t)*(1-Y),f=(1-t)*Y,a=t*(1-Y),D=t*Y,c=(A+50*S)%S,J=(A+1+50*S)%S,Z=(B+50*z)%z,Q=(B+1+50*z)%z,M=r[Z*S+c],u=r[Z*S+J],P=r[Q*S+c],m=r[Q*S+J];
if(M==null||m==null)throw"e";return p*M+f*u+a*P+D*m};q.P.Uy=function(s,N,r,S,z,A,B,Y,t,p,f,a){var D=new Uint32Array(s.buffer),c=new Uint32Array(S.buffer),J=(1+2*p)/z,Z=[],Q=[];
for(var M=0;M<z;M++){var u=-.25+p-M*J;Z.push(Math.cos(2*Math.PI*u)*a/f);Z.push(Math.sin(2*Math.PI*u)/f)}B*=N;
Y*=r;for(var P=0;P<A;P++){var m=Math.pow(P/A,t)*A;for(var M=0;M<z;M++){var i=B+Z[M<<1]*m,e=Y+Z[(M<<1)+1]*m,$=~~(.5+(i<0?0:i>N-1?N-1:i)),O=~~(.5+(e<0?0:e>r-1?r-1:e));
c[P*z+M]=D[O*N+$]}}};q.P.Ci=function(s,N,r,S,z,A,B,Y,t,p,f,a){var D=new Uint32Array(s.buffer),c=new Uint32Array(S.buffer),J=1/a,Z=[],Q=r*4,M=1/Q;
for(var u=0;u<Q+10;u++)Z.push(Math.pow(u*M,1/t)*r*f);B*=z;Y*=A;for(var u=0;u<A;u++)for(var P=0;P<z;P++){var m=J*(P-B),i=u-Y,e=1.75-Math.atan2(i,m)*(1/(2*Math.PI));
e=e-~~e;e=(e+p)*(1/(1+2*p));var X=Math.sqrt(m*m+i*i);X=Z[~~(X*4)];q.P.Xu(e*N+.5,X+.5,D,N,r,c,u*z+P,1)}};
q.P.$B=function(s,N,r,S,z){var A=z[0],B=z[1];for(var Y=0;Y<B;Y++)for(var t=0;t<A;t++){var p=z[2]*t+z[3]*Y+z[4],f=z[5]*t+z[6]*Y+z[7],a=Y*A+t<<2,D=f*N+p<<2;
S[a]=s[D+0];S[a+1]=s[D+1];S[a+2]=s[D+2];S[a+3]=s[D+3]}};q.i={by:function(s,N){var r=~~(.499+s*N);return r<0?0:r>N?N:r},ahl:function(s,N,r,S,z,A,B,Y){var t=r[0],p=r[1],f=r[2],a=r[3],D=S.G,c=S.n,J=new Float64Array(D*4+8),Z=new Float64Array(D*4+8);
for(var Q=0,l=0;Q<c;Q++){var M=J;J=Z;Z=M;Z.fill(0);for(var u=0;u<D;u++,l++){var P=u+z,m=Q+A,i=t*P+p*m,e=f*P+a*m,X=0,T=0;
if(Y==0)X=i+.5;else if(Y==1)X=2*Math.sqrt(i*i+e*e);else if(Y==2)X=(Math.PI+Math.atan2(-e,-i))/(2*Math.PI);
else if(Y==3)X=Math.abs(i*2);else if(Y==4)X=2*(Math.abs(i)+Math.abs(e));var $=q.i.by(X,B)*4,O=u*4;for(var b=0;
b<4;b++){var R=Math.max(0,Math.min(254.999,N[$+b]+J[O+4+b])),w=Math.floor(R);if(Math.random()<R-w)w++;
var F=R-w;J[O+8+b]=F*(7/16);Z[O+0+b]=F*(3/16);Z[O+4+b]=F*(5/16);Z[O+8+b]=F*(1/16);T|=w<<b*8}s[l]=T}}},Lo:[function(s,N,r,S,z,A,B){var Y=r[0],t=r[1],p=r[2],f=r[3],a=S.G,D=S.n;
for(var c=0,l=0;c<D;c++)for(var J=0;J<a;J++,l++){var Z=J+z,Q=c+A,M=Y*Z+t*Q,u=p*Z+f*Q,P=M+.5;s[l]=N[q.i.by(P,B)]}},function(s,N,r,S,z,A,B){var Y=r[0],t=r[1],p=r[2],f=r[3],a=S.G,D=S.n;
for(var c=0,l=0;c<D;c++)for(var J=0;J<a;J++,l++){var Z=J+z,Q=c+A,M=Y*Z+t*Q,u=p*Z+f*Q,P=2*Math.sqrt(M*M+u*u);
s[l]=N[q.i.by(P,B)]}},function(s,N,r,S,z,A,B){var Y=r[0],t=r[1],p=r[2],f=r[3],a=S.G,D=S.n;for(var c=0,l=0;
c<D;c++)for(var J=0;J<a;J++,l++){var Z=J+z,Q=c+A,M=Y*Z+t*Q,u=p*Z+f*Q,P=(Math.PI+Math.atan2(-u,-M))/(2*Math.PI);
s[l]=N[q.i.by(P,B)]}},function(s,N,r,S,z,A,B){var Y=r[0],t=r[1],p=r[2],f=r[3],a=S.G,D=S.n;for(var c=0,l=0;
c<D;c++)for(var J=0;J<a;J++,l++){var Z=J+z,Q=c+A,M=Y*Z+t*Q,u=p*Z+f*Q,P=Math.abs(M*2);s[l]=N[q.i.by(P,B)]}},function(s,N,r,S,z,A,B){var Y=r[0],t=r[1],p=r[2],f=r[3],a=S.G,D=S.n;
for(var c=0,l=0;c<D;c++)for(var J=0;J<a;J++,l++){var Z=J+z,Q=c+A,M=Y*Z+t*Q,u=p*Z+f*Q,P=2*(Math.abs(M)+Math.abs(u));
s[l]=N[q.i.by(P,B)]}}]};q.i.apZ=function(s,N){return s+.5};q.i.avA=function(s,N){return 2*Math.sqrt(s*s+N*N)};
q.i.af1=function(s,N){return(Math.PI+Math.atan2(-N,-s))/(2*Math.PI)};q.i.ah1=function(s,N){return Math.abs(s*2)};
q.i.auY=function(s,N){return 2*(Math.abs(s)+Math.abs(N))};q.i.Mf=function(s,N,r,S,z,A,B,Y,t,p,f,a){var D=s.Clrs,c=new Uint32Array(N.buffer),J=1023,Z=D?q.i.lV(D.v,t,p):null;
if(a&&D){var Q=q.i.ace(s,Z,J+1,B);q.i.ahl(c,Q,S,r,r.x-z,r.y-A,J,Y)}else{var M=D?q.i.g6(s,Z,J+1,B):q.i.VC(s,J+1,B);
if(Y<5){q.i.Lo[Y](c,M,S,r,r.x-z,r.y-A,J)}else{var u=new Uint8Array(M.buffer),P=r.G,m=r.n,i=f.rI-f.Pf,e=1/i,X=f.G5.G-r.G>>1,$=f.G5.n-r.n>>1,O=f.G5.G,T=-.6*e,b=(-.6+.4)*e,R=(-.6+2*.4)*e,w=(-.6+3*.4)*e;
for(var F=0,l=0;F<m;F++)for(var L=0;L<P;L++,l+=4){var x=0,g=0,n=0,h=0,_=(F+$)*O+L+X,H=(f.JL[_]-f.Pf)*e,G=0;
if(H<=0||H>=1){G=(H<=0?0:J)<<2;N[l]=u[G];N[l+1]=u[G+1];N[l+2]=u[G+2];N[l+3]=u[G+3];continue}G=Math.max(0,Math.min(J-1,Math.round((H+T)*J)))<<2;
g+=u[G];n+=u[G+1];h+=u[G+2];x+=u[G+3];G=Math.max(0,Math.min(J-1,Math.round((H+b)*J)))<<2;g+=u[G];n+=u[G+1];
h+=u[G+2];x+=u[G+3];G=Math.max(0,Math.min(J-1,Math.round((H+R)*J)))<<2;g+=u[G];n+=u[G+1];h+=u[G+2];x+=u[G+3];
G=Math.max(0,Math.min(J-1,Math.round((H+w)*J)))<<2;g+=u[G];n+=u[G+1];h+=u[G+2];x+=u[G+3];N[l]=g>>>2;
N[l+1]=n>>>2;N[l+2]=h>>>2;N[l+3]=x>>>2}}}};q.i.lV=function(s,N,r){var S=[];for(var l=0;l<s.length;l++){var z,A=s[l].v,B=A.Type.v.Clry;
if(B=="FrgC")z={w:N>>16&255,A:N>>8&255,U:N&255};else if(B=="BckC")z={w:r>>16&255,A:r>>8&255,U:r&255};
else z=q.i.iy(A.Clr.v);S.push(z)}return S};q.i.iy=function(s){var N,r=s.classID;if(r=="RGBC"){if(s.Rd)N={w:s.Rd.v,A:s.Grn.v,U:s.Bl.v};
else N={w:s.redFloat.v*255,A:s.greenFloat.v*255,U:s.blueFloat.v*255}}else if(r=="HSBC"){N=q.qG(s.H.v.val/360,s.Strt.v/100,s.Brgh.v/100);
N.w*=255;N.A*=255;N.U*=255}else if(r=="CMYC"){var S=100-s.Cyn.v,z=100-s.Mgnt.v,A=100-s.Ylw.v,B=100-s.Blck.v,Y=255*S*B*1e-4,t=255*(.2*S+.8*z)*B*1e-4,p=255*(.2*z+.8*A)*B*1e-4;
N={w:Y,A:t,U:p}}else if(r=="Grsc")N={w:255-s.Gry.v,A:255-s.Gry.v,U:255-s.Gry.v};else if(r=="LbCl"){N=q.Hs(s.Lmnc.v,s.A.v,s.B.v)}else console.log(s);
if(isNaN(N.w))N.w=N.A=N.U=0;return N};q.i.VC=function(s,N,r){var S=new Uint32Array(N),z=new Uint8Array(S.buffer);
S.fill(4278190080);var A=[],B=[],Y=s.RndS.v,t=s.Smth.v/4096;for(var l=0;l<4;l++){A[l]=~~(s.Mnm.v[l].v*255/100);
B[l]=~~(s.Mxm.v[l].v*255/100)}var p=q.m(N*4),f=q.m(N);for(var a=0;a<3;a++){q.C.wq(null,N,1,p,[1+Math.round(t*t*t*60),22,Y*(2+a)]);
q.WZ(p,f,0);q.XX(f,z,a);var D=A[a],c=B[a];for(var l=0;l<N;l++)z[4*l+a]=Math.max(D,Math.min(c,z[4*l+a]))}if(r)for(var l=0;
l<N/2;l++){var J=S[l];S[l]=S[N-1-l];S[N-1-l]=J}return S};q.i.Sm=function(s){return{classID:"RGBC",Rd:{t:"doub",v:s.w},Grn:{t:"doub",v:s.A},Bl:{t:"doub",v:s.U}}};
q.i.ace=function(s,N,r,S){var z=[],A=1/(r-0);for(var l=0;l<r;l++){var B=l*4,Y=q.i.lS(s,N,(S?r-1-l:l)*A);
z[B]=Y[0];z[B+1]=Y[1];z[B+2]=Y[2];z[B+3]=Y[3]}return z};q.i.g6=function(s,N,r,S){var z=new Uint32Array(r),A=1/(r-0);
for(var l=0;l<r;l++)z[l]=q.i.DB(s,N,(S?r-1-l:l)*A);return z};q.i.lS=function(s,N,r){var S=4096,z=1/4096,A=s.Intr.v*z,B=s.Clrs.v,Y=s.Trns.v,t=B.length-1,p=Y.length-1,l=-1,f=0,a=0,D=0,c=0;
while(l<p&&Y[l+1].v.Lctn.v<=r*S)l++;if(l==-1){f=Y[0].v.Opct.v.val*(255/100)}else if(l==p){f=Y[l].v.Opct.v.val*(255/100)}else{var J=q.i.Ii(Y,z,l,r,A);
f=(J*Y[l].v.Opct.v.val+(1-J)*Y[l+1].v.Opct.v.val)*(255/100)}l=-1;while(l<t&&B[l+1].v.Lctn.v<=r*S)l++;
if(l==-1){var Z=N[0];a=Z.w;D=Z.A;c=Z.U}else if(l==t){var Z=N[l];a=Z.w;D=Z.A;c=Z.U}else{var Q=N[l],M=N[l+1],u=q.i.Ii(B,z,l,r,A);
a=u*Q.w+(1-u)*M.w;D=u*Q.A+(1-u)*M.A;c=u*Q.U+(1-u)*M.U}return[a,D,c,f]};q.i.DB=function(s,N,r){var S=q.i.lS(s,N,r),z=~~(.5+S[0]),A=~~(.5+S[1]),B=~~(.5+S[2]),Y=~~(.5+S[3]);
return Y<<24|B<<16|A<<8|z};q.i.Ii=function(s,N,l,r,S){if(s.length==2)S*=.5;var z=s[l].v.Lctn.v*N,A=s[l+1].v.Lctn.v*N,B=z+s[l+1].v.Mdpn.v*.01*(A-z),Y;
if(r<B)Y=.5*(r-z)/(B-z);else Y=.5+.5*(r-B)/(A-B);Y=.5+.5*(S*Math.cos(Math.PI*Y)+(1-S)*(1-2*Y));return Y};
q.i.uD=function(s,N){var r=Math.PI*s.Angl.v.val/180,S=s.Scl.v.val/100,z=s.Ofst.v,A=z.Hrzn.v.val/100,B=z.Vrtc.v.val/100,Y=Math.cos(r),t=-Math.sin(r),p=.5*N.n,f=p*(Y/t),a=Math.sqrt(p*p+f*f),D=.5*N.G,c=D*(t/Y),J=Math.sqrt(D*D+c*c),Z=Math.min(a,J)*S,Q=N.x+N.G/2+A*N.G,M=N.y+N.n/2+B*N.n;
return[new cR(Q,M),new cR(Q+Y*Z,M+t*Z)]};q.i.Nh=function(s,N,r,S){var z=N.x-s.x,A=-(N.y-s.y),B=Math.sqrt(z*z+A*A),Y=Math.atan2(A,z),t=Math.cos(Y),p=-Math.sin(Y),f=.5*r.n,a=f*(t/p),D=Math.sqrt(f*f+a*a),c=.5*r.G,J=c*(p/t),Z=Math.sqrt(c*c+J*J),Q=B/Math.min(D,Z),M=(s.x-r.x-r.G/2)/r.G,u=(s.y-r.y-r.n/2)/r.n;
S.Angl.v.val=180*Y/Math.PI;S.Scl.v.val=Q*100;var P=S.Ofst.v;P.Hrzn.v.val=M*100;P.Vrtc.v.val=u*100};q.i.UO=function(s,N){for(var l=0;
l<s.length;l++){var r=s[l],S=Math.round(r[0]*4096),z=r[1],A=r[2],B=r[3];if(A==null)A=1;if(B==null)B=.5;
var Y=q.i.Sm({w:z[0]*255,A:z[1]*255,U:z[2]*255});N.Clrs.v[l]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:S},Mdpn:{t:"long",v:Math.round(B*100)},Clr:{t:"Objc",v:Y},Type:{t:"enum",v:{Clry:"UsrS"}}}};
N.Trns.v[l]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:S},Mdpn:{t:"long",v:Math.round(B*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(A*100)}}}}}};
q.c5={};q.c5.a8r=function(s,N,r,S,z,A,B,Y,t,p,f,a){var D,c,J,Z=Date.now(),Q=!1,M=B,u=p,P,m,i,e,X=A*255,$=255-t*255,O=1+z*6,T=1+Y*6,b=1+a*4,R=(b-1)/7,w=0,F=255-0,L,x,g,n,h,_,H,G,j,v,C,E,I,dJ=0,fG=1,o,i4,df,eO,cO,ej,cn,j5,gP,bY,gR=1+f,c3,jj=q.m(r*S),jC=q.m(r*S),kf=q.m(r*S),bz=q.m(r*S),iv=255/X,bI=255/(255-$);
for(c=0;c<S;c++){for(D=0;D<r;D++){var l=c*r+D,jo=l<<2;o=q.il(s[jo],s[jo+1],s[jo+2]);bz[l]=o;if(o<X)jj[l]=255-o*iv;
if(o>$)jC[l]=255-(255-o)*bI}}if(Q)console.log("init",Date.now()-Z);Z=Date.now();if(z*M>0){kf.set(jj);
q.W9.oU(kf,jj,new hq(0,0,r,S),M)}if(Y*u>0){kf.set(jC);q.W9.oU(kf,jC,new hq(0,0,r,S),u)}if(Q)console.log("blur",Date.now()-Z);
Z=Date.now();var iZ=q.m(256),jD=q.m(256);for(var l=0;l<256;l++){var dM=l*(1/255),ka=0;ka=(1-Math.pow(1-dM,O))*255;
iZ[l]=Math.max(0,Math.min(255,~~(ka+.5)));ka=Math.pow(dM,T)*255;jD[l]=Math.max(0,Math.min(255,~~(ka+.5)))}var ds=new Uint8ClampedArray(N.buffer),ee=new Float32Array(32768);
for(var l=0;l<32768;l++){c3=Math.sqrt(l)*(1/128);if(gR>1)c3=(1-c3)*(gR-1)+1;else c3=c3*(gR-1)+1;ee[l]=c3}for(c=0;
c<S;c++){for(D=0;D<r;D++){var l=c*r+D,jo=l<<2,ka=bz[l],a9=jj[l]*(1/255),ir=jC[l]*(1/255);ka=(1-a9)*ka+a9*iZ[~~ka];
ka=(1-ir)*ka+ir*jD[~~ka];o=ka;var eP=s[jo],jh=s[jo+1],eS=s[jo+2];i4=-eP*.168736-jh*.331264+eS*.5;df=eP*.5-jh*.418688-eS*.081312;
c3=ee[~~(.5+i4*i4+df*df)];eO=i4*c3;ej=df*c3;fG=1-Math.min(2-(a9+ir),1);i4=fG*i4+(1-fG)*eO;df=fG*df+(1-fG)*ej;
j5=o+1.402*df;gP=o-.34414*i4-.71414*df;bY=o+1.772*i4;ds[jo]=~~(.5+j5);ds[jo+1]=~~(.5+gP);ds[jo+2]=~~(.5+bY)}}if(Q)console.log("apply masks",Date.now()-Z);
Z=Date.now()};q.eN={};q.eN.m8=function(s,N,r,S,z){var A=!1,J=1,x=0,g=0,C=0,gR=0;if(!N.V9(z)){var B=N.Ms(z),Y=q.m(B.$()*4);
q.LP(s,N,Y,B);s=Y;N=B}var t=q.m(N.$());q.lf(r,z,t,N);q.round(t);z=z.PS(N);var p=z.G,f=z.n,a=p*3<f?2:1,D=f*3<p?2:1;
if(z.$()*(a*2+1)*(D*2+1)<N.$()){var B=new hq(z.x-p*a,z.y-f*a,p*(a*2+1),f*(D*2+1)).PS(N),Y=q.m(B.$()*4);
q.LP(s,N,Y,B);var c=q.m(B.$());q.lf(t,N,c,B);N=B;s=Y;t=c}while((N.G+N.n)/2/J>400)J++;var Z=s,Q=N,M=t,u=Math.floor(Q.G/J),P=Math.floor(Q.n/J);
s=q.m(u*P*4);q.scale.MZ(Z,Q.G,Q.n,s,u,P,1/J);t=q.m(u*P);q.scale.$B(M,Q.G,Q.n,t,u,P,1/J);q.round(t,1);
var m=q.af(t,new hq(0,0,u,P));if(m.Nf())return 1;var i=Math.round((m.G+m.n)/2/15),e=Date.now(),X=q.m(u*P*4);
q.aeL(s,X);var $=Int16Array,O=new $(u*P*24),T=new $(64),b=new $(64),F=new $(64),L=new $(64);for(var n=3;
n<P-4;n++)for(var h=3;h<u-4;h++){var _=n*u+h;if(t[_]==255)continue;if(q.eN.ajc(X,t,h,n,u,P,T,b,F)!=0)continue;
q.eN.l0(T,L);O[x]=h;O[x+1]=n;q.eN.r8(T,O,x+4,12);x+=16;q.eN.l0(b,L);q.eN.r8(b,O,x,4);x+=4;q.eN.l0(F,L);
q.eN.r8(F,O,x,4);x+=4;var H=O[x-24+5],G=O[x-24+6];O[x-24+5]=O[x-24+20];O[x-24+6]=O[x-24+16];O[x-24+16]=H;
O[x-24+20]=G;g++}if(g==0)return 2;if(A)console.log(Date.now()-e,"FWHT computed");e=Date.now();var j=[];
q.eN.UR(0,g-1,j,O,new $(2*24));if(A)console.log(Date.now()-e,"KD tree computed");e=Date.now();var v=new Float32Array(u*P*4);
for(var l=0;l<g;l++){var E=l,I=q.eN.akY(E,O,j,i);if(I==-1)continue;var dJ=E*24,fG=I*24,o=O[dJ],i4=O[dJ+1],df=O[fG],eO=O[fG+1];
C+=q.eN.getError(fG,dJ,O,1e99);var cO=df-o,ej=eO-i4;v[(P+ej)*2*u+(u+cO)]+=1}if(A)console.log(Date.now()-e,"NN found");
e=Date.now();var cn=[],j5=1/(2*u);for(var l=0;l<v.length;l++){if(v[l]>0){var n=Math.floor(l*j5),h=l-n*2*u;
cn.push({x:h-u,y:n-P,h:v[l],E9:-1})}}cn.sort(function(ir,eP){return eP.h-ir.h});var gP=new Int32Array(u*P),bY=[];
for(var l=0;l<u*P;l++){if(t[l]==255){gP[l]=gR;bY.push(l%u,Math.floor(l/u));gR++}else if(s[(l<<2)+3]<200){gP[l]=-2}else{gP[l]=-1}}var c3=q.eN.a6n(u,P,cn,gP,bY,gR);
if(c3==null){return 3}var jj=c3.Q3,top=c3.top;jj=q.eN.a0N(jj,s,u,P,top,gP,bY,gR);if(A)console.log(Date.now()-e,"optimal labeling found");
e=Date.now();var B=z.clone();B.r6(1,1);B=B.PS(Q);var jC=q.m(B.$()*4),kf=q.m(B.$());q.LP(Z,Q,jC,B);var bz=Q.G,iv=Q.n;
for(var n=0;n<iv;n++)for(var h=0;h<bz;h++){if(M[n*bz+h]==0)continue;var bI=Math.min(Math.floor(h/J),u-1),jo=Math.min(Math.floor(n/J),P-1),iZ=gP[jo*u+bI];
if(iZ==-1)continue;var jD=jj[iZ],dM=top[jD],ka=h+dM.x*J,ds=n+dM.y*J,ee=ds*bz+ka<<2,a9=(n-B.y+Q.y)*B.G+(h-B.x+Q.x)<<2;
jC[a9]=Z[ee];jC[a9+1]=Z[ee+1];jC[a9+2]=Z[ee+2];jC[a9+3]=Z[ee+3];jC[a9+3]=Z[ee+3];kf[a9>>2]=jD+1}if(A)console.log(Date.now()-e,"copied back");
e=Date.now();q.wU.m8(jC,kf,B,null,1e3);if(A)console.log(Date.now()-e,"poisson smooth");e=Date.now();
q.LP(jC,B,S,z);return 0};q.eN.I9=function(s,N,r,S,z,A){return q.eN.NX(s+z.x,N+z.y,r,S)&&A[(N+z.y)*r+(s+z.x)]==-1?0:1e9};
q.eN.a0N=function(s,N,r,S,top,z,A,B){var Y=Date.now(),t=[-1,0,0,-1,1,0,0,1],p=1e99,f=[],a=[],D=2*(B*2*3+B*2),c=null,J=0,Z=0,Q=0,M=1e99;
while(!0&&Date.now()<Y+12e3){Q++;var u=null,P=p;for(var m=0;m<top.length;m++){var i=top[m],e=0,X=B+2,$=0;
for(var l=0;l<B;l++){var O=A[l*2],T=A[l*2+1],b=top[s[l]],R=q.eN.I9(O,T,r,S,i,z),w=s[l]==m?1e9:q.eN.I9(O,T,r,S,b,z);
for(var i3=0;i3<4;i3++){if(i3==0&&O==0||i3==1&&T==0||i3==2&&O==r-1||i3==3&&T==S-1)continue;var F=t[2*i3],L=t[2*i3+1],x=O+F,g=T+L,n=z[g*r+x];
if(n==-2){}else if(n==-1){R+=3*q.eN.OC(x+i.x,g+i.y,x,g,r,S,N,z);R+=2*q.eN.OC(x+i.x+F,g+i.y+L,x+F,g+L,r,S,N,z);
w+=3*q.eN.OC(x+b.x,g+b.y,x,g,r,S,N,z);w+=2*q.eN.OC(x+b.x+F,g+b.y+L,x+F,g+L,r,S,N,z)}else if(i3>1){if(s[l]==s[n]){var h=0;
h+=q.eN.OC(O+b.x,T+b.y,O+i.x,T+i.y,r,S,N,z);h+=q.eN.OC(x+b.x,g+b.y,x+i.x,g+i.y,r,S,N,z);f[e]=l;f[e+1]=n;
a[e]=h;a[e+1]=h;e+=2}else{var _=top[s[n]],H=X,G=0,j=0,v=0;X++;G+=q.eN.OC(O+b.x,T+b.y,O+i.x,T+i.y,r,S,N,z);
G+=q.eN.OC(x+b.x,g+b.y,x+i.x,g+i.y,r,S,N,z);j+=q.eN.OC(O+_.x,T+_.y,O+i.x,T+i.y,r,S,N,z);j+=q.eN.OC(x+_.x,g+_.y,x+i.x,g+i.y,r,S,N,z);
v+=q.eN.OC(O+_.x,T+_.y,O+b.x,T+b.y,r,S,N,z);v+=q.eN.OC(x+_.x,g+_.y,x+b.x,g+b.y,r,S,N,z);f[e]=l;f[e+1]=H;
a[e]=G;a[e+1]=G;e+=2;f[e]=n;f[e+1]=H;a[e]=j;a[e+1]=j;e+=2;f[e]=H;f[e+1]=B+1;a[e]=v;a[e+1]=0;e+=2}}}f[e]=B;
f[e+1]=l;a[e]=R;a[e+1]=0;e+=2;f[e]=l;f[e+1]=B+1;a[e]=w;a[e+1]=0;e+=2;$+=Math.min(R,w)}if($>P)continue;
var C=q.Tk.PR(X,e,B,B+1,f,a,P);if(C.PG<P){P=C.PG;var E=s.slice(0);q.eN.amO(E,e,f,C.oG,m,B);u=E}}if(P*1>=p){break}p=P;
s=u;if((Q&3)==0){if(P*1.03>=M)break;M=P}if((Q&3)==0){var I=0*top.length;for(var l=0;l<top.length&&top.length>I;
l++){if(s.indexOf(l)!=-1)continue;top.splice(l,1);for(var n=0;n<s.length;n++)if(s[n]>l)s[n]--;l--}}}return s};
q.eN.amO=function(s,N,r,S,z,A){for(var l=0;l<S.length;l++){var B=S[l]<<1,Y=0,t=0;if(B<N){Y=r[B];t=r[B+1]}else{t=r[B];
Y=r[B+1]}if(Y==A&&s[t]!=z)s[t]=z}};q.eN.Tp=function(top,s,N,r,S,z,A,B,Y){for(var l=0;l<N.length;l++){var t=N[l],p=!0;
if(B!=null&&!(q.eN.NX(B+t.x,Y+t.y,z,A)&&r[z*(Y+t.y)+B+t.x]==-1))continue;if(t.E9==-1)t.E9=q.eN.a5Q(t,r,S,z,A);
if(t.E9<=0)continue;for(var f=0;f<top.length;f++){var a=top[f],D=t.x-a.x,c=t.y-a.y;if(D*D+c*c<s){p=!1;
break}}if(p)return t}return null};q.eN.a5Q=function(s,N,r,S,z){var A=0;for(var l=0;l<r.length;l+=2){var B=r[l]+s.x,Y=r[l+1]+s.y;
if(q.eN.NX(B,Y,S,z)&&N[S*Y+B]==-1)A++}return A/(r.length>>1)};q.eN.a6n=function(s,N,r,S,z,A){var top=[];
for(var l=0;l<60;l++){var B=q.eN.Tp(top,25,r,S,z,s,N);if(B==null)break;else top.push(B)}if(top.length==0)return null;
var Y=[];for(var l=0;l<A;l++){var t=z[l*2],p=z[l*2+1],f=-1,a=0;while(!0){a++;var D=Math.random();f=Math.floor(D*.99999*top.length);
var c=top[f],J=t+c.x,Z=p+c.y;if(q.eN.NX(J,Z,s,N)&&S[Z*s+J]==-1)break;if(a>100){var B;B=q.eN.Tp(top,0,r,S,z,s,N,t,p);
if(B==null)return null;top.push(B);a=0}}Y.push(f)}return{top:top,Q3:Y}};q.eN.OC=function(s,N,r,S,z,A,B,Y){if(s==r&&N==S)return 0;
if(s<0||N<0||s>=z||N>=A||r<0||S<0||r>=z||S>=A||Y[N*z+s]!=-1||Y[S*z+r]!=-1)return 1e7;var t=N*z+s<<2,p=S*z+r<<2,f=B[t]-B[p],a=B[t+1]-B[p+1],D=B[t+2]-B[p+2];
return 1+(f*f+a*a+D*D)};q.eN.NX=function(s,N,r,S){return s>=0&&s<r&&N>=0&&N<S};q.eN.akY=function(s,N,r,S){var z=24*s,A=N[z],B=N[z+1],Y=S*S,t=0,D=1e9;
while(r[t]!=99)if(N[z+r[t]]<r[t+1])t=r[t+2];else t=r[t+3];var p=r[t+1],f=r[t+2],a=-1;for(var l=p;l<=f;
l++){var t=l,c=t*24,J=N[c],Z=N[c+1];if((J-A)*(J-A)+(Z-B)*(Z-B)<Y)continue;var Q=q.eN.getError(c,z,N,D);
if(Q<D){D=Q;a=t}}return a};q.eN.getError=function(s,N,r,S){var z=0;for(var A=4;A<24;A+=4){var B=r[N+A]-r[s+A],Y=r[N+A+1]-r[s+A+1],t=r[N+A+2]-r[s+A+2],p=r[N+A+3]-r[s+A+3];
z+=B*B+Y*Y+t*t+p*p;if(z>=S)return z+1}return z};q.eN.UR=function(s,N,r,S,z){var A=16,D=0;if(N-s<=A){r.push(99,s,N);
return}q.eN.OH(s,N,S,z);var B=-1,Y=-1;for(var l=4;l<24;l++){var t=z[2*l+1]-z[2*l];if(t>Y){Y=t;B=l}}var p=s+N>>1,f=q.eN.a7J(p,s,N,S,B),a=-1;
for(var l=s;l<=N;l++)if(S[24*l+B]==f){if(a==-1)a=l;D=l}if(s+8<a&&a-s>N-D)p=a;else if(D+1<N-8)p=D+1;else if(N-s<64){r.push(99,s,N);
return}else p=p;var c=r.length;r.push(B,f,0,0);r[c+2]=c+4;q.eN.UR(s,p-1,r,S,z);r[c+3]=r.length;q.eN.UR(p,N,r,S,z)};
q.eN.OH=function(s,N,r,S){for(var l=0;l<48;l+=4){S[l]=3e4;S[l+1]=-3e4;S[l+2]=3e4;S[l+3]=-3e4}for(var l=s;
l<=N;l++){var z=l*24;for(var A=0;A<24;A++){var B=r[z+A],Y=S[A<<1],t=S[(A<<1)+1];if(B<Y)S[A<<1]=B;if(B>t)S[(A<<1)+1]=B}}};
q.eN.wI=function(s,N,r){var S=0,l=0;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;
l++;S=r[s+l];r[s+l]=r[N+l];r[N+l]=S;l++};q.eN.wJ=function(s,N,r,S){var z=r+S>>>1,A=s[24*z+N];while(r<=S){while(s[24*r+N]<A)r++;
while(s[24*S+N]>A)S--;if(r<=S){if(s[24*r+N]!=s[24*S+N])q.eN.wI(r*24,S*24,s);r++;S--}}return r};q.eN.a7J=function(s,N,r,S,z){var A=0;
while(N!=r){A=q.eN.wJ(S,z,N,r);if(s<A)r=A-1;else N=A}return S[s*24+z]};q.eN.r8=function(s,N,r,S){for(var l=0;
l<S;l++)N[r+l]=s[l]};q.eN.ajc=function(s,N,r,S,z,A,B,Y,t){var p=(S-3)*z+(r-3),f=p<<2;for(var a=0;a<8;
a++){if(N[p]+N[p+1]+N[p+2]+N[p+3]+N[p+4]+N[p+5]+N[p+6]+N[p+7]!=0||s[f+3]<200||s[f+7]<200||s[f+11]<200||s[f+15]<200||s[f+19]<200||s[f+23]<200||s[f+27]<200||s[f+31]<200)return 1;
var l=a<<3;B[l+0]=s[f+0];Y[l+0]=s[f+1];t[l+0]=s[f+2];B[l+1]=s[f+4];Y[l+1]=s[f+5];t[l+1]=s[f+6];B[l+2]=s[f+8];
Y[l+2]=s[f+9];t[l+2]=s[f+10];B[l+3]=s[f+12];Y[l+3]=s[f+13];t[l+3]=s[f+14];B[l+4]=s[f+16];Y[l+4]=s[f+17];
t[l+4]=s[f+18];B[l+5]=s[f+20];Y[l+5]=s[f+21];t[l+5]=s[f+22];B[l+6]=s[f+24];Y[l+6]=s[f+25];t[l+6]=s[f+26];
B[l+7]=s[f+28];Y[l+7]=s[f+29];t[l+7]=s[f+30];f+=z<<2;p+=z}return 0};q.eN.l0=function(s,N){N[0]=s[32]+s[0];
N[1]=s[33]+s[1];N[2]=s[34]+s[2];N[3]=s[35]+s[3];N[4]=s[36]+s[4];N[5]=s[37]+s[5];N[6]=s[38]+s[6];N[7]=s[39]+s[7];
N[8]=s[40]+s[8];N[9]=s[41]+s[9];N[10]=s[42]+s[10];N[11]=s[43]+s[11];N[12]=s[44]+s[12];N[13]=s[45]+s[13];
N[14]=s[46]+s[14];N[15]=s[47]+s[15];N[16]=s[48]+s[16];N[17]=s[49]+s[17];N[18]=s[50]+s[18];N[19]=s[51]+s[19];
N[20]=s[52]+s[20];N[21]=s[53]+s[21];N[22]=s[54]+s[22];N[23]=s[55]+s[23];N[24]=s[56]+s[24];N[25]=s[57]+s[25];
N[26]=s[58]+s[26];N[27]=s[59]+s[27];N[28]=s[60]+s[28];N[29]=s[61]+s[29];N[30]=s[62]+s[30];N[31]=s[63]+s[31];
N[32]=s[0]-s[32];N[33]=s[1]-s[33];N[34]=s[2]-s[34];N[35]=s[3]-s[35];N[36]=s[4]-s[36];N[37]=s[5]-s[37];
N[38]=s[6]-s[38];N[39]=s[7]-s[39];N[40]=s[8]-s[40];N[41]=s[9]-s[41];N[42]=s[10]-s[42];N[43]=s[11]-s[43];
N[44]=s[12]-s[44];N[45]=s[13]-s[45];N[46]=s[14]-s[46];N[47]=s[15]-s[47];N[48]=s[16]-s[48];N[49]=s[17]-s[49];
N[50]=s[18]-s[50];N[51]=s[19]-s[51];N[52]=s[20]-s[52];N[53]=s[21]-s[53];N[54]=s[22]-s[54];N[55]=s[23]-s[55];
N[56]=s[24]-s[56];N[57]=s[25]-s[57];N[58]=s[26]-s[58];N[59]=s[27]-s[59];N[60]=s[28]-s[60];N[61]=s[29]-s[61];
N[62]=s[30]-s[62];N[63]=s[31]-s[63];s[0]=N[16]+N[0];s[1]=N[17]+N[1];s[2]=N[18]+N[2];s[3]=N[19]+N[3];
s[4]=N[20]+N[4];s[5]=N[21]+N[5];s[6]=N[22]+N[6];s[7]=N[23]+N[7];s[8]=N[24]+N[8];s[9]=N[25]+N[9];s[10]=N[26]+N[10];
s[11]=N[27]+N[11];s[12]=N[28]+N[12];s[13]=N[29]+N[13];s[14]=N[30]+N[14];s[15]=N[31]+N[15];s[16]=N[0]-N[16];
s[17]=N[1]-N[17];s[18]=N[2]-N[18];s[19]=N[3]-N[19];s[20]=N[4]-N[20];s[21]=N[5]-N[21];s[22]=N[6]-N[22];
s[23]=N[7]-N[23];s[24]=N[8]-N[24];s[25]=N[9]-N[25];s[26]=N[10]-N[26];s[27]=N[11]-N[27];s[28]=N[12]-N[28];
s[29]=N[13]-N[29];s[30]=N[14]-N[30];s[31]=N[15]-N[31];N[0]=s[8]+s[0];N[1]=s[9]+s[1];N[2]=s[10]+s[2];
N[3]=s[11]+s[3];N[4]=s[12]+s[4];N[5]=s[13]+s[5];N[6]=s[14]+s[6];N[7]=s[15]+s[7];N[8]=s[0]-s[8];N[9]=s[1]-s[9];
N[10]=s[2]-s[10];N[11]=s[3]-s[11];N[12]=s[4]-s[12];N[13]=s[5]-s[13];N[14]=s[6]-s[14];N[15]=s[7]-s[15];
s[0]=N[4]+N[0];s[1]=N[5]+N[1];s[2]=N[6]+N[2];s[3]=N[7]+N[3];s[4]=N[0]-N[4];s[5]=N[1]-N[5];s[6]=N[2]-N[6];
s[7]=N[3]-N[7];s[8]=N[12]+N[8];s[9]=N[13]+N[9];s[10]=N[14]+N[10];s[11]=N[15]+N[11];s[12]=N[8]-N[12];
s[13]=N[9]-N[13];s[14]=N[10]-N[14];s[15]=N[11]-N[15];N[0]=s[2]+s[0];N[1]=s[3]+s[1];N[2]=s[0]-s[2];N[3]=s[1]-s[3];
N[4]=s[6]+s[4];N[5]=s[7]+s[5];N[6]=s[4]-s[6];N[7]=s[5]-s[7];N[8]=s[10]+s[8];N[9]=s[11]+s[9];N[10]=s[8]-s[10];
N[11]=s[9]-s[11];N[12]=s[14]+s[12];N[13]=s[15]+s[13];N[14]=s[12]-s[14];N[15]=s[13]-s[15];s[0]=N[1]+N[0];
s[1]=N[0]-N[1];s[2]=N[3]+N[2];s[3]=N[2]-N[3];s[4]=N[5]+N[4];s[5]=N[4]-N[5];s[6]=N[7]+N[6];s[7]=N[6]-N[7];
s[8]=N[9]+N[8];s[9]=N[8]-N[9];s[10]=N[11]+N[10];s[11]=N[10]-N[11];s[12]=N[13]+N[12];s[13]=N[12]-N[13];
s[14]=N[15]+N[14];s[15]=N[14]-N[15]};q.eN.aoD=function(){var s="",i3=64,N="v",r="t",S="a",z=5,l,A,B;
for(l=i3>>1;l>0;l>>=1,z--){for(A=0;A<i3;A++){B=(A>>z&1)!=0;if(B){s+=r+"["+A+"] = "+N+"["+(-l+A)+"] - "+N+"["+A+"];  "}else{s+=r+"["+A+"] = "+N+"["+(l+A)+"] + "+N+"["+A+"];  "}}S=N;
N=r;r=S;s+="\n"}console.log(s)};q.eN.amL=function(i3,s,N){var r=s,S=N,z=r,A=0,l,Y,t;while(i3>>A!=2)A++;
var B=A;for(l=i3>>1;l>0;l>>=1,A--){for(Y=0;Y<i3;Y++){t=(Y>>A&1)!=0;if(t)S[Y]=r[-l+Y]-r[Y];else S[Y]=r[l+Y]+r[Y]}z=r;
r=S;S=z}if((B&1)==1)for(l=0;l<i3;l++)N[l]=r[l]};q.W6={};q.W6.XK=function(s,N,r,S,z,A,B,Y,t){var p=Date.now(),f=new Uint32Array(s.buffer),a=new Uint32Array(N.buffer),D=B/r,c=Y/S,J=1/D,Z=1/c,Q=new Float64Array(2),M=3,u=1/M,P=1/(M*M),m=0,i=0,e=r,X=S;
if(z){m=z.x;i=z.y;e=z.G;X=z.n}for(var $=0;$<X;$++)for(var O=0;O<e;O++){var T=m+O,b=i+$,l=b*r+T,R=l<<1,w=l<<2;
q.W6.a6J(A,B,Y,(T+.5)*D,(b+.5)*c,Q);var F=Q[0]*J,L=Q[1]*Z;if(F==0&&L==0)a[l]=f[l];else{q.P.Xu(T+F+.5,b+L+.5,f,r,S,a,l,t)}}};
q.W6.a6J=function(s,N,r,S,z,A){S-=.499999;z-=.499999;var B=~~S,Y=~~z,t=S-B,p=z-Y,f=(1-p)*(1-t),a=(1-p)*t,D=p*(1-t),c=p*t,J=B<N-1?B+1:B,Z=Y<r-1?Y+1:Y,Q=Y*N+B<<1,M=Y*N+J<<1,u=Z*N+B<<1,P=Z*N+J<<1;
A[0]=f*s[Q]+a*s[M]+D*s[u]+c*s[P];A[1]=f*s[Q+1]+a*s[M+1]+D*s[u+1]+c*s[P+1]};q.W6.aq_=function(s,N,r,S,z){var A=1/s,B=[-1,1,-s,s],Y=S.length;
for(var t=0;t<Y;t++){var l=S[t],p=l<<1,f=t<<1,a=~~(l*A),D=l-s*a,c=r[p],J=r[p+1],Z=0,Q=0;if(D!=0&&D!=s-1){var M=l-1<<1,u=l+1<<1,P=r[M],m=r[u],i=r[M+1],e=r[u+1],X=c-(P+m)*.5,$=J-(i+e)*.5;
Z-=X*z;Q-=$*z}if(a!=0&&a!=N-1){var M=l-s<<1,u=l+s<<1,P=r[M],m=r[u],i=r[M+1],e=r[u+1],X=c-(P+m)*.5,$=J-(i+e)*.5;
Z-=X*z;Q-=$*z}r[p]=c+Z;r[p+1]=J+Q}};q.W6.aiu=function(s,N){var r=s+","+N;if(q.W6.YF==r)return q.W6._u;
var S=q.W6._u=[];q.W6.YF=r;for(var l=0;l<=1e3;l++){var z=l*.001,A=Math.sqrt(z),B=Math.exp(-4*A),Y=.96*(1-A*A),t=N*((1-s)*B+s*Y);
S[l]=t}return S};q.W6.YF="";q.W6._u=[];q.W6.a2a=function(s,N,r,S,z,A,B,Y,t,p,f,a,D){var c=Math.max(0,Math.floor(z-B-1)),J=Math.min(N,Math.ceil(z+B+1)),Z=Math.max(0,Math.floor(A-B-1)),Q=Math.min(r,Math.ceil(A+B+1)),M=2*N,u=B*B,P=1/B,m=0;
if(D&&(S==3||S==6))t=-t;var i=q.W6.aiu(Y,t);for(var e=Z;e<Q;e++)for(var X=c;X<J;X++){var l=e*N+X,$=l<<1,O=(z-X)*P,T=(A-e)*P,b=O*O+T*T;
if(b<1){a[m]=l;var R=i[~~(b*1e3)];if(S==1){s[$]=s[$]*(1-R*.05);s[$+1]=s[$+1]*(1-R*.05)}else{var w=0,F=0,g,n,h,_;
if(S==0){w=p*R;F=f*R}else if(S==2){}else if(S==3){w=R*T;F=-R*O}else if(S==4){w=R*O;F=R*T}else if(S==5){w=-R*O;
F=-R*T}else if(S==6){w=f*R;F=-p*R}var L=s[$],x=s[$+1];if(X==0||X!=N-1&&w<0){g=1+s[$+2]-L;h=s[$+3]-x}else{g=L-s[$-2]+1;
h=x-s[$-1]}if(e==0||e!=r-1&&F<0){n=s[$+M]-L;_=1+s[$+M+1]-x}else{n=L-s[$-M];_=x-s[$-M+1]+1}s[$]=-(g*w+n*F-L);
s[$+1]=-(h*w+_*F-x)}m++}}};q.W6.ak9=function(s){var N=s[0],r=s[0],S=s[1],z=s[1];for(var l=0;l<s.length;
l+=2){var A=s[l],B=s[l+1];if(A<N)N=A;else if(A>r)r=A;if(B<S)S=B;else if(B>z)z=B}return[N,S,r,z]};q.a7r=function(s,N,r,S,z){function A(o,i4,df,eO){return Math.sqrt((o-df)*(o-df)+(i4-eO)*(i4-eO))}function B(o,i4){return o>=0&&o<N&&i4>=0&&i4<r}function Y(o){if(o<0)return 0;
if(o>=N)return N-1;return o}function t(o){if(o<0)return 0;if(o>=r)return r-1;return o}function p(l,o){var i4=o[3]*(1/255),df=S[l]+o[0]*i4;
if(df>255)df=255;S[l]=df;df=S[l+1]+o[1]*i4;if(df>255)df=255;S[l+1]=df;df=S[l+2]+o[2]*i4;if(df>255)df=255;
S[l+2]=df}function f(o,i4,df){if(!H(o,i4))return;if(df[3]<0)df[3]=0;p((i4*N+o)*4,df)}function a(o){var i4=o.slice(0,3);
i4[3]=0;return i4}var D=N/800;function c(o){return Math.round(o*D)}function J(){for(var l=0;l<=300;l++){j[l]=Z(l)}}function Z(r){var o=.8,i4=.2,df=o*i4,eO=r/60%2-1,cO=df*(1-eO*eO),ej=i4-df,cn;
if(r<60){cn=[df+ej,cO,0]}else if(r<120){cn=[cO,df,0]}else if(r<180){cn=[0,df,cO]}else if(r<240){cn=[0,cO,df]}else if(r<300){cn=[cO,0,df]}else{cn=[df,0,cO]}return[(cn[0]+ej)*255,(cn[1]+ej)*255,(cn[2]+ej)*255]}function Q(r){return j[~~r]}function M(o){return 1-u(o)}function u(o){return o-~~o}function P(o,i4,df,eO){h(o,i4,df,0,i4+1,1,eO)}function m(o,i4,df,eO,cO,ej){h(o,i4,df,0,eO,1,cO,ej)}function i(o){for(var l=0;
l<S.length;l+=4){p(l,o)}}function e(o,i4,df,eO,cO,ej,cn,j5){X(o,i4,df,eO,cO,1,ej,cn,j5)}function X(o,i4,df,eO,cO,ej,cn,j5,gP){if(ej==null)ej=.5;
if(cn==null)cn=0;if(j5==null)j5=0;if(gP==null)gP=!1;var bY=o.x,gR=o.y,c3=df.slice(0),jj=~~(df[3]*C);
eO=eO*C;if(!gP){i4=_(i4);cO=_(cO);cn=_(cn);j5=_(j5)}var jC=Y(bY-i4),kf=Y(bY+i4);for(var bz=jC;bz<=kf;
bz++){var iv=bz-bY,bI=Math.floor(Math.sqrt(i4*i4-iv*iv)),jo=t(gR-bI),iZ=t(gR);for(var jD=jo;jD<=iZ;jD++){var dM=A(bz,jD,bY,gR);
if(dM>i4||dM<=i4-cO)break;var ka=(dM-i4+cO)/cO;c3[3]=jj-eO*(ej==1?ka:Math.pow(ka,ej));p((jD*N+bz)*4,c3)}jo=t(gR+bI);
for(var jD=jo;jD>iZ;jD--){var dM=A(bz,jD,bY,gR);if(dM>i4||dM<=i4-cO)break;var ka=(dM-i4+cO)/cO;c3[3]=jj-eO*(ej==1?ka:Math.pow(ka,ej));
p((jD*N+bz)*4,c3)}}if(cn>0){h(o,i4+cn,c3,c3[3],cn,1,0,0,!0)}if(j5>0){h(o,i4-cO,G(df),-df[3],j5,1,0,0,!0)}}function $(o,i4,df,eO,cO,ej){h(o,i4,df,df[3],i4+1,1,eO,cO,ej)}function O(o,i4,df,eO,cO){if(cO==null)cO=!1;
var ej=o.x,cn=o.y;eO*=C;if(!cO){i4=_(i4);df=_(df)}var j5=Y(ej-i4),gP=Y(ej+i4);for(var bY=j5;bY<gP;bY++){var gR=bY-ej,c3=~~Math.sqrt(i4*i4-gR*gR),jj=t(cn-c3),jC=t(cn);
for(var kf=jj;kf<=jC;kf++){var bz=A(bY,kf,ej,cn);if(bz>i4||bz<=i4-df)break;var iv=(i4-bz)/df,bI=Q(300*iv);
bI[3]=eO;p((kf*N+bY)*4,bI)}jj=t(cn+c3);for(var kf=jj;kf>jC;kf--){var bz=A(bY,kf,ej,cn);if(bz>i4||bz<=i4-df)break;
var iv=(i4-bz)/df,bI=Q(300*iv);bI[3]=eO;p((kf*N+bY)*4,bI)}}}function T(v,o){var i4=v.cT,df=v.vL,eO=o.slice(0),cO=o[3]*C,ej=Math.abs(df.y-i4.y)>Math.abs(df.x-i4.x);
if(ej){var cn=i4.x;i4.x=i4.y;i4.y=cn;cn=df.x;df.x=df.y;df.y=cn}if(i4.x>df.x){var cn=i4;i4=df;df=cn}var j5=df.x-i4.x,gP=df.y-i4.y,bY=j5==0?1:gP/j5,gR=Math.round(i4.x),c3=i4.y+bY*(gR-i4.x),jj=M(i4.x+.5),jC=gR,kf=~~c3;
if(ej){eO[3]=cO*M(c3)*jj;f(kf,jC,eO);eO[3]=cO*u(c3)*jj;f(kf+1,jC,eO)}else{eO[3]=cO*M(c3)*jj;f(jC,kf,eO);
eO[3]=cO*u(c3)*jj;f(jC,kf+1,eO)}var bz=c3-bY;gR=Math.round(df.x);c3=df.y+bY*(gR-df.x);jj=u(df.x+.5);
var iv=gR,bI=~~c3;if(ej){eO[3]=cO*M(c3)*jj;f(bI,iv,eO);eO[3]=cO*u(c3)*jj;f(bI+1,iv,eO)}else{eO[3]=cO*M(c3)*jj;
f(iv,bI,eO);eO[3]=cO*u(c3)*jj;f(iv,bI+1,eO)}if(ej){for(var jo=jC+1;jo<=iv-1;jo++){eO[3]=cO*M(bz);f(~~bz,jo,eO);
eO[3]=cO*u(bz);f(~~bz+1,jo,eO);bz+=bY}}else{for(var jo=jC+1;jo<=iv-1;jo++){eO[3]=cO*M(bz);f(jo,~~bz,eO);
eO[3]=cO*u(bz);f(jo,~~bz+1,eO);bz+=bY}}}function b(o,i4,df,eO){for(var l=0;l<4;l++){var cO=o.Mt(i4+1.3*l,df);
T(cO,eO,1)}}function cR(o,i4){this.x=Math.round(o);this.y=Math.round(i4)}var R=Math.PI/180;cR.prototype.Mt=function(o,i4){o=o*R;
var df=this.x+i4*Math.cos(o),eO=this.y+i4*Math.sin(o);return new w(this.x,this.y,df,eO)};cR.prototype.ala=function(o,i4){o=o*R;
var df=this.pC+i4*Math.cos(o),eO=this.atE+i4*Math.sin(o);return new cR(df,eO)};function w(o,i4,df,eO){this.cT=new cR(o,i4);
this.vL=new cR(df,eO)}w.prototype.Zv=function(o){var i4=o*this.cT.x+(1-o)*this.vL.x,df=o*this.cT.y+(1-o)*this.vL.y;
return new cR(i4,df)};var F=e,L=$,x=P,g=m,n=O,h=X,_=c,H=B,G=a,j=[];J();for(var l=0;l<s.length;l++){S[l]=s[l]}var v=new w(N*z[2],r*z[3],N/2,r/2),C=z[1],E=[];
E[0]=function I(){var o=[80,40,15,60],df=0,eO=0;x(v.Zv(1.4),260,o,10);x(v.Zv(1),100,[240,50,50,30],30);
L(v.Zv(1),60,[255,40,0,40]);var i4=[255,255,255,255];h(v.Zv(1),70,i4,i4[3],58,.5);x(v.Zv(1),12,i4);i4[3]=40;
F(v.Zv(1),150,i4,i4[3],150);for(var l=0;l<40;l++){df+=Math.random()*25;eO=Math.random()*_(300)+_(100);
var cO=v.Zv(1).Mt(df,eO);T(v.Zv(1).Mt(df,eO),[110,110,110,30])}L(v.Zv(1),130,[255,255,255,8]);var ej=[170,30,23,70];
g(v.Zv(1),70,ej,1,3,3);var cn=[60,60,130,40];x(v.Zv(.47),44,cn,5);x(v.Zv(.43),22,cn,3);cn[3]=16;x(v.Zv(.53),15,cn,2);
var j5=[138,94,42,100];x(v.Zv(.2),16,j5,2);var gP=[130,255,170,180];L(v.Zv(0),4,gP);L(v.Zv(-.25),5,gP);
j5=[150,90,0,50];F(v.Zv(-.45),55,G(j5),-j5[3],40,2);x(v.Zv(-.42),35,j5,2);x(v.Zv(-.5),15,j5,2);n(v.Zv(-1.28),145,11,70);
var bY=Q(0);bY[3]=50;F(v.Zv(-1.28),149,bY,bY[3],4);bY=Q(300);bY[3]=50;F(v.Zv(-1.28),155-1,G(bY),-bY[3],3);
var gR=[130,130,10,50];g(v.Zv(-1),73,gR,3,2);var c3=[40,130,70,40];F(v.Zv(-1),70,G(c3),-c3[3],35);c3=[40,170,60,50];
x(v.Zv(-.7),25,c3,4);var c3=[70,110,50,60];F(v.Zv(1.3),30,G(c3),-c3[3],11,3);cn=[0,50,210,80];L(v.Zv(-.72),20,cn)};
E[1]=function dJ(){L(v.Zv(1),150,[240,70,70,60]);x(v.Zv(1),100,[200,60,60,40],30);var o=[255,255,255,255],i4=0,df=0;
h(v.Zv(1),75,o,o[3],63);x(v.Zv(1),12,o);L(v.Zv(1),270,[200,200,200,20],10);for(var l=0;l<10;l++){i4+=10+Math.random()*40;
df=Math.random()*_(250)+_(80);var eO=v.Zv(1).Mt(i4,df);T(eO,[110,110,110,35])}i4=5;df=100;for(var l=0;
l<12;l++){i4+=30;b(v.Zv(1),i4,df,[90,90,90,40])}var cO=[150,40,23,100];g(v.Zv(1),70,cO,1,3,3);var ej=[30,100,60,40];
L(v.Zv(-.9),180,[255,255,255,20]);x(v.Zv(-.9),140,ej,15);var cn=[170,80,25,15];g(v.Zv(-.9),120,cn,1,4,4);
var j5=[110,240,190,200];L(v.Zv(-.6),3,j5);j5[3]=100;L(v.Zv(-.6),7,j5);var gP=[230,120,40,85];L(v.Zv(-.73),9,gP);
var bY=[60,60,190,50];x(v.Zv(.3),28,bY,6);bY[3]=25;x(v.Zv(.34),20,bY,3)};E[2]=function fG(){var o=[255,255,255,255],df=0,eO=0;
x(v.Zv(1),13,o);h(v.Zv(1),150,o,o[3],137);var i4=[120,80,35,20];x(v.Zv(1.4),260,i4,10);for(var l=0;l<40;
l++){df+=5+Math.random()*30;eO=Math.random()*_(300);T(v.Zv(1).Mt(df,eO),[110,110,110,20])}var cO=[10,30,255,30];
x(v.Zv(1),70,cO,50);var ej=[15,90,170,15];x(v.Zv(1.5),60,ej);var cn=[220,220,20,50];x(v.Zv(-1.15),8,cn,2);
var o=[255,255,255,40];L(v.Zv(-1.18),6,o);L(v.Zv(-1.18),4,o);cn=[110,110,10,8];F(v.Zv(-1.2),32,G(cn),-cn[3],20,3);
var j5=[5,0,16,255];for(var l=0;l<4;l++){x(v.Zv(-1.36),10,j5,3)}var gP=[90,200,150,20],bY=gP.slice(0);
bY[3]*=2;x(v.Zv(-1.32),7,bY,3);x(v.Zv(-1.36),7,bY,3);x(v.Zv(-1.4),7,bY,3);var o=[230,230,230,100];L(v.Zv(-1.36),2,o);
o[3]=3;x(v.Zv(-.55),10,o);cn=[120,100,10,18];x(v.Zv(-.55),160,cn,8);x(v.Zv(-.55),80,cn,4);gP[3]=3;bY[3]=6;
F(v.Zv(-.49),13,G(bY),-bY[3],13,2);F(v.Zv(-.55),13,G(bY),-bY[3],13,2);gP[3]=20;x(v.Zv(.15),25,gP,3);
cn[3]=100;L(v.Zv(-.52),3,cn);cn=[200,200,50,40];x(v.Zv(.27),1,cn,4);var gR=[150,40,23,30];F(v.Zv(1),80,G(gR),-gR[3],2,1)};
return E[z[0]]()};q.lO={};q.lO.yZ=function(s){var N=s.length,i3=s[0].length,r=new Array(i3);for(var l=0;
l<i3;l++)r[l]=new Array(N);for(var l=0;l<i3;l++)for(var S=0;S<N;S++)r[l][S]=s[S][l];return r};q.lO.lA=function(s,N){var r=s.length,i3=s[0].length,S=new Array(r);
for(var l=0;l<r;l++)S[l]=new Array(i3);for(var l=0;l<r;l++)for(var z=0;z<i3;z++)S[l][z]=s[l][z]-N[l][z];
return S};q.lO.add=function(s,N){var r=s.length,i3=s[0].length,S=new Array(r);for(var l=0;l<r;l++)S[l]=new Array(i3);
for(var l=0;l<r;l++)for(var z=0;z<i3;z++)S[l][z]=s[l][z]+N[l][z];return S};q.lO.multiply=function(s,N){var r=s.length,S=s[0].length,i3=N[0].length;
if(S!=N.length)throw"e";var z=new Array(r);for(var l=0;l<r;l++)z[l]=new Array(i3);if((S&1)!=0)for(var l=0;
l<r;l++){var A=s[l],B=z[l];for(var Y=0;Y<i3;Y++){var t=0;for(var p=0;p<S;p++)t+=A[p]*N[p][Y];B[Y]=t}}else for(var l=0;
l<r;l++){var A=s[l],B=z[l];for(var Y=0;Y<i3;Y++){var t=0;for(var p=0;p<S;p+=2)t+=A[p]*N[p][Y]+A[p+1]*N[p+1][Y];
B[Y]=t}}return z};q.lO.j6=function(s,N){var r=s.length,i3=s[0].length,S=new Array(r);for(var l=0;l<r;
l++){var z=0;for(var A=0;A<i3;A++)z+=s[l][A]*N[A];S[l]=z}return S};q.lO.At=function(s,N){var r=[];for(var l=0;
l<s;l++){r.push([]);for(var S=0;S<N;S++)r[l].push(0)}return r};q.lO.a5t=function(s){for(var l=0;l<s.length;
l++)console.log(JSON.stringify(s[l]))};q.lO.ag5=function(s){var N=[];for(var l=0;l<s.length;l++)N.push(s[l].join(","));
return"["+N.join(";")+"]"};q.lO.PR=function(s,N){var r=s.length;for(var S=0;S<r;S++){var z=0,A=Number.NEGATIVE_INFINITY;
for(var l=S;l<r;l++)if(Math.abs(s[l][S])>A){z=l;A=Math.abs(s[l][S])}q.lO.ai_(s,S,z);for(var l=S+1;l<r;
l++){if(s[S][S]==0)return 1;var B=s[l][S]/s[S][S];for(var Y=S;Y<r+1;Y++)s[l][Y]-=s[S][Y]*B}}for(var l=r-1;
l>=0;l--){if(s[l][l]==0)return 1;var t=s[l][r]/s[l][l];N[l]=t;for(var Y=l-1;Y>=0;Y--){s[Y][r]-=s[Y][l]*t;
s[Y][l]=0}}return 0};q.lO.ai_=function(s,N,r){var S=s[N];s[N]=s[r];s[r]=S};q.lO.a9d=function(s){var N=s.length,r=q.lO.At(N,N);
for(var l=0;l<N;l++)r[l][l]=s[l];return r};q.lO.a5_=function(s){var N=s.length,r=s[0].length,S=new Array(N);
for(var l=0;l<N;l++){S[l]=0;for(var z=0;z<r;z++)S[l]+=s[l][z];S[l]/=r}return S};q.lO.BR=function(s){var N=0;
for(var l=0;l<s.length;l++)N+=s[l]*s[l];return Math.sqrt(N)};q.i_={};q.i_.Wd=function(s){var N=~~(s+.5);
return N<0?0:N>255?255:N};q.i_.transform=function(s,N,r){var S=q.i_.Wd,z=s.w.length;for(var l=0;l<z;
l++){var A=s.w[l],B=s.A[l],Y=s.U[l];N.w[l]=S(r[0]*A+r[1]*B+r[2]*Y+r[3]*255);N.A[l]=S(r[4]*A+r[5]*B+r[6]*Y+r[7]*255);
N.U[l]=S(r[8]*A+r[9]*B+r[10]*Y+r[11]*255)}};q.i_.x0=function(s,N,r){var S=q.i_.Wd,z=s.length;for(var l=0;
l<z;l+=4){var A=s[l],B=s[l+1],Y=s[l+2];N[l]=S(r[0]*A+r[1]*B+r[2]*Y+r[3]*255);N[l+1]=S(r[4]*A+r[5]*B+r[6]*Y+r[7]*255);
N[l+2]=S(r[8]*A+r[9]*B+r[10]*Y+r[11]*255)}};q.i_.f4=function(s){var N=s[0]+s[1]+s[2],r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(N==1){var S=s.indexOf(1);r[S]=r[S+4]=r[S+8]=1}else{r[0]=s[0];r[5]=s[1];r[10]=s[2]}return r};q.i_.vb=function(s,N,r){return[1,0,0,s,0,1,0,N,0,0,1,r,0,0,0,1]};
q.i_.Q$=function(s,N,r){return[s,0,0,0,0,N,0,0,0,0,r,0,0,0,0,1]};q.i_.a1n=function(s){return[s[0],s[1],s[2],s[4],s[5],s[6],s[8],s[9],s[10]]};
q.i_.CU=function(s){return[s[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1]};q.i_.Et=function(s,N){return[s[0]*N[0]+s[1]*N[1]+s[2]*N[2]+s[3]*N[3],s[4]*N[0]+s[5]*N[1]+s[6]*N[2]+s[7]*N[3],s[8]*N[0]+s[9]*N[1]+s[10]*N[2]+s[11]*N[3],s[12]*N[0]+s[13]*N[1]+s[14]*N[2]+s[15]*N[3]]};
q.i_.yZ=function(s){var N=[];N[0]=s[0];N[1]=s[4];N[2]=s[8];N[3]=s[12];N[4]=s[1];N[5]=s[5];N[6]=s[9];
N[7]=s[13];N[8]=s[2];N[9]=s[6];N[10]=s[10];N[11]=s[14];N[12]=s[3];N[13]=s[7];N[14]=s[11];N[15]=s[15];
return N};q.i_.add=function(s,N){var r=s.slice(0);for(var l=0;l<16;l++)r[l]+=N[l];return r};q.i_.multiply=function(s,N){var r=[];
r[0]=s[0]*N[0]+s[1]*N[4]+s[2]*N[8]+s[3]*N[12];r[1]=s[0]*N[1]+s[1]*N[5]+s[2]*N[9]+s[3]*N[13];r[2]=s[0]*N[2]+s[1]*N[6]+s[2]*N[10]+s[3]*N[14];
r[3]=s[0]*N[3]+s[1]*N[7]+s[2]*N[11]+s[3]*N[15];r[4]=s[4]*N[0]+s[5]*N[4]+s[6]*N[8]+s[7]*N[12];r[5]=s[4]*N[1]+s[5]*N[5]+s[6]*N[9]+s[7]*N[13];
r[6]=s[4]*N[2]+s[5]*N[6]+s[6]*N[10]+s[7]*N[14];r[7]=s[4]*N[3]+s[5]*N[7]+s[6]*N[11]+s[7]*N[15];r[8]=s[8]*N[0]+s[9]*N[4]+s[10]*N[8]+s[11]*N[12];
r[9]=s[8]*N[1]+s[9]*N[5]+s[10]*N[9]+s[11]*N[13];r[10]=s[8]*N[2]+s[9]*N[6]+s[10]*N[10]+s[11]*N[14];r[11]=s[8]*N[3]+s[9]*N[7]+s[10]*N[11]+s[11]*N[15];
r[12]=s[12]*N[0]+s[13]*N[4]+s[14]*N[8]+s[15]*N[12];r[13]=s[12]*N[1]+s[13]*N[5]+s[14]*N[9]+s[15]*N[13];
r[14]=s[12]*N[2]+s[13]*N[6]+s[14]*N[10]+s[15]*N[14];r[15]=s[12]*N[3]+s[13]*N[7]+s[14]*N[11]+s[15]*N[15];
return r};q.i_.dm=function(s){var N=[];N[0]=s[5]*s[10]*s[15]-s[5]*s[14]*s[11]-s[6]*s[9]*s[15]+s[6]*s[13]*s[11]+s[7]*s[9]*s[14]-s[7]*s[13]*s[10];
N[1]=-s[1]*s[10]*s[15]+s[1]*s[14]*s[11]+s[2]*s[9]*s[15]-s[2]*s[13]*s[11]-s[3]*s[9]*s[14]+s[3]*s[13]*s[10];
N[2]=s[1]*s[6]*s[15]-s[1]*s[14]*s[7]-s[2]*s[5]*s[15]+s[2]*s[13]*s[7]+s[3]*s[5]*s[14]-s[3]*s[13]*s[6];
N[3]=-s[1]*s[6]*s[11]+s[1]*s[10]*s[7]+s[2]*s[5]*s[11]-s[2]*s[9]*s[7]-s[3]*s[5]*s[10]+s[3]*s[9]*s[6];
N[4]=-s[4]*s[10]*s[15]+s[4]*s[14]*s[11]+s[6]*s[8]*s[15]-s[6]*s[12]*s[11]-s[7]*s[8]*s[14]+s[7]*s[12]*s[10];
N[5]=s[0]*s[10]*s[15]-s[0]*s[14]*s[11]-s[2]*s[8]*s[15]+s[2]*s[12]*s[11]+s[3]*s[8]*s[14]-s[3]*s[12]*s[10];
N[6]=-s[0]*s[6]*s[15]+s[0]*s[14]*s[7]+s[2]*s[4]*s[15]-s[2]*s[12]*s[7]-s[3]*s[4]*s[14]+s[3]*s[12]*s[6];
N[7]=s[0]*s[6]*s[11]-s[0]*s[10]*s[7]-s[2]*s[4]*s[11]+s[2]*s[8]*s[7]+s[3]*s[4]*s[10]-s[3]*s[8]*s[6];N[8]=s[4]*s[9]*s[15]-s[4]*s[13]*s[11]-s[5]*s[8]*s[15]+s[5]*s[12]*s[11]+s[7]*s[8]*s[13]-s[7]*s[12]*s[9];
N[9]=-s[0]*s[9]*s[15]+s[0]*s[13]*s[11]+s[1]*s[8]*s[15]-s[1]*s[12]*s[11]-s[3]*s[8]*s[13]+s[3]*s[12]*s[9];
N[10]=s[0]*s[5]*s[15]-s[0]*s[13]*s[7]-s[1]*s[4]*s[15]+s[1]*s[12]*s[7]+s[3]*s[4]*s[13]-s[3]*s[12]*s[5];
N[11]=-s[0]*s[5]*s[11]+s[0]*s[9]*s[7]+s[1]*s[4]*s[11]-s[1]*s[8]*s[7]-s[3]*s[4]*s[9]+s[3]*s[8]*s[5];N[12]=-s[4]*s[9]*s[14]+s[4]*s[13]*s[10]+s[5]*s[8]*s[14]-s[5]*s[12]*s[10]-s[6]*s[8]*s[13]+s[6]*s[12]*s[9];
N[13]=s[0]*s[9]*s[14]-s[0]*s[13]*s[10]-s[1]*s[8]*s[14]+s[1]*s[12]*s[10]+s[2]*s[8]*s[13]-s[2]*s[12]*s[9];
N[14]=-s[0]*s[5]*s[14]+s[0]*s[13]*s[6]+s[1]*s[4]*s[14]-s[1]*s[12]*s[6]-s[2]*s[4]*s[13]+s[2]*s[12]*s[5];
N[15]=s[0]*s[5]*s[10]-s[0]*s[9]*s[6]-s[1]*s[4]*s[10]+s[1]*s[8]*s[6]+s[2]*s[4]*s[9]-s[2]*s[8]*s[5];var r=s[0]*N[0]+s[1]*N[4]+s[2]*N[8]+s[3]*N[12];
for(var l=0;l<16;l++)N[l]/=r;return N};q.i_.a2T=function(s){var N=[],r=s[5]*s[10]*s[15]-s[5]*s[14]*s[11]-s[6]*s[9]*s[15]+s[6]*s[13]*s[11]+s[7]*s[9]*s[14]-s[7]*s[13]*s[10],S=-s[4]*s[10]*s[15]+s[4]*s[14]*s[11]+s[6]*s[8]*s[15]-s[6]*s[12]*s[11]-s[7]*s[8]*s[14]+s[7]*s[12]*s[10],z=s[4]*s[9]*s[15]-s[4]*s[13]*s[11]-s[5]*s[8]*s[15]+s[5]*s[12]*s[11]+s[7]*s[8]*s[13]-s[7]*s[12]*s[9],A=-s[4]*s[9]*s[14]+s[4]*s[13]*s[10]+s[5]*s[8]*s[14]-s[5]*s[12]*s[10]-s[6]*s[8]*s[13]+s[6]*s[12]*s[9];
return s[0]*r+s[1]*S+s[2]*z+s[3]*A};q.i_.J9=q.i_.CU([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
q.i_.a96=q.i_.CU([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
q.i_.ao0=q.i_.dm(q.i_.J9);q.Tk={};q.Tk.bc=new Uint32Array(1);q.Tk.Kv=function(s,N,r,S,z,A){var B=new Uint32Array(s),Y=0,t=q.Tk.bc;
if(t.length<N*4)q.Tk.bc=t=new Uint32Array(N*4);var p=new Float64Array(t.buffer);for(var l=0;l<N;l+=2){var f=z[l],a=z[l+1],D=A[l],c=A[l+1];
t[Y]=a;p[Y+2>>1]=D;t[Y+1]=B[f];B[f]=Y+1;Y+=4;t[Y]=f;p[Y+2>>1]=c;t[Y+1]=B[a];B[a]=Y+1;Y+=4}return{L8:t,akG:p,ak8:B}};
q.Tk.PR=function(s,N,r,S,z,A,B){var Y=1,t=q.Tk.Kv(s,N,r,S,z,A),p=t.L8,f=t.akG,a=t.ak8,D=new Uint32Array(s),c=new q.Tk.Cn(s),Z=1,m=0;
c.push(r);c.push(S);var J=new q.Tk.Cn(s),Q=new Uint8Array(s),M=new Uint32Array(s);Q[r]=1;Q[S]=2;var u=new Uint32Array(s),P=new Uint32Array(s);
P[r]=P[S]=0;u[r]=u[S]=1;while(!0){var i=-1,R=0,x=1e30;while(!c.NG()&&i==-1){var e=c.top(),X=Q[e],$=a[e]-1;
while($!=-1){var O=p[$],T=Q[O],b=$^X-1<<2;if(f[b+2>>1]!=0){if(T==0){q.Tk._n(e,$,O,Q,M,P,u);c.push(O)}else if(T==X&&u[O]<=u[e]&&P[O]>P[e])q.Tk._n(e,$,O,Q,M,P,u);
else if(T!=X){i=b}}$=p[$+1]-1}if(i!=-1)break;c.pop()}if(i==-1){break}Z++;var w=i;while(w!=-1){D[R]=w;
R++;w=M[p[w^4]]-1}var F=R>>1;for(var l=0;l<F;l++){var L=D[l];D[l]=D[R-l-1];D[R-l-1]=L}w=M[p[i]]-1;while(w!=-1){D[R]=w^4;
R++;w=M[p[w^4]]-1}for(var l=0;l<R;l++)x=Math.min(x,f[D[l]+2>>1]);m+=x;if(m>=B)return{oG:null,PG:m};for(var l=0;
l<R;l++){var g=D[l],n=g^4,e=p[n],O=p[g];f[g+2>>1]-=x;f[n+2>>1]+=x;if(f[g+2>>1]==0&&Q[e]==Q[O]){if(Q[e]==1){M[O]=0;
J.push(O)}if(Q[e]==2){M[e]=0;J.push(e)}}}while(!J.NG()){var e=J.pop(),X=Q[e],$=a[e]-1,h=X==1?4:0,_=0,H=0,G=1e9;
while($!=-1){var O=p[$],j=$^4,b=$^h;if(Q[O]==X&&f[b+2>>1]>0&&q.Tk.a8G(O,r,S,M,p,Z,u,P)+1<G){_=O;H=j;
G=P[O]+1}$=p[$+1]-1}if(H!=0){q.Tk._n(_,H,e,Q,M,P,u);continue}$=a[e]-1;while($!=-1){var O=p[$],b=$^h;
if(Q[O]==X){if(f[b+2>>1]>0){c.push(O)}if(M[O]==$+1){M[O]=0;J.push(O)}}$=p[$+1]-1}Q[e]=0;c.remove(e)}}var v=[];
for(var l=0;l<N;l+=2){var e=z[l],O=z[l+1];if(Q[e]==1&&Q[O]!=1){v.push(l>>1)}if(Q[O]==1&&Q[e]!=1){v.push(N+l>>1)}}return{oG:v,PG:m}};
q.Tk._n=function(s,N,r,S,z,A,B){S[r]=S[s];z[r]=N+1;A[r]=A[s]+1;B[r]=B[s]};q.Tk.a8G=function(s,N,r,S,z,A,B,Y){var t=s,p=S[s]-1,f=0;
while(p!=-1&&B[s]!=A){s=z[p^4];p=S[s]-1;f++}if(p==-1&&s!=N&&s!=r)return 1e9;var a=Y[s]+f;f=0;p=S[t]-1;
while(t!=s){Y[t]=a-f;f++;B[t]=A;t=z[p^4];p=S[t]-1}return a};q.Tk.a5S=function(s,N,r,S,z,A){var B=q.Tk.Kv(s,N,r,S,z,A),Y=B.L8,t=B.akG,p=B.ak8,f=0,a=0,D=new Uint32Array(s*2),c=new q.Tk.zI(s),J=0;
while(!0){c.reset();c.push(r);for(var l=0;l<s;l++)D[l<<1]=0;while(!c.NG()){var Z=c.pop(),Q=p[Z]-1;while(Q!=-1){J=Y[Q];
if(D[J<<1]==0&&t[Q+2>>1]>0&&J!=r){D[J<<1]=Z+1;D[(J<<1)+1]=Q;c.push(J)}Q=Y[Q+1]-1}if(D[S<<1]!=0){break}}if(D[S<<1]==0){break}var M=1e30;
J=S;while(!0){var u=D[J<<1]-1;if(u==-1)break;var P=D[(J<<1)+1];M=Math.min(M,t[P+2>>1]);J=u}J=S;while(!0){var u=D[J<<1]-1;
if(u==-1)break;var P=D[(J<<1)+1],m=P^4;t[P+2>>1]-=M;t[m+2>>1]+=M;J=u}f+=M}var i=[];for(var l=0;l<N;l+=2){var u=z[l],J=z[l+1];
if((D[u<<1]!=0||u==r)&&D[J<<1]==0&&J!=r){i.push(l>>1)}if((D[J<<1]!=0||J==r)&&D[u<<1]==0&&u!=r){i.push(N+l>>1)}}return{oG:i,PG:f}};
q.Tk.zI=function(s){s|=s>>1;s|=s>>2;s|=s>>4;s|=s>>8;s|=s>>16;this.V7=new Uint32Array(s+1);this.t5=s;
this.Rh=0;this.Lv=0};q.Tk.zI.prototype={push:function(s){var N=this.Lv;this.V7[N]=s;this.Lv=N+1&this.t5},pop:function(){var s=this.Rh,N=this.V7[s];
this.Rh=s+1&this.t5;return N},NG:function(){return this.Rh==this.Lv},reset:function(){this.Rh=0;this.Lv=0}};
q.Tk.Cn=function(s){s|=s>>1;s|=s>>2;s|=s>>4;s|=s>>8;s|=s>>16;this.V7=new Uint32Array(s+1);this.P8=new Uint32Array(s+1);
this.t5=s;this.Rh=0;this.Lv=0};q.Tk.Cn.prototype={top:function(){return this.V7[this.Rh]},aog:function(){return this.V7[this.Lv]},push:function(s){if(this.P8[s]!=0)return;
this.P8[s]=this.Lv+1;var N=this.Lv;this.V7[N]=s;this.Lv=N+1&this.t5},pop:function(){var s=this.Rh,N=this.V7[s];
this.P8[N]=0;this.Rh=s+1&this.t5;return N},NG:function(){return this.Rh==this.Lv},remove:function(s){var N=this.P8[s]-1;
if(N==-1)return;this.P8[s]=0;if(N==this.Rh){this.pop();return}var r=this.pop();this.V7[N]=r;this.P8[r]=N+1},VY:function(l){return l+this.t5+1&this.t5}};
q.Tk.FK=function(s,N,r){var S=q.Tk.wJ(s,N,r);if(N<S-1)q.Tk.FK(s,N,S-1);if(S<r)q.Tk.FK(s,S,r)};q.Tk.wJ=function(s,N,r){var S=s[N+r>>>1];
while(N<=r){while(s[N]<S)N++;while(s[r]>S)r--;if(N<=r){q.Tk.wI(s,N,r);N++;r--}}return N};q.Tk.wI=function(s,N,r){var S=s[N];
s[N]=s[r];s[r]=S};q.O6={};q.O6.aiE=function(s){for(var l=0;l<s.length;l++)q.O6.K6(s,l)};q.O6.K6=function(s,l){s[l].v.keyShapeInvalidated={t:"bool",v:!0}};
q.O6.ajB=function(s){for(var l=0;l<s.length;l++)s[l].v.keyOriginIndex.v=l};q.O6.tC=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
q.O6.$V=function(s){s=s.v;var N={Rctn:2,Ln:4,Elps:5},r=N[s.classID],S=s.topLeft?q.O6.k7(s):null,z=null,A=0,B=[!1,!1,0,0,0];
if(r==4){var Y=s.Strt.v,t=s.End.v;z=[Y.Hrzn.v.val,Y.Vrtc.v.val,t.Hrzn.v.val,t.Vrtc.v.val];A=s.Wdth.v.val;
for(var l=0;l<2;l++){var p=s[l==0?"StrA":"EndA"];if(p==null)continue;p=p.v;B[l]=p.On.v;B[2]=p.Wdth.v;
B[3]=p.Lngt.v;B[4]=p.Cncv.v.val}}if(r==null)return null;return q.O6.hD(r,r==4?null:q.O6.rc(s),S,z,A,B)};
q.O6.a7=function(s,N,r,S,z,A,B){var Y={classID:s,unitValueQuadVersion:{t:"long",v:1}};if(N)q.O6.l_(Y,["Left","Top","Rght","Btom"],N);
if(r)q.O6.l_(Y,["topLeft","topRight","bottomRight","bottomLeft"],r);if(s=="Ln"){Y.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:S[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:S[1]}}}},Y.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:S[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:S[3]}}}},Y.Wdth={t:"UntF",v:{type:"#Pxl",val:z}};
for(var l=0;l<2;l++){var t=l==0?"StrA":"EndA";Y[t]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:B[l]},Wdth:{t:"doub",v:B[2]},Lngt:{t:"doub",v:B[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:B[4]}}}}}}if(A)Y.Nm={t:"TEXT",v:A};
return{t:"Objc",v:Y}};q.O6.$O=function(s,N){var r=q.O6.bw(s),S=s[2]-s[0],z=s[3]-s[1],A=Math.sqrt(S*S+z*z),B=[0,0,A,0,A,N,0,N],Y=new gF;
Y.rotate(-r);Y.translate(s[0],s[1]);q.g.D(B,Y,B);return B};q.O6.hD=function(s,N,r,S,z,A){var B=q.O6.tC(),Y=B.v,t;
delete Y.keyShapeInvalidated;Y.keyOriginType={t:"long",v:s};Y.keyOriginResolution={t:"doub",v:75};if(s==4){Y.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:S[0]},Vrtc:{t:"doub",v:S[1]}}};
Y.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:S[2]},Vrtc:{t:"doub",v:S[3]}}};t=q.O6.$O(S,z);
var p=q.g.OH(t);N=[p.x,p.y,p.x+p.G,p.y+p.n];Y.keyOriginLineWeight={t:"doub",v:z};if(A)q.O6.a1v(Y,A)}else t=[N[0],N[1],N[2],N[1],N[2],N[3],N[0],N[3]];
Y.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};q.O6.P1(Y,"keyOriginBoxCorners",t);var f={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
Y.keyOriginShapeBBox={t:"Objc",v:f};q.O6.Ko(Y,N);if(r!=null){var a={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
Y.keyOriginRRectRadii={t:"Objc",v:a};q.O6.Mw(Y,r)}return B};q.O6.D=function(s,N,r,S){var z=q.P.mi(N),A=q.P.Dh(N);
for(var l=0;l<s.length;l++){var B=s[l].v;if(!q.O6.fI(B))continue;if(r.length!=0&&r.indexOf(l)==-1)continue;
var Y=B.keyOriginType.v,t=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var p=0;p<t.length;
p++){var f=q.O6.OZ(B,t[p]);if(f==null)continue;q.P.D(N,f);q.O6.P1(B,t[p],f);var a=q.g.OH(f);q.O6.Ko(B,[a.x,a.y,a.x+a.G,a.y+a.n]);
var D=new gF;D.rotate(-q.O6.bw(f));var c={classID:"Trnf"};B.Trnf={t:"Objc",v:c};var J="xx xy yx yy tx ty".split(" "),Z=[D.aC,D.U,D.K1,D.dX,D.JC,D.T3];
for(var Q=0;Q<6;Q++)c[J[Q]]={t:"doub",v:Z[Q]}}var f=q.O6.OZ(B,"keyOriginBoxCorners"),M=f[2]-f[0],u=f[3]-f[1],P=Math.sqrt(M*M+u*u);
M/=P;u/=P;var m=f[6]-f[0],i=f[7]-f[1],e=Math.sqrt(m*m+i*i);m/=e;i/=e;if(Y==4){B.keyOriginLineWeight.v=e;
var X=q.O6.WL(B);q.P.D(N,X);q.O6.a9w(B,X)}var $=M*m+u*i;if(Math.abs($)>.001){q.O6.K6(s,l)}}};q.O6.fI=function(s){var N=s.keyShapeInvalidated,r=s.keyOriginType;
return(N==null||!N.v)&&r!=null&&r.v!=9};q.O6.a6U=function(s){var N=s.keyOriginType.v,r=q.O6.gX(s),S=r[0],z=r[1],A=r[2],B=r[3],Y=new gF,t=s.keyOriginPolyCornerRadius,c;
t=t?t.v:0;var p=q.O6.OZ(s,N==7||N==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),f=q.O6.Jf(p),a=f[2],D=f[3];
S=-a/2;A=a/2;z=-D/2;B=D/2;Y.rotate(-q.O6.bw(p));Y.JC=f[0];Y.T3=f[1];if(N==1||N==2){var J=N==1?0:q.O6.r4(s);
c=q.J.kt.Rect(S,z,A-S,B-z,J)}else if(N==4){var Z=q.O6.WL(s),Q=q.O6.a1C(s);Y=new gF;if(Q==null)c=q.J.kt.WD(Z[0],Z[1],Z[2],Z[3],s.keyOriginLineWeight.v);
else c=q.J.kt.Y0(Z[0],Z[1],Z[2],Z[3],s.keyOriginLineWeight.v,Q)}else if(N==5){c=q.J.kt.q3(S,z,A-S,B-z)}else if(N==7||N==8){var M=N==7?3:s.keyOriginPolySides.v;
c=q.J.kt.xg(0,0,100,Math.PI/M-Math.PI/2,M,t,A,B)}q.J.Yy(c,Y);return c};q.O6.q1=function(s,N){var r=N._;
for(var l=0;l<s.length;l++){var S=s[l].v;if(!q.O6.fI(S))continue;var z=q.O6.a6U(S),A=q.J.$l(r,l),B=q.J.eG(r,l);
z[2].my=r[A].my;var Y=r;r=r.slice(0,A);for(var t=2;t<z.length;t++)r.push(z[t]);for(var t=A+B;t<Y.length;
t++)r.push(Y[t])}N._=r;N.eB=!0};q.O6.g8=function(s){var N=1e9,r=-N,S=1e9,z=-S,A=[],B=s.Ly(),Y=B[0],t=B[1];
for(var p=0;p<t.length;p++){var f=Y[t[p]],a=f.add.vogk;if(a==null)continue;var D=f.add.vmsk.f;for(var c=0;
c<a.length;c++){var J=a[c].v,M=0;if(!q.O6.fI(J))continue;if(t.length==1&&D.length!=0&&D.indexOf(c)==-1)continue;
var Z=J.keyOriginType.v;if(Z==9)continue;var Q=q.O6.gX(J);N=Math.min(N,Q[0]);S=Math.min(S,Q[1]);r=Math.max(r,Q[2]);
z=Math.max(z,Q[3]);var u=q.O6.OZ(J,"keyOriginBoxCorners");if(u){var P=q.O6.Jf(u),m=P[2],i=P[3];Q[2]=Q[0]+m;
Q[3]=Q[1]+i;M=q.O6.bw(u)}var e=[Z,Q,M];A.push(e);if(Z==2)e.push(q.O6.r4(J));if(Z==7||Z==8)e.push(J.keyOriginPolyCornerRadius.v);
if(Z==8)e.push(J.keyOriginPolySides.v)}}return A.length==1?A[0]:[0,N<r?[N,S,r,z]:null,0]};q.O6.bw=function(s){var N=s[2]-s[0],r=s[3]-s[1];
return-Math.atan2(-r,N)};q.O6.a3x=function(s,N){var r=q.O6.g8(s),S=-1;for(var l=0;l<N.length;l++)if(JSON.stringify(N[l])!=JSON.stringify(r[l]))S=l;
if(S==1||S==2){}var z=s.Ly(),A=z[0],B=z[1];for(var Y=0;Y<B.length;Y++){var t=A[B[Y]],p=t.add.vogk;if(p==null)continue;
var f=t.add.vmsk.f;for(var a=0;a<p.length;a++){var D=p[a].v;if(!q.O6.fI(D))continue;if(B.length==1&&f.length!=0&&f.indexOf(a)==-1)continue;
var c=D.keyOriginType.v;if(S==1||S==2){q.O6.D(p,q.O6.ak3(S,D,r,N),f,!1);break}if(S==3)if(c==2)q.O6.Mw(D,N[3]);
else D.keyOriginPolyCornerRadius.v=N[3];if(S==4)D.keyOriginPolySides.v=N[4]}}};q.O6.ak3=function(s,N,r,S){var z=S[1],A=r[1],B=(z[2]-z[0])/(A[2]-A[0]),Y=(z[3]-z[1])/(A[3]-A[1]),t=new gF;
if(s==1){if(Math.max(Math.abs(B-1),Math.abs(Y-1))>1e-8){var p=z[0],f=z[1];if(S[0]!=0){var a=q.O6.OZ(N,"keyOriginBoxCorners");
p=a[0];f=a[1]}t.translate(-p,-f);t.rotate(S[2]);t.scale(B,Y);t.rotate(-S[2]);t.translate(p,f)}else{t.translate(-A[0],-A[1]);
t.translate(z[0],z[1])}}else{if(S[0]!=0)z=q.O6.gX(N);var p=(z[0]+z[2])/2,f=(z[1]+z[3])/2;t.translate(-p,-f);
if(r[0]!=0)t.rotate(r[2]);t.rotate(-S[2]);t.translate(p,f)}return q.P.tl(t)};q.O6.Jf=function(s){var N=s[0],r=s[1],S=s[2],z=s[3],A=s[4],B=s[5],Y=s[6],t=s[7],p=S-N,f=z-r,a=Math.sqrt(p*p+f*f),p=A-S,f=B-z,D=Math.sqrt(p*p+f*f);
return[(N+A)/2,(r+B)/2,a,D]};q.O6.OZ=function(s,N){var r=s[N];if(r==null)return null;var S=[];r=r.v;
for(var z=0;z<4;z++){var A=r["rectangleCorner"+["A","B","C","D"][z]].v;S.push(A.Hrzn.v,A.Vrtc.v)}return S};
q.O6.P1=function(s,N,r){var S=s[N];if(S==null)return null;S=S.v;for(var z=0;z<4;z++){var A="rectangleCorner"+["A","B","C","D"][z];
S[A]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:r[2*z]},Vrtc:{t:"doub",v:r[2*z+1]}}}}};q.O6.gX=function(s){return q.O6.rc(s.keyOriginShapeBBox.v)};
q.O6.rc=function(s){var N=s.classID,r=s.Left.v,S=s.Rght.v,z=s.Top.v,A=s.Btom.v;if(N=="unitRect"||N=="radii"||N=="Rctn"){r=r.val;
S=S.val;z=z.val;A=A.val}return[r,z,S,A]};q.O6.Ko=function(s,N){q.O6.l_(s.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],N)};
q.O6.r4=function(s){return q.O6.k7(s.keyOriginRRectRadii.v)};q.O6.k7=function(s){var N=[],r=["topLeft","topRight","bottomRight","bottomLeft"];
for(var S=0;S<4;S++)N.push(s[r[S]].v.val);return N};q.O6.Mw=function(s,N){q.O6.l_(s.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],N)};
q.O6.l_=function(s,N,r){var S=s.classID;if(S=="unitRect"||S=="radii"||S=="Rctn"){for(var l=0;l<4;l++)if(r[l]!=null)s[N[l]]={t:"UntF",v:{type:"#Pxl",val:r[l]}}}else{for(var l=0;
l<4;l++)if(r[l]!=null)s[N[l]]={t:"doub",v:r[l]}}};q.O6.WL=function(s){var N=s.keyOriginLineStart.v,r=s.keyOriginLineEnd.v;
return[N.Hrzn.v,N.Vrtc.v,r.Hrzn.v,r.Vrtc.v]};q.O6.a9w=function(s,N){var r=s.keyOriginLineStart.v,S=s.keyOriginLineEnd.v;
r.Hrzn.v=N[0];r.Vrtc.v=N[1];S.Hrzn.v=N[2];S.Vrtc.v=N[3]};q.O6.a1C=function(s){var N=[],r=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var l=0;l<5;l++){var S=s["keyOriginLineArr"+r[l]];if(S==null)return null;N[l]=S.v}return N};q.O6.a1v=function(s,N){s.keyOriginLineArrowSt={t:"bool",v:N[0]};
s.keyOriginLineArrowEnd={t:"bool",v:N[1]};s.keyOriginLineArrWdth={t:"doub",v:N[2]};s.keyOriginLineArrLngth={t:"doub",v:N[3]};
s.keyOriginLineArrConc={t:"long",v:N[4]}};q.g={};q.g.clone=function(s){return{F:s.F.slice(0),v:s.v.slice(0)}};
q.g.R7=function(s){if(s.length<6)return!0;var N=s.length-4;for(var l=0;l<N;l+=2)if(!q.g.jR(s[l],s[l+1],s[l+2],s[l+3],s[l+4],s[l+5]))return!1;
if(!q.g.jR(s[N],s[N+1],s[N+2],s[N+3],s[0],s[1]))return!1;if(!q.g.jR(s[N+2],s[N+3],s[0],s[1],s[2],s[3]))return!1;
return!0};q.g.jR=function(s,N,r,S,z,A){return(N-S)*(z-r)+(r-s)*(A-S)>=0};q.g.sO=function(s){var N={},r=null,S=0,z={M:2,L:2,Q:4,C:6},A="",B="";
for(var l=0;l<s.F.length;l++){var Y=s.F[l];if(Y[0]=="#")A=Y;else if(Y[0]=="X")A="";else if(Y[0]=="O"&&Y[1]=="-")B=Y;
else if(Y=="OX")B="";else{var t=A+B;r=N[t];if(r==null)r=N[t]={v:[],F:[]};r.F.push(Y);var p=z[Y];if(p==null)p=0;
for(var f=0;f<p;f++)r.v.push(s.v[S+f]);S+=p}}return N};q.g.Sj=function(s,N,r){var S=s[N]-s[r-2],z=s[N+1]-s[r-1];
return S*S+z*z<1e-4};q.g.m0=function(s,N,r){s=q.g.k_(s);var S=s.v,z=s.F,A=0,B="",Y=0,t=0,A=0,a=null;
for(var l=0;l<z.length;l++){var p=z[l];if(p=="M"){Y=S[A];t=S[A+1];A+=2;B=p}if(p=="C"){if(B=="Z"){z.splice(l,0,"M");
S.splice(A,0,Y,t);l--;continue}A+=6;B=p}if(p=="Z"){B=p}}var f=[];A=0;for(var l=0;l<z.length;l++){var p=z[l];
if(p=="M"){a={Zs:A,HW:0,bl:!1};f.push(a);A+=2}if(p=="C"){a.HW++;A+=6}if(p=="Z"&&a!=null){a.bl=!0}}var D=[];
for(var l=0;l<f.length;l++)if(f[l].HW!=0)D.push(f[l]);f=D;for(var l=0;l<f.length;l++){var c=f[l],J=c.Zs,Z=J+2+c.HW*6,M=0;
c.CS=q.g.OH(S,J,Z);var Q=q.g.Sj(S,J,Z);for(var u=0;u<c.HW;u++){var P=J+u*6,m=P+6;M+=(S[m]-S[P])*(S[m+1]+S[P+1])}if(c.HW==2){var i=function(dJ,fG,o){var i4=1-o;
return i4*i4*i4*dJ[fG]+3*i4*i4*o*dJ[fG+2]+3*i4*o*o*dJ[fG+4]+o*o*o*dJ[fG+6]},e=S[J],X=S[J+1],$=S[J+6],O=S[J+7],T=S[J+6],b=S[J+7],R=i(S,J,.5),w=i(S,J+1,.5),F=i(S,J+6,.5),L=i(S,J+7,.5);
M=(R-e)*(w-X)+($-R)*(O-w)+(F-$)*(L-O)+(T-F)*(b-L)}if(!Q)M+=(S[J]-S[Z-2])*(S[J+1]+S[Z-1]);c.m1=M<=0}for(var l=0;
l<f.length-1;l++)for(var P=l+1;P<f.length;P++){var x=f[l],g=f[P];if(g.CS.V9(x.CS)){f[l]=g;f[P]=x}}var n=f.length==0?!0:f[0].m1,h=[{type:6},{type:8,all:0}];
for(var l=0;l<f.length;l++){var c=f[l],J=c.Zs,Z=J+2+c.HW*6,Q=q.g.Sj(S,J,Z),_=c.bl||Q?0:3,H=c.m1==n&&!N?1:0;
if(!N&&l!=0){if(f[l-1].CS.V9(c.CS)&&f[l-1].m1!=c.m1)H=0;for(var P=0;P<f.length;P++)if(P!=l&&f[P].CS.V9(c.CS))H=0}h.push({type:_,length:c.HW+(Q?0:1),my:r?1:H,cd:2});
for(var P=0;P<c.HW;P++){var A=J+P*6,G=new cR(S[A],S[A+1]),j=new cR(S[A+2],S[A+3]),v;if(P==0){if(Q){v=new cR(S[Z-4],S[Z-3]);
if(cR.iI(v,G)<1e-5)v=G.clone()}else v=G.clone()}else v=new cR(S[A-2],S[A-1]);h.push({type:_+2,hJ:v,H:G,De:j})}if(!Q){var C=new cR(S[Z-2],S[Z-1]);
h.push({type:_+2,hJ:new cR(S[Z-4],S[Z-3]),H:C,De:C.clone()})}}for(var P=0;P<h.length;P++){var E=h[P];
if(E.type>5||E.type==0||E.type==3)continue;var I=E.hJ.nR(E.H)||E.De.nR(E.De);if(!I){var x=E.hJ.x*(E.H.y-E.De.y)+E.H.x*(E.De.y-E.hJ.y)+E.De.x*(E.hJ.y-E.H.y);
if(Math.abs(x)<1e-6)I=!0}if(I)E.type--}return h};q.g.Zi=function(s,N){var r=q.J.zl(s),S=!1;for(var l=2;
l<s.length;l++){var z=s[l].my;if(z!=null){if(z==2||z==0||z==3)S=!0}}if((S||N)&&s.length<15e3&&r>1)s=q.J.er(s);
var A=q.g.Xl(s);return{iO:A,HM:S?1:0}};q.g.Xl=function(){function s(S,z,A,B){if(!B&&S.De.nR(S.H)&&z.hJ.nR(z.H)){A.v.push(z.H.x,z.H.y);
A.F.push("L")}else{var Y=S.H,t=S.De,p=z.hJ,f=z.H,a=3/2*t.x-1/2*Y.x,D=3/2*t.y-1/2*Y.y,c=3/2*p.x-1/2*f.x,J=3/2*p.y-1/2*f.y,Z=c-a,Q=J-D;
if(!B&&Z*Z+Q*Q<.001){A.v.push((a+c)*.5,(D+J)*.5,f.x,f.y);A.F.push("Q")}else{A.v.push(t.x,t.y,p.x,p.y,f.x,f.y);
A.F.push("C")}}}function N(S,z,l,A,B,Y){var t=z[l];S.v.push(t.H.x,t.H.y);S.F.push("M");for(var p=l;p<l+A-1;
p++)s(z[p],z[p+1],S,Y);if(!B)s(z[p],z[l],S,Y)}function r(S,z){S=q.J.a2b(S);if(z==null)z=!1;var A={v:[],F:[]};
for(var l=0;l<S.length;l++){if(S[l].type>5)continue;var B=S[l].length;if(B==0)continue;if(l==S.length-1)break;
var Y=S[l].type==3;N(A,S,l+1,B,Y,z);if(!Y)A.F.push("Z");l+=B}return A}return r}();q.g.anQ=function(s){var N=s.v,r=[],S,z=0;
for(var l=0;l<s.F.length;l++){var A=s.F[l];if(A=="C"){S.push(N[z++],N[z++],N[z++],N[z++],N[z++],N[z++])}else if(A=="Z"){}else{S=[];
if(A!="M"){S.push(A);l++}S.push(N[z++],N[z++]);r.push(S)}}return r};q.g.Us=function(s,N,r,S){if(S==null)S=1e9;
var z=1e9,A=0;for(var l=0;l<s.length;l+=2){var B=N-s[l],Y=r-s[l+1],t=B*B+Y*Y;if(t<z){z=t;A=l>>>1}}return z<S*S?A:-1};
q.g.J0=function(s,N,r,S){for(var l=0;l<s.length;l+=2){var z=s[l],A=s[l+1],B=N[l],Y=N[l+1];r[l]=z+(B-z)*S;
r[l+1]=A+(Y-A)*S}};q.g.D=function(s,N,r){for(var l=0;l<s.length;l+=2){var S=s[l],z=s[l+1];r[l]=S*N.aC+z*N.K1+N.JC;
r[l+1]=S*N.U+z*N.dX+N.T3}};q.g.OH=function(s,N,r){if(N==null)N=0;if(r==null)r=s.length;var S=99999999999,z=-S,A=99999999999,B=-A;
for(var l=N;l<r;l+=2){var Y=s[l],t=s[l+1];S=Math.min(S,Y);A=Math.min(A,t);z=Math.max(z,Y);B=Math.max(B,t)}return new hq(S,A,z-S,B-A)};
q.g.fZ=function(s,N){var r=Math.max(N.x,Math.min(N.x+N.G,s.x)),S=Math.max(N.y,Math.min(N.y+N.n,s.y)),z=s.x-r,A=s.y-S;
return Math.sqrt(z*z+A*A)};q.g.i2=function(s){if(s.Nf())return new hq(Math.floor(s.x),Math.floor(s.y),Math.ceil(s.G),Math.ceil(s.n));
var N=Math.floor(s.x),r=Math.ceil(s.x+s.G),S=Math.floor(s.y),z=Math.ceil(s.y+s.n);return new hq(N,S,r-N,z-S)};
q.g.nw=function(s){return q.g.i2(q.g.OH(s))};q.g.w2=function(s){var N=s.x,r=s.y,S=s.x+s.G,z=s.y+s.n;
return{F:["M","L","L","L","Z"],v:[N,r,S,r,S,z,N,z]}};q.g.concat=function(s,N,r){if(r==null)r=new gF;
for(var l=0;l<N.v.length;l+=2){var S=N.v[l],z=N.v[l+1];s.v.push(S*r.aC+z*r.K1+r.JC);s.v.push(S*r.U+z*r.dX+r.T3)}for(var l=0;
l<N.F.length;l++)s.F.push(N.F[l])};q.g.k_=function(s){var N=s.v,r=[],S=[],z=0,A=0,B=0,Y=0,t=0,p=0,f=0,a=0,D=0,c=0,J=0;
for(var l=0;l<s.F.length;l++){var Z=s.F[l];if(Z=="M"){A=N[z];B=N[z+1];z+=2;S.push(Z);r.push(A,B);c=A;
J=B}else if(Z=="C"){Y=N[z];t=N[z+1];p=N[z+2];f=N[z+3];a=N[z+4];D=N[z+5];z+=6;S.push(Z);r.push(Y,t,p,f,a,D);
A=a;B=D}else if(Z=="Q"){Y=N[z];t=N[z+1];p=N[z+2];f=N[z+3];z+=4;var Q=Y-A,M=t-B,u=p-Y,P=f-t;S.push("C");
r.push(A+2/3*Q,B+2/3*M,Y+1/3*u,t+1/3*P,p,f);A=p;B=f}else if(Z=="L"){Y=N[z];t=N[z+1];z+=2;if(Y!=A||t!=B){S.push("C");
r.push(A,B,Y,t,Y,t);A=Y;B=t}}else{if(Z=="Z"){A=c;B=J}S.push(Z)}}return{F:S,v:r}};q.g.awP=function(s){var N=s.v,r=[],S=[],z=0;
for(var l=0;l<s.F.length;l++){var A=s.F[l];if(A=="Q"){var B=N[z-2],Y=N[z-1],t=N[z],p=N[z+1],f=N[z+2],a=N[z+3];
z+=4;var D=t-B,c=p-Y,J=f-t,Z=a-p;S.push("C");r.push(B+2/3*D,Y+2/3*c,t+1/3*J,p+1/3*Z,f,a)}else{var Q=0;
if(A=="M"||A=="L")Q=2;else if(A=="C")Q=6;for(var M=0;M<Q;M++)r.push(N[z+M]);z+=Q;S.push(A)}}return{F:S,v:r}};
q.g.uY=function(s,N){var r=s.v,S=[],z=[],A=0,B=0,Y=0,t=0,p=0,f=0,a=0,D=0,c=0;for(var l=0;l<s.F.length;
l++){var J=s.F[l];if(J=="M"){B=r[A];Y=r[A+1];A+=2;z.push(J);S.push(B,Y)}else if(J=="C"){t=r[A];p=r[A+1];
f=r[A+2];a=r[A+3];D=r[A+4];c=r[A+5];A+=6;q.g.Z3(B,Y,t,p,f,a,D,c,N,z,S,0);B=D;Y=c}else z.push(J)}return{F:z,v:S}};
q.g.Z3=function(s,N,r,S,z,A,B,Y,t,p,f,a){var D=Math.sqrt((B-s)*(B-s)+(Y-N)*(Y-N)),c=Math.sqrt((B-z)*(B-z)+(Y-A)*(Y-A))+Math.sqrt((z-r)*(z-r)+(A-S)*(A-S))+Math.sqrt((r-s)*(r-s)+(S-N)*(S-N)),J=(D+c)/2;
if(J<=t){p.push("C");f.push(r,S,z,A,B,Y)}else{var Z=0,Q=0,M=0,u=0,P=0,m=0,i=0,e=0,X=0,$=0,O=0,T=0,b=0;
Q=(s+r)/2;M=(N+S)/2;u=(r+z)/2;P=(S+A)/2;m=(z+B)/2;i=(A+Y)/2;e=(Q+u)/2;X=(M+P)/2;$=(u+m)/2;O=(P+i)/2;
T=(e+$)/2;b=(X+O)/2;q.g.Z3(s,N,Q,M,e,X,T,b,t,p,f,a+1);q.g.Z3(T,b,$,O,m,i,B,Y,t,p,f,a+1)}};q.g.M4=function(s,N,r,S,z){var A=Date.now(),B=q.g.adU(s,N,r);
if(z){console.log("trace polygons",Date.now()-A);A=Date.now()}var Y=[];for(var l=0;l<B.length;l++){var t=B[l],p=t[0],f=["M"],a=s[p[1]*N+p[0]];
if(p.length>8)p=q.g.nn(p,S,t[1]);if(p.length<=4)continue;for(var D=2;D<p.length;D+=2)f.push("L");f.push("Z");
Y.push({path:{v:p,F:f},color:a,parent:-1,CS:q.g.OH(p)})}if(z){console.log("simplify polygons",Date.now()-A);
A=Date.now()}for(var l=1;l<Y.length;l++){var c=Y[l],J=c.path.v,Z=J[0],Q=J[1],M=J[2],u=J[3],P=M-Z,m=u-Q,i=Z+.5*P-.001*m,e=Q+.5*m+.001*P;
for(var D=l-1;D>=0;D--){var X=Y[D];if(!X.CS.V9(c.CS))continue;if(!ae.rb(X.path.v,i,e))continue;c.parent=D;
break}}if(z){console.log("checking parents",Date.now()-A);A=Date.now()}return Y};q.g.adU=function(s,N,r){var S=N*r,z=new Uint16Array(N*r),B=0;
for(var l=0;l<S;l++)z[l]=s[l];var A=new Uint8Array(N*r);A[1*N+1]=A[(r-1)*N+1]=A[1*N+N-1]=A[(r-1)*N+N-1]=1;
for(var Y=1;Y<r;Y++)for(var t=1;t<N;t++){var l=Y*N+t,p=z[l-N-1],f=z[l-N],a=z[l-1],D=z[l],c=p==D&&f==a&&p!=f,J=0;
if(D<a){B=D;D=a;a=B}if(a<f){B=a;a=f;f=B}if(f<p){B=f;f=p;p=B}if(D<a){B=D;D=a;a=B}if(a<f){B=a;a=f;f=B}if(D<a){B=D;
D=a;a=B}if(p!=f)J++;if(f!=a)J++;if(a!=D)J++;if(D!=p)J++;if(J>=3||c)A[l]=1}var Z=[];for(var Y=1;Y<r;Y++)for(var t=1;
t<N;t++){var l=Y*N+t;if(z[l]!=z[l-1]){var Q=q.g.amc(z,N,r,t,Y),M=[];for(var u=0;u<Q.length;u+=2)if(A[Q[u+1]*N+Q[u]]==1)M.push(u>>>1);
Z.push([Q,M]);q.g.GV(z,N,r,t,Y)}}return Z};q.g.GV=function(s,N,r,S,z){var A=[z*N+S],B=s[z*N+S];s[z*N+S]=65535;
while(A.length!=0){var l=A.pop();s[l]=0;if(s[l+N]==B){A.push(l+N);s[l+N]=65535}if(s[l-N]==B){A.push(l-N);
s[l-N]=65535}if(s[l-1]==B){A.push(l-1);s[l-1]=65535}if(s[l+1]==B){A.push(l+1);s[l+1]=65535}}};q.g.amc=function(s,N,r,S,z){var A=[0,-1,1,0,0,1,-1,0],f=1;
function B(D,c,f){var l=p*N+t,J=0;if(f==0)J=l-N;else if(f==1)J=l;else if(f==2)J=l-1;else if(f==3)J=l-N-1;
return s[J]}var Y=[],t=S,p=z,a=B(t,p,f);do{Y.push(t,p);t+=A[f*2];p+=A[f*2+1];if(B(t,p,f)!=a)f=f+1&3;
else if(B(t,p,f+3&3)!=a)f=f;else if(B(t,p,f+2&3)!=a)f=f+3&3}while(t!=S||p!=z);return Y};q.g.nn=function(s,N,r){var S=s.length-2;
if(r&&r.length!=0){var z=r[0]*2,A=r[r.length-1]*2,B=z==0?S:z-2,Y=s.slice(A);for(var l=0;l<z;l++)Y.push(s[l]);
if(z==A)Y.push(.9*s[z]+.1*s[B],.9*s[z+1]+.1*s[B+1]);else Y.push(s[z],s[z+1]);Y=q.g.m6(Y,N);Y.pop();Y.pop();
for(var l=0;l<r.length-1;l++){var t=s.slice(r[l]*2,r[l+1]*2+2);t=q.g.m6(t,N);for(var p=0;p<t.length-2;
p++)Y.push(t[p])}return Y}var f=s.slice(0);f.push(.9*s[0]+.1*s[S],.9*s[1]+.1*s[S+1]);f=q.g.m6(f,N);f.pop();
f.pop();return f};q.g.m6=function(s,N){var r=s.length-2,S=s[0],z=s[1],A=s[r],B=s[r+1],Y=A-S,t=B-z,p=1/Math.sqrt(Y*Y+t*t),f=A*z-B*S,a=-1,D=-1,c=0;
for(var l=2;l<r;l+=2){var J=s[l],Z=s[l+1],Q=Z*Z*1e6+J*J,M=Math.abs(t*J-Y*Z+f)*p;if(M>D||M==D&&Q>c){D=M;
a=l;c=Q}}if(D<N)return[S,z,A,B];var u=q.g.m6(s.slice(0,a+2),N),P=q.g.m6(s.slice(a),N);for(var l=2;l<P.length;
l++)u.push(P[l]);return u};q.g.asv=function(){var s=function(S,z,A,B,Y,t){return(z-B)*(Y-A)+(A-S)*(t-B)>=0},N=function(S,z,A,B,Y,t,p,f){var a=p-A,D=f-B,c=Y-A,J=t-B,Z=S-A,Q=z-B,M=a*a+D*D,u=a*c+D*J,P=a*Z+D*Q,m=c*c+J*J,i=c*Z+J*Q,e=1/(M*m-u*u),X=(m*P-u*i)*e,$=(M*i-u*P)*e;
return X>=0&&$>=0&&X+$<1},r=function(S){var i3=S.length>>>1,l=0;if(i3<3)return[];var z=[],A=[];for(var l=0;
l<i3;l++)A.push(l);var B=i3;while(B>3){var Y=A[(l+0)%B],t=A[(l+1)%B],p=A[(l+2)%B],f=S[2*Y],a=S[2*Y+1],D=S[2*t],c=S[2*t+1],J=S[2*p],Z=S[2*p+1],Q=!1;
if(s(f,a,D,c,J,Z)){Q=!0;for(var M=0;M<B;M++){var u=A[M];if(u==Y||u==t||u==p)continue;if(N(S[2*u],S[2*u+1],f,a,D,c,J,Z)){Q=!1;
break}}}if(Q){z.push(Y,t,p);A.splice((l+1)%B,1);B--;l=0}else if(l++>3*B)break}z.push(A[0],A[1],A[2]);
return z};return r}();q.g.a90=function(s,N){var r={},S={F:[],v:[]};for(var l=0;l<N.length;l+=3){var z=N[l]*2,A=N[l+1]*2,B=N[l+2]*2;
q.g._f(s,z,A,S,r);q.g._f(s,z,B,S,r);q.g._f(s,A,B,S,r)}return S};q.g._f=function(s,N,r,S,z){if(N>r){var A=r;
r=N;N=A}if(z[N+","+r])return;z[N+","+r]=!0;S.F.push("M","L");S.v.push(s[N],s[N+1],s[r],s[r+1])};q.g.wM=function(s,N){var r=[],S=s.length;
for(var l=0;l<S;l+=2){var z=s[l],A=s[l+1],B=s[(l+2)%S],Y=s[(l+3)%S];if(Y<A){var t=A;A=Y;Y=t}if(A<N&&N<Y){var p=(N-A)/(Y-A);
r.push(z+p*(B-z))}}r.sort(function(f,a){return f-a});return r};q.g.bV=function(s,N,r,S,z,A,B){var Y=s-r,t=N-S,p=z-r,f=A-S,a=1/Math.sqrt(Y*Y+t*t),D=1/Math.sqrt(p*p+f*f),c=Y*a,J=t*a,Z=p*D,Q=f*D,M=J*B,u=-c*B,P=-Q*B,m=Z*B,i=q.g.rR(M,u,c,J,P,m,Z,Q),e=M+c*i,X=u+J*i,i=q.g.rR(0,0,c,J,e,X,-J,c),$=c*i,O=J*i;
return[Math.sqrt($*$+O*O),c,J,Z,Q]};q.g.a6O=function(s,N,r,S,z,A,B){var Y=q.g.bV(s,N,r,S,z,A,B),t=Y[0],p=Y[1],f=Y[2],a=Y[3],D=Y[4],c=Math.atan2(p*D-f*a,p*a+f*D);
if(c<0){c=c*-1}var J=Math.PI-c,Z=4/3*Math.tan(J/4),Q=r+t*p,M=S+t*f,u=r+t*a,P=S+t*D,m=Q+Z*B*-p,i=M+Z*B*-f,e=u+Z*B*-a,X=P+Z*B*-D;
return[0,0,Q,M,m,i,e,X,u,P]};q.g.rR=function(s,N,r,S,z,A,B,Y){var t=B*(N-A)-Y*(s-z),p=Y*r-B*S;if(p==0)return 0;
return t/p};q.g.awG=function(s,N,r,S,z,A){return s*(S-A)+r*(A-N)+z*(N-S)};q.g.ahO=function(s){function N(F,L,x,g,n,h,_,H,G){var j=q.g.rR(F,L,x,g,n,h,_,H);
G.push(F+x*j,L+g*j)}var r=[],S=s.length,z=[];for(var l=0;l<S;l+=2){var A=l==0?S-2:l-2,B=l==S-2?0:l+2,Y=s[l],t=s[l+1],p=Y-s[A],f=t-s[A+1],a=s[B]-Y,D=s[B+1]-t,c=Math.sqrt(p*p+f*f),J=Math.sqrt(a*a+D*D);
z.push(J);var Z=c/(c+J),Q=Y-p*.5,M=t-f*.5,u=Y+a*.5,P=t+D*.5,m=(s[B]+s[A])*.5,i=(s[B+1]+s[A+1])*.5,e=Q+Z*(u-Q),X=M+Z*(P-M),$=Y-e,O=t-X,T=(a*-p+D*-f)/(c*J),b=(Z-.5)*7,R=1+b*Z,w=1-b*(1-Z);
r.push(Q+$*R,M+O*R,u+$*w,P+O*w)}return r};q.wU=function(){};q.wU.m8=function(s,N,r,S,z){var A=r.G,B=r.n,Y=A*B,t=new Int32Array(Y),i3=0;
for(var l=0;l<Y;l++)if(N[l]!=0){t[l]=i3;i3++}else if(s[(l<<2)+3]<200){t[l]=-2}else t[l]=-1;if(i3==0)return;
var p=new q.tL(i3,i3),f=new Array(3*i3),a=new Array(3*i3);for(var l=0;l<a.length;l++)a[l]=f[l]=0;var D=1/255,c=[-A,-1,1,A],J=[],Z=[];
for(var Q=0;Q<B;Q++)for(var M=0;M<A;M++){var u=Q*A+M,P=u<<2,l=t[u],m=l*3,i=0,e=0,X=0;if(l==-1||l==-2)continue;
for(var $=0;$<4;$++){if($==2){e=X;J[X]=0;Z[X]=l;X++}var O=u+c[$],T=O<<2,b=t[O];if($==0&&Q==0||$==1&&M==0||$==2&&M==A-1||$==3&&Q==B-1||b==-2)continue;
i++;if(b==-1){f[m+0]+=s[T+0];f[m+1]+=s[T+1];f[m+2]+=s[T+2]}else{J[X]=-1;Z[X]=b;X++;if(N[u]==N[O]){f[m+0]+=s[P+0]-s[T+0];
f[m+1]+=s[P+1]-s[T+1];f[m+2]+=s[P+2]-s[T+2]}}}J[e]=i;p.xf(J,Z,X)}for(var l=0;l<Y;l++)if(t[l]!=-1){var R=l<<2,w=t[l],F=w*3;
a[F]=s[R+0];a[F+1]=s[R+1];a[F+2]=s[R+2]}var L=Date.now();p.asj(a,f,S,z);console.log(Date.now()-L);for(var l=0;
l<Y;l++){var w=t[l],x=w*3,R=l<<2;if(w==-1||s[R+3]!=255)continue;s[R+0]=~~(.5+Math.max(0,Math.min(255,a[x+0])));
s[R+1]=~~(.5+Math.max(0,Math.min(255,a[x+1])));s[R+2]=~~(.5+Math.max(0,Math.min(255,a[x+2])))}};q.rect={};
q.rect.eD=function(s,N){var r=[s],S=[];for(var l=0;l<N.length;l++){var z=N[l],A=!1;for(var B=l+1;B<N.length;
B++){var Y=N[B];if(Y[0]<=z[0]&&Y[1]<=z[1]&&z[2]<=Y[2]&&z[3]<=Y[3]){A=!0;break}}if(!A)S.push(z)}N=S;for(var l=0;
l<N.length;l++){var z=N[l];for(var B=0;B<r.length;B++){var Y=r[B],t=Math.max(z[0],Y[0]),p=Math.min(z[2],Y[2]),f=Math.max(z[1],Y[1]),a=Math.min(z[3],Y[3]);
if(t<p&&f<a){var D=[];if(Y[1]<z[1]){var c=Y.slice(0);c[3]=z[1];D.push(c)}if(Y[0]<z[0]){var J=Y.slice(0);
J[1]=f;J[2]=z[0];D.push(J)}if(z[2]<Y[2]){var Z=Y.slice(0);Z[1]=f;Z[0]=z[2];D.push(Z)}if(z[3]<Y[3]){var Q=[t,a,p,Y[3]];
D.push(Q)}if(D.length!=0){r[B]=D[0];for(var M=1;M<D.length;M++)r.push(D[M])}}}r.push(z);r=q.rect.agF(r)}r.sort(function(z,Y){return z[1]!=Y[1]?z[1]-Y[1]:z[0]-Y[0]});
for(var l=1;l<r.length;l++){var z=r[l-1],Y=r[l];if(z[0]==Y[0]&&z[1]==Y[1]&&z[2]==Y[2]&&z[3]==Y[3]){r.splice(z[4]==null?l-1:l,1);
l--}}return r};q.rect.agF=function(s){s=s.slice(0);for(var l=0;l<s.length;l++){var N=s[l],r=null;if(N[4]!=null)continue;
for(var S=0;S<s.length;S++){var z=s[S];if(l==S||z[4]!=null)continue;var A=N[0]==z[0],B=N[1]==z[1],Y=N[2]==z[2],t=N[3]==z[3];
if(B&&t&&(N[2]==z[0]||N[0]==z[2])){r=[Math.min(N[0],z[0]),N[1],Math.max(N[2],z[2]),N[3]]}if(A&&Y&&(N[3]==z[1]||N[1]==z[3])){r=[N[0],Math.min(N[1],z[1]),N[2],Math.max(N[3],z[3])]}if(r){s[l]=r;
s.splice(S,1);break}}if(r){l--}}return s};q.rect.I3=function(s){var N=new hq;for(var l=0;l<s.length;
l++)N=N.Ms(s[l]);return N};q.rect.awj=function(s,N){var r=q.rect.I3,S=new UnionFind(s.length),e=1e3,X=1e3;
for(var l=0;l<s.length;l++)for(var z=l+1;z<s.length;z++){if(!N)continue;var A=s[l],B=s[z],a=1e9,D=1e9;
if(A.mF(B)){S.link(l,z);continue}var Y=A.x+A.G,t=A.y+A.n,p=B.x+B.G,f=B.y+B.n;if((Y<B.x||p<A.x)&&(t<B.y||f<A.y))continue;
if(!(t<B.y||f<A.y))a=Math.min(Math.abs(Y-B.x),Math.abs(A.x-p));if(!(Y<B.x||p<A.x))D=Math.min(Math.abs(t-B.y),Math.abs(A.y-f));
var c=Math.min(a,D),J=Math.min(A.G,A.n,B.G,B.n);if(c<.3*J)S.link(l,z)}var Z=[],Q={};for(var l=0;l<s.length;
l++){var M=S.find(l),u=s[l];if(Q[M]==null){Q[M]=Z.length;Z.push([])}Z[Q[M]].push(u)}var P=[],m=[];for(var l=0;
l<Z.length;l++){P.push(r(Z[l]));var i=r(Z[l]);i.VY=l;m.push(i)}m.sort(function(g,n){return Math.max(n.n,n.G)-Math.max(g.n,g.G)});
var $=new NETXUS.RectanglePacker(e,X);while(!0){var O=!1;$.reset(e,X);for(var l=0;l<m.length;l++){var T=$.findCoords(m[l].G,m[l].n);
if(T){m[l].x=T.x;m[l].y=T.y}else{e=Math.floor(e*1.1);X=Math.floor(X*1.1);O=!0;break}}if(O)continue;break}for(var l=0;
l<Z.length;l++){var b=m[l],R=b.VY,w=P[R],F=Z[R],L=b.x-w.x,x=b.y-w.y;for(var z=0;z<F.length;z++)F[z].offset(L,x)}};
q.HR=function(){};q.HR.Ez=Math.floor(16*window.devicePixelRatio);q.HR.lu={};q.HR.qU=0;q.HR.ft=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
q.HR.anS=["px","in","cm","mm","%"];q.HR.Pa=function(s,N,r,S){var z=[1,N,N/2.54,N/25.4,r/100][S];return s*z};
q.HR.a5U=function(s,N,r,S){var z=[1,N,N/2.54,N/25.4,r/100][S];return s/z};q.HR.jc=function(s,N,r,S,z){var A=r.Hl._c,B=[1,N,N/2.54,N/25.4,S/100][A],Y=[2,3,2,1,2][A];
s=s/B;var t=Math.round(s),p=A==0&&Math.abs(s-t)<1e-6?t+"":s.toFixed(Y);if(z)p+=" "+q.HR.anS[A];return p};
q.HR.aon=function(s,N,r,S){var z=r.Hl._c,A=[1,N,N/2.54,N/25.4,S/100][z];s=parseFloat(s)*A;return s};
q.HR.awA=function(s,N){var r=s+","+N;if(q.HR.lu.clr==r)return;var S=Math.round(q.HR.Ez*.5);q.HR.qU=S;
var z=document.createElement("canvas");z.width=z.height=S;var A=z.getContext("2d");A.font=S*1.5+"px monospace";
var B="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var l=0;l<B.length;l++){A.fillStyle="#"+q.fD(N);A.fillRect(0,0,S,S);
A.fillStyle="#"+q.fD(s);A.fillText(B[l],0,S);q.HR.lu[B[l]]=A.getImageData(0,0,S,S).data}q.HR.lu.clr=r};
q.HR.ajM=function(s,N,r){var S=0,z=0,A=4*q.HR.Ez;for(var l=9;l>=0;l--){var B=Math.pow(10,l);if(5*B*s<=A){S=5*B;
z=10;break}if(2*B*s<=A){S=2*B;z=4;break}if(1*B*s<=A){S=1*B;z=10;break}}if(S==0){S=1;z=10}var Y=Math.ceil(S*s),t=q.m(Y*q.HR.Ez*4);
q.TM(t,4278190080|r);for(var l=0;l<q.HR.Ez;l++)q.HR.BT(t,4*l*Y,N);for(var l=0;l<Y;l++)q.HR.BT(t,4*((q.HR.Ez-1)*Y+l),N);
if(S==2)z=2;if(S==5)z=5;if(S>1||S==1&&Y>20)for(var l=1;l<z;l++)q.HR.acp(t,l*(Y/z),Y,(l&1)==1?.8:.7,N);
return{r2:t,step:S}};q.HR.acp=function(s,N,r,S,z){var N=Math.round(N);for(var A=Math.round(q.HR.Ez*S);
A<q.HR.Ez-1;A++)q.HR.BT(s,4*(A*r+N),z)};q.HR.BT=function(s,N,r){s[N+0]=r>>16&255;s[N+1]=r>>8&255;s[N+2]=r&255};
q.HR.a4X=function(s,N,r,S,z,A,B){var Y=s.bh.G,t=s.bh.n,p=q.HR.Ez,f=N&255,a=N>>8&255,D=N>>16&255;N=Math.round(f*.6)<<16|Math.round(a*.6)<<8|Math.round(D*.6);
q.HR.awA(Math.round(f*.8)<<16|Math.round(a*.8)<<8|Math.round(D*.8),r);var c=s.X,J=s.u,Z=s.hw;for(var Q=0;
Q<2;Q++){var M=Q==0?A:B;s.X=M[0];s.u=M[1];s.hw=0;var u=this.ajM(s.X,N,r),P=s.Vd(0,0),m=s.Vd(Y,t),i=Math.floor(P.x/u.step)*u.step,e=Math.ceil(m.x/u.step)*u.step,X=Math.floor(P.y/u.step)*u.step,$=Math.ceil(m.y/u.step)*u.step,O=s.Oo(i,X),T=s.Oo(e,X),b=u.step*s.X,R=Math.ceil(b);
if(Q==1){var w=u.r2;u.r2=q.m(w.length*4);q.P.yZ(w,u.r2,R,p)}var F=Q==0?s.KH.data:s.ya.data,L=new hq(0,0,[Y,p][Q],[p,t][Q]),x=new hq(0,0,[R,p][Q],[p,R][Q]),g=new hq([0,Math.round(p*.2)][Q],[Math.round(p*.08),0][Q],q.HR.qU,q.HR.qU),n=(Q==0?e-i:$-X)/u.step;
for(var l=0;l<n;l++){if(Q==0)x.x=Math.round(O.x+l*b);else x.y=Math.round(O.y+l*b);q.LP(u.r2,x,F,L,x);
var h=(Q==0?i+l*u.step:Math.abs(X+l*u.step)).toString(10);for(var _=0;_<h.length;_++){if(Q==0)g.x=x.x+3+_*Math.round(q.HR.qU*.8);
else g.y=x.y+3+_*Math.round(q.HR.qU*1.15);var H=q.HR.lu[h[_]];q.LP(H,g,F,L,g)}}}s.X=c;s.u=J;s.hw=Z;var G=Math.floor(p*.6),j=new Uint32Array(s.KH.data.buffer),v=new Uint32Array(s.ya.data.buffer),C=f<128?4278190080:4294967295;
if(0<S&&S<Y)for(var l=0;l<G;l++)j[l*Y+S]=C;if(0<z&&z<t)for(var l=0;l<G;l++)v[z*p+l]=C};q.scale={};q.scale.I=document.createElement("canvas");
q.scale.IM=q.scale.I.getContext("2d");q.scale.vz=document.createElement("canvas");q.scale.w0=q.scale.vz.getContext("2d");
q.scale.Hb=function(s,N,r){var S=q.scale.I,z=q.scale.IM;S.width=N;S.height=r;var A=new ImageData(new Uint8ClampedArray(s.buffer),N,r);
z.putImageData(A,0,0);return z.createPattern(S,"repeat")};q.scale.pO=function(s,N,r,S,z,A,B,Y,t){var p=q.scale.acP(s,r,S,z,A,B,Y,t).data;
if(N)q.r8(p,N);return new Uint8Array(p.buffer)};q.scale.acP=function(s,N,r,S,z,A,B,Y){var t=q.scale.I,p=q.scale.IM;
t.width=N;t.height=r;p.rect(0,0,N,r);p.translate(A,B);p.scale(S,z);if(Y!=null)p.rotate(-Y);p.fillStyle=s;
p.fill();return p.getImageData(0,0,N,r)};q.scale.D=function(s,N,r,S,z){var A=r.clone();A.dm();var B=z.G,Y=z.n,t=q.g.w2(N).v;
q.g.D(t,A,t);var p=q.g.nw(t).PS(z),f=p.x,a=p.y,D=f+p.G,c=a+p.n,J=~~N.x,Z=~~N.y,Q=~~N.G,M=~~N.n;for(var u=a;
u<c;u++)for(var P=f;P<D;P++){var m=P+.5,i=u+.5,e=r.aC*m+r.K1*i+r.JC-J,X=r.U*m+r.dX*i+r.T3-Z;if(0<=e&&0<=X&&e<Q&&X<M)S[u*B+P]=s[~~X*Q+~~e]}};
q.scale.Qj=function(s,N,r,S,z){var A=new Uint32Array(s.buffer),B=new Uint32Array(S.buffer),Y=r.clone();
Y.dm();var t=z.G,p=z.n,f=q.g.w2(N).v;q.g.D(f,Y,f);var a=q.g.nw(f).PS(z),D=a.x,c=a.y,J=D+a.G,Z=c+a.n,Q=~~N.x,M=~~N.y,u=~~N.G,P=~~N.n;
for(var m=c;m<Z;m++)for(var i=D;i<J;i++){var e=i+.5,X=m+.5,$=r.aC*e+r.K1*X+r.JC-Q,O=r.U*e+r.dX*X+r.T3-M;
if(0<=$&&0<=O&&$<u&&O<P)B[m*t+i]=A[~~O*u+~~$]}};q.scale.$B=function(s,N,r,S,z,A,B){if(B<1)q.scale.a9F(s,N,r,S,z,A,Math.round(1/B));
else q.scale.alQ(s,N,r,S,z,A,B)};q.scale.MZ=function(s,N,r,S,z,A,B,Y){if(Y)Y=Y.PS(new hq(0,0,N,r));s=new Uint32Array(s.buffer);
S=new Uint32Array(S.buffer);if(B<1)q.scale.a8e(s,N,r,S,z,A,Math.round(1/B),Y);else q.scale.afT(s,N,r,S,z,A,B)};
q.scale.alQ=function(s,N,r,S,z,A,B){for(var Y=0;Y<r;Y++)for(var t=0;t<N;t++){var p=s[Y*N+t],f=Math.min(B,z-t*B),a=Math.min(B,A-Y*B);
for(var l=0;l<a;l++)for(var D=0;D<f;D++)S[(B*Y+l)*z+B*t+D]=p}};q.scale.a9F=function(s,N,r,S,z,A,B){for(var Y=0;
Y<A;Y++)for(var t=0;t<z;t++){var p=0,f=Math.min(B,N-t*B),a=Math.min(B,r-Y*B);for(var l=0;l<a;l++)for(var D=0;
D<f;D++)p+=s[(B*Y+l)*N+(B*t+D)];S[Y*z+t]=Math.round(p/(f*a))}};q.scale.afT=function(s,N,r,S,z,A,B){for(var Y=0;
Y<r;Y++)for(var t=0;t<N;t++){var p=s[Y*N+t],f=Math.min(B,z-t*B),a=Math.min(B,A-Y*B);for(var l=0;l<a;
l++)for(var D=0;D<f;D++)S[(B*Y+l)*z+B*t+D]=p}};q.scale.aqN=function(s,N,r){return(s>>>r&255)+(N>>>r&255)>>>1};
q.scale.Vn=function(s,N){var r=q.scale.aqN;return r(s,N,24)<<24|r(s,N,16)<<16|r(s,N,8)<<8|r(s,N,0)};
q.scale.abM=function(s,N,r,S,z,A){var B=new Uint32Array(s.buffer),Y=new Uint32Array(S.buffer);for(var t=0;
t<r;t++){for(var p=0;p<N;p++){var f=t*N+p,a=B[f],D=a,c=a,J=a;if(p<N-1)D=q.scale.Vn(a,B[f+1]);if(t<r-1)c=q.scale.Vn(a,B[f+N]);
if(p<N-1&&t<r-1)J=q.scale.Vn(a,B[f+N+1]);var Z=(t*z+p)*2;Y[Z]=a;Y[Z+1]=D;Y[Z+z]=c;Y[Z+z+1]=J}}if((z&1)==1)for(var t=0;
t<A;t++)Y[t*z+z-1]=Y[t*z+z-2];var Q=z*(A-1);if((A&1)==1)for(var p=0;p<z;p++)Y[Q+p]=Y[Q-z+p]};q.scale.a8e=function(s,N,r,S,z,A,B,Y){var t=0,p=z,f=0,a=A;
if(Y){t=Math.floor(Y.x/B);p=Math.ceil((Y.x+Y.G)/B);f=Math.floor(Y.y/B);a=Math.ceil((Y.y+Y.n)/B)}for(var D=f;
D<a;D++)for(var c=t;c<p;c++){var J=0,Z=0,Q=0,M=0,u=Math.min(B,N-c*B),P=Math.min(B,r-D*B);for(var l=0;
l<P;l++)for(var m=0;m<u;m++){var i=s[(B*D+l)*N+B*c+m],e=i>>>24;J+=e;Z+=e*(i>>>16&255);Q+=e*(i>>>8&255);
M+=e*(i&255)}if(J!=0){var X=1/J;S[D*z+c]=J/(u*P)<<24|Z*X<<16|Q*X<<8|M*X}else S[D*z+c]=0}};q.q={};q.q.acs=function(s,N,r){var S=128,l=0,z=r.G,A=r.n;
for(var B=0;B<A;B++)for(var Y=0;Y<z;Y++){if(s[l]>=S&&(Y==0||s[l-1]<S||(Y==z-1||s[l+1]<S)||(B==0||s[l-z]<S)||(B==A-1||s[l+z]<S)))N[l]=255;
l++}};q.q.awD=function(s,N,r,S){var z=new Uint32Array([4278190080,4294967295]),A=r.G,B=r.n,Y=0,t=0,p=A,f=B;
if(S){Y=S.x-r.x;t=S.y-r.y;p=Y+S.G;f=t+S.n}var a=new Uint8Array(N.buffer),D=new Uint32Array(N.buffer);
for(var c=t;c<f;c++)for(var J=Y;J<p;J++){var l=c*A+J;if((s[l]&128)!=0&&(c==0||(s[l-A]&128)==0||J==0||(s[l-1]&128)==0||J==A-1||(s[l+1]&128)==0||c==B-1||(s[l+A]&128)==0)){D[l]=z[(J+c&4)>>>2]}}};
q.q.auO=function(s,N,r,S,z,A){var B=r.G,Y=r.n,t=0,p=0,f=B,a=Y;if(S){t=S.x-r.x;p=S.y-r.y;f=t+S.G;a=p+S.n}var D=new Uint8Array(N.buffer),c=new Uint32Array(N.buffer);
for(var J=p;J<a;J++)for(var Z=t;Z<f;Z++){var l=J*B+Z,Q=s[l];if(z==1)c[l]=255-Q>>>1<<24|255;else c[l]=255<<24|(Q<<16|Q<<8|Q)}};
q.$T={};q.$T.B9=function(s,N,r){var S,z;if(r==0){S=s.rect.clone();z=q.$T.aaE}if(r==1){S=s.rect.Ms(N.rect);
z=q.$T.Ms}if(r==2){S=N.rect.clone();z=q.$T.ak4}if(r==3){S=s.rect.PS(N.rect);z=q.$T.PS}if(r==4){S=s.rect.Ms(N.rect);
z=q.$T.a4J}if(S.Nf())return null;var A=q.m(S.$());q.lf(N.channel,N.rect,A,S);var B=q.m(S.$());q.lf(s.channel,s.rect,B,S);
z(B,A,A);var Y=q.af(A,S);if(Y.Nf())return null;if(!Y.nR(S)){var t=q.m(Y.$());q.lf(A,S,t,Y);A=t;S=Y}return{channel:A,rect:S}};
q.$T.aaE=function(s,N,r){for(var l=0;l<s.length;l++)r[l]=s[l]};q.$T.Ms=function(s,N,r){for(var l=0;l<s.length;
l++)r[l]=Math.min(s[l]+N[l],255)};q.$T.ak4=function(s,N,r){for(var l=0;l<s.length;l++)r[l]=Math.max(N[l]-s[l],0)};
q.$T.PS=function(s,N,r){var S=1/255;for(var l=0;l<s.length;l++)r[l]=s[l]*N[l]*S};q.$T.a4J=function(s,N,r){var S=1/255;
for(var l=0;l<s.length;l++)r[l]=Math.min(s[l]+N[l],255)-s[l]*N[l]*S};q.tL=function(s,N){this.s=[];this.N1=[0];
this.Wv=[];this.jq=[];this.oq=[0];this.iL=[];this._A=[];this.rows=s;this.cols=N};q.tL.prototype.clone=function(){var s=this,N=s.rows,r=s.cols,S=new q.tL(N,r);
S.s=s.s.slice(0);S.N1=s.N1.slice(0);S.Wv=s.Wv.slice(0);S.jq=s.jq.slice(0);S.oq=s.oq.slice(0);S.iL=s.iL.slice(0);
S._A=s._A.slice(0);return S};q.tL.prototype.xf=function(s,N,r){var S=this.N1.length-1;for(var l=0;l<r;
l++){var z=s[l],A=N[l];this.s.push(z);this.Wv.push(A);if(A==S){this._A.push(z==0?0:1/z)}else{this.jq.push(z);
this.iL.push(A)}}this.N1.push(this.s.length);this.oq.push(this.jq.length)};q.tL.prototype.j6=function(s,N){var r=this,S=r.rows,z=r.s,A=r.Wv;
if(N==null)N=new Array(S);for(var l=0;l<S;l++){var B=r.N1[l],Y=r.N1[l+1],t=0;while((Y-B&3)!=0){t+=z[B]*s[A[B]];
B++}for(var p=B;p<Y;p+=4)t+=z[p]*s[A[p]]+z[p+1]*s[A[p+1]]+z[p+2]*s[A[p+2]]+z[p+3]*s[A[p+3]];N[l]=t}return N};
q.tL.prototype.multiply=function(s){return this.NZ(s.yZ())};q.tL.prototype.NZ=function(s){var N=this,r=N.rows,S=N.cols,z=s.rows,A=new q.tL(r,z),B=N.Wv,Y=s.Wv;
for(var l=0;l<r;l++){var t=[],p=[],f=N.N1[l],a=N.N1[l+1];for(var D=0;D<z;D++){var c=s.N1[D],J=s.N1[D+1],Z=0,Q=f,M=c;
while(Q<a&&M<J){var u=Math.max(B[Q],Y[M]);while(Q<a&&B[Q]<u)Q++;while(M<J&&Y[M]<u)M++;if(Q<a&&M<J&&B[Q]==Y[M])Z+=N.s[Q++]*s.s[M++]}if(Z!=0){t.push(Z);
p.push(D)}}A.xf(t,p,t.length)}return A};q.tL.prototype.yZ=function(){var s=this.rows,N=this.cols,r=[];
for(var l=0;l<N;l++)r.push([[],[]]);var S=this.s,z=this.N1,A=this.Wv;for(var l=0;l<s;l++){var B=z[l],Y=z[l+1];
for(var t=B;t<Y;t++){var p=r[A[t]];p[0].push(S[t]);p[1].push(l)}}var f=new q.tL(N,s);for(var l=0;l<N;
l++)f.xf(r[l][0],r[l][1],r[l][1].length);return f};q.tL.prototype.ni=function(){var s=this.rows,N=this.cols,r=new Array(s),S=this.s,z=this.N1,A=this.Wv;
for(var l=0;l<s;l++){var B=r[l]=new Array(N);for(var Y=0;Y<N;Y++)B[Y]=0;var t=z[l],p=z[l+1];for(var f=t;
f<p;f++)B[A[f]]=S[f]}return r};q.tL.prototype.Sl=function(s,N,r,S,z){function A(X,N,$,O){var T=X.length;
for(var l=0;l<T;l++)O[l]=X[l]-N[l]*$}function B(X,N,$,O){var T=X.length,b=0;while((T-b&3)!=0){O[b]=X[b]+N[b]*$;
b++}for(var l=b;l<T;l+=4){O[l]=X[l]+N[l]*$;O[l+1]=X[l+1]+N[l+1]*$;O[l+2]=X[l+2]+N[l+2]*$;O[l+3]=X[l+3]+N[l+3]*$}}function Y(X,N,$){var O=X.length;
for(var l=0;l<O;l++)$[l]=X[l]*N[l]}function t(X,N){var $=X.length,O=0,T=0;while(($-O&3)!=0){T+=X[O]*N[O];
O++}for(var l=O;l<$;l+=4)T+=X[l]*N[l]+X[l+1]*N[l+1]+X[l+2]*N[l+2]+X[l+3]*N[l+3];return T}var p=S!=null?2:1,f=Date.now(),a=0,D=this,c=s.slice(0),J=s.slice(0);
D.j6(s,J);A(N,J,1,c);var Z=this._A;if(p==0){Z=c.slice(0);Z.fill(1)}var Q=c.slice(0);Y(Z,c,Q);var M=Q.slice(0),u=t(c,Q);
while(!0){D.j6(M,J);var P=u/t(M,J);B(s,M,P,s);A(c,J,P,c);if((a&7)==0&&Math.sqrt(t(c,c))<r)break;if(p<=1)Y(Z,c,Q);
else{var m=c.slice(0);S.acl(m,c);z.aic(Q,m)}var i=t(c,Q),e=i/u;B(Q,M,e,M);u=i;a++}};q.tL.prototype.ave=function(s,N,r,S){var z=Date.now(),A=1.96,Y=0;
if(r==null)r=5e-6;if(S==null)S=1e9;var B=1-A,i3=this.rows,t=this.jq,p=this.oq,f=this.iL,a=this._A;while(!0){var D=0;
for(var l=0;l<i3;l++){var c=N[l],J=p[l],Z=p[l+1];if(Z-J==4)c-=t[J]*s[f[J]]+t[J+1]*s[f[J+1]]+t[J+2]*s[f[J+2]]+t[J+3]*s[f[J+3]];
else for(var Q=J;Q<Z;Q++)c-=t[Q]*s[f[Q]];var M=s[l]*B+a[l]*c*A,u=M-s[l];D+=u*u;s[l]=M}if(D/i3<r||Date.now()>z+S)break}};
q.tL.prototype.asj=function(s,N,r,S){var z=Date.now(),A=1.96,Y=0;if(r==null)r=5e-5;if(S==null)S=1e9;
var B=1-A,i3=this.rows,t=this.jq,p=this.oq,f=this.iL,a=this._A;while(!0){var D=0;for(var l=0;l<i3;l++){var c=l*3,J=N[c],Z=N[c+1],Q=N[c+2],M=p[l],u=p[l+1];
for(var P=M;P<u;P++){var m=t[P],i=f[P]*3;J-=m*s[i+0];Z-=m*s[i+1];Q-=m*s[i+2]}var e=a[l]*A,X=s[c+0]*B+J*e,$=s[c+1]*B+Z*e,O=s[c+2]*B+Q*e,T=X-s[c+0],b=$-s[c+1],R=O-s[c+2];
D+=.4*T*T+.5*b*b+.1*R*R;s[c+0]=X;s[c+1]=$;s[c+2]=O}if(D/i3<r||Date.now()>z+S)break}};q.R2={};q.R2.rP=function(s,N,r){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:s},Vrtc:{t:"doub",v:N},Cnty:{t:"bool",v:r}}}};
q.R2.D=function(s,N){for(var l=0;l<s.length;l++){var r=s[l].v,S=N.aK(new cR(r.Hrzn.v,r.Vrtc.v));r.Hrzn.v=Math.round(S.x);
r.Vrtc.v=Math.round(S.y)}};q.R2.Gq=function(s,N,r){var i3=s.length-1,S=q.lO.At(i3+1,i3+2);for(var l=1;
l<i3;l++){S[l][l-1]=1/(s[l]-s[l-1]);S[l][l]=2*(1/(s[l]-s[l-1])+1/(s[l+1]-s[l]));S[l][l+1]=1/(s[l+1]-s[l]);
S[l][i3+1]=3*((N[l]-N[l-1])/((s[l]-s[l-1])*(s[l]-s[l-1]))+(N[l+1]-N[l])/((s[l+1]-s[l])*(s[l+1]-s[l])))}S[0][0]=2/(s[1]-s[0]);
S[0][1]=1/(s[1]-s[0]);S[0][i3+1]=3*(N[1]-N[0])/((s[1]-s[0])*(s[1]-s[0]));S[i3][i3-1]=1/(s[i3]-s[i3-1]);
S[i3][i3]=2/(s[i3]-s[i3-1]);S[i3][i3+1]=3*(N[i3]-N[i3-1])/((s[i3]-s[i3-1])*(s[i3]-s[i3-1]));q.lO.PR(S,r)};
q.R2.afG=function(s,N,r,S){if(s<=N[0])return r[0];if(s>=N[N.length-1])return r[N.length-1];var l=1;while(N[l]<s)l++;
var z=N[l],A=N[l-1],B=r[l],Y=r[l-1],t=(s-A)/(z-A),p=S[l-1]*(z-A)-(B-Y),f=-S[l]*(z-A)+(B-Y),a=(1-t)*Y+t*B+t*(1-t)*(p*(1-t)+f*t);
return a};q.R2.Pb=function(s,N,r,S){var z={Qe:[s[0]],xR:[N[0]],mz:[]};S[0]=z;for(var l=1;l<s.length-1;
l++){z.Qe.push(s[l]);z.xR.push(N[l]);if(r[l]==!1){q.R2.Gq(z.Qe,z.xR,z.mz);z={Qe:[s[l]],xR:[N[l]],mz:[]}}S[l]=z}z.Qe.push(s[l]);
z.xR.push(N[l]);q.R2.Gq(z.Qe,z.xR,z.mz);S[l]=z};q.R2.w3=function(s,N,r,S){if(s<=N[0])return r[0];if(s>=N[N.length-1])return r[N.length-1];
var l=1;while(N[l]<s)l++;var z=S[l-1];return q.R2.afG(s,z.Qe,z.xR,z.mz)};q.R2.ei=function(s){var N={Qe:[],xR:[],Rf:[]};
for(var l=0;l<s.length;l++){N.Qe[l]=s[l].v.Hrzn.v;N.xR[l]=s[l].v.Vrtc.v;N.Rf[l]=s[l].v.Cnty?s[l].v.Cnty.v:!0}return N};
q.R2.s9=function(s,i3,N){var r=0,S=255;if(N){r=-1e9;S=1e9}var z=q.R2.ei(s),A=[];q.R2.Pb(z.Qe,z.xR,z.Rf,A);
var B=[];for(var l=0;l<i3;l++)B[l]=1/255*Math.max(r,Math.min(S,q.R2.w3(l*(255/(i3-1)),z.Qe,z.xR,A)));
return B};q.R2.afR=function(s,i3,N){var r=Math.round(s.length/20),S=i3-s.length,z=N?(s[r]-s[0])/r:0,A=N?s[0]-S*z:s[s.length-1],B=[];
for(var l=0;l<S;l++)B.push(A+l*z);return N?B.concat(s):s.concat(B)};q.R2.zu=function(s,i3,N){var r=q.R2.ei(s),S=[];
q.R2.Pb(r.Qe,r.xR,r.Rf,S);var z=new Uint8Array(i3),A=i3/256;for(var l=0;l<i3;l++)z[l]=Math.max(0,Math.min(i3-1,q.R2.w3(l*A,r.Qe,r.xR,S)));
if(N){z[0]=0;if(z[1]>100)z[1]=.4*z[1];if(z[2]>150)z[1]=.7*z[2]}return z};q.R2.Hg=function(s,N){var r=new Uint8Array(s.length);
for(var l=0;l<s.length;l++)r[l]=N[s[l]];return r};q.R2.ty=function(s,N,r){var S=document.createElement("canvas");
S.width=N;S.height=r;var z=S.getContext("2d"),A=q.R2.zu(s,256);z.scale(N/255,r/255);z.fillStyle="#fff";
z.fillRect(0,0,255,255);z.fillStyle="#333";z.beginPath();z.moveTo(0,255);for(var l=0;l<A.length;l++)z.lineTo(l,255-A[l]);
z.lineTo(255,255);z.closePath();z.fill();return S.toDataURL()};q.style={};q.style.stroke=function(s,N,r,S){var z=r.G,A=r.n,B=new Float64Array(z*A);
q.style.rh(s,B,z,A);q.style.ag(N,r,B,r,S)};q.style.ag=function(s,N,r,S,z){var A=N.PS(S),B=A.G,Y=A.n;
z+=.5;var t=A.x-N.x,p=A.y-N.y,f=N.G,a=A.x-S.x,D=A.y-S.y,c=S.G;for(var J=0;J<Y;J++){var Z=(J+D)*c+a,Q=(J+p)*f+t;
for(var M=0;M<B;M++){var u=Math.max(0,Math.min(1,z-r[Z+M]));s[Q+M]=Math.round(u*255)}}};q.style.apy=function(s,N,r,S){for(var z=0;
z<r;z++)for(var A=0;A<N;A++){var B=z*N+A,Y=0,t=0,p=s[B];if(A==0||z==0){Y=s[B+1]-p;t=s[B+N]-p}else if(A==r-1||z==N-1){Y=p-s[B-1];
t=p-s[B-N]}else{Y=s[B+1]-s[B-1];t=s[B+N]-s[B-N]}if(Y!=0||t!=0){var f=1/Math.sqrt(Y*Y+t*t);Y*=f;t*=f}S[B+B]=Y;
S[B+B+1]=t}};q.style.rh=function(s,N,r,S){var z=0,A=r*S;for(var l=0;l<A;l++)z|=s[l];if(z==0){N.fill(1e9);
return}var B=q.style.ZR(s,r,S);for(var Y=0;Y<S;Y++)for(var t=0;t<r;t++){var l=Y*r+t,p=B[l*2],f=B[l*2+1],a=(Y+f)*r+t+p;
if(p==0&&f==0){N[l]=0;continue}var D=Math.sqrt(p*p+f*f),c=s[a]*(1/255),J=1/D,Z=Math.abs(p)*J,Q=Math.abs(f)*J;
if(Q>Z){var M=Q;Q=Z;Z=M}N[l]=D+q.style.adc(Z,Q,c)}};q.style.adc=function(s,N,r){return(.5-r)*s};q.style.ZR=function(s,N,r,S){var z=new Int16Array(N*r*2);
q.style.arx(s,z,N,r,128);return z};q.style.arx=function(s,N,r,S,z){var A=new Int32Array(r*S);q.style.ax4(s,A,r,S,z);
q.style.abm(A,N,r,S)};q.style.ax4=function(s,N,r,S,z){var A=new Int32Array(S);for(var B=0;B<r;B++){var Y=r+S;
for(var t=S-1;t>=0;t--){if(s[t*r+B]>z)Y=0;else Y++;A[t]=Y}Y=r+S;for(var t=0;t<S;t++){if(s[t*r+B]>z)Y=0;
else Y++;N[t*r+B]=Y<A[t]?-Y:A[t]}}};q.style.abm=function(s,N,r,S){var z=(r+S)*(r+S),A=new Float64Array(r),B=new Uint16Array(r);
for(var Y=0;Y<S;Y++){var t=Y*r,p=0;B[0]=0;A[0]=-z;A[1]=+z;for(var f=1;f<r;f++){var a=s[f+t]*s[f+t]+f*f,D=(a-(s[B[p]+t]*s[B[p]+t]+B[p]*B[p]))/(2*f-2*B[p]);
while(D<=A[p]){p--;D=(a-(s[B[p]+t]*s[B[p]+t]+B[p]*B[p]))/(2*f-2*B[p])}p++;B[p]=f;A[p]=D;A[p+1]=z}p=0;
for(var f=0;f<r;f++){while(A[p+1]<f)p++;var c=B[p]-f,J=s[B[p]+t],l=Y*r+f<<1;N[l]=c;N[l+1]=J}}};q.style.b7=function(s,N,r){if(r)for(var l=0;
l<s.length;l++){var S=s[l];if(S>0)s[l]=Math.max(0,Math.min(255,S+N*2*(q.style.No(l)-128)))}else for(var l=0;
l<s.length;l++){var S=s[l];if(S>0)s[l]=Math.max(0,Math.min(255,S+Math.min(S*3,N*2*(q.style.No(l)-128))))}};
q.style.No=function(s){s=s^61^s>>16;s=s+(s<<3);s=s^s>>4;s=s*668265261;s=s^s>>15;return s&255};q.zg={};
q.zg.DJ=function(s,N,r){var S=s.canvas;if(S.width!=N||S.height!=r){S.width=N;S.height=r}};q.zg.eJ=function(s,N,r,S,z,A){q.zg.DJ(s,N,r);
if(A==null)A=!1;var B=z.channel,Y=z.rect,t=!z.isEnabled;if(N*r==0)return;var p=s.createImageData(N,r),f=p.data,a=1/N,D=1/r;
for(var l=0;l<r;l++)for(var c=0;c<N;c++){var J=l*N+c,Z=J*4,Q=Math.round(S.x+c*a*S.G),M=Math.round(S.y+l*D*S.n),u=0;
if(Q<Y.x||Q>=Y.x+Y.G||M<Y.y||M>=Y.y+Y.n)u=z.color;else u=B[(M-Y.y)*Y.G+(Q-Y.x)];u=255*(255-z.Af)+u*z.Af>>>8;
if(A)u=170+Math.round(.4*(u-170));f[Z]=u;f[Z+1]=u;f[Z+2]=u;f[Z+3]=255}s.putImageData(p,0,0);if(t)q.zg._j(s,N,r)};
q.zg.Iy=[];q.zg.a6q=function(s,N,r,S){var z,A,B;z=Math.ceil(Math.max(N,r)*.35);A=N-z;B=r-z;var Y=q.zg.Iy[z];
if(Y==null){var t=q.ip(z,z);t.fillStyle="#eeeeee";t.fillRect(0,0,z,z);var p=Math.round(z*.27),f=t.lineWidth=Math.max(1,Math.round(z*.12)),a=f/2;
t.strokeRect(1+a,1+a,z-f-2,z-f-2);t.strokeRect(p+a,p+a,z-p-p-f,z-p-p-f);Y=q.zg.Iy[z]=t.getImageData(0,0,z,z)}s.putImageData(Y,A,B)};
q.zg.MB=[];q.zg.a9c=function(s,N,r){var S,z,A;S=Math.ceil(Math.max(N,r)*.35);z=N-S;A=r-S;var B=q.zg.MB[S];
if(B==null){var Y=q.ip(S,S);Y.fillStyle="#eeeeee";Y.fillRect(0,0,S,S);Y.lineWidth=1;Y.strokeRect(2.5,2.5,S-5,S-5);
var t=Y.createImageData(3,3);q.TM(t.data,4278190080);t.data[4*4]=t.data[4*4+1]=t.data[4*4+2]=238;Y.putImageData(t,1,1);
Y.putImageData(t,S-4,1);Y.putImageData(t,1,S-4);Y.putImageData(t,S-4,S-4);B=q.zg.MB[S]=Y.getImageData(0,0,S,S)}s.putImageData(B,z,A)};
q.zg.aeV=function(s,N,r,S,z){q.zg.DJ(s,N,r);var A=N/S.G;if(N*r==0)return;s.fillStyle="#999999";s.setTransform(1,0,0,1,0,0);
s.clearRect(0,0,N,r);var B=q.zg.Uu;if(B==null){B=q.zg.Uu=JSON.parse(JSON.stringify(jG.iJ.default));B.strokeEnabled.v=!0}B.strokeStyleLineWidth.v.val=1/A;
s.fillStyle="#ffffff";s.scale(A,A);q.J.jP(z._,s,0,0);q.J.jP(z._,s,0,0,B)};q.zg.zZ=null;q.zg.W5=function(s,N,r,S,z,A,B,Y){q.zg.DJ(s,N,r);
if(N*r==0)return;var t=Math.max(N,r),p=q.zg.zZ;if(p==null||p.width<t||p.height<t){q.zg.zZ=p=s.createImageData(t,t)}t=p.width;
var f=p.data,a=S.G/N,D=S.n/r,c=A.x,J=A.x+A.G,Z=A.y,Q=A.y+A.n;for(var l=0;l<r;l++)for(var M=0;M<N;M++){var u=l*t+M,P=u*4,m=~~(S.x+M*a),i=~~(S.y+l*D),e=q.Ro(l,M,2);
if(m<c||m>=J||i<Z||i>=Q){f[P]=e;f[P+1]=e;f[P+2]=e;f[P+3]=255}else{var X=(i-A.y)*A.G+(m-A.x)<<2,$=z[X+3]*(1/255);
f[P]=z[X+0]*$+e*(1-$);f[P+1]=z[X+1]*$+e*(1-$);f[P+2]=z[X+2]*$+e*(1-$);f[P+3]=255}}if(Y!=null)for(var l=0;
l<f.length;l+=4)f[l]=f[l+1]=f[l+2]=f[l+Y];s.putImageData(p,0,0);if(B)q.zg._j(s,N,r)};q.zg.abR=function(s,N,r,S){q.zg.DJ(s,N,r);
s.fillStyle=q.zg.iy(S.Clr.v);s.fillRect(0,0,N,r);q.zg.ZI(s,N,r)};q.zg.qL=null;q.zg.aqW=function(s,N,r,S){q.zg.DJ(s,N,r);
var z=s.canvas.width,A=s.canvas.height,B=q.zg.qL;if(B==null||B.width!=z||B.height!=A){s.fillStyle="#ffffff";
s.fillRect(0,0,N,r);s.fillStyle="#000000";s.font=""+r*.7+"px serif";s.fillText("T",(N-r*.43)/2,r*.75);
s.fillText("T",(N-r*.43)/2,r*.75);q.zg.qL=s.getImageData(0,0,z,A)}else s.putImageData(B,0,0)};q.zg.ahI=function(s,N,r){q.zg.DJ(s,N,r);
s.clearRect(0,0,N,r);s.font=r*.7+"px serif";s.fillText(":(",(N-r*.43)/2,r*.7)};q.zg.av_=function(s,N,r,S){q.zg.DJ(s,N,r);
var z=ai.get(S),A=s.canvas.width,B=q.zg.t9[A+z];if(B==null){var Y=PIMG["adj/"+z],t=hg.TH(Y),p=UPNG.decode(t.buffer),f=new Uint8Array(UPNG.toRGBA8(p)[0]),a=new hq(0,0,160,160),D=0,c=A-D*2,J=K.S.aG([f,a],new gF(c/160,0,0,c/160,0,0)),Z=new hq(0,0,A,A),Q=q.m(Z.$()*4);
q.Q.VP("norm",J.buffer,J.rect,Q,Z,J.rect,1);B=q.zg.t9[A+z]=new ImageData(new Uint8ClampedArray(Q.buffer),A,A)}s.putImageData(B,0,0)};
q.zg.t9={};q.zg.adk=function(s,N,r,S){q.zg.DJ(s,N,r);var z=s.canvas.width,A=s.canvas.height,B=s.getImageData(0,0,z,A);
q.i.Mf(S.Grad.v,new Uint8Array(B.data.buffer),new hq(0,0,z,A),[1/z,0,0,1/A],z/2,A/2,!1,0,16711680,65280);
s.putImageData(B,0,0);q.zg.ZI(s,N,r)};q.zg.alc=function(s,N,r,S,z){q.zg.DJ(s,N,r);var A=s,B=hC.N_(S.Ptrn.v,z.add.Patt);
if(B==null)return;var Y=B.yK[1];q.zg.W5(s,N,r,Y,B.yK[0],Y,!1);q.zg.ZI(A,N,r)};q.zg._j=function(s,N,r){s.strokeStyle="#bb0000";
s.lineWidth=3;s.beginPath();s.moveTo(N*.15,r*.15);s.lineTo(N*.85,r*.85);s.moveTo(N*.85,r*.15);s.lineTo(N*.15,r*.85);
s.closePath();s.stroke()};q.zg.ZI=function(s,N,r){s.fillStyle="#eeeeee";s.fillRect(0,r*.75,N,r*.25);
s.beginPath();s.moveTo(0,r*.75);s.lineTo(N,r*.75);s.moveTo(N*.1,r*.875);s.lineTo(N*.9,r*.875);s.moveTo(N*.65,r*.825);
s.lineTo(N*.65,r*.95);s.closePath();s.stroke()};q.zg.iy=function(s){var N=q.i.iy(s),r=Math.round(N.w)<<16|Math.round(N.A)<<8|Math.round(N.U);
return"#"+q.fD(r)};q.J={};q.J.N6=function(s,N,r){var S=[],z=-1;for(var l=0;l<s.length;l++){var A=s[l];
if((A.type==0||A.type==3)&&A.my!=-1)z++;if(A.type>5||A.type==0||A.type==3)continue;if(N!=null&&N.indexOf(z)==-1)continue;
if(r!=null&&r.indexOf(l)==-1)continue;S.push(A.hJ.x);S.push(A.hJ.y);S.push(A.H.x);S.push(A.H.y);S.push(A.De.x);
S.push(A.De.y)}return S};q.J._P=function(s,N,r,S){var z=0,A=-1;for(var l=0;l<N.length;l++){var B=N[l];
if((B.type==0||B.type==3)&&B.my!=-1)A++;if(B.type>5||B.type==0||B.type==3)continue;if(r!=null&&r.indexOf(A)==-1)continue;
if(S!=null&&S.indexOf(l)==-1)continue;B.hJ.i5(s[z],s[z+1]);B.H.i5(s[z+2],s[z+3]);B.De.i5(s[z+4],s[z+5]);
z+=6}};q.J.Yy=function(s,N,r,S){var z=q.J.N6(s,r,S);q.g.D(z,N,z);q.J._P(z,s,r,S)};q.J.avD=function(s,N,r,S){var z=q.J.N6(s,r,S);
q.P.D(N,z);q.J._P(z,s,r,S)};q.J.ac_=function(s,N,r,S){if(S==null){var z=q.J.ak_(s,40,r);for(var l=0;
l<z.length;l++)s[l]=z[l]}var A=q.J.N6(s,r,S);q.Xp.D(N,A,q.g.OH(A));q.J._P(A,s,r,S)};q.J.ak_=function(s,N,r){var S=[],z=-1;
for(var l=0;l<s.length;l++){var A=s[l],B=A.length;if(A.type>5){S.push(JSON.parse(JSON.stringify(A)));
continue}A=JSON.parse(JSON.stringify(A));S.push(A);if(A.my!=-1)z++;if(r&&r.indexOf(z)==-1){S=S.concat(s.slice(l+1,l+1+B))}else{var Y=q.J.a0i(s,l+1,B);
Y=q.g.uY(Y,N);var t=q.J.alC(Y);A.length=t.length;for(var p=0;p<t.length;p++)S.push(t[p])}l+=B}return S};
q.J.a0i=function(s,N,r){var S={F:["M"],v:[]},z=s[N],A=s[N+r-1];S.v.push(z.H.x,z.H.y);for(var l=1;l<r;
l++){var B=s[N+l-1],Y=s[N+l];S.F.push("C");S.v.push(B.De.x,B.De.y,Y.hJ.x,Y.hJ.y,Y.H.x,Y.H.y)}S.F.push("C");
S.v.push(A.De.x,A.De.y,z.hJ.x,z.hJ.y,z.H.x,z.H.y);return S};q.J.alC=function(s){var N=[],r=s.F,S=s.v,z=0,i3=S.length;
N.push({type:2,hJ:new cR(S[i3-4],S[i3-3]),H:new cR(S[0],S[1]),De:new cR(S[2],S[3])});for(var l=0;l<r.length-2;
l++){var A=l*6+4;N.push({type:2,hJ:new cR(S[A],S[A+1]),H:new cR(S[A+2],S[A+3]),De:new cR(S[A+4],S[A+5])})}return N};
q.J.agm=function(s){for(var l=0;l<s.length;l++){if(s[l].type>5)continue;var N=s[l].length;if(!(N==4||N==6||N==8)){l+=N;
continue}for(var r=0;r<N;r++){var S=s[l+1+r],z=s[l+1+(r+1)%N],A=Math.min(S.H.x,z.H.x),B=Math.min(S.H.y,z.H.y),Y=0,t=0;
if(S.H.x<z.H.x){Y=S.H.y-B;t=Y-(z.H.x-A)}else{Y=z.H.y-B;t=Y-(S.H.x-A)}if(Math.abs(t)<.2*Y)return Y}}return-1};
q.J.Ql=function(s,N,r){function S(D,c){var J=Math.min(D.x,c.x),Z=Math.min(D.y,c.y),Q=Math.max(D.x+D.G,c.x+c.G),M=Math.max(D.y+D.n,c.y+c.n);
return new hq(J,Z,Q-J,M-Z)}var z=null,A=-1,B=!q.J.EW(s);for(var l=0;l<s.length;l++){var Y=s[l];if(Y.type>5)continue;
if((Y.type==0||Y.type==3)&&Y.my!=-1)A++;if(N!=null&&N.indexOf(A)==-1)continue;if(l==s.length-1)break;
var t=Y.type==3,p=Y.length,f=Y.my,a=q.J.avK(s,l+1,p,t);if(z==null)z=a;else if(r)z=S(z,a);else if(B){if(N!=null||f==0||f==-1||f==2)z=S(z,a);
else if(f==1)z=z;else if(f==3){z=a;B=!1}}else{if(N!=null||f==0||f==-1||f==1)z=S(z,a);else if(f==2)z=z;
else if(f==3)z=z.PS(a)}l+=p}if(z==null||z.G<0||z.n<0)z=new hq(0,0,0,0);return z};q.J.ah2=new Float64Array(4);
q.J.avK=function(s,l,N,r){var S=q.J.ah2;S[0]=1e30;S[1]=1e30;S[2]=-1e30;S[3]=-1e30;var z=s[l+N-1];if(!r)q.J.pP(z.H.x,z.H.y,z.De.x,z.De.y,s[l].hJ.x,s[l].hJ.y,s[l].H.x,s[l].H.y,S);
for(var A=l;A<l+N-1;A++){var B=s[A],Y=s[A+1];q.J.pP(B.H.x,B.H.y,B.De.x,B.De.y,Y.hJ.x,Y.hJ.y,Y.H.x,Y.H.y,S)}return new hq(S[0],S[1],S[2]-S[0],S[3]-S[1])};
q.J.pP=function(s,N,r,S,z,A,B,Y,t){if(s==r&&N==S&&z==B&&A==Y){t[0]=Math.min(t[0],Math.min(s,B));t[1]=Math.min(t[1],Math.min(N,Y));
t[2]=Math.max(t[2],Math.max(s,B));t[3]=Math.max(t[3],Math.max(N,Y));return}var p=s,f=N,a=s,D=N,c=40,J=1/(c-1);
for(var Z=0;Z<c;Z++){var Q=Z*J,M=1-Q,u=M*M*M,P=3*M*M*Q,m=3*M*Q*Q,i=Q*Q*Q,e=u*s+P*r+m*z+i*B,X=u*N+P*S+m*A+i*Y;
if(e<p)p=e;else if(e>a)a=e;if(X<f)f=X;else if(X>D)D=X}if(p<t[0])t[0]=p;if(f<t[1])t[1]=f;if(a>t[2])t[2]=a;
if(D>t[3])t[3]=D};q.J.mI=function(s,N){var r=s.length-3,S=N%r,z=Math.floor(S);if(N<0||z>=r)return null;
var A=s[3+z],B=s[3+(z+1)%r],Y=A.H,t=A.De,p=B.hJ,f=B.H,a=S-z,D=1-a,c=D*D*D*Y.x+3*D*D*a*t.x+3*D*a*a*p.x+a*a*a*f.x,J=D*D*D*Y.y+3*D*D*a*t.y+3*D*a*a*p.y+a*a*a*f.y;
return new cR(c,J)};q.J.ae=function(s,N){var r=q.g.Zi(s),S=r.iO;r.iO=Typr.U.pathToSVG({crds:S.v,cmds:S.F},N==null?2:N);
return r};q.J.er=function(s){q.J.pm();var N,r=q.J.pi(s),S=[];for(var l=0;l<r.length;l++){var z=r[l][0],A=r[l][1];
if(Math.abs(z.area)<1e-5)S.push(z);else if(N==null)N=z;else{if(!z.closed)z.closed=!0;N=N[A](z);N.remove()}}if(N==null)N=new paper.CompoundPath(S);
else{if(N.segments)N=new paper.CompoundPath(N);for(var l=0;l<S.length;l++){N.addChild(S[l])}}var B=s.slice(0,2);
B=B.concat(q.J.Jz(N));if(B[2])B[2].my=1;for(var l=3;l<B.length;l++)if(B[l].my!=null)B[l].my=-1;return B};
q.J.pm=function(){if(q.J.aoE==null){var s=document.createElement("canvas");paper.setup(s);q.J.aoE=!0}};
q.J.a1d=function(s,N){q.J.pm();var r=[],S=q.J.pi(s),z=new paper.Path.Rectangle(new paper.Rectangle(N.x,N.y,N.G,N.n));
z.remove();z.fillColor=new paper.Color(1,0,0);for(var l=0;l<S.length;l++){if(z.intersects(S[l][0])||z.contains(S[l][0].children[0].segments[0].point))r.push(l)}return r};
q.J.KB=function(s,N,r,S){q.J.pm();var z=r?{curves:!0,tolerance:S}:null,A=new paper.Point(N.x,N.y),B=q.J.pi(s);
for(var l=B.length-1;l>=0;l--){var Y=B[l][0],t=Y.hitTest(A,z);if(t!=null)return{Jb:l,Dj:r?t.location.index:null}}return{Jb:-1}};
q.J.jl=function(s,N,r){var S=[[],[],[]];for(var l=0;l<s.length;l++){var z=s[l];if(z.type>5||z.type==0||z.type==3)continue;
var A=r==null?!0:r.indexOf(l)!=-1;if(N.CZ(z.H))S[0].push(l);if(N.CZ(z.hJ)&&A)S[1].push(l);if(N.CZ(z.De)&&A)S[2].push(l)}return S};
q.J.a5W=function(s,N,r){var S=s[N];for(var z=N+1;z<r;z++)s[z-1]=s[z];s[r-1]=S};q.J.amA=function(s,N,r,S){var l,z,A,B=0;
s=s.slice(0);N.sort(function(J,Z){return J-Z});A=-1;for(l=2;l<s.length;){var Y=s[l],t=Y.length;if(Y.my!=-1)A++;
var p=B;while(p<N.length&&N[p]<l+1+t)p++;if(B!=p){var f=N.slice(B,p);B=p;for(z=0;z<t;z++)if(f.indexOf(l+1+z)!=-1)s[l+1+z]=null;
if(Y.type==0){var a=f[0]-(l+1);while(a!=0){q.J.a5W(s,l+1,l+1+t);a--}}var D=Y;D.length=0;z=0;while(z<t&&s[l+1+z]==null)z++;
while(z<t){var c=s[l+1+z];if(c!=null)D.length++;else if(z<t+1&&s[l+1+z+1]){D=s[l+1+z]={type:0,my:-1,length:0,L_:0,p4:0,cd:1}}z++}if(S)for(z=-1;
z<t;z++)if(s[l+1+z]&&s[l+1+z].type<3)s[l+1+z].type+=3;q.O6.K6(r,A)}l+=1+t}for(l=0;l<s.length;l++)if(s[l]==null){s.splice(l,1);
l--}A=0;for(l=2;l<s.length;l++){var Y=s[l];if(Y.length==0){if(s[l+1]&&s[l+1].my==-1)s[l+1].my=Y.my;else if(Y.my!=-1)r.splice(A,1);
s.splice(l,1);l--}else if(Y.length!=null&&Y.my!=-1)A++}return s};q.J.axd=function(s,N){var r=s.slice(0,2),S=-1;
for(var l=2;l<s.length;l++){if((s[l].type==0||s[l].type==3)&&s[l].my!=-1)S++;if(N.indexOf(S)==-1)r.push(s[l])}return r};
q.J.atT=function(s,N){var r=s.slice(0,2),S=-1;for(var l=2;l<s.length;l++){if((s[l].type==0||s[l].type==3)&&s[l].my!=-1)S++;
if(N.indexOf(S)!=-1)r.push(s[l])}return r};q.J.agR=function(s){var N=0;for(var l=0;l<s.length;l++)if(s[l].type==0||s[l].type==3)N=l;
return s[N]};q.J.zl=function(s){var N=-1;for(var l=0;l<s.length;l++)if((s[l].type==0||s[l].type==3)&&s[l].my!=-1)N++;
return N+1};q.J.$l=function(s,N,r){var S=-1;for(var l=0;l<s.length;l++)if((s[l].type==0||s[l].type==3)&&(r||s[l].my!=-1)){S++;
if(S==N)return l}return-1};q.J.w$=function(s,N,r){var S=-1;for(var l=0;l<s.length;l++)if((s[l].type==0||s[l].type==3)&&(r||s[l].my!=-1)){if(l>=N)return S;
S++}return S};q.J.eG=function(s,N){var r=-1,S=0;for(var l=0;l<s.length;l++){if((s[l].type==0||s[l].type==3)&&s[l].my!=-1)r++;
if(r==N)S++}return S};q.J.a81=function(s){var N=180;for(var l=0;l<s.length;l++){if(s[l].type!=0&&s[l].type!=3)continue;
var r=s[l].length;if(r<3)continue;for(var S=0;S<r;S++){var z=s[l+1+(S-1+r)%r],A=s[l+1+S],B=s[l+1+(S+1)%r],Y=A.H,t=A.hJ.nR(Y)?z.De:A.hJ,p=A.De.nR(Y)?B.hJ:A.De;
if(Y.nR(t)||Y.nR(p))continue;var f=t.x-Y.x,a=t.y-Y.y,D=p.x-Y.x,c=p.y-Y.y,t=Math.atan2(t.y-Y.y,t.x-Y.x)*180/Math.PI,p=Math.atan2(p.y-Y.y,p.x-Y.x)*180/Math.PI,J=Math.abs(p-t)%360,Z=J>180?360-J:J;
if(Z<N)N=Z}}return N*Math.PI/180};q.J.Jz=function(s){var N=s.segments?[s]:s.children,r=[];for(var l=0;
l<N.length;l++){var S=N[l],z=S.segments,A=S.closed?0:3,B=r.length,Y=null;if(z.length<=1)continue;r.push({type:A,length:z.length,my:0,cd:2});
for(var t=0;t<z.length;t++){var p=z[t],f=new cR(p.handleIn.x,p.handleIn.y),a=new cR(p.handleOut.x,p.handleOut.y),D=new cR(p.point.x,p.point.y),c={type:A+1,hJ:D.add(f),H:D,De:D.add(a)};
if(Y==null)Y=c;r.push(c);if(t+1==z.length&&cR.iI(Y.H,c.H)<1e-5){r.pop();r[B].length--;Y.hJ=c.hJ;if(A==3)for(var J=B;
J<r.length;J++)r[J].type-=3}}}return r};q.J.pi=function(s){q.J.pm();var N=[],r,S=new paper.Color(1,0,0);
function z(c,Y){c.remove();c.closed=!Y;c.fillRule="evenodd"}for(var l=0;l<s.length;l++){if(s[l].type>5)continue;
var A=s[l].length,B;if(l==s.length-1)break;var Y=s[l].type==3;if(l==2){if(!q.J.vI(s))B="subtract";else B="unite"}else{if(s[l].my==0)B="exclude";
if(s[l].my==1)B="unite";if(s[l].my==2)B="subtract";if(s[l].my==3)B="intersect"}if(s[l].my!=-1){r=new paper.CompoundPath;
N.push([r,B]);r.fillRule="evenodd";r.fillColor=S}var t=[];for(var p=0;p<A;p++){var f=s[l+1+p],a=f.hJ.lA(f.H),D=f.De.lA(f.H);
t.push([[f.H.x,f.H.y],[a.x,a.y],[D.x,D.y]])}var c=new paper.Path(t);z(c,Y);r.addChild(c);l+=A}return N};
q.J.WW=function(s){for(var l=0;l<s.length;l++){var N=s[l];if(N.H==null)continue;if(!N.H.nR(N.hJ)||!N.H.nR(N.De))return!1}return!0};
q.J.apu=function(s){if(s.length<=5)return 0;var N=0,r=s.length-3-1;for(var l=0;l<r;l++){var S=s[3+l],z=s[3+l+1];
if(S.type==0||z.type==0)return 0;N+=(z.H.x-S.H.x)*(S.H.y+z.H.y)}N+=(s[3].H.x-s[3+r].H.x)*(s[3+r].H.y+s[3+1].H.y);
return-N*.5};q.J.EW=function(s){var N=s[2],r=!1;if(s.length==2)r=s[1].all==0;else if(s[1].all==1){if(N.my==1||N.my==3)r=!0;
else r=!1}else{if(N.my==1||N.my==3||N.my==0)r=!0;else r=!1}return r};q.J.vI=function(s){var N=q.J.EW(s);
for(var l=3;l<s.length;l++)if(s[l].my==3)N=!0;return N};q.J.ahm=0;q.J.yu=0;q.J.acd=0;q.J.a5X=function(s,N,r,S){if(r.Nf())return;
var z=r.$(),M=16384;q.J.ahm+=z;if(z>q.J.yu){q.J.yu=z}var A=r.G,B=r.n;if(S==null&&q.J.WW(s)&&s[2]&&s[2].my!=2){var Y=!0;
for(var l=2;l<s.length;)if(s[l].length==2)l+=3;else{Y=!1;break}if(Y){return}if(q.J.TJ(s)){N.fill(255);
var t=q.J.Ql(s);if(t.$()!=z){var p=1-(t.x-r.x),f=1-(t.y-r.y),a=1-(r.x+r.G-(t.x+t.G)),D=1-(r.x+r.n-(t.x+t.n)),c=~~(p*255),J=~~(a*255),Z=~~(f*255),Q=~~(D*255);
N.fill(Z,0,A);N[0]=~~(p*f*255);N[A-1]=~~(a*f*255);for(var l=A;l<z;l+=A){N[l]=c;N[l+A-1]=J}N.fill(Q,(B-1)*A,B*A);
N[z-A]=~~(p*D*255);N[z-1]=~~(a*D*255)}return}}var u=Math.ceil(A/M),P=Math.ceil(B/M),m=Math.ceil(A/u),i=Math.ceil(B/P),e=Date.now();
for(var X=0;X<P;X++)for(var $=0;$<u;$++){var O=$*m,T=X*i,b=m,R=i,w=q.ip(b,R);if(!q.J.EW(s))w.fillRect(0,0,b,R);
q.J.jP(s,w,-r.x-O,-r.y-T,S);var F=new Uint8Array(w.getImageData(0,0,b,R).data.buffer);if(b==A&&R==B)q.WZ(F,N,3);
else q.P_(F,new hq(O,T,b,R),N,new hq(0,0,A,B))}};q.J.jP=function(s,N,r,S,z){if(z!=null){var A=!1,B=!1,Y=0,t=!1;
for(var l=0;l<s.length;l++){var p=s[l].my;if(p!=null){Y++;if(p==-1)A=!0;if(p>0)B=!0;if(s[l].type==0)t=!0}}if(!A&&Y<20&&(z==null||t))s=q.J.er(s)}for(var l=0;
l<s.length;l++){if(s[l].type>5)continue;var f=s[l].length;if(f==0)continue;if(l==s.length-1)break;var a=s[l].type==3,p=s[l].my;
if(p!=-1&&z==null){var D=["xor","source-over","destination-out","source-in"][p];N.globalCompositeOperation=D}if(s[l].my!=-1){N.beginPath();
if(z){var c=z.strokeStyleLineWidth.v.val,J=z.strokeStyleLineAlignment.v.strokeStyleLineAlignment,Z=z.strokeStyleLineCapType.v.strokeStyleLineCapType,Q=z.strokeStyleLineJoinType.v.strokeStyleLineJoinType,M=z.strokeStyleMiterLimit.v,u=[],P=z.strokeStyleLineDashSet.v;
for(var m=0;m<P.length;m++)u.push(P[m].v.val*c);N.setLineDash(u);N.lineCap=["butt","round","square"][jG.iJ.VZ.indexOf(Z)];
N.lineJoin=["miter","round","bevel"][jG.iJ.join.indexOf(Q)];N.lineWidth=jG.iJ.qY.indexOf(J)==1?c:c*=2;
N.miterLimit=M}}q.J.ade(N,s,l+1,f,r,S,a);if(a){}else N.closePath();if(s[l+1+f]==null||s[l+1+f].my!=-1){if(z)N.stroke();
else N.fill("evenodd")}l+=f}N.globalCompositeOperation="source-over"};q.J.ade=function(s,N,l,r,S,z,A){var B=N[l],Y=null;
s.moveTo(B.H.x+S,B.H.y+z);for(var t=l;t<l+r-1;t++){B=N[t];Y=N[t+1];s.bezierCurveTo(B.De.x+S,B.De.y+z,Y.hJ.x+S,Y.hJ.y+z,Y.H.x+S,Y.H.y+z)}if(!A){B=N[t];
Y=N[l];s.bezierCurveTo(B.De.x+S,B.De.y+z,Y.hJ.x+S,Y.hJ.y+z,Y.H.x+S,Y.H.y+z)}};q.J.aca=function(s,N){var r=[],S=N?4:1;
for(var l=0;l<s.length;l+=2){var z=new cR(s[l],s[l+1]);r.push({type:S,hJ:z.clone(),H:z.clone(),De:z.clone()})}return r};
q.J.i3=function(s,N,r){var S=q.g.OH(s),z=Math.sqrt(Math.sqrt(S.$()))*.2,A=.2;s=s.slice(0);var B=s.length,Y=N?0:2;
for(var t=0;t<5;t++)for(var l=Y;l<s.length-Y;l+=2){var p=(l-2+B)%B,f=(l+2)%B,a=s[l],D=s[l+1],c=(s[p]+s[f])*.5,J=(s[p+1]+s[f+1])*.5;
s[l]=a+(c-a)*A;s[l+1]=D+(J-D)*A}if(r)return q.J.kt.WU(s,null,!N);q.J.pm();var Z=new paper.Path;Z.remove();
Z.closed=N;for(var l=0;l<s.length;l+=2)Z.add(new paper.Point(s[l],s[l+1]));Z.simplify(z);var Q=[{type:6},{type:8,all:0}];
Q=Q.concat(q.J.Jz(Z));return Q};q.J.Mi=function(s,N,r){var S=s[N].length,z=s[N].type,A=0,B=s.slice(N+1,N+1+S);
for(var l=0;l<S;l++){var Y=r[(l-1+S)%S],t=r[(l+1+S)%S],p=r[l];if(p!=0){var f=B[(l-1+S)%S].H,a=B[(l+0+S)%S].H,D=B[(l+1+S)%S].H,c=cR.iI(a,f),J=cR.iI(a,D),Z=q.g.bV(f.x,f.y,a.x,a.y,D.x,D.y,p)[0],Q=Math.min(Z,Y==0?c:c/2,t==0?J:J/2);
p*=Q/Z;var M=q.g.a6O(f.x,f.y,a.x,a.y,D.x,D.y,p),u={type:z+1,hJ:new cR(M[2],M[3]),H:new cR(M[2],M[3]),De:new cR(M[4],M[5])},P={type:z+1,hJ:new cR(M[6],M[7]),H:new cR(M[8],M[9]),De:new cR(M[8],M[9])};
s.splice(N+A+1,1,u,P);A++;s[N].length++}A++}};q.J.WW=function(s){for(var l=0;l<s.length;l++){var N=s[l],r=N.type;
if(r==1||r==2||r==4||r==5)if(!N.H.nR(N.hJ)||!N.H.nR(N.De))return!1}return!0};q.J.TJ=function(s){if(s.length!=7||s[2].length!=4||!q.J.WW(s))return!1;
for(var l=0;l<4;l++){var N=!0;for(var r=0;r<4;r++){var S=s[3+(l+r&3)],z=s[3+(l+r+1&3)];if(S.H.x!=z.H.x&&S.H.y!=z.H.y)N=!1}if(N)return!0}return!1};
q.J.atp=function(s){if(s.length<6)return 0;var N=s.length-2,r=0;for(var l=0;l<N;l+=2)r+=(s[l+2]-s[l])*(s[l+1]+s[l+3]);
r+=(s[0]-s[N])*(s[N+1]+s[1]);return-r*.5};q.J.a2b=function(s){s=y.kL.AM(s);var N=q.J.zl(s);for(var r=0;
r<N;r++){var S=q.J.$l(s,r)+1,z=s[S-1].length,A=[];for(var l=0;l<z;l++){var B=s[S+l].H;A.push(B.x,B.y)}var Y=q.J.atp(A);
if(Y<0){var t=[];for(var l=0;l<z;l++){var p=s[S+l],f=p.hJ;p.hJ=p.De;p.De=f;t.push(p)}for(var l=0;l<z;
l++)s[S+l]=t[z-1-l]}}return s};q.J.kt={};q.J.kt.WU=function(s,N,r){var S=[{type:6},{type:8,all:0}],z=null;
S.push({type:r?3:0,my:1,length:0,L_:0,p4:0,cd:1});if(N==0||N==null)z=null;else if(N instanceof Array)z=N;
else{z=[];for(var l=0;l<s.length;l+=2)z.push(N)}S=S.concat(q.J.aca(s,r));S[2].length=S.length-3;if(z)q.J.Mi(S,2,z);
return S};q.J.kt.aqE=function(s,N,r,S,z){var A=[],B=[],Y=.553,t=1,p=-1;A.push({type:1,hJ:new cR(0,Y),H:new cR(0,0),De:new cR(0,-Y)});
z+=2;for(var l=0;l<z;l++){var f={type:1};if(l==0){f.H=new cR(1,-1);f.hJ=new cR(1-Y,-1);f.De=new cR(1+Y,-1)}else{var a=-(l+2)*Math.PI/2,D=1+((l&1)==1?l-1:l),c=Math.sin(a),J=Math.cos(a);
t+=D*(c-J);p+=D*(J+c);f.H=new cR(t,p);f.hJ=new cR(t+D*J*Y,p-D*c*Y);if((l&1)==1)D+=2;f.De=new cR(t-D*J*Y,p+D*c*Y)}var Z={type:1,hJ:new cR(-f.De.x,-f.De.y),H:new cR(-f.H.x,-f.H.y),De:new cR(-f.hJ.x,-f.hJ.y)};
A.push(f);if(l<z-2)B.push(Z)}B.reverse();A=A.concat(B);var Q=[{type:6},{type:8,all:0}];Q.push({type:0,my:1,length:A.length,L_:0,p4:0,cd:1});
Q=Q.concat(A);var M=new gF(r/z,0,0,r/z,0,0);M.rotate(S);M.translate(s,N);q.J.Yy(Q,M);return Q};q.J.kt.Rect=function(s,N,r,S,z){var A=[s,N,s+r,N,s+r,N+S,s,N+S];
return q.J.kt.WU(A,z)};q.J.kt.xg=function(s,N,r,S,z,A,B,Y){var t=[],p=2*Math.PI/z;for(var l=0;l<z;l++)t.push(Math.cos(l*p-S),Math.sin(l*p-S));
if(B!=null){var f=q.g.OH(t),a=f.G,D=f.n,c=B/(a/2),J=Y/(D/2);for(var l=0;l<t.length;l+=2){t[l]=(t[l]-(f.x+a/2))*c;
t[l+1]=(t[l+1]-(f.y+D/2))*J}r=1}var Z=new gF(r,0,0,r,0,0);Z.translate(s,N);q.g.D(t,Z,t);return q.J.kt.WU(t,A)};
q.J.kt.no=function(s,N,r,S,z,A,B){var Y=[],t=Math.PI/z;for(var l=0;l<z*2;l++){var p=(l&1)==0?1:B;Y.push(p*Math.cos(l*t),p*Math.sin(l*t))}var f=new gF(r,0,0,r,0,0);
f.rotate(S);f.translate(s,N);q.g.D(Y,f,Y);return q.J.kt.WU(Y,A)};q.J.kt.WD=function(s,N,r,S,z){return q.J.kt.Na(0,s,N,r,S,z)};
q.J.kt.adz=function(s,N,r,S,z,A){return q.J.kt.Na(1,s,N,r,S,z,A)};q.J.kt.Y0=function(s,N,r,S,z,A){return q.J.kt.Na(2,s,N,r,S,z,A)};
q.J.kt.Na=function(s,N,r,S,z,A,B){var Y=Math.sqrt((S-N)*(S-N)+(z-r)*(z-r)),t;A/=2;if(s==0)t=[-A,0,A,0,A,Y,-A,Y];
if(s==1){var p=A*2*B*1.3/1.5,f=A*B;t=[-A,0,A,0,A,Y-p,f,Y-p,0,Y,-f,Y-p,-A,Y-p]}if(s==2){var p=B[3],f=B[2]/2,a=p*(2/3)*B[4]/100,D=p-a,c=p;
t=[];if(B[0])t.push(-A,D,-f,c,0,0,f,c,A,D);else t.push(-A,0,A,0);if(B[1])t.push(A,Y-D,f,Y-c,0,Y,-f,Y-c,-A,Y-D);
else t.push(A,Y,-A,Y)}var J=new gF(1,0,0,1,0,0);J.rotate(Math.atan2(-z+r,S-N)+Math.PI/2);J.translate(N,r);
q.g.D(t,J,t);return q.J.kt.WU(t,0)};q.J.kt.q3=function(s,N,r,S){var z=[{type:6},{type:8,all:0}],a=.553;
z.push({type:0,my:1,length:4,L_:0,p4:0,cd:1});var A=s,B=N,Y=s+r,t=N+S,s=(A+Y)/2,N=(B+t)/2,p=(A-Y)/2,f=(B-t)/2;
z.push({type:1,hJ:new cR(s-a*p,N-f),H:new cR(s,N-f),De:new cR(s+a*p,N-f)});z.push({type:1,hJ:new cR(s+p,N-a*f),H:new cR(s+p,N),De:new cR(s+p,N+a*f)});
z.push({type:1,hJ:new cR(s+a*p,N+f),H:new cR(s,N+f),De:new cR(s-a*p,N+f)});z.push({type:1,hJ:new cR(s-p,N+a*f),H:new cR(s-p,N),De:new cR(s-p,N-a*f)});
return z};q.J.kt.avk=function(s,N,r,S,z){var A=[{type:6},{type:8,all:0}];A.push({type:3,my:1,length:5,L_:0,p4:0,cd:1});
var B=(z-S)/4;for(var l=0;l<5;l++){var Y=l*B,t=Math.cos(Y),p=Math.sin(Y),f=.553*(B/(Math.PI/2)),a=p*f,D=-t*f,c=new cR(t,p);
A.push({type:4,hJ:l==0?c.clone():new cR(t+a,p+D),H:c,De:l==4?c.clone():new cR(t-a,p-D)})}var J=new gF;
J.rotate(-S);J.scale(r,r);J.translate(s,N);q.J.Yy(A,J);return A};q.Wx={};q.Wx.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
q.Wx.II=function(s){var N=s.warpStyle.v.warpStyle;if(N=="warpNone")return!0;else if(N=="warpCustom"){var r=!1,S=s.customEnvelopeWarp.v.meshPoints.v.arr,z=S[0].arr,A=S[1].arr;
for(var l=0;l<4;l++)for(var B=0;B<4;B++){if(Math.abs(z[l]-z[B*4+l])>1||Math.abs(A[l*4]-A[l*4+B])>1)r=!0}return!r}else return s.warpValue.v==0&&s.warpPerspective.v==0&&s.warpPerspectiveOther.v==0};
q.Wx.m=function(s){var N={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(s){N.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:s.y}},Left:{t:"UntF",v:{type:"#Pxl",val:s.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:s.y+s.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:s.x+s.G}}}};
N.uOrder={t:"long",v:4};N.vOrder={t:"long",v:4}}return N};q.Wx.am2=function(s,N,r,S){for(var l=0;l<s.length;
l+=2){var z=s[l],A=s[l+1],B=(z-N.x)/N.G,Y=(A-N.y)/N.n,t=(1-r)/2,p=1-t,f=t+B*(p-t);Y=.5+(Y-.5)*f*2;var a=(1-S)/2,D=1-a,c=a+Y*(D-a);
B=.5+(B-.5)*c*2;z=N.x+B*N.G;A=N.y+Y*N.n;s[l]=z;s[l+1]=A}};q.Wx.LM=function(s,N){var r=[],S=[];for(var l=0;
l<s.length;l+=2){r.push(s[l]);S.push(s[l+1])}var z=[];z.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:r});
z.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:S});N.warpStyle.v.warpStyle="warpCustom";N.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:z}}}}};
q.Wx.T$=function(s,N){if(N==null){var r=s.bounds.v,S=r.Left.v.val,z=r.Rght.v.val,A=r.Top.v.val,B=r.Btom.v.val;
N=new hq(S,A,z-S,B-A)}if(N.Nf())N.G=N.n=1;var Y=[],t=s.warpStyle.v.warpStyle;if(t=="warpCustom"){var p=s.customEnvelopeWarp.v.meshPoints.v.arr,f=p[0].arr,a=p[1].arr;
for(var l=0;l<16;l++)Y.push(f[l],a[l])}else Y=q.Wx.Wx(N,t,s.warpRotate.v.Ornt=="Hrzn",s.warpValue.v/100,s.warpPerspective.v/100,s.warpPerspectiveOther.v/100);
return Y};q.Wx.Wx=function(s,N,r,S,z,A){var B=q.Xp.m(s.x,s.y,s.G,s.n);if(N=="warpNone")return B;var Y=JSON.parse(JSON.stringify(s)),t=new gF;
if(!r){t.translate(-s.x,-s.y);t.rotate(-Math.PI/2);t.translate(s.n,0);q.g.D(B,t,B);s=new hq(0,0,s.n,s.G);
B=q.Xp.rT(B,!1)}q.Wx.aoG(B,s,N,S,z,A);if(!r){B=q.Xp.rT(B,!0);s=Y;t.dm();q.g.D(B,t,B)}if(S==0)q.Wx.am2(B,s,z,A);
else{var t=new gF(1/s.G,0,0,1/s.n,-s.x,-s.y);t.translate(-.5,-.5);q.g.D(B,t,B);q.Wx.agI(B,A,z);t.dm();
q.g.D(B,t,B)}return B};q.Wx.aoG=function(s,N,r,S,z,A){for(var l=0;l<4;l++){for(var B=0;B<4;B++){var Y=2*(4*l+B),t=s[Y]-N.x,p=s[Y+1]-N.y,f=t,a=p;
if(S!=0){var D=N.G/2,c=N.n/2;f-=D;a-=c;var J=f,Z=f,Q=-c,M=c,u=Math.abs(S),P=Math.tan((1-u)*Math.PI/2),m=Math.sqrt(P*P+1),i=Math.atan2(1,P),e=f/D*i,X=D*m,$=D*m+N.n,O=Math.cos(i),T=Math.sin(i),b=q.Wx.ad1(O,T),R=q.Wx.ahu(O,T),w=-P*D+b*X;
if(r=="warpArc"){J=Math.sin(e)*$;Q=P*D-Math.cos(i)*$+c;Z=Math.sin(e)*X;M=P*D-Math.cos(i)*X+c;if(B==1||B==2){J=B==1?-R*$:R*$;
Z=B==1?-R*X:R*X;Q=P*D+c-b*$;M=P*D+c-b*X}if(S<0){var F=J;J=Z;Z=F;F=Q;Q=-M;M=-F}}if(r=="warpArcLower"){if(B==1||B==2){Z=B==1?-R*X:R*X;
M=S<0?c-w:c+w}}if(r=="warpArcUpper"||r=="warpArch"||r=="warpBulge"){if(B==1||B==2){J=B==1?-R*X:R*X;Q=S<0?-c+w:-c-w}if(r=="warpArch"){Z=J;
M=Q+2*c}if(r=="warpBulge"){Z=J;M=-Q}}if(r=="warpFish"||r=="warpFlag"||r=="warpWave"){var L=B;if(r=="warpFlag")L=3-B;
if(L==1){Q-=S*4*c;M+=S*4*c}if(L==2){Q+=S*4*c;M-=S*4*c}if(r=="warpFlag"||r=="warpWave")Q=M-2*c}if(r=="warpRise"){if(B<2)Q=-c+S*c*4;
M=Q+2*c}var x=(a+c)/N.n;f=J+x*(Z-J);a=Q+x*(M-Q);if(r=="warpWave"){if(l==0)a=-c;if(l==3)a=c;if(l==1||l==2)a=2*c*(l/3-.5)*(1/3)+a*(2/3)}if(r=="warpFisheye"){if((l==1||l==2)&&(B==1||B==2)){f=f+4*f*S;
a=a+4*a*S}}if(r=="warpInflate"){var g=2/3;if((l==1||l==2)&&(B==1||B==2)){f=f+.5*f*S;a=a+.5*a*S}else if(l==1||l==2)f=f+g*f*S;
else if(B==1||B==2)a=a+g*a*S}if(r=="warpSqueeze"){var g=2/3;if((l==1||l==2)&&(B==1||B==2)){if(S>0)f=f-g*f*S;
else a=a+g*a*S}else if(l==1||l==2)f=f-g*f*S;else if(B==1||B==2)a=a+g*a*S}if(r=="warpTwist"){if((l==1||l==2)&&(B==1||B==2)){var n=S*Math.PI/2,m=1+Math.abs(S)*2,h=f*Math.cos(n)-a*Math.sin(n),_=f*Math.sin(n)+a*Math.cos(n);
f=h*m;a=_*m}}if(r=="warpShellLower"||r=="warpShellUpper"){if(r=="warpShellUpper"){l=3-l;a=-a}if(l>2||l==2&&(B==0||B==3)){if(S>0){var H=X+l/3*2*c;
f=Math.sin(e)*H;a=-P*D-c+Math.cos(e)*H;if(B==1||B==2){f=B==1?-R*H:R*H;a=-P*D-c+b*H}}else{if((B==1||B==2)&&l==3){f=B==1?-R*X:R*X;
a=P*D-b*X+c}else if(l==2){a=c-c*(2/3)*Math.cos(e);f=f+c*(2/3)*Math.sin(e)}}}if(r=="warpShellUpper"){l=3-l;
a=-a}}f+=D;a+=c}t=f,p=a;s[Y]=t+N.x;s[Y+1]=p+N.y}}};q.Wx.agI=function(s,N,r){var S=[];for(var z=0;z<4;
z++)S.push(1-r+z/3*2*r);var A=[];for(var z=0;z<4;z++)A.push(1-N+z/3*2*N);var B=[0,0,0,0],Y=[0,0,0,0];
for(var l=0;l<4;l++)for(var z=0;z<4;z++){var t=2*(4*l+z),p=s[t],f=s[t+1];B[z]+=p/4;Y[z]+=f/4}for(var l=0;
l<4;l++)for(var z=0;z<4;z++){var a=S[z],t=2*(4*l+z),p=s[t],f=s[t+1],D=B[z],c=Y[z];s[t]=D+a*(p-D);s[t+1]=c+a*(f-c)}var J=s.slice(0);
for(var l=0;l<4;l++)for(var z=1;z<3;z++){var t=2*(4*l+z),p=s[t],f=s[t+1],Z=t+(z==1?-2:2),Q=s[Z],M=s[Z+1];
s[t]=p-Q;s[t+1]=f-M}var u=s[0],P=s[1],m=s[8],i=s[9],e=s[16],X=s[17],$=s[24],O=s[25],T=s[6],b=s[7],R=s[14],w=s[15],F=s[22],L=s[23],x=s[30],g=s[31],n=T-u,h=b-P,_=R-m,H=w-i,G=F-e,j=L-X,v=x-$,C=g-O;
for(var l=0;l<4;l++){var E=2*l*4,I=0,dJ=0,fG=l==1?.33:.66,o=1-fG;if(l==0){I=n;dJ=h}if(l==1){I=o*n+fG*-v;
dJ=o*h+fG*-C}if(l==2){I=o*n+fG*-v;dJ=o*h+fG*-C}if(l==3){I=-v;dJ=-C}s[E]=s[E]+I/2;s[E+1]=s[E+1]+dJ/2;
s[E+6]=s[E+6]-I/2;s[E+7]=s[E+7]-dJ/2}for(var l=0;l<4;l++)for(var z=1;z<3;z++){var t=2*(4*l+z),p=s[t],f=s[t+1],Z=t+(z==1?-2:2),Q=s[Z],M=s[Z+1],a=2*l/3;
s[t]=Q+a*p;s[t+1]=M+a*f}for(var l=1;l<3;l++)for(var z=1;z<3;z++){var t=2*(4*l+z),p=s[t],f=s[t+1],i4=l==1?-8:-16,df=l==1?16:8,eO=s[t+i4],cO=s[t+i4+1],ej=s[t+df],cn=s[t+df+1],a=l/3;
p=(1-a)*eO+a*ej;f=(1-a)*cO+a*cn;s[t]=p;s[t+1]=f}q.g.J0(J,s,s,N)};q.Wx.ad1=function(s,N){return(4-s)*(1/3)};
q.Wx.ahu=function(s,N){return(1-s)*(3-s)/(3*N)};q.jQ={};q.jQ.aoA=function(s,N,r,S,z,A,B,Y,t,p){for(var f=0;
f<Y;f++)for(var a=0;a<B;a++){var D=3*(f*B+a),c=f+A,J=a+z,Z=s[c*N+J];S[D]=Z;S[D+1]=Z;S[D+2]=Z}};q.jQ.$B=function(s,N,r,S,z,A,B,Y,t,p){var f=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],a=1/t,D=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],c=new Uint32Array(6);
for(var J=0;J<Y;J++){for(var Z=0;Z<B;Z++){var Q=3*(J*B+Z),M=J+A,u=Z+z;c[0]=0;c[1]=0;c[2]=0;c[3]=0;c[4]=0;
c[5]=0;for(var l=0;l<16;l+=2){var P=u+D[l],m=M+D[l+1],i=P-t*~~(P*a),e=m-t*~~(m*a),X=p[e*t+i];c[X]+=s[m*N+P];
c[X+3]++}var P=u,m=M,i=P-t*~~(P*a),e=m-t*~~(m*a),X=p[e*t+i];c[X]=s[M*N+u];c[X+3]=1;S[Q]=c[0]*f[c[3]];
S[Q+1]=c[1]*f[c[4]];S[Q+2]=c[2]*f[c[5]]}}};q.jQ.gj=function(s,N,r){for(var l=0;l<r;l+=2)s[N+l]=s[N+l+1];
N=N+r;for(var l=0;l<r;l+=2)s[N+l+1]=s[N+l]};q.jQ.Du=function(s,N,r,S){for(var l=0;l<S;l+=2){var z=N+l*r;
s[z]=s[z+r];s[z+r+1]=s[z+1]}};q.jQ.UE=function(s,N,r,S,z,A){var B=S[z],Y=S[z+1],t=S[A],p=S[A+1],f=Y+t>>>1;
s[N]=s[N+3]=s[r]=s[r+3]=B;s[N+1]=f;s[N+4]=Y;s[r+1]=t;s[r+4]=f;s[N+2]=s[N+5]=s[r+2]=s[r+5]=p};q.jQ.amJ=function(s,N,r,S,z,A){var B=A*3;
for(var l=0;l<A;l+=2){var Y=N+l,t=z+l*3;q.jQ.UE(S,t,t+B,s,Y,Y+r)}};q.jQ.abg=function(s,N,r,S,z,A,B){var Y=A*3;
for(var l=0;l<B;l+=2){var t=N+l*r,p=z+l*A*3;q.jQ.UE(S,p,p+Y,s,t,t+r)}};q.jQ.Qh=function(s,l,N){var r=s[l-N-N],S=s[l-N],z=s[l-2],A=s[l-1],B=s[l],Y=s[l+1],t=s[l+2],p=s[l+N],f=s[l+N+N],a=Math.abs(S-p),D=Math.abs(A-Y),c=Math.abs(B-r)*2+a,J=Math.abs(B-t)*2+D,Z=Math.abs(B-z)*2+D,Q=Math.abs(B-f)*2+a,M=Math.min(c,Math.min(J,Math.min(Z,Q)));
if(M==c)return S*3+p+B-r>>2;if(M==J)return Y*3+A+B-t>>2;if(M==Z)return A*3+Y+B-z>>2;return p*3+S+B-f>>2};
q.jQ.eQ=function(s,N,r,S,z){if(s<N&&N<r||s>N&&N>r)return~~(.5+S+(z-S)*(N-s)/(r-s));else return(S+z>>1)+(N+N-s-r>>2)};
q.jQ.Ak=function(s,N,l,r){var S=N[l-r-1],z=N[l-r+1],A=N[l],B=N[l+r-1],Y=N[l+r+1],t=s[l-r-1],p=s[l-r+1],f=s[l],a=s[l+r-1],D=s[l+r+1],c=Math.abs(p-a)+Math.abs(s[l-r-r+2]-f)+Math.abs(f-s[l+r+r-2])+Math.abs(z-A)+Math.abs(A-B),J=Math.abs(t-D)+Math.abs(s[l-r-r-2]-f)+Math.abs(f-s[l+r+r+2])+Math.abs(S-A)+Math.abs(A-Y);
if(c<J)return q.jQ.eQ(z,A,B,p,a);else return q.jQ.eQ(S,A,Y,t,D)};q.jQ.tE=function(s,N,r,S,z,A){s[N+0]=r[z];
s[N+1]=S[z];s[N+2]=q.jQ.Ak(r,S,z,A)};q.jQ.GP=function(s,N,r,S,z,A){var B=S[z];s[N+0]=q.jQ.eQ(S[z-1],B,S[z+1],r[z-1],r[z+1]);
s[N+1]=B;s[N+2]=q.jQ.eQ(S[z-A],B,S[z+A],r[z-A],r[z+A])};q.jQ.cL=function(s,N,r,S,z,A){var B=S[z];s[N+0]=q.jQ.eQ(S[z-A],B,S[z+A],r[z-A],r[z+A]);
s[N+1]=B;s[N+2]=q.jQ.eQ(S[z-1],B,S[z+1],r[z-1],r[z+1])};q.jQ.Ni=function(s,N,r,S,z,A){s[N+0]=q.jQ.Ak(r,S,z,A);
s[N+1]=S[z];s[N+2]=r[z]};q.jQ.ajU=function(s,N,r,S,z,A,B,Y,t){var p=Date.now(),f=2,a=N-2,D=2;if((z&1)==1){f++;
a--}var c=r-2;if((A&1)==1){D++;c--}if(t==1||t==3){f++;a--}var J=s.slice(0);q.jQ.gj(J,0,N);q.jQ.Du(J,0,N,r);
q.jQ.Du(J,N-2,N,r);q.jQ.gj(J,(r-2)*N,N);for(var Z=D;Z<c;Z+=2)for(var Q=f;Q<a;Q+=2){var l=Z*N+Q,M=q.jQ.Qh(J,l,N),u=q.jQ.Qh(J,l+N+1,N);
J[l]=Math.max(0,M);J[l+N+1]=Math.max(0,u)}var P=B,m=Y;if(A+Y==r){m-=2;q.jQ.amJ(s,(r-2)*N+z,N,S,(Y-2)*B*3,B)}if(z+B==N){P-=2;
q.jQ.abg(s,A*N+z+B-2,N,S,(B-2)*3,B,Y)}if(t==0)for(var Z=0;Z<m;Z+=2)for(var Q=0;Q<P;Q+=2){var i=(Z+A)*N+Q+z,e=(Z*B+Q)*3;
q.jQ.tE(S,e,s,J,i,N);q.jQ.GP(S,e+3,s,J,i+1,N);i+=N;e+=3*B;q.jQ.cL(S,e,s,J,i,N);q.jQ.Ni(S,e+3,s,J,i+1,N)}else if(t==1)for(var Z=0;
Z<m;Z+=2)for(var Q=0;Q<P;Q+=2){var i=(Z+A)*N+Q+z,e=(Z*B+Q)*3;q.jQ.GP(S,e,s,J,i,N);q.jQ.tE(S,e+3,s,J,i+1,N);
i+=N;e+=3*B;q.jQ.Ni(S,e,s,J,i,N);q.jQ.cL(S,e+3,s,J,i+1,N)}else if(t==2)for(var Z=0;Z<m;Z+=2)for(var Q=0;
Q<P;Q+=2){var i=(Z+A)*N+Q+z,e=(Z*B+Q)*3;q.jQ.Ni(S,e,s,J,i,N);q.jQ.cL(S,e+3,s,J,i+1,N);i+=N;e+=3*B;q.jQ.GP(S,e,s,J,i,N);
q.jQ.tE(S,e+3,s,J,i+1,N)}else if(t==3)for(var Z=0;Z<m;Z+=2)for(var Q=0;Q<P;Q+=2){var i=(Z+A)*N+Q+z,e=(Z*B+Q)*3;
q.jQ.cL(S,e,s,J,i,N);q.jQ.Ni(S,e+3,s,J,i+1,N);i+=N;e+=3*B;q.jQ.tE(S,e,s,J,i,N);q.jQ.GP(S,e+3,s,J,i+1,N)}};
q.raw={};q.raw.amW=function(s){var N=Date.now(),r=s.width,S=s.height,z=0,A=0,B=r,Y=S;if(s.t50829){var t=s.t50829;
z=t[1];A=t[0];B=t[3];Y=t[2]}if(s.t50719){var p=s.t50719;z+=p[0]>>1<<1;A+=p[1]>>1<<1}if(s.t50720){var f=s.t50720;
B=z+f[0];Y=A+f[1]}var a=B-z,D=Y-A,c=q.raw.ari(s),J=s.t33422,Z=s.t33421;if(Z){var f=Z[0],Q=J.slice(0);
for(var M=0;M<f;M++)for(var u=0;u<f;u++){var P=(u+(z&1))%f,m=(M+(A&1))%f;Q[M*f+u]=J[m*f+P]}J=Q}if(s.t277[0]==1)q.raw.aln(c,r,S,s,J);
q.raw.B3(2,s,c,r,S);var i=new Float32Array(a*D*3);if(s.t277[0]==1){if(Z==null){q.jQ.aoA(c,r,S,i,z,A,a,D)}else if(Z.length!=2||Z[0]!=2||Z[1]!=2){console.log("Unknown CFA pattern size",Z);
q.jQ.$B(c,r,S,i,z,A,a,D,Z[0],J)}else{var e=s.t33422.join(","),X=0;if(e=="0,1,1,2")X=0;else if(e=="1,0,2,1")X=1;
else if(e=="2,1,1,0")X=2;else if(e=="1,2,0,1")X=3;else throw"Unknown CFA pattern "+e;if((a&1)!=0||(D&1)!=0)throw"e";
q.jQ.ajU(c,r,S,i,z,A,a,D,X)}}else{for(var M=0;M<D;M++)for(var u=0;u<a;u++){var $=((M+A)*r+u+z)*3,O=(M*a+u)*3;
i[O+0]=c[$+0];i[O+1]=c[$+1];i[O+2]=c[$+2]}}var T=i,b=i.length,R=q.raw.$o(s),w=1/R;for(var l=0;l<b;l+=3){i[l]=T[l]*w;
i[l+1]=T[l+1]*w;i[l+2]=T[l+2]*w}q.raw.B3(3,s,i,a,D);var F=s._3,L=a,x=D;if(F==1||F==9){}else{var g=q.raw.yW(F,a,D),O=0;
L=g[0];x=g[1];var n=i.slice(0);for(var M=0;M<x;M++)for(var u=0;u<L;u++){var h=g[2]*u+g[3]*M+g[4],_=g[5]*u+g[6]*M+g[7],$=(_*a+h)*3;
i[O]=n[$];i[O+1]=n[$+1];i[O+2]=n[$+2];O+=3}}return{sB:i,I7:L,mc:x}};q.raw.yW=function(s,N,r){var S=N,z=r;
if(!1){}else if(s==2)return[N,r,-1,0,N-1,0,1,0];else if(s==3)return[N,r,-1,0,N-1,0,-1,r-1];else if(s==4)return[N,r,1,0,0,0,-1,r-1];
else if(s==5)return[r,N,0,1,0,1,0,0];else if(s==6)return[r,N,0,1,0,-1,0,r-1];else if(s==7)return[r,N,0,-1,N-1,-1,0,r-1];
else if(s==8)return[r,N,0,-1,N-1,1,0,0];else throw"unknown orientation "+s};q.raw.aln=function(s,N,r,S,z){var A=Date.now(),w=0,x=0;
if(q.raw.$o(S)>4e4){for(var l=0;l<s.length;l++)s[l]>>=1;var B=["t50714","t50715","t50712","t50717"];
for(var l=0;l<B.length;l++){var Y=S[B[l]];if(Y)for(var t=0;t<Y.length;t++)Y[t]>>>=1}console.log("remapping to lower bit depth")}var p=~~Math.sqrt(z.length),f=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],a=[];
for(var D=0;D<p;D++)for(var c=0;c<p;c++){var l=D*p+c,J=z[l],Z=4,Q=4,M=8,u=0,P=0;for(var t=0;t<18;t+=2){var m=(p+c+f[t])%p,i=(p+D+f[t+1])%p,e=z[i*p+m];
if(e==J){}else if(Z==4){Z=e;u=t}else if(Q==4&&e!=Z){Q=e;P=t;break}}if(Q<Z){var X=Q;Q=Z;Z=X;X=P;P=u;u=X}if(Z<J){var X=Z;
Z=J;J=X;X=u;u=M;M=X}if(Q<Z){var X=Q;Q=Z;Z=X;X=P;P=u;u=X}a[l*3]=f[M+1]*N+f[M];a[l*3+1]=f[u+1]*N+f[u];
a[l*3+2]=f[P+1]*N+f[P]}var $=~~(.996*q.raw.$o(S)),O=~~(.992*q.raw.$o(S)),T=S.t50728;if(T[0]==0)T=[1,1,1];
var b=[],R=[0,0,0];for(var D=1;D<r-1;D++)for(var c=1;c<N-1;c++){var l=D*N+c,F=D%p*p+c%p,J=s[l+a[F*3+0]],Z=s[l+a[F*3+1]],Q=s[l+a[F*3+2]],L=Math.max(J,Z,Q);
if(L>$)b.push(l);else if(L>O){R[0]+=J;R[1]+=Z;R[2]+=Q;w++}}if(b.length==0)return;if(w/(N*r)<1e-5){console.log("not enough semi-saturated pixels",w);
R=T}if(R[1]<R[x])x=1;if(R[2]<R[x])x=2;var g=[R[0]/R[x],R[1]/R[x],R[2]/R[x]],n=s.slice(0);for(var h=0;
h<b.length;h++){var l=b[h],D=~~(l/N),c=l-D*N,F=D%p*p+c%p,_=Math.min(65535,~~(s[l+a[F*3+x]]*g[z[F]]));
if(_>n[l])n[l]=_}s.set(n)};q.raw.S8=function(s,N,r,S){var z=s.sB,A=Math.round(z.length/3),B=z.slice(0);
q.raw.Wq(z,B,r,S);var Y=Math.pow(2,S[2]),t=new Uint8Array(4e3);for(var l=0;l<4e3;l++){var p=l*(1/1e3);
p=q.Fb(p);p*=Y;p=q.VN(p);p=Math.max(0,Math.min(1,p));p=q.raw.se.a4e(p,S[3]/100);t[l]=~~(.5+255*p)}for(var l=0;
l<A;l++){var f=l<<2,a=f-l;N[f]=t[~~(B[a]*1e3)];N[f+1]=t[~~(B[a+1]*1e3)];N[f+2]=t[~~(B[a+2]*1e3)]}};q.raw.Wq=function(s,N,r,S){var z=Math.round(s.length/3),A=eR.a1V(S[0],S[1]),B=q.raw.atA(r,A),Y=q.i_.multiply(q.i_.J9,B),t=Math.pow(2,r.t50730?r.t50730[0]:0);
Y=q.i_.multiply(Y,q.i_.Q$(t,t,t));var p=q.raw.Wq.ags;if(p==null){p=q.raw.Wq.ags=new Float64Array(8e3);
for(var l=0;l<8e3;l++)p[l]=q.VN(l*(1/1e3))}for(var l=0;l<z;l++){var f=l<<2,a=f-l,D=s[a],c=s[a+1],J=s[a+2],Z=Y[0]*D+Y[1]*c+Y[2]*J,Q=Y[4]*D+Y[5]*c+Y[6]*J,M=Y[8]*D+Y[9]*c+Y[10]*J;
if(Z<0)Z=0;if(Q<0)Q=0;if(M<0)M=0;N[a]=p[~~(Z*1e3)];N[a+1]=p[~~(Q*1e3)];N[a+2]=p[~~(M*1e3)]}};q.raw.se={a4e:function(s,N){var r=.5-.5*Math.cos(s*3.2),S=0;
if(N>0){var z=s*.2;S=z*s+(1-z)*r}else{var A=Math.pow(s,.33);S=(1-A)*A+A*(s+(s-r)*.63)}var B=Math.abs(N);
return B*S+(1-B)*s},atn:function(s,N){var r=0;if(N>0){var S=s*1.47,z=Math.pow(s,2.4);r=Math.min(1,z*s+(1-z)*S)}else{var S=s*.68,z=Math.pow(s,3);
r=z*s*.5+(1-z)*S}var A=Math.abs(N);return A*r+(1-A)*s},a5h:function(s,N){var r=0;if(N>0){var S=Math.pow(s,.3),z=s;
r=(1-s)*S+s*z}else{var S=Math.pow(s,2.5),A=s,z=s;r=Math.min(1,(1-A)*S+A*z)}var B=Math.abs(N);return B*r+(1-B)*s}};
q.raw.ari=function(s){var N=s.width,r=s.height,S=N*r*s.t277,z=new Uint16Array(S),A=null,B=0;q.raw.atx(s,z);
q.raw.B3(1,s,z,N,r);if(s.t50712){A=s.t50712;B=A.length-1;if(A[B]>65535)throw"too big values"}var Y=q.raw.VI(s),t=q.raw.ht(s);
if(A==null)for(var l=0;l<S;l++)z[l]=Math.max(0,z[l]-Y);else for(var l=0;l<S;l++){var p=z[l];if(p>B)p=B;
p=A[p];z[l]=Math.max(0,p-Y)}return z};q.raw.VI=function(s){var N=s.t50714,r=N?N[0]:0,S=s.t50715,z=s.t50716;
if(S)r+=S[0][0]/S[0][1];if(z)r+=z[0][0]/z[0][1];return Math.round(r)};q.raw.ht=function(s){var N=null,r=0;
if(s.t50712){N=s.t50712;r=N.length-1}var S=s.t50717?s.t50717[0]:(1<<s.t258[0])-1;if(N)S=Math.min(S,N[r]);
return S};q.raw.$o=function(s){var N=q.raw.VI(s),r=q.raw.ht(s);return r-N};q.raw.atx=function(s,N){var r=N.length,S=s.data,z=s.t258[0];
if(z!=16&&z!=14&&z!=12&&z!=10&&z!=8)throw"Unsupported Bits Per Sample:"+z;z=Math.round(S.length*8/r);
if(z==16&&s.isLE){q.r8(S,N);return}for(var l=0;l<r;l+=2){var A=0,B=0,Y=0;if(z==16){A=l<<1;B=S[A]<<8|S[A+1];
Y=S[A+2]<<8|S[A+3]}else if(z==14){var t=l*14,p=t>>>3,f=S[p]<<24|S[p+1]<<16|S[p+2]<<8|S[p+3];if((t&7)==0){B=f>>>18;
Y=f>>>4&16383}else{B=f>>>14&16383;Y=f&16383}}else if(z==12){A=l+(l>>>1);B=S[A]<<4|S[A+1]>>4;Y=(S[A+1]&15)<<8|S[A+2]}else if(z==10){var t=l*10,p=t>>>3;
if((t&7)==0){B=(S[p]<<2|S[p+1]>>6)&1023;Y=(S[p+1]<<4|S[p+2]>>4)&1023}else{B=(S[p]<<6|S[p+1]>>2)&1023;
Y=(S[p+1]<<8|S[p+2]>>0)&1023}}else if(z==8){A=l;B=S[A];Y=S[A+1]}N[l]=B;N[l+1]=Y}};q.raw.ai4=function(s,N,r,S,z,A,B){var Y=s-.499999,t=N-.499999,p=~~Y,f=~~t,a=Y-p,D=t-f,c=(1-D)*(1-a),J=(1-D)*a,Z=D*(1-a),Q=D*a,M=(f*S+p)*3,u=((f+1)*S+p)*3,P=c*r[M]+J*r[M+3]+Z*r[u]+Q*r[u+3],m=c*r[M+1]+J*r[M+4]+Z*r[u+1]+Q*r[u+4],i=c*r[M+2]+J*r[M+5]+Z*r[u+2]+Q*r[u+5];
A[B]=P;A[B+1]=m;A[B+2]=i};q.raw.B3=function(s,N,r,S,z){var A=N["t"+[51008,51009,51022][s-1]],f=0;if(A==null)return;
var B=S*z,Y=U.l,t=U.bv,p=new Uint8Array(A),hr=U.l(p,f);f+=4;for(var a=0;a<hr;a++){var D=Y(p,f);f+=4;
var c=Y(p,f);f+=4;var J=Y(p,f);f+=4;var Z=Y(p,f);f+=4;if(!1){}else if(D==1&&s==3){var Q=f,M=Y(p,Q);Q+=4;
var u=t(p,Q);Q+=8;var P=t(p,Q);Q+=8;var m=t(p,Q);Q+=8;var i=t(p,Q);Q+=8;var e=t(p,Q);Q+=8;var X=t(p,Q);
Q+=8;Q+=(M-1)*8*6;var $=t(p,Q);Q+=8;var O=t(p,Q);Q+=8;var T=$*S,b=O*z,R=Math.max(T,S-T),w=Math.max(b,z-b),F=Math.sqrt(R*R+w*w),L=1/F,x=r.slice(0);
for(var g=0;g<z;g++)for(var n=0;n<S;n++){var h=(n+.5-T)*L,_=(g+.5-b)*L,H=h*h+_*_,G=u+P*H+m*(H*H)+i*(H*H)*H,j=e*(2*h*_)+X*(H+2*h*h),v=X*(2*h*_)+e*(H+2*_*_),C=Math.min(T+F*(G*h+j),S-1),E=Math.min(b+F*(G*_+v),z-1),I=(g*S+n)*3;
q.raw.ai4(C,E,x,S,z,r,I)}}else if(D==3&&s==3){var Q=f,dJ=t(p,Q);Q+=8;var fG=t(p,Q);Q+=8;var o=t(p,Q);
Q+=8;var i4=t(p,Q);Q+=8;var df=t(p,Q);Q+=8;var $=t(p,Q);Q+=8;var O=t(p,Q);Q+=8;var T=$*S,b=O*z,R=Math.max(T,S-T),w=Math.max(b,z-b),F=Math.sqrt(R*R+w*w),L=1/F;
for(var g=0;g<z;g++)for(var n=0;n<S;n++){var h=(n+.5-T)*L,_=(g+.5-b)*L,H=h*h+_*_,eO=1+(dJ+(fG+(o+(i4+df*H)*H)*H)*H)*H,I=(g*S+n)*3;
r[I]=eO*r[I];r[I+1]=eO*r[I+1];r[I+2]=eO*r[I+2]}}else if(D==4&&s==1){var Q=f,cO=Y(p,Q);Q+=4;var ej=Y(p,Q);
Q+=4;for(var l=0;l<B;l++)if(r[l]==cO)r[l]=r[l-2]+r[l+2]>>1}else if(D==5&&s==1){var Q=f,cn=Y(p,Q);Q+=4;
var j5=Y(p,Q);Q+=4;var gP=Y(p,Q);Q+=4;for(var l=0;l<j5;l++){var bY=Y(p,Q);Q+=4;var gR=Y(p,Q);Q+=4;var l=bY*S+gR;
r[l]=r[l-2]+r[l+2]>>1}}else if(D==7&&s==1){var Q=f,c3=U.xX(p,Q);Q+=16;var jj=Y(p,Q);Q+=4;var jC=Y(p,Q);
Q+=4;var kf=Y(p,Q),bz=Y(p,Q+4);Q+=8;var iv=Y(p,Q);Q+=4;var bI=new Uint16Array(iv);for(var l=0;l<iv;l++)bI[l]=U.XF(p,Q+2*l);
var jo=c3.G,iZ=c3.n;for(var g=0;g<iZ;g+=kf)for(var n=0;n<jo;n+=bz){var l=(c3.y+g)*S+(c3.x+n);r[l]=bI[r[l]]}}else if(D==8&&s==2){var Q=f,c3=U.xX(p,Q);
Q+=16;var jj=Y(p,Q);Q+=4;var jC=Y(p,Q);Q+=4;var kf=Y(p,Q),bz=Y(p,Q+4);Q+=8;var jD=Y(p,Q);Q+=4;var dM=[];
for(var l=0;l<=jD;l++)dM[l]=U.bv(p,Q+l*8);var ka=c3.x,ds=c3.x+c3.G,ee=c3.y,a9=c3.y+c3.n,ir=N.t50717[0],eP=1/ir;
for(var jh=0;jh<jC;jh++)for(var g=ee;g<a9;g+=kf){var I=3*g*S+jj+jh;for(var n=ka;n<ds;n+=bz){var l=I+3*n,fy=r[l]*eP,eS=dM[jD];
for(var gz=jD;gz>0;gz--)eS=eS*fy+dM[gz-1];r[l]=Math.max(0,Math.min(65535,~~(eS*ir)))}}}else if(D==9&&s==2){var Q=f,c3=U.xX(p,Q),fg=!0;
Q+=16;var jj=Y(p,Q);Q+=4;var jC=Y(p,Q);Q+=4;var kf=Y(p,Q),bz=Y(p,Q+4);Q+=8;var fi=Y(p,Q),fw=Y(p,Q+4);
Q+=8;var ce=t(p,Q),hl=t(p,Q+8);Q+=16;var ia=t(p,Q),iQ=t(p,Q+8);Q+=16;var em=Y(p,Q);Q+=4;if(em!=1)throw"more than one map plane";
var k4=fi*fw,ar=new Float32Array(k4);for(var gz=0;gz<k4;gz++)ar[gz]=U.QP(p,Q+gz*4);for(var gz=0;gz<k4;
gz++)if(ar[gz]!=1)fg=!1;if(!fg){var jo=c3.G,iZ=c3.n,j0=.9999*(fw-1)/jo,bU=.9999*(fi-1)/iZ;for(var g=0;
g<iZ;g+=kf)for(var n=0;n<jo;n+=bz){var l=(c3.y+g)*S+(c3.x+n),dn=n*j0,aJ=g*bU,bE=Math.floor(dn),ew=Math.floor(aJ),jy=dn-bE,eT=aJ-ew,I=ew*fw+bE,du=ar[I]*(1-jy)+ar[I+1]*jy,c_=ar[I+fw]*(1-jy)+ar[I+1+fw]*jy,f9=du*(1-eT)+c_*eT;
r[l]=Math.max(0,Math.min(65535,~~(r[l]*f9+.5)))}}}else console.log("Unknown opcode "+D+" in OpcodeList"+s+". Length: "+Z);
f+=Z}};q.raw.atA=function(s,N){var r=eR.bH(N),S=q.raw.GD(s,N),z=q.i_.dm(S),A=eR.a94(r,eR.bH(eR.aec)),B=q.i_.multiply(A,z);
return B};q.raw.asV=function(s){var N=s.t50728,z=1;if(N==null||N[0]==0)N=[1,1,1];var r=N.slice(0);r.push(0);
var S={x:.34567,y:.3585};do{var A=q.i_.dm(q.raw.GD(s,S)),B=q.i_.Et(A,r),Y=eR.a2A(B);z=Math.abs(S.x-Y.x)+Math.abs(S.y-Y.y);
S=Y}while(z>1e-7);return S};q.raw.GD=function(s,N){var r=eR.ti(N),S=q.raw.akQ,z=s.t50778?s.t50778[0]:0,A=s.t50779?s.t50779[0]:0,B=S(s.t50721,s.t50722,z,A,r.b5),Y=S(s.t50723,s.t50724,z,A,r.b5);
B=B||[1,0,0,0,1,0,0,0,1];Y=Y||[1,0,0,0,1,0,0,0,1];var t=s.t50727?[s.t50727[0],0,0,0,s.t50727[1],0,0,0,s.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return q.i_.multiply(q.i_.CU(t),q.i_.multiply(q.i_.CU(Y),q.i_.CU(B)))};q.raw.akQ=function(s,N,r,S,z){if(!s&&!N){return null}else if(s&&!N){return s}else if(z<r){return s}else if(z>S){return N}else{var A=(1/z-1/S)/(1/r-1/S),B=1-A,Y=[];
for(var l=0;l<9;l++)Y[l]=s[l]*A+N[l]*B;return Y}};var eR={};eR.aec={x:.34567,y:.3585};eR.Fw=[{w:0,Jd:.18006,kc:.26352,BO:-.24341},{w:10,Jd:.18066,kc:.26589,BO:-.25479},{w:20,Jd:.18133,kc:.26846,BO:-.26876},{w:30,Jd:.18208,kc:.27119,BO:-.28539},{w:40,Jd:.18293,kc:.27407,BO:-.3047},{w:50,Jd:.18388,kc:.27709,BO:-.32675},{w:60,Jd:.18494,kc:.28021,BO:-.35156},{w:70,Jd:.18611,kc:.28342,BO:-.37915},{w:80,Jd:.1874,kc:.28668,BO:-.40955},{w:90,Jd:.1888,kc:.28997,BO:-.44278},{w:100,Jd:.19032,kc:.29326,BO:-.47888},{w:125,Jd:.19462,kc:.30141,BO:-.58204},{w:150,Jd:.19962,kc:.30921,BO:-.70471},{w:175,Jd:.20525,kc:.31647,BO:-.84901},{w:200,Jd:.21142,kc:.32312,BO:-1.0182},{w:225,Jd:.21807,kc:.32909,BO:-1.2168},{w:250,Jd:.22511,kc:.33439,BO:-1.4512},{w:275,Jd:.23247,kc:.33904,BO:-1.7298},{w:300,Jd:.2401,kc:.34308,BO:-2.0637},{w:325,Jd:.24792,kc:.34655,BO:-2.4681},{w:350,Jd:.25591,kc:.34951,BO:-2.9641},{w:375,Jd:.264,kc:.352,BO:-3.5814},{w:400,Jd:.27218,kc:.35407,BO:-4.3633},{w:425,Jd:.28039,kc:.35577,BO:-5.3762},{w:450,Jd:.28863,kc:.35714,BO:-6.7262},{w:475,Jd:.29685,kc:.35823,BO:-8.5955},{w:500,Jd:.30505,kc:.35907,BO:-11.324},{w:525,Jd:.3132,kc:.35968,BO:-15.628},{w:550,Jd:.32129,kc:.36011,BO:-23.325},{w:575,Jd:.32931,kc:.36038,BO:-40.77},{w:600,Jd:.33724,kc:.36051,BO:-116.45}];
eR.ti=function(s){var N=eR.Fw,r=2*s.x/(1.5-s.x+6*s.y),S=3*s.y/(1.5-s.x+6*s.y),z=0,A=0,B=0;for(;B<31;
B++){z=S-N[B].kc-N[B].BO*(r-N[B].Jd);if(B>0&&z<0){break}A=z}while(B>=N.length)B--;z/=Math.sqrt(1+N[B].BO*N[B].BO);
A/=Math.sqrt(1+N[B-1].BO*N[B-1].BO);var Y=A/(A-z),t=1e6/((N[B].w-N[B-1].w)*Y+N[B-1].w),p=r-((N[B].Jd-N[B-1].Jd)*Y+N[B-1].Jd),f=S-((N[B].kc-N[B-1].kc)*Y+N[B-1].kc),a=Math.sqrt(1+N[B].BO*N[B].BO),D=1/a,c=N[B].BO/a,J=Math.sqrt(1+N[B-1].BO*N[B-1].BO),Z=1/J,Q=N[B-1].BO/J,M=(D-Z)*Y+Z,u=(c-Q)*Y+Q,P=Math.sqrt(M*M+u*u);
M/=P;u/=P;var m=(p*M+f*u)*-3e3;return{b5:t,cJ:m}};eR.a1V=function(s,N){var r=eR.Fw,S=1e6/s,z=1;for(;
z<31;z++){if(S<r[z].w){break}}var A=(r[z].w-S)/(r[z].w-r[z-1].w),B=(r[z-1].Jd-r[z].Jd)*A+r[z].Jd,Y=(r[z-1].kc-r[z].kc)*A+r[z].kc,t=Math.sqrt(1+r[z].BO*r[z].BO),p=1/t,f=r[z].BO/t,a=Math.sqrt(1+r[z-1].BO*r[z-1].BO),D=1/a,c=r[z-1].BO/a,J=(D-p)*A+p,Z=(c-f)*A+f,Q=Math.sqrt(J*J+Z*Z);
J/=Q;Z/=Q;B+=J*N/-3e3;Y+=Z*N/-3e3;return{x:1.5*B/(B-4*Y+2),y:Y/(B-4*Y+2)}};eR.a2A=function(s){var N=s[0]+s[1]+s[2];
return{x:s[0]/N,y:s[1]/N}};eR.bH=function(s){return{x:s.x/s.y,y:1,Jk:(1-s.x-s.y)/s.y}};eR.a94=function(s,N){var r=q.i_.CU([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),S=[s.x,s.y,s.Jk,0],z=[N.x,N.y,N.Jk,0];
S=q.i_.Et(r,S);z=q.i_.Et(r,z);var A=z[0]/S[0],B=z[1]/S[1],Y=z[2]/S[2],t=q.i_.CU([A,0,0,0,B,0,0,0,Y]),p=q.i_.dm(r);
return q.i_.multiply(q.i_.multiply(p,t),r)};q.raw.BR={};q.raw.B0=function(s){s*=8;var N=[8,10,12,14,16];
for(var r in CAMS){var S=CAMS[r];if(S.length==4)continue;var z=S[4],A=S[5];for(var l=0;l<N.length;l++)if(z*A*N[l]==s)return[r,N[l]]}var B=[[4e3,3e3]];
for(var l=0;l<B.length;l++){var S=B[l],z=S[0],A=S[1];for(var l=0;l<N.length;l++)if(z*A*N[l]==s)return[S,N[l]]}return null};
q.raw.agj=function(s){var s=new Uint8Array(s);for(var l=0;l<s.length;l+=2){var N=s[l];s[l]=s[l+1];s[l+1]=N}var r=q.raw.B0(s.length),S=CAMS[r[0]];
if(S==null)S=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,r[0][0],r[0][1]];var z=S[4],A=S[5],B=Math.max(S[2],116),Y={data:s,_3:1,width:z,height:A,t256:[z],t257:[A],t258:[r[1]],t277:[1],t33421:[2,2],t33422:q.raw.jm[S[1]],t50706:[1,2,0,0],t50714:[B,B,B,B],t50717:[S[3]],t50721:S[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var l=0;l<9;l++)Y.t50721[l]/=1e4;return Y};q.raw.kz=function(s){if(s==null||s.length==0||typeof s[0]=="number")return s;
var N=[];for(var l=0;l<s.length;l++)N[l]=s[l][1]==0?0:s[l][0]/s[l][1];return N};q.raw.jm=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
q.raw.normalize=function(s,N){if(s.t50706!=null||s.t271[0].startsWith("Hasselblad")){var r=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var l=0;l<r.length;l++)if(s["t"+r[l]]!=null)s["t"+r[l]]=q.raw.kz(s["t"+r[l]]);if(s.t271&&s.t271[0].startsWith("Hasselblad")){s.t50706=[1,2,0,0];
s.t33422=q.raw.jm[1];s.t50723=[1,0,0,0,1,0,0,0,1];s.t50778=[17];if(!s.isLE)for(var l=0;l<s.data.length;
l+=2){var S=s.data[l];s.data[l]=s.data[l+1];s.data[l+1]=S}}return}var z=s.t258[0],A=s.exifIFD,N=new Uint8Array(N);
s.t50706=[1,2,0,0];var B=s.t272[0].trim();if(B.indexOf(" ")==-1)B=s.t271[0].trim()+" "+B;if(s.t50708==null)s.t50708=[B];
var Y=B.toLowerCase(),t=CAMS,p=t[Y];if(p==null)for(var f in t)if(Y.startsWith(f))p=t[f];if(p==null)alert("Unknown camera:"+B);
else{var a=p[2];s.t50714=[a,a,a,a];s.t50717=[p[3]];s.t50721=p[0].slice(0);for(var l=0;l<9;l++)s.t50721[l]=s.t50721[l]*(1/1e4)}s.t50723=[1,0,0,0,1,0,0,0,1];
if(s.t50728==null)s.t50728=[.35,1,.6];s.t50778=[17];if(s.t271[0].startsWith("SONY")){var D=UTIF["_bin"+(s.isLE?"LE":"BE")],c=s.t28688,m;
if(JSON.stringify(c)!="[8000,10400,12900,14100]")console.log(c);if(c){var J=[0,0,0,0,0,4095],Z=new Uint16Array(16385);
for(var l=0;l<4;l++){var Q=c[l]>>>2;J[l+1]=Q;if(Q>4095)throw"e"}for(var l=0;l<16385;l++)Z[l]=l;for(var l=0;
l<5;l++)for(var M=J[l]+1;M<=J[l+1];M++)Z[M]=Z[M-1]+(1<<l);var u=N.length*8<s.width*s.height*z;if(u)s.t50712=Z}else console.log("no curve");
var P=s.dngPrvt;if(P){var i=P.t29184[0],e=P.t29185[0],X=(s.isLE?U.g2:U.l)(P.t29217,0),$=new Uint32Array(N.slice(i,i+(e&4294967292)).buffer),O=new Uint32Array(e>>>2);
q.raw.atv($,O,e>>>2,X);var T=new Uint8Array(i+e);T.set(new Uint8Array(O.buffer),i);var b=[];UTIF._readIFD(D,T,i,b,0,!1);
var R=b.pop(),w=R.t29458;s.t50728=[w[1]/w[0],1,w[1]/w[3]];s.t50730=[.5];var F=R.t29891;s.t50829=[F[1],F[0],F[3],F[2]]}else if(A.makerNote&&A.makerNote.t8208){var m=A.makerNote,L=m.t8208,x=L.length,g=0,n=new Uint8Array(256);
for(var l=249;l<256;l++)n[l]=l;for(var l=0;l<249;l++)n[l*l*l%249]=l;for(var l=0;l<x;l++)L[l]=n[L[l]];
if(x==6604)g=612;else throw"e";var w=[];for(var l=0;l<3;l++)w.push(U.Mz(L,g+l*2));console.log(w);s.t50728=[w[1]/w[0],1,w[1]/w[2]]}else console.log("no white balance");
if(s.width*s.height*1.5==s.t279[0]){a=a>>>2;s.t50714=[a,a,a,a];s.t50717=[p[3]>>>2]}}else if(s.t271[0].startsWith("Canon")){var N=s.data,h=N.slice(0),_=s.t50752,H=[],j=0;
if(_==null||_[0]==0&&_[1]==0)H.push(s.width);else{for(var l=0;l<_[0];l++)H.push(_[1]);H.push(_[2])}var G=s.width*2,v=s.t50885&&s.t50885[0]==4;
if(!v)for(var C=0;C<H.length;C++){var E=H[C],I=2*j,dJ=2*E;for(var fG=0;fG<s.height;fG+=2){var o=fG*G+I,i4=s.height*I+fG*dJ;
for(var l=0;l<dJ;l++){N[o+l]=h[i4+l];N[o+l+G]=h[i4+l+dJ]}}j+=E}else{for(var C=0;C<H.length;C++){var E=H[C]/((_[0]*_[1]+_[2])/s.width);
for(var fG=0;fG<s.height;fG++){var o=(fG*s.width+j)*6,i4=(s.height*j+fG*E)*6;for(var l=0;l<E*6;l++)N[o+l]=h[i4+l]}j+=E}var df=new Uint16Array(N.buffer),eO=new Uint16Array(1),cO=new Int16Array(eO.buffer);
for(var l=0;l<df.length;l+=3){var ej=df[l],cn=df[l+1],j5=df[l+2];eO[0]=cn<<2;cn=cO[0]>>2;eO[0]=j5<<2;
j5=cO[0]>>2;df[l+0]=Math.max(0,j5+ej);df[l+1]=Math.max(0,(ej<<12)-cn*778-(j5<<11)>>12);df[l+2]=Math.max(0,cn+ej)}}var m=A.makerNote;
if(m.t16385){var gP=m.t224,c3=0;if(gP){s.t50719=[gP[5],gP[6]];s.t50720=[gP[7]+1-gP[5],gP[8]+1-gP[6]]}var bY=m.t16385,gR=bY.length;
if(gR==582)c3=1;else if(gR==653)c3=2;else if(gR==796)c3=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(gR)!=-1)c3=4;
else if(gR==5120){c3=5;bY=new Int16Array(bY.slice(0).buffer)}else if(gR==1273||gR==1275)c3=6;else if([1312,1313,1316,1506].indexOf(gR)!=-1)c3=7;
else if([1560,1592,1353,1602].indexOf(gR)!=-1)c3=8;else throw"e"+gR;var jj=bY[0],jC=[null,[25,166],[34,286],[63,196],[63],[71,jj==-4?333:264],[63,251],[63,jj==10?504:728],[63,326]],g=jC[c3][0],kf=jC[c3][1];
if(c3==4){if(bY[0]==2)kf=231;else if(bY[0]==3)kf=231;else if(bY[0]==4)kf=231;else if(bY[0]==5)kf=231;
else if(bY[0]==6)kf=231;else if(bY[0]==7)kf=231;else if(bY[0]==9)kf=231;else throw"e"}s.t50728=[bY[g+1]/bY[g],1,bY[g+1]/bY[g+3]];
var a=kf==null?1024:bY[kf];if(c3!=4)s.t50714=[a,a,a,a]}else{s.t50728=[.4,1,.6]}if(v){s.t277=[3];s.t50728=[1,1,1];
s.t50714=[0,0,0,0]}}else if(s.t271[0].startsWith("NIKON")){var m=A.makerNote,bz=s.isLE?U.Mz:U.AC,dM=0,ka=0,eP,ce=0;
if(m.t61){var iv=m.t61,bI=[];for(var l=0;l<4;l++)bI[l]=iv[l]/Math.pow(2,14-z);s.t50714=bI}if(m.t3585){var jo=m.t3585,l=0,i=22;
while(i<jo.length&&l!=-4){var iZ=U.g2(jo,i);i+=4;i+=14;l=U.g2(jo,i)-4;i+=4;if(iZ==1990472198){if(jo[i]!=0)throw"Flip"}if(iZ==1990472199){var jD=U.Mz(jo,i);
if(jD==0)s._3=1;else if(jD==270)s._3=8;else throw"e "+jD}i+=l}}if(m.t183){var ds=m.t183,ee=[];for(var l=0;
l<6;l++)ee.push(bz(ds,16+l*2));dM=ee[0];ka=ee[1]}if(m.t3614){var a9=m.t3614;dM=U.g2(a9,8);ka=U.g2(a9,12)}if(dM!=0&&Math.max(dM,ka)<Math.max(s.width,s.height)){if(dM<ka){var S=dM;
dM=ka;ka=S}var j=s.width-dM>>>1,fG=s.height-ka>>>1;s.t50829=[fG,j,fG+ka,j+dM]}else s.t50829=[8,8,s.height-8,s.width-56];
var ir=m.t69;if(ir)s.t50829=[ir[1],ir[0],ir[1]+ir[3],ir[0]+ir[2]];if(m.t12){var jh=q.raw.kz(m.t12);eP=[1/jh[0],1,1/jh[1]]}else if(m.t151){var fy=q.raw.al7(m,151),eS=fy[0],dq=fy[1],gz=fy[2];
if(eS=="0100"&&dq>=80)throw"e";else if(eS=="0102"){var fi=[];for(var l=0;l<4;l++)fi.push(bz(gz,6+l*2));
eP=[fi[1]/fi[0],1,fi[1]/fi[3]]}else if(eS=="0103"&&dq>=26){var fi=[];for(var l=0;l<4;l++)fi.push(bz(gz,16+l*2));
eP=[fi[1]/fi[0],1,fi[3]/fi[2]]}else if(eS=="0204"&&dq>=564||eS=="0205"&&dq>=284){var i=eS=="0204"?6:14,fi=[];
for(var l=0;l<4;l++)fi.push(bz(gz,i+l*2));eP=[fi[1]/fi[0],1,fi[1]/fi[3]]}else throw"e"}else console.log("no white balance info");
if(B=="NIKON D1")eP=[1,1,1];if(eP)s.t50728=eP;var fw=m.t150?m.t150:m.t140;if(fw){var hl=fw[ce++],ia=fw[ce++],k4;
if(hl==73||ia==88)ce+=2110;ce+=8;var iQ=1<<z&32767,em=bz(fw,ce);ce+=2;var Z=[];if(em>1)k4=Math.floor(iQ/(em-1));
if(hl==68&&ia==32&&k4>0){for(l=0;l<em;l++){Z[l*k4]=bz(fw,ce);ce+=2}for(l=0;l<iQ;l++)Z[l]=Math.floor((Z[l-l%k4]*(k4-l%k4)+Z[l-l%k4+k4]*(l%k4))/k4)}else if(hl!=70&&em<=16385){iQ=em;
for(var l=0;l<em;l++)Z[l]=bz(fw,ce+2*l);ce+=2*em}var ar=s.t272[0];if(Z.length!=0)s.t50712=new Uint16Array(Z);
if(s.t258[0]==14&&s.t50717[0]<1e4){console.log("fixing white");s.t50717[0]*=4}}}else if(B.startsWith("FujiFilm")){}else alert("Unknown camera "+B)};
q.raw.atv=function(s,N,r,S){if(0==r)return;var z=new Uint32Array(128),A=new Uint8Array(z.buffer),B=127,Y=0,t=0;
for(var B=0;B<4;B++)z[B]=S=(S*15625>>>0)*3125+1>>>0;z[3]=z[3]<<1|(z[0]^z[2])>>>31;for(var B=4;B<127;
B++)z[B]=(z[B-4]^z[B-2])<<1|(z[B-3]^z[B-1])>>>31;for(var B=0;B<127;B++)z[B]=U.l(A,B*4);for(;r>0;r--){z[B&127]=z[B+1&127]^z[B+1+64&127];
var p=z[B&127],f=s[Y];f^=p;N[t]=f;Y++;t++;B++}};q.raw.a01=function(s,N){var r=U.TX(N,0,4),S=q.raw.a3O;
for(var l=0;l<S.length;l++)if(S[l][0]==s&&r.startsWith(S[l][1])&&(S[l][2]==0||S[l][2]==N.length))return S[l];
throw"e"};q.raw.anF=function(s){if(s.t29==null)return[];var N=q.raw.a7A,r=q.raw.at4,S=s.t29[0],z=0,B=0;
for(var l=0;l<S.length;l++){var A=S.charCodeAt(l);z=z*10+(48<=A&&A<=57?A-48:A%10)}var dq=s.t167[0];for(var l=0;
l<4;l++)B^=dq>>>(l<<3)&255;var Y=N[z&255],t=r[B&255];return[Y,t,96]};q.raw.al7=function(s,N){var r=s["t"+N],dq=r.length,S=q.raw.a01(N,r),z=U.TX(r,0,4),A,B=S[4];
if(B==null)A=r.slice(4);else{A=new Uint8Array(dq-B);var Y=q.raw.anF(s),t=Y[0],p=Y[1],f=Y[2];for(var l=0;
l<A.length;l++){p=p+t*f++&255;A[l]=r[B++]^p}}return[z,dq,A]};q.raw.a3O=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
q.raw.a7A=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
q.raw.at4=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
q.Sa={};q.Sa.Sa=function(s,N,r,S,z){if(S==null)S=3;if(z==null)z=!0;var A=s.G,B=s.n,Y=1/A,t=A*B,p=Date.now(),f=!1,a=q.Sa.IT(r,A,B,255,128),D=q.Sa.IT(r,A,B,0,128),fG=0;
if(f)console.log("extract contours",Date.now()-p);p=Date.now();var c=function(fy,eS){var fi=fy<<2,fw=eS<<2;
return N[fi]+N[fi+1]+N[fi+2]-(N[fw]+N[fw+1]+N[fw+2])};a.sort(c);D.sort(c);var J=q.m(t),Z=q.m(t),Q=[],M=new Uint32Array(A*B);
M.fill(4294967295);for(var l=0;l<t;l++)if(r[l]==0)Z[l]=255;else if(r[l]==255)J[l]=255;else{M[l]=Q.length;
Q.push(l)}var u=a.length,P=D.length,m=Q.length;function i(fy,eS,fi,fw){var ce=fy.length,hl=new Array(ce*2);
for(var l=0;l<ce;l++){var g=fy[l],n=~~(g*fw),h=g-n*fi,ir=g<<2;hl[l*2]=h<<16|n;hl[l*2+1]=eS[ir]<<16|eS[ir+1]<<8|eS[ir+2]}return hl}var e=i(a,N,A,Y),X=i(D,N,A,Y),$=i(Q,N,A,Y);
if(f)console.log("Itemize",Date.now()-p,"Unknown:",m,u,P);p=Date.now();var O=q.style.ZR(J,A,B,!0),T=q.style.ZR(Z,A,B,!0),b=new Array(m),R=new Array(m),w=new Array(m),F=new Array(m),L=new Array(m);
if(f)console.log("Dist transform",Date.now()-p);p=Date.now();var x=q.Sa.PG;for(var l=0;l<m;l++){var g=Q[l],n=~~(g*Y),h=g-n*A,_=O[g<<1],H=O[(g<<1)+1],G=Math.sqrt(_*_+H*H),j=T[g<<1],v=T[(g<<1)+1],C=Math.sqrt(j*j+v*v);
b[l]=1/G;R[l]=1/C;var E=Math.floor(q.Q.No(g*17)*u),I=Math.floor(q.Q.No(g*19)*P);w[l]=E;F[l]=I;L[l]=x($[l*2],$[l*2+1],e[E*2],e[E*2+1],X[I*2],X[I*2+1],b[l],R[l],1e9)}var dJ=[-A-1,-A,-A+1,-1,1,A-1,A,A+1];
while(Math.floor(Math.max(u,P)*Math.pow(.5,fG))>1)fG++;for(var o=0;o<S;o++){var i4=0;for(var l=0;l<m;
l++){var g=Q[l],n=~~(g*Y),h=g-n*A,df=b[l],eO=R[l],cO=$[l*2],ej=$[l*2+1],cn=L[l],E=w[l],I=F[l],jj=1;if(n!=0&&h!=0&&h!=A-1&&n!=B-1)for(var j5=0;
j5<8;j5++){var gP=M[g+dJ[j5]];if(gP==4294967295)continue;var bY=w[gP],gR=F[gP];if(bY==E&&gR==I)continue;
var c3=x(cO,ej,e[bY*2],e[bY*2+1],X[gR*2],X[gR*2+1],df,eO,cn);if(c3<cn){cn=c3;E=bY;I=gR}}for(var jC=0;
jC<fG;jC++){var kf=~~(u*jj),bz=~~(P*jj);jj*=.5;var iv=q.Q.No(g+o*17+jC*31),bI=q.Q.No(g+o*29+jC*63),jo=Math.max(0,E-kf),iZ=Math.min(E+kf,u-1),jD=Math.max(0,I-bz),dM=Math.min(I+bz,P-1),bY=jo+~~(iv*(iZ-jo)),gR=jD+~~(bI*(dM-jD)),c3=x(cO,ej,e[bY*2],e[bY*2+1],X[gR*2],X[gR*2+1],df,eO,cn);
if(c3<cn){cn=c3;E=bY;I=gR}}L[l]=cn;w[l]=E;F[l]=I;i4+=cn}}if(f)console.log(i4);if(f)console.log("iterations",Date.now()-p);
p=Date.now();var ka=r.slice(0);for(var l=0;l<m;l++){var ds=q.Sa.alpha($[l*2+1],e[w[l]*2+1],X[F[l]*2+1]);
ka[Q[l]]=~~(.5+255*ds)}ka=q.YQ.a3Y(ka,N,new hq(0,0,A,B),16,.01*.01);if(f)console.log("guided filter",Date.now()-p);
p=Date.now();if(z)for(var l=0;l<t;l++)if(r[l]==255||r[l]==0)ka[l]=r[l];var ee=N.slice(0);for(var l=0;
l<m;l++){var a9=Q[l],E=a[w[l]],cn=L[l],ir=a9<<2,eP=ka[a9],jh=(eP>=250?a9:E)<<2;ee[ir]=N[jh];ee[ir+1]=N[jh+1];
ee[ir+2]=N[jh+2]}q.XX(ka,ee,3);if(f)console.log(Date.now()-p);p=Date.now();return ee};q.Sa.PG=function(s,N,r,S,z,A,B,Y,t){var p=s>>>16,f=s&65535,a=p-(r>>>16),D=f-(r&65535),c=p-(z>>>16),J=f-(z&65535),Z=Math.sqrt(a*a+D*D)*B,Q=Math.sqrt(c*c+J*J)*Y;
if(Z+Q>=t)return 1e9;var M=q.Sa.a99(N,S,A);return M+Z+Q};q.Sa.a99=function(s,N,r){var S=s>>>16,z=s>>>8&255,A=s&255,B=N>>>16,Y=N>>>8&255,t=N&255,p=r>>>16,f=r>>>8&255,a=r&255,D=q.Sa.alpha(s,N,r),c=S-(D*B+(1-D)*p),J=z-(D*Y+(1-D)*f),Z=A-(D*t+(1-D)*a);
return Math.sqrt(c*c+J*J+Z*Z)};q.Sa.alpha=function(s,N,r){var S=s>>>16,z=s>>>8&255,A=s&255,B=N>>>16,Y=N>>>8&255,t=N&255,p=r>>>16,f=r>>>8&255,a=r&255,D=B-p,c=Y-f,J=t-a,Z=S-p,Q=z-f,M=A-a,u=D*D+c*c+J*J,P=u==0?.5:(Z*D+Q*c+M*J)/u;
return Math.max(0,Math.min(1,P))};q.Sa.a3d=function(s){};q.Sa.IT=function(s,N,r,S,z){var A=[],B=N-1,Y=r-1;
for(var t=1;t<Y;t++)for(var p=1;p<B;p++){var l=t*N+p;if(s[l]==S&&(s[l-N-1]==z||s[l-N]==z||s[l-N+1]==z||(s[l-1]==z||s[l+1]==z)||(s[l+N-1]==z||s[l+N]==z||s[l+N+1]==z)))A.push(l)}return A};
q.YQ={};q.YQ.a7e=function(s,N,r,S,z){var A=r.G,B=r.n,Y=A*B,t=q.YQ.Rv,p=q.m(Y*4),f;q.TM(p,4294967295);
var a=r,D=s,c=N,J=S;q.XX(s,p,0);f=q.fK(p,r);f=q.fK(f.sB,f.rect);a=f.rect;J=S>>>2;console.log(a,J);D=q.m(a.$());
q.WZ(f.sB,D,0);q.XX(N,p,0);f=q.fK(p,r);f=q.fK(f.sB,f.rect);c=q.m(a.$());q.WZ(f.sB,c,0);var Z=q.YQ.aiK(D,c,a,J,z),Q=Z[0],M=Z[1],u=new hq(0,0,a.G*2,a.n*2);
Q=t(Q,a,u,!0);Q=t(Q,u,r,!0);M=t(M,a,u,!0);M=t(M,u,r,!0);var P=q.m(Y);for(var l=0;l<Y;l++)P[l]=Math.max(0,Math.min(255,Math.floor(.5+(Q[l]*N[l]+255*M[l]))));
return P};q.YQ.Rv=function(s,N,r,S){var z=r.G,A=r.n,B=N.G,Y=N.n,t=q.YQ.Xu,p=new Float32Array(z*A);for(var f=0;
f<Y;f++){var a=(f+f)*z;for(var D=0;D<B;D++){if(!0||D==0||f==0||D==B-1||f==Y-1)p[a]=p[a+1]=p[a+z]=p[a+z+1]=s[f*B+D];
else{p[a]=t(D+.25,f+.25,s,B,Y);p[a+1]=t(D+.75,f+.25,s,B,Y);p[a+z]=t(D+.25,f+.75,s,B,Y);p[a+z+1]=t(D+.75,f+.75,s,B,Y)}a+=2}}return p};
q.YQ.Xu=function(s,N,r,S,z){s-=.499999;N-=.499999;var A=Math.floor(s),B=Math.floor(N),Y=B*S+A,t=s-A,p=N-B,f=(1-p)*(1-t),a=(1-p)*t,D=p*(1-t),c=p*t;
if(r[Y]==null||r[Y+S+1]==null){console.log(s,N,S,z);throw"e"}return f*r[Y+0]+a*r[Y+1]+D*r[Y+S+0]+c*r[Y+S+1]};
q.YQ.aiK=function(s,N,r,S,z){var A=r.G,B=r.n,Y=A*B,t=q.YQ.z2,p=q.YQ.m,f=q.W9.km,a=q.YQ.qT,N=t(N),s=t(s),D=p(Y);
f(N,D,r,S);var c=p(Y);f(s,c,r,S);var J=p(Y);a(N,N,J);f(J,J,r,S);var Z=p(Y);a(N,s,Z);f(Z,Z,r,S);var Q=p(Y),M=p(Y);
for(var l=0;l<Y;l++){var u=D[l],P=c[l],m=J[l]-u*u,i=Z[l]-u*P,e=i/(m+z),X=P-e*u;Q[l]=e;M[l]=X}var $=p(Y);
f(Q,$,r,S);var O=p(Y);f(M,O,r,S);return[$,O]};q.YQ.a3Y=function(s,N,r,S,z){var A=r.G,B=r.n,Y=A*B,t=q.YQ.Rv,p=Date.now(),f=!1,a=r,D=s,c=N,J=S;
a=new hq(0,0,A>>>2,B>>>2);J=S>>>2;D=q.YQ.avE(s,A,B);c=q.YQ.aeh(N,A,B);if(f)console.log(Date.now()-p);
p=Date.now();var Z=q.YQ.a32(D,c,a,J,z),Q=Z[0],M=Z[1],u=Z[2],P=Z[3];if(f)console.log(Date.now()-p);p=Date.now();
var m=q.m(Y);for(var i=0;i<B;i++)for(var e=0;e<A;e++){var l=i*A+e,X=(i>>>2)*(A>>>2)+(e>>>2),$=l<<2,O=Q[X]*N[$]+M[X]*N[$+1]+u[X]*N[$+2]+P[X]*255;
m[l]=Math.max(0,Math.min(255,~~(.5+O)))}if(f)console.log(Date.now()-p);p=Date.now();return m};q.YQ.avE=function(s,N,r){var S=N>>>2,z=r>>>2,A=q.m(N*r);
for(var B=0;B<z;B++)for(var Y=0;Y<S;Y++)A[B*S+Y]=s[B*N+Y<<2];return A};q.YQ.aeh=function(s,N,r){var S=N>>>2,z=r>>>2,A=q.m(N*r*4);
for(var B=0;B<z;B++)for(var Y=0;Y<S;Y++){var t=B*S+Y<<2,p=B*N+Y<<4;A[t]=s[p];A[t+1]=s[p+1];A[t+2]=s[p+2];
A[t+3]=s[p+3]}return A};q.YQ.a32=function(s,N,r,S,z){var A=r.G,B=r.n,Y=A*B,t=q.YQ.z2,p=q.YQ.m,f=q.W9.km,a=q.YQ.qT,s=t(s),D=new q.Ek(A*B);
q.oK(N,D);var N=[t(D.w),t(D.A),t(D.U)],c=q.YQ.apE(s,N,r,S,z),J=p(Y);f(s,J,r,S);var Z=p(Y);a(N[0],s,Z);
f(Z,Z,r,S);var Q=p(Y);a(N[1],s,Q);f(Q,Q,r,S);var M=p(Y);a(N[2],s,M);f(M,M,r,S);var u=p(Y),P=p(Y),m=p(Y),i=p(Y);
for(var l=0;l<Y;l++){var e=J[l],X=c.Lt[l],$=c.sk[l],O=c.qN[l],T=Z[l]-X*e,b=Q[l]-$*e,R=M[l]-O*e;u[l]=c.aeH[l]*T+c.Rp[l]*b+c.E1[l]*R;
P[l]=c.Rp[l]*T+c.as9[l]*b+c.hK[l]*R;m[l]=c.E1[l]*T+c.hK[l]*b+c.amg[l]*R;i[l]=e-u[l]*X-P[l]*$-m[l]*O}f(u,u,r,S);
f(P,P,r,S);f(m,m,r,S);f(i,i,r,S);return[u,P,m,i]};q.YQ.apE=function(s,N,r,S,z){var A=r.G,B=r.n,Y=A*B,t=q.YQ.m,p=q.W9.km,f=q.YQ.qT,a={};
a.Lt=t(Y);p(N[0],a.Lt,r,S);a.sk=t(Y);p(N[1],a.sk,r,S);a.qN=t(Y);p(N[2],a.qN,r,S);var D=t(Y);f(N[0],N[0],D);
p(D,D,r,S);var c=t(Y);f(N[0],N[1],c);p(c,c,r,S);var J=t(Y);f(N[0],N[2],J);p(J,J,r,S);var Z=t(Y);f(N[1],N[1],Z);
p(Z,Z,r,S);var Q=t(Y);f(N[1],N[2],Q);p(Q,Q,r,S);var M=t(Y);f(N[2],N[2],M);p(M,M,r,S);a.aeH=D;a.Rp=c;
a.E1=J;a.as9=Z;a.hK=Q;a.amg=M;for(var l=0;l<Y;l++){var u=a.Lt[l],P=a.sk[l],m=a.qN[l],i=D[l]-u*u+z,e=c[l]-u*P,X=J[l]-u*m,$=Z[l]-P*P+z,O=Q[l]-P*m,T=M[l]-m*m+z,b=$*T-O*O,R=O*X-e*T,w=e*O-$*X,F=i*T-X*X,L=X*e-i*O,x=i*$-e*e,g=b*i+R*e+w*X,n=1/g;
a.aeH[l]=b*n;a.Rp[l]=R*n;a.E1[l]=w*n;a.as9[l]=F*n;a.hK[l]=L*n;a.amg[l]=x*n}return a};q.YQ.m=function(s){return new Float32Array(s)};
q.YQ.z2=function(s){var N=s.length,r=new Float32Array(N);for(var l=0;l<N;l++)r[l]=s[l]*(1/255);return r};
q.YQ.qT=function(s,N,r){for(var l=0;l<s.length;l++)r[l]=s[l]*N[l]};q.rZ={};q.rZ.hi=function(s,N,r,S){var z=s[N]-r[S],A=s[N+1]-r[S+1],B=s[N+2]-r[S+2];
return Math.sqrt(z*z+A*A+B*B)*(1/441.7)};q.rZ.getSelection=function(s,N,r){var S=N*r,z=q.m(S),A=!1,B=Math.round(r*.7),Y=1,t=new Uint32Array(12),p=q.m(12);
for(var f=0;f<B;f++)for(var a=0;a<N;a++){if(a<Y||f<Y||a>N-Y-1||f>r-Y-1){var l=f*N+a,D=l<<2,c=0;if(f<Y)c=4;
else if(a>N-Y-1)c=8;t[c]+=s[D];t[c+1]+=s[D+1];t[c+2]+=s[D+2];t[c+3]++;z[l]=255}}for(var l=0;l<12;l+=4)for(var J=0;
J<3;J++)p[l+J]=t[l+J]/t[l+3];var Z=new Float32Array(S);for(var l=0;l<S;l++){var D=l*4,Q=q.rZ.hi(s,D,p,0),M=q.rZ.hi(s,D,p,4),u=q.rZ.hi(s,D,p,8),P=Math.max(Q,Math.max(M,u));
Z[l]=Q+M+u-P}q.rZ.gy(Z);var m=Date.now(),i=new Float32Array(S),e=[],X=q.m(S);for(var l=0;l<3;l++){q.WZ(s,X,l);
var $=new Uint16Array(S);e.push($);q.rZ.afo(X,z,N,r,$)}if(A)console.log("MBD",Date.now()-m);m=Date.now();
for(var l=0;l<S;l++)i[l]=e[0][l]+e[1][l]+e[2][l];q.rZ.gy(i);for(var l=0;l<S;l++)i[l]+=.4*Z[l];var O=N>>>1,B=r>>>1,T=1/Math.sqrt(O*O+B*B);
for(var f=0;f<r;f++)for(var a=0;a<N;a++){var b=a-O,R=f-B,w=1-Math.sqrt(b*b+R*R)*T;i[f*N+a]*=w}if(A)console.log("Centeredness",Date.now()-m);
m=Date.now();for(var l=0;l<S;l++)z[l]=i[l]*255;var F=Math.round(N/120),L=Math.round(F*.8);if(A)console.log(F,L);
q.j0.ve(z,X,N,r,F,q.j0.aZ,[]);z.set(X);if(A)console.log("erosion",Date.now()-m);m=Date.now();for(var l=0;
l<S;l++)i[l]=z[l];q.rZ.gy(i);var x=q.m(256);for(var l=0;l<256;l++)x[l]=256/(1+Math.exp(-20*(l/255-.5)));
for(var l=0;l<S;l++){var g=~~(i[l]*255+.5);z[l]=x[g]}if(A)console.log("Simoid",Date.now()-m);m=Date.now();
return z};q.rZ.gy=function(s){var N=s.length,r=0;for(var l=0;l<N;l++)r=Math.max(r,s[l]);var S=1/r;for(var l=0;
l<N;l++)s[l]=s[l]*S};q.rZ.afo=function(s,N,r,S,z){var A=r*S,B=s.slice(0),Y=s.slice(0);for(var l=0;l<A;
l++)z[l]=N[l]==255?0:65535;q.rZ.fX(s,Y,B,z,r,S);q.rZ.ZN(s,Y,B,z,r,S);q.rZ.fX(s,Y,B,z,r,S);q.rZ.ZN(s,Y,B,z,r,S);
return z};q.rZ.fX=function(s,N,r,S,z,A){for(var B=1;B<z;B++)q.rZ.ZT(B,-1,s,N,r,S);for(var Y=1;Y<A;Y++){q.rZ.ZT(Y*z,-z,s,N,r,S);
for(var B=1;B<z;B++){var l=Y*z+B;q.rZ.ZT(l,-1,s,N,r,S);q.rZ.ZT(l,-z,s,N,r,S)}}};q.rZ.ZN=function(s,N,r,S,z,A){for(var B=z-2;
B>=0;B--)q.rZ.ZT(z*A-z+B,1,s,N,r,S);for(var Y=A-2;Y>=0;Y--){q.rZ.ZT(Y*z+z-1,z,s,N,r,S);for(var B=z-2;
B>=0;B--){var l=Y*z+B;q.rZ.ZT(l,1,s,N,r,S);q.rZ.ZT(l,z,s,N,r,S)}}};q.rZ.ZT=function(l,s,N,r,S,z){var A=l+s,B=N[l],Y=r[A],t=S[A];
if(Y<B)Y=B;else if(B<t)t=B;var p=Y-t;if(z[A]!=65535&&p<z[l]){z[l]=p;r[l]=Y;S[l]=t}};q.YX={};q.YX.filter=function(s,N,r,S){var z=N.G,A=N.n,B=z*A,Y=S[0],t=S[1],p=S[2],f=S[3],a=S[4],D=S[5],c=S[6],J=Date.now(),Z=new Float32Array(z*A*4);
q.YX.a6i(s,z,A,Z);var Q=Math.ceil(Y*Math.sqrt(-2*Math.log(.1))),M=new ArrayBuffer(B*4),u=new Float32Array(M),P=new Float32Array(B),m=new Float32Array(B);
for(var l=0;l<B;l++){var i=l*4;u[l]=Z[i];P[l]=Z[i+1];m[l]=Z[i+2]}q.W9.Hn(u,u,N,Q*1/2.4,2);q.W9.Hn(P,P,N,Q*1/2.4,2);
q.W9.Hn(m,m,N,Q*1/2.4,2);for(var l=0;l<B;l++){var i=l*4;Z[i]=u[l];Z[i+1]=P[l];Z[i+2]=m[l]}var e=new Uint8Array(M);
for(var l=0;l<B;l++){var i=l*4,X=l*4,u=Z[i],P=Z[i+1],m=Z[i+2],$=Math.sqrt((u-m)*(u-m)+4*P*P),O=(u+m+$)*.5,T=(u+m-$)*.5,b=T-m,R=P,w=b*b+R*R;
if(w!=0){var F=Math.sqrt(w),L=1/F;b*=L;R*=L}e[X]=128+127*b;e[X+1]=128+127*R}var x=1.3*t+2,g=f*(2/10),n=s.slice();
if(d.Bi){var h=new Float32Array([1/z,1/A]),_=d.fw(0,z,A);_.set(n);var H=d.fw(1,z,A);H.set(e);d.Lp(_,N);
if(a){_.AY(N);d.filter.Mx({type:d.filter.aoN,GB:h,al6:1/p,aee:g},_.kv)}_.AY(N);d.filter.Mx({type:d.filter.iH,sj:H.Cp,GB:h,as6:x,ajY:2},_.kv);
if(a){_.AY(N);d.filter.Mx({type:d.filter.aup,GB:h,af3:new Float32Array(c),auB:D},_.kv)}_.get(r)}else{if(a)q.YX.b7(1/p,g,n,z,A);
q.YX.iH(n,r,e,z,A,x);if(a)q.YX.a6p(z,A,r,c,D)}var G=B*4;for(var l=3;l<G;l+=4)r[l]=s[l]};q.YX.iH=function(s,N,r,S,z,A){var B=Math.ceil(2*A),Y=-1/(2*A*A),t=[],p=1;
for(var l=0;l<B+20;l++)t[l]=Math.exp(l*l*Y);var f=[0,0,0,0];for(var a=0;a<z;a++){for(var D=0;D<S;D++){var c=a*S+D,J=c*4,Z=1,Q=s[J],M=s[J+1],u=s[J+2],P=s[J+3],m=(r[J]-128)*(1/127),i=(r[J+1]-128)*(1/127),e=m,X=i,$=D==0?.51:.49,O=a==0?.51:.49;
for(var l=0;l<2;l++){var T=D+$,b=a+O,R=0;while(R<B){if(T<.5||S-.5<T||b<.5||z-.5<b)break;var w=~~T,F=~~b,L=F*S+w,x=L*4,g=(r[x]-128)*(1/127),n=(r[x+1]-128)*(1/127);
if(g*e+n*X<0){g=-g;n=-n}e=g;X=n;T+=p*g;b+=p*n;if(T<.5||S-.5<T||b<.5||z-.5<b)break;var h=~~T,_=~~b,H=_*S+h<<2;
R+=p;var G=t[~~R];q.P.fa(T,b,s,S,z,f);Q+=f[0]*G;M+=f[1]*G;u+=f[2]*G;P+=f[3]*G;Z+=G}e=-m;X=-i}var j=1/Z;
N[J]=~~(.5+Q*j);N[J+1]=~~(.5+M*j);N[J+2]=~~(.5+u*j);N[J+3]=~~(.5+P*j)}}};q.YX.a6p=function(s,N,r,S,z){for(var A=0;
A<N;A++)for(var B=0;B<s;B++){var Y=A*s+B<<2,t=1+q.YX.a9y(B,A,r,s,N,S)*z;r[Y]=Math.max(0,Math.min(255,r[Y]*t));
r[Y+1]=Math.max(0,Math.min(255,r[Y+1]*t));r[Y+2]=Math.max(0,Math.min(255,r[Y+2]*t))}};q.YX.a9y=function(s,N,r,S,z,A){var B=r[(N*S+Math.max(0,s-1))*4+3],Y=r[(N*S+Math.min(S-1,s+1))*4+3],t=r[(Math.max(0,N-1)*S+s)*4+3],p=r[(Math.min(z-1,N+1)*S+s)*4+3],f=.7,a=(Y-B)*(1/255),D=.7,c=(p-t)*(1/255),J=-a*D,Z=-f*c,Q=f*D,M=Math.sqrt(J*J+Z*Z+Q*Q),u=1/M,P=J*u,m=Z*u,i=Q*u,e=A[0]*P+A[1]*m+A[2]*i;
return e};q.YX.b7=function(s,N,r,S,z){function A(Y,p,f){return Math.max(p,Math.min(f,Y))}for(var B=0;
B<z;B++)for(var Y=0;Y<S;Y++){var t=q.YX.aan(Y+.5,B+.5,s,N);r[(B*S+Y)*4+3]=Math.max(0,Math.min(255,t*255))}};
q.YX.aan=function(s,N,r,S){function z(X,$,O){return(1-O)*X+O*$}var A=(s+613)*r,B=(N+117)*r,Y=~~A,t=~~B,p=A-Y,f=B-t,a=Math.sin(11),D=Math.cos(Y)*a,c=Math.cos(Y+1)*a,J=Math.cos(t)*a,Z=Math.cos(t+1)*a,i3=q.YX.hash(D,J),Q=q.YX.hash(c,J),M=q.YX.hash(D,Z),u=q.YX.hash(c,Z),P=z(i3,Q,p),m=z(M,u,p),i=z(P,m,f);
i=i<.5?0:1;var e=i+S*q.YX.hash(Math.cos(A)*a,Math.cos(B)*a);return e*(1/3)};q.YX.hash=function(s,N){var r=Math.sin(s*11.697096+N*73.32456)*12157.47691;
return r-Math.floor(r)};q.YX.a6i=function(s,N,r,S){var z=[-1,0,1,-2,0,2,-1,0,1],A=[-1,-2,-1,0,0,0,1,2,1],B=N-1,Y=r-1,t=N*4;
for(var p=1;p<Y;p++)for(var f=1;f<B;f++){var l=p*N+f,a=l*4,D=q.YX.yT(s,a,t,z),c=q.YX.yT(s,a,t,A),J=q.YX.yT(s,a+1,t,z),Z=q.YX.yT(s,a+1,t,A),Q=q.YX.yT(s,a+2,t,z),M=q.YX.yT(s,a+2,t,A);
S[a]=D*D+J*J+Q*Q;S[a+1]=D*c+J*Z+Q*M;S[a+2]=c*c+Z*Z+M*M}q.YX.a0T(S,N,r)};q.YX.yT=function(s,N,r,S){return s[N-r-4]*S[0]+s[N-r]*S[1]+s[N-r+4]*S[2]+s[N-4]*S[3]+s[N]*S[4]+s[N+4]*S[5]+s[N+r-4]*S[6]+s[N+r]*S[7]+s[N+r+4]*S[8]};
q.YX.a0T=function(s,N,r){function S(t,l,p){var f=l*4,a=p*4;t[a]=t[f];t[a+1]=t[f+1];t[a+2]=t[f+2]}var z=N-1,A=r-1;
S(s,N+1,0);S(s,2*N-2,N-1);for(var B=1;B<z;B++)S(s,N+B,B);for(var Y=1;Y<A;Y++){S(s,Y*N+1,Y*N);S(s,Y*N+N-2,Y*N+N-1)}for(var B=1;
B<z;B++)S(s,(r-2)*N+B,(r-1)*N+B);S(s,(Y-2)*N+1,(Y-1)*N);S(s,(Y-1)*N-2,Y*N-1)};q.i$=function(){function s(p,f,a,D){var c=new Float32Array(p*p),J=p/2;
for(var Z=0;Z<p;Z++)for(var Q=0;Q<p;Q++){var M=Q+a-J,u=Z+D-J;c[Z*p+Q]=Math.max(0,Math.min(1,f+.5-Math.sqrt(M*M+u*u)))}return c}var N=[],S=null;
function r(p,f,a,D){var c=Math.floor(f*10),J=N[c],Z=p*8,Q=Z>>>1;if(J==null){J=N[c]=[];var M=new hq(0,0,Z,Z),u=p/2/(1+.2*f),P=Math.floor(p*c*.1);
for(var m=0;m<2;m++)for(var i=0;i<2;i++){var e=s(Z,u,.25+i*.5,.25+m*.5),X=0;q.W9.Hn(e,e,M,P);while(e[Z*Q+X]<.005)X++;
if(X!=0)X--;var $=2*(Q-X),O=new hq(X,X,$,$),T=new Float32Array($*$);for(var b=0;b<$;b++)for(var R=0;
R<$;R++)T[b*$+R]=e[(X+b)*Z+X+R];J.push([T,O])}}var w=Math.floor(a),F=Math.floor(D),L=a-w,x=D-F,g=L<.5?1:0,n=x<.5?1:0;
J=J[n*2+g];var O=J[1].clone();O.x+=w-Q;O.y+=F-Q;return[J[0],O]}function z(p,f,a){if(S==null){S=new Uint8Array(4e4);
for(var l=0;l<4e4;l++)S[l]=Math.min(255,~~(.5+255*q.Fb(l*(1/255))))}var D=p.length;for(var l=0;l<D;l++){var c=p[l],J=~~(255*c);
f[l]=S[J]<<24|a}}function A(p,f,a,D,c){var J=f.PS(D),Z=Math.max(0,J.x-f.x),Q=Math.max(0,J.x-D.x),M=Math.max(0,J.y-f.y),u=Math.max(0,J.y-D.y),P=J.G,m=J.n;
for(var l=0;l<m;l++){var i=(M+l)*f.G+Z,e=(u+l)*D.G+Q;for(var X=0;X<P;X++){a[e+X]+=c*p[i+X]}}}var B=-1;
function Y(p,f,a,D,c){var J=Math.round(D[1]*f*a*.01),Z=D[2],Q=D[3],M=D[4],u=D[5],P=D[6],m=D[7],i=D[8],e=D[9],X=D[10]?D[10]:1,G=!1;
if(Z!=B){N=[];B=Z}var $=Date.now(),O=new hq(0,0,f,a),T=new t(D[0]);if(c)p.fill(0);var b=new Float32Array(c?p.buffer:f*a);
for(var l=0;l<J;l++){var R=T.get()*f,w=T.get()*a,F=T.get()*Q,L=T.get()*Z*4,x=(T.get()+P)*Math.PI*2,g=T.get()*Z*4,n=(T.get()+2*P)*Math.PI*2;
R+=e*(L*Math.cos(x)+g*Math.cos(n));w+=e*(L*Math.sin(x)+g*Math.sin(n));if(i)w=w+P*a*X;var h=r(Z,F,R,w%a),_=M,H=T.get();
if(m)_=.5+.5*M*(.5+.5*Math.sin((2*P+H)*2*Math.PI));A(h[0],h[1],b,O,_)}if(G)console.log(Date.now()-$,"add floats");
$=Date.now();var j=new Uint8Array(b.buffer);z(b,new Uint32Array(j.buffer),u.U<<16|u.A<<8|u.w);if(G)console.log(Date.now()-$,"toInt");
$=Date.now();if(!c){q.Q.VP("scrn",j,O,p,O,O,1);if(G)console.log(Date.now()-$,"blendOver")}}function t(p){this.I0=123456789;
this.UF=987654321;this.B=4294967295;this.NE(p)}t.prototype.NE=function(l){this.I0=123456789+l&this.B;
this.UF=987654321-l&this.B};t.prototype.get=function(){this.UF=36969*(this.UF&65535)+(this.UF>>16)&this.B;
this.I0=18e3*(this.I0&65535)+(this.I0>>16)&this.B;var p=(this.UF<<16)+(this.I0&65535)>>>0;p/=4294967296;
return p};return{uf:Y}}();q.q9={};q.q9._I=function(s,N,r,S){var z=s[N*2],A=s[N*2+1],B=s[r*2],Y=s[r*2+1],t=s[S*2],p=s[S*2+1];
return z*Y+B*p+t*A-t*Y-B*A-z*p};q.q9.RM=function(s,N){var r=[],S=[],z=[],A={};for(var l=0;l<N.length;
l+=3){var B=~~(l*(1/3)),Y=N[l+0],t=N[l+1],p=N[l+2],f=q.q9._I(s,Y,t,p);if(f>0){var a=t;t=p;p=a}var D=A[p+"-"+t],c=A[t+"-"+Y],J=A[Y+"-"+p],Z=[p,D,B,null],M=[t,c,B,Z],u=[Y,J,B,M];
Z[3]=u;if(D)D[1]=Z;if(c)c[1]=M;if(J)J[1]=u;A[p+"-"+Y]=u;A[Y+"-"+t]=M;A[t+"-"+p]=Z;r[Y]=M;z[l]=M;r[t]=Z;
z[l+1]=Z;r[p]=u;z[l+2]=u;S[B]=M}return{iR:r,Tx:S,IF:z}};q.q9.aoJ=function(s){var N=[],r=s.Tx;for(var l=0;
l<r.length;l++){var S=r[l];N.push(S[0]);S=S[3];N.push(S[0]);S=S[3];N.push(S[0])}return N};q.q9.anZ=function(s,N,r,S){var z=s[N*2],A=s[N*2+1],B=s[r*2],Y=s[r*2+1],t=s[S*2],p=s[S*2+1],f=B-z,a=Y-A,D=t-z,c=p-A,J=f*(z+B)+a*(A+Y),Z=D*(z+t)+c*(A+p),Q=2*(f*(p-Y)-a*(t-B));
if(Math.abs(Q)<1e-5){var M=Math.min(z,B,t),u=Math.min(A,Y,p),P=(Math.max(z,B,t)-M)*.5,m=(Math.max(A,Y,p)-u)*.5;
return[M+P,u+m,P*P+m*m,1]}var i=(c*J-a*Z)/Q,e=(f*Z-D*J)/Q,P=i-z,m=e-A;return[i,e,P*P+m*m,0]};q.q9.ac0=function(s,N,r){var S=r[1],z=r[3],A=z[3],B=S[3],Y=B[3],t=r[2],p=S[2],f=r[0],a=S[0],D=z[0],c=B[0],J=q.q9.anZ(s,a,c,D),Z=s[f*2]-J[0],Q=s[f*2+1]-J[1],M=Z*Z+Q*Q>J[2]&&J[3]==0&&q.q9._I(s,c,f,D)<0&&q.q9._I(s,D,a,c)<0;
if(M){r[0]=D;S[0]=c;r[3]=A;A[3]=B;B[3]=r;S[3]=Y;Y[3]=z;z[3]=S;z[2]=p;B[2]=t;N.Tx[p]=Y;N.Tx[t]=A;N.iR[a]=B;
N.iR[f]=z}return M};q.q9.asZ=function(s,N,r){var S=s[N*2]-s[r*2],z=s[N*2+1]-s[r*2+1];return Math.sqrt(S*S+z*z)};
q.q9.ant=function(s,N,r){var S=r[1],z=r[3],A=z[3],B,Y,t=r[2],p,f=r[0],a=A[0],D=z[0],c;if(S){B=S[3];Y=B[3];
p=S[2];c=B[0]}var J=s.length>>>1;s[2*J]=(s[2*a]+s[2*f])*.5;s[2*J+1]=(s[2*a+1]+s[2*f+1])*.5;if(!0){var Z=t,Q=r,M=N.Tx.length,u=[J,null,Z,Q],P=[D,u,M,A];
u[1]=P;var m=[J,null,M,P];z[3]=u;A[3]=m;A[2]=M;N.Tx[Z]=z;N.Tx[M]=m;N.iR[f]=z;N.iR[D]=A;N.IF.push(u,P,m)}if(S){var i=p,e=S,X=M+1;
m[1]=e,e[1]=m;var $=[J,null,i,e],O=[c,$,X,Y];$[1]=O;var T=[J,Q,X,O];Q[1]=T;B[3]=$;Y[3]=T;Y[2]=X;N.Tx[i]=B;
N.Tx[X]=Y;N.iR[a]=B;N.iR[c]=Y;N.IF.push($,O,T)}N.iR[J]=Q};q.q9.sN=function(s,N){var r=0;while(!0){var S=r;
for(var l=0;l<N.IF.length;l++){var z=N.IF[l];if(z[1]==null)continue;var A=q.q9.ac0(s,N,z);if(A){r++;
break}}if(S==r)break}return r!=0};q.q9.arj=function(s,N,r,S){var z=0;for(var l=0;l<S;l++){var A=null,B=0;
for(var Y=0;Y<N.IF.length;Y++){var t=N.IF[Y],p=q.q9.asZ(s,t[0],t[3][3][0])*(t[1]?1:2);if(p>B){A=t;B=p}}if(B>r){q.q9.ant(s,N,A);
z++}}return z!=0};q.q9.arC=function(s,N){var r=[],c=0;for(var l=0;l<s.length;l++)r.push(0);for(var l=0;
l<N.IF.length;l++){var S=N.IF[l],z=S[0],A=S[3][3][0],B=s[z*2],Y=s[z*2+1],p=s[A*2],f=s[A*2+1],a=B-p,D=Y-f;
r[z*2]+=-a;r[z*2+1]+=-D;r[A*2]+=a;r[A*2+1]+=D}for(var l=0;l<s.length;l+=2){var J=l>>>1,Z=N.iR[J],S=Z,Q=!0;
do{if(S[1]==null){Q=!1;break}S=S[1][3]}while(S!=Z);if(Q){var M=.02;s[l]+=M*r[l];s[l+1]+=M*r[l+1];c+=M*(r[l]*r[l]+r[l+1]*r[l+1])}}return c};
q.q9.a6y=function(s,N,r){var S=q.g.OH(s),z=q.q9.RM(s,N);q.q9.sN(s,z);for(var A=0;A<300;A++){var B=!1,Y=!1;
B=q.q9.arj(s,z,r,5);if(B)Y=q.q9.sN(s,z);var t=q.q9.arC(s,z);if(!B&&!Y&&t<1e-4){break}}return q.q9.aoJ(z)};
q.$m={};q.$m.wk=function(s){var N=s.G7,r=s.va,S=s.IK,z=s.QC,A=s.L2,B=s.Lc,Y=s.B7,t=q.lO.j6,u,P,m=0;function p(i3){var i4=new Array(i3);
for(var l=0;l<i3;l++)i4[l]=0;return i4}var f=r.length>>>1,a=p(N.HP*2),D=p(N.HP),c=p(N.HP),J=Date.now();
for(var l=0;l<s.po.length;l++){var Z=N.a6e+l,Q=N.s7*(B[l*2]+Y[l*2]),M=N.s7*(B[l*2+1]+Y[l*2+1]);a[Z*2]=Q;
a[Z*2+1]=M;D[Z]=Q;c[Z]=M}N.atw.Sl(z,N.a1t.j6(a),.01,u,P);for(var l=0;l<N.ahL.IF.length;l++){var i=N.ahL.IF[l],e=i[3][3][0],X=i[0],$=i[3][0],O=i[1]?i[1][3][0]:$;
if(i[1]&&e>X)continue;var T=r[e*2],b=r[e*2+1],R=r[X*2],w=r[X*2+1],F=z[e*2],L=z[e*2+1],x=z[X*2],g=z[X*2+1],n=z[$*2],h=z[$*2+1],_=z[O*2],H=z[O*2+1],G=[F,L,x,g,n,h];
if(i[1])G.push(_,H);var j=t(N.a6s[m],G),v=j[0],C=j[1],E=1/Math.sqrt(v*v+C*C);v*=E;C*=E;var I=R-T,dJ=w-b;
D[m]=v*I+C*dJ;c[m]=-C*I+v*dJ;m++}var fG=new Array(f),o=new Array(f);for(var l=0;l<f;l++){fG[l]=A[l*2];
o[l]=A[l*2+1]}N.ap_.Sl(fG,N.avZ.j6(D),.5);N.ap_.Sl(o,N.avZ.j6(c),.5);for(var l=0;l<f;l++){A[l*2]=fG[l];
A[l*2+1]=o[l]}};q.$m.mv=function(s){var N=s.va,r=s.IK,S=s.po,z=q.lO.multiply,A=Date.now(),B=q.q9.RM(N,r),Y=N.length>>>1,t=0,J=0,C=1e3;
for(var l=0;l<B.IF.length;l++)t+=B.IF[l][1]?.5:1;var p=t+S.length,f=[],a=new q.tL(p*2,Y*2),D=new q.tL(p,Y),c=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],Z=[],Q=[];
for(var l=0;l<B.IF.length;l++){var M=B.IF[l],u=M[3][3][0],P=M[0],m=M[3][0],i=M[1]?M[1][3][0]:m;if(M[1]&&u>P)continue;
var e=N[u*2],X=N[u*2+1],$=N[P*2],O=N[P*2+1],T=N[m*2],b=N[m*2+1],R=N[i*2],w=N[i*2+1],F=[[e,X,1,0],[X,-e,0,1],[$,O,1,0],[O,-$,0,1],[T,b,1,0],[b,-T,0,1]];
if(M[1])F.push([R,w,1,0],[w,-R,0,1]);var L=q.lO.yZ(F),x=z(linear.invert(z(L,F)),L);x.pop();x.pop();f.push(x);
var g=$-e,n=O-X,h=c[M[1]?1:0];h=q.lO.lA(h,z([[g,n],[n,-g]],x));var _=[u*2,u*2+1,P*2,P*2+1,m*2,m*2+1,i*2,i*2+1],H=M[1]?8:6,G=[];
for(var j=0;j<H;j++)G.push([_[j],h[0][j],h[1][j]]);G.sort(function(i4,df){return i4[0]-df[0]});for(var v=0;
v<2;v++){for(var j=0;j<H;j++){Z[j]=G[j][0];Q[j]=G[j][1+v]}a.xf(Q,Z,H)}if(u<P)D.xf([-1,1],[u,P],2);else D.xf([1,-1],[P,u],2);
J++}for(var l=0;l<S.length;l++){var E=S[l];a.xf([C],[E*2],1);a.xf([C],[E*2+1],1);D.xf([C],[E],1)}var I=a.yZ(),dJ=I.NZ(I),fG=D.yZ(),o=fG.NZ(fG);
return{a6e:t,HP:p,a1t:I,atw:dJ,avZ:fG,ap_:o,ahL:B,a6s:f,s7:C}};q.$m.a5T=function(s,N,r,S,z){var A=new hq(0,0,N,r),B=q.m(A.$());
q.WZ(s,B,3);q.round(B,70);var Y=q.af(B,A),t=[.1,.065,.035][S]*Math.max(Y.G,Y.n),p=z+1,f=N+p*2,a=r+p*2,D=new hq(-p,-p,f,a),c=q.m(D.$());
q.lf(B,A,c,D);var J=c.slice(0);for(var Z=0;Z<z;Z++){for(var Q=1;Q<a-1;Q++){for(var M=1;M<f-1;M++){var l=Q*f+M;
J[l]=c[l-f]|c[l-1]|c[l]|c[l+1]|c[l+f]}}var u=J;J=c;c=u}var P=ae.ue(c,f,a,Math.round(Y.$()*5e-4)),m=ae.Ly(P),i=new gF(1,0,0,1,-p,-p);
for(var l=0;l<m.length;l++){var e=m[l];q.g.D(e.path.v,i,e.path.v);e.va=q.$m.atI(e.path);e.IK=q.g.asv(e.va);
e.IK=q.q9.a6y(e.va,e.IK,t)}return m};q.$m.atI=function(s){var N=[],r=s.v,S=s.F.length-1,z=0,A=0;for(var B=0;
B<S;B++){var l=B*6,Y=r[l+6]-r[l+0],t=r[l+7]-r[l+1],p=Math.ceil(Math.sqrt(Y*Y+t*t));for(var f=0;f<p;f++){var a=f/p,D=1-a,c=D*D*D*r[l+0]+3*D*D*a*r[l+2]+3*D*a*a*r[l+4]+a*a*a*r[l+6],J=D*D*D*r[l+1]+3*D*D*a*r[l+3]+3*D*a*a*r[l+5]+a*a*a*r[l+7];
N.push(c,J);z=c;A=J}}N=q.g.nn(N,1);var Z=[],Q=N.length;for(var l=0;l<Q;l+=2){var J=N.pop(),c=N.pop();
Z.push(c,J)}return Z};q.$m.a7d=function(s,N,r,S){function z($,O,T,b,R){var w=R[$*2]-R[O*2],F=R[$*2+1]-R[O*2+1],L=Math.sqrt(w*w+F*F);
if(T[$].indexOf(O)==-1){T[$].push(O);b[$].push(L)}if(T[O].indexOf($)==-1){T[O].push($);b[O].push(L)}}var A=s.length>>>1,B=new Array(A);
if(r.length==0){B.fill(0);return B}var Y=new Array(A),t=new Array(A);for(var l=0;l<A;l++){Y[l]=[];t[l]=[]}for(var l=0;
l<N.length;l+=3){z(N[l],N[l+1],Y,t,s);z(N[l],N[l+2],Y,t,s);z(N[l+1],N[l+2],Y,t,s)}var p=new Float64Array(A*2),f=new Uint32Array(A*2);
p.fill(1e9);var a=new Uint8Array(A);for(var D=0;D<r.length;D++){a.fill(0);var c=["---",[0,r[D]]];while(c.length!=1){var J=q.Xe.Ao(c),Z=J[0],Q=J[1];
if(a[Q]==1)continue;var M=Q<<1;if(Z<p[M]){p[M+1]=p[M];f[M+1]=f[M];p[M]=Z;f[M]=D}else if(Z<p[M+1]){p[M+1]=Z;
f[M+1]=D}a[Q]=1;var u=Y[Q],P=t[Q];for(var l=0;l<u.length;l++){var m=u[l];if(a[m]!=1){q.Xe.HL(c,[Z+P[l],m])}}}}for(var l=0;
l<A;l++){var M=l<<1,i=p[M],e=p[M+1],X=1/(i+e);B[l]=(1-i*X)*S[f[M]]+(1-e*X)*S[f[M+1]]}return B};q.$m.a9T=function(s){var N={F:[],v:[]},r=[s];
while(r.length!=0){var S=r.pop(),z=S.CS;if(S.an4 instanceof Array||S.acv instanceof Array){N.F.push("M","L","L","L","Z");
N.v.push(z[0],z[1],z[2],z[1],z[2],z[3],z[0],z[3])}else r.push(S.an4,S.acv)}return N};q.$m.Ow=function(s,N,r,S,z,A,B,Y,t,p){var f=Math.round(p.length/3),a=new Array(f);
for(var l=0;l<f;l++)a[l]=l;a.sort(function(c,J){return t[p[c*3]]-t[p[J*3]]});for(var l=0;l<f;l++){var D=a[l]*3;
q.$m.adX(p[D]*2,p[D+1]*2,p[D+2]*2,B,Y,s,N,r,S,z,A)}};q.$m.adX=function(s,N,r,S,z,A,B,Y,t,p,f){var a=q.$m.kR,D=[s,N,r,1.2,1.2,1.2,0],c=[0,0,0,0],J=z[s],Z=z[s+1],Q=z[N],M=z[N+1],u=z[r],P=z[r+1],m=Math.max(0,Math.min(B-1,S[s])),i=Math.max(0,Math.min(B-1,S[N])),e=Math.max(0,Math.min(B-1,S[r])),X=Math.max(0,Math.min(Y-1,S[s+1])),$=Math.max(0,Math.min(Y-1,S[N+1])),O=Math.max(0,Math.min(Y-1,S[r+1])),T=Q-J,b=M-Z,R=u-J,w=P-Z,F=1/(T*w-R*b+1e-9),L=Math.max(0,Math.floor(Math.min(J,Q,u))),x=Math.min(p,Math.ceil(Math.max(J,Q,u))),g=Math.max(0,Math.floor(Math.min(Z,M,P))),n=Math.min(f,Math.ceil(Math.max(Z,M,P)));
for(var h=g;h<n;h++)for(var _=L;_<x;_++){var H=_+.5-J,G=h+.5-Z,j=(H*w-R*G)*F,v=(T*G-H*b)*F;if(j>=0&&v>=0&&j+v<=1){var C=1-j-v,E=m*C+i*j+e*v,I=X*C+$*j+O*v;
q.P.fa(E,I,A,B,Y,c);q.$m.ajO(c,t,h*p+_<<2)}}};q.$m.ajO=function(s,N,r){var S=N[r],z=N[r+1],A=N[r+2],B=N[r+3],Y=1-s[3]*(1/255);
N[r]=~~(.5+s[0]+S*Y);N[r+1]=~~(.5+s[1]+z*Y);N[r+2]=~~(.5+s[2]+A*Y);N[r+3]=~~(.5+s[3]+B*Y)};q.$m.kR=function(){var s=function(r,S,z,A){var B=A[0],Y=A[1],t=A[2],p=r[B+0],f=r[B+1],a=r[Y+0],D=r[Y+1],c=r[t+0],J=r[t+1],Z=a-p,Q=D-f,M=c-p,u=J-f,P=S-p,m=z-f,i=Z*u-M*Q,e=1/(i+1e-9),X=(P*u-M*m)*e,$=(Z*m-P*Q)*e;
if(X>=0&&$>=0&&X+$<=1){A[3]=1-X-$;A[4]=X;A[5]=$;return 1}return 0},N=function(r,S,z,A){var B=[0,0,0,0,0,0];
for(var l=0;l<S.length;l+=3){B[0]=S[l]*2;B[1]=S[l+1]*2;B[2]=S[l+2]*2;if(s(r,z,A,B)==1)return!0}return!1};
return{a48:s,at3:N}}();q.o2={};q.o2.ab2=function(s,N,r){var S=q.m(N*r*4),z=!1;q.P.$B(s,N,r,S,[r,N,0,1,0,1,0,0]);
return[q.o2.R9(s,N,r,z),q.o2.R9(S,r,N,z)]};q.o2.D=function(s,N){var r=!1,S=s[0],z=s[1],A=S[1],B=S[2],Y=S[3],t=N.G,p=N.n;
if(B==t&&Y==p)A=A.slice(0);else if(Y!=p){var f=q.m(B*p*4);q.o2.vg(z,p,f,r);A=q.m(B*p*4);q.P.$B(f,p,B,A,[B,p,0,1,0,1,0,0]);
if(B!=t){S=q.o2.R9(A,B,p,r);A=q.m(t*p*4);q.o2.vg(S,t,A,r)}}else if(B!=t){A=q.m(t*Y*4);q.o2.vg(S,t,A,r)}return A};
q.o2.R9=function(s,N,r,S){var z=Date.now(),A=new Uint16Array(N*r),B=1;q.o2.awk(s,N,r,A);var Y=Math.ceil(N/B),t=new Uint32Array(B),p=new Uint32Array(B),Y=Math.floor(N/B);
for(var f=0;f<B;f++)p[f]=f<B-1?Y:N-(B-1)*Y;for(var a=0;a<r;a++){var l=a*N;for(var f=0;f<B;f++){var Y=p[f];
for(var D=0;D<Y;D++)t[f]+=A[l+D];l+=Y}}if(S){console.log(Date.now()-z,"cost");z=Date.now()}var c=new Uint32Array(N),J=new Uint32Array(N),Z=new Uint32Array(N*r);
for(var D=0;D<N;D++){Z[(r-1)*N+D]=A[(r-1)*N+D]}for(var a=r-2;a>=0;a--){var Q=a*N;for(var f=0;f<B;f++){var Y=p[f];
Z[Q]=A[Q]+Math.min(Z[Q+N],Z[Q+N+1]);for(var D=1;D<Y-1;D++){var l=Q+D;Z[l]=A[l]+Math.min(Z[l+N-1],Math.min(Z[l+N],Z[l+N+1]))}Q+=Y-1;
Z[Q]=A[Q]+Math.min(Z[Q+N-1],Z[Q+N]);Q++}}if(S){console.log(Date.now()-z,"Building M");z=Date.now()}function M(b,R){return b<R?b:R}function u(l,b){var R=J[l],w=Z[b],F=~~(R*w*1e-4);
return F}var P=new Uint8Array(N*r),m=new Uint32Array(N);for(var l=0;l<N;l++){c[l]=l;J[l]=A[l]}for(var a=1;
a<r;a++){var i=0,Q=a*N;for(var f=0;f<B;f++){var Y=p[f],l=Q;m[i]=u(i,l);var e=m[i]+u(i+1,l+1),X=u(i,l+1)+u(i+1,l);
m[i+1]=M(e,X);for(var D=2;D<Y;D++){var l=Q+D,$=m[i+D-1]+u(i+D-1,l-1),O=m[i+D-2]+u(i+D-1,l-2)+u(i+D-2,l-1);
m[i+D]=M($,O)}var D=Y-1;while(D>=2){var l=Q+D,$=m[i+D-1]+u(i+D-1,l-1),O=m[i+D-2]+u(i+D-1,l-2)+u(i+D-2,l-1);
if(m[i+D]==$){P[l-N]=1;D-=1}else{P[l-N]=0;P[l-N-1]=2;D-=2}}var l=Q;if(D==0){P[l-N]=1}else{if(m[i+1]==e){P[l+1-N]=1;
P[l-N]=1}else{P[l+1-N]=0;P[l-N]=2}}Q+=Y;i+=Y}q.o2.a08(a,N,P,A,c,J,!0,z)}if(S){console.log(Date.now()-z,"Matching");
z=Date.now()}var T=A;return[UZIP.adler(s,0,s.length),s,N,r,B,p,t,c,J,P,T]};q.o2.vg=function(s,N,r,S){var z=s.slice(0),A=z.shift(),B=z.shift(),Y=z.shift(),t=z.shift(),p=z.shift(),f=z.shift(),a=z.shift(),D=z.shift(),c=z.shift().slice(0),J=z.shift(),Z=z.shift(),Q=Date.now(),M=Math.abs(Y-N),u=Math.floor(M/p),P=new Uint32Array(p),i=0,e=1e9,$=0,O=0,T=0;
for(var m=0;m<p;m++)P[m]=m<p-1?u:M-(p-1)*u;Z.fill(0);for(var X=0;X<Y;X++){i=Math.max(i,c[X]);e=Math.min(e,c[X])}for(var m=0;
m<p;m++){var b=f[m],u=P[m];for(var R=0;R<u;R++){var w=0,F=1e9;for(var X=0;X<b;X++)if(c[O+X]<F){F=c[O+X];
w=O+X}if(N<Y)c[w]=1e9;else c[w]*=1.2;if(T<Y/3)$+=F;var L=D[w],x=Z[L],g=x<65280?65280:x+1;if(g<65280)throw"e";
for(var n=0;n<t;n++){var l=n*Y+L;Z[l]=g;L+=J[l]-1}T++}O+=b}if(S){console.log(Date.now()-Q,"Removing best seams");
Q=Date.now()}function h(l,H){var G=l<<2,j=H<<2;r[G]=B[j];r[G+1]=B[j+1];r[G+2]=B[j+2];r[G+3]=B[j+3]}for(var n=0;
n<t;n++){var _=0,l=n*Y;for(var X=0;X<N;X++,_++){if(N<Y){while(Z[l+_]==65280)_++;h(n*N+X,n*Y+_)}else{h(n*N+X,n*Y+_);
while(Z[l+_]>=65280){Z[l+_]--;X++;h(n*N+X,n*Y+_)}}}}if(S){console.log(Date.now()-Q,"Shifting image pixels");
Q=Date.now()}};q.o2.a08=function(s,N,r,S,z,A){var B=0,l=s*N;while(B<N){if(r[l-N]==1){A[B]=A[B]+S[l];
B++;l++}else{var Y=z[B];z[B]=z[B+1];z[B+1]=Y;var t=A[B];A[B]=A[B+1]+S[l];A[B+1]=t+S[l+1];B+=2;l+=2}}};
q.o2.awk=function(s,N,r,S){function z(s,l,t){var a=l<<2,D=t<<2,c=s[a]-s[D],J=s[a+1]-s[D+1],Z=s[a+2]-s[D+2];
return Math.abs(c)+Math.abs(J)+Math.abs(Z)}for(var A=1;A<N;A++){var B=z(s,A,A-1);S[A-1]+=B;S[A]+=B}for(var Y=1;
Y<r;Y++){var t=Y*N,B=z(s,t,t-N);S[t]+=B;S[t-N]+=B;for(var A=1;A<N;A++){var l=Y*N+A,p=z(s,l,l-1),f=z(s,l,l-N);
S[l-N]+=f;S[l-1]+=p;S[l]+=f+p}}for(var Y=0;Y<r;Y++){S[Y*N]*=2;S[Y*N+N-1]*=2}for(var l=0;l<S.length;l++)if(S[l]==0)S[l]=1};
q.Ug=function(){var s=0,N=0,S=15,A=256;function r(f,a,D,c,J,Z){var Q=(J-1)*a,M=Z*a;return f[M+c]-f[M+D-1]-f[Q+c]+f[Q+D-1]}var z=Math.round(S/8),B=[];
function Y(f,a){for(var D=0;D<a.length;D++){var c=a[D],J=0,Z=0,Q=f[c.A3],M=Q.O0,u=Q.s7,P=Q.JY;for(var m=-S;
m<=S;m++)for(var i=-S;i<=S;i++){var e=i+c.a6b,X=m+c.ag0;if(i*i+m*m>S*S||e<0||X<0||e>=u||X>=u)continue;
var $=M[X*u+e];J+=i*$;Z+=m*$}c.mO=Math.atan2(Z,J)}}function t(f,a,D,c,J){var Z=~~(f+.5),Q=~~(a+.5);return r(D,c,Z-z,Z+z,Q-z,Q+z)}function p(f,a,D,c,J){s=c;
N=J;if(B.length==0){var Z=new q.Q.NJ(16200817),P=8,m=0;function Q(i4){var T=i4[0]-i4[2],b=i4[1]-i4[3];
return T*T+b*b}function M(){var i4=0,df=0;while(i4===0)i4=Z.get();while(df===0)df=Z.get();return Math.sqrt(-2*Math.log(i4))*Math.cos(2*Math.PI*df)}var u=M,i=[];
while(m!=A){var e=Math.max(-S,Math.min(S,u()*P)),X=Math.max(-S,Math.min(S,u()*P)),$=Math.max(-S,Math.min(S,u()*P)),O=Math.max(-S,Math.min(S,u()*P)),T=e-$,b=X-O,R=Math.sqrt(T*T+b*b);
if(R<3||R>12)continue;B.push(e,X,$,O);m++}}var w=20;for(var F=0;F<a.length;F++){var L=a[F],x=f[L.A3],g=x.S7,D=x.O0,c=x.s7,J=x.JY,n=L.a6b,h=L.ag0,_=L.mO,H=Math.cos(_),G=Math.sin(_),j=new Uint8Array(A>>>3);
L.wz=j;for(var l=0;l<A;l++){var v=l*4,e=B[v+0],X=B[v+1],$=B[v+2],O=B[v+3],C=H*e-G*X,E=G*e+H*X,I=H*$-G*O,dJ=G*$+H*O,fG=t(n+C,h+E,g,c,J),o=t(n+I,h+dJ,g,c,J);
j[l>>>3]|=(fG<o?0:1)<<(l&7)}}}return{a0_:Y,a6L:p}}();q.a1N=function(){function s(N,r){var S=[[9]],z=Date.now(),A=[];
for(var B=0;B<N.length;B++){var Y=N[B],t=Y.S7,p=Y.s7,f=Y.JY,c=9,P=1,L=24;if(t==null)continue;var a=new Float32Array(p*f),D=new Uint8Array(p*f),J=c>>>1,Z=J>>>1,Q=Math.round(c/3);
if(Q!=c/3)throw"e";var M=1/(c*c),u=1.2*(c/9);for(var m=J+1;m<f-J;m+=P)for(var i=J+1;i<p-J;i+=P){var e=q.wc(t,p,i-Z,i+Z,m-J,m+J)-3*q.wc(t,p,i-Z,i+Z,m-J+Q,m+J-Q),X=q.wc(t,p,i-J,i+J,m-Z,m+Z)-3*q.wc(t,p,i-J+Q,i+J-Q,m-Z,m+Z),$=i-J+1,O=i+J-1,T=m-J+1,b=m+J-1,R=q.wc(t,p,$,i-1,T,m-1)+q.wc(t,p,i+1,O,m+1,b)-q.wc(t,p,i+1,O,T,m-1)-q.wc(t,p,$,i-1,m+1,b),w=(X*e-.9*R*(.9*R))*(M*M);
a[m*p+i]=Math.abs(w);D[m*p+i]=w<0?0:1}var F=p*P;for(var m=L;m<f-L;m+=P)for(var i=L;i<p-L;i+=P){var l=m*p+i,x=a[l];
if(x<16)continue;if(a[l-P]>=x||a[l+P]>=x)continue;if(a[l-F-P]>=x||a[l-F]>=x||a[l-F+P]>=x)continue;if(a[l+F-P]>=x||a[l+F]>=x||a[l+F+P]>=x)continue;
A.push({x:~~(i*Y.W1+.5),y:~~(m*Y.W1+.5),a6b:i,ag0:m,A3:B,h:x,abY:D[l],D7:u})}}if(r!=null){A.sort(function(v,C){return C.h-v.h});
A=A.slice(0,r)}return A;var g=[];for(var l=0;l<A.length;l++){var n=!0,h=A[l];for(var _=0;_<A.length;
_++){var H=A[_];if(_!=l&&H.h>h.h&&(H.A3==h.A3+1||H.A3==h.A3-1)){var G=h.x-H.x,j=h.y-H.y;if(G*G+j*j<5){n=!1;
break}}}if(n)g.push(h)}console.log(A.length,g.length);return g}return{aq0:s}}();q.fe={};q.fe.aqZ=function(s){var N=s.length,r=q.fe.Eo(s,!1),z=0,A=1;
throw"e";var S=[];for(var l=0;l<N;l++)S[l]=q.fe.E_(r[l]);var B=s[0][1],Y=q.fe.match(r[z],r[A],S[A]);
console.log(Y.length);var t=Math.max(Math.min(Y.length,40),Y.length*.54);t=Math.min(t,200);var p=Y.slice(0,t),f=q.at.adN(r[z],r[A],p,B.G,B.n),a=q.at.a4G(f,[0,0,0],1),D=B.G/2,c=B.n/2,J=1/Math.max(D,c);
for(var l=0;l<1;l++){var Z=p[l],Q=r[z][Z[0]],M=r[A][Z[1]],u=q.at.avY(a,J*(Q.x-D),J*(Q.y-c),J*(M.x-D),J*(M.y-c))}var P=q.at.a8u(f,B),m=[];
for(var l=0;l<2;l++){var i=P[l],e=[i[0][0],i[0][1],i[0][2],i[1][0],i[1][1],i[1][2],i[2][0],i[2][1]],X=K.S.Vy(s[l],null,e);
m.push([X.buffer,X.rect])}return[q.fe.atq(m[0],m[1],r[z],r[A],p,f,P,B)]};q.fe.L0=function(s,N){var r=s.length,S=!1,z=Date.now(),A=q.fe.Eo(s,!1,1e4);
if(S)console.log("Descriptors ready",Date.now()-z);z=Date.now();for(var l=0;l<r;l++){var B=s[l][1];for(var Y=0;
Y<A[l].length;Y++){A[l][Y].x+=B.x;A[l][Y].y+=B.y}}if(S)console.log("shifted",Date.now()-z);z=Date.now();
var t=[];for(var l=0;l<r;l++)t[l]=q.fe.E_(A[l]);if(S)console.log("trees built",Date.now()-z);z=Date.now();
var p=[];for(var l=0;l<r-1;l++)for(var Y=l+1;Y<r;Y++){var f=q.fe.match(A[l],A[Y],t[Y]);if(S)console.log("Matches found",l,Y,f.length);
f=f.slice(0,f.length>>>1);if(f.length<10)return null;var a=q.fe.aeS(A[l],A[Y],f,2);p.push([l,Y,f,a])}p.sort(function(O,T){return T[2].length-O[2].length});
if(S)console.log("Matches found",Date.now()-z);z=Date.now();var D=[],c=new UnionFind(r);for(var l=0;
l<p.length;l++){var J=p[l],Z=c.find(J[0]),Q=c.find(J[1]);if(Z!=Q){D.push(J);c.link(Z,Q)}}var M=[];for(var l=0;
l<r;l++)M[l]=[1,0,0,0,1,0,0,0];var u=[0],P=new Uint8Array(r);P[u[0]]=1;while(u.length!=0){var Q=u.pop(),a=M[Q],m=[];
for(var l=0;l<D.length;l++){var J=D[l],i=J[0],e=J[1];if(i==Q&&P[e]==0){M[e]=q.P.kU(a,J[3]);u.push(e);
P[e]=1}if(e==Q&&P[i]==0){M[i]=q.P.kU(a,q.P.dm(J[3]));u.push(i);P[i]=1}}}if(N==null){var X=[];for(var l=0;
l<r;l++)X.push([M[l][2],l]);X.sort(function(O,T){return O[0]-T[0]});N=X[X.length>>>1][1]}var $=q.P.dm(M[N]);
for(var l=0;l<r;l++)M[l]=q.P.kU(M[l],$);if(S)console.log("Transforms reordered",Date.now()-z);z=Date.now();
return M};q.fe.Eo=function(s,N,r){var S=[],z=!1;for(var l=0;l<s.length;l++){var A=s[l][0],B=s[l][1],Y=B.G,t=B.n,p=q.m(B.$());
q.I_(A,p);var f=Date.now(),a=q.fe.anM(p,B,!0);if(z)console.log("Pyramid built ---------------",Date.now()-f);
f=Date.now();var D=q.a1N.aq0(a,r);if(z)console.log("SURF Generation",Date.now()-f);f=Date.now();if(!N){q.Ug.a0_(a,D);
if(z)console.log("ORB Orientations",Date.now()-f);f=Date.now();q.Ug.a6L(a,D,p,Y,t);if(z)console.log("ORB Descriptors",Date.now()-f);
f=Date.now()}S.push(D)}return S};q.fe.anM=function(s,N,r){var S=[],z=[s,N];q.uq(z);if(r){var A=q.qq(s,N),B=A.rect,Y=[A.sB,B];
q.uq(Y)}for(var l=0;l<z.length;l++){var t=z[2*l],p=z[2*l+1],f=p.G,a=p.n,D=Math.min(f,a);if(D<30)break;
if(D<1600)S.push({O0:t,s7:f,JY:a,W1:1<<l,S7:q.Hr(t,f,a)});if(!r)continue;var t=Y[2*l],p=Y[2*l+1],f=p.G,a=p.n,D=Math.min(f,a);
if(D<30)break;if(D<1600)S.push({O0:t,s7:f,JY:a,W1:(1<<l)*3/2,S7:q.Hr(t,f,a)})}return S};q.fe.aeS=function(s,N,r,S){var z=Date.now(),A,B=0,Y=0,t=r.length,p=new Float64Array(2);
for(var f=0;f<3e3;f++){var a=~~(Math.random()*t),D=~~(Math.random()*t),c=~~(Math.random()*t),J=~~(Math.random()*t),F=0,L=0;
if(a==D||a==c||a==J||D==c||D==J||c==J)continue;var Z=r[a],Q=r[D],M=r[c],u=r[J],P=s[Z[0]],m=N[Z[1]],i=s[Q[0]],e=N[Q[1]],X=s[M[0]],$=N[M[1]],O=s[u[0]],T=N[u[1]],b=[P.x,P.y,i.x,i.y,X.x,X.y,O.x,O.y],R=[m.x,m.y,e.x,e.y,$.x,$.y,T.x,T.y],w=q.P.eo(b,R);
if(w[0]==0&&w[1]==0&&w[3]==0&&w[4]==0)continue;var x=t-B+2;for(var l=0;l<t&&l-F<x;l++){var g=s[r[l][0]],n=N[r[l][1]];
q.P.oh(n.x,n.y,w,p);var h=p[0]-g.x,_=p[1]-g.y,H=h*h+_*_;if(H<S){F++;L+=H}}if(F>B||F==B&&L<Y){A=w;B=F;
Y=L}}return A};var hr=new Uint8Array(256);for(var l=0;l<256;l++){var dq=0,i3=l;while(i3!=0){i3=i3&i3-1;
dq++}hr[l]=dq}q.fe.avX=function(s,N,r){var S=0,z=s.length;for(var l=0;l<z&&S<r;l++)S+=hr[s[l]^N[l]];
return S};q.fe.agD=function(s,N,r,top,S){if(S[r]==1)return;var z=q.fe.avX(s.wz,N.wz,top[0]);if(z<top[0]){if(z<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=z;top[3]=r}else{top[0]=z;top[1]=r}}S[r]=1};q.fe.E_=function(s){var N=[],r=[],S=[[],[]],z=4;
for(var l=0;l<s.length;l++)(s[l].abY==0?N:r).push(l);for(var A=0;A<2;A++){var B=new Array(z),Y=[],t=A==0?N:r,p=t.length/256,f=[];
for(var a=0;a<32;a++){var D=new Array(256),Z=0;for(var c=0;c<256;c++)D[c]=[];for(var c=0;c<t.length;
c++){var J=t[c];D[s[J].wz[a]].push(J)}for(var c=0;c<256;c++)Z+=Math.abs(D[c].length-p);f.push([Z,a,D])}f.sort(function(Q,M){return Q[0]-M[0]});
var Y=[],B=[];S[A]=[Y,B];for(var l=0;l<z;l++){Y.push(f[l][1]);B.push(f[l][2])}}return S};q.fe.match=function(s,N,r){var S=[],z=new Uint16Array(N.length);
z.fill(65535);var A=new Uint8Array(N.length),top=new Uint32Array(4),B=[];for(var Y=0;Y<s.length;Y++){var t=s[Y],p=t.wz;
top.fill(1e6);A.fill(0);var f=r[t.abY];for(var a=0;a<f[1].length;a++){var D=f[1][a][p[f[0][a]]];for(var c=0;
c<D.length;c++){var J=D[c];q.fe.agD(t,N[J],J,top,A)}}if(top[2]<50&&top[2]<top[0]*.5){var Z=z[top[3]];
if(Z==65535){z[top[3]]=S.length;S.push([Y,top[3],top[2]])}else if(top[2]<S[Z][2]){S[Z]=[Y,top[3],top[2]]}}}S.sort(function(Q,M){return Q[2]-M[2]});
return S};q.fe.aiT=function(s){var N=new hq;for(var l=0;l<s.length;l++)N=N.Ms(s[l][1]);var r=q.m(N.$()*4);
for(var l=0;l<s.length;l++)q.Q.VP("norm",s[l][0],s[l][1],r,N,N,1);return[r,N]};q.fe.atq=function(s,N,r,S,z,A,B,Y){var t=s[1].clone(),p=t.clone();
t.x=t.y=0;var f=N[1].clone(),a=f.clone();f.x=f.y=0;f.x=t.G;var D=t.Ms(f),c=a.y-p.y,J=q.m(D.$()*4);q.LP(s[0],t,J,D);
q.LP(N[0],new hq(f.x,f.y+c,f.G,f.n),J,D);var Z=document.createElement("canvas");Z.width=D.G;Z.height=D.n;
var Q=Z.getContext("2d");Q.lineWidth=.5;Q.putImageData(new ImageData(new Uint8ClampedArray(J.buffer),D.G,D.n),0,0);
if(A){var M=A[0],u=q.lO.yZ(M),P=t.G,m=Y.G;for(var l=0;l<z.length;l++){var i=z[l],s=r[i[0]],N=S[i[1]];
Q.strokeStyle="#"+"ff0000";Q.beginPath();var e=q.at.a9W(u,B[0],N,0,m),X=q.at.a9W(M,B[1],s,0,m);Q.moveTo(-p.x+e[0],-p.y+e[1]);
Q.lineTo(-p.x+e[2],-p.y+e[3]);Q.moveTo(P-a.x+X[0],-a.y+c+X[1]);Q.lineTo(P-a.x+X[2],-a.y+c+X[3]);Q.stroke()}}if(z){var $=z.length;
for(var l=0;l<$;l++){var i=z[l],s=r[i[0]],N=S[i[1]];Q.strokeStyle="#"+"ffff00"}}var O=new Uint8Array(Q.getImageData(0,0,D.G,D.n).data.buffer);
if(!1){for(var T=0;T<2;T++){var b=T==0?r:S,R=T*t.G;for(var l=0;l<b.length;l++){var w=b[l],F=~~w.x,L=~~w.y,x=(L*D.G+F+R)*4;
O[x+1]=O[x+2]=w.aaa*60;O[x+0]=0;O[x+3]=255}}}return[O,D]};q.stack={};q.stack.stack=function(s,N,r){var S=s.length,z=N.length;
if(S==1){N.set(s[0]);return}if(r=="avrg"||r=="stdv"||r=="summ"||r=="vari"){var A=1/S;for(var l=0;l<z;
l++){var B=0;for(var Y=0;Y<S;Y++)B+=s[Y][l];var t=~~(B*A+.5);if(r=="avrg"||(l&3)==3)N[l]=t;else if(r=="summ")N[l]=255*Math.pow(Math.min(255,B)*(1/255),1/2.4);
else{var p=0;for(var Y=0;Y<S;Y++){var f=s[Y][l]-t;p+=f*f}var a=Math.sqrt(p*A)*(1/255);if(r=="stdv")N[l]=255*Math.pow(a,1/2.4);
else N[l]=255*Math.pow(a*a,1/2.4)}}}else if(r=="maxx"){for(var l=0;l<z;l++){var D=0;for(var Y=0;Y<S;
Y++)D=Math.max(D,s[Y][l]);N[l]=D}}else if(r=="minn"){for(var l=0;l<z;l++){var D=255;for(var Y=0;Y<S;
Y++)D=Math.min(D,s[Y][l]);N[l]=D}}else if(r=="medn"||r=="rang"){var c=function(M,u){return M-u},J=new Array(S),Z=0,Q=0;
if(S%1==0){Q=S>>>1;Z=Q-1}else{Z=Q=S>>>1}for(var l=0;l<z;l++){for(var Y=0;Y<S;Y++)J[Y]=s[Y][l];J.sort(c);
if(r=="medn")N[l]=J[Z]+J[Q]>>>1;else N[l]=(l&3)==3?J[S-1]:J[S-1]-J[0]}}else console.log(r)};q.jy={};
q.jy.aod=function(s,N,r,S){var z=Date.now(),A=new Uint32Array(N*r),B=new Uint8Array(N*r);while(!0){B.fill(0);
A.fill(0);var Y=[],t=0;for(var p=0;p<r;p++){for(var f=0;f<N;f++){var l=p*N+f;if(B[l]==0){var a=Y.length,D=q.jy.GV(s,N,r,f,p,B,A,a);
Y.push([a,f,p,D[0],D[1],s[l]]);if(D[0]<S)t++}}}if(t==0)break;var c=Y.length,J=new UnionFind(c),Z=[];
for(var l=0;l<c;l++)Z.push([]);for(var l=0;l<c;l++){var D=Y[l],Q=D[4],M=0,u=0;if(D[3]>=S)continue;var a=D[0];
for(var P=0;P<Q.length;P+=2){var m=A[Q[P+1]*N+Q[P]],i=Y[m];if(i[3]>u){u=i[3];M=m}}if(J.find(a)!=J.find(M)){J.link(a,M);
Z[a].push(M);Z[M].push(a)}}var e=new Uint32Array(c);e.fill(4294967295);var X=new Uint32Array(c);for(var l=0;
l<c;l++){if(e[l]!=4294967295||Z[l].length==0)continue;var $=[l],O=[l],T=l,b=Y[l][3];while(O.length!=0){var R=O.pop(),w=Z[R];
for(var P=0;P<w.length;P++){var F=w[P];if($.indexOf(F)==-1){$.push(F);O.push(F);var L=Y[F];if(L[3]>b){b=L[3];
T=F}}}}for(var P=0;P<$.length;P++){e[$[P]]=T;var x=Y[T];X[$[P]]=s[x[2]*N+x[1]]}}for(var p=0;p<r;p++)for(var f=0;
f<N;f++){var l=p*N+f,g=e[A[l]];if(g!=4294967295)s[l]=X[g]}}};q.jy.GV=function(s,N,r,S,z,A,B,Y){var t=[S,z],p=s[z*N+S],f=0,a=[];
A[z*N+S]=1;while(t.length!=0){var D=t.pop(),c=t.pop(),l=D*N+c;B[l]=Y;f++;if(D!=r-1)if(s[l+N]==p){if(A[l+N]==0){t.push(c,D+1);
A[l+N]=1}}else a.push(c,D+1);if(D!=0)if(s[l-N]==p){if(A[l-N]==0){t.push(c,D-1);A[l-N]=1}}else a.push(c,D-1);
if(c!=N-1)if(s[l+1]==p){if(A[l+1]==0){t.push(c+1,D);A[l+1]=1}}else a.push(c+1,D);if(c!=0)if(s[l-1]==p){if(A[l-1]==0){t.push(c-1,D);
A[l-1]=1}}else a.push(c-1,D)}return[f,a]};q.jy.aj$=function(s,N,r,S,z){var A=q.jy.UH(s.buffer,N,r).Og,B=Date.now(),Y=[];
for(var l=0;l<A.length;l++){var t=A[l],p=1;for(var f=0;f<p;f++)Y.push(t.K1)}var a=new Uint32Array(Y),D=UPNG.quantize.getKDtree(new Uint8Array(a.buffer),S),c=[N,1,-N,-1,N+1,-N+1,-N-1,N-1,N+N,2,-N-N,-2,N+N-1,N+N+1,N+2,-N+2,-N-N+1,-N-N-1,-N-2,N-2,N+N+2,-N-N+2-N-N-2,N+N-2],J=new Uint8Array(N*r),Z=s;
for(var Q=0;Q<r;Q++)for(var M=0;M<N;M++){var l=Q*N+M<<2,u=Z[l]*(1/255),P=Z[l+1]*(1/255),m=Z[l+2]*(1/255),i=Z[l+3]*(1/255),e=q.jy.GQ(D,u,P,m,i,z);
if(e==null){var X=[],$=0;while($<20){var O=Q*N+M+c[$]<<2,T=Z[O]*(1/255),b=Z[O+1]*(1/255),R=Z[O+2]*(1/255),w=Z[O+3]*(1/255),F=q.jy.GQ(D,T,b,R,w,.005);
if(F!=null){if(X.indexOf(F)==-1){X.push(F);F.VE=1}else F.VE++}$++}X.sort(function(i,m){return m.VE-i.VE});
while(X.length!=0&&X[X.length-1].VE<3)X.pop();if(X.length==0)e=q.jy.GQ(D,u,P,m,i,100);else if(X.length==1)e=X[0];
else if(X.length==2){var L=X[0],x=X[1],g=L.est.q,n=x.est.q,h=n[0]-g[0],_=n[1]-g[1],H=n[2]-g[2],G=n[3]-g[3],j=u-g[0],v=P-g[1],C=m-g[2],E=i-g[3],I=h*h+_*_+H*H+G*G,dJ=j*j+v*v+C*C+E*E,fG=(j*h+v*_+C*H+E*G)/I,o=dJ-fG*fG*I;
if(o<.5)e=fG<.5?L:x;else{e=q.jy.GQ(D,u,P,m,i,100)}}else{var L=X[0],x=X[1],i4=X[2],g=L.est.q,n=x.est.q,df=i4.est.q,eO=g[0]-df[0],cO=g[1]-df[1],ej=g[2]-df[2],cn=g[3]-df[3],j5=n[0]-df[0],gP=n[1]-df[1],bY=n[2]-df[2],gR=n[3]-df[3],c3=df[0]-u,jj=df[1]-P,jC=df[2]-m,kf=df[3]-i,bz=eO*eO+cO*cO+ej*ej+cn*cn,iv=eO*j5+cO*gP+ej*bY+cn*gR,bI=c3*eO+jj*cO+jC*ej+kf*cn,jo=eO*j5+cO*gP+ej*bY+cn*gR,iZ=j5*j5+gP*gP+bY*bY+gR*gR,jD=c3*j5+jj*gP+jC*bY+kf*gR,dM=1/(iv*jo-bz*iZ),fG=(iZ*bI-jD*iv)*dM,ka=(jD*bz-bI*jo)*dM,ds=1-fG-ka,ee=Math.max(fG,ka,ds);
if(ee==fG)e=L;else if(ee==ka)e=x;else e=i4}}J[l>>2]=e.ind}return{IK:J,Og:D[1]}};q.jy.UH=function(s,N,r){var S=[],z={},A=N-1,B=r-1,Y=0,t=new Uint32Array(s),p=[-N-1,-N,-N+1,-1,1,N-1,N,N+1,N+N,2,-N-N,-2,N+N-1,N+N+1,N+2,-N+2,-N-N+1,-N-N-1,-N-2,N-2,N+N+2,-N-N+2-N-N-2,N+N-2];
for(var f=1;f<B;f++)for(var a=1;a<A;a++){var D=f*N+a,c=t[D],J=!0;for(var l=0;l<8;l++)J=J&&t[D+p[l]]==c;
if(J){Y++;var Z=z[c];if(Z==null){z[c]=S.length;S.push({K1:c,a2:1})}else S[Z].a2++}}return{Og:S,ab6:Y}};
q.jy.GQ=function(s,N,r,S,z,A){var B=UPNG.quantize.getNearest(s[0],N,r,S,z);return q.jy.a0R(B,N,r,S,z)<A?B:null};
q.jy.a0R=function(s,N,r,S,z){var A=s.est.q,B=N-A[0],Y=r-A[1],t=S-A[2],p=z-A[3];return B*B+Y*Y+t*t+p*p};
q.jy.n$=function(){function s(M,u,P,m,i,e){var X=[],$=e,O=e,T=e>>>2;for(var b=0;b<i;b++)for(var R=0;
R<m;R++){var w=~~((R+.5)*$),F=~~((b+.5)*O),L=1e9,x=Math.max(0,w-T),g=Math.min(u,w+T+1),n=Math.max(0,F-T),h=Math.min(P,F+T+1);
for(var _=n;_<h;_++)for(var H=x;H<g;H++){var G=N(M,u,H,_);if(G<L){w=H;F=_;L=G}}var j=(F*u+w)*4;X.push(w,F)}return X}function N(M,u,P,m){var i=(m*u+P)*4,e=u*4,X=r(M,i-4,i)+r(M,i,i+4),$=r(M,i-e,i)+r(M,i,i+e);
return X+$}function r(M,u,P){var m=M[u]-M[P],i=M[u+1]-M[P+1],e=M[u+2]-M[P+2];return m*m+i*i+e*e}var S=0,z=0;
function A(M,u,P,m){z++;if(m<S)S=m;M[m].push(u,P)}function B(M){z--;while(M[S].length==0)S++}function Y(M,u,P,m,i){S=0;
z=0;var e=u*P,X=Math.round(Math.min(u,P)/(m?m:50)),x=0,g=16;if(X==0)X=1;var $=(i?i:30)/X,O=Math.floor(u/X),T=Math.floor(P/X),b=new Uint16Array(e);
for(var l=0;l<e;l++)b[l]=65535;var R=s(M,u,P,O,T,X),w=R.length>>>1;if(w>65535)throw w;var F=[];for(var l=0;
l<1e3+P;l++)F.push([]);var L=[0,1,0,-1,-1,0,1,0],n=Math.min(T,5),h=new Uint32Array(w*6);for(var _=0;
_<T;_+=n){var H=Math.min(_+n+1,T);for(var G=_;G<H;G++)for(var j=0;j<O;j++){var l=G*O+j,v=l*2,C=R[v+1]<<16|R[v];
A(F,C,l,R[v+1]>>>g)}var E=Math.min(P,H*X);if(_+n>=T)E=P;while(z!=0){B(F);var I=F[S].pop(),dJ=F[S].pop(),fG=dJ>>>16,o=dJ&65535,l=fG*u+o;
if(b[l]==65535){var i4=I*6,df=l<<2;b[l]=I;h[i4]+=M[df];h[i4+1]+=M[df+1];h[i4+2]+=M[df+2];h[i4+3]+=o;
h[i4+4]+=fG;h[i4+5]++;var eO=fG>>>g;if(fG!=E-1&&b[l+u]==65535)A(F,fG+1<<16|o,I,t(M,u,$,o,fG+1,h,i4)+eO);
if(fG!=0&&b[l-u]==65535)A(F,fG-1<<16|o,I,t(M,u,$,o,fG-1,h,i4)+eO);if(o!=0&&b[l-1]==65535)A(F,fG<<16|o-1,I,t(M,u,$,o-1,fG,h,i4)+eO);
if(o!=u-1&&b[l+1]==65535)A(F,fG<<16|o+1,I,t(M,u,$,o+1,fG,h,i4)+eO)}}if(E!=fG){var cO=(_+n)*O;h.fill(0,cO*6,(cO+O)*6);
for(var fG=(_+n-2)*X;fG<E;fG++)for(var o=0;o<u;o++){var l=fG*u+o;if(b[l]>=cO){b[l]=65535}}}}return{IK:b,zt:w,Gi:h}}q.jy.i3=function(M,u,P,m,i){var e=M.zt,X=u*P,$=M.Gi,O=M.IK,T=c(m,O,e,X),b=new UnionFind(e),g=0;
for(var R=1;R<P;R++)for(var w=1;w<u;w++){var l=R*u+w,F=O[l],L=0;if((L=O[l-1])!=F&&T[L]==T[F]&&p($,0,F*6,L*6)<i)b.link(F,L);
if((L=O[l-u])!=F&&T[L]==T[F]&&p($,0,F*6,L*6)<i)b.link(F,L)}var x=new Uint16Array(e);x.fill(65535);var n=new Uint16Array(e);
for(var l=0;l<e;l++){var h=b.find(l);if(x[h]==65535)x[h]=g++;n[l]=x[h]}var _=new Uint16Array(X);for(var l=0;
l<X;l++)_[l]=n[O[l]];return{IK:_,zt:g}};q.jy.aju=function(M,u,P,m){var i=q.m(P),e=u.length,X=0;for(var l=0;
l<e&&X!=3;l++){var $=m[l];if($==0||$==255){var O=u[l],T=2-($>>>7);i[O]=X=i[O]|T}}return X!=3};function t(M,u,P,m,i,e,X){var $=(i*u+m)*4,O=e[X+5],T=1/O,b=M[$]*O-e[X],R=M[$+1]*O-e[X+1],w=M[$+2]*O-e[X+2],F=m*O-e[X+3],L=i*O-e[X+4],x=Math.sqrt(b*b+R*R+w*w),g=Math.sqrt(F*F+L*L);
return~~((x+P*g)*T+.5)}function p(M,u,P,m){var i=1/M[P+5],e=1/M[m+5],X=M[P]*i-M[m]*e,$=M[P+1]*i-M[m+1]*e,O=M[P+2]*i-M[m+2]*e,T=M[P+3]*i-M[m+3]*e,b=M[P+4]*i-M[m+4]*e,R=Math.sqrt(X*X+$*$+O*O),w=Math.sqrt(T*T+b*b);
return~~(R+u*w+.5)}function f(M,u,P){var m=q.U6(M,new hq(0,0,u,P)),i=m.rect.G,e=m.rect.n,X=Y(m.sB,i,e),$=X.IK,O=Date.now(),T=new Uint16Array(u*P);
T.fill(65535);for(var b=0;b<e;b++){for(var R=0;R<i;R++){var w=b*i+R,l=(b<<1)*u+(R<<1),F=$[w];if($[w-i]!=F||$[w-1]!=F||$[w+1]!=F||$[w+i]!=F)F=65535;
T[l]=F;T[l+1]=F;T[l+u]=F;T[l+u+1]=F}}X.IK=T;return X}function a(M,u){var l=0,P=M.length;while(l!=P&&M[l]!=u)l+=2;
return l==P?-1:l}function D(M,l){if(l==M.length-2){M.pop();M.pop()}else{M[l+1]=M.pop();M[l]=M.pop()}}q.jy.awW=function(M,u,P,m,i){var e=new Uint32Array(i*4400),N=[];
for(var l=0;l<i;l++)N.push([]);for(var X=0;X<P;X++)for(var $=0;$<u;$++){var l=X*u+$,O=l<<2,T=m[l],b=0,R=M[O]>>>4,w=M[O+1]>>>4,F=M[O+2]>>>4;
e[T*4400+(R<<8|w<<4|F)]++;e[T*4400+4096]++;e[T*4400+4100+(R<<4|w)]++;e[T*4400+4360+R]++;if($!=0&&(b=m[l-1])!=T&&a(N[T],b)==-1){N[T].push(b,0);
N[b].push(T,0)}if(X!=0&&(b=m[l-u])!=T&&a(N[T],b)==-1){N[T].push(b,0);N[b].push(T,0)}}for(var l=0;l<i;
l++){var F=N[l];for(var L=0;L<F.length;L+=2)F[L+1]=Q(e,l,F[L])}return[e,N]};function c(M,u,P,m){var i=q.m(P);
for(var l=0;l<m;l++){var e=M[l];if(e==0||e==255)i[u[l]]=2-(e>>>7)}return i}q.jy.arZ=function(M,u,P,m,i,e,X){var $=u*P,O=X[0],N=X[1],T=new UnionFind(m),b=c(i,M,m,$),R=-1,w=!0,F=0;
for(var l=0;l<m;l++)if(b[l]==1){if(R==-1)R=l;else T.link(l,R)}if(R==-1){for(var l=0;l<$;l++)e[l]=i[l]==255?255:0;
return}while(w){while(w){w=!1;for(var l=0;l<m;l++){if(b[l]==0){var L=J(N[l]);if(b[L]==1){b[l]=b[L];w=!0;
T.link(l,L)}}}}w=!0;F=0;while(w){w=!1;for(var l=0;l<m;l++){if(b[l]==0){var L=J(N[l]);if(b[L]==0){var x=l*4400,g=L*4400;
for(var n=0;n<4400;n+=2){O[x+n]+=O[g+n];O[x+n+1]+=O[g+n+1]}Z(N,O,l,L);F++;b[L]=3;w=!0;T.link(l,L)}}}}w=F!=0}var h=T.find(R);
for(var l=0;l<m;l++)b[l]=T.find(l)==h?255:0;for(var l=0;l<$;l++){e[l]=b[M[l]]}for(var l=0;l<$;l++){var L=i[l];
if(L==0||L==255)e[l]=L}};function J(M){var u=0,P=0,m=M.length;for(var i=0;i<m;i+=2){var e=M[i+1];if(e>P){P=e;
u=i}}return M[u]}function Z(N,M,u,P){var m=N[u],i=N[P];D(m,a(m,P));D(i,a(i,u));for(var l=0;l<i.length;
l+=2){var e=i[l],X=N[e];D(X,a(X,P));if(a(X,u)==-1){X.push(u,0);m.push(e,0)}}for(var l=0;l<m.length;l+=2){var e=m[l],X=N[e],$=Q(M,u,e);
m[l+1]=$;X[a(X,u)+1]=$}}function Q(M,u,P){var m=0,i=4096,e=u*4400,X=P*4400;for(var $=0;$<16;$++){if(M[e+4360+$]==0||M[X+4360+$]==0)continue;
for(var O=0;O<16;O++){var T=$<<4|O;if(M[e+4100+T]==0||M[X+4100+T]==0)continue;var b=e+(T<<4),R=X+(T<<4);
for(var l=0;l<16;l++)m+=Math.sqrt(M[b+l]*M[R+l])}}var w=m/Math.sqrt(M[e+i]*M[X+i]);return~~(999.99999*w)}return Y}();
q.n_={};q.n_.aui=function(){var s=11,N=7,r=s>>>1,i3=N>>>1,S=2,z=2e3/S,A=[],Y=null,t="";function B(f,a,D){var c=(f[a+0]-f[D+0])*(1/255),J=(f[a+1]-f[D+1])*(1/255),Z=(f[a+2]-f[D+2])*(1/255),Q=(f[a+3]-f[D+3])*(1/255),M=c*c*.125+J*J*.25+Z*Z*.5+Q*Q;
return A[~~(M*z)]}function p(f,a,D,c,J,Z){var Q=Date.now(),M=q.m(a*D);q.I_(f,M);var u=UZIP.adler(M,0,a*D);
if(u!=t){var P=q.Hr(M,a,D);Y=q.m(a*D*4);t=u;var m=[1,1/9,1/25,1/49,1/81];for(var i=0;i<D;i++)for(var e=0;
e<a;e++)for(var l=0;l<4;l++){var X=Math.max(1,e-l),$=Math.min(a-1,e+l),O=Math.max(1,i-l),T=Math.min(D-1,i+l),b=q.wc(P,a,X,$,O,T);
if(isNaN(b))throw e+","+i+","+l+","+b;Y[(i*a+e)*4+l]=b*m[l]}}if(d.Bi){var R=d.fw(0,a,D);R.set(f);var w=d.fw(1,a,D);
w.set(Y);var F=d.fw(2,a,D);d.Lp(F);d.filter.Mx({type:d.filter.a5V,GB:new Float32Array([1/a,1/D]),aaK:w.Cp,aeA:J,abr:Z},R.Cp);
F.get(c)}else{for(var l=0;l<2e3;l++)A[l]=Math.exp(-(l/2e3)*S*(100+(1-J)*(1-J)*1e4));var L=i3+2;for(var i=L;
i<D-L;i++)for(var e=L;e<a-L;e++){var x=0,g=0,n=0,h=0;for(var _=0;_<s;_++)for(var H=0;H<s;H++){var G=e+H-r,j=i+_-r;
if(G==e&&j==i||G<L||j<L||G>=a-L||j>=D-L)continue;var v=B(Y,(i*a+e)*4,(j*a+G)*4),C=j*a+G<<2;x+=v*f[C+0];
g+=v*f[C+1];n+=v*f[C+2];h+=v}if(h==0){continue}var E=1/h,I=(i*a+e)*4;c[I+0]=~~((1-Z)*E*x+Z*c[I+0]);c[I+1]=~~((1-Z)*E*g+Z*c[I+1]);
c[I+2]=~~((1-Z)*E*n+Z*c[I+2])}}}return p}();var ae=function(){function s(){this.$=0;this.HW=0;this.ZA={};
this.bu=[];this.NS=1e5;this.H3=1e5;this.X_=-1;this.YV=-1;this.color=0}function N(i3){this.mN=i3;this.Cx=new Array(i3);
this.K1=new Array(i3*6);this.amb=0;this.pd=new Array(i3*2);this.alpha=new Array(i3);this.kJ=new Array(i3);
this.u9=new Array(i3)}function r(z,A,B,Y){function t(Q,M,z,A){return z[A*M+Q]}function p(l){var X=z.length;
while(l<X&&z[l]==0)l++;return l<X?l:-1}function f(Q,M,X){for(var l=2;l<5;l++){var $=0;for(var O=-l+1;
O<=l-1;O++){$+=t(Q+O,M+l-1,z,A)==X?1:-1;$+=t(Q+l-1,M+O-1,z,A)==X?1:-1;$+=t(Q+O-1,M-l,z,A)==X?1:-1;$+=t(Q-l,M+O,z,A)==X?1:-1}if($>0)return 1;
else if($<0)return 0}return 0}function a(X,J){var Z=new s,Q=X,M=J,$=0,O=1,T;Z.color=z[J*A+X];Z.sign=t(X,J,z,A)==Z.color?"+":"-";
while(1){Z.bu.push(Q,M);if(Q>Z.X_)Z.X_=Q;if(Q<Z.NS)Z.NS=Q;if(M>Z.YV)Z.YV=M;if(M<Z.H3)Z.H3=M;Z.HW++;Q+=$;
M+=O;Z.$-=Q*O;if(Q==X&&M==J)break;var b=t(Q+($+O-1>>1),M+(O-$-1>>1),z,A)==Z.color,R=t(Q+($-O-1>>1),M+(O+$-1>>1),z,A)==Z.color;
if(R&&!b){if(Y.$x=="right"||Y.$x=="black"&&Z.sign=="+"||Y.$x=="white"&&Z.sign=="-"||Y.$x=="majority"&&f(Q,M,Z.color)||Y.$x=="minority"&&!f(Q,M,Z.color)){T=$;
$=-O;O=T}else{T=$;$=O;O=-T}}else if(R){T=$;$=-O;O=T}else if(!b){T=$;$=O;O=-T}}return Z}var D=0,c=[];
while(!0){var D=p(D);if(D==-1)break;var J=Math.floor(D/A),Z=a(D-J*A,J);for(var l=0;l<Z.bu.length-2;l+=2){var Q=Z.bu[l],M=Z.bu[l+1],u=M*A+Q;
if(Q==Z.bu[l+2]&&M+1==Z.bu[l+3]&&z[u]!=0)ae.fill(u,z,A,0)}if(Z.$>Y.ahc)c.push(Z)}for(var l=0;l<c.length;
l++)c[l].parent=-1;var P=Date.now();for(var l=1;l<c.length;l++){var m=c[l];for(var i=l-1;i>=0;i--){var e=c[i];
if(m.NS<e.NS||m.X_>e.X_||m.H3<e.H3||m.YV>e.YV)continue;if(!ae.rb(e.bu,m.bu[0]+.5,m.bu[1]+.5))continue;
m.parent=i;break}}return c}function S(z,A){function B($,O,T,b,R){this.x=$;this.y=O;this.oI=T;this.CK=b;
this.qS=R}function Y($,i3){return(i3+$)%i3}function t($,O,T,b){return $*b-T*O}function p($,O,T,b){return $*T+O*b}function f($,O,T){if($<=T)return $<=O&&O<T;
else return $<=O||O<T}function a($,O,T){var b=0;b+=O*$[0]*O;b+=O*$[1]*T;b+=O*$[2];b+=T*$[3]*O;b+=T*$[4]*T;
b+=T*$[5];b+=$[6]*O;b+=$[7]*T;b+=$[8];return b}function D($,O,T){return O+$*(T-O)}function c($,O,T,b){var R=Math.sign(T-$),w=-Math.sign(b-O);
return R*(T-$)-w*(b-O)}function J($,O){return Math.sqrt($*$+O*O)}function Z($,O,T,b,R){var w=1-$;return w*w*w*O+3*(w*w*$)*T+3*($*$*w)*b+$*$*$*R}function Q($,O,T,b,R,w,F,L){var x=t($,O,F,L),g=t(T,b,F,L),n=t(R,w,F,L),h=x-2*g+n,_=-2*x+2*g,H=x,G=_*_-4*h*H;
if(h==0||G<0)return-1;var j=Math.sqrt(G),v=(-_+j)/(2*h),C=(-_-j)/(2*h);if(v>=0&&v<=1)return v;else if(C>=0&&C<=1)return C;
else return-1}function M(X){var l,$,O;X.KJ=X.bu[0];X.ahE=X.bu[1];X.uK=[];var T=X.uK;T.push(new B(0,0,0,0,0));
for(l=0;l<X.HW;l++){$=X.bu[l<<1]-X.KJ;O=X.bu[(l<<1)+1]-X.ahE;T.push(new B(T[l].x+$,T[l].y+O,T[l].oI+$*O,T[l].CK+$*$,T[l].qS+O*O))}}function u(X){var i3=X.HW,$=X.bu,O,T=new Array(i3),b=new Array(i3),R=new Array(4),w,F,L,x,g,n,h,_,H,G,j,l,v,C,E,I,dJ,fG,o=0;
X.M8=new Array(i3);for(l=i3-1;l>=0;l--){if($[l<<1]!=$[o<<1]&&$[(l<<1)+1]!=$[(o<<1)+1])o=l+1;b[l]=o}for(l=i3-1;
l>=0;l--){var i4=Y(l+1,i3)<<1;R[0]=R[1]=R[2]=R[3]=0;O=(3+3*($[i4]-$[l<<1])+($[i4+1]-$[(l<<1)+1]))/2;
R[O]++;w=0;F=0;L=0;x=0;o=b[l];C=l;while(1){j=0;O=(3+3*Math.sign($[o*2]-$[C*2])+Math.sign($[o*2+1]-$[C*2+1]))/2;
R[O]++;if(R[0]&&R[1]&&R[2]&&R[3]){T[l]=C;j=1;break}H=$[o*2]-$[l*2];G=$[o*2+1]-$[l*2+1];if(t(w,F,H,G)<0||t(L,x,H,G)>0){break}if(Math.abs(H)<=1&&Math.abs(G)<=1){}else{g=H+(G>=0&&(G>0||H<0)?1:-1);
n=G+(H<=0&&(H<0||G<0)?1:-1);if(t(w,F,g,n)>=0){w=g;F=n}g=H+(G<=0&&(G<0||H<0)?1:-1);n=G+(H>=0&&(H>0||G<0)?1:-1);
if(t(L,x,g,n)<=0){L=g;x=n}}C=o;o=b[C];if(!f(o,l,C)){break}}if(j==0){h=Math.sign($[o*2]-$[C*2]);_=Math.sign($[o*2+1]-$[C*2+1]);
H=$[C*2]-$[l*2];G=$[C*2+1]-$[l*2+1];E=t(w,F,H,G);I=t(w,F,h,_);dJ=t(L,x,H,G);fG=t(L,x,h,_);v=1e7;if(I<0){v=Math.floor(E/-I)}if(fG>0){v=Math.min(v,Math.floor(-dJ/fG))}T[l]=Y(C+v,i3)}}v=T[i3-1];
X.M8[i3-1]=v;for(l=i3-2;l>=0;l--){if(f(l+1,T[l],v)){v=T[l]}X.M8[l]=v}for(l=i3-1;f(Y(l+1,i3),v,X.M8[l]);
l--){X.M8[l]=v}}function P(X){function $(X,l,O){var i3=X.HW,H=X.bu,G=X.uK,j,v,C,E,I,b,dJ,fG,_,o,i4,df,eO,cO,ej=0;
if(O>=i3){O-=i3;ej=1}if(ej==0){j=G[O+1].x-G[l].x;v=G[O+1].y-G[l].y;E=G[O+1].CK-G[l].CK;C=G[O+1].oI-G[l].oI;
I=G[O+1].qS-G[l].qS;b=O+1-l}else{j=G[O+1].x-G[l].x+G[i3].x;v=G[O+1].y-G[l].y+G[i3].y;E=G[O+1].CK-G[l].CK+G[i3].CK;
C=G[O+1].oI-G[l].oI+G[i3].oI;I=G[O+1].qS-G[l].qS+G[i3].qS;b=O+1-l+i3}i4=(H[l<<1]+H[O<<1])/2-H[0];df=(H[(l<<1)+1]+H[(O<<1)+1])/2-H[1];
cO=H[O<<1]-H[l<<1];eO=-(H[(O<<1)+1]-H[(l<<1)+1]);dJ=(E-2*j*i4)/b+i4*i4;fG=(C-j*df-v*i4)/b+i4*df;_=(I-2*v*df)/b+df*df;
o=eO*eO*dJ+2*eO*cO*fG+cO*cO*_;return Math.sqrt(o)}var l,O,T,b,i3=X.HW,R=new Array(i3+1),w=new Array(i3+1),F=new Array(i3),L=new Array(i3+1),x=new Array(i3+1),g=new Array(i3+1),n,h,_;
for(l=0;l<i3;l++){_=Y(X.M8[Y(l-1,i3)]-1,i3);if(_==l){_=Y(l+1,i3)}if(_<l){F[l]=i3}else{F[l]=_}}O=1;for(l=0;
l<i3;l++){while(O<=F[l]){L[O]=l;O++}}l=0;for(O=0;l<i3;O++){x[O]=l;l=F[l]}x[O]=i3;T=O;l=i3;for(O=T;O>0;
O--){g[O]=l;l=L[l]}g[0]=0;R[0]=0;for(O=1;O<=T;O++){for(l=g[O];l<=x[O];l++){h=-1;for(b=x[O-1];b>=L[l];
b--){n=$(X,b,l)+R[b];if(h<0||n<h){w[l]=b;h=n}}R[l]=h}}X.aeW=T;X.a8I=new Array(T);for(l=i3,O=T-1;l>0;
O--){l=w[l];X.a8I[O]=l}}function m(X){function $(X,l,n,F,L,cn){var i3=X.HW,j5=X.uK,gP=0,_;while(n>=i3){n-=i3;
gP+=1}while(l>=i3){l-=i3;gP-=1}while(n<0){n+=i3;gP-=1}while(l<0){l+=i3;gP+=1}var bY=j5[n+1].x-j5[l].x+gP*j5[i3].x,gR=j5[n+1].y-j5[l].y+gP*j5[i3].y,c3=j5[n+1].CK-j5[l].CK+gP*j5[i3].CK,jj=j5[n+1].oI-j5[l].oI+gP*j5[i3].oI,jC=j5[n+1].qS-j5[l].qS+gP*j5[i3].qS,h=n+1-l+gP*i3;
F[cn]=bY/h;F[cn+1]=gR/h;var kf=(c3-bY*bY/h)/h,bz=(jj-bY*gR/h)/h,iv=(jC-gR*gR/h)/h,bI=(kf+iv+Math.sqrt((kf-iv)*(kf-iv)+4*bz*bz))/2;
kf-=bI;iv-=bI;if(Math.abs(kf)>=Math.abs(iv)){_=Math.sqrt(kf*kf+bz*bz);if(_!=0){L[cn]=-bz/_;L[cn+1]=kf/_}}else{_=Math.sqrt(iv*iv+bz*bz);
if(_!=0){L[cn]=-iv/_;L[cn+1]=bz/_}}if(_==0){L[cn]=L[cn+1]=0}}var O=X.aeW,T=X.a8I,i3=X.HW,b=X.bu,R=X.KJ,w=X.ahE,F=new Array(O*2),L=new Array(O*2),x=new Array(O),g=new Array(3),l,n,h,_,v,C,E,I,dJ,fG,o;
X.ZA=new N(O);for(l=0;l<O;l++){n=T[Y(l+1,O)];n=Y(n-T[l],i3)+T[l];F[l<<1]=0;F[(l<<1)+1]=0;L[l<<1]=0;L[(l<<1)+1]=0;
$(X,T[l],n,F,L,l<<1)}for(l=0;l<O;l++){x[l]=[0,0,0,0,0,0,0,0,0];var H=L[l<<1]*L[l<<1]+L[(l<<1)+1]*L[(l<<1)+1],G=1/H;
if(H!=0){g[0]=L[(l<<1)+1];g[1]=-L[l<<1];g[2]=-g[1]*F[(l<<1)+1]-g[0]*F[l<<1];for(_=0;_<3;_++){x[l][_*3+0]=g[_]*g[0]*G;
x[l][_*3+1]=g[_]*g[1]*G;x[l][_*3+2]=g[_]*g[2]*G}}}var j=[0,0,0,0,0,0,0,0,0];for(l=0;l<O;l++){j[0]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=0;
var i4=b[T[l]<<1]-R,df=b[(T[l]<<1)+1]-w,eO=0,cO=0;n=Y(l-1,O);for(_=0;_<9;_+=3){j[_+0]=x[n][_+0]+x[l][_+0];
j[_+1]=x[n][_+1]+x[l][_+1];j[_+2]=x[n][_+2]+x[l][_+2]}while(1){var ej=j[0]*j[4]-j[1]*j[3];if(ej!=0){eO=(-j[2]*j[4]+j[5]*j[0])/ej;
cO=(j[2]*j[3]-j[5]*j[0])/ej;break}if(j[0]>j[4]){g[0]=-j[1];g[1]=j[0]}else if(j[4]){g[0]=-j[4];g[1]=j[3]}else{g[0]=1;
g[1]=0}var H=g[0]*g[0]+g[1]*g[1],G=1/H;g[2]=-g[1]*df-g[0]*i4;for(_=0;_<3;_++){j[_*3+0]+=g[_]*g[0]*G;
j[_*3+1]+=g[_]*g[1]*G;j[_*3+2]+=g[_]*g[2]*G}}v=Math.abs(eO-i4);C=Math.abs(cO-df);if(v<=.5&&C<=.5){X.ZA.pd[l<<1]=eO+R;
X.ZA.pd[(l<<1)+1]=cO+w;continue}E=a(j,i4,df);dJ=i4;fG=df;if(j[0]!=0){for(o=0;o<2;o++){cO=df-.5+o;eO=-(j[1]*cO+j[2])/j[0];
v=Math.abs(eO-i4);I=a(j,eO,cO);if(v<=.5&&I<E){E=I;dJ=eO;fG=cO}}}if(j[4]!=0){for(o=0;o<2;o++){eO=i4-.5+o;
cO=-(j[3]*eO+j[5])/j[4];C=Math.abs(cO-df);I=a(j,eO,cO);if(C<=.5&&I<E){E=I;dJ=eO;fG=cO}}}for(_=0;_<2;
_++){for(h=0;h<2;h++){eO=i4-.5+_;cO=df-.5+h;I=a(j,eO,cO);if(I<E){E=I;dJ=eO;fG=cO}}}X.ZA.pd[l<<1]=dJ+R;
X.ZA.pd[(l<<1)+1]=fG+w}}function i(X){var $=X.ZA.mN,O=X.ZA,l,T,b,R,w,F,L,x,g;for(l=0;l<$;l++){T=Y(l+1,$);
b=Y(l+2,$);var n=O.pd[l<<1],h=O.pd[(l<<1)+1],_=O.pd[b<<1],H=O.pd[(b<<1)+1],G=O.pd[T<<1],j=O.pd[(T<<1)+1],v=D(.5,_,G),C=D(.5,H,j);
w=c(n,h,_,H);if(w!=0){R=t(G-n,j-h,_-n,H-h)/w;R=Math.abs(R);F=R>1?1-1/R:0;F=F*(1/.75)}else{F=4/3}O.kJ[T]=F;
var E=3*T<<1;if(F>=A.ape){O.Cx[T]=0;O.K1[E+0]=O.K1[E+1]=0;O.K1[E+2]=G;O.K1[E+3]=j;O.K1[E+4]=v;O.K1[E+5]=C}else{if(F<.55){F=.55}else if(F>1){F=1}var I=.5+.5*F;
O.Cx[T]=1;O.K1[E]=D(I,n,G);O.K1[E+1]=D(I,h,j);O.K1[E+2]=D(I,_,G);O.K1[E+3]=D(I,H,j);O.K1[E+4]=v;O.K1[E+5]=C}O.alpha[T]=F;
O.u9[T]=.5}O.ar9=1}function e(X){function $(){this.FF=0;this.LU=0;this.E2=0;this.Hq=0;this.xw=0;this.BO=0;
this.D7=0;this.alpha=0}function O(X,l,n,iZ,jD,dJ,fG){var b=X.ZA.mN,dM=X.ZA.K1,ka=X.ZA.pd;if(l==n)return 1;
var ds=l,G=Y(l+1,b),ee=Y(ds+1,b),jj=ka[l<<1],jC=ka[(l<<1)+1],a9=ka[G<<1],ir=ka[(G<<1)+1],eP=dJ[ee];if(eP==0)return 1;
var jh=J(jj-a9,jC-ir);for(ds=ee;ds!=n;ds=ee){var ee=Y(ds+1,b),fy=Y(ds+2,b),eS=ka[ee<<1],gz=ka[(ee<<1)+1],fi=ka[fy<<1],fw=ka[(fy<<1)+1];
if(dJ[ee]!=eP)return 1;if(Math.sign(t(a9-jj,ir-jC,fi-eS,fw-gz))!=eP)return 1;if(p(a9-jj,ir-jC,fi-eS,fw-gz)<jh*J(eS-fi,gz-fw)*-.999847695156)return 1}var ce=Y(l,b)*3+2<<1,hl=Y(l+1,b)<<1,ia=Y(n,b)<<1,iQ=Y(n,b)*3+2<<1,cn=dM[ce],j5=dM[ce+1],em=ka[hl],k4=ka[hl+1],ar=ka[ia],fg=ka[ia+1],j0=dM[iQ],bU=dM[iQ+1],o=ka[0],i4=ka[1];
ce=n*3+2<<1;var dn=dM[ce],aJ=dM[ce+1],j=fG[n]-fG[l];j-=t(dn-o,aJ-i4,dn-o,aJ-i4)/2;if(l>=n){j+=fG[b]}var bE=em-cn,ew=k4-j5,jy=ar-cn,eT=fg-j5,du=j0-cn,c_=bU-j5,f9=t(bE,ew,jy,eT),bp=t(bE,ew,du,c_),aL=t(jy,eT,du,c_),f8=f9+aL-bp;
if(bp==f9)return 1;var I=aL/(aL-f8),E=bp/(bp-f9),aE=bp*I/2;if(aE==0)return 1;var be=j/aE,v=2-Math.sqrt(4-be/.3);
iZ.LU=D(I*v,cn,em);iZ.E2=D(I*v,j5,k4);iZ.Hq=D(E*v,j0,ar);iZ.xw=D(E*v,bU,fg);iZ.alpha=v;iZ.BO=I;iZ.D7=E;
em=iZ.LU;k4=iZ.E2;ar=iZ.Hq;fg=iZ.xw;iZ.FF=0;for(ds=Y(l+1,b);ds!=n;ds=ee){ee=Y(ds+1,b);var jK=ka[ds<<1],ad=ka[(ds<<1)+1],eS=ka[ee<<1],gz=ka[(ee<<1)+1];
I=Q(em-cn,k4-j5,ar-em,fg-k4,j0-ar,bU-fg,eS-jK,gz-ad);if(I<-.5)return 1;var iF=Z(I,cn,em,ar,j0),c0=Z(I,j5,k4,fg,bU),jh=J(eS-jK,gz-ad);
if(jh==0)return 1;var hE=t(eS-jK,gz-ad,iF-jK,c0-ad)/jh;if(Math.abs(hE)>jD)return 1;if(p(eS-jK,gz-ad,iF-jK,c0-ad)<0||p(jK-eS,ad-gz,iF-eS,c0-gz)<0){return 1}iZ.FF+=hE*hE}for(ds=l;
ds!=n;ds=ee){ee=Y(ds+1,b);var ce=ds*3+2<<1,hl=ee*3+2<<1,hJ=dM[ce],cZ=dM[ce+1],dS=dM[hl],gh=dM[hl+1];
I=Q(em-cn,k4-j5,ar-em,fg-k4,j0-ar,bU-fg,dS-hJ,gh-cZ);if(I<-.5)return 1;var iF=Z(I,cn,em,ar,j0),c0=Z(I,j5,k4,fg,bU),jh=J(dS-hJ,gh-cZ);
if(jh==0)return 1;var hE=t(dS-hJ,gh-cZ,iF-hJ,c0-cZ)/jh,ih=t(dS-hJ,gh-cZ,ka[ee<<1]-hJ,ka[(ee<<1)+1]-cZ)/jh;
ih*=.75*X.ZA.alpha[ee];if(ih<0){hE=-hE;ih=-ih}if(hE<ih-jD)return 1;if(hE<ih){iZ.FF+=(hE-ih)*(hE-ih)}}return 0}var T=X.ZA,b=T.mN,R=T.pd,w=new Array(b+1),F=new Array(b+1),L=new Array(b+1),x=new Array(b+1),g,l,n,h,_=new $,H,G,j,v,C,E,I,dJ=new Array(b),fG=new Array(b+1);
for(l=0;l<b;l++){if(T.Cx[l]=="CURVE"){var o=R[Y(l-1,b)<<1],i4=R[(Y(l-1,b)<<1)+1],df=R[l<<1],eO=R[(l<<1)+1],cO=R[Y(l+1,b)<<1],ej=R[(Y(l+1,b)<<1)+1];
dJ[l]=Math.sign(t(df-o,eO-i4,cO-df,ej-eO))}else{dJ[l]=0}}j=0;fG[0]=0;var cn=T.pd[0],j5=T.pd[1];for(l=0;
l<b;l++){G=Y(l+1,b);if(T.Cx[G]=="CURVE"){v=T.alpha[G];var gP=l*3+2<<1,bY=G*3+2<<1,gR=T.K1[gP],c3=T.K1[gP+1],jj=R[G<<1],jC=R[(G<<1)+1],kf=T.K1[bY],bz=T.K1[bY+1];
j+=.3*v*(4-v)*t(jj-gR,jC-c3,kf-gR,bz-c3)/2;j+=t(gR-cn,c3-j5,kf-cn,bz-j5)/2}fG[l+1]=j}w[0]=-1;F[0]=0;
L[0]=0;for(n=1;n<=b;n++){w[n]=n-1;F[n]=F[n-1];L[n]=L[n-1]+1;for(l=n-2;l>=0;l--){h=O(X,l,Y(n,b),_,A.ahN,dJ,fG);
if(h){break}if(L[n]>L[l]+1||L[n]==L[l]+1&&F[n]>F[l]+_.FF){w[n]=l;F[n]=F[l]+_.FF;L[n]=L[l]+1;x[n]=_;_=new $}}}g=L[b];
C=new N(g);E=new Array(g);I=new Array(g);n=b;for(l=g-1;l>=0;l--){var iv=Y(n,b),bI=l*3+0<<1,jo=iv*3+0<<1;
if(w[n]==n-1){C.Cx[l]=T.Cx[iv];C.K1[bI]=T.K1[jo];C.K1[bI+1]=T.K1[jo+1];C.K1[bI+2]=T.K1[jo+2];C.K1[bI+3]=T.K1[jo+3];
C.K1[bI+4]=T.K1[jo+4];C.K1[bI+5]=T.K1[jo+5];C.pd[l<<1]=T.pd[iv<<1];C.pd[(l<<1)+1]=T.pd[(iv<<1)+1];C.alpha[l]=T.alpha[iv];
C.kJ[l]=T.kJ[iv];C.u9[l]=T.u9[iv];E[l]=I[l]=1}else{C.Cx[l]="CURVE";C.K1[bI]=x[n].LU;C.K1[bI+1]=x[n].E2;
C.K1[bI+2]=x[n].Hq;C.K1[bI+3]=x[n].xw;C.K1[bI+4]=T.K1[jo+4];C.K1[bI+5]=T.K1[jo+5];C.pd[l<<1]=D(x[n].D7,T.K1[jo+4],R[iv<<1]);
C.pd[(l<<1)+1]=D(x[n].D7,T.K1[jo+5],R[(iv<<1)+1]);C.alpha[l]=x[n].alpha;C.kJ[l]=x[n].alpha;E[l]=x[n].D7;
I[l]=x[n].BO}n=w[n]}for(l=0;l<g;l++){G=Y(l+1,g);C.u9[l]=E[l]/(E[l]+I[G])}C.ar9=1;X.ZA=C}for(var l=0;
l<z.length;l++){var X=z[l];M(X);u(X);P(X);m(X);i(X);if(A.ap4)e(X)}}return{adv:r,a3j:S}}();ae.ue=function(s,N,r,S){var z={$x:"minority",ahc:S,ap4:!0,ape:1,ahN:.2},A=ae.adv(s,N,r,z);
ae.a3j(A,z);return A};ae.Ly=function(s){var N=[];for(var l=0;l<s.length;l++){var r=s[l],S=r.ZA,z=["M"],A=[S.K1[(S.mN-1)*6+4],S.K1[(S.mN-1)*6+5]];
for(var B=0;B<S.mN;B++){var Y=B*6;if(S.Cx[B]==1){z.push("C");for(var t=0;t<6;t++)A.push(S.K1[Y+t])}else if(S.Cx[B]==0){z.push("L");
for(var t=2;t<4;t++)A.push(S.K1[Y+t])}}z.push("Z");N.push({parent:r.parent,color:r.color,path:{v:A,F:z}})}return N};
ae.rb=function(s,N,r){var i3=s.length>>1,S,z=s[2*i3-3]-r,A=s[2*i3-2]-N,B=s[2*i3-1]-r,Y=B>z,t=0;for(var l=0;
l<i3;l++){S=A;z=B;A=s[2*l]-N;B=s[2*l+1]-r;if(z==B)continue;Y=B>z}for(var l=0;l<i3;l++){S=A;z=B;A=s[2*l]-N;
B=s[2*l+1]-r;if(z<0&&B<0)continue;if(z>0&&B>0)continue;if(S<0&&A<0)continue;if(z==B&&Math.min(S,A)<=0)return!0;
if(z==B)continue;var p=S+(A-S)*-z/(B-z);if(p==0)return!0;if(p>0)t++;if(z==0&&Y&&B>z)t--;if(z==0&&!Y&&B<z)t--;
Y=B>z}return(t&1)==1};ae.fill=function(s,N,r,S){var z=N[s],A=[s],B=0;while(B<A.length){var Y=A[B];B++;
N[Y]=S;if(N[Y-r]==z){A.push(Y-r);N[Y-r]=254}if(N[Y-1]==z){A.push(Y-1);N[Y-1]=254}if(N[Y+1]==z){A.push(Y+1);
N[Y+1]=254}if(N[Y+r]==z){A.push(Y+r);N[Y+r]=254}}};function cE(){}cE.j7=function(s){var N=new Uint8Array(s),r=0,S={nv:[],wf:[],list:[]},z=U.XF(N,r);
r+=2;if(z<=2){return cE.a5I(N)}var A=U.XF(N,r);r+=2;var B=U.TX(N,r,8);r+=8;var Y=U.l(N,r);r+=4;if(Y>0)S.nv=cE.gz(N,r,Y,A,z);
r+=Y;var t=U.TX(N,r,8);r+=8;var p=U.l(N,r);r+=4;if(p>0)S.wf=cC.KY(N,r,p);r+=p;var f=U.TX(N,r,8);r+=8;
var a=U.l(N,r);r+=4;if(a>0){var D={};dj.LT(N,D,r+4);S.list=D.Brsh.v}r+=a;var c=S.list;for(var l=0;l<c.length;
l++){fD.BR.check(c[l].v)}return S};cE.qk=function(s,N){s.v.Nm.v=N};cE.a5I=function(s){var N={nv:[],wf:[],list:[]},r=0,S=U.XF(s,r);
r+=2;var z=U.XF(s,r);r+=2;for(var l=0;l<z;l++){var A=U.XF(s,r);r+=2;var B=U.l(s,r);r+=4;var Y=r;if(A==2){var t={};
N.nv.push(t);var p=U.l(s,Y);Y+=4;var f=U.XF(s,Y);Y+=2;if(S==2){var a=U.e2(s,Y);Y+=4+a.length*2+2}t.id=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f";
Y++;Y+=8;t.Ge=U.xX(s,Y);Y+=16;var D=U.XF(s,Y);Y+=2;var c=s[Y];Y++;var J=g9.B8(!1,D,s,t.Ge.G,t.Ge.n,Y,c);
cE.k$(t,J);var Z=fD.oE(t.id),Q=Z.Brsh.v;Q.Dmtr.v.val=t.Ge.G;Q.Spcn.v.val=f;N.list.push({t:"Objc",v:Z})}r+=B}return N};
cE.vM=function(s){var N=new iY,r=0,S=0;U.Ir(N,r,6);r+=2;U.Ir(N,r,2);r+=2;U.Gc(N,r,"8BIMsamp");r+=8;r+=4;
S=r;r=cE.Xr(N,r,s.nv);U.GK(N,S-4,r-S);U.Gc(N,r,"8BIMpatt");r+=8;r+=4;S=r;r=cC.AL(N,r,s.wf);U.GK(N,S-4,r-S);
var z={classID:"null",Brsh:{t:"VlLs",v:s.list}};U.Gc(N,r,"8BIMdesc");r+=8;r+=4;S=r;U.GK(N,r,16);r+=4;
r+=dj.ih(N,z,r);U.GK(N,S-4,r-S);return N.data.slice(0,r).buffer};cE.gz=function(s,N,r,S,z){var A=U.l,B=U.xX,Y=N+r,t=[];
while(N<Y){var p={};t.push(p);var f=A(s,N);N+=4;var a=N,D=U.cU(s,N);N+=D.length;p.id=D.c1;if(S==1){N+=9;
p.Ge=B(s,N);N+=16}else{N+=7;var c=A(s,N);N+=4;p.Ge=B(s,N);N+=16;var J=A(s,N);N+=4;N+=J*4;var Z=A(s,N);
N+=4;var Q=A(s,N);N+=4;var M=B(s,N);N+=16}var u=U.XF(s,N);N+=2;var P=s[N];N+=1;var m=g9.B8(!1,u,s,p.Ge.G,p.Ge.n,N,P);
cE.k$(p,m);if(f%4!=0)f+=4-f%4;N=a+f}return t};cE.k$=function(s,N){var r=s.Ge.clone(),S=q.m(r.$()*4);
q.XX(N,S,3);r.x=r.y=0;s.yK=[S,r]};cE.Xr=function(s,N,r){var S=U.GK,z=U._m;for(var l=0;l<r.length;l++){var A=r[l],B=N+4,t=56,f=1;
N+=4;U.hR(s,N,A.id);N+=A.id.length+2;s.yd(N,1);s.data[N]=1;N+=3;S(s,N,3);N+=4;var Y=N;N+=4;z(s,N,A.Ge);
N+=16;S(s,N,t);N+=4;N+=t*4;S(s,N-4,1);var p=N;N+=4;S(s,N,8);N+=4;z(s,N,A.Ge);N+=16;U.Ir(s,N,8);N+=2;
s.yd(N,1);s.data[N]=f;N++;var a=q.m(A.Ge.$());q.WZ(A.yK[0],a,3);s.yd(N,A.Ge.$()*2);N=g9.ZJ(!1,a,s.data,A.Ge.G,A.Ge.n,N,f);
s.yd(N,8);N+=8;var D=N-B;S(s,B-4,D);S(s,Y,D-49);S(s,p,D-305);if(D%4!=0)N+=4-D%4}return N};function ed(){}ed.j7=function(s){var N=new Uint8Array(s),r=[],S=0,z=U.XF(N,S);
S+=2;if(z!=4){throw"Unknown version of curves: "+z}var A=U.XF(N,S);S+=2;for(var l=0;l<A;l++){var B=ed.lZ(N,S);
S+=2+2*B.length;r.push(B)}if(S==N.length)return r;var Y=U.TX(N,S,4);S+=4;var t=U.XF(N,S);S+=2;var p=U.XF(N,S);
S+=2;if(p!=0)throw"extra curves for channels";return r};ed.sJ=function(s,N,r){var S=N,z=[],A=s[N];N+=3;
var B=U.l(s,N);N+=4;for(var l=0;l<4;l++){var Y=B>>>l&1;if(Y){if(A==0){var t=ed.lZ(s,N);N+=2+2*t.length}else{var t=ed.ac2(s,N);
N+=256}z.push(t)}else z.push(A==0?[0,0,255,255]:ed.ahT())}var p=hT.yS("curv");for(var l=0;l<4;l++){if(A==0){var f=z[l],a=[];
for(var D=0;D<f.length;D+=2)a.push(q.R2.rP(f[D],f[D+1],!0));ed.Sk(p,l,a)}else ed.Sk(p,l,z[l])}return p};
ed.ahT=function(){var s=[];for(var l=0;l<256;l++)s.push(l);return s};ed.Sk=function(s,N,r){var S=jq.tD("CrvA",N);
if(r.length<256)S.Crv={t:"VlLs",v:r};else{S.Mpng={t:"VlLs",v:[]};for(var l=0;l<256;l++)S.Mpng.v[l]={t:"long",v:r[l]}}S={t:"Objc",v:S};
var z=s.Adjs.v,A=jq.BC(z,N);if(A==-1)z.push(S);else z[A]=S};ed.Xc=function(s,N){var r=s.Adjs.v,S=jq.BC(r,N);
if(S==-1){if(r.length==0||r[0].v.Crv)return[q.R2.rP(0,0,!0),q.R2.rP(255,255,!0)];if(r[0].v.autoMachineLearning||r[0].v.AuCo)return[q.R2.rP(0,0,!0),q.R2.rP(128,160,!0),q.R2.rP(255,255,!0)];
var z=[];for(var l=0;l<256;l++)z.push(l);return z}var A=r[S].v;if(A.Crv)return A.Crv.v;if(A.Mpng){var z=[];
for(var l=0;l<256;l++)z.push(A.Mpng.v[l].v);return z}return[q.R2.rP(0,0,!0),q.R2.rP(255,255,!0)]};ed.lZ=function(s,N){var r=[],S=U.XF(s,N);
N+=2;for(var z=0;z<S;z++){var A=U.XF(s,N);N+=2;var B=U.XF(s,N);N+=2;r.push(B,A)}return r};ed.ae1=function(s,N,r){var S=r.length/2;
U.Ir(s,N,S);N+=2;for(var z=0;z<S;z++){U.Ir(s,N,r[z*2+1]);N+=2;U.Ir(s,N,r[z*2+0]);N+=2}};ed.ac2=function(s,N){var r=[];
for(var l=0;l<256;l++)r.push(s[N+l]);return r};ed.akk=function(s,N,r){s.yd(N,256);for(var l=0;l<256;
l++)s.data[N+l]=r[l]};ed.d$=function(s,N,r){var S=[];for(var l=0;l<4;l++){var z=ed.Xc(r,l);if(z.length==256)S.push(z);
else{var A=[];for(var B=0;B<z.length;B++)A.push(z[B].v.Hrzn.v,z[B].v.Vrtc.v);S.push(A)}}var Y=N,t=S[0].length==256?1:0;
s.yd(N,3);s.data[N]=t;s.data[N+1]=0;s.data[N+2]=1;N+=3;U.GK(s,N,15);N+=4;for(var l=0;l<4;l++){var p=S[l];
if(t==0){ed.ae1(s,N,p);N+=2+2*p.length}else{ed.akk(s,N,p);N+=256}}return N-Y};function eJ(){}eJ.sJ=function(s,N,r){var S={},z=U.XF(s,N);
N+=2;S.BG=s[N]==1;N++;N++;S.LL=[U.AC(s,N),U.AC(s,N+2),U.AC(s,N+4)];N+=6;S.Lu=[U.AC(s,N),U.AC(s,N+2),U.AC(s,N+4)];
N+=6;S.ux=[];for(var l=0;l<6;l++){var A={};A.Fm=[U.AC(s,N),U.AC(s,N+2),U.AC(s,N+4),U.AC(s,N+6)];N+=8;
A.hm=[U.AC(s,N),U.AC(s,N+2),U.AC(s,N+4)];N+=6;S.ux.push(A)}var B=hT.yS("hue2"),Y=S;if(B.Clrz==null)B.Clrz={t:"bool",v:!1};
B.Clrz.v=Y.BG;for(var l=0;l<7;l++){var t=l==0?Y.BG?Y.LL:Y.Lu:Y.ux[l-1];eJ.Sk(B,l,t)}return B};eJ.ajR=function(s){return{classID:"Hst2",H:{t:"long",v:s[0]},Strt:{t:"long",v:s[1]},Lght:{t:"long",v:s[2]}}};
eJ.BC=function(s,N){for(var l=0;l<s.length;l++){var r=s[l].v.LclR;if(N==0&&r==null||r!=null&&r.v==N)return l}return-1};
eJ.Sk=function(s,N,r){var S=N==0?r:r.hm,z=eJ.ajR(S);if(N!=0){var A=r.Fm;z.LclR={t:"long",v:N},z.BgnR={t:"long",v:A[0]};
z.BgnS={t:"long",v:A[1]};z.EndS={t:"long",v:A[2]};z.EndR={t:"long",v:A[3]}}z={t:"Objc",v:z};var B=s.Adjs.v,Y=eJ.BC(B,N);
if(Y==-1)B.push(z);else B[Y]=z};eJ.Xc=function(s,N){var r=s.Adjs.v,S=eJ.BC(r,N);if(S==-1){if(N==0)return[0,0,0];
else return[{Fm:[315,345,15,45],hm:[0,0,0]},{Fm:[15,45,75,105],hm:[0,0,0]},{Fm:[75,105,135,165],hm:[0,0,0]},{Fm:[135,165,195,225],hm:[0,0,0]},{Fm:[195,225,255,285],hm:[0,0,0]},{Fm:[255,285,315,345],hm:[0,0,0]}][N-1]}var z=r[S].v,A=[z.H.v,z.Strt.v,z.Lght.v];
if(N==0)return A;return{hm:A,Fm:[z.BgnR.v,z.BgnS.v,z.EndS.v,z.EndR.v]}};eJ.d$=function(s,N,r){var S={BG:r.Clrz?r.Clrz.v:!1,ux:[]};
S.LL=S.Lu=eJ.Xc(r,0);for(var l=1;l<7;l++)S.ux.push(eJ.Xc(r,l));var z=2+2+12+6*14,A=s.data;s.yd(N,z);
U.a4(A,N,2);N+=2;A[N]=S.BG?1:0;N++;N++;U.S$(A,N+0,S.LL[0]);U.S$(A,N+2,S.LL[1]);U.S$(A,N+4,S.LL[2]);N+=6;
U.S$(A,N+0,S.Lu[0]);U.S$(A,N+2,S.Lu[1]);U.S$(A,N+4,S.Lu[2]);N+=6;for(var l=0;l<6;l++){var B=S.ux[l].Fm,Y=S.ux[l].hm;
U.S$(A,N+0,B[0]);U.S$(A,N+2,B[1]);U.S$(A,N+4,B[2]);U.S$(A,N+6,B[3]);N+=8;U.S$(A,N+0,Y[0]);U.S$(A,N+2,Y[1]);
U.S$(A,N+4,Y[2]);N+=6}return z};function jq(){}jq.j7=function(s){var N=new Uint8Array(s),r=2,S=[];for(var l=0;
l<29;l++){var z=[];S.push(z);for(var A=0;A<5;A++)z.push(U.XF(N,r+l*10+A*2))}r+=29*10;if(r<N.length){var B=U.TX(N,r,4);
r+=4;var Y=U.XF(N,r);r+=2;var t=U.XF(N,r);r+=2;var p=t-29;for(var l=0;l<p;l++){var z=[];S.push(z);for(var A=0;
A<5;A++)z.push(U.XF(N,r+l*10+A*2))}}var f=hT.yS("levl");for(var l=0;l<4;l++)jq.Sk(f,l,S[l]);return f};
jq.tD=function(s,l){var N=["Cmps","Rd","Grn","Bl"],r={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:N[l]}}]};
return{classID:s,Chnl:r}};jq.BC=function(s,N){var r={Cmps:0,Rd:1,Grn:2,Bl:3};for(var l=0;l<s.length;
l++){var S=s[l].v,z=r[S.Chnl.v[0].v.enum];if(z==N)return l}return-1};jq.Sk=function(s,N,r){var S=jq.tD("LvlA",N);
S.Inpt={t:"VlLs",v:[{t:"long",v:r[0]},{t:"long",v:r[1]}]};S.Otpt={t:"VlLs",v:[{t:"long",v:r[2]},{t:"long",v:r[3]}]};
S.Gmm={t:"doub",v:r[4]/100};S={t:"Objc",v:S};var z=s.Adjs.v,A=jq.BC(z,N);if(A==-1)z.push(S);else z[A]=S};
jq.Xc=function(s,N){var r=[0,255,0,255,100],S=s.Adjs.v,z=jq.BC(S,N);if(z==-1)return r;var A=S[z].v;if(A.Inpt){r[0]=A.Inpt.v[0].v;
r[1]=A.Inpt.v[1].v}if(A.Otpt){r[2]=A.Otpt.v[0].v;r[3]=A.Otpt.v[1].v}if(A.Gmm){r[4]=Math.round(A.Gmm.v*100)}return r};
jq.vM=function(s,N){var r=[],S=0;for(var l=0;l<4;l++)r.push(jq.Xc(N,l));while(r.length<29)r.push([0,255,0,255,100]);
s.yd(0,2+10*29);U.a4(s.data,S,2);S+=2;for(var l=0;l<29;l++){var z=r[l];for(var A=0;A<5;A++)U.a4(s.data,S+l*10+A*2,z[A])}S+=29*10;
if(r.length==29)return S;s.yd(S,8+10*(r.length-29));U.s6(s.data,S,"Lvls");S+=4;U.a4(s.data,S,3);S+=2;
U.a4(s.data,S,r.length);S+=2;var B=r.length-29;for(var l=0;l<B;l++){var z=r[29+l];for(var A=0;A<5;A++)U.a4(s.data,S+l*10+A*2,z[A])}S+=10*B;
return S};function ge(){}ge.j7=function(s){var N=new Uint8Array(s),r=2,S={u$:[],yc:[]},z=U.TX(N,r,4);
r+=4;var A=U.XF(N,r);r+=2;var B=U.l(N,r);r+=4;S.u$=cC.KY(N,r,B);r+=B;var Y=U.l(N,r);r+=4;for(var l=0;
l<Y;l++){var t=U.l(N,r);r+=4;var p=r,f={Dy:{},KM:{}};S.yc.push(f);r+=4;r+=dj.LT(N,f.Dy,r);r+=4;r+=dj.LT(N,f.KM,r);
r=p+t;var a=f.KM.blendOptions,D=f.KM.Lefx;if(a&&Object.keys(a.v).length>1){}if(D){if(D.v.masterFXSwitch==null)D.v.masterFXSwitch={t:"bool",v:!0};
fT.gm(D.v)}}return S};ge.qk=function(s,N){s.Dy.Nm.v=N};ge.vM=function(s){var N=new iY,r=0;U.Ir(N,r,2);
r+=2;U.Gc(N,r,"8BSL");r+=4;U.Ir(N,r,3);r+=2;var S=r;r+=4;r=cC.AL(N,r,s.u$);U.GK(N,S,r-S-4);var z=s.yc.length;
U.GK(N,r,z);r+=4;for(var l=0;l<z;l++){r+=4;var A=r,B=s.yc[l];U.GK(N,r,16);r+=4;r+=dj.ih(N,B.Dy,r);var Y=B.KM.Lefx;
if(Y){B.KM.Lefx=JSON.parse(JSON.stringify(Y));fT.ef(B.KM.Lefx.v)}U.GK(N,r,16);r+=4;r+=dj.ih(N,B.KM,r);
if(Y)B.KM.Lefx=Y;U.GK(N,A-4,r-A)}return N.data.slice(0,r).buffer};function eA(){}eA.sJ=function(s,N,r){var S=U.XF(s,N);
N+=2;var z={};z.CO=U.XF(s,N)==1;N+=2;z.yh=[];for(var l=0;l<10;l++){var A=[];z.yh.push(A);for(var B=0;
B<4;B++)A.push(U.AC(s,N+B*2));N+=8}var Y=hT.yS("selc");Y.Mthd.v.CrcM=z.CO?"Absl":"Rltv";for(var l=1;
l<10;l++)eA.Sk(Y,l-1,z.yh[l]);return Y};eA.p_="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
eA.tD=function(s,l){var N=["Cmps","Rd","Grn","Bl"],r={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:N[l]}}]};
return{classID:s,Chnl:r}};eA.BC=function(s,N){var r=eA.p_;for(var l=0;l<s.length;l++){var S=s[l].v,z=r.indexOf(S.Clrs.v.Clrs);
if(z==N)return l}return-1};eA.Sk=function(s,N,r){var S=["Cyn","Mgnt","Ylw","Blck"],z={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:eA.p_[N]}}};
for(var A=0;A<4;A++)z[S[A]]={t:"UntF",v:{type:"#Prc",val:r[A]}};z={t:"Objc",v:z};var B=s.ClrC.v,Y=eA.BC(B,N);
if(Y==-1)B.push(z);else B[Y]=z};eA.Xc=function(s,N){var r=[0,0,0,0],S=s.ClrC.v,z=eA.BC(S,N);if(z==-1)return r;
var A=["Cyn","Mgnt","Ylw","Blck"];for(var l=0;l<4;l++)if(S[z].v[A[l]])r[l]=S[z].v[A[l]].v.val;return r};
eA.d$=function(s,N,r){var S={CO:r.Mthd.v.CrcM=="Absl",yh:[[0,0,0,0]]};for(var l=0;l<9;l++)S.yh.push(eA.Xc(r,l));
s.yd(N,84);U.a4(s.data,N,1);N+=2;U.a4(s.data,N,S.CO?1:0);N+=2;for(var l=0;l<10;l++){var z=S.yh[l];for(var A=0;
A<4;A++)U.S$(s.data,N+A*2,z[A]);N+=8}return 84};function c1(){}c1.yS=function(){return{CS:new hq(0,0,50,50),Dy:"",U1:"play",_:q.J.kt.WU([.1,.1,.9,.5,.1,.9],0)}};
c1.j7=function(s){s=new Uint8Array(s);var N=0,r=[],S=Date.now(),z=U.TX(s,0,4);N+=4;var A=U.l(s,N);N+=4;
var B=U.l(s,N);N+=4;for(var l=0;l<B;l++){var Y=U.e2(s,N);N+=Y.length*2+4+2;if((Y.length&1)==0)N+=2;N=c1.vG(s,N,Y,r)}return r};
c1.vG=function(s,N,r,S){var z=U.l(s,N);N+=4;var A=U.l(s,N);N+=4;var B=N,Y=U.cU(s,B).c1;B+=Y.length+1;
var t=U.xX(s,B);B+=16;var p=c1.JD(s,B,A-(B-N)),f=q.J.N6(p),a=q.g.OH(f),D=1/a.G,c=1/a.n;q.J.Yy(p,new gF(D,0,0,c,-a.x*D,-a.y*c));
S.push({U1:r,Dy:Y,_:p,CS:t});N+=A;return N};c1.qk=function(s,N){s.U1=N};c1.vM=function(s){var N=new iY,r=0;
U.Gc(N,r,"cush");r+=4;U.GK(N,r,2);r+=4;U.GK(N,r,s.length);r+=4;for(var l=0;l<s.length;l++){var S=s[l],z=S.U1+"\0";
U.XG(N,r,z);r+=4+z.length*2;if((z.length&1)==1)r+=2;U.GK(N,r,1);r+=4;r+=4;var A=r;U.hR(N,r,S.Dy);r+=S.Dy.length+1;
U._m(N,r,S.CS);r+=16;N.yd(r,S._.length*26);c1.JJ(N.data,r,S._,1,1);r+=S._.length*26;var B=r-A;if((B&3)!=0)B+=4-(B&3);
U.GK(N,A-4,B);r=A+B}return N.data.slice(0,r).buffer};c1.a3U=function(s){var N=[];for(var l=0;l<s.length;
l++){var r=s[l],S=r.type,z={type:S};N.push(z);if(S==6){}else if(S==8)z.all=r.all;else if(S==0||S==3){z.length=r.length;
z.frule=r.my;z.third=r.cd;z.prmA=r.L_;z.prmB=r.p4}else{z.c=[r.hJ.x,r.hJ.y,r.H.x,r.H.y,r.De.x,r.De.y]}}return N};
c1.a7X=function(s){var N=[];for(var l=0;l<s.length;l++){var r=s[l],S=r.type,z={type:S};N.push(z);if(S==6){}else if(S==8)z.all=r.all;
else if(S==0||S==3){z.length=r.length;z.my=r.frule;z.cd=r.third;z.L_=r.prmA;z.p4=r.prmB}else{var A=r.c;
z.hJ=new cR(A[0],A[1]);z.H=new cR(A[2],A[3]);z.De=new cR(A[4],A[5])}}return N};c1.JD=function(s,N,r,S,z){if(S==null)S=1;
if(z==null)z=1;function A(Z,Q,M){var u=U.amx(Z,Q)*M,P=Math.round(u);return Math.abs(u-P)<1e-6?P:u}var B=U.AC,Y=[],t=Math.floor(r/26);
for(var l=0;l<t;l++){var p=N+l*26,f={},a=0;Y.push(f);f.type=B(s,p);p+=2;if(f.type==6){a=24}if(f.type==8){f.all=B(s,p);
p+=2;a=22}if(f.type==0||f.type==3){f.length=B(s,p);p+=2;f.my=B(s,p);p+=2;f.cd=B(s,p);p+=2;f.L_=U.l(s,p);
p+=4;f.p4=U.l(s,p);p+=4;a=10}if(f.type==1||f.type==2||f.type==4||f.type==5){var D,c;c=A(s,p,z);p+=4;
D=A(s,p,S);p+=4;f.hJ=new cR(D,c);c=A(s,p,z);p+=4;D=A(s,p,S);p+=4;f.H=new cR(D,c);c=A(s,p,z);p+=4;D=A(s,p,S);
p+=4;f.De=new cR(D,c);a=0}for(var J=0;J<a;J++)if(s[p+J]!=0){console.log("Unexpected non-zero byte!",f,J,s[p+J])}}return Y};
c1.JJ=function(s,N,r,S,z){var A=U.S$,B=U._1,Y=r.length;for(var l=0;l<Y;l++){var t=N+l*26,p=r[l];A(s,t,p.type);
t+=2;if(p.type==6){}if(p.type==8)A(s,t,p.all);if(p.type==0||p.type==3){A(s,t,p.length);t+=2;A(s,t,p.my);
t+=2;A(s,t,p.cd);t+=2}if(p.type==1||p.type==2||p.type==4||p.type==5){B(s,t,p.hJ.y/z);t+=4;B(s,t,p.hJ.x/S);
t+=4;B(s,t,p.H.y/z);t+=4;B(s,t,p.H.x/S);t+=4;B(s,t,p.De.y/z);t+=4;B(s,t,p.De.x/S);t+=4}}};function hc(){}hc.j7=function(s){var N=new Uint8Array(s),r=[],S=0;
S=hc.Zz(N,S,r);if(S+3<N.length){r=[];S=hc.Zz(N,S,r)}return r};hc.Zz=function(s,N,r){var S=U.XF,z=U.AC,A=S(s,N);
N+=2;var B=S(s,N);N+=2;for(var l=0;l<B;l++){var Y=hc.JG(s,N);N+=10;if(A==2){Y.v8=U.e2(s,N);N+=4+Y.v8.length*2+2}r.push(Y)}return N};
hc.JG=function(s,N){var r=U.XF,S=U.AC,z=r(s,N),c=null;N+=2;var A=r(s,N);N+=2;var B=r(s,N);N+=2;var Y=r(s,N);
N+=2;var t=r(s,N);N+=2;var p=1/65535,f=255/65535,a=100/65535,D=255/1e4;if(z==0)c={w:A*f,A:B*f,U:Y*f};
else if(z==1){c=q.qG(A*p,B*p,Y*p);c.w*=255;c.A*=255;c.U*=255}else if(z==2)c=q.i.iy({classID:"CMYC",Cyn:{t:"doub",v:100-A*a},Mgnt:{t:"doub",v:100-B*a},Ylw:{t:"doub",v:100-Y*a},Blck:{t:"doub",v:100-t*a}});
else if(z==7){var J=q.Hs(A/100,S(s,N-6)/100,S(s,N-4)/100);c=J}else if(z==8){c={w:255-A*D,A:255-B*D,U:255-Y*D}}else throw"e "+z+", ";
return c};hc.vM=function(s){var N=new iY,r=0,S=U.Ir;S(N,r,2);r+=2;S(N,r,s.length);r+=2;for(var l=0;l<s.length;
l++){var z=s[l];N.yd(r,10);hc.xQ(N.data,r,z);r+=10;var A=(z.v8?z.v8:"")+"\0";U.XG(N,r,A);r+=4+A.length*2}return N.data.slice(0,r).buffer};
hc.qk=function(s,N){s.v8=N};hc.xQ=function(s,N,r){var S=65535/255,z=U.a4;z(s,N,0);z(s,N+2,Math.round(r.w*S));
z(s,N+4,Math.round(r.A*S));z(s,N+6,Math.round(r.U*S));z(s,N+8,0)};function eN(){}eN.j7=function(s){var N=new Uint8Array(s),r=4,S={};
S.Ru=U.e2(N,r);r+=4+S.Ru.length*2+2;S.exp=N[r++]==1;S.bh=[];var z=U.l(N,r);r+=4;for(var l=0;l<z;l++){var A={};
S.bh.push(A);A.Jb=U.XF(N,r);r+=2;A.shift=N[r++]==1;A.acH=N[r++]==1;A.color=U.XF(N,r);r+=2;A.Ru=U.e2(N,r);
r+=4+A.Ru.length*2+2;A.exp=N[r++]==1;A.bh=[];var B=U.l(N,r);r+=4;for(var Y=0;Y<B;Y++){var t={};A.bh.push(t);
t.exp=N[r++]==1;t.K=N[r++]==1;t.aiR=N[r++]==1;t.axg=N[r++];var p=U.TX(N,r,4);r+=4;if(p=="TEXT"){t.uU=eN.tQ(N,r);
r+=4+t.uU.length}else if(p=="long"){t.uU=U.TX(N,r,4);r+=4}else throw"e";t.B$=eN.tQ(N,r);r+=4+t.B$.length;
var f=U.sn(N,r);r+=4;if(f==-1){t.wz={};var a=dj.LT(N,t.wz,r);r+=a}}}console.log(S);var D=new Uint8Array(eN.vM(S));
for(var l=0;l<D.length;l++)if(D[l]!=N[l]&&U.TX(N,l+1,4)!="None"){console.log(N.length,D.length);var c=4*(l>>>2)-16;
console.log(U.M2(N,c,64));console.log(U.M2(D,c,64));console.log(N.slice(c,c+64));console.log(D.slice(c,c+64));
throw"i"}return[S]};eN.tQ=function(s,N){var r=U.l(s,N);return U.TX(s,N+4,r)};eN.uA=function(s,N,r){U.GK(s,N,r.length);
U.Gc(s,N+4,r)};eN.vM=function(s){var N=new iY,r=0;U.GK(N,r,16);r+=4;U.XG(N,r,s.Ru+"\0");r+=4+s.Ru.length*2+2;
N.yd(r,1);N.data[r++]=s.exp?1:0;var S=s.bh.length;U.GK(N,r,S);r+=4;for(var l=0;l<S;l++){var z=s.bh[l];
U.Ir(N,r,z.Jb);r+=2;N.yd(r,2);N.data[r++]=z.shift?1:0;N.data[r++]=z.acH?1:0;U.Ir(N,r,z.color);r+=2;U.XG(N,r,z.Ru+"\0");
r+=4+z.Ru.length*2+2;N.yd(r,1);N.data[r++]=z.exp?1:0;var A=z.bh.length;U.GK(N,r,A);r+=4;for(var B=0;
B<A;B++){var Y=z.bh[B];N.yd(r,4);N.data[r++]=Y.exp?1:0;N.data[r++]=Y.K?1:0;N.data[r++]=Y.aiR?1:0;N.data[r++]=Y.axg;
var t="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(Y.uU)!=-1;U.Gc(N,r,t?"long":"TEXT");r+=4;
if(!t){eN.uA(N,r,Y.uU);r+=4+Y.uU.length}else{U.Gc(N,r,Y.uU);r+=4}eN.uA(N,r,Y.B$);r+=4+Y.B$.length;U.dR(N,r,Y.wz?-1:0);
r+=4;if(Y.wz){var p=dj.ih(N,Y.wz,r);r+=p}}}return N.data.slice(0,r).buffer};function cb(){}cb.j7=function(s){var N=new Uint8Array(s),r=0,S=U.l(N,r),t;
r+=4;var z=U.TX(N,r,8);r+=8;var A=U.g2(N,r);r+=4;var B=U.g2(N,r);r+=4;var Y=U.g2(N,r);r+=4;if(S==2){t=new Float32Array(s,32,s.byteLength-32>>>2)}else if(S==3||S==4){t=new Float32Array(B*Y*2);
var p=0,f=0,a=!0;r=S==3?32:16+8+40;while(r<N.length){var D=U.g2(N,r);r+=4;if(a)f+=D;else{for(var l=0;
l<D;l++){t[p+f+l<<1]=U.gl(N,r);t[(p+f+l<<1)+1]=U.gl(N,r+4);r+=8}f+=D}a=!a;if(D!=0&&f==B){p+=B;f=0;a=!0;
if(p==B*Y)break}}}else throw"unknown Mesh version: "+S;return{s7:B,JY:Y,map:t}};cb.MJ=function(s){var N=s.s7,r=s.JY,S=s.map,z=new Uint8Array(32+r*N*8+r*8),A=0,B=0;
U.sM(z,A,3);A+=4;U.s6(z,A,"yfqLhseM");A+=8;U.BZ(z,A,2);A+=4;U.BZ(z,A,N);A+=4;U.BZ(z,A,r);A+=4;U.BZ(z,A,0);
A+=4;U.BZ(z,A,1);A+=4;for(var Y=0;Y<r;Y++){U.BZ(z,A,0);A+=4;U.BZ(z,A,N);A+=4;for(var t=0;t<N;t++){U.VJ(z,A,S[B]);
U.VJ(z,A+4,S[B+1]);B+=2;A+=8}}return z.buffer};function it(){}it.j7=function(s){var N=new Uint8Array(s),r=0,S=U.TX(N,r,4);
r+=4;var z=U.XF(N,r);r+=2;var A=U.l(N,r);r+=4;var B=[];for(var l=0;l<A;l++){var Y=U.l(N,r);r+=4;var t={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
B.push(t);var p=U.e2(N,r);t.Nm.v=p;r+=4+p.length*2+2;var f=U.XF(N,r);r+=2;var a=U.XF(N,r);r+=2;for(var D=0;
D<a;D++){var c=q.R2.rP(0,0,!0);c.v.Vrtc.v=U.XF(N,r);r+=2;c.v.Hrzn.v=U.XF(N,r);r+=2;t.Crv.v.push(c)}if(Y==1){}else if(Y==2){for(var D=0;
D<a;D++){t.Crv.v[D].v.Cnty.v=N[r]==1;r+=1}}else throw"error";var J=U.l(N,r);r+=4;var Z=U.l(N,r);r+=4}return B};
it.qk=function(s,N){s.Nm.v=N};it.vM=function(s){var N=new iY,r=0;U.Gc(N,r,"8BFS");r+=4;U.Ir(N,r,1);r+=2;
U.GK(N,r,s.length);r+=4;for(var l=0;l<s.length;l++){U.GK(N,r,2);r+=4;var S=s[l];U.XG(N,r,S.Nm.v+"\0");
r+=4+S.Nm.v.length*2+2;U.Ir(N,r,2);r+=2;var z=S.Crv.v.length;U.Ir(N,r,z);r+=2;for(var A=0;A<z;A++){var B=S.Crv.v[A];
U.Ir(N,r,B.v.Vrtc.v);r+=2;U.Ir(N,r,B.v.Hrzn.v);r+=2}N.yd(r,z);for(var A=0;A<z;A++){N.data[r]=S.Crv.v[A].v.Cnty.v;
r++}U.GK(N,r,0);r+=4;U.GK(N,r,0);r+=4}return N.data.slice(0,r).buffer};function cC(){}cC.j7=function(s){var N=new Uint8Array(s),r=4,S=U.XF(N,r);
r+=2;var z=U.l(N,r);r+=4;var A=[];for(var l=0;l<z;l++){var B={};A.push(B);r=cC.$p(N,r,B)}return A};cC.qk=function(s,N){s.name=N};
cC.vM=function(s){var N=new iY,r=0;U.Gc(N,r,"8BPT");r+=4;U.Ir(N,r,1);r+=2;U.GK(N,r,s.length);r+=4;for(var l=0;
l<s.length;l++){r=cC.V5(N,r,s[l])}return N.data.slice(0,r).buffer};cC.KY=function(s,N,r){var S=N+r,z=[];
while(N<S){var A={},B=U.l(s,N);N+=4;var Y=N;N=cC.$p(s,N,A);if(!A.yK[1].Nf())z.push(A);if(B%4!=0)B+=4-B%4;
N=Y+B}return z};cC.AL=function(s,N,r){for(var l=0;l<r.length;l++){var S=r[l];N+=4;var z=N;N=cC.V5(s,N,S);
var A=N-z;U.GK(s,z-4,A);if(A%4!=0)z+=4-A%4;N=z+A}return N};cC.$p=function(s,N,r){var S=U.l(s,N);N+=4;
if(S!=1)alert("Unknown version of pattern");var z=U.l(s,N);N+=4;if(z!=1&&z!=2&&z!=3)console.log("Unsupported mode of pattern: "+z);
var A=U.XF(s,N);N+=2;var B=U.XF(s,N);N+=2;var Y=new hq(0,0,B,A);r.name=U.e2(s,N);N+=4+2*r.name.length+2;
var t=s[N];N++;r.id=U.TX(s,N,t);N+=r.id.length;var p=-1;if(z==2){p=N;N+=3*256+4}var f=new q.Ek(B*A);
N=cC.a70(s,N,f);if(z==2){for(var l=0;l<f.w.length;l++){var a=3*f.w[l];f.w[l]=s[p+a+0];f.A[l]=s[p+a+1];
f.U[l]=s[p+a+2]}}var D=q.m(Y.$()*4);q.vZ(f,D);r.yK=[D,Y];return N};cC.V5=function(s,N,r){var S=r.yK[0],z=r.yK[1];
U.GK(s,N,1);N+=4;U.GK(s,N,3);N+=4;U.Ir(s,N,z.n);N+=2;U.Ir(s,N,z.G);N+=2;U.XG(s,N,r.name+"\0");N+=4+2*r.name.length+2;
U.p8(s,N,r.id.length);N++;U.Gc(s,N,r.id);N+=r.id.length;var A=new q.Ek(z.$());q.oK(S,A);N=cC.a8H(s,N,A,z);
return N};cC.a70=function(s,N,r){var S=N,z={Ge:null,$s:[],a26:null,MT:null},A=U.l(s,N);N+=4;var B=U.l(s,N);
N+=4;z.Ge=U.xX(s,N);N+=16;var Y=U.l(s,N);N+=4;for(var l=0;l<Y+2;l++){var t=U.l(s,N);N+=4;if(t==0)continue;
var p=U.l(s,N);N+=4;if(p==0)continue;var f=U.l(s,N);N+=4;var a=U.xX(s,N);N+=16;var D=U.XF(s,N);N+=2;
var c=s[N];N++;var J=g9.B8(!1,f,s,a.G,a.n,N,c);if(l<Y)z.$s.push(J);if(l==Y)z.a26=J;if(l==Y+1)z.MT=J;
N+=p-23}if(!z.Ge.Nf()){if(z.$s[0])r.w=z.$s[0];if(z.$s[1])r.A=z.$s[1];else r.A=z.$s[0].slice(0);if(z.$s[2])r.U=z.$s[2];
else r.U=z.$s[0].slice(0);if(z.MT)r.aC=z.MT;else r.aC.fill(255)}return N};cC.a8H=function(s,N,r,S){var z=N,A={Ge:S,$s:[r.w,r.A,r.U],a26:null,MT:r.aC};
U.GK(s,N,3);N+=4;U.GK(s,N,0);N+=4;U._m(s,N,S);N+=16;U.GK(s,N,24);N+=4;for(var l=0;l<24+2;l++){var B=N,Y=l<3||l==25?1:0;
U.GK(s,N,Y);N+=4;if(Y==0)continue;U.GK(s,N,0);N+=4;U.GK(s,N,8);N+=4;U._m(s,N,S);N+=16;U.Ir(s,N,8);N+=2;
U.p8(s,N,1,1);N++;var t=l<3?A.$s[l]:A.MT;s.yd(N,S.$()+2);N=g9.ZJ(!1,t,s.data,S.G,S.n,N,1);U.GK(s,B+4,N-B-8)}U.GK(s,z+4,N-z-8);
return N};function gS(){}gS.j7=function(s){var N=new Uint8Array(s),r=0;if(N[0]==71)return gS.a89(N);
var S=U.TX(N,r,4);r+=4;var z=U.XF(N,r);r+=2;var A=[];if(z<=3){var B=U.XF(N,r);r+=2;for(var l=0;l<B;l++){var Y=N[r++],t=U.TX(N,r,Y);
r+=Y;var p=gS.i8(N,r,t),f=p[0];r=p[1];A.push(f)}}else{var p={},a=dj.LT(N,p,r+4),D=p.GrdL.v;for(var l=0;
l<D.length;l++)A[l]=D[l].v.Grad.v}return A};gS.qk=function(s,N){s.Nm.v=N};gS.vM=function(s){var N=new iY,r=0;
U.Gc(N,r,"8BGR");r+=4;U.Ir(N,r,5);r+=2;U.GK(N,r,16);r+=4;var S={classID:"null",GrdL:{t:"VlLs",v:[]}},z=S.GrdL.v;
for(var l=0;l<s.length;l++)z[l]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:s[l]}}};
r+=dj.ih(N,S,r);return N.data.slice(0,r).buffer};gS.i8=function(s,N,r){var S={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:r},Trns:{t:"VlLs",v:[]}},z=U.XF(s,N);
N+=2;if(z==0)throw"e";for(var l=0;l<z;l++){var A=U.l(s,N),B=U.l(s,N+4),Y=hc.JG(s,N+8),t={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:Y.w},Grn:{t:"doub",v:Y.A},Bl:{t:"doub",v:Y.U}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:A},Mdpn:{t:"long",v:B}}};
S.Clrs.v.push(t);N+=20}var p=U.XF(s,N);N+=2;for(var l=0;l<p;l++){var A=U.l(s,N),B=U.l(s,N+4),f=U.XF(s,N+8),t={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*f/255)}},Lctn:{t:"long",v:A},Mdpn:{t:"long",v:B}}};
S.Trns.v.push(t);N+=10}var a=U.XF(s,N);N+=2;if(a!=2)throw a;S.Intr.v=U.XF(s,N);N+=2;var D=U.XF(s,N);
N+=2;if(D!=32)throw"e";return[S,N]};gS.aoF=function(s,N,r){var S=r.Clrs.v.length;U.Ir(s,N,S);N+=2;for(var l=0;
l<S;l++){var z=r.Clrs.v[l];U.GK(s,N,z.v.Lctn.v);U.GK(s,N+4,z.v.Mdpn.v);U.Ir(s,N+8,0);var A=q.i.Sm(q.i.iy(z.v.Clr.v)),B=[A.Rd.v,A.Grn.v,A.Bl.v,0];
for(var Y=0;Y<4;Y++)U.Ir(s,N+10+Y*2,Math.round(65535*(B[Y]/255)));N+=20}var t=r.Trns.v.length;U.Ir(s,N,t);
N+=2;for(var l=0;l<t;l++){var z=r.Trns.v[l];U.GK(s,N,z.v.Lctn.v);U.GK(s,N+4,z.v.Mdpn.v);U.Ir(s,N+8,Math.round(255*z.v.Opct.v.val/100));
N+=10}U.Ir(s,N,2);N+=2;U.Ir(s,N,r.Intr.v);N+=2;U.Ir(s,N,32);N+=2;return N};gS.a89=function(s){var N=U.uE(s,0,s.length).split("\n"),r=parseFloat(N[2]),S=[],z=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]).Grad.v;
z.Intr.v=0;z.Nm.v=N[1];for(var l=0;l<r;l++){var A=N[3+l].split(" ").map(parseFloat),B=A[11],Y=A[12];
S.push([A[0],A.slice(3,6),A[6]]);if(Y!=0){var t=q.R4(A[3],A[4],A[5]),p=q.R4(A[7],A[8],A[9]),f=t.JY,a=p.JY;
if(Y==1&&f>a)a++;if(Y==2&&f<a)f++;var D=Math.round(Math.abs(a-f)*7);if(D>1)for(var c=0;c<D;c++){var J=1-(c+1)/(D+1),Z=1-J,Q=q.qG(J*f+Z*a,J*t.D7+Z*p.D7,J*t.kc+Z*p.kc);
S.push([J*A[0]+Z*A[2],[Q.w,Q.A,Q.U],J*A[6]+Z*A[10]])}}S.push([A[2],A.slice(7,10),A[10]])}S.sort(function(M,u){return M[0]-u[0]});
q.i.UO(S,z);return[z]};function gv(){}gv.j7=function(s){var N=new Uint8Array(s),r=[],S=[],z=[],A=[],B=[],Y=0,t=U.TX(N,Y,4);
Y+=4;var p=U.l(N,Y);Y+=4;var f=U.l(N,Y);Y+=4;while(Y<N.length){var a=U.TX(N,Y,4);Y+=4;var D=U.TX(N,Y,4);
Y+=4;var c=U.l(N,Y);Y+=4;if(D=="tppa"){S=cC.KY(N,Y,c);Y+=c}else if(D=="tpbd"){z=cE.gz(N,Y,c,1,1);Y+=c}else if(D=="tptp"){var J=U.l(N,Y);
Y+=4;for(var l=0;l<J;l++){var Z=U.e2(N,Y);Y+=6+Z.length*2;Y+=4;var Q={};Y+=dj.LT(N,Q,Y);r.push([Z,Q])}while((Y&3)!=0)Y++}else if(D=="tpsh"){var M=Y,u=N.slice(Y,Y+c);
while(Y<M+c){var P=U.l(N,Y);Y+=4;Y=c1.vG(N,Y,"Shape",A)}Y=M+c}else if(D=="tpst"){var M=Y;Y+=4;while(Y<M+c){var m=U.l(N,Y);
Y+=4;var i=Y,e=U.l(N,Y);Y+=4;var Q={Dy:{},KM:{}};B.push(Q);Y+=4;Y+=dj.LT(N,Q.Dy,Y);Y+=4;Y+=dj.LT(N,Q.KM,Y);
Y=i+m;var X=Q.KM.Lefx;if(X){if(X.v.masterFXSwitch==null)X.v.masterFXSwitch={t:"bool",v:!0};fT.gm(X.v)}}Y=M+c}else{console.log(N.slice(Y-8,Y+64));
console.log(U.TX(N,Y-8,64));throw D}}return{nv:z,wf:S,list:r,as3:A,yc:B}};gv.qk=function(s,N){s[0]=N};
gv.vM=function(s){var N=new iY,r=0;U.Gc(N,r,"8BTP");r+=4;U.GK(N,r,3);r+=4;U.GK(N,r,1);r+=4;var S=[s.wf,s.nv,s.list];
for(var l=0;l<3;l++){if(S[l].length==0)continue;U.Gc(N,r,"8BIM");r+=4;var z=["tppa","tpbd","tptp"][l];
U.Gc(N,r,z);r+=4;var A=r;r+=4;if(z=="tppa"){r=cC.AL(N,r,s.wf)}else if(z=="tpbd"){r=cE.Xr(N,r,s.nv)}else if(z=="tptp"){U.GK(N,r,s.list.length);
r+=4;for(var B=0;B<s.list.length;B++){var Y=s.list[B];U.XG(N,r,Y[0]+"\0");r+=6+Y[0].length*2;U.GK(N,r,16);
r+=4;r+=dj.ih(N,Y[1],r)}}U.GK(N,A,r-A-4);while((r&3)!=0)r++;N.yd(r,0)}return N.data.slice(0,r).buffer};
function gY(){}gY.j7=function(s,N){var r=new Uint8Array(s),S;if(U.l(r,0)==r.length)S="icc";else if(r[0]=="<".charCodeAt(0))S="look";
else if(U.yC(r,"LUT_3D_SIZE")!=-1)S="cube";else S="3DL";if(S!="icc"){var z=gY.a6M(r,S),A=gY.abH(z[0],z[1]);
r=A}var B=[];for(var l=0;l<r.length;l++)B.push(r[l]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:N?N:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:B}}]};
gY.vM=function(s){var N=s[0],r=new Uint8Array(N.profile.v);return r.buffer};gY.qk=function(s,N){s.Nm.v=N};
gY.abH=function(s,N){var r=new iY,S=128;r.yd(0,128);var z=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var l=0;l<z.length;l++)r.data[l]=z[l];var A=["desc","A2B0"],B=A.length,Y=128+4+B*12;U.GK(r,S,B);
S+=4;for(var t=0;t<B;t++){var p=A[t];U.Gc(r,S,p);S+=4;U.GK(r,S,Y);S+=4;var f=Y;if(p=="desc"){U.Gc(r,f,"mluc");
f+=4;f+=4;U.GK(r,f,1);f+=4;U.GK(r,f,12);f+=4;U.Gc(r,f,"enUS");f+=4;var a="ICC by Photopea\0",D=a.length*2+2;
U.GK(r,f,D);f+=4;U.GK(r,f,28);f+=4;r.yd(f,D);for(var l=0;l<a.length;l++)r.data[f+l*2+1]=a.charCodeAt(l);
f+=D}if(p=="A2B0"){U.Gc(r,f,"mAB ");f+=4;f+=4;r.yd(f,4);r.data[f]=3;r.data[f+1]=3;f+=4;r.yd(f,4*5);f+=4*3;
U.GK(r,f,f+8-Y);f+=4;f+=4;r.yd(f,20);r.data[f]=s;r.data[f+1]=s;r.data[f+2]=s;f+=16;r.data[f]=2;f+=4;
var c=s*s*s*3;r.yd(f,c*2);for(var l=0;l<c;l++)U.a4(r.data,f+l*2,Math.max(0,Math.min(65535,Math.round(N[l]*65535))));
f+=c*2}var J=f-Y;while((J&3)!=0)J++;U.GK(r,S,J);S+=4;Y+=J}U.GK(r,0,Y);return r.data.slice(0,Y)};gY.a6M=function(s,N){N="LUTFormat"+N.toUpperCase();
var r=[],S=0,z=U.uE(s,0,s.length),A="";for(var l=0;l<s.length&&A=="";l++){if(s[l]==10)A="\n";else if(s[l]==13){A="\r";
if(s[l+1]==10)A+="\n"}}if(N=="LUTFormatCUBE"){var B=z.split(A);for(var l=0;l<B.length;l++){if(B[l]==""||B[l][0]=="#")continue;
var Y=B[l].split(" "),t=Y[0];if(t=="LUT_3D_SIZE"){S=parseInt(Y[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(t)!=-1)continue;
r.push(parseFloat(Y[0]),parseFloat(Y[1]),parseFloat(Y[2]))}r=gY.Jh(S,r)}else if(N=="LUTFormat3DL"){var B=z.split(A),p=1/4095;
for(var l=0;l<B.length;l++){var f=B[l];if(f==""||f=="3DMESH"||f.startsWith("Mesh")||f[0]=="#")continue;
var Y=f.split(" "),t=Y[0];if(S==0){S=Y.length;continue}r.push(parseFloat(Y[0])*p,parseFloat(Y[1])*p,parseFloat(Y[2])*p)}}else if(N=="LUTFormatLOOK"){var a=new DOMParser,D=a.parseFromString(z,"text/xml"),c=D.getElementsByTagName("LUT")[0],J=c.children[0].textContent;
S=parseInt(JSON.parse(J));var Z=c.children[1].textContent;Z=Z.replace(/"/g,"").replace(/\s/g,"");var Q=3*S*S*S,M=Q*4,u=new Uint8Array(M);for(var l=0;l<M;l++){var P=Z.charCodeAt(l*2),m=Z.charCodeAt(l*2+1),i=P<58?P-48:P-55,e=m<58?m-48:m-55;u[l]=(i<<4)+e}for(var l=0;l<Q;l++)r.push(U.gl(u,l<<2));r=gY.Jh(S,r)}else throw N;return[S,r]};gY.aun=function(s,N,r){var S=["#Created by www.Photopea.com","TITLE \""+r+"\"","","#LUT size","LUT_3D_SIZE "+N,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],z=6;
for(var l=0;l<s.length;l+=3){S.push(s[l].toFixed(z)+" "+s[l+1].toFixed(z)+" "+s[l+2].toFixed(z))}S.push("");
return U.et(S.join("\n")).buffer};gY.Jh=function(s,N){var r=[],S=s*s*s;for(var l=0;l<S;l++)r.push(0,0,0);
for(var z=0;z<s;z++)for(var A=0;A<s;A++)for(var B=0;B<s;B++){var l=3*(B+A*s+z*s*s),Y=3*(z+A*s+B*s*s);
r[Y]=N[l];r[Y+1]=N[l+1];r[Y+2]=N[l+2]}return r};function dj(){}dj.LT=function(s,N,r,S,z){var A=r,B;if(z==null)z=0;
var Y=U.l(s,r);if(Y==0){B="";r+=4}else{B=U.e2(s,r);r+=4+2*B.length+2}if(B!="")N.__name=B;N.classID=dj.mn(s,r);
if(S)console.log("\t".repeat(z),"- reading descriptor",N.classID,r);r+=dj.Gy(s,r);var t=U.sn(s,r);r+=4;
for(var l=0;l<t;l++){var p=dj.mn(s,r);r+=dj.Gy(s,r);var f=dj.xD(s,r,S,z);N[p]=f;r+=f.size;delete f.size}return r-A};
dj.ih=function(s,N,r,S){var z=r,A=N.__name;if(A==null)A="";A+="\0";U.XG(s,r,A);r+=4+2*A.length;dj.K8(s,r,N.classID);
r+=dj.Gy(s.data,r);U.dR(s,r,Object.keys(N).length-1-(N.__name==null?0:1));r+=4;for(var B in N){if(B=="classID")continue;
if(B=="__name")continue;dj.K8(s,r,B);r+=dj.Gy(s.data,r);r+=dj.N5(s,r,N[B])}return r-z};dj.xD=function(s,N,r,S){var z=N,A=U.TX(s,N,4);
N+=4;var B={size:0,t:A,v:null};if(r)console.log("\t".repeat(S),"reading key",A,z);switch(A){case"obj ":case"VlLs":B.v=[];
var Y=U.l(s,N);N+=4;for(var l=0;l<Y;l++){var t=dj.xD(s,N,r,S+1);N+=t.size;delete t.size;B.v.push(t)}break;
case"UntF":B.v={type:U.TX(s,N,4),val:U.bv(s,N+4)};N+=12;break;case"doub":B.v=U.bv(s,N);N+=8;break;case"bool":B.v=s[N]==1;
N+=1;break;case"long":B.v=U.sn(s,N);N+=4;break;case"comp":B.v=U.sn(s,N+4);N+=8;break;case"Objc":B.v={};
var p=dj.LT(s,B.v,N,r,S+1);N+=p;break;case"TEXT":var f=U.l(s,N);if(f==0){B.v="";N+=4}else{B.v=U.e2(s,N);
N+=4+B.v.length*2+2}break;case"enum":var a=dj.mn(s,N);N+=dj.Gy(s,N);var D=dj.mn(s,N);N+=dj.Gy(s,N);B.v={};
B.v[a]=D;break;case"tdta":var c=U.sn(s,N);N+=4;B.v=[];for(var l=0;l<c;l++)B.v.push(s[N+l]);N+=c;break;
case"ObAr":var J=U.l(s,N);N+=4;var Z=U.e2(s,N);N+=4+2*Z.length+2;if(Z!="")throw Z;var Q=dj.mn(s,N);N+=4+Math.max(4,Q.length);
B.v={classID:Q,arr:[]};var M=U.l(s,N);N+=4;for(var l=0;l<M;l++){var Q=dj.mn(s,N);N+=4+Math.max(4,Q.length);
var a=U.TX(s,N,4);N+=4;var u=U.TX(s,N,4);N+=4;var P={id:Q,type:a,uID:u,arr:[]};B.v.arr.push(P);var m=U.l(s,N,4);
N+=4;for(var i=0;i<m;i++){var e=U.bv(s,N);N+=8;P.arr.push(e)}}break;case"Pth ":var X=N,c=U.l(s,N);N+=4;
var $=U.TX(s,N,4);N+=4;var O=U.g2(s,N);N+=4;var T=U.apM(s,N);N+=4+T.length*2;B.v={sig:$,pth:T};break;
case"Clss":case"type":case"rele":var T=U.e2(s,N);N+=4+T.length*2+2;var b=dj.mn(s,N);N+=4+Math.max(4,b.length);
B.v={classID:b};if(T!="")B.v.__name=T;if(A=="rele"){B.v.val=U.sn(s,N);N+=4}break;case"prop":case"Enmr":case"indx":case"name":var R=dj.cv[A],T=U.e2(s,N);
N+=4+T.length*2+2;if(T.length!=0){console.log(A,T);throw"e"}B.v={};for(var l=0;l<R.length;l++){var b=dj.mn(s,N);
N+=4+Math.max(4,b.length);B.v[R[l]]=b}if(A=="name"){var T=U.e2(s,N);N+=4+T.length*2+2;B.v.val=T}if(A=="indx"){B.v.val=U.l(s,N);
N+=4}break;case"alis":var c=U.l(s,N);N+=4;B.v=U.TX(s,N,c);N+=c;break;default:{console.log("unknown oskey: "+A+", "+z);
throw"e";return B}}if(r){console.log("\t".repeat(S),B.v);console.log("\t".repeat(S),"======",N)}B.size=N-z;
return B};dj.cv={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
dj.N5=function(s,N,r){var S=N,z=r.t;r=r.v;U.Gc(s,N,z);N+=4;switch(z){case"obj ":case"VlLs":U.dR(s,N,r.length);
N+=4;for(var A=0;A<r.length;A++){var B=dj.N5(s,N,r[A]);N+=B}break;case"UntF":U.Gc(s,N,r.type);U.HY(s,N+4,r.val);
N+=12;break;case"doub":U.HY(s,N,r);N+=8;break;case"bool":U.p8(s,N,r?1:0,1);N+=1;break;case"long":U.dR(s,N,r);
N+=4;break;case"comp":U.dR(s,N+4,r);N+=8;break;case"Objc":var B=dj.ih(s,r,N);N+=B;break;case"TEXT":U.XG(s,N,r+"\0");
N+=4+r.length*2+2;break;case"enum":var Y=Object.keys(r)[0],t=r[Y];dj.K8(s,N,Y);N+=dj.Gy(s.data,N);dj.K8(s,N,t);
N+=dj.Gy(s.data,N);break;case"tdta":U.GK(s,N,r.length);N+=4;U.Ze(s,N,r);N+=r.length;break;case"ObAr":U.GK(s,N,r.arr[0].arr.length);
N+=4;U.XG(s,N,"\0");N+=6;dj.K8(s,N,r.classID);N+=4+Math.max(4,r.classID.length);U.GK(s,N,r.arr.length);
N+=4;for(var l=0;l<r.arr.length;l++){var p=r.arr[l];dj.K8(s,N,p.id);N+=4+Math.max(4,p.id.length);U.Gc(s,N,p.type);
N+=4;U.Gc(s,N,p.uID);N+=4;U.GK(s,N,p.arr.length);N+=4;for(var A=0;A<p.arr.length;A++){U.HY(s,N,p.arr[A]);
N+=8}}break;case"Pth ":var f=r.pth.length*2+4+8;U.GK(s,N,f);N+=4;U.Gc(s,N,r.sig);N+=4;U.AQ(s,N,f);N+=4;
U.ad5(s,N,r.pth);N+=r.pth.length*2+4;break;case"Clss":case"type":case"rele":var a=r.__name;if(a==null)a="";
U.XG(s,N,a+"\0");N+=4+a.length*2+2;var D=r.classID;dj.K8(s,N,D);N+=4+Math.max(4,D.length);if(z=="rele"){U.dR(s,N,r.val);
N+=4}break;case"prop":case"Enmr":case"indx":case"name":var c=dj.cv[z];U.GK(s,N,1);N+=6;for(var l=0;l<c.length;
l++){var D=r[c[l]];dj.K8(s,N,D);N+=4+Math.max(4,D.length)}if(z=="name"){U.XG(s,N,r.val+"\0");N+=4+r.val.length*2+2}if(z=="indx"){U.GK(s,N,r.val);
N+=4}break;case"alis":var f=r.length;U.GK(s,N,f);N+=4;U.Gc(s,N,r);N+=f;break;default:console.log("unknown oskey: "+z);
N=S;break}return N-S};dj.mn=function(s,N){var r=U.sn(s,N);if(r>1e3)throw"e";if(r==0)r=4;return U.TX(s,N+4,r).trim()};
dj.Gy=function(s,N){var r=U.sn(s,N);return r==0?8:4+r};dj.K8=function(s,N,r){var S="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time trim then else".split(" "),z=4<r.length||S.indexOf(r)!=-1;
U.dR(s,N,z?r.length:0);U.Gc(s,N+4,r);if(r.length<4&&!z){var A="";for(var l=r.length;l<4;l++)A+=" ";U.Gc(s,N+4+r.length,A)}};
dj.a0Y=function(s){var N={};for(var r in s){if(r=="classID")N[r]=s[r];else if(r=="__name")N[r]=s[r];
else N[r]=dj.WS(s[r])}return N};dj.WS=function(s){if(s.BO=="Objc")return dj.a0Y(s.v);else if(s.BO=="VlLs"){var N=[];
for(var l=0;l<s.v.length;l++)N.push(dj.WS(s.v[l]));return N}else if(s.BO=="UntF")return s.v.val;else return s.v};
function fT(){}fT.fL=function(s,N,r,S,z,A){while(N<r){var B=U.TX(s,N,4);N+=4;if(B!="8BIM"&&B!="8B64"){console.log("layer information signature error! "+B,"PSB = "+z);
alert("Error in PSD file: wrong signature.");return r}var Y=U.TX(s,N,4);N+=4;var t=U.l(s,N);N+=4;var p=z&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(Y)!=-1;
if(p){t=t<<32|U.sn(s,N);N+=4}var f=["lrFX","PlLd"];if(f.indexOf(Y)!=-1){if(t%4!=0)t+=4-t%4;N+=t;continue}switch(Y){case"iOpa":S[Y]=s[N];
break;case"brst":S[Y]=[1,1,1];for(var l=0;l<t;l+=4)S[Y][U.l(s,N+l)]=0;break;case"knko":S[Y]=s[N];break;
case"infx":S[Y]=s[N];break;case"clbl":S[Y]=s[N];break;case"lmgm":S[Y]=s[N];break;case"vmgm":S[Y]=s[N];
break;case"fcmy":S[Y]=s[N];break;case"lyid":S[Y]=U.l(s,N);break;case"lsct":S[Y]={type:U.l(s,N)};if(t>=12)S[Y].M9=U.TX(s,N+8,4);
break;case"lsdk":S.lsct={type:U.l(s,N)};break;case"lyvr":S[Y]=U.l(s,N);break;case"lnsr":var a={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
S[Y]=U.TX(s,N,4);break;case"lspf":S[Y]=U.l(s,N);break;case"lclr":S[Y]=U.XF(s,N);break;case"luni":S[Y]=U.S4(s,N);
break;case"fxrp":S[Y]=new cR(U.bv(s,N),U.bv(s,N+8));break;case"artb":case"artd":S[Y]={};dj.LT(s,S[Y],N+4);
break;case"SoCo":S[Y]={};dj.LT(s,S[Y],N+4);break;case"GdFl":S[Y]={};dj.LT(s,S[Y],N+4);fT.pD(S[Y],Y);
break;case"PtFl":S[Y]={};dj.LT(s,S[Y],N+4);fT.pD(S[Y],Y);break;case"CgEd":var D=S.brit=hT.yS("brit"),c={};
dj.LT(s,c,N+4);D.Brgh.v=c.Brgh?c.Brgh.v:0;D.Cntr.v=c.Cntr?c.Cntr.v:0;D.useLegacy.v=c.useLegacy?c.useLegacy.v:0;
break;case"brit":if(S.brit==null){var D=S.brit=hT.yS("brit"),c={};D.Brgh.v=U.AC(s,N);D.Cntr.v=U.AC(s,N+2);
D.useLegacy.v=!1}break;case"levl":var J=s.buffer.slice(N,N+t);S[Y]=jq.j7(J);break;case"curv":S[Y]=ed.sJ(s,N,t);
break;case"expA":var Z=U.XF(s,N),Q=S[Y]=hT.yS("expA");Q.Exps.v=U.QP(s,N+2);Q.Ofst.v=U.QP(s,N+6);Q.gammaCorrection.v=U.QP(s,N+10);
break;case"vibA":S[Y]={};dj.LT(s,S[Y],N+4);break;case"hue2":S[Y]=eJ.sJ(s,N,t);break;case"blnc":var Q=S[Y]=hT.yS(Y);
Q.PrsL.v=s[N+18]==1;var M=["ShdL","MdtL","HghL"];for(var l=0;l<3;l++)for(var u=0;u<3;u++)Q[M[l]].v[u].v=U.AC(s,N+l*6+u*2);
break;case"blwh":var P={};dj.LT(s,P,N+4);var Q=hT.yS(Y),m="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var l=0;l<m.length;l++){Q[m[l]]=P[m[l]];delete P[m[l]]}S[Y]=Q;break;case"phfl":var Q=S[Y]=hT.yS(Y),i=Q.Clr.v,Z=U.XF(s,N);
if(Z==3){var e=[U.l(s,N+2),U.l(s,N+6),U.l(s,N+10)],X=32768,$=q.SO(e[0]/X,e[1]/X,e[2]/X);i.Lmnc.v=$.Mp;
i.A.v=$.aC;i.B.v=$.U}if(Z==2){var O=U.XF(s,N+2);if(O!=7)throw"e";i.Lmnc.v=U.AC(s,N+4)/100;i.A.v=U.AC(s,N+6)/100;
i.B.v=U.AC(s,N+8)/100}var T=N+2+(Z==3?12:10);Q.Dnst.v=U.l(s,T);T+=4;Q.PrsL.v=s[T]==1;break;case"mixr":var b={I4:U.XF(s,N+2)==1,h:[]};
for(var l=0;l<20;l++)b.h.push(U.AC(s,N+4+l*2));S[Y]=ai.anj(b);break;case"clrL":case"rplc":S[Y]={};dj.LT(s,S[Y],N+6);
break;case"nvrt":S[Y]={};break;case"post":S[Y]=hT.yS("post");S[Y].Lvls.v=U.XF(s,N);break;case"thrs":S[Y]=hT.yS("thrs");
S[Y].Lvl.v=U.XF(s,N);break;case"grdm":var R=N,w=s[N+2]==1,F=s[N+3]==1;R+=4;var L=U.S4(s,R);R+=4+L.length*2;
var x=gS.i8(s,R,L),g=x[0];R=x[1];var n=U.XF(s,R);R+=2;var h=U.l(s,R);R+=4;var _=U.XF(s,R)==1;R+=2;var H=U.XF(s,R)==1;
R+=2;var G=U.l(s,R);R+=4;var j=U.XF(s,R);R+=2;var v=[],C=[];for(var l=0;l<4;l++){v.push({t:"long",v:~~(U.XF(s,R+l*2)*100/32768)});
C.push({t:"long",v:~~(U.XF(s,R+l*2+8)*100/32768)})}R+=16;var E=U.XF(s,R);R+=2;if(n==1)g={classID:"Grdn",Nm:{t:"TEXT",v:L},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:_},VctC:{t:"bool",v:H},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:h},Smth:{t:"long",v:G},Mnm:{t:"VlLs",v:v},Mxm:{t:"VlLs",v:C}};
var I=hT.yS("grdm");I.Rvrs.v=w;I.Grad.v=g;S[Y]=I;break;case"selc":S[Y]=eA.sJ(s,N,t);break;case"vmsk":case"vsms":var dJ=S.vmsk=new y.kL,fG=U.sn(s,N+4),o=(fG>>0&1)==1;
dJ.kl=(fG>>1&1)==0;dJ.isEnabled=(fG>>2&1)==0;dJ._=c1.JD(s,N+8,t-8,A.G,A.n);break;case"shmd":S[Y]={};
var i4=U.l(s,N),T=N+4;for(var l=0;l<i4;l++){var B=U.TX(s,T,4);T+=4;var df=U.TX(s,T,4);T+=4;var eO=s[T];
T++;if(Math.max(s[T],s[T+1])!=0)throw"e";T+=3;var cO=U.l(s,T);T+=4;if(df=="cust"||df=="cmls"||df=="extn"||df=="mlst"){var ej=U.l(s,T);
if(ej!=16)T+=4;if(U.l(s,T)==16){var P={};dj.LT(s,P,T+4,!1);S[Y][df]=P;if(df=="cmls")K.le.a8c(S[Y][df])}}else{console.log("unknown shmd key: "+df+", size: "+cO)}T+=cO}break;
case"shpa":var Z=U.l(s,N),cn=U.l(s,N+4);if(cn!=0)console.log("some patterns present!");break;case"TySh":var j5=S[Y]={},Z=U.XF(s,N);
j5.D=U.U2(s,N+2);var gP=U.XF(s,N+2+48);j5.Ol={};var bY=dj.LT(s,j5.Ol,N+56),gR=en.a6H();for(var c3 in gR)if(j5.Ol[c3]==null)j5.Ol[c3]=gR[c3];
j5.Yd={};var jj=dj.LT(s,j5.Yd,N+56+bY+6);j5.Kr=U.anE(s,N+56+bY+6+jj);j5.pg=aN.j7(j5.Ol.EngineData.v);
en.auf(j5.pg.EngineDict.StyleRun.RunArray);if(j5.pg.ResourceDict==null)j5.pg.ResourceDict=JSON.parse(JSON.stringify(j5.pg.DocumentResources));
delete j5.Ol.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var jC=U.l(s,N),kf=U.l(s,N+4);S.lmfx={};
var bY=dj.LT(s,S.lmfx,N+8);fT.gm(S.lmfx);break;case"FMsk":S[Y]=U.Sf(s,N,t);break;case"Txt2":S[Y]={};
S[Y].raw=U.Sf(s,N,t);S[Y].r0=jc.j7(S[Y].raw);break;case"Patt":S[Y]=cC.KY(s,N,t);break;case"SoLd":var bz=U.TX(s,N,4),iv=U.l(s,N+4),bI=U.l(s,N+8);
S[Y]={};var jo=dj.LT(s,S[Y],N+12);if(S[Y].nonAffineTransform==null)S[Y].nonAffineTransform=JSON.parse(JSON.stringify(S[Y].Trnf));
if(S[Y].Impr==null)S[Y].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var iv=U.l(s,N);
S[Y]={};var jo=dj.LT(s,S[Y],N+4);break;case"vscg":var df=U.TX(s,N,4),iv=U.l(s,N+4);S[df]={};var jo=dj.LT(s,S[df],N+8);
fT.pD(S[df],df);break;case"vogk":var iZ=U.l(s,N),iv=U.l(s,N+4);S[Y]={};var jo=dj.LT(s,S[Y],N+8);S[Y]=S[Y].keyDescriptorList.v;
for(var l=0;l<S[Y].length;l++){var jD=S[Y][l].v;if(!q.O6.fI(jD))continue;if(jD.keyOriginBoxCorners==null){var dM=q.O6.gX(jD);
jD.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var ka=[dM[0],dM[1],dM[2],dM[1],dM[2],dM[3],dM[0],dM[3]];
if(jD.keyOriginType.v==4)ka=q.O6.$O(q.O6.WL(jD),jD.keyOriginLineWeight.v);q.O6.P1(jD,"keyOriginBoxCorners",ka)}}break;
case"lnk2":case"lnkD__":case"lnk3__":S[Y]=[];var R=N;while(R<N+t){var ds=new y.ul;S[Y].push(ds);var ee=U.zk(s,R);
R+=8;var a9=R;ds.type=U.TX(s,R,4);R+=4;if(ds.type!="liFD"){alert("Unknown Linked Layer type: "+ds.type);
break;throw ds.type}ds._5=U.l(s,R);R+=4;var ir=U.cU(s,R);R+=1+ir.c1.length;ds.eq=ir.c1;ds.Ff=U.e2(s,R);
R+=4+ds.Ff.length*2+2;ds.Hf=U.TX(s,R,4);R+=4;ds.cB=U.TX(s,R,4);R+=4;var eP=U.zk(s,R);R+=8;ds.open=s[R];
R+=1;if(ds.open!=0){var jh={},bY=dj.LT(s,jh,R+4);if(bY%4!=0)bY+=4-bY%4;console.log(jh);R+=bY+4}ds.open=0;
ds.raw=U.Sf(s,R,eP);R=a9+ee;if(ee%4!=0)R+=4-ee%4}break;case"FEid":var R=N;S[Y]=[];var fy=R+t,Z=U.l(s,R);
R+=4;while(R<fy){R+=4;var ee=U.l(s,R);R+=4;var x={};S[Y].push(x);x.id=U.cU(s,R).c1;R+=x.id.length+1;
var Z=U.l(s,R);R+=4;R+=4;var eS=U.l(s,R);R+=4;x.rect=U.xX(s,R);R+=16;var gz=U.l(s,R);R+=4;var fi=U.l(s,R);
R+=4;var fw=new q.Ek(0);for(var l=0;l<fi+2;l++){var ce=U.l(s,R);R+=4;if(ce!=0){R+=4;var hl=U.l(s,R),ia=null;
R+=4;if(l<3||l==25)ia=g9.HG(!0,gz,s,x.rect.G,x.rect.n,R,hl);if(l==0)fw.w=ia;if(l==1)fw.A=ia;if(l==2)fw.U=ia;
if(l==25)fw.aC=ia;R+=hl}}x.buffer=q.m(x.rect.$()*4);q.vZ(fw,x.buffer);q.pt(x);var iQ=s[R];R++;if(iQ!=0){x.B=new y.pk;
x.B.rect=U.xX(s,R);R+=16;R+=4;var em=U.l(s,R);R+=4;x.B.channel=g9.HG(!0,gz,s,x.B.rect.G,x.B.rect.n,R,em);
x.B.color=255;x.B.pS();R+=em}if(ee%4!=0)R+=4-ee%4}break;case"Lr16":fL.EQ(A,s,N);break;case"Anno":S[Y]=[];
var k4=N,ar=N+4,cn=U.l(s,ar);ar+=4;for(var l=0;l<cn;l++){var ee=U.l(s,ar);ar+=4;var fg=U.TX(s,ar,4);
ar+=4;if(fg!="txtA")throw fg;var j0=s[ar++],bU=s[ar++],dn=U.XF(s,ar);ar+=2;var aJ=U.xX(s,ar);ar+=16;
var bE=U.xX(s,ar);ar+=16;var i=hc.JG(s,ar);ar+=10;var ew=U.cU(s,ar);ar+=ew.length;var jy=U.cU(s,ar);
ar+=jy.length;var eT=U.cU(s,ar);ar+=eT.length;var du=U.l(s,ar);ar+=4;var c_=U.TX(s,ar,4);ar+=4;var f9=U.l(s,ar);
ar+=4;var bp=U.xk(s,ar+2,f9-2>>1);ar+=f9;S[Y].push([aJ.x,aJ.y,i,ew.c1,bp])}break;default:break}var aL="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(aL.indexOf(Y)==-1)if(t%4!=0)console.log("size not multiple of 4!!!",Y);if(Y!="luni"&&Y!="TySh"&&Y!="tySh"&&Y!="lfx2")if(t%4!=0)t+=4-t%4;
N+=t}var f8=[];for(var l=0;l<f8.length;l++)delete S[f8[l]];return N};fT.Gt=function(s,N,r,S,z){for(var A in r)if(r[A]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+A+"\" tag was present with a null value.");delete r[A]}for(var A in r){var B=S&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(A)!=-1,t=0;
U.Gc(s,N,B?"8B64":"8BIM");N+=4;var Y=N;U.Gc(s,N,A);N+=4;U.dR(s,N,0);N+=B?8:4;switch(A){case"iOpa":U.p8(s,N,r[A],1);
t=4;break;case"brst":t=0;for(var l=0;l<3;l++)if(r[A][l]==0){U.GK(s,N+t,l);t+=4}break;case"knko":U.p8(s,N,r[A],1);
t=4;break;case"infx":U.p8(s,N,r[A],1);t=4;break;case"clbl":U.p8(s,N,r[A],1);t=4;break;case"lmgm":U.p8(s,N,r[A],1);
t=4;break;case"vmgm":U.p8(s,N,r[A],1);t=4;break;case"fcmy":U.p8(s,N,r[A],1);t=4;break;case"lyid":U.GK(s,N,r[A]);
t=4;break;case"lsct":U.GK(s,N,r[A].type);t=4;if(r[A].M9){U.Gc(s,N+4,"8BIM");U.Gc(s,N+8,r[A].M9);t=12}break;
case"lyvr":U.GK(s,N,r[A]);t=4;break;case"lnsr":U.Gc(s,N,r[A]);t=4;break;case"lspf":U.GK(s,N,r[A]);t=4;
break;case"lclr":U.Ir(s,N,r[A]);t=8;break;case"luni":U.XG(s,N,r[A]);t=4+2*r[A].length;break;case"fxrp":U.HY(s,N,r[A].x);
U.HY(s,N+8,r[A].y);t=16;break;case"artb":case"artd":U.GK(s,N,16);t=dj.ih(s,r[A],N+4)+4;break;case"SoCo":U.GK(s,N,16);
t=dj.ih(s,r[A],N+4)+4;break;case"GdFl":U.GK(s,N,16);t=dj.ih(s,r[A],N+4)+4;break;case"PtFl":U.GK(s,N,16);
t=dj.ih(s,r[A],N+4)+4;break;case"CgEd":var p={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},f=p,a=r[A];
f.Brgh.v=a.Brgh.v;f.Cntr.v=a.Cntr.v;f.useLegacy.v=a.useLegacy.v;U.GK(s,N,16);t=dj.ih(s,p,N+4)+4;break;
case"brit":s.yd(N,8);t=8;break;case"levl":var D=new iY;t=jq.vM(D,r[A]);U.Ze(s,N,D.data);break;case"curv":t=ed.d$(s,N,r[A]);
break;case"expA":t=14;s.yd(N,14);U.a4(s.data,N,1);U.NR(s.data,N+2,r[A].Exps?r[A].Exps.v:0);U.NR(s.data,N+6,r[A].Ofst?r[A].Ofst.v:0);
U.NR(s.data,N+10,r[A].gammaCorrection?r[A].gammaCorrection.v:1);break;case"vibA":U.GK(s,N,16);t=dj.ih(s,r[A],N+4)+4;
break;case"hue2":t=eJ.d$(s,N,r[A]);break;case"blnc":t=19;s.yd(N,t);var c=["ShdL","MdtL","HghL"];for(var l=0;
l<3;l++){var J=r[A][c[l]].v;for(var Z=0;Z<3;Z++)J.push(U.S$(s.data,N+l*6+Z*2,J[Z].v))}s.data[N+18]=r[A].PrsL.v?1:0;
break;case"blwh":var p={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},Q="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var l=0;l<Q.length;l++){p[Q[l]]=r[A][Q[l]]}U.GK(s,N,16);t=dj.ih(s,p,N+4)+4;break;case"phfl":U.Ir(s,N,2);
var M=r[A].Clr.v;U.Ir(s,N+2,7);U.Ir(s,N+4,Math.round(M.Lmnc.v*100));U.Ir(s,N+6,Math.round(M.A.v*100));
U.Ir(s,N+8,Math.round(M.B.v*100));U.Ir(s,N+10,0);var u=N+2+10;s.yd(u,5);U.sM(s.data,u,r[A].Dnst.v);u+=4;
s.data[u]=r[A].PrsL.v?1:0;u++;t=u-N;break;case"mixr":t=44;s.yd(N,t);var P=ai.Ku(r[A]);U.a4(s.data,N,1);
U.a4(s.data,N+2,P.I4?1:0);for(var l=0;l<20;l++)U.S$(s.data,N+4+l*2,P.h[l]);break;case"clrL":case"rplc":U.Ir(s,N,1);
U.GK(s,N+2,16);t=dj.ih(s,r[A],N+6)+6;break;case"nvrt":t=0;break;case"post":U.Ir(s,N,r[A].Lvls.v);t=2;
break;case"thrs":U.Ir(s,N,r[A].Lvl.v);t=2;break;case"grdm":var m=r[A].Rvrs?r[A].Rvrs.v:!1,i=!1,e=867527939,X=!1,$=!1,O=2048,T=[0,0,0,0],b=[32768,32768,32768,32768],R=r[A].Grad.v,w,F,L=R.Clrs==null?1:0;
if(L==0){w=R;F=JSON.parse(jG.ou.ali).v}else{w=hT.yS("grdm").Grad.v;F=R}s.yd(N,4);U.a4(s.data,N,1);s.data[N+2]=m?1:0;
s.data[N+3]=i?1:0;var x=N+4;U.XG(s,x,R.Nm.v);x+=4+R.Nm.v.length*2;x=gS.aoF(s,x,w);U.Ir(s,x,L);x+=2;U.GK(s,x,F.RndS.v);
x+=4;U.Ir(s,x,F.ShTr.v?1:0);x+=2;U.Ir(s,x,F.VctC.v?1:0);x+=2;U.GK(s,x,F.Smth.v);x+=4;U.Ir(s,x,3);x+=2;
for(var l=0;l<4;l++)U.Ir(s,x+l*2,T[l]);x+=8;for(var l=0;l<4;l++)U.Ir(s,x+l*2,b[l]);x+=8;x+=2;t=x-N;break;
case"selc":t=eA.d$(s,N,r[A]);break;case"FMsk":U.Ze(s,N,r[A]);t=r[A].length;break;case"Txt2":var g=new iY,n=jc.MJ(r[A].r0,g),h=q.m(n,!0);
for(var l=0;l<n;l++)h[l]=g.data[l];U.Ze(s,N,h);t=h.length;break;case"vmsk":var _=r[A],H=0;U.GK(s,N,3);
if(!_.kl)H+=1<<1;if(!_.isEnabled)H+=1<<2;U.GK(s,N+4,H);t=8;var G=_._.length;s.yd(N+8,G*26);c1.JJ(s.data,N+8,_._,z.G,z.n);
t+=G*26;break;case"shmd":U.GK(s,N,Object.keys(r[A]).length);var u=N+4;for(var j in r[A]){U.Gc(s,u,"8BIM");
u+=4;U.Gc(s,u,j);u+=4;U.GK(s,u,0);u+=4;U.GK(s,u,0);u+=4;U.GK(s,u,16);u+=4;var v=dj.ih(s,r[A][j],u);if(v%4!=0)v+=4-v%4;
U.GK(s,u-8,v+4);u+=v}t=u-N;break;case"TySh":var u=N;U.yr(s,u,1);u+=2;var C=r[A],g=new iY;C.pg.DocumentResources=JSON.parse(JSON.stringify(C.pg.ResourceDict));
var n=aN.MJ(C.pg,g),h=q.m(n,!0);for(var l=0;l<n;l++)h[l]=g.data[l];C.Ol.EngineData={t:"tdta",v:h};var E=C.pg.EngineDict.Editor.Text;
C.Ol.Txt.v=E.substring(0,E.length-1);U.a0o(s,u,C.D);u+=48;U.yr(s,u,50);u+=2;U.GK(s,u,16);u+=4;u+=dj.ih(s,C.Ol,u);
U.yr(s,u,1);u+=2;U.GK(s,u,16);u+=4;u+=dj.ih(s,C.Yd,u);U.am1(s,u,C.Kr);u+=16;t=u-N;break;case"lmfx":U.GK(s,N,0);
U.GK(s,N+4,16);var p=JSON.parse(JSON.stringify(r[A])),I=!1;fT.ef(p);for(var l=0;l<jG.Um.length;l++)if(p[jG.Um[l]]!=null)I=!0;
U.Gc(s,Y,I?"lmfx":"lfx2");t=dj.ih(s,p,N+8)+8;break;case"Patt":var u=cC.AL(s,N,r[A]);t=u-N;break;case"SoLd":U.Gc(s,N,"soLD");
U.GK(s,N+4,4);U.GK(s,N+8,16);t=dj.ih(s,r[A],N+12)+12;break;case"vstk":case"pths":U.GK(s,N,16);t=dj.ih(s,r[A],N+4)+4;
break;case"vscg__":U.Gc(s,N,r[A].key);U.GK(s,N+4,16);t=dj.ih(s,r[A].h,N+8)+8;break;case"vogk":U.GK(s,N,1);
U.GK(s,N+4,16);q.O6.ajB(r[A]);for(var l=0;l<r[A].length;l++){var dJ=r[A][l].v.keyOriginResolution;if(dJ)dJ.v=z.FD}var fG={classID:"null",keyDescriptorList:{t:"VlLs",v:r[A]}};
t=dj.ih(s,fG,N+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var x=N;for(var l=0;l<r[A].length;l++){var o=r[A][l],i4=x;
U.n5(s,x,0);x+=8;U.Gc(s,x,o.type);x+=4;U.GK(s,x,o._5);x+=4;s.yd(x,1);s.data[x]=o.eq.length;x++;U.Gc(s,x,o.eq);
x+=o.eq.length;U.XG(s,x,o.Ff+"\0");x+=4+o.Ff.length*2+2;U.Gc(s,x,o.Hf);x+=4;U.Gc(s,x,o.cB);x+=4;U.n5(s,x,o.raw.length);
x+=8;s.yd(x,1);s.data[x]=o.open;x++;U.Ze(s,x,o.raw);x+=o.raw.length;U.GK(s,x,1);x+=4;x+=11;var df=x-i4-8;
U.n5(s,i4,df);if(df%4!=0){s.yd(x,4-df%4);x+=4-df%4}}t=x-N;break;case"FEid":var x=N;U.GK(s,x,3);x+=4;
for(var eO=0;eO<r[A].length;eO++){var cO=r[A][eO];x+=4;var ej=x;x+=4;U.hR(s,x,cO.id);x+=cO.id.length+1;
U.GK(s,x,1);x+=4;var cn=q.m(cO.rect.$()),j5=cO.rect,gP=q.m(j5.$());x+=4;var bY=x;x+=4;U._m(s,x,j5);x+=16;
U.GK(s,x,8);x+=4;U.GK(s,x,24);x+=4;for(var l=0;l<24+2;l++){var gR=-1;if(l==0)gR=0;if(l==1)gR=1;if(l==2)gR=2;
if(l==25)gR=3;U.GK(s,x,gR!=-1?1:0);x+=4;if(gR!=-1){q.WZ(cO.buffer,cn,gR);q.lf(cn,cO.rect,gP,j5);x+=4;
var c3=x;x+=4;s.yd(x,j5.$()+2);x=g9.BB(!0,gP,s.data,j5.G,j5.n,x,3);U.GK(s,c3,x-(c3+4))}}U.GK(s,bY,x-(bY+4));
s.yd(x,1);s.data[x]=cO.B?1:0;x++;if(cO.B!=null){var jj=j5,jC=q.m(jj.$());jC.fill(cO.B.color);q.lf(cO.B.channel,cO.B.rect,jC,jj);
U._m(s,x,jj);x+=16;x+=4;var kf=x;x+=4;s.yd(x,jj.$()+2);x=g9.BB(!0,jC,s.data,jj.G,jj.n,x,3);U.GK(s,kf,x-(kf+4))}var df=x-(ej+4);
U.GK(s,ej,df);if(df%4!=0)x+=4-df%4}t=x-N;break;case"Anno":var bz=N,iv=r[A].length;U.Ir(s,bz,2);U.Ir(s,bz+2,1);
bz+=4;U.GK(s,bz,iv);bz+=4;for(var l=0;l<iv;l++){var bI=r[A][l],jo=bI[0],iZ=bI[1],jD=bz;bz+=4;U.Gc(s,bz,"txtA");
bz+=4;s.yd(bz,2);s.data[bz]=1;s.data[bz+1]=28;bz+=2;U.Ir(s,bz,1);bz+=2;U._m(s,bz,new hq(jo,iZ,17,21));
bz+=16;U._m(s,bz,new hq(jo+8,iZ+10,241,141));bz+=16;s.yd(bz,10);hc.xQ(s.data,bz,bI[2]);bz+=10;bz+=U.hR(s,bz,bI[3]);
bz+=U.hR(s,bz,"");bz+=U.hR(s,bz,"D:20211012120233+01'00'");var dM=bI[4].length*2;U.GK(s,bz,12+2+dM);
bz+=4;U.Gc(s,bz,"txtC");bz+=4;U.GK(s,bz,2+dM);bz+=4;s.yd(bz,2);s.data[bz]=254;s.data[bz+1]=255;bz+=2;
U.a28(s,bz,bI[4]);bz+=dM;U.GK(s,jD,bz-jD)}t=bz-N;break;default:console.log("unknown layer tag: "+A+", size: "+t);
N-=12;continue}var ka=["Txt2","artd","extd","pths"];if(ka.indexOf(A)==-1)if(t%4!=0)t+=4-t%4;if(B)U.n5(s,N-8,t);
else U.GK(s,N-4,t);if(A!="luni"&&A!="TySh")if(t%4!=0)t+=4-t%4;N+=t}return N};fT.gm=function(s){for(var l=0;
l<jG.order.length;l++){var N=jG.order[l],r=jG.Um[l];if(s[r]==null)s[r]={t:"VlLs",v:[]};if(s[N]!=null){s[r].v.push(s[N]);
delete s[N]}var S=[];for(var z=0;z<s[r].v.length;z++){var A=s[r].v[z];if(A.v.present==null||A.v.present.v==!0)S.push(A)}s[r].v=S}};
fT.ef=function(s){for(var l=0;l<jG.order.length;l++){var N=jG.order[l],r=jG.Um[l],S=s[r].v.length;if(S==0){delete s[r];
continue}if(S==1){s[N]=s[r].v[0];delete s[r];continue}}};fT.pD=function(s,N){if(N=="GdFl"){if(s.Angl==null)s.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(s.Algn==null)s.Algn={v:!0,t:"bool"};if(s.Scl==null)s.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(s.Ofst==null)s.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(s.Rvrs==null)s.Rvrs={v:!1,t:"bool"};if(s.Dthr==null)s.Dthr={v:!1,t:"bool"}}if(N=="PtFl"){if(s.Algn==null)s.Algn={v:!0,t:"bool"};
if(s.Angl==null)s.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(s.Scl==null)s.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(s.phase==null)s.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};fT.clone=function(s,N){var r={};
if(s=="TySh"){r.D=N.D.clone();r.Ol=JSON.parse(JSON.stringify(N.Ol));r.Yd=JSON.parse(JSON.stringify(N.Yd));
r.Kr=N.Kr.clone();r.pg=JSON.parse(JSON.stringify(N.pg));if(N.add)r.add={vmsk:N.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(N.add.vogk))};
return r}else if(s=="fxrp")return N.clone();else if(s=="vmsk")return N.clone();else return JSON.parse(JSON.stringify(N))};
function hi(s,N){}hi.j7=function(s,N,r,S){S=hi.a44(s,N,r,S);return S};hi.MJ=function(s,N,r,S,z){S=hi.ahW(s,N,r,S,z);
return S};hi.a44=function(s,N,r,S){var z=S;s.rect=U.xX(r,S);S+=16;var A=U.XF(r,S);S+=2;s.aB=[];var B=N.TV;
for(var l=0;l<A;l++){s.aB[l]={id:U.AC(r,S),length:(B?U.zk:U.l)(r,S+2)};S+=B?10:6}var Y=U.TX(r,S,4);S+=4;
if(Y!="8BIM"){console.log("Invalid Blend mode signature: "+Y);alert("Error in Photoshop file: wrong signature.");
throw"e"}s.M9=U.TX(r,S,4);S+=4;s.opacity=r[S];S+=1;s.hE=r[S]==1;S+=1;s.Vs=r[S];S+=1;if(r[S]!=0)console.log("error in filler!");
S+=1;var t=U.l(r,S);S+=4;var p=S;S=hi.aaP(s,r,S);S=hi.aj0(s,r,S);var f=U.cU(r,S);s.name=f.c1;S+=f.length;
if(f.length%4!=0)S+=4-f.length%4;S=fT.fL(r,S,p+t,s.add,B,N);if(s.add.lsct){if(s.add.lsct.M9)s.M9=s.add.lsct.M9;
s.add.lsct=s.add.lsct.type}return S};hi.ahW=function(s,N,r,S,z){var A=S;U._m(r,S,s.rect);S+=16;var B=s.aoC();
U.Ir(r,S,B.length);S+=2;var Y=N.TV;z.push(S);for(var l=0;l<B.length;l++){U.yr(r,S,B[l]);if(Y)U.n5(r,S+2,0);
else U.GK(r,S+2,0);S+=Y?10:6}U.Gc(r,S,"8BIM");S+=4;U.Gc(r,S,s.M9);S+=4;U.p8(r,S,s.opacity,1);S+=1;U.p8(r,S,s.hE?1:0,1);
S+=1;U.p8(r,S,s.Vs,1);S+=1;U.p8(r,S,0,1);S+=1;var t=S;U.GK(r,S,0);S+=4;var p=S;S=hi.a0H(s,r,S);S=hi.aqY(s,r,S);
var f=U.hR(r,S,s.name.slice(0,255));S+=f;if(f%4!=0)S+=4-f%4;if(s.add.lsct){s.add.lsct={type:s.add.lsct};
if(s.M9=="pass"){s.add.lsct.M9="pass";s.M9="norm"}}if(s.M9=="pass")s.add.lsct={type:s.add.lsct,M9:"pass"};
if(s.add.brit)s.add.CgEd=s.add.brit;S=fT.Gt(r,S,s.add,Y,N);delete s.add.CgEd;if(s.add.lsct){if(s.add.lsct.M9)s.M9=s.add.lsct.M9;
s.add.lsct=s.add.lsct.type}var a=S-p;U.GK(r,t,a);return S};hi.aaP=function(s,N,r){var S=U.l(N,r);r+=4;
if(S==0)return r;var z=r;s.B=new y.pk;s.B.rect=U.xX(N,r);r+=16;s.B.color=N[r];r+=1;var A=hi.Iz(s.B,N,r);
r+=1;if(A){var B=!1,Y=255,t=0,p=255,f=0;for(var l=0;l<s.aB.length;l++)if(s.aB[l].id==-3)B=!0;if(B){s.oR=hi.gY(N,r);
r+=18}var a=r,D=N[r];r++;if(D>>0&1){Y=N[r];r++}if(D>>1&1){t=U.bv(N,r);r+=8}if(D>>2&1){p=N[r];r++}if(D>>3&1){f=U.bv(N,r);
r+=8}if((r-a&1)==1)r++;s.m4=[Y,t,p,f]}else{if(S==20)r+=2;else{s.oR=hi.gY(N,r);r+=18}}return z+S};hi.a0H=function(s,N,r){U.GK(N,r,0);
r+=4;if(s.B==null)return r;var S=s.eg(),z=s.add.vmsk,A=r,B=!0;U.GK(N,r,0);U._m(N,r,s.B.rect);r+=16;U.p8(N,r,s.B.color);
r+=1;hi.WV(s.B,N,r,B);r+=1;if(B){if(s.oR){hi.a4g(N,r,s.oR);r+=18}U.p8(N,r,15);r+=1;U.p8(N,r,S?S.Af:255);
r+=1;U.HY(N,r,S?S.H0:0);r+=8;U.p8(N,r,z?z.Af:255);r+=1;U.HY(N,r,z?z.H0:0);r+=8;r++}U.GK(N,A-4,r-A);return r};
hi.gY=function(s,N){var r=new y.pk;hi.Iz(r,s,N);N+=1;r.color=s[N];N+=1;r.rect=U.xX(s,N);N+=16;return r};
hi.a4g=function(s,N,r){hi.WV(r,s,N,!1);N+=1;U.p8(s,N,r.color);N+=1;U._m(s,N,r.rect);N+=16};hi.Iz=function(s,N,r){var S=N[r];
s.kl=(S>>0&1)==0;s.isEnabled=(S>>1&1)==0;s.Ve=(S>>3&1)==1;return S>>4&1};hi.WV=function(s,N,r,S){var z=0;
if(!s.kl)z+=1<<0;if(!s.isEnabled)z+=1<<1;if(s.Ve)z+=1<<3;if(S)z+=1<<4;U.p8(N,r,z)};hi.aj0=function(s,N,r){var S=U.l(N,r);
r+=4;for(var l=0;l<S;l++)s.En[l]=N[r+l];return r+S};hi.aqY=function(s,N,r){U.GK(N,r,s.En.length);r+=4;
N.yd(r,40);for(var l=0;l<40;l++){N.data[r+l]=s.En[l]}return r+40};function g9(){}g9.j7=function(s,N,r,S){S=g9.avF(N,N.TV,N.Sv,N.wW,s,r,S);
return S};g9.vM=function(s,N,r,S,z,A){S=g9.abX(s,N,r,S,z,A);return S};g9.avF=function(s,N,r,S,z,A,B){var Y=z.aB,t={},p=B;
for(var l=0;l<Y.length;l++){var f=Y[l],a=f.id,D=f.length,c;if(a==-3)c=z.oR.rect;else if(a==-2)c=z.B.rect;
else c=z.rect;var J=g9.HG(N,r,A,c.G,c.n,B,D);B+=D;if(a==-3)z.oR.channel=J;else if(a==-2)z.B.channel=J;
else t["c"+a]=J}var Z=new q.Ek(0);Z.aC=null;if(S==3){Z.w=t.c0;Z.A=t.c1;Z.U=t.c2;Z.aC=t["c-1"]}else if(S==1){Z.w=t.c0;
Z.A=t.c0;Z.U=t.c0;Z.aC=t["c-1"]}else if(S==4){var Q=s.kr.r1039,M=t.c0,u=t.c1,P=t.c2,m=t.c3;if(Q){var i=Q.xp,e=17;
if(i==null){var X=ICC.R(Q.buffer);console.log(X);i=Q.xp=ICC.U.sampleLUT(X,e)}var $={w:M,A:u,U:P,aC:m},O=q.m(M.length*4);
q.vZ($,O);q.dm(O);ICC.U.applyLUT4(i,e,O,O);q.oK(O,$)}else{for(var l=0;l<M.length;l++){var T=1-M[l]*(1/255),b=1-u[l]*(1/255),R=1-P[l]*(1/255),w=1-m[l]*(1/255),F=UDOC.C.cmykToRgb([T,b,R,w]);
M[l]=F[0]*255;u[l]=F[1]*255;P[l]=F[2]*255}}Z.w=M;Z.A=u;Z.U=P;Z.aC=t["c-1"]}if(Z.w==null)Z.w=q.m(0);if(Z.aC==null&&Z.w!=null){Z.aC=Z.w.slice(0);
Z.aC.fill(255)}if(Z.A==null)Z.A=Z.w.slice(0);if(Z.U==null)Z.U=Z.w.slice(0);z.buffer=q.m(Math.max(0,z.rect.$()*4));
q.vZ(Z,z.buffer);return B};g9.abX=function(s,N,r,S,z,A){var B=N.aoC(),Y=new q.Ek(N.rect.$());q.oK(N.buffer,Y);
for(var l=0;l<B.length;l++){var t=B[l],p,f;if(t==-3)p=N.oR.rect;else if(t==-2)p=N.B.rect;else p=N.rect;
if(t==-3)f=N.oR.channel;if(t==-2)f=N.B.channel;if(t==-1)f=Y.aC;if(t==0)f=Y.w;if(t==1)f=Y.A;if(t==2)f=Y.U;
r.yd(S,p.$()*3+4);var a=S;S=g9.BB(s,f,r.data,p.G,p.n,S,A[1]?3:1);var D=S-a;if(s)U.$k(r.data,z+l*10+2,D);
else U.sM(r.data,z+l*6+2,D)}return S};g9.HG=function(s,N,r,S,z,A,B){var Y=U.XF(r,A);A+=2;return g9.B8(s,N,r,S,z,A,Y,B-2)};
g9.BB=function(s,N,r,S,z,A,B){U.S$(r,A,B);A+=2;A=g9.ZJ(s,N,r,S,z,A,B);return A};g9.B8=function(s,N,r,S,z,A,B,Y){var t,p=S*z*(N>>>3),f=p&3,a=p+(f==0?0:4-f);
if(Y<=0){return q.m(a)}if(B>3){console.log("unknown compression: "+B,S,z,S*z,Y);B=0}if(B==0){if(A+a<=r.length)t=r.slice(A,A+a);
else{t=q.m(p);for(var l=0;l<p;l++)t[l]=r[A+l]}A+=p}else if(B==1){t=q.m(p);var D=s?4:2,c=g9.Be(r,t,S,z,A,A+D*z,D);
A+=D*z+c}else if(B==2||B==3){var J=new Uint8Array(r.buffer,A+2,Y-6),Z=q.m(a);UZIP.inflateRaw(J,Z);if(B==3){if(N==8)for(var Q=0;
Q<z;Q++){var M=Q*S+1,u=M+S-1,P=Z[M-1];for(var m=M;m<u;m++){P+=Z[m];Z[m]=P&255}}else for(var Q=0;Q<z;
Q++){var M=Q*S+1,u=M+S-1,P=Z[2*M-2]<<8|Z[2*M-1];for(var m=M;m<u;m++){var i=m<<1;P+=Z[i]<<8|Z[i+1];Z[i]=P>>>8;
Z[i+1]=P&255}}}if(Z.length==a)t=Z;else{t=q.m(a);for(var l=0;l<Z.length;l++)t[l]=Z[l]}}if(N==16){var e=q.m(S*z);
for(var l=0;l<p;l+=2)e[l>>>1]=t[l];t=e}return t};g9.ZJ=function(s,N,r,S,z,A,B){var Y=S*z;if(B==0)for(var l=0;
l<Y;l++)r[A++]=N[l];else if(B==1){var t=s?4:2,p=g9.zi(N,r,S,z,A,A+t*z,t);A+=t*z+p}else if(B==2||B==3){if(B==3){var f=new Uint8Array(N.length);
for(var a=0;a<z;a++){var D=a*S+1,c=D+S-1,J=N[D-1];f[D-1]=J;for(var Z=D;Z<c;Z++){f[Z]=N[Z]+(256-J)&255;
J=N[Z]}}N=f}r[A]=120;r[A+1]=156;A+=2;var Q=pako.deflateRaw(N,{awp:4});U.MR(r,A,Q);A+=Q.length+4}else console.log("Unknown compression: "+B);
return A};g9.Be=function(s,N,r,S,z,A,B){if(!(s instanceof Uint8Array)||!(N instanceof Uint8Array))throw"e";
var Y=A,t=S|0;if(B==2)for(var l=0;l<t;l++){var p=U.XF(s,z+(l<<1));g9.XU(s,A,p,N,l*r,r);A+=p}else for(var l=0;
l<t;l++){var p=U.l(s,z+(l<<2));g9.XU(s,A,p,N,l*r,r);A+=p}return A-Y};g9.zi=function(s,N,r,S,z,A,B){var Y=A;
if(B==2)for(var l=0;l<S;l++){var t=g9.NC(s,l*r,r,N,A);U.a4(N,z+l*2,t);A+=t}else for(var l=0;l<S;l++){var t=g9.NC(s,l*r,r,N,A);
U.sM(N,z+l*4,t);A+=t}return A-Y};g9.NC=function(s,N,i3,r,S){var z,A,B,Y,t,dq,p;Y=N+i3;for(B=N,A=S;i3>0;
B=z,i3-=dq){p=i3<128?i3:128;if(B<=Y-3&&s[B+1]==s[B+0]&&s[B+2]==s[B+0]){for(z=B+3;z<B+p&&s[z]==s[B+0];
)++z;dq=z-B;r[A++]=1+256-dq;r[A++]=s[B+0]}else{for(z=B;z<B+p;)if(z<=Y-3&&s[z+1]==s[z+0]&&s[z+2]==s[z+0])break;
else++z;dq=z-B;r[A++]=dq-1;for(var l=0;l<dq;l++)r[A+l]=s[B+l];A+=dq}}return A-S};g9.XU=function(s,N,r,S,z,A){for(var B=0;
B<r;){var i3=s[N++];if(i3>=128){var Y=s[N++],t=z+(257-i3);S.fill(Y,z,t);z=t;B+=2}else{for(var l=0;l<=i3;
l++)S[z+l]=s[N+l];N+=i3+1;z+=i3+1;B+=1+1+i3}}};function fL(){}fL.lx=function(s,N,r){return;var S="",z=N;
while(z!=0){var A=z%1e3+"";while(A.length<3)A="0"+A;S=(S==""?A:A+" ")+S;z=Math.floor(z/1e3)}while(S.startsWith("0")&&S!="0")S=S.slice(1);
while(S.length<11)S=" "+S;console.log("===",S,"\t".repeat(s),": "+r)};fL.j7=function(s,N){N.TV=!1;N.Sv=8;
var r=new Uint8Array(s),S=0,z=0,v,jD=!1,dM=!0,ka=!1,ds=0,gh=0;z=fL.yj(N,r,S);fL.lx(0,z-S,"PSD Header");
S=z;z=fL.aoO(N,r,S);fL.lx(0,z-S,"Color Mode Data");S=z;z=fL.a0t(N,r,S);fL.lx(0,z-S,"Image Resources");
S=z;z=fL.af7(N,r,S);fL.lx(0,z-S,"Layer And Mask Info");S=z;z=fL.amC(N,r,S);fL.lx(0,z-S,"Merged Image");
S=z;if(N.p.length==0){var A=N.tT();A.lP("Background");N.p.push(A);A.buffer=N.buffer.slice(0);A.rect=new hq(0,0,N.G,N.n)}if(N.kr.r1005){N.FD=U.a0I(N.kr.r1005,0)}if(N.kr.r1026){var r=N.kr.r1026;
for(var l=0;l<r.length;l+=2){var z=N.p[l>>>1];if(z)z.LW=U.XF(r,l)}}if(N.kr.r1072){var r=N.kr.r1072;for(var l=0;
l<r.length;l++){var z=N.p[l];if(z)z.xK=r[l]==1}}if(N.kr.r1032){var r=N.kr.r1032,B=U.l(r,12);for(var l=0;
l<B;l++){var Y=r[16+l*5+4],t=U.sn(r,16+l*5)/32;N.K0.push([Y,t])}}delete N.kr.r1036;N.Tl(N.kr.r1039);
if(N.kr.r1050){var p=U.l,f=N.kr.r1050,a=U.l(f,0);if(a==6){var D=4,c=U.xX(f,D);D+=16;var J=U.S4(f,D);
D+=4+J.length*2;var Z=p(f,D);D+=4;var Q=N.DF;for(var l=0;l<Z;l++){var M=K.vf.DV(),P;Q.push(M);M=M.v;
M.sliceID.v=p(f,D);D+=4;M.groupID.v=p(f,D);D+=4;var u=p(f,D);D+=4;if(u==1){P=p(f,D);D+=4}var J=U.S4(f,D);
D+=4+J.length*2;var m=p(f,D);D+=4;var i=[p(f,D),p(f,D+4),p(f,D+8),p(f,D+12)];D+=16;K.vf.iZ(Q,Q.length-1,i);
var e=M.url.v=U.S4(f,D);D+=4+e.length*2;var X=M.null.v=U.S4(f,D);D+=4+X.length*2;var $=M.Msge.v=U.S4(f,D);
D+=4+$.length*2;var O=M.altTag.v=U.S4(f,D);D+=4+O.length*2;M.cellTextIsHTML.v=f[D]==1;D++;var T=M.cellText.v=U.S4(f,D);
D+=4+T.length*2;var b=p(f,D);D+=4;var R=p(f,D);D+=4;var w=f.slice(D,D+4);D+=4;if(u!=2)Q.pop()}}else if(a==8){var F={};
dj.LT(f,F,8,!1);var f=N.DF=F.slices.v;for(var l=0;l<f.length;l++){if(f[l].v.origin.v.ESliceOrigin!="userGenerated"){f.splice(l,1);
l--}}}}if(N.kr.r1058){var L=N.kr.r1058,x=UTIF.decode(L.buffer,{parseMN:!1,debug:!1});gr.B1(x[0],N.yA);
delete N.kr.r1058}if(N.kr.r1060){var g=U.uE(N.kr.r1060);gr.akl(g,N.yA);delete N.kr.r1060}if(N.kr.r1065){var r=N.kr.r1065;
N.zq={};dj.LT(r,N.zq,4,!1)}if(N.kr.r1069){var r=N.kr.r1069,n=[];for(var l=2;l<r.length;l+=4){var P=U.l(r,l);
for(var h=0;h<N.p.length;h++){var z=N.p[h];if(z.add.lyid==P&&z.add.lsct!=3)n.push(h)}}N.f=n}if(N.kr.r1025){var _=N.kr.r1025;
delete N.kr.r1025;var H=c1.JD(_,0,_.length,N.G,N.n),G=new y.kL;G._=H;N.qI[0]=a2.Zd("Working Path",{vmsk:G})}var j=N.add.pths;
delete N.add.pths;var C=N.kr.r3000;if(C){v={};dj.LT(C,v,4,!1);delete N.kr.r3000}for(var E=0;E<=997;E++){var I="r"+(2e3+E),_=N.kr[I];
if(_==null)break;var H=c1.JD(_,0,_.length,N.G,N.n),dJ=j?j.pathList.v[E].v.pathUnicodeName.v:"Path "+E,fG=v?v.keyRootDescriptorList.v[E].v.keyDescriptorList.v:y.dn(H),G=new y.kL;
G._=H;N.qI[E+1]=a2.Zd(dJ,{vmsk:G,vogk:fG});delete N.kr[I]}delete N.TV;var o=N.kr.r7000,i4=N.kr.r7001;
if(o){var df="varName trait docRef placementMethod align valign clip".split(" "),eO=U.uE(o),cO=new DOMParser,ej=cO.parseFromString(eO,"text/xml").firstChild.children[0],cn=ej.getElementsByTagName("variables")[0].children,j5=N.PB=[];
for(var h=0;h<cn.length;h++){var gP=cn[h],bY={};j5.push(bY);for(var gR=0;gR<df.length;gR++){var c3=df[gR],jj=gP.getAttribute(c3);
if(jj==null)continue;bY[c3]=jj}}}if(i4){var eO=U.uE(i4),cO=new DOMParser,jC=cO.parseFromString(eO,"text/xml").firstChild.children,kf=N.UB=[[]];
for(var l=0;l<jC.length;l++){var bz=jC[l],iv=[];kf.push(iv);for(var h=0;h<bz.children.length;h++){var jj=bz.children[h];
if(l==0)kf[0].push(jj.tagName);iv.push(jj.textContent)}}}delete N.kr.r7000;delete N.kr.r7001;var bI=new hq(0,0,N.G,N.n),jo=N.add.Txt2,iZ=jo;
if(iZ){iZ=iZ.r0;if(iZ._DocumentResources==null)iZ=dI.a9z(iZ)}for(var l=0;l<N.p.length;l++){var z=N.p[l],ee=z.add.lsct,a9=z.add.vmsk,ir=z.eg();
if(ee==d9.KS){ds++;z.add.lspf=0}else if(ee==d9.KK||ee==d9.vH)ds--;if(z.name==""){z.name="Layer "+(l+1);
ka=!0}if(ka&&z.Ob()&&z.M9=="norm")z.M9="pass";if(z.Pi()&&z.NM(N).B){var eP=z.NM(N);eP.B.isEnabled=z.add.SoLd.filterFX.v.filterMaskEnable.v}if(a9&&z.wu()){var jh=jG.iJ.default;
if(z.add.vstk==null)z.add.vstk=JSON.parse(JSON.stringify(jh));else{var fy="strokeStyleLineDashSet";if(z.add.vstk[fy]==null)z.add.vstk[fy]=JSON.parse(JSON.stringify(jh[fy]))}z.add.vstk.strokeStyleResolution.v=N.FD}if(a9&&(z.add.vogk==null||q.J.zl(a9._)!=z.add.vogk.length))z.dn();
if(z.add.SoLd&&z.rect.Nf()){console.log("redrawing smart instance");z.Vw(N)}if(ir==null&&z.B!=null){if(z.B.Ve==!1){z.B.Ve=!0;
z.oR=z.B.clone()}}ir=z.eg();if(z.m4){var jh=z.m4,G=a9;if(ir){ir.Af=jh[0];ir.H0=jh[1]}if(G){G.Af=jh[2];
G.H0=jh[3]}z.m4=null}if(ir!=null&&a9!=null&&(ir.H0+a9.H0!=0||ir.Af+a9.Af!=2*255))z.qB(N);else if(a9!=null&&!z.wu())z.qB();
else if(ir&&ir.Af!=255&&z.wu())z.qB(N);var eS=z.add.artb;if(eS&&eS.artboardBackgroundType==null)eS.artboardBackgroundType={t:"long",v:1};
if(eS&&ds!=0)delete z.add.artb;var gz=z.add.vstk;if(z.wu()&&(z.rect.Nf()||a9&&a9.H0!=0||gz&&!gz.fillEnabled.v&&(!gz.strokeEnabled.v||gz.strokeStyleLineWidth.v.val==0)))z.YH(N);
if(z.add.TySh){jD=!0;if(!z.rect.Nf())dM=!1}if(z.add.TySh&&iZ){var fi=z.add.TySh.Ol.TextIndex.v;if(fi==-1)continue;
var fw=z.add.TySh.pg,ce=en.Dt(fw),hl=iZ._DocumentObjects._TextObjects;if(hl.length<=fi){console.log("Txt2 incomplete");
continue}var ia=hl[fi]._Model,iQ=ia._StyleRun?ia._StyleRun._RunArray:[],em=fw.EngineDict.StyleRun.RunArray;
for(var k4=0;k4<em.length;k4++){var ar=em[k4].StyleSheet.StyleSheetData;if(iQ[k4]==null)continue;var fg=iQ[k4]._RunData._StyleSheet._Features;
if(fg&&fg._BaselineDirection)ar.BaselineDirection=parseInt(fg._BaselineDirection.slice(1));if(fg&&fg._FillBackgroundFlag)ar._FillBackgroundFlag=fg._FillBackgroundFlag;
if(fg&&fg._FillBackgroundColor){var j0=fg._FillBackgroundColor,cn=j0._Color._Values.slice(0);for(var h=0;
h<4;h++)cn[h]=parseFloat(cn[h].slice(1));ar._FillBackgroundColor={Type:1,Values:cn}}if(fg&&fg._LineWidth)ar._LineWidth=parseFloat(fg._LineWidth.slice(1))}var bU=fw.EngineDict.ParagraphRun.RunArray,dn=ia._ParagraphRun._RunArray;
if(dn==null)dn=[];var aJ=Math.min(dn.length,bU.length);for(var h=0;h<aJ;h++){var bE=bU[h].ParagraphSheet.Properties,ew=iZ._DocumentResources._ParagraphSheetSet._Resources,jy=dn[h]._RunData._ParagraphSheet;
if(typeof jy=="string")jy=ew[parseInt(jy.slice(1))]._Resource;var eT=jy._Parent==null?jy:ew[parseInt(jy._Parent.slice(1))]._Resource;
jy=jy._Features;eT=eT._Features;var du=jy._ParagraphDirection;if(du==null)du=eT._ParagraphDirection;
if(du)bE._Direction=parseInt(du.slice(1));if(jy._ComposerEngine)bE._ComposerEngine=parseInt(jy._ComposerEngine.slice(1))}if(ia._AlternateGlyphRun){var dn=ia._AlternateGlyphRun._RunArray,aJ=dn.length,c_=fw.EngineDict.AlternateGlyphRun=en.a58();
for(var h=0;h<aJ;h++){var jy=dn[h],f9={},bp=jy._RunData._AlternateGlyphSheet;if(bp)f9.Glyph=parseInt(bp._Glyph.slice(1));
c_.RunArray.push(f9);c_.RunLengthArray.push(parseInt(jy._Length.slice(1)))}}var aL=iZ._DocumentResources,f8=aL._TextFrameSet._Resources,aE=f8[fi]._Resource,be=aE._Data,jK=new gF(1,0,0,1,0,0);
if(aE._0){var ad=parseFloat(aE._0[0].slice(1)),iF=parseFloat(aE._0[1].slice(1));jK.translate(ad,iF)}if(ce){jK.translate(ce[0],ce[1]);
en.EU(fw,[0,0,ce[2]-ce[0],ce[3]-ce[1]])}else{if(aE._Bezier&&aE._Bezier._Points){var H=aE._Bezier._Points,ad=parseFloat(H[0].slice(1)),iF=parseFloat(H[1].slice(1));
if(ad!=0||iF!=0){jK.translate(ad,iF)}}}if(aE._Data&&aE._Data._FrameMatrix){var c0=aE._Data._FrameMatrix;
c0=c0.map(function(a3){return parseFloat(a3.slice(1))});jK.concat(new gF(c0[0],c0[1],c0[2],c0[3],c0[4],c0[5]))}jK.concat(z.add.TySh.D);
z.add.TySh.D=jK;var m=be._Type?parseInt(be._Type.slice(1)):0;if(m==2||m==1&&be._PathData&&be._PathData._Spacing=="i-3"){var hE=function(a3){return parseFloat(a3.slice(1))},H=aE._Bezier._Points.map(hE);
if(ce)q.g.D(H,new gF(1,0,0,1,-ce[0],-ce[1]),H);var hJ=be._PathData?be._PathData._Reversed:!1,cZ=be._TextOnPathTRange;
if(cZ==null)cZ=["f-3","f-3"];fw.Curve={Points:H,TextOnPathTRange:cZ.map(hE),Reversed:hJ==null?!1:hJ};
z.add.TySh.add={vmsk:new y.kL,vogk:null};en.$E(z.add.TySh)}if(be._LineOrientation=="i2")fw._LineOrientation=2}}K.le.zw(N,!0);
var dS={},ih=[];for(var l=0;l<N.p.length;l++){var d4=N.p[l].add.lyid;if(d4==null)continue;var gh=Math.max(gh,d4);
if(dS[d4]!=null)ih.push(l);else dS[d4]=!0}for(var l=0;l<ih.length;l++)N.p[ih[l]].add.lyid=gh+1+l};fL.MJ=function(s,N,r){K.le.Ep(s);
K.le.zw(s,!1);s.TV=r[3]==!0;var S=[],z=[],Z=0,M=1,X=16,cn=0;for(var l=0;l<s.p.length;l++){var A=s.p[l];
if(A.Pi()&&A.NM(s).B){A.add.SoLd.filterFX.v.filterMaskEnable.v=A.NM(s).B.isEnabled}if(A.add.TySh){var B=A.add.TySh.pg,Y=en.E0(B);
A.add.TySh.Ol.TextIndex={t:"long",v:S.length};S.push(B);if(Y==2)en.FS(A.add.TySh)}var p=A.add.vstk;if(p)p.strokeStyleResolution.v=s.FD;
if(A.wu()||r[2]&&A.add.SoLd){z[l]=[A.rect,A.buffer];A.rect=new hq;A.buffer=q.m(0);if(A.add.SoLd){var f=A.NM(s);
if(f!=null){z[l].push(f.buffer);f.buffer=q.m(f.buffer.length)}}}}if(S.length>0){var a=s.add.Txt2?s.add.Txt2.r0:null;
if(s.add.Txt2==null)s.add.Txt2={};s.add.Txt2.r0=hP.a7Q(S,null,a)}var D=[s.add.lnk2,s.add.FEid,s.add.Patt],c=s.aaT(s.p);
s.ab7(c);s.kr.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);U._H(s.kr.r1005,0,s.FD);U._H(s.kr.r1005,8,s.FD);
if(s.Y4()){s.kr.r1022=new Uint8Array([0,3+s.Aa.length-1,0])}else delete s.kr.r1022;var J=new Uint8Array(s.p.length*2),Q=new Uint8Array(s.p.length);
for(var l=0;l<s.p.length;l++){var A=s.p[l],u=A.LW,P=A.xK?1:0;U.a4(J,l*2,u);Q[l]=P;if(u>Z)Z=u;if(P==0)M=0}if(Z>0)s.kr.r1026=J;
if(M<1)s.kr.r1072=Q;var m=s.K0,i=m.length,e=s.kr.r1032=q.m(16+5*i,!0);U.sM(e,0,1);U.sM(e,4,576);U.sM(e,8,576);
U.sM(e,12,i);for(var l=0;l<i;l++){U.O2(e,X,Math.round(m[l][1]*32));e[X+4]=m[l][0];X+=5}if(r[0]!=!0){var $=[s.buffer,new hq(0,0,s.G,s.n)],O=0;
q.Ia($);while($[O+1].$()>200*200)O+=2;var T=hg.Pp("jpg"),b=$[O+1],R=new Uint8Array(T.Bj([[$[O].buffer]],b.G,b.n)),e=s.kr.r1036=q.m(28+R.length);
U.sM(e,0,1);U.sM(e,4,b.G);U.sM(e,8,b.n);U.sM(e,12,b.G*3);U.sM(e,16,b.$()*3);U.sM(e,20,R.length);U.a4(e,24,24);
U.a4(e,26,1);e.set(R,28)}var w=q.Fq(s.buffer),F=[];if(w)F.push({name:"Transparency",qx:{w:255,A:0,U:0},Dc:100,fW:1});
F=F.concat(s.Aa);delete s.kr.r1045;delete s.kr.r1006;delete s.kr.r1077;var L=new iY;X=0;var x=new Uint8Array(4+F.length*13);
x[3]=1;for(var l=0;l<F.length;l++){var g=F[l],n=g.name+"\0";U.XG(L,X,n);X+=4+n.length*2;var h=4+l*13;
hc.xQ(x,h,g.qx);x[h+11]=g.Dc;x[h+12]=g.fW}s.kr.r1045=L.data.slice(0,X);s.kr.r1077=x;for(var l=0;l<s.DF.length;
l++)s.DF[s.DF.length-l-1].v.sliceID.v=2+l*3;var _={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:s.DF}},L=new iY;
U.GK(L,0,8);U.GK(L,4,16);var H=dj.ih(L,_,8);s.kr.r1050=L.data.slice(0,H+8);var L=new iY;U.GK(L,0,16);
var H=dj.ih(L,s.zq,4);s.kr.r1065=L.data.slice(0,H+4);var G=s.f;e=s.kr.r1069=q.m(2+G.length*4,!0);U.a4(e,0,G.length);
for(var l=0;l<G.length;l++)U.sM(e,2+4*l,s.p[G[l]].add.lyid);delete s.kr.r1058;delete s.kr.r1060;if(Object.keys(s.yA).length!=0){var j=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
gr.K2(s.yA,j[0],r[0]&&r[1]);s.kr.r1058=new Uint8Array(UTIF.encode(j));var v=gr.a8a(s.yA);s.kr.r1060=U.et(v)}var C=[],E=[];
for(var l=0;l<s.qI.length;l++){var I=s.qI[l],dJ=I.add.vmsk._;if(l==0&&dJ.length==2)continue;var fG=q.m(dJ.length*26);
c1.JJ(fG,0,dJ,s.G,s.n);var o=l==0?1025:2e3+l-1;s.kr["r"+o]=fG;if(l!=0){C.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:I.name}}});
E.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:I.add.vogk}}})}}if(C.length!=0){s.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:C}};
E={classID:"null",keyRootDescriptorList:{t:"VlLs",v:E}};var L=new iY;U.GK(L,0,16);var H=dj.ih(L,E,4);
s.kr.r3000=L.data.slice(0,H+4)}else{delete s.add.pths;delete s.kr.r3000}if(s.PB.length!=0){var i4="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var l=0;l<s.PB.length;l++){var df=s.PB[l],eO=[];for(var o in df)eO.push(o+"=\""+df[o]+"\"");i4+="<variable "+eO.join(" ")+">\n</variable>\n"}i4+="</variables>\n</variableSet>\n</variableSets>";
s.kr.r7000=U.et(i4)}if(s.UB.length!=0){var i4="<sampleDataSets psdPath=\""+s.name+"\">\n";for(var l=1;
l<s.UB.length;l++){var cO=s.UB[l];i4+="<sampleDataSet dataSetName=\"Data Set "+l+"\">\n";for(var ej=0;
ej<cO.length;ej++)i4+="<"+s.UB[0][ej]+">"+cO[ej].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+s.UB[0][ej]+">\n";
i4+="</sampleDataSet>\n"}i4+="</sampleDataSets>";s.kr.r7001=U.et(i4)}cn=fL.ajw(s,N,cn,3+F.length);cn=fL.a5u(s,N,cn);
cn=fL.a04(s,N,cn);cn=fL.a8J(s,N,cn,r,w);cn=fL.a0u(s,N,cn,r[0],w);var j5=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var l=0;l<j5.length;l++)delete s.kr["r"+j5[l]];for(var l=0;l<s.p.length;l++){var A=s.p[l];if(A.wu()||r[2]&&A.add.SoLd){A.rect=z[l][0];
A.buffer=z[l][1];if(z[l][2]){var f=A.NM(s);z[l].push(f.buffer);f.buffer=z[l][2]}}}s.ab7(D);K.le.zw(s,!0);
delete s.TV;return cn};fL.yj=function(s,N,r){var S=U.TX(N,r,4);r+=4;if(S!="8BPS")alert("invalid header signature: "+S);
var z=U.XF(N,r);r+=2;s.TV=z==2;if(z!=1&&z!=2)alert("invalid version: "+z);r+=6;s.YE=U.XF(N,r);r+=2;s.n=U.sn(N,r);
r+=4;s.G=U.sn(N,r);r+=4;s.Sv=U.XF(N,r);r+=2;s.wW=U.XF(N,r);r+=2;return r};fL.ajw=function(s,N,r,S){N.yd(0,64);
U.s6(N.data,r,"8BPS");r+=4;U.a4(N.data,r,s.TV?2:1);r+=2;U.sM(N.data,r,0);r+=4;U.a4(N.data,r,0);r+=2;
U.a4(N.data,r,S);r+=2;U.O2(N.data,r,s.n);r+=4;U.O2(N.data,r,s.G);r+=4;U.a4(N.data,r,8);r+=2;U.a4(N.data,r,3);
r+=2;return r};fL.aoO=function(s,N,r){var S=U.sn(N,r);r+=4;if(S!=0)s.ew=N.slice(r,r+S);r+=S;return r};
fL.a5u=function(s,N,r){U.dR(N,r,0);r+=4;return r};fL.a0t=function(s,N,r){var S=U.l(N,r),z=0;r+=4;var A=[];
while(z<S){var B=U.TX(N,r+z,4);z+=4;var Y=U.XF(N,r+z);z+=2;var t=U.cU(N,r+z);z+=t.length;if(B=="MeSa"&&(Y==7e3||Y==7001)){}else if(B!="8BIM"){A.push(Y);
console.log("Unknown Image Resources signature: "+B+", ID: "+Y)}var p=U.l(N,r+z);z+=4;if(s.kr["r"+Y]!=null)console.log("--- two resources with same ID");
s.kr["r"+Y]=U.Sf(N,r+z,p);z+=p+(p&1)}for(var l=0;l<A.length;l++)delete s.kr["r"+A[l]];return r+S};fL.a04=function(s,N,r){var S=r,B=0;
r+=4;var z=[];for(var A in s.kr){z.push(parseInt(A.slice(1)))}z.sort(function(a,D){return a-D});for(var l=0;
l<z.length;l++){var Y=z[l];U.Gc(N,r+B,Y==7e3||Y==7001?"MeSa":"8BIM");B+=4;U.Ir(N,r+B,Y);B+=2;var t=U.hR(N,r+B,"");
B+=t;var p=s.kr["r"+Y],f=p.length;U.GK(N,r+B,f);B+=4;U.Ze(N,r+B,p);B+=f;if(f%2==1)B++}U.GK(N,S,B);return r+B};
fL.af7=function(s,N,r){var S=r,z,A,B=s.TV?8:4;if(s.TV)z=U.zk(N,r);else z=U.l(N,r);r+=B;if(z==0)return S+B;
A=fL.ad0(s,N,r);fL.lx(1,A-r,"Layer Info");r=A;A=fL.ahJ(s,N,r);fL.lx(1,A-r,"Global Layer Mask Info");
r=A;A=fT.fL(N,r,S+B+z,s.add,s.TV,s);fL.lx(1,A-r,"Project Add Info");r=A;return S+B+z};fL.a8J=function(s,N,r,S,z){var A=r;
U.GK(N,r,0);r+=4;if(s.TV){U.GK(N,r,0);r+=4}r=fL.ako(s,N,r,S,z);r=fL.abN(s,N,r);r=fT.Gt(N,r,s.add,s.TV,s);
if(s.TV)U.n5(N,A,r-A-8);else U.GK(N,A,r-A-4);return r};fL.ad0=function(s,N,r){var S,z=s.TV?8:4;if(s.TV)S=U.zk(N,r);
else S=U.l(N,r);r+=z;if(S!=0)fL.EQ(s,N,r);return r+S};fL.EQ=function(s,N,r){var S=U.AC(N,r);r+=2;var z=Math.abs(S);
for(var l=0;l<z;l++){var A=new y;r=hi.j7(A,s,N,r);s.p[l]=A}var B=new hq(0,0,s.G,s.n);for(var l=0;l<z;
l++){var Y=s.p[l],t=Y.eg(),p=g9.j7(Y,s,N,r);if(p-r>8)fL.lx(2,p-r,"Lay: "+Y.getName());r=p;fL.Wa(Y,B);
if(t)fL.Wa(t,B)}};fL.Wa=function(s,N){var r=s.rect.$(),S=s.rect.PS(N),z=S.$()/r;if(r>2e3*3e3&&z<.5){if(s.buffer){var A=q.m(S.$()*4);
q.LP(s.buffer,s.rect,A,S);s.buffer=A;s.rect=S}else{var A=q.m(S.$());q.lf(s.channel,s.rect,A,S);s.channel=A;
s.rect=S}alert("Removing hidden parts of layers")}};fL.ako=function(s,N,r,S,z){var A=r,B=s.TV;r+=B?8:4;
r=fL.Qt(s,N,r,S,z);var Y=r-A-(B?8:4);if(Y%2!=0)Y++;if(B)U.n5(N,A,Y);else U.GK(N,A,Y);return A+Y+(B?8:4)};
fL.Qt=function(s,N,r,S,z){var A=s.p.length;U.yr(N,r,z?-A:A);r+=2;var B=[];for(var l=0;l<A;l++)r=hi.MJ(s.p[l],s,N,r,B);
for(var l=0;l<A;l++)r=g9.vM(s.TV,s.p[l],N,r,B[l],S);return r};fL.ahJ=function(s,N,r){var S=U.l(N,r);
r+=4;r+=S;return r};fL.abN=function(s,N,r){var S=U.GK(N,r,0);r+=4;return r};fL.amC=function(s,N,r){var S=s.wW,z="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),A=[1,1,1,3,4,1,1,3],B,Z;
if(S!=3){if(S==1||S==2||S==4)console.log("Project will be converted from "+z[S]+" to "+z[3]+" mode.");
else{alert("Color mode "+z[S]+" is not supported yet :(")}if(S==4)s.add.fcmy=1}if(s.kr.r1045){B=[];var Y=s.kr.r1045,t=0;
while(t<Y.length){var p=U.e2(Y,t);B.push(p);t+=4+2+p.length*2}}var f=A[S]+(B==null||B[0]=="Transparency"?1:0),a=s.G,D=s.n,c=a*D,J=U.XF(N,r);
r+=2;s.buffer=q.m(c*4);q.TM(s.buffer,4278190080);var Q=r;for(var M=0;M<s.YE;M++){if(J==0){Z=g9.B8(s.TV,s.Sv,N,a,D,r,J);
r+=c*(s.Sv>>>3)}else if(J==1){Z=q.m(c);var u=s.TV?4:2;if(M==0)r+=s.YE*D*u;r+=g9.Be(N,Z,a,D,Q+M*D*u,r,u)}else{console.log("unknown compression of image data: ",J);
return}if(M<f){q.XX(Z,s.buffer,M);if(s.YE==1&&M==0){q.XX(Z,s.buffer,1);q.XX(Z,s.buffer,2)}}else{var P=new y.pk,m=M-f,i=M-A[s.wW];
P.name=B?B[i]:"Alpha";if(P.name=="Quick Mask"){P.TU=!0;s.rz.push(m)}P.rect=new hq(0,0,a,D);P.channel=Z;
P.color=0;P.pS();s.Aa[m]=P;if(s.kr.r1077){var Y=s.kr.r1077.slice(4+i*13);P.qx=hc.JG(Y,0);P.Dc=Y[11];
P.fW=Y[12];if(P.fW==2)P.TU=!0}}}s.YE=4;if(s.wW==2)for(var l=0;l<c;l++){var e=l*4,X=s.buffer[e];s.buffer[e]=s.ew[0+X];
s.buffer[e+1]=s.ew[256+X];s.buffer[e+2]=s.ew[512+X]}return r};fL.a0u=function(s,N,r,S,z){var A=1,B=16,Y=s.G,t=s.n,f,a;
U.Ir(N,r,A);r+=2;var p=Y*t;if(!S){a=new q.Ek(Y*t);q.oK(s.buffer,a);var D=a.w,c=a.A,J=a.U,Z=a.aC;for(var l=0;
l<p;l++){var Q=Z[l]*(1/255);D[l]=~~(D[l]*Q+255*(1-Q));c[l]=~~(c[l]*Q+255*(1-Q));J[l]=~~(J[l]*Q+255*(1-Q))}}else f=q.m(p);
var M=[f,f,f];if(!S)M=[a.w,a.A,a.U];if(z)M.push(S?f:a.aC);for(var l=0;l<s.Aa.length;l++){M.push(s.Aa[l].am(new hq(0,0,s.G,s.n)))}var u=r;
for(var P=0;P<M.length;P++){N.yd(r,Y*t+4);f=M[P];if(A==0||A==2||A==3)r=g9.ZJ(s.TV,f,N.data,Y,t,r,A);
else{var m=s.TV?4:2;if(P==0)r+=M.length*t*m;var i=r;r+=g9.zi(f,N.data,Y,t,u+P*t*m,r,m)}}return r};function aN(){}aN.j7=function(s){var N={};
aN.pH(s,N,0,0);return N};aN.MJ=function(s,N){var r=0;r=aN.Eb(s,N,r,0);return r};aN.pH=function(s,N,r,S){while(s[r]!="<".charCodeAt(0))r++;
r+=2;while(!0){if(s[r]=="/".charCodeAt(0)){r++;var z=U.indexOf(s," ".charCodeAt(0),r,r+50),A=U.indexOf(s,"\n".charCodeAt(0),r,r+50);
if(A==-1)A=Infinity;if(z==-1)z=Infinity;var B=Math.min(A,z),Y=U.TX(s,r,B-r),t=aN.vh(s,B+1,S+1,Y);N[Y]=t.h;
r=B+1;r+=t.size}else if(s[r]==">".charCodeAt(0)){r+=2;break}else{var p=s[r];if(p==10||p==9||p==32)r++;
else{console.log("unknown byte: "+p+", char: "+String.fromCharCode(p),r);r++}}}return r};aN.Eb=function(s,N,r,S){U.Gc(N,r,"<<\n");
r+=3;var z=aN.agd;for(var A in s){U.p8(N,r,"\t".charCodeAt(0),S+1);r+=S+1;U.Gc(N,r,"/"+A);r+=1+A.length;
if(z(s[A])||s[A]instanceof Array){U.Gc(N,r," ");r++}else{U.Gc(N,r,"\n");r++;U.p8(N,r,"\t".charCodeAt(0),S+1);
r+=S+1}r=aN.Od(s[A],N,r,S+1);U.Gc(N,r,"\n");r++}U.p8(N,r,"\t".charCodeAt(0),S);r+=S;U.Gc(N,r,">>");r+=2;
return r};aN.vh=function(s,N,r,S){var z=N,A={size:0,h:0};while(!0){while(s[N]==" ".charCodeAt(0)||s[N]=="\t".charCodeAt(0)||s[N]=="\n".charCodeAt(0))N++;
if(s[N]=="<".charCodeAt(0)){A.h={};N=aN.pH(s,A.h,N,r+1);break}else if(s[N]=="(".charCodeAt(0)){N+=3;
var B=N;while(!0){if(s[B-1]!="\\".charCodeAt(0)&&s[B]==")".charCodeAt(0)&&(s[B+1]=="\n".charCodeAt(0)||s[B+1]==" ".charCodeAt(0)))break;
else B++}A.h=U.c8(s,N,B);N=B+2;break}else if(s[N]=="[".charCodeAt(0)){N++;A.h=[];while(s[N]==" ".charCodeAt(0)||s[N]=="\t".charCodeAt(0)||s[N]=="\n".charCodeAt(0))N++;
while(s[N]!="]".charCodeAt(0)){var Y=aN.vh(s,N,r+1,S);A.h.push(Y.h);N+=Y.size;while(s[N]==" ".charCodeAt(0)||s[N]=="\t".charCodeAt(0)||s[N]=="\n".charCodeAt(0))N++}N++;
break}else{var t=U.indexOf(s," ".charCodeAt(0),N,N+50),p=U.indexOf(s,"\n".charCodeAt(0),N,N+50);if(p==-1)p=Infinity;
if(t==-1)t=Infinity;var f=U.TX(s,N,Math.min(t,p)-N).trim(),a=parseFloat(f);if(!isNaN(a)){A.h=parseFloat(f);
N=Math.min(t,p)+1;break}else if(f=="true"||f=="false"){A.h=f=="true";N=Math.min(t,p)+1;break}else if(f=="null"||f=="NaN"||f=="undefined"){A.h=0;
N=Math.min(t,p)+1;break}else{console.log("unknown identifier: "+f);throw"e"}N=Math.min(t,p)+1}}A.size=N-z;
return A};aN.Od=function(s,N,r,S){if(s instanceof Array){var z=s.length==0||typeof s[0]=="number";if(z){U.Gc(N,r,"[ ");
r+=2;for(var l=0;l<s.length;l++){var A=s[l]+" ";U.Gc(N,r,A);r+=A.length}U.Gc(N,r,"]");r+=1}else{U.Gc(N,r,"[\n");
r+=2;for(var l=0;l<s.length;l++){U.p8(N,r,"\t".charCodeAt(0),S);r+=S;r=aN.Od(s[l],N,r,S);U.Gc(N,r,"\n");
r++}U.p8(N,r,"\t".charCodeAt(0),S);r+=S;U.Gc(N,r,"]");r+=1}}else if(s instanceof Object){r=aN.Eb(s,N,r,S)}else if(typeof s=="string"){U.Gc(N,r,"(");
r++;U.p8(N,r,254);r++;U.p8(N,r,255);r++;r=U.tJ(N,r,s);U.Gc(N,r,")");r+=1}else{var A=s+"";U.Gc(N,r,A);
r+=A.length}return r};aN.agd=function(s){var N=typeof s;return N=="string"||N=="number"||N=="boolean"};
function jc(){}jc.j7=function(s){var N={};jc.y$(s,N,0,0);return N};jc.MJ=function(s,N){var r=0;U.Gc(N,r," ");
r++;r=jc.X0(s,N,r,0);r--;N.yd(r,2);N.data[r]=N.data[r+1]=0;r+=2;return r};jc.pH=function(s,N,r,S){while(s[r]!="<".charCodeAt(0)){r++;
console.log("\u0161ipka")}r+=2;r=jc.y$(s,N,r,S);return r};jc.Eb=function(s,N,r,S){U.Gc(N,r,"<< ");r+=3;
r=jc.X0(s,N,r,S);U.Gc(N,r,">>");r+=2;return r};jc.qc=function(s){return s==9||s==10||s==32};jc.y$=function(s,N,r,S){while(!0){while(jc.qc(s[r])||s[r]==0)r++;
if(r>=s.length)break;if(s[r]=="/".charCodeAt(0)){r++;var z=r;while(!jc.qc(s[z]))z++;var A=U.TX(s,r,z-r);
r=z+1;var B=jc.vh(s,r,S,A);N["_"+A]=B.h;r+=B.size}else if(s[r]==">".charCodeAt(0)){r+=2;break}else{var Y=s[r];
console.log(U.TX(s,r,r+100));console.log("unknown byte: "+Y+", char: "+String.fromCharCode(Y)+", offset: "+r);
r++;throw"e";return-1}}return r};jc.X0=function(s,N,r,S){for(var z in s){var A=z.substring(1,z.length);
U.Gc(N,r,"/"+A);r+=1+A.length;U.Gc(N,r," ");r++;r=jc.Od(s[z],N,r,S+1);U.Gc(N,r," ");r++}return r};jc.vh=function(s,N,r,S){var z=N,A={type:"",size:0,h:0};
while(jc.qc(s[N]))N++;if(s[N]=="<".charCodeAt(0)){A.type="Object";A.h={};N=jc.pH(s,A.h,N,r+1)}else if(s[N]=="(".charCodeAt(0)){A.type="String";
N++;if(s[N]==")".charCodeAt(0)){A.h="e";N++}else{N+=2;var B=N,Y=0;while(!0){if(s[B]==")".charCodeAt(0)&&s[B-1]!="\\".charCodeAt(0))break;
else B+=1}A.h="s"+U.c8(s,N,B);N=B+2}}else if(s[N]=="[".charCodeAt(0)){N++;A.h=[];A.type="Array";while(jc.qc(s[N]))N++;
while(s[N]!="]".charCodeAt(0)){var t=jc.vh(s,N,r+1,S);if(t==-1)return-1;A.h.push(t.h);N+=t.size;delete t.size;
while(jc.qc(s[N]))N++}N++}else{var p=N;while(!jc.qc(s[p]))p++;var f=U.TX(s,N,p-N),a=parseFloat(f);if(!isNaN(a)&&f.indexOf(".")!=-1){A.type="Float";
var D=parseFloat(f);A.h="f"+D}else if(!isNaN(a)&&f.indexOf(".")==-1){A.type="Integer";A.h="i"+parseInt(f)}else if(f=="true"||f=="false"){A.type="Boolean";
A.h=f=="true"}else if(f.charAt(0)=="/"){A.type="BString";A.h=f}else if(f=="NaN"){A.type="Float";A.h="f0"}else{console.log("unknown value",JSON.stringify(f));
throw"e"}N=p+1}A.size=N-z;return A};jc.akU=function(s){if(s==Math.round(s))return s+".0";var N=s.toFixed(5);
while(N.endsWith("0")&&N[N.length-2]!=".")N=N.slice(0,N.length-1);if(0<s&&s<1)N=N.slice(1);if(-1<s&&s<0)N="-"+N.slice(2);
return N};jc.Od=function(s,N,r,S){var z=typeof s=="string"?s.charAt(0):"";if(s instanceof Array){U.Gc(N,r,"[ ");
r+=2;for(var l=0;l<s.length;l++){r=jc.Od(s[l],N,r,S);U.Gc(N,r," ");r++}U.Gc(N,r,"]");r+=1}else if(s instanceof Object){r=jc.Eb(s,N,r,S)}else if(z=="e"){U.Gc(N,r,"()");
r+=2}else if(z=="s"){U.Gc(N,r,"(");r++;U.p8(N,r,254);r++;U.p8(N,r,255);r++;r=U.tJ(N,r,s.substring(1));
U.Gc(N,r,")");r++}else if(z=="/"){U.Gc(N,r,s);r+=s.length}else if(z=="f"){var A=parseFloat(s.substring(1)),B=jc.akU(A);
U.Gc(N,r,B);r+=B.length}else if(z=="i"){U.Gc(N,r,s.substring(1));r+=s.length-1}else{var B=s+"";U.Gc(N,r,B);
r+=B.length}return r};function U(){}U.aeQ=function(i3){var s="";for(var l=3;l>=0;l--)s+=String.fromCharCode(i3>>l*8&255);
return s};U.a8C=function(s){var i3=0;for(var l=s.length-1;l>=0;l--)i3|=s.charCodeAt(l)<<(3-l)*8;return i3};
U.indexOf=function(s,N,r,S){if(r==null)r=0;if(S==null)S=s.length;S=Math.min(S,s.length);for(var l=r;
l<S;l++)if(s[l]==N)return l;return-1};U.yC=function(s,N,r){if(r==null)r=0;var S=N.length,z=s.length-S;
if(typeof N=="string"){var A=[];for(var l=0;l<S;l++)A.push(N.charCodeAt(l));N=A}if(N.length>0){var B=N[0];
for(var l=r;l<z;l++)if(s[l]==B){var Y=!0;for(var t=1;t<S;t++)if(N[t]!=s[l+t]){Y=!1;break}if(Y)return l}}return-1};
U.c8=function(s,N,r){var S=[],A="";while(N<r){var z=s[N++];if(z=="\\".charCodeAt(0))S.push(s[N++]);else S.push(z)}for(var l=0;
l<S.length;l+=2)A+=String.fromCharCode(S[l]<<8|S[l+1]);return A};U.amy=function(s,N,r){var S=new Uint8Array(2);
for(var l=0;l<r.length;l++){U.a4(S,0,r.charCodeAt(l));if(S[0]==")".charCodeAt(0)||S[0]=="(".charCodeAt(0)||S[0]=="\\".charCodeAt(0)){s[N]="\\".charCodeAt(0);
N++}s[N]=S[0];N++;if(S[1]==")".charCodeAt(0)||S[1]=="(".charCodeAt(0)||S[1]=="\\".charCodeAt(0)){s[N]="\\".charCodeAt(0);
N++}s[N]=S[1];N++}return N};U.tJ=function(s,N,r){s.yd(N,4*r.length);return U.amy(s.data,N,r)};U.RC=function(s,N,r){var S="";
for(var l=0;l<r;l++){var z=s[N++]|s[N++]<<8;S+=String.fromCharCode(z)}return S};U.xk=function(s,N,r){var S="";
for(var l=0;l<r;l++){var z=s[N++]<<8|s[N++];S+=String.fromCharCode(z)}return S};U.avR=function(s,N,r){for(var l=0;
l<r.length;l++){var S=r.charCodeAt(l);U.jo(s,N+2*l,S)}};U.QY=function(s,N,r){for(var l=0;l<r.length;
l++){var S=r.charCodeAt(l);U.a4(s,N+2*l,S)}};U.a28=function(s,N,r){s.yd(N,2*r.length);U.QY(s.data,N,r)};
U.a7y=function(s,l,N){var r=[],S=0,z=0;N+=l;while(l<N){S=s[l++];if((S&128)==0)z=S;else if((S&224)==192){z=(S&31)<<6;
S=s[l++];z|=S&63}else if((S&240)==224){z=(S&15)<<12;S=s[l++];z|=(S&63)<<6;S=s[l++];z|=S&63}else if((S&248)==240){z=(S&7)<<18;
S=s[l++];z|=(S&63)<<12;S=s[l++];z|=(S&63)<<6;S=s[l++];z|=S&63}else throw"e";r.push(z)}return r};U.EB=window.TextDecoder?new window.TextDecoder("utf8"):null;
U.uE=function(s,N,r){if(N==null)N=0;if(r==null)r=s.length;if(U.EB&&N==0&&r==s.length)return U.EB.decode(s);
var S=U.a7y(s,N,r),z=S.length;for(var l=0;l<z;l++)S[l]=String.fromCharCode(S[l]);return S.join("")};
U.e$=window.TextEncoder?new window.TextEncoder("utf8"):null;U.et=function(s){if(U.e$)return U.e$.encode(s);
var N=new Uint8Array(s.length*4),r=U.MD(s,N,0);return N.slice(0,r)};U.MD=function(s,N,r){var S=s.length,l=0;
for(var z=0;z<S;z++){var A=s.charCodeAt(z);if((A&4294967295-(1<<7)+1)==0){N[r+l]=A;l++}else if((A&4294967295-(1<<11)+1)==0){N[r+l]=192|A>>6;
N[r+l+1]=128|A>>0&63;l+=2}else if((A&4294967295-(1<<16)+1)==0){N[r+l]=224|A>>12;N[r+l+1]=128|A>>6&63;
N[r+l+2]=128|A>>0&63;l+=3}else if((A&4294967295-(1<<21)+1)==0){N[r+l]=240|A>>18;N[r+l+1]=128|A>>12&63;
N[r+l+2]=128|A>>6&63;N[r+l+3]=128|A>>0&63;l+=4}else throw"e"}return l};U.K3=function(s,N){var r=U.l(s,N),S=U.uE(s,N+4,r-1);
return{D7:S,Yc:4+r}};U.apM=function(s,N){var r=U.g2(s,N),S=U.RC(s,N+4,r);return S};U.S4=function(s,N){var r=U.l(s,N),S=U.xk(s,N+4,r);
return S};U.e2=function(s,N){var r=U.l(s,N),S=U.xk(s,N+4,r-1);return S};U.a0L=function(s,N,r){U.BZ(s,N,r.length);
N+=4;U.avR(s,N,r)};U.atO=function(s,N,r){U.sM(s,N,r.length);N+=4;U.QY(s,N,r)};U.XG=function(s,N,r){s.yd(N,4+2*r.length);
U.atO(s.data,N,r)};U.ad5=function(s,N,r){s.yd(N,4+2*r.length);U.a0L(s.data,N,r)};U.M2=function(s,N,r){var S=[];
for(var l=0;l<r;l++)S.push(String.fromCharCode(s[N+l]));return S};U.a6V=function(s,N,r){var S=!1,z=s.length-r.length;
for(var l=N;l<z;l++){for(var A=0;A<r.length;A++){if(s[l+A]!=r.charCodeAt(A))break;if(A==r.length-1)return l}}};
U.TX=function(s,N,r){var S="";for(var l=0;l<r;l++)S+=String.fromCharCode(s[N+l]);return S};U.s6=function(s,N,r){for(var l=0;
l<r.length;l++)s[N+l]=r.charCodeAt(l)};U.Gc=function(s,N,r){s.yd(N,r.length);U.s6(s.data,N,r)};U.abx=function(s,N,r){var S="";
for(var l=0;l<r;l++){var z=s[N+l];if(z<10)S+="  ";else if(z<100)S+=" ";S+=z+", "}return S};U.XF=function(s,N){return s[N]<<8|s[N+1]};
U.a4=function(s,N,i3){s[N]=i3>>8&255;s[N+1]=i3&255};U.Ir=function(s,N,i3){s.yd(N,4);U.a4(s.data,N,i3)};
U.a0I=function(s,N){var r=U.XF(s,N),S=U.XF(s,N+2);return r+S*(1/65536)};U._H=function(s,N,i3){var r=Math.floor(i3),S=Math.floor((i3-r)*65536);
U.a4(s,N,r);U.a4(s,N+2,S)};U.ix=function(s,N){return s[N+1]<<8|s[N]};U.jo=function(s,N,i3){s[N+1]=i3>>8&255;
s[N]=i3&255};U.n4=function(s,N,i3){s.yd(N,4);U.jo(s.data,N,i3)};U.AC=function(s,N){U.Kg[0]=s[N+1];U.Kg[1]=s[N];
return U.V3[0]};U.Mz=function(s,N){U.Kg[0]=s[N];U.Kg[1]=s[N+1];return U.V3[0]};U.S$=U.a4;U.yr=U.Ir;U.sn=function(s,N){U.vr[0]=s[N+3];
U.vr[1]=s[N+2];U.vr[2]=s[N+1];U.vr[3]=s[N];return U.Zk[0]};U.O2=function(s,N,i3){U.Zk[0]=i3;s[N+3]=U.vr[0];
s[N+2]=U.vr[1];s[N+1]=U.vr[2];s[N+0]=U.vr[3]};U.dR=function(s,N,i3){s.yd(N,4);U.O2(s.data,N,i3)};U.S3=function(s,N,r,S){r[S+0]=s[N+0];
r[S+1]=s[N+1];r[S+2]=s[N+2];r[S+3]=s[N+3]};U.g2=function(s,N){U.S3(s,N,U.vr,0);return U.eX[0]};U.BZ=function(s,N,i3){U.eX[0]=i3;
U.S3(U.vr,0,s,N)};U.AQ=function(s,N,i3){s.yd(N,4);U.BZ(s.data,N,i3)};U.mB=function(s,N){U.S3(s,N,U.vr,0);
return U.Zk[0]};U.amP=function(s,N,i3){U.Zk[0]=i3;U.S3(U.vr,0,s,N)};U.ada=function(s,N,i3){s.yd(N,4);
U.amP(s.data,N,i3)};U.l=function(s,N){var r=s[N]*(256*256*256)+(s[N+1]<<16|s[N+2]<<8|s[N+3]);return r};
U.sM=function(s,N,i3){s[N]=i3>>24&255;s[N+1]=i3>>16&255;s[N+2]=i3>>8&255;s[N+3]=i3>>0&255};U.GK=function(s,N,i3){s.yd(N,4);
U.sM(s.data,N,i3)};U.zk=function(s,N){return U.l(s,N)<<32|U.l(s,N+4)};U.$k=function(s,N,i3){U.sM(s,N,i3>>16>>16);
U.sM(s,N+4,i3&4294967295)};U.n5=function(s,N,i3){s.yd(N,8);U.$k(s.data,N,i3)};U.bv=function(s,N){var r=new Uint8Array(8);
for(var l=0;l<8;l++)r[l]=s[N+7-l];var S=new Float64Array(r.buffer);return S[0]};U.T7=function(s,N){var r=new Uint8Array(8);
for(var l=0;l<8;l++)r[l]=s[N+l];var S=new Float64Array(r.buffer);return S[0]};U.cX=function(s,N,i3){var r=new Float64Array(1);
r[0]=i3;var S=new Uint8Array(r.buffer);for(var l=0;l<4;l++){var z=S[l];S[l]=S[7-l];S[7-l]=z}for(var l=0;
l<8;l++)s[N+l]=S[l]};U.HY=function(s,N,i3){s.yd(N,8);U.cX(s.data,N,i3)};U.QP=function(s,N){U.vr[0]=s[N+3];
U.vr[1]=s[N+2];U.vr[2]=s[N+1];U.vr[3]=s[N+0];return U.e8[0]};U.gl=function(s,N){U.vr[0]=s[N+0];U.vr[1]=s[N+1];
U.vr[2]=s[N+2];U.vr[3]=s[N+3];return U.e8[0]};U.NR=function(s,N,i3){U.e8[0]=i3;s[N+0]=U.vr[3];s[N+1]=U.vr[2];
s[N+2]=U.vr[1];s[N+3]=U.vr[0]};U.ahz=function(s,N,i3){s.yd(N,4);U.NR(s.data,N,i3)};U.VJ=function(s,N,i3){U.e8[0]=i3;
s[N+0]=U.vr[0];s[N+1]=U.vr[1];s[N+2]=U.vr[2];s[N+3]=U.vr[3]};U.ald=function(s,N,i3){s.yd(N,4);U.VJ(s.data,N,i3)};
U.amx=function(s,N){var r=U.sn(s,N),S=r*(1/(1<<24));return S};U._1=function(s,N,r){var S=Math.floor(r*(1<<24));
U.O2(s,N,S)};U.a1L=function(s,N,r){s.yd(N,4);U._1(s.data,N,r)};U.cU=function(s,N){var r=s[N],S=U.TX(s,N+1,r);
r+=1-r%2;return{c1:S,length:r+1}};U.akw=function(s,N,r){var S=r.length;s[N]=S;U.s6(s,N+1,r);if(S%2==0){s[N+1+S]=0;
++S}return S+1};U.hR=function(s,N,r){s.yd(N,r.length+2);return U.akw(s.data,N,r)};U.U2=function(s,N){var r=new gF;
r.aC=U.bv(s,N+0*8);r.U=U.bv(s,N+1*8);r.K1=U.bv(s,N+2*8);r.dX=U.bv(s,N+3*8);r.JC=U.bv(s,N+4*8);r.T3=U.bv(s,N+5*8);
return r};U.tS=function(s,N,r){U.cX(s,N+0*8,r.aC);U.cX(s,N+1*8,r.U);U.cX(s,N+2*8,r.K1);U.cX(s,N+3*8,r.dX);
U.cX(s,N+4*8,r.JC);U.cX(s,N+5*8,r.T3)};U.a0o=function(s,N,r){s.yd(N,48);U.tS(s.data,N,r)};U.anE=function(s,N){var r=U.QP(s,N),S=U.QP(s,N+4),z=U.QP(s,N+8),A=U.QP(s,N+12);
return new hq(r,S,z-r,A-S)};U.aeT=function(s,N,r){U.NR(s,N,r.x);U.NR(s,N+4,r.y);U.NR(s,N+8,r.x+r.G);
U.NR(s,N+12,r.y+r.n)};U.am1=function(s,N,r){s.yd(N,16);U.aeT(s.data,N,r)};U.xX=function(s,N){var r=U.sn(s,N),S=U.sn(s,N+4),z=U.sn(s,N+8),A=U.sn(s,N+12);
return new hq(S,r,A-S,z-r)};U.fT=function(s,N,r){U.O2(s,N,r.y);U.O2(s,N+4,r.x);U.O2(s,N+8,r.y+r.n);U.O2(s,N+12,r.x+r.G)};
U._m=function(s,N,r){s.yd(N,16);U.fT(s.data,N,r)};U.Sf=function(s,N,r){var S=new Uint8Array(r);for(var l=0;
l<r;l++)S[l]=s[N+l];return S};U.MR=function(s,N,r){s.set(r,N)};U.Ze=function(s,N,r){s.yd(N,r.length);
U.MR(s.data,N,r)};U.a92=function(s,N,r,i3){if(!i3)i3=1;for(var l=0;l<i3;l++)s[N+l]=r};U.p8=function(s,N,r,i3){if(!i3)i3=1;
s.yd(N,i3);U.a92(s.data,N,r,i3)};U.V3=new Int16Array(1);U.Kg=new Uint8Array(U.V3.buffer);U.Zk=new Int32Array(1);
U.eX=new Uint32Array(U.Zk.buffer);U.vr=new Uint8Array(U.Zk.buffer);U.e8=new Float32Array(U.Zk.buffer);
function g4(){}g4.j7=function(s,N){var r=new Uint8Array(s),S=0,z=U.TX(r,S,9),Y=4,t=100;S+=9;var A=U.TX(r,S,4);
S+=4;S++;N.G=U.l(r,S);S+=4;N.n=U.l(r,S);S+=4;var B=U.l(r,S);S+=4;if(B!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(A)==-1){t=U.l(r,S);S+=4;if(parseInt(A.slice(1))>=7){t=t}else alert("Unknown XCF version: "+A);
Y=8}var p={};S=g4.rM(r,S,p);var f=[];S=g4.aF(r,S,f,Y);var a=[];S=g4.aF(r,S,a,Y);N.xE=0;for(var l=0;l<f.length;
l++)g4.a7x(r,f[l],N,p,Y,t);while(N.xE>0){N.p.push(N.YL());N.xE--}N.p.reverse();delete N.xE;N.buffer=q.m(N.G*N.n*4);
if(N.p.length==0)console.log("No layers!!!");for(var l=0;l<a.length;l++){var D=g4.I2(r,a[l],p,Y,t);if(D.tt[ag.a73])N.q={channel:D.O0,rect:new hq(0,0,N.G,N.n)}}};
g4.a7x=function(s,N,r,S,z,A){var B=r.tT(),Y=U.l(s,N),a=0;N+=4;var t=U.l(s,N);N+=4;B.rect=new hq(0,0,Y,t);
var p=U.l(s,N);N+=4;var f=U.K3(s,N);N+=f.Yc;B.lP(f.D7);var D={};N=g4.rM(s,N,D);if(D[ag.XL]){var c=D[ag.XL];
a=c.length/4-1}if(D[ag.iB]){B.rect.x=U.sn(D[ag.iB],0);B.rect.y=U.sn(D[ag.iB],4)}if(D[ag.GJ]){B.opacity=U.l(D[ag.GJ],0)}if(D[ag.ap9]){B.add.lsct=d9.KK;
B.rect=new hq(0,0,0,0);B.buffer=q.m(0);B.Vs=24}if(D[ag.jz]){var J=U.l(D[ag.jz],0);B.M9=ag.ahe[J];if(B.Ob()&&B.M9=="norm")B.M9="pass"}if(D[ag.L5]){if(U.l(D[ag.L5],0)==0)B.Vs+=2}if(D[ag.OO]){var Z=U.l(D[ag.OO],0);
B.add.lsct=Z&1==1?d9.KK:d9.vH}if(D[ag.QR]){var Q=D[ag.QR];for(var M in Q){var u=Q[M];if(M=="gimp-text-layer"){var P=g4.a2P(u),m=P.text,i=P.font,e=P.color,X=P["font-size"];
if(m==null&&P.markup){var $=new DOMParser,O=$.parseFromString(P.markup,"image/svg+xml");while(O.firstChild!=null&&O.firstChild.tagName!=null){O=O.firstChild;
var T=O.getAttribute("font"),b=O.getAttribute("foreground"),R=O.getAttribute("size");if(T!=null)i=T;
if(b!=null){b=CSS.JG(b);e=[1,b.w/255,b.A/255,b.U/255]}if(R!=null){X=""+parseFloat(R)/245}}m=O.textContent}B.add.lnsr="rend";
B.add.TySh=en.iE(0,0);B.add.TySh.Kr=new hq(0,0,100,100);B.add.TySh.D=new gF(1,0,0,1,B.rect.x,B.rect.y);
var w=B.add.TySh.pg;en.Bx(w,0,m);var F=en.hM(w,0,0),L=P.justify,x=P["line-spacing"];if(e)F.GN.FillColor={Type:1,Values:[1,parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])]};
if(X){X=Math.round(parseFloat(X));F.GN.FontSize=X;B.add.TySh.D.T3+=Math.min(17,X*.17)}if(x){x=Math.round(parseFloat(x)+F.GN.FontSize*1.2);
F.GN.Leading=x;F.GN.AutoLeading=!1}if(L)F.M7.Justification=["left","right","center","fill"].indexOf(L);
if(i&&i!="Sans-serif"){var g=i.toLowerCase(),n="bold italic semi extra regular condensed light".split(" "),h=g.length;
for(var l=0;l<n.length;l++){var _=g.indexOf(n[l]);if(_!=-1&&_<h&&g[_-1]==" ")h=_}if(h!=g.length)i=i.slice(0,h-1).split(" ").join("")+"-"+i.slice(h).split(" ").join("");
en._E(F,i)}en.Z6(w,0,m.length,F);var H=P["box-width"],G=P["box-height"],j=H?parseFloat(H):B.rect.G,v=G?parseFloat(G):B.rect.n;
en.WR(w,1);en.EU(w,[0,0,Math.ceil(j),Math.ceil(v)])}else console.log("Unknown property "+M)}}while(r.xE>a){r.p.push(r.YL());
r.xE--}r.xE=a;if(B.add.lsct==d9.KK||B.add.lsct==d9.vH)r.xE++;var C=z==4?U.l:U.zk;if(B.ua()){B.buffer=q.m(B.rect.$()*4);
var E=new q.Ek(B.rect.$()),I=C(s,N);N+=z;var dJ=C(s,N);N+=z;g4.Mm(s,I,E,S,z,A);q.vZ(E,B.buffer);if(dJ!=0){B.B=new y.pk;
B.B.color=0;B.B.rect=B.rect.clone();B.B.channel=g4.I2(s,dJ,S,z,A).O0;if(D[ag.tG])B.B.isEnabled=U.l(D[ag.tG],0)==1}}r.p.push(B)};
g4.a2P=function(s){var N="("+U.uE(s,0,s.length-1)+")",r=[],S={};g4.PO(N,1,r);g4.a88(r,S);return S};g4.a88=function(s,N){for(var l=0;
l<s.length;l++){var r=s[l],S=r[0];if(r.length==2)N[S]=r[1];else N[S]=r.slice(1)}};g4.PO=function(s,N,r){while(!0){if(N>=s.length)throw"e";
var S=s.charAt(N);N++;if(S=="("){var z=[];N=g4.PO(s,N,z);r.push(z)}else if(S==" "||S=="\n"||S=="\r"){}else if(S==")")return N;
else if(S=="\""){var A=N;while(!0){var B=s[N];N++;if(B=="\"")break;if(B=="\\")N++}r.push(JSON.parse(s.slice(A-1,N)))}else{var A=N-1;
while(s[N]!=" "&&s[N]!=")")N++;r.push(s.slice(A,N))}}};g4.I2=function(s,N,r,S,z){var A=U.l(s,N);N+=4;
var B=U.l(s,N);N+=4;var Y=U.K3(s,N);N+=Y.Yc;var t={};N=g4.rM(s,N,t);var p=new q.Ek(A*B),f=S==4?U.l:U.zk,a=f(s,N);
N+=S;g4.Mm(s,a,p,r,S,z);return{O0:p.w,tt:t}};g4.Mm=function(s,N,r,S,z,A){var B=U.l(s,N);N+=4;var Y=U.l(s,N);
N+=4;var t=U.l(s,N);N+=4;var p=z==4?U.l:U.zk,f=p(s,N);N+=z;g4.arl(s,f,r,S,t,z,A)};g4.arl=function(s,N,r,S,z,A,B){var Y=U.l(s,N),f=0,l=0;
N+=4;var t=U.l(s,N);N+=4;var p=new hq(0,0,Y,t);if(B==100||B==150)f=1;else if(B==200||B==250)f=2;else if(B==300||B==350)f=4;
else if(B==500||B==550)f=2;else if(B==600||B==650)f=4;else if(B==700||B==750)f=8;else{alert("unsupported bit depth "+B);
throw"e"}var a=z/f,f=Math.round(z/a),D=[];N=g4.aF(s,N,D,A);var c=new q.Ek(64*64*f),J=new hq,Z=S[ag.asx][0],Q=[c.w,c.A,c.U,c.aC];
if(a==3)c.aC.fill(255);var M=Date.now();for(var u=0;u<t;u+=64)for(var P=0;P<Y;P+=64){var m=Math.min(Y-P,64),i=Math.min(t-u,64),e=m*i;
J.i5(P,u,m,i);g4.ama(s,D[l++],e*f,Z,a,Q);if(B==100||B==150){}else if(B==250){for(var X=0;X<a;X++){var $=Q[X];
for(var O=0;O<e;O++){var T=$[O]<<8|$[e+O];$[O]=Math.min(T>>>8,255)}}}else if(B==600){var b=g4.a3r(),R=new Uint32Array(1),w=new Float32Array(R.buffer);
for(var X=0;X<a;X++){var $=Q[X];for(var O=0;O<e;O++){R[0]=$[O]<<24|$[e+O]<<16|$[(e<<1)+O]<<8|$[(e<<1)+e+O]<<0;
var F=w[0];if(F<0)F=0;else if(F>1)F=1;$[O]=b[~~(.5+F*1e3)]}}}else console.log("unknown data format",B);
q._b(c,J,r,p)}};g4.a3r=function(){var s=g4.a2i;if(s!=null)return s;s=g4.a2i=new Uint8Array(1001);for(var l=0;
l<1001;l++)s[l]=~~(.49+255*q.VN(l*.001));return s};g4.ama=function(s,N,r,S,z,A){if(S==1){for(var B=0;
B<z;B++){var Y=A[B],t=0;while(t<r){var i3=s[N];N++;if(i3<127){var p=s[N];N++;i3++;for(var l=0;l<i3;l++)Y[t+l]=p}else if(i3==127){var f=s[N];
N++;var a=s[N];N++;var p=s[N];N++;i3=f<<8|a;for(var l=0;l<i3;l++)Y[t+l]=p}else if(i3==128){var f=s[N];
N++;var a=s[N];N++;i3=f<<8|a;for(var l=0;l<i3;l++)Y[t+l]=s[N+l];N+=i3}else{i3=256-i3;for(var l=0;l<i3;
l++)Y[t+l]=s[N+l];N+=i3}t+=i3}}}else if(S==2){var D=pako.inflate(s.slice(N)),c=Math.round(D.length/r);
for(var l=0;l<r;l++){var J=l*c;A[0][l]=D[J];A[1][l]=D[J+1];A[2][l]=D[J+2];A[3][l]=c==3?255:D[J+3]}}else alert("Unknown compression "+S)};
g4.aF=function(s,N,r,S){var z=S==4?U.l:U.zk;while(!0){var A=z(s,N);N+=S;if(A==0)break;else r.push(A)}return N};
g4.rM=function(s,N,r){while(!0){var S=U.l(s,N);N+=4;var z=U.l(s,N);N+=4;if(S==ag.ag6)break;else if(S==ag.QR)r[S]=g4.amD(s,N,N+z);
else r[S]=U.Sf(s,N,z);N+=z}return N};g4.amD=function(s,N,r){var S={};while(N<r){var z=U.K3(s,N);N+=z.Yc;
var A=U.l(s,N);N+=4;if(A!=1)console.log("unknown flags",A);var B=U.l(s,N);N+=4;S[z.D7]=U.Sf(s,N,B);N+=B}return S};
var ag={ag6:0,a6x:1,aou:2,al$:3,a73:4,a4k:5,GJ:6,jz:7,L5:8,any:9,a6l:10,tG:11,a4U:12,as2:13,a8l:14,iB:15,ajy:16,asx:17,adZ:18,afZ:19,a8s:20,QR:21,asN:22,agl:23,aqR:24,ae0:25,amK:26,aft:27,acJ:28,ap9:29,XL:30,OO:31,afL:32,afl:33,a1Y:34,aom:35,a4O:36,a7V:37,alE:38,afr:0,ah6:1,a2q:2,ab9:3,apG:1,adq:2,aoz:0,alW:1,adY:1};
ag.ahe="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var aU=function(){var s=!1,N,r,P;function S(){var e=U.TX(N,r,4);r+=4;return e[3]+e[2]+e[1]+e[0]}function z(){var e=U.TX(N,r,4);
r+=4;return e}function A(){var e=N[r];r+=1;return e}function B(){var e=U.ix(N,r);r+=2;return e}function Y(){var e=U.g2(N,r);
r+=4;return e}function t(){var e=U.mB(N,r);r+=4;return e}function p(){var e=U.g2(N,r);r+=8;return e}function f(){var e=U.gl(N,r);
r+=4;return e}function a(){var e=U.T7(N,r);r+=8;return e}function D(){var e=U.ix(N,r),X=U.uE(N,r+2,e);
r+=2+e;return X}function c(){var e=U.g2(N,r),X=U.uE(N,r+4,e);r+=4+e;return X}function J(e){r=e;var X=[];
while(r!=0){var $=z();if($!="#FT4"&&$!="#FT3"&&$!="#FT2")throw $;var O=p(),T=p(),b=p(),R=p(),w=p(),F=Y(),L=Y(),x=Y(),g=B(),n=A(),h={};
X.push(h);for(var l=0;l<F;l++){var _=Y(),H=A();if(H!=0&&H!=1&&H!=2)throw H;var G=[];if(H==0||H==1){var j=p(),v=p(),C=p(),E=Y(),I=A(),dJ=Y(),fG=$!="#FT4"?0:Y(),o=null;
if($=="#FAT"||$=="#FT2"){switch(I){case 1:I=1;break;case 2:I=65;break;case 3:I=129;break;case 4:I=193;
break;default:I=0;break}}if(H==0)o=D();G=[j,v,C,I,o]}h["i"+_]=[H,G]}for(var l=0;l<g;l++){var i4=B(),df=B(),eO=p(),cO=U.TX(N,r,i4);
r+=i4}r=O}X.reverse();for(var ej=1;ej<X.length;ej++){var h=X[ej],cn=X[ej]=JSON.parse(JSON.stringify(X[ej-1]));
for(var j5 in h){var gP=h[j5];if(gP[0]==0)cn[j5]=gP;else if(gP[0]==1){gP[1][4]=cn[j5][1][4];cn[j5]=gP}else if(gP[0]==2)delete cn[j5]}}var bY=X.pop(),gR=[];
for(var j5 in bY)gR.push(bY[j5][1]);gR.sort(function(c3,jj){return c3[0]-jj[0]});return gR}function Z(e,X,$,O){while(r<N.length){var T=A(),F=null;
if(T==0){if(O){var b=A();if(b!=2){var R=S()}if(b==0)r+=4;O=!1;continue}else{break}}var w=S();if(s)console.log("  ".repeat(X),T,T&127,w,e._type);
if(T>127)F=Q(T,X,$);else F=M(T,X,$);e[w]=F}}function Q(e,X,$){var O=[];e=e&127;if(e==43)r+=4;var T=Y();
if(e==50){var b=S(),R=B();if(R!=1)throw"e";for(var l=0;l<T;l++){var w={_status:"NotShared",_type:b};
O.push(w);var F=A();if(F!=1)throw F;Z(w,X+1,$)}}else for(var l=0;l<T;l++){O.push(M(e,X,$));if(e==42)e=2}return O}function M(e,X,$){var O=null;
if(e==49){O={};var T=A();if(T!=0){var b=Y();if($==null){O._id=b;O._status=["Shared","Link"][T-1]}if($&&T==2)O=$[b];
if(T==1){if($)$[b]=O;var R=A(),w=!1;if(R>1)throw R;O._type=S();if(s)console.log("  ".repeat(X),"new",O._type,R,r);
if(R==0){while(!0){var F=B();if(F!=0&&F!=1&&F!=2&&F!=4)throw F;if(N[r]!=0){w=!0;break}var L=B();if(L==512)break;
var x=S();if(L==256)break}}Z(O,X+1,$,w)}}}else if(e==50){O={_status:"NotShared"};if(A()==1){O._type=S();
r+=2;Z(O,X+1,$)}}else if(e==1)O={type:"byte",value:A()};else if(e==2)O={type:"uint16",value:B()};else if(e==3)O={type:"uint32",value:Y()};
else if(e==4)O={type:"uint64",value:p()};else if(e==7)O={type:"int32",value:t()};else if(e==8)O={type:"int64",value:p()};
else if(e==9)O={type:"float32",value:f()};else if(e==10)O={type:"float64",value:a()};else if(e==21)O={type:"Vec2i",value:[Y(),Y()]};
else if(e==23)O={type:"Vec4i",value:[Y(),Y(),Y(),Y()]};else if(e==33)O={type:"Vec4f",value:[f(),f(),f(),f()]};
else if(e==36)O={type:"Vec2",value:[a(),a()]};else if(e==38)O={type:"Vec4",value:[a(),a(),a(),a()]};
else if(e==40)O={type:"Vec6",value:[a(),a(),a(),a(),a(),a()]};else if(e==41)O={type:"bool",value:A()!=0};
else if(e==42)O={type:"Enum",value:Y()};else if(e==43)O={type:"string",value:c()};else if(e==44){var g=B();
O={type:"curv16",value:[a(),g==12?[A(),A(),A(),A()]:[Y(),Y()]]}}else if(e==45){var g=Y();O={type:"buff",value:N.slice(r,r+g)};
r+=g}else if(e==47){O={type:"uint32",value:Y()}}else if(e==48){var n=[],h=B();if(h!=1)throw h;if(N[r]==135){var _=Q(A(),X+1,$),H=Q(A(),X+1,$),G=Q(A(),X+1,$);
n=[_,H,G]}else{var j=1;if(N[r]==3){A();j=Y()}for(var l=0;l<j;l++){if(A()!=41)throw"e";var b=A();if(b!=0&&b!=1)throw b;
if(A()!=172)throw"e";var v=Y(),C=B(),E=[];n.push(E);if(C!=18)throw C;if(v>2e3)throw v;for(var I=0;I<v;
I++)E.push([a(),a(),A(),A()])}}r++;O={type:"curve",value:n}}else if(e==51){O={type:"EmbeddedData"};O[S()]=c()}else if(e==52)O={type:"uint32",value:Y()};
else if(e==56)O={type:"Color32",value:[A(),A(),A(),A()]};else if(e==60)O={type:"ColorGRAY",value:[f(),f()]};
else if(e==68)O={type:"ColorRGBA",value:[f(),f(),f(),f()]};else if(e==72)O={type:"ColorCMYK",value:[f(),f(),f(),f(),f()]};
else{throw e}return e==49||e==50||e==51?O:O.value}function u(e){var X=0,$=e.length;for(var l=0;l<$;l++)e[l]=X=X+e[l]&255}function m(e){N=e;
r=4;var X=Y(),$=z();if($!="nsrP")throw $;var $=z();if($!="#Inf")throw $;var O=p();P=p();var T=p(),b=p(),R=p(),w=Y(),F=Y(),$=z();
if($!="Prot")throw $;var w=Y(),L=J(O),x={},g=Date.now();for(var n=0;n<L.length;n++){var h=L[n],_=h[3],C=null;
r=h[0];var $=z();if($!="#Fil")throw $;var H=_>>>5&1,G=_&3,j=_&192;switch(j){case 64:j=1;H=0;break;case 128:j=2;
break;case 192:j=3;break;default:j=0;H=0}var v=new Uint8Array(N.buffer,r,h[2]);if(G==0)C=v;else if(G==1)C=pako.inflate(v);
else if(G==2)C=hg.mD.Ut(v,h[1]);else throw G;if(H==0){if(j==1)u(C);if(j==2)throw"e"}else throw H;x[h[4]]=C}return x}function i(e){var X=m(new Uint8Array(e));
N=X["doc.dat"];r=16;var $={};Z($,0,[]);return[X,$,P]}return{a85:i}}();function jf(){}jf.j7=function(){function s(c,J){var Z=Date.now(),Q=aU.a85(c),M=Q[0],u=Q[1],P=Q[2],m=u.DocR,i=m.DfSz,e=m.Chld;
if(e.length!=1)throw"e";var X=e[0],$=X.SprB;e=X.Chld;J.G=~~$[2];J.n=~~$[3];J.buffer=q.m(J.G*J.n*4);var O=[0,{}];
for(var l=0;l<e.length;l++)z(e[l],J,M,new gF,O);J.a_(O[0]);console.log(Date.now()-Z,"Document created");
Z=Date.now()}function N(c){return new gF(c[0],c[3],c[1],c[4],c[2],c[5])}function r(c,J){var Z=J.Xfrm;
Z=Z?N(Z):new gF;Z.concat(c);return Z}function S(c){var J={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[c];
return J?J:"norm"}function z(c,J,Z,Q,M){var u=c._type,P=c.Chld,m=J.tT();m.lP(c.Desc==null||c.Desc==""?u=="Grup"?"Folder":"Layer":c.Desc);
m.pQ(c.Visi);m.opacity=Math.round(255*c.Opac);if(c.FOpc!=1)m.add.iOpa=Math.round(255*c.FOpc);var i=c.Blnd;
if(i!=null)m.M9=S(i);var e=r(Q,c),X=u=="ShpN"||u=="PCrv";if(P){J.p.push(J.YL());m.add.lsct=d9.KK;m.M9="pass";
m.Vs=24;if(u=="ShpN"){var $=c.ShpB;m.S6(new hq($[0]+e.JC,$[1]+e.T3,$[2]-$[0],$[3]-$[1]));M[0]++;m.add.artb.Clr={t:"Objc",v:q.i.Sm({w:255,A:255,U:255})}}for(var l=0;
l<P.length;l++)z(P[l],J,Z,e,M)}else if(u=="Rstr"||u=="ImgN"||u=="MRst"){var O=c.Bitm,T=O.Bckg,b=Date.now(),R;
if(T==null){R=p(O,Z,M[1]);m.rect=R[2].clone();m.buffer=R[1].slice(0);m.rect.x+=e.JC;m.rect.y+=e.T3}if(T||e.S5()!=1){var w,F=0,L=0;
if(T){var x=Z[T.Data],g=U.yC(x,"ataD")+4,n=U.g2(x,g);g+=4;w=x.slice(g,g+n)}else{F=m.rect.x-e.JC;L=m.rect.y-e.T3;
if(R[3]==null)R[3]=new Uint8Array(hg.Pp("PNG").Bj([[m.buffer.buffer]],m.rect.G,m.rect.n));w=R[3].slice(0)}var h=J.uo(w,m.getName(),0,0);
h.Vs=m.Vs;h.opacity=m.opacity;m=h;var _=new gF;_.translate(F,L);_.concat(e);var H=m.rect.clone();H.x=H.y=0;
var G=q.g.w2(H).v;q.g.D(G,_,G);m.add.SoLd.Trnf=K.S.Ua(G);m.add.SoLd.nonAffineTransform=K.S.Ua(G);m.Vw(J,!1)}}else if(u=="TxtA"||u=="TxtF"){m.add.lnsr="rend";
m.add.TySh=en.iE(0,0);m.add.TySh.Kr=new hq(0,0,100,100);var j=c.TxtH.FrmB,v=new gF,dJ=0;v.translate(j[0],j[1]);
v.concat(e);m.add.TySh.D=v;var C=m.add.TySh.pg,E=c.StSt,I=E.Blok;if(I.length!=1)throw"e";for(var fG=0;
fG<I.length;fG++){var o=I[fG],i4=dJ,df=0,eO=o.Glyp.Utf8;eO=eO.replace(/\u2028/g,"\n");eO=eO.replace(/\u2029/g,"\n");
eO=eO.slice(0,eO.length-1);en.Bx(C,dJ,eO);dJ+=eO.length;var cO=o.GAtt.Runs,ej=o.PAtt.Runs[0],cn=ej.Item.Ints[0];
for(var j5=0;j5<cO.length;j5++){var gP=cO[j5],bY=gP.Indx,gR=gP.Item,c3=gR.Objs,jj=en.hM(C,i4,1);jj.M7.Justification=cn==0?0:cn==1?2:1;
en._E(jj,gR.DFnt.Post);jj.GN.FontSize=gR.Doub[0];for(var l=0;l<c3.length;l++){var jC=c3[l];if(jC._type=="FDsc"){var kf=jC.FDeF;
if(kf._type=="FilS"){var bz=t(kf.Colr);jj.GN.FillColor={Type:1,Values:[1,bz[0],bz[1],bz[2]]}}}}en.Z6(C,i4+df,i4+Math.min(bY,eO.length),jj);
df=bY}}en.WR(C,1);en.EU(C,[0,0,Math.round(j[2]-j[0]),Math.round((j[3]-j[1])*1.2)]);J.aH=!0}else if(X){m.Vs|=16;
var iv=m.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));m.add.vstk.strokeEnabled.v=!1;m.add.vogk=[];
var bI=m.add.vmsk=A(c);q.J.Yy(bI._,e);if(c.BFFl){var jo=c.BFFl[0].FDeF,iZ=jo._type;if(iZ=="FilS")m.add.SoCo={classID:"null",Clr:Y(jo.Colr)};
else if(iZ=="FilG"){var jD=m.add.GdFl=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]);B(jo,jD)}else if(iZ=="FilN"){m.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:0,A:0,U:0})}};
iv.fillEnabled.v=!1}else console.log(iZ)}if(c.LILn){var dM=c.LILn[0].LDeL,ka=dM.Wght;if(ka!=0){iv.strokeEnabled.v=!0;
iv.strokeStyleLineWidth.v.val=ka;var jo=c.LIFl[0].FDeF,iZ=jo._type;if(iZ=="FilS")iv.strokeStyleContent.v.Clr=Y(jo.Colr);
else if(iZ=="FilN")iv.strokeEnabled.v=!1}}m.qB(J)}else console.log(u);var ds=c.AdCh,ee=[];if(ds)for(var l=0;
l<ds.length;l++){var a9=ds[l],ir=a9._type;if(ir=="ShpN"||ir=="PCrv"){var bI=m.add.vmsk=A(a9),eP=r(e,a9);
q.J.Yy(bI._,eP);m.qB(J)}else if(a9.AdjP){var jh=a9.AdjP,fy=jh._type,eS={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[fy];
if(eS==null){console.log(jh);continue}var gz=hT.O5(eS,{});ee.push(gz);var fi=gz.v.Fltr.v;if(fy=="LevP"){var fw=jq.Xc(fi,0);
fw[0]=jh.OutB*255;fw[1]=jh.OutW*255;jq.Sk(fi,0,fw)}else if(fy=="WhBP"){var fw=jq.Xc(fi,2);fw[4]=100+jh.WBTi*20;
jq.Sk(fi,2,fw);var fw=jq.Xc(fi,3);fw[4]=100+jh.WBTi*200;jq.Sk(fi,3,fw)}else if(fy=="HSSP"){var fw=eJ.Xc(fi,0);
fw[0]=Math.round(jh.HueA*256);fw[1]=Math.round(jh.SatA*256);fw[2]=Math.round(jh.LumA*256);eJ.Sk(fi,0,fw)}else if(fy=="RecP"){fi.Clrz.v=!0;
var fw=eJ.Xc(fi,0);fw[0]=Math.round(jh.RecH*100);fw[1]=Math.round(jh.RecS*100);fw[2]=Math.round(jh.RecL*100);
eJ.Sk(fi,0,fw)}else if(fy=="B&CP"){fi.Brgh.v=Math.round(jh.Brig*100);fi.Cntr.v=Math.round(jh.Ctrs*100-100)}else if(fy=="PosP"){fi.Lvls.v=jh.Post}else if(fy=="VibP"){fi.vibrance.v=jh.Vibr-100;
fi.Strt.v=Math.round(jh.Satu*100)}else if(fy=="ExpP"){fi.Exps.v=jh.Expo;fi.gammaCorrection.v=jh.Gamm/2.2}else if(fy=="ThrP"){fi.Lvl.v=Math.round(jh.Thre*255)}else if(fy=="CrvP"){var ce=jh.Mast["Cnt "],hl=jh.Mast.Vals,fw=ed.Xc(fi,0),ia=fw[0];
for(var iQ=0;iQ<ce;iQ++){var em=fw[iQ]=JSON.parse(JSON.stringify(ia));em.v.Hrzn.v=Math.round(hl[iQ]*255);
em.v.Vrtc.v=Math.round(hl[4+iQ]*255)}ed.Sk(fi,0,fw)}}else console.log(a9)}if(ee.length!=0){m.add.SoLd.filterFX=hT.b8();
J.Zf({id:m.add.SoLd.placed.v,rect:new hq,buffer:q.m(1),B:new y.pk});m.add.SoLd.filterFX.v.filterFXList.v=ee;
m.Vw(J,!1)}var k4=c.FiEf;if(k4&&k4.length!=0){var ar=m.add.lmfx=JSON.parse(jG.default);for(var l=0;l<jG.order.length;
l++)ar[jG.Um[l]]={t:"VlLs",v:[]};for(var fg=0;fg<k4.length;fg++){var bU=k4[fg],dn=bU._type,aJ={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[dn],jD=aJ?JSON.parse(jG.FH[jG.order.indexOf(aJ)]):null;
if(dn=="ColO"){jD.Clr=Y(bU.Colr)}else if(dn=="GrdO"){B(bU.GrFl.FDeF,jD)}else if(dn=="Shad"||dn=="InnS"||dn=="OutG"||dn=="InnG"){jD.Clr=Y(bU.Colr);
jD.blur.v.val=Math.round(bU.Radi/2.4);if(bU.Offs!=null){jD.Dstn.v.val=bU.Offs;jD.lagl.v.val=Math.round(180-bU.Angl*180/Math.PI);
jD.uglg.v=!1}}else if(dn=="Strk"){jD.Clr=Y(bU.Colr);jD.Sz.v.val=Math.round(bU.Radi)}else if(dn=="PhgB"||dn=="BevE"){jD.blur.v.val=Math.round(bU.Radi);
if(dn=="BevE")jD.bvlS.v.BESl="PlEb"}else if(dn=="Gaus"){if(X&&bU.Enab){m.add.vmsk.H0=bU.Radi/2.4;m.add.vmsk.eB=!0;
m.qB(J)}}if(aJ){jD.enab.v=bU.Enab;if(jD.Md&&bU.BlnM!=null)jD.Md.v.BlnM=bm.Cu(S(bU.BlnM));if(jD.Opct&&bU.Opac!=null)jD.Opct.v.val=Math.round(bU.Opac*100);
var ew=jG.Um[jG.order.indexOf(aJ)];ar[ew].v.unshift({t:"Objc",v:jD})}}}J.p.push(m)}function A(c){var J=new y.kL,Z=c._type;
if(Z=="PCrv"){var Q=c.Crvs.Data,M=[],u=[];for(var l=0;l<Q.length;l++){var P=Q[l];if(P.length%3!=1){P=P.slice(1,P.length-1)}for(var m=0;
m<P.length;m++){var i=P[m],e=i[2];if(e!=0)M.push(m==0?"M":"C");u.push(i[0],i[1])}}J._=q.g.m0({v:u,F:M},!0)}else{var X=c.ShpB,$=c.Shpe,O=$._type,T=X[2]-X[0];
if(O=="ShpE"){J._=q.J.kt.q3(X[0],X[1],X[2]-X[0],X[3]-X[1])}else if(O=="ShNR"){var b=[0,0,0,0];if($.CTyp){b=$.ShCR.slice(0);
for(var l=0;l<4;l++)b[l]*=X[2]-X[0]}J._=q.J.kt.Rect(X[0],X[1],X[2]-X[0],X[3]-X[1],b)}else if(O=="ShpT"){J._=q.g.m0({F:["M","L","L","Z"],v:[X[0],X[3],X[2],X[3],X[0]+T*.5,X[1]]},!0)}else if(O=="ShTz"){J._=q.g.m0({F:["M","L","L","L","Z"],v:[X[0]+T*$.PosL,X[1],X[0]+T*$.PosR,X[1],X[2],X[3],X[0],X[3]]},!0)}else{console.log("--",O);
J._=q.J.kt.Rect(X[0],X[1],X[2]-X[0],X[3]-X[1],[0,0,0,0])}}return J}function B(c,J){var Z=c.Grad,Q=Z.Cols;
J.Type.v.GrdT=c.Type==0?"Lnr":"Rdl";var M=[];for(var l=0;l<Q.length;l++){var u=t(Q[l]);M.push([Z.Posn[l][0],u])}J.Grad.v.Intr.v=0;
q.i.UO(M,J.Grad.v);var P=Z.Posn,m=new cR(P[0][0],P[0][1]),i=new cR(P[1][0],P[1][1]);if(c.Type==0)m=new cR((m.x+i.x)/2,(m.y+i.y)/2);
q.i.Nh(m,i,new hq(0,0,1,1),J)}function Y(c){var J=t(c);return{t:"Objc",v:q.i.Sm({w:J[0]*255,A:J[1]*255,U:J[2]*255})}}function t(c){var J=c._col,Z=c._type;
if(Z=="HSLA"){var Q=q.Lw(J[0],J[1],J[2]);return[Q.w,Q.A,Q.U,J[3]]}else if(Z=="RGBA")return J;else if(Z=="CMYK"){var M=1-J[3];
return[(1-J[0])*M,(1-J[1])*M,(1-J[2])*M]}else if(Z=="GRAY")return[J[0],J[1],J[2]];else{console.log(J);
throw Z}}function p(c,J,Z){var Q=c.Frmt,b="";if(Q!=0&&Q!=4&&Q!=6)throw Q;var M=c.BmpW,u=c.BmpH,P=Q==4?5:Q==0?4:1,m=Math.ceil(M/256),i=Math.ceil(u/256),e=new hq(0,0,m,i),X=new hq;
for(var l=0;l<P;l++){var $=new Uint8Array(c["Sta"+(l+1)]),O=q.af($,e);X=X.Ms(O)}var T=[];for(var l=0;
l<P;l++){var $=new Uint8Array(c["Sta"+(l+1)]),R=q.m(X.$());q.lf($,e,R,X);T[l]=[];for(var w=0;w<R.length;
w++)T[l][w]=R[w];b+=JSON.stringify(T[l])+","+JSON.stringify(c["Idx"+(l+1)])+","}if(Z[b]==null){var F=X.G*256,L=X.n*256,x=new Array(P);
for(var l=0;l<P;l++){var $=x[l]=new Uint8Array(F*L);f($,c["Idx"+(l+1)],T[l],J,F,L)}var g=q.m(F*L*4);
if(Q==0)q.vZ({w:x[0],A:x[1],U:x[2],aC:x[3]},g);else if(Q==4){for(var l=0;l<x[0].length;l++){var n=l*4,h=x[0][l]*(1/255),_=x[1][l]*(1/255),H=x[2][l]*(1/255),G=x[3][l]*(1/255),j=UDOC.C.cmykToRgb([h,_,H,G]);
g[n]=j[0]*255;g[n+1]=j[1]*255;g[n+2]=j[2]*255;g[n+3]=x[4][l]}}else{g.fill(255);q._i(x[0],g)}var v=new hq(0,0,F,L),C={buffer:g,rect:v};
q.pt(C);Z[b]=[C.rect,C.buffer]}var O=Z[b][2]=Z[b][0].clone();O.x+=X.x*256;O.y+=X.y*256;return Z[b]}function f(c,J,Z,Q,M,u){var P=0,m=M>>>8,i=u>>>8;
for(var e=0;e<i;e++)for(var X=0;X<m;X++){var $=X*256,O=e*256,T=e*m+X,b=O*M+$,R=Z[T];if(R<=1)a(c,b,0,M,256,256);
else if(R==2)a(c,b,4294967295,M,256,256);else if(R==4){var w=J[P];P++;var F=Q[w.Data.DatI],L=w.Rect;
if(L==null)L=[0,0,256,256];a(c,b,0,M,256,256);D(c,(O+L[1])*M+$+L[0],F,L[1]*256+L[0],M,256,L[2]-L[0],L[3]-L[1])}else console.log(R)}}function a(c,J,Z,Q,M,u){var P=J+Q*u;
for(;J<P;J+=Q){var m=J+M;for(var i=J;i<m;i++){c[i]=Z}}}function D(c,J,Z,Q,M,u,P,m){var i=J+M*m,e=Q+u*m;
for(;J<i&&Q<e;J+=M,Q+=u){for(var l=0;l<P;l++)c[J+l]=Z[Q+l]}}return s}();function hQ(){}hQ.j7=function(s,N){var r=hQ,S=bV.parse(s),A=0;
if(S.pages.length>1)console.log(S.pages.length,"pages");var z=[],B=new hq;for(var Y=0;Y<S.pages.length;
Y++){var t=S.pages[Y],p=t.layers,f=r.OH(p,Y),D=!1;if(f.$()>8e3*8e3||f.G>3e4||f.n>3e4){r.L1(p,!0);var a=r.OH(p,Y);
if(a.$()>=f.$())r.L1(p,!1)}f=r.OH(p,Y);for(var c=0;c<p.length;c++){var J=p[c];if(r.bp(J)=="artboard")D=!0}if(!D){console.log("no artboard");
var Z={};for(var Q in t)Z[Q]=t[Q];Z._class="group";t.layers=[Z]}z.push(f.clone());if(f.Nf())continue;
f.x=0;f.y=A;A+=f.n+200;B=B.Ms(f)}var M={};if(S.foreignSymbols)for(var l=0;l<S.foreignSymbols.length;
l++){var u=S.foreignSymbols[l].symbolMaster;M[u.symbolID]={co:u}}r.LZ(S.pages,M,N);for(var P in M){var J=M[P].co,m=r.Db(J.layers)}var i=hQ.By(B,8192*8192);
N.aH=!0;N.G=Math.round(B.G/i);N.n=Math.round(B.n/i);N.buffer=q.m(N.G*N.n*4);N.a_(S.pages[0].layers.length);
N.Qx={};N.Tb=[];A=0;for(var Y=0;Y<S.pages.length;Y++){var e=S.pages[Y],f=z[Y],X=new gF(i,0,0,i,f.x,f.y-A);
r.lq(e.layers,N,X,S,M,{},[]);A+=f.n+200}delete N.Qx;delete N.Tb;if(i!=1)alert("File scaled down "+i+"x");
N.ahU()};hQ.aob=0;hQ.bp=function(s){return s._class?s._class:s.$class};hQ.By=function(s,N){var r=1;while(Math.round(s.G/r)*Math.round(s.n/r)>N||Math.max(Math.round(s.G/r),Math.round(s.n/r))>3e4)r++;
if(r!=1&&!window.confirm("Your image is quite large ("+s.G+" x "+s.n+" px).\n"+"Press OK to scale it down "+r+"x, or Cancel to keep the size."))r=1;
return r};hQ.OH=function(s,N){var r=[],S=hQ;for(var z=0;z<s.length;z++){var A=s[z],B=S.xX(A.frame);if(N==0||S.bp(A)=="artboard")r.push(B)}return q.rect.I3(r)};
hQ.L1=function(s,N){var r=[],S=hQ;for(var z=0;z<s.length;z++){var A=s[z],B=S.xX(A.frame);B.G+=150;B.n+=150;
r.push(B)}var Y=q.rect.I3(r);q.rect.awj(r,N);var t=q.rect.I3(r);if(t.$()*1.5<Y.$()||Y.G>3e4&&t.G<=3e4||Y.n>3e4&&t.n<=3e4){alert("Re-arranging artboards");
for(var z=0;z<s.length;z++){var p=r[z],A=s[z],f=A.frame;f.x=p.x;f.y=p.y}}};hQ.LZ=function(s,N,r){var S=hQ;
for(var z=0;z<s.length;z++){var A=s[z],B=S.bp(A);if(["page","artboard","group"].indexOf(B)!=-1)S.LZ(A.layers,N,r);
else if(B=="symbolMaster")N[A.symbolID]={co:A}}};hQ.Db=function(s){var N=hQ;for(var r=0;r<s.length;r++){var S=s[r],z=N.bp(S),A=null;
if(["page","artboard","group"].indexOf(z)!=-1)A=N.Db(S.layers);if(z=="symbolMaster"||z=="symbolInstance")A=S;
if(A!=null)return A}return null};hQ.lq=function(s,N,r,S,z,A,B){var Y=hQ,t=[];for(var p=0;p<s.length;
p++){var f=s[p],a=f.frame?Y.xX(f.frame):null,D=f.style,M="",X=null,$=!1;if(D==null){console.log("no styles")}var c=Y.wG(f,r),J=Y.bp(f),Z=J=="shapeGroup"||J=="shapePath"||J=="rectangle"||J=="oval"||J=="triangle"||J=="polygon",Q=["page","artboard","group"].indexOf(J)!=-1;
if(J=="shapeGroup"){for(var l=0;l<f.layers.length;l++)if(Y.bp(f.layers[l])=="shapeGroup")Q=!0}var u=f.exportOptions;
if(u){var P=u.exportFormats;if(P==null)P=u.sizes;if(J!="artboard"&&(P&&P.length!=0)){var m=P[0].scale}}var i=N.tT();
i.pQ(f.isVisible);var e=f.name;if(!(typeof e=="string"))e=J;i.lP(M+e.slice(0,250));if(D!=null)X=Y.akp(S,N,D,a,c,i.getName(),Z||J=="artboard"||Q);
if(J=="rectangle"&&D&&D.fills&&D.fills[0]){var O=D.fills[0];if(O.fillType==4&&O.patternFillType>1&&O.image!=null)$=!0}if(f.shouldBreakMaskChain){while(t.length!=0)Y.L$(t.pop(),N)}if(Q){i.add.lsct=f.layerListExpandedType==2?d9.KK:d9.vH;
i.M9="pass";i.Vs=24;i.pQ(f.isVisible);N.p.push(N.YL());if(J=="artboard"){var T=a.clone(),b=c.S5();T.x=-Math.floor(c.JC/b);
T.y=-Math.floor(c.T3/b);T.G=Math.floor(T.G/b);T.n=Math.floor(T.n/b);i.S6(T);var R=f.backgroundColor,w=R?{w:255*R.red,A:255*R.green,U:255*R.blue}:{w:255,A:255,U:255};
i.add.artb.Clr={t:"Objc",v:q.i.Sm(w)};i.add.artb.artboardBackgroundType={t:"long",v:4}}Y.lq(f.layers,N,c,S,z,A,B)}else if(Z&&!$){i.add.vmsk=new y.kL;
i.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));i.add.vstk.strokeEnabled.v=!1;i.add.vogk=[];var F=X!=null&&X.frameFXMulti.v.length==1,L=D?D.fills:null,x=D?Y.Yh(S,L,a,c,i.getName(),N,Y.oQ(B,f.do_objectID+"_image")):[];
if(x.length==0){if(F)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=0;i.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:0,A:0,U:0})}}}else{var g=x[0],n=null,h=null;
if(g.type=="SoFi"){n="SoCo";h=jG.IU}if(g.type=="GrFl"){n="GdFl";h=jG.$b}if(g.type=="patternFill"){n="PtFl";
h=jG.Ba}if(n!=null){i.add[n]={classID:"null"};for(var l=0;l<h.length;l++){var _=h[l];i.add[n][_]=g.h.v[_]}var H=g.h.v.Opct.v.val;
if(F&&H==0)i.add.vstk.fillEnabled.v=!1;else i.add.iOpa=Math.round(255*H/100)}}i.Vs|=16;i.add.vmsk._=Y.Je(f.layers?f.layers:[f],f.layers?c:r,i.add.vogk);
var G=D?D.blur:null;if(G&&G.isEnabled&&G.type<=1)i.add.vmsk.H0=G.radius;if(i.add.vmsk._.length==2){console.log("shape with no content:",i.getName())}if(F){var j=X.frameFXMulti.v[0].v,v=i.add.vstk,C=D.borders[0];
X.frameFXMulti.v=[];hC.awh(j,v);var E=D.borderOptions,I=D.miterLimit;if(E){var dJ=E.dashPattern;v.strokeStyleLineCapType.v.strokeStyleLineCapType=jG.iJ.VZ[E.lineCapStyle];
v.strokeStyleLineJoinType.v.strokeStyleLineJoinType=jG.iJ.join[E.lineJoinStyle];if(dJ)v.strokeStyleLineDashSet.v=hC.Pm(dJ,1/j.Sz.v.val);
if(I!=null)v.strokeStyleMiterLimit.v=I}}i.qB(N)}else if(J=="bitmap"||$){if(!$&&f.image==null)continue;
var fG=$?D.fills[0]:null,o=$?fG.image.bdata:f.image.bdata,i4=N.uo(o,i.getName(),0,0);i4.Vs=i.Vs;i=i4;
var G=D?D.blur:null,df=D?D.colorControls:null;if(G||df){i.add.SoLd.filterFX=hT.b8();N.Zf({id:i.add.SoLd.placed.v,rect:new hq,buffer:q.m(1),B:new y.pk});
var L=i.add.SoLd.filterFX.v.filterFXList.v;if(G){var eO=hT.O5("GsnB",{});eO.v.enab.v=G.isEnabled;eO.v.Fltr.v.Rds.v.val=G.radius;
L.push(eO)}if(df){var cO=df.brightness,ej=df.contrast,cn=df.hue,j5=df.saturation;if(cn!=0||j5!=1){var eO=hT.O5("hue2",{});
eO.v.enab.v=df.isEnabled;eJ.Sk(eO.v.Fltr.v,0,[Math.round(cn*180/Math.PI),Math.round((j5-1)*100),0]);
L.push(eO)}if(cO!=0||ej!=1){var eO=hT.O5("brit",{});eO.v.enab.v=df.isEnabled;ej=ej-1;if(ej>0)ej/=2;var gP=eO.v.Fltr.v;
gP.Brgh.v=Math.round(cO*255);gP.Cntr.v=Math.round(ej*255);gP.useLegacy.v=!0;L.push(eO)}}}if($){var bY=fG.patternFillType;
if(bY==3){var gR=i.rect.G/i.rect.n,c3=a.G/a.n;if(gR<c3){c.translate(-(a.G*(1-gR/c3))/2,0);c.scale(c3/gR,1)}else{c.translate(0,-(a.n*(1-c3/gR))/2);
c.scale(1,gR/c3)}}}a.x=a.y=0;var jj=q.g.w2(a).v;c.dm();q.g.D(jj,c,jj);i.add.SoLd.Trnf=K.S.Ua(jj);i.add.SoLd.nonAffineTransform=K.S.Ua(jj);
i.Vw(N,!1)}else if(J=="text"){if(f.attributedString==null)continue;var jC=c.clone(),kf,bz,jD=0;jC.dm();
jC.aC=jC.dX=Math.min(jC.aC,jC.dX);i.add.lnsr="rend";i.add.TySh=en.iE(0,0);i.add.TySh.Kr=new hq(0,0,a.G,a.n);
i.add.TySh.D=jC;var iv=f.attributedString;if(iv.archivedAttributedString)iv=iv.archivedAttributedString;
var bI=iv.NSString;if(bI==null)bI=iv.string;if(bI==null)bI="";if(bI["NS.string"])bI=bI["NS.string"];
if(A[f.do_objectID]!=null)bI=A[f.do_objectID];var jo=Y.oQ(B,f.do_objectID+"_stringValue");if(jo)bI=jo.value;
if(iv.attributes!=null){kf=[];bz=[];var iZ=iv.attributes;for(var l=0;l<iZ.length;l++){kf.push(iZ[l].length,l);
bz.push(iZ[l].attributes)}}else if(iv.NSAttributeInfo==null){kf=[bI.length,0];bz=[iv.NSAttributes]}else{kf=iv.NSAttributeInfo["NS.data"];
bz=iv.NSAttributes;kf=hQ.aw2(kf,bz)}for(var l=0;l<kf.length;l+=2)jD+=kf[l];if(jD!=bI.length){while(jD>bI.length){kf[kf.length-2]--;
jD--;if(kf[kf.length-2]==0){kf.pop();kf.pop()}}kf[kf.length-2]+=bI.length-jD}bI=bI.replace(/\u2028/g,"\n");
bI=bI.replace(/\u2029/g,"\n");bI=bI.replace(/\r/g,"\n");var dM=i.add.TySh.pg;en.Bx(dM,0,bI);if(bI!=""){var ka=f.textBehaviour,ds=D.textStyle,ee=ds?ds.verticalAlignment:0,a9=Y.a1z(dM,kf,bz,bI),b=jC.S5(),ir=en.hM(dM,0,1),fy=0;
if(ir.GN.Font){var eP=ir.H4[ir.GN.Font].Name;if(eP=="FontAwesome"||eP=="Ionicons")a9*=.87}var jh=ir.GN.AutoLeading?0:ir.GN.Leading*.6,eS=Math.max(a9,jh)*b,gz=a.G,fi=a.n;
if(ka==0){en.WR(dM,0);var fw=en.m$(ir.M7);if(fw==1)fy=gz*b;if(fw==2)fy=gz*b*.5;if(ee==0)eS*=1;else eS*=.9}else{en.WR(dM,1);
en.EU(dM,[0,0,Math.round(gz),Math.round(fi)]);if(ka==2&&ee==0)eS=eS*.2;else if(ka==2&&ee==1){eS=b*.5*(fi-ir.GN.FontSize)}else if(ka==1&&ee==0)eS=eS*.2;
else eS=eS*.35}i.add.TySh.D.translate(fy,eS)}}else if(J=="symbolInstance"||J=="symbolMaster"){var ce=f.symbolID;
if(A[f.do_objectID])ce=A[f.do_objectID].symbolID;var hl=Y.oQ(B,f.do_objectID+"_symbolID");if(hl)ce=hl.value;
if(ce=="")continue;var ia={};for(var _ in A)ia[_]=A[_];if(f.overrides)for(var _ in f.overrides)ia[_]=f.overrides[_];
var iQ=B.slice(0);if(f.overrideValues)iQ=iQ.concat(f.overrideValues);var em=z[ce];if(em==null){console.log("Unknown master master",f.symbolID);
continue}var k4=hQ.xX(em.co.frame),fg=k4.G/a.G,j0=k4.n/a.n,bU=c.clone();bU.scale(fg,j0);i.add.lsct=d9.vH;
i.M9="pass";i.Vs=24;i.pQ(f.isVisible);N.p.push(N.YL());var aJ=em.co;if(N.Tb.indexOf(aJ)==-1){N.Tb.push(aJ);
Y.lq(aJ.layers,N,bU,S,z,ia,iQ);N.Tb.pop()}}else if(J=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+J,f);continue}if(D&&D.contextSettings){var ew=D.contextSettings,jy=ew.blendMode;
if(jy<Y.ry.length){i.M9=bm.sI[bm.ac.indexOf(Y.ry[jy])];if(Q&&i.M9=="norm")i.M9="pass"}i.opacity=Math.round(i.opacity*ew.opacity)}if(X!=null){i.add.lmfx=X}N.p.push(i);
if(f.hasClippingMask&&s.length>1){t.push(i);N.p.push(N.YL())}}while(t.length!=0)Y.L$(t.pop(),N)};hQ.oQ=function(s,N){for(var l=0;
l<s.length;l++)if(s[l].overrideName.startsWith(N))return s[l]};hQ.aw2=function(s,N){var r=0,S=[];while(r+1<s.length){var z=s[r];
r++;if(z>127){z+=128*(s[r]-1);r++;if(s[r-1]>127){z+=128*(s[r]-1);r++}}var A=s[r];r++;S.push(z,A)}return S};
hQ.a1z=function(s,N,r,S){var z=hQ,A=0,a=0,D=0;for(var l=0;l<S.length;l++){var B=S.charCodeAt(l),Y=1473<=B&&B<=1479||1488<=B&&B<=1514||1520<=B&&B<=1524,p=1569<=B&&B<=1594||1600<=B&&B<=1749;
if(Y||p)A++}var f=A>S.length/2;for(var l=0;l<N.length;l+=2){var c=N[l],e=14,X="DejaVuSans";if(c==0)continue;
var J=N[l+1],Z=r[J],Q=en.hM(s,a,a+c-1),M=Z.NSColor;if(M==null){var M=Z.MSAttributedStringColorDictionaryAttribute;
if(M==null)M=Z.MSAttributedStringColorAttribute;if(M==null)M="0 0 0";else M=[M.red,M.green,M.blue].join(" ")}else if(z.bp(M)=="MSArchivedColor")M=M.dr+" "+M.dg+" "+M.db;
else if(M.NSRGB){M=M.NSRGB;M=U.TX(M,0,M.length-1)}else if(M.NSCMYK){M=M.NSCMYK;M=U.TX(M,0,M.length-1);
M=M.split(" ").map(parseFloat);var u=1-M[0],P=1-M[1],m=1-M[2],i=1-M[3];M=u*i+" "+P*i+" "+m*i}else if(M.NSWhite){M="1 1 1"}M=M.split(" ");
Q.GN.FillColor={Type:1,Values:[1,parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2])]};var $=Z.MSAttributedStringFontAttribute;
if(Z.NSFont){e=Z.NSFont.NSSize;X=Z.NSFont.NSName}else if($){if($.attributes){$=$.attributes;e=$.size;
X=$.name}else{var O=$.NSFontDescriptorAttributes;if(O==null)O=$.UIFontDescriptorAttributes;$=O;e=$.NSFontSizeAttribute;
X=$.NSFontNameAttribute}if(X==null)X="DejaVuSans"}var D=Math.max(D,e);Q.GN.FontSize=Math.round(e);en._E(Q,X);
var T=Z.NSKern;if(T==null)T=Z.kerning;if(T!=null)Q.GN.Tracking=Math.round(1e3*T/e);if(Z.NSUnderline!=null)Q.GN.Underline=Z.NSUnderline>0;
var b=Z.NSStrikethrough;if(b==null)b=Z.strikethroughStyle;if(b!=null)Q.GN.Strikethrough=b>0;if(Z.MSAttributedStringTextTransformAttribute==1)Q.GN.FontCaps=2;
var R=Z.NSParagraphStyle;if(R==null)R=Z.paragraphStyle;if(R){var w=R.paragraphSpacing;if(w!=null){Q.M7.SpaceAfter=w}var F=R.NSAlignment;
if(F==null)F=R.alignment;if(F!=null){var L=0;if(!1){}else if(F==1)L=1;else if(F==2)L=2;else if(F==4)L=0;
else{L=F;console.log("unknown align",F)}if(f&&L<2)L=1-L;Q.M7.Justification=L}var x=R.NSMinLineHeight;
if(x==null)x=R.minimumLineHeight;if(x!=null){Q.GN.AutoLeading=!1;Q.GN.Leading=x}}Q.M7._Direction=f?1:0;
en.Z6(s,a,a+c,Q);a+=c}return D};hQ.akp=function(s,N,r,S,z,A,B){var Y=hQ,t=JSON.parse(jG.default),p=!1;
for(var l=0;l<jG.order.length;l++)t[jG.Um[l]]={t:"VlLs",v:[]};var f=r.fills,a=Y.Yh(s,f,S,z,A,N);for(var D=0;
D<2;D++){var c=r[["shadows","innerShadows"][D]];if(c==null)continue;var J=["DrSh","IrSh"][D],Z=jG.Um[jG.order.indexOf(J)];
for(var l=0;l<c.length;l++){var Q=c[l];if(!Q.isEnabled)continue;if(Q.contextSettings.opacity==0||Q.color.alpha==0)continue;
var M=JSON.parse(jG.FH[jG.order.indexOf(J)]);t[Z].v.unshift({t:"Objc",v:M});p=!0;M.Clr.v=Y.JG(Q.color);
M.blur.v.val=Math.round(Q.blurRadius/z.S5());var u=z.clone();u.JC=u.T3=0;u.dm();var P=u.aK(new cR(Q.offsetX,Q.offsetY)),m=Math.sqrt(P.x*P.x+P.y*P.y);
M.Dstn.v.val=Math.round(m);M.lagl.v.val=Math.round(Math.atan2(P.y,-P.x)*(180/Math.PI));if(M.layerConceals)M.layerConceals.v=a.length!=0;
Y.i9(Q,M)}}var i=r.borders;if(i!=null&&(a.length==0||r.blur==null||!r.blur.isEnabled))for(var l=0;l<i.length;
l++){var e=i[l];if(!e.isEnabled)continue;var M=JSON.parse(jG.FH[jG.order.indexOf("FrFX")]),Z=jG.Um[jG.order.indexOf("FrFX")];
t[Z].v.unshift({t:"Objc",v:M});p=!0;M.Clr.v=Y.JG(e.color);if(e.fillType!=0&&e.gradient){var X=Y.Ki(e.gradient,S,z,A),$=["Type","Angl","Ofst","Scl"];
for(var l=0;l<$.length;l++)M[$[l]]=X[$[l]];M.Grad.v=X.Grad.v;M.PntT.v.FrFl="GrFl"}M.Sz.v.val=e.thickness/z.S5();
M.Styl.v.FStl=["CtrF","InsF","OutF"][e.position];Y.i9(e,M)}for(var l=B?1:0;l<a.length;l++){var O=a[l],Z=jG.Um[jG.order.indexOf(O.type)];
t[Z].v.unshift(O.h);p=!0}return p?t:null};hQ.Yh=function(s,N,r,S,z,A,B){if(N==null)return[];var Y=hQ,t=[];
for(var l=0;l<N.length;l++)if(N[l].isEnabled)t.push(N[l]);N=t;var p=[];for(var l=0;l<N.length;l++){var f=N[l],a=null,D=null;
if(f.fillType==0){a="SoFi";var c=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);D={t:"Objc",v:c};D.v.Clr.v=Y.JG(f.color)}else if(f.fillType==1){a="GrFl";
D={t:"Objc",v:Y.Ki(f.gradient,r,S,z)}}else if(f.fillType==4&&f.image!=null){var J=f.image;if(B)J=B.value;
var Z=hg.yy(J.bdata.buffer);if(Z!=null&&Z!="pdf"&&Z!="eps"){var Q,e=0,X=0,$=0;if(A.Qx[J.key])Q=A.Qx[J.key];
else{var M=hg.Pp(Z).LG(J.bdata)[0],u=M.zC.clone();Q={};Q.id=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f";Q.name="someImage";
Q.yK=[new Uint8Array(M.data),u];A.zp(Q);A.Qx[J.key]=Q}var P=Q.yK[1],c=JSON.parse(jG.FH[jG.order.indexOf("patternFill")]);
a="patternFill";D={t:"Objc",v:c};var m=f.patternFillType,i=f.patternTileScale;c.Algn.v=!0;c.Ptrn.v.Idnt.v=Q.id;
if(m==0){e=i*P.G/Math.min(P.G,P.n);X=-S.JC;$=-S.T3}else{e=Math.max(r.G/P.G,r.n/P.n);X=-S.JC-(P.G*e-r.G)/2;
$=-S.T3-(P.n*e-r.n)/2}c.Scl.v.val=100*e*(1/S.S5());c.phase.v.Hrzn.v=Math.round(X/S.S5());c.phase.v.Vrtc.v=Math.round($/S.S5())}}else if(f.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",f.fillType);
if(a!=null){Y.i9(f,D.v);p.push({type:a,h:D})}}return p};hQ.abL=function(s){var N=hQ,r=new hq(0,0,1,1);
s=s.slice(0);while(!0){var S=!1;for(var l=0;l<s.length-1;l++){var z=s[l],A=s[l+1],B=null,Y=z.contextSettings;
if(z.fillType==0&&(Y==null||Y.opacity==1&&Y.blendMode==0)&&z.color.alpha==1){var t="norm",p=1,Y=A.contextSettings;
if(Y){p=Y.opacity;t=bm.KW(N.ry[Y.blendMode])}if(A.fillType==0){B=JSON.parse(JSON.stringify(A));N.xe(B.color,z.color,B.color,r,t,p)}if(A.fillType==1){B=JSON.parse(JSON.stringify(A));
var f=B.gradient.stops;for(var a=0;a<f.length;a++)N.xe(f[a].color,z.color,f[a].color,r,t,p)}if(B!=null&&B.contextSettings){var Y=B.contextSettings;
Y.opacity=1;Y.blendMode=0}}if(B!=null){s.splice(l,0,B);S=!0;break}}if(!S||s.length<2)break}return s};
hQ.xe=function(s,N,r,S,z,A){var B=hQ,Y=q.m(4);B.ok(s,Y);var t=q.m(4);B.ok(N,t);q.Q.VP(z,Y,S,t,S,S,A);
B.arw(t,r)};hQ.ok=function(s,N){N[0]=255*s.red;N[1]=255*s.green;N[2]=255*s.blue;N[3]=255*s.alpha};hQ.arw=function(s,N){N.red=s[0]/255;
N.green=s[1]/255;N.blue=s[2]/255;N.alpha=s[3]/255};hQ.L$=function(s,N){s=s.clone();s.Vs=24;s.lP("Mask by "+s.getName());
N.p.push(s);s.add.lsct=d9.KK;s.add.lyid=N.tq();delete s.add.lmfx;delete s.add.SoCo;delete s.add.GdFl;
delete s.add.PtFl;delete s.add.iOpa;if(s.add.vmsk)s.add.vmsk.eB=!0;s.qB(N);if((s.Vs&16)==16)s.Vs-=16;
if((s.Vs&2)==2)s.Vs-=2;s.M9="pass";s.opacity=255};hQ.ry="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
hQ.Ki=function(s,N,r,S){r=r.clone();r.dm();r.JC=r.T3=0;var z=r.S5(),D=0,c=0;r.scale(1/z,1/z);var A=hQ,B=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),Y=B.Grad.v;
Y.Intr.v=0;if(s==null)return B;var t=s.gradientType,p=A.I6(s.from),f=A.I6(s.to);p.offset(-.5,-.5);f.offset(-.5,-.5);
p=r.aK(p);f=r.aK(f);var a=Math.atan2(-(f.y-p.y),f.x-p.x);B.Type.v.GrdT=["Lnr","Rdl","Angl"][t];B.Scl.v.val=100*cR.iI(p,f);
if(t==0){B.Angl.v.val=180/Math.PI*a;B.Scl.v.val=100*cR.iI(p,f);D=(p.x+f.x)/2;c=(p.y+f.y)/2}if(t==1){B.Scl.v.val=200*cR.iI(p,f);
D=p.x;c=p.y}if(t==2){B.Angl.v.val=180/Math.PI*(a-Math.PI/2)}var J=B.Ofst.v;J.Hrzn.v.val=D*100;J.Vrtc.v.val=c*100;
var Z=[];for(var l=0;l<s.stops.length;l++){var Q=s.stops[l],M=Q.color;Z.push([Q.position,M?[M.red,M.green,M.blue]:[0,0,0],M.alpha])}q.i.UO(Z,Y);
return B};hQ.i9=function(s,N){var r=hQ,S=1,z=s.contextSettings;if(z!=null){N.Md.v.BlnM=r.ry[z.blendMode];
S*=z.opacity}else N.Md.v.BlnM=r.ry[0];N.enab.v=s.isEnabled;if(N.uglg!=null)N.uglg.v=!1;if(s.color!=null)S*=s.color.alpha;
N.Opct.v.val=Math.round(S*100)};hQ.JG=function(s){return q.i.Sm(s?{w:s.red*255,A:s.green*255,U:s.blue*255}:{w:0,A:0,U:0})};
hQ.Je=function(s,N,r){var S=hQ,z=[{type:6},{type:8,all:0}];for(var A=0;A<s.length;A++){var B=s[A],Y=B.booleanOperation,t=0,p=B._class,Z=!1;
if(p=="group"||p=="text"||p=="symbolInstance"||p=="slice"){console.log(p+" inside ShapeGroup");continue}if(Y==-1)t=0;
else if(Y==0)t=1;else if(Y==1)t=2;else if(Y==2)t=3;else if(Y==3)t=0;if(A==0)t=1;var f=hQ.xX(B.frame),a=S.wG(B,N),D=B.path?B.path:B,c=[{type:0,length:0,my:t,cd:2,L_:0,p4:0}],J=D.points;
for(var l=0;l<J.length;l++){var Q=J[l],M=S.I6(Q.curveTo),u=S.I6(Q.point),P=S.I6(Q.curveFrom);Z=Z||Q.hasCurveFrom&&!P.nR(u)||Q.hasCurveTo&&!M.nR(u)}var m=[];
if(!Z){var i=[],i3=J.length;if(i3==0)continue;for(var l=0;l<i3;l++){m[l]=J[l].cornerRadius;var Q=S.I6(J[l].point);
i.push(Q.x,Q.y)}a.scale(1/f.G,1/f.n);a.dm();q.g.D(i,a,i);c=q.J.kt.WU(i,m).slice(2);c[0].my=t}else{var e=J.length;
c[0].length=e;for(var l=0;l<e;l++){var Q=J[l],X=Q.curveMode,$=S.I6(Q.point);c[1+l]={type:X==2||X==4?1:2,hJ:Q.hasCurveTo?S.I6(Q.curveTo):$.clone(),H:$,De:Q.hasCurveFrom?S.I6(Q.curveFrom):$.clone()}}a.scale(1/f.G,1/f.n);
a.dm();q.J.Yy(c,a);var m=[];for(var l=0;l<e;l++){var Q=J[l],X=Q.curveMode,O=Q.cornerRadius;if(X==1&&O!=0)m.push(O);
else m.push(0)}}if(!D.isClosed)for(var l=0;l<c.length;l++)c[l].type+=3;z=z.concat(c);var T=q.O6.tC(),b=S.bp(B);
if(a.U==0&&a.K1==0){var R=a.JC,w=a.T3,F=R+a.aC,L=w+a.dX,x=[R,w,F,L];if(b=="rectangle"&&m.length==4)T=q.O6.hD(2,x,m);
if(b=="oval")T=q.O6.hD(5,x)}r.push(T)}return z};hQ.wG=function(s,N){var r=N.clone(),S=s.frame?hQ.xX(s.frame):null;
if(S)r.translate(-S.x-S.G/2,-S.y-S.n/2);if(s.isFlippedHorizontal)r.scale(-1,1);if(s.isFlippedVertical)r.scale(1,-1);
r.rotate(-s.rotation*(Math.PI/180));if(S)r.translate(S.G/2,S.n/2);return r};hQ.I6=function(s){s=s.slice(1,s.length-1).split(",");
return new cR(parseFloat(s[0]),parseFloat(s[1]))};hQ.xX=function(s){return new hq(s.x,s.y,s.width,s.height)};
hQ.fT=function(s){return{_class:"rect",constrainProportions:!1,x:s.x,y:s.y,width:s.G,height:s.n}};function fF(){}fF.j7=function(s,N){var r=Date.now(),S=fF,z=UZIP.parse(s),A=JSON.parse(U.uE(z.manifest)),B=JSON.parse(U.uE(z["resources/graphics/graphicContent.agc"])).resources,Y=[],t=[],p=A.children;
for(var l=0;l<p.length;l++){var f=p[l];if(f.name=="artwork"){var a=f.children;for(var D=0;D<a.length;
D++){var c=a[D],J=JSON.parse(U.uE(z["artwork/"+c.path+"/graphics/graphicContent.agc"])),Z=J.children;
if(Z.length==0){}else if(Z.length==1){if(c["uxdesign#bounds"]){c._node=Z[0];Y.push(c)}}else{var Q=Z[0],M=Q.transform,u=Q.shape;
if(u==null)u={x:0,y:0,width:1e3,height:1e3};if(u.type=="path"){var P=q.g.nw(Typr.U.SVGToPath(u.path).crds);
u={x:P.x,y:P.y,width:P.G,height:P.n}}u=JSON.parse(JSON.stringify(u));if(M){u.x+=M.tx;u.y+=M.ty}c["uxdesign#bounds"]=u;
c._node={type:"artboard",artboard:{children:Z}};t.push(c)}}}}if(Y.length==0)Y=t;var m=[],i=new hq;for(var l=0;
l<Y.length;l++){var c=Y[l],e=hQ.xX(c["uxdesign#bounds"]);m.push(e);i=i.Ms(e)}var X=hQ.By(i,8192*8192);
N.aH=!0;N.G=Math.round(i.G/X);N.n=Math.round(i.n/X);N.buffer=q.m(N.G*N.n*4);N.a_(Y.length);var $=new gF(X,0,0,X,i.x,i.y);
N.Qx={};for(var l=0;l<Y.length;l++){var c=Y[l],e=hQ.xX(c["uxdesign#bounds"]),O=c._node,T=$.clone(),b=e.clone(),R=T.S5();
T.translate(-e.x,-e.y);b.x=-Math.floor(T.JC/R);b.y=-Math.floor(T.T3/R);b.G=Math.floor(b.G/R);b.n=Math.floor(b.n/R);
T.translate(e.x,e.y);fF.aX(O,N,T,B,z,b);var w=N.p[N.p.length-1];w.lP(c.name);w.S6(b);if(l!=Y.length-1)w.add.lsct=d9.vH}delete N.Qx};
fF.U2=function(s){if(s==null)return new gF;return new gF(s.a,s.b,s.c,s.d,s.tx,s.ty)};fF.aX=function(s,N,r,S,z,A){var B=fF,Y=s.type,t=s[Y],p=s.style,f=B.U2(s.transform),J,Z="none",Q,M="none",u,P;
f.dm();var a=r.clone();a.concat(f);var D=N.tT(),c=s.name;D.lP(c?c.slice(0,250):"Layer");if(s.visible!=null)D.pQ(s.visible);
if(p){J=p.stroke;Z=J?J.type:"none";Q=p.fill;M=Q?Q.type:"none";u=p.filters;P=p.clipPath;if(P&&S.clipPaths[P.ref])P=S.clipPaths[P.ref].children;
else P=null;if(p.opacity)D.opacity=Math.round(255*p.opacity);if(M=="solid"&&Q.color.alpha)D.opacity=Math.round(D.opacity*Q.color.alpha);
if(u){D.add.lmfx=B.asD(u);for(var l=0;l<u.length;l++)if(u[l].type=="uxdesign#blur"){var m=u[l],i=m.params,e=i.brightnessAmount;
if(e==null)e=0;e=Math.abs(e/100);if((m.visible==null||m.visible==!0)&&i.backgroundEffect)D.opacity=Math.round(D.opacity*(e+(1-e)*i.fillOpacity))}}if(M=="pattern"&&Q.pattern.meta.ux.uid=="")M="none"}if(P==null&&s.meta&&s.meta.ux&&s.meta.ux.clipPathResources)P=s.meta.ux.clipPathResources.children;
if(Y=="artboard"||Y=="group"){if(P){var X=P[0],$=X.shape,O=$!=null&&$.type=="rect"&&$.width*$.height>1e6;
if(X.type!="text"&&!O){if($){var f=B.U2(X.transform);f.dm();var T=a.clone();T.concat(f);D.add.vmsk=new y.kL;
D.add.vmsk._=B.Je($);T=T.clone();T.dm();q.J.Yy(D.add.vmsk._,T);D.qB(N)}}else if(!O)alert("Clipping by text has been ignored")}D.add.lsct=d9.KK;
D.M9="pass";D.Vs=24;if(s.visible!=null)D.pQ(s.visible);N.p.push(N.YL());var b=t.children,R=Q;if(R)R=R.color;
if(R)R=R.value;if(Q){if(Y=="artboard"&&M=="solid"){D.S6(new hq(0,0,10,10));D.add.artb.Clr={t:"Objc",v:q.i.Sm({w:R.r,A:R.g,U:R.b})};
D.add.artb.artboardBackgroundType={t:"long",v:4}}else{var w=N.tT();w.lP("BACKGROUND");w.Vs|=16;w.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));
w.add.vmsk=new y.kL;w.add.vmsk._=B.Je({type:"rect",x:A.x,y:A.y,width:A.G,height:A.n});B.xd(Q,M,a,A,A,w,N,S,z);
w.qB(N);N.p.push(w)}}for(var l=0;l<b.length;l++){fF.aX(b[l],N,a,S,z,A)}}else if(Y=="shape"&&(t.type=="rect"&&(t.r==null||t.r==0)||t.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(t.path)))&&M=="pattern"&&(Math.abs(t.width/t.height-Q.pattern.width/Q.pattern.height)<.01||p.fill.pattern.meta.ux.scaleBehavior=="fill")){var F=Q.pattern,L=F.meta.ux,x=L.uid,g=z["resources/"+x];
if(g==null){console.log(F);return}var n=N.uo(g,D.getName(),0,0);n.Vs=D.Vs;n.opacity=D.opacity;D=n;var h=q.J.Ql(B.Je(t),null),_=q.g.w2(new hq(0,0,F.width,F.height)).v,H=new gF;
H.scale(F.width/h.G,F.height/h.n);if(L.offsetX)H.translate(-L.offsetX*F.width,0);if(L.offsetY)H.translate(0,-L.offsetY*F.height);
a.concat(H);a.dm();q.g.D(_,a,_);D.add.SoLd.Trnf=K.S.Ua(_);D.add.SoLd.nonAffineTransform=K.S.Ua(_);D.Vw(N,!1)}else if(Y=="shape"){D.Vs|=16;
D.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));D.add.vmsk=new y.kL;D.add.vmsk._=B.Je(t);var h=q.J.Ql(D.add.vmsk._,null),T=a.clone();
T.dm();q.J.Yy(D.add.vmsk._,T);var G=q.J.Ql(D.add.vmsk._,null);if(Z=="none"){}else{var j=J.color.value,v,C;
v="SoFi";var E=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);C={t:"Objc",v:E};C.v.Clr.v=q.i.Sm({w:j.r,A:j.g,U:j.b});
var I=J.align,dJ=J.cap;if(I==null)I="center";var fG=D.add.vstk;fG.strokeEnabled.v=!0;fG.strokeStyleLineWidth.v.val=J.width;
if(I)fG.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jG.iJ.qY[["inside","center","outside"].indexOf(I)];
if(dJ)fG.strokeStyleLineCapType.v.strokeStyleLineCapType=jG.iJ.VZ[["butt","round","square"].indexOf(dJ)];
var o=["SoFi","GrFl","patternFill"].indexOf(v),i4=[jG.IU,jG.$b,jG.Ba][o];fG.strokeStyleContent.v={classID:jG.iJ.Mn[0]};
var df=fG.strokeStyleContent.v={classID:jG.iJ.Mn[o]};for(var l=0;l<i4.length;l++)df[i4[l]]=C.v[i4[l]]}if(u)for(var l=0;
l<u.length;l++)if(u[l].type=="uxdesign#blur"&&u[l].visible){var eO=u[l];D.add.vmsk.H0=eO.params.blurAmount}B.xd(Q,M,a,h,G,D,N,S,z);
D.qB(N)}else if(Y=="text"&&s.text){var cO=s.text,ej=cO.frame,cn=p.font,j5=p.textAttributes,f=a.clone(),jC=0;
f.dm();D.add.lnsr="rend";D.add.TySh=en.iE(0,0);D.add.TySh.Kr=new hq(0,0,100,100);D.add.TySh.D=f;var gP=D.add.TySh.pg,bY=cO.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
en.Bx(gP,0,bY);if(bY!=""){var gR=en.hM(gP,0,1),c3=cn.postscriptName;if(c3==null)c3=cn.family;en._E(gR,c3);
gR.GN.FontSize=Math.round(cn.size);if(Q){var j=Q.color.value;gR.GN.FillColor={Type:1,Values:[1,j.r/255,j.g/255,j.b/255]}}if(j5){if(j5.paragraphAlign)gR.M7.Justification=["left","right","center"].indexOf(j5.paragraphAlign);
if(j5.letterSpacing)gR.GN.Tracking=Math.round(j5.letterSpacing);if(j5.lineHeight){gR.GN.AutoLeading=!1;
gR.GN.Leading=Math.round(j5.lineHeight)}}en.Z6(gP,0,bY.length,gR)}var jj=s.meta.ux.rangedStyles;if(jj)for(var l=0;
l<jj.length;l++){var t=jj[l],kf=Math.min(t.length,bY.length-jC);if(l==jj.length-1)kf=bY.length-jC;var gR=en.hM(gP,jC,jC+kf),c3=t.postscriptName;
if(c3==null)c3=t.family;if(c3!=null)en._E(gR,c3);var bz=t.textScript,iv=t.underline,bI=t.fontSize,m=t.fill,jo=t.textTransform;
if(bz&&bz!="none")gR.GN.FontBaseline=bz=="superscript"?1:2;if(iv!=null)gR.GN.Underline=iv;if(bI!=null)gR.GN.FontSize=Math.round(bI);
if(jo!=null)gR.GN.FontCaps=jo=="uppercase"?2:0;if(jo=="lowercase"){en.oF(gP,jC,jC+kf);en.Bx(gP,jC,bY.slice(jC,jC+kf).toLowerCase())}if(m!=null){var iZ=m.value;
gR.GN.FillColor={Type:1,Values:[1,(iZ>>>16&255)/255,(iZ>>>8&255)/255,(iZ>>>0&255)/255]}}en.Z6(gP,jC,jC+kf,gR);
jC+=kf}if(ej.type=="area"||ej.type=="autoHeight"){var jD=ej.width,dM=ej.height;en.WR(gP,1);en.EU(gP,[0,0,jD,dM!=null?dM:jD*2])}}else if(Y=="syncRef"){var ka=s.syncSourceGuid,ds=S.meta.ux.symbols,ee=B.xb(ds,ka);
if(ee){var a9=a.clone();a9.concat(B.U2(ee.transform));fF.aX(ee,N,a9,S,z,A)}return}else console.log(Y,s);
N.p.push(D)};fF.xb=function(s,N){for(var l=0;l<s.length;l++){var r=s[l],S=r.group;if(r.id==N)return r;
if(S){var z=fF.xb(S.children,N);if(z)return z}}return null};fF.Je=function(s){var N=s.type,r=[{type:6},{type:8,all:0}];
if(N=="rect"){var S=s.r,z=s.x,A=s.y,B=s.width,Y=s.height;r=q.J.kt.Rect(z,A,B,Y,S?S:0)}else if(N=="circle"){var S=s.r;
r=q.J.kt.q3(s.cx-S,s.cy-S,2*S,2*S)}else if(N=="ellipse"){var t=s.rx,p=s.ry;r=q.J.kt.q3(s.cx-t,s.cy-p,2*t,2*p)}else if(N=="path"||N=="compound"){var f=Typr.U.SVGToPath(s.path);
r=q.g.m0({F:f.cmds,v:f.crds},!1)}else if(N=="line"){var a=s.x1,D=s.x2,c=s.y1,J=s.y2;r=q.J.kt.WU([a,c,D,J],0,!0)}else if(N=="polygon"){var Z=s.points,Q=[];
for(var l=0;l<Z.length;l++)Q.push(Z[l].x,Z[l].y);r=r.concat(q.J.kt.WU(Q,0,!1).slice(2))}else console.log(N,s);
return r};fF.asD=function(s){var N=JSON.parse(jG.default);for(var l=0;l<jG.order.length;l++)N[jG.Um[l]]={t:"VlLs",v:[]};
for(var l=0;l<s.length;l++){var r=s[l],S=r.type,z=r.params,A=r.visible;if(S=="dropShadow"){var B=jG.Um[jG.order.indexOf("DrSh")],Y=JSON.parse(jG.FH[jG.order.indexOf("DrSh")]);
N[B].v.unshift({t:"Objc",v:Y});var t=z.dropShadows;if(t.length!=1)throw"e";var p=t[l],f=p.color,a=f.value,D=p.dx,c=p.dy;
Y.Clr.v=q.i.Sm({w:a.r,A:a.g,U:a.b});Y.Opct.v.val=Math.round((f.alpha!=null?f.alpha:1)*100);Y.uglg.v=!1;
Y.enab.v=A!=null?A:!0;Y.lagl.v.val=Math.round(180/Math.PI*Math.atan2(c,-D));Y.Dstn.v.val=Math.round(Math.sqrt(D*D+c*c));
Y.blur.v.val=Math.round(p.r*2.3)}}return N};fF.xd=function(s,N,r,S,z,A,B,Y,t){var p=fF;if(N=="none"){A.add.vstk.fillEnabled.v=!1;
A.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:0,A:0,U:0})}}}else{var f,a,D;if(N=="solid"){var c=s.color.value;
f="SoCo";a=jG.IU;var J=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);D={t:"Objc",v:J};D.v.Clr.v=q.i.Sm({w:c.r,A:c.g,U:c.b})}else if(N=="gradient"){f="GdFl";
a=jG.$b;var J=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),Z=J.Grad.v,m,i,e;Z.Intr.v=0;var Q=s[N],M=Q.ref?Y.gradients[Q.ref]:Q.meta.ux.gradientResources,u=["linear","radial"].indexOf(M.type),P=M.stops;
J.Type.v.GrdT=["Lnr","Rdl","Angl"][u];if(u==0){var m=new cR(Q.x1,Q.y1),i=new cR(Q.x2,Q.y2);m.x=i.x+.5*(m.x-i.x);
m.y=i.y+.5*(m.y-i.y)}else{var m=new cR(Q.cx,Q.cy),i=new cR(Q.cx+Q.r,Q.cy)}e=z;if(Q.units=="objectBoundingBox"){var X=new gF(S.G,0,0,S.n,S.x,S.y);
m=X.aK(m);i=X.aK(i)}var X=p.U2(Q.transform);m=X.aK(m);i=X.aK(i);X=r.clone();X.dm();m=X.aK(m);i=X.aK(i);
q.i.Nh(m,i,e,J);var $=[];for(var l=0;l<P.length;l++){var O=P[l],T=O.color,c=T.value,b=T.alpha;if(b==null)b=1;
$.push([O.offset,[c.r/255,c.g/255,c.b/255],b])}q.i.UO($,Z);D={t:"Objc",v:J}}else if(N=="pattern"){f="PtFl";
a=jG.Ba;var J=JSON.parse(jG.FH[jG.order.indexOf("patternFill")]),_;D={t:"Objc",v:J};var R=s[N],w=R.meta.ux,F=w.uid,L=t["resources/"+F].buffer,x=w.flipX,g=w.flipY,n=F+x+g,h=hg.yy(L);
if(B.Qx[n])_=B.Qx[n];else{var H=new hq(0,0,R.width,R.height),G;if(H.Nf()||h==null){H=new hq(0,0,1,1);
G=new ArrayBuffer(4)}else{var j=hg.Pp(h);if(j.oY){var v=new a2;j.LG(L,v);G=v.r9().buffer}else{try{var C=j.LG(L)[0];
G=C.data;H=C.zC}catch(eV){G=new ArrayBuffer(H.$()*4)}}}_={};_.id=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f";
_.name="someImage";_.yK=[new Uint8Array(G),H];if(x)q.P.Dw(_.yK[0].slice(0),_.yK[0],H.G,H.n);if(g)q.P.aj9(_.yK[0].slice(0),_.yK[0],H.G,H.n);
B.zp(_);B.Qx[n]=_}var E=r.clone();E.dm();E.translate(S.x,S.y);var I=S.G,dJ=S.n,fG=_.yK[1].G,o=_.yK[1].n,i4=Math.max(I/fG,dJ/o);
if(w.scale)i4*=w.scale;var df=new gF;df.translate(-fG/2,-o/2);df.scale(1/fG,1/o);if(w.offsetX!=null)df.translate(w.offsetX,w.offsetY);
df.scale(fG,o);df.scale(i4,i4);df.translate(I/2,dJ/2);df.concat(E);hC.a7k(_,J,0,0,1e3,df)}else console.log(N);
if(f!=null){A.add[f]={classID:"null"};for(var l=0;l<a.length;l++){var eO=a[l];A.add[f][eO]=D.v[eO]}}}};
function cs(){}cs.j7=function(s,N,r){s=new Uint8Array(s);var S=U.uE(s,0,s.length),z=new DOMParser,A=z.parseFromString(S,"image/svg+xml"),B=A.getElementsByTagName("style")[0],c=1;
if(B)B=Typr.U.SVG.cssMap(B.textContent);else B={};var Y=A.firstChild;while(Y.tagName!="svg")Y=Y.nextSibling;
var t=new hq(0,0,100,100),p=Y.getAttribute("viewBox"),f=Y.getAttribute("width"),a=Y.getAttribute("height");
if(p){var D=cs.IQ(p);t.x=D[0];t.y=D[1];t.G=D[2];t.n=D[3]}else if(f!=null||a!=null){t.G=f!=null?parseFloat(f):parseFloat(a);
t.n=a!=null?parseFloat(a):parseFloat(f)}t=q.g.i2(t);while(r&&Math.max(t.G*c,t.n*c)<Math.max(r[0],r[1]))c++;
while(r==null&&Math.max(t.G,t.n)*c>8192)c*=.5;N.aH=!0;N.G=~~(t.G*c);N.n=~~(t.n*c);N.buffer=q.m(N.G*N.n*4);
var J=new gF(c,0,0,c,-t.x*c,-t.y*c),Z={KM:cs.Xh(Y),a6N:B,Si:0};cs.EQ(A,Y.children,N,J,Z,new gF,0);if(N.p.length==0){var Q=N.tT();
Q.lP("Layer");N.p.push(Q)}};cs.IQ=function(s){var N=" ";if(s.indexOf(",")!=-1)N=",";return s.split(N).map(parseFloat)};
cs.EQ=function(s,N,r,S,z,A,B){var Y=cs,t=["display","opacity","fill-opacity","filter"];for(var p=0;p<N.length;
p++){var f=N[p],a=f.tagName,D=f.getAttribute("id"),c=Y.Xh(f,z.a6N),Z=13,m=1,X="clip-path",$=null,g=0;
for(var J in z.KM)if(t.indexOf(J)==-1&&c[J]==null)c[J]=z.KM[J];if(c["font-size"])Z=Y.dK(c["font-size"],Z);
if(f.getAttribute("dx"))S.JC+=Y.dK(f.getAttribute("dx"),Z);if(f.getAttribute("dy"))S.T3+=Y.dK(f.getAttribute("dy"),Z);
var Q=Y.hH(f);Q.concat(S);var M=f.getAttribute("visibility"),u=c.display,P=r.tT();if(M=="hidden"||u=="none")P.pQ(!1);
P.lP(D!=null?D.split(":::")[0]:"Layer");if(c.opacity)m*=parseFloat(c.opacity);if(c["fill-opacity"]){var i=parseFloat(c["fill-opacity"]);
if(i!=0)m*=i}P.opacity=Math.round(255*m);if(c["mix-blend-mode"]){var e=bm.ahR.indexOf(c["mix-blend-mode"]);
if(e!=-1)P.M9=bm.sI[e]}if(f.getAttribute(X)==null)X="mask";if(f.getAttribute(X)!=null){var O=f.getAttribute(X);
O=O.slice(4,O.length-1);var T=s.getElementById(O.slice(1));if(T){var b=T.children;$=r.tT();$.lP("Clip-Path"+(D?": "+D:""));
$.add.lsct=B<2?d9.KK:d9.vH;$.M9="pass";$.Vs=24;var R=$.add.vmsk=new y.kL;r.p.push(r.YL());var w=[];if(T.getAttribute(X)){var O=T.getAttribute(X);
O=O.slice(4,O.length-1);w=s.getElementById(O.slice(1)).children}for(var l=0;l<b.length;l++){var F=Y.hH(b[l]);
F.concat(Q);var L=Y.Je(s,b[l],!1).slice(2);q.J.Yy(L,F);R._=R._.concat(L)}for(var l=0;l<w.length;l++){var F=Y.hH(b[l]);
F.concat(Q);var L=Y.Je(s,w[l],!1).slice(2);for(var x=0;x<L.length;x++)if(L[l].my!=null)L[l].my=3;q.J.Yy(L,F);
R._=R._.concat(L)}$.dn();$.qB();B++}}if(c.filter&&c.filter!="none"){var n=c.filter,_,H,G,v=!1,C=!1,E=!1;
n=n.slice(5,n.length-1);var h=s.getElementById(n),j=[0,0,0,.5],I=K.S.S5(Q);if(h)for(var l=0;l<h.children.length;
l++){var dJ=h.children[l];if(dJ.tagName=="feGaussianBlur"){v=!0;_=parseFloat(dJ.getAttribute("stdDeviation"))*I}if(dJ.tagName=="feColorMatrix"){var fG=dJ.getAttribute("values").split(" ").map(parseFloat);
j=[fG[4],fG[9],fG[14],fG[18]]}if(dJ.tagName=="feComposite"){E=!0}if(dJ.tagName=="feOffset"){C=!0;var o=dJ.getAttribute("dx"),i4=dJ.getAttribute("dy");
H=parseFloat(o?o:0)*I;G=parseFloat(i4?i4:0)*I}}if(E||C){var df=E?"IrSh":"DrSh";if(df=="IrSh"){P.add.iOpa=0}var eO=JSON.parse(jG.FH[jG.order.indexOf(df)]);
eO.blur.v.val=Math.round(_*2.4);var cO=Math.sqrt(H*H+G*G);eO.uglg.v=!1;eO.Dstn.v.val=Math.round(cO);
eO.lagl.v.val=Math.round(Math.atan2(G,-H)*(180/Math.PI));eO.Clr.v=q.i.Sm({w:j[0]*255,A:j[1]*255,U:j[2]*255});
eO.Opct.v.val=Math.round(j[3]*100);Y.OA(P,jG.Um[jG.order.indexOf(df)],eO)}else if(v)g=_}if(a=="g"||a=="a"||a=="svg"||a=="switch"||(a=="text"||a=="textPath")&&f.children.length>0){if(a=="text")A=Y.JP(f,A);
var ej=f.getAttribute("viewBox"),cn=f.getAttribute("width"),j5=f.getAttribute("height");if(ej&&cn&&j5){var gP=cs.IQ(ej),bY=Y.JP(f),gR=new gF;
gR.translate(-gP[0],-gP[1]);gR.scale(parseFloat(cn)/gP[2],parseFloat(j5)/gP[3]);gR.translate(bY.JC,bY.T3);
gR.concat(Q);Q=gR}var c3=f.children.length,jj=z.KM;z.KM=c;var jC=z.Si;z.Si=Math.max(z.Si,g);var kf=a!="text"&&a!="textPath"||c3>1;
if(kf){var bz=P.ES();P.add.lsct=B<2&&bz&&(D==null||!D.endsWith(":::"))?d9.KK:d9.vH;P.M9="pass";P.Vs=24;
P.pQ(bz);r.p.push(r.YL())}Y.EQ(s,f.children,r,Q,z,A,B+1);if(kf)r.p.push(P);else{var iv=r.p[r.p.length-1];
iv.opacity=P.opacity;iv.M9=P.M9}z.Si=jC;z.KM=jj}else if(a=="use"){var gR=Y.JP(f);gR.concat(Q);var bI=Y.XM(f),jo=s.getElementById(bI.slice(1));
if(jo){var jj=z.KM;z.KM=c;if(c.filter)jo.setAttribute("filter",c.filter);Y.EQ(s,[jo],r,gR,z,A,B+1);z.KM=jj}}else if(a=="path"||a=="rect"||a=="circle"||a=="ellipse"||a=="polygon"||a=="polyline"||a=="line"){P.Vs|=16;
P.add.vmsk=new y.kL;P.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));P.add.vstk.strokeEnabled.v=!1;
var iZ=P.add.vstk,R=P.add.vmsk,jD=c.fill,dM=jD=="none"||c["fill-opacity"]&&parseFloat(c["fill-opacity"])==0;
R._=Y.Je(s,f,c["fill-rule"]=="evenodd",dM);q.J.Yy(R._,Q);var ka=q.J.Ql(R._),ds=c.stroke,ee=c["stroke-width"],a9=c["stroke-dasharray"],ir=c["stroke-linejoin"],eP=c["stroke-linecap"],jh=c["paint-order"];
if(ds==null||ds=="none"||ds=="null"){}else{var fy=Y.nQ(s,ds,Q,ka),eS=["SoFi","GrFl","patternFill"].indexOf(fy.type),gz=fy.h.v.Opct.v,hl=1;
if(gz.val!=100){P.opacity=Math.round(P.opacity*gz.val/100);gz.val=100}var fi=[jG.IU,jG.$b,jG.Ba][eS],fw=iZ.strokeStyleContent.v={classID:jG.iJ.Mn[eS]};
for(var l=0;l<fi.length;l++)fw[fi[l]]=fy.h.v[fi[l]];ee=ee?parseFloat(ee):1;if(jh&&jh.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){hl=2;
ee/=2}iZ.strokeEnabled.v=!0;if(ir)iZ.strokeStyleLineJoinType.v.strokeStyleLineJoinType=jG.iJ.join[["miter","round","bevel"].indexOf(ir)];
if(eP)iZ.strokeStyleLineCapType.v.strokeStyleLineCapType=jG.iJ.VZ[["butt","round","square"].indexOf(eP)];
iZ.strokeStyleLineWidth.v.val=ee*K.S.S5(Q);iZ.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jG.iJ.qY[hl];
iZ.strokeStyleOpacity.v.val=100*(c["stroke-opacity"]?parseFloat(c["stroke-opacity"]):1);if(a9!=null&&a9!="none")iZ.strokeStyleLineDashSet.v=hC.Pm(a9.split(",").map(parseFloat),1/ee)}if(dM){P.add.vstk.fillEnabled.v=!1;
P.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:0,A:0,U:0})}}}else{var fy=Y.nQ(s,jD,Q,ka),ia=null,iQ=null;
if(fy.type=="SoFi"){ia="SoCo";iQ=jG.IU}if(fy.type=="GrFl"){ia="GdFl";iQ=jG.$b}if(fy.type=="patternFill"){ia="PtFl";
iQ=jG.Ba}if(ia!=null){var gz=fy.h.v.Opct.v;if(gz.val!=100){P.opacity=Math.round(P.opacity*gz.val/100);
gz.val=100}P.add[ia]={classID:"null"};for(var l=0;l<iQ.length;l++){var J=iQ[l];P.add[ia][J]=fy.h.v[J]}}}var em=Math.max(g,z.Si);
if(em!=0)P.add.vmsk.H0=em;P.dn();P.qB(r);r.p.push(P)}else if((a=="text"||a=="tspan")&&f.textContent!=""){A=Y.JP(f,A);
var gR=A.clone(),G=0;gR.concat(Q);if(f.children.length>0){var k4=Y.Xh(f.children[0],z.a6N);for(var J in k4)if(t.indexOf(J)==-1)c[J]=k4[J]}var ar=c["xml:space"],fg=f.textContent;
if(ar=="preserve")fg=fg.replace(/\t/g," ").replace(/\n/g," ");if(D==null)P.lP(fg);P.add.lnsr="rend";
P.add.TySh=en.iE(0,0);P.add.TySh.Kr=new hq(0,0,100,100);P.add.TySh.D=gR.clone();var j0=P.add.TySh.pg;
en.Bx(j0,0,fg);var jD=c.fill,bU=c["font-weight"],dn=c["font-family"],bE=c["text-decoration"],ds=c.stroke,ee=c["stroke-width"],ew=c["dominant-baseline"];
if(ew=="text-before-edge")G=Z;else if(ew=="middle")G=Z/2;else if(ew=="hanging")G=Z;if(G!=0)P.add.TySh.D.translate(0,G);
var jy=en.hM(j0,0,1);if(jD&&jD!="none"){var j=CSS.JG(jD);jy.GN.FillColor={Type:1,Values:[1,j.w/255,j.A/255,j.U/255]}}if(bE=="underline")jy.GN.Underline=!0;
jy.GN.FontSize=Math.round(Z);en._E(jy,"LiberationSans");if(bU=="bold")en._E(jy,"LiberationSans-Bold");
if(dn){dn=dn.split(",")[0].trim();if(dn[0]=="\"")dn=dn.slice(1);if(dn[dn.length-1]=="\"")dn=dn.slice(0,dn.length-1);
var eT=dn+":"+(bU?bU:"normal"),du={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(du[eT])en._E(jy,du[eT]);else en._E(jy,dn)}if(c["text-anchor"])jy.M7.Justification=["start","end","middle"].indexOf(c["text-anchor"]);
en.Z6(j0,0,fg.length,jy);if(ds==null||ds=="none"){}else{var eO=JSON.parse(jG.FH[jG.order.indexOf("FrFX")]);
eO.Clr.v=q.i.Sm(CSS.JG(ds));eO.Sz.v.val=Math.round(parseFloat(ee)*K.S.S5(gR));Y.OA(P,"frameFXMulti",eO)}r.p.push(P)}else if(a=="image"){var bI=Y.XM(f);
if(bI&&bI.slice(0,4)=="data"){var c_=hg.TH(bI),f9=c_,bp=r.uo(f9,P.getName(),0,0);bp.Vs=P.Vs;P=bp;var aL=P.rect.clone();
aL.x=aL.y=0;var f8=f.getAttribute("width"),aE=f.getAttribute("height");if(f8)aL.G=parseFloat(f8);if(aE)aL.n=parseFloat(aE);
var be=Y.JP(f);be.concat(Q);var jK=q.g.w2(aL).v;q.g.D(jK,be,jK);P.add.SoLd.Trnf=K.S.Ua(jK);P.add.SoLd.nonAffineTransform=K.S.Ua(jK);
P.Vw(r,!1);r.p.push(P)}}else console.log("unknown tag: "+a,f.children.length,f.textContent.length);if($!=null){r.p.push($);
B--}}};cs.OA=function(s,N,r){var S=s.add.lmfx;if(S==null){var S=s.add.lmfx=JSON.parse(jG.default);for(var l=0;
l<jG.order.length;l++)S[jG.Um[l]]={t:"VlLs",v:[]}}S[N].v.push({t:"Objc",v:r})};cs.Je=function(s,N,r,S){var z=cs,A=[{type:6},{type:8,all:0}],B=N.tagName;
if(B=="use"){var Y=z.XM(N),t=s.getElementById(Y.slice(1)),p=new gF;if(t.tagName!="rect")p=z.JP(t);p.concat(z.hH(t));
A=z.Je(s,t,r,S);q.J.Yy(A,p)}else if(B=="path"){var f=N.getAttribute("d");if(f==null)return A;var a=Typr.U.SVGToPath(f);
A=q.g.m0({v:a.crds,F:a.cmds},r,S)}else if(B=="rect"){var D=N.getAttribute("rx"),c=z.JP(N);A=q.J.kt.Rect(c.JC,c.T3,parseFloat(N.getAttribute("width")),parseFloat(N.getAttribute("height")),D?parseFloat(D):0)}else if(B=="circle"||B=="ellipse"){var J=[0,0,0,0],Z=["cx","cy","rx","ry","r"];
for(var l=0;l<5;l++){var Q=N.getAttribute(Z[l]);if(Q){Q=parseFloat(Q);if(l<4)J[l]=Q;else J[2]=J[3]=Q}}A=q.J.kt.q3(J[0]-J[2],J[1]-J[3],2*J[2],2*J[3])}else if(B=="polygon"||B=="polyline"||B=="line"){var M;
if(B=="line")M=[N.getAttribute("x1"),N.getAttribute("y1"),N.getAttribute("x2"),N.getAttribute("y2")].map(parseFloat);
else M=N.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
A=q.J.kt.WU(M,0,B!="polygon")}return A};cs.dK=function(s,N){if(s.charAt(s.length-1)=="m")return N*parseFloat(s.slice(0,s.length-2));
else return parseFloat(s)};cs.nQ=function(s,N,r,S){var z,A,B=cs,Y=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]),t=N!=null?N.indexOf("("):-1;
if(t!=-1){var p=N.indexOf(")"),f=N.slice(0,t).trim(),a=N.slice(t+1,p).trim();if(a.charAt(0)=="'")a=a.slice(1,a.length-1);
if(f=="url"){if(a.charAt(0)=="#"){var D=s.getElementById(a.slice(1));if(D&&D.tagName.toLowerCase().endsWith("gradient")){var c=B.Ki(s,D,r,S);
z="GrFl";A={t:"Objc",v:c}}else{z="SoFi";A={t:"Objc",v:Y}}}else console.log("unknown url",a)}else if(f=="rgb"||f=="rgba"){z="SoFi";
A={t:"Objc",v:Y};A.v.Clr.v=q.i.Sm(CSS.JG(N));if(f=="rgba")A.v.Opct.v.val=Math.round(100*parseFloat(N.split(",").pop()))}else console.log("unknown fill",N)}else{z="SoFi";
A={t:"Objc",v:Y};var J=CSS.JG(N);A.v.Clr.v=q.i.Sm(J);if(J.aC!=null)A.v.Opct.v.val=Math.round(100*J.aC/255)}return{type:z,h:A}};
cs.hH=function(s){var N=new gF,r=s.getAttribute("transform");if(r)N=cs.$L(r);var S=s.getAttribute("style");
if(S!=null){var z={};cs.Iq(z,S,["transform"]);S=z.transform;if(S)N.concat(cs.$L(S))}return N};cs.JP=function(s,N){var r=new gF,S=s.getAttribute("x"),z=s.getAttribute("y");
if(S)r.JC=parseFloat(S);else if(N)r.JC=N.JC;if(z)r.T3=parseFloat(z);else if(N)r.T3=N.T3;return r};cs.$L=function(s){var N=Typr.U.SVG.readTrnf(s);
return new gF(N[0],N[1],N[2],N[3],N[4],N[5])};cs.Xh=function(s,N){var r={},S="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var l=0;l<S.length;l++){var z=s.getAttribute(S[l]);if(z!=null&&z!="inherit")r[S[l]]=z}var A=s.getAttribute("class");
if(N!=null&&A!=null&&N["."+A]!=null)cs.Iq(r,N["."+A],S);var B=s.getAttribute("id");if(N!=null&&B!=null&&N["#"+B]!=null)cs.Iq(r,N["#"+B],S);
var Y=s.getAttribute("style");if(Y!=null)cs.Iq(r,Y,S);return r};cs.Iq=function(s,N,r){N=N.trim().split(";");
for(var l=0;l<N.length;l++){var S=N[l].split(":"),z=S[0]?S[0].trim():"",A=S[1]?S[1].trim():"";for(var B=0;
B<r.length;B++)if(z==r[B]&&A!="inherit")s[r[B]]=A}};cs.XM=function(s){var N=s.getAttribute("xlink:href");
if(N==null)N=s.getAttribute("href");if(N==null)N=s.getAttribute("xl:href");return N};cs.Ki=function(s,N,r,S){var z=cs,c=!1;
function A(b,R,w){var F=N.getAttribute(b);if(F==null)return;var L=parseFloat(F);if(F.endsWith("%"))L*=(w?S.G:S.n)/100;
if(w)R.x=L;else R.y=L}var B=new gF,Y=N.getAttribute("gradientTransform");if(Y)B=z.$L(Y);B.concat(r);
var t=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),p=t.Grad.v;p.Intr.v=0;var f=N.tagName,a=new cR(0,0),D=new cR(S.G,0);
if(f=="linearGradient"){t.Type.v.GrdT="Lnr";A("x1",a,!0);A("y1",a,!1);A("x2",D,!0);A("y2",D,!1);a.x=D.x+.5*(a.x-D.x);
a.y=D.y+.5*(a.y-D.y)}if(f=="radialGradient"){t.Type.v.GrdT="Rdl";if(N.getAttribute("cx"))a.x=parseFloat(N.getAttribute("cx"));
if(N.getAttribute("cy"))a.y=parseFloat(N.getAttribute("cy"));D.i5(a.x,a.y);if(N.getAttribute("r"))D.x+=parseFloat(N.getAttribute("r"))}var J=N;
while(!0){if(J.getAttribute("gradientUnits")=="userSpaceOnUse")c=!0;var Z=z.XM(J);if(Z==null)break;J=s.getElementById(Z.slice(1))}if(c){a=B.aK(a);
D=B.aK(D)}else{a.x=S.x+a.x*S.G;a.y=S.y+a.y*S.n;D.x=S.x+D.x*S.G;D.y=S.y+D.y*S.n}q.i.Nh(a,D,S,t);var Q=N.children;
if(Q.length==0){var M=z.XM(N);if(M==null)throw"gradient has no stops";var u=s.getElementById(M.slice(1));
if(u==null){console.log(M.slice(1))}else{var P=z.Ki(s,u,B,S);t.Grad=P.Grad}}else{var m=[];for(var l=0;
l<Q.length;l++){var i=Q[l],e=z.Xh(i),X=e["stop-color"],$=e["stop-opacity"],O=i.getAttribute("offset");
if(X==null)X="#000000";$=$==null?1:parseFloat($);var T=O?parseFloat(O):0;X=CSS.JG(X);if(X.aC!=null)$*=X.aC/255;
m.push([T,[X.w/255,X.A/255,X.U/255],parseFloat($)])}q.i.UO(m,p)}return t};cs.vM=function(s,N,r){var S=[],z=cs,t=" { ",p=" } ",f=!1;
z.xp=N.qr?"":"\t";var A=N.asP,B=N.aav;S.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+s.G+" "+s.n+"\" width=\""+A+"\" height=\""+B+"\">");
if(!N.qr)S.push(z.oL(1)+"<title>"+cs.c1(s.name.split(".")[0])+"</title>");var Y={C$:[],bh:[],Hp:0,vw:0,uh:0,eS:{},cV:{},C1:0,yc:{},hx:{},UL:0,dw:[]};
cs.Qt(s,Y,s.root.children,1,N,r);if(Y.C$.length!=0){S.push(z.oL(1)+"<defs>");S=S.concat(Y.C$);S.push(z.oL(1)+"</defs>")}S.push(z.oL(1)+"<style>");
if(N.qr){t="{";p="}"}for(var l=0;l<s.p.length;l++)if(s.p[l].add.TySh)f=!0;if(f&&!N.akV&&!N.acS)S.push(z.oL(2)+"tspan"+t+"white-space:pre"+p);
for(var a in Y.yc)S.push(z.oL(2)+"."+a+t+Y.yc[a]+p);S.push(z.oL(1)+"</style>");S=S.concat(Y.bh);S.push("</svg>");
S=S.join(N.qr?"":"\n");if(z.SD){console.log(z.SD);var D="SVGParser.gen.db = [\n";for(var l=0;l<z.SD.length;
l++){var c=z.SD[l];D+="{\n\tnam: \""+c.aM+"\",\n\tpts: [\n";for(var J=0;J<c.Ig.length;J++){var Z=c.Ig[J];
D+="\t\t[\""+Z[0]+"\", { cmds: "+JSON.stringify(Z[1].F)+", crds:"+JSON.stringify(Z[1].v)+" } ]"+(J==c.Ig.length-1?"":",")+"\n"}D+="\t]\n}"+(l==z.SD.length-1?"":",")+"\n"}D+="]\n";
console.log(D)}return U.et(S)};cs.xp="";cs.oL=function(i3){var s="";for(var l=0;l<i3;l++)s+=cs.xp;return s};
cs.j3=function(i3,s){if(s==null)s=1;var N=""+parseFloat(i3.toFixed(s));if(N.startsWith("0."))N=N.slice(1);
return N};cs.Qt=function(s,N,r,S,z,A){var B=cs;function Y(f,jD){var $=f.add.lmfx;if($)$=$[jD].v[0];if($)$=$.v;
if($&&!$.enab.v)$=null;return $}function t(f,Z){var iQ=Y(f,"frameFXMulti");if(iQ){var em=iQ.Sz.v.val;
if(iQ.Styl.v.FStl=="OutF"){Z.push("paint-order:stroke fill markers");em*=2}Z.push("stroke: "+CSS.zd(iQ.Clr.v));
Z.push("stroke-width: "+em);Z.push("stroke-linejoin: round;")}}for(var p=0;p<r.length;p++){var f=r[p].j,a=f.add.lsct,D=f.add.vmsk,c=f.add.vstk,J=f.add.TySh;
if(D&&!D.isEnabled)D=c=null;var Z=[];if(!z.hidden&&!f.ES())continue;var Q=f.opacity/255,M=f.add.iOpa?f.add.iOpa/255:1;
if(Q!=1)Z.push("opacity: "+B.j3(Q));if(M!=1)Z.push("fill-opacity: "+B.j3(M));if(f.M9!="norm"){var u=bm.ahR[bm.sI.indexOf(f.M9)];
if(u!=null)Z.push("mix-blend-mode: "+u)}if(!f.ES())Z.push("display: none");var P=[],m=[],i=f.getName(),e=i.indexOf(" .");
if(e!=-1){m.push(i.slice(e+2));i=i.slice(0,e)}if(!z.qr)P.push("id=\""+B.c1(i)+"\"");var X=hC.qi(f.add.lmfx,f.add),$=X[0],O=X[1];
if(f.Ob()){var T=r[p].children;if(!(T.length==1&&T[0].j.add.SoLd&&!z.aD)){if(B.SD&&f.getName().split("-").length==3){B.SD.push({aM:f.getName(),HW:0,Ig:[]})}cs.Nt(f,D,N,P);
if(Z.length!=0)P.push("style=\""+Z.join(";")+"\"");var b=B.r$(P,m),R=z.qr&&b=="";if(!R)N.bh.push(B.oL(S)+"<g"+(b==""?"":" "+b)+">");
B.Qt(s,N,T,S+1,z,A);if(!R)N.bh.push(B.oL(S)+"</g>")}}else if(f.wu()&&D==null){var w=new hq(0,0,s.G,s.n);
B.e0(Z,f.add,N,w,z);if(Z.length!=0)P.push("style=\""+Z.join(";")+"\"");N.bh.push(B.oL(S)+"<rect width=\""+s.G+"\" height=\""+s.n+"\" "+B.r$(P,m)+" />")}else if(D&&f.add.SoLd==null){var w=q.J.Ql(D._,null,!0),F=q.J.ae(D._,1);
if(F.HM!=0){P.push("fill-rule=\"evenodd\"")}var L=F.iO;B.e0(Z,f.add,N,w,z);if(Z.length!=0){var x=Z.join(";"),g=N.hx[x];
if(g==null){g="s"+N.UL;N.UL++;N.hx[x]=g;N.yc[g]=x}m.push(g)}N.bh.push(B.oL(S)+"<path "+B.r$(P,m)+" d=\""+L+"\" />");
if(B.SD&&B.SD[B.SD.length-1]){var n=q.g.Xl(D._);n.v=n.v.map(Math.round);var h=B.SD[B.SD.length-1];h.HW+=JSON.stringify(n).length;
h.Ig.push([Z[0].split("#").pop(),n])}}else if(J&&z.akV){var _=J.pg,H=new aM(_,A),G=null;if($)G=CSS.zd($.Clr.v);
if(O){var w=f.rect.clone();B.Fk(O,N,w,z);G=" url(#g"+N.Hp+")"}if(G)P.push("fill=\""+G+"\"");t(f,Z);if(Z.length!=0)P.push("style=\""+Z.join(";")+"\"");
var j=ey.Iu(H,J),v=q.g.sO(j);for(var C in v){var E=P.length;if(G==null){P.push("fill=\""+C.slice(0,7)+"\"");
if(C.length>7){var L=C.slice(7).split("-");console.log(L);P.push("stroke=\""+L[1]+"\"");P.push("stroke-width=\""+L[2]+"\"")}}var I=v[C],L=Typr.U.pathToSVG({crds:I.v,cmds:I.F},2);
N.bh.push(B.oL(S)+"<path "+B.r$(P,m)+" "+B.KG(J)+" d=\""+L+"\" />");while(P.length>E)P.pop()}}else if(J&&!z.acS){var _=J.pg,dJ=J.D.clone(),G=null;
Z.push("transform: "+B.tS(dJ));var fG=en.RS(_),H=new aM(_,A);t(f,Z);if(Z.length!=0)P.push("style=\""+Z.join(";")+"\"");
N.bh.push(B.oL(S)+"<text "+B.r$(P,m)+" >");if($)G=CSS.zd($.Clr.v);if(O){var w=f.rect.clone();w.x-=dJ.JC;
w.y-=dJ.T3;B.Fk(O,N,w,z);G=" url(#g"+N.Hp+")"}for(var l=0;l<H.M7.length;l++){var o=H.M7[l];if(o.mm.length==1&&o.mm[0].Ya)continue;
for(var i4=0;i4<o.Z1.length;i4++){var df=o.Z1[i4],eO=o.l7.y+df.l7.y,cO=o.mm[df.start].start,ej=o.mm[df.end-1].end,cn=en.a2_(_,cO,ej),j5="";
for(var gP=0;gP<cn.length;gP++){var bY=H.QF(cO),gR=cn[gP],c3=en.hM(_,cO,cO),jj=c3.H4[c3.GN.Font].Name,C=en.iy(c3.GN.FillColor),jC=Math.round(c3.GN.FontSize),kf=fG.slice(cO,cO+gR);
if(c3.GN.FontCaps==2)kf=kf.toUpperCase();var bz=new gF;bz.translate(bY.Ge.x,-eO);var iv=[];CSS.aji(iv,c3,null,!0,!0,G);
var x=iv.join(";"),g=N.hx[x];if(g==null){g="t"+N.UL;N.UL++;N.hx[x]=g;N.yc[g]=x}var bI=bY.Ge.x,jo=B.arV(c3,kf);
j5+="<tspan "+(gP==0?"x=\""+B.j3(bY.Ge.x)+"\"":"")+" y=\""+B.j3(eO)+"\" class=\""+g+"\""+jo+">"+B.c1(kf)+"</tspan>";
cO+=gR}N.bh.push(B.oL(S+1)+j5)}}N.bh.push(B.oL(S)+"</text>")}else if(f.add.SoLd&&z.aD){var iZ=f.add.SoLd,jD=iZ.Idnt.v,dM=0,ka=iZ.Crop?iZ.Crop.v:null;
if(N.cV[jD]!=null)dM=N.cV[jD];else{N.C1++;dM=N.C1;N.cV[jD]=N.C1;var ds=s.Ue(jD,ka),ir="";if(ds==null)return;
var ee=ds.t1,a9=hg.yy(ds.raw.buffer);if(a9=="pdf"){var eP=new a2("h");hg.Pp("PDF").LG(ds.raw.buffer,eP);
eP.$S();eP.xV();eP.V();eP.im();if(iZ.Crop&&iZ.Crop.v==1){K.Vg.OL(eP,eP.root.dy(eP,!0))}var jh=hg.Pp("SVG").Bj(eP,eP.G,eP.n,null,{dw:A});
ir="data:image/svg+xml;base64,"+hg.DY(jh)}else if(a9=="jpg"||a9=="png"||a9=="gif"||a9=="svg"){var fy={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
ir="data:"+fy[a9]+";base64,"+hg.DY(ds.raw.buffer)}else{ir=hg.oX(ee[0].buffer,ee[1].G,ee[1].n)}N.C$.push(B.oL(2)+"<image width=\""+ee[1].G+"\" height=\""+ee[1].n+"\" id=\"img"+dM+"\" href=\""+ir+"\"/>")}var eS=q.P.vY(iZ),gz=[];
cs.Nt(f,D,N,gz);if(gz.length!=0)N.bh.push(B.oL(S)+"<g "+B.r$(gz,m)+">");if(Z.length!=0)P.push("style=\""+Z.join(";")+"\"");
var fi=B.r$(P,m);N.bh.push(B.oL(S)+"<use "+fi+" href=\"#img"+dM+"\" transform=\""+B.tS(eS)+"\"/>");if(gz.length!=0)N.bh.push(B.oL(S)+"</g>")}else if(!f.rect.Nf()&&(z.aD||J)){if(Z.length!=0)P.push("style=\""+Z.join(";")+"\"");
var fi=B.r$(P,m),fw=f.buffer;if($)fw=hC.arY(fw,$,f.rect);var hl=f.rect;N.C1++;var ir=hg.oX(fw.buffer,hl.G,hl.n,"png",null,!0);
N.C$.push(B.oL(2)+"<image "+B.KG(J)+" width=\""+f.rect.G+"\" height=\""+f.rect.n+"\" id=\"img"+N.C1+"\" href=\""+ir+"\"/>");
N.bh.push(B.oL(S)+"<use "+fi+" href=\"#img"+N.C1+"\" x=\""+hl.x+"\" y=\""+hl.y+"\" />")}}};cs.arV=function(s,N){var r=s.GN.Tracking,S="";
if(r!=null&&r!=0){r=Math.round(r*s.GN.FontSize/1e3);S=" dx=\"0";for(var z=1;z<N.length;z++)S+=" "+r;
S+="\" "}return S};cs.KG=function(s){if(s==null)return"";var N=s.pg,r=en.RS(N);r=cs.c1(r.slice(0,r.length-1));
return"aria-label=\""+r+"\" "};cs.r$=function(s,N){if(N.length!=0)s.push("class=\""+N.join(" ")+"\"");
return s.join(" ")};cs.c1=function(s){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
cs.tS=function(s){var N=[s.aC,s.U,s.K1,s.dX,s.JC,s.T3];for(var l=0;l<6;l++)N[l]=cs.j3(N[l],3);return"matrix("+N.join(",")+")"};
cs.Nt=function(s,N,r,S){var z=cs;if(N||s.add.artb){var A;if(N)A=q.J.ae(N._).iO;else{var B=s.M5(),Y=q.g.w2(B);
A=Typr.U.pathToSVG({crds:Y.v,cmds:Y.F},2)}r.uh++;S.push("clip-path=\"url(#cp"+r.uh+")\"");r.C$.push(z.oL(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+r.uh+"\">");
r.C$.push(z.oL(3)+"<path d=\""+A+"\" />");r.C$.push(z.oL(2)+"</clipPath>")}};cs.e0=function(s,N,r,S,z){var A=z.qr?"":" ",B=cs,Y=N.vstk,t=N.vmsk,p=N.lmfx;
if(t&&t.H0!=0){var f=B.j3(t.H0);if(r.eS[f]==null){r.vw++;r.eS[f]=r.vw;r.C$.push(B.oL(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+r.vw+"\"> <feGaussianBlur stdDeviation=\""+f+"\" /> </filter>")}s.push("filter:"+A+"url(#f"+r.eS[f]+")")}var a=hC.qi(p,N),D=a[0],c=a[1];
if(Y&&!Y.fillEnabled.v)s.push("fill:"+A+"none");else if(D){var J=CSS.zd(D.Clr.v);s.push("fill:"+A+J)}else if(c){B.Fk(c,r,S,z);
s.push("fill:"+A+"url(#g"+r.Hp+")")}if(Y==null||!Y.strokeEnabled.v)Y=hC.qF(p);if(Y&&Y.strokeEnabled.v){var Z=Y.strokeStyleContent.v,Q=Z.classID;
if(Q=="solidColorLayer")s.push("stroke:"+A+CSS.zd(Z.Clr.v));else{B.Fk(Z,r,S,z);s.push("stroke:"+A+"url(#g"+r.Hp+")")}var M=jG.iJ.VZ.indexOf(Y.strokeStyleLineCapType.v.strokeStyleLineCapType),u=jG.iJ.join.indexOf(Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType),P=Y.strokeStyleOpacity.v.val/100,m=Y.strokeStyleLineWidth.v.val,i=jG.iJ.qY.indexOf(Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(i==2){m*=2;s.push("paint-order:stroke fill markers")}var e=Y.strokeStyleLineDashSet.v,X=[];for(var l=0;
l<e.length;l++)X.push(Math.round(e[l].v.val*m));if(M!=0)s.push("stroke-linecap:"+A+["butt","round","square"][M]);
if(u!=0)s.push("stroke-linejoin:"+A+["miter","round","bevel"][u]);if(P!=1)s.push("stroke-opacity:"+A+B.j3(P));
if(m!=1)s.push("stroke-width:"+A+B.j3(m));if(X.length!=0)s.push("stroke-dasharray:"+A+X.join(","))}};
cs.Fk=function(s,N,r,S){N.Hp++;var z=cs,A=s.Grad.v,B=JSON.parse(JSON.stringify(A.Clrs.v)),Y=JSON.parse(JSON.stringify(A.Trns.v)),t=s.Ofst.v,p=s.Type.v.GrdT,f=p=="Rdl"?1:0,a=(f==1?"radial":"linear")+"Gradient",D=q.i.uD(s,r),J="";
if(f==0){D[0].x=D[1].x+2*(D[0].x-D[1].x);D[0].y=D[1].y+2*(D[0].y-D[1].y)}var c=z.oL(2)+"<"+a+" id=\"g"+N.Hp+"\"";
if(S.qr){if(N.Hp==1)N.C$.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");J=" href=\"#P\""}else J=" gradientUnits=\"userSpaceOnUse\"";
if(f==0)N.C$.push(c+" x1=\""+z.j3(D[0].x)+"\" y1=\""+z.j3(D[0].y)+"\" x2=\""+z.j3(D[1].x)+"\" y2=\""+z.j3(D[1].y)+"\""+J+">");
if(f==1)N.C$.push(c+" cx=\""+z.j3(D[0].x)+"\" cy=\""+z.j3(D[0].y)+"\" r=\""+z.j3(cR.iI(D[0],D[1]))+"\""+J+">");
if(p=="Rflc"){for(var Z=0;Z<2;Z++){var Q=Z==0?B:Y;for(var l=Q.length-1;l>=0;l--){var M=Q[l];M.v.Lctn.v=2048+(M.v.Lctn.v>>>1);
var u=JSON.parse(JSON.stringify(M));u.v.Lctn.v=4096-u.v.Lctn.v;Q.push(u)}Q.sort(function(O,T){return O.v.Lctn.v-T.v.Lctn.v})}}var P=s.Rvrs.v;
if(P){B.reverse();Y.reverse()}for(var l=0;l<B.length;l++){var m=B[l].v,i=m.Lctn.v/4096;if(P)i=1-i;var e=l<Y.length?Y[l].v.Opct.v.val/100:1,e=e==1?"":" stop-opacity=\""+z.j3(e)+"\"",X=i==0&&S.qr?"":" offset=\""+z.j3(i)+"\"",$=CSS.zd(m.Clr.v);
$=S.qr&&$=="#000000"?"":" stop-color=\""+$+"\"";N.C$.push(z.oL(3)+"<stop"+X+$+e+"/>")}N.C$.push(z.oL(2)+"</"+a+">")};
cs.kt=function(s,N,r,S,z){var A=[],B=cs.kt,Y=!1,t={s7:s,JY:N,K5:[!0,!0,!0],A5:!1,NE:r,afV:0};t.x8=Math.round(Math.max(s,N)*(.02+B.xS(t)*.03));
t.Uj=B.adI(t);t.eO=B.a6u(t.Uj,(B.xS(t)<.5?-1:1)*(.2+B.xS(t)*.3));if(B.xS(t)<.5){var p=t.Uj;t.Uj=t.eO;
t.eO=p}t.apW=B.xS(t)<.4&&B.atS(t.eO,{w:1,A:1,U:1})>.3;t.a83=B.xS(t)<.5?0:1;A.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+s+" "+N+"\" width=\""+s+"\" height=\""+N+"\">");
t.bq=S[Math.floor(B.dt(t)*S.length)];t.kT=S[Math.floor(B.dt(t)*S.length)];A.push("<style>");A.push("@font-face {  font-family: "+t.bq[2]+";  src: url(rsrc/fonts/"+t.bq[5]+");  }");
A.push("@font-face {  font-family: "+t.kT[2]+";  src: url(rsrc/fonts/"+t.kT[5]+");  }");A.push("</style>");
var f=[0,0,s,N],a=f;if(z==null)A.push("<path style=\"fill: "+B.Bd(t.Uj)+"\" d=\""+B.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1])+"\" id=\"Background\" />");
else{t.A5=!0;B.bI(t,f,A,z)}if(B.xS(t)<.25&&!t.A5){t.K5[0]=t.K5[2]=!1;B.a6F(f,t,A);a=f}else if(B.xS(t)<.25||t.A5)a=f;
else{var D=.52+B.xS(t)*.2;if(B.xS(t)<.5)D=1-D;var c=f.slice(0),J=f.slice(0);if(B.xS(t)<.5)c[2]=J[0]=Math.round(D*s);
else c[3]=J[1]=Math.round(D*N);if(B.xS(t)<.5){var p=c;c=J;J=p}a=c;B.adj(t,J,A,z)}B.au2(t,a,A);A.push("</svg>");
A=A.join("\n");var Z=q.m(Math.round(A.length*1.5)),Q=U.MD(A,Z,0);return[Z.buffer.slice(0,Q),t.r2]};cs.kt.a6F=function(s,N,r){var S=cs.kt,z=s[2]-s[0],A=s[3]-s[1];
if(S.xS(N)<.5){r.push("<path id=\"Border\" style=\"fill: "+S.Bd(N.eO)+"\" d=\""+S.a87(s[0],s[1],s[2]-s[0],s[3]-s[1],N.x8)+"\" />")}else if(S.xS(N)<-.4){S.a8N(N,s,r)}else{var B=S.xS(N)<.5?0:1,Y=(B==0?A:z)/4,t=S.bD(N,B,s,r,Y,!0),t=S.bD(N,B+2,s,r,Y,!0,t)}};
cs.kt.au2=function(s,N,r){var S=cs.kt,z="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),A=2*Math.floor(S.xS(s)*z.length/2),B=N[2]-N[0],Y=N[3]-N[1],p=0,a=0;
s.se=(s.s7+B)*.5*(.04+S.xS(s)*.05);s.se=Math.min(s.se,Y*.4,B*.12);s.se=Math.round(s.se);var t=Math.min(s.se*z[A].length*(.35+.3*S.xS(s)),B*.9),f=(N[1]+N[3])/2,D=q.G6(s.Uj)<.85?{w:1,A:1,U:1}:{w:.1,A:.1,U:.1};
if(S.xS(s)<.25&&s.K5[0]){a=0;p=N[0]+s.x8}else if(S.xS(s)<.33&&s.K5[2]){a=2;p=N[2]-s.x8}else{a=1;p=(N[0]+N[2])/2}var c=D.w==1?"0,0,0":"255,255,255",J=s.A5&&S.xS(s)<1;
if(J){var Z=N[0],Q=B,M=f-s.se*1.1,u=s.se*2.2,P=.7;if(a==1&&S.xS(s)<.5){Z=M=.2*Math.min(B,Y);Q=B-2*M;
u=Y-M-M}else if(S.xS(s)<.7){Z=M=0;Q=B;u=Y;P=.25}r.push("<path id=\"Strip\" style=\"fill: rgb("+c+"); opacity: "+P+"\" d=\""+S.Rect(Z,M,Q,u)+"\" />")}if(S.xS(s)<.4){var m=s.se*.07;
m*=1.5+S.xS(s)*1;if(a==-1&&B/Y<3&&!J){r.push("<path id=\"Bar-bottom\" style=\"fill: "+S.Bd(D)+"\" d=\""+S.Rect(p-t/2,f+s.se*1.1-m/2,t,m)+"\" />");
r.push("<path id=\"Bar-top\"    style=\"fill: "+S.Bd(D)+"\" d=\""+S.Rect(p-t/2,f-s.se*1.1-m/2,t,m)+"\" />")}if(a!=1){r.push("<path id=\"Bar\" style=\"fill: "+S.Bd(D)+"\" d=\""+S.Rect(p-m/2,f-s.se*.8,m,s.se*.8*2)+"\" />");
p+=(a==0?1:-1)*s.se/3}}var i=s.se*.4;r.push(S.Xq(z[A+1],p,f+i*1.6,i,D,a,s.kT));r.push(S.Xq(z[A],p,f+s.se*.04,s.se,D,a,s.bq))};
cs.kt.adj=function(s,N,r,S){var z=N[2]-N[0],A=N[3]-N[1],B=Math.max(z,A),Y=Math.min(z,A),t=cs.kt;if(B/Y<5&&!s.A5&&!1){t.bI(s,N,r,S)}else if(t.xS(s)<0)r.push("<path style=\"fill: "+t.Bd(s.eO)+"\" d=\""+t.Rect(N[0],N[1],z,A)+"\" />");
else{var p=0;if(N[3]!=s.JY)p=0;if(N[2]!=s.s7)p=3;if(N[0]!=0)p=1;if(N[1]!=0)p=2;var f=p+2&3;if(B/Y<3){var a=t.avp(f),D=a[Math.round(t.xS(s)*(a.length-1))],c=D.aM.slice(0,4),J=c.indexOf(1);
D=JSON.parse(JSON.stringify(D));var Z=-1;if(c!="0000"){var Q=new gF;if(D.aM[5]=="0"){if(J==3&&p==1){Z=1;
Q.scale(-1,1)}else Z=J}else{var M=f;while(M==f)M=Math.floor(t.xS(s)*4)&3;Q.rotate((-J+M)*Math.PI/2)}t.D(D,Q)}var u=t.OH(D),P=z-2*s.x8,m=A-2*s.x8;
if(Z!=-1){if((Z&1)==0)m-=s.x8;else P-=s.x8}var i=Math.min(P/u.G,m/u.n),e=new gF;e.translate(-u.x,-u.y);
e.scale(i,i);var X=(z-u.G*i)/2,$=(A-u.n*i)/2;if(Z!=-1){if(Z==3)X=0;if(Z==0)$=0;if(Z==1)X=z-u.G*i;if(Z==2)$=A-u.n*i}e.translate(N[0]+X,N[1]+$);
t.Oy(s,D,e,s.eO,r)}else{t.bD(s,p,N,r,1e9)}}};cs.kt.bI=function(s,N,r,S){var z=N[2]-N[0],A=N[3]-N[1],B=Math.max(z,A),Y=Math.min(z,A),t=cs.kt,p=t.dt(s),f,a,D,c=S[0]instanceof ArrayBuffer;
if(c){f="data:image/jpg;base64,"+fP.NI(S[0]);a=S[1];D=S[2]}else{var J=Math.floor(p*S.length),Z=S[J];
s.r2=Z;f=Z.webformatURL;a=Z.webformatWidth;D=Z.webformatHeight}var Q=N[0],M=N[1],u=z,P=A;if(z/A>a/D){P=u*D/a;
M=M-(P-A)/2}else{u=P*a/D;Q=Q-(u-z)/2}if(c){r.push("<defs>");r.push("<image width=\""+a+"\" height=\""+D+"\" id=\"Background\" href=\""+f+"\" />");
r.push("</defs>");var m=u/a;r.push("<use href=\"#Background\" transform=\""+cs.tS(new gF(m,0,0,m,Q,M))+"\" />")}else{var i="cp"+Math.random();
r.push("<clipPath id=\""+i+"\">");r.push("<path style=\"fill: "+t.Bd(s.eO)+"\" d=\""+t.Rect(N[0],N[1],z,A)+"\" />");
r.push("</clipPath>");r.push("<image  clip-path=\"url(#"+i+")\" xlink:href=\""+f+"\" x=\""+Q+"\" y=\""+M+"\" width=\""+u+"\" height=\""+P+"\" />")}};
cs.kt.Xq=function(s,N,r,S,z,A,B){var Y=cs.kt;return"<text x=\""+N+"\" y=\""+r+"\" style=\"fill:"+Y.Bd(z)+"; font-size:"+S+"px; text-anchor:"+["start","middle","end"][A]+"; font-family:"+B[2]+";\"><tspan>"+s+"</tspan></text>"};
cs.kt.Oy=function(s,N,r,S,z){var A=cs.kt,B=[];for(var l=0;l<N.Ig.length;l++){B.push(S);if(s.apW){S=(l&1)==s.a83?{w:1,A:1,U:1}:B[0]}}z.push("<g id=\""+N.aM.split("-")[2]+":::\" style=\"transform: "+cs.tS(r)+";\" >");
for(var l=0;l<N.Ig.length;l++){var Y=N.Ig[l];S=B.pop();z.push("<path style=\"fill: "+(S?A.Bd(S):"#"+Y[0])+"\" d=\""+Typr.U.pathToSVG({crds:Y[1].v,cmds:Y[1].F})+"\" />")}z.push("</g>")};
cs.kt.a8N=function(s,N,r){var S=cs.kt,z=cs.kt.R3,A=[];for(var l=0;l<z.length;l++){var B=z[l],Y=B.aM.slice(0,4);
if(Y!="1001")continue;A.push(B)}var B=A[Math.floor(S.xS(s)*A.length)];if(S.xS(s)<.5)S.D(B,new gF(0,1,1,0,0,0));
var t=N[3]-N[1],p=N[2]-N[0],f=S.OH(B),a=.7*Math.min(p,t,.5*Math.max(p,t))/Math.max(f.G,f.n),D=new gF;
D.scale(a,a);if(S.xS(s)<.5){D.scale(1,-1);D.translate(0,t)}S.Oy(s,B,D,s.eO,r);D.rotate(Math.PI);D.translate(p,t);
S.Oy(s,B,D,s.eO,r)};cs.kt.avp=function(s){var N=cs.kt.R3,r=[];for(var l=0;l<N.length;l++){var S=N[l],z=S.aM.slice(0,4);
if(z=="0000"){r.push(S);continue}if(["1000","0100","0010","0001"].indexOf(z)==-1)continue;var A=z.indexOf("1");
if(S.aM[5]=="0"&&s==A&&A!=3)continue;r.push(S)}return r};cs.kt.bD=function(s,N,r,S,z,A,B){var Y=cs.kt.R3,t=cs.kt,p=[],u,P;
for(var l=0;l<Y.length;l++){var f=Y[l],a=f.aM.slice(0,4);if(["1110","1101","1011","0111"].indexOf(a)==-1)continue;
var D=a.indexOf("0")+2&3;if(f.aM[5]=="0")if(A==!0||N!=D&&!(N==1&&D==3))continue;p.push(f)}var c=B!=null?B:Math.floor(t.xS(s)*p.length),f=p[c],f=JSON.parse(JSON.stringify(f)),a=f.aM.slice(0,4),D=a.indexOf("0")+2&3;
if(D==3&&N==1)q.D(f,new gF(1,0,0,-1,0,1e3));var J=new gF;J.translate(-500,-500);J.rotate(-D*Math.PI/2);
J.translate(500,500);t.D(f,J);var Z=r[3]-r[1],Q=r[2]-r[0],M=t.OH(f);if(M.y<0){M.n+=M.y;M.y=0}if(M.y>0){M.n+=M.y;
M.y=0}if((N&1)==0){P=Z;u=Q}else{u=Z;P=Q}var m=Math.min(Math.min(.5+.5*t.xS(s))*Math.min(Q,Z),z)/M.n,i=Math.ceil(u/(1e3*m)),e=new gF,X=new gF;
X.scale(m,m);if(N==0||N==2){X.translate(-(Q/2),-(Z/2));X.rotate(-N*Math.PI/2);X.translate(Q/2+r[0],Z/2+r[1])}else{X.rotate(Math.PI/2);
X.scale(1,-1);X.translate(r[0],r[1]);if(N==1){X.scale(-1,1);X.translate(Q,0)}}S.push("<g id=\"Border-"+["top","right","bottom","left"][N]+":::\">");
for(var l=0;l<i;l++){var $=e.clone();$.concat(X);t.Oy(s,f,$,s.eO,S);e.translate(1e3-2,0)}S.push("</g>");
return c};cs.kt.Rect=function(s,N,r,S){return Typr.U.pathToSVG({crds:[s,N,s+r,N,s+r,N+S,s,N+S],cmds:["M","L","L","L","Z"]})};
cs.kt.a87=function(s,N,r,S,z){var A=[s,N,s+r,N,s+r,N+S,s,N+S];s+=z;N+=z;r-=2*z;S-=2*z;A.push(s,N,s,N+S,s+r,N+S,s+r,N);
return Typr.U.pathToSVG({crds:A,cmds:"M L L L Z M L L L Z".split(" ")})};cs.kt.a6u=function(s,N){var r=q.ak(s.w,s.A,s.U);
r.Yc=Math.max(.1,Math.min(.9,r.Yc+N));return q.Lw(r.JY,r.D7,r.Yc)};cs.kt.arQ=function(s,N){var r=q.ak(s.w,s.A,s.U);
r.JY+=N;return q.Lw(r.JY,r.D7,r.Yc)};cs.kt.a1K=function(s){var N=q.ak(s.w,s.A,s.U);N.Yc=1-N.Yc;return q.Lw(N.JY,N.D7,N.Yc)};
cs.kt.atS=function(s,N){var r=s.w-N.w,S=s.A-N.A,z=s.U-N.U;return Math.sqrt(r*r+S*S+z*z)};cs.kt.adI=function(s){var N=cs.kt;
return{w:N.xS(s),A:N.xS(s),U:N.xS(s)}};cs.kt.Bd=function(s){return CSS.xQ({w:s.w*255,A:s.A*255,U:s.U*255})};
cs.kt.OH=function(s){var N=s.Ig,r=new hq;for(var l=0;l<N.length;l++)r=r.Ms(q.g.OH(N[l][1].v));return r};
cs.kt.D=function(s,N){var r=s.Ig;for(var l=0;l<r.length;l++)q.g.D(r[l][1].v,N,r[l][1].v)};cs.kt.xS=function(s){s.afV++;
var N=s.afV&3;if(N==0)s.NE=cs.kt.fU(s.NE);var r=s.NE>>>8*N&255;return r*(.99999999/255)};cs.kt.dt=function(s){var N=cs.kt.fU(s.NE);
s.NE=cs.kt.fU(N);return N*(1/4294967295)};cs.kt.fU=function(s){s=(s^61^s>>>16)>>>0;s=s+(s<<3)>>>0;s=(s^s>>>4)>>>0;
s=s*668265261>>>0;s=(s^s>>>15)>>>0;return s};cs.kt.R3=[{aM:"0001-0-bird",Ig:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),v:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),v:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),v:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{aM:"0001-0-bird2",Ig:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),v:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),v:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),v:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),v:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),v:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),v:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{aM:"0000-1-flower",Ig:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),v:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{aM:"0000-1-flower",Ig:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),v:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{aM:"0000-1-flower",Ig:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),v:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{aM:"0000-1-flower",Ig:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{aM:"0000-1-flower",Ig:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),v:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),v:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{aM:"0000-0-hearts",Ig:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),v:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),v:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),v:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{aM:"0000-0-anchor",Ig:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),v:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{aM:"0000-1-leaf",Ig:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),v:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{aM:"0000-1-acorn",Ig:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),v:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),v:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{aM:"0000-0-skull",Ig:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),v:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{aM:"0000-0-ghost",Ig:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),v:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),v:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{aM:"1001-1-rose",Ig:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),v:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),v:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{aM:"1001-1-curls",Ig:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{aM:"0111-0-pines",Ig:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),v:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),v:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{aM:"0111-0-flowers",Ig:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),v:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{aM:"1101-1-confetti",Ig:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{aM:"1101-1-branch",Ig:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),v:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{aM:"1101-1-sticks",Ig:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{aM:"1101-1-dots",Ig:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],v:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{aM:"1101-1-strips",Ig:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],v:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{aM:"1101-1-circs",Ig:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),v:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),v:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],v:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{aM:"1101-1-squares",Ig:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),v:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),v:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],v:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{aM:"1101-0-christmas",Ig:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var bV={};bV.parse=function(s){var N=new Uint8Array(s),r=null;if(N[0]==80&&N[1]==75){var S=Date.now(),z=UZIP.parse(N.buffer),r=z["document.json"];
r=JSON.parse(U.uE(r,0,r.length));bV.cC(r,z)}else{var A=aC.parse(s);r=bV.oM(A[2][0][1])}return r};bV.cC=function(s,N){var r=typeof s;
if(r=="string"||r=="number"||r=="boolean")return s;if(s instanceof Array){for(var l=0;l<s.length;l++)s[l]=bV.cC(s[l],N);
return s}var S=s._class;if(S==null)return s;if(S=="MSJSONFileReference"){var z=s._ref;if(!1){}else if(N[z+".json"]!=null){var A=N[z+".json"],B=A.length;
for(var l=0;l<B;l++)if(A[l]==11||A[l]==3)A[l]=32;var Y=U.uE(A,0,B);s=JSON.parse(Y)}else if(N[z+".png"]!=null)return{key:z.split("/").pop(),bdata:N[z+".png"]};
else if(N[z+".jpg"]!=null)return{key:z.split("/").pop(),bdata:N[z+".jpg"]};else if(N[z+".pdf"]!=null)return{key:z.split("/").pop(),bdata:N[z+".pdf"]};
else if(N[z]!=null)return{key:z.split("/").pop(),bdata:N[z]};else{console.log(s,N);return}}else if(S=="MSAttributedString"){var Y=atob(s.archivedAttributedString._archive),t=Y.length-1,p=new Uint8Array(t);
for(var l=0;l<t;l++)p[l]=Y.charCodeAt(l);s.archivedAttributedString=bV.oM(p)}for(var f in s)s[f]=bV.cC(s[f],N);
return s};bV.hA=function(s,N,r,S){if(s instanceof Uint8Array)return null;if(S.indexOf(s)!=-1)return null;
S.push(s);if(s==N)return r;for(var z in s){r.push(z);var A=bV.hA(s[z],N,r,S);if(A){console.log(s,A);
throw"e"}r.pop()}};bV.oM=function(s){var N=a8.parse(s,0),r=N.$objects,S=new Uint8Array(r.length),z=bV.WH(r,S,N.$top.root);
for(var l=0;l<r.length;l++)if(S[l]==0&&l!=0){console.log(l,r[l]);bV.hA(z,l,[],[])}for(var l=0;l<r.length;
l++){var A=r[l];if(A._class&&(A._class=="bitmap"||A._class=="fill"&&A.fillType==4&&(A.image||A.imageSHA))){var B=A.image,Y=A.imageSHA,t=null,p=null;
if(B=="$null")B=null;if(Y=="$null")Y=null;if(B&&B.data){p=B.sha1["NS.bytes"];p=btoa(U.TX(p,0,p.length));
t=B.data instanceof Uint8Array?B.data:B.data["NS.bytes"]}else if(B==null&&Y==null){var f=hg.Pp("PNG").Bj([[q.m(4).buffer]],1,1);
t=new Uint8Array(f)}else{var a=(z.assets?z.assets.imageCollection:z.images).images;if(Y)p=Y instanceof Uint8Array?Y:Y["NS.bytes"];
else p=B.sha1["NS.bytes"];p=btoa(U.TX(p,0,p.length));var t=a[p].data;if(t["NS.bytes"])t=t["NS.bytes"]}t=new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.length));
delete A.imageSHA;A.image={key:p,bdata:t}}}return z};bV.aiD=function(s){return s.slice(0,11)=="MSImmutable"?"MS"+s.slice(11):s};
bV.WH=function(s,N,r){var S=s[r];if(N[r]==1){return S}N[r]=1;if(typeof S=="string")return S;if(typeof S=="number")return S;
if(typeof S=="boolean")return S;if(S instanceof Array)return S;if(S instanceof Uint8Array){return S}if(s[S.$class]==null){if(S.$class==null&&S["NS.data"]!=null)return S;
console.log(r,S);throw"e"}var z=s[S.$class],A=bV.aiD(z.$classname);N[S.$class]=1;S.$class=A;if(bV._s[A]){delete S.$class;
S._class=bV._s[A]}var B=bV.WH;if(A=="NSMutableArray"||A=="NSArray"){var Y=[];if(S["NS.objects"]!=null)for(var l=0;
l<S["NS.objects"].length;l++)Y.push(B(s,N,S["NS.objects"][l]));else for(var l=0;S["NS.object."+l]!=null;
l++)Y.push(B(s,N,S["NS.object."+l]));s[r]=Y;return Y}if(A=="NSDictionary"||A=="NSMutableDictionary"){var t={$class:A};
if(S["NS.keys"]!=null)for(var l=0;l<S["NS.keys"].length;l++){var p=B(s,N,S["NS.keys"][l]);if(p instanceof Uint8Array)p=btoa(bV.Fd.TX(p,0,p.length));
else if(typeof p!="string"&&typeof p!="number")p=btoa(bV.Fd.TX(p["NS.bytes"],0,p["NS.bytes"].length));
t[p]=B(s,N,S["NS.objects"][l])}else for(var l=0;S["NS.key."+l]!=null;l++){var p=B(s,N,S["NS.key."+l]);
if(p instanceof Uint8Array)p=btoa(bV.Fd.TX(p,0,p.length));else if(typeof p!="string"&&typeof p!="number")p=btoa(bV.Fd.TX(p["NS.bytes"],0,p["NS.bytes"].length));
t[p]=B(s,N,S["NS.object."+l])}for(var f in S)delete S[f];for(var f in t)S[f]=t[f];return S}if(A=="NSURL")return{$class:A,base:B(s,N,S["NS.base"]),relative:B(s,N,S["NS.relative"])};
if(bV.ajr.indexOf(A)!=-1){s[r]=B(s,N,S.array_do);return s[r]}if(S.do_objectID!=null)S.do_objectID=B(s,N,S.do_objectID);
if(bV.aop.indexOf(A)!=-1)return S;var a=bV.agE[A];if(a==null){console.log(s,S);throw"unknown class "+A}for(var l=0;
l<a.length;l++)if(S[a[l]]!=null)S[a[l]]=B(s,N,S[a[l]]);if(A=="MSTextLayer"){var D=S,c,J,Z,Q;if(D.attributedString)c=D.attributedString.archivedAttributedString;
else c=D.storage;Q=c.NSString;if(typeof Q!="string")Q=U.uE(Q["NS.bytes"],0,Q["NS.bytes"].length);if(c.NSAttributeInfo)J=c.NSAttributeInfo["NS.bytes"];
else{var M=Q.length,u=[];while(M>0){var P=Math.min(100,M);u.push(P,0);M-=P}J=new Uint8Array(u)}Z=c.NSAttributes instanceof Array?c.NSAttributes:[c.NSAttributes];
var m={$class:"NSAttributedString",NSString:Q,NSAttributes:Z};D.attributedString={_class:"MSAttributedString",archivedAttributedString:m};
m.NSAttributeInfo={$class:"NSMutableData","NS.data":J};delete D.storage}return S};bV.Fd={XF:function(s,N){return s[N+1]<<8|s[N]},l:function(s,N){return s[N+3]<<24|s[N+2]<<16|s[N+1]<<8|s[N]},TX:function(s,N,r){var S="";
for(var l=0;l<r;l++)S+=String.fromCharCode(s[N+l]);return S}};bV._s={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
bV.ajr=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
bV.aop="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
bV.agE={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var a8={};a8.parse=function(s,N){var r=U.TX(s,N,8);N+=8;var S=a8.parse.avO(s,s.length-31),z=[];if(S.Cw==1){var N=s.length-31-S.Cw*S.py;
for(var l=0;l<S.py;l++)z.push(s[N+l])}else if(S.Cw==2){var N=s.length-31-S.Cw*S.py;for(var l=0;l<S.py;
l++)z.push(U.XF(s,N+l*2))}else if(S.Cw==4){var N=s.length-31-S.Cw*S.py;for(var l=0;l<S.py;l++)z.push(U.l(s,N+l*4))}else{throw"e"}var A=a8.parse.WH(s,z,S.root,S);
return A};a8.parse.WH=function(s,N,r,S){var z=a8.Fd,A=S.atY,B=A==4?z.l:A==2?z.XF:z.a1W,Y=a8.parse,t=N[r],p=s[t],f=p>>4,a=p&15,c=null;
t+=1;if([4,5,6,10,12,13].indexOf(f)!=-1&&a==15){var D=Y.sn(s,t);t+=D.HW;a=D.h}if(!1){}else if(f==0)c=a==8?!1:a==9?!0:null;
else if(f==1)c=Y.sn(s,t-1).h;else if(f==2)c=1<<a==4?U.QP(s,t):U.bv(s,t);else if(f==3)c=U.bv(s,t);else if(f==4)c=new Uint8Array(s.buffer,t,a);
else if(f==5)c=U.TX(s,t,a);else if(f==6)c=U.xk(s,t,a);else if(f==8){c=0;for(var l=0;l<a+1;l++)c=c<<8|s[t+l]}else if(f==10){c=[];
for(var l=0;l<a;l++)c.push(Y.WH(s,N,B(s,t+A*l),S))}else if(f==12){c=[];for(var l=0;l<a;l++)c.push(Y.WH(s,N,B(s,t+A*l),S))}else if(f==13){c={};
for(var l=0;l<a;l++){var J=Y.WH(s,N,B(s,t+A*l),S),Z=Y.WH(s,N,B(s,t+A*(a+l)),S);c[J]=Z}}else throw"unknown mask "+f;
return c};a8.parse.sn=function(s,N){var r=1<<(s[N]&15),S=0;for(var l=0;l<r;l++)S=S<<8|s[N+1+l];return{h:S,HW:r+1}};
a8.parse.avO=function(s,N){var r={};N+=6;r.Cw=s[N];N++;r.atY=s[N];N++;N+=4;r.py=U.l(s,N);N+=4;N+=4;r.root=U.l(s,N);
N+=4;N+=4;r.avQ=U.l(s,N);N+=4;return r};a8.Fd={a1W:function(s,N){return s[N]},XF:function(s,N){return s[N]<<8|s[N+1]},l:function(s,N){return s[N]<<24|s[N+1]<<16|s[N+2]<<8|s[N+3]},TX:function(s,N,r){var S="";
for(var l=0;l<r;l++)S+=String.fromCharCode(s[N+l]);return S}};var aC={parse:function(s){var N=new Uint8Array(s),r=aC.yj(N),S=[],z=new Uint8Array(N.length),A=[];
S.push(A);aC.Hx(N,r,1,z,A);for(var l=0;l<A.length;l++){var B=[];S.push(B);aC.Hx(N,r,A[l][3],z,B);A[l][3]=l+1}return S},Hx:function(s,N,r,S,z){r--;
var A=r*N.HH+(r==0?100:0),B=s[A],Y=aC.XF(s,A+1);if(Y!=0)throw"free block in a page";var t=aC.XF(s,A+3),p=aC.XF(s,A+5);
if(p==0)p=65536;var f=s[A+7],a=aC.XF(s,A+8);if(B==2||B==5)A+=4;else a=0;for(var D=0;D<t;D++){var c=r*N.HH+aC.XF(s,A+8+2*D),J=-1,Z=0,Q=0,M=0;
if(B==2||B==5){J=aC.l(s,c);c+=4}if(B==2||B==10||B==13){Z=aC.hF(s,c);c+=Z.HW}if(B==5||B==13){Q=aC.hF(s,c);
c+=Q.HW}if(B==5){aC.Hx(s,N,J,S,z);continue}var u=N.HH-(r==0?100:0),P=Z.kc,m=B==13?u-35:Math.floor((u-12)*64/255)-23,i=Math.floor((u-12)*32/255)-23,e=i+(P-i)%(u-4);
if(P<=m){aC.r8(s,c,S,0,P)}else{var X=e<=m?e:i,$=0;aC.r8(s,c,S,0,X);$+=X;M=aC.l(s,c+X);while(M!=0){var O=(M-1)*N.HH;
M=aC.l(s,O);var T=Math.min(N.HH-4,P-$);aC.r8(s,O+4,S,$,T);$+=T}}z.push(aC.aaB(S,P))}},aaB:function(s,N){var r=0,S=aC.hF(s,r);
r+=S.HW;var z=[],A=[];while(r<S.kc){var B=aC.hF(s,r);r+=B.HW;z.push(B.kc)}if(r!=S.kc)throw"e";for(var l=0;
l<z.length;l++){var B=z[l];if(!1){}else if(B==0)A.push(null);else if(B==1){A.push(aC.akA(s,r));r+=1}else if(B==2){A.push(aC.AC(s,r));
r+=2}else if(B==3){A.push(aC.abw(s,r));r+=3}else if(B==4){A.push(aC.sn(s,r));r+=4}else if(B==7){A.push(aC.apI(s,r));
r+=16}else if(B==8)A.push(0);else if(B==9)A.push(1);else if(B>=12&&(B&1)==0){var Y=B-13>>1,t=new Uint8Array(Y);
aC.r8(s,r,t,0,Y);A.push(t);r+=Y}else if(B>=13&&(B&1)==1){var Y=B-12>>1;A.push(aC.uE(s,r,Y));r+=Y}else throw"unknonw type "+B}return A},yj:function(s){if(!(s[18]==1&&s[19]==1&&s[20]==0&&s[21]==64&&s[22]==32&&s[23]==32))throw"unexpected SQL3 header";
var N={vq:aC.TX(s,0,15),HH:aC.XF(s,16),a9x:aC.l(s,24),size:aC.l(s,28),aaJ:aC.l(s,32),aig:aC.l(s,36),amz:aC.l(s,40),ac8:aC.l(s,44),afp:aC.l(s,48),awr:aC.l(s,52),ah9:aC.l(s,56),aea:aC.l(s,60),a5x:aC.l(s,64)!=0,a6r:aC.l(s,68),ark:aC.l(s,92),anJ:aC.l(s,96)};
if(N.HH==1)N.HH=65536;if(N.ah9!=1)throw"unsupported text encoding "+N.ah9;return N},abd:function(s,N){return s[N]<<16|s[N+1]<<8|s[N+2]},abw:function(s,N){var r=aC.abd(s,N),S=r&8388608;
return S?-(16777215-r+1):r},akA:function(s,N){aC.Ck[0]=s[N];return aC.arL[0]},sn:function(s,N){var r=aC.Ck;
for(var l=0;l<4;l++)r[l]=s[N+3-l];return aC.aiw[0]},AC:function(s,N){var r=aC.Ck;r[0]=s[N+1];r[1]=s[N];
return aC.asw[0]},XF:function(s,N){return s[N]<<8|s[N+1]},l:function(s,N){return s[N]<<24|s[N+1]<<16|s[N+2]<<8|s[N+3]},apI:function(s,N){var r=aC.Ck;
for(var l=0;l<8;l++)r[l]=s[N+7-l];return aC.aku[0]},hF:function(s,N){var r=N,i3=0;while(!0){var S=s[N];
N++;i3=i3*128+(S&127);if(S<128)break}return{kc:i3,HW:N-r}},TX:function(s,N,r){var S="";for(var l=0;l<r;
l++)S+=String.fromCharCode(s[N+l]);return S},uE:function(s,N,r){var S="";for(var l=0;l<r;l++)S+="%"+aC.a41(s[N+l].toString(16));
return decodeURIComponent(S)},r8:function(s,N,r,S,z){if(s[N+z-1]==null||r[S+z-1]==null){console.log(N,S,z);
throw"e"}for(var l=0;l<z;l++)r[S+l]=s[N+l]},a41:function(i3){return i3.length<2?"0"+i3:i3}};aC.Ck=new Uint8Array(8);
aC.arL=new Int8Array(aC.Ck.buffer);aC.asw=new Int16Array(aC.Ck.buffer);aC.aiw=new Int32Array(aC.Ck.buffer);
aC.aku=new Float64Array(aC.Ck.buffer);function h3(s,N,r){this.Sw=s;this.jn=N;this.alN=r;this.Lj=new cR(0,0);
this.f1=-1;this.uS=0;this._K=0;this.Xw=new hq;this.mr=[];this.Yw=null;this.amu=null;this.aR=null;this.dU=null;
this.gv=null;this.aw3=null}h3.prototype.StartPage=function(s,N,r,S,z){var A=this.jn,B=A.S5(),Y=1,t=(r-s)*(S-N);
if(z!=null)t=z;while(t*B*B/(Y*Y)>2*8192*8192)Y++;A.scale(1/Y,1/Y);this.amu=[s,N,r,S];var Y=A.S5();s=Math.round(s*Y);
N=Math.round(N*Y);r=Math.round(r*Y);S=Math.round(S*Y);var p=this.Sw,f=this.aR;if(f==null){A.JC=-s}else{var a=f[2]-f[0]+30,D=Math.round(r-s)+30;
if(this.Lj.x+a+D>8192){A.JC=-s;this.Lj.x=0;this.Lj.y+=this._K+120;this._K=0}else{A.JC+=a;this.Lj.x+=a}}A.T3=this.Lj.y+(this.alN?S:-N);
this._K=Math.max(this._K,Math.round(S-N));this.aR=[s,N,r,S];p.p.push(p.YL())};h3.prototype.o_=function(){var s=this.Sw,N=s.p[s.p.length-1];
return N};h3.prototype.Gb=function(){var s=JSON.parse(JSON.stringify(jG.iJ.default));s.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
s.strokeEnabled.v=!1;s.fillEnabled.v=!1;return s};h3.prototype.Wk=function(){var s=this.Sw,N=s.tT();
N.lP("Path "+s.p.length);this.Sw.p.push(N);N.Vs|=16;N.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:0,A:0,U:0})}};
N.add.vmsk=new y.kL;N.add.vstk=this.Gb();return N};h3.prototype.Q6=function(s){var N={v:s.crds,F:s.cmds},r=q.g.m0(N,!1);
q.J.Yy(r,this.jn);return r};h3.akW=function(s,N){for(var l=0;l<s.length;l++)if(s[l].my!=null)s[l].my=N};
h3.adT=function(s){return Math.sqrt(Math.abs(s[0]*s[3]-s[1]*s[2]))};h3.or=function(s){return q.i.Sm({w:s[0]*255,A:s[1]*255,U:s[2]*255})};
h3.SB=function(s){return new gF(s[0],s[1],s[2],s[3],s[4],s[5])};h3.prototype.Stroke=function(s){if(this.f1!=-1&&this.f1!=this.uS)return;
if(s.pth.cmds.length<=1)return;var N=this.Q6(s.pth);if(N.length<=2)return;this.u8(s);h3.akW(N,-1);N[2].my=1;
var r=h3.or(s.COLR),S=this.o_(),z=this.Gb();h3.qE(z,s,this.jn.S5(),r);var A=S!=null&&S.add.vmsk!=null&&!S.Ob(),B=A&&!S.add.vstk.strokeEnabled.v&&y.kL.a72(S.add.vmsk._,N,!0),Y=A&&!S.add.vstk.fillEnabled.v&&JSON.stringify(z)==JSON.stringify(S.add.vstk);
if(Y){S.add.vmsk._=S.add.vmsk._.concat(N.slice(2))}else if(B){S.add.vstk=z;z.fillEnabled.v=!0}else{S=this.Wk();
S.add.vmsk._=N;S.add.vstk=z}};h3.qE=function(s,N,r,S){s.strokeEnabled.v=!0;s.strokeStyleMiterLimit.v=N.mlimit;
s.strokeStyleLineDashSet.v=hC.Pm(N.dash,1/N.lwidth);s.strokeStyleLineDashOffset.v.val=N.doff;s.strokeStyleLineJoinType.v.strokeStyleLineJoinType=jG.iJ.join[N.ljoin];
s.strokeStyleLineCapType.v.strokeStyleLineCapType=jG.iJ.VZ[N.lcap];s.strokeStyleLineWidth.v.val=Math.max(.4,N.lwidth*h3.adT(N.ctm)*r);
s.strokeStyleContent.v.Clr.v=S};h3.prototype.Fill=function(s,N){if(this.f1!=-1&&this.f1!=this.uS)return;
if(s.ca==0)return;var r=s.pth.cmds;if(r.length==0)return;if(r.length==2&&JSON.stringify(r)=="[\"M\",\"L\"]")return;
var S=q.g.OH(s.pth.crds),z=q.g.OH(s.cpth.crds);if(S.PS(z).Nf())return;var A=s.pth,B=UDOC.G.isBox(A,[S.x,S.y,S.x+S.G,S.y+S.n]),Y=s.cpth,t=UDOC.G.isBox(Y,[z.x,z.y,z.x+z.G,z.y+z.n]);
if(B&&t&&S.$()>z.$()*2){var p=S.PS(z),f=p.x,a=p.y,D=f+p.G,c=a+p.n;A={cmds:["M","L","L","L","Z"],crds:[f,a,D,a,D,c,f,c]};
S=p}else if(this.dU==null&&UDOC.G.isBox(A,[S.x,S.y,S.x+S.G,S.y+S.n])&&S.V9(z)){A=Y;S=z}else this.u8(s);
var J=this.Q6(A),Z=q.g.w2(S);q.g.D(Z.v,this.jn,Z.v);S=q.g.OH(Z.v);var Q=h3.d2(s.colr,this.jn,S),M=this.o_(),u=M!=null&&M.opacity==Math.round(255*s.ca)&&M.add.vstk!=null&&!M.add.vstk.strokeEnabled.v&&M.add.SoCo&&Q.type=="SoFi"&&JSON.stringify(M.add.SoCo.Clr.v)==JSON.stringify(Q.h.v.Clr.v);
if(u){var P=!1;for(var l=0;l<J.length;l++){if(J[l].my==0||J[l].my==2)P=!0}if(P){var m=q.g.OH(q.J.N6(M.add.vmsk._)),i=q.g.OH(q.J.N6(J));
u=m.PS(i).Nf()}}if(u){var e=M.add.vmsk._;for(var l=2;l<J.length;l++)e.push(J[l])}else{M=this.Wk();delete M.add.SoCo;
M.add.vmsk._=y.kL.AM(J);h3.xd(s.colr,M,this.jn,S);h3.oC(s,M)}};h3.xd=function(s,N,r,S){var z=h3.d2(s,r,S),A=null,B=null;
N.add.vstk.fillEnabled.v=!0;if(z.type=="SoFi"){A="SoCo";B=jG.IU}if(z.type=="GrFl"){A="GdFl";B=jG.$b}if(z.type=="patternFill"){A="PtFl";
B=jG.Ba}if(A!=null){N.add[A]={classID:"null"};for(var l=0;l<B.length;l++){var Y=B[l];N.add[A][Y]=z.h.v[Y]}}};
h3.prototype.u8=function(s){var N=this.Sw,r=s.cpth,S=r.cmds.join(""),z=r.crds,A=S+" "+z.join(","),B=UDOC.G.isBox(r,this.amu);
if(B&&this.dU==null)return;if(A==this.dU)return;this.Un();if(!B){this.dU=A;N.p.push(N.YL());var Y=N.tT();
Y.lP("Mask");Y.add.lsct=d9.vH;Y.M9="pass";Y.Vs=24;var t=Y.add.vmsk=new y.kL;t._=this.Q6(s.cpth);if(UDOC.G.isBox(r)){this.gv=q.J.Ql(t._);
this.gv.r6(3,3)}else this.gv=null;this.aw3=Y}};h3.prototype.Un=function(){var s=this.Sw;if(this.dU!=null){var N=s.p.length-1,l=N,r=!1;
while(l>=0&&s.p[l].add.lsct!=d9.KS)l--;var S=this.gv;if(S){var z=new hq,A=N;while(A>l){z=s.p[A].jD(this.Sw,!1,!0);
A--}r=S.V9(z)}if(r){this.mr.splice(l,1);s.p.splice(l,1)}else{s.p.push(this.aw3)}this.dU=null}};h3.d2=function(s,N,r){var S,z;
if(s.length!=null){S="SoFi";var A=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);z={t:"Objc",v:A};z.v.Clr.v=h3.or(s)}else{var B=h3.ar6(s,N,r);
S="GrFl";z={t:"Objc",v:B}}return{type:S,h:z}};h3.ar6=function(s,N,r){var S=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),z=S.Grad.v;
z.Intr.v=0;var A=h3.SB(s.mat);A.concat(N);var B=new cR(0,0),Y=new cR(r.G,0),t=s.crds;if(s.typ=="rad"){S.Type.v.GrdT="Rdl";
var p=.7;B.x=(1-p)*t[0]+p*t[3];B.y=(1-p)*t[1]+p*t[4];Y.x=B.x;Y.y=B.y;Y.x+=Math.max(t[2],t[5])}else{S.Type.v.GrdT="Lnr";
B.x=t[0];B.y=t[1];Y.x=t[2];Y.y=t[3];B.x=Y.x+.5*(B.x-Y.x);B.y=Y.y+.5*(B.y-Y.y)}B=A.aK(B);Y=A.aK(Y);q.i.Nh(B,Y,r,S);
var f=s.grad;q.i.UO(f,z);return S};h3.prototype.PutText=function(s,N,r,S){var z=N.charCodeAt(0),D=null;
if(this.f1!=-1&&this.f1!=this.uS)return;if(N.length==0||N.length==1&&(z==0||z==8203))return;this.u8(s);
var A=this.Sw,B=s.font,Y=h3.SB(s.ctm);Y.concat(this.jn);var t=h3.SB(B.Tm);t.concat(Y);var p=K.S.S5(t),f=new gF(1/p,0,0,-1/p,0,0);
f.concat(t);var a=B.Tfs*p,c=A.p.length-1;while(c>=0&&A.p[c].add.TySh==null)c--;if(f.U*f.U+f.K1*f.K1<.001&&S==null&&c>=0&&A.p[c].add.TySh&&A.p[c].opacity==Math.round(255*s.ca)){var J=A.p[c],Z=this.mr[c],Q=J.add.TySh.D,M=(Q.JC+Z.jr-f.JC)/a,u=Math.abs(M),P=N.indexOf(" ")==-1,m=Q.aC==f.aC&&Q.U==f.U&&Q.K1==f.K1&&Q.dX==f.dX,i=m&&Math.abs(Z.VW-f.T3)<1e-5&&u<.6,e=f.T3-Z.VW;
if(i){D=J;Z.jr=f.JC-Q.JC;if(M>.2&&P&&[".",",","?",":","!"].indexOf(N)==-1)N=" "+N}else if(m&&Math.abs(f.JC-Q.JC)<1e-5&&0<e&&e<a*1.7&&Z.alI==a){D=J;
this.IS(Z);Z.VW=f.T3;N="\n"+N}}if(D==null){c=A.p.length;this.mr[c]={Wz:[],jr:0,VW:f.T3,hI:"",alI:a};
D=A.tT();A.p.push(D);D.add.lnsr="rend";D.add.TySh=en.iE(0,0);D.add.TySh.D=f}var Z=this.mr[c];Z.jr+=r*a;
Z.hI+=N;var X=D.add.TySh.pg,$=en.RS(X);if(S){en.WR(X,1);var O=[0,0,Math.ceil(S[0]*p),Math.ceil(S[1]*p)];
en.EU(X,O)}var T=$.length-1,b=T+N.length;en.Bx(X,T,N);if(this.Yw==null)this.Yw=en.hM(X,T,T);var R=this.Yw;
R.GN.FontSize=Math.round(a);R.GN.Tracking=Math.round(B.Tc*100);R.GN.Underline=B.Tun==1;R.GN.FillColor={Type:1,Values:[1,s.colr[0],s.colr[1],s.colr[2]]};
if(B.Tal!=null)R.M7.Justification=B.Tal;if(Z.Wz.length!=0){R.GN.AutoLeading=!1;R.GN.Leading=Z.VW-Z.Wz[Z.Wz.length-1].y}var w=B.Tf;
w=w.replace(/#2B/g,"+");w=w.replace(/#2C/g,"-");w=w.split("+").pop();var F={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(F[w])w=F[w];en._E(R,w);en.Z6(X,T,b-1,R);D.Gk();D.opacity=Math.round(255*s.ca)};h3.prototype.IS=function(s){s.Wz.push({s7:s.jr,BO:s.hI.slice(s.Wz.length==0?0:1)+"\n",y:s.VW,D7:s.alI});
s.jr=0;s.hI=""};h3.prototype.nL=function(s,N,r){return new Uint8Array(hg.Pp("PNG").Bj([[s.buffer,0]],N,r))};
h3.prototype.PutImage=function(s,N,r,S,z,A,B){if(this.f1!=-1&&this.f1!=this.uS)return;var Y=this.Sw,t=s.font.Tmode;
if(t==7&&Y.p[Y.p.length-1].add.TySh){return}this.u8(s);var p=h3.SB(s.ctm);p.concat(this.jn);var f=new gF(1/r,0,0,-1/S,0,1);
f.concat(p);p=f;N=h3.Yv(N,r,S,A,!1);if(z)z=h3.Yv(z,r,S,B,!0);if(z==null){if(N.length==r*S*4)N=this.nL(N,r,S)}else{N=this.Yj(N,r,S,A,!1);
z=this.Yj(z,r,S,B,!0);var a=q.m(r*S);q.WZ(z,a,0);q.XX(a,N,3);N=this.nL(N,r,S)}var D=Y.uo(N,"Bitmap",0,0),c=D.rect.clone();
c.x=c.y=0;var J=q.g.w2(c).v;q.g.D(J,p,J);D.add.SoLd.Trnf=K.S.Ua(J);D.add.SoLd.nonAffineTransform=K.S.Ua(J);
D.Vw(Y,!1);h3.oC(s,D);Y.p.push(D)};h3.oC=function(s,N){N.opacity=Math.round(255*s.ca);var r=h3.jh[s.bmode];
if(r==null)console.log("Unknown blend mode",r);else N.M9=r};h3.jh={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
h3.L6=function(s){for(var N in h3.jh)if(h3.jh[N]==s)return N};h3.Yv=function(s,N,r,S,z){var A=hg.yy(s.buffer);
if(A=="jpg"){try{s=new Uint8Array(hg.Pp("JPG").agf(s.buffer))}catch(eV){s=new Uint8Array(N*r*4)}}else if(A=="jb2"){s=new Uint8Array(hg.Pp("JPG").LG(s.buffer,S,z)[0].data)}else if(s.length!=N*r*4){var B=new Uint8Array(N*r*4),Y=Math.ceil(N/8),t=new Uint8Array(r*Y);
UTIF.decode._decodeG4(s,0,s.length,t,0,N,1);var p=t[0]==(z?255:0);for(var f=0;f<r;f++){var a=Y*f;for(var D=0;
D<N;D++){var l=f*N+D,c=l*4,J=(t[a+(D>>3)]>>7-(D&7)&1)*255;if(p)J=255-J;B[c]=J;B[c+1]=J;B[c+2]=J;B[c+3]=255}}s=B}return s};
h3.prototype.Yj=function(s,N,r,S,z){if(s.length!=N*r*4){var A=hg.yy(s.buffer);if(A=="jb2")throw"e";var B=hg.Pp(A);
if(B==null||A=="tga")B=hg.Pp("jpg");s=new Uint8Array(B.LG(s,S,z)[0].data)}return s};h3.prototype.ShowPage=function(){var s=this.Sw;
this.uS++;var N=this.aR;this.Un();var r=s.tT();s.p.push(r);var S=new hq(Math.round(this.Lj.x),Math.round(this.Lj.y),Math.round(N[2]-N[0]),Math.round(N[3]-N[1]));
if(S.Nf())S.G=S.n=2e3;this.Xw=this.Xw.Ms(S);r.S6(S);r.add.artb.artboardBackgroundType.v=1;r.lP("Page "+this.uS);
r.add.lsct=d9.vH;r.M9="pass";r.Vs=24};h3.prototype.Print=function(s){console.log("Print:",s)};h3.prototype.Done=function(){var s=this.Sw;
if(this.uS==1)s.p[s.p.length-1].add.lsct=d9.KK;s.a_(this.uS);for(var l=0;l<s.p.length;l++){var N=s.p[l],r=N.add.vmsk,S=N.add.TySh,z=this.mr[l];
N.dn();if(r){var A=!1;for(var B=0;B<r._.length;B++){var Y=r._[B];if((Y.type==0||Y.type==3)&&Y.length>32767)A=!0}if(A){s.p.splice(l,1);
l--;continue}}N.qB(s);if(S&&z.Wz.length!=0){this.IS(z);var t=S.pg,p=z.Wz.length,f=z.Wz[0],a=0,D=0;for(var B=0;
B<p;B++)a=Math.max(a,z.Wz[B].s7);en.WR(t,1);S.D.T3-=f.D7*.7;en.EU(t,[0,0,Math.ceil(a*1.1),Math.ceil(z.Wz[p-1].y-f.y+f.D7*2)])}if(S){var t=S.pg;
en.amM(t);var c=en.RS(t).split("\n");for(var B=0;B<c.length-1;B++){var J=c[B],Z=0;for(var Q=0;Q<J.length;
Q++){var M=J.charCodeAt(Q);if(1473<=M&&M<=1524)Z++}if(Z>J.length/2){c[B]=J.split("").reverse().join("");
var u=t.EngineDict.ParagraphRun.RunArray[B].ParagraphSheet.Properties;u._Direction=1;u.Justification=en.m$(u)}}en.hO(t,c.join("\n"))}}s.aH=!0;
s.G=this.Xw.G;s.n=this.Xw.n;s.buffer=q.m(this.Xw.$()*4)};var af={};af.vM=function(s,N,r,S,z,A){if(z==null)z=s.G;
if(A==null)A=s.n;var B=!1,Y=[s.root],t=s.root.children;if(s.add.artd){B=!0;for(var l=0;l<t.length;l++)if(t[l].j.add.artb==null)B=!1;
if(B)Y=t}var p=new hq(0,0,s.G,s.n),f=N[0];f=f.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
f=f.split(" ");var a=[];for(var l=0;l<f.length;l++){var D=f[l];if(D=="-"){var c=a.pop(),J=parseInt(f[l+1]);
while(c<J){a.push(c);c++}}else a.push(parseInt(D))}f=a;for(var l=0;l<f.length;l++)if(isNaN(f[l])||f[l]<1||f[l]>Y.length){f.splice(l,1);
l--}var Z=z/s.G,Q=A/s.n,M=Z*72/s.FD,u=Q*72/s.FD,P=N[5];if(P==null)P=0;var m=72*P,i=72*P;for(var e=0;
e<Y.length;e++){var l=e;if(N[2])l=Y.length-1-e;if(f.length!=0&&f.indexOf(l+1)==-1)continue;var X=Y[l],$=B?X.j.M5():p;
if(!X.j.ES())continue;var O=Math.round($.G*M+2*m),T=Math.round($.n*u+2*i);r.StartPage(0,0,O,T);var b=UDOC.getState([[0,0,O,T]]),R=new gF;
R.translate(-$.x,-$.y-$.n);R.scale(M,-u);R.translate(m,i);if(B){var w=X.j.add.artb,F=w.artboardBackgroundType.v;
if(F!=1&&F!=3){var L=X.j.ej(),x=m,g=i,n=x+$.G,h=g+$.n;b.colr=[(L>>>0&255)/255,(L>>>8&255)/255,(L>>>16&255)/255];
b.pth={cmds:["M","L","L","L","Z"],crds:[x,g,n,g,n,h,x,h]};r.Fill(b)}}if(N[3]){var _=s.r9();if(!p.nR($)){_=q.m($.$()*4);
q.LP(s.r9(),p,_,$)}if(N[1]!=100){var H=hg.Pp("JPG").Bj([[_.buffer]],$.G,$.n,[N[1]]);_=new Uint8Array(H)}var G=new gF;
G.translate($.x,$.y);af.Uk(b,r,_,$,G,R)}else{af.qt(s,X,b,r,R,N,S);if(m!=0){var x=m,g=i,n=x+$.G,h=g+$.n,j=n+m,v=h+m;
b.ca=1;b.colr=[1,1,1];b.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,v,j,v,j,0,x,g,n,g,n,h,x,h]};
r.Fill(b)}}r.ShowPage()}r.Done()};af.sl=function(s){s=q.i.iy(s);return[s.w/255,s.A/255,s.U/255]};af.qt=function(s,N,r,S,z,A,B){var Y=N.j,t=Y.add.lsct,p=Y.add.lmfx,f=Y.add.vmsk,a=Y.add.vstk,D=Y.add.TySh,Q,M;
if(!Y.ES())return;var c=Y.opacity/255,J=Y.add.iOpa!=null?Y.add.iOpa/255:1;r.bmode=h3.L6(Y.M9);r.ca=r.CA=c*J;
var Z=p;if(Z)Z=Z.solidFillMulti.v[0];if(Z)Z=Z.v;if(Z&&!Z.enab.v)Z=null;var u=Y.rect;if(Y.re()&&(!Y.Ob()||Y.Lo&&Y.Lo.DH)){if(Y.Ob){Q=Y.Lo.DH;
u=Y.Lo.akF}else{Q=q.m(Y.rect.$());q.WZ(Y.buffer,Q,3)}M=hC.mU(p,null,Q,u,s,u).type;var P=["DrSh","OrGl"];
if(J!=1||a&&!a.fillEnabled.v){var m=Q.slice(0);q.dm(m);for(var l=0;l<P.length;l++){var i=M[P[l]];for(var e=0;
e<i.length;e++){var X=i[e],$=X.zc.clone();$.x+=u.x;$.y+=u.y;q.Nc(m,u,X.sB,$)}}}}if(M)af.uL(Y,Q,u,M,r,S,z,A,!0);
if(Y.Ob()){for(var l=0;l<N.children.length;l++)af.qt(s,N.children[l],r,S,z,A,B)}else if(f&&Y.wu()&&Y.add.PtFl==null){var O=f._,T=q.J.Ql(O),b=!1;
if(a.fillEnabled.v){var R=hC.qi(p,Y.add),w=R[0],F=R[1];r.colr=af.g5(w?w:F,z,T);b=!0}var L=hC.qF(p);if(!a.strokeEnabled.v&&L)a=L;
var x=q.g.Zi(O,a.strokeEnabled.v),g=x.iO;q.g.D(g.v,z,g.v);r.pth={cmds:g.F,crds:g.v};af.A1(S,r,b,a,z,T,x.HM!=0)}else if(D&&A[4]){var n=D.pg,h=new aM(n,B),g=ey.Iu(h,D),_=q.g.sO(g),H=hC.qF(p);
for(var G in _){var j=parseInt(G.slice(1,7),16),v=0;r.colr=Z?af.sl(Z.Clr.v):af.DS(j);var C=_[G];q.g.D(C.v,z,C.v);
C=q.g.awP(C);r.pth={cmds:C.F,crds:C.v};var a=H;if(G.length>7){a=JSON.parse(JSON.stringify(jG.iJ.default));
var E=G.slice(7).split("-"),j=parseInt(E[1].slice(1),16),I=af.DS(j);a.strokeEnabled.v=!0;a.strokeStyleLineWidth.v.val=parseFloat(E[2]);
a.strokeStyleContent.v.Clr.v=Z?Z.Clr.v:q.i.Sm({w:I[0]*255,A:I[1]*255,U:I[2]*255});a.strokeStyleMiterLimit.v=parseFloat(E[2])}af.A1(S,r,!0,a,z,null,!1)}}else if(D){var n=JSON.parse(JSON.stringify(D.pg));
en.amM(n);var dJ=D.D.clone(),fG=new gF(1,0,0,-1,0,0);fG.concat(dJ);fG.concat(z);var o=en.RS(n),h=new aM(n,B);
for(var l=0;l<h.M7.length;l++){var i4=h.M7[l];if(i4.mm.length==1&&i4.mm[0].Ya)continue;for(var e=0;e<i4.Z1.length;
e++){var df=i4.Z1[e],eO=i4.l7.y+df.l7.y,cO=i4.mm[df.start].start,ej=i4.mm[df.end-1].end,cn=en.a2_(n,cO,ej);
for(var j5=0;j5<cn.length;j5++){var gP=h.QF(cO),bY=cn[j5],gR=en.hM(n,cO,cO),c3=gR.H4[gR.GN.Font].Name;
r.font.Tf=c3;var G=en.iy(gR.GN.FillColor);r.colr=Z?af.sl(Z.Clr.v):[G.w/255,G.A/255,G.U/255];var jj=r.font.Tfs=Math.round(gR.GN.FontSize),jC=o.slice(cO,cO+bY);
if(gR.GN.FontCaps==2)jC=jC.toUpperCase();var kf=new gF;kf.translate(gP.Ge.x,-eO);kf.concat(fG);r.ctm=[kf.aC,kf.U,kf.K1,kf.dX,kf.JC,kf.T3];
S.PutText(r,jC,0);for(var bz=0;bz<2;bz++){var iv=gR.GN[bz==0?"Strikethrough":"Underline"];if(!iv)continue;
var bI=h.QF(cO+bY-1),jo=bz==0?.27:-.2,iZ=jj*jo,jD=jj*(jo+.07),v=bI.Ge.x+bI.Ge.G-gP.Ge.x,dM=[0,iZ,v,iZ,v,jD,0,jD];
q.g.D(dM,kf,dM);r.pth={cmds:["M","L","L","L","Z"],crds:dM};S.Fill(r)}r.ctm=[1,0,0,1,0,0];cO+=bY}}}}else if(!Y.rect.Nf()){var ka,ds,ee=!1,a9=new gF,ir=Y.add.SoLd,eP=!0;
if(ir)eP=q.P.Zb(K.S.JS(ir.Trnf));if(ir&&eP){var jh=ir.Idnt.v,fy=s.Ue(jh,ir.Crop?ir.Crop.v:null),fi="";
if(fy==null)return;var eS=fy.t1,gz=hg.yy(fy.raw.buffer);if(A[6].indexOf(gz)!=-1){ka=fy.raw;ee=!0}else ka=eS[0];
ds=eS[1];a9=q.P.vY(ir)}else{ka=Y.buffer;ds=Y.rect;a9.translate(ds.x,ds.y)}if(Z&&!ee)ka=hC.arY(ka,Z,ds);
af.Uk(r,S,ka,ds,a9,z);if(Z&&ee){var dM=[0,0,ds.G,0,ds.G,ds.n,0,ds.n];q.g.D(dM,a9,dM);q.g.D(dM,z,dM);
var fw=JSON.parse(JSON.stringify(r));fw.ca=Z.Opct.v.val/100;fw.pth={cmds:["M","L","L","L","Z"],crds:dM};
fw.colr=af.sl(Z.Clr.v);S.Fill(fw)}}if(M)af.uL(Y,Q,u,M,r,S,z,A,!1)};af.A1=function(s,N,r,S,z,A,B){var Y=!1,t=0,p=0;
if(S&&S.strokeEnabled.v){var f=S.strokeStyleContent.v,a=S.strokeStyleLineDashSet.v;t=jG.iJ.qY.indexOf(S.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
N.COLR=af.g5(f,z,A);p=S.strokeStyleLineWidth.v.val*z.S5();N.mlimit=S.strokeStyleMiterLimit.v;N.doff=S.strokeStyleLineDashOffset.v.val;
N.ljoin=jG.iJ.join.indexOf(S.strokeStyleLineJoinType.v.strokeStyleLineJoinType);N.lcap=jG.iJ.VZ.indexOf(S.strokeStyleLineCapType.v.strokeStyleLineCapType);
N.dash=[];for(var l=0;l<a.length;l++)N.dash.push(a[l].v.val*N.lwidth);if(N.dash.length==1&&N.dash[0]==0)N.dash=[];
Y=!0}var D=t==2;if(r&&!D)s.Fill(N,B);if(Y){N.lwidth=p*(t==2?2:1);s.Stroke(N)}if(r&&D)s.Fill(N,B)};af.DS=function(s){return[(s>>>16&255)/255,(s>>>8&255)/255,(s&255)/255]};
af.g5=function(s,N,r){if(s.Clr)return af.sl(s.Clr.v);var S=s,z=S.Rvrs?S.Rvrs.v:!1,A=S.Type.v.GrdT,B=[],Y,t=A=="Rdl"||A=="Dmnd"?"rad":"lin",p=q.i.uD(S,r),f=N.aK(p[0]),a=N.aK(p[1]);
if(t=="rad")Y=[f.x,f.y,0,f.x,f.y,cR.iI(f,a)];else{f.i5(a.x+(f.x-a.x)*2,a.y+(f.y-a.y)*2);Y=[f.x,f.y,a.x,a.y]}var D=S.Grad.v.Clrs.v;
for(var l=0;l<D.length;l++){var c=D[l].v,J=c.Lctn.v/4096;B.push([z?1-J:J,af.sl(c.Clr.v)])}if(z)B.reverse();
return{typ:t,mat:[1,0,0,1,0,0],grad:B,crds:Y}};af.uL=function(s,N,r,S,z,A,B,Y,t){var p=r.clone(),f=N;
if(s.add.TySh&&!Y[3]&&!Y[4])return;var a=z.ca,D=z.bmode;for(var l=jG.order.length-1;l>=0;l--){var c=jG.order[l];
if(c=="GrFl"||c=="SoFi")continue;if((s.add.vmsk||s.add.TySh)&&c=="FrFX")continue;var J=S[c],Z=l>7||c=="FrFX";
if(Z!=t)continue;for(var Q=0;Q<J.length;Q++){var M=J[Q];if(M.zc==null)M=M.Cz?M.Cz:M.Qr;var u=M.zc.clone();
u.offset(p.x,p.y);if(!Z){if(!p.V9(u)){var P=p.Ms(u),m=q.m(P.$());q.lf(f,p,m,P);f=m;p=P}q.Nc(f,p,M.sB,u)}if(Z&&c=="FrFX"&&M.T2)q.Nc(M.T2,u,M.sB,u);
var i=new gF;i.translate(u.x,u.y);z.ca=M.UJ;z.bmode=h3.L6(M.hC);af.Uk(z,A,M.sB,u,i,B)}}z.ca=a;z.bmode=D};
af.Uk=function(s,N,r,S,z,A){var B=new gF;B.scale(S.G,-S.n);B.translate(0,S.n);B.concat(z);B.concat(A);
s.ctm=[B.aC,B.U,B.K1,B.dX,B.JC,B.T3];N.PutImage(s,r,S.G,S.n);s.ctm=[1,0,0,1,0,0]};var g6={};g6.j7=function(s){var N=new Uint8Array(s);
return g6.Or(N,0)};g6.Or=function(s,N){var r=U.l,S=U.TX,z={eq:S(s,N,4),u:N+8,size:r(s,N+4)},A=z.eq=="FORM"||z.eq=="LIST"||z.eq=="CAT ";
if(A)z.Mn=S(s,N+8,4);if(z.size<0||z.u+z.size>s.length)throw"e";if(A){z.sub=[];N+=12;var B=z.u+z.size;
while(N<B){var Y=g6.Or(s,N);z.sub.push(Y);N+=8+Y.size+(Y.size&1)}}return z};var dX={};dX.j7=function(s,N){var r=new Uint8Array(s);
return dX.Or(r,0,N)};dX.Or=function(s,N,r){var S=U.g2,z=U.TX,A={eq:z(s,N,4),u:N+8,size:S(s,N+4)};if(r&&r[A.size]!=null)A.size=r[A.size];
if(A.eq=="RIFF"||A.eq=="LIST"){A.Mn=z(s,N+8,4)}if(A.size<0||A.u+A.size>s.length)throw"e";if(A.eq=="RIFF"||A.eq=="LIST"&&(A.Mn!="cmpr"&&A.Mn!="stlt")){A.sub=[];
N+=12;var B=A.u+A.size;while(N<B){var Y=dX.Or(s,N,r);A.sub.push(Y);N+=8+Y.size+(Y.size&1)}}return A};
function ep(){}ep.j7=function(s,N){var r=new Uint8Array(s);N.aH=!0;var S=U.TX(r,0,2);if(S=="WL"){alert("Unsupported CDR version")}else{var z=ep.$d,A=dX.j7(r.buffer),B={data:r,u:0,mb:ep.a2w(r[11])},Y,t,J=300;
B.S0=B.mb<600?16:32;ep.uH(B,A.sub,N,0);if(z(A,"cmpr")==null){Y=z(A,"page");t=Y}else{var p=z(A,"cmpr").sub;
Y=p[0];t=p.slice(1)[1];var f=z(Y,"filt").sub,a=z(Y,"otlt").sub;Y.Uo={};for(var l=0;l<f.length;l++)Y.Uo[f[l].sub[0].h.id]=f[l].sub[0].h;
Y.zA={};for(var l=0;l<a.length;l++)Y.zA[a[l].h.id]=a[l].h}var D=z(Y,"mcfg").h,c=D.abK;J/=hQ.By(new hq(0,0,Math.round(c.x*J),Math.round(c.y*J)),8192*8192);
var Z=Math.round(c.x*J),Q=Math.round(c.y*J);N.G=Z;N.n=Q;N.buffer=q.m(N.G*N.n*4);var M=new gF(J,0,0,-J,c.x*J/2,c.y*J/2);
ep.aX(t,Y,N,M);N.a_(1);N.p[N.p.length-1].S6(new hq(0,0,Z,Q))}};ep.$d=function(s,N){var r=null;if(s.sub==null)return r;
for(var l=0;l<s.sub.length;l++){var S=s.sub[l];if(S.eq==N||S.Mn==N)r=S}return r};ep.aX=function(s,N,r,S){var z=ep.$d,A=s.Mn?s.Mn:s.eq,B=z(s,"lgob"),Y=z(s,"txsm"),t,p;
if(B){t=z(B,"trfl");p=z(B,"loda")}else if(z(s,"lobj"))p=z(s,"lobj");var f=t?t.sub[0].lO.clone():new gF;
f.concat(S);var a=r.tT();if(A=="page"||A=="layr"||A=="grp "){a.lP((A=="page"?"Page":"Group")+" "+r.p.length);
a.add.lsct=d9.KK;a.M9="pass";a.Vs=24;var D=[];if(A=="page")D=z(s,"gobj").sub;if(A=="layr")D=s.sub.slice(2);
if(A=="grp ")D=s.sub.slice(4);if(D.length==0)return;r.p.push(r.YL());for(var l=D.length-1;l>=0;l--)ep.aX(D[l],N,r,S)}else if(A=="obj "&&p.h&&p.h.path){a.lP("Object "+r.p.length);
var c,J;if(N.Uo){c=N.Uo[p.h.a10];J=N.zA[p.h.auj]}var Z=a.getName(),Q=c&&c.type!=0,M=Q&&c.h!=null?c.h:[0,0,0];
a.Vs|=16;a.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));var u=a.add.vstk;u.strokeEnabled.v=!1;
a.add.vmsk=new y.kL;if(J&&J.a6R!=1){u.strokeEnabled.v=!0;u.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
u.strokeStyleLineWidth.v.val=J.lineWidth*S.S5();var P=J.color;u.strokeStyleContent.v.Clr.v=q.i.Sm({w:P[0]*255,A:P[1]*255,U:P[2]*255})}var m=p.h.path;
a.add.vmsk._=q.g.m0(m,!1);q.J.Yy(a.add.vmsk._,f);h3.xd(M,a,f,q.J.Ql(a.add.vmsk._));u.fillEnabled.v=Q;
a.dn();a.qB(r)}else if(A=="obj "&&Y){var i=p.h.abv,e=p.h.afu,O="";a.add.TySh=en.iE(0,0);var X=f.S5();
a.add.TySh.D.translate(f.JC,f.T3);var $=a.add.TySh.pg,T=Y.h.i$;for(var l=0;l<T.length;l++){var b=T[l],R=O.length;
O+=b.text+"\n";en.Bx($,R,b.text+"\n");var w=ep.amZ(b.avB,N),F=en.hM($,R,O.length);if(w.align==3)F.M7.Justification=1;
else F.M7.Justification=0;var L=w.fill.h;F.GN.FillColor={Type:1,Values:[1,L[0],L[1],L[2]]};F.GN.FontSize=Math.round(w.a2Z.fontSize*f.S5());
en.Z6($,R,O.length-1,F)}if(e){en.WR($,0)}else{en.WR($,1);en.EU($,[0,0,Math.round(i.x*f.aC),Math.round(-i.y*f.dX)])}a.lP(O.slice(0,10))}else{a=null}if(a)r.p.push(a)};
ep.amZ=function(s,N){var r=ep.$d(N,"stlt").h,S=JSON.parse(JSON.stringify(r.DE[s]));if(S.Vt!=0){var z=r.DE[S.Vt];
for(var A in z)if(S[A]==null||S[A]==0)S[A]=z[A];delete S.Vt}S.align=r.aqd[S.a3m];S.fill=N.Uo[r.a0h[S.at2]];
S.a6D=N.zA[r.a8x[S.a5q]];S.a2Z=r.awI[S.aj_];return S};ep.a3K=function(l){var i3=l.data[l.u];l.u+=1;return i3};
ep.dM=function(l){var i3=U.ix(l.data,l.u);l.u+=2;return i3};ep._t=function(l){var i3=U.g2(l.data,l.u);
l.u+=4;return i3};ep.adw=function(l){var i3=U.g2(l.data,l.u);l.u+=8;return i3};ep.Q1=function(l){var i3=U.Mz(l.data,l.u);
l.u+=2;return i3};ep.an=function(l){var i3=U.mB(l.data,l.u);l.u+=4;return i3};ep.bv=function(l){var i3=U.T7(l.data,l.u);
l.u+=8;return i3};ep.tQ=function(l){if(l.u>=l.data.length)throw"e";var s=0;while(l.data[l.u+s]!=0)s++;
var N=U.TX(l.data,l.u,s);l.u+=s+1;return N};ep.aeK=function(s){if(s.mb<600)return Math.PI*ep.Q1(s)/1800;
return Math.PI*ep.an(s)/18e7};ep.a3Q=function(s){if(s.mb<1500)return ep.VU(s);else return ep.bv(s)/254e3};
ep.VU=function(s){if(s.mb<600)return ep.Q1(s)/1e3;else return ep.an(s)/254e3};ep.ab0=function(s){if(s.mb<600)return ep.dM(s);
else return ep._t(s)};ep.an0=function(s){if(s.mb<600)return CRDParser.Q1(s);else return ep.an(s)};ep.uH=function(s,N,r,S){var z=ep,A=z.a3K,B=z.dM,Y=z._t,t=z.adw,p=z.Q1,f=z.an,a=z.bv,D=z.VU,c=z.a3Q,J=z.aeK,Z=z.ab0,Q=z.an0;
for(var M=0;M<N.length;M++){var u=s.mb,P=N[M];s.u=P.u+(P.eq=="LIST"?4:0);if(P.eq=="vrsn"){var m=B(s);
s.mb=m;console.log("Version",m);s.S0=m<600?16:32}else if(P.eq=="DISP"){}else if(P.eq=="LIST"&&P.Mn=="cmpr"){var i=Y(s),e=Y(s),X=Y(s),$=Y(s),O=new Uint8Array(s.data.buffer,s.u+8+2,i-6-8),T=pako.inflateRaw(O),F=0;
s.u+=i;O=new Uint8Array(s.data.buffer,s.u+8+2);var b=pako.inflateRaw(O),R=[];for(var w=0;w<b.length;
w+=4)R.push(U.g2(b,w));P.sub=[];while(F<T.length){var L=dX.Or(T,F,R);F=L.u+L.size;P.sub.push(L)}var x={data:T,u:0,mb:u,S0:s.S0};
ep.uH(x,P.sub,r,S+1)}else if(P.eq=="LIST"&&P.Mn=="stlt"){var g=s.u,df=32;P.h={};var n=Y(s);if(n==0)return;
P.h.a0h=ep.Bl(s,u>=1300);P.h.a8x=ep.Bl(s);P.h.awI={};var h=Y(s);for(var l=0;l<h;l++){var _=Y(s);s.u+=u<1e3?12:20;
var H=B(s),G=B(s);s.u+=8;var j=D(s);s.u+=u<1e3?12:20;P.h.awI[_]={amX:H,a6z:G,fontSize:j}}P.h.aqd=ep.Bl(s);
var v=Y(s);s.u+=52*v;var C=Y(s);s.u+=152*C;var E=Y(s);s.u+=784*E;var I=Y(s);for(var l=0;l<I;l++){s.u+=40;
if(u>1300)s.u+=4;if(u>=1300){if(Y(s))s.u+=68;else s.u+=12}else{s.u+=20;if(u>=1e3)s.u+=8;if(Y(s))s.u+=8;
s.u+=8}}var dJ=Y(s);P.h.amY={};for(var l=0;l<dJ;l++){var fG=Y(s),o={};s.u+=12;o.right=D(s);o.a8E=D(s);
o.left=D(s);P.h.amY[fG]=o}var i4=Y(s);if(u>=1300)df+=4;s.u+=df*i4;var eO=Y(s);s.u+=28*eO;if(u>800){var cO=Y(s);
s.u+=12*cO}P.h.DE={};for(var l=0;l<n;l++){var ej=Y(s),cn=Y(s),j5={};j5.Vt=Y(s);s.u+=8;var gP=Y(s);if(u>=1200)gP*=2;
s.u+=gP;j5.at2=Y(s);j5.a5q=Y(s);if(ej>1){j5.aj_=Y(s);j5.a3m=Y(s);j5.a4j=Y(s);j5.aqv=Y(s);if(u>800)j5.akx=Y(s)}if(ej>2){j5.au8=Y(s);
j5.ati=Y(s);j5.a6T=Y(s);j5.agJ=Y(s);j5.asQ=Y(s)}P.h.DE[cn]=j5}}else if(P.eq=="LIST")ep.uH(s,P.sub,r,S+1);
else if(P.eq=="txsm"){P.h={};if(u<600)throw"e";if(u<700)throw"e";if(u>=1600)throw"e";if(u>=1500)s.u+=37;
else s.u+=36;if(Y(s)){if(u<800)s.u+=32}if(u<800)s.u+=4;P.h.a6S=Y(s);P.h.i$=[];s.u+=48;if(u>=800){if(Y(s)){s.u+=32;
if(u>=1300)s.u+=8}}if(u>=1500)s.u+=12;var ej=Y(s),bY=1,gR=!1;if(!ej){if(u>=800)s.u+=4;if(u>800)s.u+=2;
if(u>=1400)s.u+=2;s.u+=24;if(u<800)s.u+=8;bY=Y(s)}for(var w=0;w<bY;w++){var c3=Y(s),l=0;if(u>=1300&&ej)s.u++;
s.u++;var n=Y(s),jj=[];for(l=0;l<n;l++){var jC=A(s),bz=0;A(s);var kf=A(s);if(u>=800)bz=A(s);var j5={};
if(kf&1){j5.amX=B(s);var iv=B(s);if(iv)j5.awu=iv}if(kf&2)s.u+=4;if(kf&4)j5.ab8=D(s);if(kf&8)s.u+=4;if(kf&16)s.u+=4;
if(kf&32)s.u+=4;if(kf&64){j5.at2=Y(s);if(u>=1500)s.u+=48}if(kf&128){j5.a5q=Y(s)}if(bz&8){if(u>=1300){var bI=Y(s);
if(s.u+bI*2>=s.data.length){gR=!0;break}s.u+=bI*2}else s.u+=4}if(bz&32){var jo=A(s);if(jo)s.u+=52}if(jC==2)if(u>=1300)s.u+=48;
jj.push(j5)}if(gR){break}var iZ=Y(s);if(s.u+iZ*4>s.data.length)break;var jD=[];for(l=0;l<iZ;l++){var dM=0;
if(u>=1200)dM=t(s)&4294967295;else dM=Y(s);jD[l]=dM>>16|dM&1}var ka=iZ;if(u>=1200)ka=Y(s);var ds=ep.tQ(s);
P.h.i$.push({avB:c3,text:ds,DE:jj})}}else if(P.eq=="font"){var ee=B(s),a9=B(s);s.u+=14;var ir=ep.tQ(s);
P.h={id:ee,a3V:a9,name:ir}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(P.eq)!=-1){}else if(P.eq=="flgs")P.h=Y(s);
else if(P.eq=="bbox"){var eP=D(s),jh=D(s),fy=D(s),eS=D(s);P.h=new hq(eP,jh,fy-eP,eS-jh)}else if(P.eq=="fild"){var gz=Y(s),fi=0,ce;
if(u>=1300){s.u+=4;fi=B(s);s.u+=2}var fw=B(s);if(fw==0){}else if(fw==1){s.u+=u>=1300?13:2;ce=ep.JG(s)}else if(fw==2){s.u+=u>=1300?8:2;
var hl=A(s),ia=0;if(u>=1300){s.u+=17;ia=p(s)}else if(u>=600){s.u+=19;ia=f(s)}else{s.u+=11;ia=p(s)}var iQ=J(s),em=.5+Q(s),k4=.5+Q(s)-.5;
if(u>=600)s.u+=2;var ar=Z(s)&255,fg=A(s)/100;s.u++;var j0=Z(s)&65535;if(u>=1300)s.u+=3;var bU=[];for(var l=0;
l<j0;l++){var dn=ep.JG(s);if(u>=1300){if(fi==158||u>=1600&&fi==150)s.u+=26;else s.u+=5}var aJ=Z(s)/100;
if(u>=1300)s.u+=3;bU.push([aJ,dn])}ce={typ:hl==1?"lin":"rad",crds:[em-Math.cos(iQ)/2,k4-Math.sin(iQ)/2,em,k4],grad:bU,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",fw);
P.h={id:gz,type:fw,h:ce}}else if(P.eq=="outl"){var bE=Y(s);if(u>=1300){var ew=0,jy=0;while(ew!=1){s.u+=jy;
ew=Y(s);jy=Y(s)}}var eT=B(s),du=B(s),c_=B(s);if(u<1300&&u>=600)s.u+=2;var f9=D(s),bp=B(s)/100;if(u>=600)s.u+=2;
var aL=J(s);if(u>=1300)s.u+=46;else if(u>=600)s.u+=52;var ce=ep.JG(s,bE==270963208||bE==276198e3,bE);
P.h={id:bE,a6R:eT,ad3:du,ah8:c_,lineWidth:f9,color:ce}}else if(P.eq=="mcfg"){if(1300<=u)s.u+=12;else if(900<=u)s.u+=4;
else if(600<=u&&u<700)s.u+=28;var f8=0,aE=0;if(u<400){s.u+=2;var eP=D(s),jh=D(s),fy=D(s),eS=D(s);f8=Math.abs(fy-eP);
aE=Math.abs(eS-jh)}else{f8=D(s);aE=D(s)}P.h={abK:new cR(f8,aE)}}else if(P.eq=="loda"||P.eq=="lobj"){var g=s.u,be=Z(s),jK=Z(s),ad=Z(s),iF=Z(s),c0=Z(s),hE=[],hJ=[];
s.u=g+ad;for(var l=0;l<jK;l++)hE[l]=Z(s);s.u=g+iF;for(var l=jK-1;l>=0;l--)hJ[l]=Z(s);P.h={};for(var l=0;
l<jK;l++){s.u=g+hE[l];var cZ=hJ[l];if(cZ==10)P.h.auj=Y(s);else if(cZ==20)P.h.a10=Y(s);else if(cZ==200)P.h.a8U=Z(s);
else if(cZ==30){if(u<400)c0--;if(c0==1){var eP=c(s),jh=c(s),dS=0,gh=0,ih=0,d4=0;if(u<1500){d4=c(s);ih=u<900?d4:c(s);
gh=u<900?d4:c(s);dS=u<900?d4:c(s)}else throw"e";P.h.path=q.g.Xl(q.J.kt.Rect(0,0,eP,jh,dS))}else if(c0==2){var a3=D(s),bT=D(s),dP=J(s),i2=J(s),eF=Math.abs(a3),hp=Math.abs(bT);
P.h.path=q.g.Xl(q.J.kt.q3(0,0,eF,-hp))}else if(c0==3){P.h.path=ep.age(s)}else if(c0==4){P.h.afu=ep.a2y(s)}else if(c0==6){P.h.abv=ep.a52(s)}else if(c0==37){P.h.path=ep.$E(s)}else console.log(c0)}}}else if(P.eq=="trfd"){var g=s.u,be=Z(s),jK=Z(s),ad=Z(s);
s.u=g+ad;var hE=[];for(var l=0;l<jK;l++)hE[l]=Z(s);for(var l=0;l<jK;l++){s.u=g+hE[l];if(u>=1300)s.u+=8;
var dt=B(s);if(dt==8){var iw,cP,eP,f0,fQ,jh;if(u>=600)s.u+=6;if(u>=500){iw=a(s);cP=a(s);eP=a(s)/(u<600?1e3:254e3);
f0=a(s);fQ=a(s);jh=a(s)/(u<600?1e3:254e3)}else throw"e";P.lO=new gF(iw,f0,cP,fQ,eP,jh)}else console.log(dt)}}else if(!1){console.log(P);
var gL=Math.min(P.size,32);console.log(U.M2(data,P.u,gL));console.log(U.abx(data,P.u,gL))}}};ep.Bl=function(s,N){var r=ep._t,S={},z=r(s);
for(var l=0;l<z;l++){var A=r(s);s.u+=4;var B=r(s);S[A]=B;if(N)s.u+=48}return S};ep.a2y=function(s){var N=ep,r=N.VU,S=r(s),z=r(s);
return new cR(S,z)};ep.a52=function(s){var N=ep,r=N.VU;s.u+=4;var S=r(s),z=r(s);return new cR(S,z)};
ep.$E=function(s){var N=ep,r=N._t,S=N.dM,z=N.VU;s.u+=4;var A=S(s)+S(s);s.u+=16;var B=ep.vn(s,A);return B};
ep.age=function(s){var N=ep.dM(s);s.u+=2;return ep.vn(s,N)};ep.vn=function(s,N){var r=ep,S=r.VU,z=s.mb<600?2:4,A=s.u,B={v:[],F:[]},Y=0,t=0,p=0;
for(var l=0;l<N;l++){var Y=S(s),t=S(s),f=s.data[A+N*z*2+l];if(!(f&64)&&!(f&128)){B.v.push(Y,t);B.F.push("M");
p+=2}else if(f&64&&!(f&128)){B.v.push(Y,t);B.F.push("L");p+=2}else if(!(f&64)&&f&128){B.v.push(Y,t);
B.F.push("C");p+=6}else if(f&64&&f&128){B.v.push(Y,t)}}if(p!=B.v.length)throw"e";return B};ep.a9r=function(s,N){var r=U.g2;
N+=8;var S=r(s,N);N+=4;var z=r(s,N);N+=4;N+=4*7;var A=N,B=q.m(S*z*4);N+=1024;for(var Y=0;Y<z;Y++)for(var t=0;
t<S;t++){var l=Y*S+t,p=(z-Y-1)*S+t,f=s[N+l]<<2,a=p<<2;B[a+0]=s[A+f+2];B[a+1]=s[A+f+1];B[a+2]=s[A+f+0];
B[a+3]=255}return{sB:B,rect:new hq(0,0,S,z)}};ep.a2w=function(s){if(s==32)return 300;else if(s<49)return 0;
else if(s<58)return 100*(s-48);else if(s<65)return 0;return 100*(s-55)};ep.JG=function(s,N,r){var S=ep.dM,z=ep._t,A=s.mb,B=0,Y=0;
if(A>=500){B=S(s);if(B==1&&A>=1300)B=25;if(B==25||B==30){var t=0;if(B==30){B=25;t=30}else{t=S(s);s.u+=4}var p=S(s),f=S(s)}else if(B==14)throw"e";
else{s.u+=6;Y=z(s)}}else throw"e";var a=[];if(B==2||B==9||B==17){var D=[Y>>>0&255,Y>>>8&255,Y>>>16&255,Y>>>24&255];
if(B==2)for(var l=0;l<4;l++)D[l]=Math.round(255*D[l]/100);for(var l=0;l<4;l++)D[l]/=255;a=UDOC.C.cmykToRgb(D)}else if(B==1||B==5){a=[Y>>>0&255,Y>>>8&255,Y>>>16&255];
for(var l=0;l<3;l++)a[l]=a[l]/255}else console.log("Unknown color model "+B,Y,Y.toString(16));return a};
var dK=function(){var s,N,r=new ArrayBuffer(4),S=new Uint8Array(r),z=new Uint32Array(r),A=new Float32Array(r);
function B(D,c){for(var J=0;J<D.length;J++)if(D[J][0]==c)return D[J]}function Y(){var D=0,c=0,J=0;do{J=s[N++];
D|=(J&127)<<c;c+=7}while(J&128&&c<35);return D>>>0}function t(D,c,J,Z,Q){s=D;N=c;var M=Z[0]=="mesg",u=Z[2],P={},m=1,i=M?1e9:u.length;
while(m<=i){var e=m;if(M){e=Y();if(e==0)break}var X=B(u,e),$=X[2],O=X[1]==1,T=O?Y():1,b=new Array(T);
if($==3){if(!O)throw"e";b=s.slice(N,N+T);N+=T}else for(var l=0;l<T;l++){var R;if(($&1)==1){if($==1)R=s[N++]==1;
else if($==3)R=s[N++];else if($==5){var w=Y();R=w&1?~(w>>>1):w>>>1}else if($==7)R=Y();else if($==9){if(s[N]==0){R=0;
N++}else{S[0]=s[N];S[1]=s[N+1];S[2]=s[N+2];S[3]=s[N+3];var F=z[0];z[0]=F<<23|F>>>9;R=A[0];N+=4}}else if($==11){var L=p(s,N);
R=L[0];N+=L[1]+1}else throw $}else{var x=J[$>>>1];if(x[0]=="enum"){var g=s[N++];if(g>127)throw"e";R=x[2][g]}else{var n=t(s,N,J,x,Q+1);
R=n[0];N=n[1]}}b[l]=R}P[X[3]]=O?b:b[0];m++}return[P,N]}function p(D,c){var J=c;while(D[J]!=0)J++;return[U.uE(D,c,J-c),J-c]}function f(D,c){var J=c;
while(D[J]!=0)J++;for(var l=c;l<J;l++)if(D[l]>127)throw"e";return U.TX(D,c,J-c)}function a(D){s=D;N=1;
var c=[];while(N<D.length){var J=N,Z=c.length,Q=f(D,N);N+=Q.length+1;var M=Y();if(M>2)throw"e";var u=Y(),P=[];
for(var l=0;l<u;l++){var m=f(D,N);N+=m.length+1;var i=Y(),e=Y(),X=Y();P.push(M==0?m:[X,e,i,m])}c.push([["enum","strc","mesg"][M],Q,P])}return c}return{a14:a,ab4:t}}();
function kc(){}kc.j7=function(s,N){var r=new Uint8Array(s),S=8,z=U.g2(r,S),p=0,x=0;S+=4;var A=[];while(S<r.length){var B=U.g2(r,S);
S+=4;var Y=r.slice(S,S+B);if(r[S]==137&&r[S+1]==80){}else Y=UZIP.inflateRaw(Y);A.push(Y);S+=B}var t=dK.a14(A[0]);
for(var l=0;l<t.length;l++)if(t[l][1]=="Message")p=l;var f=dK.ab4(A[1],0,t,t[p],0)[0],a={Dj:{},qD:{},avM:{}},D=f.nodeChanges;
for(var c=0;c<D.length;c++){var J=D[c],Z=J.guid;a.qD[Z.sessionID+","+Z.localID]=J}for(var c=0;c<D.length;
c++){var J=D[c],Z=J.parentIndex;if(Z){var Q=kc.xb(a.qD,Z.guid);if(Q.children==null)Q.children=[];Q.children.push(J)}}var M=D[0],u=M.children,P=new hq,m=[],i=[];
for(var Z=0;Z<u.length;Z++){var e=u[Z],X=e.children;if(e.name=="Internal Only Canvas"||X==null)continue;
var $=new hq;for(var l=0;l<X.length;l++){var O=X[l],T=O.transform,b=O.size;if(T.m00==1&&T.m10==0&&T.m01==0&&T.m11==1){var R=new hq(T.m02,T.m12,b.x,b.y);
$=$.Ms(R)}}var w=P.n==0?0:P.n+100,F=$.clone();F.x=0;F.y=w;P=P.Ms(F);m[Z]=$;i[Z]=w}var L=hQ.By(new hq(0,0,P.G,P.n),8192*8192);
N.G=Math.round(P.G/L);N.n=Math.round(P.n/L);N.buffer=q.m(N.G*N.n*4);for(var Z=0;Z<u.length;Z++){var e=u[Z],X=e.children;
if(e.name=="Internal Only Canvas"||X==null)continue;X.sort(kc.WP);var g=new gF(1,0,0,1,-m[Z].x,i[Z]-m[Z].y);
g.scale(1/L,1/L);for(var l=0;l<X.length;l++){var O=X[l];kc.aX(O,[],g,f.blobs,N,0,a);x++}}N.a_(x);N.aH=!0;
if(L!=1)alert("File scaled down "+L+"x")};kc.aX=function(s,N,r,S,z,A,B){var Y=kc,T=!1,b,R,L,x,g;N=JSON.parse(JSON.stringify(N));
var t=s.overrideKey?s.overrideKey:s.guid;for(var l=0;l<N.length;l++){var p=N[l],f=p.guidPath.guids;if(Y.aeF(f[0],t)){if(f.length==1){var a={};
for(var D in s)a[D]=p[D]!=null?p[D]:s[D];s=a}else p.guidPath.guids=f.slice(1)}}var c=s.type,J=s.children,Z=s.size,Q=s.effects,M=z.tT();
M.lP(s.name);M.pQ(s.visible);M.opacity=Math.round(s.opacity*255);var u=Y.U2(s.transform),P=u.clone();
P.concat(r);var m=new hq(Math.round(P.JC),Math.round(P.T3),Math.round(Z.x*P.S5()),Math.round(Z.y*P.S5()));
if(m.G==0||isNaN(m.G))m.G=100;if(m.n==0||isNaN(m.n))m.n=100;var i=s.fillPaints,e=s.inheritFillStyleID;
if(e){var a=Y.xb(B.qD,e);if(a)i=a.fillPaints}if(i==null)i=[];var i=Y.gB(i),X=i[0],$=s.strokePaints,e=s.inheritFillStyleIDForStroke;
if(e){var a=Y.xb(B.qD,e);if(a)$=a.fillPaints}if($==null)$=[];var $=Y.gB($),O="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(c)!=-1;
if(O||c=="FRAME"){b=new y.kL;R=[];Y.Yi(s,S,b,R);T=q.J.TJ(b._);q.J.Yy(b._,P);var w=q.g.i2(q.J.Ql(b._));
if(!w.Nf())m=w;if(B.Dj.W3&&X){var F=y.kL.AM(B.Dj.W3._);for(var l=2;l<F.length;l++)if(F[l].my!=null)F[l].my=3;
b._=b._.concat(F.slice(2));R=R.concat(JSON.parse(JSON.stringify(B.Dj.O6)))}}if(X&&X.type=="IMAGE"){g=X.imageScaleMode;
L=Y.r9(S,X.image.dataBlob);var n=L.zC.G/L.zC.n,h=Z.x/Z.y;x=Math.abs(n-h)}if(c=="FRAME"){}else if(O&&T&&L&&(g=="FIT"||g=="FILL"&&x<=.05)){var _=S[X.image.dataBlob].bytes,H=z.uo(_,M.getName(),0,0);
H.Vs=M.Vs;H.opacity=M.opacity;M=H;var G=new hq(0,0,Z.x,Z.y);if(g=="FIT"){var j=L.zC.G,v=L.zC.n,C=Math.min(Z.x/j,Z.y/v),E=j*C,I=v*C;
G=new hq(G.x+(G.G-E)/2,G.y+(G.n-I)/2,E,I)}var dJ=q.g.w2(G).v;q.g.D(dJ,P,dJ);M.add.SoLd.Trnf=K.S.Ua(dJ);
M.add.SoLd.nonAffineTransform=K.S.Ua(dJ);var fG=[],Q=s.effects,o=X.paintFilter;if(Q)for(var l=0;l<Q.length;
l++)if(Q[l].type=="FOREGROUND_BLUR"){var i4=Q[l],df=hT.O5("GsnB",{});fG.push(df);df.v.enab.v=i4.visible;
df.v.Fltr.v.Rds.v.val=i4.radius/2.4}if(o&&o.exposure!=0){var df=hT.O5("brit",{});fG.push(df);df.v.Fltr.v.Brgh.v=Math.round(o.exposure*160);
df.v.Fltr.v.useLegacy.v=!0}if(o&&o.vibrance!=0){var df=hT.O5("vibA",{});fG.push(df);console.log(df);
df.v.Fltr.v.Strt.v=Math.round(Math.round(o.vibrance*100))}if(fG.length!=0){M.add.SoLd.filterFX=hT.b8();
z.Zf({id:M.add.SoLd.placed.v,rect:new hq,buffer:q.m(1),B:new y.pk});M.add.SoLd.filterFX.v.filterFXList.v=fG}M.Vw(z,!1);
Y.cq(B,M,z)}else if(O){Y.Co(M,R,b,s,X,$,P,m,S,z,B);if(Q)for(var l=0;l<Q.length;l++){var i4=Q[l];if(i4.type!="FOREGROUND_BLUR")continue;
b.H0=i4.radius/2.4}M.qB(z)}else if(c=="TEXT"){var eO=s.textData,cO=eO.layoutSize,ej=["LEFT","RIGHT","CENTER"].indexOf(s.textAlignHorizontal);
M.add.lnsr="rend";M.add.TySh=en.iE(0,0);M.add.TySh.Kr=new hq(0,0,100,100);var cn=P.clone();M.add.TySh.D=cn;
var j5=M.add.TySh.pg,gP=eO.characters;if(s.textCase=="TITLE"){for(var l=0;l<gP.length;l++)if(l==0||gP[l-1]==" "){var bY=gP.slice(0,l),gR=gP.slice(l+1);
gP=bY+gP[l].toUpperCase()+gR}}gP=gP.replace(/\u2028/g,"\n");gP=gP.replace(/\u2029/g,"\n");gP=gP.replace(/\r\n/g," \n");
en.Bx(j5,0,gP);var c3=s.textAutoResize,jj=eO.baselines;if(c3=="WIDTH_AND_HEIGHT"){var jC=ej==0?0:ej==1?cO.x:cO.x/2,kf=jj?jj[0].position.y:0;
cn.translate(jC*P.S5(),kf*P.S5());en.WR(j5,0)}else if(c3=="HEIGHT"||c3=="NONE"||c3==null){var kf=jj?jj[0].position.y-s.fontSize*.7:0;
cn.translate(0,kf*P.S5());en.WR(j5,1);en.EU(j5,[0,0,Math.round(cO.x),Math.round((c3=="NONE"?1.8:1)*cO.y)])}else throw c3;
if(gP!=""){var bz=en.hM(j5,0,1);Y.iK(s,P,Z,bz,M,S,z,B);en.Z6(j5,0,gP.length,bz);var iv=eO.characterStyleIDs,bI=eO.styleOverrideTable;
if(iv){iv=iv.slice(0);for(var l=0;l<iv.length;l++)if(gP[l]=="\n")iv[l]=-l-1;var jo=[0],iZ=0,jD=0;for(var l=0;
l<iv.length;l++){jD++;var dM=iv[l];if(l==0||dM==iv[l-1]){}else{jo.push(jD-1,l);jD=1}}jo.push(jD);for(var l=0;
l<jo.length;l+=2){var ka=jo[l],ds=jo[l+1];if(gP[ka]=="\n")continue;var dM=iv[ka];if(dM!=0){var ee;for(var a9=0;
a9<bI.length;a9++)if(bI[a9].styleID==dM)ee=bI[a9];var bz=en.hM(j5,ka,ka+1);Y.iK(ee,P,Z,bz,M,S,z,B);en.Z6(j5,ka,ka+ds-1,bz)}}}}}else if(c=="SYMBOL"){}else if(c=="INSTANCE"){var ir=s.symbolData,eP=ir.symbolOverrides,a=Y.xb(B.qD,ir.symbolID);
if(a)J=a.children;else console.log(s.name,"symbol not found",ir.symbolID);N=N.slice(0);for(var l=0;l<eP.length;
l++)N.push(eP[l])}else console.log(c);if(!1){}else if(J&&!O){z.p.push(z.YL());var jh=!1,fy=A==0&&c!="SYMBOL"&&c!="INSTANCE";
if(fy){if(m.Nf())console.log(m);M.S6(m)}X=i[i.length-1];if(fy&&X&&X.type=="SOLID"){var eS=X.color;M.add.artb.artboardBackgroundType.v=4;
M.add.artb.Clr=Y.JG(eS)}else if((X||$[0])&&b){var gz=z.tT();gz.lP("Background");Y.Co(gz,R,b,s,X,$,P,m,S,z,B);
gz.qB(z);z.p.push(gz);jh=!0}J.sort(Y.WP);var fi=B.Dj;B.Dj={};for(var fw=0;fw<J.length;fw++)Y.aX(J[fw],N,P,S,z,A+1,B);
B.Dj=fi;M.add.lsct=!1?d9.KK:d9.vH;M.M9="pass";var ce=M.ES();M.Vs=24;M.pQ(ce);var hl=A!=0&&i.length!=0&&!s.frameMaskDisabled&&s.containerSupportsFillStrokeAndCorners;
if(!jh&&hl&&b){M.add.vmsk=b;M.add.vogk=R;M.qB(z)}else Y.cq(B,M,z);z.p.push(M)}else if(s.mask){if(b){B.Dj.W3=b;
B.Dj.O6=R}}else{var ia=[],bU=1;if(Q)for(var iQ=0;iQ<Q.length;iQ++){var i4=Q[iQ],em=i4.color,k4=i4.type,ar=["DROP_SHADOW","INNER_SHADOW"].indexOf(k4);
if(ar!=-1){var fg=["DrSh","IrSh"][ar],j0=JSON.parse(jG.FH[jG.order.indexOf(fg)]);ia.push([fg,j0]);j0.enab.v=i4.visible;
j0.Md.v.BlnM=bm.Cu(Y.aiS(i4.blendMode));j0.Opct.v.val=Math.round(100*em.a);j0.blur.v.val=Math.round(i4.radius*P.S5());
j0.Clr=Y.JG(em);var jC=i4.offset.x,kf=i4.offset.y;j0.uglg.v=!1;j0.lagl.v.val=Math.round(180/Math.PI*Math.atan2(kf,-jC));
j0.Dstn.v.val=Math.round(Math.sqrt(jC*jC+kf*kf)*P.S5())}}if(c=="TEXT"&&i[0]&&i[0].type!="SOLID")bU=0;
for(var l=bU;l<i.length;l++){var dn=i[l],aJ=Y.aL(s,dn,P,m,S,z,B);if(aJ[0]=="GdFl")ia.push(["GrFl",aJ[1]]);
else if(aJ[0]=="SoCo")ia.push(["SoFi",aJ[1]]);else if(aJ[0]=="PtFl")ia.push(["patternFill",aJ[1]]);else throw aJ}if(!O)for(var l=0;
l<$.length;l++){var dn=$[l],aJ=Y.aL(s,dn,P,m,S,z,B);if(aJ[0]=="SoCo"){var j0=JSON.parse(jG.FH[jG.order.indexOf("FrFX")]);
ia.push(["FrFX",j0]);j0.enab=aJ[1].enab;j0.Opct=aJ[1].Opct;j0.Md=aJ[1].Md;j0.Clr=aJ[1].Clr;j0.Sz.v.val=s.strokeWeight}}if(ia.length!=0){var bE=JSON.parse(jG.default);
for(var l=0;l<jG.order.length;l++)bE[jG.Um[l]]={t:"VlLs",v:[]};for(var l=0;l<ia.length;l++){var ew=ia[l],fg=jG.Um[jG.order.indexOf(ew[0])];
bE[fg].v.unshift({t:"Objc",v:ew[1]})}if(J==null)M.add.lmfx=bE}z.p.push(M)}};kc.Co=function(s,N,r,S,z,A,B,Y,t,p,f){var a=kc;
s.Vs|=16;s.add.vogk=N;s.add.vmsk=r;var D=s.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default)),c=a.aL(S,z,B,Y,t,p,f);
if(c[0]=="None"){D.fillEnabled.v=!1;s.add.SoCo=c[1]}else{a.gq(c,s);s.add[c[0]]=c[1]}var c=a.aL(S,A[0],B,Y,t,p,f);
if(c[0]!="None"){var D=s.add.vstk;D.strokeEnabled.v=!0;D.strokeStyleLineWidth.v.val=S.strokeWeight*B.S5();
D.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jG.iJ.qY[["INSIDE","CENTER","OUTSIDE"].indexOf(S.strokeAlign)];
var J={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[c[0]],Z=["SoFi","GrFl","patternFill"].indexOf(J),Q=[jG.IU,jG.$b,jG.Ba][Z];
D.strokeStyleContent.v={classID:jG.iJ.Mn[0]};var M=S.dashPattern;if(M)D.strokeStyleLineDashSet.v=hC.Pm(M,1/S.strokeWeight);
var u=D.strokeStyleContent.v={classID:jG.iJ.Mn[Z]};for(var l=0;l<Q.length;l++)u[Q[l]]=c[1][Q[l]];if(!D.fillEnabled.v)a.gq(c,s)}};
kc.gq=function(s,N){var r=s[1].Opct.v.val;if(r!=100)N.opacity=Math.round(N.opacity/255*(r/100)*255)};
kc.WP=function(s,N){var r=s.parentIndex.position,S=N.parentIndex.position;return r>S?1:-1};kc.gB=function(s){for(var l=1;
l<s.length;l++){var N=s[l];if(N.type=="IMAGE"&&N.opacity==1){s=s.slice(l);break}}for(var l=0;l<s.length;
l++){var N=s[l],r=N.imageThumbnail;if(N.type=="IMAGE"&&(N.image==null||N.image.dataBlob==null)&&r&&r.dataBlob)N.image=r;
if(!N.visible||N.type=="IMAGE"&&N.image.dataBlob==null){s.splice(l,1);l--}}return s};kc.cq=function(s,N,r){if(s.Dj.W3){N.add.vmsk=s.Dj.W3.clone();
N.add.vogk=JSON.parse(JSON.stringify(s.Dj.O6));N.qB(r)}};kc.iK=function(s,N,r,S,z,A,B,Y){var t=s.fontSize,p=s.lineHeight,f=s.fontName,a=s.textAlignHorizontal,D=s.textTracking,c=s.textCase,J=s.textDecoration;
if(t==null)t=S.GN.FontSize;if(f)en._E(S,f.postscript);if(t!=null)S.GN.FontSize=Math.round(t);if(J=="UNDERLINE")S.GN.Underline=!0;
if(D)S.GN.Tracking=Math.round(D*1e3);if(c)S.GN.FontCaps=c=="UPPER"?2:0;if(p&&(p.units!="PERCENT"||p.value!=100)){if(t==null)t=15;
var Z=p.value;if(p.units=="PERCENT")Z=1*t*Z/100;if(p.units=="RAW")Z=1*t*Z;S.GN.AutoLeading=!1;S.GN.Leading=Math.round(Z)}if(a)S.M7.Justification=["LEFT","RIGHT","CENTER"].indexOf(a);
var Q=s.fillPaints,M=s.inheritFillStyleID;if(M){var u=kc.xb(Y.qD,M);if(u)Q=u.fillPaints}if(Q&&Q[0]){var P=kc.aL(s,Q[0],N,r,A,B,Y);
if(P[0]=="SoCo"){var m=q.i.iy(P[1].Clr.v);S.GN.FillColor={Type:1,Values:[1,m.w/255,m.A/255,m.U/255]};
kc.gq(P,z)}}};kc.aL=function(s,N,r,S,z,A,B){var Y=kc,t,p,f=s.size;if(N){var a=N.type,D=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(a);
if(a=="SOLID"){t="SoCo";var c=N.color;p=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);p.Clr=Y.JG(c)}else if(D!=-1){var J=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),Z=J.Grad.v;
Z.Intr.v=0;J.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][D];var Q=[],M=N.stops;for(var l=0;l<M.length;l++){var u=M[l],P=u.color;
Q.push([u.position,[P.r,P.g,P.b],P.a])}q.i.UO(Q,Z);var m=Y.U2(N.transform);m.dm();var i=m.clone();if(f)i.scale(f.x,f.y);
i.concat(r);var e=new cR(0,.5),X=new cR(1,.5);e=i.aK(e);X=i.aK(X);if(!0){e.x=X.x+.5*(e.x-X.x);e.y=X.y+.5*(e.y-X.y)}q.i.Nh(e,X,S,J);
if(D==3){if(i.aC*i.dX-i.U*i.K1<0)J.Rvrs.v=!J.Rvrs.v}t="GdFl";p=J}else if(a=="IMAGE"){var J=JSON.parse(jG.FH[jG.order.indexOf("patternFill")]),$=N.image.dataBlob,O=B.avM[$];
if(O==null){var T=Y.r9(z,$);O=B.avM[$]={};O.id=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f";O.yK=[new Uint8Array(T.data),T.zC];
O.name="someImage";A.zp(O)}var b=["FILL","FIT","STRETCH","TILE"].indexOf(N.imageScaleMode),m=Y.U2(N.transform);
m.dm();var R=b==3?N.scale:1;hC.a7k(O,J,f.x,f.y,b,r,m,R);t="PtFl";p=J}else throw a;if(p)p.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(N.opacity*100)}}}else{t="None";
p={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:0,A:0,U:0})}}}return[t,p]};kc.r9=function(s,N){var r=s[N];
if(r.rslt)return r.rslt;var S=r.bytes.buffer,z=hg.yy(S),A=hg.Pp(z);try{r.rslt=A.LG(S)[0]}catch(eV){r.rslt={data:q.m(4),zC:new hq(0,0,1,1)}}return r.rslt};
kc.Yi=function(s,N,r,S){var z=s.type,A=s.size,B=s.cornerRadius,a;if(B==null)B=0;var Y=q.O6.tC(),t=A.x,p=A.y,f=[B,B,B,B],D=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var l=0;l<4;l++)if(s[D[l]]!=null)f[l]=s[D[l]];if(z=="RECTANGLE"||z=="ROUNDED_RECTANGLE"||z=="FRAME"){a=q.J.kt.Rect(0,0,t,p,f)}else if(z=="ELLIPSE"){var c=s.arcData,J=c?c.startingAngle:0,Z=c?c.endingAngle:2*Math.PI,Q=c?c.innerRadius:0;
if(J==0&&Z>1.999*Math.PI)a=q.J.kt.q3(0,0,t,p,0);else a=q.J.kt.avk(t/2,p/2,p/2,J,Z);if(Q!=0&&Q!=1){var M=y.kL.AM(a).slice(3);
M.reverse();for(var l=0;l<M.length;l++){var u=M[l],P=u.hJ;u.hJ=u.De;u.De=P}var m=new gF;m.translate(-t/2,-p/2);
m.scale(Q,Q);m.translate(t/2,p/2);q.J.Yy(M,m);a=a.concat(M);a[2].length*=2}}else if(z=="LINE"){a=q.J.kt.Rect(0,0,t,p,0);
a.pop();a.pop();a[2].length=2}else if(z=="STAR"){a=q.J.kt.no(t/2,p/2,t/2,2*Math.PI*(1/4),5,0,s.starInnerScale)}else if(z=="REGULAR_POLYGON"){a=q.J.kt.xg(.5,.5,.5,Math.PI/2,s.count,0);
var i=new gF;i.scale(t,p);q.J.Yy(a,i)}else if(z=="BOOLEAN_OPERATION"){a=[{type:6},{type:8,all:0}];var e=s.children,X=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(s.booleanOperation);
if(X==-1)throw s;if(e==null)e=[];for(var l=0;l<e.length;l++){var $=e[l],O=new y.kL,T=[],b=kc.Yi($,N,O,T);
if(O._==null)continue;q.J.Yy(O._,kc.U2($.transform));a=a.concat(O._.slice(2));for(var R=0;R<T.length;
R++)S.push(T[R])}for(var l=3;l<a.length;l++)if(a[l].my!=null)a[l].my=X;Y=null}else if(z=="VECTOR"){var w,F,C=3;
if(!0){var L=s.vectorData;if(L==null)return;w=L.normalizedSize;F=L.vectorNetworkBlob}var x=N[F].bytes,g=new Uint32Array(x.buffer),n=new Float32Array(x.buffer),h=g[0],_=g[1],H=g[2],G=[],j=[],v=[],E=C+h*3,I=E+_*7;
for(var l=0;l<h;l++){var dJ=C+l*3,fG=new cR(n[dJ+1],n[dJ+2]);G.push(fG)}for(var l=0;l<_;l++){var o=E+l*7;
j.push([g[o+0],g[o+1],n[o+2],n[o+3],g[o+4],n[o+5],n[o+6]])}for(var l=0;l<H;l++){var i4=g[I+1],df=v[l]=[];
I+=2;for(var R=0;R<i4;R++){var eO=g[I++],cO=df[R]=[];for(var ej=0;ej<eO;ej++)cO[ej]=g[I+ej];I+=eO}}if(I!=g.length)throw"e";
if(H==0){var cn=-1;for(var l=0;l<_;l++){if(cn==-1){}else{var j5=-1;for(var R=l;R<_;R++)if(j[R][4]==cn)j5=R;
for(var R=l;R<_;R++)if(j[R][1]==cn)j5=R;if(j5!=-1){var gP=0,P=j[j5];j[j5]=j[l];j[l]=P;if(P[1]!=cn){gP=P[1];
P[1]=P[4];P[4]=gP;gP=P[2];P[2]=P[5];P[5]=gP;gP=P[3];P[3]=P[6];P[6]=gP}}}cn=j[l][4]}v.push([[]]);for(var l=0;
l<_;l++)v[0][0].push(l)}var bY=[],gR=[];for(var c3=0;c3<v.length;c3++){for(var jj=0;jj<v[c3].length;
jj++){var jC=v[c3][jj],kf=0;if(jC.length>1){var bz=j[jC[0]],iv=j[jC[1]];kf=bz[4]==iv[1]?1:0}for(var l=0;
l<jC.length;l++){var bI=j[jC[l]],jo=1,iZ=4;if(kf==0){jo=4;iZ=1}var jD=G[bI[jo]],dM=G[bI[iZ]];if(l==0){gR.push("M");
bY.push(jD.x,jD.y)}gR.push("C");bY.push(jD.x+bI[jo+1],jD.y+bI[jo+2],dM.x+bI[iZ+1],dM.y+bI[iZ+2],dM.x,dM.y)}}}a=q.g.m0({v:bY,F:gR},!1);
if(B!=0){var f=[],ka=a[2].length;for(var l=0;l<ka;l++)f.push(B);if(q.J.WW(a))q.J.Mi(a,2,f)}var ee=new gF;
ee.scale(w.x==0?1:A.x/w.x,w.y==0?1:A.y/w.y);q.J.Yy(a,ee)}r._=a;if(Y)S.push(Y)};kc.xb=function(s,N){return s[N.sessionID+","+N.localID]};
kc.aeF=function(s,N){return s.sessionID==N.sessionID&&s.localID==N.localID};kc.aiS=function(s){var N={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[s];
if(N==null)throw s;return N};kc.JG=function(s){return{t:"Objc",v:q.i.Sm({w:s.r*255,A:s.g*255,U:s.b*255})}};
kc.U2=function(s){var N=[s.m00,s.m10,s.m01,s.m11,s.m02,s.m12];for(var l=0;l<6;l++)if(Math.abs(N[l])<1e-20)N[l]=0;
return new gF(N[0],N[1],N[2],N[3],N[4],N[5])};function gj(){}gj.j7=function(){var s=U.TX;function N(c,J,Z,Q){var M=Q?[]:{};
while(J<c.length-1&&c[J]!=125){var u=s(c,J,3),P=s(c,J+3,1),m;J+=4;J++;if(P=="v"){var i=N(c,J,Z+1,u=="ELM"||u=="TIL");
m=i.h;J=i.u}else if(P=="i"||P=="f"){var e=J;while(c[e]!=125)e++;var X=s(c,J,e-J);m=P=="i"?parseInt(X,16):parseFloat(X);
J=e+1}else if(P=="s"){var $=U.XF(c,J),X="";J+=2;for(var l=0;l<$;l++)X+=String.fromCharCode(c[J+2*l+1]);
m=X;J=J+2*$+1}else if(P=="b"){m=c[J]==49;J=J+2}else throw"e";if(Q)M.push([u,m]);else if(M[u]==null)M[u]=m;
else{if(!(M[u]instanceof Array))M[u]=[M[u]];M[u].push(m)}}J++;return{h:M,u:J}}function r(c,J){var Z=S(c).slice(1),c=J.Clr.v;
c.Rd.v=Z[0]*255;c.Grn.v=Z[1]*255;c.Bl.v=Z[2]*255}function S(c){return[(c>>>24&255)/255,(c>>>16&255)/255,(c>>>8&255)/255,(c>>>0&255)/255]}function z(c,J){var Z=J&4278190080|(J&255)<<16|(J>>>8&255)<<8|J>>>16&255;
new Uint32Array(c.buffer).fill(Z)}function A(c,J){var Z=c.TSZ,Q=c.WPX,M=c.HPX,u=c.TIL,P=new hq(0,0,Q,M),m=q.m(Q*M*4),i=0;
for(var e=0;e<M;e+=Z)for(var X=0;X<Q;X+=Z){var $=new hq(X,e,Z,Z),O,T=u[i];if(T[0]=="TMC"){O=q.m($.$()*4);
z(O,T[1])}else if(T[0]=="TID"){O=J[T[1]]}q.LP(O,$,m,P);i++}return[m,P]}function B(c,J){c=new Uint8Array(c);
var Z=8,Q,M={},x=0;while(Z<c.length){var u=U.l(c,Z);Z+=4;var P=s(c,Z,4);Z+=4;if(P=="mkTS"){var m=pako.inflate(c.slice(Z,Z+u)),i=N(m,0,0);
Q=i.h}else if(P=="mkBT"){var e=U.l(c,Z+4),X=U.l(c,Z+8),m=pako.inflate(c.slice(Z+76,Z+u));if(X==0)for(var l=0;
l<m.length;l+=4){var $=m[l],O=m[l+1],T=m[l+2],b=m[l+3];m[l+3]=$;m[l+2]=b;m[l+1]=T;m[l]=O}else{var R=q.m(m.length*4);
R.fill(255);q._i(m,R);m=R}M[e]=m}Z+=u+4}var w=Q.PDC,F=w?w instanceof Array?w:[w]:[Q.MKB],L=new hq;for(var l=0;
l<F.length;l++){var g=F[l];L=L.Ms(new hq(0,x,g.WID,g.HIT));x+=g.HIT+100}J.G=L.G;J.n=L.n;J.buffer=q.m(L.$()*4);
J.a_(F.length);x=0;for(var n=0;n<F.length;n++){J.p.push(J.YL());var g=F[n],h=g.WID,_=g.HIT,H=g.BGC,G=(g.LYL?g:Q).LYL.LAY,C=3;
for(var l=0;l<G.length;l++)t(G[l],J,null,M,new gF(1,0,0,1,-g.XLC,-g.YLC+x));var j=J.tT();J.p.push(j);
var v=new hq(0,x,h,_);x+=_+100;j.S6(v);if(H>>>24!=0){var E=q.i.Sm({w:H>>>16&255,A:H>>>8&255,U:H>>>0&255});
j.add.artb.Clr={t:"Objc",v:E};C=4}j.add.artb.artboardBackgroundType.v=C;j.lP(g.PGN?g.PGN:"Page "+(n+1));
j.add.lsct=d9.vH;j.M9="pass";j.Vs=24}}function Y(c,J,Z){var Q=c[J];return Q instanceof Array?Q[Z]:Q}function t(c,J,Z,Q,M){var u=J.tT();
if(c.VIS!=null)u.pQ(c.VIS);if(c.VIF!=null)u.pQ(c.VIF.VIS);if(c.OPA!=null)u.opacity=Math.round(255*c.OPA/1e3);
u.M9=c.CLL||Z=="GRP"?"pass":"norm";if(c.BLD!=null){var P=c.BLD,m={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[P+""];
if(m==null)console.log(c.OBN,P);else u.M9=m;if(P==30)u.opacity>>>=1}if(c.CLL){u.lP(c.LNM);J.p.push(J.YL());
var i=c.CLL.CEL;if(i.length==null)i=[i];for(var e=i.length-1;e>=0;e--){var X=i[e].ELM;for(var l=X.length-1;
l>=0;l--)t(X[l][1],J,X[l][0],Q,M)}u.add.lsct=c.DIS?d9.KK:d9.vH;u.Vs|=24}else if(Z=="GRP"){var $=u.add.lmfx=f(c.EFL),O;
J.p.push(J.YL());var X=c.ELM;if(c.MNA){O=X[0][1];X=X.slice(1)}u.lP("Group: "+X.length+" objects");for(var l=X.length-1;
l>=0;l--)t(X[l][1],J,X[l][0],Q,M);if(O){if(c.MRX){var T=A(O,Q),b=u.B=new y.pk;b.rect=T[1].clone();b.rect.x=O.XLC;
b.rect.y=O.YLC+M.T3;b.channel=q.m(b.rect.$());q.WZ(T[0],b.channel,0);q.dm(b.channel)}else{p(u,O,M);u.qB(J)}}u.add.lsct=d9.vH;
u.Vs|=24}else if(Z=="IMG"){u.lP(c.OBN?c.OBN:"Bitmap");var T=A(c,Q);u.rect=T[1].clone();u.rect.x=c.XLC;
u.rect.y=c.YLC+M.T3;u.buffer=T[0]}else if(Z=="TXT"){var R=c.TFS,w=R.TRN instanceof Array?R.TRN.length:1,g="",n="Arial",h=20,_=0;
u.add.lnsr="rend";u.add.TySh=en.iE(0,0);u.add.TySh.Kr=new hq(0,0,100,100);var F=new gF(1,0,0,1,c.LFT,c.TOP);
if(c.MTX){var L=c.MTX,b=new gF(L.M00,L.M01,L.M10,L.M11,L.M20,L.M21);F.concat(b)}F.concat(M);u.add.TySh.D=F;
var x=u.add.TySh.pg;for(var l=0;l<w;l++){var H=Y(R,"TRN",l);if(H==null)continue;H=H.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
en.Bx(x,g.length,H);var G=en.hM(x,0,1),j=Y(R,"FON",l);if(j)n=j;en._E(G,n);var v=Y(R,"PTS",l);if(v!=null)h=v;
G.GN.FontSize=Math.round(h);var C=Y(R,"FCL",l);if(C!=null)_=C;G.GN.FillColor={Type:1,Values:S(_)};en.Z6(x,g.length,g.length+H.length,G);
g+=H}u.lP(g.slice(0,255));var E=c.RIT-c.LFT,I=c.BOT-c.TOP;if(c.IMG){t(c.IMG,J,"IMG",Q,M);var dJ=J.p.pop();
u.buffer=dJ.buffer;u.rect=dJ.rect.clone()}en.WR(x,1);en.EU(x,[0,0,E,I])}else if(Z=="PTH"){u.lP(c.OBN?c.OBN:"Path");
u.Vs|=16;var fG=!1;p(u,c,M);var o=u.add.vmsk,i4=u.add.vstk,df=q.J.Ql(o._),eO=c.PAT,cO=eO.BPL,ej=eO.FPL,cn=eO.TXF;
if(ej&&ej.FEF)o.H0+=ej.FEF/2.4;if(cO){var j5=cO.CAT;i4.strokeEnabled.v=!0;i4.strokeStyleLineWidth.v.val=cO.BDI;
i4.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jG.iJ.qY[c.BRP];r(eO.BCL,i4.strokeStyleContent.v);
if(j5!="bc_Basic"&&j5!="bc_Pencil")fG=!0}if(ej==null){i4.fillEnabled.v=!1;u.add.SoCo=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);
r(0,u.add.SoCo)}else if(ej.CAT=="fc_Solid"){u.add.SoCo=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);r(c.PAT.FCL,u.add.SoCo)}else if(ej.CAT=="fc_Linear"||ej.CAT=="fc_Circular"||ej.CAT=="fc_Elliptical"){var gP=ej.CAT=="fc_Linear",bY=u.add.GdFl=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),gR=bY.Grad.v,c3=[],jj=ej.FGL,jC,kf=[];
if(jj.FGY){var bz=jj.FGY,jC=bz.FG0.FGI,kf=bz.FG1.FGI}else jC=jj.FGV.FGI;for(var l=0;l<jC.length;l++){var iv=jC[l],bI=S(iv.FGC),jo=1;
if(kf.length==jC.length)jo=S(kf[l].FGC)[0];c3.push([iv.FGP,bI.slice(1),jo])}bY.Type.v.GrdT=gP?"Lnr":"Rdl";
q.i.UO(c3,gR);gR.Intr.v=0;var iZ=c.PRI?c.PRI:c,jD=new cR(iZ.PSX,iZ.PSY),dM=new cR(iZ.PEX,iZ.PEY);if(ej.CAT=="fc_Elliptical"&&iZ.PFX!=null){var ka=new cR(iZ.PFX,iZ.PFY),ds=cR.iI(jD,dM),ee=cR.iI(jD,ka);
if(ee<ds){var a9=ds;ds=ee;ee=a9}dM=new cR(jD.x+(ds+ee)/2,jD.y);if(ds/ee<.5)fG=!0}if(gP){jD.x=(jD.x+dM.x)/2;
jD.y=(jD.y+dM.y)/2}q.i.Nh(jD,dM,df,bY)}else console.log(ej.CAT);var $=u.add.lmfx=f(c.EFL,o);if(ej&&ej.FTB!=0&&cn){var T=A(cn.MSK,Q),ir={};
ir.id=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f";ir.name="someImage";ir.yK=T;J.zp(ir);var eP=T[0];for(var l=0;
l<eP.length;l+=4){eP[l+3]=255-eP[l];eP[l]=eP[l+1]=eP[l+2]=255}var bY=JSON.parse(jG.FH[jG.order.indexOf("patternFill")]);
bY.Opct.v.val=Math.round(ej.FTB/10);bY.Algn.v=!0;bY.Ptrn.v.Idnt.v=ir.id;$.patternFillMulti.v.unshift({t:"Objc",v:bY})}if(fG&&c.IMG){t(c.IMG,J,"IMG",Q,M);
var jh=J.p[J.p.length-1];jh.opacity=u.opacity;return}u.qB(J)}else if(Z=="URL")return;else{console.log("unknown layer type",Z,c);
u.lP("Layer")}J.p.push(u)}function p(c,J,Z){if(J.PBL==null)return;var Q=c.add.vmsk=new y.kL,M=c.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default)),u=J.PBL.PBP;
if(!(u instanceof Array))u=[u];for(var P=0;P<u.length;P++){var m=u[P].PBT;if(m==null)continue;if(!(m instanceof Array))m=[m];
var i=u[P].ISC?0:3;Q._.push({type:i,length:m.length,my:0,cd:2,L_:0,p4:0});for(var l=0;l<m.length;l++){var e=m[l],X=e.XLC,$=e.YLC,O=[X,$,X,$,X,$],T="XPC YPC XLC YLC XSC YSC".split(" ");
for(var b=0;b<6;b++){var R=T[b],w=e[R];if(w!=null)O[b]=w}Q._.push({type:i+2,H:new cR(X,$),hJ:new cR(O[0],O[1]),De:new cR(O[4],O[5])})}}q.J.Yy(Q._,Z);
c.dn()}function f(c,J){var Z=JSON.parse(jG.default);for(var l=0;l<jG.order.length;l++)Z[jG.Um[l]]={t:"VlLs",v:[]};
if(c==null)return Z;var Q=c.EPS;if(!(Q instanceof Array))Q=[Q];for(var l=0;l<Q.length;l++){var M=Q[l].DCE,u={};
for(var P=0;P<M.length;P++)u[M[P].DCK]=M[P].DCV;if(u.EffectIsVisible=="false")continue;var m=u.mkbFile_WriteOnly_TemporaryEffectUiName;
if(m=="Gaussian Blur..."&&J){J.H0+=parseFloat(u.gaussian_blur_radius);continue}var i=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(m);
if(i==-1){continue}var e=["DrSh","ebbl","IrGl","OrGl"][i],X=jG.Um[jG.order.indexOf(e)],$=JSON.parse(jG.FH[jG.order.indexOf(e)]);
Z[X].v.unshift({t:"Objc",v:$});if(e=="DrSh"){$.uglg.v=!1;a(u,"ShadowDistance",$,"Dstn");a(u,"ShadowBlur",$,"blur");
a(u,"ShadowAngle",$,"lagl",180);$.Opct.v.val=100;D(u,"ShadowColor",$,"Clr")}if(e=="IrGl"){$.Md.v.BlnM="Nrml";
var O=u.MaskSoftness,T=u.GlowWidth;if(O&&T){O=parseInt(O);T=parseInt(T);$.blur.v.val=T+O;$.Ckmt.v.val=Math.round(100*T/(T+O))}a(u,"BevelContrast",$,"Opct");
D(u,"OuterBevelColor",$,"Clr")}if(e=="OrGl"){$.Md.v.BlnM="Nrml";var O=u.MaskSoftness,T=u.GlowWidth;if(O&&T){O=parseInt(O);
T=parseInt(T);$.blur.v.val=T+O}a(u,"BevelContrast",$,"Opct");D(u,"OuterBevelColor",$,"Clr")}if(e=="ebbl"){$.uglg.v=!1;
a(u,"BevelWidth",$,"blur");a(u,"AngleSoftness",$,"Sftn");a(u,"BevelContrast",$,"srgR");a(u,"LightAngle",$,"lagl")}}return Z}function a(c,J,Z,Q,M){var u=c[J];
if(M==null)M=0;if(u)Z[Q].v.val=parseInt(u)+M}function D(c,J,Z,Q){var M=c[J];if(M){M=M.slice(1);if(M.length==6)M=M+"ff";
if(M.length!=8)throw"e";var u=S(parseInt(M,16)),P=Z[Q].v;P.Rd.v=u[0]*255;P.Grn.v=u[1]*255;P.Bl.v=u[2]*255;
Z.Opct.v.val=Math.round(Z.Opct.v.val/100*u[3]*100)}}return B}();function ay(){}ay.j7=function(){function s(O,T){var b=!1,R=Date.now(),w=u(O,b),eO=1;
if(b)console.log("part found",Date.now()-R);R=Date.now();var F=M(w),L=F.Layer,x=F.Header;if(b)console.log(F);
var g=L[0];g=F.Layer[0];if(b)console.log("document parsed",Date.now()-R);R=Date.now();F.Setup.Gradient=Q(F.Setup.Gradient,w);
if(b)console.log("grads loaded",Date.now()-R);R=Date.now();F.Setup.Pattern=Z(F.Setup.Pattern,w);if(b)console.log("patts loaded",Date.now()-R);
R=Date.now();F.Setup.DocumentData=J(F.Setup.DocumentData,w).pop();if(b)console.log("docdata loaded",Date.now()-R);
R=Date.now();F.Setup.SVGFilter=J(F.Setup.SVGFilter,w);if(b)console.log("svgfilter loaded",Date.now()-R);
R=Date.now();var n=x.Cropmarks,h=x.BoundingBox.split(" ").map(parseFloat),_=x.ArtSize?x.ArtSize.split(" ").map(parseFloat):[h[2]-h[0],h[3]-h[1]];
T.G=Math.round(_[0]);T.n=Math.round(_[1]);var H=[1,0,0,1,-h[0]+(T.G-(h[2]-h[0]))/2,-h[1]+(T.n-(h[3]-h[1]))/2];
H[3]=-1;H[5]=T.n-H[5];if(n){n=n.split(" ").map(parseFloat);T.G=Math.round(n[2]-n[0]);T.n=Math.round(n[3]-n[1]);
H=[1,0,0,-1,-n[0],T.n+n[1]]}var G=F.Setup.DocumentData;if(G&&G[0]&&G[0].ArtboardArray){var j=G[0].ArtboardArray;
if(j.length!=1)console.log(j.length,"artboards");var v=new hq;for(var l=0;l<j.length;l++){var C=j[l],E=C.PositionPoint1,I=C.PositionPoint2,dJ=E[0],fG=Math.min(E[1],I[1]),o=I[0],i4=Math.max(E[1],I[1]);
v=v.Ms(new hq(dJ,fG,o-dJ,i4-fG))}T.G=Math.round(v.G);T.n=Math.round(v.n);H[4]=-v.x;H[5]=v.y+T.n}var df=Math.max(T.G,T.n);
while(df*eO<1200)eO++;while(df*eO>6e3)eO*=.5;T.G=Math.round(T.G*eO);T.n=Math.round(T.n*eO);T.FD=Math.round(72*eO);
T.buffer=q.m(T.G*T.n*4);for(var l=0;l<6;l++)H[l]*=eO;for(var cO=0;cO<L.length;cO++){var ej=L[cO];ej.Raster=N(ej);
var cn=D(w,ej);r(T,cn,H,F,ej,w)}if(b)console.log("layers created",Date.now()-R);R=Date.now()}function N(O){var T=O.Layer,b=O.Raster;
if(b==null)b=[];if(T){for(var l=0;l<T.length;l++){var R=T[l],w=R.Raster=N(R);b=b.concat(w)}b.sort(function(F,L){return F._begin-L._begin})}return b}function r(O,T,b,R,w,F){var L="",x=0,g="",n=!1,h=UDOC.G,_=UDOC.getState(),H="norm",G=1,j="SoCo",E=!1,I=0,fG=null,o=!1,i4=0,df=null,eO,cO,ej=0,cn=0,j5=0,gR=0,c3=!1;
_.ctm=b;var v=[0,0,0],C=[0,0,0],dJ=[],gP=[],bY=[];for(var jj=0;jj<T.length;jj++){var jC=T[jj],bI=1e9;
if(jC[0]=="%"){if(jC=="%_/ArtDictionary :"&&i4==0)fG=[jC.slice(2)];else if(fG!=null){if(jC=="%_"&&i4==0){var kf=i(fG)[0],bz=kf.AI10_ArtUID;
if(bz&&!bz.startsWith("XMLID"))O.p[O.p.length-1].lP(X(bz));fG=null}else{fG.push(jC.slice(o?1:2));if(jC=="%_X=")i4++;
if(jC=="%_X+")i4--;if(jC=="%_/Binary : /ASCII85Decode ,")o=!0;if(o&&jC.endsWith("~>"))o=!1}}else if(df){eO+=(eO==""?"":" ")+jC.slice(2);
if(eO.endsWith("X#")){df.push(eO.slice(0,eO.length-3));eO=""}}continue}else if(jC=="/Mesh X!"){df=[];
eO="";continue}else if(jC=="/End X!"){S(df,_,O);df=null;continue}var iv="Xa XR m l c f U u *U w J j M d".split(" "),jo=-1;
for(var l=0;l<iv.length;l++){var iZ=jC.indexOf(" "+iv[l]+" ");if(iZ!=-1&&iZ<bI){bI=iZ;jo=l}}if(jo!=-1){n=!0;
var jD=bI+1+iv[jo].length;T[jj]=jC.slice(0,jD);var dM=T[jj+1];if(dM==null||dM[0]=="%"||jo>9)T.splice(jj+1,0,jC.slice(jD));
else T[jj+1]=(jC.slice(jD)+" "+dM).replace(/\s\s+/g," ");jj--;continue}jC=jC.trim();var ka=jC.split(" "),ds=ka[ka.length-1],ee=ds.toLowerCase(),a9=ka.map(parseFloat);
if(ds=="m")h.moveTo(_,a9[0],a9[1]);else if(ds=="L"||ds=="l")h.lineTo(_,a9[0],a9[1]);else if(ds=="V"||ds=="v"||ds=="Y"||ds=="y")h.quadCurveTo(_,a9[0],a9[1],a9[2],a9[3]);
else if(ds=="C"||ds=="c")h.curveTo(_,a9[0],a9[1],a9[2],a9[3],a9[4],a9[5]);else if(ds=="H"||ds=="h"){if(ds==ee)h.closePath(_);
dJ.push(JSON.parse(JSON.stringify(_.pth)))}else if(ds=="Xy"){H=["norm","mul ","scrn","over","sLit"][a9[0]];
G=a9[1];if(H==null){H="norm";console.log("unknown blend mode",a9[0])}}else if(ds=="Xd"){var ir=O.p[O.p.length-1];
ir.opacity=Math.round(255*G);ir.M9=ir.Ob()&&H=="norm"?"pass":H}else if(ds=="AE")ej=a9[0];else if(ds=="Ae")cn=a9[0];
else if(ds=="Xw")j5=a9[0];else if(ds=="*"){var eP=_.pth.crds,jh=_.ctm,iZ=eP[0]==eP[2]?0:1;O.K0.push([iZ,eP[iZ]]);
h.newPath(_)}else if(ds=="XN")cO=jC.split(" ")[0];else if(ds=="XI"){var fy=w.Raster,eS,gz;if(fy==null||fy.length==0){console.log("no Raster");
continue}if(jC!="XI"){continue}else{var fi=fy[x++].Data,fw=fi._begin,ce=fi._end;while(F[fw]!=88)fw++;
fw+=3;eS=F.slice(fw,ce);gz=T[jj-2].split(" ").map(parseFloat)}var hl=gz.slice(8),ia=hl[2],iQ=hl[3],em=ia*iQ,k4=q.m(em*4);
k4.fill(255);var ar=hl[7],fg=hl[8],j0=hl[6],bU=Math.ceil(ia*ar*j0/8);if(ar==1){if(j0==8)for(var l=0;
l<em;l++)for(var dn=0;dn<3;dn++)k4[4*l+dn]=eS[l];else if(j0==1)for(var aJ=0;aJ<iQ;aJ++)for(var bE=0;
bE<ia;bE++)for(var dn=0;dn<3;dn++)k4[4*(aJ*ia+bE)+dn]=255*(eS[aJ*bU+(bE>>>3)]>>>7-(bE&7)&1);else throw j0}else if(ar==3)for(var l=0;
l<em;l++)for(var dn=0;dn<3;dn++)k4[4*l+dn]=eS[3*l+dn];else if(ar==4||ar==5)for(var l=0;l<em;l++){var ew=p([eS[ar*l+0]/255,eS[ar*l+1]/255,eS[ar*l+2]/255,eS[ar*l+3]/255]);
k4[4*l+0]=ew[0]*255;k4[4*l+1]=ew[1]*255;k4[4*l+2]=ew[2]*255}else if(ar==7)for(var l=0;l<em;l++){k4[4*l+0]=eS[ar*l+0];
k4[4*l+1]=eS[ar*l+1];k4[4*l+2]=eS[ar*l+2]}else console.log("unknown number of channels",ar);if(fg==1){var jy=iQ*bU;
for(var l=0;l<em;l++)k4[4*l+3]=eS[jy+l]}var eT=q.Yz(k4,ia,iQ)?"JPG":"PNG";if(ia*iQ<700*700)eT="PNG";
var du=hg.Pp(eT).Bj([[k4.buffer]],ia,iQ),c_=O.uo(new Uint8Array(du),"<Image>",0,0);O.p.push(c_);c_.M9=H;
c_.opacity=Math.round(255*G);c_.pQ(j5==0);var b=new gF;b.scale(1,-1);b.concat(t(gz.slice(1)));b.concat(t(_.ctm));
var f9=c_.rect.clone();f9.x=f9.y=0;var ka=q.g.w2(f9).v;q.g.D(ka,b,ka);c_.add.SoLd.Trnf=K.S.Ua(ka);c_.add.SoLd.nonAffineTransform=K.S.Ua(ka);
c_.Vw(O,!1)}else if(ds=="Ln"){L=A(jC)}else if(ds=="u"||ds=="q"||ds=="Lb"){gP.push(cn==1);bY.push((ds=="Lb"?1-a9[0]:j5)==0);
if(E)continue;O.p.push(O.YL())}else if(ds=="U"||ds=="Q"||ds=="LB"){if(gP.length==0||bY.length==0)throw jj;
var bp=gP.pop(),aL=bY.pop();if(ds=="LB")bp=ej==1;if(E)continue;var c_=O.tT();c_.lP((ds=="U"?"<Group>":"<Clip Group>")+g);
if(ds=="LB")c_.lP(L);if(ds=="Q"&&dJ.length!=0){var f8=dJ.pop(),aE=UDOC.G.isBox(f8,[0,0,O.G,O.n]);if(!aE)f(c_,f8,O)}c_.add.lsct=bp?d9.KK:d9.vH;
c_.M9="pass";c_.Vs=24;c_.pQ(aL);O.p.push(c_);if(c3){if(O.p[O.p.length-3].getName()=="</Layer group>"){O.p.pop();
O.p.splice(O.p.length-2,1)}c3=!1}}else if(ds=="Bb"||ds=="Bh"||ds=="BB"){}else if(ds=="Bg"){var be=R.Setup.Gradient,jK=be[A(jC)];
if(jK==null){for(var ad in be){jK=be[ad];break}}j="GdFl";v=z(jK.fW,jK.a8B)}else if(ds=="Bm"||ds=="Xm"){var iF=v.Type.v.GrdT;
if(iF=="Lnr"&&ds!="Xm"||iF=="Rdl"&&ds!="Bm")continue;var c0=new cR(0,0),hE=new cR(1,0),hJ=new gF;hJ.concat(t(a9));
hJ.concat(t(_.ctm));c0=hJ.aK(c0);hE=hJ.aK(hE);var cZ=q.g.OH(_.pth.crds);if(cZ.Nf())cZ=q.g.OH([c0.x,c0.y,hE.x,hE.y]);
if(iF=="Lnr"){c0.x=(c0.x+hE.x)/2;c0.y=(c0.y+hE.y)/2}q.i.Nh(c0,hE,cZ,v)}else if(ds=="p"){var dS=A(jC),gh=R.Setup.Pattern[dS];
if(gh.raw==null){var cZ=gh.CS,ia=Math.round(cZ[2]-cZ[0]),iQ=Math.round(cZ[3]-cZ[1]),kf=new a2;kf.G=ia;
kf.n=iQ;kf.buffer=q.m(ia*iQ*4);r(kf,gh.Wz,[1,0,0,-1,-gh.CS[0],iQ+gh.CS[1]],R,w,F);gh.raw=new Uint8Array(hg.Pp("PSD").Bj(kf))}var ih=jC.slice(jC.indexOf(")")+2),d4=ih.slice(0,ih.indexOf("[")-1).split(" ").map(parseFloat),a3=ih.slice(ih.indexOf("[")+1,ih.indexOf("]")).split(" ").map(parseFloat);
j="patt";v=[dS,d4,a3]}else if(ds=="J"||ds=="j"||ds=="w"||ds=="M"||ds=="d"){for(var l=1;l<ka.length;l++){var bT=ka[l],dP=a9[l-1];
if(bT=="w")_.lwidth=dP;if(bT=="j")_.ljoin=dP;if(bT=="J")_.lcap=dP;if(bT=="d"){var i2=jC.slice(jC.indexOf("[")+1,jC.indexOf("]")).trim();
if(i2.length!=0){var eF=i2.split(" ").map(parseFloat);_.dash=eF}}}}else if(ee=="xa"||ee=="xx"){var hp=a9[4]==null?a9.slice(0,3):[a9[4],a9[5],a9[6]];
if(ee=="xx"&&a9[a9.length-2]==2)hp=p(a9);j="SoCo";if(ds=="Xa"||ds=="Xx")v=hp;else C=hp}else if(ee=="xk"){var hp,dt=a9[a9.length-2],iw=a9[a9.length-3];
if(dt==0)hp=p(a9);else if(dt==1){hp=[a9[4],a9[5],a9[6]];for(var l=0;l<3;l++)hp[l]=iw*1+(1-iw)*hp[l]}else throw jC;
j="SoCo";if(ds=="Xk")v=hp;else C=hp}else if(ee=="k"||ee=="x"){if(ee=="x"){a9.pop();var cP=1-a9.pop();
for(var l=0;l<4;l++)a9[l]*=cP}var hp=p(a9);j="SoCo";if(ds==ee)v=hp;else C=hp}else if(ee=="g"){var hp=[a9[0],a9[0],a9[0]];
j="SoCo";if(ds==ee)v=hp;else C=hp}else if(ee=="n"){if(!E)h.newPath(_)}else if(ds=="*u"){E=!0;I=0}else if(ds=="*U"||ee=="s"||ee=="f"||ee=="b"){if(ds!="*U"&&E){if(ee=="f"||ee=="b")I|=1;
if(ee=="s"||ee=="b")I|=2;continue}if(ds==ee)h.closePath(_);if(ds=="*U"){E=!1}var c_;if(j=="patt"){var gh=R.Setup.Pattern[v[0]];
c_=O.uo(gh.raw,"<Pattern>",0,0);var f9=c_.rect.clone();f9.x=f9.y=0;var ka=q.g.w2(f9).v,a3=t(v[2]);a3.JC=a3.T3=0;
q.g.D(ka,a3,ka);c_.add.SoLd.Trnf=K.S.Ua(ka);c_.add.SoLd.nonAffineTransform=K.S.Ua(ka);c_.Vw(O,!1)}else{c_=O.tT();
c_.Vs|=16;var f0=c_.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));f0.strokeEnabled.v=f0.fillEnabled.v=!1;
if(j=="SoCo"){c_.add.SoCo=JSON.parse(jG.FH[jG.order.indexOf("SoFi")]);var fQ=c_.add.SoCo.Clr.v;B(fQ,v)}if(j=="GdFl")c_.add.GdFl=v;
if(ee=="f"||ee=="b"||ds=="*U"&&I&1)f0.fillEnabled.v=!0;if(ee=="s"||ee=="b"||ds=="*U"&&I&2)h3.qE(f0,_,1,h3.or(C))}c_.lP("<"+(ds=="*U"?"Compound ":"")+"Path>"+g);
c_.M9=H;c_.opacity=Math.round(255*G);c_.pQ(j5==0);f(c_,_.pth,O);O.p.push(c_);h.newPath(_)}else if(ds==","&&ka[1]=="/FreeUndo"){gR=a9[0]}else if(ds==","&&ka[1]=="/StoryIndex"){var gL=R.Setup.TextDocument,bK=null;
if(!(gL instanceof Array))gL=R.Setup.TextDocument=c(gL,F);var aq=gL[0],aB=gL[2];if(aq._DocumentResources)aq=gL[0]=dI.a2C(aq);
else dI.a9z(aq);var c_=O.tT();c_.add.lnsr="rend";c_.add.TySh=en.iE(0,0);var dT=a9[0];if(gR==1){for(var l=1;
l<60;l++){var dM=T[jj+l];if(dM.endsWith("/StoryIndex ,")){dT=parseFloat(dM.slice(2,dM.indexOf(" ")));
c3=!0;break}}gR=0}var jB=hP.a9v(aq),e5=c_.add.TySh.pg=jB[dT];if(e5==null){console.log("text not found");
c3=!1;continue}c_.lP(en.RS(e5).slice(0,50));c_.M9=H;c_.opacity=Math.round(255*G);c_.pQ(j5==0);var cP=aq._1._1[dT]._1._0[0]._0;
cP=parseInt(cP.slice(1));var dU=aq._0._8._0,e8=dU[cP]._0;if(e8._0)bK=Y(e8._0);else if(e8._1)bK=Y(e8._1._0);
else bK=Y(e8._2._2).slice(3);if(bK.length!=2){var cZ=q.g.OH(bK);bK=[cZ.x,cZ.y];if(cZ.$()!=0){en.WR(e5,1);
en.EU(e5,[0,0,Math.round(cZ.G),Math.round(cZ.n)])}}var cl=new gF,ic=new gF(1,0,0,1,bK[0],bK[1]),eL=new gF(1,0,0,1,-aB[0],-aB[1]),i6=t(_.ctm),ke=new gF;
if(e8._2&&e8._2._2){var b=Y(e8._2._2);ke=new gF(b[0],b[1],b[2],b[3],b[4],b[5])}cl.concat(ic);cl.concat(ke);
cl.concat(eL);cl.scale(1,-1);cl.concat(i6);c_.add.TySh.D=cl;O.p.push(c_);O.aH=!0}else if(n&&a9.length>3){var h8=!1;
for(var l=0;l<a9.length;l++)if(isNaN(a9[l]))h8=!0;if(!h8)T[jj+1]=(jC+" "+T[jj+1]).replace(/\s\s+/g," ")}}}function S(O,T,b){var R=UDOC.G,w=[],F=[],L="/DeviceGray",x=1,g=[],n=1;
for(var h=0;h<O.length;h++){var _=O[h];if(_.endsWith(" /CS")){var H=_.indexOf("/NChannel"),G=_.indexOf("/Process");
if(_.startsWith("/DeviceRGB")){L="/DeviceRGB";x=3}else if(_.startsWith("/DeviceGray")){L="/DeviceGray";
x=1}else if(_.startsWith("/DeviceCMYK")){L="/DeviceCMYK";x=4;g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(H!=-1){L="/DeviceCMYK";
x=parseInt(_.slice(H-2,H-1));var j=1;for(var l=0;l<x;l++){j=_.indexOf("[",j);g[x-1-l]=_.slice(j+1,j+8).split(" ").map(parseFloat);
j++}}else if(G){L="/DeviceGray";x=1}else throw _}else if(_[0]=="["){var v=_.indexOf("]"),C=_.slice(1,v).split(" ").map(parseFloat),E=_.slice(v+2),I,dJ,fG,o,i4,df;
if(E=="/Size"||E=="/P"||E=="/R")continue;if(E=="/S"||E=="/A"){I=C[0];dJ=C[1];fG=C[2];o=C[3];i4=C[4];
df=C[5]}else if(E=="/N"){var eO=x+(n==1?0:1),cO;I=C[eO+0];dJ=C[eO+1];fG=C[eO+2];o=C[eO+3];i4=C[eO+5];
df=C[eO+6];if(L=="/DeviceRGB")cO=C.slice(0,3);else if(L=="/DeviceGray")cO=[C[0],C[0],C[0]];else if(L=="/DeviceCMYK"){var ej=[0,0,0,0];
for(var l=0;l<x;l++){var cn=C[l],j5=g[l];ej[0]+=cn*j5[0];ej[1]+=cn*j5[1];ej[2]+=cn*j5[2];ej[3]+=cn*j5[3]}cO=p(ej)}else throw cO;
cO.push(C[x]);F.push([cO,I,dJ])}else throw E;w.push([E,i4,df,I,dJ,fG,o])}else if(_=="/E"){var gP=w.slice(0),bY=0;
for(var l=0;l<w.length;l++){var gR=w[l][0];if(gR=="/N"){bY++;continue}var c3=l,jj=l+1;while(w[jj][0]!="/N"&&jj<w.length)jj++;
if(bY==0||bY==3){for(var jC=0;jC<jj-c3;jC++)gP[c3+jC]=w[jj-1-jC]}else for(var jC=c3;jC<jj;jC++){var kf=gP[jC],bz=kf[1];
kf[1]=kf[5];kf[5]=bz;bz=kf[2];kf[2]=kf[6];kf[6]=bz}l=jj-1}w=[];for(var l=0;l<gP.length;l++){var kf=gP[l];
w.push(kf[1],kf[2],kf[3],kf[4],kf[5],kf[6])}var iv=w.length;R.moveTo(T,w[2],w[3]);for(var l=0;l<iv;l+=6){var fG=w[(l+4)%iv],o=w[(l+5)%iv],i4=w[(l+6)%iv],df=w[(l+7)%iv],I=w[(l+8)%iv],dJ=w[(l+9)%iv];
R.curveTo(T,fG,o,i4,df,I,dJ)}R.closePath(T);w=[]}else if(_.endsWith("/Version"))n=parseFloat(_[0])}var bI=b.tT();
bI.Vs|=16;bI.lP("<Mesh>");var jo=bI.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));jo.strokeEnabled.v=!1;
if(F.length>=2){var iZ=0,jD=0,dM=0;for(var l=0;l<F.length;l++)for(var jC=l+1;jC<F.length;jC++){var ka=F[l][0],ds=F[jC][0],ee=ka[0]-ds[0],a9=ka[1]-ds[1],ir=ka[2]-ds[2],eP=Math.sqrt(ee*ee+a9*a9+ir*ir);
if(eP>dM){dM=eP;iZ=l;jD=jC}}var jh=F[iZ],fy=F[jD],eS=bI.add.GdFl=z(0,[[0,jh[0]],[1,fy[0]]]),gz=t(T.ctm),fi=gz.aK(new cR(jh[1],jh[2])),fw=gz.aK(new cR(fy[1],fy[2])),ce=q.g.OH(T.pth.crds);
fi.x=(fi.x+fw.x)/2;fi.y=(fi.y+fw.y)/2;q.i.Nh(fi,fw,ce,eS)}f(bI,T.pth,b);b.p.push(bI);R.newPath(T)}function z(O,T){var b=JSON.parse(jG.FH[jG.order.indexOf("GrFl")]),R=b.Grad.v;
R.Intr.v=0;b.Type.v.GrdT=["Lnr","Rdl"][O];q.i.UO(T,R);return b}function A(O){return O.slice(O.indexOf("(")+1,O.indexOf(")"))}function B(O,T){O.Rd.v=T[0]*255;
O.Grn.v=T[1]*255;O.Bl.v=T[2]*255}function Y(O){var T=[];for(var l=0;l<O.length;l++)T[l]=parseFloat(O[l].slice(1));
return T}function t(O){return new gF(O[0],O[1],O[2],O[3],O[4],O[5])}function p(O){return UDOC.C.cmykToRgb(O)}function f(O,T,b){O.add.vmsk=new y.kL;
if(T.crds.length!=0)O.add.vmsk._=a(T);O.dn();O.qB(b)}function a(O){var T={v:O.crds,F:O.cmds},b=q.g.m0(T,!1);
return b}function D(O,T){var b=[T._begin],R=T._end-T._begin,w=R,F=T.Raster,h=0;if(F){for(var l=0;l<F.length;
l++){var L=F[l].Data;if(L==null)break;var x=L._begin+32,g=L._end;if(x>g)x=g;b.push(x,g);w-=g-x}}b.push(T._end);
var n=new Uint8Array(w);for(var l=0;l<b.length;l+=2){var x=b[l],_=b[l+1]-x;n.set(new Uint8Array(O.buffer,x,_),h);
h+=_}return U.uE(n).split(/\r\n|\r|\n/)}function c(O,T){if(O==null)return[];var b=D(T,O),R="",w="",F=0,L;
for(var l=2;l<b.length;l++){var x=b[l];if(x[0]=="%"){if(F==0)R+=x.slice(1);else w+=x.slice(1)}else if(x==";")F++;
else if(x.endsWith("/RulerOrigin ,"))L=x.split(" ").slice(0,2).map(parseFloat)}var g=[R,w],n=[];for(var l=0;
l<2;l++){var h=g[l],_=new Uint8Array(h.length);U.s6(_,0,h);var H=FromPS.F.ASCII85Decode({buff:_,off:0}),G=jc.j7(H);
n.push(G)}n.push(L);return n}function J(O,T){if(O==null)return[];var b=D(T,O);b=b.slice(1);for(var l=0;
l<b.length;l++){var R=b[l];if(R[0]=="%")b[l]=R.slice(R[1]=="_"?2:1)}var w=i(b);return w}function Z(O,T){var b={};
if(O==null)return b;for(var l=0;l<O.length;l++){var R=D(T,O[l]),w=R[1],F=A(w),L=w.slice(w.indexOf(")")+2).split(" ").map(parseFloat),x=[];
for(var g=2;g<R.length;g++)x.push(R[g].slice(2));b[F]={CS:L,Wz:x}}return b}function Q(O,T){var b={},R,w;
if(O==null)return b;var F=[];for(var l=0;l<O.length;l++){var L=D(T,O[l]);for(var x=0;x<L.length;x++){var g=L[x];
if(g.endsWith("%_Bs")){var n=g.slice(0,g.length-4);if(!n.endsWith(" "))n+=" ";g=n+"%_BS"}if(g[0]=="("){var h=g.split(")");
R=h[0].slice(1);var _=h[1].split(" ");w=parseInt(_[1])}else if(g.endsWith("%_BS")){var h=g.split(" "),v,C=1;
h.pop();h=h.map(parseFloat);var H=h.pop(),G=h.pop(),j=h.pop();if(j==0)v=[h[0],h[0],h[0]];else if(j==2||j==4)v=[h[4],h[5],h[6]];
else if(j==1||j==3)v=p(h);else if(j==6){if(h.length==3)v=[h[0],h[0],h[0]];else v=p(h);C=h.pop()}else{throw j}F.push([H/100,v,C,G/100])}else if(g=="BD"){for(var E=0;
E<F.length-1;E++)F[E][3]=F[E+1][3];F.sort(function(I,dJ){return I[0]-dJ[0]});b[R]={fW:w,a8B:F};F=[]}}}return b}function M(O){var T="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),b=Date.now(),R=0,w=[],F={Header:{}},L=[F],x=O.length;
while(R<x){var g=R;while(g!=x&&O[g]!=13&&O[g]!=10){g++}if(O[R]==37&&O[R+1]==95&&O[R+2]==37)R+=2;if(O[R]==37&&(O[R+1]==37||O[R+1]==65)){var n=U.TX(O,R,g-R);
if(n=="%%EOF")break;if(n=="%%EndComments"||n=="%EndComments"||n=="%AI5_Begin_NonPrinting"||n=="%AI5_End_NonPrinting--"||n.startsWith("%AI17_Begin_Content_if_version_gt")||n=="%AI17_End_Versioned_Content"){}else{var h=n.indexOf("Begin"),_=Math.max(n.indexOf("_End"),n.indexOf("%End"));
if(h!=-1){var H=n.slice(h+5).split(":")[0],G={_begin:R,_end:R},j=L[L.length-1];if(T.indexOf(H)!=-1){if(j[H]==null)j[H]=[];
j[H].push(G)}else{if(j[H]!=null){console.log(L);throw n}j[H]=G}L.push(G);if(n.startsWith("%%BeginData")){g=U.yC(O,"%%EndData",R)}else if(n=="%AI9_BeginDocumentData")g=U.yC(O,"%AI9_EndDocumentData",g);
else if(n=="%AI11_BeginTextDocument")g=U.yC(O,"%AI11_EndTextDocument",g)}else if(_!=-1){L.pop()._end=R}else if(L.length==1&&(n.startsWith("%AI")||n.startsWith("%%")&&n.indexOf(" ")!=-1)){var v=1;
if(n.startsWith("%AI"))while(n[v]!="_"&&v<n.length)v++;var C=n.indexOf(":");if(C==-1)C=n.indexOf(" ");
var E=n.slice(v+1,C),I=n.slice(C+1).trim();F.Header[E]=I}}}R=g;if(O[R]==13)R++;if(O[R]==10)R++}return F}function u(O,T){var b=Date.now(),R=new Uint8Array(O),w,F=R[2]==68;
if(T)console.log(!F?"EPS":"PDF");if(F){var L=U.yC(R,"/AIMetaData "),o=!1,i4=!1;while(R[L]!=60)L--;L--;
var x=U.yC(R,">>",L),g=U.TX(R,L+2,x-L-2).split("/"),n=[];for(var l=0;l<g.length;l++){var h=g[l],_=h.startsWith("AIPrivateData"),H=h.startsWith("AIPDFPrivateData");
if(!_&&!H)continue;var G=h.trim().split(/\s+/),j=parseInt(G[1]),v=parseInt(G[0].slice(_?13:16));n.push([v,j])}if(T)console.log("--- map made",Date.now()-b);
b=Date.now();var C=FromPDF.indexOfXref(R),E=[],I=FromPDF.readXrefTrail(R,C,E),dJ={buff:R,off:0},fG=new Array(n.length),df=L;
for(var l=0;l<n.length;l++){var v=n[l][0],j=n[l][1],eO=FromPDF.getIndirect(j,0,dJ,E),cO=eO.buff,ej=eO["/Filter"],cn=0;
if(ej!=null&&typeof ej=="string")ej=[ej];var j5=U.TX(cO,cn,cn+20);if(j5=="%AI12_CompressedData"){cn+=20;
o=!0}else if(j5=="%AI24_ZStandard_Data"){cn+=20;i4=!0}cO=new Uint8Array(cO.buffer,cO.byteOffset+cn,cO.length-cn);
if(ej)for(var gP=0;gP<ej.length;gP++){var bY=ej[gP];if(bY=="/FlateDecode")cO=pako.inflate(cO);else if(bY=="/ASCIIHexDecode")cO=FromPS.F.HexDecode({buff:cO,off:0});
else if(bY=="/ASCII85Decode")cO=FromPS.F.ASCII85Decode({buff:cO,off:0});else throw bY}fG[v-1]=cO}if(T)console.log("--- arrays found",Date.now()-b);
b=Date.now();var gR=U.TX(fG[0],0,13);if(gR=="%%BoundingBox"||gR=="%AI7_Thumbnai")fG=fG.slice(1);if(gR=="%AI24_ZStanda"){fG[0]=fG[0].slice(20);
i4=!0}if(U.TX(fG[0],0,13)=="%AI12_Compres"){fG[0]=fG[0].slice(20);o=!0}w=P(fG);if(T)console.log("--- concatenated",Date.now()-b);
b=Date.now();if(o)w=UZIP.inflate(w);if(i4)w=hg.mD.Ut(w);if(T)console.log("--- inflated",Date.now()-b);
b=Date.now()}else{var c3=U.uE(R);if(c3.indexOf("%AI5_BeginLayer")!=-1){w=R}else{var jj=c3.split(/[\n\r]+/),jC=[],kf=!1;
for(var bz=0;bz<jj.length;bz++){var iv=jj[bz].trim();if(iv=="%AI9_PrivateDataEnd"){kf=!1;break}else if(iv=="%AI9_DataStream"||iv=="%AI24_DataStream"){kf=!0}else if(kf)jC.push(iv.slice(1))}var bI=U.et(jC.join("")),jo=FromPS.F.ASCII85Decode({buff:bI,off:0});
if(jo[0]==120&&jo[1]==156)w=UZIP.inflate(jo);else w=hg.mD.Ut(jo)}}return w}function P(O){var T=0,R=0;
for(var l=0;l<O.length;l++)T+=O[l].length;var b=new Uint8Array(T);for(var l=0;l<O.length;l++){var w=O[l];
b.set(w,R);R+=w.length}return b}function m(O,T){for(var l=0;l<T.length;l++)if(O.startsWith(T[l]))return!0;
return!1}function i(O){var T=[],b=[],top=-1,R,w=null,F=null,L=0;for(var x=0;x<O.length;x++){var g=O[x];
if(R){g=R+g;R=null}var n="\t".repeat(T.length);if(w!=null){w.push(g);if(g.endsWith("~>")){var h=U.et(w.join("")),_=FromPS.F.ASCII85Decode({off:0,buff:h});
T.push(_);b.push(!1);top++;w=null}}else if(F!=null){if(g=="X+"){if(L==1){T.push(F);b.push(!1);top++;
F=null}else L--}else if(g=="X=")L++;else F.push(g)}else if(g=="/Binary : /ASCII85Decode ,"){w=[]}else if(g=="X="){F=[];
L++}else if(g=="/SVGFilter :"||g=="; /Def ;")continue;else if(g.startsWith("/")&&g[1].toUpperCase()!=g[1].toLowerCase()){if(g.startsWith("/XMLUID")){var H=e(g);
if(b[top])throw"e";T[top][H[4]]=H[2]}if(g.startsWith("/GObjRef")){var H=e(g);if(!b[top])throw"e";T[top].push(H[2])}else{var G=g.startsWith("/Array")||g.startsWith("/Document");
T.push(G?[]:{});b.push(G);top++}}else if(g.endsWith(",")){var j,v,H=e(g);H.pop();if(H[0]==";"||H.length==1){v=T.pop();
b.pop();top--;j=b[top]?null:H.pop()}else{j=b[top]?null:H.pop();var C=H.pop(),E=H[0];if(C=="/Int")v=parseInt(E);
else if(C=="/Real")v=parseFloat(E);else if(C=="/Bool")v=E=="1";else if(C=="/String"||C=="/UnicodeString")v=H.join("");
else if(C=="/RealMatrix"||C=="/RealPoint"||C=="/RealPointRelToROrigin")v=H.map(parseFloat);else throw C}if(b[top])T[top].push(v);
else T[top][j]=v}else if(g==";"){}else if(g==""){}else{if(g.indexOf("/RealPoint")!=-1){}else if(g.startsWith("(")&&g.endsWith(")")){}else if(g.endsWith("/RealMatrix")){}else throw g;
R=R?R+g:g}}return T}function e(O){var T=0,b=[];while(T<O.length){var R=O[T],w=R.charCodeAt(0);if(R==" ")T++;
else if(R==","||R==";"||R==":"){b.push(R);T++}else if(R=="("){var F=T+1;while(!(O[F]==")"&&O[F-1]!="\\"))F++;
var L=O.slice(T+1,F);b.push(L);T=F+1}else if(R=="/"||R=="-"||48<=w&&w<=57){var F=T;while(O[F]!=" ")F++;
b.push(O.slice(T,F));T=F}else throw R}return b}function X(O){var T="";for(var l=0;l<O.length;l++){if(O[l]=="_"&&O[l+1]=="x"){var i3=parseInt(O.slice(l+2,l+4),16);
T+=String.fromCharCode(i3);l+=4}else if(O[l]=="_")T+=" ";else T+=O[l]}return T}function $(O){var T="xmlnode-nodename",b="xmlnode-nodevalue",R="xmlnode-attributes",w="xmlnode-children",F=O[T],L=O[R],x=O[w],g={_nam:F};
for(var n in L){var h=L[n];if(Object.keys(h[R]).length!=0||h[w].length!=0)throw"e";if(h[T]!=n)throw"e";
g[n]=h[b]}if(x.length==0)return g;var _=g.cln=[];for(var l=0;l<x.length;l++)_.push($(x[l]));return g}return s}();
function hf(){}hf.j7=function(){function s(x,g,n,h,_){if(x==0)return"";if(g==0)g=h||_?16:32;var H=z+x,G="";
G+="<pre style=\"background-color:#"+n+";\">\n";while(z<H){var j=Math.min(g,H-z);G+=r(z,j);if(h)G+="    ".repeat(g-j)+"   "+N(z,j);
if(_){G+="    ".repeat(g-j)+"   ";for(var l=0;l<j;l+=4){var v=U.g2(S,z+l),C=v+"";while(C.length<16)C+=" ";
G+=C}}G+="\n";z+=j}G+="</pre>\n";return G}function N(x,g){var n="";for(var l=0;l<g;l++){var h=S[x+l],i3=h.toString(16);
if(i3.length==1)i3="0"+i3;i3=" "+i3;if(32<=h&&h<=126)i3="  "+String.fromCharCode(h);if(h==10)i3=" \\n";
n+=i3+" "}return n}function r(x,g){var n="";for(var l=0;l<g;l++){var i3=S[x+l]+"";while(i3.length<3)i3=" "+i3;
n+=i3+" "}return n}var S,z,A,B,Y,i,e,X;function t(x){return U.T7(S,x)}function p(x){return U.ix(S,x)}function f(x){return U.g2(S,x)}function a(x){return U.mB(S,x)}function D(x,g){var n=[];
for(var l=0;l<g;l++)n.push(f(x+l*4));return n}function c(x,g){var n=[];for(var l=0;l<g;l++)n.push(t(x+l*8));
return n}function J(x){return f((x+1)*4096-12)}function Z(x){return f((x+1)*4096-8)}function Q(x,z,g,n){if(B[x]==null)B[x]=[];
B[x].push([n,new Uint8Array(S.buffer,z,g)])}function M(x,g,n,h){var _=A[x],z=_*4096;z=z+f(z+4096-24-12-g*4);
var H=p(z),G=S[z+2],j=S[z+3];if(g!=G)throw G;if(j==0)Q(h,z+4,n,9);else{var v=p(z+6),C=f(z+8);Q(h,z+12,H-12,9);
M(C,v,n-(H-12),h)}}function u(){var x=f(352),g=f(x*4096+128),n=f(936),h=f(n*4096+128);A=D(h*4096+128,4096-128-12>>>2);
B={};Y={};for(var _=0;_<A.length;_++){var H=A[_],G=J(H);if(G!=6)continue;var z=H*4096,j=f(z);z+=4;for(var l=0;
l<j;l++){var v=f(z);z+=4;var C=f(z);z+=4;var E=f(z);z+=4;var I=f(z);z+=4;if(v==0)Y[C]=E;else{var dJ=E&65535,fG=E>>>16;
if(fG==0)Q(C,I*4096,dJ,8);else M(I,fG,dJ,C)}}}var i={};for(var o in B){var i4=B[o],df=i4.length;if(df==1)i[o]=i4[0][1];
else{var eO=0,z=0;for(var l=0;l<df;l++)eO+=i4[l][1].length;var cO=i[o]=new Uint8Array(eO);for(var l=0;
l<df;l++){cO.set(i4[l][1],z);z+=i4[l][1].length}}}return i}function P(x,g){if(g.indexOf(x)==-1)g.push(x)}function m(z,x){var g=x?f(z):p(z),n="";
if(g==0)return"";z+=x?4:2;while(n.length<g){var h=S[z++],_=S[z++],H=0;h+=(_&15)*256;_=_&240;for(var l=0;
l<h;l++){if(_==64)H=S[z++];else if(_==128)H=S[z++]|S[z++]<<8;else throw _;n+=String.fromCharCode(H)}}return n}function $(z,x){var g=D(z,x);
for(var l=0;l<x;l++){if(g[l]>e)throw"e";g[l]=O(g[l])}return g}function O(x){if(X.indexOf(x)!=-1)return"---"+x;
if(x==0)return null;if(i[x]==null)throw x;if(!(i[x]instanceof Uint8Array))return i[x];var g=S,z=0;S=i[x];
X.push(x);var n=Y[x].toString(16),h=i[x]={_type:L[n]?L[n]:"typ-"+n,_eid:x};while(z+8<S.length){var _=f(z);
z+=4;var H=_.toString(16),G=f(z);z+=4;var j=z+G;if(z+G>S.length){h._bin=S;break}var v=R[H];if(v){var C=v[0],E=null,I=v[1];
if(C=="")C=I+"-"+H;if(w[I]&&G!=w[I]){console.log(H,v);console.log(S.slice(z,z+G));throw"e"}if(I=="mat")E=c(z,6);
else if(I=="rect")E=c(z,4);else if(I=="pointArr"){var dJ=p(z);E=D(z+2,dJ*2)}else if(I=="uint")E=f(z);
else if(I=="pntr"){E=O(f(z))}else if(I=="bool2"){if(p(z)!=0&&p(z)!=1)throw p(z);E=p(z)==1}else if(I=="bool4"){if(f(z)!=0&&f(z)!=1)throw f(z);
E=f(z)==1}else if(I=="color"){if(G!=38&&G!=30)throw G;var fG=f(z),o=p(z+4);E=[fG];for(var l=0;l<o;l++)E.push(t(z+6+l*8))}else if(I=="path"){E=[];
var i4=f(z);z+=4;for(var l=0;l<i4;l++){var df=[];E.push(df);var eO=f(z);z+=4;for(var cO=0;cO<eO;cO++){var fG=f(z);
z+=4;if(fG<2){df.push([fG,t(z),t(z+8),t(z+16),t(z+24),t(z+32),t(z+40)]);z+=48}else if(fG==2){df.push([fG,t(z),t(z+8)]);
z+=16}else throw fG}}}else if(I=="ptrArray"||I=="ptrArrayX"){var ej=G>>2;if(I=="ptrArray"){ej=f(z);z+=4;
if(G!=4+ej*4)throw G}E=$(z,ej)}else if(I=="cldrn"){var cn=f(z),j5=f(z+4),ej=f(z+8);E=$(z+12,ej);if(G!=12+ej*4){console.log(H,sa);
throw"e"}if(cn==0)throw cn}else if(I=="aprnc"){var ej=f(z);z+=4;E={};for(var l=0;l<ej;l++){var gP=f(z),bY=p(z+4),gR=p(z+6);
z+=8;var c3=F[gP.toString(16)];if(c3==null)c3="prm-"+gP.toString(16);else c3=b(c3);E[c3]=[];for(var cO=0;
cO<gR;cO++){var jj=f(z),jC=p(z+4),kf=null;z+=6;if(jj==28264)kf=t(z);else if(jj==28263||jj==279)kf=f(z);
else if(jj==28261)kf=p(z)==1;else if(jj==28265)kf=[t(z),t(z+4)];else if(jj==28259||jj==28260||jj==23094)kf=S.slice(z,z+jC);
else throw jj;E[c3].push(kf);z+=jC}}}else if(I=="lopts"){E={a6t:p(z+0)==1,show:p(z+2)==1,ann:p(z+4)==1,yk:f(z+10),name:m(z+21)}}else if(I=="origin"){z++;
var dJ=f(z);z+=4;var bz=U.TX(S,z,dJ);z+=dJ;z+=16;var iv=m(z,!0);z+=4+2+iv.length;z+=19;var bI=m(z);z+=2+2+bI.length;
E={file:bz,id:iv,v_:bI}}else if(I=="string")E=m(z+3);else if(I=="textData"){var jo=z+G,iZ=f(z);z+=4;
var jD=f(z);z+=4;var o=p(z);z+=2;E=[];for(var l=0;l<o;l++){var dM=f(z);z+=4;if(iZ==514)E.push(m(z,!0));
else E.push(S.slice(z,z+dM));z+=dM}if(jo-z!=12)throw jo-z;E={fW:iZ,ann:jD,anV:E}}else throw I;if(h[C]!=null){console.log(x,H,z,h[C],v,E);
throw"e"}h[C]=E}else h["prop-"+H]=S.slice(z,z+G);z=j}S=g;X.pop();return h}function T(x){S=new Uint8Array(x);
i=u();var g=i[2147483649];g=U.uE(g,4,g.length-4);delete i[2147483649];e=0;for(var n in i)e=Math.max(e,parseInt(n));
X=[];var h={};for(var n in i)h[n]=i[n];for(var n in i)O(parseInt(n));return i}function b(x){x=x.split(" ").join("");
return x[0].toLowerCase()+x.slice(1)}var R={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"118":["","bool4"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"119":["bitmap","uint"],"313":["","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"117":["","uint"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"261":["","pointArr"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"210":["","ptrArrayX"],"301":["pageOpts","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},w={mat:48,rect:32,uint:4,pntr:4,bool4:4,bool2:2},F={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length"},L={e01:"Document","401":"Group","6201":"Path"};
return T}();function aD(){}aD.j7=function(){var s=0;function N(B,Y){var t=hf.j7(B);s=0;var p=t[1];console.log(p);
var f=p.spreads,a=p.pageOpts,D=[],c=new hq;for(var J=0;J<f.length;J++){var Z=f[J],Q=Z.children,M=S(Z),u=Q[0].children[0],P=S(u);
P.concat(M);var m=r(u);D.push(m);m.offset(P.JC,P.T3);m=q.g.i2(m);c=c.Ms(m)}Y.G=c.G;Y.n=c.n;Y.buffer=new Uint8Array(4*Y.G*Y.n);
Y.aH=!0;Y.a_(f.length);for(var J=0;J<f.length;J++){var i=Y.tT(),e=a[Math.min(J+1,a.length-1)].lopts;
i.Vs=24;i.add.lsct=d9.KK;i.lP(e.name);i.pQ(e.show);if(e.a6t)i.add.lspf=1<<31;var X=D[J].clone();X.offset(-c.x,-c.y);
X=q.g.i2(X);i.S6(X);i.M9="pass";Y.p.push(Y.YL());var Z=f[J],Q=Z.children,M=S(Z);M.translate(-c.x,-c.y);
var $=Q[2].children;for(var l=0;l<$.length;l++)A($[l],Y,M,t);Y.p.push(i)}}function r(B){var Y=B.rect;
return new hq(Y[0],Y[1],Y[2],Y[3])}function S(B){var Y=B.transform;return new gF(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}function z(B){var Y=B.color,t=Y[0],p;
if(t==5)p=Y.slice(1);else if(t==6)p=UDOC.C.cmykToRgb(Y.slice(1));else{console.log(Y);throw t}return p}function A(B,Y,t,p){t=t.clone();
t.concat(S(B));var f=B.path,a=B.appearance,D=B.visible,c=B.children,J=Y.tT();if(D!=null)J.pQ(D);if(c&&c.length==1&&c[0].bitmapFill){J.lP("bitmap");
var Z=c[0],Q=r(Z),M=S(Z);M.concat(t);var u=Z.bitmapFill.bitmap;u=p[u]._bin;var P=Y.uo(u,"img.jpg",0,0);
P.Vs=J.Vs;J=P;var m=[0,0,Q.G,0,Q.G,Q.n,0,Q.n];q.g.D(m,M,m);J.add.SoLd.Trnf=K.S.Ua(m);J.add.SoLd.nonAffineTransform=K.S.Ua(m);
J.Vw(Y,!1)}else if(B["bool2-1623"]){var Z=c[0],Q=r(Z),M=S(Z),i;M.concat(t);var e=-2;for(var X in p){i=p[X];
if(i.textData){var $=i.textData;if($.fW==514){e++;if(e==s){s++;break}}}}if(i.textData==null)return;i=i.textData.anV.join("").replace(/\r/g,"\n");
J.lP("text");J.add.lnsr="rend";J.add.TySh=en.iE(0,0);J.add.TySh.Kr=Q;J.add.TySh.D=M;var O=J.add.TySh.pg;
en.Bx(O,0,i.slice(0,i.length-1));en.WR(O,1);en.EU(O,[0,0,Math.round(Q.G),Math.round(Q.n)])}else if(f){J.lP("path");
J.Vs|=16;var T=J.add.vmsk=new y.kL,b=J.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default)),R=J.add.vogk=[],w=[0,0,0];
if(a){var F=a.strokeSwatch,L=a.fillSwatch,x=a.strokeWeight;b.strokeEnabled.v=F!=null;b.fillEnabled.v=L!=null;
if(F){b.strokeStyleLineWidth.v.val=x?x[0]:1;w=z(p[F[0]]);b.strokeStyleContent.v.Clr.v=q.i.Sm({w:w[0]*255,A:w[1]*255,U:w[2]*255})}if(L){w=z(p[L[0]])}}J.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:w[0]*255,A:w[1]*255,U:w[2]*255})}};
var g=B["prop-6204"][2]!=9;for(var n=0;n<f.length;n++){var h=f[n],_=h.length,H=g?0:3;T._.push({type:H,length:_,my:0,cd:2,L_:0,p4:0});
for(var l=0;l<_;l++){var G=h[l],H=G[0],j=new cR(G[1],G[2]),v=new cR(G[3],G[4]),C=new cR(G[5],G[6]);if(H==0)T._.push({type:H+2,hJ:j,H:v,De:C});
else if(H==2)T._.push({type:H+2,hJ:j,H:j,De:j});else throw H}R.push(q.O6.tC())}q.J.Yy(T._,t);J.qB(Y)}else if(c){J.lP("group");
J.Vs=24;J.add.lsct=d9.KK;Y.p.push(Y.YL());for(var l=0;l<c.length;l++)A(c[l],Y,t,p)}if(B.name)J.lP(B.name);
Y.p.push(J)}return N}();var K={};K.Z=function(s){return window.devicePixelRatio||1};K.Zg=function(s,N){return(N.a2s=="touch"?12:4)*K.Z()/s.a.X};
K.PJ=function(s,N,r){this.name=s;this.id=N;this.$0=null;if(r!=null)this.rG=r};K.PJ.prototype.OG=function(s,N,r,S,z){};
K.PJ.prototype.enable=function(s,N,r,S,z,A){var B=new hU(k.E.Y,!0);B.data={d:k.s.Qb,BQ:"default"};N.c(B)};
K.PJ.prototype.disable=function(s,N,r,S,z){};K.PJ.prototype.Hw=function(s,N,r,S,z){return!1};K.PJ.prototype.Vk=function(s,N,r,S,z){};
K.PJ.prototype.CX=function(s,N,r,S,z){};K.PJ.prototype.ud=function(s,N,r,S,z){};K.PJ.prototype.gE=function(s,N,r,S,z,A){};
K.PJ.prototype.jN=function(s,N,r,S,z){};K.PJ.prototype.Rt=function(s,N,r,S){};K.PJ.prototype.tU=function(s,N,r,S){};
K.PJ.prototype._6=function(s,N){};K.PJ.prototype.kA=function(s,N){};K.PJ.prototype.e_=function(s,N,r,S,z){};
K.PJ.prototype.wy=function(s,N){};K.PJ.prototype.KR=function(s,N){return!1};K.PJ.prototype.pN=function(s,N){return!1};
K.PJ.prototype.YJ=function(){return!1};K.PJ.prototype.rL=function(s,N){return!0};K.PJ.prototype.YR=function(){return null};
K.PJ.prototype.Qy=function(s,N,r){};K.PJ.prototype.ns=function(){return!1};K.PJ.prototype.wx=function(s,N,r,S){};
K.PJ.prototype.track=function(s){var N=new hU(k.E.gu,!0);N.data=s;s.Mv=!0;this.$0.c(N)};K.PJ.O7=function(s,N,r,S){var z=10*K.Z()*(s.a2s=="touch"?2:1),A=s.x+z,B=s.y-z,Y=q.HR.jc(N.G,r.FD,S,r.G,!0),t=q.HR.jc(N.n,r.FD,S,r.n,!0);
while(Y.length<t.length)Y=" "+Y;while(Y.length>t.length)t=" "+t;K.PJ.Jw(A,B,[eV.get([12,41]).charAt(0)+": "+Y,eV.get([12,42]).charAt(0)+": "+t],r)};
K.PJ.Jw=function(s,N,r,S){function z(p,Z,Q,M,u,P){p.beginPath();p.moveTo(Z,Q+P);p.arcTo(Z,Q+u,Z+P,Q+u,P);
p.arcTo(Z+M,Q+u,Z+M,Q+u-P,P);p.arcTo(Z+M,Q,Z+M-P,Q,P);p.arcTo(Z,Q,Z,Q+P,P)}var A=K.Z(),B=Math.round,Y=B(11*A),t=K.PJ.ZS,f=0;
if(t==null)t=K.PJ.ZS=document.createElement("canvas");var p=t.getContext("2d");p.font=Y+"px monospace";
for(var l=0;l<r.length;l++)f=Math.max(f,p.measureText(r[l]).width);var a=B(f+12*A),D=B((r.length*14+5)*A),c=new hq(s,N-D,a,D);
if(t.width!=a||t.height!=D){t.width=a;t.height=D}p.clearRect(0,0,a,D);p.fillStyle="rgba(0,0,3,0.8)";
z(p,0,0,a,D,B(4*A));p.fill();p.fillStyle="rgba(255,255,255,1)";for(var l=0;l<r.length;l++)p.fillText(r[l],B(6*A),B((l+1)*13*A));
var J=[p.getImageData(0,0,a,D).data,c.clone()];if(S)S.R.QQ=[J];return J};K.PJ.ZS=null;K.tM="0";K.Kn="1";
K.anH="2";K.a2I="3";K.Zj="5";K.a00="6";K.adG="7";K.nl="8";K.Qn="9";K.$u="10";K.Ea="11";K.f0="12";K.yI="13";
K.BN="14";K.Z9="16";K.BM="18";K.Kx="19";K.Jr="20";K.SY="21";K.CR="22";K.rX="23";K.j8="24";K.gG="25";
K.gO="27";K.Xk="31";K.ar4="32";K.ai9="34";K.asg="35";K.Vr="36";K.zm="37";K.Kj="38";K.XJ="39";K.Cj="40";
K.bj="41";K.Kf="42";K.f7="43";K.avL="44";K.wQ="47";K.f9="48";K.pG="51";K.bt="52";K.ib="54";K.df="55";
K.cy="56";K.AX="57";K.mA="58";K.g1="59";K.a1A="60";K.b_="61";K.wA="70";K.ZB="100";K.nM="101";K.vN="102";
K.RZ="103";K.sC="120";K.du="230";K.aoZ="231";K.pI="232";K.g$="233";K.dl="234";K.AB="235";K.Wt="236";
K.sd=function(s){var N=K.h8,r=null;for(var S in N)if(N[S][1].indexOf(s[1].classID)!=-1)r=S;return r};
K.h8={};K.h8[K.rX]=["tools/brush",["PbTl"]];K.h8[K.j8]=["tools/pencil",["PcTl"]];K.h8[K.Xk]=["tools/eraser",["ErTl"]];
K.kn=function(s,N,r){K.PJ.call(this,s,N,r);this.db={brush:s?fD.oE():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.tx=null;this.xj=null;this.Xz=null;this.lK=null;this.Vc=null;this.Wm=null;this.J8=null;this.lY=null;
this.OX=null;this.lb=null;this.tW=null;this.p9=null;this.ZH=null;this.Gp=1;this.Br=!1;this.h$=null;this.caller=null};
K.kn.prototype=new K.PJ;K.kn.prototype.pN=function(s,N){return s.Rd&&N.t(cK.nG)};K.kn.prototype.CX=function(s,N,r,S,z){if(S.t(cK.nI)){this.Wm=new cR(z.x,z.y);
var A=this.db.brush.Brsh.v,B=A.Dmtr.v.val,Y=A.Hrdn!=null?A.Hrdn.v.val:-1;this.J8=[B,Y,!0,JSON.parse(JSON.stringify(this.db.brush)),z];
this.SP(r)}};K.kn.prototype.EN=function(s,N,r){var S=this.J8,z=s.a.X,A=r.x-S[4].x,B=r.y-S[4].y,Y=S[0],t=S[1],p=Math.abs(A)>Math.abs(B);
if(p&&S[2]){var f=Math.round(2*A/z);Y+=f;r.x-=A-.5*f*z}if(!p&&!S[2]&&t!=-1){var f=Math.round(.25*B);
t+=f;r.y-=B-4*f}Y=Math.max(1,Y);t=S[1]==-1?-1:Math.max(0,Math.min(100,t));var a=S[3];a.Brsh.v.Dmtr.v.val=Y;
if(t!=-1)a.Brsh.v.Hrdn.v.val=t;this.J8=[Y,t,p,a,r];var D=ex.gW(a,N.Vj.nv,z),c=D[1];c.x=Math.round(this.Wm.x-c.G/2);
c.y=Math.round(this.Wm.y-c.n/2);s.R.fE=[D];var J=s.a.Vd(this.Wm.x,this.Wm.y);s.R.D8={rN:[],Ad:[J.x-Y/2,J.y,J.x+Y/2,J.y]};
if(t!=-1)s.R.D8.Ad.push(J.x+50/z,J.y-t/2,J.x+50/z,J.y+t/2);s.kk=!0};K.kn.prototype.jN=function(s,N,r,S,z){if(this.id==K.Jr||this.id==K.SY)return;
if(this.Wm){this.Wm=null;this.Ou(JSON.parse(JSON.stringify(this.J8[3])));s.R.fE=[];s.R.D8=null;s.kk=!0;
return}var A=new hU(k.E.Y,!0);A.data={d:k.s.Em,k:this.id,ab$:"showBrushOpts",Hk:new cR(z.f_+4,z.FX)};
N.c(A)};K.kn.prototype.Ou=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Jl,LS:eq.Uv,TK:s};this.caller.c(N)};
K.kn.ku=function(s,N,r,S,z,A){if(s==null)s="FrgC";if(N==null)N="norm";if(r==null)r=1;if(z==null)z=!1;
var B={classID:"Fl",Usng:{t:"enum",v:{FlCn:s}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(r*100)}},PrsT:{t:"bool",v:z},Md:{t:"enum",v:{BlnM:bm.Cu(N)}}};
if(s=="Clr")B.Clr={t:"Objc",v:S};if(s=="contentAware")B.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(s=="Ptrn")B.Ptrn={t:"Objc",v:A};return{uU:"fill",wz:B}};K.kn.prototype.OG=function(s,N,r,S,z){this.$0=N;
var A=r.rz.length;if(A==0&&!r.pu())return;var B=A!=0?-1-r.rz[0]:r.f[0],Y=r.p[B];if(s.d=="fromAction"){var t=s.As,p=t.wz;
if(p&&p.null&&p.null.v[0]&&p.null.v[0].v.classID=="Path"){var f=r.Ly(),a=f[0],D=f[1],c=a[D.length==0?0:D[0]].add.vmsk;
if(t.uU=="fill"){var J=c.eg(),Z=z.Hd,Q=this.db,M=Z>>16&255,u=Z>>8&255,P=Z>>0&255;this.uF(r,Y,J,M,u,P,Math.round(Q.opacity*255),Q.bmode,"Fill Path")}else{for(var m=0;
m<1e3;m++){var i=q.J.$l(c._,m,!0);if(i==-1){this.gE(r,N,z,S,null);break}var e=c._[i],X=c._.slice(i,i+1+e.length),$=q.g.Xl(X,!0).v,O=$.slice(0,8);
for(var T=8;T<$.length;T+=6)O.push($[T-2],$[T-1],$[T],$[T+1],$[T+2],$[T+3],$[T+4],$[T+5]);var b={};b.Points=O;
b.TextOnPathTRange=c.Ig.slice(0);var b=aM.Y8(b,2),R=b[0];if(m==0)this.Vk(r,N,z,S,r.a.Oo(R[0],R[1]));
else this.xj.moveTo(R[0],R[1]);for(var l=2;l<R.length;l+=2){var w=r.a.Oo(R[l],R[l+1]);w.Rd=!0;this.ud(r,N,z,S,w,this.db.flow)}}}}else if(t.uU=="fill"){var F=p.PrsT?p.PrsT.v:!1,L=Y?Y.add.lspf:0;
if(F&&Y){Y.add.lspf=L==null?1:L|1}var x=(p.Opct?p.Opct.v.val:100)/100,g=p.Md?bm.KW(p.Md.v.BlnM):"norm",n=p.Usng.v.FlCn;
if(n=="contentAware"){if(r.q==null){alert("Select an area to heal first.");return}if(!r.pu())return;
this.TR(r);this.Fu(r,0);var h=r.q,_=q.m(h.rect.$()*4);q.XX(h.channel,_,3);this.VD(r,"sheal",_,h.rect,h.rect);
this.V(r,h.rect);this.finish(r,h.rect)}else if(n=="Ptrn"){var H=z.dj,G=r.q?r.q.rect.clone():new hq(0,0,r.G,r.n),j=q.m(G.$()*4);
hC.Hb(p,j,G,H,new cR(0,0));this.IJ(r,Y,r.q,j,"norm",[6,48,0,2])}else{var Z;if(n=="FrgC")Z=z.Hd;else if(n=="BckC")Z=z.on;
else if(n=="Blck")Z=0;else if(n=="Wht")Z=16777215;else if(n=="Gry")Z=8421504;else if(n=="Clr"){var v=q.i.iy(p.Clr.v);
Z=v.w<<16|v.A<<8|v.U}var M=Z>>16&255,u=Z>>8&255,P=Z>>0&255;this.uF(r,Y,r.q,M,u,P,Math.round(255*x),g,[2,3])}if(F&&Y){Y.add.lspf=L==null?0:L}}else if(t.uU=="delete"){var C=B<0?1:Y.GC,h=r.q,fG;
if(h==null)return;var E=B<0?r.Aa[-B-1]:C<=0?null:C==1?Y.eg():Y.NM(r).B,G=C<=0?Y.rect:E.rect,I=C<=0?h.rect.PS(G):h.rect.clone();
if(I.Nf())return;var dJ=I.$();if(C<=0){fG=q.m(dJ*4);q.LP(Y.buffer,Y.rect,fG,I)}else{fG=q.m(dJ);E.extend(I);
q.lf(E.channel,E.rect,fG,I)}if(0<=B&&Y.nN(r,h)){if(C<=0){q.TM(fG,0);q.LP(Y.p1.CS,Y.p1.lt,fG,I)}else{fG.fill(255);
q.lf(Y.p1.CS,Y.p1.lt,fG,I)}}else{if(C<=0){var o=q.m(fG.length>>2);q.WZ(fG,o,3);q.Q.lW(q.tC(h.rect.$()),h.rect,o,I,h.channel,I,1);
q.XX(o,fG,3)}else{var i4=q.m(h.rect.$()),M=z.on>>>16&255,u=z.on>>8&255,P=z.on>>0&255;i4.fill(Math.round(q.il(M,u,P)));
q.Q.lW(i4,h.rect,fG,I,h.channel,I,1)}}this.zP(r,!0,[2,2],B,C,I,fG)}}if(s.d=="stroke"){var df=s.a06,h=r.q;
if(h==null){h={rect:Y.rect.clone(),channel:q.m(Y.rect.$())};q.WZ(Y.buffer,h.channel,3)}var eO=hC.q8(df),cO=K.eL.E7(h,Math.ceil(eO[0]),Math.ceil(eO[1])),Z=q.i.iy(df.Clr.v),M=Math.round(Z.w),u=Math.round(Z.A),P=Math.round(Z.U);
this.uF(r,Y,cO,M,u,P,Math.round(255*df.Opct.v.val/100),bm.KW(df.Md.v.BlnM),[14,9])}if(s.d=="fillBMP"){this.IJ(r,Y,r.q,s.hp,s.hC,s.Ru)}if(s.d=="draw"){var ej=s.ji,cn=ej.rect;
this.TR(r);var j5=r.p[r.f[0]];if(s.a5v&&j5&&j5.GC<=0&&r.rz.length==0){cn=K.o7.al1(ej,r);j5.buffer=ej.buffer.slice(0);
j5.rect=cn.clone()}else{var gP=this.db.bmode;this.db.bmode="norm";this.VD(r,"draw",ej.buffer,cn,cn.PS(new hq(0,0,r.G,r.n)));
this.db.bmode=gP}this.V(r,cn);r.J4=!0;this.finish(r,cn,s.Ru,s.a5v)}};K.kn.prototype.uF=function(s,N,r,S,z,A,B,Y,t){var p=r==null?new hq(0,0,s.G,s.n):r.rect,f=B<<24|A<<16|z<<8|S<<0,a=q.m(p.$()*4);
q.TM(a,f);this.IJ(s,N,r,a,Y,t)};K.kn.prototype.IJ=function(s,N,r,S,z,A){var B=s.rz.length!=0?-1-s.rz[0]:s.f[0],Y=B<0?1:N.GC,t=B<0?s.Aa[-1-B]:Y<=0?null:Y==1?N.eg():N.NM(s).B,p=Y<=0?N.rect:t.rect,f=r==null?new hq(0,0,s.G,s.n):r.rect,a=r==null?q.ni(s.G*s.n):r.channel,D=f.$(),c,J=null;
if(Y<=0){c=q.m(D*4);q.LP(N.buffer,N.rect,c,f)}else{c=q.m(D);t.extend(f);q.lf(t.channel,t.rect,c,f)}if(r!=null)q.Ee(a,S);
if(Y>0){J=q.m(D);q.I_(S,J)}if(0<=B&&r&&N.nN(s,r)){var Z=N.p1.oS,Q=N.p1.oS.slice(0);if(Y<=0)q.r8(S,Q);
else q.r8(J,Q);var M=new hZ([2,3],this);M.data={d:"drawtemp",j:s.f[0],CN:Y,aht:Z,aaO:Q};s.yF(M);this._6(M.data,s)}else{if(Y<=0){var u;
if(N.pa(0)){u=q.m(f.$());q.WZ(c,u,3)}q.Q.VP(z,S,f,c,f,f,1);if(N.pa(0))q.XX(u,c,3)}else q.Q.lW(J,f,c,f,a,f,1);
this.zP(s,!0,A,B,Y,f,c)}};K.kn.prototype.KR=function(s){if(cK.zN.indexOf(s)!=-1)return!0;return!1};K.kn.prototype.Rt=function(s,N,r,S){var z=this.db.brush,A=S.t(cK.nI),B=A!=this.Br,Y=K.kn.hY(z,S);
if(Y!=null)this.Ou(Y);if(!S.t(cK.z6)&&S.JH()!=-1){var t=cK.RL(Math.round(this.db.opacity*100),S.JH())/100;
this.PV({opacity:t},N)}if(this.id==K.nl&&B&&s!=null){var p=this.db.qsmode;if(p==2)p=s.q==null?0:1;else p=2;
this.PV({qsmode:p},N)}this.Br=A;if(B){if(s)this.Gp=s.a.X;this.SP(r,S)}};K.kn.hY=function(s,N){var r=s.Brsh.v.Dmtr.v.val,S=s.Brsh.v.Hrdn!=null?s.Brsh.v.Hrdn.v.val:-1,z=r,A=S,B=N.t(cK.nG);
if(N.t(cK.TZ)){if(B)S=25*Math.floor((S-1)/25);else{if(r<=10)r--;else if(r<=50)r=5*Math.floor((r-1)/5);
else if(r<=100)r=10*Math.floor((r-1)/10);else if(r<=200)r=25*Math.floor((r-1)/25);else if(r<=400)r=50*Math.floor((r-1)/50);
else r=100*Math.floor((r-1)/100)}}if(N.t(cK.t$)){if(B)S=25*Math.ceil((S+1)/25);else{if(r<10)r++;else if(r<50)r=5*Math.ceil((r+1)/5);
else if(r<100)r=10*Math.ceil((r+1)/10);else if(r<200)r=25*Math.ceil((r+1)/25);else if(r<400)r=50*Math.ceil((r+1)/50);
else r=100*Math.ceil((r+1)/100)}}r=Math.max(1,r);S=Math.max(0,Math.min(100,S));if(A==-1)S=-1;if(r!=z||S!=A){var Y=JSON.parse(JSON.stringify(s));
Y.Brsh.v.Dmtr.v.val=r;if(A!=-1)Y.Brsh.v.Hrdn.v.val=S;return Y}return null};K.kn.prototype.SP=function(s,N,r,S){if(s.Vj.list.length==0)return;
var z=this.id,A;if((z==K.gO||z==K.Kx||z==K.rX||z==K.j8)&&(N!=null&&N.t(cK.nI)||this.db.alt[0]))A="crosshair";
else{var B=this.Gp,Y=this.db.brush;if((z==K.gO||z==K.Kx)&&r&&this.p9&&this.p9.length==this.tW.$()*4){var t=r.a.Vd(S.x,S.y),p=this.Nj(t),f=this.p9,a=this.tW,D=new hq(a.x+p.x,a.y+p.y,a.G,a.n),c=ex.gW(Y,s.Vj.nv,B),J=c[0],Z=c[1],Q=Math.ceil(Z.G/B),M=new hq(Math.round(t.x-Q/2),Math.round(t.y-Q/2),Q,Q),u=q.m(M.$()*4),P,m;
q.LP(f,D,u,M);if(B==1){P=u;m=M}else{var i=new gF(B,0,0,B,0,0),e=K.S.aG([u,M],i,!0);m=Z.clone();m.x=e.rect.x;
m.y=e.rect.y;if(m.nR(e.rect))P=e.buffer;else{P=q.m(m.$()*4);q.LP(e.buffer,e.rect,P,m)}}var X=this.db.opacity/255;
for(var l=0;l<P.length;l+=4)P[l+3]=X*(J[l+3]*P[l+3]);ex.a33(new Uint32Array(P.buffer),m,4278190080,4294967295);
A={r2:P,Ge:m,Yx:new cR(m.G/2,m.n/2)}}else A=ex.ol(Y,s.Vj.nv,B,z==K.gG)}var $=new hU(k.E.Y,!0);$.data={d:k.s.Qb,BQ:A};
if(this.caller)this.caller.c($)};K.kn.prototype.enable=function(s,N,r,S){this.tx=r;this.caller=N;this.Ou(JSON.parse(JSON.stringify(this.db.brush)));
if(s&&s.a.X!=0)this.Gp=s.a.X;this.SP(r,S)};K.kn.prototype.wy=function(s,N){if(N==eq.Uv){this.db.brush=s.Vj.io;
this.SP(s)}};K.kn.prototype.e_=function(s,N,r,S,z){for(var A in s)this.db[A]=s[A];if(this.db.alt[0])this.SP(z,S,r)};
K.kn.prototype.$N=function(s){var N=s.rz.length!=0?-1-s.rz[0]:s.f[0],r=s.p[N],S=N<0?1:r.GC,z=N<0?s.Aa[-N-1]:S<=0?null:S==1?r.eg():r.NM(s).B,A=z?z.channel:r.buffer,B=(z?z.rect:r.rect).clone();
return[r,S,z,A,B]};K.kn.prototype.TR=function(s,N){this.ZH=s.q==null?null:{rect:s.q.rect.clone(),channel:s.q.channel.slice(0)};
var r=this.$N(s),S=r[0],z=r[1],A=r[2];this.lb=r[3];this.OX=r[4];var B=new hq(0,0,s.G,s.n),Y=B.Ms(this.OX);
if((this.P7()&&z<=0||Y.nR(this.OX))&&N!=!0)this.lb=this.lb.slice(0);else{if(A)A.extend(Y);else S.extend(Y)}};
K.kn.prototype.Fu=function(s,N){var r=this.$N(s),S=r[1],z=r[3],A=r[4],B=[z,A],Y=N!=null?N:this.db.sfrom;
if(S<=0&&Y!=0){B[1]=new hq(0,0,s.G,s.n);B[0]=s.r9(Y==1&&s.f[0]!=s.p.length-1?s.f[0]:null).slice(0)}this.tW=B[1].clone();
this.p9=B[0].slice(0)};K.kn.prototype.wo=function(s,N,r){if(s.t(cK.nI)){var S=new hU(k.E.r,!0);S.k=K.BN;
S.data={d:"pickhere",aj4:r};N.c(S);return!0}return!1};K.kn.prototype.VR=function(s,N,r,S,z,A){if(this.id!=K.nl&&!s.pu(this.caller)){this.xj=null;
return}if(this.id!=K.nl&&this.xj)return;this.TR(s);var B=new hq(0,0,s.G,s.n),Y=null;if(A!=null){var t=s.rz.length!=0?-1-s.rz[0]:s.f[0],p=s.p[t],f=t<0?s.Aa[-t-1]:p.GC<=0?null:p.GC==1?p.eg():p.NM(s).B;
Y=q.m(B.$()*4);if(f)K.kn.qm(this.lb,this.OX,f.color,Y,B);else q.LP(this.lb,this.OX,Y,B)}var a=this.db;
if(this.xj&&this.id==K.nl&&a.qsmode!=0&&s.q!=null){}else{var D=N.Hd,c=N.on;if(this.h$=="erase"){var J=D;
D=c;c=J}var Z=this.id==K.nl?this.OX:B;this.xj=new ex(a.brush,N.Vj.nv,N.Vj.wf,{nh:z,bn:A,a4_:a.smth*50/s.a.X,$A:this.id==K.j8||a.emode==1,pW:a.prsr},D,c,Z,Y)}if(this.id==K.nl){this.xj.akD(a.brush,a.qsmode==2?0:16777215)}var Q=s.a.Vd(S.x,S.y);
if(r.t(cK.nG)&&this.Xz){var M=this.Xz;this.xj.moveTo(M.x,M.y,S.vK);this.xj.lineTo(.001*M.x+.999*Q.x,.001*M.y+.999*Q.y,S.vK);
this.xj.lineTo(Q.x,Q.y,S.vK)}else this.xj.moveTo(Q.x,Q.y,S.vK);this.Xz=Q;this.lK=Q.clone();this.Vc=new cI(Q,s.a.hw)};
K.kn.prototype.FQ=function(s,N,r){if(s&&s.a.X!=0&&s.a.X!=this.Gp){this.Gp=s.a.X;this.SP(r)}};K.kn.prototype.jL=function(s,N,r,S){if(this.xj==null)return;
var z=s.p[s.f[0]],A=s.a.Vd(S.x,S.y),B=this.Vc.gi(A,r);if(B.nR(this.Xz))return 1;this.xj.lineTo(B.x,B.y,S.vK);
this.Xz=B;if(this.id==K.gO||this.id==K.Kx){var Y=this.P9(),t=11;Y=s.a.Oo(A.x-Y.x,A.y-Y.y);var p=t>>>1,f=new hq(Math.round(Y.x)-p,Math.round(Y.y)-p,t,t),a=q.m(f.$()*4);
q.TM(16777215);for(var l=0;l<t;l++)a[(l*t+p)*4+3]=a[(t*p+l)*4+3]=255;s.R.QQ=[[a,f]];s.kk=!0}};K.kn.prototype.tU=function(s,N,r,S){if(r.ru!=this.id)return;
if(this.id!=K.nl||s==null)return;if(s.q==null||s.f[0]!=this.agy){this.agy=s.f[0];this.PV({qsmode:0},N)}};
K.kn.prototype.V=function(s,N){if(s.rz.length!=0){s.kk=!0;return}var r=s.p[s.f[0]];if(N==null){N=this.xj.Zy();
if(this.P7()&&r.GC<=0)N=N.PS(this.OX)}var S=r.GC;if(S==1||S==3){var z=Math.round((S==1?r.eg():r.NM(s).B).H0*2.4);
N=N.clone();N.r6(z,z)}if(N.Nf())return;if(S<=0){r.V(N)}if(S==1){r.eg().eB=!0;r.qB(s,N)}if(S==3){r.V(N)}s.V(s.root.Kp(N,s,s.f[0],!0))};
K.kn.prototype.gE=function(s,N,r,S,z){if(this.xj==null)return;this.xj.finish();if(this.id!=K.BM&&this.id!=K.Kx&&this.id!=K.nl)this.Gl(s);
if(this.id==K.gO||this.id==K.Kx){s.R.QQ=[];s.kk=!0}if(this.id==K.nl){var A=s.q;s.q=this.ZH;var B=new hU(k.E.r,!0);
B.data={d:"setsel",Ru:this.name,q:A};B.k=K.Kn;N.c(B);if(this.db.qsmode==0)this.PV({qsmode:1},N)}else{this.finish(s,this.xj.Ag());
this.xj=null;this.lY=null}this.dir=0};K.kn.prototype.PV=function(s,N){for(var r in s)this.db[r]=s[r];
var S=new hU(k.E.Y,!0);S.data={d:k.s.Em,k:this.id,ll:s};N.c(S)};K.kn.prototype.P7=function(){var s=this.id;
return s==K.nl||s==K.Xk||s==K.XJ||s==K.Cj||s==K.bj||s==K.CR};K.kn.prototype.finish=function(s,N,r,S,z){var A=s.rz.length!=0?-1-s.rz[0]:s.f[0],B=s.p[A],Y=A<0?1:B.GC,t=A<0?s.Aa[-A-1]:Y<=0?null:Y==1?B.eg():B.NM(s).B,p=t?t.rect:B.rect,D;
if(this.P7()||!p.nR(this.OX)){if(t==null){if(this.P7())B.pS();else{var f=N.Ms(this.OX),a=q.m(f.$()*4);
q.LP(B.buffer,B.rect,a,f);B.buffer=a;B.rect=f}}else t.pS();this.V(s,p)}if(Y<=0){D=q.m(N.$()*4);q.LP(this.lb,this.OX,D,N)}else{D=q.m(N.$());
D.fill(t.color);q.lf(this.lb,this.OX,D,N)}this.zP(s,!1,r?r:this.name,A,Y,N,D,S,z)};K.kn.prototype.zP=function(s,N,r,S,z,A,B,Y,t){var p=B;
if(z>0){p=q.m(A.$()*4);K.kn.qm(B,A,0,p,A)}var f=new hZ(r,this);f.data=[{j:S,CN:z,Ge:A,GT:p}];if(Y)f.data.iA=[s.q,null];
if(t)f.data.iA=[this.ZH,s.q];s.yF(f);if(N)this._6(f.data,s);else if(Y)s.q=null;K.fB.a1s(s,f.data)};K.kn.prototype.kA=function(s,N){this.dd(s,N,!1)};
K.kn.prototype._6=function(s,N){this.dd(s,N,!0)};K.kn.prototype.dd=function(s,N,r){if(s.d=="drawtemp"){var S=r?s.aaO:s.aht,z=N.p[s.j];
z.p1.oS=S;z.NP(N,0,0,N.q);z.V();N.J4=!0}else{K.fB.z0(N,s);if(s.iA){N.q=s.iA[r?1:0];N.Ch=!0}}N.V()};K.kn.prototype.Gl=function(s){this.VD(s,this.h$,this.xj.pp(),this.xj.dy(),this.xj.Zy());
this.V(s)};K.kn.prototype.VD=function(s,N,r,S,z){var A=this.db,B=s.p[s.f[0]],Y=s.rz.length!=0?s.Aa[s.rz[0]]:B.GC<=0?null:B.GC==1?B.eg():B.NM(s).B,t=q.m(z.$()*4),p,f=B.pa(0);
if(Y==null){if(this.id==K.SY&&N=="heal")q.LP(B.buffer,B.rect,t,z);else q.LP(this.lb,this.OX,t,z);if(f){p=q.m(z.$());
q.WZ(t,p,3)}}else{K.kn.qm(this.lb,this.OX,Y.color,t,z)}if(s.q&&N!="qselect"){var a=z.PS(s.q.rect),D=q.m(a.$()*4);
if(N=="copy"){var c=q.m(a.$());q.lf(s.q.channel,s.q.rect,c,a);q.LP(t,z,D,a);q.Q.QV(r,S,D,a,c,a,0,a,1,!1)}else{q.LP(r,S,D,a);
q.Nc(s.q.channel,s.q.rect,D,a)}r=D;S=a}function J(M,gP){var gR=Math.max(gP.x,Math.min(gP.x+gP.G-1,M.x)),c3=Math.max(gP.y,Math.min(gP.y+gP.n-1,M.y));
return new cR(gR,c3)}if(N=="idraw"||N=="ierase"){if(this.lY==null)this.lY=q.m(this.OX.$());var Z=this.db.samp,Q=this.tx.on,M=J(this.Xz,z),u=Z==0?M:this.lK,P=u.x,m=u.y,i=K.RI.aq3(this.lb,this.OX,[u,new cR(P-2,m),new cR(P+2,m),new cR(P,m-2),new cR(P,m+2)]);
if(Z==2)i=[[Q>>>16&255,Q>>>8&255,Q>>>0&255,255]];var e=K.RI.alX(t,z,M,i,this.db.wconf),X=q.m(z.$());
q.lf(this.lY,this.OX,X,z);q.$T.Ms(e,X,X);q.lf(X,z,this.lY,this.OX);q.Nc(X,z,r,S);N=N.slice(1)}if(N=="erase"&&(K.fB.aa1(s)!=16777215||Y))N="draw";
if(N=="draw")q.Q.VP(A.bmode,r,S,t,z,z,A.opacity);else if(N=="erase"){var $=q.m(z.$()*4);q.LP(r,S,$,z);
if(Y==null){var O=q.m(z.$());q.WZ($,O,3);q.zL(O,A.opacity);q.dm(O);q.Nc(O,z,t,z)}else{q.TM($,0,4278190080);
q.Q.VP("norm",$,z,t,z,z,A.opacity)}}else if(N=="clone"||N=="heal"){var T=this.P9(),b=this.tW.clone();
b.offset(T.x,T.y);var R=z.clone();R.r6(1,1);var w=q.m(R.$()*4),F=q.m(R.$());q.LP(r,S,w,R);q.WZ(w,F,3);
q.TM(w,0);if(Y==null){q.LP(this.p9,b,w,R);var L=q.m(R.$());q.WZ(w,L,3);q.Q2(L,F)}else K.kn.qm(this.p9,b,Y.color,w,R);
if(N=="clone"){q.XX(F,w,3);q.Q.VP(A.bmode,w,R,t,z,z,A.opacity)}if(N=="heal"){var x=F.slice(0);q.round(x,20);
var g=q.m(R.$()*4);if(Y==null)q.LP(this.lb,this.OX,g,R);else K.kn.qm(this.lb,this.OX,Y.color,g,R);q.Q.QV(w,R,g,R,x,R,0,R,1,!1);
q.wU.m8(g,x,R);q.Q.QV(g,R,t,z,F,R,0,z,1,!1)}}else if(N=="dodge"||N=="burn"){var w=q.m(z.$()*4),_=1,H=0,G=0,j=0;
q.LP(r,S,w,z);var n=z.$()*4,h=K.kn.SJ;if(this.Br){if(N=="dodge")N="burn";else N="dodge"}var v=A.rng;
if(N=="dodge"){H=[1-_/2,1,1+_][v];G=[1,1/(1+_),1][v];j=[_/2,0,0][v]}if(N=="burn"){H=[1/(1-_/2),1,1-_/2][v];
G=[1,1+_,1][v];j=[-(_/2)/(1-_/2),0,0][v]}for(var l=0;l<n;l+=4){var C=w[l+3];t[l+0]=h(t[l+0],H,G,j,C);
t[l+1]=h(t[l+1],H,G,j,C);t[l+2]=h(t[l+2],H,G,j,C)}}else if(N=="sponge"||N=="redeye"){var w=q.m(z.$()*4),F=q.m(z.$());
q.LP(r,S,w,z);q.WZ(w,F,3);q.r8(t,w);var E=A.smode;if(this.Br)E=1-E;var I=hT.yS("hue2");if(N=="sponge")eJ.Sk(I,0,[0,[-50,46][E],[6,5][E]]);
else eJ.Sk(I,1,{Fm:[265,305,25,55],hm:[0,-90,-70]});var dJ=ai.W7("hue2",I);ai.M$(dJ,w,w,z);q.Q.QV(w,z,t,z,F,z,0,z,1,!1)}else if(N=="copy")q.LP(r,S,t,z);
else if(N=="sheal"){var w=q.m(z.$()*4),F=q.m(z.$());q.LP(r,S,w,z);q.WZ(w,F,3);w.fill(0);var fG=this.p9,o=this.tW;
if(Y){fG=q.m(o.$()*4);K.kn.qm(this.p9,o,0,fG,o)}var i4=q.eN.m8(fG,o,F,w,z);if(i4!=0)q.LP(fG,o,w,z);if(this.db.sfrom==0)q.LP(w,z,t,z);
else{q.LP(this.lb,this.OX,t,z);q.XX(F,w,3);q.Q.VP("norm",w,z,t,z,z,1)}}else if(N=="qselect"){var df=this.OX,eO=df.G,cO=df.n,ej=eO*cO,cn=this.xj.pp(),i=this.lb,j5=K.eL.vl,F=j5.ND;
F.fill(128);for(var l=0;l<ej;l++){var gP=cn[l<<2],bY=cn[(l<<2)+3];if(bY==255&&(gP==0||gP==255))F[l]=gP}F[0]=F[eO-1]=0;
F[(cO>>>1)*eO]=F[(cO>>>1)*eO+eO-1]=0;K.qA.U8(j5,!0);s.q={rect:df,channel:j5.q.slice(0)};s.Ch=!0}if(Y==null){if(f)q.XX(p,t,3);
q.LP(t,z,B.buffer,B.rect)}else K.kn.je(t,z,Y)};K.kn.P9=function(){return null};K.kn.SJ=function(s,N,r,S,z){var A=s*(1/255),B=S+N*Math.pow(A,r),Y=Math.round(B*z+A*(255-z));
return Math.max(0,Math.min(255,Y))};K.kn.qm=function(s,N,r,S,z){var A=q.m(z.$());A.fill(r);q.lf(s,N,A,z);
S.fill(255);q._i(A,S)};K.kn.je=function(s,N,r){var S=q.m(N.$());q.I_(s,S);q.lf(S,N,r.channel,r.rect)};
K.eL=function(s,N,r){K.PJ.call(this,s,N,r);this.db={binop:0,feat:0,cstr:{BO:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.as=new cR(-1,-1);this.u2=new cR(-1,-1);this.MK="default";this.$0=null;this.a8Z=!0;this.pV=!1;this.x6=new dm;
this.l6=!1;this.O9=null;this.qo=null;this.iY=!1;this.yl=!1};K.eL.prototype=new K.PJ;K.eL.prototype.a4A=function(){var s=this.db,N=[s.binop,s.feat];
if(this.id==K.Qn)N.push(s.wconf);return N};K.eL.prototype.a2R=function(s,N,r){var S=this.db;S.binop=s[0];
S.feat=s[1];S.wconf=s[2];var z=new hU(k.E.Y,!0);z.data={d:k.s.Em,k:this.id,db:S};r.c(z)};K.eL.vl={key:""};
K.eL.vD=function(s,N,r){var S={uU:s,wz:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(N)S.wz.T=N;if(r!=null)S.wz.AntA={t:"bool",v:r};return S};K.eL.hy=function(s,N,r){return K.eL.vD("set",{t:"Objc",v:{classID:s,Top:{t:"UntF",v:{type:"#Pxl",val:N.y}},Left:{t:"UntF",v:{type:"#Pxl",val:N.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:N.y+N.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:N.x+N.G}}}},r)};
K.eL.lT=function(s,N,r){var S=[],z=[],B="set";for(var l=0;l<s.length;l+=2){S.push(s[l]);z.push(s[l+1])}var A={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:S},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:z}]}}}};
if(N)B=["set","addTo","subtractFrom","interfaceWhite"][N];return K.eL.vD(B,A,r)};K.eL.a42=function(s,N,r){var S={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:s.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:s.y}}}},z=K.eL.vD("set",S);
z.wz.Tlrn={t:"long",v:N[0]};z.wz.AntA={t:"bool",v:N[1]};z.wz.Cntg={t:"bool",v:N[2]};if(r==!0)z.wz.Mrgd={t:"bool",v:r};
return z};K.eL.Aq=function(s){return K.eL.vD("set",{t:"enum",v:{Ordn:s?"Al":"None"}})};K.eL.agQ=function(s,N,r){var S={classID:"null"};
if(s!="border")S.selectionModifyEffectAtCanvasBounds={t:"bool",v:r};var z={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[s[0]];
S[z]={t:"UntF",v:{type:"#Pxl",val:N}};return{uU:s,wz:S}};K.eL.X6=function(s,N,r){var S={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},z={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:N}}]};
if(r)z.v.push({t:"name",v:{classID:"Lyr",val:r}});var A=[{classID:"null",null:S,T:z},{classID:"null",null:z,T:S},{classID:"null",null:z,From:S},{classID:"null",null:z,With:S}],B=["set","add","subtract","interfaceIconFrameDimmed"];
return{uU:B[s],wz:A[s]}};K.eL.fc=function(s,N){var r=new hU(k.E.Y,!0);r.data={d:k.s.Jl,LS:eq.HI};if(!N.R1)s.c(r);
r.data={d:k.s.Jl,LS:eq.h2};if(!N.Hl.X5)s.c(r)};K.eL.prototype.OG=function(s,N,r,S,z){K.eL.fc(N,z);this.$0=N;
var A=s.d,B,Y,t=new hq(0,0,r.G,r.n),ka=!1,ds,ee,a9,ir;if(A=="fromAction"){var p=s.As,f=p.uU,a=p.wz,D=a?a.selectionModifyEffectAtCanvasBounds:null,c=D&&D.v;
if(f=="colorRange"){if(a.Clrs){var J=a.Clrs.v.Clrs,Z=0,Q=255,M=["Shdw","Mdtn","Hghl"].indexOf(J),i=.4;
if(M==0)Q=60;else if(M==1){Z=100;Q=150}else Z=190;var u=["shadows","midtones","highlights"][M],P=a[u+"LowerLimit"],m=a[u+"UpperLimit"];
if(P)Z=P.v;if(m)Q=m.v;var e=a[u+"Fuzziness"];if(e)i=e.v/100;B=K.eL.ck(r,Z,Q,i,!0)}else{var Z=a.Mnm.v,Q=a.Mxm.v,i;
Z={Mp:Z.Lmnc.v,aC:Z.A.v,U:Z.B.v};Q={Mp:Q.Lmnc.v,aC:Q.A.v,U:Q.B.v};i=a.Fzns.v/200;B=K.eL.ck(r,Z,Q,i)}Y=[7,8]}else if(f=="inverse"){if(r.q==null){alert("No selection!");
return}B={channel:q.m(t.$()),rect:t};q.lf(r.q.channel,r.q.rect,B.channel,B.rect);q.dm(B.channel);Y=[7,2]}else if(f=="expand"){var X=a.By.v.val,$=r.q.rect.clone();
$.r6(X,X);var O=q.m($.$()),T=q.m($.$());q.lf(r.q.channel,r.q.rect,T,$);q.style.stroke(T,O,$,X);B={channel:O,rect:$};
Y=[7,4]}else if(f=="contract"){var X=a.By.v.val,b=r.q.rect.clone();b.r6(1,1);if(!c)b=b.PS(t);var T=q.m(b.$()),R=q.m(T.length);
q.lf(r.q.channel,r.q.rect,T,b);q.dm(T);q.style.stroke(T,R,b,X);q.dm(R);B={channel:R,rect:b};q.pS(B);
Y=[7,5]}else if(f=="border"){var X=a.Wdth.v.val;B=K.eL.E7(r.q,X/2,X/2);Y=[7,9]}else if(f=="feather"||f=="smoothness"){var X=a.Rds.v.val;
B=K.eL._Y(r.q,X,f=="smoothness",t,c);Y=f=="feather"?[7,6]:[19,3,0]}else if(f=="move"){var w=a.T.v,$=r.q.rect.clone();
$.x+=w.Hrzn.v.val;$.y+=w.Vrtc.v.val;B={channel:r.q.channel,rect:$};Y=[7,7]}else{var F=a.null.v,L=a.AntA!=null&&a.AntA.v;
function x(fg){var j0=fg.Top.v.val,eS=fg.Left.v.val;return new hq(eS,j0,fg.Rght.v.val-eS,fg.Btom.v.val-j0)}function g(fg){var j0=fg[0].arr,bU=fg[1].arr,dn={v:[],F:[]};
for(var l=0;l<j0.length;l++){dn.F.push(l==0?"M":"L");dn.v.push(j0[l],bU[l])}dn.F.push("Z");return dn}var n=["set","addTo","subtractFrom","interfaceWhite"].indexOf(f),h=a.T?a.T.v:null;
if(h&&h.classID=="Elps"){B=this.uW(K.Bf.Li(x(h)));Y=[10,4]}else if(h&&h.classID=="Rctn"){var _=x(h);
B={channel:q.m(_.$()),rect:_.clone()};B.channel.fill(255);Y=[10,15]}else if(h&&h.classID=="ObSl"){var _=x(h),H=K.eL.vl,G=H.rect,j=H.ND,v=G.G,C=G.n,E=_.x-G.x,I=E+_.G-1,dJ=Math.max(E,Math.min(I,E+I>>>1)),fG=_.y-G.y,o=fG+_.n-1,i4=Math.max(fG,Math.min(o,fG+o>>>1)),df=Math.max(E,0),eO=Math.min(I,v),cO=Math.max(fG,0),ej=Math.min(o,C);
j.fill(128);if(0<=fG)for(var cn=df;cn<eO;cn++)j[fG*v+cn]=0;if(o<C)for(var cn=df;cn<eO;cn++)j[o*v+cn]=0;
if(0<=E)for(var j5=cO;j5<ej;j5++)j[j5*v+E]=0;if(I<v)for(var j5=cO;j5<ej;j5++)j[j5*v+I]=0;var gP=K.vC.a8V,bY=Math.round(_.G*gP),gR=Math.round(_.n*gP);
for(var cn=Math.max(0,dJ-bY);cn<Math.min(v,dJ+bY);cn++)j[i4*v+cn]=255;for(var j5=Math.max(0,i4-gR);j5<Math.min(C,i4+gR);
j5++)j[j5*v+dJ]=255;K.qA.U8(H,!0);B={channel:H.q.slice(0),rect:G.clone()};Y=[10,44]}else if(h&&h.classID=="Plgn"){B=this.uW(g(h.Pts.v.arr));
Y=[10,9]}else if(h&&h.classID=="Pnt"){B=K.RI.aeU(r,new cR(h.Hrzn.v.val,h.Vrtc.v.val),[a.Tlrn.v,L,a.Cntg==null||a.Cntg.v],a.Mrgd?a.Mrgd.v:!1);
Y=[10,12]}else if(h&&h.Ordn=="None"){B=null;Y=[7,1]}else if(h&&h.Ordn=="Al"){var c3=t;if(r.f.length!=0){var jj=r.root.uc(r.f[0]);
while(jj.parent&&jj.parent.parent)jj=jj.parent;if(jj.j.add.artb)c3=jj.j.M5()}B={channel:q.m(c3.$()),rect:c3};
B.channel.fill(255);Y=[7,0]}else if(h&&h[0]&&h[0].v.keyID=="WrPt"){var jC={d:"frompath",PH:[-1,0,0]};
this.OG(jC,N,r,S,z);return}else{var kf=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(f),bz=f=="set"?h:F,iv=bz[0].v.enum,jC;
if(iv=="Trsp"||iv=="Msk"||iv=="vectorMask"||iv=="Trgt"){var bI=r.f[0];if(bz.length==2)bI=dv.KA(r,bz[1]);
var jo=["Trsp","Msk","vectorMask"].indexOf(iv);if(iv=="Trgt"&&r.p[bI].GC==1)jo=1;jC={d:"fromlayer",PH:[bI,jo,kf]}}else{if(bz[0].t=="name"){var bI=0;
for(var l=0;l<r.Aa.length;l++)if(r.Aa[l].name==bz[0].v.val)bI=l;jC={d:"fromchannel",PH:[-5-bI,0,kf]}}else{var iZ=["RGB","Rd","Grn","Bl"].indexOf(iv);
jC={d:"fromchannel",PH:[-1-iZ,0,kf]}}}this.OG(jC,N,r,S,z);return}if(!L&&B)q.round(B.channel);if(a.Fthr)B=K.eL._Y(B,a.Fthr.v.val,!1);
if(f!="set"&&r.q!=null)B=q.$T.B9(B,r.q,n)}if(f=="expand"||f=="contract")if(!c&&!t.contains(B.rect)){var jD=B.rect.PS(t),dM=q.m(jD.$());
q.lf(B.channel,B.rect,dM,jD);B.channel=dM;B.rect=jD}}if(A=="qmask"){ka=!0;var eP=r.Y4(),jh=new hq(0,0,r.G,r.n);
if(eP){B=eP.rect.nR(jh)&&q.u6(eP.channel,255)?null:{rect:eP.rect.clone(),channel:eP.channel.slice(0)};
ds=eP}else{B=null;ee=new y.pk;ee.color=0;ee.name="Quick Mask";ee.TU=!0;if(r.q){ee.rect=r.q.rect.clone();
ee.channel=r.q.channel.slice(0)}else{ee.rect=jh;ee.channel=q.m(ee.rect.$());ee.channel.fill(255)}}Y=[6,6,1];
r.J4=!0}if(A=="setsel"){B=s.q;Y=s.Ru}if(A=="crange"){var Z=s.$W,Q=s.Fs;B=K.eL.ck(r,Z,Q,s.KT);Y=[7,8]}if(A=="fromlayer"||A=="fromchannel"||A=="frompath"){var fy=s.PH[0],jo=s.PH[1],n=s.PH[2];
if(A=="fromlayer"){if(fy==null)fy=r.f[0];var eS=r.p[fy];if(jo==0){var gz=eS.rect,fi=eS.buffer;if(gz.Nf())return;
var fw=q.m(fi.length>>>2);q.WZ(fi,fw,3);B={channel:fw,rect:gz.clone()}}else{if(eS.B==null)eS.qB(r);var ce=jo==1?eS.eg():eS.B;
B=K.eL.Pe(ce,t)}this.track(K.eL.X6(n,["Trsp","Msk"][jo],eS.getName()))}else if(A=="frompath"){var hl=r.Ly(),ia=hl[1],hl=hl[0];
if(fy==null)if(hl.length==0||ia.length==0)return;var iQ=hl[ia[0]];if(fy!=null)for(var l=0;l<hl.length;
l++)if(hl[l].Jb==fy)iQ=hl[l];var ce=iQ.add.vmsk.eg(),em=ce.dy();if(em.$()==0)return;var fw=ce.V1();if(s.PH[3]!=null)this.a8Z=s.PH[3];
if(this.a8Z){fw=fw.slice(0);q.round(fw)}a9=[JSON.stringify(r.LD),JSON.stringify(r.$Y)];ir=["[]","[]"];
r.LD=[];r.$Y=[];B={channel:fw,rect:em}}else{if(fy==null)fy=K.eL.I8(r);B=K.eL.pe(r,fy)}if(n!=0&&r.q)B=q.$T.B9(B,r.q,n);
Y=[14,11]}if(B!=null&&q.u6(B.channel,0)){B=null;Y=[7,1]}if(B)q.pS(B);var k4=new hZ(Y,this);k4.data={d:"changesel",ZH:r.q,FO:B,Y4:ka,avy:ds,ac9:ee,Es:a9,a1j:ir};
r.yF(k4);this._6(k4.data,r)};K.eL.I8=function(s){var N=0;if(s.rz.length!=0)N=-5-s.rz[0];else if(JSON.stringify(s.a.$s)=="[1,1,1]")N=-1;
else N=-2-s.a.$s.indexOf(1);return N};K.eL.pe=function(s,N){var r,S=new hq(0,0,s.G,s.n);if(-5<N&N<0){var z=-N-1,A=s.r9(),B=q.m(S.$());
if(z==0)q.I_(A,B);else q.WZ(A,B,z-1);r={channel:B,rect:S.clone()}}if(N<-4){r=K.eL.Pe(s.Aa[-N-5],S)}return r};
K.eL.Pe=function(s,N){var r,S;if(s.iy()==0){S=s.dy().clone();if(S.$()==0)return;r=s.V1()}else{S=N;r=q.m(S.$());
s.am(S,r)}return{channel:r,rect:S}};K.eL.prototype.pN=function(s){return this.l6||s.Rd&&this.id!=K.Zj};
K.eL.prototype.Tm=function(s,N,r){var S=new hU(N,!0);S.data=r;s.c(S)};K.eL.prototype.w_=function(s,N){var r=new hU(k.E.Y,!0);
r.data={d:k.s.Qb,BQ:N};s.c(r)};K.eL.prototype.dy=function(s,N,r){N=s.q==null||this.x6.CF(1)||this.x6.PK(1)?N:null;
var S=this.as,z=this.u2;if(r){S.x=Math.max(0,Math.min(s.G,S.x));S.y=Math.max(0,Math.min(s.n,S.y));z.x=Math.max(0,Math.min(s.G,z.x));
z.y=Math.max(0,Math.min(s.n,z.y))}var A=K.Oy.dS(S,z,N,!0,this.db.cstr),B=A[0].x,Y=A[0].y;return new hq(B,Y,A[1].x-B,A[1].y-Y)};
K.eL.prototype.Vk=function(s,N,r,S,z){this.yl=!0;if(this.Gd())return;this.$0=N;this.pV=!1;this.x6.Vk(S);
this.as=s.a.Vd(z.x,z.y);this.as=K.yz.FA(s,this.as,r);if(this.z4(s,this.as,S)){this.l6=!0;this.O9=s.q.rect.clone();
return}this.ja(s,r,S,z);s.a.YO=new hq};K.eL.prototype.z4=function(s,N,r){var S=r.t(cK.nG),z=r.t(cK.nI);
if(s.q&&!S&&!z&&this.db.binop==0)return q.KB(N,s.q.channel,s.q.rect);return!1};K.eL.prototype.ud=function(s,N,r,S,z){this.$0=N;
if(this.iY)return;var A=s.a.Vd(z.x,z.y);if(cR.iI(this.as,A)*s.a.X>5){this.pV=!0;this.x6.ud()}if(S.t(cK.IH)){if(this.qo==null)this.qo=new cR(A.x-this.as.x,A.y-this.as.y);
this.as.x=A.x-this.qo.x;this.as.y=A.y-this.qo.y}else this.qo=null;this.u2=A;if(!this.l6)this.u2=K.yz.FA(s,this.u2,r);
if(this.z4(s,this.u2,S))this.w_(N,"move");else this.w_(N,this.MK);if(this.l6){var B=this.O9.clone();
B.x+=this.u2.x-this.as.x;B.y+=this.u2.y-this.as.y;var Y=K.yz._Z(s,B,r);s.q.rect.x=Math.round(this.u2.x-this.as.x+this.O9.x+Y[0]);
s.q.rect.y=Math.round(this.u2.y-this.as.y+this.O9.y+Y[1]);s.Ch=!0;K.yz.yv(s,B,Y);return}this.ma(s,r,S,z);
if(s.a.YO)s.a.YO=this.dy(s,S)};K.eL.prototype.Gd=function(){return!1};K.eL.prototype.gE=function(s,N,r,S,z,A){var B=this.yl;
this.yl=!1;if(A||!B)return;s.a.YO=null;this.u2=s.a.Vd(z.x,z.y);this.u2=K.yz.FA(s,this.u2,r);if(this.l6){this.l6=!1;
if(s!=null&&s.R.Tw){s.R.Tw=null;s.kk=!0}if(this.u2.nR(this.as)&&this.N$()==0){this.Tm(N,k.E.gu,K.eL.Aq());
return}this.hs(s,this.O9,s.q.rect.clone());return}this.$D(s,r,S,z);K.eL.fc(N,r);this.x6.gE();this.EC(N)};
K.eL.prototype.hs=function(s,N,r){var S=s.sQ();if(S!=null&&S.k==this&&S.data.d=="movesel"){}else{S=new hZ([7,7],this);
S.data={d:"movesel",Ma:N};s.yF(S)}S.data.Xn=r;this._6(S.data,s)};K.eL.prototype.CX=function(s,N,r,S,z){this.iY=!0};
K.eL.prototype.jN=function(s,N,r,S,z){var A=new hU(k.E.Y,!0);A.data={d:k.s.Em,k:this.id,s8:z,Sw:s,ZF:r};
N.c(A);this.iY=!1};K.eL.prototype.Rt=function(s,N,r,S){this.x6.Rt(S);if(s!=null&&s.q!=null){var z=S.wn();
if(z.x!=0||z.y!=0){var A=s.q.rect.clone();A.x+=z.x;A.y+=z.y;this.hs(s,s.q.rect.clone(),A)}}this.EC(N)};
K.eL.prototype.EC=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Em,k:this.id,UJ:this.N$()};s.c(N)};
K.eL.prototype.N$=function(){var s=this.x6.CF(0),N=this.x6.PK(0);return K.eL.kq(this.db.binop,s,N)};
K.eL.kq=function(s,N,r){if(N)s=1;if(r)s=2;if(N&&r)s=3;return s};K.eL.prototype.finish=function(s,N,r,S){var z=s.q,A=this.getSelection(s,N,r,S);
if(A==null)A=K.eL.Aq();else{var B=this.db.feat,Y=this.N$();if(B!=0)A.wz.Fthr={t:"UntF",v:{type:"#Pxl",val:B}};
if(Y!=0&&Y!=4)A.uU=["","addTo","subtractFrom","interfaceWhite",""][Y]}this.Tm(this.$0,k.E.gu,A);this.as.i5(-1,-1);
this.u2.i5(-1,-1)};K.eL.prototype.getSelection=function(s,N,r,S){return null};K.eL.prototype.ja=function(s,N,r,S){};
K.eL.prototype.ma=function(s,N,r,S){};K.eL.prototype.$D=function(s,N,r,S){};K.eL.prototype.kA=function(s,N){var r=s.d;
if(r=="changesel")N.q=s.ZH;if(r=="movesel")N.q.rect=s.Ma;if(s.Y4){if(s.avy){N.rz=[N.Aa.length];N.Aa.push(s.avy)}else{N.Aa.pop();
N.rz=[]}}if(s.Es){N.LD=JSON.parse(s.Es[0]);N.$Y=JSON.parse(s.Es[1])}N.Ch=!0};K.eL.prototype._6=function(s,N){var r=s.d;
if(r=="changesel")N.q=s.FO;if(r=="movesel")N.q.rect=s.Xn;if(s.Y4){if(s.ac9){N.rz=[N.Aa.length];N.Aa.push(s.ac9)}else{N.Aa.pop();
N.rz=[]}}if(s.Es){N.LD=JSON.parse(s.a1j[0]);N.$Y=JSON.parse(s.a1j[1])}N.Ch=!0};K.eL.prototype.e_=function(s){this.db=s.db};
K.eL.prototype.uW=function(s){var N=q.g.nw(s.v);if(N.Nf())return null;var r=q.ip(N.G,N.n);r.save();r.beginPath();
r.translate(-N.x,-N.y);Typr.U.pathToContext({cmds:s.F,crds:s.v},r);r.closePath();r.fill();r.restore();
var S=q.m(N.$()),z=r.getImageData(0,0,N.G,N.n);q.WZ(z.data,S,3);return{rect:N,channel:S}};K.eL._Y=function(s,N,r,S,z){if(r)N=Math.round(N*.7);
var A=Math.ceil(2.6*N),B=s.rect.clone();B.r6(A,A);if(S&&!z)B=B.PS(S);var Y=q.m(B.$()),t=q.m(Y.length);
q.lf(s.channel,s.rect,t,B);q.W9.ju(t,Y,B,N);if(r){var p=Y.length;for(var l=0;l<p;l++){var f=(Y[l]-128)*N*2.5;
Y[l]=Math.max(0,Math.min(255,Math.round(128+f)))}}return{channel:Y,rect:B}};K.eL.E7=function(s,N,r){var S=Math.max(1,Math.ceil(r)),z=s.rect.clone();
z.r6(S,S);var A=z.$(),B={channel:q.m(A),rect:z},Y=q.m(A);q.lf(s.channel,s.rect,Y,B.rect);if(r!=0)q.style.stroke(Y,B.channel,B.rect,r);
else q.r8(Y,B.channel);var t=q.m(A);q.dm(Y);if(N!=0)q.style.stroke(Y,t,B.rect,N);else q.r8(Y,t);q.$T.PS(B.channel,t,B.channel);
return B};K.eL.ck=function(s,N,r,S,z){var A=new hq(0,0,s.G,s.n),B=s.r9();if(s.q){var Y=s.q.rect.PS(A),t=q.m(Y.$()*4);
q.LP(B,A,t,Y);A=Y;B=t}var p=A.$(),f=q.m(p),a=1/S;if(z){if(N>=r)N=r-1;var D=N*(1-S),c=N,J=r,Z=r+(255-r)*S,Q=D==c?0:1/(c-D),M=J==Z?0:1/(Z-J);
for(var l=0;l<p;l++){var u=l<<2,P=q.il(B[u],B[u+1],B[u+2]),m=0;if(P<D)m=0;else if(P<c)m=(P-D)*Q;else if(P<=J)m=1;
else if(P<=Z)m=1-(P-J)*M;else m=0;f[l]=B[u+3]*m*m}}else for(var l=0;l<p;l++){var u=l<<2,i=q.lD(B[u],B[u+1],B[u+2]),m=q.UD(i,N,r,S,a);
f[l]=B[u+3]*m}return{rect:A,channel:f}};K.gA=function(){K.kn.call(this,[10,18],K.Vr,"tools/blur");this.h$="copy"};
K.gA.prototype=new K.kn;K.gA.prototype.Vk=function(s,N,r,S,z){var A=S.t(cK.nI)?ex.pw:ex.Vr;this.VR(s,r,S,z,this.db.strn,A);
if(this.xj==null)return;this.Gl(s)};K.gA.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.cr=function(){K.kn.call(this,[10,0],K.rX,"tools/brush");
this.h$="draw"};K.cr.prototype=new K.kn;K.cr.prototype.Vk=function(s,N,r,S,z){if(this.wo(S,N,z))return;
this.VR(s,r,S,z,this.db.flow);if(this.xj==null)return;this.Gl(s)};K.cr.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.l2=function(){K.kn.call(this,[10,42],K.gG,"tools/crepl");
this.h$="idraw";this.db.bmode="hue "};K.l2.prototype=new K.kn;K.l2.prototype.Vk=function(s,N,r,S,z){if(this.wo(S,N,z))return;
this.VR(s,r,S,z,this.db.flow);if(this.xj==null)return;this.Gl(s)};K.l2.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.jZ=function(){K.kn.call(this,[10,43],K.CR,"tools/redeye");
this.db.smode=0;this.h$="redeye"};K.jZ.prototype=new K.kn;K.jZ.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,this.db.flow);
if(this.xj==null)return;this.Gl(s)};K.jZ.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.Eg=function(){K.kn.call(this,[10,38],K.j8,"tools/pencil");
this.h$="draw"};K.Eg.prototype=new K.kn;K.Eg.prototype.Vk=function(s,N,r,S,z){if(this.wo(S,N,z))return;
this.VR(s,r,S,z,this.db.flow);if(this.xj==null)return;this.Gl(s)};K.Eg.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.kE=function(){K.kn.call(this,[10,22],K.Cj,"tools/burn");
this.h$="burn"};K.kE.prototype=new K.kn;K.kE.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,this.db.expo/Math.E);
if(this.xj==null)return;this.Gl(s)};K.kE.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.VT=function(s,N,r){K.kn.call(this,s==""?null:s?s:[10,1],N?N:K.gO,r?r:"tools/clone");
this.h$="clone";this.o0=null;this.u=null};K.VT.prototype=new K.kn;K.VT.prototype.Vk=function(s,N,r,S,z){var A=this.db,B=A.alt[0];
if(S.t(cK.nI)||S.t(cK.zt)||B){this.o0=s.a.Vd(z.x,z.y);this.u=null;if(B)this.PV({alt:[!1]},N);this.Fu(s);
this.SP(r,S,s,z);return}if(this.o0==null){alert(eV.get([15,7,0]));return}this.SP(r,S);this.VR(s,r,S,z,this.db.flow);
if(this.xj==null)return;this.u=this.Nj(s.a.Vd(z.x,z.y));this.Gl(s)};K.VT.prototype.Nj=function(s){var N=this.u;
if(N==null||!this.db.algnd)N=new cR(Math.round(s.x-this.o0.x),Math.round(s.y-this.o0.y));return N};K.VT.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
if(this.Wm)this.EN(s,r,z);if(this.xj==null){if(this.o0!=null)this.SP(r,S,s,z);return}if(!z.Rd||this.o0==null)return;
this.jL(s,r,S,z);this.Gl(s)};K.VT.prototype.P9=function(){return this.u};K.Vg=function(s,N,r){K.PJ.call(this,s,N,r);
this.ye={Mg:{BO:0,x:0,y:0},OL:!1};this.QL=!1;this.XT=null;this.cursor=null;this.acw=0;this.Cg=null;this.as=null;
this.T6=null;this.Dv=!1};K.Vg.prototype=new K.PJ;K.Vg.prototype.YJ=function(){return this.XT!=null};
K.Vg.prototype.pN=function(s){return this.as!=null||this.XT&&this.XT.abA()};K.Vg.prototype.Vk=function(s,N,r,S,z){this.Cg=z;
var A=s.a.Vd(z.x,z.y);A.x=Math.round(A.x);A.y=Math.round(A.y);var B=this.ye.Mg,Y=B.BO!=0?B.x/B.y:null,t=this.Dv;
this.Dv=!1;if(this.XT){var p=this.XT.QI(A,s.a.X);if(t&&p==null){this.XT.clear(s);this.XT=null}else{this.XT.Vk(s,r,S,A,Y,!1,z);
return}}this.as=K.yz.FA(s,A,r)};K.Vg.prototype.H6=function(s,N,r){if(r==null)r=[s.x,s.y,s.x+s.G,s.y,s.x+s.G,s.y+s.n,s.x,s.y+s.n];
return new eC(r,!0,!1,this.id==K.Ea,!0,N,this.id==K.Ea?2:0,this.id==K.Ea?4:3)};K.Vg.prototype.SP=function(s){var N=new hU(k.E.Y,!0);
N.data={d:k.s.Qb,BQ:this.cursor};s.c(N)};K.Vg.prototype.enable=function(s,N,r,S){this.$0=N;this.cursor="crosshair";
this.SP(N);if(s!=null&&this.XT==null){var z=s.q?{nu:"cropby",ats:3}:{nu:"config",ye:this.ye,aw5:!0};
this.e_(z,N,s,S,r);if(s.q==null&&this.ye.Mg.BO==0)this.Dv=!0}};K.Vg.prototype.ud=function(s,N,r,S,z){this.Cg=z;
var A=s.a.Vd(z.x,z.y);if(!z.Rd){var B="crosshair";if(this.XT){var Y=this.XT.QI(A,s.a.X,null,z);if(Y)B=Y;
else B="default"}if(B!=this.cursor){this.cursor=B;this.SP(N)}}if(this.XT)this.XT.ud(s,r,S,A);else if(this.as){if(this.QL){s.R.iD={F:["M","L"],v:[this.as.x,this.as.y,A.x,A.y]}}else{var t=K.Oy.dS(this.as,K.yz.FA(s,A,r),S,!0,this.ye.Mg),p=t[0].x,f=t[0].y,a=this.T6=new hq(p,f,t[1].x-p,t[1].y-f);
s.R.iD=q.g.w2(a);K.PJ.O7(z,a,s,r)}s.kk=!0}};K.Vg.at7=function(s,N,r){var S,z,Y,t;if(N<=r){S=N;z=r}else{S=r;
z=N}var A=s-Math.floor((s+Math.PI)/(2*Math.PI))*2*Math.PI;A=Math.abs(A);if(A>Math.PI/2)A=Math.PI-A;var B=S/(z*Math.sin(A)+S*Math.cos(A));
if(N<=r){Y=S*B;t=z*B}else{Y=z*B;t=S*B}return{s7:Y,JY:t}};K.Vg.prototype.gE=function(s,N,r,S,z){this.Cg=z;
var A=s.a.Vd(z.x,z.y);if(this.XT==null){var B=this.T6;if(this.as&&(B||this.QL)){if(this.QL){var Y=this.as,t=A;
if(Y.x>t.x){var p=Y;Y=t;t=p}var Y=Math.atan2(-(t.y-Y.y),t.x-Y.x),f=K.Vg.at7(Y,s.G,s.n),a=[0,0,f.s7,0,f.s7,f.JY,0,f.JY],D=new gF;
D.translate(-f.s7/2,-f.JY/2);D.rotate(Y);D.translate(s.G/2,s.n/2);q.g.D(a,D,a);this.XT=this.H6(B,!1,a);
s.R.iD=null;this.QL=!1}else{var c=this.ye.Mg;this.XT=this.H6(B,c.BO!=0)}this.XT.sz(s,r);this.T6=null;
this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,wT:!0});this.as=null;s.R.QQ=[];s.kk=!0}return}this.XT.gE(s,r,S,A);
this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,wT:!0});var a=this.XT.sg();if(Math.abs(a[0]-a[4])<2&&Math.abs(a[1]-a[5])<2){this.disable(s,N,null,S);
return}if(Date.now()-this.acw<200&&this.XT.Tr(A)){this.XI(s,r);this.disable(s,N,r,S);return}this.acw=Date.now()};
K.Vg.prototype.Rt=function(s,N,r,S){var z=this.XT;if(z==null||this.Cg&&this.Cg.Rd)return;if(S.t(cK.D9)){this.XI(s,r);
this.disable(s,N,r,S)}else if(S.t(cK.Nl)){this.disable(s,N,r,S)}else z.Rt(s,r,S)};K.Vg.EL=function(s,N,r){var S={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:s[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:s[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:s[1]+s[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:s[0]+s[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:N!=null?N:0}},Dlt:{t:"bool",v:r!=null?r:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{uU:"crop",wz:S}};K.Vg.N8=function(s,N){if(N==null)N=[!0,!0,!0,!0];var r={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][s]}}},S=["Top","Left","Btom","Rght"];
for(var l=0;l<4;l++)r[S[l]]={t:"bool",v:N[l]};return{uU:"trim",wz:r}};K.Vg.G2=function(s,N,r,S){var z={classID:"null"};
if(S!=null){z.Wdth={t:"UntF",v:{type:"#Pxl",val:s}};z.Hght={t:"UntF",v:{type:"#Pxl",val:N}};z.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][S]}}}if(r!=null)z.Rslt={t:"UntF",v:{type:"#Rsl",val:r}};
return{uU:"imageSize",wz:z}};K.Vg.k4=function(s,N,r){if(r==null)r=4;var S=Math.floor(r/3),z=r%3;return{uU:"canvasSize",wz:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:s}},Hght:{t:"UntF",v:{type:"#Pxl",val:N}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][z]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][S]}}}}};
K.Vg.prototype.OG=function(s,N,r,S,z){var A=new hq(0,0,r.G,r.n),B=[11,3],Y=r.FD,t=r.G/2,p=r.n/2,f=1,C,E;
if(s.d=="fromAction"){var a=s.As,D=a.uU,c=a.wz,J=r.G/r.n,Z=c.Wdth?c.Wdth.v.val:-1,Q=c.Hght?c.Hght.v.val:-1,Y=c.Rslt?c.Rslt.v.val:null,M=c.Wdth?c.Wdth.v.type:c.Hght?c.Hght.v.type:-1,u=1,P;
if(M=="#Prc"){if(Z!=-1)Z=Math.round(r.G*Z/100);if(Q!=-1)Q=Math.round(r.n*Q/100)}if(D=="imageSize"){if(c.Intr){if(c.Intr.v.Intp=="Nrst")u=0;
if(c.Intr.v.Intp=="bicubicSharper")u=2;if(Z==-1&&Q==-1){var m=Y/r.FD;Z=Math.round(r.G*m);Q=Math.round(r.n*m)}if(c.CnsP&&c.CnsP.v){if(Z==-1)Z=Math.round(Q*J);
if(Q==-1)Q=Math.round(Z/J)}}else{if(M=="#Prc")Y=Math.round(r.FD*(r.G/Z));else if(M==-1)Y=Math.round(Y);
else throw"e";Z=r.G;Q=r.n}P={d:"imgsize",Yn:Z,Z2:Q,Fa:Y,YS:u}}else if(D=="canvasSize"){if(Z==-1)Z=r.G;
if(Q==-1)Q=r.n;if(c.Rltv&&c.Rltv.v==!0){if(c.Wdth)Z+=r.G;if(c.Hght)Q+=r.n}var i=c.Vrtc?c.Vrtc.v.VrtL:"Cntr",e=c.Hrzn?c.Hrzn.v.HrzL:"Cntr";
P={d:"canvsize",Yn:Z,Z2:Q,P0:3*["Top","Cntr","Btom"].indexOf(i)+["Left","Cntr","Rght"].indexOf(e)}}else if(D=="revealAll"){P={d:"revealAll"}}else if(D=="trim"){var X={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[c.trimBasedOn.v.trimBasedOn];
if(X==null)throw"e";var $=["Top","Left","Btom","Rght"],O=[!0,!0,!0,!0];for(var l=0;l<4;l++)if(c[$[l]])O[l]=c[$[l]].v;
P={d:"trim",aab:X,RH:O}}else if(D=="crop"){var T,b,R,w;if(c.T){var F=c.T.v,T=Math.round(F.Left.v.val),b=Math.round(F.Top.v.val),R=Math.round(F.Rght.v.val)-T,w=Math.round(F.Btom.v.val)-b}else{var L=r.p[r.f[0]],x=L.rect;
x=x.PS(new hq(0,0,r.G,r.n));T=x.x;b=x.y;R=x.G;w=x.n}P={d:"canvsize",Yn:R,Z2:w,u:new cR(T,b),aqp:c.Dlt!=null&&c.Dlt.v}}else console.log(a);
if(P)this.OG(P,N,r,S,z);return}else if(s.d=="imgsize"){A=new hq(0,0,s.Yn,s.Z2);if(s.Fa)Y=s.Fa;f=s.YS}else if(s.d=="canvsize"){var g=s.P0!=null?s.P0:0;
A=new hq(0,0,s.Yn,s.Z2);var n=r.G-s.Yn,h=r.n-s.Z2,_=Math.round(n/2),H=Math.round(h/2);if(g==1||g==4||g==7)A.x=_;
if(g==2||g==5||g==8)A.x=n;if(g==3||g==4||g==5)A.y=H;if(g==6||g==7||g==8)A.y=h;if(s.u){A.x=s.u.x;A.y=s.u.y}}else if(s.d=="rot"&&(s.h+2*Math.PI)%(Math.PI/2)!=0){var G=q.g.w2(A).v,j=new gF;
j.translate(-t,-p);j.rotate(s.h);j.translate(t,p);q.g.D(G,j,G);A=q.g.nw(G)}else if(s.d=="rot"&&s.h!=Math.PI&&s.h!=-Math.PI){A=new hq(t-r.n/2,p-r.G/2,r.n,r.G);
if((r.G+r.n&1)==1){t=Math.floor(t);p=Math.floor(p);A=new hq(t-Math.floor(r.n/2),p-Math.floor(r.G/2),r.n,r.G);
if((r.G&1)==1&&s.h!=-Math.PI/2)A.y--;if((r.n&1)==1&&s.h==-Math.PI/2)A.x--}}else if(s.d=="trim"){B=[11,12,0];
var v=r.r9(),x=new hq(0,0,r.G,r.n);A=q.DK(v,x,s.aab,s.RH);if(A.Nf())A=x}else if(s.d=="cropbysel"){B=[11,12,1];
A=r.q.rect.clone()}else if(s.d=="revealAll"){B=[11,12,2];A=r.root.dy(r,!0)}var I=s.d=="canvsize"&&s.aqp;
if(s.d=="imgsize"||s.d=="rot"||s.d=="scl"||I){var dJ=new gF;if(s.d=="imgsize"){B=[11,10];dJ.scale(s.Yn/r.G,s.Z2/r.n)}else if(I){}else{dJ.translate(-t,-p);
if(s.d=="rot")dJ.rotate(s.h);if(s.d=="scl")dJ.scale(s.h.x,s.h.y);dJ.translate(t,p);B=s.Ru}E=q.P.tl(dJ);
C=this.Mr(r,z,!0,E,f,I?A:null)}else if(s.d=="auto-align"){if(r.f.length<2){alert("Select two or more layers.");
return}var fG=[];for(var l=0;l<r.f.length;l++){var L=r.p[r.f[l]];if(!L.ua()&&L.add.SoLd==null){alert("Unsupported layer selected.");
return}if(L.rect.Nf()){alert("Empty layer selected.");return}fG.push([L.buffer,L.rect])}var o=q.fe.L0(fG,0);
if(o==null){alert("No similarity found.");return}E=o[1];var i4=r.f;r.f=r.f.slice(1);C=this.Mr(r,z,!1,o.slice(1),f);
r.f=i4;A=r.root.dy(r,!0);B=[2,10,1]}var df=new hq(0,0,r.G,r.n);if(!A.Nf()&&(!A.nR(df)||C!=null)){var eO=new hZ(B,this);
eO.data={adD:r.FD,Fa:Y,x_:C,$$:E,PF:K.Vg.Sh(r,A,df,C!=null)};K.Vg.zD(r,eO.data,A);r.yF(eO);this._6(eO.data,r)}};
K.Vg.Sh=function(s,N,r,S){if(s.DF.length==0)return null;var z=JSON.stringify(s.DF),A=JSON.parse(z);K.vf.aah(A,N,r,S);
A=JSON.stringify(A);return[z,A]};K.Vg.prototype.Mr=function(s,N,r,S,z,A){var B={p:[],QM:null,ha:null};
if(r){for(var l=0;l<s.p.length;l++)B.p.push(l);for(var l=0;l<s.qI.length;l++)B.p.push(-1-l);for(var l=0;
l<s.Aa.length;l++)B.p.push(-1e3-l)}else B.p=s.f.slice(0);B.QM=K.S._r(s,B.p,!0);K.S.Dn(s,N,B.p,B.QM,z,S,null,!0,A);
B.ha=K.S._r(s,B.p,!0);return B};K.Vg.prototype._6=function(s,N){if(s.Fa)N.FD=s.Fa;if(s.PF)N.DF=JSON.parse(s.PF[1]);
if(s.x_){K.Vg.ML(N,q.P.Nq(s.$$));K.S.Mc(N,s.x_.p,s.x_.ha)}K.Vg.AN(N,s)};K.Vg.prototype.kA=function(s,N){if(s.adD)N.FD=s.adD;
if(s.PF)N.DF=JSON.parse(s.PF[0]);K.Vg.gJ(N,s);if(s.VK)N.a.u.J2(s.VK);N.anL();if(s.x_){var r=q.P.Nq(s.$$).clone();
r.dm();K.Vg.ML(N,r);K.S.Mc(N,s.x_.p,s.x_.QM)}};K.Vg.ML=function(s,N){for(var l=0;l<s.p.length;l++){var r=s.p[l];
if(r.add.artb==null)continue;var S=q.g.w2(r.M5()).v;q.g.D(S,N,S);var z=q.g.nw(S);r.S6(z)}};K.Vg.tr=function(s){var N=new hq,r=0,S=s.root.children.length;
for(var l=0;l<S;l++){var z=s.root.children[l].j;if(z.add.artb==null)continue;N=N.Ms(z.M5());r++}var A=new hq(0,0,s.G,s.n);
if(!N.Nf()&&!A.nR(N)&&S==r)return N;return null};K.Vg.Yg=function(s){var N=K.Vg.tr(s);if(N)K.Vg.OL(s,N,!0);
return N};K.Vg.OL=function(s,N,r){var S=s.G,z=s.n,A=N.G,B=N.n,Y=N.x==0&&N.y==0;if(Y&&S==A&&z==B)return;
s.G=A;s.n=B;var t=[];for(var l=0;l<s.p.length;l++)t.push(l);if(!Y)K.yz.yR(s,t,null,-N.x,-N.y);for(var l=0;
l<s.p.length;l++){s.p[l].qB(s)}s.anL();if(r){var p=s.a.u,f=s.a.X;p.x+=Math.round((N.x+(A-S)/2)*f);p.y+=Math.round((N.y+(B-z)/2)*f)}else s.a.u.i5(0,0);
if(s.q)s.q.rect.offset(-N.x,-N.y);var a=s._C();for(var D=0;D<a[0].length;D++)if(a[1][D]==-1){var c=s.K0[D];
c[1]-=c[0]==0?N.x:N.y}for(var l=0;l<s.Aa.length;l++)s.Aa[l].rect.offset(-N.x,-N.y)};K.Vg.prototype.e_=function(s,N,r,S,z){if(s.nu=="commit"){this.XI(r,z);
this.disable(r,N,null,S)}else if(s.nu=="cancel"){this.disable(r,N,null,S)}var A=null,B=new hq(0,0,r.G,r.n),Y=this.ye.Mg;
if(s.nu=="config"){this.ye=s.ye;Y=this.ye.Mg;if(r==null||!s.aw5)return;A=B;if(Y.BO==1){var t=Y.x/Y.y;
if(A.G/t<A.n)A.n=Math.round(A.G/t);else A.G=Math.round(A.n*t)}if(Y.BO==2){A.G=Y.x;A.n=Y.y}A.x=Math.round((r.G-A.G)/2);
A.y=Math.round((r.n-A.n)/2)}if(s.nu=="straighten"){alert("Draw a line in the image.");this.QL=!0}if(s.nu=="cropby"){if(r==null)return;
var p=s.ats,A;if(p==0)A=r.root.dy(r,!0);if(p==1){if(r.f.length==0)alert("No layer is selected.");else{var f=r.root.uc(r.f[0]);
A=f.dy(r,!0)}}if(p==2){if(r.f.length==0)alert("No layer is selected.");else{A=q.DK(r.r9(),B,0);if(A.Nf())A=B.clone()}}if(p==3){if(r.q!=null)A=r.q.rect;
else alert("There is no selection.")}if(p==4){A=new hq(0,0,r.G,r.n)}}if(A&&A.Nf())A=null;if(A!=null){this.XT=this.H6(A,Y.BO!=0);
this.XT.sz(r,z);this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,wT:!0})}};K.Vg.prototype.XI=function(s,N){var r=this.XT.sg(),S=q.g.nw(r),z=this.a3q(s,r),A=!1,B=this.ye.Mg,Y=this.ye.OL,t=B.x,p=B.y,D;
if(this.id==K.$u&&B.BO==2&&z.$()!=t*p){z=new hq(z.x,z.y,t,p);A=!0}var f=q.P.g8(r,z);f=q.P.dm(f);var a=q.P.Zb(f),c=Math.atan2(f[3],f[0]);
if(Math.abs(c)>1e-9||!a||A||Y)D=this.Mr(s,N,!0,f,1,S);var J=new hZ(this.name,this),Z=new hq(0,0,s.G,s.n);
J.data={x_:D,$$:f,VK:s.a.u.clone(),PF:K.Vg.Sh(s,z,Z,!1)};K.Vg.zD(s,J.data,z);s.yF(J);this._6(J.data,s);
this.track(K.Vg.EL([S.x,S.y,S.G,S.n],null,Y))};K.Vg.zD=function(s,N,r){if(r==null)return;N.Ma=new hq(0,0,s.G,s.n);
N.Xn=r};K.Vg.AN=function(s,N){if(N.Xn==null)return;K.Vg.OL(s,N.Xn)};K.Vg.gJ=function(s,N){if(N.Xn==null)return;
var r=N.Ma.clone();r.offset(-N.Xn.x,-N.Xn.y);K.Vg.OL(s,r)};K.Vg.prototype.a3q=function(s,N){var r=q.P.g8(N),S=q.P.Zb(r),z=q.P.Nq(r),A=z.JC,B=z.T3,Y=Math.atan2(z.U,z.aC);
z.rotate(Y);var t=new hq(A,B,z.aC,z.dX);if(!S){function p(P,l,m){var i=P[l]-P[m],e=P[l+1]-P[m+1];return Math.sqrt(i*i+e*e)}var f=p(N,0,2),a=p(N,4,6),D=Math.max(f,a),c=p(N,2,4),J=p(N,6,0),Z=Math.max(c,J),Q=K.Vg.aem(N,s.G/2,s.n/2),M,u;
if(isNaN(Q)||Q==Infinity||Q==-Infinity||Math.min(Q,1/Q)<.1)Q=(f+a)/(c+J);if(D/Z>Q){M=D*1;u=M/Q}else{u=Z*1;
M=u*Q}t.G=M;t.n=u}t.x=Math.round(t.x);t.y=Math.round(t.y);t.G=Math.round(t.G);t.n=Math.round(t.n);return t};
K.Vg.aem=function(s,N,r){var S=s[0]-N,z=s[1]-r,A=s[2]-N,B=s[3]-r,Y=s[6]-N,t=s[7]-r,p=s[4]-N,f=s[5]-r,a=((z-f)*Y-(S-p)*t+S*f-z*p)/((B-f)*Y-(A-p)*t+A*f-B*p),D=((z-f)*A-(S-p)*B+S*f-z*p)/((t-f)*A-(Y-p)*B+Y*f-t*p),c=-((D*t-z)*(a*B-z)+(D*Y-S)*(a*A-S))/((D-1)*(a-1));
function J(Q){return Q*Q}var Z=Math.sqrt((J(a-1)+J(a*B-z)/c+J(a*A-S)/c)/(J(D-1)+J(D*t-z)/c+J(D*Y-S)/c));
if(a==1&&D==1)Z=Math.sqrt((J(B-z)+J(A-S))/(J(t-z)+J(Y-S)));return Z};K.Vg.prototype.disable=function(s,N,r,S){if(s==null)return;
if(this.XT)this.XT.clear(s);this.XT=null;this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,wT:!1})};K.Vg.prototype.Tm=function(s,N,r,S){var z=new hU(N,!0);
z.data=r;if(S)z.k=S;s.c(z)};K.ZM=function(){K.Vg.call(this,[10,2],K.$u,"tools/rcrop")};K.ZM.prototype=new K.Vg;
K.CI=function(){K.Vg.call(this,[10,39],K.Ea,"tools/pcrop")};K.CI.prototype=new K.Vg;K.Di=function(){K.kn.call(this,[10,21],K.XJ,"tools/dodge");
this.h$="dodge"};K.Di.prototype=new K.kn;K.Di.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,this.db.expo/Math.PI);
if(this.xj==null)return;this.Gl(s)};K.Di.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K._v=function(){K.kn.call(this,[10,3],K.Xk,"tools/eraser");
this.h$="erase"};K._v.prototype=new K.kn;K._v.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,this.db.flow);
if(this.xj==null)return;this.Gl(s)};K._v.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;var A=this.jL(s,r,S,z);this.Gl(s)};K.Xo=function(){K.kn.call(this,[10,45],K.ar4,"tools/beraser");
this.h$="ierase"};K.Xo.prototype=new K.kn;K.Xo.prototype.Vk=function(s,N,r,S,z){if(this.wo(S,N,z))return;
this.VR(s,r,S,z,this.db.flow);if(this.xj==null)return;this.Gl(s)};K.Xo.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.IR=function(){K.eL.call(this,[10,15],K.Kn,"tools/rselect");
this.MK="crosshair"};K.IR.prototype=new K.eL;K.IR.prototype.ma=function(s,N,r,S){if(!S.Rd||!this.pV)return;
var z=this.dy(s,r,!0);s.R.iD=q.g.w2(z);s.kk=!0;K.PJ.O7(S,z,s,N)};K.IR.prototype.$D=function(s,N,r,S){s.R.iD=null;
s.R.QQ=[];s.kk=!0;this.finish(s,N,r,S)};K.IR.prototype.getSelection=function(s,N,r,S){if(this.as.nR(this.u2)||!this.pV)return null;
var z=this.dy(s,r,!0);if(z.Nf())return null;return K.eL.hy("Rctn",z,this.db.anta)};K.Bf=function(){K.eL.call(this,[10,4],K.anH,"tools/eselect");
this.MK="crosshair"};K.Bf.prototype=new K.eL;K.Bf.prototype.ma=function(s,N,r,S){if(!S.Rd||!this.pV)return;
var z=this.dy(s,r);s.R.iD=K.Bf.Li(z);s.kk=!0;K.PJ.O7(S,z,s,N)};K.Bf.prototype.$D=function(s,N,r,S){s.R.iD=null;
s.R.QQ=[];s.kk=!0;this.finish(s,N,r,S)};K.Bf.prototype.getSelection=function(s,N,r,S){if(this.as.nR(this.u2)||!this.pV)return null;
var z=this.dy(s,r);if(!z.mF(new hq(0,0,s.G,s.n)))return null;return K.eL.hy("Elps",z,this.db.anta)};
K.Bf.Li=function(s){var N=s.x,r=s.y,S=s.x+s.G,z=s.y+s.n,A=(N+S)/2,B=(r+z)/2,Y=(N-S)/2,t=(r-z)/2,p=.5522848,f={v:[A,B-t],F:["M","C","C","C","C"]};
f.v.push(A+p*Y,B-t,A+Y,B-p*t,A+Y,B);f.v.push(A+Y,B+p*t,A+p*Y,B+t,A,B+t);f.v.push(A-p*Y,B+t,A-Y,B+p*t,A-Y,B);
f.v.push(A-Y,B-p*t,A-p*Y,B-t,A,B-t);return f};K.k9=function(s){K.PJ.call(this,[10,5],s?K.RZ:K.BN,"tools/eyedropper");
this.A7=null;this.SQ=0;this.gf=null;this.bZ=1;this.eM=2;this.a9D=!0;this.yp=!1};K.k9.prototype=new K.PJ;
K.k9.prototype.pN=function(s){return s.Rd};K.k9.prototype.OG=function(s,N,r,S,z){if(s.d=="pickhere")this.nO(r,N,z,null,s.aj4);
if(s.d=="supertool")this.A7=s.k};K.k9.prototype.Vk=function(s,N,r,S,z){var A=this.A7;if(A){A.Vk(s,N,r,S,z);
return}this.SQ=r.Hd;this.gf=z;var B=this.nO(s,null,r,S,z);this.SP(s,N,B,z)};K.k9.prototype.ud=function(s,N,r,S,z){var A=this.A7;
if(A){A.ud(s,N,r,S,z);return}var B=this.gf;if(B){var Y=z.x-B.x,t=z.y-B.y,p=1,f=new cR(B.x+Y*p,B.y+t*p),a=this.nO(s,null,r,S,f);
this.SP(s,N,a,f,new cR(Y*(1-p),t*(1-p)))}};K.k9.prototype.SP=function(s,N,r,S,z){var A=this.a9D,B=this.yp,p=12,f=11;
if(s.a.X>4)B=!1;if(!B&&!A)return;if(z==null)z=new cR(0,0);var Y=new hq(0,0,s.G,s.n),t=s.r9(),a=(p*2+1)*f,D=new cR(a/2,a/2),c=new hq(0,0,a,a),J=q.m(c.$()*4),Z=s.a.Vd(S.x,S.y),Q=Math.floor(Z.x),M=Math.floor(Z.y),u=new gF;
u.scale(1/f,1/f);u.translate(Q-p,M-p);if(B)q.scale.Qj(t,Y,u,J,c);var P=(p-3.4)*f,m=(p-1.7)*f,i=p*f;for(var e=0;
e<a;e++)for(var X=0;X<a;X++){var $=cR.iI(new cR(X,e),D);if($>P){if(A){var O=Math.max(0,P-$+1),T=(e*a+X)*4,b=J[T+3]<<24|J[T]<<16|J[T+1]<<8|J[T+2],R=255<<24|(e<i+f*.5?r:this.SQ);
if($>m){O=Math.max(0,m-$+1);b=R;R=4286611584}else if(!B){b=R&16777215}J[T+0]=(1-O)*(R>>>16&255)+O*(b>>>16&255);
J[T+1]=(1-O)*(R>>>8&255)+O*(b>>>8&255);J[T+2]=(1-O)*(R>>>0&255)+O*(b>>>0&255);J[T+3]=(1-O)*(R>>>24&255)+O*(b>>>24&255)}if($>i){J[(e*a+X)*4+3]=Math.max(0,255*(i-$+1))}}}function w(l){var E=l<<2;
J[E]=0;J[E+1]=0;J[E+2]=0;J[E+3]=255}function F(l){var E=l<<2;J[E]=255;J[E+1]=255;J[E+2]=255;J[E+3]=255}var L=this.bZ*f+2,x=a-L>>>1,g=x+L-1;
if(B&&L<a)for(var l=0;l<L;l++){var n=x*a+x+l,h=g*a+x+l,_=(x+l)*a+x,H=(x+l)*a+g;w(n);w(h);w(_);w(H);if(l!=0&&l!=L-1){F(n+a);
F(h-a);F(_+1);F(H-1)}}if(!B)for(var l=-9;l<=9;l++){if(-3<l&&l<3)continue;var G=a>>>1,X=G*a+G+l,e=(G+l)*a+G;
F(X-a);w(X);F(X+a);F(e-1);w(e);F(e+1)}var j=K.PJ.Jw(0,0,["#"+q.fD(r),"RGB "+(r>>>16&255)+","+(r>>>8&255)+","+(r>>>0&255)]),Y=j[1];
Y.y=0;Y.x=a-Y.G>>>1;q.LP(j[0],Y,J,c);var v={r2:J,Ge:c,Yx:new cR(D.x+z.x,D.y+z.y)},C=new hU(k.E.Y,!0);
C.data={d:k.s.Qb,BQ:v};N.c(C)};K.k9.prototype.gE=function(s,N,r,S,z,A){this.nO(s,N,r,S,z);var B=this.A7;
if(B){B.gE(s,N,r,S,z);return}if(this.gf){this.gf=null;if(A)this.nO(s,N,r,S,z,this.SQ);var Y=new hU(k.E.Y,!0);
Y.data={d:k.s.Qb,BQ:"default"};N.c(Y)}};K.k9.prototype.nO=function(s,N,r,S,z,A){if(A==null)A=K.k9.gb(s,z,this.bZ,this.eM);
var B=new hU(k.E.Y);B.data={d:k.s.Jl,LS:eq.rg,Xy:S&&S.t(cK.nI)?1:0,h:A};if(N)N.c(B);return A};K.k9.gb=function(s,N,r,S){if(S==null)S=2;
var z=s.a.Vd(N.x,N.y),A,B,Y=s.f.length==1&&s.p[s.f[0]].GC>0,t=s.rz.length!=0,m=0,i=0,e=0;if(Y||t){var p;
if(t)p=s.Aa[s.rz[0]];else{var f=s.p[s.f[0]];p=f.GC==1?f.eg():f.asE()}B=p.dy();if(!B.CZ(z))return p.color==0?0:16777215;
A=q.m(B.$()*4);A.fill(255);var a=p.V1();q._i(a,A)}else if(S==0&&s.f.length!=0){var f=s.p[s.f[0]];A=f.buffer;
B=f.rect}else{A=S==2?s.r9():s.r9(s.f[0]);B=new hq(0,0,s.G,s.n)}var D=Math.floor(z.x)-B.x,c=Math.floor(z.y)-B.y,J=(r-1)/2,Z=Math.max(0,D-J),Q=Math.max(0,c-J),M=Math.min(B.G,D+J+1),u=Math.min(B.n,c+J+1),P=(M-Z)*(u-Q);
for(var D=Z;D<M;D++)for(var c=Q;c<u;c++){var l=4*(c*B.G+D);m+=A[l];i+=A[l+1];e+=A[l+2]}m=Math.round(m/P);
i=Math.round(i/P);e=Math.round(e/P);return m<<16|i<<8|e};K.k9.prototype.e_=function(s){var N=s.db;this.bZ=[1,3,5,11,31][N[0]];
this.eM=N[1];this.a9D=N[2];this.yp=N[3]};K.gL=function(){K.PJ.call(this,[10,6],K.ai9,"tools/gradient");
this.db={i:JSON.parse(jG.ou.a3a).v,KM:"Lnr",tf:!1,abu:!1,aq6:"norm",nh:1};this.l5=!1;this.zQ=null};K.gL.prototype=new K.PJ;
K.gL.prototype.enable=function(s,N,r,S){var z=new hU(k.E.Y,!0);z.data={d:k.s.Qb,BQ:"default"};N.c(z)};
K.gL.prototype.e_=function(s){this.db=s.LS};K.gL.prototype.Vk=function(s,N,r,S,z){if(!s.pu())return;
this.zQ=s.a.Vd(z.x,z.y);this.zQ=K.yz.FA(s,this.zQ,r);this.l5=!0};K.gL.prototype.ud=function(s,N,r,S,z){if(!this.l5)return;
var A=s.a.Vd(z.x,z.y);A=K.yz.FA(s,A,r);if(S.t(cK.nG))A=K.gL.W2(this.zQ,A);s.R.iD={v:[this.zQ.x,this.zQ.y,A.x,A.y],F:["M","L"]};
s.R.zH=[this.zQ.x,this.zQ.y,A.x,A.y];s.kk=!0};K.gL.prototype.gE=function(s,N,r,S,z){if(!this.l5)return;
var A=s.p[s.f[0]],B=s.a.Vd(z.x,z.y);B=K.yz.FA(s,B,r);if(S.t(cK.nG))B=K.gL.W2(this.zQ,B);var Y=B.lA(this.zQ),t=cR.J0(this.zQ,B,.5),p=Math.atan2(Y.y,Y.x),f=cR.iI(this.zQ,B),a=Math.sin(p),D=Math.cos(p);
if(f>2){var c;if(s.q)c=s.q.rect;else c=new hq(0,0,s.G,s.n);var J=q.m(c.$()*4),Z=this.db,Q=Z.KM;if(Q!="Lnr"){f*=2;
t=this.zQ}q.i.Mf(Z.i,J,c,[D*1/f,a*1/f,-a*1/f,D*1/f],t.x,t.y,Z.tf,jG.i.types.indexOf(Q),r.Hd,r.on,null,Z.abu);
var M=Math.round(Z.nh*256),u=J.length;if(M!=256)for(var l=0;l<u;l+=4)J[l+3]=J[l+3]*M>>>8;var P=new hU(k.E.r);
P.k=K.Xk;P.data={d:"fillBMP",hp:J,hC:Z.aq6,Ru:this.name};N.c(P)}s.R.iD=null;s.R.zH=[];s.kk=!0;this.l5=!1};
K.gL.W2=function(s,N){if(s.nR(N))return s;var r=N.x-s.x,S=N.y-s.y,z=Math.abs(r),A=Math.abs(S);if(z>A)A=z/2>A?0:z;
if(A>z)z=A/2>z?0:A;z=r>0?z:-z;A=S>0?A:-A;var B=Math.sqrt(r*r+S*S)/Math.sqrt(z*z+A*A);return new cR(s.x+z*B,s.y+A*B)};
K.gL.ty=function(s,N,r,S,z,A,B){if(B==null)B=document.createElement("canvas");var Y=B.getContext("2d");
B.width=N;B.height=r;var t=new hq(0,0,N,r),p=q.m(N*r*4);q.nD(p,N,r,4);var f=Math.sin(S),a=Math.cos(S),D=q.m(N*r*4);
q.i.Mf(s,D,t,[a*1/N,f*1/N,-f*1/r,a*1/r],N/2,r/2,!1,0,z,A);q.Q.VP("norm",D,t,p,t,t,1);var c=Y.getImageData(0,0,N,r);
q.r8(p,c.data);Y.putImageData(c,0,0);return B.toDataURL()};K.gL.akb=function(s,N,r){var S=JSON.parse(JSON.stringify(s));
if(S.Clrs)for(var l=0;l<S.Clrs.v.length;l++){var z=S.Clrs.v[l].v,A=z.Type.v.Clry;if(A=="UsrS")continue;
var B=A=="FrgC"?N:r;z.Type.v.Clry="UsrS";z.Clr={t:"Objc",v:q.i.Sm({w:B>>16&255,A:B>>8&255,U:B&255})}}return S};
K.Td=function(){K.PJ.call(this,[10,7],K.g1,"tools/hand");this.gf=new cR(0,0);this.NQ=null;this.cs=0};
K.Td.prototype=new K.PJ;K.Td.prototype.OG=function(s,N,r,S,z){var A=s.d;if(A=="setcls"){r.a.$s=s.$s;
r.kk=!0;r._R=!0}if(A=="scroll"&&!S.t(cK.nI)){if(S.t(cK.z6))K.Td.eC(r,r.a.u.x-s.Po.y,r.a.u.y-s.Po.x);
else K.Td.eC(r,r.a.u.x-s.Po.x,r.a.u.y-s.Po.y)}};K.Td.prototype.enable=function(s,N,r,S){this.NQ=null;
var z=new hU(k.E.Y,!0);z.data={d:k.s.Qb,BQ:"grab"};N.c(z);if(s&&Date.now()-this.cs<300){z.type=k.E.r;
z.k=K.b_;z.data={d:"adapt",h:"fitscr"};N.c(z)}this.cs=Date.now()};K.Td.prototype.Vk=function(s,N,r,S,z){this.NQ=s.a.u.clone();
this.gf.i5(z.x,z.y)};K.Td.prototype.ud=function(s,N,r,S,z){if(!z.Rd)return;if(this.NQ==null)this.Vk(s,N,r,S,z);
K.Td.eC(s,this.NQ.x+(z.x-this.gf.x),this.NQ.y+(z.y-this.gf.y))};K.Td.prototype.gE=function(s,N,r,S,z){this.NQ=null};
K.Td.eC=function(s,N,r){var S=s.a.X,z=s.a.bh,A=z.G,B=z.n,Y=s.G*S,t=s.n*S,p=Y<A&&t<B,f=A/2+Y/2-64,a=B/2+t/2-64;
s.a.u.i5(Math.max(-f,Math.min(f,N)),Math.max(-a,Math.min(a,r)));s._R=!0};K.dW=function(){K.PJ.call(this,[10,47],K.a1A,"tools/rview");
this.gf=new cR(0,0);this.Xz=null;this.ajE=null;this.cs=0};K.dW.prototype=new K.PJ;K.dW.prototype.enable=function(s,N,r,S){this.NQ=null;
var z=new hU(k.E.Y,!0);z.data={d:k.s.Qb,BQ:"grab"};N.c(z);if(s&&Date.now()-this.cs<300&&s.a.hw!=0){s.a.hw=0;
s.kk=!0}this.cs=Date.now();if(s)this.CL(s,N)};K.dW.prototype.disable=function(s,N,r,S,z){if(s)this.CL(s,N)};
K.dW.prototype.wx=function(s,N,r,S){if(s)this.CL(s,N)};K.dW.prototype.Vk=function(s,N,r,S,z){this.gf.i5(z.x,z.y);
var A=s.a;this.Xz=A.Vd(A.bh.G/2,A.bh.n/2);this.ajE=A.Qs()};K.dW.prototype.ud=function(s,N,r,S,z){if(!z.Rd)return;
var A=s.a,B=this.Xz,Y=this.gf,t=new cR(A.bh.G/2,A.bh.n/2),p=Math.atan2(z.y-t.y,z.x-t.x),f=Math.atan2(Y.y-t.y,Y.x-t.x);
this.CJ(s,N,this.ajE.clone(),B,p-f)};K.dW.prototype.e_=function(s,N,r,S){this.CJ(r,N,null,null,s.mO-r.a.hw);
r.a.hw=s.mO};K.dW.prototype.CJ=function(s,N,r,S,z){var A=s.a;if(r==null)r=A.Qs();if(S==null)S=A.Vd(A.bh.G/2,A.bh.n/2);
r.translate(-S.x,-S.y);r.rotate(z);r.translate(S.x,S.y);A.aaU(r);if(s.G*A.X<A.bh.G&&s.n*A.X<A.bh.n)A.u.i5(0,0);
s.kk=!0;this.CL(s,N)};K.dW.prototype.CL=function(s,N){var r=new hU(k.E.Y,!0);r.data={d:k.s.Em,k:this.id,mO:s.a.hw};
N.c(r)};K.Gg=function(){K.VT.call(this,[10,25],K.Kx,"tools/hbrush")};K.Gg.prototype=new K.VT("");K.Gg.prototype.gE=function(s,N,r,S,z){if(this.xj==null)return;
this.VD(s,"heal",this.xj.pp(),this.xj.dy(),this.xj.Ag());this.V(s,this.xj.Ag());K.kn.prototype.gE.call(this,s,N,r,S,z);
if(!this.db.algnd)this.u=null};K.mG=function(s){K.PJ.call(this,s?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],s?K.f9:K.wQ,s?"tools/vtype":"tools/htype");
this.mW=[];this.ZF=null;this.caller=null;this.xG=1;this.t7=null;this.atF=0;this.Nu=0;this.a5M=null;this.pK=null;
this.hG=null;this.Cm=null;this.kO=null;this.ST=null;this.a8w=null;this._D=null;this.XT=null;this.PW=null;
this.asM=null;this.hk=!1;this.V0=!1;this.lC=!1;this.mH=null;this.rW=null;this.a49=null;this.fR=!1;this.YT=!1;
this.Fz=-1;this.tI=-1;this.QH=document.createElement("textarea");this.QH.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.QH.addEventListener("input",this.pn.bind(this),!1);this.QH.addEventListener("keydown",this.apl.bind(this),!1);
this.QH.addEventListener("keyup",this.apJ.bind(this),!1);var N=function(r){r.stopPropagation()};this.QH.addEventListener("keydown",N,!1);
this.QH.addEventListener("keyup",N,!1)};K.mG.prototype=new K.PJ;K.mG.prototype.pN=function(s){return s.Rd};
K.mG.prototype.tU=function(s,N,r,S){if(this.hG!=null||this.id==K.f9)return;this.caller=N;var z=this.gI(s);
if(z.length!=0){var A=null,B=[],Y=[];for(var l=0;l<z.length;l++){var t=s.p[z[l]],p=t.add.TySh,f=0,a=en.RS(p.pg).length-2,D=en.hM(p.pg,f,a);
en.jw(D,K.S.S5(p.D));if(D.GN.Font!=null)D.GN.Font=D.H4[D.GN.Font].Name;A=D.H4;B.push(D.GN);Y.push(D.M7)}var D={H4:A,GN:en.kU(B),M7:en.kU(Y)};
if(D.GN.Font!=null)en._E(D,D.GN.Font);this.gV(N,D,p)}};K.mG.prototype.gI=function(s){var N=[];for(var l=0;
l<s.f.length;l++)if(s.p[s.f[l]]&&s.p[s.f[l]].add.TySh)N.push(s.f[l]);return N};K.mG.prototype.OG=function(s,N,r,S,z){var A=s.d=="insertGlyph";
if((A||s.d=="insertText")&&this.hG){var B=A?String.fromCharCode(65533):s.h,Y=this.QH,t=Y.value,p=Y.selectionStart,f=Y.selectionEnd;
Y.value=t.slice(0,p)+B+t.slice(f);Y.selectionStart=Y.selectionEnd=p+B.length;this.pn(null,A?s.h:null);
Y.focus()}if(s.d=="updateStyles"){if(this.hG==null){var a=this.gI(r),D=!1;if(a.length!=0){this.HX(r,N,z,a);
for(var l=0;l<a.length;l++){var c=r.p[a[l]],J=c.add.TySh;en.tX(J,this.xG);this.hG=c;var Z=en.RS(J.pg);
this.Fz=0;this.tI=Z.length-1;en.Z6(J.pg,this.Fz,this.tI,this.jF(z,J));var Q=this.DN(r,z);if(Q==!1)D=!0}if(D){this.fR=!0;
return}this.Rm(r,N)}return}this.kS(z)}if(s.d.startsWith("warp")){var M=this.YT;if(s.d=="warp"||s.d=="warpCancel"){if(this.hG==null)return;
if(s.d=="warp")this.hG.add.TySh.Yd=s.Wx;else this.hG.add.TySh.Yd=this.a8w;this.DN(r,z);if(!M)this.DR(r)}if(s.d!="warp")this.QH.focus();
if((s.d=="warpConfirm"||s.d=="warpCancel")&&M){this.YT=!1;if(s.d=="warpConfirm")this.Rm(r,N);else this.wC(r,N)}}if(s.d=="editCurr"){if(z.ru!=K.wQ){this.t7=z.ru;
var u=new hU(k.E.Y,!0);u.data={d:k.s.HQ,k:K.wQ};N.c(u)}if(this.hG!=null)this.disable(r,N,z,S);this.ZF=z;
this.caller=N;this.HX(r,N,z,[s.OK]);var Z=en.RS(this.hG.add.TySh.pg);this.Fz=0;this.tI=Z.length-1;this.DR(r);
this.kd();this.QH.focus()}if(s.d=="switchPntPrgr"){if(this.hG)return;var c=r.p[r.f[0]],J=c.add.TySh,P=J.D.S5(),m=JSON.parse(JSON.stringify(J.pg)),i=en.E0(m),e=i==1?en.Dt(m):[0,0,Math.round(c.rect.G*1.05/P),Math.round(c.rect.n*1.25/P)],X=en.hM(m,0,0),$=X.H4[X.GN.Font].Name,O=z.dw.y0($),T=[0,e[2],e[2]/2][X.M7.Justification%3],b=O?aM.i1(O,$,X.GN):X.GN.FontSize*.8;
en.WR(m,1-i);if(i==0){T=-T;b=-b;en.EU(m,[0,0,e[2],e[3]])}var R=new gF(1,0,0,1,T,b);R.concat(J.D);this.OG({uO:r.f[0],d:"newED",dk:m,D:R,a3i:[16,3,i==1?0:1]},N,r,S,z)}if(s.d=="newED"){var c=r.p[s.uO],J=c.add.TySh,w=this.pv(r,[s.uO]);
J.pg=s.dk;if(s.D)J.D=s.D;var F=new aM(J.pg,z.dw),L=ey.Ow(F,J);c.rect=L.Ge;c.buffer=L.sB;c.V();r.V();
var x=new hZ(s.a3i?s.a3i:this.name,this);x.data={e3:w,vS:this.pv(r,[s.uO])};r.yF(x)}if(s.d=="fromAction"){var g=s.As.wz.Usng.v,n=g.TxtC.v,h=[];
for(var l=0;l<2;l++){var _=n[l==0?"Hrzn":"Vrtc"].v,B=_.val;if(_.type=="#Prc")B=(l==0?r.G:r.n)*(B/100);
h[l]=B}this.IX(r,N,z,S,r.a.Oo(h[0],h[1]));var c=r.p[r.f[0]],J=c.add.TySh,H=J.pg,t=en.RS(H);en.oF(H,0,t.length-1);
en.Bx(H,0,g.Txt.v.replace(/\r/g,"\n"));t=en.RS(H);for(var i=0;i<2;i++){var G=g[i==0?"Txtt":"paragraphStyleRange"].v;
for(var l=0;l<G.length;l++){var j=G[l].v,p=j.From.v,f=Math.min(j.T.v-1,t.length-1);j=j[i==0?"TxtS":"paragraphStyle"].v;
var v=en.hM(H,p,f),C=i==0?v.GN:v.M7;for(var E in j){var I=j[E].v;if(E=="Sz")C.FontSize=Math.round(I.val);
else if(E=="fontPostScriptName")en._E(v,I);else if(E=="Algn")C.Justification={Left:1,Cntr:2}[I.Alg];
else if(E=="leading")C.Leading=j[E].v.val;else if(E=="baselineShift")C.BaselineShift=j[E].v.val;else if(E=="autoLeading")C.AutoLeading=j[E].v;
else if(E=="syntheticBold")C.FauxBold=j[E].v;else if(E=="syntheticItalic")C.FauxItalic=j[E].v;else if(E=="Trck")C.Tracking=j[E].v;
else if(E=="verticalScale")C.VerticalScale=j[E].v/100;else if(E=="horizontalScale")C.HorizontalScale=j[E].v/100;
else if(E=="Clr")C.FillColor={Type:1,Values:[1,I.Rd.v/255,I.Grn.v/255,I.Bl.v/255]}}en.Z6(H,p,f,v)}}var F=new aM(J.pg,z.dw),L=ey.Ow(F,J);
c.rect=L.Ge;c.buffer=L.sB;c.V();r.V();this.Rm(r,N)}};K.mG.prototype.kS=function(s){var N=Math.min(this.Fz,this.tI),r=Math.max(this.Fz,this.tI),S=this.hG.add.TySh;
en.tX(S,this.xG);en.Z6(S.pg,N,r-1,this.jF(s,S));var z=this.caller.hr(),A=this.DN(z,s);if(A)this.DR(z);
if(document.activeElement.tagName.toLowerCase()!="input")this.QH.focus()};K.mG.prototype.KR=function(s){return this.mW.indexOf(s)!=-1};
K.mG.prototype.enable=function(s,N,r,S){var z=this.QH;N.e.appendChild(z);this._D="default";this.SP(N)};
K.mG.prototype.YJ=function(){return this.hG!=null};K.mG.pR=function(s,N){for(var l=s.p.length-1;l>=0;
l--){var r=s.p[l];if(r.add.TySh&&r.rect.CZ(N)&&s.arq(l)){var S=r.pa(2)||r.pa(31);return S?-2:l}}return-1};
K.mG.prototype.Vk=function(s,N,r,S,z){this.ZF=r;this.caller=N;var A=s.a.Vd(z.x,z.y),B=this.hG==null;
if(B){var Y=K.mG.pR(s,A);if(Y==-2){alert(eV.get([6,57,0]));return}if(Y>=0&&!S.t(cK.nG)){if(!ey.Ca(s.p[Y].add.TySh,r.dw,N)){alert("Fonts not loaded yet");
return}this.HX(s,N,r,[Y])}else{this.lC=!0;this.mH=z;return}}var t=B?-1:en.E0(this.hG.add.TySh.pg),p=this.PW?this.PW:this.XT;
if(p&&p.Vk(s,r,S,A,null,null,z)&&q.Wx.II(this.hG.add.TySh.Yd)||!B&&q.g.fZ(A,this.hG.rect)>20/s.a.X&&(t==0||t==1)){this.hk=!0;
this.rW=A;this.a49=this.hG.add.TySh.D.clone();if(this.Fz==-1&&this.tI==-1)this.Fz=this.tI=this.bg(A)}else{if(this.kO==null){alert("Fonts not loaded yet");
return}this.V0=!0;this.Fz=this.tI=this.bg(A);var f=Date.now();if(f-this.atF>300)this.Nu=0;this.Nu++;
this.atF=f;if(this.Nu==2)this.aeB();if(this.Nu==3)this.alj();if(this.Nu>1){this.V0=!1}}this.kd();this.DR(s)};
K.mG.prototype.HX=function(s,N,r,S){var z=s.p[S[0]];this.hG=z;this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,nu:"showactive"});
this.Cm=S;s.f=S.slice(0);s._2();s.kf=!0;this.ST=this.pv(s,S);this.g3(z.add.TySh);this.DN(s,r)};K.mG.prototype.g3=function(s){if(en.E0(s.pg)!=1)return;
var N=en.Dt(s.pg);N=new hq(0,0,N[2]-N[0],N[3]-N[1]);var r=[N.x,N.y,N.x+N.G,N.y,N.x+N.G,N.y+N.n,N.x,N.y+N.n];
q.g.D(r,s.D,r);this.XT=new eC(r,!1,!1,!1,!0)};K.mG.prototype.aeB=function(){var s=en.RS(this.hG.add.TySh.pg);
this.Fz=this.Le(s,this.Fz);this.tI=this.xL(s,this.Fz)};K.mG.prototype.Le=function(s,N){var r=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",S=[];
for(var l=0;l<r.length;l++)S.push(r.charAt(l));var z=S.indexOf(s[N])==-1?!0:!1;for(var l=N-1;l>=0;l--)if(S.indexOf(s.charAt(l))!=-1==z)return l+1;
return 0};K.mG.prototype.xL=function(s,N){var r=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",S=[];for(var l=0;
l<r.length;l++)S.push(r.charAt(l));var z=S.indexOf(s[N])==-1?!0:!1;for(var l=N+1;l<s.length;l++)if(S.indexOf(s.charAt(l))!=-1==z)return l;
return s.length-1};K.mG.prototype.alj=function(){var s=this.kO.a61(this.Fz);this.Fz=s[0];this.tI=s[1]};
K.mG.prototype.SP=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Qb,BQ:this._D};s.c(N)};K.mG.prototype.ud=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=this.hG;
if(!z.Rd){var Y="default",t=this.XT,p=this.PW?this.PW:t;if(p&&q.Wx.II(B.add.TySh.Yd)){var f=p.QI(A,s.a.X,null,z);
if(f)Y=f;else if(p==t&&t.Tr(A))Y="text"}else if(B&&q.g.fZ(A,B.rect)>20/s.a.X)Y="move";else if(K.mG.pR(s,A)>=0)Y="text";
if(Y!=this._D){this._D=Y;this.SP(N)}}var a=this.mH;if(this.lC&&Math.min(z.x-a.x,z.y-a.y)>4/s.a.X){this.lC=!1;
this.IX(s,N,r,S,z);B=this.hG;this.hk=!0;this.XT=new eC(null,!1,!1,!1,!0);var D=s.a.Vd(this.mH.x,this.mH.y);
D.x=Math.round(D.x);D.y=Math.round(D.y);this.XT.Vk(s,r,S,D,null,null,z)}if(this.hk){var c=B.add.TySh;
if(this.PW){this.PW.ud(s,r,S,A);var J=q.P.Nq(q.P.g8(this.PW.sg(),this.asM));c.D=J;this.DN(s,r);en.$E(c)}else if(this.XT){this.XT.ud(s,r,S,A);
var Z=c.D.clone(),Q=Math.atan2(Z.U,Z.aC);Z.rotate(Q);var J=q.P.Nq(q.P.g8(this.XT.sg())),M=Math.atan2(J.U,J.aC);
J.rotate(M);if(!isNaN(J.aC)&&J.aC*J.dX-J.U*J.K1!=0){var u=new hq(0,0,J.aC/Z.aC,J.dX/Z.dX),P=Math.round(u.G),m=Math.round(u.n),i=c.pg.Curve;
if(i){var e=en.Dt(c.pg),X=new gF(P/e[2],0,0,m/e[3],0,0);q.g.D(i.Points,X,i.Points);en.$E(c)}en.EU(c.pg,[0,0,P,m]);
c.D=q.P.Nq(q.P.g8(this.XT.sg(),u));this.DN(s,r);en.$E(c)}}else{var $=A.x-this.rW.x,O=A.y-this.rW.y;c.D=this.a49.clone();
var T=new cR(c.D.JC+$,c.D.T3+O);T=K.yz.FA(s,T,r);c.D.JC=T.x;c.D.T3=T.y;this.DN(s,r)}}if(this.V0)this.tI=this.bg(A);
if(this.hk||this.V0)this.DR(s)};K.mG.prototype.IX=function(s,N,r,S,z){var A=s.Ly(),B=A[0],Y=A[1],t=s.tT();
t.add.lnsr="rend";var p=s.p.slice(0);t.lP("Text layer "+p.length);this.hG=t;var f=s.f.length==0?s.p.length-1:s.f[s.f.length-1],a=f+1;
if(p[f].add.lsct==d9.KK)a--;this.ST={_p:p.slice(0),ZH:s.f.slice(0)};p.splice(a,0,t);s.f=[a];this.Fz=this.tI=0;
s.uZ(p);this.ST.rs=p.slice(0);this.ST.FO=s.f.slice(0);this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,nu:"showactive"});
var D=s.a.Vd(z.x,z.y),c=r.Rl;console.log(c);if(this.id==K.f9){c=JSON.parse(JSON.stringify(c));c.GN.BaselineDirection=1}t.add.TySh=en.iE(D.x,D.y,c);
var J=t.add.TySh,Z=J.pg;if(this.id==K.f9)Z._LineOrientation=2;en.tX(J,this.xG);if(z.Rd)en.WR(Z,1);else{en.WR(Z,0);
var Q=B[Y.pop()],M=Q?Q.add.vmsk:null;if(M&&!S.t(cK.nG)){M=M.clone();var u=M._,m,i;for(var l=0;l<u.length;
l++)if(u[l].my!=null)u[l].my=0;var P=5/s.a.X;m=q.J.KB(M._,D,!0,P);if(m.Jb==-1)m=q.J.KB(M._,D);if(m.Jb!=-1){en.WR(Z,1);
var e=q.J.$l(u,m.Jb),X=q.J.eG(u,m.Jb)-1;u=M._=u.slice(0,2).concat(u.slice(e,e+X+1));M.f=[];J.add={vmsk:M,vogk:y.dn(u)};
Z.Curve={};en.FS(J);if(m.Dj!=null){var $=aM.Y8(Z.Curve);q.g.D($[0],J.D,$[0]);var O=q.g.Us($[0],D.x,D.y),T=r.Rl.M7.Justification;
if(T==2||T==5){var b=($[2][O]+$[3]*.5)%$[3];O=aM.SG(b,$[2])}var R=$[1][O];R=R%X;M.Ig=[R,R];en.FS(J)}else this.g3(J)}}}return t};
K.mG.prototype.gE=function(s,N,r,S,z,A){if(A){this.lC=!1;return}if(this.hG==null&&!this.lC)return;var B=s.a.Vd(z.x,z.y),Y=this.lC;
if(this.lC){this.lC=!1;this.IX(s,N,r,S,z);this.V0=!0}if(this.hk||this.V0){this.DR(s);this.kd();if(Y)this.kS(r)}if(this.hk&&this.XT)this.XT.gE(s,r,S,B);
this.hk=this.V0=!1;this.QH.focus()};K.mG.prototype.kd=function(){var s=this.hG.add.TySh,N=Math.min(this.Fz,this.tI),r=Math.max(this.Fz,this.tI),S,z;
if(N==r){var A=en.RS(s.pg);if(N==0||A.charAt(N-1)=="\n")S=z=N;else S=z=N-1}else{S=N;z=r-1}var B=en.hM(s.pg,S,z);
en.jw(B,K.S.S5(s.D));this.gV(this.caller,B,s)};K.mG.prototype.gV=function(s,N,r){this.Tm(s,k.E.Y,{d:k.s.Jl,LS:eq.j4,Rl:N});
var S=this.xG=en.AW(r);this.Tm(this.caller,k.E.Y,{d:k.s.Em,k:this.id,nu:"changeAA",zr:S})};K.mG.prototype.TP=function(){var s=this.hG;
if(s&&!this.hk&&this.PW!=null){var N=this.caller.hr();this.PW.gE(N,this.ZF,null,null);this.PW=null;this.g3(s.add.TySh);
this.DR(N)}};K.mG.prototype.disable=function(s,N,r,S){var z=this.hG;this.Rm(s,N)};K.mG.prototype.e_=function(s,N,r,S,z){if(this.YT)return;
if(s.nu=="commit")this.Rm(r,N);if(s.nu=="cancel")this.wC(r,N);if(s.nu=="changeAA"){this.xG=s.zr;if(r!=null)this.OG({d:"updateStyles"},N,r,S,z)}if(s.nu=="showwarp"){if(r==null)return;
if(this.hG==null){var A=r.p[r.f[0]],B=A.add.TySh;if(B==null)return;this.HX(r,N,z,[r.f[0]]);this.QH.focus();
this.YT=!0}this.a8w=this.hG.add.TySh.Yd;var Y=new hU(k.E.Y,!0);Y.data={d:k.s.Pv,ic:"textwarp"};N.c(Y)}};
K.mG.prototype.wy=function(s,N){if(N!=eq.Bw)return;if(this.fR){this.fR=!1;var r=this.caller.hr(),S=this.Cm;
for(var l=0;l<S.length;l++){this.hG=r.p[S[l]];this.DN(r,s)}this.Rm(r,this.caller);return}if(this.hG)this.kS(s)};
K.mG.prototype.jF=function(s,N){var r=JSON.parse(JSON.stringify(s.Rl));en.jw(r,1/K.S.S5(N.D));return r};
K.mG.prototype._6=function(s,N){if(s.e3!=null)this.if(N,s.vS);else this.yB(N,s.rs,s.FO)};K.mG.prototype.kA=function(s,N){if(s.e3!=null)this.if(N,s.e3);
else this.yB(N,s._p,s.ZH)};K.mG.prototype.if=function(s,N){for(var l=0;l<N.length;l++){var r=N[l],S=r.uO,z=s.p[S];
z.buffer=r.GT;z.rect=r.Ge.clone();z.V();var A=z.add.TySh;A.Yd=r.Wx;A.Kr=r.Kr.clone();A.D=r.D.clone();
A.pg=JSON.parse(JSON.stringify(r.pg));z.Gk()}s.V()};K.mG.prototype.pv=function(s,N){var r=[];for(var l=0;
l<N.length;l++){var S=N[l],z=s.p[S],A=z.add.TySh;r.push({uO:S,D:A.D.clone(),Wx:JSON.parse(JSON.stringify(A.Yd)),Kr:A.Kr.clone(),pg:JSON.parse(JSON.stringify(A.pg)),GT:z.buffer.slice(0),Ge:z.rect.clone()})}return r};
K.mG.prototype.yB=function(s,N,r){s.f=r;s.uZ(N);s.V();s.J4=!0};K.mG.prototype.DN=function(s,N,r){if(r==null)r=!1;
var S=this.hG.add.TySh;if(!ey.Ca(S,N.dw,this.caller))return!1;this.kO=new aM(S.pg,N.dw);if(!r){var z=en.RS(S.pg);
this.QH.value=z.slice(0,z.length-1)}var A=ey.Ow(this.kO,S);if(q.Wx.II(S.Yd))S.Kr=new hq;else{if(en.E0(S.pg)==1){var B=en.Dt(S.pg),i3=A.Kr.y;
S.Kr=new hq(0,i3,B[2]-B[0],B[3]-B[1]-i3)}else{S.Kr=A.Kr}}var Y=this.hG.rect;this.hG.rect=A.Ge;this.hG.buffer=A.sB;
this.hG.V();s.$S();s.V(s.root.Kp(A.Ge.Ms(Y),s,s.p.indexOf(this.hG)));return!0};K.mG.prototype.pn=function(s,N){if(this.hG==null||this.YT)return;
var r=this.QH.selectionStart,S=this.hG.add.TySh,z=en.RS(S.pg),A=this.QH.value+"\n",B=Math.min(this.Fz,this.tI),Y=Math.max(this.Fz,this.tI),D=!1;
this.Fz=Math.min(r,B);if(A.length-r<z.length-this.tI)this.tI=z.length-A.length+r;if(z!=A){while(this.Fz>0&&z.charAt(this.Fz-1)!=A.charAt(this.Fz-1))this.Fz--}var t=z.substring(0,this.Fz),p=z.substring(this.tI,z.length),f=A.substring(this.Fz,A.length-p.length);
en.oF(S.pg,this.Fz,this.tI);en.Bx(S.pg,this.Fz,f);if(N!=null)en.aaf(S.pg,this.Fz,N);var a=this.jF(this.ZF,S),c=-1,J=Array.from(f);
for(var l=0;l<J.length;l++)c=Math.max(c,J[l].codePointAt(0));if(c!=-1&&c>128&&c!=65533&&a.GN.Font!=null){var Z=a.H4[a.GN.Font].Name,Q=this.ZF.dw.VG(c,Z,a.H4);
if(Z!=Q){en._E(a,Q);D=!0}}if(this.pK!=null&&f==this.pK){var M=JSON.parse(this.a5M);a.GN=M.GN;a.H4=M.H4;
D=!0}en.Z6(S.pg,this.Fz,this.Fz+f.length-1,a);this.Fz=this.tI=t.length+f.length;var u=this.caller.hr(),P=this.DN(u,this.ZF,!0);
if(P)this.DR(u,!0);if(D)this.kd()};K.mG.prototype.apJ=function(s){if(!s.ctrlKey)this.TP()};K.mG.prototype.apl=function(s){if(this.hG==null||this.YT)return;
if(this.hG==null)return;var N=this.caller.hr(),Y=0,t=0,i=!1;if(this.PW==null&&s.ctrlKey){var r=this.hG.add.TySh,S=en.E0(r.pg),z;
if(S==1){z=en.Dt(r.pg);z=new hq(0,0,z[2]-z[0],z[3]-z[1])}else z=this.kO.qh();var A=[z.x,z.y,z.x+z.G,z.y,z.x+z.G,z.y+z.n,z.x,z.y+z.n];
q.g.D(A,r.D,A);this.PW=new eC(A,!0,!0,!1,!1);this.asM=z;this.DR(N)}var B=cK;if(B.UW(s.code,B.AS))Y=1;
if(B.UW(s.code,B.AO))Y=-1;if(B.UW(s.code,B.aa))t=-1;if(B.UW(s.code,B.Qw))t=1;var p=s.ctrlKey||s.metaKey,f=B.UW(s.code,cK.rm),a=B.UW(s.code,cK.auv);
if(B.UW(s.code,cK.D9)&&p){this.Rm(N,this.caller);return}if(B.UW(s.code,cK.Nl)){this.wC(N,this.caller);
return}if(B.UW(s.code,cK.ZW)){s.preventDefault();var D=this.QH,c=D.value,J=D.selectionStart,Z=D.selectionEnd;
D.value=c.substring(0,J)+"\t"+c.substring(Z);D.selectionStart=D.selectionEnd=J+1;this.pn(null);return}if((B.UW(s.code,B.p6)||B.UW(s.code,B.pC))&&p){var Q=this.Fz,M=this.tI;
if(Q>M){var u=Q;Q=M;M=u}var r=this.hG.add.TySh,P=en.RS(r.pg);if(Q!=M){this.pK=P.slice(Q,M);this.a5M=JSON.stringify(this.ZF.Rl)}}var m=en.RS(this.hG.add.TySh.pg);
if(Y!=0||t!=0||f||a){s.preventDefault();var e=this.Fz;if(Y!=0){if(p&&Y==-1)e=this.Le(m,this.Fz-1);else if(p&&Y==1)e=this.xL(m,this.Fz);
else{var D=this.QH,c=D.value;e=this.Fz+Y;if(e!=0&&c.codePointAt(e-1)>65535)e+=Y}}else if(t!=0){var X=this.kO.QF(this.Fz);
if(t==-1&&X.Ks==0)e=0;else if(t==1&&X.Ks==this.kO.adO()-1)e=99999999999;else e=this.kO.aoU(new cR(X.Ge.x+X.Ge.G/2,0),X.Ks+t)}else if(f){var $=this.Fz-1;
while($>0&&m.charCodeAt($)!=10)$--;e=$==0?0:$+1}else if(a){var $=this.Fz;while($<m.length-1&&m.charCodeAt($)!=10)$++;
e=$}e=Math.max(0,Math.min(m.length-1,e));if(s.shiftKey)this.Fz=e;else this.Fz=this.tI=e;i=!0}if(B.UW(s.code,cK.s)&&p){this.Fz=0;
this.tI=m.length-1;i=!0}if(i){this.kd();this.DR(N)}};K.mG.as4=function(s,N){var r=s.length;if(r!=N.length)return!1;
for(var l=0;l<r;l++)if(s[l].uO!=N[l].uO)return!1;return!0};K.mG.prototype.Rm=function(s,N){if(this.hG==null)return;
this.hG.Gk();var r=this.ST;if(r instanceof Array){var S=this.pv(s,this.Cm),z=s.sQ();if(z!=null&&z.k==this&&z.data.e3&&K.mG.as4(z.data.e3,r))z.data.vS=S;
else{var A=new hZ(this.name,this);A.data={e3:r,vS:S};s.yF(A)}}else{var A=new hZ(this.name,this);A.data={_p:r._p,rs:r.rs,ZH:r.ZH,FO:r.FO};
s.yF(A)}this.escape(s,N)};K.mG.prototype.wC=function(s,N){if(this.hG==null)return;if(this.ST instanceof Array){this.if(s,this.ST);
if(this.hG)en.$E(this.hG.add.TySh)}else{s.f=this.ST.ZH;s.uZ(this.ST._p)}s.V();this.escape(s,N)};K.mG.prototype.escape=function(s,N){this.TP();
this.hG=null;this.Cm=null;this.kO=null;this.XT=null;this.QH.blur();s.R.iD=null;s.R.Ry=null;s.R.zH=[];
s.kk=!0;this.hk=!1;this.V0=!1;this.Fz=this.tI=-1;this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,nu:"hideactive"});
if(this.t7){var r=new hU(k.E.Y,!0);r.data={d:k.s.HQ,k:this.t7};N.c(r);this.t7=null}};K.mG.prototype.Tm=function(s,N,r,S){var z=new hU(N,!0);
z.data=r;if(S)z.k=S;s.c(z)};K.mG.prototype.bg=function(s){var N=this.hG.add.TySh,r=this.kO,S=N.D.clone();
S.dm();var z=S.aK(s),A=en.dy(N,r),B=q.Wx.T$(N.Yd,A),Y=q.Xp.ad8(B,z);if(Y==null)Y=new Float64Array(2);
z=new cR(A.x+Y[0]*A.G,A.y+Y[1]*A.n);if(r._O){var t=r._O.clone();t.dm();z=t.aK(z)}var p=r.aoU(z);return p};
K.mG.prototype.DR=function(s,N){if(N==null)N=!1;var r=this.hG.add.TySh,S=en.E0(r.pg),z=this.kO,A=z?en.dy(r,z):null;
s.R.zH=[];s.R.iD=null;s.R.Ry=null;var B=this.PW?this.PW:this.XT;if(B){B.sz(s,this.ZF,!q.Wx.II(r.Yd));
var Y=r.D.clone();Y.dm();if(z&&z._O&&z.fW==1){var t=z._O.clone();t.dm();Y.concat(t)}q.g.D(s.R.zH,Y,s.R.zH);
q.g.D(s.R.iD.v,Y,s.R.iD.v);if(z&&z._O==null&&z.afN()){var p=A.G-20,f=A.n+8;s.R.iD.v.push(p,f,p+10,f,p+5,f-5,p+5,f+5);
s.R.iD.F.push("M","L","M","L")}}else if(S==0)this.afJ(s,r,z);else s.R.iD={v:[],F:[]};var a=Math.min(this.Fz,this.tI),D=Math.max(this.Fz,this.tI);
if(!N){this.QH.selectionStart=a;this.QH.selectionEnd=D}if(z!=null){var c=function(B,m){var i=B.x,e=B.y+B.n,X=new gF;
X.translate(-i,-e);X.rotate(-m);X.translate(i,e);B.y+=B.n*.27;var P=q.g.w2(B);q.g.D(P.v,X,P.v);return P};
if(a==D){a=Math.max(a,0);var J=z.QF(a);if(J){var Z=J.Ge,Q=this.ZF.Rl.GN.FontSize;if(Q!=null&&Q!=0){Q/=r.D.S5();
Z.y+=Z.n-Q;Z.n=Q}var M=z.a1F(a);if(M!=null&&M.nz==1)Z.x+=Z.G;var u=c(Z,J.hw).v;s.R.iD.F.push("M","L");
s.R.iD.v.push(u[0],u[1]-1,u[6],u[7]-1)}}else{s.R.Ry={v:[],F:[]};for(var l=a;l<D;l++){var J=z.QF(l),P=c(J.Ge,J.hw);
q.g.concat(s.R.Ry,P)}}}s.R.iD=ey.MH(s.R.iD,r,z);s.R.Ry=ey.MH(s.R.Ry,r,z);s.R.zH=ey.MH({v:s.R.zH},r,z).v;
s.kk=!0};K.mG.prototype.afJ=function(s,N,r){if(r==null)return;s.R.zH.push(0,0);if(s.R.iD==null)s.R.iD={F:[],v:[]};
for(var l=0;l<r.M7.length;l++){var S=r.M7[l];for(var z=0;z<S.Z1.length;z++){var A=S.Z1[z],B=S.l7.x+A.l7.x+A.Ge.x,Y=S.l7.y+A.l7.y+A.Ge.y+A.Ge.n;
s.R.iD.F.push("M","L");s.R.iD.v.push(B,Y,B+A.Ge.G,Y)}}s.kk=!0};K.wL=function(){K.mG.call(this,!0)};K.wL.prototype=new K.mG;
K.xC=function(){K.eL.call(this,[10,9],K.Zj,"tools/lasso");this.MK="crosshair";this.Ax=null;this.a5=null;
this.rW=null};K.xC.prototype=new K.eL;K.xC.prototype.ja=function(s,N,r,S){this.Ax=this.as;this.a5={v:[this.Ax.x,this.Ax.y],F:["M"]}};
K.xC.prototype.ma=function(s,N,r,S){this.rW=S;var z=this.a5;if(z==null)return;if(!S.Rd){if(this.a5!=null&&this.AA>1&&r.t(cK.nI)){z.v.pop();
z.v.pop();z.v.push(this.u2.x,this.u2.y);s.R.iD=z;s.kk=!0}return}z.F.push("L");z.v.push(this.u2.x,this.u2.y);
this.Ax=this.u2;if(this.pV){s.R.iD=z;s.kk=!0}};K.xC.prototype.YJ=function(){return this.a5!=null};K.xC.prototype.Gd=function(){return this.a5!=null};
K.xC.prototype.Rt=function(s,N,r,S){K.eL.prototype.Rt.call(this,s,N,r,S);if(this.a5&&this.AA>1&&this.rW&&!this.rW.Rd&&!S.t(cK.nI))this.n9(s,r,S)};
K.xC.prototype.$D=function(s,N,r,S){this.rW=S;var z=this.a5;if(z==null)return;if(this.AA>1&&r.t(cK.nI)){z.F.push("L");
z.v.push(this.u2.x,this.u2.y);return}this.n9(s,N,r)};K.xC.prototype.n9=function(s,N,r){this.finish(s,N,r,this.rW);
this.a5=null;s.R.iD=null;s.kk=!0};K.xC.prototype.getSelection=function(s,N,r,S){if(this.as.nR(this.u2)||!this.pV)return null;
return K.eL.lT(this.a5.v,null,this.db.anta)};K.yz=function(){K.PJ.call(this,[10,11],K.tM,"tools/move");
this.V$=new cR(0,0);this.Px=new cR(0,0);this.un=null;this.Vc=null;this.dp=new cR(0,0);this.BS=null;this.tx=null;
this.$0=null;this.cs=0;this.j5=null;this.yf=[];this.Y9=null;this.MA=null;this.l5=!1;this.d=0;this.W8=null;
this.xo=null;this.p0=null;this.bi=!1;this.db={NO:!1,qH:!1,D8:!1};this.atr=!1;this.awq=!1;this.XT=null;
this.R$=null;this.avt=null;var s=[];for(var l=0;l<q.HR.ft.length;l++)s.push({name:q.HR.ft[l],K:function(N,r,S){return{az:r.Hl._c==S}}});
this.D4=new hR(s);this.D4.W("select",this.om,this)};K.yz.prototype=new K.PJ;K.PJ.prototype.pN=function(s){return this.l5&&this.d!=2};
K.yz.prototype.ns=function(){return this.l5&&(this.d==0||this.d==1)};K.yz.prototype.wx=function(s,N,r,S){this.wh(s,-this.dp.x,-this.dp.y);
this.dp.i5(0,0);this.EH(s,null,r);this.G0(s)};K.yz.prototype.YR=function(){var s=this.db;return[s.NO?1:0,s.qH?1:0,s.D8?1:0]};
K.yz.prototype.Qy=function(s,N,r){var S=this.db;if(s&&s[0]!=null)S.NO=s[0]==1;if(s&&s[1]!=null)S.qH=s[1]==1;
if(s&&s[2]!=null)S.D8=s[2]==1;var z=new hU(k.E.Y,!0);z.data={d:k.s.Em,k:this.id,oT:S,ak$:N};r.c(z)};
K.yz.uu=function(s,N,r,S,z,A,B){if(B==null)B=[!1,!0];var Y=s.xY(null,z,!0),t,p;if(s.add.artd&&s.f.length==1&&s.p[s.f[0]].add.artb){var f=s.p[s.f[0]].M5();
t=s.xT(Y,f,f)[0]}else{var a=new hq(0,0,s.G,s.n),t=s.xT(Y,B[0]?a:null,B[1]?null:a)[0];delete t.add.artd;
if(B[1]){var D=q.DK(t.r9(),new hq(0,0,t.G,t.n),2);K.Vg.OL(t,D)}}if(r!=1){var c=new hq(0,0,Math.round(t.G*r),Math.round(t.n*r));
K.Vg.OL(t,c);var J=[];for(var l=0;l<t.p.length;l++)J.push(l);var Z=K.S._r(t,J,!0);K.Vg.ML(t,new gF(r,0,0,r,0,0));
K.S.Dn(t,S,J,Z,1,q.P.tl(new gF(r,0,0,r,0,0)),null,!0);t.im()}else if(p){t.V();t.im()}var Q=[];for(var l=0;
l<N.length;l++)if(t.G*t.n!=0)Q.push(hg.Lf(t,N[l].toUpperCase(),null,null,A?A[l]:null,S));return Q};K.yz.prototype.e4=function(s,N,r,S,z){if(s==null||s.f.length==0)return;
var A=K.yz.uu(s,[N],r,S,null)[0],B=new hU(k.E.Y,!0);B.data={d:k.s.dJ,data:A,name:s.p[s.f[0]].getName()+(r==1?"":"@"+r+"x")+"."+N};
z.c(B)};K.yz.prototype.e_=function(s,N,r,S,z){if(s.Xy=="getPNG"){this.e4(r,"png",s.W1,z,N)}else if(s.Xy=="getSVG"){this.e4(r,"svg",s.W1,z,N)}if(s.Xy=="prms"){this.db=s;
this.G0(r)}};K.yz.ar7=function(s){var i3=s.length,r=0;s.sort(function(A,B){return A[0]+A[1]/2-(B[0]+B[1]/2)});
var N=s[i3-1][0]+s[i3-1][1]-s[0][0];for(var l=0;l<i3;l++)r+=s[l][1];var S=Math.round((N-r)/(i3-1)),z=s[0][0];
for(var l=0;l<i3;l++){s[l][0]=z;z+=s[l][1]+S}};K.yz.prototype.OG=function(s,N,r,S,z){var A=s.d;if(A=="trsl"){var B=Math.round(s.w8),Y=Math.round(s.cH);
this.dp.i5(B,Y);this.x5(r,N,S,z,!1,s.j);this.wh(r,B,Y);this.EH(r,null,z)}else if(A=="fcmy"){var A=new hZ(["RGB","CMYK"][s.h]+" Color",this);
A.data={d:s.d,kj:r.add.fcmy==null?0:r.add.fcmy,zr:s.h};r.yF(A);this._6(A.data,r)}else if(A=="lockguides"){if(r)r.P4=!r.P4}else if(A=="gids"||A=="gidsFromLayer"){var t=s.xo,p,f;
if(t==null)t=r._C();if(A=="gids"){p=s.eP;var a=t[0].length,D=p[0].length;f=a==D?[23,2]:a>D?[23,3]:[23,4];
if(D==0)f=[11,15,0]}else if(A=="gidsFromLayer"){var c=[],J=[],Z=r.W$();for(var l=0;l<r.f.length;l++){var Q=r.p[r.f[l]].rect;
if(Q.Nf())continue;c.push([0,Q.x],[1,Q.y],[0,Q.x+Q.G],[1,Q.y+Q.n]);J.push(Z,Z,Z,Z)}f=[11,15,1];p=r._C();
K.yz.Am(p,[c,J])}if(JSON.stringify(t)==JSON.stringify(p))return;var A=new hZ(f,this);A.data={d:2,xo:t,eP:p};
r.yF(A);this._6(A.data,r)}else if(A=="algn"){var M=s.h;if(r==null)return;if(r.f.length<2&&!(r.q!=null&&M!=3&&M!=7)){alert(eV.get([15,7,5]));
return}var u=r.q;r.q=null;var Q=u?u.rect:K.S.dy(r);this.x5(r,N,S,z,!1);if(!this.l5)return;var P=this.j5,m={},i=[],e=[],X=[];
for(var l=0;l<P.length;l++){var $=P[l];while(r.p[$].getName()=="</Layer group>")$++;var O=r.root.uc($),T=O;
while(O.parent!=null){O=O.parent;if(P.indexOf(O.index)!=-1)T=O}var b=e.indexOf(T.index);if(b==-1){b=e.length;
e.push(T.index)}i[l]=b}var R=[],w=[],F=[];for(var l=0;l<e.length;l++){var L=K.S.dy(r,r.xY(!0,e[l]));
F.push(L);var x=M==3?[L.y,L.n]:[L.x,L.G];R[l]=x;w.push(x)}K.yz.ar7(w);for(var l=0;l<e.length;l++){var L=F[l],g=L.x,n=L.y;
if(M==0)g=Q.x;if(M==1)g=Q.x+(Q.G-L.G)/2;if(M==2)g=Q.x+(Q.G-L.G);if(M==3)n=R[l][0];if(M==4)n=Q.y;if(M==5)n=Q.y+(Q.n-L.n)/2;
if(M==6)n=Q.y+(Q.n-L.n);if(M==7)g=R[l][0];X.push(Math.round(g-L.x),Math.round(n-L.y))}var h=[];for(var l=0;
l<P.length;l++){var _=i[l];h[2*l]=X[2*_];h[2*l+1]=X[2*_+1]}this.wh(r,0,0,null,h);var H=M==3||M==7?[20,4,6]:[20,4,M<3?M:M-1];
this.EH(r,null,z,h,H);r.q=u}else if(A=="disabAuto"){this.Qy([!1],null,N)}};K.yz.Am=function(s,N){for(var l=0;
l<N[0].length;l++){var r=N[0][l],S=N[1][l],z=!1;for(var A=0;A<s[0].length;A++){var B=s[0][A],Y=s[1][A];
if(r[0]==B[0]&&r[1]==B[1]&&S==Y)z=!0}if(!z){s[0].push(r.slice(0));s[1].push(S)}}};K.yz.prototype.enable=function(s,N,r,S,z){this.tx=r;
this.$0=N;this.bi=z?!0:!1;this.G0(s);this.SP("default",N)};K.yz.prototype.disable=function(s,N,r,S){this.Yb(s)};
K.yz.prototype.Yb=function(s){if(s==null)return;if(this.XT){this.XT.clear(s);this.XT=null}if(s.R.D8){s.R.D8=null;
s.kk=!0}if(s.R.Tw){s.R.Tw=null;s.kk=!0}if(s.R.FJ[this.id]){delete s.R.FJ[this.id];s.kk=!0}if(s.R.QQ.length!=0){s.R.QQ=[];
s.kk=!0}};K.yz.prototype.tU=function(s,N,r,S){if(r.ru!=this.id)return;this.G0(s)};K.yz.prototype.G0=function(s,N){if(s==null)return;
var r=this.db;this.Yb(s);if(!this.bi){var S;if(r.qH||r.D8)S=q.g.i2(K.S.dy(s));if(r.qH&&!S.Nf()){this.XT=new eC([S.x,S.y,S.x+S.G,S.y,S.x+S.G,S.y+S.n,S.x,S.y+S.n],!0);
this.XT.sz(s,this.tx)}if(r.D8){var z=null,f=null,a=!1;if(s.W$()!=-1)z=s.p[s.W$()].M5();else z=new hq(0,0,s.G,s.n);
s.R.D8={rN:[S],Ad:[]};var A=s.R.D8.Ad,B=S.x+S.G,Y=S.y+S.n,t=S.x+Math.floor(S.G/2),p=S.y+Math.floor(S.n/2);
if(N){var D=s.root.KB(new cR(Math.floor(N.x),Math.floor(N.y)));if(D){f=q.g.i2(D.j.jD(s));if(f.mF(S)){a=(f.V9(S)||S.V9(f))&&!S.nR(f);
if(!a)f=null}}}this.QS(S,A);if(f!=null){s.R.D8.rN.push(f);var c=f.x+f.G,J=f.y+f.n,Z=f.x+Math.floor(f.G/2),Q=f.y+Math.floor(f.n/2);
if(a){var M=t,u=p;if(S.V9(f)){M=Z;u=Q}A.push(S.x,u,f.x,u);A.push(B,u,c,u);A.push(M,S.y,M,f.y);A.push(M,Y,M,J)}else{this.QS(f,A);
var P=Y<f.y||J<S.y,m=B<f.x||c<S.x;if(B<f.x)A.push(B,p,f.x,p);if(c<S.x)A.push(c,p,S.x,p);if(Y<f.y)A.push(t,Y,t,f.y);
if(J<S.y)A.push(t,J,t,S.y);if(P&&!m){if(S.x<f.x)A.push(S.x,Q,f.x,Q);if(f.x<S.x)A.push(f.x,p,S.x,p)}}}else{if(S.y>z.y)A.push(t,z.y,t,S.y);
if(Y<z.y+z.n)A.push(t,Y,t,z.y+z.n);if(S.x>z.x)A.push(z.x,p,S.x,p);if(B<z.x+z.G)A.push(B,p,z.x+z.G,p)}s.kk=!0}}if(this.d==2&&this.l5){var i=new hq(0,0,s.G,s.n),e=s.W$();
if(e!=-1){var X=s._C(),$=X[1][this.j5];if($==-1)$=e;i=s.p[$].M5()}var O=s.K0[this.j5],T=O[0],b=(T==0?"X":"Y")+": "+q.HR.jc(O[1]-(T==0?i.x:i.y),s.FD,this.tx,T==0?i.G:i.n,!0);
K.PJ.Jw(Math.round(this.un.x)+10,Math.round(this.un.y)-10,[b],s);s.kk=!0}if(this.d==3&&this.l5){var R=q.g.w2(this.W8);
s.R.FJ[this.id]={iD:R};s.kk=!0}};K.yz.prototype.QS=function(s,N){var r=s.G,S=s.n,z=s.x+Math.floor(r*.2),A=s.y+Math.floor(S*.2);
N.push(z,s.y,z,s.y+S);N.push(s.x,A,s.x+r,A)};K.yz.prototype.SP=function(s,N){var r={d:k.s.Qb,BQ:s},S=new hU(k.E.Y,!0);
S.data=r;N.c(S)};K.yz.prototype.M0=function(s){var N=this.R$.o4()[0],r=this.BS,S=this.avt[N];this.Jp(r,S)};
K.yz.prototype.om=function(s){var N=JSON.parse(JSON.stringify(this.tx.Hl));N._c=this.D4.o4()[0];var r=new hU(k.E.Y,!0);
r.data={d:k.s.Jl,LS:eq.$H,zr:N};this.$0.c(r)};K.yz.prototype.jN=function(s,N,r,S,z){if(this.l5)this.gE(s,N,r,S,z);
this.BS=s;this.tx=r;this.$0=N;var A=s.a.Vd(z.x,z.y),B;if(K.yz._7(r,z,s.a)){B=this.D4}else{if(this.R$)this.R$.removeEventListener("select",this.M0);
var Y=[];s.root.KB(A,Y);if(Y.length==0)return;var t=[];this.avt=Y;for(var l=0;l<Y.length;l++)t.push({name:s.p[Y[l]].getName()});
B=this.R$=new hR(t);B.W("select",this.M0,this)}B.parent=N;B.N();B.update(s,r);var p=new hU(k.E.Y,!0);
p.data={d:k.s.xh,mk:B,x:z.f_+2,y:z.FX+1};N.c(p)};K.yz.prototype.Hw=function(s,N,r,S,z){var A=K.yz.Ga(s,z);
return A!=-1||K.yz._7(r,z,s.a)};K.yz.Ga=function(s,N){if(s==null||s.add.artd==null)return-1;var r=s.a.Vd(N.x,N.y),S=12*K.Z()/s.a.X;
for(var l=0;l<s.p.length;l++){var z=s.p[l];if(!z.ES()||z.add.artb==null)continue;var A=z.M5(),B=new hq(A.x,A.y-1.7*S,S*z.getName().length*.5,S);
if(B.CZ(r))return l}return-1};K.yz.prototype.Vk=function(s,N,r,S,z){var A=K.yz.Ga(s,z),B=K.yz.anC(s,s.a.Vd(z.x,z.y));
if(A!=-1){s.f=[A];if(r.ru==K.tM){var Y=new hU(k.E.Y);Y.data={d:k.s.HQ,k:K.wA};N.c(Y)}return}if(B!=-1){s.a.vF=B;
s._R=!0;var Y=new hU(k.E.Y,!0);Y.data={d:k.s.fk,ic:d8.tZ.ars};N.c(Y);return}this.un=z;this.V$.i5(z.x,z.y);
this.Px=s.a.Vd(z.x,z.y);this.Vc=new cI(this.Px);this.x5(s,N,S,r,!0)};K.yz._7=function(s,N,r,S){var z=q.HR.Ez,A=r.bh.n;
return s.xA&&(0<N.x&&N.x<z||0<N.y&&N.y<z||S&&0<N.x&&N.x<4*z&&A-z<N.y&&N.y<A)};K.yz.prototype.x5=function(s,N,r,S,z,A){var B,Y=this.Px,t=!1;
if(z){var p=S.R1&&S.Hl.K0;if(K.yz._7(S,this.V$,s.a)){B=s._C();var f=s._C(),a=null;if(this.V$.x<q.HR.Ez){a=[0,Y.x]}if(this.V$.y<q.HR.Ez){a=[1,Y.y]}f[0].push(a);
f[1].push(s.W$());s.TO(f);if(!p){var D=new hU(k.E.Y);if(!S.Hl.K0){D.data={d:k.s.Jl,LS:eq.Ok};N.c(D)}if(!S.R1){D.data={d:k.s.Jl,LS:eq.HI};
N.c(D)}p=!0}}var c=this.atl(s,Y);if(p&&c!=null&&!s.P4){this.d=2;this.xo=B?B:s._C();this.j5=c;this.l5=!0;
this.MA=K.S.dy(s);return}if(s.rz.length!=0){this.d=4;this.MA=s.Aa[s.rz[0]].rect.clone();this.l5=!0;return}if(this.XT&&this.XT.QI(Y,s.a.X,!0,this.un)!=null){var D=new hU(k.E.Y);
D.data={d:k.s.HQ,k:K.ZB,apP:!0};N.c(D);return}if(s.q&&s.q.rect.CZ(Y)){var J=Math.round(Y.x),Z=Math.round(Y.y),Q=s.q.rect;
t=s.q.channel[(Z-Q.y)*Q.G+J-Q.x]>128}if(!t&&(!this.bi&&this.db.NO||this.bi&&this.db.NO&&(r.t(cK.nG)||s.f.length<2))){var M=this.a3n(s,Y,r);
if(!M){s.f=[];s.$Y=null;s.J4=s.Wy=!0;this.d=3;this.W8=new hq;this.l5=!0;return}}if(r.t(cK.nI)&&!t){var u=new hU(k.E.r);
u.k=K.g$;u.data={d:y.Wo,a5g:!0};N.c(u)}}if(s.rz.length!=0){this.d=4;this.MA=s.Aa[s.rz[0]].rect.clone();
this.l5=!0;return}this.j5=s.xY(A==null,A,null,!0);for(var l=0;l<this.j5.length;l++){var P=this.j5[l],m=s.p[P];
if(m.pa(2)||m.pa(31)||s.hh(P)){alert(eV.get([6,57,0]));return}}if(s.add.artd&&z){var i=this.j5,e=!1;
for(var l=0;l<i.length;l++)if(s.p[i[l]].add.artb)e=!0;if(!e){this.Y9=[s,s.p.slice(0),s.f.slice(0),-1];
this.j5.sort(function(F,L){return F-L})}}this.yf=K.yz.a9a(s,this.j5);this.d=0;if(s.q&&(!z||t)&&s.f.length==1&&s.pu(!1)){if(!s.arm()){this.l5=!1;
return}var X=s.p[s.f[0]],$=r.t(cK.nI);this.d=1;var O=s.history[s.Jn];if(O.k==this&&O.data.d==1&&O.data.j==s.f[0]&&X.GC==X.p1.GC&&!$){this.p0=O}else{var T=X.p1,b=!1,R;
if(!X.nN(s,s.q)||$){b=!0;X.jp(s,s.q,$)}if(X.p1.GC<=0){R=q.m(X.p1.oS.length>>2);q.WZ(X.p1.oS,R,3)}else R=s.q.channel.slice(0);
var w={rect:X.p1.HM.clone(),channel:R};this.p0=new hZ($?[12,53]:[12,54],this);this.p0.data={d:1,j:s.f[0],p1:X.p1,CV:T,L4:b,ZH:s.q,FO:w,dX:new cR(0,0)};
s.yF(this.p0);s.q=w;s.Ch=!0}}this.l5=!0;this.MA=K.S.dy(s)};K.yz.prototype.a3n=function(s,N,r){var S=s.root.KB(new cR(Math.floor(N.x),Math.floor(N.y)));
if(S){if(S.j.add.vmsk)s.kk=!0;var z=s.p.indexOf(S.j);if(r.t(cK.nG)){var A=s.f.indexOf(z);if(A==-1)s.f.push(z);
else if(s.f.length>1)s.f.splice(A,1)}else if(s.f.indexOf(z)==-1){this.Jp(s,z)}}return S!=null};K.yz.prototype.Jp=function(s,N){s.p[N].GC=0;
s.f=[N];s.$Y=null;s._2();s.kf=!0;s.J4=!0};K.yz.anC=function(s,N){var r=s.add.Anno;if(r==null||r.length==0)return-1;
var S=30/s.a.X;for(var l=0;l<r.length;l++)if(new hq(r[l][0],r[l][1],S,S).CZ(N))return l;return-1};K.yz.prototype.ud=function(s,N,r,S,z){this.un=z;
var A=s.a.Vd(z.x,z.y),c,J;if(this.Vc&&this.d<2)A=this.Vc.gi(A,S);if(!this.l5){if(r.R1&&r.Hl.K0&&s&&!s.P4){var B=this.atl(s,A),Y="default",t=K.yz.Ga(s,z);
if(B!=null)Y=["col-resize","row-resize"][s.K0[B][0]];else if(this.XT){var p=this.XT.QI(A,s.a.X,null,z);
if(p)Y=p}else if(t!=-1||K.yz.anC(s,A)!=-1){Y="pointer"}this.SP(Y,N)}this.G0(s,A);return}var f=this.Px,a=Math.round(A.x-f.x)-this.dp.x,D=Math.round(A.y-f.y)-this.dp.y;
if(this.MA){if(this.d==2){var Z=[];if(s.q)Z.push(s.q.rect);if(this.MA)Z.push(this.MA);if(s.a.YO)Z.push(s.a.YO);
A=K.yz.FA(s,A,r,[!1,Z,!0])}else{J=this.MA.clone();J.offset(this.dp.x+a,this.dp.y+D);c=K.yz._Z(s,J,r);
var Q=this.Vc.akv(S);if(Q==1){c[0]=0;c[2]=1e9}if(Q==2){c[1]=0;c[3]=1e9}a+=Math.round(c[0]);D+=Math.round(c[1])}}this.dp.x+=a;
this.dp.y+=D;var M=this.Y9;if(M&&s==M[0]){s.uZ(M[1]);s.f=M[2].slice(0);M[3]=-1}this.wh(s,a,D,A,null,S.t(cK.nG));
if(M&&s==M[0]){var u=this.MA.clone();u.offset(this.dp.x,this.dp.y);var P=A,t=s.W$(),m=-1;for(var l=0;
l<s.p.length;l++){var i=s.p[l];if(!i.ES()||i.add.artb==null)continue;var e=i.M5();if(e.CZ(P))m=l}if(m!=-1&&m!=t){var X=K.o7.Ae(s,this.j5,m,!0,null,!1);
s.uZ(X[0]);s.f=X[1];M[3]=m}}this.G0(s,A);if(c)K.yz.yv(s,J,c)};K.yz.prototype.atl=function(s,N){var r=K.Zg(s,this.un);
N=[N.x,N.y];var S=s._C(),z=s.W$();for(var l=0;l<S[0].length;l++){var A=S[0][l],B=S[1][l];if(B!=-1&&B!=z)continue;
if(Math.abs(A[1]-N[A[0]])<r)return l}return null};K.yz.prototype.wh=function(s,N,r,S,z,A){if(this.d==0){if(z)K.yz.kP(s,this.j5,this.yf,z);
else K.yz.yR(s,this.j5,this.yf,N,r)}else if(this.d==1){var B=this.p0.data;B.dX.offset(N,r);K.yz.sv(s,B.j,N,r)}else if(this.d==2){var Y=1e-5;
if(A)Y=s.a.X<=1?10:1;else if(s.a.X<=1)Y=1;var t=Y*Math.round(S.x/Y),p=Y*Math.round(S.y/Y),f=[t,p],a=s.K0[this.j5];
a[1]=f[a[0]]}else if(this.d==3){var D=this.Px,c=q.g.nw([D.x,D.y,S.x,S.y]);this.W8=c;var J=[];s.root.aqz(c,J);
if(JSON.stringify(s.f)!=JSON.stringify(J)){s.f=J;s.J4=s.Wy=!0}}else if(this.d==4){for(var l=0;l<s.rz.length;
l++)s.Aa[s.rz[l]].rect.offset(N,r);s.kk=!0}};K.yz.sv=function(s,N,r,S){var z=s.p[N];s.q.rect.offset(r,S);
z.NP(s,r,S,s.q);s.Ch=!0;s.V()};K.yz.prototype.gE=function(s,N,r,S,z,A){this.EH(s,z,r);this.G0(s);if(Date.now()-this.cs<300&&!A){var B=K.mG.pR(s,s.a.Vd(z.x,z.y));
if(K.yz._7(r,z,s.a,!0)){var Y=new hU(k.E.Y);if(z.y>s.a.bh.n-20){Y.data={d:k.s.Pv,ic:"doczoom",kj:s.a.X*100,ap:{O:k.E.r,k:K.b_,M:{d:"pzoom"}}}}else{Y.data={d:k.s.Pv,ic:"preferences"}}N.c(Y)}else if(B>=0){var t=new hU(k.E.r,!0);
t.k=K.wQ;t.data={d:"editCurr",OK:B};N.c(t)}}this.cs=Date.now();K.Vg.Yg(s)};K.yz.prototype.EH=function(s,N,r,S,z){if(!this.l5)return;
this.l5=!1;if(this.d==0){if(S){this.aiq(s,null,S,z)}else{if(this.dp.x==0&&this.dp.y==0)return;this.aiq(s,this.dp.clone())}s._R=!0}else if(this.d==2){var A=0;
N=[N.x,N.y];var B=this.j5,Y=s.K0[B],hr=this.xo[0].length,t=s.K0.length;if(r.xA&&N[Y[0]]<q.HR.Ez){var p=s._C();
p[0].splice(B,1);p[1].splice(B,1);s.TO(p);A=1;if(hr==t-1)return}if(hr<t)A=2;var f=new hZ([[23,2],[23,3],[23,4]][A],this);
f.data={d:2,xo:this.xo,eP:s._C()};s.yF(f)}else if(this.d==4){var f=new hZ([12,54],this);f.data={d:4,f:s.rz.slice(0),u:this.dp.clone()};
s.yF(f)}this.dp.i5(0,0)};K.yz.prototype.Rt=function(s,N,r,S){var z=S.wn();if(s!=null&&(z.x!=0||z.y!=0)){if(S.t(cK.nI)&&s.q==null){var A=new hU(k.E.r);
A.k=K.g$;A.data={d:y.Wo,a5g:!0};N.c(A)}this.dp.i5(z.x,z.y);this.x5(s,N,S,r,!1);if(!this.l5)return;this.wh(s,z.x,z.y);
this.EH(s,null,r);this.G0(s)}var B=S.t(cK.z6);if(!this.bi&&this.awq!=B){if(B){this.atr=this.db.NO;this.db.NO=!0}else{this.db.NO=this.atr}this.awq=B;
var Y=new hU(k.E.Y,!0);Y.data={d:k.s.Em,k:this.id,oT:this.db};N.c(Y)}};K.yz.prototype.kA=function(s,N){if(s.d==0){var r=s.cw;
if(r){N.uZ(r._p);N.f=r.js.slice(0);N.V();N.J4=!0}K.yz.kP(N,s.f,s.vR,s.X2,!0);K.Vg.Yg(N)}else if(s.d=="fcmy"){if(s.kj==0)delete N.add.fcmy;
else N.add.fcmy=s.kj;N.kk=!0}else if(s.d==2){N.TO(s.xo);N.kk=!0}else if(s.d==4){for(var l=0;l<s.f.length;
l++)N.Aa[s.f[l]].rect.offset(-s.u.x,-s.u.y);N.kk=!0}else{var S=N.p[s.j];if(s.L4){S.s1(N,s.CV);N.q=s.ZH;
N.Ch=!0;N.V();S.V()}else{K.yz.sv(N,s.j,-s.dX.x,-s.dX.y)}}};K.yz.prototype._6=function(s,N){if(s.d==0){K.yz.kP(N,s.f,s.vR,s.X2);
var r=s.cw;if(r){N.uZ(r.rs);N.f=r.rY.slice(0);N.V();N.J4=!0}K.Vg.Yg(N)}else if(s.d=="fcmy"){if(s.zr==0)delete N.add.fcmy;
else N.add.fcmy=s.zr;N.kk=!0}else if(s.d==2){N.TO(s.eP);N.kk=!0}else if(s.d==4){for(var l=0;l<s.f.length;
l++)N.Aa[s.f[l]].rect.offset(s.u.x,s.u.y);N.kk=!0}else{var S=N.p[s.j];if(s.L4){S.p1=s.p1;N.q=s.FO;K.yz.sv(N,s.j,0,0);
S.V()}else{K.yz.sv(N,s.j,s.dX.x,s.dX.y)}}};K.yz.prototype.aiq=function(s,N,r,S){if(r){var z=!0;for(var l=0;
l<r.length;l++)if(r[l]!=0)z=!1;if(z)return}var A=s.history[s.Jn],B=this.Y9,Y=B!=null&&B[3]!=-1&&B[0]==s;
if(!Y&&r==null&&A.data&&A.k==this&&A.data.d==0&&JSON.stringify(A.data.f)==JSON.stringify(this.j5)&&JSON.stringify(A.data.vR)==JSON.stringify(this.yf)){var t=A.data.X2,p=A.data.a5o.wz.T.v;
p.Hrzn.v.val+=N.x;p.Vrtc.v.val+=N.y;for(var l=0;l<t.length;l+=2){t[l]+=N.x;t[l+1]+=N.y}}else{if(N==null)N=new cR(r[0],r[1]);
var f={uU:"move",wz:{classID:"null",null:dv.kY("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:N.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:N.y}}}}}},a=null;
if(Y)a={_p:B[1],js:B[2],rs:s.p.slice(0),rY:s.f.slice(0)};this.Y9=null;var D=new hZ(S?S:[12,54],this);
if(r)D.data={d:0,f:this.j5,vR:this.yf,cw:a,X2:r};else D.data={d:0,f:this.j5,vR:this.yf,cw:a,X2:K.yz.aq8(this.j5,N.x,N.y)};
D.data.a5o=f;s.yF(D);this.track(f)}};K.yz.aq8=function(s,N,r){var S=[];for(var l=0;l<s.length;l++)S.push(N,r);
return S};K.yz.yR=function(s,N,r,S,z){K.yz.kP(s,N,r,K.yz.aq8(N,S,z))};K.yz.kP=function(s,N,r,S,z){if(N.length==0)return;
if(r==null){r=[];for(var l=0;l<N.length;l++){r.push(s.p[N[l]].hf(s,!0))}}var A=new hq,B=new hq(0,0,s.G,s.n);
for(var l=0;l<N.length;l++){var Y=S[2*l],t=S[2*l+1];if(z){Y=-Y;t=-t}var p=s.p[N[l]],f=r[l];if(p.add.fxrp&&(f.indexOf(0)!=-1||p.wu()))p.add.fxrp.offset(Y,t);
for(var a=0;a<f.length;a++){var D=f[a];if(D==0){p.rect.offset(Y,t);if(p.Pi()&&p.NM(s))p.NM(s).rect.offset(Y,t);
if(p.add.artb){var c=p.M5();c.offset(Y,t);p.S6(c);var J=p.add.artb.guideIndeces;J=J?J.v:[];for(var Z=0;
Z<J.length;Z++){var Q=s.K0[J[Z].v];Q[1]+=Q[0]==0?Y:t}}if(p.add.TySh){p.add.TySh.D.translate(Y,t);if(p.add.TySh.add){p.add.TySh.add.vmsk.offset(Y,t)}}if(p.add.SoLd){var M=new gF(1,0,0,1,Y,t),u=p.add.SoLd,P=K.S.JS(u.Trnf),m=K.S.JS(u.nonAffineTransform);
q.g.D(P,M,P);q.g.D(m,M,m);u.Trnf=K.S.Ua(P);u.nonAffineTransform=K.S.Ua(m);K.S.apS(u,M)}}if(D==1)p.eg().rect.offset(Y,t);
if(D==2){p.add.vmsk.offset(Y,t);if(p.add.vogk)q.O6.D(p.add.vogk,[1,0,Y,0,1,t,0,0],[])}if(D==3){p.NM(s).B.rect.offset(Y,t);
if(f.length==1)p.V()}}if(f.length>0){var i=p.add.GdFl;if(i==null)i=p.add.PtFl;if(p.wu()&&!p.Z_()&&p.add.vmsk!=null&&q.J.vI(p.add.vmsk._)&&p.add.vmsk.Af==255&&(i==null||i.Algn&&i.Algn.v)){p.rect.offset(Y,t)}else p.qB(s);
var e=s.root.Kp(p.jD(s),s,N[l]);if(p.add.artb)e=e.Ms(p.M5());A=A.Ms(e);e.offset(-Y,-t);A=A.Ms(e);if(p.re()&&p.B&&p.B.color==255)A=A.Ms(B);
p.aps()}}s.V(q.g.i2(A))};K.yz.a9a=function(s,N){var r=[];for(var l=0;l<N.length;l++){var S=s.p[N[l]];
r.push(S.hf(s))}return r};K.yz.yv=function(s,N,r){var S=s.R.Tw={v:[],F:[]},z=N.x+r[0],A=N.y+r[1];if(r[2]!=1e9){S.F.push("M","L");
S.v.push(r[2],A,r[2],A+N.n)}if(r[3]!=1e9){S.F.push("M","L");S.v.push(z,r[3],z+N.G,r[3])}s.kk=!0};K.yz.FA=function(s,N,r,S){var z=K.yz.a2B(s,[[N.x],[N.y]],r,S);
return new cR(N.x+z[0],N.y+z[1])};K.yz._Z=function(s,N,r,S,z){var A=z==!0?1:.5,B=K.yz.a2B(s,[[N.x,N.x+Math.round(N.G*A),N.x+N.G],[N.y,N.y+Math.round(N.n*A),N.y+N.n]],r,S);
return B};K.yz.a2B=function(s,N,r,S){if(S==null)S=[!0,null,!0];var z=[0,0,1e9,1e9];if(!r.yE)return z;
var A=JSON.parse(JSON.stringify(N));for(var B=0;B<2;B++){var Y=1e9,t=N[B],p=0;for(var f=0;f<t.length;
f++){var a=K.yz.a6Y(s,t[f],A[1-B][f],B,r,S);if(a!=1e9)A[B][f]=a;if(a!=1e9&&Math.abs(a-t[f])<Math.abs(Y)){Y=a-t[f];
p=a}}if(Y!=1e9){z[B]=Y;z[B+2]=p}}return z};K.yz.a6Y=function(s,N,r,S,z,A){var B=1e9,Y=z.uX,t=z.Hl,p=[s.root];
while(p.length!=0&&Y[2]){var f=p.pop(),a=f.j,D=a.rect;if(!a.ES())continue;if(f.children)for(var l=0;
l<f.children.length;l++)p.push(f.children[l]);if(s.f.indexOf(f.index)!=-1||D.Nf())continue;if(S==0){var c=D.G,J=c>>>1;
if(Math.abs(D.x-N)<Math.abs(B-N))B=D.x;if(Math.abs(D.x+J-N)<Math.abs(B-N))B=D.x+J;if(Math.abs(D.x+c-N)<Math.abs(B-N))B=D.x+c}else{var Z=D.n,Q=Z>>>1;
if(Math.abs(D.y-N)<Math.abs(B-N))B=D.y;if(Math.abs(D.y+Q-N)<Math.abs(B-N))B=D.y+Q;if(Math.abs(D.y+Z-N)<Math.abs(B-N))B=D.y+Z}}if(A[0]&&Y[0]&&t.K0&&z.R1){var M=s._C(),u=M[0],P=M[1],m=s.W$();
for(var l=0;l<u.length;l++)if((P[l]==-1||P[l]==m)&&u[l][0]==S&&Math.abs(u[l][1]-N)<Math.abs(B-N))B=u[l][1]}if(Y[1]&&t.fl&&z.R1){var i=Math.round(q.HR.Pa(t.ws,s.FD,s.G,t.y7));
if(S==1&&t.Jg==1){var e=r*.5*Math.sqrt(4/3),X;i*=Math.sqrt(4/3);X=Math.round((N-e)/i)*i+e;if(Math.abs(X-N)<Math.abs(B-N))B=X;
X=Math.round((N+e)/i)*i-e;if(Math.abs(X-N)<Math.abs(B-N))B=X}else{var X=Math.round(N/i)*i;if(Math.abs(X-N)<Math.abs(B-N))B=X}}var $=s.DF;
if(Y[3]&&t.DF&&z.R1&&$.length!=0){for(var l=0;l<$.length;l++){if(!A[2]&&s.v6.indexOf(l)!=-1)continue;
var O=K.vf.z_($,l);for(var T=0;T<3;T+=2)if(O[T+S]!=N&&Math.abs(O[T+S]-N)<Math.abs(B-N))B=O[T+S]}}if(A[1])for(var b=0;
b<A[1].length;b++){var D=A[1][b],c=D.G,Z=D.n,R=[D.x,D.y,D.x+(c>>>1),D.y+(Z>>>1),D.x+c,D.y+Z];for(var l=0;
l<6;l+=2)if(Math.abs(R[l+S]-N)<Math.abs(B-N))B=R[l+S]}if(Y[4]){var D=new hq(0,0,s.G,s.n),m=s.W$();if(m!=-1)D=s.p[m].M5();
var c=D.G,Z=D.n,R=[D.x,D.y,D.x+(c>>>1),D.y+(Z>>>1),D.x+c,D.y+Z];for(var l=0;l<6;l+=2)if(Math.abs(R[l+S]-N)<Math.abs(B-N))B=R[l+S]}var w=Math.abs(B-N)<=4*K.Z()/s.a.X?B:1e9;
return w};K.RI=function(){K.eL.call(this,[10,12],K.Qn,"tools/mwand")};K.RI.prototype=new K.eL;K.RI.prototype.YR=K.eL.prototype.a4A;
K.RI.prototype.Qy=K.eL.prototype.a2R;K.RI.prototype.ja=function(s,N,r,S){this.finish(s,N,r,S)};K.RI.prototype.getSelection=function(s,N,r,S){var z=this.u2,A=K.eL.a42(new cR(Math.floor(z.x),Math.floor(z.y)),this.db.wconf,this.db.sall);
return A};K.RI.aeU=function(s,N,r,S,z){if(s.f.length!=1){alert("More than one layer selected.");return null}var A=s.p[s.f[0]],B=null,Y;
if(z)B=A.GC<=0?null:A.GC==1?A.eg():A.NM(s).B;if(B==null&&A.add.lsct!=null&&A.add.lsct!=d9.Sx){alert("No layer selected.");
return null}if(N.x<0||N.x>s.G||N.y<0||N.y>s.n)return null;var t=new hq(0,0,s.G,s.n);if(S){Y=s.r9()}else if(B==null&&t.nR(A.rect))Y=A.buffer;
else{Y=q.m(t.$()*4);if(B==null)q.LP(A.buffer,A.rect,Y,t);else K.kn.qm(B.channel,B.rect,B.color,Y,t)}var p=K.RI.alX(Y,t,N,null,r),f=q.af(p,t),a=q.m(f.$());
q.lf(p,t,a,f);return{rect:f,channel:a}};K.RI.aq3=function(s,N,r){var S=N.G,z=N.n,B=0,Y=0,t=0,p=0;s=new Uint32Array(s.buffer);
var A=[],f=r.length;for(var l=0;l<f;l++){var a=r[l],D=Math.round(a.x-.5-N.x),c=Math.round(a.y-.5-N.y);
D=Math.max(0,Math.min(S-1,D));c=Math.max(0,Math.min(z-1,c));var J=c*S+D,Z=s[J];A.push([Z&255,Z>>8&255,Z>>16&255,Z>>>24])}return A};
K.RI.alX=function(s,N,r,S,z){s=new Uint32Array(s.buffer);var A=N.G,B=N.n,Y=A*B;if(S==null)S=K.RI.aq3(s,N,[r]);
var t=Math.round(r.x-.5-N.x),p=Math.round(r.y-.5-N.y),f=p*A+t,a=Date.now(),D=q.m(A*B),c=z[0],J=1/c,Z=z[1]&&c>0?255:0;
if(z[2]){var Q=q.m(D.length),M=new Uint32Array(Y),u=1;M[0]=t<<16|p;Q[f]=1;while(u>0){var P=M[u-1];u--;
var m=P>>>16,i=P&65535,l=i*A+m,e=K.RI.wm(s[l],S);if(e>c){var X=Z*(1-Math.max(0,Math.min(1,(e-c)*J)));
D[l]=~~X}else{D[l]=255;if(i!=B-1&&Q[l+A]==0){M[u++]=m<<16|i+1;Q[l+A]=1}if(i!=0&&Q[l-A]==0){M[u++]=m<<16|i-1;
Q[l-A]=1}if(m!=A-1&&Q[l+1]==0){M[u++]=m+1<<16|i;Q[l+1]=1}if(m!=0&&Q[l-1]==0){M[u++]=m-1<<16|i;Q[l-1]=1}}}}else{for(var l=0;
l<Y;l++){var e=K.RI.wm(s[l],S);if(e<=c)D[l]=255}for(var i=0;i<B;i++)for(var m=0;m<A;m++){var l=i*A+m;
if(D[l]==0&&(m>0&&(D[l-1]==255||i>0&&D[l-A-1]==255||i<B-1&&D[l+A-1]==255)||m<A-1&&(D[l+1]==255||i>0&&D[l-A+1]==255||i<B-1&&D[l+A+1]==255)||i>0&&D[l-A]==255||i<B-1&&D[l+A]==255)){var e=K.RI.wm(s[l],S),X=Z*(1-Math.max(0,Math.min(1,(e-c)*J)));
D[l]=~~X}}}return D};K.RI.wm=function(s,N){var r=N.length,S=K.RI.afa(s,N[0]),l=1;while(l!=r){S=Math.min(S,K.RI.afa(s,N[l]));
l++}return S};K.RI.afa=function(s,N){var r=s&255,S=s>>>8&255,z=s>>>16&255,A=s>>>24&255;if(N[3]==0)return A<5?0:255;
var B=Math.max(Math.abs(r-N[0]),Math.max(Math.abs(S-N[1]),Math.abs(z-N[2])));return A==0?255:B};K.GW=function(s,N){if(N)K.kn.call(this);
else if(s)K.kn.call(this,[10,49],K.SY,"tools/camove");else K.kn.call(this,[10,26],K.Jr,"tools/patch");
this.Ax=null;this.a5=null;this.u=null;this.l7=null;this.EM=new cR;this.pY=null;this.IZ=null};K.GW.prototype=new K.kn;
K.GW.prototype.Vk=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y);if(s.q&&q.KB(A,s.q.channel,s.q.rect)){var B=new hq(0,0,s.G,s.n),Y=B.PS(s.q.rect);
if(!s.pu()||Y.Nf())return;if(!0){var t=q.m(Y.$());q.lf(s.q.channel,s.q.rect,t,Y);s.q={channel:t,rect:Y}}this.TR(s);
this.Fu(s);this.l7=A;this.EM=new cR(A.x-s.q.rect.x,A.y-s.q.rect.y);this.IZ=q.m(s.q.rect.$()*4);this.IZ.fill(255);
if(this.db.patch==1){var p=s.p[s.f[0]];p.jp(s,s.q,!0);if(p.p1==null)this.l7=null}this.pY=s.q.rect.clone()}else{this.a5={v:[A.x,A.y],F:["M"]};
this.Ax=A}};K.GW.prototype.ud=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y);if(this.l7){if(this.db.patch==1){if(s.rz.length==0){var B=s.p[s.f[0]].p1,Y=A.x-this.EM.x,t=A.y-this.EM.y;
K.yz.sv(s,s.f[0],Math.round(Y-B.HM.x),Math.round(t-B.HM.y))}}else this.aar(s,A,"clone")}if(this.Ax){this.a5.F.push("L");
this.a5.v.push(A.x,A.y);this.Ax=A;s.R.iD=this.a5;s.kk=!0}};K.GW.prototype.gE=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y);
if(this.l7){var B=s.q.rect.clone();if(this.id==K.SY){var Y=s.p[s.f[0]];Y.s1(s,Y.p1);s.q.rect=this.pY.clone();
var t=q.m(s.q.rect.$()*4);q.XX(s.q.channel,t,3);this.VD(s,"sheal",t,s.q.rect,s.q.rect);s.q.rect=B;B=B.Ms(this.pY)}this.aar(s,A,"heal");
this.finish(s,B,null,null,!0);s.V(B);this.l7=null}if(this.Ax){var p=K.eL.kq(this.db.setop,S.t(cK.nG),S.t(cK.nI)),f=new hU(k.E.gu,!0);
if(this.a5.v.length<=4)f.data=K.eL.Aq();else f.data=K.eL.lT(this.a5.v,p);N.c(f);this.Ax=null;s.R.iD=null;
s.kk=!0}};K.GW.prototype.P9=function(){return this.u};K.GW.prototype.e_=function(s,N,r,S,z){K.kn.prototype.e_.call(this,s,N,r,S,z);
this.SP(z,S)};K.GW.prototype.SP=function(s,N){var r="auto;";if(N!=null&&N.t(cK.nG)&&!N.t(cK.nI)||this.db.setop=="union")r="copy";
var S=new hU(k.E.Y,!0);S.data={d:k.s.Qb,BQ:r};if(this.caller)this.caller.c(S)};K.GW.prototype.aar=function(s,N,r){var S=new cR(Math.round(this.l7.x-N.x),Math.round(this.l7.y-N.y));
if(this.db.patch==1)S.i5(-S.x,-S.y);this.u=S;this.VD(s,r,this.IZ,s.q.rect,s.q.rect);this.V(s,s.q.rect)};
K.aeE=function(){K.GW.call(this,!0);this.db.patch=1};K.aeE.prototype=new K.GW(!0,!0);K.bA=function(){K.kn.call(this,[10,13],K.asg,"tools/pbucket");
this.bQ=!1};K.bA.prototype=new K.kn;K.bA.prototype.enable=function(s,N,r,S){var z=new hU(k.E.Y,!0);z.data={d:k.s.Qb,BQ:"default"};
N.c(z)};K.bA.prototype.wy=function(s,N){};K.bA.prototype.Vk=function(s,N,r,S,z){this.bQ=!0};K.bA.prototype.gE=function(s,N,r,S,z,A){var B=this.bQ;
this.bQ=!1;if(!B||A)return;if(this.wo(S,N,z))return;if(!s.pu())return;var Y=s.a.Vd(z.x,z.y),t=K.RI.aeU(s,Y,this.db.wconf,this.db.sall,!0);
if(t==null)return;var p=q.m(t.rect.$()*4);q.TM(p,(r.Hd&255)<<16|(r.Hd>>8&255)<<8|(r.Hd>>16&255)<<0);
q.XX(t.channel,p,3);this.TR(s);this.VD(s,"draw",p,t.rect,t.rect);this.V(s,t.rect);this.finish(s,t.rect)};
K.fp=function(){K.eL.call(this,[10,14],K.a00,"tools/plasso");this.MK="crosshair";this.mW=[];this.Cb=null;
this.a5=null;this.a05=0};K.fp.prototype=new K.eL;K.fp.prototype.disable=function(s,N,r,S){this.SH(s)};
K.fp.prototype.ja=function(s,N,r,S){this.mW=[cK.Ih,cK.kM]};K.fp.prototype.KR=function(s){return this.mW.indexOf(s)!=-1};
K.fp.prototype.pN=function(s){return this.a5!=null};K.fp.prototype.Gd=function(){return this.a5!=null};
K.fp.prototype.YJ=function(){return this.a5!=null};K.fp.prototype.ma=function(s,N,r,S){if(this.a5==null)return;
var z=this.a5,A=z.v,B=A.length-2,Y=this.u2;if(this.x6.PK(1)&&r.t(cK.nI)&&S.Rd){A.push(0,0);z.F.push("L");
B+=2}else if(r.t(cK.nG))Y=K.gL.W2(new cR(A[B-2],A[B-1]),Y);A[B]=Y.x;A[B+1]=Y.y;s.R.iD=z;s.kk=!0};K.fp.prototype.$D=function(s,N,r,S){var z=Date.now();
if(this.a5==null)this.a5={v:[this.u2.x,this.u2.y,this.u2.x,this.u2.y],F:["M","L"]};else{this.ma(s,N,r,S);
if(z-this.a05<250||cR.iI(this.u2,new cR(this.a5.v[0],this.a5.v[1]))<K.Zg(s,S)){this.Cb=this.a5;this.finish(s,N,r,S);
this.SH(s);return}this.a5.F.push("L");this.a5.v.push(this.u2.x,this.u2.y)}this.a05=z;s.R.iD=this.a5};
K.fp.prototype.SH=function(s){this.a5=null;this.mW=[];if(s!=null){s.R.iD=null;s.kk=!0}};K.fp.prototype.Rt=function(s,N,r,S){K.eL.prototype.Rt.call(this,s,N,r,S);
if(S.t(cK.Nl)&&this.a5==null&&this.Cb&&s.q!=null){var z=new hU(k.E.r);z.k=K.pI;z.data={d:"h_stepbck"};
N.c(z);this.ja(s,r,S,null);this.a5=this.Cb;return}if(this.a5==null)return;if(S.t(cK.Ih)||S.t(cK.kM)){this.a5.v.pop();
this.a5.v.pop();this.a5.F.pop();this.ma(s,r,S)}if(S.t(cK.D9)){if(this.a5.v.length>4){this.Cb=this.a5;
this.finish(s,r,S)}this.a5=null}if(S.t(cK.Nl)){this.a5=null}s.R.iD=this.a5;s.kk=!0};K.fp.prototype.getSelection=function(s,N,r,S){return K.eL.lT(this.a5.v,null,this.db.anta)};
K.Y1=function(){K.eL.call(this,[10,10],K.adG,"tools/mlasso");this.MK="crosshair";this.mW=[];this._=[];
this.oj=[];this.Z1=[];this.Cy=null;this.zJ=null;this.jV=null;this.cs=0;this.eH=0};K.Y1.prototype=new K.eL;
K.Y1.prototype.disable=function(s,N,r,S){this.clear(s)};K.Y1.prototype.pN=function(s){return this._.length!=0};
K.Y1.prototype.YJ=function(){return this._.length!=0};K.Y1.prototype.KR=function(s){return this.mW.indexOf(s)!=-1};
K.Y1.prototype.ja=function(s,N,r,S){this.mW=[cK.Ih,cK.kM];var z=this.FN(this.as,s);if(this._.length!=0&&(cR.iI(z,this._[0])<K.Zg(s,S)||Date.now()-this.cs<300)){this.bO(s,this._[0]);
this.finish(s,N,r);this.clear(s);return}this.cs=Date.now();if(this._.length!=0)z=this.VO(z,s);else{var A=s.G,B=s.n,Y=q.m(A*B),t=s.r9(),p=A*B*4;
for(var l=0;l<p;l+=4)Y[l>>>2]=~~(.5+q.il(t[l],t[l+1],t[l+2])*(t[l+3]*(1/255)));this.Cy=q.Xm.a2M(Y,A,B);
this.jV=new Uint16Array(Y.length)}this.bO(s,z);this.eH=r.t(cK.nI)?1:0;this.fs(s)};K.Y1.prototype.bO=function(s,N){var r=this._;
this.oj[r.length]=this.Z1.length;if(r.length!=0){q.Xm.y_(this.zJ,N.y*s.G+N.x);var S=this.ow(s,N);S.reverse();
var z=K.Y1.alJ(s,S);this.Z1=this.Z1.concat(z)}r.push(N);this.awX(s)};K.Y1.prototype.awX=function(s){var N=this._[this._.length-1],r=N.y*s.G+N.x;
this.zJ=q.Xm.aaV(this.Cy.a2,this.Cy.Yc,r);this.jV.fill(0)};K.Y1.prototype.FN=function(s,N){return new cR(Math.floor(Math.max(0,Math.min(N.G-1,s.x))),Math.floor(Math.max(0,Math.min(N.n-1,s.y))))};
K.Y1.prototype.clear=function(s){this.Z1=[];this._=[];this.oj=[];this.Cy=null;this.zJ=null;this.jV=null;
if(s!=null){s.R.iD=null;s.R.zH=[];s.kk=!0}this.mW=[]};K.Y1.prototype.ma=function(s,N,r,S){var z=this._,A=z.length;
if(A==0)return;var B=this.VO(this.FN(this.u2,s),s),Y=this.ow(s,B);for(var l=0;l<Y.length;l++){var t=Y[l],p=new cR(t%s.G,Math.floor(t/s.G));
if(this.jV[t]>30&&cR.iI(p,z[A-1])>20){this.bO(s,p);return}this.jV[t]++}if(this.eH==1&&S.Rd)this.bO(s,B);
this.fs(s)};K.Y1.prototype.fs=function(s){var N=this._;if(N.length!=0){var r=this.VO(this.FN(this.u2,s),s),S=this.ow(s,r);
S.reverse();var z=K.Y1.alJ(s,S),A=this.Z1.concat(z),B=s.R.iD={v:A,F:["M"]};for(var l=2;l<A.length;l+=2)B.F.push("L")}s.R.zH=[];
for(var l=0;l<N.length;l++)s.R.zH.push(N[l].x+.5,N[l].y+.5);s.kk=!0};K.Y1.prototype.$D=function(s,N,r,S){};
K.Y1.prototype.Rt=function(s,N,r,S){if(this._.length==0)return;if(S.t(cK.Ih)||S.t(cK.kM)){this._.pop();
this.Z1=this.Z1.slice(0,this.oj[this._.length]);this.oj.pop();if(this._.length==0)this.clear(s);else this.awX(s);
this.fs(s)}if(S.t(cK.D9)){var z=this.FN(this.u2,s);this.bO(s,z);this.finish(s,r,S);this.clear(s)}if(S.t(cK.Nl)){this.clear(s)}};
K.Y1.prototype.getSelection=function(s,N,r,S){return K.eL.lT(this.Z1,null,this.db.anta)};K.Y1.prototype.ow=function(s,N){var r=this._[this._.length-1],S=r.y*s.G+r.x,z=N.y*s.G+N.x;
if(this.eH==1)return[z,S];var A=[z];while(z!=S){z=this.zJ.l8[z];A.push(z);if(A.length>5e3){console.log(A);
throw"e"}}return A};K.Y1.alJ=function(s,N){var r=[],S=s.G;for(var l=0;l<N.length;l++){var z=N[l];r.push(z%S+.5,Math.floor(z/S)+.5)}return r};
K.Y1.prototype.VO=function(s,N){var r=N.G,S=N.n,z=s.clone(),B=3;q.Xm.y_(this.zJ,s.y*r+s.x);var A=this.zJ.PG[s.y*r+s.x];
for(var Y=-B+1;Y<B;Y++)for(var t=-B+1;t<B;t++){var p=s.x+t,f=s.y+Y;if(p<0||p>=r||f<0||f>=S)continue;
q.Xm.y_(this.zJ,f*r+p);if(this.zJ.PG[f*r+p]<A)z.i5(p,f)}return z};K.av=function(){K.PJ.call(this,[10,36],K.Z9,"tools/ruler");
this.Ig=null;this.On=null;this.ri=null;this.z9=null;this.UZ=null};K.av.prototype=new K.PJ;K.av.prototype.pN=function(s){return s.Rd};
K.av.prototype.enable=function(s,N,r,S){K.PJ.prototype.enable.call(this,s,N,S,r);if(s)this.G0(s)};K.av.prototype.disable=function(s,N,r,S){if(s)this.SH(s)};
K.av.prototype.OG=function(s,N,r,S,z){this.Ig=this.ri=null;this.G0(r)};K.av.prototype.Vk=function(s,N,r,S,z){var A=K.Zg(s,z),B=s.a.Vd(z.x,z.y);
B.x=Math.round(B.x);B.y=Math.round(B.y);var Y=this.Ig;this.On=Y?Y.slice(0):null;var t=Y&&cR.iI(B,Y[0])<A,p=Y&&cR.iI(B,Y[1])<A,f=Y&&Y[2]&&cR.iI(B,Y[2])<A;
if(t||p||f){if(S.t(cK.nI)&&Y.length==2){if(p){var a=Y[0];Y[0]=Y[1];Y[1]=a}Y[2]=Y[0].clone();this.ri=[2]}else this.ri=[t?0:p?1:2]}else if(Y&&K.av.awi(Y[0],Y[1],B)<A&&Math.min(Y[0].x,Y[1].x)-5<=B.x&&B.x<=Math.max(Y[0].x,Y[1].x)+5&&Math.min(Y[0].y,Y[1].y)-5<=B.y&&B.y<=Math.max(Y[0].y,Y[1].y)+5){this.ri=[];
this.UZ=[];for(var l=0;l<Y.length;l++){this.ri.push(l);this.UZ.push(Y[l].clone())}this.z9=B}else{this.Ig=[B.clone(),B.clone()];
this.ri=[1]}};K.av.prototype.ud=function(s,N,r,S,z){if(this.ri==null)return;var A=this.Ig,B=this.ri,Y=s.a.Vd(z.x,z.y);
Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);if(B.length>1){var t=Y.x-this.z9.x,p=Y.y-this.z9.y;for(var l=0;
l<A.length;l++){A[l]=this.UZ[l].clone();A[l].offset(t,p)}}else{A[B[0]].i5(Y.x,Y.y);if(S.t(cK.nG)){A[B[0]]=K.gL.W2(A[1-B[0]],A[B[0]])}}this.G0(s);
this.Tm(N,k.E.Y,{d:k.s.Em,k:this.id,alx:A[0],cT:A[1],vL:A[2],FD:s.FD,aei:s.G});s.a.YO=q.g.nw([A[0].x,A[0].y,A[1].x,A[1].y]);
console.log(s.a.YO)};K.av.prototype.gE=function(s,N,r,S,z,A){this.ri=null;if(A){this.Ig=this.On.slice(0);
this.G0(s)}};K.av.prototype.Tm=function(s,N,r){var S=new hU(N,!0);S.data=r;s.c(S)};K.av.prototype.G0=function(s){var N=this.Ig;
if(N==null)this.SH(s);else{var r=[N[1].x,N[1].y,N[0].x,N[0].y],S=["M","L"];if(N.length>2){r.push(N[2].x,N[2].y);
S.push("L")}s.R.iD={F:S,v:r};s.R.zH=r}s.kk=!0};K.av.prototype.SH=function(s){s.R.iD=null;s.R.zH=[]};
K.av.awi=function(s,N,r){var S=N.x-s.x,z=N.y-s.y,A=Math.abs(z*r.x-S*r.y+N.x*s.y-N.y*s.x),B=Math.sqrt(S*S+z*z);
return B==0?0:A/B};K.gT=function(){K.kn.call(this,[10,19],K.zm,"tools/sharpen");this.h$="copy"};K.gT.prototype=new K.kn;
K.gT.prototype.Vk=function(s,N,r,S,z){var A=this.db.pdetail?ex.pw:ex.zm;if(S.t(cK.nI))A=ex.Vr;this.VR(s,r,S,z,this.db.strn,A);
if(this.xj==null)return;this.Gl(s)};K.gT.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.w1=function(){K.kn.call(this,[10,24],K.BM,"tools/shbrush");
this.h$="draw";this.db.opacity=.5};K.w1.prototype=new K.kn;K.w1.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,1);
if(this.xj==null)return;this.Fu(s);this.Gl(s)};K.w1.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.w1.prototype.gE=function(s,N,r,S,z){if(this.xj==null)return;
this.VD(s,"sheal",this.xj.pp(),this.xj.dy(),this.xj.Ag(),null);this.V(s,this.xj.Ag());K.kn.prototype.gE.call(this,s,N,r,S,z)};
K.mg=function(){K.kn.call(this,[10,20],K.Kj,"tools/smudge");this.h$="copy"};K.mg.prototype=new K.kn;
K.mg.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,this.db.strn,ex.Kj);if(this.xj==null)return;this.Gl(s)};
K.mg.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;
if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.in=function(){K.kn.call(this,[10,23],K.bj,"tools/sponge");
this.h$="sponge"};K.in.prototype=new K.kn;K.in.prototype.Vk=function(s,N,r,S,z){this.VR(s,r,S,z,this.db.flow);
if(this.xj==null)return;this.Gl(s)};K.in.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);if(this.Wm)this.EN(s,r,z);
if(this.xj==null)return;if(!z.Rd)return;this.jL(s,r,S,z);this.Gl(s)};K.OD=function(){K.PJ.call(this,[10,17],K.b_,"tools/zoom");
this.dm=!1;this.p5=!0;this.KL=0;this.ui=null;this.zQ=null;this.__=0;this.VK=null;this.c4=0;this.D4=new hR([{name:[8,0],pj:"Ctrl + +"},{name:[8,1],pj:"Ctrl + -",Al:!0},{name:[20,3],pj:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],pj:"Ctrl + 1"}],[{O:k.E.r,k:K.b_,M:{d:"zoom",p5:!0}},{O:k.E.r,k:K.b_,M:{d:"zoom",p5:!1}},{O:k.E.r,k:K.b_,M:{d:"adapt",h:"fitscr"}},{O:k.E.r,k:K.b_,M:{d:"adapt",h:"pixel"}}])};
K.OD.prototype=new K.PJ;K.OD.prototype.jN=function(s,N,r,S,z){var A=this.D4;A.N();A.parent=N;A.update(s,r);
var B=new hU(k.E.Y,!0);B.data={d:k.s.xh,mk:A,x:z.f_+2,y:z.FX+1};N.c(B)};K.OD.prototype.enable=function(s,N,r,S){this.np(N,S);
if(s&&Date.now()-this.KL<300)this.OG({d:"adapt",h:"pixel"},N,s,S,r);this.KL=Date.now()};K.OD.prototype.Vk=function(s,N,r,S,z){this.zQ=new cR(z.x,z.y);
this.__=s.a.X;this.VK=s.a.u.clone()};K.OD.prototype.ud=function(s,N,r,S,z){if(this.zQ==null)return;var A=Math.exp(Math.log(this.__)+(z.x-this.zQ.x)/64);
A=Math.max(.02,Math.min(K.OD.Sg[0],A));s.a.X=this.__;s.a.u=this.VK.clone();this.OG({d:"zoom",X:A,un:this.zQ},N,s,S,r)};
K.OD.prototype.gE=function(s,N,r,S,z){if(cR.iI(this.zQ,z)<4){var A=this.au1(S);this.OG({d:"zoom",p5:A,un:z},N,s,S,r)}this.zQ=null};
K.OD.Sg=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
K.OD.a16=function(s,N,r,S){var z=1;while(s*z*1/2>r||N*z*1/2>S)z*=1/2;if(s*z*2/3>r||N*z*2/3>S)z*=1/2;
else if(s*z>r||N*z>S)z*=2/3;return z};K.OD.aro=function(s,N){var r=K.OD.a8L(s);if(N&&r==0)return s;if(!N&&r==K.OD.Sg.length-1)return s;
return K.OD.Sg[N?r-1:r+1]};K.OD.a8L=function(s){var N=0;while(K.OD.Sg[N]>s)N++;return N};K.OD.JX=function(s,N,r,S){var z=s.jO;
if(S==0||S==null){S=K.OD.aro(s.X,r);if(S==s.X)return}var A=s.Vd(N.x,N.y);if(z.G*S<=s.bh.G&&z.n*S<=s.bh.n){s.u.i5(0,0);
s.X=S}else{var B=s.Qs(),Y=s.X/S;B.translate(-A.x,-A.y);B.scale(Y,Y);B.translate(A.x,A.y);s.aaU(B)}};
K.OD.prototype.OG=function(s,N,r,S,z){if(s.d=="pzoom"){if(typeof s.h=="string")return;s={d:"zoom",X:s.h/100}}var A=0,B=!1,Y=null;
if(s.d=="adapt"){var t=0;if(s.h=="pixel")t=1;if(s.h=="fitscr"){var t=0,p=r.a.bh.G,f=r.a.bh.n,a=z.xA?q.HR.Ez+4:8;
t=Math.min((p-a*2)/r.G,(f-a*2)/r.n)}Y=new cR(Math.round(r.a.bh.G/2),Math.round(r.a.bh.n/2));A=t;K.OD.JX(r.a,Y,B,A);
r._R=!0}if(s.d.startsWith("multi")){function D(X){var $=X[0].x-X[1].x,O=X[0].y-X[1].y;return Math.sqrt($*$+O*O)}function c(X){return new cR((X[0].x+X[1].x)/2,(X[0].y+X[1].y)/2)}var J=s.b6,Z=c(J);
if(s.d=="multidown"){this.ui=[J,r.a.X,r.a.Vd(Z.x,Z.y)]}else{var Q=K.OD.Sg;A=this.ui[1]*D(J)/D(this.ui[0]);
A=Math.max(Q[Q.length-1],Math.min(Q[0],A));if(A!=r.a.X)K.OD.JX(r.a,Z,B,A);var M=this.ui[2],u=r.a.Oo(M.x,M.y),P=r.a.u;
P.x=Math.round(P.x+Z.x-u.x);P.y=Math.round(P.y+Z.y-u.y);r._R=!0}}if(s.d=="scroll"){Y=s.un;this.c4+=s.Po.y;
var m=14;if(this.c4<-m){B=!0;this.c4=Math.max(this.c4+m,-(m-1))}else if(this.c4>m){B=!1;this.c4=Math.min(this.c4-m,m-1)}else return;
K.OD.JX(r.a,Y,B,A);r._R=!0}if(s.d=="zoom"){Y=s.un?s.un:new cR(Math.round(r.a.bh.G/2),Math.round(r.a.bh.n/2));
if(s.X!=null)A=s.X;else B=s.p5;K.OD.JX(r.a,Y,B,A);r._R=!0}if(s.d=="mskView"){var i=r.p[r.f[0]];if(i.GC<=0){i.GC=1;
r.J4=!0}var e=i.GC==3?i.NM(r).B:i.eg();if(s.h==0){r.a.$s=[1,1,1];e.TU=!1}if(s.h==1){r.a.$s=[1,1,1];e.TU=!0}if(s.h==2){r.a.$s=[0,0,0];
e.TU=!0}for(var l=0;l<r.Aa.length;l++)r.Aa[l].TU=!1;r.rz=[];r.kk=!0}};K.OD.prototype.Rt=function(s,N,r,S){if(this.dm!=S.t(cK.nI)){this.dm=S.t(cK.nI);
var z={d:k.s.Em,k:this.id,dm:this.dm},A=new hU(k.E.Y,!0);A.data=z;N.c(A);this.np(N,S)}};K.OD.prototype.np=function(s,N){var r=new hU(k.E.Y,!0),S=this.au1(N);
r.data={d:k.s.Qb,BQ:S?"zoom-in":"zoom-out"};s.c(r)};K.OD.prototype.e_=function(s,N,r,S){this.p5=s.p5;
this.np(N,S)};K.OD.prototype.au1=function(s){var N=this.p5;if(s.t(cK.IH)&&s.t(cK.z6))N=!0;if(this.dm)N=!N;
return N};K.OD.a4D=function(s,N){if(s.t(cK.TF)||s.t(cK.ak5)){N.k=K.b_;N.data={d:"zoom",p5:!0}}if(s.t(cK.iQ)){N.k=K.b_;
N.data={d:"zoom",p5:!1}}if(s.t(cK.b2)){N.k=K.b_;N.data={d:"adapt",h:"fitscr"}}if(s.t(cK.xu)){N.k=K.b_;
N.data={d:"adapt",h:"pixel"}}};K.HZ=function(s,N,r){K.PJ.call(this,s,N,r);this.SE=null;this.tx=null;
this.$0=null;this.ajT=0};K.HZ.prototype=new K.PJ;K.HZ.sc=function(s){var N={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},r=s==0?{classID:"null",null:N,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:N,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{uU:s==0?"fill":"stroke",wz:r}};K.HZ.prototype.enable=function(s,N,r,S,z){this.tx=r;var A=new hU(k.E.Y,!0);
A.data={d:k.s.Qb,BQ:"default"};N.c(A)};K.HZ.prototype.jN=function(s,N,r,S,z){var A=s.Ly(),B=A[0],Y=A[1];
if(Y.length==0)return;var t=B[Y[0]],p=t.add.vmsk,f=s.a.Vd(z.x,z.y),a=4*K.Z()/s.a.X,D=new hq(f.x-a,f.y-a,a*2,a*2),c=q.J.jl(p._,D)[0];
if(c.length!=0){p.we=c;s.kk=!0}var J=q.J.KB(p._,f).Jb;if(J!=-1){p.f=[J];s.kk=!0}var Z=new hU(k.E.Y,!0);
Z.data={d:k.s.Em,k:this.id,s8:z,Sw:s,ZF:r};N.c(Z)};K.HZ.prototype.a7U=function(s,N){var r=new hU(k.E.Y,!0);
r.data={d:k.s.Jl,LS:eq.HI};if(!N.R1)s.c(r);r.data={d:k.s.Jl,LS:eq.dI};if(!N.Hl.qI)s.c(r)};K.HZ.prototype.tU=function(s,N,r,S){if(r.ru!=this.id)return;
if(s.f.length==0)return;var z=s.p[s.f[0]],A=z.add.vmsk,B=z.add.vstk,Y=K.HZ.rv(s,s.f[0]);this.SE=s;this.$0=N;
if(z.wu()&&A!=null&&(JSON.stringify(B)!=JSON.stringify(r.VV)||JSON.stringify(Y)!=JSON.stringify(r.Ww))){this.ajT=Date.now();
var t=new hU(k.E.Y,!0);t.data={d:k.s.Jl,LS:eq.RG,h:Y};N.c(t);t.data={d:k.s.Jl,LS:eq.n8,h:B};N.c(t)}};
K.HZ.prototype.wy=function(s,N){if(this.SE==null)return;if(N==eq.pM||N==eq.RG||N==eq.n8){if(Date.now()-this.ajT<50)return;
var r=N==eq.RG,S=this.SE,z=r?s.Ww:s.VV,A=[],B=S.f;for(var l=0;l<B.length;l++){var Y=B[l],t=S.p[Y];if(!t.wu()||t.add.vmsk==null)continue;
A.push(Y)}var p=new hU(k.E.r,!0);p.k=K.g$;p.data={d:y.ad,vA:A,LK:r,h:z};if(A.length!=0)this.$0.c(p)}};
K.HZ.prototype.a1u=function(s){if(typeof s=="number"){var N=new hU(k.E.gu,!0);N.data=K.Oy.ku(0);N.data.wz.Usng.v.Type.v.Clr.v=q.i.Sm({w:s>>>16&255,A:s>>>8&255,U:s>>>0&255});
this.$0.c(N)}};K.HZ.prototype.OG=function(s,N,r,S,z){this.$0=N;if(s.d=="newfill"){if(s.fW==0){var A=new hU(k.E.Y,!0);
A.data={d:k.s.Pv,ic:"colorpicker",qx:z.Hd,Rc:this.a1u.bind(this)};N.c(A)}}else if(s.d=="pathedit"){var B=s.Xy,Y="",t=r.qI.slice(0),p=r.LD.slice(0),f=r.qI.slice(0),a=r.LD.slice(0);
if(B=="rnm"){var D=-1-s.Jb,c=t[D],J=a2.Zd(s.name,c.add);if(D!=0)f[D]=J;else{a=[f.length];f.push(J);f[0]=a2.Zd("Work Path")}Y="Rename"}else if(B=="new"){var J=a2.Zd("Path "+t.length);
if(s.a2p){var Z=r.Ly(),Q=Z[0],M=Z[1],u=Q[M[0]];J.add.vmsk=u.add.vmsk.clone();J.add.vogk=JSON.parse(JSON.stringify(u.add.vogk));
if(u.Jb==-1){var P=f[a[0]]=a2.Zd("Path "+t.length);P.name=u.name;P.Jb=u.Jb}}f.push(J);a=[f.length-1];
Y="New"}else if(B=="del"){if(a.length==0)return;a.sort(function(F,G){return F-G});if(a[0]==0){f[0]=a2.Zd(t[0].name);
a=a.slice(1)}var m=0;while(a.length!=0){f.splice(a[0]-m,1);a=a.slice(1);m++}Y="Delete"}else if(B=="fromsel"){var i=f[0]=a2.Zd("Work Path");
a=[0];if(r.q==null)return;var e=r.q.channel.slice(0);for(var l=0;l<e.length;l++)e[l]=e[l]>128?2:1;var X=r.q.rect.clone();
X.r6(1,1);var $=q.m(X.$());q.lf(e,r.q.rect,$,X);var O=ae.ue($,X.G,X.n,Math.round(X.$()*5e-4)),Q=ae.Ly(O),b=new gF(1,0,0,1,-1+r.q.rect.x,-1+r.q.rect.y);
for(var l=0;l<Q.length;l++)q.g.D(Q[l].path.v,b,Q[l].path.v);for(var l=0;l<Q.length;l++){var R=Q[l];if(R.color==1&&R.parent==-1)continue;
var w=q.g.m0(Q[l].path,!1);i.add.vmsk._=i.add.vmsk._.concat(w.slice(2))}i.add.vogk=y.dn(i.add.vmsk._);
Y="Selection to"}var F=new hZ(Y+" Path",this);F.data={On:t,Yl:p,acE:f,j$:a};if(B=="fromsel"){F.data.ZH=r.q;
F.data.FO=null}r.yF(F);this._6(F.data,r)}else{var L=s.Ru,Z=r.Ly(s.d=="append"),Q=Z[0],M=Z[1],i=Q[M[0]],x=i.add.vmsk,g=i.add.vogk,n=x.clone(),h=x.clone(),_=JSON.stringify(g);
if(s.d=="remove"){if(s.Xb&&h.we.length!=0){h._=q.J.amA(h._,h.we,g,s.apt);var H=q.J.zl(h._);for(var l=0;
l<h.f.length;l++)if(h.f[l]>=H){h.f.splice(l,1);l--}h.we=[];L="Delete Anchors"}else{if(h.f.length==0)return;
var m=0;for(var l=0;l<h.f.length;l++){g.splice(h.f[l]+m,1);m--}h._=q.J.axd(h._,h.f);h.f=[];h.we=[];if(L==null)L="Delete Paths"}}if(s.d=="append"){K.HZ.nE(s.aut,h,g)}this.Ml(r,i.Jb,h,g);
this.Sb(r,L,i.Jb,n,h.clone(),null,_,JSON.stringify(g))}};K.HZ.Z7=function(s,N){var r=q.J.atT(s._,s.f),S=[];
for(var l=0;l<s.f.length;l++)S.push(JSON.parse(JSON.stringify(N[s.f[l]])));return[r,S]};K.HZ.nE=function(s,N,r){var S=q.J.zl(N._),z=q.J.zl(s[0]);
N._=N._.concat(s[0].slice(2));N.f=[];for(var l=0;l<z;l++)N.f.push(S+l);for(var l=0;l<z;l++)r.push(JSON.parse(JSON.stringify(s[1][l])))};
K.HZ.prototype.KR=function(s,N){if(N==null)return!1;var r=N.Ly(),S=r[0],z=r[1];if(z.length==0)return!1;
var A=S[z[0]],B=A.add.vmsk;if(B&&B.f.length+B.we.length!=0)return[cK.Ih,cK.kM].indexOf(s)!=-1};K.HZ.prototype.Rt=function(s,N,r,S){if(s==null)return;
var z=s.Ly(),A=z[0],B=z[1];if(B.length==0)return;var Y=A[B[0]],t=Y.add.vmsk;if(S.t(cK.Nl)||S.t(cK.D9)||this.id==K.Kf&&S.t(cK.Vi)){t.we=[];
s.kk=!0}if(t.f.length!=0){var p=S.wn();if(p.x!=0||p.y!=0){var f=t.clone(),a=t.clone(),D=new gF(1,0,0,1,p.x,p.y),c=Y.add.vogk,J=JSON.stringify(c);
if(S.t(cK.nI)){var Z=K.HZ.Z7(a,c);K.HZ.nE(Z,a,c)}q.J.Yy(a._,D,a.f);q.O6.D(c,q.P.tl(D),a.f);this.Ml(s,Y.Jb,a,c);
this.Sb(s,"Move Paths",Y.Jb,f,a.clone(),!0,J,JSON.stringify(c))}if(S.t(cK.Ih)||S.t(cK.kM))this.OG({d:"remove",Xb:this.id==K.Kf},N,s,S,r)}};
K.HZ.prototype.Sb=function(s,N,r,S,z,A,B,Y){var t=new hZ(N,this);t.data={GR:r,UK:S,bT:z,abe:A,akh:B,G9:Y};
s.yF(t)};K.HZ.prototype._6=function(s,N){if(s.GR!=null)this.Ml(N,s.GR,s.bT.clone(),JSON.parse(s.G9));
else{N.qI=s.acE.slice(0);N.LD=s.j$.slice(0);N.kk=N.J4=!0}if(s.ZH||s.FO){N.q=s.FO;N.Ch=!0}};K.HZ.prototype.kA=function(s,N){if(s.GR!=null)this.Ml(N,s.GR,s.UK.clone(),JSON.parse(s.akh));
else{N.qI=s.On.slice(0);N.LD=s.Yl.slice(0);N.kk=N.J4=!0}if(s.ZH||s.FO){N.q=s.ZH;N.Ch=!0}};K.HZ.prototype.Ml=function(s,N,r,S){var z=N<0?s.qI[-1-N]:N<1e6?s.p[N]:s.p[N-1e6].add.TySh,A=z.add.vmsk;
A.channel=null;A.eB=!0;if(A.oR){A.oR.channel=null;A.oR.eB=!0}z.add.vmsk=r;z.add.vogk=S;if(1e6<=N){en.FS(z);
var B=s.p[N-1e6],Y=z,t=this.tx,p=new aM(Y.pg,t.dw),f=ey.Ow(p,Y);B.rect=f.Ge;B.buffer=f.sB;B.V();s.V()}else if(0<=N){r.eB=!0;
z.qB(s);s.V()}s.kk=s.J4=!0};K.HZ.rv=function(s,N){var r=s.p[N],S=r.add.vstk,z=null;if(S&&!S.fillEnabled.v)z={Hf:0};
else if(r.add.SoCo)z={Hf:1,SR:r.add.SoCo};else if(r.add.GdFl)z={Hf:2,SR:r.add.GdFl};else if(r.add.PtFl)z={Hf:3,SR:r.add.PtFl};
return z};K.HZ.sp=function(s,N){var r=s.add.vmsk,S=s.add.vstk,z=N.Hf;if(S)S.fillEnabled.v=z!=0;if(z>0){var A=["SoCo","GdFl","PtFl"][z-1];
for(var l=0;l<3;l++)delete s.add[["SoCo","GdFl","PtFl"][l]];s.add[A]=N.SR}};K.Oy=function(s,N,r,S){K.HZ.call(this,s,N,r);
this.db={shape:c1.yS(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{BO:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.afi=S;this.yY=null;this._J=null;this.bC=null;this.x6=new dm};K.Oy.prototype=new K.HZ;K.Oy.prototype.pN=function(s){return s.Rd&&this.id!=K.f7};
K.Oy.prototype.enable=function(s,N,r,S,z){this.tx=r;var A=new hU(k.E.Y,!0);A.data={d:k.s.Qb,BQ:"crosshair"};
N.c(A)};K.Oy.prototype.Rt=function(s,N,r,S){K.HZ.prototype.Rt.call(this,s,N,r,S);this.x6.Rt(S);this.EC(N,r)};
K.Oy.prototype.EC=function(s,N){var r=new hU(k.E.Y,!0);r.data={d:k.s.Em,k:this.id,UJ:this.N$(N)};s.c(r)};
K.Oy.prototype.N$=function(s){var N=this.x6.CF(0),r=this.x6.PK(0),S=K.eL.kq(this.db.binop,N,r);if(s.XS==1&&S==0)S=1;
return S};K.Oy.prototype.hD=function(s,N,r,S){};K.Oy.prototype.Vk=function(s,N,r,S,z){var A=r.XS;if(A!=2)this.a7U(N,r);
if(A==2&&!s.pu())return;var B=s.a.Vd(z.x,z.y);B=K.yz.FA(s,B,r);this.bC=[B.x,B.y];this.yY=B;this._J=new cR(0,0);
this.x6.Vk(S)};K.Oy.prototype.apf=function(s,N,r,S){var z=[this.yY.clone(),N.clone()];r=this.x6.CF(1)||r.t(cK.nG)||this.x6.PK(1)?r:null;
if(this.afi)z=K.Oy.dS(z[0],z[1],r,!0,this.db.cstr);if(s)s.a.YO=new hq(z[0].x,z[0].y,z[1].x-z[0].x,z[1].y-z[0].y);
return this.hD(z[0],z[1],this.x6.CF(1)&&r.t(cK.nG),this.bC,s.a,S)};K.Oy.prototype.a3M=function(s,N,r){var S=s.a.Vd(N.x,N.y);
if(this.id==K.f7)return S;var z=this.db.cstr;if(z.BO==2){var A=new hq(S.x-z.x,S.y-z.y,z.x,z.y),B=K.yz._Z(s,A,r);
S.x+=B[0];S.y+=B[1];K.yz.yv(s,A,B)}else S=K.yz.FA(s,S,r);return S};K.Oy.prototype.ud=function(s,N,r,S,z){if(this.yY==null)return;
var A=this.bC,B=A.length,Y=z?this.a3M(s,z,r):new cR(A[B-2],A[B-1]);if(S.t(cK.IH))this.yY=Y.lA(this._J);
else this._J=Y.lA(this.yY);A.push(Y.x,Y.y);if(this.db.shape==null)this.db.shape=r.cz[0];var t=this.apf(s,Y,S,!0)[0],p=q.g.Xl(t);
s.R.iD=p;if(this.id!=K.f7&&this.id!=K.cy&&this.id!=K.AX)K.PJ.O7(z,s.a.YO,s,r);s.kk=!0;this.x6.ud()};
K.Oy.prototype.apF=function(s,N,r,S){var z=s[4].clone();if(S){z.x-=N/2;z.y-=r/2}if(this.id==K.cy){N/=2;
r/=2;z.x+=N;z.y+=r;r=-r;N=0}var A=this.hD(z,new cR(z.x+N,z.y+r),!1,this.bC);this.a2v(s[0],s[1],s[2],A)};
K.Oy.prototype.a2v=function(s,N,r,S){var z=new hU(k.E.gu,!0);z.data=K.Oy.aug(S[1],r);N.c(z);if(S[1].v.classID=="customShape"&&S[1].v.Nm.v.startsWith("--")){var A=s.Ly(),B=A[0],Y=A[1],t=B[Y.pop()],p=t.add.vmsk,f=t.add.vogk,a=p.clone();
a._=S[0];this.Ml(s,t.Jb,a,f)}};K.Oy.prototype.gE=function(s,N,r,S,z,A){if(this.yY==null)return;var B=this.a3M(s,z,r),Y=this.N$(r),t=r.XS,p=this.bC,f=p.length;
if(this.id==K.f7&&f<=4){}else if(f<=4){B.x=Math.round(B.x);B.y=Math.round(B.y);var a=new hU(k.E.Y);a.data={d:k.s.Pv,ic:"createshape",a3h:this.apF.bind(this),ar_:this.name,abI:[s,N,r,S,B]};
if(!A)N.c(a)}else if(f!=2){var D=this.apf(s,B,S),c=D[0],J=s.Ly(!0),Z=J[0],Q=J[1],M=Q.length-1;if(t==1&&c.length>2||t==0&&Y!=0&&M!=-1&&Z[Q[M]].Jb>=0){c[2].my=[1,2,3,0][Y-1];
var u=Z[Q.pop()],P=u.add.vmsk,m=u.add.vogk,i=P.clone(),e=P.clone(),X=JSON.stringify(m);e._=e._.concat(c.slice(2));
e.f=[q.J.zl(e._)-1];var $=q.O6.$V(D[1]);m.push($?$:q.O6.tC());this.Ml(s,u.Jb,e,m);this.Sb(s,this.name,u.Jb,i,e,null,X,JSON.stringify(m))}else if(t==0){this.a2v(s,N,r,D)}else if(t==2){var e=new y.kL;
e._=e._.concat(c.slice(2));var O=e.eg();if(!this.db.anta)q.round(O.channel);var T=q.m(O.rect.$()*4);
q.TM(T,(r.Hd&255)<<16|(r.Hd>>8&255)<<8|(r.Hd>>16&255)<<0);q.XX(O.channel,T,3);var b=new hU(k.E.r,!0);
b.k=K.rX;b.data={d:"draw",ji:{buffer:T,rect:O.rect.clone()},Ru:this.name};N.c(b)}}this.yY=null;s.R.iD=null;
s.R.Tw=null;s.R.QQ=[];s.a.YO=null;s.kk=!0;this.x6.gE();this.EC(N,r)};K.Oy.prototype.e_=function(s,N,r,S,z){for(var r in s)this.db[r]=s[r]};
K.Oy.dS=function(s,N,r,S,z){var A=s.x,B=s.y,Y=N.x,t=N.y;if(z&&z.BO==2){if(S){Y=Math.round(Y);t=Math.round(t)}A=Y-z.x;
B=t-z.y}else{var p=0;if(z&&z.BO==1)p=z.y/z.x;else if(r&&r.t(cK.nG))p=1;if(p!=0){if(S){if(A<Y)A=Math.floor(A);
else A=Math.ceil(A);if(B<t)B=Math.floor(B);else B=Math.ceil(B)}var f=Math.abs(Y-A),a=Math.abs(t-B),D=f;
if(a/f<p)D*=a/f/p;Y=Y>A?A+D:A-D;t=t>B?B+D*p:B-D*p}if(r&&r.t(cK.nI)){A-=Y-A;B-=t-B}}var s=new cR(A,B),N=new cR(Y,t);
if(S)K.Oy.a2V(s,N);return[s,N]};K.Oy.a2V=function(s,N){if(s.x>N.x){var r=s.x;s.x=N.x;N.x=r}if(s.y>N.y){var r=s.y;
s.y=N.y;N.y=r}s.x=Math.floor(s.x);s.y=Math.floor(s.y);N.x=Math.ceil(N.x);N.y=Math.ceil(N.y)};K.Oy.ady=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
K.Oy.ku=function(s,N){var r=K.Oy.ady();if(N==null)N=JSON.parse(JSON.stringify(jG.WX[s]));K.o7.Zn(N,r.Usng.v.Type.v,s);
return{uU:"make",wz:r}};K.Oy.aug=function(s,N){var r=N.Ww,S=JSON.parse(JSON.stringify(N.VV));if(r.Hf==0)S.fillEnabled.v=!1;
var z=K.Oy.ku(Math.max(0,r.Hf-1),r.SR);z.wz.Usng.v.Shp=s;z.wz.Usng.v.strokeStyle={t:"Objc",v:S};return z};
K.FW=function(s){K.HZ.call(this,s==0?[10,29]:[10,51],s==0?K.Kf:K.avL,s==0?"tools/pen":"tools/cpen");
this.eH=s;this.It=null;this.PA=null;this.mR=null;this.akN=0;this.Gx=null;this.ED=!1;this.JA=!1;this.RP=!1;
this.Z5=!1;this.KL=0};K.FW.prototype=new K.HZ;K.FW.prototype.pN=function(s){return this.PA!=null};K.FW.prototype.Rt=function(s,N,r,S){if(!S.t(cK.nI))this.RP=!1;
if(this.eH==1&&(S.t(cK.Ih)||S.t(cK.kM))&&this.KR(cK.Ih,s)){this.OG({d:"remove",Xb:!0},N,s,S,r);return}K.HZ.prototype.Rt.call(this,s,N,r,S)};
K.FW.prototype.Vk=function(s,N,r,S,z){this.It=z;this.a7U(N,r);var A=s.a.Vd(z.x,z.y),Z,Q;A.x=Math.round(A.x);
A.y=Math.round(A.y);var B=K.yz.FA(s,A,r),Y=r.XS,t=this.akN;if(Y==2)Y=0;var p=s.Ly(Y==1),f=p[0],a=p[1],D=f[a.pop()],c=D?D.add.vmsk:null;
if(Y==0&&t!=0&&D&&D.Jb>=0)Y=1;var J=K.Zg(s,z);if(c)Z=q.J.KB(c._,A,!0,J);var M=S.t(cK.nI);if(Y==0&&(c==null||c.we.length==0&&Z.Jb==-1)){var u=new hU(k.E.gu,!0),P=q.O6.a7("customShape",[0,0,1,1],null,null,null,"--");
u.data=K.Oy.aug(P,r);N.c(u);this.Z5=!0;p=s.Ly(!0);f=p[0];a=p[1];D=f[a.pop()];c=D.add.vmsk;c._=c._.slice(0,2)}var m=D.add.vogk;
this.PA=c.clone();this.mR=JSON.stringify(m);var i=c._,e=q.J.zl(i);Q=q.J.jl(c._,new hq(A.x-J,A.y-J,J*2,J*2),c.we);
Z=q.J.KB(c._,A,!0,J);var X=Q[0].length+Q[1].length+Q[2].length;if(Z.Jb!=-1&&Q[0].length==0){var $=q.J.$l(i,Z.Jb);
while(i[$].length<=Z.Dj){Z.Dj-=i[$].length;$+=i[$].length+1}i[$].length++;var O={type:4,hJ:B.clone(),H:B.clone(),De:B.clone()};
i.splice($+2+Z.Dj,0,O);c.we=[$+2+Z.Dj];if(this.eH==1){O.hJ.x+=2;this.qa(c)}}else if(X!=0&&M){var b=0;
for(var l=0;l<3;l++)if(Q[l].length!=0){b=Q[l][0];this.JA=l==1;break}if(Q[0].length!=0){var R=c._.length-1,w=c._[b];
w.De=w.H.clone();var F=w.type>=3?3:0;if(b!=R){w.hJ=w.H.clone();w.type=F+1;this.RP=!0}else w.type=F+2}c.we=[b]}else if(Q[0].length==1&&i[Q[0][0]-1]&&(i[Q[0][0]-1].H!=null||i[Q[0][0]-1].type==0||i[Q[0][0]-1].length==1)){var b=Q[0][0];
if(this.eH==1){var L=i[b],x=L.H,g=Math.abs(q.g.awG(L.hJ.x,L.hJ.y,x.x,x.y,L.De.x,L.De.y));if(g>.01){L.hJ=x.clone();
L.De=x.clone()}if(Date.now()-this.KL<300){var n=L.hJ.nR(x)&&L.De.nR(x);if(n)L.De.offset(2,2);else{L.hJ=x.clone();
L.De=x.clone()}this.KL=0}else this.KL=Date.now();c.we=[b];this.qa(c)}else{var $=q.J.$l(i,q.J.w$(i,b)),P=i[$],h=$+P.length;
if(b!=h||P.type==0){i[$].length--;i.splice(b,1);h--;if(P.length==0){i.splice($,1);h=-1}}if(h!=-1)c.we=[h];
else c.we=[]}}else{var _=0;if(c.we.length!=1){c.f=[e];i.push({type:3,length:1,my:[1,2,3,0][Math.max(0,t-1)],cd:0,L_:0,p4:0});
_=i.length;m.push(q.O6.tC())}else{var L=c.we[0],H=q.J.w$(i,L),$=q.J.$l(i,H);L=$+i[$].length;if(cR.iI(A,i[$+1].H)<J){i[$].type=0;
c.we=[$+1];this.Gx=B;this.ED=!0;this.Ml(s,D.Jb,c,m);s.kk=!0;return}i[$].length++;_=L+1;if(L==$+1&&i[$].length!=2)_=$+1}if(S.t(cK.nG)&&i[_-1]&&i[_-1].H)B=K.gL.W2(i[_-1].H,B);
var O={type:4,hJ:B.clone(),H:B.clone(),De:B.clone()};i.splice(_,0,O);c.we=[_];this.Gx=B;if(this.eH==1){O.hJ.x+=2;
this.qa(c)}this.KL=Date.now()}this.Ml(s,D.Jb,c,m);s.kk=!0};K.FW.prototype.qa=function(s){var N=s._,r=s.we[0],S=q.J.$l(N,q.J.w$(N,r))+1,z=N[S-1].length;
if(z<3)return;var A=[],B=[];for(var l=0;l<5;l++){var Y=S+(r-S-2+l+5*z)%z;B.push(Y);var t=N[Y].H;A.push(t.x,t.y)}var p=q.g.ahO(A);
for(var l=1;l<4;l++){var f=l*4,a=N[B[l]],t=a.H,D=a.hJ.nR(t)&&a.De.nR(t);if(!D){a.hJ.i5(p[f],p[f+1]);
a.De.i5(p[f+2],p[f+3])}else{a.hJ=t.clone();a.De=t.clone()}}};K.FW.prototype.ud=function(s,N,r,S,z){if(this.PA==null)return;
var A=this.It;if(A&&cR.iI(A,z)<K.Zg({a:{X:1}},z))return;this.It=null;var B=s.a.Vd(z.x,z.y),Y=K.yz.FA(s,B,r),t=s.Ly(r.XS==1),p=t[0],f=t[1],a=p[f.pop()],D=a.add.vmsk,c=D._,J=c[D.we[0]];
if(this.eH==1){var Z=J.H.nR(J.hJ)&&J.H.nR(J.De);J.H=B.clone();J.hJ=B.clone();J.De=B.clone();if(!Z)J.hJ.x+=2;
this.qa(D)}else if(S.t(cK.IH)){if(S.t(cK.nG))Y=K.gL.W2(this.Gx,Y);var Q=J.H.lA(J.De),M=J.hJ.lA(J.H);
J.De=Y;J.H=Y.add(Q);J.hJ=J.H.add(M)}else{if(S.t(cK.nG))Y=K.gL.W2(J.H,Y);if(this.JA){var u=J.hJ;J.hJ=J.De;
J.De=u}if(this.ED){var P=cR.iI(J.H,Y),m=P==0?0:cR.iI(J.H,J.De)/P;J.De.x=J.H.x+m*(Y.x-J.H.x);J.De.y=J.H.y+m*(Y.y-J.H.y)}else J.De=Y;
if(S.t(cK.nI)&&!this.RP)J.type=5;else{J.type=4;J.hJ=J.H.add(J.H.lA(Y))}this.Gx=Y;if(this.JA){var u=J.hJ;
J.hJ=J.De;J.De=u}}this.Ml(s,a.Jb,D,a.add.vogk);s.kk=!0};K.FW.prototype.gE=function(s,N,r,S,z){if(this.PA==null)return;
var A=s.Ly(r.XS==1),B=A[0],Y=A[1],t=B[Y.pop()],p=t.add.vmsk,f=t.add.vogk;if(this.ED){p.we=[];this.Ml(s,t.Jb,p,t.add.vogk)}var a=this.PA._.length,D=p._.length;
if(!this.Z5)this.Sb(s,this.ED?"Close Path":(a==D?"Move":a<D?"Add":"Delete")+" Anchor Point",t.Jb,this.PA,p.clone(),null,this.mR,JSON.stringify(f));
this.Z5=!1;this.ED=!1;this.JA=!1;this.RP=!1;this.PA=null};K.FW.prototype.e_=function(s,N,r,S,z){this.akN=s.binop};
K.Zc=function(){K.Oy.call(this,[10,30],K.f7,"tools/fpen",!1)};K.Zc.prototype=new K.Oy;K.Zc.prototype.hD=function(s,N,r,S,z,A){var B=S.length-1,Y=Math.sqrt((S[B-1]-S[0])*(S[B-1]-S[0])+(S[B]-S[1])*(S[B]-S[1]))<6/z.X;
return[q.J.i3(S,Y,A),q.O6.a7("customShape",[0,0,1,1],null,null,null,"--")]};K.v9=function(){K.HZ.call(this,[10,27],K.pG,"tools/pselect");
this.jC=null;this.nB=!1;this.a5=null;this.PA=null;this.TA=null;this.mR=null;this.SF=null;this.MA=null;
this.cP=null;this.Vc=null};K.v9.prototype=new K.HZ;K.v9.prototype.pN=function(s){return s.Rd};K.v9.prototype.Vk=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=s.Ly(),Y=B[0],t=B[1],p,f;
for(var l=0;l<t.length;l++){var a=Y[t[l]],D=a.add.vmsk,c=q.J.KB(D._,A).Jb;if(c!=-1){this.a5=p=a;f=c}for(var J=0;
J<D.Ig.length;J++){var Z=q.J.mI(D._,D.Ig[J]);if(Z==null)continue;var Q=cR.iI(Z,A);if(Q<4*K.Z()/s.a.X){var M=s.p[a.Jb-1e6].add.TySh,u=M.pg.Curve,P=M.D,m=u.Reversed;
u.Reversed=!1;var u=aM.Y8(M.pg.Curve);u.Reversed=m;q.g.D(u[0],P,u[0]);this.cP=[u,J,P.aC*P.dX-P.U*P.K1];
this.a5=p=a;f=0}}if(this.cP)break}if(p!=null){var D=p.add.vmsk;D.we=[];var i=D.f.indexOf(f);if(S.t(cK.nG)){if(i==-1){D.f.push(f);
this.nB=!0}else D.f.splice(i,1)}else{if(i==-1)D.f=[f];this.nB=!0}this.MA=q.J.Ql(D._,D.f)}this.jC=A;this.Vc=new cI(A);
s.J4=!0;s.kk=!0};K.v9.prototype.ud=function(s,N,r,S,z){if(this.jC==null)return;var A=s.a.Vd(z.x,z.y);
if(this.nB){A=this.Vc.gi(A,S);var B=this.a5;if(this.PA==null){this.PA=this.TA=B.add.vmsk.clone();this.mR=this.SF=JSON.stringify(B.add.vogk);
if(S.t(cK.nI)){var Y=this.PA.clone(),t=JSON.parse(this.mR),p=K.HZ.Z7(Y,t);K.HZ.nE(p,Y,t);this.TA=Y;this.SF=JSON.stringify(t)}}var Y=this.TA.clone(),t=JSON.parse(this.SF);
if(this.cP){var f=this.cP,a=f[0][0],D=q.g.Us(a,A.x,A.y);Y.Ig[f[1]]=f[0][1][D];var c=a[D*2],J=a[D*2+1],Z=(a[D*2+2]-c)*(A.y-J)-(a[D*2+3]-J)*(A.x-c);
if(f[2]<0)Z=-Z;Y.tf=Z>0}else{var Q=this.MA.clone(),M=Q.x,u=Q.y;Q.offset(A.x-this.jC.x,A.y-this.jC.y);
Q.x=Math.round(Q.x);Q.y=Math.round(Q.y);var P=K.yz._Z(s,Q,r),m=new gF(1,0,0,1,Q.x-M+P[0],Q.y-u+P[1]);
q.J.Yy(Y._,m,Y.f);q.O6.D(t,q.P.tl(m),Y.f);K.yz.yv(s,Q,P)}this.Ml(s,B.Jb,Y,t)}else{var i=this.jC;s.R.iD=q.g.w2(new hq(i.x,i.y,A.x-i.x,A.y-i.y));
s.kk=!0}};K.v9.prototype.gE=function(s,N,r,S,z){if(this.jC==null)return;var A=s.a.Vd(z.x,z.y),B=this.a5,Y=B?B.add.vmsk:null;
if(this.nB){var t=JSON.stringify(B.add.vogk);if(!this.jC.nR(A))this.Sb(s,"Move Paths",B.Jb,this.PA,Y,null,this.mR,t);
if(s!=null&&s.R.Tw){s.R.Tw=null;s.kk=!0}}else{if(Y){var p=this.jC,f=new hq(p.x,p.y,A.x-p.x,A.y-p.y),a=q.J.a1d(Y._,f);
if(S.t(cK.nG)){for(var l=0;l<a.length;l++)if(Y.f.indexOf(a[l])==-1)Y.f.push(a[l])}else Y.f=a}s.R.iD=null;
s.kk=!0}this.jC=null;this.PA=null;this.cP=null;this.nB=!1;this.Vc=null};K.v9.prototype.tU=function(s,N,r,S){K.HZ.prototype.tU.call(this,s,N,r,S);
if(r.ru!=this.id)return;if(s.f.length==0)return;var z=s.Ly(),A=z[0],B=z[1];if(B.length==0)return;var Y=A[B[0]],t=Y.add.vmsk,p=Y.add.vstk,f=Y.add.vogk,a=new hU(k.E.Y,!0);
a.data={d:k.s.Em,k:this.id,nu:"main",W3:t?t:null,O6:f};N.c(a)};K.v9.prototype.e_=function(s,N,r,S,z){var A=s.PH;
if(A.W3){var B=r.Ly(),Y=B[0],t=B[1];if(t.length==0)return;var p=Y[t[0]],f=p.add.vmsk.clone(),a=JSON.stringify(p.add.vogk),D=A.W3;
this.Ml(r,p.Jb,D,A.O6);var c=[18,5];if(f._.length==D._.length)c=f.f[0]==D.f[0]?"Fill Rule":"Path Order";
this.Sb(r,c,p.Jb,f,D,null,a,JSON.stringify(A.O6))}};K.Q4=function(){K.HZ.call(this,[10,28],K.bt,"tools/dselect");
this.Nm=-1;this.qf=-1;this.w4=null;this.jC=null;this.a5=null;this.PA=null;this.mR=null;this.SE=null;
this.cs=0;this.bo={psnap:!1};this.Vc=null};K.Q4.prototype=new K.HZ;K.Q4.prototype.pN=function(s){return s.Rd};
K.Q4.prototype.e_=function(s){this.bo=s};K.Q4.prototype.OG=function(s,N,r,S,z){if(s.d=="crnr"){if(r==null)return;
var A=r.Ly(),B=A[0],Y=A[1];if(Y.length==0){alert("No paths selected");return}var t=B[Y[0]],p=t.add.vmsk;
if(p.we.length==0){alert("No corners selected");return}for(var l=0;l<p.we.length;l++){var f=p._[p.we[l]];
if(!f.H.nR(f.De)||!f.H.nR(f.hJ)){alert("Only sharp corners can be rounded");return}}if(this.PA==null){this.PA=t.add.vmsk.clone();
this.mR=JSON.stringify(t.add.vogk);this.a5=t;this.SE=r}var a=new hU(k.E.Y,!0);a.data={d:k.s.Pv,ic:"cornerradius",kj:5,JN:this.apL.bind(this)};
N.c(a)}else K.HZ.prototype.OG.call(this,s,N,r,S,z)};K.Q4.prototype.apL=function(s){if(s=="confirm"){var N=this.SE,r=this.a5,S=r.add.vmsk,z=r.add.vogk;
this.Sb(N,[12,94,0],r.Jb,this.PA,S,null,this.mR,JSON.stringify(z));this.SH();return}var S=this.PA.clone(),z=JSON.parse(this.mR),A=S.we;
if(s=="cancel"){}else{var B=[];for(var l=0;l<A.length;l++){var Y=A[l],t=q.J.w$(S._,Y,!0),a=0;if(B.indexOf(t)!=-1)continue;
B.push(t);var p=q.J.$l(S._,t,!0),f=S._[p].length,D=[];for(var c=0;c<f;c++){var J=S.we.indexOf(p+c+1)==-1?0:s;
D.push(J);if(J!=0)a++}q.J.Mi(S._,p,D);for(var c=0;c<A.length;c++)if(A[c]>p+f)A[c]+=a}this.Ld(S,z);S.we=[]}this.Ml(this.SE,this.a5.Jb,S,z);
if(s=="cancel")this.SH()};K.Q4.prototype.disable=function(s,N,r,S){this.li(s)};K.Q4.prototype.Vk=function(s,N,r,S,z){this.li(s);
var A=s.a.Vd(z.x,z.y),a,D,c;this.w4=A.clone();var B=s.Ly(),Y=B[0],t=B[1];if(t.length==0)return;var p=K.Zg(s,z),f=new hq(A.x-p,A.y-p,p*2,p*2);
for(var J=0;J<t.length;J++){a=this.a5=Y[t[J]];D=a.add.vmsk;c=q.J.jl(D._,f);if(c[0].length+c[1].length+c[2].length!=0)break}var Z=[!1,!1,!1];
for(var l=0;l<3;l++){for(var Q=0;Q<c[l].length;Q++){var M=c[l][Q],u=D._[M];if(D.we.indexOf(M)!=-1||l==1&&D.we.indexOf(M-1)!=-1&&!u.H.nR(u.hJ)||l==2&&D.we.indexOf(M+1)!=-1&&!u.H.nR(u.De)){c[l]=[M];
Z[l]=!0;break}}}if(c[0].length!=0&&(Z[0]||!Z[1]&&!Z[2])){var P=c[0][0],m=D.we.indexOf(P);if(S.t(cK.nG)){if(m==-1)D.we.push(P);
else{D.we.splice(m,1);s.kk=!0;return}}else if(m==-1)D.we=[P];this.Nm=P;this.qf=0}else if(c[1].length!=0&&Z[1]){this.Nm=c[1][0];
this.qf=1}else if(c[2].length!=0&&Z[2]){this.Nm=c[2][0];this.qf=2}else{var i=q.J.KB(D._,A,!0,p);if(i.Jb==-1)this.jC=A;
else{D.f=[i.Jb];D.we=[]}}if(this.PA==null){this.PA=a.add.vmsk.clone();this.mR=JSON.stringify(a.add.vogk)}this.Vc=new cI(A);
s.kk=!0};K.Q4.prototype.ud=function(s,N,r,S,z){if(s==null)return;var A=s.a.Vd(z.x,z.y),B=this.a5;if(this.Nm!=-1){var Y=this.PA.clone(),t=B.add.vogk,p=Y._[this.Nm];
p=[p.H,p.hJ,p.De][this.qf];if(S.t(cK.nG)){if(this.qf==0){A=this.Vc.gi(A,S);A.x+=p.x-this.w4.x;A.y+=p.y-this.w4.y}else A=K.gL.W2(Y._[this.Nm].H,A)}else{if(this.bo.psnap){A.x=Math.round(A.x);
A.y=Math.round(A.y)}A=K.yz.FA(s,A,r)}if(this.qf==0){var f=new gF(1,0,0,1,A.x-p.x,A.y-p.y);q.J.Yy(Y._,f,null,Y.we)}else{var a=Y._[this.Nm],D=a.hJ,c=a.De;
if(this.qf==2){D=a.De;c=a.hJ}if(S.t(cK.nI)&&(a.type==1||a.type==4))a.type++;D.i5(A.x,A.y);if(a.type==1||a.type==4){var J=cR.iI(D,a.H),Z=cR.iI(c,a.H);
if(Z!=0){c.x=a.H.x-(D.x-a.H.x)*(Z/J);c.y=a.H.y-(D.y-a.H.y)*(Z/J)}}}this.Ld(Y,t);this.Ml(s,B.Jb,Y,t)}else if(this.jC!=null){var Q=this.jC;
s.R.iD=q.g.w2(new hq(Q.x,Q.y,A.x-Q.x,A.y-Q.y));s.kk=!0}else{var M=s.Ly(),u=M[0],P=M[1],B,Y,e;if(P.length==0)return;
var m=K.Zg(s,z),i=new hq(A.x-m,A.y-m,m*2,m*2);for(var X=0;X<P.length;X++){B=u[P[X]];Y=B.add.vmsk;e=q.J.jl(Y._,i);
if(e[0].length+e[1].length+e[2].length!=0)break}this.li(s);for(var l=0;l<3;l++){for(var $=0;$<e[l].length;
$++){var O=e[l][$],T=Y._[O];T=l==0?T.H:l==1?T.hJ:T.De;s.R.Hj.push(s.R.Vu.length>>>1);s.R.Vu.push(T.x,T.y);
s.kk=!0}}}};K.Q4.prototype.li=function(s){if(s&&s.R.Vu.length!=0){s.R.Vu=[];s.R.Hj=[];s.kk=!0}};K.Q4.prototype.gE=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=this.a5,Y=B?B.add.vmsk:null,t=B?B.add.vogk:null;
if(this.Nm!=-1){if(Date.now()-this.cs<300){var p=Y._[this.Nm],f=this.qf,a=null;if(f==0){var D=p.hJ.nR(p.H),c=p.De.nR(p.H);
if(!D&&!c){a="Anchor Type";if(p.type==1||p.type==4)p.type++;else{p.type--;p.De=p.H.add(p.H.lA(p.hJ))}}else{a="Add Handles";
if(D&&c){p.hJ.x-=30;p.De.x+=30}else if(D)p.hJ=p.H.add(p.H.lA(p.De));else if(c)p.De=p.H.add(p.H.lA(p.hJ))}}else{a="Remove Handle";
if(f==1)p.hJ.J2(p.H);else p.De.J2(p.H)}this.Ld(Y,t);this.Ml(s,B.Jb,Y,t);this.Sb(s,a,B.Jb,this.PA,Y,null,this.mR,JSON.stringify(t))}else if(!this.w4.nR(A)){this.Sb(s,"Drag Anchors",B.Jb,this.PA,Y,null,this.mR,JSON.stringify(t))}this.cs=Date.now()}else if(this.jC!=null){var J=this.jC,Z=new hq(J.x,J.y,A.x-J.x,A.y-J.y);
if(Z.G<0)Z.x+=Z.G;if(Z.n<0)Z.y+=Z.n;Z.G=Math.abs(Z.G);Z.n=Math.abs(Z.n);var Q=q.J.jl(Y._,Z);Y.we=Q[0].concat(S.t(cK.nG)?Y.we:[]);
s.R.iD=null}this.SH();s.kk=!0};K.Q4.prototype.SH=function(){this.a5=null;this.PA=null;this.jC=null;this.Nm=this.qf=-1;
this.Vc=null};K.Q4.prototype.Ld=function(s,N){for(var l=0;l<s.we.length;l++){var r=q.J.w$(s._,s.we[l]);
q.O6.K6(N,r)}};K.Q4.prototype.Rt=function(s,N,r,S){if(s==null)return;var z=s.Ly(),A=z[0],B=z[1];if(B.length==0)return;
var Y=A[B[0]],t=Y.add.vmsk;if(t==null||t.we.length==0)return;var p=Y.add.vogk,f=JSON.stringify(p),a=S.wn();
if(a.x!=0||a.y!=0){var D=t.clone(),c=t.clone(),J=new gF(1,0,0,1,a.x,a.y);q.J.Yy(c._,J,null,c.we);this.Ld(c,p);
this.Ml(s,Y.Jb,c,p);this.Sb(s,"Move Anchors",s.f[0],D,c.clone(),!0,f,JSON.stringify(p))}if(S.t(cK.Ih)||S.t(cK.kM))this.OG({d:"remove",Xb:!0,apt:!0},N,s,S,r)};
K.Q4.prototype.Sb=function(s,N,r,S,z,A,B,Y){var t=s.sQ();if(A&&t!=null&&t.k==this&&t.data.abe&&t.data.GR==r&&JSON.stringify(t.data.UK.we)==JSON.stringify(S.we)){t.data.bT=z;
t.data.G9=Y}else{var t=new hZ(N,this);t.data={GR:r,UK:S,bT:z,abe:A,akh:B,G9:Y};s.yF(t)}};K.Rect=function(){K.Oy.call(this,[10,32],K.ib,"tools/rect",!0)};
K.Rect.prototype=new K.Oy;K.Rect.prototype.hD=function(s,N,r){var S=this.db.crad,z=N.x-s.x,A=N.y-s.y;
return[q.J.kt.Rect(s.x,s.y,z,A,S),q.O6.a7("Rctn",[s.x,s.y,N.x,N.y],[S,S,S,S])]};K.q3=function(){K.Oy.call(this,[10,33],K.df,"tools/ellipse",!0)};
K.q3.prototype=new K.Oy;K.q3.prototype.hD=function(s,N,r){var S=N.x-s.x,z=N.y-s.y;return[q.J.kt.q3(s.x,s.y,S,z),q.O6.a7("Elps",[s.x,s.y,N.x,N.y])]};
K.qX=function(){K.Oy.call(this,[10,34],K.cy,"tools/pshape",!1);this.db.aopts=[!1,!0,50,100,0]};K.qX.prototype=new K.Oy;
K.qX.prototype.hD=function(s,N,r){var S=this.db.pshape,z=this.db.crad,A=this.db.irad/100,B=this.db.sides,Y=this.db.width,t=this.db.aopts,p=this.db.length,Q;
N=N.clone();var f=s.x,a=s.y,D=N.x,c=N.y,J=Math.sqrt((D-f)*(D-f)+(c-a)*(c-a)),Z=Math.atan2(-c+a,D-f);
if(r)Z=Math.round(Z*180/Math.PI/15)*15*Math.PI/180;if(S==0)Q=q.J.kt.xg(f,a,J,Z,B,z);if(S==1)Q=q.J.kt.no(f,a,J,Z,B,z,A);
if(S==2)Q=q.J.kt.Y0(s.x,s.y,N.x,N.y,Y,t);if(S==3)Q=q.J.kt.aqE(f,a,J,Z,p);return[Q,q.O6.a7("customShape",[s.x,s.y,N.x,N.y],null,null,null,"--")]};
K.qX.prototype.Rt=function(s,N,r,S){K.Oy.prototype.Rt.call(this,s,N,r,S);var z=S.wn(),A=this.db,B,Y;
if(z.y!=0){var t=-z.y,p=A.pshape;if(p<2){B="sides";Y=Math.max(3,Math.min(100,A.sides+t))}else if(p==2){B="width";
Y=Math.max(1,Math.min(100,A.width+t))}else if(p==3){B="length";Y=Math.max(4,Math.min(40,A.length+t))}}if(z.x!=0){B="pshape";
Y=Math.max(0,Math.min(3,A.pshape+z.x))}if(B){var f=new hU(k.E.Y,!0),a={};a[B]=Y;A[B]=Y;f.data={d:k.s.Em,k:this.id,Xy:"vals",axh:a};
N.c(f);this.ud(s,N,r,S)}};K.WD=function(){K.Oy.call(this,[10,35],K.AX,"tools/line",!1)};K.WD.prototype=new K.Oy;
K.WD.prototype.hD=function(s,N,r){var S=this.db.width,z=this.db.aopts;N=N.clone();if(r){N=K.gL.W2(s,N)}return[q.J.kt.Y0(s.x,s.y,N.x,N.y,S,z),q.O6.a7("Ln",null,null,[s.x,s.y,N.x,N.y],S,null,z)]};
K.UP=function(){K.Oy.call(this,[10,31],K.mA,"tools/cshape",!0)};K.UP.prototype=new K.Oy;K.UP.prototype.hD=function(s,N,r){var S=this.db.shape,z=S.CS.G/S.CS.n,A=y.kL.AM(S._);
N=N.clone();var B=N.x-s.x,Y=N.y-s.y;q.J.Yy(A,new gF(B,0,0,Y,s.x,s.y));return[A,q.O6.a7("customShape",[s.x,s.y,N.x,N.y],null,null,null,S.U1)]};
K.S=function(s,N,r){K.PJ.call(this,s,N,r);this.eV=0;this.p=null;this.zB=null;this.ZF=null;this.YS=1;
this.XQ=!1;this.cursor=null;this.CV=null;this.ZH=null;this.L4=!1;this.QM=null;this.avn=0;this.vP=null;
this.eH=0;this.Ma=null;this.XT=null;this.cM=null;this.lo=null;this.afK=null;this.nK=null};K.S.prototype=new K.PJ;
K.S.s4=function(s,N){var r={classID:"null",null:dv.kY("Dcmn",!0)};if(s)r.Angl={t:"UntF",v:{type:"#Ang",val:N}};
else r.Axis={t:"enum",v:{Ornt:N}};return{uU:s?"rotateEventEnum":"flip",wz:r}};K.S.prototype.jN=function(s,N,r,S,z){var A=new hU(k.E.Y,!0);
A.data={d:k.s.Em,k:this.id,s8:z,Sw:s,ZF:r};N.c(A);this.iY=!1};K.S.prototype.pN=function(s){return this.XT&&this.XT.abA()};
K.S.prototype.OG=function(s,N,r,S,z){this.ZF=z;if(s.d=="again"&&this.vP==null)return;if(!this.rL(r,z))return;
if(this.XT){this.amN(s,this.XT.y9());this.uV(r,z,0,!0);this.CA(r);return}this.ax7(r,s.j==null,s.j);this.agx(r);
this.amN(s);this.Rm(r,N,s.Ru,!1)};K.S.prototype.amN=function(s,N){var r=this.Ma;if(N==null){var S=s.P0!=null?s.P0:4;
N=this.XT.a9C()[S]}var z=N.x,A=N.y;if(s.d=="rot"&&s.h!=Math.PI&&(r.G+r.n&1)==1){z=Math.floor(z);A=Math.floor(A)}var B=new gF;
B.translate(-z,-A);if(s.d=="rot")B.rotate(s.h);if(s.d=="scl")B.scale(s.h.x,s.h.y);if(s.d=="mat")B.concat(s.h);
B.translate(z,A);if(s.d=="again")B=this.vP;var Y=this.XT.sg();q.g.D(Y,B,Y);this.XT.Zx(Y)};K.S.prototype.YJ=function(){return!0};
K.S.prototype.rL=function(s,N){if(s==null)return!1;if(this.id==K.nM)return s.q!=null;var r=s.xY(!0,null,null,!0);
if(this.id==K.vN&&s.p[r[0]].rect.Nf()){alert("Layer is empty.");return!1}for(var l=0;l<r.length;l++){var S=s.p[r[l]];
if(S.pa(2)||S.pa(31)){alert(eV.get([6,57,0]));return!1}if(S.add.artb){alert("You can not transform the whole artboard");
return!1}if(S.add.TySh)if(!ey.Ca(S.add.TySh,N.dw))return!1;if(S.add.SoLd){if(r.length==1&&!q.Wx.II(S.add.SoLd.warp.v)&&(S.eg()&&S.eg().kl||S.add.vmsk&&S.add.vmsk.kl)){alert("Unlink masks before transforming Smart Object");
return!1}if(!s.ar5(S.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+s.mu(S.add.SoLd.Idnt.v).Ff+")");
return!1}}}if(s.q==null)return!0;if(!s.pu())return!1;return s.arm()};K.S.prototype.Vk=function(s,N,r,S,z){var A=this.au$(z,s),B=A[0],Y=A[1],t=this.eH==0?this.XT:this.cM;
s.a.X*=Y;this.XQ=t.Vk(s,r,S,B,null,null,z);s.a.X/=Y;if(this.XQ&&t.Tr(B)){if(Date.now()-this.avn<250)this.Rm(s,N,null,!0);
this.avn=Date.now()}};K.S.prototype.SP=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Qb,BQ:this.cursor};
s.c(N)};K.S.prototype.au$=function(s,N){var r=1;s=N.a.Vd(s.x,s.y);if(this.eH==1){var S=q.P.g8(this.XT.sg(),this.Ma);
r=q.P.Nq(S).S5();var z=q.P.dm(S);s=q.P.aiG(z,s)}return[s,r]};K.S.prototype.ud=function(s,N,r,S,z){var A=this.au$(z,s),B=A[0],Y=A[1],t=this.eH==0?this.XT:this.cM;
if(!z.Rd){var p="default";if(t){var f=t.QI(B,s.a.X*Y,null,z);if(f)p=f}if(p!=this.cursor){this.cursor=p;
this.SP(N)}}if(!this.XQ)return;s.a.X*=Y;t.ud(s,r,S,B);s.a.X/=Y;this.uV(s,r,0,!0);this.CA(s);this.zE(N)};
K.S.prototype.gE=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y);this.XT.gE(s,r,S,A);this.XQ=!1};K.S.prototype.Rt=function(s,N,r,S){if(S.t(cK.D9))this.Rm(s,N,null,!0);
else if(S.t(cK.Nl))this.wC(s,N);else{var z=this.XT.Rt(s,r,S);if(z){this.uV(s,r,0,!0);this.zE(N)}}};K.S.prototype.e_=function(s,N,r,S){if(s.nu=="commit")this.Rm(r,N,null,!0);
else if(s.nu=="cancel")this.wC(r,N);else if(s.nu=="switchWarp"){this.eH=1-this.eH;this.a1D();this.CA(r);
this.zE(N)}else if(s.nu=="wrp"){this.cM.asq(s.Pk);this.CA(r);this.uV(r,this.ZF,0,!0)}else if(s.nu=="ctyp"){this.XT.ads(s.Pn);
this.CA(r);this.zE(N)}else if(s.nu=="cen"){this.XT.afQ(s.Yx);this.CA(r);this.uV(r,this.ZF,0,!0)}else if(s.nu=="trn"){var z=q.P.tl(s.EJ),A=this.Ma,B=q.P.g8(this.XT.sg(),this.Ma);
z[6]=B[6],z[7]=B[7];var Y=[A.x,A.y,A.x+A.G,A.y,A.x+A.G,A.y+A.n,A.x,A.y+A.n];q.P.D(z,Y);this.YS=s.YS;
this.XT.Zx(Y);this.CA(r);this.uV(r,this.ZF,0,!0)}};K.S.prototype.CA=function(s){if(this.eH==0)this.XT.sz(s,this.ZF);
else{this.cM.sz(s);var N=q.P.g8(this.XT.sg(),this.Ma);q.P.D(N,s.R.iD.v);q.P.D(N,s.R.zH)}};K.S.prototype.Rm=function(s,N,r,S){this.uV(s,this.ZF,this.YS);
var z=new hZ(r?r:this.name,this);if(this.eV==0)z.data={type:this.eV,p:this.p,QM:this.zB,ha:K.S._r(s,this.p)};
else if(this.eV==1){var A=s.p[this.p[0]],B;if(A.p1.GC<=0){B=q.m(A.p1.HM.$());q.WZ(A.p1.oS,B,3)}else B=s.q.channel;
var Y={rect:A.p1.HM.clone(),channel:B};z.data={type:this.eV,j:this.p[0],ZH:this.ZH,FO:Y,CV:this.CV,L4:this.L4,p1:A.p1,QM:this.QM,ha:{Ge:A.p1.HM,GT:A.p1.oS}}}else if(this.eV==2){z.data={type:this.eV,ZH:this.ZH,FO:{rect:s.q.rect.clone(),channel:s.q.channel.slice(0)}}}s.yF(z);
var t=this.Ma,p=new cR(t.x+t.G/2,t.y+t.n/2),f=q.P.g8(this.XT.sg(),t),a=q.P.Nq(f),D=new gF;D.translate(p.x,p.y);
D.concat(a);D.translate(-p.x,-p.y);a=D.clone();var c=-Math.atan2(-a.U,a.aC),J=new gF;J.rotate(c);a.concat(J);
function Z(u,P){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][P],val:u}}}var Q=dv.kY("Lyr",!0);if(this.id==K.nM)Q.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var M={classID:"null",null:Q,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:Z(D.JC,0),Vrtc:Z(D.T3,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:Z(Math.atan(a.K1)*180/Math.PI,2),Vrtc:Z(0,2)}},Wdth:Z(a.aC*100,1),Hght:Z(a.dX*100,1),Angl:Z(c*180/Math.PI,2)};
this.$0=N;this.track({uU:"transform",wz:M});this.escape(s,N,S)};K.S.prototype.wC=function(s,N){if(this.eV==0)K.S.Mc(s,this.p,this.zB);
else if(this.eV==1){var r=s.p[this.p[0]];s.q=this.ZH;if(!this.L4){r.p1.HM=this.QM.Ge;r.p1.oS=this.QM.GT;
r.NP(s,0,0,s.q)}else{r.s1(s,this.CV)}s.V();s.Ch=!0}else if(this.eV==2){s.q=this.ZH;s.Ch=!0}this.escape(s,N,!0)};
K.S.prototype.escape=function(s,N,r){this.XT.clear(s);this.XT=null;this.cM=null;this.nK=null;this.eH=0;
if(r)this.Tm(N,k.E.Y,{d:k.s.vT})};K.S.prototype._6=function(s,N){if(s.type==0)K.S.Mc(N,s.p,s.ha);else{if(s.type==1){var r=N.p[s.j];
if(s.L4){r.p1=s.p1}else{r.p1.HM=s.ha.Ge;r.p1.oS=s.ha.GT}r.NP(N,0,0,N.q);N.V()}N.q={rect:s.FO.rect.clone(),channel:s.FO.channel.slice(0)};
N.Ch=!0}};K.S.prototype.kA=function(s,N){if(s.type==0)K.S.Mc(N,s.p,s.QM);else{if(s.type==1){var r=N.p[s.j];
if(s.L4){r.s1(N,s.CV)}else{r.p1.HM=s.QM.Ge;r.p1.oS=s.QM.GT;r.NP(N,0,0,N.q)}N.V()}N.q=s.ZH;N.Ch=!0}};
K.S.prototype.ax7=function(s,N,r){s.Ly();var S=[];if(r==null)for(var l=0;l<s.LD.length;l++)if(s.qI[s.LD[l]].add.vmsk._.length>2)S.push(-1-s.LD[l]);
var z=[],A=s.a.$s;if(A[0]+A[1]+A[2]==3)if(r!=null||S.length==0||s.$Y!=null&&s.$Y.length!=0){if(s.f.length==1){var B=s.p[s.f[0]];
if(B.Ob()&&B.Pu)z=[s.f[0]]}if(z.length==0)z=s.xY(N,r,null,!0)}z=z.concat(S);for(var l=0;l<s.rz.length;
l++)z.push(-1e3-s.rz[l]);this.p=z};K.S.prototype.enable=function(s,N,r,S,z,A){if(this.cursor==null)this.cursor="default";
this.SP(N);if(this.XT)return;this.ZF=r;this.ax7(s,!0);this.agx(s,A&&A.uy!=null&&A.uy!=-1?A.uy:null);
this.zE(N);this.CA(s);if(A&&A.uy==-1)this.e_({nu:"switchWarp"},N,s,S)};K.S.prototype.zE=function(s){var N={d:k.s.Em,k:this.id};
if(this.eH==0){var r=q.P.g8(this.XT.sg(),this.Ma),S=q.P.Nq(r);N.EJ={lO:S,Pn:this.XT.avS(),Yx:this.XT.y9(),Ge:this.Ma.clone()}}else{N.Pk=this.cM.E5()}N.akB=this.cM!=null;
this.Tm(s,k.E.Y,N)};K.S.prototype.agx=function(s,N){var r=this.id==K.nM,S=!0,z=this.p[0],A=s.p[z],Y=null,t=null;
if(r){this.eV=2;this.ZH=s.q}else if(s.q&&this.p.length==1&&z>=0&&!A.rect.Nf()){this.eV=1;this.ZH=s.q;
this.CV=A.p1;this.L4=!1;if(!A.nN(s,s.q)){this.L4=!0;A.jp(s,s.q,!1)}this.QM={GT:A.p1.oS,Ge:A.p1.HM}}else{this.eV=0;
this.zB=K.S._r(s,this.p,null);for(var l=0;l<this.zB.length;l++)if(this.zB[l][3]!=null)S=!1}var B=this.eV==1;
if(this.zB&&this.zB.length==1){var p=this.zB[0];if(p[2]!=null&&p[2].O6){var f=p[2].W3.f;if(f.length<2){t=p[2].O6[f.length==0?0:f[0]].v;
if(!q.O6.fI(t))t=null}}if(p[3]==null)B=!0;if(p[4]!=null){Y=s.p[this.p[0]].add.SoLd;if(p[1]||p[2])B=!1}}var a=r?s.q.rect.clone():K.S.dy(s,this.p);
this.Ma=a;if(!r&&Y){var D=K.S.JS(Y.nonAffineTransform);this.Ma=q.g.OH(q.Wx.T$(Y.warp.v));if(B)this.cM=new eb(Y.warp.v);
this.lo=q.P.g8(D,this.Ma);this.XT=new eC(D,!0,!0,S,!1,!1,N)}else{if(B||r)this.cM=new eb(q.Wx.m(this.Ma));
this.lo=[1,0,0,0,1,0,0,0];if(this.id==K.vN)N=3;this.XT=new eC([a.x,a.y,a.x+a.G,a.y,a.x+a.G,a.y+a.n,a.x,a.y+a.n],!0,!0,S,!1,!1,N)}this.afK=[1,0,0,0,1,0,0,0];
if(this.id==K.vN){var c,J;if(this.zB){var Z=this.zB[0][0],Q=Z.rl;c=Q[0];J=Q[1]}else if(this.QM){c=this.QM.GT;
J=this.QM.Ge}this.nK=q.o2.ab2(c,J.G,J.n)}};K.S.dy=function(s,N){if(N==null)N=s.xY(!0,null,null,!0);var r=new hq,S=new hq;
if(s.q&&N.length==1&&N[0]>=0)r=s.q.rect.clone();else for(var l=0;l<N.length;l++){var z=N[l],A=0<=z?s.p[z]:-1e3<z?s.qI[-1-z]:s.Aa[-1e3-z],B=A.add?A.add.vmsk:null,Y=0<=z?A.jD(s,N.length==1,!1,!0):-1e3<z?q.J.Ql(B._,N.length==1&&B.f.length!=0?B.f:null):A.rect.clone();
r=r.Ms(Y);if(z>0&&A.add.artb)S=S.Ms(A.M5())}return!S.Nf()?S:r};K.S.prototype.Tm=function(s,N,r,S){var z=new hU(N,!0);
z.data=r;if(S)z.k=S;s.c(z)};K.S._r=function(s,N,r){var S=[];for(var l=0;l<N.length;l++){var z=N[l],A,B;
if(z>=0){A=s.p[z];B=A.hf(s,r,!0)}else if(z>-1e3){A=s.qI[-1-z];B=[2]}else{S.push([null,null,null,null,null,null,null,s.Aa[-1e3-z].clone()]);
continue}var Y=[];if(B.indexOf(0)!=-1){var t={rl:[A.buffer.slice(0),A.rect.clone()]};Y.push(t);if(A.Pi()){var p=A.NM(s);
t.a74=p.buffer.slice(0);t.aaG=p.rect.clone()}}else Y.push(null);if(B.indexOf(1)!=-1)Y.push(A.eg().clone());
else Y.push(null);if(B.indexOf(2)!=-1)Y.push({W3:A.add.vmsk.clone(),iJ:A.add.vstk?JSON.parse(JSON.stringify(A.add.vstk)):null,SR:A.add.vstk?K.HZ.rv(s,z):null,O6:A.add.vogk?JSON.parse(JSON.stringify(A.add.vogk)):null});
else Y.push(null);if(A.add.TySh&&Y[0]){en.FS(A.add.TySh);Y.push(A.add.TySh.D.clone())}else Y.push(null);
if(A.add.SoLd&&Y[0])Y.push(JSON.parse(JSON.stringify(A.add.SoLd)));else Y.push(null);if(B.indexOf(3)!=-1)Y.push(A.NM(s).B.clone());
else Y.push(null);if(A.add.lmfx)Y.push(JSON.stringify(A.add.lmfx));else Y.push(null);S.push(Y)}return S};
K.S.Mc=function(s,N,r){for(var l=0;l<N.length;l++){var S=N[l],z=0<=S?s.p[S]:-1e3<S?s.qI[-1-S]:s.Aa[-1e3-S],A=r[l];
if(A[0]){z.rect=A[0].rl[1].clone();z.buffer=A[0].rl[0].slice(0);if(z.Pi()){var B=z.NM(s);B.buffer=A[0].a74.slice(0);
B.rect=A[0].aaG.clone()}}if(A[1]){z.eg().channel=A[1].channel.slice(0);z.eg().rect=A[1].rect.clone();
z.eg().eB=!0}if(A[2]){z.add.vmsk=A[2].W3.clone();if(A[2].SR)K.HZ.sp(z,A[2].SR);if(A[2].iJ)z.add.vstk=JSON.parse(JSON.stringify(A[2].iJ));
if(A[2].O6)z.add.vogk=JSON.parse(JSON.stringify(A[2].O6))}if(A[3]){z.add.TySh.D=A[3].clone();en.$E(z.add.TySh)}if(A[4]){z.add.SoLd=JSON.parse(JSON.stringify(A[4]))}if(A[5]){var Y=z.NM(s).B;
Y.channel=A[5].channel.slice(0);Y.rect=A[5].rect.clone()}if(A[6]){z.add.lmfx=JSON.parse(A[6])}if(A[7]){z.channel=A[7].channel.slice(0);
z.rect=A[7].rect.clone();z.eB=!0}if(0<=S){z.qB(s);z.V()}}s.V()};K.S.S5=function(s){var N=s.clone(),r=Math.atan2(-N.U,N.aC),S=new gF;
S.rotate(-r);N.concat(S);return(Math.abs(N.aC)+Math.abs(N.dX))/2};K.S.Dn=function(s,N,r,S,z,A,B,Y,t,p){if(typeof A[0]=="number"){var f=[];
for(var l=0;l<r.length;l++)f[l]=A;A=f}for(var l=0;l<r.length;l++){var a=A[l],D=q.P.Nq(a),c=K.S.S5(D),J=r[l],Z=0<=J?s.p[J]:-1e3<J?s.qI[-1-J]:s.Aa[-1e3-J],Q=S[l];
if(Z.add&&Z.add.lmfx&&Y)hC.MG(Z.add.lmfx,c);if(Q[0]&&!Q[3]&&!Q[4]&&!Q[5]){var M=Q[0].rl;if(t){var u=t.clone(),P=q.m(u.$()*4);
q.LP(M[0],M[1],P,u);M=[P,u]}var m=K.S.Vy(M,z,a,B,z==0?Z.buffer.buffer:null,null,null,p);if(m){Z.rect=m.rect;
Z.buffer=m.buffer}}if(Q[1]){var i=Z.eg();K.S.cE(s,Q[1],i,z,a,B);if(t){var u=Z.rect.PS(t),e=q.m(u.$());
q.lf(i.channel,i.rect,e,u);i.channel=e;i.rect=u}}if(Q[2]){var X=B&&!q.Wx.II(B),$=Q[2].W3.clone(),O=r.length==1&&$.f.length!=0,T=r.length==1&&$.we.length>1;
if(T)O=!1;var b=O?$.f:null,R=T?$.we:null;if(X){var w=q.Wx.T$(B);q.P.D(a,w);q.J.ac_($._,w,b,R)}else q.J.avD($._,a,b,R);
if(Z.add.vstk&&Y){Z.add.vstk.strokeStyleLineWidth.v.val=Q[2].iJ.strokeStyleLineWidth.v.val*c;var F=Q[2].SR;
if(F&&F.Hf==3){F=JSON.parse(JSON.stringify(F));var L=F.SR.phase.v;F.SR.Scl.v.val=Math.round(F.SR.Scl.v.val*c);
L.Hrzn.v=Math.round(L.Hrzn.v*c);L.Vrtc.v=Math.round(L.Vrtc.v*c);K.HZ.sp(Z,F)}}if(Z.add.vogk){Z.add.vogk=JSON.parse(JSON.stringify(Q[2].O6));
if(X||T)q.O6.aiE(Z.add.vogk);else q.O6.D(Z.add.vogk,a,r.length>1?[]:$.f,Y)}$.H0*=c;Z.add.vmsk=$;if(Z.add.vogk)q.O6.q1(Z.add.vogk,Z.add.vmsk)}if(Q[3]){var x=Q[3].clone();
x.concat(D);Z.add.TySh.D=x;en.$E(Z.add.TySh);var g=new aM(Z.add.TySh.pg,N.dw),n=ey.Ow(g,Z.add.TySh);
Z.rect=n.Ge;Z.buffer=n.sB}if(Q[4]){var h=Z.add.SoLd,_=K.S.JS(Q[4].nonAffineTransform);q.P.D(a,_);var H=q.g.nw(_);
if(eC.fn(_)){if(B){var G=q.g.OH(q.Wx.T$(Q[4].warp.v)),e=q.P.g8(_,G),j=q.g.OH(q.Wx.T$(B));_=[j.x,j.y,j.x+j.G,j.y,j.x+j.G,j.y+j.n,j.x,j.y+j.n];
q.P.D(e,_);h.warp.v=B}var v=q.P.g8(_),C=_;if(!q.P.Zb(v)){v[6]=v[7]=0;C=[0,0,1,0,1,1,0,1];q.P.D(v,C)}h.Trnf=K.S.Ua(C);
h.nonAffineTransform=K.S.Ua(_);if(h.filterFX)h.filterFX=JSON.parse(JSON.stringify(Q[4].filterFX));K.S.apS(h,D);
Z.Vw(s,z==0,N.dw)}}if(Q[5])K.S.cE(s,Q[5],Z.NM(s).B,z,a,B);if(Q[7])K.S.cE(s,Q[7],Z,z,a,B);if(0<=J){if(z!=0)Z.pS();
Z.qB(s);Z.V()}}s.V()};K.S.aG=function(s,N,r,S,z,A){if(r==null)r=!1;return K.S.Vy(s,r?0:1,q.P.tl(N),null,S,z,A,r)};
K.S.Vy=function(s,N,r,S,z,A,B,Y){if(Y==null)Y=!1;if(Y&&B)throw"e";var t={},D=0,c=.3;if(S&&!q.Wx.II(S)){var p=q.Wx.T$(S);
q.P.D(r,p);t.rect=q.g.nw(p);t.buffer=q.m(t.rect.$()*4);q.Xp.drawImage(p,s[0],s[1].G,s[1].n,t.buffer,t.rect,N==0);
return t}q.Ia(s);var f=s[0],a=s[1],J=a.$()*K.S.S5(q.P.Nq(r));if(Y&&J>4e6)c=J>8e6?2.2:1.2;while(D+3<s.length&&s[D+3].$()>16&&q.P.Zb(r)&&K.S.S5(q.P.Nq(r))<c){D+=2;
var Z=s[D],Q=s[D+1],M=a.G/Q.G,u=a.n/Q.n;r=q.P.kU(r,[1,0,a.x,0,1,a.y,0,0]);r=q.P.kU(r,[M,0,0,0,u,0,0,0]);
r=q.P.kU(r,[1,0,-a.x,0,1,-a.y,0,0]);a=Q;f=Z}var P=q.P.kU(r,q.P.tl(new gF(a.G,0,0,a.n,a.x,a.y))),m=[0,0,1,0,1,1,0,1];
q.P.D(P,m);t.rect=q.g.nw(m);if(B)t.rect=t.rect.PS(B);if(Y){while((t.rect.G&3)!=0)t.rect.G++;while((t.rect.n&3)!=0)t.rect.n++}if(!eC.fn(m)||t.rect.G>1e5||t.rect.n>1e5||t.rect.$()>3e4*3e4)return null;
var i=t.rect.$()*4;if(z&&z.byteLength>=i&&i>=z.byteLength>>2){t.buffer=new Uint8Array(z)}else{t.buffer=q.m(i)}q.P.drawImage(P,f,a.G,a.n,t.buffer,t.rect,N==0,A,Y);
if(N==2&&t.buffer){var e=t.rect.G,X=t.rect.n,$;$=[0,-1,0,-1,16,-1,0,-1,0];$=q.DD.A$($);var O=t.buffer.slice(0);
q.DD.tn(O,t.buffer,e,X,$,255,!1,!0)}if(t.buffer)return t};K.S.cE=function(s,N,r,S,z,A){if(N.color==255)q.dm(N.channel);
var B=N.rect,Y=q.m(B.$()*4);q.XX(N.channel,Y,3);var t=K.S.Vy([Y,B],S,z,A);if(t){r.rect=t.rect;r.channel=q.m(t.rect.$());
q.WZ(t.buffer,r.channel,3);r.eB=!0}if(N.color==255){q.dm(N.channel);if(t)q.dm(r.channel)}};K.S.apS=function(s,N){var r=s.filterFX;
if(r)r=r.v.filterFXList;if(r)r=r.v;if(r)for(var S=0;S<r.length;S++){var z=r[S].v.Fltr;if(z==null||z.v.classID!="rigidTransform")continue;
z=z.v;console.log(z);var A=[];for(var B=0;B<4;B++)A.push(z["PuX"+B].v,z["PuY"+B].v);q.g.D(A,N,A);for(var B=0;
B<4;B++){z["PuX"+B].v=A[B*2];z["PuY"+B].v=A[B*2+1]}var Y=["PinP","posFinalPins"],t=["originalVertexArray","deformedVertexArray"],p=z.puppetShapeList.v;
for(var f=0;f<p.length;f++){var a=p[f].v;for(var D=0;D<Y.length;D++){var c=K.S.JS(a[Y[D]]);q.g.D(c,N,c);
a[Y[D]]=K.S.Ua(c);var J=new Uint8Array(a[t[D]].v),Z=new Float32Array(J.buffer);q.g.D(Z,N,Z);var Q=[];
for(var M=0;M<J.length;M++)Q[M]=J[M];a[t[D]].v=Q}}}};K.S.JS=function(s){var N=[],r=s.v.length;for(var l=0;
l<r;l++)N.push(s.v[l].v);return N};K.S.Ua=function(s){var N={t:"VlLs",v:[]},r=s.length;for(var l=0;l<r;
l++)N.v.push({t:"doub",v:s[l]});return N};K.S.prototype.a1D=function(){var s=q.g.OH(q.Wx.T$(this.cM.E5())),N=q.P.g8(this.XT.sg(),this.Ma),r=[s.x,s.y,s.x+s.G,s.y,s.x+s.G,s.y+s.n,s.x,s.y+s.n];
q.P.D(N,r);this.XT.Zx(r);this.Ma=s};K.S.prototype.uV=function(s,N,r,S){var z=q.P.g8(this.XT.sg(),this.Ma);
z=q.P.kU(z,q.P.dm(this.lo));var A=this.cM?this.cM.E5():null;if(this.eV==0){var B=this.vP=q.P.Nq(z);if(this.id==K.vN){var Y=this.zB[0][0],t=Y.rl,p=t[1],f=~~(p.G*Math.max(0,B.aC)),a=~~(p.n*Math.max(0,B.dX)),D=new hq(Math.round(B.aC*p.x+B.JC),Math.round(B.dX*p.y+B.T3),f,a),c=q.o2.D(this.nK,D),J=s.p[this.p[0]];
J.buffer=c;J.rect=D;J.V();s.V()}else K.S.Dn(s,N,this.p,this.zB,r,z,A,null,null,S)}else if(this.eV==1){var Z=s.p[this.p[0]],p=this.QM.Ge;
if(Z.GC<=0){var Q=this.QM.GT,M=this.ZH,u=null;if(A&&!q.Wx.II(A)&&!M.rect.nR(p)){var c=q.m(M.rect.$()*4);
q.LP(Q,p,c,M.rect);Q=c;p=M.rect}if(this.id==K.vN){var B=this.vP=q.P.Nq(z),f=~~(p.G*Math.max(0,B.aC)),a=~~(p.n*Math.max(0,B.dX)),D=new hq(Math.round(B.aC*p.x+B.JC),Math.round(B.dX*p.y+B.T3),f,a),c=q.o2.D(this.nK,D);
u={buffer:c,rect:D}}else u=K.S.Vy([Q,p],r,z,A);if(u){Z.p1.oS=u.buffer;Z.p1.HM=u.rect;var P=q.m(u.rect.$());
q.WZ(Z.p1.oS,P,3);s.q={channel:P,rect:Z.p1.HM.clone()}}}else{var m=q.m(p.$()*4);q.XX(this.QM.GT,m,3);
var u=K.S.Vy([m,p],r,z,A);if(u){Z.p1.oS=q.m(u.rect.$());q.WZ(u.buffer,Z.p1.oS,3);Z.p1.HM=u.rect}this.agC(s,r,z,A)}Z.NP(s,0,0,s.q);
if(r!=0){Z.pS();q.pS(s.q)}s.Ch=!0;s.V()}else if(this.eV==2)this.agC(s,r,z,A)};K.S.prototype.agC=function(s,N,r,S){var z=this.ZH.rect,A=q.m(z.$()*4);
q.XX(this.ZH.channel,A,3);var B=K.S.Vy([A,z],N,r,S),Y=q.m(B.rect.$());q.WZ(B.buffer,Y,3);s.q={channel:Y,rect:B.rect};
s.Ch=!0};K.S.prototype.disable=function(s,N,r,S){if(this.XT)this.Rm(s,N,null,!0)};K.akK=function(){K.S.call(this,[10,16],K.ZB,"tools/transform")};
K.akK.prototype=new K.S;K.aej=function(){K.S.call(this,[7,10],K.nM,"tools/transform")};K.aej.prototype=new K.S;
K.aoM=function(){K.S.call(this,[10,48],K.vN,"tools/transform")};K.aoM.prototype=new K.S;K.qd=function(s,N,r){K.PJ.call(this,[10,46],K.sC,"tools/transform");
this.XY=[1,1,2,!0];this.Cx="rigidTransform";this.J7=null;this.a9U=null;this.tV=null;this.p2=null;this.rW=null;
this.wE=null;this.Ye=[]};K.qd.prototype=new K.PJ;K.qd.prototype.YJ=function(){return!0};K.qd.a0v=function(s){if(s==null)return!1;
if(s.f.length!=1)return!1;var N=s.p[s.f[0]];return N.add.SoLd||s.pu(!1)};K.qd.prototype.rL=function(s,N){return K.qd.a0v(s)};
K.qd.prototype.enable=function(s,N,r,S,z,A,B){this.a9U=A.tg;var Y=A.tg,t,Z=null;if(Y){var p=s.p[Y.j];
if(p.add.SoLd.filterFX!=null){var f=p.add.SoLd.filterFX.v.filterFXList.v;if(f[Y.index])t=JSON.parse(JSON.stringify(f[Y.index].v.Fltr.v))}}var a=t==null,p=s.p[s.f[0]],D=p.buffer,c=p.rect,J=p.add.SoLd;
if(J){var Q=J.nonAffineTransform.v;Z=[];for(var l=0;l<4;l++)Z.push(Q[l*2].v,Q[l*2+1].v);if(a)this.J6("edit",N);
var M=p.NM(s);D=M.buffer;c=M.rect}this.J7={buffer:D.slice(0),rect:c.clone(),a22:Z};if(a)t=K.qd.pA(this.J7,this.XY);
this.tV=t;this.p2=K.qd.op(this.tV,this.XY);this.B2();this.G0(s);if(a)this.rx(N);var u=new hU(k.E.Y,!0);
u.data={d:k.s.Em,k:this.id,LS:this.XY};N.c(u);u.data={d:k.s.Qb,BQ:"default"};N.c(u)};K.qd.prototype.disable=function(s,N,r,S){if(this.p2)this.Rm(s,N,!0)};
K.qd.prototype.B2=function(s){var N=this.p2;this.Ye=[];for(var l=0;l<N.length;l++){var r=N[l];for(var S=0;
S<r.f.length;S++)this.Ye.push([l,r.f[l]]);r.G7=q.$m.mv(r);if(s)q.$m.wk(r)}};K.qd.prototype.e_=function(s,N,r,S){if(s.nu=="commit")this.Rm(r,N,!0);
else if(s.nu=="cancel")this.wC(r,N,!0);else if(s.nu=="prm"){var z=!1;for(var l=0;l<3;l++)if(this.XY[l]!=s.LS[l])z=!0;
this.XY=s.LS;if(z){this.tV=K.qd.pA(this.J7,this.XY,this.tV);this.p2=K.qd.op(this.tV,this.XY);this.B2(!0);
this.rx(N)}this.G0(r)}else if(s.nu=="moveDepth"){var A=this.p2;for(var B=0;B<A.length;B++){var Y=A[B];
for(var l=0;l<Y.f.length;l++){var t=Y.f[l];Y.g_[t]+=s.aoS?1:-1}}this.rx(N)}};K.qd.prototype.KR=function(s,N){return s==cK.Ih||s==cK.kM};
K.qd.prototype.Rt=function(s,N,r,S){var z=S.wn();if(S.t(cK.D9))this.Rm(s,N,!0);else if(S.t(cK.Nl))this.wC(s,N,!0);
else if(S.t(cK.Ih)||S.t(cK.kM)){var A=this.p2;for(var B=0;B<A.length;B++){var Y=A[B];Y.f.sort(function(f,a){return a-f});
for(var l=0;l<Y.f.length;l++){var t=Y.f[l],p=t*2;Y.g_.splice(t,1);Y.dT.splice(t,1);Y.SS.splice(t,1);
Y.po.splice(t,1);Y.B7.splice(p,2);Y.Lc.splice(p,2)}Y.f=[];if(Y.po.length==0){Y.QC=Y.va.slice(0);Y.L2=Y.va.slice(0)}}this.B2(!0);
this.rx(N);this.G0(s)}else if(z.x!=0||z.y!=0){this.aeJ(s,z.x,z.y,N);this.AF=null}};K.qd.prototype.Rm=function(s,N,r){this.J6("confirm",N);
this.escape(s,N,r)};K.qd.prototype.wC=function(s,N,r){this.J6("cancel",N);this.escape(s,N,r)};K.qd.prototype.escape=function(s,N,r){s.R.iD=null;
s.R.Vu=[];s.kk=!0;this.p2=null;var S=new hU(k.E.Y,!0);S.data={d:k.s.vT};if(r)N.c(S)};K.qd.prototype.Vk=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=A.x,Y=A.y,t=this.p2,p=null,f=[0,2,4,1.2,1.2,1.2],a=-1,D=K.Zg(s,z);
for(var l=0;l<t.length;l++){var c=t[l],J=q.g.Us(c.Lc,B,Y,D);if(J!=-1)p=[l,J];if(a==-1&&q.$m.kR.at3(c.L2,c.IK,B,Y))a=l}if(p==null&&a!=-1){var c=t[a];
K.qd.ahY(c,B,Y,B,Y,0);p=[a,c.po.length-1];c.G7=q.$m.mv(c)}this.rW=A;if(p){var Z=t[p[0]].f.indexOf(p[1])!=-1;
if(S.t(cK.nG)&&!Z){t[p[0]].f.push(p[1]);this.Ye.push(p)}else if(!Z){t[p[0]].f=[p[1]];this.Ye=[p]}}this.G0(s)};
K.qd.ahY=function(s,N,r,S,z,A){var B=q.g.Us(s.L2,N,r);s.po.push(B);s.Lc.push(S,z);s.B7.push(s.L2[B*2]-N,s.L2[B*2+1]-r);
s.SS.push(0);s.dT.push(!1);s.g_.push(A)};K.qd.prototype.ud=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=this.rW;
if(B)this.aeJ(s,A.x-B.x,A.y-B.y,N)};K.qd.prototype.aeJ=function(s,N,r,S){var z={},A=this.Ye,B=this.p2;
if(this.AF==null){this.AF=[];for(var l=0;l<B.length;l++)this.AF.push(B[l].Lc.slice(0))}for(var l=0;l<A.length;
l++){var Y=this.Ye[l],t=Y[0],p=B[Y[0]],f=Y[1]*2;p.Lc[f+0]=this.AF[t][f+0]+N;p.Lc[f+1]=this.AF[t][f+1]+r;
z[t]=t}for(var t in z)q.$m.wk(this.p2[z[t]]);this.G0(s);this.rx(S)};K.qd.prototype.J6=function(s,N){var r=new hU(k.E.r,!0);
r.k=K.AB;r.data={d:s,tg:this.a9U,Cx:this.Cx,kc:this.tV};N.c(r)};K.qd.prototype.gE=function(s,N,r,S,z){this.rW=null;
this.AF=null};K.qd.prototype.rx=function(s){K.qd.abS(this.p2,this.XY,this.tV);this.J6("edit",s)};K.qd.prototype.G0=function(s){var N=this.p2,r=this.tV;
s.R.iD={v:[],F:[]};s.R.Vu=[];s.R.Hj=[];for(var l=0;l<N.length;l++){var S=N[l];for(var z=0;z<S.f.length;
z++)s.R.Hj.push((s.R.Vu.length>>>1)+S.f[z]);s.R.Vu=s.R.Vu.concat(S.Lc);if(this.XY[3])q.g.concat(s.R.iD,q.g.a90(S.L2,S.IK))}s.kk=!0};
K.qd.pA=function(s,N,r){var S=s.buffer,z=s.rect,A=s.a22,B=hT.yS("rigidTransform");if(A)for(var l=0;l<4;
l++){B["PuX"+l].v=A[l*2];B["PuY"+l].v=A[l*2+1]}var Y=B.puppetShapeList.v,t=q.$m.a5T(S,z.G,z.n,N[1],N[2]),p=[];
for(var f=0;f<t.length;f++){var a={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
a.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var D=t[f];Y.push({t:"Objc",v:a});var c=D.va.slice(0);q.g.D(c,new gF(1,0,0,1,z.x,z.y),c);var J=D.IK;
for(var l=0;l<J.length;l+=3){var Z=J[l+1];J[l+1]=J[l+2];J[l+2]=Z}p.push({IK:J,va:c,QC:c,L2:c,po:[],B7:[],Lc:[],G7:null,f:[],SS:[],dT:[],g_:[]})}if(r){var Q=K.qd.op(r,[]),M=p[0];
for(var l=0;l<Q.length;l++){var u=Q[l];for(var P=0;P<u.f.length;P++)M.f.push((M.Lc.length>>>1)+u.f[P]);
for(var P=0;P<u.po.length;P++){var m=u.po[P]*2,i=u.va[m]-u.B7[P*2],e=u.va[m+1]-u.B7[P*2+1];K.qd.ahY(M,i,e,u.Lc[P*2],u.Lc[P*2+1],u.g_[P])}}}K.qd.abS(p,N,B);
return B};K.qd.op=function(s,N){var r=K.S.JS,S=s.puppetShapeList.v,z=[];for(var A=0;A<S.length;A++){var B=S[A].v;
N[0]=B.meshRigidity.v-1;N[1]=B.meshQuality.v-1;N[2]=B.meshExpansion.v;var Y=B.pinVertexIndices.v.length,t=B.meshBoundaryPath.v.pathComponents.v;
if(t.length!=0){var p=t[0].v.SbpL.v[0].v.Pts;p.v=[]}var f=new Uint32Array(new Uint8Array(B.indexArray.v).buffer),a=new Float32Array(new Uint8Array(B.originalVertexArray.v).buffer),D=new Float32Array(new Uint8Array(B.deformedVertexArray.v).buffer),c=[],J=[],Z=[];
for(var l=0;l<f.length;l++)c.push(f[l]);for(var l=0;l<a.length;l++){J.push(a[l]);Z.push(D[l])}var Q=r(B.pinVertexIndices),M=r(B.pinOffsets),u=r(B.posFinalPins),P=r(B.PnRt),m=r(B.PnOv),i=r(B.PnDp),e=r(B.selectedPin);
z.push({IK:c,va:J,QC:Z.slice(0),L2:Z,po:Q,B7:M,Lc:u,G7:null,SS:P,dT:m,g_:i,f:e})}return z};K.qd.abS=function(s,N,r){function S(D,c){var J=[];
for(var l=0;l<D.length;l++)J.push({t:c,v:D[l]});return J}function z(D,c,J){var Z=new(J?Uint32Array:Float32Array)(D),Q=new Uint8Array(Z.buffer);
for(var l=0;l<Q.length;l++)c[l]=Q[l]}var A=r.puppetShapeList.v;for(var B=0;B<A.length;B++){var Y=s[B],t=A[B].v;
t.meshRigidity.v=N[0]+1;t.meshQuality.v=N[1]+1;t.meshExpansion.v=N[2];z(Y.IK,t.indexArray.v,!0);z(Y.va,t.originalVertexArray.v);
z(Y.L2,t.deformedVertexArray.v);var p=[];for(var l=0;l<Y.po.length;l++){var f=Y.po[l]*2,a=l*2;p[a]=Y.va[f]-Y.B7[a];
p[a+1]=Y.va[f+1]-Y.B7[a+1]}t.PinP.v=S(p,"doub");t.pinVertexIndices.v=S(Y.po,"long");t.pinOffsets.v=S(Y.B7,"doub");
t.posFinalPins.v=S(Y.Lc,"doub");t.PnRt.v=S(Y.SS,"long");t.PnOv.v=S(Y.dT,"bool");t.PnDp.v=S(Y.g_,"doub");
t.selectedPin.v=S(Y.f,"long")}};K.vf=function(s,N,r){K.PJ.call(this,s?s:[10,40],N?N:K.f0,r?r:"tools/slice");
this.IC=null;this.$0=null;this._F=null;this.apa=null;this.tB=null;this.D4=null};K.vf.prototype=new K.PJ;
K.vf.KB=function(s,N){var r=-1;for(var l=0;l<s.length;l++){var S=K.vf.z_(s,l);if(S[0]<=N.x&&N.x<=S[2]&&S[1]<=N.y&&N.y<=S[3]){r=l;
break}}return r};K.vf.prototype.OG=function(s,N,r,S,z){if(r==null)return;this.em(r);if(s.d=="fromAction"){var A=r._C(),B=r.W$(),Y=B==-1?new hq(0,0,r.G,r.n):r.p[B].M5(),t=[Y.x,Y.x+Y.G],p=[Y.y,Y.y+Y.n];
for(var l=0;l<A[0].length;l++){var f=A[0][l],a=Math.round(f[1]),D=A[1][l];if(D!=-1&&D!=B)continue;if(f[0]==0&&t.indexOf(a)==-1)t.push(a);
if(f[0]==1&&p.indexOf(a)==-1)p.push(a)}t.sort(function(X,$){return X-$});p.sort(function(X,$){return X-$});
for(var c=1;c<p.length;c++)for(var J=1;J<t.length;J++){r.DF.push(K.vf.DV());K.vf.iZ(r.DF,r.DF.length-1,[t[J-1],p[c-1],t[J],p[c]]);
r.kk=!0}}else if(s.d=="reorder"){if(r.v6.length==0)return;var Z=r.DF,Q=r.v6;Q.sort(function(X,$){return X-$});
console.log(Q);var M=Z.slice(0),u=[],P=[];for(var l=0;l<Q.length;l++){var m=Q[l],i=Z[m];P.push(i);M.splice(M.indexOf(i),1)}var e=Math.max(0,Math.min(M.length,Q[0]-s.dir));
for(var l=0;l<P.length;l++){M.splice(e+l,0,P[l]);u.push(e+l)}r.DF=M;r.v6=u}else if(s.d=="delete"){var Z=r.DF.slice(0);
for(var l=0;l<r.v6.length;l++)r.DF.splice(r.DF.indexOf(Z[r.v6[l]]),1);r.v6=[]}else if(s.d=="deleteAll"){r.DF=[];
r.v6=[]}else{r.DF[r.v6[0]].v=s;r.kk=!0}this.q5(r)};K.vf.prototype.enable=function(s,N,r,S,z,A){K.PJ.prototype.enable.call(this,s,N,r,S,z,A);
if(!r.Hl.DF){var B=new hU(k.E.Y,!0);B.data={d:k.s.Jl,LS:eq.el};N.c(B)}};K.vf.prototype.disable=function(){this.IC=null;
this.$0=null};K.vf.prototype.jN=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=K.vf.KB(s.DF,A);if(B==-1)return;
this.IC=s;this.$0=N;s.v6=[B];s.kk=!0;if(this.D4==null){this.D4=new hR([{name:[5,4]},{name:[8,11,1],yL:!0}]);
this.D4.W("select",this.om,this)}var Y=this.D4;Y.parent=N;Y.N();Y.update(s,r);var t=new hU(k.E.Y,!0);
t.data={d:k.s.xh,mk:Y,x:z.f_+2,y:z.FX+1};N.c(t)};K.vf.prototype.om=function(s){var N=this.D4.o4()[0],r=this.IC;
if(N==0){this.em(r);r.DF.splice(r.v6[0],1);r.v6=[];r.kk=!0;this.q5(r)}if(N==1){var S=new hU(k.E.Y,!0);
S.data={d:k.s.Pv,ic:"soptions",h:r.DF[r.v6[0]].v};this.$0.c(S)}};K.vf.prototype.Vk=function(s,N,r,S,z){if(s==null)return;
this.em(s);var A=s.a.Vd(z.x,z.y);A=K.yz.FA(s,A,r,[!0,null,!1]);A.x=Math.round(A.x);A.y=Math.round(A.y);
this.tB=A;s.DF.unshift(K.vf.DV());s.v6=[0];K.vf.iZ(s.DF,0,[A.x,A.y,A.x+20,A.y+20]);s.kk=!0};K.vf.prototype.ud=function(s,N,r,S,z){if(this._F==null)return;
var A=s.a.Vd(z.x,z.y),B=this.tB;A=K.yz.FA(s,A,r,[!0,null,!1]);A.x=Math.round(A.x);A.y=Math.round(A.y);
var Y=[B.x,B.y,A.x,A.y];K.vf.axf(Y);K.vf.iZ(s.DF,0,Y);s.kk=!0};K.vf.prototype.gE=function(s,N,r,S,z){this.q5(s);
this.tB=null};K.vf.prototype.em=function(s){this._F=JSON.stringify(s.DF);this.apa=JSON.stringify(s.v6)};
K.vf.prototype.q5=function(s){var N=JSON.stringify(s.DF);if(N!=this._F){var r=new hZ(this.name,this);
r.data={QM:this._F,ha:N,anR:this.apa,ajX:JSON.stringify(s.v6)};s.yF(r)}this._F=null};K.vf.prototype.kA=function(s,N){N.DF=JSON.parse(s.QM);
N.v6=JSON.parse(s.anR);N.kk=!0};K.vf.prototype._6=function(s,N){N.DF=JSON.parse(s.ha);N.v6=JSON.parse(s.ajX);
N.kk=!0};K.vf.prototype.KR=function(s,N){return N!=null&&N.v6.length!=0&&(s==cK.Ih||s==cK.kM)};K.vf.prototype.Rt=function(s,N,r,S){if(s==null)return;
if(S.t(cK.Ih)||S.t(cK.kM))this.OG({d:"delete"},N,s,S,r);var z=S.wn();if(z.x!=0||z.y!=0){this.em(s);K.vf.V0(s,z);
this.q5(s)}};K.vf.prototype.e_=function(s,N,r,S,z){};K.vf.aah=function(s,N,r,S){var z=new cR(-N.x,-N.y),A=N.G/r.G,B=N.n/r.n,Y=[0,0,N.G,N.n];
for(var l=0;l<s.length;l++){var t=K.vf.z_(s,l);if(S){t[0]=Math.round(t[0]*A);t[1]=Math.round(t[1]*B);
t[2]=Math.round(t[2]*A);t[3]=Math.round(t[3]*B)}else{K.vf.xz(t,z);K.vf.a9t(t,Y)}if(t[0]>=t[2]||t[1]>=t[3]){s.splice(l,1);
l--;continue}K.vf.iZ(s,l,t)}};K.vf.V0=function(s,N){var r=s.DF;for(var l=0;l<s.v6.length;l++){var S=K.vf.z_(r,s.v6[l]);
K.vf.xz(S,N);K.vf.iZ(r,s.v6[l],S)}};K.vf.a9t=function(s,N){if(s[0]<N[0])s[0]=N[0];if(s[1]<N[1])s[1]=N[1];
if(N[2]<s[2])s[2]=N[2];if(N[3]<s[3])s[3]=N[3]};K.vf.xz=function(s,N){s[0]=Math.round(s[0]+N.x);s[2]=Math.round(s[2]+N.x);
s[1]=Math.round(s[1]+N.y);s[3]=Math.round(s[3]+N.y)};K.vf.iZ=function(s,l,N){var r=s[l].v.bounds.v;r.Left.v=N[0];
r.Top.v=N[1];r.Rght.v=N[2];r.Btom.v=N[3]};K.vf.z_=function(s,l){var N=s[l].v.bounds.v;return[N.Left.v,N.Top.v,N.Rght.v,N.Btom.v,l]};
K.vf.axf=function(s){if(s[2]<s[0]){var N=s[0];s[0]=s[2];s[2]=N}if(s[2]==s[0])s[2]++;if(s[3]<s[1]){var N=s[1];
s[1]=s[3];s[3]=N}if(s[3]==s[1])s[3]++};K.vf.OH=function(s,N){var r=1e9,S=-1e9,z=1e9,A=-1e9;for(var l=0;
l<N.length;l++){var B=K.vf.z_(s,N[l]);r=Math.min(r,B[0]);z=Math.min(z,B[1]);S=Math.max(S,B[2]);A=Math.max(A,B[3])}return[r,z,S,A]};
K.vf.DV=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
K.Nx=function(){K.vf.call(this,[10,41],K.yI,"tools/sselect");this.tB=null;this.u_=null;this.bc=null;
this.wE=null;this.md=!1};K.Nx.prototype=new K.vf;K.Nx.prototype.Vk=function(s,N,r,S,z){if(s==null)return;
var A=s.a.Vd(z.x,z.y),B=K.Nx.ad9(A,4/s.a.X,s.DF,s.v6);B.pop();if(B.length!=0){this.tB=A;this.bc=B;this.em(s);
return}var Y=s.DF,t=K.vf.KB(Y,A);if(t==-1)s.v6=[];else{var p=s.v6.indexOf(t);if(S.t(cK.nG)){if(p==-1)s.v6.push(t);
else s.v6.splice(p,1)}else{s.v6.sort(function(Z,Q){return Z-Q});if(p==-1)s.v6=[t];this.tB=A;this.em(s);
this.u_=K.vf.OH(Y,s.v6);this.wE=[];for(var l=0;l<s.v6.length;l++)this.wE.push(K.vf.z_(Y,s.v6[l]));if(S.t(cK.nI)){var f=Y.slice(0),a=s.v6,D=[];
for(var l=0;l<a.length;l++){var t=a[l],c=f[t],J=Y.indexOf(c);D.push(J);Y.splice(J,0,JSON.parse(JSON.stringify(c)))}s.v6=D}}}s.kk=!0};
K.Nx.prototype.ud=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y);if(this.tB==null){var B=K.Nx.ad9(A,4/s.a.X,s.DF,s.v6),Y=B.pop(),t=B.length==0?"default":["ew","nwse","ns","nesw"][Y]+"-resize",p=new hU(k.E.Y,!0);
p.data={d:k.s.Qb,BQ:t};N.c(p);return}if(!this.md&&A.nR(this.tB))return;this.md=!0;var f=s.DF,B=this.bc;
if(B){A=K.yz.FA(s,A,r,[!0,null,!1]);var a=Math.round(A.x),D=Math.round(A.y);for(var l=0;l<B.length;l+=2){var c=K.vf.z_(f,B[l]),J=B[l+1];
c[J]=(J&1)==0?a:D;K.vf.axf(c);K.vf.iZ(f,B[l],c)}}else{var Z=A.lA(this.tB),Q=this.u_.slice(0);K.vf.xz(Q,Z);
var M=new hq(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1]),u=K.yz._Z(s,M,r,[!0,null,!1],!0);K.yz.yv(s,M,u);Z.x+=u[0];
Z.y+=u[1];for(var l=0;l<s.v6.length;l++)K.vf.iZ(f,s.v6[l],this.wE[l]);K.vf.V0(s,Z)}s.kk=!0};K.Nx.prototype.gE=function(s,N,r,S,z){if(this.tB==null)return;
this.q5(s);s.R.Tw=null;s.kk=!0;this.tB=null;this.bc=null;this.wE=null;this.md=!1};K.Nx.ad9=function(s,N,r,S){var z=s.x,A=s.y,B=[],Y=-1,t=[];
for(var l=0;l<S.length;l++){var p=S[l],f=K.vf.z_(r,p),a=f[0],D=f[1],c=f[2],J=f[3];if(z<a-N||c+N<z||A<D-N||J+N<A)continue;
var Z=[z<a+N,A<D+N,c-N<z,J-N<A],Q=-1;for(var M=0;M<4;M++){if(Z[M]&&Z[M+1&3])Q=1+2*(M&1);if(Z[M])B.push(p,M)}if(Q==-1){if(Z[0]||Z[2])Q=0;
if(Z[1]||Z[3])Q=2}if(Q!=-1){Y=Q;t.push(p)}}var u=B.length;for(var l=0;l<u;l+=2){var p=B[l],P=B[l+1],m=K.vf.z_(r,p)[P];
for(var M=0;M<S.length;M++){var i=S[M];if(t.indexOf(i)!=-1)continue;var f=K.vf.z_(r,i);if(f[P&1]==m)B.push(i,P&1);
if(f[2+(P&1)]==m)B.push(i,2+(P&1))}}B.push(Y);return B};K.vC=function(){K.eL.call(this,[10,44],K.a2I,"tools/oselect");
this.MK="crosshair";this.asB=0};K.vC.prototype=new K.eL;K.vC.prototype.ja=function(s,N,r,S){if(Math.random()<1/(1+this.asB)){alert("The cross should be fully inside the object.",3500);
this.asB++}};K.vC.prototype.ma=function(s,N,r,S){K.qA.LA(s,K.eL.vl,this.$0);if(!S.Rd||!this.pV)return;
var z=this.dy(s,r,!1),A=z.G,B=z.n,Y=z.x,t=z.y,p=z.x+A,f=z.y+B,a=Y+A/2,D=t+B/2,c=K.vC.a8V;s.R.iD={v:[Y,t,p,t,p,f,Y,f,a-A*c,D,a+A*c,D,a,D-B*c,a,D+B*c],F:"M L L L Z M L M L".split(" ")};
s.kk=!0};K.vC.a8V=.12;K.vC.prototype.$D=function(s,N,r,S){s.R.iD=null;s.kk=!0;this.finish(s,N,r,S)};
K.vC.prototype.getSelection=function(s,N,r,S){if(this.as.nR(this.u2)||!this.pV)return null;var z=this.dy(s,r,!1),A=s.p[s.f[0]];
if(z.Nf()||!z.mF(A.rect))return null;return K.eL.hy("ObSl",z)};K.qA=function(){K.kn.call(this,[10,37],K.nl,"tools/qselect");
this.h$="qselect"};K.qA.prototype=new K.kn;K.qA.prototype.Vk=function(s,N,r,S,z){K.qA.LA(s,K.eL.vl,N,!0);
this.VR(s,r,S,z,1);if(this.xj==null)return;this.Gl(s)};K.qA.prototype.ud=function(s,N,r,S,z){this.FQ(s,N,r);
K.qA.LA(s,K.eL.vl,N);if(this.Wm)this.EN(s,r,z);if(this.xj==null)return;if(!z.Rd)return;var A=this.jL(s,r,S,z);
if(A!=1)this.Gl(s)};K.qA.LA=function(s,N,r,S){if(s&&N.key!=K.qA.qZ(s)){N.key=K.qA.qZ(s);var z=s.p[s.f[0]].rect.$(),B="Image Analysis ...";
if(z==0)return;var A=z>1e6&&S!=!0,Y=new hU(k.E.Y,!0);Y.data={d:k.s.hN,dD:B};if(A)r.c(Y);var t=function(){var p=K.qA.alZ(s);
for(var f in p)N[f]=p[f];var Y=new hU(k.E.Y,!0);Y.data={d:k.s.lG,dD:B};if(A)r.c(Y)};if(S)t();else setTimeout(t,30)}};
K.qA.qZ=function(s){var N=s.f[0],r=s.p[N],S=r.rect,z=S.G,A=S.n,B=z*A,Y=r.buffer;return[N,S.x,S.y,z,A,Y[0],Y[1],Y[2],Y[3]].join(",")};
K.qA.alZ=function(s){var N=s.f[0],r=s.p[N],S=r.rect,z=S.G,A=S.n,B=z*A,Y=r.buffer,t=Date.now(),p=q.m(B);
p.fill(128);var f=q.jy.n$(Y,z,A);console.log(Date.now()-t);var a={key:K.qA.qZ(s),O8:Y,rect:S.clone(),s7:z,JY:A,KT:12,afj:!1,ND:p,yx:f,q:q.m(B),Og:null,Qf:null,lU:null};
K.qA.U8(a);return a};K.qA.U8=function(s,N){var r=s.s7,S=s.JY,z=0,A=0,B=Date.now(),Y=s.Og!=null&&q.jy.aju(s.yx.IK,s.Og.IK,s.Og.zt,s.ND);
z=Date.now()-B;B=Date.now();if(!Y&&!s.afj){s.Og=q.jy.i3(s.yx,r,S,s.ND,s.KT);if(!q.jy.aju(s.yx.IK,s.Og.IK,s.Og.zt,s.ND)){s.afj=!0;
console.log("conflict")}s.Qf=q.jy.awW(s.O8,r,S,s.Og.IK,s.Og.zt);s.lU=[s.Qf[0].slice(0),[]];A=Date.now()-B;
B=Date.now()}var B=Date.now();if(N){s.lU[0].set(s.Qf[0]);var t=s.Qf[1],p=s.lU[1];for(var f=0;f<t.length;
f++)p[f]=t[f].slice(0);q.jy.arZ(s.Og.IK,r,S,s.Og.zt,s.ND,s.q,s.lU)}};K.rq=function(){K.PJ.call(this,[10,50],K.wA,"tools/artb");
this.JW=null;this.MM=!1;this.XT=null;this.sm=!1;this.air=null;this.JL=100;this.QX=null;this.cs=0};K.rq.prototype=new K.PJ;
K.rq.prototype.OG=function(s,N,r,S,z){this.RA(r,s.abC,N,s.uy)};K.rq.a3X=function(s,N){var r=s[0],S=0,z=0;
if(r==0)z=-1;else if(r==1)S=1;else if(r==2)z=1;else S=-1;return[20/N.PL,s[1]+S*60/N.PL,s[2]+z*60/N.PL]};
K.rq.prototype.e_=function(s,N,r,S,z){this.JW=s.LS;this.cs=Date.now()};K.rq.prototype.tU=function(s,N,r,S){if(r.ru!=this.id)return;
if(s==null||s.f.length!=1){this.SH(s);return}var z=s.f[0],A=s.p[z],B=A.add.artb;if(B==null){this.SH(s);
return}if(this.sm)return;if(Date.now()-this.cs>50){this.JW={};var Y=["artboardBackgroundType","Clr"];
for(var l=0;l<Y.length;l++)if(B[Y[l]])this.JW[Y[l]]=JSON.parse(JSON.stringify(B[Y[l]]));var t=new hU(k.E.Y,!0);
t.data={d:k.s.Em,k:this.id,oT:this.JW};N.c(t)}var p=A.M5(),f=q.g.w2(p).v,a=this.XT=new eC(f,!0,!1,!1,!0,!1,3,!1);
a.sz(s,r,!1);var D={v:[1,0],F:["M"]};for(var l=1;l<30;l++){var c=Math.PI*2*l/30;D.v.push(Math.cos(c),Math.sin(c));
D.F.push("L")}D.F.push("Z","M","L","M","L");D.v.push(-.5,0,.5,0,0,-.5,0,.5);var J=p.x+p.G/2,Z=p.y+p.n/2,Q=this.JL*1.1,M=this.air=[J,p.y,p.x+p.G,Z,J,p.y+p.n,p.x,Z],u=[0,-Q,Q,0,0,Q,-Q,0],P=s.root.children;
s.R.Jx=[];for(var l=0;l<4;l++){var m=new cR(M[l*2]+u[l*2],M[l*2+1]+u[l*2+1]),i=!1;for(var e=0;e<P.length;
e++){var A=P[e].j;if(A.add.artb==null)continue;var p=A.M5();if(p.CZ(m))i=!0}if(i){M[l*2]=1e9;continue}s.R.Jx.push([l,M[l*2],M[l*2+1]])}};
K.rq.prototype.disable=function(s,N,r,S,z){this.SH(s)};K.rq.prototype.SH=function(s){if(this.XT){this.XT.clear(s);
this.XT=null;s.R.Jx=null}};K.rq.prototype.Vk=function(s,N,r,S,z){this.cs=Date.now();var A=s.a.Vd(z.x,z.y),B=this.XT;
if(B){var Y=new hU(k.E.r),t=B.a1l(null,A,s,z);if(t<9){this.sm=B.Vk(s,r,S,A,null,!0,z);return}else if(B.Tr(A)){Y.k=K.tM;
Y.data={d:"disabAuto"};N.c(Y);var p=new hU(k.E.Y);p.data={d:k.s.HQ,k:K.tM,apP:!0};N.c(p);return}else{var f=-1,a=s.R.Jx;
for(var l=0;l<a.length;l++){var D=K.rq.a3X(a[l],s.a);if(cR.iI(A,new cR(D[1],D[2]))<D[0])f=a[l][0]}if(f!=-1){var c=s.p[s.f[0]].M5(),J=c.clone(),Z=(f==0||f==2?c.n:c.G)+this.JL;
if(f==0||f==3)Z=-Z;if(f==0||f==2)c.y+=Z;else c.x+=Z;if(S.t(cK.nI)){var Q=new hq(0,0,s.G,s.n);Y.k=K.g$;
Y.data={d:y.Wo};N.c(Y);K.yz.yR(s,s.xY(null,s.f[0],null,!0),null,c.x-J.x,c.y-J.y);var M=K.Vg.Yg(s);if(M){var u=s.sQ();
u.data.Ma=Q;u.data.Xn=M}s.f=u.data.rY=s.f.slice(s.f.length-1)}else this.RA(s,c,N);return}}}this.QX=K.yz.FA(s,A,r)};
K.rq.prototype.RA=function(s,N,r,S){if(S==null)S=0;var z=s.p.slice(0),A=[s.p.length+1],B=s.tT();B.lP(eV.get([1,16,0])+" "+(s.add.artd==null?1:s.root.children.length+1));
B.add.lsct=d9.KK;B.S6(N);if(this.JW){var Y=B.add.artb,t=this.JW;for(var p in t)Y[p]=t[p]}B.M9="pass";
B.Vs=24;if(S==0){if(s.add.artd||N.PS(new hq(0,0,s.G,s.n)).Nf())z.push(s.YL());else z.unshift(s.YL())}else{var f=s.xY();
f.sort(function(Z,Q){return Z-Q});var a=K.o7.Ae(s,f,z.length-1,!1,null,!1),D=a.pop(),c=a.pop();z=a.pop();
z.splice(s.p.length-f.length,0,s.YL())}z.push(B);var J=new hU(k.E.r);J.k=K.g$;J.data={d:y.Oh,rs:z,FO:A,Ru:[1,16,2]};
r.c(J)};K.rq.prototype.ud=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=this.XT,Y=this.QX;if(B){if(this.sm){B.ud(s,r,S,A)}else{var t=B.QI(A,s.a.X,null,z);
if(t==null)t="default";var p=new hU(k.E.Y,!0);p.data={d:k.s.Qb,BQ:t};N.c(p)}}if(Y){var f=this.z_(s,A,S,r);
s.R.iD=q.g.w2(f);s.kk=!0;K.PJ.O7(z,f,s,r)}};K.rq.prototype.gE=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y),B=this.QX;
if(this.sm){this.XT.gE(s,r,S,A);this.sm=!1;var Y=q.g.nw(this.XT.sg()),t=y.h1(Y),p=s.p[s.f[0]],f=JSON.parse(JSON.stringify(p.add.artb));
f.artboardRect.v=t;var a=new hU(k.E.r,!0);a.k=K.g$;a.data={d:y.dc,qs:f};N.c(a)}if(B){var D=this.z_(s,A,S,r);
if(D.$()>20)this.RA(s,D,N);s.R.iD=null;s.kk=!0;this.QX=null;s.R.QQ=[]}};K.rq.prototype.z_=function(s,N,r,S){var z=this.QX,A=K.yz.FA(s,N,S),B=K.Oy.dS(z,A,r,!0);
z=B[0];A=B[1];return q.g.nw([z.x,z.y,A.x,A.y])};function eC(s,N,r,S,z,A,B,Y){this.On=null;this.Ig=s?s.slice(0):null;
this.bL=4;this.u2=null;this.xP=null;this.Nn=null;this.nZ=-1;this.sy=null;this.a9S=!1;this.a7o=[];for(var l=0;
l<8;l++)this.a7o.push(hg.a7$(0,PIMG.rotate,-.5,-.5,-45-l*45));this.a3f=N;this.a7S=r;this.aot=S;this.a3e=z;
this.QD=A;this.uy=B;this.acq=Y==null?1:Y}eC.prototype.abA=function(){return this.nZ!=-1};eC.prototype.sg=function(){return this.Ig.slice(0)};
eC.prototype.Zx=function(s){this.Ig=s};eC.prototype.a9C=function(){return this.FU(this.Ig)};eC.prototype.avS=function(){return this.bL};
eC.prototype.ads=function(s){this.bL=s};eC.prototype.y9=function(s){if(s==null)s=this.Ig;if(this.bL==9)return this.u2;
else return this.FU(s)[this.bL]};eC.prototype.afQ=function(s){if(this.bL==9)this.u2=s.clone();else{var N=this.y9(),r=new gF(1,0,0,1,s.x-N.x,s.y-N.y);
q.g.D(this.Ig,r,this.Ig)}};eC.prototype.QI=function(s,N,r,S){var z=this.N9(null,s,N,S),A;if(z==9)return"default";
if(z==10){if(r)return null;return!this.a3f?"move":null}if(z==-1||z==4)return null;if(z==11){var B=this.y9().lA(s);
A=90-Math.atan2(B.y,B.x)*180/Math.PI;var Y=Math.round(8*(A/360));Y=(Y+8)%8;return this.a7o[Y]}else{var t=this.XA(s,this.Ig);
A=[135,90,45,180,0,0,225,270,315][z];var p=q.P.g8(this.Ig);A+=Math.atan2(-p[3],p[0])*180/Math.PI;var f="ew nesw ns nwse ew nesw ns nwse".split(" "),Y=Math.round(8*(A/360));
Y=(Y+8)%8;return f[Y]+"-resize"}};eC.prototype.XA=function(s,N){var r=q.P.dm(q.P.g8(N)),S=new Float64Array(2);
q.P.oh(s.x,s.y,r,S);return new cR(S[0],S[1])};eC.prototype.Tr=function(s){var N=this.XA(s,this.Ig);return 0<=N.x&&N.x<=1&&0<=N.y&&N.y<=1};
eC.prototype.Vk=function(s,N,r,S,z,A,B){this.a9S=A;this.sy=S;var Y=s.a.X,t;if(this.Ig==null)S=K.yz.FA(s,S,N);
this.Nn=S.clone();if(this.Ig==null){this.Nn.offset(1,1);var p=z==null?1:1/z;this.Ig=[S.x,S.y,S.x+1,S.y,S.x+1,S.y+p,S.x,S.y+p];
t=8}else{t=this.N9(r,S,Y,B);if(0<=t&&t<=8)this.Nn=this.FU(this.Ig)[t];if(t==9){this.bL=9;this.u2=S.clone()}}this.On=this.Ig.slice(0);
this.nZ=t;this.sz(s,N);this.xP=this.y9();return t!=-1};eC.prototype.a1l=function(s,N,r,S){return this.N9(s,N,r.a.X,S)};
eC.prototype.N9=function(s,N,r,S){var z=-1,A=this.FU(),B=[0,2,6,8,1,3,5,7],Y=S?K.Zg({a:{X:r}},S):6*K.Z()/r;
if(z==-1)if(cR.iI(this.y9(),N)<Y)z=9;if(z==-1)for(var l=0;l<B.length;l++)if(cR.iI(A[B[l]],N)<Y)z=B[l];
if(z==-1&&s&&s.t(cK.nI))z=9;if(z==-1||this.uy==4){if(this.Tr(N)){if(this.a3f)z=10}else{var t=this.XA(N,this.Ig),p=new hq(0,0,1,1);
p.r6(.2,.2);z=p.CZ(t)&&this.uy!=3?11:10}}return z};eC.prototype.ud=function(s,N,r,S){if(this.nZ==-1)return;
this.sy=S;var z=r.t(cK.nG),A=r.t(cK.nI),B=r.t(cK.z6),Y=s.a.X,t=this.Nn,p=this.nZ,f=this.FU(),a=K.yz.FA(s,t,N),D=K.yz.FA(s,S,N),c,J;
if(p==9){var f=this.FU(),Z=-1;for(var l=0;l<f.length;l++)if(cR.iI(f[l],D)*Y<10)Z=l;this.bL=Z==-1?9:Z;
this.u2=z?K.gL.W2(a,D):D.clone()}else if(p==10){J=q.g.OH(this.On);var Q=J.x,M=J.y;J.offset(S.x-t.x,S.y-t.y);
if(this.amk()){J.x=Math.round(J.x);J.y=Math.round(J.y)}c=K.yz._Z(s,J,N);var u=new gF(1,0,0,1,J.x-Q+c[0],J.y-M+c[1]);
q.g.D(this.On,u,this.Ig)}else if(p==11){var P=this.y9(this.On),m=P.lA(S),i=P.lA(t),e=Math.atan2(m.y,m.x),X=Math.atan2(i.y,i.x),u=new gF(1,0,0,1,-P.x,-P.y),$=Math.PI/12;
if(z)u.rotate(Math.round((X-e)/$)*$);else u.rotate(X-e);u.translate(P.x,P.y);q.g.D(this.On,u,this.Ig)}else{var O,T=this.On,b=p==0||p==2||p==6||p==8;
if(this.uy==1){if(b)z=A=B=!0}else if(this.uy==2&&b&&this.a9S!=!0)B=!0;if(this.uy==3)B=!1;if(this.aot&&b&&B){var l=[0,0,2,0,0,0,6,0,4,0][p],R=-1,w=D.x,F=D.y;
if(z){var L=l+6&7,x=l+10&7,g=eC.a9H(T[l],T[l+1],T[L],T[L+1],D.x,D.y),n=eC.a9H(T[l],T[l+1],T[x],T[x+1],D.x,D.y),h=g[2]<n[2]?g:n;
w=h[0];F=h[1];if(A)R=g[2]<n[2]?L:x}else if(A)R=l+4&7;O=T.slice(0);if(R!=-1){var _=T[R],H=T[R+1],G=(T[l]+_)/2,j=(T[l+1]+H)/2;
O[R]=G-(w-G);O[R+1]=j-(F-j)}O[l]=w;O[l+1]=F}else if(b&&A){var P=this.xP,v=P.x,C=P.y,E=a.x-v,I=a.y-C,dJ=1,fG=1;
if(Math.abs(E)>=1)dJ=(D.x-v)/E;if(Math.abs(I)>=1)fG=(D.y-C)/I;if(z||this.QD)dJ=fG=(dJ+fG)/2;var u=new gF;
u.translate(-v,-C);u.scale(dJ,fG);u.translate(v,C);O=T.slice(0);q.g.D(O,u,O)}else{if(this.amk()){D.x=Math.round(D.x);
D.y=Math.round(D.y)}var o=[0,1,2,5,8,7,6,3],i4=o[(o.indexOf(p)+4)%8],df=[];for(var l=0;l<3;l++)for(var R=0;
R<3;R++)df.push(new cR(R/2,l/2));var P=this.xP,eO=this.XA(D,T),cO=this.XA(t,T),ej=A&&(this.bL==4||this.bL==9)?this.XA(P,T):df[i4],cn=new gF,j5=new gF,dJ=(eO.x-ej.x)/(cO.x-ej.x);
if(dJ==0)dJ=1e-4;var fG=(eO.y-ej.y)/(cO.y-ej.y);if(fG==0)fG=1e-4;if(this.a3e){dJ=Math.max(dJ,0);fG=Math.max(fG,0)}if(p==0||p==2||p==6||p==8){if(z||this.QD)cn.scale(dJ,dJ);
else cn.scale(dJ,fG)}if(p==1||p==3||p==5||p==7){var gP=this.QD;if(p==1||p==7)cn.scale(gP?fG:1,fG);else cn.scale(dJ,gP?dJ:1);
if(this.a7S&&B){if(p==1||p==7)j5.K1=(eO.x-ej.x)/(eO.y-ej.y);else j5.U=(eO.y-ej.y)/(eO.x-ej.x)}}var u=new gF;
u.translate(-ej.x,-ej.y);u.concat(cn);u.concat(j5);u.translate(ej.x,ej.y);O=[0,0,1,0,1,1,0,1];q.g.D(O,u,O);
var h=q.P.g8(T);q.P.D(h,O)}if(eC.fn(O))this.Ig=O}this.sz(s,N);if(c)K.yz.yv(s,J,c)};eC.a9H=function(s,N,r,S,z,A){var B=r-s,Y=S-N,t=z-s,p=A-N,f=B*B+Y*Y,a=t*B+p*Y,D=a/f,c=s+D*B,J=N+D*Y,Z=z-c,Q=A-J;
return[c,J,Math.sqrt(Z*Z+Q*Q)]};eC.prototype.amk=function(){var s=this.Ig;return Math.abs(s[1]-s[3])<1e-6&&Math.abs(s[2]-s[4])<1e-6||Math.abs(s[0]-s[2])<1e-6&&Math.abs(s[3]-s[5])<1e-6};
eC.fn=function(s){return q.g.R7(s)||q.g.R7([s[6],s[7],s[4],s[5],s[2],s[3],s[0],s[1]])};eC.prototype.gE=function(s,N,r,S){this.nZ=-1;
this.sy=null;s.R.Tw=null;s.R.QQ=[];s.kk=!0};eC.prototype.Rt=function(s,N,r){var S=r.wn();if(S.x||S.y){var z=new gF(1,0,0,1,S.x,S.y);
q.g.D(this.Ig,z,this.Ig);this.sz(s,N);return!0}return!1};eC.prototype.FU=function(s){if(s==null)s=this.Ig;
var N=s[6]-s[0],r=s[7]-s[1],S=s[4]-s[2],z=s[5]-s[3],A=[s[0],s[1],s[2],s[3],s[0]+N/2,s[1]+r/2,s[2]+S/2,s[3]+z/2,s[6],s[7],s[4],s[5]],B=[];
for(var l=0;l<3;l++){var Y=l*4,t=A[Y+0],p=A[Y+1],f=A[Y+2],a=A[Y+3];B.push(new cR(t,p));B.push(new cR(t+(f-t)/2,p+(a-p)/2));
B.push(new cR(f,a))}return B};eC.prototype.sz=function(s,N,r){if(r==null)r=!1;var S=this.FU(),z=S[0],A=S[2],B=S[6],Y=S[8];
s.R.iD={F:[],v:[]};s.R.iD.F.push("M","L","L","L","Z");s.R.iD.v.push(z.x,z.y,A.x,A.y,Y.x,Y.y,B.x,B.y);
var t=this.acq;if(t>1){var p=A.lA(z),f=B.lA(z),a=Y.lA(A),D=Y.lA(B);for(var l=1;l<t;l++){s.R.iD.F.push("M","L","M","L");
var c=l/t;s.R.iD.v.push(z.x+p.x*c,z.y+p.y*c,B.x+D.x*c,B.y+D.y*c);s.R.iD.v.push(z.x+f.x*c,z.y+f.y*c,A.x+a.x*c,A.y+a.y*c)}}s.a.YO=new hq(0,0,cR.iI(S[0],S[2]),cR.iI(S[0],S[6]));
if(this.nZ!=-1&&this.nZ<9&&this.sy){var J=s.a.Oo(this.sy.x,this.sy.y);K.PJ.O7(J,s.a.YO,s,N)}if(!r){s.R.zH=[];
for(var l=0;l<S.length;l++)if(l!=4)s.R.zH.push(S[l].x,S[l].y);var Z=this.y9();s.R.zH.push(Z.x,Z.y)}s.kk=!0};
eC.prototype.clear=function(s){s.a.YO=null;s.R.Tw=null;s.R.iD=null;s.R.zH=[];s.kk=!0};function eb(s,N){this.Wx=null;
this.nZ=-1;this.asq(s)}eb.prototype.E5=function(){return JSON.parse(JSON.stringify(this.Wx))};eb.prototype.asq=function(s){this.Wx=JSON.parse(JSON.stringify(s))};
eb.prototype.Tr=function(s){return!0};eb.prototype.QI=function(s,N,r,S){var z=this.N9(s,N,S);if(z==-1)return"default";
return"pointer"};eb.prototype.Vk=function(s,N,r,S,z,A,B){this.nZ=this.N9(S,s.a.X,B);return this.nZ!=-1};
eb.prototype.N9=function(s,N,r){var S=this.auL(),z=-1,A=1e6;for(var l=0;l<S.length;l++){var B=cR.iI(S[l],s);
if(B<A){z=l;A=B}}return A<(r?K.Zg({a:{X:N}},r)*2:20*K.Z()/N)?z:-1};eb.prototype.ud=function(s,N,r,S){if(this.nZ==-1)return;
var z=s.a.X,A=this.nZ,B=q.Wx.T$(this.Wx);B[A*2]=S.x;B[A*2+1]=S.y;q.Wx.LM(B,this.Wx)};eb.prototype.gE=function(s,N,r,S){this.nZ=-1;
s.kk=!0};eb.prototype.Rt=function(s,N,r){var S=r.wn();if(S.x||S.y){var z=new gF(1,0,0,1,S.x,S.y);q.g.D(this.Ig,z,this.Ig);
this.sz(s)}};eb.prototype.auL=function(s){var N=q.Wx.T$(this.Wx),r=[];for(var l=0;l<N.length;l+=2)r.push(new cR(N[l],N[l+1]));
return r};eb.prototype.sz=function(s){var N=this.auL();s.R.iD={F:[],v:[]};s.R.iD.F.push("M","C","C","C","C");
var r=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var l=0;l<r.length;l++)s.R.iD.v.push(N[r[l]].x,N[r[l]].y);
s.R.iD.F.push("M","L","L","M","L","L","M","L","L","M","L","L");r=[4,0,1,2,3,7,11,15,14,13,12,8];for(var l=0;
l<r.length;l++)s.R.iD.v.push(N[r[l]].x,N[r[l]].y);s.R.zH=[];for(var l=0;l<N.length;l++)s.R.zH.push(N[l].x,N[l].y);
s.kk=!0};eb.prototype.clear=function(s){s.R.iD=null;s.R.zH=[];s.kk=!0};function dm(){this.Ij=!1;this.ln=!1;
this.alg=!1;this.a8S=!1;this.su=!1;this.Br=!1;this.br=0;this.AA=0}dm.prototype.Vk=function(s){this.Ij=!0;
this.ln=!1;this.su=s.t(cK.nG);this.Br=s.t(cK.nI);this.br=this.su?0:1;this.AA=this.Br?0:1};dm.prototype.Rt=function(s){var N=this.a8S=s.t(cK.nG),r=this.alg=s.t(cK.nI);
if(this.ln){if(this.br==0&&!N)this.br++;if(this.br==1&&N)this.br++;if(this.AA==0&&!r)this.AA++;if(this.AA==1&&r)this.AA++}};
dm.prototype.ud=function(){this.ln=!0};dm.prototype.gE=function(){this.Ij=!1};dm.prototype.PK=function(l){if(l==0)return this.Ij?this.Br:this.alg;
if(l==1)return this.ln?this.AA==2:!1};dm.prototype.CF=function(l){if(l==0)return this.Ij?this.su:this.a8S;
if(l==1)return this.ln?this.br==2:!1};K.History=function(){K.PJ.call(this,"History",K.pI);this.nV=!0;
this.awC=0};K.History.prototype=new K.PJ;K.History.prototype.OG=function(s,N,r,S){r._R=!0;if(s.d=="h_itemchange"){if(s.index<r.Jn)for(var l=r.Jn;
l>s.index;l--)this.FI(r);if(s.index>r.Jn)for(var l=r.Jn;l<s.index;l++)this.G3(r)}if(s.d=="h_stepfwd")this.G3(r);
if(s.d=="h_stepbck")this.FI(r);if(s.d=="h_undoredo"){var z=this.nV||this.awC!=r.Jn;if(z){this.FI(r);
z=!1}else{this.G3(r);z=!0}this.nV=z;this.awC=r.Jn}if(s.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
r.history=[new hZ([1,0],null)];r.Jn=0}else this.nV=!0};K.History.prototype.FI=function(s){if(s.Jn==0)return;
var N=s.history[s.Jn];N.k.kA(N.data,s);s.Jn--};K.History.prototype.G3=function(s){if(s.Jn==s.history.length-1)return;
var N=s.history[s.Jn+1];N.k._6(N.data,s);s.Jn++};K.o7=function(){K.PJ.call(this,"Layers",K.g$);this.$0=null};
K.o7.prototype=new K.PJ;K.o7.prototype.OG=function(s,N,r,S,z){this.$0=N;var A=s.d,B=s.j!=null?s.j:r.f.length!=0?r.f[0]:r.p.length-1,Y=r.p[B];
r.J4=!0;var t=S.t(cK.nI),p=S.t(cK.nG),f=S.t(cK.z6);if(A==y.sU&&r.q==null&&(r.f.length>1||!r.pu(!1)))A=y.Wo;
if(A==y.q$){var a=new hZ([6,33],this),D=Y.Ob()?["pass"].concat(bm.sI):bm.sI,c=D[s.zr],J=s.j!=null?[s.j]:r.f,Z=JSON.stringify(J),Q=[];
for(var l=0;l<J.length;l++)Q.push(r.p[J[l]].M9);a.data={d:A,vA:Z,mx:Q,zr:c};r.yF(a);this._6(a.data,r);
this.track(dv.IY("Md",{t:"enum",v:{BlnM:bm.Cu(c)}}))}if(A==y.EX){var a,M=r.sQ(),J=s.j!=null?[s.j]:r.f,Z=JSON.stringify(J);
if(M&&M.data&&M.data.d==A&&M.data.vA==Z)a=M;else{var u=dv.IY("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(u);var Q=[];for(var l=0;l<J.length;l++)Q.push(r.p[J[l]].opacity);a=new hZ([6,32],this);a.data={d:A,vA:Z,mx:Q,zr:s.zr,o$:u.wz};
r.yF(a)}a.data.zr=s.zr;a.data.o$.T.v.Opct.v.val=Math.round(s.zr*100/255);this._6(a.data,r)}if(A==y.bG){if(Y.add.iOpa==null)Y.add.iOpa=255;
var a,M=r.sQ();if(M&&M.data&&M.data.d==A&&M.data.j==B)a=M;else{a=new hZ("Fill Opacity Change",this);
a.data={d:A,j:B,mx:Y.add.iOpa,zr:s.zr};r.yF(a)}a.data.zr=s.zr;this._6(a.data,r)}if(A==y.te){var P=s.zr,m=s.j!=null?[s.j]:r.f.slice(0),i=[],e=[],a;
for(var X=0;X<m.length;X++){var $=r.p[m[X]];if($.add.lspf==null)$.add.lspf=0;var Q=$.add.lspf,c=Q;for(var l=0;
l<P[0].length;l++){var O=P[1][l],T=1<<O;if((c&T)==0&&P[0][l])c^=T;else if((c&T)!=0&&!P[0][l])c^=T}i.push(Q);
e.push(c)}var M=r.sQ(),J=JSON.stringify(m);if(M&&M.data&&M.data.d==A&&JSON.stringify(M.data.vA)==J){a=M;
a.data.zr=e}else{var a=new hZ([6,57,1],this);a.data={d:A,vA:J,mx:i,zr:e};r.yF(a)}this._6(a.data,r)}if(A==y.ID){var b="----",R=s.EF,c=null;
for(var l=0;l<i$.c6.up.length;l++)if(Y.add[i$.c6.up[l]])b=i$.c6.up[l];var w=Y.add[b];if(R=="TySh")c=en.iE(50,50,z.Rl);
var a=new hZ("Layer Type",this);a.data={d:A,j:B,aia:[b,w],EF:[R,c]};r.yF(a);this._6(a.data,r)}if(A==y.ks){var m=[];
if(t){var F=r.sQ(),L=F?F.data:null;if(F!=null&&F.k==this&&L.d==y.ks&&L.vA.length!=1){var x=new hU(k.E.r);
x.k=K.pI;x.data={d:"h_stepbck"};N.c(x);if(L.j==B)return}var g=r.root.uc(B),n=r.xY(null,B);while(g.parent!=r.root){n.push(g.parent.index);
g=g.parent}for(var l=0;l<r.p.length;l++){var h=r.p[l],_=h.ES(),H=n.indexOf(l)!=-1;if(!H&&_)m.push(l);
if(l==B&&!_)m.push(l)}}else if(s.vA)m=s.vA;else{m.push(B);var _=r.p[B].ES(),u={uU:_?"hide":"show",wz:{classID:_?"Hd":"Shw",null:{t:"VlLs",v:[dv.kY("Lyr",!0)]}}};
this.track(u)}var a=new hZ("Layer visibility",this,!0);a.data={d:A,vA:m,j:B};r.yF(a);this._6(a.data,r)}if(A==y.ea){if(z.ru==K.wA){var G=new hU(k.E.Y);
G.data={d:k.s.HQ,k:K.tM};N.c(G)}var j=s.a9s,v=s.Iw,I,escape=!1,i4=!1;if(s.YI){if(f&&(v==0||v==1||v==2)){var C=0;
if(p)C++;if(t)C+=2;var E=new hU(k.E.r,!0);E.k=K.Kn;E.data={d:"fromlayer",PH:[s.j,v,C]};N.c(E);return}}var u={uU:"select",wz:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(r.a.$s.join("")!="111"){r.a.$s=[1,1,1];r.kk=!0}for(var l=0;l<r.p.length;l++){var h=r.p[l],dJ=h.add.vmsk;
if(h.Pi()){var fG=h.NM(r);if(fG&&fG.B&&fG.B.TU){fG.B.TU=!1;r.kk=!0}}var o=h.eg();if(o&&o.TU){o.TU=!1;
r.kk=!0}if(dJ){if(dJ.f.length!=0)dJ.f=[];if(dJ.we.length!=0)dJ.we=[]}}if(S.t(cK.z6)||s.w9==0){var df=r.f.indexOf(B);
if(df==-1)r.f.push(B);else if(r.f.length>1){if(s.w9!=0)r.f.splice(df,1)}r.f.sort(function(a,fA){return a-fA});
u.wz.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};I=B}else if(p&&!t&&v>0){A=v==1?y.so:v==2?y.SM:y.rJ;
escape=!0}else if((p||s.w9==1)&&r.f.length>0){var eO=Math.min(B,r.f[0]),cO=Math.max(B,r.f[r.f.length-1]);
r.f=[];for(var l=eO;l<=cO;l++)if(r.p[l].add.lsct!=d9.KS)r.f.push(l);u.wz.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
I=B}else{I=B;if(B>=r.p.length)return;var h=r.p[B];if(h&&h.Ob()&&s.arh)h.add.lsct=d9.KK;else if(r.f.length==1&&r.f[0]==B&&v==h.GC){i4=!0}if(!i4){r.f=[B];
r._2()}}if(!i4){if(I!=null&&I<r.p.length){u.wz.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:r.p[I].getName()}}]},this.track(u)}if(!escape){console.log("no escape");
if(r.f.length==1){var ej=r.f[0];for(var l=0;l<r.p.length;l++){if(l==ej)continue;var $=r.p[l];$.GC=0;
$.Pu=!1}var Y=r.p[ej];if(v==2){Y.Pu=!Y.Pu;r.LD=[]}else if(Y){Y.GC=v<=0?0:v}}else for(var l=0;l<r.p.length;
l++){var $=r.p[l];$.GC=0;$.Pu=!1}r.$Y=null;r._R=!0}}if(s.YI&&t){if((v==1||v==3)&&j!=null){var E=new hU(k.E.r,!0);
E.k=K.b_;E.data={d:"mskView",h:j!=0?0:p?1:2};N.c(E)}else{this.OG({d:y.DM,j:s.j},N,r,S,z)}}}if(A==y.so||A==y.rJ){var cn=A==y.so,j5=cn?Y.eg():Y.NM(r).B;
if(j5==null)return;var a=new hZ(j5.isEnabled?cn?[6,15]:[6,42]:cn?[6,14]:[6,41],this);a.data={d:A,j:B};
r.yF(a);this._6(a.data,r)}if(A==y.SM){var j5=Y.add.vmsk;if(j5==null)return;var a=new hZ(j5.isEnabled?[6,17]:[6,16],this);
a.data={d:A,j:B};r.yF(a);this._6(a.data,r)}if(A==y.awZ){var gP=Y.add.lsct==d9.KK?d9.vH:d9.KK;if(S.t(cK.z6)){var bY=r.root.uc(r.p.indexOf(Y)).parent;
for(var l=0;l<bY.children.length;l++){var gR=bY.children[l].j;if(gR.Ob())gR.add.lsct=gP}}else Y.add.lsct=gP;
r._R=!0}if(A==y.DM){if(!r.Mk(B))return;var a=new hZ(Y.hE?[6,19]:[6,18],this);a.data={d:A,j:B};r.yF(a);
if(s.zr==null||s.zr!=Y.hE)this._6(a.data,r)}if(A==y.a4s){if(Y.Ey())Y.Vs-=32;else Y.Vs+=32;r._R=!0}if(A==y.jB||A==y.Ex){var a;
if(A==y.jB)a=new hZ(Y.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(A==y.Ex)a=new hZ(Y.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
a.data={d:A,j:B};r.yF(a);this._6(a.data,r)}if(A==y.jM||A==y.fA){var ej=s.index,a;if(A==y.jM)a=new hZ(Y.add.lmfx[jG.Um[ej[0]]].v[ej[1]].v.enab.v?[6,30]:[6,29],this);
if(A==y.fA)a=new hZ(Y.add.SoLd.filterFX.v.filterFXList.v[ej].v.enab.v?[6,44]:[6,43],this);a.data={d:A,j:B,index:s.index};
r.yF(a);this._6(a.data,r)}if(A==y.Zr){if(s.src==s.lI)return;var c3=r.p[s.src],jj=r.p[s.lI],jC=c3.add.lmfx?JSON.stringify(c3.add.lmfx):"",kf=jj.add.lmfx?JSON.stringify(jj.add.lmfx):"";
if(jj.add.lmfx==null){jj.add.lmfx=JSON.parse(jG.default);for(var l=0;l<jG.order.length;l++)jj.add.lmfx[jG.Um[l]]={t:"VlLs",v:[]}}if(s.U3==null){jj.add.lmfx=JSON.parse(jC);
if(!t)delete c3.add.lmfx}else{var bz=s.U3[0],iv=jG.Um[bz];if(jG.awU.indexOf(jG.order[bz])==-1)jj.add.lmfx[iv].v=[];
jj.add.lmfx[iv].v.push(c3.add.lmfx[iv].v[s.U3[1]]);if(!t)c3.add.lmfx[iv].v.splice(s.U3[1],1)}var bI=c3.add.lmfx?JSON.stringify(c3.add.lmfx):"",jo=jj.add.lmfx?JSON.stringify(jj.add.lmfx):"";
if(!jj.Ey())jj.Vs+=32;var a=new hZ("Move Layer Styles",this);a.data={d:A,Rn:s.src,BP:s.lI,a2U:jC,acO:kf,aue:bI,a9V:jo};
r.yF(a);this._6(a.data,r)}if(A==y.AG){if(s.src!=null)B=s.src;var $=r.p[B],iZ=JSON.stringify($.add.SoLd),jD=JSON.parse(iZ),dM=jD.filterFX.v.filterFXList.v;
dM.splice(s.U3,1);var a=new hZ([6,53],this);a.data={d:y.cI,vR:[{GR:B,V6:[iZ,JSON.stringify(jD)]}]};r.yF(a);
this._6(a.data,r)}if(A==y.a2F){var ka=t,c3=r.p[s.src],jj=r.p[s.lI],ds=[];if(c3!=jj&&jj.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(c3==jj&&!ka&&(s.U3==s.oD||s.U3==-1))return;var ee=c3.NM(r),iZ=JSON.stringify(c3.add.SoLd),jD=JSON.parse(iZ),dM=jD.filterFX.v.filterFXList.v;
if(c3==jj){dM.splice(s.oD,0,dM[s.U3]);if(!ka)dM.splice(s.U3+(s.U3<s.oD?0:1),1);ds.push({GR:s.src,V6:[iZ,JSON.stringify(jD)]})}else if(s.U3==-1){var a9=jD.filterFX;
if(!ka){delete jD.filterFX;ds.push({GR:s.src,V6:[iZ,JSON.stringify(jD)],b3:[ee,null]})}var ir=jj.Pi()?jj.NM(r):null,eP=a2.a3v(ee),jh=JSON.stringify(jj.add.SoLd),fy=JSON.parse(jh);
fy.placed.v=eP.id;fy.filterFX=a9;ds.push({GR:s.lI,V6:[jh,JSON.stringify(fy)],b3:[ir,eP]})}else{var eS=dM[s.U3];
if(!ka){dM.splice(s.U3,1);ds.push({GR:s.src,V6:[iZ,JSON.stringify(jD)]})}var jh=JSON.stringify(jj.add.SoLd),fy=JSON.parse(jh);
if(fy.filterFX==null)fy.filterFX=hT.b8();var gz=fy.filterFX.v.filterFXList.v;gz.splice(s.oD,0,eS);var fi={GR:s.lI,V6:[jh,JSON.stringify(fy)]};
if(!jj.Pi()){var eP=a2.atz(jj.add.SoLd.placed.v);fi.b3=[null,eP]}ds.push(fi)}var a=new hZ([6,52],this);
a.data={d:y.cI,vR:ds};r.yF(a);this._6(a.data,r)}if(A==y.dF){var j5=Y.eg(),a=new hZ(j5.kl?[6,26]:[6,25],this);
a.data={d:A,j:B};r.yF(a);this._6(a.data,r);this.track({uU:"set",wz:{classID:"setd",null:{t:"obj ",v:[dv.kY("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:j5.kl}}}}})}if(A==y.oB){var j5=Y.add.vmsk,a=new hZ(j5.kl?[6,28]:[6,27],this);
a.data={d:A,j:B};r.yF(a);this._6(a.data,r)}if(A==y.SK){var a=new hZ("Variables / Datasets",this),fw=JSON.stringify([r.PB,r.UB]);
if(fw==s.h)return;a.data={d:A,awe:fw,asC:s.h};r.yF(a);this._6(a.data,r)}if(A==y.ut){var ce=[],a;for(var l=0;
l<r.f.length;l++){var X=r.f[l],h=r.p[X];if(h.add.vogk)ce.push(X,JSON.stringify(h.add.vogk))}for(var l=0;
l<r.LD.length;l++){var X=r.LD[l],h=r.qI[X];if(h.add.vogk)ce.push(-1-X,JSON.stringify(h.add.vogk))}q.O6.a3x(r,s.h);
var hl=[];for(var l=0;l<r.f.length;l++){var X=r.f[l],h=r.p[X];if(h.add.vogk)hl.push(X,JSON.stringify(h.add.vogk))}for(var l=0;
l<r.LD.length;l++){var X=r.LD[l],h=r.qI[X];if(h.add.vogk)hl.push(-1-X,JSON.stringify(h.add.vogk))}var M=r.sQ();
if(M&&M.data&&M.data.d==A){var ia=!0;for(var l=0;l<ce.length;l+=2)if(ce[l]!=M.data.c9[l])ia=!1;if(ia){a=M;
a.data.ll=hl}}if(a==null){var a=new hZ([12,91,1],this);a.data={d:A,c9:ce,ll:hl};r.yF(a)}this._6(a.data,r)}if(A==y.dc){var iQ=JSON.stringify(Y.add.artb),em=JSON.stringify(s.qs),a;
r.p[B].add.artb=JSON.parse(em);var k4=new hq(0,0,r.G,r.n),ar=K.Vg.tr(r),M=r.sQ();if(M&&M.data&&M.data.d==A&&M.data.j==B){a=M;
a.data.qs=em}if(a==null){var a=new hZ("Editing Artboard",this);a.data={d:A,j:B,acD:iQ,qs:em,Ma:k4};r.yF(a)}a.data.Xn=ar;
this._6(a.data,r)}if(A==y.xn){var hl=r.Aa.slice(0),fg=r.rz.slice(0),bU=r.q,dn=r.q;if(s.Xy=="fromAction"){var aJ=s.h.uU,bE=s.h.wz;
if(aJ=="make"||aJ=="duplicate"){var ew=hl.length,eT=!1,du=!1;if(r.Y4())ew--;var jy=new y.pk;jy.name="Alpha "+(ew+1);
if(aJ=="make"){var c_=bE.Nw.v;jy.color=255;fg=[ew];jy.TU=!0;jy.Dc=c_.Opct.v;if(c_.Nm)jy.name=c_.Nm.v;
if(c_.classID=="SCch"){eT=!0;dn=null;jy.fW=1}}else{var f9=bE.null.v[0].v;if(f9.keyID=="fsel")eT=!0;else{var bp=K.eL.I8(r);
dn=K.eL.pe(r,bp);jy.color=0;jy.rect=dn.rect;jy.channel=dn.channel}}if(eT){jy.color=0;if(r.q){jy.rect=r.q.rect.clone();
jy.channel=r.q.channel.slice(0)}if(du){jy.color=255-jy.color;q.dm(jy.channel)}}hl.splice(ew,0,jy)}else if(aJ=="delete"){if(Y&&Y.eg()&&Y.GC==1){this.OG({d:y.lH},N,r,S,z);
return}var n=r.rz;n.sort(function(a,fA){return fA-a});if(n.length==0)return;for(var l=0;l<n.length;l++)hl.splice(n[l],1);
fg=[]}else if(aJ=="hide"){hl[fg[0]]=hl[fg[0]].clone();hl[fg[0]].TU=!1}}if(s.Xy=="rnm"){hl[s.Jb]=hl[s.Jb].clone();
hl[s.Jb].name=s.name}var a=new hZ("Channel Edit",this);a.data={d:A,c9:r.Aa.slice(0),Yl:r.rz.slice(0),ll:hl,j$:fg,ZH:bU,FO:dn};
this._6(a.data,r);r.yF(a)}if(A==y.Oh){var aL=new hq(0,0,r.G,r.n),a=new hZ(s.Ru,this);a.data={d:y.Oh,_p:r.p.slice(0),rs:s.rs,js:r.f.slice(0),rY:s.FO};
r.yF(a);this._6(a.data,r);var f8=K.Vg.Yg(r);if(f8){a.data.Ma=aL;a.data.Xn=f8}}if(A==y.iN){var aE=r.xY(null,s.j),jK=1e10;
if(aE.length==0)return;if(r.p.length==aE.length){alert("Project must have at least 1 layer");return}var be=[];
for(var l=0;l<r.p.length;l++)if(aE.indexOf(l)==-1)be.push(r.p[l]);for(var l=0;l<aE.length;l++)jK=Math.min(jK,aE[l]);
jK=Math.max(jK-1,0);while(be[jK].name=="</Layer group>")jK++;this.track({uU:"delete",wz:{classID:"Dlt",null:dv.kY("Lyr",!0)}});
var k4=new hq(0,0,r.G,r.n),a=new hZ([6,31],this);a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:[jK]};
r.yF(a);this._6(a.data,r);var ar=K.Vg.tr(r);if(ar){a.data.Xn=ar;a.data.Ma=k4;K.Vg.Yg(r)}}if(A==y.GE){if(!S.t(cK.nG))return;
var a=new hZ("Switch Layer Link",this);a.data={d:A,j:s.j};r.yF(a);this._6(a.data,r)}if(A==y.qR){var n=s.ac5?s.ac5:r.f,ad=0,hE=!1;
if(n.length==0)return;if(n.length==1&&r.p[n[0]].LW==0){alert(eV.get([15,7,5]));return}var iF=[];for(var l=0;
l<r.p.length;l++){var c0=r.p[l].LW;iF.push(c0);ad=Math.max(ad,c0)}var hJ=-1,cZ=-1;for(var l=0;l<n.length;
l++){var c0=r.p[n[l]].LW;if(c0==0)hE=!0;else if(hJ==-1||hJ==c0)hJ=c0;else cZ=c0}if(!hE)for(var l=0;l<n.length;
l++)r.p[n[l]].LW=0;else if(hJ!=-1&&cZ==-1)for(var l=0;l<n.length;l++)r.p[n[l]].LW=hJ;else for(var l=0;
l<n.length;l++)r.p[n[l]].LW=ad+1;var dS=[];for(var l=0;l<r.p.length;l++){var c0=r.p[l].LW;if(dS[c0]==null)dS[c0]=0;
dS[c0]++}for(var l=0;l<r.p.length;l++){var c0=r.p[l].LW;if(dS[c0]==1)r.p[l].LW=0}var gh=iF;iF=[];for(var l=0;
l<r.p.length;l++){var c0=r.p[l].LW;iF.push(c0);ad=Math.max(ad,c0)}var a=new hZ(hE?[6,54,0]:[6,54,1],this);
a.data={d:y.qR,aal:gh,abp:iF};r.yF(a);this._6(a.data,r)}if(A==y.Wo&&(s.j!=null||r.f.length!=0)||A==y.H$){var ih=r.st(A==y.Wo?s.j:B,null,s.a5g),d4;
if(A==y.H$){var $=ih[0],aJ=$.add.SoLd.Idnt.v,a3=r.mu(aJ).clone();$.add.SoLd.Idnt.v=a3.eq=a2.hX()+aJ.slice(8);
r.add.lnk2.push(a3)}if(A==y.Wo){var bT={uU:"duplicate",wz:{classID:"null",null:dv.kY("Lyr",!0)}};if(s.sx){ih[0].lP(s.sx);
bT.Nm={t:"TEXT",v:s.sx}}this.track(bT);s.ajJ=s.j}A=y.wO;s.p=ih;s.oi=r;s.wX=r}if(A==y.wO){var dP,i2,eF=s.oi,hp=s.wX,fQ=0,gL=0,e5=!1,dU,ic=0,eL=0;
if(eF!=hp){console.log("ADDLAYERS different projs");var dP=new hq(0,0,eF.G,eF.n),i2=new hq(0,0,hp.G,hp.n),dt=[],iw=[];
for(var l=0;l<s.p.length;l++){var $=s.p[l];if($.add.SoLd==null)continue;var aJ=$.add.SoLd.Idnt.v;if(dt.indexOf(aJ)==-1){dt.push(aJ);
iw.push(a2.hX()+aJ.slice(8))}$.add.SoLd.Idnt.v=iw[dt.indexOf(aJ)];var ee=$.NM(eF);if(ee){eF.ct(ee);hp.Zf(ee)}}if(dt.length>0){if(hp.add.lnk2==null)hp.add.lnk2=[];
for(var l=0;l<dt.length;l++){var cP=eF.mu(dt[l]),a3=cP.clone();a3.eq=iw[l];hp.add.lnk2.push(a3)}}}var bU=hp.f.slice(0);
bU.sort(function(a,fA){return a-fA});var be=hp.p.slice(0),dn=[],f0=-1;for(var l=0;l<bU.length;l++)f0=Math.max(f0,bU[l]);
if(s.ajJ!=null)f0=s.ajJ;var aq=eF.W$();if(s.KQ){f0=s.KQ-1;var aB=hp.p[s.KQ].M5();fQ+=aB.x;gL+=aB.y}if(aq!=-1&&(eF!=hp||s.KQ)){var dT=eF.p[aq].M5();
fQ-=dT.x;gL-=dT.y}var jB=hp._C();f0++;for(var l=0;l<s.p.length;l++){var h=s.p[l],e8=h.add.artb;be.splice(f0,0,h);
dn.push(f0);f0++;if(e8){dU=!0;var bK=e8.guideIndeces;if(bK){bK=bK.v;console.log(bK);for(var cl=0;cl<bK.length;
cl++){jB[0].push(eF.K0[bK[cl].v].slice(0));jB[1].push(be.indexOf(h));e5=!0}}}}for(var l=0;l<s.p.length;
l++){var h=s.p[l];if(h.add.lsct==d9.KS){if(ic==0)eL++;ic++}else if(h.Ob())ic--}if(eL==1)dn=[f0-1];var a=new hZ([6,0],this);
a.data={d:y.Oh,_p:hp.p.slice(0),rs:be,js:bU,rY:dn};if(e5){a.data.OB=[hp._C(),jB]}hp.yF(a);this._6(a.data,hp);
if(fQ!=0||gL!=0)K.yz.yR(hp,hp.xY(),null,fQ,gL);if(dU){a.data.Ma=new hq(0,0,hp.G,hp.n);a.data.Xn=K.Vg.tr(hp);
K.Vg.Yg(hp)}}if(A==y.anl){var i6=s.j!=null?[s.j]:r.xY(),be=r.p.slice(0);for(var l=0;l<i6.length;l++){var h=r.p[i6[l]].clone();
h.$h(r);be.splice(i6[l],1,h)}var a=new hZ([6,8],this);a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:r.f.slice(0)};
r.yF(a);this._6(a.data,r)}if(A==y.a9h){var be=r.p.slice(0),h=be[r.f[0]]=be[r.f[0]].clone(),ke=h.add.lmfx,h8,aB;
delete h.add.lmfx;var dC=r.f[0],cL=dC+1;if(h.Ob()){var ei=r.p[r.f[0]].Lo;aB=ei.akF;h8=ei.DH;var g=r.root.uc(dC);
dC=g.$v}else{aB=h.rect;h8=q.m(aB.$());q.WZ(h.buffer,h8,3)}var hk=hC.mU(ke,h.add.fxrp,h8,aB,r,aB).type;
for(var l=0;l<jG.order.length;l++){var al=jG.order[l],bn=hk[al];bn.reverse();for(var cl=0;cl<bn.length;
cl++){var kb=bn[cl],J=r.tT(),fm=l>7;if(al=="ebbl"){if(kb.Qr||kb.Cz){var jn=kb.Qr?kb.Qr:kb.Cz;if(kb.Qr)delete kb.Qr;
else delete kb.Cz;if(kb.Cz||kb.Ls)cl--}else if(kb.Ls||kb.BX){var jn=kb.BX?kb.BX:kb.Ls;if(kb.BX){delete kb.BX;
if(kb.Ls)cl--}fm=!0}kb=jn}J.M9=kb.hC;J.opacity=Math.round(255*kb.UJ);J.buffer=kb.sB;J.rect=kb.zc.clone();
J.rect.offset(aB.x,aB.y);if(al=="FrFX"){J.buffer=J.buffer.slice(0);q.XX(kb.T2?kb.T2:kb.yw,J.buffer,3);
if(kb.T2){fm=!0;delete kb.T2;if(kb.yw)cl--}}J.hE=!fm;J.lP(h.getName()+"'s "+eV.get(jG.names[l]));be.splice(fm?dC:cL,0,J);
if(fm)cL++}}var a=new hZ("Styles to Layers",this);a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:[cL-1]};
r.yF(a);this._6(a.data,r)}if(A==y.bd){var i6=r.xY(),be=r.p.slice(0),i7=new hq(0,0,r.G,r.n);for(var l=0;
l<i6.length;l++){var eE=r.p[i6[l]],jt=eE.ES();eE.pQ(!0);var cv=r.root.uc(i6[l]);if(eE.Ob())continue;
if(cv==null)continue;var h=eE.clone();h.$h(r);var dB=cv.dy(r,!0),c5=r.p;r.uZ([eE]);r.V();r.im();h.buffer=q.m(dB.$()*4);
q.LP(r.r9(),i7,h.buffer,dB);h.rect=dB;h.opacity=255;h.add.iOpa=255;h.M9="norm";h.V();h.Lo.nW=!0;r.uZ(c5);
if(h.add.lmfx)delete h.add.lmfx;h.B=h.oR=null;be.splice(i6[l],1,h);h.pQ(jt);eE.pQ(jt)}var a=new hZ([6,34],this);
a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:r.f.slice(0)};r.yF(a);this._6(a.data,r)}if(A==y.au5){var i6=r.xY(),be=r.p.slice(0);
for(var l=0;l<i6.length;l++){var h=r.p[i6[l]],eU=h.add.TySh;if(eU==null)continue;var $=new aM(eU.pg,z.dw),bb=q.g.sO(ey.Iu($,eU));
for(var hF in bb){var cX=bb[hF],gR=h.clone();delete gR.add.TySh;gR.Vs=gR.Vs|1<<4;gR.add.SoCo=JSON.parse(JSON.stringify(jG.WX[0]));
var hM=gR.add.SoCo.Clr.v;hM.Rd.v=parseInt(hF.slice(1,3),16);hM.Grn.v=parseInt(hF.slice(3,5),16);hM.Bl.v=parseInt(hF.slice(5,7),16);
var cc=new y.kL;cc._=q.g.m0(cX,!1);if(gR.add.vmsk!=null){gR.add.vmsk.a86();cc.concat(gR.add.vmsk)}gR.add.vmsk=cc;
gR.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));gR.dn();gR.qB(r);be.splice(be.indexOf(h),0,gR)}be.splice(be.indexOf(h),1)}var dn=r.f.slice(0);
for(var l=dn.length-1;l>=0;l--)if(dn[l]>=be.length)dn.splice(l,1);var a=new hZ([6,40],this);a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:dn};
r.yF(a);this._6(a.data,r)}if(A==y.a2g){var ea=r.f.length;if(ea<2){alert("Select two or more layers.");
return}if(!r.Lr())return;var gR=r.p[r.f[0]].clone(),be=[];for(var l=0;l<r.p.length;l++)if(r.f.indexOf(l)==-1)be.push(r.p[l]);
be.splice(r.f[0],0,gR);for(var l=1;l<ea;l++)if(r.p[r.f[l]].rect.$()>2e6){alert("Blended areas are too large.");
return}for(var l=1;l<ea;l++){var h=r.p[r.f[l]],eK=h.rect.clone();eK.r6(1,1);var fA=q.m(eK.$()*4);q.LP(h.buffer,h.rect,fA,eK);
gR.extend(eK);var i9=q.m(eK.$()*4);q.LP(gR.buffer,gR.rect,i9,eK);var a=q.m(eK.$());q.WZ(fA,a,3);q.round(a,200);
q.XX(a,fA,3);q.Q.VP("norm",fA,eK,i9,eK,eK,1);q.wU.m8(i9,a,eK);q.LP(i9,eK,gR.buffer,gR.rect)}var a=new hZ([2,10,0],this);
a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:[r.f[0]]};r.yF(a);this._6(a.data,r)}if(A==y.uT){var be=r.p.slice(0),fg=r.f.slice(0);
for(var l=0;l<be.length;l++){var h=be[l],dJ=h.add.vmsk;if(h.wu()&&dJ&&h.add.vstk.strokeEnabled.v&&!h.add.vstk.fillEnabled.v){var bX=dJ._,j9=0,h2=-1;
for(var cl=0;cl<bX.length;cl++){if((bX[cl].type==0||bX[cl].type==3)&&bX[cl].my!=-1){j9++;if(bX[cl].type==3&&h2==-1){bX[cl].cd=bX[cl].my=1;
h2=cl}}}console.log(h.getName(),j9);if(j9>1&&h2!=-1&&j9<10){console.log("separating an open path into a new layer");
h=h.clone();dJ=h.add.vmsk;bX=dJ._;var J=bX[h2].length,bC=h.clone();bC.add.lyid=r.tq();dJ._=bX.slice(0,2).concat(bX.slice(h2,h2+J+1));
dJ.f=[];h.qB(r);h.V();var cV=bC.add.vmsk._;bC.add.vmsk._=cV.slice(0,h2).concat(cV.slice(h2+J+1,cV.length));
bC.add.vmsk.f=[];bC.qB(r);be[l]=h;be.splice(l+1,0,bC);for(var cl=0;cl<fg.length;cl++)if(fg[cl]>l)fg[cl]++;
var iJ=fg.indexOf(l);if(iJ!=-1){fg.splice(iJ+1,0,l+1)}}}}if(be.length!=r.p.length){var a=new hZ("Splitting open paths",this);
a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:fg};r.yF(a);this._6(a.data,r)}}if(A==y.l1){this.OG({d:y.uT},N,r,S,z);
var bU=r.f.slice(0),c5=r.p.slice(0),i6=r.xY();if(i6.length==0)return;r.a12(i6,!1,s.v_);var a=new hZ([6,36,0],this);
a.data={d:y.Oh,_p:c5,rs:r.p.slice(),js:bU,rY:r.f.slice(0)};r.yF(a);this._6(a.data,r)}if(A==y.a2N){var iZ=Y.add.SoLd;
if(iZ==null)return;var aJ=iZ.Idnt.v,ft=r.mu(aJ);ft.r9(!1);var bx=ft.t1[0],eK=ft.t1[1];if(q.Fq(bx)){alert("The smart object contains transparency.");
return}var kg=hg.Pp("jpg").Bj([[bx.buffer]],eK.G,eK.n,[90]);this.OG({d:y.Ce,jO:r,data:new Uint8Array(kg),id:aJ,v_:"jpg"},N,r,S,z);
console.log(r.add);return}if(A==y.Ce){var cP=s.jO.mu(s.id),a3=cP.clone();a3.raw=s.data;if(s.Ff)a3.Ff=s.Ff;
if(s.v_){a3.cB="    ";a3.Hf="    ";a3.Ff=a3.Ff+"."+s.v_}else{a3.cB="8BIM";a3.Hf="8BPB";a3.Ff=a3.Ff+(a3.Ff.endsWith(".psd")?"":".psd")}a3.r9(!1);
cP.r9(!1);var a=new hZ([6,36,1],this);a.data={d:y.Ce,id:s.id,Lm:cP,EE:a3};s.jO.yF(a);this._6(a.data,s.jO)}if(A==y.BV){var a=new hZ([6,36,4],this);
a.data={d:A,j:B,kj:Y.add.SoLd.Impr.v.classID,zr:s.zr};r.yF(a);this._6(a.data,r)}if(A==y.au3){var f$,iO;
if(s.cW){f$=s.jO;iO=s.cW}else{s.jO.$S();s.jO.xV();s.jO.V();s.jO.im();s.jO.r9();f$=hg.Pp("PSD").Bj(s.jO,0,0,[!0,!0]);
iO=s.jO.name}if(!(f$ instanceof ArrayBuffer))throw"e";f$=new Uint8Array(f$);var df=s.OK;if(df==null){if(r.f.length==0)df=r.f.length;
else{var dy=r.f[r.f.length-1],J=r.p[dy];df=J.Ob()?dy:dy+1}}var aG=new hq(0,0,r.G,r.n),jl=r.W$();if(jl!=-1)aG=r.p[jl].M5();
var e4=r.uo(f$,iO,0,0,aG,z.dw,N),be=r.p.slice(0);be.splice(df,0,e4);var a=new hZ([6,36,2],this);a.data={d:y.Oh,_p:r.p.slice(),rs:be,js:r.f.slice(0),rY:[be.indexOf(e4)]};
r.yF(a);this._6(a.data,r)}if(A==y.z8&&s.Xy=="merge"){var gw=[],h9=r.root.children,fN=0;for(var l=0;l<h9.length;
l++){var g=h9[l],h=g.j,cB=g.children,aO=!0;if(!h.Ob()||cB.length==0)continue;for(var cl=0;cl<cB.length;
cl++)if(!cB[cl].j.getName().startsWith("_a_")){aO=!1;break}if(aO)gw.push(r.p.indexOf(h))}var jz=[];for(var l=0;
l<gw.length;l++)if(r.f.indexOf(gw[l])!=-1)jz.push(gw[l]);if(jz.length>=2)gw=jz;if(gw.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var ef=[];for(var l=0;l<gw.length;l++)ef.push(r.p[gw[l]].getName());var bn=[];for(var jr=0;jr<gw.length;
jr++){var g=r.root.uc(gw[jr]),fi=[[],[],0,jr];bn.push(fi);for(var l=0;l<g.children.length;l++){var X=g.children[l].index,h=g.children[l].j,jy=h.getName(),fB=20,gC=jy.split(",");
if(gC.length>1){var hw=parseInt(gC.pop());if(!isNaN(hw)&&hw!=0)fB=hw}fi[0].push(h);fi[1].push(fB);fi[2]+=fB}}bn.sort(function(a,fA){return fA[2]-a[2]});
var jR=bn[0],ji=jR[2];for(var cT=1;cT<bn.length;cT++){var fi=bn[cT],gg=1,dG=fi[1].slice(0),k8=0;while((gg+1)*fi[2]<=jR[2]){gg++;
dG=dG.concat(fi[1])}fi[1]=dG;fi[2]*=gg;var bl=jR[2]/fi[2];for(var l=0;l<fi[1].length;l++){var eg=Math.floor(fi[1][l]*bl);
fi[1][l]=eg;k8+=eg}while(k8<ji){k8++;fi[1][fi[1].length-1]++}fi[2]=k8}var cp=[],j8=[],eg=[];for(var l=0;
l<bn.length;l++){cp.push(0);j8.push(0)}while(fN<ji){var jA=1e9,ew=-1;for(var l=0;l<bn.length;l++){var iu=bn[l][1],dC=cp[l];
if(dC!=iu.length&&j8[l]+iu[dC]<fN+jA){ew=l;jA=j8[l]+iu[dC]-fN}}j8[ew]+=bn[ew][1][cp[ew]];cp[ew]++;if(jA!=0){eg.push(jA);
fN+=jA}}for(var l=1;l<eg.length;l++){var eu=eg[l];if(eu<16&&(eg[l-1]<16||l<eg.length-1&&16<=eg[l+1])){eg[l-1]+=eu;
eg.splice(l,1);l--}}var jt=[],i7=new hq(0,0,r.G,r.n);for(var l=0;l<r.p.length;l++){jt[l]=r.p[l].ES();
r.p[l].pQ(!1)}var hB=r.f.slice(0);r.f=gw;var aE=r.xY();aE.sort(function(a,fA){return a-fA});var be=[];
for(var l=0;l<r.p.length;l++){if(aE.indexOf(l)==-1)be.push(r.p[l])}bn.sort(function(a,fA){return a[3]-fA[3]});
function bD(iu,g3){var l=0,cN=0;while(cN+iu[l]<=g3){cN+=iu[l];l++}return l}fN=0;be.splice(aE[0],0,r.YL());
for(var er=0;er<eg.length;er++){var m=[];for(var l=0;l<bn.length;l++){var dC=bD(bn[l][1],fN)%bn[l][0].length,h=bn[l][0][dC];
m.push(h)}var h=r.tT();for(var l=0;l<bn.length;l++){var c4=m[l],bY=r.p[gw[l]];c4.pQ(!0);bY.pQ(!0)}r.V();
r.im();var bx=r.r9();h.rect=q.DK(bx,i7,2);h.buffer=q.m(h.rect.$()*4);q.LP(bx,i7,h.buffer,h.rect);for(var l=0;
l<bn.length;l++){var c4=m[l],bY=r.p[gw[l]];c4.pQ(!1);bY.pQ(!1)}h.pQ(er==0);h.lP("_a_frm"+er+","+eg[er]);
be.splice(aE[0]+1+er,0,h);fN+=eg[er]}var h=r.tT();h.lP(ef.join(" + "));h.M9="pass";h.add.lsct=d9.vH;
h.Vs=24;be.splice(aE[0]+1+eg.length,0,h);for(var l=0;l<r.p.length;l++)r.p[l].pQ(jt[l]);var a=new hZ([6,12,0],this);
a.data={d:y.Oh,_p:r.p,rs:be,js:hB,rY:[aE[0]+1+eg.length]};r.yF(a);this._6(a.data,r)}if(A==y.Qu||A==y.gN){var iS=r.f.length==1,e_=!0,e4,dn;
if(iS&&r.f[0]==0)return;var c5=r.p.slice(0),bU=r.f.slice(0);if(iS)r.f=[B,B-1];if(A==y.gN){r.f=[];for(var l=0;
l<r.p.length;l++)if(r.p[l].ES())r.f.push(l)}var i6=r.xY();i6.sort(function(a,fA){return a-fA});var cr=new hq,i7=new hq(0,0,r.G,r.n);
for(var l=0;l<i6.length;l++){var X=i6[l],h=r.p[X];e_=e_&&h.wu()&&h.add.vmsk!=null;cr=cr.Ms(r.root.uc(X).dy(r,!0))}if(e_){e4=r.p[i6[0]].clone();
var dJ=e4.add.vmsk;for(var l=1;l<i6.length;l++){var J=r.p[i6[l]],cV=y.kL.AM(J.add.vmsk._);dJ._=dJ._.concat(cV.slice(2));
e4.add.vogk=e4.add.vogk.concat(JSON.parse(JSON.stringify(J.add.vogk)))}e4.add.vmsk.eB=!0;e4.qB(r)}else if(i7.V9(cr)){e4=r.tT();
e4.lP(r.p[i6[i6.length-1]].getName());e4.rect=cr;e4.buffer=q.m(cr.$()*4);var jZ=r.add.artd;delete r.add.artd;
var gb=r.r9(i6);if(jZ)r.add.artd=jZ;q.LP(gb,i7,e4.buffer,cr);e4.pS();e4.V()}else{r.a12(i6,!0);e4=r.p[r.f[0]];
r.p.splice(r.f[0],1);var bk=r.mu(e4.add.SoLd.Idnt.v);r.add.lnk2.splice(r.add.lnk2.indexOf(bk),1);delete e4.add.SoLd}var e0=t,cH=-1;
if(s.wz&&s.wz.Dplc&&s.wz.Dplc.v)e0=!0;if(e0&&A==y.gN&&r.p[bU[0]].ua()&&r.p[bU[0]].rect.Nf()){cH=bU[0]}if(cH!=-1||iS){var aF=r.p[cH!=-1?cH:B-1];
e4.lP(aF.getName());e4.add.lclr=aF.add.lclr}var be=[];for(var l=0;l<r.p.length;l++)if(e0||i6.indexOf(l)==-1)if(l!=cH)be.push(r.p[l]);
var gy=i6[i6.length-1],bA=gy==r.p.length-1?null:r.p[gy+1],kl=bA?be.indexOf(bA):be.length;be.splice(kl,0,e4);
dn=[kl];var a=new hZ([6,12,0],this);a.data={d:y.Oh,_p:c5,rs:be,js:bU,rY:dn};r.yF(a);this._6(a.data,r)}if(A==y.aih){var gR=r.tT();
gR.rect=new hq(0,0,r.G,r.n);gR.buffer=q.m(gR.rect.$()*4);q.TM(gR.buffer,4294967295);q.Q.VP("norm",r.r9(),gR.rect,gR.buffer,gR.rect,gR.rect,1);
gR.lP("Background");gR.add.lspf=1<<2;var a=new hZ([6,12,1],this);a.data={d:y.Oh,_p:r.p.slice(),rs:[gR],js:r.f.slice(0),rY:[0]};
r.yF(a);this._6(a.data,r)}var j$=A==y.sU||A==y.ZY;if(A==y.Jj||A==y.MP||A==y.E$||A==y.MS||j$){var h=j$?r.st()[0]:r.tT(),fd=eV.get([0,3]),h4=s.sx,iD=!1,ec,aP;
if(A==y.E$)fd=eV.get([12,76,1]);if(j$){if(r.q){var eE=r.p[r.f[0]],fj=eE.cN(r,r.q);if(fj==null){alert("Copied area is empty");
return}h.rect=fj.rect;h.buffer=fj.GT;h.$h(r);h.pQ(!0)}else h4=h.getName();h.add.lspf=0;h.hE=!1;if((h.Vs&1)!=0)h.Vs--}if(A==y.MS){h.rect=K.o7.al1(s.ji,r);
h.buffer=s.ji.buffer.slice(0);if(s.vs&&r.q){h.B=new y.pk;h.B.rect=r.q.rect;h.B.color=0;h.B.channel=r.q.channel.slice(0)}}if(A==y.Jj){this.track({uU:"make",wz:{classID:"Mk",null:dv.kY("Lyr")}})}if(A==y.MP){h.Vs|=16;
var iI=s.wz.Usng.v,g1=iI.Type.v,gV=ai.Tv[g1.classID];fd=eV.get(ai.names[gV]);if(iI.Nm)h4=iI.Nm.v;h.add[gV]=hT.yS(gV);
if(h.add[gV]==null)h.add[gV]={};for(var gU in g1)h.add[gV][gU]=JSON.parse(JSON.stringify(g1[gU]));h.B=K.o7.ah$(r);
h.GC=1}if(A==y.E$){h.Vs|=16;var bE=s.wz,iI=bE.Usng.v,j2=iI.Type.v,k7=iI.Shp;if(iI.Nm)h4=iI.Nm.v;if(k7==null){var ba=r.Ly(),bb=ba[0],ac=ba[1];
if(ac.length!=0&&bb[ac[0]].Jb<0){var g_=bb[ac[0]].add;h.add.vmsk=g_.vmsk.clone();h.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));
h.add.vogk=JSON.parse(JSON.stringify(g_.vogk));r.LD=[]}else h.B=K.o7.ah$(r)}else{console.log(iI);h.add.vmsk=new y.kL;
h.add.vstk=JSON.parse(JSON.stringify(iI.strokeStyle?iI.strokeStyle.v:jG.iJ.default));h.add.vogk=[];if(k7){var hY=q.O6.$V(k7);
if(hY){h.add.vogk=[hY];h.add.vmsk._.push({type:0,my:1,length:0});q.O6.q1(h.add.vogk,h.add.vmsk)}else{k7=k7.v;
var fl=k7.classID;if(fl=="Plgn"){var aI=k7.Cntr.v,dT=k7.corner.v;aI=new cR(aI.Hrzn.v.val,aI.Vrtc.v.val);
dT=new cR(dT.Hrzn.v.val,dT.Vrtc.v.val);h.add.vmsk._=q.J.kt.xg(aI.x,aI.y,Math.sqrt(dT.x*dT.x+dT.y*dT.y),Math.atan2(dT.y,dT.x),k7.sides.v,0)}else if(fl=="customShape"){var iU=q.O6.rc(k7),cD=iU[2]-iU[0],c6=iU[3]-iU[1],hx=z.cz,cj,gx;
for(var l=0;l<hx.length;l++)if(hx[l].U1==k7.Nm.v)cj=hx[l];if(cj){gx=y.kL.AM(cj._);q.J.Yy(gx,new gF(cD,0,0,c6,iU[0],iU[1]))}else gx=q.J.kt.Rect(iU[0],iU[1],cD,c6,0);
h.add.vmsk._=gx}h.dn()}}}var ev={solidColorLayer:0,gradientLayer:1,patternLayer:2}[j2.classID],b9=["SoCo","GdFl","PtFl"][ev];
h.add[b9]=JSON.parse(JSON.stringify(jG.WX[ev]));K.o7.Zn(j2,h.add[b9],ev);if(k7==null)fd=eV.get([6,48,0,ev]);
if(b9=="PtFl"){var gM=h.add[b9].Ptrn.v,gC=hC.N_(gM,z.dj);if(gC==null)gC=hC.N_(gM,r.add.Patt);gM.Idnt.v=gC.id;
r.zp(gC)}h.qB(r)}var ea=K.o7.fx(r,fd+" ");h.lP(fd+" "+(ea+1));if(h4)h.lP(h4);var at=r.f.length==0?r.p.length-1:r.f[r.f.length-1],gu=r.p[at];
if(A==y.E$&&gu.ua()&&gu.rect.Nf()){iD=!0;h.lP(gu.getName());ec=at}else{ec=at+(A==y.Jj&&f&&!p?0:1);if(gu&&gu.add.lsct==d9.KK)ec--}if(s.ag_)ec=Math.max(0,ec-1);
var be=r.p.slice(0);if(A==y.ZY){var fq=be[r.f[0]]=be[r.f[0]].clone(),dD=r.q.channel.slice(0);q.dm(dD);
q.Nc(dD,r.q.rect,fq.buffer,fq.rect)}be.splice(ec,iD?1:0,h);var e6=[5,2];if(A==y.Jj)e6=[6,13];if(A==y.MP)e6=[6,1];
if(A==y.E$){e6=[6,48,1];var k7=s.wz.Usng.v.Shp;if(k7){var jb={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[k7.v.classID];
if(jb)e6=jb}}if(j$){e6=[6,49,A==y.sU?0:1]}if(j$||A==y.E$||A==y.MS||A==y.MP)if(r.q)aP=[r.q,null];var a=new hZ(e6,this);
a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:[ec],SV:aP};r.yF(a);this._6(a.data,r);if(A==y.E$&&k7==null&&ev!=0||A==y.MP){var G=new hU(k.E.Y);
G.data={d:k.s.fk,ic:d8.tZ.Kk};N.c(G)}}if(A==y.ly){var h=r.tT(),fd=eV.get([0,4]),ea=K.o7.fx(r,fd+" ");
h.lP(fd+" "+(ea+1));h.M9="pass";h.add.lsct=d9.KK;h.Vs=24;if(s.sx)h.lP(s.sx);if(s.zU!=null)h.add.lclr=s.zU;
var cx=r.YL(),at=B,ec=at+(f?0:1),be=r.p.slice(0);be.splice(ec,0,cx,h);var a=new hZ([6,20],this);a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:[ec+1]};
r.yF(a);this._6(a.data,r)}if(A==y.Kz||A==y.Qv){var ap=A==y.Kz?s.source:r.f[0],e3,iW,gk=r.f.indexOf(ap)!=-1,kk=t|s.ai8,co,jA=null;
if(gk)co=r.xY();else co=r.sr(ap);co.sort(function(a,fA){return a-fA});if(A==y.Kz){e3=s.target;iW=s.fr>.5}else if(s.target!=null){e3=Math.min(s.target,r.p.length-1);
iW=s.target<r.p.length;r.kf=!0}else{var c8=s.Xy;iW=c8>1;if(c8==0){e3=r.p.length-1}if(c8==1){e3=co[co.length-1]+1;
var J=r.sr(e3);if(J.indexOf(ap)==-1)e3+=J.length-1}if(c8==2){e3=co[0]-1;var J=r.sr(e3);if(J.indexOf(ap)==-1)e3-=J.length-1}if(c8==3){e3=0;
if(r.p[0].add.lnsr=="bgnd")e3++}if(e3<0||e3>r.p.length-1)return;r.kf=!0}if(co.indexOf(e3)!=-1&&!kk)return;
var fC=K.o7.Ae(r,co,e3,iW,kk?r.st(gk?null:ap):null,A==y.Kz&&s.fr>.8),iX=fC.pop(),fg=fC.pop(),be=fC.pop(),gl=r.f;
r.f=[ap];var aq=r.W$();r.f=[e3];var gK=r.W$();if(gK==e3&&!iW)gK=-1;r.f=gl;if(ap==aq){}else if(aq!=gK){var jA=new cR(0,0);
if(aq!=-1){var eK=r.p[aq].M5();jA.x-=eK.x;jA.y-=eK.y}if(gK!=-1){var eK=r.p[gK].M5();jA.x+=eK.x;jA.y+=eK.y}}var a=new hZ(kk?[6,0]:[6,35],this);
a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:fg,JF:jA};r.yF(a);this._6(a.data,r);var bE={classID:"move",null:dv.kY("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:iX+(iW?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:kk}};
this.track({uU:"move",wz:bE})}if(A==y.zK){if(s.CH){if(Y==null||!Y.Ob())return;var g=r.root.uc(B),g0=r.p.indexOf(g.adh),be=r.p.slice(0);
be.splice(B,1);be.splice(g0,1);var fg=[];for(var l=g0;l<B-1;l++)fg.push(l);var a=new hZ("Ungroup Layers",this);
a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:fg};r.yF(a);this._6(a.data,r)}else{var h=r.tT(),eX=eV.get([0,4])+" ";
h.lP(eX+(K.o7.fx(r,eX)+1));h.M9="pass";if(s.sx)h.lP(s.sx);if(s.zU!=null)h.add.lclr=s.zU;h.add.lsct=r.f.length==1?d9.KK:d9.vH;
h.Vs=24;var cx=r.YL(),co=r.xY();if(co.length==0)return;co.sort(function(a,fA){return a-fA});var be=[];
for(var l=0;l<r.p.length;l++)if(co.indexOf(l)==-1)be.push(r.p[l]);var at=r.f[r.f.length-1]-co.length;
be.splice(at+1,0,cx);for(var l=0;l<co.length;l++)be.splice(at+2+l,0,r.p[co[l]]);be.splice(at+2+co.length,0,h);
var a=new hZ([6,9],this);a.data={d:y.Oh,_p:r.p.slice(0),rs:be,js:r.f.slice(0),rY:[be.indexOf(h)]};r.yF(a);
this._6(a.data,r);var u={uU:"make",Mv:!0};u.wz={classID:"Mk",null:dv.kY("layerSection"),From:dv.kY("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:h.getName()}}}};
this.track(u)}}if(A==y.a8Y){if(r.f.length!=1)return;var df=r.f[0],f2=t;if(r.p[df].eg()==null&&!S.t(cK.z6)){A=y.Ed;
s.uy=r.q?!f2?"RvlS":"HdSl":!f2?"RvlA":"HdAl"}else{A=y.OY;s.aiZ=!0}}if(A==y.Ed){if(r.f.length!=1)return;
var df=r.f[0],h=r.p[df];if(h.add.vmsk&&h.B==null)h.qB(r);var f3=h.eg();if(f3==null||s.a5e){var a=new hZ([6,21],this),bB=new y.pk,hy=s.uy,jS=hy=="RvlS"||hy=="HdSl";
if(hy=="RvlS"||hy=="HdAl"||hy=="Trns")bB.color=0;if(jS){bB.channel=r.q.channel.slice(0);bB.rect=r.q.rect.clone();
if(hy=="HdSl")q.dm(bB.channel)}if(hy=="Trns"){bB.rect=h.rect.clone();bB.channel=q.m(h.rect.$());q.WZ(h.buffer,bB.channel,3)}a.data={d:y.Fg,O4:[df,f3,bB],SV:jS?[r.q,null]:null};
r.yF(a);this._6(a.data,r);r.p[df].GC=1;this.track({uU:"make",wz:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:hy}}}})}}else if(A==y.a39){var c3=r.p[s.src],jj=r.p[s.lI],a=new hZ([6,21],this),fo=c3.eg(),d3=jj.eg(),j5=[s.src,fo,null,s.lI,d3,fo];
if(t||p){var jy=fo.clone();if(t)j5=[s.lI,d3,jy];else j5[5]=jy;if(p){q.dm(jy.channel);jy.color=255-jy.color}}a.data={d:y.Fg,O4:j5};
r.yF(a);this._6(a.data,r)}if(A==y.lH){if(r.f.length!=1)return;var df=B,b_=r.p[df].eg();if(b_!=null){var a=new hZ([6,22],this);
a.data={d:y.Fg,O4:[B,b_,null]};r.yF(a);this._6(a.data,r)}}if(A==y._o){var c5=r.p.slice(0),gR=Y.clone(),o=gR.eg();
q.Nc(o.am(gR.rect),gR.rect,gR.buffer,gR.rect);K.o7.GO(r,gR);gR.pS();r.p[r.f[0]]=gR;var a=new hZ([5,8],this);
a.data={d:y.Oh,_p:c5,rs:r.p.slice(),js:r.f.slice(0),rY:r.f.slice(0)};r.yF(a);this._6(a.data,r)}if(A==y.Ss){if(r.f.length!=1)return;
var df=r.f[0];if(r.p[df].NM(r).B==null){var a=new hZ([6,45],this);a.data={d:A,j:df,B:new y.pk};r.yF(a);
this._6(a.data,r)}}if(A==y.Zp){if(r.f.length!=1)return;var df=r.f[0];if(r.p[df].NM(r).B!=null){var a=new hZ([6,46],this);
a.data={d:A,j:df,B:r.p[df].NM(r).B};r.yF(a);this._6(a.data,r)}}if(A==y.iU){if(s.src==null&&r.f.length!=1)return;
if(s.src!=null)B=s.src;if(r.p[B].Pi()){var a=new hZ([6,47],this),iZ=JSON.stringify(r.p[B].add.SoLd),jD=JSON.parse(iZ);
delete jD.filterFX;a.data={d:y.cI,vR:[{GR:B,V6:[iZ,JSON.stringify(jD)],b3:[r.p[B].NM(r),null]}]};r.yF(a);
this._6(a.data,r)}}if(A==y.OY){if(r.f.length!=1)return;if(Y.add.vmsk==null){var a=new hZ([6,23],this),bX=r.Ly(),n=bX[1],bX=bX[0],bB,hY;
if(s.aiZ&&n.length!=0){var g_=bX[n[0]].add;bB=g_.vmsk.clone();hY=g_.vogk}else{bB=new y.kL;hY=[];bB._[1].all=s.acY?0:1}a.data={d:A,j:B,Yt:!0,B:bB,O6:JSON.stringify(hY),iJ:null};
if(Y.wu()){a.data.iJ=JSON.stringify(jG.iJ.default)}r.yF(a);this._6(a.data,r)}}if(A==y.eu){var c3=r.p[s.src],jj=r.p[s.lI];
if(jj.add.vmsk)return;var a=new hZ([6,23],this),dJ=c3.add.vmsk;a.data={j:s.lI,Yt:c3.Pu,B:dJ.clone(),O6:JSON.stringify(c3.add.vogk),iJ:c3.add.vstk?JSON.stringify(c3.add.vstk):null};
if(t){a.data.d=y.OY}else{a.data.d=A;a.data.src=s.src;a.data.lI=s.lI}r.yF(a);this._6(a.data,r)}if(A==y.$G||A==y.d5){if(r.f.length!=1)return;
var h=r.p[B],dJ=h.add.vmsk;if(dJ!=null){var d_=A==y.d5,a=new hZ(d_?[6,8]:[6,24],this);a.data={d:y.$G,j:B,Yt:h.Pu,B:dJ,O6:JSON.stringify(h.add.vogk),iJ:h.add.vstk?JSON.stringify(h.add.vstk):null};
if(d_){a.data.oR=dJ.eg(h.add.vstk)}r.yF(a);this._6(a.data,r)}}if(A==y.$R){var a=new hZ("Metadata",this);
a.data={d:A,QM:JSON.stringify(r.yA),ha:JSON.stringify(s.ha)};r.yF(a);this._6(a.data,r)}if(A==y.VL){var f_=s.lI?s.lI:r,k5=f_.name,h4=s.h+".psd";
if(k5==h4)return;var a=new hZ([6,37],this);a.data={d:A,a5r:k5,sx:h4};if(s.atu!=!0)f_.yF(a);this._6(a.data,f_)}if(A==y.z8&&s.Xy.endsWith("makeframes")){var dw=[],hX=s.Xy.startsWith("make");
for(var l=0;l<r.f.length;l++){var X=r.f[l],h=r.p[X],fU=h.getName(),eo=fU.startsWith("_a_");if(hX==eo||h.add.lsct==d9.KS)continue;
var eh=hX?"_a_"+fU:fU.slice(3);dw.push([X,fU,eh,h.add.lnsr,null])}var a=new hZ([6,37],this);a.data={d:y.RU,LS:dw};
r.yF(a);this._6(a.data,r)}if(A==y.RU){var k5=Y.getName(),h4=s.name.substring(0,255);if(k5==h4)return;
var a=new hZ([6,37],this);a.data={d:A,LS:[[B,k5,h4,Y.add.lnsr,null]]};r.yF(a);this._6(a.data,r);this.track(dv.IY("Nm",{t:"TEXT",v:h4}))}if(A==y.Md){var dV=r.xY(),is=[],bZ=[];
for(var l=0;l<dV.length;l++){is.push(r.p[dV[l]].add.lclr);bZ.push(s.at0)}var a=new hZ([6,38],this);a.data={d:A,p:dV,agu:is,zU:bZ};
r.yF(a);this._6(a.data,r)}if(A==y.zF){var a=r.history[r.Jn];if(a!=null&&a.k==this&&a.data.d==A&&a.data.j==s.HE&&a.data.zr.zb==s.$e.zb)a.data.zr=s.$e;
else{a=new hZ("Mask Density / Feather",this);a.data={d:A,j:s.HE,kj:r.p[s.HE].RJ(s.$e.zb),zr:s.$e};r.yF(a)}this._6(a.data,r)}if(A==y.ad){var gH=JSON.stringify(s.h),jM=JSON.parse(gH),a=r.history[r.Jn];
if(a!=null&&a.k==this&&a.data.d==A&&a.data.LK==s.LK&&a.data.vA.join(",")==s.vA.join(",")){for(var l=0;
l<s.vA.length;l++)a.data.ny[l]=jM;if(a.data.wz&&jM.Hf!=0)K.o7.Zn(jM.SR,a.data.wz.T.v,jM.Hf-1)}else{a=new hZ([11,6],this);
a.data={d:A,vA:s.vA,LK:s.LK,akn:[],ny:[]};var hm=!1;for(var l=0;l<s.vA.length;l++){var X=s.vA[l],h=r.p[X],jU=s.LK?K.HZ.rv(r,X):JSON.parse(JSON.stringify(h.add.vstk));
a.data.akn.push(jU);a.data.ny.push(jM);if(JSON.stringify(jU)!=gH)hm=!0}if(!hm)return;r.yF(a);if(s.LK&&jM.Hf>0){var bE=a.data.wz={classID:"setd",null:dv.kY("contentLayer",!0),T:{t:"Objc",v:{}}},b9=["SoCo","GdFl","PtFl"][jM.Hf-1];
K.o7.Zn(jM.SR,bE.T.v,jM.Hf-1);this.track({uU:"set",wz:bE})}}if(s.LK&&jM.Hf==3)r.zp(hC.N_(jM.SR.Ptrn.v,z.dj));
if(!s.LK){var eW=jM.strokeStyleContent.v;if(eW.classID==jG.iJ.Mn[2])r.zp(hC.N_(eW.Ptrn.v,z.dj))}this._6(a.data,r)}};
K.o7.Ae=function(s,N,r,S,z,A){var B=s.p[r],Y=[];if(z)Y=s.p.slice(0);else for(var l=0;l<s.p.length;l++)if(N.indexOf(l)==-1)Y.push(s.p[l]);
var t=Y.indexOf(B);if(A&&B.Ob()&&B.add.lsct==d9.vH)t-=s.sr(r).length-1;var p=[];for(var l=0;l<N.length;
l++){var f=t+(S?0:1)+l,a=z?z[l]:s.p[N[l]];Y.splice(f,0,a);p.push(f)}return[Y,p,t]};K.o7.Zn=function(s,N,r){var S=[jG.IU,jG.$b,jG.Ba][r];
if(N.classID==null)N.classID=["solidColorLayer","gradientLayer","patternLayer"][r];for(var l=0;l<S.length;
l++)if(s[S[l]])N[S[l]]=JSON.parse(JSON.stringify(s[S[l]]))};K.o7.ah$=function(s){var N=new y.pk;if(s.q!=null){N.color=0;
N.channel=s.q.channel.slice(0);N.rect=s.q.rect.clone()}return N};K.o7.YM=function(s,N,r,S,z){var A=S.G/r.G,B=S.n/r.n,Y=S.G/2,t=S.n/2,p=q.g.w2(S).v;
for(var l=0;l<s.p.length;l++){var f=s.p[l],a=f.add.SoLd;if(a==null||a.Idnt.v!=N)continue;if(A!=1||B!=1){var D=K.S.JS(a.nonAffineTransform),c=q.P.g8(D,S),J=new gF;
J.translate(-Y,-t);J.scale(A,B);J.translate(Y,t);var Z=q.P.kU(c,q.P.tl(J)),Q=p.slice(0);q.P.D(Z,Q);a.Trnf=K.S.Ua(Q);
a.nonAffineTransform=K.S.Ua(Q);if(q.Wx.II(a.warp.v)){var M=a.warp.v.bounds.v;M.Rght.v.val=S.G;M.Btom.v.val=S.n}}f.Vw(s,null,z)}s.V()};
K.o7.a4$=function(s,N,r){N.color=255-N.color;q.dm(N.channel);N.eB=!0;s.qB(r);r.V()};K.o7.prototype.kA=function(s,N){var r=s.d,S=N.p[s.j];
N.J4=!0;if(r==y.Ce){N.add.lnk2.splice(N.add.lnk2.indexOf(s.EE),1,s.Lm);K.o7.YM(N,s.id,s.EE.t1[1],s.Lm.t1[1])}if(r==y.BV){S.add.SoLd.Impr.v.classID=s.kj;
S.Vw(N)}if(r==y.q$){var z=JSON.parse(s.vA);for(var l=0;l<z.length;l++)N.p[z[l]].M9=s.mx[l];N.V()}if(r==y.EX){var z=JSON.parse(s.vA);
for(var l=0;l<z.length;l++)N.p[z[l]].opacity=s.mx[l];N.V()}if(r==y.te){var z=JSON.parse(s.vA);for(var l=0;
l<z.length;l++)if(N.p[z[l]].add.lsct!=d9.KS)N.p[z[l]].add.lspf=s.mx[l]}if(r==y.ID){var A=s.EF,B=s.aia;
delete S.add[A[0]];if(B[0]!="----")S.add[B[0]]=B[1]}if(r==y.bG){S.add.iOpa=s.mx;N.V()}if(r==y.ks){for(var l=0;
l<s.vA.length;l++){var Y=N.p[s.vA[l]];Y.pQ(!Y.ES())}N.V()}if(r==y.so){var t=S.eg();t.isEnabled=!t.isEnabled;
S.qB(N);N.V()}if(r==y.rJ){var t=S.NM(N).B;t.isEnabled=!t.isEnabled;S.V();N.V()}if(r==y.SM){var t=S.add.vmsk;
t.isEnabled=!t.isEnabled;if(!t.isEnabled){if(S.oR){S.B=S.oR;S.oR=null}else S.B=null}else if(S.B){S.oR=S.B;
S.B=null}S.qB(N);N.V()}if(r==y.DM){S.hE=!S.hE;N.V()}if(r==y.jB){S.add.lmfx.masterFXSwitch.v=!S.add.lmfx.masterFXSwitch.v;
S.Lo.nW=!0;N.V()}if(r==y.Ex){S.add.SoLd.filterFX.v.enab.v=!S.add.SoLd.filterFX.v.enab.v;S.vJ(N);N.V()}if(r==y.jM){var p=s.index,f=S.add.lmfx[jG.Um[p[0]]].v[p[1]].v;
f.enab.v=!f.enab.v;S.Lo.nW=!0;N.V()}if(r==y.Zr){var a=N.p[s.Rn],D=N.p[s.BP],c=s.a2U,J=s.acO;if(c=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(c);if(J=="")delete D.add.lmfx;else D.add.lmfx=JSON.parse(J);a.Lo.nW=!0;D.Lo.nW=!0;
N.V()}if(r==y.fA){var Z=S.add.SoLd.filterFX.v.filterFXList.v[s.index].v;Z.enab.v=!Z.enab.v;S.vJ(N);N.V()}if(r==y.a8k){S.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(s.a0O));
S.vJ(N);N.V()}if(r==y.dF){var t=S.eg();t.kl=!t.kl}if(r==y.oB){var t=S.add.vmsk;t.kl=!t.kl}if(r==y.SK){var Q=JSON.parse(s.awe);
N.PB=Q[0];N.UB=Q[1]}if(r==y.ut){var Q=s.c9;for(var l=0;l<Q.length;l+=2){var M=Q[l],Y=M>=0?N.p[M]:N.qI[-1-M];
Y.add.vogk=JSON.parse(Q[l+1]);q.O6.q1(Y.add.vogk,Y.add.vmsk);if(M>=0)Y.qB(N)}N.V()}if(r==y.dc){S.add.artb=JSON.parse(s.acD);
N.V();K.Vg.gJ(N,s)}if(r==y.xn){N.q=s.ZH;N.Aa=s.c9.slice(0);N.rz=s.Yl.slice(0);N.kk=N._R=!0}if(r==y.GE){S.xK=!S.xK}if(r==y.qR){var u=s.aal;
for(var l=0;l<u.length;l++)N.p[l].LW=u[l]}if(r==y.Oh){if(s.JF)K.yz.yR(N,N.f,null,-s.JF.x,-s.JF.y);if(s.js)N.f=s.js;
if(s.SV)N.q=s.SV[0];N.$Y=null;N.V();N.uZ(s._p);K.Vg.gJ(N,s);if(s.OB)N.TO(s.OB[0])}if(r==y.Fg){for(var l=0;
l<s.O4.length;l+=3)K.o7.GO(N,N.p[s.O4[l]],s.O4[l+1]);if(s.SV){var P=s.SV[0];if(P==null)delete N.q;else N.q=P}}if(r==y.Ss){S.NM(N).B=null;
S.V();N.V()}if(r==y.Zp){S.NM(N).B=s.B;S.V();N.V()}if(r==y.cI){K.o7.afm(N,s.vR,0)}if(r==y.OY){K.o7.uv(N,S,!0)}if(r==y.eu){K.o7.uv(N,N.p[s.lI],s.B.isEnabled);
K.o7.tA(N,N.p[s.src],s)}if(r==y.$G){if(s.oR)K.o7.GO(N,S,null);K.o7.tA(N,S,s)}if(r==y.$R){N.yA=JSON.parse(s.QM)}if(r==y.VL){N.name=s.a5r}if(r==y.RU){for(var l=0;
l<s.LS.length;l++){var m=s.LS[l],Y=N.p[m[0]];Y.lP(m[1]);if(m[3])Y.add.lnsr=m[3];else delete Y.add.lnsr}}if(r==y.Md){for(var l=0;
l<s.p.length;l++)N.p[s.p[l]].add.lclr=s.agu[l]}if(r==y.ad){var i=s.akn;for(var l=0;l<s.vA.length;l++){var Y=N.p[s.vA[l]],e=i[l];
if(!s.LK)Y.add.vstk=JSON.parse(JSON.stringify(e));else K.HZ.sp(Y,JSON.parse(JSON.stringify(e)));Y.YH(N)}N.V()}if(r==y.zF){S.a4Y(s.kj);
S.qB(N);N.V()}N._R=!0};K.o7.prototype._6=function(s,N){var r=s.d,S=N.p[s.j];N.J4=!0;if(r==y.Ce){N.add.lnk2.splice(N.add.lnk2.indexOf(s.Lm),1,s.EE);
K.o7.YM(N,s.id,s.Lm.t1[1],s.EE.t1[1])}if(r==y.BV){S.add.SoLd.Impr.v.classID=s.zr;S.Vw(N)}if(r==y.q$){var z=JSON.parse(s.vA);
for(var l=0;l<z.length;l++)N.p[z[l]].M9=s.zr;N.V()}if(r==y.EX){var z=JSON.parse(s.vA);for(var l=0;l<z.length;
l++)N.p[z[l]].opacity=s.zr;N.V()}if(r==y.te){var z=JSON.parse(s.vA);for(var l=0;l<z.length;l++)if(N.p[z[l]].add.lsct!=d9.KS)N.p[z[l]].add.lspf=s.zr[l]}if(r==y.ID){var A=s.aia,B=s.EF;
delete S.add[A[0]];if(B[0]!="----")S.add[B[0]]=B[1]}if(r==y.bG){S.add.iOpa=s.zr;N.V()}if(r==y.ks){for(var l=0;
l<s.vA.length;l++){var Y=N.p[s.vA[l]];Y.pQ(!Y.ES())}N.V()}if(r==y.so){var t=S.eg();t.isEnabled=!t.isEnabled;
S.qB(N);N.V()}if(r==y.rJ){var t=S.NM(N).B;t.isEnabled=!t.isEnabled;S.V();N.V()}if(r==y.SM){var t=S.add.vmsk;
t.isEnabled=!t.isEnabled;if(!t.isEnabled){if(S.oR){S.B=S.oR;S.oR=null}else S.B=null}else if(S.B){S.oR=S.B;
S.B=null}S.qB(N);N.V()}if(r==y.DM){S.hE=!S.hE;N.V()}if(r==y.jB){S.add.lmfx.masterFXSwitch.v=!S.add.lmfx.masterFXSwitch.v;
S.Lo.nW=!0;N.V()}if(r==y.Ex){S.add.SoLd.filterFX.v.enab.v=!S.add.SoLd.filterFX.v.enab.v;S.vJ(N);N.V()}if(r==y.jM){var p=s.index,f=S.add.lmfx[jG.Um[p[0]]].v[p[1]].v;
f.enab.v=!f.enab.v;S.Lo.nW=!0;N.V()}if(r==y.Zr){var a=N.p[s.Rn],D=N.p[s.BP],c=s.aue,J=s.a9V;if(c=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(c);if(J=="")delete D.add.lmfx;else D.add.lmfx=JSON.parse(J);a.Lo.nW=!0;D.Lo.nW=!0;
N.V()}if(r==y.fA){var Z=S.add.SoLd.filterFX.v.filterFXList.v[s.index].v;Z.enab.v=!Z.enab.v;S.vJ(N);N.V()}if(r==y.a8k){S.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(s.a1w));
S.vJ(N);N.V()}if(r==y.dF){var t=S.eg();t.kl=!t.kl}if(r==y.oB){var t=S.add.vmsk;t.kl=!t.kl}if(r==y.SK){var Q=JSON.parse(s.asC);
N.PB=Q[0];N.UB=Q[1]}if(r==y.ut){var Q=s.ll;for(var l=0;l<Q.length;l+=2){var M=Q[l],Y=M>=0?N.p[M]:N.qI[-1-M];
Y.add.vogk=JSON.parse(Q[l+1]);q.O6.q1(Y.add.vogk,Y.add.vmsk);if(M>=0)Y.qB(N)}N.V()}if(r==y.dc){S.add.artb=JSON.parse(s.qs);
N.V();K.Vg.AN(N,s)}if(r==y.xn){N.q=s.FO;N.Aa=s.ll.slice(0);N.rz=s.j$.slice(0);N.kk=N._R=!0}if(r==y.GE){S.xK=!S.xK}if(r==y.qR){var u=s.abp;
for(var l=0;l<u.length;l++)N.p[l].LW=u[l]}if(r==y.Oh){var P=s.rs,m=0,i;for(var l=0;l<P.length;l++){var Y=P[l],e=Y.add.lsct;
if(e==d9.KS)m++;else if(e==d9.KK||e==d9.vH)m--;if(Y.add.artb&&m!=0)i="Artboards can not be inside folders."}if(i){N.history.pop();
N.Jn--;alert(i);return}K.Vg.AN(N,s);if(s.rY)N.f=s.rY;if(s.SV)N.q=s.SV[1];N.$Y=null;N.V();N.uZ(s.rs);
if(s.JF)K.yz.yR(N,N.f,null,s.JF.x,s.JF.y);if(s.OB)N.TO(s.OB[1])}if(r==y.Fg){for(var l=0;l<s.O4.length;
l+=3)K.o7.GO(N,N.p[s.O4[l]],s.O4[l+2]);if(s.SV){var X=s.SV[1];if(X==null)delete N.q;else N.q=X}}if(r==y.Ss){S.NM(N).B=s.B;
S.GC=0;S.V();N.V()}if(r==y.Zp){S.NM(N).B=null;S.GC=0;S.V();N.V()}if(r==y.cI){K.o7.afm(N,s.vR,1)}if(r==y.OY){K.o7.tA(N,S,s)}if(r==y.eu){K.o7.uv(N,N.p[s.src],s.B.isEnabled);
K.o7.tA(N,N.p[s.lI],s)}if(r==y.$G){K.o7.uv(N,S,s.B.isEnabled);if(s.oR)K.o7.GO(N,S,s.oR)}if(r==y.$R){N.yA=JSON.parse(s.ha)}if(r==y.VL){N.name=s.sx}if(r==y.RU){for(var l=0;
l<s.LS.length;l++){var $=s.LS[l],Y=N.p[$[0]];Y.lP($[2]);if($[4])Y.add.lnsr=$[4];else delete Y.add.lnsr}}if(r==y.Md){for(var l=0;
l<s.p.length;l++)N.p[s.p[l]].add.lclr=s.zU[l]}if(r==y.ad){var O=s.ny;for(var l=0;l<s.vA.length;l++){var Y=N.p[s.vA[l]],T=O[l];
if(!s.LK)Y.add.vstk=JSON.parse(JSON.stringify(T));else K.HZ.sp(Y,JSON.parse(JSON.stringify(T)));Y.YH(N)}N.V()}if(r==y.zF){S.a4Y(s.zr);
S.qB(N);N.V()}N._R=!0};K.o7.fx=function(s,N){var r=0;for(var l=0;l<s.p.length;l++){var S=s.p[l].getName();
if(S.startsWith(N)){var z=S.slice(N.length).trim(),A=parseInt(z);if(!isNaN(A)&&A+""==z&&A>r)r=A}}return r};
K.o7.afm=function(s,N,r){for(var l=0;l<N.length;l++){var S=N[l],z=s.p[S.GR];if(S.V6){z.add.SoLd=JSON.parse(S.V6[r])}if(S.b3){if(S.b3[1-r]!=null)s.ct(S.b3[1-r]);
if(S.b3[r]!=null)s.Zf(S.b3[r]);else z.GC=0}z.Vw(s)}};K.o7.al1=function(s,N){var r=s.OX,S=s.rect.clone();
if(r!=null&&(r.x!=N.G||r.y!=N.n)){S.x=Math.floor((N.G-S.G)/2);S.y=Math.floor((N.n-S.n)/2)}else if(r==null){var z=new hq(0,0,N.G,N.n),A=N.W$();
if(A!=-1)z=N.p[A].M5();S.x+=z.x;S.y+=z.y}return S};K.o7.aqf=function(s,N){if(N.oR)N.oR=null;else N.B=null;
N.qB(s);s.V();N.GC=0};K.o7.GO=function(s,N,r){var S=N.eg();if(S==null&&r==null)return;if(S)K.o7.aqf(s,N);
if(r==null)return;if(N.B)N.oR=r;else N.B=r;N.qB(s);s.V()};K.o7.uv=function(s,N,r){if(N.oR&&r){N.B=N.oR;
N.oR=null}else if(N.B&&r){N.B=null}delete N.add.vogk;delete N.add.vstk;delete N.add.vmsk;N.qB(s);N.Pu=!1;
s.$Y=[];s.V()};K.o7.tA=function(s,N,r){N.add.vogk=JSON.parse(r.O6);if(r.iJ)N.add.vstk=JSON.parse(r.iJ);
else delete N.add.vstk;N.add.vmsk=r.B.clone();if(N.B&&N.add.vmsk.isEnabled)N.oR=N.B;N.qB(s);N.Pu=r.Yt;
s.$Y=[s.p.indexOf(N)];s.LD=[];s.V()};K.gH=function(){K.PJ.call(this,"Layer Styles",K.dl);this._N=null;
this._Q=null;this.xI=null;this.FH=[];this.jv=null};K.gH.prototype=new K.PJ;K.gH.prototype.OG=function(s,N,r,S,z){var A=s.j;
if(A==null)A=r.f[0];var B=r.p[A],Y=s.Jb;if(this._N==null){this.xI=K.gH.Au(r,B);this._N=JSON.stringify(this.xI);
if(B.add.lmfx)this._Q=JSON.stringify(B.add.lmfx)}if(B.add.lmfx==null){B.add.lmfx=JSON.parse(jG.default);
for(var l=0;l<jG.order.length;l++)B.add.lmfx[jG.Um[l]]={t:"VlLs",v:[]}}if(s.d=="scaleeffects"){if(s.h=="confirm"||s.h=="cancel"){this.OG({d:s.h},N,r,S,z);
return}B.add.lmfx=JSON.parse(this._Q);hC.MG(B.add.lmfx,s.h/100)}else if(s.d=="changeprop"){var t=null;
if(Y!=0){var p=this.FH[Y[0]];if(p==null)p=jG.FH[Y[0]];p=JSON.parse(p);var f=B.add.lmfx[jG.Um[Y[0]]].v;
if(f[Y[1]]==null)f[Y[1]]={t:"Objc",v:p};t=f[Y[1]].v;for(var a in p)if(t[a]==null)t[a]=p[a]}if(s.d=="changeprop"){if(Y==0){this.xI[s.tt].v=s.h;
K.gH.XV(r,B,this.xI)}else if(s.tt=="lagl"){if(t.uglg&&t.uglg.v){r.fP(s.h.val);this.xI.ac1=r.sY()}else t[s.tt].v=s.h}else if(s.tt=="Lald"){if(t.uglg.v){r.Om(s.h.val);
this.xI.a5N=r.b9()}else t[s.tt].v=s.h}else if((Y[0]==3||Y[0]==8)&&(s.tt=="Clr"||s.tt=="Grad")){if(s.tt=="Clr"){t.Clr={t:"Objc",v:s.h};
delete t.Grad}if(s.tt=="Grad"){t.Grad={t:"Objc",v:s.h};delete t.Clr}}else{t[s.tt].v=s.h}if(Y!=0)this.FH[Y[0]]=JSON.stringify(t)}if(Y!=0)if(t.Ptrn)r.zp(hC.N_(t.Ptrn.v,z.dj))}else if(s.d=="setstl"){var D=s.h.Lefx;
if(D)hC.aiy(D,r,z.dj);hC.a4p(s.h,B);this.xI=K.gH.Au(r,B)}else if(s.d=="st_dupsingle"){var c=B.add.lmfx[jG.Um[s.VY[0]]].v;
if(c[s.VY[1]]==null)return;var J=JSON.parse(JSON.stringify(c[s.VY[1]]));c.splice(s.VY[1],0,J)}else if(s.d=="st_movsingle"){var Z=s.VY[1],c=B.add.lmfx[jG.Um[s.VY[0]]].v;
if(c[s.VY[1]]==null)return;var Q=Math.max(0,Math.min(c.length-1,Z+s.a5y)),M=c[Q];c[Q]=c[Z];c[Z]=M}else if(s.d=="cancel"){if(this._Q==null)delete B.add.lmfx;
else B.add.lmfx=JSON.parse(this._Q);K.gH.XV(r,B,JSON.parse(this._N));this._N=null;this._Q=null}else if(s.d=="confirm"){var u=JSON.stringify(B.add.lmfx),P=new hZ([11,6],this);
P.data={p:[A],v4:[this._Q],AH:[u],lQ:[this._N],iF:[JSON.stringify(this.xI)]};r.yF(P);this._N=null;this._Q=null;
if(u!=null){var m=JSON.parse(u);fT.ef(m);m.classID="Lefx";delete m.masterFXSwitch;var i=new hU(k.E.gu);
i.rC=!0;i.data={uU:"set",Mv:!0};var e=dv.kY("Lyr",!0);e.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
i.data.wz={__name:"Set",classID:"setd",null:e,T:{t:"Objc",v:m}};N.c(i)}}else if(s.d=="st_copy"){this.jv=[this._N,this._Q];
this._N=null;this._Q=null}else if(s.d=="st_paste"||s.d=="st_clear"){if(s.d=="st_paste"&&this.jv==null)return;
var X=s.j!=null?[s.j]:r.f.slice(0),$=[],O=[],b=[],R=[];for(var l=0;l<X.length;l++){var B=r.p[X[l]],w=K.gH.Au(r,B);
$.push(B.add.lmfx?JSON.stringify(B.add.lmfx):null);b.push(JSON.stringify(w));if(s.d=="st_paste"){O.push(this.jv[1]);
R.push(this.jv[0])}else{O.push(null);w.lrMd.v=0;w.Opct.v.val=100;w.iOpa.v.val=100;w.blIf={v:[]};for(var F=0;
F<10;F++)w.blIf.v.push(0,0,255,255);R.push(JSON.stringify(w))}}var P=new hZ([11,6],this);P.data={p:X,v4:$,AH:O,lQ:b,iF:R};
this._6(P.data,r);r.yF(P);this._N=null;this._Q=null}else{var L=this.xI,m=null;if(s.d=="st_delsingle"){m=JSON.parse(this._Q);
m[jG.Um[s.VY[0]]].v.splice(s.VY[1],1);m=JSON.stringify(m)}if(m==null)delete B.add.lmfx;else B.add.lmfx=JSON.parse(m);
if(L!=null)K.gH.XV(r,B,L);var P=new hZ([11,6],this);P.data={p:[s.j],v4:[this._Q],AH:[m],lQ:[this._N],iF:[JSON.stringify(L)]};
r.yF(P);this._N=null;this._Q=null}B.Lo.nW=!0;r.J4=!0;r.V()};K.gH.Au=function(s,N){if(N.add.iOpa==null)N.add.iOpa=255;
if(N.add.brst==null)N.add.brst=[1,1,1];var r=N.Ob()?["pass"].concat(bm.sI):bm.sI;return{lrMd:{v:r.indexOf(N.M9)},Opct:{v:{type:"#Prc",val:Math.round(N.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(N.add.iOpa*100/255)},t:"UntF"},blIf:{v:N.En.slice(0)},brst:{v:N.add.brst},ac1:s.sY(),a5N:s.b9(),Ob:N.Ob()}};
K.gH.XV=function(s,N,r){var S=N.Ob()?["pass"].concat(bm.sI):bm.sI;N.M9=S[r.lrMd.v];N.opacity=Math.round(r.Opct.v.val*255/100);
N.add.iOpa=Math.round(r.iOpa.v.val*255/100);N.En=r.blIf.v.slice(0);N.add.brst=r.brst.v.slice(0);s.fP(r.ac1);
s.Om(r.a5N)};K.gH.prototype.kA=function(s,N){for(var l=0;l<s.p.length;l++){var r=N.p[s.p[l]],S=s.v4[l];
if(S==null)delete r.add.lmfx;else r.add.lmfx=JSON.parse(S);K.gH.XV(N,r,JSON.parse(s.lQ[l]));r.Lo.nW=!0}N.J4=!0;
N.V()};K.gH.prototype._6=function(s,N){for(var l=0;l<s.p.length;l++){var r=N.p[s.p[l]],S=s.AH[l];if(S==null)delete r.add.lmfx;
else r.add.lmfx=JSON.parse(S);K.gH.XV(N,r,JSON.parse(s.iF[l]));r.Lo.nW=!0}N.J4=!0;N.V()};K.le=function(){K.PJ.call(this,"Layer Comps",K.Wt)};
K.le.prototype=new K.PJ;K.le.prototype.OG=function(s,N,r,S){var z=JSON.parse(JSON.stringify(r.zq)),A=JSON.parse(JSON.stringify(r.zq)),B=null,Y=null,t=null,p=-1,f=!1;
if(s.d=="delLC"){var a=K.le.xB(r.zq,s.Jb),D=r.zq.lastAppliedComp?r.zq.lastAppliedComp.v:0;A.list.v.splice(a,1);
if(D==s.Jb)delete A.lastAppliedComp;B="Delete Layer Comp"}if(s.d=="editLC"){var a=K.le.xB(r.zq,s.Jb),c=A.list.v[a].v;
if(s.sx!=null)c.Nm.v=s.sx;if(s.abj!=null){var J=s.abj,Z=c.capturedInfo.v,Q=Z&(1<<J)-1;Z=Z>>J;if((Z&1)==1)Z--;
else Z++;c.capturedInfo.v=(Z<<J)+Q}B="Layer Comp properties"}if(s.d=="setLC"){K.le.Ep(r);if(s.Jb==0)delete A.lastAppliedComp;
else A.lastAppliedComp={t:"long",v:s.Jb};B="Switch Layer Comp";f=!0}if(s.d=="updLC"){K.le.Ep(r);Y=K.le.ab3(r,s.Jb);
t=K.le.KE(r,s.Jb);A.lastAppliedComp={t:"long",v:s.Jb};B="Update Layer Comp";p=s.Jb;f=!0}if(s.d=="addLC"){K.le.Ep(r);
var M=1;for(var l=0;l<A.list.v.length;l++)M=Math.max(M,A.list.v[l].v.compID.v)+1;M+=Math.floor(Math.random()*1e4);
var u={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(A.list.v.length+1)},compID:{t:"long",v:M},capturedInfo:{t:"long",v:7}}};
A.list.v.push(u);A.lastAppliedComp={t:"long",v:M};B="New Layer Comp";var P=K.le.KE(r,M);K.le.fJ(r,P,M)}var m=new hZ(B,this);
m.data={abq:z,ank:A,ase:Y,abO:t,Jb:p,fs:f};this._6(m.data,r);r.yF(m)};K.le.prototype._6=function(s,N){N.zq=s.ank;
N.J4=!0;if(s.abO)K.le.fJ(N,s.abO,s.Jb);if(s.fs){var r=N.zq.lastAppliedComp?N.zq.lastAppliedComp.v:0,S=K.le.xB(N.zq,r),z=S==-1?null:N.zq.list.v[S].v,A=z?z.capturedInfo.v:7;
K.le.w5(N,r,A);N.V()}};K.le.prototype.kA=function(s,N){N.zq=s.abq;N.J4=!0;if(s.ase)K.le.fJ(N,s.ase,s.Jb);
if(s.fs){var r=N.zq.lastAppliedComp?N.zq.lastAppliedComp.v:0,S=K.le.xB(N.zq,r),z=S==-1?null:N.zq.list.v[S].v,A=z?z.capturedInfo.v:7;
K.le.w5(N,r,A);N.V()}};K.le.Ep=function(s){if(s.zq.lastAppliedComp!=null||!s.fm)return;var N=K.le.KE(s,0);
K.le.fJ(s,N,0);s.fm=!1};K.le.gc=function(s,N,r){s.v.Hrzn.v+=N;s.v.Vrtc.v+=r};K.le.xB=function(s,N){var r=s.list.v;
for(var l=0;l<r.length;l++)if(r[l].v.compID.v==N)return l;return-1};K.le.a8c=function(s){var N=s.layerSettings.v,z=null;
if(N.length==0)return;var r="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),S=N[0].v;
if(S.enab==null)S.enab={t:"bool",v:!0};if(S.Ofst==null)S.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var l=0;l<N.length;l++){var A=N[l].v;if(z==null)z=JSON.parse(JSON.stringify(A));else for(var B=0;
B<r.length;B++){var Y=r[B];if(A[Y])z[Y]=JSON.parse(JSON.stringify(A[Y]))}N[l].v=JSON.parse(JSON.stringify(z))}};
K.le.a6$=function(s,N){var r=s.add.shmd.cmls,S=r.layerSettings.v;for(var z=0;z<S.length;z++){var A=S[z].v,B=A.compList.v[0].v;
if(B==N)return z}return-1};K.le.aaw=function(s,N){var r=K.le.a6$(s,N);return r==-1?null:s.add.shmd.cmls.layerSettings.v[r].v};
K.le.w5=function(s,N,r){for(var l=0;l<s.p.length;l++){var S=s.p[l],z=S.add.shmd.cmls;if(z==null)continue;
var A=z.layerSettings.v,B=K.le.aaw(S,N);if(B==null){S.pQ(!1);continue}if((r&1)!=0){if(B.enab)S.pQ(B.enab.v);
else S.pQ(!0)}if((r&2)!=0){if(B.Ofst){var Y=B.Ofst.v,t=S.jD(s),p=Math.round(Y.Hrzn.v-t.x),f=Math.round(Y.Vrtc.v-t.y);
if(p!=0||f!=0)K.yz.yR(s,[l],null,p,f)}}if((r&4)!=0){if(B.Lefx){var a=JSON.parse(JSON.stringify(B.Lefx.v));
fT.gm(a);if(JSON.stringify(a)!=JSON.stringify(S.add.lmfx)){S.add.lmfx=a;S.Lo.nW=!0}}else delete S.add.lmfx;
if(B.blendOptions){var D=B.blendOptions.v;if(D.Opct)S.opacity=Math.round(255*D.Opct.v.val/100);if(D.fillOpacity)S.add.iOpa=Math.round(255*D.fillOpacity.v.val/100);
if(D.Md)S.M9=S.add.lsct==d9.KS?"norm":bm.KW(D.Md.v.BlnM)}else{S.opacity=255;S.M9=S.Ob()?"pass":"norm";
S.add.iOpa=255}}}};K.le.ab3=function(s,N){var r={};for(var l=0;l<s.p.length;l++){var S=s.p[l];if(S.add.shmd==null||S.add.shmd.cmls==null)continue;
r["l"+S.add.lyid]=JSON.parse(JSON.stringify(K.le.aaw(S,N)))}return r};K.le.KE=function(s,N){var r={};
for(var l=0;l<s.p.length;l++){var S=s.p[l],z=S.add.lyid;r["l"+z]=K.le.a4b(s,S,N)}return r};K.le.a4b=function(s,N,r){var S=N.add.shmd?N.add.shmd.cmls:null,z={classID:"null"},A=N.jD(s),B={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:A.x},Vrtc:{t:"long",v:A.y}}};
z.compList={t:"VlLs",v:[{t:"long",v:r}]};z.enab={t:"bool",v:N.ES()};z.Ofst=JSON.parse(JSON.stringify(B));
z.FXRefPoint=JSON.parse(JSON.stringify(S&&S.origFXRefPoint?S.origFXRefPoint:B));z.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:bm.Cu(N.M9)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*N.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:N.add.iOpa!=null?100*N.add.iOpa/255:100}}}};
if(N.add.vmsk){z.vectorMask={t:"Objc",v:{classID:"null"}};z.vectorMask.v.Ofst=JSON.parse(JSON.stringify(B))}if(N.add.lmfx){z.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(N.add.lmfx))};
fT.ef(z.Lefx.v)}return z};K.le.aeI=function(s,N){var r=N.add.lyid;if(N.add.shmd==null)N.add.shmd={};
if(N.add.shmd.cmls==null){N.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:r},layerSettings:{t:"VlLs",v:[{t:"Objc",v:K.le.a4b(s,N,0)}]}}}};
K.le.fJ=function(s,N,r){for(var l=0;l<s.p.length;l++){var S=s.p[l],z=S.add.lyid;K.le.aeI(s,S);var A=S.add.shmd.cmls,B=A.layerSettings.v,Y=N["l"+z];
if(Y!=null)Y={t:"Objc",v:JSON.parse(JSON.stringify(Y))};var t=K.le.a6$(S,r);if(t==-1){if(Y==null)continue;
else B.push(Y)}else{if(Y==null)B.splice(t,1);else B[t]=Y}}};K.le.zw=function(s,N){for(var l=0;l<s.p.length;
l++){var r=s.p[l],S=r.add.lyid;if(r.add.shmd==null||r.add.shmd.cmls==null)continue;var z=r.jD(s),A=Math.round(z.x),B=Math.round(z.y);
if(!N){A=-A;B=-B}var Y=r.add.shmd.cmls,t=Y.layerSettings.v;if(Y.origFXRefPoint)K.le.gc(Y.origFXRefPoint,-A,-B);
for(var p=0;p<t.length;p++){var f=t[p].v;K.le.gc(f.Ofst,A,B);var a=f.imageMask,D=f.vectorMask;if(a&&a.v.Ofst)K.le.gc(a.v.Ofst,A,B);
if(D&&D.v.Ofst)K.le.gc(D.v.Ofst,A,B)}}};K.fB=function(){K.PJ.call(this,"Adjust Edit",K.du);this.ha=null;
this.SA=null};K.fB.prototype=new K.PJ;K.fB.cK=function(s,N,r,S){if(S)N/=4;var z=0,A=0,B=255,Y=0,t=0,p=255;
while(A+s[z]<N){A+=s[z];z++}while(Y+s[B]<N){Y+=s[B];B--}if(S){z-=Math.round(s[z]/(r/32));B+=Math.round(s[B]/(r/32));
if(z<0)t=Math.round(-z*255/(B-z));if(B>255)p=255-Math.round((B-255)*255/(B-z))}return[Math.max(z,0),Math.min(B,255),t,p,100]};
K.fB.prototype.OG=function(s,N,r,S,z){var A=s.d;if(A=="auto"){var B=s.ax,Y=K.fB.getData(r);for(var l=0;
l<Y.length;l++){var t=Y[l],p;if(B<3){}else{var f=hT.yS("hue2");eJ.Sk(f,0,[0,-100,0]);p=ai.W7("hue2",f)}ai.M$(p,t.GT,t.iX,t.Ge)}K.fB.Xv(r,Y);
K.fB.ia(r,Y,B<3?[4,16,B]:[19,7,0],this);r.V()}if(A=="edit_layer")this.atm(s,N,r,S);if(A=="edit"||A=="confirm"||A=="cancel")this.UC(s,N,r,z,!0);
if(A=="start"){if(r.f.length==0)return;var a=r.p[r.f[0]];if(a.add.SoLd&&a.GC<=0&&r.rz.length==0){var D=new hU(k.E.r,!0);
D.k=K.AB;D.data={d:"start",Cx:s.R8,kc:s.kc};N.c(D);return}if(!r.Lr(N,null,!0))return;if(V[s.R8]&&s.kc==null){if(r.f.length!=1)alert("Will be applied to "+r.f.length+" layers.");
var D=new hU(k.E.Y,!0);D.data={d:k.s.Pv,ic:"afw_"+s.R8};N.c(D)}else{this.UC({d:"edit",kc:s.kc,Cx:s.R8},N,r,z);
this.UC({d:"confirm",Cx:s.R8},N,r,z)}}};K.fB.prototype.atm=function(s,N,r,S){var z=s.d,A=r.f[0],B=r.p[A],Y=ai.get(B.add),t=JSON.parse(JSON.stringify(B.add[Y])),D;
for(var p in s.h)t[p]=s.h[p];var f=JSON.parse(JSON.stringify(t));for(var p in ai.Tv)if(ai.Tv[p]==Y)f.classID=p;
var a=r.history[r.Jn];if(a&&a.k==this&&a.data.kj!=null&&a.data.j==A)D=a;else{var c=new hU(k.E.gu,!0),J={classID:"setd",null:dv.kY("AdjL",!0),T:{t:"Objc",v:f}};
c.data={Mv:!0,uU:"set",wz:J};N.c(c);var D=new hZ([6,39],this);D.data={j:A,kj:B.add[Y],zr:t,o$:J};r.yF(D)}D.data.zr=t;
D.data.o$.T.v=f;this._6(D.data,r)};K.fB.getData=function(s,N,r){var S=[],z=new hq(0,0,s.G,s.n),A=s.rz.length!=0?[-1-s.rz[0]]:s.f;
for(var l=0;l<A.length;l++){var B=A[l],Y=B<0?null:s.p[B],t={j:B,CN:B<0?1:Y.GC};S.push(t);var p=s.Aa[-1-B];
if(0<=B)p=Y.GC<=0?null:Y.GC==1?Y.eg():Y.NM(s).B;var f=p?p.rect:Y.rect;if(s.q)t.Ge=p!=null?s.q.rect.PS(z):s.q.rect.PS(f);
else t.Ge=N||p!=null?f.Ms(z):f.clone();if(r)t.Ge=r[l].Ge.clone();var a=t.Ge.$();t.GT=q.m(a*4);if(p)K.kn.qm(p.channel,p.rect,p.color,t.GT,t.Ge);
else q.LP(Y.buffer,f,t.GT,t.Ge);t.iX=t.GT.slice(0);if(s.q){t.O4=q.m(a);q.lf(s.q.channel,s.q.rect,t.O4,t.Ge)}}return S};
K.fB.avr=function(s,N,r){if(N==null)return N;var S=ai.Pd(s,N),A;if(S==-1)return N;var z=r.length>>>2,B=q.yX(r),Y=.001*z;
if(S==0||S==2)A=[[0,255,0,255,100],K.fB.cK(B[1],Y,z,S==2),K.fB.cK(B[2],Y,z,S==2),K.fB.cK(B[3],Y,z,S==2)];
if(S==1)A=[K.fB.cK(B[0],Y*.33,z,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var t=hT.yS("levl");
for(var l=0;l<4;l++)jq.Sk(t,l,A[l]);return t};K.fB.a5i=function(s,N,r,S){var z,A;if(r.t=="name"){var B=0;
for(var Y=0;Y<s.p.length;Y++)if(s.p[Y].getName()==r.v.val)B=Y;if(s==N&&B==S.j){z=S.GT;A=S.Ge}else{var t=s.p[B];
z=t.buffer;A=t.rect}}else{A=new hq(0,0,s.G,s.n);z=s==N?S.r2:s.r9()}return[z,A]};K.fB.prototype.UC=function(s,N,r,S){if(this.ha==null){if(s.Cx=="aply")r.p[r.f[0]].extend(new hq(0,0,r.G,r.n));
this.ha=K.fB.getData(r,null,s.Cx=="fade"?r.sQ().data:null);if(s.Cx=="aply"||s.Cx=="matc")this.ha[0].r2=r.r9()}if(s.d=="edit"){this.SA=[s.Cx,s.kc];
var z=this.ha[0],A=K.fB.avr(s.Cx,s.kc,z.GT),B=ai.W7(s.Cx,A);if(s.Cx=="fade"||s.Cx=="matc"||s.Cx=="aply")B=s.kc;
if(B!=null){for(var Y=0;Y<this.ha.length;Y++){var t=this.ha[Y];if(s.rn)q.r8(t.GT,t.iX);else if(s.Cx=="fade"){var p=bm.KW(s.kc.Md.v.BlnM),f=s.kc.Opct.v.val/100,a=r.sQ().data[Y];
q.r8(a.GT,t.iX);if(p=="norm")q.Q.QV(t.GT,t.Ge,t.iX,t.Ge,null,null,null,t.Ge,f);else{var D=hC.bb();D.vX=!0;
for(var l=0;l<a.GT.length;l+=4)if(a.GT[l+3]!=t.GT[l+3]){D=null;break}q.Q.VP(p,t.GT,t.Ge,t.iX,t.Ge,t.Ge,f,D)}}else if(s.Cx=="matc"){var c;
if(B.noReference&&B.noReference.v)c=t.GT;else{var J=B.Srce.v,Z=J[1].v.val,Q=N.Rr,M=r;for(var l=0;l<Q.length;
l++)if(Q[l].name==Z)M=Q[l];var u=K.fB.a5i(M,r,J[0],t);c=u[0]}kd(t.GT,t.Ge.G,t.Ge.n,c,t.iX,[B.Lght.v,B.ClrR.v,B.Fade.v,B.neutralizeColor?B.neutralizeColor.v:!1])}else if(s.Cx=="aply"){B=B.With.v;
var P=B.T.v,u=K.fB.a5i(r,r,P[1],t),c=u[0],m=u[1],i=B.Clcl?B.Clcl.v.Clcn:null,p=i?bm.KW(i):"norm",f=B.Opct?B.Opct.v.val/100:1,e=["RGB","Rd","Grn","Bl","Trsp"].indexOf(P[0].v.enum),A=B.Invr&&B.Invr.v;
if(A||e!=0){c=c.slice(0);if(A)q.ap7(c);if(e!=0){var X=q.m(m.$());q.WZ(c,X,e-1);if(e==4)q.dm(X);for(var $=0;
$<3;$++)q.XX(X,c,$)}}if(i=="Add"||i=="Sbtr"){var O=1/B.Scl.v,T=B.Ofst.v,b=i=="Add"?1:-1,R=new Uint8ClampedArray(t.iX.buffer);
for(var l=0;l<c.length;l+=4){R[l]=(t.GT[l]+b*c[l])*O+T;R[l+1]=(t.GT[l+1]+b*c[l+1])*O+T;R[l+2]=(t.GT[l+2]+b*c[l+2])*O+T}}else{var D=hC.bb();
D.vX=B.PrsT&&B.PrsT.v;t.iX.fill(0);t.iX.set(t.GT);q.Q.VP(p,c,m,t.iX,t.Ge,t.Ge,f,D)}}else ai.M$(B,t.GT,t.iX,t.Ge)}K.fB.Xv(r,this.ha)}}if(s.d=="cancel"){K.fB.a0A(r,this.ha);
this.ha=null}if(s.d=="confirm"){var w={fade:[2,11],aply:[2,12],matc:[4,18]},F=w[s.Cx];if(F==null)F=ai.names[s.Cx];
var L=ai.Pd(s.Cx,this.SA[1]);if(L!=-1)F=[4,16,L];K.fB.ia(r,this.ha,F,this);this.ha=null;if(L==-1)K.fB.Fx(N,this.SA)}r.V()};
K.fB.Fx=function(s,N){var r=N[0],S=N[1],z,A;if(ai.BD[r]){z=ai.BD[r];if(V[r])A=S}if(hT.BD[r]){z=hT.BD[r];
if(V[r])A=S}if(r=="fade"){z="fade";A=S}if(r=="matc"){z="matchColor";A=S}if(r=="aply"){z="applyImageEvent";
A=S}if(z==null)return;var B=new hU(k.E.gu,!0);B.data={Mv:!0,uU:z};if(A){A=JSON.parse(JSON.stringify(A));
A.classID="null";delete A.__name;B.data.wz=A}s.c(B)};K.fB.a0A=function(s,N){K.fB.z0(s,N)};K.fB.ia=function(s,N,r,S){for(var l=0;
l<N.length;l++){var z=N[l],A=s.p[z.j],B=z.j<0?s.Aa[-1-z.j]:z.CN<=0?null:z.CN==1?A.eg():A.NM(s).B;if(B){B.pS();
B.eB=!0;if(A)A.qB(s)}else{A.pS();A.V()}delete z.iX;delete z.O4}var Y=new hZ(r,S);Y.data=N;s.yF(Y);s.J4=!0};
K.fB.Xv=function(s,N,r){for(var l=0;l<N.length;l++){var S=N[l],z=s.p[S.j],A=r?S.GT:S.iX,B=S.Ge;if(S.CN==0){z.extend(B);
if(S.O4){q.LP(S.GT,B,z.buffer,z.rect);q.Q.QV(A,B,z.buffer,z.rect,S.O4,B,0,B,1)}else q.LP(A,B,z.buffer,z.rect)}else{var Y=S.j<0?s.Aa[-1-S.j]:S.CN==1?z.eg():z.NM(s).B;
Y.extend(B);if(S.O4){var t=q.m(B.$()*4);q.r8(S.GT,t);q.Q.QV(A,B,t,B,S.O4,B,0,B,1);K.kn.je(t,B,Y)}else K.kn.je(A,B,Y);
Y.eB=!0;if(z)z.qB(s)}if(z)z.V()}if(!r)K.fB.a1s(s,N)};K.fB.z0=function(s,N){for(var l=0;l<N.length;l++){var r=N[l],S=s.p[r.j],z=r.Ge,A=q.m(z.$()*4);
if(r.CN==0){q.LP(S.buffer,S.rect,A,z);S.extend(z);q.LP(r.GT,z,S.buffer,S.rect);S.pS()}else{var B=r.j<0?s.Aa[-1-r.j]:r.CN==1?S.eg():S.NM(s).B;
K.kn.qm(B.channel,B.rect,B.color,A,z);B.extend(z);K.kn.je(r.GT,z,B);B.pS();B.eB=!0;if(S)S.qB(s)}r.GT=A;
if(S)S.V()}s.J4=!0};K.fB.a1s=function(s,N){var r=K.fB.aa1(s),S=~r;if(r==16777215)return;for(var l=0;
l<N.length;l++){var z=N[l],A=s.p[z.j],B=z.Ge;if(z.CN!=0)continue;A.extend(B);var Y=B.x-A.rect.x,t=B.y-A.rect.y,p=A.rect.G,f=new Uint32Array(z.GT.buffer),a=new Uint32Array(A.buffer.buffer);
for(var D=0;D<B.n;D++)for(var c=0;c<B.G;c++){var J=D*B.G+c,Z=(D+t)*p+(c+Y);a[Z]=a[Z]&r|f[J]&S}A.pS();
A.V()}s.V()};K.fB.aa1=function(s){var N=s.a.$s;return N[2]*16711680|N[1]*65280|N[0]*255};K.fB.prototype.kA=function(s,N){var r=N.p[s.j];
if(s.kj!=null)r.add[ai.get(r.add)]=s.kj;else K.fB.z0(N,s);N.V()};K.fB.prototype._6=function(s,N){var r=N.p[s.j];
if(s.kj!=null)r.add[ai.get(r.add)]=s.zr;else K.fB.z0(N,s);N.V()};K.Fh=function(){K.PJ.call(this,"Filter Edit",K.AB);
this.ha=null;this.p$=null;this.d=null;this.SA=null};K.Fh.prototype=new K.PJ;K.Fh.prototype.OG=function(s,N,r,S,z){if(s.d=="start"){if(r.f.length==0)return;
var A=r.p[r.f[0]];if(A.add.SoLd&&A.GC<=0&&r.rz.length==0){}else if(!r.Lr(N,null,!0))return;var B=s.Cx;
if((V[B]||hT.T[B])&&s.kc==null){if(r.f.length!=1)alert("Will be applied to "+r.f.length+" layers.");
var Y=new hU(k.E.Y,!0);Y.data=K.Fh.a3R(B,this.WN(r,B));N.c(Y)}else{var t={d:"edit",Cx:B,kc:s.kc,tg:this.WN(r)};
this.OG(t,N,r,S,z);t.d="confirm";delete t.kc;this.OG(t,N,r,S,z)}}if(s.d=="edit"||s.d=="cancel"||s.d=="confirm"){if(s.d=="edit")this.SA=[s.Cx,s.kc];
if(s.tg)this.ane(s,N,r,z);else this.aqU(s,N,r,z)}if(s.d=="applylast"&&this.SA!=null){var t={d:"edit",Cx:this.SA[0],kc:this.SA[1],tg:this.WN(r)};
this.OG(t,N,r,S,z);t.d="confirm";delete t.kc;this.OG(t,N,r,S,z)}};K.Fh.a3R=function(s,N){var r=hT.T[s];
if(r)return{d:k.s.HQ,k:r,oT:{tg:N}};else return{d:k.s.Pv,ic:"afw_"+s,tg:N}};K.Fh.prototype.WN=function(s,N){var r=s.p[s.f[0]],S;
if(r.add.SoLd&&r.GC<=0&&s.rz.length==0){S={j:s.f[0],index:0};if(r.add.SoLd.filterFX!=null){var z=r.add.SoLd.filterFX.v.filterFXList.v;
S.index=z.length;for(var l=0;l<z.length;l++)if(hT.Dg(z[l].v)==N&&hT.T[N])S.index=l}}return S};K.Fh.prototype.ane=function(s,N,r,S){var z=r.p[s.tg.j],A=s.Cx;
if(s.d=="edit"){if(this.d==null){var B=hT.names[A];if(B==null)B=ai.names[A];if(A=="blendOptions")B=[14,10];
this.d=new hZ(B,this);this.d.data={tg:s.tg,abE:JSON.parse(JSON.stringify(z.add.SoLd))}}if(!z.Pi()){z.add.SoLd.filterFX=hT.b8();
this.d.data.b3=a2.atz(z.add.SoLd.placed.v);r.Zf(this.d.data.b3);z.Vw(r)}var Y=z.add.SoLd.filterFX.v.filterFXList.v;
if(Y[s.tg.index]==null){Y.push(hT.O5(A,S))}if(s.kc){Y[s.tg.index].v.enab.v=s.rn!=!0;if(A=="blendOptions")Y[s.tg.index].v.blendOptions.v=s.kc;
else Y[s.tg.index].v.Fltr.v=s.kc}this.d.data.a55=JSON.parse(JSON.stringify(z.add.SoLd));this._6(this.d.data,r)}if(s.d=="cancel"){if(this.d)this.kA(this.d.data,r);
this.d=null}if(s.d=="confirm"){if(this.d)r.yF(this.d);K.fB.Fx(N,this.SA);this.d=null}};K.Fh.prototype.p6=function(s){return{w:s>>>16,A:s>>>8&255,U:s&255}};
K.Fh.prototype.aqU=function(s,N,r,S){if(this.ha==null){var z=hT.sb(s.Cx,s.kc);this.ha=K.fB.getData(r,z.x!=0||z.y!=0)}if(s.d=="edit"){var A=JSON.stringify(s.kc);
if((s.kc==null||A!=this.p$)&&s.rn!=!0)for(var l=0;l<this.ha.length;l++){var B=this.ha[l],Y={rect:B.Ge,buffer:B.GT},t={rect:B.Ge,buffer:B.iX};
if(s.Cx=="Avrg"&&B.O4){Y.buffer=B.GT.slice(0);q.Ee(B.O4,Y.buffer)}hT.M$(s.Cx,Y,s.kc,this.p6(S.Hd),this.p6(S.on),t,[r.add.lnk2?r.add.lnk2:[],r.p[r.f[0]].eg(),r.Aa,r.Ly()]);
if(s.Cx=="Avrg"&&B.O4){var p=B.GT.length;for(var l=0;l<p;l+=4)B.iX[l+3]=B.GT[l+3]}this.p$=A}K.fB.Xv(r,this.ha,s.rn)}if(s.d=="cancel"){K.fB.a0A(r,this.ha);
this.ha=null;this.p$=null}if(s.d=="confirm"){K.fB.ia(r,this.ha,hT.names[s.Cx],this);this.ha=null;this.p$=null;
K.fB.Fx(N,this.SA)}r.V();r.J4=!0};K.Fh.prototype.kA=function(s,N){if(s.tg){var r=N.p[s.tg.j];if(s.b3)N.ct(s.b3);
r.add.SoLd=JSON.parse(JSON.stringify(s.abE));if(r.Pi())r.vJ(N);else{r.Vw(N);r.GC=0}}else K.fB.z0(N,s);
N.V();N.J4=!0};K.Fh.prototype._6=function(s,N){if(s.tg){var r=N.p[s.tg.j];if(s.b3)N.Zf(s.b3);r.add.SoLd=JSON.parse(JSON.stringify(s.a55));
if(r.Pi())r.vJ(N);else r.Vw(N);if(!r.Ey())r.Vs+=32}else K.fB.z0(N,s);N.V();N.J4=!0};var eq={pM:"0",rX:"1",If:"2",N7:"3",ta:"4",gg:"5",ne:"6",Pt:"7",r:"8",Ft:"8.5",P3:"8.8",J5:"9",Bw:"10",j4:"11",RG:"12",n8:"13",Uv:"14",zY:"15",Yp:"16",rg:"21",tO:"22",HI:"23",$H:"23.0",Ok:"23.1",w7:"23.2",dI:"23.3",xl:"23.4",el:"23.5",h2:"23.6",a91:"30",Er:"31",Y_:"40",wb:"41",mo:"42"};
eq.Go={};eq.Go[eq.rX]=["abr","brushes",cE,[9,3]];eq.Go[eq.If]=["grd","gradients",gS,[12,37]];eq.Go[eq.N7]=["shc","contours",it,[12,21]];
eq.Go[eq.ta]=["asl","styles",ge,[12,22]];eq.Go[eq.gg]=["pat","patterns",cC,[12,62]];eq.Go[eq.ne]=["csh","shapes",c1,[12,77]];
eq.Go[eq.Pt]=["aco","swatches",hc,[9,8]];eq.Go[eq.r]=["atn","actions",eN,[9,9]];eq.Go[eq.Ft]=["tpl","tpresets",gv,[9,12]];
eq.Go[eq.P3]=["icc","profiles",gY,"ICCs"];function hZ(s,N,r){if(r==null)r=!1;this.name=s;this.k=N;this.wg=r;
this.data=null;this.aio=Date.now()}var dv={};dv.kY=function(s,N){var r={t:"Clss",v:{classID:s}};if(N)r={t:"Enmr",v:{classID:s,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[r]}};dv.IY=function(s,N){var r={classID:"Lyr"};r[s]=N;return{uU:"set",wz:{classID:"null",null:dv.kY("Lyr",!0),T:{t:"Objc",v:r}}}};
dv.anW=function(s,N,r,S,z){var A=new hU(k.E.gu,!0),B=[],l=0,Y=dv.Mq(N,r,S,B);while(B.length!=0){var t=B.pop();
l++;if(!t.K)continue;console.log(l-1);if(t.uU=="conditional"){var p=s.p[s.f[0]],f=t.wz.null.v.Cndt,a=!1;
if(f=="Bckg")a=!1;else if(f=="Pxel"&&s.pu(!1))a=!0;else if(f=="Adjs"&&ai.get(p.add))a=!0;else if(f=="Shp"&&p.add.vogk)a=!0;
else if(f=="Grup"&&p.Ob())a=!0;else if(f=="Opn"&&s!=null)a=!0;else if(f=="32Bt")a=!1;else if(f=="RGB")a=!0;
var D=t.wz.then,c=t.wz.else;if(a&&D)dv.Mq(N,D.v[0].v.val,D.v[1].v.val,B);if(!a&&c)dv.Mq(N,c.v[0].v.val,c.v[1].v.val,B)}else if(t.uU=="stop"){if(t.wz.Cntn&&t.wz.Cntn.v==!0)window.confirm(t.wz.Msge.v);
else{alert(t.wz.Msge.v);break}}else if(t.uU=="play"){var J=t.wz.null.v,Z=new hU(k.E.Y,!0);Z.data={d:k.s.mj,PH:[J[0].v.val,J[1].v.val]};
z.c(Z)}else{A.data={uU:t.uU,wz:t.wz};z.c(A)}}};dv.Mq=function(s,N,r,S){var z;for(var l=0;l<s.length;
l++){if(s[l].Ru!=r)continue;var A=s[l].bh;for(var B=0;B<A.length;B++){if(A[B].Ru!=N)continue;z=A[B].bh}}var Y=z.length;
for(var l=0;l<Y;l++)S.push(z[Y-1-l])};dv.ahq=function(s){var N=s.uU,r=s.wz,S,B,Y,t,p;if(r&&r.null)S=r.null.v[0];
if(r&&S==null&&r.At)S=r.At.v[0];if(S&&S.t=="obj ")S=S.v[0];var z=S?S.v.classID:null,A=["purge"];if(A.indexOf(N)!=-1)return N[0].toUpperCase()+N.slice(1);
if(N=="GEfc"||N=="paintDaubs")return gN.names[r.GEfk.v.GEft][1];p=ai.BD;for(B in p)if(p[B]==N)Y=B;p=hT.BD;
for(B in p)if(p[B]==N)t=B;if(Y){var f=ai.Pd(Y,r);if(f!=-1)return[4,16,f];return ai.names[Y]}if(t)return hT.names[t];
var a=dv.adM;if(N=="make"){if(S){if(z=="AdjL")return[6,1];else if(z=="layerSection")return r.From?[6,9]:[6,20];
else if(z=="Lyr")return[6,13];else if(z=="Chnl"&&S.v.enum=="Msk")return[6,2];else if(z=="contentLayer")return[6,48,1];
else if(z=="BckL")return"Make Background Layer";else if(z=="Path")return"Make Path";else if(z=="TxLr")return"Make Text Layer";
else if(z=="slice")return"Make Slices"}if(r.Nw){z=r.Nw.v.classID;if(z=="Dcmn")return[11,7];else if(z=="Chnl"||z=="SCch")return"New Channel"}}else if(N=="deselect"){if(z=="Path")return"Deselect current path";
else throw z}else if(N=="select"){if(z=="Chnl")return"Select "+(S.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(z=="Mn")return"Select Panel \""+S.v.enum+"\"";else if(z=="Lyr"){if(S.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[S.v.enum]+" Layer";
return"Select Layer \""+S.v.val+"\""}else if(z=="Path")return"Select Path";else if(z=="Brsh")return"Select Brush";
else if(z=="Dcmn")return"Select Document"}else if(a[N]&&z=="Chnl"){var D=S.v.keyID=="fsel";return a[N]+" "+(D?"Selection":"Channel")}else if(N=="set"){if(z=="Lyr")return"Set Current Layer";
else if(z=="AdjL")return[6,39];else if(z=="contentLayer")return[6,48,2];else if(z=="Prpr"){var c=S.v.keyID;
if(c=="TxtS")return"Set Text Style";else if(c=="paragraphStyle")return"Set Paragraph Style";else if(c=="Lefx")return[11,6];
else console.log(c)}else if(z=="Clr")return"Set "+(S.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(z=="Brsh")return"Set Brush";else console.log(z)}else if(N=="move"){if(z=="Lyr")return"Move Layer";
else if(z=="Chnl"&&S.v.keyID=="fsel")return[7,7];else console.log(z)}else if(N=="show"||N=="hide"){var J="";
if(z=="Lyr")+"Layer";if(z=="Chnl")+"Channel";return(N=="show"?"Show":"Hide")+" "+J}else if(N=="reset"){if(z=="Clr")return"Reset Colors"}else if(N=="exchange"){if(z=="Clr")return[22,7,0]}else if(N=="rotateEventEnum")return[2,5];
else if(N=="flip"){var Z=r.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,Z?2:3]]}if(z=="Chnl"){if(N=="duplicate"){if(S.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(N=="delete")return"Delete Channel"}if(N=="transform")return S&&S.v.keyID=="fsel"?[7,10]:[10,16];
var Q={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:r?z=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},M=Q[N];
if(M==null)M=dv.a7c[N];if(M)return M;return N};dv.a7c={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
dv.adM={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
dv.ana=function(s,N,r,S){var z=s.uU,A=s.wz,B=!1,Y=new hU(k.E.r,!0),f,a,D,c;Y.k=K.g$;var t=new hU(k.E.Y,!0),p=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(p.indexOf(z)!=-1)return;c=ai.BD;for(f in c)if(c[f]==z)a=f;c=hT.BD;for(f in c)if(c[f]==z)D=f;if(z=="fade")a=z;
if(z=="matchColor")a="matc";if(z=="applyImageEvent")a="aply";if(a){Y.k=K.du;Y.data={d:"start",R8:a,kc:A}}else if(D){Y.k=K.AB;
Y.data={d:"start",Cx:D,kc:A}}else if(z=="GEfc"||z=="paintDaubs"){Y.k=K.AB;Y.data={d:"start",Cx:"GEfc",kc:A}}else if(z=="imageSize"||z=="canvasSize"||z=="revealAll"||z=="trim"||z=="crop"){Y.k=K.$u;
Y.data={d:"fromAction",As:s}}else if(z=="fill"||z=="stroke"||z=="delete"&&A==null){Y.k=K.rX;Y.data={d:"fromAction",As:s}}else if(z=="colorRange"){Y.k=K.Kn;
Y.data={d:"fromAction",As:s}}else if(dv.a7c[z]||dv.adM[z]&&(!1||A.With&&A.With.v[0].v.keyID=="fsel"||A.From&&A.From.v[0].v.keyID=="fsel"||A.null&&A.null.v[0].v.keyID=="fsel"||A.T.v[0]&&A.T.v[0].v.keyID=="fsel")){Y.k=K.Kn;
Y.data={d:"fromAction",As:s}}var J={copyToLayer:y.sU,cutToLayer:y.ZY,mergeLayersNew:y.Qu,rasterizeLayer:y.anl,mergeVisible:y.gN,flattenImage:y.aih,newPlacedLayer:y.l1};
if(J[z])Y.data={d:J[z],wz:A};if(Y.data){N.c(Y);return}if(z=="collapseAllGroupsEvent"){for(var l=0;l<S.p.length;
l++){var Z=S.p[l];if(Z.Ob())Z.add.lsct=d9.vH}S._R=!0;return}if(z=="desaturate"){Y.k=K.du;Y.data={d:"auto",ax:3};
if(S&&S.p[S.f[0]].add.SoLd==null)N.c(Y);return}if(z=="close"){if(A.Svng.v.YsN=="Ys"){t.data={d:k.s.Hh};
N.c(t)}t.data={d:k.s.h_,rd:S};N.c(t);return}if(z=="save"){t.data={d:k.s.Hh};N.c(t);return}if(z=="copyMerged"){t.data={d:k.s.Sy,v3:!0,Il:!0};
N.c(t);return}var J={placedLayerEditContents:k.s.a0r,copyEvent:k.s.Sy,paste:k.s.MF};if(J[z])t.data={d:J[z],Il:!0};
if(t.data){N.c(t);return}console.log(z,A);var Q=A.null?A.null.v:null,M=Q?Q[0].v.classID:"";if(z=="make"){if(A.null==null&&A.Nw)M=A.Nw.v.classID;
if(M=="AdjL"){Y.data={d:y.MP,wz:A}}else if(M=="layerSection"){Y.data=A.From?{d:y.zK}:{d:y.ly};if(A.Usng){var u=A.Usng.v;
if(u.Nm)Y.data.sx=u.Nm.v;if(u.Clr)Y.data.zU=dv.na(u)}}else if(M=="Lyr"){if(A.Usng&&A.Usng.v.length==2)Y.data={d:y.a9h};
else{Y.data={d:y.Jj};if(A.Usng)Y.data.sx=A.Usng.v.Nm.v;if(A.below&&A.below.v)Y.data.ag_=!0}}else if(M=="Chnl"&&A.At&&A.At.v[0].v.enum=="Msk"){Y.data={d:y.Ed,uy:A.Usng.v.UsrM}}else if(M=="Chnl"||M=="SCch"){Y.data={d:y.xn,Xy:"fromAction",h:s}}else if(M=="contentLayer"){Y.data={d:y.E$,wz:A}}else if(M=="BckL"){S.p[S.f[0]].a8v();
return}else if(M=="Dcmn"){var P=A.Nw.v;t.data={d:k.s.Ap,jO:a2.agZ(P,r)}}else if(M=="Ptrn")t.data={d:k.s.Kd,LS:0};
else if(M=="Path"){Y.k=K.pG;Y.data={d:"pathedit",Xy:"fromsel"}}else if(M=="TxLr"){Y.k=K.wQ;Y.data={d:"fromAction",As:s}}else if(M=="slice"){Y.k=K.f0;
Y.data={d:"fromAction",As:s}}else{console.log(z,M,A);throw"e"}}else if(z=="deselect"){if(M=="Path"){S.LD=[];
S._R=S.kk=!0;return}else throw M}else if(z=="selectNoLayers"){S.f=[];S.J4=!0}else if(z=="select"){var m={PcTl:K.j8,PbTl:K.rX,magicWandTool:K.Qn};
if(M=="Lyr"){var i=A.selectionModifier,e=i?i.v.selectionModifierType:null,X=dv.KA(S,Q[0]);if(X==-1){alert("Layer "+Q[0].v.val+" does not exist.");
return}Y.data={d:y.ea,j:X,w9:e?["addToSelection","addToSelectionContinuous"].indexOf(e):null,Iw:0}}else if(M=="Path"){if(Q[0].v.keyID=="WrPt"){S.LD=[0];
S._R=S.kk=!0;return}else throw Q[0]}else if(M=="Chnl"){Y.data={d:y.ea,j:X,Iw:1}}else if(M=="Dcmn"){if(N.Rr.length<2)return;
t.data={d:k.s.agK,dir:A.null.v[0].v.val}}else if(M=="Brsh"){var $=r.Vj.list,O;for(var l=0;l<$.length;
l++){if($[l].v.Nm.v==Q[0].v.val)O=$[l].v}t.data={d:k.s.Jl,LS:eq.Uv,TK:O}}else if(M=="Mn"){if(Q[0].v.enum=="Scl")t.data={d:k.s.HQ,k:K.ZB,oT:{uy:3}};
if(Q[0].v.enum=="Plce")t.data={d:k.s.LO,auM:!0};if(Q[0].v.enum=="ZmIn"){Y.k=K.b_;Y.data={d:"zoom",p5:!0}}if(Q[0].v.enum=="ZmOt"){Y.k=K.b_;
Y.data={d:"zoom",p5:!1}}if(Q[0].v.enum=="FtOn"){Y.k=K.b_;Y.data={d:"adapt",h:"fitscr"}}}else if(m[M]){t.data={d:k.s.HQ,k:m[M]}}else throw M}else if((z=="set"||z=="reset"||z=="exchange")&&M=="Clr"){t.data={d:k.s.Jl,LS:eq.rg,Xy:z=="reset"?3:2};
if(z=="set"){t.data.Xy=Q[0].v.keyID=="FrgC"?0:1;var b=q.i.iy(A.T.v);t.data.h=b.w<<16|b.A<<8|b.U}}else if(z=="set"){if(M=="AdjL"){var R=A.T.v.classID;
R=ai.Tv[R];Y.k=K.du;if(R)Y.data={d:"edit_layer",h:A.T.v}}else if(M=="Lyr"){var w=A.T.v,X=dv.KA(S,Q[0]);
for(var F in w){if(F=="classID")continue;Y.k=K.g$;if(F=="Nm")Y.data={d:y.RU,name:w.Nm.v};else if(F=="Opct")Y.data={d:y.EX,zr:Math.round(w.Opct.v.val*255/100)};
else if(F=="fillOpacity")Y.data={d:y.bG,zr:Math.round(w.fillOpacity.v.val*255/100)};else if(F=="Md")Y.data={d:y.q$,zr:bm.ac.indexOf(w.Md.v.BlnM)+(S.p[X].Ob()?1:0)};
else if(F=="Usrs")Y.data={d:y.dF,j:X};else if(F=="Blnd"){Y.k=K.dl;Y.data={d:"setstl",j:X,h:{blendOptions:{t:"objc",v:w}}};
N.c(Y);Y.data={d:"confirm",j:X}}else if(F=="userMaskFeather"||F=="userMaskDensity"){var L=w.userMaskFeather,x=w.userMaskDensity,X=S.f[0],g=S.p[X].RJ(0);
if(L)g.lk=L.v.val;if(x)g.Lg=x.v.val;Y.data={d:y.zF,HE:X,$e:g}}else if(F=="Clr"){var n=dv.na(w);Y.data={d:y.Md,at0:n}}else if(F=="Lefx")dv.a6k(N,X,w.Lefx.v);
else{console.log(A);throw F}if(Y.data){N.c(Y);delete Y.data}}Y.data={};var Z=S.p[X];Z.ais()}else if(M=="Prpr"){var w=JSON.parse(JSON.stringify(A.T.v)),X=dv.KA(S,A.null.v[1]),Z=S.p[X],h=Q[0].v.keyID;
if(h=="TxtS"||h=="paragraphStyle"){var _=Z.add.TySh,H=JSON.parse(JSON.stringify(_.pg)),G=en.RS(H),j=en.hM(H,0,G.length-2);
if(h=="TxtS")en.a3w(w,j);else en.ajg(w,j);en.Z6(H,0,G.length-1,j);Y.k=K.wQ;Y.data={d:"newED",uO:X,dk:H}}else if(h=="Lefx"){for(var v in w)if(w[v].v){if(v=="Scl")w[v].v.val=100;
if(w[v].v.TrnS&&w[v].v.TrnS.v.Crv==null){w[v].v.TrnS=JSON.parse(jG.FH[9]).TrnS}}dv.a6k(N,X,w);Y.data={}}else throw h}else if(M=="contentLayer"){var X=dv.KA(S,Q[0]),w=A.T.v;
if(w.classID=="shapeStyle")w=w.FlCn.v;var C={solidColorLayer:0,gradientLayer:1,patternLayer:2}[w.classID],E=K.HZ.rv(S,X),D=E.Hf==C+1?E.SR:jG.WX[C];
D=JSON.parse(JSON.stringify(D));K.o7.Zn(w,D,C);Y.data={d:y.ad,vA:[X],LK:!0,h:{Hf:C+1,SR:D}}}else if(M=="Brsh"){var O=JSON.parse(JSON.stringify(r.Vj.io)),I=A.T.v;
if(I.masterDiameter)O.Brsh.v.Dmtr.v.val=I.masterDiameter.v.val;else console.log("unknown brush parameters");
t.data={d:k.s.Jl,LS:eq.Uv,TK:O}}else{console.log(Q[0],A);throw M}}else if(z=="move"){if(M=="Lyr"){var w=A.T.v;
if(w.classID=="Ofst"){Y.data={d:"trsl",w8:w.Hrzn.v.val,cH:w.Vrtc.v.val};Y.k=K.tM}else{var dJ,fG;if(w[0].t=="Enmr"){if(w[0].v.enum=="Frnt")fG=0;
else if(w[0].v.enum=="Nxt")fG=1;else if(w[0].v.enum=="Prvs")fG=2;else if(w[0].v.enum=="Back")fG=3;else throw"e"}else dJ=w[0].v.val;
Y.data={d:y.Qv,target:dJ,Xy:fG,ai8:A.Dplc?A.Dplc.v:!1}}}else if(M=="Chnl"&&Q[0].v.keyID=="fsel"){Y.k=K.Kn;
Y.data={d:"fromAction",As:s}}}else if(z=="groupEvent"||z=="ungroup")Y.data={d:y.DM};else if(z=="show"||z=="hide"){var o=Q[0].v;
for(var l=0;l<o.length;l++){var i4=o[l],M=i4.v.classID;if(M=="Lyr"){if(Y.data==null)Y.data={d:y.ks,vA:[]};
var X=dv.KA(S,i4);if(X==-1)continue;var df=S.p[X].ES();if(z=="show"&&df||z=="hide"&&!df)continue;Y.data.vA.push(X)}else if(M=="Chnl"){Y.data={d:y.xn,Xy:"fromAction",h:s}}else if(M=="filterFX"){if(i4.v.val!=null)Y.data={d:y.fA,index:i4.v.val-1};
Y.data={d:y.Ex}}}}else if(z=="rotateEventEnum"){Y.k=K.$u;var eO=A.Angl.v.val;Y.data={d:"rot",Ru:[2,5],h:-eO*Math.PI/180}}else if(z=="flip"){Y.k=K.$u;
var cO=A.Axis.v.Ornt=="Hrzn",ej=cO?new cR(-1,1):new cR(1,-1);Y.data={d:"scl",Ru:[[2,6],[22,4,cO?2:3]],h:ej}}else if(z=="transform"){var cn=1,j5=1,gP=0,bY=0,gR=0,c3=0,jj=0;
if(A.Wdth)cn=A.Wdth.v.val/100;if(A.Hght)j5=A.Hght.v.val/100;if(A.Skew){var jC=A.Skew.v;gP=jC.Hrzn.v.val;
bY=jC.Vrtc.v.val}if(A.Ofst){var kf=A.Ofst.v;c3=kf.Hrzn.v.val;jj=kf.Vrtc.v.val}if(A.Angl)gR=A.Angl.v.val;
var bz=new gF;bz.concat(new gF(cn,cn*Math.tan(bY*Math.PI/180),j5*Math.tan(gP*Math.PI/180),j5,0,0));bz.rotate(-gR*Math.PI/180);
bz.translate(c3,jj);var iv={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[A.FTcs.v.QCSt];
if(iv==null)throw A.FTcs.v.QCSt;var Q=A.null;if(Q&&Q.v instanceof Array)Q=Q.v[0];var X=Q?dv.KA(S,Q):null;
if(X==-1)X=null;Y.k=Q&&Q.v.keyID=="fsel"?K.nM:K.ZB;Y.data={d:"mat",P0:iv,h:bz}}else if(z=="duplicate"){if(M=="Chnl")Y.data={d:y.xn,Xy:"fromAction",h:s};
else Y.data={d:y.Wo,sx:A.Nm?A.Nm.v:null}}else if(z=="delete"){if(M=="filterFX"){if(Q[0].v.val!=null)Y.data={d:y.AG,U3:Q[0].v.val-1};
else Y.data={d:y.iU}}else if(M=="Path"){Y.k=K.pG;Y.data={d:"pathedit",Xy:"del"}}else if(M=="Lyr")Y.data={d:y.iN};
else if(M=="Chnl"&&Q[0].v.enum=="Msk")Y.data={d:y.lH};else if(M=="Chnl")Y.data={d:y.xn,Xy:"fromAction",h:s};
else throw M}else if(z=="align"){if(A.Aply&&A.Aply.v.projection=="Auto"){Y.k=K.$u;Y.data={d:"auto-align"}}else{Y.k=K.tM;
var bI=A.Usng.v.ADSt,a={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[bI];if(a==null)throw bI;Y.data={d:"algn",h:a}}}else if(z=="applyLocking"){var jo=A.layerLocking.v,iZ;
if(jo.protectTransparency)iZ=[[jo.protectTransparency.v],[0]];else if(jo.protectNone)iZ=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(jo);throw"e"}Y.data={d:y.te,zr:iZ}}if(Y.data)N.c(Y);else if(t.data)N.c(t);else{console.log(s);
alert("Unknown action \""+z+"\"");throw"e"}};dv.a6k=function(s,N,r){r=JSON.parse(JSON.stringify(r));
fT.gm(r);if(r.masterFXSwitch==null)r.masterFXSwitch={t:"bool",v:!0};var S=new hU(k.E.r,!0);S.k=K.dl;
S.data={d:"setstl",j:N,h:{Lefx:{t:"objc",v:r}}};s.c(S);S.data={d:"confirm",j:N};s.c(S)};dv.na=function(s){var N={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[s.Clr.v.Clr];
if(N==null)throw s.Clr.v.Clr;return N};dv.KA=function(s,N){var r=1e6,S=0,z=s.p.length;for(var l=0;l<s.f.length;
l++){r=Math.min(r,s.f[l]);S=Math.max(S,s.f[l])}var A=N.t,B=-1;if(A=="name"){var Y=N.v.val,B=-1;for(var l=0;
l<z;l++)if(s.p[l].getName()==Y){B=l;break}}else if(A=="Enmr"){if(s.f.length!=0)B=s.f[0];if(N.v.enum=="Frwr")B=S+1;
if(N.v.enum=="Bckw")B=r-1;if(N.v.enum=="Back")B=0;if(N.v.enum=="Frnt")B=z-1;B=(B+z)%z}else if(A=="prop"){if(N.v.keyID=="Bckg")B=0}return B};
var ai={};ai.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
ai.avV=["expA","clrL","selc"];ai.TC=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];ai.awT=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
ai.Fi=[[13,1,1],[13,1,4],[13,1,5]];ai.I5={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
ai.Tv=function(){var s=JSON.parse(JSON.stringify(ai.I5));delete s.GrMp;s.GdMp="grdm";return s}();ai.BD={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
ai.keys={levl:[cK.z6,cK.Mp],curv:[cK.z6,cK.x8],hue2:[cK.z6,cK.tK],nvrt:[cK.z6,cK.$K],blnc:[cK.z6,cK.pU]};
ai.anj=function(s){var N=hT.yS("mixr");N.Mnch={t:"bool",v:s.I4};function r(S,l){var z={classID:"ChMx"},A={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var B in A)z[B]={t:"UntF",v:{type:"#Prc",val:S[l+A[B]]}};return{t:"Objc",v:z}}if(s.I4)N.Gry=r(s.h,0);
else{N.Rd=r(s.h,0);N.Grn=r(s.h,5);N.Bl=r(s.h,10)}return N};ai.Ku=function(s){function N(S,z,l){var A={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var B in A)if(S[B])z[l+A[B]]=S[B].v.val}var r={I4:!1,h:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(s.Mnch&&s.Mnch.v)r.I4=!0;if(r.I4)N(s.Gry.v,r.h,0);else{N(s.Rd.v,r.h,0);N(s.Grn.v,r.h,5);N(s.Bl.v,r.h,10)}return r};
ai.get=function(s){for(var N in ai.names)if(s[N]!=null)return N;return null};ai.W7=function(s,N){var r=ai.Uq,S;
if(s=="brit"){var z=N.Brgh?N.Brgh.v:0,A=N.Cntr?N.Cntr.v:0,B=N.useLegacy?N.useLegacy.v:!1;if(B){var Y=z/255,t=1+A/100;
if(t>1)t=1+Math.tan(Math.PI/2*A/101);var p=(1-t)/2,f=q.i_.vb(Y,Y,Y),a=[t,0,0,p,0,t,0,p,0,0,t,p,0,0,0,1],D=q.i_.multiply(f,a),c=new q.Ek(256);
for(var l=0;l<256;l++)c.w[l]=l;q.i_.transform(c,c,D);S={type:r.B4,_O:c.w,Yq:c.w,hC:c.w,fd:!1,aI:!1}}else{var J=1024,Z=-30+60*(A+100)/200,Q=[];
for(var l=0;l<4;l++)Q.push(q.R2.rP(l/3*255,l/3*255,!0));Q[1].v.Hrzn.v=64;Q[1].v.Vrtc.v=64-Z;Q[2].v.Hrzn.v=128+64;
Q[2].v.Vrtc.v=128+64+Z;Q.sort(function(fQ,gL){return fQ.v.Hrzn.v-gL.v.Hrzn.v});var M=q.R2.s9(Q,J);function u(fQ,J){var Q=[],i3=3;
for(var l=0;l<i3+1;l++)Q.push(q.R2.rP(l/i3*255,l/i3*255,!0));Q[1].v.Hrzn.v=130-fQ*26;Q[1].v.Vrtc.v=130+fQ*51;
Q[2].v.Hrzn.v=233-fQ*48;Q[2].v.Vrtc.v=233+fQ*10;return q.R2.s9(Q,J)}var P=u(Math.abs(z)/100,J);if(z<0){var m=[],i=1/J;
for(var l=0;l<J;l++){var e=l*i,X=l;while(P[X]>e&&X>1)X--;m[l]=X*i}P=m}var $=new Uint8Array(J);for(var l=0;
l<J;l++){var O=Math.round((J-1)*P[l]);$[l]=Math.round(255*M[O])}S={type:r.B4,_O:$,Yq:$,hC:$,fd:!1,aI:!1}}}if(s=="levl"){var T=[],b,R,f,w,F,L;
for(var l=0;l<4;l++)T.push(jq.Xc(N,l));b=-T[0][0]/255;R=1/(T[0][1]/255-T[0][0]/255);f=q.i_.multiply(q.i_.Q$(R,R,R),q.i_.vb(b,b,b));
w=q.i_.Q$(1/(T[1][1]/255-T[1][0]/255),1/(T[2][1]/255-T[2][0]/255),1/(T[3][1]/255-T[3][0]/255));F=q.i_.vb(-T[1][0]/255,-T[2][0]/255,-T[3][0]/255);
L=q.i_.multiply(w,F);var $=new q.Ek(256);for(var l=0;l<256;l++)$.w[l]=$.A[l]=$.U[l]=l;var x=1/(T[0][4]/100),g=1/(T[1][4]/100),n=1/(T[2][4]/100),h=1/(T[3][4]/100);
q.i_.transform($,$,L);for(var l=0;l<256;l++){$.w[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.w[l]/255,g))));
$.A[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.A[l]/255,n))));$.U[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.U[l]/255,h))))}q.i_.transform($,$,f);
for(var l=0;l<256;l++){$.w[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.w[l]/255,x))));$.A[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.A[l]/255,x))));
$.U[l]=Math.round(Math.max(0,Math.min(255,255*Math.pow($.U[l]/255,x))))}b=T[0][2]/255;R=T[0][3]/255-T[0][2]/255;
f=q.i_.multiply(q.i_.vb(b,b,b),q.i_.Q$(R,R,R));w=q.i_.Q$(T[1][3]/255-T[1][2]/255,T[2][3]/255-T[2][2]/255,T[3][3]/255-T[3][2]/255);
F=q.i_.vb(T[1][2]/255,T[2][2]/255,T[3][2]/255);L=q.i_.multiply(F,w);q.i_.transform($,$,q.i_.multiply(f,L));
S={type:r.B4,_O:$.w,Yq:$.A,hC:$.U,fd:!1,aI:!1}}if(s=="curv"){var _=ed.Xc(N,0).length==256?1:0,H=[];if(_==0){var G=q.R2.zu(ed.Xc(N,0),256);
for(var l=1;l<4;l++){var j=q.R2.zu(ed.Xc(N,l),256);H.push(q.R2.Hg(j,G))}}else{var v=[];for(var l=0;l<4;
l++){var C=new Uint8Array(256);v.push(C);var E=ed.Xc(N,l);for(var X=0;X<256;X++)C[X]=E[X]}for(var l=1;
l<4;l++)H.push(q.R2.Hg(v[l],v[0]))}S={type:r.B4,_O:H[0],Yq:H[1],hC:H[2],fd:!1,aI:!1}}if(s=="expA"){var I=N.Exps,dJ=N.Ofst,fG=N.gammaCorrection,o=I?I.v:0,i4=dJ?dJ.v:0,df=fG?fG.v:1,$=new Uint8Array(256);
for(var l=0;l<256;l++){var N=l/255,eO=Math.pow(Math.abs(i4),1/(Math.PI/2));if(i4>0){N=Math.max(i4/Math.E,N);
N=N*Math.exp(i4/1.75+o/Math.PI);N=(1-eO)*N+eO*1}else{N=N*Math.exp(-i4*1.75+o/Math.PI);N=N+-eO*1.14}N=Math.pow(N,1/df);
N=Math.max(0,Math.min(1,N));$[l]=Math.round(N*255)}S={type:r.B4,_O:$,Yq:$,hC:$,fd:!1,aI:!1}}if(s=="vibA"){var cO=(N.vibrance?N.vibrance.v:0)/100,ej=(N.Strt?N.Strt.v:0)/100,eO=1+cO*(cO>0?.25:.5),cn=.8+.2/eO;
S={type:r.si,LS:[cO,ej,cn,eO]}}if(s=="hue2"){var j5=[],gP=[],bY=[],gR=N.Clrz?N.Clrz.v:!1;for(var l=0;
l<256;l++){j5[l]=l/255;gP[l]=0;bY[l]=0}var c3=eJ.Xc(N,0),jj=ai.bF(c3[1]/100);if(gR){var jC=c3[0]/360;
for(var l=0;l<256;l++){j5[l]=jC;gP[l]=jj}}else{for(var l=0;l<256;l++){var kf=j5[l],bz=gP[l];j5[l]+=c3[0]/360;
for(var X=0;X<6;X++){var iv=eJ.Xc(N,X+1),bI=iv.hm,jo=iv.Fm,eO=0;for(var iZ=1;iZ<4;iZ++)if(jo[iZ]<jo[0])jo[iZ]+=360;
var jD=jo[0],dM=jo[1],ka=jo[2],ds=jo[3],ee=kf*360;if(ee<jo[0])ee+=360;var a9=(ee-jD)/(dM-jD),ir=(ee-ka)/(ds-ka);
if(a9<0)eO=0;else if(a9<1)eO=a9;else if(ir<0)eO=1;else if(ir<1)eO=1-ir;else eO=0;var t=ai.bF(bI[1]/100);
j5[l]+=eO*bI[0]/360;gP[l]+=eO*t;bY[l]+=eO*bI[2]/100}}for(var l=0;l<256;l++){gP[l]=(1+gP[l])*(1+jj)-1;
bY[l]=Math.max(-1,Math.min(1,bY[l]))}}var eP=new Uint8Array(256),jh=new Uint8Array(256),fy=new Uint8Array(256);
for(var l=0;l<256;l++){var eS=j5[l],ej=gP[l],gz=bY[l];if(eS>1)eS--;if(eS<0)eS++;ej=ai.ab1(ej);ej=(1+ej)*.5;
gz=(1+gz)*.5;eP[l]=Math.round(255*eS);jh[l]=Math.round(255*ej);fy[l]=Math.round(255*gz)}var fi=c3[2]/100,fw=fi<0?-fi:fi,ce=fi<0?0:1;
S={type:r.qn,ajQ:eP,Rf:jh,a13:fy,a1G:fw*ce,A2:1-fw,a5C:c3[2]/100,a2t:gR?1:0}}if(s=="nvrt"){var $=new Uint8Array(256);
for(var l=0;l<256;l++)$[l]=255-l;S={type:r.B4,_O:$,Yq:$,hC:$,fd:!1,aI:!1}}if(s=="post"){var hl=N.Lvls.v,$=new Uint8Array(256),eO=hl/255.001,ia=255/(hl-1);
for(var l=0;l<256;l++)$[l]=Math.floor(l*eO)*ia;S={type:r.B4,_O:$,Yq:$,hC:$,fd:!1,aI:!1}}if(s=="grdm"){var iQ=N.Grad.v,em=N.Rvrs,J=1024,k4;
if(iQ.Clrs){var ar=q.i.lV(iQ.Clrs.v,0,0);k4=q.i.g6(iQ,ar,J,em?em.v:!1)}else{k4=q.i.VC(iQ,J,em?em.v:!1)}var fg=q.m(J),j0=q.m(J),bU=q.m(J);
q.WZ(k4,fg,0);q.WZ(k4,j0,1);q.WZ(k4,bU,2);S={type:r.B4,_O:fg,Yq:j0,hC:bU,fd:!0,aI:!1}}if(s=="selc"){var dn=new Float32Array(9*3*2),aJ=N.yh,bE=N.Mthd?N.Mthd.v.CrcM=="Absl":!1;
for(var X=0;X<9;X++){var ew=X*6,jy=eA.Xc(N,X),eT=jy[0]/100,du=jy[1]/100,c_=jy[2]/100,f9=jy[3]/100;if(bE){dn[ew]=dn[ew+1]=dn[ew+2]=1;
dn[ew+3]=eT*(1+f9)+f9;dn[ew+4]=du*(1+f9)+f9;dn[ew+5]=c_*(1+f9)+f9}else{dn[ew+0]=(1+eT)*(1+f9);dn[ew+1]=(1+du)*(1+f9);
dn[ew+2]=(1+c_)*(1+f9)}}S={type:r.NL,a3E:dn}}if(s=="blwh"){var bp="Rd Yllw Grn Cyn Bl Mgnt".split(" "),S=[],jK=0,ad=0;
for(var l=0;l<6;l++)S.push(N[bp[l]].v);S.push(N.useTint.v,N.tintColor.v);var aL=[];for(var l=0;l<6;l++)aL.push((S[l]-50)/50);
var f8=q.i.iy(S[7]);f8.w/=255;f8.A/=255;f8.U/=255;var aE=q.R4(f8.w,f8.A,f8.U),gz=q.G6(q.Lw(aE.JY,1,.5)),be=aE.D7*aE.kc;
if(gz==.5)jK=ad=.5;else{jK=be*(.5-gz)/(.5/gz-1);ad=1-be*(.5-gz)-1/(2*(1-gz));ad/=1-1/(2*(1-gz))}S={type:r.Uc,a0s:aL,cJ:S[6]?1:0,am6:aE.JY,G6:gz,ail:be,KJ:jK,a7p:ad}}if(s=="blnc"){var T=[],iF=["ShdL","MdtL","HghL"];
for(var l=0;l<3;l++){if(N[iF[l]]==null){T[l]=[0,0,0];continue}var hl=N[iF[l]].v,c0=hl[0].v/100,hE=hl[1].v/100,hJ=hl[2].v/100,cZ=N.PrsL==null||N.PrsL.v?(Math.min(c0,hE,hJ)+Math.max(c0,hE,hJ))/2:0;
T[l]=[c0-cZ,hE-cZ,hJ-cZ]}var H=[q.m(256),q.m(256),q.m(256)];for(var X=0;X<3;X++)for(var l=0;l<256;l++){var e=l*(1/255),dS=0,Z=0,gh=0;
Z=T[2][X];gh=Math.abs(Z);if(Z<0)dS=Math.pow(e,Math.SQRT2);else dS=1.63*(Math.pow(e+.04,.5)-.2);e=gh*dS+(1-gh)*e;
Z=T[1][X];gh=Math.abs(Z);if(Z<0)dS=Math.pow(e,2);else dS=Math.min(2.35*(Math.pow(e+.09,.5)-.3),Math.pow(e,1/2));
e=gh*dS+(1-gh)*e;Z=T[0][X];gh=Math.abs(Z);if(Z<0)dS=e<.4?0:Math.pow((e-.4)/.6,Math.SQRT2);else dS=Math.pow(e,Math.SQRT2/2);
e=gh*dS+(1-gh)*e;e=Math.max(0,Math.min(1,e));H[X][l]=Math.round(e*255)}S={type:r.B4,_O:H[0],Yq:H[1],hC:H[2],fd:!1,aI:!1}}if(s=="phfl"){var ih=q.i.iy(N.Clr.v),d4=[ih.w/255,ih.A/255,ih.U/255],a3=N.Dnst.v/100,H=[q.m(256),q.m(256),q.m(256)];
for(var X=0;X<3;X++)for(var l=0;l<256;l++){var e=l*(1/255),bT=e*d4[X];bT=Math.max(0,Math.min(1,bT));
e=a3*bT+(1-a3)*e;H[X][l]=Math.round(e*255)}S={type:r.B4,_O:H[0],Yq:H[1],hC:H[2],fd:!1,aI:N.PrsL.v}}if(s=="thrs"){var $=q.m(256);
for(var l=N.Lvl.v;l<256;l++)$[l]=255;S={type:r.B4,_O:$,Yq:$,hC:$,fd:!0,aI:!1}}if(s=="mixr"){var dP=ai.Ku(N),D=[];
for(var l=0;l<dP.h.length;l++)if(l%5!=3)D.push(dP.h[l]/100);if(dP.I4){for(var i2=1;i2<3;i2++)for(var e=0;
e<4;e++)D[i2*4+e]=D[e]}S={type:r.kX,lO:D}}if(s=="rplc"){var eF=N.Mnm.v,hp=N.Mxm.v;S={type:r.t_,$W:[eF.Lmnc.v,eF.A.v,eF.B.v],Fs:[hp.Lmnc.v,hp.A.v,hp.B.v],shift:[N.H.v/360,N.Strt.v/100,N.Lght.v/100],KT:N.Fzns.v/150}}if(s=="clrL"&&N.profile){var dt=new Uint8Array(N.profile.v),iw=ICC.R(dt.buffer),cP=[],f0=17,cP=ICC.U.sampleLUT(iw,f0);
S={type:r.jT,GT:ICC.U.rgba8LUT(cP,f0),a6o:cP,a2:f0}}return S};ai.Pd=function(s,N){var r=-1;if(s!="levl"||N==null)r=-1;
else if(N.Auto)r=0;else if(N.AuCo)r=1;else if(N.autoBlackWhite)r=2;return r};ai.Uq={B4:0,qn:1,si:2,NL:3,Uc:4,kX:5,t_:6,jT:7};
ai.bF=function(s){if(s<0)return s;return Math.pow(Math.tan(Math.PI/2*s),1.3)};ai.ab1=function(s){if(s<0)return s;
s=Math.pow(s,1/1.3);return Math.atan2(s,1)/(Math.PI/2)};ai.M$=function(s,N,r,S){var z=ai.Uq,A=Date.now();
if(d.Bi&&S.$()>300*300&&s.type!=z.B4&&s.type!=z.jT){S=S.clone();S.x=S.y=0;var B=d.fw(0,S.G,S.n);B.set(N);
d.Lp(B,S);B.AY(S);ai.Mx(s,B.kv,S);B.get(r);return}if(s.type==z.jT){var Y=s.a6o,t=s.a2;ICC.U.applyLUT(Y,t,N,r);
var p=N.length;for(var l=0;l<p;l+=4)r[l+3]=N[l+3]}if(s.type==z.kX)q.i_.x0(N,r,s.lO);if(s.type==z.Uc){var f=s.ail,a=s.G6,D=s.KJ,c=s.a7p,p=N.length;
for(var l=0;l<p;l+=4){var S=N[l]*(1/255),J=N[l+1]*(1/255),Z=N[l+2]*(1/255),Q=q.ak(S,J,Z),M=0;for(var u=0;
u<6;u++)M+=Math.min(1,1.7*(1-Q.Yc))*Q.D7*s.a0s[u]*ai.at9(Q.JY,u*(1/6));var P=Math.max(0,Math.min(1,Q.Yc*(1+M)));
if(s.cJ==1){var m=0;if(P<D)m=P*(.5/a);else if(P<c)m=P+f*(.5-a);else m=1-(1-P)*.5/(1-a);Q.JY=s.am6;Q.D7=Math.min(1,f+3*f*Math.abs(P-.5*(D+c)));
Q.Yc=m}else{Q.JY=0;Q.D7=0;Q.Yc=P}var i=q.Lw(Q.JY,Q.D7,Q.Yc);r[l]=Math.round(i.w*255);r[l+1]=Math.round(i.A*255);
r[l+2]=Math.round(i.U*255)}}if(s.type==z.NL){var e=s.a3E,p=N.length,X=1/255;for(var l=0;l<p;l+=4){var S=N[l]*X,J=N[l+1]*X,Z=N[l+2]*X,Q=q.ak(S,J,Z),$=Math.max(S,Math.max(J,Z)),O=Math.min(S,Math.min(J,Z)),T=1-S,b=1-J,R=1-Z,w=0,F=0,L=0;
for(var u=0;u<9;u++){var x=u*6,_=0;if(e[x]==1&&e[x+1]==1&&e[x+2]==1&&e[x+3]==0&&e[x+4]==0&&e[x+5]==0)continue;
var g=T*e[x]+e[x+3],n=b*e[x+1]+e[x+4],h=R*e[x+2]+e[x+5];if(u<6)_=ai.at9(Q.JY,u*(1/6))*Q.D7*2*Math.min(Q.Yc,1-Q.Yc);
else if(u==6)_=Math.max(0,O-.5)*2;else if(u==7)_=1-(Math.abs($-.5)+Math.abs(O-.5));else _=Math.max(0,.5-$)*2;
w+=(Math.max(0,Math.min(1,g))-T)*_;F+=(Math.max(0,Math.min(1,n))-b)*_;L+=(Math.max(0,Math.min(1,h))-R)*_}T=Math.max(0,Math.min(1,T+w));
b=Math.max(0,Math.min(1,b+F));R=Math.max(0,Math.min(1,R+L));S=1-T;J=1-b;Z=1-R;r[l]=Math.round(S*255);
r[l+1]=Math.round(J*255);r[l+2]=Math.round(Z*255)}}if(s.type==z.B4){q.ac6(N,r,s._O,s.Yq,s.hC,s.fd,s.aI)}if(s.type==z.qn){var H=new Uint32Array(N.buffer),G=new Uint32Array(r.buffer),p=H.length;
if(ai.Oc==null){ai.Oc=new Float64Array(256);for(var l=0;l<256;l++)ai.Oc[l]=ai.bF(-1+2*l/255)}var j=ai.Oc;
for(var l=0;l<p;l++){var v=H[l],S=(v&255)*(1/255),J=(v>>>8&255)*(1/255),Z=(v>>>16&255)*(1/255),C=v>>>24,E=Math.min(S,J,Z),I=Math.max(S,J,Z),dJ=0,fG=0,o=0;
dJ=q.ak(S,J,Z).JY;var i4=~~(dJ*255+.5),df=s.ajQ[i4]*(1/255),eO=s.Rf[i4]*(1/255)*2-1,cO=s.a13[i4]*(1/255)*2-1,M=-cO,ej=E;
if(0<cO){M=cO;ej=I}var cn=s.a1G+s.A2*M*ej,j5=s.A2*(1-M);S=cn+j5*S;J=cn+j5*J;Z=cn+j5*Z;I=Math.max(S,J,Z);
E=Math.min(S,J,Z);o=(I+E)*.5;if(I!=E){var gP=I-E;fG=o>.5?gP/(2-(I+E)):gP/(I+E)}var bY=eO;if(s.a2t==0){eO=j[Math.floor((1+eO)*127.5)];
bY=Math.min(fG*(1+eO),1)}var i=q.Lw(df,bY,o);S=i.w;J=i.A;Z=i.U;G[l]=C<<24|Z*255<<16|J*255<<8|S*255}}if(s.type==z.t_){q.r8(N,r);
var H=new Uint32Array(N.buffer),G=new Uint32Array(r.buffer),p=H.length,gR=s.KT,c3=1/gR,jj={Mp:s.$W[0],aC:s.$W[1],U:s.$W[2]},jC={Mp:s.Fs[0],aC:s.Fs[1],U:s.Fs[2]};
for(var l=0;l<p;l++){var v=H[l],kf=v&255,bz=v>>>8&255,iv=v>>>16&255,S=kf*(1/255),J=bz*(1/255),Z=iv*(1/255),C=v>>>24,bI=q.lD(kf,bz,iv),jo=q.UD(bI,jj,jC,gR,c3);
if(jo==0)continue;var Q=q.ak(S,J,Z),df=2+Q.JY+s.shift[0];Q.JY=df-~~df;Q.D7=Math.max(0,Math.min(1,Q.D7+s.shift[1]));
Q.Yc=Math.max(0,Math.min(1,Q.Yc+s.shift[2]));var i=q.Lw(Q.JY,Q.D7,Q.Yc);S=(1-jo)*S+jo*i.w;J=(1-jo)*J+jo*i.A;
Z=(1-jo)*Z+jo*i.U;G[l]=C<<24|Z*255<<16|J*255<<8|S*255}}if(s.type==z.si){var H=new Uint32Array(N.buffer),G=new Uint32Array(r.buffer),p=H.length,iZ=s.LS[0],jD=s.LS[1],dM=s.LS[2],M=s.LS[3],ka=q.i_.CU([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),ds=q.i_.dm(ka),ee=2.4;
console.log(ds);function t(fy){return Math.max(0,Math.min(1,fy))}function a9(fy){return Math.pow(fy,ee)}function ir(fy){return Math.pow(fy,1/ee)}function eP(S,J,Z,fy){S=a9(S);
J=a9(J);Z=a9(Z);var eS=q.i_.Et(ka,[S,J,Z,1]);eS[0]*=dM;eS[1]*=M;eS[2]*=M;var i=q.i_.Et(ds,eS);i[0]=ir(t(i[0]));
i[1]=ir(t(i[1]));i[2]=ir(t(i[2]));return i}for(var l=0;l<p;l++){var v=H[l],S=(v&255)*(1/255),J=(v>>>8&255)*(1/255),Z=(v>>>16&255)*(1/255),C=v>>>24,i=eP(S,J,Z,iZ);
S=i[0];J=i[1];Z=i[2];var jh=q.ak(S,J,Z);jh.D7=Math.max(0,Math.min(1,jh.D7*(1+jD)));i=q.Lw(jh.JY,jh.D7,jh.Yc);
S=i.w;J=i.A;Z=i.U;G[l]=C<<24|Z*255<<16|J*255<<8|S*255}}};ai.Mx=function(s,N,r){d.R8.Mx(s,N)};ai.at9=function(s,N){var r=q.uj(N,s)*6;
return Math.max(0,Math.min(1,r<0?1+r:1-r))};var hT={};hT.Dg=function(s){var N=s.filterID.v;return N>16777215?U.aeQ(N):s.Fltr.v.classID};
hT.gF=[{SR:"GEfc"},{SR:"LnCr"},{SR:"LqFy",Al:!0},{v8:"3D",dA:["lightFilterGradient"]},{v8:[24,2],dA:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{v8:[24,4],dA:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{v8:[24,6],dA:["AdNs","Dspc","DstS","Mdn ","denoise"]},{v8:[24,8],dA:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{v8:[24,10],dA:["Flam","Clds","DfrC","Fbrs","LnsF"]},{v8:[24,12],dA:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{v8:[24,14],dA:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{v8:[24,16],dA:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{v8:"Fourier",dA:["dDFT","iDFT"]}];
hT.BD={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
hT.awE={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
hT.T={rigidTransform:K.sC};hT.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Kale:"Kaleidoscope",Ctoa:"Color to Alpha",Dthr:[12,23,3],Part:"Particles",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
hT.yS=function(s){var N=null;if(s=="GEfc")N={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:gN.yS("GlwE")}]}};
if(s=="LqFy"){var r={s7:5,JY:5,map:new Float32Array(5*5*2)},S=new Uint8Array(cb.MJ(r)),z=[];for(var l=0;
l<S.length;l++)z.push(S[l]);N={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:z}}}if(s=="rigidTransform"){N={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(s=="LnCr")N={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(s=="adaptCorrect")N={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(s=="Dfs ")N={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(s=="Fbrs")N={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(s=="Embs")N={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(s=="oilPaint")N={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(s=="TrcC")N={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(s=="Wnd ")N={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(s=="lightFilterGradient")N={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(s=="boxblur")N={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(s=="GsnB")N={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(s=="Bokh")N={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(s=="MtnB")N={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(s=="RdlB")N={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(s=="surfaceBlur")N={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(s=="denoise")N={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(s=="Dspl")N={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(s=="Pnch")N={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(s=="Plr ")N={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(s=="Rple")N={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(s=="Shr ")N={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(s=="Sphr")N={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(s=="Twrl")N={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(s=="Wave")N={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(s=="ZgZg")N={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(s=="AdNs")N={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(s=="DstS")N={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(s=="Mdn ")N={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(s=="ClrH")N={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(s=="Crst")N={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(s=="Mztn")N={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(s=="Msc ")N={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(s=="Pntl")N={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(s=="LnsF")N={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(s=="Dthr")N={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(s=="Part")N={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(s=="Adobe Camera Raw Filter")N={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(s=="smartSharpen")N={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(s=="UnsM")N={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(s=="HghP")N={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(s=="HsbP")N={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(s=="Mxm ")N={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(s=="Mnm ")N={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(s=="Ofst")N={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(s=="Kale")N={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(s=="Rept")N={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(s=="Flam")N={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(s=="Ctoa")N={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(s=="brit")N={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(s=="levl")N={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(s=="curv")N={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(s=="expA")N={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(s=="vibA")N={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(s=="hue2")N={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(s=="blnc")N={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(s=="blwh")N={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(s=="phfl")N={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(s=="grdm")N={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(jG.FH[6]).Grad};
if(s=="selc")N={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(s=="thrs")N={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(s=="mixr")N={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(s=="clrL")N={__name:"Color Lookup",classID:"colorLookup"};if(s=="post")N={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(s=="rplc")N={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(s=="fade")N={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(s=="aply")N={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(s=="matc"){N={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(s=="blendOptions")N={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return N};hT.ke={sFlam:function(s,N){N[0]=s.Type.v;N[1]=s.Leng.v;N[2]=s.RndL.v;N[3]=s.Widt.v;N[4]=s.Angl.v;
N[5]=s.Intr.v;N[6]=s.Adpt.v;N[7]=s.Clr.v;N[8]=s.Qual.v;N[9]=s.Turb.v;N[10]=s.Jag.v;N[11]=s.Opct.v.val;
N[12]=s.Lins.v;N[13]=s.Botm.v;N[14]=s.Styl.v;N[15]=s.Shap.v;N[16]=s.RnSh.v;N[17]=s.Arng.v},gFlam:function(s,N){s.Type.v=N[0];
s.Leng.v=N[1];s.RndL.v=N[2];s.Widt.v=N[3];s.Angl.v=N[4];s.Intr.v=N[5];s.Adpt.v=N[6];s.Clr.v=N[7];s.Qual.v=N[8];
s.Turb.v=N[9];s.Jag.v=N[10];s.Opct.v.val=N[11];s.Lins.v=N[12];s.Botm.v=N[13];s.Styl.v=N[14];s.Shap.v=N[15];
s.RnSh.v=N[16];s.Arng.v=N[17]},sAdNs:function(s,N){N[0]=s.Nose.v.val;N[1]=["Gsn","Unfr"].indexOf(s.Dstr.v.Dstr);
N[2]=s.Mnch.v},gAdNs:function(s,N){s.Nose.v.val=N[0];s.Dstr.v.Dstr=["Gsn","Unfr"][N[1]];s.Mnch.v=N[2]},sDstS:function(s,N){N[0]=s.Rds.v;
N[1]=s.Thsh.v},gDstS:function(s,N){s.Rds.v=N[0];s.Thsh.v=N[1]},sGsnB:function(s,N){N[0]=s.Rds.v.val},gGsnB:function(s,N){s.Rds.v.val=N[0]},sHghP:function(s,N){N[0]=s.Rds.v.val},gHghP:function(s,N){s.Rds.v.val=N[0]},sHsbP:function(s,N){var r=["RGBC","HSBl","HSLC"];
N[0]=r.indexOf(s.Inpt.v.ClrS);N[1]=r.indexOf(s.Otpt.v.ClrS)},gHsbP:function(s,N){var r=["RGBC","HSBl","HSLC"];
s.Inpt.v.ClrS=r[N[0]];s.Otpt.v.ClrS=r[N[1]]},"sMxm ":function(s,N){var r="preserveShape";N[0]=s.Rds.v.val;
N[1]=s[r]?["squareness","Rndn"].indexOf(s[r].v[r]):0},"gMxm ":function(s,N){var r="preserveShape";s.Rds.v.val=N[0];
s[r]={t:"enum",v:{preserveShape:["squareness","Rndn"][N[1]]}}},"sMnm ":function(s,N){var r="preserveShape";
N[0]=s.Rds.v.val;N[1]=s[r]?["squareness","Rndn"].indexOf(s[r].v[r]):0},"gMnm ":function(s,N){var r="preserveShape";
s.Rds.v.val=N[0];s[r]={t:"enum",v:{preserveShape:["squareness","Rndn"][N[1]]}}},sMtnB:function(s,N){N[0]=[s.Angl.v];
N[1]=s.Dstn.v.val;console.log(N)},gMtnB:function(s,N){s.Angl.v=typeof N[0]=="number"?N[0]:N[0][0];s.Dstn.v.val=N[1]},sOfst:function(s,N){N[0]=s.Hrzn.v;
N[1]=s.Vrtc.v;N[2]=["Rpt","Bckg","Wrp"].indexOf(s.Fl.v.FlMd)},gOfst:function(s,N){s.Hrzn.v=N[0];s.Vrtc.v=N[1];
s.Fl.v.FlMd=["Rpt","Bckg","Wrp"][N[2]]},sPnch:function(s,N){N[0]=s.Amnt.v},gPnch:function(s,N){s.Amnt.v=N[0]},"sPlr ":function(s,N){N[0]=["RctP","PlrR"].indexOf(s.Cnvr.v.Cnvr)},"gPlr ":function(s,N){s.Cnvr.v.Cnvr=["RctP","PlrR"][N[0]]},sRple:function(s,N){N[0]=s.Amnt.v;
N[1]=["Sml","Mdm","Lrg"].indexOf(s.RplS.v.RplS)},gRple:function(s,N){s.Amnt.v=N[0];s.RplS.v.RplS=["Sml","Mdm","Lrg"][N[1]]},sTwrl:function(s,N){N[0]=s.Angl.v},gTwrl:function(s,N){s.Angl.v=N[0]},sZgZg:function(s,N){N[0]=s.Amnt.v;
N[1]=s.NmbR.v;N[2]=["ArnC","OtFr","PndR"].indexOf(s.ZZTy.v.ZZTy)},gZgZg:function(s,N){s.Amnt.v=N[0];
s.NmbR.v=N[1];s.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][N[2]]},sUnsM:function(s,N){N[0]=s.Amnt.v.val;N[1]=s.Rds.v.val;
N[2]=s.Thsh.v},gUnsM:function(s,N){s.Amnt.v.val=N[0];s.Rds.v.val=N[1];s.Thsh.v=N[2]}};hT.af_=function(s){var N=new cR(0,0);
if(s.enab.v==!1)return N;var r=s.filterFXList.v;for(var l=0;l<r.length;l++){var S=r[l].v;if(S.enab.v==!1)continue;
var z=hT.Dg(S),A=hT.sb(z,S.Fltr?S.Fltr.v:null);if(A.x>N.x)N.x=A.x;if(A.y>N.y)N.y=A.y}return N};hT.sb=function(s,N){var r=0,S=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(s)!=-1){var z=N.Rds?N.Rds.v.val:1;r=S=z*2.57}if(s=="MtnB")r=S=N.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(s)!=-1){r=S=1e4}if(s=="GEfc")return gN.sb(N);
return new cR(Math.ceil(r),Math.ceil(S))};hT.b8=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
hT.O5=function(s,N){var r={w:N.Hd>>16,A:N.Hd>>8&255,U:N.Hd&255},S={w:N.on>>16,A:N.on>>8&255,U:N.on&255},z=hT.names[s];
if(z==null)z=ai.names[s];var A=s;for(var B in ai.I5)if(ai.I5[B]==s)A=B;var Y={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:eV.get(z)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:q.i.Sm(r)},BckC:{t:"Objc",v:q.i.Sm(S)},filterID:{t:"long",v:A.length==4?U.a8C(A):777}}},t=hT.yS(s);
if(t)Y.v.Fltr={t:"Objc",v:t};return Y};hT.N4=function(s,N,r,S){var z=Date.now(),A=d.Bi&&Math.max(S.G,S.n)<=d.IM.getParameter(d.IM.MAX_TEXTURE_SIZE);
if(s<1){var B=Math.round(s*5),Y=[1,2,1,2,[40,26,13,6,4,2][B],2,1,2,1];Y=q.DD.A$(Y);if(!A){q.YG(r);var t=r.slice(0);
q.DD.tn(t,r,S.G,S.n,Y,255);q.wR(r)}else{var p=S.G,f=S.n,a=d.fw(0,p,f);a.set(r);var D=d.fw(1,p,f),c=new Float32Array([1/p,1/f]);
d.Lp(D);d.filter.Mx({type:d.filter.a1$,GB:c,asz:new Float32Array(Y)},a.Cp);D.get(r)}}else{var J=N==q.W9.C0?0:N==q.W9.Gu?1:2,Z=[];
while(J!=2&&s*[1,2.4][J]>20&&Z.length<4){var Q=q.fK(r,S);Z.push(r,S);r=Q.sB;S=Q.rect;s/=2}var p=S.G,f=S.n;
if(!A||J==2&&s>15){q.YG(r);N(r,S,s);q.wR(r)}else{var a=d.fw(0,p,f);a.set(r);var D=d.fw(1,p,f),c=new Float32Array([1/p,1/f]);
if(J==0){var M=1;while(M<s)M<<=1;d.Lp(D);d.filter.Mx({type:d.filter.Vr,GB:c,aw:s,oT:[0,0,M]},a.Cp);d.Lp(a);
d.filter.Mx({type:d.filter.Vr,GB:c,aw:s,oT:[0,1,M]},D.Cp);a.get(r)}else if(J==1){var u=3,P=q.W9.RX(s,u);
for(var l=0;l<u;l++){var m=P[l]>>>1,i=1;while(i<m)i<<=1;if(m==0)continue;d.Lp(D);d.filter.Mx({type:d.filter.Vr,GB:c,aw:m,oT:[0,0,i]},a.Cp);
d.Lp(a);d.filter.Mx({type:d.filter.Vr,GB:c,aw:m,oT:[0,1,i]},D.Cp)}a.get(r)}else{var M=1;while(M<s)M<<=1;
d.Lp(D);d.filter.Mx({type:d.filter.Vr,GB:c,aw:s,oT:[0,0,M]},a.Cp);D.get(r)}}var e=Date.now();while(Z.length!=0){var X=Z.pop(),$=Z.pop();
q.scale.abM(r,S.G,S.n,$,X.G,X.n);r=$;S=X}}};hT.a7P=function(s,N,r,S){for(var l=0;l<s.length;l++){r[l]=s[l]*(1/255);
S[l]=0}FFT.fft2d(r,S);var z=N>>>1,A=16384,B=128,t=100;while(B<N){B<<=1;A<<=2}var Y=255/Math.log(A),p=-100;
for(var f=0;f<N;f++)for(var a=0;a<z;a++){var D=N+z+f&N-1,c=r[D*N+a],J=S[D*N+a],Z=Math.sqrt(c*c+J*J),Q=Math.atan2(J,c);
s[f*N+a]=Math.round(Y*Math.log(Z+1));s[f*N+z+a]=Math.round((Math.PI+Q)*(255*.5/Math.PI))}};hT.a5k=function(s,N,r,S){r.fill(0);
S.fill(0);var z=N>>>1,A=16384,B=128;while(B<N){B<<=1;A<<=2}var Y=255/Math.log(A),t=[],p=[],f=[];for(var l=0;
l<256;l++){t[l]=Math.exp(l/Y)-1;var a=l*(2*Math.PI/255)-Math.PI;p[l]=Math.sin(a);f[l]=Math.cos(a)}for(var D=0;
D<N;D++)for(var c=0;c<z;c++){var J=N+z+D&N-1,Z=t[s[D*N+c]],a=s[D*N+z+c],Q=Z*f[a],M=Z*p[a];r[J*N+c]=Q;
S[J*N+c]=M;if(c!=0){var u=J==0?J*N+N-c:(N-J)*N+(N-c);r[u]=Q;S[u]=-M}}FFT.ifft2d(r,S);for(var l=0;l<s.length;
l++){s[l]=Math.max(0,Math.min(255,~~(.5+255*r[l])))}};hT.a1Q=new ArrayBuffer(512);hT.ajV=function(s){var N=hT.a1Q,r=s.length;
if(N.byteLength<r)hT.a1Q=N=new ArrayBuffer(r);var S=new Uint8Array(N);for(var l=0;l<r;l+=4){S[l]=s[l];
S[l+1]=s[l+1];S[l+2]=s[l+2];S[l+3]=s[l+3]}return N};hT.M$=function(s,N,r,S,z,A,B){if(A==null)A={buffer:q.m(N.buffer.length),rect:N.rect.clone()};
q.r8(N.buffer,A.buffer);var Y=r&&r.RndS?r.RndS.v>>>1:0;if(s=="GEfc"){var t=[];if(r.GEfs){var p=r.GEfs.v;
for(var l=0;l<p.length;l++){var f=p[l].v;if(f.GELv&&f.GELv.v==!1)continue;t.push(f)}}else t=[r];for(var l=0;
l<t.length;l++){var a;if(l==0)gN.M$(s,N,t[l],S,z,A,B);else{if(a==null)a={buffer:q.m(N.buffer.length),rect:N.rect.clone()};
q.r8(A.buffer,a.buffer);gN.M$(s,a,t[l],S,z,A,B)}}}if(s=="Adobe Camera Raw Filter"){var D=N.rect,c=D.G,J=D.n,Z=c*J,Q=Z*4,M=Z*3,u=new Float32Array(c*J*3),P=N.buffer;
for(var l=0;l<Z;l++){var m=l*3,i=l*4;u[m]=P[i]*(1/255);u[m+1]=P[i+1]*(1/255);u[m+2]=P[i+2]*(1/255)}var e=JSON.parse(JSON.stringify(r));
delete e.Upri;delete e.GuUr;var X=u.slice(0);u=X;P=A.buffer;for(var l=0;l<Z;l++){var m=l*3,i=l*4;P[i]=255*Math.max(0,Math.min(1,u[m]));
P[i+1]=255*Math.max(0,Math.min(1,u[m+1]));P[i+2]=255*Math.max(0,Math.min(1,u[m+2]))}}if(s=="Fct "){var D=N.rect,c=D.G,J=D.n,Z=c*J,Q=Z*4;
function $(fq){var c3=fq.slice(0);for(var _=0;_<3;_++)for(var H=0;H<3;H++)c3[_*3+H]=fq[(2-H)*3+_];return c3}function O(fd,eQ,gl,gK){var bC=0;
for(var _=0;_<3;_++)for(var H=0;H<3;H++)bC+=eQ[_*3+H]*fd[(gK-1+_)*c+gl-1+H];return bC}var T=[8,5,2,5,2,-1,2,-1,-4],b=[5,5,5,2,2,2,-1,-1,-1],R=[2,2,2,2,2,2,2,2,2],w=[];
w.push(T);for(var l=0;l<3;l++)w.push($(w[w.length-1]));w.push(b);for(var l=0;l<3;l++)w.push($(w[w.length-1]));
w.push(R);for(var l=0;l<9;l++)w[l]=q.DD.A$(w[l]);var F=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],L=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],x=q.m(Z),g=new Float32Array(Z),X=q.m(Z);
for(var n=0;n<3;n++){q.WZ(N.buffer,x,n);for(var h=0;h<1;h++){for(var _=1;_<J-1;_++)for(var H=1;H<c-1;
H++){var G=_*c+H,j=x[G];g[G]=1e9;for(var l=0;l<9;l++){var v=O(x,w[l],H,_),C=(v-j)*(v-j);if(C<g[G])g[G]=C}}for(var _=1;
_<J-1;_++)for(var H=1;H<c-1;H++){var E=0,I=1e9;for(var l=0;l<9;l++){var dJ=_*c+H+F[l],C=g[dJ];if(C<I){I=C;
E=x[dJ]}}X[_*c+H]=E}x.set(X)}q.XX(X,A.buffer,n)}}if(s=="adaptCorrect"){var D=N.rect,c=D.G,J=D.n,Z=c*J,Q=Z*4,fG=r.sdwM.v,o=fG.Amnt.v.val/100,i4=fG.Wdth.v.val/100,df=fG.Rds.v,eO=r.hglM.v,cO=eO.Amnt.v.val/100,ej=eO.Wdth.v.val/100,cn=eO.Rds.v;
q.c5.a8r(N.buffer,A.buffer,c,J,o,i4,df,cO,ej,cn,r.ClrC.v/100,r.Cntr.v/100)}if(s=="denoise"){var D=N.rect,c=D.G,J=D.n,j5=r.channelDenoise.v[0].v;
q.n_.aui(N.buffer,c,J,A.buffer,j5.Amnt.v/10,j5.EdgF.v/100)}if(s=="HsbP"){var gP=r.Inpt.v.ClrS,bY=r.Otpt.v.ClrS,D=N.rect,c=D.G,J=D.n,Z=c*J;
for(var l=0;l<Z;l++){var i=l*4,h=N.buffer[i]*(1/255),gR=N.buffer[i+1]*(1/255),c3=N.buffer[i+2]*(1/255);
if(gP=="RGBC"){}else if(gP=="HSLC"){var X=q.Lw(h,gR,c3);h=X.w;gR=X.A;c3=X.U}else if(gP=="HSBl"){var X=q.acK(h,gR,c3);
h=X.w;gR=X.A;c3=X.U}var jj=h,jC=gR,kf=c3;if(bY=="RGBC"){}else if(bY=="HSLC"){var X=q.ak(h,gR,c3);jj=X.JY;
jC=X.D7;kf=X.Yc}else if(bY=="HSBl"){var X=q.anO(h,gR,c3);jj=X.JY;jC=X.D7;kf=X.U}A.buffer[i]=~~(255*jj);
A.buffer[i+1]=~~(255*jC);A.buffer[i+2]=~~(255*kf)}}if(s=="Fbrs"){var D=N.rect,c=D.G,J=D.n;q.C.wq(N.buffer,c,J,A.buffer,[r.Vrnc.v,r.Strg.v,Y]);
var bz=q.m(c*J);q.WZ(A.buffer,bz,0);q.dm(bz);gN.Rg(bz,A.buffer,S,z)}if(s=="Frgm"){var D=N.rect,c=D.G,J=D.n,iv=N.buffer.slice(0);
q.YG(iv);q.C.a93(iv,c,J,A.buffer);q.wR(A.buffer)}if(s=="Flam"){var D=N.rect,c=D.G,J=D.n,bI=r.Clr.v,jo={type:r.Type.v+1,length:r.Leng.v,a0w:r.RndL.v,c2:r.Widt.v,ahD:r.Angl.v,ahV:r.Intr.v,aoP:r.Adpt.v,color:{w:bI.Rd.v,A:bI.Grn.v,U:bI.Bl.v},pb:r.Qual.v+1,t8:r.Turb.v,u0:r.Jag.v,opacity:r.Opct.v.val,Zu:r.Lins.v,ar3:r.Botm.v,style:r.Styl.v+1,shape:r.Shap.v+1,awF:r.RnSh.v,a9Y:r.Arng.v,aw$:!1},iZ=B[3],jD=iZ[0],dM=iZ[1],ka=jD[dM.length!=0?dM[0]:0];
if(ka==null){alert("Make a path first");return}var ds=ka.add.vmsk._,ee=q.J.zl(ds),ir=[];for(var eP=0;
eP<ee;eP++){var jh=q.J.$l(ds,eP),fy=ds[jh];if(fy.length<2)continue;var eS=[];ir.push(eS);var gz=fy.length-(fy.type==3?1:0);
for(var G=0;G<gz;G++){var fi=ds[jh+1+G],fw=G==fy.length-1?ds[jh+1]:ds[jh+1+G+1],ce=fi.H,hl=fi.De,T=fw.hJ,ia=fw.H,iQ=Math.round(cR.iI(ce,ia)/5);
for(var em=0;em<iQ;em++){var k4=em/iQ,ar=1-k4,H=ar*ar*ar*ce.x+3*ar*ar*k4*hl.x+3*ar*k4*k4*T.x+k4*k4*k4*ia.x,_=ar*ar*ar*ce.y+3*ar*ar*k4*hl.y+3*ar*k4*k4*T.y+k4*k4*k4*ia.y;
eS.push(H,_)}}}var fg=[ir,jo],j0=Date.now(),bU=cU(fg);ie(N.buffer,c,J,A.buffer,bU,fg)}if(s=="Dfs "){var D=N.rect,c=D.G,J=D.n,dn=["Nrml","DrkO","LghO","anisotropic"].indexOf(r.Md.v.DfsM);
if(dn<3)q.C.afc(N.buffer,c,J,A.buffer,[dn]);else{var fg=[1.4,1.6,1,4,!1,2,[0,0,.001]],D=N.rect.clone();
D.x=D.y=0;q.YX.filter(N.buffer,D,A.buffer,fg)}}if(s=="TrcC"){var D=N.rect,c=D.G,aJ=c<<2,J=D.n,bE=r.Lvl.v,ew=r.Edg.v.CntE=="Lwr",jy=N.buffer,eT=A.buffer;
q.TM(eT,16777215,4278190080);function du(aI,iU){f9(aI,iU);f9(aI+1,iU+1);f9(aI+2,iU+2)}function c_(aI,iU){bp(aI,iU);
bp(aI+1,iU+1);bp(aI+2,iU+2)}function f9(aI,iU){var jj=jy[aI],jC=jy[iU];if(jj>=bE&&jC<bE)eT[aI]=0;if(jj<bE&&jC>=bE)eT[iU]=0}function bp(aI,iU){var jj=jy[aI],jC=jy[iU];
if(jj>bE&&jC<=bE)eT[iU]=0;if(jj<=bE&&jC>bE)eT[aI]=0}if(ew)for(var _=1;_<J;_++)for(var H=1;H<c;H++){var i=_*c+H<<2;
du(i,i-4);du(i,i-aJ)}else for(var _=1;_<J;_++)for(var H=1;H<c;H++){var i=_*c+H<<2;c_(i,i-4);c_(i,i-aJ)}}if(s=="Embs"){var D=N.rect,c=D.G,J=D.n,aL=-r.Angl.v*Math.PI/180,f8=r.Hght.v,aE=r.Amnt.v/100;
f8/=2;var be=Math.cos(aL)*f8,jK=Math.sin(aL)*f8,jy=N.buffer,eT=A.buffer;eT.fill(0);var ad=new Uint32Array(jy.buffer),X=new Uint8Array(4),iF=new Uint32Array(X.buffer);
for(var _=0;_<J;_++)for(var H=0;H<c;H++){var c0=0,hE=0,hJ=0;if(0<=H+be&&H+be<c&&0<=_+jK&&_+jK<J){q.P.Xu(H+be+.5,_+jK+.5,ad,c,J,iF,0,0);
c0+=X[0]-128;hE+=X[1]-128;hJ+=X[2]-128}if(0<=H-be&&H-be<c&&0<=_-jK&&_-jK<J){q.P.Xu(H-be+.5,_-jK+.5,ad,c,J,iF,0,0);
c0-=X[0]-128;hE-=X[1]-128;hJ-=X[2]-128}var i=_*c+H<<2;eT[i]=Math.max(0,Math.min(255,c0*aE+128));eT[i+1]=Math.max(0,Math.min(255,hE*aE+128));
eT[i+2]=Math.max(0,Math.min(255,hJ*aE+128));eT[i+3]=jy[i+3]}}if(s=="ShrE"){var D=N.rect,c=D.G,J=D.n;
q.C.a0y(N.buffer,c,J,A.buffer)}if(s=="Dspc"){var D=N.rect,c=D.G,J=D.n;q.C.agw(N.buffer,c,J,A.buffer)}if(s=="Slrz"){var cZ=A.buffer,dS=128;
for(var l=0;l<cZ.length;l+=4){if(cZ[l]>dS)cZ[l]=255-cZ[l];if(cZ[l+1]>dS)cZ[l+1]=255-cZ[l+1];if(cZ[l+2]>dS)cZ[l+2]=255-cZ[l+2]}}if(s=="Wnd "){var D=N.rect,c=D.G,J=D.n,gh=["Wnd","Blst","Stgr"],ih=r.WndM.v.WndM;
q.C.ic(N.buffer,c,J,A.buffer,[gh.indexOf(ih),r.Drct.v.Drct!="Left"])}if(s=="Bokh"){var D=N.rect,c=D.G,J=D.n,Z=c*J,Q=Z*4,d4=N.buffer.slice(0),a3=r.BkDi.v.BtDi,bT=r.BkDc,dP=r.BkDs.v,i2=r.BkDp.v/255;
if(a3=="BeIn")i2=0;var eF=57*(.3+.7*((c+J)/2)/1750)*(r.BkIb.v/100)*(1+.2*Math.pow(i2,.1)),i3=parseInt(r.BkIs.v.BtIs.slice(3)),hp=-r.BkIr.v*Math.PI/180,dt=[];
for(var l=0;l<8;l++){var iw=hp+l*(Math.PI*2/i3),cP=hp+(l+1)*(Math.PI*2/i3),f0=Math.cos(iw),fQ=Math.sin(iw),gL=Math.cos(cP),aq=Math.sin(cP),aB=[0,0,0];
q.lO.PR([[f0,fQ,1,0],[gL,aq,1,0],[1,1,1,1]],aB);if(aB[2]>0){aB[0]*=-1;aB[1]*=-1;aB[2]*=-1}dt.push(aB[0],aB[1],aB[2],0)}if(a3=="BeIn"){q.TM(d4,0,16777215);
i2=1}else if(a3=="BeIt"&&bT.v.BtDc=="BeCt"){}else{var dT;if(a3=="BeIt"&&bT.v.BtDc=="BeCm")dT=B[1];else if(a3=="BeIa")dT=B[2][bT.v];
if(dT==null){q.TM(d4,0,16777215)}else{var x;if(dT.rect.nR(D))x=dT.channel;else x=dT.am(D);q.XX(x,d4,3)}}if(dP)for(var l=0;
l<Q;l+=4)d4[l+3]=255-d4[l+3];if(d.Bi){var jB=d4,e5=c,dU=J,e8=1,bK=(r.BkSb.v==0||r.BkSt.v==255)&&a3=="BeIn";
if(!bK){var cl=0;for(var l=0;l<Q;l+=4)cl+=Math.abs(i2-d4[l+3]*(1/255));cl=cl/Z*eF;var ic=3.14*cl*cl*c*J/3e6;
if(ic>2e3){alert("too large radius");return}}while(bK&&3*(eF/e8)*(eF/e8)*c*J>500*2e3*2e3){var eL=q.U6(d4,new hq(0,0,e5,dU));
d4=eL.sB;e5=eL.rect.G;dU=eL.rect.n;e8*=2}var j0=Date.now(),i6=d.fw(0,e5,dU);i6.set(d4);var ke=d.fw(1,c,J);
d.Lp(ke);d.filter.Mx({type:d.filter.atg,GB:new Float32Array([1/e5,1/dU]),apn:i2,Of:eF/e8,a8j:new Float32Array([r.BkSb.v/100,r.BkSt.v/255]),adp:new Float32Array([r.BkNa.v/100,r.BkNt.v.BtNt=="BeNu"?0:1,r.BkNm.v?1:0]),atH:new Float32Array(dt.slice(0,16)),aiP:new Float32Array(dt.slice(16))},i6.Cp);
ke.get(A.buffer);var h8=A.buffer;for(var l=0;l<Q;l+=4)h8[l+3]=N.buffer[l+3]}}if(s=="rigidTransform"){var j0=Date.now(),dC=hT.ajV,i6=N.buffer.slice(0),kb=0,fm=0;
q.YG(i6);q.TM(A.buffer,0);var c=N.rect.G,J=N.rect.n,cL=r.puppetShapeList.v,ei=[],hk=[],al=[],bn=[];for(var G=0;
G<cL.length;G++){var jn=cL[G].v,fp=kb*2,m=fm*3,i7=jn.originalVertexArray.v.length>>>2,eE=jn.indexArray.v.length>>>2,jt=new Float32Array(dC(jn.originalVertexArray.v));
for(var l=0;l<i7;l++)ei[fp+l]=jt[l];var cv=new Float32Array(dC(jn.deformedVertexArray.v));for(var l=0;
l<i7;l++)hk[fp+l]=cv[l];var dB=new Uint32Array(dC(jn.indexArray.v));for(var l=0;l<eE;l++)al[m+l]=kb+dB[l];
var c5=[],eU=[],bb=jn.PnDp.v;for(var l=0;l<bb.length;l++){c5.push(jn.pinVertexIndices.v[l].v);eU.push(bb[l].v)}var hF=q.$m.a7d(jt,dB,c5,eU);
for(var l=0;l<hF.length;l++)bn[kb+l]=hF[l];kb+=i7>>>1;fm+=~~(eE/3)}var h=N.rect,c=h.G,J=h.n;q.$m.Ow(i6,c,J,A.buffer,c,J,ei,hk,bn,al);
q.wR(A.buffer)}if(s=="lightFilterGradient"){function cX(ce){var eQ=1/Math.sqrt(ce[0]*ce[0]+ce[1]*ce[1]+ce[2]*ce[2]);
ce[0]*=eQ;ce[1]*=eQ;ce[2]*=eQ}var c=N.rect.G,J=N.rect.n,Z=c*J,j0=Date.now(),hM=q.m(Z),jC=.3,kf=.7;q.I_(A.buffer,hM);
var cc=q.m(Z);q.W9.ju(hM,cc,A.rect,16);var ea=q.m(Z);q.W9.ju(hM,ea,A.rect,8);var eK=hM,fA=new Float32Array(Z),i9=r.Dtl.v,bX=i9[2].v,j9=i9[1].v,h2=i9[0].v,bC=r.Scl.v*40*r.textureScale.v/(bX+j9+h2);
bX*=bC;j9*=bC;h2*=bC;for(var l=0;l<Z;l++){var cV=cc[l]*(1/255),iJ=ea[l]*(1/255),ft=eK[l]*(1/255);ft=ft*ft;
fA[l]=bX*cV+j9*iJ+h2*ft}var bx=r.blur.v;if(bx!=0){var kg=fA.slice(0);q.W9.Hn(kg,fA,A.rect,bx)}var f$=c-1,iO=J-1;
for(var _=1;_<iO;_++)for(var H=1;H<f$;H++){var l=_*c+H,i=l*4,dy=fA[l],be=jC*(fA[l+1]-dy)+kf*(dy-fA[l-1]),jK=jC*(fA[l+c]-dy)+kf*(dy-fA[l-c]),ce=[1,0,be],hl=[0,1,jK];
cX(ce);cX(hl);var cP=ce[0],aG=ce[2],jl=hl[1],e4=hl[2],gw=-aG*jl,h9=-cP*e4,cB=cP*jl;A.buffer[i]=~~(127.5+gw*127.5);
A.buffer[i+1]=~~(127.5+h9*127.5);A.buffer[i+2]=~~(127.5+cB*127.5)}}if(s=="defr"){var c=N.rect.G,J=N.rect.n;
db(N.buffer,c,J,A.buffer)}if(s=="dDFT"||s=="iDFT"){function aO(i3){if(i3==0)return 1;i3--;i3|=i3>>1;
i3|=i3>>2;i3|=i3>>4;i3|=i3>>8;i3|=i3>>16;return i3+1}var c=N.rect.G,J=N.rect.n,jz=aO(Math.max(c,J)),ef=jz>>>1,jr=new hq(0,0,jz,jz),fB=new hq(0,0,c,J);
fB.y=jz-J>>>1;var gC=c>>>1,hw=new hq(0,fB.y,gC,J),jR=new q.Ek(c*J);q.oK(N.buffer,jR);var ji=new Float64Array(jz*jz),cT=new Float64Array(jz*jz),x=q.m(jz*jz);
FFT.init(jz);var gg=[jR.w,jR.A,jR.U];for(var l=0;l<3;l++){var dG=gg[l];x.fill(0);if(s=="dDFT"){q.lf(dG,fB,x,jr);
hT.a7P(x,jz,ji,cT);q.lf(x,jr,dG,fB,hw);hw.x+=gC;jr.x-=ef-gC;q.lf(x,jr,dG,fB,hw);hw.x-=gC;jr.x+=ef-gC}else{q.lf(dG,fB,x,jr,hw);
hw.x+=ef;fB.x+=ef-gC;q.lf(dG,fB,x,jr,hw);hw.x-=ef;fB.x-=ef-gC;hT.a5k(x,jz,ji,cT);q.lf(x,jr,dG,fB)}}q.vZ(jR,A.buffer)}if(s=="Avrg"){var bl=0,k8=0,eg=0,fN=0,cp=1;
for(var l=0;l<N.buffer.length;l+=4){var j8=N.buffer[l+3];eg+=N.buffer[l]*j8;k8+=N.buffer[l+1]*j8;bl+=N.buffer[l+2]*j8;
fN+=j8}var jA=1/fN;bl=Math.round(cp*(bl*jA)+(1-cp)*255);k8=Math.round(cp*(k8*jA)+(1-cp)*255);eg=Math.round(cp*(eg*jA)+(1-cp)*255);
q.TM(A.buffer,bl<<16|k8<<8|eg,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(s)!=-1){var eu=r.Rds?r.Rds.v.val:1,hB=s=="boxblur"?q.W9.C0:q.W9.Gu;
hT.N4(eu,hB,A.buffer,A.rect);if(s=="UnsM"||s=="smartSharpen"){var aE=(r.Amnt?r.Amnt.v.val:200)/100,bD=0;
if(s=="UnsM")bD=r.Thsh.v;else aE*=.75;for(var l=0;l<N.buffer.length;l++){if((l&3)==3){A.buffer[l]=N.buffer[l];
continue}var j=N.buffer[l],v=A.buffer[l],er=aE*(j-v);if(er>0)er=Math.max(0,er-bD);else er=Math.min(0,er+bD);
A.buffer[l]=Math.max(0,Math.min(255,j+er))}}if(s=="HghP")for(var l=0;l<N.buffer.length;l++){if((l&3)==3){A.buffer[l]=N.buffer[l];
continue}var j=N.buffer[l],v=A.buffer[l];A.buffer[l]=Math.max(0,Math.min(255,128+j-v))}}if(s=="AdNs"){var c4=new Uint8ClampedArray(A.buffer.buffer),iS=255*r.Nose.v.val/100,e_;
if(r.Dstr.v.Dstr=="Gsn")e_=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else e_=function(){return Math.random()*2-1};for(var l=0;l<c4.length;l+=4){var h=c4[l],gR=c4[l+1],c3=c4[l+2],cr,jZ,gb;
if(r.Mnch.v){cr=jZ=gb=e_()}else{cr=e_();jZ=e_();gb=e_()}h+=iS*cr;gR+=iS*jZ;c3+=iS*gb;c4[l]=h;c4[l+1]=gR;
c4[l+2]=c3}}var j0=Date.now();if(s=="Mdn "||s=="DstS"||s=="Mxm "||s=="Mnm "||s=="surfaceBlur"){var h=0,e0=r.Thsh,jn=0;
if(e0)e0=e0.v;else e0=0;if(s=="Mdn "||s=="Mxm "||s=="Mnm "||s=="surfaceBlur")h=r.Rds.v.val;else h=r.Rds.v;
var cH=r.preserveShape;if(cH&&cH.v.preserveShape=="Rndn")jn=1;var c=N.rect.G,J=N.rect.n,aF=["Mnm ","Mxm ","surfaceBlur"].indexOf(s),gy=(jn==0?1:.75)*[.73,.73,1][aF]*(c*J*h*h)/1722387,bA=[.73,.9,1.4][aF]*(c*J*Math.sqrt(h))/6500;
if(d.Bi&&aF!=-1&&(gy<bA||jn==1)&&gy<1500){var i6=d.fw(0,c,J);i6.set(N.buffer);var a=d.fw(1,c,J);d.Lp(a);
d.filter.Mx({type:d.filter.avH,GB:new Float32Array([1/c,1/J]),Of:h,anB:e0/255,oT:[jn,aF,10*Math.ceil(h/10)]},i6.Cp);
a.get(A.buffer)}else{h=Math.round(h);q.j0.JE=.5;var hB=q.j0.RW;if(s=="Mxm ")hB=q.j0.Gv;if(s=="Mnm ")hB=q.j0.aZ;
if(s=="surfaceBlur")hB=q.j0.vV;q.j0.k1(N.buffer,A.buffer,c,J,h,hB,[e0]);if(s=="DstS")for(var l=0;l<c*J*4;
l++){var kl=Math.abs(N.buffer[l]-A.buffer[l]);if(kl<=e0)A.buffer[l]=N.buffer[l]}}}if(s=="ClrH"){var hw=N.rect.clone();
hw.x=hw.y=0;var h=r.Rds.v;h=Math.round(h*Math.sqrt(2));var c=hw.G,J=hw.n,jR=new q.Ek(c*J);q.oK(N.buffer,jR);
q.dm(jR.w);q.dm(jR.A);q.dm(jR.U);var j$=q.ip(c,J),h8=q.m(c*J*4);for(var fd=0;fd<3;fd++){var x=fd==0?jR.w:fd==1?jR.A:jR.U,aL=Math.PI*r["Ang"+(fd+1)].v/180,h4=new gF(1/h,0,0,1/h,0,0);
h4.rotate(aL);q.XX(x,h8,3);var X=K.S.aG([h8,hw],h4,!0),fB=X.rect;j$.clearRect(0,0,c,J);var fj=Math.sin(aL),iI=Math.cos(aL);
for(var l=0;l<fB.n;l++)for(var em=0;em<fB.G;em++){var H=(em+fB.x+.5)*h,_=(l+fB.y+.5)*h,g1=H,gV=_;H=iI*g1-fj*gV;
_=fj*g1+iI*gV;var Z=X.buffer[(l*fB.G+em<<2)+3]*(1/255),eu=h*Math.sqrt(Z*(1/Math.PI));j$.beginPath();
j$.arc(H,_,eu,0,2*Math.PI);j$.fill()}var gU=j$.getImageData(0,0,c,J);q.WZ(gU.data,x,3)}q.dm(jR.w);q.dm(jR.A);
q.dm(jR.U);q.vZ(jR,A.buffer)}if(s=="Crst"||s=="Pntl"){var c=N.rect.G,J=N.rect.n,hB=s=="Crst"?q.LN.a1M:q.LN.a0z;
hB(N.buffer,c,J,A.buffer,r.ClSz.v,[Math.round(z.w),Math.round(z.A),Math.round(z.U)])}if(s=="Mztn"){var c=N.rect.G,J=N.rect.n,Z=c*J,jR=new q.Ek(Z),j2=[jR.w,jR.A,jR.U];
q.oK(N.buffer,jR);var ih=r.MztT.v.MztT,k7={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ih],j0=Date.now(),ba=[];
for(var l=0;l<Z;l++){ba[l]=Math.random()}var Z=c*J,ac=Math.round(Z*k7[0]),g_=Z-c-1;for(var l=0;l<ac;
l++){var hY=Math.random(),fl=1;if(hY<.5){fl=c;hY*=2}else hY=2*(hY-.5);var aI=Math.floor(hY*g_),iU=aI+fl;
ba[aI]=ba[iU]}var cD=Math.round(c*k7[1]);for(var _=0;_<J;_++)for(var l=0;l<cD;l++){var hY=q.Q.No(_*Z+l),aI=_*c+Math.floor(hY*(c-1));
ba[aI]=ba[aI+1]}var hx=new Float64Array(256);for(var l=0;l<256;l++){var gx=l/255,ev=2*(gx<.5?gx:1-gx);
ev=k7[2]+Math.pow(ev,k7[3])*(1-k7[2]);gx=gx<.5?ev*.5:1-ev*.5;hx[l]=gx}for(var n=0;n<3;n++){var x=j2[n];
for(var _=0;_<J;_++){for(var H=0;H<c;H++){var l=_*c+H,b9=x[l],gx=hx[b9],hY=ba[l];x[l]=hY>gx?0:255}}}q.vZ(jR,A.buffer)}if(s=="Msc "){var ee=r.ClSz.v.val,c=N.rect.G,J=N.rect.n,gM=Math.ceil(c/ee),at=Math.ceil(J/ee),gu=q.m(gM*at*4);
q.scale.MZ(N.buffer,c,J,gu,gM,at,1/ee);q.scale.MZ(gu,gM,at,A.buffer,c,J,ee)}if(s=="Clds"||s=="DfrC"){var c=A.rect.G,J=A.rect.n,Z=c*J,iD=q.m(Z);
if(s=="Clds")q.TM(A.buffer,4278190080);var ec=q.m(256*4);for(var l=0;l<256;l++){var i=l<<2,fq=l/255,dB=1-fq;
ec[i]=Math.round(fq*S.w+dB*z.w);ec[i+1]=Math.round(fq*S.A+dB*z.A);ec[i+2]=Math.round(fq*S.U+dB*z.U)}q.C.a6E(N.buffer,c,J,iD);
var dD=A.buffer;for(var l=0;l<Z;l++){var i=l<<2,n=iD[l]<<2,h=ec[n],gR=ec[n+1],c3=ec[n+2];if(s=="Clds"){dD[i]=h;
dD[i+1]=gR;dD[i+2]=c3}else{dD[i]=Math.abs(dD[4*l]-h);dD[i+1]=Math.abs(dD[4*l+1]-gR);dD[i+2]=Math.abs(dD[4*l+2]-c3)}}}if(s=="LnsF"){var c=N.rect.G,J=N.rect.n,ih=["Zm","Nkn","Nkn1","PnVs"].indexOf(r.Lns.v.Lns),e6=r.FlrC.v,aP=[Math.min(ih,2),r.Brgh.v/100,e6.Hrzn.v,e6.Vrtc.v],j0=Date.now();
q.a7r(N.buffer,c,J,A.buffer,aP)}var jb=["Blr ","BlrM","Shrp","ShrM"].indexOf(s);if(jb!=-1){var cx=jb>1,c=N.rect.G,J=N.rect.n,ap=q.DD.OW[jb],e3=N.buffer.slice(0);
if(!cx)q.YG(e3);q.DD.tn(e3,A.buffer,c,J,ap,255,!1,cx);if(!cx)q.wR(A.buffer)}if(s=="MtnB"){var kk=-r.Angl.v*Math.PI/180,fv=r.Dstn.v.val/2,j0=Date.now(),c=N.rect.G,J=N.rect.n,D=N.rect.clone();
D.x=D.y=0;if(d.Bi){var j0=Date.now(),co=A.buffer;co.set(N.buffer);q.YG(co);var c8=d.fw(0,c,J);c8.set(co);
var jy=q.m(4);jy[0]=Math.round(128+127*Math.cos(kk));jy[1]=Math.round(128+127*Math.sin(kk));new Uint32Array(co.buffer).fill(new Uint32Array(jy.buffer)[0]);
var fC=d.fw(1,c,J);fC.set(co);d.Lp(c8,D);c8.AY(D);d.filter.Mx({type:d.filter.iH,sj:fC.Cp,GB:new Float32Array([1/c,1/J]),as6:fv/2,ajY:1},c8.kv);
c8.get(co);q.wR(co)}else{var h4=new gF;h4.rotate(kk);var X=K.S.aG([N.buffer,N.rect],h4,!1,null,!0);hT.N4(fv,q.W9.nX,X.buffer,X.rect);
h4.dm();X=K.S.aG([X.buffer,X.rect],h4,!1,A.buffer.buffer,!0,A.rect)}console.log(Date.now()-j0)}if(s=="RdlB"){var c=N.rect.G,J=N.rect.n,aE=r.Amnt.v,iX=r.BlrM.v.BlrM=="Zm",fd=r.Cntr.v,gl=fd.Hrzn.v,gK=fd.Vrtc.v,be=Math.max(gl,1-gl)*c,jK=Math.max(gK,1-gK)*J,eu=Math.sqrt(be*be+jK*jK),g0=2*Math.PI*eu*1.5,f2=Math.round(g0),f3=Math.round(eu),hw=new hq(0,0,f2,f3),bB=q.m(f2*f3*4),hy=iX?4:1,jv=iX?.6:8*((c+J)/2)/1400,fo=.1,e8=1,b_=1;
q.P.Uy(N.buffer,c,J,bB,f2,f3,gl,gK,hy,fo,e8,b_);var d_=iX?q.m(f2*f3*4):null;if(iX){q.P.yZ(bB,d_,f2,f3);
var k4=d_;d_=bB;bB=k4;hw.G=f3;hw.n=f2}hT.N4(jv*aE,q.W9.nX,bB,hw);if(iX){q.P.yZ(bB,d_,f3,f2);var k4=d_;
d_=bB;bB=k4;hw.G=f2;hw.n=f3}q.P.Ci(bB,f2,f3,A.buffer,c,J,gl,gK,hy,fo,e8,b_)}if(s=="Plr "){var c=N.rect.G,J=N.rect.n;
if(r.Cnvr.v.Cnvr=="RctP")q.P.Ci(N.buffer,c,J,A.buffer,c,J,.5,.5,1,0,2,c/J);else q.P.Uy(N.buffer,c,J,A.buffer,c,J,.5,.5,1,0,2,c/J)}if(s=="FndE"){var c=N.rect.G,J=N.rect.n;
q.DD.iu(N.buffer,A.buffer,c,J)}if(s=="oilPaint"){var aL=r.LghD.v*Math.PI/180,f_=[Math.cos(aL),Math.sin(aL),.001],fg=[r.stylization.v,r.cleanliness.v,r.brushScale.v,r.microBrush.v,r.lightingOn.v,r.specularity.v,f_],D=N.rect.clone();
D.x=D.y=0;q.YX.filter(N.buffer,D,A.buffer,fg)}if(s=="Ofst"){var c=N.rect.G,J=N.rect.n,k5=new Uint32Array(N.buffer.buffer),dw=new Uint32Array(A.buffer.buffer),g1=r.Hrzn.v,gV=r.Vrtc.v,hX=r.Fl.v.FlMd;
q.TM(dw,0);if(hX=="Bckg"||hX=="Rpt"){var hw=N.rect.clone();hw.offset(g1,gV);q.LP(k5,hw,dw,A.rect)}if(hX=="Rpt"){var f0,fQ,gL,aq,fU;
g1=Math.max(-c,Math.min(c,g1));gV=Math.max(-J,Math.min(J,gV));f0=g1>0?g1:0;gL=g1>0?c:c+g1;fQ=gV>0?0:gV+J;
aq=gV>0?gV:J;fU=gV>0?0:c*(J-1);for(var _=fQ;_<aq;_++)for(var H=f0;H<gL;H++)dw[_*c+H]=k5[fU+H-g1];f0=g1>0?0:c+g1;
gL=g1>0?g1:c;fQ=gV>0?gV:0;aq=gV>0?J:J+gV;fU=g1>0?0:c-1;for(var _=fQ;_<aq;_++)for(var H=f0;H<gL;H++)dw[_*c+H]=k5[fU+c*(_-gV)];
if(g1>=0&&gV>=0){f0=0;gL=g1;fQ=0;aq=gV;fU=0}if(g1>=0&&gV<0){f0=0;gL=g1;fQ=J+gV;aq=J;fU=c*(J-1)}if(g1<0&&gV>=0){f0=c+g1;
gL=c;fQ=0;aq=gV;fU=c-1}if(g1<0&&gV<0){f0=c+g1;gL=c;fQ=J+gV;aq=J;fU=c*J-1}for(var _=fQ;_<aq;_++)for(var H=f0;
H<gL;H++)dw[_*c+H]=k5[fU]}if(hX=="Wrp"){g1=(g1+100*c)%c;gV=(gV+100*J)%J;var hw=new hq(g1-c,gV-J,c,J);
q.LP(k5,hw,dw,A.rect);hw.offset(c,0);q.LP(k5,hw,dw,A.rect);hw.offset(0,J);q.LP(k5,hw,dw,A.rect);hw.offset(-c,0);
q.LP(k5,hw,dw,A.rect)}}if(s=="Rept"){var eo=r.Rsft.v.val/100,eh=r.SpcX.v.val/100;eh=Math.max(eh,-.99);
var dV=r.SpcY.v.val/100;dV=Math.max(dV,-.99);var e8=r.Scl.v.val/100,h4=new gF;h4.rotate(r.Angl.v*Math.PI/180);
h4.scale(e8,e8);var is={buffer:N.buffer,rect:N.rect};q.pt(is);if(is.rect.Nf()){is.buffer=N.buffer;is.rect=N.rect}var dD=is.buffer,hw=is.rect,bZ=q.DK(dD,hw,0),gH=new Uint32Array(dD.buffer)[0];
if(!bZ.Nf()&&!bZ.nR(hw)){var jM=q.m(bZ.$()*4);q.LP(dD,hw,jM,bZ);dD=jM;hw=bZ}hw.x=hw.y=0;gH=eh==0&&dV==0||r.SpcC.v?gH:0;
function hm(H){return H<0?Math.ceil(H):Math.floor(H)}var jU=h4.aK(new cR(hw.G,0));jU.x=hm(jU.x);jU.y=hm(jU.y);
var eW=h4.aK(new cR(0,hw.n));eW.x=hm(eW.x);eW.y=hm(eW.y);var X=K.S.aG([dD,hw],h4,!1),fB=X.rect,eT=X.buffer,g3=Math.round(fB.x),cN=Math.round(fB.y),iK=Math.max(A.rect.G,A.rect.n)/Math.min(hw.G*e8*(1+eh),hw.n*e8*(1+dV));
iK=Math.ceil(iK*1.7);q.TM(A.buffer,gH);for(var _=-iK;_<iK;_++){for(var H=-iK;H<iK;H++){var bv=(H+_*eo)*(1+eh),hG=_*(1+dV);
fB.x=g3+Math.round(bv*jU.x+hG*eW.x);fB.y=cN+Math.round(bv*jU.y+hG*eW.y);if(fB.mF(A.rect))q.Q.VP("norm",eT,fB,A.buffer,A.rect,fB,1)}}}if(s=="Ctoa"){var z=q.i.iy(r.Clr.v),e0=r.Trsp.v.val/100,ig=r.Opct.v.val/100;
e0=ig==0?0:e0/ig;var c=N.rect.G,J=N.rect.n,a0=~~z.w,gt=~~z.A,iP=~~z.U,fU=N.buffer,dJ=A.buffer;for(var _=0;
_<J;_++)for(var H=0;H<c;H++){var l=_*c+H,i=l<<2,hw=fU[i],dQ=fU[i+1],dD=fU[i+2],dO=Math.abs(a0-hw),ak=Math.abs(gt-dQ),a1=Math.abs(iP-dD),aV=Math.max(dO,ak,a1)*(1/255);
aV=Math.max(0,Math.min(1,aV/ig));var iy=aV==0?0:1/aV,dp=e0==1?1:Math.max(0,Math.min(1,(aV-e0)/(1-e0)));
dJ[i]=Math.max(0,Math.min(255,(hw-a0*(1-aV))*iy));dJ[i+1]=Math.max(0,Math.min(255,(dQ-gt*(1-aV))*iy));
dJ[i+2]=Math.max(0,Math.min(255,(dD-iP*(1-aV))*iy));dJ[i+3]=~~(.5+dp*255)}}if(s=="Dthr"){function d6(H){return~~(.5+255*q.Fb(H/255))}var G=r.Plte.v,gi;
if(G==0)gi=[4278190080,4294967295];else{var b7=[[1,1,1],[2,2,2],[3,3,2]][G-1],by=[1<<b7[0],1<<b7[1],1<<b7[2]],hv=[~~(255/(by[0]-1)),~~(255/(by[1]-1)),~~(255/(by[2]-1))];
gi=[];for(var h=0;h<by[0];h++)for(var gR=0;gR<by[1];gR++)for(var c3=0;c3<by[2];c3++)gi.push(255<<24|d6(c3*hv[2])<<16|d6(gR*hv[1])<<8|d6(h*hv[0]))}var c=N.rect.G,J=N.rect.n,Z=c*J,cg=Z*4,hJ=N.buffer.slice(0),dL=A.buffer;
for(var l=0;l<cg;l++)hJ[l]=~~(.5+255*q.Fb(hJ[l]/255));var iq=q.m(c*J);UPNG.encode.dither(hJ,c,J,gi,dL,iq);
for(var l=0;l<cg;l++)dL[l]=~~(.5+255*q.VN(dL[l]/255))}if(s=="Part"){var hH=[r.RndS.v,r.Cont.v/100,r.Size.v,r.Dpth.v/100,r.Brgh.v/100,q.i.iy(r.Clr.v),r.Time.v,r.Blnk.v,r.Fall.v,r.Turb.v/100];
q.i$.uf(A.buffer,N.rect.G,N.rect.n,hH)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(s)!=-1){var gd=B[0],c=N.rect.G,J=N.rect.n,hx,jI=0;
if(s=="LqFy")hx=cb.j7(new Uint8Array(r.LqMe.v).buffer);else{var eB=3;hx={s7:Math.floor(c/eB),JY:Math.floor(J/eB)};
hx.map=new Float32Array(hx.s7*hx.JY*2);if(s=="LnCr"){var gl=.5*(hx.s7-1),gK=.5*(hx.JY-1),jL=Math.max(Math.abs(0-gl),Math.abs(1-gl)),kj=Math.max(Math.abs(0-gK),Math.abs(1-gK)),h7=Math.sqrt(jL*jL+kj*kj),cY=0,jJ=0,fW=-1,hI=2,e8=r.LnSi.v/100,iX=1/e8,jH=r.LnIa.v/100,jm=jH==0?1e-6:jH*4.6,hn=iX/h7;
for(var _=0;_<hx.JY;_++){for(var H=0;H<hx.s7;H++){var be=(H-gl)*hn,jK=(_-gK)*hn,h=Math.sqrt(be*be+jK*jK)*jm,gq=Math.atan(h),bM=jH>0?gq/h:h/gq,b_=gl+h7*bM*be,h6=gK+h7*bM*jK,l=_*hx.s7+H<<1;
hx.map[l]=b_-H;hx.map[l+1]=h6-_}}}else if(s=="Kale"){var gM=hx.s7,at=hx.JY,bL=(gM-1)*.5,iO=(at-1)*.5,jT=r.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,ib=r.Mirr.v,gQ=Math.PI*2/ib,cF=.5*gQ;
for(var _=0;_<at;_++)for(var H=0;H<gM;H++){var be=H-bL,jK=_-iO,c$=Math.sqrt(be*be+jK*jK),aL=Math.atan2(jK,be)+jT;
aL=aL%gQ;if(aL>cF)aL=gQ-aL;var b_=bL+Math.cos(aL-jT)*c$,h6=iO+Math.sin(aL-jT)*c$,l=(_*gM+H)*2;hx.map[l]=b_-H;
hx.map[l+1]=h6-_}}else if(s=="Dspl"&&gd.length!=0){jI=r.UndA.v.UndA=="WrpA"?2:1;var g5=r.DspF.v.pth,iR;
for(var l=0;l<gd.length;l++)if(gd[l].eq==g5)iR=gd[l];if(iR==null)iR=gd[0];iR.r9();var dO=iR.t1[1],fE=q.m(dO.$());
q.I_(iR.t1[0],fE);var a7=dO.G,ax=dO.n;hx={s7:a7,JY:ax};hx.map=new Float32Array(hx.s7*hx.JY*2);var iV=2.54*r.HrzS.v*a7/c,ah=2.54*r.VrtS.v*ax/J;
for(var _=0;_<hx.JY;_++){for(var H=0;H<hx.s7;H++){var kl=-.5+fE[_*a7+H]*(1/255),l=_*hx.s7+H<<1;hx.map[l]=kl*iV;
hx.map[l+1]=kl*ah}}}else if(s=="Pnch"||s=="Twrl"||s=="Sphr"||s=="ZgZg"){var aE=1,kk=Math.PI,dY=0,j4=1,aY=0,fd=3,ee=1.53,bM=1;
if(s=="Pnch"||s=="Sphr"||s=="ZgZg")aE=r.Amnt.v/100;if(s=="ZgZg"){j4=r.NmbR.v;aY=["ArnC","OtFr","PndR"].indexOf(r.ZZTy.v.ZZTy)}if(s=="Twrl")kk=r.Angl.v*Math.PI/180;
if(s=="Sphr")dY=["Nrml","HrzO","VrtO"].indexOf(r.SphM.v.SphM);function hB(H){H=Math.pow(H,1-H*.3-H*H*(H*H)*.5);
return-.225*Math.sin(H*Math.PI)}function iA(J,eQ,h,f0,fQ,gL,aq,bM){var be=gL-f0,jK=aq-fQ,b1=f0-J,jY=fQ-eQ,fq=be*be+jK*jK,c3=2*(be*b1+jK*jY),fd=b1*b1+jY*jY-h*h,an=Math.sqrt(c3*c3-4*fq*fd),dx=bM/(2*fq),d2=(-c3+an)*dx,jd=(-c3-an)*dx;
return bM*Math.min(d2,jd)}var gM=hx.s7,at=hx.JY,bL=hx.s7/2,iO=hx.JY/2,aZ=1/bL,h=Math.sqrt(fd*fd+1)/fd,dG=fd+Math.sqrt(1/(fd*fd));
if(aE<0){fd=1.72;h=1;dG=fd;ee=-1;bM=-1}for(var _=0;_<at;_++){var jK=(_-iO)/iO;for(var H=0;H<gM;H++){var be=(H-bL)*aZ;
if(dY==1)jK=0;else if(dY==2)be=0;var i_=Math.sqrt(be*be+jK*jK);if(i_<1&&i_!=0){var l=_*hx.s7+H<<1;if(s=="Pnch"){var iz=-aE*hB(i_)/i_;
hx.map[l]=be*iz*bL;hx.map[l+1]=jK*iz*iO}else if(s=="Sphr"){var k4=iA(0,dG,h,0,0,i_,fd,bM),da=ee*aE*(k4-1);
hx.map[l]=be*da*bL;hx.map[l+1]=jK*da*iO}else if(s=="Twrl"){var aL=Math.atan2(jK,be)-kk*(1-i_)*(1-i_),eZ=Math.cos(aL),jV=Math.sin(aL);
hx.map[l]=(i_*eZ-be)*bL;hx.map[l+1]=(i_*jV-jK)*iO}else if(s=="ZgZg"){var eZ=0,jV=0,fb=aE*(.5-.5*Math.cos(i_*j4*2*Math.PI))*(1-i_);
if(aY==0){var aL=Math.atan2(jK,be)-3.5*fb;eZ=i_*Math.cos(aL);jV=i_*Math.sin(aL)}if(aY==1){fb=100/c*fb/i_;
eZ=(1-fb)*be;jV=(1-fb)*jK}if(aY==2){var R=512/c*fb*Math.PI/4;eZ=R+be;jV=R+jK}hx.map[l]=(eZ-be)*bL;hx.map[l+1]=(jV-jK)*iO}}}}}else if(s=="Shr "){var ds=JSON.parse(JSON.stringify(r.ShrP.v));
q.R2.D(ds,new gF(0,255/127,255/127,0,-2,0));var cm=q.R2.s9(ds,hx.JY,!0);jI=r.UndA.v.UndA=="WrpA"?2:1;
for(var _=0;_<hx.JY;_++){var be=-cm[_]*hx.s7;for(var H=0;H<hx.s7;H++){var l=_*hx.s7+H<<1;hx.map[l]=be}}}else if(s=="Wave"){var iM=r.NmbG.v,as=r.WLMn.v,h$=r.WLMx.v,j_=r.AmMn.v*(Math.PI/4),iC=r.AmMx.v*(Math.PI/4),b8=r.SclH.v/100,jF=r.SclV.v/100,ih=r.Wvtp.v.Wvtp,fb=Math.sin;
if(ih=="WvTr")fb=function(H){H*=2/Math.PI;return-.5+Math.abs(H%2-1)};if(ih=="WvSq")fb=function(H){H*=2/Math.PI;
return 1+2*Math.floor(H%2-1)};var aH=[],hs=new q.Q.NJ(r.RndS.v);for(var l=0;l<iM;l++){aH.push(hs.get()*10);
aH.push(Math.PI*eB/(as+hs.get()*(h$-as)));aH.push(b8*(j_+hs.get()*(iC-j_))/eB);aH.push(hs.get()*10);
aH.push(Math.PI*eB/(as+hs.get()*(h$-as)));aH.push(jF*(j_+hs.get()*(iC-j_))/eB)}var fI=[],bs=[],bq=Math.max(hx.s7,hx.JY);
for(var l=0;l<bq;l++){var be=0,jK=0;for(var em=0;em<iM;em++){var fk=em*6;be+=aH[fk+2]*fb(aH[fk]+l*aH[fk+1]);
jK+=aH[fk+5]*fb(aH[fk+3]+l*aH[fk+4])}fI[l]=jK;bs[l]=be}for(var _=0;_<hx.JY;_++){for(var H=0;H<hx.s7;
H++){var l=_*hx.s7+H<<1;hx.map[l]=bs[_];hx.map[l+1]=fI[H]}}jI=r.UndA.v.UndA=="WrpA"?2:1}else if(s=="Rple"){jI=1;
var aE=r.Amnt.v/100,cw=4,cA=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],aK=1,cz=1,b1=0,ht=["Sml","Mdm","Lrg"].indexOf(r.RplS.v.RplS);
if(ht==0){aK=1;cz=.2;b1=3}if(ht==2){aK=1;cz=2;b1=-1;cA=cA.reverse()}var a4=function(H,_){var fd=Math.cos,bC=0;
for(var l=0;l<cw;l++)for(var em=0;em<cw;em++)bC+=cA[l*cw+em]*fd(H*(l+b1)-_*(em+b1));return bC},bQ=Math.floor(50/eB),c7=new Float32Array(bQ*bQ*2),il=cz*aE*.5/eB;
for(var _=0;_<bQ;_++)for(var H=0;H<bQ;H++){var gl=aK*H*2*Math.PI/bQ,gK=aK*_*2*Math.PI/bQ,az=a4(gl,gK),be=(a4(gl+.01,gK)-az)*100,jK=(a4(gl,gK+.01)-az)*100,l=(_*bQ+H)*2;
c7[l]=be*il;c7[l+1]=jK*il}for(var _=0;_<hx.JY;_++)for(var H=0;H<hx.s7;H++){var jV=_%bQ,eZ=H%bQ,l=_*hx.s7+H<<1,hA=jV*bQ+eZ<<1;
hx.map[l]=c7[hA];hx.map[l+1]=c7[hA+1]}}}q.W6.XK(N.buffer,A.buffer,c,J,null,hx.map,hx.s7,hx.JY,jI)}return A};
var gN={};gN.ajl="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");gN.C_="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
gN.eZ=["ScrC","ScrD","ScrL"];gN.La=["SDRD","SDHz","SDLD","SDVt"];gN.ro="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
gN.Os="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");gN.BI="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
gN.gF=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];gN.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
gN.yS=function(s){var N;if(s=="ClrP")N={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(s=="Ct")N={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(s=="DryB")N={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(s=="FlmG")N={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(s=="Frsc")N={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(s=="NGlw")N={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(s=="PntD")N={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(s=="PltK")N={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(s=="PlsW")N={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(s=="PstE")N={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(s=="RghP")N={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(s=="SmdS")N={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(s=="Spng")N={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(s=="Undr")N={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(s=="Wtrc")N={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(s=="AccE")N={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(s=="AngS")N={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(s=="Crsh")N={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(s=="DrkS")N={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(s=="InkO")N={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(s=="Smie")N={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(s=="Spt")N={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(s=="SprS")N={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(s=="DfsG")N={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(s=="Gls")N={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(s=="OcnR")N={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(s=="BsRl")N={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(s=="ChlC")N={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(s=="Chrc")N={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(s=="Chrm")N={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(s=="CntC")N={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(s=="GraP")N={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(s=="HlfS")N={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(s=="NtPr")N={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(s=="Phtc")N={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(s=="Plst")N={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(s=="Rtcl")N={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(s=="Stmp")N={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(s=="TrnE")N={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(s=="WtrP")N={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(s=="GlwE")N={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(s=="Crql")N={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(s=="Grn")N={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(s=="MscT")N={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(s=="Ptch")N={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(s=="StnG")N={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(s=="Txtz")N={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
N.__name="Filter Gallery";N.classID="GEfc";N.GEfk={t:"enum",v:{GEft:s}};N.GELv={t:"bool",v:!0};return N};
gN.fd=function(s,N){for(var l=0;l<N.length;l++)~~(N[l]=(s[4*l]+s[4*l+1]+s[4*l+2])*(1/3))};gN.a8O=function(s,N,r,S){var z=UPNG.quantize(s,N);
z={IK:z.inds,Og:z.plte};var A=Math.floor((r+S)*.015);if(A!=0)q.jy.aod(z.IK,r,S,A);return z};gN.M$=function(s,N,r,S,z,A,B){s=r.GEfk.v.GEft;
var Y=N.rect,t=Y.G,p=Y.n,f=t*p,a=r.FlRs?r.FlRs.v>>>1:0;function D(i){return i.w<<24|i.A<<16|i.U<<8|255}if(s=="ClrP")q.C.amq(N.buffer,t,p,A.buffer,[r.Pncl.v,r.StrP.v,r.PprB.v]);
if(s=="Ct"){var c=r.NmbL.v,J=r.EdgS.v,Z=gN.a8O(N.buffer.buffer,c*2,t,p);for(var l=0;l<Z.IK.length;l++)Z.IK[l]++;
var Q=new Uint8Array((t+2)*(p+2));q.lf(Z.IK,new hq(1,1,t,p),Q,new hq(0,0,t+2,p+2));var M=q.g.M4(Q,t+2,p+2,J,!1),u=new gF(1,0,0,1,-1,-1);
for(var l=0;l<M.length;l++)q.g.D(M[l].path.v,u,M[l].path.v);var P=[],m=Z.Og;for(var l=0;l<m.length;l++){var i=m[l].est.q;
P.push({w:Math.round(255*i[0]),A:Math.round(255*i[1]),U:Math.round(255*i[2]),aC:Math.round(255*i[3])})}var e=q.ip(t,p);
for(var l=0;l<M.length;l++){var X=M[l],i=P[X.color-1];if(i.aC==0)continue;e.fillStyle="rgba("+i.w+","+i.A+","+i.U+","+i.aC/255+")";
e.beginPath();Typr.U.pathToContext({crds:X.path.v,cmds:X.path.F},e);e.fill()}if(!Y.Nf()){var $=e.getImageData(0,0,t,p);
q.r8($.data,A.buffer)}}if(s=="DryB")q.C.akm(N.buffer,t,p,A.buffer,[r.BrsS.v,r.BrsD.v,r.Txtr.v]);if(s=="FlmG")q.C.aqa(N.buffer,t,p,A.buffer,[r.Grn.v,r.HghA.v,r.Intn.v,a]);
if(s=="Frsc")q.C.a6c(N.buffer,t,p,A.buffer,[r.BrsS.v,r.BrsD.v,r.Txtr.v]);if(s=="NGlw")q.C.abG(N.buffer,t,p,A.buffer,[r.Sz.v,r.Brgh.v,D(q.i.iy(r.Clr.v)),D(S),D(z)]);
if(s=="PltK")q.C.aow(N.buffer,t,p,A.buffer,[r.StrS.v,r.StDt.v,r.Sftn.v]);if(s=="PstE")q.C.a4R(N.buffer,t,p,A.buffer,[r.EdgT.v,r.EdgI.v,r.Pstr.v]);
if(s=="RghP")q.C.awn(N.buffer,t,p,A.buffer,[r.StrL.v,r.StDt.v,gN.ro.indexOf(r.TxtT.v.TxtT),r.Scln.v,r.Rlf.v,gN.C_.indexOf(r.LghD.v.LghD),r.InvT.v]);
if(s=="SmdS")q.C.au7(N.buffer,t,p,A.buffer,[r.StrL.v,r.HghA.v,r.Intn.v,r.FlRs.v,a]);if(s=="Spng")q.C.awo(N.buffer,t,p,A.buffer,[r.BrsS.v,r.Dfnt.v,r.Smth.v,r.FlRs.v,a]);
if(s=="Undr")q.C.afS(N.buffer,t,p,A.buffer,[r.BrsS.v,r.TxtC.v,gN.ro.indexOf(r.TxtT.v.TxtT),r.Scln.v,r.Rlf.v,gN.C_.indexOf(r.LghD.v.LghD),r.InvT.v]);
if(s=="Wtrc")q.C.aeg(N.buffer,t,p,A.buffer,[r.BrsD.v,r.ShdI.v,r.Txtr.v]);if(s=="AccE")q.C.ahg(N.buffer,t,p,A.buffer,[r.EdgW.v,r.EdgB.v,r.Smth.v]);
if(s=="AngS")q.C.a2n(N.buffer,t,p,A.buffer,[r.DrcB.v,r.StrL.v,r.Shrp.v]);if(s=="Crsh")q.C.anX(N.buffer,t,p,A.buffer,[r.StrL.v,r.Shrp.v,r.Strg.v]);
if(s=="DrkS")q.C.aaY(N.buffer,t,p,A.buffer,[r.Blnc.v,r.BlcI.v,r.WhtI.v]);if(s=="InkO")q.C.ajd(N.buffer,t,p,A.buffer,[r.StrL.v,r.DrkI.v,r.LghI.v]);
if(s=="Smie")q.C.auu(N.buffer,t,p,A.buffer,[r.StrW.v,r.StrP.v,r.Cntr.v]);if(s=="DfsG")q.C.afH(N.buffer,t,p,A.buffer,[r.Grns.v,r.GlwA.v,r.ClrA.v,D(z),a]);
if(s=="CntC")q.C.apD(N.buffer,t,p,A.buffer,[r.FrgL.v,r.BckL.v,gN.ro.indexOf(r.TxtT.v.TxtT),r.Scln.v,r.Rlf.v,gN.C_.indexOf(r.LghD.v.LghD),r.InvT.v,D(z),D(S)]);
if(s=="ChlC")q.C.akS(N.buffer,t,p,A.buffer,[r.ChrA.v,r.ChlA.v,r.StrP.v,a,D(z),D(S)]);var O=s=="GraP"||s=="Chrc"||s=="Plst"||s=="Rtcl"||s=="Stmp"||s=="TrnE";
if(O){var T=q.m(t*p);if(s=="GraP")q.C.asO(N.buffer,t,p,A.buffer,[r.StrL.v,r.LgDr.v,gN.La.indexOf(r.SDir.v.StrD),a]);
if(s=="Chrc")q.C.a9O(N.buffer,t,p,A.buffer,[r.ChAm.v,r.Dtl.v,r.LgDr.v]);if(s=="Plst")q.C.aep(N.buffer,t,p,A.buffer,[r.ImgB.v,gN.Os.indexOf(r.LghP.v.LghP),r.Smth.v]);
if(s=="Rtcl")q.C.aph(N.buffer,t,p,A.buffer,[r.Dnst.v,r.BlcL.v,r.WhtL.v,a]);if(s=="Stmp")q.C.a5F(N.buffer,t,p,A.buffer,[r.LgDr.v,r.Smth.v]);
if(s=="TrnE")q.C.awS(N.buffer,t,p,A.buffer,[r.ImgB.v,r.Smth.v,r.Cntr.v,a]);q.WZ(A.buffer,T,0);gN.Rg(T,A.buffer,S,z)}if(s=="NtPr")q.C.awV(N.buffer,t,p,A.buffer,[r.ImgB.v,r.Grns.v,r.Rlf.v,D(S),D(z),a]);
if(s=="WtrP")q.C.asp(N.buffer,t,p,A.buffer,[r.FbrL.v,r.Brgh.v,r.Cntr.v,a>>>1]);if(s=="Crql")q.C.ai2(N.buffer,t,p,A.buffer,[r.CrcS.v,r.CrcD.v,r.CrcB.v,a]);
if(s=="Grn")q.C.aiX(N.buffer,t,p,A.buffer,[r.Intn.v,gN.BI.indexOf(r.Grnt.v.Grnt),r.Cntr.v,D(S),D(z),a]);
if(s=="MscT")q.C.aiW(N.buffer,t,p,A.buffer,[r.TlSz.v,r.GrtW.v,r.LghG.v,a]);if(s=="Ptch")q.C.a07(N.buffer,t,p,A.buffer,[r.SqrS.v,r.Rlf.v,a]);
if(s=="Phtc"){function b(hl,ia,Y,cZ){q.W9.oU(hl,ia,Y,cZ);for(var l=0;l<f;l++)ia[l]=Math.max(0,Math.min(255,128+hl[l]-ia[l]))}var R=r.Dtl.v,w=r.Drkn.v,F=q.m(f);
q.I_(N.buffer,F);var L=q.m(f);b(F,L,Y,1);if(R==1){R=2;w=Math.round(w/4)}var x=q.m(f);b(F,x,Y,R);for(var l=0;
l<f;l++)F[l]=Math.max(0,Math.min(255,255-(L[l]-x[l])*w));gN.Rg(F,A.buffer,S,z)}if(s=="Spt"||s=="SprS"){var g,n=1,h=1;
g={s7:Math.floor(t/h),JY:Math.floor(p/h)};g.map=new Float32Array(g.s7*g.JY*2);var _=new q.Q.NJ(r.FlRs.v),H=new Float32Array(8192),G=r.SprR.v,j=G<20?.018*G:.36+(G-20)*.128;
if(s=="SprS"){j=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][G]}for(var l=0;
l<8192;l++)H[l]=(-1+2*_.get())*j*70;for(var v=0;v<p;v++)for(var C=0;C<t;C++){var E=v*t+C<<1;g.map[E]=H[E%7919];
g.map[E+1]=H[(E+1)%7919]}var I=g.map.slice(0),dJ=s=="Spt"?r.Smth.v-1:1;if(s=="Spt"&&dJ!=0){gN.ah5(g.map,I,t,p,dJ);
gN.a8m(I,g.map,t,p,dJ)}if(s=="SprS"){var fG=r.StrL.v>>>1,o=fG==0?2:1;gN.ah5(g.map,I,t,p,o);gN.a8m(I,g.map,t,p,o);
if(fG!=0){var i4=gN.La.indexOf(r.SDir.v.StrD),df=[1,1,1,0][i4],eO=[-1,0,1,1][i4],cO=2*fG+1,ej=1/cO;for(var v=0;
v<p;v++)for(var C=0;C<t;C++){var E=v*t+C<<1,cn=0,j5=0;for(var l=0;l<cO;l++){var gP=Math.max(0,Math.min(t-1,C-(fG+l)*df)),bY=Math.max(0,Math.min(p-1,v-(fG+l)*eO)),gR=bY*t+gP<<1;
cn+=g.map[gR];j5+=g.map[gR+1]}I[E]=cn*ej;I[E+1]=j5*ej}g.map=I}}q.W6.XK(N.buffer,A.buffer,t,p,null,g.map,g.s7,g.JY,n)}if(s=="BsRl"||s=="PlsW"||s=="Chrm"){var c3=Date.now(),jj=q.m(f),jC=jj.slice(0);
q.I_(N.buffer,jj);var R=r.Dtl.v,kf=r.Smth.v;if(R!=15){q.W9.ju(jj,jC,Y,Math.round((15-R)*.5));q.r8(jC,jj)}var bz=1.4/t,iv=1.4/p,bI=new Float32Array(f),jo=new Float32Array(f),iZ=new Float32Array(A.buffer.buffer);
for(var v=0;v<p;v++)for(var C=0;C<t;C++){var l=v*t+C,df=C==t-1?jj[l]-jj[l-1]:jj[l+1]-jj[l],eO=v==p-1?jj[l]-jj[l-t]:jj[l+t]-jj[l],jD=C*bz-.7,dM=v*iv-.7;
bI[l]=df==0?jD:df*.4;jo[l]=eO==0?dM:eO*.4}if(s=="BsRl"){var ka=(2+gN.C_.indexOf(r.LghD.v.LghD))*Math.PI*.25,cn=Math.cos(ka);
if(Math.abs(cn)<.1)cn=0;cn=Math.sign(cn);var j5=Math.sin(ka);if(Math.abs(j5)<.1)j5=0;j5=Math.sign(j5);
var ds=1/(cn*cn+j5*j5);for(var v=0;v<p;v++)for(var C=0;C<t;C++){var l=v*t+C,ee=Math.max(-1,Math.min(1,cn*bI[l])),ir=Math.max(-1,Math.min(1,j5*jo[l]));
jC[l]=128+127*(ee+ir)*ds}if(kf!=1){q.W9.ju(jC,jj,Y,Math.round((kf-1)*.5));q.r8(jj,jC)}gN.Rg(jC,A.buffer,S,z)}else{if(s=="Chrm")kf=5+kf;
if(kf>1)gN.N4(bI,jo,iZ,Y,kf-1);if(s=="PlsW"){var eP=new Uint8Array(bI.buffer);for(var l=0;l<f;l++){var jh=l<<2,df=bI[l],eO=jo[l],fy=1/(Math.sqrt(1+df*df)*Math.sqrt(1+eO*eO)),eS=fy*fy,gz=eS*eS,i=~~(255*(gz*gz*eS));
eP[jh+0]=i;eP[jh+1]=i;eP[jh+2]=i;eP[jh+3]=i}A.buffer.set(N.buffer);q.Q.VP("norm",eP,Y,A.buffer,Y,Y,r.HghS.v/20)}else if(s=="Chrm"){var fi=A.buffer,fw=t>>>1,ce=p>>>1;
for(var l=0;l<f;l++){var jh=l<<2,df=bI[l],eO=jo[l],hl={x:1,y:0,Jk:df};hC.BR(hl);var ia={x:0,y:1,Jk:eO};
hC.BR(ia);var iQ=hC.aek(hl,ia),em=1/iQ.Jk,k4=~~Math.max(0,Math.min(t-1,fw-iQ.x*em*fw)),ar=~~Math.max(0,Math.min(p-1,ce-iQ.y*em*ce)),i=jj[ar*t+k4];
fi[jh+0]=i;fi[jh+1]=i;fi[jh+2]=i}}}}if(s=="Gls"||s=="OcnR"||s=="Txtz"){var fg=s=="OcnR"?2:gN.ro.indexOf(r.TxtT.v.TxtT),j0=gN.lv(fg),bU=j0[0],jj=j0[1],dn=bU.G,aJ=bU.n,cO=24,aL=0,f8,aE;
function bE(eL,i6,ke){return~~(ew*(eL+i6)+8192)&127}var bI=new Float32Array(f),jo=new Float32Array(f),iZ=new Float32Array(A.buffer.buffer),ew=s=="OcnR"?1/(1+(r.RplS.v-1)*.1):100/r.Scln.v;
if(fg==3)ew*=32/22.2;var c3=Date.now(),jy=ew,bz=1.4/t,iv=1.4/p;if(s=="Txtz"){jy*=1/255;cO=256}for(var v=0;
v<p;v++){var eT=bE(v,Y.y,aJ),bY=eT+1&127;for(var C=0;C<t;C++){var l=v*t+C,du=bE(C,Y.x,dn),gP=du+1&127,c_=0,f9=0,bp=0;
if(s=="Txtz"){c_=q.P.YK(ew*C,ew*v,jj,128,128);f9=q.P.YK(ew*C,ew*v+1,jj,128,128);bp=q.P.YK(ew*C+1,ew*v,jj,128,128)}else{c_=jj[eT*dn+du];
f9=jj[bY*dn+du];bp=jj[eT*dn+gP]}bI[l]=Math.max(-cO,Math.min((bp-c_)*jy,cO));jo[l]=Math.max(-cO,Math.min((f9-c_)*jy,cO))}}if(s=="Txtz")gN.aw7(bI,jo,iZ,Y,6);
else gN.N4(bI,jo,iZ,Y,s=="Txtz"?1:s=="OcnR"?3.5/ew:r.Smth.v);if(s=="Txtz")aL=r.InvT.v?-1:1;else if(s=="Gls"){aL=[1,.4,.5,.5][fg]*(Math.exp(r.Dstr.v*.155)-1);
if(r.InvT.v)aL=-aL}else{aL=.5*(Math.exp(r.RplM.v*.155)-1)}var fi=A.buffer;if(s=="Txtz"){var ka=(2+gN.C_.indexOf(r.LghD.v.LghD))*Math.PI*.25,cn=Math.cos(ka),j5=Math.sin(ka);
f8={x:cn,y:j5,Jk:0};hC.BR(f8);aE=r.Rlf.v;aE=aE/4+Math.max(0,(aE-35)*2)}function be(hl,ia,ad){var dP=q.Q.overF(ia,hl,1),eL=(1-ad)*hl+ad*(ad*ia+(1-ad)*dP);
return eL*255}for(var v=0;v<p;v++)for(var C=0;C<t;C++){var l=v*t+C,jh=l<<2,df=bI[l],eO=jo[l],hl={x:1,y:0,Jk:df};
hC.BR(hl);var ia={x:0,y:1,Jk:eO};hC.BR(ia);var iQ=hC.aek(hl,ia);if(s=="Txtz"){var jK=hC.a4K(iQ,f8)*aL,ad=1,i=1;
if(jK<0){i=0;jK=-jK}ad=Math.min(1,jK*aE);fi[jh+0]=~~be(N.buffer[jh]*(1/255),i,ad);fi[jh+1]=~~be(N.buffer[jh+1]*(1/255),i,ad);
fi[jh+2]=~~be(N.buffer[jh+2]*(1/255),i,ad)}else{var em=aL/iQ.Jk,k4=~~Math.max(0,Math.min(t-1,C-iQ.x*em)),ar=~~Math.max(0,Math.min(p-1,v-iQ.y*em)),iF=ar*t+k4<<2;
fi[jh+0]=N.buffer[iF];fi[jh+1]=N.buffer[iF+1];fi[jh+2]=N.buffer[iF+2]}}}if(s=="PntD"){var c0=r.Shrp.v*.4,hE=r.BrsT.v.BrsT,hJ={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[hE],cZ=Math.round(r.Sz.v*.5);
q.j0.JE=hJ[0];var dS=q.j0.RW;q.j0.k1(N.buffer,A.buffer,t,p,cZ,dS,[]);var gh=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
gh=q.DD.A$(gh);var ih=A.buffer.slice(0);q.DD.tn(ih,A.buffer,t,p,gh,0);for(var l=0;l<N.buffer.length;
l++){var d4=A.buffer[l]-ih[l];A.buffer[l]=Math.max(0,Math.min(255,ih[l]+c0*d4))}}if(s=="GlwE"){var a3=A.buffer.slice(0);
q.j0.JE=.5;var dS=q.j0.RW;q.j0.k1(N.buffer,a3,t,p,r.Smth.v>>>1,dS,[]);q.DD.iu(a3,A.buffer,t,p);q.r8(A.buffer,a3);
q.dm(a3);q.TM(a3,4278190080,16777215);q.j0.k1(a3,A.buffer,t,p,r.EdgW.v>>>1,q.j0.Gv,[]);var bT=r.EdgB.v/10;
for(var l=0;l<a3.length;l++){if((l&3)==3)continue;var dP=A.buffer[l];A.buffer[l]=Math.max(0,Math.min(255,dP*bT))}}if(s=="StnG"){q.LN.aw6(N.buffer,t,p,A.buffer,r.ClSz.v,[Math.round(S.w),Math.round(S.A),Math.round(S.U)],r.BrdT.v)}if(s=="HlfS"){var i2=r.HlSz.v,eF=i2*2+1,hp=r.Cntr.v,dt=gN.eZ.indexOf(r.ScrT.v.ScrT),f=t*p,iw=f*4,cP=q.m(f),f0=N.buffer,dT=0,jB=0;
gN.fd(f0,cP);var fQ=cP.slice(0);q.W9.MU(fQ,cP,Y,i2);var gL=Math.PI/eF,aq=new Float64Array(t),cn=new Float64Array(t),aB=new Float64Array(2*t);
for(var C=0;C<t;C++){var du=(C-(t>>>1))*gL;aq[C]=du*du;cn[C]=Math.cos(du);var df=C<<1;aB[df]=Math.sin(df*(1/4.5));
aB[df+1]=Math.sin((df+1)*(1/4.5))}for(var v=0;v<p;v++){var eT=(v-(p>>>1))*gL,j5=Math.cos(eT),e5=eT*eT;
for(var C=0;C<t;C++){var i=j5;if(dt==0){var dU=.5+Math.sqrt(aq[C]+e5)*4.5;i=aB[~~dU]}else if(dt==1){i=cn[C]*j5}var l=v*t+C,e8=cP[l]*(.75+.25*i),ad=f0[(l<<2)+3]*(1/255),bK=Math.max(0,Math.min(255,~~e8));
dT+=bK*ad,jB+=ad;cP[l]=bK}}dT/=jB;var cl=128+1.26*(dT-128),bT=.08+.25*Math.abs((128-dT)/128),ic=1+bT*hp;
for(var l=0;l<f;l++){var e8=cl+(cP[l]-cl)*ic;cP[l]=Math.max(0,Math.min(255,~~e8))}if(hp>46)q.round(cP);
gN.Rg(cP,A.buffer,S,z)}for(var l=0;l<N.buffer.length;l+=4)A.buffer[l+3]=N.buffer[l+3]};gN.Rg=function(s,N,r,S){var z=s.length,A=r.w,B=r.A,Y=r.U,t=S.w,p=S.A,f=S.U;
for(var l=0;l<z;l++){var a=s[l]*(1/255),D=1-a,c=l<<2;N[c]=~~(A*D+t*a);N[c+1]=~~(B*D+p*a);N[c+2]=~~(Y*D+f*a)}};
gN.lv=function(s){if(s==6)s=2;var N="blocks canvas frosted tinylens brick burlap".split(" ")[s];if(gN.WQ==null)gN.WQ=[];
if(gN.WQ[s]==null){var r,S;if(s==2){S=new hq(0,0,128,128);var z=hT.yS("AdNs");z.Mnch.v=!0;z.Dstr.v.Dstr="Gsn";
z.Nose.v.val=50;var r=q.m(S.$()*4),A=r.slice(0);new Uint32Array(A.buffer).fill(4286611584);hT.M$("AdNs",{buffer:A,rect:S},z,0,0,{buffer:r,rect:S})}else{var B=hg.Dz.get("tex/"+N,!0)[0];
S=B.zC;r=new Uint8Array(B.data)}var Y=q.m(S.$());q.WZ(r,Y,0);gN.WQ[s]=[S,Y]}return gN.WQ[s]};gN.N4=function(s,N,r,S,z){if(z<=1){z=Math.round(z);
gN.aw7(s,N,r,S,[1,16,4][z]);return}var A=z*.42;if(s){q.W9.Hn(s,r,S,A,3);s.set(r)}if(N){q.W9.Hn(N,r,S,A,3);
N.set(r)}};gN.aw7=function(s,N,r,S,z){var A=q.DD.A$([1,2,1,2,z,2,1,2,1]);if(s){r.set(s);q.DD.XP(s,r,S.G,S.n,A);
s.set(r)}if(N){r.set(N);q.DD.XP(N,r,S.G,S.n,A);N.set(r)}};gN.sb=function(s){if(s==null)return new cR(0,0);
var N=0,r=s.GEfs?s.GEfs.v:[{v:s}];for(var l=0;l<r.length;l++){var S=r[l].v,A=1e4;if(S.GELv&&!S.GELv.v)continue;
var z=S.GEfk.v.GEft;if(z=="GlwE"||z=="Phtc"||z=="BsRl"||z=="PlsW"||z=="Chrm"||z=="Gls"||z=="OcnR")A=0;
N=Math.max(N,A)}return new cR(N,N)};gN.a7L=function(s){var N=[0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][s];
for(var l=0;l<13;l++){var S=l-6;N[l]=1/(r*Math.sqrt(2*Math.PI))*Math.exp(-.5*(S/r)*(S/r))}return N};
gN.ah5=function(s,N,r,S,z){var A=gN.a7L(z),B=6,Y=13;for(var t=0;t<S;t++)for(var p=0;p<r;p++){var f=t*r+p<<1,a=0,D=0;
for(var l=0;l<Y;l++){var c=p+l-B,J=c<0?0:c>=r?r-1:c,Z=(t*r+J)*2,Q=A[l];a+=Q*s[Z];D+=Q*s[Z+1]}N[f]=a;
N[f+1]=D}};gN.a8m=function(s,N,r,S,z){var A=gN.a7L(z),B=6,Y=13;for(var t=0;t<S;t++)for(var p=0;p<r;p++){var f=t*r+p<<1,a=0,D=0;
for(var l=0;l<Y;l++){var c=t+l-B,J=c<0?0:c>=S?S-1:c,Z=(J*r+p)*2,Q=A[l];a+=Q*s[Z];D+=Q*s[Z+1]}N[f]=a;
N[f+1]=D}};function bm(){}bm.Ew=[2,5,5,7,4,4];bm.sI="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
bm.ac="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
bm.bN=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
bm.ahR=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
bm.KW=function(s){if(s=="passThrough")return"pass";return bm.sI[bm.ac.indexOf(s)]};bm.Cu=function(s){if(s=="pass")return"passThrough";
return bm.ac[bm.sI.indexOf(s)]};bm.getName=function(s){return bm.bN[bm.sI.indexOf(s)]};function y(){this.rect=null;
this.buffer=null;this.M9="norm";this.opacity=255;this.hE=!1;this.Vs=0;this.LW=0;this.xK=!0;this.En=[];
for(var l=0;l<10;l++)this.En.push(0,0,255,255);this.name=null;this.add={};this.aB=null;this.m4=null;
this.B=null;this.oR=null;this.aew=30;this.Hu=y.DG();this.a5H=y.DG();this.aq4=y.DG();this.alB=y.DG();
this.GC=0;this.Pu=!1;this.p1=null;this.Lo=new y.BF}y.DG=function(){var s=document.createElement("canvas");
s.width=s.height=30;return s.getContext("2d")};y.BF=function(){this.NF=!0;this.nW=!0;this.DH=q.m(0);
this.a9p=q.m(0);this.jd=null;this.DE={};this.a82=null;this.iC=null;this.BU=null;this.hl=null;this.Zh=null;
this.Qg=null;this.Pc=null;this.rw=null;this.gs=null;this.go=null;this.iV=null;this.fG=null;this.CC=!1};
y.BF.prototype.ak2=function(){this.NF=null;this.nW=!1;this.jd=null;this.CC=d.Bi};y.BF.prototype.a6A=function(){hC.ag7(this.DE);
this.DH=q.m(0);this.a9p=q.m(0);if(this.hl)this.hl.delete();if(this.Zh)this.Zh.delete();this.hl=null;
this.Zh=null;var s=[this.Qg,this.Pc,this.rw,this.gs,this.go,this.iV];for(var l=0;l<6;l++)if(s[l]!=null&&s[l]instanceof d.Ek)s[l].delete();
this.Qg=null;this.Pc=null;this.rw=null;this.gs=null;this.go=null;this.iV=null};y.prototype.V=function(s){if(s==null)s=this.rect.clone();
if(this.Lo.jd==null)this.Lo.jd=s;else this.Lo.jd=this.Lo.jd.Ms(s)};y.prototype.Ob=function(){return this.add.lsct==d9.KK||this.add.lsct==d9.vH};
y.prototype.wu=function(){var s=this.add;return s.SoCo!=null||s.GdFl!=null||s.PtFl!=null};y.prototype.aps=function(){var s=this.add.lmfx;
if(s==null)return;var N=["GrFl","patternFill"];for(var l=0;l<N.length;l++){var r=jG.Um[jG.order.indexOf(N[l])],S=s[r].v;
if(S.length==0)continue;for(var z=0;z<S.length;z++){var A=S[z].v;if(A.enab.v&&(A.Algn==null||!A.Algn.v))this.Lo.nW=!0}}};
y.prototype.axa=function(){var s=this.B,N=this.Lo.NF;if(this.wu())s=this.eg();if(!d.Bi)return s.V1();
if(this.Lo.Zh==null||N||d.Bi!=this.Lo.CC){var r=s.dy(),S=this.Lo.Zh,z=null;if(N!=!0&&N!=null){z=N.clone();
z.offset(-r.x,-r.y)}if(S==null||S.G!=r.G||S.n!=r.n){S=this.Lo.Zh=new d.hV(r.G,r.n);z=null}S.set(s.V1(),z)}return this.Lo.Zh};
y.prototype.alT=function(s){var N=this.rect,r=this.buffer;if(!d.Bi){var S=this.hL(s,r,N);if(S){r=S.sB;
N=S.rect}return r}if(this.Lo.jd!=null||d.Bi!=this.Lo.CC){var S=this.hL(s,r,N);if(S){r=S.sB;N=S.rect}var z=N;
if(d.Bi!=this.Lo.CC||this.Lo.hl==null||this.Lo.hl.G!=z.G||this.Lo.hl.n!=z.n){if(this.Lo.hl)this.Lo.hl.delete();
this.Lo.hl=new d.Ek(z.G,z.n);this.Lo.hl.set(r)}else{var A=this.Lo.jd.clone();A.offset(-N.x,-N.y);this.Lo.hl.set(r,A)}}return this.Lo.hl};
y.prototype.Z_=function(){var s=this.B;if(this.wu())s=this.eg();return s!=null&&s.isEnabled&&(!s.rect.Nf()||s.iy()!=255)};
y.prototype.hL=function(s,N,r){if(this.Pi()){var S=this.NM(s);if(S.B&&S.B.isEnabled&&(!S.B.rect.Nf()||S.B.color==0)){var z=this.add.SoLd.filterFX.v;
S.B.Af=z.filterMaskDensity?z.filterMaskDensity.v:255;S.B.H0=z.filterMaskFeather?z.filterMaskFeather.v:0;
var A=S.buffer,B=S.rect;if(B.$()<r.$()){B=r;A=q.m(B.$()*4);q.LP(S.buffer,S.rect,A,B)}var Y=S.B.am(r);
q.dm(Y);N=N.slice(0);q.Q.QV(A,B,N,r,Y,r,0,r,1);return{sB:N,rect:r}}}};y.prototype.aoX=function(){var s={WC:!1,Ky:!1,ig:0,j2:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)s.Ky=!0;if(this.eg()&&this.eg().isEnabled)s.WC=!0;if(s.WC&&s.Ky){s.ig=this.eg().rect.x-this.add.vmsk.eg().rect.x;
s.j2=this.eg().rect.y-this.add.vmsk.eg().rect.y}return s};y.prototype.qB=function(s,N){if(N&&this.eg().H0!=0){N=N.clone();
var r=Math.round(this.eg().H0*2.4);N.r6(r,r)}var S=!1;if(this.add.lsct==d9.KS)return;var z=this,A=this.eg()!=null&&this.eg().eB,B=this.add.vmsk!=null&&this.add.vmsk.eB,Y=this.aoX(),t=JSON.stringify(Y)!=this.Lo.a82||Y.WC&&A||Y.Ky&&B;
if(t){if(Y.Ky){var p=this.add.vmsk.eg();if(Y.WC){this.B=this.eg().kU(p);this.Lo.iC=new cR(this.B.rect.x-this.eg().rect.x,this.B.rect.y-this.eg().rect.y)}else this.B=p}if(this.B)S=!0;
if(this.B)this.Lo.BU=new cR(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);if(Y.WC)this.eg().eB=!1;
if(Y.Ky)this.add.vmsk.eB=!1;this.V(N)}else{if(Y.WC&&Y.Ky){this.B.rect.x=this.eg().rect.x+this.Lo.iC.x;
this.B.rect.y=this.eg().rect.y+this.Lo.iC.y}}if(z.wu()){this.YH(s)}if(z.ua()){var f;if(this.B)f=new cR(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);
if(this.B&&this.B.isEnabled&&(this.Lo.BU==null||!f.nR(this.Lo.BU))){this.Lo.BU=f;this.V(N);S=!0}}if(ai.get(z.add)!=null)S=!0;
if(S){var a=this.Lo.NF;if(N&&a&&a!=!0)a=a.Ms(N);else a=N?N:!0;this.Lo.NF=a}this.Lo.a82=JSON.stringify(Y)};
y.prototype.YH=function(s){var N=this,r=N.add.vstk,S=new hq(0,0,s.G,s.n),z,A=N.add.vmsk?this.add.vmsk.eg():null,t=!0,a;
if(A&&A.isEnabled&&A.iy()==0)z=A.dy().clone();else z=S;var B=N.eg();if(B&&B.isEnabled&&B.iy()==0)z=z.PS(N.B.dy());
var Y=A&&r;if(r&&(!r.strokeEnabled.v||r.strokeStyleLineWidth.v.val==0))Y=!1;if(r&&!r.fillEnabled.v&&Y)t=!1;
var p=q.m(z.$()*4);if(t){if(N.add.SoCo)hC.JT(p,N.add.SoCo.Clr.v);if(N.add.GdFl){var f=A&&A.color==0?q.J.Ql(N.add.vmsk._,null,!0):null;
hC.ZD(N.add.GdFl,p,z,s,null,f)}if(N.add.PtFl)hC.Hb(N.add.PtFl,p,z,s.add.Patt,N.add.fxrp)}if(Y)a=jG.iJ.qY.indexOf(r.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(A){var D=A.Af;if(Y)A.Af=255;var c=q.m(z.$());if(A.iy()!=0)c.fill(Math.round(A.iy()));if(A&&A.isEnabled){var J=A.dy(),Z=A.V1();
if(J.nR(z))q.r8(Z,c);else q.lf(Z,J,c,z)}if(Y&&a==2){}else{if(N.add.SoCo&&t){q.XX(c,p,3)}else q.Nc(c,z,p,z)}if(Y)A.Af=D}N.buffer=p;
N.rect=z;if(Y){var Q=r.strokeStyleContent.v,M=jG.iJ.Mn.indexOf(Q.classID),u=this.add.vmsk.eg(r);if(a!=0&&!N.rect.nR(S))N.extend(N.rect.Ms(u.dy()));
var D=u.Af;u.Af=255;var P=u.am(N.rect);u.Af=D;if(u.color==255)q.dm(P);var m=q.m(N.rect.$()*4);if(M==0)hC.JT(m,Q.Clr.v);
if(M==1)hC.ZD(Q,m,N.rect,s,null,A.color==0?A.rect:null);if(M==2)hC.Hb(Q,m,N.rect,s.add.Patt,N.add.fxrp);
var i=r.strokeStyleOpacity.v.val/100;if(i!=1)q.zL(P,i);if(u.color==255)a=2-a;if(a<2){q.Q.QV(m,N.rect,N.buffer,N.rect,P,N.rect,255,N.rect,1,!1);
if(a==0)q.Ee(c,N.buffer)}if(a==2){q.Ee(P,m);q.dm(c);q.Q.QV(m,N.rect,N.buffer,N.rect,c,z,255,N.rect,1,!1);
q.dm(c)}if(u.Af!=255){var e=m.slice(0);q.TM(e,4278190080,16777215);q.Q.VP("norm",e,N.rect,N.buffer,N.rect,N.rect,1-u.Af/255)}D=A.Af;
A.Af=255;this.a9p=A.am(N.rect);A.Af=D}this.V()};y.prototype.Vw=function(s,N,r){var S=this,z=S.add.SoLd.Idnt.v,A=S.add.SoLd,B=q.g.OH(K.S.JS(A.nonAffineTransform)),Y=s.Ue(z,A.Crop?A.Crop.v:null,[B.G,B.n],A.Impr.v.classID,r),c=1;
if(Y==null)return;var t=Y.t1;A.Sz.v.Wdth.v=t[1].G;A.Sz.v.Hght.v=t[1].n;var p=Y.FD==null?A.Rslt.v.val:Y.FD,f=A.warp.v,a=K.S.JS(A.nonAffineTransform),D=t[1].clone();
D.G*=c;D.n*=c;D.x=(t[1].G-D.G)/2;D.y=(t[1].n-D.n)/2;var J=q.P.g8(a,D);if(f&&!q.Wx.II(f)){var B=q.g.OH(q.Wx.T$(f)),Z=B.x,Q=B.y,M=1/B.G,u=1/B.n;
J=q.P.g8(a);J=q.P.kU(J,[M,0,-Z*M,0,u,-Q*u,0,0])}var P=K.S.Vy(t,N?0:1,J,f,null,null,null,N);if(P==null){S.buffer=q.m();
S.rect=new hq}else if(S.Pi()){var m=S.NM(s);m.buffer=P.buffer;m.rect=P.rect.clone();this.vJ(s,N)}else{S.buffer=P.buffer;
S.rect=P.rect}S.qB(s);S.V();s.V()};y.prototype.vJ=function(s,N){if(N==null)N=!1;var r=this.NM(s),S=this.add.SoLd.filterFX.v,z=hT.af_(S),A=new hq(0,0,s.G,s.n),B=r.rect.Ms(A),Y=r.rect.clone();
Y.r6(z.x,z.y);var t={buffer:null,rect:B.PS(Y)};t.buffer=q.m(t.rect.$()*4);q.LP(r.buffer,r.rect,t.buffer,t.rect);
if(S.enab.v&&N==!1){var p=S.filterFXList.v;for(var l=0;l<p.length;l++){var f=p[l].v;if(f.enab.v==!1)continue;
var a=f.blendOptions.v,D=bm.KW(a.Md.v.BlnM),c=a.Opct.v.val/100,J=q.i.iy(f.FrgC.v),Z=q.i.iy(f.BckC.v),Q=hT.Dg(f),M={buffer:q.m(t.buffer.length),rect:t.rect.clone()},u=f.Fltr?f.Fltr.v:null;
if(ai.I5[Q]!=null){var P=ai.I5[Q],m=ai.W7(P,u);if(m)ai.M$(m,t.buffer,M.buffer,t.rect)}else hT.M$(Q,t,u,J,Z,M,[s.add.lnk2?s.add.lnk2:[],this.eg(),s.Aa]);
if(D=="norm"&&c==1)t=M;else if(D=="norm"){q.Q.QV(M.buffer,M.rect,t.buffer,t.rect,null,null,null,t.rect,c)}else{q.Q.VP(D,M.buffer,M.rect,t.buffer,t.rect,t.rect,c)}}}this.rect=t.rect;
this.buffer=t.buffer;this.pS();this.V();s.V()};y.prototype.jp=function(s,N,r){this.p1=this.a43(s,N,r)};
y.prototype.cN=function(s,N){var r=this.a43(s,N,!0);if(r==null)return null;var S={Iw:r.GC,GT:r.oS,rect:r.HM};
if(S.Iw==1||S.Iw==3){var z=S.rect,A=q.m(z.G*z.n*4);q.XX(S.GT,A,0);q.XX(S.GT,A,1);q.XX(S.GT,A,2);q.YY(s.q.channel,s.q.rect,A,z);
S.GT=A}return S};y.prototype.a43=function(s,N,r){var S,z,A,B,Y,t,p;if(this.GC<=0){var f=q.m(this.rect.$());
q.WZ(this.buffer,f,3);S=q.$T.B9(N,{channel:f,rect:this.rect},3);if(S==null)return null;var a=q.af(S.channel,S.rect);
B=S.rect.clone();Y=this.rect.clone();z=q.m(B.$()*4);q.LP(this.buffer,Y,z,B);q.XX(S.channel,z,3);A=this.buffer.slice(0);
if(!r){var D=N.channel.slice(0);q.dm(D);q.Nc(D,N.rect,A,Y)}t=this.buffer.slice(0);p=this.rect.clone()}if(this.GC==1||this.GC==3){var c=this.GC==1?this.eg():this.NM(s).B;
B=N.rect.clone();Y=c.rect.clone();z=c.alL(B);var A=c.channel.slice(0);if(!r)q.Q.lW(c.color==255?q.ni(B.$()):q.tC(B.$()),B,A,Y,N.channel,B,1);
t=c.channel.slice(0);p=c.rect.clone()}return{GC:this.GC,oS:z,HM:B,CS:A,lt:Y,v$:t,tv:p}};y.prototype.s1=function(s,N){var r=this.p1;
if(r.GC==0){this.rect=r.tv;this.buffer=r.v$;this.V()}if(r.GC==1||r.GC==3){var S=r.GC==1?this.eg():this.NM(s).B;
S.channel=r.v$;S.rect=r.tv;if(this.GC==1){S.eB=!0;this.qB(s)}if(this.GC==3)this.V()}this.p1=N};y.prototype.nN=function(s,N){if(this.GC<=0&&N.rect.nR(this.rect)){var r=q.m(this.rect.$());
q.WZ(this.buffer,r,3);if(q.nR(s.q.channel,r)){var S=this.rect,z=this.buffer;this.p1={GC:this.GC,oS:z.slice(0),HM:S.clone(),CS:q.m(0),lt:new hq,v$:q.m(0),tv:new hq};
return!0}}var A=this.p1;if(A==null)return!1;if(A.GC!=this.GC)return!1;if(!N.rect.nR(A.HM))return!1;var B=A.lt.Ms(A.HM);
if(A.GC<=0){if(!B.nR(this.rect))return!1;var Y=q.m(A.oS.length>>2);q.WZ(A.oS,Y,3);if(!q.nR(N.channel,Y))return!1;
var t=q.m(B.G*B.n*4);q.LP(A.CS,A.lt,t,B);q.Q.VP("norm",A.oS,A.HM,t,B,B,1);return q.nR(t,this.buffer)}if(A.GC==1||A.GC==3){var p=A.GC==1?this.eg():this.NM(s).B;
if(!B.nR(p.rect))return!1;var f=q.m(B.$());f.fill(p.color);q.lf(A.CS,A.lt,f,B);q.Q.lW(A.oS,A.HM,f,B,N.channel,B,1);
return q.nR(f,p.channel)}};y.prototype.NP=function(s,N,r,S){var z=this.p1;z.HM.offset(N,r);var A=z.lt.Ms(z.HM);
if(z.GC<=0){var B=q.m(A.$()*4);q.LP(z.CS,z.lt,B,A);q.Q.VP("norm",z.oS,z.HM,B,A,A,1);this.buffer=B;this.rect=A;
this.V()}else{var Y=this.GC==1?this.eg():this.NM(s).B,t=q.m(A.$());t.fill(Y.color);q.lf(z.CS,z.lt,t,A);
q.Q.lW(z.oS,z.HM,t,A,S.channel,A,1);Y.channel=t;Y.rect=A.clone();if(this.GC==1){Y.eB=!0;this.qB(s)}if(this.GC==3)this.V()}};
y.prototype.aoC=function(){var s=[-1,0,1,2];if(this.B)s.push(-2);if(this.oR)s.push(-3);return s};y.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
y.prototype.lP=function(i3){this.add.luni=this.name=i3};y.prototype.Gk=function(s){var N=this.add.lnsr,r=this.add.TySh;
if(N=="rend"&&r){var S=en.RS(r.pg);this.lP(S.slice(0,S.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
y.prototype.ES=function(){return(this.Vs&1<<1)==0};y.prototype.ua=function(){return(this.Vs&1<<4)==0};
y.prototype.Ey=function(){return(this.Vs&1<<5)!=0};y.prototype.a8v=function(){var s=this;if(s.add.lnsr!="bgnd"){s.add.lnsr="bgnd";
s.lP("Background");s.add.lspf=1<<2}};y.prototype.ais=function(){var s=this;if(s.add.lnsr=="bgnd"){delete s.add.lnsr;
s.lP("Layer 0");s.add.lspf=0}};y.prototype.pa=function(s){var N=this.add.lspf;return N==null?!1:(N>>s&1)!=0};
y.prototype.pQ=function(s){if(s&&!this.ES())this.Vs-=2;if(!s&&this.ES())this.Vs+=2};y.prototype.rF=function(){var s=this.add.lmfx;
if(s==null)return!1;for(var N in s){if(N=="masterFXSwitch")continue;if(N=="Scl")continue;if(N=="classID")continue;
if(s[N].v.length>0)return!0}return!1};y.prototype.Pi=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
y.prototype.re=function(){var s=this.add.lmfx;if(s==null)return!1;if(!s.masterFXSwitch.v)return!1;for(var N in s){if(N=="masterFXSwitch")continue;
if(N=="Scl")continue;if(N=="classID")continue;var r=s[N].v;for(var l=0;l<r.length;l++)if(r[l].v.enab.v)return!0}return!1};
y.prototype.jD=function(s,N,r,S){var z=new hq,A=this.hf(s,r,S);if(A.indexOf(0)!=-1)z=z.Ms(this.rect);
if(A.indexOf(1)!=-1){var B=this.eg(),Y=B.dy();z=r&&B.iy()==0?z.Nf()?Y:z.PS(Y):z.Ms(Y)}if(A.indexOf(2)!=-1){var t=this.add.vmsk,p=this.add.vstk,f;
if(N){f=q.J.Ql(t._,t.f.length!=0?t.f:null)}else f=q.J.Ql(t._);if(!S&&p&&p.strokeEnabled.v){var a=p.strokeStyleLineAlignment.v.strokeStyleLineAlignment,D=p.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(a!="strokeStyleAlignInside"){var c=p.strokeStyleLineWidth.v.val;if(D=="strokeStyleMiterJoin")f=new hq(0,0,s.G,s.n);
else f.r6(c,c)}}z=z.Ms(f)}if(A.indexOf(3)!=-1)z=z.Ms(this.NM(s).B.dy());if(A.length==0&&this.wu())z=S?new hq(0,0,0,0):new hq(0,0,s.G,s.n);
return z};y.prototype.ej=function(){var s=this.add.artb,N=s.artboardBackgroundType.v,r=0;if(N==1)r=4294967295;
else if(N==2)r=4278190080;else if(N==3)r=0;else if(N==4){r=s.Clr.v;r=255<<24|r.Bl.v<<16|r.Grn.v<<8|r.Rd.v}else throw N;
return r};y.prototype.M5=function(){var s=this.add.artb.artboardRect.v,N=s.Btom.v,r=s.Left.v,S=s.Rght.v,top=s.Top.v;
return new hq(r,top,S-r,N-top)};y.prototype.S6=function(s){var N=y.h1(s);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=N};y.h1=function(s){var N={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
N.Btom.v=s.y+s.n;N.Left.v=s.x;N.Rght.v=s.x+s.G;N.Top.v=s.y;return N};y.prototype.hf=function(s,N,r){var S=[],z=this;
if(!N&&z.Pu&&r){S.push(2)}else if(z.GC<=0||N){if(z.ua())if(!this.rect.Nf())S.push(0);if(z.eg()&&!z.eg().rect.Nf())if(z.eg().kl||N)S.push(1);
if(z.add.vmsk)if(z.add.vmsk.kl||N)S.push(2);if(z.Pi()&&z.NM(s).B&&!z.NM(s).B.rect.Nf())S.push(3)}else if(z.GC==1){S.push(1);
if(z.eg().kl&&!z.eg().rect.Nf()){if(z.ua())if(!this.rect.Nf())S.push(0);if(z.add.vmsk)if(z.add.vmsk.kl)S.push(2)}}else if(z.GC==3&&!z.NM(s).B.rect.Nf())S.push(3);
if(z.add.artb&&S.indexOf(0)==-1)S.push(0);S.sort();return S};y.prototype.eg=function(){var s=this;return s.oR?s.oR:s.add.vmsk&&s.add.vmsk.isEnabled?null:s.B};
y.prototype.NM=function(s){var N=this.add.SoLd.placed.v,r=s.add.FEid;if(r==null)return null;for(var l=0;
l<r.length;l++)if(r[l].id==N)return r[l];return null};y.prototype.extend=function(s){q.a5w(this,s)};
y.prototype.ahn=function(s,N,r){var S=s.clone();if(this.re()){var z=this.add.lmfx,A=N.root.uc(N.p.indexOf(this)),B=z.gradientFillMulti.v,Y=!1;
for(var l=0;l<B.length;l++)if(B[l].v.enab.v&&B[l].v.Algn.v)Y=!0;if(Y)S=S.Ms(A.dy(N,!1));var t=hC.a0l(this.add.lmfx,N,r);
S.offset(t.x,t.y);S.G+=t.G;S.n+=t.n}return S};y.prototype.pS=function(){if(this.ua())q.pt(this);var s=this.eg();
if(s)s.pS()};y.prototype.clone=function(){var s=new y;s.rect=this.rect.clone();s.buffer=this.buffer.slice(0);
s.M9=this.M9;s.opacity=this.opacity;s.hE=this.hE;s.Vs=this.Vs;s.name=this.name;s.En=this.En.slice(0);
if(this.B)s.B=this.B.clone();if(this.oR)s.oR=this.oR.clone();for(var N in this.add)s.add[N]=fT.clone(N,this.add[N]);
return s};y.prototype.$h=function(s){var N=this;if(N.add.TySh)delete N.add.TySh;if(N.add.SoLd){var r=this.hL(s,this.buffer,this.rect);
if(r){this.buffer=r.sB;this.rect=r.rect;this.V()}delete N.add.SoLd}if(N.add.SoCo||N.add.GdFl||N.add.PtFl){if(N.add.vogk)delete N.add.vogk;
if(N.add.SoCo)delete N.add.SoCo;if(N.add.GdFl)delete N.add.GdFl;if(N.add.PtFl)delete N.add.PtFl;if(N.add.vmsk){console.log(N.oR,N.B);
delete N.add.vmsk;if(N.oR==null&&N.B)delete N.B;else if(N.oR!=null&&N.B!=null){N.B=N.oR;delete N.oR}}}if(!N.Ob()&&ai.get(N.add)==null&&!this.ua())this.Vs-=16};
y.prototype.RJ=function(s){var N=255,r=0;if(s==2){var S=this.add.SoLd.filterFX.v;if(S.filterMaskDensity)N=S.filterMaskDensity.v;
if(S.filterMaskFeather)r=S.filterMaskFeather.v}else{var z=s==0?this.eg():this.add.vmsk;N=z.Af;r=z.H0}return{zb:s,Lg:N,lk:r}};
y.prototype.a4Y=function(s){if(s.zb==2){var N=this.add.SoLd.filterFX.v;if(s.Lg==255)delete N.filterMaskDensity;
else N.filterMaskDensity={t:"long",v:s.Lg};if(s.lk==0)delete N.filterMaskFeather;else N.filterMaskFeather={t:"doub",v:s.lk};
this.V()}else{var r=s.zb==0?this.eg():this.add.vmsk;r.Af=s.Lg;r.H0=s.lk;r.eB=!0}};y.prototype.dn=function(){var s=this,N=s.add.vmsk;
if(N==null)return;s.add.vogk=y.dn(N._)};y.dn=function(s){var N=[],r=q.J.zl(s);for(var S=0;S<r;S++)N.push(q.O6.tC());
return N};var d9={Sx:0,KK:1,vH:2,KS:3};y.pk=function(){this.name="Mask";this.TU=!1;this.qx={w:255,A:0,U:0};
this.Dc=50;this.fW=0;this.color=255;this.kl=!0;this.isEnabled=!0;this.Ve=!1;this.Af=255;this.H0=0;this.rect=new hq;
this.channel=q.m(0);this.PW=null;this.ar2=null;this.eB=!0};y.pk.prototype.kU=function(s){if(!this.isEnabled)return s;
var N=new y.pk;N.color=Math.round(this.iy()*s.iy()/255);if(this.iy()==0&&s.iy()==0)N.rect=this.dy().PS(s.dy());
else if(s.iy()==0)N.rect=s.dy().clone();else if(this.iy()==0)N.rect=this.dy().clone();else N.rect=this.dy().Ms(s.dy());
N.channel=this.am(N.rect);N.Af=255;N.H0=0;var r=s.am(N.rect);q.auo(r,N.rect,N.channel,N.rect);return N};
y.pk.prototype.dy=function(){if(this.H0==0)return this.rect;var s=Math.ceil(this.H0*2.2),N=this.rect.clone();
if(N.y==0){if(N.x==0)N.G+=s;else N.r6(s,0);N.n+=s}else N.r6(s,s);return N};y.pk.prototype.V1=function(){if(this.H0==0&&this.Af==255)return this.channel;
if(this.H0==0){var s=this.channel.slice(0);q.dm(s);q.zL(s,this.Af/255);q.dm(s);return s}var N=this.dy(),r=this.alL(N),s=q.m(N.$());
q.W9.ju(r,s,N,this.H0);if(this.Af!=255){q.dm(s);q.zL(s,this.Af/255);q.dm(s)}return s};y.pk.prototype.iy=function(){return Math.round(255-(255-this.color)*(this.Af/255))};
y.pk.prototype.extend=function(s){q.extend(this,s,this.color)};y.pk.prototype.pS=function(){if(this.color==255)q.dm(this.channel);
q.pS(this);if(this.color==255)q.dm(this.channel)};y.pk.prototype.clone=function(){var s=new y.pk;s.name=this.name;
s.TU=this.TU;s.qx=this.qx;s.Dc=this.Dc;s.fW=this.fW;s.color=this.color;s.kl=this.kl;s.isEnabled=this.isEnabled;
s.Ve=this.Ve;s.Af=this.Af;s.H0=this.H0;s.rect=this.rect.clone();s.channel=this.channel.slice(0);return s};
y.pk.prototype.alL=function(s,N){if(N==null)N=q.m(s.$());N.fill(this.color);q.lf(this.channel,this.rect,N,s);
return N};y.pk.prototype.am=function(s,N){var r=this.dy(),S=this.V1();if(N==null)N=q.m(s.$());N.fill(this.iy());
q.lf(S,r,N,s);return N};y.kL=function(){this.kl=!0;this.isEnabled=!0;this.Af=255;this.H0=0;this._=[{type:6},{type:8,all:0}];
this.Ig=[-3,-3];this.tf=!1;this.oR=null;this.eB=!0;this.f=[];this.we=[]};y.kL.prototype.offset=function(s,N){this.oR=this.eg();
q.J.Yy(this._,new gF(1,0,0,1,s,N));this.oR.rect.offset(s,N)};y.kL.prototype.eg=function(s){if(!this.eB&&this.oR&&s==null){this.oR.isEnabled=this.isEnabled;
return this.oR}var N=q.J.Ql(this._),r="strokeStyleLineAlignment",S="strokeStyleLineJoinType";if(N.$()>3e4*3e4)N=new hq(0,0,100,100);
if(s&&s[r].v[r]!="strokeStyleAlignInside"){var z=1;if(s[S].v[S]=="strokeStyleMiterJoin"){var A=q.J.a81(this._),B=A/2,Y=Math.sin(B),t=Math.cos(B);
t/=Y;Y=1;var z=Math.sqrt(t*t+Y*Y);if(isNaN(z)||z<1)z=1}z*=s[r].v[r]=="strokeStyleAlignOutside"?1:.5;
var p=Math.ceil(s.strokeStyleLineWidth.v.val*z);p=Math.min(p,600);N.r6(p,p)}N=q.g.i2(N);var f=new y.pk;
f.color=q.J.vI(this._)?0:255;f.kl=this.kl;f.isEnabled=this.isEnabled;f.Ve=!0;f.rect=N;f.Af=this.Af;f.H0=this.H0;
f.channel=q.m(f.rect.$());if(!N.Nf())q.J.a5X(this._,f.channel,f.rect,s);if(s==null){this.oR=f;this.eB=!1}return f};
y.kL.prototype.clone=function(){var s=new y.kL;s.kl=this.kl;s.isEnabled=this.isEnabled;s.Af=this.Af;
s.H0=this.H0;s._=y.kL.AM(this._);s.Ig=this.Ig.slice(0);s.tf=this.tf;s.f=this.f.slice(0);s.we=this.we.slice(0);
return s};y.kL.prototype.concat=function(s){var N=s._.slice(2);if(N.length==0)return;N[0].my=3;this._=this._.concat(N)};
y.kL.AM=function(s){var N=[];for(var l=0;l<s.length;l++){var r=s[l];if(r.type>5||r.type==0||r.type==3)N.push(JSON.parse(JSON.stringify(r)));
else N.push({type:r.type,hJ:r.hJ.clone(),H:r.H.clone(),De:r.De.clone()})}return N};y.kL.a72=function(s,N,r){if(s.length!=N.length)return!1;
for(var l=2;l<s.length;l++){var S=s[l],z=N[l];if(S.type!=z.type)return!1;if(S.type==0||S.type==3){if(S.length!=z.length||!r&&S.my!=z.my)return!1}else if(!S.hJ.nR(z.hJ)||!S.H.nR(z.H)||!S.De.nR(z.De))return!1}return!0};
y.kL.prototype.a86=function(){var s=this._;for(var l=3;l<s.length;l++)if(s[l].type==0||s[l].type==3)s[l].my=-1};
y.ul=function(){this.type=null;this._5=2;this.eq=null;this.Ff="";this.Hf="";this.cB="";this.open=0;this.raw=null;
this.t1=null;this.as8="";this.aH=!1};y.ul.prototype.clone=function(){var s=new y.ul;s.type=this.type;
s._5=this._5;s.eq=this.eq;s.Ff=this.Ff;s.Hf=this.Hf;s.cB=this.cB;s.open=this.open;s.raw=new Uint8Array(this.raw.buffer.slice(0));
return s};y.ul.prototype.r9=function(s,N,r,S,z){if(r==null)r="none";var A=this,B=hg.yy(A.raw.buffer),Y=B=="svg"||B=="pdf";
if(A.t1){var t=N&&Y&&Math.max(A.t1[1].G,A.t1[1].n)<Math.max(N[0],N[1]);if(!t&&r==this.as8&&!A.aH)return}this.as8=r;
if(!Y)s=0;if(B==null){alert("Unsupported format: "+U.TX(A.raw,0,4));return null}var p=hg.Pp(B);if(p.oY){var f=new a2(name+(B=="psd"?"":"-"+B)+".psd"),a;
p.LG(A.raw.buffer,f,N);var D=new hq(0,0,f.G,f.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(r)!=-1){var c=[];
for(var l=0;l<f.p.length;l++){var J=f.p[l],Z=J.buffer;if(!J.rect.nR(D)){Z=q.m(D.$()*4);q.LP(J.buffer,J.rect,Z,D);
console.log("resizing")}c.push(Z)}a=q.m(D.$()*4);q.stack.stack(c,a,r)}else{for(var l=0;l<f.p.length;
l++)if(f.p[l].wu())f.p[l].qB(f);if(S&&f.aH){var Q=ey.atK(f,S,z);A.aH=!Q;if(Q)ey.a3D(f,S,z)}f.$S();f.V();
f.im();a=f.r9()}A.t1=[a,D];A.FD=f.FD!=null&&f.FD!=0?f.FD:72}else if(p){var M=p.LG(A.raw.buffer)[0];A.t1=[new Uint8Array(M.data),M.zC];
A.FD=M.FD!=null&&M.FD!=0?M.FD:72}if(A.t1){if(s==1){var Z=A.t1[0],u=A.t1[1],P=q.m(u.$());q.WZ(Z,P,3);
var m=q.af(P,u),i=q.m(m.$()*4);q.LP(Z,u,i,m);A.t1=[i,m]}q.Ia(A.t1)}};y.Wo="0";y.iN="2";y.qR="2.5";y.GE="2.6";
y.l1="3";y.Ce="4";y.BV="4.5";y.a2N="4.6";y.au3="5";y.H$="5.5";y.anl="6";y.bd="7";y.a9h="8";y.Qu="9";
y.gN="9.3";y.aih="9.5";y.z8="9.6";y.so="10";y.SM="11";y.rJ="12";y.Ed="13";y.lH="13.1";y.a39="13.2";y._o="13.3";
y.Fg="13.4";y.OY="14";y.$G="14.1";y.eu="14.2";y.d5="14.3";y.dF="17";y.oB="18";y.a8Y="19";y.ut="19.5";
y.xn="19.6";y.dc="19.7";y.SK="19.8";y.q$="20";y.EX="21";y.te="21.5";y.bG="22";y.ID="22.5";y.ks="23";
y.anA="24";y.ea="25";y.awZ="26";y.a4s="27";y.jB="28";y.jM="29";y.wO="30";y.DM="31";y.Jj="32";y.ly="33";
y.MP="34";y.MS="35";y.Kz="36";y.Zr="36.5";y.zK="37";y.Qv="37.5";y.a65="37.6";y.RU="38";y.VL="38.5";y.$R="38.6";
y.Oh="39";y.Md="40";y.au5="41";y.a2g="42";y.Ex="50";y.fA="51";y.Ss="52";y.Zp="53";y.iU="54";y.a2F="54.5";
y.AG="54.6";y.a8k="54.7";y.cI="54.8";y.ad="55";y.E$="56";y.sU="57";y.ZY="58";y.zF="59";y.uT="60";function fn(){this.depth=0;
this.index=-1;this.j=null;this.adh=null;this.$v=-1;this.children=null;this.parent=null;this.Oq=null}fn.prototype.a4I=function(s,N){if(this.depth!=0)s.push(this.j.getName());
if(this.children)for(var l=0;l<this.children.length;l++)this.children[l].a4I(s,N);if(s.length>N.kc.length)N.kc=s.slice(0);
if(this.depth!=0)s.pop()};fn.prototype.a0U=function(){var s=0;if(this.j.Ob()){for(var l=0;l<this.children.length;
l++)s+=this.children[l].a0U()}else if(this.j.buffer)s+=this.j.buffer.length;return s};fn.prototype.uc=function(s){var N=this.Oq[s];
return this.Oq[s]};fn.prototype.aqz=function(s,N){var r=this.j;if(!r.ES()||r.pa(2)||r.pa(31))return null;
if(r.Z_()){var S=r.B.rect.mF(s);if(!S&&r.B.color==0)return}if(r.Ob()){for(var l=0;l<this.children.length;
l++){var i3=this.children[l];i3.aqz(s,N)}}else if(r.rect.mF(s))N.push(this.index)};fn.prototype.KB=function(s,N){var r=this.j;
if(!r.ES()||r.pa(2)||r.pa(31))return null;if(r.Z_()){if(r.B.rect.CZ(s)){if(!q.KB(s,r.B.channel,r.B.rect))return null}else if(r.B.color==0)return null}if(r.Ob()){if(r.add.artb&&!r.M5().CZ(s))return null;
for(var l=this.children.length-1;l>=0;l--){var i3=this.children[l],S=i3.KB(s,N);if(S&&N==null)return S}return null}else if(r.add.TySh&&r.rect.CZ(s)||q.a63(s,r.buffer,r.rect)){if(N==null)return this;
else N.push(this.index)}return null};fn.prototype.acg=function(s){var N=this.j;if(!N.ES()||N.pa(2)||N.pa(31))return null;
var r=N.add.vmsk;if(r&&r.isEnabled){var S=q.J.KB(r._,s).Jb;if(S!=-1)return{abf:this,a78:S}}if(N.Ob()){if(N.add.artb&&!N.M5().CZ(s))return null;
for(var l=this.children.length-1;l>=0;l--){var i3=this.children[l],z=i3.acg(s);if(z)return z}return null}return null};
fn.prototype.a4u=function(s,N){s.push(this.index);if(this.j.Ob()){s.push(this.$v);if(N)if(this.j.GC==1&&this.j.eg().kl==!1)return;
for(var l=0;l<this.children.length;l++)this.children[l].a4u(s)}};fn.prototype.ty=function(s,N,r){var S=this.j,z,A;
if(S.Ob()&&S.add.artb!=null)N=S.M5();if(N.G>N.n){z=r;A=Math.floor(r*(N.n/N.G))}else{z=Math.floor(r*(N.G/N.n));
A=r}if(S.wu()&&S.add.vmsk==null||S.add.TySh)z=A=Math.max(A,16);else{z=Math.max(z,6);A=Math.max(A,6)}var B=A,Y=S.wu()&&S.add.vmsk;
if(Y){var t=S.rect.clone(),a,D;if(t.Nf())t=new hq(0,0,20,20);var p=t.G,f=t.n;if(p>f){a=r;D=Math.floor(r*(f/p))}else{a=Math.floor(r*(p/f));
D=r}if(a*D==0)a=D=16;q.zg.W5(S.Hu,a,D,t,S.buffer,S.rect,!1);q.zg.a9c(S.Hu,a,D);B=D}else if(S.add.TySh){q.zg.aqW(S.Hu,B,B,S.add.TySh)}else if(S.add.SoCo){B=Math.max(16,Math.min(z,A));
q.zg.abR(S.Hu,B,B,S.add.SoCo)}else if(S.add.GdFl){q.zg.adk(S.Hu,B,B,S.add.GdFl)}else if(S.add.PtFl){q.zg.alc(S.Hu,B,B,S.add.PtFl,s)}else if(ai.get(S.add)!=null){q.zg.av_(S.Hu,B,B,S.add)}else if(S.add.SoLd){q.zg.W5(S.Hu,z,A,N,S.buffer,S.rect,!1);
q.zg.a6q(S.Hu,z,A,S.add.SoLd)}else if(S.Ob()){B=16}else{if(S.ua())q.zg.W5(S.Hu,z,A,N,S.buffer,S.rect,!1);
else{q.zg.ahI(S.Hu,B,B)}}var c=S.eg();if(c)q.zg.eJ(S.a5H,z,A,N,c);if(S.Pi()&&S.NM(s)&&S.NM(s).B){var J=S.NM(s).B;
q.zg.eJ(S.alB,z,A,N,J)}if(!Y&&S.add.vmsk){q.zg.eJ(S.aq4,z,A,N,S.add.vmsk.eg(),!0)}if(S.add.vmsk||c)B=Math.max(B,A);
S.aew=Math.max(B,16);if(S.Ob()&&(S.add.lsct==d9.KK||s.p.length<4e3))for(var l=0;l<this.children.length;
l++)this.children[l].ty(s,N,r)};fn.prototype.adE=function(s,N,r,S){this.depth=r;var z=s[N];if(S==null)S=[];
this.Oq=S;if(z.add.lsct==d9.KS){this.adh=z;this.$v=N-1;this.children=[];var l=N+1;while(!0){var A=s[l];
if(A==null)console.log(l,s.length);if(A.add.lsct==d9.KK||A.add.lsct==d9.vH){if(z.add.lyid==A.add.lyid)z.add.lyid+=16777215;
this.j=A;this.index=l-1;S[this.index]=this;S[N-1]=this;break}var B=new fn;B.parent=this;l=B.adE(s,l,r+1,S);
this.children.push(B)}return l+1}else{this.j=z;this.index=N-1;S[this.index]=this;return N+1}};fn.prototype.Kp=function(s,N,r,S){var z=this.uc(r),A=s;
while(z.parent!=null){A=z.j.ahn(A,N,S);z=z.parent}return A};fn.prototype.dy=function(s,N){var r=this.j,S=new hq;
if(!r.ES())return S;var z=r.eg();if(r.Ob())for(var l=0;l<this.children.length;l++){var A=this.children[l].dy(s,!0);
S=S.Ms(A)}else if(ai.get(r.add)!=null)S=r.Z_()&&r.B.color==0?r.B.dy().clone():new hq(0,0,s.G,s.n);else if(r.wu()&&r.add.vmsk&&r.add.vmsk.isEnabled&&r.add.vstk){S=r.rect.clone()}else if(r.wu()&&z&&z.isEnabled&&z.iy()!=0)S=new hq(0,0,s.G,s.n);
else{S=r.jD(s,!1,!0);if(r.add.vmsk)S=q.g.i2(S)}return N?r.ahn(S,s):S};fn.tK={delete:function(s){if(s&&s.G)s.delete()},m:function(s,N){return d.Bi?new d.Ek(s,N):q.m(s*N*4)},l4:function(s,N,r){if(d.Bi){if(s==null||s.G!=N||s.n!=r){fn.tK.delete(s);
return new d.Ek(N,r)}}else{if(s==null||!(s instanceof Uint8Array)||s.length!=N*r*4){fn.tK.delete(s);
return q.m(N*r*4)}}return s},lf:function(s,N,r,S,z){(d.Bi?d._b:q.LP)(s,N,r,S,z)},QV:function(s,N,r,S,z,A,B,Y,l,t,p){(d.Bi?d.Q.Qk:q.Q.QV)(s,N,r,S,z,A,B,Y,l,t,p)},VP:function(s,N,r,S,z,A,B,Y){if(d.Bi)d.Q.dv(s,N,r,S,z,A,B,Y);
else q.Q.VP(s,N,r,S,z,A,B,Y)},TM:function(s,N,r){if(d.Bi){d.Lp(s);d.nY(N,r)}else q.TM(s,N,r)},agL:function(s,N,r,S,z){if(d.Bi){d.Q.Qk(null,null,S,z,s,N,r,z,1,!1)}else{if(r==255)q.Nc(s,N,S,z);
else{var A=q.m(N.$());q.P_(S,z,A,N);q.Q2(s,A);q.TM(S,0,16777215);q.YY(A,N,S,z)}}},z7:function(s,N,r,S){if(d.Bi)d.Q.Qk(null,null,r,S,s,N,0,S,1,!1);
else q.z7(s,N,r,S)}};fn.prototype.ao=function(s,N,r,S,z,A){var B=typeof A=="number";if(!this.j.Ob()&&(B&&this.index>A||!B&&A.indexOf(this.index)==-1)){return}var Y=this.j,t=hC.Au(Y),p=fn.tK,f=Y.wu()?Y.eg():Y.B;
if(!Y.ES())return;if(Y.Z_()&&f.rect.Nf()&&f.iy()==0){return}if(Y.add.vstk==null&&this.dy(S,!1).Nf()){return}var a=this.dy(S,!0).PS(r);
if(!N.nR(r)&&!r.mF(a))return;if(Y.Ob()&&Y.add.artb){var D=Y.M5();r=r.PS(D)}var c=fn.aeG(Y,z,t);if(!c){this.aml(s,N,r,S,z,A);
return}Y.Lo.Qg=p.l4(Y.Lo.Qg,a.G,a.n);p.lf(s,N,Y.Lo.Qg,a,r);this.aml(Y.Lo.Qg,a,r,S,z,A);p.QV(Y.Lo.Qg,a,s,N,null,null,0,r,Y.opacity/255,Y.M9=="diss",t.ER)};
fn.aeG=function(s,N,r){if(r.ER[0]*r.ER[1]*r.ER[2]==0)return!0;return s.opacity!=255&&(N.length!=0||s.Ob()||s.re())};
fn.asa={Lo:{}};fn.prototype.aml=function(s,N,r,S,z,A){var B=this.j,Y=hC.Au(B),t=ai.get(B.add)!=null,p=fn.tK,f=fn.aeG(B,z,Y),a=f?1:B.opacity/255,D=B.wu()?B.eg():B.B,c=B.Ob()&&Y.dP==null&&(B.M9=="pass"||B.add.artb)&&!(z.length>0||Y.fill!=1||B.re()),J=!B.Ob()&&!t&&!B.re()&&z.length==0,Z=t&&!B.re()&&z.length==0,i=null,e=null,X=null,R;
if(c||J||Z){var Q=s,M=N;if(B.Z_()){M=this.dy(S,!1);Q=B.Lo.gs=p.l4(B.Lo.gs,M.G,M.n);p.lf(s,N,B.Lo.gs,M)}if(c)this.E6(Q,M,r,S,A);
if(J)p.VP(B.M9,B.alT(S),B.rect,Q,M,r,a,Y);if(Z){var u=B.Z_()&&D.iy()==0?D.dy().clone():M.clone(),P=B.Lo;
if(u.nR(new hq(0,0,S.G,S.n)))P=fn.asa;P.rw=this.apA(Q,M,P.rw,u,B.add);Y.vX=!0;p.VP(B.M9,P.rw,u,Q,M,r,a,Y)}if(B.Z_())p.QV(Q,M,s,N,B.axa(),D.dy(),D.iy(),r,1,B.M9=="diss");
B.Lo.ak2();return}var m=B.Ob()&&B.M9=="pass"&&(z.length>0||Y.fill!=1||B.re()),u=B.rect;if(B.Ob()){u=this.dy(S,!1);
X=B.Lo.rw=p.l4(B.Lo.rw,u.G,u.n);p.TM(X,0);this.E6(X,u,u,S,A);e=p.l4(B.Lo.Pc,u.G,u.n);p.lf(X,u,e,u)}else if(t){u=B.Z_()&&D.iy()==0?D.dy().clone():N.clone();
e=p.l4(B.Lo.Pc,u.G,u.n);p.TM(e,4294967295)}else{u=B.rect;i=B.alT(S);e=p.l4(B.Lo.Pc,u.G,u.n);p.lf(i,u,e,u)}B.Lo.Pc=e;
if(B.Z_())p.agL(B.axa(),D.dy(),D.iy(),e,u);if(B.re())if(B.Lo.jd||B.Lo.nW||B.Lo.CC!=d.Bi||B.Lo.NF||B.Ob()){var $=B.add.vmsk,O=q.m(u.$());
if(hC.amd(B.add.lmfx)){if(d.Bi){if(!B.Ob()&&B.eg()==null&&B.rect.nR(u)&&$==null)q.WZ(B.buffer,O,3);else{var T=q.m(u.$()*4);
e.get(T);q.WZ(T,O,3)}}else q.WZ(e,O,3)}if(B.Lo.nW||B.Lo.CC!=d.Bi||!q.nR(O,B.Lo.DH)){var b=null;if(B.wu()&&$&&$.isEnabled&&$.eg().color==0)b=$.eg().rect;
hC.ag7(B.Lo.DE);B.Lo.DE=hC.agS(O,u,B.add.lmfx,B.add.fxrp,S,b);B.Lo.DH=O;B.Lo.akF=u}}if(B.re())hC.aly(B.add.lmfx,B.Lo.DE,u,s,N,r);
if(B.Ob()){i=p.l4(B.Lo.gs,u.G,u.n);p.TM(i,0);if(B.M9=="pass")p.lf(s,N,i,u);if(m)p.z7(X,u,i,u);this.E6(i,u,r,S,A);
B.Lo.gs=i}if(t){i=B.Lo.gs=this.apA(s,N,B.Lo.gs,u,B.add)}if(B.Ob()||t)R=i;else{R=p.l4(B.Lo.gs,u.G,u.n);
p.lf(i,u,R,u,r);B.Lo.gs=R}p.TM(R,4278190080,16777215);for(var l=0;l<z.length;l++)z[l].ao(R,u,r,S,[],A);
var w=B.Lo.go=p.l4(B.Lo.go,u.G,u.n);p.lf(s,N,w,u,r);if(t)Y.vX=!0;p.VP(B.M9=="pass"?"norm":B.M9,R,u,w,u,r,1,Y);
if(B.re()){var F=B.Lo.DE.type.FrFX,L=null;if(F.length!=0){L=F[0];for(var l=0;l<F.length;l++)if(F[l].tF.G>L.tF.G)L=F[l];
B.Lo.iV=p.l4(B.Lo.iV,L.tF.G,L.tF.n);p.lf(s,N,B.Lo.iV,L.tF,r);B.Lo.fG=p.l4(B.Lo.fG,L.tF.G,L.tF.n)}hC.akX(B.add.lmfx,B.Lo.DE,u,s,N,r,w,B.Lo.iV,B.Lo.fG,L?L.tF:null)}if(!d.Bi){var x=q.m(u.$());
q.WZ(e,x,3);e=x}p.QV(w,u,s,N,e,u,0,r,1,B.M9=="diss");B.Lo.ak2()};fn.prototype.apA=function(s,N,r,S,z){var A=ai.get(z),B;
if(A)B=ai.W7(A,z[A]);var Y=fn.tK;r=Y.l4(r,S.G,S.n);if(!(d.Bi&&N.nR(S)))Y.lf(s,N,r,S);if(B){if(d.Bi){var t=S.clone();
t.x=t.y=0;if(N.nR(S)){d.Lp(r,t);ai.Mx(B,s.Cp,t)}else{d.Lp(r,S);r.AY(S);ai.Mx(B,r.kv,t)}}else ai.M$(B,r,r,S)}return r};
fn.prototype.E6=function(s,N,r,S,z){var A=this.children;for(var l=0;l<A.length;l++){var B=[];for(var Y=l+1;
Y<A.length;Y++)if(A[Y].j.hE)B.push(A[Y]);else break;A[l].ao(s,N,r,S,B,z);l+=B.length}};function a2(s){this.wK="psd";
this.jI=!1;this.name=s;this.wW=-1;this.V8=null;this.Xi=null;this.y4=null;this.jA=null;this.G=0;this.n=0;
this.buffer=null;this.p=[];this.kr={};this.add={};this.YE=4;this.ew=null;this.FD=72;this.yA={};this.f=[];
this.K0=[];this.P4=!1;this.DF=[];this.v6=[];this.qI=[a2.Zd("Work Path")];this.LD=[];this.$Y=null;this.zq={classID:"CompList",list:{t:"VlLs",v:[]}};
this.PB=[];this.UB=[];this.root=null;this.rf=null;this.aH=!1;this.adm=!1;this.ax3=!1;this.fm=!1;this.Ch=!1;
this.kk=!1;this._R=!1;this.J4=!1;this.Wy=!1;this.kf=!1;this.jd=null;this.zG=null;this.q=null;this.Aa=[];
this.rz=[];this.R={FJ:{},zH:[],aas:[],Vu:[],Hj:[],iD:null,Ry:null,Tw:null,D8:null,fE:[],QQ:[],Jx:null};
this.history=[new hZ([1,0],null)];this.Jn=0;this.YN=0;this.Z8=0;this.a=new gX(this);this.rr=null;this.us=null}a2.D3=function(){var s=8,N=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
N=gY.Jh(s,N);return[s,N]}();a2.prototype.Tl=function(s){if(s){this.kr.r1039=s;var N=ICC.R(s.buffer),r=N.header.spaceIn.toLowerCase(),S=JSON.stringify(N.tags.desc).toLowerCase(),z=null,A=17,t,p;
try{z=ICC.U.profileName(N)}catch(eV){}if(r!="rgb "||z==null||S.indexOf("srgb")!=-1){this.Tl(null);return}console.log("We got an ICC profile!",N,z);
var B=ICC.U.sampleLUT(N,A),Y=B.slice(0),f=q.m(4),a=a2.D3[0],D=a2.D3[1];for(var l=0;l<B.length;l+=3){f[0]=B[l]*255;
f[1]=B[l+1]*255;f[2]=B[l+2]*255;ICC.U.applyLUT(D,a,f,f);Y[l]=f[0]/255;Y[l+1]=f[1]/255;Y[l+2]=f[2]/255}if(d.Bi){t=new d.Ek(A,A*A);
t.set(ICC.U.rgba8LUT(B,A));p=new d.Ek(A,A*A);p.set(ICC.U.rgba8LUT(Y,A))}this.rr=[s,N,A,B,t,Y,p]}else{delete this.kr.r1039;
this.rr=null}};a2.prototype.a8=function(){return this.rr};a2.prototype.asn=function(){if(this.rr)return this.rr;
if(this.add.fcmy==1){if(this.us==null){var s=a2.D3[0],N=a2.D3[1],r;if(d.Bi){r=new d.Ek(s,s*s);r.set(ICC.U.rgba8LUT(N,s))}this.us=[null,null,s,null,null,N,r]}return this.us}};
a2.prototype.iS=function(){var s=this;return s.q!=null||s.Ly()[1].length!=0||s.f.length>1};a2.prototype._C=function(){var s=this.K0,N=[];
for(var l=0;l<s.length;l++)N[l]=-1;var r=this.root.children;for(var l=0;l<r.length;l++){var S=r[l],z=S.j.add.artb;
if(z==null)continue;var A=z.guideIndeces;A=A?A.v:[];for(var B=0;B<A.length;B++)N[A[B].v]=S.index}return[JSON.parse(JSON.stringify(s)),N]};
a2.prototype.TO=function(s){this.K0=JSON.parse(JSON.stringify(s[0]));var N=s[1],r=this.root.children;
for(var l=0;l<r.length;l++){var S=r[l],z=S.j.add.artb;if(z==null)continue;z.guideIndeces={t:"VlLs",v:[]}}for(var l=0;
l<N.length;l++)if(N[l]!=-1)this.p[N[l]].add.artb.guideIndeces.v.push({t:"long",v:l})};a2.prototype.ab7=function(s){var N=this;
if(s[0])N.add.lnk2=s[0];else delete N.add.lnk2;if(s[1])N.add.FEid=s[1];else delete N.add.FEid;if(s[2])N.add.Patt=s[2];
else delete N.add.Patt};a2.prototype.aaT=function(s){var N=this,r=[],S=[],z=[],Z=null,Q=null,M=null;
for(var l=0;l<s.length;l++){var A=s[l];if(A.add.SoLd){r.push(A.add.SoLd.Idnt.v);S.push(A.add.SoLd.placed.v)}if(A.add.PtFl)z.push(A.add.PtFl.Ptrn.v.Idnt.v);
if(A.add.lmfx){for(var B=0;B<jG.Um.length;B++){var Y=A.add.lmfx[jG.Um[B]].v;for(var t=0;t<Y.length;t++)if(Y[t].v.Ptrn){var p=Y[t].v;
if(p.classID=="FrFX"&&p.PntT.v.FrFl!="Ptrn")continue;z.push(p.Ptrn.v.Idnt.v)}}}var a=A.add.vstk;if(a&&a.strokeStyleContent.v.classID=="patternLayer"){z.push(a.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var D=N.add.lnk2,c=N.add.FEid,J=N.add.Patt;
if(D){Z=[];for(var l=0;l<D.length;l++)if(r.indexOf(D[l].eq)!=-1)Z.push(D[l]);if(Z.length==0)Z=null}if(c){Q=[];
for(var l=0;l<c.length;l++)if(S.indexOf(c[l].id)!=-1)Q.push(c[l]);if(Q.length==0)Q=null}if(J){M=[];for(var l=0;
l<J.length;l++)if(z.indexOf(J[l].id)!=-1)M.push(J[l]);if(M.length==0)M=null}return[Z,Q,M]};a2.prototype.hh=function(s){var N=this,r=N.root.uc(s==null?N.f[0]:s),S=!1;
while(r.parent!=null){S=S||r.j.pa(31);r=r.parent}return S};a2.prototype.Y4=function(){var s=this.Aa,N=this.Aa.length;
if(N!=0&&s[N-1].name=="Quick Mask")return s[N-1]};a2.prototype.f6=function(){return this.wK==cf.VS("% |/!)")||this.wK==cf._q("gP")};
a2.prototype.a_=function(s){var N=this.add.artd;if(s!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:s},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};a2.prototype.Zf=function(s){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(s)==-1)this.add.FEid.push(s)};
a2.prototype.ct=function(s){var N=this.add.FEid.indexOf(s);this.add.FEid.splice(N,1);if(this.add.FEid.length==0)delete this.add.FEid};
a2.prototype.V=function(s){if(s==null)s=new hq(0,0,this.G,this.n);if(this.jd==null)this.jd=s;else this.jd=this.jd.Ms(s)};
a2.prototype.a2Y=function(s){return this.jd!=null};a2.prototype.Mk=function(s){var N=this.p[s],r=this.root.uc(s);
if(r==null)return!1;if(N.Ob()||r.parent.children.indexOf(r)==0)return!1;return!0};a2.anU=function(s){if(s.add.lnk2)for(var l=0;
l<s.add.lnk2.length;l++){var N=s.add.lnk2[l].eq;s.add.lnk2[l].eq=a2.hX()+N.slice(8);for(var r=0;r<s.p.length;
r++){var S=s.p[r].add.SoLd;if(S&&S.Idnt.v==N)S.Idnt.v=s.add.lnk2[l].eq}}};a2.prototype.xT=function(s,N,r){s.sort(function(a,D){return a-D});
var top=s[s.length-1],S=this.p.slice(0),z=this.f.slice(0),A=[],B=[];for(var l=0;l<this.p.length;l++){if(s.indexOf(l)!=-1)B.push(this.p[l]);
else A.push(this.p[l])}this.uZ(B);this.f=[];var Y=this.root.dy(this,!0);if(N)Y=Y.PS(N);if(r)Y=Y.Ms(r);
if(Y.Nf())Y=new hq(0,0,100,100);var t=new hq(-Y.x,-Y.y,this.G,this.n),p=new Uint8Array(hg.Pp("PSD").Bj(this,0,0,[!0,!1]));
this.uZ(S);this.f=z;var f=new a2(this.p[top].getName());hg.Pp("PSD").LG(p.buffer,f);delete f.add.artd;
f.DF=[];f.uZ(f.p);f.TO([[],[]]);a2.anU(f);K.Vg.OL(f,Y);f.V();f.im();f.r9();return[f,Y,A,top]};a2.prototype.a12=function(s,N,r){var S=this.xT(s),z=S[0],A=S[1],B=S[2],top=S[3],Y;
if(r=="jpg")Y=new Uint8Array(hg.Pp("JPG").Bj([[z.r9().buffer]],z.G,z.n,[80]));else Y=new Uint8Array(hg.Pp("PSD").Bj(z,null,null,[!0,!1]));
if(N)B=this.p.slice(0);var t=this.uo(Y,z.name,A.x,A.y);if(top==this.p.length-1)B.push(t);else B.splice(N?top+1:top-s.length+1,0,t);
this.uZ(B);this.f=[B.indexOf(t)]};a2.hX=function(s){if(s==null)s="";var N="";while(N==""||N==s){N="";
for(var l=0;l<8;l++)N+=Math.floor(Math.random()*16).toString(16)}return N};a2.prototype.zp=function(s){if(s==null)return;
if(this.add.Patt==null)this.add.Patt=[];var N=this.add.Patt;for(var l=0;l<N.length;l++)if(N[l].id==s.id)return;
N.push(s)};a2.prototype.uo=function(s,N,r,S,z,A,B){if(this.add.lnk2==null)this.add.lnk2=[];var Y=null,c=!1;
for(var l=0;l<this.add.lnk2.length;l++)if(q.nR(s,this.add.lnk2[l].raw)){Y=this.add.lnk2[l].eq;break}if(Y==null){var t=hg.yy(s.buffer);
Y=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f";var p=new y.ul;p.eq=Y;p.cB=t=="psd"?"8BIM":"    ";p.Ff=N+"."+t;
p.Hf=t=="psd"?"8BPB":"    ";p.open=0;p.raw=s;p.type="liFD";p._5=2;this.add.lnk2.push(p)}var f=this.Ue(Y,null,null,null,A,B),a=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f",D=this.tT();
D.lP(N);if(f!=null){var J=0,Z=0,Q=this.G,M=this.n;if(z){J=z.x;Z=z.y;Q=z.G;M=z.n}var u=D.rect=f.t1[1].clone();
u.offset(J+r,Z+S);var P=Math.max(u.G/Q,u.n/M),c=z!=null&&P>1.0001;if(c){u.G=Math.round(u.G/P);u.n=Math.round(u.n/P);
u.x=Math.round(J+(Q-u.G)/2);u.y=Math.round(Z+(M-u.n)/2)}else if(z!=null&&hg.yy(s.buffer)=="pdf"&&this.FD!=144){var P=144/this.FD;
u.G=Math.round(u.G/P);u.n=Math.round(u.n/P);c=!0}D.buffer=q.m(u.$()*4);if(!c)q.r8(f.t1[0],D.buffer)}D.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:Y},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:a},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:q.Wx.m(f?f.t1[1]:D.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:D.rect.G},Hght:{t:"doub",v:D.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:f?f.FD:72}}};
var m=q.g.w2(D.rect).v;D.add.SoLd.Trnf=K.S.Ua(m);D.add.SoLd.nonAffineTransform=K.S.Ua(m);if(c)D.Vw(this,!1);
return D};a2.prototype.r9=function(s){if(s!=null){this.V();this.im(s);var N=this.buffer;if(d.Bi)this.rf.get(N);
else N=N.slice(0);this.V();this.im();return N}if(this.jd){this.im();this.jd=null}if(d.Bi&&this.zG){this.rf.get(this.buffer);
this.zG=null;this._R=!0}return this.buffer};a2.prototype.anL=function(){for(var l=0;l<this.p.length;
l++)this.p[l].aps();this.V()};a2.prototype.aaN=function(){for(var l=0;l<this.p.length;l++)if(this.p[l].add.lmfx)this.p[l].Lo.nW=!0};
a2.prototype.tq=function(){var s=this.kr.r1044;if(s==null){s=this.kr.r1044=new Uint8Array(4);var N=0;
for(var l=0;l<this.p.length;l++)N=Math.max(N,this.p[l].add.lyid);U.sM(s,0,N)}var r=U.l(s,0);U.sM(s,0,r+1);
return r+1};a2.prototype.pu=function(s,N,r){if(s==null)s=!0;var S=this;if(S.rz.length!=0)return!0;if(S.f.length!=1){if(s)alert(S.f.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Lr(s,N,r)};a2.prototype.Lr=function(s,N,r){if(s==null)s=!0;if(N==null)N=!1;var S=this;
if(S.rz.length!=0)return!0;for(var l=0;l<S.f.length;l++){var z=S.p[S.f[l]],A=N||z.GC<=0;if(z.add.lsct!=null&&z.add.lsct!=d9.Sx&&z.GC!=1){if(s)alert(eV.get([15,7,2]));
return!1}if(A&&!z.ua()){if(s)alert(eV.get([15,7,2]));return!1}if(A&&z.add.TySh){return this.a1y(s,[15,7,3],r)}if(A&&z.add.SoLd){return this.a1y(s,[15,7,4],r)}if(z.pa(1)||S.hh(S.f[l])){if(s)alert(eV.get([6,57,0]));
return!1}}return!0};a2.prototype.a1y=function(s,N,r){if(s&&typeof s=="object"){var S=new hU(k.E.Y);S.data={d:k.s.Pv,ic:"confirm"};
S.data.h=eV.get(N)+". "+eV.get([6,8])+"?";var z=s;S.data.JN=function(){var A=new hU(k.E.gu,!0);A.data={uU:"rasterizeLayer",wz:{classID:"rasterizeLayer",null:dv.kY("Lyr",!0)}};
z.c(A)};s.c(S);return!1}if(s)alert(eV.get(N));return!1};a2.prototype.arq=function(s){var N=this.root.uc(s);
if(N.parent)return N.j.ES()&&this.arq(N.parent.index);else return N.j.ES()};a2.prototype.W$=function(){var s=this;
if(s.add.artd&&s.f.length!=0){var N=s.root.uc(s.f[0]);while(N.parent.parent)N=N.parent;if(N.j.add.artb)return N.index}return-1};
a2.prototype.arm=function(){var s=this.p[this.f[0]];if(s.GC<=0&&!s.rect.mF(this.q.rect)){alert("Selected area is empty.");
return!1}if(this.f.length==1&&this.q){var N=q.m(this.q.channel.length);q.P_(s.buffer,s.rect,N,this.q.rect);
q.Q2(this.q.channel,N);if(q.u6(N,0)){alert("Selected area is empty.");return!1}}return!0};a2.prototype.sY=function(){if(this.kr["r"+1037]==null)this.fP(30);
return U.sn(this.kr["r"+1037],0)};a2.prototype.fP=function(s){if(this.kr["r"+1037]==null)this.kr["r"+1037]=new Uint8Array(4);
if(U.sn(this.kr["r"+1037],0)==s)return;U.O2(this.kr["r"+1037],0,s);this.aaN()};a2.prototype.b9=function(){if(this.kr["r"+1049]==null)this.Om(30);
return U.sn(this.kr["r"+1049],0)};a2.prototype.Om=function(s){if(this.kr["r"+1049]==null)this.kr["r"+1049]=new Uint8Array(4);
if(U.sn(this.kr["r"+1049],0)==s)return;U.O2(this.kr["r"+1049],0,s);this.aaN()};a2.prototype.mu=function(s){if(this.add.lnk2==null)return null;
for(var l=0;l<this.add.lnk2.length;l++)if(this.add.lnk2[l].eq==s)return this.add.lnk2[l];return null};
a2.prototype.ar5=function(s){var N=this.mu(s);if(N==null)return!1;var r=hg.yy(N.raw.buffer);if(r==null)return!1;
if(hg.Pp(r)!=null||r=="psd")return!0;return!1};a2.prototype.Ue=function(s,N,r,S,z,A){var B=this.mu(s);
if(B==null)return null;B.r9(N,r,S,z,A);if(B.t1)return B};a2.prototype.ae_=function(){var s=this.G,N=this.n;
if(d.Bi&&this.rf==null)this.rf=new d.Ek(s,N,!0);if(this.buffer==null||this.buffer.length!=s*N*4||d.Bi&&(this.rf.G!=s||this.rf.n!=N)){this.buffer=q.m(s*N*4);
if(this.rf)this.rf.delete();if(d.Bi)this.rf=new d.Ek(s,N,!0)}};a2.prototype.a23=function(){this.ae_();
if(d.Bi){this.rf.set(this.buffer)}};a2.prototype.im=function(s){var N=this.G,r=this.n,S=new hq(0,0,N,r),z=S.PS(this.jd);
this.ae_();if(z.Nf())return;if(!z.nR(S)){if(!d.Bi){var A=q.tC(z.$()*4);q.LP(A,z,this.buffer,S)}if(d.Bi){d.Lp(this.rf,z);
d.nY(0)}}else{if(d.Bi){this.rf.set(null)}else{this.buffer.fill(0)}}var B=Date.now(),Y=d.Bi?this.rf:this.buffer;
if(s==null)s=1e9;var t=this.root.children;for(var l=0;l<t.length;l++){var p=t[l].j;if(p.ES()&&p.add.artb&&this.add.artd){var f=p.M5(),a=z.PS(f),D=p.ej();
if(D!=0){if(d.Bi){d.Lp(Y,a);d.nY(D);d.nY(D)}else q.atU(Y,S,a,D)}}}this.root.ao(Y,S,z,this,[],s);this.zG=this.jd.clone()};
a2.prototype.tT=function(s){var N=new y;N.rect=new hq(0,0,0,0);N.buffer=q.m(1);N.add.luni=new cR(0,0);
if(s!=!0)N.add.lyid=this.tq();N.add.lsct=d9.Sx;N.add.lclr=0;N.add.fxrp=new cR(0,0);return N};a2.prototype.YL=function(s){var N=this.tT(s);
N.lP("</Layer group>");N.add.lsct=d9.KS;N.Vs=24;return N};a2.prototype.Bp=function(){return this.Jn!=this.YN};
a2.prototype.yF=function(s){while(this.history.length>this.Jn+1)this.history.pop();if(this.YN>this.Jn)this.YN=-1;
if(s.k.id!=K.Wt){this.fm=!0;if(this.zq.lastAppliedComp){delete this.zq.lastAppliedComp;this._R=!0}}this.history.push(s);
this.Jn++;this._R=!0;var N=eH.GX()?60:30,r=0;for(var l=this.history.length-1;l>=0;l--){var S=this.history[l];
if(S.wg)continue;r++;if(r==N){this.Jn-=l;this.history=this.history.slice(l);break}}};a2.prototype.sQ=function(){if(this.Jn!=this.history.length-1)return null;
return this.history[this.history.length-1]};a2.prototype.xY=function(s,N,r,S){if(s==null)s=!1;var z=N!=null?[N]:this.f.slice(0);
if(S){var A=[];for(var l=0;l<z.length;l++){var B=this.p[z[l]],Y=B.LW;if(B.xK&&Y!=0&&A.indexOf(Y)==-1)A.push(Y)}if(A.length!=0)for(var l=0;
l<this.p.length;l++){var B=this.p[l],Y=B.LW;if(B.xK&&Y!=0&&A.indexOf(Y)!=-1&&z.indexOf(l)==-1)z.push(l)}}var t=[];
for(var l=0;l<z.length;l++){var p=this.sr(z[l],s);for(var f=0;f<p.length;f++)if(t.indexOf(p[f])==-1)t.push(p[f]);
if(r){var i3=this.root.uc(z[l]);while(i3.parent!=null&&i3.parent.parent!=null){i3=i3.parent;if(t.indexOf(i3.index)==-1){t.push(i3.index,i3.$v)}}}}return t};
a2.prototype.st=function(s,N,r){var S=this,z=S.xY(!1,s,null,r);z.sort(function(P,m){return P-m});var A={};
for(var B=0;B<S.p.length;B++){var Y=S.p[B].getName();A[Y]=!0}var t=[];for(var l=0;l<z.length;l++){var p=S.p[z[l]].clone(),Q,M;
p.add.lyid=S.tq();p.add.lspf=0;if(p.Pi()){var f=p.NM(S),a=a2.a3v(f);S.Zf(a);p.add.SoLd.placed.v=a.id}else if(p.add.SoLd){var D=p.add.SoLd.placed.v;
p.add.SoLd.placed.v=a2.hX(D.slice(0,8))+D.slice(8)}p.qB(S);var c=p.getName(),J=c.length;while(48<=c.charCodeAt(J-1)&&c.charCodeAt(J-1)<=57)J--;
var Z=parseInt(c.slice(J));if(isNaN(Z)){if(c.endsWith(" copy")){Z=1;Q=c.slice(0,c.length-5)}else{Z=0;
Q=c}}else if(c.slice(0,J).endsWith(" copy ")){Z=Z;Q=c.slice(0,J-6)}else{Z=0;Q=c}Z++;while(!0){M=Q+" copy"+(Z==1?"":" "+Z);
if(A[M]==null)break;Z++}var u=z.indexOf(this.root.uc(z[l]).parent.index)!=-1;if(c=="Background"&&S.p.length==1)M="Layer 1";
if(N!=!0&&!u)p.lP(M);A[M]=!0;t.push(p)}return t};a2.a3v=function(s){return{id:a2.hX(s.id.slice(0,8))+s.id.slice(8),buffer:s.buffer.slice(0),rect:s.rect.clone(),B:s.B?s.B.clone():null}};
a2.atz=function(s){return{id:s,rect:new hq,buffer:q.m(1),B:new y.pk}};a2.Zd=function(s,N){if(N==null)N={vmsk:new y.kL};
if(N.vogk==null){N.vogk=[];var r=q.J.zl(N.vmsk._);for(var S=0;S<r;S++)N.vogk.push(q.O6.tC())}return{name:s,Jb:0,add:N}};
a2.prototype.Ly=function(s){var N=[],r=[],S=this,A=0;for(var l=1;l<S.qI.length;l++){var z=S.qI[l];z.Jb=-1-l;
N.push(z);if(S.LD.indexOf(l)!=-1)r.push(N.length-1)}if(S.qI[0].add.vmsk._.length>2){var z=S.qI[0];z.Jb=-1;
N.push(z);if(S.LD.indexOf(0)!=-1)r.push(N.length-1)}var B=S.$Y==null;if(B)S.$Y=[];for(var l=S.f.length-1;
l>=0;l--){var Y=S.p[S.f[l]],t=Y.add.TySh;if(Y.add.vmsk!=null&&(Y.Pu||Y.wu())){var z=a2.Zd("\""+Y.getName()+"\" Shape Path",Y.add);
z.Jb=S.f[l];N.push(z);if(B)S.$Y.push(A);if(S.$Y.indexOf(A)!=-1)r.push(N.length-1);A++}if(s!=!0&&t&&t.add&&q.Wx.II(t.Yd)){var z=a2.Zd("\""+Y.getName().slice(0,10)+"..\" Text Path",t.add);
z.Jb=1e6+S.f[l];N.push(z);r.push(N.length-1);A++}}if(r.length==0&&s){S.qI[0].Jb=-1;S.LD=[0];r.push(N.length);
N.push(S.qI[0])}return[N,r]};a2.prototype.sr=function(l,s){var N=[],i3=this.root.uc(l);if(i3)i3.a4u(N,s);
return N};a2.prototype.xV=function(){this.root.ty(this,new hq(0,0,this.G,this.n),32*K.Z())};a2.prototype.uZ=function(s){for(var l=0;
l<this.p.length;l++){var N=this.p[l];if(s.indexOf(N)==-1){N.Lo.a6A();N.V()}}var r=0;for(var l=0;l<s.length;
l++)if(s[l].add.artb)r++;this.a_(r);this.p=s.slice(0);this.$S()};a2.prototype.$S=function(){var s=this.p,N=s.length;
this.root=new fn;var r=this.tT(!0);r.M9="pass";r.add.lsct=d9.KK;r.lP("");var S=this.YL(!0),z=[S];for(var l=0;
l<N;l++)z.push(s[l]);z.push(r);this.root.adE(z,0,0);if(this.f.length==0)this.f=[N-1]};a2.prototype._2=function(){if(this.f.length!=1)return;
var s=this.root.uc(this.f[0]);while(s.parent!=null){var N=s.parent.j;N.add.lsct=d9.KK;s=s.parent}this.kk=this.awN=!0};
a2.prototype.ahU=function(){this.$S();var s=[this.root],hr=0;while(s.length!=0){var top=s.pop();hr++;
if(top.j.add.lsct==d9.KK)for(var l=0;l<top.children.length;l++)s.push(top.children[l])}if(hr>1e3){var N=this.root.children;
for(var l=0;l<N.length;l++)if(N[l].j.add.lsct==d9.KK)N[l].j.add.lsct=d9.vH}};a2.OR=function(s,N,r,S,z,A,B,Y){if(Y==null)Y="sRGB IEC61966-2.1";
var t={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:S},artboard:{t:"bool",v:A},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:s}},Hght:{t:"UntF",v:{type:"#Rlt",val:N}},Rslt:{t:"UntF",v:{type:"#Rsl",val:r}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:z}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:Y}}}};
if(z=="Clr")t.Nw.v.FlCl={t:"Objc",v:B};return{uU:"make",wz:t}};a2.agZ=function(s,N){var r=0,S=0,z=72,A=N.a6B,B=s.preset&&s.preset.v=="Clipboard";
if(B){r=A.G;S=A.n}else{r=s.Wdth.v.val;S=s.Hght.v.val;z=s.Rslt.v.val}var Y=new a2((s.Nm?s.Nm.v:eV.get([11,7]))+".psd");
Y.G=r;Y.n=S;Y.FD=z;var t=s.Fl?s.Fl.v.Fl:"Wht";if(s.artboard&&s.artboard.v){var p=Y.tT();p.lP(eV.get([1,16,0])+" 1");
p.add.lsct=d9.KK;p.S6(new hq(0,0,r,S));p.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[t]};
if(t=="Clr")p.add.artb.Clr={t:"Objc",v:q.i.Sm(q.i.iy(s.FlCl.v))};p.M9="pass";p.Vs=24;var f=Y.tT();f.lP("Layer 1");
Y.uZ([Y.YL(),f,p]);Y.a_(1);Y.f=[1]}else{var a=Y.tT(),D=0;a.lP("Background");Y.uZ([a]);a.add.lspf=1<<2;
if(t=="Clr"){D=q.i.iy(s.FlCl.v);D=255<<24|Math.round(D.U)<<16|Math.round(D.A)<<8|Math.round(D.w)}else{var c=N.on;
c=(c&255)<<16|(c>>>8&255)<<8|c>>>16;D={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|c}[t]}a.rect=new hq(0,0,r,S);
a.buffer=q.m(r*S*4);q.TM(a.buffer,D)}Y.buffer=q.m(r*S*4);var J=s.profile;if(J){var Z={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[J.v];
if(Z)Y.Tl(hg.Dz.get(Z))}return Y};function gX(s){this.jO=s;this.X=0;this.PL=1;this.u=new cR(0,0);this.XN=new cR(0,0);
this.hw=0;this.$s=[1,1,1];this.vF=0;this.bh=new hq(0,0,1,1);this.au_=new hq(0,0,s.G,s.n);this.YO=null;
this.WJ=null;this.Q0=new Uint32Array(0);this.KH=null;this.ya=null;this.ug=q.m(0);this.Ha=null;this.Th=null}gX.prototype.Qs=function(s){var N=new gF,r=this.bh,S=this.jO,z=s?this.PL:this.X,A=s?this.XN:this.u,B=Math.round((r.G-S.G*z)/2+A.x),Y=Math.round((r.n-S.n*z)/2+A.y);
N.translate(-B,-Y);N.scale(1/z,1/z);var t=S.G/2,p=S.n/2;N.translate(-t,-p);N.rotate(this.hw);N.translate(t,p);
return N};gX.prototype.aaU=function(s){var N=this.bh,r=this.jO,S=Math.atan2(-s.U,s.aC),z=r.G/2,A=r.n/2;
s.translate(-z,-A);s.rotate(-S);s.translate(z,A);var B=1/s.S5();s.scale(B,B);var Y=-s.JC,t=-s.T3,p=Math.round(Y-(N.G-r.G*B)/2),f=Math.round(t-(N.n-r.n*B)/2);
if(Math.abs(B-Math.round(B))<1e-6)B=Math.round(B);this.hw=S;this.X=B;this.u=new cR(p,f)};gX.prototype.Vd=function(s,N){var r=this.Qs();
return r.aK(new cR(s,N))};gX.prototype.Oo=function(s,N){var r=this.Qs();r.dm();return r.aK(new cR(s,N))};
function jG(){}jG.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");jG.Um="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
jG.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];jG.awU=["DrSh","IrSh","SoFi","GrFl","FrFX"];
jG.IU=["Clr"];jG.$b="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");jG.Ba=["Ptrn","Angl","Scl","Algn","phase"];
jG.ou={yk:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ajP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a3a:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ali:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",hP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
jG.ou.yk="\"Clr\": "+jG.ou.yk;jG.ou.i="\"Grad\":"+jG.ou.ajP+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
jG.ou.hP="\"Ptrn\":"+jG.ou.hP+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
jG.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
jG.FH=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+jG.ou.yk+","+jG.ou.i+","+jG.ou.hP+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+jG.ou.yk+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+jG.ou.i+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+jG.ou.hP+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
jG.i={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
jG.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],l9:["SClr","GrFl","Ptrn"],alh:[[13,0],[12,37],[12,62]]};
jG.UQ={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],alV:["SrcC","SrcE"],apB:[[19,5,1],[12,69]]};jG.Ym={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ahZ:["SfBL","PrBL","Slmt"],ai0:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
jG.iJ={VZ:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],qY:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Mn:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+jG.ou.yk+"}")},strokeStyleResolution:{t:"doub",v:72}}};
jG.WX=[{classID:"null",Clr:JSON.parse(jG.FH[5]).Clr},{classID:"null",Grad:JSON.parse(jG.FH[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(jG.FH[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var hC={};hC.qi=function(s,N){function r(s,D){if(s==null)return null;var c=s[D].v,J;if(c.length!=0){J=c[0].v;
if(!J.enab.v)J=null}return J}var S=N.SoCo,z=N.GdFl,A=r(s,"solidFillMulti"),B=r(s,"gradientFillMulti");
if(A==null&&B==null)return[S,z];var Y=hC.acT;if(S&&A&&B==null){var t=JSON.parse(JSON.stringify(S));t.Clr.v=Y(A.Clr.v,S.Clr.v,A);
return[t,null]}if(z&&A&&B==null){var p=JSON.parse(JSON.stringify(z)),f=p.Grad.v.Clrs.v;for(var l=0;l<f.length;
l++){var a=f[l].v.Clr;a.v=Y(A.Clr.v,a.v,A)}return[null,p]}if(S&&B){var p=JSON.parse(JSON.stringify(B)),f=p.Grad.v.Clrs.v;
for(var l=0;l<f.length;l++){var a=f[l].v.Clr;a.v=Y(a.v,S.Clr.v,B)}return[null,p]}return[A,B]};hC.amm={yg:q.m(4),Sp:q.m(4),w:new hq(0,0,1,1)};
hC.acT=function(s,N,r){var S=bm.KW(r.Md.v.BlnM),z=r.Opct.v.val/100,A=hC.amm;s=q.i.iy(s);N=q.i.iy(N);
A.yg[0]=s.w;A.yg[1]=s.A;A.yg[2]=s.U;A.yg[3]=255;A.Sp[0]=N.w;A.Sp[1]=N.A;A.Sp[2]=N.U;A.Sp[3]=255;q.Q.VP(S,A.yg,A.w,A.Sp,A.w,A.w,z);
return{classID:"RGBC",Rd:{t:"doub",v:A.Sp[0]},Grn:{t:"doub",v:A.Sp[1]},Bl:{t:"doub",v:A.Sp[2]}}};hC.arY=function(s,N,r){var S=s;
s=s.slice(0);var z=bm.sI[bm.ac.indexOf(N.Md.v.BlnM)],A=q.i.iy(N.Clr.v),B=4278190080|Math.round(A.U)<<16|Math.round(A.A)<<8|Math.round(A.w),Y=q.m(r.$()*4);
q.TM(Y,B);q.Q.VP(z,Y,r,s,r,r,N.Opct.v.val/100);for(var l=0;l<s.length;l+=4)s[l+3]=S[l+3];return s};hC.MG=function(s,N){var r=["Sz","blur","Sftn","Dstn"];
for(var l=0;l<jG.order.length;l++){var S=jG.order[l],z=s[jG.Um[l]].v;for(var A=0;A<z.length;A++){var B=z[A].v;
for(var Y=0;Y<r.length;Y++){var t=B[r[Y]];if(t){var p=t.v.val,f=p;f=Math.max(p==0?0:1,f*N);if(S=="ChFX")f=Math.min(f,250);
if(S=="ebbl"){if(r[Y]=="blur")f=Math.min(f,250);if(r[Y]=="Sftn")f=Math.min(f,16)}t.v.val=Math.round(f)}}if(S=="ebbl"||S=="patternFill"||S=="FrFX")if(B.Ptrn&&B.Scl)B.Scl.v.val=Math.max(1,Math.min(1e3,B.Scl.v.val*N))}}};
hC.a0l=function(s,N,r){var S=new hq(-.5,-.5,1,1);for(var l=0;l<jG.order.length;l++){var z=jG.order[l],A=s[jG.Um[l]].v;
for(var B=0;B<A.length;B++){var Y=A[B].v,a;if(!Y.enab.v)continue;var t=Y.blur?Y.blur.v.val+1:0,p=Y.Ckmt?Y.Ckmt.v.val/100:0,f=Math.round(t*p);
if(z=="DrSh"||z=="IrSh"&&r){a=new hq(-.5,-.5,1,1);a.r6(t,t);hC.PX(a,Y,N,0)}if(z=="OrGl"||z=="IrGl"&&r){a=new hq(-.5,-.5,1,1);
a.r6(t,t)}if(z=="FrFX"){var D=hC.q8(Y),c=D[1];if(r)c=Math.max(D[0],c);a=new hq(-.5,-.5,1,1);a.r6(Math.ceil(c),Math.ceil(c))}if(z=="ebbl"){var t=Y.blur.v.val,J=Y.bvlS.v.BESl;
if(J=="Embs"||J=="PlEb")t/=2;var Z=["OtrB","InrB","Embs","PlEb","strokeEmboss"],Q=["SfBL","PrBL","Slmt"],M=["In","Out"],u=Y.bvlT.v.bvlT!="SfBL"?t:t*.43,P=Math.round(t);
a=new hq(-P-1,-P-1,2*P+2,2*P+2)}if(r&&z=="ChFX"){a=new hq(-.5,-.5,1,1);a.r6(t,t);var m=a.clone();hC.PX(a,Y,N,0);
hC.PX(m,Y,N,Math.PI);a=a.Ms(m)}if(a)S=S.Ms(a)}}if(S.x!=Math.ceil(S.x)){S.x=Math.ceil(S.x);S.G-=1}if(S.y!=Math.ceil(S.y)){S.y=Math.ceil(S.y);
S.n-=1}S.G=Math.floor(S.G);S.n=Math.floor(S.n);return S};hC.q8=function(s){var N=0,r=0,S=s.Styl.v.FStl,z=s.Sz.v.val;
if(S=="OutF")r=z;if(S=="InsF")N=z;if(S=="CtrF")N=r=z/2;return[N,r]};hC.awO=function(s){if(d.Bi&&s.$w==null){s.$w=new d.Ek(s.zc.G,s.zc.n);
s.$w.set(s.sB);delete s.sB;if(s.yw){s.UG=new d.hV(s.zc.G,s.zc.n);s.UG.set(s.yw);delete s.yw}if(s.T2){s.xF=new d.hV(s.zc.G,s.zc.n);
s.xF.set(s.T2);delete s.T2}}};hC.aa9=function(s){if(s.$w)s.$w.delete();if(s.UG)s.UG.delete();if(s.xF)s.xF.delete()};
hC.ag7=function(s){if(s.all==null)return;for(var l=0;l<s.all.length;l++){hC.aa9(s.all[l])}};hC.agS=function(s,N,r,S,z,A){var B=hC.mU(r,S,s,N,z,A);
for(var l=0;l<B.all.length;l++)hC.awO(B.all[l]);return B};hC.amd=function(s){for(var l=0;l<jG.order.length;
l++){var N=jG.order[l],r=jG.Um[l],S=s[r].v;for(var z=0;z<S.length;z++){var A=S[z].v;if(A.enab.v&&["patternFill","GrFl","SoFi"].indexOf(N)==-1)return!0}}return!1};
hC.mU=function(s,N,r,S,z,A){if(A==null)A=S;var B=0,Y=0;for(var l=0;l<jG.order.length;l++){var t=jG.order[l],p=jG.Um[l],f=s[p].v;
for(var a=0;a<f.length;a++){var D=f[a].v;if(t=="DrSh"&&D.enab.v&&D.Ckmt.v.val>0&&D.blur.v.val>0)B=Math.max(B,Math.ceil(D.Ckmt.v.val*D.blur.v.val/100));
if(t=="OrGl"&&D.enab.v&&D.Ckmt.v.val>0&&D.blur.v.val>0&&D.GlwT.v.BETE=="SfBL")B=Math.max(B,Math.ceil(D.Ckmt.v.val*D.blur.v.val/100));
if(t=="OrGl"&&D.enab.v&&D.blur.v.val>0&&D.GlwT.v.BETE=="PrBL")B=Math.max(B,D.blur.v.val);if(t=="FrFX"&&D.enab.v&&D.Sz.v.val>0){if(D.Styl.v.FStl=="OutF")B=Math.max(B,D.Sz.v.val);
if(D.Styl.v.FStl=="CtrF")B=Math.max(B,Math.ceil(D.Sz.v.val/2));Y=Math.max(Y,hC.q8(D)[1])}}}var c=new hC.ep(r,S,B,hC.amd(s)),J=-S.x,Z=-S.y,Q={type:{},all:[]};
for(var M=0;M<jG.order.length;M++){var t=jG.order[M],p=jG.Um[M];Q.type[t]=[];for(var u=s[p].v.length-1;
u>=0;u--){var P=s[p].v[u].v,X;if(!P.enab.v)continue;var m=P.blur?P.blur.v.val:0,i=P.Ckmt?P.Ckmt.v.val/100:0,e=m*i;
if(t=="DrSh"){var $=c.gd(e,m-e,!0),O=$.O0,T=$.Ge;T.offset(J,Z);hC.x2(O,P,!1);hC.PX(T,P,z,0);var b=q.m(T.$()*4);
hC.JT(b,P.Clr.v);q.XX(O,b,3);X={sB:b,zc:T,aj2:P.layerConceals.v}}else if(t=="IrSh"){var $=c.gd(e,m-e,!1);
hC.PX($.Ge,P,z,0);var T=c.rect().clone(),O=q.m(T.$());O.fill(255);q.lf($.O0,$.Ge,O,T);hC.x2(O,P,!0);
var b=q.m(T.$()*4);hC.JT(b,P.Clr.v);q.XX(O,b,3);T.offset(J,Z);X={sB:b,zc:T}}else if(t=="GrFl"){var b=q.m(c.rect().$()*4);
hC.ZD(P,b,c.rect(),z,null,A);var T=c.rect().clone();T.offset(J,Z);X={sB:b,zc:T}}else if(t=="SoFi"){var b=q.m(c.O0().length*4);
hC.JT(b,P.Clr.v);var T=c.rect().clone();T.offset(J,Z);X={sB:b,zc:T}}else if(t=="ebbl"){var R=!1;if(R)console.log(P);
var w=Date.now(),F=P.bvlS.v.BESl;if(F=="strokeEmboss"){var L=s.frameFXMulti.v;if(L.length==0)continue;
L=L[0].v;if(!L.enab.v)continue;var x=L.Styl.v.FStl;if(x=="OutF")F="OtrB";if(x=="CtrF")F="Embs";if(x=="InsF")F="InrB"}var m=P.blur.v.val;
if(m==0)m=.7;if(F=="Embs"||F=="PlEb")m/=2;var g=["OtrB","InrB","Embs","PlEb","strokeEmboss"],n=["SfBL","PrBL","Slmt"],h=["In","Out"],_=P.bvlT.v.bvlT!="SfBL"?m:m*.45,H=Math.round(m),G=c.rect().clone(),j=G.clone();
j.r6(H,H);var v=j.G,C=j.n,E=v*C,I=q.m(E);q.lf(c.O0(),G,I,j);var dJ=new Float64Array(E),fG=new Float64Array(E);
q.style.rh(I,dJ,v,C);q.dm(I);q.style.rh(I,fG,v,C);if(R)console.log("distTransform computed",Date.now()-w);
for(var l=0;l<E;l++)fG[l]=fG[l]-dJ[l];for(var l=0;l<E;l++){var o=fG[l];if(o<-_)fG[l]=-_;else if(o>_)fG[l]=_}if(R)console.log("summing + cropping",Date.now()-w);
if(P.bvlT.v.bvlT=="SfBL"){var i4=Math.pow(m*.21,1.22);if(!0)i4=Math.max(i4,2);var df=q.W9.RX(i4,2);q.W9.km(fG,dJ,j,df[0]>>>1);
q.W9.km(dJ,fG,j,df[1]>>>1)}if(R)console.log("blurring",Date.now()-w);var eO=fG,cO=eO.slice(0);if(P.useShape.v){var ej=Math.min(100,P.Inpr.v.val+1)/100;
if(F!="OtrB"&&F!="InrB")ej=1;var cn=q.R2.s9(P.MpgS.v.Crv.v,2e3),j5=Math.round(2e3/ej);cn=q.R2.afR(cn,j5,F=="InrB");
var gP=.5/_;for(var l=0;l<E;l++){var bY=eO[l],gR=.99999*(bY+_)*gP;eO[l]=-_+2*_*cn[~~(gR*(j5-1))]}if(R)console.log("applying shape",Date.now()-w)}if(P.useTexture.v){var c3=q.m(v*C*4);
hC.Hb(P,c3,j,z.add.Patt,N);var jj=q.m(v*C);q.I_(c3,jj);var jC=q.m(v*C);q.W9.MU(jj,jC,j,1);jj=jC;var kf=m*P.textureDepth.v.val*(1/100)*(1/255);
if(P.InvT.v)kf=-kf;for(var l=0;l<E;l++)eO[l]+=-kf*jj[l];if(R)console.log("applying texture",Date.now()-w)}var bz=(P.bvlT.v.bvlT=="SfBL"?1:.5)*(P.bvlD.v.BESs=="In"?1:-1)*P.srgR.v.val/100;
for(var l=0;l<E;l++)eO[l]*=bz;if(R)console.log("scaling",Date.now()-w);var iv=P.uglg&&P.uglg.v?z.sY():P.lagl.v.val;
iv=iv*(Math.PI/180);var bI=P.uglg&&P.uglg.v?z.b9():P.Lald.v.val;bI=bI*(Math.PI/180);var jo=Math.cos(iv)*Math.cos(bI),iZ=-Math.sin(iv)*Math.cos(bI),jD=Math.sin(bI),dM=new Float64Array(E),ka=new Float64Array(E),ds=F=="PlEb";
for(var ee=0;ee<C;ee++)for(var a9=0;a9<v;a9++){var l=ee*v+a9,ir=0,eP=0,jh=1;if(ee!=0&&ee!=C-1&&a9!=0&&a9!=v-1){var fy=eO[l-v-1],eS=eO[l-v+1],gz=eO[l+v-1],fi=eO[l+v+1];
ir=-.125*(eS+2*eO[l+1]+fi-(fy+2*eO[l-1]+gz));eP=-.125*(gz+2*eO[l+v]+fi-(fy+2*eO[l-v]+eS))}else{var fw=eO[l];
eP=-(ee==0?eO[l+v]-fw:ee==C-1?fw-eO[l-v]:.5*(eO[l+v]-eO[l-v]));ir=-(a9==0?eO[l+1]-fw:a9==v-1?fw-eO[l-1]:.5*(eO[l+1]-eO[l-1]))}var ce=1/Math.sqrt(ir*ir+eP*eP+1);
ir*=ce;eP*=ce;jh*=ce;var hl=ir*jo+eP*iZ+jh*jD,ia=hl;if(ds)ia=-ir*jo-eP*iZ+jh*jD;if(hl>0)dM[l]=hl;if(ia>0)ka[l]=ia}if(R)console.log("raycasting",Date.now()-w);
if(P.Sftn.v.val!=0){q.W9.Hn(dM,dJ,j,P.Sftn.v.val*.43);var iQ=dJ,dJ=dM,dM=iQ;if(ds){q.W9.Hn(ka,dJ,j,P.Sftn.v.val*.43);
var iQ=dJ,dJ=ka,ka=iQ}else q.r8(dM,ka)}if(R)console.log("softening",Date.now()-w);var cn=q.R2.s9(P.TrnS.v.Crv.v,1024);
for(var l=0;l<E;l++){dM[l]=cn[~~(dM[l]*1024)];ka[l]=cn[~~(ka[l]*1024)]}if(R)console.log("contour remap",Date.now()-w);
v=Math.round(v);C=Math.round(C);var em=q.m(v*C*4);hC.JT(em,P.hglC.v);var k4=q.m(v*C*4);hC.JT(k4,P.sdwC.v);
var ar=q.m(v*C*4);hC.JT(ar,P.hglC.v);var fg=q.m(v*C*4);hC.JT(fg,P.sdwC.v);var j0=1/jD,bU=1/(1-jD),gP=1/_,dn=new Float64Array(1e3);
for(var l=0;l<1e3;l++)dn[l]=Math.pow(l*.001,.2);for(var ee=0;ee<C;ee++)for(var a9=0;a9<v;a9++){var l=ee*v+a9,aJ=4*l+3,bE=0,ew=0;
bE=dM[l];ew=ka[l];var jy=Math.max(0,Math.min(.9999,(cO[l]+_*.993)*gP));jy=dn[Math.floor(jy*1e3)];var eT=jy*(1-Math.min(1,bE*j0)),du=jy*(1-Math.min(1,(1-bE)*bU)),c_=jy*(1-Math.min(1,ew*j0)),f9=jy*(1-Math.min(1,(1-ew)*bU));
k4[aJ]=Math.round(255*eT);em[aJ]=Math.round(255*du);fg[aJ]=Math.round(255*c_);ar[aJ]=Math.round(255*f9)}if(R)console.log("baking textures",Date.now()-w);
j=c.rect().clone();j.r6(H,H);j.offset(J,Z);X={aoL:P.bvlS.v.BESl=="strokeEmboss"};var bp=bm.KW(P.hglM.v.BlnM),aL=P.hglO.v.val/100,f8=bm.KW(P.sdwM.v.BlnM),aE=P.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(F)!=-1){X.Cz={sB:em,zc:j,hC:bp,UJ:aL};X.Qr={sB:k4,zc:j,hC:f8,UJ:aE}}if(["OtrB","Embs","PlEb"].indexOf(F)!=-1){X.Ls={sB:ar,zc:j,hC:bp,UJ:aL};
X.BX={sB:fg,zc:j,hC:f8,UJ:aE}}if(R)console.log(Date.now()-w)}else if(t=="patternFill"){var be=c.rect(),b=q.m(be.$()*4);
hC.Hb(P,b,be,z.add.Patt,N);var T=be.clone();T.offset(J,Z);X={sB:b,zc:T}}else if(t=="ChFX"){var b=q.m(c.O0().length*4);
hC.JT(b,P.Clr.v);var m=P.blur.v.val,jK=c.rect().clone();jK.r6(m,m);var ad=q.m(jK.$()),iF=q.m(jK.$());
q.lf(c.O0(),c.rect(),iF,jK);q.W9.ju(iF,ad,jK,m*.43);var c0=q.R2.zu(P.MpgS.v.Crv.v,256,!0);q.ff(ad,c0);
var hE=q.m(c.O0().length),hJ=q.m(c.O0().length),cZ=c.rect().clone();hC.PX(cZ,P,z,0);q.lf(ad,jK,hE,cZ);
cZ=c.rect().clone();hC.PX(cZ,P,z,Math.PI);q.lf(ad,jK,hJ,cZ);var dS=hE.length;for(var l=0;l<dS;l++)b[4*l+3]=Math.abs(hE[l]-hJ[l]);
if(P.Invr.v)for(var l=0;l<dS;l++)b[4*l+3]=255-b[4*l+3];var T=c.rect().clone();T.offset(J,Z);X={sB:b,zc:T}}else if(t=="OrGl"){var $;
if(P.GlwT.v.BETE=="SfBL")$=c.gd(e,m-e,!0);else $=c.am9(m,i,!0);var O=$.O0,T=$.Ge,gh=O.slice(0);hC.ava(O,P);
var b=q.m(T.$()*4);if(P.Grad==null){hC.JT(b,P.Clr.v);hC.x2(O,P,!1)}else{hC.x2(O,P,null);var ih={JL:O,Pf:255,rI:0,G5:T};
hC.ZD(P,b,T,z,ih);var d4=P.Nose.v.val/100,a3=T.G;for(var l=0;l<gh.length;l++){var bT=255,dP=gh[l];if(dP<32){var i2=(dP+gh[l-1]+gh[l+1]+gh[l-a3]+gh[l+a3])*.2-1;
bT=Math.min(255,Math.round(Math.max(0,i2)*8))}O[l]=bT}hC.ajL(O,P)}q.XX(O,b,3);T.offset(J,Z);X={sB:b,zc:T}}else if(t=="IrGl"){var $;
if(P.GlwT.v.BETE=="SfBL")$=c.gd(e,m-e,!1);else $=c.am9(m,i,!1);var O=$.O0,T=$.Ge;hC.ava(O,P);if(P.glwS.v.IGSr=="SrcC")q.dm(O);
var b=q.m(T.$()*4);if(P.Grad==null){hC.JT(b,P.Clr.v);hC.x2(O,P,!0)}else{hC.x2(O,P,null);var ih={JL:O,Pf:255,rI:0,G5:T};
hC.ZD(P,b,T,z,ih);O.fill(255);hC.ajL(O,P)}q.XX(O,b,3);T.offset(J,Z);X={sB:b,zc:T}}else if(t=="FrFX"){var eF=hC.q8(P),hp=eF[0],dt=eF[1],T=c.rect().clone(),iw=null,cP=null;
T.r6(Math.ceil(Y),Math.ceil(Y));if(dt>0){var $=c.gd(dt,0,!0);cP=$.O0;if(cP.length<T.$()){cP=q.m(T.$());
q.lf($.O0,$.Ge,cP,T)}}if(hp>0){var $=c.gd(hp,0,!1);iw=q.m(T.$());iw.fill(255);q.lf($.O0,$.Ge,iw,T)}T.offset(J,Z);
var b=q.m(T.$()*4),f0=P.PntT.v.FrFl;if(f0=="SClr")hC.JT(b,P.Clr.v);if(f0=="GrFl")hC.ZD(P,b,T,z,c.a8D(hp,dt));
if(f0=="Ptrn")hC.Hb(P,b,T,z.add.Patt,N);X={sB:b,zc:T,T2:cP,yw:iw}}Q.type[t].push(X);if(t=="ebbl"){if(X.Cz)Q.all.push(X.Cz,X.Qr);
if(X.Ls)Q.all.push(X.Ls,X.BX)}else{X.hC=bm.KW(P.Md.v.BlnM);X.UJ=P.Opct.v.val/100,Q.all.push(X)}}}return Q};
hC.BR=function(s){var N=1/Math.sqrt(s.x*s.x+s.y*s.y+s.Jk*s.Jk);s.x*=N;s.y*=N;s.Jk*=N};hC.aek=function(s,N){return{x:s.y*N.Jk-s.Jk*N.y,y:s.Jk*N.x-s.x*N.Jk,Jk:s.x*N.y-s.y*N.x}};
hC.a4K=function(s,N){return s.x*N.x+s.y*N.y+s.Jk*N.Jk};hC.ajL=function(s,N){var r=N.Nose.v.val/100;if(r>0)for(var l=0;
l<s.length;l++){var S=s[l];S=Math.min(510-(1+r)*q.style.No(l),S);s[l]=S}};hC.Au=function(s){var N=hC.bb(),r=s.En,S=!1;
for(var l=0;l<32;l+=8)if(r[l]+r[l+1]+r[l+4]+r[l+5]!=0||r[l+2]+r[l+3]+r[l+6]+r[l+7]!=1020)S=!0;if(S){r=r.slice(0);
for(var l=0;l<40;l+=4){var z=r[l]/255,A=r[l+1]/255,B=r[l+2]/255,Y=r[l+3]/255;r[l]=z-.001;r[l+1]=z==A?1e6:1/(A-z);
r[l+2]=B==Y?-1e6:1/(B-Y);r[l+3]=Y+.001}}var t=s.add.iOpa!=null?s.add.iOpa/255:N.fill,p=s.add.vstk;if(p&&!p.fillEnabled.v&&(!p.strokeEnabled.v||p.strokeStyleLineWidth.v.val==0))t=0;
return{fill:t,dP:S?r:null,ER:s.add.brst!=null?s.add.brst:N.ER,a2f:s.add.knko!=null?s.add.knko:N.a2f,style:!1,vX:!1}};
hC.bb=function(){return{fill:1,dP:null,ER:[1,1,1],a2f:0,style:!1,vX:!1}};hC.a7k=function(s,N,r,S,z,A,B,Y){if(Y==null)Y=1;
if(B==null)B=new gF;var t=s.yK[1].G,p=s.yK[1].n,f=new gF,a=z<2;if(a)f.translate(-t/2,-p/2);if(z==0){Y*=Math.max(r/t,S/p)}else if(z==1){Y*=Math.min(r/t,S/p)}else if(z==2){f.scale(1/t,1/p);
f.concat(B);f.scale(r,S)}else if(z==3){Y=Y}f.scale(Y,Y);if(a)f.translate(r/2,S/2);f.concat(A);N.Ptrn.v.Idnt.v=s.id;
N.Scl.v.val=Math.round(100*f.S5());N.Angl.v.val=Math.round(180*Math.atan2(-f.U,f.aC)/Math.PI);N.Algn.v=!0;
var D=N.phase.v;D.Hrzn.v=Math.round(f.JC);D.Vrtc.v=Math.round(f.T3)};hC.N_=function(s,N){if(N==null)return null;
var r=s.Idnt.v,S=s.Nm.v;for(var l=0;l<N.length;l++)if(N[l].id==r)return N[l];for(var l=0;l<N.length;
l++)if(N[l].name==S)return N[l];return null};hC.aiy=function(s,N,r){var S=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var l=0;l<S.length;l++){var z=s.v[S[l]].v;for(var A=0;A<z.length;A++)if(z[A].v.Ptrn)N.zp(hC.N_(z[A].v.Ptrn.v,r))}};
hC.agk=function(s,N,r){var S=["patternFillMulti","ebblMulti","frameFXMulti"];for(var l=0;l<S.length;
l++){var z=s.v[S[l]].v;for(var A=0;A<z.length;A++)if(z[A].v.Ptrn){var B=z[A].v.Ptrn.v,Y=hC.N_(B,r),t=hC.N_(B,N.add.Patt);
if(Y==null&&t)r.push(t)}}};hC.Hb=function(s,N,r,S,z){var A=hC.N_(s.Ptrn.v,S);if(A!=null&&!r.Nf()){var B=A.yK,Y=B[0],t=B[1],p=0;
q.Ia(B);var f=(s.Scl?s.Scl.v.val:100)/100;while((f<.3||f==.5)&&B[p+2]){f*=t.G/B[p+3].G;p+=2;Y=B[p];t=B[p+1]}var a=q.scale.Hb(Y,t.G,t.n),D=s.phase?s.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},c=s.Angl?s.Angl.v.val:0,J=-r.x+D.Hrzn.v-1,Z=-r.y+D.Vrtc.v-1;
if(s.Algn!=null&&!s.Algn.v){}else{J+=z.x;Z+=z.y}q.scale.pO(a,N,r.G,r.n,f,f,J+1,Z+1,c*Math.PI/180)}};
hC.ZD=function(s,N,r,S,z,A){if(A==null)A=r;var B=s.Type?s.Type.v.GrdT:"shapeburst",Y=s.Algn&&s.Algn.v?A:new hq(0,0,S.G,S.n),t=s.Angl?q.i.uD(s,Y):[new cR(0,0),new cR(100,0)],p=t[0].x,f=t[0].y,a=t[1].x-p,D=t[1].y-f,c=Math.sqrt(a*a+D*D);
c=1/(2*c*c);var J=[a*c,D*c,-D*c,a*c],Z=s.Rvrs?s.Rvrs.v:!1,Q=s.Dthr?s.Dthr.v:!1;q.i.Mf(s.Grad.v,N,r,J,p,f,Z,jG.i.types.indexOf(B),0,0,z,Q)};
hC.avT=function(s,N,r){for(var l=0;l<s.all.length;l++){var S=s.all[l];S.tF=S.zc.clone();S.tF.offset(N,r)}};
hC.aly=function(s,N,r,S,z,A){var B=d.Bi?hC.a0C:hC.aw9;hC.avT(N,r.x,r.y);var Y=N.type.DrSh;for(var l=0;
l<Y.length;l++)if(!Y[l].aj2)B(Y[l],S,z,A)};hC.akX=function(s,N,r,S,z,A,B,Y,t,p){var f=r,a=d.Bi?hC.a0C:hC.aw9,D=d.Bi?d.Q.Qk:q.Q.QV,c;
c=N.type.DrSh;for(var l=0;l<c.length;l++)if(c[l].aj2)a(c[l],S,z,A);c=N.type.OrGl;for(var l=0;l<c.length;
l++)a(c[l],S,z,A);var J="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var Z=0;Z<J.length;Z++){var c=N.type[J[Z]];
for(var l=0;l<c.length;l++)a(c[l],B,f,A)}var Q=N.type.ebbl[0],M=Q!=null&&Q.aoL;c=N.type.FrFX;for(var l=0;
l<c.length;l++){var u=c[l];fn.tK.lf(Y,p,t,p,A);a(u,t,p,A);if(M&&l==c.length-1){if(Q.BX)a(Q.BX,t,p,A);
if(Q.Ls)a(Q.Ls,t,p,A);if(Q.Qr)a(Q.Qr,t,p,A);if(Q.Cz)a(Q.Cz,t,p,A)}if(u.yw||u.UG)D(t,p,B,f,d.Bi?u.UG:u.yw,u.tF,0,A,1);
if(u.T2||u.xF)D(t,p,S,z,d.Bi?u.xF:u.T2,u.tF,0,A,1)}if(!M&&Q!=null){if(Q.BX)a(Q.BX,S,z,A);if(Q.Ls)a(Q.Ls,S,z,A);
if(Q.Qr)a(Q.Qr,B,f,A);if(Q.Cz)a(Q.Cz,B,f,A)}};hC.aw9=function(s,N,r,S){var z=hC.bb();z.fill=s.UJ;z.style=!0;
q.Q.VP(s.hC,s.sB,s.tF,N,r,S,1,z)};hC.a0C=function(s,N,r,S){var z=hC.bb();z.fill=s.UJ;z.style=!0;d.Q.dv(s.hC,s.$w,s.tF,N,r,S,1,z)};
hC.ava=function(s,N){var r=1-N.Inpr.v.val/100,S=1+Math.tan(r*(Math.PI/2)),z=s.length;for(var l=0;l<z;
l++)s[l]=Math.min(255,Math.round(s[l]*S))};hC.x2=function(s,N,r){var S=N.blur.v.val,z=Math.round(S*(N.Ckmt.v.val/100));
if(S>z){var A=q.R2.zu(N.TrnS.v.Crv.v,256,!0);q.ff(s,A)}if(r!=null&&N.Nose.v.val>0)q.style.b7(s,N.Nose.v.val/100,r)};
hC.JT=function(s,N,r){if(r==null)r=255;var S=q.i.iy(N),z=r<<24|S.U<<16|S.A<<8|S.w,A=new Uint32Array(s.buffer);
A.fill(z)};hC.PX=function(s,N,r,S){var z=N.uglg&&N.uglg.v?r.sY():N.lagl.v.val;z=z*Math.PI/180+S;var A=Math.cos(z)*N.Dstn.v.val,B=Math.sin(z)*N.Dstn.v.val;
s.x-=Math.round(A);s.y+=Math.round(B)};hC.qF=function(s){if(s==null)return null;var N=s.frameFXMulti.v;
if(N.length==0)return null;N=N[0].v;var r=JSON.parse(JSON.stringify(jG.iJ.default));hC.awh(N,r);return r};
hC.awh=function(s,N){var r=jG.stroke.l9.indexOf(s.PntT.v.FrFl),S=[jG.IU,jG.$b,jG.Ba][r],z=N.strokeStyleContent.v={classID:jG.iJ.Mn[r]};
for(var l=0;l<S.length;l++)z[S[l]]=s[S[l]];N.strokeEnabled=s.enab;N.strokeStyleLineWidth=s.Sz;N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jG.iJ.qY[jG.stroke.types.indexOf(s.Styl.v.FStl)];
N.strokeStyleOpacity=s.Opct;N.strokeStyleBlendMode=s.Md;N.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
hC.Pm=function(s,N){var r=[];for(var l=0;l<s.length;l++)r.push({t:"UntF",v:{type:"#Nne",val:Math.round(s[l]*N)}});
return r};hC.ep=function(s,N,r,S){this.K$=N.clone();this.a5b=N.clone();this.a5b.r6(r,r);if(S){this.K$.r6(1,1);
this.hB=q.m(this.K$.$());q.lf(s,N,this.hB,this.K$)}else this.hB=s;this.LI=null;this.HO=null;this.m5=null};
hC.ep.prototype.O0=function(){return this.hB};hC.ep.prototype.rect=function(){return this.K$};hC.ep.prototype.Me=function(){return this.a5b};
hC.ep.prototype.CH=function(){if(this.LI)return this.LI;this.LI=this.O0().slice(0);q.dm(this.LI);return this.LI};
hC.ep.prototype.wl=function(){if(this.HO)return this.HO;this.HO=new Float64Array(this.rect().$());q.style.rh(this.CH(),this.HO,this.rect().G,this.rect().n);
return this.HO};hC.ep.prototype.gR=function(){if(this.m5)return this.m5;var s=this.Me(),N=q.m(s.$());
q.lf(this.O0(),this.rect(),N,s);this.m5=new Float64Array(s.$());q.style.rh(N,this.m5,s.G,s.n);return this.m5};
hC.ep.prototype.a8D=function(s,N){var r={Pf:-N,rI:s,G5:null,JL:null};if(N==0){r.G5=this.rect();r.JL=this.wl();
return r}var S=this.gR().slice(0),z=this.Me();r.G5=z;r.JL=S;for(var l=0;l<S.length;l++)S[l]=-S[l];if(s==0)return r;
var A=this.wl(),B=this.rect();for(var Y=0;Y<B.n;Y++)for(var t=0;t<B.G;t++){var p=Y*B.G+t,f=(Y+B.y-z.y)*z.G+t+B.x-z.x;
S[f]+=A[p]}return r};hC.ep.prototype.gd=function(s,N,r){var S=Math.ceil(s+N),z={Ge:this.rect().clone(),O0:null};
z.Ge.r6(S,S);z.O0=q.m(z.Ge.$());if(s==0&&N==0)q.r8(r?this.O0():this.CH(),z.O0);else{var A=q.m(z.Ge.$());
q.lf(this.O0(),this.rect(),A,z.Ge);if(!r)q.dm(A);if(s!=0){if(r)q.style.ag(A,z.Ge,this.gR(),this.Me(),s);
else q.style.ag(A,z.Ge,this.wl(),this.rect(),s)}if(N!=0)q.W9.ju(A,z.O0,z.Ge,Math.max(1,N*.43));else z.O0=A}return z};
hC.ep.prototype.am9=function(s,N,r){var S=s*(N-.5),z={Ge:this.rect().clone(),O0:null};if(r)z.Ge.r6(s,s);
z.O0=q.m(z.Ge.$());var A=z.Ge.G,B=z.Ge.n,Y=r?this.gR():this.wl(),t=r?this.Me():this.rect(),p=z.Ge,f=p.PS(t),A=f.G,B=f.n,a=f.x-p.x,D=f.y-p.y,c=f.x-t.x,J=f.y-t.y,Z=1-N*2;
for(var Q=0;Q<B;Q++)for(var M=0;M<A;M++){var u=Y[(Q+J)*t.G+M+c],P=u/s;z.O0[(Q+D)*p.G+M+a]=Math.max(0,Math.min(255,255-255*((P+Z)/(1+Z))))}return z};
hC.a4p=function(s,N,r){var S=s.Lefx,z=s.blendOptions;if(S){var A=N.add.lmfx;if(r==null)r=A?A.Scl.v.val:100;
N.add.lmfx=JSON.parse(JSON.stringify(S.v));if(N.add.lmfx.Scl==null)N.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
hC.MG(N.add.lmfx,r/N.add.lmfx.Scl.v.val);if(A)N.add.lmfx.Scl.v.val=A.Scl.v.val}else delete N.add.lmfx;
if(z){z=z.v;if(z.Md)N.M9=bm.KW(z.Md.v.BlnM);if(z.Opct)N.opacity=Math.round(z.Opct.v.val*255/100);if(z.fillOpacity)N.add.iOpa=Math.round(z.fillOpacity.v.val*255/100);
if(z.Blnd){var B=[];for(var l=0;l<10;l++)B.push(0,0,255,255);var Y=z.Blnd.v,t="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var l=0;l<Y.length;l++){var p=Y[l].v,f=8*["Gry","Rd","Grn","Bl"].indexOf(p.Chnl.v[0].v.enum);for(var a=0;
a<8;a++){B[f+a]=p[t[a]].v}}N.En=B}}};hC.aaI=function(s){var N="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),r=[],S=s.En;
for(var l=0;l<4;l++){var z=l*8;if(S[z]+S[z+1]+S[z+4]+S[z+5]==0&&S[z+2]+S[z+3]+S[z+6]+S[z+7]==4*255)continue;
var A={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][l]}}]}}};
r.push(A);for(var B=0;B<8;B++)A.v[N[B]]={t:"long",v:S[l*8+B]}}var Y={classID:"blendOptions"};if(s.M9!="norm")Y.Md={t:"enum",v:{BlnM:bm.Cu(s.M9)}};
if(s.opacity!=255)Y.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(s.opacity*100/255)}};if(s.add.iOpa!=null)Y.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(s.add.iOpa*100/255)}};
if(r.length!=0)Y.Blnd={t:"VlLs",v:r};var t={Dy:{classID:"null",Idnt:{t:"TEXT",v:a2.hX()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},KM:{classID:"Styl",blendOptions:{t:"Objc",v:Y}}},p=s.add.lmfx;
if(p)t.KM.Lefx={t:"Objc",v:p};return t};function fD(){}fD.s3=function(s){return JSON.parse(JSON.stringify(s))};
fD.oE=function(s){var N=fD.s3(fD.aai),r=N.Brsh.v;if(s!=null){delete r.Hrdn;r.classID="sampledBrush";
r.Nm={t:"TEXT",v:"layer.png"},r.sampledData={t:"TEXT",v:s}}return N};fD.aai={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
fD.BR={};fD.BR.check=function(s){var N=fD.BR.zs;for(var l=0;l<N.length;l++)if(s[N[l]]==null)s[N[l]]=JSON.parse(fD.BR.Da[N[l]]);
var r=[];for(var l=0;l<N.length;l++)r.push(N[l]);var S=fD.BR.ajF;for(var l=0;l<S.length;l++){var z=S[l][0],A=S[l][1],B=!0;
for(var Y=0;Y<z.length;Y++)B=B&&s[z[Y]].v==!0;if(B)for(var Y=0;Y<A.length;Y++){if(s[A[Y]]==null)console.log("Missing conditional parameter "+A[Y]);
else r.push(A[Y])}}for(var t in s)if(r.indexOf(t)==-1)console.log("Extra parameter "+t);s=s.Brsh.v;N=fD.BR.TK.zs;
for(var l=0;l<N.length;l++)if(s[N[l]]==null)s[N[l]]=JSON.parse(fD.BR.TK.Da[N[l]]);r=[];for(var l=0;l<N.length;
l++)if(s[N[l]])r.push(N[l]);else console.log("Missing default parameter "+N[l]);S=fD.BR.TK.aqk[s.classID];
for(var l=0;l<S.length;l++)if(s[S[l]]==null&&S[l]!="dtipsGridSize"&&S[l]!="dtipsErodibleTipHeightMap"&&s.a6G!=1)console.log("Missing conditional parameter "+S[l]);
else r.push(S[l]);for(var t in s)if(r.indexOf(t)==-1)console.log("Extra parameter "+t)};fD.BR.a1h=function(s){var N=fD.BR.ajF;
for(var l=0;l<N.length;l++){var r=N[l][0],S=N[l][1],z=!0;for(var A=0;A<r.length;A++)z=z&&s[r[A]]&&s[r[A]].v==!0;
if(z){for(var A=0;A<S.length;A++)if(s[S[A]]==null){s[S[A]]=JSON.parse(fD.BR.Da[S[A]])}}else for(var A=0;
A<S.length;A++)if(s[S[A]]!=null){delete s[S[A]]}}};fD.BR.TK={};fD.BR.TK.zs="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
fD.BR.TK.Da={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};fD.BR.TK.aqk={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
fD.BR.ajF=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
fD.BR.zs="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
fD.BR.Da={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function cI(s,N){this.auH=s;this.hw=N==null?0:N;this.dir=0}cI.prototype.gi=function(s,N){var r=this.auH,S=new cR(s.x-r.x,s.y-r.y),z=new gF;
z.rotate(-this.hw);S=z.aK(S);if(this.dir==0&&!r.nR(s))this.dir=Math.abs(S.x)<Math.abs(S.y)?1:2;if(N.t(cK.nG)){if(this.dir==1)S.x=0;
if(this.dir==2)S.y=0}z.dm();S=z.aK(S);var A=new cR(r.x+S.x,r.y+S.y);return A};cI.prototype.akv=function(s){if(s.t(cK.nG))return this.dir;
return 0};var a$=function(){function s(){this.ame={}}s.ab_=function(N,r){var S=N.clone();S.JC-=Math.floor(S.JC);
S.T3-=Math.floor(S.T3);var z=new cR(r,0),A=new cR(0,r),B=S.aK(z),Y=S.aK(A),t=new cR(S.JC,S.T3);return[B,Y,t]};
s.aoq=function(N,r){var S=cR.iI;return S(N[0],r[0])+S(N[1],r[1])+S(N[2],r[2]);return dsum};s.prototype.a34=function(N){var r=this.ame,S=r[N];
if(S==null)S=r[N]={eT:[],h3:0,$:0,aed:0,a3_:0};S.h3=Date.now();while(Object.keys(r).length>3){var z="",A=Date.now();
for(var B in r){var Y=r[B].h3;if(Y<A){A=Y;z=B}}delete r[z]}return S};s.prototype.a7C=function(N,r){var S=N.eT,z,A=1e6;
for(var l=0;l<S.length;l++){var B=S[l],Y=s.aoq(B.H0,r);if(Y<A){z=B;A=Y}}return z};s.prototype.aam=function(N,r){var S=N.eT;
S.push(r);N.$+=r.rect.$();if(S.length>1e3||N.$>100*100*1600){console.log("pruning",N.$,S.length);S.sort(function(A,B){return B.h3-A.h3});
while(S.length>500||N.$>100*100*800){var z=S.pop();N.$-=z.rect.$()}}};return s}();function ex(s,N,r,S,z,A,B,Y,t){this.nv=N;
this.wf=r;this.on=A;this.PH=S;if(S.pW==null)S.pW=[!1,!0];this.lK=null;this.Xz=null;this.B5=0;this.alS=0;
this.aqo=0;this.lE=0;this.NE=t==null?Math.floor(Math.random()*16777215):t;this.arn=t==null?Math.floor(Math.random()*16777215):t;
this.zC=new hq;this.kN=new hq;if(Y!=null){this.sB=Y}else{var p=ex.api;if(p.length!=B.$()*4)p=q.m(B.$()*4);
else p.fill(0);this.sB=ex.api=p}this.rect=B.clone();this.ys=[];this.pr=[];this.u2=null;this.Hd=0;this.U=null;
this.asG="";this.Uz=null;this.akD(s,z)}ex.api=q.m(16);ex.prototype.akD=function(s,N){this.Hd=N;this.U=s;
this.asG=JSON.stringify(s)+JSON.stringify(this.PH.$A);this.Uz=ex.avq(this.U,this.nv,this.wf)};ex.prototype.moveTo=function(s,N,r){r=this.anK(r);
this.B5=r;var S=new cR(s,N),z=this.U.Brsh.v.Dmtr.v.val;this.lK=S.clone();this.Xz=S.clone();this.u2=S.clone();
this.ys=[s,N];this.pr=[r];var A=this.PH.pW;if(this.PH.bn!=ex.Kj){var B=this.U.angleDynamics,Y=B?B.v.bVTy.v==6:!1;
this.pl(Y?new hq:this.a0X(S,this.a5Y()*(A[1]?r:1),this.PH.nh*(A[0]?r*.5:1),new cR(0,0)))}this.lE=S.clone()};
ex.prototype.lineTo=function(s,N,r){r=this.anK(r);var S=this.ys,z=S.length,A=S[z-2],B=S[z-1];if(s==A&&N==B)return;
var Y=this.U.Brsh.v.Dmtr.v.val,t=Math.ceil(Y)+1,p=new hq(Math.round(A),Math.round(B),0,0);p.r6(t,t);
var f=new hq(Math.round(s),Math.round(N),0,0);f.r6(t,t);this.ys.push(s,N);this.pr.push(r);z+=2;if(z>=6)this.pl(this.a2S(z))};
ex.prototype.anK=function(s){if(s==null)s=1;s=Math.max(.05,Math.min(5,s));if(isNaN(s)){alert("Pressure is not a number");
throw"e"}return s};ex.prototype.pl=function(s){this.zC=s;this.kN=this.kN.Ms(s)};ex.prototype.finish=function(){var s=this.ys,N=s.length,r;
if(N==4)r=this.aaS(s[N-2],s[N-1],this.pr[(N>>1)-1],!0);if(N>4)r=this.a2S(N+2);if(r)this.pl(r)};ex.prototype.dy=function(){return this.rect.clone()};
ex.prototype.Zy=function(){return this.zC.PS(this.rect)};ex.prototype.Ag=function(){return this.kN.PS(this.rect)};
ex.prototype.pp=function(){return this.sB};ex.prototype.a2S=function(s){var N=this.ys,r=this.pr,S=N[s-6],z=N[s-5],A=N[s-4],B=N[s-3],Y=r[(s>>1)-3],t=r[(s>>1)-2],p=new cR(0,0),f=new cR(0,0);
if(8<=s)p=ex.a7T(N[s-8],N[s-7],S,z,A,B);if(s<=N.length)f=ex.a7T(N[s-2],N[s-1],A,B,S,z);var a=S+p.x,D=z+p.y,c=A+f.x,J=B+f.y,Z=new hq;
for(var l=0;l<10;l++){var Q=(l+1)*.1,M=1-Q,u=M*M*M*S+3*Q*M*M*a+3*Q*Q*M*c+Q*Q*Q*A,P=M*M*M*z+3*Q*M*M*D+3*Q*Q*M*J+Q*Q*Q*B,m=this.aaS(u,P,Y+Q*(t-Y));
Z=Z.Ms(m)}return Z};ex.a7T=function(s,N,r,S,z,A){var B=s-r,Y=N-S,t=z-r,p=A-S,f=Math.sqrt(B*B+Y*Y),a=Math.sqrt(t*t+p*p),D=Math.acos((B*t+Y*p)/(f*a))/Math.PI,c=.35,J=.1;
D=J+D*(c-J);var Z=z-s,Q=A-N,M=Math.sqrt(Z*Z+Q*Q),u=D*a/M;return new cR(Z*u,Q*u)};ex.prototype.aaS=function(s,N,r,S){var z=new hq,A=this.PH.a4_;
if(A==null)A=0;if(A==0||S){z=this.ac$(s,N,r);return z}var B=this.u2,Y=s-B.x,t=N-B.y,p=Math.sqrt(Y*Y+t*t);
Y/=p;t/=p;if(p>A){var f=B.x+Y*(p-A),a=B.y+t*(p-A);z=this.ac$(f,a,r);this.u2.i5(f,a)}return z};ex.prototype.ac$=function(s,N,r){var S=new hq,z=new cR(s,N),A=this.U.Brsh.v.Dmtr.v.val,B=this.PH.bn,Y=z.lA(this.Xz);
Y.normalize(1);var t=cR.iI(this.Xz,z),p=-this.alS,f=this.Xz.clone(),a=this.PH.pW;while(!0){var D=this.B5+(r-this.B5)*(Math.max(0,p)/t),c=this.a5Y()*(a[1]?D:1),J=this.a1q()*(c+this.aqo)/2*this.Uz.a29;
if(B==ex.Kj)J=1;if(p+J<t){p+=J;var Z=new cR(this.Xz.x+Y.x*p,this.Xz.y+Y.y*p),u=1;if(B==ex.Kj){var Q=f.clone();
Q.x+=Y.x>0?1:-1;var M=f.clone();M.y+=Y.y>0?1:-1;if(cR.iI(Q,Z)<cR.iI(M,Z))Z=Q;else Z=M;p=cR.iI(Z,this.Xz)}if(this.U.useScatter.v==!0){u=this.U.Cnt.v;
var P=this.U.countDynamics.v.jitter.v.val/100,m=P*(-1+2*this.xS());u+=Math.round(u*m)}for(var l=0;l<u;
l++){var i=this.a0X(Z,c,this.PH.nh*(a[0]?D*.5:1),Y);S=S.Ms(i)}f=Z}else break}this.alS=t-p;this.Xz=z;
this.B5=r;return S};ex.prototype.a1q=function(){var s=this.U.Brsh.v,N=s.Spcn.v.val,r=Math.max(5,s.Rndn.v.val);
return r/100*(N/100)};ex.prototype.a5Y=function(){var s=this.U,N=s.Brsh.v.Dmtr.v.val;if(s.useTipDynamics.v){var r=N*(s.minimumDiameter.v.val/100);
N=r+(N-r)*(1-this.xS(this.arn)*(s.szVr.v.jitter.v.val/100))}return N};ex.prototype.a0X=function(s,N,r,S){r=Math.min(1,r);
var z=this.U,A=this.U.Brsh.v,B=A.Dmtr.v.val,Y=this.PH,t=Y.bn,p=Y.ary,f=this.Uz.yK[1],a=new gF;a.translate(-f.G/2,-f.n/2);
a.scale(1/this.Uz.arE,1/this.Uz.arE);a.scale(N/B,N/B);a.scale(1,Math.max(5,A.Rndn.v.val)/100);if(z.usePaintDynamics&&z.usePaintDynamics.v){var D=z.opVr.v.jitter.v.val/100,c=z.prVr.v.jitter.v.val/100;
r*=1-this.xS()*D;r*=1-this.xS()*c}if(z.useTipDynamics.v){var J=z.angleDynamics.v,Z=z.minimumRoundness.v.val/100;
a.scale(1,Z+(1-Z)*Math.round(100-this.xS()*z.roundnessDynamics.v.jitter.v.val)/100);a.rotate((-.5+this.xS())*4*Math.PI*(J.jitter.v.val/100));
if(J.bVTy.v==6)a.rotate(Math.atan2(-S.y,S.x))}a.rotate(A.Angl.v.val*(Math.PI/180));if(z.useScatter.v){var Q=(-1+2*this.xS())*z.scatterDynamics.v.jitter.v.val/100;
a.translate(-Q*N*S.y,Q*N*S.x)}a.translate(s.x,s.y);var M=this.acb(a,s,N),u=M.rect.clone();if(t==null){var P=this.na(z);
q.TM(M.DX,Math.round(P.U*255)<<16|Math.round(P.A*255)<<8|Math.round(P.w*255)<<0,4278190080);if(this.kN.Nf()&&this.rect.nR(M.rect)&&r==1)this.sB=M.DX.slice(0);
else q.Q.a4C(M.DX,M.rect,this.sB,this.rect,M.rect,r)}if(t==ex.Kj){var m=new cR(M.rect.x+M.rect.G/2,M.rect.y+M.rect.n/2),i=Math.round(m.x-this.lE.x),e=Math.round(m.y-this.lE.y),X=M.rect.clone();
X.offset(-i,-e);var $=X.PS(this.rect);$.offset(i,e);q.LP(this.sB,this.rect,M.DX,X);q.Q.mX(M.DX,M.rect,this.sB,this.rect,M.ND,M.rect,r)}if(t==ex.Vr||t==ex.zm||t==ex.pw){var O=M.rect.PS(this.rect),T;
if(O.nR(M.rect))T=M.ND;else{T=q.m(O.$());q.lf(M.ND,M.rect,T,O)}var b=q.m(O.$()*4);q.LP(this.sB,this.rect,b,O);
if(t==ex.zm){var R=b.slice(0),w=q.DD.A$([-1,-1,-1,-1,25,-1,-1,-1,-1]);q.DD.tn(b,R,O.G,O.n,w,0);q.r8(R,b)}else if(t==ex.pw){var F=hT.yS("UnsM");
F.Amnt.v.val=15;F.Thsh.v=0;F.Rds.v.val=5;var R=q.m(b.length);hT.M$("UnsM",{buffer:b,rect:O},F,0,0,{buffer:R,rect:O});
q.r8(R,b)}else{hT.N4(1,q.W9.C0,b,O)}q.Q.mX(b,O,this.sB,this.rect,T,O,r)}this.aqo=N;this.lE=m;this.arn++;
return u};ex.prototype.na=function(s){var N=ex.a9n(this.Hd);if(s.useColorDynamics&&s.useColorDynamics.v){var r=1-this.xS()*s.clVr.v.jitter.v.val/100,S=ex.a9n(this.on);
N.w=r*N.w+(1-r)*S.w;N.A=r*N.A+(1-r)*S.A;N.U=r*N.U+(1-r)*S.U;var z=(-.5+this.xS())*s.H.v.val/100,A=(-1+2*this.xS())*s.Strt.v.val/100,B=(-1+2*this.xS())*s.Brgh.v.val/100,Y=q.R4(N.w,N.A,N.U);
Y.JY=(Y.JY+z+1)%1;Y.D7=Y.D7+A;if(Y.D7<0)Y.D7=-Y.D7;if(Y.D7>1)Y.D7=1-(Y.D7-1);Y.kc=Y.kc+B;if(Y.kc<0)Y.kc=-Y.kc;
if(Y.kc>1)Y.kc=1-(Y.kc-1);N=q.qG(Y.JY,Y.D7,Y.kc)}return N};ex.prototype.BR=function(s){return Math.max(0,Math.min(1,s))};
ex.prototype.xS=function(s){if(s==null){s=this.NE++}return ex.hash(s)};ex.a9n=function(s){return{w:(s>>16&255)/255,A:(s>>8&255)/255,U:(s>>0&255)/255}};
ex.hash=function(s){s=s^61^s>>16;s=s+(s<<3);s=s^s>>4;s=s*668265261;s=s^s>>15;return(s&16777215)/16777215};
ex.a4t=new a$;ex.prototype.acb=function(s,N,r){var S=Math.sqrt(this.Uz.yK[1].$()),z=S*s.S5(),A=z<10?1:z<50?1.5:z<200?3:8;
if(z<30)A=0;var B=ex.a4t,Y=B.a34(this.asG),t=this.PH.$A;if(t){s=s.clone();s.JC=Math.floor(s.JC);s.T3=Math.floor(s.T3)}var p=a$.ab_(s,S),f=B.a7C(Y,p);
if(f&&a$.aoq(f.H0,p)>A)f=null;if(f){f.rect.x=Math.round(f.asX.x+s.JC);f.rect.y=Math.round(f.asX.y+s.T3);
if(t){f.rect.x=Math.round(N.x-f.rect.G/2);f.rect.y=Math.round(N.y-f.rect.n/2)}f.h3=Date.now()}else{var a=Math.round(this.U.Brsh.v.Dmtr.v.val),D;
if(t&&a<=3){D={buffer:q.m(a*a*4),rect:new hq(Math.round(N.x-a/2),Math.round(N.y-a/2),a,a)};q.TM(D.buffer,4278190080)}else if(s.aC==1&&s.U==0&&s.K1==0&&s.dX==1){D={buffer:this.Uz.yK[0],rect:this.Uz.yK[1].clone()};
D.rect.x=Math.round(s.JC);D.rect.y=Math.round(s.T3)}else D=K.S.aG(this.Uz.yK,s);if(t){for(var l=0;l<D.buffer.length;
l++)D.buffer[l]=D.buffer[l]>127?255:0}if(D==null)D={buffer:q.m(0),rect:new hq};f={DX:D.buffer,ND:q.m(D.rect.$()),rect:D.rect,asX:new cR(D.rect.x-s.JC,D.rect.y-s.T3),H0:p,h3:Date.now()};
q.WZ(f.DX,f.ND,3);if(Y)B.aam(Y,f)}return f};ex.avq=function(s,N,r){var S,z,A,B=s.Brsh.v.Dmtr.v.val;if(s.Brsh.v.classID=="computedBrush"){var Y=s.Brsh.v.Hrdn.v.val/100;
z=B<100?1.4:1;A=1;S=q.aqX.akj(B,Y,z)}if(s.Brsh.v.classID=="sampledBrush"){var t;for(var l=0;l<N.length;
l++)if(N[l].id==s.Brsh.v.sampledData.v)t=N[l];S=t.yK;var p=S[1];z=Math.max(p.G,p.n)/B;A=Math.min(p.G,p.n)/Math.max(p.G,p.n)}return{arE:z,a29:A,yK:S}};
ex.I=null;ex.IM=null;ex.ty=function(s,N,r,S,z,A){var B=ex.I,Y=ex.IM;if(B==null){ex.I=B=document.createElement("canvas");
ex.IM=Y=B.getContext("2d")}if(A==null)A=S;if(B.width!=A||B.height!=z){B.width=A;B.height=z}else Y.clearRect(0,0,A,z);
Y.fillStyle="#000000";Y.font=Math.floor(10*K.Z())+"px sans-serif";var t=s.Brsh.v.Dmtr.v.val,p=""+t,f=s.useBrushSize;
if(f&&f.v)p="---";var a=Y.measureText(p);Y.fillText(p,(S-a.width)/2,z-2);var D=S,c=z-10*K.Z(),J=Math.min(D,c),Z=s.Brsh.v.classID;
if(Z=="computedBrush"){Y.translate(D/2,c/2);Y.rotate(-s.Brsh.v.Angl.v.val*Math.PI/180);Y.scale(1,.1+.9*s.Brsh.v.Rndn.v.val/100);
var Q=Math.min(.95*J/2,t/2)+.5,M=.9*s.Brsh.v.Hrdn.v.val/100,u=Y.createRadialGradient(0,0,0,0,0,Q);u.addColorStop(M,"rgba(0,0,0,1)");
u.addColorStop((.5+M)/1.5,"rgba(0,0,0,.5)");u.addColorStop(1,"rgba(0,0,0,0)");Y.fillStyle=u;Y.fillRect(-Q,-Q,2*Q,2*Q);
Y.setTransform(1,0,0,1,0,0)}else if(Z=="sampledBrush"){var P,$=0;for(var l=0;l<N.length;l++)if(N[l].id==s.Brsh.v.sampledData.v)P=N[l];
var m=P.yK;q.Ia(m);var i=m[0],e=m[1].G,X=m[1].n;while((e>D||X>c)&&m[$+2]){$+=2;i=m[$];e=m[$+1].G;X=m[$+1].n}if(e*X!=0){var O=new ImageData(new Uint8ClampedArray(i.buffer),e,X);
Y.putImageData(O,Math.round((D-e)/2),Math.round((c-X)/2))}}else{}return B.toDataURL()};ex.gW=function(s,N,r,S){if(r==0)r=1;
var z=s.Brsh.v,A=z.Dmtr.v.val,B=z.Dmtr.v.val=Math.min(S!=null?Math.round(S*2.6):3e3,A*r),Y=z.Hrdn?z.Hrdn.v.val/100:1,t=S!=null?S:Math.round(B*(1+.55*(1-Y)))+4,a;
t=Math.max(15,Math.min(t,3e3));var p=new hq(0,0,t,t),f=new ex(s,N,null,{nh:1},16711712,0,p);z.Dmtr.v.val=A;
f.moveTo(p.G/2,p.n/2);var D=f.pp(),c=f.dy();if(p.nR(c))a=D;else{a=q.m(p.$()*4);q.LP(D,c,a,p)}return[a,p,B]};
ex.a33=function(s,N,r,S){var z=N.G,A=z>>>1;for(var l=0;l<4;l++){var B=6-l;s[z*(A-B)+A-1]=S;s[z*(A-B)+A]=r;
s[z*(A-B)+A+1]=S;s[z*(A+B)+A-1]=S;s[z*(A+B)+A]=r;s[z*(A+B)+A+1]=S;s[z*(A-1)+A-B]=S;s[z*A+A-B]=r;s[z*(A+1)+A-B]=S;
s[z*(A-1)+A+B]=S;s[z*A+A+B]=r;s[z*(A+1)+A+B]=S}};ex.ol=function(s,N,r,S){var z=ex.gW(s,N,r),A=z[0].slice(0),B=z[1],Y=z[2],t=B.$(),p=q.m(t);
q.WZ(A,p,3);var f=q.m(t);q.q.acs(p,f,B);if(Y<3||q.u6(f,0)||S&&Y>12){ex.a33(f,B,255,0)}var a=[3,5,3,4,8,4,3,5,3];
a=q.DD.A$(a);q.DD.LB(f,p,B.G,B.n,a);q.TM(A,4294967295);q.XX(p,A,3);for(var l=0;l<t;l++)if(f[l]==255){A[l<<2]=A[(l<<2)+1]=A[(l<<2)+2]=0;
A[(l<<2)+3]=255}return{r2:A,Ge:B,Yx:new cR(B.G/2,B.n/2)}};ex.Kj="0";ex.Vr="1";ex.zm="2";ex.pw="3";var ey={};
ey.Ow=function(s,N){var r=s.qh(),B=0,p;if(r.x==Infinity||r.Nf())return{sB:q.m(0),Ge:new hq,Kr:new hq};
var S=s.qh(),z=ey.Iu(s,N),A=q.g.nw(z.v);for(var l=0;l<s.GN.length;l++){var Y=s.GN[l].Z$;if(Y.StrokeFlag&&Y._LineWidth)B=Math.max(B,Math.ceil(Y._LineWidth/2))}A.r6(B,B);
if(A.Nf())return{sB:q.m(0),Ge:new hq,Kr:new hq};var t=q.ip(A.G,A.n);t.translate(-A.x,-A.y);ey.aez(z,t);
if(s.GN.length!=0){var f=en.AW(N),a=t.getImageData(0,0,A.G,A.n);p=new Uint8Array(a.data.buffer);if(f==0)for(var l=0;
l<p.length;l+=4)p[l+3]=p[l+3]>80?255:0;if(f==3)for(var l=0;l<p.length;l+=4)p[l+3]=Math.min(255,p[l+3]*1.5)}else p=q.m(A.$()*4);
t.resetTransform();t.beginPath();return{sB:p,Ge:A,Kr:S}};ey.Iu=function(s,N){var r=N.D,S=N.pg,z=en.AW(N),A=Math.max(r.U*r.U,r.K1*r.K1)<1e-9?r:null;
if(z==3||z==4)A=null;var B={F:[],v:[]};ey.aeY(s,B,A,!0);ey.aeY(s,B,A,!1);B=ey.MH(B,N,s);return B};ey.MH=function(s,N,r){if(s==null)return s;
if(r&&r._O)q.g.D(s.v,r._O,s.v);if(r&&!q.Wx.II(N.Yd)){var S=en.dy(N,r);if(!S.Nf()){if(s.F){s=q.g.k_(s);
var z=Math.min(S.G,S.n)/8;if(z<1)z=1;s=q.g.uY(s,z)}var A=q.Wx.T$(N.Yd,S);q.Xp.D(A,s.v,S)}}var B=N.D;
q.g.D(s.v,B,s.v);return s};ey.aez=function(s,N){N.save();N.miterLimit=2;Typr.U.pathToContext({crds:s.v,cmds:s.F},N);
N.restore()};ey.Ca=function(s,N,r){var S=aM.apm(r),z=s.pg,A=z.ResourceDict.FontSet,B=z.ResourceDict.StyleSheetSet[0].StyleSheetData,Y=z.EngineDict.StyleRun.RunLengthArray,p=z.EngineDict.StyleRun.RunArray,f=en.RS(z),a=!0,D={},c=0;
for(var l=0;l<p.length;l++){var J=p[l].StyleSheet.StyleSheetData.Font;if(J==null)J=B.Font;for(var Z=0;
Z<Y[l];Z++){var Q=f.charCodeAt(c+Z),M=J+","+(Q>128?Q:-1);if(D[M]==null){D[M]=1;if(N.y0(A[J].Name,Q)==null)a=!1}}c+=Y[l]}return a&&S};
ey.atK=function(s,N,r){for(var S=0;S<s.p.length;S++){var z=s.p[S],A=z.add.TySh;if(A!=null&&!ey.Ca(A,N,r))return!1}return!0};
ey.a3D=function(s,N,r){for(var S=0;S<s.p.length;S++){var z=s.p[S],A=z.add.TySh;if(A!=null&&ey.Ca(A,N,r)){var B=new aM(A.pg,N),Y=ey.Ow(B,A);
z.rect=Y.Ge;z.buffer=Y.sB;z.V();s.V()}}};ey.aeY=function(s,N,r,S){var z=new gF;for(var l=0;l<s.M7.length;
l++)ey.aaj(s.GN,s.M7[l],N,z,r,S)};ey.aaj=function(s,N,r,S,z,A){S.translate(N.l7.x,N.l7.y);for(var l=0;
l<N.Z1.length;l++){var B={},Y=N.Z1[l];if(!Y.v1)break;var t=S.clone();t.translate(Y.l7.x,Y.l7.y);if(z){var p=z.T3+t.T3*z.dX;
t.T3=(Math.round(p)-z.T3)/z.dX}for(var f=Y.start;f<Y.end;f++)ey.a69(s,N.mm[f],N,B,r,t,A)}S.translate(-N.l7.x,-N.l7.y)};
ey.a5a="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
ey.a69=function(s,N,r,S,z,A,B){A.translate(N.l7.x,N.l7.y);for(var Y=N.og;Y<=N.eb;Y++){var t=r.US[Y],p=t.Ge.G,f=s[r.apb+t.KO],a=f.Z$._FillBackgroundFlag;
if(f.e1=="\n"||B&&!a)continue;var D=f.Z$.FontSize/f.Bg.head.unitsPerEm,c=A.clone();c.translate(t.l7.x+t.ig*D,t.l7.y-t.j2*D);
var J=new gF;J.scale(D,-D);if(f.nz==1&&ey.a5a.indexOf(f.e1)!=-1)J.concat(new gF(-1,0,0,1,p,0));if(f.Z$.FauxItalic)J.concat(new gF(1,0,-Math.tan(.18),1,0,0));
J.translate(0,f.hQ);J.scale(f.scale.x,f.scale.y);if(f.Z$.BaselineShift!=null)J.translate(0,-f.Z$.BaselineShift);
if(t.hw!=0){J.rotate(-t.hw)}J.concat(c);var Z=f.Z$._LineWidth?f.Z$._LineWidth:1;if(B){z.F.push(ey.na(f.Z$._FillBackgroundColor));
var Q=1.005*t.Ge.n/D,M=new hq(-t.ig,-Q*.27,1.03*t.Ge.G/(D*f.scale.x),Q);if(f.Z$.StrokeFlag)M.r6(Z/D,Z/D);
q.g.concat(z,q.g.w2(M),J);z.F.push("X");continue}if(f.Z$.FillFlag)z.F.push(ey.na(f.Z$.FillColor));if(f.Z$.StrokeFlag)z.F.push("O-"+ey.na(f.Z$.StrokeColor)+"-"+Z);
if(t.path.F.length!=0&&f.e1!="\t"){if(f.Z$.FauxBold){var u=f.Z$.FontSize/2048*27*f.scale.x;J.JC+=u;q.g.concat(z,t.path,J);
J.JC-=u+u;q.g.concat(z,t.path,J)}else q.g.concat(z,t.path,J)}if(f.e1!="\n"){if(f.Z$.Underline){if(S.m2==null)S.m2=f.Bg.post.underlineThickness;
if(S.aiF==null)S.aiF=f.Bg.post.underlinePosition;var P=0,m=S.aiF-S.m2/2,i=t.f_*1.05,e=-S.m2;q.g.concat(z,{F:["M","L","L","L","Z"],v:[P,m,P+i,m,P+i,m+e,P,m+e]},J)}if(f.Z$.Strikethrough){var X=f.Bg["OS/2"].yStrikeoutSize,$=f.Bg["OS/2"].yStrikeoutPosition,P=0,m=$+X/2,i=t.f_*1.05,e=-X;
q.g.concat(z,{F:["M","L","L","L","Z"],v:[P,m,P+i,m,P+i,m+e,P,m+e]},J)}}if(f.Z$.FillFlag)z.F.push("X");
if(f.Z$.StrokeFlag)z.F.push("OX")}A.translate(-N.l7.x,-N.l7.y)};ey.na=function(s){var N=en.iy(s),r=(Math.round(N.w)<<16)+(Math.round(N.A)<<8)+Math.round(N.U);
return"#"+q.fD(r)};function aM(s,N){var r=en.E0(s),S,z,A=en.Dt(s),B=s._LineOrientation==2?new gF:null,a,c;
if(s.Curve)z=aM.Y8(s.Curve);if(r!=0){S=new hq(A[0],A[1],A[2],A[3]);if(B){var Y=S.G;S.G=S.n;S.n=Y;B.translate(0,-A[2])}if(r==2){S.G=z[5]-z[4];
S.n=9999}}this.M7=[];this.GN=[];this.fW=r;this._O=B;var p=this.axb=en.RS(s),f=-1,D=-1;for(var l=0;l<p.length;
l++){var J=a,Z=en.arS(s,l);if(Z!=f){f=Z;J=a=en.an6(s,Z)}var Q=c,Z=en.akd(s,l);if(Z!=D){D=Z;Q=c=en.at1(s,Z)}var M={e1:p.charAt(l),Z$:J,Bg:null,sH:-1,Mo:en.aty(s,l),hQ:0,scale:new cR(0,0),i1:0,lineHeight:0,nz:0},u=s.ResourceDict.FontSet[J.Font].Name,P=M.Bg=N.y0(u,p.charCodeAt(l));
M.scale.x=J.HorizontalScale==null?1:J.HorizontalScale;M.scale.y=J.VerticalScale==null?1:J.VerticalScale;
var m=P["OS/2"],i=P.hhea;if(J.FontCaps==1&&M.e1!=M.e1.toUpperCase()){var e=m.sxHeight?m.sxHeight/m.sTypoAscender:.76;
M.scale.x*=e;M.scale.y*=e}var X=1/P.head.unitsPerEm*J.FontSize;if(J.FontBaseline==1){var e=s.ResourceDict.SuperscriptSize;
M.scale.x*=e;M.scale.y*=e;M.hQ-=s.ResourceDict.SuperscriptPosition*J.FontSize}if(J.FontBaseline==2){var e=s.ResourceDict.SubscriptSize;
M.scale.x*=e;M.scale.y*=e;M.hQ+=s.ResourceDict.SubscriptPosition*J.FontSize}M.i1=aM.i1(P,u,J);var $=Q.AutoLeading;
M.lineHeight=J.FontSize*($==null?1.2:$);if(J.AutoLeading==!1)M.lineHeight=J.Leading;if(M.lineHeight==0)M.lineHeight=.01;
this.GN.push(M)}var O=this.M7,T=[0];for(var l=0;l<s.EngineDict.ParagraphRun.RunLengthArray.length;l++){var b=new aM.rt(s,N,this.GN,l,S,T,r==1?z:null);
O.push(b)}if(B){if(r==0)B.translate(0,O[0].mm[0].i1/2);B.rotate(-Math.PI/2)}if(r==2){var R=s.Curve.Points,w=z[0],F=z[1],L=z[2],x=z[3],g=z[4],n=z[5];
for(var l=0;l<O.length;l++)for(var h=0;h<O[l].Z1.length;h++)if(!(l==0&&h==0))O[l].Z1[h].v1=!1;var b=O[0],_=b.Z1[0];
b.l7.i5(0,0);_.l7.i5(0,0);for(var h=_.start;h<_.end;h++){var H=b.mm[h],G=H.l7.x;H.l7.x=0;for(var j=H.og;
j<=H.eb;j++){var v=b.US[j],C=v.Ge.G/2;v.l7.x+=G;var E=aM.a9_(w,(g+v.l7.x+C)%x);v.l7.x=E[0]-C*E[2];v.l7.y=E[1]-C*E[3];
v.hw=Math.atan2(E[3],E[2])}}}}aM.i1=function(s,N,r){var S=s["OS/2"],z=s.hhea,A=0,A=0,B=[];B.push(S&&S.sxHeight&&N.toLowerCase().indexOf("capitals")!=-1?S.sxHeight:0);
B.push(S&&S.sCapHeight?S.sCapHeight:0);B.push(S&&S.sTypoAscender?S.sTypoAscender:0);B.push(z.ascender?z.ascender:0);
for(var Y=0;Y<B.length;Y++)if(B[Y]!=0){A=B[Y];break}var t=1/s.head.unitsPerEm*r.FontSize;A=A*t;if(A<r.FontSize*.6)A=r.FontSize*.75;
return A};aM.prototype.afN=function(){return!this.a7F(0)};aM.prototype.adO=function(){return this.a7F(1)};
aM.prototype.a7F=function(s){var N=this.M7,r=!0,S=0;for(var l=0;l<N.length;l++){var z=N[l].Z1,A=z.length;
S+=A;for(var B=0;B<A;B++)r&=z[B].v1}return[r,S][s]};aM.Y8=function(s,N){if(N==null)N=.25;var r=s.Points,S=r.length,z=S>>>3,A=s.TextOnPathTRange,B=s.Reversed,a=0,D=0;
if(B){var Y=r.slice(0);for(var l=0;l<S;l+=2){Y[l]=r[S-2-l];Y[l+1]=r[S-1-l]}r=Y;A=[z-A[1]%z,z-A[0]%z]}var t=[],p=[0],f=[0];
for(var l=0;l<S;l+=8){var c=r[l+6]-r[l+0],J=r[l+7]-r[l+1],Z=Math.round(1/N*Math.sqrt(c*c+J*J));for(var Q=0;
Q<Z;Q++){var M=Q/Z,u=1-M,P=u*u*u*r[l+0]+3*u*u*M*r[l+2]+3*u*M*M*r[l+4]+M*M*M*r[l+6],m=u*u*u*r[l+1]+3*u*u*M*r[l+3]+3*u*M*M*r[l+5]+M*M*M*r[l+7];
t.push(P,m);if(l+Q!=0){var c=P-a,J=m-D;f.push(f[f.length-1]+Math.sqrt(c*c+J*J));p.push((l>>>3)+M)}a=P;
D=m}}var N=f.length,i=f[N-1],e=aM.SG(A[0]%z,p),X=aM.SG(A[1]%z,p),$=f[e%N],O=f[X%N];if($>=O)O+=i;return[t,p,f,i,$,O]};
aM.SG=function(s,N){var l=0;while(N[l]<s)l++;return l};aM.a9_=function(s,N){var r=0,l=0,S,z,A;while(r<N){S=s[l+2]-s[l];
z=s[l+3]-s[l+1];A=Math.sqrt(S*S+z*z);r+=A;l+=2}return[s[l],s[l+1],S/A,z/A]};aM.prototype.a1F=function(s){return this.GN[s]};
aM.prototype.a61=function(s){for(var N=0;N<this.M7.length;N++){var r=this.M7[N];for(var S=0;S<r.Z1.length;
S++){var z=r.Z1[S],A=r.mm[z.start].start,B=r.mm[z.end-1].end;if(A<s&&s<B)return[A,B-1]}}return[0,1]};
aM.prototype.aoU=function(s,N){var r=-1,S=this.M7;if(this.fW==2){var z=1e9,A=0,B=S[0],Y=B.Z1[0];for(var t=Y.start;
t<Y.end;t++){var p=B.mm[t];for(var f=p.og;f<=p.eb;f++){var a=B.US[f],D=a.Ge.G,c=s.x-a.l7.x,J=s.y-a.l7.y,Z=c*c+J*J;
if(Z<z){z=Z;A=a.KO}}}if(A!=0&&this.axb.codePointAt(A-1)>65535)A--;return A}for(var Q=0;Q<S.length;Q++){var B=S[Q];
for(var M=0;M<B.Z1.length;M++){r++;var Y=B.Z1[M],u=B.Z1[M+1];if(u==null&&Q<S.length-1)u=S[Q+1].Z1[0];
if(N!=null){if(r!=N)continue}else{if(u!=null&&B.l7.y+Y.l7.y<s.y)continue}for(var t=Y.start;t<Y.end;t++){var p=B.mm[t];
for(var f=p.og;f<=p.eb;f++){var a=B.US[f],D=a.Ge.G,P=B.l7.x+Y.l7.x+p.l7.x,m=P+a.l7.x,i=P+(f<p.eb?B.US[f+1].l7.x:a.l7.x+D);
if(s.x<=i||t+1==Y.end&&f==p.eb){var e=B.apb+a.KO,X=this.GN[e],$=X.nz&1;if(X.e1!="\n"&&($==0&&s.x>m+D/2||$==1&&s.x<m+D/2))e+=this.axb.codePointAt(e)>65535?2:1;
return e}}}}}};aM.prototype.QF=function(s){var N={Ge:new hq,Ks:0},r=0;for(var S=0;S<this.M7.length;S++){var z=this.M7[S];
for(var A=0;A<z.Z1.length;A++){var B=z.Z1[A];N.Ks=r;r++;for(var Y=B.start;Y<B.end;Y++){var t=z.mm[Y];
for(var p=t.start;p<t.end;p++){if(p==s){var f=this.GN[p],a=f.sH,D=z.US[a].KO,c=1;while(z.US[a]!=null&&z.US[a].KO==D){var J=z.US[a],Z=z.l7.x+B.l7.x+t.l7.x+J.l7.x,Q=z.l7.y+B.l7.y+t.l7.y+J.l7.y;
N.Ge=N.Ge.Ms(new hq(Z,Q-f.lineHeight,J.Ge.G,f.lineHeight));N.hw=J.hw;a+=c}return N}}}}}};aM.prototype.qh=function(){var s=Infinity,N=Infinity,r=-Infinity,S=-Infinity;
for(var l=0;l<this.M7.length;l++){var z=this.M7[l];for(var A=0;A<z.Z1.length;A++){var B=z.Z1[A];if(!B.v1)break;
for(var Y=B.start;Y<B.end;Y++){var t=z.mm[Y];for(var p=t.og;p<=t.eb;p++){var f=z.US[p],a=f.Ge,D=z.l7.x+B.l7.x+t.l7.x+f.l7.x,c=z.l7.y+B.l7.y+t.l7.y+f.l7.y;
s=Math.min(s,D+a.x);N=Math.min(N,c+a.y);r=Math.max(r,D+a.x+a.G);S=Math.max(S,c+a.y+a.n)}}}}return new hq(s,N,r-s,S-N)};
aM.xx=function(s){return 19968<=s&&s<=40959||12288<=s&&s<=12543};aM.aoH=function(s,N,r,S,z,A,B){var Y=[A],p=0;
for(var l=A;l<B;l++){if(r[l]==null)console.log(l,A,B,r);var f=r[l].e1,a=f.charCodeAt(0);if(a==32||a==9){Y.push(p,l,1,l+1);
p=0}else if(a==3851){Y.push(p+1,l+1);p=0}else if(aM.xx(a)){Y.push(p,l);p=1}else if(l!=A&&r[l].nz!=r[l-1].nz){Y.push(p,l);
p=1}else p++}Y.push(p);var D=[];for(var l=0;l<Y.length;l+=2){var c=Y[l],J=Y[l+1];if(J==0)continue;D.push(new aM.aof(s,N,r,S,z,c,J))}return D};
aM.a4E=function(s,N,r,S,z,A,B){var Y=[0,N?N.G:1e9],t=[];if(S){var p=s[A].i1,f=z+(z==0?p:s[A].lineHeight),a=f-p*.9,D=q.g.wM(S[0],a),c=D.length,J=q.g.wM(S[0],f),Z=J.length;
if(c!=0&&Z!=0){var Q=0,M=0;Y=[];while(Q<c&&M<Z){var u=Math.max(D[Q],J[M]),P=D[Q+1],m=J[M+1],i=Math.min(P,m);
if(u<i)Y.push(u,i);if(P<m)Q+=2;else M+=2}}}for(var e=0;e<Y.length;e+=2){var X=0,$=A,O=N?Y[e+1]-Y[e]-r.StartIndent-r.EndIndent-(A==0?r.FirstLineIndent:0):Infinity;
while(A!=s.length){var T=s[A],b=X==0||(T.Oe||T.Ya)||X+T.Ge.G<O;if(!b)break;X+=T.Ge.G;A++}t.push(A-$)}B[0]=t;
B[1]=Y;B[2]=A};aM.aqD=function(s,N){var r=s.length,S=new Uint32Array(r),z=new Uint8Array(r),A=0;for(var l=0;
l<r;l++){z[l]=0;var B=s.charCodeAt(l);S[l]=B;if(B>A)A=B}if(A>1424)z=aM.a5d(S,N);return z};aM.aeM=function(s){return s=="\xDF"?s:s.toUpperCase()};
aM.rt=function(s,N,r,S,z,A,B){this.mm=[];this.Z1=[];this.l7=new cR(0,0);this.US=null;this.mm=null;this.Z$=en.at1(s,S);
var Y=this.Z$,D=0,Z="",m=0,i=1,v=0;if(S!=0){var p=Y.SpaceBefore;if(p!=null)A[0]+=p}var f=s.EngineDict.ParagraphRun.RunLengthArray,a=f[S];
for(var l=0;l<S;l++)D+=f[l];var c=Y._Direction?Y._Direction:0;this.apb=D;var J=en.RS(s).slice(D,D+a);
for(var Q=0;Q<J.length;Q++){var M=J.charAt(Q);Z+=r[D+Q].Z$.FontCaps==0?M:aM.aeM(M)}J=Z;var u=aM.aqD(J,c),P=[],e=u[l]&1,X=r[D].Bg;
r[D].nz=u[0];for(var l=1;l<J.length;l++){var M=r[D+l],$=u[l];M.nz=$;if($!=e||M.Bg!=X){P.push(m,i);m=l;
i=1;e=$;X=M.Bg}else i++}P.push(m,i);var O=this.US=[];for(var l=0;l<P.length;l+=2){var T=P[l],b=P[l+1],R=(r[D+T].nz&1)==0,w=J.slice(T,T+b),F=Typr.U.shapeHB(r[D+T].Bg,w,R),L=[],n=0;
for(var Q=0;Q<F.length;Q++){var x=F[Q];L.push({A:x.g,KO:x.cl,f_:x.ax,FX:x.ay,ig:x.dx,j2:x.dy})}F=L;var g=F.slice(0);
if(!R)g.reverse();for(var Q=0;Q<w.length;Q++){while(n+1<g.length&&g[n+1].KO<=Q){n++}while(n>0&&g[n-1].KO==Q)n--;
r[D+T+Q].sH=O.length+(R?n:g.length-n-1)}for(var Q=0;Q<F.length;Q++){O.push(F[Q]);F[Q].KO+=T;var M=r[D+F[Q].KO];
if(M.Mo!=-1){F[Q].A=M.Mo;var h=M.Bg.hmtx;if(h){var _=Object.keys(h)[0];F[Q].f_=h[_][M.Mo]}}if(M.e1=="\n")F[Q].f_=0;
if(M.e1=="\t")F[Q].f_=M.Bg.head.unitsPerEm*36/M.Z$.FontSize}}var H=en.m$(Y),G=this.mm=aM.aoH(s,N,r,D,O,D,D+a),j=this.Z1,C=-1,Z=[null,null,0];
while(v<G.length){aM.a4E(G,z,Y,B,A[0],v,Z);C++;var E={start:v,end:0,Ge:new hq,l7:new cR(0,0),v1:!0},jj=0,jC=0;
j.push(E);E.end=Z[2];var I=E.end==G.length;function dJ(g,T,iv){var bI=iv-T>>>1;for(var l=0;l<bI;l++){var jo=g[T+l];
g[T+l]=g[iv-1-l];g[iv-1-l]=jo}}for(var fG=1;fG<5;fG++){var o=-1;for(var l=E.start;l<E.end;l++){var $=r[G[l].start].nz;
if(o==-1&&$>=fG)o=l;else if(o!=-1&&$<fG){dJ(G,o,l);o=-1}}var i4=E.end;if(c==0&&G[i4-1].Oe)i4--;if(o!=-1)dJ(G,o,i4)}var df=Z[0],eO=Z[1],o=v,cO=v;
for(var ej=0;ej<df.length;ej+=2){var cn=z?eO[ej+1]-eO[ej]-Y.StartIndent-Y.EndIndent-(v==0?Y.FirstLineIndent:0):Infinity,j5=0;
o=cO;cO+=df[ej];var gP=this.aay(o,cO,G,c,z!=null);if(z){if(H==1||I&&H==4)j5=gP[1]+(cn-gP[0]);if(H==2||I&&H==5)j5=gP[1]+(cn-gP[0])/2;
if(C==0)j5+=Y.FirstLineIndent;j5+=Y.StartIndent}else{if(H==0)j5=Y.StartIndent+Y.FirstLineIndent;if(H==1)j5=-gP[0]-Y.EndIndent;
if(H==2)j5=-gP[0]/2}j5+=eO[ej];if(z&&H>2&&(H==6||!I))this.amF(o,cO,G,cn,c,j5);else{var bY=j5;for(var l=o;
l<cO;l++){var gR=G[l],c3=gR.Ge.G;gR.l7.x=bY;if(gR.c1=="\t")c3=Math.ceil((bY+4)/36)*36-bY;bY+=c3}}}v=E.end;
for(var l=E.start;l<E.end;l++){var kf=G[l].Ge.clone();kf.WG(G[l].l7);E.Ge=E.Ge.Ms(kf);jj=Math.max(jj,G[l].i1);
jC=Math.max(jC,G[l].lineHeight)}E.l7.y=C==0?0:j[C-1].l7.y+jC;if(C==0){if(S==0&&z)A[0]+=jj;if(S!=0)A[0]+=jC;
this.l7.y=A[0]}else A[0]+=jC;if(z)E.v1=this.l7.y+E.l7.y<z.y+z.n}var bz=Y.SpaceAfter;if(bz!=null)A[0]+=bz};
aM.rt.prototype.aay=function(s,N,r,S,z){var A=0,B=0;for(var l=s;l<N;l++)A+=r[l].Ge.G;if(z){if(S==0)for(var l=N-1;
l>=s;l--)if(r[l].Oe||r[l].Ya)A-=r[l].Ge.G;else break;if(S==1)for(var l=s;l<N;l++)if(r[l].Oe||r[l].Ya){var Y=r[l].Ge.G;
A-=Y;B-=Y}else break}return[A,B]};aM.rt.prototype.amF=function(s,N,r,S,z,A){var B=0,Y=0,t=0,p=0;for(var l=s;
l<N;l++)if(r[l].Oe)t++;else{B+=r[l].Ge.G;Y++}if(z==0)for(var l=N-1;l>=s;l--)if(r[l].Oe||r[l].Ya){if(r[l].Oe){t--}}else break;
if(z==1)for(var l=s;l<N;l++)if(r[l].Oe||r[l].Ya){if(r[l].Oe){t--;p++}}else break;if(Y<=1||t==0){if(Y==1)r[s].l7.x=A;
return}var f=(S-B)/t,a=-p*f;for(var l=s;l<N;l++){if(r[l].Oe)this.US[r[l].og].Ge.G=r[l].Ge.G=f;r[l].l7.x=A+a;
a+=r[l].Ge.G}};aM.aof=function(s,N,r,S,z,A,B){this.c1="";for(var l=0;l<B;l++)this.c1+=r[A+l].e1;this.Oe=B==1&&(r[A].e1==" "||r[A].e1=="\t");
this.Ya=B==1&&r[A].e1=="\n";this.start=A;this.end=A+B;this.Ge=new hq;this.l7=new cR(0,0);this.i1=0;this.lineHeight=0;
var Y=0,p=0;if(B==0){this.lineHeight=r[A].lineHeight;this.i1=r[A].i1;this.Ge=new hq(0,-r[A].lineHeight,0,r[A].lineHeight)}var f=r[A].sH,a=r[A+B-1].sH;
if(a<f){var D=f;f=a;a=D}while(a+1<z.length&&z[a].KO==z[a+1].KO){a++}this.og=f;this.eb=a;for(var c=f;
c<=a;c++){var J=z[c],Z=r[S+J.KO],Q=s._LineOrientation==2&&(Z.Z$.BaselineDirection!=2||aM.xx(Z.e1.charCodeAt(0))),M=Typr.U.glyphToPath(Z.Bg,J.A),e=0;
J.path={F:M.cmds,v:M.crds};var u=Z.Z$.FontSize,P=1/Z.Bg.head.unitsPerEm*u;if(!Z.Z$.AutoKerning)Y+=Z.Z$.Kerning*2*P*Z.scale.x;
J.l7=new cR(Y,0);J.hw=0;if(Q&&J.path.v.length>0){J.hw=-Math.PI/2;J.l7.x+=u*.83;J.l7.y=-u*.3+J.f_*P/2;
J.f_=u/P}var m=J.f_*P*Z.scale.x;J.Ge=new hq(0,-Z.lineHeight,m,Z.lineHeight);var i=J.Ge.clone();i.WG(J.l7);
if(Z.Z$.Tracking!=null)e=Z.Z$.Tracking*.001*u;if(Z.Z$.FauxBold==!0)e+=.027*u;Y+=m+e;if(B==1&&Z.e1==" ")i.G+=2*e;
else if(B==1&&Z.e1!=null&&aM.xx(Z.e1.charCodeAt(0)))i.G+=e;this.Ge=this.Ge.Ms(i);this.i1=Math.max(this.i1,Z.i1);
this.lineHeight=Math.max(this.lineHeight,Z.lineHeight)}};aM.ek=0;aM.apm=function(s){if(aM.ek==2)return!0;
if(aM.ek==1)return!1;aM.ek=1;function N(){fetch("code/ext/fribidi.wasm").then(function(r){return r.arrayBuffer()}).then(function(r){return WebAssembly.instantiate(r)}).then(function(r){var S=r.instance.exports,z=S.memory,A=16,B=256,Y=1,t=A|B,p=A|B|Y;
aM.a5d=function(a,D){var c=a.length,J=c*4+4+c*4+c*4+c;hg.$I(S,J+c+1e7);var Z=new Uint8Array(z.buffer),Q=new Uint32Array(z.buffer),M=S.calloc(J,1),u=M+c*4,P=u+4,m=P+c*4,i=m+c*4;
Q.set(a,M>>>2);Q[u>>>2]=D==0?t:p;S.fribidi_get_bidi_types(M,c,P);S.fribidi_get_bracket_types(M,c,P,m);
S.fribidi_get_par_embedding_levels_ex(P,m,c,u,i);var e=Z.slice(i,i+c);S.free(M);return e};aM.ek=2;var f=new hU(k.E.Y,!0);
f.data={d:k.s.Jl,V8:"add",LS:eq.Bw,lz:null};s.c(f)})}Typr.U.initHB("code/ext/hb.wasm",N);return!1};function en(){}en.s3=function(s){return JSON.parse(JSON.stringify(s))};
en.b1=function(s,N){for(var r in N)s[r]=N[r]};en.iE=function(s,N,r){var S=en.a97();if(r)en.Z6(S,0,0,r);
var z={D:new gF(1,0,0,1,Math.round(s),Math.round(N)),pg:S};z.Ol=en.a6H();z.Yd=q.Wx.m();z.Kr=new hq;return z};
en.ahM=function(s){var N=["CharacterDirection",0];for(var l=0;l<N.length;l+=2){if(s[N[l]]!=null&&s[N[l]]!=N[l+1]){throw"e";
console.log(N[l],s[N[l]])}}if(s instanceof Array)for(var l=0;l<s.length;l++)en.ahM(s[l]);else if(s instanceof Object)for(var r in s)en.ahM(s[r])};
en.m$=function(s,N){if(N==null)N=s.Justification;var r=s._Direction?s._Direction:0;if(r==1){if(N==0||N==3)N++;
else if(N==1||N==4)N--}return N};en.FS=function(s){if(s.add==null)return;var N=s.pg,r=N.Curve,S=s.add.vmsk,z=S._,A=q.g.Xl(z,!0).v,B=s.D.clone();
B.dm();q.g.D(A,B,A);var Y=A.slice(0,8);for(var p=8;p<A.length;p+=6)Y.push(A[p-2],A[p-1],A[p],A[p+1],A[p+2],A[p+3],A[p+4],A[p+5]);
r.Points=Y;r.TextOnPathTRange=S.Ig.slice(0);r.Reversed=S.tf;if(en.E0(N)==1){var r=aM.Y8(N.Curve),f=q.g.OH(r[0]);
en.EU(N,[0,0,f.G,f.n].map(Math.round));for(var l=0;l<Y.length;l+=2){Y[l]-=f.x;Y[l+1]-=f.y}var a=new gF(1,0,0,1,f.x,f.y);
a.concat(s.D);s.D=a}};en.$E=function(s){if(s.add==null)return;var N=s.add.vmsk,r=s.pg.Curve,S=r.Points,z={F:["M"],v:[S[0],S[1]]};
for(var l=0;l<S.length;l+=8){z.F.push("C");z.v.push(S[l+2],S[l+3],S[l+4],S[l+5],S[l+6],S[l+7])}q.g.D(z.v,s.D,z.v);
var A=q.g.m0(z,!0);N._=A;N.tf=r.Reversed;N.Ig=r.TextOnPathTRange.slice(0);s.add.vogk=y.dn(A)};en.iy=function(s){var N={w:0,A:0,U:0};
if(s){var r=s.Values;if(s.Type==1)N={w:r[1]*255,A:r[2]*255,U:r[3]*255};else if(s.Type==2){var S={classID:"CMYC",Cyn:{t:"doub",v:r[1]*100},Mgnt:{t:"doub",v:r[2]*100},Ylw:{t:"doub",v:r[3]*100},Blck:{t:"doub",v:r[4]*100}};
N=q.i.iy(S)}else console.log("Unknown color type")}return N};en.auf=function(s){for(var l=0;l<s.length;
l++){var N=s[l].StyleSheet.StyleSheetData,r=N.FillColor;if(r&&r.Type==2){var S=en.iy(r);r.Type=1;r.Values=[1,S.w/255,S.A/255,S.U/255]}}};
en.dy=function(s,N){var r;if(en.E0(s.pg)==1){var S=en.Dt(s.pg);r=new hq(0,0,S[2]-S[0],S[3]-S[1])}else{r=N.qh();
if(N._O){var z=N._O.clone(),A=q.g.w2(r);q.g.D(A.v,z,A.v);r=q.g.OH(A.v)}}return r};en.kU=function(s){var N=s[0];
for(var l=0;l<s.length;l++)N=en.arK(N,s[l]);return N};en.arK=function(s,N){var r={};for(var S in s)if(JSON.stringify(s[S])==JSON.stringify(N[S]))r[S]=s[S];
return r};en._E=function(s,N){var r=s.H4,S=-1;for(var l=0;l<r.length;l++)if(r[l].Name==N)S=l;if(S==-1){S=r.length;
r.push({FontType:1,Name:N,Script:0,Synthetic:0})}s.GN.Font=S};en.RS=function(s){return s.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
en.hO=function(s,N){s.EngineDict.Editor.Text=N.replace(/\n/g,"\r")};en.E0=function(s){return s.Curve&&s.Curve.TextOnPathTRange[0]>=0?2:s.EngineDict.Rendered.Shapes.Children[0].ShapeType};
en.WR=function(s,N){var r=s.EngineDict.Rendered.Shapes.Children[0];r.ShapeType=N;var S=r.Cookie.Photoshop;
S.ShapeType=N;S.Base.ShapeType=N;if(N==0){delete S.BoxBounds;S.PointBase=[0,0]}if(N==1){delete S.PointBase;
S.BoxBounds=[0,0,1,1]}};en.Dt=function(s){return s.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
en.EU=function(s,N){s.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=N};en.aty=function(s,N){var r=s.EngineDict.AlternateGlyphRun;
if(r==null)return-1;var S=en.Ji(r.RunLengthArray,N).o1,z=r.RunArray[S].Glyph;return z==null?-1:z};en.aaf=function(s,N,r){var S=s.EngineDict.AlternateGlyphRun;
if(S==null){S=s.EngineDict.AlternateGlyphRun=en.a58();S.RunArray.push({});S.RunLengthArray.push(en.RS(s).length)}var z=en.Ji(S.RunLengthArray,N),A=z.o1,B=N-z.aY,Y=S.RunArray[A],p=JSON.stringify(Y),f=S.RunLengthArray[A];
if(B!=0){S.RunArray.splice(A,0,JSON.parse(p));S.RunLengthArray.splice(A,0,B);S.RunLengthArray[A+1]-=B;
A++;f-=B;B=0}if(f!=1){S.RunArray.splice(A+1,0,JSON.parse(p));S.RunLengthArray.splice(A+1,0,f-1);S.RunLengthArray[A]=1;
f=1}Y.Glyph=r};en.arS=function(s,N){var r=s.EngineDict.StyleRun.RunLengthArray;return en.Ji(r,N).o1};
en.an6=function(s,N){var r=s.ResourceDict.StyleSheetSet[0].StyleSheetData,S={};for(var z in r)S[z]=r[z];
var A=s.EngineDict.StyleRun.RunArray[N].StyleSheet.StyleSheetData;en.b1(S,A);return S};en.akd=function(s,N){var r=s.EngineDict.ParagraphRun.RunLengthArray;
return en.Ji(r,N).o1};en.at1=function(s,N){var r=s.ResourceDict.ParagraphSheetSet[0].Properties,S={};
for(var z in r)S[z]=r[z];var A=s.EngineDict.ParagraphRun.RunArray[N].ParagraphSheet.Properties;en.b1(S,A);
var B=["StartIndent","EndIndent","FirstLineIndent"];for(var l=0;l<3;l++)if(S[B[l]]==null)S[B[l]]=0;return S};
en.Bx=function(s,N,r){if(r=="")return;var S=en.RS(s);en.hO(s,S.substring(0,N)+r+S.substring(N,S.length));
var z=s.EngineDict.StyleRun,A=z.RunLengthArray,B=en.Ji(A,N-1);A[B.o1]+=r.length;var Y=s.EngineDict.AlternateGlyphRun;
if(Y){var A=Y.RunLengthArray,B=en.Ji(A,N-1);A[B.o1]+=r.length}var p=s.EngineDict.ParagraphRun,A=p.RunLengthArray,f=en.Ji(A,N),a=r.split("\n");
if(a.length==1){A[f.o1]+=r.length;return}A.splice(f.o1+1,0,A[f.o1]-(N-f.aY));p.RunArray.splice(f.o1+1,0,en.s3(p.RunArray[f.o1]));
A[f.o1]-=A[f.o1+1];A[f.o1]+=a[0].length+1;for(var l=1;l<a.length-1;l++){p.RunArray.splice(f.o1+l,0,en.s3(p.RunArray[f.o1+l-1]));
p.RunLengthArray.splice(f.o1+l,0,a[l].length+1)}A[f.o1+a.length-1]+=a[a.length-1].length};en.oF=function(s,N,r){var S=en.RS(s);
en.hO(s,S.substring(0,N)+S.substring(r,S.length));en.Tc(s.EngineDict.ParagraphRun,N,r,!0);en.Tc(s.EngineDict.StyleRun,N,r,!1);
var z=s.EngineDict.AlternateGlyphRun;if(z)en.Tc(z,N,r,!1)};en.Tc=function(s,N,r,S){var z=s.RunLengthArray,A=en.Ji(z,N),B=en.Ji(z,r),Y=[];
for(var l=0;l<z.length;l++)for(var t=0;t<z[l];t++)Y.push(l);Y.splice(N,r-N);var p=[];for(var l=0;l<z.length;
l++)p.push(0);for(var l=0;l<Y.length;l++)p[Y[l]]++;for(var l=0;l<z.length;l++){if(p[l]==0){p.splice(l,1);
z.splice(l,1);s.RunArray.splice(l,1);l--}else if(p[l]<z[l])z[l]=p[l]}if(S&&A.o1!=B.o1&&A.aY!=N){z[A.o1]+=z[A.o1+1];
z.splice(A.o1+1,1);s.RunArray.splice(A.o1+1,1)}};en.Z6=function(s,N,r,S){var z=s.EngineDict.Editor.Text.length;
if(r==z-2)r++;if(S.GN.Font!=null)s.ResourceDict.FontSet=S.H4.slice(0);if(N<=r)en.ajh(s.EngineDict.StyleRun,S.GN,N,r,!0);
en.ajh(s.EngineDict.ParagraphRun,S.M7,N,r,!1)};en.hM=function(s,N,r){var S={H4:s.ResourceDict.FontSet.slice(0),GN:[],M7:[]},z=s.EngineDict.StyleRun.RunLengthArray,A=en.Ji(z,N).o1,B=en.Ji(z,r).o1;
for(var l=A;l<=B;l++){var Y=en.s3(s.ResourceDict.StyleSheetSet[0].StyleSheetData),p=s.EngineDict.StyleRun.RunArray;
if(p.length==0)continue;var f=p[l].StyleSheet.StyleSheetData;en.b1(Y,f);S.GN.push(Y)}var a=s.EngineDict.ParagraphRun.RunLengthArray,D=en.Ji(a,N).o1,c=en.Ji(a,r).o1;
for(var l=D;l<=c;l++){var J=s.EngineDict.ParagraphRun.RunArray;if(J.length==0)continue;S.M7.push(en.s3(J[l].ParagraphSheet.Properties))}S.GN=S.GN.length==0?{}:en.kU(S.GN);
S.M7=S.M7.length==0?{}:en.kU(S.M7);return S};en.ajh=function(s,N,r,S,z){var A=s.RunLengthArray;if(z){var B=en.Ji(A,r);
if(B.aY!=r){var Y=A[B.o1];A.splice(B.o1,0,r-B.aY);A[B.o1+1]=Y-A[B.o1];s.RunArray.splice(B.o1+1,0,en.s3(s.RunArray[B.o1]))}var t=en.Ji(A,S);
if(t.aY+A[t.o1]-1!=S){var Y=A[t.o1];A.splice(t.o1,0,S-t.aY+1);A[t.o1+1]=Y-A[t.o1];s.RunArray.splice(t.o1+1,0,en.s3(s.RunArray[t.o1]))}}var B=en.Ji(A,r),t=en.Ji(A,S);
if(z)for(var l=B.o1;l<=t.o1;l++)en.b1(s.RunArray[l].StyleSheet.StyleSheetData,N);else for(var l=B.o1;
l<=t.o1;l++)en.b1(s.RunArray[l].ParagraphSheet.Properties,N)};en.a2_=function(s,N,r){var S=s.EngineDict.StyleRun.RunLengthArray,z=[],A=0;
for(var l=0;l<S.length;l++){var B=S[l];for(var Y=0;Y<B;Y++)if(N<=A+Y&&A+Y<r)z.push(l);A+=B}var p=z[0],f=[];
for(var l=0;l<z.length;l++){var a=z[l]-p;if(a==f.length)f.push(0);f[a]++}return f};en.amM=function(s){var N=s.EngineDict.StyleRun,r=N.RunArray,S=N.RunLengthArray;
for(var l=0;l<S.length-1;l++){var z=r[l].StyleSheet.StyleSheetData,A=r[l+1].StyleSheet.StyleSheetData;
if(JSON.stringify(z)==JSON.stringify(A)){r.splice(l+1,1);S[l]+=S[l+1];S.splice(l+1,1);l--}}};en.AW=function(s){var N=s.Ol.AntA.v.Annt;
N=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(N);if(N==-1)N=1;return N};en.tX=function(s,N){s.Ol.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][N]};
en.jw=function(s,N){var r,S;r=["FontSize","Leading","BaselineShift"];S=s.GN;for(var l=0;l<r.length;l++)if(S[r[l]]!=null)S[r[l]]*=N;
r=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];S=s.M7;for(var l=0;l<r.length;
l++)if(S[r[l]]!=null)S[r[l]]*=N};en.ap6=function(){return en.hM(en.abU,0,0)};en.a6H=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
en.Ji=function(s,N){var r=0,l=0;while(r+s[l]<=N){r+=s[l];l++}return{o1:l,aY:r}};en.a97=function(){var s=en.s3(this.abU);
return s};en.ajg=function(s,N){var r=N.M7};en.a3w=function(s,N){var r=N.GN,S;S=s.Undl;if(S&&S.v.Undl=="underlineOnLeftInVertical")r.Underline=!0;
S=s.syntheticItalic;if(S)r.FauxItalic=S.v};en.afA={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
en.apo={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
en.a58=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};en.abU={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(en.afA))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(en.afA))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(en.apo))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var hP={};hP.a9v=function(s){var N=hP.a3S(s._0,s._1);hP.ale(N,s._0);return N};hP.a7Q=function(s,N,r){var S={};
S._98={_0:"i7"};S._0=hP.avi(s,N,r?r._0:null);S._1=hP.auS(s,N,S._0,r?r._1:null);return S};hP.avi=function(s,N,r){var S={};
S._1=hP.apK(s,r?r._1:null);S._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};S._3=JSON.parse(JSON.stringify(hP.apz));
S._4=JSON.parse(JSON.stringify(hP.avu));S._5=hP.atW(s,S._1._0,r?r._5:null);S._6=hP.aoe(s,r?r._6:null);
S._8=hP.avN(s,N,r?r._8:null);S._9=hP.aoB;return S};hP.ale=function(s,N){hP.ahH(s,N._5,N._1._0)};hP.apK=function(s,N){var r=[],S=[];
for(var l=0;l<s.length;l++){var z=s[l].ResourceDict.FontSet;for(var A=0;A<z.length;A++){var B=z[A];if(S.indexOf(B.Name)!=-1)continue;
r.push(B);S.push(B.Name)}}var Y={_0:[]};for(var l=0;l<r.length;l++){var t=r[l],p={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+t.Name,_1:"i"+t.Script,_2:"i"+t.FontType}}};
if(t.Script==0)delete p._0._0._1;Y._0.push(p)}return Y};hP.atW=function(s,N,r){var S={_0:[],_1:[]},z={_0:JSON.parse(JSON.stringify(hP.ah4))};
hP.afW(z._0,s[0].ResourceDict.StyleSheetSet[0],N,s[0].ResourceDict.FontSet);S._0.push(z);S._1.push({_0:"i0"});
S._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});S._1.push({_0:"i1"});return S};hP.ahH=function(s,N,r){var S=N._0[0];
for(var l=0;l<s.length;l++)hP.auW(S._0,s[l].ResourceDict.StyleSheetSet[0],r,s[l].ResourceDict.FontSet)};
hP.aoe=function(s,N){var r={_0:[],_1:[]},S={_0:JSON.parse(JSON.stringify(hP._U))};hP.JO(S._0,s[0].ResourceDict.ParagraphSheetSet[0]);
r._0.push(S);r._1.push({_0:"i0"});S={_0:JSON.parse(JSON.stringify(hP._U))};hP.JO(S._0,s[0].ResourceDict.ParagraphSheetSet[0]);
S._0._0="sBasic Paragraph";S._0._6="i0";r._0.push(S);r._1.push({_0:"i1"});return r};hP.avN=function(s,N,r){var S={_0:[]};
for(var l=0;l<s.length;l++){var z=s[l].Curve,A={};S._0.push({_0:A});var B=en.E0(s[l]);A._2={};A._2._0="i"+B;
if(s[l]._LineOrientation==2)A._2._1="i2";if(B==0){A._2._6=["f-1","f-1"];A._2._11={_4:"i-1",_7:!1}}else if(B==1&&z==null){var Y=en.Dt(s[l]),t=Y[2],p=Y[3];
A._1={_0:hP.jU("f",[0,0,0,0,t,0,t,0,t,0,t,0,t,p,t,p,t,p,t,p,0,p,0,p,0,p,0,p,0,0,0,0])};A._2._6=["f-2","f-2"];
A._2._11={_4:"i-2",_7:!1}}else if(B==1){var Y=en.Dt(s[l]),t=Y[2],p=Y[3];A._1={_0:hP.jU("f",z.Points)};
A._2._6=["f-3","f-3"];A._2._11={_4:"i-3",_7:!1}}else if(B==2){A._1={_0:hP.jU("f",z.Points)};A._2._6=hP.jU("f",z.TextOnPathTRange);
A._2._11={_0:z.Reversed,_3:"i0",_5:"f0",_7:!1}}}return S};hP.auS=function(s,N,r,S){var z={};z._0=JSON.parse(JSON.stringify(hP.au4));
z._1=hP.a1I(s,N,r,S?S._1:null);z._2=JSON.parse(JSON.stringify(hP.ah4._6));z._3=JSON.parse(JSON.stringify(hP._U._5));
return z};hP.a3S=function(s,N){return hP.a7j(s,N._1)};hP.a1I=function(s,N,r,S){var z=[],A=r._1._0;for(var l=0;
l<s.length;l++){var B=s[l],Y={_0:{}};z.push(Y);Y._0._0="s"+B.EngineDict.Editor.Text;Y._0._0=Y._0._0;
var p=Y._0._5={_0:[]},f=B.EngineDict.ParagraphRun;for(var a=0;a<f.RunArray.length;a++){var D={_0:{}};
p._0.push(D);D._0._0={_0:"s",_5:{},_6:"i1"};hP.JO(D._0._0,f.RunArray[a].ParagraphSheet);D._1="i"+f.RunLengthArray[a]}var c=Y._0._6={_0:[]};
f=B.EngineDict.StyleRun;for(var a=0;a<f.RunArray.length;a++){var J={_0:{}};c._0.push(J);J._0._0={_0:"s",_5:"i1",_6:{}};
hP.afW(J._0._0,f.RunArray[a].StyleSheet,A,B.ResourceDict.FontSet);J._1="i"+f.RunLengthArray[a]}f=B.EngineDict.AlternateGlyphRun;
if(f){var Z=Y._0._9={_0:[]};for(var a=0;a<f.RunArray.length;a++){var Q={_0:{}};Z._0.push(Q);var M=f.RunArray[a];
if(M.Glyph!=null){Q._0._0={_0:"i"+M.Glyph,_1:"e"}}Q._1="i"+f.RunLengthArray[a]}}Y._0._10={_0:"i4",_2:!0};
Y._1=hP.view.aw8(B,null,l,null)}return z};hP.a7j=function(s,N){var r=[],S=s._1._0;for(var l=0;l<N.length;
l++){var z=en.a97();r.push(z);var A=N[l];z.EngineDict.Editor.Text=A._0._0.slice(1);var B=z.EngineDict.ParagraphRun.RunArray[0],Y=z.EngineDict.ParagraphRun,p=A._0._5;
if(p)for(var f=0;f<p._0.length;f++){var a=p._0[f];Y.RunLengthArray[f]=parseInt(a._1.slice(1));Y.RunArray[f]=JSON.parse(JSON.stringify(B));
hP.a3N(a._0._0,Y.RunArray[f].ParagraphSheet)}else{Y.RunLengthArray[0]=en.RS(z).length}var D=A._0._6;
Y=z.EngineDict.StyleRun;if(D)for(var f=0;f<D._0.length;f++){var c=D._0[f];Y.RunLengthArray[f]=parseInt(c._1.slice(1));
Y.RunArray[f]={StyleSheet:{StyleSheetData:{}}};hP.auW(c._0._0,Y.RunArray[f].StyleSheet,S,z.ResourceDict.FontSet)}else{Y.RunLengthArray[0]=en.RS(z).length;
Y.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return r};hP.afW=function(s,N,r,S,z){s._0="s"+(N.Name?N.Name:"");
var A=s._6,B=z?z._6:null,Y=N.StyleSheetData;if(Y.Font==null)return;var t=S[Y.Font].Name,p=-1;for(var l=0;
l<r.length;l++)if("s"+t==r[l]._0._0._0){p=l;break}A._0="i"+p;if(Y.FontSize!=null)A._1="f"+Y.FontSize;
if(Y.FauxBold!=null)A._2=Y.FauxBold;if(Y.FauxItalic!=null)A._3=Y.FauxItalic;if(Y.AutoLeading!=null)A._4=Y.AutoLeading;
if(Y.Leading!=null)A._5="f"+Y.Leading;if(Y.HorizontalScale!=null)A._6="f"+Y.HorizontalScale;if(Y.VerticalScale!=null)A._7="f"+Y.VerticalScale;
if(Y.Tracking!=null)A._8="i"+Y.Tracking;if(Y.BaselineShift!=null)A._9="f"+Y.BaselineShift;if(Y.AutoKerning!=null)A._11="i"+(Y.AutoKerning?1:0);
if(Y.FontCaps!=null)A._12="i"+Y.FontCaps;if(Y.FontBaseline!=null)A._13="i"+Y.FontBaseline;if(Y.Strikethrough!=null)A._15="i"+(Y.Strikethrough?1:0);
if(Y.Underline!=null)A._16="i"+(Y.Underline?2:0);if(Y.Ligatures!=null)A._18=Y.Ligatures;if(Y.DLigatures!=null)A._19=Y.DLigatures;
if(Y.BaselineDirection!=null)A._35="i"+Y.BaselineDirection;if(Y.Language!=null)A._38="i"+Y.Language;
if(Y.FillColor!=null)A._53=hP.na(Y.FillColor);if(Y.StrokeColor!=null)A._54=hP.na(Y.StrokeColor);if(Y.FillFlag!=null)A._56=Y.FillFlag;
if(Y.StrokeFlag!=null)A._57=Y.StrokeFlag;if(Y._LineWidth!=null)A._63="f"+Y._LineWidth;if(Y._FillBackgroundColor!=null)A._79=hP.na(Y._FillBackgroundColor);
if(Y._FillBackgroundFlag!=null)A._80=Y._FillBackgroundFlag};hP.na=function(s){return{_99:"/SimplePaint",_0:{_0:"i1",_1:hP.jU("f",s.Values)}}};
hP.auW=function(s,N,r,S){var z=s._6;if(z==null)return;var A=N.StyleSheetData;if(z._0){var B=parseInt(z._0.slice(1)),Y=r[B]._0._0._0.slice(1);
en._E({GN:A,H4:S},Y)}if(z._1!=null)A.FontSize=parseFloat(z._1.slice(1));if(z._2!=null)A.FauxBold=z._2;
if(z._3!=null)A.FauxItalic=z._3;if(z._4!=null)A.AutoLeading=z._4;if(z._5!=null)A.Leading=parseFloat(z._5.slice(1));
if(z._6!=null)A.HorizontalScale=parseFloat(z._6.slice(1));if(z._7!=null)A.VerticalScale=parseFloat(z._7.slice(1));
if(z._8!=null)A.Tracking=parseFloat(z._8.slice(1));if(z._9!=null)A.BaselineShift=parseFloat(z._9.slice(1));
if(z._11!=null)A.AutoKerning=parseFloat(z._11.slice(1))==1;if(z._12!=null)A.FontCaps=parseFloat(z._12.slice(1));
if(z._13!=null)A.FontBaseline=parseFloat(z._13.slice(1));if(z._15!=null)A.Strikethrough=parseFloat(z._15.slice(1))==1;
if(z._16!=null)A.Underline=parseFloat(z._16.slice(1))==1;if(z._18!=null)A.Ligatures=z._18;if(z._19!=null)A.DLigatures=z._19;
if(z._35!=null)A.BaselineDirection=parseFloat(z._35.slice(1));if(z._38!=null)A.Language=parseFloat(z._38.slice(1));
if(z._53!=null)A.FillColor=hP.sZ(z._53);if(z._54!=null)A.StrokeColor=hP.sZ(z._54);if(z._56!=null)A.FillFlag=z._56;
if(z._57!=null)A.StrokeFlag=z._57;if(z._63!=null)A._LineWidth=parseFloat(z._63.slice(1));if(z._79!=null)A._FillBackgroundColor=hP.sZ(z._79);
if(z._80!=null)A._FillBackgroundFlag=z._80};hP.sZ=function(s){var N=s._0._0,r=s._0._1,S=[1,0,0,0],z=[];
for(var l=0;l<r.length;l++)z[l]=parseFloat(r[l].slice(1));if(N=="i0")S[1]=S[2]=S[3]=z[1];else if(N=="i1")S=z;
else if(N=="i2")S=[1].concat(UDOC.C.cmykToRgb(z.slice(1)));else console.log("unknown color type",N,z);
return{Type:1,Values:S}};hP.JO=function(s,N){s._0="s"+(N.Name?N.Name:"");var r=s._5,S=N.Properties;if(S.Justification!=null)r._0="i"+S.Justification;
if(S.FirstLineIndent!=null)r._1="f"+S.FirstLineIndent;if(S.StartIndent!=null)r._2="f"+S.StartIndent;
if(S.EndIndent!=null)r._3="f"+S.EndIndent;if(S.SpaceBefore!=null)r._4="f"+S.SpaceBefore;if(S.SpaceAfter!=null)r._5="f"+S.SpaceAfter;
if(S.AutoLeading!=null)r._7="f"+S.AutoLeading;if(S.AutoHyphenate!=null)r._9=S.AutoHyphenate;if(S._Direction!=null)r._33="i"+S._Direction;
if(S._ComposerEngine!=null)r._35="i"+S._ComposerEngine};hP.a3N=function(s,N){var r=s._5;if(r==null)return;
var S=N.Properties;if(r._0)S.Justification=parseInt(r._0.slice(1))};hP.jU=function(s,N){var r=[];for(var l=0;
l<N.length;l++)r.push(s+N[l]);return r};hP.apz={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
hP.avu={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
hP.ah4={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
hP._U={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
hP.aoB={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
hP.au4={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var dI={};dI.a9z=function(s){return dI.la(s,dI.LH,0)};dI.a2C=function(s){return dI.e9(s,dI.LH)};dI.la=function(s,N,r){var S;
if(typeof s=="string")return s;if(s instanceof Array){S=[];for(var l=0;l<s.length;l++)S[l]=dI.la(s[l],N,r+1)}else{S={};
var z={};for(var A in N){var B=N[A],Y="_"+B[0];if(s[Y]!=null){S[A]=B[1]?dI.la(s[Y],B[1],r+1):s[Y];z[Y]=!0}}for(var A in s){if(z[A]==null){if(A.length>3)continue;
console.log(N,z);console.log(A,s);throw"e"}}}return S};dI.e9=function(s,N){var r;if(typeof s=="string")return s;
else if(s instanceof Array){r=[];for(var l=0;l<s.length;l++)r[l]=dI.e9(s[l],N)}else{r={};var S={};for(var z in N){var A=N[z],B="_"+A[0];
if(s[z]!=null){r[B]=A[1]?dI.e9(s[z],A[1]):s[z];S[z]=!0}}for(var z in s){if(S[z]==null){console.log(N,S);
console.log(z,s);throw"e"}}}return r};dI.Ul={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
dI.ac={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,dI.Ul],_StrokeColor:[54,dI.Ul],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,dI.Ul],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
dI.adK={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,dI.ac],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
dI.a5R={_Name:[0],_Features:[5,dI.adK],_Parent:[6],_UUID:[97]};dI.ax9={_Name:[0],_Parent:[5],_Features:[6,dI.ac],_UUID:[97]};
dI.LH={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,dI.ax9]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,dI.a5R]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,dI.a5R]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,dI.ax9]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,dI.ac],_OriginalNormalParagraphFeatures:[3,dI.adK]}]};
hP.view={};hP.view.aw8=function(s,N,r,S){var z={},A=en.E0(s);z._0=[{_0:"i"+r}];return z};function CSS(){}CSS.adg=function(s,N){var r=s.add,S=r.vmsk,z=r.vstk,A=r.lmfx,B=r.TySh,Y=[],t=CSS.aur(A,r);
if(s.wu()&&S){var p=q.J.Ql(S._);if(!p.Nf()){Y.push("width: "+Math.round(p.G)+"px");Y.push("height: "+Math.round(p.n)+"px")}var f=q.J.agm(S._);
if(f>0)Y.push("border-radius: "+Math.round(f)+"px")}else if(B){var a=B.pg;if(en.E0(a)==1){var p=en.Dt(a);
Y.push("width: "+Math.round(p[2])+"px");Y.push("height: "+Math.round(p[3])+"px")}CSS.aji(Y,en.hM(a,0,0),B.D,!1,!1,t[0])}var D=[],c=A?A.dropShadowMulti.v:0;
for(var l=0;l<c.length;l++){var J=c[l].v;if(J.enab.v){var Z=J.Dstn.v.val,Q=J.lagl.v.val*Math.PI/180;
if(J.uglg&&J.uglg.v)Q=N.sY()*Math.PI/180;var M=Z*Math.cos(Q),u=Z*Math.sin(Q);D.push("drop-shadow("+(M==0?"0 ":CSS.j3(-M)+"px ")+(u==0?"0 ":CSS.j3(u)+"px ")+J.blur.v.val/2+"px "+CSS.zd(J.Clr.v,J.Opct.v.val/100)+")")}}if(D.length!=0)Y.push("filter: "+D.join(" "));
if(B==null)CSS.asH(t,Y);if(z==null||!z.strokeEnabled.v)z=hC.qF(A);if(z&&z.strokeEnabled.v){var P=z.strokeStyleContent.v,m=P.classID,i=jG.iJ.VZ.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType),e=jG.iJ.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType),X=z.strokeStyleOpacity.v.val/100,$=z.strokeStyleLineWidth.v.val,O="";
if(m=="solidColorLayer")O=CSS.zd(P.Clr.v,X);Y.push("border: "+$+"px solid "+O)}return Y};CSS.aur=function(s,N){var r=hC.qi(s,N),S=r[0],z=r[1],A,B;
if(S){A=CSS.zd(S.Clr.v,N.iOpa!=null?N.iOpa/255:1)}else if(z){B=CSS.Fk(z)}return[A,B]};CSS.asH=function(s,N){if(s[0])N.push("background-color: "+s[0]);
if(s[1])N.push("background-image: "+s[1])};CSS.p_={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.j3=function(i3){return""+parseFloat(i3.toFixed(3))};CSS.JG=function(s){if(s==null)return{w:0,A:0,U:0};
var N=s.indexOf("(");if(N!=-1){var r=s.slice(N+1,s.length-1).split(",");for(var l=0;l<r.length;l++){var S=r[l].trim();
r[l]=parseFloat(S)*(S.endsWith("%")?255/100:1)}return{w:r[0],A:r[1],U:r[2]}}if(s.charAt(0)!="#"){var z=CSS.p_;
if(z[s])s=z[s];else console.log("unknown color "+s)}s=s.slice(1);if(s.length==4)s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]+s[3]+s[3];
if(s.length==3)s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2];var A=-1;if(s.length==8){A=parseInt(s.slice(6),16);s=s.slice(0,6)}s=parseInt(s,16);
var B={w:s>>16&255,A:s>>8&255,U:s&255};if(A!=-1)B.aC=A;return B};CSS.zd=function(s,N){return CSS.xQ(q.i.iy(s),N)};
CSS.xQ=function(s,N){if(N==null)N=1;var r=Math.round(s.w),S=Math.round(s.A),z=Math.round(s.U),A=r<<16|S<<8|z;
return N==1?"#"+q.fD(A):"rgba("+r+","+S+","+z+","+N+")"};CSS.Fk=function(s){var N=s.Grad.v;if(N.Clrs==null)return"";
var r=N.Clrs.v.slice(0),S=N.Trns.v.slice(0),z=s.Ofst.v,A=s.Type.v.GrdT=="Rdl"?1:0,B=(A==1?"radial":"linear")+"-gradient",Y=A==0?Math.round(-s.Angl.v.val+90)+"deg":"circle at center",t=s.Rvrs.v;
if(t){r.reverse();S.reverse()}for(var l=0;l<r.length;l++){var p=r[l].v,f=l<S.length?S[l].v.Opct.v.val/100:1,a=p.Lctn.v/4096;
if(t)a=1-a;Y+=", "+CSS.zd(p.Clr.v,f)+" "+Math.round(a*100)+"%"}return B+"("+Y+")"};CSS.aji=function(s,N,r,S,z,A){var B=N.GN,Y=S?1:K.S.S5(r),t=Math.round(B.FontSize*Y);
s.push("font-size: "+t+"px");var p=B.Tracking;if(!S&&p!=null&&p!=0)s.push("letter-spacing: "+Math.round(p*t/1e3)+"px");
if(!B.AutoLeading)s.push("line-height: "+Math.round(B.Leading*Y)+"px");if(B.Strikethrough)s.push("text-decoration: line-through");
if(B.Underline)s.push("text-decoration: underline");var f=en.iy(B.FillColor);f=[f.w,f.A,f.U].map(Math.round);
s.push((S?"fill: ":"color: ")+(A?A:"#"+q.fD(f[0]<<16|f[1]<<8|f[2])));var a=N.H4[B.Font].Name;if(a){var D=gp.$f.y0(a),c="",J=null,Z=null;
if(D!=null&&a!=gp.AP(D))D=null;if(z&&D)c+="\""+a+"\", ";var Q=a.toLowerCase();if(D){J=gp.Cc(D)[0];if(D["OS/2"])Z=D["OS/2"].usWeightClass}else{J=CSS.a3F(a);
if(Q.indexOf("light")!=-1)Z=300;else if(Q.indexOf("medium")!=-1)Z=500;else if(Q.indexOf("black")!=-1||Q.indexOf("extrabold")!=-1)Z=800;
else if(Q.indexOf("bold")!=-1)Z="bold"}if(J!=null)c+="\""+J+"\"";if(Z!=null)s.push("font-weight: "+Z);
if(Q.indexOf("italic")!=-1||Q.indexOf("oblique")!=-1)s.push("font-style: italic");if(c)s.push("font-family: "+c)}var M=N.M7.Justification;
if(M!=null&&M!=0)if(S){}else s.push("text-align: "+["left","right","center"][M%3])};CSS.a3F=function(s){s=s.split("-")[0];
while(s.endsWith("MT")||s.endsWith("PS"))s=s.slice(0,s.length-2);var N=!0;for(var l=0;l<s.length;l++){var r=s.charAt(l);
if(!N&&r.toLowerCase()!=r){s=s.slice(0,l)+" "+s.slice(l);l++;N=!0}else N=!1}return s};function i$(){}i$.nb={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
i$.T9=function(s,N){var r=Date.now(),S;try{S=acorn.parse(s)}catch(eV){console.log(eV);return}var z=JSON.parse(JSON.stringify(i$.c6.Hv));
z.__return=!1;z.__continue=!1;z.__break=!1;z.__throw=!1;z.__fs={};z.__window={};i$.eval(S,N,z);var A=z.__fs;
if(Object.keys(A).length!=0){var B=UZIP.encode(A);fP.save(B,"output.zip")}};i$.eval=function(s,N,r){var S=s.type;
if(!1){}else if(S=="Program"||S=="BlockStatement"){var z=s.body;for(var l=0;l<z.length;l++){var A=z[l].type;
if(A=="FunctionDeclaration")r[z[l].id.name]=z[l]}for(var l=0;l<z.length;l++){var A=z[l].type,B=i$.eval(z[l],N,r);
if(r.__continue){r.__continue=!1;return B}if(r.__return||r.__break||r.__throw)return B}}else if(S=="ReturnStatement"){r.__return=!0;
return s.argument?i$.DB(s.argument,N,r):null}else if(S=="BreakStatement"){r.__break=!0}else if(S=="ContinueStatement"){r.__continue=!0}else if(S=="VariableDeclaration"){var Y=s.declarations;
for(var l=0;l<Y.length;l++)i$.eval(Y[l],N,r)}else if(S=="VariableDeclarator"){r[s.id.name]=s.init?i$.DB(s.init,N,r):null}else if(S=="FunctionDeclaration"){r[s.id.name]=s}else if(S=="MemberExpression"){var t=i$.DB(s.object,N,r),p=s.computed?i$.DB(s.property,N,r):i$.eval(s.property,N,r),B;
if(t.$s!=null)B=i$.c6.tt(t,p,N,r);else if(t==window&&i$.nb[p]){}else B=t[p];return B}else if(S=="ArrayExpression"){var f=[],a=s.elements;
for(var l=0;l<a.length;l++)f.push(i$.DB(a[l],N,r));return f}else if(S=="ObjectExpression"){var f={},a=s.properties;
for(var l=0;l<a.length;l++){var D=a[l],J=a[l].key.name?a[l].key.name:a[l].key.value;f[J]=i$.DB(a[l].value,N,r)}return f}else if(S=="ExpressionStatement"){return i$.eval(s.expression,N,r)}else if(S=="NewExpression"){var Z=s.arguments,Q=s.callee,M=Q.type,u=Q.name,P=[],f=null;
for(var l=0;l<Z.length;l++)P.push(i$.DB(Z[l],N,r));if(u=="Array")f=new window[u];else if(M=="Identifier")f=i$.c6.aii(u,P,N,r);
else throw"e";if(f==null)throw"new "+u;return f}else if(S=="CallExpression"){var Z=s.arguments,Q=s.callee,M=Q.type,m={};
for(var i in r)m[i]=r[i];var P=[];for(var l=0;l<Z.length;l++)P.push(i$.DB(Z[l],N,r));if(M=="Identifier"){var e=Q.name,X=r[e];
if(X){if(X.params){var $=X.params;for(var l=0;l<$.length;l++)m[$[l].name]=P[l];return i$.eval(X.body,N,m)}else{return X.apply(null,P)}}else if(i$.c6.aj5.indexOf(e)!=-1)return i$.c6.SJ({$s:"Application"},e,P,N,r);
else if(window[e]==null)console.log("Unknown function "+e);else if(i$.nb[e])alert(e+"() not available");
else{var O=window[e].apply(window,P);return O}}else if(M=="MemberExpression"){var t=i$.DB(Q.object,N,r),p=Q.computed?i$.DB(Q.property,N,r):i$.eval(Q.property,N,r);
if(t==window&&i$.nb[p])return;if(t.$s!=null)return i$.c6.SJ(t,p,P,N,r);else return t[p].apply(t,P)}else if(M=="FunctionExpression"){return i$.eval(Q.body,N,r)}else console.log(s)}else if(S=="AssignmentExpression"){var T=s.operator,b=s.left,R=b.type,w=i$.DB(b,N,r),F=i$.DB(s.right,N,r),B=null;
if(!1){}else if(T=="=")B=F;else if(T=="+=")B=w+F;else if(T=="-=")B=w-F;else if(T=="*=")B=w*F;else if(T=="/=")B=w/F;
else if(T=="%=")B=w%F;else if(T=="&=")B=w&F;else if(T=="|=")B=w|F;else if(T=="&&=")B=w&&F;else if(T=="||=")B=w||F;
else console.log(s);if(R=="Identifier"){var L=b.name;if(r.hasOwnProperty(L))r[L]=B;else r.__window[L]=B}else if(R=="MemberExpression"){var x=i$.eval(b.property,N,r),g=i$.DB(b.object,N,r);
if(g.$s!=null)i$.c6.am8(g,x,B,N,r);else g[x]=B}else console.log(s)}else if(S=="Identifier")return s.name;
else if(S=="Literal")return s.value;else if(S=="UpdateExpression"){var T=s.operator,n=s.argument.name,f=i$.DB(s.argument,N,r),h=r;
if(h[n]==null)h=r.__window;if(!1){}else if(T=="++"){h[n]++;return s.prefix?h[n]:h[n]-1}else if(T=="--"){h[n]--;
return s.prefix?h[n]:h[n]+1}else console.log(s)}else if(S=="UnaryExpression"){var T=s.operator,_=i$.DB(s.argument,N,r);
if(_.$s=="UnitValue"){if(T=="-")return-_.h;else return i$.atC(_.h,T)}else return i$.atC(_,T)}else if(S=="BinaryExpression"||S=="LogicalExpression"){var T=s.operator,b=i$.DB(s.left,N,r),_=i$.DB(s.right,N,r);
if(b==null||_==null)return i$.OS(b,_,T);else if(b.$s=="UnitValue"&&_.$s=="UnitValue")return i$.OS(b.h,_.h,T);
else if(b.$s=="UnitValue")return i$.OS(b.h,_,T);else if(_.$s=="UnitValue"){if(T=="-")return-(b-_.h);
else return i$.OS(b,_.h,T)}else return i$.OS(b,_,T)}else if(S=="IfStatement"||S=="ConditionalExpression"){var H=i$.DB(s.test,N,r);
if(H)return i$.eval(s.consequent,N,r);else if(s.alternate)return i$.eval(s.alternate,N,r)}else if(S=="ForInStatement"){i$.eval(s.left,N,r);
var G=s.left.declarations[0].id.name,j=i$.DB(s.right,N,r);for(var i in j){r[G]=i;var v=i$.eval(s.body,N,r);
if(r.__break)break;if(r.__return)return v}r.__break=!1}else if(S=="ForStatement"){i$.eval(s.init,N,r);
while(i$.eval(s.test,N,r)){var v=i$.eval(s.body,N,r);if(r.__break)break;if(r.__return)return v;i$.eval(s.update,N,r)}r.__break=!1}else if(S=="DoWhileStatement"){do{var v=i$.eval(s.body,N,r);
if(r.__break)break;if(r.__return)return v}while(i$.eval(s.test,N,r));r.__break=!1}else if(S=="TryStatement"){i$.eval(s.block,N,r);
if(r.__throw){var C=s.handler;r[C.param.name]=r.__throw;r.__throw=!1;i$.eval(C.body,N,r);delete r[C.param.name]}}else if(S=="EmptyStatement"){}else console.log(s)};
i$.OS=function(s,N,r){if(r=="+")return s+N;else if(r=="-")return s-N;else if(r=="*")return s*N;else if(r=="/")return s/N;
else if(r=="%")return s%N;else if(r=="^")return s^N;else if(r=="&")return s&N;else if(r=="&&")return s&&N;
else if(r=="|")return s|N;else if(r=="||")return s||N;else if(r=="<")return s<N;else if(r==">")return s>N;
else if(r=="=="){if(s.$s&&N.$s)return s.h==N.h;return s==N}else if(r=="===")return s===N;else if(r=="<=")return s<=N;
else if(r==">=")return s>=N;else if(r=="!=")return s!=N;else if(r=="!==")return s!==N;else if(r=="<<")return s<<N;
else if(r==">>")return s>>N;else console.log(r)};i$.atC=function(s,N){if(N=="-")return-s;else if(N=="!")return!s;
else if(N=="~")return~s;else if(N=="+")return s;else if(N=="typeof")return typeof s;else console.log(N,s)};
i$.DB=function(s,N,r){var S=s.type;if(S=="Identifier")return i$.an9(s.name,N,r);else return i$.eval(s,N,r)};
i$.an9=function(s,N,r){if(s=="undefined")return undefined;else if(r.hasOwnProperty(s))return r[s];else if(s=="app")return{$s:"Application"};
else if(s=="$")return{$s:"$"};else if(i$.c6.acF.indexOf(s)!=-1)return i$.c6.tt({$s:"Application"},s,N,r);
else if(r.__window.hasOwnProperty(s))return r.__window[s];else if(window[s]&&!i$.nb[s])return window[s];
else{r[s]=null;return null}};i$.c6={};i$.c6.aii=function(s,N,r,S){var z;if(s=="SolidColor")z={$s:s,h:[1,0,0,0]};
if(s=="RGBColor")z={$s:s,h:[1,0,0,0]};if(s=="Window")z={$s:s,h:new e$(N[0],N[1],N[2])};if(s=="ExportOptionsSaveForWeb")z={$s:s,h:{v_:"png",z$:100}};
if(s=="JPEGSaveOptions")z={$s:s,h:{v_:"jpg",z$:100}};if(s=="PDFSaveOptions")z={$s:s,h:{v_:"pdf",agM:""}};
if(s=="File")z={$s:s,h:N[0]};if(s=="ActionReference")z={$s:s,h:[]};if(s=="ActionDescriptor")z={$s:s,h:{}};
if(s=="ActionList")z={$s:s,h:[]};if(s=="UnitValue")z={$s:s,h:N.length==0?0:parseFloat(N[0])};return z};
i$.c6.acF="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
i$.c6.aj5="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
i$.c6.tt=function(s,N,r,S){var z=r.Py,A=r.hr();if(!1){}else if(N=="typename"){if(s.$s=="Layer")return s.h.Ob()?"LayerSet":"ArtLayer";
else return s.$s}else if(["Document","Layer"].indexOf(s.$s)!=-1&&["layers","artLayers","layerSets"].indexOf(N)!=-1){var B=A.root,Y={$s:"Layers",oL:N,h:[]};
if(s.$s=="Layer")B=A.root.uc(A.p.indexOf(s.h));if(B.children==null)return null;for(var l=0;l<B.children.length;
l++){var t=B.children[l].j,p=t.Ob();if(p&&N=="artLayers"||!p&&N=="layerSets")continue;Y.h.push({$s:"Layer",h:t})}Y.h.reverse();
return Y}else if(s.$s=="Documents"||s.$s=="Layers"||s.$s=="HistoryStates"||s.$s=="LayerComps"){if(!1){}else if(N=="length")return s.h.length;
else if(Number.isInteger(N))return s.h[N];else console.log(s.$s+": unknown property ",N)}else if(s.$s=="Application"){if(!1){}else if(N=="activeDocument")return{$s:"Document",h:r.hr()};
else if(N=="documents"){var Y={$s:"Documents",h:[]};for(var l=0;l<r.Rr.length;l++)Y.h.push({$s:"Document",h:r.Rr[l]});
return Y}else if(N=="fonts")return{$s:"TextFonts"};else if(N=="preferences")return{$s:"Preferences"};
else if(N=="displayDialogs")return{$s:"DialogModes"};else if(N=="foregroundColor"||N=="backgroundColor"){var f=N[0]=="f"?z.Hd:z.on;
return{$s:"SolidColor",h:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(N=="UI")return{$s:"UI"};
else console.log(s,N)}else if(s.$s=="Document"){var A=s.h;if(!1){}else if(N=="activeLayer"){var t=A.p[A.f[0]];
return{$s:"Layer",h:t}}else if(N=="resolution")return A.FD;else if(N=="width")return A.G;else if(N=="height")return A.n;
else if(N=="name")return A.name;else if(N=="saved")return!A.Bp();else if(N=="selection")return{$s:"Selection"};
else if(N=="activeHistoryState")return{$s:"HistoryState",Jb:A.Jn};else if(N=="source")return A.Xi;else if(N=="layerComps"){var a=A.zq.list.v,D=[];
for(var l=0;l<a.length;l++)D.push({$s:"LayerComp",h:l});return{$s:"LayerComps",h:D}}else if(N=="historyStates"){var c=[];
for(var l=0;l<A.history.length;l++)c.push({$s:"HistoryState",Jb:l});return{$s:"HistoryStates",h:c}}else if(N=="mode")return 7;
else console.log(s,N)}else if(s.$s=="LayerComp"){if(N=="name")return A.zq.list.v[s.h].v.Nm.v;else throw N}else if(s.$s=="Layer"){var J={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},t=s.h;
if(!1){}else if(N=="visible")return t.ES();else if(N=="selected")return A.f.indexOf(A.p.indexOf(t))!=-1;
else if(N=="grouped")return t.hE;else if(J[N]!=null)return t.pa(J[N]);else if(N=="opacity")return t.opacity*100/255;
else if(N=="blendMode")return t.M9;else if(N=="name")return t.getName();else if(N=="textItem")return{$s:"TextItem",h:t};
else if(N=="bounds"){var Z=K.S.dy(A,[A.p.indexOf(t)]);return i$.c6.apk(Z,A)}else if(N=="parent"){var Q=r.Rr;
for(var l=0;l<Q.length;l++)if(Q[l].p.indexOf(t)!=-1)return{$s:"Document",h:Q[l]}}else if(N=="kind"){var M=i$.c6.up;
for(var l=0;l<M.length;l++)if(t.add[M[l]]!=null)return l;return 0}else console.log(s,N)}else if(s.$s=="Selection"){if(!1){}else if(N=="bounds")return i$.c6.apk(r.hr().q.rect,A);
else console.log(s,N)}else if(s.$s=="TextItem"){var u=s.h.add.TySh,P=u.pg,m=en.RS(P),i=u.D.S5(),e=en.hM(P,0,Math.max(0,m.length-2));
if(N=="contents")return m.slice(0,m.length-1).replace(/\n/g,"\r");else if(N=="font")return e.GN.Font!=null?e.H4[e.GN.Font].Name:null;
else if(N=="size")return i$.c6.Kc(e.GN.FontSize*i,A);else if(N=="leading")return i$.c6.Kc(e.GN.Leading*i,A);
else if(N=="tracking")return i$.c6.Kc(e.GN.Tracking);else if(N=="baselineShift")return i$.c6.Kc(e.GN.BaselineShift);
else if(N=="fauxBold")return e.GN.FauxBold;else if(N=="fauxItalic")return e.GN.FauxItalic;else if(N=="kind")return 1-en.E0(P);
else if(N=="useAutoLeading")return e.M7.AutoLeading;else if(N=="hyphenation")return e.M7.AutoHyphenate;
else if(N=="justification")return i$.c6.Kc(e.M7.Justification);else if(N=="color")return{$s:"SolidColor",h:e.GN.FillColor.Values.slice(0)};
else if(N=="width"||N=="height"){var X=en.Dt(P),$=(X[2]-X[0])*i,O=(X[3]-X[1])*i;return i$.c6.Kc(N=="width"?$:O,A)}else if(N=="position"){var T=u.D;
return i$.c6.al_([T.JC,T.T3],A)}else if(N=="horizontalScale"||N=="verticalScale"){var b=N[0].toUpperCase()+N.slice(1);
return Math.round(e.GN[b]*100)}else if(N=="antiAliasMethod")en.AW(u);else if(N=="totalTextStyle"){var Y={};
for(var R=0;R<2;R++){var w=["Style","Paragraph"][R],F=P.EngineDict[w+"Run"].RunLengthArray,L=[],x=0;
for(var l=0;l<F.length;l++){var g=en.hM(P,x,Math.min(x+F[l],m.length-2));x+=F[l];L.push(R==0?g.GN:g.M7);
Y.fontSet=g.H4}Y[w]={runs:F,styles:L}}return JSON.stringify(Y)}else console.log(s,N)}else if(s.$s=="Preferences"){if(N=="rulerUnits")return z.Hl._c;
else console.log(s,N)}else if(s.$s=="SolidColor"){if(N=="rgb")return{$s:"RGBColor",h:s.h};else console.log(s,N)}else if(s.$s=="RGBColor"){var Z=Math.round(255*s.h[1]),n=Math.round(255*s.h[2]),h=Math.round(255*s.h[3]);
if(!1){}else if(N=="red")return Z;else if(N=="green")return n;else if(N=="blue")return h;else if(N=="hexValue")return"#"+q.fD(Z<<16|n<<8|h).toUpperCase();
else console.log(s,N)}else if(s.$s=="UnitValue"){if(N=="value")return s.h;else throw"e"}else if(s.$s=="ExportOptionsSaveForWeb"){if(N=="format")return s.h.v_;
else if(N=="PNG8"||N=="interlaced")return!1;else if(N=="quality")return s.h.z$;else if(N=="transparency")return!0;
else throw N}else if(s.$s=="JPEGSaveOptions"||s.$s=="PDFSaveOptions"){return 0}else if(s.$s=="$"){if(N=="localize")return!1}else if(s.$s=="ActionList"){if(N=="count")return s.r0.length;
else throw N}else console.log(s,N)};i$.c6.apk=function(s,N){return i$.c6.al_([s.x,s.y,s.x+s.G,s.y+s.n],N)};
i$.c6.al_=function(s,N){var r=[];for(var l=0;l<s.length;l++)r.push(i$.c6.Kc(s[l],N));return r};i$.c6.ai7=function(s){var N=[];
for(var l=0;l<s.length;l++)N.push(s[l].$s?s[l].h:s[l]);return N};i$.c6.Kc=function(s,N){return{$s:"UnitValue",h:s}};
i$.c6.afI=function(s,N){if(s.$s=="UnitValue")return s.h;return s};i$.c6.am8=function(s,N,r,S,z){var A=new hU(k.E.r,!0),B=new hU(k.E.Y,!0),Y=S.hr(),t=S.Py;
if(!1){}else if(s.$s=="Application"){if(!1){}else if(N=="activeDocument"){B.data={d:k.s.Ap,jO:r.h};S.c(B)}else if(N=="displayDialogs"){}else if(N=="foregroundColor"||N=="backgroundColor"){var p=r.h,f=p[1]*255<<16|p[2]*255<<8|p[3]*255<<0;
B.data={d:k.s.Jl,LS:eq.rg,Xy:N=="foregroundColor"?0:1,h:f};S.c(B)}else console.log(s,N,r)}else if(s.$s=="Document"){var a=s.h;
if(!1){}else if(N=="name"){A.k=K.g$;A.data={d:y.VL,h:r,atu:!0,lI:a};Y._R=!0}else if(N=="source")a.Xi=r;
else if(N=="activeLayer"){a.f=[a.p.indexOf(r.h)]}else if(N=="activeHistoryState"){A.k=K.pI;A.data={d:"h_itemchange",index:r.Jb}}else console.log(s,N)}else if(s.$s=="Layer"){A.k=K.g$;
var D={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},c=s.h,J=Y.p.indexOf(c);
if(!1){}else if(N=="visible"){if(c.ES()!=r)A.data={d:y.ks,j:J}}else if(N=="opacity"){A.data={d:y.EX,j:J,zr:Math.round(255*r/100)}}else if(N=="blendMode"){A.data={d:y.q$,j:J,zr:bm.sI.indexOf(r)}}else if(N=="name"){A.data={d:y.RU,j:J,name:r}}else if(D[N]!=null){A.data={d:y.te,j:J,zr:[[r],[D[N]]]}}else if(N=="kind"){A.data={d:y.ID,j:J,EF:i$.c6.up[r]}}else if(N=="grouped"){A.data={d:y.DM,j:J,zr:r}}else console.log(s,N,r)}else if(s.$s=="TextItem"){A.k=K.wQ;
var c=s.h,Z=c.add.TySh,Q=JSON.parse(JSON.stringify(Z.pg)),M=Z.D.clone(),u=Z.D.S5(),P=en.RS(Q),m=en.hM(Q,0,P.length-2),i=!1;
if(!1){}else if(N=="contents"){en.oF(Q,0,P.length-1);en.Bx(Q,0,r.replace(/\r/g,"\n"))}else if(N=="size"){m.GN.FontSize=(r.h!=null?r.h:r)/u;
i=!0}else if(N=="leading"){m.GN.Leading=(r.h!=null?r.h:r)/u;i=!0}else if(N=="tracking"){m.GN.Tracking=r.h!=null?r.h:r;
i=!0}else if(N=="baselineShift"){m.GN.BaselineShift=r.h!=null?r.h:r;i=!0}else if(N=="fauxBold"){m.GN.FauxBold=r;
i=!0}else if(N=="fauxItalic"){m.GN.FauxItalic=r;i=!0}else if(N=="kind"){var e=en.E0(Q);if(e==1&&r==1){var X=new aM(Q,S.Py.dw).M7[0],$=X.Z1[0].end,O=X.mm[$-1].end;
en.oF(Q,0,P.length-1);en.Bx(Q,0,P.slice(0,O-1))}if(e==r)en.WR(Q,1-r)}else if(N=="useAutoLeading"){m.M7.AutoLeading=r;
i=!0}else if(N=="hyphenation"){m.M7.AutoHyphenate=r;i=!0}else if(N=="justification"){m.M7.Justification=r;
i=!0}else if(N=="font"){en._E(m,r);i=!0}else if(N=="color"){m.GN.FillColor.Values=r.h.slice(0);i=!0}else if(N=="width"||N=="height"){var b=en.Dt(Q).slice(0),R=i$.c6.afI(r);
if(N=="width")b[2]=Math.round(b[0]+R/u);else b[3]=Math.round(b[1]+R/u);en.EU(Q,b)}else if(N=="position"){M.JC=r[0];
M.T3=r[1]}else if(N=="horizontalScale"||N=="verticalScale"){var w=N[0].toUpperCase()+N.slice(1);m.GN[w]=r/100;
i=!0}else if(N=="antiAliasMethod")en.tX(Z,r);else console.log(s,N,r);if(i)en.Z6(Q,0,P.length-1,m);A.data={d:"newED",uO:Y.p.indexOf(c),dk:Q,D:M}}else if(s.$s=="Preferences"){if(!1){}else if(N=="rulerUnits"){var F=JSON.parse(JSON.stringify(t.Hl));
F._c=r;B.data={d:k.s.Jl,LS:eq.$H,zr:F};S.c(B)}else console.log(s,N,r)}else if(s.$s=="SolidColor"){if(N=="rgb")s.h=r.h;
else throw N}else if(s.$s=="RGBColor"){if(!1){}else if(N=="red")s.h[1]=r/255;else if(N=="green")s.h[2]=r/255;
else if(N=="blue")s.h[3]=r/255;else if(N=="hexValue"){var L=q.Lk(r.slice(1));s.h[1]=(L>>>16&255)/255;
s.h[2]=(L>>>8&255)/255;s.h[3]=(L>>>0&255)/255}else console.log(s,N)}else if(s.$s=="ExportOptionsSaveForWeb"){if(N=="format")s.h.v_=r;
else if(N=="PNG8"||N=="transparency"||N=="interlaced"){}else if(N=="quality")s.h.z$=r;else throw N}else if(s.$s=="JPEGSaveOptions"){if(N=="quality")s.h.z$=Math.round(100*r/12)}else if(s.$s=="PDFSaveOptions"){if(N=="preset")s.h.agM=r}else if(s.$s=="$"){if(N=="localize"){}}else console.log(s,N,r);
if(A.data!=null)S.c(A)};i$.c6.SJ=function(s,N,r,S,z){var A=s.$s,B=null,Y=new hU(k.E.r,!0),t=new hU(k.E.gu,!0),p=new hU(k.E.Y,!0),f=S.hr(),a=S.Rr;
if(!1){}else if(A=="Application"){if(!1){}else if(N=="charIDToTypeID"){var D=r[0].trim(),c={slct:"select",Dlt:"delete",Mk:"make"};
return c[D]?c[D]:D}else if(N=="stringIDToTypeID"){var J=r[0].trim(),c={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},Z=c[J];
return Z==null?J:Z}else if(N=="typeIDToStringID"){return r[0].trim()}else if(N=="executeAction"){console.log(r);
var Q;if(r[1]){Q=r[1].h;Q.classID=r[0]}var M={setd:"set"},u=M[r[0]];if(u==null)u=r[0];var P=ai.I5[r[0]];
if(P&&ai.BD[P])u=ai.BD[P];t.data={uU:u,wz:Q}}else if(N=="executeActionGet"){return{$s:"ActionDescriptor",h:{classID:"null",null:{t:"obj ",v:r[0].h}},r0:f.p[f.f[0]]}}else if(N=="doAction"){p.data={d:k.s.mj,PH:[r[0],r[1]]}}else if(N=="open"){p.data={d:k.s.k3,LS:{url:r[0]}};
if(r[2]&&a.length!=0)p.data.LS.Ef=a.indexOf(f)}else if(N=="echoToOE"){p.data={d:k.s.ZP,LS:r[0]}}else console.log(N)}else if(A=="LayerComp"){if(N=="apply"){Y.k=K.Wt;
Y.data={d:"setLC",Jb:f.zq.list.v[s.h].v.compID.v}}else throw N}else if(A=="Document"){var f=s.h;if(!1){}else if(N=="crop"){t.data=K.Vg.EL(r[0])}else if(N=="trim"){var m=[];
for(var l=0;l<4;l++)m.push(r[l+1]!=null?r[l+1]:!0);t.data=K.Vg.N8(r[0]!=null?r[0]:0,m)}else if(N=="suspendHistory"){var i=acorn.parse(r[1]);
i$.eval(i,S,z)}else if(N=="save"){p.data={d:k.s.Hh}}else if(N=="saveToOE"){p.data={d:k.s.Hh,_W:r}}else if(N=="rotateCanvas"){t.data=K.S.s4(!0,r[0])}else if(N=="resizeImage"||N=="resizeCanvas"){var e=r[0],X=r[1];
if(typeof e!="number"){e=f.G*parseFloat(e.slice(0,e.length-1))/100;X=f.n*parseFloat(X.slice(0,X.length-1))/100}if(N=="resizeCanvas")t.data=K.Vg.k4(Math.round(e),Math.round(X),r[2]);
else t.data=K.Vg.G2(Math.round(e),Math.round(X),null,1)}else if(N=="paste"){p.data={d:k.s.MF,vs:r.length!=0&&r[0],Il:!0}}else if(N=="close"){p.data={d:k.s.h_,rd:f}}else if(N=="exportDocument"||N=="saveAs"){var $=z.__fs,O=r[0].h.replace(":","").replace("~/",""),b=N=="exportDocument"?r[2].h:r[1].h,R=hg.Lf(f,b.v_,null,null,b.v_=="pdf"?null:[b.z$],S.Py);
$[O]=new Uint8Array(R)}else console.log(s,N,r)}else if(A=="Layer"){var w=s.h,F=f.p.indexOf(w);if(!1){}else if(N=="copy"){i$.c6.Y$(f,S,0);
p.data={d:k.s.Sy,v3:r[0],GR:F,Il:!0};S.c(p);delete p.data;i$.c6.Y$(f,S,1)}else if(N=="clear"){i$.c6.Y$(f,S,0);
t.data={uU:"delete"};S.c(t);delete t.data;i$.c6.Y$(f,S,1)}else if(N=="duplicate"){if(r.length==0){Y.data={d:y.Wo,j:F};
Y.k=K.g$;S.c(Y);Y.data=null;B={$s:"Layer",h:f.p[f.f[0]]}}else if(r[0].$s=="Document"){Y.data={d:y.wO,p:f.st(F),oi:f,wX:r[0].h};
Y.k=K.g$}}else if(N=="merge"||N=="remove"){Y.data={d:N=="merge"?y.Qu:y.iN,j:F};Y.k=K.g$;if(N!="remove")B={$s:"Layer",h:f.p[f.f[0]]}}else if(N=="move"){Y.data={d:y.Kz,source:F,target:f.p.indexOf(r[0].h),fr:r[1]!=3?.6:.3};
Y.k=K.g$}else if(N=="rasterize"){t.data={uU:"rasterizeLayer",wz:{classID:"rasterizeLayer",null:dv.kY("Lyr",!0)}}}else if(N=="rotate"){Y.data={d:"rot",Ru:[2,5],h:-r[0]*Math.PI/180,P0:r[1],j:F};
Y.k=K.ZB}else if(N=="resize"){Y.data={d:"scl",Ru:[2,4],h:new cR(r[0]/100,r[1]/100),P0:r[2],j:F};Y.k=K.ZB}else if(N=="translate"){var L=i$.c6.ai7(r);
Y.data={d:"trsl",j:F,w8:L[0],cH:L[1]};Y.k=K.tM}else if(N=="link"){Y.data={d:y.qR,ac5:[F,f.p.indexOf(r[0].h)]};
Y.k=K.g$}else if(N=="invert"){Y.k=K.du;Y.data={d:"start",R8:"nvrt"}}else if(N.startsWith("apply")&&hT.awE[N.slice(5)]){var L=i$.c6.ai7(r),x=hT.awE[N.slice(5)];
t.data={uU:hT.BD[x]};var Q=hT.yS(x);if(Q){hT.ke["g"+x](Q,L);t.data.wz=Q}}else console.log(s,N,r)}else if(A=="Documents"){if(N=="getByName"){for(var l=0;
l<a.length;l++)if(a[l].name==r[0])return{$s:"Document",h:a[l]};return null}else if(N=="add"){var g=r[5];
if(g==null)g=1;t.data=a2.OR(r[0],r[1],r[2],r[3],["Wht","Trns","BckC"][g],!1)}else throw"e"}else if(A=="Layers"){if(N=="getByName"){for(var l=0;
l<s.h.length;l++)if(s.h[l].h.getName()==r[0]){B=s.h[l];break}if(B==null)z.__throw={message:"No layer with a name "+r[0]}}else if(N=="add"){Y.data={d:s.oL=="layerSets"?y.ly:y.Jj};
Y.k=K.g$;S.c(Y);Y.data=null;B={$s:"Layer",h:f.p[f.f[0]]}}else console.log(s,N,r)}else if(s.$s=="Selection"){if(N=="select"){var n=r[0],h=[];
for(var l=0;l<n.length;l++)h.push(n[l][0],n[l][1]);t.data=K.eL.lT(h)}else if(N=="clear"){t.data={uU:"delete"}}else if(N=="selectAll"){t.data=K.eL.Aq(!0)}else if(N=="invert"){t.data={uU:"inverse"}}else if(N=="copy"){p.data={d:k.s.Sy}}else if(N=="deselect"){t.data=K.eL.Aq()}else if(N=="fill"){var _=r[0].h;
_=q.i.Sm({w:_[1]*255,A:_[2]*255,U:_[3]*255});t.data=K.kn.ku("Clr",r[1],r[2]==null?1:r[2]/100,_)}else if(N=="translate"){var Q={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:r[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:r[1]}}}}};
t.data={uU:"move",wz:Q}}else console.log(s,N,r)}else if(s.$s=="Window"){if(N=="show"){p.data={d:k.s.Pv,ic:s.h}}else throw"e"}else if(s.$s=="ActionReference"){if(N=="putProperty"){s.h.push({t:"prop",v:{classID:r[0],keyID:r[1]}})}else if(N=="putClass"){s.h.push({t:"Clss",v:{classID:r[0]}})}else if(N=="putEnumerated"){s.h.push({t:"Enmr",v:{classID:r[0],typeID:r[1],enum:r[2]}})}else if(N=="putName"){s.h.push({t:"name",v:{classID:r[0],val:r[1]}})}else console.log(N,r)}else if(s.$s=="ActionDescriptor"||s.$s=="ActionList"){if(N=="putReference"){s.h[r[0]]={t:"obj ",v:r[1].h}}else if(N=="putDouble"){s.h[r[0]]={t:"doub",v:r[1]}}else if(N=="putUnitDouble"){s.h[r[0]]={t:"UntF",v:{type:r[1],val:r[2]}}}else if(N=="putObject"){if(s.$s=="ActionList"){var H=r[1].h;
H.classID=r[0];s.h.push({t:"Objc",v:H})}else{var H=r[2].h;H.classID=r[1];s.h[r[0]]={t:"Objc",v:H}}}else if(N=="putList"){s.h[r[0]]={t:"VlLs",v:r[1].h}}else if(N=="putBoolean"){s.h[r[0]]={t:"bool",v:r[1]}}else if(N=="putInteger"){s.h[r[0]]={t:"long",v:r[1]}}else if(N=="putString"){s.h[r[0]]={t:"TEXT",v:r[1]}}else if(N=="putEnumerated"){var G={};
G[r[1]]=r[2];s.h[r[0]]={t:"enum",v:G}}else if(N=="hasKey"){var w=f.p[f.f[0]],D=r[0];if(D=="textKey")return w.add.TySh!=null;
var j=s.h.null.v;for(var l=0;l<j.length;l++){if(j[l].v.keyID==r[0]){if(D=="UsrM"){return w.eg()!=null}else throw r}}}else if(N=="getEnumerationValue"){if(r[0]=="layerSection")B="layerSectionContent";
else console.log(r)}else if(N=="getBoolean"){if(r[0]=="background")B=!1;else console.log(r)}else if(N=="getString"){if(r[0]=="name")B=s.r0.getName();
else if(r[0]=="textKey")B=en.RS(s.r0.pg);else console.log(s,r)}else if(N=="getObjectValue"){if(r[0]=="textKey"){B={$s:"ActionDescriptor",r0:s.r0.add.TySh}}else if(typeof r[0]=="number")B=s.r0[r[0]];
else throw r[0]}else if(N=="getList"){B={$s:"ActionList"};if(r[0]=="paragraphStyleRange")B.r0=s.r0.pg.EngineDict.ParagraphRun.RunArray;
else if(r[0]=="kerningRange")B.r0=[];else if(r[0]=="textStyleRange")B.r0=s.r0.pg.EngineDict.StyleRun.RunArray;
else throw r}else console.log(N,r)}else if(s.$s=="$"){if(N=="writeln"){console.log(r[0])}else throw N}else if(s.$s=="UI"){var v;
if(N=="zoomIn"||N=="zoomOut"){v={d:"zoom",p5:N=="zoomIn"}}else if(N=="fitTheArea"){v={d:"adapt",h:"fitscr"}}else if(N=="pixelToPixel"){v={d:"adapt",h:"pixel"}}Y.k=K.b_;
Y.data=v}else console.log(s,N,r);if(Y.data)S.c(Y);if(t.data)S.c(t);if(p.data)S.c(p);return B};i$.c6.Y$=function(s,N,r){var S=new hU(k.E.r,!0);
S.k=K.Kn;var z=new hU(k.E.gu,!0);if(r==0){i$.c6.alo=s.q;z.data=K.eL.Aq(!0)}else{var A=i$.c6.alo;if(A)S.data={d:"setsel",Ru:"Restore Selection",q:{rect:A.rect.clone(),channel:A.channel.slice(0)}};
else z.data=K.eL.Aq()}N.c(S.data?S:z)};i$.c6.alo=null;i$.c6.Hv={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
i$.c6.Hv.ColorBlendMode=i$.c6.Hv.BlendMode;i$.c6.up="---- SoLd TySh SoCo GdFl PtFl".split(" ");function gr(){}gr.Ui={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
gr.BE={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
gr.aoR=function(s,N){if(N==null)N={};var r=gr.BE,S=[],z=[],A="";for(var l=0;l<s.length;l++){var B=s[l],Y=r[B[0]+""];
if(Y&&N[Y]==null)N[Y]=B[1];else if(B[0]==12)z.push(B[1]);else if(B[0]==25)S.push(B[1]);else if(B[0]==55)A=B[1];
else if(B[0]==60)A+=";"+B[1]}if(A!=""&&N["exif:DateTimeOriginal"]==null)N["exif:DateTimeOriginal"]=A;
if(z.length!=0&&N["Iptc4xmpCore:SubjectCode"]==null)N["Iptc4xmpCore:SubjectCode"]=z.join(";");if(S.length!=0&&N["dc:Keywords"]==null)N["dc:Keywords"]=S.join(";");
return N};gr.arN=function(s){var N=gr.BE,r=[];for(var S in N)if(s[N[S]])r.push([parseInt(S),s[N[S]]]);
if(s["Iptc4xmpCore:SubjectCode"]){var z=s["Iptc4xmpCore:SubjectCode"].split(";");for(var l=0;l<z.length;
l++)r.push([12,z[l].trim()])}if(s["dc:Keywords"]){var z=s["dc:Keywords"].split(";");for(var l=0;l<z.length;
l++)r.push([25,z[l].trim()])}r.sort(function(A,B){return A[0]-B[0]});return r};gr.akl=function(s,N){if(N==null)N={};
var r=new DOMParser,S=r.parseFromString(s,"image/svg+xml"),z=S.getElementsByTagName("rdf:Description")[0];
if(z==null)return N;var A=gr.Ui;for(var B in A){var Y=A[B][2];if(Y==null)continue;var t=z.getElementsByTagName(Y)[0];
if(t==null)continue;var p=t.getElementsByTagName("rdf:li"),f=[];for(var l=0;l<p.length;l++)f.push(p[l].textContent);
N[B]=f.join("; ")}return N};gr.a8a=function(s){var N=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],r=gr.Ui;
for(var S in r){var z=s[S],A=r[S][2],B="Seq",Y="";if(z==null||A==null)continue;if(A=="dc:title"||A=="dc:description"){B="Alt";
Y=" xml:lang=\"x-default\""}if(A=="dc:subject")B="Bag";N.push("\t<"+A+"><rdf:"+B+">");var t=A=="dc:subject"?z.split(";").join(",").split(","):[z];
for(var l=0;l<t.length;l++)N.push("\t\t<rdf:li"+Y+">"+t[l].trim()+"</rdf:li>");N.push("\t</rdf:"+B+"></"+A+">")}N.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return N.join("\n")};gr.aao=function(s){var N=[];for(var l=0;l<s.length;l++)N[l]=s[l][1]==0?0:s[l][0]/s[l][1];
return N};gr.a9i=function(s){var N=[];for(var l=0;l<s.length;l++){var r=s[l],S=1;if(r!=Math.round(r)){S=1e3;
r=Math.round(r*S)}N[l]=[r,S]}return N};gr.B1=function(s,N){var r=gr.Ui;if(N==null)N={};for(var S in r){var z=r[S][1],A="t"+z;
if(z!=null&&s[A]!=null){var B=s[A];if(z==0)B=B.join(".");else if(z==2||z==4){var Y=s["t"+(z-1)];if(Y==null)Y=[z==2?"N":"E"];
B=gr.aao(B).join(",")+Y[0]}else if(z==42034)B=gr.aao(B).join(" ");else if(z==270||z==315){var t=B[0],p=new Uint8Array(t.length);
U.s6(p,0,t);B=U.uE(p)}else B=B[0];N[S]=B}}if(s.exifIFD)gr.B1(s.exifIFD,N);if(s.gpsiIFD)gr.B1(s.gpsiIFD,N);
return N};gr.K2=function(s,N,r){var S=gr.Ui,A=0,Y=0;if(N==null)N={};var z={},B={};for(var t in S){if(s[t]==null||S[t][1]==null)continue;
var p=S[t][1],f="t"+p,a=N;if(t.startsWith("exif:")){a=z;A++;if(t.startsWith("exif:GPS")){a=B;Y++}}var D=s[t];
if(p==0)D=new Uint8Array(D.split(".").map(parseFloat));else if(p==2||p==4){var c=D.length;a["t"+(p-1)]=[D.slice(D.length-1)];
D=gr.a9i(D.split(",").map(parseFloat))}else if(p==42034)D=gr.a9i(D.split(" ").map(parseFloat));else if(p==270||p==315){var J=U.et(D);
D=[U.TX(J,0,J.length)]}else D=[D];a[f]=D}if(A!=0){N.exifIFD=z;N.t34665=[0]}if(Y!=0){N.gpsiIFD=B;N.t34853=[0]}var Z=new Date,Q=[Z.getFullYear(),Z.getMonth()+1,Z.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds()];
for(var l=0;l<6;l++)Q[l]=(Q[l]+"").padStart(2,"0");N.t305=["Photopea Editor (www.photopea.com)"];if(r!=!0)N.t306=[Q[0]+":"+Q[1]+":"+Q[2]+" "+Q[3]+":"+Q[4]+":"+Q[5]];
return N};function ga(){}ga.j7=function(s){var N={a8X:",",Qd:"\r\n",Ah:"\""},r=[[""]],S,z,A,B,Y;for(S=z=A=B=0;
A<s.length;A++){switch(Y=s.charAt(A)){case N.Ah:if(B&&s.charAt(A+1)==N.Ah){r[S][z]+=N.Ah;++A}else{B^=1}break;
case N.a8X:if(!B){r[S][++z]=""}else{r[S][z]+=Y}break;case N.Qd.charAt(0):if(!B&&(!N.Qd.charAt(1)||N.Qd.charAt(1)&&N.Qd.charAt(1)==s.charAt(A+1))){r[++S]=[""];
r[S][z=0]="";if(N.Qd.charAt(1)){++A}}else{r[S][z]+=Y}break;default:r[S][z]+=Y}}if(r[r.length-1].length<r[0].length)r.pop();
return r};var W={};W.asm=0;W.Dg=function(){W.asm++;return W.asm};W.alp="uint8";W.akt=function(){var s=W.alu();
if(s=="")return 0;if(s!=W._q("_TXZRPB;d7@;")){var N=W.JI[cf.EO][cf.D6],r=N.indexOf(String.fromCharCode(35)),S;
if(r==-1)return 0;try{S=JSON.parse(W.JI[cf.a9l](N.slice(r+1)))}catch(eV){return 0}var z=S[W._q("bQ[ODL<E<M")];
if(z==null||z.length<<2!=64)return 0;var A=cf.h3(),B=parseInt(z.slice(3*4).split("").reverse().join(""),16)<<16;
if(B<A||z!=cf.af4(B,s))return 0;return 2}return 1};W.alu=function(){var s=W.JI[W.VS("}$z{2*35")][W._q("W[\\ZQAJ?")],N=String.fromCharCode(46),r=s.split(N);
if(r.length<2)return"";var S=r.pop();S=r.pop()+N+S;return S};W.arW=function(){if(W.JI[cf.a3T][cf.a0J]){var s=new W.JI[cf.a1];
s[cf.jk](cf.auU,W._q("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+W.alu());s[cf.VH]()}};W.Bk=function(){if(window.top!=window.self)return!1;
var s=navigator.userAgent.toLowerCase();if(s.indexOf("android")!=-1)return!1;if(s.indexOf("safari")!=-1&&s.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};W.uz=function(s){this.mP=s;this.auI=W.z("img");this.NB=W.z("canvas");
this.zf=null;this.J3="";this.KZ=null;this.Cg=new cR(0,0);this.MM=!0;W.UT(this.mP,this.Ie.bind(this))};
W.uz.prototype.sV=function(s,N){this.zf=s;if(N)this.J3=N;this.Ie()};W.uz.prototype.b4=function(s){this.MM=s;
this.Ie()};W.uz.prototype.Ie=function(s){if(s)this.Cg=W.WO(s,this.mP);var N=this.MM?this.zf:"auto",r=typeof N=="string";
if(!r){var S=W.Z(),z=this.Cg,A=N.Ge.G,B=N.Ge.n,Y=typeof N.r2=="string",t=Y?this.auI:this.NB;if(Y)t.setAttribute("src",N.r2);
else{t.width=A;t.height=B;var p=t.getContext("2d"),f=new ImageData(new Uint8ClampedArray(N.r2.buffer),A,B);
p.putImageData(f,0,0)}t.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(z.y-N.Yx.y/S)+"px; left:"+(z.x-N.Yx.x/S)+"px; width:"+A/S+"px; height:"+B/S+"px");
var a=this.KZ;if(a==null||a!=t){if(a)this.mP.removeChild(a);this.mP.appendChild(t);this.KZ=t}}else if(this.KZ){this.mP.removeChild(this.KZ);
this.KZ=null}this.mP.setAttribute("style","cursor:"+(r?N:"none")+"; "+this.J3)};W.Bm=function(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
W.eW=function(s,N){s.wp(eV.get([12,41]).charAt(0)+":");N.wp(eV.get([12,42]).charAt(0)+":")};W.z=function(s,N){var r=document.createElement(s);
if(N!=null)r.setAttribute("class",N);return r};W.o3=function(s){while(s.firstChild)s.removeChild(s.firstChild)};
W.Bc=function(s,N){var r=s.getAttribute("class");if(r==null)r="";r=r.split(" ");if(r.indexOf(N)==-1)r.push(N);
s.setAttribute("class",r.join(" "))};W.$F=function(s,N){var r=s.getAttribute("class");if(r==null)return;
r=r.split(" ");if(r.indexOf(N)!=-1)r.splice(r.indexOf(N),1);s.setAttribute("class",r.join(" "))};W.zS=function(s){while(!0){if(s==document)return!0;
if(s==null)return!1;s=s.parentNode}};W.ts=function(s){s.appendChild(W.z("br"))};W.RY=function(s){s.appendChild(W.z("hr"))};
W.y1=function(s,N,r){var S=new aa([1,12,1],r==null?!0:r,null,!0);if(s)S.W("click",s.Nv,s);if(N)N.appendChild(S.e);
return S};W.JI=document;W.d0=function(s){var N=0;for(var l=0;l<s;l++)N+=Math.random();return N/s<Math.PI/4};
W._q=function(s){var N="";if(!W.d0(28))s+="-3";for(var l=0;l<s.length;l++){var r=s.charCodeAt(l);if(r<32||126<r)throw"e";
N+=String.fromCharCode(32+(r-32+17+3*l)%95)}return N};W.VS=function(s){var N="";if(!W.d0(28))s+="-1";
for(var l=0;l<s.length;l++){var r=s.charCodeAt(l);r-=32;r+=95e4;r-=17+3*l;r=r%95;N+=String.fromCharCode(32+r)}return N};
W.lC=function(s){var N=Math.random();W.alp="uint"+(3+N);return new s};(function(){var s=window.PointerEvent,N=s?"pointer":"mouse",r=N+"down",S=N+"move",z=N+"up",A=!1;
W.JQ=function(B,Y){B.addEventListener(r,Y,A);if(!s)B.addEventListener("touchstart",Y,A)};W.UT=function(B,Y){B.addEventListener(S,Y,A);
if(!s)B.addEventListener("touchmove",Y,A)};W.eA=function(B,Y){B.addEventListener(z,Y,A);if(!s)B.addEventListener("touchend",Y,A)};
W.a2L=function(B,Y){B.removeEventListener(r,Y,A);if(!s)B.removeEventListener("touchstart",Y,A)};W.nP=function(B,Y){B.removeEventListener(S,Y,A);
if(!s)B.removeEventListener("touchmove",Y,A)};W.tp=function(B,Y){B.removeEventListener(z,Y,A);if(!s)B.removeEventListener("touchend",Y,A)}}());
W.Kq=function(s){s.addEventListener("touchstart",W.GF,!1);s.addEventListener("touchmove",W.GF,!1);s.addEventListener("touchend",W.GF,!1);
s.addEventListener("gesturestart",W.GF,!1);s.addEventListener("gesturechange",W.GF,!1);s.addEventListener("gestureend",W.GF,!1)};
W.abV=function(s){var N=s.sourceCapabilities;if(N)return N.firesTouchEvents;return!1};W.Bh=function(s,N,r,S){var z=W.Z();
s.width=Math.floor(N*z);s.height=Math.floor(r*z);if(S)S.scale(z,z);W.Sn(s)};W.Sn=function(s){var N=W.Z();
s.style.width=s.width/N+"px";s.style.height=s.height/N+"px"};W.UY=function(s,N,r){s.setAttribute("style","width:"+N/W.Z()+"px; height:"+r/W.Z()+"px")};
W.WO=function(s,N){if(N==null)N=s.currentTarget;var r=N.getBoundingClientRect();if(s.touches)s=s.touches.item(0);
return{x:s.clientX-r.left,y:s.clientY-r.top}};W.Z=function(){return window.devicePixelRatio||1};W.Im=function(s){s.addEventListener("keydown",W.ani,!1)};
W.ani=function(s){s.stopPropagation()};W.GF=function(s){s.preventDefault()};W.wC=function(s){s.stopPropagation();
s.preventDefault()};W.xH=function(s,N,r){r=r?r:"";if(PIMG["__"+s]==null)r+=" gsicon";return"<img src=\""+PIMG[s]+"\" alt=\""+(N?N:"")+"\" class=\""+r+"\" />"};
W.zh=function(s,N,r,S){var z=s.dataTransfer.getData("text/uri-list");if(z!=null&&z.startsWith("http")){var A=new hU(k.E.Y,!0);
A.data={d:k.s.k3,LS:{url:z,PD:!0,Ef:r,Ov:S}};N.c(A)}if(s.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var B=[],Y=s.dataTransfer.items.length,t=s.dataTransfer.files;
for(var p of s.dataTransfer.items)p.getAsFileSystemHandle().then(function(f){B.push(f);if(B.length==Y){var A=new hU(k.E.Y,!0);
A.data={d:k.s.ds,data:t,Ef:r,Ov:S,anc:B};N.c(A)}})}else{var A=new hU(k.E.Y,!0);A.data={d:k.s.ds,data:s.dataTransfer.files,Ef:r,Ov:S};
N.c(A)}};if(W.d0(27))W.JI=window;else W.JI=W.a7Y;W.JI._cwY=W.JI[W.VS("t$&!'31")];var bP={};bP.aie=function(l){var s=bP.Vx[l],N=document.documentElement.style,S=1;
N.setProperty("--base","#"+q.fD(s["--base"]));N.setProperty("--bg-panel","#"+q.fD(s["--bg-panel"]));
N.setProperty("--bg-canvas","#"+q.fD(s["--bg-canvas"]));N.setProperty("--bg-input","#"+q.fD(s["--bg-input"]));
N.setProperty("--bg-bbtn","#"+q.fD(s["--bg-bbtn"]));N.setProperty("--bg-bbtnOver","#"+q.fD(s["--bg-bbtnOver"]));
N.setProperty("--brdr","#"+q.fD(s["--brdr"]));N.setProperty("--text-color","#"+q.fD(s["--text-color"]));
N.setProperty("--brdrLgt","rgba(255,255,255,"+s["--brdrLgt"]+")");N.setProperty("--brdrDrk","rgba(  0,  0,  0,"+s["--brdrDrk"]+")");
N.setProperty("--alphaDark",""+s["--alphaDark"]);N.setProperty("--gs-invert",""+s["--gs-invert"]);var r=s["--sh-clr"];
N.setProperty("--sh-clr","rgba("+(r>>16)+","+(r>>8&255)+","+(r&255)+", 0.45)");N.setProperty("--sh-dy",""+s["--sh-dy"]+"px");
if(1<W.Z()&&W.Z()<1.5)S=1/W.Z();N.setProperty("--img20",20*S+"px");N.setProperty("--img18",18*S+"px");
N.setProperty("--img15",15*S+"px");if(PIMG!=null){var z="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var l=0;l<z.length;l++){var A=z[l],B=A.split("/").pop(),Y=PIMG["__"+A]==null?s["--gs-invert"]:"0";
N.setProperty("--icon_"+B,"url("+PIMG[A]+")");N.setProperty("--icon_"+B+"_invrt",Y)}}var t=document.querySelector("meta[name=theme-color]");
if(t)t.setAttribute("content","#"+q.fD(s["--base"]))};bP.Vx=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function el(){this.$i={};this.jE={}}el.prototype.auX=function(s){var N=this.$i[s];if(N==null)return!1;
return N.length>0};el.prototype.addEventListener=function(s,N){this.W(s,N,null)};el.prototype.W=function(s,N,r){if(this.$i[s]==null){this.$i[s]=[];
this.jE[s]=[]}this.$i[s].push(N);this.jE[s].push(r)};el.prototype.removeEventListener=function(s,N){var r=this.$i[s];
if(r==null)return;var S=r.indexOf(N);if(S<0)return;var z=this.jE[s];r.splice(S,1);z.splice(S,1)};el.prototype.c=function(s){s.currentTarget=this;
if(s.target==null)s.target=this;var N=this.$i[s.type];if(N==null)return;var r=this.jE[s.type];for(var l=0;
l<N.length;l++){if(r[l]==null)N[l](s);else N[l].call(r[l],s)}};var hU=function(s,N){if(!N)N=!1;this.type=s;
this.target=null;this.currentTarget=null;this.bubbles=N;this.k=null;this.rC=!1},k={E:{r:"0",Y:"1",gu:"1.5",o:"2",Gz:"3",at_:"4"},s:{IP:"10",xh:"11",fo:"12",LY:"13",Qb:"14",ao4:"14.1",k3:"15",LO:"16",uM:"17",f5:"18",Hh:"19",avJ:"19.5",a0r:"20",agU:"20.5",aeb:"20.6",gU:"21",Sy:"22",MF:"23",fk:"24",Pv:"25",dJ:"26",Ap:"27",Rk:"28",a0V:"29",ds:"30",HQ:"31",vT:"32",TN:"33",Em:"34",Jl:"35",a3t:"35.5",TL:"37",amE:"38",hN:"39",lG:"40",nF:"41",ZP:"41.5",acm:"42",Kd:"43",agK:"43.5",h_:"44",a8t:"45",qO:"46",Gf:"47",Rw:"48",mj:"49",ahQ:"50",wB:"51"}};
function hz(){el.call(this);this.parent=null;this.e=null;this.s7=0;this.JY=0}hz.prototype=new el;hz.prototype.axi=function(s){var i3=this;
while(i3!=null){if(i3==s)return!0;i3=i3.parent}return!1};hz.prototype.d3=function(){var s=this.e;return s.offsetWidth+s.clientLeft};
hz.prototype.att=function(){var s=this.e;return s.offsetHeight+s.clientTop};hz.prototype.update=function(s){};
hz.prototype.c=function(s){el.prototype.c.call(this,s);if(s.bubbles&&this.parent!=null)this.parent.c(s)};
hz.prototype.N=function(){};hz.prototype.uw=function(s,N){};hz.prototype.sK=function(s){W.Bc(this.e,"disabled")};
hz.prototype.WT=function(s){W.$F(this.e,"disabled")};hz.prototype.b4=function(s){if(s)this.WT();else this.sK()};
function fX(s){hz.call(this);this.V4=[];this.uQ=!1;this.adR=0;this.sy={x:0,y:0,Rd:!1};this.VQ=s;this.aae=this.ja.bind(this);
this.F0=this.ma.bind(this);this.ahF=this.$D.bind(this);W.JQ(s,this.aae);W.UT(s,this.F0);s.addEventListener("wheel",this.V_.bind(this),!1);
s.addEventListener("contextmenu",this.avc.bind(this),!1);var N=this.ag1.bind(this);s.addEventListener("gesturestart",N,!1);
s.addEventListener("gesturechange",N,!1);s.addEventListener("gestureend",N,!1);W.Kq(s)}fX.prototype=new hz;
fX.prototype.ag1=function(s){if(s.type=="gesturestart")this.qg=s.scale;if(s.type=="gesturechange"){var N=new hU("mouse",!0);
N.action="scroll";N.OT=!0;this.CE(s,N);var r=(this.qg-s.scale)/this.qg;N.Po=new cR(0,100*r);this.qg=s.scale;
this.c(N)}};fX.prototype.aW=function(s){var N=-1,r=this.V4;for(var l=0;l<r.length;l++)if(r[l].pointerId==s.pointerId)N=l;
return N};fX.eI=function(s){var N=s.pointerType,r=window.__kb;return N=="touch"&&r.t(cK.a9M)};fX.prototype.ja=function(s){if(fX.eI(s))return;
var N=this.aW(s);if(N!=-1)this.V4[N]=s;else this.V4.push(s);if(this.V4.length==1){this.adR=Date.now();
var r=s.button!=null&&s.button!=0?s.which==2?"idown":"rdown":"down",S=new hU("mouse",!0);S.action=r;
this.CE(s,S);this.c(S);W.nP(this.VQ,this.F0);W.UT(window,this.F0);W.eA(window,this.ahF)}if(this.V4.length==2){if(Date.now()-this.adR<100){var S=new hU("mouse",!0);
S.action="cancellast";this.CE(s,S);this.c(S)}this.am4("multidown");this.uQ=!0}};fX.prototype.ma=function(s){if(fX.eI(s))return;
var N=this.aW(s);if(N!=-1)this.V4[N]=s;if(this.V4.length>1){this.am4("multimove")}if(this.uQ)return;
if(this.V4.length==1&&N==-1)return;var r=new hU("mouse",!0);r.action="move";this.CE(s,r);this.c(r)};
fX.prototype.$D=function(s){if(fX.eI(s))return;var N=this.V4,r=this.aW(s);if(r!=-1)N.splice(r,1);else return;
if(N.length==0){var S=s.button!=null&&s.button>0?s.which==2?"iup":"rup":"up",z=new hU("mouse",!0);z.action=S;
this.CE(s,z);this.c(z);W.nP(window,this.F0);W.tp(window,this.ahF);W.UT(this.VQ,this.F0);this.uQ=!1}};
fX.prototype.V_=function(s){s.preventDefault();if(s.deltaX==0&&s.deltaY==0)return;var N=new hU("mouse",!0);
N.action="scroll";N.OT=s.ctrlKey;this.CE(s,N);this.c(N)};fX.prototype.avc=function(s){W.wC(s);if(W.abV(s)){var N=new hU("mouse",!0);
this.CE(s,N);N.action="rdown";this.c(N);N.action="rup";this.c(N)}};fX.prototype.am4=function(s){var N=this.V4,r=W.Z(),S=[];
for(var l=0;l<N.length;l++){var z=S[l]=W.WO(N[l],this.VQ);z.x*=r;z.y*=r}var A=new hU("mouse",!0);A.action=s;
A.b6=S;if(N.length<=2)this.c(A)};fX.prototype.CE=function(s,N,r){var S=this.V4.length!=0;if(N.action!="up"){var z=W.Z();
if(r==null)r=W.WO(s,this.VQ);this.sy=N.un={x:z*r.x,y:z*r.y,Rd:S};var A=W.WO(s,document.body);N.un.f_=A.x;
N.un.FX=A.y}else this.sy=N.un={x:this.sy.x,y:this.sy.y,Rd:S};N.un.vK=.5;if(s.pressure!=null&&s.pressure!=0)N.un.vK=s.pressure;
if(s.pointerType=="mouse")N.un.vK*=2;N.un.a2s=s.pointerType;if(s.deltaX!=null){var B=s.deltaMode==0?1:40;
N.Po=new cR(s.deltaX*B,s.deltaY*B)}};function hR(s,N,r){hz.call(this);this.TW=null;this.aoi=this.$D.bind(this);
this.agi=this.aq.bind(this);this.agt=this.asS.bind(this);this.a7z=this.amr.bind(this);this.v5=[];this.$g=[];
this.RV=[];this.a4v=[];this.e=W.z("div","contextpanel "+(r?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",W.GF,!1);
this.NA=null;this.sT=0;this.aiL=s;this.C3=N;this.D1=[];for(var l=0;l<s.length;l++){var S=W.z("div","enab");
this.$g.push(S);this.e.appendChild(S);if(s[l].zg){S.innerHTML=W.xH(s[l].zg,null,"thumb")}else{var z=W.z("span","check");
this.a4v.push(z);S.appendChild(z)}var A=W.z("span","label");A.innerHTML=eV.get(s[l].name);S.appendChild(A);
this.RV.push(A);if(s[l].Al)this.e.appendChild(W.z("hr"));if(s[l].pj||s[l].sub){var B=W.z("span","right");
S.appendChild(B);if(s[l].pj)B.innerHTML=cK.Sr(s[l].pj);if(s[l].sub)B.innerHTML="\u25B6"}S.addEventListener("click",this.aoi,!1);
S.addEventListener("mouseover",this.agi,!0);S.addEventListener("mouseout",this.agt,!0);if(s[l].sub){var Y=new hR(s[l].sub,N?N[l].sub:null);
Y.parent=this;this.D1.push(Y);Y.W("select",this.ake,this)}else this.D1.push(null)}}hR.prototype=new hz;
hR.prototype.aat=function(s){W.o3(this.e);for(var l=0;l<s.length;l++)if(s[l]!=0&&s[l]!=null){this.e.appendChild(this.$g[l]);
if(s[l]!=1&&this.D1[l])this.D1[l].aat(s[l])}};hR.prototype.N=function(){var s=this.aiL;for(var l=0;l<s.length;
l++){if(s[l].title)this.$g[l].title=eV.get(s[l].title);this.RV[l].textContent=eV.get(s[l].name)+(s[l].yL?"...":"")}for(var l=0;
l<this.D1.length;l++)if(this.D1[l])this.D1[l].N()};hR.prototype.update=function(s,N){var r=this.aiL;
for(var l=0;l<r.length;l++){if(r[l].K){var S=r[l].K(s,N,l);if(S.K!=null)this.$g[l].setAttribute("class",S.K?"enab":"disab");
if(S.Ty!=null)this.RV[l].textContent=S.Ty;if(S.az!=null)this.a4v[l].textContent=S.az?"\u2713":"";if(S.M!=null)this.C3[l]=S.M}}for(var l=0;
l<this.D1.length;l++)if(this.D1[l])this.D1[l].update(s,N)};hR.prototype.o4=function(){return this.v5};
hR.prototype.$D=function(s){if(s.button!=0)return;var l=this.$g.indexOf(s.currentTarget);if(this.D1[l]){this.sT=l;
this.amr()}else{if(this.C3){var N=this.C3[l],r=new hU(N.O,!0);r.k=N.k;r.data=N.M;this.c(r)}this.TW=null;
this.v5=[l];this.c(new hU("select",!1));var r=new hU(k.E.Y,!0);r.data={d:k.s.LY};this.c(r)}};hR.prototype.aq=function(s){var l=this.$g.indexOf(s.currentTarget);
if(this.NA){clearTimeout(this.NA);this.NA=null}if(this.D1[l]==null)return;this.sT=l;this.NA=setTimeout(this.a7z,300)};
hR.prototype.asS=function(s){var l=this.$g.indexOf(s.currentTarget);if(this.NA){clearTimeout(this.NA);
this.NA=null}};hR.prototype.amr=function(){if(this.NA){clearTimeout(this.NA);this.NA=null}var l=this.sT;
if(this.TW)this.TW.a0x();this.TW=this.D1[l];var s=this.$g[l].getBoundingClientRect(),N=new hU(k.E.Y,!0);
N.data={d:k.s.xh,mk:this.D1[l],x:s.left+s.width+2,y:s.top};this.c(N)};hR.prototype.a0x=function(){for(var l=0;
l<this.D1.length;l++)if(this.D1[l])this.D1[l].a0x();var s=new hU(k.E.Y,!0);s.data={d:k.s.fo,mk:this};
this.c(s)};hR.prototype.ake=function(s){var l=this.D1.indexOf(s.target);this.v5=[l].concat(s.target.o4());
this.c(new hU("select",!1))};function d1(s,N,r){hz.call(this);this.e=W.z("span","fitem cbox");if(N==null)N=!0;
if(r==null)r="flabel";var S="cb"+W.Dg();this.hn=W.z("input","");this.hn.setAttribute("type","checkbox");
this.hn.setAttribute("id",S);this.e.appendChild(this.hn);this.qM=s;this.Q3=W.z("label",r);if(N)this.Q3.setAttribute("for",S);
this.e.appendChild(this.Q3);this.N();this.hn.addEventListener("change",this.lp.bind(this),!1)}d1.prototype=new hz;
d1.prototype.afy=function(){return this.qM};d1.prototype.wp=function(s){this.Q3.textContent=s};d1.prototype.N=function(){var s=this.qM;
if(typeof s=="string"&&s.startsWith("<"))this.Q3.innerHTML=s;else this.Q3.textContent=eV.get(s)};d1.prototype.Io=function(){this.hn.checked=!0};
d1.prototype.sD=function(){this.hn.checked=!1};d1.prototype.pX=function(){return this.hn.checked};d1.prototype.b=function(s){this.hn.checked=s};
d1.prototype.L=d1.prototype.pX;d1.prototype.lp=function(s){this.c(new hU(k.E.o,!1))};function ju(s,N){hz.call(this);
this.qM=s;this.e=W.z("span","labelitem fitem"+(N?" spread":""));this.N()}ju.prototype=new hz;ju.prototype.b=function(s){this.e.textContent=s};
ju.prototype.L=function(){return this.e.textContent};ju.prototype.WT=function(){this.e.removeAttribute("disabled")};
ju.prototype.sK=function(){this.e.setAttribute("disabled","")};ju.prototype.wp=function(s){this.e.textContent=s};
ju.prototype.N=function(){this.e.textContent=eV.get(this.qM)};ju.prototype.afy=function(){return this.qM};
function aa(s,N,r,S,z){hz.call(this);this.e=W.z("button","fitem"+(N?" spread":"")+(S?" bbtn":""));this.qM=s;
this.We=r;this.N();var A=z&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(A,this.U9.bind(this),!1)}aa.prototype=new hz;
aa.prototype.N=function(){var s=this.e,N=this.qM,r=this.We,S=eV.get(N);if(S.startsWith("<img")||S.startsWith("<svg")||S.startsWith("<span"))s.innerHTML=S;
else s.textContent=S;if(S.startsWith("<img")||S.startsWith("<svg")||S.startsWith("<span"))s.setAttribute("style","padding:2px");
if(r){s.setAttribute("title",eV.get(r))}};aa.prototype.an1=function(s){this.e.setAttribute("title",s)};
aa.prototype.U9=function(s){this.c(new hU("click",!1))};aa.prototype.Io=function(){W.Bc(this.e,"bactive")};
aa.prototype.sD=function(){W.$F(this.e,"bactive")};aa.prototype.wp=function(s,N){if(s)this.qM=s;if(N)this.We=N;
this.N()};aa.prototype.b=function(s){if(s)this.Io();else this.sD()};aa.prototype.pX=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
aa.prototype.L=function(){return this.pX()};function aW(s,N,r,S,z){hz.call(this);var A=W.Dg();this.e=W.z("span","fitem tinput");
if(s){this.qM=s;this.Q3=W.z("label","flabel");this.e.appendChild(this.Q3);this.Q3.setAttribute("for",A);
this.N()}if(z){this.hn=W.z("span")}else if(S==null){this.hn=W.z("input");this.hn.setAttribute("type","text")}else this.hn=W.z("textarea","scrollable");
this.hn.setAttribute("id",A);if(r)this.hn.setAttribute("style","width:"+r+"em;"+(z?" display:inline-block; margin-left:6px;":""));
if(S)this.hn.setAttribute("rows",S);this.e.appendChild(this.hn);if(N){this.BK=W.z("span");this.BK.textContent=N;
this.BK.style.marginLeft="2px";this.e.appendChild(this.BK)}W.Im(this.hn);this.hn.addEventListener("change",this.lp.bind(this),!1);
this.hn.addEventListener("input",this.aaW.bind(this),!1)}aW.prototype=new hz;aW.prototype.N=function(){if(this.qM)this.Q3.textContent=eV.get(this.qM)+":"};
aW.prototype.wp=function(s){this.Q3.textContent=s};aW.prototype.b=function(s){var N=this.hn,r=s==null?"":s,S=N.tagName=="SPAN";
if(S){N.textContent=" "+r;if(this.BK)N.appendChild(this.BK)}else N.value=r};aW.prototype.av3=function(s){this.BK.textContent=s};
aW.prototype.L=function(){return this.hn.value};aW.prototype.aS=function(){this.hn.select();this.hn.focus()};
aW.prototype.lp=function(s){this.c(new hU(k.E.o,!1))};aW.prototype.aaW=function(s){this.c(new hU("input",!1))};
function gn(s,N,r,S,z,A,B,Y,t){hz.call(this);if(z==null)z=0;this.e=W.z("span","fitem");var p=W.Dg();
this.qM=s;this.We=Y;this.zf=0;this.HU=t;this.Pf=N;this.rI=r;this.KU=null;if(S instanceof Array){this.KU=S;
S=S[0]}this.D$=S;this.fj=z;this.a3W=A;this.a0=B;this.EA=0;this.Q3=W.z("label","flabel");this.Q3.innerHTML=s;
this.Q3.setAttribute("style","cursor:col-resize;");this.Ar=W.z("input");this.Ar.setAttribute("type","range");
if(B){this.Ar.min=0;this.Ar.max=400}else{this.Ar.min=N;this.Ar.max=r;if(z!=0)this.Ar.step=(r-N)/200}this.hn=W.z("input");
this.hn.setAttribute("type","text");this.hn.setAttribute("id",p);this.BK=W.z("span");this.BK.innerHTML=S;
W.Im(this.hn);this.hn.addEventListener("change",this.lp.bind(this),!1);this.hn.addEventListener("keydown",this.Ne.bind(this),!1);
this.hn.addEventListener("wheel",this.V_.bind(this),!1);this.Ar.addEventListener("input",this.lp.bind(this),!1);
if(t)this.Ar.addEventListener("change",this.lp.bind(this),!1);this.Ar.addEventListener("click",this.a9f.bind(this),!1);
this.a0j=this.ask.bind(this);this.a4l=this.aiz.bind(this);this.a3c=this.ae3.bind(this);this.qj=0;this.td=0;
this.Z0=!1;W.JQ(this.Q3,this.a0j);W.Kq(this.Q3)}gn.prototype=new hz;gn.prototype.Nd=function(s){this.fj=s};
gn.prototype.wp=function(s){this.Q3.style.display=s?"inherit":"none";if(s)this.Q3.textContent=eV.get(s)};
gn.prototype.N=function(){var i3=this.qM,s=this.We;if(i3){if(typeof i3=="string"&&i3.startsWith("<"))this.Q3.innerHTML=i3;
else this.Q3.textContent=eV.get(i3)+":"}if(s){s=eV.get(s);if(i3)this.Q3.setAttribute("title",s);this.hn.setAttribute("title",s)}};
gn.prototype.b=function(s,N){var r=this.Pf==this.rI,z;if(!r&&this.Pf>=0)s=Math.max(this.Pf,s);if(this.fj==0)s=Math.round(s);
var S=this.D$;this.zf=s;this.hn.value=(this.fj!=0?s.toFixed(this.fj):s)+(this.a3W&&S?(S.toLowerCase()==S.toUpperCase()?"":" ")+S:"");
if(-this.Pf==this.rI)z=200+Math.sign(s)*200*Math.pow(Math.abs(s)/this.rI,1/2.7);else z=400*Math.pow((s-this.Pf)/(this.rI-this.Pf),1/2.7);
this.Ar.value=this.a0?z:s;if(N)this.U_()};gn.prototype.L=function(){var s=this.zf;if(isNaN(s))s=0;return s};
gn.prototype.XH=function(){return this.D$};gn.prototype.lp=function(s){var N=0;if(s.currentTarget==this.hn){var r=s.target.value,S=0;
N=r==""?0:this.D$?parseFloat(r):eval(r);if(isNaN(N))N=0;while(S<r.length&&(r.charAt(S)=="."||48<=r.charCodeAt(S)&&r.charCodeAt(S)<=57))S++;
var z=r.slice(S).trim();if(this.KU&&this.KU.indexOf(z)!=-1)this.D$=z}else{if(Date.now()-this.EA<10)return;
N=parseFloat(s.target.value);if(this.a0){if(-this.Pf==this.rI)N=Math.sign(N-200)*Math.pow(Math.abs(N-200)/200,2.7)*this.rI;
else N=this.Pf+Math.pow(N/400,2.7)*(this.rI-this.Pf);N=this.arb(N)}}this.b(N);if(s.type=="input"&&this.HU)return;
this.U_()};gn.prototype.U_=function(){this.c(new hU(k.E.o))};gn.prototype.arb=function(s){if(this.rI-this.Pf>50&&s>10)s=Math.round(s);
return s};gn.prototype.Ne=function(s){var N=0;if(cK.UW(s.code,cK.aa))N=1;if(cK.UW(s.code,cK.Qw))N=-1;
if(N!=0)this.apw(N,s.shiftKey)};gn.prototype.V_=function(s){this.apw(s.deltaY>0?-1:1,s.shiftKey)};gn.prototype.apw=function(s,N){var r=this.L(),S=this.fj,z=s*(S==null||S==0||r>5?1:.1);
if(N)z*=10;var A=r+z;if(!this.a0&&this.rI!=this.Pf)A=Math.min(this.rI,A);this.b(A);this.U_()};gn.prototype.a9f=function(s){var N=Date.now()-this.EA;
this.EA=Date.now();if(N>200)return;var r=this.Pf,S=this.rI,z=(r+S)/2;if(r<1&&S>1&&S<10)z=1;else if(r<90&&S>110)z=100;
else if(r<0&&S>0)z=0;this.b(z);this.U_()};gn.prototype.ask=function(s){W.UT(document,this.a4l);W.eA(document,this.a3c);
this.qj=W.WO(s,document.body).x;this.td=this.L()};gn.prototype.aiz=function(s){W.wC(s);var N=this.Pf==this.rI,r=W.WO(s,document.body).x,S=(r-this.qj)*(N?1:1/120*(this.rI-this.Pf)),z=this.td+S;
if(N)z=Math.round(z);if(!N){if(!0){z=Math.max(this.Pf,z);if(z==this.Pf){this.qj=r;this.td=this.Pf}}if(!this.a0){z=Math.min(this.rI,z);
if(z==this.rI){this.qj=r;this.td=this.rI}}z=this.arb(z)}this.Z0=!0;this.b(z);if(!this.HU)this.U_()};
gn.prototype.ae3=function(s){if(!this.Z0)this.hn.focus();this.Z0=!1;if(this.HU)this.U_();W.nP(document,this.a4l);
W.tp(document,this.a3c)};gn.prototype.aS=function(){this.hn.select();this.hn.focus()};function ij(s,N,r,S,z,A,B,Y,t,p){gn.call(this,s,N,r,S,z,!0,A,t,p);
W.Bc(this.e,"rangedropinput");this.e.appendChild(this.Q3);this.hn.setAttribute("style","width:"+(Y?Y:3.3)+"em");
this.e.appendChild(this.hn);this.ajW=W.z("span","rangecontFloat");this.ajW.appendChild(this.Ar);this.wZ=W.z("button");
this.wZ.textContent="\u25BC";W.JQ(this.wZ,this.aoo.bind(this));if(B!=!0)this.e.appendChild(this.wZ);
this.He=new hz;this.He.e=this.ajW}ij.prototype=new gn;ij.prototype.aoo=function(s){if(W.zS(this.He.e))return;
s.stopPropagation();var N=this.e.getBoundingClientRect();this.Ar.setAttribute("style","width:"+N.width+"px;");
var r=new hU(k.E.Y,!0);r.data={d:k.s.xh,mk:this.He,x:N.left-10,y:N.top+N.height};this.c(r)};function fM(s,N,r,S,z,A){gn.call(this,s,N,r,S,z,!1,A);
this.e.appendChild(this.Q3);var B=W.z("span");this.e.appendChild(B);B.appendChild(this.Ar);this.e.appendChild(this.hn);
this.hn.setAttribute("style","width:3.3em");if(this.D$)this.e.appendChild(this.BK)}fM.prototype=new gn;
function ao(s,N,r,S,z,A,B,Y){gn.call(this,s,N,r,S,z,!0,A,null,B);W.Bc(this.e,"trangeinput");this.e.appendChild(this.Q3);
this.e.appendChild(this.hn);var t=W.z("span");if(Y!=!0)this.e.appendChild(t);t.appendChild(this.Ar);
this.Ar.setAttribute("style","width:97%;")}ao.prototype=new gn;function fa(s,N,r,S){hz.call(this);if(!N)return;
if(r==null)r=!1;this.Km=0;this.aef=r;this.qM=s;this.BE=null;this.apC=S;this.jg=[];var z="dd"+W.Dg();
this.e=W.z("span","fitem ddmenu");if(s&&!r){this.Q3=W.z("label","flabel");this.e.appendChild(this.Q3);
this.Q3.setAttribute("for",z)}this.JK=W.z("select","bbtn");this.JK.setAttribute("id",z);this.e.appendChild(this.JK);
this.JK.addEventListener("change",this.lp.bind(this),!1);function A(B){var Y=0;if(cK.UW(B.code,cK.aa))Y=1;
if(cK.UW(B.code,cK.Qw))Y=-1;if(Y!=0)B.stopPropagation()}this.JK.addEventListener("keydown",A,!1);this.JK.addEventListener("keyup",A,!1);
this.On=[];this.nt=null;this.dO(N,S);this.N()}fa.prototype=new hz;fa.prototype.wp=function(s){this.qM=s;
this.N()};fa.prototype.N=function(){if(this.qM!=null){var s=eV.get(this.qM);if(this.aef)this.JK.setAttribute("title",s);
else this.Q3.textContent=s+":"}if(this.nt)this.dO(this.nt,this.apC);this.b(this.Km)};fa.prototype.L=function(){return this.Km};
fa.prototype.dO=function(s,N){W.o3(this.JK);var r=[],S=0;if(N){r.push(N[0]);for(var l=1;l<N.length;l++)r.push(r[l-1]+N[l])}this.nt=s;
this.BE=[];this.apC=N;for(var l=0;l<s.length;l++){var z=W.z("option");if(this.jg.indexOf(l)!=-1)z.setAttribute("disabled","");
z.textContent=eV.get(s[l]);z.setAttribute("value",l);this.JK.appendChild(z);this.On.push(z);this.BE.push(l+S);
if(r.indexOf(l+1)!=-1&&l!=s.length-1){var A=W.z("option");A.setAttribute("disabled","");A.textContent="";
this.JK.appendChild(A);S++}}};fa.prototype.ahf=function(l){var s=this.jg,N=s.indexOf(l);if(N==-1)s.push(l);
this.N()};fa.prototype.ait=function(l){var s=this.jg,N=s.indexOf(l);if(N!=-1)s.splice(N,1);this.N()};
fa.prototype.b=function(s){this.Km=s;this.JK.selectedIndex=this.BE[s]};fa.prototype.lp=function(s){this.Km=this.BE.indexOf(this.JK.selectedIndex);
this.c(new hU(k.E.o,!1))};function gI(s,N,r,S){hz.call(this);if(!N)return;this.Km=0;this.a5c=S;this.e=W.z("span","fitem bbmenu");
this.Q3=W.z("label","flabel");if(s){this.qM=s;this.Q3.textContent=s+":";this.e.appendChild(this.Q3)}this.On=[];
this.LV=W.z("span");this.e.appendChild(this.LV);this.nt=null;this.dO(N,r);this.b(0)}gI.prototype=new hz;
gI.prototype.wp=function(s){this.qM=s;this.N()};gI.prototype.N=function(){var s=this.Q3.parentNode!=null,N=this.e;
if(this.qM!=null){if(!s){N.appendChild(this.Q3);N.appendChild(this.LV)}this.Q3.textContent=eV.get(this.qM)+": "}else if(s)N.removeChild(this.Q3);
for(var l=0;l<this.On.length;l++)this.On[l].N()};gI.prototype.L=function(){return this.Km};gI.prototype.dO=function(s,N){W.o3(this.LV);
this.On=[];this.nt=s;for(var l=0;l<s.length;l++){var r=new aa(s[l],!1,N?N[l]:null,this.a5c);r.W("click",this.lp,this);
this.LV.appendChild(r.e);this.On.push(r)}this.N()};gI.prototype.b=function(s){this.Km=s;for(var l=0;
l<this.On.length;l++)this.On[l].sD();this.On[s].Io()};gI.prototype.lp=function(s){var l=this.On.indexOf(s.target);
this.b(l);this.c(new hU(k.E.o,!1))};gI.Is=function(s,N,r){if(N==null)N=16;var S=gI.NB,z=S.getContext("2d"),A=N>>>1;
S.width=S.height=N;var B=[];for(var l=0;l<s.length;l++){if(s[l][0]=="-")B.push(s[l].slice(1));else if(s[l]=="checker"||s[l].startsWith("#")){if(s[l]=="checker"){z.fillStyle="white";
z.fillRect(0,0,N,N);z.fillStyle="#bbbbbb";z.fillRect(A,0,A,A);z.fillRect(0,A,A,A)}else if(s[l].startsWith("#")){z.fillStyle=s[l];
z.fillRect(0,0,N,N)}B.push("<img src=\""+S.toDataURL()+"\" />")}else B.push(W.xH(s[l],null,r?r:"autoscale"))}return B};
gI.NB=W.z("canvas");function di(s,N,r,S,z,A){hz.call(this);this.e=W.z("span","fitem mbox");this.a9j=r;
this.aiI=z;if(s){this.qM=s;this.Q3=W.z("label","flabel");this.e.appendChild(this.Q3)}this.wj=N;this.ie=[];
for(var l=0;l<N.length;l++){var B=r?new aa(N[l],!1,S?S[l]:null,!1,A):new d1(N[l],!0,"");B.W(r?"click":k.E.o,this.lp,this);
this.ie.push(B);this.e.appendChild(B.e)}this.N()}di.prototype=new hz;di.prototype.b=function(s){for(var N=0;
N<this.wj.length;N++)this.ie[N].b(s[N])};di.prototype.L=function(){var s=[];for(var N=0;N<this.wj.length;
N++)s[N]=this.ie[N].L();return s};di.prototype.N=function(){if(this.qM)this.Q3.innerHTML=eV.get(this.qM)+": ";
var s=this.ie;for(var N=0;N<s.length;N++){s[N].N();if(N==s.length-1)s[N].e.style.marginRight="0px"}};
di.prototype.lp=function(s){var l=this.ie.indexOf(s.currentTarget),N=this.ie[l];if(this.a9j)N.b(!N.L());
if(this.aiI){var r=N.L();for(var l=0;l<this.ie.length;l++)this.ie[l].b(!1);N.b(r)}this.c(new hU(k.E.o,!1))};
function j7(s,N){hz.call(this);this.yf=[];this.f=[];this.alq=s;this.C6=N;this.oa=0;this.p2=null;this.Cg=new cR(0,0);
if(N!=null){this._g=new hR([{name:[6,37]},{name:[5,4]}]);this._g.parent=this;this._g.W("select",this.M0,this)}this.e=W.z("div","imageset scrollable");
this.e.addEventListener("contextmenu",W.GF,!1)}j7.prototype=new hz;j7.prototype.N=function(){if(this._g)this._g.N()};
j7.prototype.M0=function(s){var l=this._g.o4()[0],N=new hU(k.E.Y,!0),r={d:k.s.Jl,LS:this.C6,IK:this.f.slice(0)};
if(l==0){var S=this.p2[1][this.f[0]];r.V8="rnm";N.data={d:k.s.Pv,ic:"namewindow",kj:S,ap:{O:k.E.Y,M:r}}}else{N.data=r;
r.V8="del"}this.c(N)};j7.prototype.agP=function(){return this.oa};j7.prototype.lh=function(s){this.oa=s;
if(this.p2)this.rx()};j7.prototype.en=function(s,N,r,S){this.p2=[s,N,r,S];this.rx()};j7.prototype.rx=function(){var s=this.p2,N=s[0],r=s[1],S=s[2],z=s[3];
this.yf=[];this.e.innerHTML="";var A=this.U9.bind(this),B=this.oa;if(B==0)W.Bc(this.e,"imageset");else W.$F(this.e,"imageset");
for(var l=0;l<N.length;l++){var Y=N[l],t=null;if(Y==null){this.yf.push(null);continue}if(typeof Y=="string"){t=W.z("img","image");
t.setAttribute("src",Y)}else t=Y;if(S)W.UY(t,S,z);if(this.alq)W.Bc(t,"gsicon");if(B==0){}else{var p=W.z("div","listitem");
p.appendChild(t);var f=W.z("span");f.textContent=r?r[l]:"Item "+(l+1);f.setAttribute("style","margin-left:4px;");
p.appendChild(f);t=p}if(r)t.setAttribute("title",r[l]);t.addEventListener("mousedown",A,!1);this.yf.push(t);
this.e.appendChild(t)}};j7.prototype.U9=function(s){if(this.C6==null)s.preventDefault();var N=this.yf.indexOf(s.currentTarget),r=window.__kb,S=this.f,z=S.length;
if(r.t(cK.nG)){var A=Math.min(S[0],S[S.length-1],N),B=Math.max(S[0],S[S.length-1],N);S=[];for(var l=A;
l<=B;l++)S.push(l)}else if(r.t(cK.z6)){var Y=S.indexOf(N);if(Y==-1)S.push(N);else S.splice(Y,1)}else S=[N];
S.sort(function(a,D){return a-D});if(s.button==0||z==1)this.b(S);this.Cg=W.WO(s,s.currentTarget);if(s.button==0)this.c(new hU(k.E.o));
if(s.button==2&&this._g){var t=this._g;t.update(null);var p=W.WO(s,document.body),f=new hU(k.E.Y,!0);
f.data={d:k.s.xh,mk:t,x:p.x,y:p.y+2};this.c(f)}};j7.prototype.L=function(){return this.f.slice(0)};j7.prototype.aqT=function(){var s=this.Cg;
return new cR(s.x,s.y)};j7.prototype.b=function(s){this.f=s.slice(0);for(var l=0;l<this.yf.length;l++){var N=this.yf[l];
if(N==null)continue;if(s.indexOf(l)!=-1)W.Bc(N,"selected");else W.$F(N,"selected")}};function cS(s,N,r,S,z,A,B){hz.call(this);
this.e=W.z("span","fitem "+r);this.z5=new hz;this.z5.e=W.z("div","floatcont");this.z5.e.setAttribute("style","width: "+(S+1.5)+"em;");
this.z5.parent=this;this.anf=W.z("div");this.z5.e.appendChild(this.anf);this.UM=W.z("div");this.z5.e.appendChild(this.UM);
if(s){this.qM=s;this.Q3=W.z("label","flabel");this.e.appendChild(this.Q3)}this.d=W.z("button",B?"nopadding":"");
this.d.setAttribute("style","position:relative;");var Y=this.BW.bind(this),t=this.Gr.bind(this);W.JQ(this.d,N?t:Y);
this.e.appendChild(this.d);this.Wj=W.z("img",B?"gsicon":"");this.d.appendChild(this.Wj);if(N){var p=W.z("button");
p.textContent="\u25BC";W.JQ(p,Y);this.e.appendChild(p)}else{var f=W.z("span");f.textContent="\u25BC";
f.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(f)}var a=W.z("span");
this.UM.appendChild(a);a.setAttribute("style","display:inline-block;  vertical-align:top; width:"+S+"em;");
this.ss=new j7(B,A);a.appendChild(this.ss.e);this.ss.parent=this.z5;this.ss.W(k.E.o,this.gS,this);this.ss.e.style.height=z+"em";
this.bE=W.z("button");this.bE.textContent="\u25BC";this.bE.setAttribute("style","padding:3px");W.JQ(this.bE,this.xt.bind(this));
this.UM.appendChild(this.bE);var D=this.z1(),c=A!=eq.ta&&A!=eq.ne?A:null,J=A==null?"":eq.Go[A][0].toUpperCase(),Z=c?[{name:[12,87]}]:[];
Z=Z.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Al:!0},{name:[[23,6],"."+(J=="ICC"?"icc .cube .look .3dl":J)]},{name:["VAR0 ."+J,[1,8]]},{name:[6,37]},{name:[5,4],Al:D.length!=0}]);
for(var l=0;l<D.length;l++)Z.push({name:D[l].split("/").pop()});this._g=new hR(Z);this._g.parent=this.z5;
this._g.W("select",this.M0,this);this.C6=A;this.atD=c;this.gp=null;this.sA=!0;this.Y6=null}cS.prototype=new hz;
cS.prototype.z1=function(){return[]};cS.prototype.Gr=function(){};cS.prototype.N=function(){this._g.N();
this.ss.N();var s=this.qM;if(s)this.Q3.textContent=eV.get(s)+":"};cS.prototype.wp=function(s){this.Q3.textContent=s};
cS.prototype.da=function(s){var N=this.C6,r=0;if(N==eq.P3){r=this.gp?this.gp.length:0;s=s.slice(0)}this.gp=s;
this.sA=!0;if(W.zS(this.ss.e)||N==eq.Pt)this.os();if(N==eq.P3&&s.length-r==1&&W.zS(this.e)){this.b(s[r]);
this.sA=!0;this.os();this.ss.b([r]);this.c(new hU(k.E.o))}};cS.prototype.M0=function(s){var N=s.target.o4()[0];
if(this.atD==null)N++;var r=new hU(k.E.Y,!0);if(N==0){var S=this.tw();if(this.C6==eq.P3&&S[0].profile==null)return;
r.data={d:k.s.Jl,V8:"add",LS:this.atD,lz:S}}else if(N==1)this.ss.lh(1-this.ss.agP());else if(N<=5)this.OG(N-2);
else{var z=this.z1();r.data={d:k.s.k3,LS:{url:"rsrc/"+z[N-6]}}}if(r.data)this.c(r)};cS.prototype.OG=function(s){var N=new hU(k.E.Y,!0),r=this.ss.L(),S={d:k.s.Jl,LS:this.C6,IK:r};
if(s>1&&r.length==0){alert("No items selected");return}if(s==0)N.data={d:k.s.LO};else if(s==1)N.data={d:k.s.qO,aex:this.C6,IK:r.length==0?null:r};
else if(s==2){var z=this.ss.p2[1][r[0]];S.V8="rnm";N.data={d:k.s.Pv,ic:"namewindow",kj:z,ap:{O:k.E.Y,M:S}}}else if(s==3){N.data=S;
S.V8="del"}this.c(N)};cS.prototype.tw=function(){return[this.L()]};cS.prototype.xt=function(s){if(W.zS(this._g.e))return;
s.stopPropagation();var N=this._g;N.N();N.update(null);var r=s.currentTarget.getBoundingClientRect(),S=new hU(k.E.Y,!0);
S.data={d:k.s.xh,mk:N,x:r.left,y:r.top+r.height};this.c(S)};cS.prototype.BW=function(s,N,r){if(W.zS(this.z5.e))return;
if(s)s.stopPropagation();this.os();if(N==null){var S=this.d.getBoundingClientRect(),N=S.left,r=S.top+S.height}var z=new hU(k.E.Y,!0);
z.data={d:k.s.xh,mk:this.z5,x:N,y:r,L0:!0};this.c(z)};cS.prototype.aru=function(s,N){this.BW(null,s,N)};
function fV(){hz.call(this);this.e=W.z("div");this.zf=!1;this.sw=[new fa([12,19,1],[[13,1,7]].concat(ai.Fi)),new b$([17,1]),new b$([12,46])];
for(var l=0;l<3;l++){var s=this.sw[l];this.e.appendChild(s.e);s.W(k.E.o,this.s2,this)}this.N()}fV.prototype=new hz;
fV.prototype.N=function(){for(var l=0;l<3;l++)this.sw[l].N()};fV.prototype.L=function(){return this.zf.slice(0)};
fV.prototype.b=function(s){this.zf=s.slice(0);var N=this.sw,r=N[0].L();N[1].b(s.slice(r*8,r*8+4),r);
N[2].b(s.slice(r*8+4,r*8+8),r)};fV.prototype.s2=function(s){var N=this.sw,r=N.indexOf(s.currentTarget);
if(r==0)this.b(this.zf);else{var S=N[0].L()*8+(r==1?0:4),z=N[r].L();for(var l=0;l<4;l++)this.zf[S+l]=z[l];
this.c(new hU(k.E.o,!1))}};function b$(s){hz.call(this);this.e=W.z("div");this.I=W.z("canvas");this.xq=s;
this.zf=[0,20,200,255];this.sl=0;this.XW=-1;this.a24=[];for(var l=0;l<5;l++){var N=W.z("span");N.setAttribute("style","display:inline-block;width:"+(l==0?8:l==2?7:2)+"em");
this.a24.push(N);this.e.appendChild(N)}this.Xd=this.ja.bind(this);this.aj=this.ma.bind(this);this.RE=this.$D.bind(this);
W.Kq(this.I);W.JQ(this.I,this.Xd);this.e.appendChild(this.I);this.rx()}b$.prototype=new hz;b$.prototype.N=function(){this.rx()};
b$.prototype.b=function(s,N){this.zf=s;this.sl=N;this.rx()};b$.prototype.L=function(){return this.zf.slice(0)};
b$.prototype.ja=function(s){var N=this.zf,r=W.WO(s,this.I),S=r.x-8,z=-1,A=1e9;for(var l=0;l<4;l++){var B=S-N[l],Y=Math.abs(B);
if(Y<8&&Y<A&&((l&1)==0&&B<0||(l&1)==1&&B>0)){A=B;z=l}}if(z==-1)return;this.XW=z;this.qP=window.__kb.t(cK.nI)||N[(z>>>1)*2]!=N[(z>>>1)*2+1];
W.UT(window,this.aj);W.eA(window,this.RE)};b$.prototype.ma=function(s){var N=this.zf,r=this.XW,S=(r>>>1)*2,z=S+1,A=W.WO(s,this.I),B=Math.round(Math.max(0,Math.min(255,A.x-8)));
N[r]=B;if(this.qP&&N[S]>=N[z])this.qP=!1;if(!this.qP)N[S]=N[z]=B;this.rx();this.c(new hU(k.E.o,!1))};
b$.prototype.$D=function(s){W.nP(window,this.aj);W.tp(window,this.RE)};b$.prototype.rx=function(){var s=this.I;
W.Bh(s,255+16,16);var N=s.getContext("2d"),r=s.width,S=s.height,z=Math.round(255*W.Z()),A=Math.round(8*W.Z());
N.translate(A,0);var B=N.createLinearGradient(0,0,z,0);B.addColorStop(0,"black");B.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.sl]);
N.fillStyle=B;N.fillRect(0,0,z,A);var Y=this.a24,t=eV.get(this.xq)+":";Y[0].textContent=t;for(var l=0;
l<4;l++){var p=this.zf[l];Y[1+l].textContent=p;var f=Math.round(p*W.Z());N.beginPath();N.moveTo(f,A);
N.lineTo(f,A+A);N.lineTo(f+((l&1)==0?-1:1)*A,A+A);N.closePath();N.fillStyle=l<2?"#666666":"#cccccc";
N.fill();N.strokeStyle="black";N.stroke()}};function fK(s,N,r){hz.call(this);if(r==null)r=!1;this.h=[0,0,1];
this.a5G=N;this.aaA=r;this.acA=0;var S="ai"+W.Dg();this.e=W.z("span","fitem angleinput");if(s){this.Q3=W.z("label","flabel");
this.qM=s;this.e.appendChild(this.Q3);this.Q3.setAttribute("for",S)}this.aw=r?44:20;this.I=W.z("canvas","gsicon");
this.IM=this.I.getContext("2d");W.Kq(this.I);W.Bh(this.I,this.aw*2+1,this.aw*2+1);this.IM.scale(W.Z(),W.Z());
this.e.appendChild(this.I);W.JQ(this.I,this.U0.bind(this));this.Ox=this.bJ.bind(this);this.lR=this.U$.bind(this);
var z=this.lp.bind(this),A=W.z("div");A.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!r)this.e.appendChild(A);this.$n=[];for(var l=0;l<2;l++){var B=W.z("input");this.$n.push(B);B.setAttribute("type","text");
W.Im(B);if(l==0)B.setAttribute("id",S);B.addEventListener("change",z,!1);var Y=W.z("span");Y.textContent="\xB0";
if(l==0||N){A.appendChild(B);A.appendChild(Y);W.ts(A)}}this.b(this.h)}fK.prototype=new hz;fK.prototype.N=function(){if(this.qM)this.Q3.textContent=eV.get(this.qM)+":"};
fK.prototype.wp=function(s){this.Q3.textContent=s};fK.prototype.L=function(){return this.h.slice(0)};
fK.prototype.b=function(s,N){var r=this.h;s=s.slice(0);if(s[0]==null)s[0]=r[0];if(s[1]==null)s[1]=r[1];
if(s[2]==null)s[2]=r[2];this.h=s;var S=s[0],z=s[1],A=s[2],B=this.a5G,Y=this.aaA,t=this.aw*.85;if(!B)z=0;
this.$n[0].value=S;this.$n[1].value=z;var p=this.IM;p.clearRect(0,0,100,100);S=Math.PI*S/180;z=t*(90-z)/90;
var f=this.aw+.5;p.save();p.translate(f,f);p.rotate(-S);p.strokeStyle="rgba(0,0,0,0.5)";p.beginPath();
p.ellipse(0,0,t,t*A,0,0,2*Math.PI);if(Y){p.moveTo(0,-t*A);p.lineTo(0,t*A);p.moveTo(-z,0)}else p.moveTo(0,0);
p.lineTo(z,0);p.stroke();var a=this.aw*.15;p.fillStyle="black";p.beginPath();if(Y){p.arc(0,-t*A,a*.66,0,2*Math.PI);
p.arc(0,t*A,a*.66,0,2*Math.PI)}if(B){p.arc(z,0,a*.4,0,2*Math.PI)}else{p.moveTo(f-a,-a*.66);p.lineTo(f,0);
p.lineTo(f-a,a*.66)}p.fill();p.restore();if(N)this.lp()};fK.prototype.lp=function(s){var N=parseInt(this.$n[0].value);
if(isNaN(N))N=0;var r=parseInt(this.$n[1].value);if(isNaN(r))r=0;N=N%360;r=r%360;this.b([N,r]);this.c(new hU(k.E.o,!1))};
fK.prototype.U0=function(s){W.UT(window,this.Ox);W.eA(window,this.lR);var N=W.WO(s,this.I),f=0,a=1e9;
N.x-=this.aw;N.y-=this.aw;var r=this.h,S=r[0]*Math.PI/180,z=(90-r[1])/90,A=r[2],B=this.aw*.85,Y=Math.sin(-S),t=Math.cos(-S),p=[new cR(t*B,Y*B)];
if(this.aaA)p.push(new cR(-Y*B*A,t*B*A),new cR(Y*B*A,-t*B*A));for(var l=0;l<p.length;l++){var D=cR.iI(N,p[l]);
if(D<a){a=D;f=l}}this.acA=f;if(f==0)this.bJ(s)};fK.prototype.bJ=function(s){var N=W.WO(s,this.I),r=this.acA,S=[],z=N.x-this.aw,A=N.y-this.aw,B=this.aw*.85;
if(r==0){var Y=180*Math.atan2(-A,z)/Math.PI,t=90-90*Math.min(1,Math.sqrt(z*z+A*A)/B);if(s.shiftKey)Y=Math.round(Y/15)*15;
S=[Math.round(Y),Math.round(t)]}else S=[null,null,Math.max(.01,Math.min(1,Math.sqrt(z*z+A*A)/B))];this.b(S);
this.c(new hU(k.E.o,!1))};fK.prototype.U$=function(s){this.c(new hU(k.E.o,!1));W.nP(window,this.Ox);
W.tp(window,this.lR)};function j1(s,N){hz.call(this);this.zf=0;this.fH=N;this.e=W.z("span","fitem angleinput");
if(s){this.Q3=W.z("label","flabel");this.qM=s;this.e.appendChild(this.Q3)}this.I=W.z("canvas","gsicon");
this.IM=this.I.getContext("2d");W.Bh(this.I,N,N);this.e.appendChild(this.I);W.Kq(this.I);W.JQ(this.I,this.U0.bind(this));
this.Ox=this.bJ.bind(this);this.lR=this.U$.bind(this);this.b(0)}j1.prototype=new hz;j1.prototype.N=function(){if(this.qM)this.Q3.textContent=eV.get(this.qM)+":"};
j1.prototype.wp=function(s){this.Q3.textContent=s};j1.prototype.L=function(){return this.zf};j1.prototype.atk=function(s){var N=this.zf,r=Math.floor(N/3),S=N-r*3;
S=Math.max(0,Math.min(2,S+s.x));r=Math.max(0,Math.min(2,r+s.y));this.b(r*3+S)};j1.prototype.b=function(s){this.zf=s;
var N=this.I.width,r=Math.floor(s/3),S=s-3*r,z=(S+.5)*N/3,A=(r+.5)*N/3,B=this.IM,Y=[.5,Math.round(N/3)+.5,Math.round(2*N/3)+.5,N-.5];
B.clearRect(0,0,N,N);var t=this.fH<30;B.setLineDash([]);B.strokeStyle=t?"rgba(0,0,0,0.5)":"#000000";
B.beginPath();for(var l=0;l<4;l++){var p=Y[l];B.moveTo(p,0);B.lineTo(p,N);B.moveTo(0,p);B.lineTo(N,p)}B.stroke();
if(s==9)return;if(!t){B.setLineDash([1,2]);var f=N*.53,a=Math.max(0,Math.min(N-f,z-f/2)),D=Math.max(0,Math.min(N-f,A-f/2));
B.strokeRect(Math.round(a)+.5,Math.round(D)+.5,Math.round(f),Math.round(f))}B.fillStyle="#000000";B.beginPath();
B.arc(z,A,N/8,0,Math.PI*2);B.fill()};j1.prototype.U0=function(s){W.UT(document.body,this.Ox);W.eA(document.body,this.lR);
this.bJ(s)};j1.prototype.bJ=function(s){var N=W.WO(s,this.I),r=Math.max(0,Math.min(2,Math.floor(N.x/(this.fH/3)))),S=Math.max(0,Math.min(2,Math.floor(N.y/(this.fH/3))));
this.b(S*3+r)};j1.prototype.U$=function(s){this.c(new hU(k.E.o,!1));W.nP(document.body,this.Ox);W.tp(document.body,this.lR)};
function fc(i3){hz.call(this);this.e=W.z("span","fitem cswatch");this.arT=0;this.KV=[];this.J1=[];var s=this.anu.bind(this);
for(var l=0;l<i3;l++){this.KV.push(0);var N=W.z("span","colorsample");N.addEventListener("click",s,!1);
this.J1.push(N);this.e.appendChild(N)}var r=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],S=Math.min(i3,r.length);
for(var l=0;l<S;l++)this.KV[l]=r[l];this.J$()}fc.prototype=new hz;fc.prototype.anu=function(s){this.arT=this.J1.indexOf(s.currentTarget);
this.c(new hU(k.E.o))};fc.prototype.L=function(){return this.KV[this.arT]};fc.prototype.b=function(s){var N=this.KV,r=N.indexOf(s);
if(r!=-1)N.splice(r,1);else N.pop();N.unshift(s);this.J$()};fc.prototype.J$=function(){for(var l=0;l<this.KV.length;
l++){this.J1[l].setAttribute("style","background-color:#"+q.fD(this.KV[l]))}};function bw(s){hz.call(this);
this.Ul={w:0,A:0,U:0};this.hb=s;this.e=W.z("span","fitem colorsample");this.e.addEventListener("click",this.KX.bind(this),!1)}bw.prototype=new hz;
bw.prototype.N=function(){};bw.prototype.KX=function(s){var N=this.Ul;this.c(new hU("click"));var r=new hU(k.E.Y,!0);
r.data={d:k.s.Pv,ic:"colorpicker",qx:N.w<<16|N.A<<8|N.U,Rc:this.DA.bind(this),mt:this.hb};this.c(r)};
bw.prototype.DA=function(s){this.Cl(s);this.c(new hU(k.E.o))};bw.prototype.vd=function(){this.KX(null)};
bw.prototype.anv=function(){var s=this.Ul;return s.w<<16|s.A<<8|s.U};bw.prototype.L=function(){return q.i.Sm(this.Ul)};
bw.prototype.Cl=function(s){this.Ul={w:s>>16&255,A:s>>8&255,U:s&255};this.ah7()};bw.prototype.b=function(s){this.Ul=q.i.iy(s);
this.ah7()};bw.prototype.ah7=function(){var s=this.Ul,N=s.w,r=s.A,S=s.U,z=N<<16|r<<8|S;this.e.setAttribute("style","background-color:#"+q.fD(z))};
function hd(){hz.call(this);this.hW=!1;this.D0=20;this.aeX=10;this.hj=0;this.hW=!1;this.oN={w:255,A:0,U:0};
this.fF={w:0,A:0,U:0};this.e=W.z("canvas");this.rx();W.Kq(this.e);W.JQ(this.e,this.Xd.bind(this))}hd.prototype=new hz;
hd.prototype.ap0=function(s){if(this.hW==s)return;this.hW=s;this.rx()};hd.prototype.N=function(){};hd.prototype.a19=function(s,N){function r(S){return{w:S>>16&255,A:S>>8&255,U:S&255}}if(s!=null)this.oN=r(s);
if(N!=null)this.fF=r(N);this.rx()};hd.prototype.Xd=function(s){var N=W.WO(s,this.e),r=N.x*W.Z(),S=N.y*W.Z(),z=this.D0,A=this.aeX,B=0;
if(r<A&&S<A){B=0}else if(r>z-A&&S>z-A){B=1}else if(r<A){B=2}else{B=3}this.vd(B)};hd.prototype.vd=function(s){var N=new hU(k.E.Y,!0);
if(s>1)N.data={d:k.s.Jl,LS:eq.rg,Xy:s};else{this.hj=s;var r=s==0?this.oN:this.fF;N.data={d:k.s.Pv,ic:"colorpicker",qx:r.w<<16|r.A<<8|r.U,Rc:this.DA.bind(this)}}this.c(N)};
hd.prototype.DA=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Jl,LS:eq.rg,Xy:this.hj,h:s};this.c(N)};
hd.prototype.rx=function(){var s=this.e,N=s.getContext("2d"),r=W.Z(),z="#aaaaaa",A=.62;W.Bh(s,34,34);
s.setAttribute("style",s.getAttribute("style")+";cursor:pointer");var S=this.D0=s.width,B=this.aeX=Math.round(S*A);
function Y(c,J){var Z=c.w,Q=c.A,M=c.U;if(J)Z=Q=M=Math.round(q.il(Z,Q,M));var u=Z<<16|Q<<8|M;return"#"+q.fD(u)}function t(c,J,B,Z,Q){N.fillStyle=Q?Q:"black";
N.fillRect(c,J,B,B);N.fillStyle=Z;N.fillRect(c+1,J+1,B-2,B-2)}t(S-B,S-B,B,Y(this.fF,this.hW));t(0,0,B,Y(this.oN,this.hW));
var p=S-B,f=Math.round(p*A);t(S-f,p-f,f,"white",z);t(S-p,0,f,"black",z);N.save();N.fillStyle=z;N.translate(0,S);
N.rotate(-Math.PI/2);p=S-B;var a=Math.round(p*.28),D=Math.round(p*.25);for(var l=0;l<2;l++){N.fillRect(a,a,p-a,1);
N.beginPath();N.moveTo(p-D,a+.5-D);N.lineTo(p,a+.5);N.lineTo(p-D,a+.5+D);N.closePath();N.fill();N.transform(0,1,1,0,0,0)}N.restore()};
function ci(s){cS.call(this,s,!1,"brushbutton nopadding",19,10,eq.rX,!0);var N=this.anf;W.Bc(N,"flexrow");
var r=W.z("div");N.appendChild(r);var S=W.z("div");N.appendChild(S);S.setAttribute("style","margin-left:8px");
this.Dl=new fK(null,null,!0);this.Dl.W(k.E.o,this.$J,this);r.appendChild(this.Dl.e);this.oV=new ao([12,14,0],1,1e3," px",0,!0);
this.oV.W(k.E.o,this.$J,this);S.appendChild(this.oV.e);this.Fv=new ao([12,17],0,100,"%");this.Fv.W(k.E.o,this.$J,this);
S.appendChild(this.Fv.e)}ci.prototype=new cS;ci.prototype.z1=function(){var s=["pencil","trees"];for(var l=0;
l<s.length;l++)s[l]="brushes/"+s[l]+".abr";return s};ci.prototype.b=function(s,N,r){this.Y6=JSON.parse(JSON.stringify(s));
var S=Math.floor(20*W.Z()),z=Math.floor(36*W.Z()),A=Math.floor(24*W.Z()),B=ex.ty(s,N,r,S,A,z);this.Wj.setAttribute("src",B);
W.UY(this.Wj,z,A);var Y=s.Brsh.v;this.oV.b(Y.Dmtr.v.val);if(Y.Hrdn!=null){this.Fv.WT();this.Fv.b(Y.Hrdn.v.val)}else this.Fv.sK();
if(Y.Angl!=null)this.Dl.b([Y.Angl.v.val]);if(Y.Rndn!=null)this.Dl.b([null,null,Y.Rndn.v.val/100])};ci.prototype.tw=function(){return{list:[{t:"Objc",v:this.L()}],nv:[],wf:[]}};
ci.prototype.L=function(){return this.Y6};ci.prototype.os=function(){if(!this.sA)return;var s=[],N=[],r=this.gp,S=Math.floor(33*W.Z()),z=Math.floor(40*W.Z());
for(var l=0;l<r.list.length;l++){var A=r.list[l].v,B=ex.ty(A,r.nv,r.wf,S,z);s.push(B);N.push(A.Nm.v.split("=").pop())}this.ss.en(s,N,S,z);
this.sA=!1};ci.prototype.gS=function(s){var N=this.gp;this.b(N.list[this.ss.L()[0]].v,N.nv,N.wf);this.c(new hU(k.E.o))};
ci.prototype.N=function(){cS.prototype.N.call(this);this.Dl.N();this.oV.N();this.Fv.N()};ci.prototype.$J=function(s){var N=this.gp,r=this.Y6,S=r.Brsh.v;
S.Dmtr.v.val=this.oV.L();if(S.Hrdn!=null)S.Hrdn.v.val=this.Fv.L();if(S.Angl!=null)S.Angl.v.val=this.Dl.L()[0];
if(S.Rndn!=null)S.Rndn.v.val=Math.round(this.Dl.L()[2]*100);this.b(r,N.nv,N.wf);this.c(new hU(k.E.o))};
function iE(s){cS.call(this,s,!0,"contourbutton",17,10.5,eq.N7)}iE.prototype=new cS;iE.prototype.gS=function(s){this.b(this.gp[s.target.L()]);
this.c(new hU(k.E.o))};iE.prototype.Gr=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Pv,ic:"contoureditor",bh:this.Y6,response:this.agO.bind(this)};
this.c(N)};iE.prototype.agO=function(s){this.b(s);this.c(new hU(k.E.o))};iE.prototype.os=function(){if(!this.sA)return;
var s=Math.floor(38*W.Z()),N=Math.floor(38*W.Z()),r=[],S=[],z=this.gp;for(var l=0;l<z.length;l++){S.push(z[l].Nm?z[l].Nm.v:"");
r.push(q.R2.ty(z[l].Crv.v,s,N))}this.ss.en(r,S,s,N);this.sA=!1};iE.prototype.b=function(s){this.Y6=JSON.parse(JSON.stringify(s));
var N=this.Y6.Crv.v;for(var l=0;l<N.length;l++)if(N[l].v.Cnty==null)N[l].v.Cnty={t:"bool",v:!0};this.au()};
iE.prototype.au=function(){var s=Math.floor(30*W.Z()),N=Math.floor(30*W.Z()),r=q.R2.ty(this.Y6.Crv.v,s,N);
this.Wj.setAttribute("src",r);W.UY(this.Wj,s,N)};iE.prototype.L=function(){return JSON.parse(JSON.stringify(this.Y6))};
function fJ(s){hz.call(this);this.zo=null;this.tx=null;this.BS=null;this.bz=null;this.agn=[];this.aq7=[];
this.e=W.z("span","fitem fillbutton");this.z5=new hz;this.z5.e=W.z("div","floatcont form");this.z5.e.setAttribute("style","width: 21em;");
this.z5.parent=this;this.Ny=s;this.Q3=this.Q3=W.z("label","flabel");this.e.appendChild(this.Q3);this.I=W.z("canvas");
this.IM=this.I.getContext("2d");this.aff=null;this.e.appendChild(this.I);W.JQ(this.I,this.BW.bind(this));
this.Iv=new gI([12,66],["","Color","Grad","Patt"]);this.z5.e.appendChild(this.Iv.e);this.Iv.W(k.E.o,this.s2,this);
this.z5.e.appendChild(W.z("hr"));this.ar8=W.z("span");this.d_=new bw(!1);this.d_.parent=this.z5;this.d_.W(k.E.o,this.s2,this);
this.cj=new fc(10);this.cj.W(k.E.o,this.s2,this);this.s$=W.z("div","marged hiline");this.s$.appendChild(this.d_.e);
W.ts(this.s$);this.s$.appendChild(this.cj.e);this.Nz=new dl("GrFl",!0);this.Nz.parent=this.z5;this.Nz.W(k.E.o,this.s2,this);
this.OE=W.z("div","marged hiline");var N="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var l=0;
l<N.length;l++){var r=this.Nz.rU[N[l]].e;this.OE.appendChild(r)}this.Ip=new dl("patternFill",!0);this.Ip.parent=this.z5;
this.Ip.W(k.E.o,this.s2,this);this.ce=W.z("div","marged hiline");var N=["Ptrn","Angl","Scl","Algn","phase"];
for(var l=0;l<N.length;l++){var r=this.Ip.rU[N[l]].e;this.ce.appendChild(r)}}fJ.prototype=new hz;fJ.prototype.wy=function(s,N){var r=d7.lj(s,N);
if(r!=null)this.cj.b(r);if(N==eq.gg){this.agn=[];this.aq7=[];if(this.zo)this.b(this.BS,this.L(),this.zo)}this.tx=s;
this.Nz.wy(s,N);this.Ip.wy(s,N)};fJ.prototype.N=function(){this.Q3.textContent=eV.get(this.Ny)+": ";
this.Iv.N();this.d_.N();this.Nz.N();this.Ip.N()};fJ.prototype.s2=function(s){var N=s.currentTarget;if(N==this.Iv){var r=this.Iv.L(),S={Hf:r,SR:this.zo[r]};
if(r>0&&S.SR==null)S.SR=JSON.parse(JSON.stringify(jG.WX[r-1]));if(this.zo)this.b(this.BS,S,this.zo)}if(N==this.cj)this.d_.Cl(N.L());
this.c(new hU(k.E.o,!1))};fJ.prototype.BW=function(s){if(W.zS(this.z5.e))return;s.stopPropagation();
var N=this.I.getBoundingClientRect(),r=new hU(k.E.Y,!0);r.data={d:k.s.xh,mk:this.z5,x:N.left,y:N.top+N.height+4};
this.c(r)};fJ.prototype.b=function(s,N,r){this.zo=r;this.BS=s;var S=[[13,1,0],[13,0],[12,37],[12,62]],z=this.agn,A=this.aq7,B=!1,f;
for(var l=0;l<4;l++){var Y={Hf:l,SR:r[l]},t=fJ.a2J(Y);if(A[l]==t)continue;B=!0;var p=fJ.aim(null,Y,this.tx,this.BS,22,22,!1);
z[l]="<img width=\"22\" height=\"22\" src=\""+p+"\" />";A[l]=t}if(B)this.Iv.dO(z,S);this.Iv.b(N.Hf);
var t=fJ.a2J(N);if(t!=this.aff)fJ.aim(this.IM,N,this.tx,this.BS,30,23,!0);this.aff=t;var a=N.Hf;if(a==0){f=this.ar8}if(a==1){this.d_.b(N.SR.Clr.v);
f=this.s$}if(a==2){this.Nz.update(s,N.SR);f=this.OE}if(a==3){this.Ip.update(s,N.SR);f=this.ce}if(f!=this.bz){if(this.bz!=null){this.z5.e.removeChild(this.bz)}this.z5.e.appendChild(f);
this.bz=f}};fJ.prototype.L=function(){var s={Hf:this.Iv.L()};if(s.Hf==1){s.SR=JSON.parse(JSON.stringify(jG.WX[0]));
s.SR.Clr.v=this.d_.L()}if(s.Hf==2){s.SR=this.Nz.L()}if(s.Hf==3){s.SR=this.Ip.L()}return s};fJ.a2J=function(s){var N=s.Hf,r=s.SR,S="empty";
if(N==1){S=q.i.iy(r.Clr.v);S=S.w+","+S.A+","+S.U}if(N==2)S=JSON.stringify(r.Grad.v);if(N==3)S=r.Ptrn.v.Idnt.v;
return S};fJ.aim=function(s,N,r,S,z,A,B){if(s==null)s=fJ.IM;var Y=Math.floor(z*W.Z()),t=Math.floor(A*W.Z()),p=s.canvas,f;
p.width=Y;p.height=t;W.UY(p,Y,t);var a=N.Hf;if(a==0){s.fillStyle="#ffffff";s.fillRect(0,0,Y,t);s.strokeStyle="#ff0000";
s.lineWidth=2;s.moveTo(0,0);s.lineTo(Y,t);s.moveTo(0,t);s.lineTo(Y,0);s.stroke()}if(a==1){var D=N.SR.Clr.v;
D=q.i.iy(D);s.fillStyle="#"+q.fD(D.w<<16|D.A<<8|D.U);s.fillRect(0,0,Y,t)}if(a==2){K.gL.ty(N.SR.Grad.v,Y,t,0,r.Hd,r.on,p)}if(a==3){var c=N.SR.Ptrn.v,J;
if(S!=null)J=hC.N_(c,S.add.Patt);if(J==null)J=hC.N_(c,r.dj);eM.ty(J,Y,t,p)}if(B){s.beginPath();s.strokeStyle="#000000";
s.fillStyle="#ffffff";s.lineWidth=2;var Z=Y*.7,Q=Math.floor(t*.7),M=7*W.Z();s.moveTo(Z,Q);s.lineTo(Z+M,Q);
s.lineTo(Z+M/2,Q+M/2);s.closePath();s.stroke();s.fill()}if(s==fJ.IM)return p.toDataURL()};fJ.IM=W.z("canvas").getContext("2d");
function eM(s){cS.call(this,s,!1,"patternbutton",18,10,eq.gg);this.it=null}eM.prototype=new cS;eM.prototype.gS=function(s){var N=this.gp[this.ss.L()];
this.Y6={classID:"Ptrn",Nm:{t:"TEXT",v:N.name},Idnt:{t:"TEXT",v:N.id}};this.c(new hU(k.E.o));this.au()};
eM.prototype.os=function(){if(!this.sA)return;var s=this.gp,N=Math.floor(34*W.Z()),r=Math.floor(34*W.Z()),S=[],z=[];
for(var l=0;l<s.length;l++){S.push(eM.ty(s[l],N,r));z.push(s[l].name)}this.ss.en(S,z,N,r);this.sA=!1};
eM.prototype.b=function(s,N){if(this.Y6&&s.Idnt.v==this.Y6.Idnt.v)return;this.Y6=JSON.parse(JSON.stringify(s));
this.au(N)};eM.prototype.L=function(){return JSON.parse(JSON.stringify(this.Y6))};eM.prototype.tw=function(){return this.it?[this.it]:[]};
eM.prototype.au=function(s){var N=Math.floor(50*W.Z()),r=Math.floor(50*W.Z()),S;if(s!=null)S=hC.N_(this.Y6,s.add.Patt);
if(S==null)S=hC.N_(this.Y6,this.gp);this.it=S;var z=eM.ty(S,N,r);this.Wj.setAttribute("src",z);W.UY(this.Wj,N,r)};
eM.I=W.z("canvas","");eM.ty=function(s,N,r,S){if(S==null)S=eM.I;var z=S.getContext("2d");S.width=N;S.height=r;
if(s){var A=s.yK[1],B=A.G,Y=A.n,t=s.yK[0],p=Math.min(N/B,r/Y),f=p;if(f*B<2)f=2/B;var a=p;if(a*Y<2)a=2/Y;
var D=K.S.aG([t,A],new gF(f,0,0,a,0,0),f>2),c=D.rect.G,J=D.rect.n,Z=z.createImageData(c,J);q.r8(D.buffer,Z.data);
z.putImageData(Z,Math.floor((N-c)/2),Math.floor((r-J)/2))}return S.toDataURL()};function ek(s,N,r){if(N==null)N=24.2;
if(r==null)r=17;cS.call(this,s,!1,"patternbutton",N,r,eq.ta);this.Mg=""}ek.prototype=new cS;ek.prototype.gS=function(s){this.Y6=JSON.parse(JSON.stringify(this.gp[0][this.ss.L()[0]]));
this.c(new hU(k.E.o))};ek.prototype.os=function(){var s=this.gp;if(s==null||!this.sA)return;var N=Math.floor(50*W.Z()),r=Math.floor(50*W.Z()),S=[],z=[];
for(var l=0;l<s[0].length;l++){S.push(ek.ty(this.gp[0][l].KM,N,r,this.gp[1]));z.push(s[0][l].Dy.Nm.v.split("=").pop())}this.ss.en(S,z,N,r);
this.sA=!1};ek.prototype.b=function(s,N,r,S){var z=JSON.stringify(s.KM)+","+r+","+S;if(this.Mg!=z){this.Mg=z;
this.Y6=JSON.parse(JSON.stringify(s));this.au(N,r,S)}};ek.prototype.L=function(){return JSON.parse(JSON.stringify(this.Y6))};
ek.prototype.au=function(s,N,r){var S=Math.floor(68*W.Z()),z=Math.floor(68*W.Z()),A=ek.ty(this.Y6.KM,S,z,s?s:this.gp[1],N,r);
this.Wj.setAttribute("src",A);W.UY(this.Wj,S,z)};ek.ty=function(s,N,r,S,z,A){var B=new a2;B.G=N;B.n=r;
B.buffer=q.m(N*r*4);B.add.Patt=S;B.fP(z==null?90:z);B.Om(A==null?30:A);var Y=new hq(0,0,Math.round(N*.5),Math.round(r*.5));
Y.x=Math.round((N-Y.G)/2);Y.y=Math.round((r-Y.n)/2);var t=B.tT();t.rect=Y;t.buffer=q.m(Y.$()*4);q.TM(t.buffer,4284045657);
hC.a4p(s,t,.5*100);B.p.push(t);B.$S();B.V();var p=d.Bi;d.Bi=!1;B.im();var f=B.r9();d.Bi=p;var a=hg.oX(f.buffer,B.G,B.n);
return a};function ii(s){cS.call(this,null,!1,"tpresetbutton",18,24,eq.Ft,!0);W.$F(this.e,"fitem");this.ss.lh(1);
this.id=s;this.au();this.d.style.overflow="hidden";this.bU=new d1([15,7,9]);this.bU.b(!0);this.bU.W(k.E.o,this.acI,this);
this.UM.appendChild(this.bU.e)}ii.prototype=new cS;ii.prototype.aaM=function(s){if(this.id==s)return;
this.id=s;this.da(this.gp)};ii.prototype.gS=function(s){var N=this.gp[this.ss.L()],r=new hU(k.E.Y,!0);
r.data={d:k.s.Jl,V8:"set",LS:eq.Ft,lz:N};this.c(r)};ii.prototype.N=function(){cS.prototype.N.call(this);
this.bU.N()};ii.prototype.acI=function(){this.sA=!0;this.os()};ii.prototype.os=function(){if(!this.sA)return;
var s=Math.floor(16*W.Z()),N=Math.floor(16*W.Z()),r=[],S=[],z=this.gp,A=this.bU.L();for(var l=0;l<z.length;
l++){var B=K.sd(z[l]);if(!A||B==this.id){S.push(z[l][0]?z[l][0].split("=").pop():"");r.push(B==-1?"":PIMG[K.h8[B][0]])}else{r.push(null);
S.push(null)}}this.ss.en(r,S,s,N);this.sA=!1};ii.prototype.au=function(){var s=this.Wj;s.setAttribute("src",PIMG[K.h8[this.id][0]]);
W.Bc(s,"toolicon")};ii.prototype.tw=function(){return null};ii.LH={};ii.ty=function(s,N,r){var S=ii.IM,z=ii.LH,A=q.fD(s.w<<16|s.A<<8|s.U);
if(z[A])return z[A];if(S==null){var B=W.z("canvas");S=ii.IM=B.getContext("2d")}var B=S.canvas;B.width=N;
B.height=r;S.fillStyle="#"+A;S.fillRect(0,0,N,r);var Y=z[A]=B.toDataURL();return Y};function fO(s,N,r){hz.call(this);
this.e=W.z("span","fitem curveeditor");this.aV=null;this.av7=0;this.sl="";this.mode=0;this.l3=s;this.aqB=N;
this.a20=r;this.ZA=null;this.z3=null;this.ajD=0;this.asT=0;this.Xz=new cR;this.t3=this.bJ.bind(this);
this.lm=this.U$.bind(this);this.fH=256;this.I=W.z("canvas");this.IM=this.I.getContext("2d");W.Kq(this.I);
this.e.appendChild(this.I);this.uw(256,256);W.JQ(this.I,this.U0.bind(this));this.coords=W.z("div","");
this.coords.setAttribute("style","width:250px");this.e.appendChild(this.coords);var S=this.rI=r?100:255,z=null;
this.VA=new ij("X (in):",0,S,z,0,!1,!0);this.Y5=new ij("Y (out):",0,S,z,0,!1,!0);this.Ts=new d1([19,3,0]);
this.VA.W(k.E.o,this.gD,this);this.Y5.W(k.E.o,this.gD,this);this.Ts.W(k.E.o,this.gD,this);this.coords.appendChild(this.VA.e);
if(r)this.coords.appendChild(this.Ts.e);this.coords.appendChild(this.Y5.e)}fO.prototype=new hz;fO.prototype.N=function(){this.Ts.N()};
fO.prototype.uw=function(s,N){this.fH=Math.round(s);this.IM.resetTransform();W.Bh(this.I,this.fH,this.fH,this.IM);
this.IM.scale(this.fH/256,this.fH/256);if(this.ZA)this.fs()};fO.prototype.gD=function(s){var l=this.abW(),N=this.ZA[l],r=255/this.rI;
N.v.Hrzn.v=this.VA.L()*r;N.v.Vrtc.v=this.Y5.L()*r;if(this.a20)N.v.Cnty.v=this.Ts.L();this.ZA.sort(function(S,z){return S.v.Hrzn.v-z.v.Hrzn.v});
this.fs();this.c(new hU(k.E.o))};fO.prototype.b=function(s,l){var N=JSON.stringify(s);if(N==JSON.stringify(this.ZA))return;
this.mode=s.length==256?1:0;this.ZA=JSON.parse(N);if(l!=null)this.z3=this.ZA[l];this.fs()};fO.prototype.$j=function(s,N,r){this.aV=s;
this.av7=N;this.sl=r;this.fs()};fO.prototype.L=function(){return JSON.parse(JSON.stringify(this.ZA))};
fO.prototype.abW=function(){return this.ZA.indexOf(this.z3)};fO.prototype.U0=function(s){var N=256/this.fH,r=W.WO(s,this.I);
r.x*=N;r.y*=N;var S=r.x,z=256-r.y;if(this.l3){var A=S;S=256-z;z=A}this.Xz.i5(S,z);if(this.mode==0){var B=0,Y=1e9,D;
for(var l=0;l<this.ZA.length;l++){var t=this.ZA[l].v,p=t.Hrzn.v-S,f=t.Vrtc.v-z,a=Math.sqrt(p*p+f*f);
if(a<Y){Y=a;B=l}}if(Y<15)D=this.ZA[B];else{D=q.R2.rP(S,z,!0);this.ZA.push(D);this.ZA.sort(function(c,J){return c.v.Hrzn.v-J.v.Hrzn.v})}this.z3=D;
this.asT=this.ZA.slice(0)}W.UT(document.body,this.t3);W.eA(document.body,this.lm);this.bJ(s)};fO.prototype.bJ=function(s){var N=256/this.fH,r=W.WO(s,this.I);
r.x*=N;r.y*=N;var S=r.x,z=256-r.y;if(this.l3){var A=S;S=256-z;z=A}if(this.mode==0){var B=this.ZA,Y=this.z3,t=this.asT,p=t.indexOf(Y),f=B.indexOf(Y)!=-1,a=t.length-1,D=S;
if(p==0){D=Math.max(0,Math.min(t[1].v.Hrzn.v-1,S))}else if(p==a){D=Math.min(255,Math.max(t[a-1].v.Hrzn.v+1,S))}else{var c=S<0||S>255||z<0||z>255;
if(S<=t[p-1].v.Hrzn.v||S>=t[p+1].v.Hrzn.v)c=!0;if(!c&&!f)B.splice(p,0,Y);if(c&&f)B.splice(p,1)}if(this.aqB&&(p==0||p==t.length-1)){}else Y.v.Hrzn.v=Math.round(D);
Y.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(z)))}else{S=Math.round(S);z=Math.round(z);S=Math.max(0,Math.min(255,S));
z=Math.max(0,Math.min(255,z));var J=this.Xz.x,Z=S,Q=this.Xz.y,M=z;if(S<this.Xz.x){Z=J;J=S;M=Q;Q=z}this.ZA[S]=z;
if(J!=Z)for(var u=J;u<=Z;u++)this.ZA[u]=Math.round(Q+(u-J)*(M-Q)/(Z-J))}this.Xz.i5(S,z);this.fs();this.c(new hU(k.E.o))};
fO.prototype.U$=function(s){W.nP(document.body,this.t3);W.tp(document.body,this.lm);this.c(new hU(k.E.o))};
fO.prototype.fs=function(){var s=this.IM,N=this.I;s.fillStyle="#ffffff";s.fillRect(0,0,256,256);var r=256/N.width;
if(this.aV){s.save();s.translate(0,256);s.scale(1,-1);av.a8M(s,this.aV,5700/this.av7,this.sl);s.restore()}s.strokeStyle="#aaaaaa";
s.lineWidth=1*r;s.beginPath();for(var l=1;l<4;l++){var S=(Math.floor(64*l/r)+.5)*r;s.moveTo(0,S);s.lineTo(255,S);
s.moveTo(S,0);s.lineTo(S,255)}s.stroke();if(this.l3){s.save();s.transform(0,1,-1,0,256,0)}if(this.mode==0){var z=this.ZA,A=q.R2.zu(z,256);
s.strokeStyle="#000000";s.beginPath();s.moveTo(0,255.5-A[0]);for(var l=0;l<256;l++)s.lineTo(l,255.5-A[l]);
s.stroke();s.lineWidth=2*r;for(var l=0;l<z.length;l++){var B=z[l].v;s.fillStyle=this.z3==z[l]?"#333":"#fff";
s.beginPath();s.moveTo(B.Hrzn.v,255.5-B.Vrtc.v);s.arc(B.Hrzn.v,255.5-B.Vrtc.v,5*r,0,2*Math.PI);s.stroke();
s.fill()}}else{var A=this.ZA;s.strokeStyle="#000000";s.beginPath();s.moveTo(0,255.5-A[0]);for(var l=0;
l<256;l++)s.lineTo(l,255.5-A[l]);s.stroke()}if(this.l3)s.restore();var l=this.abW();this.coords.setAttribute("class",l==-1?"disabled":"");
if(l==-1)return;var B=this.ZA[l].v,Y=255/this.rI;this.VA.b(Math.round(B.Hrzn.v/Y));this.Y5.b(Math.round(B.Vrtc.v/Y));
if(B.Cnty)this.Ts.b(B.Cnty.v)};function av(s,N){hz.call(this);this.e=W.z("span","");this.kZ=new fa([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.kZ.W(k.E.o,this.rx,this);this.e.appendChild(this.kZ.e);W.ts(this.e);this.I=W.z("canvas");var r=this.I;
this.e.appendChild(r);r.width=Math.round(s*W.Z());r.height=Math.round(100*W.Z());W.UY(r,r.width,r.height);
this.IM=r.getContext("2d");this.aV=null;this.or=0;this.a1b=null;this.a1B=[];this.Zq=[];var S=["Mean:","Pixels:"],z=this.e;
for(var l=0;l<S.length;l++){var A=new ju(S[l]);this.a1B.push(A);if(N)z.appendChild(A.e);var B=new ju("hi");
this.Zq.push(B);if(N)z.appendChild(B.e);W.ts(z)}}av.prototype=new hz;av.prototype.N=function(){this.kZ.N()};
av.prototype.lh=function(s){this.kZ.b(s);this.rx()};av.prototype.b=function(s,N){this.aV=s;this.a1b=N;
this.rx()};av.prototype.Cl=function(s){if(s==this.or)return;this.or=s;this.rx()};av.prototype.rx=function(){if(this.aV==null)return;
var s=this.I,N=this.IM,r=this.aV,S=this.a1b,z=this.kZ.L(),A=6e3/r[4],B="#"+q.fD(this.or),Y=av.a8M;s.width=s.width;
N.setTransform(s.width/256,0,0,-s.height/100,0,s.height);N.globalCompositeOperation="lighter";if(z==0)Y(N,r[0],A/3,B);
else if(z<4)Y(N,r[z],A,B);else{Y(N,r[1],A,"#ff0000");Y(N,r[2],A,"#00ff00");Y(N,r[3],A,"#0000ff")}N.setTransform(1,0,0,1,0,0);
if(S!=null){var t=0;for(var l=0;l<256;l++)t+=l*r[z][l];if(z==0)t/=3;this.Zq[0].b((t/S).toFixed(1)+"");
this.Zq[1].b(S+"")}};av.a8M=function(s,N,r,S){s.beginPath();s.moveTo(0,0);for(var z=0;z<256;z++)s.lineTo(z,N[z]*r);
s.lineTo(256,0);s.closePath();s.fillStyle=S;s.fill()};function kh(s,N){hz.call(this);this.S9={w:0,A:0,U:0};
if(Math.abs(s-256/W.Z())<10)s=256/W.Z();var r=this.e=W.z("div","flexrow"),S=this.a6Z=W.z("div");r.appendChild(S);
this.mT=new cR;this.yO=new cR;this.Ox=this.auR.bind(this);this.lR=this.af0.bind(this);this.I=W.z("canvas","");
this.IM=this.I.getContext("2d");this.I.width=this.I.height=256;this.adn=this.IM.getImageData(0,0,256,256);
this.aa6=-1;this.agA="";W.Kq(this.I);W.JQ(this.I,this.a2r.bind(this));S.appendChild(this.I);this.a1r=this.awJ.bind(this);
this.auG=this.ain.bind(this);this.vz=W.z("canvas","");this.w0=this.vz.getContext("2d");this.vz.width=20;
this.vz.height=256;this.a4Q=this.w0.getImageData(0,0,20,256);kh.a1P(this.a4Q.data,20,256);W.Kq(this.vz);
W.JQ(this.vz,this.a9B.bind(this));r.appendChild(this.vz);this.I.setAttribute("style","width:"+s+"px; height:"+s+"px");
this.vz.setAttribute("style","width:16px; height:"+s+"px");this.nc=new d1("Web Colors\u2001");this.nc.W(k.E.o,this.update,this);
this.W_=new d1("CMYK gamut");this.W_.W(k.E.o,this.update,this);if(N){W.ts(S);S.appendChild(this.nc.e);
S.appendChild(this.W_.e)}}kh.prototype=new hz;kh.prototype.uw=function(s,N){this.I.style.width=this.a6Z.style.width=s-16+"px"};
kh.prototype.b=function(s){if(this.nc.L()){var N=JSON.parse(JSON.stringify(s));kh.kC(N);var r=this.L();
if(N.w==r.w&&N.A==r.A&&N.U==r.U)s=this.S9}this.S9=s;this.update()};kh.prototype.L=function(){var s=JSON.parse(JSON.stringify(this.S9));
if(this.nc.L())kh.kC(s);return s};kh.prototype.update=function(){var s=this.S9,N=q.R4(s.w,s.A,s.U);if(N.kc==0)N.D7=this.mT.x/255;
if(N.D7==0||N.kc==0)N.JY=(255-this.BR(this.yO.y))/255;if(N.kc!=0)this.mT.x=N.D7*255;this.mT.y=(1-N.kc)*255;
this.yO.y=(1-N.JY)*255;var r=this.adn,S=this.nc.L(),z=this.W_.L(),A=S+","+z;if(Math.abs(N.JY-this.aa6)>.002||this.agA!=A){this.a66(r.data,256,256,N.JY,S,z);
this.aa6=N.JY;this.agA=A}var B=this.IM;B.putImageData(r,0,0);B.strokeStyle="#000000";B.beginPath();B.arc(this.mT.x+1,this.mT.y+1,5,0,2*Math.PI);
B.stroke();B.strokeStyle="#ffffff";B.beginPath();B.arc(this.mT.x,this.mT.y,5,0,2*Math.PI);B.stroke();
r=this.a4Q;B=this.w0;B.putImageData(r,0,0);B.strokeStyle="#ffffff";B.beginPath();B.moveTo(0,this.yO.y);
B.lineTo(20,this.yO.y);B.lineWidth=2;B.stroke()};kh.kC=function(s){s.w=~~(.5+s.w*5)*.2;s.A=~~(.5+s.A*5)*.2;
s.U=~~(.5+s.U*5)*.2};kh.prototype.a66=function(s,N,r,S,z,A){var B=1/N,Y=1/r;for(var t=0;t<r;t++)for(var p=0;
p<N;p++){var f=q.qG(S,p*B,(r-t-1)*Y);if(z)kh.kC(f);var l=t*N+p<<2;s[l+0]=~~(f.w*255);s[l+1]=~~(f.A*255);
s[l+2]=~~(f.U*255);s[l+3]=255}if(A){var a=s.slice(0),D=a2.D3[0],c=a2.D3[1];ICC.U.applyLUT(c,D,a,a);for(var l=0;
l<s.length;l+=4){var J=s[l]-a[l],Z=s[l+1]-a[l+1],Q=s[l+2]-a[l+2],M=J*J+Z*Z+Q*Q;if(M>300)s[l]=s[l+1]=s[l+2]=200}}};
kh.a1P=function(s,N,r,S,z){if(S==null)S=1;if(z==null)z=0;var A=new Uint32Array(s.buffer);for(var B=0;
B<r;B++){var Y=q.qG((1+S*(1-B/r)+z)%1,1,1),t=255<<24|Y.U*255<<16|Y.A*255<<8|Y.w*255;for(var p=0;p<N;
p++)A[B*N+p]=t}};kh.prototype.a2r=function(s){W.UT(window,this.Ox);W.eA(window,this.lR);this.auR(s)};
kh.prototype.af0=function(s){W.nP(window,this.Ox);W.tp(window,this.lR)};kh.prototype.auR=function(s){var N=W.WO(s,this.I);
N.x=N.x*(256/parseFloat(this.I.style.width));N.y=N.y*(256/parseFloat(this.I.style.height));this.mT.i5(this.BR(N.x),this.BR(N.y));
this.U_()};kh.prototype.U_=function(){this.S9=this.acn();this.c(new hU(k.E.o))};kh.prototype.acn=function(){var s=q.qG((255-this.BR(this.yO.y))/255,this.Pg(this.mT.x/255),this.Pg(1-this.mT.y/255));
return{w:s.w,A:s.A,U:s.U}};kh.prototype.a9B=function(s){W.UT(window,this.a1r);W.eA(window,this.auG);
this.awJ(s)};kh.prototype.ain=function(s){W.nP(window,this.a1r);W.tp(window,this.auG)};kh.prototype.awJ=function(s){var N=W.WO(s,this.vz);
N.y=N.y*(256/parseFloat(this.vz.style.height));this.yO.i5(this.BR(N.x),this.BR(N.y));this.U_()};kh.prototype.BR=function(s){return Math.max(0,Math.min(255,s))};
kh.prototype.Pg=function(s){return Math.max(0,Math.min(1,s))};function cM(s,N,r,S){var z=gI.Is(N,S);
gI.call(this,s,z,r)}cM.prototype=new gI;function fr(){hz.call(this);this.ZF=null;this.X8=new bf;this.X8.W(k.E.o,this.a9u,this);
this.X8.parent=this;this.yU=new ij([12,14,0],1,150,"px",0,!0);this.yU.W(k.E.o,this.zT,this);this.yU.parent=this;
this.OM=new ij([16,0],.01,100,"px",2,!0,null,5);this.OM.W(k.E.o,this.zT,this);this.OM.parent=this;this.pJ=new d1("Auto");
this.pJ.W(k.E.o,this.zT,this);this.QJ=new ij([16,1],-500,5e3,"%",0,!0);this.QJ.W(k.E.o,this.zT,this);
this.QJ.parent=this;this.Q5=new ij("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Q5.W(k.E.o,this.zT,this);
this.Q5.parent=this;this.ir=new ij("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.ir.W(k.E.o,this.zT,this);
this.ir.parent=this;this.rH=new ij([16,2],-10,10,"px");this.rH.W(k.E.o,this.zT,this);this.rH.parent=this;
this.PT=new bw(!0);this.PT.W(k.E.o,this.BY,this);this.PT.parent=this;this.Pl=new bw(!0);this.Pl.W(k.E.o,this.BY,this);
this.Pl.parent=this;this.nC=new bw(!0);this.nC.W(k.E.o,this.BY,this);this.nC.parent=this;this.ZO=new bw(!0);
this.ZO.W(k.E.o,this.BY,this);this.ZO.parent=this;this.TB=new d1([2,3]);this.TB.W(k.E.o,this.zT,this);
this.GL=new d1([14,9]);this.GL.W(k.E.o,this.zT,this);this.R5=new d1([12,46]);this.R5.W(k.E.o,this.zT,this);
this.X1=new aa("...",null,null,!0);this.X1.e.style.marginLeft="-8px";W.JQ(this.X1.e,this.akf.bind(this));
this.z5=new hz;var s=this.z5.e=W.z("div","floatcont form"),z=100;this.z5.parent=this;this.hu=new ij([12,41],1,20,"px",0,!0,!0);
this.hu.e.style.marginLeft="16px";this.hu.W(k.E.o,this.zT,this);this.hu.parent=this.z5;s.appendChild(this.Pl.e);
s.appendChild(this.TB.e);W.ts(this.z5.e);s.appendChild(this.nC.e);s.appendChild(this.GL.e);s.appendChild(this.hu.e);
W.ts(this.z5.e);s.appendChild(this.ZO.e);s.appendChild(this.R5.e);this.PE=new aa("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.f3=new aa("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.X9=new aa("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.IE=new aa("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.H2=new aa("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.G1=new aa("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Cf=new aa("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.tR=new aa("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var N=[this.PE,this.f3,this.X9,this.IE,this.H2,this.G1,this.Cf,this.tR];
for(var l=0;l<N.length;l++)N[l].W("click",this.a2X,this);this.Ec=new aa("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.fg=new aa("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Sc=new aa("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.afd=new aa("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a67=new aa("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.atB=new aa("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.alK=new aa("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.k2=[this.Ec,this.fg,this.Sc,this.afd,this.a67,this.atB,this.alK];for(var l=0;l<this.k2.length;l++)this.k2[l].W("click",this.zT,this);
var r=["lind","rind","flind","bind","aind"],S=[];for(var l=0;l<5;l++)S.push("<img src=\""+PIMG["par/"+r[l]]+"\" class=\"autoscale gsicon\" /> ");
this.cO=new ij(S[0],-z,z,"px");this.cO.W(k.E.o,this.zT,this);this.cO.parent=this;this.Ot=new ij(S[1],-z,z,"px");
this.Ot.W(k.E.o,this.zT,this);this.Ot.parent=this;this.hg=new ij(S[2],-z,z,"px");this.hg.W(k.E.o,this.zT,this);
this.hg.parent=this;this.Jy=new ij(S[3],-z,z,"px");this.Jy.W(k.E.o,this.zT,this);this.Jy.parent=this;
this.Ll=new ij(S[4],-z,z,"px");this.Ll.W(k.E.o,this.zT,this);this.Ll.parent=this;this.P6=new gI([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.P6.W(k.E.o,this.zT,this);this.P6.parent=this;this.ld=new ij(["Auto VAR0",[16,0]],0,500,"%");this.ld.W(k.E.o,this.zT,this);
this.ld.parent=this}fr.prototype=new hz;fr.prototype.akf=function(s){if(W.zS(this.z5.e))return;s.stopPropagation();
var N=this.X1.e.getBoundingClientRect(),r=new hU(k.E.Y,!0);r.data={d:k.s.xh,mk:this.z5,x:N.left,y:N.top+N.height+4};
this.c(r)};fr.prototype.N=function(){this.X8.N();this.yU.N();this.OM.N();this.QJ.N();this.rH.N();this.Q5.N();
this.ir.N();this.TB.N();this.GL.N();this.R5.N();this.hu.N();this.P6.N();this.ld.N()};fr.prototype.b=function(s,N,r){this.Rl=JSON.parse(JSON.stringify(s));
var S=this.Rl,z=S.GN,A=S.M7;this.PE.b(z.FauxBold!=null?z.FauxBold:!1);this.f3.b(z.FauxItalic!=null?z.FauxItalic:!1);
this.X9.b(z.FontCaps==2);this.IE.b(z.FontCaps==1);this.G1.b(z.FontBaseline==1);this.H2.b(z.FontBaseline==2);
this.Cf.b(z.Underline);this.tR.b(z.Strikethrough);this.X8.b(z.Font==null?null:S.H4[z.Font].Name,N,r);
var B=z.FontSize==null?20:z.FontSize;this.yU.b(B);var Y=z.Tracking;this.QJ.b(Y==null?0:Y);this.hu.b(z._LineWidth!=null?z._LineWidth:1);
this.OM.b(z.Leading!=null&&z.Leading!=0?z.Leading:B);this.pJ.b(z.AutoLeading);this.Q5.b((z.VerticalScale!=null?z.VerticalScale:0)*100);
this.ir.b((z.HorizontalScale!=null?z.HorizontalScale:0)*100);this.rH.b(z.BaselineShift!=null?z.BaselineShift:0);
this.TB.b(z.FillFlag!=null?z.FillFlag:!1);this.GL.b(z.StrokeFlag!=null?z.StrokeFlag:!1);this.R5.b(z._FillBackgroundFlag!=null?z._FillBackgroundFlag:!1);
this.Bb(z.FillColor,this.PT);this.Bb(z.FillColor,this.Pl);this.Bb(z.StrokeColor,this.nC);this.Bb(z._FillBackgroundColor,this.ZO);
var t=A._Direction!=null?A._Direction:0,p=en.m$(A);for(var l=0;l<this.k2.length;l++)this.k2[l].b(p==l);
this.P6.b(t);this.ld.b((A.AutoLeading!=null?A.AutoLeading:1.2)*100);this.cO.b(A.StartIndent!=null?A.StartIndent:0);
this.Ot.b(A.EndIndent!=null?A.EndIndent:0);this.hg.b(A.FirstLineIndent!=null?A.FirstLineIndent:0);this.Jy.b(A.SpaceBefore!=null?A.SpaceBefore:0);
this.Ll.b(A.SpaceAfter!=null?A.SpaceAfter:0)};fr.prototype.Bb=function(s,N){if(s){var r=en.iy(s);N.Cl(Math.round(r.w)<<16|Math.round(r.A)<<8|Math.round(r.U))}else N.Cl(0)};
fr.prototype.xM=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.Jl,LS:eq.j4,Rl:this.Rl};this.c(s);var s=new hU(k.E.r,!0);
s.k=K.wQ;s.data={d:"updateStyles"};this.c(s)};fr.prototype.a2X=function(s){var N=this.Rl.GN,r=s.target,S=!r.pX();
if(r==this.PE)N.FauxBold=S;if(r==this.f3)N.FauxItalic=S;if(r==this.X9)N.FontCaps=S?2:0;if(r==this.IE)N.FontCaps=S?1:0;
if(r==this.G1)N.FontBaseline=S?1:0;if(r==this.H2)N.FontBaseline=S?2:0;if(r==this.Cf)N.Underline=S;if(r==this.tR)N.Strikethrough=S;
this.xM()};fr.prototype.zT=function(s){var N=this.Rl.GN,r=this.Rl.M7,S=s.target;if(S==this.QJ){var z=this.QJ.L();
N.Tracking=z}if(S==this.OM){N.AutoLeading=!1;N.Leading=this.OM.L()}if(S==this.pJ){N.AutoLeading=this.pJ.L()}if(S==this.hu)N._LineWidth=S.L();
if(S==this.yU)N.FontSize=S.L();if(S==this.Q5)N.VerticalScale=S.L()/100;if(S==this.ir)N.HorizontalScale=S.L()/100;
if(S==this.rH)N.BaselineShift=S.L();if(S==this.TB)N.FillFlag=S.L();if(S==this.GL)N.StrokeFlag=S.L();
if(S==this.R5)N._FillBackgroundFlag=S.L();if(this.k2.indexOf(S)!=-1){r.Justification=en.m$(r,this.k2.indexOf(S))}if(S==this.cO)r.StartIndent=S.L();
if(S==this.Ot)r.EndIndent=S.L();if(S==this.hg)r.FirstLineIndent=S.L();if(S==this.Jy)r.SpaceBefore=S.L();
if(S==this.Ll)r.SpaceAfter=S.L();if(S==this.P6)r._Direction=S.L();if(S==this.ld)r.AutoLeading=S.L()/100;
this.xM()};fr.prototype.a9u=function(s){var N=this.Rl,r=this.X8.L(),S=-1;for(var l=0;l<N.H4.length;l++)if(N.H4[l].Name==r)S=l;
if(S==-1){S=N.H4.length;var z=JSON.parse(JSON.stringify(N.H4[0]));z.Name=r;N.H4.splice(S,0,z)}N.GN.Font=S;
this.xM()};fr.prototype.BY=function(s){var N=s.target,r=N.anv(),S={Type:1,Values:[1,(r>>16&255)/255,(r>>8&255)/255,(r>>0&255)/255]};
for(var l=0;l<4;l++)S.Values[l]=Math.round(S.Values[l]*1e3)/1e3;var z=N==this.PT||N==this.Pl?0:N==this.nC?1:2;
this.Rl.GN[["FillColor","StrokeColor","_FillBackgroundColor"][z]]=S;this.xM()};function bf(){hz.call(this);
this.e=W.z("span","fontinput");this.Fy=null;this.d9=null;this.fv=null;this.oO="";this.yf={};this.Cq=[];
this.Ka={};this.arH={};this.uI=!1;this.O$=W.z("button","fitem");this.O$.setAttribute("style","width:9em;");
this.O$.textContent="Family Name \u25BC";this.e.appendChild(this.O$);W.JQ(this.O$,this.aq2.bind(this));
this.dZ=new hz;this.dZ.parent=this;this.dZ.e=W.z("div","floatcont");this.T5=new cd(6.8);this.dZ.e.appendChild(this.T5.aka());
this.T5.parent=this.dZ;this.T5.W(k.E.o,this.Uw,this);var s=W.z("div","form");this.dZ.e.appendChild(s);
this.hU=new aa(W.xH("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.hU.W("click",this.afw,this);
s.appendChild(this.hU.e);this.c_=new aW([12,86],null,8.4);this.c_.W("input",this.P$,this);s.appendChild(this.c_.e);
var N=this.EK=new aa([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);N.W("click",this.aqJ,this);
N.e.style.marginLeft="1.5em";N.e.style.marginRight="0";s.appendChild(N.e);this.h4=W.z("span","fitem imageset scrollable");
this.h4.style.height="30em";this.dZ.e.appendChild(this.h4);this.h4.addEventListener("scroll",this.ac3.bind(this),!1);
this.a9=W.z("button","fitem");this.a9.setAttribute("style","width:7em;");this.a9.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.a9);W.JQ(this.a9,this.aq2.bind(this));this.xm=new hz;this.xm.parent=this;this.xm.e=W.z("div","floatcont");
this.WI=W.z("span","fitem imageset scrollable marged");this.xm.e.appendChild(this.WI);this.aa0=this.a9b.bind(this);
this.ajZ=this.a8o.bind(this)}bf.prototype=new hz;bf.prototype.ac3=function(s){var N=this.h4.scrollTop,r=this.Cq,S=Math.floor(N/27),z=Math.min(S+20,r.length);
for(var l=S;l<z;l++)this.aqu(r[l])};bf.prototype.aqJ=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.LO,aac:".otf,.ttf,.ttc"};
this.c(s)};bf.prototype.N=function(){this.T5.N();this.EK.N();this.hU.wp(W.xH("tools/cshape",null,"autoscale"))};
bf.prototype.afw=function(s){this.hU.b(!this.hU.pX());this.Uw()};bf.prototype.P$=function(s){this.oO=this.c_.L().toLowerCase();
this.Uw()};bf.prototype.aq2=function(s){W.wC(s);var N=s.currentTarget,r=N.getBoundingClientRect(),S=N==this.O$,z=S?this.dZ:this.xm;
if(W.zS(z.e)){this.ad$(z);return}if(!S&&this.Fy.tH()[this.fv]==null)return;var A=new hU(k.E.Y,!0);A.data={d:k.s.xh,mk:z,x:r.left,y:r.top+r.height};
this.c(A);if(S){this.Uw(null,!0)}};bf.prototype.a9b=function(s){var N=s.currentTarget.firstChild.nextSibling.textContent;
if(s.target.tagName.toLowerCase()=="button"){var r=this.d9.slice(0),S=r.indexOf(N);if(S==-1){r=r.slice(Math.max(0,r.length-29));
r.push(N)}else r.splice(S,1);var z=new hU(k.E.Y,!0);z.data={d:k.s.Jl,LS:eq.zY,zr:r};this.c(z);this.uI=!0;
this.Uw()}else{this.abb(N,null)}};bf.prototype.a8o=function(s){this.abb(null,s.currentTarget.firstChild.textContent)};
bf.prototype.abb=function(s,N){var r=s==null?this.xm:this.dZ,S=this.Fy;if(s==null)s=S.tH()[this.fv][0];
else{var z=S.Jo(s),A=S.tH()[this.fv];N=gp.mV(z,A?A[1]:"regular")}var B=S.jY(s,N)[2];this.b(B,S);this.c(new hU(k.E.o,!1));
this.ad$(r);this.Uw()};bf.prototype.ad$=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.fo,mk:s};this.c(N)};
bf.prototype.L=function(){return this.fv};bf.prototype.b=function(s,N,r){var S=this.Fy;if(s!=null)this.fv=s;
else s=this.fv;this.Fy=N;this.d9=r;if(s!=null){var z=N.tH()[s],A,B;if(z==null){A="- "+s;B="-------"}else{A=z[0];
B=z[1];var Y=N.Jo(A);Y.sort(gp.a3L);this.WI.textContent="";for(var l=0;l<Y.length;l++){var z=N.jY(A,Y[l]);
if(!this.T5._l(z))continue;var t=this.aeO(z,!1);this.WI.appendChild(t)}}this.O$.textContent=A.substring(0,15)+" \u25BC";
this.O$.setAttribute("title",A+", \""+s+"\"");this.a9.textContent=B.substring(0,10)+" \u25BC";this.a9.setAttribute("title",B)}};
bf.prototype.Uw=function(s,N){var r=this.Fy.tH()[this.fv],S=this.d9,z=this.Fy.wt();this.Cq=[];for(var A in z){var B=S.indexOf(A)!=-1,Y=this.Fy.Jo(A),t=!1;
for(var l=0;l<Y.length;l++){var p=this.Fy.jY(A,Y[l]),f=!0;if(this.oO.length>0&&p[0].toLowerCase().indexOf(this.oO)==-1)f=!1;
else if(!this.T5._l(p))f=!1;else if(this.hU.pX()&&!B)f=!1;if(f)t=!0}var a=this.yf[A];if(a==null){var D=gp.mV(z[A],"regular"),c=this.Fy.jY(A,D),a=this.aeO(c,!0);
this.yf[A]=a;this.h4.appendChild(a);this.Ka[A]="[true,false,false]"}if(t)this.Cq.push(A);var J=r!=null&&r[0]==A;
this.arH[A]="["+t+","+J+","+B+"]";if(!N)this.aqu(A)}if(r&&!this.uI){var Z=this.yf[r[0]];this.h4.scrollTop=Z.offsetTop-210}this.ac3();
this.uI=!1};bf.prototype.aqu=function(s){var N=this.yf[s];if(N.firstChild==null){var r=this.Fy.wt(),S=gp.mV(r[s],"regular"),z=this.Fy.jY(s,S);
this.asY(N,z,!0)}var A=this.Ka[s],B=this.arH[s];if(A==B)return;var Y=JSON.parse(A),t=JSON.parse(B);if(Y[0]!=t[0]||Y[1]!=t[1]){var p=t[0]?"":"display:none; ";
if(t[1])p+="background-color:rgba(0,0,0,0.13);";N.setAttribute("style",p)}if(Y[2]!=t[2])N.firstChild.setAttribute("style","opacity: "+(t[2]?"1":"0.2"));
this.Ka[s]=B};bf.prototype.aeO=function(s,N){var r=W.z("div","fontitem");if(!N)this.asY(r,s,N);return r};
bf.prototype.asY=function(s,N,r){var S=N[r?0:1],z=r?this.aa0:this.ajZ,t="";s.addEventListener("click",z,!1);
if(r)s.appendChild(W.z("button","star"));var A=W.z("span","label");A.setAttribute("title",S);A.textContent=S;
s.appendChild(A);var B=W.Z(),Y=1/B,p=gp.TQ*Y,f=gp.cS*Y;if(1<B&&B<1.5)t="width:"+p+"px; height:"+f+"px;";
var a=W.z("span","thumb gsicon");if(N.a7Z){t+="background: url("+N.a7Z+");";if(1<B&&B<1.5)t+="background-size: "+p+"px "+f+"px;"}else{var D=Math.ceil(FNTS.list.length/gp.cols),c=Math.floor(N.Jb/D),J=N.Jb%D,Z=c*gp.TQ,Q=J*gp.cS;
if(1<B&&B<1.5){t+="background-size: "+gp.cols*p+"px "+D*f+"px;";Z*=Y;Q*=Y}t+="background-position:-"+Z+"px -"+Q+"px;"}a.setAttribute("style",t);
s.appendChild(a)};function cd(s){hz.call(this);this.e=W.z("button","fitem bbtn");this.e.addEventListener("click",this.at6.bind(this),!1);
this.z5=new hz;this.z5.e=W.z("div","floatcont");this.z5.parent=this;this.mE=W.z("div","flexrow");this.z5.e.appendChild(this.mE);
this.bk=[];this.lN=[];var N=this.mE,r=W.z("div",""),S=W.z("div","");N.appendChild(r);N.appendChild(S);
this.gF=[];for(var l=0;l<FNTS.cats.length;l++)this.gF.push({name:FNTS.cats[l],index:l,VE:0});this.CD=new d1([7,0]);
this.CD.b(!0);this.CD.W(k.E.o,this.a7i,this);r.appendChild(this.CD.e);this.X$=W.z("div","vlist marged scrollable");
this.X$.setAttribute("style","width:10.3em; height:"+s+"em; ");r.appendChild(this.X$);this.Mb=[];for(var l=0;
l<this.gF.length;l++){var z=this.gF[l],A=new d1(z.name);this.Mb.push(A);A.W(k.E.o,this.awl,this);A.b(!0);
this.X$.appendChild(A.e);this.bk.push(1)}this.an2=new d1([7,0]);this.an2.W(k.E.o,this.a38,this);this.A6=W.z("div","vlist marged scrollable");
this.A6.setAttribute("style","width:8.6em; height:"+(s+1.5)+"em; ");S.appendChild(this.A6);this.cu=[];
for(var l=0;l<FNTS.subsetNames.length;l++){var A=new d1(FNTS.subsetNames[l]);this.cu.push(A);A.W(k.E.o,this.auQ,this);
A.b(!1);this.A6.appendChild(A.e);this.lN.push(A.L()?1:0)}}cd.prototype=new hz;cd.prototype.au6=function(s){var N=this.cu;
for(var l=0;l<N.length;l++){var r=(s>>>l&1)==1;this.lN[l]=r;N[l].b(r)}};cd.prototype.aka=function(){return this.mE};
cd.prototype.N=function(){this.e.textContent=eV.get([25,1,0])+" \u25BC";this.CD.N();this.an2.N()};cd.prototype.at6=function(s){var N=this.e.getBoundingClientRect(),r=new hU(k.E.Y,!0);
r.data={d:k.s.xh,mk:this.z5,x:N.left,y:N.top+N.height,L0:!1};this.c(r)};cd.prototype._l=function(s){if(this.bk[s[4]]==0)return!1;
else for(var N=0;N<this.lN.length;N++)if(this.lN[N]==1&&(s[3]>>>N&1)==0)return!1;return!0};cd.prototype.a7i=function(s){var N=s.target.L(),r=this.Mb,S=this.bk;
for(var l=0;l<r.length;l++){r[l].b(N);S[l]=N?1:0}this.c(new hU(k.E.o,!1))};cd.prototype.a38=function(s){var N=s.target.L(),r=this.cu,S=this.lN;
for(var l=0;l<r.length;l++){r[l].b(N);S[l]=N?1:0}this.c(new hU(k.E.o,!1))};cd.prototype.awl=function(s){var l=this.Mb.indexOf(s.target),N=this.gF[l].index;
this.bk[N]=1-this.bk[N];this.c(new hU(k.E.o,!1));this.a0f(this.Mb,this.CD)};cd.prototype.auQ=function(s){var l=this.cu.indexOf(s.target);
this.lN[l]=1-this.lN[l];this.c(new hU(k.E.o,!1))};cd.prototype.a0f=function(s,N){var r=!0;for(var l=0;
l<s.length;l++)r=r&&s[l].L();N.b(r)};function b3(s,N,r){cS.call(this,N,!0,"gradientbutton",18,10,eq.If);
this.Hd=-1;this.on=-1;this.aaq=null;this.afs=s;this.hb=r}b3.prototype=new cS;b3.prototype.gS=function(s){var N=this.gp;
this.b(N[this.ss.L()]);this.c(new hU(k.E.o))};b3.prototype.Gr=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.Pv,ic:"gradienteditor",i:this.Y6,Rc:this.awY.bind(this),mt:this.hb};
this.c(N)};b3.prototype.awY=function(s){this.b(s);this.c(new hU(k.E.o))};b3.prototype.os=function(){if(!this.sA)return;
var s=Math.floor(36*W.Z()),N=Math.floor(36*W.Z()),r=[],S=[],z=this.gp;for(var l=0;l<z.length;l++){var A=z[l];
S.push(A.Nm?A.Nm.v.split("=").pop():"");var B=K.gL.ty(A,s,N,Math.PI/4,this.Hd,this.on);r.push(B)}this.ss.en(r,S,s,N);
this.sA=!1};b3.prototype._B=function(s,N){this.a0M(this.Y6,s,N)};b3.prototype.b=function(s){this.a0M(s,this.Hd,this.on)};
b3.prototype.a0M=function(s,N,r){this.Hd=N;this.on=r;if(s==null)return;var S=JSON.stringify(s),z=S+N+","+r;
if(z==this.aaq)return;this.aaq=z;this.Y6=JSON.parse(S);var A=Math.floor(80*W.Z()),B=Math.floor(16*W.Z()),Y=K.gL.ty(this.Y6,A,B,0,this.Hd,this.on);
this.Wj.setAttribute("src",Y);W.UY(this.Wj,A,B)};b3.prototype.L=function(){var s;if(this.afs)s=K.gL.akb(this.Y6,this.Hd,this.on);
else s=JSON.parse(JSON.stringify(this.Y6));return s};function bS(s){cS.call(this,s,!1,"swatchbutton",16,8.75,eq.Pt)}bS.prototype=new cS;
bS.prototype.gS=function(s){this.b(this.gp[s.target.L()]);this.c(new hU(k.E.o))};bS.prototype.os=function(){if(!this.sA)return;
var s=Date.now(),N=Math.floor(10*W.Z()),r=Math.floor(10*W.Z()),S=[],z=[],A=this.gp;for(var l=0;l<A.length;
l++){z.push(A[l].v8?A[l].v8.split("=").pop():"");S.push(bS.ty(A[l],N,r))}this.ss.en(S,z,N,r);this.sA=!1};
bS.prototype.b=function(s){this.Y6=JSON.parse(JSON.stringify(s));this.au()};bS.prototype.au=function(){var s=Math.floor(24*W.Z()),N=Math.floor(20*W.Z()),r=bS.ty(this.Y6,s,N);
this.Wj.setAttribute("src",r);W.UY(this.Wj,s,N)};bS.prototype.L=function(){return JSON.parse(JSON.stringify(this.Y6))};
bS.LH={};bS.ty=function(s,N,r){var S=bS.IM,z=bS.LH,A=q.fD(s.w<<16|s.A<<8|s.U);if(z[A])return z[A];if(S==null){var B=W.z("canvas");
S=bS.IM=B.getContext("2d")}var B=S.canvas;B.width=N;B.height=r;S.fillStyle="#"+A;S.fillRect(0,0,N,r);
var Y=z[A]=B.toDataURL();return Y};function bH(s,N,r,S,z){if(s==null)s=!1;if(N==null)N=!1;if(r==null)r=!1;
hz.call(this);this.Lq=new cR;this.$e=new cR;this.LF=72;this.PZ=72;this.qv=!0;this.e=W.z("span");this.Wf=new ij([12,41],0,0,null,0,!1,!0);
this.e.appendChild(this.Wf.e);this.Wf.W(k.E.o,this.s2,this);var A=["px","%"];if(s)A=A.concat(["mm","in"]);
if(z){A=[[12,76,2],[12,76,6]];if(s)A=A.concat([[12,76,5],[12,76,3]])}this.GZ=new fa(null,A);this.e.appendChild(this.GZ.e);
W.ts(this.e);this.GZ.W(k.E.o,this.s2,this);this.C5=new ij([12,42],0,0,null,0,!1,!0);this.e.appendChild(this.C5.e);
this.C5.W(k.E.o,this.s2,this);var B=new aa("\u21F5",!1,null,!0);B.W("click",this.aqn,this);this.WK=new aa("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.WK.W("click",this.s2,this);this.alF=new ju("");if(N){this.e.appendChild(this.WK.e);this.e.appendChild(this.alF.e);
this.WK.Io()}else this.e.appendChild(B.e);this.Fe=new ij("DPI",0,0,null,3,!1,!0,4);if(s&&S==null){W.ts(this.e);
this.e.appendChild(this.Fe.e)}this.Fe.W(k.E.o,this.s2,this);this.xZ=new d1([12,23,1]);this.xZ.W(k.E.o,this.s2,this);
if(r){W.ts(this.e);this.e.appendChild(this.xZ.e)}W.ts(this.e)}bH.prototype=new hz;bH.prototype.aS=function(){this.Wf.aS()};
bH.prototype.agg=function(){this.qv=!1;if(this.GZ.L()==0){this.GZ.b(3);this.Aj()}};bH.prototype.a5m=function(){this.qv=!0};
bH.prototype.alR=function(s){this.WK.b(s)};bH.prototype.N=function(){this.Wf.N();this.C5.N();this.Fe.N();
this.WK.N();this.xZ.N();this.GZ.N()};bH.prototype.aqn=function(s){var N=this.$e.x;this.$e.x=this.$e.y;
this.$e.y=N;this.Aj();this.c(new hU(k.E.o,!1))};bH.prototype.s2=function(s){if(s.target==this.GZ&&!this.qv&&this.GZ.L()==0)this.GZ.b(3);
if(s.target==this.GZ||s.target==this.xZ){this.Aj();return}if(s.target==this.WK)s.target.b(!s.target.L());
var N=this.Lq,r=parseFloat(this.Wf.L());if(isNaN(r))r=1;var S=parseFloat(this.C5.L());if(isNaN(S))S=1;
var z=this.GZ.L();if(this.qv){var A=this.PZ;if(z==1){r=this.Lq.x*(r/100);S=this.Lq.y*(S/100)}var B=[1,1,25.4/A,1/A][z];
r/=B;S/=B;if(this.xZ.L()){r+=this.Lq.x;S+=this.Lq.y}if(s.target==this.Fe){var Y=this.Fe.L();if(!0){var t=Y/A;
r*=t;S*=t}A=Y}if(this.WK.L()){if(s.target==this.Wf)S=r*(N.y/N.x);else r=S*(N.x/N.y)}r=Math.max(Math.abs(r),1);
S=Math.max(Math.abs(S),1)}else{var A=this.LF;if(s.target==this.Fe)A=this.Fe.L();else{if(this.WK.L()){if(s.target==this.Wf)S=r*(N.y/N.x);
else r=S*(N.x/N.y)}var B=[1,1,25.4/A,1/A][z],p=r/(z==1?100:N.x*B);A=A/p}r=N.x;S=N.y}this.$e=new cR(Math.round(r),Math.round(S));
this.PZ=A;this.Aj();this.c(new hU(k.E.o,!1))};bH.prototype.akr=function(l){this.GZ.b(l);this.Aj()};bH.prototype.b=function(s,N,r){if(r!=!0)this.Lq=s.clone();
this.$e=s.clone();if(N!=null){this.LF=N;this.PZ=N}this.Aj()};bH.prototype.Aj=function(){var s=this.$e.x,N=this.$e.y,r=this.PZ,S=(s/N).toFixed(3);
while(S.charAt(S.length-1)=="0")S=S.substring(0,S.length-1);if(S.charAt(S.length-1)==".")S=S.substring(0,S.length-1);
var z="  "+S+" : 1",A=function(f,a){while(a!=0){var D=a;a=f%a;f=D}return f},B=A(s,N);if(Math.min(s,N)/B<10)z="  "+Math.round(s/B)+" : "+Math.round(N/B);
this.alF.b(z);if(this.xZ.L()){s-=this.Lq.x;N-=this.Lq.y}var Y=this.GZ.L();if(Y==1){if(this.qv){s=100*s/this.Lq.x;
N=100*N/this.Lq.y}else{s=N=100*this.LF/this.PZ}}else{s=Math.round(s);N=Math.round(N)}var t=[1,1,25.4/r,1/r][Y];
s*=t;N*=t;var p=Y==1||Y==3?2:0;this.Wf.Nd(p);this.C5.Nd(p);this.Wf.b(s);this.C5.b(N);this.Fe.b(r)};bH.prototype.L=function(){return this.$e.clone()};
bH.prototype.X7=function(){return this.PZ};function h5(s,N,r){hz.call(this);var S=s==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.eH=s;this.a3I=N;this.Dx=1;this.Ra=[1,1,0];var z=this.e=W.z("div","numlist"),A=this.jX=[];for(var l=0;
l<4;l++){var B=new ij(S[l],0,0,null,2,!1,!0,4,null,r&&(l==0||l==2));B.W(k.E.o,this.s2,this);z.appendChild(B.e);
A[l]=B;if(l==1||l==3)W.ts(z)}A[4]=new d1(s==0?[12,51]:[12,91,2]);A[4].b(!0);z.appendChild(A[4].e)}h5.prototype=new hz;
h5.prototype.N=function(){var s=this.jX;for(var l=0;l<5;l++)s[l].N();if(this.eH==0)W.eW(s[0],s[2])};
h5.prototype.b=function(s,N,r){if(N)this.Ra=N;N=this.Ra;var S=r?s:this.eH==0?[s[2],s[0],s[3],s[1]]:[s[0],s[1],s[3],s[2]];
this.Dx=S[0]/S[2];for(var l=0;l<4;l++){var z=this.jX[l];z.Nd(N[2]==0&&this.a3I?0:2);z.b(q.HR.a5U(S[l],N[0],N[1],N[2]))}};
h5.prototype.L=function(s){var N=[],r=this.Ra;for(var l=0;l<4;l++){var S=q.HR.Pa(this.jX[l].L(),r[0],r[1],r[2]);
N[l]=this.a3I?Math.round(S):S}return s?N:this.eH==0?[N[1],N[3],N[0],N[2]]:[N[0],N[1],N[3],N[2]]};h5.prototype.s2=function(s){var N=this.eH,r=this.jX.indexOf(s.currentTarget),S=this.L(!0),z=this.jX[4].L();
if(N==0){S[0]=Math.max(1,S[0]);S[2]=Math.max(1,S[2]);if(z&&r==0)S[2]=S[0]/this.Dx;if(z&&r==2)S[0]=S[2]*this.Dx}if(N==1){S[r]=Math.max(0,S[r]);
if(z)for(var l=0;l<4;l++)S[l]=S[r]}this.b(S,null,!0);this.c(new hU(k.E.o,!1))};function c9(){hz.call(this);
this.Cr=0;this.Zq=[0,0,1,1,100,100];this.e=W.z("span","fitem");this.QO=new fa(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.QO.e);this.QO.W(k.E.o,this.s2,this);this.Wf=new ij("W",0,0,null,0,!1,!0);this.e.appendChild(this.Wf.e);
this.Wf.W(k.E.o,this.s2,this);this.C5=new ij("H",0,0,null,0,!1,!0);this.e.appendChild(this.C5.e);this.C5.W(k.E.o,this.s2,this);
this.b({BO:0,x:0,y:0})}c9.prototype=new hz;c9.prototype.N=function(){W.eW(this.Wf,this.C5);this.QO.N()};
c9.prototype.s2=function(s){if(s.target==this.QO){var N=this.L(),r=this.Zq;r[this.Cr*2]=N.x;r[this.Cr*2+1]=N.y;
this.Cr=N.BO;this.b({BO:N.BO,x:r[N.BO*2],y:r[N.BO*2+1]})}if(this.Wf.L()<1)this.Wf.b(1);if(this.C5.L()<1)this.C5.b(1);
this.c(new hU(k.E.o,!1))};c9.prototype.b=function(s){this.QO.b(s.BO);this.Wf.b(s.x);this.C5.b(s.y);if(s.BO==0){this.Wf.sK();
this.C5.sK()}else{this.Wf.WT();this.C5.WT()}};c9.prototype.L=function(){return{BO:this.QO.L(),x:this.Wf.L(),y:this.C5.L()}};
function bo(s){hz.call(this);this.e=W.z("span","");this.asl=s;this.px=new fM("Off X",-100,100,s?"%":"px",0,!1);
this.lg=new fM("Off Y",-100,100,s?"%":"px",0,!1);this.px.W(k.E.o,this.s2,this);this.lg.W(k.E.o,this.s2,this);
this.e.appendChild(this.px.e);this.e.appendChild(this.lg.e)}bo.prototype=new hz;bo.prototype.N=function(){this.px.N();
this.lg.N()};bo.prototype.s2=function(s){this.c(new hU(k.E.o,!1))};bo.prototype.ato=function(s){this.px.b(s.x);
this.lg.b(s.y)};bo.prototype.aoa=function(){return new cR(this.px.L(),this.lg.L())};bo.prototype.b=function(s,N){var r=s.Hrzn.v,S=s.Vrtc.v;
if(this.asl){r=r.val;S=S.val}this.px.b(r);this.lg.b(S);if(N==!0)this.s2()};bo.prototype.L=function(){var s=this.px.L(),N=this.lg.L();
if(this.asl)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:s}},Vrtc:{t:"UntF",v:{type:"#Prc",val:N}}};
else return{classID:"Pnt",Hrzn:{v:s,t:"doub"},Vrtc:{v:N,t:"doub"}}};function f7(){hz.call(this);this.e=W.z("span","fitem strokebutton");
this._z=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.Uu=JSON.parse(JSON.stringify(jG.iJ.default));
this.TE=W.z("button");this.e.appendChild(this.TE);W.JQ(this.e,this.BW.bind(this));var s=W.z("canvas","gsicon");
this.IM=s.getContext("2d");this.TE.appendChild(s);var N=W.z("span");N.textContent=" \u25BC";this.TE.appendChild(N);
this.z5=new hz;this.z5.parent=this;this.z5.e=W.z("div","floatcont form");var r=this.z5.e;r.setAttribute("style","width: 14em;");
this.yf=[new fa([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new gI([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new gI([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new aW([19,9,2])];
for(var l=0;l<this.yf.length;l++){var S=this.yf[l];r.appendChild(S.e);var z=l<4?k.E.o:"click";S.W(z,this.s2,this)}W.ts(r);
this.J1=[];var A=this.auP.bind(this);this.Uu.strokeStyleLineWidth.v.val=3;for(var l=0;l<this._z.length;
l++){var B=W.z("button","fitem");this.J1.push(B);r.appendChild(B);B.addEventListener("click",A,!1);var s=W.z("canvas","gsicon"),Y=s.getContext("2d");
B.appendChild(s);this.a3Z(Y,40,20,this._z[l])}this.Uu.strokeStyleLineWidth.v.val=1}f7.prototype=new hz;
f7.prototype.BW=function(s){if(W.zS(this.z5.e))return;s.stopPropagation();var N=this.TE.getBoundingClientRect(),r=new hU(k.E.Y,!0);
r.data={d:k.s.xh,mk:this.z5,x:N.left,y:N.top+N.height+4};this.c(r)};f7.prototype.s2=function(s){var N=this.yf,r=N.indexOf(s.target),S=[];
for(var l=0;l<4;l++)S.push(N[l].L());this.Uu=this.ajI(S);this.c(new hU(k.E.o,!1))};f7.prototype.auP=function(s){var N=this.J1.indexOf(s.currentTarget);
this.b(this.ajI(this._z[N]));this.c(new hU(k.E.o,!1))};f7.prototype.ajI=function(s){var N=JSON.parse(JSON.stringify(this.Uu)),r=s[0],S=s[1],z=s[2],A=s[3];
if(r!=null)N.strokeStyleLineAlignment.v.strokeStyleLineAlignment=jG.iJ.qY[r];if(S!=null)N.strokeStyleLineCapType.v.strokeStyleLineCapType=jG.iJ.VZ[S];
if(z!=null)N.strokeStyleLineJoinType.v.strokeStyleLineJoinType=jG.iJ.join[z];var B=N.strokeStyleLineDashSet.v=[];
A=A.split(" ");while((A.length&1)!=0)A.pop();for(var l=0;l<A.length;l++)B.push({t:"UntF",v:{type:"#Nne",val:parseInt(A[l])}});
return N};f7.prototype.N=function(){for(var l=0;l<this.yf.length;l++)this.yf[l].N()};f7.prototype.b=function(s){this.Uu=JSON.parse(JSON.stringify(s));
var N=jG.iJ.qY.indexOf(s.strokeStyleLineAlignment.v.strokeStyleLineAlignment),r=jG.iJ.VZ.indexOf(s.strokeStyleLineCapType.v.strokeStyleLineCapType),S=jG.iJ.join.indexOf(s.strokeStyleLineJoinType.v.strokeStyleLineJoinType),z=[],A=s.strokeStyleLineDashSet.v;
for(var B=0;B<A.length;B++)z.push(A[B].v.val);var Y=this.yf;Y[0].b(N);Y[1].b(r);Y[2].b(S);Y[3].b(z.join(" "));
var t=[];for(var l=0;l<4;l++)t.push(Y[l].L());this.a3Z(this.IM,40,16,t)};f7.prototype.L=function(){return JSON.parse(JSON.stringify(this.Uu))};
f7.prototype.a3Z=function(s,N,r,S){var z=S[0],A=S[1],B=S[2],Y=S[3].split(" ").map(parseFloat);W.Bh(s.canvas,N,r);
var t=Math.min(5,this.Uu.strokeStyleLineWidth.v.val);for(var l=0;l<Y.length;l++)Y[l]*=t;s.clearRect(0,0,N,r);
s.setLineDash(Y);s.lineCap=["butt","round","square"][A];s.lineJoin=["miter","round","bevel"][B];s.lineWidth=t;
s.beginPath();s.moveTo(0,r/2);s.lineTo(N*2,r/2);s.stroke()};function bi(s){cS.call(this,s,!1,"contourbutton",34,16,eq.ne,!0);
this.c_=new aW([12,86],null,16);this.c_.W("input",this.P$,this);this.z5.e.appendChild(this.c_.e);this.PC=null;
this.oO="";this.MY=null;this.b(c1.yS())}bi.prototype=new cS;bi.prototype.N=function(){cS.prototype.N.call(this);
this.c_.N()};bi.prototype.gS=function(s){this.b(this.PC[s.target.L()[0]]);this.c(new hU(k.E.o))};bi.prototype.P$=function(s){this.oO=this.c_.L().toLowerCase();
this.a40()};bi.a8h=!1;bi.prototype.os=function(){if(!this.sA)return;var s=this.gp;if(s==null||!bi.a8h){var N=new hU(k.E.Y,!0);
N.data={d:k.s.k3,LS:{url:"rsrc/basic/fa_basic.csh"}};this.c(N);bi.a8h=!0}else{var r=Math.floor(38*W.Z()),S=Math.floor(38*W.Z());
this.MY=[];for(var l=0;l<s.length;l++)this.MY.push(bi.apd(s[l],r,S));this.a40();this.sA=!1}};bi.prototype.a40=function(){var s=Math.floor(38*W.Z()),N=Math.floor(38*W.Z());
this.PC=[];var r=[],S=[],z=this.gp;for(var l=0;l<z.length;l++){if(z[l].U1.toLowerCase().indexOf(this.oO)==-1)continue;
this.PC.push(z[l]);r.push(this.MY[l]);S.push(z[l].U1)}this.ss.en(r,S,s,N)};bi.prototype.b=function(s){this.Y6=bi.clone(s);
this.au()};bi.prototype.au=function(){var s=Math.floor(23*W.Z()),N=Math.floor(23*W.Z()),r=bi.apd(this.Y6,s,N);
this.Wj.setAttribute("src",r);W.UY(this.Wj,s,N)};bi.prototype.L=function(){return bi.clone(this.Y6)};
bi.clone=function(s){return{U1:s.U1,Dy:s.Dy,_:y.kL.AM(s._),CS:s.CS.clone()}};bi.I=null;bi.xO=null;bi.apd=function(s,N,r){var S=y.kL.AM(s._),z=s.CS,A=Math.min(N/z.G,r/z.n)*.9,B=new gF;
B.translate(-.5,-.5);B.scale(.95,.95);B.translate(.5,.5);B.scale(A*z.G,A*z.n);q.J.Yy(S,B);var Y=new y.kL;
Y._=S;var t=Y.eg();t.rect.x=Math.floor((N-t.rect.G)/2);t.rect.y=Math.floor((r-t.rect.n)/2);var p=q.m(t.rect.$()*4);
q.XX(t.channel,p,3);var f=bi;if(f.I==null)f.I=W.z("canvas");var a=f.I,D=a.getContext("2d");if(a.width!=N||a.height!=r||f.xO==null){a.width=N;
a.height=r;f.xO=D.createImageData(N,r)}var c=f.xO;c.data.fill(0);q.LP(p,t.rect,c.data,new hq(0,0,N,r));
D.putImageData(c,0,0);return a.toDataURL()};function gs(s){cS.call(this,s,!1,"ICCButton",16,12,eq.P3,!0);
this.ss.lh(1)}gs.prototype=new cS;gs.prototype.z1=function(){var s="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var l=0;l<s.length;l++)s[l]="luts/"+s[l]+".CUBE";return s};gs.prototype.gS=function(s){this.b(this.gp[s.target.L()]);
this.c(new hU(k.E.o))};gs.prototype.os=function(){if(!this.sA)return;var s=Math.floor(1*W.Z()),N=Math.floor(1*W.Z()),r=[],S=[],z=this.gp;
for(var l=0;l<z.length;l++){var A=z[l].Nm.v.split("\\").pop().split("/").pop();S.push(A);r.push(gs.ty(z[l],s,N))}this.ss.en(r,S,s,N);
this.sA=!1};gs.prototype.b=function(s){this.Y6=JSON.parse(JSON.stringify(s));this.au()};gs.ty=function(s,N,r){var S=W.z("canvas"),B="ICC / 3DL / look / cube";
S.width=N;S.height=r;var z=S.getContext("2d"),A=Math.floor(14*W.Z());z.font=A+"px sans-serif";if(s.Nm)B=s.Nm.v.split("\\").pop().split("/").pop();
z.fillText(B,10,A);return S.toDataURL()};gs.prototype.au=function(){var s=Math.floor(120*W.Z()),N=Math.floor(20*W.Z());
this.Wj.setAttribute("src",gs.ty(this.Y6,s,N));W.UY(this.Wj,s,N)};gs.prototype.L=function(){return JSON.parse(JSON.stringify(this.Y6))};
function km(){hz.call(this);this.S9=null;this.e=W.z("span","fitem");this.WY=new fJ([14,9]);this.iq=new ij(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.FB=new f7;this.pq=[this.WY,this.iq,this.FB];for(var l=0;l<this.pq.length;l++){var s=this.pq[l];
this.e.appendChild(s.e);s.parent=this;s.W(k.E.o,this.s2,this)}}km.prototype=new hz;km.prototype.N=function(){for(var l=0;
l<this.pq.length;l++)this.pq[l].N()};km.prototype.wy=function(s,N){this.WY.wy(s,N)};km.prototype.s2=function(s){var N=this.S9,r=this.WY.L(),S=r.Hf;
N.strokeEnabled.v=S!=0;if(S!=0){N.strokeStyleContent.v=r.SR;r.SR.classID=jG.iJ.Mn[S-1]}N.strokeStyleLineWidth.v.val=this.iq.L();
if(s.target==this.FB)N=this.FB.L();this.S9=N;this.c(new hU(k.E.o,!1))};km.prototype.b=function(s,N,r){this.S9=JSON.parse(JSON.stringify(N));
var S=N.strokeEnabled.v,z=N.strokeStyleContent.v,A=S?{Hf:1+jG.iJ.Mn.indexOf(z.classID),SR:z}:{Hf:0};
this.WY.b(s,A,r);this.iq.b(N.strokeStyleLineWidth.v.val);this.FB.b(N)};km.prototype.L=function(){return JSON.parse(JSON.stringify(this.S9))};
function iB(s){var N=[[18,0],[18,1],[18,2],[18,3]],r=gI.Is(["set/front","set/union","set/difference","set/intersection"]);
gI.call(this,s?[12,36]:null,r,N)}iB.prototype=new gI;function jw(){hz.call(this);this.e=W.z("button","fitem bbtn");
W.JQ(this.e,this.BW.bind(this));this.z5=new hz;this.z5.e=W.z("div","floatcont form");this.z5.e.setAttribute("style","max-width: 200px;");
this.z5.parent=this;var s=ao;this.XY=[new d1("Start"),new d1("End"),new s([12,41],0,100,"px",null,!0,null,!0),new s([12,80,0],0,100,"px",null,!0,null,!0),new s("Concavity",-50,50,"%",null,null,null,!0)];
for(var l=0;l<this.XY.length;l++){var N=this.XY[l];N.parent=this;N.W(k.E.o,this.U_,this);this.z5.e.appendChild(N.e)}this.aqq=W.z("div");
this.z5.e.appendChild(this.aqq)}jw.prototype=new hz;jw.prototype.b=function(s){for(var l=0;l<5;l++)this.XY[l].b(s[l]);
this.rx()};jw.prototype.L=function(s){var N=[];for(var l=0;l<5;l++)N[l]=this.XY[l].L();return N};jw.prototype.N=function(){this.e.textContent=eV.get([12,93,4]);
for(var l=0;l<this.XY.length;l++)this.XY[l].N()};jw.prototype.U_=function(s){this.c(new hU(k.E.o,!1));
this.rx()};jw.prototype.rx=function(s){var N=this.L(),r=200,S=60;N[2]/=W.Z();N[3]/=W.Z();var z=q.J.kt.Y0(0,S/2,r,S/2,5,N),A=q.J.ae(z);
this.aqq.innerHTML="<svg width=\""+r+"\" height=\""+S+"\" class=\"gsicon\">\t\t\t<path d=\""+A.iO+"\" />\t\t\t</svg>"};
jw.prototype.BW=function(s){if(W.zS(this.z5.e))return;s.stopPropagation();var N=this.e.getBoundingClientRect(),r=new hU(k.E.Y,!0);
r.data={d:k.s.xh,mk:this.z5,x:N.left,y:N.top+N.height,L0:!0};this.c(r)};function im(){hz.call(this);
this.e=W.z("div");this.jX=[];this.a7D=[];var s=this.$f=W.z("div"),N=W.z("h2");N.textContent="Create Teams";
s.appendChild(N);N.style.margin="26px 0 16px 0";var r=new aa("More about Teams",!1,null,!0);N.appendChild(r.e);
r.e.style.float="right";r.W("click",this.afO,this);this.Fr=W.z("div");s.appendChild(this.Fr);this.aje=new aW("Team Name",null,10);
s.appendChild(this.aje.e);var S=this.ahj=new aa("Create Team",null,null,!0);s.appendChild(S.e);S.W("click",this.a7W,this);
var N=W.z("h2");N.textContent="Join Teams";s.appendChild(N);N.style.margin="26px 0 16px 0";this.xJ=W.z("div");
s.appendChild(this.xJ);this.ara=new aW("Team ID",null,10);s.appendChild(this.ara.e);var S=new aa("Join Team",null,null,!0);
s.appendChild(S.e);S.W("click",this.a7W,this);this.apq;this.a4h=this.sV.bind(this);this.aa7=this.a1m.bind(this);
this.$t=!1;this.ME();this.VM=null;this.a9m=""}im.prototype=new hz;im.prototype.afO=function(s){var N=new hU(k.E.Y,!0);
N.data={d:k.s.TL,link:"https://www.photopea.com/api/accounts#teams"};this.c(N)};im.prototype.ME=function(){clearTimeout(this.aqK);
this.aqK=setTimeout(this.aa7,this.VM?10:3e3)};im.prototype.a1m=function(){var s=eH.vj();if(document.hidden||!W.zS(this.e)||s==null){this.ME();
return}var N=eH.Eh();if(this.VM==null&&N==null)return;eH.vp(this.VM?this.VM:N,this.a4h);this.$t=!0;this.VM=null};
im.prototype.a3G=function(s){s.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.$t)this.VM=s;else{clearTimeout(this.aqK);eH.vp(s,this.a4h)}};im.prototype.S1=function(s){var N=typeof s=="string"?this.apq:this.jX.indexOf(s.target),r=this.a7D[N],S=r[0],z=eH.Eh();
if(z==null)z={};var A=z.acc,B=A.tjoin,Y=A.tstart;if(S=="leave"){B.splice(B.indexOf(r[1]),1)}if(S=="add"||S=="remove"||S=="delTeam"||S=="showRename"||S=="rename"){var t=-1,p=0;
for(var l=0;l<Y.length;l++){p+=Y[l][1].length;if(Y[l][2]==r[1])t=l}var f=Y[t];if(S=="add"){var a=eH.GX();
if(a[0]==0&&a[1][2]<=p){alert("You can have at most "+a[1][2]+" members in your Premium.");return}f[1].push(r[2])}if(S=="remove")f[1].splice(f[1].indexOf(r[2]),1);
if(S=="delTeam"){if(f[1].length!=0){alert("Remove members first.");return}Y.splice(t,1)}if(S=="showRename"){var D=new hU(k.E.Y,!0);
D.data={d:k.s.Pv,ic:"namewindow",kj:f[0],JN:this.S1.bind(this)};this.c(D);this.apq=N;r[0]="rename";return}if(S=="rename")f[0]=s}this.a3G(z)};
im.prototype.a7W=function(s){var N=this.ahj==s.target,r=(N?this.aje:this.ara).L().trim();if(r==""){alert("The Team "+(N?"Name":"ID")+" is empty.");
return}if(!N){r=parseInt(r);if(isNaN(r)){alert("The ID must be a number");return}}var S=eH.Eh();if(S==null)S={};
var z=S.acc;if(z==null)z=S.acc={};var A=z.tstart,B=z.tjoin;if(N){if(A==null)A=z.tstart=[];if(A.length>5){alert("You can have at most 5 teams");
return}A.push([r,[]])}else{if(A)for(var l=0;l<A.length;l++)if(A[l][2]==r){alert("You are the owner of this team");
return}if(B==null)B=z.tjoin=[];if(B.indexOf(r)!=-1){alert("You already asked to join this team.");return}z.tjoin.push(r)}z.update=!0;
this.a3G(S)};im.prototype.sV=function(){this.$t=!1;var s=eH.vj(),N=s!=null,r=this.$f.parentNode!=null;
if(N!=r){W.o3(this.e);if(N)this.e.appendChild(this.$f);else this.e.textContent="Log In to access Team Settings."}if(!N)return;
var S=eH.Eh();if(S==null)S={};var z=S.acc;if(z==null)z={};var A=JSON.stringify(z)+"===="+JSON.stringify(s);
if(A!=this.a9m){this.a9m=A;var B=this.Fr,Y=this.xJ;W.o3(B);W.o3(Y);var t=this.jX=[],p=this.a7D=[],f=this.S1.bind(this);
function a(F,L){F.addEventListener("click",f);t.push(F);p.push(L)}function D(m,F){var X=W.z("div"),L="rgba(255,255,255,0.15)";
X.appendChild(J("ID: "+m[2],44,L));X.appendChild(J(m[0],160,null,!0));if(F){X.appendChild(J(m[1].length+" members",80,null,!0))}else{X.appendChild(J(m[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<m[1]*1e3)X.appendChild(J("Premium",80,"rgba(0,140,0,1)"))}var x=J("",120);X.appendChild(x);
x.setAttribute("style","float:right;text-align:right");if(F){var g=new aa("Rename",null,null,!0);a(g,["showRename",m[2]]);
x.appendChild(g.e)}var g=new aa(F?"Delete":"Leave",null,null,!0);a(g,[F?"delTeam":"leave",m[2]]);x.appendChild(g.e);
return X}function c(F,L,w){var X=W.z("div");X.style.paddingLeft="36px";X.appendChild(J(L?"\u2713":"...",8,L?"#229922":"#aa7700"));
X.appendChild(J(F[1],200));X.appendChild(J(F[2],240));var x=J("",120);X.appendChild(x);x.setAttribute("style","float:right;text-align:right");
var g=new aa(L?"Remove":"Add",null,null,!0);a(g,[L?"remove":"add",w,F[0]]);x.appendChild(g.e);return X}function J(F,L,x,g){var n=W.z("span");
n.textContent=F;n.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+L+"px;  "+(x!=null?"background-color:"+x+";":"")+(g?"font-weight:bold;":""));
return n}var Z=z.tstart,Q=z.tjoin,M=s.wantToJoin,u=s.inTeams;if(Z)for(var P=0;P<Z.length;P++){var m=Z[P],i=M["t"+m[2]];
if(i==null)i=[];var e={};for(var l=0;l<i.length;l++)e["u"+i[l][0]]=i[l];var X=D(m,!0);B.appendChild(X);
X.style.marginTop="10px";for(var l=0;l<m[1].length;l++){var $=m[1][l],O=e["u"+$];if(O==null)O=[$,"========","... user has left your team"];
delete e["u"+$];var T=c(O,!0,m[2]);B.appendChild(T)}for(var b in e){var O=e[b],T=c(O,!1,m[2]);B.appendChild(T)}}if(Q){var R={};
for(var l=0;l<u.length;l++)R["t"+u[l][2]]=u[l];for(var P=0;P<Q.length;P++){var w=Q[P],m=R["t"+w],X=D(m?m:["==========",-1,w],!1);
Y.appendChild(X)}}this.c(new hU(k.E.o))}if(this.VM==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.ME()};
function gJ(){hz.call(this);this.p2=[16,!0,!0];this.e=W.z("span","");this.sw=[new ij([12,24],0,255),new d1([12,25,1]),new d1([12,25,0])];
for(var l=0;l<3;l++){var s=this.sw[l];s.parent=this;s.b(this.p2[l]);this.e.appendChild(s.e);s.W(k.E.o,this.s2,this)}}gJ.prototype=new hz;
gJ.prototype.s2=function(){for(var l=0;l<3;l++)this.p2[l]=this.sw[l].L();this.c(new hU(k.E.o,!1))};gJ.prototype.b=function(s){this.p2=s.slice(0);
for(var l=0;l<3;l++)this.sw[l].b(s[l])};gJ.prototype.L=function(){return this.p2.slice(0)};gJ.prototype.N=function(){for(var l=0;
l<3;l++)this.sw[l].N()};function dr(s,N){hz.call(this);if(N==null)N=!1;this.MY=[];this.MQ=Math.floor(120*W.Z());
this.ao7=Math.floor(23*W.Z());this.kF=0;this.qV=[];this.bN=[];for(var r in q.Wx.type){if(r=="warpCustom"&&!N)continue;
this.qV.push(r);this.bN.push(q.Wx.type[r])}this.e=W.z("span","fitem warpbutton");this.z5=new hz;this.z5.e=W.z("div","floatcont");
if(s){this.nJ=s;this.Q3=W.z("label","flabel");this.e.appendChild(this.Q3)}this.d=W.z("button");this.e.appendChild(this.d);
W.JQ(this.d,this.BW.bind(this));this.Sq=new j7(!0);this.z5.e.appendChild(this.Sq.e);this.Sq.W(k.E.o,this.aho,this);
this.z5.e.setAttribute("style","width:"+Math.floor(8+this.MQ/W.Z())+"px;");this.N()}dr.prototype=new hz;
dr.prototype.wp=function(s){this.Q3.textContent=s};dr.prototype.N=function(){if(this.nJ)this.Q3.innerHTML=eV.get(this.nJ)+":";
this.au()};dr.a68={};dr.aiA=function(s,N,r){var S=eV.get(q.Wx.type[s]),z=S+"-"+s+"-"+N+"-"+r,A=dr.a68[z];
if(A)return A;var B=dr.IM;if(Y==null){var Y=W.z("canvas");B=dr.IM=Y.getContext("2d")}var Y=B.canvas;
if(Y.width!=N||Y.height!=r){Y.width=N;Y.height=r}B.font=Math.floor(13*W.Z())+"px sans-serif";B.lineWidth=1;
B.strokeStyle="#000000";var t=Math.floor(16*W.Z()),p=new hq(0,0,t,t);B.clearRect(0,0,Y.width,Y.height);
var f=q.Wx.Wx(p,s,!0,.3,0,0),a=q.g.w2(p);a.F.push("M","L","M","L");a.v.push(0,t/2,t,t/2);a.v.push(t/2,0,t/2,t);
a=q.g.k_(a);a=q.g.uY(a,t/5);q.Xp.D(f,a.v,p);q.g.D(a.v,new gF(1,0,0,1,Math.floor(8*W.Z())+.5,Math.floor(3*W.Z())+.5),a.v);
B.beginPath();Typr.U.pathToContext({cmds:a.F,crds:a.v},B);B.stroke();B.fillText(S,Math.floor(40*W.Z()),Math.floor(16*W.Z()));
A=dr.a68[z]=Y.toDataURL();return A};dr.prototype.BW=function(s){if(W.zS(this.z5.e))return;s.stopPropagation();
var N=this.MQ,r=this.ao7;for(var l=0;l<this.qV.length;l++)this.MY[l]=dr.aiA(this.qV[l],N,r);this.Sq.en(this.MY,null,N,r);
var S=this.d.getBoundingClientRect(),z=new hU(k.E.Y,!0);z.data={d:k.s.xh,mk:this.z5,x:S.left,y:S.top+S.height+4};
this.c(z)};dr.prototype.aho=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.fo,mk:this.z5};this.c(N);
this.kF=s.target.L()[0];this.au();this.c(new hU(k.E.o))};dr.prototype.au=function(){var s=this.MQ,N=this.ao7;
this.Sq.b([this.kF]);this.d.innerHTML="<img src=\""+dr.aiA(this.qV[this.kF],s,N)+"\" class=\"gsicon\" />";
W.UY(this.d.firstChild,s,N)};dr.prototype.L=function(){return this.qV[this.kF]};dr.prototype.b=function(s){this.kF=this.qV.indexOf(s);
this.au()};function gT(s,N,r){hz.call(this);if(s==null)s=!1;if(N==null)N=!1;if(r==null)r=!1;this.aqg=N;
this.Wx=null;this.dq=new dr([12,22],r);this.dq.parent=this;this.dq.W(k.E.o,this.xM,this);this.TG=new fa([22,0],[[22,4,0],[22,4,1]]);
this.TG.W(k.E.o,this.xM,this);var S=s?ij:ao;this.FV=new S([22,1],-100,100,"%");this.kV=new S("Horizontal Distortion:",-100,100,"%");
this.Tu=new S("Vertical Distortion:",-100,100,"%");this.FV.parent=this.kV.parent=this.Tu.parent=this;
this.FV.W(k.E.o,this.xM,this);this.kV.W(k.E.o,this.xM,this);this.Tu.W(k.E.o,this.xM,this)}gT.prototype=new hz;
gT.prototype.N=function(){this.dq.N();this.TG.N();this.FV.N();var s=this.aqg?1:100;this.kV.wp(eV.get([22,2]).substring(0,s)+":");
this.Tu.wp(eV.get([22,3]).substring(0,s)+":")};gT.prototype.xM=function(){var s=this.Wx,N=this.dq.L(),r=s.warpStyle.v.warpStyle;
if(N=="warpCustom")q.Wx.LM(q.Wx.T$(s),s);else delete s.customEnvelopeWarp;s.warpStyle.v.warpStyle=this.dq.L();
s.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.TG.L()];s.warpValue.v=this.FV.L();s.warpPerspective.v=this.kV.L();
s.warpPerspectiveOther.v=this.Tu.L();if(N=="warpNone"||N=="warpCustom"){s.warpValue.v=0;s.warpPerspective.v=0;
s.warpPerspectiveOther.v=0}else if(r=="warpNone"||r=="warpCustom")s.warpValue.v=50;this.c(new hU(k.E.o,!1));
this.b(s)};gT.prototype.L=function(s){return JSON.parse(JSON.stringify(this.Wx))};gT.prototype.b=function(s){this.Wx=JSON.parse(JSON.stringify(s));
this.dq.b(s.warpStyle.v.warpStyle);this.TG.b(s.warpRotate.v.Ornt=="Hrzn"?0:1);this.FV.b(s.warpValue.v);
this.kV.b(s.warpPerspective.v);this.Tu.b(s.warpPerspectiveOther.v);var N=s.warpStyle.v.warpStyle,r=N=="warpNone"||N=="warpCustom",S=[this.TG,this.FV,this.kV,this.Tu];
for(var l=0;l<S.length;l++)if(r)S[l].sK();else S[l].WT()};function bc(s,N){hz.call(this);this.e=W.z("div");
this.eU=s;this.ev=null;this.Cg=new cR(0,0);this.J3="position:relative;overflow:hidden;";this._D=null;
this.Kl=new W.uz(this.e);this.avC=N;this.lL("grab");this.I=W.z("canvas","canv");this.e.appendChild(this.I);
this.IM=this.I.getContext("2d");this.aos=null;this.ai=null;this.ay=null;this.rD=0;this.DL=0;this.SU=0;
this.ag$=this.a7w.bind(this);this.aok=null;this.a=new gX({G:1,n:1});this.Nn=null;this.VK=null;this.V4=[];
this.aso=0;this.WM=0;this.atc=this.ja.bind(this);this.a21=this.ma.bind(this);this.aqP=this.$D.bind(this);
this.aiC=this.V_.bind(this);this.avl=0;this.Nb=null;this.arO(this.I);this.A4(this)}bc.prototype=new hz;
bc.apR=function(s){var N=new cK(!0);if(s>=0)N.Xg("Space");if(s>=1){N.Xg("ControlLeft");if(s==2)N.Xg("AltLeft")}return N};
bc.prototype.Rt=function(s){var N=this._D,r=null;if(s.t(cK.IH)){r="grab";if(s.t(cK.z6)){r="zoom-in";
if(s.t(cK.nI))r="zoom-out"}}this.ev=r;if(r)N=r;this.Kl.sV(N,this.J3);if(s.t(cK.z6)){var S=0;if(s.t(cK.TF))S=1;
if(s.t(cK.iQ))S=-1;if(S!=0){this.sS(new cR(this.I.width/2,this.I.height/2),S==1)}}};bc.prototype.lL=function(s){this._D=s;
if(this.ev)return;this.Kl.sV(s,this.J3)};bc.prototype.arO=function(s){W.JQ(s,this.atc);W.Kq(s);s.addEventListener("wheel",this.aiC,!1)};
bc.prototype.A4=function(s){s.W("viewchange",this.av2,this)};bc.prototype.av2=function(s){var N=this.a.X,r=s.currentTarget.RO();
this.a.X=r.X;this.a.u=r.u.clone();if(N!=r.X)this.vy();this.fs()};bc.prototype.RO=function(){return{X:this.a.X,u:this.a.u}};
bc.prototype.b=function(s,N){var r=s[0].zC;if(this.ai!=null&&this.ai[0].zC.nR(r)){}else{this.a.jO={G:r.G,n:r.n};
this.a.u=new cR(0,0);this.a.X=1}this.ai=s;this.vy();this.QE();this.rD=0;this.DL=0;this.SU=N==null?0:N;
this.a7w()};bc.prototype.V_=function(s){s.preventDefault();if(s.deltaY==0||Date.now()-this.avl<100)return;
var N=W.WO(s);N.x=W.Z()*N.x;N.y=W.Z()*N.y;this.avl=Date.now();this.sS(N,s.deltaY<0)};bc.prototype.sS=function(s,N){K.OD.JX(this.a,s,N);
this.a1H()};bc.prototype.FC=function(){var s=this.a,N=s.jO;this.a.X=K.OD.a16(N.G,N.n,s.bh.G,s.bh.n);
this.a1H()};bc.prototype.a1H=function(){this.vy();this.c(new hU("viewchange"));this.c(new hU("zoom"))};
bc.prototype.vy=function(){this.ay=[];var s=this.a.X;if(this.ai==null)return;for(var l=0;l<this.ai.length;
l++){var N=this.ai[l],r=new Uint8Array(N.data),S;if(s>=1)S={sB:r,rect:N.zC};else S=q.a7n(r,N.zC,s);this.ay.push(S)}};
bc.prototype.QE=function(){clearTimeout(this.aok)};bc.prototype.fs=function(){if(this.ai==null||!W.zS(this.I))return;
var s=this.aos,N=this.I.width,r=this.I.height,J,Z;if(s==null||s.width!=N||s.height!=r){s=this.aos=this.IM.createImageData(N,r);
console.log("creating image data")}var S=this.ai[this.rD],z=this.ay[this.rD],A=this.a,B=A.jO,Y=A.bh,t=Y.G,p=Y.n,f=B.G*A.X,a=B.n*A.X,D=Math.round((t-f)/2+A.u.x),c=Math.round((p-a)/2+A.u.y);
if(A.X<=1){Z=z.rect.clone();Z.x=D;Z.y=c;f=Z.G;a=Z.n;J=z.sB}else{var Q=1/A.X,M=new hq(Math.floor((Y.x-D)*Q),Math.floor((Y.y-c)*Q),Math.ceil(Y.G*Q)+1,Math.ceil(Y.n*Q)+1),u=new hq(0,0,M.G*A.X,M.n*A.X);
u.x=M.x*A.X+D;u.y=M.y*A.X+c;if(A.Q0==null||A.Q0.length!=M.$()*4){A.Q0=q.m(M.$()*4)}if(A.WJ==null||A.WJ.length!=u.$()*4){A.WJ=q.m(u.$()*4)}q.TM(A.Q0,0);
q.LP(z.sB,z.rect,A.Q0,M);q.scale.MZ(A.Q0,M.G,M.n,A.WJ,u.G,u.n,A.X);J=A.WJ;Z=u}var P=new Uint8Array(s.data.buffer);
q.nD(P,t,p,8,-D,-c);q.Q.VP("norm",J,Z,P,Y,Y,1);var m=this.IM;m.setTransform(1,0,0,1,0,0);m.putImageData(s,0,0);
m.clearRect(D-1e3,c,1e3,a);m.clearRect(D+f,c,1e3,a);m.clearRect(D-1e3,c-1e3,f+2e3,1e3);m.clearRect(D-1e3,c+a,f+2e3,1e3);
var i=bc.aa2(A.X,"#ffffff",this.avC);m.putImageData(i,0,A.bh.n-i.height)};bc.amT={};bc.aa2=function(s,N,r){if(r==null)r=!1;
var S="z"+s+","+N+","+r,z=bc.amT[S];if(z)return z;var A=Math.round(50*W.Z()),B=Math.round(18*W.Z()),Y=r?2*B:0,t=W.z("canvas"),p=t.getContext("2d");
t.width=A+Y;t.height=B;p.fillStyle="rgba(1,1,1,1)";p.fillRect(0,0,A+Y,B);p.font=Math.round(11*W.Z())+"px monospace";
p.fillStyle=N;var f=s*100;if(f<100)f=f.toFixed(2);else f=Math.round(f);f=f+"%";var a=p.measureText(f).width;
p.fillText(f,Y+(A-a)/2,Math.round(B*.7));z=bc.amT[S]=p.getImageData(0,0,A+Y,B);return z};bc.prototype.a7w=function(){var s=this.ai,N=s.length,r=this.rD,S=this.ai[r],z=(r+1)%N;
this.fs();if(N!=1&&s[z].zC.nR(S.zC)){var A=S.ra?parseInt(S.ra.split(",").pop()):30;if(A==0)A=16;if(z==0)this.DL++;
if(this.SU==0||this.DL<this.SU)this.aok=setTimeout(this.ag$,A)}this.rD=z};bc.prototype.uw=function(s,N){if(s<=0||N<=0)return;
var r=Math.floor(s*W.Z()),S=Math.floor(N*W.Z());this.a.bh=new hq(0,0,r,S);this.I.width=r;this.I.height=S;
this.I.setAttribute("style","width:"+r/W.Z()+"px; height:"+S/W.Z()+"px; display:block;");this.fs()};
bc.prototype.aW=function(s){var N=-1,r=this.V4;for(var l=0;l<r.length;l++)if(r[l].pointerId==s.pointerId)N=l;
return N};bc.prototype.ja=function(s){var N=this.aW(s),r=this.V4;if(N!=-1)r[N]=s;else r.push(s);if(r.length==1){this.Nb=s.target;
W.UT(window,this.a21);W.eA(window,this.aqP);this.Nn=W.WO(s,this.I);this.Nn.x*=W.Z();this.Nn.y*=W.Z();
this.Cg=this.Nn;this.VK=this.a.u.clone();if(this.eU&&this.Nb==this.I&&!this.ev)this.c(new hU("mousedown"))}else this.aso=this.WM=cR.iI(W.WO(r[0],this.I),W.WO(r[1],this.I))};
bc.prototype.ma=function(s){var N=this.aW(s),r=this.V4;if(N!=-1)r[N]=s;var S=this.a,z=this.ev,A=this.ai[this.rD].zC.clone();
A.G*=S.X;A.n*=S.X;var B=W.WO(s,this.I);B.x*=W.Z();B.y*=W.Z();this.Cg=B;if(this.eU&&this.Nb==this.I&&!z)this.c(new hU("mousemove"));
else if((z=="grab"||z==null)&&(r.length>1||!S.bh.V9(A))){if(r.length>1){var Y=W.WO(r[0],this.I),t=W.WO(r[1],this.I),p=new cR(W.Z()*(Y.x+t.x)/2,W.Z()*(Y.y+t.y)/2),f=cR.iI(Y,t),a=null;
if(f>this.WM+50){this.WM+=50;a=!0}if(f<this.WM-50){this.WM-=50;a=!1}if(a!=null)this.sS(p,a);return}else{var D=B.x-this.Nn.x,J=B.y-this.Nn.y;
S.u.x=this.VK.x+Math.round(D);S.u.y=this.VK.y+Math.round(J)}this.c(new hU("viewchange"))}};bc.prototype.$D=function(s){var N=this.aW(s),r=this.V4;
r.splice(N,1);if(r.length==0){W.nP(window,this.a21);W.tp(window,this.aqP);var S=this.ev;if(s.detail>1){this.a.X=1;
this.a.u.i5(0,0);this.fs()}if(this.eU&&this.Nb==this.I&&!this.ev)this.c(new hU("mouseup"));else{if(S=="zoom-in"||S=="zoom-out")this.sS(this.Cg,S=="zoom-in")}}else{var z=this.Nn=W.WO(r[0],this.I);
z.x*=W.Z();z.y*=W.Z()}};bc.prototype.cb=function(){return this.a.Vd(this.Cg.x,this.Cg.y)};function jQ(){hz.call(this);
this.C9=null;this.D0=null;this.k6=null;this.Se=null;this.ao3="";this.gh=[];this.tj=0;this.hv=[];this.KL=0;
this.tx=null;var s=this.e=W.z("div",""),N=this.ahK=W.z("div","form");N.setAttribute("style","line-height:0; margin-bottom:0.5em;");
s.appendChild(N);var r=this.nJ=W.z("span");N.appendChild(r);r.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var S=this.a0F=new d1([25,2,0]);S.b(!0);N.appendChild(S.e);S.W(k.E.o,this.J$,this);var z=this.EY=new d1([25,2,1]);
z.b(!0);N.appendChild(z.e);z.W(k.E.o,this.J$,this);var A=new ju(" ");N.appendChild(A.e);var B=this.Bo=new aW([25,1,1]);
N.appendChild(B.e);B.W(k.E.o,this.J$,this);this.T5=new cd(14);this.T5.au6(3);N.appendChild(this.T5.e);
this.T5.parent=this;this.T5.W(k.E.o,this.acu,this);var Y=this.anw=new aa([25,1,2],null,null,!0);N.appendChild(Y.e);
Y.W("click",this.kQ,this);var t=new aa("?",null,null,!0);N.appendChild(t.e);t.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a6m=this.avz.bind(this);this.JU=W.z("div","svggallery scrollable");s.appendChild(this.JU);this.JU.addEventListener("scroll",this.amv.bind(this))}jQ.prototype=new hz;
jQ.prototype.wy=function(s){this.a2d=s};jQ.prototype.N=function(){this.nJ.textContent=eV.get([25,0]);
this.T5.N();this.a0F.N();this.EY.N();this.Bo.N();this.anw.N()};jQ.prototype.uw=function(s,N){this.C9=new cR(s,N);
this.ahK.setAttribute("style","width:"+s+"px");var r=this.ahK.getBoundingClientRect();N-=r.height;this.JU.setAttribute("style","width:"+s+"px; height:"+N+"px");
if(W.zS(this.e))this.J$()};jQ.prototype.b=function(s){this.D0=s;this.J$()};jQ.prototype.amv=function(s){var N=this.JU;
if(N.scrollTop+N.clientHeight+10>=N.scrollHeight){this.J$(!0)}};jQ.prototype.acu=function(s){this.k6=null;
this.J$()};jQ.prototype.avz=function(s){if(Date.now()-this.KL<2e3)return;this.KL=Date.now();this.tj=this.hv.indexOf(s.currentTarget);
var N=this.rV(this.D0.x,this.D0.y);if(N[1]){var r=N[1].largeImageURL,S=new XMLHttpRequest;S.responseType="arraybuffer";
S.open("GET",r,!0);S.onload=this.a9R.bind(this);S.send();return}this.aiM(N)};jQ.prototype.a9R=function(s){var N=s.target.response,r=hg.yy(N),S=hg.Pp(r),z=S.LG(N),A=this.rV(this.D0.x,this.D0.y,[N,z[0].zC.G,z[0].zC.n]);
this.aiM(A)};jQ.prototype.aiM=function(s){var N=s[0],r=hg.yy(N),S=hg.Pp(r),z=new a2("template.psd");
S.LG(N,z);var A=new hU("tempready",!0);A.data={jO:z};this.c(A)};jQ.prototype.kQ=function(s){var N=s.target;
this.gh=[];this.k6=null;this.J$()};jQ.prototype.a4W=function(s){var N=JSON.parse(s.target.response),r=this.Se=N.hits;
for(var l=0;l<r.length;l++)if(r[l].user_id==6314823)r.splice(l,1);this.J$()};jQ.prototype.J$=function(s){if(this.D0==null||this.C9==null||this.a2d==null)return;
if(this.C9.x<=0)return;var N=this.D0.x,r=this.D0.y;if(Math.min(N,r)<50)return;if(s!=!0){this.hv=[];W.o3(this.JU);
this.JU.scrollTop=0}if(this.hv.length>300)return;var S=Math.min(1,300/Math.max(N,r)),z=this.C9.clone();
z.x-=20;var A=Math.max(1,Math.floor(z.x/(N*S))),B=Math.max(1,Math.ceil(z.y/(r*S)));S=z.x/A/N;var Y=A*B;
if(this.k6==null){var t=this.a2d.dw.tH(),p=[];for(var f in t){var a=t[f],D=a[3];if(!this.T5._l(a))continue;
if(a[5]==null||a[5].slice(0,2)=="gf")continue;p.push(a)}if(p.length==0)p.push(t.DejaVuSans);var c=p.length;
for(var l=0;l<c*10;l++){var J=Math.floor(Math.random()*c),Z=Math.floor(Math.random()*c),Q=p[J];p[J]=p[Z];
p[Z]=Q}p=p.slice(0,10);this.k6=p}var M=this.EY.L(),u=this.Bo.L().trim();this.Bo.b4(M);if(M&&(this.Se==null||u!=this.ao3)){var P=new XMLHttpRequest,m="https://pixabay.com/api/?image_type=photo"+(u==""?"":"&q="+encodeURIComponent(u))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(u=="")m="plugins/gallery.json";P.open("GET",m,!0);P.onload=this.a4W.bind(this);P.onerror=function(T){console.log(T.target.response)};
P.send();this.ao3=u;return}S*=(N*S-5)/(N*S);var i=this.hv.length;for(var l=0;l<Y;l++){var e=this.tj=i+l;
if(this.gh[e]==null)this.gh[e]=Math.floor(Math.random()*4294967295);var X=this.rV(Math.round(N*S),Math.round(r*S)),$=X[0];
$=U.uE(new Uint8Array($));var O=W.z("span");O.innerHTML=$;this.hv.push(O);this.JU.appendChild(O);O.addEventListener("click",this.a6m,!1)}};
jQ.prototype.rV=function(s,N,r){var S=this.EY.L(),z=this.a0F.L(),A=S&&this.Se.length!=0?this.Se:null;
if(z&&!S)A=null;if(z&&S&&(this.tj&1)==0)A=null;return cs.kt(s,N,this.gh[this.tj],this.k6,r?r:A)};function js(){hz.call(this);
this.e=W.z("div");this.$f=null;this.a7s=null;this.FE=-1;this.dz={JPG:[{WF:new ao([12,52,0],0,100,"%",null,null,!0),TT:70},{WF:new d1("attach metadata"),TT:!1}],TIFF:[{WF:new d1("attach metadata"),TT:!1}],WEBP:[{WF:new ao([12,52,0],0,100,"%",null,null,!0),TT:70}],GIF:[{WF:new ao([12,52,0],0,100,"%",null,null,!0),TT:100},{WF:new d1([12,23,3]),TT:!1}],PNG:[{WF:new ao([12,52,0],0,100,"%",null,null,!0),TT:100},{WF:new d1("don't use palettes"),TT:!1}],PDF:[{WF:new aW([12,52,1]),TT:""},{WF:new ao([12,52,0],0,100,"%",null,null,!0),TT:100},{WF:new d1("reverse pages"),TT:!1},{WF:new d1("rasterize all"),TT:!1},{WF:new d1("vectorize text"),TT:!1},{WF:new ao("Add Margin",0,5,"in",2),TT:0}],EMF:[{WF:new aW([12,52,1]),TT:""},{WF:new ao([12,52,0],0,100,"%",null,null,!0),TT:100},{WF:new d1("reverse pages"),TT:!1},{WF:new d1("rasterize all"),TT:!1},{WF:new d1("vectorize text"),TT:!1},{WF:new ao("Add Margin",0,5,"in",2),TT:0}],SVG:[{WF:new d1("add raster graphics"),TT:!0},{WF:new d1("add hidden layers"),TT:!1},{WF:new d1("vectorize text"),TT:!1},{WF:new d1("rasterize text"),TT:!1},{WF:new d1("minify"),TT:!0}],RAW:[{WF:new gI([12,72],["1","3","4"]),TT:2},{WF:new gI([12,34],["8 Bits","16 Bits"]),TT:0},{WF:new gI("Byte Order",["12-34","34-12"]),TT:0}],DDS:[{WF:new d1("Add Mipmaps"),TT:!0},{WF:new d1("Compression"),TT:!0}],anim:[{WF:new ao("Speed",10,800,"%",null,!0,!0),TT:100},{WF:new ij("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),TT:0},{WF:new d1("reverse frames"),TT:!1},{WF:new d1("boomerang"),TT:!1}],slcs:[{WF:new d1([8,11,0]),TT:!0}],artb:[{WF:new d1([1,16,1]),TT:!0}],hicc:[{WF:new d1("convert to sRGB"),TT:!0}]};
for(var s in this.dz){var N=this.dz[s];for(var l=0;l<N.length;l++){N[l].WF.b(N[l].TT);N[l].WF.W(k.E.o,this.Hc,this)}}}js.prototype=new hz;
js.prototype.aci=function(){this.FE=-1};js.prototype.N=function(){for(var s in this.dz)for(var l=0;l<this.dz[s].length;
l++)this.dz[s][l].WF.N()};js.prototype.Hc=function(){this.J$();this.c(new hU(k.E.o,!1))};js.prototype.J$=function(){var s=this.$f,N=s[0],r=s[1],S=s[2],z=s[3],A=s[4],B=this.dz[N];
if(B==null)B=[];else B=B.slice(0);if(r)B=B.concat(this.dz.anim);if(["GIF","PNG","JPG"].indexOf(N)!=-1&&S)B=B.concat(this.dz.slcs);
else if(["GIF","PNG","JPG"].indexOf(N)!=-1&&z)B=B.concat(this.dz.artb);if(A)B=B.concat(this.dz.hicc);
var Y=s.join(",");if(Y!=this.FE){this.FE=Y;W.o3(this.e);for(var l=0;l<B.length;l++){if(N=="PDF"&&!z&&(l==0||l==2))continue;
this.e.appendChild(B[l].WF.e);W.ts(this.e)}}var t=this.a7s=[];for(var l=0;l<B.length;l++)t.push(B[l].WF.L())};
js.prototype.a7m=function(s,N,r,S,z){this.$f=[s,N,r,S,z];this.J$()};js.prototype.L=function(){return this.a7s.slice(0)};
function d$(){hz.call(this);this.e=W.z("span","fitem");this.zf=!1;this.Mj=new aa("No",!1,"Cancel");this.Wu=new aa("Yes",!1,"Confirm");
this.e.appendChild(this.Mj.e);this.e.appendChild(this.Wu.e);this.Mj.W("click",this.xN,this);this.Wu.W("click",this.xN,this);
this.N()}d$.prototype=new hz;d$.prototype.N=function(){this.Mj.wp(W.xH("cross",null,"autoscale"));this.Wu.wp(W.xH("checkmark",null,"autoscale"))};
d$.prototype.xN=function(s){this.zf=s.target==this.Wu;this.c(new UIEvent("click"))};d$.prototype.L=function(){return this.zf};
function a_(s){hz.call(this);this.e=W.z("span","fitem");this.cp=new aa("\u25BC",null,"Auto Options",!0);
W.JQ(this.cp.e,this.al3.bind(this));this.e.appendChild(this.cp.e);this.Uf=new aa("Auto",null,null,!0);
this.Uf.W("click",this.U_,this);this.e.appendChild(this.Uf.e);this.Ub=new di("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.Ub.W(k.E.o,this.U_,this);this.Ub.b([!1,!1,!1,!0]);this.z5=new hz;var N=this.z5.e=W.z("div","floatcont form");
N.setAttribute("style","width: 250px;");this.z5.parent=this;N.appendChild(this.Ub.e);this.BH=[];for(var l=0;
l<2;l++){var r=new ij((l==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);r.b(.1);r.W(k.E.o,this.U_,this);
this.BH.push(r);N.appendChild(r.e)}}a_.prototype=new hz;a_.prototype.U_=function(s){this.c(new hU(k.E.o,!1))};
a_.prototype.N=function(){};a_.prototype.L=function(){return[this.Ub.L().indexOf(!0),this.BH[0].L(),this.BH[1].L()]};
a_.prototype.al3=function(s){if(W.zS(this.z5.e))return;s.stopPropagation();var N=this.cp.e.getBoundingClientRect(),r=new hU(k.E.Y,!0);
r.data={d:k.s.xh,mk:this.z5,x:N.left,y:N.top+N.height+4};this.c(r)};function cq(){hz.call(this);var s=this.e=W.z("div","fitem");
this.Wn=new fa([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Wn.W(k.E.o,this.s2,this);s.appendChild(this.Wn.e);
this.ca=new bw(!1);this.ca.parent=this;this.ca.Cl(16777215);this.ca.W(k.E.o,this.s2,this);s.appendChild(this.ca.e)}cq.prototype=new hz;
cq.prototype.N=function(){this.Wn.N();this.ca.N()};cq.prototype.ajK=function(s){var N=[s.artboardBackgroundType.v-1];
if(s.Clr)N.push(s.Clr.v);this.b(N)};cq.prototype.ahb=function(){var s=this.L();return{classID:"artboard",Clr:{t:"Objc",v:s[1]},artboardBackgroundType:{t:"long",v:s[0]+1}}};
cq.prototype.b=function(s){this.Wn.b(s[0]);if(s[1])this.ca.b(s[1])};cq.prototype.L=function(){return[this.Wn.L(),this.ca.L()]};
cq.prototype.s2=function(s){if(s.target==this.ca)this.Wn.b(3);this.c(new hU(k.E.o,!1))};function et(s){hz.call(this);
this.My=s;this.$z=0;this.aqr=!1;this.kH=s?new et.rm:null;this.e=W.z("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.kh=W.z("div");this.e.appendChild(this.kh);this.mZ=W.z("div");this.e.appendChild(this.mZ);this.J1=[];
var N=Storage.list.length;if(s)N++;var r=this.Eu.bind(this);for(var l=0;l<N;l++){var S=W.z("div");this.J1.push(S);
this.kh.appendChild(S);S.addEventListener("click",r,!1)}this.Eu(null,0)}et.prototype=new hz;et.a5$=[];
et.HL=function(s){et.a5$.push(s);s.rx()};et.Ao=function(){var s=et.a5$;s.pop();s[s.length-1].rx()};et.prototype.rx=function(){console.log(this.$z);
this.Eu(null,this.$z)};et.prototype.wy=function(s,N){if(!s.HS&&!this.aqr){var r=this.My?2:1;for(var l=r;
l<this.J1.length;l++)this.kh.removeChild(this.J1[l]);this.aqr=!0;if(this.My)this.kH.wy(s,N)}};et.prototype.N=function(){if(this.My)this.kH.N();
if(this.ym)this.ym.N()};et.prototype.Eu=function(s,N){var r=this.J1,S;if(N==null)N=r.indexOf(s.currentTarget);
this.$z=N;for(var l=0;l<r.length;l++)W.$F(r[l],"active");W.Bc(r[N],"active");if(this.My)N--;W.o3(this.mZ);
if(N==-1)S=this.kH;else S=Storage.$d(N);this.ym=S;S.parent=this;this.mZ.appendChild(S.e);this.uw(this.s7,this.JY);
this.N()};et.prototype.uw=function(s,N){this.s7=s;this.JY=N;var r=s<850,S=r?50:200,z=Storage.list;if(this.My)z=[["Home",null,"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ4OS4wNzUgNDg5LjA3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjA3NSA0ODkuMDc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNNDgyLjQ1MywyMjAuNzc1bC0xMTUuNS0xMTEuMnYtODguNWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44cy0yMC44LDkuNC0yMC44LDIwLjh2NDguNWwtNjYuNi02NC4xDQoJCWMtNy4zLTcuMy0xOS44LTcuMy0yOC4xLDBsLTIyMy42LDIxNS4zYy04LjMsOC4zLTkuNCwyMC44LTEsMjkuMWM4LjQsOC4zLDIwLjgsOS40LDI5LjEsMWwzLjEtM3YyMjAuNGMwLDExLjQsOS40LDIwLjgsMjAuOCwyMC44DQoJCWgzNzIuNGMxMS40LDAsMTkuOC05LjQsMjAuOC0xOS44di0yMTkuM2wyLjEsMmMxNS4yLDEwLjUsMjYsMy4xLDI5LjEtMi4xQzQ5MC43NTMsMjQxLjU3NSw0OTAuNzUzLDIyOC4wNzUsNDgyLjQ1MywyMjAuNzc1eg0KCQkgTTI4MS42NTMsNDQ4LjU3NWgtNzIuOHYtMTExLjNoNzIuOFY0NDguNTc1eiBNNDEwLjY1Myw0NDguNTc1aC04OC40di0xMzIuMWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44aC0xMTMuNA0KCQljLTExLjQsMC0yMC44LDkuNC0yMC44LDIwLjh2MTMyLjFoLTg3LjR2LTIwMy45aDMzMC44VjQ0OC41NzVMNDEwLjY1Myw0NDguNTc1eiBNODMuODUzLDIwNC4xNzVsMTYxLjQtMTU1bDE1OS44LDE1NUg4My44NTN6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="]].concat(z);
for(var l=0;l<z.length;l++){var A=this.J1[l],B="padding: 8px "+(r?13:36)+"px; cursor:pointer;";A.setAttribute("style",B);
A.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+z[l][2]+"\" /> "+(r?"":z[l][0])}this.e.style.width=s+"px";
this.e.style.height=N+"px";this.kh.style.width=S+"px";this.kh.style.paddingTop="32px";if(this.ym)this.ym.uw(s-S,N)};
et.rm=function(){var s=this.e=W.z("div");s.style.background="var(--bg-canvas)";var N=this.ww=W.z("div");
s.appendChild(N);var r=W.z("style");s.appendChild(r);r.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var l=0;l<2;l++){var S=W.z("div"),r="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";N.appendChild(S);
if(l==0)r+="padding: 12px 0px";if(l==1)r+="position:absolute;  bottom:0;";S.setAttribute("style",r);
var z=W.z("img");S.appendChild(z);z.setAttribute("src",PIMG[l==0?"logo":"bottom"]);if(l==0)this.a77=z;
else this.awL=z;if(l==0)this.a0B=S;else this.a2u=S}this.J1=[];r="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var A=this.K7.bind(this);for(var l=0;l<3;l++){var B=W.z("span","bhover");this.J1.push(B);B.setAttribute("style",r+"cursor:pointer; padding:12px;");
B.addEventListener("click",A,!1);N.appendChild(B)}W.ts(N);W.ts(N);var B=W.z("div");B.setAttribute("style",r+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
B.textContent="Drop any files here";N.appendChild(B);this.I=W.z("canvas");this.I.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.IM=this.I.getContext("2d");this.ahs=q.m(4);s.appendChild(this.I);var Y=new Date().getDate(),t=new Date().getMonth();
if(t==11&&Y>20||t==0&&Y<10){var p=Math.random()<.5,f={w:255,A:255,U:255};if(!p){f=q.qG(Math.random(),Math.random()*.7,1);
f.w*=255;f.A*=255;f.U*=255}this.bo=[Math.round(1048575*Math.random()),p?.05:.02,Math.round(4+Math.random()*8),1,p?3:15,f,0,!0,p,p?1:.2,3];
this.avj=p?.1:.2;this.$r=this.A_.bind(this);window.requestAnimationFrame(this.$r)}};et.rm.prototype=new hz;
et.rm.prototype.A_=function(){window.requestAnimationFrame(this.$r);if(!W.zS(this.e))return;var s=this.ahs,N=this.I,r=this.IM,S=N.width,z=N.height;
this.bo[6]=Date.now()*.001*this.avj;q.i$.uf(s,S,z,this.bo,!0);r.putImageData(new ImageData(new Uint8ClampedArray(s.buffer),S,z),0,0)};
et.rm.prototype.K7=function(s){var l=this.J1.indexOf(s.currentTarget),N=new hU(k.E.Y,!0);if(l==0)N.data={d:k.s.Pv,ic:"newproject"};
if(l==1)N.data={d:k.s.LO};if(l==2)N.data={d:k.s.Pv,ic:"templates"};this.c(N)};et.rm.prototype.N=function(){var s=this.J1,N=[[11,7],[1,6],["PSD VAR0",[25,0]]],r=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var l=0;l<s.length;l++)s[l].textContent=r[l]+"\u2000"+eV.get(N[l])};et.rm.prototype.uw=function(s,N){var r=Math.min(N*1.5,Math.min(s,600));
W.Bh(this.I,s,r*.26);var S=this.I.width,z=this.I.height;this.ahs=q.m(S*z*4);this.e.style.width=s+"px";
this.e.style.height=N+"px";this.a2u.style.width=s+"px";this.ww.style.marginLeft=Math.max(0,Math.round((s+200-600)/2)-200)+"px";
this.a77.style.width=r+"px";this.awL.style.width=r+"px"};et.rm.prototype.wy=function(s,N){if(!s.HS)this.ww.removeChild(this.J1[2])};
function Storage(s){hz.call(this);var N=this.e=W.z("div","storage");W.Im(N);var r=this.ak7=W.z("style");
N.appendChild(r);N.setAttribute("tabindex","0");N.style.outline="none";N.addEventListener("keydown",this.anD.bind(this),!1);
this.Yu=this.aga.bind(this);var S=W.z("div");N.appendChild(S);var z=this.akR.bind(this);this.d8=W.z("div","bar");
S.appendChild(this.d8);this.Oi=W.z("div","fls scrollable");S.appendChild(this.Oi);this.tP=W.z("div");
S.appendChild(this.tP);this.tP.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.Vz=W.z("div","bar");this.Vz.textContent="Name: ";var A=this.iT=W.z("input");A.setAttribute("type","text");
this.Vz.appendChild(A);var B=this.G4=W.z("div","btn");B.textContent="Save";this.Vz.appendChild(B);W.eA(B,z);
W.JQ(this.Oi,this.Yu);this.WA=0;this.wV=s;this.mK=W.z("div","btn");W.eA(this.mK,this.ze.bind(this));
this.Rj=new hR([{name:[6,20]}]);this.Rj.parent=this;this.ZU=new hR([{name:[5,4]},{name:[6,37]}]);this.ZU.parent=this;
this.Rj.W("select",this.JK,this);this.ZU.W("select",this.JK,this);this.Oi.addEventListener("contextmenu",this.Yu);
this.a0S=W.z("span");this.eR=W.z("span");this.eR.setAttribute("style","position:absolute; right:0; top:5px;");
this.sq=[];this.Oz=[];for(var l=0;l<3;l++){var Y=W.z("div","btn");this.sq.push(Y);this.a0S.appendChild(Y);
W.eA(Y,z);Y.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][l]}for(var l=0;l<4;l++){var Y=W.z("div","btn");
this.Oz.push(Y);this.eR.appendChild(Y);W.eA(Y,z)}window.addEventListener("message",this.ad_.bind(this),!1);
this.anp=!1;setInterval(this.aeC.bind(this),300);this.HC()}Storage.prototype=new hz;Storage.prototype.aeC=function(){var s=W.zS(this.e),N=this.anp;
if(s&&!N){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!s&&N){window.onpopstate=function(){};
history.go(-1)}this.anp=s};Storage.prototype.HC=function(){if(this.ZE)document.body.removeChild(this.ZE);
this.bX=[[]];this.Dq=0;this.awB={"/":[]};this.Ta="";this.xc=null;this.sw=[];this.HN=[];var s="code/storages/"+Storage.list[this.wV][1],N=this.ZE=W.z("iframe");
N.setAttribute("src",s);N.setAttribute("style","display:none");document.body.appendChild(N)};Storage.prototype.k8=function(){return this.awB[this.IW()]};
Storage.prototype.$Q=function(s){this.awB[this.IW()]=s};Storage.$d=function(l){var s=Storage.mC[l];if(s==null)s=Storage.mC[l]=new Storage(l);
return s};Storage.mC=[];Storage.eH=0;Storage.a1R="";Storage.lh=function(s,N){Storage.eH=s;Storage.a1R=N;
var r=Storage.mC;for(var l=0;l<r.length;l++)if(r[l])r[l].rx()};Storage.Tz=0;Storage.vU=2;Storage.Fo=0;
Storage.list=[["This Device","deviceStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDg5LjIgNDg5LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4OS4yIDQ4OS4yOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBkPSJNMzkuNSwzNzcuMzVoMTYwLjl2NDQuMUgxNjljLTUuMiwwLTkuNSw0LjItOS41LDkuNXYyNy41YzAsNS4yLDQuMiw5LjUsOS41LDkuNWgxNTEuMmM1LjIsMCw5LjUtNC4yLDkuNS05LjV2LTI3LjUNCgkJCQljMC01LjItNC4yLTkuNS05LjUtOS41aC0zMS40di00NC4xaDE2MC45YzIxLjgsMCwzOS41LTE3LjcsMzkuNS0zOS41VjYwLjc1YzAtMjEuOC0xNy43LTM5LjUtMzkuNS0zOS41SDM5LjUNCgkJCQlDMTcuNywyMS4yNSwwLDM4Ljk1LDAsNjAuNzV2Mjc3LjFDMCwzNTkuNjUsMTcuNywzNzcuMzUsMzkuNSwzNzcuMzV6IE01My45LDc1LjE1aDM4MS40djI0OEg1My45Vjc1LjE1eiAiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"],["Google Drive","googledriveStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwNy4wMjcgMjA3LjAyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjA3LjAyNyAyMDcuMDI3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNNjkuODY2LDE1LjU1N0wwLDEzOC45MTlsMjguNzMyLDUyLjU1MmwxNDMuMjg4LTAuMDI5bDM1LjAwOC01OS41ODhMMTM2LjM5LDE1LjczNUw2OS44NjYsMTUuNTU3eiBNMTcuMTY2LDEzOS4wNDYNCglMNzQuMjY4LDM4LjIwNUw5MS4yMSw2Ny43ODNMMzMuMjQsMTY4LjQ0N0wxNy4xNjYsMTM5LjA0NnogTTk5Ljg0MSw4Mi44NTFsMjMuODA1LDQxLjU1OGwtNDcuNzMyLTAuMDA2TDk5Ljg0MSw4Mi44NTF6DQoJIE0xNjMuNDM0LDE3Ni40NDNsLTExNy4zMzIsMC4wMjRsMjEuNTMtMzcuMDY1bDY0LjYwNiwwLjAwOGwwLjA2NywwLjExOWw1Mi44NjUtMC4wODVMMTYzLjQzNCwxNzYuNDQzeiBNMTQwLjkzMiwxMjQuNDExDQoJTDkwLjE1NywzNS43NjdsLTIuOTY2LTUuMTc4bDQwLjc1MSwwLjEyMWw1Ny4wMDMsOTMuNzA2TDE0MC45MzIsMTI0LjQxMXoiLz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"],["Dropbox","dropboxStorage.html","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi4wOTY1OCAyLjQ5MjQ2QzYuMzQyNCAyLjMzNTg2IDYuNjU2NjggMi4zMzU4NCA2LjkwMjUgMi40OTI0M0wxMi4wMDAzIDUuNzM5NjNMMTcuMDk3IDIuNDkyNDdDMTcuMzQyOCAyLjMzNTg0IDE3LjY1NzIgMi4zMzU4NCAxNy45MDMgMi40OTI0N0wyMy40MDMgNS45OTY1N0MyMy42MTkxIDYuMTM0MjggMjMuNzUgNi4zNzI4MiAyMy43NSA2LjYyOTFDMjMuNzUgNi44ODUzOSAyMy42MTkxIDcuMTIzOTMgMjMuNDAzIDcuMjYxNjNMMTguODk1OCAxMC4xMzMyTDIzLjQwMyAxMy4wMDQ4QzIzLjYxOTEgMTMuMTQyNSAyMy43NSAxMy4zODEgMjMuNzUgMTMuNjM3M0MyMy43NSAxMy44OTM2IDIzLjYxOTEgMTQuMTMyMSAyMy40MDMgMTQuMjY5OEwxOC43OTY2IDE3LjIwNDVMMTkuMDE2MSAxNy4zNTA4QzE5LjIyNDcgMTcuNDg5OSAxOS4zNSAxNy43MjQxIDE5LjM1IDE3Ljk3NDhDMTkuMzUgMTguMjI1NiAxOS4yMjQ3IDE4LjQ1OTggMTkuMDE2MSAxOC41OTg5TDEyLjQxNjYgMjIuOTk5QzEyLjE2NDcgMjMuMTY3IDExLjgzNjUgMjMuMTY3IDExLjU4NDUgMjIuOTk5MUw0Ljk4NDAyIDE4LjU5OUM0Ljc3NTM2IDE4LjQ1OTkgNC42NTAwMiAxOC4yMjU3IDQuNjUwMDIgMTcuOTc1QzQuNjUwMDMgMTcuNzI0MiA0Ljc3NTM2IDE3LjQ5IDQuOTg0MDMgMTcuMzUwOUw1LjIwMzY5IDE3LjIwNDVMMC41OTcwMDYgMTQuMjY5NUMwLjM4MDg2MiAxNC4xMzE4IDAuMjUgMTMuODkzMiAwLjI1IDEzLjYzN0MwLjI1IDEzLjM4MDcgMC4zODA4NjggMTMuMTQyMSAwLjU5NzAxMyAxMy4wMDQ0TDUuMTA0MjMgMTAuMTMyOUwwLjU5NzAwNiA3LjI2MTI5QzAuMzgwODYyIDcuMTIzNTggMC4yNSA2Ljg4NTA0IDAuMjUgNi42Mjg3NUMwLjI1IDYuMzcyNDcgMC4zODA4NjggNi4xMzM5MyAwLjU5NzAxMyA1Ljk5NjIyTDYuMDk2NTggMi40OTI0NlpNMTAuNTc5MiAxMy42MjExTDkuNTEwOTYgMTQuMzMzMkw2LjQ5OTYgMTYuMjUxNUwyLjM5NTgyIDEzLjYzN0w2LjQ5OTYxIDExLjAyMjVMMTAuNTc5MiAxMy42MjExWk0xNC41MjY0IDE0LjM1NzZMMTMuNDIxNSAxMy42MjA5TDE3LjUgMTEuMDIyNUwyMS42MDQyIDEzLjYzNzNMMTcuNSAxNi4yNTJMMTQuNTI2NCAxNC4zNTc2Wk0xMC4zMyAxNS41OUw2Ljc1MjE4IDE3Ljk3NUwxMi4wMDA1IDIxLjQ3MzZMMTcuMjQ4IDE3Ljk3NDlMMTMuNzA3MiAxNS42MTQyTDExLjk5OTYgMTQuNTI2NEwxMC4zMyAxNS41OVpNMTEuOTk5NiA3LjUxODE1TDE2LjEwNDIgMTAuMTMzMkwxMi4wMDAzIDEyLjc0NzhMNy44OTUwNiAxMC4xMzI5TDExLjk5OTYgNy41MTgxNVpNNi40OTk2MSA0LjAxNDI1TDIuMzk1ODIgNi42Mjg3N0w2LjQ5OTYgOS4yNDMzM0wxMC42MDQgNi42Mjg3TDYuNDk5NjEgNC4wMTQyNVpNMTMuMzk1OCA2LjYyOTFMMTcuNSA5LjI0MzkyTDIxLjYwNDIgNi42MjkxTDE3LjUgNC4wMTQyOEwxMy4zOTU4IDYuNjI5MVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="]];
Storage.a64=function(s){for(var l=0;l<Storage.mC.length;l++){if(Storage.mC[l]&&Storage.mC[l].ZE.contentWindow==s)return!0}return!1};
Storage.prototype.anD=function(s){if(s.target.tagName=="INPUT")return;var N=cK;if(N.UW(s.code,N.Ih)&&this.IW().length!=0)this.apv();
else if(s.ctrlKey){if(N.UW(s.code,N.s)){var r=[];this.$Q(r);for(var l=0;l<this.xc.length;l++)r.push(l);
this.pT()}if(N.UW(s.code,N.p6)){}if(N.UW(s.code,N.n2)){}}else if(N.UW(s.code,N.D9)){var S=this.k8();
if(S.length!=0)this.aeq(S[0])}else if(N.UW(s.code,N.kM)){this.Dq=Math.max(this.Dq-1,0);this.ze()}else{var z=0;
for(var l=65;l<=90;l++)if(s.code=="Key"+String.fromCharCode(l))z=l;if(z!=0){var A=String.fromCharCode(z).toLowerCase(),B=[],Y=this.xc,t;
for(var l=0;l<Y.length;l++)if(Y[l][0][0].toLowerCase()==A)B.push(l);if(B.length==0)return;var S=this.k8();
if(S.length==0)t=B[0];else{var p=B.indexOf(S[0]);if(p==-1){t=B[0];for(var l=0;l<B.length;l++)if(B[l]>S[0]){t=B[l];
break}}else t=B[(p+1)%B.length]}this.$Q([t]);this.pT(!0)}}};Storage.prototype.uw=function(s,N){this.s7=s;
this.JY=N;this.e.style.width=s+"px";this.e.style.height=N+"px";var r=s-30,S=Math.floor(r/230),r=Math.floor(r/S)-70;
this.ak7.textContent=".storage .tile .name {  width:"+r+"px;  }";this.iT.style.width=s-140+"px";this.Oi.style.width=this.d8.style.width=s-20+"px";
this.Oi.style.height=N-70-(Storage.eH==0?0:45)+"px"};Storage.prototype.ze=function(){this.VH("show",this.IW())};
Storage.prototype.IW=function(s){var N=this.bX[this.Dq],r="/"+N.join("/");if(s&&N.length!=0)r+="/";return r};
Storage.prototype.akR=function(s){var N=s.currentTarget,r=this.Dq,S=this.sq.indexOf(N),z=this.Oz.indexOf(N);
if(S>=0&&!this.atd(S))return;if(S==0){this.Dq=Math.max(r-1,0);this.ze()}if(S==1){this.Dq=Math.min(r+1,this.bX.length-1);
this.ze()}if(S==2){var A=this.bX[r+1]=this.bX[r].slice(0);A.pop();this.Dq++;this.bX=this.bX.slice(0,this.Dq+1);
this.ze()}if(z==0){Storage.Tz=(Storage.Tz+1)%2;this.rx()}if(z==1){Storage.vU=(Storage.vU+1)%3;this.rx()}if(z==2){Storage.Fo=(Storage.Fo+1)%3;
this.rx()}if(z==3){this.VH("forget","")}if(N==this.G4){var B=this.iT.value.trim(),Y=this.xc,t=-1;if(!B.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var l=0;l<Y.length;l++)if(Y[l][0]==B)t=l;if(t!=-1){this.a76("Do you really want to replace \""+B+"\"?",this.alb.bind(this))}else this.alb()}};
Storage.prototype.alb=function(){var s=this.iT.value.trim(),N=[this.wV,this.IW(!0)+s];this.dB({d:k.s.aeb,vW:N});
this.c(new hU("canclose",!0))};Storage.prototype.JK=function(s){var N=s.target.o4()[0];if(s.target==this.Rj){var r=[eV.get([6,20]),-1,0];
this.xc.push(r);this.rx();var l=this.xc.indexOf(r),S=this.sw[l].querySelector(".name");console.log(S);
var z=new d8.wY(S,function(B){this.dB({d:k.s.hN,dD:eV.get([1,2])+" ..."});var Y=this.IW(!0)+B+"/";console.log(Y);
this.VH("save",Y)}.bind(this),!0)}else{if(N==0)this.apv();else{var l=this.k8()[0],A=this.xc[l],S=this.sw[l].querySelector(".name");
console.log(S);S.innerHTML=A[0];var z=new d8.wY(S,function(B){B=B.trim();var Y=this.xc;for(var l=0;l<Y.length;
l++)if(Y[l][0]==B){alert("Item with such name already exists.");this.rx();return}var t=this.IW(!0)+A[0]+":"+B;
console.log(t);this.VH("rename",t)}.bind(this))}}};Storage.prototype.apv=function(){var s=this.k8();
this.a76("Do you really want to delete "+(s.length==1?"\""+this.xc[s[0]][0]+"\"":"these files")+"?",this.NN.bind(this))};
Storage.prototype.a76=function(s,N){var r={d:k.s.Pv,ic:"confirm",h:s,JN:N};this.dB(r)};Storage.prototype.NN=function(){this.dB({d:k.s.hN,dD:eV.get([5,4])+" ..."});
this.HN=this.ael();this.amt()};Storage.prototype.amt=function(){if(this.HN.length==0){this.dB({d:k.s.lG,dD:eV.get([5,4])+" ..."});
this.$Q([]);this.ze()}else this.VH("delete",this.HN.pop()[1])};Storage.prototype.ael=function(){var s=[],N=this.IW(!0),r=this.k8();
for(var l=0;l<r.length;l++){var S=this.xc[r[l]];s.push([this.wV,N+S[0]])}return s};Storage.prototype.VH=function(s,N){this.Ta=s;
this.ZE.contentWindow.postMessage("{\"code\": \""+s+"\", \"prm\": "+JSON.stringify(N)+"  }","*")};Storage.prototype.ad_=function(s){if(s.source!=this.ZE.contentWindow)return;
if(typeof s.data=="string"){var N=JSON.parse(s.data),r=N.code,S=N.prm;if(r=="ready"){if(S)this.ze();
else{W.o3(this.d8);W.o3(this.Oi);this.d8.appendChild(this.mK)}}else if(r!="0"){alert(S);this.rx()}else if(this.Ta=="show"){this.xc=S;
this.rx()}else if(this.Ta=="save"){this.dB({d:k.s.lG,dD:eV.get([1,2])+" ..."});this.ze()}else if(this.Ta=="delete"){this.amt()}else if(this.Ta=="forget"){this.HC()}else if(this.Ta=="rename"){this.ze()}else throw r}else{this.dB({d:k.s.agU,vW:this.ael()[0],GT:s.data});
this.dB({d:k.s.lG,dD:"Opening ..."})}};Storage.prototype.atd=function(l){if(l==0)return this.Dq>0;if(l==1)return this.Dq<this.bX.length-1;
if(l==2)return this.IW()!="/"};Storage.prototype.rx=function(){var s=this.xc,N=Storage.vU,r=Storage.Tz,S=Storage.Fo;
if(s==null)return;s.sort(function(O,T){var b=O[1]==-1?1:5,R=T[1]==-1?1:5,w=0;if(Math.min(b,R)==1&&b!=R)return b-R;
else if(b==1||N==0)w=O[0].toLowerCase()<T[0].toLowerCase()?-1:1;else if(N==1)w=O[1]-T[1];else if(N==2)w=O[2]-T[2];
if(r==1)w=-w;return w});var z=this.Oi,A=this.d8,B=this.bX[this.Dq];W.o3(z);W.o3(A);this.sw=[];for(var l=0;
l<3;l++)if(this.atd(l))W.$F(this.sq[l],"disabled");else W.Bc(this.sq[l],"disabled");A.appendChild(this.a0S);
A.appendChild(this.eR);var Y=W.z("span");Y.textContent="/";A.appendChild(Y);for(var l=0;l<B.length;l++){var Y=W.z("span");
Y.textContent=B[l];A.appendChild(Y);var Y=W.z("span");Y.textContent="/";A.appendChild(Y)}var t=["tile","icon","litm"][S];
for(var l=0;l<s.length;l++){var p=s[l],f=p[1]==-1,a=f?"":g$.gZ(p[1]),D=W.z("div","cont "+t);z.appendChild(D);
this.sw.push(D);D.setAttribute("title",p[0]+(f?"":"\nSize: "+a+"\nDate Modified: "+new Date(p[2]*1e3).toLocaleString().replaceAll(". ",".")));
var c=W.z("img");c.setAttribute("src",f?Storage.a2l:p[3]?p[3]:Storage.Tn);if(!f&&p[3])c.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var J=W.z("span","name"),Z=p[0];if(t=="icon"&&Z.length>30)Z=Z.slice(0,24)+".."+Z.slice(Z.length-5);J.textContent=Z;
D.appendChild(c);D.appendChild(J);if(t!="icon"&&!f){if(t=="tile")W.ts(J);var Q=W.z("span");Q.textContent=a;
Q.style.opacity="0.8";(t=="tile"?J:D).appendChild(Q)}var M=p[0].split("."),u=(M.length==1?"":M.pop()).toUpperCase();
if(t!="litm"&&!f&&p[3]==null){var P=W.z("span","ext");P.textContent=u;var m=Storage.p_[u];P.style.backgroundColor=m?m:Storage.aqL(u);
D.appendChild(P)}W.JQ(D,this.Yu);D.addEventListener("contextmenu",this.Yu)}this.pT();var i=this.Vz.parentNode!=null,e=Storage.eH,$=this.e;
if(i&&e==0)$.removeChild(this.Vz);if(!i&&e==1)$.appendChild(this.Vz);this.uw(this.s7,this.JY);this.N()};
Storage.prototype.pT=function(s){var N=this.sw,r=this.xc,S=this.k8(),z=!1,A=0;for(var l=0;l<N.length;
l++){var B=r[l],Y=B[1]==-1,t=N[l];if(Storage.eH==1&&!Y&&!B[0].toLowerCase().endsWith(".psd"))t.style.display="none";
else t.style.display="auto";if(S.indexOf(l)==-1)W.$F(t,"active");else{if(Y)z=!0;else A+=B[1];W.Bc(t,"active");
if(s)t.scrollIntoView({block:"center",behavior:"smooth"})}}var p=z?"":g$.gZ(A);this.tP.textContent=S.length==0?"":S.length+" item"+(S.length==1?"":"s")+" selected\u2001"+p;
this.iT.value=S.length==1&&!z?r[S[0]][0]:Storage.a1R};Storage.prototype.aeq=function(l){var s=this.xc[l];
if(s[1]==-1){var N=this.bX[this.Dq].slice(0);N.push(s[0]);this.Dq++;this.bX[this.Dq]=N;this.bX=this.bX.slice(0,this.Dq+1);
this.$Q([]);this.ze()}else if(Storage.eH==0){this.dB({d:k.s.hN,dD:"Opening ..."});this.c(new hU("canclose",!0));
var r=this.IW(!0)+s[0];this.VH("load",r)}};Storage.prototype.N=function(){var s=Storage.vU,N=Storage.Tz,r=Storage.Fo;
this.Oz[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][N];this.Oz[1].textContent=eV.get([[12,48],[12,14,0],"Date"][s]);
this.Oz[2].textContent=eV.get(["Tiles","Icons",[25,3,1]][r]);this.Oz[3].textContent="\u2716";this.mK.textContent=eV.get([[23,6],Storage.list[this.wV][0]])};
Storage.prototype.aga=function(s){this.dB({d:k.s.LY});if(s.button==3||s.button==4){if(Date.now()-this.a0d>50){var N=this.Dq;
if(s.button==3)this.Dq=Math.max(N-1,0);else this.Dq=Math.min(N+1,this.bX.length-1);this.ze()}this.a0d=Date.now();
return}s.stopPropagation();var l=this.sw.indexOf(s.currentTarget);if(s.type=="contextmenu"){if(this.xc==null)return;
s.preventDefault();var r=l==-1?this.Rj:this.ZU;r.parent=this;r.N();this.dB({d:k.s.xh,mk:r,x:s.clientX+4,y:s.clientY});
return}var S=this.k8(),z=S.indexOf(l);if(s.button!=0&&z!=-1)return;if(s.target==this.Oi)this.$Q([]);
else{if(s.ctrlKey){if(z==-1)S.push(l);else S.splice(z,1)}else if(s.shiftKey&&S.length!=0){var A=S[0];
if(A<l){var B=l;l=A;A=B}S=[];this.$Q(S);for(var Y=l;Y<=A;Y++)S.push(Y)}else{this.$Q([l]);if(Date.now()-this.WA<300&&S.length!=0&&S[0]==l){this.aeq(l);
this.WA=0}}}this.WA=Date.now();this.pT()};Storage.prototype.dB=function(s){var N=new hU(k.E.Y,!0);N.data=s;
this.c(N)};Storage.prototype.a6w=function(s,N){this.dB({d:k.s.hN,dD:eV.get([1,2])+" ..."});this.VH("save",s);
this.ZE.contentWindow.postMessage(N,"*")};Storage.p_={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aqL=function(s){s=s.toLowerCase();
var N=0;for(var l=0;l<s.length;l++)N+=s.charCodeAt(l)*613<<8*l;return"#"+q.fD(N&16777215)};Storage.a2l="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Tn="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function V(s){hz.call(this);this.NU=s;this.e=W.z("div","");this.m7=[];this.Jq=null;this.a7a=[]}V.prototype=new hz;
V.prototype.be=function(s){};V.prototype.k0=function(){return!1};V.prototype.uw=function(s,N){};V.prototype.wy=function(s,N){};
V.prototype.$j=function(s){};V.prototype.b=function(s,N,r,S,z,A){var B=[],Y=this.m7,t=0,p=hT.ke["s"+this.NU];
p?p(s,B,A):this.Ho(s,B,A);for(var l=0;l<Y.length;l++)if(!(Y[l]instanceof ju))Y[l].b(B[t++]);if(s.RndS)this.Jq=s.RndS.v};
V.prototype.L=function(){var s=hT.yS(this.NU),N=[],r=this.m7,S=0;for(var l=0;l<r.length;l++)if(!(r[l]instanceof ju))N[S++]=r[l].L();
var z=hT.ke["g"+this.NU];z?z(s,N):this.wa(s,N);if(s.RndS)s.RndS.v=this.Jq;return s};V.prototype.Rt=function(s){};
V.prototype.xM=function(s){if(s&&s.target instanceof aa){this.Jq=Math.floor(Math.random()*4294967295)}var N=this.a7a;
for(var l=0;l<N.length;l+=2){var r=this.m7[N[l]],S=this.m7[N[l+1]],z=r.L(),A=S.L();if(s.target==r)S.b(Math.max(z,A));
else r.b(Math.min(z,A))}this.c(new hU(k.E.o))};V.prototype.N=function(){for(var l=0;l<this.m7.length;
l++)this.m7[l].N();var s=this.agX;if(s)s.N()};V.prototype.gx=function(s){W.Bc(this.e,"form");var N=this.m7;
for(var l=0;l<N.length;l++){var r=N[l];r.parent=this;r.W(k.E.o,this.xM,this);this.e.appendChild(r.e);
if(r instanceof d1&&N[l+1]instanceof bw)continue;if(s&&s.indexOf(l)!=-1)W.RY(this.e);else W.ts(this.e)}var S=hT.yS(this.NU);
if(S.RndS){var z=this.agX=new aa([25,1,2],null,null,!0);this.e.appendChild(z.e);z.W("click",this.xM,this)}};
V.prototype.vm=function(){return!1};V.prototype.Vk=function(s,N,r,S,z){};V.prototype.ud=function(s,N,r,S,z){};
V.prototype.gE=function(s,N,r,S,z){};V.prototype.wa=function(s,N){};V.prototype.Ho=function(s,N){};V.prototype.FL=function(s){var N=s.target.L().indexOf(!0)!=-1,r=new hU(k.E.Y,!0);
r.rC=!0;r.data={d:N?k.s.HQ:k.s.vT,k:K.RZ};this.c(r);r=new hU(k.E.r,!0);r.k=K.RZ;r.rC=!0;r.data={d:"supertool",k:N?this:null};
this.c(r)};V.a2W=function(s){s.vm=function(){return!0};s.Vk=function(N,r,S,z,A){this.Ij=!0;this.awf(N,A)};
s.ud=function(N,r,S,z,A){if(!this.Ij)return;this.awf(N,A)};s.gE=function(N,r,S,z,A){this.Ij=!1};s.awf=function(N,r){var S=new hq(0,0,N.G,N.n);
if(N.q)S=N.q.rect;var z=N.a.Vd(r.x,r.y);z.x-=S.x;z.y-=S.y;function A(B,Y){return Math.round(Math.max(0,Math.min(100,100*B/Y)))}this.m7[2].b(A(z.x,S.G));
this.m7[3].b(A(z.y,S.n));this.xM()}};V.Bokh=function(){V.call(this,"Bokh");this.m7=[new fa("Depth Map",["A","b"]),new ao("Focal Distance",0,255),new d1([4,11]),new fa([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new ao([12,56],0,100),new ao([12,15],0,360),new ao([12,2],0,100),new ao([4,13],0,255),new ao([24,6],0,100),new gI([12,58],[[12,59,0],[12,59,1]]),new d1([12,60])];
this.gx([5,7])};V.Bokh.prototype=new V;V.Bokh.prototype.Ho=function(s,N,r){var S=[[22,5,0],[6,5,3],[6,2]],z=s.BkDi.v.BtDi,A=s.BkDc,B=0;
if(z=="BeIn")B=0;else if(z=="BeIt"&&A.v.BtDc=="BeCt")B=1;else if(z=="BeIt"&&A.v.BtDc=="BeCm")B=2;else B=3+A.v;
for(var l=0;l<r[1].length;l++)S.push(r[1][l].name);this.m7[0].dO(S,[3]);N[0]=B;N[1]=s.BkDp.v;N[2]=s.BkDs.v;
N[3]=parseInt(s.BkIs.v.BtIs.slice(3))-3;N[4]=s.BkIb.v;N[5]=s.BkIr.v;N[6]=s.BkSb.v;N[7]=s.BkSt.v;N[8]=s.BkNa.v;
N[9]=s.BkNt.v.BtNt=="BeNu"?0:1;N[10]=s.BkNm.v};V.Bokh.prototype.wa=function(s,N){var r;if(N[0]==0){r="BeIn";
delete s.BkDc}else if(N[0]<3){r="BeIt";s.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][N[0]-1]}}}else{r="BeIa";
s.BkDc={t:"long",v:N[0]-3}}s.BkDi.v.BtDi=r;s.BkDp.v=N[1];s.BkDs.v=N[2];s.BkIs.v.BtIs="BeS"+(3+N[3]);
s.BkIb.v=N[4];s.BkIr.v=N[5];s.BkSb.v=N[6];s.BkSt.v=N[7];s.BkNa.v=N[8];s.BkNt.v.BtNt=["BeNu","BeNg"][N[9]];
s.BkNm.v=N[10]};V.oilPaint=function(){V.call(this,"oilPaint");this.m7=[new ao([12,56],.1,10,"px",!0),new ao("Cleanliness",0,10,"px",!0),new ao([12,38],.1,10,null,!0),new ao("Bristle Detail",0,10,null,!0),new d1("Lighting"),new ao("Shine",0,10,null,!0),new fK([12,15])];
this.gx()};V.oilPaint.prototype=new V;V.oilPaint.prototype.Ho=function(s,N){var r="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var l=0;l<r.length;l++)N[l]=s[r[l]].v;N[6]=[s.LghD.v]};V.oilPaint.prototype.wa=function(s,N){var r="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var l=0;l<r.length;l++)s[r[l]].v=N[l];s.LghD.v=N[6][0]};V.TrcC=function(){V.call(this,"TrcC");this.m7=[new ao("Level",0,255),new gI([12,69],[[19,4,1],[19,4,0]])];
this.gx()};V.TrcC.prototype=new V;V.TrcC.prototype.Ho=function(s,N){N[0]=s.Lvl.v;N[1]=["Lwr","Upr"].indexOf(s.Edg.v.CntE)};
V.TrcC.prototype.wa=function(s,N){s.Lvl.v=N[0];s.Edg.v.CntE=["Lwr","Upr"][N[1]]};V["Dfs "]=function(){V.call(this,"Dfs ");
this.m7=[new gI([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.gx()};V["Dfs "].prototype=new V;
V["Dfs "].prototype.Ho=function(s,N){N[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(s.Md.v.DfsM)};
V["Dfs "].prototype.wa=function(s,N){s.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][N[0]]};V.Embs=function(){V.call(this,"Embs");
this.m7=[new fK([12,15]),new ao([12,42],1,100,"px"),new ao([12,57],1,500,"%")];this.gx()};V.Embs.prototype=new V;
V.Embs.prototype.Ho=function(s,N){N[0]=[s.Angl.v];N[1]=s.Hght.v;N[2]=s.Amnt.v};V.Embs.prototype.wa=function(s,N){s.Angl.v=N[0][0];
s.Hght.v=N[1];s.Amnt.v=N[2]};V["Wnd "]=function(){V.call(this,"Wnd ");this.m7=[new gI([12,32],["Wind","Blast","Stagger"]),new gI([12,33],["From the Right","From the Left"])];
this.gx()};V["Wnd "].prototype=new V;V["Wnd "].prototype.Ho=function(s,N){N[0]=["Wnd","Blst","Stgr"].indexOf(s.WndM.v.WndM);
N[1]=["Left","Rght"].indexOf(s.Drct.v.Drct)};V["Wnd "].prototype.wa=function(s,N){s.WndM.v.WndM=["Wnd","Blst","Stgr"][N[0]];
s.Drct.v.Drct=["Left","Rght"][N[1]]};V.denoise=function(){V.call(this,"denoise");this.m7=[new ao([12,64],0,10),new ao([12,65],0,100,"%")];
this.gx()};V.denoise.prototype=new V;V.denoise.prototype.Ho=function(s,N){var r=s.channelDenoise.v[0].v;
N[0]=r.Amnt.v;N[1]=r.EdgF.v};V.denoise.prototype.wa=function(s,N){var r=s.channelDenoise.v[0].v;r.Amnt.v=N[0];
r.EdgF.v=N[1]};V.lightFilterGradient=function(){V.call(this,"lightFilterGradient");this.m7=[new ao([24,3,1],0,100,"px",1,!0),new ao([12,38],0,200,"%"),new d1([4,11]),new ao("High",0,100,"%"),new ao("Medium",0,100,"%"),new ao("Low",0,100,"%")];
this.gx()};V.lightFilterGradient.prototype=new V;V.lightFilterGradient.prototype.Ho=function(s,N){N[0]=s.blur.v;
N[1]=s.textureScale.v*100;N[2]=s.Scl.v==-1;var r=s.Dtl.v;N[3]=r[0].v*100;N[4]=r[1].v*100;N[5]=r[2].v*100};
V.lightFilterGradient.prototype.wa=function(s,N){s.blur.v=N[0];s.textureScale.v=N[1]/100;s.Scl.v=N[2]?-1:1;
var r=s.Dtl.v;r[0].v=N[3]/100;r[1].v=N[4]/100;r[2].v=N[5]/100};V.Fbrs=function(){V.call(this,"Fbrs");
this.m7=[new ao("Variance",1,64),new ao([12,64],1,64)];this.gx()};V.Fbrs.prototype=new V;V.Fbrs.prototype.Ho=function(s,N){N[0]=s.Vrnc.v;
N[1]=s.Strg.v};V.Fbrs.prototype.wa=function(s,N){s.Vrnc.v=N[0];s.Strg.v=N[1]};V.LnsF=function(){V.call(this,"LnsF");
this.m7=[new ao([12,2],10,300,"%"),new gI([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new ao("Position X",0,100,"%"),new ao("Position Y",0,100,"%")];
this.gx()};V.LnsF.prototype=new V;V.LnsF.prototype.Ho=function(s,N){N[0]=s.Brgh.v;N[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(s.Lns.v.Lns);
var r=s.FlrC.v;N[2]=Math.round(r.Hrzn.v*100);N[3]=Math.round(r.Vrtc.v*100)};V.LnsF.prototype.wa=function(s,N){s.Brgh.v=N[0];
s.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][N[1]];var r=s.FlrC.v;r.Hrzn.v=N[2]/100;r.Vrtc.v=N[3]/100};V.a2W(V.LnsF.prototype);
V.blendOptions=function(){V.call(this,"blendOptions");this.m7.push(new fa([12,19,0],bm.bN,!1,bm.Ew));
this.m7.push(new ao([12,0],0,100,"%"));this.gx()};V.blendOptions.prototype=new V;V.blendOptions.prototype.Ho=function(s,N){N[0]=bm.ac.indexOf(s.Md.v.BlnM);
N[1]=s.Opct.v.val};V.blendOptions.prototype.wa=function(s,N){s.Md.v.BlnM=bm.ac[N[0]];s.Opct.v.val=N[1]};
V.LnCr=function(){V.call(this,"LnCr");this.m7=[new ao([12,57],-100,100),new ao([12,38],10,150,"%")];
this.gx()};V.LnCr.prototype=new V;V.LnCr.prototype.Ho=function(s,N){N[0]=s.LnIa.v;N[1]=s.LnSi.v};V.LnCr.prototype.wa=function(s,N){s.LnIa.v=N[0];
s.LnSi.v=N[1]};V.adaptCorrect=function(){V.call(this,"adaptCorrect");var s=fM;this.m7=[new ju([19,6,0]),new s([12,57],0,100,"%"),new s("Tone",0,100,"%"),new s([12,56],0,200,"px"),new ju([19,6,2]),new s([12,57],0,100,"%"),new s("Tone",0,100,"%"),new s([12,56],0,200,"px"),new ju([3]),new s([13,0],-100,100)];
this.gx([3,7])};V.adaptCorrect.prototype=new V;V.adaptCorrect.prototype.Ho=function(s,N){var r=s.sdwM.v;
N[0]=r.Amnt.v.val;N[1]=r.Wdth.v.val;N[2]=r.Rds.v;var r=s.hglM.v;N[3]=r.Amnt.v.val;N[4]=r.Wdth.v.val;
N[5]=r.Rds.v;N[6]=s.ClrC.v};V.adaptCorrect.prototype.wa=function(s,N){var r=s.sdwM.v;r.Amnt.v.val=N[0];
r.Wdth.v.val=N[1];r.Rds.v=N[2];var r=s.hglM.v;r.Amnt.v.val=N[3];r.Wdth.v.val=N[4];r.Rds.v=N[5];s.ClrC.v=N[6]};
V.Flam=function(){V.call(this,"Flam");var s=this.m7=[new fa([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new ao([12,80,0],20,1e3,"px"),new d1("Randomize Length"),new ao([12,41],5,600,"px"),new ao([12,15],0,360,"\xB0"),new ao("Interval",10,200,"px"),new d1("Adapt Interval for Loops"),new bw(!1),new fa([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new ao("Turbulent",0,100),new ao("Jag",0,100),new ao([12,0],0,100),new ao("Lines",2,30),new ao("Bottom",0,100),new fa([12,22],["Normal","Violent","Flat"]),new fa([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new d1("Randomize Shape"),new ao("Random Seed",0,100)];
this.gx();var N=this.e;W.o3(N);var r=new gI(null,["Basic","Advanced"]);r.W(k.E.o,this.awK,this);N.appendChild(r.e);
W.RY(N);var S=W.z("div"),z=W.z("div");this.a5j=[S,z];N.appendChild(S);for(var l=0;l<s.length;l++){(l<9?S:z).appendChild(s[l].e);
if(l==6)W.ts(S)}s[0].W(k.E.o,this.ajm,this);this.ajm()};V.Flam.prototype=new V;V.Flam.prototype.ajm=function(s){var N=this.m7,l=N[0].L();
N[1].b4(l!=0&&l!=5);N[2].b4(l!=0&&l!=5);N[4].b4(l!=0&&l!=5&&l!=1);N[5].b4(l!=0&&l!=5);N[6].b4(l!=0&&l!=5)};
V.Flam.prototype.awK=function(s){var l=s.target.L(),N=this.a5j,r=this.e;r.removeChild(N[1-l]);r.appendChild(N[l])};
V.boxblur=function(){V.call(this,"boxblur");this.m7=[new ao([12,56],1,200," px")];this.gx()};V.boxblur.prototype=new V;
V.boxblur.prototype.Ho=function(s,N){N[0]=s.Rds.v.val};V.boxblur.prototype.wa=function(s,N){s.Rds.v.val=N[0]};
V.GsnB=function(){V.call(this,"GsnB");this.m7=[new ao([12,56],.1,400,"px",1,!0)];this.gx()};V.GsnB.prototype=new V;
V.MtnB=function(){V.call(this,"MtnB");this.m7=[new fK([12,15]),new ao([12,28],1,100," px")];this.gx()};
V.MtnB.prototype=new V;V.RdlB=function(){V.call(this,"RdlB");this.m7=[new ao([12,57],1,100),new gI([12,36],["Spin","Zoom"]),new ao("Position X",0,100,"%"),new ao("Position Y",0,100,"%")];
this.gx()};V.RdlB.prototype=new V;V.RdlB.prototype.Ho=function(s,N){N[0]=s.Amnt.v;N[1]=["Spn","Zm"].indexOf(s.BlrM.v.BlrM);
N[2]=s.Cntr.v.Hrzn.v*100;N[3]=s.Cntr.v.Vrtc.v*100};V.RdlB.prototype.wa=function(s,N){s.Amnt.v=N[0];s.BlrM.v.BlrM=["Spn","Zm"][N[1]];
s.Cntr.v.Hrzn.v=N[2]/100;s.Cntr.v.Vrtc.v=N[3]/100};V.a2W(V.RdlB.prototype);V.Dspl=function(){V.call(this,"Dspl");
this.m7=[new fa([6,36,3],["a","b"]),new ao([22,4,0],-100,100,"px"),new ao([22,4,1],-100,100,"px"),new fa([24,18,0],[[24,18,3],[24,18,2]])];
this.gx()};V.Dspl.prototype=new V;V.Dspl.prototype.Ho=function(s,N,r){this.aa8=[];this.mQ=[];var S=-1,z=r?r[0]:null;
if(z==null)z=this.a0b;else this.a0b=z;if(z)for(var l=0;l<z.length;l++){var A=z[l];this.aa8.push(A.Ff.trim());
this.mQ.push(A.eq);if(A.eq==s.DspF.v.pth)S=l}this.m7[0].dO(this.aa8);N[0]=S==-1?0:S;N[1]=s.HrzS.v;N[2]=s.VrtS.v;
N[3]=["WrpA","RptE"].indexOf(s.UndA.v.UndA)};V.Dspl.prototype.wa=function(s,N){if(this.mQ.length==0)return;
s.DspF.v.pth=this.mQ[N[0]];s.HrzS.v=N[1];s.VrtS.v=N[2];s.UndA.v.UndA=["WrpA","RptE"][N[3]]};V.Pnch=function(){V.call(this,"Pnch");
this.m7=[new ao([12,57],-100,100,"%")];this.gx()};V.Pnch.prototype=new V;V["Plr "]=function(){V.call(this,"Plr ");
this.m7=[new gI(null,["Rect to Polar","Polar to Rect"])];this.gx()};V["Plr "].prototype=new V;V.Rple=function(){V.call(this,"Rple");
this.m7=[new ao([12,57],-999,999),new fa([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.gx()};V.Rple.prototype=new V;
V["Shr "]=function(){V.call(this,"Shr ");this.m7=[new fO(!0,!0),new fa([24,18,0],[[24,18,3],[24,18,2]])];
this.gx()};V["Shr "].prototype=new V;V["Shr "].prototype.Ho=function(s,N){var r=new gF(0,255/127,255/127,0,-2,128),S=JSON.parse(JSON.stringify(s.ShrP.v));
q.R2.D(S,r);N[0]=S;N[1]=["WrpA","RptE"].indexOf(s.UndA.v.UndA)};V["Shr "].prototype.wa=function(s,N){var r=new gF(0,255/127,255/127,0,-2,128);
r.dm();q.R2.D(N[0],r);s.ShrP.v=N[0];s.ShrE.v=N[0].length-1;s.UndA.v.UndA=["WrpA","RptE"][N[1]]};V.Sphr=function(){V.call(this,"Sphr");
this.m7=[new ao([12,57],-100,100),new fa([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.gx()};V.Sphr.prototype=new V;
V.Sphr.prototype.Ho=function(s,N){N[0]=s.Amnt.v;N[1]=["Nrml","HrzO","VrtO"].indexOf(s.SphM.v.SphM)};
V.Sphr.prototype.wa=function(s,N){s.Amnt.v=N[0];s.SphM.v.SphM=["Nrml","HrzO","VrtO"][N[1]]};V.Dthr=function(){V.call(this,"Dthr");
this.m7=[new fa("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.gx()};V.Dthr.prototype=new V;
V.Dthr.prototype.Ho=function(s,N){N[0]=s.Plte.v};V.Dthr.prototype.wa=function(s,N){s.Plte.v=N[0]};V.Part=function(){V.call(this,"Part");
this.m7=[new ao([15,5,1],0,100,"%"),new ao([12,14,0],1,50,"px"),new ao([12,34],0,100,"%"),new ao([12,2],10,1e3,"%"),new bw(!0),new ao("Time",0,1,null,3),new ao("Turbulence",0,100,"%"),new d1("Blink"),new d1("Fall")];
this.gx([4])};V.Part.prototype=new V;V.Part.prototype.Ho=function(s,N){N[0]=s.Cont.v;N[1]=s.Size.v;N[2]=s.Dpth.v;
N[3]=s.Brgh.v;N[4]=s.Clr.v;N[5]=s.Time.v;N[6]=s.Turb.v;N[7]=s.Blnk.v;N[8]=s.Fall.v};V.Part.prototype.wa=function(s,N){s.Cont.v=N[0];
s.Size.v=N[1];s.Dpth.v=N[2];s.Brgh.v=N[3];s.Clr.v=N[4];s.Time.v=N[5];s.Turb.v=N[6];s.Blnk.v=N[7];s.Fall.v=N[8]};
V.Twrl=function(){V.call(this,"Twrl");this.m7=[new ao([12,15],-999,999)];this.gx()};V.Twrl.prototype=new V;
V.Wave=function(){V.call(this,"Wave");this.a7a=[1,2,3,4];this.m7=[new ao("Number of Generators",1,100),new fM("Min Length",1,999),new fM("Max Length",1,999),new fM("Min Ampl.",1,999),new fM("Max Ampl.",1,999),new fM("Scale X",1,100,"%"),new fM("Scale Y",1,100,"%"),new gI([12,44],["Sine","Triangle",[12,93,3]]),new fa([24,18,0],[[24,18,3],[24,18,2]]),new aW("Randomizer Seed")];
this.gx()};V.Wave.prototype=new V;V.Wave.prototype.Ho=function(s,N){N[0]=s.NmbG.v;N[1]=s.WLMn.v;N[2]=s.WLMx.v;
N[3]=s.AmMn.v;N[4]=s.AmMx.v;N[5]=s.SclH.v;N[6]=s.SclV.v;N[7]=["WvSn","WvTr","WvSq"].indexOf(s.Wvtp.v.Wvtp);
N[8]=["WrpA","RptE"].indexOf(s.UndA.v.UndA);N[9]=s.RndS.v};V.Wave.prototype.wa=function(s,N){s.NmbG.v=N[0];
s.WLMn.v=N[1];s.WLMx.v=N[2];s.AmMn.v=N[3];s.AmMx.v=N[4];s.SclH.v=N[5];s.SclV.v=N[6];s.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][N[7]];
s.UndA.v.UndA=["WrpA","RptE"][N[8]];var r=parseInt(N[9]);if(isNaN(r))r=248325464;r=Math.max(0,Math.min(268435455,r));
s.RndS.v=r;this.m7[9].b(r)};V.ZgZg=function(){V.call(this,"ZgZg");this.m7=[new ao([12,57],-100,100),new ao("Ridges",0,20),new fa([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.gx()};V.ZgZg.prototype=new V;V.surfaceBlur=function(){V.call(this,"surfaceBlur");this.m7=[new ao([12,56],1,200," px"),new ao([4,13],1,255," px")];
this.gx()};V.surfaceBlur.prototype=new V;V.surfaceBlur.prototype.Ho=function(s,N){N[0]=s.Rds.v.val;N[1]=s.Thsh.v};
V.surfaceBlur.prototype.wa=function(s,N){s.Rds.v.val=N[0];s.Thsh.v=N[1]};V.AdNs=function(){V.call(this,"AdNs");
this.m7=[new ao([12,57],0,200," %"),new fa([12,58],[[12,59,1],[12,59,0]]),new d1([12,60])];this.gx()};
V.AdNs.prototype=new V;V.DstS=function(){V.call(this,"DstS");this.m7=[new ao([12,56],1,200," px"),new ao([4,13],1,255," px")];
this.gx()};V.DstS.prototype=new V;V["Mdn "]=function(){V.call(this,"Mdn ");this.m7=[new ao([12,56],1,200," px")];
this.gx()};V["Mdn "].prototype=new V;V["Mdn "].prototype.Ho=function(s,N){N[0]=s.Rds.v.val};V["Mdn "].prototype.wa=function(s,N){s.Rds.v.val=N[0]};
V.ClrH=function(){V.call(this,"ClrH");this.m7=[new ao([12,56],4,100," px")];for(var l=1;l<4;l++)this.m7.push(new ao("Angle "+l,0,90," \xB0"));
this.gx()};V.ClrH.prototype=new V;V.ClrH.prototype.Ho=function(s,N){N[0]=s.Rds.v;for(var l=1;l<4;l++)N[l]=s["Ang"+l].v};
V.ClrH.prototype.wa=function(s,N){s.Rds.v=N[0];for(var l=1;l<4;l++)s["Ang"+l].v=N[l]};V.ClrH.prototype.N=function(){var s=this.m7;
s[0].N();for(var l=1;l<4;l++)s[l].wp(eV.get([12,15])+" "+l)};V.Crst=function(){V.call(this,"Crst");this.m7=[new ao([12,61],3,100," px")];
this.gx()};V.Crst.prototype=new V;V.Crst.prototype.Ho=function(s,N){N[0]=s.ClSz.v};V.Crst.prototype.wa=function(s,N){s.ClSz.v=N[0]};
V.Mztn=function(){V.call(this,"Mztn");this.m7.push(new fa([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.mQ="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.gx()};V.Mztn.prototype=new V;
V.Mztn.prototype.Ho=function(s,N){N[0]=this.mQ.indexOf(s.MztT.v.MztT)};V.Mztn.prototype.wa=function(s,N){s.MztT.v.MztT=this.mQ[N[0]]};
V["Msc "]=function(){V.call(this,"Msc ");this.m7=[new ao([12,61],2,200," px")];this.gx()};V["Msc "].prototype=new V;
V["Msc "].prototype.Ho=function(s,N){N[0]=s.ClSz.v.val};V["Msc "].prototype.wa=function(s,N){s.ClSz.v.val=N[0]};
V.Pntl=function(){V.call(this,"Pntl");this.m7=[new ao([12,61],3,100," px")];this.gx()};V.Pntl.prototype=new V;
V.Pntl.prototype.Ho=function(s,N){N[0]=s.ClSz.v};V.Pntl.prototype.wa=function(s,N){s.ClSz.v=N[0]};V.smartSharpen=function(){V.call(this,"smartSharpen");
this.m7=[new ao([12,57],1,200,"%"),new ao([12,56],0,200,"px",1,!0)];this.gx()};V.smartSharpen.prototype=new V;
V.smartSharpen.prototype.Ho=function(s,N){N[0]=s.Amnt.v.val;N[1]=s.Rds.v.val};V.smartSharpen.prototype.wa=function(s,N){s.Amnt.v.val=N[0];
s.Rds.v.val=N[1]};V.UnsM=function(){V.call(this,"UnsM");this.m7=[new ao([12,57],1,200," %"),new ao([12,56],.1,400,"px",1,!0),new ao([4,13],0,255," ")];
this.gx()};V.UnsM.prototype=new V;V.HghP=function(){V.call(this,"HghP");this.m7=[new ao([12,56],.1,400,"px",1,!0)];
this.gx()};V.HghP.prototype=new V;V.HsbP=function(){V.call(this,"HsbP");this.m7=[new gI("Input",["RGB","HSB","HSL"]),new gI("Output",["RGB","HSB","HSL"])];
this.gx()};V.HsbP.prototype=new V;V["Mxm "]=function(){V.call(this,"Mxm ");this.m7=[new ao([12,56],.1,200," px",1,!0),new fa([12,76,1],[[12,93,3],"Circle"])];
this.gx()};V["Mxm "].prototype=new V;V["Mnm "]=function(){V.call(this,"Mnm ");this.m7=[new ao([12,56],.1,200," px",1,!0),new fa([12,76,1],[[12,93,3],"Circle"])];
this.gx()};V["Mnm "].prototype=new V;V.Ofst=function(){V.call(this,"Ofst");this.m7=[new ao([22,4,0],-1024,1024," px"),new ao([22,4,1],-1024,1024," px"),new fa([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.gx()};V.Ofst.prototype=new V;V.Kale=function(){V.call(this,"Kale");this.m7=[new fM("Mirrors",2,20),new fM([12,15],0,360,"\xB0")];
this.gx()};V.Kale.prototype=new V;V.Kale.prototype.Ho=function(s,N){N[0]=s.Mirr.v;N[1]=s.MRot.v};V.Kale.prototype.wa=function(s,N){s.Mirr.v=N[0];
s.MRot.v=N[1]};V.Rept=function(){V.call(this,"Rept");this.m7=[new fM([12,38],1,300," %"),new fM("Row Shift",-50,50," %"),new fM("Space X",-99,200," %"),new fM("Space Y",-99,200," %"),new d1([4,16,2]),new fK([12,15])];
this.gx()};V.Rept.prototype=new V;V.Rept.prototype.Ho=function(s,N){N[0]=s.Scl.v.val;N[1]=s.Rsft.v.val;
N[2]=s.SpcX.v.val;N[3]=s.SpcY.v.val;N[4]=s.SpcC.v;N[5]=[s.Angl.v]};V.Rept.prototype.wa=function(s,N){s.Scl.v.val=N[0];
s.Rsft.v.val=N[1];s.SpcX.v.val=N[2];s.SpcY.v.val=N[3];s.SpcC.v=N[4];s.Angl.v=N[5][0];return s};V.Ctoa=function(){V.call(this,"Ctoa");
this.m7=[new ju([13,0]),new bw(!0),new ao(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new ao(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.gx()};V.Ctoa.prototype=new V;V.Ctoa.prototype.Ho=function(s,N){N[0]=s.Clr.v;N[1]=s.Trsp.v.val;N[2]=s.Opct.v.val};
V.Ctoa.prototype.wa=function(s,N){s.Clr.v=N[0];s.Trsp.v.val=N[1];s.Opct.v.val=N[2]};V.LqFy=function(){V.call(this,"LqFy");
this.Br=!1;this.bQ=!1;this.sy=null;this.a0k=null;this.k=0;this.fQ=-1;this.T={ka:[[{k:{id:0,name:[24,1,0,1,0],rG:"liq/smudge"}}],[{k:{id:1,name:[24,1,0,1,1],rG:"liq/reconstruct"}}],[{k:{id:2,name:[24,1,0,1,2],rG:"liq/smooth"}}],[{k:{id:3,name:[24,1,0,1,3],rG:"liq/twirl"}}],[{k:{id:4,name:[24,1,0,1,4],rG:"liq/shrink"}}],[{k:{id:5,name:[24,1,0,1,5],rG:"liq/blow"}}],[{k:{id:6,name:[24,1,0,1,6],rG:"liq/pleft"}}],[{k:{id:7,name:"Hand",rG:"tools/hand"}}],[{k:{id:8,name:"Zoom In",rG:"zoomIn"}}],[{k:{id:9,name:"Zoom Out",rG:"zoomOut"}}]],keys:[]};
this.R_=new eY(this.T,!1);this.R_.Xs(0);this.R_.W(k.E.Y,this.aw4,this);this.LJ=fD.oE();this.LH=null;
this.Q9=[];this.QB=-1;this.G5=null;this.al8=null;this.bK=null;this.uC=null;this.Pz=null;var s=W.z("div","flexrow");
this.mP=s;this.e.appendChild(s);s.appendChild(this.R_.e);this.view=new bc(!0);this.view.uw(100,100);
this.view.W("mousedown",this.ja,this);this.view.W("mousemove",this.ma,this);this.view.W("mouseup",this.$D,this);
this.view.W("zoom",this.SP,this);s.appendChild(this.view.e);var N=W.z("div","form");s.appendChild(N);
this.cA=N;N.style.width="230px";this.ie=[new ao([12,14,0],0,1e3,null,!1,!0),new ao([12,74],0,100,null,!1,!1),new ao([12,84],0,100,null,!1,!1),new d1([12,46]),new ao([12,0],0,100,null,!1,!1),new d1([24,18,5])];
var r=this.LJ.Brsh.v;r.Dmtr.v.val=100;var S=[100,50,100,!1,100,!0];for(var l=0;l<this.ie.length;l++){var z=this.ie[l];
z.b(S[l]);if(l==4)z.sK();z.W(k.E.o,this.aco,this);N.appendChild(z.e)}var A=this.akH=new aa([1,12,2],!0,null,!0);
A.W("click",this.kQ,this);N.appendChild(A.e);this.auC=this.g0.bind(this);this.nr=new hz;this.nr.e=W.z("div","floatcont");
this.ph=new aa("Menu",!1,null,!0);var B=this.ph.e;B.setAttribute("style","position:absolute; right:13px; top:47px");
W.JQ(B,this.a3A.bind(this))};V.LqFy.prototype=new V;V.LqFy.prototype.k0=function(){return!0};V.LqFy.prototype.be=function(s){this.cA.appendChild(s)};
V.LqFy.prototype.a3A=function(s){if(W.zS(this.nr.e))return;s.stopPropagation();var N=this.ph.e.getBoundingClientRect();
this.nr.e.appendChild(this.cA);var r=new hU(k.E.Y,!0);r.data={d:k.s.xh,mk:this.nr,x:N.right+N.width-290,y:N.top+N.height};
this.c(r)};V.LqFy.prototype.Rt=function(s){this.Br=s.t(cK.nI);var N=K.kn.hY(this.LJ,s);if(N!=null){this.LJ=N;
this.SP();this.ie[0].b(N.Brsh.v.Dmtr.v.val)}else if(s.t(cK.z6)&&s.t(cK.kx)){var r=this.Q9;if(s.t(cK.nG)){if(this.QB+1<r.length)this.QB++}else if(this.QB>0)this.QB--;
this.LH.map=r[this.QB].slice(0);this.rx(null)}else if(this.k<=6)this.view.Rt(s);var S=this.k,z=-1,A=s.t(cK.nI);
if(A&&this.fQ==-1){if(S==0)z=1;if(S==4)z=5;if(S==5)z=4;if(z!=-1)this.fQ=S}if(!A&&this.fQ!=-1){z=this.fQ;
this.fQ=-1}if(z!=-1){this.k=z;this.R_.Xs(this.k)}};V.LqFy.prototype.aw4=function(s){if(s.data.d==k.s.HQ){var N=this.k=s.data.k;
this.R_.Xs(this.k);this.view.Rt(N>6?bc.apR(N-7):new cK)}};V.LqFy.prototype.aco=function(s){var N=s.currentTarget,l=this.ie.indexOf(N),r=this.LJ.Brsh.v;
if(l==0){r.Dmtr.v.val=N.L();this.SP()}this.ie[4].b4(this.ie[3].L());if(l>2)this.rx(null)};V.LqFy.prototype.IB=function(){var s=this.Q9;
this.QB++;s[this.QB]=this.LH.map.slice(0);while(s.length>this.QB+1)s.pop();while(s.length>50){s=s.slice(1);
this.QB--}};V.LqFy.prototype.ja=function(s){this.sy=this.view.cb();this.a0k=new cR(0,0);this.bQ=!0;window.requestAnimationFrame(this.auC)};
V.LqFy.prototype.ma=function(s){var N=this.view.cb(),r=new cR(N.x-this.sy.x,N.y-this.sy.y);if(this.k==0||this.k==6)this.av$(r);
this.sy=N};V.LqFy.prototype.$D=function(s){this.IB();this.bQ=!1};V.LqFy.prototype.g0=function(s){if(this.k!=0&&this.k!=6)this.av$(new cR(0,0));
if(this.bQ)window.requestAnimationFrame(this.auC)};V.LqFy.prototype.av$=function(s){var N=this.LH,r=N.s7/this.G5.G,S=this.sy,z=this.LJ.Brsh.v,A=z.Dmtr.v.val,B=Date.now(),Y=N.s7,t=N.JY,p=Math.sqrt(s.x*s.x+s.y*s.y),f=Math.max(1,Math.ceil(p/2)),a=s.x/f,D=s.y/f,c=S.clone(),J=this.k,Z=this.ie[1].L()/100,Q=this.ie[2].L()/100,M=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],u=M[J*2],P=M[J*2+1],m=(1-Z)*u+Z*P,i=A*r/2;
for(var l=0;l<f;l++){var e=[];c.x+=a;c.y+=D;q.W6.a2a(N.map,Y,t,J,c.x*r,c.y*r,i,Z,Q,a*r,D*r,e,this.Br);
q.W6.aq_(Y,t,N.map,e,2*m*Q)}var X=new hq(0,0,Y,t),$=new hq(S.x*r,S.y*r,0,0);$.r6(A*r*.5,A*r*.5);var O=$.clone();
O.offset(s.x*r,s.y*r);$=$.Ms(O);var T=new hq($.x/r,$.y/r,$.G/r,$.n/r);T=q.g.i2(T).PS(this.G5);this.ie[5].b(!0);
this.rx(T)};V.LqFy.prototype.SP=function(){var s=ex.ol(this.LJ,null,this.view.RO().X);this.view.lL(s)};
V.LqFy.prototype.b=function(s,N,r,S,z){r=r.clone();if(N==null)return;if(!S.nR(r)){var A=r.Ms(S),B=q.m(A.$()*4);
q.LP(N,r,B,A);N=B;r=A;var Y=q.m(A.$()*4);q.LP(z,S,Y,A);z=Y}r.x=r.y=0;this.bK=N;this.al8=z;this.Pz=N.slice(0);
this.uC=N.slice(0);this.G5=r;this.LH=cb.j7(new Uint8Array(s.LqMe.v).buffer);var t=r.G,p=r.n;if(this.LH.s7/t<.22){this.LH={s7:Math.floor(t/4),JY:Math.floor(p/4)};
this.LH.map=new Float32Array(this.LH.s7*this.LH.JY*2)}this.Q9=[];this.QB=-1;this.IB();this.rx(null);
this.view.FC();this.SP()};V.LqFy.prototype.L=function(){var s=hT.yS("LqFy"),N=new Uint8Array(cb.MJ(this.LH)),r=[];
for(var l=0;l<N.length;l++)r.push(N[l]);s.LqMe.v=r;return s};V.LqFy.prototype.uw=function(s,N){this.R_.uw(s,N);
var r=this.ph.e,S=this.cA;this.mP.appendChild(S);this.mP.appendChild(r);if(s>450&&s-N>200){S.style.marginLeft="1em";
this.mP.removeChild(r);this.view.uw(s-238-45,N)}else{S.style.marginLeft="";this.mP.removeChild(S);this.view.uw(s-40,N)}};
V.LqFy.prototype.N=function(){this.R_.N();this.akH.N();for(var l=0;l<this.ie.length;l++)this.ie[l].N()};
V.LqFy.prototype.kQ=function(){this.LH.map.fill(0);this.IB();this.rx(null)};V.LqFy.prototype.rx=function(s){var N=this.G5,r=this.bK,S=this.Pz,z=this.LH;
if(this.ie[5].L())q.W6.XK(r,this.uC,N.G,N.n,s,z.map,z.s7,z.JY,0);else this.uC.set(r);if(this.ie[3].pX()){q.LP(this.al8,N,S,N,s?s:N);
q.Q.VP("norm",this.uC,N,S,N,s?s:N,this.ie[4].L()/100)}else q.r8(this.uC,S);this.view.b([{zC:N,data:S.buffer}])};
V.GEfc=function(){V.call(this,"GEfc");this.oZ=0;this.vB=0;this.bK=null;this.Pz=null;this.G5=null;this.tx=null;
this.$e=null;this.wi=0;var s=W.z("div","flexrow");this.mP=s;this.e.appendChild(s);this.view=new bc(null);
this.view.uw(100,100);s.appendChild(this.view.e);this.kg="";this.eF=270;var N=this.to=W.z("div","form scrollable");
s.appendChild(N);N.setAttribute("style","width:"+this.eF+"px;  margin-left:10px");var r=this.eR=W.z("div","form");
s.appendChild(r);r.setAttribute("style","width:230px;  margin-left:1em");this.Oj={};for(var S in gN.names){var z=new V.GEfc.RT(S);
z.parent=this;this.Oj[S]=z;z.W(k.E.o,this.adf,this)}this.mJ=!0;this.ph=new aa("Menu",null,null,!0);this.ph.W("click",this.as1,this);
s.appendChild(this.ph.e);this.vi=new aa(">>",null,null,!0);this.vi.W("click",this.a5p,this);r.appendChild(this.vi.e);
this.Zw=W.z("div");this.Zw.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
r.appendChild(this.Zw);this.BA=W.z("div");this.BA.style.minHeight="14em";this.BA.style.marginBottom="1em";
r.appendChild(this.BA);this.ng=W.z("div","lpbody scrollable");this.Vv=W.z("div","lpfoot");r.appendChild(this.ng);
r.appendChild(this.Vv);this.W("click",this.apT,this);this.CY=[];hV.c7([[5,3],[5,4]],this.CY,this.Vv,this.ah.bind(this))};
V.GEfc.prototype=new V;V.GEfc.prototype.k0=function(){return!0};V.GEfc.prototype.be=function(s){this.Zw.appendChild(s)};
V.GEfc.prototype.wy=function(s,N){this.tx=s};V.GEfc.prototype.a5p=function(s){var N=this.to.style.display!="none";
this.to.style.display=N?"none":"";this.vi.wp(N?"<<":">>");this.uw()};V.GEfc.prototype.as1=function(s){this.mJ=!this.mJ;
this.uw()};V.GEfc.prototype.uw=function(s,N){var r=this.to.style.display!="none";if(s!=null){this.oZ=s;
this.vB=N;if(s<1e3&&r||s>=1e3&&!r){this.a5p();r=!r}this.mJ=s>600}else{s=this.oZ;N=this.vB}var S=this.mJ?240+(r?this.eF+10:0):0;
if(W.zS(this.eR)&&!this.mJ){this.mP.removeChild(this.to);this.mP.removeChild(this.eR)}if(!W.zS(this.eR)&&this.mJ){this.mP.appendChild(this.to);
this.mP.appendChild(this.eR)}this.to.style.height=N+"px";this.view.uw(s-S,N);this.ng.style.height=N-this.BA.getBoundingClientRect().height-96+"px";
this.ph.e.setAttribute("style","position:absolute; top:46px;  right:"+(S+16)+"px")};V.GEfc.prototype.aqe=function(){var s=hg.Dz.get("img/beach",!0)[0],N=s.zC,r=this.to,S=Math.floor(W.Z()*(this.eF-40)/3),z=~~(S*.7),A=new hq(0,0,S,z),B=q.m(S*z*4),Y=B.slice(0),t=Math.round(10*W.Z()),p=new ImageData(new Uint8ClampedArray(Y.buffer),S,z);
q.LP(new Uint8Array(s.data),N,B,new hq(Math.round((N.G-S)/2),Math.round((N.n-z)/2),S,z));var f=W.z("canvas"),a=f.getContext("2d");
f.width=S;f.height=z+Math.round(t*1.5);a.font=t+"px sans-serif";this.QN={};var D=this.aoc.bind(this);
for(var l=0;l<gN.gF.length;l++){var c=gN.gF[l],J=W.z("div");r.appendChild(J);J.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
J.textContent=eV.get(c);for(var Z in gN.names){var Q=gN.names[Z];if(Q[0]!=l)continue;gN.M$(Z,{rect:A,buffer:B},gN.yS(Z),{w:0,A:0,U:0},{w:255,A:255,U:255},{rect:A,buffer:Y},{});
a.fillStyle="black";a.fillRect(0,0,500,500);a.putImageData(p,0,0);var M=eV.get(Q[1]);a.fillStyle="white";
a.fillText(M,(S-a.measureText(M).width)/2,z+Math.round(t*1.1));var u=W.z("div");r.appendChild(u);u.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
u.addEventListener("click",D,!1);var J=W.z("img");u.appendChild(J);J.setAttribute("src",f.toDataURL());
J.setAttribute("style","width:"+S/W.Z()+"px; margin-bottom:0px;");this.QN[Z]=u}}};V.GEfc.prototype.aoc=function(s){var N;
for(var r in this.QN)if(this.QN[r]==s.currentTarget)this.kg=r;this.adf()};V.GEfc.prototype.ah=function(s){var N=hV.yJ(this.CY,s),r=this.$e.GEfs.v,S=r[this.wi].v;
if(N==0){r.push(JSON.parse(JSON.stringify(r[this.wi])));this.wi=r.length-1}else if(r.length>1){r.splice(this.wi,1);
if(this.wi==r.length)this.wi--}this.r5();this.rx()};V.GEfc.prototype.adf=function(s){var N=this.kg,r;
if(s==null)r=gN.yS(N);else r=this.Oj[N].L();this.$e.GEfs.v[this.wi].v=r;this.r5();this.rx()};V.GEfc.prototype.b=function(s,N,r,S,z){if(this.QN==null)this.aqe();
s=this.$e=JSON.parse(JSON.stringify(s));if(s.GEfs==null)s=this.$e={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:s}]}};
var A=s.GEfs.v;for(var l=0;l<A.length;l++)if(A[l].v.GELv==null)A[l].v.GELv={t:"bool",v:!0};this.wi=A.length-1;
this.r5();r=r.clone();if(N==null)return;if(!S.nR(r)&&gN.sb(s).x!=0){var B=r.Ms(S),Y=q.m(B.$()*4);q.LP(N,r,Y,B);
N=Y;r=B}r.x=r.y=0;this.bK=N;this.Pz=N.slice(0);this.G5=r;this.rx();this.view.FC()};V.GEfc.prototype.apT=function(s){var N=s.data,l=N.Jb,r=this.$e.GEfs.v;
if(N.sP){r[l].v.GELv.v=!r[l].v.GELv.v;this.rx()}else this.wi=l;this.r5()};V.GEfc.prototype.r5=function(){var s=this.$e.GEfs.v,N=s[this.wi].v,r=N.GEfk.v.GEft,S=this.BA;
if(gN.names[r]==null){alert("Unsupported gallery filter");W.o3(S)}else{this.kg=r;for(var z in this.QN)W.$F(this.QN[z],"selected");
W.Bc(this.QN[r],"selected");var A=this.Oj[r];A.b(N);if(S.firstChild!=A.e){W.o3(S);S.appendChild(A.e)}}var B=[];
for(var l=0;l<s.length;l++){var Y=s[l].v,t=gN.names[Y.GEfk.v.GEft],p=new ch(l,!0,!0,null,t?t[1]:"Filter",l==this.wi,Y.GELv.v);
p.parent=this;B.push(p.e)}W.o3(this.ng);B.reverse();for(var l=0;l<B.length;l++)this.ng.appendChild(B[l]);
this.uw()};V.GEfc.prototype.L=function(){return JSON.parse(JSON.stringify(this.$e))};V.GEfc.prototype.rx=function(s){var N=this.G5,r=this.bK,S=this.Pz,z=this.kg,A=this.$e,B=this.tx;
function Y(t){return{w:t>>>16,A:t>>>8&255,U:t&255}}hT.M$("GEfc",{rect:this.G5,buffer:this.bK},A,Y(B.Hd),Y(B.on),{rect:this.G5,buffer:this.Pz},null);
this.view.b([{zC:N,data:S.buffer}])};V.GEfc.prototype.N=function(){for(var s in this.Oj)this.Oj[s].N();
hV.vt(this.CY,["lrs/newlayer","lrs/bin"])};V.GEfc.RT=function(s){hz.call(this);this.Mn=s;this.e=W.z("div");
this.Dd={};var N=gN.yS(s);for(var r in N){var S=null;if(r=="__name"||r=="classID"||r=="GEfk"||r=="GELv"||["FlRs"].indexOf(r)!=-1)continue;
else if(r=="EdgW")S=new ao("Edge Width",1,14);else if(r=="EdgB")S=new ao("Edge Brightness",0,s=="AccE"?50:20);
else if(r=="Smth")S=new ao([19,3,3],1,s=="Stmp"?50:15);else if(r=="ClSz")S=new ao([12,61],3,100);else if(r=="BrdT")S=new ao([7,9],1,20);
else if(r=="HghS")S=new ao([12,64],0,20);else if(r=="HlSz")S=new ao([12,14,0],1,15);else if(r=="Cntr")S=new ao([12,3,0],0,s=="WtrP"?100:50);
else if(r=="Shrp")S=new ao("Sharpness",0,40);else if(r=="SprR")S=new ao("Spray Radius",0,25);else if(r=="LgDr")S=new ao("Light/Dark Balance",0,s=="Stmp"?50:100);
else if(r=="Drkn")S=new ao("Darkness",1,50);else if(r=="Dstr")S=new ao("Distortion",0,20);else if(r=="Scln")S=new ao([12,38],50,200);
else if(r=="Rlf")S=new ao("Relief",0,s=="Ptch"||s=="NtPr"?25:50);else if(r=="ChAm")S=new ao("Thickness",1,7);
else if(r=="Pncl")S=new ao([19,2,5],1,30);else if(r=="StrP")S=new ao("Stroke Pressure",0,15);else if(r=="PprB")S=new ao("Paper Brightness",0,50);
else if(r=="BrsS")S=new ao("Brush Size",0,10);else if(r=="BrsD")S=new ao("Brush Detail",0,10);else if(r=="Txtr")S=new ao([12,67],1,3);
else if(r=="Grn")S=new ao("Grain",0,20);else if(r=="HghA")S=new ao("Highlight Area",0,20);else if(r=="Intn")S=new ao("Intensity",0,10);
else if(r=="Brgh")S=new ao("Glow Brightness",0,s=="WtrP"?100:50);else if(r=="StrS")S=new ao("Stroke Size",1,50);
else if(r=="StDt")S=new ao("Stroke Detail",1,3);else if(r=="Sftn")S=new ao("Softness",0,10);else if(r=="EdgT")S=new ao("Edge Thickness",0,10);
else if(r=="EdgI")S=new ao("Edge Intensity",0,10);else if(r=="Pstr")S=new ao("Posterization",0,6);else if(r=="Dfnt")S=new ao("Definition",0,25);
else if(r=="TxtC")S=new ao("Texture Coverage",0,50);else if(r=="ShdI")S=new ao("Shadow Intensity",0,10);
else if(r=="DrcB")S=new ao("Direction Balance",0,100);else if(r=="Strg")S=new ao([12,64],1,3);else if(r=="Blnc")S=new ao("Balance",0,10);
else if(r=="BlcI")S=new ao("Black Intensity",0,10);else if(r=="WhtI")S=new ao("White Intensity",0,10);
else if(r=="DrkI")S=new ao("Dark Intensity",0,50);else if(r=="LghI")S=new ao("Light Intensity",0,50);
else if(r=="StrW")S=new ao("Stroke Width",3,15);else if(r=="Grns")S=new ao("Graininess",0,s=="NtPr"?20:10);
else if(r=="GlwA")S=new ao("Glow Amount",0,20);else if(r=="ClrA")S=new ao("Clear Amount",0,20);else if(r=="ChrA")S=new ao("Charcoal Area",0,20);
else if(r=="ChlA")S=new ao("Chalk Area",0,20);else if(r=="FrgL")S=new ao("Foreground Level",1,15);else if(r=="BckL")S=new ao("Background Level",1,15);
else if(r=="WhtL")S=new ao("Background Level",0,50);else if(r=="BlcL")S=new ao("Foreground Level",0,50);
else if(r=="ImgB")S=new ao("Image Balance",0,50);else if(r=="Dnst")S=new ao([12,74],0,50);else if(r=="FbrL")S=new ao("Fiber Length",3,50);
else if(r=="CrcS")S=new ao("Crack Sapcing",2,100);else if(r=="CrcD")S=new ao("Crack Depth",0,10);else if(r=="CrcB")S=new ao("Crack Brightness",0,10);
else if(r=="TlSz")S=new ao("Tile Size",2,100);else if(r=="GrtW")S=new ao("Grout Width",1,15);else if(r=="LghG")S=new ao("Lighten Grout",0,10);
else if(r=="SqrS")S=new ao("Square Size",0,10);else if(r=="RplS")S=new ao("Ripple Size",1,15);else if(r=="RplM")S=new ao("Ripple Magnitude",0,20);
else if(r=="NmbL")S=new ao("Number of Levels",2,8);else if(r=="EdgS")S=new ao("Edge Simplicity",0,10);
else if(r=="EdgF")S=new ao("Edge Fidelity",1,3);else if(r=="Sz")S=s=="NGlw"?new ao("Glow Size",-24,24):new ao("Brush Size",1,50);
else if(r=="Dtl")S=s=="Chrc"?new ao("Detail",0,5):new ao("Detail",1,15);else if(r=="StrL")S=s=="InkO"?new ao("Stroke Length",1,50):new ao("Stroke Length",0,20);
else if(r=="TxtT")S=new fa([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(r=="BrsT")S=new fa("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(r=="Grnt")S=new fa("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(r=="SDir")S=new fa([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(r=="ScrT")S=new fa([12,62],["Circle","Dot",[10,35]]);
else if(r=="LghD"||r=="LghP")S=new fa("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(r=="Clr")S=new bw("Glow Color");else if(r=="InvT")S=new d1([4,11]);else console.log(r);S.W(k.E.o,this.U_,this);
S.parent=this;this.Dd[r]=S;this.e.appendChild(S.e)}};V.GEfc.RT.prototype=new hz;V.GEfc.RT.prototype.U_=function(s){this.c(new hU(k.E.o,!1))};
V.GEfc.aoW="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
V.GEfc.RT.prototype.b=function(s){for(var N in this.Dd){var r;if(V.GEfc.aoW.indexOf(N)!=-1)r=s[N].v;
else if(N=="TxtT")r=gN.ro.indexOf(s[N].v[N]);else if(N=="BrsT")r=gN.ajl.indexOf(s[N].v[N]);else if(N=="LghD")r=gN.C_.indexOf(s[N].v[N]);
else if(N=="LghP")r=gN.Os.indexOf(s[N].v[N]);else if(N=="Grnt")r=gN.BI.indexOf(s[N].v[N]);else if(N=="ScrT")r=gN.eZ.indexOf(s[N].v[N]);
else if(N=="SDir")r=gN.La.indexOf(s[N].v.StrD);this.Dd[N].b(r)}};V.GEfc.RT.prototype.L=function(){var s=gN.yS(this.Mn);
for(var N in this.Dd){var r=this.Dd[N].L();if(V.GEfc.aoW.indexOf(N)!=-1)s[N].v=r;else if(N=="TxtT")s[N].v[N]=gN.ro[r];
else if(N=="BrsT")s[N].v[N]=gN.ajl[r];else if(N=="LghD")s[N].v[N]=gN.C_[r];else if(N=="LghP")s[N].v[N]=gN.Os[r];
else if(N=="Grnt")s[N].v[N]=gN.BI[r];else if(N=="ScrT")s[N].v[N]=gN.eZ[r];else if(N=="SDir")s[N].v.StrD=gN.La[r]}return s};
V.GEfc.RT.prototype.N=function(){for(var s in this.Dd)this.Dd[s].N()};V.blnc=function(){V.call(this);
var s=this.e;this.zf=null;this.hc=new fa([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.hc.W(k.E.o,this.rx,this);
s.appendChild(this.hc.e);this.hm=[];for(var l=0;l<3;l++){var N=new ao(ai.Fi[l],-100,100);N.W(k.E.o,this.xM,this);
this.hm.push(N);s.appendChild(N.e)}this.Fn=new d1([13,4]);this.Fn.W(k.E.o,this.xM,this);s.appendChild(this.Fn.e)};
V.blnc.prototype=new V;V.blnc.prototype.N=function(){this.hc.N();for(var l=0;l<3;l++)this.hm[l].N();
this.Fn.N()};V.blnc.prototype.b=function(s){this.zf=JSON.parse(JSON.stringify(s));this.rx()};V.blnc.prototype.L=function(s){var N=["ShdL","MdtL","HghL"],r=this.zf[N[this.hc.L()]].v;
for(var l=0;l<3;l++)r[l].v=this.hm[l].L();this.zf.PrsL.v=this.Fn.L();return JSON.parse(JSON.stringify(this.zf))};
V.blnc.prototype.rx=function(s){var N=["ShdL","MdtL","HghL"],r=this.zf[N[this.hc.L()]].v;for(var l=0;
l<3;l++)this.hm[l].b(r[l].v);this.Fn.b(this.zf.PrsL.v)};V.brit=function(){V.call(this,"brit");this.m7.push(new ao([12,2],-150,150,""));
this.m7.push(new ao([12,3,0],-100,100,""));this.m7.push(new d1([12,3,1]));this.gx()};V.brit.prototype=new V;
V.brit.prototype.Ho=function(s,N){N[0]=s.Brgh?s.Brgh.v:0;N[1]=s.Cntr?s.Cntr.v:0;N[2]=s.useLegacy?s.useLegacy.v:!1};
V.brit.prototype.wa=function(s,N){s.Brgh.v=N[0];s.Cntr.v=N[1];s.useLegacy.v=N[2]};V.curv=function(){V.call(this);
this.value=null;this.eT=null;var s=this.e;this.FZ=new fa([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.FZ.W(k.E.o,this.fs,this);s.appendChild(this.FZ.e);this.QO=new fa(null,["Spline","Sketch"]);this.QO.W(k.E.o,this.alG,this);
s.appendChild(this.QO.e);this.Uf=new a_;this.Uf.parent=this;this.Uf.W(k.E.o,this.GS,this);s.appendChild(this.Uf.e);
W.ts(s);this.sE=new fO;this.sE.W(k.E.o,this.Ke,this);s.appendChild(this.sE.e);this._T=null;this.ak1=0;
this.EP=0;W.ts(s);this.fY=new di("Sample from image",gI.Is(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.fY.W(k.E.o,this.FL,this);this.fY.e.style.marginRight="0";s.appendChild(this.fY.e)};V.curv.prototype=new V;
V.curv.prototype.uw=function(s,N){this.sE.uw(s,N)};V.curv.prototype.N=function(){this.FZ.N()};V.curv.prototype.alG=function(s){var N=ed.Xc(this.value,0),r=N.length==256?1:0,S=this.QO.L();
if(r==S)return;var z=hT.yS("curv");if(S==1){var A=[];for(var l=0;l<256;l++)A.push(l);ed.Sk(z,0,A)}this.b(z);
this.xM()};V.curv.prototype.Ke=function(){ed.Sk(this.value,this.FZ.L(),this.sE.L());this.xM()};V.curv.prototype.fs=function(){var s=this.FZ.L(),N=ed.Xc(this.value,s),r=N.length==256?1:0;
this.QO.b(r);if(this.eT)this.sE.$j(this.eT[s],this.eT[4]*[1,.33,.33,.33][s],["#ccc","#fcc","#cfc","#ccf"][s]);
this.sE.b(N)};V.curv.prototype.vm=function(){return!0};V.curv.prototype.Vk=function(s,N,r,S,z){var A=this.value;
this.value=hT.yS("curv");this.xM();var B=K.k9.gb(s,z,1),Y=this._T=[B>>>16&255,B>>>8&255,B&255];this.ak1=z.y;
var t=this.fY.L().indexOf(!0);if(t==0){var p=(Y[0]+Y[1]+Y[2])/3,f=this.FZ.L(),a=ed.Xc(A,f),D=f==0?p:Y[f-1],c=-1;
for(var l=0;l<a.length;l++)if(a[l].v.Hrzn.v==D)c=l;if(c==-1){var J=JSON.parse(JSON.stringify(a[0]));
J.v.Hrzn.v=D;J.v.Vrtc.v=D;a.push(J);a.sort(function(Z,Q){return Z.v.Hrzn.v-Q.v.Hrzn.v});ed.Sk(A,f,a);
this.EP=a.indexOf(J)}else this.EP=c}this.b(A);this.xM()};V.curv.prototype.ud=function(s,N,r,S,z){if(this._T==null)return;
if(this.fY.L().indexOf(!0)==0){var A=this.value,B=this.FZ.L(),Y=ed.Xc(A,B),t=Y[this.EP];t.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(t.v.Hrzn.v+(this.ak1-z.y))));
ed.Sk(A,B,Y);this.b(A);this.xM()}};V.curv.prototype.gE=function(s,N,r,S,z){var A=this.value,B=this._T,Y=(B[0]+B[1]+B[2])/3,t=this.fY.L().indexOf(!0)-1;
if(t<=-1){}else for(var l=0;l<3;l++){var p=ed.Xc(A,1+l);if(t==0)p[0].v.Hrzn.v=B[l];if(t==1){var f=Math.log(B[l]/255)/Math.log(Y/255),a=Math.min(999,Math.max(10,Math.round(100*f)));
if(p.length==2)p.splice(1,0,JSON.parse(JSON.stringify(p[0])));p[1].v.Hrzn.v=127-Math.log(a/100)*127;
p[1].v.Vrtc.v=127}if(t==2)p[p.length-1].v.Hrzn.v=B[l];ed.Sk(A,1+l,p)}this.b(A);this.xM();this._T=null};
V.curv.prototype.b=function(s){this.value=s;this.fs()};V.curv.prototype.$j=function(s){this.eT=s;this.fs()};
V.curv.prototype.L=function(s){return JSON.parse(JSON.stringify(this.value))};V.curv.prototype.GS=function(){var s=this.Uf.L(),N=this.eT,r=this.value,S=q.Kt(s,N);
for(var l=0;l<4;l++){var z=S[l][0],A=S[l][1],B=S[l][2],Y=[q.R2.rP(z,0,!0),q.R2.rP(A,255,!0)];if(B!=null)Y.splice(1,0,q.R2.rP(128,B,!0));
ed.Sk(r,l,Y)}this.fs();this.xM()};V.expA=function(){V.call(this,"expA");this.m7.push(new ao([12,5],-20,20,null,2,!0));
this.m7.push(new ao([12,6],-.5,.5,null,2));this.m7.push(new ao([12,7],.01,9.99,null,2,!0));this.gx()};
V.expA.prototype=new V;V.expA.prototype.Ho=function(s,N){N[0]=s.Exps.v;N[1]=s.Ofst?s.Ofst.v:0;N[2]=s.gammaCorrection?s.gammaCorrection.v:1};
V.expA.prototype.wa=function(s,N){s.Exps={t:"doub",v:N[0]};s.Ofst={t:"doub",v:N[1]};s.gammaCorrection={t:"doub",v:N[2]}};
V.grdm=function(){V.call(this,"grdm");this.m7.push(new b3(!0,null,!0));this.m7.push(new d1([12,23,0]));
this.gx()};V.grdm.prototype=new V;V.grdm.prototype.Ho=function(s,N){N[0]=s.Grad.v;N[1]=s.Rvrs?s.Rvrs.v:!1};
V.grdm.prototype.wa=function(s,N){s.Grad.v=N[0];s.Rvrs={t:"bool",v:N[1]}};V.grdm.prototype.wy=function(s,N){this.m7[0]._B(s.Hd,s.on);
if(N==eq.pM||N==eq.rg||N==eq.If)this.m7[0].da(s.Ys)};V.selc=function(){V.call(this);var s=this.e;this.dH=[];
this.Y7=null;this.hc=new fa([12,82],ai.TC.concat([[13,1,8],[13,1,13],[13,1,10]]));this.hc.W(k.E.o,this.U_,this);
s.appendChild(this.hc.e);W.ts(s);for(var l=0;l<4;l++){var N=new ao(ai.awT[l],-100,100,"%");N.W(k.E.o,this.U_,this);
this.dH.push(N);s.appendChild(N.e)}this._x=new d1([13,3]);s.appendChild(this._x.e);this._x.W(k.E.o,this.U_,this)};
V.selc.prototype=new V;V.selc.prototype.N=function(){this.hc.N();this._x.N();for(var l=0;l<4;l++)this.dH[l].N()};
V.selc.prototype.b=function(s){this.Y7=JSON.parse(JSON.stringify(s));this.rx()};V.selc.prototype.L=function(s){return JSON.parse(JSON.stringify(this.Y7))};
V.selc.prototype.U_=function(s){if(s.target!=this.hc){var N=this.Y7,r=[];for(var l=0;l<4;l++)r[l]=this.dH[l].L();
eA.Sk(N,this.hc.L(),r);N.Mthd={t:"enum",v:{CrcM:this._x.L()?"Absl":"Rltv"}}}this.rx();this.xM()};V.selc.prototype.rx=function(){var s=this.Y7,N=eA.Xc(s,this.hc.L());
for(var l=0;l<4;l++)this.dH[l].b(N[l]);this._x.b(s.Mthd?s.Mthd.v.CrcM=="Absl":!1)};V.blwh=function(){V.call(this,"blwh");
this.m7.push(new d1([12,11]));this.m7.push(new bw(!0));for(var l=0;l<6;l++)this.m7.push(new ao(ai.TC[l],-200,300));
this.gx()};V.blwh.prototype=new V;V.blwh.prototype.Ho=function(s,N){N[0]=s.useTint.v;N[1]=s.tintColor.v;
var r="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var l=0;l<6;l++)N[2+l]=s[r[l]].v};V.blwh.prototype.wa=function(s,N){s.useTint.v=N[0];
s.tintColor.v=N[1];var r="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var l=0;l<6;l++)s[r[l]].v=N[2+l]};
V.hue2=function(){V.call(this);this.value=null;this.px=null;this.aub=null;this.HD=[[0,0,0],[0,50,0]];
var s=this.e;this.fY=new di(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.fY.W(k.E.o,this.axe,this);this.fY.W(k.E.o,this.FL,this);s.appendChild(this.fY.e);this.hc=new fa([12,12],["Master"].concat(ai.TC));
this.hc.W(k.E.o,this.fs,this);s.appendChild(this.hc.e);this.rp=new ao([12,8],-180,180);this.rp.W(k.E.o,this.I1,this);
s.appendChild(this.rp.e);this.Zt=new ao([12,9],-100,100);this.Zt.W(k.E.o,this.I1,this);s.appendChild(this.Zt.e);
this.y8=new ao([12,10],-100,100);this.y8.W(k.E.o,this.I1,this);s.appendChild(this.y8.e);this.cf=new d1([12,11]);
this.cf.W(k.E.o,this.I1,this);s.appendChild(this.cf.e);this.GH=new di("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.GH.W(k.E.o,this.axe,this);this.GH.W(k.E.o,this.FL,this);this.GH.e.style.marginLeft="20px";s.appendChild(this.GH.e);
this.Ei=W.z("div");s.appendChild(this.Ei);this.t3=this.bJ.bind(this);this.lm=this.U$.bind(this);this.I=W.z("canvas");
this.IM=this.I.getContext("2d");this.XW=null;W.Kq(this.I);W.Bh(this.I,282,18);s.appendChild(this.I);
W.JQ(this.I,this.U0.bind(this))};V.hue2.prototype=new V;V.hue2.prototype.uw=function(s,N){W.Bh(this.I,Math.round(s),18);
if(this.value)this.fs()};V.hue2.prototype.axe=function(s){var N=s.target.L().indexOf(!0);if(N==-1)return;
if(s.target==this.fY)this.GH.b([!1,!1,!1]);else this.fY.b([!1,!1,!1])};V.hue2.prototype.U0=function(s){if(this.hc.L()==0||this.cf.L())return;
var N=W.WO(s,this.I).x/(this.I.width/W.Z()),A=1e6;function r(a,D,c){return a<D&&D<c||c<a&&(a<D||D<c)}var S=this.Ng(),z=-1;
for(var l=0;l<4;l++){var B=Math.abs(N-(S[l]+l*1e-5));if(B<A){A=B;z=l}}if(A>.025){z=-1;var Y=S[0],t=S[1],p=S[2],f=S[3];
if(r(Y,N,t))z=4;if(r(t,N,p))z=5;if(r(p,N,f))z=6}if(z==-1)return;this.XW=z;W.UT(document.body,this.t3);
W.eA(document.body,this.lm)};V.hue2.prototype.bJ=function(s){var N=W.WO(s,this.I).x/(this.I.width/W.Z()),r=this.Ng(),S=this.XW;
for(var l=1;l<4;l++)if(r[l]<r[l-1]){r[l]+=1}if(S<4){var z=1e6,A=0;for(var l=-20;l<20;l++){var B=Math.abs(r[S]-(N+l));
if(B<z){z=B;A=l}}N+=A;r[S]=N;for(var l=S+1;l<4;l++)if(r[l]<r[l-1]){r[l]=r[l-1]}for(var l=S-1;l>=0;l--)if(r[l]>r[l+1]){r[l]=r[l+1]}}else{var Y=N-(r[S-4]+r[S-3])/2;
if(Y<-.5)Y+=1;if(S==4){r[0]+=Y;r[1]+=Y;r[2]=Math.max(r[1],r[2]);r[3]=Math.max(r[1],r[3])}if(S==5)for(var l=0;
l<4;l++)r[l]+=Y;if(S==6){r[2]+=Y;r[3]+=Y;r[0]=Math.min(r[0],r[2]);r[1]=Math.min(r[1],r[2])}}for(var l=1;
l<4;l++)if(r[l]<r[l-1])throw"e";this.akz(r);this.fs();this.xM()};V.hue2.prototype.U$=function(s){W.nP(document.body,this.t3);
W.tp(document.body,this.lm)};V.hue2.prototype.N=function(){this.rp.N();this.Zt.N();this.y8.N();this.cf.N();
this.hc.N()};V.hue2.prototype.I1=function(s){var N=this.value.Clrz.v=this.cf.L();if(N)this.hc.b(0);if(s&&s.target==this.cf){var r=N?1:0;
this.HD[1-r]=eJ.Xc(this.value,0);var S=this.HD[r];eJ.Sk(this.value,0,S);if(this.hc.L()==0){this.rp.b(S[0]);
this.Zt.b(S[1]);this.y8.b(S[2])}}var z=this.hc.L(),A=eJ.Xc(this.value,z),S=z==0?A:A.hm;S[0]=this.rp.L();
var B=this.Zt.L();S[1]=N?Math.max(0,B):B;S[2]=this.y8.L();eJ.Sk(this.value,z,A);this.fs();this.xM()};
V.hue2.prototype.fs=function(){var s=this.hc.L(),N=this.value.Clrz?this.value.Clrz.v:!1;this.cf.b(N);
this.hc.b4(!N);this.GH.b4(!N&&s!=0);var r=eJ.Xc(this.value,s),S=s==0?r:r.hm;this.rp.b(S[0]);this.Zt.b(S[1]);
this.y8.b(S[2]);var z=this.I.width,A=this.I.height,B=this.IM;B.clearRect(0,0,z,A);if(N||s==0){this.Ei.innerHTML="";
return}var Y=r.Fm;this.Ei.innerHTML=Y[0]+"\xB0 / "+Y[1]+"\xB0<span style=\"float:right\">"+Y[2]+"\xB0 \\ "+Y[3]+"\xB0</span>";
var t=q.m(z*4);kh.a1P(t,1,z,-1,.5);var p=new ImageData(new Uint8ClampedArray(t.buffer),z,1),f=Math.round(A/4);
for(var l=0;l<f;l++)B.putImageData(p,0,l);function a(M,u,P){B.fillStyle=P;var m=f*2;if(M<=u)B.fillRect(M*z,m,(u-M)*z,f);
else{B.fillRect(0,m,u*z,f);B.fillRect(M*z,m,(1-M)*z,f)}}var D=this.Ng();a(D[0],D[1],"#888888");a(D[1],D[2],"#cccccc");
a(D[2],D[3],"#888888");B.fillStyle="#ffffff";B.lineWidth=1;B.beginPath();var c=f+.5,J=4*f+.5;for(var l=0;
l<4;l++){var Z=Math.floor(z*D[l])+.5,Q=(l<2?-1:1)*f*(l==1||l==2?1:2);B.moveTo(Z,c);B.lineTo(Z,J);B.lineTo(Z+Q,J);
B.lineTo(Z+Q,f+f+.5);B.closePath()}B.fill();B.stroke()};V.hue2.prototype.Ng=function(){var s=this.hc.L(),N=eJ.Xc(this.value,s).Fm;
for(var l=0;l<4;l++)N[l]=(1000.5+N[l]/360)%1;return N};V.hue2.prototype.akz=function(s){var N=this.hc.L(),r=eJ.Xc(this.value,N);
for(var l=0;l<4;l++)r.Fm[l]=Math.round(36e3+(s[l]-.5)*360)%360;eJ.Sk(this.value,N,r)};V.hue2.prototype.vm=function(){return!0};
V.hue2.prototype.ajn=function(){var s=this.fY.L().indexOf(!0),N=this.GH.L().indexOf(!0);return s!=-1?s:N!=-1?N+1:-1};
V.hue2.prototype.Vk=function(s,N,r,S,z){var A=this.ajn();if(A==-1)return;var B=this.value;this.value=hT.yS("hue2");
this.xM();var Y=K.k9.gb(s,z,1);this.b(B);var t=[Y>>>16&255,Y>>>8&255,Y&255],p=q.R4(t[0]/255,t[1]/255,t[2]/255);
if(A==0){this.hc.b(1+Math.round(p.JY*6)%6)}else{var f=this.Ng(),a=.5+p.JY,D=1/12,c=f[1],J=f[2];if(J<c){J++;
if(a<c&&a+1-J<c-a)a++}var Z=c<=a&&a<=J;if(A==1){c=a-D/2;J=a+D/2}else if(A==2&&!Z){c=Math.min(a,c);J=Math.max(a,J)}else if(A==3&&Z){if(a-c<J-a)c=a;
else J=a}f=[c-D,c,J,J+D];this.akz(f)}this.xM();this.px=z.x;this.aub=this.Zt.L()};V.hue2.prototype.ud=function(s,N,r,S,z){var A=this.ajn();
if(A==-1)return;if(A==0){if(this.px!=null){var B=z.x-this.px;B=Math.max(-100,Math.min(100,this.aub+.5*B));
this.Zt.b(B);this.I1()}}};V.hue2.prototype.gE=function(s,N,r,S,z){this.px=null};V.hue2.prototype.b=function(s){this.value=JSON.parse(JSON.stringify(s));
var N=this.value.Clrz?this.value.Clrz.v:!1;this.HD[N?1:0]=eJ.Xc(this.value,0);this.fs()};V.hue2.prototype.L=function(s){return JSON.parse(JSON.stringify(this.value))};
V.levl=function(){function s(){V.call(this);this.value=null;this.eT=null;this.Ax=[new cR(0,0),new cR(0,0),new cR(0,0),new cR(0,0),new cR(0,0)];
this.Gm=-1;this.t3=this.bJ.bind(this);this.lm=this.U$.bind(this);var N=this.e;this.FZ=new fa([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.FZ.W(k.E.o,this.fs,this);N.appendChild(this.FZ.e);this.Uf=new a_;this.Uf.parent=this;this.Uf.W(k.E.o,this.GS,this);
N.appendChild(this.Uf.e);var r=W.z("div","");N.appendChild(r);var S=W.z("div","");N.appendChild(S);this.I=W.z("canvas");
r.appendChild(this.I);this.IM=this.I.getContext("2d");this.qK=new cR(256,120);this.I.setAttribute("style","display:block");
W.Kq(this.I);W.JQ(this.I,this.U0.bind(this));this.vz=W.z("canvas","");S.appendChild(this.vz);this.w0=this.vz.getContext("2d");
this.BJ=new cR(this.qK.x,40);this.vz.setAttribute("style","display:block");W.Kq(this.vz);W.JQ(this.vz,this.ata.bind(this));
var z=this._4=[];for(var l=0;l<5;l++){var A=new aW(null,null,3);z.push(A);A.W(k.E.o,this.alk,this);(l<2||l==4?r:S).appendChild(A.e)}r.appendChild(z[1].e);
this.fY=new di("Sample from image",gI.Is(["#000000","#888888","#ffffff"]),!0,null,!0);this.fY.W(k.E.o,this.FL,this);
N.appendChild(this.fY.e);this.uw(250,100)}s.prototype=new V;s.prototype.GS=function(){var N=this.Uf.L(),r=this.eT,S=this.value,z=q.Kt(N,r);
for(var l=0;l<4;l++){var A=z[l][0],B=z[l][1],Y=z[l][2],t=[q.R2.rP(A,0,!0),q.R2.rP(B,255,!0)];if(Y!=null)t.splice(1,0,q.R2.rP(128,Y,!0));
var p=[~~A,~~B,0,255,Y==null?100:~~(100+.75*100*(Y-128)/128)];jq.Sk(S,l,p)}this.fs();this.xM()};s.prototype.uw=function(N,r){N+=6;
this.qK.x=this.BJ.x=N;W.Bh(this.I,N,this.qK.y,this.IM);W.Bh(this.vz,N,this.BJ.y,this.w0);var S=this._4;
S[3].e.setAttribute("style","margin-left: "+(N-104)+"px");S[4].e.setAttribute("style","margin: 0 "+(N/2-74)+"px");
if(this.value)this.fs()};s.prototype.N=function(){this.FZ.N()};s.prototype.alk=function(N){var r=[];
for(var l=0;l<5;l++){var S=255,z=1;if(l==4){S=999;z=100}var A=parseFloat(this._4[l].L());r[l]=Math.max(0,Math.min(S,A*z))}jq.Sk(this.value,this.FZ.L(),r);
this.fs();this.xM()};s.prototype.fs=function(N){var r=this.qK.x,S=this.qK.y,z=this.FZ.L(),A=this.IM;
A.clearRect(0,0,r,S);A.fillStyle="#cccccc";A.fillRect(8,8,r-16,S-16-8);if(this.eT){var B=this.eT[0].slice(0),J=0;
if(z==0){B.fill(0);var Y=JSON.parse(JSON.stringify(this.value));jq.Sk(Y,0,[0,255,0,255,100]);var t=ai.W7("levl",Y),p=[t._O,t.Yq,t.hC];
for(var f=0;f<3;f++){var a=this.eT[1+f],D=p[f];for(var l=0;l<256;l++)B[D[l]]+=a[l]}}var c=z==0?B:this.eT[z];
for(var l=0;l<c.length;l++)J+=c[l];A.fillStyle="#333333";A.beginPath();A.moveTo(8,S-16);for(var l=0;
l<256;l++){var Z=55*c[l]/J;A.lineTo(8+l/256*(r-16),Math.max(8,S-16-S*Z))}A.lineTo(r-8,S-16);A.closePath();
A.fill()}var Q=jq.Xc(this.value,z);for(var l=0;l<5;l++)this._4[l].b(Q[l]/(l==4?100:1));this.Ax[0].i5(8+Q[0]/255*(r-16),S-14);
this.Ax[1].i5(8+Q[1]/255*(r-16),S-14);var M=Math.log(Q[4]/100)/Math.log(9.99);M=.5-M/2;this.Ax[4].i5(this.Ax[0].x+M*(this.Ax[1].x-this.Ax[0].x),S-14);
this.G8(A,this.Ax[0],"#000000");this.G8(A,this.Ax[1],"#ffffff");this.G8(A,this.Ax[4],"#777777");var r=this.BJ.x,S=this.BJ.y;
A=this.w0;A.clearRect(0,0,r,S);var u=A.createLinearGradient(0,0,r-16,0);u.addColorStop(0,"black");u.addColorStop(1,"white");
A.fillStyle=u;A.fillRect(8,8,r-16,16);this.Ax[2].i5(8+Q[2]/255*(r-16),S-14);this.Ax[3].i5(8+Q[3]/255*(r-16),S-14);
this.G8(A,this.Ax[2],"#000000");this.G8(A,this.Ax[3],"#ffffff")};s.prototype.G8=function(N,r,S){N.fillStyle=S;
N.fillRect(r.x-5,r.y,10,10)};s.prototype.U0=function(N){var r=W.WO(N,this.I),S=this.ajG([0,1,4],r);if(S!=-1)this.Gm=S;
this.a1k()};s.prototype.ata=function(N){var r=W.WO(N,this.vz),S=this.ajG([2,3],r);if(S!=-1)this.Gm=S;
this.a1k()};s.prototype.ajG=function(N,r){var S=-1,z=1e9;for(var l=0;l<N.length;l++){var A=Math.abs(this.Ax[N[l]].x-r.x);
if(A<z){z=A;S=N[l]}}return z<16?S:-1};s.prototype.a1k=function(N){if(this.Gm==-1)return;W.UT(document.body,this.t3);
W.eA(document.body,this.lm)};s.prototype.bJ=function(N){var r=jq.Xc(this.value,this.FZ.L()),S=W.WO(N,this.Gm==2&&this.Gm==3?this.vz:this.I),z=255*(S.x-8)/(this.qK.x-16);
z=Math.max(0,Math.min(255,z));if(this.Gm==0)z=Math.min(z,r[1]-2);if(this.Gm==1)z=Math.max(z,r[0]+2);
if(this.Gm!=4)r[this.Gm]=Math.round(z);else{var A=(z-r[0])/(r[1]-r[0]);A=1-2*A;A=Math.pow(9.99,A);r[4]=Math.min(999,Math.max(10,Math.round(A*100)))}jq.Sk(this.value,this.FZ.L(),r);
this.fs();this.xM()};s.prototype.U$=function(N){W.nP(document.body,this.t3);W.tp(document.body,this.lm);
this.Gm=-1};s.prototype.vm=function(){return!0};s.prototype.gE=function(N,r,S,z,A){var B=this.value,Y=this.fY.L().indexOf(!0);
if(Y==-1)return;this.value=hT.yS("levl");this.xM();var t=K.k9.gb(N,A,1),p=[t>>>16&255,t>>>8&255,t&255];
for(var l=0;l<3;l++){var f=jq.Xc(B,1+l);if(Y==0)f[0]=p[l];if(Y==1){var a=Math.log(p[l]/255)/Math.log((p[0]+p[1]+p[2])*.333/255);
f[4]=Math.min(999,Math.max(10,Math.round(100*a)))}if(Y==2)f[1]=p[l];jq.Sk(B,1+l,f)}this.b(B);this.xM()};
s.prototype.b=function(N){this.value=N;this.fs()};s.prototype.$j=function(N){this.eT=N;this.fs()};s.prototype.L=function(N){return JSON.parse(JSON.stringify(this.value))};
return s}();V.phfl=function(){V.call(this,"phfl");this.m7.push(new bw);this.m7.push(new ao([12,74],0,100,"%"));
this.m7.push(new d1([13,4]));this.gx()};V.phfl.prototype=new V;V.phfl.prototype.Ho=function(s,N){N[0]=s.Clr.v;
N[1]=s.Dnst.v;N[2]=s.PrsL.v};V.phfl.prototype.wa=function(s,N){var r=q.i.iy(N[0]),S=s.Clr.v,z=q.lD(r.w,r.A,r.U);
S.Lmnc.v=z.Mp;S.A.v=z.aC;S.B.v=z.U;s.Dnst.v=N[1];s.PrsL.v=N[2]};V.vibA=function(){V.call(this,"vibA");
this.m7.push(new ao([12,13],-100,100,null));this.m7.push(new ao([12,9],-100,100,null));this.gx()};V.vibA.prototype=new V;
V.vibA.prototype.Ho=function(s,N){N[0]=s.vibrance?s.vibrance.v:0;N[1]=s.Strt?s.Strt.v:0};V.vibA.prototype.wa=function(s,N){s.vibrance.v=N[0];
s.Strt.v=N[1]};V.thrs=function(){V.call(this,"thrs");this.m7.push(new ao([4,13],1,255,null));this.gx()};
V.thrs.prototype=new V;V.thrs.prototype.Ho=function(s,N){N[0]=s.Lvl.v};V.thrs.prototype.wa=function(s,N){s.Lvl.v=N[0]};
V.mixr=function(){V.call(this);var s=this.e;this.dH=[];this.Y7=null;this.hc=new fa([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.hc.W(k.E.o,this.U_,this);s.appendChild(this.hc.e);W.ts(s);this.I4=new d1([12,60]);s.appendChild(this.I4.e);
this.I4.W(k.E.o,this.U_,this);for(var l=0;l<4;l++){var N=new ao([[13,1,1],[13,1,4],[13,1,5],[13,2]][l],-200,200,"%");
N.W(k.E.o,this.U_,this);this.dH.push(N);s.appendChild(N.e)}};V.mixr.prototype=new V;V.mixr.prototype.N=function(){this.hc.N();
this.I4.N();for(var l=0;l<4;l++)this.dH[l].N()};V.mixr.prototype.b=function(s){this.Y7=JSON.parse(JSON.stringify(s));
this.rx()};V.mixr.prototype.L=function(s){return JSON.parse(JSON.stringify(this.Y7))};V.mixr.prototype.U_=function(s){if(s.target!=this.hc){var N=ai.Ku(this.Y7);
if(s.target==this.I4){N.I4=this.I4.L();if(N.I4)N.h=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else N.h=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var r=(N.I4?0:this.hc.L())*5,l=this.dH.indexOf(s.target);
N.h[r+(l<3?l:4)]=s.target.L()}this.Y7=ai.anj(N)}this.rx();this.xM()};V.mixr.prototype.rx=function(){var s=ai.Ku(this.Y7);
this.I4.b(s.I4);var N=(s.I4?0:this.hc.L())*5;for(var l=0;l<4;l++)this.dH[l].b(s.h[N+(l<3?l:4)])};V.post=function(){V.call(this,"post");
this.m7.push(new ao([4,1],2,255,null));this.gx()};V.post.prototype=new V;V.post.prototype.Ho=function(s,N){N[0]=s.Lvls.v};
V.post.prototype.wa=function(s,N){s.Lvls.v=N[0]};V.clrL=function(){V.call(this,"clrL");this.m7.push(new gs("LUTs"));
this.gx()};V.clrL.prototype=new V;V.clrL.prototype.Ho=function(s,N){N[0]=s};V.clrL.prototype.wa=function(s,N){var r=N[0];
for(var S in r)s[S]=r[S]};V.clrL.prototype.wy=function(s,N){if(N==eq.pM||N==eq.P3)this.m7[0].da(s.avU)};
V.rplc=function(){V.call(this,"rplc");this.m7.push(new ao([12,92],0,200));this.m7.push(new bw);this.m7.push(new ao([12,8],-180,180));
this.m7.push(new ao([12,9],-100,100));this.m7.push(new ao([12,10],-100,100));this.gx()};V.rplc.prototype=new V;
V.rplc.prototype.Ho=function(s,N){N[0]=s.Fzns.v;N[1]=s.Mxm.v;N[2]=s.H.v;N[3]=s.Strt.v;N[4]=s.Lght.v};
V.rplc.prototype.wa=function(s,N){function r(z,A){A.Lmnc.v=z.Mp;A.A.v=z.aC;A.B.v=z.U}s.Fzns.v=N[0];s.H.v=N[2];
s.Strt.v=N[3];s.Lght.v=N[4];var S=q.i.iy(N[1]),z=q.lD(S.w,S.A,S.U);r(z,s.Mnm.v);r(z,s.Mxm.v)};V.fade=function(){V.call(this,"fade");
this.m7.push(new ao([12,0],0,100,"%"));this.m7.push(new fa([12,19,0],bm.bN,!1,bm.Ew));this.gx()};V.fade.prototype=new V;
V.fade.prototype.Ho=function(s,N){N[0]=s.Opct.v.val;N[1]=bm.ac.indexOf(s.Md.v.BlnM)};V.fade.prototype.wa=function(s,N){s.Opct.v.val=N[0];
s.Md.v.BlnM=bm.ac[N[1]]};V.aply=function(){var s=bm.ac.concat(["Add","Sbtr"]);s.splice(21,1);var N=bm.bN.concat([[15,10,28],[15,10,21]]);
N.splice(21,1);var r=bm.Ew.slice(0);r[4]--;function S(){V.call(this,"aply");this.m7.push(new fa([0,3],[]));
this.m7.push(new fa([12,4],["RGB"].concat(ai.Fi).concat(["Transparency"])));this.m7.push(new d1([4,11]));
this.m7.push(new fa([12,19,0],N,!1,r));this.m7.push(new ao([12,0],0,100,"%"));this.m7.push(new ij([12,38],1,2,null,2));
this.m7.push(new ij([12,6],-255,255));this.m7.push(new d1([13,5]));this.gx([2]);this.P2=null}S.prototype=new V;
S.prototype.Ho=function(z,A,B){if(B){var Y=B[2].p,t=this.P2=[];for(var l=0;l<Y.length;l++){var p=Y[l].getName();
t.push(p.length<30?p:p.slice(0,27)+"...")}t.reverse();this.m7[0].dO([[5,7]].concat(t),[1,t.length])}else var t=this.P2;
z=z.With.v;var f=z.T.v;A[0]=f[1].t=="name"?1+t.indexOf(f[1].v.val):0;A[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(f[0].v.enum);
A[2]=z.Invr.v;var a=z.Clcl.v.Clcn;A[3]=s.indexOf(a);A[4]=z.Opct.v.val;A[5]=z.Scl.v;A[6]=z.Ofst.v;A[7]=z.PrsT.v};
S.prototype.wa=function(z,A){z=z.With.v;var B=z.T.v;if(A[0]==0)B[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else B[1]={t:"name",v:{classID:"Lyr",val:this.P2[A[0]-1]}};B[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][A[1]];
z.Invr.v=A[2];var Y=z.Clcl.v.Clcn=s[A[3]];z.Opct.v.val=A[4];z.Scl.v=A[5];z.Ofst.v=A[6];z.PrsT.v=A[7];
var t=Y=="Add"||Y=="Sbtr";this.m7[5].b4(t);this.m7[6].b4(t)};return S}();V.matc=function(){var s,N,r=0;
function S(){V.call(this,"matc");this.m7.push(new ao("Luminance",1,200));this.m7.push(new ao("Color Intensity",1,200));
this.m7.push(new ao([2,11],0,100,"%"));this.m7.push(new d1("Neutralize"));this.m7.push(new fa([12,70],[]));
this.m7.push(new fa([0,3],[]));this.gx([2])}function z(A,B){A.m7[5].dO([[5,7]].concat(B),[1,B.length])}S.prototype=new V;
S.prototype.Ho=function(A,B,Y){r=0;B[0]=A.Lght.v;B[1]=A.ClrR.v;B[2]=A.Fade.v;B[3]=A.neutralizeColor?A.neutralizeColor.v:!1;
B[4]=B[5]=0;var t=A.Srce;if(t)t=t.v;if(Y){s=[];N=[];var p=Y[2],f=Y[3];for(var l=0;l<f.length;l++){var a=f[l];
s.push(a.name);var D=a.p,c=[];N.push(c);for(var J=0;J<D.length;J++)c.push(D[J].getName());c.reverse()}this.m7[4].dO([[13,1,0]].concat(s),[1,s.length]);
var Z=f.indexOf(p);if(t)Z=s.indexOf(t[1].v.val);z(this,N[Z])}if(t){var Q=s.indexOf(t[1].v.val);B[3]=r=1+Q;
if(t[0].t=="name")B[4]=1+N[Q].indexOf(t[0].v.val)}};S.prototype.wa=function(A,B){A.Lght.v=B[0];A.ClrR.v=B[1];
A.Fade.v=B[2];A.neutralizeColor.v=B[3];if(B[4]==0){A.noReference={t:"bool",v:!0};delete A.Srce}else{if(B[4]!=r){r=B[4];
z(this,N[B[4]-1])}delete A.noReference;var Y={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},t=N[B[4]-1];
if(B[5]!=0)Y={t:"name",v:{classID:"Lyr",val:t[B[5]-1]}};A.Srce={t:"obj ",v:[Y,{t:"name",v:{classID:"Dcmn",val:s[B[4]-1]}}]}}};
return S}();function dH(s,N){hz.call(this);if(s==null)return;this.id=N;this.YD=s;this.B6=null;this.e=W.z("div","window "+N);
this.ak0=null;this.yM=W.z("div","whead");this.ash=W.z("span","wname");this.yM.appendChild(this.ash);
this.e.appendChild(this.yM);this.Xd=this.anY.bind(this);this.aj=this.aqt.bind(this);this.RE=this.amh.bind(this);
W.Kq(this.yM);W.JQ(this.yM,this.Xd);this.sR=W.z("span","cross");this.yM.appendChild(this.sR);dH.prototype.N.call(this);
W.eA(this.sR,this.a3z.bind(this));this.body=W.z("div","body");this.e.appendChild(this.body)}dH.prototype=new hz;
dH.prototype.YJ=function(){return!1};dH.prototype.vm=function(){return!1};dH.prototype.N=function(){if(this.YD==null)return;
this.ash.textContent=eV.get(this.YD);var s=PIMG.__cross==null?"filter:invert(1);":"";this.sR.setAttribute("style","background-image:url("+PIMG.cross+");"+s)};
dH.prototype.Vk=function(s,N,r,S,z){};dH.prototype.CX=function(s,N,r,S,z){};dH.prototype.ud=function(s,N,r,S,z){};
dH.prototype.gE=function(s,N,r,S,z){};dH.prototype.jN=function(s,N,r,S,z){};dH.prototype.Rt=function(s,N,r,S){if(S.t(cK.D9)&&this.Nv)this.Nv();
if(S.t(cK.z6)){var z=new hU(k.E.r);z.rC=!0;K.OD.a4D(S,z);if(z.data)N.c(z)}};dH.prototype.KR=function(s){return!1};
dH.prototype.iG=function(s,N){return!0};dH.prototype.sV=function(s,N,r,S){};dH.prototype.wy=function(s,N){};
dH.prototype.Pr=function(s,N){return null};dH.prototype.anx=function(s){return this.ak0};dH.prototype.uw=function(){};
dH.prototype.close=function(){this.c(new hU(k.E.Gz))};dH.prototype.anY=function(s){this.B6=W.WO(s,this.e);
W.UT(window,this.aj);W.eA(window,this.RE)};dH.prototype.aqt=function(s){var N=this.e.parentNode,r=W.WO(s,N),S=Math.round(r.x-this.B6.x),z=N.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(r.y-this.B6.y)));
this.ak0=new cR(S,z);this.e.style.left=S+"px";this.e.style.top=z+"px"};dH.prototype.amh=function(s){W.nP(window,this.aj);
W.tp(window,this.RE)};dH.prototype.a3z=function(s){this.c(new hU("closebtn"));this.close()};function aQ(){dH.call(this,"About Photopea","aboutpp");
var s=W.z("div","flexrow");this.body.appendChild(s);var N=this.a9L=W.z("img");s.appendChild(N);this.body.setAttribute("style","margin:0; padding:0");
var r=this.a7u=W.z("div");r.innerHTML=aQ.ww;s.appendChild(r);var S=this.xq=W.z("span");S.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(S)}aQ.prototype=new dH;aQ.prototype.Pr=function(s,N){return new cR(0,0)};aQ.prototype.uw=function(s,N){var r=this.a9L,S=this.a7u,z=this.xq,A=(s+N-42-42)/110;
A=Math.sqrt((s-42)*(N-42))/50;r.setAttribute("style","width:"+s/2+"px; height:"+N+"px; display:block; object-fit:cover;");
S.setAttribute("style","width:"+(s/2-42)+"px; height:"+(N-42)+"px; padding:20px; font-size:"+A+"px;");
z.setAttribute("style","position:absolute;  bottom:10px; right:"+(s/2+10)+"px")};aQ.prototype.N=function(){};
aQ.prototype.sV=function(s,N,r,S){this.a9L.setAttribute("src","promo/ivan_pp.webp")};aQ.ww="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function c2(){dH.call(this,[0,13,0],"account");this.ml=W.z("div","form scrollable");this.body.appendChild(this.ml);
this.body.style.padding="0";this.Dm=[new c2.Vl,new c2.kw("::privacy.html"),new c2.kw(c2.a8P)];for(var l=0;
l<this.Dm.length;l++)this.Dm[l].parent=this;this.W("showpage",this.aqS,this)}c2.prototype=new dH;c2.prototype.iG=function(s,N){var r=navigator.onLine;
if(!r)alert("Go online first");return r};c2.prototype.uw=function(s,N){this.ml.setAttribute("style","width:"+Math.min(s-40,740)+"px;  height:"+(N-38)+"px;  padding:1.5em;");
this.Dm[0].uw(s,N)};c2.prototype.Pr=function(s,N){return new cR(Math.max(0,Math.min(150,(s-740)/2)),Math.max(0,Math.min(100,(N-500)/2)))};
c2.prototype.aqS=function(s){W.o3(this.ml);this.ml.scrollTop=0;this.ml.appendChild(this.Dm[s.data.Jb].e)};
c2.prototype.N=function(){dH.prototype.N.call(this);for(var l=0;l<this.Dm.length;l++)this.Dm[l].N()};
c2.prototype.sV=function(s,N,r){if(!navigator.onLine)return;W.o3(this.ml);var S=this.Dm[0];this.ml.appendChild(S.e);
S.sV();this.N()};c2.prototype.wy=function(s,N){this.sV(null,null,null)};c2.Vl=function(){hz.call(this);
this.e=W.z("div");var s=this.e,Y,t,f="font-size:1.25em;",a="text-align:center;",c="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",J="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",Z="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",M=12;
this.Nk=W.z("div");s.appendChild(this.Nk);this.AK=new aa([0,11],!1,null,!0);this.AK.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.AK.W("click",this.Zo,this);s.appendChild(this.AK.e);this.ij=new aa([0,13,1],!1,null,!0);this.ij.W("click",this.a1g,this);
s.appendChild(this.ij.e);this.Bq=new aa("Business Terms",!1,null,!0);this.Bq.W("click",this.auz,this);
s.appendChild(this.Bq.e);var N=W.z("div");N.style.margin="20px 0";s.appendChild(N);var r=["Account Types","Go Premium","Team Settings","Distributors"],S=this.$g=[],z=this.adx=[],A=this.bh=W.z("div");
s.appendChild(A);for(var l=0;l<r.length;l++){var B=W.z("span");B.textContent=r[l];N.appendChild(B);S.push(B);
B.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
B.addEventListener("click",this.Kb.bind(this));z.push(W.z("div"))}this.Kb(0);var p=this.amw="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
s=z[0];var t=W.z("table"),D="style=\" "+a+f+" padding-bottom:20px;\"";t.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+Z+">\t\t\t\t\t<div "+D+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+Z+">\t\t\t\t\t<div "+D+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
s.appendChild(t);var B=new aa("Go Premium");B.e.setAttribute("style",p+"padding:10px 0;");B.W("click",function(m){this.Kb(1)},this);
t.children[0].children[1].children[1].appendChild(B.e);this.lF=W.z("div");s.appendChild(this.lF);s=z[1];
var Q=this.an8=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.v2=[];for(var l=0;l<Q.length;l++)this.v2.push(new aa("Buy: $"+Q[l][0],!1,null,!0));for(var l=0;
l<this.v2.length;l++){this.v2[l].W("click",this.aiH,this)}this.oP=new aa("...",!0);this.oP.e.setAttribute("style",p);
s.appendChild(this.oP.e);t=this.akI(4,["Single user",this.v2[0],this.v2[1],this.v2[2],"Team of 5",this.v2[3],this.v2[4],this.v2[5],"Team of 20",this.v2[6],this.v2[7],this.v2[8],"Team of 50",this.v2[9],this.v2[10],this.v2[11]]);
s.appendChild(t);this.adJ=new d1("I accept",!0,"");s.appendChild(this.adJ.e);this.Ev=new aa([0,13,1],!1,null,!0);
this.Ev.W("click",this.a1g,this);s.appendChild(this.Ev.e);this.ee=new aa("I have a key",!1,null,!0);
this.ee.e.setAttribute("style",p+" float:right; width:inherit;");this.ee.W("click",this.aiH,this);s.appendChild(this.ee.e);
s=z[2];this.XE=new im;this.XE.parent=this;this.XE.W(k.E.o,this.YB,this);s.appendChild(this.XE.e);s=z[3];
this.x9=new aa("...",!0);this.x9.e.setAttribute("style",p);s.appendChild(this.x9.e);t=this.akI(3,["1000 views/mo",this.v2[M++],this.v2[M++],this.v2[M++],"5000 views/mo",this.v2[M++],this.v2[M++],this.v2[M++],"20000 views/mo",this.v2[M++],this.v2[M++],this.v2[M++]]);
s.appendChild(t);var u=W.z("p");u.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
s.appendChild(u);this.fh=new aW("Domain name (e.g. domain.com)",null,14);s.appendChild(this.fh.e);var P=new aa("Save Domain Settings",!1,null,!0);
P.Io();s.appendChild(P.e);P.W("click",this.akq,this)};c2.Vl.prototype=new hz;c2.Vl.prototype.Kb=function(s){var N=typeof s=="number"?s:this.$g.indexOf(s.target);
for(var l=0;l<4;l++)this.$g[l].style.opacity=.6;this.$g[N].style.opacity=1;W.o3(this.bh);this.bh.appendChild(this.adx[N])};
c2.Vl.prototype.uw=function(s,N){var r=s<600?"d":" days",S=["30 days","90 days","365 days"];if(s<600)S=["30d","90d","365d"];
var z=this.an8;for(var l=0;l<z.length;l++){this.v2[l].wp("<span>"+S[l%3]+": <sup>$</sup><big><b>"+z[l][0]+"</b></big>"+"</span>");
this.v2[l].e.setAttribute("style",this.amw)}};c2.Vl.prototype.a1g=function(s){var N=new hU("showpage",!0);
N.data={Jb:1};this.c(N)};c2.Vl.prototype.auz=function(s){var N=new hU("showpage",!0);N.data={Jb:2};this.c(N)};
c2.Vl.prototype.N=function(){this.AK.wp(eH.XO()?eV.get([0,11]):eV.get([0,10]));this.Ev.N();this.ij.N();
this.Bq.N()};c2.Vl.prototype.afO=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.TL,link:"https://www.photopea.com/api/accounts#"+(s.target==this.a57?"teams":"distributors")};
this.c(N)};c2.Vl.prototype.acN=function(s){var N=s.currentTarget==this.auk;this.auk.b(N);this.a6v.b(!N)};
c2.Vl.prototype.a0K=function(s){var N=this.auk.L(),r=this.aqH.L().trim().toLowerCase(),S=this.aes.value.trim().toLowerCase();
if(r.length>60){alert("Too long email address");return}if(S.length>600){alert("Too many team members");
return}S=S.split(",").join(" ").trim();S=S.replace(/\s+/g," ");if(S=="")S=[];else S=S.split(" ");var z=eH.Eh();
if(z==null)z={};if(z.acc==null)z.acc={};z.acc.team={jin:N,ldr:r,mmb:S};eH.vp(z,this.YB.bind(this));alert("Saved!");
this.sV()};c2.Vl.prototype.akq=function(s){var N=this.fh.L().trim();if(!eH.XO()){alert("You have to log in first.");
return}if(eH.QW()==0){alert("Order a distributor account first.");return}var r=eH.Eh();if(r==null)r={};
if(r.acc==null)r.acc={};if(N=="")delete r.acc.dname;else r.acc.dname=N;eH.vp(r,this.YB.bind(this));alert("Saved!");
this.sV()};c2.Vl.prototype.a8f=function(s){var N=eH.vj(),l=this.Ef,r=eH.Eh();if(r==null)r={};if(r.acc==null)r.acc={};
r.acc.bto=s;eH.vp(r,function(){});var S=c2.ai6(s.split("\n"),N.pmnts[l]);fP.save(S,"photopea_invoice.pdf")};
c2.Vl.prototype.arB=function(s){var N=eH.vj(),r=eH.Eh(),S=r.acc?r.acc.bto:null;if(S==null)S=N.name+"\n"+N.email;
var l=-1,z=s.target.e.parentNode;while((z=z.previousSibling)!=null)l++;this.Ef=l;var A=new hU(k.E.Y,!0);
A.data={d:k.s.Pv,ic:"billto",kj:S,JN:this.a8f.bind(this)};this.c(A)};c2.Vl.prototype.sV=function(){if(eH.XO()){var s=eH.vj(),N=s.pmnts;
if(s==null)return;this.Nk.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+s.name+"</span> "+s.email+" <br/>";
W.o3(this.lF);if(N){var r="<h2>Payments</h2>";for(var l=0;l<N.length;l++){var S=N[l],z=new Date(S[0]*1e3);
r+="<div style=\"font-size:1.2em\">"+z.getDate()+". "+(z.getMonth()+1)+". "+z.getFullYear()+" - "+c2.atX(S)+"</div>"}this.lF.innerHTML=r;
for(var l=0;l<N.length;l++){var A=new aa("Get Invoice",!1,null,!0);A.e.setAttribute("style","float:right");
A.W("click",this.arB,this);this.lF.children[l+1].appendChild(A.e)}}}else{}var B=eH.XO()&&eH.GX();this.oP.e.style.display=B?"block":"none";
if(B){var Y,t,p=B;if(p[0]==0){Y=eH.NH(p[1])-Date.now()*(1/1e3);t=p[1][2]==1?"Single User":"Team Of "+p[1][2]}else{Y=p[1][1]-Date.now()*(1/1e3);
t="Member of \""+p[1][0]+"\""}this.oP.wp("Premium active for "+Math.round(Y/(60*60*24))+" more days! ("+t+")")}var f=eH.XO()&&eH.QW()*1e3>Date.now();
this.x9.e.style.display=f?"block":"none";if(f){var Y=eH.QW()-Date.now()/1e3;this.x9.wp("Distributor active for "+Math.round(Y/(60*60*24))+" more days!")}var a=eH.Eh();
this.XE.sV();if(a&&a.acc&&a.acc.dname)this.fh.b(a.acc.dname);else this.fh.b("")};c2.Vl.prototype.akI=function(s,N){var r=W.z("table");
if(!0){var S="<table><tr>";for(var l=0;l<s;l++)S+="<th>"+N[l*4]+"</th>";S+="</tr></table>";r.innerHTML=S;
for(var l=0;l<3;l++){var z=W.z("tr"),A;r.appendChild(z);for(var B=0;B<s;B++){A=W.z("td");A.style.width=Math.round(100/s)+"%";
z.appendChild(A);A.appendChild(N[B*4+1+l].e)}}}return r};c2.Vl.prototype.aiH=function(s){var N=this.v2.indexOf(s.currentTarget),S=30,z=1;
if(!eH.XO()){alert("You must log in before buying Premium");return}if(this.adJ.L()==!1&&N<12){alert("You must accept Terms of Service");
return}var r=eH.XO()&&eH.GX();if(N!=-1){var A=this.an8[N];S=A[1];z=A[2]}if(r&&z<1e3){alert("You already have premium.");
return}console.log(A,S,z);if(N==-1){var B=prompt("Please enter your key");if(B!=null){eH.a6j(B,this.YB.bind(this));
this.m_()}return}if(S==30&&z==1){var Y=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!Y)return}eH.order(S,z,this.YB.bind(this));this.m_()};c2.Vl.prototype.YB=function(s){this.sV();this.m_()};
c2.Vl.prototype.Zo=function(s){if(eH.XO()){eH.ao9();this.m_();this.sV(null,null,null)}else eH.Zo(this.ajo.bind(this))};
c2.Vl.prototype.ajo=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.ath};this.c(s)};c2.Vl.prototype.m_=function(){var s=new hU(k.E.Y,!0);
s.data={d:k.s.amE};this.c(s)};c2.kw=function(s){hz.call(this);this.e=W.z("div");var N=this.e,r=this.ah_=new aa([0,13,2],!1,null,!0),S;
r.W("click",this.awv,this);N.appendChild(r.e);if(s.startsWith("::")){S=W.z("iframe");S.setAttribute("style","width:100%;height:1700px; background-color:white;");
S.setAttribute("src",s.slice(2))}else{S=W.z("div");S.innerHTML=s}N.appendChild(S)};c2.kw.prototype=new hz;
c2.kw.prototype.awv=function(s){var N=new hU("showpage",!0);N.data={Jb:0};this.c(N)};c2.kw.prototype.N=function(){this.ah_.N()};
c2.a8P="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
c2.atX=function(s){return"Photopea "+(s[1]<1e3?"Premium":"Distributor")+" ("+s[1]+" days, "+s[2]+" user"+(s[2]==1?"":"s")+")"};
c2.ai6=function(s,N){s=["Bill To:"].concat(s);var r=new ToPDF,S=595,z=842,A=40,B=18,Y=12,t=500,p=100,f=400,Z=0;
function a(T,b,R,w,F){c.font.Tf=F?"Helvetica-Bold":"Helvetica";c.ctm=[1,0,0,1,b,R];c.font.Tfs=w?w:Y;
r.PutText(c,T,0)}function D(T,b,R,w){for(var l=0;l<T.length;l++){a(T[l],b,R-l*w,null,l==0)}}var c=UDOC.getState();
r.StartPage(0,0,S,z);a("INVOICE",S-A-140,z-A-30,30,!0);D(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],A,z-A-40,B);
var J=new Date(N[0]*1e3);D(["Date: "+J.getDate()+". "+(J.getMonth()+1)+". "+J.getFullYear(),"Transaction ID: "+N[4]],S-A-140,z-A-40-B*2,B);
var Q=s.join("");for(var l=0;l<Q.length;l++)Z=Math.max(Z,Q.charCodeAt(l));if(Z>256){var M=4,u=W.z("canvas"),P=u.getContext("2d"),m=0;
P.font=Y*M+"px sans-serif";for(var l=0;l<s.length;l++)m=Math.max(m,P.measureText(s[l]).width);var i=Math.round(m)+20,e=s.length*M*B+20;
u.width=i;u.height=e;P.font=Y*M+"px sans-serif";for(var l=0;l<s.length;l++){P.font=(l==0?"bold ":"")+Y*M+"px sans-serif";
P.fillText(s[l],10,(l+1)*M*B)}document.body.appendChild(u);var X=new Uint8Array(P.getImageData(0,0,i,e).data.buffer);
c.ctm=[i/M,0,0,e/M,A-10/M,z-A-40-100-e/M];r.PutImage(c,X,i,e);c.ctm=[1,0,0,1,0,0]}else D(s,A,z-A-40-100,B);
c.colr=[.8,.8,.8];c.pth={cmds:["M","L","L","L","Z"],crds:[A,t,S-A,t,S-A,t-B,A,t-B]};r.Fill(c);c.colr=[0,0,0];
var $=[A,t,S-A,t,A,t-B,S-A,t-B,A,t-p,S-A,t-p,A,t,A,t-p,S-A,t,S-A,t-p,f,t,f,t-p],O=[];for(var l=0;l<$.length;
l+=4)O.push("M","L");c.pth={cmds:O,crds:$};r.Stroke(c);a("Order details",A+4,t-14);a(c2.atX(N),A+4,t-B-14);
a("TOTAL:",A+4,t-p-14,null,!0);a("Price",S-A-50,t-14);a(N[3]+" USD",S-A-60,t-B-14);a(N[3]+" USD",S-A-60,t-p-14,null,!0);
a("www.Photopea.com",A,A);a("support@photopea.com",S-A-130,A);r.ShowPage();r.Done();return r.buffer};
function eD(){dH.call(this,[11,14],"addguides");this.IC;this.tx={Hl:{_c:0}};this.MV=null;var s=W.z("div","form");
this.body.appendChild(s);this.C5=new aW([22,4,0],null,16);this.C5.W(k.E.o,this.fy,this);this.tu=new aW([22,4,1],null,16);
this.tu.W(k.E.o,this.fy,this);this.x4=new fa(null,q.HR.ft);this.x4.W(k.E.o,this.fy,this);s.appendChild(this.C5.e);
s.appendChild(this.x4.e);W.ts(s);s.appendChild(this.tu.e);this.Wu=W.y1(this,s);this.W("closebtn",this.CB,this)}eD.prototype=new dH;
eD.prototype.iG=function(s,N){return s!=null};eD.prototype.YJ=function(){return!0};eD.prototype.N=function(){dH.prototype.N.call(this);
this.C5.N();this.tu.N();this.x4.N();this.Wu.N()};eD.prototype.wy=function(s,N){var r=s.Hl._c;this.tx.Hl._c=r;
this.x4.b(r)};eD.prototype.sV=function(s,N){this.IC=s;this.MV=JSON.stringify(s._C());this.J$()};eD.prototype.J$=function(){var s=this.IC,N=s.K0,r=function(S,z,s,A,B){var Y=[];
for(var l=0;l<S.length;l++)if(S[l][0]==z)Y.push(q.HR.jc(S[l][1],s.FD,A,B));Y.sort(function(t,p){return t-p});
return Y.join(", ")};this.C5.b(r(N,0,s,this.tx,s.G));this.tu.b(r(N,1,s,this.tx,s.n))};eD.prototype.fy=function(s){if(s&&s.currentTarget==this.x4)this.tx.Hl._c=this.x4.L();
else{var N=this.aqh(),r=this.IC;r.TO(N);r.kk=!0}this.J$()};eD.prototype.aqh=function(){var s=[],N=[];
for(var r=0;r<2;r++){var S=r==0?this.C5:this.tu,z=r==0?this.IC.G:this.IC.n,A=S.L().replace(/,/g," ").replace(/  +/g," ").trim(),B=A==""?[]:A.split(" ");
for(var l=0;l<B.length;l++){s.push([r,q.HR.aon(B[l],this.IC.FD,this.tx,z)]);N.push(-1)}}return[s,N]};
eD.prototype.CB=function(s){var N=this.IC;N.TO(JSON.parse(this.MV));N.kk=!0;this.IC=null};eD.prototype.Nv=function(s){this.fy(s);
var N=new hU(k.E.r,!0);N.k=K.tM;N.data={d:"gids",xo:JSON.parse(this.MV),eP:this.IC._C()};this.IC=null;
this.close();this.c(N)};function e9(s){var N=hT.names[s];if(N==null)N=ai.names[s];if(s=="aply")N=[2,12];
if(s=="fade")N=[2,11];if(s=="matc")N=[4,18];if(s=="blendOptions")N=[14,10];dH.call(this,N,"afw_"+s);
this.Cx=s;this.tg=null;this.pB=null;this.sE=new V[s];this.sE.W(k.E.o,this.xM,this);this.sE.parent=this;
this.body.appendChild(this.sE.e);this.l8=new d1([24,18,5]);this.l8.b(!0);this.l8.W(k.E.o,this.xM,this);
this.de=new aa([1,12,2],!0,null,!0);this.de.W("click",this.kQ,this);this.Wu=W.y1(this);if(this.Gj())this.sE.be(this.Wu.e);
else{W.Bc(this.sE.e,"form");W.Bc(this.body,"flexrow");this.sE.e.setAttribute("style","width:312px");
var r=W.z("div");this.body.appendChild(r);r.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
r.appendChild(this.Wu.e);r.appendChild(this.de.e);r.appendChild(this.l8.e)}this.W("closebtn",this.VX,this)}e9.prototype=new dH;
e9.prototype.YJ=function(){return!0};e9.prototype.Gj=function(){return this.sE!=null&&this.sE.k0()};
e9.prototype.Pr=function(){return this.Gj()?new cR(0,0):dH.prototype.Pr()};e9.prototype.vm=function(){return this.sE.vm()};
e9.prototype.Vk=function(s,N,r,S,z){this.sE.Vk(s,N,r,S,z)};e9.prototype.ud=function(s,N,r,S,z){this.sE.ud(s,N,r,S,z)};
e9.prototype.gE=function(s,N,r,S,z){this.sE.gE(s,N,r,S,z)};e9.prototype.iG=function(s,N){if(this.Cx=="fade")return e9.ahh(s);
return!0};e9.prototype.kQ=function(s){this.sE.b(hT.yS(this.Cx));this.xM()};e9.prototype.xM=function(s){this.Bs({d:"edit",kc:this.sE.L(),rn:!this.l8.L()})};
e9.prototype.VX=function(s){this.Bs({d:"cancel"})};e9.prototype.Nv=function(s){if(!this.l8.L()){this.l8.b(!0);
this.xM()}this.pB=this.sE.L();if(this.Gj())this.xM();this.Bs({d:"confirm"});this.close()};e9.prototype.N=function(){dH.prototype.N.call(this);
this.l8.N();if(this.sE)this.sE.N();this.Wu.N()};e9.prototype.wy=function(s,N){if(this.sE)this.sE.wy(s,N)};
e9.prototype.Rt=function(s,N,r,S){if(this.Gj())this.sE.Rt(S);else dH.prototype.Rt.call(this,s,N,r,S)};
e9.prototype.sV=function(s,N,r,S){this.tg=N.tg;var z=s.add.lnk2?s.add.lnk2:[],A,B,Y=new hq(0,0,s.G,s.n),t=s.p[s.f[0]],p=null;
A=t.buffer;B=t.rect;if(this.Gj())p=s.r9(s.f[0]-1);var f=hT.yS(this.Cx),a=[z,s.Aa,s,r];if(N.tg==null){this.sE.b(f,A,B,Y,p,a);
if(ai.names[this.Cx]){if(S.t(cK.nI)&&this.pB)this.sE.b(this.pB);var D=K.fB.getData(s),c=q.yX(D[0].GT);
this.sE.$j(c)}}else{var J=!1,t=s.p[this.tg.j];if(t.Pi()){var Z=t.NM(s);A=Z.buffer;B=Z.rect;var Q=t.add.SoLd.filterFX.v.filterFXList.v;
if(Q[this.tg.index]){var M=Q[this.tg.index].v;this.sE.b(this.Cx=="blendOptions"?M.blendOptions.v:M.Fltr.v,A,B,Y,p,a);
this.sE.$j(q.yX(A));J=!0}}if(!J){this.sE.b(f,A,B,Y,p,a);this.sE.$j(q.yX(A))}}if(!this.Gj())this.xM()};
e9.prototype.Bs=function(s){var N=new hU(k.E.r,!0);s.Cx=this.Cx;s.tg=this.tg;N.data=s;N.k=hT.names[this.Cx]||this.tg?K.AB:K.du;
N.rC=!0;this.c(N)};e9.prototype.uw=function(s,N){if(!this.sE.k0()){}else{this.body.style.padding="0";
this.sE.uw(s,N)}};e9.ahh=function(s){if(s==null)return!1;var N=s.sQ();if(N==null||!(N.data instanceof Array)||N.data.length!=s.f.length)return!1;
for(var l=0;l<N.data.length;l++){var r=N.data[l];if(r.j<0&&s.Aa[-1-r.j])return!0;if(r.j==null||s.p[r.j]==null||s.p[r.j].GC!=r.CN)return!1;
if(s.f.indexOf(r.j)==-1)return!1}return!0};function jW(){dH.call(this,[11,0],"camera");this.data=null;
this.bW=new cR(1,1);this.ax0=[];var s=W.z("div","form hbar");this.body.appendChild(s);this.a8A=new fa(null,[]);
this.T1=new fa([21,0],[[21,2],[21,1]]);s.appendChild(this.T1.e);this.ov=new fa(null,[]);this.ov.W(k.E.o,this.am_,this);
s.appendChild(this.ov.e);this.ls=new aa([11,0],!1,null,!0);this.ls.W("click",this.ax1,this);s.appendChild(this.ls.e);
this.$_=new ju("");s.appendChild(this.$_.e);this.stream=null;this.cx=W.z("video","");this.cx.setAttribute("autoplay","true");
this.body.appendChild(this.cx);this.am$=this.abP.bind(this);this.adu=this.ajA.bind(this);this.a0m=this.aaH.bind(this);
this.W("closebtn",this.ans,this)}jW.prototype=new dH;jW.prototype.N=function(){dH.prototype.N.call(this);
this.T1.N();this.ls.N();this.uw(this.s7,this.JY)};jW.prototype.r9=function(){var s=this.cx.videoWidth,N=this.cx.videoHeight,r=W.z("canvas","");
r.width=s;r.height=N;var S=r.getContext("2d");S.drawImage(this.cx,0,0,s,N);var z=S.getImageData(0,0,s,N);
return{zC:new hq(0,0,s,N),data:z.data.buffer}};jW.prototype.ax1=function(s){if(this.T1.L()==0)this.aeR();
else this.aoh()};jW.prototype.aoh=function(){var s=this.r9(),N={buffer:new Uint8Array(s.data),rect:s.zC},r=new hU(k.E.r,!0);
r.rC=!0;r.k=K.g$;r.data={d:y.MS,ji:N};this.c(r);alert(eV.get([21,4]))};jW.prototype.aeR=function(){var s=this.r9(),N=hg.i0("camera",[s]),r=new hU(k.E.Y,!0);
r.data={d:k.s.Ap,jO:N};this.c(r);alert(eV.get([21,5]))};jW.prototype.sV=function(s,N,r){navigator.mediaDevices.enumerateDevices().then(this.awR.bind(this))};
jW.prototype.awR=function(s){var N=this.ax0=[],r=[];for(var l=0;l<s.length;l++)if(s[l].kind=="videoinput"){N.push(s[l]);
r.push("Camera "+N.length)}this.ov.dO(r);this.ov.b(0);this.am_()};jW.prototype.am_=function(s){this.ans();
var N={video:{deviceId:this.ax0[this.ov.L()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(N).then(this.am$).catch(this.adu);
else navigator.webkitGetUserMedia(N,this.am$,this.adu)};jW.prototype.abP=function(s){this.stream=s;this.cx.srcObject=s;
this.cx.addEventListener("loadedmetadata",this.a0m,!1)};jW.prototype.aaH=function(s){this.cx.play();
this.uw(this.s7,this.JY)};jW.prototype.Pr=function(s,N){return new cR(0,0)};jW.prototype.uw=function(s,N){var r=this.cx.videoWidth,S=this.cx.videoHeight;
this.$_.b(r+" x "+S+" px");this.$_.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.bW.i5(r,S);this.s7=s;this.JY=N;var z=s-28,A=N-28-30,B=this.bW.x/this.bW.y;if(z/A>B)z=A*B;else A=z/B;
this.cx.setAttribute("style","display: block; width: "+Math.round(z)+"px; height:"+Math.round(A)+"px;")};
jW.prototype.ajA=function(s){console.log("error",s);alert(eV.get([21,6]));this.close()};jW.prototype.ans=function(s){if(this.stream!=null){var N=this.stream.getTracks();
for(var l=0;l<N.length;l++)N[l].stop();this.stream=null}};function dW(){dH.call(this,[7,8],"crange");
this.IC=null;this.C2={Mp:73,aC:4.45,U:4};this.TD={Mp:73,aC:4.45,U:4};this.body.style.width="20em";this.eH=new fa([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.eH.W(k.E.o,this.afe,this);this.body.appendChild(this.eH.e);this.ww=W.z("div","form");this.body.appendChild(this.ww);
var s=this.a4i=2,N=this.sw=[new ao([12,92],0,200),new gI([12,36],[[18,0],"\uFF0B","-"]),new ao([12,92],0,100,"%"),new ij("Min",0,255),new ij("Max",0,255)];
N[0].b(40);N[s].b(40);for(var l=0;l<N.length;l++){N[l].W(k.E.o,this.rx,this);N[l].parent=this}this.I=W.z("canvas");
this.body.appendChild(this.I);this.Wu=W.y1(this,this.body)}dW.prototype=new dH;dW.prototype.iG=function(s,N){return s!=null};
dW.prototype.vm=function(){return!0};dW.prototype.YJ=function(){return!0};dW.prototype.afe=function(s){var N=this.eH.L(),r=this.sw,S=this.ww,z=0,A=r.length,B=this.a4i;
if(N==0)A=B;else{z=B;r[z+1].b([0,100,190][N-1]);r[z+1].b4(N!=1);r[z+2].b([60,150,255][N-1]);r[z+2].b4(N!=3)}W.o3(S);
for(var l=z;l<A;l++){S.appendChild(r[l].e)}this.rx()};dW.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.eH.N();for(var l=0;l<this.sw.length;l++)this.sw[l].N()};dW.prototype.Vk=function(s,N,r,S,z){var A=s.a.Vd(z.x,z.y);
this.ajk(A.x,A.y)};dW.prototype.ajk=function(s,N){var r=Math.min,S=Math.max,z=this.IC,A=S(0,r(z.G-1,Math.floor(s))),B=S(0,r(z.n-1,Math.floor(N))),Y=z.r9(),t=(B*z.G+A)*4,p=Y[t],f=Y[t+1],a=Y[t+2],D=q.lD(p,f,a),c=this.sw[1].L(),J=this.C2,Z=this.TD;
if(c==0){this.C2=JSON.parse(JSON.stringify(D));this.TD=D}else if(c==1){J.Mp=r(J.Mp,D.Mp);J.aC=r(J.aC,D.aC);
J.U=r(J.U,D.U);Z.Mp=S(Z.Mp,D.Mp);Z.aC=S(Z.aC,D.aC);Z.U=S(Z.U,D.U)}else if(c==2){var Q=(J.Mp+Z.Mp)/2,M=(J.aC+Z.aC)/2,u=(J.U+Z.U)/2;
if(D.Mp<Q)J.Mp=S(J.Mp,D.Mp+10);else Z.Mp=r(Z.Mp,D.Mp-10);if(D.aC<M)J.aC=S(J.aC,D.aC+1);else Z.aC=r(Z.aC,D.aC-1);
if(D.U<u)J.U=S(J.U,D.U+1);else Z.U=r(Z.U,D.U-1)}this.rx()};dW.prototype.Nv=function(s){var N=this.eH.L(),r=this.sw,S={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(N==0){var z=this.C2,A=this.TD;S.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:z.Mp},A:{t:"doub",v:z.aC},B:{t:"doub",v:z.U}}};
S.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:A.Mp},A:{t:"doub",v:A.aC},B:{t:"doub",v:A.U}}};S.Fzns={t:"long",v:r[0].L()}}else{N--;
var B=["shadows","midtones","highlights"][N];S.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][N]}};if(0<N)S[B+"LowerLimit"]={t:"long",v:r[3].L()};
if(N<2)S[B+"UpperLimit"]={t:"long",v:r[4].L()};S[B+"Fuzziness"]={t:"long",v:r[2].L()}}this.close();var Y=new hU(k.E.gu,!0);
Y.data={uU:"colorRange",wz:S};this.c(Y)};dW.prototype.sV=function(s,N){this.IC=s;this.ajk(0,0);this.afe()};
dW.prototype.rx=function(){var s=this.IC,N=this.eH.L(),r=this.C2,S=this.TD,z=this.sw,A=z[0].L()/200,B=!1;
if(N>0){r=z[3].L();S=z[4].L();if(r>=S)r=S-1;B=!0;A=z[2].L()/100}var Y=K.eL.ck(s,r,S,A,B),t=Y.rect,p=Y.channel,f=this.I,a=f.getContext("2d"),D=Math.floor(230*W.Z()),c=Math.floor(D*(t.n/t.G));
f.width=D;f.height=c;W.UY(f,D,c);var J=q.m(p.length*4);q.TM(J,4294967295);for(var l=0;l<3;l++)q.XX(p,J,l);
var Z=K.S.aG([J,t],new gF(D/t.G,0,0,c/t.n,0,0)),Q=Z.rect,M=new ImageData(new Uint8ClampedArray(Z.buffer.buffer),Q.G,Q.n);
a.putImageData(M,0,0)};function fz(){dH.call(this,[12,76,1],"createshape");this.p2=null;var s=W.z("div","form");
s.setAttribute("style","width:20em");this.body.appendChild(s);this.Wf=new ij([12,41],0,0,null,0,!1,!0);
s.appendChild(this.Wf.e);W.ts(s);this.C5=new ij([12,42],0,0,null,0,!1,!0);s.appendChild(this.C5.e);W.ts(s);
this.EV=new d1([19,5,3]);s.appendChild(this.EV.e);this.Wf.b(100);this.C5.b(100);this.Wu=W.y1(this,s)}fz.prototype=new dH;
fz.prototype.Nv=function(s){this.p2.a3h(this.p2.abI,this.Wf.L(),this.C5.L(),this.EV.L());this.close()};
fz.prototype.N=function(){if(this.p2)this.YD=eV.get([5,3])+": "+eV.get(this.p2.ar_);dH.prototype.N.call(this);
this.Wu.N();this.Wf.N();this.C5.N();this.EV.N()};fz.prototype.sV=function(s,N){this.p2=N;this.N();this.Wf.aS()};
function hh(){dH.call(this,[11,1],"colorpicker");this.I$=null;this.S9=null;this.g7=null;this.OF=!1;this.hb=!1;
var s=W.z("div","flexrow"),A,B;this.body.appendChild(s);this.cZ=new kh(256,!0);this.cZ.W(k.E.o,this.n7,this);
s.appendChild(this.cZ.e);var N=W.z("div","form");N.setAttribute("style","width:14.5em; margin-left:1em;");
s.appendChild(N);this.anq=W.z("div","full");N.appendChild(this.anq);this.a0G=W.z("div","full");N.appendChild(this.a0G);
var r=W.z("div","flexrow");N.appendChild(r);var S=W.z("div"),z=W.z("div");r.appendChild(S);r.appendChild(z);
A=["R","G","B"];B=S;this.X4=[];for(var l=0;l<3;l++){var Y=new ij(A[l]+":",0,255,null,0,!1,!0);this.X4.push(Y);
Y.W(k.E.o,this.a7H,this);B.appendChild(Y.e)}A=["H","S","B"];B=z;this.UA=[];for(var l=0;l<3;l++){var t=0,p=360,f="\xB0";
if(l!=0){p=100;f="%"}var Y=new ij(A[l]+":",t,p,f,0,!1,!0);this.UA.push(Y);Y.W(k.E.o,this.asF,this);B.appendChild(Y.e)}this.C5=new aW("Hex",null,6);
this.C5.W(k.E.o,this.Mh,this);N.appendChild(this.C5.e);this.zn=W.z("input","fitem");this.zn.setAttribute("type","color");
this.zn.setAttribute("style","width:50px");this.zn.addEventListener("change",this.Mh.bind(this),!1);
N.appendChild(this.zn);this.CT=new fc(9);this.CT.W(k.E.o,this.Mh,this);N.appendChild(this.CT.e);this.Wu=W.y1(this,N);
this.W("closebtn",this.VX,this);this.xr=!1}hh.prototype=new dH;hh.prototype.vm=function(){return!0};
hh.prototype.Pr=function(s,N){return new cR(Math.max(0,Math.min(150,(s-484)/2)),Math.max(0,Math.min(150,(N-316)/2)))};
hh.prototype.uw=function(s,N){this.cZ.uw(Math.min(256,s-226),N)};hh.prototype.N=function(s,N){dH.prototype.N.call(this);
this.Wu.N()};hh.prototype.n7=function(s){this.S9=this.cZ.L();this.update()};hh.prototype.Vk=function(s,N,r,S,z){this.xr=!0;
this.a8p(s,z)};hh.prototype.ud=function(s,N,r,S,z){if(!this.xr)return;this.a8p(s,z)};hh.prototype.gE=function(s,N,r,S,z){this.xr=!1};
hh.prototype.a8p=function(s,N){var r=K.k9.gb(s,N,1),S=r&255,z=r>>8&255,A=r>>16&255;this.S9={w:A/255,A:z/255,U:S/255};
this.update()};hh.prototype.a7H=function(s){var N=this.X4,r=this.BR(parseInt(N[0].L())),S=this.BR(parseInt(N[1].L())),z=this.BR(parseInt(N[2].L()));
this.S9={w:r/255,A:S/255,U:z/255};this.update()};hh.prototype.asF=function(s){var N=this.UA,r=this.Pg(parseInt(N[0].L())/360),S=this.Pg(parseInt(N[1].L())/100),z=this.Pg(parseInt(N[2].L())/100);
this.S9=q.qG(r,S,z);this.update()};hh.prototype.Mh=function(s){var N;if(s.currentTarget==this.CT)N=this.CT.L();
else{N=s.currentTarget==this.C5?this.C5.L():this.zn.value;if(N.charAt(0)=="#")N=N.slice(1);if(N.length==3)N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2];
N=q.Lk(N)}this.S9={w:(N>>16&255)/255,A:(N>>8&255)/255,U:(N&255)/255};this.update()};hh.prototype.IA=function(s){var N=s.w,r=s.A,S=s.U;
return Math.round(N*255)<<16|Math.round(r*255)<<8|Math.round(S*255)};hh.prototype.Nv=function(s){this.a7g();
var N=this.IA(this.S9);this.g7(N);this.close();this.hb=!1;this.S9=null};hh.prototype.VX=function(s){this.a7g();
if(this.OF)this.g7(this.IA(this.I$));this.hb=!1;this.S9=null};hh.prototype.a7g=function(s){var N=new hU(k.E.Y,!0);
N.data={d:k.s.ao4};this.c(N)};hh.prototype.wy=function(s,N){var r=d7.lj(s,N);if(r!=null)this.CT.b(r);
if(N!=eq.rg)return;if(this.S9!=null){this.S9={w:(r>>16&255)/255,A:(r>>8&255)/255,U:(r>>0&255)/255};this.update()}};
hh.prototype.sV=function(s,N){var r=N.qx,S={w:(r>>16&255)/255,A:(r>>8&255)/255,U:(r>>0&255)/255};if(this.S9==null){var z=new hU(k.E.Y,!0);
z.data={d:k.s.Qb,BQ:"crosshair",push:!0};this.c(z);this.xr=!1;this.g7=N.Rc;this.OF=!1;this.hb=N.mt;this.I$=JSON.parse(JSON.stringify(S));
this.a0G.setAttribute("style","height:3em;background-color:#"+q.fD(r)+";")}this.S9=S;this.update()};
hh.prototype.update=function(){var s=this.S9,N=this.IA(s),r=this.X4;r[0].b(Math.round(s.w*255));r[1].b(Math.round(s.A*255));
r[2].b(Math.round(s.U*255));this.C5.b(q.fD(N));this.zn.value="#"+q.fD(N);this.anq.setAttribute("style","height:3em;background-color:#"+q.fD(N)+";");
var S=q.R4(s.w,s.A,s.U);r=this.UA;r[0].b(Math.round(S.JY*360));r[1].b(Math.round(S.D7*100));r[2].b(Math.round(S.kc*100));
this.cZ.b(s);if(this.hb){this.g7(this.IA(this.S9));this.OF=!0}};hh.prototype.BR=function(s){return Math.max(0,Math.min(255,s))};
hh.prototype.Pg=function(s){return Math.max(0,Math.min(1,s))};function gG(){dH.call(this,[11,2],"contoureditor");
this.acV=null;this.Xm=null;this.response=null;this.yb=W.z("div","cell");this.body.appendChild(this.yb);
this.D4=W.z("div","cell padded");this.body.appendChild(this.D4);var s=W.z("div","bordered padded vmargin");
this.yb.appendChild(s);this.sE=new fO(null,null,!0);this.sE.W(k.E.o,this.Ke,this);s.appendChild(this.sE.e);
this.Wu=W.y1(this,this.D4);this.W("closebtn",this.wC,this)}gG.prototype=new dH;gG.prototype.Nv=function(){this.close()};
gG.prototype.N=function(){dH.prototype.N.call(this);this.Wu.N();this.sE.N()};gG.prototype.Ke=function(s){this.Xm.Crv.v=this.sE.L();
this.response(this.Xm)};gG.prototype.wC=function(s){this.response(this.acV)};gG.prototype.sV=function(s,N){this.acV=JSON.parse(JSON.stringify(N.bh));
this.Xm=N.bh;this.response=N.response;this.sE.b(this.Xm.Crv.v)};function g7(){dH.call(this,[11,3],"csize");
this.pz=0;this.ml=W.z("div","form");this.ml.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.ml);
this._M=new bH(!0,!0,!0,!0,!0);this._M.alR(!1);this.ml.appendChild(this._M.e);this._h=new gI("Align with",[[8,7],[12,6]]);
this._h.W(k.E.o,this.abt,this);this.Hi=new j1([12,23,2],41);this.ml.appendChild(this.Hi.e);this.Hi.b(4);
this.hd=new bo(!1);this.hd.ato(new cR(0,0));this.Wu=W.y1(this,this.body)}g7.prototype=new dH;g7.prototype.iG=function(s,N){return s!=null};
g7.prototype.YJ=function(){return!0};g7.prototype.KR=function(s){return[cK.AO,cK.AS,cK.aa,cK.Qw].indexOf(s)!=-1};
g7.prototype.Rt=function(s,N,r,S){this.Hi.atk(S.wn())};g7.prototype.abt=function(){var s=[this.Hi.e,this.hd.e];
this.ml.removeChild(s[this.pz]);this.pz=this._h.L();this.ml.appendChild(s[this.pz])};g7.prototype.N=function(){dH.prototype.N.call(this);
this._M.N();this._h.N();this.Hi.N();this.hd.N();this.Wu.N()};g7.prototype.Nv=function(s){var N=this._M.L(),r=N.x,S=N.y,z=new hU(k.E.gu,!0);
z.data=K.Vg.k4(r,S,this.Hi.L());this.close();this.c(z)};g7.prototype.sV=function(s,N){this._M.b(new cR(s.G,s.n),s.FD);
this._M.aS()};function jP(){dH.call(this,[11,4],"duplinto");this.rd=null;this.Qa=null;this.gk=null;var s=W.z("div","form");
s.setAttribute("style","max-width:26em");this.body.appendChild(s);this.C7=new fa([12,43],["abc","def"]);
this.C7.W(k.E.o,this.U_,this);s.appendChild(this.C7.e);W.ts(s);this.Bt=new fa([1,16,0],["abc","def"]);
this.Bt.W(k.E.o,this.U_,this);s.appendChild(this.Bt.e);W.ts(s);this.wP=new aW([12,48],null,14);s.appendChild(this.wP.e);
this.Wu=W.y1(this,s)}jP.prototype=new dH;jP.prototype.YJ=function(){return!0};jP.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.C7.N();this.wP.N()};jP.prototype.U_=function(s){if(s&&s.target==this.Bt)return;var N=this.C7.L(),r=this.Qa[N],S=this.rd,z=r!=null&&r.add.artd!=null;
for(var l=0;l<S.f.length;l++)if(S.p[S.f[l]].add.artb)z=!1;this.wP.b4(N==this.Qa.length);this.Bt.b4(z);
if(z){var A=r.root.children,B=[],Y=this.gk=[];for(var l=0;l<A.length;l++){var t=A[l].j;if(t.add.artb)B.push(t.getName());
Y.push(A[l].index)}this.Bt.dO(B);this.Bt.b(0)}else this.gk=null};jP.prototype.sV=function(s,N,r){this.rd=s;
this.Qa=r;this.wP.b(s.f.length==0?"Layer":s.p[s.f[0]].getName());var S=[];for(var l=0;l<r.length;l++){var z=r[l].name;
S.push(z.length<30?z:z.slice(0,27)+"...")}S.push([11,7]);this.C7.dO(S);this.C7.b(r.indexOf(s));this.U_(null)};
jP.prototype.Nv=function(s){var N=this.C7.L();if(N==this.Qa.length){var r=new a2(this.wP.L()+".psd"),S=this.rd.G,z=this.rd.n,A=this.rd.W$();
if(A!=-1){var B=this.rd.p[A].M5();S=B.G;z=B.n}r.G=S;r.n=z;r.buffer=q.m(r.G*r.n*4);var Y=r.tT();Y.lP("Background");
r.uZ([Y]);var t=new hU(k.E.Y,!0);t.rC=!0;t.data={d:k.s.Ap,jO:r};this.c(t)}var p=this.rd.st(null,this.rd!=this.Qa[N]),t=new hU(k.E.r,!0);
t.data={d:y.wO,p:p,oi:this.rd,wX:this.Qa[N]};if(this.gk)t.data.KQ=this.gk[this.Bt.L()];t.k=K.g$;t.rC=!0;
this.c(t);this.close()};function hL(){dH.call(this,[1,9],"eassets");this.tx=null;this.SE=null;var s=W.z("div","form");
s.setAttribute("style","width:32em");this.body.appendChild(s);this.dD=W.z("span");s.appendChild(this.dD);
W.ts(s);this.AF=[new d1("Only layers / folders, whose name starts with \"-e-\""),new d1("Remove parts outside the canvas"),new d1("Trim transparent parts")];
for(var l=0;l<3;l++){var N=this.AF[l];N.b(!0);N.W(k.E.o,this.J$,this);s.appendChild(N.e);W.ts(s)}this.IN=new di([12,14,0],["1x","2x","3x","4x"]);
this.IN.b([!0,!1,!1,!1]);s.appendChild(this.IN.e);W.RY(s);this.fS=["PNG","JPG","SVG","TIFF","TGA"];this.VB=new fa([12,50],this.fS);
this.VB.W(k.E.o,this.aey,this);s.appendChild(this.VB.e);this.lM=new js;s.appendChild(this.lM.e);this.Wu=new aa([1,9],!0,null,!0);
this.Wu.W("click",this.Nv,this);s.appendChild(this.Wu.e);this.W("closebtn",this.qQ,this)}hL.prototype=new dH;
hL.prototype.aey=function(s){this.lM.a7m(this.fS[this.VB.L()],!1,!1,!1,this.SE.a8()!=null)};hL.prototype.qQ=function(s){this.SE=null};
hL.prototype.N=function(){dH.prototype.N.call(this);this.VB.N();this.IN.N();this.Wu.N();this.lM.N()};
hL.prototype.sV=function(s,N,r){this.SE=s;this.J$()};hL.prototype.J$=function(s){var N=this.am3(),r="- - - "+N.length+" exportable layers";
this.dD.textContent=r;this.aey(null)};hL.prototype.am3=function(){var s=this.AF[0].L(),N=[],r=this.SE;
for(var l=0;l<r.p.length;l++){var S=r.p[l],z=S.getName();if(!s&&!S.Ob()&&!S.rect.Nf()||z.startsWith("-e"))N.push(l)}return N};
hL.prototype.wy=function(s,N){this.tx=s};hL.prototype.Nv=function(s){var N=this.SE,r=[this.fS[this.VB.L()]],S=[this.lM.L()],z=this.IN.L(),A={},B={},Y=this.am3();
if(Y.length==0){alert("No layers to export.");return}var t=[this.AF[1].L(),this.AF[2].L()];for(var l=0;
l<Y.length;l++){var p=Y[l],f=N.p[p],a=f.getName();if(B[a]!=null){B[a]++;a+=" "+B[a]}else B[a]=1;var D=f.ES();
f.pQ(!0);for(var c=0;c<z.length;c++){if(!z[c])continue;var J=c+1,Z=K.yz.uu(N,r,J,this.tx,p,S,t);for(var Q=0;
Q<r.length;Q++){var M=r[Q],u=a.slice(a.startsWith("-e-")?3:0)+(J==1?"":"@"+J+"x")+"."+M.toLowerCase();
if(Z[Q])A[u]=new Uint8Array(Z[Q])}}f.pQ(D)}var P=UZIP.encode(A),i=new hU(k.E.Y,!0);i.data={d:k.s.dJ,data:P,name:"assets.zip"};
this.c(i)};function a6(){dH.call(this,"Export Color Lookup Tables","exlut");this.tx=null;this.SE=null;
var s=W.z("div","form");s.setAttribute("style","width:20em");this.body.appendChild(s);this.AF=[new ij("Grid Points",1,256),new gI([12,50],[".CUBE"])];
var N=[16,0];for(var l=0;l<this.AF.length;l++){var r=this.AF[l];r.b(N[l]);r.parent=this;r.W(k.E.o,this.J$,this);
s.appendChild(r.e);W.ts(s)}this.Wu=W.y1(this,s);this.W("closebtn",this.qQ,this)}a6.prototype=new dH;
a6.prototype.iG=function(s,N){if(Math.min(s.G,s.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(s.p.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};a6.prototype.qQ=function(s){this.SE=null};a6.prototype.wy=function(s,N){this.tx=s};
a6.prototype.sV=function(s,N,r){this.SE=s};a6.prototype.Nv=function(){var s=this.SE,N=this.AF[0].L(),r=[],S=new hq(0,0,s.G,s.n),z=q.m(N*N*4),A=z.slice(0),B=new hq(s.G-N>>>1,s.n-N>>>1,N,N),Y=s.p[0],t=Y.buffer,p=Y.rect;
Y.rect=B;Y.buffer=z;for(var f=0;f<N;f++){this.al9(N,f,z);Y.V(B);s.V(B);var a=s.r9();q.LP(a,S,A,B);for(var D=0;
D<N;D++)for(var c=0;c<N;c++){var J=D*N+c<<2;r.push(A[J]/255,A[J+1]/255,A[J+2]/255)}}var Z=gY.aun(r,N,s.name);
fP.save(Z,s.name.split(".")[0]+".CUBE");Y.buffer=t;Y.rect=p;Y.V();s.V()};a6.prototype.al9=function(s,N,r){var S=255/(s-1),z=Math.round(N*S);
for(var A=0;A<s;A++)for(var B=0;B<s;B++){var Y=A*s+B<<2;r[Y]=Math.round(B*S);r[Y+1]=Math.round(A*S);
r[Y+2]=z;r[Y+3]=255}};a6.prototype.N=function(){dH.prototype.N.call(this);for(var l=0;l<this.AF.length;
l++)this.AF[l].N();this.Wu.N()};function b6(){dH.call(this,[1,14],"finfo");this.qJ=null;this.LH=null;
this.a$=null;this.ml=W.z("div","form scrollable label12");this.ml.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ml);var s=W.z("div","form");this.body.appendChild(s);this.o9=new fa(null,["Hello"]);
s.appendChild(this.o9.e);this.ac7=new aa("Add Parameter",!1,null,!0);s.appendChild(this.ac7.e);this.ac7.W("click",this.Wn,this);
this.G4=new aa("=== S A V E ===",!1,null,!0);s.appendChild(this.G4.e);this.G4.W("click",this.aP,this);
this.aky=""}b6.prototype=new dH;b6.prototype.Pr=function(s,N){return s<450||N<450?new cR(0,0):new cR(150,100)};
b6.prototype.Wn=function(s){if(this.a$.length==0)return;var N=this.a$[this.o9.L()],r=this.zO();r[N]=gr.Ui[N][0];
this.St(r);this.LH[N].e.scrollIntoView();this.LH[N].aS()};b6.prototype.Kw=function(s){var N=this.zO();
delete N[s.currentTarget.ar0];this.St(N)};b6.prototype.aP=function(s){var N=this.zO(),r=this.qJ,S=!0;
for(var z in r)if(JSON.stringify(r[z])!=JSON.stringify(N[z]))S=!1;for(var z in N)if(JSON.stringify(r[z])!=JSON.stringify(N[z]))S=!1;
if(S)return;var A=new hU(k.E.r,!0);A.k=K.g$;A.data={d:y.$R,ha:N};this.c(A);this.qJ=N;this.St(N)};b6.a6I=function(s){function N(z){var A=z.toLowerCase();
return z==A}var r=s.split(":").pop();for(var S=1;S<r.length-1;S++){if(r[S]==r[S].toUpperCase()&&(N(r[S+1])||N(r[S-1]))){r=r.slice(0,S)+" "+r.slice(S);
S++}}return r};b6.prototype.sV=function(s,N){this.qJ=s.yA;this.St(s.yA)};b6.prototype.St=function(s){var N=this.ml,z=0;
W.o3(N);var r=this.LH={},S=["tiff","exif","exif:GPS"],A=this.a$=[],B=[];for(var Y in gr.Ui){var t=b6.a6I(Y),p=0,f=15,a=null;
if(s[Y]==null){if(gr.Ui[Y].length!=1||Y=="photoshop:Credit"||Y=="photoshop:Source"){A.push(Y);B.push(t)}continue}for(var l=0;
l<S.length;l++)if(Y.startsWith(S[l]))p=l;if(p!=z){W.RY(N);z=p}if(Y=="tiff:ImageDescription"||Y=="dc:Keywords"){f=18.5;
a=3}var D=new aW(t,null,f,a);r[Y]=D;var c=s[Y];if(c instanceof Array)c=c[1]==0?"---":c[0]+"/"+c[1];var J=new aa("\u2716",null,eV.get([5,4]));
N.appendChild(J.e);J.W("click",this.Kw,this);J.ar0=Y;D.b(c);N.appendChild(D.e);W.ts(N);if(Y=="exif:GPSLongitude"&&s["exif:GPSLatitude"]){this.aky=b6.a4M(s["exif:GPSLatitude"])+","+b6.a4M(s["exif:GPSLongitude"]);
var Z=new aa("Show on map",!1,null,!0);N.appendChild(Z.e);W.ts(N);Z.W("click",this.aqy,this)}}this.o9.dO(B);
this.o9.b(0)};b6.prototype.zO=function(){var s=this.LH,N=gr.Ui,r={};for(var S in N){var z=N[S][0],A=typeof z;
if(z==null||s[S]==null)continue;var B=s[S].L(),Y="The value of \""+b6.a6I(S)+"\" must ";if(A=="number"){B=parseFloat(B);
if(isNaN(B)){alert(Y+"be a number.");B=z}}else if(z instanceof Array&&z.length==2){if(B.indexOf("/")==-1){alert(Y+"be a fraction.");
B=z.slice(0)}else{B=B.split("/").map(parseFloat);if(isNaN(B[0])||isNaN(B[1])){B=z.slice(0)}}}r[S]=B}return r};
b6.a4M=function(s){var N=s.length,r=s.slice(0,N-1).split(",").map(parseFloat),S=s.slice(N-1),z=r[0]+r[1]/60+r[2]/3600;
if(S!="N"&&S!="E")z=-z;return z};b6.prototype.aqy=function(s){window.open("https://maps.google.com?q="+this.aky,"Map")};
function g2(){dH.call(this,[11,5],"gradienteditor");this.I$=null;this.S9=null;this.EI=null;this.g7=null;
this.OF=!1;this.hb=!1;this.Bv=null;this.oW=null;this.Gh=-1;this.Qi=-1;this.EA=0;this.t3=this.bJ.bind(this);
this.lm=this.U$.bind(this);this.I=W.z("canvas");this.IM=this.I.getContext("2d");this.I.setAttribute("style","display:block");
this.pE=null;W.Kq(this.I);W.JQ(this.I,this.U0.bind(this));this.Ay=W.z("div","form");this.Fr=W.z("div");
this.wd=W.z("div","form");this.xJ=W.z("div");this.cY=new fa([12,44],[[15,10,0],[24,6]]);this.cY.W(k.E.o,this.sG,this);
this.body.appendChild(this.cY.e);W.RY(this.body);var s=this.Ay;this.B_=new ij([19,3,3],0,100,"%");this.B_.W(k.E.o,this.sG,this);
this.B_.parent=this;s.appendChild(this.B_.e);W.ts(s);this.a6=new ju([12,0]);s.appendChild(this.a6.e);
this.gn=W.z("div","bordered padded noalign");s.appendChild(this.gn);this.nh=new ij([12,0],0,100,"%");
this.nh.parent=this;this.nh.W(k.E.o,this.sG,this);this.gn.appendChild(this.nh.e);this.MW=new ij([12,40],0,100,"%");
this.MW.parent=this;this.MW.W(k.E.o,this.sG,this);this.gn.appendChild(this.MW.e);this.Vm=new aa([5,4],!1,null,!0);
this.Vm.W("click",this.ai1,this);this.gn.appendChild(this.Vm.e);s.appendChild(this.Fr);this.aq1=new ju([13,0]);
s.appendChild(this.aq1.e);this.OV=W.z("div","bordered padded noalign");s.appendChild(this.OV);this.bL=new fa([12,44],[[12,45],[12,46],[12,47]]);
this.bL.W(k.E.o,this.sG,this);this.OV.appendChild(this.bL.e);this.O1=new bw(!0);this.O1.parent=this;
this.O1.W(k.E.o,this.sG,this);this.OV.appendChild(this.O1.e);this.mf=new ij([12,40],0,100,"%");this.mf.parent=this;
this.mf.W(k.E.o,this.sG,this);this.OV.appendChild(this.mf.e);this.eE=new aa([5,4],!1,null,!0);this.eE.W("click",this.a53,this);
this.OV.appendChild(this.eE.e);var s=this.wd;this.dQ=new ij("Roughness",0,100,"%");this.dQ.W(k.E.o,this.sG,this);
this.dQ.parent=this;s.appendChild(this.dQ.e);s.appendChild(this.xJ);this.xS=new aa([25,1,2],!1,null,!0);
this.xS.W("click",this.sG,this);s.appendChild(this.xS.e);this.Wu=W.y1(this);this.W("closebtn",this.VX,this)}g2.prototype=new dH;
g2.prototype.VX=function(s){if(this.OF)this.g7(this.I$)};g2.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.B_.N();this.a6.N();this.aq1.N();this.Vm.N();this.eE.N();this.nh.N();this.MW.N();this.bL.N();
this.mf.N();this.xS.N()};g2.prototype.wy=function(s,N){this.EI=s};g2.prototype.sV=function(s,N){this.S9=JSON.parse(JSON.stringify(N.i));
this.I$=JSON.parse(JSON.stringify(N.i));this.Bv=this.oW=null;this.g7=N.Rc;this.OF=!1;this.hb=N.mt;this.fs();
this.YA()};g2.prototype.Nv=function(s){var N=this.S9;this.g7(N);this.close()};g2.prototype.KR=function(s){return s==cK.Ih||s==cK.kM};
g2.prototype.Rt=function(s,N,r,S){if(S.t(cK.Ih)||S.t(cK.kM)){if(this.oW)this.ai1();if(this.Bv)this.a53()}};
g2.prototype.ai1=function(s){var N=this.S9.Trns.v;if(this.oW==null||N.length==1)return;N.splice(N.indexOf(this.oW),1);
this.oW=null;this.fs();this.YA()};g2.prototype.a53=function(s){var N=this.S9.Clrs.v;if(this.Bv==null||N.length==1)return;
N.splice(N.indexOf(this.Bv),1);this.Bv=null;this.fs();this.YA()};g2.prototype.fs=function(){var s=this.I,N=this.IM,r=W.Z();
s.width=Math.floor(410*r);s.height=Math.floor(70*r);W.UY(s,s.width,s.height);s.style.marginTop="8px";
this.pE=new hq(0,0,Math.floor(380*r),Math.floor(32*r));this.pE.x=Math.floor((s.width-this.pE.G)/2);this.pE.y=Math.floor((s.height-this.pE.n)/2);
var S=this.pE,z=S.G,A=S.n,B=S.x,Y=S.y,t=new hq(0,0,z,A),p=N.getImageData(0,0,z,A),f=new Uint8Array(p.data.buffer);
q.nD(f,z,A,8);var a=q.m(z*A*4);q.i.Mf(this.S9,a,t,[1/z,0,0,1/A],z/2,A/2,!1,0,this.EI.Hd,this.EI.on);
q.Q.VP("norm",a,S,f,S,S,1);N.clearRect(0,0,s.width,s.height);N.putImageData(p,B,Y);var D=this.S9;if(D.Clrs){var c=D.Trns.v,J=D.Clrs.v,Z=q.i.lV(J,this.EI.Hd,this.EI.on),Q=Math.round(6*W.Z()),M=Math.round(14*W.Z()),u=this.oW?this.oW.v:null,P=this.Bv?this.Bv.v:null;
for(var l=0;l<c.length;l++){var m=c[l].v,i=Math.round(255-255*m.Opct.v.val/100);if((m==u||c[l-1]&&c[l-1].v==u||l==this.Qi)&&l!=0){N.fillStyle="#000000";
N.fillRect(B-3+z*(c[l-1].v.Lctn.v+(m.Lctn.v-c[l-1].v.Lctn.v)*m.Mdpn.v/100)/4096,Y-6-2,6,6)}if(m==u){N.fillStyle="#ffffff";
N.fillRect(B-Q+z*(m.Lctn.v/4096)-2,Y-2-M-2,2*Q+4,M+4)}N.fillStyle="rgb("+i+","+i+","+i+")";N.fillRect(B-Q+z*(m.Lctn.v/4096),Y-2-M,2*Q,M)}for(var l=0;
l<J.length;l++){var e=J[l].v,X=Z[l];if((e==P||J[l-1]&&J[l-1].v==P||l==this.Gh)&&l!=0){N.fillStyle="#000000";
N.fillRect(B-3+z*(J[l-1].v.Lctn.v+(e.Lctn.v-J[l-1].v.Lctn.v)*e.Mdpn.v/100)/4096,Y+A+2,6,6)}if(e==P){N.fillStyle="#ffffff";
N.fillRect(B-Q+z*(e.Lctn.v/4096)-2,Y+A+2-2,2*Q+4,M+4)}N.fillStyle="rgb("+Math.round(X.w)+", "+Math.round(X.A)+","+Math.round(X.U)+")";
N.fillRect(B-Q+z*(e.Lctn.v/4096),Y+A+2,2*Q,M)}}if(this.hb){this.g7(this.S9);this.OF=!0}};g2.prototype.YA=function(){var s=this.S9,N=s.Clrs?0:1;
this.cY.b(N);if(W.zS(this.Ay))this.body.removeChild(this.Ay);if(W.zS(this.wd))this.body.removeChild(this.wd);
(N==0?this.Fr:this.xJ).appendChild(this.I);if(N==0){this.body.appendChild(this.Ay);this.B_.b(Math.round(100*s.Intr.v/4096));
var r=s.Trns.v,S=s.Clrs.v,z=this.oW!=null,A=this.Qi!=-1;this.nh.b4(z);this.MW.b4(z||A);this.Vm.b4(z);
if(z){this.gn.setAttribute("style","");var B=this.oW.v;this.MW.b(Math.round(100*B.Lctn.v/4096));this.nh.b(B.Opct.v.val)}if(A)this.MW.b(r[this.Qi].v.Mdpn.v);
var z=this.Bv!=null,A=this.Gh!=-1;this.bL.b4(z);this.O1.b4(z);this.mf.b4(z||A);this.eE.b4(z);if(z){this.OV.setAttribute("style","");
var Y=this.Bv.v;this.mf.b(Math.round(100*Y.Lctn.v/4096));var t=Y.Type.v.Clry;this.bL.b(["FrgC","BckC","UsrS"].indexOf(t));
if(t=="FrgC")this.O1.Cl(this.EI.Hd);if(t=="BckC")this.O1.Cl(this.EI.on);if(t=="UsrS")this.O1.b(Y.Clr.v)}if(A)this.mf.b(S[this.Gh].v.Mdpn.v)}else{this.body.appendChild(this.wd);
this.dQ.b(Math.round(100*s.Smth.v/4096))}this.body.appendChild(this.Wu.e)};g2.prototype.sG=function(s){var N=this.S9,r=N.Clrs?0:1;
if(s.target==this.cY){var S=r==0?JSON.parse(jG.ou.ali).v:hT.yS("grdm").Grad.v;this.S9=S;this.YA();this.fs();
return}if(r==0){N.Intr.v=Math.round(4096*this.B_.L()/100);var z=N.Trns.v,A=N.Clrs.v;if(this.oW!=null){var B=this.oW.v;
B.Lctn.v=Math.round(4096*(this.MW.L()/100));B.Opct.v.val=this.nh.L()}if(this.Bv!=null){var Y=this.Bv.v;
Y.Lctn.v=Math.round(4096*(this.mf.L()/100));if(s.target==this.O1)this.bL.b(2);var t=this.bL.L();Y.Type.v.Clry=["FrgC","BckC","UsrS"][t];
if(t==2)Y.Clr={t:"Objc",v:this.O1.L()};else if(Y.Clr)delete Y.Clr}if(this.Qi!=-1)z[this.Qi].v.Mdpn.v=this.MW.L();
if(this.Gh!=-1)A[this.Gh].v.Mdpn.v=this.mf.L()}else{N.Smth.v=Math.round(4096*this.dQ.L()/100);if(s.target==this.xS)N.RndS.v=Math.floor(Math.random()*4294967295)}this.fs()};
g2.prototype.U0=function(s){var N=W.WO(s,this.I),r=this.pE,S=(N.x*W.Z()-r.x)/r.G,z=(N.y*W.Z()-r.y)/r.n,A=this.S9.Trns.v,B=this.S9.Clrs.v,Y=null,t=null,p=-1,f=-1;
if(z<1)for(var l=0;l<A.length;l++){var a=A[l].v;if(Math.abs(a.Lctn.v/4096-S)<.02)Y=A[l];if(l>0)if(Math.abs((A[l-1].v.Lctn.v+(a.Lctn.v-A[l-1].v.Lctn.v)*a.Mdpn.v/100)/4096-S)<.01)p=l}if(z>0)for(var l=0;
l<B.length;l++){var D=B[l].v;if(Math.abs(D.Lctn.v/4096-S)<.02)t=B[l];if(l>0)if(Math.abs((B[l-1].v.Lctn.v+(D.Lctn.v-B[l-1].v.Lctn.v)*D.Mdpn.v/100)/4096-S)<.01)f=l}if(t==null&&Y==null&&p==-1&&f==-1){if(z<0){var a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
a.v.Lctn.v=Math.round(S*4096);A.push(a);A.sort(this.D_);Y=a}if(z>1){var B=this.S9.Clrs.v,c=q.i.lV(B,this.EI.Hd,this.EI.on),J=q.i.DB(this.S9,c,S),D={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:q.i.Sm({w:J&255,A:J>>8&255,U:J>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
D.v.Lctn.v=Math.round(S*4096);B.push(D);B.sort(this.D_);t=D}}if(t!=null)f=-1;if(Y!=null)p=-1;if(t!=null||Y!=null||p>-1||f>-1){this.oW=Y;
this.Bv=t;this.Qi=p;this.Gh=f;this.YA();this.fs();W.UT(window,this.t3);W.eA(window,this.lm)}};g2.prototype.bJ=function(s){var N=W.WO(s,this.I),r=this.pE,S=(N.x*W.Z()-r.x)/r.G,z=(N.y*W.Z()-r.y)/r.n;
S=Math.max(0,Math.min(1,S));var A=this.S9.Trns.v,B=this.S9.Clrs.v;if(this.oW!=null){var Y=this.oW.v;
Y.Lctn.v=Math.round(4096*S);var t=A.indexOf(this.oW);if(t!=-1&&z<-1&&A.length>1)A.splice(t,1);if(t==-1&&z>-1)A.push(this.oW);
A.sort(this.D_)}if(this.Bv!=null){var p=this.Bv.v;p.Lctn.v=Math.round(4096*S);var f=B.indexOf(this.Bv);
if(f!=-1&&z>2&&B.length>1)B.splice(f,1);if(f==-1&&z<2)B.push(this.Bv);B.sort(this.D_)}if(this.Qi>-1){var Y=A[this.Qi].v;
Y.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(S*4096-A[this.Qi-1].v.Lctn.v)/(Y.Lctn.v-A[this.Qi-1].v.Lctn.v))))}if(this.Gh>-1){var p=B[this.Gh].v;
p.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(S*4096-B[this.Gh-1].v.Lctn.v)/(p.Lctn.v-B[this.Gh-1].v.Lctn.v))))}if(this.oW!=null||this.Bv!=null||this.Qi>-1||this.Gh>-1){this.YA();
this.fs()}};g2.prototype.U$=function(s){W.nP(window,this.t3);W.tp(window,this.lm);if(Date.now()-this.EA<300){if(this.Gh!=-1||this.Qi!=-1){var N=(this.Gh!=-1?this.S9.Clrs.v[this.Gh]:this.S9.Trns.v[this.Qi]).v;
N.Mdpn.v=50;this.YA();this.fs()}else if(this.Bv!=null)this.O1.vd()}this.EA=Date.now()};g2.prototype.D_=function(s,N){return s.v.Lctn.v-N.v.Lctn.v};
function aT(){dH.call(this,[11,10],"isize");this.ml=W.z("div","form");this.ml.setAttribute("style","width:20em");
this.body.appendChild(this.ml);this._M=new bH(!0,!0,null,null,!0);this.ml.appendChild(this._M.e);this.Ln=new d1([12,25,3]);
this.Ln.b(!0);this.ml.appendChild(this.Ln.e);this.Ln.W(k.E.o,this.ao6,this);this.QO=new fa([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.QO.b(1);this.ml.appendChild(this.QO.e);this.Wu=W.y1(this,this.body)}aT.prototype=new dH;aT.prototype.iG=function(s,N){return s!=null};
aT.prototype.YJ=function(){return!0};aT.prototype.ao6=function(s){var N=this.Ln.L(),r=this._M,S=this.QO;
if(N)S.WT();else S.sK();if(N)r.a5m();else r.agg()};aT.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.QO.N();this._M.N()};aT.prototype.Nv=function(s){this.close();var N=this._M.L(),r=N.x,S=N.y,z=this.QO.L();
if(!this.Ln.L())z=null;var A=new hU(k.E.gu,!0);A.data=K.Vg.G2(r,S,this._M.X7(),z);this.c(A)};aT.prototype.sV=function(s,N){this._M.b(new cR(s.G,s.n),s.FD);
this._M.aS()};function j6(){dH.call(this,"Import RAW","importraw");var s=W.z("div","flexrow"),N=W.z("div");
N.setAttribute("style","margin-bottom: 1em");this.body.appendChild(s);this.body.appendChild(N);var r=W.z("div","form");
r.setAttribute("style","width:18em");s.appendChild(r);var S=W.z("div","form");S.setAttribute("style","width:15em");
s.appendChild(S);this.p2=null;this.iT=null;this.Wj=null;this.m9=null;this.a4F=[];var z=[];for(var l=0;
l<j6.HA.length;l++)z.push(j6.HA[l]+" Bits");var A=this.XY=[new bH(!0,null,null,!0),new ij([12,72],1,8),new d1("Last one is Transparency"),new gI([12,34],z),new gI("Byte Order",["12-34","34-12"]),new fa("Guesses",[])];
for(var l=0;l<A.length;l++){var B=A[l];B.parent=this;B.W(k.E.o,l==5?this.af$:this.U_,this);var Y=l==0?r:l==5?N:S;
Y.appendChild(B.e)}this.I=W.z("canvas");this.IM=this.I.getContext("2d");this.body.appendChild(this.I);
this.Wu=W.y1(this,this.body)}j6.prototype=new dH;j6.prototype.N=function(){dH.prototype.N.call(this);
var s=this.XY;this.Wu.N();for(var l=0;l<s.length;l++)s[l].N()};j6.prototype.Nv=function(s){this.close();
var N=this.XY[0].L(),r=hg.i0(this.iT,[{data:this.Wj,zC:new hq(0,0,N.x,N.y)}]);if(this.m9)r.Aa=this.m9;
var S=new hU(k.E.Y,!0);S.data={d:!0?k.s.Ap:k.s.Rk,jO:r};this.c(S)};j6.HA=[8,16];j6.prototype.sV=function(s,N){this.p2=new Uint8Array(N.bm);
this.iT=N.Ff;var r=this.p2.length,S=[1,3,4],z=0,A=0,B=1,Y=1,t=this.a4F=[];for(var p=0;p<3;p++){for(var f=0;
f<2;f++){var a=j6.HA[f],D=S[p],c=D*a,J=Math.round(r*8/c);if(J!=r*8/c)continue;for(var Z=0;Z<=4e3;Z++)for(var Q=0;
Q<=4e3;Q++)if(Z*Q==J){var M=0;if(Z==Q)M+=64;if(Math.round(Z/100)==Z/100&&Math.round(Q/100)==Q/100)M+=32;
if(Math.round(Z/10)==Z/10&&Math.round(Q/10)==Q/10)M+=16;if(Math.round(Z/2)==Z/2&&Math.round(Q/2)==Q/2)M+=8;
t.push([Z,Q,D,a,M])}}}var u=function(e,X){if(X[4]!=e[4])return X[4]-e[4];var $=Math.max(e[0],e[1])/Math.min(e[0],e[1]),O=Math.max(X[0],X[1])/Math.min(X[0],X[1]);
if($!=O)return $-O;return X[0]-e[0]};t.sort(u);var P=this.XY,m=[];for(var l=0;l<t.length;l++){var i=t[l];
m.push(i[0]+" x "+i[1]+", "+i[2]+"ch, "+i[3]+"-bit")}P[5].dO(m);P[5].b(0);this.af$(null)};j6.prototype.af$=function(s){var N=this.XY,r=this.a4F[this.XY[5].L()];
N[0].b(new cR(r[0],r[1]),72);N[1].b(r[2]);N[3].b(j6.HA.indexOf(r[3]));this.U_()};j6.prototype.U_=function(s){var N=this.XY,r=N[0].L(),S=r.x,z=r.y,A=j6.HA[N[3].L()],B=this.p2;
if(A==16&&N[4].L()==1){B=B.slice(0);for(var l=0;l<B.length;l+=2){var Y=B[l];B[l]=B[l+1];B[l+1]=Y}}var t=this.Wj=this.LG(B,S,z,N[1].L(),A,N[2].L()),p=this.I,f=this.IM,a=[t,new hq(0,0,S,z)];
q.Ia(a);for(var l=0;l<a.length;l+=2)if(a[l+1].n<300){t=a[l];S=a[l+1].G;z=a[l+1].n;break}p.width=S;p.height=z;
W.UY(p,S,z);var D=new ImageData(new Uint8ClampedArray(t.buffer),S,z);f.putImageData(D,0,0)};j6.prototype.LG=function(s,N,r,S,z,A){this.m9=null;
var B=[],Y=N*r;for(var t=0;t<S;t++){var p=q.m(Y);B.push(p);if(z==8)for(var l=0;l<Y;l++)p[l]=s[l*S+t];
else if(z==16)for(var l=0;l<Y;l++)p[l]=Math.round((s[(l*S+t)*2]<<8|s[(l*S+t)*2+1])*(255/65535))}var f=q.m(Y*4);
new Uint32Array(f.buffer).fill(4278190080);if(A){q.XX(B.pop(),f,3);S--}if(S==0){}else if(S==1)q._i(B[0],f);
else{q.XX(B[0],f,0);q.XX(B[1],f,1);if(S>2){q.XX(B[2],f,2);if(S>3){this.m9=[];for(var l=3;l<S;l++){var a=new y.pk;
a.name="Alpha "+(l-2);a.rect=new hq(0,0,N,r);a.channel=B[l];this.m9.push(a)}}}}return f};function dl(s,N,r){hz.call(this);
this.e=W.z("div","");this.ac=s;this.rU=null;this.Ur=N==null?!1:N;this.Rq=null;this.aU=r;this.Wg=[];this.aN=[];
this.ZV=[];this.yf=[];this.XB=0;this.rU=this.abF(dl.yf[s]);this.gx();this.It=null;this.aau;this.ajb}dl.prototype=new hz;
dl.prototype.Vk=function(s,N,r,S,z){this.It=z;this.aau=JSON.parse(JSON.stringify(this.Rq));if(this.rU.lagl)this.ajb=this.rU.lagl.L()[0]};
dl.prototype.ud=function(s,N,r,S,z){var A=this.It,B=this.ac,Y=this.aau;if(A==null)return;var t=(z.x-A.x)/s.a.X,p=(z.y-A.y)/s.a.X;
if(B=="GrFl"){var f=JSON.parse(JSON.stringify(Y.Ofst.v));f.Hrzn.v.val+=t*.5;f.Vrtc.v.val+=p*.5;this.rU.Ofst.b(f,!0)}if(B=="patternFill"){var f=JSON.parse(JSON.stringify(Y.phase.v));
f.Hrzn.v+=t;f.Vrtc.v+=p;this.rU.phase.b(f,!0)}if(B=="DrSh"||B=="IrSh"||B=="ChFX"){var a=Y.Dstn.v.val,D=this.ajb*Math.PI/180,c=-Math.cos(D)*a+t,J=Math.sin(D)*a+p;
this.rU.Dstn.b(Math.sqrt(c*c+J*J),!0);this.rU.lagl.b([Math.atan2(J,-c)*180/Math.PI],!0)}};dl.prototype.gE=function(s,N,r,S,z){this.It=null};
dl.prototype.arX=function(){for(var l=0;l<this.yf.length;l++){W.$F(this.yf[l],"selected");if(this.ZV[l]instanceof d1)this.ZV[l].b(!1)}};
dl.prototype.aq5=function(s){var N=this.a11.bind(this);for(var l=0;l<this.ZV.length;l++){var r=W.z("div","listitem");
this.yf.push(r);if(l>0)r.textContent="\u2003";r.appendChild(this.ZV[l].e);if(jG.awU.indexOf(this.ac)!=-1){var S=new aa("+");
S.Io();S.e.style.float="right";r.appendChild(S.e);var z=new aa("\u2B0D");z.Io();z.e.style.float="right";
z.e.style["margin-right"]="2px";r.appendChild(z.e)}r.addEventListener("click",N,!1);s.appendChild(r)}};
dl.Xx=function(s,N){var r=N.getBoundingClientRect();return(s.clientY-r.top)/r.height};dl.prototype.a11=function(s){var N=s.target.tagName.toLowerCase();
if(N=="input"){return}if(N=="button"){var r=new hU(k.E.r,!0),S=s.target.textContent=="+",z=S?0:dl.Xx(s,s.target)<.5?-1:1;
if(S)r.data={d:"st_dupsingle",j:this.parent.data.j,VY:this.aU};else r.data={d:"st_movsingle",j:this.parent.data.j,VY:this.aU,a5y:z};
r.k=K.dl;r.rC=!0;this.c(r);r=new hU("redrawall",!0);r.data={a5y:z};this.c(r);return}W.wC(s);this.Qp();
this.XB=this.yf.indexOf(s.currentTarget);this.c(new hU("showme"))};dl.prototype.Qp=function(){if(this.rU.enab&&this.rU.enab.L()==!1)this.Bs({tt:"enab",h:!0})};
dl.prototype.aa$=function(){var s=this.yf[this.XB];if(s)W.Bc(s,"selected");return this.aN[this.XB]};
dl.prototype.abF=function(s){var N={};for(var l=0;l<s.length;l++){var r=s[l],S=null;if(r=="----")S={e:W.z("hr")};
if(r=="\n")S={e:W.z("br")};if(r=="blOptions")S=new ju([14,10]);if(r=="brst")S=new di([12,72],["R","G","B"]);
if(r=="knko")S=new fa("Knockout",[[13,1,0],"Shallow","Deep"]);if(r=="enab")S=new d1(jG.names[jG.order.indexOf(this.ac)]);
if(r=="lrMd"||r=="Md")S=new fa([12,19,0],bm.bN,!1,bm.Ew);if(r=="Opct")S=new fM([12,0],0,100,"%");if(r=="iOpa")S=new fM([12,26],0,100,"%");
if(r=="blIf")S=new fV;if(r=="ShdN")S=new fM([12,68],0,100,"%");if(r=="lagl"||r=="Angl")S=new fK([12,15],this.ac=="ebbl");
if(r=="uglg")S=new d1([12,27]);if(r=="Dstn")S=new fM([12,28],0,200,"px");if(r=="Ckmt")S=new fM([12,29],0,100,"%");
if(r=="blur")S=new fM([12,14,0],0,200,"px");if(r=="TrnS"||r=="MpgS")S=new iE([12,21]);if(r=="Nose")S=new fM([12,30],0,100,"%");
if(r=="layerConceals")S=new d1([12,31]);if(r=="AntA"||r=="antialiasGloss")S=new d1([12,25,1]);if(r=="GlwT")S=new fa([12,32],jG.UQ.names);
if(r=="glwS")S=new fa([12,70],jG.UQ.apB);if(r=="Inpr")S=new fM([12,12],1,100,"%");if(r=="bvlS")S=new fa([12,22],jG.Ym.style);
if(r=="bvlT")S=new fa([12,32],jG.Ym.ai0);if(r=="bvlD")S=new fa(null,jG.Ym.dir);if(r=="srgR")S=new fM([12,34],0,1e3,"%");
if(r=="Sftn")S=new fM([12,35],0,20,"px");if(r=="Lald")S=N.lagl;if(r=="hglM"||r=="sdwM")S=new fa([12,36],bm.bN,!1,bm.Ew);
if(r=="hglC"||r=="sdwC")S=new bw;if(r=="hglO"||r=="sdwO")S=new fM([12,0],0,100,"%");if(r=="Invr"||r=="InvT")S=new d1([4,11]);
if(r=="Sz")S=new fM([12,14,0],1,200,"px");if(r=="Styl")S=new fa([12,40],jG.stroke.names);if(r=="PntT")S=new fa([12,66],jG.stroke.alh);
if(r=="Clr")S=new bw(!0);if(r=="Grad"){S=new b3(!0,[12,37],!0);S.b(JSON.parse(jG.ou.ajP).v)}if(r=="Rvrs")S=new d1([12,23,0]);
if(r=="Dthr")S=new d1([12,23,3]);if(r=="Type")S=new fa([12,22],jG.i.names.slice(0,this.ac=="FrFX"?6:5));
if(r=="Ptrn")S=new eM([12,62]);if(r=="Scl")S=new fM([12,38],5,500,"%",0,!0);if(r=="Algn")S=new d1([12,39]);
if(r=="Ofst")S=new bo(!0);if(r=="phase")S=new bo(!1);if(r=="useShape")S=new d1([12,21]);if(r=="useTexture")S=new d1([12,67]);
if(r=="textureDepth")S=new fM([12,34],-300,300,"%");var z=r=="----"||r=="\n"?r+l:r;if(S!=null)N[z]=S}return N};
dl.prototype.afb=function(s){var N=this.aN[this.XB];for(var l=0;l<s.length;l++){var r=this.rU[s[l]];
if(r&&N.contains(r.e))N.removeChild(r.e)}};dl.prototype.abh=function(s){var N=this.aN[this.XB];for(var l=0;
l<s.length;l++){var r=this.rU[s[l]];if(r&&!N.contains(r.e))N.appendChild(r.e)}};dl.prototype.wy=function(s,N){if(this.rU==null)return;
var r=N==eq.pM;if(this.rU.Grad){this.rU.Grad._B(s.Hd,s.on);if(r||N==eq.rg||N==eq.If)this.rU.Grad.da(s.Ys)}if(this.rU.Ptrn){if(r||N==eq.gg)this.rU.Ptrn.da(s.dj)}if(this.rU.TrnS){if(r||N==eq.N7)this.rU.TrnS.da(s.rj)}if(this.rU.MpgS){if(r||N==eq.N7)this.rU.MpgS.da(s.rj)}};
dl.prototype.N=function(){for(var l=0;l<this.Wg.length;l++)this.Wg[l].N();for(var s in this.rU)if(this.rU[s]instanceof hz)this.rU[s].N()};
dl.prototype.gx=function(){for(var s in this.rU){var N=this.rU[s];N.parent=this;if(N instanceof hz)N.W(k.E.o,this.abo,this);
if(this.aN.length==0||s=="useShape"||s=="useTexture"){var r=new ju(N.afy()),S=W.z("div","bordered padded");
if(this.Ur==!1){S.appendChild(r.e);S.appendChild(W.z("hr",""))}this.Wg.push(r);this.aN.push(S);this.ZV.push(N)}else this.aN[this.aN.length-1].appendChild(N.e)}};
dl.prototype.update=function(s,N){if(this.rU==null)return;this.Rq=JSON.parse(JSON.stringify(N));for(var r in N){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(r)!=-1)this.rU[r].b(N[r].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(r)!=-1){this.rU[r].b(N[r].v,s)}if(["Md","hglM","sdwM"].indexOf(r)!=-1)this.rU[r].b(bm.ac.indexOf(N[r].v.BlnM));
if(r=="lrMd"){var S=(N.Ob?[[15,10,27]]:[]).concat(bm.bN),z=(N.Ob?[1]:[]).concat(bm.Ew);this.rU[r].dO(S,z);
this.rU[r].b(N[r].v)}if(r=="Angl")this.rU[r].b([N[r].v.val]);if(r=="lagl"){var A=N.uglg&&N.uglg.v?s.sY():N.lagl.v.val;
this.rU[r].b([A])}if(r=="Lald"){var A=N.uglg&&N.uglg.v?s.b9():N.Lald.v.val;this.rU[r].b([null,A])}if(r=="Type")this.rU[r].b(jG.i.types.indexOf(N.Type.v.GrdT));
if(r=="Styl")this.rU[r].b(jG.stroke.types.indexOf(N.Styl.v.FStl));if(r=="PntT"){var B=jG.stroke.l9.indexOf(N.PntT.v.FrFl);
this.rU[r].b(B);if(!this.Ur){this.afb(jG.IU.concat(jG.$b.concat(jG.Ba)));this.abh([jG.IU,jG.$b,jG.Ba][B])}}if(r=="GlwT")this.rU[r].b(jG.UQ.types.indexOf(N.GlwT.v.BETE));
if(r=="glwS")this.rU[r].b(jG.UQ.alV.indexOf(N.glwS.v.IGSr));if(r=="bvlS")this.rU[r].b(jG.Ym.types.indexOf(N.bvlS.v.BESl));
if(r=="bvlT")this.rU[r].b(jG.Ym.ahZ.indexOf(N.bvlT.v.bvlT));if(r=="bvlD")this.rU[r].b(["In","Out"].indexOf(N.bvlD.v.BESs))}};
dl.prototype.abo=function(s){for(var N in this.rU){if(this.rU[N]!=s.target)continue;var r=null,S=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(N)!=-1)r={type:"#Prc",val:s.target.L()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(N)!=-1)r={type:"#Pxl",val:s.target.L()};if(["Angl","lagl"].indexOf(N)!=-1)r={type:"#Ang",val:s.target.L()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(N)!=-1)r=s.target.L();
if(["Md","hglM","sdwM"].indexOf(N)!=-1)r={BlnM:bm.ac[s.target.L()]};if(N=="uglg"){r=s.target.L();S=!0}if(N=="PntT"){r={FrFl:jG.stroke.l9[s.target.L()]};
S=!0}if(N=="Lald")r={type:"#Ang",val:s.target.L()[1]};if(N=="Type")r={GrdT:jG.i.types[s.target.L()]};
if(N=="Styl")r={FStl:jG.stroke.types[s.target.L()]};if(N=="GlwT")r={BETE:jG.UQ.types[s.target.L()]};
if(N=="glwS")r={IGSr:jG.UQ.alV[s.target.L()]};if(N=="bvlS")r={BESl:jG.Ym.types[s.target.L()]};if(N=="bvlT")r={bvlT:jG.Ym.ahZ[s.target.L()]};
if(N=="bvlD")r={BESs:["In","Out"][s.target.L()]};this.Bs({tt:N,h:r});if(S){if(this.Ur)this.update(null,this.Rq);
else{var z=this.parent,A=z.jO,B=this.aU,Y=A.p[z.data.j].add.lmfx[jG.Um[B[0]]].v[B[1]].v;this.update(A,Y)}}}};
dl.prototype.Bs=function(s){if(this.Rq&&this.Rq[s.tt])this.Rq[s.tt].v=s.h;if(this.Ur){this.c(new hU(k.E.o))}else{s.d="changeprop";
s.j=this.parent.data.j;s.Jb=this.aU;var N=new hU(k.E.r,!0);N.data=s;N.k=K.dl;N.rC=!0;this.c(N);this.c(new hU("afterchange",!0))}};
dl.prototype.L=function(){return JSON.parse(JSON.stringify(this.Rq))};dl.yf={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(jG.IU),GrFl:["enab","Md","Opct"].concat(jG.$b),patternFill:["enab","Md","Opct"].concat(jG.Ba),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(jG.IU.concat(jG.$b.concat(jG.Ba)))};
function b4(){dH.call(this,[11,6],"layerstyle");this.a02=-1;this.data={};this.jO=null;this.tx=null;this.ez=[];
this.H9=[];W.Bc(this.body,"flexrow");this.yb=W.z("div","bordered");this.yb.setAttribute("style","min-width:13em;");
this.body.appendChild(this.yb);this.R$=W.z("div","");this.R$.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.R$);this.D4=W.z("div","form");this.D4.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.D4);this.Wu=W.y1(this,this.D4);this.ki=new aa([12,87],!0,null,!0);this.ki.W("click",this.afM,this);
this.D4.appendChild(this.ki.e);this.nU=new ek;this.nU.parent=this;this.nU.W(k.E.o,this.a51,this);this.D4.appendChild(this.nU.e);
this.W("closebtn",this.VX,this);this.W("redrawall",this.ado,this)}b4.prototype=new dH;b4.prototype.YJ=function(){return!0};
b4.prototype.vm=function(){return!0};b4.prototype.Vk=function(s,N,r,S,z){var A=this.nA();if(A)A.Vk(s,N,r,S,z)};
b4.prototype.ud=function(s,N,r,S,z){var A=this.nA();if(A)A.ud(s,N,r,S,z)};b4.prototype.gE=function(s,N,r,S,z){var A=this.nA();
if(A)A.gE(s,N,r,S,z)};b4.prototype.nA=function(s){if(s==null)s=this.data.index;return s==null?null:s==0?this.ez[0]:this.H9[s[0]][s[1]]};
b4.prototype.a51=function(s){var N=this.nU.L();this.Bs({d:"setstl",h:N.KM});this.ado(null)};b4.prototype.afM=function(s){var N=this.jO,r=this.data.j;
if(r==null)r=N.f[0];var S=this.jO.p[r],z=hC.aaI(S),A=new hU(k.E.Y,!0);A.data={d:k.s.Jl,V8:"add",LS:eq.ta,lz:[JSON.parse(JSON.stringify(z))]};
this.c(A)};b4.prototype.ahr=function(s){this.data.index=s.currentTarget.aU;this.Qz(s.currentTarget.aU)};
b4.prototype.ado=function(s){this.sV(this.jO,this.data)};b4.prototype.Qz=function(s,N){W.o3(this.R$);
for(var l=0;l<this.ez.length;l++)this.ez[l].arX();var r=this.nA(s);this.R$.appendChild(r.aa$());if(N)r.Qp();
var S=this.jO;if(S){var z=S.p[this.data.j];this.ez[0].update(S,K.gH.Au(S,z));var A=z.add.lmfx;if(A==null)return;
for(var l=0;l<jG.order.length;l++){var B=A[jG.Um[l]].v;for(var Y=0;Y<B.length;Y++)this.H9[l][Y].update(S,B[Y].v)}}if(N)r.Qp()};
b4.prototype.N=function(){dH.prototype.N.call(this);this.ki.N();this.nU.N();this.Wu.N();for(var l=0;
l<this.ez.length;l++)this.ez[l].N()};b4.prototype.sV=function(s,N){var r=N.j==null;this.data.j=N.j;this.data.index=N.index;
N=this.data;this.jO=s;if(r)N.j=s.f.length==0?s.p.length-1:s.f[0];W.o3(this.yb);var S=s.p[N.j].add.lmfx;
this.rk();this.ez=[new dl("bops",!1,0)];this.H9=[];for(var l=0;l<jG.order.length;l++){this.H9.push([]);
var z=S==null?[]:S[jG.Um[l]].v;for(var A=0;A<z.length;A++){var B=new dl(jG.order[l],!1,[l,A]);this.ez.push(B);
this.H9[l].push(B)}if(z.length==0){var B=new dl(jG.order[l],!1,[l,0]);this.ez.push(B);this.H9[l].push(B)}}this.N();
this.awc(this.tx,eq.pM);for(var l=0;l<this.ez.length;l++){this.ez[l].parent=this;this.ez[l].aq5(this.yb);
this.ez[l].W("showme",this.ahr,this)}if(N.index==null||N.index==0||!r&&S[jG.Um[N.index[0]]].v.length==0){this.Qz(0)}else this.Qz(N.index,r);
this.W("afterchange",this.rk,this)};b4.prototype.rk=function(s){var N=this.jO,r=this.data.j;if(r==null)r=N.f[0];
var S=this.jO.p[r],z=hC.aaI(S);this.nU.b(z,N.add.Patt?N.add.Patt:[],N.sY(),N.b9())};b4.prototype.wy=function(s,N){this.tx=s;
this.awc(s,N);if(N==eq.ta||N==eq.pM){this.nU.da([s.DE,s.dj])}if(N==eq.ne){}};b4.prototype.awc=function(s,N){for(var l=0;
l<this.ez.length;l++)this.ez[l].wy(s,N)};b4.prototype.VX=function(s){this.Bs({d:"cancel"})};b4.prototype.Nv=function(s){this.Bs({d:"confirm"});
this.close()};b4.prototype.Bs=function(s){s.j=this.data.j;var N=new hU(k.E.r,!0);N.data=s;N.k=K.dl;N.rC=!0;
this.c(N);this.rk()};b4.n6=function(s){var N=[{name:[14,10],Al:!0}];for(var l=0;l<jG.names.length;l++)N.push({name:jG.names[l]});
if(s){N[N.length-1].Al=!0;N.push({name:"Scale Effects",K:function(r){return{K:r!=null&&r.f.length!=0&&r.p[r.f[0]].rF()}}});
N.push({name:["VAR0 VAR1",[12,49],[9,1]],K:function(r){return{K:r!=null&&r.f.length!=0&&r.p[r.f[0]].add.lmfx!=null}}})}return N};
b4.Ik=function(s){var N=[{O:k.E.Y,M:{d:k.s.Pv,ic:"layerstyle"}}];for(var l=0;l<jG.names.length;l++)N.push({O:k.E.Y,M:{d:k.s.Pv,ic:"layerstyle",index:[l,0]}});
if(s){N.push({O:k.E.Y,M:{d:k.s.Pv,ic:"scaleeffects",kj:100,ap:{O:k.E.r,k:K.dl,M:{d:"scaleeffects"}}}});
var r={classID:"Mk",null:dv.kY("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
N.push({O:k.E.gu,M:{uU:"make",wz:r}})}return N};b4.aeD=function(s){var N=[];if(s)N.push({name:[6,48,0,0],yL:!0},{name:[6,48,0,1],yL:!0},{name:[6,48,0,2],yL:!0,Al:!0});
for(var r in ai.names)N.push({name:ai.names[r],Al:ai.avV.indexOf(r)!=-1,yL:V[r]!=null});return N};b4.tN=function(s){var N=[];
if(s){N.push({O:k.E.r,k:K.ib,M:{d:"newfill",fW:0}});for(var l=1;l<3;l++)N.push({O:k.E.gu,M:K.Oy.ku(l)})}for(var r in ai.names){var S=hT.yS(r);
if(S==null)S={};for(var z in ai.Tv)if(ai.Tv[z]==r)S.classID=z;var A={uU:"make",wz:{classID:"Mk",null:dv.kY("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:S}}}}};
N.push({O:k.E.gu,M:A})}return N};function dg(){dH.call(this,"Merge Channels","mergechannels");this.Dk=null;
var s=W.z("div","form");this.body.appendChild(s);this.XY=[];for(var l=0;l<3;l++){var N=new fa(ai.Fi[l],[]);
this.XY.push(N);s.appendChild(N.e);W.ts(s)}this.Wu=W.y1(this,s)}dg.prototype=new dH;dg.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();for(var l=0;l<3;l++)this.XY[l].N()};dg.prototype.sV=function(s,N,r,S){this.Dk=r;var z=[];
for(var l=0;l<r.length;l++)z.push(r[l].name);for(var l=0;l<3;l++){var A=this.XY[l];A.dO(z);A.b(Math.min(l,r.length-1))}};
dg.prototype.Nv=function(s){var N=this.Dk,r=N[0],S=new hU(k.E.gu,!0);S.data=a2.OR(r.G,r.n,r.FD,"Merged Document","Wht",!1);
this.c(S);var z=[];for(var l=0;l<3;l++)z.push(N[this.XY[l].L()].r9());var r=N[N.length-1],A=r.p[0],B=A.buffer;
for(var l=0;l<B.length;l+=4){B[l]=z[0][l];B[l+1]=z[1][l];B[l+2]=z[2][l]}A.V();r.V();this.close()};function hb(){dH.call(this,[1,10],"script");
var s=W.z("div","form");s.setAttribute("style","width:44em");this.body.appendChild(s);this.tx=null;this.J1=[];
this.Sz=[];this.aqM;var N=this.G4=new aa([1,2],!1,null,!0);N.W("click",this.aP,this);s.appendChild(N.e);
var r=new aa("JS Reference",!1,null,!0);r.W("click",this.a7v,this);s.appendChild(r.e);s.appendChild(new ju("Demos:").e);
this.ahi=[];var S=hb.cR;for(var l=0;l<S.length;l++){var z=new aa(S[l].bT,!1,null,!0);this.ahi.push(z);
s.appendChild(z.e);z.W("click",this.aws,this)}this.S_=W.z("textarea");W.Im(this.S_);this.S_.setAttribute("rows",16);
this.S_.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");s.appendChild(this.S_);
var A=new aa("Run",!0,null,!0);A.W("click",this.Nv,this);s.appendChild(A.e);this.bx=W.z("div");s.appendChild(this.bx)}hb.prototype=new dH;
hb.prototype.N=function(){this.G4.N()};hb.prototype.aP=function(){var s=this.aqM;if(s==null)s="script.jsx";
var N=new hU(k.E.Y,!0);N.data={d:k.s.Pv,ic:"namewindow",kj:s.slice(0,s.length-4),JN:this.as5.bind(this)};
this.c(N)};hb.prototype.as5=function(s){var N=this.S_.value,r=U.et(N),S=new hU(k.E.Y,!0);S.data={d:k.s.Gf,bm:r.buffer,aM:s+".jsx",agT:!0};
this.c(S)};hb.prototype.aoV=function(s){var l=this.J1.indexOf(s.target),N=this.aqM=this.Sz[l],r=this.tx.ZX.E3[N],S=new Uint8Array(r),z=U.uE(S,0,S.length);
this.S_.value=z};hb.prototype.sV=function(s,N,r){this.S_.value=hb.cR[0].Cs;this.aen()};hb.prototype.aen=function(){var s=this.tx.ZX,N=this.bx;
W.o3(N);this.J1=[];this.Sz=[];N.textContent="Saved scripts: ";for(var r in s.E3){if(r.endsWith(".jsx")){var S=new aa(r,!1,null,!0);
this.J1.push(S);this.Sz.push(r);S.W("click",this.aoV,this);N.appendChild(S.e)}}};hb.prototype.wy=function(s,N){this.tx=s;
if(N==eq.mo)this.aen()};hb.prototype.a7v=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.TL,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(N)};hb.prototype.Nv=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.nF,j_:this.S_.value};this.c(N)};
hb.prototype.aws=function(s){var N=this.ahi.indexOf(s.currentTarget);this.S_.value=hb.cR[N].Cs};hb.cR=[{bT:"Hello",Cs:"\nalert(\"Hello Photopea!\");\n"},{bT:"Process Layers",Cs:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{bT:"Clone Layers",Cs:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function aX(){dH.call(this,[11,7],"newproject");this.data=null;this.Dk=null;var s=W.z("div","flexrow");
this.ww=s;this.body.appendChild(s);var N=W.z("div","form");this.ml=N;s.appendChild(N);this.wP=new aW([12,48],null,10);
N.appendChild(this.wP.e);W.ts(N);this._M=new bH(!0,null,null,null,!0);this._M.b(new cR(1280,720),72);
this._M.W(k.E.o,this.Js,this);N.appendChild(this._M.e);this.BL=new cq;this.BL.parent=this;N.appendChild(this.BL.e);
this.K9=new aa("\u02C5",null,[0,14],!0);this.K9.W("click",this.xt,this);N.appendChild(this.K9.e);var r=this.agN=W.z("span");
N.appendChild(r);r.style.display="none";this.a9Q=new fa([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
r.appendChild(this.a9Q.e);this.cQ=new d1([1,16,1]);r.appendChild(this.cQ.e);this.Wu=new aa([12,49],!0,null,!0);
this.Wu.W("click",this.Nv,this);N.appendChild(this.Wu.e);var S=aX.p2,z=[];for(var l=0;l<S.length;l++)z.push(S[l].name);
this.IO=new gI(null,z);this.IO.W(k.E.o,this.a2z,this);N.appendChild(this.IO.e);this.IO.e.style["margin-top"]="1em";
this.T0=new j7(!0);this.T0.W(k.E.o,this.avd,this);N.appendChild(this.T0.e);this.a2z();this.c0=new jQ;
this.c0.parent=this;this.c0.e.setAttribute("style","margin-left:1em");this.c0.W("tempready",this.a4Z,this)}aX.prototype=new dH;
aX.prototype.xt=function(s){var N=this.agN,r=N.style.display!="none";N.style.display=r?"none":"";this.K9.wp(r?"\u02C5":"\u02C4");
this.uw(this.s7,this.JY)};aX.prototype.wy=function(s,N){this.c0.wy(s)};aX.prototype.Pr=function(s,N){return new cR(Math.max(0,Math.min(70,(s-690)/2)),s>N?Math.max(0,Math.min(50,(N-400)/2)):0)};
aX.prototype.uw=function(s,N){this.s7=s;this.JY=N;this.ml.setAttribute("style","width:"+Math.min(s-24,338)+"px");
this.T0.e.style.height=N-248-(this.agN.style.display=="none"?0:28)+"px";var r=this.c0.e,S=r.parentNode;
if(s<500){if(S!=null)this.ww.removeChild(r)}else{if(S==null)this.ww.appendChild(r);this.c0.uw(s-378,N-28)}};
aX.prototype.Js=function(){this.c0.b(this._M.L())};aX.prototype.avd=function(s){var N=this.T0.L()[0],r=aX.p2[this.IO.L()].hm[N],S=r[4];
if(S==0)S=72;var z=r[1],A=r[2],B=["px","%","mm","in"].indexOf(r[3]),Y=[1,1,25.4/S,1/S][B];z/=Y;A/=Y;
this._M.b(new cR(Math.round(z),Math.round(A)),S);this._M.akr(B);this.Js()};aX.prototype.a2z=function(s){var N=aX.p2[this.IO.L()].hm,r=[],S=[],z=Math.round(106*W.Z()),A=Math.round(106*W.Z()),B=0;
for(var l=0;l<N.length;l++)B=Math.max(B,N[l][1],N[l][2]);for(var l=0;l<N.length;l++){var Y=N[l],t=Y[1]+" x "+Y[2]+" "+Y[3];
if(Y[3]=="in")t=(Y[1]*25.4).toFixed(0)+" x "+(Y[2]*25.4).toFixed(0)+" mm";if(Y[3]=="mm")t=(Y[1]/25.4).toFixed(1)+" x "+(Y[2]/25.4).toFixed(1)+" in";
if(Y[4])t=t+" @ "+Y[4]+" ppi";S.push(t);r.push(aX.ty(Y,z,A,B))}this.T0.en(r,S,z,A)};aX.ty=function(s,N,r,S){var z=W.z("canvas",""),A=z.getContext("2d");
z.width=N;z.height=r;var B=Math.round(N/8),Y=Math.floor(11*W.Z()),t=s[1],p=s[2];A.fillStyle="#000000";
A.font=Math.round(Y*.9)+"px \"Open Sans\", Sans-Serif";var f=t+" x "+p+" "+s[3],a=A.measureText(f);A.fillText(f,Math.round((N-a.width)/2),r-Math.round(B/2));
if(s[0]!=null){A.font="bold "+Y+"px \"Open Sans\", Sans-Serif";var f=s[0],a=A.measureText(f);A.fillText(f,Math.round((N-a.width)/2),r-Math.round(B/2)-Math.round(Y*1.3))}r-=Math.round(2.5*Y);
var D=Math.min((N-B)/t,(r-B)/p);D*=.5+.5*(Math.max(t,p)/S);var c=(N-t*D)/2,J=(r-p*D)/2;A.strokeRect(Math.round(c)+.5,Math.round(J)+.5,Math.round(t*D),Math.round(p*D));
return z.toDataURL()};aX.prototype.N=function(){dH.prototype.N.call(this);this._M.N();this.wP.N();this.BL.N();
this.Wu.N();this.wP.b(eV.get([11,7]));this.IO.N();this.cQ.N();this.K9.N();this.c0.N()};aX.prototype.Nv=function(s){var N=this._M.L(),r=N.x,S=N.y;
this.close();var z=this.BL.L(),A=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a9Q.L()],B=new hU(k.E.gu,!0);
B.data=a2.OR(r,S,this._M.X7(),this.wP.L(),["Wht","Blck","Trns","Clr"][z[0]],this.cQ.L(),z[1],A);this.c(B);
this.auN()};aX.prototype.a4Z=function(s){var N=s.data.jO;N.FD=this._M.X7();var r=new hU(k.E.Y,!0);r.data={d:k.s.Ap,jO:N};
this.c(r);this.close();this.auN()};aX.prototype.auN=function(){var s=this.Dk[this.Dk.length-1],N=this.data.are;
if(N)jN.Xf(function(){var r=new XMLHttpRequest,S="https://www.googleapis.com/drive/v3/files?"+jN.sL();
r.open("POST",S,!0);r.setRequestHeader("Content-Type","application/json");r.addEventListener("load",function(z){var A=JSON.parse(z.target.response);
s.jA={file:A,mw:"psd"};alert(s.name+" created in Google Drive")});r.send(JSON.stringify({name:s.name,ax6:[N]}))})};
aX.prototype.sV=function(s,N,r,S){this.Dk=r;if(s!=null&&s.q!=null){var z=new hq(0,0,s.G,s.n).PS(s.q.rect);
this._M.b(new cR(z.G,z.n))}this.data=N;this.Js();if(W.Bk())fP.a6Q(this.a8i.bind(this))};aX.prototype.a8i=function(s){if(s=="granted")fP.q_(this,this.a37.bind(this))};
aX.prototype.a37=function(s,N){this._M.b(new cR(N.G,N.n))};aX.p2=[{name:"Social",hm:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],hm:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],hm:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],hm:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],hm:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],hm:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",hm:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function aS(s,N,r){dH.call(this,N,"sel_"+s);this.d=s;var S=W.z("div","form");this.body.appendChild(S);
this.wP=new ij(N,0,255,null,0,!1,!0);S.appendChild(this.wP.e);this.wP.b(1);var z=W.z("span");z.textContent=r;
S.appendChild(z);W.ts(S);this.aif=new d1("Apply at canvas bounds");if(s!="border")S.appendChild(this.aif.e);
this.Wu=W.y1(this,S)}aS.prototype=new dH;aS.prototype.iG=function(s,N){if(s==null)return;if(s.q==null)alert("No selection!");
return s.q!=null};aS.prototype.Nv=function(s){var N=new hU(k.E.gu,!0);N.data=K.eL.agQ(this.d,this.wP.L(),this.aif.L());
N.rC=!0;this.c(N);this.close()};aS.prototype.N=function(){dH.prototype.N.call(this);this.Wu.N();if(this.wP)this.wP.N()};
aS.prototype.sV=function(s,N){};function i8(s,N,r,S,z,A){dH.call(this,r,N);this.ax2=A;this.hb=z;this.p2=null;
this.ml=W.z("div","form");this.body.appendChild(this.ml);this.wP=s==0?new aW(r,null,10):s==1?new fM(r,0,500,S,1):new aW(r,null,24,5);
this.wP.W(k.E.o,this.Hc,this);this.ml.appendChild(this.wP.e);this.Wu=W.y1(this,this.ml);this.W("closebtn",this.VX,this)}i8.prototype=new dH;
i8.prototype.Pr=function(s,N){return new cR(Math.max(0,Math.min(150,(s-250)/2)),Math.max(0,Math.min(150,(N-120)/2)))};
i8.prototype.YJ=function(){return this.ax2};i8.prototype.Hc=function(s){var N=this.wP.L();if(this.hb)this.Tf(N)};
i8.prototype.VX=function(s){if(this.hb)this.Tf("cancel")};i8.prototype.Nv=function(s){if(this.hb)this.Tf("confirm");
else this.Tf(this.wP.L());this.close()};i8.prototype.Tf=function(s){if(this.p2.JN)this.p2.JN(s);else if(this.p2.ap){var N=this.p2.ap,r=new hU(N.O,!0);
r.k=N.k;r.data=N.M;r.data.h=s;r.rC=!0;this.c(r)}};i8.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();if(this.wP)this.wP.N()};i8.prototype.sV=function(s,N){this.p2=N;this.wP.b(N.kj);this.wP.aS();
this.Hc(null)};function hj(){dH.call(this,[1,5],"open_from_url");this.Ef=null;var s=W.z("div","form");
this.body.appendChild(s);this.d7=new aW("URL",null,22);s.appendChild(this.d7.e);W.ts(s);this.U7=new gI([21,0],[[21,2],[21,1]]);
s.appendChild(this.U7.e);this.Wu=W.y1(this,s)}hj.prototype=new dH;hj.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.U7.N()};hj.prototype.sV=function(s,N,r){this.d7.aS();this.Ef=null;if(s&&r.indexOf(s)!=-1)this.Ef=r.indexOf(s)};
hj.prototype.Nv=function(s){var N=new hU(k.E.Y,!0),r=this.d7.L();N.data={d:k.s.k3,LS:{url:r,PD:!0,Ef:this.U7.L()==1?this.Ef:null}};
this.c(N);this.close()};function ff(){dH.call(this,[12,79],"preferences");this.tx=null;var s=W.z("div","form");
this.body.appendChild(s);this.yf=[new d1([8,2]),new d1([8,4]),new fa([12,80,3],[[12,93,3],[12,80,4]]),new fM([12,80,5],1,100,null,2),new fa(null,q.HR.ft),new fa([12,80,6],q.HR.ft),new d1("Remind me to save")];
for(var l=0;l<this.yf.length;l++){var N=this.yf[l];s.appendChild(N.e);if(l!=3)W.ts(s);N.W(k.E.o,this.fy,this)}}ff.prototype=new dH;
ff.prototype.N=function(){dH.prototype.N.call(this);for(var l=0;l<this.yf.length;l++)this.yf[l].N()};
ff.prototype.sV=function(s,N,r){};ff.prototype.wy=function(s,N){this.tx=s;this.yf[0].b(s.Hl.K0);this.yf[1].b(s.Hl.fl);
this.yf[2].b(s.Hl.Jg);this.yf[3].b(s.Hl.ws);this.yf[4].b(s.Hl.y7);this.yf[5].b(s.Hl._c);this.yf[6].b(s.Tj==1)};
ff.prototype.fy=function(s){var N=this.yf;if(s.target==N[6])this.tx.Tj=1-this.tx.Tj;var r=JSON.parse(JSON.stringify(this.tx.Hl));
r.K0=N[0].L();r.fl=N[1].L();r.Jg=N[2].L();r.ws=N[3].L();r.y7=N[4].L();r._c=N[5].L();if(r.y7!=4)r.ws=Math.round(r.ws);
var S=new hU(k.E.Y,!0);S.data={d:k.s.Jl,LS:eq.$H,zr:r};this.c(S)};function g$(){dH.call(this,[11,8],"saveforweb");
this.alr="";this.W("closebtn",function(){this.T8.QE()},this);this.fH=new cR(512,512);this.jO=null;this.cn=null;
this.app=null;this.tx=null;W.Bc(this.body,"flexrow");var s=W.z("div"),N=W.z("div");this.body.appendChild(s);
this.body.appendChild(N);this.OV=W.z("div","imgcont");s.appendChild(this.OV);this.T8=new bc;this.T8.uw(this.fH.x,this.fH.y);
this.vq=W.z("span");s.appendChild(this.vq);this.ml=W.z("div","form cell");this.ml.setAttribute("style","width:15em; padding-left:1em;");
N.appendChild(this.ml);this.HF=new fa([12,50],hg.ed());this.ml.appendChild(this.HF.e);this.HF.W(k.E.o,this.J$,this);
this.qM=new aW([12,48],".www",7.7);this.ml.appendChild(this.qM.e);this._M=new bH(!0,!0,!1,!0);this._M.W(k.E.o,this.J$,this);
this.ml.appendChild(this._M.e);this.lM=new js;this.lM.W(k.E.o,this.J$,this);this.ml.appendChild(this.lM.e);
this.lB=new aa([1,2],!0,null,!0);this.lB.W("click",this.Nv,this);this.ml.appendChild(this.lB.e)}g$.prototype=new dH;
g$.prototype.iG=function(s,N){return s!=null};g$.prototype.N=function(){dH.prototype.N.call(this);this._M.N();
this.HF.N();this.lM.N();this.lB.N()};g$.prototype.Nv=function(s){var N=this.qM.L().trim(),r=hg.ed()[this.HF.L()],S=r=="JPG"||r=="PNG"||r=="GIF",z=hg.Pp(r),A="."+r.toLowerCase(),B=this.cn,Y=N+A,t=this.jO,p=t.DF,f=this.lM.L();
if(t.a8())f.pop();if(p.length!=0&&S&&f.pop()){var a="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",D=[],c={},J=new hq(0,0,t.G,t.n),Z=t.r9();
for(var l=0;l<p.length;l++)D.push(K.vf.z_(p,l));D.reverse();var Q=q.rect.eD([0,0,t.G,t.n],D);for(var l=0;
l<Q.length;l++){var M=Q[l],u=new hq(M[0],M[1],M[2]-M[0],M[3]-M[1]),P=M.length==5?p[M[4]].v:null,m=q.m(u.$()*4);
q.LP(Z,J,m,u);var i="img/img"+(l+1)+A;c[i]=new Uint8Array(z.Bj([[m.buffer,0]],u.G,u.n,f));a+="<div style=\"background-image:url('"+i+"'); left:"+u.x+"px; top:"+u.y+"px; width:"+u.G+"px; height:"+u.n+"px\">";
if(P&&P.url.v!="")a+="\n\t<a href=\""+P.url.v+"\" target=\""+P.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
a+="</div>\n"}a+="</body>\n</html>\n";var e=q.m(Math.round(a.length*1.5)),X=U.MD(a,e,0);c["index.html"]=e.slice(0,X);
B=UZIP.encode(c);Y=N+".zip"}else if(t.add.artd&&t.add.artd.Cnt.v>1&&S&&f.pop()){var c={},J=new hq(0,0,t.G,t.n),Z=t.r9(),$=t.root.children;
for(var l=0;l<$.length;l++){var O=$[l].j;if(O.add.artb==null||!O.ES())continue;var T=O.M5(),b=q.m(T.$()*4);
q.LP(Z,J,b,T);c[O.getName()+A]=new Uint8Array(z.Bj([[b.buffer,0]],T.G,T.n,f))}B=UZIP.encode(c);Y=N+".zip"}if(t.jI){var R=new XMLHttpRequest;
R.open("GET","/papi/img/update.php?act=1&id="+t.jI+"&rnd="+Math.random());R.send()}var w=new hU(k.E.Y,!0);
w.data={d:k.s.dJ,data:B,name:Y};this.c(w);this.T8.QE();this.close()};g$.prototype.sV=function(s,N){if(N.v_!=null)this.HF.b(N.v_);
this.jO=s;var r=this.jO.name,S=r.lastIndexOf("."),r=S==-1?r:r.slice(0,S);this.qM.b(r);var z=s.G+","+s.n;
if(z!=this.alr){this.alr=z;this._M.b(new cR(s.G,s.n),s.FD)}this.lM.aci();if(N.a0$){this._M.akr(3);this.lM.dz.PDF[2].WF.b(!0)}this.J$(null,!0)};
g$.prototype.Pr=function(s,N){return new cR(Math.max(0,Math.min(150,(s-770)/2)),Math.max(0,Math.min(150,(N-590)/2)))};
g$.prototype.uw=function(s,N){this.s7=s;this.JY=N;this.fH.x=Math.min(512,s-26-214);this.fH.y=Math.min(512,N-45);
if(this.jO==null)return;var r=this._M.L(),s=r.x,N=r.y,S=hg.ed()[this.HF.L()],z=hg.Pp(S),a="<span style=\"width:",D="display:inline-block; text-align:right;\">";
if(z.oY){var A=s,B=N,Y;if(S=="PDF"||z.rn){A=this.fH.x;B=this.fH.y}else{A=Math.min(s+20,this.fH.x);B=Math.min(N+20,this.fH.y)}this.OV.firstChild.setAttribute("style","display:block; width:"+A+"px; height:"+B+"px;")}else{if(z.rn){A=this.fH.x;
B=this.fH.y}else{var t=this.app,p=t[0].zC,A=p.G,B=p.n;this.T8.uw(Math.max(50,Math.min(A/W.Z(),this.fH.x)),Math.max(50,Math.min(B/W.Z(),this.fH.y)))}}var f=this.cn.byteLength,c=S+":"+a+64+"px;"+D+g$.gZ(f)+"</span>";
if(this.fH.x>200)c+=a+90+"px; opacity:"+.5+";"+D+f.toLocaleString()+" B</span>";this.vq.innerHTML=c};
g$.gZ=function(s){var N=s.toString(2),r=0;while(r+10<N.length)r+=10;var S=(s/Math.pow(2,r)).toFixed(1);
if(S.endsWith(".0"))S=S.slice(0,-2);var z="B KB MB GB TB PB".split(" ")[Math.floor(r/10)];return S+" "+z};
g$.prototype.wy=function(s,N){this.tx=s};g$.prototype.J$=function(s,N){var r=this.jO,S=this._M.L(),z=S.x,A=S.y,B=this.HF.L(),Y=hg.ed()[B],Q="";
this.qM.av3("."+Y.toLowerCase());var t=hg.jK(r)[0].length,p=["GIF","PNG","WEBP"].indexOf(Y)!=-1&&t>1;
if(p&&N&&(t>4&&z*A>1024*1024||z*A*t>800*800*50)){var f=1;while(Math.max(z>>>f,A>>>f)>800)f++;var a=window.confirm("Your animation is large ("+z+" x "+A+" px). Press \"OK\" to scale it to "+(100>>>f)+"%. Press \"Cancel\" to keep the size.");
if(a){this._M.b(new cR(z>>>f,A>>>f),null,!0);z=z>>>f;A=A>>>f}}var D=r.add.artd,c=D!=null&&D.Cnt.v>1,J=r.a8();
this.lM.a7m(Y,p,r.DF.length!=0,c,J!=null);var Z=this.lM.L();this.cn=hg.Lf(r,Y,z,A,Z,this.tx);if(this.cn==null){this.jO=null;
return}W.o3(this.OV);this.T8.QE();var M=hg.Pp(Y);if(M.rn){this.OV.innerHTML="<div></div>";Q+="width:0px"}else if(M.oY){var u=z,P=A,m;
if(Y=="PDF"){m=URL.createObjectURL(new Blob([this.cn],{type:"application/pdf"}))}else{m=URL.createObjectURL(new Blob([this.cn],{type:"image/svg+xml"}))}this.OV.innerHTML="<iframe src=\""+m+"\"></iframe>"}else{var i=this.app=M.LG(this.cn),e=i[0],X=e.zC,u=X.G,P=X.n;
if(e.ot){var $=ICC.R(e.ot.buffer),O=17,T=ICC.U.sampleLUT($,O);for(var l=0;l<i.length;l++){var b=new Uint8Array(i[l].data);
ICC.U.applyLUT(T,O,b,b)}}this.T8.b(i,i.length>1?Z[Z.length-3]:0);this.OV.appendChild(this.T8.e);Q="background: rgba(0,0,0,0);"}this.OV.setAttribute("style","display:block; background-size:"+16/W.Z()+"px;"+Q);
this.uw(this.s7,this.JY)};function d0(){dH.call(this,[11,13],"shortcuts");var s=this.ww=W.z("div","scrollable");
s.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(s);
this.afx()}d0.prototype=new dH;d0.prototype.N=function(){dH.prototype.N.call(this);this.afx()};d0.prototype.afx=function(){var s="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",N="",r=cK,S=r.z6,z=r.nG,A=r.nI;
N+="<h2 style=\"margin-top:0;\">Main Menu</h2>";N+=s;N+=this.bM([[0,0],"---",[1,0],[S,r.vk],[1,2],[S,r.Eq],[1,3],[z,S,r.Eq],[1,8],[A,z,S,r.Eq],[0,1],"---",[2,0],[z,S,r.kx],[2,1],[S,r.kx],[5,0],[S,r.pC],[5,1],[S,r.p6],[5,2],[S,r.n2],[2,2],"Delete",[2,3],[A,r.kM],[10,16],[A,S,r.Lo],[12,79],[S,r.zt],[3],"---",[4,1],[S,r.Mp],[4,2],[S,r.x8],[4,5],[S,r.tK],[4,11],[S,r.$K],[0,3],"---",[6,13],[z,S,r.a2],[6,49,0],[S,r.Ux],[6,6,0],[A,S,r.ET],[6,9],[S,r.ET],[6,10],[S,r.E],[0,5],"---",[7,0],[S,r.s],[7,1],[S,r.iw],[7,2],[z,S,r.$K],[0,7],"---",[8,0],[S,r.TF],[8,1],[S,r.iQ],[8,3],[S,r.tZ],[8,2],[S,r.y3],[8,4],[S,r.jx],[11,13],"?"]);
N+="</div>";N+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";N+=s;N+=this.bM(["Vertical scroll","Wheel","Horizontal scroll",[S,"Wheel"],"Zooming",[A,"Wheel"]]);
N+="</div>";N+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
N+=s;N+=this.bM([[10,11],[S],[10,7],"Space",[10,17],[S,r.IH]]);N+="</div>";N+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
N+=s;var B=d0.T,Y=[];for(var l=0;l<B.length;l+=3)if(B[l+1])Y.push(B[l],B[l+1]);Y=Y.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[S,r.se]]);
N+=this.bM(Y);N+="</div>";this.ww.innerHTML=N};d0.prototype.bM=function(s){var N="",r=!0;for(var l=0;
l<s.length;l+=2){var S=s[l],z=cK.Sr(s[l+1]);if(z==null){r=!1;continue}var A=W.Bm(eV.get(S));if(z=="---"){if(!r)N+="<br/>";
N+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+A+"</div>"}else N+="<div>"+A+" <span style=\"float:right; font-weight:bold;\">"+z+"</span> </div>";
r=!1}return N};d0.T=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function e1(){dH.call(this,[8,11,1],"soptions");this.$e=null;var s=W.z("div","form");s.style.width="20em";
this.body.appendChild(s);this.Ic={Nm:[12,48],url:"URL",null:[12,71]};this.yf={};for(var N in this.Ic){var r=new aW(this.Ic[N],null,15);
this.yf[N]=r;s.appendChild(r.e)}this.Wu=W.y1(this,s)}e1.prototype=new dH;e1.prototype.sV=function(s,N,r){var S=N.h;
this.$e=JSON.stringify(S);for(var z in this.Ic){if(S[z])this.yf[z].b(S[z].v)}};e1.prototype.Nv=function(s){var N=JSON.parse(this.$e);
for(var r in this.Ic){var S=this.yf[r].L();N[r]={t:"TEXT",v:S}}var z=new hU(k.E.r,!0);z.k=K.f0;z.data=N;
z.rC=!0;this.c(z);this.close()};e1.prototype.N=function(){dH.prototype.N.call(this);this.Wu.N()};function he(){dH.call(this,[2,3],"fill");
this.tx=null;this.IC=null;var s=W.z("div","form padded");s.style.width="22em";this.body.appendChild(s);
this.cv="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Iv=new fa([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.Iv.W(k.E.o,this.abT,this);s.appendChild(this.Iv.e);this.OV=W.z("span");s.appendChild(this.OV);this.yk=new bw;
this.yk.parent=this;this.yk.Cl(0);this.wf=new eM;this.wf.parent=this;this.QZ=new fa([12,19,0],bm.bN,!1,bm.Ew);
s.appendChild(this.QZ.e);this.JB=new fM([12,0],0,100,"%",0,!1);this.JB.b(100);s.appendChild(this.JB.e);
this.s5=new d1([13,5]);this.s5.b(!1);s.appendChild(this.s5.e);this.Wu=W.y1(this,this.body)}he.prototype=new dH;
he.prototype.iG=function(s,N){return s!=null};he.prototype.YJ=function(){return!0};he.prototype.abT=function(){var s=this.Iv.L(),N=this.yk.e,r=this.wf.e,S=this.OV;
if(s==2)S.appendChild(N);else if(S.contains(N))S.removeChild(N);if(s==7)S.appendChild(r);else if(S.contains(r))S.removeChild(r)};
he.prototype.N=function(){dH.prototype.N.call(this);this.Iv.N();this.QZ.N();this.JB.N();this.Wu.N()};
he.prototype.Nv=function(s){if(!this.IC.pu())return;var N=new hU(k.E.gu,!0),r=this.Iv.L();N.data=K.kn.ku(this.cv[r],bm.sI[this.QZ.L()],this.JB.L()/100,this.yk.L(),this.s5.L(),this.wf.L());
this.close();this.c(N)};he.prototype.sV=function(s,N){this.IC=s};he.prototype.wy=function(s,N){this.tx=s;
if(N==eq.pM||N==eq.gg){this.wf.da(s.dj);this.wf.b({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function jO(){dH.call(this,[14,9],"stroke");this.tx=null;this.ml=W.z("div","form");this.ml.setAttribute("style","width:24em");
this.body.appendChild(this.ml);this.FB=new dl("FrFX",!0);this.FB.parent=this;var s=["Sz","Styl","Md","Opct"].concat(jG.IU);
for(var l=0;l<s.length;l++){var N=this.FB.rU[s[l]].e;this.ml.appendChild(N)}this.oz=!1;this.Wu=W.y1(this,this.body)}jO.prototype=new dH;
jO.prototype.iG=function(s,N){return s!=null};jO.prototype.YJ=function(){return!0};jO.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.FB.N()};jO.prototype.Nv=function(s){var N=new hU(k.E.r,!0);N.k=K.Xk;N.data={d:"stroke",a06:this.FB.L()};
this.close();this.c(N)};jO.prototype.sV=function(s,N){if(!this.oz){var r=jG.FH[jG.order.indexOf("FrFX")];
r=JSON.parse(r);this.FB.update(s,r);this.oz=!0}var r=this.FB.L(),S=this.tx.Hd;r.Clr.v=q.i.Sm({w:S>>16&255,A:S>>8&255,U:S&255});
this.FB.update(s,r)};jO.prototype.wy=function(s,N){this.tx=s};function f5(){dH.call(this,[11,9],"textwarp");
this.yf=new gT;this.yf.W(k.E.o,this.xM,this);this.yf.parent=this;this.ml=W.z("div","form");this.ml.setAttribute("style","width:20em");
this.body.appendChild(this.ml);this.ml.appendChild(this.yf.dq.e);this.ml.appendChild(this.yf.TG.e);this.ml.appendChild(this.yf.FV.e);
this.ml.appendChild(this.yf.kV.e);this.ml.appendChild(this.yf.Tu.e);this.Wu=W.y1(this,this.ml);this.W("closebtn",this.VX,this)}f5.prototype=new dH;
f5.prototype.YJ=function(){return!0};f5.prototype.N=function(){dH.prototype.N.call(this);this.Wu.N();
this.yf.N()};f5.prototype.xM=function(s){var N=this.yf.L();this.Tf({d:"warp",Wx:N})};f5.prototype.Tf=function(s){var N=new hU(k.E.r,!0);
N.k=K.wQ;N.data=s;N.rC=!0;this.c(N)};f5.prototype.VX=function(s){this.Tf({d:"warpCancel"})};f5.prototype.Nv=function(s){this.Tf({d:"warpConfirm"});
this.close()};f5.prototype.sV=function(s,N){var r=s.p[s.f[0]];this.yf.b(r.add.TySh.Yd)};function eG(){dH.call(this,[11,12,0],"trim");
var s=this.ml=W.z("div","form");this.ml.setAttribute("style","width:22em");this.body.appendChild(this.ml);
var N=new ju("Color To Trim:");s.appendChild(N.e);this.eH=new di(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.eH.b([!0]);this.ml.appendChild(this.eH.e);var N=new ju("Sides:");s.appendChild(N.e);this.n0=new di(null,["Top","Left","Bottom","Right"]);
this.n0.b([!0,!0,!0,!0]);this.ml.appendChild(this.n0.e);this.Wu=W.y1(this,this.body)}eG.prototype=new dH;
eG.prototype.iG=function(s,N){return s!=null};eG.prototype.YJ=function(){return!0};eG.prototype.N=function(){dH.prototype.N.call(this);
this.eH.N();this.n0.N();this.Wu.N()};eG.prototype.Nv=function(s){var N=this.eH.L().indexOf(!0),r=this.n0.L(),S=new hU(k.E.gu,!0);
S.data=K.Vg.N8(N,r);this.close();this.c(S)};function fR(){dH.call(this,"Raw Photopea","rawpea");this.Wj=null;
this.fV=null;this.m3=null;this.qg=0;this.W4=null;this.zZ=null;this.afE=500;this.av4=500;this.awM=0;this.W("closebtn",this.SH,this);
W.Bc(this.body,"flexrow");var s=W.z("div"),N=W.z("div"),S="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
N.setAttribute("style","padding-left: 1em");this.body.appendChild(s);this.body.appendChild(N);this.I=W.z("canvas");
s.appendChild(this.I);this.aV=new av(225);this.aV.lh(4);N.appendChild(this.aV.e);this.ml=W.z("div");
this.ml.setAttribute("style","width:18em;");N.appendChild(this.ml);this.a6_=new ju("Hi",!0);this.ml.appendChild(this.a6_.e);
this.Dd=[new ao("Temperature",2e3,13e3),new ao("Tint",-150,150),new ao([4,3],-4,4,null,!0),new ao([12,3,0],-100,100)];
for(var l=0;l<this.Dd.length;l++){var r=this.Dd[l];r.b(0);r.W(k.E.o,this.rx,this);this.ml.appendChild(r.e);
if(l==1)this.ml.appendChild(W.z("hr"))}this.Wu=new aa([1,0],!0,null,!0);this.Wu.W("click",this.Nv,this);
this.ml.appendChild(this.Wu.e);this.Bn=new aa(S+" JPG",!0,null,!0);this.Bn.W("click",this.ai3,this);
this.ml.appendChild(this.Bn.e);this.Bn.e.style.marginTop="6px"}fR.prototype=new dH;fR.prototype.Pr=function(){return new cR(0,0)};
fR.prototype.uw=function(s,N){this.afE=s-274;this.av4=N-32;if(this.Wj)this.avs()};fR.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();for(var l=0;l<this.Dd.length;l++)this.Dd[l].N()};fR.prototype.ai3=function(s){var N=this.Wj,r=this.fV,S=q.m(N.width*N.height*4);
q.TM(S,4294967295);q.raw.S8(r,S,N,this.g8());var z=hg.Pp("JPG").Bj([[S.buffer]],r.I7,r.mc,[85]),A=new hU(k.E.Y,!0);
A.data={d:k.s.dJ,data:z,name:"photo.jpg"};this.c(A)};fR.prototype.Nv=function(s){var N=this.Wj,r=this.fV,S=q.m(N.width*N.height*4);
q.TM(S,4294967295);q.raw.S8(r,S,N,this.g8());var z=gr.B1(N),N={zC:new hq(0,0,r.I7,r.mc),data:S.buffer,yA:z},A=hg.i0("Raw Photo",[N]),B=new hU(k.E.Y,!0);
B.data={d:k.s.Ap,jO:A};this.c(B);this.SH();this.close()};fR.prototype.SH=function(){this.Wj=null;this.fV=null;
this.W4=null;this.zZ=null};fR.prototype.sV=function(s,N,r,S){this.Wj=N.r2;this.fV=q.raw.amW(this.Wj);
var z=this.fV;this.a6_.b(z.I7+" x "+z.mc+", "+(z.I7*z.mc/1e6).toFixed(1)+" MPx");var A=q.raw.asV(N.r2);
this.m3=eR.ti(A);this.Dd[0].b(this.m3.b5);this.Dd[1].b(this.m3.cJ);for(var l=2;l<this.Dd.length;l++)this.Dd[l].b(0);
this.avs()};fR.prototype.wy=function(s,N){this.aV.Cl(bP.Vx[s.zR]["--text-color"])};fR.prototype.avs=function(){var s=this.fV,N=s.I7,r=s.mc,S=1;
while(N/S>this.afE*W.Z()||r/S>this.av4*W.Z())S++;if(this.awM==S&&this.W4)return;this.awM=S;var z=Math.floor(N/S),A=Math.floor(r/S);
this.W4={sB:new Float32Array(z*A*3),I7:z,mc:A};var B=this.I.getContext("2d");this.zZ=q.m(z*A*4);q.TM(this.zZ,4294967295);
var Y=1/(S*S);for(var t=0;t<A;t++)for(var p=0;p<z;p++){var f=0,a=0,D=0,c=(p+1)*S,J=(t+1)*S;for(var Z=t*S;
Z<J;Z++)for(var Q=p*S;Q<c;Q++){var M=(Z*N+Q)*3;f+=this.fV.sB[M];a+=this.fV.sB[M+1];D+=this.fV.sB[M+2]}var u=(t*z+p)*3;
this.W4.sB[u]=f*Y;this.W4.sB[u+1]=a*Y;this.W4.sB[u+2]=D*Y}this.rx()};fR.prototype.rx=function(){var s=this.Wj,N=this.W4.I7,r=this.W4.mc,S=N*r,z=this.I,A=z.getContext("2d");
z.width=N;z.height=r;W.UY(z,N,r);q.raw.S8(this.W4,this.zZ,s,this.g8());A.putImageData(new ImageData(new Uint8ClampedArray(this.zZ.buffer),N,r),0,0);
var B=q.yX(this.zZ);for(var l=0;l<4;l++)for(var Y=1;Y<256;Y++)if(B[l][Y]==0)B[l][Y]=B[l][Y-1];for(var l=0;
l<4;l++)for(var Y=1;Y<256;Y++)if(B[l][Y]==0)B[l][Y]=B[l][Y-1];this.aV.b(B)};fR.prototype.g8=function(){var s=[];
for(var l=0;l<this.Dd.length;l++)s.push(this.Dd[l].L());return s};function hK(s){dH.call(this,s?[11,11,0]:[11,11,1],s?"vbitmap":"rcolors");
this.p2=null;this.oy=null;this.pc=null;this.lw=null;this.wr=null;this.agV=null;this.SE=null;this.XY="";
this.Ph=s;this.Re=this.fs.bind(this);this.body.style.padding="0";this.ml=W.z("div","form hbar padded");
this.body.appendChild(this.ml);var N=this.$n={cnum:new ij([12,82],2,50,null),nois:new d1([12,81]),mode:new fa(null,["Cartoon","Photo"]),segm:new d1("Segmentize"),poly:new d1("Polygon"),merg:new d1("Merge colors"),polE:new ij("Roughness",2,30,null),ok:W.y1(this,null,!1)},A=16;
for(var r in N){var S=N[r];S.parent=this;if(r!="ok")S.W(k.E.o,this.fs,this)}var z=this.d4=W.z("div","flexrow");
this.body.appendChild(z);this.UN=new bc;this.UN.W("viewchange",this.oJ,this);this.HJ=new bc;this.I=W.z("canvas");
this.I.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.IM=this.I.getContext("2d");
var B=q.m(16*16*4);q.nD(B,A,A,8);this.nf=q.scale.Hb(B,A,A);this.UN.arO(this.I);this.UN.A4(this.HJ);this.HJ.A4(this.UN);
z.appendChild(this.UN.e);if(s)z.appendChild(this.I);else z.appendChild(this.HJ.e)}hK.prototype=new dH;
hK.prototype.Pr=function(){return new cR(0,0)};hK.prototype.YJ=function(){return!0};hK.prototype.uw=function(s,N){this.s7=s;
this.JY=N;N=N-44;if(s<600)N-=29;if(this.p2==null)return;var r=this.p2.zC,S=ha.ach(s,N,r.G,r.n);if(S==1)N-=3;
if(S==0){s=Math.floor(s/2);W.Bc(this.d4,"flexrow")}else{N=Math.floor(N/2);W.$F(this.d4,"flexrow")}W.Bh(this.I,s,N);
this.UN.uw(s,N);if(this.Ph)this.oJ();else this.HJ.uw(s,N)};hK.prototype.Rt=function(s,N,r,S){this.UN.Rt(S)};
hK.prototype.N=function(){dH.prototype.N.call(this);for(var s in this.$n)this.$n[s].N()};hK.prototype.sV=function(s,N){this.SE=s;
this.wr=null;var r=s.p[s.f[0]],S=q.jy.UH(r.buffer.buffer,r.rect.G,r.rect.n).ab6,z=S/((r.rect.G-2)*(r.rect.n-2)),A=this.$n;
A.cnum.b(20);A.nois.b(z<.75);A.mode.b(z<.75?1:0);A.segm.b(!1);A.poly.b(!1);A.merg.b(!0);A.polE.b(1);
var B=r.rect.clone();B.x=B.y=0;this.p2={zC:B,data:r.buffer.buffer.slice(0)};this.oy=null;this.uw(this.s7,this.JY);
this.UN.b([this.p2]);this.UN.FC();setTimeout(this.Re,20)};hK.prototype.fs=function(){var s=!0,N=Date.now(),r=this.p2,S=this.$n,z=S.cnum.L(),A=S.nois.L(),B=S.mode.L(),Y=S.segm.L(),t=S.poly.L(),p=S.merg.L(),f=S.polE.L(),$=null;
if(B==0)Y=t=!1;var a=["cnum","nois","mode"];if(B==1){a.push("segm");if(this.Ph){a.push("poly");if(t)a.push("polE")}}if(this.Ph)a.push("merg");
a.push("ok");W.o3(this.ml);for(var l=0;l<a.length;l++)this.ml.appendChild(S[a[l]].e);if(s)console.log("---------------------------------------");
var D=A||Y,c=A+","+Y;if(D&&(this.oy==null||this.XY!=c)){this.XY=c;var J=new Uint8Array(r.data),Z=r.zC.G,Q=r.zC.n;
if(A){if(this.wr==null){this.wr=J.slice(0);q.j0.k1(this.wr,this.wr,Z,Q,15,q.j0.vV,[35]);if(s){console.log("denoise",Date.now()-N);
N=Date.now()}}J=this.wr.slice(0)}else J=J.slice(0);if(Y){var M=q.jy.n$(J,Z,Q,40,10),u=M.zt,P=new Uint8Array(u*4);
for(var l=0;l<u;l++){var m=l*4,i=l*6,e=1/M.Gi[i+5];P[m]=M.Gi[i]*e;P[m+1]=M.Gi[i+1]*e;P[m+2]=M.Gi[i+2]*e}for(var l=0;
l<J.length;l+=4){var X=M.IK[l>>>2]*4;J[l]=P[X];J[l+1]=P[X+1];J[l+2]=P[X+2]}if(s){console.log("segm",Date.now()-N);
N=Date.now()}}this.oy={zC:r.zC.clone(),data:J.buffer}}if(D)r=this.oy;var J=new Uint8Array(r.data),Z=r.zC.G,Q=r.zC.n;
for(var l=0;l<J.length;l+=4){if(J[l+3]<10)J[l]=J[l+1]=J[l+2]=J[l+3]=0}if(B==0){$=q.jy.aj$(J,Z,Q,z,D?.1:2e-4);
if(s){console.log("quantize",Date.now()-N);N=Date.now()}}else{$=gN.a8O(J.buffer,z,Z,Q)}if(this.Ph){var O=$.IK.slice(0);
for(var l=0;l<O.length;l++)O[l]++;var T=new Uint8Array((Z+2)*(Q+2));q.lf(O,new hq(1,1,Z,Q),T,new hq(0,0,Z+2,Q+2));
if(!t){var b=Math.round((Z+2)*(Q+2)/1e4),R=ae.ue(T.slice(0),Z+2,Q+2,Math.min(12,b)),w=ae.Ly(R);if(s){console.log("trace smooth",Date.now()-N);
N=Date.now()}}else{var w=q.g.M4(T,Z+2,Q+2,f,s)}var F=w.length,L=new gF(1,0,0,1,-1,-1);for(var l=0;l<F;
l++)q.g.D(w[l].path.v,L,w[l].path.v);this.lw=w;this.pc=$;for(var l=0;l<F;l++){var x=w[l];for(var g=l+1;
g<F;g++){var n=w[g];if(n.parent==l&&$.Og[n.color-1].est.q[3]<.05){var h=n.path.F.slice(1);h.reverse();
h=["M"].concat(h);var _=[],R=n.path.v.length;for(var H=0;H<R;H+=2){_[H]=n.path.v[R-2-H];_[H+1]=n.path.v[R-2-H+1]}q.g.concat(x.path,{v:_,F:h})}}}if(s){console.log("finding holes",Date.now()-N);
N=Date.now()}for(var l=0;l<w.length;l++){var G=w[l];if(G.parent!=-1){var j=w[G.parent];G.parent=j;if(j.L3==null)j.L3=[];
j.L3.push(G)}G.depth=G.parent==-1?0:G.parent.depth+1}if(p){function v(gR,I){var c3={},jj=0,jC=0;for(var l=0;
l<gR.length;l++){var fG=gR[l].color,H="c"+fG;if(fG==I)throw fG;if(c3[H]==null)c3[H]=0;c3[H]++;if(c3[H]>jj){jj=c3[H];
jC=fG}}return jC}var C=[],E=[],I=-1,dJ=!0;for(var l=0;l<w.length;l++)if(w[l].parent==-1)E.push(w[l]);
while(E.length!=0){var fG=v(E,I);I=fG;for(var l=0;l<E.length;l++)if(E[l].color==fG){var o=E[l];C.push(o);
E.splice(l,1);l--;if(o.L3)for(var g=0;g<o.L3.length;g++){E.push(o.L3[g]);if(o.L3[g].color!=fG)dJ=!1}}}if(dJ)w=C;
else{var i4=[];for(var df=0;df<500;df++){var eO=[],R=i4[df-1];i4.push(eO);for(var l=0;l<w.length;l++){var G=w[l],j=G.parent;
if(df==0&&j==-1||df!=0&&R.indexOf(j)!=-1){eO.push(G);w.splice(l,1);l--}}eO.sort(function(gR,c3){return gR.color-c3.color});
if(w.length==0)break}for(var l=0;l<i4.length;l++)w=w.concat(i4[l])}}else{var C=[],cO=[];while(w.length!=0){cO.push(w.shift());
while(cO.length!=0){var ej=cO.pop();C.push(ej);if(ej.L3)for(var l=0;l<ej.L3.length;l++){var G=ej.L3[l];
w.splice(w.indexOf(G),1);cO.push(G)}}}w=C}this.lw=w;for(var l=0;l<w.length;l++){var x=w[l],cn=$.Og[x.color-1].est.q;
if(cn[3]<=.05){w.splice(l,1);l--;continue}}for(var l=1;l<w.length;l++){var j5=w[l-1],x=w[l];if(j5.color==x.color&&(p||j5.parent==x.parent&&j5.depth>=2)){q.g.concat(j5.path,x.path);
w.splice(l,1);l--;continue}}if(s){console.log("reordering layers",Date.now()-N,F,w.length);N=Date.now()}this.oJ()}else{var gP=new Uint32Array(Z*Q),bY=Z*Q;
for(var l=0;l<bY;l++){var fG=$.Og[$.IK[l]];gP[l]=fG.est.rgba}this.agV=new Uint8Array(gP.buffer);this.HJ.b([{zC:r.zC,data:gP.buffer}])}};
hK.prototype.oJ=function(s){if(this.lw==null)return;var N=this.p2.zC.G,r=this.p2.zC.n,S=this.lw,z=this.pc.Og,A=this.I,B=this.IM,Y=this.UN.RO();
B.setTransform(1,0,0,1,0,0);B.clearRect(0,0,A.width,A.height);B.translate(A.width/2,A.height/2);B.scale(Y.X,Y.X);
B.translate(Y.u.x/Y.X-N/2,Y.u.y/Y.X-r/2);B.scale(1/Y.X,1/Y.X);B.fillStyle=this.nf;B.fillRect(0,0,N*Y.X,r*Y.X);
B.scale(Y.X,Y.X);var t=[];for(var l=0;l<z.length;l++){var p=z[l].est.q;t.push({w:Math.round(255*p[0]),A:Math.round(255*p[1]),U:Math.round(255*p[2]),aC:Math.round(255*p[3])})}for(var l=0;
l<S.length;l++){var f=S[l],p=t[f.color-1];if(p.aC==0)continue;B.fillStyle="rgba("+p.w+","+p.A+","+p.U+","+p.aC/255+")";
B.beginPath();Typr.U.pathToContext({crds:f.path.v,cmds:f.path.F},B);B.fill()}};hK.prototype.Nv=function(s){var N=this.SE,r=N.f[0],S=N.p[r],z=new hU(k.E.r,!0);
z.rC=!0;z.k=K.g$;if(this.Ph){var A=this.lw,B=A.length==1,Y=N.p.slice(0,r);if(!B)Y.push(N.YL());for(var l=0;
l<A.length;l++){var t=A[l],p=this.pc.Og[t.color-1].est.q;q.g.D(t.path.v,new gF(1,0,0,1,S.rect.x,S.rect.y),t.path.v);
var f=N.tT();f.lP("Path "+l);Y.push(f);f.opacity=Math.round(p[3]*255);f.Vs|=16;f.add.SoCo={classID:"null",Clr:{t:"Objc",v:q.i.Sm({w:255*p[0],A:255*p[1],U:255*p[2]})}};
f.add.vmsk=new y.kL;f.add.vstk=JSON.parse(JSON.stringify(jG.iJ.default));f.add.vmsk._=q.g.m0(t.path,!1);
f.add.vogk=[];f.dn();f.qB(N)}var a=Y[Y.length-1];if(!B){var f=N.tT();f.lP(S.getName());f.add.lsct=d9.KK;
f.M9="pass";f.Vs=24;Y.push(f);a=f}var D=S.add.lmfx;if(D)a.add.lmfx=JSON.parse(JSON.stringify(D));for(var l=r+1;
l<N.p.length;l++)Y.push(N.p[l]);z.data={d:y.Oh,rs:Y,FO:[r+A.length+(B?-1:1)],Ru:[11,11,0]}}else{var Y=N.p.slice(0),f=N.tT();
f.lP(S.getName());Y.splice(N.f[0]+1,0,f);f.rect=S.rect.clone();f.buffer=this.agV;f.V();z.data={d:y.Oh,rs:Y,FO:[N.f[0]+1],Ru:[11,11,1]}}this.c(z);
this.close()};function ha(s){dH.call(this,[[7,11],[7,13]][s],["redge","magiccut"][s]);this.eH=s;this.p2={};
this.xj=null;this.ZF=null;this.SE=null;this.i4=null;this.rW=null;this.body.style.padding="0";this.Q9=[];
this.QB=-1;this.ml=W.z("div","form hbar padded");this.body.appendChild(this.ml);this.u_=new ci;this.u_.parent=this;
this.u_.W(k.E.o,this.SP,this);this.ml.appendChild(this.u_.e);var N=s==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
N=N.concat("tools/hand","zoomIn","zoomOut");var r=s==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.uP=new cM(null,N,r,28);this.uP.W(k.E.o,this.Rt,this);this.ml.appendChild(this.uP.e);this.i6=new ij([7,9],0,50,null);
this.i6.parent=this;this.i6.W(k.E.o,[this.alY,this.fs][s],this);this.ml.appendChild(this.i6.e);var S=this.acW=new aa([2,2],!1,null,!0);
S.W("click",this.SH,this);this.ml.appendChild(S.e);var z=this.mZ=W.z("span","form");this.ml.appendChild(z);
var A=this.a3$=new aa([12,90],!1,null,!0);A.W("click",function(t){alert(s==0?eV.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
z.appendChild(A.e);var B=new aa("Tutorial",!1,null,!0);B.W("click",this.aox,this);z.appendChild(B.e);
this.Qq=new cM([12,46],["checker","#ffffff","#000000"]);this.Qq.W(k.E.o,this.ag4,this);z.appendChild(this.Qq.e);
this.dN=new fa(null,[[6,13],[6,2],[17,2]]);z.appendChild(this.dN.e);this.Wu=W.y1(this,z,!1);var Y=this.d4=W.z("div","flexrow");
this.body.appendChild(Y);this.mY=new bc(!0);this.IL=new bc;this.mY.A4(this.IL);this.IL.A4(this.mY);this.mY.W("mousedown",this.ja,this);
this.mY.W("mousemove",this.ma,this);this.mY.W("mouseup",this.$D,this);this.mY.W("zoom",this.SP,this);
this.IL.W("zoom",this.SP,this);Y.appendChild(this.mY.e);Y.appendChild(this.IL.e)}ha.prototype=new dH;
ha.prototype.iG=function(s,N){var r=s!=null&&!s.p[s.f[0]].rect.Nf();if(!r)alert("The layer is empty.");
return r};ha.prototype.Pr=function(){return new cR(0,0)};ha.prototype.YJ=function(){return!0};ha.prototype.uw=function(s,N){this.s7=s;
this.JY=N;N=N-12-33;if(s<900){this.mZ.setAttribute("style","display:block;  text-align:right;");N-=29}else{this.mZ.setAttribute("style","position:absolute;  right:0px")}this.Qq.wp(s<440?null:[12,46]);
this.i6.wp(s<470?null:[7,9]);var r=this.p2.rect;if(r){var S=ha.ach(s,N,r.G,r.n);if(S==0){s=Math.floor(s/2);
W.Bc(this.d4,"flexrow")}else{N=Math.floor(N/2);W.$F(this.d4,"flexrow")}this.mY.uw(s,N);this.IL.uw(s,N)}};
ha.ach=function(s,N,r,S){var z=s/2,A=N/2,B=Math.min(z/r,N/S),Y=Math.min(s/r,A/S);return B>Y?0:1};ha.prototype.N=function(){dH.prototype.N.call(this);
this.u_.N();this.i6.N();this.Wu.N();this.Qq.N();this.dN.N();this.acW.N();this.a3$.N()};ha.prototype.aox=function(s){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.eH],"_blank")};
ha.prototype.wy=function(s,N){this.ZF=s;if(N==eq.rX||N==eq.pM){this.u_.da(s.Vj);this.u_.b(fD.oE(),s.Vj.nv,s.Vj.wf)}};
ha.prototype.Rt=function(s,N,r,S){var z=this.uP.L();if(S==null){this.mY.Rt(bc.apR(z-3));return}this.i4=S;
var A=K.kn.hY(this.u_.L(),S);if(A!=null){this.u_.b(A);this.SP()}else if(S.t(cK.z6)&&S.t(cK.kx)){var B=this.Q9,Y=0;
if(S.t(cK.nG)){if(this.QB+1<B.length)Y=1}else if(this.QB>0)Y=-1;if(Y!=0){this.QB+=Y;var t=this.QB,p=this.p2;
if(Y==1)q.LP(B[t][2],B[t][0],p.zx,p.rect);else q.LP(B[t+1][1],B[t+1][0],p.zx,p.rect);p.fM=p.rect;this.fs()}}else if(z<3)this.mY.Rt(S)};
ha.prototype.IB=function(s){var N=this.p2,r=this.Q9,S=q.m(s.$()*4);q.LP(N.GA,N.rect,S,s);N.GA=null;var z=q.m(s.$()*4);
q.LP(N.zx,N.rect,z,s);this.QB++;r[this.QB]=[s.clone(),S,z];while(r.length>this.QB+1)r.pop();while(r.length>50){r=r.slice(1);
this.QB--}};ha.prototype.SP=function(){var s=this.ZF,N=ex.ol(this.u_.L(),s.Vj.nv,this.mY.RO().X);this.mY.lL(N)};
ha.prototype.ja=function(s){var N=this.ZF,r=this.p2,S=this.i4,z=this.u_.L(),A=this.mY.cb(),B=[16777215,8421504,0][this.uP.L()];
this.xj=new ex(z,N.Vj.nv,N.Vj.wf,{nh:1,$A:!0},B,N.on,r.rect);r.GA=r.zx.slice(0);if(S!=null&&S.t(cK.nG)&&this.rW){this.xj.moveTo(this.rW.x,this.rW.y);
this.xj.lineTo(A.x,A.y)}else this.xj.moveTo(A.x,A.y);this.av0()};ha.prototype.ma=function(s){var N=this.p2,r=this.mY.cb();
this.xj.lineTo(r.x,r.y);this.av0()};ha.prototype.$D=function(s){this.rW=this.mY.cb();this.IB(this.xj.Ag());
this.fs()};ha.prototype.av0=function(){var s=this.p2,N=this.xj,r=N.Zy();if(r.Nf())return;s.fM=r;q.Q.VP("norm",N.pp(),N.dy(),s.zx,s.rect,r,1);
this.agz()};ha.prototype.SH=function(s){var N=this.p2;N.GA=N.zx.slice(0);N.fM=N.rect;q.TM(N.zx,[4278190080,4292730333][this.eH]);
this.IB(N.rect);this.fs()};ha.prototype.sV=function(s,N){this.SE=s;var r=s.p[s.f[0]],S=r.rect.clone(),z=S.G,A=S.n;
this.i6.b(this.eH==0?3:z*A<3e6?3:0);this.uP.b(s.q==null?0:1);this.i6.sK();if(this.eH==0&&s.q!=null||this.eH==1)this.i6.WT();
var B=this.eH,Y=q.m(S.$()),t=new Float32Array(S.$());if(B==0&&s.q){q.lf(s.q.channel,s.q.rect,Y,S);var p=q.m(S.$());
for(var f=0;f<A;f++)for(var a=0;a<z;a++){var l=f*z+a,D=Y[l];if(a>0&&Y[l-1]!=D||a<z-1&&Y[l+1]!=D||f>0&&Y[l-z]!=D||f<A-1&&Y[l+z]!=D)p[l]=255}q.style.rh(p,t,z,A)}else t.fill(1e9);
S.x=S.y=0;this.p2={rect:S,sB:r.buffer,ZH:Y,D8:t,Qg:q.m(S.$()*4),Pc:q.m(S.$()*4),zx:q.m(S.$()*4),GA:null,jW:null,fM:S,auF:{}};
if(B==0)this.alY();else{this.p2.auF=K.qA.alZ(s);var c=this.p2.zx;q.TM(c,4287137928);var J=q.rZ.getSelection(r.buffer,z,A),Z=Math.round(z/60),Q=Math.round(.7*A);
for(var f=0;f<A;f++)for(var a=0;a<z;a++){var M=(f*z+a)*4,u=J[M>>>2];u=u>128?255:128;if(f<Z||f<Q&&(a<Z||a>z-1-Z))u=0;
c[M]=c[M+1]=c[M+2]=u}this.fs()}this.Q9=[1];this.QB=0;var P=this.u_.L();P.Brsh.v.Dmtr.v.val=Math.round(S.G/(B==0?10:20));
this.u_.b(P);this.SP();this.uw(this.s7,this.JY);this.mY.FC()};ha.prototype.alY=function(){var s=this.p2,N=s.rect.$(),r=this.i6.L(),S=s.ZH.slice(0);
for(var l=0;l<N;l++)if(s.D8[l]<r)S[l]=128;q.TM(s.zx,4294967295);q.XX(S,s.zx,0);q.XX(S,s.zx,1);q.XX(S,s.zx,2);
s.fM=s.rect;this.fs()};ha.prototype.fs=function(){var s=this.p2,z,Y,t=0,p=0,f=0;this.agz();var N=s.rect,r=N.G,S=N.n,A=q.m(N.$()),B=s.sB;
q.WZ(s.zx,A,0);for(var l=0;l<A.length;l++){if(B[(l<<2)+3]!=255)continue;var a=A[l];if(a==0)t++;else if(a==255)p++;
else f++}if(t*p*f!=0){if(this.eH==0)Y=q.Sa.Sa(N,B,A);else{var D=this.uP.L();for(var c=1;c<S;c++)for(var J=1;
J<r;J++){var l=c*r+J,Z=A[l],Q=A[l-1];if(Z==0&&Q==255||Z==255&&Q==0){z="The Red and Green should never touch! Erase it with Grey.";
break}}var M=Date.now(),u=this.p2.auF;q.r8(A,u.ND);K.qA.U8(u,!0);var P=Math.ceil(this.i6.L()/2);if(P==0){Y=B.slice(0);
q.XX(u.q,Y,3)}else{var m=u.q.slice(0),i=u.q.slice(0);for(var e=0;e<P;e++){for(var c=1;c<S-1;c++)for(var J=1;
J<r-1;J++){var l=c*N.G+J,X=m[l];if(m[l-r]!=X||m[l-1]!=X||m[l+1]!=X||m[l+r]!=X)i[l]=128;else i[l]=X}var $=m;
m=i;i=$}Y=q.Sa.Sa(N,B,m,20,!1)}}}else{Y=B.slice(0);q.XX(A,Y,3)}for(var l=3;l<Y.length;l+=4)if(Y[l]>B[l])Y[l]=B[l];
if(N.nR(s.rect))s.jW=Y;else q.LP(Y,N,s.jW,s.rect);this.ag4();if(z)alert(z,4e3)};ha.prototype.agz=function(s){var N=this.p2,r=N.fM;
q.LP(N.sB,N.rect,N.Qg,N.rect,r,!0);var S=N.zx;if(this.eH==1){var z=new Uint32Array(256);z[0]=4278190335;
z[255]=4278255360;var A=N.rect.$();S=S.slice(0);var B=new Uint32Array(S.buffer);for(var l=0;l<A;l+=2){B[l]=z[B[l]&255];
B[l+1]=z[B[l+1]&255]}}q.Q.VP("norm",S,N.rect,N.Qg,N.rect,r,.3);this.mY.b([{zC:N.rect,data:N.Qg.buffer}])};
ha.prototype.ag4=function(s){var N=this.p2;q.TM(N.Pc,[0,4294967295,4278190080][this.Qq.L()]);q.Q.VP("norm",N.jW,N.rect,N.Pc,N.rect,N.rect,1);
this.IL.b([{zC:N.rect,data:N.Pc.buffer}])};ha.prototype.Nv=function(s){var N=this.SE,r=this.p2,S=this.dN.L(),z=N.p[N.f[0]],A=new hU(k.E.r,!0);
A.rC=!0;var B=z.rect.clone();if(S==0&&z.ES()||S!=0&&!z.ES()){A.k=K.g$;A.data={d:y.ks,j:N.f[0]};this.c(A)}if(N.q!=null){A.k=K.Kn;
A.data={d:"fromAction",As:K.eL.Aq()};this.c(A)}if(S==0){var Y=N.p.slice(0),t=N.tT();t.lP(z.getName());
Y.splice(N.f[0]+1,0,t);t.rect=B;t.buffer=r.jW;t.V();A.k=K.g$;A.data={d:y.Oh,rs:Y,FO:[N.f[0]+1],Ru:[7,11]};
this.c(A)}if(S==1){var p=z.eg();A.k=K.g$;A.data={d:y.Ed,a5e:!0};this.c(A);var f=z.eg();f.channel=q.m(B.$());
f.rect=B;f.color=0;f.eB=!0;q.WZ(r.jW,f.channel,3);if(p){var a=f.kU(p);f.rect=a.rect;f.channel=a.channel;
f.color=a.color}f.pS();z.qB()}if(S==2){var D={rect:B,channel:q.m(B.$())};q.WZ(r.jW,D.channel,3);A.k=K.Kn;
A.data={d:"setsel",q:D,Ru:this.YD};this.c(A)}this.close()};function bh(){dH.call(this,[1,13],"locstor");
this.tx=null;this.qV=[];var s=this.body,N=W.z("p");N.textContent="These files are loaded every time you start Photopea.";
s.appendChild(N);this.a6d=0;this.$y=W.z("span");s.appendChild(this.$y);this.$y.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var r=W.z("span","form");s.appendChild(r);this.Kw=new aa([5,4],!1,null,!0);this.Kw.W("click",this.NN,this);
r.appendChild(this.Kw.e);this.a2j=new aa("Get all as ZIP",!1,null,!0);this.a2j.W("click",this.aP,this);
r.appendChild(this.a2j.e);this.Fp=new j7(!0);this.Fp.parent=this;this.Fp.lh(1);s.appendChild(this.Fp.e);
this.Fp.e.setAttribute("style","width: 40em; height: 25em")}bh.prototype=new dH;bh.prototype.N=function(){dH.prototype.N.call(this);
this.$y.textContent=eV.get([13,2])+": "+g$.gZ(this.a6d);this.Kw.N()};bh.prototype.wy=function(s,N){this.tx=s;
if(N==eq.mo)this.sV()};bh.prototype.sV=function(s,N){var r=this.tx.ZX.E3,t=0;this.qV=[];for(var S in r)this.qV.push(S);
this.qV.sort(function(f,a){f=f.split(".");a=a.split(".");return f[1]==a[1]?f[0]<a[0]?-1:1:f[1]<a[1]?-1:1});
var z=Math.floor(100*W.Z()),A=Math.floor(16*W.Z()),B=[],Y=[];for(var l=0;l<this.qV.length;l++){var S=this.qV[l],p=bh.ty(S,r[S],z,A);
B.push(p);Y.push(S);t+=r[S].byteLength}this.Fp.en(B,Y,z,A);this.a6d=t;this.N()};bh.prototype.NN=function(s){var N=this.Fp.L();
if(N.length==0){alert("Select a file first.");return}this.Fp.b([]);var r=this.tx.ZX.E3;for(var l=0;l<N.length;
l++)delete r[this.qV[N[l]]];var S=new hU(k.E.Y,!0);S.data={d:k.s.Jl,LS:eq.mo};this.c(S)};bh.prototype.aP=function(s){var N=this.tx.ZX.E3,r={};
for(var S in N)r[S]=new Uint8Array(N[S]);var z=UZIP.encode(r);fP.save(z,"resources.zip")};bh.ty=function(s,N,r,S){var z=W.z("canvas"),Y=0;
z.width=r;z.height=S;var A=z.getContext("2d"),B=s.split(".").pop().toLowerCase();for(var l=0;l<B.length;
l++)Y+=B.charCodeAt(l)*613<<8*l;A.fillStyle="#"+q.fD(Y&16777215);A.fillRect(0,0,20,S);var t=Math.floor(14*W.Z());
A.fillStyle="#000000";A.font="bold "+t+"px sans-serif";var p=(S-t)/2,f=g$.gZ(N.byteLength),a=A.measureText(f);
A.fillText(f,r-12-a.width,S-p);return z.toDataURL()};function iL(){dH.call(this,[1,15],"pmanager");this.tx=null;
this.kZ=new fa([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.kZ.W(k.E.o,this.sV,this);
this.body.appendChild(this.kZ.e);var s=W.z("div","flexrow");this.body.appendChild(s);var N=this.ax8=W.z("div");
s.appendChild(N);var r=W.z("div","form");s.appendChild(r);r.setAttribute("style","width:140px; margin-left:12px");
this.a9k=[eq.rX,eq.If,eq.gg,eq.ta,eq.ne,eq.N7];this.J1=[new ci,new b3,new eM,new ek,new bi,new iE];for(var l=0;
l<this.J1.length;l++)this.J1[l].parent=this;this.kh=[];for(var l=0;l<4;l++){var S=new aa("Hello",!0,null,!0);
S.W("click",this.S1,this);this.kh.push(S);r.appendChild(S.e)}this.sV()}iL.prototype=new dH;iL.prototype.KR=function(s){return s==cK.Ih||s==cK.kM};
iL.prototype.S1=function(s){var l=this.kh.indexOf(s.target);this.J1[this.kZ.L()].OG(l)};iL.prototype.N=function(){dH.prototype.N.call(this);
this.kZ.N();for(var l=0;l<this.J1.length;l++)this.J1[l].N();var s=this.kh,N=this.kZ.L(),r=eq.Go[this.a9k[N]],S=r[0].toUpperCase();
s[0].wp([[23,6],"."+S]);s[1].wp(["VAR0 ."+S,[1,8]]);s[2].wp([6,37]);s[3].wp([5,4])};iL.prototype.wy=function(s,N){this.tx=s;
this.sV()};iL.prototype.sV=function(s,N){if(!W.zS(this.e))return;this.N();W.o3(this.ax8);this.ax8.appendChild(this.J1[this.kZ.L()].UM);
var r=this.J1,S=this.tx;if(S==null)return;r[0].da(S.Vj);r[1]._B(S.Hd,S.on);r[1].da(S.Ys);r[2].da(S.dj);
r[3].da([S.DE,S.dj]);r[4].da(S.cz);r[5].da(S.rj)};function e$(s,N,r){dH.call(this,N,"cwindow");this.ahk=new cR(r[0],r[1]-33);
this.ml=W.z("div","form");this.ml.setAttribute("style","width:"+(r[2]-r[0])+"px; height:"+(r[3]-r[1])+"px");
this.body.appendChild(this.ml)}e$.prototype=new dH;e$.prototype.Pr=function(s,N){return this.ahk.clone()};
function jp(){dH.call(this,["PSD VAR0",[25,0]],"templates");this.atL=null;this.JU=null;this.JZ=0;this.ox=null;
this.body.setAttribute("style","padding:0");this.E8=new aa("Add Templates",null,null,!0);this.body.appendChild(this.E8.e);
this.E8.W("click",this.aeu,this);this.E8.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.ahp=new aa("New Template",null,null,!0);this.ahp.W("click",this.agc,this);this.auV=new aa("Upload Current Document as a Template",null,null,!0);
this.auV.W("click",this.acc,this);this.kG=W.z("iframe","scrollable");this.kG.setAttribute("style","border:none; margin:0; padding:0;");
this.F$=W.z("div","form scrollable padded");this.sE=W.z("div","form scrollable padded label12");var s=[],N=jp.gF;
this.nH=[];for(var r in N){var S=parseInt(r.slice(1)),z=S%10==0?"":"\u2800\u2800- ";s.push(z+N[r]);this.nH.push(S)}this.SX=[new aW("Name",null,30),new aW("Description",null,30,4),new aW("File"," www.Photopea.com#i...",17),new aW("Thumbnail URL","* Use Imgur.com etc.",17),new fa("Category",s),new aa("<< Back",null,null,!0),new aa("Save",null,null,!0),new ju("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new ju("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var l=0;l<this.SX.length;l++){var A=this.SX[l];this.sE.appendChild(A.e);A.parent=this;if(l!=5)W.ts(this.sE);
if(A instanceof aa)A.W("click",this.alf,this)}this.body.appendChild(this.kG)}jp.prototype=new dH;jp.prototype.Pr=function(s,N){return new cR(0,0)};
jp.prototype.uw=function(s,N){this.s7=s;this.JY=N;this.IC=null;N=N-4;s=s;var r=this.F$;r.style.width=s-12+"px";
r.style.height=N-12+"px";var r=this.sE;r.style.width=s-12+"px";r.style.height=N-12+"px";var r=this.kG;
r.style.width=s+"px";r.style.height=N+"px";this.MO()};jp.prototype.N=function(){dH.prototype.N.call(this)};
jp.prototype.sV=function(s,N,r,S){this.IC=s;this.aeu(null,!1)};jp.prototype.aeu=function(s,N){var r=N!=null?N:W.zS(this.kG);
if(r){if(!eH.XO()){alert("You need to log in first!");return}var S=eH.Eh();this.JU=S.tpl?S.tpl.list:[];
this.MO()}else{this.kG.setAttribute("src","");this.kG.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(r?this.F$:this.kG);this.E8.wp(r?"All Templates":"Add Templates")};jp.prototype.MO=function(){var s=this.JU,A=450;
if(s==null)return;var N=this.F$;W.o3(N);var r=W.z("h1");N.appendChild(r);r.textContent="Share your PSD templates with the world!";
var S=W.z("ul");N.appendChild(S);var z=W.z("li");S.appendChild(z);z.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var z=W.z("li");S.appendChild(z);z.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
N.appendChild(this.ahp.e);N.appendChild(this.auV.e);W.ts(N);A=(this.s7-20)/Math.max(1,Math.floor(this.s7/A))-42;
var B="display:inline-block; width:"+A+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var l=s.length-1;l>=0;l--){var Y=s[l],t=W.z("div");N.appendChild(t);t.setAttribute("style",B);var p=W.z("img");
t.appendChild(p);p.setAttribute("src",Y.thmb);p.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var f=W.z("h3");t.appendChild(f);f.textContent=Y.name;f.setAttribute("style","margin:0 0 10px 0");var a=W.z("p");
t.appendChild(a);a.textContent=Y.desc;a.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var D=0;D<2;D++){var c=new aa(D==0?"Edit":"Delete",null,null,!0);c.asi=l;c.gw=D==0;c.W("click",this.am5,this);
t.appendChild(c.e)}}};jp.prototype.acc=function(s){if(this.IC==null){alert("No document opened.");return}var N=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!N)return;var r=new hU(k.E.Y,!0);r.data={d:k.s.f5,v_:"psd",K_:this.a4x.bind(this)};this.c(r)};jp.prototype.a4x=function(s){this.atL=s;
var N=new hU(k.E.Y,!0);N.data={d:k.s.f5,v_:"jpg",K_:this.a47.bind(this),abc:1400};this.c(N)};jp.prototype.a47=function(s){this.ox={catg:0,desc:"",file:this.atL.split("#i").pop(),name:this.IC.name.split(".")[0],thmb:s,utme:""};
this.gw()};jp.prototype.agc=function(s){this.ox={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.gw()};
jp.prototype.am5=function(s){this.JZ=s.target.asi;if(!s.target.gw){this.JU.splice(this.JZ,1);this.aP();
this.MO();return}this.gw()};jp.prototype.gw=function(){this.body.removeChild(this.F$);this.body.appendChild(this.sE);
var s=["name","desc","file","thmb"],N=this.ox?this.ox:this.JU[this.JZ];for(var l=0;l<4;l++){var r=N[s[l]];
if(r!=""&&l==2)r="https://photopea.com#i"+r;this.SX[l].b(r)}this.SX[4].b(this.nH.indexOf(N.catg))};jp.prototype.alf=function(s){if(this.SX.indexOf(s.target)==6){var N=this.SX[3].L().trim(),r=N.startsWith("http")&&(N.endsWith(".jpeg")||N.endsWith(".jpg")||N.endsWith(".png")||N.endsWith(".gif"));
if(!r){alert("Thumbnail URL is incorrect.");return}var S=new XMLHttpRequest,z=(N);
S.open("GET",z);S.responseType="arraybuffer";S.onload=this.a98.bind(this);S.send()}else this.SH()};jp.prototype.a98=function(s){var N=s.target.response,r=N.byteLength;
if(r>2e5&&hg.yy(N)!="gif"){alert("Thumbnail is too large ("+g$.gZ(r)+"). Make it under 200 kB.");return}var S=["name","desc","file","thmb"],z=this.ox?this.ox:this.JU[this.JZ];
for(var l=0;l<4;l++){var A=this.SX[l].L().trim();if(A.length==0){alert("One of values is empty.");return}if(l==2){var B=A.split("#i");
if(B.length!=2||B[1].length!=8){alert("File ID is incorrect.");return}A=B.pop()}z[S[l]]=A}z.catg=this.nH[this.SX[4].L()];
if(z.utme.length==0)z.utme=""+Math.round(Date.now()/1e3);if(this.ox)this.JU.push(this.ox);this.aP();
this.SH()};jp.prototype.SH=function(){this.ox=null;this.body.removeChild(this.sE);this.body.appendChild(this.F$);
this.MO()};jp.prototype.aP=function(){var s=eH.Eh();if(this.JU.length==0)delete s.tpl;else s.tpl={list:JSON.parse(JSON.stringify(this.JU))};
eH.vp(s,function(){alert("Saved.")})};jp.gF={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function iH(){dH.call(this,"Make Selection","makesel");this.tx=null;var s=W.z("div","form");this.body.appendChild(s);
this.sW=new d1([12,25,1]);this.sW.b(!0);s.appendChild(this.sW.e);W.ts(s);this._L=new iB(!0);s.appendChild(this._L.e);
this.Wu=W.y1(this,this.body)}iH.prototype=new dH;iH.prototype.N=function(){dH.prototype.N.call(this);
this._L.N();this.sW.N();this.Wu.N()};iH.prototype.Nv=function(s){var N=new hU(k.E.r,!0);N.k=K.Kn;N.data={d:"frompath",PH:[null,0,this._L.L(),!this.sW.L()]};
this.close();this.c(N)};function gE(){dH.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.IC=null;this.ou=null;
this.Pq=null;var s=this.agB=W.z("div","form");s.setAttribute("style","width:20em");this.body.appendChild(s);
this.fi=new gI([12,50],["PSD","PSB"]);this.fi.W(k.E.o,this.J$,this);s.appendChild(this.fi.e);W.RY(s);
var N=new ju("Minify the file");s.appendChild(N.e);W.ts(s);var r=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.cG=[];for(var l=0;l<r.length;l++){var S=new d1(r[l]);this.cG.push(S);s.appendChild(S.e);S.W(k.E.o,this.J$,this)}W.RY(s);
this.Rn=new ju("aa.psd");this.BP=new ju("10 kB");s.appendChild(this.BP.e);this.a8d=new ju("1000 B");
s.appendChild(this.a8d.e);this.Wu=new aa([1,2],!0,null,!0);this.Wu.W("click",this.Nv,this);s.appendChild(this.Wu.e);
this.Nr=new aa(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Nr.W("click",this.Nv,this);s.appendChild(this.Nr.e);
this.W("closebtn",this.VX,this)}gE.prototype=new dH;gE.prototype.sV=function(s,N,r,S){var z=W.zS(this.Nr.e),A=s.jA!=null&&s.jA.mw=="psd";
if(A&&!z)this.agB.appendChild(this.Nr.e);if(!A&&z)this.agB.removeChild(this.Nr.e);for(var l=0;l<this.cG.length;
l++)this.cG[l].b(!1);this.IC=s;this.J$()};gE.prototype.Nv=function(s){if(s.target==this.Wu)fP.save(this.ou,this.Pq);
else{if(this.cG[3].L()){alert("You should not save a ZIP as a PSD to Google Drive.");return}k6.a6f(this.IC,this.ou)}};
gE.prototype.VX=function(){this.IC=null;this.ou=null};gE.prototype.J$=function(){var s=this.IC,N=[!1,!1,!1,!1];
for(var l=0;l<3;l++)N[l]=this.cG[l].L();var r=this.cG[3].L(),S=N[3]=this.fi.L()==1,z=s.name.slice(0,s.name.length-3),A=this.ou=hg.Pp("PSD").Bj(s,0,0,N),i3=this.Pq=z+"ps"+(S?"b":"d");
if(r){var B={};B[i3]=new Uint8Array(A);A=this.ou=UZIP.encode(B);i3=this.Pq=z+"zip"}this.Rn.b(i3);this.BP.b(g$.gZ(A.byteLength));
this.BP.e.style["font-size"]="2em";this.a8d.b(" \u2001 "+A.byteLength+" B");this.Wu.wp(eV.get([1,2])+" \""+i3+"\"")};
gE.prototype.N=function(){dH.prototype.N.call(this);this.Wu.N();this.Nr.N()};function bN(){dH.call(this,"Confirm","confirm");
this.JN=null;var s=W.z("div","form");this.body.appendChild(s);this.wP=W.z("div");this.wP.textContent="Hello";
s.appendChild(this.wP);this.Wu=W.y1(this,s);s.appendChild(this.Wu.e)}bN.prototype=new dH;bN.prototype.Nv=function(s){this.JN();
this.close()};bN.prototype.sV=function(s,N){this.wP.textContent=N.h;this.JN=N.JN;this.Wu.e.focus()};
bN.prototype.Pr=function(s,N){return new cR(Math.max(0,(s-500)/2),Math.max(0,Math.min(60,(N-100)/2)))};
bN.prototype.uw=function(s,N){this.wP.style.width=s-30+"px"};function bu(){dH.call(this,[1,16,2],"newartb");
this.eH=0;this._9=null;var s=W.z("div","form");s.style.width="260px";this.body.appendChild(s);this.Fp=new bH;
s.appendChild(this.Fp.e);this.Wu=W.y1(this,s)}bu.prototype=new dH;bu.prototype.iG=function(s,N){return s!=null};
bu.prototype.Nv=function(s){var N=this.Fp.L();this._9.G=N.x;this._9.n=N.y;var r=new hU(k.E.r,!0);r.k=K.wA;
r.data={abC:this._9,uy:this.eH};this.c(r);this.close()};bu.prototype.N=function(){dH.prototype.N.call(this);
this.Fp.N();this.Wu.N()};bu.prototype.sV=function(s,N){this.eH=N.uy;var r=new hq(0,0,s.G,s.n);if(s.f.length!=0){var S=s.p[s.f[0]];
if(S.add.artb){r=S.M5();r.x+=r.G+100}if(N.uy==1)r=K.S.dy(s)}this._9=r;this.Fp.b(new cR(r.G,r.n))};function cy(){dH.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.Jc=null;this.W("closebtn",this.CB,this);this.W("canclose",this.CB,this)}cy.prototype=new dH;
cy.prototype.wy=function(s,N){if(this.Jc)this.Jc.wy(s,N)};cy.prototype.Pr=function(s,N){return new cR(Math.max(0,Math.min(150,(s-980)/2)),Math.max(0,Math.min(150,(N-590)/2)))};
cy.prototype.uw=function(s,N){this.s7=s;this.JY=N;s=Math.min(s,980);N=Math.min(N,590);if(this.Jc)this.Jc.uw(s,N)};
cy.prototype.N=function(){dH.prototype.N.call(this);if(this.Jc)this.Jc.N()};cy.prototype.sV=function(s,N,r,S){this.YD=N.uy==0?"Open from Storage":"Save to Storage";
this.N();if(this.Jc==null){this.Jc=new et;this.Jc.parent=this;this.body.appendChild(this.Jc.e);this.N();
this.uw(this.s7,this.JY)}Storage.lh(N.uy,s?s.name:"");et.HL(this.Jc)};cy.prototype.CB=function(s){Storage.lh(0);
et.Ao();if(s.type=="canclose")this.close()};function gm(){dH.call(this,"Variables","varsdats");var s=this.ml=W.z("div","form");
s.setAttribute("style","width:300px");this.body.appendChild(s);this.IC=null;this.Hy=new gI(null,["Variables","Data Sets"]);
this.Hy.W(k.E.o,this.asd,this);this.aJ=new gm.AE;this.w6=new gm.pZ;this.xq=new ju([1,8]);var N=this.Vv=W.z("div");
N.appendChild(this.w6.ax5.e);N.appendChild(this.xq.e);this.kW=new aa("PNGs",!1,null,!0);this.kW.W("click",this.a4m,this);
N.appendChild(this.kW.e);this.ajH=new aa("JPGs",!1,null,!0);this.ajH.W("click",this.a4m,this);N.appendChild(this.ajH.e);
this.Wu=W.y1(this,N)}gm.prototype=new dH;gm.prototype.asd=function(s){var N=this.Hy.L(),r=this.ml;W.o3(r);
r.appendChild(this.Hy.e);r.appendChild(N==0?this.aJ.e:this.w6.e);r.appendChild(this.Vv)};gm.prototype.Nv=function(s){var N=new hU(k.E.r,!0);
N.k=K.g$;N.data={d:y.SK,h:JSON.stringify([this.aJ.L(),this.w6.L()])};this.c(N);this.close()};gm.prototype.N=function(){dH.prototype.N.call(this);
this.Wu.N();this.xq.N()};gm.prototype.sV=function(s,N){this.IC=s;this.aJ.sV(s,N);this.w6.sV(s,N);this.Hy.b(0);
this.asd()};gm.prototype.a4m=function(s){var N=this.aJ.L(),r=this.w6.L();if(N.length==0){alert("There are no variables.");
return}if(r.length==0){alert("There are no data sets.");return}var S=hg.a2E(this.IC,N,r,this.w6.Wc,s.target==this.kW?"PNG":"JPG",this);
if(S!=null)fP.save(S,"images.zip")};gm.pZ=function(){hz.call(this);this.H8=null;var s=this.e=W.z("div","form");
this.bx=W.z("div","scrollable");this.bx.setAttribute("style","overflow:scroll;  height:234px;");s.appendChild(this.bx);
this.Wc={};this.ba=0;var N=this.ao5=W.z("input");this.ao5.setAttribute("type","file");this.ao5.addEventListener("change",this.a2D.bind(this),!1);
this.ap5=this.aaC.bind(this);this.EK=new aa("Import a CSV file",null,null,!0);s.appendChild(this.EK.e);
this.EK.addEventListener("click",function(r){gm.pZ.eM=0;N.removeAttribute("multiple");N.click()});this.ax5=new aa("Source images",null,null,!0);
this.ax5.addEventListener("click",function(r){gm.pZ.eM=1;N.setAttribute("multiple","");N.click()})};
gm.pZ.prototype=new hz;gm.pZ.eM=0;gm.pZ.prototype.a2D=function(s){var N=s.target.files;this.ba=N.length;
this.Wc={};for(var l=0;l<N.length;l++){var r=N[l],S=new FileReader;S.onload=this.ap5;S.qM=r.name;S.readAsArrayBuffer(r)}};
gm.pZ.prototype.aaC=function(s){var N=this.Wc[s.target.qM]=new Uint8Array(s.target.result);this.ba--;
if(this.ba!=0)return;if(gm.pZ.eM==0){this.H8=ga.j7(U.uE(N));this.rx()}else console.log(this.Wc)};gm.pZ.prototype.sV=function(s,N){var r=this.H8=JSON.parse(JSON.stringify(s.UB));
this.rx()};gm.pZ.prototype.L=function(){return this.H8};gm.pZ.prototype.rx=function(){var s=this.H8,N=W.z("table");
N.setAttribute("style","border-collapse: collapse;");for(var l=0;l<s.length;l++){var r=W.z("tr"),S=s[l];
N.appendChild(r);for(var z=0;z<S.length;z++){var A=W.z(l==0?"th":"td");A.textContent=S[z];r.appendChild(A);
A.setAttribute("style","max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px");
A.setAttribute("title",S[z])}}W.o3(this.bx);this.bx.appendChild(N)};gm.AE=function(){hz.call(this);var s=this.e=W.z("div","form marged");
this.Oq=null;this.zW=[];this.Sz=[];this.kp=null;this.y6=new fa([0,3],[]);this.y6.W(k.E.o,this.ami,this);
s.appendChild(this.y6.e);this.x$=[];var N=["Visibility","Text Content","Pixel Content"];for(var l=0;
l<N.length;l++){W.RY(s);var r=new d1(N[l]);r.W(k.E.o,this.U_,this);s.appendChild(r.e);W.ts(s);var S=new aW("Variable Name");
S.W(k.E.o,this.U_,this);s.appendChild(S.e);this.x$.push(r,S)}};gm.AE.prototype=new hz;gm.AE.prototype.U_=function(s){var N=this.y6.L(),r=this.kp[N],S=this.zW[N],z=this.Oq["l"+r],A=this.x$;
if(z==null)this.Oq["l"+r]=z=[];while(z.length!=0)z.pop();for(var l=0;l<3;l++){var B=A[2*l+1].L();if(!A[2*l].L())continue;
var Y={varName:B,trait:["visibility","textcontent","fileref"][l]};z.push(Y);if(l==2){Y.align="center";
Y.clip="false";Y.placementMethod="fit";Y.valign="middle"}}if(z.length==0)delete this.Oq["l"+r];this.sV()};
gm.AE.prototype.ami=function(s){var N=this.y6.L(),r=this.kp[N],S=this.zW[N],z=this.Oq["l"+r],A=this.x$;
if(z==null)z=[];for(var l=0;l<3;l++){var B=l==0||l==1&&S==0||l==2&&S==1;A[2*l].b4(B);A[2*l].b(!1);A[2*l+1].b4(B);
A[2*l+1].b("")}for(var l=0;l<z.length;l++){var Y=z[l],t=Y.trait,p=["visibility","textcontent","fileref"].indexOf(t);
A[p*2].b(!0);A[p*2+1].b(Y.varName)}};gm.AE.prototype.sV=function(s,N){if(s){var r=JSON.parse(JSON.stringify(s.PB)),S=this.Oq={};
for(var l=0;l<r.length;l++){var z=r[l],A=z.docRef;A="l"+A.slice(4,A.length-2);if(S[A]==null)S[A]=[];
S[A].push(z)}this.kp=[];this.zW=[];this.Sz=[];for(var l=s.p.length-1;l>=0;l--){var B=s.p[l],A=B.add.lyid;
if(B.getName()=="</Layer group>")continue;this.kp.push(A);this.zW.push(B.add.TySh?0:1);this.Sz.push(B.getName())}}var Y=[],t=this.Sz;
for(var l=0;l<t.length;l++){Y.push(t[l]+(this.Oq["l"+this.kp[l]]?" *":""))}var p=this.y6.L();this.y6.dO(Y);
this.y6.b(p);this.ami()};gm.AE.prototype.L=function(){var s=this.Oq,N=[];for(var r in s){var S=s[r];
for(var z=0;z<S.length;z++){S[z].docRef="id('"+r.slice(1)+"')";N.push(S[z])}}return N};function d8(s,N,r,S){hz.call(this);
this.name=s;this.a5J=r;this.Hm=S;this._a=W.z("div","");this._a.setAttribute("draggable","true");this.aQ=W.z("div","pbody");
this.ZG=new aa("",!1,"");this.ZG.parent=this;this.a3P=W.z("span","cross");this.Ny=W.z("span","label");
var z=this.apQ.bind(this);this._a.addEventListener("mousedown",this.af2.bind(this),!1);this._a.addEventListener("contextmenu",z,!1);
this.ZG.e.addEventListener("contextmenu",z,!1);this.a3P.addEventListener("mousedown",this.qQ.bind(this),!1);
this._a.appendChild(this.Ny);if(N)this._a.appendChild(this.a3P);this.Km=!1;this.jj=new hR([{name:[1,12,0]}]);
this.jj.W("select",this.qQ,this);this.Ny.textContent=s}d8.prototype=new hz;d8.prototype.th=function(){return null};
d8.prototype.N=function(){var s=eV.get(this.name),N=this.s7==0?22:Math.round(2+this.s7/50),r=s.length>N;
this.Ny.textContent=r?s.slice(0,N-2):s;if(r)for(var S=0;S<2;S++){var z=W.z("span");z.textContent=s.charAt(N-2+S);
z.setAttribute("style","opacity:"+(.6-S*.4));this.Ny.appendChild(z)}var A=s.split(" "),B=A.length==2?A[0].substring(0,2)+A[1][0]:s.substring(0,3);
if(B.charCodeAt(0)>=11776)B=B.substring(0,1);var Y=this.a5J;if(Y==null)this.ZG.wp(B,s);else{var t;if(Y.startsWith("---"))t="<img src=\""+PIMG[Y.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(Y.startsWith("==="))t="<img src=\""+Y.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(Y.indexOf("\"")==-1)t="<img src=\""+Y+"\" alt=\""+s+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.ZG.wp(t,s)}};d8.prototype.enable=function(){this.aQ.setAttribute("class","pbody")};d8.prototype.disable=function(){this.aQ.setAttribute("class","pbody disabled")};
d8.prototype.wy=function(s,N){};d8.prototype.sV=function(s,N,r){};d8.prototype.vE=function(s){};d8.prototype.uw=function(s,N){};
d8.prototype.qk=function(s){this.name=s;this.N()};d8.prototype.jH=function(){};d8.prototype.af2=function(s){if(s.button==0)this.c(new hU("select",!1))};
d8.prototype.apQ=function(s){W.wC(s);if(this.Hm!=null&&isNaN(this.Hm))return;var N=W.WO(s,document.body),r=this.jj;
r.update(null);r.N();r.parent=this;var S=new hU(k.E.Y,!0);S.data={d:k.s.xh,mk:r,x:N.x+1,y:N.y+1};this.c(S)};
d8.prototype.r7=function(){this.qQ({})};d8.prototype.qQ=function(s){if(s.stopPropagation)s.stopPropagation();
if(this.Hm!=null&&!isNaN(this.Hm)){var N=new hU(k.E.Y,!0);N.data={d:k.s.fo,mk:this.jj};this.c(N);N.data={d:k.s.Jl,LS:eq.J5,h:parseFloat(this.Hm),V8:"del"};
this.c(N)}else if(this.a7M())this.c(new hU(k.E.Gz,!1))};d8.prototype.a7M=function(s){return!0};d8.prototype.Vk=function(s,N,r,S,z){};
d8.prototype.ud=function(s,N,r,S,z){};d8.prototype.gE=function(s,N,r,S,z){};d8.wY=function(s,N,r){if(s.childElementCount!=0)return;
var S=s.textContent;this.AD=this.ajj.bind(this);this.a03=this.acy.bind(this);this.M6=N;this.agG=r;this.VQ=s;
this.arU=S;var z=W.z("input","");z.setAttribute("type","text");z.setAttribute("size","10");z.setAttribute("value",S);
W.o3(s);s.appendChild(z);z.select();z.focus();W.Im(s);s.addEventListener("keyup",this.AD,!1);document.body.addEventListener("mousedown",this.a03,!1)};
d8.wY.prototype.ajj=function(s){var N=cK.UW,r=N(s.code,cK.D9);if(N(s.code,cK.Nl)||r)this.arp(r)};d8.wY.prototype.acy=function(s){var N=s.target;
if(N.tagName&&N.tagName.toLowerCase()=="input")return;this.arp(!0)};d8.wY.prototype.arp=function(s){var N=this.VQ,r=N.firstChild.value;
N.removeEventListener("keyup",this.AD);document.body.removeEventListener("mousedown",this.a03);if(this.agG||s&&r!=""&&r!=this.arU){this.M6(r)}else{W.o3(N);
N.textContent=this.arU}};d8.tZ={pI:"0",anG:"1",g$:"2",afv:"3",ae6:"4",Kk:"5",CSS:"6",rX:"7",aqc:"8",a3l:"9",aj7:"10",ad6:"11",atZ:"12",rg:"13",Ft:"14",a7O:"15",asy:"16",dI:"17",as_:"18",amS:"19",arg:"20",ta:"21",ars:"22"};
function bF(){d8.call(this,[9,9],!1,"---panels/actions",d8.tZ.ad6);this.tx=null;this.x7=[0,0];this.$f=W.z("div","padded scrollable");
this.$f.setAttribute("style","width:260px;  height:260px");this.aQ.appendChild(this.$f);this.W(k.E.o,this.Hc,this);
this.Vv=W.z("div","lpfoot");this.aQ.appendChild(this.Vv);this.J1=[];var s="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",N="</svg>",r=s+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+N,S=s+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+N;
this.aj8=s+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+N;this.apO=s+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+N;
var z=[this.aj8,S,"lrs/folder","lrs/newlayer","lrs/bin",r],A=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var l=0;l<z.length;l++){var B=z[l];if(1<l&&l!=z.length-1)B="<img src=\""+PIMG[z[l]]+"\" class=\"miniscale gsicon\" />";
var Y=new aa(B,!1,A[l]);Y.W("click",this.a62,this);this.Vv.appendChild(Y.e);this.J1.push(Y)}}bF.prototype=new d8("");
bF.prototype.N=function(){d8.prototype.N.call(this);for(var l=0;l<this.J1.length;l++)this.J1[l].N()};
bF.prototype.a62=function(s){var l=this.J1.indexOf(s.currentTarget),N=this.x7,r=this.tx,S=r.Va;if(l==0){var z,A=r.uR;
if(S.length==0){alert("Create an Action Set first.");return}if(N.length<2){alert("Select a target action first.");
return}if(A==null){z=this.apO;A=this.x7}else{z=this.aj8;A=null}this.J1[0].wp(z);r.uR=A}else if(l==1)this.acZ();
else if(l==2||l==3){var B={Ru:"Action Set "+S.length,bh:[],exp:!0};if(l==2||S.length==0){N=[S.length];
S.push(B)}if(l==3){var Y=S[N[0]].bh;N=[N[0],Y.length];Y.push({Ru:"Action "+Y.length,color:0,bh:[],acH:!1,shift:!1,exp:!0,Jb:Y.length})}this.x7=N;
this.rx()}else if(l==4){var t;if(N.length==1)t=S;else if(N.length==2)t=S[N[0]].bh;else t=S[N[0]].bh[N[1]].bh;
var p=N.length-1;t.splice(N[p],1);if(t.length==0)N.pop();else while(N[p]>=t.length)N[p]--;if(N.length==0)N.push(0);
this.rx()}else if(l==5){if(S.length==0){alert("No Actions Present.");return}var f=new hU(k.E.Y,!0);f.data={d:k.s.qO,aex:eq.r,VY:N[0]};
this.c(f)}};bF.prototype.Hc=function(s){var N=this.tx.Va,r=s.data.d,S=s.data.vv;if(r=="sel")this.x7=S;
if(r=="fold"){if(S.length==1)N[S[0]].exp=!N[S[0]].exp;else N[S[0]].bh[S[1]].exp=!N[S[0]].bh[S[1]].exp}if(r=="enab"){var z=N[S[0]].bh[S[1]].bh[S[2]];
z.K=!z.K}if(r=="nchange"){if(S.length==1)N[S[0]].Ru=s.data.sx;else N[S[0]].bh[S[1]].Ru=s.data.sx}this.rx()};
bF.prototype.wy=function(s,N){this.tx=s;if(N==eq.r||N==eq.pM)this.rx()};bF.prototype.rx=function(){if(this.tx==null)return;
W.o3(this.$f);var s=this.tx.Va;if(s.length==0)return;var N=JSON.stringify(this.x7);for(var l=0;l<s.length;
l++){var r=s[l],S=new bF.ZZ([l],N,r.exp,r.Ru.split("=").pop());S.parent=this;this.$f.appendChild(S.e);
if(!r.exp)continue;for(var z=0;z<r.bh.length;z++){var A=r.bh[z],S=new bF.ZZ([l,z],N,A.exp,A.Ru.split("=").pop());
S.parent=this;this.$f.appendChild(S.e);if(!A.exp)continue;for(var B=0;B<A.bh.length;B++){var Y=A.bh[B],S=new bF.ZZ([l,z,B],N,null,eV.get(dv.ahq(Y)),Y.K);
S.parent=this;this.$f.appendChild(S.e)}}}};bF.prototype.acZ=function(){var s=this.tx.Va,N=this.x7;if(s.length==0){alert("No Actions Present");
return}if(N.length==1){alert("Select an Action first");return}if(this.tx.uR!=null){alert("You can not apply actions while recording actions");
return}if(N.length==1)N.push(0);var r=s[N[0]],S=r.bh[N[1]],z=new hU(k.E.Y,!0);z.data={d:k.s.mj,PH:[S.Ru,r.Ru]};
this.c(z)};bF.ZZ=function(s,N,r,S,z){hz.call(this);this.vv=s;var A=this.vv.length-1;this.e=W.z("div","layeritem"+(JSON.stringify(s)==N?" selected":""));
this.yM=W.z("div","head");this.e.appendChild(this.yM);this.yM.setAttribute("style","height:24px");this.g9=W.z("div","headL");
this.yM.appendChild(this.g9);if(A!=0){var B=W.z("div");B.style.width=A*20+"px";this.g9.appendChild(B)}if(r!=null){var Y=this.ak6=W.z("div",r?"open":"closed");
this.g9.appendChild(Y)}else{var t=this.a0g=W.z("div","cmark");t.setAttribute("style","background-size:12px 12px; opacity:"+(z?1:.3));
this.g9.appendChild(t)}if(A==0){var p=W.z("div","folder");this.g9.appendChild(p)}var f=this.Ny=W.z("div","label");
f.textContent=S;this.g9.appendChild(f);this.e.addEventListener("mouseup",this.iW.bind(this),!1)};bF.ZZ.prototype=new hz;
bF.ZZ.prototype.iW=function(s){if(s.detail==1&&s.target.tagName.toLowerCase()!="input"){var N="sel";
if(s.target==this.ak6)N="fold";if(s.target==this.a0g)N="enab";var r=new hU(k.E.o,!0);r.data={d:N,vv:this.vv};
this.c(r)}else if(this.vv.length<3)var S=new d8.wY(this.Ny,this.M6.bind(this))};bF.ZZ.prototype.M6=function(s){var N=new hU(k.E.o,!0);
N.data={d:"nchange",sx:s,vv:this.vv};this.c(N)};function hS(){d8.call(this,[3],!1,"---lrs/adj",d8.tZ.as_);
this.aQ.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.J1=[];var l=0;
for(var s in ai.names){var N=new aa("<img src=\""+PIMG["adj/"+s]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,ai.names[s]);
N.W("click",this.amB,this);this.J1.push(N);this.aQ.appendChild(N.e);if(l==4||l==10)W.ts(this.aQ);l++}}hS.prototype=new d8("");
hS.prototype.N=function(){d8.prototype.N.call(this);for(var l=0;l<this.J1.length;l++)this.J1[l].N()};
hS.prototype.amB=function(s){var N=this.J1.indexOf(s.target),r=b4.tN()[N],S=new hU(r.O,!0);S.data=r.M;
this.c(S)};function ip(){d8.call(this,[12,22],!1,null,d8.tZ.ta);this.$f=W.z("div","padded");this.aQ.appendChild(this.$f);
this.nU=new ek(null,17.7,10);this.nU.parent=this;this.nU.W(k.E.o,this.s2,this);this.$f.appendChild(this.nU.UM)}ip.prototype=new d8("");
ip.prototype.s2=function(s){var N=this.nU.L(),r=new hU(k.E.r,!0);r.data={d:"setstl",h:N.KM};r.k=K.dl;
this.c(r);r.data={d:"confirm"};this.c(r)};ip.prototype.wy=function(s,N){if(N==eq.ta||N==eq.pM){this.nU.da([s.DE,s.dj])}};
var ca=function(){function s(){d8.call(this,[9,3],!1,"---panels/brush",d8.tZ.rX);this.TK=null;this.tx=null}s.prototype=new d8("");
s.prototype.HC=function(){var S=W.z("div","");this.aQ.appendChild(S);this.yb=W.z("div","bordered cell");
this.yb.setAttribute("style","width:10em; height:28.5em;");S.appendChild(this.yb);this.yf=[];this.KN=null;
this.El=[];var z=this.a46.bind(this);this.ez=[new N("basic"),new N("useTipDynamics"),new N("useScatter"),new N("useColorDynamics"),new N("usePaintDynamics")];
for(var l=0;l<this.ez.length;l++){var A=W.z("div","listitem"),B=this.ez[l],t=null;B.parent=this;B.W("brushchange",this.aoI,this);
var Y=B.cW;if(l==0){this.KN=new ju(Y);A.appendChild(this.KN.e)}else{t=new d1(Y,!1);t.W(k.E.o,this.a8F,this);
A.appendChild(t.e)}this.El.push(t);this.yb.appendChild(A);this.yf.push(A);A.addEventListener("click",z,!1)}this.R$=W.z("div","cell padded");
S.appendChild(this.R$);this.setItem(0);this.I=W.z("canvas");this.I.height=10;S.appendChild(this.I);this.IM=this.I.getContext("2d");
this.fs()};s.prototype.uw=function(S,z){if(this.s7==S)return;this.s7=S;this.JY=z;this.fs()};s.prototype.jH=function(){if(!W.zS(this.aQ))return;
if(this.yb){this.fs();return}this.HC();this.N();this.wy(this.tx,eq.pM)};s.prototype.N=function(){d8.prototype.N.call(this);
if(this.yb==null)return;this.KN.N();for(var l=1;l<this.El.length;l++)this.El[l].N();for(var l=0;l<this.ez.length;
l++)this.ez[l].N()};s.prototype.aoI=function(S){var z=this.ez.indexOf(S.currentTarget),A=JSON.parse(JSON.stringify(this.ez[z].TK)),B=new hU(k.E.Y,!0);
B.data={d:k.s.Jl,LS:eq.Uv,TK:A};this.c(B)};s.prototype.a8F=function(S){this.arP(this.El.indexOf(S.currentTarget),S.currentTarget.pX())};
s.prototype.a46=function(S){var l=this.yf.indexOf(S.currentTarget);if(S.target.tagName.toLowerCase()=="input")return;
if(this.El[l]&&!this.El[l].pX()){this.El[l].Io();this.arP(l,!0)}this.setItem(l)};s.prototype.arP=function(S,z){this.ez[S].al4(z)};
s.prototype.setItem=function(S){for(var l=0;l<this.ez.length;l++)this.yf[l].setAttribute("class","listitem");
if(this.R$.firstChild)this.R$.removeChild(this.R$.firstChild);this.yf[S].setAttribute("class","listitem selected");
this.R$.appendChild(this.ez[S].e)};s.prototype.wy=function(S,z){this.tx=S;if(this.yb==null)return;for(var l=0;
l<this.ez.length;l++)this.ez[l].wy(S,z);if(z==eq.Uv||z==eq.pM){this.TK=S.Vj.io;this.fs()}if(z==eq.rg)this.fs()};
s.prototype.fs=function(){if(this.TK)this.enable();else{this.disable();return}if(!W.zS(this.aQ))return;
var S=this.tx;for(var l=0;l<this.ez.length;l++){this.ez[l].b(this.TK);if(this.El[l])this.El[l].b(this.ez[l].pX())}var z=JSON.parse(JSON.stringify(this.TK));
z.Brsh.v.Dmtr.v.val=Math.min(z.Brsh.v.Dmtr.v.val,50);W.Bh(this.I,this.s7,80);var A=new hq(0,0,this.I.width,this.I.height),B=this.tx.Vj,Y=new ex(z,B?B.nv:null,B?B.wf:null,{nh:1},S.Hd,S.on,A,null,0),t=A.n/2,p=A.G-t*2;
Y.moveTo(t,t);for(var l=0;l<=p;l+=10)Y.lineTo(t+l,t+20*Math.sin(2*Math.PI*l/p));Y.finish();var f=this.IM.createImageData(A.G,A.n);
q.LP(Y.pp(),Y.dy(),f.data,A);this.IM.putImageData(f,0,0)};function N(S){hz.call(this);this.e=W.z("div");
this.TK=null;var z=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(S);
this.cW=[[15,0],[15,1],[15,2],[15,3],"Transfer"][z];this.eH=S;this.rU={};this.a4q=null;var A=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","prVr.jitter"]][z];
for(var l=0;l<A.length;l++){var B=A[l],Y;if(B=="--br"){Y=new ci;this.e.appendChild(Y.UM.firstChild)}else if(B=="Brsh.Dmtr")Y=new ao([12,14,0],1,1e3," px",0,!0);
else if(B=="Brsh.Angl")Y=new ao([12,15],0,359," \xB0");else if(B=="Brsh.Rndn")Y=new ao([12,16],0,100," %");
else if(B=="Brsh.Hrdn")Y=new ao([12,17],0,100," %");else if(B=="Brsh.Spcn")Y=new ao([12,18],1,300," %");
else if(B=="szVr.jitter")Y=new ao([15,4,0],0,100,"%");else if(B=="minimumDiameter")Y=new ao([15,4,1],0,100,"%");
else if(B=="angleDynamics.jitter")Y=new ao([15,4,2],0,100,"%");else if(B=="angleDynamics.bVTy")Y=new fa("Control",["Off","Direction"]);
else if(B=="roundnessDynamics.jitter")Y=new ao([15,4,3],0,100,"%");else if(B=="minimumRoundness")Y=new ao([15,4,4],1,100,"%");
else if(B=="scatterDynamics.jitter")Y=new ao([15,5,0],0,1e3," %");else if(B=="Cnt")Y=new ao([15,5,1],1,20);
else if(B=="countDynamics.jitter")Y=new ao([15,5,2],0,100," %");else if(B=="clVr.jitter")Y=new ao([15,6,0],0,100," %");
else if(B=="H")Y=new ao([15,6,1],0,100," %");else if(B=="Strt")Y=new ao([15,6,2],0,100," %");else if(B=="Brgh")Y=new ao([15,6,3],0,100," %");
else if(B=="opVr.jitter")Y=new ao("Opacity Jitter",0,100," %");else if(B=="prVr.jitter")Y=new ao("Flow Jitter",0,100," %");
else throw B;this.rU[B]=Y;Y.parent=this;Y.W(k.E.o,this.U_,this)}}N.prototype=new hz;N.prototype.ahC=function(){this.c(new hU("brushchange"))};
N.prototype.b=function(S){this.TK=JSON.parse(JSON.stringify(S));this.e.setAttribute("class",this.pX()?"":"disabled");
this.fs()};N.prototype.N=function(){for(var S in this.rU)this.rU[S].N()};N.prototype.pX=function(){return!0};
N.prototype.wy=function(S,z){if(z==eq.rX||z==eq.pM){var A=this.rU["--br"];if(A)A.da(S.Vj)}};N.prototype.U_=function(S){var z=S.target,A=this.rU,B;
for(var Y in A)if(A[Y]==z)B=Y;if(B=="--br"){var t=new hU(k.E.Y,!0);t.data={d:k.s.Jl,LS:eq.Uv,TK:z.L()};
this.c(t)}else{var p=r(this.TK,B),f=z.L();if(p){if(B.endsWith("bVTy"))p.v=f==0?0:6;else if(B=="Cnt")p.v=f;
else p.v.val=f;this.ahC()}}};N.prototype.fs=function(){var S=this.TK,z=S.Brsh.v.classID,A=this.rU,B=z!=this.a4q;
this.a4q=z;if(B){W.o3(this.e);for(var Y in A){if(z!="computedBrush"&&z!="sampledBrush"&&Y=="Brsh.Rndn")continue;
if(z!="computedBrush"&&Y=="Brsh.Hrdn")continue;var t=A[Y],p=t.e;if(Y=="--br"){p=t.ss.e;p.style.width="auto"}this.e.appendChild(p)}}for(var Y in A){if(Y=="--br")continue;
var f=r(S,Y),a;if(f){if(Y.endsWith("bVTy"))a=f.v==0?0:1;else if(Y=="Cnt")a=f.v;else a=f.v.val;A[Y].b(a)}}};
N.prototype.pX=function(){var S=this.eH;return S=="basic"?!0:this.TK[S].v};N.prototype.al4=function(S){var z=this.eH;
if(z=="basic")return;this.TK[z].v=S;fD.BR.a1h(this.TK);this.ahC()};function r(S,z){var A=z.split(".");
S=S[A[0]];for(var l=1;l<A.length;l++){if(S==null)return S;S=S.v[A[l]]}return S}return s}();function i5(){d8.call(this,[9,0],!1,"---panels/history",d8.tZ.pI);
this.aQ.setAttribute("style","min-width:200px;");this.mP=W.z("div","hpbody scrollable");this.mP.style.height="160px";
this.aQ.appendChild(this.mP);this.atQ=-1;this.S2=[];this.No="";this.SI=new hR([{name:"Clear History"}],[{O:k.E.r,k:K.pI,M:{d:"h_clear"}}])}i5.prototype=new d8("");
i5.prototype.th=function(){return this.SI};i5.prototype.sV=function(s){if(s==null){W.o3(this.mP);this.No="";
return}W.o3(this.mP);var N=0;for(var l=0;l<s.history.length;l++)if(l<=s.Jn&&!s.history[l].wg)N=l;for(var l=0;
l<s.history.length;l++){var r=s.history[l];if(r.wg)continue;var S=new dZ(r,l,N);S.parent=this;this.mP.appendChild(S.e);
this.S2.push(S)}if(s.Jn==s.history.length-1)this.jH()};i5.prototype.jH=function(){this.mP.scrollTop=this.mP.scrollHeight};
i5.prototype.N=function(){d8.prototype.N.call(this);for(var l=0;l<this.S2.length;l++)this.S2[l].N()};
function dZ(s,l,N){hz.call(this);this.index=l;this.e=W.z("div",l==N?"listitem selected":"listitem");
this.qM=s.name;this.N();if(l>N)this.e.style.opacity=.4;this.e.addEventListener("click",this.Vk.bind(this),!1)}dZ.prototype=new hz;
dZ.prototype.N=function(){this.e.textContent=eV.get(this.qM)};dZ.prototype.Vk=function(s){if(this.index==this.parent.atQ)return;
this.Bs({d:"h_itemchange",index:this.index})};dZ.prototype.Bs=function(s){var N=new hU(k.E.r,!0);N.data=s;
N.k=K.pI;this.c(N)};function b2(){d8.call(this,[9,10],!1,"---panels/histogram",d8.tZ.ae6);var s=W.z("div","padded");
this.aQ.appendChild(s);this.aV=new av(256,!0);s.appendChild(this.aV.e);this.IC=null}b2.prototype=new d8("");
b2.prototype.sV=function(s){this.IC=s;this.rx()};b2.prototype.rx=function(){var s=this.IC;if(!W.zS(this.aQ))return;
if(s==null||s.f.length==0){this.aV.b(q.yX(q.m(4)));return}var N=s.r9(),r=new hq(0,0,s.G,s.n),S=r.$();
if(s.q){var z=s.q.rect,A=q.m(z.$()*4);q.LP(N,r,A,z);q.Ee(s.q.channel,A);N=A;r=z;var B=s.q.channel;S=0;
for(var l=0;l<B.length;l++)S+=B[l];S=Math.round(S/255)}var Y=q.yX(N);Y[0][255]+=3*(S-Y[5]);for(var l=1;
l<4;l++)Y[l][255]+=S-Y[5];this.aV.b(Y,S)};b2.prototype.wy=function(s,N){this.aV.Cl(bP.Vx[s.zR]["--text-color"])};
b2.prototype.N=function(){d8.prototype.N.call(this);this.aV.N()};b2.prototype.jH=function(){this.rx()};
function d7(){d8.call(this,[9,8],!1,"---adj/clrL",d8.tZ.anG);this.$f=W.z("div","padded");this.aQ.appendChild(this.$f);
this.SA=new fc(10);this.$f.appendChild(this.SA.e);this.$f.appendChild(W.z("hr"));this.Wp=new bS;this.Wp.parent=this;
this.$f.appendChild(this.Wp.UM);this.SA.W(k.E.o,this.auT,this);this.Wp.W(k.E.o,this.auT,this)}d7.prototype=new d8("");
d7.prototype.auT=function(s){var N;if(s.target==this.SA)N=this.SA.L();else{var r=this.Wp.L();N=Math.round(r.w)<<16|Math.round(r.A)<<8|Math.round(r.U)}var S=new hU(k.E.Y,!0);
S.data={d:k.s.Jl,LS:eq.rg,Xy:0,h:N};this.c(S)};d7.lj=function(s,N){var r=N==eq.pM,S=s.Ww,z=s.VV,A=z.strokeStyleContent.v,B=null;
if((N==eq.RG||r)&&S.Hf==1){B=q.i.iy(S.SR.Clr.v);B=B.w<<16|B.A<<8|B.U}if((N==eq.n8||r)&&z.strokeEnabled.v&&A.classID=="solidColorLayer"){B=q.i.iy(A.Clr.v);
B=B.w<<16|B.A<<8|B.U}if(N==eq.rg||r)B=s.Hd;return B};d7.prototype.wy=function(s,N){var r=s.Hd,S=N==eq.pM,z=d7.lj(s,N);
if(z!=null){this.SA.b(z);this.Wp.b({w:z>>>16&255,A:z>>>8&255,U:z>>>0&255,v8:"Color #"+q.fD(z)})}if(N==eq.Pt||S){var A=s.aap;
this.Wp.da(A)}};function hV(){d8.call(this,[12,72],!1,"---adj/mixr",d8.tZ.asy);this.oH=null;this.BS=null;
this.mP=W.z("div","lpbody scrollable");this.Vv=W.z("div","lpfoot");this.aQ.appendChild(this.mP);this.aQ.appendChild(this.Vv);
this.GI=[];this.W("click",this.kB,this);this.CY=[];hV.c7([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.CY,this.Vv,this.ah.bind(this),this.lX.bind(this));
this.SI=new hR([{name:"Merge Channels",yL:!0}],[{O:k.E.Y,M:{d:k.s.Pv,ic:"mergechannels"}}])}hV.prototype=new d8("");
hV.prototype.th=function(){return this.SI};hV.c7=function(s,N,r,S,z){for(var l=0;l<s.length;l++){var A=new aa("W",!1,s[l]);
N.push(A);W.JQ(A.e,S);r.appendChild(A.e);var B=A.e;B.addEventListener("drop",z,!1);B.addEventListener("dragover",function(Y){Y.preventDefault()},!1);
B.addEventListener("dragenter",W.wC,!1)}};hV.yJ=function(s,N){for(var l=0;l<s.length;l++)if(s[l].e==N.currentTarget)return l};
hV.prototype.ah=function(s){var N=hV.yJ(this.CY,s);if(N==0)this.c(ch.qu(!0,null,s));else{N--;var r=new hU(k.E.gu,!0),S={classID:"null"};
if(N==0)S.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(N==1)S.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else S.null=dv.kY("Chnl",!0);r.data={uU:["duplicate","make","delete"][N],wz:S};this.c(r)}};hV.prototype.lX=function(s){var N=hV.yJ(this.CY,s);
if(N==2){var r=new hU(k.E.gu,!0),S={classID:"null"};S.null=dv.kY("Chnl",!0);r.data={uU:"duplicate",wz:S};
this.c(r)}else this.ah(s)};hV.prototype.DG=function(l){var s=this.GI,N=s[l];if(N==null){var r=W.z("canvas");
N=r.getContext("2d");s.push(N)}return N};hV.prototype.kB=function(s){var N=this.oH.slice(0),r=s.data.Jb,S=N[0]+N[1]+N[2],z=this.BS;
if(-5<r&&r<0){var A=-r-1;if(s.data.sP){if(A==0)N=S==3?[0,0,0]:[1,1,1];else{if(N[A-1]==0)N[A-1]=1;else if(!0)N[A-1]=0}}else{if(A==0)N=[1,1,1];
else{N=[0,0,0];N[A-1]=1}z.rz=[]}var B=new hU(k.E.r,!0);B.k=K.g1;B.data={d:"setcls",$s:N};this.c(B);return}if(-1<r){var Y=z.p[r],t=Y.GC==1?Y.eg():Y.NM(z).B;
if(s.data.sP)t.TU=!t.TU;else{for(var l=0;l<z.Aa.length;l++)z.Aa[l].TU=!1;z.rz=[]}}else{var p=-r-5,t=z.Aa[p];
if(s.data.sP)t.TU=!t.TU;else{for(var l=0;l<z.Aa.length;l++)z.Aa[l].TU=!1;t.TU=!0;z.rz=[p]}}z.kk=z._R=!0};
hV.prototype.jH=function(){this.J$()};hV.prototype.sV=function(s){this.BS=s;this.J$()};hV.prototype.J$=function(){var s=this.BS,N=this.mP,c=4;
W.o3(N);if(s==null||!W.zS(N))return;var r=s.G,S=s.n,z=new hq(0,0,r,S),A=this.oH=s.a.$s.slice(0),B=A[0]+A[1]+A[2],Y=Math.round(34*W.Z()),t=Y;
if(r>S)t=Math.round(t*S/r);else Y=Math.round(Y*r/S);var p=["RGB"].concat(ai.Fi);for(var l=0;l<4;l++){var f=this.DG(l);
q.zg.W5(f,Y,t,z,s.r9(),z,!1,l==0?null:l-1);var a=l==0?B==3:A[l-1]==1,D=new ch(-1-l,!0,!0,f,p[l],a,a);
D.parent=this;N.appendChild(D.e);W.Sn(f.canvas)}for(var l=0;l<s.f.length;l++){var J=s.p[s.f[l]],Z=J.GC;
if(Z!=1&&Z!=3)continue;var Q=Z==1?J.eg():J.NM(s).B,f=this.DG(c+l);c++;q.zg.eJ(f,Y,t,z,Q);var D=new ch(s.f[l],!0,!0,f,J.getName()+(Z==1?"":" Filter")+" Mask",!0,Q.TU);
D.parent=this;N.appendChild(D.e);W.Sn(f.canvas)}for(var l=0;l<s.Aa.length;l++){var Q=s.Aa[l],f=this.DG(c+l);
q.zg.eJ(f,Y,t,z,Q);var D=new ch(-5-l,!0,Q.name=="Quick Mask",f,Q.name,s.rz.indexOf(l)!=-1,Q.TU,K.g$,{d:y.xn,Xy:"rnm",Jb:l});
D.parent=this;N.appendChild(D.e);W.Sn(f.canvas)}};hV.prototype.uw=function(s,N){this.mP.style.height=N-9-26+"px";
this.mP.style.width=s+"px"};hV.prototype.N=function(){d8.prototype.N.call(this);this.J$();hV.vt(this.CY,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
hV.vt=function(s,N){var N=gI.Is(N,null,"miniscale");for(var l=0;l<s.length;l++)s[l].wp(N[l])};function ch(s,N,r,S,z,A,B,Y,t){hz.call(this);
this.e=W.z("div","layeritem");this.arG=s;this.ahy=N;this.IM=S;this.af8=Y;this.aoY=t;this.yM=W.z("div",A?"head selected":"head");
this.yM.setAttribute("style","height: "+40+"px");var p=W.z("div","headL"),f=W.z("div","headR"),a=15;
this.e.appendChild(this.yM);this.yM.appendChild(p);this.yM.appendChild(f);this.iz=W.z("div","eye");if(1<W.Z()&&W.Z()<1.5)a=a/W.Z();
this.iz.setAttribute("style","background-size: "+a+"px "+a+"px;");this.iz.style.opacity=B?1:.2;if(N)p.appendChild(this.iz);
this.ob=W.z("div","thumb");if(S)this.ob.appendChild(S.canvas);p.appendChild(this.ob);this.o8=W.z("div","label");
if(r)this.o8.style.fontStyle="italic";this.o8.textContent=eV.get(z);p.appendChild(this.o8);var D=this.yM;
D.setAttribute("draggable","true");D.addEventListener("dragstart",function(c){c.dataTransfer.setData("Text","")},!1);
W.JQ(this.yM,this.agh.bind(this));if(!r)this.yM.addEventListener("mouseup",this.ahv.bind(this),!1)}ch.prototype=new hz;
ch.prototype.M6=function(s){var N=new hU(k.E.r,!0);N.k=this.af8;N.data=this.aoY;N.data.name=s;this.c(N)};
ch.prototype.agh=function(s){var N=s.ctrlKey||s.metaKey,r=this.arG;if(N&&s.target==this.IM.canvas){this.c(ch.qu(this.ahy,r,s))}else{var S=new hU("click",!0);
S.data={Jb:r,sP:s.target==this.iz,OT:N};this.c(S)}};ch.prototype.ahv=function(s){if(s.detail==2&&s.target==this.o8){var N=new d8.wY(this.o8,this.M6.bind(this))}};
ch.qu=function(s,N,r){var S=0;if(r.shiftKey)S++;if(r.altKey)S+=2;var z=new hU(k.E.r,!0);z.k=K.Kn;if(s){if(-5<N&&N<0){z=new hU(k.E.gu,!0);
z.data=K.eL.X6(S,["RGB","Rd","Grn","Bl"][-1-N])}else z.data={d:"fromchannel",PH:[N,0,S]}}else z.data={d:"frompath",PH:[N,0,S]};
return z};function f6(){d8.call(this,[8,9],!1,"---panels/paths",d8.tZ.dI);this.oH=null;this.BS=null;
this.mP=W.z("div","lpbody scrollable");this.Vv=W.z("div","lpfoot");this.aQ.appendChild(this.mP);this.aQ.appendChild(this.Vv);
this.aQ.addEventListener("click",this.ate.bind(this),!1);this.GI=[];this.W("click",this.kB,this);this.CY=[];
hV.c7(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.CY,this.Vv,this.ah.bind(this),this.lX.bind(this))}f6.prototype=new d8("");
f6.prototype.ah=function(s,N){var r=hV.yJ(this.CY,s),S;if(r<2){S=new hU(k.E.gu,!0);S.data=K.HZ.sc(r)}else if(r==2)S=ch.qu(!1,null,s);
else if(r==3){S=new hU(k.E.gu,!0);S.data={uU:"make",wz:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(r>3){var S=new hU(k.E.r,!0);
S.k=K.pG;S.data={d:"pathedit",Xy:["new","del"][r-4],a2p:N}}this.c(S)};f6.prototype.lX=function(s){this.ah(s,!0)};
f6.prototype.DG=function(l){var s=this.GI,N=s[l];if(N==null){var r=W.z("canvas");N=r.getContext("2d");
s.push(N)}return N};f6.prototype.ate=function(s){if(s.target==this.mP){var N=this.BS;N.LD=[];N.$Y=[];
N._R=!0;N.kk=!0}};f6.prototype.kB=function(s){var N=s.data.Jb,r=this.BS,S=s.data.OT,z=0,A,B;if(N<0){z=-1-N;
A=r.LD;B=r.$Y}else{var Y=r.Ly()[0];for(var l=0;l<Y.length;l++){var t=Y[l].Jb;if(t==N)break;if(t>=0)z++}A=r.$Y;
B=r.LD}if(S){var p=A.indexOf(z);if(p==-1)A.push(z);else A.splice(p,1)}else{while(A.length!=0)A.pop();
while(B.length!=0)B.pop();A.push(z)}r._R=!0;r.kk=!0};f6.prototype.jH=function(){this.J$()};f6.prototype.sV=function(s){this.BS=s;
this.J$()};f6.prototype.J$=function(){var s=this.BS,N=this.mP;W.o3(N);if(s==null||!W.zS(N))return;var r=s.G,S=s.n,z=new hq(0,0,r,S),A=this.oH=s.a.$s.slice(0),B=A[0]+A[1]+A[2],Y=Math.round(34*W.Z()),t=Y;
if(r>S)t=Math.round(t*S/r);else Y=Math.round(Y*r/S);var p=s.Ly(),f=p[0];for(var l=0;l<f.length;l++){var a=f[l],D=this.DG(l);
q.zg.aeV(D,Y,t,z,a.add.vmsk);var c=new ch(a.Jb,!1,a.Jb>=0,D,a.name,p[1].indexOf(l)!=-1,!1,K.pG,{d:"pathedit",Xy:"rnm",Jb:a.Jb});
c.parent=this;N.appendChild(c.e);W.Sn(D.canvas)}};f6.prototype.uw=function(s,N){this.mP.style.height=N-9-26+"px";
this.mP.style.width=s+"px"};f6.prototype.N=function(){d8.prototype.N.call(this);this.J$();hV.vt(this.CY,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function h0(s){d8.call(this,[9,s?4:5],!1,"---panels/"+(s?"character":"paragraph"),s?d8.tZ.a3l:d8.tZ.aj7);
this.aQ.setAttribute("style","min-width:240px;");this.a1_=s;this.ql=null;this.tx=null}h0.prototype=new d8("");
h0.prototype.HC=function(){this.ql=new fr;var s=this.ql,N=this.aQ;s.parent=this;if(this.a1_){var r=W.z("div","marged");
N.appendChild(r);r.appendChild(s.X8.e);N.appendChild(W.z("hr"));var S=W.z("div","marged");N.appendChild(S);
S.appendChild(s.yU.e);S.appendChild(s.QJ.e);var z=W.z("div","marged");N.appendChild(z);z.appendChild(s.OM.e);
z.appendChild(s.pJ.e);N.appendChild(W.z("hr"));var A=W.z("div","marged");N.appendChild(A);A.appendChild(s.Q5.e);
A.appendChild(s.ir.e);var B=W.z("div","marged");N.appendChild(B);B.appendChild(s.rH.e);B.appendChild(s.PT.e);
B.appendChild(s.X1.e);N.appendChild(W.z("hr"));var Y=W.z("div","marged");N.appendChild(Y);Y.appendChild(s.PE.e);
Y.appendChild(s.f3.e);Y.appendChild(s.X9.e);Y.appendChild(s.IE.e);Y.appendChild(s.G1.e);Y.appendChild(s.H2.e);
Y.appendChild(s.Cf.e);Y.appendChild(s.tR.e)}else{var r=W.z("div","marged");N.appendChild(r);r.appendChild(s.Ec.e);
r.appendChild(s.Sc.e);r.appendChild(s.fg.e);r.appendChild(s.afd.e);r.appendChild(s.atB.e);r.appendChild(s.a67.e);
r.appendChild(s.alK.e);N.appendChild(W.z("hr"));var S=W.z("div","marged");N.appendChild(S);S.appendChild(s.cO.e);
S.appendChild(s.Ot.e);S.appendChild(s.hg.e);N.appendChild(W.z("hr"));var z=W.z("div","marged");N.appendChild(z);
z.appendChild(s.Jy.e);z.appendChild(s.Ll.e);z.appendChild(s.ld.e);z.appendChild(s.P6.e)}};h0.prototype.jH=function(){if(!W.zS(this.aQ))return;
if(this.ql==null){this.HC();var s=this.tx;if(s)this.ql.b(s.Rl,s.dw,s.h5);this.ql.N()}};h0.prototype.N=function(){d8.prototype.N.call(this);
if(this.ql)this.ql.N()};h0.prototype.wy=function(s,N){this.tx=s;if(N!=eq.pM&&N!=eq.j4&&N!=eq.Bw&&N!=eq.zY)return;
if(this.ql)this.ql.b(s.Rl,s.dw,s.h5)};function aR(){d8.call(this,[9,13],!1,"---panels/glyphs",d8.tZ.amS);
this.ql=new fr;this.ql.parent=this;this.tx=null;this.acC=null;this.afX=null;this.Uh=null;this.a7q=null;
this.u5=Math.round(290*W.Z());this.Ri=45;this.asJ=4;this.aqx=this.rx.bind(this);this.ajt=0;this.Ai=new fa(null,["Hi","Hello"]);
this.Ai.W(k.E.o,this.rx,this);var s=this.Pf=new aa("-",null,null,!0);s.W("click",this.avW,this);var N=this.aak=new aa("+",null,null,!0);
N.W("click",this.avW,this);this.ss=new j7(!1);this.ss.W(k.E.o,this.KX,this);this.ss.e.style.height=250+"px";
var r=this.x6=W.z("div","form padded");this.aQ.appendChild(r);r.appendChild(this.ql.X8.e);W.ts(r);r.appendChild(this.Ai.e);
r.appendChild(s.e);r.appendChild(N.e);this.aQ.appendChild(this.ss.e)}aR.prototype=new d8("");aR.prototype.uw=function(s,N){if(this.s7==s)return;
this.s7=s;this.u5=Math.floor((s-13)*W.Z());this.x6.setAttribute("style","width:"+this.u5/W.Z()+"px;");
this.ss.e.style.height=N-73+"px";this.rx()};aR.prototype.KX=function(s){var N=this.aqw(),r=Math.round(this.u5/N);
N/=W.Z();var S=this.ss.L()[0]*r*this.asJ,z=this.ss.aqT();S+=Math.floor(z.y/N)*r;S+=Math.floor(z.x/N);
var A=this.Uh[this.Ai.L()];if(S>=A.length)return;var B=A[S],Y=this.a7q[B],t=new hU(k.E.r,!0);t.k=K.wQ;
if(Y.Fc.length==0)t.data={d:"insertGlyph",h:S+1};else t.data={d:"insertText",h:String.fromCodePoint(Y.Fc[0])};
this.c(t)};aR.prototype.avW=function(s){var N=1.2;if(s.target==this.Pf){if(this.Ri>20)this.Ri/=N}else{if(this.Ri<100)this.Ri*=N}this.rx()};
aR.prototype.jH=function(){this.wy(this.tx)};aR.prototype.wy=function(s,N){this.tx=s;if(!W.zS(this.aQ))return;
this.ql.b(s.Rl,s.dw,s.h5);var r=s.Rl,S=r.GN.Font,t=0;if(S==null)return;var z=r.H4[S].Name;if(this.acC==z)return;
var S=s.dw.y0(z);if(S==null)return;var A=S.maxp.numGlyphs,B=this.a7q=new Array(A);for(var l=0;l<A;l++)B[l]={Fc:[]};
var Y=Date.now(),p=new Uint8Array(1048575);for(var l=0;l<1048575;l++){var f=Typr.U.codeToGlyph(S,l);
if(f!=0&&f<A){p[l]=1;if(B[f].Fc.length==0)t++;B[f].Fc.push(l)}}var a=aR.gF,D=[];for(var l=0;l<a.length;
l++)D.push([]);for(var f=1;f<A;f++){D[0].push(f);var c=B[f].Fc[0];if(c==null){continue}for(var J=1;J<a.length;
J++){var Z=a[J].sa;for(var l=0;l<Z.length;l+=2)if(Z[l]<=c&&c<=Z[l+1]){D[J].push(f);break}}}this.Uh=D;
var Q=[];for(var l=0;l<a.length;l++)Q.push(a[l].bT+" ("+D[l].length+")");var M=this.Ai.L();this.Ai.dO(Q);
this.Ai.b(M);this.acC=z;this.afX=S;this.rx()};aR.prototype.aqw=function(s){var N=Math.floor(this.u5/this.Ri);
return Math.floor(this.u5/N)};aR.prototype.rx=function(s){if(!W.zS(this.aQ)||this.Uh==null)return;var N=this.Uh[this.Ai.L()],r=N.length,S=this.afX,z=Typr.U,A=this.aqw(),B=A,Y=B*.8,t=B*.8/S.head.unitsPerEm,p=[],f=Math.floor(this.u5/A),a=Math.ceil(r/f),D=this.asJ,c=Date.now();
for(var J=0;J<a;J+=D){var Z=W.z("canvas"),Q=Z.getContext("2d");Z.width=A*f;Z.height=B*D;Q.strokeStyle="rgba(0,0,0,0.3)";
Q.fillStyle="white";Q.fillRect(0,0,f*A,B*D);for(var M=0;M<D;M++){for(var u=0;u<f;u++){var l=N[(J+M)*f+u];
if(l==null)break;var P=z.glyphToPath(S,l),m=q.g.OH(P.crds);if(!m.Nf()){Q.fillStyle="#252525";Q.beginPath();
var i=u*A+(A-m.G*t)*.5-m.x*t,e=M*B+Y;Q.translate(i,e);Q.scale(t,-t);z.pathToContext(P,Q);Q.scale(1/t,-1/t);
Q.translate(-i,-e);Q.fill()}}}Q.beginPath();for(var u=0;u<f;u++){var X=u*A+A+.5;Q.moveTo(X,0);Q.lineTo(X,B*D)}for(var M=0;
M<D;M++){var $=M*B+B+.5;Q.moveTo(0,$);Q.lineTo(f*A,$)}Q.stroke();p.push(Z)}this.ss.en(p,null,A*f,B*D)};
aR.gF=[{bT:"All Glyphs"},{bT:"Basic Latin, Latin 1",sa:[0,127,128,143]},{bT:"Latin Extended-A",sa:[256,383]},{bT:"Latin Extended-B",sa:[384,591]},{bT:"Punctuations",sa:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{bT:"Greek",sa:[880,1023]},{bT:"Cyrillic",sa:[1024,1279]},{bT:"Hebrew",sa:[1424,1535]},{bT:"Arabic",sa:[1536,1791]},{bT:"Emoji",sa:[9728,10095,127744,129535]}];
function fY(){d8.call(this,[13,0],!1,null,d8.tZ.rg);this.x1=0;this.a1U=0;this.tx=null;var s=W.z("div","flexrow padded");
this.aQ.appendChild(s);var N=W.z("div");s.appendChild(N);this.nT=[];for(var l=0;l<2;l++){var r=new bw;
this.nT.push(r);r.W("click",this.arA,this);N.appendChild(r.e)}this.cZ=new kh(192);this.cZ.W(k.E.o,this.n7,this);
this.E4=new hd;this.E4.parent=this;s.appendChild(this.cZ.e)}fY.prototype=new d8("");fY.prototype.arA=function(s){var N=s.currentTarget,r=this.nT.indexOf(N);
if(r==this.x1){this.E4.vd(r)}else{this.x1=r;this.rx()}};fY.prototype.n7=function(s){var N=this.cZ.L();
this.cZ.b(N);var r=Math.round(N.w*255)<<16|Math.round(N.A*255)<<8|Math.round(N.U*255),S=new hU(k.E.Y,!0);
S.data={d:k.s.Jl,LS:eq.rg,Xy:this.x1,h:r};this.c(S);this.a1U=Date.now()};fY.prototype.rx=function(){var s=this.tx,N=this.x1,r=[s.Hd,s.on];
for(var l=0;l<2;l++){var S=this.nT[l],z=S.e.style;S.Cl(r[l]);if(l==N)z.filter="drop-shadow(0 0 1px #000000)"}var A=r[N];
if(Date.now()-this.a1U>100)this.cZ.b({w:(A>>>16)/255,A:(A>>>8&255)/255,U:(A&255)/255})};fY.prototype.wy=function(s,N){this.tx=s;
if(N==eq.pM||N==eq.rg){this.E4.a19(s.Hd,s.on);this.rx()}};fY.prototype.jH=function(){this.rx()};function gB(){d8.call(this,"CSS",!1,"---panels/css",d8.tZ.CSS);
this.IC=null;var s=W.z("div","padded");this.aQ.appendChild(s);this.S_=W.z("textarea");W.Im(this.S_);
s.appendChild(this.S_)}gB.prototype=new d8("");gB.prototype.uw=function(s,N){if(this.s7==s)return;this.s7=s;
this.S_.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(s-10)+"px; height:"+(N-10)+"px")};
gB.prototype.sV=function(s){this.IC=s;this.rx()};gB.prototype.wy=function(s,N){if(N==eq.Bw)this.rx()};
gB.prototype.rx=function(){var s=this.IC;if(s==null||s.f.length==0)return;if(!W.zS(this.aQ))return;var N=s.p[s.f[0]],r=CSS.adg(N,s);
if(r.length!=0)this.S_.value=r.join(";\n")+";";else this.S_.value=""};gB.prototype.jH=function(){this.rx()};
function f4(){d8.call(this,[9,6],!1,"---panels/info",d8.tZ.afv);this.aQ.setAttribute("style","min-width:240px;");
this.IC=null;this.tx=null;var s=W.z("div","marged row");this.aQ.appendChild(s);var N=W.z("div","cell");
N.setAttribute("style","width:10em");s.appendChild(N);var r=W.z("div","cell");r.setAttribute("style","width:10em");
s.appendChild(r);this.afD=[];for(var l=0;l<4;l++){var S=new ju("");this.afD.push(S);N.appendChild(S.e);
W.ts(N)}this.aQ.appendChild(W.z("hr",""));var z=W.z("div","marged row");this.aQ.appendChild(z);var N=W.z("div","cell");
N.setAttribute("style","width:10em");var r=W.z("div","cell");r.setAttribute("style","width:10em");z.appendChild(N);
z.appendChild(r);this.VA=new ju("");N.appendChild(this.VA.e);W.ts(N);this.Y5=new ju("");N.appendChild(this.Y5.e);
this.Wf=new ju("");r.appendChild(this.Wf.e);W.ts(r);this.C5=new ju("");r.appendChild(this.C5.e);this.VA.b("X: 100 px");
this.Y5.b("Y: 100 px");this.Wf.b("W: 0");this.C5.b("H: 0")}f4.prototype=new d8("");f4.prototype.ud=function(s,N,r,S,z){if(!W.zS(this.aQ)||s==null)return;
var A=s.a.Vd(z.x,z.y),B=new cR(Math.floor(A.x),Math.floor(A.y));if(!z.Rd){var Y=0,t=0,p=0,f=0,a=this.afD;
if(!z.Rd&&!s.a2Y()&&new hq(0,0,s.G-1,s.n-1).CZ(B)){var D=s.r9(),l=s.G*B.y+B.x<<2;Y=D[l+0];t=D[l+1];p=D[l+2];
f=D[l+3]}a[0].b("R: "+Y);a[1].b("G: "+t);a[2].b("B: "+p);a[3].b("A: "+f)}this.VA.b("X: "+q.HR.jc(B.x,s.FD,r,s.G));
this.Y5.b("Y: "+q.HR.jc(B.y,s.FD,r,s.n));this.$a()};f4.prototype.$a=function(){var s=this.IC,N=this.tx,r=0,S=0;
if(s&&N){if(s.a.YO){r=s.a.YO.G;S=s.a.YO.n}else if(s.q){r=s.q.rect.G;S=s.q.rect.n}r=q.HR.jc(Math.abs(r),s.FD,N,s.G);
S=q.HR.jc(Math.abs(S),s.FD,N,s.n)}this.Wf.b(eV.get([12,41]).charAt(0)+": "+r);this.C5.b(eV.get([12,42]).charAt(0)+": "+S)};
f4.prototype.N=function(){d8.prototype.N.call(this);this.$a()};f4.prototype.sV=function(s,N,r){this.IC=s;
this.tx=r;this.$a()};function dz(){d8.call(this,[9,1],!1,"---panels/layers",d8.tZ.g$);this.t6=null;this.jO=null;
this.Qa=null;this.yM=W.z("div","lphead");this.mP=W.z("div","lpbody scrollable");this.Vv=W.z("div","lpfoot");
this.u1=new d1([0,6]);this.u1.W(k.E.o,this.zv,this);this.yM.appendChild(this.u1.e);this.N0=W.z("span","disabled");
this.N0.setAttribute("style","display:inline-block; height:26px");this.yM.appendChild(this.N0);this.lr=new fa(null,["Kind",[12,48]],!1,[]);
this.lr.W(k.E.o,this.zv,this);var s=this.KC=[new di(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new aW(null,null,8)];
s[0].W(k.E.o,this.zv,this);s[1].W("input",this.zv,this);this.apN();this.sh=new fa(null,bm.bN,!1,bm.Ew);
this.sh.W(k.E.o,this.a2o,this);this.yM.appendChild(this.sh.e);this.LE=new ij([12,0],0,100,"%",0);this.LE.W(k.E.o,this.atM,this);
this.LE.parent=this;this.yM.appendChild(this.LE.e);this.xW=new di([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.xW.W(k.E.o,this.a3k,this);this.yM.appendChild(this.xW.e);this.NW=new ij([12,26],0,100,"%",0);this.NW.W(k.E.o,this.al0,this);
this.NW.parent=this;this.yM.appendChild(this.NW.e);this.CY=[];this.c7();this.aQ.appendChild(this.yM);
this.aQ.appendChild(this.mP);this.mP.addEventListener("dragover",function(z){z.preventDefault()},!1);
this.mP.addEventListener("dragenter",W.wC,!1);this.mP.addEventListener("drop",this.a5z.bind(this),!1);
this.aQ.appendChild(this.Vv);this.aQ.addEventListener("contextmenu",W.wC,!1);var N=b4.n6(!0),r=b4.Ik(!0);
this.a3y=new hR(N,r);var N=[{name:[14,10]},{name:[14,11],Al:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Al:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",K:function(z){return{K:z.p[z.f[0]].add.SoLd!=null}},Al:!0},{name:[6,8],K:dz.a6X},{name:[6,34],K:function(z){var A=z.p[z.f[0]];
return{K:A.add.lmfx!=null&&!A.Ob()}}},{name:[6,40],Al:!0,K:function(z){var A=z.p[z.f[0]];return{K:A.add.TySh!=null}}},{name:"",Al:!0,K:function(z){var A=z.p[z.f[0]],B=A.add.TySh,Y=B?B.pg:null;
return{K:B!=null&&Y.Curve==null,Ty:eV.get(B&&en.E0(Y)==0?[16,3,1]:[16,3,0])}}},dz.a7E(!1),{name:[11,6],Al:!0,sub:[{name:[5,1],K:function(z){var A=z.p[z.f[0]];
return{K:A.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],K:function(z){var A=z.p[z.f[0]];return{K:A.add.lmfx!=null}}}]},{name:[6,12,0],K:function(z){var A=z==null?0:z.f.length;
return{K:A!=0&&(A!=1||z.f[0]!=0),Ty:eV.get(A>1||A==1&&z.p[z.f[0]].Ob()?[6,12,0]:[6,10])}}},{name:[6,12,1],Al:!0},{name:[13,0],sub:function(){var z=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],A=[];
for(var l=0;l<z.length;l++)A.push({name:z[l]});return A}()}],r=[{O:k.E.Y,M:{d:k.s.Pv,ic:"layerstyle"}},{O:k.E.r,k:K.Kn,M:{d:"fromlayer",PH:[null,0,0]}},{O:k.E.r,k:K.g$,M:{d:y.Wo}},{O:k.E.Y,M:{d:k.s.Pv,ic:"duplinto"}},{O:k.E.r,k:K.g$,M:{d:y.iN}},{O:k.E.gu,M:{uU:"newPlacedLayer"}},{O:k.E.r,k:K.g$,M:{d:y.H$}},{O:k.E.gu,M:{uU:"rasterizeLayer",wz:{classID:"rasterizeLayer",null:dv.kY("Lyr",!0)}}},{O:k.E.r,k:K.g$,M:{d:y.bd}},{O:k.E.r,k:K.g$,M:{d:y.au5}},{O:k.E.r,k:K.wQ,M:{d:"switchPntPrgr"}},{O:k.E.r,k:K.g$,M:{d:y.DM}},{sub:[{O:k.E.r,k:K.dl,M:{d:"st_copy"}},{O:k.E.r,k:K.dl,M:{d:"st_paste"}},{O:k.E.r,k:K.dl,M:{d:"st_clear"}}]},{O:k.E.gu,M:{uU:"mergeLayersNew",wz:{__name:"Merge Layers",classID:"Mrg2"}}},{O:k.E.gu,M:{uU:"flattenImage"}},{sub:function(){var z=[];
for(var l=0;l<8;l++)z.push({O:k.E.r,k:K.g$,M:{d:y.Md,at0:l}});return z}()}];this.R$=new hR(N,r);var N=[{name:[6,45],K:function(z){var A=z.p[z.f[0]];
return{K:A.NM(z).B==null}}},{name:[6,47]}],r=[{O:k.E.r,k:K.g$,M:{d:y.Ss}},{O:k.E.r,k:K.g$,M:{d:y.iU}}];
this.aaZ=new hR(N,r);var N=[{name:"enab/disab",K:function(z){return{Ty:eV.get(z.p[z.f[0]].eg().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],K:function(z){return{K:z.pu(!1,!0)}}}],r=[{O:k.E.r,k:K.g$,M:{d:y.so}},{O:k.E.r,k:K.g$,M:{d:y.lH}},{O:k.E.r,k:K.g$,M:{d:y._o}}];
this.a35=new hR(N,r);var N=[{name:"enab/disab",K:function(z){return{Ty:eV.get(z.p[z.f[0]].NM(z).B.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],r=[{O:k.E.r,k:K.g$,M:{d:y.rJ}},{O:k.E.r,k:K.g$,M:{d:y.Zp}}];
this.afh=new hR(N,r);var N=[{name:"enab/disab",K:function(z){return{Ty:eV.get(z.p[z.f[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],r=[{O:k.E.r,k:K.g$,M:{d:y.SM}},{O:k.E.r,k:K.g$,M:{d:y.$G}},{O:k.E.r,k:K.g$,M:{d:y.d5}}];
this.ajs=new hR(N,r);this.aev=new hR(b4.aeD(!0),b4.tN(!0));this.arR=new hR(b4.n6(),b4.Ik());this.W("rclick",this.a8R,this);
var S=function(z,A,l){return{az:this.fO[l]==1}}.bind(this);this.avo=new hR([{name:[0,6],K:S},{name:[14,10],K:S},{name:[6,57,2],K:S,Al:!0},{name:"Long-tap as a right click",K:S}]);
this.avo.W("select",this.awm,this);this.fO=[0,1,1,0];this.awm()}dz.prototype=new d8("");dz.prototype.th=function(){return this.avo};
dz.prototype.awm=function(s){var N=this.fO;if(s){var r=s.target.o4(),l=r[0];console.log(r);N[l]=1-N[l]}var S=[[this.u1,{e:this.N0}],[this.sh,this.LE],[this.xW,this.NW]];
for(var l=0;l<3;l++)for(var z=0;z<S[l].length;z++)S[l][z].e.style.display=N[l]==1?"inline-block":"none";
this.uw(this.s7,this.JY)};dz.prototype.au9=function(){if(this.u1.L()){var s=this.lr.L(),N=this.KC[s].L();
if(s==0)return N.indexOf(!0)!=-1;if(s==1)return N!=""}return!1};dz.a7E=function(s){var N=function(S){var z=S!=null&&S.f.length!=0&&S.p[S.f[0]].hE;
return{az:z,K:S!=null&&S.Mk(S.f[0]),M:{O:k.E.gu,M:{uU:z?"ungroup":"groupEvent",wz:{classID:z?"Ungr":"GrpL",null:dv.kY("Lyr",!0)}}}}},r={name:[6,6,0],Al:!0,K:N};
if(s)r.pj=[cK.nI,cK.z6,cK.ET];return r};dz.a6X=function(s,N){if(s)for(var l=0;l<s.f.length;l++){var r=s.p[s.f[l]];
if(r.add.TySh||r.add.SoLd||r.add.SoCo||r.add.GdFl||r.add.PtFl)return{K:!0}}return{K:!1}};dz.prototype.a5z=function(s){W.wC(s);
var N=s.dataTransfer.getData("Text"),r=1,S=0;if(N==""){W.zh(s,this,this.Qa.indexOf(this.jO),S+(r>.5?0:1))}else if(N!="--panel"){var N=JSON.parse(N),z=N.fW;
if(z=="l")this.Bs({d:y.Kz,source:N.VY,target:S,fr:r})}};dz.prototype.a8R=function(s){var N=this.jO,r=s.data,z;
if(N.f.indexOf(r.j)==-1){var S={d:y.ea,j:s.target.VQ.index,Iw:r.GC};this.Bs(S)}if(N.f.indexOf(r.j)==-1)return;
if(r.GC==1){z=this.a35}else if(r.GC==2){z=this.ajs}else if(r.GC==3){z=this.afh}else if(r.GC==4){z=this.aaZ}else if(r.GC==5){z=this.a3y}else{z=this.R$}z.N();
z.update(N);z.parent=this;var A=new hU(k.E.Y,!0);A.data={d:k.s.xh,mk:z,x:r.Hk.x+1,y:r.Hk.y+1};this.c(A)};
dz.prototype.N=function(){d8.prototype.N.call(this);this.sh.N();this.LE.N();this.xW.N();this.NW.N();
if(this.jO)this.sV(this.jO);var s="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var l=0;l<this.CY.length;l++){var N=this.CY[l];N.wp(W.xH(s[l],null,"miniscale"));if(l==1||l==2){N.e.style.position="relative";
var r=W.z("img","gsicon");r.setAttribute("src",PIMG["tools/corner"]);r.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
N.e.appendChild(r)}}};dz.prototype.sV=function(s,N){if(s&&!s.J4)return;if(s==null)W.Bc(this.aQ,"disabled");
else W.$F(this.aQ,"disabled");this.jO=s;this.Qa=N;if(this.t6!=null){this.mP.removeChild(this.t6.mP);
this.t6=null}if(s==null)return;var r=!1;for(var l=0;l<s.Aa.length;l++)if(s.Aa[l].TU)r=!0;this.t6=new jk(s.root,this,s,{qx:0,$X:!1},{aa3:r,avx:this.au9()});
this.mP.appendChild(this.t6.mP);if(s.f.length==0||s.p[s.f[0]]==null)W.Bc(this.yM,"disabled");else{W.$F(this.yM,"disabled");
if(s.f.length==1&&s.kf)this.t6.a3u(s.f);var S=s.p[s.f[0]];if(S.Ob()){this.sh.dO([[15,10,27]].concat(bm.bN),[1].concat(bm.Ew));
var z=bm.sI.indexOf(S.M9);this.sh.b(z+1)}else{this.sh.dO(bm.bN,bm.Ew);var z=bm.sI.indexOf(S.M9);this.sh.b(z)}this.LE.b(Math.round(100*S.opacity/255));
this.xW.b([S.pa(0),S.pa(1),S.pa(2),S.pa(31)]);var A=s.hh();this.sh.b4(!A);this.NW.b4(!A);this.LE.b4(!A);
this.xW.b4(!(A&&!S.pa(31)));this.NW.b(Math.round(100*(S.add.iOpa!=null?S.add.iOpa/255:1)))}};dz.prototype.uw=function(s,N){this.s7=s;
this.JY=N;var r=this.yM.getBoundingClientRect().height;if(55<r&&r<56)r=60.2;var S=N-(r+35);this.mP.style.height=S+"px";
this.mP.style.width=s+"px"};dz.prototype.a2o=function(s){this.Bs({d:y.q$,zr:this.sh.L()})};dz.prototype.atM=function(s){this.Bs({d:y.EX,zr:Math.round(255*this.LE.L()/100)})};
dz.prototype.a3k=function(s){this.Bs({d:y.te,zr:[this.xW.L(),[0,1,2,31]]})};dz.prototype.al0=function(s){this.Bs({d:y.bG,zr:Math.round(255*this.NW.L()/100)})};
dz.prototype.zv=function(s){if(s.target==this.lr)this.apN();var N=this.u1.L();if(N)W.$F(this.N0,"disabled");
else W.Bc(this.N0,"disabled");this.N();this.jO.J4=!0;this.sV(this.jO);this.jO.J4=!1};dz.prototype.apN=function(){W.o3(this.N0);
this.N0.appendChild(this.lr.e);this.N0.appendChild(this.KC[this.lr.L()].e)};dz.prototype.alM=function(s){this.aad(s,this.aev)};
dz.prototype.ap2=function(s){this.aad(s,this.arR)};dz.prototype.aad=function(s,N){var r=s.currentTarget;
if(W.zS(N.e))return;s.stopPropagation();var S=r.getBoundingClientRect();N.N();N.update(this.jO);N.parent=this;
var z=new hU(k.E.Y,!0);z.data={d:k.s.xh,mk:N,x:S.left,y:S.top,aj6:!0};this.c(z)};dz.prototype.aqA=function(s){this.Bs({d:y.a8Y})};
dz.prototype.aiV=function(s){this.Bs({d:this.jO.f.length>1?y.zK:y.ly})};dz.prototype.a0E=function(s){this.Bs({d:y.Jj})};
dz.prototype.ao1=function(s){var N=this.jO;if(N.f.length==0)return;var r=N.p[N.f[0]],S=r.GC;this.Bs({d:S<=0?r.Pu?y.$G:y.iN:S==3?y.Zp:y.lH})};
dz.prototype.awz=function(s){this.Bs({d:y.qR})};dz.prototype.Bs=function(s){var N=new hU(k.E.r,!0);N.data=s;
N.k=K.g$;this.c(N)};dz.prototype.c7=function(){var s=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],N=[this.awz,this.ap2,this.alM,this.aqA,this.aiV,this.a0E,this.ao1],r=this.a1f.bind(this);
for(var l=0;l<s.length;l++){var S=new aa("W",!1,s[l]);this.CY.push(S);W.JQ(S.e,N[l].bind(this));this.Vv.appendChild(S.e);
if(l>=s.length-3){var z=S.e;z.addEventListener("drop",r,!1);z.addEventListener("dragover",function(A){A.preventDefault()},!1);
z.addEventListener("dragenter",W.wC,!1)}}};dz.prototype.a1f=function(s){W.wC(s);var N=0,r=this.CY;while(r[N].e!=s.currentTarget)N++;
r[N].sD();var S=s.dataTransfer.getData("Text");if(S=="")return;var S=JSON.parse(S);if(S.fW=="l"){var z={d:[y.zK,y.Wo,y.iN][N-4]};
if(this.jO.f.indexOf(S.VY)==-1)z.j=S.VY;this.Bs(z)}if(N!=6)return;if(S.fW=="sm"||S.fW=="s"){var A=new hU(k.E.r,!0);
A.k=K.dl;A.data={d:S.fW=="sm"?"st_clear":"st_delsingle",j:S.VY,VY:S.U3};this.c(A)}if(S.fW=="fm"||S.fW=="f"){this.Bs({d:S.fW=="fm"?y.iU:y.AG,src:S.VY,U3:S.U3})}if(S.fW=="m"||S.fW=="vm"){this.Bs({d:S.fW=="m"?y.lH:y.$G,j:S.VY})}};
function jk(s,N,r,S,z){hz.call(this);this.parent=N;this.VQ=s;this.FG=[];this.e=W.z("div","layeritem");
var A=z.avx&&!this.ai5(),B=s.j,Y=r.f.indexOf(s.index)!=-1,u=!0,df=!1;this.yM=W.z("div",Y?"head selected":"head");
if(B.add.artb!=null)W.Bc(this.yM,"artb");var t=B.Ob()?26:Math.floor(10+B.aew/W.Z()),p="height: "+t+"px;";
if(Y&&z.aa3)p+="background-color:rgba(255,50,50,0.4);";this.yM.setAttribute("style",p);var f=W.z("div","headL"),a=W.z("div","headR"),D=W.z("div","lpineck");
this.mP=W.z("div","lpibody");this.yM.appendChild(f);this.yM.appendChild(a);if(!A){this.e.appendChild(this.yM);
if(B.rF()||B.Pi())if(B.Ey())this.e.appendChild(D)}var c=this.yM;c.setAttribute("draggable","true");c.addEventListener("dragstart",this.ik.bind(this),!1);
c.addEventListener("drop",this.He.bind(this),!1);c.addEventListener("dragover",this.h6.bind(this),!1);
c.addEventListener("dragenter",W.wC,!1);c.addEventListener("dragleave",this.Rs.bind(this),!1);var J=[],Z=[null,null,null,null],Q=B.ES(),M=s;
while(M.parent){M=M.parent;Q=Q&&M.j.ES()}if(B.hE){for(var l=s.index-1;l>=0;l--){var P=r.p[l];if(!P.hE){u=P.ES();
break}}}var m=B.ES()?Q&&u?2:1:0;this.nq=W.z("div");var i=W.z("div",m==0?"sqr":"eye");this.nq.appendChild(i);
i.style.opacity=[.12,.33,1][m];var e=W.z("div","space");this.o8=W.z("div","label");this.o8.setAttribute("style","max-width:calc(100% - "+(96+s.depth*20)+"px); margin-top:"+(t-19)/2+"px;");
this.o8.textContent=B.getName();this.dV=W.z("div","lock");this.auw=W.z("div","lrfx");this.Jt=W.z("div","arfx");
var X=this.ajN.bind(this),$=this.aaQ.bind(this);this.yM.addEventListener("click",$,!1);this.yM.addEventListener("contextmenu",X,!1);
var O=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],T=B.add.lclr==null?0:O[B.add.lclr];
if(T==0)T=S.qx;var b=[T>>16,T>>8&255,T&255];for(var l=0;l<3;l++){b[l]=Math.round(.5*b[l]+.5*220)}this.nq.setAttribute("style","background-color:rgba("+b.join(",")+","+(T==0?0:1)+");");
var R=this.a7h.bind(this);this.nq.addEventListener("mousedown",R,!1);this.nq.addEventListener("mouseover",R,!1);
this.Jt.addEventListener("click",this.aaz.bind(this),!1);J[0]=this.nq;J[1]=e;J[10]=this.o8;if(B.Ob()){var w=W.z("div","arrow"),F=W.z("div","folder");
this.bB(F);w.addEventListener("click",this.a0D.bind(this),!1);J[2]=w;J[3]=F;if(B.add.lsct==d9.KK||z.avx){var L={qx:T,$X:S.$X||B.pa(31)};
for(var l=s.children.length-1;l>=0;l--){var x=new jk(s.children[l],N,r,L,z);this.FG.push(x);this.mP.appendChild(x.e)}this.e.appendChild(this.mP)}w.setAttribute("class",B.add.lsct==d9.KK?"open":"closed")}else{this.ob=W.z("div","thumb");
J[5]=this.ob;jk.bS(this.ob,B.Hu);this.bB(this.ob);if(ai.get(B.add))W.Bc(B.Hu.canvas,"gsicon")}var g=B.eg();
if(g){this.i7=W.z("div","chain");this.mh=W.z("div","thumb");jk.bS(this.mh,B.a5H,!0);this.i7.style.opacity=g.kl?1:0;
this.i7.addEventListener("click",this.a8q.bind(this),!1)}var n=B.wu()&&B.add.vmsk;if(B.add.vmsk&&!n){this.SW=W.z("div","chain");
this.yN=W.z("div","thumb");jk.bS(this.yN,B.aq4,!0);this.SW.style.opacity=B.add.vmsk.kl?1:0;this.SW.addEventListener("click",this.art.bind(this),!1)}if(B.Pi()&&B.NM(r).B){this.Ja=W.z("div","thumb");
jk.bS(this.Ja,B.alB,!1);this.bB(this.Ja);this.Ja.addEventListener("click",$,!1);this.Ja.addEventListener("contextmenu",X,!1)}if(B.rF()){this.ae8=D;
D.addEventListener("contextmenu",X,!1);var h=new dz.KP(eV.get([12,1]),"sm","layerstyle",s.depth,0,null);
h.parent=this;D.appendChild(h.e);var _=B.add.lmfx,H=_.masterFXSwitch.v;h.pQ(H);for(var l=0;l<jG.order.length;
l++){var G=_[jG.Um[l]].v;if(G.length==0)continue;for(var j=0;j<G.length;j++){var h=new dz.KP(eV.get(jG.names[l]),"s","layerstyle",s.depth,1,[l,j]);
h.pQ(H&&G[j].v.enab.v);h.parent=this;D.appendChild(h.e)}}}if(B.Pi()){var h=new dz.KP(eV.get([12,55]),"fm",null,s.depth,0,-1,B.NM(r).B?this.Ja:null);
h.parent=this;D.appendChild(h.e);this.aiJ=h.e;this.aiJ.addEventListener("contextmenu",X,!1);var _=B.add.SoLd.filterFX.v,v=_.filterFXList.v,H=_.enab.v;
h.pQ(H);for(var l=v.length-1;l>=0;l--){var C=v[l].v,E=hT.Dg(C);if(ai.I5[E])E=ai.I5[E];var I=C.Nm.v;if(hT.names[E])I=eV.get(hT.names[E]);
if(ai.names[E])I=eV.get(ai.names[E]);var dJ="afw_"+E,h=new dz.KP(I,"f",dJ,s.depth,1,l);h.pQ(H&&C.enab.v);
h.parent=this;D.appendChild(h.e)}}if(s.index==r.f[0]){var fG=B.GC,o;if(fG<=0)o=this.ob;else if(fG==1)o=this.mh;
else if(fG==3)o=this.Ja;if(o)o.setAttribute("class","thumb active");if(B.Pu&&this.yN)this.yN.setAttribute("class","thumb active")}e.setAttribute("style","width:"+Math.max(0,s.depth-1)*18+"px");
var i4=B.add.lspf!=null&&B.add.lspf!=0||S.$X;this.dV.style.opacity=B.pa(31)?1:.5;J[4]=B.hE?W.z("div","clipp"):null;
J[6]=g?this.i7:null;J[7]=g?this.mh:null;J[8]=B.add.vmsk&&!n?this.SW:null;J[9]=B.add.vmsk&&!n?this.yN:null;
var eO=B.LW,cO=r.f;if(eO!=0)for(var l=0;l<cO.length;l++)if(r.p[cO[l]].LW==eO){df=!0;break}if(df){Z[0]=W.z("div",B.xK?"link":"linkX");
Z[0].addEventListener("click",this.a79.bind(this),!1)}Z[1]=i4?this.dV:null;Z[2]=B.rF()?this.auw:null;
Z[3]=B.rF()||B.Pi()?this.Jt:null;this.Jt.setAttribute("class",B.Ey()?"arfx open  gsicon":"arfx closed  gsicon");
var ej=J;for(var l=0;l<ej.length;l++)if(ej[l])f.appendChild(ej[l]);ej=Z;for(var l=0;l<ej.length;l++)if(ej[l])a.appendChild(ej[l])}jk.prototype=new hz;
jk.bS=function(s,N,r){var S=N.canvas;W.Sn(S);if(r)s.setAttribute("draggable","true");s.appendChild(S);
S.setAttribute("style",S.getAttribute("style")+"; pointer-events:none")};jk.prototype.bB=function(s){W.JQ(s,function(N){if(this.parent.fO[3]==0)return;
W.GF(N);W.eA(document.body,function(){clearTimeout(this.ahG)}.bind(this));this.ahG=setTimeout(function(){var r=new hU("rclick",!0);
r.data={j:this.VQ.index,GC:this.GC(N),Hk:W.WO(N,document.body)};this.c(r)}.bind(this),600)}.bind(this))};
jk.prototype.a3u=function(s){var N=this.VQ.index;if(s.indexOf(N)!=-1){if(this.e.scrollIntoView)this.e.scrollIntoView({block:"nearest"})}for(var l=0;
l<this.FG.length;l++)this.FG[l].a3u(s)};jk.Xx=function(s,N){var r=N.getBoundingClientRect();return(s.clientY-r.top)/r.height};
jk.prototype.ik=function(s){s.stopPropagation();var N=s.target==this.mh?"m":s.target==this.yN?"vm":"l";
s.dataTransfer.setData("Text",JSON.stringify({fW:N,VY:this.VQ.index}))};jk.prototype.Rs=function(s){W.wC(s);
this.Lz()};jk.prototype.He=function(s){W.wC(s);this.Lz();var N=s.dataTransfer.getData("Text"),r=this.parent.jO,S=jk.Xx(s,this.yM),z=this.VQ.index;
if(S>.8){var A=!0,B=r.root.uc(z);while(B.parent!=null){var Y=B.parent,t=Y.children;if(t.indexOf(B)!=0)A=!1;
B=B.parent}if(A){z=0;S=1}}if(N==""){W.zh(s,this,this.parent.Qa.indexOf(r),z+(S>.5?0:1))}else if(N!="--panel"){var N=JSON.parse(N),p=N.fW;
if(p=="l")this.Bs({d:y.Kz,source:N.VY,target:z,fr:S});else if(p=="m"||p=="vm")this.Bs({d:p=="m"?y.a39:y.eu,src:N.VY,lI:z});
else jk.a17(s,N,this)}};jk.a17=function(s,N,r,S){var z=N.fW,A=r.VQ.index,B=N.VY;if(z=="s"||z=="sm")r.Bs({d:y.Zr,src:B,lI:A,U3:N.U3});
if(z=="f"||z=="fm")r.Bs({d:y.a2F,src:B,lI:A,U3:N.U3,oD:S==null?0:S})};jk.prototype.h6=function(s){W.wC(s);
var N=jk.Xx(s,this.yM),r=this.VQ.j.Ob()&&.5<N&&N<.8;this.Lz();var S="inset 0 "+(r?0:N>.5?-3:3)+"px "+(r?"5px black":"0 rgba(0,0,0,0.5)");
this.yM.style.boxShadow=S};jk.prototype.Lz=function(s){this.yM.style.boxShadow=""};jk.abZ=-1;jk.lJ=!1;
jk.a3C=function(s){jk.lJ=!1;document.body.removeEventListener("mouseup",jk.a3C)};jk.prototype.a7h=function(s){if(s.button!=0)return;
if(s.type=="mousedown"){jk.lJ=!0;document.body.addEventListener("mouseup",jk.a3C,!1)}if(s.type=="mouseover"&&(!jk.lJ||jk.abZ==this.VQ.index))return;
W.wC(s);this.Bs({d:y.ks,j:this.VQ.index});jk.abZ=this.VQ.index};jk.prototype.a0D=function(s){W.wC(s);
this.Bs({d:y.awZ,j:this.VQ.index})};jk.prototype.a8q=function(s){this.Bs({d:y.dF,j:this.VQ.index})};
jk.prototype.art=function(s){this.Bs({d:y.oB,j:this.VQ.index})};jk.KL=0;jk.prototype.M6=function(s){this.Bs({d:y.RU,j:this.VQ.index,name:s})};
jk.prototype.aaz=function(s){this.Bs({d:y.a4s,j:this.VQ.index})};jk.prototype.a79=function(s){this.Bs({d:y.GE,j:this.VQ.index})};
jk.prototype.ajN=function(s){if(s.button!=2&&!W.abV(s))return;var N=this.GC(s);if(N!=3&&s.currentTarget==this.aiJ)N=4;
if(s.target==this.auw||s.currentTarget==this.ae8)N=5;var r=new hU("rclick",!0);r.data={j:this.VQ.index,GC:N,Hk:W.WO(s,document.body)};
this.c(r)};jk.prototype.GC=function(s){var N=s.target,r=N;return r==this.yN?2:r==this.mh?1:r==this.ob?0:r==this.Ja?3:-1};
jk.prototype.aaQ=function(s){var N=s.target,D;if(N==this.nq.firstChild||N==this.Jt||N==this.i7||N==this.SW||N.tagName&&N.tagName.toLowerCase()=="input")return;
var r=this.GC(s),S=this.parent.jO,z=this.VQ.index,A=S.p[z];if(N==this.dV){this.Bs({d:y.te,j:z,zr:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(N==this.o8){var B=jk.KL;jk.KL=Date.now();if(Date.now()-B<300){this.yM.setAttribute("draggable","false");
var Y=new d8.wY(this.o8,this.M6.bind(this))}else this.Bs({d:y.ea,j:z,Iw:r,YI:!0});return}if(s.button==0&&s.detail==2){if(N==this.o8)return;
var t=new hU(k.E.r,!0),p=new hU(k.E.Y,!0),f=new hU(k.E.gu,!0);if(r==0&&A.add.SoCo){var a=q.i.iy(A.add.SoCo.Clr.v);
p.data={d:k.s.Pv,ic:"colorpicker",qx:a.w<<16|a.A<<8|a.U,Rc:function(Z){var Q=q.i.Sm({U:Z&255,A:Z>>>8&255,w:Z>>16&255});
Q={classID:"null",Clr:{t:"Objc",v:Q}};var M=new hU(k.E.r,!0);M.k=K.g$;M.data={d:y.ad,vA:[z],LK:!0,h:{Hf:1,SR:Q}};
this.c(M)}.bind(this),mt:!0}}else if(r==0&&(ai.get(A.add)||A.add.SoCo||A.add.GdFl||A.add.PtFl))p.data={d:k.s.fk,ic:d8.tZ.Kk};
else if(r!=0&&r!=-1)p.data={d:k.s.fk,ic:d8.tZ.Kk};else if(r==0&&A.add.SoLd)f.data={uU:"placedLayerEditContents",wz:{classID:"placedLayerEditContents"}};
else if(r==0&&A.add.TySh){t.k=K.wQ;t.data={d:"editCurr",OK:z}}else p.data={d:k.s.Pv,ic:"layerstyle",j:z};
this.c(f.data?f:p.data?p:t);return}if(s.button!=0)return;if(r==1||r==3){var c=r==3?A.NM(S).B:A.eg();
D=c.TU?S.a.$s.join("")=="111"?1:2:0}var J={d:y.ea,j:z,Iw:r,a9s:D,YI:!0};this.Bs(J)};jk.prototype.Bs=function(s){var N=new hU(k.E.r,!0);
N.data=s;N.k=K.g$;this.c(N)};jk.prototype.ai5=function(){var s=this.VQ.j,N=s.add,r=this.parent.lr.L(),S=this.parent.KC[r].L();
if(r==0){if(S[0]&&N.SoLd==null&&N.TySh==null&&s.ua())return!0;if(S[1]&&ai.get(N)!=null)return!0;if(S[2]&&N.TySh!=null)return!0;
if(S[3]&&N.vstk!=null)return!0;if(S[4]&&N.SoLd!=null)return!0;return!1}if(r==1)return s.getName().toLowerCase().indexOf(S.toLowerCase())!=-1};
dz.KP=function(s,N,r,S,z,A,B){hz.call(this);this.aqC=N;this.Ju=r;this.index=A;this.e=W.z("div","styleitem");
this.yM=W.z("div","head");this.al5=null;if(N=="f"){var Y=this.al5=W.z("div","headR");Y.textContent="\u2699";
this.yM.appendChild(Y)}this.nq=W.z("div","eye gsicon");this.o8=W.z("div","label");this.e.appendChild(this.yM);
this.yM.appendChild(this.nq);if(B){this.mh=B;this.yM.appendChild(this.mh);this.yM.setAttribute("style","height: "+(B.firstChild.height/W.Z()+10)+"px")}this.o8.innerHTML=s;
this.e.setAttribute("style","margin-left: "+(24+S*16+z*22)+"px");this.yM.appendChild(this.o8);this.nq.addEventListener("click",this.a84.bind(this),!1);
var t=this.e;t.setAttribute("draggable","true");t.addEventListener("dragstart",this.ik.bind(this),!1);
if(!0){t.addEventListener("drop",this.He.bind(this),!1);t.addEventListener("dragover",this.h6.bind(this),!1);
t.addEventListener("dragenter",W.wC,!1);t.addEventListener("dragleave",this.Rs.bind(this),!1)}this.e.addEventListener("click",this.gE.bind(this),!1)};
dz.KP.prototype=new hz;dz.KP.prototype.ik=function(s){s.stopPropagation();s.dataTransfer.setData("Text",JSON.stringify({fW:this.aqC,VY:this.parent.VQ.index,U3:this.index}))};
dz.KP.prototype.Rs=function(s){W.wC(s);this.Lz()};dz.KP.prototype.He=function(s){W.wC(s);this.Lz();var N=s.dataTransfer.getData("Text");
if(N=="")return;var N=JSON.parse(N);jk.a17(s,N,this.parent,this.index+(jk.Xx(s,this.yM)>.5?0:1))};dz.KP.prototype.h6=function(s){W.wC(s);
var N=jk.Xx(s,this.yM)>.5;this.Lz();var r="border-"+(N?"bottom":"top");this.yM.style[r]="0.2em solid rgba(0,0,0,0.5)"};
dz.KP.prototype.Lz=function(s){this.yM.style.border="none"};dz.KP.prototype.pQ=function(s){this.nq.style.opacity=s?1:.2};
dz.KP.prototype.gE=function(s){if(s.target==this.nq)return;var N=this.parent.VQ.index;if(s.detail!=1&&this.Ju!=null){var N=this.parent.VQ.index,r=new hU(k.E.Y,!0);
if(this.Ju.indexOf("afw_")==0){var S=this.Ju.slice(4),z=V[S]||hT.T[S],A=s.target==this.al5;if(!A&&!z)return;
r.data=K.Fh.a3R(A?"blendOptions":S,{j:N,index:this.index})}else r.data={d:k.s.Pv,ic:this.Ju,j:N,index:this.index};
this.c(r)}else{if(s.target.getAttribute("class")!="thumb")this.parent.Bs({d:y.ea,j:N,Iw:0})}};dz.KP.prototype.a84=function(s){var N={fm:y.Ex,f:y.fA,sm:y.jB,s:y.jM}[this.aqC];
this.parent.Bs({d:N,j:this.parent.VQ.index,index:this.index})};function cG(){d8.call(this,"Guide Guy",!1,"---panels/guideguy",d8.tZ.a7O);
this.IC=null;this.ie=[];var s=W.z("div","form padded");this.aQ.appendChild(s);s.setAttribute("style","width:200px");
this.aQ.appendChild(s);var N=W.z("canvas"),r=N.getContext("2d");N.width=N.height=160;var S=[32,0,16,160,0,32,160,16,0,112,160,16],z="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),A=[0,0,0,0,0,0,0,0,0,0];
for(var l=0;l<10;l++){r.clearRect(0,0,160,160);r.setTransform(1,0,0,1,80,80);r.rotate((l&3)*Math.PI/2);
r.translate(-80,-80);r.fillStyle="rgba(0,0,0,0.3)";if(l<4){for(var B=0;B<12;B+=4){r.fillStyle=B==0?"#000000":"rgba(0,0,0,0.3)";
r.fillRect(S[B],S[B+1],S[B+2],S[B+3])}}else if(l<6){var Y=8*6;r.fillRect(0,0,Y,160);r.fillRect(8*7,0,Y,160);
r.fillStyle="#000000";r.fillRect(8*14,0,Y,160)}else if(l<8){r.fillRect(0,0,16,160);r.fillRect(160-16,0,16,160);
r.fillRect(32,0,160-64,160);r.fillStyle="#000000";r.fillRect(32,80-8,160-64,8*1)}else{r.fillRect(0,0,8*7,160);
r.fillRect(8*13,0,160,160);r.fillStyle="#000000";r.fillRect(8*7,80-8,8*6,8*1)}var t="<img src=\""+N.toDataURL()+"\" class=\"autoscale gsicon\" /> ",p=new ij(t,0,200,l==4||l==5?null:"px",null,null,null,4,z[l]);
p.parent=this;p.W(k.E.o,this.a9J,this);p.b(A[l]);p.N();this.ie.push(p);s.appendChild(p.e)}var f=[[11,14],[11,15,0]];
this.J1=[];for(var l=0;l<f.length;l++){var a=new aa(f[l],!0,null,!0);this.J1.push(a);a.W("click",this.S1,this);
s.appendChild(a.e)}for(var l=0;l<6;l++){r.setTransform(1,0,0,1,80,80);r.rotate(Math.floor(l/3)*Math.PI/2);
r.translate(-80,-80);r.clearRect(0,0,160,160);r.fillStyle="rgba(0,0,0,0.3)";r.fillRect(0,0,160,160);
r.clearRect(16,16,128,128);r.fillStyle="#000000";var D=l%3;r.fillRect([0,9,18][D]*8,0,16,160);var t="<img src=\""+N.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new aa(t,!1,null,!1);
this.J1.push(a);a.W("click",this.S1,this);s.appendChild(a.e)}}cG.prototype=new d8("");cG.prototype.N=function(){d8.prototype.N.call(this);
for(var l=0;l<this.J1.length;l++)this.J1[l].N()};cG.prototype.a9J=function(s){var N=this.ie,r=N.indexOf(s.target),S=Math.floor(r/2),z=r&1,A=[];
for(var l=0;l<4;l++)A.push(N[2*l+z].L());var B=-1;if(S==2&&A[2]!=0&&A[3]!=0&&A[4]!=0)B=4;if(S==3&&A[3]!=0&&A[2]!=0&&A[4]!=0)B=4;
if(S==4&&A[4]!=0&&A[2]!=0&&A[3]!=0)B=3;if(B!=-1)N[2*B+z].b(0)};cG.prototype.S1=function(s){var N=this.IC,r=this.J1.indexOf(s.target),S=[[],[]];
if(N==null)return;var z=N.q?N.q.rect:new hq(0,0,N.G,N.n),A=z.G,B=z.n;if(r==0){var Y=[[],[]];for(var l=0;
l<this.ie.length;l++)Y[l&1].push(this.ie[l].L());var t=[cG.an3(Y[0],z.x,z.x+A),cG.an3(Y[1],z.y,z.y+B)];
S=cG.av8(t);K.yz.Am(S,N._C())}else if(r==1){}else{r-=2;var p=Math.floor(r/3),t=[[],[]];t[p].push([z.x,z.x+A/2,z.x+A,z.y,z.y+B/2,z.y+B][r]);
S=cG.av8(t);K.yz.Am(S,N._C())}this.aaL(S)};cG.av8=function(s){var N=[],r=[];for(var S=0;S<2;S++)for(var l=0;
l<s[S].length;l++){N.push([S,s[S][l]]);r.push(-1)}return[N,r]};cG.prototype.a3b=function(s){var N=this.asW.indexOf(s.target)};
cG.prototype.aaL=function(s){var N=new hU(k.E.r,!0);N.k=K.tM;N.data={d:"gids",eP:s};this.c(N)};cG.an3=function(s,N,r){var S=[],z=s[2],A=s[3],B=s[4],Y=0;
if(z==0)Y++;if(A==0)Y++;if(B==0)Y++;if(Y>1&&z==0&&A==0){if(s[0]!=0)S.push(N+s[0]);if(s[1]!=0)S.push(r-s[1]);
return S}var t=r-N-s[0]-s[1];if(z==0){if(B==0){z=Math.floor(t/A);B=(t-z*A)/(z-1)}else{z=1;while(A*z+B*(z-1)+A+B<=t)z++}}else if(z!=0&&A!=0){if(z*A>t)z=Math.floor(t/A);
B=(t-z*A)/(z-1)}S.push(N+s[0],r-s[1]);var A=(t-B*(z-1))/z;for(var l=1;l<z;l++){if(B==0)S.push(N+s[0]+l*A);
else S.push(N+s[0]+l*A+(l-1)*B,N+s[0]+l*A+l*B)}return S};cG.prototype.sV=function(s){this.IC=s};function bW(){d8.call(this,[9,2],!1,"---panels/properties",d8.tZ.Kk);
this.a8Q=null;this.SE=null;this.tx=null;this.ajS=-1;this.$f=null}bW.prototype=new d8("");bW.prototype.uw=function(s,N){this.s7=s;
this.JY=N;s=s-16;N=N-12;var r=this.$f;if(r){r.style.width=s+"px";r.style.height=N+"px";for(var l=0;l<3;
l++)this.bf[l].uw(s-12,N)}};bW.prototype.HC=function(){this.$f=W.z("div","padded scrollable");this.aQ.appendChild(this.$f);
var s=W.z("span");this.$f.appendChild(s);this.Ud=[new aa([0,3]),new aa([12,73]),new aa([12,91,0])];for(var l=0;
l<this.Ud.length;l++){var N=this.Ud[l];N.W("click",this.a5B,this);s.appendChild(N.e);if(l==2)N.e.style.marginRight="0"}this.$f.appendChild(W.z("hr"));
this.M3=new bW.fu;this.M3.parent=this;this.Bu=new bW.y2;this.Bu.parent=this;this.jt=new bW.Nw;this.jt.parent=this;
this.bf=[this.M3,this.Bu,this.jt];this.$f.appendChild(this.M3.e);this.uw(this.s7,this.JY)};bW.prototype.a5B=function(s){var l=this.Ud.indexOf(s.currentTarget);
this.DO(l);this.a8z(l==1?this.Bu.t4:-1)};bW.prototype.DO=function(s){for(var l=0;l<3;l++){this.Ud[l].sD();
var N=this.bf[l].e;if(N.parentNode==this.$f&&l!=s)this.$f.removeChild(N);if(N.parentNode!=this.$f&&l==s)this.$f.appendChild(N)}this.Ud[s].Io()};
bW.prototype.a8z=function(s){var N=this.SE.f[0],r=this.SE.p[N],S=s+1;if(s==1&&r.Pu)return;var z=new hU(k.E.r,!0);
z.k=K.g$;if(s!=1&&r.Pu){z.data={d:y.ea,j:N,Iw:2};this.c(z)}z.data={d:y.ea,j:N,Iw:S};this.c(z)};bW.prototype.N=function(){d8.prototype.N.call(this);
if(this.$f==null)return;this.sV(this.SE);for(var l=0;l<3;l++){this.Ud[l].N();this.bf[l].N()}};bW.prototype.jH=function(){if(!W.zS(this.aQ))return;
if(this.$f==null){this.HC();this.wy(this.tx,eq.pM);this.sV(this.a8Q);this.N()}};bW.prototype.sV=function(s){this.a8Q=s;
if(this.$f==null)return;this.M3.sV(s);this.Bu.sV(s);this.jt.sV(s);if(s==null||s.f.length==0||s.p[s.f[0]]==null){W.Bc(this.aQ,"disabled");
this.SE=null;return}else W.$F(this.aQ,"disabled");var N=s.f[0],r=s.p[N],S=s.Ly(),z=S[0],A=S[1];if(A.length!=0){var B=z[A[0]],Y=B.add.vogk,t=!1;
if(Y)for(var l=0;l<Y.length;l++){var p=Y[l].v;if(!q.O6.fI(p))continue;t=!0;N=B.Jb}}N+=","+t;if(s!=this.SE||this.ajS!=N){this.SE=s;
this.ajS=N;if(t)this.DO(2);else if(r.GC<1&&!r.Pu||ai.get(r.add))this.DO(0);else this.DO(1)}this.Ud[1].b4(this.Bu.t4!=-1);
this.Ud[2].b4(t)};bW.prototype.wy=function(s,N){this.tx=s;if(this.M3)this.M3.wy(s,N);if(this.jt)this.jt.wy(s,N)};
bW.fu=function(){hz.call(this);this.e=W.z("div","form");this.a7R=new ju("Hello");this.de=new aa([1,12,2],null,null,!0);
this.de.e.style.adS="right";this.de.W("click",this.kQ,this);this.e.appendChild(this.a7R.e);this.e.appendChild(this.de.e);
this.r_=null;this.Av=null;this.SE=null;this.tx=null;this.a59=-1;this.aiO=null;this.v0=null;this.u_=new h5(0,!0,!0);
this.u_.parent=this;this.u_.W(k.E.o,this.at5,this);this.e.appendChild(this.u_.e);this.d_=new bw(!0);
this.d_.parent=this;this.d_.W(k.E.o,this.a7K,this);this.s$=W.z("div","marged hiline");this.s$.appendChild(this.d_.e);
this.Nz=new dl("GrFl",!0);this.Nz.parent=this;this.Nz.W(k.E.o,this.aoy,this);this.OE=W.z("div","marged hiline");
var s="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var l=0;l<s.length;l++){var N=this.Nz.rU[s[l]].e;
this.OE.appendChild(N)}this.Ip=new dl("patternFill",!0);this.Ip.parent=this;this.Ip.W(k.E.o,this.ao_,this);
this.ce=W.z("div","marged hiline");var s=["Ptrn","Angl","Scl","Algn","phase"];for(var l=0;l<s.length;
l++){var N=this.Ip.rU[s[l]].e;this.ce.appendChild(N)}this.c$={};for(var r in ai.names){if(V[r]==null)continue;
this.c$[r]=new V[r];this.c$[r].W(k.E.o,this.av5,this);this.c$[r].parent=this}var S=this.asR=W.z("div","marged hiline");
this.o5=new h5(0,!0);S.appendChild(this.o5.e);this.o5.W(k.E.o,this.HT,this);this.a7b=null;this.ca=new cq;
this.ca.parent=this;this.ca.W(k.E.o,this.HT,this);S.appendChild(this.ca.e)};bW.fu.prototype=new hz;bW.fu.prototype.at5=function(s){var N=this.u_.L(),r=this.v0,S=new hq(N[0],N[1],N[2],N[3]);
if(S.nR(r))return;this.v0=S;var z=new hU(k.E.r,!0);if(r.G==S.G&&r.n==S.n){z.k=K.tM;z.data={d:"trsl",w8:S.x-r.x,cH:S.y-r.y}}else{z.k=K.ZB;
z.data={d:"scl",Ru:[2,4],h:new cR(S.G/r.G,S.n/r.n),P0:0}}this.c(z)};bW.fu.prototype.uw=function(s,N){var r=this.c$;
for(var S in r)r[S].uw(s,N)};bW.fu.prototype.kQ=function(s){var N=this.SE,r=N.p[N.f[0]],S=ai.get(r.add);
this.Av.b(hT.yS(S));this.av5()};bW.fu.prototype.N=function(){for(var s in this.c$)this.c$[s].N();this.Nz.N();
this.Ip.N();this.ca.N();this.o5.N();this.de.N();this.u_.N()};bW.fu.prototype.HT=function(s){var N=new hU(k.E.r,!0),r=this.o5.L(),S=this.a7b;
if(s.target==this.o5&&r[2]==S[2]&&r[3]==S[3]){N.k=K.tM;N.data={d:"trsl",w8:r[0]-S[0],cH:r[1]-S[1]}}else{var z=y.h1(new hq(r[0],r[1],r[2],r[3])),A=this.ca.ahb();
A.artboardRect={t:"Objc",v:z};N.k=K.g$;N.data={d:y.dc,qs:A}}this.c(N)};bW.fu.prototype.a7K=function(s){var N=this.SE,r=N.f[0];
if(N.p[r].add.SoCo==null)return;var S=JSON.parse(JSON.stringify(N.p[r].add.SoCo));S.Clr.v=this.d_.L();
this.DZ({Hf:1,SR:S})};bW.fu.prototype.aoy=function(s){var N=this.SE,r=N.f[0];if(N.p[r].add.GdFl==null)return;
this.DZ({Hf:2,SR:this.Nz.L()})};bW.fu.prototype.ao_=function(s){this.DZ({Hf:3,SR:this.Ip.L()})};bW.fu.prototype.DZ=function(s){this.apx(K.g$,{d:y.ad,vA:[this.SE.f[0]],LK:!0,h:s})};
bW.fu.prototype.av5=function(s){this.apx(K.du,{d:"edit_layer",h:this.Av.L()})};bW.fu.prototype.apx=function(s,N){var r=new hU(k.E.r,!0);
r.k=s;r.data=N;this.c(r)};bW.fu.prototype.sV=function(s,N){var r=eV.get([0,3]),S=!1,z=!1,A=null;this.SE=s;
if(s&&s.p.length>0&&s.f.length!=0&&s.p[s.f[0]]){var B=s.p[s.f[0]],Y=ai.get(B.add);if(Y!=null&&this.c$[Y]!=null){A=this.c$[Y].e;
this.Av=this.c$[Y];this.c$[Y].b(JSON.parse(JSON.stringify(B.add[Y])));if(s.f[0]!=this.a59){var t=s.r9(s.f[0]-1);
this.aiO=q.yX(t)}this.c$[Y].$j(this.aiO);r=eV.get(ai.names[Y]);S=!0}if(Y==null&&B.add.artb==null){var p=this.v0=q.g.i2(K.S.dy(s));
z=!p.Nf();this.u_.b([p.x,p.y,p.G,p.n],[s.FD,s.G,this.tx.Hl._c])}if(B.add.SoCo){A=this.s$;this.d_.b(B.add.SoCo.Clr.v);
r=eV.get([6,48,0,0])}if(B.add.GdFl){A=this.OE;this.Nz.update(s,B.add.GdFl);r=eV.get([6,48,0,1])}if(B.add.PtFl){A=this.ce;
this.Ip.update(s,B.add.PtFl);r=eV.get([6,48,0,2])}if(B.add.artb){var f=B.add.artb,a=B.M5();A=this.asR;
this.ca.ajK(f);var D=this.a7b=[a.x,a.y,a.G,a.n];this.o5.b(D,[s.FD,s.G,this.tx.Hl._c]);r=eV.get([1,16,0])}this.a59=s.f[0]}if(A!=this.r_){if(this.r_)this.e.removeChild(this.r_);
if(A!=null)this.e.appendChild(A);this.r_=A}this.a7R.b(r);this.de.e.style.display=S?"":"none";this.u_.e.style.display=z?"":"none"};
bW.fu.prototype.wy=function(s,N){this.tx=s;this.Nz.wy(s,N);this.Ip.wy(s,N);if(N==eq.$H)this.sV(this.SE,s);
for(var r in this.c$)this.c$[r].wy(s,N)};bW.y2=function(){hz.call(this);this.e=W.z("div","form");this.SE=null;
this.t4=0;var s=W.z("span","fitem");this.e.appendChild(s);this.Ud=[new aa([6,2]),new aa([6,3]),new aa([6,50])];
for(var l=0;l<this.Ud.length;l++){var N=this.Ud[l];N.W("click",this.a0c,this);s.appendChild(N.e)}this.Lg=new ao([12,74],0,255);
this.Lg.W(k.E.o,this.U_,this);this.e.appendChild(this.Lg.e);this.lk=new ao([7,6],0,500,"px",2,!0);this.lk.W(k.E.o,this.U_,this);
this.e.appendChild(this.lk.e);this.GU=new aa([4,11],null,null,!0);this.GU.W("click",this.anP,this)};
bW.y2.prototype=new hz;bW.y2.prototype.anP=function(){var s=new hU(k.E.r,!0);s.k=K.du;s.data={d:"start",R8:"nvrt"};
this.c(s)};bW.y2.prototype.U_=function(s){var N=this.Lg.L(),r=this.lk.L(),S=new hU(k.E.r,!0);S.k=K.g$;
S.data={d:y.zF,HE:this.SE.f[0],$e:{zb:this.t4,Lg:N,lk:r}};this.c(S)};bW.y2.prototype.N=function(){for(var l=0;
l<this.Ud.length;l++)this.Ud[l].N();this.Lg.N();this.lk.N();this.GU.N()};bW.y2.prototype.sV=function(s){this.SE=s;
this.J$()};bW.y2.prototype.a0c=function(s){this.J$(this.Ud.indexOf(s.currentTarget));this.parent.a8z(this.t4)};
bW.y2.prototype.J$=function(s){var N=this.SE,r=this.Ud;for(var l=0;l<3;l++){var S=r[l];S.sD();S.sK()}if(N==null||N.p.length==0||N.f.length==0||N.p[N.f[0]]==null)return;
var z=-1,A=N.p[N.f[0]];if(A.Pi()&&A.NM(N).B!=null){r[2].WT();z=2}if(A.add.vmsk){r[1].WT();z=1}if(A.eg()){r[0].WT();
z=0}if(s!=null)z=s;else if(A.Pu)z=1;else if(A.GC==3)z=2;else if(A.GC==1)z=0;this.t4=z;if(z==-1){this.Lg.sK();
this.lk.sK();return}var B=A.RJ(z);this.Lg.WT();this.lk.WT();this.Lg.b(B.Lg);this.lk.b(B.lk);r[z].Io();
var Y=this.GU.e;if(z==0)this.e.appendChild(Y);else if(Y.parentNode==this.e)this.e.removeChild(Y)};bW.Nw=function(){hz.call(this);
this.e=W.z("div","form");this.IC=null;this.tx=null;this.SA=-1;this.u_=new h5(0,!1);this.PU=new ao([12,15],-180,180,"\xB0",2);
this.ZQ=new h5(1,!0);this.ub=new ao([12,94,0],0,100,null,2);this.kI=new ao([12,78],3,30);this.u_.W(k.E.o,this.zM,this);
this.PU.W(k.E.o,this.zM,this);this.ZQ.W(k.E.o,this.zM,this);this.ub.W(k.E.o,this.zM,this);this.kI.W(k.E.o,this.zM,this)};
bW.Nw.prototype=new hz;bW.Nw.prototype.N=function(){this.u_.N();this.PU.N();this.ZQ.N();this.ub.N();
this.kI.N()};bW.Nw.prototype.zM=function(s){var N=this.IC,r=q.O6.g8(N),S=s.target.L(),z=[this.u_,this.PU,this.ZQ,this.ub,this.kI].indexOf(s.target);
if(z==0){var A=[];A[0]=S[0];A[1]=S[1];A[2]=A[0]+S[2];A[3]=A[1]+S[3];S=A}if(z==1)S=S*Math.PI/180;var B={0:1,1:2,2:3,3:3,4:4}[z];
r[B]=S;var Y=new hU(k.E.r,!0);Y.k=K.g$;Y.data={d:y.ut,h:r};this.c(Y)};bW.Nw.prototype.sV=function(s){var N=this.e;
this.IC=s;if(s==null)return;var r=this.tx,S=[s.FD,s.G,r.Hl._c],z=q.O6.g8(s),A=z[0],B=z[1];if(B==null)return;
var Y=A!=this.SA;this.SA=A;if(Y)W.o3(N);if(Y)N.appendChild(this.u_.e);if(Y)N.appendChild(this.PU.e);
this.u_.b([B[0],B[1],B[2]-B[0],B[3]-B[1]],S);this.PU.b(z[2]*180/Math.PI);if(A==2){if(Y)N.appendChild(this.ZQ.e);
var t=z[3];this.ZQ.b(t,S)}if(A==7||A==8){if(Y)N.appendChild(this.ub.e);this.ub.b(z[3])}if(A==8){if(Y)N.appendChild(this.kI.e);
this.kI.b(z[4])}};bW.Nw.prototype.wy=function(s,N){this.tx=s;this.sV(this.IC)};function hD(s){d8.call(this,s.name,!0);
this.jO=s;this.ZF=null;this.$C=document.createElement("canvas");this.aT=this.$C.getContext("2d");this.qb=document.createElement("canvas");
this.bh=this.qb.getContext("2d");var N=16,r=q.m(16*16*4);q.nD(r,N,N,8);this.nf=q.scale.Hb(r,N,N);this.Wr=new fX(this.aQ);
this.Wr.parent=this;this.Gp=0;this.aaR="";this.CC=4}hD.prototype=new d8;hD.prototype.a7M=function(){if(this.jO.Bp())return window.confirm(eV.get([22,6,3])+" "+this.jO.name+". "+eV.get([22,6,4]));
return!0};hD.prototype.wy=function(s,N){this.ZF=s};hD.prototype.sV=function(s){this.jH();this.rx()};
hD.prototype.uw=function(s,N){if(s<=0||N<=0)return;this.s7=s;this.JY=N;var r=this.jO,S=W.Z();r.a.bh.G=Math.floor(s*S);
r.a.bh.n=Math.floor(N*S);W.Bh(this.qb,s,N);W.Bh(this.$C,s,N);W.Bh(d.ip(),s,N);if(r.a.X==0)r.a.X=K.OD.a16(r.G,r.n,s*S,N*S);
this.rx()};hD.prototype.jH=function(){var s=this.aQ.firstChild;if(!d.Bi&&s==d.ip()||d.Bi&&s==this.qb)this.aQ.removeChild(s);
var N=d.Bi?d.ip():this.qb;if(!W.zS(N))this.aQ.appendChild(N)};hD.prototype.rx=function(){if(d.Bi!=this.CC){this.Gp=0;
this.aaR=""}this.CC=d.Bi;if(this.ZF==null)return;if(d.Bi)this.ae9();else this.Re();var s=this.jO;this.Gp=s.a.X;
this.aaR=JSON.stringify(s.a.$s)};hD.prototype.ae9=function(){if(d.Bi&&hD.Vq==null){var s=hD.Vq=[],N=[0,2,8,32,128];
for(var l=0;l<5;l++)s[l]=[new hD.W0(!1,N[l]),new hD.W0(!0,N[l])]}var r=this.jO,a,J=0,i,e;if(r.rf==null)return;
var S=r.a,z=S.bh.G,A=S.bh.n,B=d.IM;this.bh.clearRect(0,0,z,A);var Y=this.ahB(r);if(S.Th==null)S.Th=new d.Ek(z,A);
if(Y)S.Th.set(this.qb);else{d.Lp(S.Th);d.nY(1)}var t=S.Oo(0,0),p=new gF;p.scale(z,A);p.concat(S.Qs(!0));
p.scale(1/r.G,1/r.n);var f=[p.aC,p.U,0,p.K1,p.dX,0,p.JC,p.T3,1];if(hD.auy==null)hD.auy=new Float32Array(4*1024);
var D=[0,0,0,0],c=hD.auy;if(r.add.artd){c.fill(0);D=hD.x3(r);var Z=r.G,Q=r.n,m=0;for(var l=0;l<r.p.length;
l++){var M=r.p[l],u=M.add.artb;if(u==null||!M.ES())continue;var P=M.M5();c[J]=P.x/Z;c[J+1]=P.y/Q;c[J+2]=P.G/Z;
c[J+3]=P.n/Q;J+=4;if(J==c.length)break}if(J>2*4)m++;if(J>8*4)m++;if(J>32*4)m++;a=hD.Vq[m+1];c=new Float32Array(c.buffer,0,[2,8,32,128][m]*4)}else a=hD.Vq[0];
var X=r.asn();if(X==null)a=a[0];else{a=a[1];e=X[r.add.fcmy==1?6:4];i=X[2]}d.So(z,A);d.nY(0);d.So(z,A);
a.Tq();a.Mu(S.Th.Cp,r.rf.Cp,new Float32Array(f),new Float32Array([z/8,A/8,t.x/z,t.y/A]),r.G,r.n,1/r.a.X,z,A,new Float32Array(D),c,new Float32Array(q.i_.yZ(q.i_.f4(S.$s))),e,i);
B.drawArrays(B.TRIANGLES,0,6)};hD.x3=function(s){return[0,0,0,0]};hD.a8$=function(s){var N=q.i.iy(s.v),r=[N.w/255,N.A/255,N.U/255,1];
for(var l=0;l<4;l++)r[l]=Math.min(1,r[l]);return r};hD.O8=function(s,N){var r=s[2]*255;if(d.Bi)r=N?0:Math.max(1,r);
return"rgba("+s[0]*255+","+s[1]*255+","+r+","+s[3]+")"};hD.zj=function(s){if(d.Bi)for(var l=0;l<s.length;
l+=4){if(s[l+2]==0)s[l+2]=3}};hD.prototype.Re=function(){var s=this.jO;if(s.buffer==null)return;var N=s.a,r=N.bh,S=r.G,z=r.n,A=new hq(0,0,s.G,s.n);
this.aT.clearRect(0,0,S,z);this.bh.clearRect(0,0,S,z);var B=N.Qs(!0),Y=B.clone();Y.dm();if(s.add.artd==null){this.bh.save();
var t=Y.aK(new cR(0,0));Y.translate(-t.x,-t.y);this.bh.translate(Math.round(t.x),Math.round(t.y));this.bh.fillStyle=this.nf;
this.uN(q.g.w2(A),Y,this.bh);this.bh.fill();this.bh.restore()}else{this.bh.fillStyle=hD.O8(hD.x3(s));
this.bh.fillRect(0,0,S,z);this.bh.save();this.bh.setTransform(Y.aC,Y.U,Y.K1,Y.dX,Y.JC,Y.T3);var p=s.root.children;
for(var l=0;l<p.length;l++){var f=p[l].j;if(f.add.artb==null||!f.ES())continue;var a=f.M5(),D=f.ej();
if(D!=0)continue;this.bh.fillStyle=this.nf;this.bh.save();this.bh.scale(1/N.X,1/N.X);this.bh.fillRect(N.X*a.x,N.X*a.y,a.G*N.X,a.n*N.X);
this.bh.restore()}this.bh.restore()}if(N.ug.length!=r.$()){N.ug=q.m(r.$());N.Ha=q.m(r.$()*4)}N.Ha.fill(0);
q.scale.Qj(s.buffer,A,B,N.Ha,r);var c=s.asn();if(c)ICC.U.applyLUT(c[s.add.fcmy==1?5:3],c[2],N.Ha,N.Ha);
if(N.$s[0]+N.$s[1]+N.$s[2]!=3)q.i_.x0(N.Ha,N.Ha,q.i_.f4(N.$s));this.aT.putImageData(new ImageData(new Uint8ClampedArray(N.Ha.buffer),r.G,r.n),0,0);
this.bh.drawImage(this.$C,0,0);this.bh.getImageData(0,0,1,1);this.ahB(s)};hD.prototype.ahB=function(s){var N=s.a,r=N.$s[0]+N.$s[1]+N.$s[2],S=!1,z=[];
for(var l=0;l<s.f.length;l++){var A=s.p[s.f[l]];if(A==null)continue;var B=A.GC;if(B!=1&&B!=3)continue;
var Y=B==1?A.eg():A.NM(s).B;if(Y.TU)z.push(Y)}for(var l=0;l<s.Aa.length;l++)if(s.Aa[l].TU)z.push(s.Aa[l]);
for(var l=0;l<z.length;l++){var Y=z[l];this.ahx(Y,N,z.length==1&&r==0?2:1,Y.color,Y.qx);S=!0}var t=this.ZF;
S=this.as$(s,this.bh,N)||S;if(s.q&&t.R1&&t.Hl.X5){this.ahx(s.q,N,0,0,null);S=!0}return S};hD.prototype.ahx=function(s,N,r,S,z){var A=0,D,c;
if(z)A=Math.round(z.U)<<16|Math.round(z.A)<<8|Math.round(z.w);var B=N.Qs(!0),Y=N.bh,t=new hq(0,0,N.jO.G,N.jO.n);
if(N.ug.length!=Y.$()){N.ug=q.m(Y.$());N.Ha=q.m(Y.$()*4)}N.ug.fill(S);N.Ha.fill(0);var p=s.channel,f=s.rect;
q.scale.D(p,f,B,N.ug,Y);if(r==0)q.q.awD(N.ug,N.Ha,Y,Y);else q.q.auO(N.ug,N.Ha,Y,Y,r,A);hD.zj(N.Ha);var a=new ImageData(new Uint8ClampedArray(N.Ha.buffer),Y.G,Y.n);
this.aT.putImageData(a,0,0);this.bh.save();if(r==0){D=Y.clone();D.r6(-1,-1);c=new gF}else{D=new hq(0,0,t.G,t.n);
c=B.clone();c.dm()}this.uN(q.g.w2(D),c,this.bh);this.bh.clip();this.bh.drawImage(this.$C,0,0);this.bh.restore()};
hD.prototype.as$=function(s,N,r){var S=s.R.Ry!=null||s.R.iD!=null||s.R.Tw!=null||s.R.fE.length!=0||s.R.QQ.length!=0,z=this.ZF,A=z.Hl,B=bP.Vx[z.zR],Y=Math.round(12*W.Z()),t=Y/s.a.X,p=r.Qs(!0);
p.dm();N.save();N.setTransform(p.aC,p.U,p.K1,p.dX,p.JC,p.T3);if(s.add.artd){var f=hD.x3(s)[0];f=f<.5?f+.5:f-.5;
f=""+Math.round(f*255).toString(16);while(f.length<2)f="0"+f;N.fillStyle="#"+f+f+f;N.font=t+"px sans-serif";
for(var l=0;l<s.p.length;l++){var a=s.p[l];if(a.add.artb==null||!a.ES())continue;var D=a.M5();N.fillText(a.getName(),D.x+2,D.y-t*.7);
S=!0}}function c(eT){return eT==1||eT==2||eT==4||eT==5}var J=hD.O8([.1,.5,1,1]),Z=hD.O8([1,1,1,1]);if(z.R1&&A.qI){N.fillStyle=N.strokeStyle=J;
N.lineWidth=1.5/r.X;var Q=s.Ly(),M=Q[0],u=Q[1];for(var P=0;P<u.length;P++){var a=M[u[P]],i=a.add.vmsk,e=i._,X=q.g.Xl(e);
this.uN(X,null,N);N.stroke();S=!0;var $=3*W.Z()/r.X,O=e.length-3;for(var l=0;l<i.Ig.length;l++){var T=q.J.mI(e,i.Ig[l]);
if(T==null)continue;var b=T.x,R=T.y;N.beginPath();var w=l==0;if(i.tf)w=!w;if(w){N.moveTo(b-$,R-$);N.lineTo(b+$,R+$);
N.moveTo(b-$,R+$);N.lineTo(b+$,R-$);N.stroke()}else{N.arc(b,R,$*1,0,2*Math.PI);N.fill()}S=!0}if(s.f.length!=1)continue;
var F=-1;for(var l=0;l<e.length;l++){if(e[l].type>5)continue;if(e[l].type==0||e[l].type==3){if(e[l].my!=-1)F++;
continue}if(i.f.indexOf(F)!=-1){var b=e[l].H.x,R=e[l].H.y;N.fillRect(b-$*.8,R-$*.8,2*$*.8,2*$*.8)}if(i.we.indexOf(l)!=-1){var L=e[l],x=[L.H];
N.beginPath();N.moveTo(L.hJ.x,L.hJ.y);N.lineTo(L.H.x,L.H.y);N.lineTo(L.De.x,L.De.y);var g=e[l-1],n=e[l+1];
if(g&&c(g.type)&&i.we.indexOf(l-1)==-1){N.moveTo(g.H.x,g.H.y);N.lineTo(g.De.x,g.De.y);x.push(g.De)}if(n&&c(n.type)&&i.we.indexOf(l+1)==-1){N.moveTo(n.H.x,n.H.y);
N.lineTo(n.hJ.x,n.hJ.y);x.push(n.hJ)}N.stroke();if(!L.H.nR(L.hJ))x.push(L.hJ);if(!L.H.nR(L.De))x.push(L.De);
for(var h=0;h<x.length;h++){var T=x[h],b=T.x,R=T.y;if(h==0&&(L.type==2||L.type==5))N.fillRect(b-1.2*$,R-1.2*$,2.4*$,2.4*$);
else{N.beginPath();N.arc(b,R,$*1.2,0,2*Math.PI);N.fill();if(h!=0)N.fillStyle=Z;N.beginPath();N.arc(b,R,$*.8,0,2*Math.PI);
N.fill();N.fillStyle=J}}}S=!0}}}N.lineWidth=1/r.X;if(s.R.Jx){N.fillStyle=N.strokeStyle=J;var n={v:[],F:[]},_=hD.a18;
if(_==null){_=hD.a18={v:[1,0],F:["M"]};for(var l=1;l<30;l++){var H=Math.PI*2*l/30;_.v.push(Math.cos(H),Math.sin(H));
_.F.push("L")}_.F.push("Z","M","L","M","L");_.v.push(-.5,0,.5,0,0,-.5,0,.5)}for(var l=0;l<s.R.Jx.length;
l++){var g=K.rq.a3X(s.R.Jx[l],r),G=new gF(g[0],0,0,g[0],g[1],g[2]);q.g.concat(n,_,G)}this.uN(n,null,N);
N.stroke();S=!0}N.fillStyle=N.strokeStyle=hD.O8([0,0,0,1],!0);var j=new gF(1,0,0,1,.5/r.X,.5/r.X);if(s.R.Ry){this.uN(s.R.Ry,null,N);
N.fill()}if(s.R.iD){this.uN(s.R.iD,j,N);N.stroke()}for(var v in s.R.FJ)if(s.R.FJ[v].iD){this.uN(s.R.FJ[v].iD,null,N);
N.stroke();S=!0}N.beginPath();var $=(4*W.Z()+.5)/r.X,C=s.R.zH;for(var l=0;l<C.length;l+=2){S=!0;var b=C[l],R=C[l+1];
N.rect(b-$,R-$,2*$,2*$)}N.stroke();var C=s.R.aas;N.beginPath();var $=4*W.Z()/r.X;for(var l=0;l<C.length;
l+=2){S=!0;var b=C[l],R=C[l+1];N.moveTo(b+$,R);N.arc(b,R,$,0,2*Math.PI)}N.fill();var C=s.R.Vu;N.fillStyle=hD.O8([1,1,1,1]);
N.beginPath();var $=6*W.Z()/r.X;for(var l=0;l<C.length;l+=2){S=!0;var b=C[l],R=C[l+1];N.moveTo(b+$,R);
N.arc(b,R,$,0,2*Math.PI)}N.fill();var $=4*W.Z()/r.X;for(var l=0;l<C.length;l+=2){S=!0;var b=C[l],R=C[l+1];
N.fillStyle=hD.O8(s.R.Hj.indexOf(l>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);N.beginPath();N.moveTo(b+$,R);N.arc(b,R,$,0,2*Math.PI);
N.fill()}if(s.R.fE.length!=0){for(var l=0;l<s.R.fE.length;l++){var E=s.R.fE[l],I=E[1];N.putImageData(new ImageData(new Uint8ClampedArray(E[0].buffer),I.G,I.n),I.x,I.y)}}var dJ=.5/r.X;
N.lineWidth=1/r.X;if(s.R.D8){S=!0;var fG=s.R.D8,o=fG.Ad,X={F:[],v:[]};for(var l=0;l<fG.rN.length;l++)q.g.concat(X,q.g.w2(fG.rN[l]));
X.v=X.v.concat(o);for(var l=0;l<o.length;l+=4){X.F.push("M","L")}for(var l=0;l<X.v.length;l++){X.v[l]+=dJ}N.strokeStyle=hD.O8([.9,.2,.2,1]);
this.uN(X,null,N);N.stroke();var i4=W.Z(),df=2/r.X;N.font=t*.9+"px sans-serif";for(var l=0;l<o.length;
l+=4){var b=o[l],R=o[l+1],eO=o[l+2],cO=o[l+3],ej=Math.sqrt((cO-R)*(cO-R)+(eO-b)*(eO-b));ej=q.HR.jc(ej,s.FD,z,R==cO?s.G:s.n);
var cn=new cR((b+eO)/2,(R+cO)/2);N.fillStyle=hD.O8([.9,.2,.2,1]);var j5=N.measureText(ej).width;N.fillRect(cn.x-j5/2-df*i4,cn.y-3.5*df*i4,j5+2*df*i4,7*df*i4);
N.fillStyle=hD.O8([1,1,1,1]);N.save();N.translate(cn.x-j5/2,cn.y+2*df*i4);N.scale(.1,.1);N.font=t*9+"px sans-serif";
N.fillText(ej,0,0);N.restore()}}if(z.R1){if(A.fl){var gP=q.HR.Pa(A.ws,s.FD,s.G,A.y7),bY=gP;if(A.y7==4)bY*=s.n/s.G;
this.nD(s,N,gP,bY,1,A.Jg);S=!0}if(A.Yo&&s.a.X>7){this.nD(s,N,1,1,.5,A.Jg);S=!0}if(A.K0){var gR=s._C(),c3=s.W$(),jj=Math.max(s.a.bh.G,s.a.bh.n)/s.a.X;
jj=Math.max(Math.max(s.G,s.n)*2,jj);N.beginPath();N.strokeStyle=hD.O8([0,1,1,1]);for(var l=0;l<gR[0].length;
l++){var jC=gR[0][l],kf=gR[1][l];if(kf!=-1&&kf!=c3)continue;var bz=r.Oo(jC[1],jC[1]),iv=r.Vd(Math.floor(bz.x)+.5,Math.floor(bz.y)+.5);
if(jC[0]==0){var bI=iv.x;N.moveTo(bI,-jj);N.lineTo(bI,jj)}else{var jo=iv.x;N.moveTo(-jj,jo);N.lineTo(jj,jo)}S=!0}N.stroke()}var iZ=s.DF;
if(A.DF&&iZ.length!=0){N.font=t*.8+"px sans-serif";var jD=[],dM=[];for(var l=0;l<iZ.length;l++){var ka=K.vf.z_(iZ,l);
jD.push(ka);if(s.v6.indexOf(l)!=-1)dM.push(ka)}jD.reverse();var ds=Date.now();jD=q.rect.eD([0,0,s.G,s.n],jD);
for(var h=0;h<2;h++)for(var l=0;l<jD.length;l++){var ee=jD[l],F=ee[4],a9=F!=null?iZ[F]:null;if(a9&&h==0||a9==null&&h==1)continue;
var b=Math.round(ee[0]),R=Math.round(ee[1]),eO=Math.round(ee[2]),cO=Math.round(ee[3]);N.strokeStyle=N.fillStyle=hD.O8(a9?[0,.7,.7,1]:[.8,.8,.8,1]);
N.strokeRect(b+dJ,R+dJ,eO-b,cO-R);var ir=l+1,eP=N.measureText(ir),j5=eP.width;N.fillRect(b,R,j5+t/2,t);
N.fillStyle=hD.O8([1,1,1,1]);N.fillText(ir,b+t/4,R+t*.8)}var df=2/s.a.X,jh=2*df;for(var l=0;l<dM.length;
l++){var ee=dM[l],b=Math.round(ee[0]),R=Math.round(ee[1]),eO=Math.round(ee[2]),cO=Math.round(ee[3]);
N.strokeStyle=N.fillStyle=hD.O8([1,.6,0,1]);N.strokeRect(b+dJ,R+dJ,eO-b,cO-R);var fy=[b,R,eO,R,eO,cO,b,cO];
for(var eS=0;eS<fy.length;eS+=2){var bI=fy[eS],jo=fy[eS+1],gz=fy[eS+2&7],fi=fy[eS+3&7];N.fillRect(bI-df,jo-df,jh,jh);
N.fillRect(Math.round((bI+gz)/2)-df,Math.round((jo+fi)/2)-df,jh,jh)}}S=!0}var fw=s.add.Anno;if(fw&&fw.length!=0)for(var l=0;
l<fw.length;l++){var ce=fw[l],hl=ce[2],bI=ce[0]-dJ,jo=ce[1]-dJ,jh=30/r.PL,ia=.4*jh,iQ=.6*jh;N.beginPath();
N.moveTo(bI,jo+iQ);N.lineTo(bI,jo);N.lineTo(bI+jh,jo);N.lineTo(bI+jh,jo+jh);N.lineTo(bI+ia,jo+jh);N.closePath();
N.lineTo(bI+ia,jo+iQ);N.lineTo(bI+ia,jo+jh);if(l==s.a.vF){N.lineWidth*=5;N.strokeStyle=hD.O8([0,0,0,.5]);
N.stroke();N.lineWidth/=5}N.fillStyle=hD.O8([hl.w/255,hl.A/255,hl.U/255,1]);N.fill();N.strokeStyle=hD.O8([0,0,0,1]);
N.stroke()}}N.strokeStyle=hD.O8([1,0,0,1]);if(s.R.Tw){this.uN(s.R.Tw,j,N);N.stroke()}N.restore();if(z.xA){if(s.a.KH==null||s.a.KH.width!=s.a.bh.G||s.a.ya.height!=s.a.bh.n){s.a.KH=N.createImageData(s.a.bh.G,q.HR.Ez);
s.a.ya=N.createImageData(q.HR.Ez,s.a.bh.n)}var B=bP.Vx[z.zR],em=0,k4=0,ar=s.G,fg=s.n;if(s.W$()!=-1){var D=s.p[s.W$()].M5();
em=D.x;k4=D.y;ar=D.G;fg=D.n}em*=r.X;k4*=r.X;var r=s.a,j0=[1,s.FD,s.FD/2.54,s.FD/25.4,ar/100][A._c],bU=r.X*s.G/2,dn=r.X*s.n/2,aJ=[r.X*j0,new cR(r.u.x+(em+bU*j0-bU),r.u.y+(k4+dn*j0-dn))];
if(A._c==4)j0*=fg/ar;var bE=[r.X*j0,new cR(r.u.x+(em+bU*j0-bU),r.u.y+(k4+dn*j0-dn))],ew=this.Wr.sy;q.HR.a4X(r,B["--text-color"],B["--bg-input"],Math.floor(ew.x),Math.floor(ew.y),aJ,bE);
var jy=bc.aa2(r.X,hD.O8([1,1,1,1]));hD.zj(s.a.ya.data);hD.zj(s.a.KH.data);N.putImageData(s.a.ya,0,0);
N.putImageData(s.a.KH,0,0);N.putImageData(jy,0,s.a.bh.n-jy.height)}if(s.R.QQ.length!=0){for(var l=0;
l<s.R.QQ.length;l++){var E=s.R.QQ[l],I=E[1];N.putImageData(new ImageData(new Uint8ClampedArray(E[0].buffer),I.G,I.n),I.x,I.y)}}return S||z.xA};
hD.prototype.nD=function(s,N,r,S,z,A){while(r*s.a.X<4){r*=2;S*=2}var B=s.G,Y=s.n,t=.5/s.a.X;N.strokeStyle=hD.O8([.5,.5,.5,z],!0);
N.save();N.rect(0,0,B,Y);N.clip();N.beginPath();for(var p=0;p<=B;p+=r){N.moveTo(p+t,0);N.lineTo(p+t,Y)}if(A==0){for(var f=0;
f<=Y;f+=S){N.moveTo(0,f+t);N.lineTo(B,f+t)}}else{S*=Math.sqrt(4/3);var a=S*Math.floor(B/S),D=B*(S/(2*r));
for(var f=-a;f<=Y+a;f+=S){N.moveTo(0,f);N.lineTo(B,f-D);N.moveTo(0,f);N.lineTo(B,f+D)}}N.stroke();N.restore()};
hD.prototype.uN=function(s,N,r){r.beginPath();var S=q.g.clone(s);if(N)q.g.D(S.v,N,S.v);Typr.U.pathToContext({cmds:S.F,crds:S.v},r)};
hD.W0=function(s,N){d.Jv.call(this);var r=N!=0,S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(s?"uniform sampler2D lut;  uniform float N;  "+d.dh.$c:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(r?"uniform vec4 bgClr;  uniform vec4 ars["+N+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+d.dh.FY+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); \t\t\t\t"+(s?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(r?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+N+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.gx(S,z)};hD.W0.prototype=new d.Jv;hD.W0.prototype.Mu=function(s,N,r,S,z,A,B,Y,t,p,f,a,D,c){this.Rb("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var J=d.IM,Z=this.tK;J.uniformMatrix3fv(Z.tmat,!1,r);J.uniform4fv(Z.gsize,S);J.uniform3f(Z.contSizeZoom,z,A,B);
J.uniform2f(Z.cnvSize,Y,t);J.uniformMatrix4fv(Z.ctrn,!1,a);if(this.awQ){J.uniform4fv(Z.ars,f);J.uniform4fv(Z.bgClr,p)}J.uniform1i(Z.source,0);
J.uniform1i(Z.target,1);J.activeTexture(J.TEXTURE0);J.bindTexture(J.TEXTURE_2D,s);J.activeTexture(J.TEXTURE1);
J.bindTexture(J.TEXTURE_2D,N);if(D){J.uniform1f(Z.N,c);J.uniform1i(Z.lut,2);J.activeTexture(J.TEXTURE2);
J.bindTexture(J.TEXTURE_2D,D.Cp);var Q=J.LINEAR;J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,Q);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,Q)}J.activeTexture(J.TEXTURE0)};function gD(){d8.call(this,[9,7],!1,"---panels/layercomps",d8.tZ.aqc);
this.aQ.setAttribute("style","min-width:240px;");this.SE=null;this.A0=-1;this.adF=[];this.mP=W.z("div","scrollable");
this.mP.style.height="160px";this.aQ.appendChild(this.mP);this.Vv=W.z("div","lpfoot");this.aQ.appendChild(this.Vv);
this.J1=[];var s=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],N=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var l=0;l<s.length;l++){var r=s[l];if(l>0)r="<img src=\""+PIMG[s[l]]+"\" class=\"miniscale gsicon\" />";
var S=new aa(r,!1,N[l]);S.W("click",this.avh,this);this.Vv.appendChild(S.e);this.J1.push(S)}}gD.prototype=new d8("");
gD.prototype.uw=function(s,N){this.aQ.setAttribute("style","width:"+(s-2)+"px;");this.mP.style.height=N-28+"px"};
gD.prototype.Bs=function(s){var N=new hU(k.E.r,!0);N.data=s;N.k=K.Wt;this.c(N)};gD.a4z="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
gD.prototype.avh=function(s){var l=this.J1.indexOf(s.currentTarget)-1;if(l==-1){var N=new hU(k.E.Y,!0);
N.data={d:k.s.nF,j_:gD.a4z};this.c(N);return}if(l!=1)if(this.A0==-1)return;this.Bs({d:["updLC","addLC","delLC"][l],Jb:this.A0});
if(l==2)this.A0=-1};gD.prototype.N=function(){d8.prototype.N.call(this);for(var l=0;l<this.J1.length;
l++)this.J1[l].N()};gD.prototype.sV=function(s){if(s==null)W.Bc(this.aQ,"disabled");else W.$F(this.aQ,"disabled");
this.SE=s;W.o3(this.mP);if(s==null)return;var N=s.zq.lastAppliedComp?s.zq.lastAppliedComp.v:0,r=s.zq.list.v.slice(0);
r.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var l=0;l<r.length;
l++){var S=r[l].v,z=new de(S.Nm.v,S.compID.v,S.capturedInfo.v,N,this.A0);z.W("activate",this.iW,this);
z.parent=this;this.mP.appendChild(z.e);this.adF.push(z)}};gD.prototype.iW=function(s){this.A0=s.currentTarget.Jb;
this.sV(this.SE)};function de(s,l,N,r,S){hz.call(this);this.Jb=l;this.e=W.z("div","head listitem"+(l==S?" selected":""));
var z=l==r,A=new aa(z?"\u2713":"\u2014");if(z)A.Io();this.e.appendChild(A.e);A.W("click",this.w5,this);
var B=this.Ny=W.z("span");B.textContent=s;this.e.appendChild(B);this.J1=[];if(l!=0){this.e.addEventListener("mouseup",this.iW.bind(this),!1);
this.adL=W.z("span","headR");this.e.appendChild(this.adL);var Y=["lrs/eye","pos","lrs/fx"],t=["Visibility","Position","Appearance"];
for(var p=0;p<Y.length;p++){var f=new aa("<img src=\""+PIMG[Y[p]]+"\" class=\"autoscale gsicon\" />",!1,t[p]);
if((N>>p&1)==0)f.e.setAttribute("style","opacity:0.3");f.W("click",this.a27,this);this.adL.appendChild(f.e);
this.J1.push(f)}}}de.prototype=new hz;de.prototype.iW=function(s){if(s.target!=this.Ny&&s.target!=this.e)return;
if(s.detail==1)this.c(new hU("activate",!1));else{var N=new d8.wY(this.Ny,this.M6.bind(this))}};de.prototype.a27=function(s){var l=this.J1.indexOf(s.currentTarget);
this.Bs({d:"editLC",abj:l,Jb:this.Jb})};de.prototype.M6=function(s){this.Bs({d:"editLC",sx:s,Jb:this.Jb})};
de.prototype.w5=function(s){this.Bs({d:"setLC",Jb:this.Jb})};de.prototype.Bs=function(s){var N=new hU(k.E.r,!0);
N.data=s;N.k=K.Wt;this.c(N)};function jE(){d8.call(this,[9,11],!1,"---panels/navigator",d8.tZ.atZ);var s=W.z("div","padded");
s.setAttribute("style","min-width:15em");this.aQ.appendChild(s);var N=W.z("div");s.appendChild(N);N.setAttribute("style","cursor:grab;");
this.I=W.z("canvas");this.I.width=100;N.appendChild(this.I);W.Kq(this.I);W.JQ(this.I,this.Xd.bind(this));
this.yp=new fM(null,2,6400,"%",null,!0);this.yp.W(k.E.o,this.a8y,this);s.appendChild(this.yp.e);this.am0=this.aj.bind(this);
this.arM=this.RE.bind(this);this.IC=null}jE.prototype=new d8("");jE.prototype.uw=function(s,N){this.rx()};
jE.prototype.a8y=function(s){var N=this.yp.L(),r=this.IC,S=N/100;if(.8<S&&S<1.2)S=1;else if(1.8<S)S=Math.round(S);
var z=new hU(k.E.r,!0);z.k=K.b_;z.data={d:"zoom",X:S};this.c(z)};jE.prototype.Xd=function(s){if(this.IC==null)return;
W.UT(window,this.am0);W.eA(window,this.arM)};jE.prototype.aj=function(s){var N=W.WO(s,this.I),r=this.IC,S=this.I.width,z=this.I.height,A=(N.x*W.Z()-S/2)/S,B=(N.y*W.Z()-z/2)/z,Y=W.Z()*r.a.X,t=Math.round(-r.a.X*r.G*A),p=Math.round(-r.a.X*r.n*B);
K.Td.eC(r,t,p)};jE.prototype.RE=function(s){W.nP(window,this.am0);W.tp(window,this.arM)};jE.prototype.sV=function(s){if(s==null&&this.IC!=null)this.I.width=100;
this.IC=s;this.rx()};jE.prototype.rx=function(){var s=this.IC,S=0;if(s==null||s.a.X==0)return;var N=s.a;
if(!W.zS(this.aQ))return;this.yp.b(N.X*100);var r=300*W.Z(),z=[s.r9(),new hq(0,0,s.G,s.n)];q.Ia(z);while(Math.max(z[S+1].G,z[S+1].n)>r){S+=2}var A=z[S],B=z[S+1],Y=B.G,t=B.n,p=this.I;
p.width=Y;p.height=t;W.UY(p,Y,t);var f=p.getContext("2d"),a=f.createImageData(Y,t);q.r8(A,a.data);f.putImageData(a,0,0);
var D=N.bh,c=N.Vd(D.x,D.y),J=N.Vd(D.x+D.G,D.y+D.n),Z=Y/s.G;f.scale(Z,Z);f.lineWidth=4/Z;f.strokeStyle="#ff0000";
f.strokeRect(c.x,c.y,J.x-c.x,J.y-c.y)};jE.prototype.wy=function(s,N){};jE.prototype.jH=function(){this.rx()};
function aA(s,N){if(s==null){d8.call(this);return}d8.call(this,s.name,!1,s.icon,N);var r=this.iP=W.z("iframe");
r.setAttribute("src",s.url);r.setAttribute("style","width:"+s.width+"px; height:"+s.height+"px");this.aQ.appendChild(r)}aA.prototype=new d8("");
aA.prototype.vE=function(s){if(W.zS(this.iP))this.iP.contentWindow.postMessage(s,"*")};aA.prototype.uw=function(s,N){this.iP.setAttribute("style","width:"+s+"px; height:"+N+"px")};
function dk(){d8.call(this,[9,12],!1,"---panels/tpreset",d8.tZ.Ft);this.tx=null;this.DQ=new ii(K.rX);
this.DQ.parent=this;var s=W.z("div","padded");s.setAttribute("style","width:20em");this.aQ.appendChild(s);
s.appendChild(this.DQ.UM)}dk.prototype=new d8("");dk.prototype.jH=function(){this.DQ.da(this.tx.b$)};
dk.prototype.wy=function(s,N){this.tx=s;if(N==eq.pM||N==eq.Ft)this.DQ.da(s.b$)};dk.prototype.uw=function(s,N){this.DQ.aaM(this.tx.ru)};
dk.prototype.N=function(){d8.prototype.N.call(this);this.DQ.N()};var ct=function(){var s=[],N=null,r=null,S=null,z=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function A(){d8.call(this,"Memory",!1,null,d8.tZ.arg);var D=W.z("div","padded");this.aQ.appendChild(D);
r=new aa(["<< VAR0",[0,13,2]],!1,null,!0);r.addEventListener("click",function(c){s.pop();Y()});D.appendChild(r.e);
N=W.z("div","scrollable");N.setAttribute("style","width:20em;  height:26em; margin-top:8px;");D.appendChild(N)}A.prototype=new d8("");
A.prototype.sV=function(D,c,J){S=c;this.jH()};A.prototype.jH=function(){r.b4(!1);if(!W.zS(N))return;
var D={aM:"Total:",Y3:[]};for(var l=0;l<S.length;l++)D.Y3.push(p(S[l]));a(D);s=[D];Y()};A.prototype.N=function(){d8.prototype.N.call(this);
r.N()};function B(D){var c=D.currentTarget,l=0;while((c=c.previousSibling)!=null)l++;s.push(s[s.length-1].Y3[l-1]);
Y()}function Y(){r.b4(s.length>1);var D=s[s.length-1];W.o3(N);t(D,N,0);D.Y3.sort(function(c,J){return J.wN[0]-c.wN[0]});
for(var l=0;l<D.Y3.length;l++)t(D.Y3[l],N,1)}function t(D,c,J){var Z=g$.gZ,Q=J!=0&&D.Y3,M="margin-left:"+J*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Q)M+="cursor:pointer;";if(D.fW!=null)M+="background-color:rgba("+z[D.fW].join(",")+",0.2);";var u=W.z("div");
c.appendChild(u);u.setAttribute("style",M);u.innerHTML=W.Bm(D.aM)+"<br />"+"RAM: <b>"+Z(D.wN[0])+"</b>\u2001GPU: <b>"+Z(D.wN[1])+"</b>";
if(Q)u.addEventListener("click",B,!1)}function p(D){var c={aM:D.name,Y3:[],fW:0},J=d.Bi?1:0,Z=1-J,Q={aM:"Final Image",wN:[D.G*D.n*4,J*D.G*D.n*4],fW:2};
c.Y3.push(Q);for(var l=0;l<D.p.length;l++){var M=f(D.p[l]);if(M.Y3.length!=0)c.Y3.push(M)}var u=D.add.lnk2;
if(u)for(var l=0;l<u.length;l++){var M=u[l],P={aM:M.Ff,Y3:[],fW:4},m=0;P.Y3.push({aM:"Raw file",wN:[M.raw.length,0]});
if(M.t1)for(var i=0;i<M.t1.length;i+=2)m+=M.t1[i].length;if(m!=0)P.Y3.push({aM:"Decoded pixels",wN:[m,0]});
a(P);c.Y3.push(P)}a(c);return c}function f(D){var c={aM:D.getName(),Y3:[],fW:1},J=d.Bi?1:0,Z=1-J,Q=D.rect.$();
if(Q!=0)c.Y3.push({aM:"Layer pixels",wN:[Q*4,J*Q*4]});if(D.add.lmfx&&D.Lo.DE.type){var M=D.Lo.DE.type,i=0;
for(var u in M){var P=0;for(var m=0;m<M[u].length;m++)if(u=="ebbl"){if(M[u][m].Cz)P+=M[u][m].Cz.zc.$();
if(M[u][m].Qr)P+=M[u][m].Qr.zc.$();if(M[u][m].Ls)P+=M[u][m].Ls.zc.$();if(M[u][m].BX)P+=M[u][m].BX.zc.$()}else P+=M[u][m].zc.$();
if(P!=0)c.Y3.push({aM:eV.get(jG.names[jG.order.indexOf(u)]),wN:[Z*P*4,J*P*4],fW:3})}if(D.Lo.Qg)i+=Q;
if(D.Lo.Pc)i+=Q;if(D.Lo.rw)i+=Q;if(D.Lo.rw)i+=Q;if(D.Lo.gs)i+=Q;if(D.Lo.go)i+=Q;var e=D.Lo.DH?D.Lo.DH.length:0;
if(i+e!=0)c.Y3.push({aM:"Additional Blending Data",wN:[Z*i*4+e,J*i*4]})}var X=D.eg(),$=X?X.rect.$():0;
if($!=0){c.Y3.push({aM:"Raster Mask",wN:[$,0]})}var X=D.add.vmsk,$=X&&X.oR?X.oR.rect.$():0;if($!=0){c.Y3.push({aM:"Vector Mask",wN:[$,0]})}a(c);
return c}function a(D){D.wN=[0,0];for(var l=0;l<D.Y3.length;l++){D.wN[0]+=D.Y3[l].wN[0];D.wN[1]+=D.Y3[l].wN[1]}}return A}();
function iN(){d8.call(this,[9,14],!1,"---panels/notes",d8.tZ.ars);this.aQ.setAttribute("style","min-width:240px;");
var s=W.z("div","padded");this.aQ.appendChild(s);this.NY=new aW("Author");s.appendChild(this.NY.e);this.S_=W.z("textarea");
W.Im(this.S_);s.appendChild(this.S_);var N=new aa("<<",null,null,!0);s.appendChild(N.e);this.ao$=N;var r=new aa(">>",null,null,!0);
s.appendChild(r.e);N.W("click",this.kP,this);r.W("click",this.kP,this);var S=this.aiv=new ju("");s.appendChild(S.e)}iN.prototype=new d8("");
iN.prototype.kP=function(s){var N=s.target==this.ao$?-1:1,r=this.IC,S=r.add.Anno,z=S.length,A=r.a.vF;
r.a.vF=(A+N+z)%z;r._R=!0;this.rx()};iN.prototype.rx=function(){var s=this.IC;if(s==null)return;var N=s.add.Anno;
if(N==null||N.length==0)return;var r=s.a.vF,S=N[r];this.S_.value=S[4];this.aiv.b(r+1+" / "+N.length);
this.NY.b(S[3])};iN.prototype.uw=function(s,N){if(this.s7==s)return;this.s7=s;N=Math.min(N,200);this.S_.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(s-10)+"px; height:"+(N-66)+"px")};
iN.prototype.sV=function(s,N,r){this.IC=s;this.rx()};function e2(){hz.call(this);this.k=0;this.rG=null;
this.e=W.z("div","toolconf");this.DQ=null;this.r3=null;this.body=new W.z("div","body")}e2.prototype=new hz;
e2.prototype.ai$=function(s,N){this.k=s;this.rG=N;if(K.h8[s]){var r=this.DQ=new ii(s);this.e.appendChild(r.e);
r.parent=this}else{this.r3=W.z("div");this.e.appendChild(this.r3)}this.e.appendChild(this.body);this.N()};
e2.prototype.a1c=function(s,N){};e2.prototype.a1p=function(s){};e2.prototype.wy=function(s,N){if(N==eq.pM||N==eq.Ft)if(this.DQ)this.DQ.da(s.b$)};
e2.prototype.qp=function(s){};e2.prototype.N=function(){if(this.DQ)this.DQ.N();else this.r3.innerHTML=W.xH(this.rG,null,"toolicon");
this._w()};e2.prototype._w=function(){};function br(){e2.call(this);this.ca=new cq;this.ca.W(k.E.o,this.HT,this);
this.body.appendChild(this.ca.e)}br.prototype=new e2;br.prototype._w=function(){this.ca.N()};br.prototype.HT=function(s){var N=new hU(k.E.Y,!0);
N.data={d:k.s.TN,k:this.k,LS:this.ca.ahb()};this.c(N)};br.prototype.qp=function(s){this.ca.ajK(s.oT)};
function jg(s){e2.call(this);if(s==null)return;this.tx=null;this.ie={};if(s.indexOf("brush")!=-1&&s.indexOf("prsr")==-1)s.push("prsr");
for(var l=0;l<s.length;l++){var N=s[l],r=null;if(N=="brush"){r=new ci}if(N=="bmode"){r=new fa([12,19,0],bm.bN,!1,bm.Ew)}if(N=="bmode0"){r=new fa([12,19,0],bm.bN.slice(23),!1)}if(N=="emode"){r=new fa([12,36],[[9,3],[10,38]])}if(N=="opacity"){r=new ij([12,0],0,100,"%");
r.b(100)}if(N=="flow"){r=new ij([12,63],0,100,"%");r.b(100)}if(N=="smth"){r=new ij([19,3,0],0,100,"%");
r.b(0)}if(N=="samp"){r=new fa([12,36],[[12,25,4],[12,25,5],[12,46]])}if(N=="wconf"){r=new gJ;r.b([40,!0,!0])}if(N=="sall"){r=new d1([12,25,2])}if(N=="strn"){r=new ij([12,64],1,100,"%");
r.b(50)}if(N=="smode"){r=new fa([12,36],[[19,7,0],[19,7,1]]);r.b(1)}if(N=="pdetail"){r=new d1([12,65]);
r.Io()}if(N=="rng"){r=new fa([12,12],[[19,6,0],[19,6,1],[19,6,2]]);r.b(1)}if(N=="expo"){r=new ij([12,5],0,100,"%");
r.b(50)}if(N=="algnd"){r=new d1([12,75]);r.b(!1)}if(N=="sfrom"){r=new fa([12,70],[[17,1],[17,3],[17,0]])}if(N=="alt"){r=new di(null,["Alt"],!0,["Select Source"])}if(N=="qsmode"){r=new gI([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(N=="redge"){r=new aa([7,11],!1,null,!0)}if(N=="setop"){r=new iB}if(N=="patch"){r=new gI(null,[[12,70],[12,71]])}if(N=="prsr"){r=new di(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
r.b([!1,!1])}r.parent=this;this.body.appendChild(r.e);this.ie[N]=r;if(N=="brush")r.W(k.E.o,this.a4d,this);
else if(N=="redge")r.W("click",this.sF,this);else r.W(k.E.o,this.oc,this)}}jg.prototype=new e2;jg.prototype.a1c=function(s,N){s=s[1];
var r=this.ie;if(s.Md)r.bmode.b(bm.ac.indexOf(s.Md.v.BlnM));if(s.Opct)r.opacity.b(s.Opct.v);if(s.flow)r.flow.b(s.flow.v);
if(s.Brsh)r.brush.b(s,N.Vj.nv,N.Vj.wf);if(s.FrgC){var S=q.i.iy(s.FrgC.v),z=new hU(k.E.Y,!0);z.data={d:k.s.Jl,LS:eq.rg,Xy:0,h:S.w<<16|S.A<<8|S.U};
this.c(z)}this.a4d();this.oc()};jg.prototype.a1p=function(){if(K.h8[this.k]==null)return null;var s=this.ie,N=JSON.parse(JSON.stringify(s.brush.L()));
N.classID=K.h8[this.k][1][0];if(s.bmode)N.Md={t:"enum",v:{BlnM:bm.ac[s.bmode.L()]}};if(s.opacity)N.Opct={t:"long",v:s.opacity.L()};
if(s.flow)N.flow={t:"long",v:s.flow.L()};var r=this.tx.Hd;r={w:r>>>16,A:r>>>8&255,U:r&255};N.FrgC={t:"Objc",v:q.i.Sm(r)};
return["Brush Preset "+N.Brsh.v.Dmtr.v.val,N]};jg.prototype.sF=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.Pv,ic:"redge"};
this.c(s)};jg.prototype._w=function(){for(var s in this.ie)this.ie[s].N()};jg.prototype.qp=function(s){if(s.ab$=="showBrushOpts"){this.ie.brush.aru(s.Hk.x,s.Hk.y)}for(var N in s.ll){var r=s.ll[N];
if(N!="qsmode")r*=100;if(this.ie[N])this.ie[N].b(r)}};jg.prototype.wy=function(s,N){e2.prototype.wy.call(this,s,N);
this.tx=s;var r=this.ie.brush;if(r==null)return;if(N==eq.pM||N==eq.rX)r.da(s.Vj);if(N==eq.Uv){r.b(s.Vj.io,s.Vj.nv,s.Vj.wf)}};
jg.prototype.a4d=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.Jl,LS:eq.Uv,TK:this.ie.brush.L()};this.c(s)};
jg.prototype.oc=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.TN,k:this.k};for(var N in this.ie){if(N=="brush"||N=="redge")continue;
var r=this.ie[N].L();if(["opacity","flow","smth","strn","expo"].indexOf(N)!=-1)s.data[N]=r/100;else if(N=="bmode")s.data.bmode=bm.sI[r];
else if(N=="bmode0")s.data.bmode=bm.sI[23+r];else s.data[N]=r}this.c(s)};function gf(s,N){e2.call(this);
if(s)return;this.ie={};for(var l=0;l<N.length;l++){var r=N[l],S=null;if(r=="binop")S=new iB;if(r=="feat"){S=new ij([7,6],0,100,"px");
S.b(0)}if(r=="redge")S=new aa([7,11],!1,null,!0);if(r=="wconf")S=new gJ;if(r=="cstr")S=new c9;if(r=="anta"){S=new d1([12,25,1]);
S.b(!0)}if(r=="sall")S=new d1([12,25,2]);if(r=="redge")S.W("click",this.sF,this);else S.W(k.E.o,this.oc,this);
S.parent=this;this.body.appendChild(S.e);this.ie[r]=S}}gf.prototype=new e2;gf.prototype.qp=function(s){if(s.UJ!=null)this.ie.binop.b(s.UJ);
else if(s.db){for(var N in s.db)if(this.ie[N])this.ie[N].b(s.db[N])}else{var r=gf.ii;if(r==null){var S=dh.a7I(!0);
r=gf.ii=new hR(S.items,S.ab)}r.N();r.parent=this;r.update(s.Sw,s.ZF);var z=new hU(k.E.Y,!0);z.data={d:k.s.xh,mk:r,x:s.s8.f_+2,y:s.s8.FX+1};
this.c(z)}};gf.prototype._w=function(){for(var s in this.ie)this.ie[s].N()};gf.prototype.sF=function(){var s=new hU(k.E.Y,!0);
s.data={d:k.s.Pv,ic:"redge"};this.c(s)};gf.prototype.oc=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.TN,k:this.k,db:{}};
for(var N in this.ie)s.data.db[N]=this.ie[N].L();this.c(s)};function d5(){jg.call(this,["brush","strn"])}d5.prototype=new jg;
function bj(){jg.call(this,"brush bmode opacity flow smth prsr".split(" "))}bj.prototype=new jg;function bJ(){jg.call(this,["brush","bmode0","samp","wconf"])}bJ.prototype=new jg;
function h_(){jg.call(this,["brush"])}h_.prototype=new jg;function bd(){jg.call(this,["brush","bmode","opacity","smth","prsr"])}bd.prototype=new jg;
function je(){jg.call(this,["brush","rng","expo"])}je.prototype=new jg;function dF(){jg.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}dF.prototype=new jg;
function hW(s){e2.call(this);if(s==null)return;var N=W.z("span","fitem");this.body.appendChild(N);var r=[[17,0],[17,1],[11,12,0],[17,2]];
this.Ud=[];for(var l=0;l<r.length;l++){var S=new aa(r[l],!1,null,!0);this.Ud.push(S);S.W("click",this.ae4,this);
if(!s||l==1)N.appendChild(S.e)}this.RH=new c9;this.RH.W(k.E.o,this.avf,this);if(!s)this.body.appendChild(this.RH.e);
this.Zs=new aa([15,7,6],!1,null,!0);this.Zs.W("click",this.ae4,this);if(!s)this.body.appendChild(this.Zs.e);
this.$M=new d1([15,7,10]);this.$M.W(k.E.o,this.avf,this);if(!s)this.body.appendChild(this.$M.e);this.iM=new d$;
this.iM.W("click",this.xN,this)}hW.prototype=new e2;hW.prototype._w=function(){this.iM.N();for(var l=0;
l<this.Ud.length;l++)this.Ud[l].N();this.RH.N();this.$M.N();this.Zs.N()};hW.prototype.qp=function(s){var N=this.iM.e;
if(s.wT)this.body.appendChild(N);else if(this.body.contains(N))this.body.removeChild(N);if(s.RH)this.RH.b(s.RH)};
hW.prototype.xN=function(s){var N={d:k.s.TN,k:this.k,nu:this.iM.L()?"commit":"cancel"},r=new hU(k.E.Y,!0);
r.data=N;this.c(r)};hW.prototype.ae4=function(s){s.target.e.blur();var N={d:k.s.TN,k:this.k,nu:"cropby",ats:this.Ud.indexOf(s.target)};
if(s.target==this.Zs)N.nu="straighten";var r=new hU(k.E.Y,!0);r.data=N;this.c(r)};hW.prototype.avf=function(s){var N={d:k.s.TN,k:this.k,nu:"config",ye:{Mg:this.RH.L(),OL:this.$M.L()},aw5:s.target==this.RH},r=new hU(k.E.Y,!0);
r.data=N;this.c(r)};function io(){hW.call(this,!1)}io.prototype=new hW;function id(){hW.call(this,!0)}id.prototype=new hW;
function f1(){jg.call(this,["brush","rng","expo"])}f1.prototype=new jg;function go(){jg.call(this,"brush emode opacity flow smth prsr".split(" "))}go.prototype=new jg;
function fe(){jg.call(this,["brush","samp","wconf"])}fe.prototype=new jg;function j3(){gf.call(this,!1,["binop","feat","anta","redge","cstr"])}j3.prototype=new gf(!0);
function ix(){e2.call(this);var s=this.ie=[new fa([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new fa([12,70],[[17,1],[17,3],[17,0]]),new d1([12,20,1]),new d1([8,0])];
s[1].b(2);s[2].b(!0);for(var l=0;l<s.length;l++){var N=s[l];N.W(k.E.o,this.oc,this);this.body.appendChild(N.e)}}ix.prototype=new e2;
ix.prototype.oc=function(s){var N=this.ie,r=[];for(var l=0;l<N.length;l++)r[l]=N[l].L();var S=new hU(k.E.Y,!0);
S.data={d:k.s.TN,k:this.k,db:r};this.c(S)};ix.prototype._w=function(){for(var l=0;l<this.ie.length;l++)this.ie[l].N()};
function gO(){e2.call(this);this.nx=new b3(!1);this.nx.parent=this;this.nx.W(k.E.o,this.U_,this);this.body.appendChild(this.nx.e);
this.nx.b(JSON.parse(jG.ou.a3a).v);this.vx=new fa(null,jG.i.names.slice(0,5));this.vx.W(k.E.o,this.U_,this);
this.body.appendChild(this.vx.e);this.ex=new fa([12,19,0],bm.bN,null,bm.Ew);this.ex.W(k.E.o,this.U_,this);
this.body.appendChild(this.ex.e);this.a6=new ij([12,0],0,100,"%");this.a6.parent=this;this.a6.W(k.E.o,this.U_,this);
this.body.appendChild(this.a6.e);this.a6.b(100);this.yV=new d1([12,23,0]);this.yV.W(k.E.o,this.U_,this);
this.body.appendChild(this.yV.e);this._X=new d1([12,23,3]);this._X.W(k.E.o,this.U_,this);this.body.appendChild(this._X.e)}gO.prototype=new e2;
gO.prototype._w=function(){this.vx.N();this.ex.N();this.a6.N();this.yV.N();this._X.N()};gO.prototype.wy=function(s,N){e2.prototype.wy.call(this,s,N);
var r=N==eq.rg;this.nx._B(s.Hd,s.on);if(r||N==eq.If||N==eq.pM)this.nx.da(s.Ys)};gO.prototype.U_=function(){var s=new hU(k.E.Y,!0);
s.data={d:k.s.TN,k:this.k};s.data.LS={i:this.nx.L(),KM:jG.i.types[this.vx.L()],tf:this.yV.pX(),abu:this._X.pX(),aq6:bm.sI[this.ex.L()],nh:this.a6.L()/100};
this.c(s)};function k9(){e2.call(this)}k9.prototype=new e2;function am(){e2.call(this);var s=W.z("span","fitem");
this.body.appendChild(s);this.Qm=[new ij([12,15],-180,180,"\xB0"),new aa([1,12,2],null,null,!0)];for(var l=0;
l<this.Qm.length;l++){var N=this.Qm[l];N.parent=this;s.appendChild(N.e);N.W(l==1?"click":k.E.o,this.Hc,this)}}am.prototype=new e2;
am.prototype._w=function(){for(var l=0;l<this.Qm.length;l++)this.Qm[l].N()};am.prototype.qp=function(s){this.Qm[0].b(s.mO*180/Math.PI)};
am.prototype.Hc=function(s){var N=this.Qm.indexOf(s.target),r=new hU(k.E.Y,!0);r.data={d:k.s.TN,k:this.k,mO:N==1?0:s.target.L()*Math.PI/180};
this.c(r)};function aj(){jg.call(this,["brush","algnd","sfrom","alt"])}aj.prototype=new jg;function cu(){e2.call(this);
this.Tt=new fr;this.Tt.parent=this;this.body.appendChild(this.Tt.X8.e);this.body.appendChild(this.Tt.yU.e);
this.body.appendChild(this.Tt.PT.e);this.body.appendChild(this.Tt.X1.e);var s=W.z("span","fitem");this.body.appendChild(s);
s.appendChild(this.Tt.Ec.e);s.appendChild(this.Tt.Sc.e);s.appendChild(this.Tt.fg.e);this.dr=new fa("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.dr.W(k.E.o,this.xN,this);this.body.appendChild(this.dr.e);this.RB=new aa([11,9],!1,null,!0);this.RB.W("click",this.a0p,this);
this.body.appendChild(this.RB.e);this.iM=new d$;this.iM.W("click",this.xN,this)}cu.prototype=new e2;
cu.prototype._w=function(){this.iM.N();this.Tt.N();this.RB.N()};cu.prototype.a0p=function(s){var N={d:k.s.TN,k:this.k,nu:"showwarp"},r=new hU(k.E.Y,!0);
r.data=N;this.c(r)};cu.prototype.qp=function(s){if(s.nu=="showactive")this.body.appendChild(this.iM.e);
if(s.nu=="hideactive")this.body.removeChild(this.iM.e);if(s.nu=="changeAA")this.dr.b(s.zr)};cu.prototype.wy=function(s,N){e2.prototype.wy.call(this,s,N);
if(N!=eq.pM&&N!=eq.j4&&N!=eq.Bw&&N!=eq.zY)return;this.Tt.b(s.Rl,s.dw,s.h5)};cu.prototype.xN=function(s){var N={d:k.s.TN,k:this.k,nu:this.iM.L()?"commit":"cancel"};
if(s.target==this.dr){N.nu="changeAA";N.zr=this.dr.L()}var r=new hU(k.E.Y,!0);r.data=N;this.c(r)};function e7(){gf.call(this,!1,["binop","feat","anta","redge"])}e7.prototype=new gf(!0);
function cJ(){e2.call(this);var s=[],r="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.ms=new d1([12,85]);this.ms.W(k.E.o,this.oc,this);s.push(this.ms.e);this.YP=new d1([20,1]);this.YP.W(k.E.o,this.oc,this);
s.push(this.YP.e);this.OQ=new d1([12,83]);this.OQ.W(k.E.o,this.oc,this);s.push(this.OQ.e);var N=W.z("span","fitem");
s.push(N);this.ag8=new fa("Scale for exported files",["1x","2x","3x","4x"],!0);N.appendChild(this.ag8.e);
this.nL=new aa(r+" PNG",!1,"Save selected layers as PNG",!0);N.appendChild(this.nL.e);this.nL.W("click",this.kb,this);
this.agH=new aa(r+" SVG",!1,"Save selected layers as SVG",!0);N.appendChild(this.agH.e);this.agH.W("click",this.kb,this);
var S=W.z("span","fitem");s.push(S);var z=W.z("span","fitem");s.push(z);this.J1=[];for(var l=0;l<8;l++){var A=l==3||l==7?[20,4,6]:[20,4,l<3?l:l-1],B=new aa("Hi",!1,A);
(l<4?S:z).appendChild(B.e);B.W("click",this.kb,this);this.J1.push(B)}for(var l=0;l<s.length;l++)this.body.appendChild(s[l]);
this.avG=s}cJ.prototype=new e2;cJ.prototype.qp=function(s){var N=s.oT,r=s.ak$;this.ms.b(N.NO);this.YP.b(N.qH);
this.OQ.b(N.D8);if(r){W.o3(this.body);for(var l=0;l<r.length;l++)if(r[l]==1&&this.avG[l])this.body.appendChild(this.avG[l])}};
cJ.prototype.kb=function(s){var N=this.J1.indexOf(s.target),r;if(N==-1){r=new hU(k.E.Y,!0);r.data={d:k.s.TN,k:this.k,Xy:s.target==this.nL?"getPNG":"getSVG",W1:this.ag8.L()+1}}else{r=new hU(k.E.r,!0);
r.k=K.tM;r.data={d:"algn",h:N}}this.c(r)};cJ.prototype.oc=function(s){var N=new hU(k.E.Y,!0);N.data={d:k.s.TN,k:this.k,Xy:"prms",NO:this.ms.pX(),qH:this.YP.pX(),D8:this.OQ.pX()};
this.c(N)};cJ.prototype._w=function(){this.ms.N();this.YP.N();this.OQ.N();var s="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var l=0;l<8;l++){this.J1[l].wp(W.xH("align/"+s[l],null,"autoscale"))}};function jX(){gf.call(this,!1,["binop","feat","redge","wconf","sall"])}jX.prototype=new gf(!0);
function fx(){jg.call(this,["setop","patch"])}fx.prototype=new jg;function jx(){jg.call(this,["setop"])}jx.prototype=new jg;
function h1(){jg.call(this,["bmode","opacity","wconf","sall"])}h1.prototype=new jg;function bR(){gf.call(this,!1,["binop","feat","anta","redge"])}bR.prototype=new gf(!0);
function hN(){gf.call(this,!1,["binop","feat","anta","redge"])}hN.prototype=new gf(!0);function ck(){gf.call(this,!1,["binop","feat","redge","cstr"])}ck.prototype=new gf(!0);
function bg(){e2.call(this);this.tx=null;this.Z4=null;this.wj=[new aW("X",null,3.2,null,!0),new aW("Y",null,3.2,null,!0),new aW("W",null,3.2,null,!0),new aW("H",null,3.2,null,!0),new aW([12,15],"\xB0",3.7,null,!0),new aW(["VAR0 1",[12,80,0]],null,3.5,null,!0),new aW(["VAR0 2",[12,80,0]],null,3.5,null,!0),new aa([15,7,6],!1,null,!0),new aa([2,2],!1,null,!0)];
for(var l=0;l<this.wj.length;l++){var s=this.wj[l];this.body.appendChild(s.e);if(l>6)s.W("click",this.QL,this)}this.u7=0}bg.prototype=new e2;
bg.prototype.QL=function(s){var N=this.wj.indexOf(s.target)==7,r=new hU(k.E.r,!0);if(N){if(this.u7==0)return;
r.k=K.ZB;r.data={d:"rot",Ru:[2,5],h:-this.u7}}else{r.k=K.Z9;for(var l=0;l<6;l++)this.wj[l].b(null)}this.c(r)};
bg.prototype.qp=function(s){function N(Y,t,p){var f=Math.sqrt(Math.pow(t.x-Y.x,2)+Math.pow(t.y-Y.y,2)),a=Math.sqrt(Math.pow(t.x-p.x,2)+Math.pow(t.y-p.y,2)),D=Math.sqrt(Math.pow(p.x-Y.x,2)+Math.pow(p.y-Y.y,2));
return Math.acos((a*a+f*f-D*D)/(2*a*f))}if(s==null)return;this.Z4=s;var r=s.alx,S=s.cT,z=S.x-r.x,A=S.y-r.y;
this.u7=-Math.atan2(A,z);if(s.vL)this.u7=N(S,r,s.vL);var B=this.wj;B[0].b(this.vc(s,r.x));B[1].b(this.vc(s,r.y));
B[2].b(this.vc(s,z));B[3].b(this.vc(s,A));B[4].b((this.u7*180/Math.PI).toFixed(2));B[5].b(this.vc(s,cR.iI(r,S)));
if(s.vL){B[6].b(this.vc(s,cR.iI(r,s.vL)))}else B[6].b("")};bg.prototype.vc=function(s,N){var r=q.HR.jc(N,s.FD,this.tx,s.aei,!1);
return parseFloat(r).toFixed(2)};bg.prototype.wy=function(s,N){this.tx=s;this.qp(this.Z4)};bg.prototype._w=function(){var s=this.wj;
for(var l=0;l<s.length;l++)s[l].N();W.eW(s[2],s[3])};function au(){jg.call(this,["brush","strn","pdetail"])}au.prototype=new jg;
function gZ(){jg.call(this,["brush","sfrom"]);this.a4V=[];var s=[[7,12]];for(var l=0;l<s.length;l++){var N=new aa(s[l],!1,null,!0);
this.a4V.push(N);N.parent=this;this.body.appendChild(N.e);N.W("click",this.a6a,this)}}gZ.prototype=new jg;
gZ.prototype.a6a=function(s){var N=this.a4V.indexOf(s.currentTarget),r=new hU(k.E.gu,!0);r.data=K.kn.ku("contentAware");
this.c(r)};function b5(){jg.call(this,["brush","strn"])}b5.prototype=new jg;function aw(){jg.call(this,["brush","flow","smode"])}aw.prototype=new jg;
function eI(){e2.call(this);this.dm=!1;var s=W.z("span","fitem");this.body.appendChild(s);this.cl=new gI(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
s.appendChild(this.cl.e);this.cl.W(k.E.o,this.oc,this);this._G=new aa([20,2]);this.body.appendChild(this._G.e);
this._G.W("click",this.ae7,this);this.PN=new aa([20,3]);this.body.appendChild(this.PN.e);this.PN.W("click",this.ae7,this)}eI.prototype=new e2;
eI.prototype._w=function(){this._G.N();this.PN.N()};eI.prototype.oc=function(){var s={d:k.s.TN,k:this.k,p5:this.cl.L()==0},N=new hU(k.E.Y,!0);
N.data=s;this.c(N)};eI.prototype.qp=function(s){if(this.dm!=s.dm)this.cl.b(1-this.cl.L());this.dm=s.dm};
eI.prototype.ae7=function(s){var N=new hU(k.E.r,!0);N.k=K.b_;N.data={d:"adapt",h:s.target==this._G?"pixel":"fitscr"};
this.c(N)};function ho(s,N){e2.call(this);if(s==null)return;this.XY=s;this.$n={};this.ajz=N;for(var l=0;
l<s.length;l++){var r=s[l],S=null;if(r=="tmode"){S=new fa(null,[[12,76,1],[12,76,0],[12,76,2]]);S.b(0);
if(N)S.ahf(2)}if(r=="make"){S=new gI("Make",[[17,2],[12,76,1]],null,!0)}if(r=="anta"){S=new d1([12,25,1]);
S.b(!0)}if(r=="binop"){S=new fa(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(r=="pshape")S=new fa(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(r=="shape")S=new bi([12,76,1]);if(r=="crad"){S=new ij([12,94,0],0,50,"px");S.b(0)}if(r=="cstr"){S=new c9}if(r=="irad"){S=new ij([12,94,1],0,100,"%");
S.b(40)}if(r=="length"){S=new ij([12,80,0],4,40);S.b(4)}if(r=="sides"){S=new ij([12,78],3,30);S.b(5)}if(r=="width"){S=new ij([12,41],1,100,"px");
S.b(5)}if(r=="tolr"){S=new ij([12,24],0,100);S.b(5)}if(r=="fstyle"){S=new fJ([12,26])}if(r=="sstyle"){S=new km}if(r=="psnap"){S=new d1([8,10])}if(r=="crnr"){S=new aa("\u2312",!1,[12,94,0],!0)}if(r=="aopts"){S=new jw;
S.b([!1,!1,50,60,0])}S.parent=this;this.body.appendChild(S.e);this.$n[r]=S;S.W(r=="crnr"?"click":k.E.o,this.oc,this)}}ho.prototype=new e2;
ho.prototype.qp=function(s){if(s.UJ!=null)this.$n.binop.b(s.UJ);else if(s.Xy=="vals")for(var N in s.axh)this.$n[N].b(s.axh[N]);
else{var r=ho.ii;if(r==null)r=ho.ii=new hR([{name:"Remove Anchor Point",K:function(z){var A=z?z.Ly():null;
return{K:z&&A[1].length!=0&&A[0][A[1][0]].add.vmsk.we.length!=0}}},{name:"Remove Path",K:function(z){var A=z?z.Ly():null;
return{K:z&&A[1].length!=0&&A[0][A[1][0]].add.vmsk.f.length!=0}},Al:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{O:k.E.r,k:K.bt,M:{d:"remove",Xb:!0}},{O:k.E.r,k:K.pG,M:{d:"remove"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"makesel"}},{O:k.E.gu,M:K.HZ.sc(0)},{O:k.E.gu,M:K.HZ.sc(1)}]);
r.parent=this;r.update(s.Sw,s.ZF);var S=new hU(k.E.Y,!0);S.data={d:k.s.xh,mk:r,x:s.s8.f_+2,y:s.s8.FX+1};
this.c(S)}};ho.prototype.ao8=function(l){return null};ho.prototype._w=function(){for(var s in this.$n){this.$n[s].N()}};
ho.prototype.oc=function(s){var N=new hU(k.E.Y,!0),r=this.$n;if(s.target==r.crnr){N=new hU(k.E.r,!0);
N.k=K.bt;N.data={d:"crnr"}}else if(s.target==r.make){var l=s.target.L();console.log(l);if(l==0)N.data={d:k.s.Pv,ic:"makesel"};
else{N=new hU(k.E.r,!0);N.k=K.ib;N.data={d:"newfill",fW:0}}}else if(s.target==r.fstyle){N.data={d:k.s.Jl,LS:eq.RG,h:r.fstyle.L()}}else if(s.target==r.sstyle){N.data={d:k.s.Jl,LS:eq.n8,h:r.sstyle.L()}}else if(s.target==r.tmode){N.data={d:k.s.Jl,LS:eq.Yp,h:r.tmode.L()}}else{if(r.pshape)this.pA();
N.data={d:k.s.TN,k:this.k};for(var S in r)N.data[S]=r[S].L()}this.c(N)};ho.prototype.pA=function(){var s=this.$n,N=s.tmode.L(),r=s.pshape?this.ao8(s.pshape.L()):this.XY,S;
if(N==0)S=["anta","make"];if(N==1)S=["anta","fstyle","sstyle"];if(N==2)S=["make","binop","fstyle","sstyle"];
var z=s.binop;if(z){var A=z.L();if(N==0){z.ait(0)}else{z.ahf(0);if(A==0){z.b(1);this.oc({target:z})}}}W.o3(this.body);
for(var l=0;l<r.length;l++){var B=r[l];if(S.indexOf(B)!=-1)continue;this.body.appendChild(s[B].e)}};
ho.prototype.wy=function(s,N){e2.prototype.wy.call(this,s,N);var r=this.$n.fstyle,S=this.$n.sstyle,z=this.$n.tmode;
if(r)r.wy(s,N);if(S)S.wy(s,N);if(N==eq.pM||N==eq.ne)if(s.cz.length!=0&&this.$n.shape){this.$n.shape.da(s.cz)}if(N==eq.pM||N==eq.RG)if(r)r.b(null,s.Ww,s.awd);
if(N==eq.pM||N==eq.n8)if(S)S.b(null,s.VV,s.aeZ);if(N==eq.pM||N==eq.Yp){var A=s.XS;if(this.ajz&&A==2)A=0;
if(z){z.b(A);this.pA()}}};function fZ(){ho.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}fZ.prototype=new ho;
function dR(){ho.call(this,"tmode make anta fstyle sstyle binop".split(" "))}dR.prototype=new ho;function ez(){ho.call(this,["fstyle","sstyle"]);
this.akC=null;this.ajq=null;this.a1E=null;this.Fl=new fa([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Ij=new aa("\u25BC");this.Ij.Io();this.mS=new aa("\u25B2");this.mS.Io();this.e7=[this.Fl,this.Ij,this.mS];
for(var l=0;l<this.e7.length;l++){var s=this.e7[l];this.body.appendChild(s.e);s.parent=this;s.W(l==0?k.E.o:"click",this.s2,this)}}ez.prototype=new ho;
ez.prototype.qp=function(s){if(s.nu=="main"){var N=this.e7,r=s.W3;if(r){this.ajq=r.clone();this.a1E=JSON.stringify(s.O6);
var S=r.f.slice(0),z=S.length;for(var l=0;l<S.length;l++)S[l]++;S.sort(function(t,p){return t-p});N[0].WT();
N[1].b4(z!=0);N[2].b4(z!=0);N[0].wp(z==0?"No Paths":z==1?"Path "+S[0]:"Paths "+S.slice(0,3).join(",")+(z>3?"..":""));
if(z!=0){var A=r.f[0],B=q.J.$l(r._,A),Y=r._[B];this.Fl.b([3,0,1,2][Y.my])}}else for(var l=0;l<N.length;
l++)N[l].sK()}else ho.prototype.qp.call(this,s)};ez.prototype._w=function(){ho.prototype._w.call(this);
this.Fl.N()};ez.prototype.s2=function(s){if(s.target==this.Fl||s.target==this.Ij||s.target==this.mS){var N={},r=this.ajq,S=r._,z=r.f,A=q.J.zl(S),B=JSON.parse(this.a1E);
z.sort(function(M,u){return M-u});if(s.target==this.Fl){var Y=this.Fl.L();if(Y<4)for(var l=0;l<z.length;
l++)S[q.J.$l(S,z[l])].my=[1,2,3,0][Y];else{if(A<=1)return;r._=q.J.er(S);r.f=r._.length==2?[]:[0];r.we=[];
B=[q.O6.tC()]}}else{var t=s.target==this.Ij?-1:1,p=[];for(var l=0;l<A;l++){var f=q.J.$l(S,l),a=f+1+S[f].length;
p.push(S.slice(f,a))}var D=z.slice(0);for(var l=0;l<z.length;l++)D[l]=Math.max(l,Math.min(A-1-(z.length-1-l),D[l]+t));
if(z.join(",")==D.join(","))return;for(var l=0;l<z.length;l++){var c=t==-1?l:z.length-1-l,f=z[c],a=D[c];
if(f!=a){var J=p[f];p[f]=p[a];p[a]=J}}var Z=S.slice(0,2);for(var l=0;l<p.length;l++)Z=Z.concat(p[l]);
r._=Z;r.f=D}N.W3=r;N.O6=B;var Q=new hU(k.E.Y,!0);Q.data={d:k.s.TN,k:this.k,PH:N};this.c(Q)}};function g8(){ho.call(this,["fstyle","sstyle","crnr","psnap"])}g8.prototype=new ho;
function dd(){ho.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}dd.prototype=new ho;
function hO(){ho.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}hO.prototype=new ho;
function bt(){ho.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.$n.aopts.b([!1,!0,50,60,0])}bt.prototype=new ho;bt.prototype.ao8=function(l){var s=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(s[l])};function dE(){ho.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}dE.prototype=new ho;
function gc(){ho.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}gc.prototype=new ho;
function ab(){gf.call(this,!1,["binop","feat","redge"])}ab.prototype=new gf(!0);function cQ(){jg.call(this,["brush","qsmode","redge"])}cQ.prototype=new jg;
function bG(){e2.call(this);var s=this.ajv=new aa([8,11,3],null,null,!0);s.W("click",this.s2,this);this.body.appendChild(s.e)}bG.prototype=new e2;
bG.prototype.s2=function(s){var N=new hU(k.E.gu,!0);N.data={uU:"make",wz:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(N)};bG.prototype._w=function(s){this.ajv.N()};function fs(){e2.call(this);var s=this.agW=[new aa("\u25BC",null,null,!0),new aa("\u25B2",null,null,!0),new aa([5,4],null,null,!0)];
for(var l=0;l<3;l++){var N=s[l];this.body.appendChild(N.e);N.W("click",this.s2,this)}}fs.prototype=new e2;
fs.prototype.s2=function(s){var N=this.agW.indexOf(s.target),r=new hU(k.E.r,!0);r.k=K.f0;r.data={d:N==2?"delete":"reorder",dir:N==0?-1:1};
this.c(r)};fs.prototype.N=function(){e2.prototype.N.call(this);for(var l=0;l<3;l++)this.agW[l].N()};
function gW(s,N){e2.call(this);if(window.Typr==null||s)return;this.adt=N;this.e3=null;this.atb=W.z("span","");
this.ahP=W.z("span","");var r=1;this.EJ={P0:new j1(null,24),VA:new ij("X",0,0,"px",0,!1,!0,4),Y5:new ij("Y",0,0,"px",0,!1,!0,4),Wf:new ij("W",0,0,["%","px"],2,!1,!0,5),p7:new aa("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),C5:new ij("H",0,0,["%","px"],2,!1,!0,5),a1X:new ij("\u2221",0,0,"\xB0",r,!1,!0),a4P:new ij("\u25B1 H",-85,85,"\xB0",r,!1,!0),a7N:new ij("\u25B1 V",-85,85,"\xB0",r,!1,!0),QO:new fa(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.EJ.QO.b(1);this.EJ.p7.b(!0);for(var S in this.EJ){var z=this.EJ[S];if(N&&(z==this.EJ.a1X||z==this.EJ.a4P||z==this.EJ.a7N||z==this.EJ.QO)){}else this.atb.appendChild(z.e);
var A=z==this.EJ.p7?"click":k.E.o;z.W(A,this.a5L,this)}this.fC=new gT(!0,!0,!0);this.fC.W(k.E.o,this.aor,this);
this.fC.parent=this;var B=this.ahP,Y=this.fC;B.appendChild(Y.dq.e);B.appendChild(Y.TG.e);B.appendChild(Y.FV.e);
B.appendChild(Y.kV.e);B.appendChild(Y.Tu.e);this.RB=new aa([11,9]);this.RB.W("click",this.a9E,this);
this.iM=new d$;this.iM.W("click",this.xN,this)}gW.prototype=new e2;gW.prototype.qp=function(s){if(s.s8){var N=gW,r=this.ii;
if(r==null)r=this.ii=new hR(N.aix(),N.adH(this.k));r.N();r.parent=this;r.update(s.Sw,s.ZF);var S=new hU(k.E.Y,!0);
S.data={d:k.s.xh,mk:r,x:s.s8.f_+2,y:s.s8.FX+1};this.c(S);return}W.o3(this.body);this.e3=s;if(s.EJ){var z=s.EJ.Ge,A=s.EJ.lO.clone(),B=Math.atan2(-A.U,A.aC),Y=new gF;
Y.rotate(-B);A.concat(Y);var t=this.EJ;t.P0.b(s.EJ.Pn);t.VA.b(s.EJ.Yx.x);t.Y5.b(s.EJ.Yx.y);t.Wf.b(A.aC*(t.Wf.XH()=="%"?100:z.G));
t.C5.b(A.dX*(t.C5.XH()=="%"?100:z.n));t.a1X.b(-B*180/Math.PI);t.a4P.b(0*180/Math.PI);t.a7N.b(Math.atan(A.K1)*180/Math.PI);
this.body.appendChild(this.atb);this.RB.sD()}if(s.Pk){this.fC.b(s.Pk);this.body.appendChild(this.ahP);
this.RB.Io()}this.body.appendChild(this.iM.e);if(s.akB&&!this.adt)this.body.appendChild(this.RB.e)};
gW.prototype.a5L=function(s){var N=this.EJ,r=this.e3.EJ.Ge;if(s.target==N.p7)N.p7.b(!N.p7.L());if(N.p7.pX()){var S=N.C5,z=N.Wf,A=r.n,B=r.G;
if(s.target==N.Wf){S=N.Wf;z=N.C5;A=r.G;B=r.n}var Y=S.L()/(S.XH()=="%"?100:A);Y*=z.XH()=="%"?100:B;z.b(Y)}var t=[];
for(var p in N)if(N[p]!=N.p7&&N[p]!=N.P0){var Y=N[p].L();if((N[p]==N.Wf||N[p]==N.C5)&&Y==0){Y=.1;N[p].b(Y)}if(N[p]==N.Wf&&N[p].XH()=="px")Y/=r.G/100;
if(N[p]==N.C5&&N[p].XH()=="px")Y/=r.n/100;t.push(Y)}var f=new cR(t[0],t[1]);if(s.target==N.P0){this.Ns({nu:"ctyp",Pn:N.P0.L()})}else if(s.target==N.VA||s.target==N.Y5){this.Ns({nu:"cen",Yx:f})}else{var a=this.e3.EJ.lO.clone(),D=a.clone(),c=Math.atan2(-a.U,a.aC);
D.translate(-f.x,-f.y);D.rotate(-c);var J=new gF(D.aC,D.U,D.K1,D.dX,0,0);J.dm();D.concat(J);D.concat(new gF(t[2]/100,Math.tan(t[5]*Math.PI/180),Math.tan(t[6]*Math.PI/180),t[3]/100,0,0));
D.rotate(-t[4]*Math.PI/180);D.translate(f.x,f.y);this.e3.EJ.lO=D;this.Ns({nu:"trn",EJ:D,YS:this.EJ.QO.L()})}};
gW.prototype.aor=function(s){this.Ns({nu:"wrp",Pk:this.fC.L()})};gW.prototype.a9E=function(s){this.Ns({nu:"switchWarp"})};
gW.prototype.xN=function(s){this.Ns({nu:this.iM.L()?"commit":"cancel"})};gW.prototype.Ns=function(s){s.d=k.s.TN;
s.k=this.k;var N=new hU(k.E.Y,!0);N.data=s;this.c(N)};gW.prototype._w=function(){var s=this.EJ;for(var N in s)s[N].N();
W.eW(s.Wf,s.C5);this.iM.N();this.fC.N();this.RB.N()};gW.aix=function(){return[{name:[5,9],pj:"Shift+Alt+Ctrl + T",Al:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],K:function(s){if(s==null||s.f.length!=1)return{K:!1};
var N=s.p[s.f[0]];return{K:N.add.TySh==null&&!N.Ob()}},Al:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
gW.adH=function(s){if(s==null)s=K.ZB;return[{O:k.E.r,k:s,M:{d:"again"}},{O:k.E.Y,M:{d:k.s.HQ,k:s,oT:{uy:3}}},{O:k.E.Y,M:{d:k.s.HQ,k:s,oT:{uy:4}}},{O:k.E.Y,M:{d:k.s.HQ,k:s,oT:{uy:2}}},{O:k.E.Y,M:{d:k.s.HQ,k:s,oT:{uy:1}}},{O:k.E.Y,M:{d:k.s.HQ,k:s,oT:{uy:-1}}},{O:k.E.r,k:s,M:{d:"rot",Ru:[2,5],h:-Math.PI/2}},{O:k.E.r,k:s,M:{d:"rot",Ru:[2,5],h:-3*Math.PI/2}},{O:k.E.r,k:s,M:{d:"rot",Ru:[2,5],h:Math.PI}},{O:k.E.r,k:s,M:{d:"scl",Ru:[[2,6],[22,4,2]],h:new cR(-1,1)}},{O:k.E.r,k:s,M:{d:"scl",Ru:[[2,6],[22,4,3]],h:new cR(1,-1)}}]};
function cW(){gW.call(this)}cW.prototype=new gW(!0);function b0(){gW.call(this)}b0.prototype=new gW(!0);
function bO(){gW.call(this,!1,!0)}bO.prototype=new gW(!0);function fu(){e2.call(this);var s=this.XY=[new fa([12,36],["Rigid",[15,10,0],[24,4]]),new fa([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new ij([7,4],0,100,"px"),new d1("Show Mesh"),new aa("\u25BC",null,null,!0),new aa("\u25B2",null,null,!0)];
for(var l=0;l<s.length;l++){var N=s[l];N.parent=this;this.body.appendChild(N.e);N.W(l<4?k.E.o:"click",this.a2$,this)}this.iM=new d$;
this.iM.W("click",this.xN,this);this.body.appendChild(this.iM.e)}fu.prototype=new e2;fu.prototype._w=function(){var s=this.XY;
for(var l=0;l<4;l++)s[l].N();this.iM.N()};fu.prototype.qp=function(s){var s=s.LS;for(var l=0;l<4;l++)this.XY[l].b(s[l])};
fu.prototype.a2$=function(s){var N=[];for(var l=0;l<4;l++)N[l]=this.XY[l].L();var r=this.XY.indexOf(s.target);
if(r<4)this.Ns({nu:"prm",LS:N});else this.Ns({nu:"moveDepth",aoS:r==5})};fu.prototype.xN=function(s){this.Ns({nu:this.iM.L()?"commit":"cancel"})};
fu.prototype.Ns=function(s){s.d=k.s.TN;s.k=this.k;var N=new hU(k.E.Y,!0);N.data=s;this.c(N)};function ja(){hz.call(this);
this.e=W.z("div","cmanager");window.alert=function(S,z){this.amU(S,z);console.log("Alert: "+S)}.bind(this);
window.onblur=function(S){var z=this;z.Op()}.bind(this);this.s7=0;this.JY=0;this.Ps=[];this.H5={};this.T_=W.z("div","alertcont");
this.e.appendChild(this.T_);this.alU=W.z("div","alertcont");this.e.appendChild(this.alU);this.Xa=W.z("div","alertcont");
this.a7G=0;this.To=-1;this.agq=null;this.sw=null;var s=this.atG=W.z("div","alertpanel");s.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Xa.appendChild(s);var N=this.hn=W.z("input");N.setAttribute("type","text");W.Im(N);N.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
N.addEventListener("input",this.a60.bind(this),!1);N.addEventListener("keydown",this.a5l.bind(this),!1);
s.appendChild(N);var r=this.amR=W.z("div","contextpanel scrollable");r.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
r.addEventListener("click",this.acj.bind(this),!1);s.appendChild(r);W.JQ(document.body,this.apV.bind(this))}ja.prototype=new hz;
ja.prototype.ky=function(){if(W.zS(this.Xa))this.e.removeChild(this.Xa)};ja.prototype.aqI=function(s,N){var r=this.agq=[],S=N.a1J;
for(var l=0;l<dh.data.length;l++){var z=dh.data[l],A=[eV.get(z.name)],B=[l];ja.an5(z.items,A,B,r,s,N,S==null?null:S[l]==null?0:S[l])}var Y=d0.T;
for(var l=0;l<Y.length;l+=3){if(N.r1&&N.r1.indexOf(Y[l+2])==-1)continue;r.push([["Tools",eV.get(Y[l])],[-1,Y[l+2]],Y[l+1]])}this.e.appendChild(this.Xa);
var t=this.hn;t.focus();t.select();this.rx()};ja.prototype.a60=function(s){this.To=-1;this.rx()};ja.prototype.rx=function(){var s=this.hn.value.toLowerCase().trim().replace(/  +/g," "),N=this.agq,r=[],S=[],z=s.split(" ");
if(s!="")for(var l=0;l<N.length;l++){var A=N[l][0],B=[],Y=0;for(var t=0;t<A.length;t++)B[t]=-1;for(var p=0;
p<z.length;p++)for(var t=0;t<A.length;t++){var f=A[t].toLowerCase().indexOf(z[p]);if(f!=-1){B[t]=[f,f+z[p].length];
Y++;break}}if(Y==z.length){r.push(N[l]);S.push(B)}}var a=[],D=this.amR;W.o3(D);for(var l=0;l<r.length;
l++){var c=r[l],J=c[0],f=S[l],Z="enab",M="";if(l==this.To)Z+=" active";var Q=W.z("div",Z);a.push(Q);
D.appendChild(Q);for(var t=0;t<J.length;t++){var u=f[t],P=z[t],m=J[t];if(u!=-1)m=m.slice(0,u[0])+"<span style=\"color:black\">"+m.slice(u[0],u[1])+"</span>"+m.slice(u[1]);
M+=m;if(t<J.length-1)M+=" \uFE65 "}if(c[2]&&(typeof c[2]!="string"||c[2].length==1))M+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+cK.Sr(c[2])+"</span>";
Q.innerHTML=M}this.sw=[r,a]};ja.prototype.a5l=function(s){var N=cK.UW,r=s.code;if(N(r,cK.Nl))this.ky();
var S=N(r,cK.aa),z=N(r,cK.Qw),A=N(r,cK.D9);if(S||z){this.To=Math.max(0,Math.min(this.sw[0].length-1,this.To+(S?-1:1)));
this.rx()}if(A&&this.To!=-1)this.afg(this.To)};ja.an5=function(s,N,r,S,z,A,B){if(typeof B=="number"){if(B==0)return;
if(B==1)B=null}for(var l=0;l<s.length;l++){if(B!=null&&(B[l]==0||B[l]==null))continue;var Y=s[l],t=N.slice(0),p=r.slice(0),f=eV.get(Y.name);
if(Y.K){var a=Y.K(z,A,l);if(a.Ty)f=a.Ty;if(a.K==!1)continue}t.push(f);p.push(l);if(Y.sub)ja.an5(Y.sub,t,p,S,z,A,B?B[l]:null);
else S.push([t,p,Y.pj])}};ja.prototype.acj=function(s){var N=s.target;if(N.tagName.toLowerCase()=="span")N=N.parentNode;
var r=this.sw[1].indexOf(N);if(r!=-1)this.afg(r)};ja.prototype.afg=function(s){var N=this.sw[0][s][1];
if(N[0]==-1){var r=new hU(k.E.Y,!0);r.data={d:k.s.HQ,k:N[1]};this.c(r)}else{var S=dh.data[N[0]].ab[N[1]];
for(var l=2;l<N.length;l++)S=S.sub[N[l]];var z=new hU(S.O,!0);z.k=S.k;z.data=S.M;this.c(z)}this.ky()};
ja.prototype.uw=function(s,N){this.s7=s;this.JY=N;this.amR.style["max-height"]=N-120+"px"};ja.prototype.a5P=function(s){var N=W.z("div","alertpanel");
N.textContent=eV.get(s);this.T_.appendChild(N);this.H5[JSON.stringify(s)]=N};ja.prototype.aqm=function(s){var N=this.H5[JSON.stringify(s)];
this.T_.removeChild(N);delete this.H5[JSON.stringify(s)]};ja.prototype.amU=function(s,N){var r=this.alU;
for(var l=0;l<r.children.length;l++)if(r.children[l].textContent==s)return;var S=W.z("div","alertpanel tpanel");
S.textContent=s;S.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");r.appendChild(S);if(N==null)N=1500;
var z=N,A=Math.max(Date.now()+z,this.a7G+z);setTimeout(function(){S.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){r.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},A-Date.now()-30);
setTimeout(function(){r.removeChild(r.firstChild);r.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},A-Date.now());
this.a7G=A};ja.prototype.apV=function(s){var N=this.Ps;for(var l=N.length-1;l>=0;l--){var r=N[l],S=s.target;
while(S!=null){if(S==r.e){this.Op(r);return}S=S.parentNode}}this.Op();var z=s.target;while(z!=this.Xa&&z!=document.body)z=z.parentNode;
if(z!=this.Xa)this.ky()};ja.prototype.Op=function(s){var N=this.Ps;for(var l=0;l<N.length;l++){if(s&&s.axi(N[l]))continue;
var r=N[l].e;r.style.height="auto";W.$F(r,"scrollable");this.e.removeChild(r);N.splice(l,1);l--}};ja.prototype.abk=function(s){this.Op(s.mk);
var N=s.mk,r=N.e;if(this.Ps.indexOf(N)!=-1)return;this.Ps.push(N);this.e.appendChild(N.e);var S=this.s7,z=this.JY,A=s.x,B=s.y,Y=this.e.getBoundingClientRect(),t=N instanceof hR,p=-1,f=z-2;
if(t||s.L0){var a=N.d3(),D=N.att();if(t)a=Math.min(a,200);var c=S-a-2,J=z-D-2;if(B<J)p=2;else if(A<c)p=1;
else if(0<B-D-2)p=0;else p=3;if(s.aj6)p=0;if(s.anI)p=2;if(p==2){A=Math.min(A,c)}else if(p==1){B=Math.min(B,J)}else if(p==0){B=B-D-2;
A=Math.min(A,c);f=s.y}else if(p==3){A=A-a-2;B=Math.min(B,J)}}B=Math.max(2,B);var top=Math.round(B-Y.y+this.e.offsetTop);
r.style.position="absolute";r.style["z-index"]=10;if(B+N.att()>f){r.style.height=f-B+"px";W.Bc(r,"scrollable");
if(p==3)A-=10}r.style.left=Math.round(A)+"px";r.style.top=top+"px"};ja.prototype.aol=function(s){var N=s.mk,r=this.Ps.indexOf(N);
if(r==-1)return;this.Ps.splice(r,1);var S=N.e;this.e.removeChild(N.e)};ja.prototype.Yk=function(){var s=this.Ps;
return s.length==0?null:s[s.length-1]};ja.prototype.a7t=function(){this.aol({mk:this.Yk()})};function hu(){hz.call(this);
this.e=W.z("div","confbar")}hu.prototype=new hz;hu.prototype.a09=function(s){s.parent=this;W.o3(this.e);
this.e.appendChild(s.e)};function fP(s){hz.call(this);fP.D5=s;this.tx=null;this.mp=W.z("input","");this.mp.setAttribute("type","file");
this.mp.setAttribute("multiple","");this.mp.addEventListener("change",function(N){this.D2(N.target.files,null,this.IV,null);
this.IV=null}.bind(this),!1);document.body.appendChild(this.mp);this.mp.setAttribute("style","display:none");
this.akT=[];this.RN=!1;this.awx={};this.IV=null}fP.prototype=new hz;fP.D5=null;fP.Rx=function(s){try{var N={};
N[s.type]=s;navigator.clipboard.write([new ClipboardItem(N)])}catch(eV){console.error(eV,eV.message)}};
fP.q_=function(s,N){navigator.clipboard.read().then(function(r){for(var l=0;l<r.length;l++){try{var S=r[l],z={},A=0,B=0;
for(var Y=0;Y<S.types.length;Y++){var t=S.types[Y];A++;S.getType(t).then(function(p){var f=t;new Response(p).arrayBuffer().then(function(a){z[this.fW]=a;
B++;if(B==A)fP.afk(z,s,N)}.bind({fW:this.fW}))}.bind({fW:t}))}}catch(eV){console.error(eV,eV.message)}}}).catch(function(r){alert("Clipboard error: ("+r.message+")")})};
fP.a6Q=function(s){navigator.permissions.query({name:"clipboard-read"}).then(function(N){s(N.state)})};
fP.afk=function(s,N,r){var S=["text/plain","image/png","text/html","text/plain"];for(var z in s)console.log(z,z.startsWith("text")?U.uE(new Uint8Array(s[z])).slice(0,100)+"...":s[z]);
for(var A=0;A<S.length;A++){var B=S[A],Y=s[B];if(Y==null)continue;if(B=="image/png"){fP.D5({name:"image.png"},Y,N,r);
return}if(B=="text/plain"){var t=U.uE(new Uint8Array(Y));if(A==0)if(!t.startsWith("<!--")&&!t.startsWith("<svg"))continue;
var p=new hU(k.E.Y,!0);p.data={d:k.s.ahQ,h:t};N.c(p);return}if(B=="text/html"){var t=U.uE(new Uint8Array(Y)),f=t.indexOf("src=\"");
if(f!=-1&&t.slice(f+5,f+9)!="http"){var a=f+10;while(t[a]!="\"")a++;var D=t.slice(f+5,a);fP.D5({name:"chart.png"},hg.TH(D).buffer,N,r);
return}}}};fP.prototype.Wl=function(s){if(s==null)s=[23,5];var N=JSON.stringify(s),r=this.awx;if(r[N]==null)r[N]=0;
if(r[N]==0){var S=new hU(k.E.Y,!0);S.data={d:k.s.hN,dD:s};this.c(S)}r[N]++};fP.prototype.l$=function(s){if(s==null)s=[23,5];
var N=JSON.stringify(s),r=this.awx;if(r[N]==null)r[N]=0;r[N]--;if(r[N]==0){var S=new hU(k.E.Y,!0);S.data={d:k.s.lG,dD:s};
this.c(S)}};fP.prototype.aoK=function(s,N){this.IV=s;var r=window.showOpenFilePicker;if(r&&window.self==window.top){var S=this;
r({multiple:!0}).then(function(B){var Y=[];function t(p){Y.push(p);if(Y.length==B.length){S.D2(Y,null,S.IV,null,B);
S.IV=null}else B[Y.length].getFile().then(t)}B[Y.length].getFile().then(t)});return}var z=this.mp;if(N)z.setAttribute("accept",N);
else z.removeAttribute("accept");var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
z.dispatchEvent(A)};fP.prototype.zX=function(s){if(s.url.indexOf("photopea.com#i")!=-1||s.url.indexOf("photopea.com/#i")!=-1){this.hZ(s.url.split("#i").pop());
return}this.akT.push(s);this.a3J()};fP.prototype.a3J=function(){var s=this.akT;if(s.length==0||this.RN)return;
this.RN=!0;var N=s.shift();this.Wl();if(N.V8==null)N.V8={};var r=new XMLHttpRequest;r.Tn=N;var S=N.url;
if(N.PD&&!S.startsWith("data:image"))S=(S);r.open("GET",S);if(N.ey)for(var z in N.ey)r.setRequestHeader(z,N.ey[z]);
r.responseType="arraybuffer";r.onload=this.akc.bind(this);r.send()};fP.prototype.D2=function(s,N,r,S,z){for(var l=0;
l<s.length;l++){this.Wl();var A=s[l],B=new FileReader;B.Tn=A;B.Tn.Ef=r;B.Tn.Ov=S;B.a3B=N;if(z)B.Tn.$q=z[l];
B.onload=this.akc.bind(this);B.onerror=function(Y){this.l$()}.bind(this);B.readAsArrayBuffer(A)}this.mp.value=null};
fP.prototype.a4f=function(s,N,r){this.Wl("Saving ...");this.tx=N;setTimeout(r.bind({rd:s,caller:this}),50)};
fP.NI=function(s){var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(s),S=r.length,z=S%3,A=S-z,B=[],Y=0,t=0,p=0;
for(var l=0;l<A;l+=3){Y=r[l];t=r[l+1];p=r[l+2];B.push(N[Y>>2]+N[(Y&3)<<4|t>>4]+N[(t&15)<<2|p>>6]+N[p&63])}if(z==1){Y=r[A];
B.push(N[Y>>2]+N[(Y&3)<<4]+"==")}if(z==2){Y=r[A];t=r[A+1];B.push(N[Y>>2]+N[(Y&3)<<4|t>>4]+N[(t&15)<<2]+"=")}var f=B.join("");
return f};fP.aj1=function(s,N){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=new Uint8Array(64),Y=0,t=0,p=0,a=0;
for(var l=0;l<64;l++)S[l]=r.charCodeAt(l);var z=new Uint8Array(s),A=N%3,B=N-A,f=new Uint8Array(Math.floor(N/3)*4+(A==0?0:4));
for(var l=0;l<B;l+=3){Y=z[l];t=z[l+1];p=z[l+2];f[a]=S[Y>>>2];f[a+1]=S[(Y&3)<<4|t>>>4];f[a+2]=S[(t&15)<<2|p>>>6];
f[a+3]=S[p&63];a+=4}if(A==1){Y=z[B];f[a]=S[Y>>2];f[a+1]=S[(Y&3)<<4];f[a+2]=61;f[a+3]=61}if(A==2){Y=z[B];
t=z[B+1];f[a]=S[Y>>2];f[a+1]=S[(Y&3)<<4|t>>4];f[a+2]=S[(t&15)<<2];f[a+3]=61}return f};fP.prototype.akc=function(s){var N,r=s.target.Tn;
if(s.target instanceof XMLHttpRequest)N=s.target.response;else N=s.target.result;fP.D5(r,N,this,s.target.a3B);
this.l$();if(s.target instanceof XMLHttpRequest){this.RN=!1;this.a3J()}};fP.amo=function(s,N){var r=new XMLHttpRequest;
r.open("POST","https://api.imgur.com/3/image",!0);r.K_=N;r.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.setRequestHeader("Accept","application/json");
r.addEventListener("load",fP.acL);r.send("type=base64&image="+encodeURIComponent(fP.NI(s)));alert("Saving to Imgur ...",4e3)};
fP.acL=function(s){var N=JSON.parse(s.target.response);if(N.success){if(s.target.K_)s.target.K_(N.data.link);
else window.open(N.data.link,"Imgur")}};fP.prototype.hZ=function(s,N){this.Wl();var r=new XMLHttpRequest;
r.responseType="arraybuffer";r.open("GET","https://f000.backblazeb2.com/file/psdshared/"+s);r.onload=this.a9q.bind(this);
r.send();fP.aqj=Date.now();fP.agv=s;fP.aux=N?s:null};fP.prototype.a9q=function(s){var N=new Uint8Array(s.target.response);
console.log(N.length,Date.now()-fP.aqj);for(var l=0;l<N.length;l++)N[l]=255-N[l];N=pako.inflateRaw(N);
var r=JSON.parse(U.uE(N,0,2e3));fP.D5({name:r.name,jI:fP.aux},N.slice(2e3).buffer,this);this.l$();var S=new XMLHttpRequest;
S.open("GET","/papi/img/update.php?act=0&id="+fP.agv+"&rnd="+Math.random());S.send()};fP.prototype.aw0=function(s,N,r){if(!(s instanceof ArrayBuffer))throw"e";
s=new Uint8Array(s);var S=new Uint8Array(s.length+2e3),a="";for(var l=0;l<2e3;l++)S[l]=32;U.MD(JSON.stringify({name:N}),S,0);
S.set(s,2e3);s=S;s=pako.deflateRaw(s);for(var l=0;l<s.length;l++)s[l]=255-s[l];s=s.buffer;var z=s.byteLength,A=g$.gZ(z),B=~~(609e5/2),Y=~~(209e5/2);
if(z>B){confirm("Your file is "+A+". Our limit is "+g$.gZ(B)+". Delete some layers and try again.");
return}if(z>Y){var t=confirm("Your file is quite large ("+A+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!t)return}var p=sha1(s),f=[];for(var l=0;l<20;l++){var D=parseInt(p.slice(l*2,l*2+2),16);f.push(D);
a+=String.fromCharCode(D)}var c=btoa(a).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(fP.als(c)){console.log("file already exists");
if(r)r("https://www.photopea.com#i"+c);else window.open("https://www.photopea.com#i"+c);return}this.Wl("Publishing ...");
var J=new XMLHttpRequest;J.Z4=[s,p,c,r];J.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+c+"&size="+z);
J.onload=this.a4c.bind(this);J.send()};fP.als=function(s){try{var N=new XMLHttpRequest;N.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+s,!1);
N.send();if(N.status==200)return!0}catch(eV){return!1}return!1};fP.prototype.a4c=function(s){console.log(s.target.response);
var N=JSON.parse(s.target.response),r=s.target.Z4,S=new XMLHttpRequest;S.open("POST",N.uploadUrl);S.setRequestHeader("Authorization",N.authorizationToken);
S.setRequestHeader("X-Bz-File-Name",r[2]);S.setRequestHeader("Content-Type","b2/x-auto");S.setRequestHeader("X-Bz-Content-Sha1",r[1]);
S.send(new Blob([r[0]]));S.onload=this.aww.bind({$0:this,Z4:r})};fP.prototype.aww=function(s){this.$0.l$("Publishing ...");
if(this.Z4[3])this.Z4[3]("https://www.photopea.com#i"+this.Z4[2]);else window.open("https://www.photopea.com#i"+this.Z4[2]);
var N=new XMLHttpRequest;N.open("GET","/papi/img/update.php?act=2&id="+this.Z4[2]+"&fileId="+JSON.parse(s.target.response).fileId+"&rnd="+Math.random());
N.send()};fP.save=function(s,N){var r=new Uint8Array(s),S=document.createElement("a");if(typeof S.download=="string"){var z=new Blob([r]),A=window.URL.createObjectURL(z);
S.href=A;S.download=N;document.body.appendChild(S);S.click();document.body.removeChild(S)}else{var B="data:application/octet-stream;base64,"+fP.NI(s);
window.open(B)}};function iY(){this.size=16;this.data=q.m(16)}iY.prototype.yd=function(s,N){if(s+N<=this.size)return;
var r=this.size;while(s+N>this.size)this.size*=2;var S=q.m(this.size);for(var l=0;l<r;l++)S[l]=this.data[l];
this.data=S};var k6={};k6.Su=function(s,N,r){var S=N.split(":"),z=S[0],A=null;if(S.length==2){if(z=="jpg")A=[Math.round(100*parseFloat(S[1]))];
if(z=="webp")A=[Math.round(100*parseFloat(S[1])),100,0,!1,!1];if(z=="psd")A=[!0,!0];if(z=="svg")A=S[1].split(",").map(function(Y){return Y=="true"})}var B=hg.Lf(s,z.toUpperCase(),null,null,A,r);
return B};k6.a36=function(s,N,r){var S=s.r9(),z=N[0];return k6.Su(s,z,r)};k6.ac4=function(){var s=this.rd,N=this.caller,r=s.V8.he,S=r.formats,z,A;
s.r9();var B=Date.now();if(r.version==1){var Y=[],t=0,f=0;for(var l=0;l<S.length;l++){var p=k6.Su(s,S[l],N.tx);
Y.push(p);t+=p.byteLength}z=new Uint8Array(2e3+t);var a="{ \"source\": "+JSON.stringify(s.Xi)+", \"versions\": [\n";
for(var l=0;l<S.length;l++){var D=new Uint8Array(Y[l]);a+="\t{\"format\": \""+S[l].split(":")[0]+"\", \"start\": "+f+", \"size\": "+D.length+" }"+(l+1<S.length?", ":"")+"\n";
z.set(D,2e3+f);f+=Y[l].byteLength}a+="] }";var c=U.MD(a,z,0);for(var l=c;l<2e3;l++)z[l]=32;A="application/octet-stream"}else{var J=new iY,Z=0,Q="",M=encodeURIComponent;
Q="p="+M("{ \"source\": "+JSON.stringify(s.Xi)+", \"versions\": [");U.Gc(J,Z,Q);Z+=Q.length;for(var l=0;
l<S.length;l++){Q=M(" {\"format\": \""+S[l].split(":")[0]+"\", \"data\": \"");U.Gc(J,Z,Q);Z+=Q.length;
var p=k6.Su(s,S[l],N.tx),u=fP.aj1(p,p.byteLength),c=u.length;J.yd(Z,c);for(var P=0;P<c;P++){J.yd(Z,3);
var m=u[P];if(m==43){J.data[Z]=37;J.data[Z+1]=50;J.data[Z+2]=66;Z+=3}else if(m==47){J.data[Z]=37;J.data[Z+1]=50;
J.data[Z+2]=70;Z+=3}else if(m==61){J.data[Z]=37;J.data[Z+1]=51;J.data[Z+2]=68;Z+=3}else{J.data[Z]=m;
Z++}}Q=M("\" }"+(l+1<S.length?", ":""));U.Gc(J,Z,Q);Z+=Q.length}Q=M("] }");U.Gc(J,Z,Q);Z+=Q.length;z=J.data.slice(0,Z);
A="application/x-www-form-urlencoded"}var i=new XMLHttpRequest;i.open("POST",r.url,!0);if(A)i.setRequestHeader("Content-Type",A);
i.addEventListener("load",k6.atV.bind(this));i.send(new Blob([z.buffer]))};k6.atV=function(s){this.caller.l$("Saving ...");
var N=s.target.response;if(N.charAt(0)=="{"){N=JSON.parse(N);if(N.newSource)this.rd.Xi=N.newSource;if(N.message)alert(N.message,2e3);
if(N.script){var r=new hU(k.E.Y,!0);r.data={d:k.s.nF,j_:N.script};this.caller.c(r)}}else alert("Saved. Response: "+N,1500)};
k6.anT=function(s){var N=s.vW,r=N[1].split(".").pop(),S=k6.Su(s,r),z=Storage.$d(N[0]);z.a6w(N[1],S)};
k6.a6f=function(s,N){var r=s.jA.mw;if(N==null)N=k6.Su(s,r);jN.Xf(function(){var S=new XMLHttpRequest,z="https://www.googleapis.com/upload/drive/v3/files/"+s.jA.file.id+"?uploadType=media"+"&"+jN.sL();
S.open("PATCH",z,!0);S.addEventListener("load",function(A){var B=JSON.parse(A.target.response);alert(B.name+" updated")});
S.send(N);alert("Saving \""+s.jA.file.name+"\" to Google Drive ...")})};k6.D5=function(s,N,r,S){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)k6.a8n(s,N,r,S);
else{try{k6.a8n(s,N,r,S)}catch(eV){if(eV=="low_ram"){}else{var z="Error. Please, send your file to support@photopea.com and we will solve it.";
if(hg.yy(N)=="eps")z="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(z,1e4)}}}};k6.a8n=function(s,N,r,S){var z;if(s.name){var A=s.name.lastIndexOf(".");z=A==-1?A:s.name.slice(0,A)}else{if(s.url.substring(0,5)=="data:"||s.url.indexOf("googleapis")!=-1)z="image";
else z=s.url.substring(s.url.lastIndexOf("/")+1).split(".")[0];z=z.slice(0,50)}var B=s.name?s.name:s.url,Y=new Uint8Array(N),t=hg.yy(N),p=window.ga;
if(Math.random()<.25&&p&&t!=null&&hg.Pp(t))p("send","event","Formats",t);if(t==null)t=U.TX(Y,0,4);if(B&&B.toLowerCase().endsWith(".raw")){var f=new hU(k.E.Y,!0);
f.data={d:k.s.Pv,ic:"importraw",bm:N,Ff:B.split("/").pop()};r.c(f);return}else if(t=="json"){var a="";
for(var l=0;l<Y.length;l++)a+=String.fromCharCode(Y[l]);a=decodeURIComponent(escape(a));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(a));return}if(t=="html"){var a=U.uE(Y,0,Y.length),D=new DOMParser,c=D.parseFromString(a,"text/html"),J=c.getElementsByTagName("meta");
for(var l=0;l<J.length;l++){var Z=J[l],Q=Z.getAttribute("property"),M=Z.getAttribute("content"),u=null;
if(Q=="og:image")u=M;if(Q==null&&M&&M.startsWith("0;url=/imgres?")){var P=M.slice(14).split("&");for(var m=0;
m<P.length;m++)if(P[m].startsWith("imgurl"))u=decodeURIComponent(P[m].slice(7))}if(u==null)continue;
var f=new hU(k.E.Y,!0);f.data={d:k.s.k3,LS:{url:u,PD:!0,Ef:s.Ef}};r.c(f)}return}if(hg.Pp(t)){var i,e,X=hg.Pp(t);
if(s.Ef!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(t)!=-1){var f=new hU(k.E.Y,!0);f.data={d:k.s.Rk,target:s.Ef,OK:s.Ov,jO:N,cW:z};
r.c(f);return}var $=[z,X,t,s,r,S,N];if(X.oY){i=new a2(z+(t=="psd"?"":"-"+t)+".psd");X.LG(N,i,k6.IG,$)}else{e=X.LG(N,null,k6.IG,$,r)}if(X.gC!=!0)k6.IG(i,e,$);
else r.Wl();return}var O=new hU(k.E.Y,!0);O.data={d:k.s.Gf,bm:N,aM:s.name};var b=s instanceof File&&s.ap8!=!0,f=new hU(k.E.Y,!0);
f.data={d:k.s.Jl,V8:"add",LS:null,lz:null,aiU:s.ap8};if(t=="zip"){var R=Date.now(),w=UZIP.parse(N),F="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var L in w){var x=!1;for(var l=0;l<F.length;l++)if(L.toLowerCase().endsWith("."+F[l]))x=!0;if(L.startsWith("__MACOSX/")||w[L].length==0)x=!0;
if(x)continue;var g=L.split("/").pop();k6.D5({name:g},w[L].buffer,r,S)}}else if(t=="jsx"||B&&B.toLowerCase().endsWith(".jsx")){var a=U.uE(new Uint8Array(N));
f.data={d:k.s.nF,j_:a};r.c(f)}else if(t=="otf"){if(b)r.c(O);var n=Typr.parse(N);f.data.LS=eq.Bw;for(var l=0;
l<n.length;l++){f.data.lz=n[l];r.c(f)}}else if(t=="asl"){if(b)r.c(O);var n=ge.j7(N);f.data.LS=eq.gg;
f.data.lz=n.u$;r.c(f);f.data.LS=eq.ta;f.data.lz=n.yc;r.c(f)}else if(t=="tpl"){if(b)r.c(O);var n=gv.j7(N);
f.data.LS=eq.rX;f.data.lz={nv:n.nv,wf:n.wf,list:[]};r.c(f);if(n.as3.length!=0){f.data.LS=eq.ne;f.data.lz=n.as3;
r.c(f)}if(n.yc.length!=0){f.data.LS=eq.ta;f.data.lz=n.yc;r.c(f)}f.data.LS=eq.Ft;f.data.lz=n.list;r.c(f)}else{var h="";
for(var _ in eq.Go)if(eq.Go[_][0]==t)h=_;if(h!=""){if(b)r.c(O);f.data.lz=eq.Go[h][2].j7(N,B);f.data.LS=h;
r.c(f)}else alert("Unknown file format: "+JSON.stringify(t))}};k6.IG=function(s,N,r){var S=r[0],z=r[1],A=r[2],B=r[3],Y=r[4],t=r[5],p=r[6];
if(z.gC)Y.l$();if(!z.oY){if(N.length==0)return;if(N[0].t33421||N[0].t50706){q.raw.normalize(N[0],p);
console.log(N[0]);var f=new hU(k.E.Y,!0);f.data={d:k.s.Pv,ic:"rawpea",r2:N[0]};Y.c(f);return}if(t){t(new Uint8Array(N[0].data),N[0].zC);
return}s=hg.i0(S,N)}s.jI=B.jI;s.wK=A;s.V8=B.V8;s.Xi=B.url;s.y4=B.y4;s.jA=B.jA;s.$q=B.$q;s.vW=B.vW;if(s.jA)s.jA.mw=A;
if(s.p.length!=0){var f=new hU(k.E.Y,!0);f.data={d:B.Ef==null?k.s.Ap:k.s.Rk,target:B.Ef,OK:B.Ov,jO:s};
Y.c(f)}};function ik(s){hz.call(this);this.H1=ik.H1++;this.es=s;this.aik=this.a5K.bind(this);this.ahw=this.aud.bind(this);
this.a8K=this.nr.bind(this);this.aib=this.a3o.bind(this);this.as7=this.a2G.bind(this);this.ah3=this.alP.bind(this);
this.AU=0;this.aa5=0;this.auJ=0;this.e=W.z("div","panelblock");this.yG=W.z("div","block");this.rB=W.z("div","collapsed");
this.e.appendChild(this.yG);this.Km=-1;this.fb=!0;this.tY=W.z("div","panelhead");this.yG.appendChild(this.tY);
this.Lb(this.tY);this.sf=new aa("\u2261");this.sf.e.setAttribute("style","position:absolute; right:0;");
this.sf.W("click",this.a0q,this);this.mP=W.z("div","");this.yG.appendChild(this.mP);this.yf=[];this.gK=null;
this.UU=null}ik.H1=0;ik.prototype=new hz;ik.prototype.a0q=function(s){var N=this.yf[this.Km].th(),r=s.currentTarget.e.getBoundingClientRect();
N.N();N.update();N.parent=this;var S=new hU(k.E.Y,!0);S.data={d:k.s.xh,mk:N,x:r.left,y:r.top+r.height+2};
this.c(S)};ik.prototype.O_=function(s){var N=this.yG,r=this.tY,S=this.mP;if(W.zS(r))N.removeChild(r);
if(W.zS(S))N.removeChild(S);if(s==0)N.appendChild(r);N.appendChild(S);this.auJ=s};ik.wC=function(s){s.stopPropagation();
s.preventDefault()};ik.prototype.a5K=function(s){var N=s.dataTransfer.types;if(N[1]!=null&&N[1]!=this.H1+"")return;
ik.wC(s);var i3=s.currentTarget;if(s.target==i3)W.Bc(i3,"highlight")};ik.prototype.aud=function(s){ik.wC(s);
var i3=s.currentTarget;if(s.target==i3)W.$F(i3,"highlight")};ik.prototype.Lb=function(s){s.addEventListener("dragenter",this.aik,!1);
s.addEventListener("dragleave",this.ahw,!1);s.addEventListener("dragover",ik.wC,!1);s.addEventListener("drop",this.a8K,!1);
s.addEventListener("dragstart",function(N){N.dataTransfer.setData("Text","--panel");N.dataTransfer.setData(this.H1+"","")}.bind(this),!1)};
ik.prototype.nr=function(s){this.ahw(s);var N=null,i3=s.currentTarget,r=this.amj(i3);if(i3==this.mP&&this.Km!=-1)N=this.Km;
else if(i3==this.tY)N=null;else if(r!=-1)N=r;var S=s.dataTransfer.getData("Text");if(S==""||S.startsWith("http"))W.zh(s,this,N);
else if(S=="--panel"){var z=W.WO(s,i3),A=this.yf,B=A.slice(0),l=this.Km,Y=r==-1?A.length:z.x<i3.getBoundingClientRect().width/2?r:r+1;
if(l==Y||l+1==Y||i3==this.mP)return;var t=l<Y?Y-1:Y,p=A[l];A.splice(l,1);A.splice(t,0,p);W.o3(this.tY);
for(var f=0;f<A.length;f++)this.tY.appendChild(A[f]._a);this.v7(t);var a=[];for(var l=0;l<A.length;l++)a[l]=B.indexOf(A[l]);
var D=new hU("shuffleItems",!1);D.data={alw:a};this.c(D)}else if(N!=null&&this instanceof a5){var D=new hU(k.E.Y,!0);
D.data={d:k.s.a8t,a2H:N};this.c(D)}};ik.prototype.al=function(){return null};ik.prototype.alH=function(){if(this.al()){this.UU=this.al();
this.mP.appendChild(this.UU);this.Kl.b4(!1);var s=new hU(k.E.Y,!0);s.data={d:k.s.wB,h:1};this.c(s)}};
ik.prototype.aba=function(){if(this.UU){this.mP.removeChild(this.UU);this.UU=null;this.Kl.b4(!0);var s=new hU(k.E.Y,!0);
s.data={d:k.s.wB,h:0};this.c(s)}};ik.prototype.amj=function(s){var N=this.yf;for(var l=0;l<N.length;
l++)if(N[l]._a==s)return l;return-1};ik.prototype.$P=function(){for(var l=0;l<this.yf.length;l++)this.yf[l].ZG.sD()};
ik.prototype.yo=function(){return this.Km};ik.prototype.f8=function(){if(this.fb)return;this.fb=!0;this.e.removeChild(this.rB);
this.e.appendChild(this.yG)};ik.prototype.collapse=function(){if(!this.fb)return;this.fb=!1;this.e.appendChild(this.rB);
this.e.removeChild(this.yG)};ik.prototype.a2c=function(){return 26+this.mP.getBoundingClientRect().height};
ik.prototype.uw=function(s,N){this.tY.setAttribute("style","max-width: "+s+"px");var r=0;if(this.auJ==0){r=this.tY.getBoundingClientRect().height;
r=Math.max(r,26)}if(this.Km!=-1)this.yf[this.Km].uw(s,N-r);return N-r};ik.prototype.wy=function(s,N){if(this.Km!=-1)this.yf[this.Km].wy(s,N)};
ik.prototype.sV=function(s,N,r){this.yf[this.Km].sV(s,N,r)};ik.prototype.g4=function(s){this.aba();if(this.yf.indexOf(s)!=-1){this.v7(this.yf.indexOf(s));
return}s.parent=this;this.yf.push(s);this.tY.appendChild(s._a);s._a.addEventListener("mouseover",this.aib,!1);
this.Lb(s._a);this.rB.appendChild(s.ZG.e);s.ZG.W("click",this.anN,this);s.W("select",this.aer,this);
s.W(k.E.Gz,this.a5O,this);this.v7(this.yf.length-1)};ik.prototype.a3o=function(s){if(s.buttons==0)return;
var N=s.currentTarget,r=N,l=0;while((r=r.previousSibling)!=null)l++;this.aa5=l;N.addEventListener("mouseout",this.as7,!1);
this.AU=setTimeout(this.ah3,700)};ik.prototype.a2G=function(s){var N=s.currentTarget,r=N,l=0;while((r=r.previousSibling)!=null)l++;
N.removeEventListener("mouseout",this.as7);clearTimeout(this.AU)};ik.prototype.alP=function(s){this.c(new hU(k.E.at_,!1))};
ik.prototype.adP=function(s){return this.aa5};ik.prototype.wv=function(l){var s=new hU(k.E.Gz,!1);s.data={bl:l};
this.c(s);var N=this.yf[l];this.yf.splice(l,1);this.tY.removeChild(N._a);this.rB.removeChild(N.ZG.e);
N._a.setAttribute("class","");N.ZG.removeEventListener("click",this.anN,this);N.ZG.sD();N.removeEventListener("activate",this.aer);
N.removeEventListener(k.E.Gz,this.a5O);var r=this.Km;if(l<r)r--;else if(l==r&&l==this.yf.length)r--;
this.v7(r);if(this.yf.length==0)this.alH()};ik.prototype.a1O=function(){return this.yf.length};ik.prototype.r7=function(){if(this.yf.length!=0)this.yf[this.Km].r7()};
ik.prototype.v7=function(s,N){if(N==null)N=!0;for(var l=0;l<this.yf.length;l++)this.yf[l]._a.setAttribute("class","");
if(this.gK)this.mP.removeChild(this.gK);this.gK=null;this.Km=s;if(s==-1)return;var r=this.yf[this.Km];
this.gK=r.aQ;this.mP.appendChild(r.aQ);r._a.setAttribute("class","active");if(!this.fb){this.c(new hU("showFloat"));
this.yf[s].ZG.Io()}if(N)this.c(new hU(k.E.o,!1));r.jH();var S=this.sf.e;if(S.parentNode)this.tY.removeChild(S);
if(r.th())this.tY.appendChild(S);var z=new hU(k.E.Y,!0);z.data={d:k.s.IP};this.c(z)};ik.prototype.aer=function(s){if(this.es&&!this.es.adW())return;
var l=this.yf.indexOf(s.currentTarget);this.v7(l)};ik.prototype.a5O=function(s){if(this.es&&!this.es.adW())return;
var l=this.yf.indexOf(s.currentTarget);this.wv(l)};ik.prototype.anN=function(s){var N=this.yf.indexOf(s.currentTarget.parent);
if(this.yf[N].ZG.pX())this.c(new hU("hideFloat"));else this.v7(N)};ik.prototype.a4n=function(s){this.c(s)};
function a5(s){ik.call(this,s);this.s7=0;this.JY=0;W.eA(this.tY,this.ab5.bind(this));this.ZL=0;this.aqO=this.a25.bind(this);
this.Lb(this.mP);this.SZ=["default;"];this.Kl=new W.uz(this.mP);this.wF=new et(!0);this.wF.parent=this;
this.vu=this.wF.e;et.HL(this.wF)}a5.prototype=new ik;a5.prototype.ab5=function(s){if(s.target!=this.tY)return;
var N=this.ZL;this.ZL=Date.now();if(Date.now()-N>300)return;var r=new hU(k.E.Y,!0);r.data={d:k.s.Pv,ic:"newproject"};
this.c(r)};a5.prototype.lL=function(s,N){if(N)this.SZ.push(s);else{var r=this.SZ.length-1;if(this.SZ[r]==s)return;
this.SZ[r]=s}this.Ie()};a5.prototype.alm=function(){this.SZ.pop();this.Ie()};a5.prototype.Ie=function(){var s=this.SZ[this.SZ.length-1];
this.Kl.sV(s,this.J3)};a5.prototype.wy=function(s,N){ik.prototype.wy.call(this,s,N);this.wF.wy(s,N);
if(!s.HS){}};a5.prototype.N=function(){ik.prototype.N.call(this);this.wF.N()};a5.prototype.sV=function(s,N){for(var l=0;
l<N.length;l++){var r=N[l];this.yf[l].qk(r.name+(r.Bp()?" *":""))}ik.prototype.sV.call(this,s,N)};a5.prototype.al=function(){return this.vu};
a5.prototype.uw=function(s,N){if(this.yf.length==0)N+=22;this.s7=s;this.JY=N;N=ik.prototype.uw.call(this,s,N);
this.J3="height:"+N+"px; width:"+s+"px; overflow:hidden; position:relative;";this.Ie();this.wF.uw(s,N)};
a5.prototype.g4=function(s){ik.prototype.g4.call(this,s);s._a.addEventListener("click",this.aqO,!1)};
a5.prototype.wv=function(l){var s=this.yf[l];W.tp(s._a,this.aqO);ik.prototype.wv.call(this,l)};a5.prototype.a25=function(s){var N=this.ZL;
this.ZL=Date.now();if(Date.now()-N>300)return;var r=this.amj(s.currentTarget),S=this.yf[r].jO.name,z=new hU(k.E.Y,!0),A={O:k.E.r,k:K.g$,M:{d:y.VL}};
z.data={d:k.s.Pv,ic:"namewindow",kj:S.slice(0,S.length-4),ap:A};this.c(z)};function iG(s){hz.call(this);
if(s)return;bP.aie(1);this.e=W.z("div","flexrow app");this.JV=W.z("div");this.e.appendChild(this.JV);
setTimeout(function(){var r=window.hideCap;if(r)r()},25e3);this.nd=new cK;window.addEventListener("blur",function(r){this.nd.reset()}.bind(this),!1);
window.addEventListener("resize",this.hz.bind(this),!1);var N=this.JV;this.aE=new gA;this.aE.parent=this;
N.appendChild(this.aE.e);this.Lx=new ja;this.Lx.parent=this;N.appendChild(this.Lx.e);this.Qo=new dN(!0);
this.Qo.parent=this;N.appendChild(this.Qo.e);this.W(k.E.Y,this.aO,this);this.$r=this.A_.bind(this);window.requestAnimationFrame(this.$r)}iG.prototype=new hz;
iG.prototype.A_=function(s){this.g0();window.requestAnimationFrame(this.$r)};iG.prototype.N=function(){};
iG.prototype.hz=function(s){var N=window.innerWidth,r=window.innerHeight;this.uw(N,r)};iG.prototype.uw=function(s,N){this.Lx.uw(s,N);
this.aE.uw(s,N)};iG.prototype.aO=function(s){var N=s.data.d;if(N==k.s.xh)this.Lx.abk(s.data);if(N==k.s.fo)this.Lx.aol(s.data);
if(N==k.s.hN)this.Lx.a5P(s.data.dD);if(N==k.s.lG)this.Lx.aqm(s.data.dD);if(N==k.s.LY)this.Lx.Op()};function dA(){iG.call(this);
this.sy={x:0,y:0,Rd:!1};this.X3=!1;this.uJ=!1;this.pF=null;this.acG=0;this.akJ=!1;this.cs=0;window.onmessage=function(Q){if(Storage.a64(Q.source))return;
if(Q.data instanceof ArrayBuffer){var M=hg.yy(Q.data),u=hg.Pp(M);fP.D5({url:"file"},Q.data,this);if(u==null)this.Df()}else if(Q.data instanceof Object||Q.data.startsWith("{")||Q.data.startsWith("amp-")||Q.data.startsWith("0=goog")||Q.data.startsWith("3PCoo")){}else if(Q.data.startsWith("--ot ")){this.aE.Yk().close();
this.fN.hZ(Q.data.split(" ").pop(),!0)}else{var P=new hU(k.E.Y,!0);P.data={d:k.s.nF,j_:Q.data};this.c(P);
this.Df()}}.bind(this);window.onunload=window.onbeforeunload=function(Q){for(var l=0;l<this.Rr.length;
l++)if(this.Rr[l].Bp())return this.Rr[l].name}.bind(this);window.setInterval(function(){var Q=this.hr();
if(Q==null)return;var M=(Date.now()-Q.Z8)/6e4;if(this.Py.Tj==1&&Q.Jn!=Q.YN&&M>60){var u="You haven't saved your work ("+Q.name+") for "+Math.round(M)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",P=new hU(k.E.Y);
P.data={d:k.s.Pv,ic:"confirm"};P.data.h=u;P.data.JN=function(){var P=new hU(k.E.Y);P.data={d:k.s.Hh};
this.c(P)}.bind(this);this.c(P)}}.bind(this),30*60*1e3);var s=this,Y="",t="";if(window.indexedDB&&(!fS.d1()||document.hasStorageAccess==null)){var N={yd:window.indexedDB.open("pp",1)};
N.yd.onupgradeneeded=function(Q){var M=Q.target.result,u=M.createObjectStore("rsrc",{keyPath:"k"})};
N.yd.onsuccess=function(Q){var M=s.Py.ZX.R3=Q.target.result,u=M.transaction(["rsrc"],"readwrite").objectStore("rsrc"),P=u.get("fs0");
P.onsuccess=function(Q){if(Q.target.result){var m=s.Py.ZX.E3=Q.target.result.fset;for(var i in m){if(!i.endsWith(".jsx"))fP.D5({url:i,ap8:!0},m[i],s)}}}}}var r=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],S=W.JI[cf.PM][cf.cm];
for(var l=0;l<r.length;l++){var z=W.VS(r[l]);if(S.indexOf(z)!=-1){var A=W.JI[cf.PM][cf.mP],B=W.VS("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
W.o3(A);A[cf.aqG]=B;return}}this.T={a9g:[{k:K.b_,Ti:!1,pj:[cK.a4o,cK.IH]},{k:K.g1,Ti:!1,pj:[cK.IH]},{k:K.f0,Ti:!0,pj:[cK.z6],t0:[K.yI]},{k:K.yI,Ti:!0,pj:[cK.z6],t0:[K.f0]},{k:K.bt,Ti:!0,pj:[cK.z6],t0:[K.pG,K.Kf,K.f7]},{k:K.pG,Ti:!0,pj:[cK.z6],t0:[K.bt,K.ib,K.df,K.AX,K.cy,K.mA]},{k:K.tM,Ti:!0,pj:[cK.z6]}],ka:[[{k:new K.yz,AZ:cJ},{k:new K.rq,AZ:br}],[{k:new K.IR,AZ:ck},{k:new K.Bf,AZ:j3}],[{k:new K.xC,AZ:e7},{k:new K.fp,AZ:bR},{k:new K.Y1,AZ:hN}],[{k:new K.RI,AZ:jX},{k:new K.qA,AZ:cQ},{k:new K.vC,AZ:ab}],[{k:new K.ZM,AZ:io},{k:new K.CI,AZ:id},{k:new K.vf,AZ:bG},{k:new K.Nx,AZ:fs}],[{k:new K.k9,AZ:ix},{k:new K.av,AZ:bg}],[{k:new K.w1,AZ:gZ},{k:new K.Gg,AZ:aj},{k:new K.GW,AZ:fx},{k:new K.aeE,AZ:jx},{k:new K.jZ,AZ:h_}],[{k:new K.cr,AZ:bj},{k:new K.Eg,AZ:bd},{k:new K.l2,AZ:bJ}],[{k:new K.VT,AZ:dF}],[{k:new K._v,AZ:go},{k:new K.Xo,AZ:fe}],[{k:new K.gL,AZ:gO},{k:new K.bA,AZ:h1}],[{k:new K.gA,AZ:d5},{k:new K.gT,AZ:au},{k:new K.mg,AZ:b5}],[{k:new K.Di,AZ:f1},{k:new K.kE,AZ:je},{k:new K.in,AZ:aw}],[{k:new K.mG,AZ:cu},{k:new K.wL,AZ:cu}],[{k:new K.FW(0),AZ:fZ},{k:new K.Zc,AZ:dR},{k:new K.FW(1),AZ:fZ}],[{k:new K.v9,AZ:ez},{k:new K.Q4,AZ:g8}],[{k:new K.Rect,AZ:dd},{k:new K.q3,AZ:hO},{k:new K.WD,AZ:dE},{k:new K.qX,AZ:bt},{k:new K.UP,AZ:gc}],[{k:new K.Td,AZ:k9},{k:new K.dW,AZ:am}],[{k:new K.OD,AZ:eI}]],K4:[],keys:[cK.n2,cK.x8,cK.Mp,cK.ON,cK.p6,cK.$K,cK.Ux,cK.pU,cK.Eq,cK.E,cK.ET,null,cK.vk,cK.Lo,cK.Vi,cK.s,cK.tK,cK.za,cK.kx],ux:[{k:new K.akK,AZ:cW},{k:new K.aej,AZ:b0},{k:new K.aoM,AZ:bO},{k:new K.k9(!0),AZ:ix},{k:new K.qd,AZ:fu}],OI:[{k:new K.o7},{k:new K.History},{k:new K.le},{k:new K.gH},{k:new K.fB},{k:new K.Fh}],map:{},nj:null,O3:null,dg:null};
for(var l=0;l<this.T.ka.length;l++){var p=this.T.ka[l];if(p=="---")continue;var f=this.T.keys[l];for(var a=0;
a<p.length;a++){this.T.map[p[a].k.id]=p[a];p[a].k5=l;p[a].a8g=a;var D=eV.get(p[a].k.name);t+="<li>"+p[a].k.id+": "+D+"</li>";
Y+="\t"+JSON.stringify(p[a].k.name)+", "+(f?"\""+f.bT+"\"":"null")+", "+p[a].k.id+", // "+D+"\n"}this.T.K4[l]=0}for(var l=0;
l<this.T.ux.length;l++)this.T.map[this.T.ux[l].k.id]=this.T.ux[l];for(var l=0;l<this.T.OI.length;l++)this.T.map[this.T.OI[l].k.id]=this.T.OI[l];
this.Py={acf:!1,ru:null,Vb:0,Vj:{wf:[],nv:[],list:[],io:null},b$:[],avU:[],Ys:[],rj:[],dj:[],aap:[],a9Z:[],abJ:[],cz:[c1.yS()],DE:[],Va:[],uR:null,XS:0,Ww:{Hf:1,SR:JSON.parse(JSON.stringify(jG.WX[0]))},VV:JSON.parse(JSON.stringify(jG.iJ.default)),awd:[null].concat(jG.WX),aeZ:[null].concat(jG.WX),dw:new gp(function(Q){var M=new hU(k.E.Y,!0);
M.data={d:k.s.k3,LS:{url:"rsrc/fonts/"+Q}};this.c(M)}.bind(this)),Rl:{H4:[],GN:null,M7:null},font:null,h5:[],Hd:16711680,on:0,xA:!1,R1:!0,Hl:{K0:!0,fl:!1,X5:!0,qI:!0,Yo:!0,DF:!0,ws:20,y7:0,Jg:0,_c:0},yE:!0,uX:[!0,!0,!1,!0,!0],ez:[0,1,2,3,5,6,7,9,10,16,17,100],zR:1,QU:!0,mq:{},HS:!0,axj:!1,compact:!1,Tj:1,vu:!0,Te:null,ZX:{a45:!1,at8:!1,E3:{},R3:null},afz:0,a6B:null,ji:null,acr:null,_0:null};
this.avm={Ge:new hq,OX:new cR};this.Py.Rl=en.ap6();this.h0=new dh;this.n1=new hu;this.R_=new eY(this.T,!0);
this._e=new es;this.qy=new a5(this);this._$=W.z("div");this.XR=!1;this.J_=this.aax.bind(this);W.Bc(this.qy.e,"mainblock");
this.Qo.parent=this.h0.parent=this.n1.parent=this.R_.parent=this._e.parent=this.qy.parent=this;this.qy.W(k.E.o,this.eY,this);
this.qy.W(k.E.Gz,this.adC,this);this.qy.W("shuffleItems",this.afq,this);this.qy.W(k.E.at_,this.a8_,this);
this.W("mouse",this.a9P,this);this.W(k.E.r,this.OG,this);this.W(k.E.gu,this.a6C,this);document.body.addEventListener("keydown",this.Ne.bind(this),!1);
window.addEventListener("keyup",this.AD.bind(this),!1);window.addEventListener("paste",this.a0Q.bind(this),!1);
window.addEventListener("copy",this.apX.bind(this),!1);window.addEventListener("wheel",function(Q){if(Q.ctrlKey)Q.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(Q){if(window.innerWidth>400)Q.preventDefault();
this.Py.Te=Q}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(Q){if(Q.akP){console.log("Service worker installing")}else if(Q.a4N){console.log("Service worker installed")}else if(Q.active){console.log("Service worker active")}}).catch(function(Q){console.log("Registration failed with "+Q)})}this.jb=0;
this.Rr=[];this.fN=new fP(k6.D5);this.fN.parent=this;var c=this.JV,J=this.Nk=W.z("div");J.appendChild(this.h0.e);
J.appendChild(this.n1.e);this.Qo.a4H(J);var Z=this.aed=W.z("div","flexrow");c.appendChild(Z);Z.appendChild(this.R_.e);
Z.appendChild(this.qy.e);Z.appendChild(this._e.e);this.fN.zX({url:"rsrc/basic/basic.zip"});this.Xs(K.tM);
eH.gx(this.a6g.bind(this))}dA.prototype=new iG(!0);dA.prototype.Df=function(s){var N=new hU(k.E.Y);N.data={d:k.s.ZP,LS:s?s:"done"};
this.c(N)};dA.prototype.a6g=function(){W.JI[cf.Q8](this.aqF.bind(this),Math.pow(Math.PI,8)+W.JI[cf.aj3][cf.afF]()*1e4);
var s=eH.Eh();if(s!=null&&s.globals!=null)this.Vh(s.globals);else{this.akJ=!0;var N=navigator.languages;
if(N&&N.length!=0){var r=N[0];eV.ps(r,this.J_)}}if(!this.VF()){var S=W.akt();if(S==0)this.axj=!0;if(S==2)this.Py.HS=!1;
if(S!=1&&Math.random()<.002)W.arW()}if(!fS.d1()||!this.Py.HS){this.a4w();this.uB()}else{var z=W.lC(W.JI[cf.a1]);
z[cf.n3](cf.ho,this.and.bind(this));z[cf.jk](W._q("61="),W._q("_MYOqDLGJa;A:6"));z[cf.VH]()}this.X3=!0;
this.Df()};dA.prototype.and=function(s){var N=JSON.parse(s.target[cf.g7]),r=W.JI[cf.Cd][cf.aks]()/1e3,S=W.JI[cf.PM][cf.cm],z=!1;
for(var A in N)if(A.indexOf(".")!=-1&&S.indexOf(A)!=-1&&parseInt(N[A])>r)z=!0;if(z)this.Py.HS=!1;this.a4w();
this.uB()};dA.prototype.uB=function(s){this.uJ=!0;if(!this.Py.vu)this.qy.vu=null;else this.qy.alH();
this.NK(eq.pM);this.N();this.hz();this._e.sV(this.hr(),this.Rr,this.Py)};dA.prototype.Vh=function(s){var N=this.Py;
if(s.fcolor!=null)N.Hd=s.fcolor;if(s.bcolor!=null)N.on=s.bcolor;if(s.rulers!=null)N.xA=s.rulers;if(s.extras!=null)N.R1=s.extras;
if(s.favFam!=null)N.h5=s.favFam;if(s.font!=null)N.Rl.H4[0].Name=s.font;if(s.panels!=null)N.ez=s.panels;
if(s.as!=null)N.Tj=s.as;if(s.eparams){var r=s.eparams,S=N.Hl;if(r.guides!=null)S.K0=r.guides;if(r.grid!=null)S.fl=r.grid;
if(r.gsize!=null)S.ws=r.gsize;if(r.gunits!=null)S.y7=r.gunits;if(r.gtype!=null)S.Jg=r.gtype;if(r.runits!=null)S._c=r.runits;
if(r.sels!=null)S.X5=r.sels;if(r.paths!=null)S.qI=r.paths;if(r.pgrid!=null)S.Yo=r.pgrid;if(r.slices!=null)S.DF=r.slices}if(s.lang!=null)eV.ps(s.lang,this.J_);
if(s.theme!=null)N.zR=s.theme;if(s.topt||N.KI){var z=s.topt?s.topt:{},A=N.KI?N.KI:{};for(var B in this.T.map){if(B>=100)continue;
var Y="t"+B;if(z[Y]||A[Y])this.T.map[B].k.Qy(z[Y],A[Y],this)}}};dA.prototype.a4w=function(){if(this.Py.acf)return;
this.Py.acf=!0;var s=null,N=window.location.href,r=N.indexOf("="),S=N.indexOf("#");if(r!=-1)s=N.substring(N.indexOf("?")+1,r);
if(S!=-1&&S!=N.length-1){s="p";r=S}if(S!=-1&&N[S+1]=="i"){this.fN.hZ(N.slice(S+2))}else if(S!=-1&&N[S+1]=="t"){this.fN.hZ(N.slice(S+2).split("").reverse().join(""),!0)}else if(s=="p"||s=="state"){var z=N.substring(r+1,N.length);
z=JSON.parse(decodeURI(z));if(s=="p"){if(z.script)aM.apm();if(z.server)this.pF=z.server;if(z.resources)for(var l=0;
l<z.resources.length;l++)this.fN.zX({url:z.resources[l]});if(z.files)for(var l=0;l<z.files.length;l++)this.fN.zX({url:z.files[l],V8:{he:z.server,a4T:z.script}});
var A=z.environment;if(A==null)A={};if(A.plugins!=null)this._e.aqQ(A.plugins);if(A.localsave!=null)this.Py.QU=A.localsave;
if(A.customIO!=null)this.Py.mq=A.customIO;if(A.vmode!=null){var B=A.vmode;if(B==1)this.Py.compact=!0;
if(B==2)this.O_(1)}if(A.intro!=null)this.Py.vu=A.intro;if(A.menus!=null)this.Py.a1J=A.menus;if(A.tmnu!=null)this.Py.KI=A.tmnu;
if(A.panels!=null)this.Py.ez=A.panels;if(A.showtools!=null){var Y=A.showtools,t=Y.indexOf(this.Py.ru);
this.Py.r1=Y;if(t==-1)this.Xs(Y[0])}if(A.phrases!=null)eV.a30(A.phrases);if(A.autosave!=null){this.Py.Tj=0;
window.setInterval(function(){var a=new hU(k.E.Y);a.data={d:k.s.Hh};this.c(a)}.bind(this),A.autosave*1e3)}if(A.icons!=null){for(var p in A.icons)if(A.icons[p].indexOf("\"")==-1){PIMG[p]=A.icons[p];
PIMG["__"+p]=!0}}this.Vh(A);if(z.files==null&&z.script){i$.T9(z.script,this);this.Df()}}else if(s=="state"){var f=this.fN;
if(z.action=="create"){var a=new hU(k.E.Y);a.data={d:k.s.Pv,ic:"newproject",are:z.folderId};this.c(a)}if(z.action=="open"){for(var l=0;
l<z.ids.length;l++)jN.Xf(function(){var c="https://www.googleapis.com/drive/v3/files/"+this.a1o,J=new XMLHttpRequest;
J.open("GET",c);J.setRequestHeader("Authorization",jN.q7());J.send();J.onload=function(Z){var Q=JSON.parse(Z.target.response);
f.zX({url:c+"?alt=media",name:Q.name,jA:{file:Q,mw:""},ey:{Authorization:jN.q7()}})}}.bind({a1o:z.ids[l]}));
alert("Loading files from Google Drive ...")}}}else{var D=window.launchQueue;if(D){var f=this.fN;D.setConsumer(function(c){var J=c.files;
console.log(J);for(var l=0;l<J.length;l++){var Z=J[l];Z.getFile().then(function(Q){f.D2([Q],null,null,null,[Z])})}})}}};
dA.prototype.N=function(){var s=document.getElementById("cap"),N=window.innerWidth<500;if(s){var r=s.getElementsByTagName("h1")[0],A=0,Y=0,t=0;
r.textContent=N?"Photopea":eV.get([0,17,0]);var S=s.getElementsByTagName("p"),z=W.Bm(eV.get([0,17,1])),B=["PSD","XCF","Sketch","XD","CDR"];
for(var l=0;l<B.length;l++)z=z.replace(B[l],"<b>"+B[l]+"</b>");if(!N)z+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
S[0].innerHTML=z;z=eV.get([0,17,2])+" "+eV.get([0,17,3]);for(var l=0;l<z.length;l++){var p=z[l];if(p=="<")Y++;
if(p==">")t++}if(!N&&Y*t==9){var f=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var l=0;l<3;l++){var a=z.indexOf("<",A),D=z.indexOf(">",A),c=z.slice(0,a)+"<a href=\""+f[l]+"\" target=\"_blank\">"+z.slice(a+1,D)+"</a>";
A=c.length;z=c+z.slice(D+1)}S[1].innerHTML=z}else S[1].innerHTML=eV.get([0,17,2])}var J=document.getElementById("sponsors");
if(J)J.textContent=eV.get([0,17,4]);this.Qo.N();this.h0.N();this._e.N();this.R_.N();this.aE.N();this.qy.N();
for(var Z in this.T.map)if(this.T.map[Z].EI)this.T.map[Z].EI.N()};dA.prototype.VF=function(){return W.JI[cf.EO][cf.D6].indexOf("")!=-1};
dA.prototype.uw=function(s,N){s=Math.floor(s);N=Math.floor(N);var r=W._q("WUMK&AM"),S=cf.ac,z=W.JI[cf.PM],A=Math.max(s,window.screen.width),B=Math.max(N,window.screen.height),f=0;
if(this.um==null)this.um=Math.min(A,B)<500||A<750?0:A<1600?1:2;var Y=this.um,t=!this.uJ||this.VF()||!this.Py.HS||eH.GX()||Y==0;
if(!t&&fS.d1()){if(this.asr==null)this.asr=Math.random()<.5;t=this.asr}if(t){if(Y!=0&&W.JI[r]&&this.uJ)W.JI[r]()}else{if(Y==0)N-=60;
else s-=Y==1?180:320}iG.prototype.uw.call(this,s,N);if(t&&this.XR){this.e[cf.RQ](this._$);W.o3(this._$);
this.XR=!1}if(!t&&!this.XR){var p=function(c){if(Math.random()<.002){eH.event(fS.eh()?"gota_0":"gota_1")}this.alO(s,N);
var J=Y==0?z[cf.mP]:this.e;J.appendChild(this._$);this._$[cf.Pj](S,W._q("_MMJLNDfKCAg")+(Y==0?10:10)+W._q("_d$ebOS?I:==Ba-+# }$M"));
this._$[S][W._q("_MMJLND&<:E")]=(Y==0?0:19)+W._q("_d");this._$[S][W._q("i5WJHX")]=Y==0?0:1}.bind(this);
fS.aaD(p);this.XR=!0}if(W.zS(this.h0.e))f+=31;if(W.zS(this.n1.e))f+=32;this.Qo.aum=this.Py.HS&&this.uJ;
this.Qo.uw(s,f);var a=N-f,D=W._q("_d");this._$[S][cf.a9I]=(Y==0?100>>>1:N-11)+D;this._$[S][cf.G$]=(Y==0?s:6*Math.pow(10,2))+D;
this.R_.uw(s,a);this._e.uw(s,a);this.qy.uw(s-this.R_.d3()-this._e.d3(),a)};dA.prototype.alO=function(s,N){var r=function(){var S=new hU(k.E.Y);
S.data={d:k.s.Pv,ic:"account"};this.c(S)}.bind(this);fS.adi(s,N,this._$,r,this.um)};dA.prototype.apX=function(s){console.log("systemCopy")};
dA.prototype.a0Q=function(s){if(W.Bk())return;console.log("systemPaste");if(!s.clipboardData)return;
var N=s.target.tagName.toLowerCase(),r=s.clipboardData.items;if(r==null)return;var S=this.al2.bind(this);
for(var l=0;l<r.length;l++){var z=r[l],A=z.getAsFile();if(z.type.indexOf("text")!=-1){z.getAsString(this.afU.bind(this))}if(z.type.indexOf("image")!=-1){if(A.size==this.Py.afz)return;
this.Py.afz=A.size;if(A){A.name="image.png";this.fN.D2([A],S)}}}};dA.prototype.afU=function(s){if(s.startsWith("http")){if(s==this.Py.axc)return;
this.Py.axc=s;var N=new hU(k.E.Y,!0);N.data={d:k.s.k3,LS:{url:s,PD:!0}};this.c(N)}};dA.prototype.al2=function(s,N){var r={buffer:s,rect:N},S=this.Py;
if(W.Bk()){var z=this.avm,A=z.Ge;if(A.G==N.G&&A.n==N.n){r.rect=A;r.OX=z.OX}}else{if(S.ji){var B=new hU(k.E.r,!0);
B.k=K.pI;B.data={d:"h_stepbck"};this.c(B)}}S.ji=r;var B=new hU(k.E.Y,!0);B.data={d:k.s.MF,abl:!0};this.c(B)};
dA.prototype.aw1=function(){if(this.aE.Yk()!=null)alert(eV.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
dA.prototype.OG=function(s){var N=this.hr();if(N==null){alert(eV.get([15,7,7]));return}var r=s.k==K.g1||s.k==K.b_;
if(this.aE.YJ()&&s.rC!=!0&&!r){this.aw1();return}var S=this.T,z=this.Py.ru,A=s.k;if(A==K.wQ&&z==K.f9)A=K.f9;
if(z!=A&&S.map[z].k.YJ()&&!r&&!(z==K.sC&&A==K.AB)){console.log("disabling",z);S.map[z].k.disable(N,this,this.Py,this.nd)}var B=this.T.map[A].k;
B.OG(s.data,this,N,this.nd,this.Py)};dA.prototype.a6C=function(s){var N=this.Py;if(s.data.Mv!=!0)dv.ana({uU:s.data.uU,wz:s.data.wz},this,N,this.hr());
var r=N.uR,S=N.Va;if(r==null)return;var z={aiR:!1,B$:"Step",axg:0,K:!0,exp:!1,uU:s.data.uU};if(r[2]==null)r[2]=S[r[0]].bh[r[1]].bh.length-1;
if(s.data.wz)z.wz=s.data.wz;S[r[0]].bh[r[1]].bh.splice(r[2]+1,0,z);r[2]++;this.NK(eq.r)};dA.prototype.aO=function(s){if(this.axj){s.data=0;
return s.type}iG.prototype.aO.call(this,s);var N=s.data.d;if(N==k.s.mj)dv.anW(this.hr(),this.Py.Va,s.data.PH[0],s.data.PH[1],this);
if(N==k.s.a8t){this.awt(s.data.a2H)}if(N==k.s.amE){this.N();this.hz()}if(N==k.s.IP)this.hz();if(N==k.s.acm)if(this.Py.Te){this.Py.Te.prompt();
this.Py.Te=null}if(N==k.s.Qb)this.qy.lL(s.data.BQ,s.data.push);if(N==k.s.ao4)this.qy.alm();if(N==k.s.agK)this.eY(null,s.data.dir);
if(N==k.s.h_)this.qy.wv(this.Rr.indexOf(s.data.rd));if(N==k.s.wB){if(s.data.pL&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(s.data.h!=null)this.O_(s.data.h)}if(N==k.s.a3t){if(s.data.Rd)this.nd.Xg(s.data.avP);
else this.nd.QK(s.data.avP);this.Rt(s.data.Rd?"down":"up")}if(N==k.s.Kd){var r=this.hr(),S=r.r9().slice(0),z=r.p[r.f[0]],A=new hq(0,0,r.G,r.n),B=a2.hX()+"-d71c-11e5-b1ae-a548a96e5f9f",Y=new hU(k.E.Y,!0);
if(s.data.LS==0){var t={name:r.name.split(".")[0],id:B,yK:[S,A]};Y.data={d:k.s.Jl,V8:"add",LS:eq.gg,lz:[t]};
this.c(Y)}if(s.data.LS==1){var p=q.m(A.$()*4);q.TM(p,4294967295);q.Q.VP("norm",S,A,p,A,A,1);var f=q.m(A.$());
q.I_(p,f);q.dm(f);var a=q.af(f,A);if(a.Nf())a=A;var D=q.m(a.$());q.lf(f,A,D,a);var c=q.m(a.$()*4);q.XX(D,c,3);
var J={Ge:a,id:B,yK:[c,a]},Z=fD.oE(B),Q=Z.Brsh.v;Q.Dmtr.v.val=a.G;Q.Spcn.v.val=10;Y.data={d:k.s.Jl,V8:"add",LS:eq.rX,lz:{list:[{t:"Objc",v:Z}],nv:[J],wf:[]}};
this.c(Y);Y.data={d:k.s.Jl,LS:eq.Uv,TK:Z};this.c(Y)}if(s.data.LS==2){var M=r.Ly(),u=M[0][M[1][0]],P={U1:z.getName(),Dy:B,_:u.add.vmsk.clone()._},m=q.J.Ql(P._),i=new gF(m.G,0,0,m.n,m.x,m.y);
i.dm();q.J.Yy(P._,i);m.x=m.y=0;P.CS=m.clone();Y.data={d:k.s.Jl,V8:"add",LS:eq.ne,lz:[P]};this.c(Y)}}if(N==k.s.k3)this.fN.zX(s.data.LS);
if(N==k.s.LO){var e=s.data.auM;if(e!=!0&&this.wS("open"))return;this.fN.aoK(e?this.qy.yo():null,s.data.aac)}if(N==k.s.qO){var X=s.data.aex,$=s.data.IK,O=this.f2(X);
if($){var b=X==eq.rX,R=[];for(var l=0;l<$.length;l++)R.push((b?O.list:O)[$[l]]);O=b?{wf:O.wf,nv:O.nv,list:R}:R}if(X==eq.ta){var A=new a2;
for(var l=0;l<O.length;l++){var w=O[l].KM.Lefx;if(w)hC.aiy(w,A,this.Py.dj)}O={u$:A.add.Patt?A.add.Patt:[],yc:O}}if(X==eq.Ft){var F=this.Py.Vj;
O={nv:[],wf:[],list:O};console.log(O)}if(X==eq.r)O=O[s.data.VY];var L=eq.Go[X],S=L[2].vM(O);fP.save(S,L[1]+"."+L[0])}if(N==k.s.Gf){var x=this.Py.ZX,g=s.data.agT;
if(x.R3&&!x.a45&&!g){x.at8=window.confirm("Load \""+s.data.aM+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
x.a45=!0}if((x.at8||g)&&x.R3){x.E3[s.data.aM]=s.data.bm;var Y=new hU(k.E.Y);Y.data={d:k.s.Jl,LS:eq.mo};
this.c(Y)}}if(N==k.s.avJ){var r=this.hr(),_="<!DOCTYPE HTML>";if(r==null)return;var n=hg.oX(r.r9().buffer,r.G,r.n),h=window.open();
_+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";_+="<body><img src=\""+n+"\" /></body>";
_+="</html>";h.document.write(_)}if(N==k.s.f5){if(this.wS("publishOnline"))return;var H=s.data.v_!="psd",r=this.hr();
if(r==null)return;if(!H&&r.jI)return;var G="Your picture will be published at "+(H?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!H)G+=" We guarantee 6 months of storage (or more, if your file is opened often).";var j=s.data.K_?!0:confirm(G);
if(j){if(!H){var Y=new hU(k.E.r,!0);Y.k=K.g$;Y.data={d:y.uT};this.c(Y);var v=new hq(0,0,r.G,r.n);for(var l=0;
l<r.p.length;l++){var z=r.p[l];if(z.rect.Nf()||z.Ob()||z.eg()||z.re()||z.wu()||z.add.TySh||z.add.vmsk||z.add.SoLd)continue;
var C=v.PS(z.rect);if(!C.nR(z.rect)&&!C.Nf()){var E=q.m(C.$()*4);q.LP(z.buffer,z.rect,E,C);z.buffer=E;
z.rect=C}if(!q.Yz(z.buffer,z.rect.G,z.rect.n))continue;var I=z.ES(),dJ=z.opacity,fG=z.M9,o=z.hE;z.pQ(!0);
z.opacity=255;z.M9="norm";r.f=[l];Y.data={d:y.l1,v_:"jpg"};this.c(Y);var i4=r.p[l];z.pQ(I);i4.pQ(I);
z.opacity=i4.opacity=dJ;z.M9=i4.M9=fG,z.hE=i4.hE=o}}if(r.jd){r.im()}var df=r.G,eO=r.n,cO=s.data.abc,ej;
if(cO)while(Math.max(df,eO)>cO){df=df>>>1;eO=eO>>>1}console.log(df,eO);if(s.data.v_=="psd")ej=hg.Lf(r,"psd",0,0,[!0,!0,!0]);
else if(s.data.v_=="png")ej=hg.Lf(r,"png",df,eO);else{var cn=hg.Lf(r,"png",df,eO),j5=hg.Lf(r,"jpg",df,eO);
ej=cn.byteLength<j5.byteLength?cn:j5}if(H)fP.amo(ej,s.data.K_);else this.fN.aw0(ej,r.name,s.data.K_)}}if(N==k.s.Hh){var r=this.hr(),gP=!1;
if(r==null)return;if(r.jd){r.im()}if(s.data._W){if(!this.Ws(r,s.data._W))return;var S=k6.a36(r,s.data._W,this.Py);
this.Df(S);gP=!0}else if(r.y4){if(this.Rr.indexOf(r.y4.oi)!=-1){var S=new Uint8Array(hg.Pp("PSD").Bj(r,null,null,[!0,!1])),Y=new hU(k.E.r,!0);
Y.data={d:y.Ce,jO:r.y4.oi,data:S,id:r.y4.a6K,Ff:r.name};Y.k=K.g$;this.c(Y);alert("Smart Object updated")}gP=!0}else if(this.wS("save")){gP=!0}else if(r.jA){k6.a6f(r);
gP=!0}else if(r.vW){k6.anT(r);gP=!0}else if(r.V8&&r.V8.he){if(!this.Ws(r,r.V8.he.formats))return;this.fN.a4f(r,this.Py,k6.ac4);
gP=!0}else if(r.$q&&r.wK=="psd"){this.apg();return}if(gP){r.YN=r.Jn;r.Z8=Date.now();r.kk=!0}else{var Y=new hU(k.E.Y,!0);
Y.data={d:k.s.uM};this.c(Y)}}if(N==k.s.uM){if(!this.Py.QU){alert("function is disabled");return}if(this.wS("saveAsPSD"))return;
var r=this.hr();if(r==null||r.jI)return;if(!this.Ws(r))return;var Y=new hU(k.E.r,!0);Y.data={d:y.uT};
Y.k=K.g$;this.c(Y);if(r.p.length>8e3&&!confirm("Your document has "+r.p.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var bY={kc:[]};r.root.a4I([],bY);var gR=bY.kc;if(gR.length>11&&!confirm("One layer is nested "+(gR.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+gR.join(" \uD83E\uDC1A ")+"."))return;
var c3=window.showSaveFilePicker;if(window.parent!=window)c3=null;if(c3&&!s.data.a9$){var jj={suggestedName:r.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
c3(jj).then(function(s){r.$q=s;r.name=s.name;r._R=!0;r.wK="psd";this.apg()}.bind(this));return}var jC=window.ga,kf=W.VS("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(r.f6()&&jC)jC(kf[0],kf[1],kf[2],r.wK+":"+W.VS(eH.GX()?"\"'|('61":"w'| "));if(r.jd){r.im()}var S=hg.Pp("PSD").Bj(r);
if(s.data.a9$){this.avb(S,r,this)}else{fP.save(S,r.name);r.YN=r.Jn;r.Z8=Date.now();r.kk=!0}}if(N==k.s.TL)window.open(s.data.link,"_blank");
if(N==k.s.a0r){if(this.aE.YJ()){this.aw1();return}var r=this.hr(),z=r.p[r.f[0]],bz=r.mu(z.add.SoLd.Idnt.v);
for(var l=0;l<this.Rr.length;l++){var iv=this.Rr[l].y4;if(iv!=null&&iv.a6K==bz.eq&&iv.oi==r){this.qy.v7(l);
return}}fP.D5({name:bz.Ff,y4:{a6K:z.add.SoLd.Idnt.v,oi:r}},bz.raw.buffer,this)}if(N==k.s.agU){console.log(s.data);
fP.D5({name:s.data.vW[1].split("/").pop(),vW:s.data.vW},s.data.GT,this)}if(N==k.s.aeb){var r=this.hr();
r.vW=s.data.vW;r.name=r.vW[1].split("/").pop();var Y=new hU(k.E.Y);Y.data={d:k.s.Hh};this.c(Y)}if(N==k.s.gU){this.a4y()}if(N==k.s.Sy){this.an7(s.data.v3,s.data.GR,s.data.Il)}if(N==k.s.MF){this.acU(s.data.abl,s.data.vs,s.data.Il)}if(N==k.s.ahQ){var bI=s.data.h;
if(bI.startsWith("vcb;")){var jo=JSON.parse(bI.slice(4));jo[0]=c1.a7X(jo[0]);var Y=new hU(k.E.r,!0);
Y.k=K.pG;Y.data={d:"append",Ru:"Paste Paths",aut:jo};this.c(Y)}else if(bI.startsWith("lrs;")){var iZ=bI.split(";"),jD=this.Rr[parseInt(iZ[1])];
if(jD==null)return;var dM=this.hr(),ka=jD.f;jD.f=JSON.parse(iZ[2]);var ds=jD.st(null,jD!=dM),Y=new hU(k.E.r,!0);
Y.data={d:y.wO,p:ds,oi:jD,wX:dM};Y.k=K.g$;this.c(Y);jD.f=ka}else if(bI.startsWith("<!--")||bI.startsWith("<svg")){var ee=U.et(bI),a9=hg.Pp("svg"),A=new a2("image.psd");
a9.LG(ee.buffer,A);if(this.Rr.length!=0){var ir=A.p;if(ir.length==3&&ir[0].getName()=="</Layer group>"&&ir[2].Ob())ir=[ir[1]];
var Y=new hU(k.E.r,!0);Y.k=K.g$;Y.data={d:y.wO,p:ir,oi:A,wX:this.hr()};this.c(Y)}else this.asL(A)}}if(N==k.s.nF){i$.T9(s.data.j_,this)}if(N==k.s.ZP){if(window.parent!=window)window.parent.postMessage(s.data.LS,"*");
this._e.vE(s.data.LS)}if(N==k.s.fk){var eP=parseFloat(s.data.ic);if(this.Py.ez.indexOf(eP)==-1){var Y=new hU(k.E.Y,!0);
Y.data={d:k.s.Jl,LS:eq.J5,h:eP,V8:"add"};this.c(Y)}this._e.aij(s.data.ic)}if(N==k.s.Rw){this.Lx.aqI(this.hr(),this.Py)}if(N==k.s.Pv){var jh="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var l=0;l<jh.length;l+=2)if(s.data.ic==jh[l]&&this.wS(jh[l+1]))return;if(!this.Py.QU&&s.data.window=="saveforweb"){alert("function is disabled");
return}this.aE.ae$(s.data.ic,this.hr(),s.data,this.Rr,this.nd)}if(N==k.s.dJ)fP.save(s.data.data,s.data.name);
if(N==k.s.Ap){if(!this.aE.YJ()||s.rC)this.asL(s.data.jO)}if(N==k.s.Rk){this.qy.v7(s.data.target);var Y=new hU(k.E.r,!0);
Y.data={d:y.au3,jO:s.data.jO,cW:s.data.cW,OK:s.data.OK};Y.k=K.g$;this.c(Y);this.Xs(K.ZB)}if(N==k.s.a0V){d.Bi=!d.Bi;
if(this.Rr.length>0)this.hr().V()}if(N==k.s.ath){var fy=eH.Eh();if(fy!=null&&fy.globals!=null)this.Vh(fy.globals);
this.uB()}if(N==k.s.ds){this.fN.D2(s.data.data,null,s.data.Ef,s.data.Ov,s.data.anc)}if(N==k.s.HQ){if(!this.aE.Yk()!=null)this.Xs(s.data.k,s.data.oT);
if(s.data.apP)this.di().Vk(this.hr(),this,this.Py,this.nd,this.sy)}if(N==k.s.vT){if(this.T.nj)this.Xs(this.T.nj)}if(N==k.s.TN){var eS=this.T.map[s.data.k].k,r=this.hr();
eS.e_(s.data,this,r,this.nd,this.Py);if(r)r.J4=!0;this.a3H()}if(N==k.s.Em){var gz=this.T.map[s.data.k];
this.ack(gz);gz.EI.qp(s.data)}if(N==k.s.Jl){var r=this.hr(),fi=s.data.LS,fw=s.data.lz,ce=this.Py;if(s.data.V8=="set"){var hl=K.sd(fw);
if(ce.ru!=hl)this.Xs(hl);this.T.map[hl].EI.a1c(fw,ce)}if(s.data.V8=="add"){var L=eq.Go[fi];if(fi==eq.J5){ce.ez.push(s.data.h);
ce.ez.sort(function(f9,bp){return f9-bp})}else if(L==null){if(fw)ce.dw.au0(fw,s.data.aiU)}else{var ia=this.f2(fi);
if(fi==eq.rX){ia.nv=ia.nv.concat(fw.nv);ia.wf=ia.wf.concat(fw.wf);ia=ia.list;fw=fw.list}if(fi==eq.ta&&r){for(var l=0;
l<fw.length;l++){var w=fw[l].KM.Lefx;if(w)hC.agk(w,r,ce.dj)}}if(fi==eq.Ft&&fw==null){var A=this.T.map[ce.ru].EI.a1p();
if(A==null)return;fw=[A]}for(var l=0;l<fw.length;l++)ia.push(fw[l]);if(s.data.aiU!=!0)if(ia.length!=fw.length||fi==eq.Pt||fi==eq.ta||fi==eq.r)alert(eV.get(L[3])+" "+eV.get([23,1])+".")}}if(s.data.V8=="del"){if(fi==eq.J5){ce.ez.splice(ce.ez.indexOf(s.data.h),1)}else{var L=eq.Go[fi],$=s.data.IK,ia=this.f2(fi);
if(fi==eq.rX)ia=ia.list;for(var l=0;l<$.length;l++)ia[$[l]]=null;for(var l=0;l<ia.length;l++)if(ia[l]==null){ia.splice(l,1);
l--}alert(eV.get(L[3])+" deleted.")}}if(s.data.V8=="rnm"){var L=eq.Go[fi],ia=this.f2(fi);if(fi==eq.rX)ia=ia.list;
if(ia[s.data.IK[0]]==null)return;L[2].qk(ia[s.data.IK[0]],s.data.h)}if(fi==eq.RG){var iQ=s.data.h;ce.Ww=iQ;
ce.awd[iQ.Hf]=iQ.SR}if(fi==eq.n8){var iQ=s.data.h;ce.VV=JSON.parse(JSON.stringify(iQ));var em=iQ.strokeEnabled.v,k4=iQ.strokeStyleContent.v,ar=em?{Hf:1+jG.iJ.Mn.indexOf(k4.classID),SR:k4}:{Hf:0};
ce.aeZ[ar.Hf]=ar.SR}if(fi==eq.Yp){ce.XS=s.data.h}if(fi==eq.j4){ce.Rl=s.data.Rl}if(fi==eq.Uv){var E=JSON.parse(JSON.stringify(s.data.TK)),fg=E.useBrushSize;
if(fg&&fg.v){E.Brsh.v.Dmtr.v.val=ce.Vj.io.Brsh.v.Dmtr.v.val;fg.v=!1}ce.Vj.io=E}if(fi==eq.zY){ce.h5=s.data.zr}if(fi==eq.rg){var j0,bU="Clrs";
if(s.data.Xy<2){var dn=s.data.h,aJ=s.data.Xy==0,ew=q.i.Sm({w:dn>>>16,A:dn>>>8&255,U:dn&255});if(aJ)ce.Hd=dn;
else ce.on=dn;bU=aJ?"FrgC":"BckC";j0={uU:"set",wz:{__name:"Set",classID:"setd",T:{t:"Objc",v:ew}}}}if(s.data.Xy==2){var jy=ce.Hd;
ce.Hd=ce.on;ce.on=jy;j0={uU:"exchange",wz:{__name:"Exchange",classID:"Exch"}}}if(s.data.Xy==3){ce.Hd=0;
ce.on=16777215;if(r!=null&&r.f.length!=0&&r.p[r.f[0]].GC==1){var jy=ce.Hd;ce.Hd=ce.on;ce.on=jy}j0={uU:"reset",wz:{__name:"Reset",classID:"Rset"}}}if(j0){j0.wz.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bU}}]};
var gz=this.di();gz.$0=this;gz.track(j0)}}if(fi==eq.tO){ce.xA=!ce.xA;this.hz()}if(fi==eq.HI){ce.R1=!ce.R1;
this.hz()}var eT=ce.Hl;if(fi==eq.h2){eT.X5=!eT.X5;this.hz()}if(fi==eq.dI){eT.qI=!eT.qI;this.hz()}if(fi==eq.Ok){eT.K0=!eT.K0;
this.hz()}if(fi==eq.w7){eT.fl=!eT.fl;this.hz()}if(fi==eq.xl){eT.Yo=!eT.Yo;this.hz()}if(fi==eq.el){eT.DF=!eT.DF;
this.hz()}if(fi==eq.$H){ce.Hl=s.data.zr;this.hz()}if(fi==eq.a91){ce.yE=!ce.yE;this.hz()}if(fi==eq.Er){ce.uX[s.data.mx]=!ce.uX[s.data.mx];
this.hz()}if(fi==eq.Y_){eV.yt(s.data.lang,this.J_)}if(fi==eq.wb){ce.zR=s.data.zR;this.N()}if(fi==eq.mo&&ce.ZX.R3){var du=ce.ZX.R3.transaction(["rsrc"],"readwrite").objectStore("rsrc"),c_=du.put({k:"fs0",fset:ce.ZX.E3});
c_.onerror=function(s){console.log(s);alert("Storing failed. Browser says: "+s.target.error.message,7e3)}}this.NK(fi)}};
dA.prototype.apg=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.hN,dD:"Saving ..."};this.c(s);setTimeout(function(){var s=new hU(k.E.Y,!0);
s.data={d:k.s.uM,a9$:!0};this.c(s)}.bind(this),20)};dA.prototype.avb=function(s,N){N.$q.createWritable().then(function(r){r.write(s);
return r}).then(function(r){return r.close()}).then(function(r){N.YN=N.Jn;N.Z8=Date.now();N.kk=!0;var S=new hU(k.E.Y,!0);
S.data={d:k.s.lG,dD:"Saving ..."};this.c(S)}.bind(this))};dA.prototype.aax=function(){this.N();this.hz()};
dA.prototype.wS=function(s){var N=this.Py.mq[s];if(N){var r=new hU(k.E.Y,!0);r.data={d:k.s.nF,j_:N};
this.c(r)}return N!=null};dA.prototype.Ws=function(s,N){var r=!0,B=15;if(N){r=!1;for(var l=0;l<N.length;
l++)if(N[l].startsWith(W._q("__M")))r=!0}var S=s.f6()||s.y4&&s.y4.oi.f6();if(this.VF())S=!1;var z=new W.JI[cf.Cd],A=(z[W.VS("xy,b-66:")]()&1)*60+z[W._q("VQ]3LNRN<G")]();
if(S&&!eH.GX()&&A>B&&r){var Y=W.JI[W.VS("}$z{2*35")][W.VS("y'|!")],t=W._q("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
t+="\n\n"+W._q("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-A+120)+W._q("nYRTXTBMd");
if(Y.indexOf(W.VS("\"|'/-1)(W0?@"))==-1)t=eV.get([0,11+6,3+2]);W.JI._cwY(t);return!1}return!0};dA.prototype.f2=function(s){var N=this.Py,r=[eq.rX,eq.If,eq.N7,eq.gg,eq.ne,eq.ta,eq.Pt,eq.r,eq.Ft,eq.P3],S=[N.Vj,N.Ys,N.rj,N.dj,N.cz,N.DE,N.aap,N.Va,N.b$,N.avU];
return S[r.indexOf(s)]};dA.prototype.a4y=function(){var s=this.an7(),N=this.hr();if(N==null||N.f.length==0)return;
var r=N.p[N.f[0]],S=new hU(k.E.r);if(s==1){S.k=K.pG;S.data={d:"remove",Ru:"Cut Paths"}}else{S=new hU(k.E.gu);
S.data={uU:"delete"}}this.c(S)};dA.prototype.an7=function(s,N,r){if(s==null)s=!1;var S=this.Py;console.log("doCopy",s,N);
var z=this.hr();if(z==null||z.f.length==0)return;var A=z.p[N==null?z.f[0]:N],B=z.Ly(),Y=B[0],t=B[1],p=Y[t[0]];
if(!s&&p!=null&&p.add.vmsk.f.length!=0){var f=K.HZ.Z7(p.add.vmsk,p.add.vogk);if(W.Bk()){f[0]=c1.a3U(f[0]);
var a="vcb;"+JSON.stringify(f);fP.Rx(new Blob([a],{type:"text/plain"}))}else S._0=f;return 1}else if(z.q==null){if(W.Bk()){var a="lrs;"+this.Rr.indexOf(z)+";"+JSON.stringify(z.f);
fP.Rx(new Blob([a],{type:"text/plain"}))}}else{var D,c;if(s){var J=new hq(0,0,z.G,z.n);c=J.PS(z.q.rect);
D=q.m(c.$()*4);q.LP(z.r9(),J,D,c);q.Nc(z.q.channel,z.q.rect,D,c)}else if(z.rz.length!=0){c=z.q.rect.clone();
D=q.m(c.$()*4);var Z=z.Aa[z.rz[0]],Q=Z.am(c);q._i(Q,D);q.XX(z.q.channel,D,3)}else{var M=A.cN(z,z.q);
if(M==null){alert("Copied area is empty");return}D=M.GT;c=M.rect}var u=z.a.$s,P=u[0]+u[1]+u[2];if(P==1){var m=u.indexOf(1);
for(var l=0;l<D.length;l+=4)D[l]=D[l+1]=D[l+2]=D[l+m]}var i=new cR(z.G,z.n);if(W.Bk()&&r!=!0){var e=hg.Pp("PNG").atJ(D.buffer,c.G,c.n);
fP.Rx(new Blob([new Uint8Array(e)],{type:"image/png"}));this.avm={Ge:c,OX:i}}else S.ji={buffer:D,rect:c,OX:i};
S.a6B=c.clone();S._0=null}};dA.prototype.acU=function(s,N,r){if(N)this.aja=!0;console.log("doPaste");
var S=this.Py,z=S.ji,t;if(this.Rr.length==0){if(!s&&W.Bk()){fP.q_(this,null);return}if(z){var A=hg.i0("image.psd",[{data:z.buffer.buffer,zC:z.rect}]),B=new hU(k.E.Y);
B.data={d:k.s.Ap,jO:A};this.c(B)}return}var A=this.hr(),Y=A.p[A.f.length==0?A.p.length-1:A.f[0]];if(S._0){var p=A.Ly(!0),f=p[0],a=p[1];
t=f[a[0]]}var B=new hU(k.E.r,!0);if(S._0!=null&&t!=null){B.k=K.pG;B.data={d:"append",Ru:"Paste Paths",aut:S._0}}else if(!s&&W.Bk()&&r!=!0){fP.q_(this,this.al2.bind(this));
return}else{if(z==null)return;if(A.pu(!1)&&(A.a.$s.join("")!="111"||A.rz.length!=0||Y.GC>0||Y.rect.Nf())){B.k=K.rX;
B.data={d:"draw",a5v:!0,Ru:[5,2]}}else{B.k=K.g$;B.data={d:y.MS,vs:this.aja};this.aja=!1}B.data.ji=z}this.c(B)};
dA.prototype.akE=function(){for(var l=0;l<this.Rr.length;l++){var s=this.Rr[l];if(!ey.atK(s,this.Py.dw,this))continue;
if(s.aH)ey.a3D(s,this.Py.dw,this);var N=s.add.lnk2;if(N)for(var r=0;r<N.length;r++){var S=N[r];if(S.aH)K.o7.YM(s,S.eq,S.t1[1],S.t1[1],this.Py.dw)}if(s.ax3)continue;
s.ax3=!0;if(s.V8&&s.V8.a4T)i$.T9(s.V8.a4T,this);this.Df();var z=new hU(k.E.r);z.k=K.AB;z.data={d:"start",Cx:"GEfc"};
var A=new hU(k.E.Y);A.data={d:k.s.fk,ic:d8.tZ.Kk};A.data={d:k.s.Pv,ic:"saveforweb",v_:2}}};dA.prototype.NK=function(s){var N=this.Py,r=N.ru,B=!1;
if(s==eq.Uv){if(this.T.map[r].EI)this.T.map[r].EI.wy(N,s)}else for(var S in this.T.map)if(this.T.map[S].EI)this.T.map[S].EI.wy(N,s);
if(s==eq.Bw){if(r!=K.wQ)this.T.map[K.wQ].k.wy(N,s);this.akE()}this.qy.wy(N,s);this.R_.wy(N,s);this.aE.wy(N,s);
this.di().wy(N,s);this._e.wy(N,s);this.h0.wy(N,s);if(s==eq.wb||s==eq.pM){bP.aie(N.zR);this.update(!0)}var z=N.Rl,A=z.GN.Font;
if(s==eq.j4&&A!=null&&z.H4[A].Name!=N.font){N.font=z.H4[A].Name;B=!0}if([eq.J5,eq.zY,eq.rg,eq.tO,eq.HI,eq.$H,eq.Ok,eq.w7,eq.h2,eq.dI,eq.xl,eq.el,eq.Y_,eq.wb].indexOf(s)!=-1||B)this.a3H()};
dA.prototype.a3H=function(){if(!this.X3)return;var s={},N=this.T.map;for(var r in N){var S=N[r].k;if(S.YR&&S.YR()!=null)s["t"+r]=S.YR()}var z=this.Py,A=z.Hl,B={fcolor:z.Hd,bcolor:z.on,rulers:z.xA,extras:z.R1,favFam:z.h5,panels:z.ez,eparams:{guides:A.K0,grid:A.fl,sels:A.X5,paths:A.qI,pgrid:A.Yo,slices:A.DF,gsize:A.ws,gunits:A.y7,gtype:A.Jg,runits:A._c},lang:eV.EZ(),theme:z.zR,as:z.Tj,topt:s};
if(z.font!=null)B.font=z.font;var Y=eH.Eh();if(Y==null)Y={};Y.globals=B;eH.vp(Y)};dA.prototype.Wb=function(s){var N=this.nd,r=this.sy,S=this.Py.ru,z=this.T.map[S].k,A=null,B=!1;
for(var l=0;l<this.T.a9g.length;l++){var Y=this.T.a9g[l],t=!0;for(var p=0;p<Y.pj.length;p++){var f=Y.pj[p];
if(!N.t(f))t=!1}if(t&&(!Y.Ti||!z.YJ())&&(Y.t0==null||Y.t0.indexOf(S)!=-1)){A=Y.k;B=Y.Ti;break}}if((!r.Rd||S==K.Zj||s)&&this.T.O3!=A&&(A!=S||!B)){var a=this.hr();
if(this.T.O3!=null&&A==null)this.di().disable(a,this,this.Py,N,!0);this.T.O3=A;this.di().enable(a,this,this.Py,N,A!=null&&A!=S)}};
dA.prototype.xs=function(s){var N=this.Py.ru,r=this.hr();if(N!=null){this.T.map[N].k.disable(r,this,this.Py,this.nd)}};
dA.prototype.ack=function(s){if(s.EI==null){s.EI=new s.AZ;s.EI.ai$(s.k.id,s.k.rG);s.EI.wy(this.Py,eq.pM);
s.EI.N()}};dA.prototype.Xs=function(s,N){if(s==K.ZB&&this.aE.Yk())return;var r=this.hr(),S=this.Py;if(this.T.map[s].k.rL(r,S)){this.xs();
if(s!=S.ru)this.T.nj=S.ru?S.ru:K.tM;S.ru=s;this.R_.sV(this.T,this.Py);var z=this.T.map[s];this.T.K4[z.k5]=z.a8g;
this.ack(z);this.n1.a09(z.EI);var A=z.k;A.enable(r,this,this.Py,this.nd,!1,N);if(r)r.J4=!0;this.hz()}};
dA.prototype.di=function(s){var N=this.T,r=N.dg,S=N.O3,z=this.Py.ru;if(r)z=r;else if(S&&s==null)z=S;
return N.map[z].k};dA.prototype.asL=function(s){var N=this.Py,r=this.Rr.indexOf(s);if(r!=-1){this.qy.v7(r);
return}if(this.pF&&(s.V8==null||s.V8.he==null)){s.V8={he:this.pF}}if(s.Xi==null){s.Xi="local,"+this.acG+","+s.name;
this.acG++}s.Z8=Date.now();if(fS.eh()!=0&&!this.akJ&&W.JI[W.VS("t$&!'31")].toString().indexOf(W.VS(" u,$4&"))==-1){alert(W.VS("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var l=0;l<s.p.length;l++){var S=s.p[l];if(S.add.SoLd!=null){var z=Date.now()}}var A=s.p.length,B=cf.h3(),Y=Math.PI*(5465<<14)+(W.d0(31)?20:10)*7e7;
if(B>Y){var A=s.p.length;s.p=[];return A}if(d.Bi)d._k(Math.max(s.G,s.n));s.$S();s.xV();if(s.adm)s.a23();
else s.V();s.adm=!1;this.Rr.push(s);this.qy.g4(new hD(s));s.J4=!0;s.kk=!0;this.akE();var t=new hU(k.E.r);
t.k=K.du;t.data={d:"auto",ax:2}};dA.prototype.hr=function(){return this.Rr[this.jb]};dA.prototype.adW=function(){return this.aE.Yk()==null};
dA.prototype.eY=function(s,N){this.xs();var r=this.Rr.length;if(N!=null)this.qy.v7((this.qy.yo()+N+r)%r);
this.jb=this.qy.yo();var S=this.hr();this.h0.a95(S,this.Py);this._e.sV(S,this.Rr,this.Py);this.hz();
if(S)S.J4=!0};dA.prototype.adC=function(s){this.xs();this.Rr.splice(s.data.bl,1);if(this.Rr.length==0){this.eY(s);
if(d.Bi)d.ip().parentNode.removeChild(d.ip())}};dA.prototype.afq=function(s){var N=[],r=s.data.alw;for(var l=0;
l<r.length;l++)N[l]=this.Rr[r[l]];this.Rr=N;this.jb=this.qy.yo()};dA.prototype.a8_=function(s){var N=this.qy,r=N.adP(),S=this.di(),z=this.hr();
if(r==N.yo()||!S.ns())return;this.awt(r,S)};dA.prototype.awt=function(s,N){console.log("dup2doc");var r=this.Py,S=this.qy,z=this.hr(),A=this.Rr[s],B,Y=new hU(k.E.r,!0);
Y.k=K.g$;if(z.q==null){Y.data={d:y.wO,p:z.st(null,!0),oi:z,wX:A};this.c(Y)}else B=z.p[z.f[0]].cN(z,z.q);
var t=this.sy,p=r.xA;r.xA=!1;t=z.a.Vd(t.x,t.y);if(N)N.wx(z,this,r,this.nd);S.v7(s);if(z.q){Y.data={d:y.MS,ji:{buffer:B.GT,rect:B.rect}};
this.c(Y)}t=A.a.Oo(t.x,t.y);t.x+=49;t.y+=112;if(N)N.Vk(A,this,r,this.nd,t);r.xA=p};dA.prototype.a9P=function(s){var N=this.hr(),r=this.nd,S=this.Py,z=s.un;
if(z)this.sy=z;if(s.action.startsWith("multi")){var A=new hU(k.E.r,!0);A.data={d:s.action,b6:s.b6};A.k=K.b_;
this.c(A);return}var B=this.T.map[K.tM].k;if((s.action=="down"||s.action=="rdown")&&S.ru!=K.tM&&this.T.O3!=K.tM&&B.Hw(N,this,S,r,z)){this.T.dg=K.tM;
B.enable(N,this,S,r,!0)}if(s.action=="idown"){r.Xg("Space");this.Wb(!0);s.action="down"}var Y=this.aE.Yk(),t=Y!=null&&Y.vm()&&this.T.O3==null?Y:this.di();
if(Y!=null&&t!=Y&&this.aE.YJ()&&t.id!=K.g1&&t.id!=K.b_)return;if(s.action=="down")t.Vk(N,this,S,r,z);
if(s.action=="rdown")t.CX(N,this,S,r,z);if(s.action=="move")t.ud(N,this,S,r,z);if(s.action=="up"||s.action=="iup"||s.action=="cancellast")t.gE(N,this,S,r,z,s.action=="cancellast");
if(s.action=="rup")t.jN(N,this,S,r,z);if(s.action=="iup"){r.QK("Space");this.Wb(!0)}if(s.action=="cancellast"){if(N&&N.history.length!=0&&Date.now()-N.history[N.history.length-1].aio<200){var p=new hU(k.E.r);
p.k=K.pI;p.data={d:"h_stepbck"};this.c(p)}}var f=this._e;if(s.action=="down")f.Vk(N,this,S,r,z);if(s.action=="move")f.ud(N,this,S,r,z);
if(s.action=="up")f.gE(N,this,S,r,z);if(s.action=="down"||s.action=="up"){this.Wb()}if(s.action=="down"||s.action=="up"||s.action=="ctx"){N.J4=!0}if((s.action=="up"||s.action=="rup")&&this.T.dg){this.T.dg=null;
B.disable(N,this,S,r)}if(s.action=="scroll"){var a=!r.t(cK.z6)&&s.OT,A=new hU(k.E.r,!0);A.data={d:"scroll",Po:s.Po.clone(),un:z};
A.k=r.t(cK.nI)||a?K.b_:K.g1;this.c(A)}};dA.prototype.g0=function(s){var N=this.hr(),r=this.sy;if(N&&this.di().pN(r,this.nd)){var S=N.a,z=S.bh.G,A=S.bh.n,B=0,Y=0,t=16;
if(r.x<t)B=t-r.x;if(r.x>z-t)B=r.x-(z-t);if(r.y<t)Y=t-r.y;if(r.y>A-t)Y=r.y-(A-t);var p=this.nd.t(cK.nG)?8:1;
if((B!=0||Y!=0)&&(N.G*S.X>z||N.n*S.X>A)){B=Math.min(5,B*.5)*p;Y=Math.min(5,Y*.5)*p;if(!(r.x<t||r.y<t)){B=-B;
Y=-Y}S.u.x+=B;S.u.y+=Y;this.a9P({un:this.sy,action:"move"});N._R=!0}}this.update()};dA.prototype.update=function(s){var N=this.hr();
if(N==null)return;if(N.J4){var r=this.T.map;for(var S in r){if(r[S].k.tU)r[S].k.tU(N,this,this.Py,this.nd)}}if(N.jd)if(d.Bi)d._k(Math.max(N.G,N.n));
if(N.jd){N.im()}var z=N.a,A=this.cs,B=this.cs=Date.now();if(N.jd||N.Ch||N.kk||N._R||s||z.PL!=z.X||!z.XN.nR(z.u)){var Y=z.PL;
if(z.PL!=z.X){var t=K.OD.aro(z.X,z.PL>z.X),p=.12;if(z.PL<z.X&&z.PL<t)z.PL=t;if(z.PL>z.X&&z.PL>t)z.PL=t;
var f=Math.abs(z.X-t)*(B-A)*.001/p;if(z.PL<z.X)z.PL=Math.min(z.X,z.PL+f);else z.PL=Math.max(z.X,z.PL-f)}var a=Y==z.X?0:(z.PL-z.X)/(Y-z.X);
z.XN.x=z.u.x+a*(z.XN.x-z.u.x);z.XN.y=z.u.y+a*(z.XN.y-z.u.y);this.qy.wy(this.Py,null);this.qy.sV(N,this.Rr)}if((N.jd||N._R||N.J4)&&(!this.sy.Rd||N.Wy)){if(N.J4)N.xV();
this._e.sV(N,this.Rr,this.Py);this.R_.aiB(N,this.nd);N.kf=!1}N.Wy=!1;N.J4=!1;N.jd=null;N.Ch=N.kk=N._R=!1};
dA.prototype.Ne=function(s){var N=s.target.tagName.toLowerCase(),r=s.target.getAttribute("type"),S=cK,z=S.UW(s.code,S.D9);
if(!((N=="input"||N=="select"||N=="button")&&S.UW(s.code,S.ZW))){if(S.h9(s)){s.preventDefault()}this.nd.Xg(S.SC(s));
this.Rt("down")}};dA.prototype.AD=function(s){if(s.key==" ")this.nd.A8();if(cK.UW(s.code,cK.kD))this.nd.reset();
this.nd.QK(cK.SC(s));var N=s.target.tagName.toLowerCase();if(cK.h9(s)){s.preventDefault()}this.Rt("up")};
dA.prototype.Rt=function(s){var N=this.nd,r=this.hr(),S=r!=null&&r.f.length!=0;if(this.Lx.Yk()!=null){if(N.t(cK.Nl)){this.Lx.a7t()}return}this.Wb();
var z=this.fz(cK.z6),A=N.t(cK.nI),B=N.t(cK.nG);if(z&&N.t(cK.kx)&&s=="down"){var Y=new hU(k.E.r),t=new hU(k.E.Y);
Y.k=K.pI;if(B){Y.data={d:"h_stepfwd"}}else{Y.data={d:"h_stepbck"}}if(this.aE.Yk()!=null&&this.aE.Yk().YJ()){}else this.c(Y)}if(z){var Y=new hU(k.E.r),p=new hU(k.E.gu),t=new hU(k.E.Y);
if(N.t(cK.$K)&&N.t(cK.tK)){t.data={d:k.s.Pv,ic:"storwindow"};this.c(t)}if(!A&&s=="down")for(var f in ai.keys){var a=ai.keys[f],D=!0;
for(var l=0;l<a.length;l++)if(!N.t(a[l]))D=!1;if(D){Y.k=K.du;if(f=="hue2"&&B)Y.data={d:"auto",ax:3};
else Y.data={d:"start",R8:f}}}if(N.t(cK.s)){p.data=K.eL.Aq(!0)}if(N.t(cK.p6)){if(A)t.data={d:k.s.Pv,ic:"csize"};
else if(r)t.data={d:k.s.Sy,v3:B}}if(N.t(cK.iw)){p.data=K.eL.Aq()}if(N.t(cK.E)&&s=="down"){if(B)p.data={uU:"mergeVisible"};
else p.data={uU:"mergeLayersNew",wz:{__name:"Merge Layers",classID:"Mrg2"}}}if(N.t(cK.se)){if(B&&this.Py.ru!=K.ZB)t.data={d:k.s.Pv,ic:"afw_fade"};
else if(A){Y.k=K.AB;Y.data={d:"applylast"}}else t.data={d:k.s.Rw}}if(N.t(cK.ET)){if(A&&r&&r.Mk(r.f[0])){Y.k=K.g$;
Y.data={d:y.DM}}else{Y.k=K.g$;Y.data={d:y.zK,CH:B}}}if(N.t(cK.za)){t.data={d:k.s.Jl,LS:eq.HI}}if(N.t(cK.$K)){if(B){Y.data=null;
if(A)t.data={d:k.s.Pv,ic:"finfo"};else p.data={uU:"inverse"}}else if(A)t.data={d:k.s.Pv,ic:"isize"}}if(N.t(cK.Ux)){p.data={uU:(B?"cut":"copy")+"ToLayer"}}if(N.t(cK.zt)){t.data={d:k.s.Pv,ic:"preferences"}}if(N.t(cK.a2)){if(B){Y.k=K.g$;
Y.data={d:y.Jj}}else t.data={d:k.s.Pv,ic:"newproject"}}if(N.t(cK.vk)){t.data={d:k.s.LO};N.reset()}if(N.t(cK.Vi)){t.data={d:k.s.avJ};
N.reset()}if(N.t(cK.tZ)){t.data={d:k.s.Jl,LS:eq.tO}}if(N.t(cK.Eq)&&s=="down"){if(B){if(A)t.data={d:k.s.Pv,ic:"saveforweb"};
else t.data={d:k.s.uM}}else t.data={d:k.s.Hh}}if(N.t(cK.Lo)){if(B){Y.k=K.ZB;Y.data={d:"again"}}else t.data={d:k.s.HQ,k:K.ZB}}if(N.t(cK.n2)){t.data={d:k.s.MF}}if(N.t(cK.ON)){this.qy.r7()}if(N.t(cK.pC)&&r&&r.iS()){t.data={d:k.s.gU}}if(N.t(cK.TZ)||N.t(cK.t$)){Y.k=K.g$;
Y.data={d:y.Qv,Xy:0};if(N.t(cK.TZ))Y.data.Xy=B?3:2;else Y.data.Xy=B?0:1}if(N.t(cK.tc)&&r){Y.k=K.g$;Y.data={d:y.ks}}if(N.t(cK.D9)&&r){var c=0;
if(B)c++;if(A)c+=2;Y.k=K.Kn;Y.data={d:"frompath",PH:[null,0,c]}}if(N.t(cK.b0)){p.data=K.Vg.N8(0)}if(N.t(cK.ZW)){var J=this.Rr.length;
if(J>1)this.qy.v7((this.qy.yo()+1)%J)}if(N.t(cK.y3)){t.data={d:k.s.Jl,LS:eq.Ok}}if(N.t(cK.jx)){t.data={d:k.s.Jl,LS:eq.w7}}K.OD.a4D(N,Y);
if(this.aE.Yk()!=null&&this.aE.Yk().YJ()){}else{if(Y.data)this.c(Y);if(p.data)this.c(p);if(t.data)this.c(t)}}if(!z&&A){var Z;
if(N.t(cK.TZ))Z="Bckw";if(N.t(cK.t$))Z="Frwr";if(N.t(cK.tc))Z="Back";if(N.t(cK.b0))Z="Frnt";if(Z){var p=new hU(k.E.gu);
p.data={uU:"select",wz:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:Z}}]},MkVs:{t:"bool",v:!1}}};
this.c(p)}}if(r&&r.f.length!=0){var Q=r.p[r.f[0]],M=Q.GC;if(M==1||M==3||z){var Y=new hU(k.E.r),u=M==3?Q.NM(r).B:Q.eg();
if(u){var P=u.TU?r.a.$s.join("")=="111"?1:2:0;Y.k=K.b_;if(u&&N.t(cK.Nl)&&P!=0){Y.data={d:"mskView",h:0}}if(u&&N.t(cK.adB)){Y.data={d:"mskView",h:P==1?0:1}}if(u&&N.t(cK.aiQ)){Y.data={d:"mskView",h:P==2?0:2}}if(Y.data)this.c(Y)}}}var m=N.JH();
if(r&&z&&2<=m&&m<=5){var i=[1,1,1];if(m>2){i=[0,0,0];i[m-3]=1}var e=new hU(k.E.r,!0);e.k=K.g1;e.data={d:"setcls",$s:i};
this.c(e)}if(!N.t(cK.z6)&&!A&&s=="down"){var Y=new hU(k.E.r),t=new hU(k.E.Y),X=this.T.map[this.Py.ru],$=-1;
for(var l=0;l<this.T.keys.length;l++)if(this.T.keys[l]&&this.fz(this.T.keys[l]))$=l;if($!=-1){var O=null;
if(X.k5!=$)O=this.T.K4[$];if(X.k5==$&&B)O=(X.a8g+1)%this.T.ka[$].length;if(O!=null){var b=this.T.ka[$][O].k.id,R=this.Py.r1;
if((R==null||R.indexOf(parseInt(b))!=-1)&&!this.sy.Rd)t.data={d:k.s.HQ,k:b}}}if(N.t(cK.pC))t.data={d:k.s.Jl,LS:eq.rg,Xy:2};
if(N.t(cK.iw))t.data={d:k.s.Jl,LS:eq.rg,Xy:3};if(t.data)this.c(t);if(N.t(cK.aov)&&r&&r.f.length==1){var Q=r.p[r.f[0]];
Y.k=K.g$;var w=Q.pa(0)||Q.pa(1)||Q.pa(2)||Q.pa(31);Y.data={d:y.te,zr:w?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.c(Y)}var m=N.JH();if(S&&m!=-1&&this.fz(cK.zN[m])){var F=r.f[0],Q=r.p[F],L=cK.RL(Math.round(100*Q.opacity/255),m);
Y.k=K.g$;Y.data={d:y.EX,zr:Math.round(255*L/100)};this.c(Y)}var x=this.Py.Vb;if(N.t(cK.ZW)){t.data={d:k.s.wB,h:x==0?1:0};
this.c(t)}if(N.t(cK.se)||N.t(cK.Nl)&&x==2){var g=document.fullscreenElement!=null==(x==2);t.data={d:k.s.wB,h:x==0?2:0,pL:g};
this.c(t)}if(N.t(cK.WB)&&!this.sy.Rd){Y.k=K.Kn;Y.data={d:"qmask"};this.c(Y)}}if(!N.t(cK.z6)&&!A&&B){var Y=new hU(k.E.r),t=new hU(k.E.Y);
if(N.t(cK.tc))t.data={d:k.s.Pv,ic:"shortcuts"};if(N.t(cK.GY))t.data={d:k.s.Pv,ic:"fill"};if(N.t(cK.acX))t.data={d:k.s.Pv,ic:"sel_feather"};
if(S&&(N.t(cK.TF)||N.t(cK.iQ))){var F=r.f[0],Q=r.p[F],n=bm.sI,h=n.length,_=n.indexOf(Q.M9);Y.k=K.g$;
Y.data={d:y.q$,zr:(_+h+(N.t(cK.TF)?1:-1))%h};this.c(Y)}if(t.data)this.c(t)}var Y=new hU(k.E.r),H=s=="down"&&(this.fz(cK.Ih)||this.fz(cK.kM));
if((z||A)&&H){Y=new hU(k.E.gu);Y.data=K.kn.ku(z?"BckC":"FrgC");this.c(Y)}else if(r&&H&&!this.sy.Rd){if(r.q!=null){Y=new hU(k.E.gu);
Y.data={uU:"delete"}}else if(r.f.length!=0){var Q=r.p[r.f[0]];if(Q.GC==1)Y.data={d:y.lH};else if(Q.GC==3)Y.data={d:y.Zp};
else Y.data={d:y.iN};Y.k=K.g$}this.c(Y)}if(this.aE.Yk()!=null){if(N.t(cK.Nl)){this.aE.Yk().a3z()}else{this.aE.Yk().Rt(r,this,this.Py,N)}}if(this.Py.ru==null)return;
var X=this.di();if(this.aE.Yk()==null||this.T.O3)X.Rt(r,this,this.Py,N)};dA.prototype.fz=function(s){var N=this.nd,r=this.T.map[this.Py.ru].k,top=this.aE.Yk(),S=this.hr();
return N.t(s)&&!r.KR(s,S)&&(top==null||!top.KR(s,S))};dA.prototype.O_=function(s){var N=this.aed,r=this.JV;
this.Py.Vb=s;var S=W.zS,z=this.h0.e;if(S(z))this.Nk.removeChild(z);var A=this.n1.e;if(S(A))this.Nk.removeChild(A);
var B=this.R_.e;if(S(B))N.removeChild(B);var Y=this.qy.e;if(S(Y))N.removeChild(Y);var t=this._e.e;if(S(t))N.removeChild(t);
if(s==0){this.Nk.appendChild(z);this.Nk.appendChild(A);r.appendChild(N);N.appendChild(B);N.appendChild(Y);
N.appendChild(t)}if(s==1){this.Nk.appendChild(z);N.appendChild(Y)}if(s==2){N.appendChild(Y)}this.qy.O_(s==2?1:0);
this.hz()};dA.prototype.aqF=function(s){if(this.VF())return 1;if(W.akt()==0){this.Py={};this.uw=function(N,r){return Math.sqrt(N*r)}}return-1};
function fH(s){hz.call(this);if(s==null)return;this.s7=null;this.JY=null;this.e=W.z("div","sbar"+" "+s);
this.d6=new W.z("div","top");this.d6.innerHTML="> <";this.e.appendChild(this.d6);this.gt=1;this.d6.addEventListener("click",this.ahd.bind(this),!1)}fH.prototype=new hz;
fH.prototype.ahd=function(s){if(this.s7!=null&&this.s7<500&&this.gt==0)return;if(this.gt==0)this.f8(!0);
else this.collapse(!0)};fH.prototype.a2x=function(s){this.gt=s;this.d6.innerHTML=this.gt==0?"< >":"> <"};
fH.prototype.alA=function(){var s=new hU(k.E.Y,!0);s.data={d:k.s.IP};this.c(s)};fH.prototype.f8=function(s){this.a2x(1);
if(s)this.alA()};fH.prototype.collapse=function(s){this.a2x(0);if(s)this.alA()};fH.prototype.Kh=function(){return this.gt==1};
function dc(s,N){fH.call(this,"vcolumn");this.C8=s;this.a2m=N;this.AJ();this.ww=W.z("div");this.ww.setAttribute("style","cursor:default;");
this.afY=this.a2h.bind(this);this.a1S=this.aby.bind(this);this.a6P=this.a1i.bind(this);W.JQ(this.e,this.afY);
this.e.appendChild(this.ww);this.Ej=W.z("div");this.ww.appendChild(this.Ej);this.PY=-1;this.Dr=W.z("div","float");
var r=this.C4=W.z("canvas"),S=12;r.width=r.height=S;var z=r.getContext("2d");z.fillStyle="rgba(0,0,0,0.5)";
z.moveTo(0,0);z.lineTo(S,S);z.lineTo(0,S);z.fill();this.C4.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
W.Kq(this.C4);W.JQ(this.C4,this.afY);this.TY=[];this.Wh=[];this.ago=null;this.q6=null;this.arF=0}dc.prototype=new fH;
dc.prototype.a2h=function(s){var N=s.target==this.C4;if(!N){if(s.target!=this.e)return;if(!this.Kh())return}else{var r=this.TY[this.PY].yG;
r.style.pointerEvents="none";var S=r.getBoundingClientRect();this.ago=[S.width,S.height];this.Wh[this.PY]=[S.width,S.height]}s.stopPropagation();
this.q6=W.WO(s,document.body);this.arF=this.C8;W.UT(document,this.a1S);W.eA(document,this.a6P)};dc.prototype.aby=function(s){var N=W.WO(s,document.body);
if(this.Kh()){this.C8=this.arF+this.q6.x-N.x;this.AJ()}else{var r=this.Wh[this.PY],S=this.ago;r[0]=S[0]+this.q6.x-N.x;
r[1]=S[1]+N.y-this.q6.y}var z=new hU(k.E.Y,!0);z.data={d:k.s.IP};this.c(z)};dc.prototype.a1i=function(s){if(!this.Kh()){var N=this.TY[this.PY].yG;
N.style.pointerEvents="auto"}W.nP(document,this.a1S);W.tp(document,this.a6P)};dc.prototype.ajp=function(s){s.W("showFloat",this.arv,this);
s.W("hideFloat",this.rE,this);this.TY.push(s);s.parent=this;this.ww.appendChild(s.e)};dc.prototype.aq9=function(l){var s=this.TY[l];
s.removeEventListener("showFloat",this.arv,this);s.removeEventListener("hideFloat",this.rE,this);this.TY.splice(l,1);
s.parent=null;this.ww.removeChild(s.e)};dc.prototype.a8W=function(){return this.TY.length};dc.prototype.$P=function(){for(var l=0;
l<this.TY.length;l++)this.TY[l].$P()};dc.prototype.arv=function(s){this.rE(s);this.Ej.appendChild(this.Dr);
this.PY=this.TY.indexOf(s.currentTarget);var N=this.TY[this.PY].yG;this.Dr.appendChild(N);this.Dr.appendChild(this.C4);
this.uw(this.s7,this.JY)};dc.prototype.rE=function(s){this.$P();if(this.PY!=-1){this.Ej.removeChild(this.Dr);
var N=this.TY[this.PY];if(N)this.Dr.removeChild(N.yG);this.PY=-1}};dc.prototype.AJ=function(){this.e.setAttribute("style","width: "+this.C8+"px; padding-left:3px; cursor:ew-resize;")};
dc.prototype.f8=function(s){this.AJ();this.rE();for(var l=0;l<this.TY.length;l++)this.TY[l].f8();fH.prototype.f8.call(this,s)};
dc.prototype.collapse=function(s){this.e.removeAttribute("style");for(var l=0;l<this.TY.length;l++)this.TY[l].collapse();
fH.prototype.collapse.call(this,s)};dc.prototype.uw=function(s,N){this.s7=s;this.JY=N;N-=6;var r=this.TY.length,S=this.Kh();
if(r==0)return;s=this.C8;var z=N<400?N:400+(N-400)*.5,A=N;for(var l=0;l<r;l++){var B=this.TY[l],Y=B.a2c(),t=this.Wh[l];
B.uw(!S&&t?t[0]:s,S?l==r-1?A:Y:t?t[1]:z);A-=Y}};function dN(s){hz.call(this);this.e=W.z("div");this.ww=null;
this.oZ=0;this.vB=0;this.anh=s;this.ad2=this.ja.bind(this);this.apr=this.ma.bind(this);this.atf=this.$D.bind(this);
this.wE=null;this.xy=null;this.wH=null;W.JQ(this.e,this.ad2);var N=this.e,S="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
N.addEventListener("touchmove",W.GF,!1);this.aum=!0;this.J1=[];var r=this.aoT=W.z("div");r.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(r);var z=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",S+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",S+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",S+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var l=0;l<z.length;l++){var A=new aa(z[l]);this.J1.push(A);A.e.setAttribute("style","margin-left:"+(l<7?4:0)+"px;cursor:pointer;");
A.W("click",this.S1,this)}}dN.prototype=new hz;dN.prototype.N=function(){var s=this.aoT;W.o3(s);for(var l=0;
l<this.J1.length;l++){var N=this.J1[l];if(l<5)N.N();s.appendChild(N.e)}};dN.prototype.S1=function(s){var l=this.J1.indexOf(s.currentTarget);
if(l==0){if(window.showCap)window.showCap();return}var N=" issues learn blog api twitter facebook".split(" "),r=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),S=window.ga;
if(S)S("send","event","Links",N[l]);var z=new hU(k.E.Y,!0);z.data={d:k.s.TL,link:r[l]};this.c(z)};dN.prototype.ja=function(s){if(s.asU){s.preventDefault();
s.stopPropagation()}var N=window;W.UT(N,this.apr);W.eA(N,this.atf);N=this.ww;this.wE=new cR(parseInt(N.style.left),parseInt(N.style.top));
this.xy=W.WO(s,this.e);this.wH=N.getBoundingClientRect()};dN.prototype.ma=function(s){var N=W.WO(s,this.e),r=this.wE.x+N.x-this.xy.x,S=this.wE.y+N.y-this.xy.y,z=this.oZ-this.wH.width,A=this.vB-this.wH.height;
if(this.anh)this.ww.style.left=Math.min(0,Math.max(z,r))+"px";else this.ww.style.top=Math.min(0,Math.max(A,S))+"px";
if(r-10>0){this.xy.x=N.x-10;this.wE.x=0}if(r+10<z){this.xy.x=N.x+10;this.wE.x=z}};dN.prototype.$D=function(s){var N=window;
W.nP(N,this.apr);W.tp(N,this.atf)};dN.prototype.a4H=function(s){if(this.ww){this.e.removeChild(this.ww)}this.ww=s;
this.e.appendChild(s);s.style.position="absolute";if(this.anh)s.style.left=0;else s.style.top=0};dN.prototype.uw=function(s,N){this.oZ=s;
this.vB=N;this.e.setAttribute("style","position:relative; width: "+s+"px; height: "+N+"px; overflow:hidden; white-space: nowrap; ");
this.ww.style.left="0";this.ww.style.top="0";var r=this.ww.firstChild,S=this.aoT,z=r?r.firstChild.getBoundingClientRect().width+80:1e9,A=170,B=this.aum&&s>z+A;
S[cf.ac][cf.a3s]=B?"":cf.dL;var Y=this.J1;for(var l=0;l<Y.length;l++){var t=l>4||s-z>500?"":cf.dL,p=Y[l];
p.e.style.display=t}};function es(){hz.call(this);this.tx=null;this.HV=es.Vi;this.auZ="";this.e=W.z("div","rightbar");
this.e6=[new dc(300),new dc(268,!0)];this.TY=[new ik,new ik,new ik,new ik,new ik,new ik,new ik];this.ahA=[]}es.prototype=new hz;
es.prototype.N=function(){var s=this.HV;for(var l=0;l<s.length;l++)s[l].mk.N()};es.Vi=[{mk:new bF,AT:3},{mk:new hS,AT:1},{mk:new ca,AT:4},{mk:new hV,AT:2},{mk:new h0(!0),AT:5},{mk:new fY,AT:0},{mk:new aR,AT:5},{mk:new b2,AT:3},{mk:new i5,AT:0},{mk:new f4,AT:3},{mk:new dz,AT:2},{mk:new gD,AT:4},{mk:new jE,AT:3},{mk:new iN,AT:5},{mk:new h0(!1),AT:5},{mk:new f6,AT:2},{mk:new bW,AT:3},{mk:new ip,AT:1},{mk:new d7,AT:0},{mk:new dk,AT:5},{mk:new gB,AT:6,LX:!0},{mk:new cG,AT:6,LX:!0},{mk:new ct,AT:6,LX:!0}];
(function(){var s=[{id:d8.tZ.anz,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Adaptive Palette",url:"https://hxim.github.io/TwemojiPlugin/adapal/adapal.html",icon:"https://hxim.github.io/TwemojiPlugin/adapal/icon.svg"},{name:"Fractal Noise",url:"https://yikuansun.github.io/photopea-fractalnoise",icon:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Value_noise_2D.png"},{name:"Zeus: Lightning Maker",url:"https://yikuansun.github.io/lightning-experiment/?photopeaPlugin=yes",icon:"https://yikuansun.github.io/lightning-experiment/icon.png"}];
for(var l=0;l<s.length;l++)es.Vi.push({mk:new aA(s[l],100+l),AT:6,LX:!0})}());es.prototype.aqQ=function(s){for(var l=0;
l<s.length;l++){var N=s[l],r=new aA(N,"plg_"+N.name);this.HV.push({mk:r,AT:6});this.ahA.push(r.Hm)}this.rx()};
es.prototype.wy=function(s,N){this.tx=s;var r=this.HV;for(var l=0;l<r.length;l++)r[l].mk.wy(s,N);if(N==eq.J5||N==eq.pM)this.rx()};
es.prototype.vE=function(s){var N=this.HV;for(var l=0;l<N.length;l++)N[l].mk.vE(s)};es.prototype.uw=function(s,N){this.s7=s;
this.JY=N;this.rx();this.e6[0].uw(s,N);this.e6[1].uw(s,N)};es.prototype.rx=function(){var s=this.tx,N=this.s7,r=this.JY;
if(s==null||N==0)return;var S=s.ez.concat(this.ahA),z=N<500||N<700&&N<r,A=JSON.stringify(S)+","+z;if(A!=this.auZ){this.auZ=A;
W.o3(this.e);var B=[];for(var l=0;l<this.e6.length;l++){var Y=this.e6[l];B[l]=Y.Kh();while(Y.a8W()!=0)Y.aq9(0);
Y.f8()}var t=[];for(var l=0;l<this.TY.length;l++){var p=this.TY[l];p.f8();while(p.a1O()!=0)p.wv(0);t.push(0)}for(var l=0;
l<S.length;l++){var f=this.a9K(S[l].toString());this.TY[f.AT].g4(f.mk);this.TY[f.AT].v7(0);t[f.AT]++}var a=[];
for(var l=0;l<t.length;l++){if(t[l]==0)continue;var D=l<3||z?1:0,Y=this.e6[D];Y.parent=this;Y.ajp(this.TY[l]);
a[D]=!0}for(var l=0;l<this.e6.length;l++)if(a[l])this.e.appendChild(this.e6[l].e);this.e6[0].collapse();
if(N<700||this.tx.compact||!B[1]){this.e6[1].collapse()}var c=new hU(k.E.Y,!0);c.data={d:k.s.IP};this.c(c)}};
es.prototype.a9K=function(s){for(var l=0;l<this.HV.length;l++)if(this.HV[l].mk.Hm==s)return this.HV[l]};
es.prototype.aij=function(s){var N=this.a9K(s);this.TY[N.AT].g4(N.mk)};es.prototype.sV=function(s,N,r){var S=this.HV;
for(var l=0;l<S.length;l++)S[l].mk.sV(s,N,r)};es.prototype.Vk=function(s,N,r,S,z){var A=this.HV;for(var l=0;
l<A.length;l++)A[l].mk.Vk(s,N,r,S,z)};es.prototype.ud=function(s,N,r,S,z){var A=this.HV;for(var l=0;
l<A.length;l++)A[l].mk.ud(s,N,r,S,z)};es.prototype.gE=function(s,N,r,S,z){var A=this.HV;for(var l=0;
l<A.length;l++)A[l].mk.gE(s,N,r,S,z)};function eY(s,N){fH.call(this,"toolbar");this.Vp=null;this.mM=W.z("div","tools");
this.e.appendChild(this.mM);this.db=null;this.agr=N;this.i4=null;this.asc=-1;this.amV={};this.T=null;
this.yf=null;this.AR=null;this.yQ=null;this.u4(s);this.SI=new hd;this.SI.e.style.marginTop="5px";this.SI.e.style.marginBottom="3px";
this.SI.parent=this;this.Y4=new aa(W.xH("lrs/mask"),!1,[6,6,1]);this.Y4.W("click",function(A){var B=new hU(k.E.r,!0);
B.k=K.Kn;B.data={d:"qmask"};this.c(B)},this);var r=new di(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
r.W(k.E.o,this.amn,this);var S=W.z("span","rangecontFloat form padded");S.appendChild(r.e);var z=document.body;
this.ar1=[!1,!1,!1,!1];this.tb=new aa("\u2328",!1,"Virtual Keys");this.tb.W("click",function(A){var B=this.tb.e.getBoundingClientRect();
S.setAttribute("style","position:absolute; top:"+(B.top-40)+"px; left: "+(B.left+B.width+4)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(W.zS(S))z.removeChild(S);else z.appendChild(S)},this)}eY.prototype=new fH;eY.prototype.amn=function(s){var N=s.target.L();
this.tb.b(N[0]||N[1]||N[2]||N[3]);var r=new hU(k.E.Y,!0);for(var l=0;l<4;l++){if(N[l]!=this.ar1[l]){r.data={d:k.s.a3t,Rd:N[l],avP:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][l]};
this.c(r)}}this.ar1=N.slice(0)};eY.prototype.aiB=function(s,N){this.i4=N;if(s==null||s.f.length==0||s.p[s.f[0]]==null)return;
var r=s.Y4()!=null,S=s.a.$s,z=s.p[s.f[0]].GC,A=z==1||z==3||r||S[0]+S[1]+S[2]==1;this.SI.ap0(A);this.Y4.b(r)};
eY.prototype.a3p=function(s,N){var r=s.length,S=[];for(var l=0;l<r;l++)S[l]=s[l].slice(0);s=S;var z=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],A=Math.min(z.length/2,r-N);
for(var l=0;l<A;l++){var B=z[2*l],Y=z[2*l+1];s[B]=s[B].concat(s[Y]);s[Y]=null}for(var l=0;l<s.length;
l++)if(s[l]==null){s.splice(l,1);l--}return s};eY.prototype.akZ=function(s,N){for(var l=0;l<N.length;
l++)for(var r=0;r<N[l].length;r++)if(N[l][r].k.id==s)return l};eY.prototype.u4=function(s,N){this.Vp=s;
this.yf=[];this.AR=[];this.yQ=[];this.T=[];var r=s.ka;if(N!=null&&this.agr)r=this.a3p(r,N);if(this.db){var S=[],z=this.db.r1;
for(var l=0;l<r.length;l++){var A=[];for(var B=0;B<r[l].length;B++){var Y=r[l][B];if(z==null||z.indexOf(parseInt(Y.k.id))!=-1)A.push(Y)}if(A.length>0)S.push(A)}r=S}for(var l=0;
l<r.length;l++){var t=[],p=this.yf.length,f=null,a=-1;for(var B=0;B<r[l].length;B++){var Y=r[l][B].k,D=this.akZ(Y.id,s.ka),c=s.keys[D];
this.T.push(Y);var J=new iT(Y.name,c,Y.rG,this.yf.length,l,r[l].length>1);this.yf.push(J);var Z=this.amV[Y.id];
if(Z==null)Z=0;if(Z>a){a=Z;f=J}J.W(k.E.o,this.lp,this);J.W("mover",this.aq,this);t.push({name:Y.name,zg:Y.rG,pj:c?c.bT:""})}this.AR.push(f);
if(t.length==1)this.yQ.push(null);else{var Q=new hR(t,null,!0);Q.alz=p;Q.k5=l;this.yQ.push(Q);Q.W("select",this.a31,this);
Q.parent=this}}};eY.prototype.uw=function(s,N){var r=this.JY=N-11,S=32;if(1<W.Z()&&W.Z()<1.5)S=18+14*(1/W.Z());
var z=39+23,A=Math.floor((r-z)/S),B=this.db;if(B==null)return;if(A!=this.asc){this.asc=A;this.u4(this.Vp,A);
this.Xs(B.ru)}var Y=this.AR.length*S+z,t=Math.min(1,r/Y);if(.75<=t){this.mM.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+t+","+t+");");
this.e.setAttribute("style","height:"+(N-2)+"px; overflow:hidden;")}else{r-=4;this.mM.setAttribute("style","height: "+r+"px;  width:"+Math.ceil(Y/r)*34+"px");
this.e.setAttribute("style","")}};eY.prototype.N=function(){for(var l=0;l<this.yf.length;l++)this.yf[l].N();
for(var l=0;l<this.yQ.length;l++)if(this.yQ[l])this.yQ[l].N()};eY.prototype.lp=function(s){var N=new hU(k.E.Y,!0);
N.data={d:k.s.HQ,k:this.T[s.id].id};this.c(N)};eY.prototype.a31=function(s){var N=s.target.alz+s.target.o4()[0];
this.yf[N].$D(null)};eY.prototype.aq=function(s){var N=this.i4,r=new hU(k.E.Y,!0);r.data={d:k.s.LY};
this.c(r);var S=s.target,z=this.yQ[S.k5];if(z==null)return;var A=S.e.getBoundingClientRect(),r=new hU(k.E.Y,!0);
r.data={d:k.s.xh,mk:z,x:A.left+A.width+8,y:A.top};if(N==null||!(N.t(cK.IH)||N.t(cK.z6)))this.c(r)};eY.prototype.Xs=function(s){this.amV[s]=Date.now();
var N=-1;for(var l=0;l<this.T.length;l++)if(this.T[l].id==s)N=l;for(var l=0;l<this.yf.length;l++){var r=this.yf[l];
r.a2Q(N==l)}if(N==-1)return;this.AR[this.yf[N].k5]=this.yf[N];W.o3(this.mM);var S=this.AR;for(var l=0;
l<S.length;l++){this.mM.appendChild(S[l].e)}if(!this.agr)return;this.mM.appendChild(this.SI.e);if(this.JY>640)this.mM.appendChild(this.Y4.e);
this.mM.appendChild(this.tb.e)};eY.prototype.sV=function(s,N){this.Xs(N.ru)};eY.prototype.wy=function(s,N){this.db=s;
if(N==eq.pM){this.u4(this.Vp);this.Xs(s.ru)}this.SI.a19(s.Hd,s.on)};function iT(s,N,r,S,z,A){hz.call(this);
this.AU=0;this.Wr=this.ag3.bind(this);this.k5=z;this.vv=S;this.qM=s;this.aw_=N;this.ad4=A;this.rG=r;
this.e=W.z("button","");this.e.innerHTML=W.xH(this.rG);if(this.ad4){var B=W.z("img","gsicon");B.setAttribute("src",PIMG["tools/corner"]);
B.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.e.appendChild(B)}this.N();
W.JQ(this.e,this.ja.bind(this));this.e.addEventListener("click",this.$D.bind(this),!1);this.e.addEventListener("contextmenu",iT.wC,!1)}iT.prototype=new hz;
iT.wC=function(s){s.stopPropagation();s.preventDefault();return!1};iT.prototype.N=function(){var s=this.aw_?" ("+this.aw_.bT+")":"";
this.e.setAttribute("title",eV.get(this.qM)+s)};iT.prototype.ja=function(s){this.AU=setTimeout(this.Wr,160)};
iT.prototype.$D=function(s){clearTimeout(this.AU);var N=new hU(k.E.o,!1);N.target=this;N.id=this.vv;
this.c(N)};iT.prototype.ag3=function(s){var N=new hU("mover",!1);N.target=this;N.id=this.vv;this.c(N)};
iT.prototype.a2Q=function(s){this.e.setAttribute("class",s?"toolbtn active":"toolbtn")};function dh(){hz.call(this);
this.e=W.z("div","topbar");this.CP=W.z("span","");this.aip=0;this.e.appendChild(this.CP);this.BS=null;
this.Ct=null;this.$g=[];this.ez=[];var s=this.ja.bind(this);for(var l=0;l<dh.data.length;l++){var N=W.z("button");
this.$g.push(N);this.CP.appendChild(N);N.addEventListener("mouseover",s,!1);W.JQ(N,s)}this.oA=new aa([0,13,0],!1,null,!0);
this.oA.W("click",this.qW,this);this.e.appendChild(this.oA.e);this.A9=new aa(W.xH("tools/zoom",null,"autoscale"),!1,[12,86]);
this.A9.W("click",this.qW,this);this.e.appendChild(this.A9.e);this.uk=new aa("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.uk.W("click",this.qW,this);this.e.appendChild(this.uk.e)}dh.prototype=new hz;dh.prototype.a75=function(){if(this.ez.length!=0)return;
for(var l=0;l<dh.data.length;l++){var s=dh.data[l],N=new hR(s.items,s.ab);N.parent=this;this.ez.push(N)}this.N()};
dh.prototype.N=function(){this.oA.N();this.A9.N();this.uk.N();for(var l=0;l<this.$g.length;l++)this.$g[l].textContent=eV.get(dh.data[l].name);
this.aha();for(var l=0;l<this.ez.length;l++)this.ez[l].N()};dh.prototype.qW=function(s){var N=new hU(k.E.Y,!0);
if(s.target==this.oA)N.data={d:k.s.Pv,ic:"account"};else if(s.target==this.A9)N.data={d:k.s.Rw};else N.data={d:k.s.wB,pL:!0};
this.c(N)};dh.prototype.a95=function(s,N){this.BS=s;this.Ct=N};dh.prototype.wy=function(s,N){this.Ct=s;
if(N==eq.pM){var r=s.a1J;W.o3(this.CP);for(var l=0;l<this.$g.length;l++){if(r==null||r[l]==1||r[l]instanceof Array)this.CP.appendChild(this.$g[l]);
if(r!=null&&r[l]instanceof Array){this.a75();this.ez[l].aat(r[l])}}this.e.removeChild(this.oA.e);this.e.removeChild(this.A9.e);
this.e.removeChild(this.uk.e);if(s.HS)this.e.appendChild(this.oA.e);this.e.appendChild(this.A9.e);this.e.appendChild(this.uk.e)}this.aha()};
dh.prototype.aha=function(s,N){var r=this.oA,S=12255232;if(eH.vj())S=eH.GX()?43520:16755200;r.e.setAttribute("style","color:#ffffff; background-color:#"+q.fD(S))};
dh.prototype.ja=function(s){this.a75();var l=this.$g.indexOf(s.currentTarget),N=this.ez[l];if(s.type=="mouseover"&&!W.zS(this.ez[this.aip].e))return;
if(W.zS(N.e))return;s.asU=!0;this.aip=l;for(var l=0;l<dh.data.length;l++)this.ez[l].update(this.BS,this.Ct);
var r=s.target.getBoundingClientRect(),S=new hU(k.E.Y,!0);S.data={d:k.s.xh,mk:N,x:r.left,y:r.top+r.height+2,anI:!0};
this.c(S)};dh.a7I=function(s){var N=cK,r=N.z6,S=N.nG,z=N.nI,A={name:[0,5],items:[{name:[7,0],pj:[r,N.s]},{name:[7,1],pj:[r,N.iw],K:function(Y){return{K:Y!=null&&Y.q!=null}}},{name:[7,2],pj:[S,r,N.$K],K:function(Y){return{K:Y!=null&&Y.q!=null}},Al:!0},{name:[7,8],yL:!0},{name:[7,13],yL:!0,K:function(Y){return{K:Y!=null&&Y.f.length!=0&&!Y.p[Y.f[0]].rect.Nf()}},Al:!0},{name:[7,11],yL:!0,K:function(Y){return{K:Y!=null&&Y.f.length!=0&&!Y.p[Y.f[0]].rect.Nf()}}},{name:[7,3],Al:!0,sub:[{name:[7,9],yL:!0,K:function(Y){return{K:Y!=null&&Y.q!=null}}},{name:[19,3,0],yL:!0,K:function(Y){return{K:Y!=null&&Y.q!=null}}},{name:[7,4],yL:!0,K:function(Y){return{K:Y!=null&&Y.q!=null}}},{name:[7,5],yL:!0,K:function(Y){return{K:Y!=null&&Y.q!=null}}},{name:[7,6],yL:!0,K:function(Y){return{K:Y!=null&&Y.q!=null}},pj:"Shift+F6"}]},{name:[7,10],K:function(Y){return{K:Y!=null&&Y.q!=null}},Al:!0},{name:[6,6,1],K:function(Y){return{K:Y!=null,az:Y!=null&&Y.Y4()!=null}},pj:[N.WB],Al:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],ab:[{O:k.E.gu,M:K.eL.Aq(!0)},{O:k.E.gu,M:K.eL.Aq()},{O:k.E.gu,M:{uU:"inverse"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"crange"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"magiccut"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"redge"}},{sub:[{O:k.E.Y,M:{d:k.s.Pv,ic:"sel_border"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"sel_smoothness"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"sel_expand"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"sel_contract"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"sel_feather"}}]},{O:k.E.Y,M:{d:k.s.HQ,k:K.nM}},{O:k.E.r,k:K.Kn,M:{d:"qmask"}},{O:k.E.gu,M:{uU:"duplicate",wz:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(s){var B=A.items.length-1;A.items.splice(B-2,0,{name:[6,49],pj:[r,N.Ux],Al:!0});A.ab.splice(B-2,0,{O:k.E.gu,M:{uU:"copyToLayer"}});
A.items.splice(B-1,0,{name:[10,16],pj:[z,r,N.Lo]});A.ab.splice(B-1,0,{O:k.E.Y,M:{d:k.s.HQ,k:K.ZB}})}return A};
dh.data=function(){var s=cK,N=s.z6,r=s.nG,S=s.nI,z=function(f){return{K:f!=null&&f.f.length!=0}},A=function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].add.SoLd!=null}},B=[],Y=[],t="none maxx avrg medn minn rang stdv summ vari".split(" "),p=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var l=0;l<t.length;l++){B.push({name:p[l]});Y.push({O:k.E.r,k:K.g$,M:{d:y.BV,zr:t[l]}})}return[{name:[0,0],items:[{name:[5,3],pj:[S,N,s.a2],title:[11,7],yL:!0},{name:[1,0],pj:[N,s.vk],yL:!0},{name:[1,11],yL:!0,K:function(f,a){return{K:f!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],Al:!0,sub:[{name:"From Storage",yL:!0},{name:[1,5],yL:!0},{name:[11,0],yL:!0},{name:["PSD VAR0",[25,0]],yL:!0}]},{name:[1,1],Al:!0,sub:[{name:"PNG",pj:"Imgur.com",K:function(f,a){return{K:f!=null&&a.QU}}},{name:"JPG",pj:"Imgur.com",K:function(f,a){return{K:f!=null&&a.QU}}},{name:"PSD",pj:"Photopea.com",K:function(f,a){return{K:f!=null&&a.QU&&!f.jI}}}]},{name:"Save ...",pj:[N,s.Eq],K:function(f,a){var D=eV.get([1,2]);
if(f){if(f.y4)D+=" ("+eV.get([6,7,1])+")";if(f.jA)D+=" (Google Drive)";if(f.vW)D+=" ("+Storage.list[f.vW[0]][0]+")"}return{K:f!=null&&(f.vW!=null||f.$q!=null&&f.wK=="psd"||f.y4!=null||f.V8!=null&&f.V8.he!=null||f.jA!=null||a.mq.save!=null),Ty:D}}},{name:[1,3],K:function(f,a){return{K:f!=null&&!f.jI&&a.QU}}},{name:["VAR0 VAR1",[1,2],[0,14]],sub:[{name:"PSD to Storage",K:function(f,a){return{K:f!=null&&!f.jI&&a.QU}}},{name:["VAR0 PSD/PSB",[1,2]],yL:!0,K:function(f,a){return{K:f!=null&&!f.jI&&a.QU}}}]},{name:[1,8],sub:function(){var f=hg.ed(0),a=[];
for(var l=0;l<f.length;l++)a.push({name:f[l],pj:"."+f[l].toLowerCase()});a.push({name:[0,14],sub:function(){var f=hg.ed(1),a=[];
for(var l=0;l<f.length;l++)a.push({name:f[l],pj:"."+f[l].toLowerCase()});return a}()});return a}()},{name:[1,4],yL:!0,K:function(f,a){return{K:f!=null}},Al:!0},{name:[1,9],yL:!0,K:function(f,a){return{K:f!=null}}},{name:"Export Color Lookup",yL:!0,K:function(f,a){return{K:f!=null}},Al:!0},{name:[1,14],yL:!0,K:function(f,a){return{K:f!=null}},Al:!0},{name:[1,10]}],ab:[{O:k.E.Y,M:{d:k.s.Pv,ic:"newproject"}},{O:k.E.Y,M:{d:k.s.LO}},{O:k.E.Y,M:{d:k.s.LO,auM:!0}},{sub:[{O:k.E.Y,M:{d:k.s.Pv,ic:"storwindow",uy:0}},{O:k.E.Y,M:{d:k.s.Pv,ic:"open_from_url"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"camera"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"templates"}}]},{sub:[{O:k.E.Y,M:{d:k.s.f5,v_:"png"}},{O:k.E.Y,M:{d:k.s.f5,v_:"jpg"}},{O:k.E.Y,M:{d:k.s.f5,v_:"psd"}}]},{O:k.E.Y,M:{d:k.s.Hh}},{O:k.E.Y,M:{d:k.s.uM}},{sub:[{O:k.E.Y,M:{d:k.s.Pv,ic:"storwindow",uy:1}},{O:k.E.Y,M:{d:k.s.Pv,ic:"savepsb"}}]},{sub:function(){var f=hg.ed(0),a=[];
for(var l=0;l<f.length;l++)a.push({O:k.E.Y,M:{d:k.s.Pv,ic:"saveforweb",v_:l}});a.push({sub:function(){var D=hg.ed(0).length,f=hg.ed(1),a=[];
for(var l=0;l<f.length;l++)a.push({O:k.E.Y,M:{d:k.s.Pv,ic:"saveforweb",v_:D+l}});return a}()});return a}()},{O:k.E.Y,M:{d:k.s.Pv,ic:"saveforweb",v_:4,a0$:!0}},{O:k.E.Y,M:{d:k.s.Pv,ic:"eassets"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"exlut"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"finfo"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],pj:[r,N,s.kx]},{name:[2,1],pj:[N,s.kx],Al:!0},{name:[2,11],pj:[r,N,s.se],Al:!0,yL:!0,K:function(f,a){return{K:e9.ahh(f)&&a.ru!=K.ZB}}},{name:[5,0],pj:[N,s.pC],K:function(f){return{K:f!=null&&f.iS()}}},{name:[5,1],pj:[N,s.p6],K:function(f){return{K:f!=null}}},{name:[5,7],pj:[r,N,s.p6],K:function(f){return{K:f!=null&&f.iS()}}},{name:[5,2],pj:[N,s.n2],K:function(f,a){return{K:W.Bk()||a.ji!=null||a._0!=null||a.axc!=null}}},{name:[2,2],K:function(f){return{K:f!=null&&f.q!=null}},pj:"Delete",Al:!0},{name:[2,3],K:function(f){return{K:f!=null}},yL:!0,pj:[r,s.GY]},{name:[14,9],K:function(f){return{K:f!=null}},yL:!0,Al:!0},{name:[10,48],K:function(f){return{K:f!=null&&f.pu(!1)}}},{name:[10,46],K:function(f){return{K:K.qd.a0v(f)}}},{name:[10,16],pj:[S,N,s.Lo]},{name:[2,4],sub:gW.aix()},{name:[2,10,1]},{name:[2,10,0],Al:!0},{name:[12,87],sub:[{name:[12,62],K:function(f){return{K:f!=null}}},{name:[9,3],K:function(f){return{K:f!=null}}},{name:[10,31],K:function(f){return{K:f!=null&&f.Ly()[1].length!=0}}}]},{name:[1,15],yL:!0},{name:[12,79],yL:!0,pj:[N,s.zt]},{name:[1,13],yL:!0}],ab:[{O:k.E.r,k:K.pI,M:{d:"h_undoredo"}},{O:k.E.r,k:K.pI,M:{d:"h_stepfwd"}},{O:k.E.r,k:K.pI,M:{d:"h_stepbck"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"afw_fade"}},{O:k.E.Y,M:{d:k.s.gU}},{O:k.E.Y,M:{d:k.s.Sy}},{O:k.E.Y,M:{d:k.s.Sy,v3:!0}},{O:k.E.Y,M:{d:k.s.MF}},{O:k.E.gu,M:{uU:"delete"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"fill"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"stroke"}},{O:k.E.Y,M:{d:k.s.HQ,k:K.vN}},{O:k.E.r,k:K.AB,M:{d:"start",Cx:"rigidTransform"}},{O:k.E.Y,M:{d:k.s.HQ,k:K.ZB}},{sub:gW.adH()},{O:k.E.gu,M:{uU:"align",wz:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{O:k.E.r,k:K.g$,M:{d:y.a2g}},{sub:[{O:k.E.Y,M:{d:k.s.Kd,LS:0}},{O:k.E.Y,M:{d:k.s.Kd,LS:1}},{O:k.E.Y,M:{d:k.s.Kd,LS:2}}]},{O:k.E.Y,M:{d:k.s.Pv,ic:"pmanager"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"preferences"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"locstor"}}]},{name:[0,2],items:[{name:[12,36],K:function(f){return{K:f!=null}},Al:!0,sub:[{name:"RGB",K:function(f){if(f==null)return{K:!1};
return{az:f.add.fcmy==null,K:!0}}},{name:"CMYK",K:function(f){if(f==null)return{K:!1};return{az:f.add.fcmy!=null,K:!0}}}]},{name:[3],Al:!0,sub:function(){var f=[];
for(var a in ai.names){f.push({name:ai.names[a],yL:V[a]!=null,pj:ai.keys[a],Al:ai.avV.indexOf(a)!=-1});
if(a=="selc"){f.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],yL:!0,Al:!0});f.push({name:[19,7,0],pj:[N,r,s.tK],K:function(a){return{K:a!=null&&a.pu(!1)}}});
f.push({name:[4,18],yL:!0,K:function(a){return{K:a!=null&&a.pu(!1)}}})}}return f}()},{name:[4,16,0],K:function(f){return{K:f!=null&&f.pu(!1)}}},{name:[4,16,1],K:function(f){return{K:f!=null&&f.pu(!1)}}},{name:[4,16,2],K:function(f){return{K:f!=null&&f.pu(!1)}},Al:!0},{name:[11,11,1],K:function(f){return{K:f!=null&&f.pu(!1)}}},{name:[11,11,0],K:function(f){return{K:f!=null&&f.pu(!1)}},Al:!0},{name:[11,3],yL:!0,pj:[S,N,s.p6]},{name:[11,10],yL:!0,pj:[S,N,s.$K]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],K:function(f){return{K:f!=null&&f.q!=null}}},{name:[11,12,0],K:function(f){return{K:f!=null}},pj:[N,s.b0],yL:!0},{name:[11,12,2],K:function(f){return{K:f!=null}},Al:!0},{name:[2,12],K:function(f){return{K:f!=null&&f.pu(!1)}},yL:!0,Al:!0},{name:"Variables",K:function(f){return f!=null},yL:!0}],ab:[{sub:[{O:k.E.r,k:K.tM,M:{d:"fcmy",h:0}},{O:k.E.r,k:K.tM,M:{d:"fcmy",h:1}}]},{sub:function(){var f=[];
for(var a in ai.names){f.push({O:k.E.r,k:K.du,M:{d:"start",R8:a}});if(a=="selc"){f.push({O:k.E.r,k:K.AB,M:{d:"start",Cx:"adaptCorrect"}});
f.push({O:k.E.gu,M:{uU:"desaturate"}});f.push({O:k.E.r,k:K.du,M:{d:"start",R8:"matc"}})}}return f}()},{O:k.E.gu,M:{uU:"levels",wz:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{O:k.E.gu,M:{uU:"levels",wz:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{O:k.E.gu,M:{uU:"levels",wz:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{O:k.E.Y,M:{d:k.s.Pv,ic:"rcolors"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"vbitmap"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"csize"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"isize"}},{sub:[{O:k.E.gu,M:K.S.s4(!0,90)},{O:k.E.gu,M:K.S.s4(!0,-90)},{O:k.E.gu,M:K.S.s4(!0,-180)},{O:k.E.gu,M:K.S.s4(!1,"Hrzn")},{O:k.E.gu,M:K.S.s4(!1,"Vrtc")}]},{O:k.E.r,k:K.$u,M:{d:"cropbysel",aab:0}},{O:k.E.Y,M:{d:k.s.Pv,ic:"trim"}},{O:k.E.gu,M:{uU:"revealAll",wz:{classID:"RvlA"}}},{O:k.E.r,k:K.du,M:{d:"start",R8:"aply"}},{O:k.E.Y,M:{d:k.s.Pv,ic:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],pj:[r,N,s.a2]},{name:[0,4]},{name:[1,16,0],yL:!0},{name:[1,16,3],yL:!0,Al:!0},{name:[6,49,0],pj:[N,s.Ux]},{name:[6,49,1],pj:[r,N,s.Ux],K:function(f){return{K:f!=null&&f.q!=null&&f.pu(!1)}}}]},{name:[6,0],K:z,pj:[N,s.Ux]},{name:[11,4],K:z},{name:[5,4],K:z,Al:!0},{name:[11,6],Al:!0,K:z,sub:b4.n6(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Al:!0,sub:b4.aeD()},{name:[6,2],sub:[{name:[6,4],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()==null}}},{name:[6,5,0],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()==null}}},{name:[6,5,1],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()==null&&f.q!=null}}},{name:[6,5,2],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()==null&&f.q!=null}}},{name:[6,5,3],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()==null}},Al:!0},{name:[5,4],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()!=null}}},{name:[5,8],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()!=null&&f.pu(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].eg()!=null}}}]},{name:[6,3],sub:[{name:[6,4],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].add.vmsk==null}}},{name:[6,5,0],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].add.vmsk==null}}},{name:"Current Path",K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].add.vmsk==null}},Al:!0},{name:[5,4],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(f){return{K:f!=null&&f.f.length!=0&&f.p[f.f[0]].add.vmsk!=null}}}]},dz.a7E(!0),{name:[6,7,1],Al:!0,sub:[{name:[6,7,0]},{name:[6,36,4],K:A,sub:B},{name:[1,0],K:A,Al:!0},{name:"Turn into JPG"}]},{name:[6,8],K:dz.a6X},{name:[6,34],Al:!0,K:function(f){if(f==null||f.f.length==0)return{K:!1};
var a=f.p[f.f[0]];return{K:a.add.lmfx!=null&&!a.Ob()}}},{name:[6,9],Al:!0,pj:[N,s.ET]},{name:[6,55],Al:!0,sub:[{name:[6,56,0],pj:[r,N,s.t$]},{name:[6,56,1],pj:[N,s.t$]},{name:[6,56,2],pj:[N,s.TZ]},{name:[6,56,3],pj:[r,N,s.TZ]}]},{name:[6,58],Al:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],pj:[N,s.E],K:function(f){var a=f==null?0:f.f.length;
return{K:a!=0&&(a!=1||f.f[0]!=0),Ty:eV.get(a>1||a==1&&f.p[f.f[0]].Ob()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],ab:[{sub:[{O:k.E.r,k:K.g$,M:{d:y.Jj}},{O:k.E.r,k:K.g$,M:{d:y.ly}},{O:k.E.Y,M:{d:k.s.Pv,ic:"newartb",uy:0}},{O:k.E.Y,M:{d:k.s.Pv,ic:"newartb",uy:1}},{O:k.E.gu,M:{uU:"copyToLayer"}},{O:k.E.gu,M:{uU:"cutToLayer"}}]},{O:k.E.r,k:K.g$,M:{d:y.Wo}},{O:k.E.Y,M:{d:k.s.Pv,ic:"duplinto"}},{O:k.E.r,k:K.g$,M:{d:y.iN}},{sub:b4.Ik(!0)},{sub:[{O:k.E.r,k:K.ib,M:{d:"newfill",fW:0}},{O:k.E.gu,M:K.Oy.ku(1)},{O:k.E.gu,M:K.Oy.ku(2)}]},{sub:b4.tN()},{sub:[{O:k.E.r,k:K.g$,M:{d:y.Ed,uy:"RvlA"}},{O:k.E.r,k:K.g$,M:{d:y.Ed,uy:"HdAl"}},{O:k.E.r,k:K.g$,M:{d:y.Ed,uy:"RvlS"}},{O:k.E.r,k:K.g$,M:{d:y.Ed,uy:"HdSl"}},{O:k.E.r,k:K.g$,M:{d:y.Ed,uy:"Trns"}},{O:k.E.r,k:K.g$,M:{d:y.lH}},{O:k.E.r,k:K.g$,M:{d:y._o}},{O:k.E.r,k:K.g$,M:{d:y.so}}]},{sub:[{O:k.E.r,k:K.g$,M:{d:y.OY,acY:!1}},{O:k.E.r,k:K.g$,M:{d:y.OY,acY:!0}},{O:k.E.r,k:K.g$,M:{d:y.OY,aiZ:!0}},{O:k.E.r,k:K.g$,M:{d:y.$G}},{O:k.E.r,k:K.g$,M:{d:y.SM}}]},{O:k.E.r,k:K.g$,M:{d:y.DM}},{sub:[{O:k.E.gu,M:{uU:"newPlacedLayer"}},{sub:Y},{O:k.E.gu,M:{uU:"placedLayerEditContents",wz:{classID:"placedLayerEditContents"}}},{O:k.E.r,k:K.g$,M:{d:y.a2N}}]},{O:k.E.gu,M:{uU:"rasterizeLayer",wz:{classID:"rasterizeLayer",null:dv.kY("Lyr",!0)}}},{O:k.E.r,k:K.g$,M:{d:y.bd}},{O:k.E.r,k:K.g$,M:{d:y.zK}},{sub:[{O:k.E.r,k:K.g$,M:{d:y.Qv,Xy:0}},{O:k.E.r,k:K.g$,M:{d:y.Qv,Xy:1}},{O:k.E.r,k:K.g$,M:{d:y.Qv,Xy:2}},{O:k.E.r,k:K.g$,M:{d:y.Qv,Xy:3}}]},{sub:[{O:k.E.r,k:K.g$,M:{d:y.z8,Xy:"makeframes"}},{O:k.E.r,k:K.g$,M:{d:y.z8,Xy:"unmakeframes"}},{O:k.E.r,k:K.g$,M:{d:y.z8,Xy:"merge"}}]},{O:k.E.gu,M:{uU:"mergeLayersNew",wz:{__name:"Merge Layers",classID:"Mrg2"}}},{O:k.E.gu,M:{uU:"flattenImage"}},{O:k.E.r,k:K.AB,M:{d:"start",Cx:"defr"}}]},dh.a7I(!1),function(){var f={name:[0,6],items:[{name:[24,18,4],pj:[S,N,s.se],Al:!0}],ab:[{O:k.E.r,k:K.AB,M:{d:"applylast"}}]};
for(var l=0;l<hT.gF.length;l++){var a=hT.gF[l];if(a.SR!=null){f.items.push({name:hT.names[a.SR],yL:!0,Al:a.Al});
f.ab.push({O:k.E.r,k:K.AB,M:{d:"start",Cx:a.SR}});continue}var D={name:a.v8,sub:[]};f.items.push(D);
var c={sub:[]};f.ab.push(c);for(var J=0;J<a.dA.length;J++){var Z={name:hT.names[a.dA[J]],yL:hT.yS(a.dA[J])!=null};
D.sub.push(Z);var Q={O:k.E.r,k:K.AB,M:{d:"start",Cx:a.dA[J]}};c.sub.push(Q)}}return f}(),{name:[0,7],items:[{name:[8,0],pj:[N,s.TF]},{name:[8,1],pj:[N,s.iQ]},{name:[20,3],pj:[N,s.b2]},{name:[20,2],pj:[N,s.xu],Al:!0},{name:"Screen Mode",Al:!0,sub:[{name:"Fullscreen",K:function(f,a){return{az:document.fullscreenElement!=null}},Al:!0},{name:"Standard",K:function(f,a){return{az:a.Vb==0}}},{name:"Menu Bar and Canvas",K:function(f,a){return{az:a.Vb==1}}}]},{name:[8,13],pj:[N,s.za],K:function(f,a){return{az:a.R1}}},{name:[8,12],Al:!0,sub:[{name:[17,2],K:function(f,a){return{K:a.R1,az:a.Hl.X5}}},{name:[8,9],K:function(f,a){return{K:a.R1,az:a.Hl.qI}}},{name:[8,2],K:function(f,a){return{K:a.R1,az:a.Hl.K0}},pj:[N,s.y3]},{name:[8,4],K:function(f,a){return{K:a.R1,az:a.Hl.fl}},pj:[N,s.jx]},{name:[8,8],K:function(f,a){return{K:a.R1,az:a.Hl.Yo}}},{name:[8,11,0],K:function(f,a){return{K:a.R1,az:a.Hl.DF}}}]},{name:[8,3],K:function(f,a){return{az:a.xA}},pj:[N,s.tZ],Al:!0},{name:[8,5],K:function(f,a){return{az:a.yE}}},{name:[8,6],Al:!0,sub:[{name:[8,2],K:function(f,a){return{az:a.uX[0]}}},{name:[8,4],K:function(f,a){return{az:a.uX[1]}}},{name:[9,1],K:function(f,a){return{az:a.uX[2]}}},{name:[8,11,0],K:function(f,a){return{az:a.uX[3]}}},{name:[8,7],K:function(f,a){return{az:a.uX[4]}}}]},{name:[11,15,2],K:function(f,a){return{K:f!=null,az:f!=null&&f.P4}}},{name:[11,15,0],K:function(f,a){return{K:f!=null}}},{name:[11,14],K:function(f,a){return{K:f!=null}},yL:!0},{name:[11,15,1],K:function(f,a){return{K:f!=null&&f.f.length!=0}},Al:!0},{name:[8,11,2],K:function(f,a){return{K:f!=null&&f.DF.length!=0}}}],ab:[{O:k.E.r,k:K.b_,M:{d:"zoom",p5:!0}},{O:k.E.r,k:K.b_,M:{d:"zoom",p5:!1}},{O:k.E.r,k:K.b_,M:{d:"adapt",h:"fitscr"}},{O:k.E.r,k:K.b_,M:{d:"adapt",h:"pixel"}},{sub:[{O:k.E.Y,M:{d:k.s.wB,pL:!0}},{O:k.E.Y,M:{d:k.s.wB,h:0}},{O:k.E.Y,M:{d:k.s.wB,h:1}},{O:k.E.Y,M:{d:k.s.wB,h:2}}]},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.HI}},{sub:[{O:k.E.Y,M:{d:k.s.Jl,LS:eq.h2}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.dI}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.Ok}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.w7}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.xl}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.el}}]},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.tO}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.a91}},{sub:[{O:k.E.Y,M:{d:k.s.Jl,LS:eq.Er,mx:0}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.Er,mx:1}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.Er,mx:2}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.Er,mx:3}},{O:k.E.Y,M:{d:k.s.Jl,LS:eq.Er,mx:4}}]},{O:k.E.r,k:K.tM,M:{d:"lockguides"}},{O:k.E.r,k:K.tM,M:{d:"gids",eP:[[],[]]}},{O:k.E.Y,M:{d:k.s.Pv,ic:"addguides"}},{O:k.E.r,k:K.tM,M:{d:"gidsFromLayer"}},{O:k.E.r,k:K.f0,M:{d:"deleteAll"}}]},function(){var f={name:[0,8],items:[{name:[0,14],Al:!0,sub:[]}],ab:[{sub:[]}]};
for(var l=0;l<es.Vi.length;l++){var a=es.Vi[l],D=function(){var c=a.mk.Hm;return function(J,Z){return{az:Z.ez.indexOf(parseInt(c))!=-1}}}();
(a.LX?f.items[0].sub:f.items).push({name:a.mk.name,K:D});(a.LX?f.ab[0].sub:f.ab).push({O:k.E.Y,M:{d:k.s.fk,ic:a.mk.Hm}})}return f}(),function(){var f={name:[0,14],items:[],ab:[]},a={name:[0,9],sub:[]};
f.items.push(a);var D={sub:[]};f.ab.push(D);var c=eV.a1Z();for(var l=0;l<c.length;l++){var J=c[l],Z=J.code,Q=eV.aul(Z);
a.sub.push({name:J.name,pj:Z,K:function(M,u){return{az:this.pj==eV.EZ()}}});D.sub.push({O:k.E.Y,M:{d:k.s.Jl,LS:eq.Y_,lang:Q}})}a.sub.push({name:[0,12]});
D.sub.push({O:k.E.Y,M:{d:k.s.TL,link:"https://www.photopea.com/translate/"}});var a={name:[0,15],sub:[]};
f.items.push(a);var D={sub:[]};f.ab.push(D);for(var l=0;l<bP.Vx.length;l++){a.sub.push({name:bP.Vx[l].name,K:function(M,u){return{az:this.name==bP.Vx[u.zR].name}}});
D.sub.push({O:k.E.Y,M:{d:k.s.Jl,LS:eq.wb,zR:l}})}f.items.push({name:[0,17,6],K:function(M,u){return{K:u.Te!=null}}});
f.ab.push({O:k.E.Y,M:{d:k.s.acm}});f.items.push({name:[11,13]});f.ab.push({O:k.E.Y,M:{d:k.s.Pv,ic:"shortcuts"}});
f.items.push({name:[0,16],K:function(M){return{az:d.Bi,K:d.cD}},Al:!0});f.ab.push({O:k.E.Y,M:{d:k.s.a0V}});
f.items.push({name:"",K:function(M,u){return u.HS?{Ty:"About Photopea",K:!0}:{Ty:"",K:!1}}});f.ab.push({O:k.E.Y,M:{d:k.s.Pv,ic:"aboutpp"}});
return f}()]}();function gA(){hz.call(this);this.e=W.z("div","");this.oZ=0;this.vB=0;this.tx=null;this.AT=W.z("div","");
this.AT.setAttribute("style","width:200em; height:100em; position:absolute;");this.KF=[];this.Ac=[];
this.oz={}}gA.prototype=new hz;gA.prototype.HC=function(s){var N=Date.now(),r=[];if(s=="-")r=[new c2,new eD,new b6,new dg,new g$,new e1,new aX,new hj,new hb,new jW,new ff,new d0,new hh,new g2,new gG,new b4,new g7,new aT,new eG,new j6,new jP,new f5,new dW,new fR,new he,new jO,new hK(!1),new hK(!0),new ha(0),new ha(1),new hL,new a6,new fz,new bh,new iL,new jp,new iH,new gE,new aQ,new bN,new bu,new cy,new gm,new aS("border",[7,9],"px"),new aS("smoothness",[19,3,0],"px"),new aS("expand",[7,4],"px"),new aS("contract",[7,5],"px"),new aS("feather",[7,6],"px"),new i8(0,"namewindow",[12,48]),new i8(2,"billto","Bill To"),new i8(1,"cornerradius",[12,94,0],"px",!0,!0),new i8(1,"scaleeffects","Scale Effects","%",!0),new i8(1,"doczoom","Zoom","%",!0),new i8(1,"setFPS","Set FPS","fps",!1)];
else r=[new e9(s.slice(4))];this.adl(r);this.oz[s]=!0};gA.prototype.adl=function(s){var N=this.tx;for(var l=0;
l<s.length;l++){var r=s[l];r.parent=this;this.Ac.push(r);this.od(r);r.N();if(N)r.wy(N,eq.pM);r.W(k.E.Gz,this.Yf,this)}};
gA.prototype.uw=function(s,N){this.oZ=s;this.vB=N;for(var l=0;l<this.Ac.length;l++)this.od(this.Ac[l])};
gA.prototype.N=function(){for(var l=0;l<this.Ac.length;l++)this.Ac[l].N()};gA.prototype.Yk=function(){return this.KF.length==0?null:this.KF[this.KF.length-1]};
gA.prototype.YJ=function(){for(var l=0;l<this.KF.length;l++)if(this.KF[l].YJ())return!0;return!1};gA.prototype.ae$=function(s,N,r,S,z){var A=s.startsWith("afw_"),B=null;
if(!A&&!this.oz["-"])this.HC("-");if(A&&!this.oz[s])this.HC(s);if(typeof s=="object"){B=s;if(!B.auX(k.E.Gz,this.Yf))B.W(k.E.Gz,this.Yf,this);
B.parent=this}else for(var l=0;l<this.Ac.length;l++)if(this.Ac[l].id==s)B=this.Ac[l];if(this.YJ()&&B.YJ()){alert("Finish the current action first");
return}if(!B.iG(N))return;if(this.KF.indexOf(B)!=-1){if(s=="colorpicker")B.sV(N,r,S,z);return}var Y=this.KF.length-1;
if(Y>=0)W.Bc(this.KF[Y].e,"wdisabled");this.e.appendChild(B.e);this.KF.push(B);this.od(B);B.sV(N,r,S,z)};
gA.prototype.od=function(s){var N=this.oZ,r=this.vB,S=s.Pr(N,r),z;if(S!=null){z=S}else{S=new cR(0,0);
z=s.anx();if(z==null){var A=this.KF.indexOf(s)+1;if(N<450||r<450)z=new cR(0,0);else z=new cR(A*150,A*150)}}s.e.style.left=z.x+"px";
s.e.style.top=this.e.offsetTop+z.y+"px";s.uw(this.oZ-S.x*2,this.vB-S.y*2-34)};gA.prototype.wy=function(s,N){this.tx=s;
for(var l=0;l<this.Ac.length;l++)this.Ac[l].wy(s,N)};gA.prototype.Yf=function(s){var N=this.KF.pop();
this.e.removeChild(N.e);var r=this.KF.length-1;if(r>=0)W.$F(this.KF[r].e,"wdisabled");if(this.AT.parentNode==this.e)this.e.removeChild(this.AT)};
window.onload=function(){document.body.appendChild(new dA().e)}}())