(function(){var gU={};gU.a42=function(D,n){var _=t.Ir[t.f1("%|xK")];if(_==null)return"XYP";var b=D.toString(16).slice(0,4),w=b+n+"aQYRDCB";
return _(w).slice(5,17)+b.split("").reverse().join("")};gU.Bs=function(){var D=t.Ir[t.WP("3M"+(t.Rx(26)?"]K":"fa"))];
D=D[t.WP("]["+(!t.Rx(28)?",":"`"))];return Math.floor(D()/1e3)};gU.Rx=function(D){var n=0;for(var k=0;
k<D;k++)n+=Math.random();return n/D<Math.PI/4};gU.WP=function(D){var n="";if(!gU.Rx(28))D+="-3";for(var k=0;
k<D.length;k++){var _=D.charCodeAt(k);if(_<32||126<_)throw"e";n+=String.fromCharCode(32+(_-32+17+3*k)%95)}return n};
gU.f1=function(D){var n="";if(!gU.Rx(28))D+="-1";for(var k=0;k<D.length;k++){var _=D.charCodeAt(k);_-=32;
_+=95e4;_-=17+3*k;_=_%95;n+=String.fromCharCode(32+_)}return n};gU.T9=gU.WP("XP");gU.DU=gU.WP("XYP");
gU.LH=gU.WP("c[Y");gU.a3E=gU.WP("][`");gU.a14=gU.WP("SU_");gU.HR=gU.WP("b^L");gU.abg=gU.WP("61=");gU.YD=gU.WP("Q[M_");
gU.iT=gU.WP("WQJJ");gU.u8=gU.WP("W^NL");gU.a$=gU.WP("[[JJ");gU.G7=gU.WP("^\\NT");gU.aiP=gU.WP("bQUL");
gU.R_=gU.WP("bQWJ");gU.dS=gU.WP("3M]K");gU.afA=gU.WP("<M]N");gU.adS=gU.WP("RXRIN");gU.t7=gU.WP("b`bRH");
gU.$J=gU.WP("fUMZK");gU.aqM=gU.WP("WQRMKT");gU.kU=gU.WP("XR[GPE");gU.ajP=gU.WP("aMWJRM");gU.a2N=gU.WP("bO[OST");
gU.a1l=gU.WP("cM[MHT");gU.a96=gU.WP("^Z5OQE");gU.Ku=gU.WP("aQYRDCB");gU.DG=gU.WP("[[LGWILH");gU.HX=gU.WP("S[L[PEKN");
gU.pJ=gU.WP("aQOKURBL");gU.Ij=gU.WP("aQ\\VRNP?");gU.a2G=gU.WP("XZWKU(1'#");gU.an7=gU.WP("SQLUGE2, ");
gU.alv=gU.WP("]M_OJAQII");gU.DV=gU.WP("bQ]:LMBILH");gU.acd=gU.WP("UU[YW#ECC8");gU.cY=gU.WP("cQaZ&OKN<BE");
gU.rd=gU.WP("P\\YKQD B@@5");gU.Fy=gU.WP("aQVUYE B@@5");gU.KJ=gU.WP("bQ]'WTOC9IE3");gU.amG=gU.WP("XZ\\KUT~?=CC3");
gU.ur=gU.WP("R^NGWE\"F<A6<?");gU.acJ=gU.WP("VQ]+OEJ?EHrGs,");gU.Uk=gU.WP("G95.WTM,<EF3><");gU.zz=gU.WP("PPM+YEKN#=DB06*4");
function dz(D){this.zL={};this.Tj=0;this.dc();if(D!=!0)window.__kb=this}dz.zU=null;dz.prototype.dc=function(){var D=navigator.keyboard;
if(D&&window.top==window.self)D.getLayoutMap().then(function(n){dz.zU=n})};dz.prototype.afG=function(D){var n={shiftKey:dz.CO,altKey:dz.u9,ctrlKey:dz.uH};
for(var _ in n){var b=D[_],w=n[_],i=this.j(w);if(!b&&i){for(var k=0;k<w._G.length;k++)this.b0(w._G[k])}}};
dz.prototype.Hn=function(D){this.Tj++;this.zL[D]=!0};dz.prototype.b0=function(D){this.Tj--;delete this.zL[D];
if(this.Tj<=0||dz.s9(D,dz.Mx))this.reset()};dz.prototype.j=function(D){for(var k=0;k<D._G.length;k++)if(this.zL[D._G[k]])return!0;
return!1};dz.prototype.reset=function(){this.zL={};this.Tj=0};dz.prototype.or=function(){var D=this,n=D.j(dz.CO)?10:1,_=0,b=0;
if(D.j(dz.aU))_=-n;if(D.j(dz.LG))_=n;if(D.j(dz.L3))b=-n;if(D.j(dz.hb))b=n;return new gZ(_,b)};dz.prototype.su=function(){var D=this,n=dz.aY;
for(var k=0;k<10;k++)if(D.j(n[k]))return k;return-1};dz.s9=function(D,n){return n._G.indexOf(D)!=-1};
dz.a0k="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
dz.ah=function(D){var n=D.code;if(n=="")return!1;var _=dz.s9;if(D.altKey&&!D.shiftKey&&!D.ctrlKey){var b=dz.aY.concat([dz.$R,dz.nE,dz.H3,dz.nL]),w=!1;
for(var k=0;k<b.length;k++)if(_(n,b[k]))return!1}return dz.a0k.indexOf(n)==-1||D.shiftKey&&(n=="F5"||n=="F6")};
dz.Pw=function(D){if(typeof D=="string")return D;var n=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(D==null)return"";var _=[];for(var k=0;k<D.length;k++){var b=D[k].Xw?D[k].Xw:D[k];if(n&&D[k].vE)b=D[k].vE;
_.push(b)}if(n||_.length==1)return _.join(" + ");else{var w=_.pop();return _.join("+")+" + "+w}};dz.Fi=function(D){window.__kb.dc();
var n=D.code,_=dz.zU;if(_&&_.get(n)){var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},w=_.get(n).toLowerCase(),i=w.charCodeAt(0);
if(97<=i&&i<=122){var M="Key"+w.toUpperCase();n=M}else if(b[w])n=b[w];return n}var b={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},w=D.key.toLowerCase(),i=w.charCodeAt(0);
if(w.length==1){if(97<=i&&i<=122){var M="Key"+w.toUpperCase();n=M}else if(b[w])n=b[w]}if(w=="control"&&n!="")n="ControlLeft";
return n};dz.AS=0;dz.qg=function(D,n){var _=0;if(Date.now()-dz.AS>1e3){_=n==0?100:n*10}else{if(D%10!=0)D*=10;
_=(D+n)%100}dz.AS=Date.now();return _};dz.a7I={nm:"No Touch",_G:["NoTouch"]};dz.Eb={Xw:"Enter",_G:["Enter","NumpadEnter"]};
dz.CO={Xw:"Shift",vE:"\u21E7",_G:["ShiftLeft","ShiftRight"]};dz.Mx={Xw:"Meta",_G:["MetaLeft","MetaRight","OSLeft","OSRight"]};
dz.uH={Xw:"Ctrl",vE:"\u2318",_G:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
dz.u9={Xw:"Alt",vE:"\u2325",_G:["AltLeft","AltRight"]};dz.a6x={Xw:"CtrlOrAlt",_G:dz.uH._G.concat(dz.u9._G)};
dz.Gt={Xw:"Escape",_G:["Escape"]};dz.FO={Xw:"Space",_G:["Space"]};dz.KP={Xw:"Tab",_G:["Tab"]};dz.aqU={Xw:"Home",_G:["Home"]};
dz.asL={Xw:"End",_G:["End"]};dz.aU={Xw:"Left",_G:["ArrowLeft"]};dz.L3={Xw:"Up",_G:["ArrowUp"]};dz.LG={Xw:"Right",_G:["ArrowRight"]};
dz.hb={Xw:"Down",_G:["ArrowDown"]};dz.$R={Xw:"+",_G:["NumpadAdd","Equal"]};dz.nE={Xw:"-",_G:["NumpadSubtract","Minus"]};
dz.TB={Xw:";",_G:["Semicolon"]};dz.a1v={Xw:"Dead",_G:["Dead"]};dz.amz={Xw:"=",_G:["Equal"]};dz.cw={Xw:"Backspace",_G:["Backspace"]};
dz.$V={Xw:"Delete",_G:["Delete"]};dz.a2Y={Xw:"Backslash",_G:["Backslash","IntlBackslash"]};dz.aiE={Xw:"Slash",_G:["NumpadDivide","Slash"]};
dz.ark={Xw:"Backquote",_G:["Backquote"]};dz.H3={Xw:"[",_G:["BracketLeft"]};dz.nL={Xw:"]",_G:["BracketRight"]};
dz.wB={Xw:".",_G:["Period"]};dz.NS={Xw:",",_G:["Comma"]};dz.ON={Xw:"'",_G:["Quote"]};dz.J={Xw:"A",_G:["KeyA"]};
dz.zb={Xw:"B",_G:["KeyB"]};dz.Ne={Xw:"C",_G:["KeyC"]};dz.vn={Xw:"D",_G:["KeyD"]};dz.E={Xw:"E",_G:["KeyE"]};
dz.ZU={Xw:"F",_G:["KeyF"]};dz.lc={Xw:"G",_G:["KeyG"]};dz.Jq={Xw:"H",_G:["KeyH"]};dz.g_={Xw:"I",_G:["KeyI"]};
dz.Ws={Xw:"J",_G:["KeyJ"]};dz.kS={Xw:"K",_G:["KeyK"]};dz.ue={Xw:"L",_G:["KeyL"]};dz.r0={Xw:"M",_G:["KeyM"]};
dz.wg={Xw:"N",_G:["KeyN"]};dz._4={Xw:"O",_G:["KeyO"]};dz.vF={Xw:"P",_G:["KeyP"]};dz.lk={Xw:"Q",_G:["KeyQ"]};
dz.pk={Xw:"R",_G:["KeyR"]};dz.j9={Xw:"S",_G:["KeyS"]};dz.kz={Xw:"T",_G:["KeyT"]};dz.l7={Xw:"U",_G:["KeyU"]};
dz.r4={Xw:"V",_G:["KeyV"]};dz.Ff={Xw:"W",_G:["KeyW"]};dz.cG={Xw:"X",_G:["KeyX"]};dz.ahl={Xw:"Y",_G:["KeyY"]};
dz.CE={Xw:"Z",_G:["KeyZ"]};dz.$M={Xw:"0",_G:["Numpad0","Digit0"]};dz.iO={Xw:"1",_G:["Numpad1","Digit1"]};
dz.a8_={Xw:"2",_G:["Numpad2","Digit2"]};dz.any={Xw:"3",_G:["Numpad3","Digit3"]};dz.a3a={Xw:"4",_G:["Numpad4","Digit4"]};
dz.aeB={Xw:"5",_G:["Numpad5","Digit5"]};dz.ab3={Xw:"6",_G:["Numpad6","Digit6"]};dz.aeu={Xw:"7",_G:["Numpad7","Digit7"]};
dz.as5={Xw:"8",_G:["Numpad8","Digit8"]};dz.ahC={Xw:"9",_G:["Numpad9","Digit9"]};dz.aY=[dz.$M,dz.iO,dz.a8_,dz.any,dz.a3a,dz.aeB,dz.ab3,dz.aeu,dz.as5,dz.ahC];
dz.asX={Xw:"F1",_G:["F1"]};dz.a9b={Xw:"F2",_G:["F2"]};dz.abZ={Xw:"F3",_G:["F3"]};dz.akQ={Xw:"FF",_G:["F4"]};
dz.h5={Xw:"F5",_G:["F5"]};dz.ag5={Xw:"F6",_G:["F6"]};dz.ae7={Xw:"F7",_G:["F7"]};dz.a0T={Xw:"F8",_G:["F8"]};
dz.a2S={Xw:"F9",_G:["F9"]};dz.a16={Xw:"F10",_G:["F10"]};dz.aaB={Xw:"F11",_G:["F11"]};dz.a3N={Xw:"F12",_G:["F12"]};
function hI(D){ac.call(this);this.d9={};this.rR={};this.acQ=0;this.at9={};this.mD=[];this.arP=0;this.a$=D;
hI.DH=this}hI.aaS=function(D,n){var k=0,_=hI.cE;while(k<_.length){if((n>>>k&1)==1)break;k++}if(n==0||_[k][1]==""){if((n&15)!=0&&hI.YJ(D,[33,126])>.7)k=0;
else if(n==0)k=0;else{k=0}}return _[k][1]};hI.JI=120;hI.uc=20;hI.cols=16;hI.gZ=function(D){var n=D.name.postScriptName;
if(n==null)return null;return n.replace(/ /g,"-")};hI.zn=function(D){var n=D.name,_=n.typoFamilyName?n.typoFamilyName:n.fontFamily,b=n.typoSubfamilyName?n.typoSubfamilyName:n.fontSubfamily;
if(b==null)b="Regular";var w=hI.abb,i=_.toLowerCase();for(var k=0;k<w.length;k++){if(w[k]=="roman")continue;
if(i.endsWith(" "+w[k])||i.endsWith("-"+w[k])){var M=_.length-w[k].length,N=_.slice(M);_=_.slice(0,M-1);
if(N!=""){if(b=="Regular"||b==_+" Regular")b=N;else b=N+" "+b}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var k=0;k<a.length;k++)if(_.startsWith(a[k])){var N=_.slice(a[k].length);_=a[k];if(N.startsWith(" ")||N.startsWith("-"))N=N.slice(1);
if(N!=""){if(b=="Regular")b=N;else b=N+" "+b}break}var o={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},U=o[hI.gZ(D)];
if(U)b=U;return[_,b]};hI.prototype.as1=function(D){var n=this.SZ();for(var _ in n)if(n[_][0]==D)this.pc(_)};
hI.prototype.pc=function(D,n){if(this.d9[D])return this.d9[D];if(this.rR[D])return null;var _=null,b=this.SZ();
if(b[D]!=null)_=b[D][5];if(_==null){var w=hI.Ku[D];if(w==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),M=D.toLowerCase(),N=0;
if(M.indexOf("sans")!=-1)N=0;else if(M.indexOf("serif")!=-1)N=4;var a=M.indexOf("bold")!=-1||M.indexOf("-black")!=-1,o=M.indexOf("italic")!=-1||M.indexOf("oblique")!=-1||M.endsWith("-it");
if(a&&o)N+=3;else if(o)N+=2;else if(a)N+=1;w=i[N]}if(n!=null&&n>128)w=this.ZG(n,w);if(this.at9[D]==null){this.at9[D]=1;
var U=Date.now()-this.acQ>2e3?2e3:0;this.acQ=Date.now();alert(D+" \u27A1 "+w,U)}return this.pc(w,n)}this.rR[D]="a";
this.a$(_)};hI.prototype.ZG=function(D,n,_){var b=this.d9[n];if(b&&Typr.U.codeToGlyph(b,D)!=0)return n;
var w=this.SZ(),i=hI.ald(D),M=i[0];if(w[n]&&(w[n][3]&M)==0){if(_)for(var k=0;k<_.length;k++){var N=_[k].Name,a=w[N];
if(a&&(a[3]&M)!=0)return N}var N=hI.cE[i[1]][4];if(w[N])return N}return n};hI.ald=function(D){var n=hI.cE,_=[0];
for(var k=0;k<n.length;k++){var b=n[k][2];for(var w=0;w<b.length;w+=2)if(b[w]<=D&&D<=b[w+1]){_[0]+=1<<k;
_.push(k)}}if(_.length==1)_.push(0);return _};hI.prototype.aoq=function(){var D=this.mD,n=D[0],_=D.length-1;
alert(io.get([22,6,0])+" "+n+(_==0?"":", ... ("+_+")")+" "+io.get([23,0])+".",1500);this.mD=[]};hI.prototype.aeb=function(D,n){if(n!=!0){this.mD.push(D.name.fullName);
clearTimeout(this.arP);this.arP=setTimeout(this.aoq.bind(this),300)}var _=hI.gZ(D),b=this.SZ(),w=b[_],i=hI.asD(D);
if(w==null){var M=document.createElement("canvas"),N=M.getContext("2d");M.width=hI.JI;M.height=hI.uc;
var a=hI.uc*1.2/D.head.unitsPerEm;N.translate(4,hI.uc*.9);N.scale(a,-a);N.fillStyle="#000000";var o=Typr.U.shape(D,hI.aaS(D,i[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(D,o),N);N.fill();i.a8F=M.toDataURL();this.XF(i)}delete this.rR[_];
this.d9[_]=D};hI.amO=function(){var D=hI.cE,n=[];for(var k=0;k<D.length;k++)n.push(D[k][0]);return n};
hI.cE=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
hI.asD=function(D,n,_){var b=D.name,a=0;if(hI.gZ(D)==null){console.log(D);throw"No postScriptName!"}var w=hI.cE,i=[];
for(var k=0;k<w.length;k++){var M=w[k][2],N=w[k][3];i[k]=hI.YJ(D,M)>N?1:0}for(var k=0;k<i.length;k++)a+=i[k]<<k;
var o=hI.zn(D);return[o[0],o[1],hI.gZ(D),a,_,n]};hI.YJ=function(D,n){var _=0,b=0;for(var w=0;w<n.length;
w+=2){for(var i=n[w];i<=n[w+1];i++){var M=Typr.U.codeToGlyph(D,i);if(M==0)b++;else _++}}return _/(_+b)};
hI.ajK=function(D,n){if(D[2]<n[2])return-1;if(D[2]>n[2])return 1;return 0};hI.ap7=function(D,n){if(D[5]=="fs/"+D[2]+".otf")D[5]="";
else if(D[5]=="gf/"+D[2]+".otf")D[5]="a";if(D[2]==(D[0]+"-"+D[1]).replace(/\s/g,"")){D[2]=""}else if(D[2]==D[0].replace(/\s/g,"")){D[2]="a"}if(n){if(D[0]==n[0])D[0]="";
if(D[1]==n[1])D[1]="";if(D[3]==n[3])D[3]="";if(D[4]==n[4])D[4]=""}return D.join(",")};hI.adR=function(D,n){D=D.split(",");
if(D[0]=="")D[0]=n[0];if(D[1]=="")D[1]=n[1];if(D[3]=="")D[3]=n[3];else D[3]=parseInt(D[3]);if(D[4]=="")D[4]=n[4];
else D[4]=parseInt(D[4]);if(D[2]=="")D[2]=(D[0]+"-"+D[1]).replace(/\s/g,"");else if(D[2]=="a")D[2]=D[0].replace(/\s/g,"");
if(D[5]=="")D[5]="fs/"+D[2]+".otf";else if(D[5]=="a")D[5]="gf/"+D[2]+".otf";return D};hI.Ku={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
hI.prototype.SZ=function(){if(FNTS.map==null){var D=FNTS.list,n=[];for(var k=0;k<D.length;k++){n[k]=hI.adR(D[k],n[k-1]);
n[k].gH=k;this.XF(n[k])}}return FNTS.map};hI.prototype.XF=function(D){var n=D[0],_=D[1],b=D[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[D[2]]=D;if(FNTS.mapFS==null)FNTS.mapFS={};var w=FNTS.mapFS[n+"---"+_];FNTS.mapFS[n+"---"+_]=D;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[n];if(i==null)i=FNTS.mapSub[n]=[];var M=i.indexOf(_);
if(M==-1)i.push(_);else i[M]=_};hI.a1c=function(D,n){return hI._J(D)-hI._J(n)};hI._J=function(D){D=D.toLowerCase();
var n=hI.ar5(D)+(hI.asm(D)<<1);if(D.indexOf("cond")==-1)n+=1<<25;return n};hI.ar5=function(D){return D.indexOf("italic")!=-1||D.indexOf("oblique")!=-1?1:0};
hI.abb="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
hI.akt=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
hI.asm=function(D){var n=hI.akt,_=-1,b=-1;for(var k=0;k<n.length;k++){var w=n[k];if(w instanceof Array)for(var i=0;
i<w.length;i++){var M=w[i];if(D.indexOf(M)!=-1&&(_==-1||b<M.length)){_=k;b=M.length}}else if(D.indexOf(w)!=-1&&(_==-1||b<w.length)){_=k;
b=w.length}}if(_==-1)_=8;return _};hI.rx=function(D,n){var _=1e9,b=null,w=hI._J(n);for(var k=0;k<D.length;
k++){var i=Math.abs(hI._J(D[k])-w);if(i<_){_=i;b=D[k]}}return b};hI.prototype.Ac=function(D,n){this.SZ();
return FNTS.mapFS[D+"---"+n]};hI.prototype.KG=function(D){this.SZ();return FNTS.mapSub[D]};hI.prototype.acy=function(){this.SZ();
return FNTS.mapSub};var bJ={wG:0,iA:null,UQ:null,zH:null,hR:null,Qn:null,ze:!0,e8:0,am:!1};bJ.event=function(D){var n=new XMLHttpRequest;
n.open("GET","/papi/event.php?id="+D+"&rnd="+Math.random());n.send()};bJ.xA=function(){var D=t.Rx(24)?" ":"",n=t.Ir[t.f1("Uu,"+D)];
n=n[t.f1(D+"$/")];return bJ.JG()!=null&&bJ.JG()[t.WP("_^NSLUJ")]*50>n()/20};bJ.xU=function(){return bJ.aaD()!=null};
bJ.JG=function(){return bJ.Qn};bJ.zJ=function(D){window.addEventListener("message",bJ.a32,!1);setInterval(bJ.Jx,5e3);
if(bJ.xU()){bJ.iA=D;bJ.wv()}else setTimeout(D,1)};bJ.Jx=function(){if(bJ.xU()&&bJ.am){bJ.Zx(bJ.XU());
bJ.am=!1}};bJ.N$=function(D){bJ.iA=D;var n="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
bJ.zH=window.open(n,"_blank")};bJ.Vc=function(){localStorage.removeItem(bJ.wG+"_uid");localStorage.removeItem(bJ.wG+"_provider");
localStorage.removeItem(bJ.wG+"_token");bJ.Qn=null};bJ.a32=function(D){if(D.data instanceof ArrayBuffer||D.data instanceof Object)return;
if(D.data.charAt(0)!="{")return;var n=JSON.parse(D.data);if(n.prms==null)return;var _=n.prms.split(",");
if(_[0]=="papi_logged_in"){localStorage[bJ.wG+"_uid"]=_[1];bJ.v8(_[2]);localStorage[bJ.wG+"_provider"]=_[3];
bJ.zH.close();bJ.wv()}if(_[0]=="payment_complete"){bJ.hR.close();bJ.wv()}};bJ.aaD=function(){if(!navigator.onLine){bJ.Vc()}var D=localStorage[bJ.wG+"_token"];
if(D!=null&&Date.now()*.001+10<parseInt(D.split("-")[0]))return D;return null};bJ.v8=function(D){var n=localStorage[bJ.wG+"_token"];
if(n!=null&&parseInt(D.split("-")[0])<parseInt(n.split("-")[0]))return;localStorage[bJ.wG+"_token"]=D;
clearTimeout(bJ.e8);bJ.e8=setTimeout(bJ.a9l,Math.min(1e9,parseInt(D.split("-")[0])*1e3-Date.now()-20*1e3))};
bJ.a9l=function(){console.log("a",navigator.onLine);if(!navigator.onLine)throw"a";var D=new XMLHttpRequest;
D.open("POST","https://www.photopea.com/papi/record_new.php",!0);D.onload=bJ.ajI;var n=bJ.HI(0)+"&read=2";
D.setRequestHeader("Content-type","application/x-www-form-urlencoded");D.send(n)};bJ.wv=function(){console.log("b",navigator.onLine);
if(!navigator.onLine)throw"b";var D=new XMLHttpRequest;D.open("POST","https://www.photopea.com/papi/record_new.php",!0);
D.onload=bJ.a6i;var n=bJ.HI(0)+"&read=1";D.setRequestHeader("Content-type","application/x-www-form-urlencoded");
D.send(n)};bJ.Zx=function(D){console.log("c",navigator.onLine);if(!navigator.onLine)throw"c";var n=new XMLHttpRequest;
n.open("POST","https://www.photopea.com/papi/record_new.php",!0);n.onload=bJ.a4q;var _=bJ.HI(0)+"&read=0&score="+(D.tpl?1:0)+"&spublic="+bJ.ze+"&record="+encodeURIComponent(JSON.stringify(D));
n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.send(_)};bJ.a6i=function(D){var n=JSON.parse(D.target.response);
if(n.error){}else{bJ.Qn=n.user;var _=bJ.XU(),b=n.record;if(n.record){bJ.ze=n.spublic;bJ.BN(b)}else if(_)bJ.Zx(_)}bJ.v8(n.token);
if(bJ.iA){bJ.iA();bJ.iA=null}if(bJ.UQ){bJ.UQ();bJ.UQ=null}};bJ.ajI=function(D){var n=JSON.parse(D.target.response);
bJ.v8(n.token)};bJ.a4q=function(D){var n=JSON.parse(D.target.response);bJ.v8(n.token);if(bJ.UQ)bJ.wv()};
bJ.HI=function(D){return"app="+D+"&uid="+localStorage[bJ.wG+"_uid"]+"&token="+localStorage[bJ.wG+"_token"]};
bJ.sk=function(){return bJ.XU()};bJ.vX=function(D,n){bJ.BN(D);bJ.am=!0;if(n){bJ.UQ=n;bJ.Jx()}};bJ.XU=function(){var D=localStorage[bJ.wG+"_stateLocal"],n;
if(D==null)return null;try{n=JSON.parse(D)}catch(io){return null}return n};bJ.BN=function(D){var n=JSON.stringify(D);
localStorage[bJ.wG+"_stateLocal"]=n};bJ.order=function(D,n,_){bJ.iA=_;var b="https://www.photopea.com/papi/order.php?ptype="+n+"&param="+D+"&uid="+localStorage[bJ.wG+"_uid"]+"&token="+localStorage[bJ.wG+"_token"];
bJ.hR=window.open(b,"_blank")};bJ.a2P=function(D,n){bJ.iA=n;var _="https://www.photopea.com/papi/insertKey.php?key="+D+"&uid="+localStorage[bJ.wG+"_uid"]+"&token="+localStorage[bJ.wG+"_token"];
bJ.hR=window.open(_,"_blank")};var io={};io.rn=0;io.mu={};io.E$=function(D){var n=LNG.tables,_=n[D];
if(_==null)_=n[0];if(typeof _=="string"){_=n[D]=io.l6(_)}return _};io.l6=function(D){var n=[],_=0,b=0,w=[],i=D.length;
while(b!=i){var M=D[b];if(M=="["){n.push(w);w=[];b=_=b+1}else if(M=="]"){w.push(_==b?null:D.substring(_,b));
var N=w;w=n.pop();w.push(N);b=_=b+1}else if(M==";"){if(D[b-1]!="]")w.push(_==b?null:D.substring(_,b));
b=_=b+1}else b++}return w};io.get=function(D){if(typeof D=="string")return D;var n=typeof D[0];if(n=="number"){for(var k=1;
k<D.length;k++)if(typeof D[k]!="number"){console.log(D);throw"e"}return io.aql(D)}var _=io.get(D[0]);
for(var k=1;k<D.length;k++){var b=io.get(D[k]),w=_.indexOf("VAR"+(k-1));_=_.slice(0,w)+b+_.slice(w+4)}return _};
io.aql=function(D){var n=JSON.stringify(D);if(io.mu[n]!=null)return io.mu[n];var _=io.E$(0),b=io.E$(io.rn),w=io.A3(D,b);
if(w==null)w=io.A3(D,_);return w};io.A3=function(D,n){for(var k=0;k<D.length;k++){n=n[D[k]];if(n==null)return null;
else if(typeof n=="string")break}if(n instanceof Array)n=n[0];return n.split("::")[0]};io.atD=function(){var D=function(_,b){var w=_.code,i=b.code;
if(w=="en")return-1;if(i=="en")return 1;var M=navigator.languages,N=M.indexOf(w)!=-1,a=M.indexOf(i)!=-1;
if(N&&a)return w>i?1:-1;if(N)return-1;if(a)return 1;return w>i?1:-1},n=LNG.langs.slice(0);n.sort(D);
return n};io.Ly=function(D,n){io.rn=D;if(LNG.tables[D])n();else{var _=new XMLHttpRequest;_.open("GET","code/lang/"+D+".js");
_.onreadystatechange=function(){LNG.tables[D]=_.responseText;n()};_.send()}};io.BO=function(D,n){for(var _=0;
_<2;_++){var b=!1;for(var k=0;k<LNG.langs.length;k++)if(LNG.langs[k].code==D){io.Ly(k,n);b=!0}if(b)break;
D=D.split("-")[0]}};io.x0=function(){return LNG.langs[io.rn].code};io.ajq=function(D){for(var k=0;k<D.length;
k+=2)if(D[k+1].indexOf(">")==-1)io.mu[JSON.stringify(D[k])]=D[k+1]};io.VL=function(D){var n=-1,_=LNG.langs;
for(var k=0;k<_.length;k++)if(_[k].code==D)n=k;return n};var fU={CH:!1,GT:!1,cy:!1};fU.VZ=function(){return t.Ir[gU.LH]!=t.Ir[gU.aiP]};
fU.QC=function(){var D=t.Ir[gU.HX],n=D[gU.YD],_=0,b=gU.KJ,w=t.WP("PP\\KQSB"),i=t.WP("Y_5UDDB>idge"),M=D[gU.ur](gU.a14);
M[b](gU.T9,w);M[b](gU.t7,t.WP("fUMZKyqifDIhJ0*+&$-OG?<y~>"));n[gU.rd](M);M=D[gU.acJ](w);if(M==null){_=2}else{if(!n[t.WP("R[WZDIKM")](M)){_=3}else if(Math.round(M[t.WP("VQ](RUK>@B8p71*03m}x'")]()[gU.$J]-500)>5){_=4}n[gU.Fy](M)}if(fU.GT)_=5;
if(fU.cy)_=6;return _};fU.asK=function(D){var n=t.f1("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),_={method:"HEAD",mode:"no-cors"},b=new Request(n,_);
fetch(b).then(function(w){return w}).then(function(w){var i=t.f1("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),b=new Request(i,_);
fetch(b).then(function(w){return w}).then(function(w){D(!1)}).catch(function(M){fU.GT=!0;console.clear();
D(!0)})}).catch(function(w){fU.GT=!0;console.clear();D(!0)})};fU.a9Q=function(){var D=t.WP("UU[YW#ECC8"),n=t.WP("VQ](RUK>@B8p71*03m}x'"),_=t.WP("WQRMKT"),b=this.af6[D][n]();
if(b[_]<4){fU.cy=!0;this.afB(!0)}};fU.amZ=function(){var D=t.Ir._cwY,n=t.Ir[gU.DV],_="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEk&<3&)0w zx!siZaaRWNJbAAMbSC377&&>k!%'~|ng1",b=String.fromCharCode(32);
D(t.WP(_)+b+b+fU.QC());if(!bJ.xA())n(fU.amZ,Math.round(Math.PI*1e4))};fU.QB=function(D){var n=t.Ir[gU.HX],_=n[gU.ur](D[0]);
for(var b in D[1]){if(b=="txt")_[gU.cY]=D[1][b];else _[gU.KJ](b,D[1][b])}return _};fU.auG=function(D,n,_,b,w){t.hz(_);
var i=t.Ir[gU.HX],M=t.f1(" u.$%\"86<"),N=t.f1("!#c$,&"),a=t.Ir[M][N],o=!1;if(!fU.VZ()&&!fU.QC()&&a&&D*n>300*300){var U=i[t.WP("VQ]+OEJ?EHDoD{&)l|&z")](gU.iT)[0],V=JSON.parse(t.f1("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var k=0;k<V.length;k++){var c=fU.QB(V[V.length-1-k]);U[gU.amG](c,U[gU.ak4])}var E=t.f1("p}&$2a(:"),A=t.f1("'#!}i0%+"),Q=t.f1("ps,}$\"40");
t.Ir.___ggo=function(){t.Ir[Q](gU.zz,2,function(u,m){if(!t.Ir[E]){t.Ir[E]=!0;var x=fU.a9u.bind({LJ:_,a1B:w,head:U,Rw:n});
x()}})}}else{var J=[t.WP("XYPtSP<N8@=[;6,")];if(o)J=[t.f1("z\"~I5062W=>:")];for(var k=0;k<J.length;k++){var L=i[gU.ur](gU.DU);
L[gU.KJ](gU.t7,t.WP("Ra[YRRvJF=?B0:_"));L[gU.KJ](gU.HR,J[k]);if(o){var P=i[gU.ur]("a");P[gU.KJ](gU.u8,t.f1("@C/25N4/9A?C;:iBQRvU]Sg"));
P[gU.KJ](gU.a1l,t.f1("pv${,,"));P[gU.rd](L);_[gU.rd](P)}else{L[gU.zz](gU.adS,b,!1);_[gU.rd](L)}}}};fU.IC=function(D){var n=2;
if(D>=3*270+30)n=3;if(D>=4*270+30)n=4;return n};fU.a9u=function(){var D=gU.rd,n=gU.KJ,_=gU.zz,b=gU.Ku,w=gU.t7,i=gU.HR,M=t.WP("P_bTF"),N=gU.cY,a=gU.kU,o=t.Ir[gU.HX],U=gU.ur,V=gU.a2N,c=JSON.parse(t.f1("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),E=t.Ir,A=-1,Q=E[t.f1("f#!}f")],J=t.f1("xy'"),L=t.f1("TU"),P=t.f1("Vi"),I=0;
if(Q&&Q[J]){var u=Q[J];if(u==P)A=0;if(u==L)A=1}var m=A==-1?null:fU.QB(c[A]),x=this.LJ,v=this.a1B,W=this.head,Z=this.Rw,r=t.f1("~u*\"'/P)9ADBCrlnR]"),X=[.1,0,.9],$=Math.random();
while(X[I]<$&&I<X.length-1){$-=X[I];I++}if(I==0){console.log(0);if(v==1){var T=t.f1("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),e=T.split(","),F=o[U](a);
for(var k=0;k<e.length;k+=2)F[n](e[k+0],e[k+1]);F[n](w,t.WP("\\M[MLNi<FHE=8aVQ/4"));x[D](F);if(!fU.CH){fU.CH=!0;
var y=t.f1("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),h=o[U](V);
h[N]=y;W[D](h)}}else if(v==2){var Y=fU.IC(Z);if(!fU.CH){fU.CH=!0;var T=t.f1("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),e=T.split(","),y=t.f1("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var K=0;K<Y;K++){var F=o[U](a);for(var k=0;k<e.length;k+=2)F[n](e[k+0],e[k+1]);F[n](w,r);x[D](F);
var h=o[U](V);h[N]=y;x[D](h)}}}}else if(I==1){console.log(1);if(v==1){var z=o[U](t.f1("u}."));z[n](w,r);
var f=o[U](t.f1("u}."));z[D](f);f[n](t.f1("zx"),t.f1("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));f[n](t.f1("t!x.1"),t.f1("pu(y~1)?).4"));
var y=t.f1("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),h=o[U](V);
h[N]=y;f[D](h);x[D](z)}else if(v==2){var Y=fU.IC(Z);for(var k=0;k<Y;k++){var z=o[U](t.f1("u}."));z[n](w,r);
var f=o[U](t.f1("u}."));z[D](f);f[n](t.f1("zx"),t.f1("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));f[n](t.f1("t!x.1"),t.f1("pu(y~1)?).4"));
var y=t.f1("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),h=o[U](V);
h[N]=y;f[D](h);x[D](z)}}if(!fU.CH){fU.CH=!0;var y=t.f1("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),h=o[U](V);
h[n](t.f1("uu,{J$*(=F>6"),t.f1("wu$.#"));h[N]=y;W[D](h)}}else{console.log(2);var s=o[U](V);s.setAttribute(i,t.f1("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
W[D](s);var l=JSON.parse(t.f1("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),g=[l[0]];
if(v==2)g=l.slice(1,1+fU.IC(Z));for(var k=0;k<g.length;k++){var f=o[U](t.WP("SU_"));f[n](t.WP("XP"),g[k]);
f[n](w,r);x[D](f)}}if(m)x[D](m)};var gm={IR:-2,oP:{expires_at:0},$f:[]};gm.ps=function(D){if(D)gm.$f.splice(0,0,D);
if(gm.IR==-2){gm.IR=-1;var n=document.createElement("script");n.src="//apis.google.com/js/client.js";
document.body.appendChild(n);n.onload=function(_){setTimeout(function(){gm.IR=0;gm.ps()},100)}}if(gm.IR==-1)return;
if(gm.IR==1)return;if(gm.oP.expires_at>Date.now()*.001+30){while(gm.$f.length>0)gm.$f.pop()()}else{if(gm.IR==0)gm.IR=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:gm.IR==2?!1:!0},gm.ajO)}};
gm.ajO=function(D){if(D&&!D.error){gm.oP=D;gm.IR=!1;gm.ps()}else if(gm.IR==1){gm.IR=2;gm.ps()}else alert("Error: "+D.error)};
gm.yX=function(){return"access_token="+gm.oP.access_token+"&token_type="+gm.oP.token_type};gm._Z=function(){return gm.oP.token_type+" "+gm.oP.access_token};
function gZ(D,n){if(!D)D=0;if(!n)n=0;this.x=D;this.y=n}gZ.prototype.add=function(D){return new gZ(this.x+D.x,this.y+D.y)};
gZ.prototype.clone=function(){return new gZ(this.x,this.y)};gZ.prototype.$U=function(D){this.x=D.x;this.y=D.y};
gZ.prototype.l8=function(D){return this.x==D.x&&this.y==D.y};gZ.prototype.normalize=function(D){var n=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=D/n;this.y*=D/n};gZ.prototype.offset=function(D,n){this.x+=D;this.y+=n};gZ.prototype.bq=function(D,n){this.x=D;
this.y=n};gZ.prototype.mG=function(D){return new gZ(this.x-D.x,this.y-D.y)};gZ._e=function(D,n){return gZ.a8E(D.x,D.y,n.x,n.y)};
gZ.da=function(D,n,_){return new gZ(D.x+_*(n.x-D.x),D.y+_*(n.y-D.y))};gZ.a4W=function(D,n){return new gZ(D*Math.cos(n),D*Math.sin(n))};
gZ.a8E=function(D,n,_,b){return Math.sqrt((_-D)*(_-D)+(b-n)*(b-n))};gZ.hm={};gZ.sf={};gZ.hm.create=function(){var D=new Float32Array(4);
return D};gZ.sf.create=function(D){var n=new Float32Array(16);n[0]=n[5]=n[10]=n[15]=1;if(D)gZ.sf.set(D,n);
return n};gZ.hm.add=function(D,n,_){_[0]=D[0]+n[0];_[1]=D[1]+n[1];_[2]=D[2]+n[2];_[3]=D[3]+n[3]};gZ.hm.set=function(D,n){n[0]=D[0];
n[1]=D[1];n[2]=D[2];n[3]=D[3]};gZ.sf.set=function(D,n){n[0]=D[0];n[1]=D[1];n[2]=D[2];n[3]=D[3];n[4]=D[4];
n[5]=D[5];n[6]=D[6];n[7]=D[7];n[8]=D[8];n[9]=D[9];n[10]=D[10];n[11]=D[11];n[12]=D[12];n[13]=D[13];n[14]=D[14];
n[15]=D[15]};gZ.sf.multiply=function(D,n,_){var b=D[0],w=D[1],i=D[2],M=D[3],N=D[4],a=D[5],o=D[6],U=D[7],V=D[8],c=D[9],E=D[10],A=D[11],Q=D[12],J=D[13],L=D[14],P=D[15],u=n[0],m=n[1],x=n[2],v=n[3];
_[0]=u*b+m*N+x*V+v*Q;_[1]=u*w+m*a+x*c+v*J;_[2]=u*i+m*o+x*E+v*L;_[3]=u*M+m*U+x*A+v*P;u=n[4];m=n[5];x=n[6];
v=n[7];_[4]=u*b+m*N+x*V+v*Q;_[5]=u*w+m*a+x*c+v*J;_[6]=u*i+m*o+x*E+v*L;_[7]=u*M+m*U+x*A+v*P;u=n[8];m=n[9];
x=n[10];v=n[11];_[8]=u*b+m*N+x*V+v*Q;_[9]=u*w+m*a+x*c+v*J;_[10]=u*i+m*o+x*E+v*L;_[11]=u*M+m*U+x*A+v*P;
u=n[12];m=n[13];x=n[14];v=n[15];_[12]=u*b+m*N+x*V+v*Q;_[13]=u*w+m*a+x*c+v*J;_[14]=u*i+m*o+x*E+v*L;_[15]=u*M+m*U+x*A+v*P;
return _};gZ.sf.inverse=function(D,n){var _=D[0],b=D[1],w=D[2],i=D[3],M=D[4],N=D[5],a=D[6],o=D[7],U=D[8],V=D[9],c=D[10],E=D[11],A=D[12],Q=D[13],J=D[14],L=D[15],P=_*N-b*M,u=_*a-w*M,m=_*o-i*M,x=b*a-w*N,v=b*o-i*N,W=w*o-i*a,Z=U*Q-V*A,r=U*J-c*A,X=U*L-E*A,$=V*J-c*Q,I=V*L-E*Q,T=c*L-E*J,e=P*T-u*I+m*$+x*X-v*r+W*Z;
if(!e){return null}e=1/e;n[0]=(N*T-a*I+o*$)*e;n[1]=(w*I-b*T-i*$)*e;n[2]=(Q*W-J*v+L*x)*e;n[3]=(c*v-V*W-E*x)*e;
n[4]=(a*X-M*T-o*r)*e;n[5]=(_*T-w*X+i*r)*e;n[6]=(J*m-A*W-L*u)*e;n[7]=(U*W-c*m+E*u)*e;n[8]=(M*I-N*X+o*Z)*e;
n[9]=(b*X-_*I-i*Z)*e;n[10]=(A*v-Q*m+L*P)*e;n[11]=(V*m-U*v-E*P)*e;n[12]=(N*r-M*$-a*Z)*e;n[13]=(_*$-b*r+w*Z)*e;
n[14]=(Q*u-A*x-J*P)*e;n[15]=(U*x-V*u+c*P)*e;return n};gZ.sf.acm=function(D,n,_){var b=n[0],w=n[1];_[0]=b*D[0]+w*D[4]+D[12];
_[1]=b*D[1]+w*D[5]+D[13]};gZ.sf.aiR=function(D,n,_){var b=n[0],w=n[1],i=n[2],M=n[3];_[0]=D[0]*b+D[4]*w+D[8]*i+D[12]*M;
_[1]=D[1]*b+D[5]*w+D[9]*i+D[13]*M;_[2]=D[2]*b+D[6]*w+D[10]*i+D[14]*M;_[3]=D[3]*b+D[7]*w+D[11]*i+D[15]*M};
function gl(D,n,_,b){if(!D)D=0;if(!n)n=0;if(!_)_=0;if(!b)b=0;this.x=D;this.y=n;this.l=_;this.e=b}gl.prototype.u=function(){return this.l*this.e};
gl.prototype.clone=function(){return new gl(this.x,this.y,this.l,this.e)};gl.prototype.contains=function(D,n){return D>=this.x&&D<=this.x+this.l&&(n>=this.y&&n<=this.y+this.e)};
gl.prototype.A1=function(D){return this.contains(D.x,D.y)};gl.prototype.Xh=function(D){return this.x<=D.x&&this.y<=D.y&&D.x+D.l<=this.x+this.l&&D.y+D.e<=this.y+this.e};
gl.prototype.$U=function(D){this.x=D.x;this.y=D.y;this.l=D.l;this.e=D.e};gl.prototype.l8=function(D){return this.x==D.x&&this.y==D.y&&this.l==D.l&&this.e==D.e};
gl.prototype.Iq=function(D,n){this.x-=D;this.y-=n;this.l+=2*D;this.e+=2*n};gl.prototype.aok=function(D){this.Iq(D.x,D.y)};
gl.prototype.zE=function(D){var n=Math.max(this.x,D.x),_=Math.max(this.y,D.y),b=Math.min(this.x+this.l,D.x+D.l),w=Math.min(this.y+this.e,D.y+D.e);
if(b<n||w<_)return new gl;else return new gl(n,_,b-n,w-_)};gl.prototype.Zy=function(D){if(D.y+D.e<this.y||D.x>this.x+this.l||D.y>this.y+this.e||D.x+D.l<this.x)return!1;
return!0};gl.prototype.hk=function(){return this.l<=0||this.e<=0};gl.prototype.offset=function(D,n){this.x+=D;
this.y+=n};gl.prototype._X=function(D){this.offset(D.x,D.y)};gl.prototype.a6h=function(){this.x=this.y=this.l=this.e=0};
gl.prototype.bq=function(D,n,_,b){this.x=D;this.y=n;this.l=_;this.e=b};gl.prototype.Ik=function(D){if(this.hk())return D.clone();
if(D.hk())return this.clone();var n=this.clone();n.air(D);return n};gl.wb=new Float32Array(2);gl.prototype.air=function(D){if(D.hk())return;
if(this.hk()){this.$U(D);return}this.u7(D.x,D.y);this.u7(D.x+D.l,D.y+D.e)};gl.prototype.u7=function(D,n){var _=Math.min(this.x,D),b=Math.min(this.y,n);
this.l=Math.max(this.x+this.l,D)-_;this.e=Math.max(this.y+this.e,n)-b;this.x=_;this.y=b};gl.prototype.asM=function(D,n){this.x=D;
this.y=n;this.l=this.e=0};function e3(D,n,_,b,w,i){if(typeof D==="undefined"){D=1;n=0;_=0;b=1;w=0;i=0}this.vd=D;
this.S=n;this.jo=_;this.Ww=b;this.oE=w;this.LE=i}e3.prototype.gM=function(){return Math.sqrt(Math.abs(this.vd*this.Ww-this.S*this.jo))};
e3.prototype.a80=function(){var D=this,n=function(_){return Math.abs(_)<1e-9?0:_};D.vd=n(D.vd);D.S=n(D.S);
D.jo=n(D.jo);D.Ww=n(D.Ww);D.oE=n(D.oE);D.LE=n(D.LE)};e3.prototype.pm=function(D){return new gZ(D.x*this.vd+D.y*this.jo+this.oE,D.x*this.S+D.y*this.Ww+this.LE)};
e3.prototype.translate=function(D,n){this.oE+=D;this.LE+=n};e3.prototype.rotate=function(D){var n=new e3(Math.cos(D),-Math.sin(D),Math.sin(D),Math.cos(D),0,0);
this.concat(n)};e3.prototype.scale=function(D,n){var _=new e3(D,0,0,n,0,0);this.concat(_)};e3.prototype.concat=function(D){this.$U(new e3(this.vd*D.vd+this.S*D.jo,this.vd*D.S+this.S*D.Ww,this.jo*D.vd+this.Ww*D.jo,this.jo*D.S+this.Ww*D.Ww,this.oE*D.vd+this.LE*D.jo+D.oE,this.oE*D.S+this.LE*D.Ww+D.LE))};
e3.prototype.ei=function(){var D=this.vd*this.Ww-this.S*this.jo;this.$U(new e3(this.Ww/D,-this.S/D,-this.jo/D,this.vd/D,(this.jo*this.LE-this.Ww*this.oE)/D,(this.S*this.oE-this.vd*this.LE)/D))};
e3.prototype.clone=function(){return new e3(this.vd,this.S,this.jo,this.Ww,this.oE,this.LE)};e3.prototype.$U=function(D){this.vd=D.vd;
this.S=D.S;this.jo=D.jo;this.Ww=D.Ww;this.oE=D.oE;this.LE=D.LE};function eF(){}eF.$l={auJ:["PNG","JPG","SVG","GIF","PDF"],akZ:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
eF.pO=function(D,n){var _=D.memory.buffer.byteLength;if(_<n)D.memory.grow((n-_>>>16)+1)};eF.dm={aeJ:function(D,n){fetch(D).then(function(_){return _.arrayBuffer()}).then(function(_){var b=new Uint8Array(_),w=0,a="";
if(n){w=b.length;var i={level:9},M=pako.deflateRaw(b,i),N=UZIP.deflateRaw(b,i);console.log(w,M.length,N.length);
b=M.length<N.length?M:N}for(var k=0;k<b.length;k++)a+=String.fromCharCode(b[k]);var o=btoa(a);console.log(JSON.stringify([w,o]))})},get:function(D,n){var _=BINDB[D],b=Date.now(),w=atob(_[1]),i=w.length,M=new Uint8Array(i);
for(var k=0;k<i;k++)M[k]=w.charCodeAt(k);if(_[0]!=0){var N=new Uint8Array(_[0]);UZIP.inflateRaw(M,N);
M=N}if(n){var a=eF.pV(M.buffer);M=eF.rW(a).Ck(M.buffer)}return M}};eF.pV=function(D){if(!(D instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var n=new Uint8Array(D),_=eF.UL,b,w=0,i=n.length-1;
if(_(n,[239,187,191]))w=3;while(w<n.length&&(n[w]==9||n[w]==10||n[w]==13||n[w]==32))w++;while(i!=0&&(n[i]==9||n[i]==10||n[i]==13||n[i]==32))i--;
if(_(n,[56,66,80,83]))b="psd";if(_(n,[6,6,237,245]))b="indd";if(_(n,[102,116,121,112,109,105,102,49],4)||_(n,[102,116,121,112,97,118,105,102],4))b="avif";
if(_(n,[102,116,121,112,105,115,111,109],4))b="mp4";if(_(n,[102,116,121,112,109,112,52,50],4))b="mp4";
if(_(n,[0,255,75,65]))b="afphoto";if(_(n,[120]))b="pxd";if(_(n,[80,68,78,51]))b="pdn";if(_(n,[103,105,109,112,32,120,99,102,32]))b="xcf";
if(_(n,[102,105,103,45,107,105,119,105]))b="fig";if(_(n,[137,80,78,71,13,10,26,10])){b="png";var M=8;
while(M<n.length){var N=j.n(n,M);M+=4;var a=j.gw(n,M,4);M+=4;if(a=="mkTS")b="fpng";M+=N+4}}if(_(n,[87,76]))b="cdr";
if(_(n,[82,73,70,70])){var o=ay.Z6(n),U=o.bR;if(U=="WEBP")b="webp";else if(U.slice(0,3)=="CDR")b="cdr";
else b=U}if(_(n,[70,79,82,77])||_(n,[76,73,83,84])||_(n,[67,65,84,32])){var o=im.Z6(n),U=o.bR;if(U=="ILBM")b="ilbm";
else b=U}if(_(n,[255,216,255]))b="jpg";if(_(n,[0,0,0,12,106,80,32,32]))b="jpg";if(_(n,[48,0,1,0],4))b="jb2";
if(_(n,[71,73,70,56]))b="gif";if(_(n,[0,0,0,2,121,102,113,76]))b="msh";if(_(n,[0,0,0,3,121,102,113,76]))b="msh";
if(_(n,[0,0,0,16]))b="atn";if(_(n,[0,1]))b="aco";if(_(n,[0,2]))b="aco";if([0,1].indexOf(n[1])!=-1&&[1,2,3,9,10,11].indexOf(n[2])!=-1&&[0,16,24,32].indexOf(n[7])!=-1)b="tga";
if(_(n,[0,2,56,66,83,76]))b="asl";if(_(n,[0,1,0,-1,0,2,0]))b="abr";if(_(n,[0,2,0,-1,0,2,0]))b="abr";
if(_(n,[0,6,0,1]))b="abr";if(_(n,[0,6,0,2]))b="abr";if(_(n,[0,7,0,2]))b="abr";if(_(n,[0,9,0,2]))b="abr";
if(_(n,[0,10,0,2]))b="abr";if(_(n,[56,66,70,83]))b="shc";if(_(n,[56,66,80,84]))b="pat";if(_(n,[56,66,71,82]))b="grd";
if(_(n,[56,66,84,80]))b="tpl";if(_(n,[0,4,0,5]))b="acv";if(_(n,[99,117,115,104]))b="csh";if(_(n,[0,1,0,0,0]))b="otf";
if(_(n,[79,84,84,79]))b="otf";if(_(n,[116,116,99,102]))b="otf";if(_(n,[68,68,83,32]))b="dds";if(_(n,[80,86,82,3]))b="pvr";
if(_(n,[86,84,70,0]))b="vtf";if(_(n,[83,73,77,80]))b="fits";if(_(n,[0,0,1,0]))b="ico";if(_(n,[66,77]))b="bmp";
if(_(n,[40,0,0,0]))b="bmp";if(_(n,[80,49]))b="ppm";if(_(n,[80,50]))b="ppm";if(_(n,[80,51]))b="ppm";if(_(n,[80,52]))b="ppm";
if(_(n,[80,53]))b="ppm";if(_(n,[80,54]))b="ppm";if(_(n,[73,73,42,0]))b="tiff";if(_(n,[77,77,0,42]))b="tiff";
if(_(n,[70,85,74,73,70,73,76,77]))b="raf";if(_(n,[112]))b="lif";if(_(n,[73,73,26,0]))b="ciff";if(_(n,[83,81,76,105]))b="sketch";
if(_(n,[80,75])){var V=UZIP.parse(D,!0);if(V["document.json"])b="sketch";else if(V.manifest)b="xd";else b="zip"}if(_(n,[123]))b="json";
if(j.n(n,0)==n.length)b="icc";if(_(n,[35]))b="icc";if(_(n,[84,73,84,76],w))b="icc";if(_(n,[76,85,84,95],w))b="icc";
if(_(n,[60,63,120,109],w)){if(j.BR(n,"<look>")!=-1)b="icc";else b="svg"}if(_(n,[60,115,118,103],w))b="svg";
if(_(n,[60,33,100,111],w)||_(n,[60,33,68,79],w)){if(j.BR(n,"<svg")!=-1)b="svg";else b="html"}if(_(n,[37,33])||_(n,[197,208,211,198])){if(j.BR(n,"%AI9_PrivateDataBegin")!=-1||j.BR(n,"%AI5_BeginLayer")!=-1)b="ai";
else b="eps"}if(_(n,[37,80,68,70],w)){if(j.BR(n,"/AIMetaData ")!=-1)b="ai";else b="pdf"}else if(_(n,[10,69,79,70],i-3))b="dxf";
if(_(n,[1,0,9,0]))b="wmf";if(_(n,[215,205,198,154]))b="wmf";if(_(n,[1,0,0,0]))b="emf";if(_(n,[118,47,49,1]))b="exr";
if(_(n,[10,10,10,10]))b="jsx";if(_(n,[77,90]))b="exe";if(b==null&&B.raw.RL(n.length)!=null)return"tiff";
return b};eF.UL=function(D,n,_){if(_==null)_=0;for(var k=0;k<n.length;k++)if(n[k]!=-1&&D[_+k]!=n[k])return!1;
return!0};eF.rW=function(D){var n={BMP:eF.a1T,CDR:eF.le,DDS:eF.bf,EMF:eF.cN,DXF:eF.MD,EPS:eF.mF,FIG:eF.rs,FPNG:eF.Yk,INDD:eF.anl,GIF:eF.LZ,ICO:eF.Zw,ILBM:eF.s7,FITS:eF.Hw,EXR:eF.cB,JPG:eF.FY,LIF:eF.iK,PDF:eF.oL,PDN:eF.b2,PNG:eF.eE,PPM:eF.bv,PSD:eF.Yg,PXD:eF.CM,RAF:eF.Wr,RAW:eF.Dj,SKETCH:eF.oO,SVG:eF.Y1,TGA:eF.XT,AVIF:eF.a5j,TIFF:eF.JB,VTF:eF.Ys,WEBP:eF.cI,WMF:eF.I$,XCF:eF.lU,XD:eF.nV,EXE:eF.Z0,AI:eF.lT,AFPHOTO:eF.tR,MP4:eF.ajE};
return n[D.toUpperCase()]};eF.ss=function(k){var D=eF.$l.auJ,n=eF.$l.akZ,_,b=[];if(k==null)_=D.concat(n);
else _=k==0?D:n;for(var k=0;k<_.length;k++)if(eF.rW(_[k]).VX)b.push(_[k]);return b};eF.ap5=function(){var D;
function n(b){var w=b.target,i=w.width,M=w.height,N=document.createElement("canvas");N.width=i;N.height=M;
var a=N.getContext("2d");a.drawImage(w,0,0);D({jr:new gl(0,0,i,M),data:a.getImageData(0,0,i,M).data.buffer})}function _(b,w,i){D=i;
var M=document.createElement("img");M.onload=n;M.src="data:"+w+";base64,"+eF.AC(b)}return _}();eF.qo=function(D,n,_,b,w){var i=eF.L_(D,n,_,b,w),M=eF.dw(i);
return M.buffer};eF.dw=function(D){var n=atob(D.split(",").pop()),_=new Uint8Array(n.length);for(var k=0;
k<n.length;k++)_[k]=n.charCodeAt(k);return _};eF.L_=function(D,n,_,b,w,i){if(!(D instanceof ArrayBuffer))throw"e";
if(b==null)b="png";if(b=="png"&&i==!0){var M=eF.rW("PNG").VX([[D,0]],n,_);return"data:image/png;base64,"+eF.AC(M)}var N=eF.lg;
if(N==null)N=eF.lg=document.createElement("canvas");if(N.width!=n||N.height!=_){N.width=n;N.height=_}var a=N.getContext("2d"),o=new ImageData(new Uint8ClampedArray(D,0,n*_*4),n,_);
a.putImageData(o,0,0);return N.toDataURL("image/"+b,w)};eF.aqZ=function(D,n,_,b,w){if(w==null)w=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",M="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(D==1)M+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
M+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+w+")\" xlink:href=\""+n+"\" x=\""+80*_+"\" y=\""+80*b+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var N=new Uint8Array(M.length);j.yG(M,N,0);var a="data:image/svg+xml;base64,"+eF.AC(N.buffer);return{kg:a,Kj:new gl(0,0,128,128),YZ:new gZ(64,64)}};
eF.AC=function(D){var n=new Uint8Array(D),_="";for(var k=0;k<n.length;k++)_+=String.fromCharCode(n[k]);
return btoa(_)};eF.apK=function(D){var n=atob(D),_=n.length,b=new Uint8Array(_);for(var k=0;k<_;k++)b[k]=n.charCodeAt(k);
return b.buffer};eF.G1=function(D){var n=[],_=[];for(var k=0;k<D.b.length;k++){var b=D.b[k];if(b.getName().slice(0,3)=="_a_"){n.push(k);
_.push(b.h$())}}return[n,_]};eF.N4=function(D,n,_,b,w,i){if(_==null)_=D.l;if(b==null)b=D.e;var M=new gl(0,0,D.l,D.e),N=new e3(_/(D.l+.001),0,0,b/(D.e+.001),0,0),o;
n=n.toUpperCase();var a=eF.rW(n);if(a.Il){D.iS();o=a.VX(D,_,b,w,i)}else{var U=eF.G1(D),V=U[0],c=U[1],E=null;
if(D.wK.length!=0){E=[];for(var k=0;k<D.wK.length;k++)E.push(D.wK[k].xD(M))}if(V.length<2){var A;if(_==D.l&&b==D.e)A=D.iS().buffer;
else{var Q=G.Q.XB([D.iS(),M],N);A=Q.buffer.buffer;if(E){var J=B.U(M.u()*4);for(var k=0;k<E.length;k++){B.tD(E[k],J,3);
var Q=G.Q.XB([J,M],N),L=E[k]=B.U(Q.rect.u());B.Ef(Q.buffer,L,3)}}}o=a.VX([[A,0,D.Cn,D.Zd,E]],_,b,w)}else{var P=[];
for(var k=0;k<V.length;k++){var u=V[k],A;for(var m=0;m<V.length;m++)D.b[V[m]].oj(V[m]==u);D.Wh();D.G();
D.T2();if(_==D.l&&b==D.e)A=D.iS().buffer.slice(0);else{var Q=G.Q.XB([D.iS(),M],N);A=Q.buffer.buffer}var x=D.b[u].getName().split(",");
P.push([A,x[1]?parseInt(x[1]):100,D.Cn,D.Zd,E])}for(var k=0;k<V.length;k++)D.b[V[k]].oj(c[k]);D.G();
D.T2();if(w){var v=w.length,W=w[v-2],Z=w[v-1],r=w[v-4]/100;if(r!=1)for(var k=0;k<P.length;k++)P[k][1]=Math.round((P[k][1]==0?16:P[k][1])/r);
if(W)P.reverse();if(Z){var X=P.slice(1,P.length-1);X.reverse();P=P.concat(X)}}o=a.VX(P,_,b,w)}}return o};
eF.Sl=function(D,n){var _=n[0].X$&&n[0].X$.startsWith("_a_"),b,w=new ai(D+".psd"),i=new gl(0,0,1,1);
if(_){b=w.ni();b.add.lsct=f4.AU;b.rK(D);b.QQ="pass";b.VN=24;b.oj(!0);w.b.push(w.b8())}for(var k=0;k<n.length;
k++){var M=n[k];i=i.Ik(M.jr);var N=w.ni();N.oj(k==0);N.rK(n.length==1?"Background":"Layer "+k);if(k==0&&M.Cn)w.Cn=M.Cn;
if(k==0&&M.Zd)w.Zd=M.Zd;if(M.X$)N.rK(M.X$);if(M.SA)for(var k=0;k<M.SA.length;k++){var a=M.SA[k],o=ai.kV(a[0]);
o.add.vmsk.Y=a[1];B.$.vZ(a[1],new e3(i.l,0,0,i.e,0,0));w.yE.push(o)}N.rect=M.jr.clone();N.buffer=new Uint8Array(M.data);
if(k==0&&M.QW){var U=ICC.R(M.QW.buffer),V=JSON.stringify(U.tags.desc);if(V.toLowerCase().indexOf("srgb")==-1){console.log("--- we have ICC!",V,M.QW.length,"Bytes");
var c=17;try{var E=ICC.U.sampleLUT(U,c,"rgb ");if(E)ICC.U.applyLUT(E,c,N.buffer,N.buffer)}catch(io){}}}B.NQ(N);
w.b.push(N)}if(_)w.b.push(b);if(n[0].wK){for(var k=0;k<n[0].wK.length;k++){var A=new q.$L;w.wK.push(A);
A.rect=n[0].jr.clone();A.channel=n[0].wK[k]}}w.w=[_?w.b.length-1:0];w.l=i.l;w.e=i.e;w.buffer=B.U(i.u()*4);
w.G();return w};eF.eE={};eF.eE.VX=function(D,n,_,b){if(b==null)b=[100,!1,0,0,0];var w={sRGB:1,loop:b[3]};
if(D[0][2]!=null){var i=Math.round(D[0][2]*(1e4/254));w.pHYs=[i,i,1]}var M=b[0],N=M==100?0:Math.max(2,Math.floor(M*5));
if(N==5)N=4;var a=[],o=[];for(var k=0;k<D.length;k++){a.push(D[k][0]);o.push(D[k][1])}var U=UPNG.encode(a,n,_,N,o,w,b[1]);
return U};eF.eE.acR=function(D,n,_){return UPNG.encodeLL([D],n,_,3,1,8)};eF.eE.Ck=function(D){var n=Date.now(),_=UPNG.decode(D),b=UPNG.toRGBA8(_),w=_.width,i=_.height,M=0;
if(_.tabs.pHYs)M=Math.round(_.tabs.pHYs[0]*254/1e4);if(b.length==1)return[{jr:new gl(0,0,w,i),data:b[0],Cn:M}];
var N=[];for(var k=0;k<b.length;k++){N.push({X$:"_a_frm"+k+","+_.frames[k].delay,jr:new gl(0,0,w,i),data:b[k],Cn:M})}return N};
eF.bv={};eF.bv.VX=function(D,n,_,b){var w=new Uint8Array(D[0][0]),i=n*_,M=i*3,N="P6\n"+n+" "+_+"\n255\n",a=N.length,o=B.U(a+M,!0);
for(var k=0;k<a;k++)o[k]=N.charCodeAt(k);for(var k=0;k<i;k++){var U=k*4,V=k*3+a;o[V]=w[U];o[V+1]=w[U+1];
o[V+2]=w[U+2]}return o.buffer};eF.bv.Ck=function(D){D=new Uint8Array(D);var n=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],_=0,b=String.fromCharCode(D[0])+String.fromCharCode(D[1]),w=[],i=0,M=b=="P1"||b=="P4"?2:3;
for(_=2;_<D.length;_++){var N=D[_],a=String.fromCharCode(N);if(N=="#".charCodeAt(0)){while(D[_]!="\n".charCodeAt(0))_++;
continue}var o=n.indexOf(N)!=-1;if(i==0&&!o){w.push(a);i=1;continue}if(i==1&&!o){w[w.length-1]+=a;continue}if(i==1&&o){i=0;
if(w.length==M)break;continue}}var U=parseInt(w[0]),V=parseInt(w[1]),c=U*V*4,E=b=="P1"||b=="P4"?1:255/parseInt(w[2]),A=B.U(c);
if(b=="P1"||b=="P2"||b=="P3"){var Q="",J=0,i=0,L="#".charCodeAt(0);for(var k=_;k<D.length;k++){var N=D[k],a=String.fromCharCode(N),o=n.indexOf(N)!=-1;
if(N==L){while(D[k]!="\n".charCodeAt(0))k++}else if(i==0&&!o){Q=a;i=1}else if(i==1){if(o){i=0;var P=parseInt(Q);
Q="";if(b=="P1"){A[J]=A[J+1]=A[J+2]=(1-P)*255;A[J+3]=255;J+=4}if(b=="P2"){A[J]=A[J+1]=A[J+2]=Math.round(P*E);
A[J+3]=255;J+=4}if(b=="P3"){A[J]=Math.round(P*E);J++;if((J&3)==3){A[J]=255;J++}}}else Q+=a}}}var u=U*V;
if(b=="P4")for(var m=0;m<V;m++){var x=m*8*Math.ceil(U/8);for(var v=0;v<U;v++){var k=x+v,W=D[_+1+(k>>3)];
W=W>>7-(k&7)&1;var Z=m*U+v<<2;A[Z]=A[Z+1]=A[Z+2]=(1-W)*255;A[Z+3]=255}}if(b=="P5")for(var k=0;k<u;k++){var Z=4*k;
A[Z]=A[Z+1]=A[Z+2]=Math.round(D[_+1+k]*E);A[Z+3]=255}if(b=="P6")for(var k=0;k<u;k++){var Z=4*k,r=_+1+3*k;
A[Z]=Math.round(D[r]*E);A[Z+1]=Math.round(D[r+1]*E);A[Z+2]=Math.round(D[r+2]*E);A[Z+3]=255}return[{jr:new gl(0,0,U,V),data:A.buffer}]};
eF.bf={};eF.bf.VX=function(D,n,_,b){if(b==null)b=[!0,!0];var w=new Uint8Array(D[0][0]),i=n&3,M=_&3;if(i!=0||M!=0){var N=n+(i==0?0:4-i),a=_+(M==0?0:4-M),o=new Uint8Array(N*a*4);
B.o5(o,4278190080);B.E3(w,new gl(0,0,n,_),o,new gl(0,0,N,a));w=o;n=N;_=a}var U=UTEX.DDS.encode(w.buffer,n,_,b);
if(!1){var V=UTEX.DDS.decode(U)[0],o=new Uint8Array(V.Gj),c=0;for(var k=0;k<w.length;k++){var E=w[k]-o[k];
c+=E*E}console.log(c)}return U};eF.bf.Ck=function(D){var n=UTEX.DDS.decode(D)[0];return[{jr:new gl(0,0,n.width,n.height),data:n.image}]};
eF.Ys={};eF.Ys.Ck=function(D){var n=UTEX.VTF.decode(D).pop();return[{jr:new gl(0,0,n.width,n.height),data:n.image}]};
eF.FY={};eF.FY.mf=null;eF.FY.anG=function(D,n){var _=eF.FY.mf,b=D.byteLength,w=n.width,i=n.height,M=w*i,N=5e6+2*b+M*(n.progressive?Math.max(2,n.numComponents)*4+1:8),a=_.instance.exports;
eF.pO(a,N);var o=new Uint8Array(a.memory.buffer),U=a.malloc(b);o.set(new Uint8Array(D),U);var V=a.malloc(4),c=a.malloc(4),cQ=a.malloc(4),E=a.stbi_load_from_memory(U,b,V,c,cQ,4);
a.free(U);a.free(V,c,cQ);a.free(E);var A=o.slice(E,E+M*4);return A};(function(){var D=eF.dm.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(D).then(function(n){eF.FY.mf=n})}());
eF.FY.VX=function(D,n,_,b){if(b==null)b=[70];var w=D[0],i=new Uint8Array(w[0]);if(B.GE(i)){var M=new Uint8Array(i.length),N=new gl(0,0,n,_);
B.o5(M,4294967295);B.a.dG("norm",i,N,M,N,N,1);i=M}var a=new Uint8Array(eF.qo(i.buffer,n,_,"jpeg",b[0]/100));
if(w[2]!=null){var o=eF.FY.Fx(a)[224][0]+2;o+=9;a[o]=1;j.Pc(a,o+1,w[2]);j.Pc(a,o+3,w[2])}if(w[3]!=null&&b[1]==!0&&Object.keys(w[3]).length!=0){var U=0,V=0,c=0,E=fB.qX(w[3]),A=new Uint8Array(UTIF.encode([E])),Q="http://ns.adobe.com/xap/1.0/",u=0,v=0,$=20;
U=4+6+A.length;var J=fB.apV(w[3]),L=j.TJ(J);V=4+Q.length+1+L.length;var P=fB.a6b(w[3]);for(var k=0;k<P.length;
k++)u+=5+P[k][1].length;var m=u+(u&1),x=B.U(14+4+2+4+m);j.Wu(x,v,"Photoshop 3.0");v+=14;j.Wu(x,v,"8BIM");
v+=4;x[v++]=4;x[v++]=4;v+=2;j.GW(x,v,u);v+=4;for(var k=0;k<P.length;k++){var W=P[k],Z=W[1];x[v++]=28;
x[v++]=2;x[v++]=W[0];j.Pc(x,v,Z.length);v+=2;j.Wu(x,v,Z);v+=Z.length}c=4+x.length;var r=U+V+c,X=new Uint8Array(a.length+r);
for(var k=0;k<20;k++)X[k]=a[k];for(var k=20;k<a.length;k++)X[k+r]=a[k];X[$]=255;X[$+1]=225;j.Pc(X,$+2,U-2);
j.Wu(X,$+4,"Exif");for(var k=0;k<A.length;k++)X[$+10+k]=A[k];$+=U;X[$]=255;X[$+1]=225;j.Pc(X,$+2,V-2);
j.Wu(X,$+4,Q);for(var k=0;k<L.length;k++)X[$+4+Q.length+1+k]=L[k];$+=V;X[$]=255;X[$+1]=237;j.Pc(X,$+2,c-2);
for(var k=0;k<x.length;k++)X[$+4+k]=x[k];$+=c;a=X}return a.buffer};eF.FY.Fx=function(D){var n=0,_=[],b=D.length;
while(n<b){while(D[n]!=255&&n<b)n++;while(D[n]==255)n++;var w=D[n];n++;if(_[w]==null)_[w]=[];_[w].push(n-2);
if(w==216)continue;if(w==217)break;if(224<=w&&w<=239||w==218||w==219||w==192||w==193||w==194||w==196||w==221||w==254){var i=j.UH(D,n);
n+=i;if(w==218)while(n<b&&(D[n]!=255||(D[n+1]==0||208<=D[n+1]&&D[n+1]<=215)))n++;continue}console.log("unknown marker ",w.toString(16),n);
break}if(_[217]==null){console.log("EOI marker missing");var M=D.length-2;D[M]=255;D[M+1]=217;_[217]=[M]}return _};
eF.FY.a2E=function(D){D=new Uint8Array(D);if(D[0]!=255)return D.buffer;var n=eF.FY.Fx(D),_=eF.FY.NM(D,n);
if(_.numComponents!=4)return D.buffer;var b=_.width,w=_.height,i=eF.FY.E6(D,n,!0);return eF.FY.VX([[i[0].data]],b,w,[85])};
eF.FY.NM=function(D,n){var _=(n[192]?n[192]:n[193]?n[193]:n[194])[0]+4,b={};b.progressive=n[194]!=null;
b.precision=D[_];_++;b.height=j.UH(D,_);_+=2;b.width=j.UH(D,_);_+=2;b.numComponents=D[_];_++;if(n[224]){var w=b.jfif={};
_=n[224][0]+2+2+5+2;w.densityUnits=D[_];_++;w.xDensity=j.UH(D,_);_+=2;w.yDensity=j.UH(D,_);_+=2}if(n[238]){var w=b.adobe={};
_=n[238][0]+2+2+6;w.version=D[_];_++;w.flags0=j.UH(D,_);_+=2;w.flags1=j.UH(D,_);_+=2;w.transform=D[_];
_++}return b};eF.FY.aq_=function(D,n,_){var b=n,w=j.UH(D,b);b+=2;var i=j.gw(D,b,4);if(i=="Exif"){b+=6;
var M=D.slice(b,b+w-8),N;try{N=UTIF.decode(M.buffer,{parseMN:!1,debug:!1})}catch(io){}if(N)_.exif=N}else if(i=="http"){var a=0;
while(D[b+a]!=0)a++;var o=j.gw(D,b,a);b+=a+1;if(o=="http://ns.adobe.com/xmp/extension/"){var U=j.gw(D,b,32);
b+=32;b+=8;var V=n+w-b;while(D[b+V-1]==0)V--;if(_.xmp_extn==null)_.xmp_extn="";try{_.xmp_extn+=j.KA(D,b,V)}catch(io){}}else if(o=="http://ns.adobe.com/xap/1.0/"){var c=j.KA(D.slice(b,b+w-a-3));
if(c[0]=="?")c="<"+c;_.xmp=c}}else console.log(i)};eF.FY.E6=function(D,n,_){var b=eF.FY.NM(D,n),w=b.width,i=b.height,M=w*i,N,a=-1,m=72,x,W;
if(b.adobe)a=b.adobe.transform;if(_||w*i>15e7||a==0||a==2){var o=new PDFJS.JpegImage;o.parse(D);var U=o.getData({width:w,height:i,forceRGB:!0,isSourcePDF:_}),N=B.U(M*4);
for(var k=0;k<M;k++){var V=k<<2,c=V-k;N[V]=U[c];N[V+1]=U[c+1];N[V+2]=U[c+2];N[V+3]=255}}else{N=eF.FY.anG(D.buffer,b)}var E=n[225];
if(E)for(var k=0;k<E.length;k++)eF.FY.aq_(D,E[k]+2,b);var A=n[226];if(A){var Q=A[0],J=j.UH(D,Q+2),L=j.gw(D,Q+4,11);
if(L=="ICC_PROFILE"){var P=j.n(D,Q+18);b.icc=D.slice(Q+18,Q+18+P)}}var u=n[217][0]+2;if(u!=D.length)b.suffix=D.slice(u);
var v=[w,i,1,0,0,0,1,0];if(b.jfif&&b.jfif.densityUnits!=0){m=Math.round([72,1,2.54][b.jfif.densityUnits]*b.jfif.xDensity)}else if(b.exif&&b.exif[0].t282!=null){var Z=b.exif[0].t282[0];
m=Z[0]/Z[1]}if(b.exif){var r=b.exif;x=fB.fZ(r[0]);var X=r[0].t274;if(X)X=X[0];if(X!=null&&X>1&&X<20)v=B.raw.ek(X,w,i)}if(b.xmp){x=fB.atu(b.xmp,x)}if(b.icc)W=b.icc;
var $=n[237],I=[],T=[];if($){var e=new Uint8Array(65536),F=0,Q=0;for(var k=0;k<$.length;k++){Q=$[k]+2;
var y=Q+j.UH(D,Q);Q+=2;var h=Q;while(D[Q]!=0)Q++;Q++;var Y=j.gw(D,h,Q-h-1),K=y-Q;while(F+K>e.length){var z=new Uint8Array(e.length*2);
z.set(e);e=z}var f=new Uint8Array(D.buffer,Q,K);e.set(f,F);F+=K}Q=0;D=e;while(Q<F){var s=j.gw(D,Q,4);
Q+=4;var l=j.UH(D,Q);Q+=2;var g=D[Q++],H=j.gw(D,Q,g);Q+=g;if((g&1)==0)Q++;var J=j.n(D,Q);Q+=4;var u=Q+J+(J&1);
if(l==1028){while(Q+4<u){var O=D[Q++],C=D[Q++],ib=D[Q++],hH=j.UH(D,Q);Q+=2;if(O==28&&C==2)I.push([ib,j.gw(D,Q,hH)]);
Q+=hH}}else if((l&2e3)==2e3){var R=cR.aa(D,Q,J);T.push([H,R])}else{}Q=u}if(I.length!=0)x=fB.ahx(I,x)}var fR=[{jr:new gl(0,0,w,i),data:N.buffer,Cn:m,Zd:x,QW:W,SA:T.length==0?null:T}],x=b.xmp_extn;
if(x){var j4=new DOMParser,cP=j4.parseFromString(x,"image/svg+xml"),cP=cP.children[0].children[0].children[0],a8=[cP.getAttribute("GImage:Data"),cP.getAttribute("GDepth:Data")];
for(var k=0;k<a8.length;k++)if(a8[k]){var d0=atob(a8[k]),b9=new Uint8Array(d0.length);j.Wu(b9,0,d0);
b9=b9.buffer;var jG=eF.pV(b9),jP=eF.rW(jG).Ck(b9);fR.push(jP[0])}}if(b.suffix){var aq=b.suffix,gM=j.gw(aq,4,4),gv=j.BR(aq,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(eF.UL(aq,[0,0,1,10,14,0,0,0])){var Q=0;while(Q!=aq.length){var dT=j.P$(aq,Q+2);Q+=4;var aC={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[dT];
if(aC!=null){var c1=j.c7(aq,Q);Q+=4;var aj=j.gw(aq,Q,c1);Q+=c1;var bD=j.gw(aq,Q,aC);Q+=aC;if(dT==2608){var cy=j.n(aq,Q+24);
Q+=cy+24;var co=j.n(aq,Q);Q+=co;alert("Photopea found a "+bM.ga(cy)+" MP4 video inside your image.",4e3)}}else if(dT==18502){while(j.gw(aq,Q,4)!="SEFT")Q+=4;
Q+=4}else{break;console.log(j.Ep(aq,Q,128));console.log(aq.slice(Q));throw dT.toString(16)}}}else if(gM=="ftyp"){alert("Photopea found a "+bM.ga(aq.length)+" MP4 video inside your image.",4e3)}else if(j.gw(aq,0,4)=="fixe"){alert("Unknown data - "+aq.length+" B - at the end of the file",3e3);
var Q=4,J=j.c7(aq,Q);Q+=4;var hV=j.c7(aq,Q);Q+=4;var il=j.c7(aq,Q);Q+=4;console.log(J,hV,il,aq.slice(Q,Q+84));
Q+=84;var h6=j.gw(aq,Q,32);Q+=32;Q+=8;var h6=j.gw(aq,Q,32);Q+=32}else if(j.gw(aq,8,13)=="FocusShot_Map"){var c8=j.n(aq,0),hH=j.c7(aq,4),b9=B.U(M*4),fx=B.U(M*4);
for(var bU=0;bU<i;bU++)for(var b6=0;b6<w;b6++){var k=bU*w+b6,V=k<<2,iF=8+13+((bU>>>1)*w+b6>>>1),dY=aq[iF],bl=aq[iF+(M>>>2)];
b9[V]=b9[V+1]=b9[V+2]=dY;b9[V+3]=255;fx[V]=fx[V+1]=fx[V+2]=bl;fx[V+3]=255}fR.push({jr:new gl(0,0,w,i),data:b9.buffer},{jr:new gl(0,0,w,i),data:fx.buffer})}else if(gM=="edof"){var X=aq[8+7];
console.log(X.toString(16));var Q=8+16,dc=j.P$(aq,Q),hN=j.P$(aq,Q+2),M=dc*hN;Q+=4;Q+=32+16;var ga=B.U(M*4);
for(var k=0;k<M;k++){var V=k<<2;ga[V]=ga[V+1]=ga[V+2]=aq[Q+k];ga[V+3]=255}if(X==16){}else if(X==19){var b1=ga.slice(0);
B.N.V4(ga,b1,dc,hN);var fc=dc;dc=hN;hN=fc;B.N.By(b1,ga,dc,hN)}else throw"Unknown orientation of a depth map";
fR.push({jr:new gl(0,0,dc,hN),data:ga.buffer})}else if(gv!=-1&&!(aq[0]==255&&aq[1]==129)){try{if(gv!=0)aq=aq.slice(gv);
var jP=eF.rW("jpg").Ck(aq.buffer);for(var k=0;k<jP.length;k++)fR.push(jP[k])}catch(io){}}else if(j.gw(aq,0,4)=="PMPD"){var Q=4,h9=j.c7(aq,12),cB=j.c7(aq,16),dc=j.c7(aq,1060),hN=j.c7(aq,1064),bp=dc>hN,eK=fR[0].jr.l>fR[0].jr.e,fm=aq.slice(aq.length-dc*hN-4),fG=B.U(dc*hN);
for(var bU=0;bU<hN;bU++)for(var b6=0;b6<dc;b6++)fG[bU*dc+b6]=fm[(hN-bU-1)*dc+b6];var ia=B.U(dc*hN*4);
ia.fill(255);B.hd(fG,ia);if(bp!=eK){var b1=ia.slice(0);B.N.V4(ia,b1,dc,hN);var fc=dc;dc=hN;hN=fc;B.N.By(b1,ia,dc,hN)}fR.push({jr:new gl(0,0,dc,hN),data:ia.buffer})}else console.log(j.gw(aq,0,4),aq)}if(fR.length>1){var iz=fR[0].jr;
fR[0].X$="Main";for(var k=1;k<fR.length;k++){fR[k].X$=eF.FY.ag2(new Uint8Array(fR[k].data))?"Depth Map":null;
var gG=fR[k].jr;if(!gG.l8(iz)){var eA=iz.l/gG.l,d3=iz.e/gG.e,cY=new e3;cY.scale(eA,d3);var ch=G.Q.lo([new Uint8Array(fR[k].data),gG],1,B.N.ug(cY));
fR[k].jr=ch.rect;fR[k].data=ch.buffer}}}if(eF.FY.Tl==1)if(v[2]!=1||v[6]!=1)for(var k=0;k<fR.length;k++){var fS=fR[k],fy=new Uint8Array(fS.data),w=fS.jr.l,i=fS.jr.e,dc=v[0],hN=v[1],N=B.U(dc*hN*4);
B.N.G$(fy,w,i,N,v);fS.jr=new gl(0,0,dc,hN);fS.data=N.buffer}return fR};eF.FY.ag2=function(D){var n=!0;
for(var k=0;k<D.length;k+=4){n=n&&D[k]==D[k+1]&&D[k+1]==D[k+2]}return n};eF.FY.Tl=0;eF.FY.Ck=function(D,n,_){D=new Uint8Array(D);
if(D[0]==255){var b=eF.FY.Fx(D);if(b[195]==null){eF.FY.Tl++;var w=eF.FY.E6(D,b,!1);eF.FY.Tl--;return w}var i=j.UH(D,b[195][0]+5),M=j.UH(D,b[195][0]+7),N=UTIF.LosslessJpegDecode(D),a=M*i,o=B.U(a*4);
for(var k=0;k<a;k++){var U=k<<2,V=U-k;o[U]=N[V];o[U+1]=N[V+1];o[U+2]=N[V+2];o[U+3]=255}return[{jr:new gl(0,0,M,i),data:o.buffer}]}else if(D[0]==0&&D[4]==48&&D[6]==1){var c=D,E=new PDFJS.Jbig2Image,A=[];
if(n)A.push({data:n,start:0,end:n.length});A.push({data:c,start:0,end:c.length});var N=E.parseChunks(A);
if(!_)for(var k=0;k<N.length;k++)N[k]=~N[k];var M=j.n(D,11),i=j.n(D,15),Q=Math.ceil(M/8),J=B.U(M*i*4);
for(var L=0;L<i;L++){var P=L*Q;for(var u=0;u<M;u++){var U=(L*M+u)*4,m=N[P+(u>>>3)]>>>7-(u&7)&1,x=m*255;
J[U]=x;J[U+1]=x;J[U+2]=x;J[U+3]=255}}return[{jr:new gl(0,0,M,i),data:J.buffer}]}else{var E=new PDFJS.JpxImage;
E.parse(D);var M=E.width,i=E.height,v=E.tiles,W=E.componentsCount,Z=new Uint8Array(M*i*4),r=new gl(0,0,M,i);
for(var E=0;E<v.length;E++){var X=v[E],$=X.width,I=X.height,T=$*I,e=X.items,F=new gl(X.left,X.top,$,I),y=new Uint8Array(T*4);
if(W==1)for(var k=0;k<T;k++){var h=e[k],U=k*4;y[U]=h;y[U+1]=h;y[U+2]=h;y[U+3]=255}else if(W==3)for(var k=0;
k<T;k++){var V=k*3,U=k*4;y[U]=e[V];y[U+1]=e[V+1];y[U+2]=e[V+2];y[U+3]=255}else console.log("Unknown number of components: "+W);
B.E3(y,F,Z,r)}return[{jr:r,data:Z.buffer}]}};eF.cI={};eF.cI.VX=function(D,n,_,b){if(b==null)b=[70,0,0,0];
var w=b[0]/100,a=0;if(D.length==1)return eF.qo(D[0][0],n,_,"webp",w);var i=j.lK,M=j.sN,N=new bF;i(N,a,"RIFF    WEBPVP8X");
a+=16;M(N,a,10);a+=4;M(N,a,18);a+=4;M(N,a,n-1);a+=3;M(N,a,_-1);a+=3;i(N,a,"ANIM");a+=4;M(N,a,6);a+=4;
N.Mz(a,4);N.data[a+3]=255;j.k7(N,a+4,b[2]);a+=6;var o=[];for(var k=0;k<D.length;k++){o.push(D[k][0])}var U=UPNG.encode.compress(o,n,_,w==1?0:Math.max(2,Math.floor(w*500)),[!1,!0,!0,0,!0]).frames;
function V(Z,r,X,$){var u=Z.r-8,m=Z.size+8;X.Mz($,m);for(var k=0;k<m;k++)X.data[$+k]=r[u+k];return $+m}for(var k=0;
k<D.length;k++){i(N,a,"ANMF");a+=4;var c=a,u=0,m=0;a+=4;var E=U[k],A=E.rect,Q=[A.x>>>1,A.y>>>1,A.width-1,A.height-1,D[k][1]];
for(var J=0;J<5;J++)M(N,a+3*J,Q[J]);a+=15;N.Mz(a,1);N.data[a]=1-E.blend<<1|E.dispose;a++;var L=new Uint8Array(eF.qo(E.img.buffer,A.width,A.height,"webp",1)),P=ay.Z6(L.buffer).sub,x={};
for(var v=0;v<P.length;v++)x[P[v].Vn]=P[v];if(x.VP8L)a=V(x.VP8L,L,N,a);else throw"e";var W=a-c-4;M(N,c,W);
if((W&1)==1){N.Mz(a,1);a++}}M(N,4,a-8);return N.data.slice(0,a).buffer};(function(){var D=eF.dm.get("wasm/webp").buffer;
WebAssembly.instantiate(D).then(function(n){var _=n.instance.exports;eF.cI.exp=_})}());eF.cI.Ck=function(D){var n=new Uint8Array(D),_=eF.cI.a01,b=null,w=ay.Z6(D).sub,i={};
for(var k=0;k<w.length;k++)i[w[k].Vn]=w[k];var M=i.ANIM,N=i.VP8L,a=i["VP8 "],o=i.VP8X;if(M==null){var U,V;
if(a){U=j.P$(n,a.r+6);V=j.P$(n,a.r+8)}else if(N){var c=j.c7(n,N.r+1);U=(c&(1<<14)-1)+1;V=(c>>>14&(1<<14)-1)+1}else throw"e";
var E=[_(b,D,{r:0,size:n.length},U,V)];return E}var A=o.r,U=1+(j.c7(n,A+4)&16777215),V=1+(j.c7(n,A+7)&16777215),Q=[],J=new gl(0,0,U,V),L=B.U(U*V*4);
for(var k=0;k<w.length;k++){var P=w[k];if(P.Vn!="ANMF")continue;var u=[];for(var m=0;m<5;m++)u.push(j.c7(n,P.r+m*3)&16777215);
var x=new gl(u[0]*2,u[1]*2,u[2]+1,u[3]+1),v=u[4],W=_(b,D,{r:P.r+16,size:P.size-16},U,V),Z=new Uint8Array(W.data),r=n[P.r+15];
if(r>>>1==0)B.a.dG("norm",Z,x,L,J,x,1);else B.E3(Z,x,L,J);Q.push({X$:"_a_"+Q.length+","+v,jr:J.clone(),data:L.buffer.slice(0)});
if((r&1)==1){B.o5(Z,0);B.E3(Z,x,L,J)}}return Q};eF.cI.a01=function(D,n,_,b,w){var i=eF.cI.exp,M=i.memory,N=5e6+2*_.size+b*w*10;
eF.pO(i,N);var a=new Uint8Array(M.buffer),o=i.malloc(_.size);a.set(new Uint8Array(n,_.r,_.size),o);var U=i.malloc(8),V=i.WebPDecodeARGB(o,_.size,U,U+4),c=j.c7(a,U),E=j.c7(a,U+4),A=c*E*4,Q=B.U(A);
for(var k=0;k<A;k+=4){Q[k]=a[V+k+1];Q[k+1]=a[V+k+2];Q[k+2]=a[V+k+3];Q[k+3]=a[V+k]}i.WebPFree(V);i.free(U);
i.free(o);return{jr:new gl(0,0,c,E),data:Q.buffer}};eF.a1T=function(){function D(N,a,o,U){var V=new Uint8Array(N[0][0]),c=new Uint32Array(V.buffer),E=[],A={},J=24,L=0,v=0;
for(var k=0;k<c.length;k++){var Q=c[k]&16777215;if(A[Q]==null){A[Q]=E.length;E.push(Q);if(E.length>256){E=null;
break}}}if(E){J=1;while(1<<J<E.length)J*=2;if(J==2)J=4}var P={Wj:a,Rw:o,RN:1,mB:J,Bw:0,aqv:L},u=4*Math.floor((P.mB*P.Wj+31)/32);
P.size=u*P.Rw+2;var m=new bF,x=E?(1<<J)*4:0;j.lK(m,v,"BM");v+=2;j.sN(m,v,u*o+16+40+x);v+=4;j.sN(m,v,0);
v+=4;j.sN(m,v,54+x);v+=4;m.Mz(v,40);j.sN(m,v,40);v+=4;M(m.data,v,P,u);v+=36;if(E){m.Mz(v,x);var W=m.data;
for(var k=0;k<E.length;k++){var Z=v+k*4,r=E[k]>>>16,X=E[k]>>>8&255,$=E[k]&255;W[Z]=r;W[Z+1]=X;W[Z+2]=$}v+=x}m.Mz(v,u*o);
if(J==24)for(var I=0;I<o;I++){var T=v+(o-1-I)*u;for(var e=0;e<a;e++){var F=(I*a+e)*4;m.data[T+e*3+2]=V[F];
m.data[T+e*3+1]=V[F+1];m.data[T+e*3+0]=V[F+2]}}else if(J==8)for(var I=0;I<o;I++){var T=v+(o-1-I)*u;for(var e=0;
e<a;e++){var F=I*a+e,y=A[c[F]&16777215];m.data[T+e]|=y}}else if(J==4)for(var I=0;I<o;I++){var T=v+(o-1-I)*u;
for(var e=0;e<a;e++){var F=I*a+e,y=A[c[F]&16777215];m.data[T+(e>>>1)]|=y<<4-(e&1)*4}}else if(J==1)for(var I=0;
I<o;I++){var T=v+(o-1-I)*u;for(var e=0;e<a;e++){var F=I*a+e,y=A[c[F]&16777215];m.data[T+(e>>>3)]|=y<<7-(e&7)}}v+=u*o+2;
return m.data.slice(0,v).buffer}function n(N){N=new Uint8Array(N);if(j.c7(N,0)==40)return[_(N.buffer,0)];
var a=0,o=j.gw(N,a,2);a+=2;if(o!="BM"){alert("Unsupported BMP format: "+o);return}var U=j.c7(N,a);a+=4;
a+=4;var V=j.c7(N,a);a+=4;return[_(N.buffer,a,V)]}function _(N,a,o){N=new Uint8Array(N);var U=j.c7(N,a),V=i(N,a+4);
if(V.RN!=1)alert("unsupported number of color planes: "+V.RN);if(V.Bw!=0&&V.Bw!=1&&V.Bw!=2&&V.Bw!=3){alert("Unsupported BMP compression: "+V.Bw);
return}a+=U;var c=a,E=N;if(o==null)o=a;if(V.Bw==1||V.Bw==2){var A=w(N,o,V);V.mB=8;N=A;o=0}var Q=4*Math.floor((V.mB*V.Wj+31)/32),J=V.Wj,L=Math.abs(V.Rw),P=new Uint8Array(J*L*4);
P.fill(255);if(V.mB==32)for(var u=0;u<L;u++){var m=o+(L-1-u)*Q;for(var x=0;x<J;x++){var v=(u*J+x)*4;
P[v]=N[m+x*4+2];P[v+1]=N[m+x*4+1];P[v+2]=N[m+x*4+0];P[v+3]=N[m+x*4+3]}}else if(V.mB==24)for(var u=0;
u<L;u++){var m=o+(L-1-u)*Q;for(var x=0;x<J;x++){var v=(u*J+x)*4;P[v]=N[m+x*3+2];P[v+1]=N[m+x*3+1];P[v+2]=N[m+x*3+0]}}else if(V.mB==16)for(var u=0;
u<L;u++){var m=o+(L-1-u)*Q;for(var x=0;x<J;x++){var v=(u*J+x)*4,W=N[m+x*2+1]<<8|N[m+x*2];P[v]=(W>>>11)*(255/31);
P[v+1]=(W>>>5&63)*(255/63);P[v+2]=(W&31)*(255/31)}}else if(V.mB==8)for(var u=0;u<L;u++){var m=o+(L-1-u)*Q;
for(var x=0;x<J;x++){var v=(u*J+x)*4,Z=N[m+x];P[v]=E[c+4*Z+2];P[v+1]=E[c+4*Z+1];P[v+2]=E[c+4*Z+0]}}else if(V.mB==4)for(var u=0;
u<L;u++){var m=o+(L-1-u)*Q;for(var x=0;x<J;x++){var v=(u*J+x)*4,Z=N[m+(x>>1)];Z=Z>>4-4*(x&1);Z=Z&15;
P[v]=E[c+4*Z+2];P[v+1]=E[c+4*Z+1];P[v+2]=E[c+4*Z+0]}}else if(V.mB==1)for(var u=0;u<L;u++){var m=o+(L-1-u)*Q;
for(var x=0;x<J;x++){var v=(u*J+x)*4,r=N[m+(x>>3)];r=r>>7-(x&7);r=r&1;P[v]=E[c+4*r+2];P[v+1]=E[c+4*r+1];
P[v+2]=E[c+4*r+0]}}else throw"Unknown bit depth "+V.mB;if(V.Rw<0){var X=new Uint32Array(P.buffer),$=L>>>1;
for(var u=0;u<$;u++){var I=u*J,T=(L-u-1)*J;for(var x=0;x<J;x++){var e=X[I+x];X[I+x]=X[T+x];X[T+x]=e}}}return{jr:new gl(0,0,J,L),data:P.buffer}}function b(N,k){return N>>>4-((k&1)<<2)&15}function w(N,a,o){var U=o.Wj,V=Math.abs(o.Rw),c=new Uint8Array(U*V),E=0,A=0,k=0;
while(A<V){var Q=N[a++],J=N[a++],L=A*U+E;if(Q>0){if(o.mB==4)for(k=0;k<Q;k++){c[L+k]=b(J,k)}else for(k=0;
k<Q;k++){c[L+k]=J}E+=Q}else if(Q==0&&J==0){A++;E=0}else if(Q==0&&J==1){break}else if(Q==0&&J==2){E+=N[a++];
A+=N[a++]}else{var P=J;if(o.mB==4){for(k=0;k<J;k++){c[L+k]=b(N[a+(k>>>1)],k)}P=Math.ceil(J/2)}else{for(k=0;
k<J;k++){c[L+k]=N[a+k]}}if((P&1)!=0)P++;a+=P;E+=J}}return c}function i(N,a){var o=j.ci,U=j.c7,V=j.P$,c={};
c.Wj=o(N,a);a+=4;c.Rw=o(N,a);a+=4;c.RN=V(N,a);a+=2;c.mB=V(N,a);a+=2;c.Bw=U(N,a);a+=4;c.size=U(N,a);a+=4;
var E=o(N,a);a+=4;var A=o(N,a);a+=4;c.aqv=U(N,a);a+=4;a+=4;return c}function M(N,a,o,U){j.vz(N,a,o.Wj);
a+=4;j.vz(N,a,o.Rw);a+=4;j.jy(N,a,o.RN);a+=2;j.jy(N,a,o.mB);a+=2;j.vz(N,a,o.Bw);a+=4;j.vz(N,a,o.size);
a+=4;j.vz(N,a,2834);a+=4;j.vz(N,a,2834);a+=4;j.vz(N,a,o.aqv);a+=4;a+=4}return{Ck:n,VX:D,acO:_}}();eF.LZ={};
eF.LZ.VX=function(D,n,_,b){if(b==null)b=[100,!1,0,0,0,0];var w=[],i=[],M=n*_*4,Q=null;for(var N=0;N<D.length;
N++){var a=new Uint8Array(D[N][0].slice(0));for(var k=0;k<M;k+=4){var o=a[k+3]=a[k+3]>127?255:0;if(o==0)a[k]=a[k+1]=a[k+2]=0}w.push(a.buffer);
i.push(D[N][1])}var U=Math.round(2+254*b[0]/100),V=UPNG.encode.compress(w,n,_,U,[!0,!1,!1,8,!1,b[1]]),c=V.plte,E=new Uint8Array(4),A=new Uint32Array(E.buffer);
for(var k=0;k<c.length;k++){A[0]=c[k];var J=E[0];E[0]=E[2];E[2]=J;c[k]=A[0];if(A[0]==0)Q=k}while(c.length<256)c.push(0);
var L=new Uint8Array(2e3+n*_*D.length),P=b[3],u={palette:c};if(P!=1)u.loop=P==0?0:P-1;var m=new GifWriter(L,n,_,u);
for(var k=0;k<D.length;k++){var x=V.frames[k],v=x.rect,W=x.blend,Z=x.dispose,r=Math.round(i[k]/10);if(r<2)r=2;
m.addFrame(v.x,v.y,v.width,v.height,x.img,{transparent:Q,disposal:Z+1,delay:r})}return L.slice(0,m.end()).buffer};
eF.LZ.Ck=function(D){var n=Date.now(),_=[],b=UGIF.decode(D),w=UGIF.toRGBA8(b),i=new gl(0,0,b.width,b.height);
for(var k=0;k<w.length;k++){var M=b.frames[k];_.push({jr:i.clone(),X$:"_a_frm"+k+","+M.delay*10,data:w[k]})}return _};
eF.Zw={};eF.Zw.VX=function(D,n,_,b){console.log(D);if(n>256||_>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var w=Math.min(n,256),i=Math.min(_,256),M=new gl(0,0,w,i),N=B.U(M.u()*4),a=new gl(0,0,n,_),o=new Uint8Array(D[0][0]);
B.E3(o,a,N,M);D[0][0]=N.buffer;n=w;_=i}var U=new bF,V=0,c=b&&b[0]==!0;j.k7(U,V,0);V+=2;j.k7(U,V,c?2:1);
V+=2;j.k7(U,V,1);V+=2;var E=new Uint8Array(eF.rW("png").VX(D,n,_));U.Mz(V,16);U.data[V]=n==256?0:n;V++;
U.data[V]=_==256?0:_;V++;V+=2;j.k7(U,V,c?Math.round(n/2):1);V+=2;j.k7(U,V,c?Math.round(_/2):32);V+=2;
j.sN(U,V,E.length);V+=4;j.sN(U,V,6+16);V+=4;U.Mz(V,E.length);for(var k=0;k<E.length;k++)U.data[V+k]=E[k];
V+=E.length;var A=new Uint8Array(V);for(var k=0;k<V;k++)A[k]=U.data[k];return A.buffer};eF.Zw.Ck=function(D){D=new Uint8Array(D);
var n=4,_=j.P$(D,n);n+=2;var b=[];for(var k=0;k<_;k++){var w=eF.Zw.ahR(D,n+k*16),i=D.buffer.slice(w.offset,w.offset+w.size),M=eF.pV(i);
M=M?M:"bmp";if(M=="png"){var N=eF.rW(M),a=N.Ck(i);w.w5=a[0]}else{var o=eF.rW("BMP").acO(i,0),i=B.U(w.Wj*w.Rw*4);
B.E3(new Uint8Array(o.data),new gl(0,0,o.jr.l,o.jr.e),i,new gl(0,w.Rw,w.Wj,w.Rw));o.data=i.buffer;o.jr.e=w.Rw;
w.w5=o}b.push(w)}b.sort(function(U,V){if(U.Wj!=V.Wj)return U.Wj-V.Wj;return U.asP-V.asP});return[b.pop().w5]};
eF.Zw.ahR=function(D,n){var _={};_.Wj=D[n];n++;if(_.Wj==0)_.Wj=256;_.Rw=D[n];n++;if(_.Rw==0)_.Rw=256;
_.a2a=D[n];n++;n++;_.a3H=j.P$(D,n);n+=2;_.asP=j.P$(D,n);n+=2;_.size=j.c7(D,n);n+=4;_.offset=j.c7(D,n);
n+=4;return _};eF.JB={};eF.JB.Ck=function(D){var n=Date.now(),b,V=!0;if(B.raw.RL(D.byteLength))return[B.raw.a8s(D)];
var _=UTIF.decode(D);if(_[0].t33421)b=_[0];else if(_[0].subIFD&&_[0].t271&&_[0].t271[0]=="Hasselblad"){b=_[0].subIFD[0];
b.t33421=[2,2]}else if(_[0].subIFD&&_[0].subIFD[0].t33421){b=_[0].subIFD[0];if(b.t50706==null){if(b.t258[0]==8)b.t258[0]=12}}else if(_[0].subIFD&&_[0].subIFD[0]&&_[0].subIFD[0].t262&&_[0].subIFD[0].t262[0]==34892)b=_[0].subIFD[0];
else if(_[0].subIFD&&_[0].subIFD[1]&&_[0].subIFD[1].t33421)b=_[0].subIFD[1];else if(_[0].subIFD&&_[0].subIFD[2]&&_[0].subIFD[2].t33421)b=_[0].subIFD[2];
else if(_[3]&&_[3].t50648){var w=_[0].exifIFD,i=w.makerNote;b=_[3];var M=i.t224[1],N=i.t224[2];b.t256=[M];
b.t257=[N];b.t258=[16];b.t259=[7];b.t262=[32803];b.t277=[1];b.t33421=[2,2];var a=b.t50656[0],o=B.raw.LD[a];
if(o==null)throw"e";b.t33422=o}if(b){UTIF.decodeImage(D,b,_);for(var U in _[0])if((U[0]=="t"||U[0]=="e"||U[0]=="d")&&b[U]==null)b[U]=_[0][U];
b.P5=_[0].t274?_[0].t274[0]:1;return[b]}var c=1/256;for(var k=0;k<_.length;k++)if(_[k].t258&&_[k].t258[0]==16&&_[k].t277&&_[k].t277[0]==1){}else V=!1;
if(V){var E=0,A=0,Q=0;for(var k=0;k<_.length;k++){UTIF.decodeImage(D,_[k],_);var J=_[k].data;for(var L=0;
L<J.length;L+=2){var P=J[L+1]<<8|J[L];if(P>E)E=P;A+=P;Q++}}c=1/256*65535/(.5*E+.5*(2*A/Q))}var u=[];
for(var k=0;k<_.length;k++){var m=_[k],x=72;UTIF.decodeImage(D,m,_);var v=m.t282,W=m.t296;if(v!=null&&W!=null){x=v[0][0]/v[0][1];
if(W[0]==3)x=Math.round(x/2.54)}if(m.width==null)continue;var Z=UTIF.toRGBA8(m,c).buffer,r=fB.fZ(m);
u.push({jr:new gl(0,0,m.width,m.height),data:Z,Cn:x,Zd:r})}return u};eF.JB.VX=function(D,n,_,b){if(b==null)b=[!1];
var w={},i=D[0];if(i[3]!=null&&b[0])w=fB.qX(i[3]);if(i[2]!=null){w.t282=w.t283=[[Math.round(i[2]),1]];
w.t296=[2]}return UTIF.encodeImage(i[0],n,_,w)};eF.Yg={};eF.Yg.Il=!0;eF.Yg.Ck=function(D,n){e2.Z6(D,n)};
eF.Yg.aaM=function(D,n,_,b){if(b==null)b=[!1,!1,!1,!1];if(!b[0])D.iS();var w=new bF,i=e2.dK(D,w,b);return[w.data.buffer,i]};
eF.Yg.VX=function(D,n,_,b){var w=eF.Yg.aaM(D,n,_,b),i=w[0],M=w[1];return i.byteLength==M?i:i.slice(0,M)};
eF.CM={};eF.CM.Il=!0;eF.CM.Ck=function(D,n){var _=pako.inflate(new Uint8Array(D)),b=j.UH(_,0),w=j.UH(_,2),i=4;
n.l=j.n(_,i);i+=4;n.e=j.n(_,i);i+=4;n.buffer=B.U(n.l*n.e*4);var M=j.UH(_,i);i+=2;i+=4;for(var N=0;N<M;
N++){var a=n.ni(),A=0,y=1,h=2,Y=3,K=0;n.b.push(a);var o=j.n(_,i);i+=4;var U=i,V=j.UH(_,U);U+=2;var c=j.KA(_,U,V);
U+=V;a.rK(c);var E=_[U];U++;if(E!=0&&E!=1)throw E;a.rect.x=j.H8(_,U);U+=4;a.rect.y=j.H8(_,U);U+=4;a.rect.l=j.n(_,U);
U+=4;a.rect.e=j.n(_,U);U+=4;if(b>3){A=j.H8(_,U);U+=4}a.opacity=Math.round(255*_[U]/100);U++;var Q=_[U];
U++;a.oj(Q!=0);a.QQ="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[_[U]];
U++;var J=_[U];U++;if(J)a.add.lspf=1<<31;if(b>3){var L=j.UH(_,U);U+=2;if(L!=0){var P=JSON.parse(j.KA(_,U,L));
U+=L;var u=P.text,m=P.textSettings,x=m.font,v=m.size,W=m.padding,Z=parseInt(m.color.slice(1),16);a.add.lnsr="rend";
a.add.TySh=jg.aH(0,0);a.add.TySh.dI=new gl(0,0,100,100);var r=a.add.TySh.A=new e3,X=a.rect.l/2,$=a.rect.e/2;
r.translate(-X,-$);r.rotate(-A*Math.PI/180);r.translate(X,$);r.translate(a.rect.x+W,a.rect.y+W);var I=a.add.TySh.uP;
jg.EN(I,1);jg.vR(I,[0,0,a.rect.l-W*2,a.rect.e]);jg.kW(I,0,u);var T=jg.np(I,0,1);T.OT.FontSize=v;T.OT.FillColor={Type:1,Values:[1,(Z>>>16&255)/255,(Z>>>8&255)/255,(Z>>>0&255)/255]};
if(m.bold)x+="-Bold";jg.jd(T,x);T.ew.Justification=["left","right","center"].indexOf(m.align);jg.Ka(I,0,u.length,T)}}var e=j.n(_,U);
U+=4;if(e!=a.rect.u()*4){for(var k=a.rect.l;k>a.rect.l/2;k--){var F=e/(k*4);if(F==Math.round(F)){a.rect.l=k;
a.rect.e=F;break}}}a.buffer=B.U(a.rect.u()*4);if(b>3){y=0;h=1;Y=2;K=3}for(var k=0;k<e;k+=4){a.buffer[k]=_[U+k+y];
a.buffer[k+1]=_[U+k+h];a.buffer[k+2]=_[U+k+Y];a.buffer[k+3]=_[U+k+K]}U+=e;var z=j.n(_,U);U+=4;if(z==0&&b>3){i+=o;
continue}var f=_[U];U++;var s=j.UH(_,U);U+=2;if(z!=0){a.v=new q.$L;a.v.rect=a.rect.clone();a.v.channel=B.U(a.rect.u());
for(var k=0;k<z;k+=4)a.v.channel[k>>>2]=_[U+k+1];U+=z}if(f!=0){var l=JSON.parse(ci.default);a.add.lmfx=l;
for(var k=0;k<ci.order.length;k++)l[ci.L0[k]]={t:"VlLs",v:[]};var g={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var k=0;k<f;k++){var H=j.UH(_,U),O=U+H+4,C=_.slice(U,O),ib=_[U+2];U+=3;var hH=g[ib+""],R=JSON.parse(ci.D6[hH]);
l[ci.L0[hH]].v.push({t:"Objc",v:R});if(hH!=0){R.Md.v.BlnM=jz.j0("norm");R.Opct.v.val=_[U];U++;if(hH==9||hH==2){R.Dstn.v.val=_[U+1];
U+=2}else U+=2;R.blur.v.val=Math.round(_[U]*1.2);U++;if(hH==9||hH==2){R.uglg.v=!1;R.lagl.v.val=180-j.UH(_,U);
U+=2}R.Clr.v=B.X.Ea({p:_[U+1],z:_[U+2],S:_[U+3]})}else{R.hglM.v.BlnM=R.sdwM.v.BlnM=jz.j0("norm");U+=2;
var fR=_[U++],j4=_[U++];R.blur.v.val=Math.round(Math.sqrt(j4*fR)*1.3);R.srgR.v.val=Math.round(100*fR/j4);
R.uglg.v=!1;R.lagl.v.val=180-j.UH(_,U);U+=2;R.hglO.v.val=_[U++];R.hglC.v=B.X.Ea({p:_[U+1],z:_[U+2],S:_[U+3]});
U+=4;R.sdwO.v.val=_[U++];R.sdwC.v=B.X.Ea({p:_[U+1],z:_[U+2],S:_[U+3]});U+=4}U=O}}if(U-i<o){var cP=j.n(_,U),b9=0;
U+=4;U++;var V=j.UH(_,U);U+=2;var u=j.KA(_,U,V);U+=V;u=u.replace(/\r/g,"\n");var V=j.UH(_,U);U+=2;var x=j.KA(_,U,V);
U+=V;var v=j.UH(_,U);U+=2;var a8=a.rect.x,d0=a.rect.l;if(cP&4)b9=1;if(cP&2)b9=2;var jG=Math.round(v*.4);
if(b9==0||b9==2)d0+=jG;if(b9==1||b9==2){d0+=jG;a8-=jG}a.add.lnsr="rend";a.add.TySh=jg.aH(0,0);a.add.TySh.dI=new gl(0,0,100,100);
a.add.TySh.A=new e3(1,0,0,1,a8,a.rect.y+v*.25);var I=a.add.TySh.uP;jg.EN(I,1);jg.vR(I,[0,0,d0,a.rect.e]);
jg.kW(I,0,u);var T=jg.np(I,0,1);T.OT.FontSize=v;T.OT.FillColor={Type:1,Values:[1,_[U+1]/255,_[U+2]/255,_[U+3]/255]};
U+=4;if(_[U+5])x+="-Bold";if(_[U+6])x+="-Italic";jg.jd(T,x);T.ew.Justification=b9;U+=8;jg.Ka(I,0,u.length,T)}i+=o}};
eF.oO={};eF.oO.Il=!0;eF.oO.Ck=function(D,n){is.Z6(D,n)};eF.nV={};eF.nV.Il=!0;eF.nV.Ck=function(D,n){hA.Z6(D,n)};
eF.rs={};eF.rs.Il=!0;eF.rs.Ck=function(D,n){ew.Z6(D,n)};eF.lU={};eF.lU.Il=!0;eF.lU.Ck=function(D,n){iC.Z6(D,n)};
eF.Yk={};eF.Yk.Il=!0;eF.Yk.Ck=function(D,n){ab.Z6(D,n)};eF.tR={};eF.tR.Il=!0;eF.tR.Ck=function(D,n){ft.Z6(D,n)};
eF.Y1={};eF.Y1.Il=!0;eF.Y1.VX=function(D,n,_,b,w){if(b==null)b=[!0,!1,!1,!1,!0,!0];var i=et.Jz(D,{x4:b[0],hidden:b[1],auR:b[2],afI:b[3],names:b[4],arw:b[5],ar1:n,asV:_},w.mz);
return i};eF.Y1.Ck=function(D,n,_){et.Z6(D,n,_)};eF.mF={};eF.mF.Il=!0;eF.mF.Ck=function(D,n){var _=150,b=new e3(1,0,0,-1,0,0);
b.scale(_/72,_/72);n.Cn=_;var w=new ag(n,b,!0);FromPS.Parse(D,w)};eF.oL={};eF.oL.Il=!0;eF.oL.VX=function(D,n,_,b,w){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=["jpg"];var i=new ToPDF;gQ.Jz(D,b,i,w.mz,n,_);return i.buffer};eF.oL.Ck=function(D,n,_){var b=2;
while(!0){var w=b*72,i=new e3(1,0,0,-1,0,0);i.scale(w/72,w/72);n.Cn=w;var M=new ag(n,i,!0);FromPDF.Parse(D,M);
var N=Math.max(n.l,n.e);if(_&&N<Math.max(_[0],_[1])){n.b=[];var a=b;while(N*(b/a)<Math.max(_[0],_[1]))b++}else break}};
eF.I$={};eF.I$.Il=!0;eF.I$.Ck=function(D,n){var _=72,b=new e3(1,0,0,1,0,0);b.scale(_/72,_/72);n.Cn=_;
var w=new ag(n,b,!1);FromWMF.Parse(D,w)};eF.cN={};eF.cN.OL=!0;eF.cN.Il=!0;eF.cN.VX=function(D,n,_,b,w){if(b==null)b=["",100,!1,!1,!1,0];
b[6]=[];var i=new ToEMF;gQ.Jz(D,b,i,w.mz);return i.buffer};eF.cN.Ck=function(D,n){var _=72,b=new e3(1,0,0,1,0,0);
b.scale(_/72,_/72);n.Cn=_;var w=new ag(n,b,!1);FromEMF.Parse(D,w)};eF.le={};eF.le.Il=!0;eF.le.Ck=function(D,n){return f2.Z6(D,n)};
eF.s7={};eF.s7.Ck=function(D,n){var _=im.Z6(D),b=new Uint8Array(D),w=0,i,M,N,a,o,U,V,c,E=0,A=0,Q=0,J=0,L=0;
for(var P=0;P<_.sub.length;P++){var u=_.sub[P],w=u.r;if(u.Vn=="BMHD"){var m=[];for(var k=0;k<4;k++)m[k]=j.UH(b,w+2*k);
w+=8;a=m[2];o=m[3];M=m[0];N=m[1];i=B.U(M*N*4);U=b[w++];V=b[w++];c=b[w++]}else if(u.Vn=="CMAP")E=w;else if(u.Vn=="CAMG"){var x=j.n(b,w);
A=x&32768,Q=x&4,J=x&2048;L=x&128}else if(u.Vn=="BODY"){var v=M+15>>>4<<1,W=U+V,r=B.U(v*N*W),T,e,F;f8.oc(b,w,u.size,r,0,r.length);
var X=U-2,$=(1<<X)-1,I=Math.round(255/$);for(var o=0;o<N;o++)for(var a=0;a<M;a++){var y=0;for(var h=0;
h<W;h++){var Y=(o*W+h)*v*8+a,K=r[Y>>>3]>>>7-(Y&7)&1;y|=K<<h}var z=y>>>U,y=y&(1<<U)-1,k=o*M+a,f=k<<2;
if(E!=0){if(J!=0&&y>>>X!=0){var s=y>>>X,l=(y&$)*I;if(s==1)F=l;else if(s==2)T=l;else if(s==3)e=l}else{var l=E+y*3;
T=b[l+0];e=b[l+1];F=b[l+2]}}else{T=y>>>0&255;e=y>>>8&255;F=y>>>16&255}i[f+0]=T;i[f+1]=e;i[f+2]=F;i[f+3]=255}}}return[{jr:new gl(0,0,M,N),data:i.buffer}]};
eF.XT={};eF.XT.Il=!1;eF.XT.VX=function(D,n,_,b){var w=D[0][4],i=new Uint8Array(D[0][0]),M=2,N=w?!0:!1,a=N?4:3,o=new Uint8Array(n*_*a);
for(var U=0;U<_;U++)for(var V=0;V<n;V++){var c=U*n+V<<2,E=((_-U-1)*n+V)*a;o[E]=i[c+2];o[E+1]=i[c+1];
o[E+2]=i[c+0];if(N)o[E+3]=w[0][U*n+V]}if(!0){var A=o.length,Q=0,J=new Uint8Array(A*2),L=0,P=0,u=n*a;
while(P<A){var m=P,x=0,v=u*(Math.floor(P/u)+1);while(m<v&&x<128){var W=!0;for(var k=0;k<a;k++)W=W&o[P+k]==o[m+k];
if(!W)break;m+=a;x++}if(x==1){var Z=1;while(Z<128&&P+(Z+1)*a<v){var W=!0,r=P+Z*a;for(var k=0;k<a;k++)W=W&o[r+k]==o[r+a+k];
if(W)break;Z++}J[L++]=Z-1;for(var X=0;X<Z;X++)for(var k=0;k<a;k++)J[L++]=o[P++]}else{J[L++]=127+x;for(var k=0;
k<a;k++)J[L+k]=o[P+k];L+=a;P+=a*x;Q+=x}}o=J.slice(0,L);M+=8}var $=new Uint8Array(18+o.length+26);$[2]=M;
j.jy($,12,n);j.jy($,14,_);$[16]=a*8;$[17]=a==4?8:0;$.set(o,18);j.Wu($,18+o.length+8,"TRUEVISION-XFILE.");
return $.buffer};eF.XT.Ck=function(D){var n=new Uint8Array(D),_=0,b=n[0],w=n[1],i=n[2],M=n[4]*256+n[3],N=n[6]*256+n[5],a=n[7],o=n[9]*256+n[8],U=n[11]*256+n[10],V=n[13]*256+n[12],c=n[15]*256+n[14],E=n[16],A=n[17],Q=A>>>4,J=j.gw(n,18,b),L=B.U(V*c*4),_=18+b+(N*a>>>3),P=new Uint8Array(n.buffer,_);
if(i>3){var u=0,m=n,x=new Uint8Array(V*c*E>>>3),v=_,W=0,Z=n.length,r=E>>>3;while(W<x.length){var cQ=m[v];
v++;if(cQ<128)for(var k=0;k<cQ+1;k++){for(var X=0;X<r;X++){x[W]=m[v];W++;v++}}else{for(var k=0;k<cQ-127;
k++){for(var X=0;X<r;X++){x[W]=m[v+X];W++}}v+=r}}i-=8;P=x;_=v}else _+=V*c*E>>>3;var $=new Uint8Array(4),I=eF.XT.anR;
for(var T=0;T<c;T++)for(var e=0;e<V;e++){var F=(Q&2)==0?(c-T-1)*V+e:T*V+e,y=T*V+e,h,Y,K,z=255,f=F*E>>>3;
if(i==1){var s=0;if(E==8)s=P[f];else throw"e";I(n,18+b+M+(s*a>>>3),a,$);h=$[0];Y=$[1];K=$[2];z=$[3]}else if(i==2){I(P,f,E,$);
h=$[0];Y=$[1];K=$[2];z=$[3]}else if(i==3){if(E==8)h=Y=K=P[f];else throw"e"}var l=y*4;L[l]=h;L[l+1]=Y;
L[l+2]=K;L[l+3]=z}var $={jr:new gl(0,0,V,c),data:L.buffer,X$:J};if(B.GE(L)){var g=B.U(V*c);B.Ef(L,g,3);
B.o5(L,4278190080,16777215);$.wK=[g]}return[$]};eF.XT.anR=function(D,n,_,b){var w,i,M,N=255;if(_==24||_==32){M=D[n];
i=D[n+1];w=D[n+2];if(_==32)N=D[n+3]}else if(_==16){var a=D[n+1]<<8|D[n+0];w=a>>>10&31;i=a>>>5&31;M=a>>>0&31;
w=Math.round(w*(255/31));i=Math.round(i*(255/31));M=Math.round(M*(255/31))}else throw"e";b[0]=w;b[1]=i;
b[2]=M;b[3]=N};eF.a5j=function(){var D,n=[],_=!1;function b(M,N,a,o){D=a;n.push(M,o);w()}function w(){if(_||n.length==0)return;
_=!0;eF.ap5(n.shift(),"image/avif",i)}function i(M){D(null,[M],n.shift());_=!1;w()}return{Il:!1,_o:!0,Ck:b}}();
eF.ajE=function(){var D,n=[],_=!1,b,w,i,M,N,a;function o(E,A,Q,J){D=Q;n.push(E,J);U()}function U(){if(_||n.length==0)return;
_=!0;b=document.createElement("canvas");w=b.getContext("2d");i=document.createElement("video");var E="data:"+"video/mp4"+";base64,"+eF.AC(n.shift());
i.src=E;i.muted=!0;i.currentTime=0;i.addEventListener("canplay",V,!1);i.addEventListener("timeupdate",c,!1)}function V(E){i.removeEventListener("canplay",V);
M=b.width=i.videoWidth;N=b.height=i.videoHeight;a=[];i.play()}function c(E){var A=10;w.drawImage(i,0,0);
a.push({X$:"_a_"+a.length+","+Math.round(1e3/A),jr:new gl(0,0,M,N),data:w.getImageData(0,0,M,N).data.buffer});
var Q=i.currentTime+1/A;if(Q<i.duration)i.currentTime=Q;else{D(null,a,n.shift());i.removeEventListener("timeupdate",c);
_=!1;U();a=null}}return{Il:!1,_o:!0,Ck:o}}();eF.iK={};eF.iK.Ck=function(D){var n=new Uint8Array(D),_=0,b=112,w=42,i=j.c7,U;
_+=8;var M=n[_];_++;if(M!=w)throw"e";var N=i(n,_);_+=4;var a=j.Hy(n,_,N);_+=N*2;var o=[];while(_<n.length){U=i(n,_);
_+=4;if(U!=b)throw U;_+=4;U=n[_];_++;if(U!=w)throw U;var V=i(n,_);_+=4;var c=n[_];_++;if(c!=w){_-=5;
V=i(n,_);_+=8;U=n[_];_++;if(U!=w)throw U}var E=i(n,_)*2;_+=4;if(V>0)o.push(_+E);_+=E+V}var A=new DOMParser,Q=A.parseFromString(a,"image/svg+xml").firstChild.firstChild,J=[];
eF.iK.eb(Q,n,o,J);return J};eF.iK.eb=function(D,n,_,b){var w=D.firstChild.firstChild;if(w.tagName=="Image"){var i=w.getElementsByTagName("ImageDescription")[0],M=i.children[0].children,N=i.children[1].children,a=_.shift(),o=[];
for(var k=0;k<N.length;k++)o.push(parseInt(N[k].getAttribute("NumberOfElements")));while(o.length>3)o[2]*=o.pop();
var U=M.length,V=o[0],c=o[1],E=o[2],A=parseInt(N[0].getAttribute("BytesInc"));for(var Q=0;Q<E;Q++){var J=B.U(V*c*4);
B.o5(J,4278190080);for(var L=0;L<U;L++){var P=B.U(V*c);if(A==1)for(var u=0;u<P.length;u++)P[u]=n[a+u];
else if(A==2)for(var u=0;u<P.length;u++)P[u]=Math.min(255,(n[a+u*2+1]<<8|n[a+u*2])>>>2);else throw A;
if(L!=3)B.tD(P,J,L);if(U==1){B.tD(P,J,1);B.tD(P,J,2)}a+=V*c*A}b.push({jr:new gl(0,0,V,c),data:J.buffer})}}else{var m=D.children,x=0;
while(x<m.length&&m[x].tagName!="Children")x++;if(x==m.length)throw"e";m=m[x].children;for(var v=0;v<m.length;
v++)eF.iK.eb(m[v],n,_,b)}};eF.Hw={};eF.Hw.Ck=function(D){var n=new Uint8Array(D),_=0,b={},U=1e9;for(var k=0;
k<306;k++){var w=j.gw(n,_,8).trim(),i=j.gw(n,_+9,71).split("/")[0].trim();b[w]=i;_+=80;if(w=="END"){_=Math.ceil(_/2880)*2880;
break}}var M=parseInt(b.NAXIS1),N=parseInt(b.NAXIS2),a=M*N,o=parseInt(b.BITPIX),V=-1e9,c=new Float32Array(a),E=new Float32Array(D,_,D.byteLength-_>>>2);
for(var k=0;k<a;k++){var A=k<<2,Q=k<<1;if(o==-32){var J=n[_+A+0];n[_+A+0]=n[_+A+3];n[_+A+3]=J;var J=n[_+A+1];
n[_+A+1]=n[_+A+2];n[_+A+2]=J;c[k]=E[k]}else if(o==16){c[k]=j.P$(n,_+Q)}else throw o;var L=c[k];if(L<U)U=L;
if(L>V)V=L}var P=B.U(a*4),u=1/V;for(var m=0;m<N;m++)for(var x=0;x<M;x++){var k=m*M+x,v=(N-m-1)*M+x,A=v<<2,L=c[k]*u;
P[A]=P[A+1]=P[A+2]=255*L;P[A+3]=255}return[{jr:new gl(0,0,M,N),data:P,X$:b.OBJECT}]};eF.Wr={};eF.Wr.Ck=function(D){var n=new Uint8Array(D),_=16,b=j.gw(n,_,4),i=32,L=0,P=0,u=!1,Y;
_+=4;var w=j.gw(n,_,8);_+=8;while(n[_+i-1]==0)i--;var M=j.gw(n,_,i);_+=32;var N=j.gw(n,_,4);_+=4;_+=20;
var a=j.n(n,_);_+=4;var o=j.n(n,_);_+=4;var U=j.n(n,_);_+=4;var V=j.n(n,_);_+=4;var c=j.n(n,_);_+=4;
var E=j.n(n,_);_+=4;var A="FujiFilm "+M,Q=[0,1,1,2];if(A=="FujiFilm X10"){A="FujiFilm FinePix X10";Q=[2,1,1,0]}var J={t271:["FujiFilm"],t272:[A],t277:[1],t33421:[2,2],t33422:Q,P5:1};
_=U;var m=[],x=j.UH,v=j.n(n,_);_+=4;for(var k=0;k<v;k++){var W=x(n,_);_+=2;var Z=x(n,_);_+=2;if(W==256){P=x(n,_);
L=x(n,_+2)}else if(W==272){m=[x(n,_),x(n,_+2)]}else if(W==273){m.push(x(n,_),x(n,_+2))}else if(W==304){u=!(n[_]>>>7)}else if(W==305){var r=Math.round(Math.sqrt(Z)),X=[];
for(var $=0;$<Z;$++)X.push(n[_+$]);X.reverse();J.t33421=[r,r];J.t33422=X}else if(W==12272){var I=x(n,_),T=x(n,_+2),e=x(n,_+6);
J.t50728=[I/T,1,I/e]}_+=Z}var F=L<P,y=n.slice(c,c+E),h=Math.round(E*8/(L*P));if(y[0]==73&&y[1]==73&&y[2]==42){Y=UTIF.decode(y.buffer)[0].fujiIFD;
h=Y.t61443[0];var K=Y.t61454,z=Y.t61450;if(z)J.t50714=z;if(K)J.t50728=[K[0]/K[1],1,K[0]/K[2]];var f=Y.t61447[0];
y=y.slice(f,f+Y.t61448[0])}var E=y.length,s=E*8<L*P*h;if(s){console.log("compressed");var l=J.t33422,g=~~Math.sqrt(l.length),H=[];
for(var k=0;k<g;k++)H[k]=l.slice(k*g,k*g+g);y=new Uint8Array(UTIF._decompressRAF(y,H).buffer);E=y.length}function O(fR,j4,cP){cP=cP<<8-(j4&7);
var a8=j4>>>3;fR[a8]|=cP>>>16;fR[a8+1]|=cP>>>8;fR[a8+2]|=cP}var C=E*8/(L*P);if(C==16)for(var k=0;k<E;
k+=2){var ib=y[k];y[k]=y[k+1];y[k+1]=ib}else if(C==14){for(var k=0;k<E;k+=4){var ib=y[k];y[k]=y[k+3];
y[k+3]=ib;ib=y[k+1];y[k+1]=y[k+2];y[k+2]=ib}}else if(C==12)for(var k=0;k<E;k+=3){var hH=y[k+2]<<16|y[k+1]<<8|y[k+0];
hH=hH>>>12|(hH&4095)<<12;y[k]=hH>>>16&255;y[k+1]=hH>>>8&255;y[k+2]=hH&255}if(F)y=eF.Wr.amd(y,L,P);var R=F?2:1;
L*=R;J.t256=[L];J.t257=[P];J.t258=[h];J.t50719=[m[1],m[0]*R];J.t50720=[m[3],m[2]*R];J.width=L;J.height=P;
J.data=new Uint8Array(y.buffer);return[J]};eF.Wr.amd=function(D,n,_){D=new Uint16Array(D.buffer);var b=new Uint16Array(n*_*2);
for(var w=0;w<_;w+=2)for(var i=0;i<n;i++){var M=w*n+i,N=M*2,a=D[M],o=D[M+n];b[N+1]=b[N+2*n]=o;if(((w>>>1)+i&1)==0){b[N]=a;
b[N+2*n+1]=D[M+1]}else{b[N]=D[M-1];b[N+2*n+1]=a}}return b};eF.Dj={};eF.Dj.OL=!0;eF.Dj.VX=function(D,n,_,b){var w=new Uint8Array(D[0][0]),i=n*_,M=[1,3,4][b[0]],N=8+8*b[1],a=b[2];
if(M==1){var o=new Uint8Array(n*_);B.Ef(w,o,0);w=o}if(M==3){var o=new Uint8Array(n*_*3);for(var k=0;
k<i;k++){var U=k*4,V=k*3;o[V]=w[U];o[V+1]=w[U+1];o[V+2]=w[U+2]}w=o}if(N==16){var c=w.length,o=new Uint8Array(c*2);
for(var k=0;k<c;k++){var E=Math.round(w[k]*(65535/255));o[k*2+a]=E>>>8;o[k*2+1-a]=E&255}w=o}return w.buffer};
eF.cB={};eF.cB.Ck=function(D,n){function _(a){return~~(.5+B.Ul(Math.max(0,Math.min(1,a)))*255)}var b=EXRLoader.parse(D),w=b.width,i=b.height,M=B.U(w*i*4);
for(var N=0;N<i;N++)for(var a=0;a<w;a++){var k=(N*w+a)*4,o=((i-N-1)*w+a)*4;M[k]=_(b.data[o+0]);M[k+1]=_(b.data[o+1]);
M[k+2]=_(b.data[o+2]);M[k+3]=_(b.data[o+3])}return[{jr:new gl(0,0,w,i),data:M.buffer}]};eF.MD={};eF.MD.OL=!0;
eF.MD.Il=!0;eF.MD.VX=function(D,n,_,b,w){b=["",100,!1,!1,!1,0];b[6]=["jpg"];var i=new ToDXF;gQ.Jz(D,b,i,w.mz);
return i.buffer};eF.MD.Ck=function(D,n){var _=72,b=new e3(1,0,0,1,0,0);b.scale(_/72,_/72);n.Cn=_;var w=new ag(n,b,!1);
FromDXF.Parse(D,w)};eF.Z0={};eF.Z0.Ck=function(){var D=j.P$,n=j.c7,_=j.gw,b;function w(M,N,a,o,U){var V=n(M,a),c=n(M,a+4),E=n(M,a+8),A=D(M,a+12),Q=D(M,a+14);
a+=16;var J={};for(var k=0;k<A+Q;k++){var L=n(M,a),P=n(M,a+4),u,m;if(L>>>31==1){L=L&16777215}if(k<A)u=j.Hy(M,N+L+2,D(M,N+L));
else u="id"+L;var x=o.slice(0);x.push(u);if(P>>>31==1){P=P&268435455;m=w(M,N,N+P,x,U)}else{var v=n(M,N+P),W=n(M,N+P+4),Z=n(M,N+P+8),r=n(M,N+P+12);
if(r!=0)throw"e";if(v<U[0]||v>U[0]+U[1])throw"e";var X=U[2]+v-U[0];m=M.slice(X,X+W);var $=eF.pV(m.buffer);
if($&&["bmp","png","ico"].indexOf($)!=-1){var I=eF.rW($);if(!I.Il){var T=null;try{T=I.Ck(m.buffer)}catch(io){}if(T){T[0].X$=x[1];
b.push(T[0])}}}else if($)console.log($)}J[u]=m;a+=8}return J}function i(M){b=[];var N=new Uint8Array(M),a=0,o=D(N,a);
a+=2;a+=58;var U=n(N,a);a+=4;a=U;var V=_(N,a,4);a+=4;var c=D(N,a);a+=2;var E=D(N,a);a+=2;var A=n(N,a);
a+=4;var Q=n(N,a);a+=4;var J=n(N,a);a+=4;var L=D(N,a);a+=2;var P=D(N,a);a+=2;a+=L;var u={};for(var k=0;
k<E;k++){var m=a;while(N[m]!=0)m++;var x=_(N,a,m-a),v=n(N,a+8),W=n(N,a+12),Z=n(N,a+16),r=n(N,a+20),X=n(N,a+24),$=n(N,a+28),I=D(N,a+32),T=D(N,a+34),P=n(N,a+36);
u[x]=[W,v,r,Z,P];if(X+$!=0)throw"e";a+=40}for(var e in u){var F=u[e];a=F[2];if(e==".rsrc"){var y=w(N,a,a,[],F),h="id134"}}return b}return i}();
eF.lT={};eF.lT.Il=!0;eF.lT.Ck=function(D,n){dI.Z6(D,n)};(function(){var D=eF.dm.get("wasm/zstd").buffer;
WebAssembly.instantiate(D).then(function(n){var _=n.instance.exports;eF.lT.auz=_})}());eF.lT.$b=function(D,n){var _=eF.lT.auz,b=D.length,w=_.memory,i=2*b+1e6,a=8;
eF.pO(_,i);var M=new Uint8Array(w.buffer),N=_.malloc(b);M.set(D,N);while(!0){var o=n==null?b*a:n;eF.pO(_,i+o);
var U=_.malloc(o),V=_.ZSTD_decompress(U,o,N,b);if(V==-70){_.free(U);a+=a>>>1;if(n!=null)throw"error"}else{M=new Uint8Array(w.buffer);
D=M.slice(U,U+V);_.free(U);break}}_.free(N);return D};eF.b2={};eF.b2.Il=!0;eF.b2.Ck=function(){var D=0,n=1,_=2,b=3,w=4,i=5,M=6,N=7,a=1,o=2,U=7,V=8,c=9,E,A,Q,J,L;
function P(){var cQ=j.ci(E,A);A+=4;return cQ}function u(){var Y=0,K=0;for(var k=0;k<5;k++){var z=E[A++];
Y+=(z&127)<<K;K+=7;if((z&128)==0)break}return Y}function m(){var Y=u(),K=j.KA(E,A,Y);A+=Y;return K}function x(){return{typeName:m(),a1C:P()}}function v(){var Y=P(),K=m(),z=[],f=P();
for(var k=0;k<f;k++)z.push([m()]);return{id:Y,Tz:K,alp:z}}function W(Y){var K=Y.alp,z=[];for(var k=0;
k<K.length;k++)K[k].push(E[A++]);for(var k=0;k<K.length;k++){var f=K[k][1],s;K[k].push(Z(f))}}function Z(Y){var K;
if(Y==D)K=E[A++];else if(Y==b)K=m();else if(Y==w)K=x();else if(Y==n||Y==_||Y==M||Y==i){}else throw Y;
return K}function r(Y,K,z){var f;if(Y==D){if(K==a)f=E[A++]==1;else if(K==o){f=E[A++]}else if(K==V)f=P();
else if(K==c){f=P();P()}else throw K}else if(Y==b){f=T(z+1)}else if(Y==w){f=T(z+1)}else if(Y==i){f=T(z+1)}else if(Y==n){f=T(z+1)}else if(Y==M){f=T(z+1)}else throw Y;
return f}function X(Y,K){var z=Q["c"+Y],f=z.alp,s={_class:z.Tz};for(var k=0;k<f.length;k++){var l=f[k],g=l[1],H=l[2],O=r(g,H,K),C=l[0];
s[C]=O}return s}function $(Y,K,z,f){var s=[];for(var k=0;k<Y;k++){var l=r(K,z,f);if(l.hH&&l.hH=="null_count"){var g=l.Ky;
for(var H=0;H<g;H++)s.push(null);k+=g-1}else s.push(l)}return s}function I(){return[P(),P()]}function T(Y){if(Y==null)throw"e";
var K=null,z=E[A],f=null;A++;if(z==0){var s=P(),l=P(),g=P(),H=P();K=[s,l,g,H]}else if(z==1){f=P();var O=P();
K=X(O,Y)}else if(z==4){var C=v();f=C.id;W(C);Q["c"+C.id]=C;K=X(C.id,Y)}else if(z==5){var C=v();f=C.id;
W(C);var ib=P();Q["c"+C.id]=C;K=X(C.id,Y)}else if(z==6){f=P();var hH=m();K=hH}else if(z==7){f=P();var R=E[A++];
if(R!=0)throw R;var fR=P();if(fR!=1)throw fR;var j4=P(),cP=E[A++],a8=Z(cP);K=$(j4,cP,a8,Y)}else if(z==9){var d0=P();
K={hH:"ref",Ky:d0};L["o"+d0]=!0}else if(z==10){K={hH:"null_count",Ky:1}}else if(z==11){K={hH:"end"}}else if(z==12){var ib=P(),b9=m()}else if(z==13){var jG=E[A++];
K={hH:"null_count",Ky:jG}}else if(z==16){var jP=I();f=jP[0];K=$(jP[1],w,null,Y)}else if(z==17){var jP=I();
f=jP[0];K=$(jP[1],n,null,Y)}else throw"e";if(f!=null&&f>0){if(J["o"+f]!=null)throw"e";J["o"+f]=K}return K}function e(Y,J){if(Y instanceof Array){for(var k=0;
k<Y.length;k++)Y[k]=F(Y[k],J)}else if(Y instanceof Object){for(var K in Y)Y[K]=F(Y[K],J)}}function F(Y,J){if(Y&&Y.hH&&Y.hH=="ref")return J["o"+Y.Ky];
else return Y}function y(Y,K,z){E=new Uint8Array(Y);A=0;Q={};J={};L={};var f=j.gw(E,0,4);if(f!="PDN3")throw f;
A+=4;var s=j.P$(E,A)+E[A+2]*256*256;A+=3;var l=j.gw(E,A,s);A+=s;A+=2;while(!0){var g=T(0);if(g&&g.hH&&g.hH=="end")break}for(var H in L)if(J[H]==null)throw H;
for(var H in J)e(J[H],J);var O=J.o1;console.log(O);K.l=O.width;K.e=O.height;K.buffer=B.U(K.l*K.e*4);
var C=O.layers["ArrayList+_items"];for(var k=0;k<C.length;k++){var ib=C[k];if(ib==null)continue;console.log(ib);
var hH=ib["Layer+width"],R=ib["Layer+height"],fR=ib["Layer+properties"],j4=ib.properties,cP=j4.blendOp._class.split("+").pop();
cP=cP.slice(0,cP.length-7);var a8={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[cP],d0=K.ni();
d0.rK(fR.name);d0.opacity=fR.opacity;d0.oj(fR.visible);d0.QQ=a8;var b9=1<<16,jG=Math.ceil(hH*R/b9);d0.rect=new gl(0,0,hH,R);
d0.buffer=B.U(hH*R*4);var jP=d0.buffer;A+=5;for(var aq=0;aq<jG;aq++){var gM=h();jP.set(gM[1],gM[0]*b9*4)}for(var gv=0;
gv<jP.length;gv+=4){var dT=jP[gv+0];jP[gv+0]=jP[gv+2];jP[gv+2]=dT}K.b.push(d0)}}function h(){var Y=j.n(E,A);
A+=4;var K=j.n(E,A);A+=4;var z=pako.inflateRaw(E.slice(A+10));A+=K;return[Y,z]}return y}();var p={};
p.b$=!1;p.BU=!1;p.Sk=!1;p.O=document.createElement("canvas");p.aB=null;p.Z3=null;p.dh=0;(function(){var D={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},n;
if(!n)n=p.O.getContext("webgl",D);if(!n)n=p.O.getContext("experimental-webgl",D);if(n){p.b$=!0;p.BU=!0;
p.aB=n;p.Z3=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,p.Z3);n.disable(n.BLEND);n.disable(n.DEPTH_TEST);
var _=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,_);n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW);
n.enableVertexAttribArray(0);n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0)}}());p.a7R=function(D){D=D.replace(/\s\s+/g," ");
D=D.replace(/; /g,";");D=D.replace(/} /g,"}");D=D.replace(/ }/g,"}");D=D.replace(/{ /g,"{");D=D.replace(/ {/g,"{");
D=D.replace(/= /g,"=");D=D.replace(/ =/g,"=");D=D.replace(/\| /g,"|");D=D.replace(/ \|/g,"|");return D};
p.a4F=function(D){var n=p.aB;if(D>n.getParameter(n.MAX_TEXTURE_SIZE)){p.b$=!1;alert("Disabling WebGL")}};
p.vW=function(D,n){return new Float32Array([(D.x-n.x)/n.l,(D.y-n.y)/n.e,D.l/n.l,D.e/n.e])};p.HY=function(){return this.O};
p.pv=function(D,n){var _=p.aB;_.bindFramebuffer(_.FRAMEBUFFER,p.Z3);_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,D.QI,0);
_.viewport(0,0,D.l,D.e);if(n){_.enable(_.SCISSOR_TEST);_.scissor(n.x,n.y,n.l,n.e)}else _.disable(_.SCISSOR_TEST)};
p.zr=function(D,n,_){if(_)throw"error";var b=p.aB;b.disable(b.SCISSOR_TEST);b.bindFramebuffer(b.FRAMEBUFFER,null);
b.viewport(0,0,D,n);if(_){b.enable(b.SCISSOR_TEST);b.scissor(_.x,_.y,Math.round(_.l),Math.round(_.e))}else b.disable(b.SCISSOR_TEST)};
p.clear=function(){var D=p.aB;D.clearColor(0,0,0,0);D.clear(D.COLOR_BUFFER_BIT)};p.Ms=function(D,n){if(n==null)n=0;
var _=(n>>>0&255)==0,b=(n>>>8&255)==0,w=(n>>>16&255)==0,i=(n>>>24&255)==0,M=(D>>>0&255)*(1/255),N=(D>>>8&255)*(1/255),a=(D>>>16&255)*(1/255),o=(D>>>24&255)*(1/255),U=p.aB;
U.colorMask(_,b,w,i);U.clearColor(M,N,a,o);U.clear(U.COLOR_BUFFER_BIT);U.colorMask(!0,!0,!0,!0)};p.dp=function(D,n,_,b,w){var i=n.zE(b);
if(w)i=i.zE(w);if(i.hk())return;var M=p.aB;p.pv(D);M.bindTexture(M.TEXTURE_2D,_.QI);M.copyTexSubImage2D(M.TEXTURE_2D,0,i.x-b.x,i.y-b.y,i.x-n.x,i.y-n.y,i.l,i.e)};
p.rD=function(k,D,n){var _=p.qc[k];if(_==null||_.l!=D||_.e!=n){if(_)_.delete();_=new p.YV(D,n)}p.qc[k]=_;
return _};p.qc=[];p.f5=function(){this.YS=null;this.l7=null};p.f5.xe=null;p.f5.prototype.li=function(D){if(this.l7)return;
this.l7={};var n=p.aB,_=this.YS,b=this.l7;for(var k=0;k<D.length;k++){var w=D[k];b[w]=n.getUniformLocation(_,w)}};
p.f5.prototype.OF=function(){};p.f5.prototype.wW=function(D){var n=p.aB;for(var k=0;k<D.length;k+=2){n.uniform1i(D[k],k>>>1);
n.activeTexture(n["TEXTURE"+(k>>>1)]);n.bindTexture(n.TEXTURE_2D,D[k+1])}n.activeTexture(n.TEXTURE0)};
p.f5.prototype.zJ=function(D,n){var _=p.aB,b=_.createShader(_.FRAGMENT_SHADER);_.shaderSource(b,D);_.compileShader(b);
if(!_.getShaderParameter(b,_.COMPILE_STATUS))console.log(_.getShaderInfoLog(b));var w=_.createShader(_.VERTEX_SHADER);
_.shaderSource(w,n);_.compileShader(w);if(!_.getShaderParameter(w,_.COMPILE_STATUS))console.log(_.getShaderInfoLog(w));
var i=_.createProgram();_.attachShader(i,w);_.attachShader(i,b);_.linkProgram(i);if(!_.getProgramParameter(i,_.LINK_STATUS))console.log("Could not initialise shaders");
this.YS=i};p.f5.prototype.pp=function(){if(p.f5.xe!=this){p.aB.useProgram(this.YS);p.f5.xe=this}};p.EU=function(D,n){p.GA++;
p.dh+=D*n;if(p.Sk)console.log("GL.Channels instances: "+p.GA+", memory: "+p.dh);var _=p.aB;this.l=D;
this.e=n;this.QI=_.createTexture();this.QG=null;this.gr(this.QI,D,n)};p.EU.prototype.gr=function(D,n,_){var b=p.aB;
b.bindTexture(b.TEXTURE_2D,D);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);
b.texImage2D(b.TEXTURE_2D,0,b.ALPHA,n,_,0,b.ALPHA,b.UNSIGNED_BYTE,null)};p.EU.prototype.set=function(D){var n=p.aB;
n.bindTexture(n.TEXTURE_2D,this.QI);n.pixelStorei(n.UNPACK_ALIGNMENT,1);n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,this.l,this.e,0,n.ALPHA,n.UNSIGNED_BYTE,D);
n.pixelStorei(n.UNPACK_ALIGNMENT,4)};p.EU.prototype.delete=function(){var D=p.aB;if(this.QI){D.deleteTexture(this.QI);
p.GA--;p.dh-=this.l*this.e}if(p.Sk)if(p.Sk)console.log("GL.Channels instances: "+p.GA+", memory: "+p.dh*4)};
p.GA=0;p.YV=function(D,n,_){if(_==null)_=!1;p.GA++;p.dh+=D*n*4;if(p.Sk)console.log("GL.Channels instances: "+p.GA+", memory: "+p.dh);
var b=p.aB;this.aps=_;this.l=D;this.e=n;this.QI=b.createTexture();this.QG=null;this.gr(this.QI,D,n)};
p.YV.prototype.set=function(D,n){var _=p.aB;_.disable(_.SCISSOR_TEST);_.bindTexture(_.TEXTURE_2D,this.QI);
if(D==null||D instanceof Uint8Array){var b=this.l*this.e;if(n==null||n.u()*10>b)_.texImage2D(_.TEXTURE_2D,0,_.RGBA,this.l,this.e,0,_.RGBA,_.UNSIGNED_BYTE,D);
else{var w=B.U(n.u()*4);B.E3(D,new gl(0,0,this.l,this.e),w,n);_.texSubImage2D(_.TEXTURE_2D,0,n.x,n.y,n.l,n.e,_.RGBA,_.UNSIGNED_BYTE,w)}}else _.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,D)};
p.YV.prototype.get=function(D){var n=p.aB;p.pv(this);n.readPixels(0,0,this.l,this.e,n.RGBA,n.UNSIGNED_BYTE,D)};
p.YV.prototype.WN=function(D){if(D.hk())return;var n=p.aB;if(this.QG==null){this.QG=n.createTexture();
this.gr(this.QG,this.l,this.e);p.GA++;p.dh+=this.l*this.e*4}n.bindFramebuffer(n.FRAMEBUFFER,p.Z3);n.bindTexture(n.TEXTURE_2D,this.QG);
if(D){var _=Math.max(D.x,0),b=Math.max(D.y,0);n.copyTexSubImage2D(n.TEXTURE_2D,0,_,b,_,b,D.l,D.e)}else n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,this.l,this.e,0)};
p.YV.prototype.gr=function(D,n,_){var b=p.aB;b.bindTexture(b.TEXTURE_2D,D);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,this.aps?b.LINEAR:b.NEAREST);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);
b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,n,_,0,b.RGBA,b.UNSIGNED_BYTE,null)};
p.YV.prototype.delete=function(){var D=p.aB;if(this.QI){D.deleteTexture(this.QI);p.GA--;p.dh-=this.l*this.e*4}if(this.QG){D.deleteTexture(this.QG);
p.GA--;p.dh-=this.l*this.e*4}if(p.Sk)if(p.Sk)console.log("GL.Channels instances: "+p.GA+", memory: "+p.dh)};
p.YV.prototype.clone=function(){var D=p.aB,n=new p.YV(this.l,this.e);p.pv(this);D.bindTexture(D.TEXTURE_2D,n.QI);
D.copyTexImage2D(D.TEXTURE_2D,0,D.RGBA,0,0,this.l,this.e,0);return n};p.Lb={a0e:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",akU:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",oI:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",LL:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",f$:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Gi:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",M9:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",vn:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a65:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Q2:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ap6:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",p_:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",jG:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",_U:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",jz:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",sa:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",CS:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Ra:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",aS:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",abm:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",a9n:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",k1:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
p.a={};p.a.$X={};p.a.Tb=null;p.a.vc=null;p.a.yV=null;p.a.zG=function(D,n,_,b,w,i,M,N){if(N==null)N=aL.Rt();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(D)==-1){M=M*N.fill;N.fill=1;N.style=!1}var a=D+(N.bc?"1":"");
if(p.a.$X[a]==null)p.a.$X[a]=new p.a.nr(D,N.bc!=null);var o=p.a.$X[a],U=_.zE(w).zE(i);U.offset(-w.x,-w.y);
if(U.hk())return;var V=p.aB;p.pv(b,U);b.WN(U);o.pp();o.OF(n.QI,b.QG,p.vW(_,w),M,N.fill,N.style?1:0,N.M$?1:0,N.bc?new Float32Array(N.bc):null);
V.drawArrays(V.TRIANGLES,0,6)};p.a.VY=function(D,n,_,b,w,i,M,N,a,o,U){if(p.a.Tb==null)p.a.Tb=new p.a.rJ(!0,!0);
if(p.a.vc==null)p.a.vc=new p.a.rJ(!0,!1);if(p.a.yV==null)p.a.yV=new p.a.rJ(!1,!0);var V=o?1:0,c=D?w?p.a.Tb:p.a.vc:p.a.yV,E=new Float32Array(U?[U[0],U[1],U[2],1]:[1,1,1,1]),A=n?n.zE(b).zE(N):b.zE(N);
if(A.hk())return;A.offset(-b.x,-b.y);var Q=p.aB;p.pv(_,A);_.WN(A);c.pp();if(D==null)c.OF(null,_.QG,w.QI,p.vW(b,b),p.vW(i,b),M/255,a,V,E);
else if(w)c.OF(D.QI,_.QG,w.QI,p.vW(n,b),p.vW(i,b),M/255,a,V,E);else c.OF(D.QI,_.QG,null,p.vW(n,b),null,M/255,a,V,E);
Q.drawArrays(Q.TRIANGLES,0,6)};p.a.ast=function(D,n,_){if(p.a.ahp==null)p.a.ahp=new p.a.Em;var b=p.a.ahp,w=new gl(0,0,D.l,D.e),i=p.aB;
p.pv(n);n.WN(w);b.pp();b.OF(w,D.QI,n.QG,_.QI);i.drawArrays(i.TRIANGLES,0,6)};p.a.ZU={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
p.a.nr=function(D,n){p.f5.call(this);var _="\t\t\tprecision highp float;\t\t\t"+p.Lb.oI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(n?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+p.Lb.Gi+"\t\t\t"+p.Lb.M9+"\t\t\t"+p.Lb.vn+"\t\t\t"+p.Lb.a0e+"\t\t\t"+p.Lb.akU+"\t\t\t"+p.Lb.a65+"\t\t\t"+p.Lb.Q2+"\t\t\t"+p.Lb.ap6+"\t\t\t"+p.Lb.p_+"\t\t\t"+p.Lb.hash+"\t\t\t"+(n?p.Lb.k1:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+p.a.ZU[D]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",b="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(D=="diss")_+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else _+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(n?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.zJ(_,b)};p.a.nr.prototype=new p.f5;p.a.nr.prototype.OF=function(D,n,_,b,w,i,M,N){this.li("srct alpha source target fill style keepBGA blIf".split(" "));
var a=p.aB,o=this.l7;a.uniform4fv(o.srct,_);a.uniform1f(o.alpha,b);a.uniform1f(o.fill,w);a.uniform1f(o.style,i);
a.uniform1f(o.keepBGA,M);if(N)a.uniform4fv(o.blIf,N);this.wW([o.source,D,o.target,n])};p.a.rJ=function(D,n){p.f5.call(this);
this.amk=D;this.U7=n;var _="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+p.Lb.jG+"\t\t\t"+p.Lb.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(D?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(n?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(D?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(n?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",b="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.zJ(_,b)};p.a.rJ.prototype=new p.f5;p.a.rJ.prototype.OF=function(D,n,_,b,w,i,M,N,a){if(this.U7)this.li("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.li("srct awg dissv source target cswitch".split(" "));var o=p.aB,U=this.l7;o.uniform4fv(U.srct,b);
if(this.U7){o.uniform4fv(U.wrct,w);o.uniform1f(U.wcolor,i)}else{o.uniform4fv(U.cswitch,a)}o.uniform1f(U.awg,M);
o.uniform1f(U.dissv,N);var V=[U.source,D,U.target,n];if(this.U7)V.push(U.weight,_);this.wW(V)};p.a.Em=function(){p.f5.call(this);
var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",n="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.zJ(D,n)};p.a.Em.prototype=new p.f5;p.a.Em.prototype.OF=function(D,n,_,b){this.li(["rct","prev","next","alpha"]);
var w=p.aB,i=this.l7;w.uniform4fv(i.rct,[0,0,1,1]);this.wW([i.prev,n,i.next,_,i.alpha,b])};p.IL={O_:{},JV:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
p.IL.UG=function(D,n){var _=fg.zB,b=[_.bS,_.cn,_.y7,_.ep,_.I5,_.PO,_.WU,_.oW].indexOf(D.type),w=p.IL.O_[D.type];
if(w==null)w=p.IL.O_[D.type]=new p.O_[b];w.pp();w.OF(n,D);p.aB.drawArrays(p.aB.TRIANGLES,0,6)};p.O_=[];
p.O_[0]=function(){p.f5.call(this);this.Wv={};var D="\t\t\tprecision mediump float;\t\t\t"+p.Lb.M9+"\t\t\t"+p.Lb.oI+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[0].prototype=new p.f5;p.O_[0].prototype.OF=function(D,n){var _={p:n.Lo,z:n.aM,S:n.BS,vd:B.U(n.Lo.length)},b=_.p.length;
if(this.Wv["m"+b]==null){this.Wv["m"+b]={a59:new p.YV(b,1),B_:B.U(b*4)}}var w=this.Wv["m"+b];B.wq(_,w.B_,0);
var i=w.a59;i.set(w.B_);this.li(["source","map","toGray","presLum"]);var M=p.aB,N=this.l7;M.uniform1f(N.toGray,n.hj?1:0);
M.uniform1f(N.presLum,n.jq?1:0);this.wW([N.source,D,N.map,i.QI])};p.O_[1]=function(){p.f5.call(this);
this.a9T=new p.YV(256,1);this.a4z=B.U(256*4);var D="\t\t\t\tprecision mediump float;\t\t\t\t"+p.Lb.sa+"\t\t\t\t"+p.Lb._U+"\t\t\t\t"+p.Lb.jz+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[1].prototype=new p.f5;p.O_[1].prototype.OF=function(D,n){B.wq({p:n.a7j,z:n.nj,S:n.aad,vd:B.U(256)},this.a4z);
this.a9T.set(this.a4z);this.li(["source","map","cfa","cfb","colorize"]);var _=p.aB,b=this.l7;_.uniform1f(b.cfa,n.a1b);
_.uniform1f(b.cfb,n.r9);_.uniform1i(b.colorize,n.aqK);this.wW([b.source,D,b.map,this.a9T.QI])};p.O_[2]=function(){p.f5.call(this);
var D="\t\t\tprecision mediump float;\t\t\t"+p.Lb.sa+"\t\t\t"+p.Lb.CS+"\t\t\t"+p.Lb.Ra+"\t\t\t"+p.Lb._U+"\t\t\t"+p.Lb.jz+"\t\t\t"+p.Lb.abm+"\t\t\t"+p.Lb.a9n+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[2].prototype=new p.f5;p.O_[2].prototype.OF=function(D,n){this.li(["source","vib","sat","yF"]);
var _=p.aB,b=this.l7;_.uniform1f(b.vib,n.hy[0]);_.uniform1f(b.sat,n.hy[1]);_.uniform3fv(b.yF,new Float32Array([n.hy[2],n.hy[3],n.hy[3]]));
this.wW([b.source,D])};p.O_[3]=function(){p.f5.call(this);var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[3].prototype=new p.f5;p.O_[3].prototype.OF=function(D,n){this.li(["source","trf"]);
var _=p.aB,b=this.l7;_.uniformMatrix4fv(b.trf,!1,new Float32Array(B.dl.V4(n.Ox)));this.wW([b.source,D])};
p.O_[4]=function(){p.f5.call(this);var D="\t\t\tprecision mediump float; \t\t\t"+p.Lb.aS+"\t\t\t"+p.Lb.sa+"\t\t\t"+p.Lb.jz+"\t\t\t"+p.Lb._U+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[4].prototype=new p.f5;p.O_[4].prototype.OF=function(D,n){this.li(["source","mnm","mxm","shift","lim"]);
var _=p.aB,b=this.l7;_.uniform3fv(b.mnm,new Float32Array(n.ov));_.uniform3fv(b.mxm,new Float32Array(n.$k));
_.uniform3fv(b.shift,new Float32Array(n.shift));_.uniform1f(b.lim,n.TT);this.wW([b.source,D])};p.O_[5]=function(){p.f5.call(this);
var D="\t\t\tprecision mediump float;\t\t\t"+p.Lb.oI+"\t\t\t"+p.Lb.LL+"\t\t\t"+p.Lb.f$+"\t\t\t"+p.Lb._U+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[5].prototype=new p.f5;p.O_[5].prototype.OF=function(D,n){this.li(["source","cfs"]);
var _=p.aB,b=this.l7;_.uniform3fv(b.cfs,n.a1A);this.wW([b.source,D])};p.O_[6]=function(){p.f5.call(this);
var D="\t\t\tprecision mediump float;\t\t\t"+p.Lb.sa+"\t\t\t"+p.Lb.LL+"\t\t\t"+p.Lb.f$+"\t\t\t"+p.Lb._U+"\t\t\t"+p.Lb.jz+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[6].prototype=new p.f5;p.O_[6].prototype.OF=function(D,n){this.li(["source","wght","prms"]);
var _=p.aB,b=this.l7,w=[n.zd,n.aon,n.M9,n.ab4,n.yH,n.acE];_.uniform1fv(b.wght,new Float32Array(n.a5R));
_.uniform1fv(b.prms,new Float32Array(w));this.wW([b.source,D])};p.O_[7]=function(){p.f5.call(this);this.si={};
var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.zJ(D,p.IL.JV)};p.O_[7].prototype=new p.f5;p.O_[7].prototype.OF=function(D,n){this.li(["source","lut","N"]);
var _=p.aB,b=this.l7,w=n.wg,i=n.j3;if(this.si["m"+w]==null)this.si["m"+w]=new p.YV(w,w*w);var M=this.si["m"+w];
M.set(i);_.uniform1f(b.N,w);this.wW([b.source,D,b.lut,M.QI]);_.activeTexture(_.TEXTURE1);var N=_.LINEAR;
_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,N);_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,N);
_.activeTexture(_.TEXTURE0)};p.filter={LP:{},JV:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aem:0,a5S:1,l5:2,a81:3,a0L:4,a5P:5,P2:6,a6I:7};
p.filter.UG=function(D,n){var _=p.filter,b,w=D.type+":"+(D.Bl?D.Bl.join(","):""),b=p.filter.LP[w];if(b==null)b=p.filter.LP[w]=new p.LP[D.type](D.Bl);
b.pp();b.OF(n,D);p.aB.drawArrays(p.aB.TRIANGLES,0,6)};p.LP=[0,0,0,0,0,0,0,0,0,0,0,0];p.LP[7]=function(){p.f5.call(this);
var D="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.zJ(gU.f1(D),gU.f1(p.filter.JV))};p.LP[7].prototype=new p.f5;p.LP[7].prototype.OF=function(D,n){this.li(["source","iwh","kern"]);
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform1fv(b.kern,n.anp);this.wW([b.source,D])};p.LP[6]=function(D){p.f5.call(this);
var n=D[0],_=D[1],b=D[2],w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",i=gU.f1(w);
i=i.replaceAll("PRC",b+".0");i=i.replaceAll("DIR",["x,0","0,x"][_]);this.zJ(i,p.IL.JV)};p.LP[6].prototype=new p.f5;
p.LP[6].prototype.OF=function(D,n){this.li(["source","iwh","rad"]);var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);
_.uniform1f(b.rad,n.me);this.wW([b.source,D])};p.LP[4]=function(D){p.f5.call(this);var n=D[0],_=D[1],b="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+D[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][_]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][n]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][_]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(_==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.zJ(b,p.IL.JV)};p.LP[4].prototype=new p.f5;p.LP[4].prototype.OF=function(D,n){this.li(["source","iwh","rrad","tr"]);
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform1f(b.rrad,n.M5);_.uniform1f(b.tr,n.as0);this.wW([b.source,D]);
var w=_.LINEAR;w=_.NEAREST;_.activeTexture(_.TEXTURE0);_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,w);
_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,w);_.activeTexture(_.TEXTURE0)};p.LP[5]=function(){p.f5.call(this);
var D="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.zJ(gU.f1(D),gU.f1(p.filter.JV))};p.LP[5].prototype=new p.f5;p.LP[5].prototype.OF=function(D,n){this.li(["source","ssum","iwh","amnt","edgf"]);
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform1f(b.amnt,n.acs);_.uniform1f(b.edgf,n.afz);this.wW([b.source,D,b.ssum,n.apc])};
p.LP[3]=function(){p.f5.call(this);var D="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.zJ(gU.f1(D),gU.f1(p.filter.JV))};p.LP[3].prototype=new p.f5;p.LP[3].prototype.OF=function(D,n){this.li("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform1f(b.tdep,n.a1x);_.uniform1f(b.rrad,n.M5);_.uniform2fv(b.spec,n.atm);
_.uniform3fv(b.nois,n.ac_);_.uniformMatrix4fv(b.poly0,!1,n.acP);_.uniformMatrix4fv(b.poly1,!1,n.auw);
this.wW([b.source,D]);var w=_.LINEAR;_.activeTexture(_.TEXTURE0);_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,w);
_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,w);_.activeTexture(_.TEXTURE0)};p.LP[0]=function(){p.f5.call(this);
var D="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.zJ(gU.f1(D),gU.f1(p.filter.JV))};p.LP[0].prototype=new p.f5;p.LP[0].prototype.OF=function(D,n){this.li(["source","iwh","ld","shine"]);
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform3fv(b.ld,n.auA);_.uniform1f(b.shine,n.ajV);this.wW([b.source,D,b.tang,n.Fn])};
p.LP[1]=function(){p.f5.call(this);var D="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.zJ(gU.f1(D),gU.f1(p.filter.JV))};p.LP[1].prototype=new p.f5;p.LP[1].prototype.OF=function(D,n){this.li(["source","iwh","isc","bristle"]);
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform1f(b.isc,n.a7D);_.uniform1f(b.bristle,n.atn);
this.wW([b.source,D])};p.LP[2]=function(){p.f5.call(this);var D="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.zJ(gU.f1(D),gU.f1(p.filter.JV))};p.LP[2].prototype=new p.f5;p.LP[2].prototype.OF=function(D,n){this.li(["source","tang","iwh","sigma","expo"]);
var _=p.aB,b=this.l7;_.uniform2fv(b.iwh,n.ye);_.uniform1f(b.sigma,n.a5s);_.uniform1f(b.expo,n.arS);this.wW([b.source,D,b.tang,n.Fn]);
var w=_.LINEAR;_.activeTexture(_.TEXTURE0);_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,w);_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,w);
_.activeTexture(_.TEXTURE0)};function B(){}B.I={};B.a0i={};B.ac7=function(){var D=[64,64,128,256,512,1024,2048],n=[];
for(var k=0;k<D.length;k++){var _=D[k],b=document.createElement("canvas");b.width=_;b.height=_;n.push(b.getContext("2d"))}return n}();
B.HY=function(D,n){var _,b=B.ac7,k=1,w=Math.max(D,n);while(k<b.length&&w>b[k].canvas.width)k++;if(k==b.length){_=b[0];
var i=_.canvas;i.width=D;i.height=n}else{_=b[k];_.clearRect(0,0,D,n)}return _};B.mw=function(D,n,_){var b=new Uint32Array(n*_);
b[0]=D[0];for(var w=1;w<n;w++)b[w]=b[w-1]+D[w];for(var i=1;i<_;i++){var k=i*n;b[k]=b[k-n]+D[k];for(var w=1;
w<n;w++)b[k+w]=D[k+w]+b[k+w-1]+b[k+w-n]-b[k+w-n-1]}return b};B.V7=function(D,n,_,b,w,i){var M=(w-1)*n,N=i*n;
return D[N+b]-D[N+_-1]-D[M+b]+D[M+_-1]};B.cA=function(D,n,_){var b={},w=0,i=0,M=new Uint32Array(D.buffer),N=M.length,a=Date.now();
for(var o=1;o<_-1;o++)for(var U=1;U<n-1;U++){var V=o*n+U,c=M[V];if(c>>>24<230)i++;if(b[c]==null){b[c]=!0;
w++}}if(i!=0||w<20)return!1;return!0};B.Xj=function(D,n,_,b,w,i){if(w==null)w=i=0;b=Math.log(b)/Math.log(2);
b=Math.round(b);for(var k=0;k<_;k++)for(var M=0;M<n;M++){var N=k*n+M<<2,a=B.V0(k+i,M+w,b);D[N]=D[N+1]=D[N+2]=a;
D[N+3]=255}};B.V0=function(k,D,n){return 255-((k>>>n)+(D>>>n)&1)*51};B.xQ=function(D){var n=D.toString(16);
while(n.length<6)n="0"+n;return n};B.Ee=function(D){return parseInt(D,16)};B.M9=function(D){return.3*D.p+.59*D.z+.11*D.S};
B.Gi=function(D){return Math.max(D.p,D.z,D.S)-Math.min(D.p,D.z,D.S)};B.cu=function(D,n,_){return.3*D+.59*n+.11*_};
B.anf=function(D,n,_){return Math.max(D,n,_)-Math.min(D,n,_)};B.LL=function(D,n){var _=n-D,b=Math.abs(_),w=_-1,i=_+1;
if(Math.abs(w)<b)_=w;else if(Math.abs(i)<b)_=i;return _};B.Ul=function(D){return D<.0031308?12.92*D:1.055*Math.pow(D,1/2.4)-.055};
B.bU=function(D){return D<.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)};B.alN=function(D,n){var _=Math.min(D.length,n.length);
for(var k=0;k<_;k+=4){var b=D[k],w=D[k+1],i=D[k+2];n[k]=16+Math.floor(65.481/255*b+128.553/255*w+24.966/255*i+.5);
n[k+1]=128-Math.floor(37.797/255*b-74.203/255*w+112/255*i+.5);n[k+2]=128+Math.floor(112/255*b-93.786/255*w-18.214/255*i+.5);
n[k+3]=D[k+3]}};B.a8f=function(D,n,_){var b,w,i,M=Math.max(D,n,_),N=Math.min(D,n,_);i=M;if(M!=0)w=(M-N)/M;
else w=0;if(w==0)b=0;else{var a=M-N,o=(M-D)/a,U=(M-n)/a,V=(M-_)/a;if(D==M)b=V-U;else if(n==M)b=2+o-V;
else b=4+U-o;b*=1/6;if(b<0)b=b+1}return{Rw:b,cg:w,S:i}};B.aii=function(D,n,_){var b=0,w=0,i=0;if(n==0)b=w=i=_;
else{var M=(D-Math.floor(D))*6,N=Math.floor(M),a=M-Math.floor(M),o=_*(1-n),U=_*(1-n*a),V=_*(1-n*(1-a));
switch(N){case 0:b=_;w=V;i=o;break;case 1:b=U;w=_;i=o;break;case 2:b=o;w=_;i=V;break;case 3:b=o;w=U;
i=_;break;case 4:b=V;w=o;i=_;break;case 5:b=_;w=o;i=U;break}}return{p:b,z:w,S:i}};B._U=function(D,n,_){var b=Math.max(D,n,_),w=Math.min(D,n,_),i=0,M=0,N=(b+w)*.5;
if(b!=w){var a=b-w;M=N>.5?a/(2-(b+w)):a/(b+w);switch(b){case D:i=(n-_)/a+(n<_?6:0);break;case n:i=(_-D)/a+2;
break;case _:i=(D-n)/a+4;break}i*=1/6}return{Rw:i,cg:M,kL:N}};B.jz=function(D,n,_){var b,w,i;if(n==0)b=w=i=_;
else{var M=_<.5?_*(1+n):_+n-_*n,N=2*_-M;b=B.sa(N,M,D+1/3);w=B.sa(N,M,D);i=B.sa(N,M,D-1/3)}return{p:b,z:w,S:i}};
B.sa=function(D,n,_){if(_<0)_+=1;if(_>1)_-=1;if(_<1/6)return D+(n-D)*6*_;if(_<1/2)return n;if(_<2/3)return D+(n-D)*(2/3-_)*6;
return D};B.CS=function(D,n,_){var b=Math.max(D,n,_),w=Math.min(D,n,_),i,M,N=b,a=b-w;M=b==0?0:a/b;if(b==w)i=0;
else{switch(b){case D:i=(n-_)/a+(n<_?6:0);break;case n:i=(_-D)/a+2;break;case _:i=(D-n)/a+4;break}i*=1/6}return{Rw:i,cg:M,Ky:N}};
B.Ra=function(D,n,_){var b,w,i,k,M,N,a,o;k=Math.floor(D*6);M=D*6-k;N=_*(1-n);a=_*(1-M*n);o=_*(1-(1-M)*n);
switch(k%6){case 0:b=_,w=o,i=N;break;case 1:b=a,w=_,i=N;break;case 2:b=N,w=_,i=o;break;case 3:b=N,w=a,i=_;
break;case 4:b=o,w=N,i=_;break;case 5:b=_,w=N,i=a;break}return{p:b,z:w,S:i}};B.qm=function(){var D=[],n=[];
for(var k=0;k<2e3;k++){var _=k/1e3;D[k]=B.bU(_);n[k]=_>.008856?Math.pow(_,1/3):(903.3*_+16)*(1/116)}return[D,n]}();
B.aS=function(D,n,_){var b=B.qm[0],w=B.qm[1];D=b[~~(D*(1e3/255))];n=b[~~(n*(1e3/255))];_=b[~~(_*(1e3/255))];
var i=B.dl.aee,M=i[0]*D+i[1]*n+i[2]*_,N=i[4]*D+i[5]*n+i[6]*_,a=i[8]*D+i[9]*n+i[10]*_;M=M*(100/96.72);
N=N*(100/100);a=a*(100/81.427);return B.KW(M,N,a)};B.KW=function(D,n,_){var b=B.qm[1],w=b[~~(D*1e3)],i=b[~~(n*1e3)],M=b[~~(_*1e3)];
return{ue:116*i-16,vd:500*(w-i),S:200*(i-M)}};B.Eg=function(D,n,_){var b=903.3,w=.008856,i=(D+16)/116,M=i*i*i,N=i-_/200,a=N*N*N,o=n/500+i,U=o*o*o,V=a>w?a:(116*N-16)/b,c=M>w?M:(116*i-16)/b,E=U>w?U:(116*o-16)/b,A=E*96.72,Q=c*100,J=V*81.427,L=B.dl.$F(B.dl.Re,[A/100,Q/100,J/100,0]);
for(var k=0;k<4;k++)L[k]=Math.max(0,Math.min(255,B.Ul(L[k])*255));return{p:L[0],z:L[1],S:L[2]}};B.xG=function(D,n,_,b,w){var i=D.ue,M=D.vd,N=D.S,a=(i<n.ue?n.ue-i:_.ue<i?_.ue-i:0)*(1/100),o=(M<n.vd?n.vd-M:_.vd<M?_.vd-M:0)*(1/116),U=(N<n.S?n.S-N:_.S<N?_.S-N:0)*(1/116),V=Math.sqrt(a*a+o*o+U*U)*1.35;
return V<=b?Math.min(1,1.17*(1-V*w)):0};B.hE=function(D,n,_){var b=D.length,w=.3,i=.59,M=.11;if(_){w=_[0];
i=_[1];M=_[2]}for(var k=0;k<b;k+=4)n[k>>2]=~~(D[k+0]*w+D[k+1]*i+D[k+2]*M+.5)};B.hd=function(D,n){var _=n.length;
for(var k=0;k<_;k+=4){var b=D[k>>>2];n[k]=b;n[k+1]=b;n[k+2]=b}};B.wq=function(D,n){var _=D.vd,b=D.p,w=D.z,i=D.S,M=Math.min(D.vd.length,n.buffer.byteLength>>>2),N=4*Math.floor(M/4),a=new Uint32Array(n.buffer),o=new Uint32Array(_.buffer),U=new Uint32Array(b.buffer),V=new Uint32Array(w.buffer),c=new Uint32Array(i.buffer);
for(var k=0;k<N;k+=4){var E=o[k>>2],A=c[k>>2],Q=V[k>>2],J=U[k>>2];a[k]=E<<24|(A&255)<<16|(Q&255)<<8|J&255;
a[k+1]=(E&65280)<<16|(A&65280)<<8|Q&65280|(J&65280)>>>8;a[k+2]=(E&16711680)<<8|A&16711680|(Q&16711680)>>>8|(J&16711680)>>>16;
a[k+3]=E&4278190080|(A&4278190080)>>>8|(Q&4278190080)>>>16|(J&4278190080)>>>24}for(var k=N;k<M;k++)a[k]=_[k]<<24|i[k]<<16|w[k]<<8|b[k]};
B.BJ=function(D,n){var _=n.vd,b=n.p,w=n.z,i=n.S,M=Math.min(n.vd.length,D.buffer.byteLength>>>2),N=4*Math.floor(M/4),a=new Uint32Array(D.buffer),o=new Uint32Array(_.buffer),U=new Uint32Array(b.buffer),V=new Uint32Array(w.buffer),c=new Uint32Array(i.buffer);
for(var k=0;k<N;k+=4){var E=a[k],A=a[k+1],Q=a[k+2],J=a[k+3];U[k>>2]=E&255|(A&255)<<8|(Q&255)<<16|J<<24;
V[k>>2]=(E&65280)>>8|A&65280|(Q&65280)<<8|(J&65280)<<16;c[k>>2]=(E&16711680)>>16|(A&16711680)>>8|Q&16711680|(J&16711680)<<8;
o[k>>2]=E>>>24|A>>>24<<8|Q>>>24<<16|J&4278190080}for(var k=N;k<M;k++){var L=a[k];b[k]=L>>0&255;w[k]=L>>8&255;
i[k]=L>>16&255;_[k]=L>>24&255}};B.Ef=function(D,n,_){var b=new Uint8Array(D.buffer),w=Math.min(b.length/4,n.length);
for(var k=0;k<w;k++){n[k]=b[(k<<2)+_]}};B.tD=function(D,n,_){var b=new Uint8Array(n.buffer),w=new Uint32Array(D.buffer),i=Math.min(b.length/4,D.length),k=0;
while(k+4<i){var M=w[k>>>2];b[(k<<2)+_]=M&255;b[(k<<2)+_+4]=M>>>8&255;b[(k<<2)+_+8]=M>>>16&255;b[(k<<2)+_+12]=M>>>24;
k+=4}while(k<i){b[(k<<2)+_]=D[k];k++}};B.o5=function(D,n,_){if(_==null)_=0;var b=new Uint32Array(D.buffer),w=b.length;
for(var k=0;k<w;k++)b[k]=b[k]&_|n};B.atS=function(D,n,_,b,w){if(w==null)w=0;var i=new Uint32Array(D.buffer);
_=_.zE(n);var M=_.x-n.x,N=_.y-n.y,a=_.l,o=_.e,U=n.l;for(var V=0;V<o;V++){var k=(N+V)*U+M;for(var c=0;
c<a;c++){i[k]=i[k]&w|b;k++}}};B.nb=function(D,n){var _=Math.min(D.buffer.byteLength,n.buffer.byteLength),b=_>>>2,D=new Uint32Array(D.buffer,0,b),n=new Uint32Array(n.buffer,0,b);
n.set(D)};B.l8=function(D,n){var _=D.buffer.byteLength,b=n.buffer.byteLength,w=new Uint32Array(D.buffer,0,_>>2),i=new Uint32Array(n.buffer,0,b>>2);
if(_!=b)return!1;var M=w.length;for(var k=0;k<M;k++)if(i[k]!=w[k])return!1;return!0};B.ei=function(D){var n=new Uint32Array(D.buffer),_=n.length;
for(var k=0;k<_;k++)n[k]=~n[k]};B.a2n=function(D){var n=D.length;for(var k=0;k<n;k+=4){D[k]=~D[k];D[k+1]=~D[k+1];
D[k+2]=~D[k+2]}};B.a6t=function(D){var n=D.length;for(var k=3;k<n;k+=4)D[k]=~D[k]};B.amb=function(D){return D+(D%4==0?0:4-D%4)};
B.U=function(D,n){if(n==null)n=!1;if(!n)D=B.amb(D);try{var _=new Uint8Array(D)}catch(io){alert("Not enough RAM! (need "+Math.round(D/(1<<20))+" MB)",7e3);
throw"low_ram"}return _};B.Cy=function(D){var n=D.length,_=D[n-2],b=D[n-1];while(b.l>=2&&b.e>=2){var w=B.GX(_,b);
D.push(w.B_,w.rect);_=w.B_;b=w.rect}};B.LQ=function(D){var n=D.length,_=D[n-2],b=D[n-1];while(b.l>=2&&b.e>=2){var w=B.Lc(_,b);
D.push(w.B_,w.rect);_=w.B_;b=w.rect}};B.GX=function(D,n,_){var b=n.l,w=n.e,i=b>>1,M=w>>1,N=new gl(n.x,n.y,i,M),a=_&&_.length==i*M*4?_:B.U(i*M*4),o=new Uint32Array(D.buffer),U=new Uint32Array(a.buffer);
for(var V=0;V<M;V++)for(var c=0;c<i;c++){var E=V*i+c,A=(V<<1)*b+(c<<1),Q=o[A],J=o[A+1],L=o[A+b],P=o[A+b+1],u=Q>>>24,m=J>>>24,x=L>>>24,v=P>>>24,W=u+m+x+v;
if(W==1020){var Z=(Q>>>0&255)+(J>>>0&255)+(L>>>0&255)+(P>>>0&255)+2>>>2,r=(Q>>>8&255)+(J>>>8&255)+(L>>>8&255)+(P>>>8&255)+2>>>2,X=(Q>>>16&255)+(J>>>16&255)+(L>>>16&255)+(P>>>16&255)+2>>>2;
U[E]=255<<24|X<<16|r<<8|Z}else if(W==0)U[E]=0;else{var Z=(Q>>>0&255)*u+(J>>>0&255)*m+(L>>>0&255)*x+(P>>>0&255)*v,r=(Q>>>8&255)*u+(J>>>8&255)*m+(L>>>8&255)*x+(P>>>8&255)*v,X=(Q>>>16&255)*u+(J>>>16&255)*m+(L>>>16&255)*x+(P>>>16&255)*v,$=1/W;
Z=~~(Z*$+.5);r=~~(r*$+.5);X=~~(X*$+.5);U[E]=W+2>>>2<<24|X<<16|r<<8|Z}}return{rect:N,B_:a}};B.g9=function(D,n,_){var b=n.l,w=n.e,i=b>>1,M=w>>1,N=new gl(n.x,n.y,i,M),a=_&&_.length==i*M*4?_:B.U(i*M*4),o=new Uint32Array(D.buffer),U=new Uint32Array(a.buffer);
for(var V=0;V<M;V++)for(var c=0;c<i;c++){var E=V*i+c,A=(V<<1)*b+(c<<1),Q=o[A],J=o[A+1],L=o[A+b],P=o[A+b+1],u=2+(Q>>>0&255)+(J>>>0&255)+(L>>>0&255)+(P>>>0&255)>>>2,m=2+(Q>>>8&255)+(J>>>8&255)+(L>>>8&255)+(P>>>8&255)>>>2,x=2+(Q>>>16&255)+(J>>>16&255)+(L>>>16&255)+(P>>>16&255)>>>2,v=2+(Q>>>24&255)+(J>>>24&255)+(L>>>24&255)+(P>>>24&255)>>>2;
U[E]=v<<24|x<<16|m<<8|u}return{rect:N,B_:a}};B.ahs=function(D,n,_){var b=n.l,w=n.e,i=2*Math.floor(b/3),M=2*Math.floor(w/3),N=new gl(n.x,n.y,i,M),a=_&&_.length==i*M*4?_:B.U(i*M*4),o=new Uint32Array(D.buffer),U=new Uint32Array(a.buffer);
for(var V=0;V<M;V+=2)for(var c=0;c<i;c+=2){var E=V*i+c,A=(V*3>>>1)*b+(c*3>>>1),Q=o[A],J=o[A+1],L=o[A+2],P=o[A+b],u=o[A+1+b],m=o[A+2+b],x=o[A+b+b],v=o[A+1+b+b],W=o[A+2+b+b],Z=Q>>>24<<2,r=(Q>>>16&255)*Z,X=(Q>>>8&255)*Z,$=(Q&255)*Z,I=J>>>24<<1,T=(J>>>16&255)*I,e=(J>>>8&255)*I,F=(J&255)*I,y=L>>>24<<2,h=(L>>>16&255)*y,Y=(L>>>8&255)*y,K=(L&255)*y,z=P>>>24<<1,f=(P>>>16&255)*z,s=(P>>>8&255)*z,l=(P&255)*z,g=u>>>24,H=(u>>>16&255)*g,O=(u>>>8&255)*g,C=(u&255)*g,ib=m>>>24<<1,hH=(m>>>16&255)*ib,R=(m>>>8&255)*ib,fR=(m&255)*ib,j4=x>>>24<<2,cP=(x>>>16&255)*j4,a8=(x>>>8&255)*j4,d0=(x&255)*j4,b9=v>>>24<<1,jG=(v>>>16&255)*b9,jP=(v>>>8&255)*b9,aq=(v&255)*b9,gM=W>>>24<<2,gv=(W>>>16&255)*gM,dT=(W>>>8&255)*gM,aC=(W&255)*gM,c1=Z+I+z+g,aj=y+I+ib+g,bD=j4+b9+z+g,cy=gM+b9+ib+g,co=c1==0?0:1/c1,hV=aj==0?0:1/aj,il=bD==0?0:1/bD,h6=cy==0?0:1/cy,c8=0,fx=0,bU=0,b6=0;
c8=~~(.5+($+F+l+C)*co);fx=~~(.5+(X+e+s+O)*co);bU=~~(.5+(r+T+f+H)*co);b6=~~(.5+c1*(1/9));U[E]=b6<<24|bU<<16|fx<<8|c8;
c8=~~(.5+(K+F+fR+C)*hV);fx=~~(.5+(Y+e+R+O)*hV);bU=~~(.5+(h+T+hH+H)*hV);b6=~~(.5+aj*(1/9));U[E+1]=b6<<24|bU<<16|fx<<8|c8;
c8=~~(.5+(d0+aq+l+C)*il);fx=~~(.5+(a8+jP+s+O)*il);bU=~~(.5+(cP+jG+f+H)*il);b6=~~(.5+bD*(1/9));U[E+i]=b6<<24|bU<<16|fx<<8|c8;
c8=~~(.5+(aC+aq+fR+C)*h6);fx=~~(.5+(dT+jP+R+O)*h6);bU=~~(.5+(gv+jG+hH+H)*h6);b6=~~(.5+cy*(1/9));U[E+i+1]=b6<<24|bU<<16|fx<<8|c8}return{rect:N,B_:a}};
B.a2f=function(D,n,_){var b=n.l,w=n.e,i=2*Math.floor(b/3),M=2*Math.floor(w/3),N=new gl(n.x,n.y,i,M),a=_&&_.length==i*M*4?_:B.U(i*M*4),o=new Uint32Array(D.buffer),U=new Uint32Array(a.buffer);
for(var V=0;V<M;V+=2)for(var c=0;c<i;c+=2){var E=V*i+c,A=(V*3>>>1)*b+(c*3>>>1),Q=o[A],J=o[A+1],L=o[A+2],P=o[A+b],u=o[A+1+b],m=o[A+2+b],x=o[A+b+b],v=o[A+1+b+b],W=o[A+2+b+b],Z=(Q>>>16&255)<<2,r=(Q>>>8&255)<<2,X=(Q&255)<<2,$=(J>>>16&255)<<1,I=(J>>>8&255)<<1,T=(J&255)<<1,e=(L>>>16&255)<<2,F=(L>>>8&255)<<2,y=(L&255)<<2,h=(P>>>16&255)<<1,Y=(P>>>8&255)<<1,K=(P&255)<<1,z=u>>>16&255,f=u>>>8&255,s=u&255,l=(m>>>16&255)<<1,g=(m>>>8&255)<<1,H=(m&255)<<1,O=(x>>>16&255)<<2,C=(x>>>8&255)<<2,ib=(x&255)<<2,hH=(v>>>16&255)<<1,R=(v>>>8&255)<<1,fR=(v&255)<<1,j4=(W>>>16&255)<<2,cP=(W>>>8&255)<<2,a8=(W&255)<<2,d0=0,b9=0,jG=0;
d0=~~(.5+(X+T+K+s)*(1/9));b9=~~(.5+(r+I+Y+f)*(1/9));jG=~~(.5+(Z+$+h+z)*(1/9));U[E]=255<<24|jG<<16|b9<<8|d0;
d0=~~(.5+(y+T+H+s)*(1/9));b9=~~(.5+(F+I+g+f)*(1/9));jG=~~(.5+(e+$+l+z)*(1/9));U[E+1]=255<<24|jG<<16|b9<<8|d0;
d0=~~(.5+(ib+fR+K+s)*(1/9));b9=~~(.5+(C+R+Y+f)*(1/9));jG=~~(.5+(O+hH+h+z)*(1/9));U[E+i]=255<<24|jG<<16|b9<<8|d0;
d0=~~(.5+(a8+fR+H+s)*(1/9));b9=~~(.5+(cP+R+g+f)*(1/9));jG=~~(.5+(j4+hH+l+z)*(1/9));U[E+i+1]=255<<24|jG<<16|b9<<8|d0}return{rect:N,B_:a}};
B.GE=function(D){var n=255,_=D.length;_-=_&31;for(var k=3;k<_;k+=32)n=n&D[k]&D[k+4]&D[k+8]&D[k+12]&D[k+16]&D[k+20]&D[k+24]&D[k+28];
return n!=255};B.a69=function(D,n,_,b){var w=B.GX,i=B.ahs,N=0;if(!B.GE(D)){w=B.g9;i=B.a2f}var M={B_:D,rect:n},a=_;
while(a<.499){N++;a*=2}for(var k=0;k<N;k++)M=w(M.B_,M.rect,b);if(a<.5001)M=w(M.B_,M.rect,b);else M=i(M.B_,M.rect,b);
return M};B.a5G=function(D,n,_,b){var w=B.Lc,i=B.NL,M={B_:D,rect:n},N=0,a=_;while(a<.499){N++;a*=2}for(var k=0;
k<N;k++)M=w(M.B_,M.rect,b);if(a<.5001)M=w(M.B_,M.rect,b);else M=i(M.B_,M.rect,b);return M};B.Lc=function(D,n,_){var b=n.l,w=n.e,i=b>>1,M=w>>1,N=new gl(n.x,n.y,i,M);
if(D==null)return{rect:N};var a=_&&_.length>=i*M?_:B.U(i*M);for(var o=0;o<M;o++){var U=o*i;for(var V=0;
V<i;V++){var c=(o<<1)*b+(V<<1);a[U+V]=2+D[c]+D[c+1]+D[c+b]+D[c+b+1]>>>2}}return{rect:N,B_:a}};B.NL=function(D,n,_){var b=n.l,w=n.e,i=2*Math.floor(b/3),M=2*Math.floor(w/3),N=new gl(n.x,n.y,i,M);
if(D==null)return{rect:N};var a=_&&_.length>=i*M?_:B.U(i*M);for(var o=0;o<M;o+=2)for(var U=0;U<i;U+=2){var V=o*i+U,c=(o*3>>>1)*b+(U*3>>>1),E=D[c]<<2,A=D[c+1]<<1,Q=D[c+2]<<2,J=D[c+b]<<1,L=D[c+1+b],P=D[c+2+b]<<1,u=D[c+b+b]<<2,m=D[c+1+b+b]<<1,x=D[c+2+b+b]<<2;
a[V]=~~(.5+(E+A+J+L)*(1/9));a[V+1]=~~(.5+(Q+A+P+L)*(1/9));a[V+i]=~~(.5+(u+m+J+L)*(1/9));a[V+i+1]=~~(.5+(x+m+P+L)*(1/9))}return{rect:N,B_:a}};
B.I4=function(D,n,_,b,w){var i=n.zE(b);if(w)i=i.zE(w);var M=Math.max(0,i.x-n.x),N=Math.max(0,i.x-b.x),a=Math.max(0,i.y-n.y),o=Math.max(0,i.y-b.y),U=i.l,V=i.e;
for(var k=0;k<V;k++){var c=(a+k)*n.l+M,E=(o+k)*b.l+N;for(var A=0;A<U;A++){_[E+A]=D[c+A]}}};B.Os=function(D,n,_,b){if(n.l8(b)){B.tD(D,_,3);
return}var w=n.zE(b),i=Math.max(0,w.x-n.x),M=Math.max(0,w.x-b.x),N=Math.max(0,w.y-n.y),a=Math.max(0,w.y-b.y),o=w.l,U=w.e;
for(var k=0;k<U;k++){var V=(N+k)*n.l+i,c=(a+k)*b.l+M;for(var E=0;E<o;E++)_[(c+E<<2)+3]=D[V+E]}};B.bh=function(D,n,_,b){var w=n.zE(b),i=Math.max(0,w.x-n.x),M=Math.max(0,w.x-b.x),N=Math.max(0,w.y-n.y),a=Math.max(0,w.y-b.y),o=w.l,U=w.e;
for(var k=0;k<U;k++){var V=(N+k)*n.l+i,c=(a+k)*b.l+M;for(var E=0;E<o;E++)_[c+E]=D[(V+E<<2)+3]}};B.E3=function(D,n,_,b,w){if(n.l8(b)&&(w==null||w.l8(b))){B.nb(D,_);
return}D=new Uint32Array(D.buffer),_=new Uint32Array(_.buffer);var i=n.zE(b);if(w)i=i.zE(w);var M=Math.max(0,i.x-n.x),N=Math.max(0,i.x-b.x),a=Math.max(0,i.y-n.y),o=Math.max(0,i.y-b.y),U=i.l,V=i.e,c=U&3,E=c==0?U:U-c;
for(var k=0;k<V;k++){var A=(a+k)*n.l+M,Q=(o+k)*b.l+N;_.set(new Uint32Array(D.buffer,A*4,U),Q)}};B.dp=function(D,n,_,b){var w=n.zE(b),i=Math.max(0,w.x-n.x),M=Math.max(0,w.x-b.x),N=Math.max(0,w.y-n.y),a=Math.max(0,w.y-b.y),o=w.l,U=w.e,V=D.vd,c=D.p,E=D.z,A=D.S,Q=_.vd,J=_.p,L=_.z,P=_.S;
for(var k=0;k<U;k++){var u=(N+k)*n.l+i,m=(a+k)*b.l+M;for(var x=0;x<o;x++){Q[m+x]=V[u+x];J[m+x]=c[u+x];
L[m+x]=E[u+x];P[m+x]=A[u+x]}}};B.xT=function(D){var n=D.length;for(var k=0;k<n;k+=4){var _=D[k+3];if(_==255)continue;
D[k]=~~(D[k]*_*(1/255)+.5);D[k+1]=~~(D[k+1]*_*(1/255)+.5);D[k+2]=~~(D[k+2]*_*(1/255)+.5)}};B.Qr=function(D){var n=D.length;
for(var k=0;k<n;k+=4){var _=D[k+3];if(_==0||_==255)continue;var b=255/_;D[k]=~~(D[k]*b+.5);D[k+1]=~~(D[k+1]*b+.5);
D[k+2]=~~(D[k+2]*b+.5)}};B.FK=function(D,n){for(var k=0;k<D.length;k++)if(D[k]!=n)return!1;return!0};
B.ZN=function(D){return D+1+(D>>>8)>>>8};B.round=function(D,n){if(n==null)n=128;var _=D.length;for(var k=0;
k<_;k++)D[k]=D[k]<n?0:255};B.P_=function(D,n){var _=D.length;for(var k=0;k<_;k++)D[k]=Math.round(D[k]*n)};
B.G4=function(D,n){var _=new Uint32Array(D.buffer),b=new Uint32Array(n.buffer),w=_.length;for(var k=0;
k<w;k++){var i=_[k],M=b[k];b[k]=B.ZN((i>>>24)*(M>>>24))<<24|B.ZN((i>>>16&255)*(M>>>16&255))<<16|B.ZN((i>>>8&255)*(M>>>8&255))<<8|B.ZN((i&255)*(M&255))}};
B.Aq=function(D,n){var _=D.length;for(var k=0;k<_;k++)n[(k<<2)+3]=B.ZN(n[(k<<2)+3]*D[k])};B.akD=function(D,n,_,b){var w=Math.max(0,b.x-n.x),i=Math.max(0,n.x-b.x),M=Math.max(0,b.y-n.y),N=Math.max(0,n.y-b.y),a=Math.min(n.x+n.l,b.x+b.l)-Math.max(n.x,b.x),o=Math.min(n.y+n.e,b.y+b.e)-Math.max(n.y,b.y);
for(var k=0;k<o;k++){var U=(M+k)*n.l+w,V=(N+k)*b.l+i;for(var c=0;c<a;c++){_[V]=B.ZN(_[V]*D[U]);U++;V++}}};
B._B=function(D,n,_,b){var w=Math.max(0,b.x-n.x),i=Math.max(0,n.x-b.x),M=Math.max(0,b.y-n.y),N=Math.max(0,n.y-b.y),a=Math.min(n.x+n.l,b.x+b.l)-Math.max(n.x,b.x),o=Math.min(n.y+n.e,b.y+b.e)-Math.max(n.y,b.y);
for(var k=0;k<o;k++){var U=(M+k)*n.l+w,V=((N+k)*b.l+i<<2)+3;for(var c=0;c<a;c++){_[V]=B.ZN(_[V]*D[U]);
U++;V+=4}}};B.nc=function(D,n,_,b){var w=Math.max(0,b.x-n.x),i=Math.max(0,n.x-b.x),M=Math.max(0,b.y-n.y),N=Math.max(0,n.y-b.y),a=Math.min(n.x+n.l,b.x+b.l)-Math.max(n.x,b.x),o=Math.min(n.y+n.e,b.y+b.e)-Math.max(n.y,b.y);
for(var k=0;k<o;k++){var U=((M+k)*n.l+w<<2)+3,V=((N+k)*b.l+i<<2)+3;for(var c=0;c<a;c++){_[V]=B.ZN(_[V]*D[U]);
U+=4;V+=4}}};B.ZB=function(D){var n=new Float64Array(256),_=new Float64Array(256),b=new Float64Array(256),w=new Float64Array(256),i=D.length,M=0;
for(var k=0;k<i;k+=4){var N=D[k+0],a=D[k+1],o=D[k+2],U=D[k+3],V=U*(1/255);_[N]+=V;b[a]+=V;w[o]+=V;M+=U}for(var k=0;
k<256;k++)n[k]=_[k]+b[k]+w[k];return[n,_,b,w,i>>>2,M/255]};B.F$=function(D,n){function _(v,W){var Z=-1,r=0;
while(r<=W){Z++;r+=v[Z]}return Z}function b(v,W){var Z=256,r=0;while(r<=W){Z--;r+=v[Z]}return Z}function w(v){var W=0,Z=0;
for(var k=0;k<256;k++){Z+=v[k];W+=v[k]*k*(1/255)}return W/Z}var i=D[0],M=D[1]/100,N=D[2]/100,a=[],o=[];
for(var k=0;k<4;k++){var U=k==0?3:1;a[k]=_(n[k],U*M*n[5]);o[k]=b(n[k],U*N*n[5])}var V=[w(n[1]),w(n[2]),w(n[3])],c=V.slice(0);
c.sort(function(v,W){return v-W});var E=V.indexOf(c[1]),A=(V[0]+V[1]+V[2])/3,Q=[];for(var k=0;k<4;k++){var J=0,L=255,P=a[k],u=o[k];
if(i==0&&k==0){J=P;L=u}if(i==1&&k!=0){J=P;L=u}if(i==2&&k!=0){var U=V[k-1]/A;L=Math.max(0,Math.min(255,o[E]*U))}var m=[J,L];
Q.push(m);if(i==3&&k==0){var x=255*(1-A);m.push(x)}}return Q};B.tB=function(D,n){var _=new Uint32Array(D.buffer),b=_.length;
for(var k=0;k<b;k++){var w=_[k],i=w&255,M=w>>8&255,N=w>>16&255,a=w>>24&255;_[k]=n[i]|n[M]<<8|n[N]<<16|n[a]<<24}};
B.ant=function(D,n,_,b,w,i,M){var N=new Uint32Array(D.buffer),a=new Uint32Array(n.buffer),o=N.length,U=0;
while(256<<U<_.length)U++;if(!M&&!i){for(var k=0;k!=o;k++){var V=N[k],c=(V&255)<<U,E=(V>>>8&255)<<U,A=(V>>>16&255)<<U,Q=_[c],J=b[E],L=w[A];
a[k]=Q|J<<8|L<<16|V&4278190080}return}for(var k=0;k<o;k++){var V=N[k],c=(V&255)<<U,E=(V>>>8&255)<<U,A=(V>>>16&255)<<U;
if(i)c=E=A=Math.round(c*.3+E*.59+A*.11);var Q=_[c],J=b[E],L=w[A];if(M){var P=B.cu(c,E,A),u=B.cu(Q,J,L);
if(P>u){var m=(P-u)/(255-u);Q+=m*(255-Q);J+=m*(255-J);L+=m*(255-L)}else if(u==0)Q=J=L=0;else{var m=P/u;
Q=m*Q;J=m*J;L=m*L}}a[k]=Q|J<<8|L<<16|V&4278190080}};B.y2=function(D,n){var _=n.l,b=n.e,top=0,w=0,i=0,M=0,N=0;
N=0;for(var a=0;a<b;a++){var o=a*_;for(var k=0;k<_;k++)N|=D[o+k];if(N!=0)break;top++}if(top==b)return new gl(0,0,0,0);
N=0;for(var a=b-1;a>=0;a--){var o=a*_;for(var k=0;k<_;k++)N|=D[o+k];if(N!=0)break;i++}var U=b-i;N=0;
for(var k=0;k<_;k++){for(var a=top;a<U;a++)N|=D[a*_+k];if(N!=0)break;w++}N=0;for(var k=_-1;k>=0;k--){for(var a=top;
a<U;a++)N|=D[a*_+k];if(N!=0)break;M++}var V=new gl(n.x+w,n.y+top,_-w-M,b-top-i);return V};B.lb=function(D,n,_,b){if(b==null)b=[!0,!0,!0,!0];
if(_==null)_=0;var w=new Uint32Array(D.buffer),i=n.l,M=n.e,top=0,N=0,a=0,o=0,U=!1,V=[w[0],w[w.length-1],0][_];
U=!1;if(b[0])for(var c=0;c<M;c++){var E=c*i;for(var k=0;k<i;k++)if(w[E+k]!=V)U=!0;if(U)break;top++}U=!1;
if(b[2])for(var c=M-1;c>=0;c--){var E=c*i;for(var k=0;k<i;k++)if(w[E+k]!=V)U=!0;if(U)break;a++}U=!1;
if(b[1])for(var k=0;k<i;k++){for(var c=0;c<M;c++)if(w[c*i+k]!=V)U=!0;if(U)break;N++}U=!1;if(b[3])for(var k=i-1;
k>=0;k--){for(var c=0;c<M;c++)if(w[c*i+k]!=V)U=!0;if(U)break;o++}var A=new gl(n.x+N,n.y+top,i-N-o,M-top-a);
return A.hk()?new gl(0,0,0,0):A};B.B2=function(D){var n=B.y2(D.channel,D.rect);if(n.l8(D.rect))return;
var _=B.U(n.u());B.I4(D.channel,D.rect,_,n);D.channel=_;D.rect=n};B.NQ=function(D){var n=B.U(D.buffer.length>>2);
B.Ef(D.buffer,n,3);var _=B.y2(n,D.rect);if(_.l8(D.rect))return;var b=new B.U(_.u()*4);B.E3(D.buffer,D.rect,b,_);
D.buffer=b;D.rect=_};B.extend=function(D,n,_){if(D.rect.Xh(n))return;var b=D.rect.Ik(n),w=B.U(b.u());
if(_!=null)w.fill(_);B.I4(D.channel,D.rect,w,b);D.rect=b;D.channel=w};B.a7z=function(D,n){if(n.hk()||D.rect.Xh(n))return;
var _=D.rect.Ik(n),b=B.U(_.u()*4);B.E3(D.buffer,D.rect,b,_);D.rect=_;D.buffer=b};B.ql=function(D,n,_){if(!_.A1(D))return!1;
var b=Math.floor(D.x)-_.x,w=Math.floor(D.y)-_.y,k=w*_.l+b;return n[k]>128};B.ahd=function(D,n,_){if(!_.A1(D))return!1;
var b=Math.floor(D.x)-_.x,w=Math.floor(D.y)-_.y,k=w*_.l+b;return n[4*k+3]>128};B.zl=function(D){if(B.Gk.length<D){B.Gk=B.U(D);
B.Gk.fill(255)}return B.Gk};B.Gk=B.U(0);B.ae=function(D){if(B.Wy.length<D)B.Wy=B.U(D);return B.Wy};B.Wy=B.U(0);
B.YV=function(D){this.vd=B.U(D);this.p=B.U(D);this.z=B.U(D);this.S=B.U(D)};B.YV.prototype.clone=function(){var D=this.vd.length,n=new B.YV(1);
n.vd=this.vd.slice(0);n.p=this.p.slice(0);n.z=this.z.slice(0);n.S=this.S.slice(0);return n};B.I.a8N=function(D,n,_,b,w){var i=w[0]+1,M=w[1],N=Math.abs(M-25)/4,a=w[2],o=a%2+a*a>>1,U=B.I.K;
U.zJ(n,_);var V=U.KL(1),c=U.KL(1),E=U.KL(1);U.OE(D,b,a,a,o);U.Yi(b);U.Ua(b,V);U.Ii(V,c,i,i,1);U.Ii(V,E,i,i,i*i);
U.sub(E,c);U.G4(c,N);(M<25?U.sub:U.add)(V,c);U.ve(c,b);U.GP(b)};B.I.anK=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=w[0]*2.55,N=w[1],a=N>>1,o=w[2]*.25,U=i.KL(4),V=i.KL(1),c=i.KL(1);i.Hc(D,U,N,1,!0,a);
i.Hc(D,b,N,1,!1,a);i.Dk(D,V);i.Yw(V,M);i.OO(V,c,3);i.yb(b,c,U);i.xP(U,b,o)};B.I.aep=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[3]);var M=w[0]*-3+80,N=w[1]*-3+80,a=w[2]/2+.5,o=w[4],U=w[5],V=i.KL(1),c=i.KL(1),E=i.KL(1),A=i.KL(1),Q=i.KL(4),J=i.KL(4);
i.Dk(D,V);i.nb(V,c);i.ER(V,N,5);i.TF(V,.4,0);i.OO(V,E,3);i.EJ(E,V,9,3,!0,27);i.nb(c,E);i.ei(E);var L=i.aN(M,5,E);
for(var k=0;k<i.PJ;k++){c[k]=L[255-c[k]]}i.TF(c,.4,0);i.nb(c,E);i.OO(E,A,2);i.EJ(A,E,5,3,!1,15);i.G4(V,a);
i.G4(E,a);i.Tn(b,2155905279);i.Tn(J,o);i.Tn(Q,U);i.yb(J,V,b);i.yb(Q,E,b)};B.I.a94=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=new Uint8Array(256),N=5+10*w[1];N+=w[1]>3?(w[1]-3)*10:0;var a=~~(w[2]*.73)+50,o=Math.min(a+N,128),U=o-a,V=-255*a;
for(var k=0;k<256;k++){var c=k*65;M[k]=i.S1(V/U);V+=255}var E=i.KL(1),A=i.KL(1),Q=i.KL(1);i.Dk(D,E);
i.nb(E,Q);i.OO(E,A,2*w[0]+1);i.sub(A,E);i.G4(E,65);i.EJ(E,A,9,3,!0,20);for(var k=0;k<i.PJ;k++){var J=Q[k],L=A[k];
E[k]=L>0?~~((L*J+(255-L)*128)/255):128}i.OO(E,A,3);i.EJ(A,E,15,2,!0,16);i.EJ(A,Q,15,2,!1,15);i.tW(E,Q);
i.an(Q,A,2);i.QN(A,M);i.OO(A,E,2);i.GQ(E,b)};B.I.anE=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);var M=2*w[0]+1,N=i.Iv[w[1]],a=w[2]*5.1,o=w[3],U=i.KL(1),V=i.KL(1),c=i.KL(4),E=i.KL(4);
i.Tn(c,o);i.Yi(c,b);i.mM(U,a);i.ve(U,b);i.GP(b,c);i.Dk(D,V);i.OO(V,U,M);i.sub(U,V);i.G4(V,N);i.EJ(V,U,9,3,!0,20);
i.yb(D,U,c);i.gb(c,b,3);i.Hc(b,c,15,2,!0,16);i.Hc(b,E,15,2,!1,16);i.tW(c,E);i.xP(E,b,2)};B.I.agZ=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=(15-w[0])/4+1,N=(15-w[1])/4+1,a=w[2],o=w[3],U=i.SK(w[4]),V=w[5]+1,c=w[6],E=w[7],A=w[8],Q=i.KL(1),J=i.KL(1),L=i.KL(1),P=i.KL(1),u=i.KL(4),m=i.KL(4);
i.rF(L,a,o,c);i.Dk(D,J);i.OO(J,Q,5);i.Q1(L,Q,P,V,U);i.G4(P,M);i.lB(P,2);i.ei(Q);i.Q1(L,Q,J,V,U);i.G4(J,N);
i.lB(J,2);i.Tn(u,2155905279);i.Tn(m,E);i.Tn(b,A);i.yb(u,J,m);i.yb(m,P,b)};B.I.aay=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[3]);var M=w[0],N=w[1]/10,a=w[2]/10,o=i.KL(1),U=i.KL(1),V=i.KL(1),c=i.gq(),E=i.gq(),A=i.gq();
i.oG(o);i.OO(o,U,11);i.OO(U,o,11);i.Zk(o,c);i.Yz(D,o);i.nb(o,V);i.OO(o,U,9);i.OO(U,o,9);i.Zk(o,E);i.et(E,A,5);
i.et(A,E,5);i.K$(c,.8);i.a67(c,E,.8,.9);i.jV(E,o,M);i.Ii(o,U,2,2,1);i.Ii(U,o,2,2,3);i.Ii(o,U,2,2,3);
i.Ii(V,o,5,5,13);i.Pj(U,o,U,N);i.jM(o,U,U,a);i.Q1(U,U,o,5,1);i.Yi(D,b);i.ve(o,b);i.GP(b)};B.I.ar9=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=w[0],N=w[1]/2,a=w[2],o=M/2,U=i.KL(4),V=i.KL(4);i.nb(D,b);for(var c=0;c<a;c++){i.Hc(b,U,M,1,!0,o);
i.Hc(b,V,M,1,!1,o);i.tW(V,U);i.gb(U,V,2);i.xP(V,b,N)}};B.I.apZ=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);
var M=w[0]*10,N=w[1]*4.9,a=w[2]*4.9,o=i.KL(1),U=i.KL(1),V=i.KL(4),c=i.KL(4);i.Dk(D,o);i.Yw(o,i.amM(o,M));
i.OO(o,U,3);i.Hc(D,V,5,1,!1,1);i.Hc(D,b,15,2,!0,16);i.yb(b,U,V);i.Yi(V,b);i.Ua(b,o);i.ER(o,N,a);i.ve(o,b);
i.GP(b)};B.I.aal=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);i.xi(w[4]);var M=w[0]/20,N=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][w[1]],a=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][w[2]],o=w[3],U=new Int16Array(256);
for(var k=0;k<256;k++){U[k]=~~((k-128)*M)}var V=i.KL(1),c=i.KL(1),E=i.KL(4);i.Dk(D,V);i.OO(V,c,25);i.G4(c,N);
i.lB(c,a);i.OO(c,V,25);i.oG(c);i.A7(V,c,U);i.nb(D,b);i.Tn(E,o);i.yb(E,V,b)};B.I.atF=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=w[0]+5,N=15-w[1],a=M*M/2,o=1-(3-w[2])/10,U=~~(N*N*o-1),V=~~(N*N*(1-o));if(V==0)V=1;var c=i.KL(1),E=i.KL(1),A=i.KL(1),Q=i.KL(4);
i.Dk(D,A);i.Ii(A,c,M,M,a);i.OO(A,E,M);i.sub(c,E);i.Yw(E,1);i.OE(D,Q,N,N,U);i.OE(D,b,N,N,V);i.yb(Q,E,b)};
B.I.adb=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);i.xi(w[3]);var M=(20-w[0])*.05,N=w[1]*-2.75+60,a=65-N,o=w[2]/10,U=i.KL(1),V=i.KL(1);
i.Yz(D,V);var c=i.aN(N,a,V);i.Yi(D,b);i.Ua(b,V);i.oG(U);i.ZZ(V,U,M);i.QN(V,c);i.G4(V,w[2]/10);i.add(U,V);
i.ve(V,b);i.GP(b)};B.I.a7O=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);var M=5+w[0],N=15-w[1],a=w[2],o=M*M/2+M*M%2*1,U=1-(3-w[2])/10,V=~~(N*N*U-1),c=~~(N*N*(1-U));
if(c==0)c=1;var E=i.KL(1),A=i.KL(1),Q=i.KL(1),J=i.KL(1),L=i.KL(1);i.Yz(D,A);i.an(A,E,3);i.Ii(E,A,2,2,1);
var P=i.aN(20,20,A);i.QN(A,P);i.OO(A,L,5);i.Ii(L,E,M,M,o);i.Ii(L,A,N,N,V);i.Ii(L,Q,N,N,c);i.OO(L,J,M);
i.sub(E,J);i.Yw(J,1);i.yD(A,J,Q);i.Yi(D,b);i.ve(Q,b);i.GP(b)};B.I.a89=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[5]);var M=i.PJ,N=i.P3,a=w[0],o=w[1],U=w[2],V=w[3],c=w[4],E=.05*a+1,A=a/100,Q=a>>1,J=2*a-100,L=+(o==9),P=+(o==7),u=[4,1][L],m=[3,2][L],x=[1,2][P],v=[2,1][P],W=[50,75][L],Z=o<4?U:(U>>1)+50,r=i.F0(W,Z),X=i.Li(V),$=i.Li(c),I=i.KL(4),T=i.KL(4),e=i.KL(1),F=i.KL(1);
function y(b,r){if(Z!=50){i.pN(b,r)}}function h(D,hH){for(var k=0;k<M;k++){D[k]=i.S1(D[k]+(hH[k]-128)*A)}}function Y(D,hH){for(var k=0,R=0;
k<M;k++){D[R]=i.S1(D[R]+(hH[R]-128)*A);D[R+1]=i.S1(D[R+1]+(hH[R+1]-128)*A);D[R+2]=i.S1(D[R+2]+(hH[R+2]-128)*A);
R+=4}}function K(D,b){i.oG(T);i.nb(D,b);Y(b,T);y(b,r)}function z(hH){var R=0;for(var fR=0;fR<12;fR++)R+=i.random();
return i.S1(Q*(R-6)+hH)}function f(D,b){i.nb(D,b);for(var k=0;k<N;k+=4){b[k]=z(b[k]);b[k+1]=z(b[k+1]);
b[k+2]=z(b[k+2])}y(b,r)}function s(D,b){i.nb(D,b);for(var k=0;k<N;k+=4){if(i.random()<A){b[k]=X[0];b[k+1]=X[1];
b[k+2]=X[2]}}y(b,r)}function l(D,b){i.oG(I);i.OE(I,T,m,m,u);i.nb(D,I);Y(I,T);i.OE(I,b,5,5,13);y(b,r)}function g(D,b){i.oG(T);
i.nb(D,I);Y(I,T);y(b,r);i.OE(I,b,m,m,u)}function H(D,b){i.nb(D,I);y(b,r);i.Dk(I,e);for(var k=0,hH=0;
k<M;k++){var R=((J-e[k]+255)*128.5+.5)/32767;if(i.random()<=R){b[hH++]=$[0];b[hH++]=$[1];b[hH++]=$[2]}else{b[hH++]=X[0];
b[hH++]=X[1];b[hH++]=X[2]}b[hH]=D[hH];hH++}}function O(D,b){i.Yi(D,b);i.Ua(b,e);i.an(e,F,E);i.Ii(F,e,m,m,u);
i.QN(e,r);i.ve(e,b);i.GP(b)}function C(D){var hH=0;if(o==8){for(var R=0;R<n;R++){D[hH++]=~~(i.random()*255)}for(var k=1;
k<_;k++){for(var R=0;R<n;R++){D[hH++]=D[R]}}}else{for(var k=0;k<_;k++){var fR=~~(i.random()*255);for(var R=0;
R<n;R++){D[hH++]=fR}}}}function ib(D,b){i.Dk(D,e);i.oG(F);h(e,F);C(F);h(e,F);i.gb(D,I,9);i.gb(I,T,9);
i.OO(e,F,2);i.QN(F,r);i.OO(F,e,2);i.Yi(T,b);i.ve(e,b);i.GP(b)}[K,f,s,l,l,g,H,ib,ib,O][o](D,b)};B.I.anN=function(D,n,_,b,w){var i=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],M=B.I.K,Q=0,J,k,x,v,W,Z=0,r=1,X=255;
M.zJ(n,_);M.xi(w[3]);var N=M.KL(1),a=M.KL(1);M.Dk(D,N);var o=w[0],U=w[1],V=U<=50?i[U]/255:1+(255-i[101-U])/255,c=w[2],E=N.length,A=new Float32Array(E),L=1+1/10*o,P=(1-1/L)/2,u=16/256,m=n-1;
for(k=0;k<M.PJ;k++){A[k]=N[k]/255;a[k]=o==1?M.random()<1/255?X:r:r}function $(I,T){var e=I*n+T;if(a[e]!=r||I>=_||T>=n){return}var v=A[e],F=V-v,y=M.random(),h=y/L+P;
if(Q==0||Math.abs(W-v)>u){J=h<=F?Z:X;Q=~~(M.random()*o)}else if(.1<y){Q--}else{Q=0}a[e]=J;W=v}if(c==0){for(k=0;
k<n;k++){for(x=0;x<n;x++){v=k+x;if(v>=n)break;$(x,m-v)}Q=0}for(k=1;k<_;k++){for(x=0;x<_;x++){v=k+x;if(v>=_||x>=n)break;
$(v,m-x)}Q=0}}else if(c==1){for(k=0;k<_;k++){for(x=0;x<n;x++){$(k,x)}Q=0}}else if(c==2){for(k=0;k<n;
k++){for(x=0;x<n;x++){v=k+x;if(v>=n)break;$(x,v)}Q=0}for(k=1;k<_;k++){for(x=0;x<_;x++){v=k+x;if(v>=_||x>=n)break;
$(v,x)}Q=0}}else{for(k=0;k<n;k++){for(x=0;x<_;x++){$(x,k)}Q=0}}M.GQ(a,b)};B.I.a57=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=w[0],N=w[1],a=w[2],o=i.KL(1),U=i.KL(1),V=i.KL(1),c=i.KL(4),E=i.KL(4);i.Dk(D,o);i.Ii(o,U,3,3,1);
i.Ii(o,V,3,3,9);i.sub(V,U);i.OO(U,o,3);i.ER(o,40,10);i.Hc(D,b,M,2,!1,M);i.Hc(D,c,M,2,!0,M);i.Tn(E,255);
i.yb(b,o,E);i.yb(E,o,c);i.xP(c,b,1);i.Yi(b);i.Ua(b,o);i.ER(o,N,a);i.ve(o,b);i.GP(b)};B.I.atg=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[3]);var M=w[0],N=w[1],a=w[2]/10;M=M+N;var o=i.KL(1),U=i.KL(1),V=i.gq(),c=i.gq();i.oG(o);
i.OO(o,U,11);i.OO(U,o,11);i.Zk(o,V);i.et(V,c,5);i.et(c,V,5);i.K$(c,.97);i.jV(c,o,M);i.Ii(o,U,N,N,1);
i.Yz(D,o);i.Pj(U,o,U,.6);i.jM(o,U,U,a);i.Q1(U,U,o,5,1);i.Yi(D,b);i.ve(o,b);i.GP(b)};B.I.aiq=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=Math.abs(w[0]),N=M+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][M],a=2*M+1,o=w[1]/10,U=o*13/15,V=i.KL(1),c=i.KL(1),E=i.KL(1),A=i.KL(1),Q=i.KL(4),J=i.KL(4),L=i.KL(4),P=i.KL(4),u=i.KL(4);
i.Dk(D,V);if(w[0]>=0){i.ei(V)}i.nb(V,E);i.OO(V,A,N);i.OO(A,V,N);i.G4(V,o);i.nb(V,c);i.OO(V,A,a);i.OO(A,V,a);
i.G4(V,U);i.Tn(L,w[2]);i.Tn(P,w[3]);i.Tn(u,w[4]);i.yb(L,V,P,Q);i.yb(u,c,Q,J);i.yb(P,E,J,b);i.Ua(D,E,3);
i.ve(E,b,3)};B.I.aq8=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);i.xi(w[5]);var M=w[0]*5.1,N=w[1]/100,a=i.p3[w[2]],o=i.KL(1),U=i.KL(1),V=i.KL(1);
i.Dk(D,o);i.mM(U,255);i.oG(V);i.Yw(o,M);i.ZZ(U,o,.7);i.ZZ(V,o,N);i.Q1(o,o,U,5,a);i.nb(D,b);i.aoo(b,M,w[4],w[3]);
i.Yi(b);i.ve(U,b);i.GP(b)};B.I.akh=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);var M=w[0],N=4-w[1],a=11-w[2],o=i.KL(1),U=i.KL(1),V=i.KL(4);
i.Yz(D,U);for(var k=0;k<N;k++){i.nb(U,o);i.NB(o,U,M,M)}i.gb(D,V,M);i.Yi(V,V);i.ve(U,V);i.GP(V,V);(a<11?i.a3A:i.nb)(V,b,a)};
B.I.ahz=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);i.xi(w[2]);var M=w[0]+5,N=~~(M/5+1),a=~~(M/2)+1,o=a*a,U=~~(M/3),V=i.p3[w[1]],c=new Array(256);
for(var k=0;k<256;k++){c[k]=~~(.2*(k-128))}var E=i.KL(1),A=i.KL(1);i.aiI(D,b,M);i.Yi(b);i.Ua(b,E);i.oG(A);
i.A7(E,A,c);i.adr(A,M,M,N,N);i.Pj(E,A,E,1);i.OO(E,A,U);i.OO(A,E,U);i.Ii(E,A,a,a,o);i.Q1(A,A,E,5,V);i.ve(E,b);
i.GP(b)};B.I.a1p=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);var M=i.KL(1),N=i.KL(1),a=i.KL(1),o=i.gq(),U=i.gq();
i.Dk(D,M);i.OO(M,N,w[2]);i.Yw(N,w[0]*5.1);i.Ii(N,M,2,2,4);i.OO(M,N,3);i.OO(N,M,3);i.nb(M,a);i.OO(M,N,5);
i.OO(N,M,5);i.Zk(M,o);i.et(o,U,5);i.et(U,o,5);i.aqY(o,N,w[1]);i.ei(N);i.Pj(a,N,a,1);i.GQ(a,b)};B.I.ar0=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=1<<7-w[2],N=i.KL(1),a=i.KL(1),o=i.KL(1);i.Yz(D,a);i.OO(a,N,3);i.nb(N,a);i.OO(N,o,w[0]+5);
i.sub(o,a);i.ER(a,1,w[1]);i.G4(N,1/M);i.G4(N,M);i.sub(N,a);i.Yi(D,b);i.ve(a,b);i.GP(b)};B.I.alX=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[3]);var M=i.KL(1),N=i.KL(1),a=i.KL(1);i.Dk(D,M);i.a85(N,w[0]/50);i.OO(N,a,3);i.Ii(M,N,9,9,41);
i.ER(N,w[1],w[2]);i.Pj(N,a,a,.75);i.jM(N,a,N,.5);i.nb(N,M);i.Ii(M,a,3,3,8);i.Pj(a,N,a,.75);i.G4(a,1.2);
i.an(a,M,1);i.OO(M,a,2);i.an(a,M,2);i.G4(M,1.2);i.OO(M,a,2);i.GQ(a,b)};B.I.aft=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=w[0]+9,N=w[1]/2,a=w[2],o=w[3],U=i.SK(w[4]),V=w[5]+1,c=w[6],E=i.KL(1),A=i.KL(1),Q=i.KL(4),J=i.KL(4);
i.rF(A,a,o,c);i.SV(D,b,M,1,1);i.SV(b,Q,M,1,1);i.ahk(Q,Q,J,7,N);i.G4(J,1.2);i.lB(J,1.2);i.Q1(A,E,E,V,U);
i.G4(E,3);i.nb(D,b);i.yb(J,E,b)};B.I.atG=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);i.xi(w[3]);var M=w[0]+4,N=M*2/5+(M%5|0);
M--;var a=w[1]*-2.75+60,o=65-a,U=w[2]/10,V=i.KL(1),c=i.KL(1);i.oG(V);i.Yz(D,c);var E=i.aN(a,o,c);i.Yi(D,b);
i.Ua(b,c);i.ZZ(c,V,.8);i.QN(c,E);i.G4(c,U);i.add(V,c);i.EJ(c,V,M,3,!1,N);i.ve(V,b);i.GP(b)};B.I.afc=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[3]);var M=w[0]+5,N=(M*M>>1)+M%2,a=w[1]/10,o=w[2],U=(o*o>>1)+o%2,V=i.KL(1),c=i.KL(1),E=i.KL(1),A=i.KL(4),Q=i.KL(4),J=i.KL(4);
i.oG(E);i.Yi(D,J);i.Ua(J,V);i.ZZ(V,E,.8);i.OO(E,V,3);i.an(V,E,a);i.ve(E,J);i.GP(J,J);i.Dk(J,E);i.Ii(E,V,M,M,N);
i.OO(E,c,M);i.sub(V,c);i.Yw(c,1);i.OE(J,A,7,7,40);i.OE(J,Q,7,7,10);i.yb(A,c,Q);i.OE(Q,b,o,o,U)};B.I.afH=function(D,n,_,b,w){var i=B.I.K,N=255,k,o;
i.zJ(n,_);var M=w[0];if(M<2)N=M;else if(M<12)N=5*M-5;else if(M<47)N=2*M+28;else if(M<50){k=M-47;N=125+12.5*k+12.5*k*k}var a=new Uint8Array(256);
for(k=75,o=15;k<256;k++,o+=24)a[k]=Math.min(255,o);var U=i.KL(1),V=i.KL(1),c=i.KL(1);i.Dk(D,U);i.OO(U,V,11);
i.OO(V,c,11);i.sub(c,U);i.G4(U,8);i.sub(c,U);i.Yw(U,N);i.ei(U);i.OO(U,V,5);i.Yw(V,51);i.OO(V,U,w[1]);
i.OO(U,V,w[1]);i.ei(V);i.QN(V,a);i.GQ(V,b)};B.I.a6m=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);var M=i.Iv[w[1]],N=w[2],a=N*1.5,o=i.KL(1),U=i.KL(1),V=i.KL(1);
i.Yz(D,o);i.EJ(o,U,15,2,!0,15);i.nb(U,V);i.ER(V,N,a);i.OO(V,o,3);i.OO(U,V,w[0]);i.sub(V,U);i.G4(U,M);
i.sub(o,U);i.OO(U,o,3);i.EJ(o,U,3,1,!1,1);i.gb(D,b,15);i.Yi(b);i.ve(U,b);i.GP(b)};B.I.at1=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);i.xi(w[3]);var M=w[0]*5.1,N=16-w[1],a=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][w[2]],o=i.KL(1),U=i.KL(1),V=i.KL(1);
i.Dk(D,o);i.Yw(o,M);i.OO(o,U,N);i.OO(U,o,N);i.oG(V);i.jM(o,V,V,1);i.Pj(o,V,o,.75);i.G4(o,a);i.lB(o,a);
i.Ii(o,U,2,2,2);i.GQ(U,b)};B.I.a2C=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);var M=w[0]+9,N=w[1]+9,a=w[2],o=w[3],U=i.SK(w[4]),V=w[5]+1,c=w[6],E=i.KL(1),A=i.KL(1),Q=i.KL(1),J=i.KL(1),L=i.KL(1),P=i.KL(4);
i.Yz(D,E);i.NB(E,Q,M,M);i.OO(Q,E,N);i.nb(Q,L);i.nb(E,J);i.sub(L,J);i.sub(E,L);i.add(L,J);i.G4(J,10);
i.rF(A,a,o,c);i.Q1(A,E,L,V,U);i.yD(L,J,Q,.8);i.gb(D,P,9);i.gb(P,b,9);i.Yi(b);i.ve(Q,b);i.GP(b)};B.I.a6F=function(D,n,_,b,w){var i=B.I.K;
i.zJ(n,_);var M=16-w[0],N=w[1]*8,a=1-(3-w[2])/10,o=~~(M*M*a-1),U=~~(M*M*(1-a));if(U==0)U=1;var V=i.KL(1),c=i.KL(1),E=i.KL(1),A=i.KL(4);
i.Dk(D,E);i.Ii(E,V,7,7,25);i.OO(E,c,7);i.sub(V,c);i.Yw(c,1);i.OE(D,A,M,M,o);i.OE(D,b,M,M,U);i.yb(A,c,b);
i.Yi(b);i.Ua(b,V);i.Ii(V,E,3,3,1);i.Ii(V,c,3,3,9);i.sub(c,E);i.nb(E,c);i.sub(V,E);i.sub(E,c);i.Ii(c,V,3,3,8);
i.ER(V,N,1);i.ve(V,b);i.GP(b)};B.I.a0x=function(D,n,_,b,w){var i=B.I.K;i.zJ(n,_);i.xi(w[3]);var M=w[0],N=w[1],a=w[2],o=M>>1,U=Math.max(~~(M/5),1),V=Math.max(~~(M*2/3),1),c=i.F0(N,a),E=i.KL(1),A=i.KL(1),Q=i.KL(1),J=i.KL(1),L=i.KL(4);
i.Yz(D,E);i.ng(2147483647,4,2,2,0,255,A);i.ng(4,2147483647,2,2,0,255,J);i.oG(Q);i.jM(A,Q,A,1);i.jM(J,Q,J,1);
i.jM(A,E,A,1);i.jM(J,E,J,1);i.gb(D,L,o);i.gb(L,b,o);i.Ii(A,E,1,M,U);i.Ii(E,A,3,M,V);i.Ii(J,E,M,1,U);
i.Ii(E,J,M,3,V);i.tW(A,J);i.Yi(b);i.ve(J,b);i.GP(b);i.pN(b,c)};B.I.K={};B.I.K.Wj=0;B.I.K.Rw=0;B.I.K.PJ=0;
B.I.K.EA=0;B.I.K.P3=0;B.I.K.zJ=function(D,n){var _=D*n,self=B.I.K;self.Wj=D;self.Rw=n;self.PJ=_;self.EA=_<<1;
self.P3=_<<2};B.I.K.xi=function(D){B.I.K.random=function(){var n=D+=1831565813;n=Math.imul(n^n>>>15,n|1);
n^=n+Math.imul(n^n>>>7,n|61);return((n^n>>>14)>>>0)/4294967296}};B.I.K.KL=function(D){var n=B.I.K;return new Uint8Array([-1,n.PJ,n.EA,-1,n.P3][D])};
B.I.K.gq=function(){return new Int32Array(B.I.K.EA)};B.I.K.OO=function(D,n,_,b){if(b==null)b=_;var self=B.I.K,w=self.Wj,i=self.Rw;
B.uE.lI(D,n,new gl(0,0,w,i),_>>>1);return};B.I.K.et=function(D,n,_,b){var self=B.I.K,w=new Int32Array(self.PJ),i=new Int32Array(self.PJ);
for(var k=0;k<2;k++){self.Ua(D,w,k,2);self.OO(w,i,_,b);self.ve(i,n,k,2)}};B.I.K.gb=function(D,n,_,b){var self=B.I.K,w=self.KL(1),i=self.KL(1);
for(var k=0;k<4;k++){self.Ua(D,w,k);if(k<3)self.OO(w,i,_,b);else i=w;self.ve(i,n,k)}};B.I.K.SV=function(D,n,_,b,w){var self=B.I.K,i=self.Wj,M=self.Rw,N=_+b-1,a=_>>1,o=N>>1,U=0,V=_*b,c=new Int32Array(_);
for(var k=0;k<M;k++){var E=0,A=0,Q=0;for(var J=0;J<_;J++){var L=w?N-J-b:J;for(var P=L,u=b+L;P<u;P++){var m=0-o+P,x=k-a+J;
if(P==L){c[J]=m}if(m<0)m=0;else if(m>=i)m=i-1;if(x<0)x=0;else if(x>=M)x=M-1;var v=i*x+m<<2;E+=D[v];A+=D[v+1];
Q+=D[v+2]}}n[U++]=~~(E/V);n[U++]=~~(A/V);n[U++]=~~(Q/V);n[U]=D[U];U++;for(var W=1;W<i;W++){for(var J=0;
J<_;J++){var x=k-a+J,L=c[J]+1;c[J]=L;var Z=L-1,r=L+b-1;if(x<0)x=0;else if(x>=M)x=M-1;if(Z<0)Z=0;else if(Z>=i)Z=i-1;
if(r<0)r=0;else if(r>=i)r=i-1;var X=x*i+Z<<2,$=x*i+r<<2;E=E+D[$]-D[X];A=A+D[$+1]-D[X+1];Q=Q+D[$+2]-D[X+2]}n[U++]=~~(E/V);
n[U++]=~~(A/V);n[U++]=~~(Q/V);n[U]=D[U];U++}}};B.I.K.EJ=function(D,n,_,b,w,i){var self=B.I.K,M=self.Wj,N=self.Rw,a=_+b-1,o=_>>1,U=a>>1,V=0,c=new Int32Array(_),E=new Int32Array(256),A=new Int32Array(16);
for(var k=0;k<N;k++){E.fill(0);A.fill(0);for(var Q=0;Q<_;Q++){var J=w?a-Q-b:Q;for(var L=J,P=b+J;L<P;
L++){var u=0-U+L,m=k-o+Q;if(L==J){c[Q]=u}if(u<0)u=0;else if(u>=M)u=M-1;if(m<0)m=0;else if(m>=N)m=N-1;
E[D[m*M+u]]++;A[D[m*M+u]>>>4]++}}n[V++]=B.I.K.fl(A,E,i);for(var x=1;x<M;x++){for(var Q=0;Q<_;Q++){var m=k-o+Q,J=c[Q]+1;
c[Q]=J;var v=J-1,W=J+b-1;if(m<0)m=0;else if(m>=N)m=N-1;if(v<0)v=0;else if(v>=M)v=M-1;if(W<0)W=0;else if(W>=M)W=M-1;
var Z=D[m*M+v],r=D[m*M+W];E[Z]--;E[r]++;A[Z>>>4]--;A[r>>>4]++}n[V++]=B.I.K.fl(A,E,i)}}};B.I.K.Hc=function(D,n,_,b,w,i){var self=B.I.K,M=self.KL(1),N=self.KL(1);
for(var k=0;k<4;k++){self.Ua(D,M,k);if(k<3)self.EJ(M,N,_,b,w,i);else N=M;self.ve(N,n,k)}};B.I.K.Ii=function(D,n,_,b,w){w=Math.min(b*_,w);
var self=B.I.K,i=self.Wj,M=self.Rw,N=b>>1,a=_>>1,o=0,U=new Int32Array(b),V=new Int32Array(256),c=new Int32Array(16);
for(var k=0;k<M;k++){V.fill(0);c.fill(0);for(var E=0;E<b;E++){for(var A=0,Q=_;A<Q;A++){var J=0-a+A,L=k-N+E;
if(A==0){U[E]=J}if(J<0)J=0;else if(J>=i)J=i-1;if(L<0)L=0;else if(L>=M)L=M-1;V[D[L*i+J]]++;c[D[L*i+J]>>>4]++}}n[o++]=B.I.K.fl(c,V,w);
for(var P=1;P<i;P++){for(var E=0;E<b;E++){var L=k-N+E,u=U[E]+1;U[E]=u;var m=u-1,x=u+_-1;if(L<0)L=0;else if(L>=M)L=M-1;
if(m<0)m=0;else if(m>=i)m=i-1;if(x<0)x=0;else if(x>=i)x=i-1;var v=D[L*i+m],W=D[L*i+x];V[v]--;V[W]++;
c[v>>>4]--;c[W>>>4]++}n[o++]=B.I.K.fl(c,V,w)}}};B.I.K.fl=function(D,n,_){var b=0,w=0;while(b+D[w>>>4]<_){b+=D[w>>>4];
w+=16}for(;w<256;w++){b+=n[w];if(b>=_)break}return w};B.I.K.OE=function(D,n,_,b,w){var self=B.I.K,i=self.KL(1),M=self.KL(1);
for(var k=0;k<4;k++){self.Ua(D,i,k);if(k<3)self.Ii(i,M,_,b,w);else M=i;self.ve(M,n,k)}};B.I.K.an=function(D,n,_){var self=B.I.K,b=self.Wj,w=self.Rw,i=0;
for(var k=0;k<w;k++){var M=k*b,N=(k-1)*b,a=(k+1)*b;if(N<0)N=M;if(a>=w)a=M;for(var o=0;o<b;o++){var U=o-1,V=o+1;
if(U<0)U=o;if(V>=b)V=o;var c=M+U,E=M+V,A=N+o,Q=a+o,J=M+o,L=D[c],P=D[E],u=D[A],m=D[Q],x=D[J],v=x+(x*4*_+.5);
v=v-((L+P+m+u)*_+.5);n[i++]=self.S1(v)}}};B.I.K.xP=function(D,n,_){var self=B.I.K,b=self.KL(1),w=self.KL(1);
for(var k=0;k<4;k++){self.Ua(D,b,k);if(k<3)self.an(b,w,_);else w=b;self.ve(w,n,k)}};B.I.K.a3A=function(D,n,_){var self=B.I.K,b=self.Wj,w=self.Rw,i=0,M=_+4;
for(var k=0;k<w;k++){var N=k*b,a=(k-1)*b,o=(k+1)*b;if(a<0)a=N;if(o>=w)o=N;for(var U=0;U<b;U++){var V=U-1,c=U+1;
if(V<0)V=U;if(c>=b)c=U;var E=N+V<<2,A=N+c<<2,Q=a+U<<2,J=o+U<<2,L=N+U<<2;for(var P=0;P<3;P++){var u=D[E+P],m=D[A+P],x=D[Q+P],v=D[J+P],W=D[L+P];
n[i++]=(W*_+u+m+v+x)/M}n[i]=D[i];i++}}};B.I.K.NB=function(D,n,_,b){var self=B.I.K,w=self.Wj,i=self.Rw,M=_>>1,N=b>>1,a=0,o=new Int32Array(_),U=new Int32Array(256);
for(var k=0;k<i;k++){U.fill(0);for(var V=0;V<_;V++){for(var c=0,E=b;c<E;c++){var A=0-N+c,Q=k-M+V;if(c==0){o[V]=A}if(A<0)A=0;
else if(A>=w)A=w-1;if(Q<0)Q=0;else if(Q>=i)Q=i-1;U[D[Q*w+A]]++}}var J=0,L=0;for(var P=0;P<256;P++){if(J<U[P]){L=P;
J=U[P]}}n[a++]=L;for(var u=1;u<w;u++){for(var V=0;V<_;V++){var Q=k-M+V,m=o[V]+1;o[V]=m;var x=m-1,v=m+b-1;
if(Q<0)Q=0;else if(Q>=i)Q=i-1;if(x<0)x=0;else if(x>=w)x=w-1;if(v<0)v=0;else if(v>=w)v=w-1;U[D[Q*w+x]]--;
U[D[Q*w+v]]++}J=0;L=0;for(var P=0;P<256;P++){if(J<U[P]){L=P;J=U[P]}}n[a++]=L}}};B.I.K.agi=[function(D,n,_,b,w,i,M,N,a,o){return w+(D+n+_)*o-(a+N+M)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(n+_+i)*o-(N+M+b)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(_+i+a)*o-(M+b+D)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(i+a+N)*o-(b+D+n)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(a+N+M)*o-(D+n+_)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(N+M+b)*o-(n+_+i)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(M+b+D)*o-(_+i+a)*o},function(D,n,_,b,w,i,M,N,a,o){return w+(b+D+n)*o-(i+a+N)*o}];
B.I.K.Q1=function(D,n,_,b,w){var self=B.I.K,i=self.Wj,M=self.Rw,N=i,a=self.agi[b-1];for(var k=0;k<M;
k++){var o=(k>0?k-1:0)*N,U=k*N,V=(k<M?k+1:k)*N;for(var c=0;c<i;c++){var E=c>0?c-1:0,A=c<i?c+1:c,Q=U+c,J=D[o+E],L=D[o+c],P=D[o+A],u=D[U+E],m=n[Q],x=D[U+A],v=D[V+E],W=D[V+c],Z=D[V+A];
_[Q]=self.S1(a(J,L,P,u,m,x,v,W,Z,w))}}};B.I.K.ahk=function(D,n,_,b,w){var self=B.I.K,i=self.KL(1),M=self.KL(1),N=self.KL(1);
for(var k=0;k<3;k++){self.Ua(D,i,k);self.Ua(n,M,k);self.Q1(i,M,N,b,w);self.ve(N,_,k)}self.Ua(n,i,3);
self.ve(i,_,3)};B.I.K.Dk=function(D,n){var _=D.length,b=0;for(var k=0;k<_;k++){n[b++]=~~((D[k++]+D[k++]+D[k++]+2)/3)}};
B.I.K.GQ=function(D,n){var _=n.length,b=0;for(var k=0;k<_;k++){var w=D[k];n[b++]=w;n[b++]=w;n[b++]=w;
n[b++]=255}if(n[0]==255)n[0]--;else n[0]++};B.I.K.Yz=function(D,n){var _=n.length,b=0;for(var k=0;k<_;
k++){var w=D[b++],i=D[b++],M=D[b++];b++;if(i>w)w=i;if(M>w)w=M;n[k]=w}};B.I.K.Yi=function(D,n){if(n==null)n=D;
var _=D.length;for(var b=0;b<_;b+=4){var w=D[b],i=D[b+1],M=D[b+2],N=w,a=0,o=w,V;if(i<=w){w=i}else{a=1;
o=i}if(M<=o){if(w>M){w=M}}else{a=2;o=M}var U=o-w;if(U!=0){if(a==0){V=~~(43*(i-M)/U)}else if(a==1){V=~~(43*(M+2*U-N)/U)}else{V=43*(N+4*U-i)/U}if(V<0){V=255&V-1}n[b]=V;
n[b+1]=~~(255*U/o)}else{n[b]=U;n[b+1]=U}n[b+2]=o;n[b+3]=D[b+3]}};B.I.K.GP=function(D,n){if(n==null)n=D;
var _=D.length;for(var b=0;b<_;b+=4){var w=D[b],i=D[b+1],M=D[b+2];if(i){if(w==255)w=0;var N=~~(6*w/255),a=~~(-255*N+6*w);
if(N==0){n[b]=M;n[b+1]=~~(M*(255-i*(255-a)/255)/255);n[b+2]=~~(M*(255-i)/255)}else if(N==1){n[b]=~~(M*(255-i*a/255)/255);
n[b+1]=M;n[b+2]=~~(M*(255-i)/255)}else if(N==2){n[b]=~~(M*(255-i)/255);n[b+1]=M;n[b+2]=~~(M*(255-i*(255-a)/255)/255)}else if(N==3){n[b]=~~(M*(255-i)/255);
n[b+1]=~~(M*(255-i*a/255)/255);n[b+2]=M}else if(N==4){n[b]=~~(M*(255-i*(255-a)/255)/255);n[b+1]=~~(M*(255-i)/255);
n[b+2]=M}else{n[b]=M;n[b+1]=~~(M*(255-i)/255);n[b+2]=~~(M*(255-i*a/255)/255)}}else{n[b]=M;n[b+1]=M;n[b+2]=M}n[b+3]=D[b+3]}};
B.I.K.ve=function(D,n,_,b){if(_==null)_=2;if(b==null)b=4;var w=D.length;for(var k=0;k<w;k++){n[_]=D[k];
_+=b}};B.I.K.Ua=function(D,n,_,b){if(_==null)_=2;if(b==null)b=4;var w=n.length;for(var k=0;k<w;k++){n[k]=D[_];
_+=b}};B.I.K.yD=function(D,n,_,b){if(b==null)b=1;var w=n.length,i=0,M;for(var i=0;i<w;i++){M=n[i];if(M){M*=b;
_[i]=~~((M*D[i]+(255-M)*_[i])/255)}}};B.I.K.yb=function(D,n,_,b){if(b==null)b=_;var w=n.length,i=0,M,N;
for(var k=0;k<w;k++){M=n[k];if(M){N=255-M;b[i]=~~((M*D[i]+N*_[i])/255);b[i+1]=~~((M*D[i+1]+N*_[i+1])/255);
b[i+2]=~~((M*D[i+2]+N*_[i+2])/255)}b[i+3]=D[i+3];i+=4}};B.I.K.Pj=function(D,n,_,b){var w=~~(b*255),i=_.length;
for(var k=0;k<i;k++){_[k]=((255-w*(255-D[k])/255)*n[k]+D[k]*(w*(255-D[k])/255))/255}};B.I.K.jM=function(D,n,_,b){var w=~~(b*255),i=_.length;
for(var k=0;k<i;k++){_[k]=((255-w*D[k]/255)*n[k]+D[k]*(w*D[k]/255))/255}};B.I.K.ZZ=function(D,n,_){var b=n.length;
for(var k=0;k<b;k++){n[k]=~~(D[k]*_+.5)+(n[k]-~~(n[k]*_+.5))}};B.I.K.sub=function(D,n){var _=D.length;
for(var k=0;k<_;k++){n[k]=Math.max(D[k]-n[k],0)}};B.I.K.add=function(D,n){var _=D.length;for(var k=0;
k<_;k++){n[k]=Math.min(D[k]+n[k],255)}};B.I.K.tW=function(D,n){var _=D.length;for(var k=0;k<_;k++){n[k]=D[k]+n[k]>>1}};
B.I.K.nb=function(D,n){var _=D.length;for(var k=0;k<_;k++){n[k]=D[k]}};B.I.K.QN=function(D,n){var _=D.length;
for(var k=0;k<_;k++){D[k]=n[D[k]]}};B.I.K.pN=function(D,n){var _=B.I.K.P3;for(var k=0;k<_;k+=4){var b=D[k],w=D[k+1],i=D[k+2],M=b;
if(w>b)M=w;if(i>b)M=i;var N=n[M];if(N){D[k]=~~(N*b/M);D[k+1]=~~(N*w/M);D[k+2]=~~(N*i/M)}else{D[k]=N;
D[k+1]=N;D[k+2]=N}}};B.I.K.G4=function(D,n){for(var k=0,_=D.length;k<_;k++){D[k]=Math.min(255,~~(.5+D[k]*n))}};
B.I.K.lB=function(D,n){for(var k=0,_=D.length;k<_;k++){D[k]=255-Math.min(255,~~(.5+(255-D[k])*n))}};
B.I.K.ei=function(D){var n=D.length;for(var k=0;k<n;k++){D[k]=255-D[k]}};B.I.K.Yw=function(D,n,_,b){if(_==null)_=0;
if(b==null)b=255;for(var k=0,w=D.length;k<w;k++){D[k]=D[k]>=n?b:_}};B.I.K.Li=function(D){return[D>>24&255,D>>16&255,D>>8&255,D&255]};
B.I.K.aoo=function(D,n,_,b){if(_==null)_=255;if(b==null)b=4278190335;var w=B.I.K,i=w.P3,M=w.Li(_),N=w.Li(b);
for(var k=0;k<i;k+=4){var a=~~((D[k]+D[k+1]+D[k+2]+2)/3);if(a>=n){D[k]=M[0];D[k+1]=M[1];D[k+2]=M[2]}else{D[k]=N[0];
D[k+1]=N[1];D[k+2]=N[2]}}};B.I.K.Tn=function(D,n){var _=B.I.K,b=_.P3,w=_.Li(n);for(var k=0;k<b;){D[k++]=w[0];
D[k++]=w[1];D[k++]=w[2];D[k++]=w[3]}};B.I.K.mM=function(D,n){var _=D.length;for(var k=0;k<_;){D[k++]=n}};
B.I.K.F0=function(D,n){D=D>5?(100-Math.max(4,D))/100:.95;n=n!=100?Math.max(4,n)/100:.9995;var _=new Uint8Array(256),b=n>.5?.5/(1-n):n*2,w=~~(b*256),i=~~((.5-D*b)*256)<<8;
for(var k=0;k<256;k++){_[k]=B.I.K.S1(i>>8);i+=w}return _};B.I.K.oG=function(D){for(var k=0,n=B.I.K,_=D.length;
k<_;k++){D[k]=~~(n.random()*256)}};B.I.K.a85=function(D,n){for(var k=0,_=B.I.K,b=D.length;k<b;k++){D[k]=_.random()<n?255:0}};
B.I.K.TF=function(D,n,_){for(var k=0,b=B.I.K,w=D.length;k<w;k++){if(b.random()<n)D[k]=_}};B.I.K.A7=function(D,n,_){var b=D.length;
for(var k=0;k<b;k++){D[k]=B.I.K.S1(D[k]+_[n[k]])}};B.I.K.zZ=function(D){var n=new Uint32Array(256);for(var k=0,_=D.length;
k<_;k++){n[D[k]]++}return n};B.I.K.aN=function(D,n,_){var self=B.I.K,b=self.zZ(_),w=self.PJ/100,i=new Uint8Array(256),M=w*D,N=w*n,a=0,o=-1,U=256;
do{a+=b[++o]}while(a<=M);a=0;do{a+=b[--U]}while(a<=N);if(U-o<=0)U=o+1;if(U>255){U=255;o=254}var V=255/(U-o),c=-o;
for(var k=0;k<256;k++){i[k]=self.S1(V*c+.5);c++}return i};B.I.K.ER=function(D,n,_){var b=B.I.K;b.QN(D,b.aN(n,_,D))};
B.I.K.amM=function(D,n){var self=B.I.K,_=self.zZ(D),b=self.PJ*n/100,w=0,i=-1;do{w+=_[++i]}while(w<=b);
return i};B.I.K.Zk=function(D,n){var _=0,self=B.I.K,b=self.Wj,w=self.Rw,i=1/Math.PI,M=i*255;for(var k=0;
k<w;k++){var N=k+1;if(N==w)N--;var a=k*b,o=~~((1-(k+1)/w)*255);for(var U=0;U<b;U++){var V=U+1;if(V==b)V--;
var c=D[a+U],E=D[a+V],A=D[N*b+U];if(c-A==0){n[_++]=o}else{var Q=c-A+255;if(Q==255){Q=0}else{Q=~~(Math.atan2(1/(255-Q),1)*M+.5);
if(Q<0)Q+=255}n[_++]=Q}if(c-E==0){n[_++]=~~((1-(U+1)/b)*255)}else{var Q=c-E+255;if(Q==255){Q=0}else{Q=~~(Math.atan2(1/(255-Q),1)*M+.5);
if(Q<0)Q+=255}n[_++]=Q}}}};B.I.K.K$=function(D,n){var self=B.I.K,_=self.Wj,b=self.Rw,w=0;for(var k=0;
k<b;k++){for(var i=0;i<_;i++){D[w]=~~(k*n+.5)+~~(D[w]*(1-n)+.5);w++;D[w]=~~(i*n+.5)+~~(D[w]*(1-n)+.5);
w++}}};B.I.K.a67=function(D,n,_,b){var self=B.I.K,w=self.Wj,i=self.Rw,M=0;for(var k=0;k<i;k++){for(var N=0;
N<w;N++){n[M]=~~(n[M]*(1-_)+.5)+~~(D[M]*b+.5);M++;n[M]=~~(n[M]*(1-_)+.5)+~~(D[M]*b+.5);M++}}};B.I.K.jV=function(D,n,_){var self=B.I.K,b=self.Wj,w=self.Rw,i=0,M=0;
for(var k=0;k<w;k++){for(var N=0;N<b;N++){var a=D[i++],o=D[i++];n[M++]=o%_>=2&&a%_>=2?255:0}}};B.I.K.ng=function(D,n,_,b,w,i,M){var self=B.I.K,N=self.Wj,a=self.Rw,o=0,U=0,V=0;
for(var k=0;k<a;k++){var c=k%D<_||a-_<=k;for(var E=0;E<N;E++){M[o++]=c||E%n<b||N-b<=E?w:i}}};B.I.K.rF=function(D,n,_,b){var self=B.I.K,w=self.Wj,i=self.Rw,M=fa.rF(n),N=M[0],a=M[1],o=B.U(N.u()*4);
o.fill(4294967295);B.hd(a,o);var U=B.scale.Ad(o,N.l,N.e),V=B.scale.Lp(U,null,w,i,_/100,_/100,0,0);B.Ef(V,D,0);
if(b)B.ei(D)};B.I.K.S1=function(D){return~~Math.min(255,Math.max(0,D))};B.I.K.Iv=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
B.I.K.p3=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];B.I.K.SK=function(D){return D>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][D-41]:D/40};
B.I.K.aiI=function(D,n,_){var self=B.I.K,b=self.Wj,w=self.Rw,i=_,M=_>>1,N=M-1,a=i*i,o=0;for(var k=0;
k<w;k++){var U=0,V=0,c=0,E=~~(k/_)*_,A=0;for(var Q=0;Q<i;Q++){for(var J=0;J<i;J++){var L=A+J,P=E+Q;if(L>=b)L=b-1;
if(P>=w)P=w-1;U+=D[P*b+L<<2];V+=D[(P*b+L<<2)+1];c+=D[(P*b+L<<2)+2]}}var u=~~(U/a),m=~~(V/a),x=~~(c/a);
n[o]=u;n[o+1]=m;n[o+2]=x;n[o+3]=D[o+3];o+=4;for(var v=1;v<b;v++){for(var Q=0;Q<i;Q++){var W=v-1,Z=W+i,P=E+Q;
if(Z>=b)Z=b-1;if(P>=w)P=w-1;var r=P*b,X=r+Z<<2,$=r+W<<2;U+=D[X]-D[$];V+=D[X+1]-D[$+1];c+=D[X+2]-D[$+2]}if(v%_==0){u=~~(U/a);
m=~~(V/a);x=~~(c/a)}n[o]=u;n[o+1]=m;n[o+2]=x;n[o+3]=D[o+3];o+=4}}};B.I.K.adr=function(D,n,_,b,w){var self=B.I.K,i=self.Wj,M=self.Rw,N=0,a=0,o=0,U=0;
for(var k=U;k<M+U;k++){var V=k%n>=b||k<b||M+U-b<=k;for(var c=0;c<i;c++){D[N++]=V&&(c%_>=w||c<w||i-w<=c)?255:0}}};
B.I.K.aqY=function(D,n,_){var b=function(o,U){return U<=o?o/U&1?U-o%U:o%U:o},w=[function(N,a){return b(N,255)/255},function(N,a){return(255+b(N,255)-b(a,255))/510},function(N,a){return(255-b(a,255))/255},function(N,a){return(510-b(N,255)-b(a,255))/510},function(N,a){return(255-b(N,255))/255},function(N,a){return(255-b(N,255)+b(a,255))/510},function(N,a){return b(a,255)/255},function(N,a){return(b(N,255)+b(a,255))/510}][_],i=0,M=0;
for(var k=0;k<B.I.K.PJ;k++){var N=D[i++],a=D[i++];n[M++]=~~(255*w(N,a))}};B.I.a5z=function(){var D=[],n=new Uint8Array(512),_=new Float32Array(512),b=new Float32Array(512),w=[1,-1,1,-1,1,-1,0,0],i=[1,1,-1,-1,0,0,1,-1],M=0,N,A=0;
for(;M<256;M++)D[M]=M;while(M!=0){M--;N=Math.floor(Math.random()*M);D[N]^=D[M]^(D[M]=D[N])}function a(a){a=Math.floor(a*65536);
if(a<256){a|=a<<8}for(var k=0;k<256;k++){var L=k+256,P=D[k]^(k&1?a:a>>8)&255;n[k]=n[L]=P;P=P%8;_[k]=_[L]=w[P];
b[k]=b[L]=i[P]}}function o(L){return L*L*L*(L*(L*6-15)+10)}function U(L,P,u){return(1-u)*L+u*P}function V(L,P){return L&P}function c(L,P){return L%P}function E(L,P,u,m,x){var v=Math.floor(L),W=Math.floor(P),M,Z,r,X,$,I;
L=L-v;P=P-W;v=v&255;W=W&255;M=v+n[W];X=_[M]*L+b[M]*P;M=v+n[x(W+1,m)];r=_[M]*L+b[M]*(P-1);M=x(v+1,u)+n[W];
$=_[M]*(L-1)+b[M]*P;M=x(v+1,u)+n[x(W+1,m)];I=_[M]*(L-1)+b[M]*(P-1);Z=o(L);return U(U(X,$,Z),U(r,I,Z),o(P))}function Q(L,M,P){L[M]=P}function J(L,P,u,m,x){var v=Math.min(Math.min(P,256),Math.min(256,u)),W=v==256||v<8,Z=8,r=new Uint32Array(Z),X=new Uint32Array(Z),$=new Float32Array(Z),I=new Float32Array(Z),T=1,e=1,F=W?V:c,y=Q,h;
for(var k=0;k<Z;k++){h=e*1/v;if(W){X[k]=(1<<Math.ceil(Math.log2(u*h)))-1;r[k]=(1<<Math.ceil(Math.log2(P*h)))-1}else{X[k]=h*u;
r[k]=h*P}$[k]=T;I[k]=h;T*=.5;e=e<<1}a(Math.random());for(var Y=0,M=0;Y<u;Y++){for(var K=0;K<P;K++){var z=0;
for(var f=0;f<Z;f++){h=I[f];z+=E(K*h,Y*h,r[f],X[f],F)*$[f]}y(m,M++,Math.round(Math.max(0,255*Math.min(1,.5+z*.5))))}}}return J}();
B.I.ai3=function(){function D(n,_,b,w){var i=new Uint8Array(n.length>>>2),M=new Uint8Array(n.length>>>2),N=new Uint8Array(n.length);
for(var k=0;k<n.length;k+=4){var a=n[k+0]*.3+n[k+1]*.59+n[k+2]*.11;M[k>>>2]=a;N[k]=n[k];N[k+1]=n[k+1];
N[k+2]=n[k+2]}B.ax.a6(M,i,_,b);B.ax.mA(n,w,_,b,B.ax.KX[1],0,!0);for(var k=0;k<n.length;k+=4){N[k+3]=255-i[k>>>2]}for(var k=0,o=n.length;
k<o;k+=4){var U=N[k+3]/255;w[k]=N[k]*U+w[k]*(1-U);w[k+1]=N[k+1]*U+w[k+1]*(1-U);w[k+2]=N[k+2]*U+w[k+2]*(1-U)}}return D}();
B.I.a38=function(){function D(i,M,N,a,o){var U=new Uint32Array(i.buffer),V=0;for(var k=0;k<N;k++){for(var c=0;
c<M;c++,V+=4){var E=U[k*M+c],A=E&255,Q=E>>>8&255,J=E>>>16&255,L=E>>>24&255,P=~~(Math.random()*8),u=P%3,m=0,x=0;
if(P<3){x--}else if(P>4){x++}if(u==0){m--}else if(u==2){m++}var v=c+m,W=k+x;if(v<0)v=0;else if(v>M-1)v=M-1;
if(W<0)W=0;else if(W>N-1)W=N-1;var E=U[W*M+v],Z=E&255,r=E>>>8&255,X=E>>>16&255,$=E>>>24&255;a[V]=o(A,Z);
a[V+1]=o(Q,r);a[V+2]=o(J,X);a[V+3]=o(L,$)}}}function n(i,M){return M}function _(i,M){return i>M?M:i}function b(i,M){return i<M?M:i}function w(i,M,N,a,o){var U=o[0];
if(U==0)D(i,M,N,a,n);else if(U==1)D(i,M,N,a,_);else if(U==2)D(i,M,N,a,b);else if(U==3){console.error("Not implemented")}else console.error("Mew mew")}return w}();
B.I.a98=function(){function D(n,_,b,w,i){var M=i&&i[0]?i[0]:4,N,a,o,U,V,c,E;for(var k=0;k<b;k++){var A=Math.max(k-M,0),Q=Math.min(k+M,b-1);
for(var J=0;J<_;J++){var L=Math.max(J-M,0),P=Math.min(J+M,_-1);N=A*_+L<<2;U=n[N];V=n[N+1];c=n[N+2];E=n[N+3];
N=A*_+P<<2;U+=n[N];V+=n[N+1];c+=n[N+2];E+=n[N+3];N=Q*_+L<<2;U+=n[N];V+=n[N+1];c+=n[N+2];E+=n[N+3];N=Q*_+P<<2;
U+=n[N];V+=n[N+1];c+=n[N+2];E+=n[N+3];N=k*_+J<<2;w[N]=U+2>>>2;w[N+1]=V+2>>>2;w[N+2]=c+2>>>2;w[N+3]=E+2>>>2}}}return D}();
B.I.amF=function(){function D(n,_,b,w){var i=new Uint8Array(n.length),M=new Uint8Array(n.length>>>2),N=new Uint8Array(n.length>>>2);
B.ax.mA(n,i,_,b,B.ax.KX[2],0,!0);for(var k=0;k<n.length;k+=4){var a=i[k+0]*.3+i[k+1]*.59+i[k+2]*.11;
M[k>>>2]=a;w[k+0]=n[k+0];w[k+1]=n[k+1];w[k+2]=n[k+2];w[k+3]=n[k+3]}B.ax.a6(M,N,_,b);for(var k=0;k<n.length;
k+=4){i[k+3]=~~(Math.max(0,255-N[k>>>2]-50)*(255/205))}for(var k=0,o=n.length;k<o;k+=4){var U=i[k+3]/255;
w[k]=i[k]*U+w[k]*(1-U);w[k+1]=i[k+1]*U+w[k+1]*(1-U);w[k+2]=i[k+2]*U+w[k+2]*(1-U)}}return D}();B.I.Lt=function(){function D(P,u){return P[u]+P[u+1]+P[u+2]+P[u+3]}function n(P,u){return P[u]+P[u+1]+P[u+2]+2*P[u+3]}function _(P,u,m,x){P[u]=m[x];
P[u+1]=m[x+1];P[u+2]=m[x+2];P[u+3]=m[x+3]}function b(P,u,m){P[u]=P[m];P[u+1]=P[m+1];P[u+2]=P[m+2];P[u+3]=P[m+3]}function w(P,u,m){P[m]=u[m];
P[m+1]=u[m+1];P[m+2]=u[m+2];P[m+3]=255-u[m+3]}function i(P){for(var k=0,u=P.length;k<u;k+=4){P[k+3]=255-P[k+3]}}function M(){var P=Math.random();
if(P>.5)return 0;if(P>.25)return 1;if(P>.1)return 2;if(P>.02143)return 3;if(P>.00445)return 4;if(P>65e-5)return 5;
if(P>415e-6)return 6;if(P>55e-6)return 7;return 8}function N(P,u,m,x,v,W){P[u]=m[x]+(v[W]-m[x]>>1);P[u+1]=m[x+1]+(v[W+1]-m[x+1]>>1);
P[u+2]=m[x+2]+(v[W+2]-m[x+2]>>1);P[u+3]=m[x+3]+(v[W+3]-m[x+3]>>1)}function a(P,u,m,x,v,W){P[u]=v[W]+m[x]>>1;
P[u+1]=v[W+1]+m[x+1]>>1;P[u+2]=v[W+2]+m[x+2]>>1;P[u+3]=v[W+3]+m[x+3]>>1}function o(P,u,m,x,v,W,Z,r,X){var $=0,I=0,T=0,k,e=v[W],F;
N(r,0,P,u,P,m);for(k=0;k<e;k++){N(r,(k+1)*4,r,k*4,P,m)}I=(e+1)*4;T+=e;W--;_(P,u,r,I-4);x[W]=D(P,u);u-=X;
while(W>0&&x[W-1]<x[W]){F=r;r=Z;Z=F;$=I;a(r,0,P,u-X,Z,0);for(k=4;k<$;k+=4){a(r,k,r,k-4,Z,k)}e=v[W];for(k=T;
k<e;k++){N(r,I,r,I-4,Z,$-4);I+=4;T++}W--;_(P,u,r,I-4);x[W]=D(P,u);u-=X}}function U(P,u,m,x,v){var W=u*4,Z=0,r,X,$=new Uint8Array(u+1),I=new Uint8Array(10*4),T=new Uint8Array(10*4);
for(var k=0;k<m;k++){w(x,P,Z);v[0]=D(x,Z);$[0]=M();r=Z;Z+=4;for(var e=1;e<u;e++){w(x,P,Z);v[e]=D(x,Z);
X=M();$[e]=X;if(v[e-1]<v[e]&&X>0){o(x,Z-4,Z,v,$,e,I,T,4)}Z+=4}v[u]=v[0];$[u]=$[0];if(v[u-1]<v[u]&&X>0){o(x,Z,r,v,$,u,I,T,4)}}i(x)}function V(){var P=Math.random();
if(P>.659755)return 0;if(P>.1625)return 10;if(P>.06)return 20;if(P>.01)return 30;if(P>.0035)return 40;
if(P>65e-5)return 50;if(P>415e-6)return 60;if(P>55e-6)return 70;return 80}function c(P,u,m,x,v,W){var Z=V()+1,r=x[v];
for(var k=1;k<Z;k++){if(0>v)break;if(x[v-k]<r){b(P,u,m)}else{break}u+=W}}function E(P,u,m,x,v){var W=u*4,Z=0;
for(var k=0;k<m;k++){w(x,P,Z);v[0]=D(x,Z);Z+=4;for(var r=1;r<u;r++){w(x,P,Z);v[r]=D(P,Z);if(v[r-1]<v[r]){c(x,Z-4,Z,v,r,-4)}Z+=4}v[u]=v[0];
if(v[r-1]<v[r]){c(x,Z-4,Z-W,v,r,-4)}}i(x)}function A(P,u,m,x,v,W){var Z=1,r,X,$=new Uint8Array(4),I,T=u;
while(Math.random()<1/Z){T=u;if(x<=1)break;r=m[x];X=m[x-1];if(r<=X)break;_($,0,P,T-W);I=!0;for(var k=x;
k<v;k++){if(X>m[k]){_(P,T-W,$,0);m[k-1]=X;I=!1;break}_(P,T-W,P,T);m[k-1]=m[k];T+=W}if(I){_(P,T-W,$,0);
m[v-1]=X}Z++;x--;u-=W}}function Q(P,u,m,x,v){var W=0,Z=0,r=u*4;for(var k=0;k<m;k++){Z=W;for(var X=0;
X<u;X++){w(x,P,W);v[X]=n(x,W);W+=4}W=Z;for(var X=1;X<u;X++){if(v[X-1]<v[X]&&Math.random()<.66){A(x,W+4,v,X,u,4)}W+=4}W+=4}i(x)}function J(P,u,m,x,v){var W=v[0],Z=v[1],r=new Uint16Array(u+1),X=P,$=x,I;
if(Z){I=x.slice(0);L(P,x,u,m);X=x;$=I}if(W==0)U(X,u,m,$,r);else if(W==1)E(X,u,m,$,r);else if(W==2)Q(X,u,m,$,r);
if(Z){L(I,x,u,m)}}function L(P,u,m,x){for(var v=0;v<x;v++)for(var W=0;W<m;W++){var Z=v*m+W<<2,r=v*m+(m-1-W)<<2;
u[r]=P[Z];u[r+1]=P[Z+1];u[r+2]=P[Z+2];u[r+3]=P[Z+3]}}return J}();B.I.c0=function(D,n,_,b,w){var i=B.I.K,M=1,J=0,u=0;
i.zJ(n,_);i.xi(w[2]);var N=3<<13,a=Math.PI/2.43,o=a/256,U=Math.PI*2/256;function V(){var W=i.random()*256,Z=i.random()*256;
return M*~~(Math.tan(a-W*o)*325*Math.cos(Z*U)*256)+N>>16}M=w[0];var c=w[1],E=(c+2)/2,A=i.random()*255,Q=i.KL(1);
for(var k=0;k<_;k++){var L=i.S1(V()+A);for(var P=0;P<n;P++){L=i.S1(V()+L);Q[J++]=L}}J=n;for(var k=1;
k<_;k++){var m=i.S1(V()+Q[u++]);Q[J++]=m;for(var P=1;P<n;P++){var x=u+1;if(P+1==n){x--}var v=(E+m+Q[x]+Q[u]*c)/(c+2);
m=i.S1(V()+v);Q[J++]=m;u++}}i.GQ(Q,b)};var cN=function(){function D(g){g=g^61^g>>>16;g=g+(g<<3);g=g^g>>>4;
g=g*668265261;g=g^g>>>15;return g}var n=function(){var n=function(g){if(g){this.vd=g}this.vd=D(this.vd);
return(this.vd&16777215)*(1/16777215)};return n};function _(g,H){if(H==null){H=[0,0]}return Math.sqrt((H[0]-g[0])*(H[0]-g[0])+(H[1]-g[1])*(H[1]-g[1]))}function b(g,H){if(H==null){H=[0,0]}return[-(H[1]-g[1])/_(g,H),(H[0]-g[0])/_(g,H)]}function w(g){return[Math.cos(g),Math.sin(g)]}function i(g){var H=_(g,[0,0]),O=[g[0]/H,g[1]/H],C=Math.atan(O[1]/O[0]);
if(O[0]>0&&O[1]<0){C+=2*Math.PI}else if(O[0]<0&&O[1]<0){C+=Math.PI}else if(O[0]<0&&O[1]>0){C+=Math.PI}return C}function M(g){var M=0;
for(var k=1;k<g.length/2;++k){M+=_([g[2*k],g[2*k+1]],[g[2*(k-1)],g[2*(k-1)+1]])}return M}function N(g,H,O){var C=new Float32Array(g.length),ib=1/(g.length/2),hH=x(O);
for(var k=0;k<g.length/2;++k){var R=k*ib,fR=R/2+.5,j4=1,cP=0;if(O.shape==2){j4=1/(2*fR)}if(O.shape==3){fR=(1-R)/2+.5;
j4=1/(2*fR)+.5}if(O.shape==4){fR=R;j4=Math.sin(3/2*Math.PI*fR)/4+1}if(O.shape==5){fR=(R-.5)*6;j4=(-Math.atan(fR)/1.25+1)/5+.6-.2*R}var a8=[null,null];
if(k==0){a8=b([g[2*k],g[2*k+1]],[g[2*(k+1)],g[2*(k+1)+1]])}else if(k==g.length/2-1){a8=b([g[2*(k-1)],g[2*(k-1)+1]],[g[2*k],g[2*k+1]])}else{a8=b([g[2*(k-1)],g[2*(k-1)+1]],[g[2*(k+1)],g[2*(k+1)+1]])}C[2*k]=g[2*k]+(j4*H+cP)*a8[0];
C[2*k+1]=g[2*k+1]+(j4*H+cP)*a8[1];if(O.style==2){C[2*k]+=v(2*k/C.length,hH,O)}}return C}function a(g,H,O){var C=new Float32Array(g.length),ib=1/(g.length/2);
for(var k=0;k<g.length/2;++k){var hH=k*ib,R=[null,null],fR=.6*O.H_*r(hH,H.a6B)*O.en/100,j4=.6*O.H_*r(hH,H.a4_)*O.en/100,cP=H.ae8*fR+(1-H.ae8)*j4;
if(k==0){R=b([g[2*k],g[2*k+1]],[g[2*(k+1)],g[2*(k+1)+1]])}else if(k==g.length/2-1){R=b([g[2*(k-1)],g[2*(k-1)+1]],[g[2*k],g[2*k+1]])}else{R=b([g[2*(k-1)],g[2*(k-1)+1]],[g[2*(k+1)],g[2*(k+1)+1]])}C[2*k]=g[2*k]+cP*R[0];
C[2*k+1]=g[2*k+1]+cP*R[1]}return C}function o(g){if(g.Af==1){return[.150684932,.205479452,.465753425,.178082192]}else if(g.Af==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var H=[],O=1/(T(g)-1);
for(var k=0;k<T(g)-1;++k){H.push(O)}return H}}function U(g,H,O){var C=[],ib=H-g,hH=g;for(var k=0;k<O.length-1;
++k){C.push(hH+O[k]*ib);hH=C[k]}return C}function V(g,H,O,C){var ib=new Float32Array(O.length),hH=0,R={shape:Math.floor(C.random()*2.99),a8e:C.random()*.1+.15};
for(var k=0;k<O.length-1;++k){var fR=hH+O[k];ib[k]=((1-fR)*g+fR*H)*L(C,fR,R);hH=fR}return ib}function c(g,H,O,C){var ib=$(C),hH=C.random(),R=hH*20+(1-hH)*26,fR=new Float32Array(O.length),j4=0;
for(var k=0;k<O.length-1;++k){var cP=j4+O[k];fR[k]=(1-cP)*g+cP*H+ib/R*(2/3*Math.sin(Math.PI*cP)+1/3*Math.sqrt(Math.sin(Math.PI*cP)));
j4=cP}return fR}function E(g,H,O){var C=[];for(var k=0;k<H.length-1;++k){C.push(H[k].slice());var ib=k*(T(O)-1),hH=(k+1)*(T(O)-1),R=g[hH]-g[ib];
for(var fR=ib+1;fR<hH;++fR){var j4=x(O),cP=new Float32Array(H[0].length),a8=(g[fR]-g[ib])/R;for(var d0=0;
d0<H[0].length/2;++d0){cP[2*d0]=(1-a8)*H[k][2*d0]+a8*H[k+1][2*d0];cP[2*d0+1]=(1-a8)*H[k][2*d0+1]+a8*H[k+1][2*d0+1];
if(O.style==2){cP[2*d0]+=v(2*d0/H[0].length,j4,O)}}C.push(cP)}}C.push(H[H.length-1]);return C}function A(g,H,O){var C=new Array(H.length),ib=z(g),R=null;
for(var k=0;k<H.length;++k){C[k]=N(ib,(H[k]-.5)*O.en,O)}var hH=1+.05*O.a47*$(O)/$({Af:1});for(var k=0;
k<H.length;++k){if(H[k]==0){R=k}}for(var k=0;k<H.length;++k){var fR=(O.random()-.5)*2,j4=Math.round(O.random()*9+1),cP=new Float32Array(j4*2+2);
for(var a8=0;a8<=j4;++a8){cP[2*a8]=C[k][0]-(C[k][2*a8]-C[k][0]);cP[2*a8+1]=C[k][1]-(C[k][2*a8+1]-C[k][1])}if(k==R){fR*=.1}for(var a8=(C[k].length-1)/2;
a8>j4;--a8){C[k][2*a8]=(1-fR)*C[k][2*a8]+fR*(C[k][2*(a8-j4)]+hH*(C[k][2*a8]-C[k][2*(a8-j4)]));C[k][2*a8+1]=(1-fR)*C[k][2*a8+1]+fR*(C[k][2*(a8-j4)+1]+hH*(C[k][2*a8+1]-C[k][2*(a8-j4)+1]))}for(var a8=j4-1;
a8>=0;--a8){C[k][2*a8]=(1-fR)*C[k][2*a8]+fR*(cP[2*(j4-a8)]+hH*(C[k][2*a8]-cP[2*(j4-a8)]));C[k][2*a8+1]=(1-fR)*C[k][2*a8+1]+fR*(cP[2*(j4-a8)+1]+hH*(C[k][2*a8+1]-cP[2*(j4-a8)+1]))}}var d0=Z(H,O);
if(O.H_>0){var b9=0;for(var k=0;k<H.length;++k){if(k==0){b9+=H[k]}else{b9+=Math.abs(H[k]-H[k-1])}var jG=b9-Math.floor(b9),jP=1;
if(jG==0){jP=0}C[k]=a(C[k],{a6B:d0[Math.floor(b9)],a4_:d0[Math.floor(b9)+jP],ae8:jG},O)}}return C}function Q(g,H){var O=y(H,g),C=h(H,g),ib=[],hH=[],R=[],fR=o(g);
for(var k=0;k<H.length-1;++k){ib.push(H[k]);hH.push(O[k]);R.push(C[k]);var j4=U(H[k],H[k+1],fR),cP=V(O[k],O[k+1],fR,g),a8=c(C[k],C[k+1],fR,g);
for(var d0=0;d0<j4.length;++d0){ib.push(j4[d0]);hH.push(cP[d0]);R.push(a8[d0])}}ib.push(H[H.length-1]);
hH.push(O[O.length-1]);R.push(C[C.length-1]);return{amq:ib,a1u:hH,Tp:R}}function J(g,H,O,C){var ib=new Float32Array(2*C),hH=g.length/2,R=hH-H,fR=O*R,j4=fR/C;
for(var k=0;k<C;++k){var cP=Math.floor(H+k*j4),a8=Math.ceil(H+k*j4),O=H+k*j4,d0=a8-cP,b9=1,jG=0;if(d0!=0){b9=(a8-O)/d0;
jG=(O-cP)/d0}ib[2*k]=b9*g[2*cP]+jG*g[2*a8];ib[2*k+1]=b9*g[2*cP+1]+jG*g[2*a8+1]}return ib}function L(g,H,O){var C=O.a8e,ib=H*2*Math.PI,hH=ib,R=0;
if(O.shape==0){R=(Math.sin(2*hH+Math.PI/2)+1)/2}else if(O.shape==1){R=(Math.sin(hH+Math.PI/2)+1)/2}else{R=(4*Math.sin(3/4*hH+Math.PI)+Math.sin(Math.PI/2+2*hH)-2*hH/Math.PI+6)/7}return Math.min(1,1-C+C*R)}function P(g,H,O,C){var ib=[];
for(var k=0;k<g.length;++k){ib.push(J(g[k],H[k],O[k],C))}return ib}function u(g,H,O){var C=[];for(var k=0;
k<g.length;++k){var ib=w(2*Math.PI*O.random()),hH=w(2*Math.PI*O.random()),R=O.jj*.5*e({Af:1})/e(O),fR=R*O.en/200,j4=R*H/500,cP=new Float32Array(g[0].length);
for(var a8=0;a8<g[0].length/2;++a8){var d0=w(2*Math.PI*O.random()),b9=2*a8/g[0].length;cP[2*a8]=g[k][2*a8]+fR*(d0[0]+((1-b9)*ib[0]+b9*hH[0]));
cP[2*a8+1]=g[k][2*a8+1]+j4*(d0[1]+((1-b9)*ib[1]+b9*hH[1]))}C.push(cP)}return C}function m(g,H,O){var C=O.oq,ib=2/C,hH=[1/10,1/30,1/40,1/45,1/100],R=hH[O.Af-1],fR=4*(O.opacity/25*ib*R)*(1-O.jj/150),d0=0,jG=0;
if(O.style==3){return fR*.09}var j4=2.2*(g-.5),cP=j4*j4*j4*j4+.27+Math.max(0,(O.opacity-50)/15),a8=2*(Math.sin(3*Math.PI*H)/(Math.PI*H+2)+1.1)-H/2;
H=2*H;if(H<.41){var b9=2*Math.PI*H/.41;d0=(Math.sin(b9-Math.PI/2)+1)/4+.5}else if(H<.77){var b9=2*Math.PI*(H-.41)/.36;
d0=(Math.sin(b9-Math.PI/2)+1)/4+.5-b9/2/Math.PI*.5}else{var b9=2*Math.PI*(H-.77)/.23;d0=(Math.sin(b9-Math.PI/2)+1)/2*.12}d0*=3;
d0+=Math.max(0,(O.opacity-50)/15);if(O.type==6){jG=a8}else{jG=d0}return fR*cP*jG}function x(g){return{J:g.random()*7/2+.5,zb:g.random()*2*Math.PI}}function v(g,H,O){return O.en/300*T({Af:1})/T(O)*10*(Math.sin(H.J*2*Math.PI*g+H.zb)+10*(O.random()-.5))}function W(g){var H=Math.exp(-g.H_/25);
return{J:g.random()*3/2+.5,zb:g.random()*2*Math.PI,Ne:(g.random()-.5)*10*H}}function Z(g,H){var O=Math.ceil(Y(g)),C=[];
for(var k=0;k<=O;++k){C.push(W(H))}return C}function r(g,H){var O=H.J*4*Math.PI*g+H.zb;return Math.exp(-1/2*Math.PI*g)*Math.cos(O)*Math.cos(O)*Math.cos(O)*Math.cos(O)*Math.cos(O)+g*H.Ne-H.Ne/4}function X(g,H,O,C,ib){var hH=0,R=e(H)-1;
for(var k=0;k<R;++k){for(var fR=0;fR<g.length-1;fR+=T(H)-1){for(var j4=k;j4<g[0].length/2-R;j4+=R){for(var cP=fR;
cP<fR+(T(H)-1);++cP){O[ib+hH]=m(cP*(H.oq-1)/(g.length-1)%1,j4/g[0].length,H);var a8=0,d0=0;if(H.type==6&&cP!=0&&cP!=g.length-1){d0=(g[cP][2*(j4+1)+1]-g[cP][2*j4+1])/2;
a8=(g[cP][2*(j4+1)]-g[cP][2*j4])/2}C[8*ib+8*hH]=g[cP][2*j4]+a8;C[8*ib+8*hH+1]=g[cP][2*j4+1]+d0;C[8*ib+8*hH+2]=g[cP][2*(j4+R)]+a8;
C[8*ib+8*hH+3]=g[cP][2*(j4+R)+1]+d0;C[8*ib+8*hH+4]=g[cP+1][2*(j4+R)];C[8*ib+8*hH+5]=g[cP+1][2*(j4+R)+1];
C[8*ib+8*hH+6]=g[cP+1][2*j4];C[8*ib+8*hH+7]=g[cP+1][2*j4+1];++hH}}}}}function $(g){var H=[100,300,500,700,1e3];
return H[g.Af-1]}function I(g){var H=[30,70,100,140,300];return H[g.Af-1]}function T(g){var H=[5,7,26,40,100];
return H[g.Af-1]}function e(g){if(g.Af==1){return 4}else if(g.Af==2){return 8}else{return Math.floor(I(g)/9)}}function F(g){var H=g.oq,O=new Float32Array(H),C=null;
for(var k=0;k<H;++k){O[k]=g.random()}if(g.oq<=3){O[0]=0;O[g.oq-1]=1}else{for(var k=0;k<2;++k){var ib=Math.floor(g.random()*H);
if(C==null||C!=ib){O[ib]=k;C=ib}else{O[ib+1]=k}}}return O}function y(g,H){var O=[],C=.2,hH=0;for(var k=0;
k<g.length;++k){var ib=H.random()*(1-C)+C;O.push(ib)}var R=Math.min(3,H.oq);for(var k=0;k<g.length;++k){if(O[k]>.9){++hH}}while(hH<R){var fR=Math.floor(H.random()*g.length);
if(O[fR]<=.9){O[fR]=.9+.1*H.random();++hH}}return O}function h(g,H){var O=$(H),C=$({Af:1}),ib=[];for(var k=0;
k<g.length;++k){ib.push(Math.max(1,(H.random()*10+2)*O/C))}return ib}function Y(g){var H=0;for(var k=0;
k<g.length;++k){if(k==0){H+=g[k]}else{H+=Math.abs(g[k]-g[k-1])}}return H}function K(g,H){if(g.length/2-1==$(H)){return g}var O=new Float32Array(2*($(H)+1)),C=(g.length-2)/(O.length-2);
for(var k=0;k<O.length/2;++k){var ib=k*C,hH=Math.floor(ib),R=Math.ceil(ib),fR=R-hH,j4=1,cP=0;if(fR!=0){j4=(R-ib)/fR;
cP=(ib-hH)/fR}O[2*k]=j4*g[2*hH]+cP*g[2*R];O[2*k+1]=j4*g[2*hH+1]+cP*g[2*R+1]}return O}function z(g,H){var O=g.length/2,C=M(g),ib=C/O,hH=!1,j4=0,cP=0,a8=1;
if(H){var R=Math.floor(C/H.aam),fR=H.aam;if(H.arq&&g[0]==g[g.length-2]&&g[1]==g[g.length-1]){hH=!0;fR=C/(R+1)}if(H.type==2&&!hH&&fR*R+H.length>C){O=R+1}else{O=R+2}ib=fR}var d0=new Float32Array(O*2);
d0[0]=g[0];d0[1]=g[1];for(var k=1;k<O;++k){while(j4<=k*ib){cP=j4;j4+=_([g[2*a8],g[2*a8+1]],[g[2*(a8-1)],g[2*(a8-1)+1]]);
++a8}var b9=1-(k*ib-cP)/(j4-cP);d0[2*k]=(1-b9)*g[2*a8]+b9*g[2*(a8-1)];d0[2*k+1]=(1-b9)*g[2*a8+1]+b9*g[2*(a8-1)+1]}d0[d0.length-2]=g[g.length-2];
d0[d0.length-1]=g[g.length-1];return d0}function f(g,H){var O=z(g,H),C=[];for(var k=0;k<(O.length-2)/2;
++k){var ib=[];ib.push(O[2*k]);ib.push(O[2*k+1]);var hH=_([O[2*(k+1)],O[2*(k+1)+1]],[O[2*k],O[2*k+1]]),R=[(O[2*(k+1)]-O[2*k])/hH,(O[2*(k+1)+1]-O[2*k+1])/hH],fR=w((H.ajB-90)/360*2*Math.PI),j4=R;
if(H.type==3){j4=fR}else if(H.type==4){j4=w(i(R)+i(fR))}else if(H.type==5){j4=w(((H.random()-.5)*H.ajB-90)/360*2*Math.PI)}var cP=H.length;
if(H.ahB){cP=2*H.random()*H.length}ib.push(O[2*k]+j4[0]*cP);ib.push(O[2*k+1]+j4[1]*cP);C.push(ib)}return C}function s(g){if(g.ajz){g.nx=100*Math.random()}else{g.nx=g.aa1}g.random=new n;
g.random(g.nx);if(g.type==6){g.oq=2;g.shape=5;g.a47=0}}function l(g,H){g=K(g,H);var O=[g],cP=0;if(H.type>=2&&H.type<6){O=f(g,H)}var C=e(H)-1,ib=I(H)-C,hH=(H.oq-1)*(T(H)-1),R=O.length*ib*hH,fR=new Float32Array(R),j4=new Float32Array(8*R);
for(var k=0;k<O.length;++k){for(var a8=0;a8<1e4;++a8){H.nx=D(H.nx)}H.random(H.nx);var g=K(O[k],H),d0=F(H),b9=Y(d0),jG=A(g,d0,H),jP=Q(H,d0),aq=E(jP.amq,jG,H);
aq=P(aq,jP.Tp,jP.a1u,I(H));if(H.jj>0){aq=u(aq,M(O[k]),H)}X(aq,H,fR,j4,cP);cP+=ib*hH}return[fR,j4]}var cN=function(g){var H=performance.now(),O=g[0],C=g[1];
s(C);var ib=[new Float32Array(0),new Float32Array(0)];for(var k=0;k<O.length;++k){C.nx=D(C.nx);var hH=l(O[k],C),R=new Float32Array(ib[0].length+hH[0].length),fR=new Float32Array(ib[1].length+hH[1].length);
R.set(ib[0]);R.set(hH[0],ib[0].length);ib[0]=R;fR.set(ib[1]);fR.set(hH[1],ib[1].length);ib[1]=fR}var j4=performance.now();
if(C.at8){console.Bh("Geometry: "+String(j4-H)+"ms")}return ib};return cN}(),e5=function(){function D(w,i){var M=[],N=0,a=i.length,o=0,U=0,V=new gl,c=0,E=1e9;
for(U=0;U<a;U++){var A=U*8,Q=i[U];if(Q<E)E=Q;var J=w[A+0],L=w[A+1],P=w[A+2],u=w[A+3],m=w[A+4],x=w[A+5],v=w[A+6],W=w[A+7],Z=Math.min(J,P,m,v),r=Math.max(J,P,m,v),X=Math.min(L,u,x,W),$=Math.max(L,u,x,W),I=new gl(Z,X,r-Z,$-X),T=I.Ik(V),e=c+Q;
if(U-o<10&&(U==o||T.u()*.8<I.u()+V.u())){V=T;c=e}else{M.push(U-o);o=U;V=I;c=Q;E=Q}}if(U!=o)M.push(U-o);
return M}function n(w,i,M,N,a,o){var U=document.createElement("canvas"),L=0,R=.8;U.width=i;U.height=M;
var V=U.getContext("2d"),c=a[0],E=a[1],A=new Float64Array(i*M),Q=Date.now(),J=D(E,c);for(var P=0;P<J.length;
P++){var u=L,m=L+J[P],W=1e9,r=1e9,y=0;L=m;var x=u*8,v=m*8,Z=-W,X=-r;for(var $=x;$<v;$+=2){var I=E[$],T=E[$+1];
if(I<W)W=I;if(I>Z)Z=I;if(T<r)r=T;if(T>X)X=T}W=Math.floor(W);Z=Math.ceil(Z);r=Math.floor(r);X=Math.ceil(X);
var e=Z-W,F=X-r;for(var h=u;h<m;h++)y+=c[h];for(var $=x;$<v;$+=8){var Y=c[$>>>3],K=E[$+0],z=E[$+1],f=E[$+2],s=E[$+3],l=E[$+4],g=E[$+5],H=E[$+6],O=E[$+7];
V.fillStyle="rgba(0,0,0,"+Y/y+")";V.beginPath();V.moveTo(K,z);V.lineTo(f,s);V.lineTo(l,g);V.lineTo(H,O);
V.closePath();V.fill()}var C=V.getImageData(W,r,e,F).data;for(var T=0;T<F;T++)for(var I=0;I<e;I++){var k=T*e+I,ib=C[k*4+3],hH=(r+T)*i+W+I;
if(ib!=0)A[hH]+=ib*y}V.clearRect(W,r,e,F)}var fR=o[1].color,j4=Math.pow(fR.p/255,R),cP=Math.pow(fR.z/255,R),a8=Math.pow(fR.S/255,R),d0=new gl(0,0,i,M),b9=B.U(i*M*4);
for(var T=0;T<M;T++)for(var I=0;I<i;I++){var k=T*i+I,h=k*4,c=A[k]*(1/255);b9[h]=b(j4,c);b9[h+1]=b(cP,c);
b9[h+2]=b(a8,c);b9[h+3]=Math.min(255,c*255)}B.a.dG("norm",b9,d0,N,d0,d0,1)}var _=new Uint8Array(2e3);
for(var k=0;k<2e3;k++)_[k]=255*Math.min(1,Math.log(k/700+1));function b(w,i){return _[Math.min(1500,~~(w*i*1e3))]}return n}(),fL=function(){var D=new Float32Array(3e3),n=new Float32Array(3e3),_=new Float32Array(256),b=new Float32Array(3e3);
function w(){var E=D.length;D[0]=Math.log10(157647e-9);for(var k=1;k<E;++k)D[k]=Math.log10(k/E)}function i(){var E=n.length;
for(var k=0;k<E;++k)n[k]=Math.pow(10,20*(k-E/2)/E)}function M(){var E=_.length;for(var k=0;k<E;++k)_[k]=B.bU(k/255)}function N(){var E=b.length;
for(var k=0;k<E;++k)b[k]=255*B.Ul(k/(E-1))}function a(E,A){var Q=E.length>>>2;for(var k=0;k<Q;++k){var J=_[E[4*k]],L=_[E[4*k+1]],P=_[E[4*k+2]],u=.3811*J+.5783*L+.0402*P,m=.1967*J+.7244*L+.0782*P,x=.0241*J+.1288*L+.8444*P;
u=D[~~(u*D.length)];m=D[~~(m*D.length)];x=D[~~(x*D.length)];A[3*k]=(u+m+x)*.5773502692;A[3*k+1]=(u+m-2*x)*.4082482905;
A[3*k+2]=(u-m)*.7071067812}}function o(E,A){var Q=A.length>>>2,J=b.length-1;for(var k=0;k<Q;++k){var L=.5773502692*E[3*k],P=.4082482905*E[3*k+1],u=.7071067812*E[3*k+2],m=n[~~((L+P+u+10)*(3e3/20))],x=n[~~((L+P-u+10)*(3e3/20))],v=n[~~((L-2*P+10)*(3e3/20))],W=4.4679*m-3.5873*x+.1193*v,Z=-1.2186*m+2.3809*x-.1624*v,r=.0497*m-.2439*x+1.2045*v;
A[4*k]=b[~~(J*Math.max(0,Math.min(1,W)))];A[4*k+1]=b[~~(J*Math.max(0,Math.min(1,Z)))];A[4*k+2]=b[~~(J*Math.max(0,Math.min(1,r)))]}}function U(E){var A=0,Q=0,J=0;
for(var k=0;k<E.length;k+=3){A+=E[k];Q+=E[k+1];J+=E[k+2]}return[A/(E.length/3),Q/(E.length/3),J/(E.length/3)]}function V(E,U){var A=0,Q=0,J=0;
for(var k=0;k<E.length;k+=3){var L=E[k]-U[0],P=E[k+1]-U[1],u=E[k+2]-U[2];A+=L*L;Q+=P*P;J+=u*u}return[Math.sqrt(A/(E.length/3)),Math.sqrt(Q/(E.length/3)),Math.sqrt(J/(E.length/3))]}function c(E,A,Q,J,L,P){w();
i();M();N();var u=0,z,f;if(P[0]>100)u=-(P[0]-100)/100*.13;else if(P[0]>=75)u=(100-P[0])/25*.04;else if(P[0]>=50)u=.04+(75-P[0])/25*.04;
else if(P[0]>=25)u=.08+(50-P[0])/25*.08;else u=.16+(25-P[0])/25*.24;var m=(P[1]-100+100)/100,x=P[2]/100,v=P[3],W=new Float32Array(E.length*3/4),Z=new Float32Array(J.length*3/4),r=Date.now();
a(E,W);a(J,Z);var X=Date.now(),$=U(W),I=U(Z),T=Date.now(),e=V(W,$),F=V(Z,I),y=Date.now();I[0]*=Math.pow(10,u);
var h=[F[0]/e[0],F[1]/e[1],F[2]/e[2]],Y=W.length,K=1/-1.1546978950500488;for(var k=0;k<Y;k+=3){if(v){var s=Math.max(0,Math.min(1,W[k]*K));
s=1-Math.sqrt(s);z=s*I[1];f=s*I[2]}else{z=I[1];f=I[2]}W[k]=(W[k]-$[0])*h[0]+I[0];W[k+1]=(W[k+1]-$[1])*h[1]*m+z;
W[k+2]=(W[k+2]-$[2])*h[2]*m+f}var l=Date.now();o(W,L);var g=L.length>>>2;for(var k=0;k<g;++k){L[4*k]=(1-x)*L[4*k]+x*E[4*k];
L[4*k+1]=(1-x)*L[4*k+1]+x*E[4*k+1];L[4*k+2]=(1-x)*L[4*k+2]+x*E[4*k+2];L[4*k+3]=255}}return c}(),jK=function(){function D(n,_,b,w,i){var M=[-1,-1,-1,-1],N=255,a=160,o,U=!1,V=new Array(4);
V[0]=new Array(_);V[1]=new Array(b);V[2]=new Array(_);V[3]=new Array(b);var c=new Array(2);c[0]=new Array(b);
c[1]=new Array(b);function E(F,y,h,Y,K){this.start=Y;this.axis=K;this.dir=F;this.end=-1;this.source=y;
this.u=h}function A(F,y,h,Y,K){if(h%2==0){if(!V[h][F])V[h][F]=new Array;V[h][F].push(new E(h,Y,K,y,F))}else{if(!V[h][y])V[h][y]=new Array;
V[h][y].push(new E(h,Y,K,F,y))}var z=Date.now()}function Q(k){var F=!1,y=0;if(n[4*k+3]<N)return F;var h=k%_,Y=Math.floor(k/_);
J(h,Y);if(k+_<_*b&&n[4*(k+_)+3]<N&&n[4*(k-_)+3]>=N&&n[4*(k-2*_)+3]>=N){var K=2;if(n[4*(k+_)+3]<=a)y=-1;
if(n[4*(k+2*_-1)+3]<N&&n[4*(k+2*_+1)+3]<N)F=!0;else if(n[4*(k+2*_-1)+3]>=N&&n[4*(k+1)+3]>=N)F=!0;else if(n[4*(k+2*_+1)+3]>=N&&n[4*(k-1)+3]>=N)F=!0;
A(h,Y,K,y,F)}else if(k-_>=0&&n[4*(k-_)+3]<N&&n[4*(k+_)+3]>=N&&n[4*(k+2*_)+3]>=N){var K=0;if(n[4*(k-_)+3]<=a)y=-1;
if(n[4*(k-2*_-1)+3]<N&&n[4*(k-2*_+1)+3]<N)F=!0;else if(n[4*(k-2*_-1)+3]>=N&&n[4*(k+1)+3]>=N)F=!0;else if(n[4*(k-2*_+1)+3]>=N&&n[4*(k-1)+3]>=N)F=!0;
A(h,Y,K,y,F)}y=0;if(k+1<_*b&&n[4*(k+1)+3]<N&&n[4*(k-1)+3]>=N&&n[4*(k-2)+3]>=N){var K=3;if(n[4*(k+1)+3]<=a)y=-1;
if(!F&&n[4*(k+_+2)+3]<N&&n[4*(k-_+2)+3]<N){F=!0;A(h,Y,K,y,!0)}else A(h,Y,K,y,!1)}else if(k>=1&&n[4*(k-1)+3]<N&&n[4*(k+1)+3]>=N&&n[4*(k+2)+3]>=N){var K=1;
if(n[4*(k-1)+3]<=a)y=-1;if(!F&&n[4*(k+_-2)+3]<N&&n[4*(k-_-2)+3]<N){F=!0;A(h,Y,K,y,!0)}else A(h,Y,K,y,!1)}return F}function J(k,F){if(M[0]==-1){M[0]=k;
M[1]=F;M[2]=1;M[3]=1}if(k<M[0]){M[2]+=M[0]-k;M[0]=k}if(k>M[0]+M[2])M[2]=k-M[0];if(F<M[1]){M[3]+=M[1]-F;
M[1]=F}if(F>M[1]+M[3])M[3]=F-M[1]}function L(F,k,y,h){if(!y.u)return;var Y=(F+2)%4,K=y.start,z=M[1];
if(F==2)z+=M[3];else if(F==1)z=M[0];else if(F==3)z=M[0]+M[2];var f=y.source;if(V[Y][k])for(var s=0;s<V[Y][k].length;
++s){if(F>1){var l=K+Math.floor((V[Y][k][s].start-K)/2);if(V[Y][k][s].start>K&&l<z)z=l}else{var l=K-Math.floor((K-V[Y][k][s].start)/2);
if(V[Y][k][s].start<K&&l>z)z=l}}for(var g=1;g<Math.abs(z-K);++g){var s=K+g;if(F==1||F==0)s=K-g;for(var H=0;
H<2;++H){var O=2*H,C=!1;if(F%2==0)O+=1;if(V[O][s]){for(var ib=0;ib<V[O][s].length;++ib){if(V[O][s][ib].u){var hH=V[O][s][ib].start,R=k-hH,fR=s-K;
if(O==0||O==1)R=-R;if(R<=0)continue;if(F==0||F==1)fR=-fR;if(fR>R){z=s;C=!0;break}}}if(C)break}}}y.end=z;
m(F,k,K,z,f)}function P(F){for(var k=0;k<V[F].length;++k){if(V[F][k])for(var y=0;y<V[F][k].length;++y){L(F,k,V[F][k][y])}}}function u(){var F=[2,0,3,1];
for(var k=0;k<F.length;++k)P(F[k])}function m(F,k,y,h,Y){if(F==2)for(var K=y;K<=h;++K){if(!x(K*_+k,(y+Y)*_+k))return!1}else if(F==0)for(var K=y;
K>=h;--K){if(!x(K*_+k,(y-Y)*_+k))return!1}else if(F==1)for(var K=y;K>=h;--K){if(!x(k*_+K,k*_+y-Y))return!1}else if(F==3)for(var K=y;
K<=h;++K){if(!x(k*_+K,k*_+y+Y))return!1}}function x(F,y){if(!o[F]){w[4*F]=w[4*y];w[4*F+1]=w[4*y+1];w[4*F+2]=w[4*y+2];
if(U)w[4*F+3]=255;o[F]=!0;return!0}return!1}function v(){for(var k=0;k<4;k+=1){for(var F=0;F<V[k].length;
++F){if(V[k][F])for(var y=0;y<V[k][F].length;++y){var h=V[k][F][y];for(var Y=1;Y<3;Y+=2){var K=(k+Y)%4;
if(V[K][h.start])for(var z=0;z<V[K][h.start].length;++z){if(V[K][h.start][z].start==h.axis){var cQ=_*h.start+h.axis;
if(k%2==1){cQ=h.start+_*h.axis;W(V[K][h.start][z])}else W(h)}}}}}}}function W(F){if(F.dir%2==0){var cQ=_*F.start+F.axis,y=F.start,h=1;
if(!o[cQ+1])h=3;else if(o[cQ-1])return;var Y=w[4*cQ],K=w[4*cQ+1],z=w[4*cQ+2];while(w[4*cQ]==Y&&w[4*cQ+1]==K&&w[4*cQ+2]==z){if(h==1){if(!c[0][y])c[0][y]=new Array;
c[0][y].push(new E(h,0,!1,F.axis,y))}else{if(!c[1][y])c[1][y]=new Array;c[1][y].push(new E(h,0,!1,F.axis,y))}if(F.dir==2){cQ+=_;
y++}else{cQ-=_;y--}}}}function Z(){for(var F=0;F<2;++F){var y=(F+1)%2;for(var k=0;k<c[F].length;++k){if(c[F][k])for(var h=0;
h<c[F][k].length;++h){var Y=M[0];if(F==1)Y+=M[2];var K=c[F][k][h].start;if(c[y][k])for(var z=0;z<c[y][k].length;
++z){var f=c[y][k][z].cg;if(F==0){if(f>Y&&f<K){Y=K-Math.floor((K-f)/2)}}else{if(f<Y&&f>K){Y=K+Math.ceil((f-K)/2)}}}if(F==0)m(c[F][k][h].dir,k,K-1,Y,-1);
else m(c[F][k][h].dir,k,K+1,Y,-1)}}}for(var k=0;k<o.length;++k){if(!o[k]&&k%_>=M[0]&&k%_<=M[0]+M[2]&&Math.floor(k/_)>=M[1]&&Math.floor(k/_)<=M[1]+M[3]){var K=_;
if(k<K||!o[k-K])K=1;w[4*k]=w[4*(k-K)];w[4*k+1]=w[4*(k-K)+1];w[4*k+2]=w[4*(k-K)+2];o[k]=!0;if(U)w[4*k+3]=255}}}function r(){o=new Array(n.length/4);
for(var k=0;k<w.length/4;++k){o[k]=!1;w[4*k]=n[4*k];w[4*k+1]=n[4*k+1];w[4*k+2]=n[4*k+2];w[4*k+3]=n[4*k+3];
if(w[4*k+3]==255)o[k]=!0;if(Q(k))o[k]=!1}if(M[0]>0){M[0]--;M[2]++}if(M[1]>0){M[1]--;M[3]++}if(M[0]+M[2]<_){M[2]++}if(M[1]+M[3]<b){M[3]++}}var X=Date.now();
r();var $=Date.now();u();var I=Date.now();v();var T=Date.now();Z();var e=Date.now();console.log("Init: "+String($-X));
console.log("Filling: "+String(I-$));console.log("Check areas: "+String(T-I));console.log("Fill areas: "+String(e-T))}return D}();
B.ZR={amj:function(D,n){var k=D.length;D.push(n);var _=k>>>1;while(_!=0&&D[k][0]<D[_][0]){var b=D[k];
D[k]=D[_];D[_]=b;k=_;_=k>>>1}},ane:function(D){if(D.length==2)return D.pop();var top=D[1],k=1;D[1]=D.pop();
var n=D.length;while(!0){var _=k<<1,b=_+1,w=k;if(_<n&&D[_][0]<D[w][0])w=_;if(b<n&&D[b][0]<D[w][0])w=b;
if(w==k)break;var i=D[k];D[k]=D[w];D[w]=i;k=w}return top},a9S:function(D){for(var k=1;k<D.length;k++){var n=k,_=1e9;
while(n!=0){var b=D[n][0];if(b>_){console.log(k);throw"e"}_=b;n=n>>>1}}}};B.a={};B.a.Wb=new Float64Array(256);
B.a.RG=new Uint8Array(256*256);B.a.G9=new Uint8Array(256*256);(function(){for(var k=0;k<256;k++)B.a.Wb[k]=255/k;
for(var k=0;k<256;k++)for(var D=0;D<256;D++)B.a.RG[k*256+D]=k==0?0:Math.round(D*255/k);for(var k=0;k<256;
k++)for(var D=0;D<256;D++)B.a.G9[k*256+D]=Math.round(k*(255-D)/255)}());B.a.dG=function(D,n,_,b,w,i,M,N){if(N==null)N=aL.Rt();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(D)==-1){M=M*N.fill;N.fill=1;N.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),o="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),U=B.a[D+"F"];
if(N.bc==null&&D=="norm")B.a.anj(n,_,b,w,i,M,U,N.M$?1:0);else if(D=="diss")B.a.ap2(n,_,b,w,i,M,U,N.M$?1:0);
else if(a.indexOf(D)!=-1)B.a.at0(n,_,b,w,i,M,U,N);else if(o.indexOf(D)!=-1)B.a.agO(n,_,b,w,i,M,U,N)};
B.a.aqT=function(D,n,_){var b=D*_+1-_;return b<.001?0:1-Math.min(1,(1-n)/b)};B.a.a0R=function(D,n,_){return D*_==1?1:Math.min(1,n/(1-D*_))};
B.a.vn=function(D){return D<=.25?((16*D-12)*D+4)*D:Math.sqrt(D)};B.a.normF=function(D,n,_){return D};
B.a.darkF=function(D,n,_){return Math.min(D,n)};B.a["mul F"]=function(D,n,_){return D*n};B.a.idivF=function(D,n,_){var b=D*_+1-_;
return n==1?1:1-n>=b?0:1-(1-n)/b};B.a.lbrnF=function(D,n,_){return Math.max(0,D*_+n-_)};B.a.dkClF=function(D,n,_){var b=B.M9(D)<B.M9(n)?D:n;
_.p=b.p;_.z=b.z;_.S=b.S;return _};B.a.liteF=function(D,n,_){return Math.max(D,n)};B.a.scrnF=function(D,n,_){return n+D-n*D};
B.a["div F"]=function(D,n,_){D*=_;return n==0?0:n>=1-D?1:n/(1-D)};B.a.lddgF=function(D,n,_){D*=_;return Math.min(1,D+n)};
B.a.lgClF=function(D,n,_){var b=B.M9(D)>B.M9(n)?D:n;_.p=b.p;_.z=b.z;_.S=b.S;return _};B.a.overF=function(D,n,_){return B.a.hLitF(n,D,_)};
B.a.sLitF=function(D,n,_){return D<=.5?n-(1-2*D)*n*(1-n):n+(2*D-1)*(B.a.vn(n)-n)};B.a.hLitF=function(D,n,_){return D<=.5?B.a["mul F"](2*D,n,_):B.a.scrnF(2*D-1,n,_)};
B.a.vLitF=function(D,n,_){return D<=.5?B.a.aqT(2*D,n,_):B.a.a0R(2*D-1,n,_)};B.a.lLitF=function(D,n,_){return D<=.5?B.a.lbrnF(2*D,n,_):B.a.lddgF(2*D-1,n,_)};
B.a.pLitF=function(D,n,_){return D<=.5?B.a.darkF(2*D,n,_):B.a.liteF(2*D-1,n,_)};B.a.hMixF=function(D,n,_){if(_>.99)return D+n<1?0:1;
return Math.min(1,Math.max(0,(n+D*_-_)/(1-_+1e-6)))};B.a.diffF=function(D,n,_){D*=_;return Math.abs(D-n)};
B.a.smudF=function(D,n,_){return D+n-2*D*n};B.a.fsubF=function(D,n,_){return Math.max(n-D,0)};B.a.fdivF=function(D,n,_){return Math.min(n/D,1)};
B.a["hue F"]=function(D,n,_){B.a.Q2(D,B.Gi(n),_);B.a.p_(_,B.M9(n),_)};B.a["sat F"]=function(D,n,_){B.a.Q2(n,B.Gi(D),_);
B.a.p_(_,B.M9(n),_)};B.a.colrF=function(D,n,_){B.a.p_(D,B.M9(n),_)};B.a["lum F"]=function(D,n,_){B.a.p_(n,B.M9(D),_)};
B.a.p_=function(D,n,_){var b=n-B.M9(D);_.p=D.p+b;_.z=D.z+b;_.S=D.S+b;B.a.a84(_)};B.a.a84=function(D){var n=D.p,_=D.z,b=D.S,w=B.cu(n,_,b),cQ=Math.min(n,_,b),i=Math.max(n,_,b);
if(cQ<0){var M=w/(w-cQ);n=w+(n-w)*M;_=w+(_-w)*M;b=w+(b-w)*M}if(i>1){var M=(1-w)/(i-w);n=w+(n-w)*M;_=w+(_-w)*M;
b=w+(b-w)*M}D.p=n;D.z=_;D.S=b};B.a.Q2=function(D,n,_){var b=B.a.ack,w=D.p,i=D.z,M=D.S;if(w==i&&i==M){_.p=_.z=_.S=0}else if(w>i){if(w>M){if(i>M){_.p=n;
_.z=b(w,i,M,n);_.S=0}else{_.p=n;_.S=b(w,M,i,n);_.z=0}}else{_.S=n;_.p=b(M,w,i,n);_.z=0}}else{if(w<M){if(i>M){_.z=n;
_.S=b(i,M,w,n);_.p=0}else{_.S=n;_.z=b(M,i,w,n);_.p=0}}else{_.z=n;_.p=b(i,w,M,n);_.S=0}}};B.a.ack=function(D,n,_,b){return(n-_)*b/(D-_)};
B.a.anj=function(D,n,_,b,w,i,M,N){var a=n.zE(b).zE(w),o=Math.max(0,a.x-n.x),U=Math.max(0,a.x-b.x),V=Math.max(0,a.y-n.y),c=Math.max(0,a.y-b.y),E=a.l,A=a.e,Q=n.l,J=b.l,L=B.a.RG,P=B.a.G9,u=new Uint32Array(D.buffer),m=new Uint32Array(_.buffer);
for(var k=0;k<A;k++){var x=(V+k)*Q+o,v=(c+k)*J+U;for(var W=0;W<E;W++){var Z=u[x+W],h=1;if(Z>>>24==0)continue;
if(Z>>>24==255&&i==1&&N==0){m[v+W]=u[x+W];continue}var r=m[v+W],X=Z&255,$=Z>>>8&255,I=Z>>>16&255,T=r&255,e=r>>>8&255,F=r>>>16&255,y=i,Y=(r>>>24)*(1/255);
if(N==0){y=(Z>>>24)*i*(1/255);h=Y}var K=h*(1-y),z=y+K,f=1/z;m[v+W]=~~(.5+(N*Y+(1-N)*z)*255)<<24|~~(.5+(I*y+F*K)*f)<<16|~~(.5+($*y+e*K)*f)<<8|~~(.5+(X*y+T*K)*f)}}};
B.a.ac3=function(D,n,_,b,w,i){var M=n.zE(b).zE(w),N=Math.max(0,M.x-n.x),a=Math.max(0,M.x-b.x),o=Math.max(0,M.y-n.y),U=Math.max(0,M.y-b.y),V=M.l,c=M.e,E=n.l,A=b.l,Q=B.a.RG,J=B.a.G9,L=new Uint32Array(D.buffer),P=new Uint32Array(_.buffer),u=Math.floor(Math.random()*16777215),m=0;
for(var k=0;k<c;k++){var x=(o+k)*E+N,v=(U+k)*A+a;for(var W=0;W<V;W++){var Z=L[x+W];if(Z>>>24==0)continue;
if(Z>>24==255&&i==1){P[v+W]=Z;continue}var r=P[v+W],X=(Z>>>24)*i*(1/255),$=(r>>>24)*(1/255),I=$*(1-X),T=X+I,e=Z&255,F=Z>>>8&255,y=Z>>>16&255,h=r&255,Y=r>>>8&255,K=r>>>16&255;
m>>>=8;if((W&3)==0)m=B.a.i6(v+W+u);var z=T==0?0:1/T,f=Math.floor(T*(256*255))+(m&255)>>>8,s=Math.floor((y*X+K*I)*z+.5),l=Math.floor((F*X+Y*I)*z+.5),g=Math.floor((e*X+h*I)*z+.5);
P[v+W]=f<<24|s<<16|l<<8|g}}};B.a.k1=function(D,n,_,b,w,i,M,N){var a=B.cu(D,n,_),o=B.cu(b,w,i),U=Math.min,V=B.a.aa9,c=V(a,N,0);
c=U(c,V(D,N,8));c=U(c,V(n,N,16));c=U(c,V(_,N,24));var E=V(o,N,4);E=U(E,V(b,N,12));E=U(E,V(w,N,20));E=U(E,V(i,N,28));
E=Math.max(E,1-M);var A=Math.min(c,E);return A<0?0:A>1?1:A};B.a.aa9=function(D,n,k){return Math.min((D-n[k])*n[k+1],(D-n[k+3])*n[k+2])};
B.a.at0=function(D,n,_,b,w,i,M,N){var a=1/255,o=a*i,U=N.M$?1:0,V=N.fill,c=N.style,E=n.zE(b).zE(w),A=Math.max(0,E.x-n.x),Q=Math.max(0,E.x-b.x),J=Math.max(0,E.y-n.y),L=Math.max(0,E.y-b.y),P=E.l,u=E.e,m=n.l,x=b.l,v=new Uint32Array(D.buffer),W=new Uint32Array(_.buffer);
for(var k=0;k<u;k++){var Z=(J+k)*m+A,r=(L+k)*x+Q;for(var X=0;X<P;X++,Z++,r++){var $=v[Z],z=1;if($>>>24==0)continue;
var I=W[r],T=($&255)*a,e=($>>>8&255)*a,F=($>>>16&255)*a,y=(I&255)*a,h=(I>>>8&255)*a,Y=(I>>>16&255)*a,K=i;
if(U==0){K=($>>>24)*o;z=(I>>>24)*a}if(N.bc)K*=B.a.k1(T,e,F,y,h,Y,z,N.bc);var f=z*(1-K),s=K+f,l=s==0?0:255/s,g=c?1:K,H=((1-z)*K*T+(1-g)*z*y+g*z*M(T,y,(1+K-g)*V))*l,O=((1-z)*K*e+(1-g)*z*h+g*z*M(e,h,(1+K-g)*V))*l,C=((1-z)*K*F+(1-g)*z*Y+g*z*M(F,Y,(1+K-g)*V))*l;
s=K*V+z*(1-K*V);var ib=~~(s*255+.5);W[r]=U*(I>>>24)+(1-U)*ib<<24|C<<16|O<<8|H}}};B.a.agO=function(D,n,_,b,w,i,M,N){var a=1/255,o=a*i,U=N.M$?1:0,V=n.zE(b).zE(w),c=Math.max(0,V.x-n.x),E=Math.max(0,V.x-b.x),A=Math.max(0,V.y-n.y),Q=Math.max(0,V.y-b.y),J=V.l,L=V.e,P=new Uint32Array(D.buffer),u=new Uint32Array(_.buffer),m={p:0,z:0,S:0},x={p:0,z:0,S:0},v={p:0,z:0,S:0};
for(var k=0;k<L;k++){var W=(A+k)*n.l+c,Z=(Q+k)*b.l+E;for(var r=0;r<J;r++,W++,Z++){var X=P[W],$=u[Z],I=(X&255)*a,T=(X>>>8&255)*a,e=(X>>>16&255)*a,F=($&255)*a,y=($>>>8&255)*a,h=($>>>16&255)*a,Y=i,K=1;
if(U==0){Y=(X>>>24)*o;K=($>>>24)*a}if(N.bc)Y*=B.a.k1(I,T,e,F,y,h,K,N.bc);var z=K*(1-Y),f=Y+z,s=255/f;
m.p=I;m.z=T;m.S=e;x.p=F;x.z=y;x.S=h;M(m,x,v);var l=(((1-K)*I+K*v.p)*Y+F*z)*s,g=(((1-K)*T+K*v.z)*Y+y*z)*s,H=(((1-K)*e+K*v.S)*Y+h*z)*s,O=U*($>>>24)+(1-U)*Math.round(f*255);
u[Z]=O<<24|H<<16|g<<8|l}}};B.a.wn=function(D){D=D^61^D>>>16;D=D+(D<<3);D=D^D>>>4;D=D*668265261;D=D^D>>15;
return(D&16777215)*(1/16777215)};B.a.i6=function(D){D=D^61^D>>>16;D=D+(D<<3);D=D^D>>>4;D=D*668265261;
D=D^D>>>15;return D};B.a.f9=function(D){this.xi=D};B.a.f9.prototype.get=function(){var D=this.xi=B.a.i6(this.xi);
return(D&16777215)*(1/16777215)};B.a.ap2=function(D,n,_,b,w,i,M,N){var a=1/255,o=a*i,U=Math.round(i*(256*256*256/255)),V=n.zE(b).zE(w),c=Math.max(0,V.x-n.x),E=Math.max(0,V.x-b.x),A=Math.max(0,V.y-n.y),Q=Math.max(0,V.y-b.y),J=V.l,L=V.e,P=new Uint32Array(D.buffer),u=new Uint32Array(_.buffer);
for(var k=0;k<L;k++){var m=(A+k)*n.l+c,x=(Q+k)*b.l+E;for(var v=0;v<J;v++,m++,x++){var W=P[m],Z=u[x],r=N*255+(1-N)*(W>>>24);
if((B.a.i6(m)&16777215)>=r*U)continue;u[x]=W&16777215|N*(Z>>>24)+(1-N)*255<<24}}};B.a.aqS=function(D,n,_){for(var k=0;
k<D.length;k+=4){var b=_[k>>>2];if(b==0)continue;var w=b*(1/255),i=1/w,M=n[k],N=n[k+1],a=n[k+2],o=D[k],U=D[k+1],V=D[k+2];
n[k]=Math.min(255,Math.max(0,Math.round((M-(1-w)*o)*i)));n[k+1]=Math.min(255,Math.max(0,Math.round((N-(1-w)*U)*i)));
n[k+2]=Math.min(255,Math.max(0,Math.round((a-(1-w)*V)*i)));n[k+3]=255}};B.a.ih=function(D,n,_,b,w,i,M,N,a,o,U){if(o==null)o=!1;
if(U==null)U=[1,1,1];var V=255<<24|U[2]*16711680|U[1]*65280|U[0]*255,c=~V;if(w&&!n.l8(i)){var E=B.U(n.u()*4);
E.fill(M);B.I4(w,i,E,n);w=E;i=n}if(o){if(w==null)B.a.ak$(D,n,_,b,w,N,a,V,c);else B.a.aaH(D,n,_,b,w,N,a)}else{if(w==null)B.a.a2q(D,n,_,b,w,N,a,V,c);
else B.a.acz(D,n,_,b,w,N,a)}};B.a.a2q=function(D,n,_,b,w,i,M,N,a){var o=1/255,U=n.zE(b).zE(i),V=Math.max(0,U.x-n.x),c=Math.max(0,U.x-b.x),E=Math.max(0,U.y-n.y),A=Math.max(0,U.y-b.y),Q=U.l,J=U.e,L=new Uint32Array(D.buffer),P=new Uint32Array(_.buffer),u=B.a.RG,m=M*255&255;
for(var k=0;k<J;k++){var x=(E+k)*n.l+V,v=(A+k)*b.l+c;for(var W=0;W<Q;W++,x++,v++){var Z=L[x],r=P[v],X=Z>>>24,$=r>>>24,I=B.ZN(m*X+(255-m)*$),T=B.ZN(X*m),e=B.ZN($*(255-m)),F=Z&255,y=Z>>>8&255,h=Z>>>16&255,Y=r&255,K=r>>>8&255,z=r>>>16&255,f=T*F+Y*e,s=T*y+K*e,l=T*h+z*e;
f=u[I<<8|B.ZN(f)];s=u[I<<8|B.ZN(s)];l=u[I<<8|B.ZN(l)];var g=I<<24|l<<16|s<<8|f;P[v]=a&r|N&g}}};B.a.ak$=function(D,n,_,b,w,i,M,N,a){var o=1/255,U=n.zE(b).zE(i),V=Math.max(0,U.x-n.x),c=Math.max(0,U.x-b.x),E=Math.max(0,U.y-n.y),A=Math.max(0,U.y-b.y),Q=U.l,J=U.e,L=new Uint32Array(D.buffer),P=new Uint32Array(_.buffer),u=B.a.RG,m=M*16777215&16777215;
for(var k=0;k<J;k++){var x=(E+k)*n.l+V,v=(A+k)*b.l+c;for(var W=0;W<Q;W++,x++,v++){if((B.a.i6(x)&16777215)<m){P[v]=a&P[v]|N&L[x]}}}};
B.a.acz=function(D,n,_,b,w,i,M){var N=1/255,a=n.zE(b).zE(i),o=Math.max(0,a.x-n.x),U=Math.max(0,a.x-b.x),V=Math.max(0,a.y-n.y),c=Math.max(0,a.y-b.y),E=a.l,A=a.e,Q=new Uint32Array(D.buffer),J=new Uint32Array(_.buffer),L=B.a.RG;
for(var k=0;k<A;k++){var P=(V+k)*n.l+o,u=(c+k)*b.l+U;for(var m=0;m<E;m++,P++,u++){var x=w[P]*M&255;if(x==0)continue;
if(x==255){J[u]=Q[P];continue}var v=Q[P],W=J[u],Z=v>>>24,r=W>>>24,X=B.ZN(x*Z+(255-x)*r),$=B.ZN(Z*x),I=B.ZN(r*(255-x)),T=v&255,e=v>>>8&255,F=v>>>16&255,y=W&255,h=W>>>8&255,Y=W>>>16&255,K=L[X<<8|B.ZN($*T+y*I)],z=L[X<<8|B.ZN($*e+h*I)],f=L[X<<8|B.ZN($*F+Y*I)];
J[u]=X<<24|f<<16|z<<8|K}}};B.a.aaH=function(D,n,_,b,w,i,M){var N=1/255,a=n.zE(b).zE(i),o=Math.max(0,a.x-n.x),U=Math.max(0,a.x-b.x),V=Math.max(0,a.y-n.y),c=Math.max(0,a.y-b.y),E=a.l,A=a.e,Q=new Uint32Array(D.buffer),J=new Uint32Array(_.buffer),L=B.a.RG,P=Math.round(M*257);
for(var k=0;k<A;k++){var u=(V+k)*n.l+o,m=(c+k)*b.l+U;for(var x=0;x<E;x++,u++,m++){var v=w[u]*P;if((B.a.i6(u)&65535)<v)J[m]=Q[u]}}};
B.a.Nj=function(D,n,_,b,w,i,M){var N=1/255,a=n.zE(b).zE(i),o=Math.max(0,a.x-n.x),U=Math.max(0,a.x-b.x),V=Math.max(0,a.y-n.y),c=Math.max(0,a.y-b.y),E=a.l,A=a.e,Q=new Uint32Array(D.buffer),J=new Uint32Array(_.buffer),L=Math.floor(Math.random()*b.u()),P=B.a.ari;
for(var k=0;k<A;k++){var u=(V+k)*n.l+o,m=(c+k)*b.l+U;for(var x=0;x<E;x++){var v=w[u+x]*M;if(v==0)continue;
if(v==255){J[m+x]=Q[u+x];continue}var W=Q[u+x],Z=J[m+x],r=W>>>24,X=Z>>>24,$=r*v*(1/255),I=X*(255-v)*(1/255),T=W&255,e=W>>>8&255,F=W>>>16&255,y=Z&255,h=Z>>>8&255,Y=Z>>>16&255,K=B.a.i6(m+x+L),z=Math.floor(($+I)*256+.5)+(K>>>0&255)>>>8,f=z==0?0:256/($+I),s=T*$+y*I,l=e*$+h*I,g=F*$+Y*I,H=Math.floor(s*f+.5)+(K>>>8&255)>>>8,O=Math.floor(l*f+.5)+(K>>>16&255)>>>8,C=Math.floor(g*f+.5)+(K>>>24&255)>>>8;
J[m+x]=z<<24|C<<16|O<<8|H}}};B.a.ari=function(D){return Math.floor(D+Math.random())};B.a.HT=function(D,n,_,b,w,i,M){var N=1/255,a=n.zE(b).zE(i),o=Math.max(0,a.x-n.x),U=Math.max(0,a.x-b.x),V=Math.max(0,a.y-n.y),c=Math.max(0,a.y-b.y),E=a.l,A=a.e;
for(var k=0;k<A;k++){var Q=(V+k)*n.l+o,J=(c+k)*b.l+U;for(var L=0;L<E;L++,Q++,J++){var P=M*w[Q]*N;if(P==0)continue;
if(P==1){_[J]=D[Q];continue}_[J]=D[Q]*P+_[J]*(1-P)}}};B.dQ={};B.dQ.a7c=function(D,n,_,b,w,i){B.dQ.kT(D,n,_,b,w,i,null,0)};
B.dQ.aqL=function(D,n,_,b,w){B.dQ.kT(D,n,_,b,w,null,null,0)};B.dQ.a8T=function(D,n,_,b,w,i,M){B.dQ.kT(D,n,_,b,w,null,i,M*.5)};
B.dQ.kT=function(D,n,_,b,w,i,M,N){var a=0,I=0,T=1e9,e=0,F=1e9,y=0,h=1e9,Y=0,K=0,z=0,f=0;if(i){a=w*.5;
w=3+Math.round((w-3)*.75)}if(M){w=Math.round(w*2.2)}var o=1/w,U=Math.floor(n*o)+1,V=Math.floor(_*o)+1,c=[],E=new Uint8Array(U*V*4),A=M?.5:1,Q=i?64:0;
for(var J=0;J<V;J++){var L=M?.5*(J&1):0;for(var P=0;P<U;P++){var u=(P+Math.random()*A+L)*w,m=(J+Math.random()*A)*w;
c.push(u,m);var x=Math.min(n-1,Math.floor(u)),v=Math.min(_-1,Math.floor(m)),W=(v*n+x)*4,Z=(J*U+P)*4;
for(var k=0;k<4;k++)E[Z+k]=Math.max(0,Math.min(255,Math.floor(D[W+k]+(Math.random()-.5)*Q)))}}var r=i?i:M?M:[0,0,0],X=U*V*2,$=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var J=0;J<_;J++){z=0;for(var P=0;P<n;P++){var s=P+.5,l=J+.5,g=Math.floor(l*o),H=Math.floor(s*o),O=g*U+H,hH=0,R=0;
if(z>1+N){T=B.dQ.m4(c,I,s,l);Y=Math.sqrt(T);z--;f++}else{T=F=h=1e9;for(var k=0;k<$.length;k++){var C=(O+$[k])*2;
if(C<0||C>=X)continue;var ib=B.dQ.m4(c,C,s,l);if(ib<h){if(ib<F){if(ib<T){y=e;h=F;e=I;F=T;I=C;T=ib}else{y=e;
h=F;e=C;F=ib}}else{y=C;h=ib}}}Y=Math.sqrt(T);K=Math.sqrt(F);z=K-(Y+K)*.5}if(M==null){var fR=(Y+K)*.5,j4=i?Math.max(0,fR-a):0;
hH=Math.max(0,Math.min(1,.5+fR-Y-j4));R=Math.max(0,Math.min(1,1-(.5+fR-Y)-j4))}else{var cP=Math.min(B.dQ.I6(c,I,e,s,l),B.dQ.I6(c,I,y,s,l));
hH=Math.max(0,Math.min(1,cP-N*.5));if(s<N||n-N<s||l<N||_-N<l)hH=0;R=0}var a8=1-R-hH,Z=J*n+P<<2,d0=I<<1,b9=e<<1;
b[Z+0]=Math.floor(.5+hH*E[d0+0]+R*E[b9+0]+a8*r[0]);b[Z+1]=Math.floor(.5+hH*E[d0+1]+R*E[b9+1]+a8*r[1]);
b[Z+2]=Math.floor(.5+hH*E[d0+2]+R*E[b9+2]+a8*r[2]);b[Z+3]=D[Z+3]}}};B.dQ.m4=function(D,n,_,b){var w=_-D[n],i=b-D[n+1];
return w*w+i*i};B.dQ.I6=function(D,n,_,b,w){var i=D[n],M=D[n+1],N=D[_],a=D[_+1],o=(i+N)*.5,U=(M+a)*.5,V=o+(a-M),c=U-(N-i),E=c-U,A=V-o;
return Math.abs(E*b-A*w+V*U-c*o)/Math.sqrt(A*A+E*E)};B.uE={};B.uE.un=function(D){if(B.uE.wb.length<D)B.uE.wb=B.U(D);
return B.uE.wb};B.uE.wb=B.U(0);B.uE.MB=function(D){if(B.uE.y4.length<D)B.uE.y4=new Float32Array(D);return B.uE.y4};
B.uE.y4=new Float32Array(0);B.uE.Zt=function(D,n,_,b){var w=_.l,i=_.e;B.uE.ass(D,n,w,i,b)};B.uE.xn=function(D,n,_,b){var w=_.l,i=_.e;
B.uE.an4(D,n,w,i,b)};B.uE.kX=function(D,n,_){var b=n.l,w=n.e;B.uE.arI(D,b,w,_)};B.uE.pB=function(D,n,_,b,w){var i=_.l,M=_.e;
B.uE.adV(D,n,i,M,b,w)};B.uE.lI=function(D,n,_,b){var w=_.l,i=_.e;b=Math.round(b);var M=B.uE.un(w*i);
B.nb(D,n);B.uE.TD(n,M,w,i,b)};B.uE.Yd=function(D,n,_){var b=n.l,w=n.e;_=Math.round(_);var i=B.uE.un(b*w*4);
B.uE.DS(D,i,b,w,_)};B.uE.B4=function(D,n,_,b){var w=_.l,i=_.e;b=Math.round(b);var M=B.uE.MB(w*i);B.nb(D,n);
B.uE.Kf(n,M,w,i,b)};B.uE.iL=function(D,n,_){var b=n.l,w=n.e;_=Math.round(_);var i=B.uE.un(b*w*4);B.uE.FD(D,i,b,w,_);
B.nb(i,D)};B.uE.wh=function(D,cQ){var n=Math.sqrt(12*D*D/cQ+1),_=Math.floor(n);if(_%2==0)_--;var b=_+2,w=(12*D*D-cQ*_*_-4*cQ*_-3*cQ)/(-4*_-4),i=Math.round(w),M=[];
for(var k=0;k<cQ;k++)M.push(k<i?_:b);return M};B.uE.ass=function(D,n,_,b,w){var i=B.uE.wh(w,3),M=B.uE.un(_*b);
B.nb(D,n);B.uE.TD(n,M,_,b,i[0]-1>>1);B.uE.TD(n,M,_,b,i[1]-1>>1);B.uE.TD(n,M,_,b,i[2]-1>>1)};B.uE.an4=function(D,n,_,b,w){var i=B.uE.wh(w,2),M=B.uE.un(_*b);
B.nb(D,n);B.uE.TD(n,M,_,b,i[0]-1>>1);B.uE.TD(n,M,_,b,i[1]-1>>1)};B.uE.arI=function(D,n,_,b){var w=B.uE.wh(b,3),i=B.uE.un(n*_*4);
B.uE.DS(D,i,n,_,w[0]-1>>1);B.uE.DS(D,i,n,_,w[1]-1>>1);B.uE.DS(D,i,n,_,w[2]-1>>1)};B.uE.adV=function(D,n,_,b,w,i){if(i==null)i=3;
var M=B.uE.wh(w,i),N=B.uE.MB(_*b);B.nb(D,n);for(var k=0;k<i;k++)B.uE.Kf(n,N,_,b,(M[k]-1)/2)};B.uE.TD=function(D,n,_,b,w){B.uE.aij(D,n,_,b,w);
B.uE.aku(n,D,_,b,w)};B.uE.DS=function(D,n,_,b,w){B.uE.FD(D,n,_,b,w);B.uE.agC(n,D,_,b,w)};B.uE.Kf=function(D,n,_,b,w){B.uE.acM(D,n,_,b,w);
B.uE.aqW(n,D,_,b,w)};B.uE.VH=[];B.uE.j_=function(D){if(B.uE.VH[D])return B.uE.VH[D];var n=1/(D+D+1),_=(D+D+1)*256,b=B.U(_);
for(var k=0;k<_;k++)b[k]=Math.round(k*n);B.uE.VH[D]=b;return b};B.uE.aij=function(D,n,_,b,w){var i=1/(w+w+1),M=_-w-w-1,N=B.uE.j_(w);
for(var k=0;k<b;k++){var a=k*_,o=a,U=a+w,V=D[a],c=D[a+_-1],E=(w+1)*V;for(var A=0;A<w;A++)E+=D[a+A];for(var A=0;
A<=w;A++){E+=D[U+A]-V;n[a+A]=N[E]}U+=w+1;a+=w+1;for(var A=0;A<M;A++){E+=D[U+A]-D[o+A];n[a+A]=N[E]}U+=M;
o+=M;a+=M;for(var A=_-w;A<_;A++){E+=c-D[o++];n[a++]=N[E]}}};B.uE.FD=function(D,n,_,b,w){var i=_<<2,M=w<<2,N=1/(w+w+1),a=_-w-w-1,o=a<<2,U=B.uE.j_(w);
for(var k=0;k<b;k++){var V=k*i,c=V,E=V+M,A=V+i,Q=D[V],J=D[V+1],L=D[V+2],P=D[V+3],u=(w+1)*Q,m=(w+1)*J,x=(w+1)*L,v=(w+1)*P;
for(var W=0;W<M;W+=4){u+=D[V+W];m+=D[V+W+1];x+=D[V+W+2];v+=D[V+W+3]}for(var W=0;W<=M;W+=4){u+=D[E]-Q;
n[V]=U[u];m+=D[E+1]-J;n[V+1]=U[m];x+=D[E+2]-L;n[V+2]=U[x];v+=D[E+3]-P;n[V+3]=U[v];E+=4;V+=4}for(var W=0;
W<o;W+=4){u+=D[E+W]-D[c+W];n[V+W]=U[u];m+=D[E+W+1]-D[c+W+1];n[V+W+1]=U[m];x+=D[E+W+2]-D[c+W+2];n[V+W+2]=U[x];
v+=D[E+W+3]-D[c+W+3];n[V+W+3]=U[v]}E+=o;c+=o;V+=o;Q=D[A-4];J=D[A-3];L=D[A-2];P=D[A-1];for(var W=_-w;
W<_;W++){u+=Q-D[c];n[V]=U[u];m+=J-D[c+1];n[V+1]=U[m];x+=L-D[c+2];n[V+2]=U[x];v+=P-D[c+3];n[V+3]=U[v];
c+=4;V+=4}}};B.uE.acM=function(D,n,_,b,w){var i=1/(w+w+1),M=_-w-w-1;for(var k=0;k<b;k++){var N=k*_,a=N,o=N+w,U=D[N],V=D[N+_-1],c=(w+1)*U;
for(var E=0;E<w;E++)c+=D[N+E];for(var E=0;E<=w;E++){c+=D[o+E]-U;n[N+E]=c*i}o+=w+1;N+=w+1;for(var E=0;
E<M;E++){c+=D[o+E]-D[a+E];n[N+E]=c*i}o+=M;a+=M;N+=M;for(var E=_-w;E<_;E++){c+=V-D[a++];n[N++]=c*i}}};
B.uE.aku=function(D,n,_,b,w){var i=1/(w+w+1),M=b-w-w-1,N=B.uE.j_(w);for(var k=0;k<_;k++){var a=k,o=a,U=a+w*_,V=D[a],c=D[a+_*(b-1)],E=(w+1)*V;
for(var A=0;A<w;A++)E+=D[a+A*_];for(var A=0;A<=w;A++){E+=D[U]-V;n[a]=N[E];U+=_;a+=_}for(var A=0;A<M;
A++){var Q=A*_;E+=D[U+Q]-D[o+Q];n[a+Q]=N[E]}o+=M*_;U+=M*_;a+=M*_;for(var A=b-w;A<b;A++){E+=c-D[o];n[a]=N[E];
o+=_;a+=_}}};B.uE.agC=function(D,n,_,b,w){var i=_<<2,M=w<<2,N=1/(w+w+1),a=b-w-w-1,o=a<<2,U=B.uE.j_(w);
for(var k=0;k<_;k++){var V=k<<2,c=V,E=V+w*i,A=V+i*(b-1),Q=D[V],J=D[V+1],L=D[V+2],P=D[V+3],u=(w+1)*Q,m=(w+1)*J,x=(w+1)*L,v=(w+1)*P;
for(var W=0;W<w;W++){var Z=V+W*i;u+=D[Z];m+=D[Z+1];x+=D[Z+2];v+=D[Z+3]}for(var W=0;W<=w;W++){u+=D[E]-Q;
n[V]=U[u];m+=D[E+1]-J;n[V+1]=U[m];x+=D[E+2]-L;n[V+2]=U[x];v+=D[E+3]-P;n[V+3]=U[v];E+=i;V+=i}for(var W=0;
W<a;W++){var r=W*i;u+=D[E+r]-D[c+r];n[V+r]=U[u];m+=D[E+r+1]-D[c+r+1];n[V+r+1]=U[m];x+=D[E+r+2]-D[c+r+2];
n[V+r+2]=U[x];v+=D[E+r+3]-D[c+r+3];n[V+r+3]=U[v]}c+=a*i;E+=a*i;V+=a*i;Q=D[A];J=D[A+1];L=D[A+2];P=D[A+3];
for(var W=b-w;W<b;W++){u+=Q-D[c];n[V]=U[u];m+=J-D[c+1];n[V+1]=U[m];x+=L-D[c+2];n[V+2]=U[x];v+=P-D[c+3];
n[V+3]=U[v];c+=i;V+=i}}};B.uE.aqW=function(D,n,_,b,w){var i=1/(w+w+1),M=b-w-w-1;for(var k=0;k<_;k++){var N=k,a=N,o=N+w*_,U=D[N],V=D[N+_*(b-1)],c=(w+1)*U;
for(var E=0;E<w;E++)c+=D[N+E*_];for(var E=0;E<=w;E++){c+=D[o]-U;n[N]=c*i;o+=_;N+=_}for(var E=0;E<M;E++){var A=E*_;
c+=D[o+A]-D[a+A];n[N+A]=c*i}a+=M*_;o+=M*_;N+=M*_;for(var E=b-w;E<b;E++){c+=V-D[a];n[N]=c*i;a+=_;N+=_}}};
B.Uo={};B.Uo.U=function(D,n,_,b){var w=[];for(var i=0;i<4;i++)for(var M=0;M<4;M++)w.push(D+_*M/3,n+b*i/3);
return w};B.Uo.Zm=function(D,n){var _=D.slice(0);for(var k=0;k<4;k++)for(var b=0;b<4;b++){var w=2*(k*4+b),i=2*(b*4+(3-k));
if(n){var M=w;w=i;i=M}_[i]=D[w];_[i+1]=D[w+1]}return _};B.Uo.Ie=B.U(0);B.Uo.drawImage=function(D,n,_,b,w,i,M){var N=!1,a=Date.now(),o=2,U=_+2*o,V=b+2*o,c=new gl(o,o,_,b),E=c.clone(),P=50;
E.Iq(o,o);var A=B.Uo.Ie;if(A.length!=E.u()*4)A=B.Uo.Ie=B.U(E.u()*4);else A.fill(0);B.E3(n,c,A,E);if(N)console.log(Date.now()-a,"copy rect");
a=Date.now();B.xT(A);if(N)console.log(Date.now()-a,"multiply alpha");a=Date.now();var Q=[],J=[],L=[];
for(var u=0;u<P+1;u++)for(var m=0;m<P+1;m++){var x=m/P,v=u/P;Q.push(U*x,V*v);if(m<P&&u<P){var W=u*(P+1)+m,Z=W+1,r=W+P+1,X=r+1;
J.push(W,Z,r);J.push(r,Z,X)}var $=B.Uo.a5T(D,x,v);L.push(-$)}var I=Q.slice(0);B.Uo.A(D,I,new gl(o,o,_,b));
B.H.A(I,new e3(1,0,0,1,-i.x,-i.y),I);if(N)console.log(Date.now()-a,"mesh built");a=Date.now();var T=i.l,e=i.e;
B.i2.az(A,U,V,w,T,e,Q,I,L,J);if(N)console.log(Date.now()-a,"rendered");a=Date.now();B.Qr(w);if(N)console.log(Date.now()-a,"divided");
a=Date.now()};B.Uo.ZJ=new Array(10);B.Uo.a6E=function(D,n){var _=200,b=0,w=0,i=1e9,M=B.Uo.ZJ;for(var N=0;
N<_+1;N++)for(var a=0;a<_+1;a++){var o=a/_,U=N/_;B.Uo.MO(D,o,U,M);var V=M[8]-n.x,c=M[9]-n.y,E=V*V+c*c;
if(E<i){i=E;b=o;w=U}}return[b,w]};B.Uo.A=function(D,n,_){var b=_.x,w=_.y,i=1/_.l,M=1/_.e,N=B.Uo.ZJ;for(var a=0;
a<n.length;a+=2){var o=(n[a]-b)*i,U=(n[a+1]-w)*M;B.Uo.MO(D,o,U,N);n[a]=N[8];n[a+1]=N[9]}};B.Uo.a5T=function(D,n,_){var b,w,i,M,N=B.Uo.ZJ;
B.Uo.a1N(D,n,_,N);b=N[8];w=N[9];B.Uo.am6(D,n,_,N);i=N[8];M=N[9];return b*M-w*i};B.Uo.MO=function(D,n,_,b){B.Uo.VK(b,0,_);
B.Uo.VK(b,4,n);B.Uo.Mo(D,b)};B.Uo.a1N=function(D,n,_,b){B.Uo.VK(b,0,_);B.Uo.xu(b,4,n);B.Uo.Mo(D,b)};
B.Uo.am6=function(D,n,_,b){B.Uo.xu(b,0,_);B.Uo.VK(b,4,n);B.Uo.Mo(D,b)};B.Uo.xu=function(D,k,n){var _=1-n;
D[k]=-3*(_*_);D[k+1]=3*(_*_)-6*(n*_);D[k+2]=6*(n*_)-3*(n*n);D[k+3]=3*(n*n)};B.Uo.VK=function(D,k,n){var _=1-n;
D[k]=_*(_*_);D[k+1]=3*n*(_*_);D[k+2]=3*(n*n)*_;D[k+3]=n*n*n};B.Uo.Mo=function(D,n){var _=0,b=0,w=0,i=n[0],M=n[1],N=n[2],a=n[3],o=n[4],U=n[5],V=n[6],c=n[7];
w=i*o;_+=D[0]*w;b+=D[1]*w;w=i*U;_+=D[2]*w;b+=D[3]*w;w=i*V;_+=D[4]*w;b+=D[5]*w;w=i*c;_+=D[6]*w;b+=D[7]*w;
w=M*o;_+=D[8]*w;b+=D[9]*w;w=M*U;_+=D[10]*w;b+=D[11]*w;w=M*V;_+=D[12]*w;b+=D[13]*w;w=M*c;_+=D[14]*w;b+=D[15]*w;
w=N*o;_+=D[16]*w;b+=D[17]*w;w=N*U;_+=D[18]*w;b+=D[19]*w;w=N*V;_+=D[20]*w;b+=D[21]*w;w=N*c;_+=D[22]*w;
b+=D[23]*w;w=a*o;_+=D[24]*w;b+=D[25]*w;w=a*U;_+=D[26]*w;b+=D[27]*w;w=a*V;_+=D[28]*w;b+=D[29]*w;w=a*c;
_+=D[30]*w;b+=D[31]*w;n[8]=_;n[9]=b};B.W1={};B.W1.aeG=function(D,n,_){var b=Date.now(),w=new ArrayBuffer(n*_*16),i=B.W1.acp(D,n,_,w),M=B.W1.aaz(n,_,w);
return{wg:M,kL:i}};B.W1.a08=function(D,n,_){var b=Math.round(D.length/8),w=new Uint32Array(b),i=new Uint8Array(b),M=new Uint32Array(b);
B.o5(w,4294967295,0);w[_]=0;var N=new g1(b);N.push(_,w[_]);var a={wg:D,kL:n,Yf:w,YA:i,bI:M,ue:N,abO:_};
return a};B.W1.wf=function(D,n){var _=D.wg,b=D.kL,w=D.Yf,i=D.YA,M=D.bI,N=D.ue;while(!N.hk()&&(n==null||i[n]==0)){var a=N.pop();
i[a]=1;for(var k=0;k<8;k++){var o=_[8*a+k],U=a+o;if(o==0||i[U])continue;var V=w[a]+b[8*a+k];if(N.contains(U)&&V<w[U])N.remove(U,w[U]);
if(!N.contains(U)){w[U]=V;M[U]=a;N.push(U,w[U])}}}};function g1(D){this.Lx=new Uint32Array(D);this.list=[];
this.X2=0;this.mi=4294967295}g1.prototype.hk=function(){return this.X2==0};g1.prototype.push=function(D,n){var _=this.list;
if(_[n]==null)_[n]=[];_[n].push(D);this.X2++;this.Lx[D]=_[n].length-1+1;this.mi=Math.min(this.mi,n)};
g1.prototype.pop=function(){this.X2--;var D=this.list,n=this.mi,_=D[n].pop();if(D[n].length==0)D[n]=null;
this.se();this.Lx[_]=0;return _};g1.prototype.contains=function(D){return this.Lx[D]!=0};g1.prototype.remove=function(D,n){this.X2--;
var _=this.list,k=this.Lx[D]-1;if(k==_[n].length-1)_[n].pop();else{var b=_[n].pop();_[n][k]=b;this.Lx[b]=k+1}if(_[n].length==0)_[n]=null;
this.Lx[D]=0;this.se()};g1.prototype.se=function(){if(this.X2==0){this.mi=4294967295;return}var D=this.mi,n=this.list;
while(n[D]==null)D++;this.mi=D};B.W1.a9C=function(D,n,_,b){var w=new Int16Array(b);for(var i=0;i<_;i++)for(var M=0;
M<n;M++){var k=i*n+M,N=0;if(1<M&&M<n-2&&1<i&&i<_-2){N+=D[k-n-n];N+=D[k-n-1]+2*D[k-n]+D[k-n+1];N+=D[k-2]+2*D[k-1]-16*D[k]+2*D[k+1]+D[k+2];
N+=D[k+n-1]+2*D[k+n]+D[k+n+1];N+=D[k+n+n]}else N=-16*D[k];w[k]=N}return w};B.W1.at3=function(D,n,_,b){if(b==null)b=128;
var w=new Uint8Array(n*_);for(var i=1;i<_-1;i++)for(var M=1;M<n-1;M++){var k=i*n+M;w[k]=B.W1.akL(D[k],D[k-1],D[k+1],D[k-n],D[k+n],b)}return w};
B.W1.akL=function(D,n,_,b,w,i){var M=Math.abs(D);return D*n<0&&M<Math.abs(n)&&Math.abs(n-D)>i||D*_<0&&M<Math.abs(_)&&Math.abs(_-D)>i||D*b<0&&M<Math.abs(b)&&Math.abs(b-D)>i||D*w<0&&M<Math.abs(w)&&Math.abs(w-D)>i?1:0};
B.W1.adQ=function(D,n,_,b){var w=new Float32Array(b),i=0;new Uint32Array(b).fill(0);for(var M=0;M<_;
M++)for(var N=0;N<n;N++){var a=0,o=0,k=M*n+N,U=k*3;if(0<N&&N<n-1)a=D[k+1]-D[k-1];if(0<M&&M<_-1)o=D[k+n]-D[k-n];
var V=w[U+2]=Math.sqrt(a*a+o*o);if(V!=0){var c=1/V;w[U]=a*c;w[U+1]=o*c}if(V>i)i=V}var E=n*_,A=i==0?0:1/i;
for(var k=0;k<E;k++)w[k*3+2]=1-w[k*3+2]*A;return w};B.W1.ads=function(D,n,_){return _[~~((.5+.5*D)*255)]+_[~~((.5+.5*n)*255)]};
B.W1.acp=function(D,n,_,b){var w=Date.now(),i=B.W1.a9C(D,n,_,b),M=B.W1.at3(i,n,_),N=B.W1.adQ(D,n,_,b),a=new Float32Array(256);
for(var k=0;k<256;k++)a[k]=Math.acos(-1+2*k/255)*(.95/Math.PI);var o=[-1,0,1,1,1,0,-1,-1],U=[-1,-1,-1,0,1,1,1,0];
for(var k=0;k<8;k++){var V=1/Math.sqrt(o[k]*o[k]+U[k]*U[k]);o[k]*=V;U[k]*=V}var c=[o[0],U[0],o[1],U[1],o[2],U[2],o[3],U[3]],E=[-n-1,-n,-n+1,1],A=new Uint8Array(n*_*8);
new Uint32Array(A.buffer).fill(4294967295);var Q=n*_;for(var J=1;J<_-1;J++)for(var L=1;L<n-1;L++){var P=J*n+L,u=1-M[P],m=N[P*3+2],x=N[3*P+1],v=-N[3*P];
for(var W=0;W<4;W++){var Z=P+E[W];B.W1.a4C(P,Z,W,A,M,N,u,m,x,v,c,a)}}return A};B.W1.a4C=function(D,n,_,b,w,i,M,N,a,o,U,V){var c=1-w[n],E=(_&1)==0?1:Math.SQRT1_2,A=i[n*3+2]*E,Q=i[3*n+1],J=-i[3*n],L=N*E,P=U[_+_],u=U[_+_+1],m=a*P+o*u,x=Q*P+J*u;
if(m+x<0){m=-m;x=-x}var v=B.W1.ads(m,x,V);b[(D<<3)+_]=B.W1.Wz(c,v,A);b[(n<<3)+_+4]=B.W1.Wz(M,v,L)};B.W1.Wz=function(D,n,_){return 1+~~(.5+20*(.43*D+.43*n+.14*_))};
B.W1.aaz=function(D,n,_){var b=new Int16Array(_),w=b,k=0,i=0;new Uint32Array(_).fill(0);for(var M=0;
M<n;M++)for(var N=0;N<D;N++){if(M>0&&N>0)w[i+0]=-D-1;if(M>0)w[i+1]=-D;if(M>0&&N<D-1)w[i+2]=-D+1;if(N<D-1)w[i+3]=1;
if(M<n-1&&N<D-1)w[i+4]=D+1;if(M<n-1)w[i+5]=D;if(M<n-1&&N>0)w[i+6]=D-1;if(N>0)w[i+7]=-1;k++;i+=8}return b};
B.ax={};B.ax.Gw=function(D){var n=D.slice(0),_=0;for(var k=0;k<D.length;k++)_+=D[k];for(var k=0;k<D.length;
k++)n[k]/=_;return n};B.ax.KX=[B.ax.Gw([1,2,1,2,16,2,1,2,1]),B.ax.Gw([1,2,1,2,4,2,1,2,1]),B.ax.Gw([0,-1,0,-1,8,-1,0,-1,0]),B.ax.Gw([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
B.ax.mA=function(D,n,_,b,w,i,M,N){if(M==null)M=!1;if(N==null)N=!1;var a=Math.floor(Math.sqrt(w.length)),o=a-1>>>1,U=new Uint32Array(D.buffer),n=new Uint8ClampedArray(n.buffer);
for(var k=0;k<b;k++)for(var V=0;V<_;V++){var c=0,E=0,A=0,Q=0;for(var J=0;J<a;J++)for(var L=0;L<a;L++){var P=w[J*a+L];
if(P==0)continue;var u=V-o+L,m=k-o+J;if(u<0)u=0;else if(u>_-1)u=_-1;if(m<0)m=0;else if(m>b-1)m=b-1;if(N&&U[m*_+u]>>>24==0){m=k;
u=V}var x=U[m*_+u];c+=(x&255)*P;E+=(x>>>8&255)*P;A+=(x>>>16&255)*P;Q+=(x>>>24&255)*P}if(M){if(c<0)c=-c;
if(E<0)E=-E;if(A<0)A=-A;if(Q<0)Q=-Q}if(N){c=Math.max(0,Math.min(255,c));E=Math.max(0,Math.min(255,E));
A=Math.max(0,Math.min(255,A));Q=Math.max(0,Math.min(255,Q))}var v=k*_+V<<2;n[v]=~~(.5+c);n[v+1]=~~(.5+E);
n[v+2]=~~(.5+A);n[v+3]=255-i&n[v+3]|i&~~(.5+Q)}};B.ax.S7=function(D,n,_,b){var w=D.length,i=new Uint8Array(w);
B.ax.mA(D,n,_,b,B.ax.KX[4],0,!0);B.ax.mA(D,i,_,b,B.ax.KX[5],0,!0);for(var k=0;k<w;k+=4){var M=n[k],N=n[k+1],a=n[k+2],o=n[k+3],U=i[k],V=i[k+1],c=i[k+2],E=i[k+3];
n[k]=255-Math.max(0,Math.min(255,Math.sqrt(M*M+U*U)));n[k+1]=255-Math.max(0,Math.min(255,Math.sqrt(N*N+V*V)));
n[k+2]=255-Math.max(0,Math.min(255,Math.sqrt(a*a+c*c)))}};B.ax.a6=function(D,n,_,b){var w=D.length,i=new Uint8Array(w);
B.ax.P4(D,n,_,b,B.ax.KX[4],!0);B.ax.P4(D,i,_,b,B.ax.KX[5],!0);for(var k=0;k<w;k++){var M=n[k],N=i[k];
n[k]=255-Math.max(0,Math.min(255,Math.sqrt(M*M+N*N)))}};B.ax.P4=function(D,n,_,b,w,i){n=new Uint8ClampedArray(n.buffer);
var M=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],N=b-1,a=_-1;for(var k=1;k<N;k++)for(var o=1;o<a;o++){var U=k*_+o,V=B.ax.mj(D,U,_,w);
if(i){if(V<0)V=-V}n[U]=~~(V+.5)}};B.ax.mj=function(D,n,_,b){return D[n-_-1]*b[0]+D[n-_]*b[1]+D[n-_+1]*b[2]+D[n-1]*b[3]+D[n]*b[4]+D[n+1]*b[5]+D[n+_-1]*b[6]+D[n+_]*b[7]+D[n+_+1]*b[8]};
B.ax.Ya=function(D,n,_,b,w){var i=[-_-1,-_,-_+1,-1,0,1,_-1,_,_+1],M=b-1,N=_-1;for(var k=1;k<M;k++)for(var a=1;
a<N;a++){var o=k*_+a;n[o]=B.ax.atp(D,o,_,w)}};B.ax.atp=function(D,n,_,b){return D[n-_-1]*b[0]+D[n-_]*b[1]+D[n-_+1]*b[2]+D[n-1]*b[3]+D[n]*b[4]+D[n+1]*b[5]+D[n+_-1]*b[6]+D[n+_]*b[7]+D[n+_+1]*b[8]};
B.OR={};B.OR.S9=function(){function D(M,N,a,o,U,V,c){if(U==0){N.set(M);return}var E=B.U(a*o),A=B.U(a*o);
if(B.GE(M)){n(M,N,a,o,U,V,c);var Q=[B.OR.xs,B.OR.He],J=Q.indexOf(V),L=J!=-1?Q[1-J]:V;B.Ef(M,E,3);B.OR.eX(E,A,a,o,U,L,c);
B.tD(A,N,3)}else{for(var k=0;k<3;k++){B.Ef(M,E,k);B.OR.eX(E,A,a,o,U,V,c);B.tD(A,N,k)}}}function n(M,N,a,o,U,V,c){var E=0,A=new ArrayBuffer(512*4*3),Q=[new Int32Array(A,0),new Int32Array(A,2048),new Int32Array(A,2*2048)],J=1+2*Math.round(Math.sqrt(U)),L=J>>>1,P=new Array(J),u=new Array(J);
for(var k=0;k<J;k++){var A=new ArrayBuffer(512*4*3);P[k]=[new Int32Array(A,0),new Int32Array(A,2048),new Int32Array(A,2*2048)];
u[k]=P[k][0]}var m=V[0],x=V[1],v=Q[0];for(var W=0;W<a;W++)if(W<U||W>a-U-J-1){v.fill(0);var Z=Math.max(W-U,0),r=Math.min(a,W+U+1),X=r-Z;
for(var $=0;$<U;$++)b(v,M,$*a+Z,$*a+r,1);for(var $=0;$<o;$++){var I=$-U-1,T=$+U;if(T<o)b(v,M,T*a+Z,T*a+r,1);
if(I>=0)b(v,M,I*a+Z,I*a+r,-1);var e=$*a+W<<2;E=v[300];if(E!=0)for(var k=0;k<3;k++)N[e+k]=m(Q[k],M[e+k],E,c)}}else{for(var k=0;
k<J;k++)u[k].fill(0);var Z=W-U+L,r=W+U+1+L;for(var $=0;$<U;$++)_(u,M,$*a+Z,$*a+r,1,L);for(var $=0;$<o;
$++){var I=$-U-1,T=$+U;if(I>=0)_(u,M,I*a+Z,I*a+r,-1,L);if(T<o)_(u,M,T*a+Z,T*a+r,1,L);var F=P[L];E=F[0][300];
for(var k=0;k<L;k++){var y=L-1-k,h=L+1+k,Y=P[y],K=P[h],z=E+Y[0][300],f=E+K[0][300],s=$*a+W+y<<2,l=$*a+W+h<<2;
if(z!=0)for(var g=0;g<3;g++)N[s+g]=x(F[g],Y[g],M[s+g],z,c);if(f!=0)for(var g=0;g<3;g++)N[l+g]=x(F[g],K[g],M[l+g],f,c)}var e=$*a+W+L<<2;
if(E!=0)for(var g=0;g<3;g++)N[e+g]=m(F[g],M[e+g],E,c)}W+=J-1}}function _(M,N,a,o,U,V){var c=w,E=a<<2,A=o<<2;
c(M[V-1],N,a-1<<2,U);c(M[V-1],N,o-1<<2,-U);c(M[V+1],N,o<<2,U);c(M[V+1],N,a<<2,-U);for(var k=1;k<V;k++){var Q=M[V-k-1],J=M[V+k+1];
for(var L=0;L<=k;L++){var P=L<<2;c(Q,N,a-1-L<<2,U);c(Q,N,o-1-L<<2,-U);c(J,N,o+L<<2,U);c(J,N,a+L<<2,-U)}}b(M[V],N,a,o,U)}function b(M,N,k,a,o){var U=k<<2,V=a<<2;
while(U<V){w(M,N,U,o);U+=4}}function w(M,N,a,o){var U=o*N[a+3];M[300]+=U;i(M,N[a],0,U);i(M,N[a+1],512,U);
i(M,N[a+2],1024,U)}function i(M,N,a,o){M[a|N]+=o;M[a|256|N>>>4]+=o}return D}();B.OR.eX=function(){function D(V,c,E,A,Q,J,L){if(Q==0){c.set(V);
return}if(Q<=80)n(V,c,E,A,Q,J,L);else i(V,c,E,A,Q,J,L)}function n(V,c,E,A,Q,J,L){var P=0,u=new Int32Array(512),m=1+2*Math.round(Math.sqrt(Q)),x=m>>>1,v=new Array(m);
for(var k=0;k<m;k++)v[k]=new Int32Array(512);var W=J[0],Z=J[1];for(var r=0;r<E;r++)if(r<Q||r>E-Q-m-1){u.fill(0);
P=0;var X=Math.max(r-Q,0),$=Math.min(E,r+Q+1),I=$-X;for(var T=0;T<Q;T++){P+=I;b(u,V,T*E+X,T*E+$,1)}for(var T=0;
T<A;T++){var e=T-Q-1,F=T+Q;if(e>=0){P-=I;b(u,V,e*E+X,e*E+$,-1)}if(F<A){P+=I;b(u,V,F*E+X,F*E+$,1)}var y=W(u,V[T*E+r],P,L);
c[T*E+r]=y}}else{for(var k=0;k<m;k++)v[k].fill(0);P=0;var X=r-Q+x,$=r+Q+1+x,I=$-X;for(var T=0;T<Q;T++){P+=I;
_(v,V,T*E+X,T*E+$,1,x)}for(var T=0;T<A;T++){var e=T-Q-1,F=T+Q;if(e>=0){P-=I;_(v,V,e*E+X,e*E+$,-1,x)}if(F<A){P+=I;
_(v,V,F*E+X,F*E+$,1,x)}for(var k=0;k<x;k++){var h=x-1-k,Y=x+1+k;c[T*E+r+h]=Z(v[x],v[h],V[T*E+r+h],P,L);
c[T*E+r+Y]=Z(v[x],v[Y],V[T*E+r+Y],P,L)}c[T*E+r+x]=W(v[x],V[T*E+r+x],P,L)}r+=m-1}}function _(V,c,E,A,Q,J){var L=w;
L(V[J-1],c[E-1],0,Q);L(V[J-1],c[A-1],0,-Q);L(V[J+1],c[A],0,Q);L(V[J+1],c[E],0,-Q);for(var k=1;k<J;k++){var P=V[J-k-1],u=V[J+k+1];
for(var m=0;m<=k;m++){L(P,c[E-1-m],0,Q);L(P,c[A-1-m],0,-Q);L(u,c[A+m],0,Q);L(u,c[E+m],0,-Q)}}b(V[J],c,E,A,Q)}function b(V,c,k,E,A){while(k<E)w(V,c[k++],0,A)}function w(V,c,E,A){V[E|c]+=A;
V[E|256|c>>>4]+=A}function i(V,c,E,A,Q,J,L){var P=0,u=new Int32Array(512),m=new Int32Array(1*E),x=new Int32Array(512*E),v=Math.min(Q,E),W=Math.min(Q,A),Z=J[0];
for(var r=0;r<W;r++)M(x,m,V,E,r,1);for(var r=0;r<A;r++){if(r+Q<A)M(x,m,V,E,r+Q,1);if(r-Q-1>=0)M(x,m,V,E,r-Q-1,-1);
u.fill(0);P=0;for(var X=0;X<v;X++){P+=m[X];N(u,x,X)}for(var X=0;X<E;X++){var $=X-Q-1,I=X+Q;if($>=0&&m[$]!=0){P-=m[$];
a(u,x,$)}if(I<E&&m[I]!=0){P+=m[I];N(u,x,I)}var T=P==0?0:Z(u,V[r*E+X],P,L);c[r*E+X]=T}}}function M(V,c,E,A,Q,J){var k=Q*A;
for(var L=0;L<A;L++){w(V,E[k+L],L<<9,J);c[L]+=J}}function N(V,c,E){for(var k=0;k<16;k++){var A=c[E<<9|256|k];
if(A==0)continue;V[256|k]+=A;var Q=k<<4,J=E<<9|Q;o(V,c,Q,J);o(V,c,Q+4,J+4);o(V,c,Q+8,J+8);o(V,c,Q+12,J+12)}}function a(V,c,E){for(var k=0;
k<16;k++){var A=c[E<<9|256|k];if(A==0)continue;V[256|k]-=A;var Q=k<<4,J=E<<9|Q;U(V,c,Q,J);U(V,c,Q+4,J+4);
U(V,c,Q+8,J+8);U(V,c,Q+12,J+12)}}function o(V,c,E,A){V[E]+=c[A];V[E+1]+=c[A+1];V[E+2]+=c[A+2];V[E+3]+=c[A+3]}function U(V,c,E,A){V[E]-=c[A];
V[E+1]-=c[A+1];V[E+2]-=c[A+2];V[E+3]-=c[A+3]}return D}();B.OR.He=[function(D,n,_,b){var k=15;while(D[256|k]==0&&k>0)k--;
k=(k<<4)+15;while(D[k]==0&&k>0)k--;return k},function(D,n,_,b,w){var k=15;while(D[256|k]+n[256|k]==0&&k>0)k--;
k=(k<<4)+15;while(D[k]+n[k]==0&&k>0)k--;return k}];B.OR.xs=[function(D,n,_,b){var k=0;while(D[256|k]==0&&k<15)k++;
k=k<<4;while(D[k]==0&&k<255)k++;return k},function(D,n,_,b,w){var k=0;while(D[256|k]+n[256|k]==0&&k<15)k++;
k=k<<4;while(D[k]+n[k]==0&&k<255)k++;return k}];B.OR.n7=.5;B.OR.fS=[function(D,n,_,b){var w=~~(.5+B.OR.n7*_),i=0,k=256;
while(i+D[k]<=w)i+=D[k++];k=k-256<<4;while(i<=w)i+=D[k++];return k-1},function(D,n,_,b,w){var i=~~(.5+B.OR.n7*b),M=0,k=256;
while(M+D[k]+n[k]<=i){M+=D[k]+n[k];k++}k=k-256<<4;while(M<=i){M+=D[k]+n[k];k++}return k-1}];B.OR.YB=[function(D,n,_,b){var w=b[0],i=0,M=0,k=Math.max(0,n-w),N=Math.min(256,n+w+1);
while(k<N){var a=D[k];i+=k*a;M+=a;k++}return M==0?0:i/M},function(D,n,_,b,w){var i=w[0],M=0,N=0,k=Math.max(0,_-i),a=Math.min(256,_+i+1);
while(k<a){var o=D[k]+n[k];M+=k*o;N+=o;k++}return N==0?0:M/N}];B.N={};B.N.Go=function(D){var n=G.Q.CJ(D.Trnf),_=D.Sz.v,b=B.N.Ng(n,new gl(0,0,_.Wdth.v,_.Hght.v));
return B.N.vI(b)};B.N.Ng=function(D,n){var _=D[0],b=D[1],w=D[2],i=D[3],M=D[6],N=D[7],a=D[4],o=D[5],U=0,V=0,c=1,E=0,A=0,Q=1,J=1,L=1;
if(n){U=n.x;V=n.y;c=n.x+n.l;E=n.y;A=n.x;Q=n.y+n.e;J=n.x+n.l;L=n.y+n.e}return B.N.w$(D,[U,V,c,E,J,L,A,Q])};
B.N.wm=function(D){function n(w,i){for(var k=0;k<i.length;k+=2)if(!_(w,i[k],i[k+1]))return!1;return!0}function _(w,i,M){return w[2*i]==w[2*M]&&w[2*i+1]==w[2*M+1]}var b=0;
if(n(D,[0,1,2,3]))b+=1;if(n(D,[0,3,1,2]))b+=2;return b};B.N.w$=function(D,n){function _(y,k,h){var T=y[k*2]-y[h*2],e=y[k*2+1]-y[h*2+1];
return Math.sqrt(T*T+e*e)}var b=D[0],w=D[1],i=D[2],M=D[3],N=D[6],a=D[7],o=D[4],U=D[5],V=n[0],c=n[1],E=n[2],A=n[3],Q=n[6],J=n[7],L=n[4],P=n[5],u=[[V,c,1,0,0,0,-V*b,-c*b,b],[0,0,0,V,c,1,-V*w,-c*w,w],[E,A,1,0,0,0,-E*i,-A*i,i],[0,0,0,E,A,1,-E*M,-A*M,M],[Q,J,1,0,0,0,-Q*N,-J*N,N],[0,0,0,Q,J,1,-Q*a,-J*a,a],[L,P,1,0,0,0,-L*o,-P*o,o],[0,0,0,L,P,1,-L*U,-P*U,U]],m=[0,0,0,0,0,0,0,0],x=B.Ox.U4(u,m);
if(x!=0){m=[0,0,0,0,0,0,0,0];var v=B.N.wm(D),W=B.N.wm(n);if(v==W&&v!=0){var Z=v==1,r=Z?3:1,X=_(D,0,r),$=_(n,0,r),I=$/X,T=D[2*r]-D[0],e=D[2*r+1]-D[1],F=new e3;
F.translate(-b,-w);F.rotate(Math.atan2(e,T)-(Z?Math.PI/2:0));if(Z)F.scale(1,I);else F.scale(I,1);F.translate(V,c);
F.ei();m=B.N.ug(F)}}return m};B.N.YN=function(D){return Math.abs(D[6])<1e-10&&Math.abs(D[7])<1e-10};
B.N.vI=function(D){return new e3(D[0],D[3],D[1],D[4],D[2],D[5])};B.N.ug=function(D){return[D.vd,D.jo,D.oE,D.S,D.Ww,D.LE,0,0]};
B.N.A=function(D,n){var _=new Float64Array(2);for(var b=0;b<n.length;b+=2){var w=n[b],i=n[b+1];B.N.Un(w,i,D,_);
n[b]=_[0];n[b+1]=_[1]}};B.N.Un=function(D,n,_,b){var w=1/(_[6]*D+_[7]*n+1);b[0]=(_[0]*D+_[1]*n+_[2])*w;
b[1]=(_[3]*D+_[4]*n+_[5])*w};B.N.Wa=function(D,n){var _=new Float64Array(2);B.N.Un(n.x,n.y,D,_);return new gZ(_[0],_[1])};
B.N.V4=function(D,n,_,b){D=new Uint32Array(D.buffer);n=new Uint32Array(n.buffer);for(var w=0;w<b;w++){for(var i=0;
i<_;i++){n[i*b+w]=D[w*_+i]}}};B.N.By=function(D,n,_,b){D=new Uint32Array(D.buffer);n=new Uint32Array(n.buffer);
for(var w=0;w<b;w++){for(var i=0;i<_;i++){n[w*_+i]=D[w*_+_-1-i]}}};B.N.zV=function(D){return Math.abs(D[6])<1e-9&&Math.abs(D[7])<1e-9};
B.N.gs=function(D){return Math.abs(D[0])<1e-9&&Math.abs(D[4])<1e-9||Math.abs(D[1])<1e-9&&Math.abs(D[3])<1e-9};
B.N.drawImage=function(D,n,_,b,w,i,M,N,a){if(M==null)M=!1;if(N==null)N=!1;var o=B.N.ei(D),U=!0,V=0;for(var k=0;
k<8;k++){var c=Math.round(D[k]);if(k!=2&&k!=5)V+=Math.abs(c);if(Math.abs(c-D[k])>1e-9)U=!1}var E=B.N.zV(D),A=B.N.gs(D)&&E,Q=A?1:0;
if(M||U&&V==_+b&&E){B.N.a4r(o,n,_,b,w,i,N,E,a);return}var J=i.l,L=i.e,P=new Float64Array(2);w=new Uint32Array(w.buffer);
n=new Uint32Array(n.buffer);for(var u=0;u<L;u++)for(var m=0;m<J;m++){var x=u*J+m,v,W,Z,r,z=0,f=0,s=0,l=0;
w[x]=0;var X=m+i.x+.5,$=u+i.y+.5;v=X;W=$;Z=o;var I=Z[0]*v+Z[1]*W+Z[2],T=Z[3]*v+Z[4]*W+Z[5];if(!E){r=1/(Z[6]*v+Z[7]*W+1);
I*=r;T*=r}var e=I*_,F=T*b,y=e<-1||e>_+1||F<-1||F>b+1;if(N){e=Math.max(.001,Math.min(_-1,e));F=Math.max(.001,Math.min(b-1,F))}else if(y)continue;
var h=B.N.akl(D,_,b,X,$,I,T),Y=Math.round(h*2.3);if(h<1.1){B.N.Tu(e,F,n,_,b,w,x,Q);continue}if(!N&&(e<.6||e>_-.6||F<.6||F>b-.6)){Y=Math.max(Y,5)}if(N&&y)Y=1;
var K=1/Y,g=i.x+m,H=i.y+u;Z=o;for(var k=0;k<Y;k++)for(var O=0;O<Y;O++){v=g+(k+.5)*K;W=H+(O+.5)*K;var e=Z[0]*v+Z[1]*W+Z[2],F=Z[3]*v+Z[4]*W+Z[5];
if(!E){r=1/(Z[6]*v+Z[7]*W+1);e*=r;F*=r}if(N){e=Math.max(.001,Math.min(.999,e));F=Math.max(.001,Math.min(.999,F))}else if(e<0||e>=1||F<0||F>=1)continue;
e=Math.floor(e*_);F=Math.floor(F*b);var C=F*_+e,ib=n[C],hH=ib>>>24;z+=(ib&255)*hH;f+=(ib>>>8&255)*hH;
s+=(ib>>>16&255)*hH;l+=hH}if(l!=0){var R=1/l;z=~~(z*R+.5);f=~~(f*R+.5);s=~~(s*R+.5);l=~~(l*K*K+.5);w[x]=l<<24|s<<16|f<<8|z}}};
B.N.akl=function(D,n,_,b,w,i,M){var N=B.N.wi(D,b,w,i+1/n,M),a=B.N.wi(D,b,w,i,M+1/_);return 1/Math.sqrt(Math.max(N,a))};
B.N.wi=function(D,n,_,b,w){var i=1/(D[6]*b+D[7]*w+1),M=(D[0]*b+D[1]*w+D[2])*i-n,N=(D[3]*b+D[4]*w+D[5])*i-_;
return M*M+N*N};B.N.a4r=function(D,n,_,b,w,i,M,N,a){if(N&&!M&&i.u()>4e6&&a){B.N.ac0(D,n,_,b,w,i,M,N,a);
return}var o=i.x+i.l,U=i.y+i.e,V=0,c=new Uint32Array(w.buffer),E=new Uint32Array(n.buffer),A=D[0]*_,Q=D[1]*_,J=D[2]*_,L=D[3]*b,P=D[4]*b,u=D[5]*b,m=D[6],x=D[7];
if(N&&!M)for(var v=i.y+.5;v<U;v++)for(var W=i.x+.5;W<o;W++){var Z=A*W+Q*v+J,r=L*W+P*v+u;if(0<Z&&Z<_&&0<r&&r<b){var X=~~r*_+~~Z;
c[V]=E[X]}else c[V]=0;V++}else for(var v=i.y+.5;v<U;v++)for(var W=i.x+.5;W<o;W++){var $=1/(m*W+x*v+1),Z=(A*W+Q*v+J)*$,r=(L*W+P*v+u)*$;
if(M){Z=Math.max(.001,Math.min(_-1,Z));r=Math.max(.001,Math.min(b-1,r))}if(0<Z&&Z<_&&0<r&&r<b){var X=Math.floor(r)*_+Math.floor(Z);
c[V]=E[X]}else c[V]=0;V++}};B.N.ac0=function(D,n,_,b,w,i,M,N,a){var o=new Uint32Array(w.buffer),U=new Uint32Array(n.buffer),x=0;
if(a&&(i.l&3)!=0)throw"e";var V=D[0]*_,c=D[1]*_,E=D[2]*_,A=D[3]*b,Q=D[4]*b,J=D[5]*b,L=D[6],P=D[7],u=i.l,m=i.e,v=i.x+.5,W=i.y+.5,Z=(u>>>2<<2)-1e-9,r=-.1+(m>>>1<<1)-1e-9,X=~~_,$=V==0?0:1/V,I=A==0?0:1/A;
for(var T=0;T<m;T++){var e=v*V+c*(T+W)+E,F=v*A+Q*(T+W)+J,y=0,h=u;if(V==0){}else if($>0){y=Math.max(y,-e*$);
h=Math.min(h,(_-e)*$)}else{h=Math.min(h,-e*$);y=Math.max(y,(_-e)*$)}if(A==0){}else if(I>0){y=Math.max(y,-F*I);
h=Math.min(h,(b-F)*I)}else{h=Math.min(h,-F*I);y=Math.max(y,(b-F)*I)}if(h<0)h=0;if(y>h)y=h;y=Math.ceil(y);
h=~~h;x=~~(T*u);for(var Y=0;Y<y;Y++)o[x++]=0;for(var Y=y;Y<h;Y+=4){var K=V*Y+e,z=A*Y+F,f=~~z*X+~~K;o[x++]=o[x++]=o[x++]=o[x++]=U[f]}for(var Y=h;
Y<u;Y++)o[x++]=0}};B.N.ei=function(D){var n=D[4]-D[5]*D[7],_=D[2]*D[7]-D[1],b=D[1]*D[5]-D[2]*D[4],w=D[5]*D[6]-D[3],i=D[0]-D[2]*D[6],M=D[3]*D[2]-D[0]*D[5],N=D[3]*D[7]-D[4]*D[6],a=D[1]*D[6]-D[0]*D[7],o=1/(D[0]*D[4]-D[1]*D[3]);
return[n*o,_*o,b*o,w*o,i*o,M*o,N*o,a*o]};B.N.H9=function(D,n){var _=D[0],b=D[1],w=D[2],i=D[3],M=D[4],N=D[5],a=D[6],o=D[7],U=n[0],V=n[1],c=n[2],E=n[3],A=n[4],Q=n[5],J=n[6],L=n[7],P=[_*U+b*E+w*J,_*V+b*A+w*L,_*c+b*Q+w,i*U+M*E+N*J,i*V+M*A+N*L,i*c+M*Q+N,a*U+o*E+J,a*V+o*A+L],u=1/(a*c+o*Q+1);
for(var k=0;k<8;k++)P[k]*=u;return P};B.N.Tu=function(D,n,_,b,w,i,M,N){var a=D,o=n,c=0,E=0,A=0,Q=0;D-=.499999;
n-=.499999;var U=Math.floor(D),V=Math.floor(n);if(N==0){var k=V*b+U,J=U>=0&&U<b,L=U+1>=0&&U+1<b,P=V>=0&&V<w,u=V+1>=0&&V+1<w;
if(J&&P)c=_[k];if(L&&P)E=_[k+1];if(J&&u)A=_[k+b];if(L&&u)Q=_[k+b+1]}else if(N==1){var m=U<0?0:U>b-1?b-1:U,x=U<-1?0:U>b-2?b-1:U+1,v=V<0?0:V>w-1?w-1:V,W=V<-1?0:V>w-2?w-1:V+1;
c=_[v*b+m];E=_[v*b+x];A=_[W*b+m];Q=_[W*b+x]}else{var m=(U+50*b)%b,x=(U+50*b)%b,v=(V+50*w)%w,W=(V+50*w)%w;
c=_[v*b+m];E=_[v*b+x];A=_[W*b+m];Q=_[W*b+x]}var Z=D-U,r=n-V,X=(1-r)*(1-Z)*(c>>>24),$=(1-r)*Z*(E>>>24),I=r*(1-Z)*(A>>>24),T=r*Z*(Q>>>24),e=X+$+I+T,F=X*(c&255)+$*(E&255)+I*(A&255)+T*(Q&255),y=X*(c>>>8&255)+$*(E>>>8&255)+I*(A>>>8&255)+T*(Q>>>8&255),h=X*(c>>>16&255)+$*(E>>>16&255)+I*(A>>>16&255)+T*(Q>>>16&255);
if(e==0)i[M]=0;else{var Y=1/e;F=~~(F*Y+.5);y=~~(y*Y+.5);h=~~(h*Y+.5);e=~~(e+.5);i[M]=e<<24|h<<16|y<<8|F}};
B.N._M=function(D,n,_,b,w,i){var M=D-.499999,N=n-.499999,a=~~M,o=~~N,U=M-a,V=N-o,c=(1-V)*(1-U),E=(1-V)*U,A=V*(1-U),Q=V*U,J=o*b+a<<2,L=(o+1)*b+a<<2,P=c*_[J]+E*_[J+4]+A*_[L]+Q*_[L+4],u=c*_[J+1]+E*_[J+5]+A*_[L+1]+Q*_[L+5],m=c*_[J+2]+E*_[J+6]+A*_[L+2]+Q*_[L+6],x=c*_[J+3]+E*_[J+7]+A*_[L+3]+Q*_[L+7];
i[0]=P;i[1]=u;i[2]=m;i[3]=x};B.N.Jj=function(D,n,_,b,w){D-=.499999;n-=.499999;var i=Math.floor(D),M=Math.floor(n),N=D-i,a=n-M,o=(1-a)*(1-N),U=(1-a)*N,V=a*(1-N),c=a*N,E=(i+50*b)%b,A=(i+1+50*b)%b,Q=(M+50*w)%w,J=(M+1+50*w)%w,L=_[Q*b+E],P=_[Q*b+A],u=_[J*b+E],m=_[J*b+A];
if(L==null||m==null)throw"e";return o*L+U*P+V*u+c*m};B.N.f8=function(D,n,_,b,w,i,M,N,a,o,U,V){var c=new Uint32Array(D.buffer),E=new Uint32Array(b.buffer),A=(1+2*o)/w,Q=[],J=[];
for(var L=0;L<w;L++){var P=-.25+o-L*A;Q.push(Math.cos(2*Math.PI*P)*V/U);Q.push(Math.sin(2*Math.PI*P)/U)}M*=n;
N*=_;for(var u=0;u<i;u++){var m=Math.pow(u/i,a)*i;for(var L=0;L<w;L++){var x=M+Q[L<<1]*m,v=N+Q[(L<<1)+1]*m,W=~~(.5+(x<0?0:x>n-1?n-1:x)),Z=~~(.5+(v<0?0:v>_-1?_-1:v));
E[u*w+L]=c[Z*n+W]}}};B.N.L1=function(D,n,_,b,w,i,M,N,a,o,U,V){var c=new Uint32Array(D.buffer),E=new Uint32Array(b.buffer),A=1/V,Q=[],J=_*4,L=1/J;
for(var P=0;P<J+10;P++)Q.push(Math.pow(P*L,1/a)*_*U);M*=w;N*=i;for(var P=0;P<i;P++)for(var u=0;u<w;u++){var m=A*(u-M),x=P-N,v=1.75-Math.atan2(x,m)*(1/(2*Math.PI));
v=v-~~v;v=(v+o)*(1/(1+2*o));var W=Math.sqrt(m*m+x*x);W=Q[~~(W*4)];B.N.Tu(v*n+.5,W+.5,c,n,_,E,P*w+u,1)}};
B.N.G$=function(D,n,_,b,w){var i=w[0],M=w[1];for(var N=0;N<M;N++)for(var a=0;a<i;a++){var o=w[2]*a+w[3]*N+w[4],U=w[5]*a+w[6]*N+w[7],V=N*i+a<<2,c=U*n+o<<2;
b[V]=D[c+0];b[V+1]=D[c+1];b[V+2]=D[c+2];b[V+3]=D[c+3]}};B.X={Z9:function(D,n){var _=~~(.499+D*n);return _<0?0:_>n?n:_},a7Z:function(D,n,_,b,w,i,M,N){var a=_[0],o=_[1],U=_[2],V=_[3],c=b.l,E=b.e,A=new Float64Array(c*4+8),Q=new Float64Array(c*4+8);
for(var J=0,k=0;J<E;J++){var L=A;A=Q;Q=L;Q.fill(0);for(var P=0;P<c;P++,k++){var u=P+w,m=J+i,x=a*u+o*m,v=U*u+V*m,W=0,X=0;
if(N==0)W=x+.5;else if(N==1)W=2*Math.sqrt(x*x+v*v);else if(N==2)W=(Math.PI+Math.atan2(-v,-x))/(2*Math.PI);
else if(N==3)W=Math.abs(x*2);else if(N==4)W=2*(Math.abs(x)+Math.abs(v));var Z=B.X.Z9(W,M)*4,r=P*4;for(var $=0;
$<4;$++){var I=Math.max(0,Math.min(254.999,n[Z+$]+A[r+4+$])),T=Math.floor(I);if(Math.random()<I-T)T++;
var e=I-T;A[r+8+$]=e*(7/16);Q[r+0+$]=e*(3/16);Q[r+4+$]=e*(5/16);Q[r+8+$]=e*(1/16);X|=T<<$*8}D[k]=X}}},kz:[function(D,n,_,b,w,i,M){var N=_[0],a=_[1],o=_[2],U=_[3],V=b.l,c=b.e;
for(var E=0,k=0;E<c;E++)for(var A=0;A<V;A++,k++){var Q=A+w,J=E+i,L=N*Q+a*J,P=o*Q+U*J,u=L+.5;D[k]=n[B.X.Z9(u,M)]}},function(D,n,_,b,w,i,M){var N=_[0],a=_[1],o=_[2],U=_[3],V=b.l,c=b.e;
for(var E=0,k=0;E<c;E++)for(var A=0;A<V;A++,k++){var Q=A+w,J=E+i,L=N*Q+a*J,P=o*Q+U*J,u=2*Math.sqrt(L*L+P*P);
D[k]=n[B.X.Z9(u,M)]}},function(D,n,_,b,w,i,M){var N=_[0],a=_[1],o=_[2],U=_[3],V=b.l,c=b.e;for(var E=0,k=0;
E<c;E++)for(var A=0;A<V;A++,k++){var Q=A+w,J=E+i,L=N*Q+a*J,P=o*Q+U*J,u=(Math.PI+Math.atan2(-P,-L))/(2*Math.PI);
D[k]=n[B.X.Z9(u,M)]}},function(D,n,_,b,w,i,M){var N=_[0],a=_[1],o=_[2],U=_[3],V=b.l,c=b.e;for(var E=0,k=0;
E<c;E++)for(var A=0;A<V;A++,k++){var Q=A+w,J=E+i,L=N*Q+a*J,P=o*Q+U*J,u=Math.abs(L*2);D[k]=n[B.X.Z9(u,M)]}},function(D,n,_,b,w,i,M){var N=_[0],a=_[1],o=_[2],U=_[3],V=b.l,c=b.e;
for(var E=0,k=0;E<c;E++)for(var A=0;A<V;A++,k++){var Q=A+w,J=E+i,L=N*Q+a*J,P=o*Q+U*J,u=2*(Math.abs(L)+Math.abs(P));
D[k]=n[B.X.Z9(u,M)]}}]};B.X.anM=function(D,n){return D+.5};B.X.akG=function(D,n){return 2*Math.sqrt(D*D+n*n)};
B.X.aap=function(D,n){return(Math.PI+Math.atan2(-n,-D))/(2*Math.PI)};B.X.a7x=function(D,n){return Math.abs(D*2)};
B.X.ar6=function(D,n){return 2*(Math.abs(D)+Math.abs(n))};B.X.j2=function(D,n,_,b,w,i,M,N,a,o,U,V){var c=D.Clrs,E=new Uint32Array(n.buffer),A=1023,Q=c?B.X.lr(c.v,a,o):null;
if(V&&c){var J=B.X.a6N(D,Q,A+1,M);B.X.a7Z(E,J,b,_,_.x-w,_.y-i,A,N)}else{var L=c?B.X.fG(D,Q,A+1,M):B.X.Ju(D,A+1,M);
if(N<5){B.X.kz[N](E,L,b,_,_.x-w,_.y-i,A)}else{var P=new Uint8Array(L.buffer),u=_.l,m=_.e,x=U.D7-U.uf,v=1/x,W=U.i1.l-_.l>>1,Z=U.i1.e-_.e>>1,r=U.i1.l,X=-.6*v,$=(-.6+.4)*v,I=(-.6+2*.4)*v,T=(-.6+3*.4)*v;
for(var e=0,k=0;e<m;e++)for(var F=0;F<u;F++,k+=4){var y=0,h=0,Y=0,K=0,z=(e+Z)*r+F+W,f=(U.ry[z]-U.uf)*v,s=0;
if(f<=0||f>=1){s=(f<=0?0:A)<<2;n[k]=P[s];n[k+1]=P[s+1];n[k+2]=P[s+2];n[k+3]=P[s+3];continue}s=Math.max(0,Math.min(A-1,Math.round((f+X)*A)))<<2;
h+=P[s];Y+=P[s+1];K+=P[s+2];y+=P[s+3];s=Math.max(0,Math.min(A-1,Math.round((f+$)*A)))<<2;h+=P[s];Y+=P[s+1];
K+=P[s+2];y+=P[s+3];s=Math.max(0,Math.min(A-1,Math.round((f+I)*A)))<<2;h+=P[s];Y+=P[s+1];K+=P[s+2];y+=P[s+3];
s=Math.max(0,Math.min(A-1,Math.round((f+T)*A)))<<2;h+=P[s];Y+=P[s+1];K+=P[s+2];y+=P[s+3];n[k]=h>>>2;
n[k+1]=Y>>>2;n[k+2]=K>>>2;n[k+3]=y>>>2}}}};B.X.lr=function(D,n,_){var b=[];for(var k=0;k<D.length;k++){var w,i=D[k].v,M=i.Type.v.Clry;
if(M=="FrgC")w={p:n>>16&255,z:n>>8&255,S:n&255};else if(M=="BckC")w={p:_>>16&255,z:_>>8&255,S:_&255};
else w=B.X.kj(i.Clr.v);b.push(w)}return b};B.X.kj=function(D){var n,_=D.classID;if(_=="RGBC"){if(D.Rd)n={p:D.Rd.v,z:D.Grn.v,S:D.Bl.v};
else n={p:D.redFloat.v*255,z:D.greenFloat.v*255,S:D.blueFloat.v*255}}else if(_=="HSBC"){n=B.Ra(D.H.v.val/360,D.Strt.v/100,D.Brgh.v/100);
n.p*=255;n.z*=255;n.S*=255}else if(_=="CMYC"){var b=100-D.Cyn.v,w=100-D.Mgnt.v,i=100-D.Ylw.v,M=100-D.Blck.v,N=255*b*M*1e-4,a=255*(.2*b+.8*w)*M*1e-4,o=255*(.2*w+.8*i)*M*1e-4;
n={p:N,z:a,S:o}}else if(_=="Grsc")n={p:255-D.Gry.v,z:255-D.Gry.v,S:255-D.Gry.v};else if(_=="LbCl"){n=B.Eg(D.Lmnc.v,D.A.v,D.B.v)}else console.log(D);
if(isNaN(n.p))n.p=n.z=n.S=0;return n};B.X.Ju=function(D,n,_){var b=new Uint32Array(n),w=new Uint8Array(b.buffer);
b.fill(4278190080);var i=[],M=[],N=D.RndS.v,a=D.Smth.v/4096;for(var k=0;k<4;k++){i[k]=~~(D.Mnm.v[k].v*255/100);
M[k]=~~(D.Mxm.v[k].v*255/100)}var o=B.U(n*4),U=B.U(n);for(var V=0;V<3;V++){B.I.c0(null,n,1,o,[1+Math.round(a*a*a*60),22,N*(2+V)]);
B.Ef(o,U,0);B.tD(U,w,V);var c=i[V],E=M[V];for(var k=0;k<n;k++)w[4*k+V]=Math.max(c,Math.min(E,w[4*k+V]))}if(_)for(var k=0;
k<n/2;k++){var A=b[k];b[k]=b[n-1-k];b[n-1-k]=A}return b};B.X.Ea=function(D){return{classID:"RGBC",Rd:{t:"doub",v:D.p},Grn:{t:"doub",v:D.z},Bl:{t:"doub",v:D.S}}};
B.X.a6N=function(D,n,_,b){var w=[],i=1/(_-0);for(var k=0;k<_;k++){var M=k*4,N=B.X.i5(D,n,(b?_-1-k:k)*i);
w[M]=N[0];w[M+1]=N[1];w[M+2]=N[2];w[M+3]=N[3]}return w};B.X.fG=function(D,n,_,b){var w=new Uint32Array(_),i=1/(_-0);
for(var k=0;k<_;k++)w[k]=B.X.$x(D,n,(b?_-1-k:k)*i);return w};B.X.i5=function(D,n,_){var b=4096,w=1/4096,i=D.Intr.v*w,M=D.Clrs.v,N=D.Trns.v,a=M.length-1,o=N.length-1,k=-1,U=0,V=0,c=0,E=0;
while(k<o&&N[k+1].v.Lctn.v<=_*b)k++;if(k==-1){U=N[0].v.Opct.v.val*(255/100)}else if(k==o){U=N[k].v.Opct.v.val*(255/100)}else{var A=B.X.Jn(N,w,k,_,i);
U=(A*N[k].v.Opct.v.val+(1-A)*N[k+1].v.Opct.v.val)*(255/100)}k=-1;while(k<a&&M[k+1].v.Lctn.v<=_*b)k++;
if(k==-1){var Q=n[0];V=Q.p;c=Q.z;E=Q.S}else if(k==a){var Q=n[k];V=Q.p;c=Q.z;E=Q.S}else{var J=n[k],L=n[k+1],P=B.X.Jn(M,w,k,_,i);
V=P*J.p+(1-P)*L.p;c=P*J.z+(1-P)*L.z;E=P*J.S+(1-P)*L.S}return[V,c,E,U]};B.X.$x=function(D,n,_){var b=B.X.i5(D,n,_),w=~~(.5+b[0]),i=~~(.5+b[1]),M=~~(.5+b[2]),N=~~(.5+b[3]);
return N<<24|M<<16|i<<8|w};B.X.Jn=function(D,n,k,_,b){if(D.length==2)b*=.5;var w=D[k].v.Lctn.v*n,i=D[k+1].v.Lctn.v*n,M=w+D[k+1].v.Mdpn.v*.01*(i-w),N;
if(_<M)N=.5*(_-w)/(M-w);else N=.5+.5*(_-M)/(i-M);N=.5+.5*(b*Math.cos(Math.PI*N)+(1-b)*(1-2*N));return N};
B.X.bm=function(D,n){var _=Math.PI*D.Angl.v.val/180,b=D.Scl.v.val/100,w=D.Ofst.v,i=w.Hrzn.v.val/100,M=w.Vrtc.v.val/100,N=Math.cos(_),a=-Math.sin(_),o=.5*n.e,U=o*(N/a),V=Math.sqrt(o*o+U*U),c=.5*n.l,E=c*(a/N),A=Math.sqrt(c*c+E*E),Q=Math.min(V,A)*b,J=n.x+n.l/2+i*n.l,L=n.y+n.e/2+M*n.e;
return[new gZ(J,L),new gZ(J+N*Q,L+a*Q)]};B.X.o6=function(D,n,_,b){var w=n.x-D.x,i=-(n.y-D.y),M=Math.sqrt(w*w+i*i),N=Math.atan2(i,w),a=Math.cos(N),o=-Math.sin(N),U=.5*_.e,V=U*(a/o),c=Math.sqrt(U*U+V*V),E=.5*_.l,A=E*(o/a),Q=Math.sqrt(E*E+A*A),J=M/Math.min(c,Q),L=(D.x-_.x-_.l/2)/_.l,P=(D.y-_.y-_.e/2)/_.e;
b.Angl.v.val=180*N/Math.PI;b.Scl.v.val=J*100;var u=b.Ofst.v;u.Hrzn.v.val=L*100;u.Vrtc.v.val=P*100};B.X.q2=function(D,n){for(var k=0;
k<D.length;k++){var _=D[k],b=Math.round(_[0]*4096),w=_[1],i=_[2],M=_[3];if(i==null)i=1;if(M==null)M=.5;
var N=B.X.Ea({p:w[0]*255,z:w[1]*255,S:w[2]*255});n.Clrs.v[k]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(M*100)},Clr:{t:"Objc",v:N},Type:{t:"enum",v:{Clry:"UsrS"}}}};
n.Trns.v[k]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:b},Mdpn:{t:"long",v:Math.round(M*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(i*100)}}}}}};
B.nC={};B.nC.alA=function(D,n,_,b,w,i,M,N,a,o,U,V){var c,E,A,Q=Date.now(),J=!1,L=M,P=o,u,m,x,v,W=i*255,Z=255-a*255,r=1+w*6,X=1+N*6,$=1+V*4,I=($-1)/7,T=0,e=255-0,F,y,h,Y,K,z,f,s,l,g,H,O,C,ib=0,hH=1,R,fR,j4,cP,a8,d0,b9,jG,jP,aq,gM=1+U,gv,dT=B.U(_*b),aC=B.U(_*b),c1=B.U(_*b),aj=B.U(_*b),bD=255/W,cy=255/(255-Z);
for(E=0;E<b;E++){for(c=0;c<_;c++){var k=E*_+c,co=k<<2;R=B.cu(D[co],D[co+1],D[co+2]);aj[k]=R;if(R<W)dT[k]=255-R*bD;
if(R>Z)aC[k]=255-(255-R)*cy}}if(J)console.log("init",Date.now()-Q);Q=Date.now();if(w*L>0){c1.set(dT);
B.uE.xn(c1,dT,new gl(0,0,_,b),L)}if(N*P>0){c1.set(aC);B.uE.xn(c1,aC,new gl(0,0,_,b),P)}if(J)console.log("blur",Date.now()-Q);
Q=Date.now();var hV=B.U(256),il=B.U(256);for(var k=0;k<256;k++){var h6=k*(1/255),c8=0;c8=(1-Math.pow(1-h6,r))*255;
hV[k]=Math.max(0,Math.min(255,~~(c8+.5)));c8=Math.pow(h6,X)*255;il[k]=Math.max(0,Math.min(255,~~(c8+.5)))}var fx=new Uint8ClampedArray(n.buffer),bU=new Float32Array(32768);
for(var k=0;k<32768;k++){gv=Math.sqrt(k)*(1/128);if(gM>1)gv=(1-gv)*(gM-1)+1;else gv=gv*(gM-1)+1;bU[k]=gv}for(E=0;
E<b;E++){for(c=0;c<_;c++){var k=E*_+c,co=k<<2,c8=aj[k],b6=dT[k]*(1/255),iF=aC[k]*(1/255);c8=(1-b6)*c8+b6*hV[~~c8];
c8=(1-iF)*c8+iF*il[~~c8];R=c8;var dY=D[co],bl=D[co+1],dc=D[co+2];fR=-dY*.168736-bl*.331264+dc*.5;j4=dY*.5-bl*.418688-dc*.081312;
gv=bU[~~(.5+fR*fR+j4*j4)];cP=fR*gv;d0=j4*gv;hH=1-Math.min(2-(b6+iF),1);fR=hH*fR+(1-hH)*cP;j4=hH*j4+(1-hH)*d0;
jG=R+1.402*j4;jP=R-.34414*fR-.71414*j4;aq=R+1.772*fR;fx[co]=~~(.5+jG);fx[co+1]=~~(.5+jP);fx[co+2]=~~(.5+aq)}}if(J)console.log("apply masks",Date.now()-Q);
Q=Date.now()};B.Oe={};B.Oe.e5=function(D,n,_,b,w){var i=!1,A=1,e=0,F=0,H=0,gM=0;if(!n.Xh(w)){var M=n.Ik(w),N=B.U(M.u()*4);
B.E3(D,n,N,M);D=N;n=M}var a=B.U(n.u());B.I4(_,w,a,n);B.round(a);w=w.zE(n);var o=w.l,U=w.e,V=o*3<U?2:1,c=U*3<o?2:1;
if(w.u()*(V*2+1)*(c*2+1)<n.u()){var M=new gl(w.x-o*V,w.y-U*V,o*(V*2+1),U*(c*2+1)).zE(n),N=B.U(M.u()*4);
B.E3(D,n,N,M);var E=B.U(M.u());B.I4(a,n,E,M);n=M;D=N;a=E}while((n.l+n.e)/2/A>400)A++;var Q=D,J=n,L=a,P=Math.floor(J.l/A),u=Math.floor(J.e/A);
D=B.U(P*u*4);B.scale.HG(Q,J.l,J.e,D,P,u,1/A);a=B.U(P*u);B.scale.G$(L,J.l,J.e,a,P,u,1/A);B.round(a,1);
var m=B.y2(a,new gl(0,0,P,u));if(m.hk())return 1;var x=Math.round((m.l+m.e)/2/15),v=Date.now(),W=B.U(P*u*4);
B.alN(D,W);var Z=Int16Array,r=new Z(P*u*24),X=new Z(64),$=new Z(64),I=new Z(64),T=new Z(64);for(var y=3;
y<u-4;y++)for(var h=3;h<P-4;h++){var Y=y*P+h;if(a[Y]==255)continue;if(B.Oe.ape(W,a,h,y,P,u,X,$,I)!=0)continue;
B.Oe.ZO(X,T);r[e]=h;r[e+1]=y;B.Oe.nb(X,r,e+4,12);e+=16;B.Oe.ZO($,T);B.Oe.nb($,r,e,4);e+=4;B.Oe.ZO(I,T);
B.Oe.nb(I,r,e,4);e+=4;var K=r[e-24+5],s=r[e-24+6];r[e-24+5]=r[e-24+20];r[e-24+6]=r[e-24+16];r[e-24+16]=K;
r[e-24+20]=s;F++}if(F==0)return 2;if(i)console.log(Date.now()-v,"FWHT computed");v=Date.now();var l=[];
B.Oe.G8(0,F-1,l,r,new Z(2*24));if(i)console.log(Date.now()-v,"KD tree computed");v=Date.now();var g=new Float32Array(P*u*4);
for(var k=0;k<F;k++){var O=k,C=B.Oe.a3h(O,r,l,x);if(C==-1)continue;var ib=O*24,hH=C*24,R=r[ib],fR=r[ib+1],j4=r[hH],cP=r[hH+1];
H+=B.Oe.getError(hH,ib,r,1e99);var a8=j4-R,d0=cP-fR;g[(u+d0)*2*P+(P+a8)]+=1}if(i)console.log(Date.now()-v,"NN found");
v=Date.now();var b9=[],jG=1/(2*P);for(var k=0;k<g.length;k++){if(g[k]>0){var y=Math.floor(k*jG),h=k-y*2*P;
b9.push({x:h-P,y:y-u,k:g[k],ha:-1})}}b9.sort(function(iF,dY){return dY.k-iF.k});var jP=new Int32Array(P*u),aq=[];
for(var k=0;k<P*u;k++){if(a[k]==255){jP[k]=gM;aq.push(k%P,Math.floor(k/P));gM++}else if(D[(k<<2)+3]<200){jP[k]=-2}else{jP[k]=-1}}var gv=B.Oe.aqh(P,u,b9,jP,aq,gM);
if(gv==null){return 3}var dT=gv.Oz,top=gv.top;dT=B.Oe.aa4(dT,D,P,u,top,jP,aq,gM);if(i)console.log(Date.now()-v,"optimal labeling found");
v=Date.now();var M=w.clone();M.Iq(1,1);M=M.zE(J);var aC=B.U(M.u()*4),c1=B.U(M.u());B.E3(Q,J,aC,M);var aj=J.l,bD=J.e;
for(var y=0;y<bD;y++)for(var h=0;h<aj;h++){if(L[y*aj+h]==0)continue;var cy=Math.min(Math.floor(h/A),P-1),co=Math.min(Math.floor(y/A),u-1),hV=jP[co*P+cy];
if(hV==-1)continue;var il=dT[hV],h6=top[il],c8=h+h6.x*A,fx=y+h6.y*A,bU=fx*aj+c8<<2,b6=(y-M.y+J.y)*M.l+(h-M.x+J.x)<<2;
aC[b6]=Q[bU];aC[b6+1]=Q[bU+1];aC[b6+2]=Q[bU+2];aC[b6+3]=Q[bU+3];aC[b6+3]=Q[bU+3];c1[b6>>2]=il+1}if(i)console.log(Date.now()-v,"copied back");
v=Date.now();B.jl.e5(aC,c1,M,null,1e3);if(i)console.log(Date.now()-v,"poisson smooth");v=Date.now();
B.E3(aC,M,b,w);return 0};B.Oe.ya=function(D,n,_,b,w,i){return B.Oe.mr(D+w.x,n+w.y,_,b)&&i[(n+w.y)*_+(D+w.x)]==-1?0:1e9};
B.Oe.aa4=function(D,n,_,b,top,w,i,M){var N=Date.now(),a=[-1,0,0,-1,1,0,0,1],o=1e99,U=[],V=[],c=2*(M*2*3+M*2),E=null,A=0,Q=0,J=0,L=1e99;
while(!0&&Date.now()<N+12e3){J++;var P=null,u=o;for(var m=0;m<top.length;m++){var x=top[m],v=0,W=M+2,Z=0;
for(var k=0;k<M;k++){var r=i[k*2],X=i[k*2+1],$=top[D[k]],I=B.Oe.ya(r,X,_,b,x,w),T=D[k]==m?1e9:B.Oe.ya(r,X,_,b,$,w);
for(var cQ=0;cQ<4;cQ++){if(cQ==0&&r==0||cQ==1&&X==0||cQ==2&&r==_-1||cQ==3&&X==b-1)continue;var e=a[2*cQ],F=a[2*cQ+1],y=r+e,h=X+F,Y=w[h*_+y];
if(Y==-2){}else if(Y==-1){I+=3*B.Oe.AV(y+x.x,h+x.y,y,h,_,b,n,w);I+=2*B.Oe.AV(y+x.x+e,h+x.y+F,y+e,h+F,_,b,n,w);
T+=3*B.Oe.AV(y+$.x,h+$.y,y,h,_,b,n,w);T+=2*B.Oe.AV(y+$.x+e,h+$.y+F,y+e,h+F,_,b,n,w)}else if(cQ>1){if(D[k]==D[Y]){var K=0;
K+=B.Oe.AV(r+$.x,X+$.y,r+x.x,X+x.y,_,b,n,w);K+=B.Oe.AV(y+$.x,h+$.y,y+x.x,h+x.y,_,b,n,w);U[v]=k;U[v+1]=Y;
V[v]=K;V[v+1]=K;v+=2}else{var z=top[D[Y]],f=W,s=0,l=0,g=0;W++;s+=B.Oe.AV(r+$.x,X+$.y,r+x.x,X+x.y,_,b,n,w);
s+=B.Oe.AV(y+$.x,h+$.y,y+x.x,h+x.y,_,b,n,w);l+=B.Oe.AV(r+z.x,X+z.y,r+x.x,X+x.y,_,b,n,w);l+=B.Oe.AV(y+z.x,h+z.y,y+x.x,h+x.y,_,b,n,w);
g+=B.Oe.AV(r+z.x,X+z.y,r+$.x,X+$.y,_,b,n,w);g+=B.Oe.AV(y+z.x,h+z.y,y+$.x,h+$.y,_,b,n,w);U[v]=k;U[v+1]=f;
V[v]=s;V[v+1]=s;v+=2;U[v]=Y;U[v+1]=f;V[v]=l;V[v+1]=l;v+=2;U[v]=f;U[v+1]=M+1;V[v]=g;V[v+1]=0;v+=2}}}U[v]=M;
U[v+1]=k;V[v]=I;V[v+1]=0;v+=2;U[v]=k;U[v+1]=M+1;V[v]=T;V[v+1]=0;v+=2;Z+=Math.min(I,T)}if(Z>u)continue;
var H=B.Ae.U4(W,v,M,M+1,U,V,u);if(H.Yf<u){u=H.Yf;var O=D.slice(0);B.Oe.apM(O,v,U,H.vT,m,M);P=O}}if(u*1>=o){break}o=u;
D=P;if((J&3)==0){if(u*1.03>=L)break;L=u}if((J&3)==0){var C=0*top.length;for(var k=0;k<top.length&&top.length>C;
k++){if(D.indexOf(k)!=-1)continue;top.splice(k,1);for(var Y=0;Y<D.length;Y++)if(D[Y]>k)D[Y]--;k--}}}return D};
B.Oe.apM=function(D,n,_,b,w,i){for(var k=0;k<b.length;k++){var M=b[k]<<1,N=0,a=0;if(M<n){N=_[M];a=_[M+1]}else{a=_[M];
N=_[M+1]}if(N==i&&D[a]!=w)D[a]=w}};B.Oe.h_=function(top,D,n,_,b,w,i,M,N){for(var k=0;k<n.length;k++){var a=n[k],o=!0;
if(M!=null&&!(B.Oe.mr(M+a.x,N+a.y,w,i)&&_[w*(N+a.y)+M+a.x]==-1))continue;if(a.ha==-1)a.ha=B.Oe.adA(a,_,b,w,i);
if(a.ha<=0)continue;for(var U=0;U<top.length;U++){var V=top[U],c=a.x-V.x,E=a.y-V.y;if(c*c+E*E<D){o=!1;
break}}if(o)return a}return null};B.Oe.adA=function(D,n,_,b,w){var i=0;for(var k=0;k<_.length;k+=2){var M=_[k]+D.x,N=_[k+1]+D.y;
if(B.Oe.mr(M,N,b,w)&&n[b*N+M]==-1)i++}return i/(_.length>>1)};B.Oe.aqh=function(D,n,_,b,w,i){var top=[];
for(var k=0;k<60;k++){var M=B.Oe.h_(top,25,_,b,w,D,n);if(M==null)break;else top.push(M)}if(top.length==0)return null;
var N=[];for(var k=0;k<i;k++){var a=w[k*2],o=w[k*2+1],U=-1,V=0;while(!0){V++;var c=Math.random();U=Math.floor(c*.99999*top.length);
var E=top[U],A=a+E.x,Q=o+E.y;if(B.Oe.mr(A,Q,D,n)&&b[Q*D+A]==-1)break;if(V>100){var M;M=B.Oe.h_(top,0,_,b,w,D,n,a,o);
if(M==null)return null;top.push(M);V=0}}N.push(U)}return{top:top,Oz:N}};B.Oe.AV=function(D,n,_,b,w,i,M,N){if(D==_&&n==b)return 0;
if(D<0||n<0||D>=w||n>=i||_<0||b<0||_>=w||b>=i||N[n*w+D]!=-1||N[b*w+_]!=-1)return 1e7;var a=n*w+D<<2,o=b*w+_<<2,U=M[a]-M[o],V=M[a+1]-M[o+1],c=M[a+2]-M[o+2];
return 1+(U*U+V*V+c*c)};B.Oe.mr=function(D,n,_,b){return D>=0&&D<_&&n>=0&&n<b};B.Oe.a3h=function(D,n,_,b){var w=24*D,i=n[w],M=n[w+1],N=b*b,a=0,c=1e9;
while(_[a]!=99)if(n[w+_[a]]<_[a+1])a=_[a+2];else a=_[a+3];var o=_[a+1],U=_[a+2],V=-1;for(var k=o;k<=U;
k++){var a=k,E=a*24,A=n[E],Q=n[E+1];if((A-i)*(A-i)+(Q-M)*(Q-M)<N)continue;var J=B.Oe.getError(E,w,n,c);
if(J<c){c=J;V=a}}return V};B.Oe.getError=function(D,n,_,b){var w=0;for(var i=4;i<24;i+=4){var M=_[n+i]-_[D+i],N=_[n+i+1]-_[D+i+1],a=_[n+i+2]-_[D+i+2],o=_[n+i+3]-_[D+i+3];
w+=M*M+N*N+a*a+o*o;if(w>=b)return w+1}return w};B.Oe.G8=function(D,n,_,b,w){var i=16,c=0;if(n-D<=i){_.push(99,D,n);
return}B.Oe.t0(D,n,b,w);var M=-1,N=-1;for(var k=4;k<24;k++){var a=w[2*k+1]-w[2*k];if(a>N){N=a;M=k}}var o=D+n>>1,U=B.Oe.au8(o,D,n,b,M),V=-1;
for(var k=D;k<=n;k++)if(b[24*k+M]==U){if(V==-1)V=k;c=k}if(D+8<V&&V-D>n-c)o=V;else if(c+1<n-8)o=c+1;else if(n-D<64){_.push(99,D,n);
return}else o=o;var E=_.length;_.push(M,U,0,0);_[E+2]=E+4;B.Oe.G8(D,o-1,_,b,w);_[E+3]=_.length;B.Oe.G8(o,n,_,b,w)};
B.Oe.t0=function(D,n,_,b){for(var k=0;k<48;k+=4){b[k]=3e4;b[k+1]=-3e4;b[k+2]=3e4;b[k+3]=-3e4}for(var k=D;
k<=n;k++){var w=k*24;for(var i=0;i<24;i++){var M=_[w+i],N=b[i<<1],a=b[(i<<1)+1];if(M<N)b[i<<1]=M;if(M>a)b[(i<<1)+1]=M}}};
B.Oe.R6=function(D,n,_){var b=0,k=0;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;
k++;b=_[D+k];_[D+k]=_[n+k];_[n+k]=b;k++};B.Oe.Ny=function(D,n,_,b){var w=_+b>>>1,i=D[24*w+n];while(_<=b){while(D[24*_+n]<i)_++;
while(D[24*b+n]>i)b--;if(_<=b){if(D[24*_+n]!=D[24*b+n])B.Oe.R6(_*24,b*24,D);_++;b--}}return _};B.Oe.au8=function(D,n,_,b,w){var i=0;
while(n!=_){i=B.Oe.Ny(b,w,n,_);if(D<i)_=i-1;else n=i}return b[D*24+w]};B.Oe.nb=function(D,n,_,b){for(var k=0;
k<b;k++)n[_+k]=D[k]};B.Oe.ape=function(D,n,_,b,w,i,M,N,a){var o=(b-3)*w+(_-3),U=o<<2;for(var V=0;V<8;
V++){if(n[o]+n[o+1]+n[o+2]+n[o+3]+n[o+4]+n[o+5]+n[o+6]+n[o+7]!=0||D[U+3]<200||D[U+7]<200||D[U+11]<200||D[U+15]<200||D[U+19]<200||D[U+23]<200||D[U+27]<200||D[U+31]<200)return 1;
var k=V<<3;M[k+0]=D[U+0];N[k+0]=D[U+1];a[k+0]=D[U+2];M[k+1]=D[U+4];N[k+1]=D[U+5];a[k+1]=D[U+6];M[k+2]=D[U+8];
N[k+2]=D[U+9];a[k+2]=D[U+10];M[k+3]=D[U+12];N[k+3]=D[U+13];a[k+3]=D[U+14];M[k+4]=D[U+16];N[k+4]=D[U+17];
a[k+4]=D[U+18];M[k+5]=D[U+20];N[k+5]=D[U+21];a[k+5]=D[U+22];M[k+6]=D[U+24];N[k+6]=D[U+25];a[k+6]=D[U+26];
M[k+7]=D[U+28];N[k+7]=D[U+29];a[k+7]=D[U+30];U+=w<<2;o+=w}return 0};B.Oe.ZO=function(D,n){n[0]=D[32]+D[0];
n[1]=D[33]+D[1];n[2]=D[34]+D[2];n[3]=D[35]+D[3];n[4]=D[36]+D[4];n[5]=D[37]+D[5];n[6]=D[38]+D[6];n[7]=D[39]+D[7];
n[8]=D[40]+D[8];n[9]=D[41]+D[9];n[10]=D[42]+D[10];n[11]=D[43]+D[11];n[12]=D[44]+D[12];n[13]=D[45]+D[13];
n[14]=D[46]+D[14];n[15]=D[47]+D[15];n[16]=D[48]+D[16];n[17]=D[49]+D[17];n[18]=D[50]+D[18];n[19]=D[51]+D[19];
n[20]=D[52]+D[20];n[21]=D[53]+D[21];n[22]=D[54]+D[22];n[23]=D[55]+D[23];n[24]=D[56]+D[24];n[25]=D[57]+D[25];
n[26]=D[58]+D[26];n[27]=D[59]+D[27];n[28]=D[60]+D[28];n[29]=D[61]+D[29];n[30]=D[62]+D[30];n[31]=D[63]+D[31];
n[32]=D[0]-D[32];n[33]=D[1]-D[33];n[34]=D[2]-D[34];n[35]=D[3]-D[35];n[36]=D[4]-D[36];n[37]=D[5]-D[37];
n[38]=D[6]-D[38];n[39]=D[7]-D[39];n[40]=D[8]-D[40];n[41]=D[9]-D[41];n[42]=D[10]-D[42];n[43]=D[11]-D[43];
n[44]=D[12]-D[44];n[45]=D[13]-D[45];n[46]=D[14]-D[46];n[47]=D[15]-D[47];n[48]=D[16]-D[48];n[49]=D[17]-D[49];
n[50]=D[18]-D[50];n[51]=D[19]-D[51];n[52]=D[20]-D[52];n[53]=D[21]-D[53];n[54]=D[22]-D[54];n[55]=D[23]-D[55];
n[56]=D[24]-D[56];n[57]=D[25]-D[57];n[58]=D[26]-D[58];n[59]=D[27]-D[59];n[60]=D[28]-D[60];n[61]=D[29]-D[61];
n[62]=D[30]-D[62];n[63]=D[31]-D[63];D[0]=n[16]+n[0];D[1]=n[17]+n[1];D[2]=n[18]+n[2];D[3]=n[19]+n[3];
D[4]=n[20]+n[4];D[5]=n[21]+n[5];D[6]=n[22]+n[6];D[7]=n[23]+n[7];D[8]=n[24]+n[8];D[9]=n[25]+n[9];D[10]=n[26]+n[10];
D[11]=n[27]+n[11];D[12]=n[28]+n[12];D[13]=n[29]+n[13];D[14]=n[30]+n[14];D[15]=n[31]+n[15];D[16]=n[0]-n[16];
D[17]=n[1]-n[17];D[18]=n[2]-n[18];D[19]=n[3]-n[19];D[20]=n[4]-n[20];D[21]=n[5]-n[21];D[22]=n[6]-n[22];
D[23]=n[7]-n[23];D[24]=n[8]-n[24];D[25]=n[9]-n[25];D[26]=n[10]-n[26];D[27]=n[11]-n[27];D[28]=n[12]-n[28];
D[29]=n[13]-n[29];D[30]=n[14]-n[30];D[31]=n[15]-n[31];n[0]=D[8]+D[0];n[1]=D[9]+D[1];n[2]=D[10]+D[2];
n[3]=D[11]+D[3];n[4]=D[12]+D[4];n[5]=D[13]+D[5];n[6]=D[14]+D[6];n[7]=D[15]+D[7];n[8]=D[0]-D[8];n[9]=D[1]-D[9];
n[10]=D[2]-D[10];n[11]=D[3]-D[11];n[12]=D[4]-D[12];n[13]=D[5]-D[13];n[14]=D[6]-D[14];n[15]=D[7]-D[15];
D[0]=n[4]+n[0];D[1]=n[5]+n[1];D[2]=n[6]+n[2];D[3]=n[7]+n[3];D[4]=n[0]-n[4];D[5]=n[1]-n[5];D[6]=n[2]-n[6];
D[7]=n[3]-n[7];D[8]=n[12]+n[8];D[9]=n[13]+n[9];D[10]=n[14]+n[10];D[11]=n[15]+n[11];D[12]=n[8]-n[12];
D[13]=n[9]-n[13];D[14]=n[10]-n[14];D[15]=n[11]-n[15];n[0]=D[2]+D[0];n[1]=D[3]+D[1];n[2]=D[0]-D[2];n[3]=D[1]-D[3];
n[4]=D[6]+D[4];n[5]=D[7]+D[5];n[6]=D[4]-D[6];n[7]=D[5]-D[7];n[8]=D[10]+D[8];n[9]=D[11]+D[9];n[10]=D[8]-D[10];
n[11]=D[9]-D[11];n[12]=D[14]+D[12];n[13]=D[15]+D[13];n[14]=D[12]-D[14];n[15]=D[13]-D[15];D[0]=n[1]+n[0];
D[1]=n[0]-n[1];D[2]=n[3]+n[2];D[3]=n[2]-n[3];D[4]=n[5]+n[4];D[5]=n[4]-n[5];D[6]=n[7]+n[6];D[7]=n[6]-n[7];
D[8]=n[9]+n[8];D[9]=n[8]-n[9];D[10]=n[11]+n[10];D[11]=n[10]-n[11];D[12]=n[13]+n[12];D[13]=n[12]-n[13];
D[14]=n[15]+n[14];D[15]=n[14]-n[15]};B.Oe.akg=function(){var D="",cQ=64,n="v",_="t",b="a",w=5,k,i,M;
for(k=cQ>>1;k>0;k>>=1,w--){for(i=0;i<cQ;i++){M=(i>>w&1)!=0;if(M){D+=_+"["+i+"] = "+n+"["+(-k+i)+"] - "+n+"["+i+"];  "}else{D+=_+"["+i+"] = "+n+"["+(k+i)+"] + "+n+"["+i+"];  "}}b=n;
n=_;_=b;D+="\n"}console.log(D)};B.Oe.acc=function(cQ,D,n){var _=D,b=n,w=_,i=0,k,N,a;while(cQ>>i!=2)i++;
var M=i;for(k=cQ>>1;k>0;k>>=1,i--){for(N=0;N<cQ;N++){a=(N>>i&1)!=0;if(a)b[N]=_[-k+N]-_[N];else b[N]=_[k+N]+_[N]}w=_;
_=b;b=w}if((M&1)==1)for(k=0;k<cQ;k++)n[k]=_[k]};B.zN={};B.zN.R0=function(D,n,_,b,w,i,M,N,a){var o=Date.now(),U=new Uint32Array(D.buffer),V=new Uint32Array(n.buffer),c=M/_,E=N/b,A=1/c,Q=1/E,J=new Float64Array(2),L=3,P=1/L,u=1/(L*L),m=0,x=0,v=_,W=b;
if(w){m=w.x;x=w.y;v=w.l;W=w.e}for(var Z=0;Z<W;Z++)for(var r=0;r<v;r++){var X=m+r,$=x+Z,k=$*_+X,I=k<<1,T=k<<2;
B.zN.aaJ(i,M,N,(X+.5)*c,($+.5)*E,J);var e=J[0]*A,F=J[1]*Q;if(e==0&&F==0)V[k]=U[k];else{B.N.Tu(X+e+.5,$+F+.5,U,_,b,V,k,a)}}};
B.zN.aaJ=function(D,n,_,b,w,i){b-=.499999;w-=.499999;var M=~~b,N=~~w,a=b-M,o=w-N,U=(1-o)*(1-a),V=(1-o)*a,c=o*(1-a),E=o*a,A=M<n-1?M+1:M,Q=N<_-1?N+1:N,J=N*n+M<<1,L=N*n+A<<1,P=Q*n+M<<1,u=Q*n+A<<1;
i[0]=U*D[J]+V*D[L]+c*D[P]+E*D[u];i[1]=U*D[J+1]+V*D[L+1]+c*D[P+1]+E*D[u+1]};B.zN.a7X=function(D,n,_,b,w){var i=1/D,M=[-1,1,-D,D],N=b.length;
for(var a=0;a<N;a++){var k=b[a],o=k<<1,U=a<<1,V=~~(k*i),c=k-D*V,E=_[o],A=_[o+1],Q=0,J=0;if(c!=0&&c!=D-1){var L=k-1<<1,P=k+1<<1,u=_[L],m=_[P],x=_[L+1],v=_[P+1],W=E-(u+m)*.5,Z=A-(x+v)*.5;
Q-=W*w;J-=Z*w}if(V!=0&&V!=n-1){var L=k-D<<1,P=k+D<<1,u=_[L],m=_[P],x=_[L+1],v=_[P+1],W=E-(u+m)*.5,Z=A-(x+v)*.5;
Q-=W*w;J-=Z*w}_[o]=E+Q;_[o+1]=A+J}};B.zN.apT=function(D,n){var _=D+","+n;if(B.zN.Mc==_)return B.zN.Et;
var b=B.zN.Et=[];B.zN.Mc=_;for(var k=0;k<=1e3;k++){var w=k*.001,i=Math.sqrt(w),M=Math.exp(-4*i),N=.96*(1-i*i),a=n*((1-D)*M+D*N);
b[k]=a}return b};B.zN.Mc="";B.zN.Et=[];B.zN.ajF=function(D,n,_,b,w,i,M,N,a,o,U,V,c){var E=Math.max(0,Math.floor(w-M-1)),A=Math.min(n,Math.ceil(w+M+1)),Q=Math.max(0,Math.floor(i-M-1)),J=Math.min(_,Math.ceil(i+M+1)),L=2*n,P=M*M,u=1/M,m=0;
if(c&&(b==3||b==6))a=-a;var x=B.zN.apT(N,a);for(var v=Q;v<J;v++)for(var W=E;W<A;W++){var k=v*n+W,Z=k<<1,r=(w-W)*u,X=(i-v)*u,$=r*r+X*X;
if($<1){V[m]=k;var I=x[~~($*1e3)];if(b==1){D[Z]=D[Z]*(1-I*.05);D[Z+1]=D[Z+1]*(1-I*.05)}else{var T=0,e=0,h,Y,K,z;
if(b==0){T=o*I;e=U*I}else if(b==2){}else if(b==3){T=I*X;e=-I*r}else if(b==4){T=I*r;e=I*X}else if(b==5){T=-I*r;
e=-I*X}else if(b==6){T=U*I;e=-o*I}var F=D[Z],y=D[Z+1];if(W==0||W!=n-1&&T<0){h=1+D[Z+2]-F;K=D[Z+3]-y}else{h=F-D[Z-2]+1;
K=y-D[Z-1]}if(v==0||v!=_-1&&e<0){Y=D[Z+L]-F;z=1+D[Z+L+1]-y}else{Y=F-D[Z-L];z=y-D[Z-L+1]+1}D[Z]=-(h*T+Y*e-F);
D[Z+1]=-(K*T+z*e-y)}m++}}};B.zN.a8H=function(D){var n=D[0],_=D[0],b=D[1],w=D[1];for(var k=0;k<D.length;
k+=2){var i=D[k],M=D[k+1];if(i<n)n=i;else if(i>_)_=i;if(M<b)b=M;else if(M>w)w=M}return[n,b,_,w]};B.aqb=function(D,n,_,b,w){function i(R,fR,j4,cP){return Math.sqrt((R-j4)*(R-j4)+(fR-cP)*(fR-cP))}function M(R,fR){return R>=0&&R<n&&fR>=0&&fR<_}function N(R){if(R<0)return 0;
if(R>=n)return n-1;return R}function a(R){if(R<0)return 0;if(R>=_)return _-1;return R}function o(k,R){var fR=R[3]*(1/255),j4=b[k]+R[0]*fR;
if(j4>255)j4=255;b[k]=j4;j4=b[k+1]+R[1]*fR;if(j4>255)j4=255;b[k+1]=j4;j4=b[k+2]+R[2]*fR;if(j4>255)j4=255;
b[k+2]=j4}function U(R,fR,j4){if(!f(R,fR))return;if(j4[3]<0)j4[3]=0;o((fR*n+R)*4,j4)}function V(R){var fR=R.slice(0,3);
fR[3]=0;return fR}var c=n/800;function E(R){return Math.round(R*c)}function A(){for(var k=0;k<=300;k++){l[k]=Q(k)}}function Q(_){var R=.8,fR=.2,j4=R*fR,cP=_/60%2-1,a8=j4*(1-cP*cP),d0=fR-j4,b9;
if(_<60){b9=[j4+d0,a8,0]}else if(_<120){b9=[a8,j4,0]}else if(_<180){b9=[0,j4,a8]}else if(_<240){b9=[0,a8,j4]}else if(_<300){b9=[a8,0,j4]}else{b9=[j4,0,a8]}return[(b9[0]+d0)*255,(b9[1]+d0)*255,(b9[2]+d0)*255]}function J(_){return l[~~_]}function L(R){return 1-P(R)}function P(R){return R-~~R}function u(R,fR,j4,cP){K(R,fR,j4,0,fR+1,1,cP)}function m(R,fR,j4,cP,a8,d0){K(R,fR,j4,0,cP,1,a8,d0)}function x(R){for(var k=0;
k<b.length;k+=4){o(k,R)}}function v(R,fR,j4,cP,a8,d0,b9,jG){W(R,fR,j4,cP,a8,1,d0,b9,jG)}function W(R,fR,j4,cP,a8,d0,b9,jG,jP){if(d0==null)d0=.5;
if(b9==null)b9=0;if(jG==null)jG=0;if(jP==null)jP=!1;var aq=R.x,gM=R.y,gv=j4.slice(0),dT=~~(j4[3]*H);
cP=cP*H;if(!jP){fR=z(fR);a8=z(a8);b9=z(b9);jG=z(jG)}var aC=N(aq-fR),c1=N(aq+fR);for(var aj=aC;aj<=c1;
aj++){var cy=aj-aq,co=Math.floor(Math.sqrt(fR*fR-cy*cy)),hV=a(gM-co),il=a(gM);for(var h6=hV;h6<=il;h6++){var c8=i(aj,h6,aq,gM);
if(c8>fR||c8<=fR-a8)break;var fx=(c8-fR+a8)/a8;gv[3]=dT-cP*(d0==1?fx:Math.pow(fx,d0));o((h6*n+aj)*4,gv)}hV=a(gM+co);
for(var h6=hV;h6>il;h6--){var c8=i(aj,h6,aq,gM);if(c8>fR||c8<=fR-a8)break;var fx=(c8-fR+a8)/a8;gv[3]=dT-cP*(d0==1?fx:Math.pow(fx,d0));
o((h6*n+aj)*4,gv)}}if(b9>0){K(R,fR+b9,gv,gv[3],b9,1,0,0,!0)}if(jG>0){K(R,fR-a8,s(j4),-j4[3],jG,1,0,0,!0)}}function Z(R,fR,j4,cP,a8,d0){K(R,fR,j4,j4[3],fR+1,1,cP,a8,d0)}function r(R,fR,j4,cP,a8){if(a8==null)a8=!1;
var d0=R.x,b9=R.y;cP*=H;if(!a8){fR=z(fR);j4=z(j4)}var jG=N(d0-fR),jP=N(d0+fR);for(var aq=jG;aq<jP;aq++){var gM=aq-d0,gv=~~Math.sqrt(fR*fR-gM*gM),dT=a(b9-gv),aC=a(b9);
for(var c1=dT;c1<=aC;c1++){var aj=i(aq,c1,d0,b9);if(aj>fR||aj<=fR-j4)break;var co=(fR-aj)/j4,hV=J(300*co);
hV[3]=cP;o((c1*n+aq)*4,hV)}dT=a(b9+gv);for(var c1=dT;c1>aC;c1--){var aj=i(aq,c1,d0,b9);if(aj>fR||aj<=fR-j4)break;
var co=(fR-aj)/j4,hV=J(300*co);hV[3]=cP;o((c1*n+aq)*4,hV)}}}function X(g,R){var fR=g.hn,j4=g.a7,cP=R.slice(0),a8=R[3]*H,d0=Math.abs(j4.y-fR.y)>Math.abs(j4.x-fR.x);
if(d0){var b9=fR.x;fR.x=fR.y;fR.y=b9;b9=j4.x;j4.x=j4.y;j4.y=b9}if(fR.x>j4.x){var b9=fR;fR=j4;j4=b9}var jG=j4.x-fR.x,jP=j4.y-fR.y,aq=jG==0?1:jP/jG,gM=Math.round(fR.x),gv=fR.y+aq*(gM-fR.x),dT=L(fR.x+.5),aC=gM,c1=~~gv;
if(d0){cP[3]=a8*L(gv)*dT;U(c1,aC,cP);cP[3]=a8*P(gv)*dT;U(c1+1,aC,cP)}else{cP[3]=a8*L(gv)*dT;U(aC,c1,cP);
cP[3]=a8*P(gv)*dT;U(aC,c1+1,cP)}var aj=gv-aq;gM=Math.round(j4.x);gv=j4.y+aq*(gM-j4.x);dT=P(j4.x+.5);
var bD=gM,cy=~~gv;if(d0){cP[3]=a8*L(gv)*dT;U(cy,bD,cP);cP[3]=a8*P(gv)*dT;U(cy+1,bD,cP)}else{cP[3]=a8*L(gv)*dT;
U(bD,cy,cP);cP[3]=a8*P(gv)*dT;U(bD,cy+1,cP)}if(d0){for(var co=aC+1;co<=bD-1;co++){cP[3]=a8*L(aj);U(~~aj,co,cP);
cP[3]=a8*P(aj);U(~~aj+1,co,cP);aj+=aq}}else{for(var co=aC+1;co<=bD-1;co++){cP[3]=a8*L(aj);U(co,~~aj,cP);
cP[3]=a8*P(aj);U(co,~~aj+1,cP);aj+=aq}}}function $(R,fR,j4,cP){for(var k=0;k<4;k++){var a8=R.nv(fR+1.3*k,j4);
X(a8,cP,1)}}function gZ(R,fR){this.x=Math.round(R);this.y=Math.round(fR)}var I=Math.PI/180;gZ.prototype.nv=function(R,fR){R=R*I;
var j4=this.x+fR*Math.cos(R),cP=this.y+fR*Math.sin(R);return new T(this.x,this.y,j4,cP)};gZ.prototype.a4W=function(R,fR){R=R*I;
var j4=this.cG+fR*Math.cos(R),cP=this.ahl+fR*Math.sin(R);return new gZ(j4,cP)};function T(R,fR,j4,cP){this.hn=new gZ(R,fR);
this.a7=new gZ(j4,cP)}T.prototype.LM=function(R){var fR=R*this.hn.x+(1-R)*this.a7.x,j4=R*this.hn.y+(1-R)*this.a7.y;
return new gZ(fR,j4)};var e=v,F=Z,y=u,h=m,Y=r,K=W,z=E,f=M,s=V,l=[];A();for(var k=0;k<D.length;k++){b[k]=D[k]}var g=new T(n*w[2],_*w[3],n/2,_/2),H=w[1],O=[];
O[0]=function C(){var R=[80,40,15,60],j4=0,cP=0;y(g.LM(1.4),260,R,10);y(g.LM(1),100,[240,50,50,30],30);
F(g.LM(1),60,[255,40,0,40]);var fR=[255,255,255,255];K(g.LM(1),70,fR,fR[3],58,.5);y(g.LM(1),12,fR);fR[3]=40;
e(g.LM(1),150,fR,fR[3],150);for(var k=0;k<40;k++){j4+=Math.random()*25;cP=Math.random()*z(300)+z(100);
var a8=g.LM(1).nv(j4,cP);X(g.LM(1).nv(j4,cP),[110,110,110,30])}F(g.LM(1),130,[255,255,255,8]);var d0=[170,30,23,70];
h(g.LM(1),70,d0,1,3,3);var b9=[60,60,130,40];y(g.LM(.47),44,b9,5);y(g.LM(.43),22,b9,3);b9[3]=16;y(g.LM(.53),15,b9,2);
var jG=[138,94,42,100];y(g.LM(.2),16,jG,2);var jP=[130,255,170,180];F(g.LM(0),4,jP);F(g.LM(-.25),5,jP);
jG=[150,90,0,50];e(g.LM(-.45),55,s(jG),-jG[3],40,2);y(g.LM(-.42),35,jG,2);y(g.LM(-.5),15,jG,2);Y(g.LM(-1.28),145,11,70);
var aq=J(0);aq[3]=50;e(g.LM(-1.28),149,aq,aq[3],4);aq=J(300);aq[3]=50;e(g.LM(-1.28),155-1,s(aq),-aq[3],3);
var gM=[130,130,10,50];h(g.LM(-1),73,gM,3,2);var gv=[40,130,70,40];e(g.LM(-1),70,s(gv),-gv[3],35);gv=[40,170,60,50];
y(g.LM(-.7),25,gv,4);var gv=[70,110,50,60];e(g.LM(1.3),30,s(gv),-gv[3],11,3);b9=[0,50,210,80];F(g.LM(-.72),20,b9)};
O[1]=function ib(){F(g.LM(1),150,[240,70,70,60]);y(g.LM(1),100,[200,60,60,40],30);var R=[255,255,255,255],fR=0,j4=0;
K(g.LM(1),75,R,R[3],63);y(g.LM(1),12,R);F(g.LM(1),270,[200,200,200,20],10);for(var k=0;k<10;k++){fR+=10+Math.random()*40;
j4=Math.random()*z(250)+z(80);var cP=g.LM(1).nv(fR,j4);X(cP,[110,110,110,35])}fR=5;j4=100;for(var k=0;
k<12;k++){fR+=30;$(g.LM(1),fR,j4,[90,90,90,40])}var a8=[150,40,23,100];h(g.LM(1),70,a8,1,3,3);var d0=[30,100,60,40];
F(g.LM(-.9),180,[255,255,255,20]);y(g.LM(-.9),140,d0,15);var b9=[170,80,25,15];h(g.LM(-.9),120,b9,1,4,4);
var jG=[110,240,190,200];F(g.LM(-.6),3,jG);jG[3]=100;F(g.LM(-.6),7,jG);var jP=[230,120,40,85];F(g.LM(-.73),9,jP);
var aq=[60,60,190,50];y(g.LM(.3),28,aq,6);aq[3]=25;y(g.LM(.34),20,aq,3)};O[2]=function hH(){var R=[255,255,255,255],j4=0,cP=0;
y(g.LM(1),13,R);K(g.LM(1),150,R,R[3],137);var fR=[120,80,35,20];y(g.LM(1.4),260,fR,10);for(var k=0;k<40;
k++){j4+=5+Math.random()*30;cP=Math.random()*z(300);X(g.LM(1).nv(j4,cP),[110,110,110,20])}var a8=[10,30,255,30];
y(g.LM(1),70,a8,50);var d0=[15,90,170,15];y(g.LM(1.5),60,d0);var b9=[220,220,20,50];y(g.LM(-1.15),8,b9,2);
var R=[255,255,255,40];F(g.LM(-1.18),6,R);F(g.LM(-1.18),4,R);b9=[110,110,10,8];e(g.LM(-1.2),32,s(b9),-b9[3],20,3);
var jG=[5,0,16,255];for(var k=0;k<4;k++){y(g.LM(-1.36),10,jG,3)}var jP=[90,200,150,20],aq=jP.slice(0);
aq[3]*=2;y(g.LM(-1.32),7,aq,3);y(g.LM(-1.36),7,aq,3);y(g.LM(-1.4),7,aq,3);var R=[230,230,230,100];F(g.LM(-1.36),2,R);
R[3]=3;y(g.LM(-.55),10,R);b9=[120,100,10,18];y(g.LM(-.55),160,b9,8);y(g.LM(-.55),80,b9,4);jP[3]=3;aq[3]=6;
e(g.LM(-.49),13,s(aq),-aq[3],13,2);e(g.LM(-.55),13,s(aq),-aq[3],13,2);jP[3]=20;y(g.LM(.15),25,jP,3);
b9[3]=100;F(g.LM(-.52),3,b9);b9=[200,200,50,40];y(g.LM(.27),1,b9,4);var gM=[150,40,23,30];e(g.LM(1),80,s(gM),-gM[3],2,1)};
return O[w[0]]()};B.Ox={};B.Ox.V4=function(D){var n=D.length,cQ=D[0].length,_=new Array(cQ);for(var k=0;
k<cQ;k++)_[k]=new Array(n);for(var k=0;k<cQ;k++)for(var b=0;b<n;b++)_[k][b]=D[b][k];return _};B.Ox.mG=function(D,n){var _=D.length,cQ=D[0].length,b=new Array(_);
for(var k=0;k<_;k++)b[k]=new Array(cQ);for(var k=0;k<_;k++)for(var w=0;w<cQ;w++)b[k][w]=D[k][w]-n[k][w];
return b};B.Ox.add=function(D,n){var _=D.length,cQ=D[0].length,b=new Array(_);for(var k=0;k<_;k++)b[k]=new Array(cQ);
for(var k=0;k<_;k++)for(var w=0;w<cQ;w++)b[k][w]=D[k][w]+n[k][w];return b};B.Ox.multiply=function(D,n){var _=D.length,b=D[0].length,cQ=n[0].length;
if(b!=n.length)throw"e";var w=new Array(_);for(var k=0;k<_;k++)w[k]=new Array(cQ);if((b&1)!=0)for(var k=0;
k<_;k++){var i=D[k],M=w[k];for(var N=0;N<cQ;N++){var a=0;for(var o=0;o<b;o++)a+=i[o]*n[o][N];M[N]=a}}else for(var k=0;
k<_;k++){var i=D[k],M=w[k];for(var N=0;N<cQ;N++){var a=0;for(var o=0;o<b;o+=2)a+=i[o]*n[o][N]+i[o+1]*n[o+1][N];
M[N]=a}}return w};B.Ox.ZV=function(D,n){var _=D.length,cQ=D[0].length,b=new Array(_);for(var k=0;k<_;
k++){var w=0;for(var i=0;i<cQ;i++)w+=D[k][i]*n[i];b[k]=w}return b};B.Ox.Tp=function(D,n){var _=[];for(var k=0;
k<D;k++){_.push([]);for(var b=0;b<n;b++)_[k].push(0)}return _};B.Ox.aoc=function(D){for(var k=0;k<D.length;
k++)console.log(JSON.stringify(D[k]))};B.Ox.an_=function(D){var n=[];for(var k=0;k<D.length;k++)n.push(D[k].join(","));
return"["+n.join(";")+"]"};B.Ox.U4=function(D,n){var _=D.length;for(var b=0;b<_;b++){var w=0,i=Number.NEGATIVE_INFINITY;
for(var k=b;k<_;k++)if(Math.abs(D[k][b])>i){w=k;i=Math.abs(D[k][b])}B.Ox.a86(D,b,w);for(var k=b+1;k<_;
k++){if(D[b][b]==0)return 1;var M=D[k][b]/D[b][b];for(var N=b;N<_+1;N++)D[k][N]-=D[b][N]*M}}for(var k=_-1;
k>=0;k--){if(D[k][k]==0)return 1;var a=D[k][_]/D[k][k];n[k]=a;for(var N=k-1;N>=0;N--){D[N][_]-=D[N][k]*a;
D[N][k]=0}}return 0};B.Ox.a86=function(D,n,_){var b=D[n];D[n]=D[_];D[_]=b};B.Ox.agX=function(D){var n=D.length,_=B.Ox.Tp(n,n);
for(var k=0;k<n;k++)_[k][k]=D[k];return _};B.Ox.a4Z=function(D){var n=D.length,_=D[0].length,b=new Array(n);
for(var k=0;k<n;k++){b[k]=0;for(var w=0;w<_;w++)b[k]+=D[k][w];b[k]/=_}return b};B.Ox.FU=function(D){var n=0;
for(var k=0;k<D.length;k++)n+=D[k]*D[k];return Math.sqrt(n)};B.dl={};B.dl.gQ=function(D){var n=~~(D+.5);
return n<0?0:n>255?255:n};B.dl.transform=function(D,n,_){var b=B.dl.gQ,w=D.p.length;for(var k=0;k<w;
k++){var i=D.p[k],M=D.z[k],N=D.S[k];n.p[k]=b(_[0]*i+_[1]*M+_[2]*N+_[3]*255);n.z[k]=b(_[4]*i+_[5]*M+_[6]*N+_[7]*255);
n.S[k]=b(_[8]*i+_[9]*M+_[10]*N+_[11]*255)}};B.dl.g8=function(D,n,_){var b=B.dl.gQ,w=D.length;for(var k=0;
k<w;k+=4){var i=D[k],M=D[k+1],N=D[k+2];n[k]=b(_[0]*i+_[1]*M+_[2]*N+_[3]*255);n[k+1]=b(_[4]*i+_[5]*M+_[6]*N+_[7]*255);
n[k+2]=b(_[8]*i+_[9]*M+_[10]*N+_[11]*255)}};B.dl.Ag=function(D){var n=D[0]+D[1]+D[2],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(n==1){var b=D.indexOf(1);_[b]=_[b+4]=_[b+8]=1}else{_[0]=D[0];_[5]=D[1];_[10]=D[2]}return _};B.dl.rC=function(D,n,_){return[1,0,0,D,0,1,0,n,0,0,1,_,0,0,0,1]};
B.dl.VO=function(D,n,_){return[D,0,0,0,0,n,0,0,0,0,_,0,0,0,0,1]};B.dl.a6S=function(D){return[D[0],D[1],D[2],D[4],D[5],D[6],D[8],D[9],D[10]]};
B.dl.kO=function(D){return[D[0],D[1],D[2],0,D[3],D[4],D[5],0,D[6],D[7],D[8],0,0,0,0,1]};B.dl.$F=function(D,n){return[D[0]*n[0]+D[1]*n[1]+D[2]*n[2]+D[3]*n[3],D[4]*n[0]+D[5]*n[1]+D[6]*n[2]+D[7]*n[3],D[8]*n[0]+D[9]*n[1]+D[10]*n[2]+D[11]*n[3],D[12]*n[0]+D[13]*n[1]+D[14]*n[2]+D[15]*n[3]]};
B.dl.V4=function(D){var n=[];n[0]=D[0];n[1]=D[4];n[2]=D[8];n[3]=D[12];n[4]=D[1];n[5]=D[5];n[6]=D[9];
n[7]=D[13];n[8]=D[2];n[9]=D[6];n[10]=D[10];n[11]=D[14];n[12]=D[3];n[13]=D[7];n[14]=D[11];n[15]=D[15];
return n};B.dl.add=function(D,n){var _=D.slice(0);for(var k=0;k<16;k++)_[k]+=n[k];return _};B.dl.multiply=function(D,n){var _=[];
_[0]=D[0]*n[0]+D[1]*n[4]+D[2]*n[8]+D[3]*n[12];_[1]=D[0]*n[1]+D[1]*n[5]+D[2]*n[9]+D[3]*n[13];_[2]=D[0]*n[2]+D[1]*n[6]+D[2]*n[10]+D[3]*n[14];
_[3]=D[0]*n[3]+D[1]*n[7]+D[2]*n[11]+D[3]*n[15];_[4]=D[4]*n[0]+D[5]*n[4]+D[6]*n[8]+D[7]*n[12];_[5]=D[4]*n[1]+D[5]*n[5]+D[6]*n[9]+D[7]*n[13];
_[6]=D[4]*n[2]+D[5]*n[6]+D[6]*n[10]+D[7]*n[14];_[7]=D[4]*n[3]+D[5]*n[7]+D[6]*n[11]+D[7]*n[15];_[8]=D[8]*n[0]+D[9]*n[4]+D[10]*n[8]+D[11]*n[12];
_[9]=D[8]*n[1]+D[9]*n[5]+D[10]*n[9]+D[11]*n[13];_[10]=D[8]*n[2]+D[9]*n[6]+D[10]*n[10]+D[11]*n[14];_[11]=D[8]*n[3]+D[9]*n[7]+D[10]*n[11]+D[11]*n[15];
_[12]=D[12]*n[0]+D[13]*n[4]+D[14]*n[8]+D[15]*n[12];_[13]=D[12]*n[1]+D[13]*n[5]+D[14]*n[9]+D[15]*n[13];
_[14]=D[12]*n[2]+D[13]*n[6]+D[14]*n[10]+D[15]*n[14];_[15]=D[12]*n[3]+D[13]*n[7]+D[14]*n[11]+D[15]*n[15];
return _};B.dl.ei=function(D){var n=[];n[0]=D[5]*D[10]*D[15]-D[5]*D[14]*D[11]-D[6]*D[9]*D[15]+D[6]*D[13]*D[11]+D[7]*D[9]*D[14]-D[7]*D[13]*D[10];
n[1]=-D[1]*D[10]*D[15]+D[1]*D[14]*D[11]+D[2]*D[9]*D[15]-D[2]*D[13]*D[11]-D[3]*D[9]*D[14]+D[3]*D[13]*D[10];
n[2]=D[1]*D[6]*D[15]-D[1]*D[14]*D[7]-D[2]*D[5]*D[15]+D[2]*D[13]*D[7]+D[3]*D[5]*D[14]-D[3]*D[13]*D[6];
n[3]=-D[1]*D[6]*D[11]+D[1]*D[10]*D[7]+D[2]*D[5]*D[11]-D[2]*D[9]*D[7]-D[3]*D[5]*D[10]+D[3]*D[9]*D[6];
n[4]=-D[4]*D[10]*D[15]+D[4]*D[14]*D[11]+D[6]*D[8]*D[15]-D[6]*D[12]*D[11]-D[7]*D[8]*D[14]+D[7]*D[12]*D[10];
n[5]=D[0]*D[10]*D[15]-D[0]*D[14]*D[11]-D[2]*D[8]*D[15]+D[2]*D[12]*D[11]+D[3]*D[8]*D[14]-D[3]*D[12]*D[10];
n[6]=-D[0]*D[6]*D[15]+D[0]*D[14]*D[7]+D[2]*D[4]*D[15]-D[2]*D[12]*D[7]-D[3]*D[4]*D[14]+D[3]*D[12]*D[6];
n[7]=D[0]*D[6]*D[11]-D[0]*D[10]*D[7]-D[2]*D[4]*D[11]+D[2]*D[8]*D[7]+D[3]*D[4]*D[10]-D[3]*D[8]*D[6];n[8]=D[4]*D[9]*D[15]-D[4]*D[13]*D[11]-D[5]*D[8]*D[15]+D[5]*D[12]*D[11]+D[7]*D[8]*D[13]-D[7]*D[12]*D[9];
n[9]=-D[0]*D[9]*D[15]+D[0]*D[13]*D[11]+D[1]*D[8]*D[15]-D[1]*D[12]*D[11]-D[3]*D[8]*D[13]+D[3]*D[12]*D[9];
n[10]=D[0]*D[5]*D[15]-D[0]*D[13]*D[7]-D[1]*D[4]*D[15]+D[1]*D[12]*D[7]+D[3]*D[4]*D[13]-D[3]*D[12]*D[5];
n[11]=-D[0]*D[5]*D[11]+D[0]*D[9]*D[7]+D[1]*D[4]*D[11]-D[1]*D[8]*D[7]-D[3]*D[4]*D[9]+D[3]*D[8]*D[5];n[12]=-D[4]*D[9]*D[14]+D[4]*D[13]*D[10]+D[5]*D[8]*D[14]-D[5]*D[12]*D[10]-D[6]*D[8]*D[13]+D[6]*D[12]*D[9];
n[13]=D[0]*D[9]*D[14]-D[0]*D[13]*D[10]-D[1]*D[8]*D[14]+D[1]*D[12]*D[10]+D[2]*D[8]*D[13]-D[2]*D[12]*D[9];
n[14]=-D[0]*D[5]*D[14]+D[0]*D[13]*D[6]+D[1]*D[4]*D[14]-D[1]*D[12]*D[6]-D[2]*D[4]*D[13]+D[2]*D[12]*D[5];
n[15]=D[0]*D[5]*D[10]-D[0]*D[9]*D[6]-D[1]*D[4]*D[10]+D[1]*D[8]*D[6]+D[2]*D[4]*D[9]-D[2]*D[8]*D[5];var _=D[0]*n[0]+D[1]*n[4]+D[2]*n[8]+D[3]*n[12];
for(var k=0;k<16;k++)n[k]/=_;return n};B.dl.aso=function(D){var n=[],_=D[5]*D[10]*D[15]-D[5]*D[14]*D[11]-D[6]*D[9]*D[15]+D[6]*D[13]*D[11]+D[7]*D[9]*D[14]-D[7]*D[13]*D[10],b=-D[4]*D[10]*D[15]+D[4]*D[14]*D[11]+D[6]*D[8]*D[15]-D[6]*D[12]*D[11]-D[7]*D[8]*D[14]+D[7]*D[12]*D[10],w=D[4]*D[9]*D[15]-D[4]*D[13]*D[11]-D[5]*D[8]*D[15]+D[5]*D[12]*D[11]+D[7]*D[8]*D[13]-D[7]*D[12]*D[9],i=-D[4]*D[9]*D[14]+D[4]*D[13]*D[10]+D[5]*D[8]*D[14]-D[5]*D[12]*D[10]-D[6]*D[8]*D[13]+D[6]*D[12]*D[9];
return D[0]*_+D[1]*b+D[2]*w+D[3]*i};B.dl.Re=B.dl.kO([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
B.dl.alU=B.dl.kO([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
B.dl.aee=B.dl.ei(B.dl.Re);B.Ae={};B.Ae.FG=new Uint32Array(1);B.Ae.Po=function(D,n,_,b,w,i){var M=new Uint32Array(D),N=0,a=B.Ae.FG;
if(a.length<n*4)B.Ae.FG=a=new Uint32Array(n*4);var o=new Float64Array(a.buffer);for(var k=0;k<n;k+=2){var U=w[k],V=w[k+1],c=i[k],E=i[k+1];
a[N]=V;o[N+2>>1]=c;a[N+1]=M[U];M[U]=N+1;N+=4;a[N]=U;o[N+2>>1]=E;a[N+1]=M[V];M[V]=N+1;N+=4}return{YA:a,aaW:o,acC:M}};
B.Ae.U4=function(D,n,_,b,w,i,M){var N=1,a=B.Ae.Po(D,n,_,b,w,i),o=a.YA,U=a.aaW,V=a.acC,c=new Uint32Array(D),E=new B.Ae.LB(D),Q=1,m=0;
E.push(_);E.push(b);var A=new B.Ae.LB(D),J=new Uint8Array(D),L=new Uint32Array(D);J[_]=1;J[b]=2;var P=new Uint32Array(D),u=new Uint32Array(D);
u[_]=u[b]=0;P[_]=P[b]=1;while(!0){var x=-1,I=0,y=1e30;while(!E.Ar()&&x==-1){var v=E.top(),W=J[v],Z=V[v]-1;
while(Z!=-1){var r=o[Z],X=J[r],$=Z^W-1<<2;if(U[$+2>>1]!=0){if(X==0){B.Ae.RM(v,Z,r,J,L,u,P);E.push(r)}else if(X==W&&P[r]<=P[v]&&u[r]>u[v])B.Ae.RM(v,Z,r,J,L,u,P);
else if(X!=W){x=$}}Z=o[Z+1]-1}if(x!=-1)break;E.pop()}if(x==-1){break}Q++;var T=x;while(T!=-1){c[I]=T;
I++;T=L[o[T^4]]-1}var e=I>>1;for(var k=0;k<e;k++){var F=c[k];c[k]=c[I-k-1];c[I-k-1]=F}T=L[o[x]]-1;while(T!=-1){c[I]=T^4;
I++;T=L[o[T^4]]-1}for(var k=0;k<I;k++)y=Math.min(y,U[c[k]+2>>1]);m+=y;if(m>=M)return{vT:null,Yf:m};for(var k=0;
k<I;k++){var h=c[k],Y=h^4,v=o[Y],r=o[h];U[h+2>>1]-=y;U[Y+2>>1]+=y;if(U[h+2>>1]==0&&J[v]==J[r]){if(J[v]==1){L[r]=0;
A.push(r)}if(J[v]==2){L[v]=0;A.push(v)}}}while(!A.Ar()){var v=A.pop(),W=J[v],Z=V[v]-1,K=W==1?4:0,z=0,f=0,s=1e9;
while(Z!=-1){var r=o[Z],l=Z^4,$=Z^K;if(J[r]==W&&U[$+2>>1]>0&&B.Ae.as8(r,_,b,L,o,Q,P,u)+1<s){z=r;f=l;
s=u[r]+1}Z=o[Z+1]-1}if(f!=0){B.Ae.RM(z,f,v,J,L,u,P);continue}Z=V[v]-1;while(Z!=-1){var r=o[Z],$=Z^K;
if(J[r]==W){if(U[$+2>>1]>0){E.push(r)}if(L[r]==Z+1){L[r]=0;A.push(r)}}Z=o[Z+1]-1}J[v]=0;E.remove(v)}}var g=[];
for(var k=0;k<n;k+=2){var v=w[k],r=w[k+1];if(J[v]==1&&J[r]!=1){g.push(k>>1)}if(J[r]==1&&J[v]!=1){g.push(n+k>>1)}}return{vT:g,Yf:m}};
B.Ae.RM=function(D,n,_,b,w,i,M){b[_]=b[D];w[_]=n+1;i[_]=i[D]+1;M[_]=M[D]};B.Ae.as8=function(D,n,_,b,w,i,M,N){var a=D,o=b[D]-1,U=0;
while(o!=-1&&M[D]!=i){D=w[o^4];o=b[D]-1;U++}if(o==-1&&D!=n&&D!=_)return 1e9;var V=N[D]+U;U=0;o=b[a]-1;
while(a!=D){N[a]=V-U;U++;M[a]=i;a=w[o^4];o=b[a]-1}return V};B.Ae.ajY=function(D,n,_,b,w,i){var M=B.Ae.Po(D,n,_,b,w,i),N=M.YA,a=M.aaW,o=M.acC,U=0,V=0,c=new Uint32Array(D*2),E=new B.Ae._R(D),A=0;
while(!0){E.reset();E.push(_);for(var k=0;k<D;k++)c[k<<1]=0;while(!E.Ar()){var Q=E.pop(),J=o[Q]-1;while(J!=-1){A=N[J];
if(c[A<<1]==0&&a[J+2>>1]>0&&A!=_){c[A<<1]=Q+1;c[(A<<1)+1]=J;E.push(A)}J=N[J+1]-1}if(c[b<<1]!=0){break}}if(c[b<<1]==0){break}var L=1e30;
A=b;while(!0){var P=c[A<<1]-1;if(P==-1)break;var u=c[(A<<1)+1];L=Math.min(L,a[u+2>>1]);A=P}A=b;while(!0){var P=c[A<<1]-1;
if(P==-1)break;var u=c[(A<<1)+1],m=u^4;a[u+2>>1]-=L;a[m+2>>1]+=L;A=P}U+=L}var x=[];for(var k=0;k<n;k+=2){var P=w[k],A=w[k+1];
if((c[P<<1]!=0||P==_)&&c[A<<1]==0&&A!=_){x.push(k>>1)}if((c[A<<1]!=0||A==_)&&c[P<<1]==0&&P!=_){x.push(n+k>>1)}}return{vT:x,Yf:U}};
B.Ae._R=function(D){D|=D>>1;D|=D>>2;D|=D>>4;D|=D>>8;D|=D>>16;this.xZ=new Uint32Array(D+1);this.HO=D;
this.aC=0;this.jI=0};B.Ae._R.prototype={push:function(D){var n=this.jI;this.xZ[n]=D;this.jI=n+1&this.HO},pop:function(){var D=this.aC,n=this.xZ[D];
this.aC=D+1&this.HO;return n},Ar:function(){return this.aC==this.jI},reset:function(){this.aC=0;this.jI=0}};
B.Ae.LB=function(D){D|=D>>1;D|=D>>2;D|=D>>4;D|=D>>8;D|=D>>16;this.xZ=new Uint32Array(D+1);this.Pb=new Uint32Array(D+1);
this.HO=D;this.aC=0;this.jI=0};B.Ae.LB.prototype={top:function(){return this.xZ[this.aC]},abl:function(){return this.xZ[this.jI]},push:function(D){if(this.Pb[D]!=0)return;
this.Pb[D]=this.jI+1;var n=this.jI;this.xZ[n]=D;this.jI=n+1&this.HO},pop:function(){var D=this.aC,n=this.xZ[D];
this.Pb[n]=0;this.aC=D+1&this.HO;return n},Ar:function(){return this.aC==this.jI},remove:function(D){var n=this.Pb[D]-1;
if(n==-1)return;this.Pb[D]=0;if(n==this.aC){this.pop();return}var _=this.pop();this.xZ[n]=_;this.Pb[_]=n+1},HE:function(k){return k+this.HO+1&this.HO}};
B.Ae.Dh=function(D,n,_){var b=B.Ae.Ny(D,n,_);if(n<b-1)B.Ae.Dh(D,n,b-1);if(b<_)B.Ae.Dh(D,b,_)};B.Ae.Ny=function(D,n,_){var b=D[n+_>>>1];
while(n<=_){while(D[n]<b)n++;while(D[_]>b)_--;if(n<=_){B.Ae.R6(D,n,_);n++;_--}}return n};B.Ae.R6=function(D,n,_){var b=D[n];
D[n]=D[_];D[_]=b};B.dd={};B.dd.a3W=function(D){for(var k=0;k<D.length;k++)B.dd.dU(D,k)};B.dd.dU=function(D,k){D[k].v.keyShapeInvalidated={t:"bool",v:!0}};
B.dd.ats=function(D){for(var k=0;k<D.length;k++)D[k].v.keyOriginIndex.v=k};B.dd.ae=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
B.dd.Ll=function(D){D=D.v;var n={Rctn:2,Ln:4,Elps:5},_=n[D.classID],b=D.topLeft?B.dd.b1(D):null,w=null,i=0,M=[!1,!1,0,0,0];
if(_==4){var N=D.Strt.v,a=D.End.v;w=[N.Hrzn.v.val,N.Vrtc.v.val,a.Hrzn.v.val,a.Vrtc.v.val];i=D.Wdth.v.val;
for(var k=0;k<2;k++){var o=D[k==0?"StrA":"EndA"];if(o==null)continue;o=o.v;M[k]=o.On.v;M[2]=o.Wdth.v;
M[3]=o.Lngt.v;M[4]=o.Cncv.v.val}}if(_==null)return null;return B.dd.TG(_,_==4?null:B.dd.gu(D),b,w,i,M)};
B.dd.vh=function(D,n,_,b,w,i,M){var N={classID:D,unitValueQuadVersion:{t:"long",v:1}};if(n)B.dd.Im(N,["Left","Top","Rght","Btom"],n);
if(_)B.dd.Im(N,["topLeft","topRight","bottomRight","bottomLeft"],_);if(D=="Ln"){N.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[1]}}}},N.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:b[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:b[3]}}}},N.Wdth={t:"UntF",v:{type:"#Pxl",val:w}};
for(var k=0;k<2;k++){var a=k==0?"StrA":"EndA";N[a]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:M[k]},Wdth:{t:"doub",v:M[2]},Lngt:{t:"doub",v:M[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:M[4]}}}}}}if(i)N.Nm={t:"TEXT",v:i};
return{t:"Objc",v:N}};B.dd.jt=function(D,n){var _=B.dd.iR(D),b=D[2]-D[0],w=D[3]-D[1],i=Math.sqrt(b*b+w*w),M=[0,0,i,0,i,n,0,n],N=new e3;
N.rotate(-_);N.translate(D[0],D[1]);B.H.A(M,N,M);return M};B.dd.TG=function(D,n,_,b,w,i){var M=B.dd.ae(),N=M.v,a;
delete N.keyShapeInvalidated;N.keyOriginType={t:"long",v:D};N.keyOriginResolution={t:"doub",v:75};if(D==4){N.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[0]},Vrtc:{t:"doub",v:b[1]}}};
N.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:b[2]},Vrtc:{t:"doub",v:b[3]}}};a=B.dd.jt(b,w);
var o=B.H.t0(a);n=[o.x,o.y,o.x+o.l,o.y+o.e];N.keyOriginLineWeight={t:"doub",v:w};if(i)B.dd.apJ(N,i)}else a=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];
N.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};B.dd.J_(N,"keyOriginBoxCorners",a);var U={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
N.keyOriginShapeBBox={t:"Objc",v:U};B.dd.cU(N,n);if(_!=null){var V={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
N.keyOriginRRectRadii={t:"Objc",v:V};B.dd.oA(N,_)}return M};B.dd.A=function(D,n,_,b){var w=B.N.gs(n),i=B.N.zV(n);
for(var k=0;k<D.length;k++){var M=D[k].v;if(!B.dd.Zv(M))continue;if(_.length!=0&&_.indexOf(k)==-1)continue;
var N=M.keyOriginType.v,a=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var o=0;o<a.length;
o++){var U=B.dd.fp(M,a[o]);if(U==null)continue;B.N.A(n,U);B.dd.J_(M,a[o],U);var V=B.H.t0(U);B.dd.cU(M,[V.x,V.y,V.x+V.l,V.y+V.e]);
var c=new e3;c.rotate(-B.dd.iR(U));var E={classID:"Trnf"};M.Trnf={t:"Objc",v:E};var A="xx xy yx yy tx ty".split(" "),Q=[c.vd,c.S,c.jo,c.Ww,c.oE,c.LE];
for(var J=0;J<6;J++)E[A[J]]={t:"doub",v:Q[J]}}var U=B.dd.fp(M,"keyOriginBoxCorners"),L=U[2]-U[0],P=U[3]-U[1],u=Math.sqrt(L*L+P*P);
L/=u;P/=u;var m=U[6]-U[0],x=U[7]-U[1],v=Math.sqrt(m*m+x*x);m/=v;x/=v;if(N==4){M.keyOriginLineWeight.v=v;
var W=B.dd.yd(M);B.N.A(n,W);B.dd.agc(M,W)}var Z=L*m+P*x;if(Math.abs(Z)>.001){B.dd.dU(D,k)}}};B.dd.Zv=function(D){var n=D.keyShapeInvalidated,_=D.keyOriginType;
return(n==null||!n.v)&&_!=null&&_.v!=9};B.dd.ai5=function(D){var n=D.keyOriginType.v,_=B.dd.$Z(D),b=_[0],w=_[1],i=_[2],M=_[3],N=new e3,a=D.keyOriginPolyCornerRadius,E;
a=a?a.v:0;var o=B.dd.fp(D,n==7||n==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),U=B.dd.OA(o),V=U[2],c=U[3];
b=-V/2;i=V/2;w=-c/2;M=c/2;N.rotate(-B.dd.iR(o));N.oE=U[0];N.LE=U[1];if(n==1||n==2){var A=n==1?0:B.dd.tY(D);
E=B.$.yA.Rect(b,w,i-b,M-w,A)}else if(n==4){var Q=B.dd.yd(D),J=B.dd.asF(D);N=new e3;if(J==null)E=B.$.yA.qE(Q[0],Q[1],Q[2],Q[3],D.keyOriginLineWeight.v);
else E=B.$.yA.z$(Q[0],Q[1],Q[2],Q[3],D.keyOriginLineWeight.v,J)}else if(n==5){E=B.$.yA.h6(b,w,i-b,M-w)}else if(n==7||n==8){var L=n==7?3:D.keyOriginPolySides.v;
E=B.$.yA.IK(0,0,100,Math.PI/L-Math.PI/2,L,a,i,M)}B.$.vZ(E,N);return E};B.dd.IX=function(D,n){var _=n.Y;
for(var k=0;k<D.length;k++){var b=D[k].v;if(!B.dd.Zv(b))continue;var w=B.dd.ai5(b),i=B.$.ay(_,k),M=B.$.KK(_,k);
w[2].gW=_[i].gW;var N=_;_=_.slice(0,i);for(var a=2;a<w.length;a++)_.push(w[a]);for(var a=i+M;a<N.length;
a++)_.push(N[a])}n.Y=_;n.Vk=!0};B.dd.Ng=function(D){var n=1e9,_=-n,b=1e9,w=-b,i=[],M=D.DZ(),N=M[0],a=M[1];
for(var o=0;o<a.length;o++){var U=N[a[o]],V=U.add.vogk;if(V==null)continue;var c=U.add.vmsk.w;for(var E=0;
E<V.length;E++){var A=V[E].v,L=0;if(!B.dd.Zv(A))continue;if(a.length==1&&c.length!=0&&c.indexOf(E)==-1)continue;
var Q=A.keyOriginType.v;if(Q==9)continue;var J=B.dd.$Z(A);n=Math.min(n,J[0]);b=Math.min(b,J[1]);_=Math.max(_,J[2]);
w=Math.max(w,J[3]);var P=B.dd.fp(A,"keyOriginBoxCorners");if(P){var u=B.dd.OA(P),m=u[2],x=u[3];J[2]=J[0]+m;
J[3]=J[1]+x;L=B.dd.iR(P)}var v=[Q,J,L];i.push(v);if(Q==2)v.push(B.dd.tY(A));if(Q==7||Q==8)v.push(A.keyOriginPolyCornerRadius.v);
if(Q==8)v.push(A.keyOriginPolySides.v)}}return i.length==1?i[0]:[0,n<_?[n,b,_,w]:null,0]};B.dd.iR=function(D){var n=D[2]-D[0],_=D[3]-D[1];
return-Math.atan2(-_,n)};B.dd.alZ=function(D,n){var _=B.dd.Ng(D),b=-1;for(var k=0;k<n.length;k++)if(JSON.stringify(n[k])!=JSON.stringify(_[k]))b=k;
if(b==1||b==2){}var w=D.DZ(),i=w[0],M=w[1];for(var N=0;N<M.length;N++){var a=i[M[N]],o=a.add.vogk;if(o==null)continue;
var U=a.add.vmsk.w;for(var V=0;V<o.length;V++){var c=o[V].v;if(!B.dd.Zv(c))continue;if(M.length==1&&U.length!=0&&U.indexOf(V)==-1)continue;
var E=c.keyOriginType.v;if(b==1||b==2){B.dd.A(o,B.dd.aiN(b,c,_,n),U,!1);break}if(b==3)if(E==2)B.dd.oA(c,n[3]);
else c.keyOriginPolyCornerRadius.v=n[3];if(b==4)c.keyOriginPolySides.v=n[4]}}};B.dd.aiN=function(D,n,_,b){var w=b[1],i=_[1],M=(w[2]-w[0])/(i[2]-i[0]),N=(w[3]-w[1])/(i[3]-i[1]),a=new e3;
if(D==1){if(Math.max(Math.abs(M-1),Math.abs(N-1))>1e-8){var o=w[0],U=w[1];if(b[0]!=0){var V=B.dd.fp(n,"keyOriginBoxCorners");
o=V[0];U=V[1]}a.translate(-o,-U);a.rotate(b[2]);a.scale(M,N);a.rotate(-b[2]);a.translate(o,U)}else{a.translate(-i[0],-i[1]);
a.translate(w[0],w[1])}}else{if(b[0]!=0)w=B.dd.$Z(n);var o=(w[0]+w[2])/2,U=(w[1]+w[3])/2;a.translate(-o,-U);
if(_[0]!=0)a.rotate(_[2]);a.rotate(-b[2]);a.translate(o,U)}return B.N.ug(a)};B.dd.OA=function(D){var n=D[0],_=D[1],b=D[2],w=D[3],i=D[4],M=D[5],N=D[6],a=D[7],o=b-n,U=w-_,V=Math.sqrt(o*o+U*U),o=i-b,U=M-w,c=Math.sqrt(o*o+U*U);
return[(n+i)/2,(_+M)/2,V,c]};B.dd.fp=function(D,n){var _=D[n];if(_==null)return null;var b=[];_=_.v;
for(var w=0;w<4;w++){var i=_["rectangleCorner"+["A","B","C","D"][w]].v;b.push(i.Hrzn.v,i.Vrtc.v)}return b};
B.dd.J_=function(D,n,_){var b=D[n];if(b==null)return null;b=b.v;for(var w=0;w<4;w++){var i="rectangleCorner"+["A","B","C","D"][w];
b[i]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:_[2*w]},Vrtc:{t:"doub",v:_[2*w+1]}}}}};B.dd.$Z=function(D){return B.dd.gu(D.keyOriginShapeBBox.v)};
B.dd.gu=function(D){var n=D.classID,_=D.Left.v,b=D.Rght.v,w=D.Top.v,i=D.Btom.v;if(n=="unitRect"||n=="radii"||n=="Rctn"){_=_.val;
b=b.val;w=w.val;i=i.val}return[_,w,b,i]};B.dd.cU=function(D,n){B.dd.Im(D.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],n)};
B.dd.tY=function(D){return B.dd.b1(D.keyOriginRRectRadii.v)};B.dd.b1=function(D){var n=[],_=["topLeft","topRight","bottomRight","bottomLeft"];
for(var b=0;b<4;b++)n.push(D[_[b]].v.val);return n};B.dd.oA=function(D,n){B.dd.Im(D.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],n)};
B.dd.Im=function(D,n,_){var b=D.classID;if(b=="unitRect"||b=="radii"||b=="Rctn"){for(var k=0;k<4;k++)if(_[k]!=null)D[n[k]]={t:"UntF",v:{type:"#Pxl",val:_[k]}}}else{for(var k=0;
k<4;k++)if(_[k]!=null)D[n[k]]={t:"doub",v:_[k]}}};B.dd.yd=function(D){var n=D.keyOriginLineStart.v,_=D.keyOriginLineEnd.v;
return[n.Hrzn.v,n.Vrtc.v,_.Hrzn.v,_.Vrtc.v]};B.dd.agc=function(D,n){var _=D.keyOriginLineStart.v,b=D.keyOriginLineEnd.v;
_.Hrzn.v=n[0];_.Vrtc.v=n[1];b.Hrzn.v=n[2];b.Vrtc.v=n[3]};B.dd.asF=function(D){var n=[],_=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var k=0;k<5;k++){var b=D["keyOriginLineArr"+_[k]];if(b==null)return null;n[k]=b.v}return n};B.dd.apJ=function(D,n){D.keyOriginLineArrowSt={t:"bool",v:n[0]};
D.keyOriginLineArrowEnd={t:"bool",v:n[1]};D.keyOriginLineArrWdth={t:"doub",v:n[2]};D.keyOriginLineArrLngth={t:"doub",v:n[3]};
D.keyOriginLineArrConc={t:"long",v:n[4]}};B.H={};B.H.clone=function(D){return{C:D.C.slice(0),t:D.t.slice(0)}};
B.H.Sb=function(D){if(D.length<6)return!0;var n=D.length-4;for(var k=0;k<n;k+=2)if(!B.H.hT(D[k],D[k+1],D[k+2],D[k+3],D[k+4],D[k+5]))return!1;
if(!B.H.hT(D[n],D[n+1],D[n+2],D[n+3],D[0],D[1]))return!1;if(!B.H.hT(D[n+2],D[n+3],D[0],D[1],D[2],D[3]))return!1;
return!0};B.H.hT=function(D,n,_,b,w,i){return(n-b)*(w-_)+(_-D)*(i-b)>=0};B.H.yU=function(D){var n={},_=null,b=0,w={M:2,L:2,Q:4,C:6};
for(var k=0;k<D.C.length;k++){var i=D.C[k];if(i.charAt(0)=="#"){if(n[i]==null)n[i]={t:[],C:[]};_=n[i]}else if(i!="X"){_.C.push(i);
var M=w[i];if(M==null)M=0;for(var N=0;N<M;N++)_.t.push(D.t[b+N]);b+=M}}return n};B.H.yL=function(D,n,_){D=B.H.QM(D);
var b=D.t,w=D.C,i=0,M=[],N=null;for(var k=0;k<w.length;k++){var a=w[k];if(a=="M"){N={bY:i,PJ:0,dF:!1};
M.push(N);i+=2}if(a=="C"){N.PJ++;i+=6}if(a=="Z"&&N!=null){N.dF=!0}}var o=[];for(var k=0;k<M.length;k++)if(M[k].PJ!=0)o.push(M[k]);
M=o;for(var k=0;k<M.length;k++){var U=M[k],V=U.bY,c=V+2+U.PJ*6,A=0;U.PH=B.H.t0(b,V,c);var E=b[V]==b[c-2]&&b[V+1]==b[c-1];
for(var Q=0;Q<U.PJ;Q++){var J=V+Q*6,L=J+6;A+=(b[L]-b[J])*(b[L+1]+b[J+1])}if(U.PJ==2){var P=function(H,O,C){var ib=1-C;
return ib*ib*ib*H[O]+3*ib*ib*C*H[O+2]+3*ib*C*C*H[O+4]+C*C*C*H[O+6]},u=b[V],m=b[V+1],x=b[V+6],v=b[V+7],W=b[V+6],Z=b[V+7],r=P(b,V,.5),X=P(b,V+1,.5),$=P(b,V+6,.5),I=P(b,V+7,.5);
A=(r-u)*(X-m)+(x-r)*(v-X)+($-x)*(I-v)+(W-$)*(Z-I)}if(!E)A+=(b[V]-b[c-2])*(b[V+1]+b[c-1]);U.Gl=A<=0}for(var k=0;
k<M.length-1;k++)for(var J=k+1;J<M.length;J++){var T=M[k],e=M[J];if(e.PH.Xh(T.PH)){M[k]=e;M[J]=T}}var F=M.length==0?!0:M[0].Gl,y=[{type:6},{type:8,all:0}];
for(var k=0;k<M.length;k++){var U=M[k],V=U.bY,c=V+2+U.PJ*6,E=b[V]==b[c-2]&&b[V+1]==b[c-1],h=U.dF||E?0:3,Y=U.Gl==F&&!n?1:0;
if(!n&&k!=0){if(M[k-1].PH.Xh(U.PH)&&M[k-1].Gl!=U.Gl)Y=0;for(var J=0;J<M.length;J++)if(J!=k&&M[J].PH.Xh(U.PH))Y=0}y.push({type:h,length:U.PJ+(E?0:1),gW:_?1:Y,bB:2});
for(var J=0;J<U.PJ;J++){var i=V+J*6,K=new gZ(b[i],b[i+1]),z=new gZ(b[i+2],b[i+3]),f;if(J==0){if(E)f=new gZ(b[c-4],b[c-3]);
else f=K.clone()}else f=new gZ(b[i-2],b[i-1]);y.push({type:h+2,US:f,Z:K,As:z})}if(!E){var s=new gZ(b[c-2],b[c-1]);
y.push({type:h+2,US:new gZ(b[c-4],b[c-3]),Z:s,As:s.clone()})}}for(var J=0;J<y.length;J++){var l=y[J];
if(l.type>5||l.type==0||l.type==3)continue;var g=l.US.l8(l.Z)||l.As.l8(l.As);if(!g){var T=l.US.x*(l.Z.y-l.As.y)+l.Z.x*(l.As.y-l.US.y)+l.As.x*(l.US.y-l.Z.y);
if(Math.abs(T)<1e-6)g=!0}if(g)l.type--}return y};B.H.NR=function(D,n){var _=B.$.Vz(D),b=!1;for(var k=2;
k<D.length;k++){var w=D[k].gW;if(w!=null){if(w==2||w==0||w==3)b=!0}}if((b||n)&&D.length<15e3&&_>1)D=B.$.Ud(D);
var i=B.H.a8(D);return{Y0:i,XC:b?1:0}};B.H.a8=function(){function D(b,w,i,M){if(!M&&b.As.l8(b.Z)&&w.US.l8(w.Z)){i.t.push(w.Z.x,w.Z.y);
i.C.push("L")}else{i.t.push(b.As.x,b.As.y,w.US.x,w.US.y,w.Z.x,w.Z.y);i.C.push("C")}}function n(b,w,k,i,M,N){var a=w[k];
b.t.push(a.Z.x,a.Z.y);b.C.push("M");for(var o=k;o<k+i-1;o++)D(w[o],w[o+1],b,N);if(!M)D(w[o],w[k],b,N)}function _(b,w){if(w==null)w=!1;
var i={t:[],C:[]};for(var k=0;k<b.length;k++){if(b[k].type>5)continue;var M=b[k].length;if(M==0)continue;
if(k==b.length-1)break;var N=b[k].type==3;n(i,b,k+1,M,N,w);if(!N)i.C.push("Z");k+=M}return i}return _}();
B.H.ami=function(D){var n=D.t,_=[],b,w=0;for(var k=0;k<D.C.length;k++){var i=D.C[k];if(i=="C"){b.push(n[w++],n[w++],n[w++],n[w++],n[w++],n[w++])}else if(i=="Z"){}else{b=[];
if(i!="M"){b.push(i);k++}b.push(n[w++],n[w++]);_.push(b)}}return _};B.H.Ib=function(D,n,_,b){if(b==null)b=1e9;
var w=1e9,i=0;for(var k=0;k<D.length;k+=2){var M=n-D[k],N=_-D[k+1],a=M*M+N*N;if(a<w){w=a;i=k>>>1}}return w<b*b?i:-1};
B.H.da=function(D,n,_,b){for(var k=0;k<D.length;k+=2){var w=D[k],i=D[k+1],M=n[k],N=n[k+1];_[k]=w+(M-w)*b;
_[k+1]=i+(N-i)*b}};B.H.A=function(D,n,_){for(var k=0;k<D.length;k+=2){var b=D[k],w=D[k+1];_[k]=b*n.vd+w*n.jo+n.oE;
_[k+1]=b*n.S+w*n.Ww+n.LE}};B.H.t0=function(D,n,_){if(n==null)n=0;if(_==null)_=D.length;var b=99999999999,w=-b,i=99999999999,M=-i;
for(var k=n;k<_;k+=2){var N=D[k],a=D[k+1];b=Math.min(b,N);i=Math.min(i,a);w=Math.max(w,N);M=Math.max(M,a)}return new gl(b,i,w-b,M-i)};
B.H.ce=function(D,n){var _=Math.max(n.x,Math.min(n.x+n.l,D.x)),b=Math.max(n.y,Math.min(n.y+n.e,D.y)),w=D.x-_,i=D.y-b;
return Math.sqrt(w*w+i*i)};B.H.__=function(D){if(D.hk())return new gl(Math.floor(D.x),Math.floor(D.y),Math.ceil(D.l),Math.ceil(D.e));
var n=Math.floor(D.x),_=Math.ceil(D.x+D.l),b=Math.floor(D.y),w=Math.ceil(D.y+D.e);return new gl(n,b,_-n,w-b)};
B.H.cx=function(D){return B.H.__(B.H.t0(D))};B.H.X0=function(D){var n=D.x,_=D.y,b=D.x+D.l,w=D.y+D.e;
return{C:["M","L","L","L","Z"],t:[n,_,b,_,b,w,n,w]}};B.H.concat=function(D,n,_){if(_==null)_=new e3;
for(var k=0;k<n.t.length;k+=2){var b=n.t[k],w=n.t[k+1];D.t.push(b*_.vd+w*_.jo+_.oE);D.t.push(b*_.S+w*_.Ww+_.LE)}for(var k=0;
k<n.C.length;k++)D.C.push(n.C[k])};B.H.QM=function(D){var n=D.t,_=[],b=[],w=0,i=0,M=0,N=0,a=0,o=0,U=0,V=0,c=0;
for(var k=0;k<D.C.length;k++){var E=D.C[k];if(E=="M"){i=n[w];M=n[w+1];w+=2;b.push(E);_.push(i,M)}else if(E=="C"){N=n[w];
a=n[w+1];o=n[w+2];U=n[w+3];V=n[w+4];c=n[w+5];w+=6;b.push(E);_.push(N,a,o,U,V,c);i=V;M=c}else if(E=="Q"){N=n[w];
a=n[w+1];o=n[w+2];U=n[w+3];w+=4;var A=N-i,Q=a-M,J=o-N,L=U-a;b.push("C");_.push(i+2/3*A,M+2/3*Q,N+1/3*J,a+1/3*L,o,U);
i=o;M=U}else if(E=="L"){N=n[w];a=n[w+1];w+=2;var P=N-i,u=a-M;b.push("C");_.push(i,M,N,a,N,a);i=N;M=a}else b.push(E)}return{C:b,t:_}};
B.H.ago=function(D){var n=D.t,_=[],b=[],w=0;for(var k=0;k<D.C.length;k++){var i=D.C[k];if(i=="Q"){var M=n[w-2],N=n[w-1],a=n[w],o=n[w+1],U=n[w+2],V=n[w+3];
w+=4;var c=a-M,E=o-N,A=U-a,Q=V-o;b.push("C");_.push(M+2/3*c,N+2/3*E,a+1/3*A,o+1/3*Q,U,V)}else{var J=0;
if(i=="M"||i=="L")J=2;else if(i=="C")J=6;for(var L=0;L<J;L++)_.push(n[w+L]);w+=J;b.push(i)}}return{C:b,t:_}};
B.H.U$=function(D,n){var _=D.t,b=[],w=[],i=0,M=0,N=0,a=0,o=0,U=0,V=0,c=0,E=0;for(var k=0;k<D.C.length;
k++){var A=D.C[k];if(A=="M"){M=_[i];N=_[i+1];i+=2;w.push(A);b.push(M,N)}else if(A=="C"){a=_[i];o=_[i+1];
U=_[i+2];V=_[i+3];c=_[i+4];E=_[i+5];i+=6;B.H.nI(M,N,a,o,U,V,c,E,n,w,b,0);M=c;N=E}else w.push(A)}return{C:w,t:b}};
B.H.nI=function(D,n,_,b,w,i,M,N,a,o,U,V){var c=Math.sqrt((M-D)*(M-D)+(N-n)*(N-n)),E=Math.sqrt((M-w)*(M-w)+(N-i)*(N-i))+Math.sqrt((w-_)*(w-_)+(i-b)*(i-b))+Math.sqrt((_-D)*(_-D)+(b-n)*(b-n)),A=(c+E)/2;
if(A<=a){o.push("C");U.push(_,b,w,i,M,N)}else{var Q=0,J=0,L=0,P=0,u=0,m=0,x=0,v=0,W=0,Z=0,r=0,X=0,$=0;
J=(D+_)/2;L=(n+b)/2;P=(_+w)/2;u=(b+i)/2;m=(w+M)/2;x=(i+N)/2;v=(J+P)/2;W=(L+u)/2;Z=(P+m)/2;r=(u+x)/2;
X=(v+Z)/2;$=(W+r)/2;B.H.nI(D,n,J,L,v,W,X,$,a,o,U,V+1);B.H.nI(X,$,Z,r,m,x,M,N,a,o,U,V+1)}};B.H.w0=function(D,n,_,b,w){var i=Date.now(),M=B.H.aeZ(D,n,_);
if(w){console.log("trace polygons",Date.now()-i);i=Date.now()}var N=[];for(var k=0;k<M.length;k++){var a=M[k],o=a[0],U=["M"],V=D[o[1]*n+o[0]];
if(o.length>8)o=B.H.gx(o,b,a[1]);if(o.length<=4)continue;for(var c=2;c<o.length;c+=2)U.push("L");U.push("Z");
N.push({path:{t:o,C:U},color:V,parent:-1,PH:B.H.t0(o)})}if(w){console.log("simplify polygons",Date.now()-i);
i=Date.now()}for(var k=1;k<N.length;k++){var E=N[k].PH;for(var c=k-1;c>=0;c--)if(N[c].PH.Xh(E)){N[k].parent=c;
break}}if(w){console.log("checking parents",Date.now()-i);i=Date.now()}return N};B.H.aeZ=function(D,n,_){var b=n*_,w=new Uint16Array(n*_),M=0;
for(var k=0;k<b;k++)w[k]=D[k];var i=new Uint8Array(n*_);i[1*n+1]=i[(_-1)*n+1]=i[1*n+n-1]=i[(_-1)*n+n-1]=1;
for(var N=1;N<_;N++)for(var a=1;a<n;a++){var k=N*n+a,o=w[k-n-1],U=w[k-n],V=w[k-1],c=w[k],E=o==c&&U==V&&o!=U,A=0;
if(c<V){M=c;c=V;V=M}if(V<U){M=V;V=U;U=M}if(U<o){M=U;U=o;o=M}if(c<V){M=c;c=V;V=M}if(V<U){M=V;V=U;U=M}if(c<V){M=c;
c=V;V=M}if(o!=U)A++;if(U!=V)A++;if(V!=c)A++;if(c!=o)A++;if(A>=3||E)i[k]=1}var Q=[];for(var N=1;N<_;N++)for(var a=1;
a<n;a++){var k=N*n+a;if(w[k]!=w[k-1]){var J=B.H.arG(w,n,_,a,N),L=[];for(var P=0;P<J.length;P+=2)if(i[J[P+1]*n+J[P]]==1)L.push(P>>>1);
Q.push([J,L]);B.H.Ni(w,n,_,a,N)}}return Q};B.H.Ni=function(D,n,_,b,w){var i=[w*n+b],M=D[w*n+b];D[w*n+b]=65535;
while(i.length!=0){var k=i.pop();D[k]=0;if(D[k+n]==M){i.push(k+n);D[k+n]=65535}if(D[k-n]==M){i.push(k-n);
D[k-n]=65535}if(D[k-1]==M){i.push(k-1);D[k-1]=65535}if(D[k+1]==M){i.push(k+1);D[k+1]=65535}}};B.H.arG=function(D,n,_,b,w){var i=[0,-1,1,0,0,1,-1,0],U=1;
function M(c,E,U){var k=o*n+a,A=0;if(U==0)A=k-n;else if(U==1)A=k;else if(U==2)A=k-1;else if(U==3)A=k-n-1;
return D[A]}var N=[],a=b,o=w,V=M(a,o,U);do{N.push(a,o);a+=i[U*2];o+=i[U*2+1];if(M(a,o,U)!=V)U=U+1&3;
else if(M(a,o,U+3&3)!=V)U=U;else if(M(a,o,U+2&3)!=V)U=U+3&3}while(a!=b||o!=w);return N};B.H.gx=function(D,n,_){var b=D.length-2;
if(_&&_.length!=0){var w=_[0]*2,i=_[_.length-1]*2,M=w==0?b:w-2,N=D.slice(i);for(var k=0;k<w;k++)N.push(D[k]);
if(w==i)N.push(.9*D[w]+.1*D[M],.9*D[w+1]+.1*D[M+1]);else N.push(D[w],D[w+1]);N=B.H.Of(N,n);N.pop();N.pop();
for(var k=0;k<_.length-1;k++){var a=D.slice(_[k]*2,_[k+1]*2+2);a=B.H.Of(a,n);for(var o=0;o<a.length-2;
o++)N.push(a[o])}return N}var U=D.slice(0);U.push(.9*D[0]+.1*D[b],.9*D[1]+.1*D[b+1]);U=B.H.Of(U,n);U.pop();
U.pop();return U};B.H.Of=function(D,n){var _=D.length-2,b=D[0],w=D[1],i=D[_],M=D[_+1],N=i-b,a=M-w,o=1/Math.sqrt(N*N+a*a),U=i*w-M*b,V=-1,c=-1,E=0;
for(var k=2;k<_;k+=2){var A=D[k],Q=D[k+1],J=Q*Q*1e6+A*A,L=Math.abs(a*A-N*Q+U)*o;if(L>c||L==c&&J>E){c=L;
V=k;E=J}}if(c<n)return[b,w,i,M];var P=B.H.Of(D.slice(0,V+2),n),u=B.H.Of(D.slice(V),n);for(var k=2;k<u.length;
k++)P.push(u[k]);return P};B.H.a82=function(){var D=function(b,w,i,M,N,a){return(w-M)*(N-i)+(i-b)*(a-M)>=0},n=function(b,w,i,M,N,a,o,U){var V=o-i,c=U-M,E=N-i,A=a-M,Q=b-i,J=w-M,L=V*V+c*c,P=V*E+c*A,u=V*Q+c*J,m=E*E+A*A,x=E*Q+A*J,v=1/(L*m-P*P),W=(m*u-P*x)*v,Z=(L*x-P*u)*v;
return W>=0&&Z>=0&&W+Z<1},_=function(b){var cQ=b.length>>>1,k=0;if(cQ<3)return[];var w=[],i=[];for(var k=0;
k<cQ;k++)i.push(k);var M=cQ;while(M>3){var N=i[(k+0)%M],a=i[(k+1)%M],o=i[(k+2)%M],U=b[2*N],V=b[2*N+1],c=b[2*a],E=b[2*a+1],A=b[2*o],Q=b[2*o+1],J=!1;
if(D(U,V,c,E,A,Q)){J=!0;for(var L=0;L<M;L++){var P=i[L];if(P==N||P==a||P==o)continue;if(n(b[2*P],b[2*P+1],U,V,c,E,A,Q)){J=!1;
break}}}if(J){w.push(N,a,o);i.splice((k+1)%M,1);M--;k=0}else if(k++>3*M)break}w.push(i[0],i[1],i[2]);
return w};return _}();B.H.atO=function(D,n){var _={},b={C:[],t:[]};for(var k=0;k<n.length;k+=3){var w=n[k]*2,i=n[k+1]*2,M=n[k+2]*2;
B.H.hu(D,w,i,b,_);B.H.hu(D,w,M,b,_);B.H.hu(D,i,M,b,_)}return b};B.H.hu=function(D,n,_,b,w){if(n>_){var i=_;
_=n;n=i}if(w[n+","+_])return;w[n+","+_]=!0;b.C.push("M","L");b.t.push(D[n],D[n+1],D[_],D[_+1])};B.H.D9=function(D,n){var _=[],b=D.length;
for(var k=0;k<b;k+=2){var w=D[k],i=D[k+1],M=D[(k+2)%b],N=D[(k+3)%b];if(N<i){var a=i;i=N;N=a}if(i<n&&n<N){var o=(n-i)/(N-i);
_.push(w+o*(M-w))}}_.sort(function(U,V){return U-V});return _};B.H.to=function(D,n,_,b,w,i,M){var N=D-_,a=n-b,o=w-_,U=i-b,V=1/Math.sqrt(N*N+a*a),c=1/Math.sqrt(o*o+U*U),E=N*V,A=a*V,Q=o*c,J=U*c,L=A*M,P=-E*M,u=-J*M,m=Q*M,x=B.H.O4(L,P,E,A,u,m,Q,J),v=L+E*x,W=P+A*x,x=B.H.O4(0,0,E,A,v,W,-A,E),Z=E*x,r=A*x;
return[Math.sqrt(Z*Z+r*r),E,A,Q,J]};B.H.ej=function(D,n,_,b,w,i,M){var N=B.H.to(D,n,_,b,w,i,M),a=N[0],o=N[1],U=N[2],V=N[3],c=N[4],E=Math.atan2(o*c-U*V,o*V+U*c);
if(E<0){E=E*-1}var A=Math.PI-E,Q=4/3*Math.tan(A/4),J=_+a*o,L=b+a*U,P=_+a*V,u=b+a*c,m=J+Q*M*-o,x=L+Q*M*-U,v=P+Q*M*-V,W=u+Q*M*-c;
return[0,0,J,L,m,x,v,W,P,u]};B.H.O4=function(D,n,_,b,w,i,M,N){var a=M*(n-i)-N*(D-w),o=N*_-M*b;if(o==0)return 0;
return a/o};B.H.ej(0,50,0,0,30,30,10);B.jl=function(){};B.jl.e5=function(D,n,_,b,w){var i=_.l,M=_.e,N=i*M,a=new Int32Array(N),cQ=0;
for(var k=0;k<N;k++)if(n[k]!=0){a[k]=cQ;cQ++}else if(D[(k<<2)+3]<200){a[k]=-2}else a[k]=-1;if(cQ==0)return;
var o=new B.Ta(cQ,cQ),U=new Array(3*cQ),V=new Array(3*cQ);for(var k=0;k<V.length;k++)V[k]=U[k]=0;var c=1/255,E=[-i,-1,1,i],A=[],Q=[];
for(var J=0;J<M;J++)for(var L=0;L<i;L++){var P=J*i+L,u=P<<2,k=a[P],m=k*3,x=0,v=0,W=0;if(k==-1||k==-2)continue;
for(var Z=0;Z<4;Z++){if(Z==2){v=W;A[W]=0;Q[W]=k;W++}var r=P+E[Z],X=r<<2,$=a[r];if(Z==0&&J==0||Z==1&&L==0||Z==2&&L==i-1||Z==3&&J==M-1||$==-2)continue;
x++;if($==-1){U[m+0]+=D[X+0];U[m+1]+=D[X+1];U[m+2]+=D[X+2]}else{A[W]=-1;Q[W]=$;W++;if(n[P]==n[r]){U[m+0]+=D[u+0]-D[X+0];
U[m+1]+=D[u+1]-D[X+1];U[m+2]+=D[u+2]-D[X+2]}}}A[v]=x;o.iD(A,Q,W)}for(var k=0;k<N;k++)if(a[k]!=-1){var I=k<<2,T=a[k],e=T*3;
V[e]=D[I+0];V[e+1]=D[I+1];V[e+2]=D[I+2]}var F=Date.now();o.a7e(V,U,b,w);console.log(Date.now()-F);for(var k=0;
k<N;k++){var T=a[k],y=T*3,I=k<<2;if(T==-1||D[I+3]!=255)continue;D[I+0]=~~(.5+Math.max(0,Math.min(255,V[y+0])));
D[I+1]=~~(.5+Math.max(0,Math.min(255,V[y+1])));D[I+2]=~~(.5+Math.max(0,Math.min(255,V[y+2])))}};B.rect={};
B.rect.ee=function(D,n){var _=[D],b=[];for(var k=0;k<n.length;k++){var w=n[k],i=!1;for(var M=k+1;M<n.length;
M++){var N=n[M];if(N[0]<=w[0]&&N[1]<=w[1]&&w[2]<=N[2]&&w[3]<=N[3]){i=!0;break}}if(!i)b.push(w)}n=b;for(var k=0;
k<n.length;k++){var w=n[k];for(var M=0;M<_.length;M++){var N=_[M],a=Math.max(w[0],N[0]),o=Math.min(w[2],N[2]),U=Math.max(w[1],N[1]),V=Math.min(w[3],N[3]);
if(a<o&&U<V){var c=[];if(N[1]<w[1]){var E=N.slice(0);E[3]=w[1];c.push(E)}if(N[0]<w[0]){var A=N.slice(0);
A[1]=U;A[2]=w[0];c.push(A)}if(w[2]<N[2]){var Q=N.slice(0);Q[1]=U;Q[0]=w[2];c.push(Q)}if(w[3]<N[3]){var J=[a,V,o,N[3]];
c.push(J)}if(c.length!=0){_[M]=c[0];for(var L=1;L<c.length;L++)_.push(c[L])}}}_.push(w);_=B.rect.a73(_)}_.sort(function(w,N){return w[1]!=N[1]?w[1]-N[1]:w[0]-N[0]});
for(var k=1;k<_.length;k++){var w=_[k-1],N=_[k];if(w[0]==N[0]&&w[1]==N[1]&&w[2]==N[2]&&w[3]==N[3]){_.splice(w[4]==null?k-1:k,1);
k--}}return _};B.rect.a73=function(D){D=D.slice(0);for(var k=0;k<D.length;k++){var n=D[k],_=null;if(n[4]!=null)continue;
for(var b=0;b<D.length;b++){var w=D[b];if(k==b||w[4]!=null)continue;var i=n[0]==w[0],M=n[1]==w[1],N=n[2]==w[2],a=n[3]==w[3];
if(M&&a&&(n[2]==w[0]||n[0]==w[2])){_=[Math.min(n[0],w[0]),n[1],Math.max(n[2],w[2]),n[3]]}if(i&&N&&(n[3]==w[1]||n[1]==w[3])){_=[n[0],Math.min(n[1],w[1]),n[2],Math.max(n[3],w[3])]}if(_){D[k]=_;
D.splice(b,1);break}}if(_){k--}}return D};B.rect.lw=function(D){var n=new gl;for(var k=0;k<D.length;
k++)n=n.Ik(D[k]);return n};B.rect.aez=function(D,n){var _=B.rect.lw,b=new UnionFind(D.length),v=1e3,W=1e3;
for(var k=0;k<D.length;k++)for(var w=k+1;w<D.length;w++){if(!n)continue;var i=D[k],M=D[w],V=1e9,c=1e9;
if(i.Zy(M)){b.link(k,w);continue}var N=i.x+i.l,a=i.y+i.e,o=M.x+M.l,U=M.y+M.e;if((N<M.x||o<i.x)&&(a<M.y||U<i.y))continue;
if(!(a<M.y||U<i.y))V=Math.min(Math.abs(N-M.x),Math.abs(i.x-o));if(!(N<M.x||o<i.x))c=Math.min(Math.abs(a-M.y),Math.abs(i.y-U));
var E=Math.min(V,c),A=Math.min(i.l,i.e,M.l,M.e);if(E<.3*A)b.link(k,w)}var Q=[],J={};for(var k=0;k<D.length;
k++){var L=b.find(k),P=D[k];if(J[L]==null){J[L]=Q.length;Q.push([])}Q[J[L]].push(P)}var u=[],m=[];for(var k=0;
k<Q.length;k++){u.push(_(Q[k]));var x=_(Q[k]);x.HE=k;m.push(x)}m.sort(function(h,Y){return Math.max(Y.e,Y.l)-Math.max(h.e,h.l)});
var Z=new NETXUS.RectanglePacker(v,W);while(!0){var r=!1;Z.reset(v,W);for(var k=0;k<m.length;k++){var X=Z.findCoords(m[k].l,m[k].e);
if(X){m[k].x=X.x;m[k].y=X.y}else{v=Math.floor(v*1.1);W=Math.floor(W*1.1);r=!0;break}}if(r)continue;break}for(var k=0;
k<Q.length;k++){var $=m[k],I=$.HE,T=u[I],e=Q[I],F=$.x-T.x,y=$.y-T.y;for(var w=0;w<e.length;w++)e[w].offset(F,y)}};
B.Hj=function(){};B.Hj.CI=Math.floor(16*window.devicePixelRatio);B.Hj.sC={};B.Hj.hw=0;B.Hj.P1=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
B.Hj.afe=["px","in","cm","mm","%"];B.Hj.K9=function(D,n,_,b){var w=[1,n,n/2.54,n/25.4,_/100][b];return D*w};
B.Hj.asW=function(D,n,_,b){var w=[1,n,n/2.54,n/25.4,_/100][b];return D/w};B.Hj.Yh=function(D,n,_,b,w){var i=_.BE.gK,M=[1,n,n/2.54,n/25.4,b/100][i],N=[2,3,2,1,2][i];
D=D/M;var a=Math.round(D),o=i==0&&Math.abs(D-a)<1e-6?a+"":D.toFixed(N);if(w)o+=" "+B.Hj.afe[i];return o};
B.Hj.asA=function(D,n,_,b){var w=_.BE.gK,i=[1,n,n/2.54,n/25.4,b/100][w];D=parseFloat(D)*i;return D};
B.Hj.a5W=function(D,n){var _=D+","+n;if(B.Hj.sC.clr==_)return;var b=Math.round(B.Hj.CI*.5);B.Hj.hw=b;
var w=document.createElement("canvas");w.width=w.height=b;var i=w.getContext("2d");i.font=b*1.5+"px monospace";
var M="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var k=0;k<M.length;k++){i.fillStyle="#"+B.xQ(n);i.fillRect(0,0,b,b);
i.fillStyle="#"+B.xQ(D);i.fillText(M[k],0,b);B.Hj.sC[M[k]]=i.getImageData(0,0,b,b).data}B.Hj.sC.clr=_};
B.Hj.a2l=function(D,n,_){var b=0,w=0,i=4*B.Hj.CI;for(var k=9;k>=0;k--){var M=Math.pow(10,k);if(5*M*D<=i){b=5*M;
w=10;break}if(2*M*D<=i){b=2*M;w=4;break}if(1*M*D<=i){b=1*M;w=10;break}}if(b==0){b=1;w=10}var N=Math.ceil(b*D),a=B.U(N*B.Hj.CI*4);
B.o5(a,4278190080|_);for(var k=0;k<B.Hj.CI;k++)B.Hj.eH(a,4*k*N,n);for(var k=0;k<N;k++)B.Hj.eH(a,4*((B.Hj.CI-1)*N+k),n);
if(b==2)w=2;if(b==5)w=5;if(b>1||b==1&&N>20)for(var k=1;k<w;k++)B.Hj.amI(a,k*(N/w),N,(k&1)==1?.8:.7,n);
return{kg:a,step:b}};B.Hj.amI=function(D,n,_,b,w){var n=Math.round(n);for(var i=Math.round(B.Hj.CI*b);
i<B.Hj.CI-1;i++)B.Hj.eH(D,4*(i*_+n),w)};B.Hj.eH=function(D,n,_){D[n+0]=_>>16&255;D[n+1]=_>>8&255;D[n+2]=_&255};
B.Hj.ar8=function(D,n,_,b,w,i,M){var N=D.pj.l,a=D.pj.e,o=B.Hj.CI,U=n&255,V=n>>8&255,c=n>>16&255;n=Math.round(U*.6)<<16|Math.round(V*.6)<<8|Math.round(c*.6);
B.Hj.a5W(Math.round(U*.8)<<16|Math.round(V*.8)<<8|Math.round(c*.8),_);var E=D.V,A=D.r,Q=D.Qv;for(var J=0;
J<2;J++){var L=J==0?i:M;D.V=L[0];D.r=L[1];D.Qv=0;var P=this.a2l(D.V,n,_),u=D.it(0,0),m=D.it(N,a),x=Math.floor(u.x/P.step)*P.step,v=Math.ceil(m.x/P.step)*P.step,W=Math.floor(u.y/P.step)*P.step,Z=Math.ceil(m.y/P.step)*P.step,r=D.TO(x,W),X=D.TO(v,W),$=P.step*D.V,I=Math.ceil($);
if(J==1){var T=P.kg;P.kg=B.U(T.length*4);B.N.V4(T,P.kg,I,o)}var e=J==0?D.Fv.data:D.DM.data,F=new gl(0,0,[N,o][J],[o,a][J]),y=new gl(0,0,[I,o][J],[o,I][J]),h=new gl([0,Math.round(o*.2)][J],[Math.round(o*.08),0][J],B.Hj.hw,B.Hj.hw),Y=(J==0?v-x:Z-W)/P.step;
for(var k=0;k<Y;k++){if(J==0)y.x=Math.round(r.x+k*$);else y.y=Math.round(r.y+k*$);B.E3(P.kg,y,e,F,y);
var K=(J==0?x+k*P.step:Math.abs(W+k*P.step)).toString(10);for(var z=0;z<K.length;z++){if(J==0)h.x=y.x+3+z*Math.round(B.Hj.hw*.8);
else h.y=y.y+3+z*Math.round(B.Hj.hw*1.15);var f=B.Hj.sC[K[z]];B.E3(f,h,e,F,h)}}}D.V=E;D.r=A;D.Qv=Q;var s=Math.floor(o*.6),l=new Uint32Array(D.Fv.data.buffer),g=new Uint32Array(D.DM.data.buffer),H=U<128?4278190080:4294967295;
if(0<b&&b<N)for(var k=0;k<s;k++)l[k*N+b]=H;if(0<w&&w<a)for(var k=0;k<s;k++)g[w*o+k]=H};B.scale={};B.scale.O=document.createElement("canvas");
B.scale.aB=B.scale.O.getContext("2d");B.scale.kK=document.createElement("canvas");B.scale.AP=B.scale.kK.getContext("2d");
B.scale.Ad=function(D,n,_){var b=B.scale.O,w=B.scale.aB;b.width=n;b.height=_;var i=new ImageData(new Uint8ClampedArray(D.buffer),n,_);
w.putImageData(i,0,0);return w.createPattern(b,"repeat")};B.scale.Lp=function(D,n,_,b,w,i,M,N,a){var o=B.scale.at7(D,_,b,w,i,M,N,a).data;
if(n)B.nb(o,n);return new Uint8Array(o.buffer)};B.scale.at7=function(D,n,_,b,w,i,M,N){var a=B.scale.O,o=B.scale.aB;
a.width=n;a.height=_;o.rect(0,0,n,_);o.translate(i,M);o.scale(b,w);if(N!=null)o.rotate(-N);o.fillStyle=D;
o.fill();return o.getImageData(0,0,n,_)};B.scale.A=function(D,n,_,b,w){var i=_.clone();i.ei();var M=w.l,N=w.e,a=B.H.X0(n).t;
B.H.A(a,i,a);var o=B.H.cx(a).zE(w),U=o.x,V=o.y,c=U+o.l,E=V+o.e,A=~~n.x,Q=~~n.y,J=~~n.l,L=~~n.e;for(var P=V;
P<E;P++)for(var u=U;u<c;u++){var m=u+.5,x=P+.5,v=_.vd*m+_.jo*x+_.oE-A,W=_.S*m+_.Ww*x+_.LE-Q;if(0<=v&&0<=W&&v<J&&W<L)b[P*M+u]=D[~~W*J+~~v]}};
B.scale.BX=function(D,n,_,b,w){var i=new Uint32Array(D.buffer),M=new Uint32Array(b.buffer),N=_.clone();
N.ei();var a=w.l,o=w.e,U=B.H.X0(n).t;B.H.A(U,N,U);var V=B.H.cx(U).zE(w),c=V.x,E=V.y,A=c+V.l,Q=E+V.e,J=~~n.x,L=~~n.y,P=~~n.l,u=~~n.e;
for(var m=E;m<Q;m++)for(var x=c;x<A;x++){var v=x+.5,W=m+.5,Z=_.vd*v+_.jo*W+_.oE-J,r=_.S*v+_.Ww*W+_.LE-L;
if(0<=Z&&0<=r&&Z<P&&r<u)M[m*a+x]=i[~~r*P+~~Z]}};B.scale.G$=function(D,n,_,b,w,i,M){if(M<1)B.scale.acU(D,n,_,b,w,i,Math.round(1/M));
else B.scale.att(D,n,_,b,w,i,M)};B.scale.HG=function(D,n,_,b,w,i,M,N){if(N)N=N.zE(new gl(0,0,n,_));D=new Uint32Array(D.buffer);
b=new Uint32Array(b.buffer);if(M<1)B.scale.a8P(D,n,_,b,w,i,Math.round(1/M),N);else B.scale.arb(D,n,_,b,w,i,M)};
B.scale.att=function(D,n,_,b,w,i,M){for(var N=0;N<_;N++)for(var a=0;a<n;a++){var o=D[N*n+a],U=Math.min(M,w-a*M),V=Math.min(M,i-N*M);
for(var k=0;k<V;k++)for(var c=0;c<U;c++)b[(M*N+k)*w+M*a+c]=o}};B.scale.acU=function(D,n,_,b,w,i,M){for(var N=0;
N<i;N++)for(var a=0;a<w;a++){var o=0,U=Math.min(M,n-a*M),V=Math.min(M,_-N*M);for(var k=0;k<V;k++)for(var c=0;
c<U;c++)o+=D[(M*N+k)*n+(M*a+c)];b[N*w+a]=Math.round(o/(U*V))}};B.scale.arb=function(D,n,_,b,w,i,M){for(var N=0;
N<_;N++)for(var a=0;a<n;a++){var o=D[N*n+a],U=Math.min(M,w-a*M),V=Math.min(M,i-N*M);for(var k=0;k<V;
k++)for(var c=0;c<U;c++)b[(M*N+k)*w+M*a+c]=o}};B.scale.aeV=function(D,n,_){return(D>>>_&255)+(n>>>_&255)>>>1};
B.scale.in=function(D,n){var _=B.scale.aeV;return _(D,n,24)<<24|_(D,n,16)<<16|_(D,n,8)<<8|_(D,n,0)};
B.scale.acI=function(D,n,_,b,w,i){var M=new Uint32Array(D.buffer),N=new Uint32Array(b.buffer);for(var a=0;
a<_;a++){for(var o=0;o<n;o++){var U=a*n+o,V=M[U],c=V,E=V,A=V;if(o<n-1)c=B.scale.in(V,M[U+1]);if(a<_-1)E=B.scale.in(V,M[U+n]);
if(o<n-1&&a<_-1)A=B.scale.in(V,M[U+n+1]);var Q=(a*w+o)*2;N[Q]=V;N[Q+1]=c;N[Q+w]=E;N[Q+w+1]=A}}if((w&1)==1)for(var a=0;
a<i;a++)N[a*w+w-1]=N[a*w+w-2];var J=w*(i-1);if((i&1)==1)for(var o=0;o<w;o++)N[J+o]=N[J-w+o]};B.scale.a8P=function(D,n,_,b,w,i,M,N){var a=0,o=w,U=0,V=i;
if(N){a=Math.floor(N.x/M);o=Math.ceil((N.x+N.l)/M);U=Math.floor(N.y/M);V=Math.ceil((N.y+N.e)/M)}for(var c=U;
c<V;c++)for(var E=a;E<o;E++){var A=0,Q=0,J=0,L=0,P=Math.min(M,n-E*M),u=Math.min(M,_-c*M);for(var k=0;
k<u;k++)for(var m=0;m<P;m++){var x=D[(M*c+k)*n+M*E+m],v=x>>>24;A+=v;Q+=v*(x>>>16&255);J+=v*(x>>>8&255);
L+=v*(x&255)}if(A!=0){var W=1/A;b[c*w+E]=A/(P*u)<<24|Q*W<<16|J*W<<8|L*W}else b[c*w+E]=0}};B.q={};B.q.apB=function(D,n,_){var b=128,k=0,w=_.l,i=_.e;
for(var M=0;M<i;M++)for(var N=0;N<w;N++){if(D[k]>=b&&(N==0||D[k-1]<b||(N==w-1||D[k+1]<b)||(M==0||D[k-w]<b)||(M==i-1||D[k+w]<b)))n[k]=255;
k++}};B.q.a4i=function(D,n,_,b){var w=new Uint32Array([4278190080,4294967295]),i=_.l,M=_.e,N=0,a=0,o=i,U=M;
if(b){N=b.x-_.x;a=b.y-_.y;o=N+b.l;U=a+b.e}var V=new Uint8Array(n.buffer),c=new Uint32Array(n.buffer);
for(var E=a;E<U;E++)for(var A=N;A<o;A++){var k=E*i+A;if((D[k]&128)!=0&&(E==0||(D[k-i]&128)==0||A==0||(D[k-1]&128)==0||A==i-1||(D[k+1]&128)==0||E==M-1||(D[k+i]&128)==0)){c[k]=w[(A+E&4)>>>2]}}};
B.q.ao3=function(D,n,_,b,w,i){var M=_.l,N=_.e,a=0,o=0,U=M,V=N;if(b){a=b.x-_.x;o=b.y-_.y;U=a+b.l;V=o+b.e}var c=new Uint8Array(n.buffer),E=new Uint32Array(n.buffer);
for(var A=o;A<V;A++)for(var Q=a;Q<U;Q++){var k=A*M+Q,J=D[k];if(w==1)E[k]=255-J>>>1<<24|255;else E[k]=255<<24|(J<<16|J<<8|J)}};
B.$c={};B.$c.vD=function(D,n,_){var b,w;if(_==0){b=D.rect.clone();w=B.$c.a1a}if(_==1){b=D.rect.Ik(n.rect);
w=B.$c.Ik}if(_==2){b=n.rect.clone();w=B.$c.acj}if(_==3){b=D.rect.zE(n.rect);w=B.$c.zE}if(_==4){b=D.rect.Ik(n.rect);
w=B.$c.a3O}if(b.hk())return null;var i=B.U(b.u());B.I4(n.channel,n.rect,i,b);var M=B.U(b.u());B.I4(D.channel,D.rect,M,b);
w(M,i,i);var N=B.y2(i,b);if(N.hk())return null;if(!N.l8(b)){var a=B.U(N.u());B.I4(i,b,a,N);i=a;b=N}return{channel:i,rect:b}};
B.$c.a1a=function(D,n,_){for(var k=0;k<D.length;k++)_[k]=D[k]};B.$c.Ik=function(D,n,_){for(var k=0;k<D.length;
k++)_[k]=Math.min(D[k]+n[k],255)};B.$c.acj=function(D,n,_){for(var k=0;k<D.length;k++)_[k]=Math.max(n[k]-D[k],0)};
B.$c.zE=function(D,n,_){var b=1/255;for(var k=0;k<D.length;k++)_[k]=D[k]*n[k]*b};B.$c.a3O=function(D,n,_){var b=1/255;
for(var k=0;k<D.length;k++)_[k]=Math.min(D[k]+n[k],255)-D[k]*n[k]*b};B.Ta=function(D,n){this.J=[];this.y5=[0];
this.Ja=[];this.jQ=[];this.Zj=[0];this.kN=[];this.d5=[];this.rows=D;this.cols=n};B.Ta.prototype.clone=function(){var D=this,n=D.rows,_=D.cols,b=new B.Ta(n,_);
b.J=D.J.slice(0);b.y5=D.y5.slice(0);b.Ja=D.Ja.slice(0);b.jQ=D.jQ.slice(0);b.Zj=D.Zj.slice(0);b.kN=D.kN.slice(0);
b.d5=D.d5.slice(0);return b};B.Ta.prototype.iD=function(D,n,_){var b=this.y5.length-1;for(var k=0;k<_;
k++){var w=D[k],i=n[k];this.J.push(w);this.Ja.push(i);if(i==b){this.d5.push(w==0?0:1/w)}else{this.jQ.push(w);
this.kN.push(i)}}this.y5.push(this.J.length);this.Zj.push(this.jQ.length)};B.Ta.prototype.ZV=function(D,n){var _=this,b=_.rows,w=_.J,i=_.Ja;
if(n==null)n=new Array(b);for(var k=0;k<b;k++){var M=_.y5[k],N=_.y5[k+1],a=0;while((N-M&3)!=0){a+=w[M]*D[i[M]];
M++}for(var o=M;o<N;o+=4)a+=w[o]*D[i[o]]+w[o+1]*D[i[o+1]]+w[o+2]*D[i[o+2]]+w[o+3]*D[i[o+3]];n[k]=a}return n};
B.Ta.prototype.multiply=function(D){return this.nw(D.V4())};B.Ta.prototype.nw=function(D){var n=this,_=n.rows,b=n.cols,w=D.rows,i=new B.Ta(_,w),M=n.Ja,N=D.Ja;
for(var k=0;k<_;k++){var a=[],o=[],U=n.y5[k],V=n.y5[k+1];for(var c=0;c<w;c++){var E=D.y5[c],A=D.y5[c+1],Q=0,J=U,L=E;
while(J<V&&L<A){var P=Math.max(M[J],N[L]);while(J<V&&M[J]<P)J++;while(L<A&&N[L]<P)L++;if(J<V&&L<A&&M[J]==N[L])Q+=n.J[J++]*D.J[L++]}if(Q!=0){a.push(Q);
o.push(c)}}i.iD(a,o,a.length)}return i};B.Ta.prototype.V4=function(){var D=this.rows,n=this.cols,_=[];
for(var k=0;k<n;k++)_.push([[],[]]);var b=this.J,w=this.y5,i=this.Ja;for(var k=0;k<D;k++){var M=w[k],N=w[k+1];
for(var a=M;a<N;a++){var o=_[i[a]];o[0].push(b[a]);o[1].push(k)}}var U=new B.Ta(n,D);for(var k=0;k<n;
k++)U.iD(_[k][0],_[k][1],_[k][1].length);return U};B.Ta.prototype.zl=function(){var D=this.rows,n=this.cols,_=new Array(D),b=this.J,w=this.y5,i=this.Ja;
for(var k=0;k<D;k++){var M=_[k]=new Array(n);for(var N=0;N<n;N++)M[N]=0;var a=w[k],o=w[k+1];for(var U=a;
U<o;U++)M[i[U]]=b[U]}return _};B.Ta.prototype.S3=function(D,n,_,b,w){function i(W,n,Z,r){var X=W.length;
for(var k=0;k<X;k++)r[k]=W[k]-n[k]*Z}function M(W,n,Z,r){var X=W.length,$=0;while((X-$&3)!=0){r[$]=W[$]+n[$]*Z;
$++}for(var k=$;k<X;k+=4){r[k]=W[k]+n[k]*Z;r[k+1]=W[k+1]+n[k+1]*Z;r[k+2]=W[k+2]+n[k+2]*Z;r[k+3]=W[k+3]+n[k+3]*Z}}function N(W,n,Z){var r=W.length;
for(var k=0;k<r;k++)Z[k]=W[k]*n[k]}function a(W,n){var Z=W.length,r=0,X=0;while((Z-r&3)!=0){X+=W[r]*n[r];
r++}for(var k=r;k<Z;k+=4)X+=W[k]*n[k]+W[k+1]*n[k+1]+W[k+2]*n[k+2]+W[k+3]*n[k+3];return X}var o=b!=null?2:1,U=Date.now(),V=0,c=this,E=D.slice(0),A=D.slice(0);
c.ZV(D,A);i(n,A,1,E);var Q=this.d5;if(o==0){Q=E.slice(0);Q.fill(1)}var J=E.slice(0);N(Q,E,J);var L=J.slice(0),P=a(E,J);
while(!0){c.ZV(L,A);var u=P/a(L,A);M(D,L,u,D);i(E,A,u,E);if((V&7)==0&&Math.sqrt(a(E,E))<_)break;if(o<=1)N(Q,E,J);
else{var m=E.slice(0);b.a68(m,E);w.ac9(J,m)}var x=a(E,J),v=x/P;M(J,L,v,L);P=x;V++}};B.Ta.prototype.agn=function(D,n,_,b){var w=Date.now(),i=1.96,N=0;
if(_==null)_=5e-6;if(b==null)b=1e9;var M=1-i,cQ=this.rows,a=this.jQ,o=this.Zj,U=this.kN,V=this.d5;while(!0){var c=0;
for(var k=0;k<cQ;k++){var E=n[k],A=o[k],Q=o[k+1];if(Q-A==4)E-=a[A]*D[U[A]]+a[A+1]*D[U[A+1]]+a[A+2]*D[U[A+2]]+a[A+3]*D[U[A+3]];
else for(var J=A;J<Q;J++)E-=a[J]*D[U[J]];var L=D[k]*M+V[k]*E*i,P=L-D[k];c+=P*P;D[k]=L}if(c/cQ<_||Date.now()>w+b)break}};
B.Ta.prototype.a7e=function(D,n,_,b){var w=Date.now(),i=1.96,N=0;if(_==null)_=5e-5;if(b==null)b=1e9;
var M=1-i,cQ=this.rows,a=this.jQ,o=this.Zj,U=this.kN,V=this.d5;while(!0){var c=0;for(var k=0;k<cQ;k++){var E=k*3,A=n[E],Q=n[E+1],J=n[E+2],L=o[k],P=o[k+1];
for(var u=L;u<P;u++){var m=a[u],x=U[u]*3;A-=m*D[x+0];Q-=m*D[x+1];J-=m*D[x+2]}var v=V[k]*i,W=D[E+0]*M+A*v,Z=D[E+1]*M+Q*v,r=D[E+2]*M+J*v,X=W-D[E+0],$=Z-D[E+1],I=r-D[E+2];
c+=.4*X*X+.5*$*$+.1*I*I;D[E+0]=W;D[E+1]=Z;D[E+2]=r}if(c/cQ<_||Date.now()>w+b)break}};B.O1={};B.O1.YE=function(D,n,_){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:D},Vrtc:{t:"doub",v:n},Cnty:{t:"bool",v:_}}}};
B.O1.A=function(D,n){for(var k=0;k<D.length;k++){var _=D[k].v,b=n.pm(new gZ(_.Hrzn.v,_.Vrtc.v));_.Hrzn.v=Math.round(b.x);
_.Vrtc.v=Math.round(b.y)}};B.O1.Lu=function(D,n,_){var cQ=D.length-1,b=B.Ox.Tp(cQ+1,cQ+2);for(var k=1;
k<cQ;k++){b[k][k-1]=1/(D[k]-D[k-1]);b[k][k]=2*(1/(D[k]-D[k-1])+1/(D[k+1]-D[k]));b[k][k+1]=1/(D[k+1]-D[k]);
b[k][cQ+1]=3*((n[k]-n[k-1])/((D[k]-D[k-1])*(D[k]-D[k-1]))+(n[k+1]-n[k])/((D[k+1]-D[k])*(D[k+1]-D[k])))}b[0][0]=2/(D[1]-D[0]);
b[0][1]=1/(D[1]-D[0]);b[0][cQ+1]=3*(n[1]-n[0])/((D[1]-D[0])*(D[1]-D[0]));b[cQ][cQ-1]=1/(D[cQ]-D[cQ-1]);
b[cQ][cQ]=2/(D[cQ]-D[cQ-1]);b[cQ][cQ+1]=3*(n[cQ]-n[cQ-1])/((D[cQ]-D[cQ-1])*(D[cQ]-D[cQ-1]));B.Ox.U4(b,_)};
B.O1.asy=function(D,n,_,b){if(D<=n[0])return _[0];if(D>=n[n.length-1])return _[n.length-1];var k=1;while(n[k]<D)k++;
var w=n[k],i=n[k-1],M=_[k],N=_[k-1],a=(D-i)/(w-i),o=b[k-1]*(w-i)-(M-N),U=-b[k]*(w-i)+(M-N),V=(1-a)*N+a*M+a*(1-a)*(o*(1-a)+U*a);
return V};B.O1.Yv=function(D,n,_,b){var w={Vh:[D[0]],r$:[n[0]],WW:[]};b[0]=w;for(var k=1;k<D.length-1;
k++){w.Vh.push(D[k]);w.r$.push(n[k]);if(_[k]==!1){B.O1.Lu(w.Vh,w.r$,w.WW);w={Vh:[D[k]],r$:[n[k]],WW:[]}}b[k]=w}w.Vh.push(D[k]);
w.r$.push(n[k]);B.O1.Lu(w.Vh,w.r$,w.WW);b[k]=w};B.O1.fU=function(D,n,_,b){if(D<=n[0])return _[0];if(D>=n[n.length-1])return _[n.length-1];
var k=1;while(n[k]<D)k++;var w=b[k-1];return B.O1.asy(D,w.Vh,w.r$,w.WW)};B.O1.MS=function(D){var n={Vh:[],r$:[],nj:[]};
for(var k=0;k<D.length;k++){n.Vh[k]=D[k].v.Hrzn.v;n.r$[k]=D[k].v.Vrtc.v;n.nj[k]=D[k].v.Cnty?D[k].v.Cnty.v:!0}return n};
B.O1.R5=function(D,cQ,n){var _=0,b=255;if(n){_=-1e9;b=1e9}var w=B.O1.MS(D),i=[];B.O1.Yv(w.Vh,w.r$,w.nj,i);
var M=[];for(var k=0;k<cQ;k++)M[k]=1/255*Math.max(_,Math.min(b,B.O1.fU(k*(255/(cQ-1)),w.Vh,w.r$,i)));
return M};B.O1.a5N=function(D,cQ,n){var _=Math.round(D.length/20),b=cQ-D.length,w=n?(D[_]-D[0])/_:0,i=n?D[0]-b*w:D[D.length-1],M=[];
for(var k=0;k<b;k++)M.push(i+k*w);return n?M.concat(D):D.concat(M)};B.O1.i8=function(D,cQ,n){var _=B.O1.MS(D),b=[];
B.O1.Yv(_.Vh,_.r$,_.nj,b);var w=new Uint8Array(cQ),i=cQ/256;for(var k=0;k<cQ;k++)w[k]=Math.max(0,Math.min(cQ-1,B.O1.fU(k*i,_.Vh,_.r$,b)));
if(n){w[0]=0;if(w[1]>100)w[1]=.4*w[1];if(w[2]>150)w[1]=.7*w[2]}return w};B.O1.DQ=function(D,n){var _=new Uint8Array(D.length);
for(var k=0;k<D.length;k++)_[k]=n[D[k]];return _};B.O1.N0=function(D,n,_){var b=document.createElement("canvas");
b.width=n;b.height=_;var w=b.getContext("2d"),i=B.O1.i8(D,256);w.scale(n/255,_/255);w.fillStyle="#fff";
w.fillRect(0,0,255,255);w.fillStyle="#333";w.beginPath();w.moveTo(0,255);for(var k=0;k<i.length;k++)w.lineTo(k,255-i[k]);
w.lineTo(255,255);w.closePath();w.fill();return b.toDataURL()};B.style={};B.style.stroke=function(D,n,_,b){var w=_.l,i=_.e,M=new Float64Array(w*i);
B.style.qh(D,M,w,i);B.style.rg(n,_,M,_,b)};B.style.rg=function(D,n,_,b,w){var i=n.zE(b),M=i.l,N=i.e;
w+=.5;var a=i.x-n.x,o=i.y-n.y,U=n.l,V=i.x-b.x,c=i.y-b.y,E=b.l;for(var A=0;A<N;A++){var Q=(A+c)*E+V,J=(A+o)*U+a;
for(var L=0;L<M;L++){var P=Math.max(0,Math.min(1,w-_[Q+L]));D[J+L]=Math.round(P*255)}}};B.style.a78=function(D,n,_,b){for(var w=0;
w<_;w++)for(var i=0;i<n;i++){var M=w*n+i,N=0,a=0,o=D[M];if(i==0||w==0){N=D[M+1]-o;a=D[M+n]-o}else if(i==_-1||w==n-1){N=o-D[M-1];
a=o-D[M-n]}else{N=D[M+1]-D[M-1];a=D[M+n]-D[M-n]}if(N!=0||a!=0){var U=1/Math.sqrt(N*N+a*a);N*=U;a*=U}b[M+M]=N;
b[M+M+1]=a}};B.style.qh=function(D,n,_,b){var w=0,i=_*b;for(var k=0;k<i;k++)w|=D[k];if(w==0){n.fill(1e9);
return}var M=B.style.eD(D,_,b);for(var N=0;N<b;N++)for(var a=0;a<_;a++){var k=N*_+a,o=M[k*2],U=M[k*2+1],V=(N+U)*_+a+o;
if(o==0&&U==0){n[k]=0;continue}var c=Math.sqrt(o*o+U*U),E=D[V]*(1/255),A=1/c,Q=Math.abs(o)*A,J=Math.abs(U)*A;
if(J>Q){var L=J;J=Q;Q=L}n[k]=c+B.style.aun(Q,J,E)}};B.style.aun=function(D,n,_){return(.5-_)*D};B.style.eD=function(D,n,_,b){var w=new Int16Array(n*_*2);
B.style.am9(D,w,n,_,128);return w};B.style.am9=function(D,n,_,b,w){var i=new Int32Array(_*b);B.style.ajd(D,i,_,b,w);
B.style.agF(i,n,_,b)};B.style.ajd=function(D,n,_,b,w){var i=new Int32Array(b);for(var M=0;M<_;M++){var N=_+b;
for(var a=b-1;a>=0;a--){if(D[a*_+M]>w)N=0;else N++;i[a]=N}N=_+b;for(var a=0;a<b;a++){if(D[a*_+M]>w)N=0;
else N++;n[a*_+M]=N<i[a]?-N:i[a]}}};B.style.agF=function(D,n,_,b){var w=(_+b)*(_+b),i=new Float64Array(_),M=new Uint16Array(_);
for(var N=0;N<b;N++){var a=N*_,o=0;M[0]=0;i[0]=-w;i[1]=+w;for(var U=1;U<_;U++){var V=D[U+a]*D[U+a]+U*U,c=(V-(D[M[o]+a]*D[M[o]+a]+M[o]*M[o]))/(2*U-2*M[o]);
while(c<=i[o]){o--;c=(V-(D[M[o]+a]*D[M[o]+a]+M[o]*M[o]))/(2*U-2*M[o])}o++;M[o]=U;i[o]=c;i[o+1]=w}o=0;
for(var U=0;U<_;U++){while(i[o+1]<U)o++;var E=M[o]-U,A=D[M[o]+a],k=N*_+U<<1;n[k]=E;n[k+1]=A}}};B.style.zj=function(D,n,_){if(_)for(var k=0;
k<D.length;k++){var b=D[k];if(b>0)D[k]=Math.max(0,Math.min(255,b+n*2*(B.style.wn(k)-128)))}else for(var k=0;
k<D.length;k++){var b=D[k];if(b>0)D[k]=Math.max(0,Math.min(255,b+Math.min(b*3,n*2*(B.style.wn(k)-128))))}};
B.style.wn=function(D){D=D^61^D>>16;D=D+(D<<3);D=D^D>>4;D=D*668265261;D=D^D>>15;return D&255};B.vU={};
B.vU.Km=function(D,n,_){var b=D.canvas;if(b.width!=n||b.height!=_){b.width=n;b.height=_}};B.vU.lL=function(D,n,_,b,w,i){B.vU.Km(D,n,_);
if(i==null)i=!1;var M=w.channel,N=w.rect,a=!w.isEnabled;if(n*_==0)return;var o=D.createImageData(n,_),U=o.data,V=1/n,c=1/_;
for(var k=0;k<_;k++)for(var E=0;E<n;E++){var A=k*n+E,Q=A*4,J=Math.round(b.x+E*V*b.l),L=Math.round(b.y+k*c*b.e),P=0;
if(J<N.x||J>=N.x+N.l||L<N.y||L>=N.y+N.e)P=w.color;else P=M[(L-N.y)*N.l+(J-N.x)];P=255*(255-w._i)+P*w._i>>>8;
if(i)P=170+Math.round(.4*(P-170));U[Q]=P;U[Q+1]=P;U[Q+2]=P;U[Q+3]=255}D.putImageData(o,0,0);if(a)B.vU.z1(D,n,_)};
B.vU.Pd=[];B.vU.af4=function(D,n,_,b){var w,i,M;w=Math.ceil(Math.max(n,_)*.35);i=n-w;M=_-w;var N=B.vU.Pd[w];
if(N==null){var a=B.HY(w,w);a.fillStyle="#eeeeee";a.fillRect(0,0,w,w);var o=Math.round(w*.27),U=a.lineWidth=Math.max(1,Math.round(w*.12)),V=U/2;
a.strokeRect(1+V,1+V,w-U-2,w-U-2);a.strokeRect(o+V,o+V,w-o-o-U,w-o-o-U);N=B.vU.Pd[w]=a.getImageData(0,0,w,w)}D.putImageData(N,i,M)};
B.vU.qM=[];B.vU.a4a=function(D,n,_){var b,w,i;b=Math.ceil(Math.max(n,_)*.35);w=n-b;i=_-b;var M=B.vU.qM[b];
if(M==null){var N=B.HY(b,b);N.fillStyle="#eeeeee";N.fillRect(0,0,b,b);N.lineWidth=1;N.strokeRect(2.5,2.5,b-5,b-5);
var a=N.createImageData(3,3);B.o5(a.data,4278190080);a.data[4*4]=a.data[4*4+1]=a.data[4*4+2]=238;N.putImageData(a,1,1);
N.putImageData(a,b-4,1);N.putImageData(a,1,b-4);N.putImageData(a,b-4,b-4);M=B.vU.qM[b]=N.getImageData(0,0,b,b)}D.putImageData(M,w,i)};
B.vU.a4m=function(D,n,_,b,w){B.vU.Km(D,n,_);var i=n/b.l;if(n*_==0)return;D.fillStyle="#999999";D.setTransform(1,0,0,1,0,0);
D.clearRect(0,0,n,_);var M=B.vU.xN;if(M==null){M=B.vU.xN=JSON.parse(JSON.stringify(ci.yg.default));M.strokeEnabled.v=!0}M.strokeStyleLineWidth.v.val=1/i;
D.fillStyle="#ffffff";D.scale(i,i);B.$.hC(w.Y,D,0,0);B.$.hC(w.Y,D,0,0,M)};B.vU.j$=null;B.vU.CT=function(D,n,_,b,w,i,M,N){B.vU.Km(D,n,_);
if(n*_==0)return;var a=Math.max(n,_),o=B.vU.j$;if(o==null||o.width<a||o.height<a){B.vU.j$=o=D.createImageData(a,a)}a=o.width;
var U=o.data,V=b.l/n,c=b.e/_,E=i.x,A=i.x+i.l,Q=i.y,J=i.y+i.e;for(var k=0;k<_;k++)for(var L=0;L<n;L++){var P=k*a+L,u=P*4,m=~~(b.x+L*V),x=~~(b.y+k*c),v=B.V0(k,L,2);
if(m<E||m>=A||x<Q||x>=J){U[u]=v;U[u+1]=v;U[u+2]=v;U[u+3]=255}else{var W=(x-i.y)*i.l+(m-i.x)<<2,Z=w[W+3]*(1/255);
U[u]=w[W+0]*Z+v*(1-Z);U[u+1]=w[W+1]*Z+v*(1-Z);U[u+2]=w[W+2]*Z+v*(1-Z);U[u+3]=255}}if(N!=null)for(var k=0;
k<U.length;k+=4)U[k]=U[k+1]=U[k+2]=U[k+N];D.putImageData(o,0,0);if(M)B.vU.z1(D,n,_)};B.vU.a35=function(D,n,_,b){B.vU.Km(D,n,_);
D.fillStyle=B.vU.kj(b.Clr.v);D.fillRect(0,0,n,_);B.vU.sI(D,n,_)};B.vU.bK=null;B.vU.ac5=function(D,n,_,b){B.vU.Km(D,n,_);
var w=D.canvas.width,i=D.canvas.height,M=B.vU.bK;if(M==null||M.width!=w||M.height!=i){D.fillStyle="#ffffff";
D.fillRect(0,0,n,_);D.fillStyle="#000000";D.font=""+_*.7+"px serif";D.fillText("T",(n-_*.43)/2,_*.75);
D.fillText("T",(n-_*.43)/2,_*.75);B.vU.bK=D.getImageData(0,0,w,i)}else D.putImageData(M,0,0)};B.vU.agk=function(D,n,_){B.vU.Km(D,n,_);
D.clearRect(0,0,n,_);D.font=_*.7+"px serif";D.fillText(":(",(n-_*.43)/2,_*.7)};B.vU.agu=function(D,n,_,b){B.vU.Km(D,n,_);
var w=fg.get(b),i=D.canvas.width,M=B.vU.Xo[i+w];if(M==null){var N=PIMG["adj/"+w],a=eF.dw(N),o=UPNG.decode(a.buffer),U=new Uint8Array(UPNG.toRGBA8(o)[0]),V=new gl(0,0,160,160),c=0,E=i-c*2,A=G.Q.XB([U,V],new e3(E/160,0,0,E/160,0,0)),Q=new gl(0,0,i,i),J=B.U(Q.u()*4);
B.a.dG("norm",A.buffer,A.rect,J,Q,A.rect,1);M=B.vU.Xo[i+w]=new ImageData(new Uint8ClampedArray(J.buffer),i,i)}D.putImageData(M,0,0)};
B.vU.Xo={};B.vU.a4B=function(D,n,_,b){B.vU.Km(D,n,_);var w=D.canvas.width,i=D.canvas.height,M=D.getImageData(0,0,w,i);
B.X.j2(b.Grad.v,new Uint8Array(M.data.buffer),new gl(0,0,w,i),[1/w,0,0,1/i],w/2,i/2,!1,0,16711680,65280);
D.putImageData(M,0,0);B.vU.sI(D,n,_)};B.vU.aaA=function(D,n,_,b,w){B.vU.Km(D,n,_);var i=D,M=aL.Qf(b.Ptrn.v,w.add.Patt);
if(M==null)return;var N=M.vt[1];B.vU.CT(D,n,_,N,M.vt[0],N,!1);B.vU.sI(i,n,_)};B.vU.z1=function(D,n,_){D.strokeStyle="#bb0000";
D.lineWidth=3;D.beginPath();D.moveTo(n*.15,_*.15);D.lineTo(n*.85,_*.85);D.moveTo(n*.85,_*.15);D.lineTo(n*.15,_*.85);
D.closePath();D.stroke()};B.vU.sI=function(D,n,_){D.fillStyle="#eeeeee";D.fillRect(0,_*.75,n,_*.25);
D.beginPath();D.moveTo(0,_*.75);D.lineTo(n,_*.75);D.moveTo(n*.1,_*.875);D.lineTo(n*.9,_*.875);D.moveTo(n*.65,_*.825);
D.lineTo(n*.65,_*.95);D.closePath();D.stroke()};B.vU.kj=function(D){var n=B.X.kj(D),_=Math.round(n.p)<<16|Math.round(n.z)<<8|Math.round(n.S);
return"#"+B.xQ(_)};B.$={};B.$.fN=function(D,n,_){var b=[],w=-1;for(var k=0;k<D.length;k++){var i=D[k];
if((i.type==0||i.type==3)&&i.gW!=-1)w++;if(i.type>5||i.type==0||i.type==3)continue;if(n!=null&&n.indexOf(w)==-1)continue;
if(_!=null&&_.indexOf(k)==-1)continue;b.push(i.US.x);b.push(i.US.y);b.push(i.Z.x);b.push(i.Z.y);b.push(i.As.x);
b.push(i.As.y)}return b};B.$.o$=function(D,n,_,b){var w=0,i=-1;for(var k=0;k<n.length;k++){var M=n[k];
if((M.type==0||M.type==3)&&M.gW!=-1)i++;if(M.type>5||M.type==0||M.type==3)continue;if(_!=null&&_.indexOf(i)==-1)continue;
if(b!=null&&b.indexOf(k)==-1)continue;M.US.bq(D[w],D[w+1]);M.Z.bq(D[w+2],D[w+3]);M.As.bq(D[w+4],D[w+5]);
w+=6}};B.$.vZ=function(D,n,_,b){var w=B.$.fN(D,_,b);B.H.A(w,n,w);B.$.o$(w,D,_,b)};B.$.ajM=function(D,n,_,b){var w=B.$.fN(D,_,b);
B.N.A(n,w);B.$.o$(w,D,_,b)};B.$.aeq=function(D,n,_,b){if(_==null&&b==null){var w=B.$.asQ(D,40);for(var k=0;
k<w.length;k++)D[k]=w[k]}var i=B.$.fN(D,_,b);B.Uo.A(n,i,B.H.t0(i));B.$.o$(i,D,_,b)};B.$.asQ=function(D,n){var _=[];
for(var k=0;k<D.length;k++){var b=D[k];if(b.type>5){_.push(JSON.parse(JSON.stringify(b)));continue}var w=B.$.abd(D,k+1,b.length);
w=B.H.U$(w,n);var i=B.$.aqF(w);k+=b.length;b=JSON.parse(JSON.stringify(b));b.length=i.length;_.push(b);
for(var M=0;M<i.length;M++)_.push(i[M])}return _};B.$.abd=function(D,n,_){var b={C:["M"],t:[]},w=D[n],i=D[n+_-1];
b.t.push(w.Z.x,w.Z.y);for(var k=1;k<_;k++){var M=D[n+k-1],N=D[n+k];b.C.push("C");b.t.push(M.As.x,M.As.y,N.US.x,N.US.y,N.Z.x,N.Z.y)}b.C.push("C");
b.t.push(i.As.x,i.As.y,w.US.x,w.US.y,w.Z.x,w.Z.y);return b};B.$.aqF=function(D){var n=[],_=D.C,b=D.t,w=0,cQ=b.length;
n.push({type:2,US:new gZ(b[cQ-4],b[cQ-3]),Z:new gZ(b[0],b[1]),As:new gZ(b[2],b[3])});for(var k=0;k<_.length-2;
k++){var i=k*6+4;n.push({type:2,US:new gZ(b[i],b[i+1]),Z:new gZ(b[i+2],b[i+3]),As:new gZ(b[i+4],b[i+5])})}return n};
B.$.a6X=function(D){for(var k=0;k<D.length;k++){if(D[k].type>5)continue;var n=D[k].length;if(!(n==4||n==6||n==8)){k+=n;
continue}for(var _=0;_<n;_++){var b=D[k+1+_],w=D[k+1+(_+1)%n],i=Math.min(b.Z.x,w.Z.x),M=Math.min(b.Z.y,w.Z.y),N=0,a=0;
if(b.Z.x<w.Z.x){N=b.Z.y-M;a=N-(w.Z.x-i)}else{N=w.Z.y-M;a=N-(b.Z.x-i)}if(Math.abs(a)<.2*N)return N}}return-1};
B.$.DJ=function(D,n,_){function b(c,E){var A=Math.min(c.x,E.x),Q=Math.min(c.y,E.y),J=Math.max(c.x+c.l,E.x+E.l),L=Math.max(c.y+c.e,E.y+E.e);
return new gl(A,Q,J-A,L-Q)}var w=null,i=-1,M=!B.$.XL(D);for(var k=0;k<D.length;k++){var N=D[k];if(N.type>5)continue;
if((N.type==0||N.type==3)&&N.gW!=-1)i++;if(n!=null&&n.indexOf(i)==-1)continue;if(k==D.length-1)break;
var a=N.type==3,o=N.length,U=N.gW,V=B.$.anq(D,k+1,o,a);if(w==null)w=V;else if(_)w=b(w,V);else if(M){if(n!=null||U==0||U==-1||U==2)w=b(w,V);
else if(U==1)w=w;else if(U==3){w=V;M=!1}}else{if(n!=null||U==0||U==-1||U==1)w=b(w,V);else if(U==2)w=w;
else if(U==3)w=w.zE(V)}k+=o}if(w==null||w.l<0||w.e<0)w=new gl(0,0,0,0);return w};B.$.asa=new Float64Array(4);
B.$.anq=function(D,k,n,_){var b=B.$.asa;b[0]=1e30;b[1]=1e30;b[2]=-1e30;b[3]=-1e30;var w=D[k+n-1];if(!_)B.$.rt(w.Z.x,w.Z.y,w.As.x,w.As.y,D[k].US.x,D[k].US.y,D[k].Z.x,D[k].Z.y,b);
for(var i=k;i<k+n-1;i++){var M=D[i],N=D[i+1];B.$.rt(M.Z.x,M.Z.y,M.As.x,M.As.y,N.US.x,N.US.y,N.Z.x,N.Z.y,b)}return new gl(b[0],b[1],b[2]-b[0],b[3]-b[1])};
B.$.rt=function(D,n,_,b,w,i,M,N,a){if(D==_&&n==b&&w==M&&i==N){a[0]=Math.min(a[0],Math.min(D,M));a[1]=Math.min(a[1],Math.min(n,N));
a[2]=Math.max(a[2],Math.max(D,M));a[3]=Math.max(a[3],Math.max(n,N));return}var o=D,U=n,V=D,c=n,E=40,A=1/(E-1);
for(var Q=0;Q<E;Q++){var J=Q*A,L=1-J,P=L*L*L,u=3*L*L*J,m=3*L*J*J,x=J*J*J,v=P*D+u*_+m*w+x*M,W=P*n+u*b+m*i+x*N;
if(v<o)o=v;else if(v>V)V=v;if(W<U)U=W;else if(W>c)c=W}if(o<a[0])a[0]=o;if(U<a[1])a[1]=U;if(V>a[2])a[2]=V;
if(c>a[3])a[3]=c};B.$.p1=function(D,n){var _=D.length-3,b=n%_,w=Math.floor(b);if(n<0||w>=_)return null;
var i=D[3+w],M=D[3+(w+1)%_],N=i.Z,a=i.As,o=M.US,U=M.Z,V=b-w,c=1-V,E=c*c*c*N.x+3*c*c*V*a.x+3*c*V*V*o.x+V*V*V*U.x,A=c*c*c*N.y+3*c*c*V*a.y+3*c*V*V*o.y+V*V*V*U.y;
return new gZ(E,A)};B.$.U1=function(D){var n=B.H.NR(D),_=n.Y0;n.Y0=Typr.U.pathToSVG({crds:_.t,cmds:_.C},2);
return n};B.$.Ud=function(D){B.$.zh();var n,_=B.$.cl(D),b=[];for(var k=0;k<_.length;k++){var w=_[k][0],i=_[k][1];
if(Math.abs(w.area)<1e-5)b.push(w);else if(n==null)n=w;else{if(!w.closed)w.closed=!0;n=n[i](w);n.remove()}}if(n==null)n=new paper.CompoundPath(b);
else{if(n.segments)n=new paper.CompoundPath(n);for(var k=0;k<b.length;k++){n.addChild(b[k])}}var M=D.slice(0,2);
M=M.concat(B.$.t9(n));if(M[2])M[2].gW=1;for(var k=3;k<M.length;k++)if(M[k].gW!=null)M[k].gW=-1;return M};
B.$.zh=function(){if(B.$.ad7==null){var D=document.createElement("canvas");paper.setup(D);B.$.ad7=!0}};
B.$.aq0=function(D,n){B.$.zh();var _=[],b=B.$.cl(D),w=new paper.Path.Rectangle(new paper.Rectangle(n.x,n.y,n.l,n.e));
w.remove();w.fillColor=new paper.Color(1,0,0);for(var k=0;k<b.length;k++){if(w.intersects(b[k][0])||w.contains(b[k][0].children[0].segments[0].point))_.push(k)}return _};
B.$.ql=function(D,n,_,b){B.$.zh();var w=_?{curves:!0,tolerance:b}:null,i=new paper.Point(n.x,n.y),M=B.$.cl(D);
for(var k=M.length-1;k>=0;k--){var N=M[k][0],a=N.hitTest(i,w);if(a!=null)return{gH:k,WO:_?a.location.index:null}}return{gH:-1}};
B.$.Ix=function(D,n,_){var b=[[],[],[]];for(var k=0;k<D.length;k++){var w=D[k];if(w.type>5||w.type==0||w.type==3)continue;
var i=_==null?!0:_.indexOf(k)!=-1;if(n.A1(w.Z))b[0].push(k);if(n.A1(w.US)&&i)b[1].push(k);if(n.A1(w.As)&&i)b[2].push(k)}return b};
B.$.asi=function(D,n,_){var b=_.slice(0),w=[null,null],i=-1,N=null;for(var k=2;k<D.length;k++){if((D[k].type==0||D[k].type==3)&&D[k].gW!=-1)i++;
w[k]=_[i]}_=w;var M=D.slice(0,2);w=_.slice(0,2);for(var k=2;k<D.length;k++){if(D[k].type==0||D[k].type==3){N=D[k];
M.push(N);w.push(_[k])}else{if(n.indexOf(k)==-1){M.push(D[k]);w.push(_[k])}else{N.length--;B.dd.dU(_,k)}}}for(var k=2;
k<M.length;k++){var a=M[k];if(a.type!=0&&a.type!=3)continue;if(a.length==0){if(M[k+1]&&M[k+1].gW==-1){M[k+1].gW=a.gW}w.splice(k,1);
M.splice(k,1);k--}}for(var k=0;k<b.length;k++)if(w.indexOf(b[k])==-1){b.splice(k,1);k--}return M};B.$.ak5=function(D,n){var _=D.slice(0,2),b=-1;
for(var k=2;k<D.length;k++){if((D[k].type==0||D[k].type==3)&&D[k].gW!=-1)b++;if(n.indexOf(b)==-1)_.push(D[k])}return _};
B.$.alS=function(D,n){var _=D.slice(0,2),b=-1;for(var k=2;k<D.length;k++){if((D[k].type==0||D[k].type==3)&&D[k].gW!=-1)b++;
if(n.indexOf(b)!=-1)_.push(D[k])}return _};B.$.a9O=function(D){var n=0;for(var k=0;k<D.length;k++)if(D[k].type==0||D[k].type==3)n=k;
return D[n]};B.$.Vz=function(D){var n=-1;for(var k=0;k<D.length;k++)if((D[k].type==0||D[k].type==3)&&D[k].gW!=-1)n++;
return n+1};B.$.ay=function(D,n,_){var b=-1;for(var k=0;k<D.length;k++)if((D[k].type==0||D[k].type==3)&&(_||D[k].gW!=-1)){b++;
if(b==n)return k}return-1};B.$.tM=function(D,n,_){var b=-1;for(var k=0;k<D.length;k++)if((D[k].type==0||D[k].type==3)&&(_||D[k].gW!=-1)){if(k>=n)return b;
b++}return b};B.$.KK=function(D,n){var _=-1,b=0;for(var k=0;k<D.length;k++){if((D[k].type==0||D[k].type==3)&&D[k].gW!=-1)_++;
if(_==n)b++}return b};B.$.a0u=function(D){var n=180;for(var k=0;k<D.length;k++){if(D[k].type!=0&&D[k].type!=3)continue;
var _=D[k].length;if(_<3)continue;for(var b=0;b<_;b++){var w=D[k+1+(b-1+_)%_],i=D[k+1+b],M=D[k+1+(b+1)%_],N=i.Z,a=i.US.l8(N)?w.As:i.US,o=i.As.l8(N)?M.US:i.As;
if(N.l8(a)||N.l8(o))continue;var U=a.x-N.x,V=a.y-N.y,c=o.x-N.x,E=o.y-N.y,a=Math.atan2(a.y-N.y,a.x-N.x)*180/Math.PI,o=Math.atan2(o.y-N.y,o.x-N.x)*180/Math.PI,A=Math.abs(o-a)%360,Q=A>180?360-A:A;
if(Q<n)n=Q}}return n*Math.PI/180};B.$.t9=function(D){var n=D.segments?[D]:D.children,_=[];for(var k=0;
k<n.length;k++){var b=n[k],w=b.segments,i=b.closed?0:3,M=_.length,N=null;if(w.length<=1)continue;_.push({type:i,length:w.length,gW:0,bB:2});
for(var a=0;a<w.length;a++){var o=w[a],U=new gZ(o.handleIn.x,o.handleIn.y),V=new gZ(o.handleOut.x,o.handleOut.y),c=new gZ(o.point.x,o.point.y),E={type:i+1,US:c.add(U),Z:c,As:c.add(V)};
if(N==null)N=E;_.push(E);if(a+1==w.length&&gZ._e(N.Z,E.Z)<1e-5){_.pop();_[M].length--;N.US=E.US;if(i==3)for(var A=M;
A<_.length;A++)_[A].type-=3}}}return _};B.$.cl=function(D){B.$.zh();var n=[],_,b=new paper.Color(1,0,0);
function w(E,N){E.remove();E.closed=!N;E.fillRule="evenodd"}for(var k=0;k<D.length;k++){if(D[k].type>5)continue;
var i=D[k].length,M;if(k==D.length-1)break;var N=D[k].type==3;if(k==2){if(!B.$.UN(D))M="subtract";else M="unite"}else{if(D[k].gW==0)M="exclude";
if(D[k].gW==1)M="unite";if(D[k].gW==2)M="subtract";if(D[k].gW==3)M="intersect"}if(D[k].gW!=-1){_=new paper.CompoundPath;
n.push([_,M]);_.fillRule="evenodd";_.fillColor=b}var a=[];for(var o=0;o<i;o++){var U=D[k+1+o],V=U.US.mG(U.Z),c=U.As.mG(U.Z);
a.push([[U.Z.x,U.Z.y],[V.x,V.y],[c.x,c.y]])}var E=new paper.Path(a);w(E,N);_.addChild(E);k+=i}return n};
B.$.Rg=function(D){for(var k=0;k<D.length;k++){var n=D[k];if(n.Z==null)continue;if(!n.Z.l8(n.US)||!n.Z.l8(n.As))return!1}return!0};
B.$.a6l=function(D){if(D.length<=5)return 0;var n=0,_=D.length-3-1;for(var k=0;k<_;k++){var b=D[3+k],w=D[3+k+1];
if(b.type==0||w.type==0)return 0;n+=(w.Z.x-b.Z.x)*(b.Z.y+w.Z.y)}n+=(D[3].Z.x-D[3+_].Z.x)*(D[3+_].Z.y+D[3+1].Z.y);
return-n*.5};B.$.XL=function(D){var n=D[2],_=!1;if(D.length==2)_=D[1].all==0;else if(D[1].all==1){if(n.gW==1||n.gW==3)_=!0;
else _=!1}else{if(n.gW==1||n.gW==3||n.gW==0)_=!0;else _=!1}return _};B.$.UN=function(D){var n=B.$.XL(D);
for(var k=3;k<D.length;k++)if(D[k].gW==3)n=!0;return n};B.$.auM=0;B.$.e9=0;B.$.aaN=0;B.$.adt=function(D,n,_,b){if(_.hk())return;
var w=_.u(),L=16384;B.$.auM+=w;if(w>B.$.e9){B.$.e9=w}var i=_.l,M=_.e;if(b==null&&B.$.Rg(D)){var N=!0;
for(var k=2;k<D.length;)if(D[k].length==2)k+=3;else{N=!1;break}if(N){return}if(B.$.DI(D)){n.fill(255);
var a=B.$.DJ(D);if(a.u()!=w){var o=1-(a.x-_.x),U=1-(a.y-_.y),V=1-(_.x+_.l-(a.x+a.l)),c=1-(_.x+_.e-(a.x+a.e)),E=~~(o*255),A=~~(V*255),Q=~~(U*255),J=~~(c*255);
n.fill(Q,0,i);n[0]=~~(o*U*255);n[i-1]=~~(V*U*255);for(var k=i;k<w;k+=i){n[k]=E;n[k+i-1]=A}n.fill(J,(M-1)*i,M*i);
n[w-i]=~~(o*c*255);n[w-1]=~~(V*c*255)}return}}var P=Math.ceil(i/L),u=Math.ceil(M/L),m=Math.ceil(i/P),x=Math.ceil(M/u),v=Date.now();
for(var W=0;W<u;W++)for(var Z=0;Z<P;Z++){var r=Z*m,X=W*x,$=m,I=x,T=B.HY($,I);if(!B.$.XL(D))T.fillRect(0,0,$,I);
B.$.hC(D,T,-_.x-r,-_.y-X,b);var e=new Uint8Array(T.getImageData(0,0,$,I).data.buffer);if($==i&&I==M)B.Ef(e,n,3);
else B.bh(e,new gl(r,X,$,I),n,new gl(0,0,i,M))}};B.$.hC=function(D,n,_,b,w){if(w!=null){var i=!1,M=!1,N=0,a=!1;
for(var k=0;k<D.length;k++){var o=D[k].gW;if(o!=null){N++;if(o==-1)i=!0;if(o>0)M=!0;if(D[k].type==0)a=!0}}if(!i&&N<20&&(w==null||a))D=B.$.Ud(D)}for(var k=0;
k<D.length;k++){if(D[k].type>5)continue;var U=D[k].length;if(U==0)continue;if(k==D.length-1)break;var V=D[k].type==3,o=D[k].gW;
if(o!=-1&&w==null){var c=["xor","source-over","destination-out","source-in"][o];n.globalCompositeOperation=c}if(D[k].gW!=-1){n.beginPath();
if(w){var E=w.strokeStyleLineWidth.v.val,A=w.strokeStyleLineAlignment.v.strokeStyleLineAlignment,Q=w.strokeStyleLineCapType.v.strokeStyleLineCapType,J=w.strokeStyleLineJoinType.v.strokeStyleLineJoinType,L=w.strokeStyleMiterLimit.v,P=[],u=w.strokeStyleLineDashSet.v;
for(var m=0;m<u.length;m++)P.push(u[m].v.val*E);n.setLineDash(P);n.lineCap=["butt","round","square"][ci.yg.Xr.indexOf(Q)];
n.lineJoin=["miter","round","bevel"][ci.yg.join.indexOf(J)];n.lineWidth=ci.yg.l9.indexOf(A)==1?E:E*=2;
n.miterLimit=L}}B.$.a25(n,D,k+1,U,_,b,V);if(V){}else n.closePath();if(D[k+1+U]==null||D[k+1+U].gW!=-1){if(w)n.stroke();
else n.fill("evenodd")}k+=U}n.globalCompositeOperation="source-over"};B.$.a25=function(D,n,k,_,b,w,i){var M=n[k],N=null;
D.moveTo(M.Z.x+b,M.Z.y+w);for(var a=k;a<k+_-1;a++){M=n[a];N=n[a+1];D.bezierCurveTo(M.As.x+b,M.As.y+w,N.US.x+b,N.US.y+w,N.Z.x+b,N.Z.y+w)}if(!i){M=n[a];
N=n[k];D.bezierCurveTo(M.As.x+b,M.As.y+w,N.US.x+b,N.US.y+w,N.Z.x+b,N.Z.y+w)}};B.$.a5K=function(D,n){var _=[],b=n?4:1;
for(var k=0;k<D.length;k+=2){var w=new gZ(D[k],D[k+1]);_.push({type:b,US:w.clone(),Z:w.clone(),As:w.clone()})}return _};
B.$.A5=function(D,n){B.$.zh();var _=new paper.Path;_.remove();var b=D.length-1,w=Math.sqrt((D[b-1]-D[0])*(D[b-1]-D[0])+(D[b]-D[1])*(D[b]-D[1]))<3;
_.closed=w;for(var k=0;k<D.length;k+=2)_.add(new paper.Point(D[k],D[k+1]));_.simplify(n);var i=[{type:6},{type:8,all:0}];
i=i.concat(B.$.t9(_));return i};B.$.qD=function(D,n,_){var b=D[n].length,w=D[n].type,i=0,M=D.slice(n+1,n+1+b);
for(var k=0;k<b;k++){var N=_[(k-1+b)%b],a=_[(k+1+b)%b],o=_[k];if(o!=0){var U=M[(k-1+b)%b].Z,V=M[(k+0+b)%b].Z,c=M[(k+1+b)%b].Z,E=gZ._e(V,U),A=gZ._e(V,c),Q=B.H.to(U.x,U.y,V.x,V.y,c.x,c.y,o)[0],J=Math.min(Q,N==0?E:E/2,a==0?A:A/2);
o*=J/Q;var L=B.H.ej(U.x,U.y,V.x,V.y,c.x,c.y,o),P={type:w+1,US:new gZ(L[2],L[3]),Z:new gZ(L[2],L[3]),As:new gZ(L[4],L[5])},u={type:w+1,US:new gZ(L[6],L[7]),Z:new gZ(L[8],L[9]),As:new gZ(L[8],L[9])};
D.splice(n+i+1,1,P,u);i++;D[n].length++}i++}};B.$.Rg=function(D){for(var k=0;k<D.length;k++){var n=D[k],_=n.type;
if(_==1||_==2||_==4||_==5)if(!n.Z.l8(n.US)||!n.Z.l8(n.As))return!1}return!0};B.$.DI=function(D){if(D.length!=7||!B.$.Rg(D))return!1;
for(var k=0;k<4;k++){var n=!0;for(var _=0;_<4;_++){var b=D[3+(k+_&3)],w=D[3+(k+_+1&3)];if(b.Z.x!=w.Z.x&&b.Z.y!=w.Z.y)n=!1}if(n)return!0}return!1};
B.$.yA={};B.$.yA.n_=function(D,n,_){var b=[{type:6},{type:8,all:0}],w=null;b.push({type:_?3:0,gW:1,length:0,at:0,iB:0,bB:1});
if(n==0)w==null;else if(n instanceof Array)w=n;else{w=[];for(var k=0;k<D.length;k+=2)w.push(n)}b=b.concat(B.$.a5K(D,_));
b[2].length=b.length-3;if(w)B.$.qD(b,2,w);return b};B.$.yA.ahG=function(D,n,_,b,w){var i=[],M=[],N=.553,a=1,o=-1;
i.push({type:1,US:new gZ(0,N),Z:new gZ(0,0),As:new gZ(0,-N)});w+=2;for(var k=0;k<w;k++){var U={type:1};
if(k==0){U.Z=new gZ(1,-1);U.US=new gZ(1-N,-1);U.As=new gZ(1+N,-1)}else{var V=-(k+2)*Math.PI/2,c=1+((k&1)==1?k-1:k),E=Math.sin(V),A=Math.cos(V);
a+=c*(E-A);o+=c*(A+E);U.Z=new gZ(a,o);U.US=new gZ(a+c*A*N,o-c*E*N);if((k&1)==1)c+=2;U.As=new gZ(a-c*A*N,o+c*E*N)}var Q={type:1,US:new gZ(-U.As.x,-U.As.y),Z:new gZ(-U.Z.x,-U.Z.y),As:new gZ(-U.US.x,-U.US.y)};
i.push(U);if(k<w-2)M.push(Q)}M.reverse();i=i.concat(M);var J=[{type:6},{type:8,all:0}];J.push({type:0,gW:1,length:i.length,at:0,iB:0,bB:1});
J=J.concat(i);var L=new e3(_/w,0,0,_/w,0,0);L.rotate(b);L.translate(D,n);B.$.vZ(J,L);return J};B.$.yA.Rect=function(D,n,_,b,w){var i=[D,n,D+_,n,D+_,n+b,D,n+b];
return B.$.yA.n_(i,w)};B.$.yA.IK=function(D,n,_,b,w,i,M,N){var a=[],o=2*Math.PI/w;for(var k=0;k<w;k++)a.push(Math.cos(k*o-b),Math.sin(k*o-b));
if(M!=null){var U=B.H.t0(a),V=U.l,c=U.e,E=M/(V/2),A=N/(c/2);for(var k=0;k<a.length;k+=2){a[k]=(a[k]-(U.x+V/2))*E;
a[k+1]=(a[k+1]-(U.y+c/2))*A}_=1}var Q=new e3(_,0,0,_,0,0);Q.translate(D,n);B.H.A(a,Q,a);return B.$.yA.n_(a,i)};
B.$.yA.B1=function(D,n,_,b,w,i,M){var N=[],a=Math.PI/w;for(var k=0;k<w*2;k++){var o=(k&1)==0?1:M;N.push(o*Math.cos(k*a),o*Math.sin(k*a))}var U=new e3(_,0,0,_,0,0);
U.rotate(b);U.translate(D,n);B.H.A(N,U,N);return B.$.yA.n_(N,i)};B.$.yA.qE=function(D,n,_,b,w){return B.$.yA.iN(0,D,n,_,b,w)};
B.$.yA.a6o=function(D,n,_,b,w,i){return B.$.yA.iN(1,D,n,_,b,w,i)};B.$.yA.z$=function(D,n,_,b,w,i){return B.$.yA.iN(2,D,n,_,b,w,i)};
B.$.yA.iN=function(D,n,_,b,w,i,M){var N=Math.sqrt((b-n)*(b-n)+(w-_)*(w-_)),a;i/=2;if(D==0)a=[-i,0,i,0,i,N,-i,N];
if(D==1){var o=i*2*M*1.3/1.5,U=i*M;a=[-i,0,i,0,i,N-o,U,N-o,0,N,-U,N-o,-i,N-o]}if(D==2){var o=M[3],U=M[2]/2,V=o*(2/3)*M[4]/100,c=o-V,E=o;
a=[];if(M[0])a.push(-i,c,-U,E,0,0,U,E,i,c);else a.push(-i,0,i,0);if(M[1])a.push(i,N-c,U,N-E,0,N,-U,N-E,-i,N-c);
else a.push(i,N,-i,N)}var A=new e3(1,0,0,1,0,0);A.rotate(Math.atan2(-w+_,b-n)+Math.PI/2);A.translate(n,_);
B.H.A(a,A,a);return B.$.yA.n_(a,0)};B.$.yA.h6=function(D,n,_,b){var w=[{type:6},{type:8,all:0}],V=.553;
w.push({type:0,gW:1,length:4,at:0,iB:0,bB:1});var i=D,M=n,N=D+_,a=n+b,D=(i+N)/2,n=(M+a)/2,o=(i-N)/2,U=(M-a)/2;
w.push({type:1,US:new gZ(D-V*o,n-U),Z:new gZ(D,n-U),As:new gZ(D+V*o,n-U)});w.push({type:1,US:new gZ(D+o,n-V*U),Z:new gZ(D+o,n),As:new gZ(D+o,n+V*U)});
w.push({type:1,US:new gZ(D+V*o,n+U),Z:new gZ(D,n+U),As:new gZ(D-V*o,n+U)});w.push({type:1,US:new gZ(D-o,n+V*U),Z:new gZ(D-o,n),As:new gZ(D-o,n-V*U)});
return w};B.$.yA.asU=function(D,n,_,b,w){var i=[{type:6},{type:8,all:0}];i.push({type:3,gW:1,length:5,at:0,iB:0,bB:1});
var M=(w-b)/4;for(var k=0;k<5;k++){var N=k*M,a=Math.cos(N),o=Math.sin(N),U=.553*(M/(Math.PI/2)),V=o*U,c=-a*U,E=new gZ(a,o);
i.push({type:4,US:k==0?E.clone():new gZ(a+V,o+c),Z:E,As:k==4?E.clone():new gZ(a-V,o-c)})}var A=new e3;
A.rotate(-b);A.scale(_,_);A.translate(D,n);B.$.vZ(i,A);return i};B.ie={};B.ie.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
B.ie.VW=function(D){var n=D.warpStyle.v.warpStyle;if(n=="warpNone")return!0;else if(n=="warpCustom"){var _=!1,b=D.customEnvelopeWarp.v.meshPoints.v.arr,w=b[0].arr,i=b[1].arr;
for(var k=0;k<4;k++)for(var M=0;M<4;M++){if(Math.abs(w[k]-w[M*4+k])>1||Math.abs(i[k*4]-i[k*4+M])>1)_=!0}return!_}else return D.warpValue.v==0&&D.warpPerspective.v==0&&D.warpPerspectiveOther.v==0};
B.ie.U=function(D){var n={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(D){n.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:D.y}},Left:{t:"UntF",v:{type:"#Pxl",val:D.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:D.y+D.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:D.x+D.l}}}};
n.uOrder={t:"long",v:4};n.vOrder={t:"long",v:4}}return n};B.ie.a0a=function(D,n,_,b){for(var k=0;k<D.length;
k+=2){var w=D[k],i=D[k+1],M=(w-n.x)/n.l,N=(i-n.y)/n.e,a=(1-_)/2,o=1-a,U=a+M*(o-a);N=.5+(N-.5)*U*2;var V=(1-b)/2,c=1-V,E=V+N*(c-V);
M=.5+(M-.5)*E*2;w=n.x+M*n.l;i=n.y+N*n.e;D[k]=w;D[k+1]=i}};B.ie.IW=function(D,n){var _=[],b=[];for(var k=0;
k<D.length;k+=2){_.push(D[k]);b.push(D[k+1])}var w=[];w.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:_});
w.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:b});n.warpStyle.v.warpStyle="warpCustom";n.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:w}}}}};
B.ie.W_=function(D,n){if(n==null){var _=D.bounds.v,b=_.Left.v.val,w=_.Rght.v.val,i=_.Top.v.val,M=_.Btom.v.val;
n=new gl(b,i,w-b,M-i)}if(n.hk())n.l=n.e=1;var N=[],a=D.warpStyle.v.warpStyle;if(a=="warpCustom"){var o=D.customEnvelopeWarp.v.meshPoints.v.arr,U=o[0].arr,V=o[1].arr;
for(var k=0;k<16;k++)N.push(U[k],V[k])}else N=B.ie.ie(n,a,D.warpRotate.v.Ornt=="Hrzn",D.warpValue.v/100,D.warpPerspective.v/100,D.warpPerspectiveOther.v/100);
return N};B.ie.ie=function(D,n,_,b,w,i){var M=B.Uo.U(D.x,D.y,D.l,D.e);if(n=="warpNone")return M;var N=JSON.parse(JSON.stringify(D)),a=new e3;
if(!_){a.translate(-D.x,-D.y);a.rotate(-Math.PI/2);a.translate(D.e,0);B.H.A(M,a,M);D=new gl(0,0,D.e,D.l);
M=B.Uo.Zm(M,!1)}B.ie.aax(M,D,n,b,w,i);if(!_){M=B.Uo.Zm(M,!0);D=N;a.ei();B.H.A(M,a,M)}if(b==0)B.ie.a0a(M,D,w,i);
else{var a=new e3(1/D.l,0,0,1/D.e,-D.x,-D.y);a.translate(-.5,-.5);B.H.A(M,a,M);B.ie.amc(M,i,w);a.ei();
B.H.A(M,a,M)}return M};B.ie.aax=function(D,n,_,b,w,i){for(var k=0;k<4;k++){for(var M=0;M<4;M++){var N=2*(4*k+M),a=D[N]-n.x,o=D[N+1]-n.y,U=a,V=o;
if(b!=0){var c=n.l/2,E=n.e/2;U-=c;V-=E;var A=U,Q=U,J=-E,L=E,P=Math.abs(b),u=Math.tan((1-P)*Math.PI/2),m=Math.sqrt(u*u+1),x=Math.atan2(1,u),v=U/c*x,W=c*m,Z=c*m+n.e,r=Math.cos(x),X=Math.sin(x),$=B.ie.ad_(r,X),I=B.ie.aoK(r,X),T=-u*c+$*W;
if(_=="warpArc"){A=Math.sin(v)*Z;J=u*c-Math.cos(x)*Z+E;Q=Math.sin(v)*W;L=u*c-Math.cos(x)*W+E;if(M==1||M==2){A=M==1?-I*Z:I*Z;
Q=M==1?-I*W:I*W;J=u*c+E-$*Z;L=u*c+E-$*W}if(b<0){var e=A;A=Q;Q=e;e=J;J=-L;L=-e}}if(_=="warpArcLower"){if(M==1||M==2){Q=M==1?-I*W:I*W;
L=b<0?E-T:E+T}}if(_=="warpArcUpper"||_=="warpArch"||_=="warpBulge"){if(M==1||M==2){A=M==1?-I*W:I*W;J=b<0?-E+T:-E-T}if(_=="warpArch"){Q=A;
L=J+2*E}if(_=="warpBulge"){Q=A;L=-J}}if(_=="warpFish"||_=="warpFlag"||_=="warpWave"){var F=M;if(_=="warpFlag")F=3-M;
if(F==1){J-=b*4*E;L+=b*4*E}if(F==2){J+=b*4*E;L-=b*4*E}if(_=="warpFlag"||_=="warpWave")J=L-2*E}if(_=="warpRise"){if(M<2)J=-E+b*E*4;
L=J+2*E}var y=(V+E)/n.e;U=A+y*(Q-A);V=J+y*(L-J);if(_=="warpWave"){if(k==0)V=-E;if(k==3)V=E;if(k==1||k==2)V=2*E*(k/3-.5)*(1/3)+V*(2/3)}if(_=="warpFisheye"){if((k==1||k==2)&&(M==1||M==2)){U=U+4*U*b;
V=V+4*V*b}}if(_=="warpInflate"){var h=2/3;if((k==1||k==2)&&(M==1||M==2)){U=U+.5*U*b;V=V+.5*V*b}else if(k==1||k==2)U=U+h*U*b;
else if(M==1||M==2)V=V+h*V*b}if(_=="warpSqueeze"){var h=2/3;if((k==1||k==2)&&(M==1||M==2)){if(b>0)U=U-h*U*b;
else V=V+h*V*b}else if(k==1||k==2)U=U-h*U*b;else if(M==1||M==2)V=V+h*V*b}if(_=="warpTwist"){if((k==1||k==2)&&(M==1||M==2)){var Y=b*Math.PI/2,m=1+Math.abs(b)*2,K=U*Math.cos(Y)-V*Math.sin(Y),z=U*Math.sin(Y)+V*Math.cos(Y);
U=K*m;V=z*m}}if(_=="warpShellLower"||_=="warpShellUpper"){if(_=="warpShellUpper"){k=3-k;V=-V}if(k>2||k==2&&(M==0||M==3)){if(b>0){var f=W+k/3*2*E;
U=Math.sin(v)*f;V=-u*c-E+Math.cos(v)*f;if(M==1||M==2){U=M==1?-I*f:I*f;V=-u*c-E+$*f}}else{if((M==1||M==2)&&k==3){U=M==1?-I*W:I*W;
V=u*c-$*W+E}else if(k==2){V=E-E*(2/3)*Math.cos(v);U=U+E*(2/3)*Math.sin(v)}}}if(_=="warpShellUpper"){k=3-k;
V=-V}}U+=c;V+=E}a=U,o=V;D[N]=a+n.x;D[N+1]=o+n.y}}};B.ie.amc=function(D,n,_){var b=[];for(var w=0;w<4;
w++)b.push(1-_+w/3*2*_);var i=[];for(var w=0;w<4;w++)i.push(1-n+w/3*2*n);var M=[0,0,0,0],N=[0,0,0,0];
for(var k=0;k<4;k++)for(var w=0;w<4;w++){var a=2*(4*k+w),o=D[a],U=D[a+1];M[w]+=o/4;N[w]+=U/4}for(var k=0;
k<4;k++)for(var w=0;w<4;w++){var V=b[w],a=2*(4*k+w),o=D[a],U=D[a+1],c=M[w],E=N[w];D[a]=c+V*(o-c);D[a+1]=E+V*(U-E)}var A=D.slice(0);
for(var k=0;k<4;k++)for(var w=1;w<3;w++){var a=2*(4*k+w),o=D[a],U=D[a+1],Q=a+(w==1?-2:2),J=D[Q],L=D[Q+1];
D[a]=o-J;D[a+1]=U-L}var P=D[0],u=D[1],m=D[8],x=D[9],v=D[16],W=D[17],Z=D[24],r=D[25],X=D[6],$=D[7],I=D[14],T=D[15],e=D[22],F=D[23],y=D[30],h=D[31],Y=X-P,K=$-u,z=I-m,f=T-x,s=e-v,l=F-W,g=y-Z,H=h-r;
for(var k=0;k<4;k++){var O=2*k*4,C=0,ib=0,hH=k==1?.33:.66,R=1-hH;if(k==0){C=Y;ib=K}if(k==1){C=R*Y+hH*-g;
ib=R*K+hH*-H}if(k==2){C=R*Y+hH*-g;ib=R*K+hH*-H}if(k==3){C=-g;ib=-H}D[O]=D[O]+C/2;D[O+1]=D[O+1]+ib/2;
D[O+6]=D[O+6]-C/2;D[O+7]=D[O+7]-ib/2}for(var k=0;k<4;k++)for(var w=1;w<3;w++){var a=2*(4*k+w),o=D[a],U=D[a+1],Q=a+(w==1?-2:2),J=D[Q],L=D[Q+1],V=2*k/3;
D[a]=J+V*o;D[a+1]=L+V*U}for(var k=1;k<3;k++)for(var w=1;w<3;w++){var a=2*(4*k+w),o=D[a],U=D[a+1],fR=k==1?-8:-16,j4=k==1?16:8,cP=D[a+fR],a8=D[a+fR+1],d0=D[a+j4],b9=D[a+j4+1],V=k/3;
o=(1-V)*cP+V*d0;U=(1-V)*a8+V*b9;D[a]=o;D[a+1]=U}B.H.da(A,D,D,n)};B.ie.ad_=function(D,n){return(4-D)*(1/3)};
B.ie.aoK=function(D,n){return(1-D)*(3-D)/(3*n)};B.HD={};B.HD.atN=function(D,n,_,b,w,i,M,N,a,o){for(var U=0;
U<N;U++)for(var V=0;V<M;V++){var c=3*(U*M+V),E=U+i,A=V+w,Q=D[E*n+A];b[c]=Q;b[c+1]=Q;b[c+2]=Q}};B.HD.G$=function(D,n,_,b,w,i,M,N,a,o){var U=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],V=1/a,c=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],E=new Uint32Array(6);
for(var A=0;A<N;A++){for(var Q=0;Q<M;Q++){var J=3*(A*M+Q),L=A+i,P=Q+w;E[0]=0;E[1]=0;E[2]=0;E[3]=0;E[4]=0;
E[5]=0;for(var k=0;k<16;k+=2){var u=P+c[k],m=L+c[k+1],x=u-a*~~(u*V),v=m-a*~~(m*V),W=o[v*a+x];E[W]+=D[m*n+u];
E[W+3]++}var u=P,m=L,x=u-a*~~(u*V),v=m-a*~~(m*V),W=o[v*a+x];E[W]=D[L*n+P];E[W+3]=1;b[J]=E[0]*U[E[3]];
b[J+1]=E[1]*U[E[4]];b[J+2]=E[2]*U[E[5]]}}};B.HD.Np=function(D,n,_){for(var k=0;k<_;k+=2)D[n+k]=D[n+k+1];
n=n+_;for(var k=0;k<_;k+=2)D[n+k+1]=D[n+k]};B.HD.ww=function(D,n,_,b){for(var k=0;k<b;k+=2){var w=n+k*_;
D[w]=D[w+_];D[w+_+1]=D[w+1]}};B.HD.Ry=function(D,n,_,b,w,i){var M=b[w],N=b[w+1],a=b[i],o=b[i+1],U=N+a>>>1;
D[n]=D[n+3]=D[_]=D[_+3]=M;D[n+1]=U;D[n+4]=N;D[_+1]=a;D[_+4]=U;D[n+2]=D[n+5]=D[_+2]=D[_+5]=o};B.HD.a43=function(D,n,_,b,w,i){var M=i*3;
for(var k=0;k<i;k+=2){var N=n+k,a=w+k*3;B.HD.Ry(b,a,a+M,D,N,N+_)}};B.HD.a9V=function(D,n,_,b,w,i,M){var N=i*3;
for(var k=0;k<M;k+=2){var a=n+k*_,o=w+k*i*3;B.HD.Ry(b,o,o+N,D,a,a+_)}};B.HD.ea=function(D,k,n){var _=D[k-n-n],b=D[k-n],w=D[k-2],i=D[k-1],M=D[k],N=D[k+1],a=D[k+2],o=D[k+n],U=D[k+n+n],V=Math.abs(b-o),c=Math.abs(i-N),E=Math.abs(M-_)*2+V,A=Math.abs(M-a)*2+c,Q=Math.abs(M-w)*2+c,J=Math.abs(M-U)*2+V,L=Math.min(E,Math.min(A,Math.min(Q,J)));
if(L==E)return b*3+o+M-_>>2;if(L==A)return N*3+i+M-a>>2;if(L==Q)return i*3+N+M-w>>2;return o*3+b+M-U>>2};
B.HD.gv=function(D,n,_,b,w){if(D<n&&n<_||D>n&&n>_)return~~(.5+b+(w-b)*(n-D)/(_-D));else return(b+w>>1)+(n+n-D-_>>2)};
B.HD.C2=function(D,n,k,_){var b=n[k-_-1],w=n[k-_+1],i=n[k],M=n[k+_-1],N=n[k+_+1],a=D[k-_-1],o=D[k-_+1],U=D[k],V=D[k+_-1],c=D[k+_+1],E=Math.abs(o-V)+Math.abs(D[k-_-_+2]-U)+Math.abs(U-D[k+_+_-2])+Math.abs(w-i)+Math.abs(i-M),A=Math.abs(a-c)+Math.abs(D[k-_-_-2]-U)+Math.abs(U-D[k+_+_+2])+Math.abs(b-i)+Math.abs(i-N);
if(E<A)return B.HD.gv(w,i,M,o,V);else return B.HD.gv(b,i,N,a,c)};B.HD.AZ=function(D,n,_,b,w,i){D[n+0]=_[w];
D[n+1]=b[w];D[n+2]=B.HD.C2(_,b,w,i)};B.HD.RD=function(D,n,_,b,w,i){var M=b[w];D[n+0]=B.HD.gv(b[w-1],M,b[w+1],_[w-1],_[w+1]);
D[n+1]=M;D[n+2]=B.HD.gv(b[w-i],M,b[w+i],_[w-i],_[w+i])};B.HD.m3=function(D,n,_,b,w,i){var M=b[w];D[n+0]=B.HD.gv(b[w-i],M,b[w+i],_[w-i],_[w+i]);
D[n+1]=M;D[n+2]=B.HD.gv(b[w-1],M,b[w+1],_[w-1],_[w+1])};B.HD.Xp=function(D,n,_,b,w,i){D[n+0]=B.HD.C2(_,b,w,i);
D[n+1]=b[w];D[n+2]=_[w]};B.HD.a8b=function(D,n,_,b,w,i,M,N,a){var o=Date.now(),U=2,V=n-2,c=2;if((w&1)==1){U++;
V--}var E=_-2;if((i&1)==1){c++;E--}if(a==1||a==3){U++;V--}var A=D.slice(0);B.HD.Np(A,0,n);B.HD.ww(A,0,n,_);
B.HD.ww(A,n-2,n,_);B.HD.Np(A,(_-2)*n,n);for(var Q=c;Q<E;Q+=2)for(var J=U;J<V;J+=2){var k=Q*n+J,L=B.HD.ea(A,k,n),P=B.HD.ea(A,k+n+1,n);
A[k]=Math.max(0,L);A[k+n+1]=Math.max(0,P)}var u=M,m=N;if(i+N==_){m-=2;B.HD.a43(D,(_-2)*n+w,n,b,(N-2)*M*3,M)}if(w+M==n){u-=2;
B.HD.a9V(D,i*n+w+M-2,n,b,(M-2)*3,M,N)}if(a==0)for(var Q=0;Q<m;Q+=2)for(var J=0;J<u;J+=2){var x=(Q+i)*n+J+w,v=(Q*M+J)*3;
B.HD.AZ(b,v,D,A,x,n);B.HD.RD(b,v+3,D,A,x+1,n);x+=n;v+=3*M;B.HD.m3(b,v,D,A,x,n);B.HD.Xp(b,v+3,D,A,x+1,n)}else if(a==1)for(var Q=0;
Q<m;Q+=2)for(var J=0;J<u;J+=2){var x=(Q+i)*n+J+w,v=(Q*M+J)*3;B.HD.RD(b,v,D,A,x,n);B.HD.AZ(b,v+3,D,A,x+1,n);
x+=n;v+=3*M;B.HD.Xp(b,v,D,A,x,n);B.HD.m3(b,v+3,D,A,x+1,n)}else if(a==2)for(var Q=0;Q<m;Q+=2)for(var J=0;
J<u;J+=2){var x=(Q+i)*n+J+w,v=(Q*M+J)*3;B.HD.Xp(b,v,D,A,x,n);B.HD.m3(b,v+3,D,A,x+1,n);x+=n;v+=3*M;B.HD.RD(b,v,D,A,x,n);
B.HD.AZ(b,v+3,D,A,x+1,n)}else if(a==3)for(var Q=0;Q<m;Q+=2)for(var J=0;J<u;J+=2){var x=(Q+i)*n+J+w,v=(Q*M+J)*3;
B.HD.m3(b,v,D,A,x,n);B.HD.Xp(b,v+3,D,A,x+1,n);x+=n;v+=3*M;B.HD.AZ(b,v,D,A,x,n);B.HD.RD(b,v+3,D,A,x+1,n)}};
B.raw={};B.raw.ajN=function(D){var n=Date.now(),_=D.width,b=D.height,w=0,i=0,M=_,N=b;if(D.t50829){var a=D.t50829;
w=a[1];i=a[0];M=a[3];N=a[2]}if(D.t50719){var o=D.t50719;w+=o[0]>>1<<1;i+=o[1]>>1<<1}if(D.t50720){var U=D.t50720;
M=w+U[0];N=i+U[1]}var V=M-w,c=N-i,E=B.raw.aed(D),A=D.t33422,Q=D.t33421;if(Q){var U=Q[0],J=A.slice(0);
for(var L=0;L<U;L++)for(var P=0;P<U;P++){var u=(P+(w&1))%U,m=(L+(i&1))%U;J[L*U+P]=A[m*U+u]}A=J}if(D.t277[0]==1)B.raw.aju(E,_,b,D,A);
B.raw.MQ(2,D,E,_,b);var x=new Float32Array(V*c*3);if(D.t277[0]==1){if(Q==null){B.HD.atN(E,_,b,x,w,i,V,c)}else if(Q.length!=2||Q[0]!=2||Q[1]!=2){console.log("Unknown CFA pattern size",Q);
B.HD.G$(E,_,b,x,w,i,V,c,Q[0],A)}else{var v=D.t33422.join(","),W=0;if(v=="0,1,1,2")W=0;else if(v=="1,0,2,1")W=1;
else if(v=="2,1,1,0")W=2;else if(v=="1,2,0,1")W=3;else throw"Unknown CFA pattern "+v;if((V&1)!=0||(c&1)!=0)throw"e";
B.HD.a8b(E,_,b,x,w,i,V,c,W)}}else{for(var L=0;L<c;L++)for(var P=0;P<V;P++){var Z=((L+i)*_+P+w)*3,r=(L*V+P)*3;
x[r+0]=E[Z+0];x[r+1]=E[Z+1];x[r+2]=E[Z+2]}}var X=x,$=x.length,I=B.raw.RT(D),T=1/I;for(var k=0;k<$;k+=3){x[k]=X[k]*T;
x[k+1]=X[k+1]*T;x[k+2]=X[k+2]*T}B.raw.MQ(3,D,x,V,c);var e=D.P5,F=V,y=c;if(e==1||e==9){}else{var h=B.raw.ek(e,V,c),r=0;
F=h[0];y=h[1];var Y=x.slice(0);for(var L=0;L<y;L++)for(var P=0;P<F;P++){var K=h[2]*P+h[3]*L+h[4],z=h[5]*P+h[6]*L+h[7],Z=(z*V+K)*3;
x[r]=Y[Z];x[r+1]=Y[Z+1];x[r+2]=Y[Z+2];r+=3}}return{B_:x,uv:F,IH:y}};B.raw.ek=function(D,n,_){var b=n,w=_;
if(!1){}else if(D==2)return[n,_,-1,0,n-1,0,1,0];else if(D==3)return[n,_,-1,0,n-1,0,-1,_-1];else if(D==4)return[n,_,1,0,0,0,-1,_-1];
else if(D==5)return[_,n,0,1,0,1,0,0];else if(D==6)return[_,n,0,1,0,-1,0,_-1];else if(D==7)return[_,n,0,-1,n-1,-1,0,_-1];
else if(D==8)return[_,n,0,-1,n-1,1,0,0];else throw"unknown orientation "+D};B.raw.aju=function(D,n,_,b,w){var i=Date.now(),T=0,y=0;
if(B.raw.RT(b)>4e4){for(var k=0;k<D.length;k++)D[k]>>=1;var M=["t50714","t50715","t50712","t50717"];
for(var k=0;k<M.length;k++){var N=b[M[k]];if(N)for(var a=0;a<N.length;a++)N[a]>>>=1}console.log("remapping to lower bit depth")}var o=~~Math.sqrt(w.length),U=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],V=[];
for(var c=0;c<o;c++)for(var E=0;E<o;E++){var k=c*o+E,A=w[k],Q=4,J=4,L=8,P=0,u=0;for(var a=0;a<18;a+=2){var m=(o+E+U[a])%o,x=(o+c+U[a+1])%o,v=w[x*o+m];
if(v==A){}else if(Q==4){Q=v;P=a}else if(J==4&&v!=Q){J=v;u=a;break}}if(J<Q){var W=J;J=Q;Q=W;W=u;u=P;P=W}if(Q<A){var W=Q;
Q=A;A=W;W=P;P=L;L=W}if(J<Q){var W=J;J=Q;Q=W;W=u;u=P;P=W}V[k*3]=U[L+1]*n+U[L];V[k*3+1]=U[P+1]*n+U[P];
V[k*3+2]=U[u+1]*n+U[u]}var Z=~~(.996*B.raw.RT(b)),r=~~(.992*B.raw.RT(b)),X=b.t50728,$=[],I=[0,0,0];for(var c=1;
c<_-1;c++)for(var E=1;E<n-1;E++){var k=c*n+E,e=c%o*o+E%o,A=D[k+V[e*3+0]],Q=D[k+V[e*3+1]],J=D[k+V[e*3+2]],F=Math.max(A,Q,J);
if(F>Z)$.push(k);else if(F>r){I[0]+=A;I[1]+=Q;I[2]+=J;T++}}if($.length==0)return;if(T/(n*_)<1e-5){console.log("not enough semi-saturated pixels",T);
I=X}if(I[1]<I[y])y=1;if(I[2]<I[y])y=2;var h=[I[0]/I[y],I[1]/I[y],I[2]/I[y]],Y=D.slice(0);for(var K=0;
K<$.length;K++){var k=$[K],c=~~(k/n),E=k-c*n,e=c%o*o+E%o,z=Math.min(65535,~~(D[k+V[e*3+y]]*h[w[e]]));
if(z>Y[k])Y[k]=z}D.set(Y)};B.raw.J$=function(D,n,_,b){var w=D.B_,i=Math.round(w.length/3),M=w.slice(0);
B.raw.Ca(w,M,_,b);var N=Math.pow(2,b[2]),a=new Uint8Array(4e3);for(var k=0;k<4e3;k++){var o=k*(1/1e3);
o=B.bU(o);o*=N;o=B.Ul(o);o=Math.max(0,Math.min(1,o));o=B.raw.ZU.afk(o,b[3]/100);a[k]=~~(.5+255*o)}for(var k=0;
k<i;k++){var U=k<<2,V=U-k;n[U]=a[~~(M[V]*1e3)];n[U+1]=a[~~(M[V+1]*1e3)];n[U+2]=a[~~(M[V+2]*1e3)]}};B.raw.Ca=function(D,n,_,b){var w=Math.round(D.length/3),i=b4.ao9(b[0],b[1]),M=B.raw.aiQ(_,i),N=B.dl.multiply(B.dl.Re,M),a=Math.pow(2,_.t50730?_.t50730[0]:0);
N=B.dl.multiply(N,B.dl.VO(a,a,a));var o=B.raw.Ca.a22;if(o==null){o=B.raw.Ca.a22=new Float64Array(8e3);
for(var k=0;k<8e3;k++)o[k]=B.Ul(k*(1/1e3))}for(var k=0;k<w;k++){var U=k<<2,V=U-k,c=D[V],E=D[V+1],A=D[V+2],Q=N[0]*c+N[1]*E+N[2]*A,J=N[4]*c+N[5]*E+N[6]*A,L=N[8]*c+N[9]*E+N[10]*A;
if(Q<0)Q=0;if(J<0)J=0;if(L<0)L=0;n[V]=o[~~(Q*1e3)];n[V+1]=o[~~(J*1e3)];n[V+2]=o[~~(L*1e3)]}};B.raw.ZU={afk:function(D,n){var _=.5-.5*Math.cos(D*3.2),b=0;
if(n>0){var w=D*.2;b=w*D+(1-w)*_}else{var i=Math.pow(D,.33);b=(1-i)*i+i*(D+(D-_)*.63)}var M=Math.abs(n);
return M*b+(1-M)*D},am1:function(D,n){var _=0;if(n>0){var b=D*1.47,w=Math.pow(D,2.4);_=Math.min(1,w*D+(1-w)*b)}else{var b=D*.68,w=Math.pow(D,3);
_=w*D*.5+(1-w)*b}var i=Math.abs(n);return i*_+(1-i)*D},a7n:function(D,n){var _=0;if(n>0){var b=Math.pow(D,.3),w=D;
_=(1-D)*b+D*w}else{var b=Math.pow(D,2.5),i=D,w=D;_=Math.min(1,(1-i)*b+i*w)}var M=Math.abs(n);return M*_+(1-M)*D}};
B.raw.aed=function(D){var n=D.width,_=D.height,b=n*_*D.t277,w=new Uint16Array(b),i=null,M=0;B.raw.auW(D,w);
B.raw.MQ(1,D,w,n,_);if(D.t50712){i=D.t50712;M=i.length-1;if(i[M]>65535)throw"too big values"}var N=B.raw.Sx(D),a=B.raw.i7(D);
if(i==null)for(var k=0;k<b;k++)w[k]=Math.max(0,w[k]-N);else for(var k=0;k<b;k++){var o=w[k];if(o>M)o=M;
o=i[o];w[k]=Math.max(0,o-N)}return w};B.raw.Sx=function(D){var n=D.t50714,_=n?n[0]:0,b=D.t50715,w=D.t50716;
if(b)_+=b[0][0]/b[0][1];if(w)_+=w[0][0]/w[0][1];return Math.round(_)};B.raw.i7=function(D){var n=null,_=0;
if(D.t50712){n=D.t50712;_=n.length-1}var b=D.t50717?D.t50717[0]:(1<<D.t258[0])-1;if(n)b=Math.min(b,n[_]);
return b};B.raw.RT=function(D){var n=B.raw.Sx(D),_=B.raw.i7(D);return _-n};B.raw.auW=function(D,n){var _=n.length,b=D.data,w=D.t258[0];
if(w!=16&&w!=14&&w!=12&&w!=10&&w!=8)throw"Unsupported Bits Per Sample:"+w;w=Math.round(b.length*8/_);
if(w==16&&D.isLE){B.nb(b,n);return}for(var k=0;k<_;k+=2){var i=0,M=0,N=0;if(w==16){i=k<<1;M=b[i]<<8|b[i+1];
N=b[i+2]<<8|b[i+3]}else if(w==14){var a=k*14,o=a>>>3,U=b[o]<<24|b[o+1]<<16|b[o+2]<<8|b[o+3];if((a&7)==0){M=U>>>18;
N=U>>>4&16383}else{M=U>>>14&16383;N=U&16383}}else if(w==12){i=k+(k>>>1);M=b[i]<<4|b[i+1]>>4;N=(b[i+1]&15)<<8|b[i+2]}else if(w==10){var a=k*10,o=a>>>3;
if((a&7)==0){M=(b[o]<<2|b[o+1]>>6)&1023;N=(b[o+1]<<4|b[o+2]>>4)&1023}else{M=(b[o]<<6|b[o+1]>>2)&1023;
N=(b[o+1]<<8|b[o+2]>>0)&1023}}else if(w==8){i=k;M=b[i];N=b[i+1]}n[k]=M;n[k+1]=N}};B.raw.MQ=function(D,n,_,b,w){var i=n["t"+[51008,51009,51022][D-1]],U=0;
if(i==null)return;var M=b*w,N=j.n,a=j.Sm,o=new Uint8Array(i),iM=j.n(o,U);U+=4;for(var V=0;V<iM;V++){var c=N(o,U);
U+=4;var E=N(o,U);U+=4;var A=N(o,U);U+=4;var Q=N(o,U);U+=4;if(!1){}else if(c==1&&D==3){var J=U,L=N(o,J);
J+=4;var P=a(o,J);J+=8;var u=a(o,J);J+=8;var m=a(o,J);J+=8;var x=a(o,J);J+=8;var v=a(o,J);J+=8;var W=a(o,J);
J+=8;J+=(L-1)*8*6;var Z=a(o,J);J+=8;var r=a(o,J);J+=8;var X=Z*b,$=r*w,I=Math.max(X,b-X),T=Math.max($,w-$),e=Math.sqrt(I*I+T*T),F=1/e,y=_.slice(0);
for(var h=0;h<w;h++)for(var Y=0;Y<b;Y++){var K=(Y+.5-X)*F,z=(h+.5-$)*F,f=K*K+z*z,s=P+u*f+m*(f*f)+x*(f*f)*f,l=v*(2*K*z)+W*(f+2*K*K),g=W*(2*K*z)+v*(f+2*z*z),H=~~(X+e*(s*K+l)),O=~~($+e*(s*z+g)),C=(O*b+H)*3,ib=(h*b+Y)*3;
_[ib]=y[C];_[ib+1]=y[C+1];_[ib+2]=y[C+2]}}else if(c==3&&D==3){var J=U,hH=a(o,J);J+=8;var R=a(o,J);J+=8;
var fR=a(o,J);J+=8;var j4=a(o,J);J+=8;var cP=a(o,J);J+=8;var Z=a(o,J);J+=8;var r=a(o,J);J+=8;var X=Z*b,$=r*w,I=Math.max(X,b-X),T=Math.max($,w-$),e=Math.sqrt(I*I+T*T),F=1/e;
for(var h=0;h<w;h++)for(var Y=0;Y<b;Y++){var K=(Y+.5-X)*F,z=(h+.5-$)*F,f=K*K+z*z,a8=1+(hH+(R+(fR+(j4+cP*f)*f)*f)*f)*f,ib=(h*b+Y)*3;
_[ib]=a8*_[ib];_[ib+1]=a8*_[ib+1];_[ib+2]=a8*_[ib+2]}}else if(c==4&&D==1){var J=U,d0=N(o,J);J+=4;var b9=N(o,J);
J+=4;for(var k=0;k<M;k++)if(_[k]==d0)_[k]=_[k-2]+_[k+2]>>1}else if(c==5&&D==1){var J=U,jG=N(o,J);J+=4;
var jP=N(o,J);J+=4;var aq=N(o,J);J+=4;for(var k=0;k<jP;k++){var gM=N(o,J);J+=4;var gv=N(o,J);J+=4;var k=gM*b+gv;
_[k]=_[k-2]+_[k+2]>>1}}else if(c==7&&D==1){var J=U,dT=j.bV(o,J);J+=16;var aC=N(o,J);J+=4;var c1=N(o,J);
J+=4;var aj=N(o,J),bD=N(o,J+4);J+=8;var cy=N(o,J);J+=4;var co=new Uint16Array(cy);for(var k=0;k<cy;k++)co[k]=j.UH(o,J+2*k);
var hV=dT.l,il=dT.e;for(var h=0;h<il;h+=aj)for(var Y=0;Y<hV;Y+=bD){var k=(dT.y+h)*b+(dT.x+Y);_[k]=co[_[k]]}}else if(c==8&&D==2){var J=U,dT=j.bV(o,J);
J+=16;var aC=N(o,J);J+=4;var c1=N(o,J);J+=4;var aj=N(o,J),bD=N(o,J+4);J+=8;var h6=N(o,J);J+=4;var c8=[];
for(var k=0;k<=h6;k++)c8[k]=j.Sm(o,J+k*8);var fx=dT.x,bU=dT.x+dT.l,b6=dT.y,iF=dT.y+dT.e,dY=n.t50717[0],bl=1/dY;
for(var dc=0;dc<c1;dc++)for(var h=b6;h<iF;h+=aj){var ib=3*h*b+aC+dc;for(var Y=fx;Y<bU;Y+=bD){var k=ib+3*Y,hN=_[k]*bl,ga=c8[h6];
for(var b1=h6;b1>0;b1--)ga=ga*hN+c8[b1-1];_[k]=Math.max(0,Math.min(65535,~~(ga*dY)))}}}else if(c==9&&D==2){var J=U,dT=j.bV(o,J),gG=!0;
J+=16;var aC=N(o,J);J+=4;var c1=N(o,J);J+=4;var aj=N(o,J),bD=N(o,J+4);J+=8;var fc=N(o,J),h9=N(o,J+4);
J+=8;var cB=a(o,J),bp=a(o,J+8);J+=16;var eK=a(o,J),fm=a(o,J+8);J+=16;var fG=N(o,J);J+=4;if(fG!=1)throw"more than one map plane";
var ia=fc*h9,iz=new Float32Array(ia);for(var b1=0;b1<ia;b1++)iz[b1]=j.Qy(o,J+b1*4);for(var b1=0;b1<ia;
b1++)if(iz[b1]!=1)gG=!1;if(!gG){var hV=dT.l,il=dT.e,eA=.9999*(h9-1)/hV,d3=.9999*(fc-1)/il;for(var h=0;
h<il;h+=aj)for(var Y=0;Y<hV;Y+=bD){var k=(dT.y+h)*b+(dT.x+Y),cY=Y*eA,ch=h*d3,fS=Math.floor(cY),fy=Math.floor(ch),ar=cY-fS,aM=ch-fy,ib=fy*h9+fS,aU=iz[ib]*(1-ar)+iz[ib+1]*ar,f0=iz[ib+h9]*(1-ar)+iz[ib+1+h9]*ar,eV=aU*(1-aM)+f0*aM;
_[k]=Math.max(0,Math.min(65535,~~(_[k]*eV+.5)))}}}else console.log("Unknown opcode "+c+" in OpcodeList"+D+". Length: "+Q);
U+=Q}};B.raw.aiQ=function(D,n){var _=b4.EV(n),b=B.raw.BL(D,n),w=B.dl.ei(b),i=b4.a7W(_,b4.EV(b4.anH)),M=B.dl.multiply(i,w);
return M};B.raw.alI=function(D){var n=(D.t50728?D.t50728:[1,1,1]).slice(0),b=1;n.push(0);var _={x:.34567,y:.3585};
do{var w=B.dl.ei(B.raw.BL(D,_)),i=B.dl.$F(w,n),M=b4.a8v(i);b=Math.abs(_.x-M.x)+Math.abs(_.y-M.y);_=M}while(b>1e-7);
return _};B.raw.BL=function(D,n){var _=b4.pn(n),b=B.raw.a6a,w=D.t50778?D.t50778[0]:0,i=D.t50779?D.t50779[0]:0,M=b(D.t50721,D.t50722,w,i,_.Du),N=b(D.t50723,D.t50724,w,i,_.Du);
M=M||[1,0,0,0,1,0,0,0,1];N=N||[1,0,0,0,1,0,0,0,1];var a=D.t50727?[D.t50727[0],0,0,0,D.t50727[1],0,0,0,D.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return B.dl.multiply(B.dl.kO(a),B.dl.multiply(B.dl.kO(N),B.dl.kO(M)))};B.raw.a6a=function(D,n,_,b,w){if(!D&&!n){return null}else if(D&&!n){return D}else if(w<_){return D}else if(w>b){return n}else{var i=(1/w-1/b)/(1/_-1/b),M=1-i,N=[];
for(var k=0;k<9;k++)N[k]=D[k]*i+n[k]*M;return N}};var b4={};b4.anH={x:.34567,y:.3585};b4.e6=[{p:0,ix:.18006,Ky:.26352,hH:-.24341},{p:10,ix:.18066,Ky:.26589,hH:-.25479},{p:20,ix:.18133,Ky:.26846,hH:-.26876},{p:30,ix:.18208,Ky:.27119,hH:-.28539},{p:40,ix:.18293,Ky:.27407,hH:-.3047},{p:50,ix:.18388,Ky:.27709,hH:-.32675},{p:60,ix:.18494,Ky:.28021,hH:-.35156},{p:70,ix:.18611,Ky:.28342,hH:-.37915},{p:80,ix:.1874,Ky:.28668,hH:-.40955},{p:90,ix:.1888,Ky:.28997,hH:-.44278},{p:100,ix:.19032,Ky:.29326,hH:-.47888},{p:125,ix:.19462,Ky:.30141,hH:-.58204},{p:150,ix:.19962,Ky:.30921,hH:-.70471},{p:175,ix:.20525,Ky:.31647,hH:-.84901},{p:200,ix:.21142,Ky:.32312,hH:-1.0182},{p:225,ix:.21807,Ky:.32909,hH:-1.2168},{p:250,ix:.22511,Ky:.33439,hH:-1.4512},{p:275,ix:.23247,Ky:.33904,hH:-1.7298},{p:300,ix:.2401,Ky:.34308,hH:-2.0637},{p:325,ix:.24792,Ky:.34655,hH:-2.4681},{p:350,ix:.25591,Ky:.34951,hH:-2.9641},{p:375,ix:.264,Ky:.352,hH:-3.5814},{p:400,ix:.27218,Ky:.35407,hH:-4.3633},{p:425,ix:.28039,Ky:.35577,hH:-5.3762},{p:450,ix:.28863,Ky:.35714,hH:-6.7262},{p:475,ix:.29685,Ky:.35823,hH:-8.5955},{p:500,ix:.30505,Ky:.35907,hH:-11.324},{p:525,ix:.3132,Ky:.35968,hH:-15.628},{p:550,ix:.32129,Ky:.36011,hH:-23.325},{p:575,ix:.32931,Ky:.36038,hH:-40.77},{p:600,ix:.33724,Ky:.36051,hH:-116.45}];
b4.pn=function(D){var n=b4.e6,_=2*D.x/(1.5-D.x+6*D.y),b=3*D.y/(1.5-D.x+6*D.y),w=0,i=0,M=0;for(;M<31;
M++){w=b-n[M].Ky-n[M].hH*(_-n[M].ix);if(M>0&&w<0){break}i=w}while(M>=n.length)M--;w/=Math.sqrt(1+n[M].hH*n[M].hH);
i/=Math.sqrt(1+n[M-1].hH*n[M-1].hH);var N=i/(i-w),a=1e6/((n[M].p-n[M-1].p)*N+n[M-1].p),o=_-((n[M].ix-n[M-1].ix)*N+n[M-1].ix),U=b-((n[M].Ky-n[M-1].Ky)*N+n[M-1].Ky),V=Math.sqrt(1+n[M].hH*n[M].hH),c=1/V,E=n[M].hH/V,A=Math.sqrt(1+n[M-1].hH*n[M-1].hH),Q=1/A,J=n[M-1].hH/A,L=(c-Q)*N+Q,P=(E-J)*N+J,u=Math.sqrt(L*L+P*P);
L/=u;P/=u;var m=(o*L+U*P)*-3e3;return{Du:a,zd:m}};b4.ao9=function(D,n){var _=b4.e6,b=1e6/D,w=1;for(;
w<31;w++){if(b<_[w].p){break}}var i=(_[w].p-b)/(_[w].p-_[w-1].p),M=(_[w-1].ix-_[w].ix)*i+_[w].ix,N=(_[w-1].Ky-_[w].Ky)*i+_[w].Ky,a=Math.sqrt(1+_[w].hH*_[w].hH),o=1/a,U=_[w].hH/a,V=Math.sqrt(1+_[w-1].hH*_[w-1].hH),c=1/V,E=_[w-1].hH/V,A=(c-o)*i+o,Q=(E-U)*i+U,J=Math.sqrt(A*A+Q*Q);
A/=J;Q/=J;M+=A*n/-3e3;N+=Q*n/-3e3;return{x:1.5*M/(M-4*N+2),y:N/(M-4*N+2)}};b4.a8v=function(D){var n=D[0]+D[1]+D[2];
return{x:D[0]/n,y:D[1]/n}};b4.EV=function(D){return{x:D.x/D.y,y:1,_E:(1-D.x-D.y)/D.y}};b4.a7W=function(D,n){var _=B.dl.kO([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),b=[D.x,D.y,D._E,0],w=[n.x,n.y,n._E,0];
b=B.dl.$F(_,b);w=B.dl.$F(_,w);var i=w[0]/b[0],M=w[1]/b[1],N=w[2]/b[2],a=B.dl.kO([i,0,0,0,M,0,0,0,N]),o=B.dl.ei(_);
return B.dl.multiply(B.dl.multiply(o,a),_)};B.raw.FU={};B.raw.RL=function(D){D*=8;var n=[8,10,12,14,16];
for(var _ in CAMS){var b=CAMS[_];if(b.length==4)continue;var w=b[4],i=b[5];for(var k=0;k<n.length;k++)if(w*i*n[k]==D)return[_,n[k]]}var M=[[4e3,3e3]];
for(var k=0;k<M.length;k++){var b=M[k],w=b[0],i=b[1];for(var k=0;k<n.length;k++)if(w*i*n[k]==D)return[b,n[k]]}return null};
B.raw.a8s=function(D){var D=new Uint8Array(D);for(var k=0;k<D.length;k+=2){var n=D[k];D[k]=D[k+1];D[k+1]=n}var _=B.raw.RL(D.length),b=CAMS[_[0]];
if(b==null)b=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,_[0][0],_[0][1]];var w=b[4],i=b[5],M=Math.max(b[2],116),N={data:D,P5:1,width:w,height:i,t256:[w],t257:[i],t258:[_[1]],t277:[1],t33421:[2,2],t33422:B.raw.LD[b[1]],t50706:[1,2,0,0],t50714:[M,M,M,M],t50717:[b[3]],t50721:b[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var k=0;k<9;k++)N.t50721[k]/=1e4;return N};B.raw.qk=function(D){if(D==null||D.length==0||typeof D[0]=="number")return D;
var n=[];for(var k=0;k<D.length;k++)n[k]=D[k][1]==0?0:D[k][0]/D[k][1];return n};B.raw.LD=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
B.raw.normalize=function(D,n){if(D.t50706!=null||D.t271[0].startsWith("Hasselblad")){var _=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var k=0;k<_.length;k++)if(D["t"+_[k]]!=null)D["t"+_[k]]=B.raw.qk(D["t"+_[k]]);if(D.t271&&D.t271[0].startsWith("Hasselblad")){D.t50706=[1,2,0,0];
D.t33422=B.raw.LD[1];D.t50723=[1,0,0,0,1,0,0,0,1];D.t50778=[17];if(!D.isLE)for(var k=0;k<D.data.length;
k+=2){var b=D.data[k];D.data[k]=D.data[k+1];D.data[k+1]=b}}return}var w=D.t258[0],i=D.exifIFD,n=new Uint8Array(n);
D.t50706=[1,2,0,0];var M=D.t272[0].trim();if(M.indexOf(" ")==-1)M=D.t271[0].trim()+" "+M;if(D.t50708==null)D.t50708=[M];
var N=M.toLowerCase(),a=CAMS,o=a[N];if(o==null)for(var U in a)if(N.startsWith(U))o=a[U];if(o==null)alert("Unknown camera:"+M);
else{var V=o[2];D.t50714=[V,V,V,V];D.t50717=[o[3]];D.t50721=o[0].slice(0);for(var k=0;k<9;k++)D.t50721[k]=D.t50721[k]*(1/1e4)}D.t50723=[1,0,0,0,1,0,0,0,1];
if(D.t50728==null)D.t50728=[.35,1,.6];D.t50778=[17];if(D.t271[0].startsWith("SONY")){var c=UTIF["_bin"+(D.isLE?"LE":"BE")],E=D.t28688,m;
if(JSON.stringify(E)!="[8000,10400,12900,14100]")console.log(E);if(E){var A=[0,0,0,0,0,4095],Q=new Uint16Array(16385);
for(var k=0;k<4;k++){var J=E[k]>>>2;A[k+1]=J;if(J>4095)throw"e"}for(var k=0;k<16385;k++)Q[k]=k;for(var k=0;
k<5;k++)for(var L=A[k]+1;L<=A[k+1];L++)Q[L]=Q[L-1]+(1<<k);var P=n.length*8<D.width*D.height*w;if(P)D.t50712=Q}else console.log("no curve");
var u=D.dngPrvt;if(u){var x=u.t29184[0],v=u.t29185[0],W=(D.isLE?j.c7:j.n)(u.t29217,0),Z=new Uint32Array(n.slice(x,x+(v&4294967292)).buffer),r=new Uint32Array(v>>>2);
B.raw.afX(Z,r,v>>>2,W);var X=new Uint8Array(x+v);X.set(new Uint8Array(r.buffer),x);var $=[];UTIF._readIFD(c,X,x,$,0,!1);
var I=$.pop(),T=I.t29458;D.t50728=[T[1]/T[0],1,T[1]/T[3]];D.t50730=[.5];var e=I.t29891;D.t50829=[e[1],e[0],e[3],e[2]]}else if(i.makerNote&&i.makerNote.t8208){var m=i.makerNote,F=m.t8208,y=F.length,h=0,Y=new Uint8Array(256);
for(var k=249;k<256;k++)Y[k]=k;for(var k=0;k<249;k++)Y[k*k*k%249]=k;for(var k=0;k<y;k++)F[k]=Y[F[k]];
if(y==6604)h=612;else throw"e";var T=[];for(var k=0;k<3;k++)T.push(j.D4(F,h+k*2));console.log(T);D.t50728=[T[1]/T[0],1,T[1]/T[2]]}else console.log("no white balance");
if(D.width*D.height*1.5==D.t279[0]){V=V>>>2;D.t50714=[V,V,V,V];D.t50717=[o[3]>>>2]}}else if(D.t271[0].startsWith("Canon")){var n=D.data,K=n.slice(0),z=D.t50752,f=[],l=0;
if(z==null||z[0]==0&&z[1]==0)f.push(D.width);else{for(var k=0;k<z[0];k++)f.push(z[1]);f.push(z[2])}var s=D.width*2;
for(var g=0;g<f.length;g++){var H=f[g],O=2*l,C=2*H;for(var ib=0;ib<D.height;ib+=2){var hH=ib*s+O,R=D.height*O+(ib>>1)*C*2;
for(var k=0;k<C;k++){n[hH+k]=K[R+k];n[hH+k+s]=K[R+k+C]}}l+=H}var m=i.makerNote;if(m.t16385){var fR=m.t224,a8=0;
if(fR){D.t50719=[fR[5],fR[6]];D.t50720=[fR[7]+1-fR[5],fR[8]+1-fR[6]]}var j4=m.t16385,cP=j4.length;if(cP==582)a8=1;
else if(cP==653)a8=2;else if(cP==796)a8=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(cP)!=-1)a8=4;
else if(cP==5120){a8=5;j4=new Int16Array(j4.slice(0).buffer)}else if(cP==1273||cP==1275)a8=6;else if([1312,1313,1316,1506].indexOf(cP)!=-1)a8=7;
else if([1560,1592,1353,1602].indexOf(cP)!=-1)a8=8;else throw"e"+cP;var d0=j4[0],b9=[null,[25,166],[34,286],[63,196],[63],[71,d0==-4?333:264],[63,251],[63,d0==10?504:728],[63,326]],h=b9[a8][0],jG=b9[a8][1];
if(a8==4){if(j4[0]==2)jG=231;else if(j4[0]==3)jG=231;else if(j4[0]==4)jG=231;else if(j4[0]==5)jG=231;
else if(j4[0]==6)jG=231;else if(j4[0]==7)jG=231;else if(j4[0]==9)jG=231;else throw"e"}D.t50728=[j4[h+1]/j4[h],1,j4[h+1]/j4[h+3]];
var V=jG==null?1024:j4[jG];if(a8!=4)D.t50714=[V,V,V,V]}else{D.t50728=[.4,1,.6]}}else if(D.t271[0].startsWith("NIKON")){var m=i.makerNote,jP=D.isLE?j.D4:j.Ss,c1=0,aj=0,hV,iF=0;
if(m.t61){var aq=m.t61,gM=[];for(var k=0;k<4;k++)gM[k]=aq[k]/Math.pow(2,14-w);D.t50714=gM}if(m.t3585){var gv=m.t3585,k=0,x=22;
while(x<gv.length&&k!=-4){var dT=j.c7(gv,x);x+=4;x+=14;k=j.c7(gv,x)-4;x+=4;if(dT==1990472198){if(gv[x]!=0)throw"Flip"}if(dT==1990472199){var aC=j.D4(gv,x);
if(aC==0)D.P5=1;else if(aC==270)D.P5=8;else throw"e "+aC}x+=k}}if(m.t183){var bD=m.t183,cy=[];for(var k=0;
k<6;k++)cy.push(jP(bD,16+k*2));c1=cy[0];aj=cy[1]}if(m.t3614){var co=m.t3614;c1=j.c7(co,8);aj=j.c7(co,12)}if(c1!=0){if(c1<aj){var b=c1;
c1=aj;aj=b}var l=D.width-c1>>>1,ib=D.height-aj>>>1;D.t50829=[ib,l,ib+aj,l+c1]}if(m.t12){var il=B.raw.qk(m.t12);
hV=[1/il[0],1,1/il[1]]}else if(m.t151){var h6=B.raw.arm(m,151),c8=h6[0],bu=h6[1],fx=h6[2];if(c8=="0100"&&bu>=80)throw"e";
else if(c8=="0102"){var bU=[];for(var k=0;k<4;k++)bU.push(jP(fx,6+k*2));hV=[bU[1]/bU[0],1,bU[1]/bU[3]]}else if(c8=="0103"&&bu>=26){var bU=[];
for(var k=0;k<4;k++)bU.push(jP(fx,16+k*2));hV=[bU[1]/bU[0],1,bU[3]/bU[2]]}else if(c8=="0204"&&bu>=564||c8=="0205"&&bu>=284){var x=c8=="0204"?6:14,bU=[];
for(var k=0;k<4;k++)bU.push(jP(fx,x+k*2));hV=[bU[1]/bU[0],1,bU[1]/bU[3]]}else throw"e"}else console.log("no white balance info");
if(M=="NIKON D1")hV=[1,1,1];if(hV)D.t50728=hV;var b6=m.t150?m.t150:m.t140;if(b6){var dY=b6[iF++],bl=b6[iF++],ga;
if(dY==73||bl==88)iF+=2110;iF+=8;var dc=1<<w&32767,hN=jP(b6,iF);iF+=2;var Q=[];if(hN>1)ga=Math.floor(dc/(hN-1));
if(dY==68&&bl==32&&ga>0){for(k=0;k<hN;k++){Q[k*ga]=jP(b6,iF);iF+=2}for(k=0;k<dc;k++)Q[k]=Math.floor((Q[k-k%ga]*(ga-k%ga)+Q[k-k%ga+ga]*(k%ga))/ga)}else if(dY!=70&&hN<=16385){dc=hN;
for(var k=0;k<hN;k++)Q[k]=jP(b6,iF+2*k);iF+=2*hN}if(Q.length!=0)D.t50712=new Uint16Array(Q);else if(D.t272[0]=="NIKON D750")D.t50717[0]*=4}}else if(M.startsWith("FujiFilm")){}else alert("Unknown camera "+M)};
B.raw.afX=function(D,n,_,b){if(0==_)return;var w=new Uint32Array(128),i=new Uint8Array(w.buffer),M=127,N=0,a=0;
for(var M=0;M<4;M++)w[M]=b=(b*15625>>>0)*3125+1>>>0;w[3]=w[3]<<1|(w[0]^w[2])>>>31;for(var M=4;M<127;
M++)w[M]=(w[M-4]^w[M-2])<<1|(w[M-3]^w[M-1])>>>31;for(var M=0;M<127;M++)w[M]=j.n(i,M*4);for(;_>0;_--){w[M&127]=w[M+1&127]^w[M+1+64&127];
var o=w[M&127],U=D[N];U^=o;n[a]=U;N++;a++;M++}};B.raw.a5n=function(D,n){var _=j.gw(n,0,4),b=B.raw.a5U;
for(var k=0;k<b.length;k++)if(b[k][0]==D&&_.startsWith(b[k][1])&&(b[k][2]==0||b[k][2]==n.length))return b[k];
throw"e"};B.raw.a7o=function(D){if(D.t29==null)return[];var n=B.raw.ahm,_=B.raw.a3c,b=D.t29[0],w=0,M=0;
for(var k=0;k<b.length;k++){var i=b.charCodeAt(k);w=w*10+(48<=i&&i<=57?i-48:i%10)}var bu=D.t167[0];for(var k=0;
k<4;k++)M^=bu>>>(k<<3)&255;var N=n[w&255],a=_[M&255];return[N,a,96]};B.raw.arm=function(D,n){var _=D["t"+n],bu=_.length,b=B.raw.a5n(n,_),w=j.gw(_,0,4),i,M=b[4];
if(M==null)i=_.slice(4);else{i=new Uint8Array(bu-M);var N=B.raw.a7o(D),a=N[0],o=N[1],U=N[2];for(var k=0;
k<i.length;k++){o=o+a*U++&255;i[k]=_[M++]^o}}return[w,bu,i]};B.raw.a5U=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
B.raw.ahm=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
B.raw.a3c=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
B.ag={};B.ag.ag=function(D,n,_,b,w){if(b==null)b=3;if(w==null)w=!0;var i=D.l,M=D.e,N=1/i,a=i*M,o=Date.now(),U=!1,V=B.ag.PU(_,i,M,255,128),c=B.ag.PU(_,i,M,0,128),hH=0;
if(U)console.log("extract contours",Date.now()-o);o=Date.now();var E=function(ga,b1){var fc=ga<<2,h9=b1<<2;
return n[fc]+n[fc+1]+n[fc+2]-(n[h9]+n[h9+1]+n[h9+2])};V.sort(E);c.sort(E);var A=B.U(a),Q=B.U(a),J=[],L=new Uint32Array(i*M);
L.fill(4294967295);for(var k=0;k<a;k++)if(_[k]==0)Q[k]=255;else if(_[k]==255)A[k]=255;else{L[k]=J.length;
J.push(k)}var P=V.length,u=c.length,m=J.length;function x(ga,b1,fc,h9){var cB=ga.length,bp=new Array(cB*2);
for(var k=0;k<cB;k++){var h=ga[k],Y=~~(h*h9),K=h-Y*fc,bl=h<<2;bp[k*2]=K<<16|Y;bp[k*2+1]=b1[bl]<<16|b1[bl+1]<<8|b1[bl+2]}return bp}var v=x(V,n,i,N),W=x(c,n,i,N),Z=x(J,n,i,N);
if(U)console.log("Itemize",Date.now()-o,"Unknown:",m,P,u);o=Date.now();var r=B.style.eD(A,i,M,!0),X=B.style.eD(Q,i,M,!0),$=new Array(m),I=new Array(m),T=new Array(m),e=new Array(m),F=new Array(m);
if(U)console.log("Dist transform",Date.now()-o);o=Date.now();var y=B.ag.Yf;for(var k=0;k<m;k++){var h=J[k],Y=~~(h*N),K=h-Y*i,z=r[h<<1],f=r[(h<<1)+1],s=Math.sqrt(z*z+f*f),l=X[h<<1],g=X[(h<<1)+1],H=Math.sqrt(l*l+g*g);
$[k]=1/s;I[k]=1/H;var O=Math.floor(B.a.wn(h*17)*P),C=Math.floor(B.a.wn(h*19)*u);T[k]=O;e[k]=C;F[k]=y(Z[k*2],Z[k*2+1],v[O*2],v[O*2+1],W[C*2],W[C*2+1],$[k],I[k],1e9)}var ib=[-i-1,-i,-i+1,-1,1,i-1,i,i+1];
while(Math.floor(Math.max(P,u)*Math.pow(.5,hH))>1)hH++;for(var R=0;R<b;R++){var fR=0;for(var k=0;k<m;
k++){var h=J[k],Y=~~(h*N),K=h-Y*i,j4=$[k],cP=I[k],a8=Z[k*2],d0=Z[k*2+1],b9=F[k],O=T[k],C=e[k],dT=1;if(Y!=0&&K!=0&&K!=i-1&&Y!=M-1)for(var jG=0;
jG<8;jG++){var jP=L[h+ib[jG]];if(jP==4294967295)continue;var aq=T[jP],gM=e[jP];if(aq==O&&gM==C)continue;
var gv=y(a8,d0,v[aq*2],v[aq*2+1],W[gM*2],W[gM*2+1],j4,cP,b9);if(gv<b9){b9=gv;O=aq;C=gM}}for(var aC=0;
aC<hH;aC++){var c1=~~(P*dT),aj=~~(u*dT);dT*=.5;var bD=B.a.wn(h+R*17+aC*31),cy=B.a.wn(h+R*29+aC*63),co=Math.max(0,O-c1),hV=Math.min(O+c1,P-1),il=Math.max(0,C-aj),fx=Math.min(C+aj,u-1),aq=co+~~(bD*(hV-co)),gM=il+~~(cy*(fx-il)),gv=y(a8,d0,v[aq*2],v[aq*2+1],W[gM*2],W[gM*2+1],j4,cP,b9);
if(gv<b9){b9=gv;O=aq;C=gM}}F[k]=b9;T[k]=O;e[k]=C;fR+=b9}}if(U)console.log(fR);if(U)console.log("iterations",Date.now()-o);
o=Date.now();var bU=_.slice(0);for(var k=0;k<m;k++){var b6=B.ag.alpha(Z[k*2+1],v[T[k]*2+1],W[e[k]*2+1]);
bU[J[k]]=~~(.5+255*b6)}bU=B.E0.ae9(bU,n,new gl(0,0,i,M),16,.01*.01);if(U)console.log("guided filter",Date.now()-o);
o=Date.now();if(w)for(var k=0;k<a;k++)if(_[k]==255||_[k]==0)bU[k]=_[k];var iF=n.slice(0);for(var k=0;
k<m;k++){var dY=J[k],O=V[T[k]],b9=F[k],bl=dY<<2,dc=bU[dY],hN=(dc>=250?dY:O)<<2;iF[bl]=n[hN];iF[bl+1]=n[hN+1];
iF[bl+2]=n[hN+2]}B.tD(bU,iF,3);if(U)console.log(Date.now()-o);o=Date.now();return iF};B.ag.Yf=function(D,n,_,b,w,i,M,N,a){var o=D>>>16,U=D&65535,V=o-(_>>>16),c=U-(_&65535),E=o-(w>>>16),A=U-(w&65535),Q=Math.sqrt(V*V+c*c)*M,J=Math.sqrt(E*E+A*A)*N;
if(Q+J>=a)return 1e9;var L=B.ag.a63(n,b,i);return L+Q+J};B.ag.a63=function(D,n,_){var b=D>>>16,w=D>>>8&255,i=D&255,M=n>>>16,N=n>>>8&255,a=n&255,o=_>>>16,U=_>>>8&255,V=_&255,c=B.ag.alpha(D,n,_),E=b-(c*M+(1-c)*o),A=w-(c*N+(1-c)*U),Q=i-(c*a+(1-c)*V);
return Math.sqrt(E*E+A*A+Q*Q)};B.ag.alpha=function(D,n,_){var b=D>>>16,w=D>>>8&255,i=D&255,M=n>>>16,N=n>>>8&255,a=n&255,o=_>>>16,U=_>>>8&255,V=_&255,c=M-o,E=N-U,A=a-V,Q=b-o,J=w-U,L=i-V,P=c*c+E*E+A*A,u=P==0?.5:(Q*c+J*E+L*A)/P;
return Math.max(0,Math.min(1,u))};B.ag.a6O=function(D){};B.ag.PU=function(D,n,_,b,w){var i=[],M=n-1,N=_-1;
for(var a=1;a<N;a++)for(var o=1;o<M;o++){var k=a*n+o;if(D[k]==b&&(D[k-n-1]==w||D[k-n]==w||D[k-n+1]==w||(D[k-1]==w||D[k+1]==w)||(D[k+n-1]==w||D[k+n]==w||D[k+n+1]==w)))i.push(k)}return i};
B.E0={};B.E0.ah9=function(D,n,_,b,w){var i=_.l,M=_.e,N=i*M,a=B.E0.Cc,o=B.U(N*4),U;B.o5(o,4294967295);
var V=_,c=D,E=n,A=b;B.tD(D,o,0);U=B.GX(o,_);U=B.GX(U.B_,U.rect);V=U.rect;A=b>>>2;console.log(V,A);c=B.U(V.u());
B.Ef(U.B_,c,0);B.tD(n,o,0);U=B.GX(o,_);U=B.GX(U.B_,U.rect);E=B.U(V.u());B.Ef(U.B_,E,0);var Q=B.E0.afb(c,E,V,A,w),J=Q[0],L=Q[1],P=new gl(0,0,V.l*2,V.e*2);
J=a(J,V,P,!0);J=a(J,P,_,!0);L=a(L,V,P,!0);L=a(L,P,_,!0);var u=B.U(N);for(var k=0;k<N;k++)u[k]=Math.max(0,Math.min(255,Math.floor(.5+(J[k]*n[k]+255*L[k]))));
return u};B.E0.Cc=function(D,n,_,b){var w=_.l,i=_.e,M=n.l,N=n.e,a=B.E0.Tu,o=new Float32Array(w*i);for(var U=0;
U<N;U++){var V=(U+U)*w;for(var c=0;c<M;c++){if(!0||c==0||U==0||c==M-1||U==N-1)o[V]=o[V+1]=o[V+w]=o[V+w+1]=D[U*M+c];
else{o[V]=a(c+.25,U+.25,D,M,N);o[V+1]=a(c+.75,U+.25,D,M,N);o[V+w]=a(c+.25,U+.75,D,M,N);o[V+w+1]=a(c+.75,U+.75,D,M,N)}V+=2}}return o};
B.E0.Tu=function(D,n,_,b,w){D-=.499999;n-=.499999;var i=Math.floor(D),M=Math.floor(n),N=M*b+i,a=D-i,o=n-M,U=(1-o)*(1-a),V=(1-o)*a,c=o*(1-a),E=o*a;
if(_[N]==null||_[N+b+1]==null){console.log(D,n,b,w);throw"e"}return U*_[N+0]+V*_[N+1]+c*_[N+b+0]+E*_[N+b+1]};
B.E0.afb=function(D,n,_,b,w){var i=_.l,M=_.e,N=i*M,a=B.E0.PF,o=B.E0.U,U=B.uE.B4,V=B.E0.wZ,n=a(n),D=a(D),c=o(N);
U(n,c,_,b);var E=o(N);U(D,E,_,b);var A=o(N);V(n,n,A);U(A,A,_,b);var Q=o(N);V(n,D,Q);U(Q,Q,_,b);var J=o(N),L=o(N);
for(var k=0;k<N;k++){var P=c[k],u=E[k],m=A[k]-P*P,x=Q[k]-P*u,v=x/(m+w),W=u-v*P;J[k]=v;L[k]=W}var Z=o(N);
U(J,Z,_,b);var r=o(N);U(L,r,_,b);return[Z,r]};B.E0.ae9=function(D,n,_,b,w){var i=_.l,M=_.e,N=i*M,a=B.E0.Cc,o=Date.now(),U=!1,V=_,c=D,E=n,A=b;
V=new gl(0,0,i>>>2,M>>>2);A=b>>>2;c=B.E0.ai0(D,i,M);E=B.E0.a58(n,i,M);if(U)console.log(Date.now()-o);
o=Date.now();var Q=B.E0.adz(c,E,V,A,w),J=Q[0],L=Q[1],P=Q[2],u=Q[3];if(U)console.log(Date.now()-o);o=Date.now();
var m=B.U(N);for(var x=0;x<M;x++)for(var v=0;v<i;v++){var k=x*i+v,W=(x>>>2)*(i>>>2)+(v>>>2),Z=k<<2,r=J[W]*n[Z]+L[W]*n[Z+1]+P[W]*n[Z+2]+u[W]*255;
m[k]=Math.max(0,Math.min(255,~~(.5+r)))}if(U)console.log(Date.now()-o);o=Date.now();return m};B.E0.ai0=function(D,n,_){var b=n>>>2,w=_>>>2,i=B.U(n*_);
for(var M=0;M<w;M++)for(var N=0;N<b;N++)i[M*b+N]=D[M*n+N<<2];return i};B.E0.a58=function(D,n,_){var b=n>>>2,w=_>>>2,i=B.U(n*_*4);
for(var M=0;M<w;M++)for(var N=0;N<b;N++){var a=M*b+N<<2,o=M*n+N<<4;i[a]=D[o];i[a+1]=D[o+1];i[a+2]=D[o+2];
i[a+3]=D[o+3]}return i};B.E0.adz=function(D,n,_,b,w){var i=_.l,M=_.e,N=i*M,a=B.E0.PF,o=B.E0.U,U=B.uE.B4,V=B.E0.wZ,D=a(D),c=new B.YV(i*M);
B.BJ(n,c);var n=[a(c.p),a(c.z),a(c.S)],E=B.E0.aip(D,n,_,b,w),A=o(N);U(D,A,_,b);var Q=o(N);V(n[0],D,Q);
U(Q,Q,_,b);var J=o(N);V(n[1],D,J);U(J,J,_,b);var L=o(N);V(n[2],D,L);U(L,L,_,b);var P=o(N),u=o(N),m=o(N),x=o(N);
for(var k=0;k<N;k++){var v=A[k],W=E.U2[k],Z=E.nM[k],r=E.qN[k],X=Q[k]-W*v,$=J[k]-Z*v,I=L[k]-r*v;P[k]=E.a8p[k]*X+E.i$[k]*$+E.tj[k]*I;
u[k]=E.i$[k]*X+E.a4j[k]*$+E.vr[k]*I;m[k]=E.tj[k]*X+E.vr[k]*$+E.asE[k]*I;x[k]=v-P[k]*W-u[k]*Z-m[k]*r}U(P,P,_,b);
U(u,u,_,b);U(m,m,_,b);U(x,x,_,b);return[P,u,m,x]};B.E0.aip=function(D,n,_,b,w){var i=_.l,M=_.e,N=i*M,a=B.E0.U,o=B.uE.B4,U=B.E0.wZ,V={};
V.U2=a(N);o(n[0],V.U2,_,b);V.nM=a(N);o(n[1],V.nM,_,b);V.qN=a(N);o(n[2],V.qN,_,b);var c=a(N);U(n[0],n[0],c);
o(c,c,_,b);var E=a(N);U(n[0],n[1],E);o(E,E,_,b);var A=a(N);U(n[0],n[2],A);o(A,A,_,b);var Q=a(N);U(n[1],n[1],Q);
o(Q,Q,_,b);var J=a(N);U(n[1],n[2],J);o(J,J,_,b);var L=a(N);U(n[2],n[2],L);o(L,L,_,b);V.a8p=c;V.i$=E;
V.tj=A;V.a4j=Q;V.vr=J;V.asE=L;for(var k=0;k<N;k++){var P=V.U2[k],u=V.nM[k],m=V.qN[k],x=c[k]-P*P+w,v=E[k]-P*u,W=A[k]-P*m,Z=Q[k]-u*u+w,r=J[k]-u*m,X=L[k]-m*m+w,$=Z*X-r*r,I=r*W-v*X,T=v*r-Z*W,e=x*X-W*W,F=W*v-x*r,y=x*Z-v*v,h=$*x+I*v+T*W,Y=1/h;
V.a8p[k]=$*Y;V.i$[k]=I*Y;V.tj[k]=T*Y;V.a4j[k]=e*Y;V.vr[k]=F*Y;V.asE[k]=y*Y}return V};B.E0.U=function(D){return new Float32Array(D)};
B.E0.PF=function(D){var n=D.length,_=new Float32Array(n);for(var k=0;k<n;k++)_[k]=D[k]*(1/255);return _};
B.E0.wZ=function(D,n,_){for(var k=0;k<D.length;k++)_[k]=D[k]*n[k]};B.bd={};B.bd.g6=function(D,n,_,b){var w=D[n]-_[b],i=D[n+1]-_[b+1],M=D[n+2]-_[b+2];
return Math.sqrt(w*w+i*i+M*M)*(1/441.7)};B.bd.getSelection=function(D,n,_){var b=n*_,w=B.U(b),i=!1,M=Math.round(_*.7),N=1,a=new Uint32Array(12),o=B.U(12);
for(var U=0;U<M;U++)for(var V=0;V<n;V++){if(V<N||U<N||V>n-N-1||U>_-N-1){var k=U*n+V,c=k<<2,E=0;if(U<N)E=4;
else if(V>n-N-1)E=8;a[E]+=D[c];a[E+1]+=D[c+1];a[E+2]+=D[c+2];a[E+3]++;w[k]=255}}for(var k=0;k<12;k+=4)for(var A=0;
A<3;A++)o[k+A]=a[k+A]/a[k+3];var Q=new Float32Array(b);for(var k=0;k<b;k++){var c=k*4,J=B.bd.g6(D,c,o,0),L=B.bd.g6(D,c,o,4),P=B.bd.g6(D,c,o,8),u=Math.max(J,Math.max(L,P));
Q[k]=J+L+P-u}B.bd.O2(Q);var m=Date.now(),x=new Float32Array(b),v=[],W=B.U(b);for(var k=0;k<3;k++){B.Ef(D,W,k);
var Z=new Uint16Array(b);v.push(Z);B.bd.a41(W,w,n,_,Z)}if(i)console.log("MBD",Date.now()-m);m=Date.now();
for(var k=0;k<b;k++)x[k]=v[0][k]+v[1][k]+v[2][k];B.bd.O2(x);for(var k=0;k<b;k++)x[k]+=.4*Q[k];var r=n>>>1,M=_>>>1,X=1/Math.sqrt(r*r+M*M);
for(var U=0;U<_;U++)for(var V=0;V<n;V++){var $=V-r,I=U-M,T=1-Math.sqrt($*$+I*I)*X;x[U*n+V]*=T}if(i)console.log("Centeredness",Date.now()-m);
m=Date.now();for(var k=0;k<b;k++)w[k]=x[k]*255;var e=Math.round(n/120),F=Math.round(e*.8);if(i)console.log(e,F);
B.OR.eX(w,W,n,_,e,B.OR.xs,[]);w.set(W);if(i)console.log("erosion",Date.now()-m);m=Date.now();for(var k=0;
k<b;k++)x[k]=w[k];B.bd.O2(x);var y=B.U(256);for(var k=0;k<256;k++)y[k]=256/(1+Math.exp(-20*(k/255-.5)));
for(var k=0;k<b;k++){var h=~~(x[k]*255+.5);w[k]=y[h]}if(i)console.log("Simoid",Date.now()-m);m=Date.now();
return w};B.bd.O2=function(D){var n=D.length,_=0;for(var k=0;k<n;k++)_=Math.max(_,D[k]);var b=1/_;for(var k=0;
k<n;k++)D[k]=D[k]*b};B.bd.a41=function(D,n,_,b,w){var i=_*b,M=D.slice(0),N=D.slice(0);for(var k=0;k<i;
k++)w[k]=n[k]==255?0:65535;B.bd.Rf(D,N,M,w,_,b);B.bd.kx(D,N,M,w,_,b);B.bd.Rf(D,N,M,w,_,b);B.bd.kx(D,N,M,w,_,b);
return w};B.bd.Rf=function(D,n,_,b,w,i){for(var M=1;M<w;M++)B.bd.vM(M,-1,D,n,_,b);for(var N=1;N<i;N++){B.bd.vM(N*w,-w,D,n,_,b);
for(var M=1;M<w;M++){var k=N*w+M;B.bd.vM(k,-1,D,n,_,b);B.bd.vM(k,-w,D,n,_,b)}}};B.bd.kx=function(D,n,_,b,w,i){for(var M=w-2;
M>=0;M--)B.bd.vM(w*i-w+M,1,D,n,_,b);for(var N=i-2;N>=0;N--){B.bd.vM(N*w+w-1,w,D,n,_,b);for(var M=w-2;
M>=0;M--){var k=N*w+M;B.bd.vM(k,1,D,n,_,b);B.bd.vM(k,w,D,n,_,b)}}};B.bd.vM=function(k,D,n,_,b,w){var i=k+D,M=n[k],N=_[i],a=b[i];
if(N<M)N=M;else if(M<a)a=M;var o=N-a;if(w[i]!=65535&&o<w[k]){w[k]=o;_[k]=N;b[k]=a}};B.Pa={};B.Pa.filter=function(D,n,_,b){var w=n.l,i=n.e,M=w*i,N=b[0],a=b[1],o=b[2],U=b[3],V=b[4],c=b[5],E=b[6],A=Date.now(),Q=new Float32Array(w*i*4);
B.Pa.asd(D,w,i,Q);var J=Math.ceil(N*Math.sqrt(-2*Math.log(.1))),L=new ArrayBuffer(M*4),P=new Float32Array(L),u=new Float32Array(M),m=new Float32Array(M);
for(var k=0;k<M;k++){var x=k*4;P[k]=Q[x];u[k]=Q[x+1];m[k]=Q[x+2]}B.uE.pB(P,P,n,J*1/2.4,2);B.uE.pB(u,u,n,J*1/2.4,2);
B.uE.pB(m,m,n,J*1/2.4,2);for(var k=0;k<M;k++){var x=k*4;Q[x]=P[k];Q[x+1]=u[k];Q[x+2]=m[k]}var v=new Uint8Array(L);
for(var k=0;k<M;k++){var x=k*4,W=k*4,P=Q[x],u=Q[x+1],m=Q[x+2],Z=Math.sqrt((P-m)*(P-m)+4*u*u),r=(P+m+Z)*.5,X=(P+m-Z)*.5,$=X-m,I=u,T=$*$+I*I;
if(T!=0){var e=Math.sqrt(T),F=1/e;$*=F;I*=F}v[W]=128+127*$;v[W+1]=128+127*I}var y=1.3*a+2,h=U*(2/10),Y=D.slice();
if(p.b$){var K=new Float32Array([1/w,1/i]),z=p.rD(0,w,i);z.set(Y);var f=p.rD(1,w,i);f.set(v);p.pv(z,n);
if(V){z.WN(n);p.filter.UG({type:p.filter.a5S,ye:K,a7D:1/o,atn:h},z.QG)}z.WN(n);p.filter.UG({type:p.filter.l5,Fn:f.QI,ye:K,a5s:y,arS:2},z.QG);
if(V){z.WN(n);p.filter.UG({type:p.filter.aem,ye:K,auA:new Float32Array(E),ajV:c},z.QG)}z.get(_)}else{if(V)B.Pa.zj(1/o,h,Y,w,i);
B.Pa.l5(Y,_,v,w,i,y);if(V)B.Pa.a3n(w,i,_,E,c)}var s=M*4;for(var k=3;k<s;k+=4)_[k]=D[k]};B.Pa.l5=function(D,n,_,b,w,i){var M=Math.ceil(2*i),N=-1/(2*i*i),a=[],o=1;
for(var k=0;k<M+20;k++)a[k]=Math.exp(k*k*N);var U=[0,0,0,0];for(var V=0;V<w;V++){for(var c=0;c<b;c++){var E=V*b+c,A=E*4,Q=1,J=D[A],L=D[A+1],P=D[A+2],u=D[A+3],m=(_[A]-128)*(1/127),x=(_[A+1]-128)*(1/127),v=m,W=x,Z=c==0?.51:.49,r=V==0?.51:.49;
for(var k=0;k<2;k++){var X=c+Z,$=V+r,I=0;while(I<M){if(X<.5||b-.5<X||$<.5||w-.5<$)break;var T=~~X,e=~~$,F=e*b+T,y=F*4,h=(_[y]-128)*(1/127),Y=(_[y+1]-128)*(1/127);
if(h*v+Y*W<0){h=-h;Y=-Y}v=h;W=Y;X+=o*h;$+=o*Y;if(X<.5||b-.5<X||$<.5||w-.5<$)break;var K=~~X,z=~~$,f=z*b+K<<2;
I+=o;var s=a[~~I];B.N._M(X,$,D,b,w,U);J+=U[0]*s;L+=U[1]*s;P+=U[2]*s;u+=U[3]*s;Q+=s}v=-m;W=-x}var l=1/Q;
n[A]=~~(.5+J*l);n[A+1]=~~(.5+L*l);n[A+2]=~~(.5+P*l);n[A+3]=~~(.5+u*l)}}};B.Pa.a3n=function(D,n,_,b,w){for(var i=0;
i<n;i++)for(var M=0;M<D;M++){var N=i*D+M<<2,a=1+B.Pa.a0I(M,i,_,D,n,b)*w;_[N]=Math.max(0,Math.min(255,_[N]*a));
_[N+1]=Math.max(0,Math.min(255,_[N+1]*a));_[N+2]=Math.max(0,Math.min(255,_[N+2]*a))}};B.Pa.a0I=function(D,n,_,b,w,i){var M=_[(n*b+Math.max(0,D-1))*4+3],N=_[(n*b+Math.min(b-1,D+1))*4+3],a=_[(Math.max(0,n-1)*b+D)*4+3],o=_[(Math.min(w-1,n+1)*b+D)*4+3],U=.7,V=(N-M)*(1/255),c=.7,E=(o-a)*(1/255),A=-V*c,Q=-U*E,J=U*c,L=Math.sqrt(A*A+Q*Q+J*J),P=1/L,u=A*P,m=Q*P,x=J*P,v=i[0]*u+i[1]*m+i[2]*x;
return v};B.Pa.zj=function(D,n,_,b,w){function i(N,o,U){return Math.max(o,Math.min(U,N))}for(var M=0;
M<w;M++)for(var N=0;N<b;N++){var a=B.Pa.apH(N+.5,M+.5,D,n);_[(M*b+N)*4+3]=Math.max(0,Math.min(255,a*255))}};
B.Pa.apH=function(D,n,_,b){function w(W,Z,r){return(1-r)*W+r*Z}var i=(D+613)*_,M=(n+117)*_,N=~~i,a=~~M,o=i-N,U=M-a,V=Math.sin(11),c=Math.cos(N)*V,E=Math.cos(N+1)*V,A=Math.cos(a)*V,Q=Math.cos(a+1)*V,cQ=B.Pa.hash(c,A),J=B.Pa.hash(E,A),L=B.Pa.hash(c,Q),P=B.Pa.hash(E,Q),u=w(cQ,J,o),m=w(L,P,o),x=w(u,m,U);
x=x<.5?0:1;var v=x+b*B.Pa.hash(Math.cos(i)*V,Math.cos(M)*V);return v*(1/3)};B.Pa.hash=function(D,n){var _=Math.sin(D*11.697096+n*73.32456)*12157.47691;
return _-Math.floor(_)};B.Pa.asd=function(D,n,_,b){var w=[-1,0,1,-2,0,2,-1,0,1],i=[-1,-2,-1,0,0,0,1,2,1],M=n-1,N=_-1,a=n*4;
for(var o=1;o<N;o++)for(var U=1;U<M;U++){var k=o*n+U,V=k*4,c=B.Pa.mj(D,V,a,w),E=B.Pa.mj(D,V,a,i),A=B.Pa.mj(D,V+1,a,w),Q=B.Pa.mj(D,V+1,a,i),J=B.Pa.mj(D,V+2,a,w),L=B.Pa.mj(D,V+2,a,i);
b[V]=c*c+A*A+J*J;b[V+1]=c*E+A*Q+J*L;b[V+2]=E*E+Q*Q+L*L}B.Pa.abx(b,n,_)};B.Pa.mj=function(D,n,_,b){return D[n-_-4]*b[0]+D[n-_]*b[1]+D[n-_+4]*b[2]+D[n-4]*b[3]+D[n]*b[4]+D[n+4]*b[5]+D[n+_-4]*b[6]+D[n+_]*b[7]+D[n+_+4]*b[8]};
B.Pa.abx=function(D,n,_){function b(a,k,o){var U=k*4,V=o*4;a[V]=a[U];a[V+1]=a[U+1];a[V+2]=a[U+2]}var w=n-1,i=_-1;
b(D,n+1,0);b(D,2*n-2,n-1);for(var M=1;M<w;M++)b(D,n+M,M);for(var N=1;N<i;N++){b(D,N*n+1,N*n);b(D,N*n+n-2,N*n+n-1)}for(var M=1;
M<w;M++)b(D,(_-2)*n+M,(_-1)*n+M);b(D,(N-2)*n+1,(N-1)*n);b(D,(N-1)*n-2,N*n-1)};B.Ro={};B.Ro.jE=function(D,n,_,b){var w=D[n*2],i=D[n*2+1],M=D[_*2],N=D[_*2+1],a=D[b*2],o=D[b*2+1];
return w*N+M*o+a*i-a*N-M*i-w*o};B.Ro._N=function(D,n){var _=[],b=[],w=[],i={};for(var k=0;k<n.length;
k+=3){var M=~~(k*(1/3)),N=n[k+0],a=n[k+1],o=n[k+2],U=B.Ro.jE(D,N,a,o);if(U>0){var V=a;a=o;o=V}var c=i[o+"-"+a],E=i[a+"-"+N],A=i[N+"-"+o],Q=[o,c,M,null],J=[a,E,M,Q],L=[N,A,M,J];
Q[3]=L;if(c)c[1]=Q;if(E)E[1]=J;if(A)A[1]=L;i[o+"-"+N]=L;i[N+"-"+a]=J;i[a+"-"+o]=Q;_[N]=J;w[k]=J;_[a]=Q;
w[k+1]=Q;_[o]=L;w[k+2]=L;b[M]=J}return{ck:_,J9:b,w7:w}};B.Ro.apv=function(D){var n=[],_=D.J9;for(var k=0;
k<_.length;k++){var b=_[k];n.push(b[0]);b=b[3];n.push(b[0]);b=b[3];n.push(b[0])}return n};B.Ro.apx=function(D,n,_,b){var w=D[n*2],i=D[n*2+1],M=D[_*2],N=D[_*2+1],a=D[b*2],o=D[b*2+1],U=M-w,V=N-i,c=a-w,E=o-i,A=U*(w+M)+V*(i+N),Q=c*(w+a)+E*(i+o),J=2*(U*(o-N)-V*(a-M));
if(Math.abs(J)<1e-5){var L=Math.min(w,M,a),P=Math.min(i,N,o),u=(Math.max(w,M,a)-L)*.5,m=(Math.max(i,N,o)-P)*.5;
return[L+u,P+m,u*u+m*m,1]}var x=(E*A-V*Q)/J,v=(U*Q-c*A)/J,u=x-w,m=v-i;return[x,v,u*u+m*m,0]};B.Ro.akV=function(D,n,_){var b=_[1],w=_[3],i=w[3],M=b[3],N=M[3],a=_[2],o=b[2],U=_[0],V=b[0],c=w[0],E=M[0],A=B.Ro.apx(D,V,E,c),Q=D[U*2]-A[0],J=D[U*2+1]-A[1],L=Q*Q+J*J>A[2]&&A[3]==0&&B.Ro.jE(D,E,U,c)<0&&B.Ro.jE(D,c,V,E)<0;
if(L){_[0]=c;b[0]=E;_[3]=i;i[3]=M;M[3]=_;b[3]=N;N[3]=w;w[3]=b;w[2]=o;M[2]=a;n.J9[o]=N;n.J9[a]=i;n.ck[V]=M;
n.ck[U]=w}return L};B.Ro.ali=function(D,n,_){var b=D[n*2]-D[_*2],w=D[n*2+1]-D[_*2+1];return Math.sqrt(b*b+w*w)};
B.Ro.a20=function(D,n,_){var b=_[1],w=_[3],i=w[3],M,N,a=_[2],o,U=_[0],V=i[0],c=w[0],E;if(b){M=b[3];N=M[3];
o=b[2];E=M[0]}var A=D.length>>>1;D[2*A]=(D[2*V]+D[2*U])*.5;D[2*A+1]=(D[2*V+1]+D[2*U+1])*.5;if(!0){var Q=a,J=_,L=n.J9.length,P=[A,null,Q,J],u=[c,P,L,i];
P[1]=u;var m=[A,null,L,u];w[3]=P;i[3]=m;i[2]=L;n.J9[Q]=w;n.J9[L]=m;n.ck[U]=w;n.ck[c]=i;n.w7.push(P,u,m)}if(b){var x=o,v=b,W=L+1;
m[1]=v,v[1]=m;var Z=[A,null,x,v],r=[E,Z,W,N];Z[1]=r;var X=[A,J,W,r];J[1]=X;M[3]=Z;N[3]=X;N[2]=W;n.J9[x]=M;
n.J9[W]=N;n.ck[V]=M;n.ck[E]=N;n.w7.push(Z,r,X)}n.ck[A]=J};B.Ro.IF=function(D,n){var _=0;while(!0){var b=_;
for(var k=0;k<n.w7.length;k++){var w=n.w7[k];if(w[1]==null)continue;var i=B.Ro.akV(D,n,w);if(i){_++;
break}}if(b==_)break}return _!=0};B.Ro.ahq=function(D,n,_,b){var w=0;for(var k=0;k<b;k++){var i=null,M=0;
for(var N=0;N<n.w7.length;N++){var a=n.w7[N],o=B.Ro.ali(D,a[0],a[3][3][0])*(a[1]?1:2);if(o>M){i=a;M=o}}if(M>_){B.Ro.a20(D,n,i);
w++}}return w!=0};B.Ro.aqw=function(D,n){var _=[],c=0;for(var k=0;k<D.length;k++)_.push(0);for(var k=0;
k<n.w7.length;k++){var b=n.w7[k],w=b[0],i=b[3][3][0],M=D[w*2],N=D[w*2+1],a=D[i*2],o=D[i*2+1],U=M-a,V=N-o;
_[w*2]+=-U;_[w*2+1]+=-V;_[i*2]+=U;_[i*2+1]+=V}for(var k=0;k<D.length;k+=2){var E=k>>>1,A=n.ck[E],b=A,Q=!0;
do{if(b[1]==null){Q=!1;break}b=b[1][3]}while(b!=A);if(Q){var L=.02;D[k]+=L*_[k];D[k+1]+=L*_[k+1];c+=L*(_[k]*_[k]+_[k+1]*_[k+1])}}return c};
B.Ro.afn=function(D,n,_){var b=B.H.t0(D),w=B.Ro._N(D,n);B.Ro.IF(D,w);for(var i=0;i<300;i++){var M=!1,N=!1;
M=B.Ro.ahq(D,w,_,5);if(M)N=B.Ro.IF(D,w);var a=B.Ro.aqw(D,w);if(!M&&!N&&a<1e-4){break}}return B.Ro.apv(w)};
B.i2={};B.i2.Si=function(D){var n=D.AF,_=D.x_,b=D.UB,w=D.dZ,i=D.eo,M=D.up,N=D.E1,a=B.Ox.ZV,P,u,m=0;function o(cQ){var j4=new Array(cQ);
for(var k=0;k<cQ;k++)j4[k]=0;return j4}var U=_.length>>>1,V=o(n.aX*2),c=o(n.aX),E=o(n.aX),A=Date.now();
for(var k=0;k<D.jJ.length;k++){var Q=n.a7N+k,J=n.Wj*(M[k*2]+N[k*2]),L=n.Wj*(M[k*2+1]+N[k*2+1]);V[Q*2]=J;
V[Q*2+1]=L;c[Q]=J;E[Q]=L}n.asS.S3(w,n.a7J.ZV(V),.01,P,u);for(var k=0;k<n.a9W.w7.length;k++){var v=n.a9W.w7[k],W=v[3][3][0],Z=v[0],r=v[3][0],X=v[1]?v[1][3][0]:r;
if(v[1]&&W>Z)continue;var $=_[W*2],I=_[W*2+1],T=_[Z*2],e=_[Z*2+1],F=w[W*2],y=w[W*2+1],h=w[Z*2],Y=w[Z*2+1],K=w[r*2],z=w[r*2+1],f=w[X*2],s=w[X*2+1],l=[F,y,h,Y,K,z];
if(v[1])l.push(f,s);var g=a(n.ab_[m],l),H=g[0],O=g[1],C=1/Math.sqrt(H*H+O*O);H*=C;O*=C;var ib=T-$,hH=e-I;
c[m]=H*ib+O*hH;E[m]=-O*ib+H*hH;m++}var R=new Array(U),fR=new Array(U);for(var k=0;k<U;k++){R[k]=i[k*2];
fR[k]=i[k*2+1]}n.a5e.S3(R,n.arA.ZV(c),.5);n.a5e.S3(fR,n.arA.ZV(E),.5);for(var k=0;k<U;k++){i[k*2]=R[k];
i[k*2+1]=fR[k]}};B.i2.Bu=function(D){var n=D.x_,_=D.UB,b=D.jJ,w=B.Ox.multiply,i=Date.now(),M=B.Ro._N(n,_),N=n.length>>>1,a=0,A=0,O=1e3;
for(var k=0;k<M.w7.length;k++)a+=M.w7[k][1]?.5:1;var o=a+b.length,U=[],V=new B.Ta(o*2,N*2),c=new B.Ta(o,N),E=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],Q=[],J=[];
for(var k=0;k<M.w7.length;k++){var L=M.w7[k],P=L[3][3][0],u=L[0],m=L[3][0],v=L[1]?L[1][3][0]:m;if(L[1]&&P>u)continue;
var W=n[P*2],Z=n[P*2+1],r=n[u*2],X=n[u*2+1],$=n[m*2],I=n[m*2+1],T=n[v*2],e=n[v*2+1],F=[[W,Z,1,0],[Z,-W,0,1],[r,X,1,0],[X,-r,0,1],[$,I,1,0],[I,-$,0,1]];
if(L[1])F.push([T,e,1,0],[e,-T,0,1]);var y=B.Ox.V4(F),h=w(linear.invert(w(y,F)),y);h.pop();h.pop();U.push(h);
var Y=r-W,K=X-Z,z=E[L[1]?1:0];z=B.Ox.mG(z,w([[Y,K],[K,-Y]],h));var f=[P*2,P*2+1,u*2,u*2+1,m*2,m*2+1,v*2,v*2+1],s=L[1]?8:6,l=[];
for(var g=0;g<s;g++)l.push([f[g],z[0][g],z[1][g]]);l.sort(function(j4,cP){return j4[0]-cP[0]});for(var H=0;
H<2;H++){for(var g=0;g<s;g++){Q[g]=l[g][0];J[g]=l[g][1+H]}V.iD(J,Q,s)}if(P<u)c.iD([-1,1],[P,u],2);else c.iD([1,-1],[u,P],2);
A++}for(var k=0;k<b.length;k++){var C=b[k];V.iD([O],[C*2],1);V.iD([O],[C*2+1],1);c.iD([O],[C],1)}var ib=V.V4(),hH=ib.nw(ib),R=c.V4(),fR=R.nw(R);
return{a7N:a,aX:o,a7J:ib,asS:hH,arA:R,a5e:fR,a9W:M,ab_:U,Wj:O}};B.i2.ale=function(D,n,_,b,w){var i=new gl(0,0,n,_),M=B.U(i.u());
B.Ef(D,M,3);B.round(M,70);var N=B.y2(M,i),a=[.1,.065,.035][b]*Math.max(N.l,N.e),o=w+1,U=n+o*2,V=_+o*2,c=new gl(-o,-o,U,V),E=B.U(c.u());
B.I4(M,i,E,c);var A=E.slice(0);for(var Q=0;Q<w;Q++){for(var J=1;J<V-1;J++){for(var P=1;P<U-1;P++){var k=J*U+P;
A[k]=E[k-U]|E[k-1]|E[k]|E[k+1]|E[k+U]}}var u=A;A=E;E=u}var m=cD.RF(E,U,V,Math.round(N.u()*5e-4)),x=cD.DZ(m),v=new e3(1,0,0,1,-o,-o);
for(var k=0;k<x.length;k++){var W=x[k];B.H.A(W.path.t,v,W.path.t);W.x_=B.i2.aqJ(W.path);W.UB=B.H.a82(W.x_);
W.UB=B.Ro.afn(W.x_,W.UB,a)}return x};B.i2.aqJ=function(D){var n=[],_=D.t,b=D.C.length-1,w=0,i=0;for(var M=0;
M<b;M++){var k=M*6,N=_[k+6]-_[k+0],a=_[k+7]-_[k+1],o=Math.ceil(Math.sqrt(N*N+a*a));for(var U=0;U<o;U++){var V=U/o,c=1-V,E=c*c*c*_[k+0]+3*c*c*V*_[k+2]+3*c*V*V*_[k+4]+V*V*V*_[k+6],A=c*c*c*_[k+1]+3*c*c*V*_[k+3]+3*c*V*V*_[k+5]+V*V*V*_[k+7];
n.push(E,A);w=E;i=A}}n=B.H.gx(n,1);var Q=[],J=n.length;for(var k=0;k<J;k+=2){var A=n.pop(),E=n.pop();
Q.push(E,A)}return Q};B.i2.a5$=function(D,n,_,b){function w(Z,r,X,$,I){var T=I[Z*2]-I[r*2],e=I[Z*2+1]-I[r*2+1],F=Math.sqrt(T*T+e*e);
if(X[Z].indexOf(r)==-1){X[Z].push(r);$[Z].push(F)}if(X[r].indexOf(Z)==-1){X[r].push(Z);$[r].push(F)}}var i=D.length>>>1,M=new Array(i);
if(_.length==0){M.fill(0);return M}var N=new Array(i),a=new Array(i);for(var k=0;k<i;k++){N[k]=[];a[k]=[]}for(var k=0;
k<n.length;k+=3){w(n[k],n[k+1],N,a,D);w(n[k],n[k+2],N,a,D);w(n[k+1],n[k+2],N,a,D)}var o=new Float64Array(i*2),U=new Uint32Array(i*2);
o.fill(1e9);var V=new Uint8Array(i);for(var c=0;c<_.length;c++){V.fill(0);var E=["---",[0,_[c]]];while(E.length!=1){var A=B.ZR.ane(E),Q=A[0],J=A[1];
if(V[J]==1)continue;var L=J<<1;if(Q<o[L]){o[L+1]=o[L];U[L+1]=U[L];o[L]=Q;U[L]=c}else if(Q<o[L+1]){o[L+1]=Q;
U[L+1]=c}V[J]=1;var P=N[J],u=a[J];for(var k=0;k<P.length;k++){var m=P[k];if(V[m]!=1){B.ZR.amj(E,[Q+u[k],m])}}}}for(var k=0;
k<i;k++){var L=k<<1,x=o[L],v=o[L+1],W=1/(x+v);M[k]=(1-x*W)*b[U[L]]+(1-v*W)*b[U[L+1]]}return M};B.i2.aei=function(D){var n={C:[],t:[]},_=[D];
while(_.length!=0){var b=_.pop(),w=b.PH;if(b.a6f instanceof Array||b.a2M instanceof Array){n.C.push("M","L","L","L","Z");
n.t.push(w[0],w[1],w[2],w[1],w[2],w[3],w[0],w[3])}else _.push(b.a6f,b.a2M)}return n};B.i2.az=function(D,n,_,b,w,i,M,N,a,o){var U=Math.round(o.length/3),V=new Array(U);
for(var k=0;k<U;k++)V[k]=k;V.sort(function(E,A){return a[o[E*3]]-a[o[A*3]]});for(var k=0;k<U;k++){var c=V[k]*3;
B.i2.abk(o[c]*2,o[c+1]*2,o[c+2]*2,M,N,D,n,_,b,w,i)}};B.i2.abk=function(D,n,_,b,w,i,M,N,a,o,U){var V=B.i2.Nv,c=[D,n,_,1.2,1.2,1.2,0],E=[0,0,0,0],A=w[D],Q=w[D+1],J=w[n],L=w[n+1],P=w[_],u=w[_+1],m=Math.max(0,Math.min(M-1,b[D])),x=Math.max(0,Math.min(M-1,b[n])),v=Math.max(0,Math.min(M-1,b[_])),W=Math.max(0,Math.min(N-1,b[D+1])),Z=Math.max(0,Math.min(N-1,b[n+1])),r=Math.max(0,Math.min(N-1,b[_+1])),X=J-A,$=L-Q,I=P-A,T=u-Q,e=1/(X*T-I*$+1e-9),F=Math.max(0,Math.floor(Math.min(A,J,P))),y=Math.min(o,Math.ceil(Math.max(A,J,P))),h=Math.max(0,Math.floor(Math.min(Q,L,u))),Y=Math.min(U,Math.ceil(Math.max(Q,L,u)));
for(var K=h;K<Y;K++)for(var z=F;z<y;z++){var f=z+.5-A,s=K+.5-Q,l=(f*T-I*s)*e,g=(X*s-f*$)*e;if(l>=0&&g>=0&&l+g<=1){var H=1-l-g,O=m*H+x*l+v*g,C=W*H+Z*l+r*g;
B.N._M(O,C,i,M,N,E);B.i2.amK(E,a,K*o+z<<2)}}};B.i2.amK=function(D,n,_){var b=n[_],w=n[_+1],i=n[_+2],M=n[_+3],N=1-D[3]*(1/255);
n[_]=~~(.5+D[0]+b*N);n[_+1]=~~(.5+D[1]+w*N);n[_+2]=~~(.5+D[2]+i*N);n[_+3]=~~(.5+D[3]+M*N)};B.i2.Nv=function(){var D=function(_,b,w,i){var M=i[0],N=i[1],a=i[2],o=_[M+0],U=_[M+1],V=_[N+0],c=_[N+1],E=_[a+0],A=_[a+1],Q=V-o,J=c-U,L=E-o,P=A-U,u=b-o,m=w-U,x=Q*P-L*J,v=1/(x+1e-9),W=(u*P-L*m)*v,Z=(Q*m-u*J)*v;
if(W>=0&&Z>=0&&W+Z<=1){i[3]=1-W-Z;i[4]=W;i[5]=Z;return 1}return 0},n=function(_,b,w,i){var M=[0,0,0,0,0,0];
for(var k=0;k<b.length;k+=3){M[0]=b[k]*2;M[1]=b[k+1]*2;M[2]=b[k+2]*2;if(D(_,w,i,M)==1)return!0}return!1};
return{a1U:D,au7:n}}();B.FS={};B.FS.an6=function(D,n,_){var b=B.U(n*_*4),w=!1;B.N.G$(D,n,_,b,[_,n,0,1,0,1,0,0]);
return[B.FS.A_(D,n,_,w),B.FS.A_(b,_,n,w)]};B.FS.A=function(D,n){var _=!1,b=D[0],w=D[1],i=b[1],M=b[2],N=b[3],a=n.l,o=n.e;
if(M==a&&N==o)i=i.slice(0);else if(N!=o){var U=B.U(M*o*4);B.FS.jn(w,o,U,_);i=B.U(M*o*4);B.N.G$(U,o,M,i,[M,o,0,1,0,1,0,0]);
if(M!=a){b=B.FS.A_(i,M,o,_);i=B.U(a*o*4);B.FS.jn(b,a,i,_)}}else if(M!=a){i=B.U(a*N*4);B.FS.jn(b,a,i,_)}return i};
B.FS.A_=function(D,n,_,b){var w=Date.now(),i=new Uint16Array(n*_),M=1;B.FS.a4k(D,n,_,i);var N=Math.ceil(n/M),a=new Uint32Array(M),o=new Uint32Array(M),N=Math.floor(n/M);
for(var U=0;U<M;U++)o[U]=U<M-1?N:n-(M-1)*N;for(var V=0;V<_;V++){var k=V*n;for(var U=0;U<M;U++){var N=o[U];
for(var c=0;c<N;c++)a[U]+=i[k+c];k+=N}}if(b){console.log(Date.now()-w,"cost");w=Date.now()}var E=new Uint32Array(n),A=new Uint32Array(n),Q=new Uint32Array(n*_);
for(var c=0;c<n;c++){Q[(_-1)*n+c]=i[(_-1)*n+c]}for(var V=_-2;V>=0;V--){var J=V*n;for(var U=0;U<M;U++){var N=o[U];
Q[J]=i[J]+Math.min(Q[J+n],Q[J+n+1]);for(var c=1;c<N-1;c++){var k=J+c;Q[k]=i[k]+Math.min(Q[k+n-1],Math.min(Q[k+n],Q[k+n+1]))}J+=N-1;
Q[J]=i[J]+Math.min(Q[J+n-1],Q[J+n]);J++}}if(b){console.log(Date.now()-w,"Building M");w=Date.now()}function L($,I){return $<I?$:I}function P(k,$){var I=A[k],T=Q[$],e=~~(I*T*1e-4);
return e}var u=new Uint8Array(n*_),m=new Uint32Array(n);for(var k=0;k<n;k++){E[k]=k;A[k]=i[k]}for(var V=1;
V<_;V++){var x=0,J=V*n;for(var U=0;U<M;U++){var N=o[U],k=J;m[x]=P(x,k);var v=m[x]+P(x+1,k+1),W=P(x,k+1)+P(x+1,k);
m[x+1]=L(v,W);for(var c=2;c<N;c++){var k=J+c,Z=m[x+c-1]+P(x+c-1,k-1),r=m[x+c-2]+P(x+c-1,k-2)+P(x+c-2,k-1);
m[x+c]=L(Z,r)}var c=N-1;while(c>=2){var k=J+c,Z=m[x+c-1]+P(x+c-1,k-1),r=m[x+c-2]+P(x+c-1,k-2)+P(x+c-2,k-1);
if(m[x+c]==Z){u[k-n]=1;c-=1}else{u[k-n]=0;u[k-n-1]=2;c-=2}}var k=J;if(c==0){u[k-n]=1}else{if(m[x+1]==v){u[k+1-n]=1;
u[k-n]=1}else{u[k+1-n]=0;u[k-n]=2}}J+=N;x+=N}B.FS.arQ(V,n,u,i,E,A,!0,w)}if(b){console.log(Date.now()-w,"Matching");
w=Date.now()}var X=i;return[UZIP.adler(D,0,D.length),D,n,_,M,o,a,E,A,u,X]};B.FS.jn=function(D,n,_,b){var w=D.slice(0),i=w.shift(),M=w.shift(),N=w.shift(),a=w.shift(),o=w.shift(),U=w.shift(),V=w.shift(),c=w.shift(),E=w.shift().slice(0),A=w.shift(),Q=w.shift(),J=Date.now(),L=Math.abs(N-n),P=Math.floor(L/o),u=new Uint32Array(o),x=0,v=1e9,Z=0,r=0,X=0;
for(var m=0;m<o;m++)u[m]=m<o-1?P:L-(o-1)*P;Q.fill(0);for(var W=0;W<N;W++){x=Math.max(x,E[W]);v=Math.min(v,E[W])}for(var m=0;
m<o;m++){var $=U[m],P=u[m];for(var I=0;I<P;I++){var T=0,e=1e9;for(var W=0;W<$;W++)if(E[r+W]<e){e=E[r+W];
T=r+W}if(n<N)E[T]=1e9;else E[T]*=1.2;if(X<N/3)Z+=e;var F=c[T],y=Q[F],h=y<65280?65280:y+1;if(h<65280)throw"e";
for(var Y=0;Y<a;Y++){var k=Y*N+F;Q[k]=h;F+=A[k]-1}X++}r+=$}if(b){console.log(Date.now()-J,"Removing best seams");
J=Date.now()}function K(k,f){var s=k<<2,l=f<<2;_[s]=M[l];_[s+1]=M[l+1];_[s+2]=M[l+2];_[s+3]=M[l+3]}for(var Y=0;
Y<a;Y++){var z=0,k=Y*N;for(var W=0;W<n;W++,z++){if(n<N){while(Q[k+z]==65280)z++;K(Y*n+W,Y*N+z)}else{K(Y*n+W,Y*N+z);
while(Q[k+z]>=65280){Q[k+z]--;W++;K(Y*n+W,Y*N+z)}}}}if(b){console.log(Date.now()-J,"Shifting image pixels");
J=Date.now()}};B.FS.arQ=function(D,n,_,b,w,i){var M=0,k=D*n;while(M<n){if(_[k-n]==1){i[M]=i[M]+b[k];
M++;k++}else{var N=w[M];w[M]=w[M+1];w[M+1]=N;var a=i[M];i[M]=i[M+1]+b[k];i[M+1]=a+b[k+1];M+=2;k+=2}}};
B.FS.a4k=function(D,n,_,b){function w(D,k,a){var V=k<<2,c=a<<2,E=D[V]-D[c],A=D[V+1]-D[c+1],Q=D[V+2]-D[c+2];
return Math.abs(E)+Math.abs(A)+Math.abs(Q)}for(var i=1;i<n;i++){var M=w(D,i,i-1);b[i-1]+=M;b[i]+=M}for(var N=1;
N<_;N++){var a=N*n,M=w(D,a,a-n);b[a]+=M;b[a-n]+=M;for(var i=1;i<n;i++){var k=N*n+i,o=w(D,k,k-1),U=w(D,k,k-n);
b[k-n]+=U;b[k-1]+=o;b[k]+=U+o}}for(var N=0;N<_;N++){b[N*n]*=2;b[N*n+n-1]*=2}for(var k=0;k<b.length;k++)if(b[k]==0)b[k]=1};
B.iX=function(){var D=0,n=0,b=15,i=256;function _(U,V,c,E,A,Q){var J=(A-1)*V,L=Q*V;return U[L+E]-U[L+c-1]-U[J+E]+U[J+c-1]}var w=Math.round(b/8),M=[];
function N(U,V){for(var c=0;c<V.length;c++){var E=V[c],A=0,Q=0,J=U[E.lh],L=J.VR,P=J.Wj,u=J.Rw;for(var m=-b;
m<=b;m++)for(var x=-b;x<=b;x++){var v=x+E.aaU,W=m+E.a0w;if(x*x+m*m>b*b||v<0||W<0||v>=P||W>=P)continue;
var Z=L[W*P+v];A+=x*Z;Q+=m*Z}E.bE=Math.atan2(Q,A)}}function a(U,V,c,E,A){var Q=~~(U+.5),J=~~(V+.5);return _(c,E,Q-w,Q+w,J-w,J+w)}function o(U,V,c,E,A){D=E;
n=A;if(M.length==0){var Q=new B.a.f9(16200817),u=8,m=0;function J(fR){var X=fR[0]-fR[2],$=fR[1]-fR[3];
return X*X+$*$}function L(){var fR=0,j4=0;while(fR===0)fR=Q.get();while(j4===0)j4=Q.get();return Math.sqrt(-2*Math.log(fR))*Math.cos(2*Math.PI*j4)}var P=L,x=[];
while(m!=i){var v=Math.max(-b,Math.min(b,P()*u)),W=Math.max(-b,Math.min(b,P()*u)),Z=Math.max(-b,Math.min(b,P()*u)),r=Math.max(-b,Math.min(b,P()*u)),X=v-Z,$=W-r,I=Math.sqrt(X*X+$*$);
if(I<3||I>12)continue;M.push(v,W,Z,r);m++}}var T=20;for(var e=0;e<V.length;e++){var F=V[e],y=U[F.lh],h=y.gn,c=y.VR,E=y.Wj,A=y.Rw,Y=F.aaU,K=F.a0w,z=F.bE,f=Math.cos(z),s=Math.sin(z),l=new Uint8Array(i>>>3);
F.cR=l;for(var k=0;k<i;k++){var g=k*4,v=M[g+0],W=M[g+1],Z=M[g+2],r=M[g+3],H=f*v-s*W,O=s*v+f*W,C=f*Z-s*r,ib=s*Z+f*r,hH=a(Y+H,K+O,h,E,A),R=a(Y+C,K+ib,h,E,A);
l[k>>>3]|=(hH<R?0:1)<<(k&7)}}}return{afE:N,aru:o}}();B.adg=function(){function D(n,_){var b=[[9]],w=Date.now(),i=[];
for(var M=0;M<n.length;M++){var N=n[M],a=N.gn,o=N.Wj,U=N.Rw,E=9,u=1,F=24;if(a==null)continue;var V=new Float32Array(o*U),c=new Uint8Array(o*U),A=E>>>1,Q=A>>>1,J=Math.round(E/3);
if(J!=E/3)throw"e";var L=1/(E*E),P=1.2*(E/9);for(var m=A+1;m<U-A;m+=u)for(var x=A+1;x<o-A;x+=u){var v=B.V7(a,o,x-Q,x+Q,m-A,m+A)-3*B.V7(a,o,x-Q,x+Q,m-A+J,m+A-J),W=B.V7(a,o,x-A,x+A,m-Q,m+Q)-3*B.V7(a,o,x-A+J,x+A-J,m-Q,m+Q),Z=x-A+1,r=x+A-1,X=m-A+1,$=m+A-1,I=B.V7(a,o,Z,x-1,X,m-1)+B.V7(a,o,x+1,r,m+1,$)-B.V7(a,o,x+1,r,X,m-1)-B.V7(a,o,Z,x-1,m+1,$),T=(W*v-.9*I*(.9*I))*(L*L);
V[m*o+x]=Math.abs(T);c[m*o+x]=T<0?0:1}var e=o*u;for(var m=F;m<U-F;m+=u)for(var x=F;x<o-F;x+=u){var k=m*o+x,y=V[k];
if(y<16)continue;if(V[k-u]>=y||V[k+u]>=y)continue;if(V[k-e-u]>=y||V[k-e]>=y||V[k-e+u]>=y)continue;if(V[k+e-u]>=y||V[k+e]>=y||V[k+e+u]>=y)continue;
i.push({x:~~(x*N.Mq+.5),y:~~(m*N.Mq+.5),aaU:x,a0w:m,lh:M,k:y,aml:c[k],cg:P})}}if(_!=null){i.sort(function(g,H){return H.k-g.k});
i=i.slice(0,_)}return i;var h=[];for(var k=0;k<i.length;k++){var Y=!0,K=i[k];for(var z=0;z<i.length;
z++){var f=i[z];if(z!=k&&f.k>K.k&&(f.lh==K.lh+1||f.lh==K.lh-1)){var s=K.x-f.x,l=K.y-f.y;if(s*s+l*l<5){Y=!1;
break}}}if(Y)h.push(K)}console.log(i.length,h.length);return h}return{akK:D}}();B.Fw={};B.Fw.alM=function(D){var n=D.length,_=B.Fw.DB(D,!1),w=0,i=1;
throw"e";var b=[];for(var k=0;k<n;k++)b[k]=B.Fw.Sd(_[k]);var M=D[0][1],N=B.Fw.match(_[w],_[i],b[i]);
console.log(N.length);var a=Math.max(Math.min(N.length,40),N.length*.54);a=Math.min(a,200);var o=N.slice(0,a),U=B.vk.ag7(_[w],_[i],o,M.l,M.e),V=B.vk.aqd(U,[0,0,0],1),c=M.l/2,E=M.e/2,A=1/Math.max(c,E);
for(var k=0;k<1;k++){var Q=o[k],J=_[w][Q[0]],L=_[i][Q[1]],P=B.vk.a3v(V,A*(J.x-c),A*(J.y-E),A*(L.x-c),A*(L.y-E))}var u=B.vk.a88(U,M),m=[];
for(var k=0;k<2;k++){var x=u[k],v=[x[0][0],x[0][1],x[0][2],x[1][0],x[1][1],x[1][2],x[2][0],x[2][1]],W=G.Q.lo(D[k],null,v);
m.push([W.buffer,W.rect])}return[B.Fw.a3V(m[0],m[1],_[w],_[i],o,U,u,M)]};B.Fw.xK=function(D,n){var _=D.length,b=!1,w=Date.now(),i=B.Fw.DB(D,!1,1e4);
if(b)console.log("Descriptors ready",Date.now()-w);w=Date.now();for(var k=0;k<_;k++){var M=D[k][1];for(var N=0;
N<i[k].length;N++){i[k][N].x+=M.x;i[k][N].y+=M.y}}if(b)console.log("shifted",Date.now()-w);w=Date.now();
var a=[];for(var k=0;k<_;k++)a[k]=B.Fw.Sd(i[k]);if(b)console.log("trees built",Date.now()-w);w=Date.now();
var o=[];for(var k=0;k<_-1;k++)for(var N=k+1;N<_;N++){var U=B.Fw.match(i[k],i[N],a[N]);if(b)console.log("Matches found",k,N,U.length);
U=U.slice(0,U.length>>>1);if(U.length<10)return null;var V=B.Fw.adm(i[k],i[N],U,2);o.push([k,N,U,V])}o.sort(function(X,$){return $[2].length-X[2].length});
if(b)console.log("Matches found",Date.now()-w);w=Date.now();var c=[],E=new UnionFind(_);for(var k=0;
k<o.length;k++){var A=o[k],Q=E.find(A[0]),L=E.find(A[1]);if(Q!=L){c.push(A);E.link(Q,L)}}var P=[];for(var k=0;
k<_;k++)P[k]=[1,0,0,0,1,0,0,0];var u=[0],m=new Uint8Array(_);m[u[0]]=1;while(u.length!=0){var L=u.pop(),V=P[L],x=[];
for(var k=0;k<c.length;k++){var A=c[k],v=A[0],W=A[1];if(v==L&&m[W]==0){P[W]=B.N.H9(V,A[3]);u.push(W);
m[W]=1}if(W==L&&m[v]==0){P[v]=B.N.H9(V,B.N.ei(A[3]));u.push(v);m[v]=1}}}if(n==null){var Z=[];for(var k=0;
k<_;k++)Z.push([P[k][2],k]);Z.sort(function(X,$){return X[0]-$[0]});n=Z[Z.length>>>1][1]}var r=B.N.ei(P[n]);
for(var k=0;k<_;k++)P[k]=B.N.H9(P[k],r);if(b)console.log("Transforms reordered",Date.now()-w);w=Date.now();
return P};B.Fw.DB=function(D,n,_){var b=[],w=!1;for(var k=0;k<D.length;k++){var i=D[k][0],M=D[k][1],N=M.l,a=M.e,o=B.U(M.u());
B.hE(i,o);var U=Date.now(),V=B.Fw.ad1(o,M,!0);if(w)console.log("Pyramid built ---------------",Date.now()-U);
U=Date.now();var c=B.adg.akK(V,_);if(w)console.log("SURF Generation",Date.now()-U);U=Date.now();if(!n){B.iX.afE(V,c);
if(w)console.log("ORB Orientations",Date.now()-U);U=Date.now();B.iX.aru(V,c,o,N,a);if(w)console.log("ORB Descriptors",Date.now()-U);
U=Date.now()}b.push(c)}return b};B.Fw.ad1=function(D,n,_){var b=[],w=[D,n];B.LQ(w);if(_){var i=B.NL(D,n),M=i.rect,N=[i.B_,M];
B.LQ(N)}for(var k=0;k<w.length;k++){var a=w[2*k],o=w[2*k+1],U=o.l,V=o.e,c=Math.min(U,V);if(c<30)break;
if(c<1600)b.push({VR:a,Wj:U,Rw:V,Mq:1<<k,gn:B.mw(a,U,V)});if(!_)continue;var a=N[2*k],o=N[2*k+1],U=o.l,V=o.e,c=Math.min(U,V);
if(c<30)break;if(c<1600)b.push({VR:a,Wj:U,Rw:V,Mq:(1<<k)*3/2,gn:B.mw(a,U,V)})}return b};B.Fw.adm=function(D,n,_,b){var w=Date.now(),i,M=0,N=0,a=_.length,o=new Float64Array(2);
for(var U=0;U<3e3;U++){var V=~~(Math.random()*a),c=~~(Math.random()*a),E=~~(Math.random()*a),A=~~(Math.random()*a),e=0,F=0;
if(V==c||V==E||V==A||c==E||c==A||E==A)continue;var Q=_[V],J=_[c],L=_[E],P=_[A],u=D[Q[0]],m=n[Q[1]],x=D[J[0]],v=n[J[1]],W=D[L[0]],Z=n[L[1]],r=D[P[0]],X=n[P[1]],$=[u.x,u.y,x.x,x.y,W.x,W.y,r.x,r.y],I=[m.x,m.y,v.x,v.y,Z.x,Z.y,X.x,X.y],T=B.N.w$($,I);
if(T[0]==0&&T[1]==0&&T[3]==0&&T[4]==0)continue;var y=a-M+2;for(var k=0;k<a&&k-e<y;k++){var h=D[_[k][0]],Y=n[_[k][1]];
B.N.Un(Y.x,Y.y,T,o);var K=o[0]-h.x,z=o[1]-h.y,f=K*K+z*z;if(f<b){e++;F+=f}}if(e>M||e==M&&F<N){i=T;M=e;
N=F}}return i};var iM=new Uint8Array(256);for(var k=0;k<256;k++){var bu=0,cQ=k;while(cQ!=0){cQ=cQ&cQ-1;
bu++}iM[k]=bu}B.Fw.adX=function(D,n,_){var b=0,w=D.length;for(var k=0;k<w&&b<_;k++)b+=iM[D[k]^n[k]];
return b};B.Fw.a9K=function(D,n,_,top,b){if(b[_]==1)return;var w=B.Fw.adX(D.cR,n.cR,top[0]);if(w<top[0]){if(w<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=w;top[3]=_}else{top[0]=w;top[1]=_}}b[_]=1};B.Fw.Sd=function(D){var n=[],_=[],b=[[],[]],w=4;
for(var k=0;k<D.length;k++)(D[k].aml==0?n:_).push(k);for(var i=0;i<2;i++){var M=new Array(w),N=[],a=i==0?n:_,o=a.length/256,U=[];
for(var V=0;V<32;V++){var c=new Array(256),Q=0;for(var E=0;E<256;E++)c[E]=[];for(var E=0;E<a.length;
E++){var A=a[E];c[D[A].cR[V]].push(A)}for(var E=0;E<256;E++)Q+=Math.abs(c[E].length-o);U.push([Q,V,c])}U.sort(function(J,L){return J[0]-L[0]});
var N=[],M=[];b[i]=[N,M];for(var k=0;k<w;k++){N.push(U[k][1]);M.push(U[k][2])}}return b};B.Fw.match=function(D,n,_){var b=[],w=new Uint16Array(n.length);
w.fill(65535);var i=new Uint8Array(n.length),top=new Uint32Array(4),M=[];for(var N=0;N<D.length;N++){var a=D[N],o=a.cR;
top.fill(1e6);i.fill(0);var U=_[a.aml];for(var V=0;V<U[1].length;V++){var c=U[1][V][o[U[0][V]]];for(var E=0;
E<c.length;E++){var A=c[E];B.Fw.a9K(a,n[A],A,top,i)}}if(top[2]<50&&top[2]<top[0]*.5){var Q=w[top[3]];
if(Q==65535){w[top[3]]=b.length;b.push([N,top[3],top[2]])}else if(top[2]<b[Q][2]){b[Q]=[N,top[3],top[2]]}}}b.sort(function(J,L){return J[2]-L[2]});
return b};B.Fw.aoY=function(D){var n=new gl;for(var k=0;k<D.length;k++)n=n.Ik(D[k][1]);var _=B.U(n.u()*4);
for(var k=0;k<D.length;k++)B.a.dG("norm",D[k][0],D[k][1],_,n,n,1);return[_,n]};B.Fw.a3V=function(D,n,_,b,w,i,M,N){var a=D[1].clone(),o=a.clone();
a.x=a.y=0;var U=n[1].clone(),V=U.clone();U.x=U.y=0;U.x=a.l;var c=a.Ik(U),E=V.y-o.y,A=B.U(c.u()*4);B.E3(D[0],a,A,c);
B.E3(n[0],new gl(U.x,U.y+E,U.l,U.e),A,c);var Q=document.createElement("canvas");Q.width=c.l;Q.height=c.e;
var J=Q.getContext("2d");J.lineWidth=.5;J.putImageData(new ImageData(new Uint8ClampedArray(A.buffer),c.l,c.e),0,0);
if(i){var L=i[0],P=B.Ox.V4(L),u=a.l,m=N.l;for(var k=0;k<w.length;k++){var x=w[k],D=_[x[0]],n=b[x[1]];
J.strokeStyle="#"+"ff0000";J.beginPath();var v=B.vk.aea(P,M[0],n,0,m),W=B.vk.aea(L,M[1],D,0,m);J.moveTo(-o.x+v[0],-o.y+v[1]);
J.lineTo(-o.x+v[2],-o.y+v[3]);J.moveTo(u-V.x+W[0],-V.y+E+W[1]);J.lineTo(u-V.x+W[2],-V.y+E+W[3]);J.stroke()}}if(w){var Z=w.length;
for(var k=0;k<Z;k++){var x=w[k],D=_[x[0]],n=b[x[1]];J.strokeStyle="#"+"ffff00"}}var r=new Uint8Array(J.getImageData(0,0,c.l,c.e).data.buffer);
if(!1){for(var X=0;X<2;X++){var $=X==0?_:b,I=X*a.l;for(var k=0;k<$.length;k++){var T=$[k],e=~~T.x,F=~~T.y,y=(F*c.l+e+I)*4;
r[y+1]=r[y+2]=T.ag8*60;r[y+0]=0;r[y+3]=255}}}return[r,c]};B.stack={};B.stack.stack=function(D,n,_){var b=D.length,w=n.length;
if(b==1){n.set(D[0]);return}if(_=="avrg"||_=="stdv"||_=="summ"||_=="vari"){var i=1/b;for(var k=0;k<w;
k++){var M=0;for(var N=0;N<b;N++)M+=D[N][k];var a=~~(M*i+.5);if(_=="avrg"||(k&3)==3)n[k]=a;else if(_=="summ")n[k]=255*Math.pow(Math.min(255,M)*(1/255),1/2.4);
else{var o=0;for(var N=0;N<b;N++){var U=D[N][k]-a;o+=U*U}var V=Math.sqrt(o*i)*(1/255);if(_=="stdv")n[k]=255*Math.pow(V,1/2.4);
else n[k]=255*Math.pow(V*V,1/2.4)}}}else if(_=="maxx"){for(var k=0;k<w;k++){var c=0;for(var N=0;N<b;
N++)c=Math.max(c,D[N][k]);n[k]=c}}else if(_=="minn"){for(var k=0;k<w;k++){var c=255;for(var N=0;N<b;
N++)c=Math.min(c,D[N][k]);n[k]=c}}else if(_=="medn"||_=="rang"){var E=function(L,P){return L-P},A=new Array(b),Q=0,J=0;
if(b%1==0){J=b>>>1;Q=J-1}else{Q=J=b>>>1}for(var k=0;k<w;k++){for(var N=0;N<b;N++)A[N]=D[N][k];A.sort(E);
if(_=="medn")n[k]=A[Q]+A[J]>>>1;else n[k]=(k&3)==3?A[b-1]:A[b-1]-A[0]}}else console.log(_)};B.zR={};
B.zR.au1=function(D,n,_,b){var w=Date.now(),i=new Uint32Array(n*_),M=new Uint8Array(n*_);while(!0){M.fill(0);
i.fill(0);var N=[],a=0;for(var o=0;o<_;o++){for(var U=0;U<n;U++){var k=o*n+U;if(M[k]==0){var V=N.length,c=B.zR.Ni(D,n,_,U,o,M,i,V);
N.push([V,U,o,c[0],c[1],D[k]]);if(c[0]<b)a++}}}if(a==0)break;var E=N.length,A=new UnionFind(E),Q=[];
for(var k=0;k<E;k++)Q.push([]);for(var k=0;k<E;k++){var c=N[k],J=c[4],L=0,P=0;if(c[3]>=b)continue;var V=c[0];
for(var u=0;u<J.length;u+=2){var m=i[J[u+1]*n+J[u]],x=N[m];if(x[3]>P){P=x[3];L=m}}if(A.find(V)!=A.find(L)){A.link(V,L);
Q[V].push(L);Q[L].push(V)}}var v=new Uint32Array(E);v.fill(4294967295);var W=new Uint32Array(E);for(var k=0;
k<E;k++){if(v[k]!=4294967295||Q[k].length==0)continue;var Z=[k],r=[k],X=k,$=N[k][3];while(r.length!=0){var I=r.pop(),T=Q[I];
for(var u=0;u<T.length;u++){var e=T[u];if(Z.indexOf(e)==-1){Z.push(e);r.push(e);var F=N[e];if(F[3]>$){$=F[3];
X=e}}}}for(var u=0;u<Z.length;u++){v[Z[u]]=X;var y=N[X];W[Z[u]]=D[y[2]*n+y[1]]}}for(var o=0;o<_;o++)for(var U=0;
U<n;U++){var k=o*n+U,h=v[i[k]];if(h!=4294967295)D[k]=W[h]}}};B.zR.Ni=function(D,n,_,b,w,i,M,N){var a=[b,w],o=D[w*n+b],U=0,V=[];
i[w*n+b]=1;while(a.length!=0){var c=a.pop(),E=a.pop(),k=c*n+E;M[k]=N;U++;if(c!=_-1)if(D[k+n]==o){if(i[k+n]==0){a.push(E,c+1);
i[k+n]=1}}else V.push(E,c+1);if(c!=0)if(D[k-n]==o){if(i[k-n]==0){a.push(E,c-1);i[k-n]=1}}else V.push(E,c-1);
if(E!=n-1)if(D[k+1]==o){if(i[k+1]==0){a.push(E+1,c);i[k+1]=1}}else V.push(E+1,c);if(E!=0)if(D[k-1]==o){if(i[k-1]==0){a.push(E-1,c);
i[k-1]=1}}else V.push(E-1,c)}return[U,V]};B.zR.aiC=function(D,n,_,b,w){var i=B.zR.VP(D.buffer,n,_).WF,M=Date.now(),N=[];
for(var k=0;k<i.length;k++){var a=i[k],o=1;for(var U=0;U<o;U++)N.push(a.jo)}var V=new Uint32Array(N),c=UPNG.quantize.getKDtree(new Uint8Array(V.buffer),b),E=[n,1,-n,-1,n+1,-n+1,-n-1,n-1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2],A=new Uint8Array(n*_),Q=D;
for(var J=0;J<_;J++)for(var L=0;L<n;L++){var k=J*n+L<<2,P=Q[k]*(1/255),u=Q[k+1]*(1/255),m=Q[k+2]*(1/255),x=Q[k+3]*(1/255),v=B.zR.Qa(c,P,u,m,x,w);
if(v==null){var W=[],Z=0;while(Z<20){var r=J*n+L+E[Z]<<2,X=Q[r]*(1/255),$=Q[r+1]*(1/255),I=Q[r+2]*(1/255),T=Q[r+3]*(1/255),e=B.zR.Qa(c,X,$,I,T,.005);
if(e!=null){if(W.indexOf(e)==-1){W.push(e);e.Sp=1}else e.Sp++}Z++}W.sort(function(x,m){return m.Sp-x.Sp});
while(W.length!=0&&W[W.length-1].Sp<3)W.pop();if(W.length==0)v=B.zR.Qa(c,P,u,m,x,100);else if(W.length==1)v=W[0];
else if(W.length==2){var F=W[0],y=W[1],h=F.est.q,Y=y.est.q,K=Y[0]-h[0],z=Y[1]-h[1],f=Y[2]-h[2],s=Y[3]-h[3],l=P-h[0],g=u-h[1],H=m-h[2],O=x-h[3],C=K*K+z*z+f*f+s*s,ib=l*l+g*g+H*H+O*O,hH=(l*K+g*z+H*f+O*s)/C,R=ib-hH*hH*C;
if(R<.5)v=hH<.5?F:y;else{v=B.zR.Qa(c,P,u,m,x,100)}}else{var F=W[0],y=W[1],fR=W[2],h=F.est.q,Y=y.est.q,j4=fR.est.q,cP=h[0]-j4[0],a8=h[1]-j4[1],d0=h[2]-j4[2],b9=h[3]-j4[3],jG=Y[0]-j4[0],jP=Y[1]-j4[1],aq=Y[2]-j4[2],gM=Y[3]-j4[3],gv=j4[0]-P,dT=j4[1]-u,aC=j4[2]-m,c1=j4[3]-x,aj=cP*cP+a8*a8+d0*d0+b9*b9,bD=cP*jG+a8*jP+d0*aq+b9*gM,cy=gv*cP+dT*a8+aC*d0+c1*b9,co=cP*jG+a8*jP+d0*aq+b9*gM,hV=jG*jG+jP*jP+aq*aq+gM*gM,il=gv*jG+dT*jP+aC*aq+c1*gM,h6=1/(bD*co-aj*hV),hH=(hV*cy-il*bD)*h6,c8=(il*aj-cy*co)*h6,fx=1-hH-c8,bU=Math.max(hH,c8,fx);
if(bU==hH)v=F;else if(bU==c8)v=y;else v=fR}}A[k>>2]=v.ind}return{UB:A,WF:c[1]}};B.zR.VP=function(D,n,_){var b=[],w={},i=n-1,M=_-1,N=0,a=new Uint32Array(D),o=[-n-1,-n,-n+1,-1,1,n-1,n,n+1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2];
for(var U=1;U<M;U++)for(var V=1;V<i;V++){var c=U*n+V,E=a[c],A=!0;for(var k=0;k<8;k++)A=A&&a[c+o[k]]==E;
if(A){N++;var Q=w[E];if(Q==null){w[E]=b.length;b.push({jo:E,wg:1})}else b[Q].wg++}}return{WF:b,aqA:N}};
B.zR.Qa=function(D,n,_,b,w,i){var M=UPNG.quantize.getNearest(D[0],n,_,b,w);return B.zR.a8A(M,n,_,b,w)<i?M:null};
B.zR.a8A=function(D,n,_,b,w){var i=D.est.q,M=n-i[0],N=_-i[1],a=b-i[2],o=w-i[3];return M*M+N*N+a*a+o*o};
B.zR.KN=function(){function D(L,P,u,m,x,v){var W=[],Z=v,r=v,X=v>>>2;for(var $=0;$<x;$++)for(var I=0;
I<m;I++){var T=~~((I+.5)*Z),e=~~(($+.5)*r),F=1e9,y=Math.max(0,T-X),h=Math.min(P,T+X+1),Y=Math.max(0,e-X),K=Math.min(u,e+X+1);
for(var z=Y;z<K;z++)for(var f=y;f<h;f++){var s=n(L,P,f,z);if(s<F){T=f;e=z;F=s}}var l=(e*P+T)*4;W.push(T,e)}return W}function n(L,P,u,m){var x=(m*P+u)*4,v=P*4,W=_(L,x-4,x)+_(L,x,x+4),Z=_(L,x-v,x)+_(L,x,x+v);
return W+Z}function _(L,P,u){var m=L[P]-L[u],x=L[P+1]-L[u+1],v=L[P+2]-L[u+2];return m*m+x*x+v*v}var b=0,w=0;
function i(L,P,u,m){w++;if(m<b)b=m;L[m].push(P,u)}function M(L){w--;while(L[b].length==0)b++}function N(L,P,u,m,x){b=0;
w=0;var v=P*u,W=Math.round(Math.min(P,u)/(m?m:50)),y=0,h=16;if(W==0)W=1;var Z=(x?x:30)/W,r=Math.floor(P/W),X=Math.floor(u/W),$=new Uint16Array(v);
for(var k=0;k<v;k++)$[k]=65535;var I=D(L,P,u,r,X,W),T=I.length>>>1;if(T>65535)throw T;var e=[];for(var k=0;
k<1e3+u;k++)e.push([]);var F=[0,1,0,-1,-1,0,1,0],Y=Math.min(X,5),K=new Uint32Array(T*6);for(var z=0;
z<X;z+=Y){var f=Math.min(z+Y+1,X);for(var s=z;s<f;s++)for(var l=0;l<r;l++){var k=s*r+l,g=k*2,H=I[g+1]<<16|I[g];
i(e,H,k,I[g+1]>>>h)}var O=Math.min(u,f*W);if(z+Y>=X)O=u;while(w!=0){M(e);var C=e[b].pop(),ib=e[b].pop(),hH=ib>>>16,R=ib&65535,k=hH*P+R;
if($[k]==65535){var fR=C*6,j4=k<<2;$[k]=C;K[fR]+=L[j4];K[fR+1]+=L[j4+1];K[fR+2]+=L[j4+2];K[fR+3]+=R;
K[fR+4]+=hH;K[fR+5]++;var cP=hH>>>h;if(hH!=O-1&&$[k+P]==65535)i(e,hH+1<<16|R,C,a(L,P,Z,R,hH+1,K,fR)+cP);
if(hH!=0&&$[k-P]==65535)i(e,hH-1<<16|R,C,a(L,P,Z,R,hH-1,K,fR)+cP);if(R!=0&&$[k-1]==65535)i(e,hH<<16|R-1,C,a(L,P,Z,R-1,hH,K,fR)+cP);
if(R!=P-1&&$[k+1]==65535)i(e,hH<<16|R+1,C,a(L,P,Z,R+1,hH,K,fR)+cP)}}if(O!=hH){var a8=(z+Y)*r;K.fill(0,a8*6,(a8+r)*6);
for(var hH=(z+Y-2)*W;hH<O;hH++)for(var R=0;R<P;R++){var k=hH*P+R;if($[k]>=a8){$[k]=65535}}}}return{UB:$,kS:T,AB:K}}B.zR.A5=function(L,P,u,m,x){var v=L.kS,W=P*u,Z=L.AB,r=L.UB,X=E(m,r,v,W),$=new UnionFind(v),h=0;
for(var I=1;I<u;I++)for(var T=1;T<P;T++){var k=I*P+T,e=r[k],F=0;if((F=r[k-1])!=e&&X[F]==X[e]&&o(Z,0,e*6,F*6)<x)$.link(e,F);
if((F=r[k-P])!=e&&X[F]==X[e]&&o(Z,0,e*6,F*6)<x)$.link(e,F)}var y=new Uint16Array(v);y.fill(65535);var Y=new Uint16Array(v);
for(var k=0;k<v;k++){var K=$.find(k);if(y[K]==65535)y[K]=h++;Y[k]=y[K]}var z=new Uint16Array(W);for(var k=0;
k<W;k++)z[k]=Y[r[k]];return{UB:z,kS:h}};B.zR.anz=function(L,P,u,m){var x=B.U(u),v=P.length,W=0;for(var k=0;
k<v&&W!=3;k++){var Z=m[k];if(Z==0||Z==255){var r=P[k],X=2-(Z>>>7);x[r]=W=x[r]|X}}return W!=3};function a(L,P,u,m,x,v,W){var Z=(x*P+m)*4,r=v[W+5],X=1/r,$=L[Z]*r-v[W],I=L[Z+1]*r-v[W+1],T=L[Z+2]*r-v[W+2],e=m*r-v[W+3],F=x*r-v[W+4],y=Math.sqrt($*$+I*I+T*T),h=Math.sqrt(e*e+F*F);
return~~((y+u*h)*X+.5)}function o(L,P,u,m){var x=1/L[u+5],v=1/L[m+5],W=L[u]*x-L[m]*v,Z=L[u+1]*x-L[m+1]*v,r=L[u+2]*x-L[m+2]*v,X=L[u+3]*x-L[m+3]*v,$=L[u+4]*x-L[m+4]*v,I=Math.sqrt(W*W+Z*Z+r*r),T=Math.sqrt(X*X+$*$);
return~~(I+P*T+.5)}function U(L,P,u){var m=B.g9(L,new gl(0,0,P,u)),x=m.rect.l,v=m.rect.e,W=N(m.B_,x,v),Z=W.UB,r=Date.now(),X=new Uint16Array(P*u);
X.fill(65535);for(var $=0;$<v;$++){for(var I=0;I<x;I++){var T=$*x+I,k=($<<1)*P+(I<<1),e=Z[T];if(Z[T-x]!=e||Z[T-1]!=e||Z[T+1]!=e||Z[T+x]!=e)e=65535;
X[k]=e;X[k+1]=e;X[k+P]=e;X[k+P+1]=e}}W.UB=X;return W}function V(L,P){var k=0,u=L.length;while(k!=u&&L[k]!=P)k+=2;
return k==u?-1:k}function c(L,k){if(k==L.length-2){L.pop();L.pop()}else{L[k+1]=L.pop();L[k]=L.pop()}}B.zR.a3J=function(L,P,u,m,x){var v=new Uint32Array(x*4400),n=[];
for(var k=0;k<x;k++)n.push([]);for(var W=0;W<u;W++)for(var Z=0;Z<P;Z++){var k=W*P+Z,r=k<<2,X=m[k],$=0,I=L[r]>>>4,T=L[r+1]>>>4,e=L[r+2]>>>4;
v[X*4400+(I<<8|T<<4|e)]++;v[X*4400+4096]++;v[X*4400+4100+(I<<4|T)]++;v[X*4400+4360+I]++;if(Z!=0&&($=m[k-1])!=X&&V(n[X],$)==-1){n[X].push($,0);
n[$].push(X,0)}if(W!=0&&($=m[k-P])!=X&&V(n[X],$)==-1){n[X].push($,0);n[$].push(X,0)}}for(var k=0;k<x;
k++){var e=n[k];for(var F=0;F<e.length;F+=2)e[F+1]=J(v,k,e[F])}return[v,n]};function E(L,P,u,m){var x=B.U(u);
for(var k=0;k<m;k++){var v=L[k];if(v==0||v==255)x[P[k]]=2-(v>>>7)}return x}B.zR.aqG=function(L,P,u,m,x,v,W){var Z=P*u,r=W[0],n=W[1],X=new UnionFind(m),$=E(x,L,m,Z),I=-1,T=!0,e=0;
for(var k=0;k<m;k++)if($[k]==1){if(I==-1)I=k;else X.link(k,I)}if(I==-1){for(var k=0;k<Z;k++)v[k]=x[k]==255?255:0;
return}while(T){while(T){T=!1;for(var k=0;k<m;k++){if($[k]==0){var F=A(n[k]);if($[F]==1){$[k]=$[F];T=!0;
X.link(k,F)}}}}T=!0;e=0;while(T){T=!1;for(var k=0;k<m;k++){if($[k]==0){var F=A(n[k]);if($[F]==0){var y=k*4400,h=F*4400;
for(var Y=0;Y<4400;Y+=2){r[y+Y]+=r[h+Y];r[y+Y+1]+=r[h+Y+1]}Q(n,r,k,F);e++;$[F]=3;T=!0;X.link(k,F)}}}}T=e!=0}var K=X.find(I);
for(var k=0;k<m;k++)$[k]=X.find(k)==K?255:0;for(var k=0;k<Z;k++){v[k]=$[L[k]]}for(var k=0;k<Z;k++){var F=x[k];
if(F==0||F==255)v[k]=F}};function A(L){var P=0,u=0,m=L.length;for(var x=0;x<m;x+=2){var v=L[x+1];if(v>u){u=v;
P=x}}return L[P]}function Q(n,L,P,u){var m=n[P],x=n[u];c(m,V(m,u));c(x,V(x,P));for(var k=0;k<x.length;
k+=2){var v=x[k],W=n[v];c(W,V(W,u));if(V(W,P)==-1){W.push(P,0);m.push(v,0)}}for(var k=0;k<m.length;k+=2){var v=m[k],W=n[v],Z=J(L,P,v);
m[k+1]=Z;W[V(W,P)+1]=Z}}function J(L,P,u){var m=0,x=4096,v=P*4400,W=u*4400;for(var Z=0;Z<16;Z++){if(L[v+4360+Z]==0||L[W+4360+Z]==0)continue;
for(var r=0;r<16;r++){var X=Z<<4|r;if(L[v+4100+X]==0||L[W+4100+X]==0)continue;var $=v+(X<<4),I=W+(X<<4);
for(var k=0;k<16;k++)m+=Math.sqrt(L[$+k]*L[I+k])}}var T=m/Math.sqrt(L[v+x]*L[W+x]);return~~(999.99999*T)}return N}();
B.yu={};B.yu.a2J=function(){var D=11,n=7,_=D>>>1,cQ=n>>>1,b=2,w=2e3/b,i=[],N=null,a="";function M(U,V,c){var E=(U[V+0]-U[c+0])*(1/255),A=(U[V+1]-U[c+1])*(1/255),Q=(U[V+2]-U[c+2])*(1/255),J=(U[V+3]-U[c+3])*(1/255),L=E*E*.125+A*A*.25+Q*Q*.5+J*J;
return i[~~(L*w)]}function o(U,V,c,E,A,Q){var J=Date.now(),L=B.U(V*c);B.hE(U,L);var P=UZIP.adler(L,0,V*c);
if(P!=a){var u=B.mw(L,V,c);N=B.U(V*c*4);a=P;var m=[1,1/9,1/25,1/49,1/81];for(var x=0;x<c;x++)for(var v=0;
v<V;v++)for(var k=0;k<4;k++){var W=Math.max(1,v-k),Z=Math.min(V-1,v+k),r=Math.max(1,x-k),X=Math.min(c-1,x+k),$=B.V7(u,V,W,Z,r,X);
if(isNaN($))throw v+","+x+","+k+","+$;N[(x*V+v)*4+k]=$*m[k]}}if(p.b$){var I=p.rD(0,V,c);I.set(U);var T=p.rD(1,V,c);
T.set(N);var e=p.rD(2,V,c);p.pv(e);p.filter.UG({type:p.filter.a5P,ye:new Float32Array([1/V,1/c]),apc:T.QI,acs:A,afz:Q},I.QI);
e.get(E)}else{for(var k=0;k<2e3;k++)i[k]=Math.exp(-(k/2e3)*b*(100+(1-A)*(1-A)*1e4));var F=cQ+2;for(var x=F;
x<c-F;x++)for(var v=F;v<V-F;v++){var y=0,h=0,Y=0,K=0;for(var z=0;z<D;z++)for(var f=0;f<D;f++){var s=v+f-_,l=x+z-_;
if(s==v&&l==x||s<F||l<F||s>=V-F||l>=c-F)continue;var g=M(N,(x*V+v)*4,(l*V+s)*4),H=l*V+s<<2;y+=g*U[H+0];
h+=g*U[H+1];Y+=g*U[H+2];K+=g}if(K==0){continue}var O=1/K,C=(x*V+v)*4;E[C+0]=~~((1-Q)*O*y+Q*E[C+0]);E[C+1]=~~((1-Q)*O*h+Q*E[C+1]);
E[C+2]=~~((1-Q)*O*Y+Q*E[C+2])}}}return o}();var cD=function(){function D(){this.u=0;this.PJ=0;this.iC={};
this.KY=[];this.q4=1e5;this.Vb=1e5;this.u0=-1;this.yf=-1;this.color=0}function n(cQ){this.Te=cQ;this.lE=new Array(cQ);
this.jo=new Array(cQ*6);this.a76=0;this.YX=new Array(cQ*2);this.alpha=new Array(cQ);this.Nn=new Array(cQ);
this.Q$=new Array(cQ)}function _(w,i,M,N){function a(J,L,w,i){return w[i*L+J]}function o(k){var W=w.length;
while(k<W&&w[k]==0)k++;return k<W?k:-1}function U(J,L,W){for(var k=2;k<5;k++){var Z=0;for(var r=-k+1;
r<=k-1;r++){Z+=a(J+r,L+k-1,w,i)==W?1:-1;Z+=a(J+k-1,L+r-1,w,i)==W?1:-1;Z+=a(J+r-1,L-k,w,i)==W?1:-1;Z+=a(J-k,L+r,w,i)==W?1:-1}if(Z>0)return 1;
else if(Z<0)return 0}return 0}function V(W,A){var Q=new D,J=W,L=A,Z=0,r=1,X;Q.color=w[A*i+W];Q.sign=a(W,A,w,i)==Q.color?"+":"-";
while(1){Q.KY.push(J,L);if(J>Q.u0)Q.u0=J;if(J<Q.q4)Q.q4=J;if(L>Q.yf)Q.yf=L;if(L<Q.Vb)Q.Vb=L;Q.PJ++;J+=Z;
L+=r;Q.u-=J*r;if(J==W&&L==A)break;var $=a(J+(Z+r-1>>1),L+(r-Z-1>>1),w,i)==Q.color,I=a(J+(Z-r-1>>1),L+(r+Z-1>>1),w,i)==Q.color;
if(I&&!$){if(N.$B=="right"||N.$B=="black"&&Q.sign=="+"||N.$B=="white"&&Q.sign=="-"||N.$B=="majority"&&U(J,L,Q.color)||N.$B=="minority"&&!U(J,L,Q.color)){X=Z;
Z=-r;r=X}else{X=Z;Z=r;r=-X}}else if(I){X=Z;Z=-r;r=X}else if(!$){X=Z;Z=r;r=-X}}return Q}var c=0,E=[];
while(!0){var c=o(c);if(c==-1)break;var A=Math.floor(c/i),Q=V(c-A*i,A);for(var k=0;k<Q.KY.length-2;k+=2){var J=Q.KY[k],L=Q.KY[k+1],P=L*i+J;
if(J==Q.KY[k+2]&&L+1==Q.KY[k+3]&&w[P]!=0)cD.fill(P,w,i,0)}if(Q.u>N.a13)E.push(Q)}for(var k=0;k<E.length;
k++)E[k].parent=-1;var u=Date.now();for(var k=1;k<E.length;k++){var m=E[k];for(var x=k-1;x>=0;x--){var v=E[x];
if(m.q4<v.q4||m.u0>v.u0||m.Vb<v.Vb||m.yf>v.yf)continue;if(!cD.a8Y(v.KY,m.KY[0]+.5,m.KY[1]+.5))continue;
m.parent=x;break}}return E}function b(w,i){function M(Z,r,X,$,I){this.x=Z;this.y=r;this.xp=X;this.y6=$;
this.rA=I}function N(Z,cQ){return(cQ+Z)%cQ}function a(Z,r,X,$){return Z*$-X*r}function o(Z,r,X,$){return Z*X+r*$}function U(Z,r,X){if(Z<=X)return Z<=r&&r<X;
else return Z<=r||r<X}function V(Z,r,X){var $=0;$+=r*Z[0]*r;$+=r*Z[1]*X;$+=r*Z[2];$+=X*Z[3]*r;$+=X*Z[4]*X;
$+=X*Z[5];$+=Z[6]*r;$+=Z[7]*X;$+=Z[8];return $}function c(Z,r,X){return r+Z*(X-r)}function E(Z,r,X,$){var I=Math.sign(X-Z),T=-Math.sign($-r);
return I*(X-Z)-T*($-r)}function A(Z,r){return Math.sqrt(Z*Z+r*r)}function Q(Z,r,X,$,I){var T=1-Z;return T*T*T*r+3*(T*T*Z)*X+3*(Z*Z*T)*$+Z*Z*Z*I}function J(Z,r,X,$,I,T,e,F){var y=a(Z,r,e,F),h=a(X,$,e,F),Y=a(I,T,e,F),K=y-2*h+Y,z=-2*y+2*h,f=y,s=z*z-4*K*f;
if(K==0||s<0)return-1;var l=Math.sqrt(s),g=(-z+l)/(2*K),H=(-z-l)/(2*K);if(g>=0&&g<=1)return g;else if(H>=0&&H<=1)return H;
else return-1}function L(W){var k,Z,r;W.yH=W.KY[0];W.as4=W.KY[1];W.Oo=[];var X=W.Oo;X.push(new M(0,0,0,0,0));
for(k=0;k<W.PJ;k++){Z=W.KY[k<<1]-W.yH;r=W.KY[(k<<1)+1]-W.as4;X.push(new M(X[k].x+Z,X[k].y+r,X[k].xp+Z*r,X[k].y6+Z*Z,X[k].rA+r*r))}}function P(W){var cQ=W.PJ,Z=W.KY,r,X=new Array(cQ),$=new Array(cQ),I=new Array(4),T,e,F,y,h,Y,K,z,f,s,l,k,g,H,O,C,ib,hH,R=0;
W.Nf=new Array(cQ);for(k=cQ-1;k>=0;k--){if(Z[k<<1]!=Z[R<<1]&&Z[(k<<1)+1]!=Z[(R<<1)+1])R=k+1;$[k]=R}for(k=cQ-1;
k>=0;k--){var fR=N(k+1,cQ)<<1;I[0]=I[1]=I[2]=I[3]=0;r=(3+3*(Z[fR]-Z[k<<1])+(Z[fR+1]-Z[(k<<1)+1]))/2;
I[r]++;T=0;e=0;F=0;y=0;R=$[k];H=k;while(1){l=0;r=(3+3*Math.sign(Z[R*2]-Z[H*2])+Math.sign(Z[R*2+1]-Z[H*2+1]))/2;
I[r]++;if(I[0]&&I[1]&&I[2]&&I[3]){X[k]=H;l=1;break}f=Z[R*2]-Z[k*2];s=Z[R*2+1]-Z[k*2+1];if(a(T,e,f,s)<0||a(F,y,f,s)>0){break}if(Math.abs(f)<=1&&Math.abs(s)<=1){}else{h=f+(s>=0&&(s>0||f<0)?1:-1);
Y=s+(f<=0&&(f<0||s<0)?1:-1);if(a(T,e,h,Y)>=0){T=h;e=Y}h=f+(s<=0&&(s<0||f<0)?1:-1);Y=s+(f>=0&&(f>0||s<0)?1:-1);
if(a(F,y,h,Y)<=0){F=h;y=Y}}H=R;R=$[H];if(!U(R,k,H)){break}}if(l==0){K=Math.sign(Z[R*2]-Z[H*2]);z=Math.sign(Z[R*2+1]-Z[H*2+1]);
f=Z[H*2]-Z[k*2];s=Z[H*2+1]-Z[k*2+1];O=a(T,e,f,s);C=a(T,e,K,z);ib=a(F,y,f,s);hH=a(F,y,K,z);g=1e7;if(C<0){g=Math.floor(O/-C)}if(hH>0){g=Math.min(g,Math.floor(-ib/hH))}X[k]=N(H+g,cQ)}}g=X[cQ-1];
W.Nf[cQ-1]=g;for(k=cQ-2;k>=0;k--){if(U(k+1,X[k],g)){g=X[k]}W.Nf[k]=g}for(k=cQ-1;U(N(k+1,cQ),g,W.Nf[k]);
k--){W.Nf[k]=g}}function u(W){function Z(W,k,r){var cQ=W.PJ,f=W.KY,s=W.Oo,l,g,H,O,C,$,ib,hH,z,R,fR,j4,cP,a8,d0=0;
if(r>=cQ){r-=cQ;d0=1}if(d0==0){l=s[r+1].x-s[k].x;g=s[r+1].y-s[k].y;O=s[r+1].y6-s[k].y6;H=s[r+1].xp-s[k].xp;
C=s[r+1].rA-s[k].rA;$=r+1-k}else{l=s[r+1].x-s[k].x+s[cQ].x;g=s[r+1].y-s[k].y+s[cQ].y;O=s[r+1].y6-s[k].y6+s[cQ].y6;
H=s[r+1].xp-s[k].xp+s[cQ].xp;C=s[r+1].rA-s[k].rA+s[cQ].rA;$=r+1-k+cQ}fR=(f[k<<1]+f[r<<1])/2-f[0];j4=(f[(k<<1)+1]+f[(r<<1)+1])/2-f[1];
a8=f[r<<1]-f[k<<1];cP=-(f[(r<<1)+1]-f[(k<<1)+1]);ib=(O-2*l*fR)/$+fR*fR;hH=(H-l*j4-g*fR)/$+fR*j4;z=(C-2*g*j4)/$+j4*j4;
R=cP*cP*ib+2*cP*a8*hH+a8*a8*z;return Math.sqrt(R)}var k,r,X,$,cQ=W.PJ,I=new Array(cQ+1),T=new Array(cQ+1),e=new Array(cQ),F=new Array(cQ+1),y=new Array(cQ+1),h=new Array(cQ+1),Y,K,z;
for(k=0;k<cQ;k++){z=N(W.Nf[N(k-1,cQ)]-1,cQ);if(z==k){z=N(k+1,cQ)}if(z<k){e[k]=cQ}else{e[k]=z}}r=1;for(k=0;
k<cQ;k++){while(r<=e[k]){F[r]=k;r++}}k=0;for(r=0;k<cQ;r++){y[r]=k;k=e[k]}y[r]=cQ;X=r;k=cQ;for(r=X;r>0;
r--){h[r]=k;k=F[k]}h[0]=0;I[0]=0;for(r=1;r<=X;r++){for(k=h[r];k<=y[r];k++){K=-1;for($=y[r-1];$>=F[k];
$--){Y=Z(W,$,k)+I[$];if(K<0||Y<K){T[k]=$;K=Y}}I[k]=K}}W.ajA=X;W.alg=new Array(X);for(k=cQ,r=X-1;k>0;
r--){k=T[k];W.alg[r]=k}}function m(W){function Z(W,k,Y,e,F,b9){var cQ=W.PJ,jG=W.Oo,jP=0,z;while(Y>=cQ){Y-=cQ;
jP+=1}while(k>=cQ){k-=cQ;jP-=1}while(Y<0){Y+=cQ;jP-=1}while(k<0){k+=cQ;jP+=1}var aq=jG[Y+1].x-jG[k].x+jP*jG[cQ].x,gM=jG[Y+1].y-jG[k].y+jP*jG[cQ].y,gv=jG[Y+1].y6-jG[k].y6+jP*jG[cQ].y6,dT=jG[Y+1].xp-jG[k].xp+jP*jG[cQ].xp,aC=jG[Y+1].rA-jG[k].rA+jP*jG[cQ].rA,K=Y+1-k+jP*cQ;
e[b9]=aq/K;e[b9+1]=gM/K;var c1=(gv-aq*aq/K)/K,aj=(dT-aq*gM/K)/K,bD=(aC-gM*gM/K)/K,cy=(c1+bD+Math.sqrt((c1-bD)*(c1-bD)+4*aj*aj))/2;
c1-=cy;bD-=cy;if(Math.abs(c1)>=Math.abs(bD)){z=Math.sqrt(c1*c1+aj*aj);if(z!=0){F[b9]=-aj/z;F[b9+1]=c1/z}}else{z=Math.sqrt(bD*bD+aj*aj);
if(z!=0){F[b9]=-bD/z;F[b9+1]=aj/z}}if(z==0){F[b9]=F[b9+1]=0}}var r=W.ajA,X=W.alg,cQ=W.PJ,$=W.KY,I=W.yH,T=W.as4,e=new Array(r*2),F=new Array(r*2),y=new Array(r),h=new Array(3),k,Y,K,z,g,H,O,C,ib,hH,R;
W.iC=new n(r);for(k=0;k<r;k++){Y=X[N(k+1,r)];Y=N(Y-X[k],cQ)+X[k];e[k<<1]=0;e[(k<<1)+1]=0;F[k<<1]=0;F[(k<<1)+1]=0;
Z(W,X[k],Y,e,F,k<<1)}for(k=0;k<r;k++){y[k]=[0,0,0,0,0,0,0,0,0];var f=F[k<<1]*F[k<<1]+F[(k<<1)+1]*F[(k<<1)+1],s=1/f;
if(f!=0){h[0]=F[(k<<1)+1];h[1]=-F[k<<1];h[2]=-h[1]*e[(k<<1)+1]-h[0]*e[k<<1];for(z=0;z<3;z++){y[k][z*3+0]=h[z]*h[0]*s;
y[k][z*3+1]=h[z]*h[1]*s;y[k][z*3+2]=h[z]*h[2]*s}}}var l=[0,0,0,0,0,0,0,0,0];for(k=0;k<r;k++){l[0]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=0;
var fR=$[X[k]<<1]-I,j4=$[(X[k]<<1)+1]-T,cP=0,a8=0;Y=N(k-1,r);for(z=0;z<9;z+=3){l[z+0]=y[Y][z+0]+y[k][z+0];
l[z+1]=y[Y][z+1]+y[k][z+1];l[z+2]=y[Y][z+2]+y[k][z+2]}while(1){var d0=l[0]*l[4]-l[1]*l[3];if(d0!=0){cP=(-l[2]*l[4]+l[5]*l[0])/d0;
a8=(l[2]*l[3]-l[5]*l[0])/d0;break}if(l[0]>l[4]){h[0]=-l[1];h[1]=l[0]}else if(l[4]){h[0]=-l[4];h[1]=l[3]}else{h[0]=1;
h[1]=0}var f=h[0]*h[0]+h[1]*h[1],s=1/f;h[2]=-h[1]*j4-h[0]*fR;for(z=0;z<3;z++){l[z*3+0]+=h[z]*h[0]*s;
l[z*3+1]+=h[z]*h[1]*s;l[z*3+2]+=h[z]*h[2]*s}}g=Math.abs(cP-fR);H=Math.abs(a8-j4);if(g<=.5&&H<=.5){W.iC.YX[k<<1]=cP+I;
W.iC.YX[(k<<1)+1]=a8+T;continue}O=V(l,fR,j4);ib=fR;hH=j4;if(l[0]!=0){for(R=0;R<2;R++){a8=j4-.5+R;cP=-(l[1]*a8+l[2])/l[0];
g=Math.abs(cP-fR);C=V(l,cP,a8);if(g<=.5&&C<O){O=C;ib=cP;hH=a8}}}if(l[4]!=0){for(R=0;R<2;R++){cP=fR-.5+R;
a8=-(l[3]*cP+l[5])/l[4];H=Math.abs(a8-j4);C=V(l,cP,a8);if(H<=.5&&C<O){O=C;ib=cP;hH=a8}}}for(z=0;z<2;
z++){for(K=0;K<2;K++){cP=fR-.5+z;a8=j4-.5+K;C=V(l,cP,a8);if(C<O){O=C;ib=cP;hH=a8}}}W.iC.YX[k<<1]=ib+I;
W.iC.YX[(k<<1)+1]=hH+T}}function x(W){var Z=W.iC.Te,r=W.iC,k,X,$,I,T,e,F,y,h;for(k=0;k<Z;k++){X=N(k+1,Z);
$=N(k+2,Z);var Y=r.YX[k<<1],K=r.YX[(k<<1)+1],z=r.YX[$<<1],f=r.YX[($<<1)+1],s=r.YX[X<<1],l=r.YX[(X<<1)+1],g=c(.5,z,s),H=c(.5,f,l);
T=E(Y,K,z,f);if(T!=0){I=a(s-Y,l-K,z-Y,f-K)/T;I=Math.abs(I);e=I>1?1-1/I:0;e=e*(1/.75)}else{e=4/3}r.Nn[X]=e;
var O=3*X<<1;if(e>=i.a0h){r.lE[X]=0;r.jo[O+0]=r.jo[O+1]=0;r.jo[O+2]=s;r.jo[O+3]=l;r.jo[O+4]=g;r.jo[O+5]=H}else{if(e<.55){e=.55}else if(e>1){e=1}var C=.5+.5*e;
r.lE[X]=1;r.jo[O]=c(C,Y,s);r.jo[O+1]=c(C,K,l);r.jo[O+2]=c(C,z,s);r.jo[O+3]=c(C,f,l);r.jo[O+4]=g;r.jo[O+5]=H}r.alpha[X]=e;
r.Q$[X]=.5}r.amB=1}function v(W){function Z(){this.lZ=0;this.jg=0;this.fi=0;this.Hk=0;this.IY=0;this.hH=0;
this.cg=0;this.alpha=0}function r(W,k,Y,hV,il,ib,hH){var $=W.iC.Te,h6=W.iC.jo,c8=W.iC.YX;if(k==Y)return 1;
var fx=k,s=N(k+1,$),bU=N(fx+1,$),dT=c8[k<<1],aC=c8[(k<<1)+1],b6=c8[s<<1],iF=c8[(s<<1)+1],dY=ib[bU];if(dY==0)return 1;
var bl=A(dT-b6,aC-iF);for(fx=bU;fx!=Y;fx=bU){var bU=N(fx+1,$),dc=N(fx+2,$),hN=c8[bU<<1],ga=c8[(bU<<1)+1],b1=c8[dc<<1],fc=c8[(dc<<1)+1];
if(ib[bU]!=dY)return 1;if(Math.sign(a(b6-dT,iF-aC,b1-hN,fc-ga))!=dY)return 1;if(o(b6-dT,iF-aC,b1-hN,fc-ga)<bl*A(hN-b1,ga-fc)*-.999847695156)return 1}var h9=N(k,$)*3+2<<1,cB=N(k+1,$)<<1,bp=N(Y,$)<<1,eK=N(Y,$)*3+2<<1,b9=h6[h9],jG=h6[h9+1],fm=c8[cB],fG=c8[cB+1],ia=c8[bp],iz=c8[bp+1],gG=h6[eK],eA=h6[eK+1],R=c8[0],fR=c8[1];
h9=Y*3+2<<1;var d3=h6[h9],cY=h6[h9+1],l=hH[Y]-hH[k];l-=a(d3-R,cY-fR,d3-R,cY-fR)/2;if(k>=Y){l+=hH[$]}var ch=fm-b9,fS=fG-jG,fy=ia-b9,ar=iz-jG,aM=gG-b9,aU=eA-jG,f0=a(ch,fS,fy,ar),eV=a(ch,fS,aM,aU),ex=a(fy,ar,aM,aU),gx=f0+ex-eV;
if(eV==f0)return 1;var C=ex/(ex-gx),O=eV/(eV-f0),c_=eV*C/2;if(c_==0)return 1;var iS=l/c_,g=2-Math.sqrt(4-iS/.3);
hV.jg=c(C*g,b9,fm);hV.fi=c(C*g,jG,fG);hV.Hk=c(O*g,gG,ia);hV.IY=c(O*g,eA,iz);hV.alpha=g;hV.hH=C;hV.cg=O;
fm=hV.jg;fG=hV.fi;ia=hV.Hk;iz=hV.IY;hV.lZ=0;for(fx=N(k+1,$);fx!=Y;fx=bU){bU=N(fx+1,$);var cr=c8[fx<<1],h5=c8[(fx<<1)+1],hN=c8[bU<<1],ga=c8[(bU<<1)+1];
C=J(fm-b9,fG-jG,ia-fm,iz-fG,gG-ia,eA-iz,hN-cr,ga-h5);if(C<-.5)return 1;var fW=Q(C,b9,fm,ia,gG),cs=Q(C,jG,fG,iz,eA),bl=A(hN-cr,ga-h5);
if(bl==0)return 1;var eS=a(hN-cr,ga-h5,fW-cr,cs-h5)/bl;if(Math.abs(eS)>il)return 1;if(o(hN-cr,ga-h5,fW-cr,cs-h5)<0||o(cr-hN,h5-ga,fW-hN,cs-ga)<0){return 1}hV.lZ+=eS*eS}for(fx=k;
fx!=Y;fx=bU){bU=N(fx+1,$);var h9=fx*3+2<<1,cB=bU*3+2<<1,a$=h6[h9],a6=h6[h9+1],gw=h6[cB],bO=h6[cB+1];
C=J(fm-b9,fG-jG,ia-fm,iz-fG,gG-ia,eA-iz,gw-a$,bO-a6);if(C<-.5)return 1;var fW=Q(C,b9,fm,ia,gG),cs=Q(C,jG,fG,iz,eA),bl=A(gw-a$,bO-a6);
if(bl==0)return 1;var eS=a(gw-a$,bO-a6,fW-a$,cs-a6)/bl,ak=a(gw-a$,bO-a6,c8[bU<<1]-a$,c8[(bU<<1)+1]-a6)/bl;
ak*=.75*W.iC.alpha[bU];if(ak<0){eS=-eS;ak=-ak}if(eS<ak-il)return 1;if(eS<ak){hV.lZ+=(eS-ak)*(eS-ak)}}return 0}var X=W.iC,$=X.Te,I=X.YX,T=new Array($+1),e=new Array($+1),F=new Array($+1),y=new Array($+1),h,k,Y,K,z=new Z,f,s,l,g,H,O,C,ib=new Array($),hH=new Array($+1);
for(k=0;k<$;k++){if(X.lE[k]=="CURVE"){var R=I[N(k-1,$)<<1],fR=I[(N(k-1,$)<<1)+1],j4=I[k<<1],cP=I[(k<<1)+1],a8=I[N(k+1,$)<<1],d0=I[(N(k+1,$)<<1)+1];
ib[k]=Math.sign(a(j4-R,cP-fR,a8-j4,d0-cP))}else{ib[k]=0}}l=0;hH[0]=0;var b9=X.YX[0],jG=X.YX[1];for(k=0;
k<$;k++){s=N(k+1,$);if(X.lE[s]=="CURVE"){g=X.alpha[s];var jP=k*3+2<<1,aq=s*3+2<<1,gM=X.jo[jP],gv=X.jo[jP+1],dT=I[s<<1],aC=I[(s<<1)+1],c1=X.jo[aq],aj=X.jo[aq+1];
l+=.3*g*(4-g)*a(dT-gM,aC-gv,c1-gM,aj-gv)/2;l+=a(gM-b9,gv-jG,c1-b9,aj-jG)/2}hH[k+1]=l}T[0]=-1;e[0]=0;
F[0]=0;for(Y=1;Y<=$;Y++){T[Y]=Y-1;e[Y]=e[Y-1];F[Y]=F[Y-1]+1;for(k=Y-2;k>=0;k--){K=r(W,k,N(Y,$),z,i.aqu,ib,hH);
if(K){break}if(F[Y]>F[k]+1||F[Y]==F[k]+1&&e[Y]>e[k]+z.lZ){T[Y]=k;e[Y]=e[k]+z.lZ;F[Y]=F[k]+1;y[Y]=z;z=new Z}}}h=F[$];
H=new n(h);O=new Array(h);C=new Array(h);Y=$;for(k=h-1;k>=0;k--){var bD=N(Y,$),cy=k*3+0<<1,co=bD*3+0<<1;
if(T[Y]==Y-1){H.lE[k]=X.lE[bD];H.jo[cy]=X.jo[co];H.jo[cy+1]=X.jo[co+1];H.jo[cy+2]=X.jo[co+2];H.jo[cy+3]=X.jo[co+3];
H.jo[cy+4]=X.jo[co+4];H.jo[cy+5]=X.jo[co+5];H.YX[k<<1]=X.YX[bD<<1];H.YX[(k<<1)+1]=X.YX[(bD<<1)+1];H.alpha[k]=X.alpha[bD];
H.Nn[k]=X.Nn[bD];H.Q$[k]=X.Q$[bD];O[k]=C[k]=1}else{H.lE[k]="CURVE";H.jo[cy]=y[Y].jg;H.jo[cy+1]=y[Y].fi;
H.jo[cy+2]=y[Y].Hk;H.jo[cy+3]=y[Y].IY;H.jo[cy+4]=X.jo[co+4];H.jo[cy+5]=X.jo[co+5];H.YX[k<<1]=c(y[Y].cg,X.jo[co+4],I[bD<<1]);
H.YX[(k<<1)+1]=c(y[Y].cg,X.jo[co+5],I[(bD<<1)+1]);H.alpha[k]=y[Y].alpha;H.Nn[k]=y[Y].alpha;O[k]=y[Y].cg;
C[k]=y[Y].hH}Y=T[Y]}for(k=0;k<h;k++){s=N(k+1,h);H.Q$[k]=O[k]/(O[k]+C[s])}H.amB=1;W.iC=H}for(var k=0;
k<w.length;k++){var W=w[k];L(W);P(W);u(W);m(W);x(W);if(i.a7h)v(W)}}return{aob:_,aor:b}}();cD.RF=function(D,n,_,b){var w={$B:"minority",a13:b,a7h:!0,a0h:1,aqu:.2},i=cD.aob(D,n,_,w);
cD.aor(i,w);return i};cD.DZ=function(D){var n=[];for(var k=0;k<D.length;k++){var _=D[k],b=_.iC,w=["M"],i=[b.jo[(b.Te-1)*6+4],b.jo[(b.Te-1)*6+5]];
for(var M=0;M<b.Te;M++){var N=M*6;if(b.lE[M]==1){w.push("C");for(var a=0;a<6;a++)i.push(b.jo[N+a])}else if(b.lE[M]==0){w.push("L");
for(var a=2;a<4;a++)i.push(b.jo[N+a])}}w.push("Z");n.push({parent:_.parent,color:_.color,path:{t:i,C:w}})}return n};
cD.a09=function(D,n,_,b,w){function i(A){function Q(k){var E="C "+(A.jo[k*3+0<<1]*n).toFixed(1)+" "+(A.jo[(k*3+0<<1)+1]*n).toFixed(1)+",";
E+=(A.jo[k*3+1<<1]*n).toFixed(1)+" "+(A.jo[(k*3+1<<1)+1]*n).toFixed(1)+",";E+=(A.jo[k*3+2<<1]*n).toFixed(1)+" "+(A.jo[(k*3+2<<1)+1]*n).toFixed(1)+" ";
return E}function J(k){var P="L "+(A.jo[k*3+1<<1]*n).toFixed(1)+" "+(A.jo[(k*3+1<<1)+1]*n).toFixed(1)+" ";
P+=(A.jo[k*3+2<<1]*n).toFixed(1)+" "+(A.jo[(k*3+2<<1)+1]*n).toFixed(1)+" ";return P}var cQ=A.Te,k,L="M"+(A.jo[(cQ-1)*3+2<<1]*n).toFixed(1)+" "+(A.jo[((cQ-1)*3+2<<1)+1]*n).toFixed(1)+" ";
for(k=0;k<cQ;k++){if(A.lE[k]==1){L+=Q(k)}else if(A.lE[k]==0){L+=J(k)}}return L}var _=_*n,b=b*n,M=D.length,N=[];
for(var k=0;k<256;k++)N.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var a="<svg id=\"svg\" version=\"1.1\" width=\""+_+"\" height=\""+b+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var k=0;k<M;k++){var o=w[D[k].color-1].a8O.mx;if((o>>>24&255)==0)continue;a+="<path d=\"";var U=D[k].iC;
a+=i(U);var V=o>>0&255,c=o>>8&255,E=o>>16&255,o="rgb("+V+","+c+","+E+")";a+="\" fill=\""+o+"\" fill-rule=\"evenodd\"/>"}a+="</svg>";
return a};cD.a8Y=function(D,n,_){var cQ=D.length>>1,b,w=D[2*cQ-3]-_,i=D[2*cQ-2]-n,M=D[2*cQ-1]-_,N=M>w,a=0;
for(var k=0;k<cQ;k++){b=i;w=M;i=D[2*k]-n;M=D[2*k+1]-_;if(w==M)continue;N=M>w}for(var k=0;k<cQ;k++){b=i;
w=M;i=D[2*k]-n;M=D[2*k+1]-_;if(w<0&&M<0)continue;if(w>0&&M>0)continue;if(b<0&&i<0)continue;if(w==M&&Math.min(b,i)<=0)return!0;
if(w==M)continue;var o=b+(i-b)*-w/(M-w);if(o==0)return!0;if(o>0)a++;if(w==0&&N&&M>w)a--;if(w==0&&!N&&M<w)a--;
N=M>w}return(a&1)==1};cD.fill=function(D,n,_,b){var w=n[D],i=[D],M=0;while(M<i.length){var N=i[M];M++;
n[N]=b;if(n[N-_]==w){i.push(N-_);n[N-_]=254}if(n[N-1]==w){i.push(N-1);n[N-1]=254}if(n[N+1]==w){i.push(N+1);
n[N+1]=254}if(n[N+_]==w){i.push(N+_);n[N+_]=254}}};function an(){}an.Z6=function(D){var n=new Uint8Array(D),_=0,b={Nb:[],bn:[],list:[]},w=j.UH(n,_);
_+=2;if(w<=2){return an.at2(n)}var i=j.UH(n,_);_+=2;var M=j.gw(n,_,8);_+=8;var N=j.n(n,_);_+=4;if(N>0)b.Nb=an.RW(n,_,N,i,w);
_+=N;var a=j.gw(n,_,8);_+=8;var o=j.n(n,_);_+=4;if(o>0)b.bn=aX.Z5(n,_,o);_+=o;var U=j.gw(n,_,8);_+=8;
var V=j.n(n,_);_+=4;if(V>0){var c={};dR.v9(n,c,_+4);b.list=c.Brsh.v}_+=V;var E=b.list;for(var k=0;k<E.length;
k++){iu.FU.check(E[k].v)}return b};an.hX=function(D,n){D.v.Nm.v=n};an.at2=function(D){var n={Nb:[],bn:[],list:[]},_=0,b=j.UH(D,_);
_+=2;var w=j.UH(D,_);_+=2;for(var k=0;k<w;k++){var i=j.UH(D,_);_+=2;var M=j.n(D,_);_+=4;var N=_;if(i==2){var a={};
n.Nb.push(a);var o=j.n(D,N);N+=4;var U=j.UH(D,N);N+=2;if(b==2){var V=j.Kp(D,N);N+=4+V.length*2+2}a.id=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f";
N++;N+=8;a.Kj=j.bV(D,N);N+=16;var c=j.UH(D,N);N+=2;var E=D[N];N++;var A=f8.uJ(!1,c,D,a.Kj.l,a.Kj.e,N,E);
an._V(a,A);var Q=iu.kw(a.id),J=Q.Brsh.v;J.Dmtr.v.val=a.Kj.l;J.Spcn.v.val=U;n.list.push({t:"Objc",v:Q})}_+=M}return n};
an.Jz=function(D){var n=new bF,_=0,b=0;j.kn(n,_,6);_+=2;j.kn(n,_,2);_+=2;j.lK(n,_,"8BIMsamp");_+=8;_+=4;
b=_;_=an.Za(n,_,D.Nb);j.GS(n,b-4,_-b);j.lK(n,_,"8BIMpatt");_+=8;_+=4;b=_;_=aX.hg(n,_,D.bn);j.GS(n,b-4,_-b);
var w={classID:"null",Brsh:{t:"VlLs",v:D.list}};j.lK(n,_,"8BIMdesc");_+=8;_+=4;b=_;j.GS(n,_,16);_+=4;
_+=dR._l(n,w,_);j.GS(n,b-4,_-b);return n.data.slice(0,_).buffer};an.RW=function(D,n,_,b,w){var i=j.n,M=j.bV,N=n+_,a=[];
while(n<N){var o={};a.push(o);var U=i(D,n);n+=4;var V=n,c=j.IB(D,n);n+=c.length;o.id=c.Cb;if(b==1){n+=9;
o.Kj=M(D,n);n+=16}else{n+=7;var E=i(D,n);n+=4;o.Kj=M(D,n);n+=16;var A=i(D,n);n+=4;n+=A*4;var Q=i(D,n);
n+=4;var J=i(D,n);n+=4;var L=M(D,n);n+=16}var P=j.UH(D,n);n+=2;var u=D[n];n+=1;var m=f8.uJ(!1,P,D,o.Kj.l,o.Kj.e,n,u);
an._V(o,m);if(U%4!=0)U+=4-U%4;n=V+U}return a};an._V=function(D,n){var _=D.Kj.clone(),b=B.U(_.u()*4);
B.tD(n,b,3);_.x=_.y=0;D.vt=[b,_]};an.Za=function(D,n,_){var b=j.GS,w=j.Aw;for(var k=0;k<_.length;k++){var i=_[k],M=n+4,a=56,U=1;
n+=4;j.OV(D,n,i.id);n+=i.id.length+2;D.Mz(n,1);D.data[n]=1;n+=3;b(D,n,3);n+=4;var N=n;n+=4;w(D,n,i.Kj);
n+=16;b(D,n,a);n+=4;n+=a*4;b(D,n-4,1);var o=n;n+=4;b(D,n,8);n+=4;w(D,n,i.Kj);n+=16;j.kn(D,n,8);n+=2;
D.Mz(n,1);D.data[n]=U;n++;var V=B.U(i.Kj.u());B.Ef(i.vt[0],V,3);D.Mz(n,i.Kj.u()*2);n=f8.OQ(!1,V,D.data,i.Kj.l,i.Kj.e,n,U);
D.Mz(n,8);n+=8;var c=n-M;b(D,M-4,c);b(D,N,c-49);b(D,o,c-305);if(c%4!=0)n+=4-c%4}return n};function jx(){}jx.Z6=function(D){var n=new Uint8Array(D),_=[],b=0,w=j.UH(n,b);
b+=2;if(w!=4){throw"Unknown version of curves: "+w}var i=j.UH(n,b);b+=2;for(var k=0;k<i;k++){var M=jx.ti(n,b);
b+=2+2*M.length;_.push(M)}if(b==n.length)return _;var N=j.gw(n,b,4);b+=4;var a=j.UH(n,b);b+=2;var o=j.UH(n,b);
b+=2;if(o!=0)throw"extra curves for channels";return _};jx.$h=function(D,n,_){var b=n,w=[],i=D[n];n+=3;
var M=j.n(D,n);n+=4;for(var k=0;k<4;k++){var N=M>>>k&1;if(N){if(i==0){var a=jx.ti(D,n);n+=2+2*a.length}else{var a=jx.amN(D,n);
n+=256}w.push(a)}else w.push(i==0?[0,0,255,255]:jx.a10())}var o=cq.D2("curv");for(var k=0;k<4;k++){if(i==0){var U=w[k],V=[];
for(var c=0;c<U.length;c+=2)V.push(B.O1.YE(U[c],U[c+1],!0));jx.Pt(o,k,V)}else jx.Pt(o,k,w[k])}return o};
jx.a10=function(){var D=[];for(var k=0;k<256;k++)D.push(k);return D};jx.Pt=function(D,n,_){var b=jA.GD("CrvA",n);
if(_.length<256)b.Crv={t:"VlLs",v:_};else{b.Mpng={t:"VlLs",v:[]};for(var k=0;k<256;k++)b.Mpng.v[k]={t:"long",v:_[k]}}b={t:"Objc",v:b};
var w=D.Adjs.v,i=jA.dr(w,n);if(i==-1)w.push(b);else w[i]=b};jx.tg=function(D,n){var _=D.Adjs.v,b=jA.dr(_,n);
if(b==-1){if(_.length==0||_[0].v.Crv)return[B.O1.YE(0,0,!0),B.O1.YE(255,255,!0)];if(_[0].v.autoMachineLearning||_[0].v.AuCo)return[B.O1.YE(0,0,!0),B.O1.YE(128,160,!0),B.O1.YE(255,255,!0)];
var w=[];for(var k=0;k<256;k++)w.push(k);return w}var i=_[b].v;if(i.Crv)return i.Crv.v;if(i.Mpng){var w=[];
for(var k=0;k<256;k++)w.push(i.Mpng.v[k].v);return w}return[B.O1.YE(0,0,!0),B.O1.YE(255,255,!0)]};jx.ti=function(D,n){var _=[],b=j.UH(D,n);
n+=2;for(var w=0;w<b;w++){var i=j.UH(D,n);n+=2;var M=j.UH(D,n);n+=2;_.push(M,i)}return _};jx.aia=function(D,n,_){var b=_.length/2;
j.kn(D,n,b);n+=2;for(var w=0;w<b;w++){j.kn(D,n,_[w*2+1]);n+=2;j.kn(D,n,_[w*2+0]);n+=2}};jx.amN=function(D,n){var _=[];
for(var k=0;k<256;k++)_.push(D[n+k]);return _};jx.a92=function(D,n,_){D.Mz(n,256);for(var k=0;k<256;
k++)D.data[n+k]=_[k]};jx.nN=function(D,n,_){var b=[];for(var k=0;k<4;k++){var w=jx.tg(_,k);if(w.length==256)b.push(w);
else{var i=[];for(var M=0;M<w.length;M++)i.push(w[M].v.Hrzn.v,w[M].v.Vrtc.v);b.push(i)}}var N=n,a=b[0].length==256?1:0;
D.Mz(n,3);D.data[n]=a;D.data[n+1]=0;D.data[n+2]=1;n+=3;j.GS(D,n,15);n+=4;for(var k=0;k<4;k++){var o=b[k];
if(a==0){jx.aia(D,n,o);n+=2+2*o.length}else{jx.a92(D,n,o);n+=256}}return n-N};function bE(){}bE.$h=function(D,n,_){var b={},w=j.UH(D,n);
n+=2;b.nT=D[n]==1;n++;n++;b.Fb=[j.Ss(D,n),j.Ss(D,n+2),j.Ss(D,n+4)];n+=6;b.pL=[j.Ss(D,n),j.Ss(D,n+2),j.Ss(D,n+4)];
n+=6;b.nY=[];for(var k=0;k<6;k++){var i={};i._f=[j.Ss(D,n),j.Ss(D,n+2),j.Ss(D,n+4),j.Ss(D,n+6)];n+=8;
i.N5=[j.Ss(D,n),j.Ss(D,n+2),j.Ss(D,n+4)];n+=6;b.nY.push(i)}var M=cq.D2("hue2"),N=b;if(M.Clrz==null)M.Clrz={t:"bool",v:!1};
M.Clrz.v=N.nT;for(var k=0;k<7;k++){var a=k==0?N.nT?N.Fb:N.pL:N.nY[k-1];bE.Pt(M,k,a)}return M};bE.aja=function(D){return{classID:"Hst2",H:{t:"long",v:D[0]},Strt:{t:"long",v:D[1]},Lght:{t:"long",v:D[2]}}};
bE.dr=function(D,n){for(var k=0;k<D.length;k++){var _=D[k].v.LclR;if(n==0&&_==null||_!=null&&_.v==n)return k}return-1};
bE.Pt=function(D,n,_){var b=n==0?_:_.N5,w=bE.aja(b);if(n!=0){var i=_._f;w.LclR={t:"long",v:n},w.BgnR={t:"long",v:i[0]};
w.BgnS={t:"long",v:i[1]};w.EndS={t:"long",v:i[2]};w.EndR={t:"long",v:i[3]}}w={t:"Objc",v:w};var M=D.Adjs.v,N=bE.dr(M,n);
if(N==-1)M.push(w);else M[N]=w};bE.tg=function(D,n){var _=D.Adjs.v,b=bE.dr(_,n);if(b==-1){if(n==0)return[0,0,0];
else return[{_f:[315,345,15,45],N5:[0,0,0]},{_f:[15,45,75,105],N5:[0,0,0]},{_f:[75,105,135,165],N5:[0,0,0]},{_f:[135,165,195,225],N5:[0,0,0]},{_f:[195,225,255,285],N5:[0,0,0]},{_f:[255,285,315,345],N5:[0,0,0]}][n-1]}var w=_[b].v,i=[w.H.v,w.Strt.v,w.Lght.v];
if(n==0)return i;return{N5:i,_f:[w.BgnR.v,w.BgnS.v,w.EndS.v,w.EndR.v]}};bE.nN=function(D,n,_){var b={nT:_.Clrz?_.Clrz.v:!1,nY:[]};
b.Fb=b.pL=bE.tg(_,0);for(var k=1;k<7;k++)b.nY.push(bE.tg(_,k));var w=2+2+12+6*14,i=D.data;D.Mz(n,w);
j.Pc(i,n,2);n+=2;i[n]=b.nT?1:0;n++;n++;j.O7(i,n+0,b.Fb[0]);j.O7(i,n+2,b.Fb[1]);j.O7(i,n+4,b.Fb[2]);n+=6;
j.O7(i,n+0,b.pL[0]);j.O7(i,n+2,b.pL[1]);j.O7(i,n+4,b.pL[2]);n+=6;for(var k=0;k<6;k++){var M=b.nY[k]._f,N=b.nY[k].N5;
j.O7(i,n+0,M[0]);j.O7(i,n+2,M[1]);j.O7(i,n+4,M[2]);j.O7(i,n+6,M[3]);n+=8;j.O7(i,n+0,N[0]);j.O7(i,n+2,N[1]);
j.O7(i,n+4,N[2]);n+=6}return w};function jA(){}jA.Z6=function(D){var n=new Uint8Array(D),_=2,b=[];for(var k=0;
k<29;k++){var w=[];b.push(w);for(var i=0;i<5;i++)w.push(j.UH(n,_+k*10+i*2))}_+=29*10;if(_<n.length){var M=j.gw(n,_,4);
_+=4;var N=j.UH(n,_);_+=2;var a=j.UH(n,_);_+=2;var o=a-29;for(var k=0;k<o;k++){var w=[];b.push(w);for(var i=0;
i<5;i++)w.push(j.UH(n,_+k*10+i*2))}}var U=cq.D2("levl");for(var k=0;k<4;k++)jA.Pt(U,k,b[k]);return U};
jA.GD=function(D,k){var n=["Cmps","Rd","Grn","Bl"],_={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[k]}}]};
return{classID:D,Chnl:_}};jA.dr=function(D,n){var _={Cmps:0,Rd:1,Grn:2,Bl:3};for(var k=0;k<D.length;
k++){var b=D[k].v,w=_[b.Chnl.v[0].v.enum];if(w==n)return k}return-1};jA.Pt=function(D,n,_){var b=jA.GD("LvlA",n);
b.Inpt={t:"VlLs",v:[{t:"long",v:_[0]},{t:"long",v:_[1]}]};b.Otpt={t:"VlLs",v:[{t:"long",v:_[2]},{t:"long",v:_[3]}]};
b.Gmm={t:"doub",v:_[4]/100};b={t:"Objc",v:b};var w=D.Adjs.v,i=jA.dr(w,n);if(i==-1)w.push(b);else w[i]=b};
jA.tg=function(D,n){var _=[0,255,0,255,100],b=D.Adjs.v,w=jA.dr(b,n);if(w==-1)return _;var i=b[w].v;if(i.Inpt){_[0]=i.Inpt.v[0].v;
_[1]=i.Inpt.v[1].v}if(i.Otpt){_[2]=i.Otpt.v[0].v;_[3]=i.Otpt.v[1].v}if(i.Gmm){_[4]=Math.round(i.Gmm.v*100)}return _};
jA.Jz=function(D,n){var _=[],b=0;for(var k=0;k<4;k++)_.push(jA.tg(n,k));while(_.length<29)_.push([0,255,0,255,100]);
D.Mz(0,2+10*29);j.Pc(D.data,b,2);b+=2;for(var k=0;k<29;k++){var w=_[k];for(var i=0;i<5;i++)j.Pc(D.data,b+k*10+i*2,w[i])}b+=29*10;
if(_.length==29)return b;D.Mz(b,8+10*(_.length-29));j.Wu(D.data,b,"Lvls");b+=4;j.Pc(D.data,b,3);b+=2;
j.Pc(D.data,b,_.length);b+=2;var M=_.length-29;for(var k=0;k<M;k++){var w=_[29+k];for(var i=0;i<5;i++)j.Pc(D.data,b+k*10+i*2,w[i])}b+=10*M;
return b};function jS(){}jS.Z6=function(D){var n=new Uint8Array(D),_=2,b={Wl:[],yp:[]},w=j.gw(n,_,4);
_+=4;var i=j.UH(n,_);_+=2;var M=j.n(n,_);_+=4;b.Wl=aX.Z5(n,_,M);_+=M;var N=j.n(n,_);_+=4;for(var k=0;
k<N;k++){var a=j.n(n,_);_+=4;var o=_,U={fF:{},Ui:{}};b.yp.push(U);_+=4;_+=dR.v9(n,U.fF,_);_+=4;_+=dR.v9(n,U.Ui,_);
_=o+a;var V=U.Ui.blendOptions,c=U.Ui.Lefx;if(V&&Object.keys(V.v).length>1){}if(c){if(c.v.masterFXSwitch==null)c.v.masterFXSwitch={t:"bool",v:!0};
cL.cH(c.v)}}return b};jS.hX=function(D,n){D.fF.Nm.v=n};jS.Jz=function(D){var n=new bF,_=0;j.kn(n,_,2);
_+=2;j.lK(n,_,"8BSL");_+=4;j.kn(n,_,3);_+=2;var b=_;_+=4;_=aX.hg(n,_,D.Wl);j.GS(n,b,_-b-4);var w=D.yp.length;
j.GS(n,_,w);_+=4;for(var k=0;k<w;k++){_+=4;var i=_,M=D.yp[k];j.GS(n,_,16);_+=4;_+=dR._l(n,M.fF,_);var N=M.Ui.Lefx;
if(N){M.Ui.Lefx=JSON.parse(JSON.stringify(N));cL.Ob(M.Ui.Lefx.v)}j.GS(n,_,16);_+=4;_+=dR._l(n,M.Ui,_);
if(N)M.Ui.Lefx=N;j.GS(n,i-4,_-i)}return n.data.slice(0,_).buffer};function c$(){}c$.$h=function(D,n,_){var b=j.UH(D,n);
n+=2;var w={};w.Ub=j.UH(D,n)==1;n+=2;w.oJ=[];for(var k=0;k<10;k++){var i=[];w.oJ.push(i);for(var M=0;
M<4;M++)i.push(j.Ss(D,n+M*2));n+=8}var N=cq.D2("selc");N.Mthd.v.CrcM=w.Ub?"Absl":"Rltv";for(var k=1;
k<10;k++)c$.Pt(N,k-1,w.oJ[k]);return N};c$.M6="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
c$.GD=function(D,k){var n=["Cmps","Rd","Grn","Bl"],_={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[k]}}]};
return{classID:D,Chnl:_}};c$.dr=function(D,n){var _=c$.M6;for(var k=0;k<D.length;k++){var b=D[k].v,w=_.indexOf(b.Clrs.v.Clrs);
if(w==n)return k}return-1};c$.Pt=function(D,n,_){var b=["Cyn","Mgnt","Ylw","Blck"],w={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:c$.M6[n]}}};
for(var i=0;i<4;i++)w[b[i]]={t:"UntF",v:{type:"#Prc",val:_[i]}};w={t:"Objc",v:w};var M=D.ClrC.v,N=c$.dr(M,n);
if(N==-1)M.push(w);else M[N]=w};c$.tg=function(D,n){var _=[0,0,0,0],b=D.ClrC.v,w=c$.dr(b,n);if(w==-1)return _;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var k=0;k<4;k++)if(b[w].v[i[k]])_[k]=b[w].v[i[k]].v.val;return _};
c$.nN=function(D,n,_){var b={Ub:_.Mthd.v.CrcM=="Absl",oJ:[[0,0,0,0]]};for(var k=0;k<9;k++)b.oJ.push(c$.tg(_,k));
D.Mz(n,84);j.Pc(D.data,n,1);n+=2;j.Pc(D.data,n,b.Ub?1:0);n+=2;for(var k=0;k<10;k++){var w=b.oJ[k];for(var i=0;
i<4;i++)j.O7(D.data,n+i*2,w[i]);n+=8}return 84};function cR(){}cR.D2=function(){return{PH:new gl(0,0,50,50),fF:"",bi:"play",Y:B.$.yA.n_([.1,.1,.9,.5,.1,.9],0)}};
cR.Z6=function(D){D=new Uint8Array(D);var n=0,_=[],b=Date.now(),w=j.gw(D,0,4);n+=4;var i=j.n(D,n);n+=4;
var M=j.n(D,n);n+=4;for(var k=0;k<M;k++){var N=j.Kp(D,n);n+=N.length*2+4+2;if((N.length&1)==0)n+=2;n=cR.dx(D,n,N,_)}return _};
cR.dx=function(D,n,_,b){var w=j.n(D,n);n+=4;var i=j.n(D,n);n+=4;var M=n,N=j.IB(D,M).Cb;M+=N.length+1;
var a=j.bV(D,M);M+=16;var o=cR.aa(D,M,i-(M-n)),U=B.$.fN(o),V=B.H.t0(U),c=1/V.l,E=1/V.e;B.$.vZ(o,new e3(c,0,0,E,-V.x*c,-V.y*E));
b.push({bi:_,fF:N,Y:o,PH:a});n+=i;return n};cR.hX=function(D,n){D.bi=n};cR.Jz=function(D){var n=new bF,_=0;
j.lK(n,_,"cush");_+=4;j.GS(n,_,2);_+=4;j.GS(n,_,D.length);_+=4;for(var k=0;k<D.length;k++){var b=D[k],w=b.bi+"\0";
j.gF(n,_,w);_+=4+w.length*2;if((w.length&1)==1)_+=2;j.GS(n,_,1);_+=4;_+=4;var i=_;j.OV(n,_,b.fF);_+=b.fF.length+1;
j.Aw(n,_,b.PH);_+=16;n.Mz(_,b.Y.length*26);cR.C_(n.data,_,b.Y,1,1);_+=b.Y.length*26;var M=_-i;if((M&3)!=0)M+=4-(M&3);
j.GS(n,i-4,M);_=i+M}return n.data.slice(0,_).buffer};cR.ab5=function(D){var n=[];for(var k=0;k<D.length;
k++){var _=D[k],b=_.type,w={type:b};n.push(w);if(b==6){}else if(b==8)w.all=_.all;else if(b==0||b==3){w.length=_.length;
w.frule=_.gW;w.third=_.bB;w.prmA=_.at;w.prmB=_.iB}else{w.c=[_.US.x,_.US.y,_.Z.x,_.Z.y,_.As.x,_.As.y]}}return n};
cR.atE=function(D){var n=[];for(var k=0;k<D.length;k++){var _=D[k],b=_.type,w={type:b};n.push(w);if(b==6){}else if(b==8)w.all=_.all;
else if(b==0||b==3){w.length=_.length;w.gW=_.frule;w.bB=_.third;w.at=_.prmA;w.iB=_.prmB}else{var i=_.c;
w.US=new gZ(i[0],i[1]);w.Z=new gZ(i[2],i[3]);w.As=new gZ(i[4],i[5])}}return n};cR.aa=function(D,n,_,b,w){if(b==null)b=1;
if(w==null)w=1;function i(Q,J,L){var P=j.abn(Q,J)*L,u=Math.round(P);return Math.abs(P-u)<1e-6?u:P}var M=j.Ss,N=[],a=Math.floor(_/26);
for(var k=0;k<a;k++){var o=n+k*26,U={},V=0;N.push(U);U.type=M(D,o);o+=2;if(U.type==6){V=24}if(U.type==8){U.all=M(D,o);
o+=2;V=22}if(U.type==0||U.type==3){U.length=M(D,o);o+=2;U.gW=M(D,o);o+=2;U.bB=M(D,o);o+=2;U.at=j.n(D,o);
o+=4;U.iB=j.n(D,o);o+=4;V=10}if(U.type==1||U.type==2||U.type==4||U.type==5){var c,E;E=i(D,o,w);o+=4;
c=i(D,o,b);o+=4;U.US=new gZ(c,E);E=i(D,o,w);o+=4;c=i(D,o,b);o+=4;U.Z=new gZ(c,E);E=i(D,o,w);o+=4;c=i(D,o,b);
o+=4;U.As=new gZ(c,E);V=0}for(var A=0;A<V;A++)if(D[o+A]!=0){console.log("Unexpected non-zero byte!",U,A,D[o+A])}}return N};
cR.C_=function(D,n,_,b,w){var i=j.O7,M=j._5,N=_.length;for(var k=0;k<N;k++){var a=n+k*26,o=_[k];i(D,a,o.type);
a+=2;if(o.type==6){}if(o.type==8)i(D,a,o.all);if(o.type==0||o.type==3){i(D,a,o.length);a+=2;i(D,a,o.gW);
a+=2;i(D,a,o.bB);a+=2}if(o.type==1||o.type==2||o.type==4||o.type==5){M(D,a,o.US.y/w);a+=4;M(D,a,o.US.x/b);
a+=4;M(D,a,o.Z.y/w);a+=4;M(D,a,o.Z.x/b);a+=4;M(D,a,o.As.y/w);a+=4;M(D,a,o.As.x/b);a+=4}}};function hy(){}hy.Z6=function(D){var n=new Uint8Array(D),_=[],b=0;
b=hy.wE(n,b,_);if(b+3<n.length){_=[];b=hy.wE(n,b,_)}return _};hy.wE=function(D,n,_){var b=j.UH,w=j.Ss,i=b(D,n);
n+=2;var M=b(D,n);n+=2;for(var k=0;k<M;k++){var N=hy.RC(D,n);n+=10;if(i==2){N.JP=j.Kp(D,n);n+=4+N.JP.length*2+2}_.push(N)}return n};
hy.RC=function(D,n){var _=j.UH,b=j.Ss,w=_(D,n),E=null;n+=2;var i=_(D,n);n+=2;var M=_(D,n);n+=2;var N=_(D,n);
n+=2;var a=_(D,n);n+=2;var o=1/65535,U=255/65535,V=100/65535,c=255/1e4;if(w==0)E={p:i*U,z:M*U,S:N*U};
else if(w==1){E=B.Ra(i*o,M*o,N*o);E.p*=255;E.z*=255;E.S*=255}else if(w==2)E=B.X.kj({classID:"CMYC",Cyn:{t:"doub",v:100-i*V},Mgnt:{t:"doub",v:100-M*V},Ylw:{t:"doub",v:100-N*V},Blck:{t:"doub",v:100-a*V}});
else if(w==7){var A=B.Eg(i/100,b(D,n-6)/100,b(D,n-4)/100);E=A}else if(w==8){E={p:255-i*c,z:255-M*c,S:255-N*c}}else throw"e "+w+", ";
return E};hy.Jz=function(D){var n=new bF,_=0,b=j.kn;b(n,_,2);_+=2;b(n,_,D.length);_+=2;for(var k=0;k<D.length;
k++){var w=D[k];n.Mz(_,10);hy.yY(n.data,_,w);_+=10;var i=(w.JP?w.JP:"")+"\0";j.gF(n,_,i);_+=4+i.length*2}return n.data.slice(0,_).buffer};
hy.hX=function(D,n){D.JP=n};hy.yY=function(D,n,_){var b=65535/255,w=j.Pc;w(D,n,0);w(D,n+2,Math.round(_.p*b));
w(D,n+4,Math.round(_.z*b));w(D,n+6,Math.round(_.S*b));w(D,n+8,0)};function gY(){}gY.Z6=function(D){var n=new Uint8Array(D),_=4,b={};
b.Ln=j.Kp(n,_);_+=4+b.Ln.length*2+2;b.exp=n[_++]==1;b.pj=[];var w=j.n(n,_);_+=4;for(var k=0;k<w;k++){var i={};
b.pj.push(i);i.gH=j.UH(n,_);_+=2;i.shift=n[_++]==1;i.a7w=n[_++]==1;i.color=j.UH(n,_);_+=2;i.Ln=j.Kp(n,_);
_+=4+i.Ln.length*2+2;i.exp=n[_++]==1;i.pj=[];var M=j.n(n,_);_+=4;for(var N=0;N<M;N++){var a={};i.pj.push(a);
a.exp=n[_++]==1;a.R=n[_++]==1;a.a3o=n[_++]==1;a.asZ=n[_++];var o=j.gw(n,_,4);_+=4;if(o=="TEXT"){a._L=gY.V3(n,_);
_+=4+a._L.length}else if(o=="long"){a._L=j.gw(n,_,4);_+=4}else throw"e";a.yi=gY.V3(n,_);_+=4+a.yi.length;
var U=j.H8(n,_);_+=4;if(U==-1){a.cR={};var V=dR.v9(n,a.cR,_);_+=V}}}console.log(b);var c=new Uint8Array(gY.Jz(b));
for(var k=0;k<c.length;k++)if(c[k]!=n[k]){console.log(n.length,c.length);var E=4*(k>>>2)-16;console.log(j.Ep(n,E,64));
console.log(j.Ep(c,E,64));console.log(n.slice(E,E+64));console.log(c.slice(E,E+64));throw k}return[b]};
gY.V3=function(D,n){var _=j.n(D,n);return j.gw(D,n+4,_)};gY.Dy=function(D,n,_){j.GS(D,n,_.length);j.lK(D,n+4,_)};
gY.Jz=function(D){var n=new bF,_=0;j.GS(n,_,16);_+=4;j.gF(n,_,D.Ln+"\0");_+=4+D.Ln.length*2+2;n.Mz(_,1);
n.data[_++]=D.exp?1:0;var b=D.pj.length;j.GS(n,_,b);_+=4;for(var k=0;k<b;k++){var w=D.pj[k];j.kn(n,_,w.gH);
_+=2;n.Mz(_,2);n.data[_++]=w.shift?1:0;n.data[_++]=w.a7w?1:0;j.kn(n,_,w.color);_+=2;j.gF(n,_,w.Ln+"\0");
_+=4+w.Ln.length*2+2;n.Mz(_,1);n.data[_++]=w.exp?1:0;var i=w.pj.length;j.GS(n,_,i);_+=4;for(var M=0;
M<i;M++){var N=w.pj[M];n.Mz(_,4);n.data[_++]=N.exp?1:0;n.data[_++]=N.R?1:0;n.data[_++]=N.a3o?1:0;n.data[_++]=N.asZ;
var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(N._L)!=-1;j.lK(n,_,a?"long":"TEXT");_+=4;
if(!a){gY.Dy(n,_,N._L);_+=4+N._L.length}else{j.lK(n,_,N._L);_+=4}gY.Dy(n,_,N.yi);_+=4+N.yi.length;j.fM(n,_,N.cR?-1:0);
_+=4;if(N.cR){var o=dR._l(n,N.cR,_);_+=o}}}return n.data.slice(0,_).buffer};function iO(){}iO.Z6=function(D){var n=new Uint8Array(D),_=0,b=j.n(n,_),a;
_+=4;var w=j.gw(n,_,8);_+=8;var i=j.c7(n,_);_+=4;var M=j.c7(n,_);_+=4;var N=j.c7(n,_);_+=4;if(b==2){a=new Float32Array(D,32,D.byteLength-32>>>2)}else if(b==3||b==4){a=new Float32Array(M*N*2);
var o=0,U=0,V=!0;_=b==3?32:16+8+40;while(_<n.length){var c=j.c7(n,_);_+=4;if(V)U+=c;else{for(var k=0;
k<c;k++){a[o+U+k<<1]=j.lR(n,_);a[(o+U+k<<1)+1]=j.lR(n,_+4);_+=8}U+=c}V=!V;if(c!=0&&U==M){o+=M;U=0;V=!0;
if(o==M*N)break}}}else throw"unknown Mesh version: "+b;return{Wj:M,Rw:N,map:a}};iO.dK=function(D){var n=D.Wj,_=D.Rw,b=D.map,w=new Uint8Array(32+_*n*8+_*8),i=0,M=0;
j.GW(w,i,3);i+=4;j.Wu(w,i,"yfqLhseM");i+=8;j.vz(w,i,2);i+=4;j.vz(w,i,n);i+=4;j.vz(w,i,_);i+=4;j.vz(w,i,0);
i+=4;j.vz(w,i,1);i+=4;for(var N=0;N<_;N++){j.vz(w,i,0);i+=4;j.vz(w,i,n);i+=4;for(var a=0;a<n;a++){j.qB(w,i,b[M]);
j.qB(w,i+4,b[M+1]);M+=2;i+=8}}return w.buffer};function f_(){}f_.Z6=function(D){var n=new Uint8Array(D),_=0,b=j.gw(n,_,4);
_+=4;var w=j.UH(n,_);_+=2;var i=j.n(n,_);_+=4;var M=[];for(var k=0;k<i;k++){var N=j.n(n,_);_+=4;var a={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
M.push(a);var o=j.Kp(n,_);a.Nm.v=o;_+=4+o.length*2+2;var U=j.UH(n,_);_+=2;var V=j.UH(n,_);_+=2;for(var c=0;
c<V;c++){var E=B.O1.YE(0,0,!0);E.v.Vrtc.v=j.UH(n,_);_+=2;E.v.Hrzn.v=j.UH(n,_);_+=2;a.Crv.v.push(E)}if(N==1){}else if(N==2){for(var c=0;
c<V;c++){a.Crv.v[c].v.Cnty.v=n[_]==1;_+=1}}else throw"error";var A=j.n(n,_);_+=4;var Q=j.n(n,_);_+=4}return M};
f_.hX=function(D,n){D.Nm.v=n};f_.Jz=function(D){var n=new bF,_=0;j.lK(n,_,"8BFS");_+=4;j.kn(n,_,1);_+=2;
j.GS(n,_,D.length);_+=4;for(var k=0;k<D.length;k++){j.GS(n,_,2);_+=4;var b=D[k];j.gF(n,_,b.Nm.v+"\0");
_+=4+b.Nm.v.length*2+2;j.kn(n,_,2);_+=2;var w=b.Crv.v.length;j.kn(n,_,w);_+=2;for(var i=0;i<w;i++){var M=b.Crv.v[i];
j.kn(n,_,M.v.Vrtc.v);_+=2;j.kn(n,_,M.v.Hrzn.v);_+=2}n.Mz(_,w);for(var i=0;i<w;i++){n.data[_]=b.Crv.v[i].v.Cnty.v;
_++}j.GS(n,_,0);_+=4;j.GS(n,_,0);_+=4}return n.data.slice(0,_).buffer};function aX(){}aX.Z6=function(D){var n=new Uint8Array(D),_=4,b=j.UH(n,_);
_+=2;var w=j.n(n,_);_+=4;var i=[];for(var k=0;k<w;k++){var M={};i.push(M);_=aX.zP(n,_,M)}return i};aX.hX=function(D,n){D.name=n};
aX.Jz=function(D){var n=new bF,_=0;j.lK(n,_,"8BPT");_+=4;j.kn(n,_,1);_+=2;j.GS(n,_,D.length);_+=4;for(var k=0;
k<D.length;k++){_=aX.s6(n,_,D[k])}return n.data.slice(0,_).buffer};aX.Z5=function(D,n,_){var b=n+_,w=[];
while(n<b){var i={},M=j.n(D,n);n+=4;var N=n;n=aX.zP(D,n,i);if(!i.vt[1].hk())w.push(i);if(M%4!=0)M+=4-M%4;
n=N+M}return w};aX.hg=function(D,n,_){for(var k=0;k<_.length;k++){var b=_[k];n+=4;var w=n;n=aX.s6(D,n,b);
var i=n-w;j.GS(D,w-4,i);if(i%4!=0)w+=4-i%4;n=w+i}return n};aX.zP=function(D,n,_){var b=j.n(D,n);n+=4;
if(b!=1)alert("Unknown version of pattern");var w=j.n(D,n);n+=4;if(w!=1&&w!=2&&w!=3)console.log("Unsupported mode of pattern: "+w);
var i=j.UH(D,n);n+=2;var M=j.UH(D,n);n+=2;var N=new gl(0,0,M,i);_.name=j.Kp(D,n);n+=4+2*_.name.length+2;
var a=D[n];n++;_.id=j.gw(D,n,a);n+=_.id.length;var o=-1;if(w==2){o=n;n+=3*256+4}var U=new B.YV(M*i);
n=aX.a6P(D,n,U);if(w==2){for(var k=0;k<U.p.length;k++){var V=3*U.p[k];U.p[k]=D[o+V+0];U.z[k]=D[o+V+1];
U.S[k]=D[o+V+2]}}var c=B.U(N.u()*4);B.wq(U,c);_.vt=[c,N];return n};aX.s6=function(D,n,_){var b=_.vt[0],w=_.vt[1];
j.GS(D,n,1);n+=4;j.GS(D,n,3);n+=4;j.kn(D,n,w.e);n+=2;j.kn(D,n,w.l);n+=2;j.gF(D,n,_.name+"\0");n+=4+2*_.name.length+2;
j.VD(D,n,_.id.length);n++;j.lK(D,n,_.id);n+=_.id.length;var i=new B.YV(w.u());B.BJ(b,i);n=aX.aiu(D,n,i,w);
return n};aX.a6P=function(D,n,_){var b=n,w={Kj:null,qJ:[],arF:null,Dw:null},i=j.n(D,n);n+=4;var M=j.n(D,n);
n+=4;w.Kj=j.bV(D,n);n+=16;var N=j.n(D,n);n+=4;for(var k=0;k<N+2;k++){var a=j.n(D,n);n+=4;if(a==0)continue;
var o=j.n(D,n);n+=4;if(o==0)continue;var U=j.n(D,n);n+=4;var V=j.bV(D,n);n+=16;var c=j.UH(D,n);n+=2;
var E=D[n];n++;var A=f8.uJ(!1,U,D,V.l,V.e,n,E);if(k<N)w.qJ.push(A);if(k==N)w.arF=A;if(k==N+1)w.Dw=A;
n+=o-23}if(!w.Kj.hk()){if(w.qJ[0])_.p=w.qJ[0];if(w.qJ[1])_.z=w.qJ[1];else _.z=w.qJ[0].slice(0);if(w.qJ[2])_.S=w.qJ[2];
else _.S=w.qJ[0].slice(0);if(w.Dw)_.vd=w.Dw;else _.vd.fill(255)}return n};aX.aiu=function(D,n,_,b){var w=n,i={Kj:b,qJ:[_.p,_.z,_.S],arF:null,Dw:_.vd};
j.GS(D,n,3);n+=4;j.GS(D,n,0);n+=4;j.Aw(D,n,b);n+=16;j.GS(D,n,24);n+=4;for(var k=0;k<24+2;k++){var M=n,N=k<3||k==25?1:0;
j.GS(D,n,N);n+=4;if(N==0)continue;j.GS(D,n,0);n+=4;j.GS(D,n,8);n+=4;j.Aw(D,n,b);n+=16;j.kn(D,n,8);n+=2;
j.VD(D,n,1,1);n++;var a=k<3?i.qJ[k]:i.Dw;D.Mz(n,b.u()+2);n=f8.OQ(!1,a,D.data,b.l,b.e,n,1);j.GS(D,M+4,n-M-8)}j.GS(D,w+4,n-w-8);
return n};function eY(){}eY.Z6=function(D){var n=new Uint8Array(D),_=0,b=j.gw(n,_,4);_+=4;var w=j.UH(n,_);
_+=2;var i=[];if(w<=3){var M=j.UH(n,_);_+=2;for(var k=0;k<M;k++){var N=n[_++],a=j.gw(n,_,N);_+=N;var o=eY.u4(n,_,a),U=o[0];
_=o[1];i.push(U)}}else{var o={},V=dR.v9(n,o,_+4),c=o.GrdL.v;for(var k=0;k<c.length;k++)i[k]=c[k].v.Grad.v}return i};
eY.hX=function(D,n){D.Nm.v=n};eY.Jz=function(D){var n=new bF,_=0;j.lK(n,_,"8BGR");_+=4;j.kn(n,_,5);_+=2;
j.GS(n,_,16);_+=4;var b={classID:"null",GrdL:{t:"VlLs",v:[]}},w=b.GrdL.v;for(var k=0;k<D.length;k++)w[k]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:D[k]}}};
_+=dR._l(n,b,_);return n.data.slice(0,_).buffer};eY.u4=function(D,n,_){var b={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:_},Trns:{t:"VlLs",v:[]}},w=j.UH(D,n);
n+=2;if(w==0)throw"e";for(var k=0;k<w;k++){var i=j.n(D,n),M=j.n(D,n+4),N=hy.RC(D,n+8),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:N.p},Grn:{t:"doub",v:N.z},Bl:{t:"doub",v:N.S}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:M}}};
b.Clrs.v.push(a);n+=20}var o=j.UH(D,n);n+=2;for(var k=0;k<o;k++){var i=j.n(D,n),M=j.n(D,n+4),U=j.UH(D,n+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*U/255)}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:M}}};
b.Trns.v.push(a);n+=10}var V=j.UH(D,n);n+=2;if(V!=2)throw V;b.Intr.v=j.UH(D,n);n+=2;var c=j.UH(D,n);
n+=2;if(c!=32)throw"e";return[b,n]};eY.aoU=function(D,n,_){var b=_.Clrs.v.length;j.kn(D,n,b);n+=2;for(var k=0;
k<b;k++){var w=_.Clrs.v[k];j.GS(D,n,w.v.Lctn.v);j.GS(D,n+4,w.v.Mdpn.v);j.kn(D,n+8,0);var i=B.X.Ea(B.X.kj(w.v.Clr.v)),M=[i.Rd.v,i.Grn.v,i.Bl.v,0];
for(var N=0;N<4;N++)j.kn(D,n+10+N*2,Math.round(65535*(M[N]/255)));n+=20}var a=_.Trns.v.length;j.kn(D,n,a);
n+=2;for(var k=0;k<a;k++){var w=_.Trns.v[k];j.GS(D,n,w.v.Lctn.v);j.GS(D,n+4,w.v.Mdpn.v);j.kn(D,n+8,Math.round(255*w.v.Opct.v.val/100));
n+=10}j.kn(D,n,2);n+=2;j.kn(D,n,_.Intr.v);n+=2;j.kn(D,n,32);n+=2;return n};function hM(){}hM.Z6=function(D){var n=new Uint8Array(D),_=[],b=[],w=[],i=[],M=[],N=0,a=j.gw(n,N,4);
N+=4;var o=j.n(n,N);N+=4;var U=j.n(n,N);N+=4;while(N<n.length){var V=j.gw(n,N,4);N+=4;var c=j.gw(n,N,4);
N+=4;var E=j.n(n,N);N+=4;if(c=="tppa"){b=aX.Z5(n,N,E);N+=E}else if(c=="tpbd"){w=an.RW(n,N,E,1,1);N+=E}else if(c=="tptp"){var A=j.n(n,N);
N+=4;for(var k=0;k<A;k++){var Q=j.Kp(n,N);N+=6+Q.length*2;N+=4;var J={};N+=dR.v9(n,J,N);_.push([Q,J])}while((N&3)!=0)N++}else if(c=="tpsh"){var L=N,P=n.slice(N,N+E);
while(N<L+E){var u=j.n(n,N);N+=4;N=cR.dx(n,N,"Shape",i)}N=L+E}else if(c=="tpst"){var L=N;N+=4;while(N<L+E){var m=j.n(n,N);
N+=4;var x=N,v=j.n(n,N);N+=4;var J={fF:{},Ui:{}};M.push(J);N+=4;N+=dR.v9(n,J.fF,N);N+=4;N+=dR.v9(n,J.Ui,N);
N=x+m;var W=J.Ui.Lefx;if(W){if(W.v.masterFXSwitch==null)W.v.masterFXSwitch={t:"bool",v:!0};cL.cH(W.v)}}N=L+E}else{console.log(n.slice(N-8,N+64));
console.log(j.gw(n,N-8,64));throw c}}return{Nb:w,bn:b,list:_,ai9:i,yp:M}};hM.hX=function(D,n){D[0]=n};
hM.Jz=function(D){var n=new bF,_=0;j.lK(n,_,"8BTP");_+=4;j.GS(n,_,3);_+=4;j.GS(n,_,1);_+=4;var b=[D.bn,D.Nb,D.list];
for(var k=0;k<3;k++){if(b[k].length==0)continue;j.lK(n,_,"8BIM");_+=4;var w=["tppa","tpbd","tptp"][k];
j.lK(n,_,w);_+=4;var i=_;_+=4;if(w=="tppa"){_=aX.hg(n,_,D.bn)}else if(w=="tpbd"){_=an.Za(n,_,D.Nb)}else if(w=="tptp"){j.GS(n,_,D.list.length);
_+=4;for(var M=0;M<D.list.length;M++){var N=D.list[M];j.gF(n,_,N[0]+"\0");_+=6+N[0].length*2;j.GS(n,_,16);
_+=4;_+=dR._l(n,N[1],_)}}j.GS(n,i,_-i-4);while((_&3)!=0)_++;n.Mz(_,0)}return n.data.slice(0,_).buffer};
function jC(){}jC.Z6=function(D,n){var _=new Uint8Array(D),b;if(j.n(_,0)==_.length)b="icc";else if(_[0]=="<".charCodeAt(0))b="look";
else if(j.BR(_,"LUT_3D_SIZE")!=-1)b="cube";else b="3DL";if(b!="icc"){var w=jC.a8M(_,b),i=jC.al6(w[0],w[1]);
_=i}var M=[];for(var k=0;k<_.length;k++)M.push(_[k]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:n?n:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:M}}]};
jC.Jz=function(D){var n=D[0],_=new Uint8Array(n.profile.v);return _.buffer};jC.hX=function(D,n){D.Nm.v=n};
jC.al6=function(D,n){var _=new bF,b=128;_.Mz(0,128);var w=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var k=0;k<w.length;k++)_.data[k]=w[k];var i=["desc","A2B0"],M=i.length,N=128+4+M*12;j.GS(_,b,M);
b+=4;for(var a=0;a<M;a++){var o=i[a];j.lK(_,b,o);b+=4;j.GS(_,b,N);b+=4;var U=N;if(o=="desc"){j.lK(_,U,"mluc");
U+=4;U+=4;j.GS(_,U,1);U+=4;j.GS(_,U,12);U+=4;j.lK(_,U,"enUS");U+=4;var V="ICC by Photopea\0",c=V.length*2+2;
j.GS(_,U,c);U+=4;j.GS(_,U,28);U+=4;_.Mz(U,c);for(var k=0;k<V.length;k++)_.data[U+k*2+1]=V.charCodeAt(k);
U+=c}if(o=="A2B0"){j.lK(_,U,"mAB ");U+=4;U+=4;_.Mz(U,4);_.data[U]=3;_.data[U+1]=3;U+=4;_.Mz(U,4*5);U+=4*3;
j.GS(_,U,U+8-N);U+=4;U+=4;_.Mz(U,20);_.data[U]=D;_.data[U+1]=D;_.data[U+2]=D;U+=16;_.data[U]=2;U+=4;
var E=D*D*D*3;_.Mz(U,E*2);for(var k=0;k<E;k++)j.Pc(_.data,U+k*2,Math.max(0,Math.min(65535,Math.round(n[k]*65535))));
U+=E*2}var A=U-N;while((A&3)!=0)A++;j.GS(_,b,A);b+=4;N+=A}j.GS(_,0,N);return _.data.slice(0,N)};jC.a8M=function(D,n){n="LUTFormat"+n.toUpperCase();
var _=[],b=0,w=j.KA(D,0,D.length),i="";for(var k=0;k<D.length&&i=="";k++){if(D[k]==10)i="\n";else if(D[k]==13){i="\r";
if(D[k+1]==10)i+="\n"}}if(n=="LUTFormatCUBE"){var M=w.split(i);for(var k=0;k<M.length;k++){if(M[k]==""||M[k][0]=="#")continue;
var N=M[k].split(" "),a=N[0];if(a=="LUT_3D_SIZE"){b=parseInt(N[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(a)!=-1)continue;
_.push(parseFloat(N[0]),parseFloat(N[1]),parseFloat(N[2]))}_=jC.Ge(b,_)}else if(n=="LUTFormat3DL"){var M=w.split(i),o=1/4095;
for(var k=0;k<M.length;k++){var U=M[k];if(U==""||U=="3DMESH"||U.startsWith("Mesh")||U[0]=="#")continue;
var N=U.split(" "),a=N[0];if(b==0){b=N.length;continue}_.push(parseFloat(N[0])*o,parseFloat(N[1])*o,parseFloat(N[2])*o)}}else if(n=="LUTFormatLOOK"){var V=new DOMParser,c=V.parseFromString(w,"text/xml"),E=c.getElementsByTagName("LUT")[0],A=E.children[0].textContent;
b=parseInt(JSON.parse(A));var Q=E.children[1].textContent;Q=Q.replace(/"/g,"").replace(/\s/g,"");var J=3*b*b*b,L=J*4,P=new Uint8Array(L);for(var k=0;k<L;k++){var u=Q.charCodeAt(k*2),m=Q.charCodeAt(k*2+1),x=u<58?u-48:u-55,v=m<58?m-48:m-55;P[k]=(x<<4)+v}for(var k=0;k<J;k++)_.push(j.lR(P,k<<2));_=jC.Ge(b,_)}else throw n;return[b,_]};jC.ag$=function(D,n,_){var b=["#Created by www.Photopea.com","TITLE \""+_+"\"","","#LUT size","LUT_3D_SIZE "+n,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],w=6;
for(var k=0;k<D.length;k+=3){b.push(D[k].toFixed(w)+" "+D[k+1].toFixed(w)+" "+D[k+2].toFixed(w))}b.push("");
return j.TJ(b.join("\n")).buffer};jC.Ge=function(D,n){var _=[],b=D*D*D;for(var k=0;k<b;k++)_.push(0,0,0);
for(var w=0;w<D;w++)for(var i=0;i<D;i++)for(var M=0;M<D;M++){var k=3*(M+i*D+w*D*D),N=3*(w+i*D+M*D*D);
_[N]=n[k];_[N+1]=n[k+1];_[N+2]=n[k+2]}return _};function dR(){}dR.v9=function(D,n,_,b,w){var i=_,M;if(w==null)w=0;
var N=j.n(D,_);if(N==0){M="";_+=4}else{M=j.Kp(D,_);_+=4+2*M.length+2}if(M!="")n.__name=M;n.classID=dR.rj(D,_);
if(b)console.log("\t".repeat(w),"- reading descriptor",n.classID,_);_+=dR.Ks(D,_);var a=j.H8(D,_);_+=4;
for(var k=0;k<a;k++){var o=dR.rj(D,_);_+=dR.Ks(D,_);var U=dR.We(D,_,b,w);n[o]=U;_+=U.size;delete U.size}return _-i};
dR._l=function(D,n,_,b){var w=_,i=n.__name;if(i==null)i="";i+="\0";j.gF(D,_,i);_+=4+2*i.length;dR.CA(D,_,n.classID);
_+=dR.Ks(D.data,_);j.fM(D,_,Object.keys(n).length-1-(n.__name==null?0:1));_+=4;for(var M in n){if(M=="classID")continue;
if(M=="__name")continue;dR.CA(D,_,M);_+=dR.Ks(D.data,_);_+=dR.tF(D,_,n[M])}return _-w};dR.We=function(D,n,_,b){var w=n,i=j.gw(D,n,4);
n+=4;var M={size:0,t:i,v:null};if(_)console.log("\t".repeat(b),"reading key",i,w);switch(i){case"obj ":case"VlLs":M.v=[];
var N=j.n(D,n);n+=4;for(var k=0;k<N;k++){var a=dR.We(D,n,_,b+1);n+=a.size;delete a.size;M.v.push(a)}break;
case"UntF":M.v={type:j.gw(D,n,4),val:j.Sm(D,n+4)};n+=12;break;case"doub":M.v=j.Sm(D,n);n+=8;break;case"bool":M.v=D[n]==1;
n+=1;break;case"long":M.v=j.H8(D,n);n+=4;break;case"comp":M.v=j.H8(D,n+4);n+=8;break;case"Objc":M.v={};
var o=dR.v9(D,M.v,n,_,b+1);n+=o;break;case"TEXT":var U=j.n(D,n);if(U==0){M.v="";n+=4}else{M.v=j.Kp(D,n);
n+=4+M.v.length*2+2}break;case"enum":var V=dR.rj(D,n);n+=dR.Ks(D,n);var c=dR.rj(D,n);n+=dR.Ks(D,n);M.v={};
M.v[V]=c;break;case"tdta":var E=j.H8(D,n);n+=4;M.v=[];for(var k=0;k<E;k++)M.v.push(D[n+k]);n+=E;break;
case"ObAr":var A=j.n(D,n);n+=4;var Q=j.Kp(D,n);n+=4+2*Q.length+2;if(Q!="")throw Q;var J=dR.rj(D,n);n+=4+Math.max(4,J.length);
M.v={classID:J,arr:[]};var L=j.n(D,n);n+=4;for(var k=0;k<L;k++){var J=dR.rj(D,n);n+=4+Math.max(4,J.length);
var V=j.gw(D,n,4);n+=4;var P=j.gw(D,n,4);n+=4;var u={id:J,type:V,uID:P,arr:[]};M.v.arr.push(u);var m=j.n(D,n,4);
n+=4;for(var x=0;x<m;x++){var v=j.Sm(D,n);n+=8;u.arr.push(v)}}break;case"Pth ":var W=n,E=j.n(D,n);n+=4;
var Z=j.gw(D,n,4);n+=4;var r=j.c7(D,n);n+=4;var X=j.apY(D,n);n+=4+X.length*2;M.v={sig:Z,pth:X};break;
case"Clss":case"type":case"rele":var X=j.Kp(D,n);n+=4+X.length*2+2;var $=dR.rj(D,n);n+=4+Math.max(4,$.length);
M.v={classID:$};if(X!="")M.v.__name=X;if(i=="rele"){M.v.val=j.H8(D,n);n+=4}break;case"prop":case"Enmr":case"indx":case"name":var I=dR.WR[i],X=j.Kp(D,n);
n+=4+X.length*2+2;if(X.length!=0){console.log(i,X);throw"e"}M.v={};for(var k=0;k<I.length;k++){var $=dR.rj(D,n);
n+=4+Math.max(4,$.length);M.v[I[k]]=$}if(i=="name"){var X=j.Kp(D,n);n+=4+X.length*2+2;M.v.val=X}if(i=="indx"){M.v.val=j.n(D,n);
n+=4}break;case"alis":var E=j.n(D,n);n+=4;M.v=j.gw(D,n,E);n+=E;break;default:{console.log("unknown oskey: "+i+", "+w);
throw"e";return M}}if(_){console.log("\t".repeat(b),M.v);console.log("\t".repeat(b),"======",n)}M.size=n-w;
return M};dR.WR={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
dR.tF=function(D,n,_){var b=n,w=_.t;_=_.v;j.lK(D,n,w);n+=4;switch(w){case"obj ":case"VlLs":j.fM(D,n,_.length);
n+=4;for(var i=0;i<_.length;i++){var M=dR.tF(D,n,_[i]);n+=M}break;case"UntF":j.lK(D,n,_.type);j.TW(D,n+4,_.val);
n+=12;break;case"doub":j.TW(D,n,_);n+=8;break;case"bool":j.VD(D,n,_?1:0,1);n+=1;break;case"long":j.fM(D,n,_);
n+=4;break;case"comp":j.fM(D,n+4,_);n+=8;break;case"Objc":var M=dR._l(D,_,n);n+=M;break;case"TEXT":j.gF(D,n,_+"\0");
n+=4+_.length*2+2;break;case"enum":var N=Object.keys(_)[0],a=_[N];dR.CA(D,n,N);n+=dR.Ks(D.data,n);dR.CA(D,n,a);
n+=dR.Ks(D.data,n);break;case"tdta":j.GS(D,n,_.length);n+=4;j.Ct(D,n,_);n+=_.length;break;case"ObAr":j.GS(D,n,_.arr[0].arr.length);
n+=4;j.gF(D,n,"\0");n+=6;dR.CA(D,n,_.classID);n+=4+Math.max(4,_.classID.length);j.GS(D,n,_.arr.length);
n+=4;for(var k=0;k<_.arr.length;k++){var o=_.arr[k];dR.CA(D,n,o.id);n+=4+Math.max(4,o.id.length);j.lK(D,n,o.type);
n+=4;j.lK(D,n,o.uID);n+=4;j.GS(D,n,o.arr.length);n+=4;for(var i=0;i<o.arr.length;i++){j.TW(D,n,o.arr[i]);
n+=8}}break;case"Pth ":var U=_.pth.length*2+4+8;j.GS(D,n,U);n+=4;j.lK(D,n,_.sig);n+=4;j.sN(D,n,U);n+=4;
j.as$(D,n,_.pth);n+=_.pth.length*2+4;break;case"Clss":case"type":case"rele":var V=_.__name;if(V==null)V="";
j.gF(D,n,V+"\0");n+=4+V.length*2+2;var c=_.classID;dR.CA(D,n,c);n+=4+Math.max(4,c.length);if(w=="rele"){j.fM(D,n,_.val);
n+=4}break;case"prop":case"Enmr":case"indx":case"name":var E=dR.WR[w];j.GS(D,n,1);n+=6;for(var k=0;k<E.length;
k++){var c=_[E[k]];dR.CA(D,n,c);n+=4+Math.max(4,c.length)}if(w=="name"){j.gF(D,n,_.val+"\0");n+=4+_.val.length*2+2}if(w=="indx"){j.GS(D,n,_.val);
n+=4}break;case"alis":var U=_.length;j.GS(D,n,U);n+=4;j.lK(D,n,_);n+=U;break;default:console.log("unknown oskey: "+w);
n=b;break}return n-b};dR.rj=function(D,n){var _=j.H8(D,n);if(_>1e3)throw"e";if(_==0)_=4;return j.gw(D,n+4,_).trim()};
dR.Ks=function(D,n){var _=j.H8(D,n);return _==0?8:4+_};dR.CA=function(D,n,_){var b="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),w=4<_.length||b.indexOf(_)!=-1;
j.fM(D,n,w?_.length:0);j.lK(D,n+4,_);if(_.length<4&&!w){var i="";for(var k=_.length;k<4;k++)i+=" ";j.lK(D,n+4+_.length,i)}};
dR.ado=function(D){var n={};for(var _ in D){if(_=="classID")n[_]=D[_];else if(_=="__name")n[_]=D[_];
else n[_]=dR.J0(D[_])}return n};dR.J0=function(D){if(D.hH=="Objc")return dR.ado(D.v);else if(D.hH=="VlLs"){var n=[];
for(var k=0;k<D.v.length;k++)n.push(dR.J0(D.v[k]));return n}else if(D.hH=="UntF")return D.v.val;else return D.v};
function cL(){}cL.g4=function(D,n,_,b,w,i){while(n<_){var M=j.gw(D,n,4);n+=4;if(M!="8BIM"&&M!="8B64"){console.log("layer information signature error! "+M,"PSB = "+w);
alert("Error in PSD file: wrong signature.");return _}var N=j.gw(D,n,4);n+=4;var a=j.n(D,n);n+=4;var o=w&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(N)!=-1;
if(o){a=a<<32|j.H8(D,n);n+=4}var U=["lrFX","PlLd"];if(U.indexOf(N)!=-1){if(a%4!=0)a+=4-a%4;n+=a;continue}switch(N){case"iOpa":b[N]=D[n];
break;case"brst":b[N]=[1,1,1];for(var k=0;k<a;k+=4)b[N][j.n(D,n+k)]=0;break;case"knko":b[N]=D[n];break;
case"infx":b[N]=D[n];break;case"clbl":b[N]=D[n];break;case"lmgm":b[N]=D[n];break;case"vmgm":b[N]=D[n];
break;case"lyid":b[N]=j.n(D,n);break;case"lsct":b[N]={type:j.n(D,n)};if(a>=12)b[N].QQ=j.gw(D,n+8,4);
break;case"lsdk":b.lsct={type:j.n(D,n)};break;case"lyvr":b[N]=j.n(D,n);break;case"lnsr":var V={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
b[N]=j.gw(D,n,4);break;case"lspf":b[N]=j.n(D,n);break;case"lclr":b[N]=j.UH(D,n);break;case"luni":b[N]=j.e0(D,n);
break;case"fxrp":b[N]=new gZ(j.Sm(D,n),j.Sm(D,n+8));break;case"artb":case"artd":b[N]={};dR.v9(D,b[N],n+4);
break;case"SoCo":b[N]={};dR.v9(D,b[N],n+4);break;case"GdFl":b[N]={};dR.v9(D,b[N],n+4);cL.MC(b[N],N);
break;case"PtFl":b[N]={};dR.v9(D,b[N],n+4);cL.MC(b[N],N);break;case"CgEd":var c=b.brit=cq.D2("brit"),E={};
dR.v9(D,E,n+4);c.Brgh.v=E.Brgh?E.Brgh.v:0;c.Cntr.v=E.Cntr?E.Cntr.v:0;c.useLegacy.v=E.useLegacy?E.useLegacy.v:0;
break;case"brit":if(b.brit==null){var c=b.brit=cq.D2("brit"),E={};c.Brgh.v=j.Ss(D,n);c.Cntr.v=j.Ss(D,n+2);
c.useLegacy.v=!1}break;case"levl":var A=D.buffer.slice(n,n+a);b[N]=jA.Z6(A);break;case"curv":b[N]=jx.$h(D,n,a);
break;case"expA":var Q=j.UH(D,n),J=b[N]=cq.D2("expA");J.Exps.v=j.Qy(D,n+2);J.Ofst.v=j.Qy(D,n+6);J.gammaCorrection.v=j.Qy(D,n+10);
break;case"vibA":b[N]={};dR.v9(D,b[N],n+4);break;case"hue2":b[N]=bE.$h(D,n,a);break;case"blnc":var J=b[N]=cq.D2(N);
J.PrsL.v=D[n+18]==1;var L=["ShdL","MdtL","HghL"];for(var k=0;k<3;k++)for(var P=0;P<3;P++)J[L[k]].v[P].v=j.Ss(D,n+k*6+P*2);
break;case"blwh":var u={};dR.v9(D,u,n+4);var J=cq.D2(N),m="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var k=0;k<m.length;k++){J[m[k]]=u[m[k]];delete u[m[k]]}b[N]=J;break;case"phfl":var J=b[N]=cq.D2(N),x=J.Clr.v,Q=j.UH(D,n);
if(Q==3){var v=[j.n(D,n+2),j.n(D,n+6),j.n(D,n+10)],W=32768,Z=B.KW(v[0]/W,v[1]/W,v[2]/W);x.Lmnc.v=Z.ue;
x.A.v=Z.vd;x.B.v=Z.S}if(Q==2){var r=j.UH(D,n+2);if(r!=7)throw"e";x.Lmnc.v=j.Ss(D,n+4)/100;x.A.v=j.Ss(D,n+6)/100;
x.B.v=j.Ss(D,n+8)/100}var X=n+2+(Q==3?12:10);J.Dnst.v=j.n(D,X);X+=4;J.PrsL.v=D[X]==1;break;case"mixr":var $={YH:j.UH(D,n+2)==1,k:[]};
for(var k=0;k<20;k++)$.k.push(j.Ss(D,n+4+k*2));b[N]=fg.KR($);break;case"clrL":case"rplc":b[N]={};dR.v9(D,b[N],n+6);
break;case"nvrt":b[N]={};break;case"post":b[N]=cq.D2("post");b[N].Lvls.v=j.UH(D,n);break;case"thrs":b[N]=cq.D2("thrs");
b[N].Lvl.v=j.UH(D,n);break;case"grdm":var I=n,T=D[n+2]==1,e=D[n+3]==1;I+=4;var F=j.e0(D,I);I+=4+F.length*2;
var y=eY.u4(D,I,F),h=y[0];I=y[1];var Y=j.UH(D,I);I+=2;var K=j.n(D,I);I+=4;var z=j.UH(D,I)==1;I+=2;var f=j.UH(D,I)==1;
I+=2;var s=j.n(D,I);I+=4;var l=j.UH(D,I);I+=2;var g=[],H=[];for(var k=0;k<4;k++){g.push({t:"long",v:~~(j.UH(D,I+k*2)*100/32768)});
H.push({t:"long",v:~~(j.UH(D,I+k*2+8)*100/32768)})}I+=16;var O=j.UH(D,I);I+=2;if(Y==1)h={classID:"Grdn",Nm:{t:"TEXT",v:F},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:z},VctC:{t:"bool",v:f},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:K},Smth:{t:"long",v:s},Mnm:{t:"VlLs",v:g},Mxm:{t:"VlLs",v:H}};
var C=cq.D2("grdm");C.Rvrs.v=T;C.Grad.v=h;b[N]=C;break;case"selc":b[N]=c$.$h(D,n,a);break;case"vmsk":case"vsms":var ib=b.vmsk=new q.IQ,hH=j.H8(D,n+4),R=(hH>>0&1)==1;
ib.c9=(hH>>1&1)==0;ib.isEnabled=(hH>>2&1)==0;ib.Y=cR.aa(D,n+8,a-8,i.l,i.e);break;case"shmd":b[N]={};
var fR=j.n(D,n),X=n+4;for(var k=0;k<fR;k++){var M=j.gw(D,X,4);X+=4;var j4=j.gw(D,X,4);X+=4;var cP=D[X];
X++;if(Math.max(D[X],D[X+1])!=0)throw"e";X+=3;var a8=j.n(D,X);X+=4;if(j4=="cust"||j4=="cmls"||j4=="extn"||j4=="mlst"){var d0=j.n(D,X);
if(d0!=16)X+=4;if(j.n(D,X)==16){var u={};dR.v9(D,u,X+4,!1);b[N][j4]=u;if(j4=="cmls")G.ec.abc(b[N][j4])}}else{console.log("unknown shmd key: "+j4+", size: "+a8)}X+=a8}break;
case"shpa":var Q=j.n(D,n),b9=j.n(D,n+4);if(b9!=0)console.log("some patterns present!");break;case"TySh":var jG=b[N]={},Q=j.UH(D,n);
jG.A=j.pl(D,n+2);var jP=j.UH(D,n+2+48);jG.CZ={};var aq=dR.v9(D,jG.CZ,n+56),gM=jg.a37();for(var gv in gM)if(jG.CZ[gv]==null)jG.CZ[gv]=gM[gv];
jG.Kv={};var dT=dR.v9(D,jG.Kv,n+56+aq+6);jG.dI=j.a6_(D,n+56+aq+6+dT);jG.uP=jl.Z6(jG.CZ.EngineData.v);
jg.arN(jG.uP.EngineDict.StyleRun.RunArray);if(jG.uP.ResourceDict==null)jG.uP.ResourceDict=JSON.parse(JSON.stringify(jG.uP.DocumentResources));
delete jG.CZ.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var aC=j.n(D,n),c1=j.n(D,n+4);b.lmfx={};
var aq=dR.v9(D,b.lmfx,n+8);cL.cH(b.lmfx);break;case"FMsk":b[N]=j.ls(D,n,a);break;case"Txt2":b[N]={};
b[N].raw=j.ls(D,n,a);b[N].a0=gV.Z6(b[N].raw);break;case"Patt":b[N]=aX.Z5(D,n,a);break;case"SoLd":var aj=j.gw(D,n,4),bD=j.n(D,n+4),cy=j.n(D,n+8);
b[N]={};var co=dR.v9(D,b[N],n+12);if(b[N].nonAffineTransform==null)b[N].nonAffineTransform=JSON.parse(JSON.stringify(b[N].Trnf));
if(b[N].Impr==null)b[N].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var bD=j.n(D,n);
b[N]={};var co=dR.v9(D,b[N],n+4);break;case"vscg":var j4=j.gw(D,n,4),bD=j.n(D,n+4);b[j4]={};var co=dR.v9(D,b[j4],n+8);
cL.MC(b[j4],j4);break;case"vogk":var hV=j.n(D,n),bD=j.n(D,n+4);b[N]={};var co=dR.v9(D,b[N],n+8);b[N]=b[N].keyDescriptorList.v;
for(var k=0;k<b[N].length;k++){var il=b[N][k].v;if(!B.dd.Zv(il))continue;if(il.keyOriginBoxCorners==null){var h6=B.dd.$Z(il);
il.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var c8=[h6[0],h6[1],h6[2],h6[1],h6[2],h6[3],h6[0],h6[3]];
if(il.keyOriginType.v==4)c8=B.dd.jt(B.dd.yd(il),il.keyOriginLineWeight.v);B.dd.J_(il,"keyOriginBoxCorners",c8)}}break;
case"lnk2":case"lnkD__":case"lnk3__":b[N]=[];var I=n;while(I<n+a){var fx=new q.TZ;b[N].push(fx);var bU=j.zo(D,I);
I+=8;var b6=I;fx.type=j.gw(D,I,4);I+=4;if(fx.type!="liFD"){alert("Unknown Linked Layer type: "+fx.type);
break;throw fx.type}fx.cW=j.n(D,I);I+=4;var iF=j.IB(D,I);I+=1+iF.Cb.length;fx.Vn=iF.Cb;fx.UP=j.Kp(D,I);
I+=4+fx.UP.length*2+2;fx.p5=j.gw(D,I,4);I+=4;fx.Ow=j.gw(D,I,4);I+=4;var dY=j.zo(D,I);I+=8;fx.open=D[I];
I+=1;if(fx.open!=0){var bl={},aq=dR.v9(D,bl,I+4);if(aq%4!=0)aq+=4-aq%4;console.log(bl);I+=aq+4}fx.open=0;
fx.raw=j.ls(D,I,dY);I=b6+bU;if(bU%4!=0)I+=4-bU%4}break;case"FEid":var I=n;b[N]=[];var dc=I+a,Q=j.n(D,I);
I+=4;while(I<dc){I+=4;var bU=j.n(D,I);I+=4;var y={};b[N].push(y);y.id=j.IB(D,I).Cb;I+=y.id.length+1;
var Q=j.n(D,I);I+=4;I+=4;var hN=j.n(D,I);I+=4;y.rect=j.bV(D,I);I+=16;var ga=j.n(D,I);I+=4;var b1=j.n(D,I);
I+=4;var fc=new B.YV(0);for(var k=0;k<b1+2;k++){var h9=j.n(D,I);I+=4;if(h9!=0){I+=4;var cB=j.n(D,I),bp=null;
I+=4;if(k<3||k==25)bp=f8.u$(!0,ga,D,y.rect.l,y.rect.e,I,cB);if(k==0)fc.p=bp;if(k==1)fc.z=bp;if(k==2)fc.S=bp;
if(k==25)fc.vd=bp;I+=cB}}y.buffer=B.U(y.rect.u()*4);B.wq(fc,y.buffer);B.NQ(y);var eK=D[I];I++;if(eK!=0){y.v=new q.$L;
y.v.rect=j.bV(D,I);I+=16;I+=4;var fm=j.n(D,I);I+=4;y.v.channel=f8.u$(!0,ga,D,y.v.rect.l,y.v.rect.e,I,fm);
y.v.color=255;y.v.B2();I+=fm}if(bU%4!=0)I+=4-bU%4}break;case"Lr16":e2.ji(i,D,n);break;case"Anno":b[N]=[];
var fG=n,ia=n+4,b9=j.n(D,ia);ia+=4;for(var k=0;k<b9;k++){var bU=j.n(D,ia);ia+=4;var iz=j.gw(D,ia,4);
ia+=4;if(iz!="txtA")throw iz;var gG=D[ia++],eA=D[ia++],d3=j.UH(D,ia);ia+=2;var cY=j.bV(D,ia);ia+=16;
var ch=j.bV(D,ia);ia+=16;var x=hy.RC(D,ia);ia+=10;var fS=j.IB(D,ia);ia+=fS.length;var fy=j.IB(D,ia);
ia+=fy.length;var ar=j.IB(D,ia);ia+=ar.length;var aM=j.n(D,ia);ia+=4;var aU=j.gw(D,ia,4);ia+=4;var f0=j.n(D,ia);
ia+=4;var eV=j.D3(D,ia+2,f0-2>>1);ia+=f0;b[N].push([cY.x,cY.y,x,fS.Cb,eV])}break;default:break}var ex="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(ex.indexOf(N)==-1)if(a%4!=0)console.log("size not multiple of 4!!!",N);if(N!="luni"&&N!="TySh"&&N!="tySh"&&N!="lfx2")if(a%4!=0)a+=4-a%4;
n+=a}var gx=[];for(var k=0;k<gx.length;k++)delete b[gx[k]];return n};cL.uS=function(D,n,_,b,w){for(var i in _)if(_[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete _[i]}for(var i in _){var M=b&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,a=0;
j.lK(D,n,M?"8B64":"8BIM");n+=4;var N=n;j.lK(D,n,i);n+=4;j.fM(D,n,0);n+=M?8:4;switch(i){case"iOpa":j.VD(D,n,_[i],1);
a=4;break;case"brst":a=0;for(var k=0;k<3;k++)if(_[i][k]==0){j.GS(D,n+a,k);a+=4}break;case"knko":j.VD(D,n,_[i],1);
a=4;break;case"infx":j.VD(D,n,_[i],1);a=4;break;case"clbl":j.VD(D,n,_[i],1);a=4;break;case"lmgm":j.VD(D,n,_[i],1);
a=4;break;case"vmgm":j.VD(D,n,_[i],1);a=4;break;case"lyid":j.GS(D,n,_[i]);a=4;break;case"lsct":j.GS(D,n,_[i].type);
a=4;if(_[i].QQ){j.lK(D,n+4,"8BIM");j.lK(D,n+8,_[i].QQ);a=12}break;case"lyvr":j.GS(D,n,_[i]);a=4;break;
case"lnsr":j.lK(D,n,_[i]);a=4;break;case"lspf":j.GS(D,n,_[i]);a=4;break;case"lclr":j.kn(D,n,_[i]);a=8;
break;case"luni":j.gF(D,n,_[i]);a=4+2*_[i].length;break;case"fxrp":j.TW(D,n,_[i].x);j.TW(D,n+8,_[i].y);
a=16;break;case"artb":case"artd":j.GS(D,n,16);a=dR._l(D,_[i],n+4)+4;break;case"SoCo":j.GS(D,n,16);a=dR._l(D,_[i],n+4)+4;
break;case"GdFl":j.GS(D,n,16);a=dR._l(D,_[i],n+4)+4;break;case"PtFl":j.GS(D,n,16);a=dR._l(D,_[i],n+4)+4;
break;case"CgEd":var o={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},U=o,V=_[i];
U.Brgh.v=V.Brgh.v;U.Cntr.v=V.Cntr.v;U.useLegacy.v=V.useLegacy.v;j.GS(D,n,16);a=dR._l(D,o,n+4)+4;break;
case"brit":D.Mz(n,8);a=8;break;case"levl":var c=new bF;a=jA.Jz(c,_[i]);j.Ct(D,n,c.data);break;case"curv":a=jx.nN(D,n,_[i]);
break;case"expA":a=14;D.Mz(n,14);j.Pc(D.data,n,1);j.oz(D.data,n+2,_[i].Exps?_[i].Exps.v:0);j.oz(D.data,n+6,_[i].Ofst?_[i].Ofst.v:0);
j.oz(D.data,n+10,_[i].gammaCorrection?_[i].gammaCorrection.v:1);break;case"vibA":j.GS(D,n,16);a=dR._l(D,_[i],n+4)+4;
break;case"hue2":a=bE.nN(D,n,_[i]);break;case"blnc":a=19;D.Mz(n,a);var E=["ShdL","MdtL","HghL"];for(var k=0;
k<3;k++){var A=_[i][E[k]].v;for(var Q=0;Q<3;Q++)A.push(j.O7(D.data,n+k*6+Q*2,A[Q].v))}D.data[n+18]=_[i].PrsL.v?1:0;
break;case"blwh":var o={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},J="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var k=0;k<J.length;k++){o[J[k]]=_[i][J[k]]}j.GS(D,n,16);a=dR._l(D,o,n+4)+4;break;case"phfl":j.kn(D,n,2);
var L=_[i].Clr.v;j.kn(D,n+2,7);j.kn(D,n+4,Math.round(L.Lmnc.v*100));j.kn(D,n+6,Math.round(L.A.v*100));
j.kn(D,n+8,Math.round(L.B.v*100));j.kn(D,n+10,0);var P=n+2+10;D.Mz(P,5);j.GW(D.data,P,_[i].Dnst.v);P+=4;
D.data[P]=_[i].PrsL.v?1:0;P++;a=P-n;break;case"mixr":a=44;D.Mz(n,a);var u=fg.Ip(_[i]);j.Pc(D.data,n,1);
j.Pc(D.data,n+2,u.YH?1:0);for(var k=0;k<20;k++)j.O7(D.data,n+4+k*2,u.k[k]);break;case"clrL":case"rplc":j.kn(D,n,1);
j.GS(D,n+2,16);a=dR._l(D,_[i],n+6)+6;break;case"nvrt":a=0;break;case"post":j.kn(D,n,_[i].Lvls.v);a=2;
break;case"thrs":j.kn(D,n,_[i].Lvl.v);a=2;break;case"grdm":var m=_[i].Rvrs?_[i].Rvrs.v:!1,x=!1,v=867527939,W=!1,Z=!1,r=2048,X=[0,0,0,0],$=[32768,32768,32768,32768],I=_[i].Grad.v,T,e,F=I.Clrs==null?1:0;
if(F==0){T=I;e=JSON.parse(ci.UC.auk).v}else{T=cq.D2("grdm").Grad.v;e=I}D.Mz(n,4);j.Pc(D.data,n,1);D.data[n+2]=m?1:0;
D.data[n+3]=x?1:0;var y=n+4;j.gF(D,y,I.Nm.v);y+=4+I.Nm.v.length*2;y=eY.aoU(D,y,T);j.kn(D,y,F);y+=2;j.GS(D,y,e.RndS.v);
y+=4;j.kn(D,y,e.ShTr.v?1:0);y+=2;j.kn(D,y,e.VctC.v?1:0);y+=2;j.GS(D,y,e.Smth.v);y+=4;j.kn(D,y,3);y+=2;
for(var k=0;k<4;k++)j.kn(D,y+k*2,X[k]);y+=8;for(var k=0;k<4;k++)j.kn(D,y+k*2,$[k]);y+=8;y+=2;a=y-n;break;
case"selc":a=c$.nN(D,n,_[i]);break;case"FMsk":j.Ct(D,n,_[i]);a=_[i].length;break;case"Txt2":var h=new bF,Y=gV.dK(_[i].a0,h),K=B.U(Y,!0);
for(var k=0;k<Y;k++)K[k]=h.data[k];j.Ct(D,n,K);a=K.length;break;case"vmsk":var z=_[i],f=0;j.GS(D,n,3);
if(!z.c9)f+=1<<1;if(!z.isEnabled)f+=1<<2;j.GS(D,n+4,f);a=8;var s=z.Y.length;D.Mz(n+8,s*26);cR.C_(D.data,n+8,z.Y,w.l,w.e);
a+=s*26;break;case"shmd":j.GS(D,n,Object.keys(_[i]).length);var P=n+4;for(var l in _[i]){j.lK(D,P,"8BIM");
P+=4;j.lK(D,P,l);P+=4;j.GS(D,P,0);P+=4;j.GS(D,P,0);P+=4;j.GS(D,P,16);P+=4;var g=dR._l(D,_[i][l],P);if(g%4!=0)g+=4-g%4;
j.GS(D,P-8,g+4);P+=g}a=P-n;break;case"TySh":var P=n;j.V1(D,P,1);P+=2;var H=_[i],h=new bF;H.uP.DocumentResources=JSON.parse(JSON.stringify(H.uP.ResourceDict));
var Y=jl.dK(H.uP,h),K=B.U(Y,!0);for(var k=0;k<Y;k++)K[k]=h.data[k];H.CZ.EngineData={t:"tdta",v:K};var O=H.uP.EngineDict.Editor.Text;
H.CZ.Txt.v=O.substring(0,O.length-1);j.aau(D,P,H.A);P+=48;j.V1(D,P,50);P+=2;j.GS(D,P,16);P+=4;P+=dR._l(D,H.CZ,P);
j.V1(D,P,1);P+=2;j.GS(D,P,16);P+=4;P+=dR._l(D,H.Kv,P);j.ase(D,P,H.dI);P+=16;a=P-n;break;case"lmfx":j.GS(D,n,0);
j.GS(D,n+4,16);var o=JSON.parse(JSON.stringify(_[i])),C=!1;cL.Ob(o);for(var k=0;k<ci.L0.length;k++)if(o[ci.L0[k]]!=null)C=!0;
j.lK(D,N,C?"lmfx":"lfx2");a=dR._l(D,o,n+8)+8;break;case"Patt":var P=aX.hg(D,n,_[i]);a=P-n;break;case"SoLd":j.lK(D,n,"soLD");
j.GS(D,n+4,4);j.GS(D,n+8,16);a=dR._l(D,_[i],n+12)+12;break;case"vstk":case"pths":j.GS(D,n,16);a=dR._l(D,_[i],n+4)+4;
break;case"vscg__":j.lK(D,n,_[i].key);j.GS(D,n+4,16);a=dR._l(D,_[i].k,n+8)+8;break;case"vogk":j.GS(D,n,1);
j.GS(D,n+4,16);B.dd.ats(_[i]);for(var k=0;k<_[i].length;k++){var ib=_[i][k].v.keyOriginResolution;if(ib)ib.v=w.Cn}var hH={classID:"null",keyDescriptorList:{t:"VlLs",v:_[i]}};
a=dR._l(D,hH,n+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var y=n;for(var k=0;k<_[i].length;k++){var R=_[i][k],fR=y;
j.SE(D,y,0);y+=8;j.lK(D,y,R.type);y+=4;j.GS(D,y,R.cW);y+=4;D.Mz(y,1);D.data[y]=R.Vn.length;y++;j.lK(D,y,R.Vn);
y+=R.Vn.length;j.gF(D,y,R.UP+"\0");y+=4+R.UP.length*2+2;j.lK(D,y,R.p5);y+=4;j.lK(D,y,R.Ow);y+=4;j.SE(D,y,R.raw.length);
y+=8;D.Mz(y,1);D.data[y]=R.open;y++;j.Ct(D,y,R.raw);y+=R.raw.length;j.GS(D,y,1);y+=4;y+=11;var j4=y-fR-8;
j.SE(D,fR,j4);if(j4%4!=0){D.Mz(y,4-j4%4);y+=4-j4%4}}a=y-n;break;case"FEid":var y=n;j.GS(D,y,3);y+=4;
for(var cP=0;cP<_[i].length;cP++){var a8=_[i][cP];y+=4;var d0=y;y+=4;j.OV(D,y,a8.id);y+=a8.id.length+1;
j.GS(D,y,1);y+=4;var b9=B.U(a8.rect.u()),jG=a8.rect,jP=B.U(jG.u());y+=4;var aq=y;y+=4;j.Aw(D,y,jG);y+=16;
j.GS(D,y,8);y+=4;j.GS(D,y,24);y+=4;for(var k=0;k<24+2;k++){var gM=-1;if(k==0)gM=0;if(k==1)gM=1;if(k==2)gM=2;
if(k==25)gM=3;j.GS(D,y,gM!=-1?1:0);y+=4;if(gM!=-1){B.Ef(a8.buffer,b9,gM);B.I4(b9,a8.rect,jP,jG);y+=4;
var gv=y;y+=4;D.Mz(y,jG.u()+2);y=f8.S2(!0,jP,D.data,jG.l,jG.e,y,3);j.GS(D,gv,y-(gv+4))}}j.GS(D,aq,y-(aq+4));
D.Mz(y,1);D.data[y]=a8.v?1:0;y++;if(a8.v!=null){var dT=jG,aC=B.U(dT.u());aC.fill(a8.v.color);B.I4(a8.v.channel,a8.v.rect,aC,dT);
j.Aw(D,y,dT);y+=16;y+=4;var c1=y;y+=4;D.Mz(y,dT.u()+2);y=f8.S2(!0,aC,D.data,dT.l,dT.e,y,3);j.GS(D,c1,y-(c1+4))}var j4=y-(d0+4);
j.GS(D,d0,j4);if(j4%4!=0)y+=4-j4%4}a=y-n;break;case"Anno":var aj=n,bD=_[i].length;j.kn(D,aj,2);j.kn(D,aj+2,1);
aj+=4;j.GS(D,aj,bD);aj+=4;for(var k=0;k<bD;k++){var cy=_[i][k],co=cy[0],hV=cy[1],il=aj;aj+=4;j.lK(D,aj,"txtA");
aj+=4;D.Mz(aj,2);D.data[aj]=1;D.data[aj+1]=28;aj+=2;j.kn(D,aj,1);aj+=2;j.Aw(D,aj,new gl(co,hV,17,21));
aj+=16;j.Aw(D,aj,new gl(co+8,hV+10,241,141));aj+=16;D.Mz(aj,10);hy.yY(D.data,aj,cy[2]);aj+=10;aj+=j.OV(D,aj,cy[3]);
aj+=j.OV(D,aj,"");aj+=j.OV(D,aj,"D:20211012120233+01'00'");var h6=cy[4].length*2;j.GS(D,aj,12+2+h6);
aj+=4;j.lK(D,aj,"txtC");aj+=4;j.GS(D,aj,2+h6);aj+=4;D.Mz(aj,2);D.data[aj]=254;D.data[aj+1]=255;aj+=2;
j.amS(D,aj,cy[4]);aj+=h6;j.GS(D,il,aj-il)}a=aj-n;break;default:console.log("unknown layer tag: "+i+", size: "+a);
n-=12;continue}var c8=["Txt2","artd","extd","pths"];if(c8.indexOf(i)==-1)if(a%4!=0)a+=4-a%4;if(M)j.SE(D,n-8,a);
else j.GS(D,n-4,a);if(i!="luni"&&i!="TySh")if(a%4!=0)a+=4-a%4;n+=a}return n};cL.cH=function(D){for(var k=0;
k<ci.order.length;k++){var n=ci.order[k],_=ci.L0[k];if(D[_]==null)D[_]={t:"VlLs",v:[]};if(D[n]!=null){D[_].v.push(D[n]);
delete D[n]}var b=[];for(var w=0;w<D[_].v.length;w++){var i=D[_].v[w];if(i.v.present==null||i.v.present.v==!0)b.push(i)}D[_].v=b}};
cL.Ob=function(D){for(var k=0;k<ci.order.length;k++){var n=ci.order[k],_=ci.L0[k],b=D[_].v.length;if(b==0){delete D[_];
continue}if(b==1){D[n]=D[_].v[0];delete D[_];continue}}};cL.MC=function(D,n){if(n=="GdFl"){if(D.Angl==null)D.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(D.Algn==null)D.Algn={v:!0,t:"bool"};if(D.Scl==null)D.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(D.Ofst==null)D.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(D.Rvrs==null)D.Rvrs={v:!1,t:"bool"};if(D.Dthr==null)D.Dthr={v:!1,t:"bool"}}if(n=="PtFl"){if(D.Algn==null)D.Algn={v:!0,t:"bool"};
if(D.Angl==null)D.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(D.Scl==null)D.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(D.phase==null)D.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};cL.clone=function(D,n){var _={};
if(D=="TySh"){_.A=n.A.clone();_.CZ=JSON.parse(JSON.stringify(n.CZ));_.Kv=JSON.parse(JSON.stringify(n.Kv));
_.dI=n.dI.clone();_.uP=JSON.parse(JSON.stringify(n.uP));if(n.add)_.add={vmsk:n.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(n.add.vogk))};
return _}else if(D=="fxrp")return n.clone();else if(D=="vmsk")return n.clone();else return JSON.parse(JSON.stringify(n))};
function ir(D,n){}ir.Z6=function(D,n,_,b){b=ir.a0d(D,n,_,b);return b};ir.dK=function(D,n,_,b,w){b=ir.alr(D,n,_,b,w);
return b};ir.a0d=function(D,n,_,b){var w=b;D.rect=j.bV(_,b);b+=16;var i=j.UH(_,b);b+=2;D.tH=[];var M=n.cX;
for(var k=0;k<i;k++){D.tH[k]={id:j.Ss(_,b),length:(M?j.zo:j.n)(_,b+2)};b+=M?10:6}var N=j.gw(_,b,4);b+=4;
if(N!="8BIM"){console.log("Invalid Blend mode signature: "+N);alert("Error in Photoshop file: wrong signature.");
throw"e"}D.QQ=j.gw(_,b,4);b+=4;D.opacity=_[b];b+=1;D.kF=_[b]==1;b+=1;D.VN=_[b];b+=1;if(_[b]!=0)console.log("error in filler!");
b+=1;var a=j.n(_,b);b+=4;var o=b;b=ir.atk(D,_,b);b=ir.a90(D,_,b);var U=j.IB(_,b);D.name=U.Cb;b+=U.length;
if(U.length%4!=0)b+=4-U.length%4;b=cL.g4(_,b,o+a,D.add,M,n);if(D.add.lsct){if(D.add.lsct.QQ)D.QQ=D.add.lsct.QQ;
D.add.lsct=D.add.lsct.type}return b};ir.alr=function(D,n,_,b,w){var i=b;j.Aw(_,b,D.rect);b+=16;var M=D.fY();
j.kn(_,b,M.length);b+=2;var N=n.cX;w.push(b);for(var k=0;k<M.length;k++){j.V1(_,b,M[k]);if(N)j.SE(_,b+2,0);
else j.GS(_,b+2,0);b+=N?10:6}j.lK(_,b,"8BIM");b+=4;j.lK(_,b,D.QQ);b+=4;j.VD(_,b,D.opacity,1);b+=1;j.VD(_,b,D.kF?1:0,1);
b+=1;j.VD(_,b,D.VN,1);b+=1;j.VD(_,b,0,1);b+=1;var a=b;j.GS(_,b,0);b+=4;var o=b;b=ir.a6c(D,_,b);b=ir.anr(D,_,b);
var U=j.OV(_,b,D.name.slice(0,255));b+=U;if(U%4!=0)b+=4-U%4;if(D.add.lsct){D.add.lsct={type:D.add.lsct};
if(D.QQ=="pass"){D.add.lsct.QQ="pass";D.QQ="norm"}}if(D.QQ=="pass")D.add.lsct={type:D.add.lsct,QQ:"pass"};
if(D.add.brit)D.add.CgEd=D.add.brit;b=cL.uS(_,b,D.add,N,n);delete D.add.CgEd;if(D.add.lsct){if(D.add.lsct.QQ)D.QQ=D.add.lsct.QQ;
D.add.lsct=D.add.lsct.type}var V=b-o;j.GS(_,a,V);return b};ir.atk=function(D,n,_){var b=j.n(n,_);_+=4;
if(b==0)return _;var w=_;D.v=new q.$L;D.v.rect=j.bV(n,_);_+=16;D.v.color=n[_];_+=1;var i=ir.nA(D.v,n,_);
_+=1;if(i){var M=!1,N=255,a=0,o=255,U=0;for(var k=0;k<D.tH.length;k++)if(D.tH[k].id==-3)M=!0;if(M){D.dn=ir.eM(n,_);
_+=18}var V=_,c=n[_];_++;if(c>>0&1){N=n[_];_++}if(c>>1&1){a=j.Sm(n,_);_+=8}if(c>>2&1){o=n[_];_++}if(c>>3&1){U=j.Sm(n,_);
_+=8}if((_-V&1)==1)_++;D.vK=[N,a,o,U]}else{if(b==20)_+=2;else{D.dn=ir.eM(n,_);_+=18}}return w+b};ir.a6c=function(D,n,_){j.GS(n,_,0);
_+=4;if(D.v==null)return _;var b=D.us(),w=D.add.vmsk,i=_,M=!0;j.GS(n,_,0);j.Aw(n,_,D.v.rect);_+=16;j.VD(n,_,D.v.color);
_+=1;ir.sr(D.v,n,_,M);_+=1;if(M){if(D.dn){ir.aol(n,_,D.dn);_+=18}j.VD(n,_,15);_+=1;j.VD(n,_,b?b._i:255);
_+=1;j.TW(n,_,b?b.rq:0);_+=8;j.VD(n,_,w?w._i:255);_+=1;j.TW(n,_,w?w.rq:0);_+=8;_++}j.GS(n,i-4,_-i);return _};
ir.eM=function(D,n){var _=new q.$L;ir.nA(_,D,n);n+=1;_.color=D[n];n+=1;_.rect=j.bV(D,n);n+=16;return _};
ir.aol=function(D,n,_){ir.sr(_,D,n,!1);n+=1;j.VD(D,n,_.color);n+=1;j.Aw(D,n,_.rect);n+=16};ir.nA=function(D,n,_){var b=n[_];
D.c9=(b>>0&1)==0;D.isEnabled=(b>>1&1)==0;D.Cm=(b>>3&1)==1;return b>>4&1};ir.sr=function(D,n,_,b){var w=0;
if(!D.c9)w+=1<<0;if(!D.isEnabled)w+=1<<1;if(D.Cm)w+=1<<3;if(b)w+=1<<4;j.VD(n,_,w)};ir.a90=function(D,n,_){var b=j.n(n,_);
_+=4;for(var k=0;k<b;k++)D.Nk[k]=n[_+k];return _+b};ir.anr=function(D,n,_){j.GS(n,_,D.Nk.length);_+=4;
n.Mz(_,40);for(var k=0;k<40;k++){n.data[_+k]=D.Nk[k]}return _+40};function f8(){}f8.Z6=function(D,n,_,b){b=f8.agW(n.cX,n.CK,n.Tv,D,_,b);
return b};f8.Jz=function(D,n,_,b,w,i){b=f8.alH(D,n,_,b,w,i);return b};f8.agW=function(D,n,_,b,w,i){var M=b.tH,N={},a=i;
for(var k=0;k<M.length;k++){var o=M[k],U=o.id,V=o.length,c;if(U==-3)c=b.dn.rect;else if(U==-2)c=b.v.rect;
else c=b.rect;var E=f8.u$(D,n,w,c.l,c.e,i,V);i+=V;if(U==-3)b.dn.channel=E;else if(U==-2)b.v.channel=E;
else N["c"+U]=E}var A=new B.YV(0);A.vd=null;if(_==3){A.p=N.c0;A.z=N.c1;A.S=N.c2;A.vd=N["c-1"]}else if(_==1){A.p=N.c0;
A.z=N.c0;A.S=N.c0;A.vd=N["c-1"]}else if(_==4){var Q=N.c0,J=N.c1,L=N.c2,P=N.c3,u=Q.length,m=1/255;for(var k=0;
k<u;k++){var x=Q[k],v=J[k],W=L[k],Z=P[k]*m;Q[k]=Math.round(x*Z);J[k]=Math.round((.2*x+.8*v)*Z);L[k]=Math.round((.2*v+.8*W)*Z)}A.p=Q;
A.z=J;A.S=L;A.vd=N["c-1"];console.log("converting from CMYK to RGB")}if(A.p==null)A.p=B.U(0);if(A.vd==null&&A.p!=null){A.vd=A.p.slice(0);
A.vd.fill(255)}if(A.z==null)A.z=A.p.slice(0);if(A.S==null)A.S=A.p.slice(0);b.buffer=B.U(Math.max(0,b.rect.u()*4));
B.wq(A,b.buffer);return i};f8.alH=function(D,n,_,b,w,i){var M=n.fY(),N=new B.YV(n.rect.u());B.BJ(n.buffer,N);
for(var k=0;k<M.length;k++){var a=M[k],o,U;if(a==-3)o=n.dn.rect;else if(a==-2)o=n.v.rect;else o=n.rect;
if(a==-3)U=n.dn.channel;if(a==-2)U=n.v.channel;if(a==-1)U=N.vd;if(a==0)U=N.p;if(a==1)U=N.z;if(a==2)U=N.S;
_.Mz(b,o.u()*3+4);var V=b;b=f8.S2(D,U,_.data,o.l,o.e,b,i[1]?3:1);var c=b-V;if(D)j.MP(_.data,w+k*10+2,c);
else j.GW(_.data,w+k*6+2,c)}return b};f8.u$=function(D,n,_,b,w,i,M){var N=j.UH(_,i);i+=2;return f8.uJ(D,n,_,b,w,i,N,M-2)};
f8.S2=function(D,n,_,b,w,i,M){j.O7(_,i,M);i+=2;i=f8.OQ(D,n,_,b,w,i,M);return i};f8.uJ=function(D,n,_,b,w,i,M,N){var a,o=b*w*(n>>>3),U=o&3,V=o+(U==0?0:4-U);
if(N<=0){return B.U(V)}if(M>3){console.log("unknown compression: "+M,b,w,b*w,N);M=0}if(M==0){if(i+V<=_.length)a=_.slice(i,i+V);
else{a=B.U(o);for(var k=0;k<o;k++)a[k]=_[i+k]}i+=o}else if(M==1){a=B.U(o);var c=D?4:2,E=f8.KO(_,a,b,w,i,i+c*w,c);
i+=c*w+E}else if(M==2||M==3){var A=new Uint8Array(_.buffer,i+2,N-6),Q=pako.inflateRaw(A);if(M==3){if(n==8)for(var J=0;
J<w;J++){var L=J*b+1,P=L+b-1,u=Q[L-1];for(var m=L;m<P;m++){u+=Q[m];Q[m]=u&255}}else for(var J=0;J<w;
J++){var L=J*b+1,P=L+b-1,u=Q[2*L-2]<<8|Q[2*L-1];for(var m=L;m<P;m++){var x=m<<1;u+=Q[x]<<8|Q[x+1];Q[x]=u>>>8;
Q[x+1]=u&255}}}if(Q.length==V)a=Q;else{a=B.U(V);for(var k=0;k<Q.length;k++)a[k]=Q[k]}}if(n==16){var v=B.U(b*w);
for(var k=0;k<o;k+=2)v[k>>>1]=a[k];a=v}return a};f8.OQ=function(D,n,_,b,w,i,M){var N=b*w;if(M==0)for(var k=0;
k<N;k++)_[i++]=n[k];else if(M==1){var a=D?4:2,o=f8.nH(n,_,b,w,i,i+a*w,a);i+=a*w+o}else if(M==2||M==3){if(M==3){var U=new Uint8Array(n.length);
for(var V=0;V<w;V++){var c=V*b+1,E=c+b-1,A=n[c-1];U[c-1]=A;for(var Q=c;Q<E;Q++){U[Q]=n[Q]+(256-A)&255;
A=n[Q]}}n=U}_[i]=120;_[i+1]=156;i+=2;var J=pako.deflateRaw(n,{a8i:4});j.ox(_,i,J);i+=J.length+4}else console.log("Unknown compression: "+M);
return i};f8.KO=function(D,n,_,b,w,i,M){if(!(D instanceof Uint8Array)||!(n instanceof Uint8Array))throw"e";
var N=i,a=b|0;if(M==2)for(var k=0;k<a;k++){var o=j.UH(D,w+(k<<1));f8.oc(D,i,o,n,k*_,_);i+=o}else for(var k=0;
k<a;k++){var o=j.n(D,w+(k<<2));f8.oc(D,i,o,n,k*_,_);i+=o}return i-N};f8.nH=function(D,n,_,b,w,i,M){var N=i;
if(M==2)for(var k=0;k<b;k++){var a=f8.SJ(D,k*_,_,n,i);j.Pc(n,w+k*2,a);i+=a}else for(var k=0;k<b;k++){var a=f8.SJ(D,k*_,_,n,i);
j.GW(n,w+k*4,a);i+=a}return i-N};f8.SJ=function(D,n,cQ,_,b){var w,i,M,N,a,bu,o;N=n+cQ;for(M=n,i=b;cQ>0;
M=w,cQ-=bu){o=cQ<128?cQ:128;if(M<=N-3&&D[M+1]==D[M+0]&&D[M+2]==D[M+0]){for(w=M+3;w<M+o&&D[w]==D[M+0];
)++w;bu=w-M;_[i++]=1+256-bu;_[i++]=D[M+0]}else{for(w=M;w<M+o;)if(w<=N-3&&D[w+1]==D[w+0]&&D[w+2]==D[w+0])break;
else++w;bu=w-M;_[i++]=bu-1;for(var k=0;k<bu;k++)_[i+k]=D[M+k];i+=bu}}return i-b};f8.oc=function(D,n,_,b,w,i){for(var M=0;
M<_;){var cQ=D[n++];if(cQ>=128){var N=D[n++],a=w+(257-cQ);b.fill(N,w,a);w=a;M+=2}else{for(var k=0;k<=cQ;
k++)b[w+k]=D[n+k];n+=cQ+1;w+=cQ+1;M+=1+1+cQ}}};function e2(){}e2.hF=function(D,n,_){return;var b="",w=n;
while(w!=0){var i=w%1e3+"";while(i.length<3)i="0"+i;b=(b==""?i:i+" ")+b;w=Math.floor(w/1e3)}while(b.startsWith("0")&&b!="0")b=b.slice(1);
while(b.length<11)b=" "+b;console.log("===",b,"\t".repeat(D),": "+_)};e2.Z6=function(D,n){n.cX=!1;n.CK=8;
var _=new Uint8Array(D),b=0,w=0,g,cP=!1,a8=!0,d0=!1,b9=0,aM=0;w=e2.hl(n,_,b);e2.hF(0,w-b,"PSD Header");
b=w;w=e2.a5k(n,_,b);e2.hF(0,w-b,"Color Mode Data");b=w;w=e2.a4A(n,_,b);e2.hF(0,w-b,"Image Resources");
b=w;w=e2.alY(n,_,b);e2.hF(0,w-b,"Layer And Mask Info");b=w;w=e2.a8L(n,_,b);e2.hF(0,w-b,"Merged Image");
b=w;if(n.b.length==0){var i=n.ni();i.rK("Background");n.b.push(i);i.buffer=n.buffer.slice(0);i.rect=new gl(0,0,n.l,n.e)}if(n.TA.r1005){n.Cn=j.ain(n.TA.r1005,0)}if(n.TA.r1026){var _=n.TA.r1026;
for(var k=0;k<_.length;k+=2){var w=n.b[k>>>1];if(w)w.VT=j.UH(_,k)}}if(n.TA.r1072){var _=n.TA.r1072;for(var k=0;
k<_.length;k++){var w=n.b[k];if(w)w.ZL=_[k]==1}}if(n.TA.r1032){var _=n.TA.r1032,M=j.n(_,12);for(var k=0;
k<M;k++){var N=_[16+k*5+4],a=j.H8(_,16+k*5)/32;n.eu.push([N,a])}}delete n.TA.r1036;delete n.TA.r1039;
if(n.TA.r1050){var o=j.n,U=n.TA.r1050,V=j.n(U,0);if(V==6){var c=4,E=j.bV(U,c);c+=16;var A=j.e0(U,c);
c+=4+A.length*2;var Q=o(U,c);c+=4;var J=n.wX;for(var k=0;k<Q;k++){var L=G.dL.ZF(),u;J.push(L);L=L.v;
L.sliceID.v=o(U,c);c+=4;L.groupID.v=o(U,c);c+=4;var P=o(U,c);c+=4;if(P==1){u=o(U,c);c+=4}var A=j.e0(U,c);
c+=4+A.length*2;var m=o(U,c);c+=4;var x=[o(U,c),o(U,c+4),o(U,c+8),o(U,c+12)];c+=16;G.dL.vP(J,J.length-1,x);
var v=L.url.v=j.e0(U,c);c+=4+v.length*2;var W=L.null.v=j.e0(U,c);c+=4+W.length*2;var Z=L.Msge.v=j.e0(U,c);
c+=4+Z.length*2;var r=L.altTag.v=j.e0(U,c);c+=4+r.length*2;L.cellTextIsHTML.v=U[c]==1;c++;var X=L.cellText.v=j.e0(U,c);
c+=4+X.length*2;var $=o(U,c);c+=4;var I=o(U,c);c+=4;var T=U.slice(c,c+4);c+=4;if(P!=2)J.pop()}}else if(V==8){var e={};
dR.v9(U,e,8,!1);var U=n.wX=e.slices.v;for(var k=0;k<U.length;k++){if(U[k].v.origin.v.ESliceOrigin!="userGenerated"){U.splice(k,1);
k--}}}}if(n.TA.r1058){var F=n.TA.r1058,y=UTIF.decode(F.buffer,{parseMN:!1,debug:!1});fB.fZ(y[0],n.Zd);
delete n.TA.r1058}if(n.TA.r1060){var h=j.KA(n.TA.r1060);fB.atu(h,n.Zd);delete n.TA.r1060}if(n.TA.r1065){var _=n.TA.r1065;
n.Co={};dR.v9(_,n.Co,4,!1)}if(n.TA.r1069){var _=n.TA.r1069,Y=[];for(var k=2;k<_.length;k+=4){var u=j.n(_,k);
for(var K=0;K<n.b.length;K++){var w=n.b[K];if(w.add.lyid==u&&w.add.lsct!=3)Y.push(K)}}n.w=Y}if(n.TA.r1025){var z=n.TA.r1025;
delete n.TA.r1025;var f=cR.aa(z,0,z.length,n.l,n.e),s=new q.IQ;s.Y=f;n.yE[0]=ai.kV("Working Path",{vmsk:s})}var l=n.add.pths;
delete n.add.pths;var H=n.TA.r3000;if(H){g={};dR.v9(H,g,4,!1);delete n.TA.r3000}for(var O=0;O<=997;O++){var C="r"+(2e3+O),z=n.TA[C];
if(z==null)break;var f=cR.aa(z,0,z.length,n.l,n.e),ib=l?l.pathList.v[O].v.pathUnicodeName.v:"Path "+O,hH=g?g.keyRootDescriptorList.v[O].v.keyDescriptorList.v:q.GL(f),s=new q.IQ;
s.Y=f;n.yE[O+1]=ai.kV(ib,{vmsk:s,vogk:hH});delete n.TA[C]}delete n.cX;var R=new gl(0,0,n.l,n.e),fR=n.add.Txt2,j4=fR;
if(j4){j4=j4.a0;if(j4._DocumentResources==null)j4=bn.a7Y(j4)}for(var k=0;k<n.b.length;k++){var w=n.b[k],jG=w.add.lsct,jP=w.add.vmsk,aq=w.us();
if(jG==f4.CV){b9++;w.add.lspf=0}else if(jG==f4.AU||jG==f4.Aj)b9--;if(w.name==""){w.name="Layer "+(k+1);
d0=!0}if(d0&&w.nR()&&w.QQ=="norm")w.QQ="pass";if(w.Ug()&&w.tr(n).v){var gM=w.tr(n);gM.v.isEnabled=w.add.SoLd.filterFX.v.filterMaskEnable.v}if(jP&&w.x6()){var gv=ci.yg.default;
if(w.add.vstk==null)w.add.vstk=JSON.parse(JSON.stringify(gv));else{var dT="strokeStyleLineDashSet";if(w.add.vstk[dT]==null)w.add.vstk[dT]=JSON.parse(JSON.stringify(gv[dT]))}w.add.vstk.strokeStyleResolution.v=n.Cn}if(jP&&(w.add.vogk==null||B.$.Vz(jP.Y)!=w.add.vogk.length))w.GL();
if(w.add.SoLd&&w.rect.hk()){console.log("redrawing smart instance");w.RZ(n)}if(aq==null&&w.v!=null){if(w.v.Cm==!1){w.v.Cm=!0;
w.dn=w.v.clone()}}aq=w.us();if(w.vK){var gv=w.vK,s=jP;if(aq){aq._i=gv[0];aq.rq=gv[1]}if(s){s._i=gv[2];
s.rq=gv[3]}w.vK=null}if(aq!=null&&jP!=null&&(aq.rq+jP.rq!=0||aq._i+jP._i!=2*255))w.p8(n);else if(jP!=null&&!w.x6())w.p8();
var aC=w.add.artb;if(aC&&aC.artboardBackgroundType==null)aC.artboardBackgroundType={t:"long",v:1};if(aC&&b9!=0)delete w.add.artb;
var c1=w.add.vstk;if(w.x6()&&(w.rect.hk()||jP&&jP.rq!=0||c1&&!c1.fillEnabled.v&&(!c1.strokeEnabled.v||c1.strokeStyleLineWidth.v.val==0)))w.VV(n);
if(w.add.TySh){cP=!0;if(!w.rect.hk())a8=!1}if(w.add.TySh&&j4){var aj=w.add.TySh.CZ.TextIndex.v;if(aj==-1)continue;
var bD=w.add.TySh.uP,cy=jg.eq(bD),co=j4._DocumentObjects._TextObjects;if(co.length<=aj){console.log("Txt2 incomplete");
continue}var hV=co[aj]._Model,il=hV._StyleRun?hV._StyleRun._RunArray:[],h6=bD.EngineDict.StyleRun.RunArray;
for(var c8=0;c8<h6.length;c8++){var fx=h6[c8].StyleSheet.StyleSheetData;if(il[c8]==null)continue;var bU=il[c8]._RunData._StyleSheet._Features;
if(bU&&bU._BaselineDirection)fx.BaselineDirection=parseInt(bU._BaselineDirection.slice(1));if(bU&&bU._FillBackgroundFlag)fx._FillBackgroundFlag=bU._FillBackgroundFlag;
if(bU&&bU._FillBackgroundColor){var b6=bU._FillBackgroundColor,iF=b6._Color._Values.slice(0);for(var K=0;
K<4;K++)iF[K]=parseFloat(iF[K].slice(1));fx._FillBackgroundColor={Type:1,Values:iF}}if(bU&&bU._LineWidth)fx._LineWidth=parseFloat(bU._LineWidth.slice(1))}var dY=bD.EngineDict.ParagraphRun.RunArray,bl=hV._ParagraphRun._RunArray;
if(bl==null)bl=[];var dc=Math.min(bl.length,dY.length);for(var K=0;K<dc;K++){var hN=dY[K].ParagraphSheet.Properties,ga=j4._DocumentResources._ParagraphSheetSet._Resources,b1=bl[K]._RunData._ParagraphSheet;
if(typeof b1=="string")b1=ga[parseInt(b1.slice(1))]._Resource;var fc=b1._Parent==null?b1:ga[parseInt(b1._Parent.slice(1))]._Resource;
b1=b1._Features;fc=fc._Features;var h9=b1._ParagraphDirection;if(h9==null)h9=fc._ParagraphDirection;
if(h9)hN._Direction=parseInt(h9.slice(1));if(b1._ComposerEngine)hN._ComposerEngine=parseInt(b1._ComposerEngine.slice(1))}if(hV._AlternateGlyphRun){var bl=hV._AlternateGlyphRun._RunArray,dc=bl.length,cB=bD.EngineDict.AlternateGlyphRun=jg.agE();
for(var K=0;K<dc;K++){var b1=bl[K],bp={},eK=b1._RunData._AlternateGlyphSheet;if(eK)bp.Glyph=parseInt(eK._Glyph.slice(1));
cB.RunArray.push(bp);cB.RunLengthArray.push(parseInt(b1._Length.slice(1)))}}var fm=j4._DocumentResources,fG=fm._TextFrameSet._Resources,ia=fG[aj]._Resource,iz=ia._Data,gG=new e3(1,0,0,1,0,0);
if(ia._0){var eA=parseFloat(ia._0[0].slice(1)),d3=parseFloat(ia._0[1].slice(1));gG.translate(eA,d3)}if(cy){gG.translate(cy[0],cy[1]);
jg.vR(bD,[0,0,cy[2]-cy[0],cy[3]-cy[1]])}else{if(ia._Bezier&&ia._Bezier._Points){var f=ia._Bezier._Points,eA=parseFloat(f[0].slice(1)),d3=parseFloat(f[1].slice(1));
if(eA!=0||d3!=0){gG.translate(eA,d3)}}}if(ia._Data&&ia._Data._FrameMatrix){var cY=ia._Data._FrameMatrix;
cY=cY.map(function(eV){return parseFloat(eV.slice(1))});gG.concat(new e3(cY[0],cY[1],cY[2],cY[3],cY[4],cY[5]))}gG.concat(w.add.TySh.A);
w.add.TySh.A=gG;var m=iz._Type?parseInt(iz._Type.slice(1)):0;if(m==2||m==1&&iz._PathData&&iz._PathData._Spacing=="i-3"){var ch=function(eV){return parseFloat(eV.slice(1))},f=ia._Bezier._Points.map(ch);
if(cy)B.H.A(f,new e3(1,0,0,1,-cy[0],-cy[1]),f);var fS=iz._PathData?iz._PathData._Reversed:!1,fy=iz._TextOnPathTRange;
if(fy==null)fy=["f-3","f-3"];bD.Curve={Points:f,TextOnPathTRange:fy.map(ch),Reversed:fS==null?!1:fS};
w.add.TySh.add={vmsk:new q.IQ,vogk:null};jg.St(w.add.TySh)}if(iz._LineOrientation=="i2")bD._LineOrientation=2}}G.ec.Qb(n,!0);
var ar={},aU=[];for(var k=0;k<n.b.length;k++){var f0=n.b[k].add.lyid;if(f0==null)continue;var aM=Math.max(aM,f0);
if(ar[f0]!=null)aU.push(k);else ar[f0]=!0}for(var k=0;k<aU.length;k++)n.b[aU[k]].add.lyid=aM+1+k};e2.dK=function(D,n,_){G.ec.JX(D);
G.ec.Qb(D,!1);D.cX=_[3]==!0;var b=[],w=[],A=0,L=1,W=16,O=0;for(var k=0;k<D.b.length;k++){var i=D.b[k];
if(i.Ug()&&i.tr(D).v){i.add.SoLd.filterFX.v.filterMaskEnable.v=i.tr(D).v.isEnabled}if(i.add.TySh){var M=i.add.TySh.uP,N=jg.rz(M);
i.add.TySh.CZ.TextIndex={t:"long",v:b.length};b.push(M);if(N==2)jg.wV(i.add.TySh)}var a=i.add.vstk;if(a)a.strokeStyleResolution.v=D.Cn;
if(i.x6()||_[2]&&i.add.SoLd){w[k]=[i.rect,i.buffer];i.rect=new gl;i.buffer=B.U(0);if(i.add.SoLd){var o=i.tr(D);
if(o!=null){w[k].push(o.buffer);o.buffer=B.U(o.buffer.length)}}}}if(b.length>0){var U=D.add.Txt2?D.add.Txt2.a0:null;
if(D.add.Txt2==null)D.add.Txt2={};D.add.Txt2.a0=fT.a1F(b,null,U)}var V=[D.add.lnk2,D.add.FEid,D.add.Patt],c=D.ae3(D.b);
D.atZ(c);D.TA.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);j.tV(D.TA.r1005,0,D.Cn);j.tV(D.TA.r1005,8,D.Cn);
if(D.XH()){D.TA.r1022=new Uint8Array([0,3+D.wK.length-1,0])}else delete D.TA.r1022;var E=new Uint8Array(D.b.length*2),Q=new Uint8Array(D.b.length);
for(var k=0;k<D.b.length;k++){var i=D.b[k],P=i.VT,u=i.ZL?1:0;j.Pc(E,k*2,P);Q[k]=u;if(P>A)A=P;if(u==0)L=0}if(A>0)D.TA.r1026=E;
if(L<1)D.TA.r1072=Q;var m=D.eu,x=m.length,v=D.TA.r1032=B.U(16+5*x,!0);j.GW(v,0,1);j.GW(v,4,576);j.GW(v,8,576);
j.GW(v,12,x);for(var k=0;k<x;k++){j.Ue(v,W,Math.round(m[k][1]*32));v[W+4]=m[k][0];W+=5}var Z=B.GE(D.buffer),r=[];
if(Z)r.push({name:"Transparency",zs:{p:255,z:0,S:0},Qs:100,MJ:1});r=r.concat(D.wK);delete D.TA.r1045;
delete D.TA.r1006;delete D.TA.r1077;var X=new bF;W=0;var $=new Uint8Array(4+r.length*13);$[3]=1;for(var k=0;
k<r.length;k++){var I=r[k],T=I.name+"\0";j.gF(X,W,T);W+=4+T.length*2;var e=4+k*13;hy.yY($,e,I.zs);$[e+11]=I.Qs;
$[e+12]=I.MJ}D.TA.r1045=X.data.slice(0,W);D.TA.r1077=$;for(var k=0;k<D.wX.length;k++)D.wX[D.wX.length-k-1].v.sliceID.v=2+k*3;
var F={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:D.wX}},X=new bF;
j.GS(X,0,8);j.GS(X,4,16);var y=dR._l(X,F,8);D.TA.r1050=X.data.slice(0,y+8);var X=new bF;j.GS(X,0,16);
var y=dR._l(X,D.Co,4);D.TA.r1065=X.data.slice(0,y+4);var h=D.w;v=D.TA.r1069=B.U(2+h.length*4,!0);j.Pc(v,0,h.length);
for(var k=0;k<h.length;k++)j.GW(v,2+4*k,D.b[h[k]].add.lyid);delete D.TA.r1058;delete D.TA.r1060;if(Object.keys(D.Zd).length!=0){var Y=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
fB.qX(D.Zd,Y[0],_[0]&&_[1]);D.TA.r1058=new Uint8Array(UTIF.encode(Y));var K=fB.apV(D.Zd);D.TA.r1060=j.TJ(K)}var z=[],f=[];
for(var k=0;k<D.yE.length;k++){var s=D.yE[k],l=s.add.vmsk.Y;if(k==0&&l.length==2)continue;var g=B.U(l.length*26);
cR.C_(g,0,l,D.l,D.e);var H=k==0?1025:2e3+k-1;D.TA["r"+H]=g;if(k!=0){z.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:s.name}}});
f.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:s.add.vogk}}})}}if(z.length!=0){D.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:z}};
f={classID:"null",keyRootDescriptorList:{t:"VlLs",v:f}};var X=new bF;j.GS(X,0,16);var y=dR._l(X,f,4);
D.TA.r3000=X.data.slice(0,y+4)}else{delete D.add.pths;delete D.TA.r3000}O=e2.ag1(D,n,O,3+r.length);O=e2.ar4(D,n,O);
O=e2.aqB(D,n,O);O=e2.a3j(D,n,O,_,Z);O=e2.atc(D,n,O,_[0],Z);var C=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var k=0;k<C.length;k++)delete D.TA["r"+C[k]];for(var k=0;k<D.b.length;k++){var i=D.b[k];if(i.x6()||_[2]&&i.add.SoLd){i.rect=w[k][0];
i.buffer=w[k][1];if(w[k][2]){var o=i.tr(D);w[k].push(o.buffer);o.buffer=w[k][2]}}}D.atZ(V);G.ec.Qb(D,!0);
delete D.cX;return O};e2.hl=function(D,n,_){var b=j.gw(n,_,4);_+=4;if(b!="8BPS")alert("invalid header signature: "+b);
var w=j.UH(n,_);_+=2;D.cX=w==2;if(w!=1&&w!=2)alert("invalid version: "+w);_+=6;D.rf=j.UH(n,_);_+=2;D.e=j.H8(n,_);
_+=4;D.l=j.H8(n,_);_+=4;D.CK=j.UH(n,_);_+=2;D.Tv=j.UH(n,_);_+=2;return _};e2.ag1=function(D,n,_,b){n.Mz(0,64);
j.Wu(n.data,_,"8BPS");_+=4;j.Pc(n.data,_,D.cX?2:1);_+=2;j.GW(n.data,_,0);_+=4;j.Pc(n.data,_,0);_+=2;
j.Pc(n.data,_,b);_+=2;j.Ue(n.data,_,D.e);_+=4;j.Ue(n.data,_,D.l);_+=4;j.Pc(n.data,_,8);_+=2;j.Pc(n.data,_,3);
_+=2;return _};e2.a5k=function(D,n,_){var b=j.H8(n,_);_+=4;if(b!=0)D.An=n.slice(_,_+b);_+=b;return _};
e2.ar4=function(D,n,_){j.fM(n,_,0);_+=4;return _};e2.a4A=function(D,n,_){var b=j.n(n,_),w=0;_+=4;var i=[];
while(w<b){var M=j.gw(n,_+w,4);w+=4;var N=j.UH(n,_+w);w+=2;var a=j.IB(n,_+w);w+=a.length;if(M!="8BIM"){i.push(N);
console.log("Unknown Image Resources signature: "+M+", ID: "+N)}var o=j.n(n,_+w);w+=4;if(D.TA["r"+N]!=null)console.log("--- two resources with same ID");
D.TA["r"+N]=j.ls(n,_+w,o);w+=o+(o&1)}for(var k=0;k<i.length;k++)delete D.TA["r"+i[k]];return _+b};e2.aqB=function(D,n,_){var b=_,M=0;
_+=4;var w=[];for(var i in D.TA){w.push(parseInt(i.slice(1)))}w.sort(function(V,c){return V-c});for(var k=0;
k<w.length;k++){j.lK(n,_+M,"8BIM");M+=4;var N=w[k];j.kn(n,_+M,N);M+=2;var a=j.OV(n,_+M,"");M+=a;var o=D.TA["r"+N],U=o.length;
j.GS(n,_+M,U);M+=4;j.Ct(n,_+M,o);M+=U;if(U%2==1)M++}j.GS(n,b,M);return _+M};e2.alY=function(D,n,_){var b=_,w,i,M=D.cX?8:4;
if(D.cX)w=j.zo(n,_);else w=j.n(n,_);_+=M;if(w==0)return b+M;i=e2.a1t(D,n,_);e2.hF(1,i-_,"Layer Info");
_=i;i=e2.a8B(D,n,_);e2.hF(1,i-_,"Global Layer Mask Info");_=i;i=cL.g4(n,_,b+M+w,D.add,D.cX,D);e2.hF(1,i-_,"Project Add Info");
_=i;return b+M+w};e2.a3j=function(D,n,_,b,w){var i=_;j.GS(n,_,0);_+=4;if(D.cX){j.GS(n,_,0);_+=4}_=e2.auE(D,n,_,b,w);
_=e2.a46(D,n,_);_=cL.uS(n,_,D.add,D.cX,D);if(D.cX)j.SE(n,i,_-i-8);else j.GS(n,i,_-i-4);return _};e2.a1t=function(D,n,_){var b,w=D.cX?8:4;
if(D.cX)b=j.zo(n,_);else b=j.n(n,_);_+=w;if(b!=0)e2.ji(D,n,_);return _+b};e2.ji=function(D,n,_){var b=j.Ss(n,_);
_+=2;var w=Math.abs(b);for(var k=0;k<w;k++){var i=new q;_=ir.Z6(i,D,n,_);D.b[k]=i}var M=new gl(0,0,D.l,D.e);
for(var k=0;k<w;k++){var N=D.b[k],a=N.us(),o=f8.Z6(N,D,n,_);if(o-_>8)e2.hF(2,o-_,"Lay: "+N.getName());
_=o;e2.l0(N,M);if(a)e2.l0(a,M)}};e2.l0=function(D,n){var _=D.rect.u(),b=D.rect.zE(n),w=b.u()/_;if(_>2e3*3e3&&w<.5){if(D.buffer){var i=B.U(b.u()*4);
B.E3(D.buffer,D.rect,i,b);D.buffer=i;D.rect=b}else{var i=B.U(b.u());B.I4(D.channel,D.rect,i,b);D.channel=i;
D.rect=b}alert("Removing hidden parts of layers")}};e2.auE=function(D,n,_,b,w){var i=_,M=D.cX;_+=M?8:4;
_=e2.L2(D,n,_,b,w);var N=_-i-(M?8:4);if(N%2!=0)N++;if(M)j.SE(n,i,N);else j.GS(n,i,N);return i+N+(M?8:4)};
e2.L2=function(D,n,_,b,w){var i=D.b.length;j.V1(n,_,w?-i:i);_+=2;var M=[];for(var k=0;k<i;k++)_=ir.dK(D.b[k],D,n,_,M);
for(var k=0;k<i;k++)_=f8.Jz(D.cX,D.b[k],n,_,M[k],b);return _};e2.a8B=function(D,n,_){var b=j.n(n,_);
_+=4;_+=b;return _};e2.a46=function(D,n,_){var b=j.GS(n,_,0);_+=4;return _};e2.a8L=function(D,n,_){var b=D.Tv,w="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],M,Q;
if(b!=3){if(b==1||b==2||b==4)alert("Project will be converted from "+w[b]+" to "+w[3]+" mode.");else{alert("Color mode "+w[b]+" is not supported yet :(")}}if(D.TA.r1045){M=[];
var N=D.TA.r1045,a=0;while(a<N.length){var o=j.Kp(N,a);M.push(o);a+=4+2+o.length*2}}var U=i[b]+(M==null||M[0]=="Transparency"?1:0),V=D.l,c=D.e,E=V*c,A=j.UH(n,_);
_+=2;D.buffer=B.U(E*4);B.o5(D.buffer,4278190080);var J=_;for(var L=0;L<D.rf;L++){if(A==0){Q=f8.uJ(D.cX,D.CK,n,V,c,_,A);
_+=E*(D.CK>>>3)}else if(A==1){Q=B.U(E);var P=D.cX?4:2;if(L==0)_+=D.rf*c*P;_+=f8.KO(n,Q,V,c,J+L*c*P,_,P)}else{console.log("unknown compression of image data: ",A);
return}if(L<U){B.tD(Q,D.buffer,L);if(D.rf==1&&L==0){B.tD(Q,D.buffer,1);B.tD(Q,D.buffer,2)}}else{var u=new q.$L,m=L-U,x=L-i[D.Tv];
u.name=M?M[x]:"Alpha";if(u.name=="Quick Mask"){u.Lr=!0;D.xo.push(m)}u.rect=new gl(0,0,V,c);u.channel=Q;
u.color=0;u.B2();D.wK[m]=u;if(D.TA.r1077){var N=D.TA.r1077.slice(4+x*13);u.zs=hy.RC(N,0);u.Qs=N[11];
u.MJ=N[12];if(u.MJ==2)u.Lr=!0}}}D.rf=4;if(D.Tv==2)for(var k=0;k<E;k++){var v=k*4,W=D.buffer[v];D.buffer[v]=D.An[0+W];
D.buffer[v+1]=D.An[256+W];D.buffer[v+2]=D.An[512+W]}return _};e2.atc=function(D,n,_,b,w){var i=1,M=16,N=D.l,a=D.e,U,V;
j.kn(n,_,i);_+=2;var o=N*a;if(!b){V=new B.YV(N*a);B.BJ(D.buffer,V);var c=V.p,E=V.z,A=V.S,Q=V.vd;for(var k=0;
k<o;k++){var J=Q[k]*(1/255);c[k]=~~(c[k]*J+255*(1-J));E[k]=~~(E[k]*J+255*(1-J));A[k]=~~(A[k]*J+255*(1-J))}}else U=B.U(o);
var L=[U,U,U];if(!b)L=[V.p,V.z,V.S];if(w)L.push(b?U:V.vd);for(var k=0;k<D.wK.length;k++){L.push(D.wK[k].xD(new gl(0,0,D.l,D.e)))}var P=_;
for(var u=0;u<L.length;u++){n.Mz(_,N*a+4);U=L[u];if(i==0||i==2||i==3)_=f8.OQ(D.cX,U,n.data,N,a,_,i);
else{var m=D.cX?4:2;if(u==0)_+=L.length*a*m;var x=_;_+=f8.nH(U,n.data,N,a,P+u*a*m,_,m)}}return _};function jl(){}jl.Z6=function(D){var n={};
jl.tq(D,n,0,0);return n};jl.dK=function(D,n){var _=0;_=jl.Lg(D,n,_,0);return _};jl.tq=function(D,n,_,b){while(D[_]!="<".charCodeAt(0))_++;
_+=2;while(!0){if(D[_]=="/".charCodeAt(0)){_++;var w=j.indexOf(D," ".charCodeAt(0),_,_+50),i=j.indexOf(D,"\n".charCodeAt(0),_,_+50);
if(i==-1)i=Infinity;if(w==-1)w=Infinity;var M=Math.min(i,w),N=j.gw(D,_,M-_),a=jl.ez(D,M+1,b+1,N);n[N]=a.k;
_=M+1;_+=a.size}else if(D[_]==">".charCodeAt(0)){_+=2;break}else{var o=D[_];if(o==10||o==9||o==32)_++;
else{console.log("unknown byte: "+o+", char: "+String.fromCharCode(o),_);_++}}}return _};jl.Lg=function(D,n,_,b){j.lK(n,_,"<<\n");
_+=3;var w=jl.a8d;for(var i in D){j.VD(n,_,"\t".charCodeAt(0),b+1);_+=b+1;j.lK(n,_,"/"+i);_+=1+i.length;
if(w(D[i])||D[i]instanceof Array){j.lK(n,_," ");_++}else{j.lK(n,_,"\n");_++;j.VD(n,_,"\t".charCodeAt(0),b+1);
_+=b+1}_=jl.x8(D[i],n,_,b+1);j.lK(n,_,"\n");_++}j.VD(n,_,"\t".charCodeAt(0),b);_+=b;j.lK(n,_,">>");_+=2;
return _};jl.ez=function(D,n,_,b){var w=n,i={size:0,k:0};while(!0){while(D[n]==" ".charCodeAt(0)||D[n]=="\t".charCodeAt(0)||D[n]=="\n".charCodeAt(0))n++;
if(D[n]=="<".charCodeAt(0)){i.k={};n=jl.tq(D,i.k,n,_+1);break}else if(D[n]=="(".charCodeAt(0)){n+=3;
var M=n;while(!0){if(D[M-1]!="\\".charCodeAt(0)&&D[M]==")".charCodeAt(0)&&(D[M+1]=="\n".charCodeAt(0)||D[M+1]==" ".charCodeAt(0)))break;
else M++}i.k=j.RI(D,n,M);n=M+2;break}else if(D[n]=="[".charCodeAt(0)){n++;i.k=[];while(D[n]==" ".charCodeAt(0)||D[n]=="\t".charCodeAt(0)||D[n]=="\n".charCodeAt(0))n++;
while(D[n]!="]".charCodeAt(0)){var N=jl.ez(D,n,_+1,b);i.k.push(N.k);n+=N.size;while(D[n]==" ".charCodeAt(0)||D[n]=="\t".charCodeAt(0)||D[n]=="\n".charCodeAt(0))n++}n++;
break}else{var a=j.indexOf(D," ".charCodeAt(0),n,n+50),o=j.indexOf(D,"\n".charCodeAt(0),n,n+50);if(o==-1)o=Infinity;
if(a==-1)a=Infinity;var U=j.gw(D,n,Math.min(a,o)-n).trim(),V=parseFloat(U);if(!isNaN(V)){i.k=parseFloat(U);
n=Math.min(a,o)+1;break}else if(U=="true"||U=="false"){i.k=U=="true";n=Math.min(a,o)+1;break}else if(U=="null"||U=="NaN"||U=="undefined"){i.k=0;
n=Math.min(a,o)+1;break}else{console.log("unknown identifier: "+U);throw"e"}n=Math.min(a,o)+1}}i.size=n-w;
return i};jl.x8=function(D,n,_,b){if(D instanceof Array){var w=D.length==0||typeof D[0]=="number";if(w){j.lK(n,_,"[ ");
_+=2;for(var k=0;k<D.length;k++){var i=D[k]+" ";j.lK(n,_,i);_+=i.length}j.lK(n,_,"]");_+=1}else{j.lK(n,_,"[\n");
_+=2;for(var k=0;k<D.length;k++){j.VD(n,_,"\t".charCodeAt(0),b);_+=b;_=jl.x8(D[k],n,_,b);j.lK(n,_,"\n");
_++}j.VD(n,_,"\t".charCodeAt(0),b);_+=b;j.lK(n,_,"]");_+=1}}else if(D instanceof Object){_=jl.Lg(D,n,_,b)}else if(typeof D=="string"){j.lK(n,_,"(");
_++;j.VD(n,_,254);_++;j.VD(n,_,255);_++;_=j.$0(n,_,D);j.lK(n,_,")");_+=1}else{var i=D+"";j.lK(n,_,i);
_+=i.length}return _};jl.a8d=function(D){var n=typeof D;return n=="string"||n=="number"||n=="boolean"};
function gV(){}gV.Z6=function(D){var n={};gV.Gp(D,n,0,0);return n};gV.dK=function(D,n){var _=0;j.lK(n,_," ");
_++;_=gV.q$(D,n,_,0);_--;n.Mz(_,2);n.data[_]=n.data[_+1]=0;_+=2;return _};gV.tq=function(D,n,_,b){while(D[_]!="<".charCodeAt(0)){_++;
console.log("\u0161ipka")}_+=2;_=gV.Gp(D,n,_,b);return _};gV.Lg=function(D,n,_,b){j.lK(n,_,"<< ");_+=3;
_=gV.q$(D,n,_,b);j.lK(n,_,">>");_+=2;return _};gV.Pq=function(D){return D==9||D==10||D==32};gV.Gp=function(D,n,_,b){while(!0){while(gV.Pq(D[_])||D[_]==0)_++;
if(_>=D.length)break;if(D[_]=="/".charCodeAt(0)){_++;var w=_;while(!gV.Pq(D[w]))w++;var i=j.gw(D,_,w-_);
_=w+1;var M=gV.ez(D,_,b,i);n["_"+i]=M.k;_+=M.size}else if(D[_]==">".charCodeAt(0)){_+=2;break}else{var N=D[_];
console.log(j.gw(D,_,_+100));console.log("unknown byte: "+N+", char: "+String.fromCharCode(N)+", offset: "+_);
_++;throw"e";return-1}}return _};gV.q$=function(D,n,_,b){for(var w in D){var i=w.substring(1,w.length);
j.lK(n,_,"/"+i);_+=1+i.length;j.lK(n,_," ");_++;_=gV.x8(D[w],n,_,b+1);j.lK(n,_," ");_++}return _};gV.ez=function(D,n,_,b){var w=n,i={type:"",size:0,k:0};
while(gV.Pq(D[n]))n++;if(D[n]=="<".charCodeAt(0)){i.type="Object";i.k={};n=gV.tq(D,i.k,n,_+1)}else if(D[n]=="(".charCodeAt(0)){i.type="String";
n++;if(D[n]==")".charCodeAt(0)){i.k="e";n++}else{n+=2;var M=n,N=0;while(!0){if(D[M]==")".charCodeAt(0)&&D[M-1]!="\\".charCodeAt(0))break;
else M+=1}i.k="s"+j.RI(D,n,M);n=M+2}}else if(D[n]=="[".charCodeAt(0)){n++;i.k=[];i.type="Array";while(gV.Pq(D[n]))n++;
while(D[n]!="]".charCodeAt(0)){var a=gV.ez(D,n,_+1,b);if(a==-1)return-1;i.k.push(a.k);n+=a.size;delete a.size;
while(gV.Pq(D[n]))n++}n++}else{var o=n;while(!gV.Pq(D[o]))o++;var U=j.gw(D,n,o-n),V=parseFloat(U);if(!isNaN(V)&&U.indexOf(".")!=-1){i.type="Float";
var c=parseFloat(U);i.k="f"+c}else if(!isNaN(V)&&U.indexOf(".")==-1){i.type="Integer";i.k="i"+parseInt(U)}else if(U=="true"||U=="false"){i.type="Boolean";
i.k=U=="true"}else if(U.charAt(0)=="/"){i.type="BString";i.k=U}else if(U=="NaN"){i.type="Float";i.k="f0"}else{console.log("unknown value",JSON.stringify(U));
throw"e"}n=o+1}i.size=n-w;return i};gV.ag9=function(D){if(D==Math.round(D))return D+".0";var n=D.toFixed(5);
while(n.endsWith("0")&&n[n.length-2]!=".")n=n.slice(0,n.length-1);if(0<D&&D<1)n=n.slice(1);if(-1<D&&D<0)n="-"+n.slice(2);
return n};gV.x8=function(D,n,_,b){var w=typeof D=="string"?D.charAt(0):"";if(D instanceof Array){j.lK(n,_,"[ ");
_+=2;for(var k=0;k<D.length;k++){_=gV.x8(D[k],n,_,b);j.lK(n,_," ");_++}j.lK(n,_,"]");_+=1}else if(D instanceof Object){_=gV.Lg(D,n,_,b)}else if(w=="e"){j.lK(n,_,"()");
_+=2}else if(w=="s"){j.lK(n,_,"(");_++;j.VD(n,_,254);_++;j.VD(n,_,255);_++;_=j.$0(n,_,D.substring(1));
j.lK(n,_,")");_++}else if(w=="/"){j.lK(n,_,D);_+=D.length}else if(w=="f"){var i=parseFloat(D.substring(1)),M=gV.ag9(i);
j.lK(n,_,M);_+=M.length}else if(w=="i"){j.lK(n,_,D.substring(1));_+=D.length-1}else{var M=D+"";j.lK(n,_,M);
_+=M.length}return _};function j(){}j.ajy=function(cQ){var D="";for(var k=3;k>=0;k--)D+=String.fromCharCode(cQ>>k*8&255);
return D};j.ais=function(D){var cQ=0;for(var k=D.length-1;k>=0;k--)cQ|=D.charCodeAt(k)<<(3-k)*8;return cQ};
j.indexOf=function(D,n,_,b){if(_==null)_=0;if(b==null)b=D.length;b=Math.min(b,D.length);for(var k=_;
k<b;k++)if(D[k]==n)return k;return-1};j.BR=function(D,n,_){if(_==null)_=0;var b=n.length,w=D.length-b;
if(typeof n=="string"){var i=[];for(var k=0;k<b;k++)i.push(n.charCodeAt(k));n=i}if(n.length>0){var M=n[0];
for(var k=_;k<w;k++)if(D[k]==M){var N=!0;for(var a=1;a<b;a++)if(n[a]!=D[k+a]){N=!1;break}if(N)return k}}return-1};
j.RI=function(D,n,_){var b=[],i="";while(n<_){var w=D[n++];if(w=="\\".charCodeAt(0))b.push(D[n++]);else b.push(w)}for(var k=0;
k<b.length;k+=2)i+=String.fromCharCode(b[k]<<8|b[k+1]);return i};j.agM=function(D,n,_){var b=new Uint8Array(2);
for(var k=0;k<_.length;k++){j.Pc(b,0,_.charCodeAt(k));if(b[0]==")".charCodeAt(0)||b[0]=="(".charCodeAt(0)||b[0]=="\\".charCodeAt(0)){D[n]="\\".charCodeAt(0);
n++}D[n]=b[0];n++;if(b[1]==")".charCodeAt(0)||b[1]=="(".charCodeAt(0)||b[1]=="\\".charCodeAt(0)){D[n]="\\".charCodeAt(0);
n++}D[n]=b[1];n++}return n};j.$0=function(D,n,_){D.Mz(n,4*_.length);return j.agM(D.data,n,_)};j.Hy=function(D,n,_){var b="";
for(var k=0;k<_;k++){var w=D[n++]|D[n++]<<8;b+=String.fromCharCode(w)}return b};j.D3=function(D,n,_){var b="";
for(var k=0;k<_;k++){var w=D[n++]<<8|D[n++];b+=String.fromCharCode(w)}return b};j.a3b=function(D,n,_){for(var k=0;
k<_.length;k++){var b=_.charCodeAt(k);j.jy(D,n+2*k,b)}};j.AT=function(D,n,_){for(var k=0;k<_.length;
k++){var b=_.charCodeAt(k);j.Pc(D,n+2*k,b)}};j.amS=function(D,n,_){D.Mz(n,2*_.length);j.AT(D.data,n,_)};
j.a2D=function(D,k,n){var _=[],b=0,w=0;n+=k;while(k<n){b=D[k++];if((b&128)==0)w=b;else if((b&224)==192){w=(b&31)<<6;
b=D[k++];w|=b&63}else if((b&240)==224){w=(b&15)<<12;b=D[k++];w|=(b&63)<<6;b=D[k++];w|=b&63}else if((b&248)==240){w=(b&7)<<18;
b=D[k++];w|=(b&63)<<12;b=D[k++];w|=(b&63)<<6;b=D[k++];w|=b&63}else throw"e";_.push(w)}return _};j.s_=window.TextDecoder?new window.TextDecoder("utf8"):null;
j.KA=function(D,n,_){if(n==null)n=0;if(_==null)_=D.length;if(j.s_&&n==0&&_==D.length)return j.s_.decode(D);
var b=j.a2D(D,n,_),w=b.length;for(var k=0;k<w;k++)b[k]=String.fromCharCode(b[k]);return b.join("")};
j.JU=window.TextEncoder?new window.TextEncoder("utf8"):null;j.TJ=function(D){if(j.JU)return j.JU.encode(D);
var n=new Uint8Array(D.length*4),_=j.yG(D,n,0);return n.slice(0,_)};j.yG=function(D,n,_){var b=D.length,k=0;
for(var w=0;w<b;w++){var i=D.charCodeAt(w);if((i&4294967295-(1<<7)+1)==0){n[_+k]=i;k++}else if((i&4294967295-(1<<11)+1)==0){n[_+k]=192|i>>6;
n[_+k+1]=128|i>>0&63;k+=2}else if((i&4294967295-(1<<16)+1)==0){n[_+k]=224|i>>12;n[_+k+1]=128|i>>6&63;
n[_+k+2]=128|i>>0&63;k+=3}else if((i&4294967295-(1<<21)+1)==0){n[_+k]=240|i>>18;n[_+k+1]=128|i>>12&63;
n[_+k+2]=128|i>>6&63;n[_+k+3]=128|i>>0&63;k+=4}else throw"e"}return k};j.xS=function(D,n){var _=j.n(D,n),b=j.KA(D,n+4,_-1);
return{cg:b,kL:4+_}};j.apY=function(D,n){var _=j.c7(D,n),b=j.Hy(D,n+4,_);return b};j.e0=function(D,n){var _=j.n(D,n),b=j.D3(D,n+4,_);
return b};j.Kp=function(D,n){var _=j.n(D,n),b=j.D3(D,n+4,_-1);return b};j.ajm=function(D,n,_){j.vz(D,n,_.length);
n+=4;j.a3b(D,n,_)};j.adD=function(D,n,_){j.GW(D,n,_.length);n+=4;j.AT(D,n,_)};j.gF=function(D,n,_){D.Mz(n,4+2*_.length);
j.adD(D.data,n,_)};j.as$=function(D,n,_){D.Mz(n,4+2*_.length);j.ajm(D.data,n,_)};j.Ep=function(D,n,_){var b=[];
for(var k=0;k<_;k++)b.push(String.fromCharCode(D[n+k]));return b};j.a3U=function(D,n,_){var b=!1,w=D.length-_.length;
for(var k=n;k<w;k++){for(var i=0;i<_.length;i++){if(D[k+i]!=_.charCodeAt(i))break;if(i==_.length-1)return k}}};
j.gw=function(D,n,_){var b="";for(var k=0;k<_;k++)b+=String.fromCharCode(D[n+k]);return b};j.Wu=function(D,n,_){for(var k=0;
k<_.length;k++)D[n+k]=_.charCodeAt(k)};j.lK=function(D,n,_){D.Mz(n,_.length);j.Wu(D.data,n,_)};j.a1n=function(D,n,_){var b="";
for(var k=0;k<_;k++){var w=D[n+k];if(w<10)b+="  ";else if(w<100)b+=" ";b+=w+", "}return b};j.UH=function(D,n){return D[n]<<8|D[n+1]};
j.Pc=function(D,n,cQ){D[n]=cQ>>8&255;D[n+1]=cQ&255};j.kn=function(D,n,cQ){D.Mz(n,4);j.Pc(D.data,n,cQ)};
j.ain=function(D,n){var _=j.UH(D,n),b=j.UH(D,n+2);return _+b*(1/65536)};j.tV=function(D,n,cQ){var _=Math.floor(cQ),b=Math.floor((cQ-_)*65536);
j.Pc(D,n,_);j.Pc(D,n+2,b)};j.P$=function(D,n){return D[n+1]<<8|D[n]};j.jy=function(D,n,cQ){D[n+1]=cQ>>8&255;
D[n]=cQ&255};j.k7=function(D,n,cQ){D.Mz(n,4);j.jy(D.data,n,cQ)};j.Ss=function(D,n){j.gN[0]=D[n+1];j.gN[1]=D[n];
return j.xt[0]};j.D4=function(D,n){j.gN[0]=D[n];j.gN[1]=D[n+1];return j.xt[0]};j.O7=j.Pc;j.V1=j.kn;j.H8=function(D,n){j.Bz[0]=D[n+3];
j.Bz[1]=D[n+2];j.Bz[2]=D[n+1];j.Bz[3]=D[n];return j.ld[0]};j.Ue=function(D,n,cQ){j.ld[0]=cQ;D[n+3]=j.Bz[0];
D[n+2]=j.Bz[1];D[n+1]=j.Bz[2];D[n+0]=j.Bz[3]};j.fM=function(D,n,cQ){D.Mz(n,4);j.Ue(D.data,n,cQ)};j.gl=function(D,n,_,b){_[b+0]=D[n+0];
_[b+1]=D[n+1];_[b+2]=D[n+2];_[b+3]=D[n+3]};j.c7=function(D,n){j.gl(D,n,j.Bz,0);return j.J5[0]};j.vz=function(D,n,cQ){j.J5[0]=cQ;
j.gl(j.Bz,0,D,n)};j.sN=function(D,n,cQ){D.Mz(n,4);j.vz(D.data,n,cQ)};j.ci=function(D,n){j.gl(D,n,j.Bz,0);
return j.ld[0]};j.aqI=function(D,n,cQ){j.ld[0]=cQ;j.gl(j.Bz,0,D,n)};j.aoR=function(D,n,cQ){D.Mz(n,4);
j.aqI(D.data,n,cQ)};j.n=function(D,n){var _=D[n]*(256*256*256)+(D[n+1]<<16|D[n+2]<<8|D[n+3]);return _};
j.GW=function(D,n,cQ){D[n]=cQ>>24&255;D[n+1]=cQ>>16&255;D[n+2]=cQ>>8&255;D[n+3]=cQ>>0&255};j.GS=function(D,n,cQ){D.Mz(n,4);
j.GW(D.data,n,cQ)};j.zo=function(D,n){return j.n(D,n)<<32|j.n(D,n+4)};j.MP=function(D,n,cQ){j.GW(D,n,cQ>>16>>16);
j.GW(D,n+4,cQ&4294967295)};j.SE=function(D,n,cQ){D.Mz(n,8);j.MP(D.data,n,cQ)};j.Sm=function(D,n){var _=new Uint8Array(8);
for(var k=0;k<8;k++)_[k]=D[n+7-k];var b=new Float64Array(_.buffer);return b[0]};j.cJ=function(D,n){var _=new Uint8Array(8);
for(var k=0;k<8;k++)_[k]=D[n+k];var b=new Float64Array(_.buffer);return b[0]};j.t_=function(D,n,cQ){var _=new Float64Array(1);
_[0]=cQ;var b=new Uint8Array(_.buffer);for(var k=0;k<4;k++){var w=b[k];b[k]=b[7-k];b[7-k]=w}for(var k=0;
k<8;k++)D[n+k]=b[k]};j.TW=function(D,n,cQ){D.Mz(n,8);j.t_(D.data,n,cQ)};j.Qy=function(D,n){j.Bz[0]=D[n+3];
j.Bz[1]=D[n+2];j.Bz[2]=D[n+1];j.Bz[3]=D[n+0];return j._8[0]};j.lR=function(D,n){j.Bz[0]=D[n+0];j.Bz[1]=D[n+1];
j.Bz[2]=D[n+2];j.Bz[3]=D[n+3];return j._8[0]};j.oz=function(D,n,cQ){j._8[0]=cQ;D[n+0]=j.Bz[3];D[n+1]=j.Bz[2];
D[n+2]=j.Bz[1];D[n+3]=j.Bz[0]};j.agy=function(D,n,cQ){D.Mz(n,4);j.oz(D.data,n,cQ)};j.qB=function(D,n,cQ){j._8[0]=cQ;
D[n+0]=j.Bz[0];D[n+1]=j.Bz[1];D[n+2]=j.Bz[2];D[n+3]=j.Bz[3]};j.asI=function(D,n,cQ){D.Mz(n,4);j.qB(D.data,n,cQ)};
j.abn=function(D,n){var _=j.H8(D,n),b=_*(1/(1<<24));return b};j._5=function(D,n,_){var b=Math.floor(_*(1<<24));
j.Ue(D,n,b)};j.aaI=function(D,n,_){D.Mz(n,4);j._5(D.data,n,_)};j.IB=function(D,n){var _=D[n],b=j.gw(D,n+1,_);
_+=1-_%2;return{Cb:b,length:_+1}};j.asG=function(D,n,_){var b=_.length;D[n]=b;j.Wu(D,n+1,_);if(b%2==0){D[n+1+b]=0;
++b}return b+1};j.OV=function(D,n,_){D.Mz(n,_.length+2);return j.asG(D.data,n,_)};j.pl=function(D,n){var _=new e3;
_.vd=j.Sm(D,n+0*8);_.S=j.Sm(D,n+1*8);_.jo=j.Sm(D,n+2*8);_.Ww=j.Sm(D,n+3*8);_.oE=j.Sm(D,n+4*8);_.LE=j.Sm(D,n+5*8);
return _};j.du=function(D,n,_){j.t_(D,n+0*8,_.vd);j.t_(D,n+1*8,_.S);j.t_(D,n+2*8,_.jo);j.t_(D,n+3*8,_.Ww);
j.t_(D,n+4*8,_.oE);j.t_(D,n+5*8,_.LE)};j.aau=function(D,n,_){D.Mz(n,48);j.du(D.data,n,_)};j.a6_=function(D,n){var _=j.Qy(D,n),b=j.Qy(D,n+4),w=j.Qy(D,n+8),i=j.Qy(D,n+12);
return new gl(_,b,w-_,i-b)};j.afq=function(D,n,_){j.oz(D,n,_.x);j.oz(D,n+4,_.y);j.oz(D,n+8,_.x+_.l);
j.oz(D,n+12,_.y+_.e)};j.ase=function(D,n,_){D.Mz(n,16);j.afq(D.data,n,_)};j.bV=function(D,n){var _=j.H8(D,n),b=j.H8(D,n+4),w=j.H8(D,n+8),i=j.H8(D,n+12);
return new gl(b,_,i-b,w-_)};j.UO=function(D,n,_){j.Ue(D,n,_.y);j.Ue(D,n+4,_.x);j.Ue(D,n+8,_.y+_.e);j.Ue(D,n+12,_.x+_.l)};
j.Aw=function(D,n,_){D.Mz(n,16);j.UO(D.data,n,_)};j.ls=function(D,n,_){var b=new Uint8Array(_);for(var k=0;
k<_;k++)b[k]=D[n+k];return b};j.ox=function(D,n,_){D.set(_,n)};j.Ct=function(D,n,_){D.Mz(n,_.length);
j.ox(D.data,n,_)};j.abi=function(D,n,_,cQ){if(!cQ)cQ=1;for(var k=0;k<cQ;k++)D[n+k]=_};j.VD=function(D,n,_,cQ){if(!cQ)cQ=1;
D.Mz(n,cQ);j.abi(D.data,n,_,cQ)};j.xt=new Int16Array(1);j.gN=new Uint8Array(j.xt.buffer);j.ld=new Int32Array(1);
j.J5=new Uint32Array(j.ld.buffer);j.Bz=new Uint8Array(j.ld.buffer);j._8=new Float32Array(j.ld.buffer);
function iC(){}iC.Z6=function(D,n){var _=new Uint8Array(D),b=0,w=j.gw(_,b,9),N=4,a=100;b+=9;var i=j.gw(_,b,4);
b+=4;b++;n.l=j.n(_,b);b+=4;n.e=j.n(_,b);b+=4;var M=j.n(_,b);b+=4;if(M!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){a=j.n(_,b);b+=4;if(parseInt(i.slice(1))>=7){a=a}else alert("Unknown XCF version: "+i);
N=8}var o={};b=iC.GY(_,b,o);var U=[];b=iC.fB(_,b,U,N);var V=[];b=iC.fB(_,b,V,N);n.p9=0;for(var k=0;k<U.length;
k++)iC.a49(_,U[k],n,o,N,a);while(n.p9>0){n.b.push(n.b8());n.p9--}n.b.reverse();delete n.p9;n.buffer=B.U(n.l*n.e*4);
if(n.b.length==0)console.log("No layers!!!");for(var k=0;k<V.length;k++){var c=iC._r(_,V[k],o,N,a);if(c.GI[bV.are])n.q={channel:c.VR,rect:new gl(0,0,n.l,n.e)}}};
iC.a49=function(D,n,_,b,w,i){var M=_.ni(),N=j.n(D,n),V=0;n+=4;var a=j.n(D,n);n+=4;M.rect=new gl(0,0,N,a);
var o=j.n(D,n);n+=4;var U=j.xS(D,n);n+=U.kL;M.rK(U.cg);var c={};n=iC.GY(D,n,c);if(c[bV.EP]){var E=c[bV.EP];
V=E.length/4-1}if(c[bV.Da]){M.rect.x=j.H8(c[bV.Da],0);M.rect.y=j.H8(c[bV.Da],4)}if(c[bV.uI]){M.opacity=j.n(c[bV.uI],0)}if(c[bV.atC]){M.add.lsct=f4.AU;
M.rect=new gl(0,0,0,0);M.buffer=B.U(0);M.VN=24}if(c[bV.LC]){var A=j.n(c[bV.LC],0);M.QQ=bV.arB[A];if(M.nR()&&M.QQ=="norm")M.QQ="pass"}if(c[bV.Y4]){if(j.n(c[bV.Y4],0)==0)M.VN+=2}if(c[bV.I_]){var Q=j.n(c[bV.I_],0);
M.add.lsct=Q&1==1?f4.AU:f4.Aj}if(c[bV.dR]){var J=c[bV.dR];for(var L in J){var P=J[L];if(L=="gimp-text-layer"){var u=iC.a9w(P),m=u.text,x=u.font,v=u.color,W=u["font-size"];
if(m==null&&u.markup){var Z=new DOMParser,r=Z.parseFromString(u.markup,"image/svg+xml");while(r.firstChild!=null&&r.firstChild.tagName!=null){r=r.firstChild;
var X=r.getAttribute("font"),$=r.getAttribute("foreground"),I=r.getAttribute("size");if(X!=null)x=X;
if($!=null){$=CSS.RC($);v=[1,$.p/255,$.z/255,$.S/255]}if(I!=null){W=""+parseFloat(I)/245}}m=r.textContent}M.add.lnsr="rend";
M.add.TySh=jg.aH(0,0);M.add.TySh.dI=new gl(0,0,100,100);M.add.TySh.A=new e3(1,0,0,1,M.rect.x,M.rect.y);
var T=M.add.TySh.uP;jg.kW(T,0,m);var e=jg.np(T,0,0),F=u.justify,y=u["line-spacing"];if(v)e.OT.FillColor={Type:1,Values:[1,parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])]};
if(W){W=Math.round(parseFloat(W));e.OT.FontSize=W;M.add.TySh.A.LE+=Math.min(17,W*.17)}if(y){y=Math.round(parseFloat(y)+e.OT.FontSize*1.2);
e.OT.Leading=y;e.OT.AutoLeading=!1}if(F)e.ew.Justification=["left","right","center","fill"].indexOf(F);
if(x&&x!="Sans-serif"){var h=x.toLowerCase(),Y="bold italic semi extra regular condensed light".split(" "),K=h.length;
for(var k=0;k<Y.length;k++){var z=h.indexOf(Y[k]);if(z!=-1&&z<K&&h[z-1]==" ")K=z}if(K!=h.length)x=x.slice(0,K-1).split(" ").join("")+"-"+x.slice(K).split(" ").join("");
jg.jd(e,x)}jg.Ka(T,0,m.length,e);var f=u["box-width"],s=u["box-height"],l=f?parseFloat(f):M.rect.l,g=s?parseFloat(s):M.rect.e;
jg.EN(T,1);jg.vR(T,[0,0,Math.ceil(l),Math.ceil(g)])}else console.log("Unknown property "+L)}}while(_.p9>V){_.b.push(_.b8());
_.p9--}_.p9=V;if(M.add.lsct==f4.AU||M.add.lsct==f4.Aj)_.p9++;var H=w==4?j.n:j.zo;if(M.V6()){M.buffer=B.U(M.rect.u()*4);
var O=new B.YV(M.rect.u()),C=H(D,n);n+=w;var ib=H(D,n);n+=w;iC.vA(D,C,O,b,w,i);B.wq(O,M.buffer);if(ib!=0){M.v=new q.$L;
M.v.color=0;M.v.rect=M.rect.clone();M.v.channel=iC._r(D,ib,b,w,i).VR;if(c[bV.Q7])M.v.isEnabled=j.n(c[bV.Q7],0)==1}}_.b.push(M)};
iC.a9w=function(D){var n="("+j.KA(D,0,D.length-1)+")",_=[],b={};iC.Vf(n,1,_);iC.ahn(_,b);return b};iC.ahn=function(D,n){for(var k=0;
k<D.length;k++){var _=D[k],b=_[0];if(_.length==2)n[b]=_[1];else n[b]=_.slice(1)}};iC.Vf=function(D,n,_){while(!0){if(n>=D.length)throw"e";
var b=D.charAt(n);n++;if(b=="("){var w=[];n=iC.Vf(D,n,w);_.push(w)}else if(b==" "||b=="\n"||b=="\r"){}else if(b==")")return n;
else if(b=="\""){var i=n;while(!0){var M=D[n];n++;if(M=="\"")break;if(M=="\\")n++}_.push(JSON.parse(D.slice(i-1,n)))}else{var i=n-1;
while(D[n]!=" "&&D[n]!=")")n++;_.push(D.slice(i,n))}}};iC._r=function(D,n,_,b,w){var i=j.n(D,n);n+=4;
var M=j.n(D,n);n+=4;var N=j.xS(D,n);n+=N.kL;var a={};n=iC.GY(D,n,a);var o=new B.YV(i*M),U=b==4?j.n:j.zo,V=U(D,n);
n+=b;iC.vA(D,V,o,_,b,w);return{VR:o.p,GI:a}};iC.vA=function(D,n,_,b,w,i){var M=j.n(D,n);n+=4;var N=j.n(D,n);
n+=4;var a=j.n(D,n);n+=4;var o=w==4?j.n:j.zo,U=o(D,n);n+=w;iC.ate(D,U,_,b,a,w,i)};iC.ate=function(D,n,_,b,w,i,M){var N=j.n(D,n),U=0,k=0;
n+=4;var a=j.n(D,n);n+=4;var o=new gl(0,0,N,a);if(M==100||M==150)U=1;else if(M==200||M==250)U=2;else if(M==300||M==350)U=4;
else if(M==500||M==550)U=2;else if(M==600||M==650)U=4;else if(M==700||M==750)U=8;else{alert("unsupported bit depth "+M);
throw"e"}var V=w/U,U=Math.round(w/V),c=[];n=iC.fB(D,n,c,i);var E=new B.YV(64*64*U),A=new gl,Q=b[bV.a00][0],J=[E.p,E.z,E.S,E.vd];
if(V==3)E.vd.fill(255);var L=Date.now();for(var P=0;P<a;P+=64)for(var u=0;u<N;u+=64){var m=Math.min(N-u,64),x=Math.min(a-P,64),v=m*x;
A.bq(u,P,m,x);iC.an9(D,c[k++],v*U,Q,V,J);if(M==100||M==150){}else if(M==250){for(var W=0;W<V;W++){var Z=J[W];
for(var r=0;r<v;r++){var X=Z[r]<<8|Z[v+r];Z[r]=Math.min(X>>>8,255)}}}else if(M==600){var $=iC.a8y(),I=new Uint32Array(1),T=new Float32Array(I.buffer);
for(var W=0;W<V;W++){var Z=J[W];for(var r=0;r<v;r++){I[0]=Z[r]<<24|Z[v+r]<<16|Z[(v<<1)+r]<<8|Z[(v<<1)+v+r]<<0;
var e=T[0];if(e<0)e=0;else if(e>1)e=1;Z[r]=$[~~(.5+e*1e3)]}}}else console.log("unknown data format",M);
B.dp(E,A,_,o)}};iC.a8y=function(){var D=iC.ael;if(D!=null)return D;D=iC.ael=new Uint8Array(1001);for(var k=0;
k<1001;k++)D[k]=~~(.49+255*B.Ul(k*.001));return D};iC.an9=function(D,n,_,b,w,i){if(b==1){for(var M=0;
M<w;M++){var N=i[M],a=0;while(a<_){var cQ=D[n];n++;if(cQ<127){var o=D[n];n++;cQ++;for(var k=0;k<cQ;k++)N[a+k]=o}else if(cQ==127){var U=D[n];
n++;var V=D[n];n++;var o=D[n];n++;cQ=U<<8|V;for(var k=0;k<cQ;k++)N[a+k]=o}else if(cQ==128){var U=D[n];
n++;var V=D[n];n++;cQ=U<<8|V;for(var k=0;k<cQ;k++)N[a+k]=D[n+k];n+=cQ}else{cQ=256-cQ;for(var k=0;k<cQ;
k++)N[a+k]=D[n+k];n+=cQ}a+=cQ}}}else if(b==2){var c=pako.inflate(D.slice(n)),E=Math.round(c.length/_);
for(var k=0;k<_;k++){var A=k*E;i[0][k]=c[A];i[1][k]=c[A+1];i[2][k]=c[A+2];i[3][k]=E==3?255:c[A+3]}}else alert("Unknown compression "+b)};
iC.fB=function(D,n,_,b){var w=b==4?j.n:j.zo;while(!0){var i=w(D,n);n+=b;if(i==0)break;else _.push(i)}return n};
iC.GY=function(D,n,_){while(!0){var b=j.n(D,n);n+=4;var w=j.n(D,n);n+=4;if(b==bV.aty)break;else if(b==bV.dR)_[b]=iC.aog(D,n,n+w);
else _[b]=j.ls(D,n,w);n+=w}return n};iC.aog=function(D,n,_){var b={};while(n<_){var w=j.xS(D,n);n+=w.kL;
var i=j.n(D,n);n+=4;if(i!=1)console.log("unknown flags",i);var M=j.n(D,n);n+=4;b[w.cg]=j.ls(D,n,M);n+=M}return b};
var bV={aty:0,adZ:1,ahg:2,aqr:3,are:4,ao5:5,uI:6,LC:7,Y4:8,apw:9,abS:10,Q7:11,atQ:12,afP:13,acg:14,Da:15,akk:16,a00:17,ahW:18,a61:19,ad0:20,dR:21,au9:22,aln:23,ala:24,ahV:25,a0V:26,al7:27,aaZ:28,atC:29,EP:30,I_:31,alm:32,a0M:33,a1H:34,amC:35,aeD:36,a2O:37,arR:38,a19:0,a8X:1,a74:2,a0U:3,ahK:1,ajZ:2,aeo:0,ahb:1,aco:1};
bV.arB="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var cz=function(){var D=!1,n,_,u;function b(){var v=j.gw(n,_,4);_+=4;return v[3]+v[2]+v[1]+v[0]}function w(){var v=j.gw(n,_,4);
_+=4;return v}function i(){var v=n[_];_+=1;return v}function M(){var v=j.P$(n,_);_+=2;return v}function N(){var v=j.c7(n,_);
_+=4;return v}function a(){var v=j.ci(n,_);_+=4;return v}function o(){var v=j.c7(n,_);_+=8;return v}function U(){var v=j.lR(n,_);
_+=4;return v}function V(){var v=j.cJ(n,_);_+=8;return v}function c(){var v=j.P$(n,_),W=j.KA(n,_+2,v);
_+=2+v;return W}function E(){var v=j.c7(n,_),W=j.KA(n,_+4,v);_+=4+v;return W}function A(v){_=v;var W=[];
while(_!=0){var Z=w();if(Z!="#FT4"&&Z!="#FT3"&&Z!="#FT2")throw Z;var r=o(),X=o(),$=o(),I=o(),T=o(),e=N(),F=N(),y=N(),h=M(),Y=i(),K={};
W.push(K);for(var k=0;k<e;k++){var z=N(),f=i();if(f!=0&&f!=1&&f!=2)throw f;var s=[];if(f==0||f==1){var l=o(),g=o(),H=o(),O=N(),C=i(),ib=N(),hH=Z!="#FT4"?0:N(),R=null;
if(Z=="#FAT"||Z=="#FT2"){switch(C){case 1:C=1;break;case 2:C=65;break;case 3:C=129;break;case 4:C=193;
break;default:C=0;break}}if(f==0)R=c();s=[l,g,H,C,R]}K["i"+z]=[f,s]}for(var k=0;k<h;k++){var fR=M(),j4=M(),cP=o(),a8=j.gw(n,_,fR);
_+=fR}_=r}W.reverse();for(var d0=1;d0<W.length;d0++){var K=W[d0],b9=W[d0]=JSON.parse(JSON.stringify(W[d0-1]));
for(var jG in K){var jP=K[jG];if(jP[0]==0)b9[jG]=jP;else if(jP[0]==1){jP[1][4]=b9[jG][1][4];b9[jG]=jP}else if(jP[0]==2)delete b9[jG]}}var aq=W.pop(),gM=[];
for(var jG in aq)gM.push(aq[jG][1]);gM.sort(function(gv,dT){return gv[0]-dT[0]});return gM}function Q(v,W,Z,r){while(_<n.length){var X=i(),e=null;
if(X==0){if(r){var $=i();if($!=2){var I=b()}if($==0)_+=4;r=!1;continue}else{break}}var T=b();if(D)console.log("  ".repeat(W),X,X&127,T,v._type);
if(X>127)e=J(X,W,Z);else e=L(X,W,Z);v[T]=e}}function J(v,W,Z){var r=[];v=v&127;if(v==43)_+=4;var X=N();
if(v==50){var $=b(),I=M();if(I!=1)throw"e";for(var k=0;k<X;k++){var T={_status:"NotShared",_type:$};
r.push(T);var e=i();if(e!=1)throw e;Q(T,W+1,Z)}}else for(var k=0;k<X;k++){r.push(L(v,W,Z));if(v==42)v=2}return r}function L(v,W,Z){var r=null;
if(v==49){r={};var X=i();if(X!=0){var $=N();if(Z==null){r._id=$;r._status=["Shared","Link"][X-1]}if(Z&&X==2)r=Z[$];
if(X==1){if(Z)Z[$]=r;var I=i(),T=!1;if(I>1)throw I;r._type=b();if(D)console.log("  ".repeat(W),"new",r._type,I,_);
if(I==0){while(!0){var e=M();if(e!=0&&e!=1&&e!=2&&e!=4)throw e;if(n[_]!=0){T=!0;break}var F=M();if(F==512)break;
var y=b();if(F==256)break}}Q(r,W+1,Z,T)}}}else if(v==50){r={_status:"NotShared"};if(i()==1){r._type=b();
_+=2;Q(r,W+1,Z)}}else if(v==1)r={type:"byte",value:i()};else if(v==2)r={type:"uint16",value:M()};else if(v==3)r={type:"uint32",value:N()};
else if(v==4)r={type:"uint64",value:o()};else if(v==7)r={type:"int32",value:a()};else if(v==8)r={type:"int64",value:o()};
else if(v==9)r={type:"float32",value:U()};else if(v==10)r={type:"float64",value:V()};else if(v==21)r={type:"Vec2i",value:[N(),N()]};
else if(v==23)r={type:"Vec4i",value:[N(),N(),N(),N()]};else if(v==33)r={type:"Vec4f",value:[U(),U(),U(),U()]};
else if(v==36)r={type:"Vec2",value:[V(),V()]};else if(v==38)r={type:"Vec4",value:[V(),V(),V(),V()]};
else if(v==40)r={type:"Vec6",value:[V(),V(),V(),V(),V(),V()]};else if(v==41)r={type:"bool",value:i()!=0};
else if(v==42)r={type:"Enum",value:N()};else if(v==43)r={type:"string",value:E()};else if(v==44){var h=M();
r={type:"curv16",value:[V(),h==12?[i(),i(),i(),i()]:[N(),N()]]}}else if(v==45){var h=N();r={type:"buff",value:n.slice(_,_+h)};
_+=h}else if(v==47){r={type:"uint32",value:N()}}else if(v==48){var Y=[],K=M();if(K!=1)throw K;if(n[_]==135){var z=J(i(),W+1,Z),f=J(i(),W+1,Z),s=J(i(),W+1,Z);
Y=[z,f,s]}else{var l=1;if(n[_]==3){i();l=N()}for(var k=0;k<l;k++){if(i()!=41)throw"e";var $=i();if($!=0&&$!=1)throw $;
if(i()!=172)throw"e";var g=N(),H=M(),O=[];Y.push(O);if(H!=18)throw H;if(g>2e3)throw g;for(var C=0;C<g;
C++)O.push([V(),V(),i(),i()])}}_++;r={type:"curve",value:Y}}else if(v==51){r={type:"EmbeddedData"};r[b()]=E()}else if(v==52)r={type:"uint32",value:N()};
else if(v==56)r={type:"Color32",value:[i(),i(),i(),i()]};else if(v==68)r={type:"ColorRGBA",value:[U(),U(),U(),U()]};
else if(v==72)r={type:"ColorCMYK",value:[U(),U(),U(),U(),U()]};else{throw v}return v==49||v==50||v==51?r:r.value}function P(v){var W=0,Z=v.length;
for(var k=0;k<Z;k++)v[k]=W=W+v[k]&255}function m(v){n=v;_=4;var W=N(),Z=w();if(Z!="nsrP")throw Z;var Z=w();
if(Z!="#Inf")throw Z;var r=o();u=o();var X=o(),$=o(),I=o(),T=N(),e=N(),Z=w();if(Z!="Prot")throw Z;var T=N(),F=A(r),y={},h=Date.now();
for(var Y=0;Y<F.length;Y++){var K=F[Y],z=K[3],H=null;_=K[0];var Z=w();if(Z!="#Fil")throw Z;var f=z>>>5&1,s=z&3,l=z&192;
switch(l){case 64:l=1;f=0;break;case 128:l=2;break;case 192:l=3;break;default:l=0;f=0}var g=new Uint8Array(n.buffer,_,K[2]);
if(s==0)H=g;else if(s==1)H=pako.inflate(g);else if(s==2)H=eF.lT.$b(g,K[1]);else throw s;if(f==0){if(l==1)P(H);
if(l==2)throw"e"}else throw f;y[K[4]]=H}return y}function x(v){var W=m(new Uint8Array(v));n=W["doc.dat"];
_=16;var Z={};Q(Z,0,[]);return[W,Z,u]}return{a1X:x}}();function ft(){}ft.Z6=function(){function D(E,A){var Q=Date.now(),J=cz.a1X(E),L=J[0],P=J[1],u=J[2],m=P.DocR,x=m.DfSz,v=m.Chld;
if(v.length!=1)throw"e";var W=v[0],Z=W.SprB;v=W.Chld;A.l=~~Z[2];A.e=~~Z[3];A.buffer=B.U(A.l*A.e*4);var r=[0,{}];
for(var k=0;k<v.length;k++)w(v[k],A,L,new e3,r);A.tt(r[0]);console.log(Date.now()-Q,"Document created");
Q=Date.now()}function n(E){return new e3(E[0],E[3],E[1],E[4],E[2],E[5])}function _(E,A){var Q=A.Xfrm;
Q=Q?n(Q):new e3;Q.concat(E);return Q}function b(E){var A={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[E];
return A?A:"norm"}function w(E,A,Q,J,L){var P=E._type,u=E.Chld,m=A.ni();m.rK(E.Desc==null||E.Desc==""?P=="Grup"?"Folder":"Layer":E.Desc);
m.oj(E.Visi);m.opacity=Math.round(255*E.Opac);if(E.FOpc!=1)m.add.iOpa=Math.round(255*E.FOpc);var x=E.Blnd;
if(x!=null)m.QQ=b(x);var v=_(J,E),W=P=="ShpN"||P=="PCrv";if(u){A.b.push(A.b8());m.add.lsct=f4.AU;m.QQ="pass";
m.VN=24;if(P=="ShpN"){var Z=E.ShpB;m.Cx(new gl(Z[0]+v.oE,Z[1]+v.LE,Z[2]-Z[0],Z[3]-Z[1]));L[0]++;m.add.artb.Clr={t:"Objc",v:B.X.Ea({p:255,z:255,S:255})}}for(var k=0;
k<u.length;k++)w(u[k],A,Q,v,L)}else if(P=="Rstr"||P=="ImgN"||P=="MRst"){var r=E.Bitm,X=r.Bckg,$=Date.now(),I;
if(X==null){I=o(r,Q,L[1]);m.rect=I[2].clone();m.buffer=I[1].slice(0);m.rect.x+=v.oE;m.rect.y+=v.LE}if(X||v.gM()!=1){var T,e=0,F=0;
if(X){var y=Q[X.Data],h=j.BR(y,"ataD")+4,Y=j.c7(y,h);h+=4;T=y.slice(h,h+Y)}else{e=m.rect.x-v.oE;F=m.rect.y-v.LE;
if(I[3]==null)I[3]=new Uint8Array(eF.rW("PNG").VX([[m.buffer.buffer]],m.rect.l,m.rect.e));T=I[3].slice(0)}var K=A.$n(T,m.getName(),0,0);
K.VN=m.VN;K.opacity=m.opacity;m=K;var z=new e3;z.translate(e,F);z.concat(v);var f=m.rect.clone();f.x=f.y=0;
var s=B.H.X0(f).t;B.H.A(s,z,s);m.add.SoLd.Trnf=G.Q.sy(s);m.add.SoLd.nonAffineTransform=G.Q.sy(s);m.RZ(A,!1)}}else if(P=="TxtA"||P=="TxtF"){m.add.lnsr="rend";
m.add.TySh=jg.aH(0,0);m.add.TySh.dI=new gl(0,0,100,100);var l=E.TxtH.FrmB,g=new e3,ib=0;g.translate(l[0],l[1]);
g.concat(v);m.add.TySh.A=g;var H=m.add.TySh.uP,O=E.StSt,C=O.Blok;if(C.length!=1)throw"e";for(var hH=0;
hH<C.length;hH++){var R=C[hH],fR=ib,j4=0,cP=R.Glyp.Utf8;cP=cP.replace(/\u2028/g,"\n");cP=cP.replace(/\u2029/g,"\n");
cP=cP.slice(0,cP.length-1);jg.kW(H,ib,cP);ib+=cP.length;var a8=R.GAtt.Runs,d0=R.PAtt.Runs[0],b9=d0.Item.Ints[0];
for(var jG=0;jG<a8.length;jG++){var jP=a8[jG],aq=jP.Indx,gM=jP.Item,gv=gM.Objs,dT=jg.np(H,fR,1);dT.ew.Justification=b9==0?0:b9==1?2:1;
jg.jd(dT,gM.DFnt.Post);dT.OT.FontSize=gM.Doub[0];for(var k=0;k<gv.length;k++){var aC=gv[k];if(aC._type=="FDsc"){var c1=aC.FDeF;
if(c1._type=="FilS"){var aj=a(c1.Colr);dT.OT.FillColor={Type:1,Values:[1,aj[0],aj[1],aj[2]]}}}}jg.Ka(H,fR+j4,fR+Math.min(aq,cP.length),dT);
j4=aq}}jg.EN(H,1);jg.vR(H,[0,0,Math.round(l[2]-l[0]),Math.round((l[3]-l[1])*1.2)]);A.C8=!0}else if(W){m.VN|=16;
var bD=m.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));m.add.vstk.strokeEnabled.v=!1;m.add.vogk=[];
var cy=m.add.vmsk=i(E);B.$.vZ(cy.Y,v);if(E.BFFl){var co=E.BFFl[0].FDeF,hV=co._type;if(hV=="FilS")m.add.SoCo={classID:"null",Clr:N(co.Colr)};
else if(hV=="FilG"){var il=m.add.GdFl=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]);M(co,il)}else if(hV=="FilN"){m.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:0,z:0,S:0})}};
bD.fillEnabled.v=!1}else console.log(hV)}if(E.LILn){var h6=E.LILn[0].LDeL,c8=h6.Wght;if(c8!=0){bD.strokeEnabled.v=!0;
bD.strokeStyleLineWidth.v.val=c8;var co=E.LIFl[0].FDeF,hV=co._type;if(hV=="FilS")bD.strokeStyleContent.v.Clr=N(co.Colr);
else if(hV=="FilN")bD.strokeEnabled.v=!1}}m.p8(A)}else console.log(P);var fx=E.AdCh,bU=[];if(fx)for(var k=0;
k<fx.length;k++){var b6=fx[k],iF=b6._type;if(iF=="ShpN"||iF=="PCrv"){var cy=m.add.vmsk=i(b6),dY=_(v,b6);
B.$.vZ(cy.Y,dY);m.p8(A)}else if(b6.AdjP){var bl=b6.AdjP,dc=bl._type,hN={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dc];
if(hN==null){console.log(bl);continue}var ga=cq.Qk(hN,{});bU.push(ga);var b1=ga.v.Fltr.v;if(dc=="LevP"){var fc=jA.tg(b1,0);
fc[0]=bl.OutB*255;fc[1]=bl.OutW*255;jA.Pt(b1,0,fc)}else if(dc=="WhBP"){var fc=jA.tg(b1,2);fc[4]=100+bl.WBTi*20;
jA.Pt(b1,2,fc);var fc=jA.tg(b1,3);fc[4]=100+bl.WBTi*200;jA.Pt(b1,3,fc)}else if(dc=="HSSP"){var fc=bE.tg(b1,0);
fc[0]=Math.round(bl.HueA*256);fc[1]=Math.round(bl.SatA*256);fc[2]=Math.round(bl.LumA*256);bE.Pt(b1,0,fc)}else if(dc=="RecP"){b1.Clrz.v=!0;
var fc=bE.tg(b1,0);fc[0]=Math.round(bl.RecH*100);fc[1]=Math.round(bl.RecS*100);fc[2]=Math.round(bl.RecL*100);
bE.Pt(b1,0,fc)}else if(dc=="B&CP"){b1.Brgh.v=Math.round(bl.Brig*100);b1.Cntr.v=Math.round(bl.Ctrs*100-100)}else if(dc=="PosP"){b1.Lvls.v=bl.Post}else if(dc=="VibP"){b1.vibrance.v=bl.Vibr-100;
b1.Strt.v=Math.round(bl.Satu*100)}else if(dc=="ExpP"){b1.Exps.v=bl.Expo;b1.gammaCorrection.v=bl.Gamm/2.2}else if(dc=="ThrP"){b1.Lvl.v=Math.round(bl.Thre*255)}else if(dc=="CrvP"){var h9=bl.Mast["Cnt "],cB=bl.Mast.Vals,fc=jx.tg(b1,0),bp=fc[0];
for(var eK=0;eK<h9;eK++){var fm=fc[eK]=JSON.parse(JSON.stringify(bp));fm.v.Hrzn.v=Math.round(cB[eK]*255);
fm.v.Vrtc.v=Math.round(cB[4+eK]*255)}jx.Pt(b1,0,fc)}}else console.log(b6)}if(bU.length!=0){m.add.SoLd.filterFX=cq.M8();
A.Oq({id:m.add.SoLd.placed.v,rect:new gl,buffer:B.U(1),v:new q.$L});m.add.SoLd.filterFX.v.filterFXList.v=bU;
m.RZ(A,!1)}var fG=E.FiEf;if(fG&&fG.length!=0){var ia=m.add.lmfx=JSON.parse(ci.default);for(var k=0;k<ci.order.length;
k++)ia[ci.L0[k]]={t:"VlLs",v:[]};for(var iz=0;iz<fG.length;iz++){var gG=fG[iz],eA=gG._type,d3={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[eA],il=d3?JSON.parse(ci.D6[ci.order.indexOf(d3)]):null;
if(eA=="ColO"){il.Clr=N(gG.Colr)}else if(eA=="GrdO"){M(gG.GrFl.FDeF,il)}else if(eA=="Shad"||eA=="InnS"||eA=="OutG"||eA=="InnG"){il.Clr=N(gG.Colr);
il.blur.v.val=Math.round(gG.Radi/2.4);if(gG.Offs!=null){il.Dstn.v.val=gG.Offs;il.lagl.v.val=Math.round(180-gG.Angl*180/Math.PI);
il.uglg.v=!1}}else if(eA=="Strk"){il.Clr=N(gG.Colr);il.Sz.v.val=Math.round(gG.Radi)}else if(eA=="PhgB"||eA=="BevE"){il.blur.v.val=Math.round(gG.Radi);
if(eA=="BevE")il.bvlS.v.BESl="PlEb"}else if(eA=="Gaus"){if(W&&gG.Enab){m.add.vmsk.rq=gG.Radi/2.4;m.add.vmsk.Vk=!0;
m.p8(A)}}if(d3){il.enab.v=gG.Enab;if(il.Md&&gG.BlnM!=null)il.Md.v.BlnM=jz.j0(b(gG.BlnM));if(il.Opct&&gG.Opac!=null)il.Opct.v.val=Math.round(gG.Opac*100);
var cY=ci.L0[ci.order.indexOf(d3)];ia[cY].v.unshift({t:"Objc",v:il})}}}A.b.push(m)}function i(E){var A=new q.IQ,Q=E._type;
if(Q=="PCrv"){var J=E.Crvs.Data,L=[],P=[];for(var k=0;k<J.length;k++){var u=J[k];if(u.length%3!=1){u=u.slice(1,u.length-1)}for(var m=0;
m<u.length;m++){var x=u[m],v=x[2];if(v!=0)L.push(m==0?"M":"C");P.push(x[0],x[1])}}A.Y=B.H.yL({t:P,C:L},!0)}else{var W=E.ShpB,Z=E.Shpe,r=Z._type,X=W[2]-W[0];
if(r=="ShpE"){A.Y=B.$.yA.h6(W[0],W[1],W[2]-W[0],W[3]-W[1])}else if(r=="ShNR"){var $=[0,0,0,0];if(Z.CTyp){$=Z.ShCR.slice(0);
for(var k=0;k<4;k++)$[k]*=W[2]-W[0]}A.Y=B.$.yA.Rect(W[0],W[1],W[2]-W[0],W[3]-W[1],$)}else if(r=="ShpT"){A.Y=B.H.yL({C:["M","L","L","Z"],t:[W[0],W[3],W[2],W[3],W[0]+X*.5,W[1]]},!0)}else if(r=="ShTz"){A.Y=B.H.yL({C:["M","L","L","L","Z"],t:[W[0]+X*Z.PosL,W[1],W[0]+X*Z.PosR,W[1],W[2],W[3],W[0],W[3]]},!0)}else{console.log("--",r);
A.Y=B.$.yA.Rect(W[0],W[1],W[2]-W[0],W[3]-W[1],[0,0,0,0])}}return A}function M(E,A){var Q=E.Grad,J=Q.Cols;
A.Type.v.GrdT=E.Type==0?"Lnr":"Rdl";var L=[];for(var k=0;k<J.length;k++){var P=a(J[k]);L.push([Q.Posn[k][0],P])}A.Grad.v.Intr.v=0;
B.X.q2(L,A.Grad.v);var u=Q.Posn,m=new gZ(u[0][0],u[0][1]),x=new gZ(u[1][0],u[1][1]);if(E.Type==0)m=new gZ((m.x+x.x)/2,(m.y+x.y)/2);
B.X.o6(m,x,new gl(0,0,1,1),A)}function N(E){var A=a(E);return{t:"Objc",v:B.X.Ea({p:A[0]*255,z:A[1]*255,S:A[2]*255})}}function a(E){var A=E._col,Q=E._type;
if(Q=="HSLA"){var J=B.jz(A[0],A[1],A[2]);return[J.p,J.z,J.S,A[3]]}else if(Q=="RGBA")return A;else if(Q=="CMYK"){var L=1-A[3];
return[(1-A[0])*L,(1-A[1])*L,(1-A[2])*L]}else{console.log(A);throw Q}}function o(E,A,Q){var J=E.Frmt,$="";
if(J!=0&&J!=6)throw J;var L=E.BmpW,P=E.BmpH,u=J==0?4:1,m=Math.ceil(L/256),x=Math.ceil(P/256),v=new gl(0,0,m,x),W=new gl;
for(var k=0;k<u;k++){var Z=new Uint8Array(E["Sta"+(k+1)]),r=B.y2(Z,v);W=W.Ik(r)}var X=[];for(var k=0;
k<u;k++){var Z=new Uint8Array(E["Sta"+(k+1)]),I=B.U(W.u());B.I4(Z,v,I,W);X[k]=[];for(var T=0;T<I.length;
T++)X[k][T]=I[T];$+=JSON.stringify(X[k])+","+JSON.stringify(E["Idx"+(k+1)])+","}if(Q[$]==null){var e=W.l*256,F=W.e*256,y=new Array(u);
for(var k=0;k<u;k++){var Z=y[k]=new Uint8Array(e*F);U(Z,E["Idx"+(k+1)],X[k],A,e,F)}var h=B.U(e*F*4);
if(J==0)B.wq({p:y[0],z:y[1],S:y[2],vd:y[3]},h);else{h.fill(255);B.hd(y[0],h)}var Y=new gl(0,0,e,F),K={buffer:h,rect:Y};
B.NQ(K);Q[$]=[K.rect,K.buffer]}var r=Q[$][2]=Q[$][0].clone();r.x+=W.x*256;r.y+=W.y*256;return Q[$]}function U(E,A,Q,J,L,P){var u=0,m=L>>>8,x=P>>>8;
for(var v=0;v<x;v++)for(var W=0;W<m;W++){var Z=W*256,r=v*256,X=v*m+W,$=r*L+Z,I=Q[X];if(I<=1)V(E,$,0,L,256,256);
else if(I==2)V(E,$,4294967295,L,256,256);else if(I==4){var T=A[u];u++;var e=J[T.Data.DatI],F=T.Rect;
if(F==null)F=[0,0,256,256];V(E,$,0,L,256,256);c(E,(r+F[1])*L+Z+F[0],e,F[1]*256+F[0],L,256,F[2]-F[0],F[3]-F[1])}else console.log(I)}}function V(E,A,Q,J,L,P){var u=A+J*P;
for(;A<u;A+=J){var m=A+L;for(var x=A;x<m;x++){E[x]=Q}}}function c(E,A,Q,J,L,P,u,m){var x=A+L*m,v=J+P*m;
for(;A<x&&J<v;A+=L,J+=P){for(var k=0;k<u;k++)E[A+k]=Q[J+k]}}return D}();function is(){}is.Z6=function(D,n){var _=is,b=jn.parse(D),i=0;
if(b.pages.length>1)console.log(b.pages.length,"pages");var w=[],M=new gl;for(var N=0;N<b.pages.length;
N++){var a=b.pages[N],o=a.layers,U=_.t0(o,N),c=!1;if(U.u()>8e3*8e3||U.l>3e4||U.e>3e4){_.c2(o,!0);var V=_.t0(o,N);
if(V.u()>=U.u())_.c2(o,!1)}U=_.t0(o,N);for(var E=0;E<o.length;E++){var A=o[E];if(_.rv(A)=="artboard")c=!0}if(!c){console.log("no artboard");
var Q={};for(var J in a)Q[J]=a[J];Q._class="group";a.layers=[Q]}w.push(U.clone());if(U.hk())continue;
U.x=0;U.y=i;i+=U.e+200;M=M.Ik(U)}var L={};if(b.foreignSymbols)for(var k=0;k<b.foreignSymbols.length;
k++){var P=b.foreignSymbols[k].symbolMaster;L[P.symbolID]={nP:P}}_.qz(b.pages,L,n);for(var u in L){var A=L[u].nP,m=_.QY(A.layers)}var x=is.JW(M,8192*8192);
n.C8=!0;n.l=Math.round(M.l/x);n.e=Math.round(M.e/x);n.buffer=B.U(n.l*n.e*4);n.tt(b.pages[0].layers.length);
n.$u={};n.mW=[];i=0;for(var N=0;N<b.pages.length;N++){var v=b.pages[N],U=w[N],W=new e3(x,0,0,x,U.x,U.y-i);
_.t8(v.layers,n,W,b,L,{},[]);i+=U.e+200}delete n.$u;delete n.mW;if(x!=1)alert("File scaled down "+x+"x");
n.afO()};is.amf=0;is.rv=function(D){return D._class?D._class:D.$class};is.JW=function(D,n){var _=1;while(Math.round(D.l/_)*Math.round(D.e/_)>n||Math.max(Math.round(D.l/_),Math.round(D.e/_))>3e4)_++;
if(_!=1&&!window.confirm("Your image is quite large ("+D.l+" x "+D.e+" px).\n"+"Press OK to scale it down "+_+"x, or Cancel to keep the size."))_=1;
return _};is.t0=function(D,n){var _=[],b=is;for(var w=0;w<D.length;w++){var i=D[w],M=b.bV(i.frame);if(n==0||b.rv(i)=="artboard")_.push(M)}return B.rect.lw(_)};
is.c2=function(D,n){var _=[],b=is;for(var w=0;w<D.length;w++){var i=D[w],M=b.bV(i.frame);M.l+=150;M.e+=150;
_.push(M)}var N=B.rect.lw(_);B.rect.aez(_,n);var a=B.rect.lw(_);if(a.u()*1.5<N.u()||N.l>3e4&&a.l<=3e4||N.e>3e4&&a.e<=3e4){alert("Re-arranging artboards");
for(var w=0;w<D.length;w++){var o=_[w],i=D[w],U=i.frame;U.x=o.x;U.y=o.y}}};is.qz=function(D,n,_){var b=is;
for(var w=0;w<D.length;w++){var i=D[w],M=b.rv(i);if(["page","artboard","group"].indexOf(M)!=-1)b.qz(i.layers,n,_);
else if(M=="symbolMaster")n[i.symbolID]={nP:i}}};is.QY=function(D){var n=is;for(var _=0;_<D.length;_++){var b=D[_],w=n.rv(b),i=null;
if(["page","artboard","group"].indexOf(w)!=-1)i=n.QY(b.layers);if(w=="symbolMaster"||w=="symbolInstance")i=b;
if(i!=null)return i}return null};is.t8=function(D,n,_,b,w,i,M){var N=is,a=[];for(var o=0;o<D.length;
o++){var U=D[o],V=U.frame?N.bV(U.frame):null,c=U.style,L="",W=null,Z=!1;if(c==null){console.log("no styles")}var E=N.nn(U,_),A=N.rv(U),Q=A=="shapeGroup"||A=="shapePath"||A=="rectangle"||A=="oval"||A=="triangle"||A=="polygon",J=["page","artboard","group"].indexOf(A)!=-1;
if(A=="shapeGroup"){for(var k=0;k<U.layers.length;k++)if(N.rv(U.layers[k])=="shapeGroup")J=!0}var P=U.exportOptions;
if(P){var u=P.exportFormats;if(u==null)u=P.sizes;if(A!="artboard"&&(u&&u.length!=0)){var m=u[0].scale}}var x=n.ni();
x.oj(U.isVisible);var v=U.name;if(!(typeof v=="string"))v=A;x.rK(L+v.slice(0,250));if(c!=null)W=N.abR(b,n,c,V,E,x.getName(),Q||A=="artboard"||J);
if(A=="rectangle"&&c&&c.fills&&c.fills[0]){var r=c.fills[0];if(r.fillType==4&&r.patternFillType>1&&r.image!=null)Z=!0}if(U.shouldBreakMaskChain){while(a.length!=0)N.bJ(a.pop(),n)}if(J){x.add.lsct=U.layerListExpandedType==2?f4.AU:f4.Aj;
x.QQ="pass";x.VN=24;x.oj(U.isVisible);n.b.push(n.b8());if(A=="artboard"){var X=V.clone(),$=E.gM();X.x=-Math.floor(E.oE/$);
X.y=-Math.floor(E.LE/$);X.l=Math.floor(X.l/$);X.e=Math.floor(X.e/$);x.Cx(X);var I=U.backgroundColor,T=I?{p:255*I.red,z:255*I.green,S:255*I.blue}:{p:255,z:255,S:255};
x.add.artb.Clr={t:"Objc",v:B.X.Ea(T)};x.add.artb.artboardBackgroundType={t:"long",v:4}}N.t8(U.layers,n,E,b,w,i,M)}else if(Q&&!Z){x.add.vmsk=new q.IQ;
x.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));x.add.vstk.strokeEnabled.v=!1;x.add.vogk=[];var e=W!=null&&W.frameFXMulti.v.length==1,F=c?c.fills:null,y=c?N.FI(b,F,V,E,x.getName(),n,N.zf(M,U.do_objectID+"_image")):[];
if(y.length==0){if(e)x.add.vstk.fillEnabled.v=!1;else x.add.iOpa=0;x.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:0,z:0,S:0})}}}else{var h=y[0],Y=null,K=null;
if(h.type=="SoFi"){Y="SoCo";K=ci.BA}if(h.type=="GrFl"){Y="GdFl";K=ci.LY}if(h.type=="patternFill"){Y="PtFl";
K=ci.EF}if(Y!=null){x.add[Y]={classID:"null"};for(var k=0;k<K.length;k++){var z=K[k];x.add[Y][z]=h.k.v[z]}var f=h.k.v.Opct.v.val;
if(e&&f==0)x.add.vstk.fillEnabled.v=!1;else x.add.iOpa=Math.round(255*f/100)}}x.VN|=16;x.add.vmsk.Y=N.oH(U.layers?U.layers:[U],U.layers?E:_,x.add.vogk);
var s=c?c.blur:null;if(s&&s.isEnabled&&s.type<=1)x.add.vmsk.rq=s.radius;if(x.add.vmsk.Y.length==2){console.log("shape with no content:",x.getName())}if(e){var l=W.frameFXMulti.v[0].v,g=x.add.vstk,H=c.borders[0];
W.frameFXMulti.v=[];aL.an5(l,g);var O=c.borderOptions,C=c.miterLimit;if(O){var ib=O.dashPattern;g.strokeStyleLineCapType.v.strokeStyleLineCapType=ci.yg.Xr[O.lineCapStyle];
g.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ci.yg.join[O.lineJoinStyle];if(ib)g.strokeStyleLineDashSet.v=aL.jx(ib,1/l.Sz.v.val);
if(C!=null)g.strokeStyleMiterLimit.v=C}}x.p8(n)}else if(A=="bitmap"||Z){if(!Z&&U.image==null)continue;
var hH=Z?c.fills[0]:null,R=Z?hH.image.bdata:U.image.bdata,fR=n.$n(R,x.getName(),0,0);fR.VN=x.VN;x=fR;
var s=c?c.blur:null,j4=c?c.colorControls:null;if(s||j4){x.add.SoLd.filterFX=cq.M8();n.Oq({id:x.add.SoLd.placed.v,rect:new gl,buffer:B.U(1),v:new q.$L});
var F=x.add.SoLd.filterFX.v.filterFXList.v;if(s){var cP=cq.Qk("GsnB",{});cP.v.enab.v=s.isEnabled;cP.v.Fltr.v.Rds.v.val=s.radius;
F.push(cP)}if(j4){var a8=j4.brightness,d0=j4.contrast,b9=j4.hue,jG=j4.saturation;if(b9!=0||jG!=1){var cP=cq.Qk("hue2",{});
cP.v.enab.v=j4.isEnabled;bE.Pt(cP.v.Fltr.v,0,[Math.round(b9*180/Math.PI),Math.round((jG-1)*100),0]);
F.push(cP)}if(a8!=0||d0!=1){var cP=cq.Qk("brit",{});cP.v.enab.v=j4.isEnabled;d0=d0-1;if(d0>0)d0/=2;var jP=cP.v.Fltr.v;
jP.Brgh.v=Math.round(a8*255);jP.Cntr.v=Math.round(d0*255);jP.useLegacy.v=!0;F.push(cP)}}}if(Z){var aq=hH.patternFillType;
if(aq==3){var gM=x.rect.l/x.rect.e,gv=V.l/V.e;if(gM<gv){E.translate(-(V.l*(1-gM/gv))/2,0);E.scale(gv/gM,1)}else{E.translate(0,-(V.e*(1-gv/gM))/2);
E.scale(1,gM/gv)}}}V.x=V.y=0;var dT=B.H.X0(V).t;E.ei();B.H.A(dT,E,dT);x.add.SoLd.Trnf=G.Q.sy(dT);x.add.SoLd.nonAffineTransform=G.Q.sy(dT);
x.RZ(n,!1)}else if(A=="text"){if(U.attributedString==null)continue;var aC=E.clone(),c1,aj,il=0;aC.ei();
aC.vd=aC.Ww=Math.min(aC.vd,aC.Ww);x.add.lnsr="rend";x.add.TySh=jg.aH(0,0);x.add.TySh.dI=new gl(0,0,V.l,V.e);
x.add.TySh.A=aC;var bD=U.attributedString;if(bD.archivedAttributedString)bD=bD.archivedAttributedString;
var cy=bD.NSString;if(cy==null)cy=bD.string;if(cy==null)cy="";if(cy["NS.string"])cy=cy["NS.string"];
if(i[U.do_objectID]!=null)cy=i[U.do_objectID];var co=N.zf(M,U.do_objectID+"_stringValue");if(co)cy=co.value;
if(bD.attributes!=null){c1=[];aj=[];var hV=bD.attributes;for(var k=0;k<hV.length;k++){c1.push(hV[k].length,k);
aj.push(hV[k].attributes)}}else if(bD.NSAttributeInfo==null){c1=[cy.length,0];aj=[bD.NSAttributes]}else{c1=bD.NSAttributeInfo["NS.data"];
aj=bD.NSAttributes;c1=is.a8R(c1,aj)}for(var k=0;k<c1.length;k+=2)il+=c1[k];if(il!=cy.length){while(il>cy.length){c1[c1.length-2]--;
il--;if(c1[c1.length-2]==0){c1.pop();c1.pop()}}c1[c1.length-2]+=cy.length-il}cy=cy.replace(/\u2028/g,"\n");
cy=cy.replace(/\u2029/g,"\n");cy=cy.replace(/\r/g,"\n");var h6=x.add.TySh.uP;jg.kW(h6,0,cy);if(cy!=""){var c8=U.textBehaviour,fx=c.textStyle,bU=fx?fx.verticalAlignment:0,b6=N.ap9(h6,c1,aj,cy),$=aC.gM(),iF=jg.np(h6,0,1),dc=0;
if(iF.OT.Font){var dY=iF.SY[iF.OT.Font].Name;if(dY=="FontAwesome"||dY=="Ionicons")b6*=.87}var bl=iF.OT.AutoLeading?0:iF.OT.Leading*.6,hN=Math.max(b6,bl)*$,ga=V.l,b1=V.e;
if(c8==0){jg.EN(h6,0);var fc=jg.BB(iF.ew);if(fc==1)dc=ga*$;if(fc==2)dc=ga*$*.5;if(bU==0)hN*=1;else hN*=.9}else{jg.EN(h6,1);
jg.vR(h6,[0,0,Math.round(ga),Math.round(b1)]);if(c8==2&&bU==0)hN=hN*.2;else if(c8==2&&bU==1){hN=$*.5*(b1-iF.OT.FontSize)}else if(c8==1&&bU==0)hN=hN*.2;
else hN=hN*.35}x.add.TySh.A.translate(dc,hN)}}else if(A=="symbolInstance"||A=="symbolMaster"){var h9=U.symbolID;
if(i[U.do_objectID])h9=i[U.do_objectID].symbolID;var cB=N.zf(M,U.do_objectID+"_symbolID");if(cB)h9=cB.value;
if(h9=="")continue;var bp={};for(var z in i)bp[z]=i[z];if(U.overrides)for(var z in U.overrides)bp[z]=U.overrides[z];
var eK=M.slice(0);if(U.overrideValues)eK=eK.concat(U.overrideValues);var fm=w[h9];if(fm==null){console.log("Unknown master master",U.symbolID);
continue}var fG=is.bV(fm.nP.frame),ia=fG.l/V.l,iz=fG.e/V.e,gG=E.clone();gG.scale(ia,iz);x.add.lsct=f4.Aj;
x.QQ="pass";x.VN=24;x.oj(U.isVisible);n.b.push(n.b8());var eA=fm.nP;if(n.mW.indexOf(eA)==-1){n.mW.push(eA);
N.t8(eA.layers,n,gG,b,w,bp,eK);n.mW.pop()}}else if(A=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+A,U);continue}if(c&&c.contextSettings){var d3=c.contextSettings,cY=d3.blendMode;
if(cY<N.Hz.length){x.QQ=jz._w[jz.t7.indexOf(N.Hz[cY])];if(J&&x.QQ=="norm")x.QQ="pass"}x.opacity=Math.round(x.opacity*d3.opacity)}if(W!=null){x.add.lmfx=W}n.b.push(x);
if(U.hasClippingMask&&D.length>1){a.push(x);n.b.push(n.b8())}}while(a.length!=0)N.bJ(a.pop(),n)};is.zf=function(D,n){for(var k=0;
k<D.length;k++)if(D[k].overrideName.startsWith(n))return D[k]};is.a8R=function(D,n){var _=0,b=[];while(_+1<D.length){var w=D[_];
_++;if(w>127){w+=128*(D[_]-1);_++;if(D[_-1]>127){w+=128*(D[_]-1);_++}}var i=D[_];_++;b.push(w,i)}return b};
is.ap9=function(D,n,_,b){var w=is,i=0,U=0,V=0;for(var k=0;k<b.length;k++){var M=b.charCodeAt(k),N=1473<=M&&M<=1479||1488<=M&&M<=1514||1520<=M&&M<=1524,a=1569<=M&&M<=1594||1600<=M&&M<=1749;
if(N||a)i++}var o=i>b.length/2;for(var k=0;k<n.length;k+=2){var c=n[k],v=14,W="DejaVuSans";if(c==0)continue;
var E=n[k+1],A=_[E],Q=jg.np(D,U,U+c-1),L=A.NSColor;if(L==null){var L=A.MSAttributedStringColorDictionaryAttribute;
if(L==null)L=A.MSAttributedStringColorAttribute;if(L==null)L="0 0 0";else L=[L.red,L.green,L.blue].join(" ")}else if(w.rv(L)=="MSArchivedColor")L=L.dr+" "+L.dg+" "+L.db;
else if(L.NSRGB){L=L.NSRGB;L=j.gw(L,0,L.length-1)}else if(L.NSCMYK){L=L.NSCMYK;L=j.gw(L,0,L.length-1);
L=L.split(" ").map(parseFloat);var P=1-L[0],u=1-L[1],m=1-L[2],x=1-L[3];L=P*x+" "+u*x+" "+m*x}else if(L.NSWhite){L="1 1 1"}L=L.split(" ");
Q.OT.FillColor={Type:1,Values:[1,parseFloat(L[0]),parseFloat(L[1]),parseFloat(L[2])]};var Z=A.MSAttributedStringFontAttribute;
if(A.NSFont){v=A.NSFont.NSSize;W=A.NSFont.NSName}else if(Z){if(Z.attributes){Z=Z.attributes;v=Z.size;
W=Z.name}else{var r=Z.NSFontDescriptorAttributes;if(r==null)r=Z.UIFontDescriptorAttributes;Z=r;v=Z.NSFontSizeAttribute;
W=Z.NSFontNameAttribute}if(W==null)W="DejaVuSans"}var V=Math.max(V,v);Q.OT.FontSize=Math.round(v);jg.jd(Q,W);
var X=A.NSKern;if(X==null)X=A.kerning;if(X!=null)Q.OT.Tracking=Math.round(1e3*X/v);if(A.NSUnderline!=null)Q.OT.Underline=A.NSUnderline>0;
var $=A.NSStrikethrough;if($==null)$=A.strikethroughStyle;if($!=null)Q.OT.Strikethrough=$>0;if(A.MSAttributedStringTextTransformAttribute==1)Q.OT.FontCaps=2;
var I=A.NSParagraphStyle;if(I==null)I=A.paragraphStyle;if(I){var T=I.paragraphSpacing;if(T!=null){Q.ew.SpaceAfter=T}var e=I.NSAlignment;
if(e==null)e=I.alignment;if(e!=null){var F=0;if(!1){}else if(e==1)F=1;else if(e==2)F=2;else if(e==4)F=0;
else{F=e;console.log("unknown align",e)}if(o&&F<2)F=1-F;Q.ew.Justification=F}var y=I.NSMinLineHeight;
if(y==null)y=I.minimumLineHeight;if(y!=null){Q.OT.AutoLeading=!1;Q.OT.Leading=y}}Q.ew._Direction=o?1:0;
jg.Ka(D,U,U+c,Q);U+=c}return V};is.abR=function(D,n,_,b,w,i,M){var N=is,a=JSON.parse(ci.default),o=!1;
for(var k=0;k<ci.order.length;k++)a[ci.L0[k]]={t:"VlLs",v:[]};var U=_.fills,V=N.FI(D,U,b,w,i,n);for(var c=0;
c<2;c++){var E=_[["shadows","innerShadows"][c]];if(E==null)continue;var A=["DrSh","IrSh"][c],Q=ci.L0[ci.order.indexOf(A)];
for(var k=0;k<E.length;k++){var J=E[k];if(!J.isEnabled)continue;if(J.contextSettings.opacity==0||J.color.alpha==0)continue;
var L=JSON.parse(ci.D6[ci.order.indexOf(A)]);a[Q].v.unshift({t:"Objc",v:L});o=!0;L.Clr.v=N.RC(J.color);
L.blur.v.val=Math.round(J.blurRadius/w.gM());var P=w.clone();P.oE=P.LE=0;P.ei();var u=P.pm(new gZ(J.offsetX,J.offsetY)),m=Math.sqrt(u.x*u.x+u.y*u.y);
L.Dstn.v.val=Math.round(m);L.lagl.v.val=Math.round(Math.atan2(u.y,-u.x)*(180/Math.PI));if(L.layerConceals)L.layerConceals.v=V.length!=0;
N.WD(J,L)}}var x=_.borders;if(x!=null&&(V.length==0||_.blur==null||!_.blur.isEnabled))for(var k=0;k<x.length;
k++){var v=x[k];if(!v.isEnabled)continue;var L=JSON.parse(ci.D6[ci.order.indexOf("FrFX")]),Q=ci.L0[ci.order.indexOf("FrFX")];
a[Q].v.unshift({t:"Objc",v:L});o=!0;L.Clr.v=N.RC(v.color);if(v.fillType!=0&&v.gradient){var W=N.NK(v.gradient,b,w,i),Z=["Type","Angl","Ofst","Scl"];
for(var k=0;k<Z.length;k++)L[Z[k]]=W[Z[k]];L.Grad.v=W.Grad.v;L.PntT.v.FrFl="GrFl"}L.Sz.v.val=v.thickness/w.gM();
L.Styl.v.FStl=["CtrF","InsF","OutF"][v.position];N.WD(v,L)}for(var k=M?1:0;k<V.length;k++){var r=V[k],Q=ci.L0[ci.order.indexOf(r.type)];
a[Q].v.unshift(r.k);o=!0}return o?a:null};is.FI=function(D,n,_,b,w,i,M){if(n==null)return[];var N=is,a=[];
for(var k=0;k<n.length;k++)if(n[k].isEnabled)a.push(n[k]);n=a;var o=[];for(var k=0;k<n.length;k++){var U=n[k],V=null,c=null;
if(U.fillType==0){V="SoFi";var E=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);c={t:"Objc",v:E};c.v.Clr.v=N.RC(U.color)}else if(U.fillType==1){V="GrFl";
c={t:"Objc",v:N.NK(U.gradient,_,b,w)}}else if(U.fillType==4&&U.image!=null){var A=U.image;if(M)A=M.value;
var Q=eF.pV(A.bdata.buffer);if(Q!=null&&Q!="pdf"&&Q!="eps"){var J,v=0,W=0,Z=0;if(i.$u[A.key])J=i.$u[A.key];
else{var L=eF.rW(Q).Ck(A.bdata)[0],P=L.jr.clone();J={};J.id=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f";J.name="someImage";
J.vt=[new Uint8Array(L.data),P];i.iy(J);i.$u[A.key]=J}var u=J.vt[1],E=JSON.parse(ci.D6[ci.order.indexOf("patternFill")]);
V="patternFill";c={t:"Objc",v:E};var m=U.patternFillType,x=U.patternTileScale;E.Algn.v=!0;E.Ptrn.v.Idnt.v=J.id;
if(m==0){v=x*u.l/Math.min(u.l,u.e);W=-b.oE;Z=-b.LE}else{v=Math.max(_.l/u.l,_.e/u.e);W=-b.oE-(u.l*v-_.l)/2;
Z=-b.LE-(u.e*v-_.e)/2}E.Scl.v.val=100*v*(1/b.gM());E.phase.v.Hrzn.v=Math.round(W/b.gM());E.phase.v.Vrtc.v=Math.round(Z/b.gM())}}else if(U.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",U.fillType);
if(V!=null){N.WD(U,c.v);o.push({type:V,k:c})}}return o};is.ah4=function(D){var n=is,_=new gl(0,0,1,1);
D=D.slice(0);while(!0){var b=!1;for(var k=0;k<D.length-1;k++){var w=D[k],i=D[k+1],M=null,N=w.contextSettings;
if(w.fillType==0&&(N==null||N.opacity==1&&N.blendMode==0)&&w.color.alpha==1){var a="norm",o=1,N=i.contextSettings;
if(N){o=N.opacity;a=jz.GV(n.Hz[N.blendMode])}if(i.fillType==0){M=JSON.parse(JSON.stringify(i));n.P6(M.color,w.color,M.color,_,a,o)}if(i.fillType==1){M=JSON.parse(JSON.stringify(i));
var U=M.gradient.stops;for(var V=0;V<U.length;V++)n.P6(U[V].color,w.color,U[V].color,_,a,o)}if(M!=null&&M.contextSettings){var N=M.contextSettings;
N.opacity=1;N.blendMode=0}}if(M!=null){D.splice(k,0,M);b=!0;break}}if(!b||D.length<2)break}return D};
is.P6=function(D,n,_,b,w,i){var M=is,N=B.U(4);M.QS(D,N);var a=B.U(4);M.QS(n,a);B.a.dG(w,N,b,a,b,b,i);
M.auq(a,_)};is.QS=function(D,n){n[0]=255*D.red;n[1]=255*D.green;n[2]=255*D.blue;n[3]=255*D.alpha};is.auq=function(D,n){n.red=D[0]/255;
n.green=D[1]/255;n.blue=D[2]/255;n.alpha=D[3]/255};is.bJ=function(D,n){D=D.clone();D.VN=24;D.rK("Mask by "+D.getName());
n.b.push(D);D.add.lsct=f4.AU;D.add.lyid=n.C5();delete D.add.lmfx;delete D.add.SoCo;delete D.add.GdFl;
delete D.add.PtFl;delete D.add.iOpa;if(D.add.vmsk)D.add.vmsk.Vk=!0;D.p8(n);if((D.VN&16)==16)D.VN-=16;
if((D.VN&2)==2)D.VN-=2;D.QQ="pass";D.opacity=255};is.Hz="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
is.NK=function(D,n,_,b){_=_.clone();_.ei();_.oE=_.LE=0;var w=_.gM(),c=0,E=0;_.scale(1/w,1/w);var i=is,M=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),N=M.Grad.v;
N.Intr.v=0;if(D==null)return M;var a=D.gradientType,o=i.a1(D.from),U=i.a1(D.to);o.offset(-.5,-.5);U.offset(-.5,-.5);
o=_.pm(o);U=_.pm(U);var V=Math.atan2(-(U.y-o.y),U.x-o.x);M.Type.v.GrdT=["Lnr","Rdl","Angl"][a];M.Scl.v.val=100*gZ._e(o,U);
if(a==0){M.Angl.v.val=180/Math.PI*V;M.Scl.v.val=100*gZ._e(o,U);c=(o.x+U.x)/2;E=(o.y+U.y)/2}if(a==1){M.Scl.v.val=200*gZ._e(o,U);
c=o.x;E=o.y}if(a==2){M.Angl.v.val=180/Math.PI*(V-Math.PI/2)}var A=M.Ofst.v;A.Hrzn.v.val=c*100;A.Vrtc.v.val=E*100;
var Q=[];for(var k=0;k<D.stops.length;k++){var J=D.stops[k],L=J.color;Q.push([J.position,L?[L.red,L.green,L.blue]:[0,0,0],L.alpha])}B.X.q2(Q,N);
return M};is.WD=function(D,n){var _=is,b=1,w=D.contextSettings;if(w!=null){n.Md.v.BlnM=_.Hz[w.blendMode];
b*=w.opacity}else n.Md.v.BlnM=_.Hz[0];n.enab.v=D.isEnabled;if(n.uglg!=null)n.uglg.v=!1;if(D.color!=null)b*=D.color.alpha;
n.Opct.v.val=Math.round(b*100)};is.RC=function(D){return B.X.Ea(D?{p:D.red*255,z:D.green*255,S:D.blue*255}:{p:0,z:0,S:0})};
is.oH=function(D,n,_){var b=is,w=[{type:6},{type:8,all:0}];for(var i=0;i<D.length;i++){var M=D[i],N=M.booleanOperation,a=0,o=M._class,Q=!1;
if(o=="group"||o=="text"||o=="symbolInstance"||o=="slice"){console.log(o+" inside ShapeGroup");continue}if(N==-1)a=0;
else if(N==0)a=1;else if(N==1)a=2;else if(N==2)a=3;else if(N==3)a=0;if(i==0)a=1;var U=is.bV(M.frame),V=b.nn(M,n),c=M.path?M.path:M,E=[{type:0,length:0,gW:a,bB:2,at:0,iB:0}],A=c.points;
for(var k=0;k<A.length;k++){var J=A[k],L=b.a1(J.curveTo),P=b.a1(J.point),u=b.a1(J.curveFrom);Q=Q||J.hasCurveFrom&&!u.l8(P)||J.hasCurveTo&&!L.l8(P)}var m=[];
if(!Q){var x=[],cQ=A.length;if(cQ==0)continue;for(var k=0;k<cQ;k++){m[k]=A[k].cornerRadius;var J=b.a1(A[k].point);
x.push(J.x,J.y)}V.scale(1/U.l,1/U.e);V.ei();B.H.A(x,V,x);E=B.$.yA.n_(x,m).slice(2);E[0].gW=a}else{var v=A.length;
E[0].length=v;for(var k=0;k<v;k++){var J=A[k],W=J.curveMode,Z=b.a1(J.point);E[1+k]={type:W==2||W==4?1:2,US:J.hasCurveTo?b.a1(J.curveTo):Z.clone(),Z:Z,As:J.hasCurveFrom?b.a1(J.curveFrom):Z.clone()}}V.scale(1/U.l,1/U.e);
V.ei();B.$.vZ(E,V);var m=[];for(var k=0;k<v;k++){var J=A[k],W=J.curveMode,r=J.cornerRadius;if(W==1&&r!=0)m.push(r);
else m.push(0)}}if(!c.isClosed)for(var k=0;k<E.length;k++)E[k].type+=3;w=w.concat(E);var X=B.dd.ae(),$=b.rv(M);
if(V.S==0&&V.jo==0){var I=V.oE,T=V.LE,e=I+V.vd,F=T+V.Ww,y=[I,T,e,F];if($=="rectangle"&&m.length==4)X=B.dd.TG(2,y,m);
if($=="oval")X=B.dd.TG(5,y)}_.push(X)}return w};is.nn=function(D,n){var _=n.clone(),b=D.frame?is.bV(D.frame):null;
if(b)_.translate(-b.x-b.l/2,-b.y-b.e/2);if(D.isFlippedHorizontal)_.scale(-1,1);if(D.isFlippedVertical)_.scale(1,-1);
_.rotate(-D.rotation*(Math.PI/180));if(b)_.translate(b.l/2,b.e/2);return _};is.a1=function(D){D=D.slice(1,D.length-1).split(",");
return new gZ(parseFloat(D[0]),parseFloat(D[1]))};is.bV=function(D){return new gl(D.x,D.y,D.width,D.height)};
is.UO=function(D){return{_class:"rect",constrainProportions:!1,x:D.x,y:D.y,width:D.l,height:D.e}};function hA(){}hA.Z6=function(D,n){var _=Date.now(),b=hA,w=UZIP.parse(D),i=JSON.parse(j.KA(w.manifest)),M=JSON.parse(j.KA(w["resources/graphics/graphicContent.agc"])).resources,N=[],a=[],o=i.children;
for(var k=0;k<o.length;k++){var U=o[k];if(U.name=="artwork"){var V=U.children;for(var c=0;c<V.length;
c++){var E=V[c],A=JSON.parse(j.KA(w["artwork/"+E.path+"/graphics/graphicContent.agc"])),Q=A.children;
if(Q.length==0){}else if(Q.length==1){if(E["uxdesign#bounds"]){E._node=Q[0];N.push(E)}}else{var J=Q[0],L=J.transform,P=J.shape;
if(P==null)P={x:0,y:0,width:1e3,height:1e3};P=JSON.parse(JSON.stringify(P));if(L){P.x+=L.tx;P.y+=L.ty}E["uxdesign#bounds"]=P;
E._node={type:"artboard",artboard:{children:Q}};a.push(E)}}}}if(N.length==0)N=a;var u=[],m=new gl;for(var k=0;
k<N.length;k++){var E=N[k],x=is.bV(E["uxdesign#bounds"]);u.push(x);m=m.Ik(x)}var v=is.JW(m,8192*8192);
n.C8=!0;n.l=Math.round(m.l/v);n.e=Math.round(m.e/v);n.buffer=B.U(n.l*n.e*4);n.tt(N.length);var W=new e3(v,0,0,v,m.x,m.y);
n.$u={};for(var k=0;k<N.length;k++){var E=N[k],x=is.bV(E["uxdesign#bounds"]),Z=E._node,r=W.clone(),X=x.clone(),$=r.gM();
r.translate(-x.x,-x.y);X.x=-Math.floor(r.oE/$);X.y=-Math.floor(r.LE/$);X.l=Math.floor(X.l/$);X.e=Math.floor(X.e/$);
r.translate(x.x,x.y);hA.pt(Z,n,r,M,w,X);var I=n.b[n.b.length-1];I.rK(E.name);I.Cx(X);if(k!=N.length-1)I.add.lsct=f4.Aj}delete n.$u};
hA.pl=function(D){if(D==null)return new e3;return new e3(D.a,D.b,D.c,D.d,D.tx,D.ty)};hA.pt=function(D,n,_,b,w,i){var M=hA,N=D.type,a=D[N],o=D.style,U=M.pl(D.transform),A,Q="none",J,L="none",P,u;
U.ei();var V=_.clone();V.concat(U);var c=n.ni(),E=D.name;c.rK(E?E.slice(0,250):"Layer");if(D.visible!=null)c.oj(D.visible);
if(o){A=o.stroke;Q=A?A.type:"none";J=o.fill;L=J?J.type:"none";P=o.filters;u=o.clipPath;if(u&&b.clipPaths[u.ref])u=b.clipPaths[u.ref].children;
else u=null;if(o.opacity)c.opacity=Math.round(255*o.opacity);if(L=="solid"&&J.color.alpha)c.opacity=Math.round(c.opacity*J.color.alpha);
if(P){c.add.lmfx=M.a3P(P);for(var k=0;k<P.length;k++)if(P[k].type=="uxdesign#blur"){var m=P[k],x=m.params,v=x.brightnessAmount;
if(v==null)v=0;v=Math.abs(v/100);if((m.visible==null||m.visible==!0)&&x.backgroundEffect)c.opacity=Math.round(c.opacity*(v+(1-v)*x.fillOpacity))}}if(L=="pattern"&&J.pattern.meta.ux.uid=="")L="none"}if(u==null&&D.meta&&D.meta.ux&&D.meta.ux.clipPathResources)u=D.meta.ux.clipPathResources.children;
if(N=="artboard"||N=="group"){if(u){var W=u[0],Z=W.shape,r=Z!=null&&Z.type=="rect"&&Z.width*Z.height>1e6;
if(W.type!="text"&&!r){if(Z){var U=M.pl(W.transform);U.ei();var X=V.clone();X.concat(U);c.add.vmsk=new q.IQ;
c.add.vmsk.Y=M.oH(Z);X=X.clone();X.ei();B.$.vZ(c.add.vmsk.Y,X);c.p8(n)}}else if(!r)alert("Clipping by text has been ignored")}c.add.lsct=f4.AU;
c.QQ="pass";c.VN=24;if(D.visible!=null)c.oj(D.visible);n.b.push(n.b8());var $=a.children,I=J;if(I)I=I.color;
if(I)I=I.value;if(J){if(N=="artboard"&&L=="solid"){c.Cx(new gl(0,0,10,10));c.add.artb.Clr={t:"Objc",v:B.X.Ea({p:I.r,z:I.g,S:I.b})};
c.add.artb.artboardBackgroundType={t:"long",v:4}}else{var T=n.ni();T.rK("BACKGROUND");T.VN|=16;T.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));
T.add.vmsk=new q.IQ;T.add.vmsk.Y=M.oH({type:"rect",x:i.x,y:i.y,width:i.l,height:i.e});M.r6(J,L,V,i,i,T,n,b,w);
T.p8(n);n.b.push(T)}}for(var k=0;k<$.length;k++){hA.pt($[k],n,V,b,w,i)}}else if(N=="shape"&&D.shape.type=="rect"&&(D.shape.r==null||D.shape.r==0)&&L=="pattern"&&Math.abs(D.shape.width/D.shape.height-J.pattern.width/J.pattern.height)<.01){var e=J.pattern,F=e.meta.ux,y=F.uid,h=w["resources/"+y];
if(h==null){console.log(e);return}var Y=n.$n(h,c.getName(),0,0);Y.VN=c.VN;Y.opacity=c.opacity;c=Y;var K=B.H.X0(new gl(0,0,e.width,e.height)).t,z=new e3;
z.scale(e.width/D.shape.width,e.height/D.shape.height);if(F.offsetX)z.translate(-F.offsetX*e.width,0);
if(F.offsetY)z.translate(0,-F.offsetY*e.height);V.concat(z);V.ei();B.H.A(K,V,K);c.add.SoLd.Trnf=G.Q.sy(K);
c.add.SoLd.nonAffineTransform=G.Q.sy(K);c.RZ(n,!1)}else if(N=="shape"){c.VN|=16;c.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));
c.add.vmsk=new q.IQ;c.add.vmsk.Y=M.oH(a);var f=B.$.DJ(c.add.vmsk.Y,null),X=V.clone();X.ei();B.$.vZ(c.add.vmsk.Y,X);
var s=B.$.DJ(c.add.vmsk.Y,null);if(Q=="none"){}else{var l=A.color.value,g,H;g="SoFi";var O=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);
H={t:"Objc",v:O};H.v.Clr.v=B.X.Ea({p:l.r,z:l.g,S:l.b});var C=A.align,ib=A.cap;if(C==null)C="center";
var hH=c.add.vstk;hH.strokeEnabled.v=!0;hH.strokeStyleLineWidth.v.val=A.width;if(C)hH.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ci.yg.l9[["inside","center","outside"].indexOf(C)];
if(ib)hH.strokeStyleLineCapType.v.strokeStyleLineCapType=ci.yg.Xr[["butt","round","square"].indexOf(ib)];
var R=["SoFi","GrFl","patternFill"].indexOf(g),fR=[ci.BA,ci.LY,ci.EF][R];hH.strokeStyleContent.v={classID:ci.yg.bR[0]};
var j4=hH.strokeStyleContent.v={classID:ci.yg.bR[R]};for(var k=0;k<fR.length;k++)j4[fR[k]]=H.v[fR[k]]}if(P)for(var k=0;
k<P.length;k++)if(P[k].type=="uxdesign#blur"&&P[k].visible){var cP=P[k];c.add.vmsk.rq=cP.params.blurAmount}M.r6(J,L,V,f,s,c,n,b,w);
c.p8(n)}else if(N=="text"&&D.text){var a8=D.text,d0=a8.frame,b9=o.font,jG=o.textAttributes,U=V.clone(),aC=0;
U.ei();c.add.lnsr="rend";c.add.TySh=jg.aH(0,0);c.add.TySh.dI=new gl(0,0,100,100);c.add.TySh.A=U;var jP=c.add.TySh.uP,aq=a8.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
jg.kW(jP,0,aq);if(aq!=""){var gM=jg.np(jP,0,1),gv=b9.postscriptName;if(gv==null)gv=b9.family;jg.jd(gM,gv);
gM.OT.FontSize=Math.round(b9.size);if(J){var l=J.color.value;gM.OT.FillColor={Type:1,Values:[1,l.r/255,l.g/255,l.b/255]}}if(jG){if(jG.paragraphAlign)gM.ew.Justification=["left","right","center"].indexOf(jG.paragraphAlign);
if(jG.letterSpacing)gM.OT.Tracking=Math.round(jG.letterSpacing);if(jG.lineHeight){gM.OT.AutoLeading=!1;
gM.OT.Leading=Math.round(jG.lineHeight)}}jg.Ka(jP,0,aq.length,gM)}var dT=D.meta.ux.rangedStyles;if(dT)for(var k=0;
k<dT.length;k++){var a=dT[k],c1=Math.min(a.length,aq.length-aC),gM=jg.np(jP,aC,aC+c1),gv=a.postscriptName;
if(gv==null)gv=a.family;if(gv!=null)jg.jd(gM,gv);var aj=a.textScript,bD=a.underline,cy=a.fontSize,m=a.fill,co=a.textTransform;
if(aj&&aj!="none")gM.OT.FontBaseline=aj=="superscript"?1:2;if(bD!=null)gM.OT.Underline=bD;if(cy!=null)gM.OT.FontSize=Math.round(cy);
if(co!=null)gM.OT.FontCaps=co=="uppercase"?2:0;if(m!=null){var hV=m.value;gM.OT.FillColor={Type:1,Values:[1,(hV>>>16&255)/255,(hV>>>8&255)/255,(hV>>>0&255)/255]}}jg.Ka(jP,aC,aC+c1,gM);
aC+=c1}if(d0.type=="area"||d0.type=="autoHeight"){var il=d0.width,h6=d0.height;jg.EN(jP,1);jg.vR(jP,[0,0,il,h6!=null?h6:il*2])}}else console.log(N,D);
n.b.push(c)};hA.oH=function(D){var n=D.type,_=[{type:6},{type:8,all:0}];if(n=="rect"){var b=D.r,w=D.x,i=D.y,M=D.width,N=D.height;
_=B.$.yA.Rect(w,i,M,N,b?b:0)}else if(n=="circle"){var b=D.r;_=B.$.yA.h6(D.cx-b,D.cy-b,2*b,2*b)}else if(n=="ellipse"){var a=D.rx,o=D.ry;
_=B.$.yA.h6(D.cx-a,D.cy-o,2*a,2*o)}else if(n=="path"||n=="compound"){var U=Typr.U.SVGToPath(D.path);
_=B.H.yL({C:U.cmds,t:U.crds},!1)}else if(n=="line"){var V=D.x1,c=D.x2,E=D.y1,A=D.y2;_=B.$.yA.n_([V,E,c,A],0,!0)}else if(n=="polygon"){var Q=D.points,J=[];
for(var k=0;k<Q.length;k++)J.push(Q[k].x,Q[k].y);_=_.concat(B.$.yA.n_(J,0,!1).slice(2))}else console.log(n,D);
return _};hA.a3P=function(D){var n=JSON.parse(ci.default);for(var k=0;k<ci.order.length;k++)n[ci.L0[k]]={t:"VlLs",v:[]};
for(var k=0;k<D.length;k++){var _=D[k],b=_.type,w=_.params,i=_.visible;if(b=="dropShadow"){var M=ci.L0[ci.order.indexOf("DrSh")],N=JSON.parse(ci.D6[ci.order.indexOf("DrSh")]);
n[M].v.unshift({t:"Objc",v:N});var a=w.dropShadows;if(a.length!=1)throw"e";var o=a[k],U=o.color,V=U.value,c=o.dx,E=o.dy;
N.Clr.v=B.X.Ea({p:V.r,z:V.g,S:V.b});N.Opct.v.val=Math.round((U.alpha!=null?U.alpha:1)*100);N.uglg.v=!1;
N.enab.v=i!=null?i:!0;N.lagl.v.val=Math.round(180/Math.PI*Math.atan2(E,-c));N.Dstn.v.val=Math.round(Math.sqrt(c*c+E*E));
N.blur.v.val=Math.round(o.r*2.3)}}return n};hA.r6=function(D,n,_,b,w,i,M,N,a){var o=hA;if(n=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:0,z:0,S:0})}}}else{var U,V,c;if(n=="solid"){var E=D.color.value;
U="SoCo";V=ci.BA;var A=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);c={t:"Objc",v:A};c.v.Clr.v=B.X.Ea({p:E.r,z:E.g,S:E.b})}else if(n=="gradient"){U="GdFl";
V=ci.LY;var A=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),Q=A.Grad.v,m,x,v;Q.Intr.v=0;var J=D[n],L=J.ref?N.gradients[J.ref]:J.meta.ux.gradientResources,P=["linear","radial"].indexOf(L.type),u=L.stops;
A.Type.v.GrdT=["Lnr","Rdl","Angl"][P];if(P==0){var m=new gZ(J.x1,J.y1),x=new gZ(J.x2,J.y2);m.x=x.x+.5*(m.x-x.x);
m.y=x.y+.5*(m.y-x.y)}else{var m=new gZ(J.cx,J.cy),x=new gZ(J.cx+J.r,J.cy)}v=w;if(J.units=="objectBoundingBox"){var W=new e3(b.l,0,0,b.e,b.x,b.y);
m=W.pm(m);x=W.pm(x)}var W=o.pl(J.transform);m=W.pm(m);x=W.pm(x);W=_.clone();W.ei();m=W.pm(m);x=W.pm(x);
B.X.o6(m,x,v,A);var Z=[];for(var k=0;k<u.length;k++){var r=u[k],X=r.color,E=X.value,$=X.alpha;if($==null)$=1;
Z.push([r.offset,[E.r/255,E.g/255,E.b/255],$])}B.X.q2(Z,Q);c={t:"Objc",v:A}}else if(n=="pattern"){U="PtFl";
V=ci.EF;var A=JSON.parse(ci.D6[ci.order.indexOf("patternFill")]),h,l=1,g=0,H=0,O=1;c={t:"Objc",v:A};
var I=D[n],T=I.meta.ux,e=T.uid,F=a["resources/"+e].buffer,y=eF.pV(F);if(M.$u[e])h=M.$u[e];else{var Y=new gl(0,0,I.width,I.height),K;
if(Y.hk()||y==null){Y=new gl(0,0,1,1);K=new ArrayBuffer(4)}else{var z=eF.rW(y);if(z.Il){var f=new ai;
z.Ck(F,f);K=f.iS().buffer}else{var s=z.Ck(F)[0];K=s.data;Y=s.jr}}h={};h.id=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f";
h.name="someImage";h.vt=[new Uint8Array(K),Y];M.iy(h);M.$u[e]=h}var Y=h.vt[1];A.Algn.v=!0;A.Ptrn.v.Idnt.v=h.id;
if(T.scaleBehavior=="cover"){l=O*Math.max(w.l/Y.l,w.e/Y.e);var C=l;if(T.scale!=null)l*=T.scale;g=w.x-(Y.l*l-w.l)/2;
H=w.y-(Y.e*l-w.e)/2;if(T.offsetX!=null)g+=T.offsetX*Y.l*C;if(T.offsetY!=null)H+=T.offsetY*Y.e*C}else if(T.scaleBehavior=="fill"){l=O*Math.min(w.l,w.e)/Math.max(Y.l,Y.e);
g=w.x-(Y.l*l-w.l)/2;H=w.y-(Y.e*l-w.e)/2}else throw"Unknown scale behaviour";A.Scl.v.val=100*l;A.phase.v.Hrzn.v=Math.round(g);
A.phase.v.Vrtc.v=Math.round(H)}else console.log(n);if(U!=null){i.add[U]={classID:"null"};for(var k=0;
k<V.length;k++){var ib=V[k];i.add[U][ib]=c.v[ib]}}}};function et(){}et.Z6=function(D,n,_){D=new Uint8Array(D);
var b=j.KA(D,0,D.length),w=new DOMParser,i=w.parseFromString(b,"image/svg+xml"),M=i.getElementsByTagName("style")[0],E=1;
if(M)M=Typr.U.SVG.cssMap(M.textContent);else M={};var N=i.firstChild;while(N.tagName!="svg")N=N.nextSibling;
var a=new gl(0,0,100,100),o=N.getAttribute("viewBox"),U=N.getAttribute("width"),V=N.getAttribute("height");
if(o){var c=et.Nq(o);a.x=c[0];a.y=c[1];a.l=c[2];a.e=c[3]}else if(U!=null||V!=null){a.l=U!=null?parseFloat(U):parseFloat(V);
a.e=V!=null?parseFloat(V):parseFloat(U)}a=B.H.__(a);while(_&&Math.max(a.l*E,a.e*E)<Math.max(_[0],_[1]))E++;
while(_==null&&Math.max(a.l,a.e)*E>8192)E*=.5;n.C8=!0;n.l=~~(a.l*E);n.e=~~(a.e*E);n.buffer=B.U(n.l*n.e*4);
var A=new e3(E,0,0,E,-a.x*E,-a.y*E),Q={Ui:et.qC(N),an3:M,SN:0};et.ji(i,N.children,n,A,Q,new e3,0);if(n.b.length==0){var J=n.ni();
J.rK("Layer");n.b.push(J)}};et.Nq=function(D){var n=" ";if(D.indexOf(",")!=-1)n=",";return D.split(n).map(parseFloat)};
et.ji=function(D,n,_,b,w,i,M){var N=et,a=["display","opacity","fill-opacity","filter"];for(var o=0;o<n.length;
o++){var U=n[o],V=U.tagName,c=U.getAttribute("id"),E=N.qC(U,w.an3),Q=13,m=1,W="clip-path",Z=null,h=0;
for(var A in w.Ui)if(a.indexOf(A)==-1&&E[A]==null)E[A]=w.Ui[A];if(E["font-size"])Q=N.xO(E["font-size"],Q);
if(U.getAttribute("dx"))b.oE+=N.xO(U.getAttribute("dx"),Q);if(U.getAttribute("dy"))b.LE+=N.xO(U.getAttribute("dy"),Q);
var J=N.hr(U);J.concat(b);var L=U.getAttribute("visibility"),P=E.display,u=_.ni();if(L=="hidden"||P=="none")u.oj(!1);
u.rK(c!=null?c.split(":::")[0]:"Layer");if(E.opacity)m*=parseFloat(E.opacity);if(E["fill-opacity"]){var x=parseFloat(E["fill-opacity"]);
if(x!=0)m*=x}u.opacity=Math.round(255*m);if(E["mix-blend-mode"]){var v=jz.B9.indexOf(E["mix-blend-mode"]);
if(v!=-1)u.QQ=jz._w[v]}if(U.getAttribute(W)==null)W="mask";if(U.getAttribute(W)!=null){var r=U.getAttribute(W);
r=r.slice(4,r.length-1);var X=D.getElementById(r.slice(1));if(X){var $=X.children;Z=_.ni();Z.rK("Clip-Path"+(c?": "+c:""));
Z.add.lsct=M<2?f4.AU:f4.Aj;Z.QQ="pass";Z.VN=24;var I=Z.add.vmsk=new q.IQ;_.b.push(_.b8());var T=[];if(X.getAttribute(W)){var r=X.getAttribute(W);
r=r.slice(4,r.length-1);T=D.getElementById(r.slice(1)).children}for(var k=0;k<$.length;k++){var e=N.hr($[k]);
e.concat(J);var F=N.oH(D,$[k],!1).slice(2);B.$.vZ(F,e);I.Y=I.Y.concat(F)}for(var k=0;k<T.length;k++){var e=N.hr($[k]);
e.concat(J);var F=N.oH(D,T[k],!1).slice(2);for(var y=0;y<F.length;y++)if(F[k].gW!=null)F[k].gW=3;B.$.vZ(F,e);
I.Y=I.Y.concat(F)}Z.GL();Z.p8();M++}}if(E.filter&&E.filter!="none"){var Y=E.filter,z,f,s,g=!1,H=!1,O=!1;
Y=Y.slice(5,Y.length-1);var K=D.getElementById(Y),l=[0,0,0,.5],C=G.Q.gM(J);if(K)for(var k=0;k<K.children.length;
k++){var ib=K.children[k];if(ib.tagName=="feGaussianBlur"){g=!0;z=parseFloat(ib.getAttribute("stdDeviation"))*C}if(ib.tagName=="feColorMatrix"){var hH=ib.getAttribute("values").split(" ").map(parseFloat);
l=[hH[4],hH[9],hH[14],hH[18]]}if(ib.tagName=="feComposite"){O=!0}if(ib.tagName=="feOffset"){H=!0;var R=ib.getAttribute("dx"),fR=ib.getAttribute("dy");
f=parseFloat(R?R:0)*C;s=parseFloat(fR?fR:0)*C}}if(O||H){var j4=O?"IrSh":"DrSh";if(j4=="IrSh"){u.add.iOpa=0}var cP=JSON.parse(ci.D6[ci.order.indexOf(j4)]);
cP.blur.v.val=Math.round(z*2.4);var a8=Math.sqrt(f*f+s*s);cP.uglg.v=!1;cP.Dstn.v.val=Math.round(a8);
cP.lagl.v.val=Math.round(Math.atan2(s,-f)*(180/Math.PI));cP.Clr.v=B.X.Ea({p:l[0]*255,z:l[1]*255,S:l[2]*255});
cP.Opct.v.val=Math.round(l[3]*100);N.RQ(u,ci.L0[ci.order.indexOf(j4)],cP)}else if(g)h=z}if(V=="g"||V=="a"||V=="svg"||V=="switch"||(V=="text"||V=="textPath")&&U.children.length>0){if(V=="text")i=N.XR(U,i);
var d0=U.getAttribute("viewBox"),b9=U.getAttribute("width"),jG=U.getAttribute("height");if(d0&&b9&&jG){var jP=et.Nq(d0),aq=N.XR(U),gM=new e3;
gM.translate(-jP[0],-jP[1]);gM.scale(parseFloat(b9)/jP[2],parseFloat(jG)/jP[3]);gM.translate(aq.oE,aq.LE);
gM.concat(J);J=gM}var gv=U.children.length,dT=w.Ui;w.Ui=E;var aC=w.SN;w.SN=Math.max(w.SN,h);var c1=V!="text"&&V!="textPath"||gv>1;
if(c1){var aj=u.h$();u.add.lsct=M<2&&aj&&(c==null||!c.endsWith(":::"))?f4.AU:f4.Aj;u.QQ="pass";u.VN=24;
u.oj(aj);_.b.push(_.b8())}N.ji(D,U.children,_,J,w,i,M+1);if(c1)_.b.push(u);else{var bD=_.b[_.b.length-1];
bD.opacity=u.opacity;bD.QQ=u.QQ}w.SN=aC;w.Ui=dT}else if(V=="use"){var gM=N.XR(U);gM.concat(J);var cy=N.fE(U),co=D.getElementById(cy.slice(1));
if(co){var dT=w.Ui;w.Ui=E;if(E.filter)co.setAttribute("filter",E.filter);N.ji(D,[co],_,gM,w,i,M+1);w.Ui=dT}}else if(V=="path"||V=="rect"||V=="circle"||V=="ellipse"||V=="polygon"||V=="polyline"||V=="line"){u.VN|=16;
u.add.vmsk=new q.IQ;u.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));u.add.vstk.strokeEnabled.v=!1;
var hV=u.add.vstk,I=u.add.vmsk,il=E.fill,h6=il=="none"||E["fill-opacity"]&&parseFloat(E["fill-opacity"])==0;
I.Y=N.oH(D,U,E["fill-rule"]=="evenodd",h6);B.$.vZ(I.Y,J);var c8=B.$.DJ(I.Y),fx=E.stroke,bU=E["stroke-width"],b6=E["stroke-dasharray"],iF=E["stroke-linejoin"],dY=E["stroke-linecap"],bl=E["paint-order"];
if(fx==null||fx=="none"||fx=="null"){}else{var dc=N.m1(D,fx,J,c8),hN=["SoFi","GrFl","patternFill"].indexOf(dc.type),ga=dc.k.v.Opct.v,h9=1;
if(ga.val!=100){u.opacity=Math.round(u.opacity*ga.val/100);ga.val=100}var b1=[ci.BA,ci.LY,ci.EF][hN],fc=hV.strokeStyleContent.v={classID:ci.yg.bR[hN]};
for(var k=0;k<b1.length;k++)fc[b1[k]]=dc.k.v[b1[k]];bU=bU?parseFloat(bU):1;if(bl&&bl.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){h9=2;
bU/=2}hV.strokeEnabled.v=!0;if(iF)hV.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ci.yg.join[["miter","round","bevel"].indexOf(iF)];
if(dY)hV.strokeStyleLineCapType.v.strokeStyleLineCapType=ci.yg.Xr[["butt","round","square"].indexOf(dY)];
hV.strokeStyleLineWidth.v.val=bU*G.Q.gM(J);hV.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ci.yg.l9[h9];
hV.strokeStyleOpacity.v.val=100*(E["stroke-opacity"]?parseFloat(E["stroke-opacity"]):1);if(b6!=null&&b6!="none")hV.strokeStyleLineDashSet.v=aL.jx(b6.split(",").map(parseFloat),1/bU)}if(h6){u.add.vstk.fillEnabled.v=!1;
u.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:0,z:0,S:0})}}}else{var dc=N.m1(D,il,J,c8),cB=null,bp=null;
if(dc.type=="SoFi"){cB="SoCo";bp=ci.BA}if(dc.type=="GrFl"){cB="GdFl";bp=ci.LY}if(dc.type=="patternFill"){cB="PtFl";
bp=ci.EF}if(cB!=null){var ga=dc.k.v.Opct.v;if(ga.val!=100){u.opacity=Math.round(u.opacity*ga.val/100);
ga.val=100}u.add[cB]={classID:"null"};for(var k=0;k<bp.length;k++){var A=bp[k];u.add[cB][A]=dc.k.v[A]}}}var eK=Math.max(h,w.SN);
if(eK!=0)u.add.vmsk.rq=eK;u.GL();u.p8(_);_.b.push(u)}else if((V=="text"||V=="tspan")&&U.textContent!=""){i=N.XR(U,i);
var gM=i.clone(),s=0;gM.concat(J);if(U.children.length>0){var fm=N.qC(U.children[0],w.an3);for(var A in fm)if(a.indexOf(A)==-1)E[A]=fm[A]}var fG=E["xml:space"],ia=U.textContent;
if(fG=="preserve")ia=ia.replace(/\t/g," ").replace(/\n/g," ");if(c==null)u.rK(ia);u.add.lnsr="rend";
u.add.TySh=jg.aH(0,0);u.add.TySh.dI=new gl(0,0,100,100);u.add.TySh.A=gM.clone();var iz=u.add.TySh.uP;
jg.kW(iz,0,ia);var il=E.fill,eA=E["font-weight"],d3=E["font-family"],cY=E["text-decoration"],fx=E.stroke,bU=E["stroke-width"],ch=E["dominant-baseline"];
if(ch=="text-before-edge")s=Q;else if(ch=="middle")s=Q/2;else if(ch=="hanging")s=Q;if(s!=0)u.add.TySh.A.translate(0,s);
var fS=jg.np(iz,0,1);if(il&&il!="none"){var l=CSS.RC(il);fS.OT.FillColor={Type:1,Values:[1,l.p/255,l.z/255,l.S/255]}}if(cY=="underline")fS.OT.Underline=!0;
fS.OT.FontSize=Math.round(Q);jg.jd(fS,"LiberationSans");if(eA=="bold")jg.jd(fS,"LiberationSans-Bold");
if(d3){d3=d3.split(",")[0].trim();if(d3[0]=="\"")d3=d3.slice(1);if(d3[d3.length-1]=="\"")d3=d3.slice(0,d3.length-1);
var fy=d3+":"+(eA?eA:"normal"),ar={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(ar[fy])jg.jd(fS,ar[fy]);else jg.jd(fS,d3)}if(E["text-anchor"])fS.ew.Justification=["start","end","middle"].indexOf(E["text-anchor"]);
jg.Ka(iz,0,ia.length,fS);if(fx==null||fx=="none"){}else{var cP=JSON.parse(ci.D6[ci.order.indexOf("FrFX")]);
cP.Clr.v=B.X.Ea(CSS.RC(fx));cP.Sz.v.val=Math.round(parseFloat(bU)*G.Q.gM(gM));N.RQ(u,"frameFXMulti",cP)}_.b.push(u)}else if(V=="image"){var cy=N.fE(U);
if(cy&&cy.slice(0,4)=="data"){var aM=eF.dw(cy),aU=aM,f0=_.$n(aU,u.getName(),0,0);f0.VN=u.VN;u=f0;var ex=u.rect.clone();
ex.x=ex.y=0;var gx=U.getAttribute("width"),c_=U.getAttribute("height");if(gx)ex.l=parseFloat(gx);if(c_)ex.e=parseFloat(c_);
var iS=N.XR(U);iS.concat(J);var cr=B.H.X0(ex).t;B.H.A(cr,iS,cr);u.add.SoLd.Trnf=G.Q.sy(cr);u.add.SoLd.nonAffineTransform=G.Q.sy(cr);
u.RZ(_,!1);_.b.push(u)}}else console.log("unknown tag: "+V,U.children.length,U.textContent.length);if(Z!=null){_.b.push(Z);
M--}}};et.RQ=function(D,n,_){var b=D.add.lmfx;if(b==null){var b=D.add.lmfx=JSON.parse(ci.default);for(var k=0;
k<ci.order.length;k++)b[ci.L0[k]]={t:"VlLs",v:[]}}b[n].v.push({t:"Objc",v:_})};et.oH=function(D,n,_,b){var w=et,i=[{type:6},{type:8,all:0}],M=n.tagName;
if(M=="use"){var N=w.fE(n),a=D.getElementById(N.slice(1)),o=new e3;if(a.tagName!="rect")o=w.XR(a);o.concat(w.hr(a));
i=w.oH(D,a,_,b);B.$.vZ(i,o)}else if(M=="path"){var U=n.getAttribute("d");if(U==null)return i;var V=Typr.U.SVGToPath(U);
i=B.H.yL({t:V.crds,C:V.cmds},_,b)}else if(M=="rect"){var c=n.getAttribute("rx"),E=w.XR(n);i=B.$.yA.Rect(E.oE,E.LE,parseFloat(n.getAttribute("width")),parseFloat(n.getAttribute("height")),c?parseFloat(c):0)}else if(M=="circle"||M=="ellipse"){var A=[0,0,0,0],Q=["cx","cy","rx","ry","r"];
for(var k=0;k<5;k++){var J=n.getAttribute(Q[k]);if(J){J=parseFloat(J);if(k<4)A[k]=J;else A[2]=A[3]=J}}i=B.$.yA.h6(A[0]-A[2],A[1]-A[3],2*A[2],2*A[3])}else if(M=="polygon"||M=="polyline"||M=="line"){var L;
if(M=="line")L=[n.getAttribute("x1"),n.getAttribute("y1"),n.getAttribute("x2"),n.getAttribute("y2")].map(parseFloat);
else L=n.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
i=B.$.yA.n_(L,0,M!="polygon")}return i};et.xO=function(D,n){if(D.charAt(D.length-1)=="m")return n*parseFloat(D.slice(0,D.length-2));
else return parseFloat(D)};et.m1=function(D,n,_,b){var w,i,M=et,N=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]),a=n!=null?n.indexOf("("):-1;
if(a!=-1){var o=n.indexOf(")"),U=n.slice(0,a).trim(),V=n.slice(a+1,o).trim();if(V.charAt(0)=="'")V=V.slice(1,V.length-1);
if(U=="url"){if(V.charAt(0)=="#"){var c=D.getElementById(V.slice(1));if(c&&c.tagName.toLowerCase().endsWith("gradient")){var E=M.NK(D,c,_,b);
w="GrFl";i={t:"Objc",v:E}}else{w="SoFi";i={t:"Objc",v:N}}}else console.log("unknown url",V)}else if(U=="rgb"||U=="rgba"){w="SoFi";
i={t:"Objc",v:N};i.v.Clr.v=B.X.Ea(CSS.RC(n));if(U=="rgba")i.v.Opct.v.val=Math.round(100*parseFloat(n.split(",").pop()))}else console.log("unknown fill",n)}else{w="SoFi";
i={t:"Objc",v:N};i.v.Clr.v=B.X.Ea(CSS.RC(n))}return{type:w,k:i}};et.hr=function(D){var n=new e3,_=D.getAttribute("transform");
if(_)n=et.E2(_);var b=D.getAttribute("style");if(b!=null){var w={};et.Zb(w,b,["transform"]);b=w.transform;
if(b)n.concat(et.E2(b))}return n};et.XR=function(D,n){var _=new e3,b=D.getAttribute("x"),w=D.getAttribute("y");
if(b)_.oE=parseFloat(b);else if(n)_.oE=n.oE;if(w)_.LE=parseFloat(w);else if(n)_.LE=n.LE;return _};et.E2=function(D){var n=Typr.U.SVG.readTrnf(D);
return new e3(n[0],n[1],n[2],n[3],n[4],n[5])};et.qC=function(D,n){var _={},b="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var k=0;k<b.length;k++){var w=D.getAttribute(b[k]);if(w!=null&&w!="inherit")_[b[k]]=w}var i=D.getAttribute("class");
if(n!=null&&i!=null&&n["."+i]!=null)et.Zb(_,n["."+i],b);var M=D.getAttribute("id");if(n!=null&&M!=null&&n["#"+M]!=null)et.Zb(_,n["#"+M],b);
var N=D.getAttribute("style");if(N!=null)et.Zb(_,N,b);return _};et.Zb=function(D,n,_){n=n.trim().split(";");
for(var k=0;k<n.length;k++){var b=n[k].split(":"),w=b[0]?b[0].trim():"",i=b[1]?b[1].trim():"";for(var M=0;
M<_.length;M++)if(w==_[M]&&i!="inherit")D[_[M]]=i}};et.fE=function(D){var n=D.getAttribute("xlink:href");
if(n==null)n=D.getAttribute("href");if(n==null)n=D.getAttribute("xl:href");return n};et.NK=function(D,n,_,b){var w=et;
function i(Z,r,X){var $=n.getAttribute(Z);if($==null)return;var I=parseFloat($);if($.endsWith("%"))I*=(X?b.l:b.e)/100;
if(X)r.x=I;else r.y=I}var M=new e3,N=n.getAttribute("gradientTransform");if(N)M=w.E2(N);M.concat(_);
var a=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),o=a.Grad.v;o.Intr.v=0;var U=n.tagName,V=new gZ(0,0),c=new gZ(b.l,0);
if(U=="linearGradient"){a.Type.v.GrdT="Lnr";i("x1",V,!0);i("y1",V,!1);i("x2",c,!0);i("y2",c,!1);V.x=c.x+.5*(V.x-c.x);
V.y=c.y+.5*(V.y-c.y)}if(U=="radialGradient"){a.Type.v.GrdT="Rdl";if(n.getAttribute("cx"))V.x=parseFloat(n.getAttribute("cx"));
if(n.getAttribute("cy"))V.y=parseFloat(n.getAttribute("cy"));c.bq(V.x,V.y);if(n.getAttribute("r"))c.x+=parseFloat(n.getAttribute("r"))}if(n.getAttribute("gradientUnits")=="userSpaceOnUse"){V=M.pm(V);
c=M.pm(c)}else{V.x=b.x+V.x*b.l;V.y=b.y+V.y*b.e;c.x=b.x+c.x*b.l;c.y=b.y+c.y*b.e}B.X.o6(V,c,b,a);var E=n.children;
if(E.length==0){var A=w.fE(n);if(A==null)throw"gradient has no stops";var Q=D.getElementById(A.slice(1));
if(Q==null){console.log(A.slice(1))}else{var J=w.NK(D,Q,M,b);a.Grad=J.Grad}}else{var L=[];for(var k=0;
k<E.length;k++){var P=E[k],u=w.qC(P),m=u["stop-color"],x=u["stop-opacity"],v=P.getAttribute("offset");
if(m==null)m="#000000";if(x==null)x="1";var W=v?parseFloat(v):0;m=CSS.RC(m);L.push([W,[m.p/255,m.z/255,m.S/255],parseFloat(x)])}B.X.q2(L,o)}return a};
et.Jz=function(D,n,_){var b=[],w=et;w.lq=n.arw?"\t":"";var i=n.ar1,M=n.asV;b.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+D.l+" "+D.e+"\" width=\""+i+"\" height=\""+M+"\">");
b.push(w.eZ(1)+"<title>"+et.Cb(D.name.split(".")[0])+"</title>");var N={hM:[],pj:[],z4:0,pQ:0,dP:0,Ih:{},U3:{},NT:0,yp:{},A0:{},kl:0,mz:[]};
et.L2(D,N,D.root.children,1,n,_);if(N.hM.length!=0){b.push(w.eZ(1)+"<defs>");b=b.concat(N.hM);b.push(w.eZ(1)+"</defs>")}b.push(w.eZ(1)+"<style>");
b.push(w.eZ(2)+"tspan { white-space:pre }");for(var a in N.yp)b.push(w.eZ(2)+"."+a+" { "+N.yp[a]+" } ");
b.push(w.eZ(1)+"</style>");b=b.concat(N.pj);b.push("</svg>");b=b.join(n.arw?"\n":"");if(w.Ft){console.log(w.Ft);
var o="SVGParser.gen.db = [\n";for(var k=0;k<w.Ft.length;k++){var U=w.Ft[k];o+="{\n\tnam: \""+U.Tz+"\",\n\tpts: [\n";
for(var V=0;V<U.OJ.length;V++){var c=U.OJ[V];o+="\t\t[\""+c[0]+"\", { cmds: "+JSON.stringify(c[1].C)+", crds:"+JSON.stringify(c[1].t)+" } ]"+(V==U.OJ.length-1?"":",")+"\n"}o+="\t]\n}"+(k==w.Ft.length-1?"":",")+"\n"}o+="]\n";
console.log(o)}return j.TJ(b)};et.lq="";et.eZ=function(cQ){var D="";for(var k=0;k<cQ;k++)D+=et.lq;return D};
et.ll=function(cQ){return""+parseFloat(cQ.toFixed(3))};et.L2=function(D,n,_,b,w,i){var M=et;function N(U,cy){var Z=U.add.lmfx;
if(Z)Z=Z[cy].v[0];if(Z)Z=Z.v;if(Z&&!Z.enab.v)Z=null;return Z}function a(U,Q){var b1=N(U,"frameFXMulti");
if(b1){var fc=b1.Sz.v.val;if(b1.Styl.v.FStl=="OutF"){Q.push("paint-order:stroke fill markers");fc*=2}Q.push("stroke: "+CSS.DN(b1.Clr.v));
Q.push("stroke-width: "+fc);Q.push("stroke-linejoin: round;")}}for(var o=0;o<_.length;o++){var U=_[o].i,V=U.add.lsct,c=U.add.vmsk,E=U.add.vstk,A=U.add.TySh;
if(c&&!c.isEnabled)c=E=null;var Q=[];if(!w.hidden&&!U.h$())continue;var J=U.opacity/255,L=U.add.iOpa?U.add.iOpa/255:1;
if(J!=1)Q.push("opacity: "+M.ll(J));if(L!=1)Q.push("fill-opacity: "+M.ll(L));if(U.QQ!="norm"){var P=jz.B9[jz._w.indexOf(U.QQ)];
if(P!=null)Q.push("mix-blend-mode: "+P)}if(!U.h$())Q.push("display: none");var u=[],m=[],x=U.getName(),v=x.indexOf(" .");
if(v!=-1){m.push(x.slice(v+2));x=x.slice(0,v)}if(w.names)u.push("id=\""+M.Cb(x)+"\"");var W=aL.Ld(U.add.lmfx,U.add),Z=W[0],r=W[1];
if(U.nR()){var X=_[o].children;if(!(X.length==1&&X[0].i.add.SoLd&&!w.x4)){if(M.Ft&&U.getName().split("-").length==3){M.Ft.push({Tz:U.getName(),PJ:0,OJ:[]})}et.VI(U,c,n,u);
if(Q.length!=0)u.push("style=\""+Q.join(";")+"\"");n.pj.push(M.eZ(b)+"<g "+M.yN(u,m)+">");M.L2(D,n,X,b+1,w,i);
n.pj.push(M.eZ(b)+"</g>")}}else if(U.x6()&&c==null){var $=new gl(0,0,D.l,D.e);M.vV(Q,U.add,n,$);if(Q.length!=0)u.push("style=\""+Q.join(";")+"\"");
n.pj.push(M.eZ(b)+"<rect width=\""+D.l+"\" height=\""+D.e+"\" "+M.yN(u,m)+" />")}else if(c&&U.add.SoLd==null){var $=B.$.DJ(c.Y,null,!0),I=B.$.U1(c.Y);
if(I.XC!=0){u.push("fill-rule=\"evenodd\"")}var T=I.Y0;M.vV(Q,U.add,n,$);if(Q.length!=0){var e=Q.join(";"),F=n.A0[e];
if(F==null){F="shp"+n.kl;n.kl++;n.A0[e]=F;n.yp[F]=e}m.push(F)}n.pj.push(M.eZ(b)+"<path "+M.yN(u,m)+" d=\""+T+"\" />");
if(M.Ft&&M.Ft[M.Ft.length-1]){var y=B.H.a8(c.Y);y.t=y.t.map(Math.round);var h=M.Ft[M.Ft.length-1];h.PJ+=JSON.stringify(y).length;
h.OJ.push([Q[0].split("#").pop(),y])}}else if(A&&w.auR){var Y=A.uP,K=new h8(Y,i),z=null;if(Z)z=CSS.DN(Z.Clr.v);
if(r){var $=U.rect.clone();M.kq(r,n,$);z=" url(#grd"+n.z4+")"}if(z)u.push("fill=\""+z+"\"");a(U,Q);if(Q.length!=0)u.push("style=\""+Q.join(";")+"\"");
var f=iy.n6(K,A),s=B.H.yU(f);for(var l in s){if(z==null)u.push("fill=\""+l+"\"");var g=s[l],T=Typr.U.pathToSVG({crds:g.t,cmds:g.C},2);
n.pj.push(M.eZ(b)+"<path "+M.yN(u,m)+" "+M.vi(A)+" d=\""+T+"\" />");if(z==null)u.pop()}}else if(A&&!w.afI){var Y=A.uP,H=A.A.clone(),z=null;
Q.push("transform: "+M.du(H));var O=jg.kb(Y),K=new h8(Y,i);a(U,Q);if(Q.length!=0)u.push("style=\""+Q.join(";")+"\"");
n.pj.push(M.eZ(b)+"<text "+M.yN(u,m)+" >");if(Z)z=CSS.DN(Z.Clr.v);if(r){var $=U.rect.clone();$.x-=H.oE;
$.y-=H.LE;M.kq(r,n,$);z=" url(#grd"+n.z4+")"}for(var k=0;k<K.ew.length;k++){var C=K.ew[k];if(C.Sj.length==1&&C.Sj[0].ph)continue;
for(var ib=0;ib<C.ZK.length;ib++){var hH=C.ZK[ib],R=C.jY.y+hH.jY.y,fR=C.Sj[hH.start].start,j4=C.Sj[hH.end-1].end,cP=jg.aj$(Y,fR,j4),a8="";
for(var d0=0;d0<cP.length;d0++){var b9=K.cT(fR),jG=cP[d0],jP=jg.np(Y,fR,fR),aq=jP.SY[jP.OT.Font].Name,l=jg.kj(jP.OT.FillColor),gM=Math.round(jP.OT.FontSize),gv=O.slice(fR,fR+jG);
if(jP.OT.FontCaps==2)gv=gv.toUpperCase();var dT=new e3;dT.translate(b9.Kj.x,-R);var aC=[];CSS.a7_(aC,jP,null,!0,!0,z);
var e=aC.join(";"),F=n.A0[e];if(F==null){F="txt"+n.kl;n.kl++;n.A0[e]=F;n.yp[F]=e}var c1=b9.Kj.x,aj=M.aoA(jP,gv);
a8+="<tspan "+(d0==0?"x=\""+M.ll(b9.Kj.x)+"\"":"")+" y=\""+M.ll(R)+"\" class=\""+F+"\""+aj+">"+M.Cb(gv)+"</tspan>";
fR+=jG}n.pj.push(M.eZ(b+1)+a8)}}n.pj.push(M.eZ(b)+"</text>")}else if(U.add.SoLd&&w.x4){var bD=U.add.SoLd,cy=bD.Idnt.v,co=0,hV=bD.Crop?bD.Crop.v:null;
if(n.U3[cy]!=null)co=n.U3[cy];else{n.NT++;co=n.NT;n.U3[cy]=n.NT;var il=D.xF(cy,hV),fx="";if(il==null)return;
var h6=il.Gj,c8=eF.pV(il.raw.buffer);if(c8=="pdf"){var bU=new ai("h");eF.rW("PDF").Ck(il.raw.buffer,bU);
bU.Wh();bU.ns();bU.G();bU.T2();if(bD.Crop&&bD.Crop.v==1){G.v1.VE(bU,bU.root.YL(bU,!0))}var b6=eF.rW("SVG").VX(bU,bU.l,bU.e,null,{mz:i});
fx="data:image/svg+xml;base64,"+eF.AC(b6)}else if(c8=="jpg"||c8=="png"||c8=="gif"||c8=="svg"){var iF={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
fx="data:"+iF[c8]+";base64,"+eF.AC(il.raw.buffer)}else{fx=eF.L_(h6[0].buffer,h6[1].l,h6[1].e)}n.hM.push(M.eZ(2)+"<image width=\""+h6[1].l+"\" height=\""+h6[1].e+"\" id=\"img"+co+"\" href=\""+fx+"\"/>")}var dY=B.N.Go(bD),bl=[];
et.VI(U,c,n,bl);if(bl.length!=0)n.pj.push(M.eZ(b)+"<g "+M.yN(bl,m)+">");if(Q.length!=0)u.push("style=\""+Q.join(";")+"\"");
var dc=M.yN(u,m);n.pj.push(M.eZ(b)+"<use "+dc+" href=\"#img"+co+"\" transform=\""+M.du(dY)+"\"/>");if(bl.length!=0)n.pj.push(M.eZ(b)+"</g>")}else if(!U.rect.hk()&&(w.x4||A)){if(Q.length!=0)u.push("style=\""+Q.join(";")+"\"");
var dc=M.yN(u,m),hN=U.buffer;if(Z)hN=aL.aua(hN,Z,U.rect);var ga=U.rect;n.NT++;var fx=eF.L_(hN.buffer,ga.l,ga.e,"png",null,!0);
n.hM.push(M.eZ(2)+"<image "+M.vi(A)+" width=\""+U.rect.l+"\" height=\""+U.rect.e+"\" id=\"img"+n.NT+"\" href=\""+fx+"\"/>");
n.pj.push(M.eZ(b)+"<use "+dc+" href=\"#img"+n.NT+"\" x=\""+ga.x+"\" y=\""+ga.y+"\" />")}}};et.aoA=function(D,n){var _=D.OT.Tracking,b="";
if(_!=null&&_!=0){_=Math.round(_*D.OT.FontSize/1e3);b=" dx=\"0";for(var w=1;w<n.length;w++)b+=" "+_;
b+="\" "}return b};et.vi=function(D){if(D==null)return"";var n=D.uP,_=jg.kb(n);_=et.Cb(_.slice(0,_.length-1));
return"aria-label=\""+_+"\" "};et.yN=function(D,n){if(n.length!=0)D.push("class=\""+n.join(" ")+"\"");
return D.join(" ")};et.Cb=function(D){return String(D).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
et.du=function(D){var n=[D.vd,D.S,D.jo,D.Ww,D.oE,D.LE].map(et.ll);return"matrix("+n.join(",")+")"};et.VI=function(D,n,_,b){var w=et;
if(n||D.add.artb){var i;if(n)i=B.$.U1(n.Y).Y0;else{var M=D.w3(),N=B.H.X0(M);i=Typr.U.pathToSVG({crds:N.t,cmds:N.C},2)}_.dP++;
b.push("clip-path=\"url(#cp"+_.dP+")\"");_.hM.push(w.eZ(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+_.dP+"\">");
_.hM.push(w.eZ(3)+"<path d=\""+i+"\" />");_.hM.push(w.eZ(2)+"</clipPath>")}};et.vV=function(D,n,_,b){var w=et,i=n.vstk,M=n.vmsk,N=n.lmfx;
if(M&&M.rq!=0){var a=w.ll(M.rq);if(_.Ih[a]==null){_.pQ++;_.Ih[a]=_.pQ;_.hM.push(w.eZ(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+_.pQ+"\"> <feGaussianBlur stdDeviation=\""+a+"\" /> </filter>")}D.push("filter: url(#flt"+_.Ih[a]+")")}var o=aL.Ld(N,n),U=o[0],V=o[1];
if(i&&!i.fillEnabled.v)D.push("fill: none");else if(U){var c=CSS.DN(U.Clr.v);D.push("fill: "+c)}else if(V){w.kq(V,_,b);
D.push("fill: url(#grd"+_.z4+")")}if(i==null||!i.strokeEnabled.v)i=aL.g$(N);if(i&&i.strokeEnabled.v){var E=i.strokeStyleContent.v,A=E.classID;
if(A=="solidColorLayer")D.push("stroke: "+CSS.DN(E.Clr.v));else{w.kq(E,_,b);D.push("stroke: url(#grd"+_.z4+")")}var Q=ci.yg.Xr.indexOf(i.strokeStyleLineCapType.v.strokeStyleLineCapType),J=ci.yg.join.indexOf(i.strokeStyleLineJoinType.v.strokeStyleLineJoinType),L=i.strokeStyleOpacity.v.val/100,P=i.strokeStyleLineWidth.v.val,u=ci.yg.l9.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(u==2){P*=2;D.push("paint-order:stroke fill markers")}var m=i.strokeStyleLineDashSet.v,x=[];for(var k=0;
k<m.length;k++)x.push(Math.round(m[k].v.val*P));if(Q!=0)D.push("stroke-linecap:"+["butt","round","square"][Q]);
if(J!=0)D.push("stroke-linejoin:"+["miter","round","bevel"][J]);if(L!=1)D.push("stroke-opacity:"+w.ll(L));
if(P!=1)D.push("stroke-width: "+w.ll(P));if(x.length!=0)D.push("stroke-dasharray: "+x.join(","))}};et.kq=function(D,n,_){n.z4++;
var b=et,w=D.Grad.v,i=JSON.parse(JSON.stringify(w.Clrs.v)),M=JSON.parse(JSON.stringify(w.Trns.v)),N=D.Ofst.v,a=D.Type.v.GrdT,o=a=="Rdl"?1:0,U=(o==1?"radial":"linear")+"Gradient",V=B.X.bm(D,_);
if(o==0){V[0].x=V[1].x+2*(V[0].x-V[1].x);V[0].y=V[1].y+2*(V[0].y-V[1].y)}var c=b.eZ(2)+"<"+U+" id=\"grd"+n.z4+"\" gradientUnits=\"userSpaceOnUse\" ";
if(o==0)n.hM.push(c+" x1=\""+b.ll(V[0].x)+"\" y1=\""+b.ll(V[0].y)+"\" x2=\""+b.ll(V[1].x)+"\" y2=\""+b.ll(V[1].y)+"\">");
if(o==1)n.hM.push(c+" cx=\""+b.ll(V[0].x)+"\" cy=\""+b.ll(V[0].y)+"\" r=\""+b.ll(gZ._e(V[0],V[1]))+"\">");
if(a=="Rflc"){for(var E=0;E<2;E++){var A=E==0?i:M;for(var k=A.length-1;k>=0;k--){var Q=A[k];Q.v.Lctn.v=2048+(Q.v.Lctn.v>>>1);
var J=JSON.parse(JSON.stringify(Q));J.v.Lctn.v=4096-J.v.Lctn.v;A.push(J)}A.sort(function(x,v){return x.v.Lctn.v-v.v.Lctn.v})}}var L=D.Rvrs.v;
if(L){i.reverse();M.reverse()}for(var k=0;k<i.length;k++){var P=i[k].v,u=k<M.length?M[k].v.Opct.v.val/100:1,u=u==1?"":"stop-opacity=\""+b.ll(u)+"\"",m=P.Lctn.v/4096;
if(L)m=1-m;n.hM.push(b.eZ(3)+"<stop offset=\""+b.ll(m)+"\" stop-color=\""+CSS.DN(P.Clr.v)+"\" "+u+" />")}n.hM.push(b.eZ(2)+"</"+U+">")};
et.yA=function(D,n,_,b,w){var i=[],M=et.yA,N=!1,a={Wj:D,Rw:n,A$:[!0,!0,!0],JH:!1,xi:_,a7p:0};a.r0=Math.round(Math.max(D,n)*(.02+M.Is(a)*.03));
a.Q9=M.agq(a);a.XJ=M.aek(a.Q9,(M.Is(a)<.5?-1:1)*(.2+M.Is(a)*.3));if(M.Is(a)<.5){var o=a.Q9;a.Q9=a.XJ;
a.XJ=o}a.alu=M.Is(a)<.4&&M.adI(a.XJ,{p:1,z:1,S:1})>.3;a.a6V=M.Is(a)<.5?0:1;i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+D+" "+n+"\" width=\""+D+"\" height=\""+n+"\">");
a.b3=b[Math.floor(M.la(a)*b.length)];a.XE=b[Math.floor(M.la(a)*b.length)];i.push("<style>");i.push("@font-face {  font-family: "+a.b3[2]+";  src: url(rsrc/fonts/"+a.b3[5]+");  }");
i.push("@font-face {  font-family: "+a.XE[2]+";  src: url(rsrc/fonts/"+a.XE[5]+");  }");i.push("</style>");
var U=[0,0,D,n],V=U;if(w==null)i.push("<path style=\"fill: "+M.N8(a.Q9)+"\" d=\""+M.Rect(U[0],U[1],U[2]-U[0],U[3]-U[1])+"\" id=\"Background\" />");
else{a.JH=!0;M.RB(a,U,i,w)}if(M.Is(a)<.25&&!a.JH){a.A$[0]=a.A$[2]=!1;M.ajW(U,a,i);V=U}else if(M.Is(a)<.25||a.JH)V=U;
else{var c=.52+M.Is(a)*.2;if(M.Is(a)<.5)c=1-c;var E=U.slice(0),A=U.slice(0);if(M.Is(a)<.5)E[2]=A[0]=Math.round(c*D);
else E[3]=A[1]=Math.round(c*n);if(M.Is(a)<.5){var o=E;E=A;A=o}V=E;M.acS(a,A,i,w)}M.a4g(a,V,i);i.push("</svg>");
i=i.join("\n");var Q=B.U(Math.round(i.length*1.5)),J=j.yG(i,Q,0);return[Q.buffer.slice(0,J),a.kg]};et.yA.ajW=function(D,n,_){var b=et.yA,w=D[2]-D[0],i=D[3]-D[1];
if(b.Is(n)<.5){_.push("<path id=\"Border\" style=\"fill: "+b.N8(n.XJ)+"\" d=\""+b.aaa(D[0],D[1],D[2]-D[0],D[3]-D[1],n.r0)+"\" />")}else if(b.Is(n)<-.4){b.a9d(n,D,_)}else{var M=b.Is(n)<.5?0:1,N=(M==0?i:w)/4,a=b.J6(n,M,D,_,N,!0),a=b.J6(n,M+2,D,_,N,!0,a)}};
et.yA.a4g=function(D,n,_){var b=et.yA,w="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),i=2*Math.floor(b.Is(D)*w.length/2),M=n[2]-n[0],N=n[3]-n[1],o=0,V=0;
D.ZU=(D.Wj+M)*.5*(.04+b.Is(D)*.05);D.ZU=Math.min(D.ZU,N*.4,M*.12);D.ZU=Math.round(D.ZU);var a=Math.min(D.ZU*w[i].length*(.35+.3*b.Is(D)),M*.9),U=(n[1]+n[3])/2,c=B.M9(D.Q9)<.85?{p:1,z:1,S:1}:{p:.1,z:.1,S:.1};
if(b.Is(D)<.25&&D.A$[0]){V=0;o=n[0]+D.r0}else if(b.Is(D)<.33&&D.A$[2]){V=2;o=n[2]-D.r0}else{V=1;o=(n[0]+n[2])/2}var E=c.p==1?"0,0,0":"255,255,255",A=D.JH&&b.Is(D)<1;
if(A){var Q=n[0],J=M,L=U-D.ZU*1.1,P=D.ZU*2.2,u=.7;if(V==1&&b.Is(D)<.5){Q=L=.2*Math.min(M,N);J=M-2*L;
P=N-L-L}else if(b.Is(D)<.7){Q=L=0;J=M;P=N;u=.25}_.push("<path id=\"Strip\" style=\"fill: rgb("+E+"); opacity: "+u+"\" d=\""+b.Rect(Q,L,J,P)+"\" />")}if(b.Is(D)<.4){var m=D.ZU*.07;
m*=1.5+b.Is(D)*1;if(V==-1&&M/N<3&&!A){_.push("<path id=\"Bar-bottom\" style=\"fill: "+b.N8(c)+"\" d=\""+b.Rect(o-a/2,U+D.ZU*1.1-m/2,a,m)+"\" />");
_.push("<path id=\"Bar-top\"    style=\"fill: "+b.N8(c)+"\" d=\""+b.Rect(o-a/2,U-D.ZU*1.1-m/2,a,m)+"\" />")}if(V!=1){_.push("<path id=\"Bar\" style=\"fill: "+b.N8(c)+"\" d=\""+b.Rect(o-m/2,U-D.ZU*.8,m,D.ZU*.8*2)+"\" />");
o+=(V==0?1:-1)*D.ZU/3}}var x=D.ZU*.4;_.push(b.y3(w[i+1],o,U+x*1.6,x,c,V,D.XE));_.push(b.y3(w[i],o,U+D.ZU*.04,D.ZU,c,V,D.b3))};
et.yA.acS=function(D,n,_,b){var w=n[2]-n[0],i=n[3]-n[1],M=Math.max(w,i),N=Math.min(w,i),a=et.yA;if(M/N<5&&!D.JH&&!1){a.RB(D,n,_,b)}else if(a.Is(D)<0)_.push("<path style=\"fill: "+a.N8(D.XJ)+"\" d=\""+a.Rect(n[0],n[1],w,i)+"\" />");
else{var o=0;if(n[3]!=D.Rw)o=0;if(n[2]!=D.Wj)o=3;if(n[0]!=0)o=1;if(n[1]!=0)o=2;var U=o+2&3;if(M/N<3){var V=a.a7v(U),c=V[Math.round(a.Is(D)*(V.length-1))],E=c.Tz.slice(0,4),A=E.indexOf(1);
c=JSON.parse(JSON.stringify(c));var Q=-1;if(E!="0000"){var J=new e3;if(c.Tz[5]=="0"){if(A==3&&o==1){Q=1;
J.scale(-1,1)}else Q=A}else{var L=U;while(L==U)L=Math.floor(a.Is(D)*4)&3;J.rotate((-A+L)*Math.PI/2)}a.A(c,J)}var P=a.t0(c),u=w-2*D.r0,m=i-2*D.r0;
if(Q!=-1){if((Q&1)==0)m-=D.r0;else u-=D.r0}var x=Math.min(u/P.l,m/P.e),v=new e3;v.translate(-P.x,-P.y);
v.scale(x,x);var W=(w-P.l*x)/2,Z=(i-P.e*x)/2;if(Q!=-1){if(Q==3)W=0;if(Q==0)Z=0;if(Q==1)W=w-P.l*x;if(Q==2)Z=i-P.e*x}v.translate(n[0]+W,n[1]+Z);
a.cD(D,c,v,D.XJ,_)}else{a.J6(D,o,n,_,1e9)}}};et.yA.RB=function(D,n,_,b){var w=n[2]-n[0],i=n[3]-n[1],M=Math.max(w,i),N=Math.min(w,i),a=et.yA,o=a.la(D),U,V,c,E=b[0]instanceof ArrayBuffer;
if(E){U="data:image/jpg;base64,"+bh.pW(b[0]);V=b[1];c=b[2]}else{var A=Math.floor(o*b.length),Q=b[A];
D.kg=Q;U=Q.webformatURL;V=Q.webformatWidth;c=Q.webformatHeight}var J=n[0],L=n[1],P=w,u=i;if(w/i>V/c){u=P*c/V;
L=L-(u-i)/2}else{P=u*V/c;J=J-(P-w)/2}if(E){_.push("<defs>");_.push("<image width=\""+V+"\" height=\""+c+"\" id=\"Background\" href=\""+U+"\" />");
_.push("</defs>");var m=P/V;_.push("<use href=\"#Background\" transform=\""+et.du(new e3(m,0,0,m,J,L))+"\" />")}else{var x="cp"+Math.random();
_.push("<clipPath id=\""+x+"\">");_.push("<path style=\"fill: "+a.N8(D.XJ)+"\" d=\""+a.Rect(n[0],n[1],w,i)+"\" />");
_.push("</clipPath>");_.push("<image  clip-path=\"url(#"+x+")\" xlink:href=\""+U+"\" x=\""+J+"\" y=\""+L+"\" width=\""+P+"\" height=\""+u+"\" />")}};
et.yA.y3=function(D,n,_,b,w,i,M){var N=et.yA;return"<text x=\""+n+"\" y=\""+_+"\" style=\"fill:"+N.N8(w)+"; font-size:"+b+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+M[2]+";\"><tspan>"+D+"</tspan></text>"};
et.yA.cD=function(D,n,_,b,w){var i=et.yA,M=[];for(var k=0;k<n.OJ.length;k++){M.push(b);if(D.alu){b=(k&1)==D.a6V?{p:1,z:1,S:1}:M[0]}}w.push("<g id=\""+n.Tz.split("-")[2]+":::\" style=\"transform: "+et.du(_)+";\" >");
for(var k=0;k<n.OJ.length;k++){var N=n.OJ[k];b=M.pop();w.push("<path style=\"fill: "+(b?i.N8(b):"#"+N[0])+"\" d=\""+Typr.U.pathToSVG({crds:N[1].t,cmds:N[1].C})+"\" />")}w.push("</g>")};
et.yA.a9d=function(D,n,_){var b=et.yA,w=et.yA.nB,i=[];for(var k=0;k<w.length;k++){var M=w[k],N=M.Tz.slice(0,4);
if(N!="1001")continue;i.push(M)}var M=i[Math.floor(b.Is(D)*i.length)];if(b.Is(D)<.5)b.A(M,new e3(0,1,1,0,0,0));
var a=n[3]-n[1],o=n[2]-n[0],U=b.t0(M),V=.7*Math.min(o,a,.5*Math.max(o,a))/Math.max(U.l,U.e),c=new e3;
c.scale(V,V);if(b.Is(D)<.5){c.scale(1,-1);c.translate(0,a)}b.cD(D,M,c,D.XJ,_);c.rotate(Math.PI);c.translate(o,a);
b.cD(D,M,c,D.XJ,_)};et.yA.a7v=function(D){var n=et.yA.nB,_=[];for(var k=0;k<n.length;k++){var b=n[k],w=b.Tz.slice(0,4);
if(w=="0000"){_.push(b);continue}if(["1000","0100","0010","0001"].indexOf(w)==-1)continue;var i=w.indexOf("1");
if(b.Tz[5]=="0"&&D==i&&i!=3)continue;_.push(b)}return _};et.yA.J6=function(D,n,_,b,w,i,M){var N=et.yA.nB,a=et.yA,o=[],P,u;
for(var k=0;k<N.length;k++){var U=N[k],V=U.Tz.slice(0,4);if(["1110","1101","1011","0111"].indexOf(V)==-1)continue;
var c=V.indexOf("0")+2&3;if(U.Tz[5]=="0")if(i==!0||n!=c&&!(n==1&&c==3))continue;o.push(U)}var E=M!=null?M:Math.floor(a.Is(D)*o.length),U=o[E],U=JSON.parse(JSON.stringify(U)),V=U.Tz.slice(0,4),c=V.indexOf("0")+2&3;
if(c==3&&n==1)B.A(U,new e3(1,0,0,-1,0,1e3));var A=new e3;A.translate(-500,-500);A.rotate(-c*Math.PI/2);
A.translate(500,500);a.A(U,A);var Q=_[3]-_[1],J=_[2]-_[0],L=a.t0(U);if(L.y<0){L.e+=L.y;L.y=0}if(L.y>0){L.e+=L.y;
L.y=0}if((n&1)==0){u=Q;P=J}else{P=Q;u=J}var m=Math.min(Math.min(.5+.5*a.Is(D))*Math.min(J,Q),w)/L.e,x=Math.ceil(P/(1e3*m)),v=new e3,W=new e3;
W.scale(m,m);if(n==0||n==2){W.translate(-(J/2),-(Q/2));W.rotate(-n*Math.PI/2);W.translate(J/2+_[0],Q/2+_[1])}else{W.rotate(Math.PI/2);
W.scale(1,-1);W.translate(_[0],_[1]);if(n==1){W.scale(-1,1);W.translate(J,0)}}b.push("<g id=\"Border-"+["top","right","bottom","left"][n]+":::\">");
for(var k=0;k<x;k++){var Z=v.clone();Z.concat(W);a.cD(D,U,Z,D.XJ,b);v.translate(1e3-2,0)}b.push("</g>");
return E};et.yA.Rect=function(D,n,_,b){return Typr.U.pathToSVG({crds:[D,n,D+_,n,D+_,n+b,D,n+b],cmds:["M","L","L","L","Z"]})};
et.yA.aaa=function(D,n,_,b,w){var i=[D,n,D+_,n,D+_,n+b,D,n+b];D+=w;n+=w;_-=2*w;b-=2*w;i.push(D,n,D,n+b,D+_,n+b,D+_,n);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};et.yA.aek=function(D,n){var _=B._U(D.p,D.z,D.S);
_.kL=Math.max(.1,Math.min(.9,_.kL+n));return B.jz(_.Rw,_.cg,_.kL)};et.yA.a2g=function(D,n){var _=B._U(D.p,D.z,D.S);
_.Rw+=n;return B.jz(_.Rw,_.cg,_.kL)};et.yA.ail=function(D){var n=B._U(D.p,D.z,D.S);n.kL=1-n.kL;return B.jz(n.Rw,n.cg,n.kL)};
et.yA.adI=function(D,n){var _=D.p-n.p,b=D.z-n.z,w=D.S-n.S;return Math.sqrt(_*_+b*b+w*w)};et.yA.agq=function(D){var n=et.yA;
return{p:n.Is(D),z:n.Is(D),S:n.Is(D)}};et.yA.N8=function(D){return CSS.yY({p:D.p*255,z:D.z*255,S:D.S*255})};
et.yA.t0=function(D){var n=D.OJ,_=new gl;for(var k=0;k<n.length;k++)_=_.Ik(B.H.t0(n[k][1].t));return _};
et.yA.A=function(D,n){var _=D.OJ;for(var k=0;k<_.length;k++)B.H.A(_[k][1].t,n,_[k][1].t)};et.yA.Is=function(D){D.a7p++;
var n=D.a7p&3;if(n==0)D.xi=et.yA.i6(D.xi);var _=D.xi>>>8*n&255;return _*(.99999999/255)};et.yA.la=function(D){var n=et.yA.i6(D.xi);
D.xi=et.yA.i6(n);return n*(1/4294967295)};et.yA.i6=function(D){D=(D^61^D>>>16)>>>0;D=D+(D<<3)>>>0;D=(D^D>>>4)>>>0;
D=D*668265261>>>0;D=(D^D>>>15)>>>0;return D};et.yA.nB=[{Tz:"0001-0-bird",OJ:[["4b3c34",{C:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),t:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{C:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),t:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{C:"M C C C C C C C C C C C C L Z".split(" "),t:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Tz:"0001-0-bird2",OJ:[["ff7f2a",{C:"M L L L Z M L L L Z".split(" "),t:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{C:"M C C C C C C C C C C C L Z".split(" "),t:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{C:"M C C C C C C L Z M C C Z".split(" "),t:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{C:"M L L L Z M L L L Z".split(" "),t:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{C:"M L C C C C C C C C L Z".split(" "),t:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{C:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),t:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Tz:"0000-1-flower",OJ:[["7a59a2",{C:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),t:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Tz:"0000-1-flower",OJ:[["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),t:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Tz:"0000-1-flower",OJ:[["ffac42",{C:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),t:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Tz:"0000-1-flower",OJ:[["d04040",{C:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),t:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Tz:"0000-1-flower",OJ:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),t:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{C:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),t:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Tz:"0000-0-hearts",OJ:[["d17070",{C:"M C C C C C C C C C L Z".split(" "),t:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{C:"M C C C C C C C C C L Z".split(" "),t:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{C:"M C C C C C C C C C L Z".split(" "),t:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Tz:"0000-0-anchor",OJ:[["2a3b66",{C:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),t:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Tz:"0000-1-leaf",OJ:[["fbb600",{C:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),t:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Tz:"0000-1-acorn",OJ:[["a05a2c",{C:"M C C C C C C C L Z".split(" "),t:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{C:"M C C C C C C C C C C C Z".split(" "),t:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Tz:"0000-0-skull",OJ:[["808080",{C:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),t:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Tz:"0000-0-ghost",OJ:[["e6e6e6",{C:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),t:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{C:"M C C C C Z M C C C C Z".split(" "),t:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Tz:"1001-1-rose",OJ:[["9e1460",{C:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),t:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{C:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),t:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Tz:"1001-1-curls",OJ:[["53a7ab",{C:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),t:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{C:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),t:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Tz:"0111-0-pines",OJ:[["e9e9e9",{C:"M C C C C C C C C L L L Z".split(" "),t:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{C:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),t:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Tz:"0111-0-flowers",OJ:[["8cae40",{C:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),t:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),t:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Tz:"1101-1-confetti",OJ:[["e789ff",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Tz:"1101-1-branch",OJ:[["7f500b",{C:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),t:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Tz:"1101-1-sticks",OJ:[["ec7272",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Tz:"1101-1-dots",OJ:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{C:["M","C","C","Z"],t:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Tz:"1101-1-strips",OJ:[["ffc88c",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{C:["M","C","C","Z"],t:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Tz:"1101-1-circs",OJ:[["ec7272",{C:"M C C C C Z M C C C C Z".split(" "),t:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{C:"M C C C C Z M C C C C Z".split(" "),t:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{C:["M","C","C","Z"],t:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Tz:"1101-1-squares",OJ:[["014ea7",{C:"M L L L L Z M L L L L Z".split(" "),t:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{C:"M L L L L Z M L L L L Z".split(" "),t:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{C:["M","C","C","Z"],t:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Tz:"1101-0-christmas",OJ:[["014ea7",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),t:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),t:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var jn={};jn.parse=function(D){var n=new Uint8Array(D),_=null;if(n[0]==80&&n[1]==75){var b=Date.now(),w=UZIP.parse(n.buffer),_=w["document.json"];
_=JSON.parse(j.KA(_,0,_.length));jn.Uf(_,w)}else{var i=jT.parse(D);_=jn.d3(i[2][0][1])}return _};jn.Uf=function(D,n){var _=typeof D;
if(_=="string"||_=="number"||_=="boolean")return D;if(D instanceof Array){for(var k=0;k<D.length;k++)D[k]=jn.Uf(D[k],n);
return D}var b=D._class;if(b==null)return D;if(b=="MSJSONFileReference"){var w=D._ref;if(!1){}else if(n[w+".json"]!=null){var i=n[w+".json"],M=i.length;
for(var k=0;k<M;k++)if(i[k]==11||i[k]==3)i[k]=32;var N=j.KA(i,0,M);D=JSON.parse(N)}else if(n[w+".png"]!=null)return{key:w.split("/").pop(),bdata:n[w+".png"]};
else if(n[w+".jpg"]!=null)return{key:w.split("/").pop(),bdata:n[w+".jpg"]};else if(n[w+".pdf"]!=null)return{key:w.split("/").pop(),bdata:n[w+".pdf"]};
else if(n[w]!=null)return{key:w.split("/").pop(),bdata:n[w]};else{console.log(D,n);return}}else if(b=="MSAttributedString"){var N=atob(D.archivedAttributedString._archive),a=N.length-1,o=new Uint8Array(a);
for(var k=0;k<a;k++)o[k]=N.charCodeAt(k);D.archivedAttributedString=jn.d3(o)}for(var U in D)D[U]=jn.Uf(D[U],n);
return D};jn.L4=function(D,n,_,b){if(D instanceof Uint8Array)return null;if(b.indexOf(D)!=-1)return null;
b.push(D);if(D==n)return _;for(var w in D){_.push(w);var i=jn.L4(D[w],n,_,b);if(i){console.log(D,i);
throw"e"}_.pop()}};jn.d3=function(D){var n=gs.parse(D,0),_=n.$objects,b=new Uint8Array(_.length),w=jn.Jr(_,b,n.$top.root);
for(var k=0;k<_.length;k++)if(b[k]==0&&k!=0){console.log(k,_[k]);jn.L4(w,k,[],[])}for(var k=0;k<_.length;
k++){var i=_[k];if(i._class&&(i._class=="bitmap"||i._class=="fill"&&i.fillType==4&&(i.image||i.imageSHA))){var M=i.image,N=i.imageSHA,a=null,o=null;
if(M=="$null")M=null;if(N=="$null")N=null;if(M&&M.data){o=M.sha1["NS.bytes"];o=btoa(j.gw(o,0,o.length));
a=M.data instanceof Uint8Array?M.data:M.data["NS.bytes"]}else if(M==null&&N==null){var U=eF.rW("PNG").VX([[B.U(4).buffer]],1,1);
a=new Uint8Array(U)}else{var V=(w.assets?w.assets.imageCollection:w.images).images;if(N)o=N instanceof Uint8Array?N:N["NS.bytes"];
else o=M.sha1["NS.bytes"];o=btoa(j.gw(o,0,o.length));var a=V[o].data;if(a["NS.bytes"])a=a["NS.bytes"]}a=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.length));
delete i.imageSHA;i.image={key:o,bdata:a}}}return w};jn.ap1=function(D){return D.slice(0,11)=="MSImmutable"?"MS"+D.slice(11):D};
jn.Jr=function(D,n,_){var b=D[_];if(n[_]==1){return b}n[_]=1;if(typeof b=="string")return b;if(typeof b=="number")return b;
if(typeof b=="boolean")return b;if(b instanceof Array)return b;if(b instanceof Uint8Array){return b}if(D[b.$class]==null){if(b.$class==null&&b["NS.data"]!=null)return b;
console.log(_,b);throw"e"}var w=D[b.$class],i=jn.ap1(w.$classname);n[b.$class]=1;b.$class=i;if(jn.qd[i]){delete b.$class;
b._class=jn.qd[i]}var M=jn.Jr;if(i=="NSMutableArray"||i=="NSArray"){var N=[];if(b["NS.objects"]!=null)for(var k=0;
k<b["NS.objects"].length;k++)N.push(M(D,n,b["NS.objects"][k]));else for(var k=0;b["NS.object."+k]!=null;
k++)N.push(M(D,n,b["NS.object."+k]));D[_]=N;return N}if(i=="NSDictionary"||i=="NSMutableDictionary"){var a={$class:i};
if(b["NS.keys"]!=null)for(var k=0;k<b["NS.keys"].length;k++){var o=M(D,n,b["NS.keys"][k]);if(o instanceof Uint8Array)o=btoa(jn.vs.gw(o,0,o.length));
else if(typeof o!="string"&&typeof o!="number")o=btoa(jn.vs.gw(o["NS.bytes"],0,o["NS.bytes"].length));
a[o]=M(D,n,b["NS.objects"][k])}else for(var k=0;b["NS.key."+k]!=null;k++){var o=M(D,n,b["NS.key."+k]);
if(o instanceof Uint8Array)o=btoa(jn.vs.gw(o,0,o.length));else if(typeof o!="string"&&typeof o!="number")o=btoa(jn.vs.gw(o["NS.bytes"],0,o["NS.bytes"].length));
a[o]=M(D,n,b["NS.object."+k])}for(var U in b)delete b[U];for(var U in a)b[U]=a[U];return b}if(i=="NSURL")return{$class:i,base:M(D,n,b["NS.base"]),relative:M(D,n,b["NS.relative"])};
if(jn.a9p.indexOf(i)!=-1){D[_]=M(D,n,b.array_do);return D[_]}if(b.do_objectID!=null)b.do_objectID=M(D,n,b.do_objectID);
if(jn.a9t.indexOf(i)!=-1)return b;var V=jn.asv[i];if(V==null){console.log(D,b);throw"unknown class "+i}for(var k=0;
k<V.length;k++)if(b[V[k]]!=null)b[V[k]]=M(D,n,b[V[k]]);if(i=="MSTextLayer"){var c=b,E,A,Q,J;if(c.attributedString)E=c.attributedString.archivedAttributedString;
else E=c.storage;J=E.NSString;if(typeof J!="string")J=j.KA(J["NS.bytes"],0,J["NS.bytes"].length);if(E.NSAttributeInfo)A=E.NSAttributeInfo["NS.bytes"];
else{var L=J.length,P=[];while(L>0){var u=Math.min(100,L);P.push(u,0);L-=u}A=new Uint8Array(P)}Q=E.NSAttributes instanceof Array?E.NSAttributes:[E.NSAttributes];
var m={$class:"NSAttributedString",NSString:J,NSAttributes:Q};c.attributedString={_class:"MSAttributedString",archivedAttributedString:m};
m.NSAttributeInfo={$class:"NSMutableData","NS.data":A};delete c.storage}return b};jn.vs={UH:function(D,n){return D[n+1]<<8|D[n]},n:function(D,n){return D[n+3]<<24|D[n+2]<<16|D[n+1]<<8|D[n]},gw:function(D,n,_){var b="";
for(var k=0;k<_;k++)b+=String.fromCharCode(D[n+k]);return b}};jn.qd={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
jn.a9p=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
jn.a9t="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
jn.asv={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var gs={};gs.parse=function(D,n){var _=j.gw(D,n,8);n+=8;var b=gs.parse.adG(D,D.length-31),w=[];if(b.JT==1){var n=D.length-31-b.JT*b.eS;
for(var k=0;k<b.eS;k++)w.push(D[n+k])}else if(b.JT==2){var n=D.length-31-b.JT*b.eS;for(var k=0;k<b.eS;
k++)w.push(j.UH(D,n+k*2))}else if(b.JT==4){var n=D.length-31-b.JT*b.eS;for(var k=0;k<b.eS;k++)w.push(j.n(D,n+k*4))}else{throw"e"}var i=gs.parse.Jr(D,w,b.root,b);
return i};gs.parse.Jr=function(D,n,_,b){var w=gs.vs,i=b.asN,M=i==4?w.n:i==2?w.UH:w.aj9,N=gs.parse,a=n[_],o=D[a],U=o>>4,V=o&15,E=null;
a+=1;if([4,5,6,10,12,13].indexOf(U)!=-1&&V==15){var c=N.H8(D,a);a+=c.PJ;V=c.k}if(!1){}else if(U==0)E=V==8?!1:V==9?!0:null;
else if(U==1)E=N.H8(D,a-1).k;else if(U==2)E=1<<V==4?j.Qy(D,a):j.Sm(D,a);else if(U==3)E=j.Sm(D,a);else if(U==4)E=new Uint8Array(D.buffer,a,V);
else if(U==5)E=j.gw(D,a,V);else if(U==6)E=j.D3(D,a,V);else if(U==8){E=0;for(var k=0;k<V+1;k++)E=E<<8|D[a+k]}else if(U==10){E=[];
for(var k=0;k<V;k++)E.push(N.Jr(D,n,M(D,a+i*k),b))}else if(U==12){E=[];for(var k=0;k<V;k++)E.push(N.Jr(D,n,M(D,a+i*k),b))}else if(U==13){E={};
for(var k=0;k<V;k++){var A=N.Jr(D,n,M(D,a+i*k),b),Q=N.Jr(D,n,M(D,a+i*(V+k)),b);E[A]=Q}}else throw"unknown mask "+U;
return E};gs.parse.H8=function(D,n){var _=1<<(D[n]&15),b=0;for(var k=0;k<_;k++)b=b<<8|D[n+1+k];return{k:b,PJ:_+1}};
gs.parse.adG=function(D,n){var _={};n+=6;_.JT=D[n];n++;_.asN=D[n];n++;n+=4;_.eS=j.n(D,n);n+=4;n+=4;_.root=j.n(D,n);
n+=4;n+=4;_.a6r=j.n(D,n);n+=4;return _};gs.vs={aj9:function(D,n){return D[n]},UH:function(D,n){return D[n]<<8|D[n+1]},n:function(D,n){return D[n]<<24|D[n+1]<<16|D[n+2]<<8|D[n+3]},gw:function(D,n,_){var b="";
for(var k=0;k<_;k++)b+=String.fromCharCode(D[n+k]);return b}};var jT={parse:function(D){var n=new Uint8Array(D),_=jT.hl(n),b=[],w=new Uint8Array(n.length),i=[];
b.push(i);jT.Zs(n,_,1,w,i);for(var k=0;k<i.length;k++){var M=[];b.push(M);jT.Zs(n,_,i[k][3],w,M);i[k][3]=k+1}return b},Zs:function(D,n,_,b,w){_--;
var i=_*n.c_+(_==0?100:0),M=D[i],N=jT.UH(D,i+1);if(N!=0)throw"free block in a page";var a=jT.UH(D,i+3),o=jT.UH(D,i+5);
if(o==0)o=65536;var U=D[i+7],V=jT.UH(D,i+8);if(M==2||M==5)i+=4;else V=0;for(var c=0;c<a;c++){var E=_*n.c_+jT.UH(D,i+8+2*c),A=-1,Q=0,J=0,L=0;
if(M==2||M==5){A=jT.n(D,E);E+=4}if(M==2||M==10||M==13){Q=jT.Lh(D,E);E+=Q.PJ}if(M==5||M==13){J=jT.Lh(D,E);
E+=J.PJ}if(M==5){jT.Zs(D,n,A,b,w);continue}var P=n.c_-(_==0?100:0),u=Q.Ky,m=M==13?P-35:Math.floor((P-12)*64/255)-23,x=Math.floor((P-12)*32/255)-23,v=x+(u-x)%(P-4);
if(u<=m){jT.nb(D,E,b,0,u)}else{var W=v<=m?v:x,Z=0;jT.nb(D,E,b,0,W);Z+=W;L=jT.n(D,E+W);while(L!=0){var r=(L-1)*n.c_;
L=jT.n(D,r);var X=Math.min(n.c_-4,u-Z);jT.nb(D,r+4,b,Z,X);Z+=X}}w.push(jT.aio(b,u))}},aio:function(D,n){var _=0,b=jT.Lh(D,_);
_+=b.PJ;var w=[],i=[];while(_<b.Ky){var M=jT.Lh(D,_);_+=M.PJ;w.push(M.Ky)}if(_!=b.Ky)throw"e";for(var k=0;
k<w.length;k++){var M=w[k];if(!1){}else if(M==0)i.push(null);else if(M==1){i.push(jT.anc(D,_));_+=1}else if(M==2){i.push(jT.Ss(D,_));
_+=2}else if(M==3){i.push(jT.ahI(D,_));_+=3}else if(M==4){i.push(jT.H8(D,_));_+=4}else if(M==7){i.push(jT.akA(D,_));
_+=16}else if(M==8)i.push(0);else if(M==9)i.push(1);else if(M>=12&&(M&1)==0){var N=M-13>>1,a=new Uint8Array(N);
jT.nb(D,_,a,0,N);i.push(a);_+=N}else if(M>=13&&(M&1)==1){var N=M-12>>1;i.push(jT.KA(D,_,N));_+=N}else throw"unknonw type "+M}return i},hl:function(D){if(!(D[18]==1&&D[19]==1&&D[20]==0&&D[21]==64&&D[22]==32&&D[23]==32))throw"unexpected SQL3 header";
var n={Bh:jT.gw(D,0,15),c_:jT.UH(D,16),a2v:jT.n(D,24),size:jT.n(D,28),ad8:jT.n(D,32),aqy:jT.n(D,36),a06:jT.n(D,40),a62:jT.n(D,44),amD:jT.n(D,48),agh:jT.n(D,52),atv:jT.n(D,56),ai8:jT.n(D,60),afU:jT.n(D,64)!=0,agH:jT.n(D,68),apQ:jT.n(D,92),ahi:jT.n(D,96)};
if(n.c_==1)n.c_=65536;if(n.atv!=1)throw"unsupported text encoding "+n.atv;return n},aeC:function(D,n){return D[n]<<16|D[n+1]<<8|D[n+2]},ahI:function(D,n){var _=jT.aeC(D,n),b=_&8388608;
return b?-(16777215-_+1):_},anc:function(D,n){jT.qL[0]=D[n];return jT.a6d[0]},H8:function(D,n){var _=jT.qL;
for(var k=0;k<4;k++)_[k]=D[n+3-k];return jT.a36[0]},Ss:function(D,n){var _=jT.qL;_[0]=D[n+1];_[1]=D[n];
return jT.a7f[0]},UH:function(D,n){return D[n]<<8|D[n+1]},n:function(D,n){return D[n]<<24|D[n+1]<<16|D[n+2]<<8|D[n+3]},akA:function(D,n){var _=jT.qL;
for(var k=0;k<8;k++)_[k]=D[n+7-k];return jT.anh[0]},Lh:function(D,n){var _=n,cQ=0;while(!0){var b=D[n];
n++;cQ=cQ*128+(b&127);if(b<128)break}return{Ky:cQ,PJ:n-_}},gw:function(D,n,_){var b="";for(var k=0;k<_;
k++)b+=String.fromCharCode(D[n+k]);return b},KA:function(D,n,_){var b="";for(var k=0;k<_;k++)b+="%"+jT.atL(D[n+k].toString(16));
return decodeURIComponent(b)},nb:function(D,n,_,b,w){if(D[n+w-1]==null||_[b+w-1]==null){console.log(n,b,w);
throw"e"}for(var k=0;k<w;k++)_[b+k]=D[n+k]},atL:function(cQ){return cQ.length<2?"0"+cQ:cQ}};jT.qL=new Uint8Array(8);
jT.a6d=new Int8Array(jT.qL.buffer);jT.a7f=new Int16Array(jT.qL.buffer);jT.a36=new Int32Array(jT.qL.buffer);
jT.anh=new Float64Array(jT.qL.buffer);function ag(D,n,_){this.zF=D;this.hi=n;this.a11=_;this.pg=new gZ(0,0);
this.K7=-1;this.zO=0;this.IM=0;this.mc=new gl;this.Vr=[];this.pZ=null;this.aaY=null;this.ZI=null;this.sU=null;
this.UE=null;this.a0X=null}ag.prototype.StartPage=function(D,n,_,b,w){var i=this.hi,M=i.gM(),N=1,a=(_-D)*(b-n);
if(w!=null)a=w;while(a*M*M/(N*N)>2*8192*8192)N++;i.scale(1/N,1/N);this.aaY=[D,n,_,b];var N=i.gM();D=Math.round(D*N);
n=Math.round(n*N);_=Math.round(_*N);b=Math.round(b*N);var o=this.zF,U=this.ZI;if(U==null){i.oE=-D}else{var V=U[2]-U[0]+30,c=Math.round(_-D)+30;
if(this.pg.x+V+c>8192){i.oE=-D;this.pg.x=0;this.pg.y+=this.IM+120;this.IM=0}else{i.oE+=V;this.pg.x+=V}}i.LE=this.pg.y+(this.a11?b:-n);
this.IM=Math.max(this.IM,Math.round(b-n));this.ZI=[D,n,_,b];o.b.push(o.b8())};ag.prototype.JY=function(){var D=this.zF,n=D.b[D.b.length-1];
return n};ag.prototype.Zf=function(){var D=JSON.parse(JSON.stringify(ci.yg.default));D.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
D.strokeEnabled.v=!1;D.fillEnabled.v=!1;return D};ag.prototype.um=function(){var D=this.zF,n=D.ni();
n.rK("Path "+D.b.length);this.zF.b.push(n);n.VN|=16;n.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:0,z:0,S:0})}};
n.add.vmsk=new q.IQ;n.add.vstk=this.Zf();return n};ag.prototype.gP=function(D){var n={t:D.crds,C:D.cmds},_=B.H.yL(n,!1);
B.$.vZ(_,this.hi);return _};ag.aiA=function(D,n){for(var k=0;k<D.length;k++)if(D[k].gW!=null)D[k].gW=n};
ag.ams=function(D){return Math.sqrt(Math.abs(D[0]*D[3]-D[1]*D[2]))};ag.AE=function(D){return B.X.Ea({p:D[0]*255,z:D[1]*255,S:D[2]*255})};
ag.wd=function(D){return new e3(D[0],D[1],D[2],D[3],D[4],D[5])};ag.prototype.Stroke=function(D){if(this.K7!=-1&&this.K7!=this.zO)return;
if(D.pth.cmds.length<=1)return;var n=this.gP(D.pth);if(n.length<=2)return;this.op(D);ag.aiA(n,-1);n[2].gW=1;
var _=ag.AE(D.COLR),b=this.JY(),w=this.Zf();ag.Jy(w,D,this.hi.gM(),_);var i=b!=null&&b.add.vmsk!=null&&!b.nR(),M=i&&!b.add.vstk.strokeEnabled.v&&q.IQ.ae4(b.add.vmsk.Y,n,!0),N=i&&!b.add.vstk.fillEnabled.v&&JSON.stringify(w)==JSON.stringify(b.add.vstk);
if(N){b.add.vmsk.Y=b.add.vmsk.Y.concat(n.slice(2))}else if(M){b.add.vstk=w;w.fillEnabled.v=!0}else{b=this.um();
b.add.vmsk.Y=n;b.add.vstk=w}};ag.Jy=function(D,n,_,b){D.strokeEnabled.v=!0;D.strokeStyleMiterLimit.v=n.mlimit;
D.strokeStyleLineDashSet.v=aL.jx(n.dash,1/n.lwidth);D.strokeStyleLineDashOffset.v.val=n.doff;D.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ci.yg.join[n.ljoin];
D.strokeStyleLineCapType.v.strokeStyleLineCapType=ci.yg.Xr[n.lcap];D.strokeStyleLineWidth.v.val=Math.max(.4,n.lwidth*ag.ams(n.ctm)*_);
D.strokeStyleContent.v.Clr.v=b};ag.prototype.Fill=function(D,n){if(this.K7!=-1&&this.K7!=this.zO)return;
if(D.ca==0)return;var _=D.pth.cmds;if(_.length==0)return;if(_.length==2&&JSON.stringify(_)=="[\"M\",\"L\"]")return;
var b=B.H.t0(D.pth.crds),w=B.H.t0(D.cpth.crds);if(b.zE(w).hk())return;var i=D.pth,M=UDOC.G.isBox(i,[b.x,b.y,b.x+b.l,b.y+b.e]),N=D.cpth,a=UDOC.G.isBox(N,[w.x,w.y,w.x+w.l,w.y+w.e]);
if(M&&a&&b.u()>w.u()*2){var o=b.zE(w),U=o.x,V=o.y,c=U+o.l,E=V+o.e;i={cmds:["M","L","L","L","Z"],crds:[U,V,c,V,c,E,U,E]};
b=o}else if(this.sU==null&&UDOC.G.isBox(i,[b.x,b.y,b.x+b.l,b.y+b.e])&&b.Xh(w)){i=N;b=w}else this.op(D);
var A=this.gP(i),Q=B.H.X0(b);B.H.A(Q.t,this.hi,Q.t);b=B.H.t0(Q.t);var J=ag.t$(D.colr,this.hi,b),L=this.JY(),P=L!=null&&L.opacity==Math.round(255*D.ca)&&L.add.vstk!=null&&!L.add.vstk.strokeEnabled.v&&L.add.SoCo&&J.type=="SoFi"&&JSON.stringify(L.add.SoCo.Clr.v)==JSON.stringify(J.k.v.Clr.v);
if(P){var u=!1;for(var k=0;k<A.length;k++){if(A[k].gW==0||A[k].gW==2)u=!0}if(u){var m=B.H.t0(B.$.fN(L.add.vmsk.Y)),x=B.H.t0(B.$.fN(A));
P=m.zE(x).hk()}}if(P){var v=L.add.vmsk.Y;for(var k=2;k<A.length;k++)v.push(A[k])}else{L=this.um();delete L.add.SoCo;
L.add.vmsk.Y=q.IQ.n$(A);ag.r6(D.colr,L,this.hi,b);ag.gz(D,L)}};ag.r6=function(D,n,_,b){var w=ag.t$(D,_,b),i=null,M=null;
n.add.vstk.fillEnabled.v=!0;if(w.type=="SoFi"){i="SoCo";M=ci.BA}if(w.type=="GrFl"){i="GdFl";M=ci.LY}if(w.type=="patternFill"){i="PtFl";
M=ci.EF}if(i!=null){n.add[i]={classID:"null"};for(var k=0;k<M.length;k++){var N=M[k];n.add[i][N]=w.k.v[N]}}};
ag.prototype.op=function(D){var n=this.zF,_=D.cpth,b=_.cmds.join(""),w=_.crds,i=b+" "+w.join(","),M=UDOC.G.isBox(_,this.aaY);
if(M&&this.sU==null)return;if(i==this.sU)return;this.BC();if(!M){this.sU=i;n.b.push(n.b8());var N=n.ni();
N.rK("Mask");N.add.lsct=f4.Aj;N.QQ="pass";N.VN=24;var a=N.add.vmsk=new q.IQ;a.Y=this.gP(D.cpth);if(UDOC.G.isBox(_)){this.UE=B.$.DJ(a.Y);
this.UE.Iq(3,3)}else this.UE=null;this.a0X=N}};ag.prototype.BC=function(){var D=this.zF;if(this.sU!=null){var n=D.b.length-1,k=n,_=!1;
while(k>=0&&D.b[k].add.lsct!=f4.CV)k--;var b=this.UE;if(b){var w=new gl,i=n;while(i>k){w=D.b[i].HU(this.zF,!1,!0);
i--}_=b.Xh(w)}if(_){this.Vr.splice(k,1);D.b.splice(k,1)}else{D.b.push(this.a0X)}this.sU=null}};ag.t$=function(D,n,_){var b,w;
if(D.length!=null){b="SoFi";var i=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);w={t:"Objc",v:i};w.v.Clr.v=ag.AE(D)}else{var M=ag.a4b(D,n,_);
b="GrFl";w={t:"Objc",v:M}}return{type:b,k:w}};ag.a4b=function(D,n,_){var b=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),w=b.Grad.v;
w.Intr.v=0;var i=ag.wd(D.mat);i.concat(n);var M=new gZ(0,0),N=new gZ(_.l,0),a=D.crds;if(D.typ=="rad"){b.Type.v.GrdT="Rdl";
var o=.7;M.x=(1-o)*a[0]+o*a[3];M.y=(1-o)*a[1]+o*a[4];N.x=M.x;N.y=M.y;N.x+=Math.max(a[2],a[5])}else{b.Type.v.GrdT="Lnr";
M.x=a[0];M.y=a[1];N.x=a[2];N.y=a[3];M.x=N.x+.5*(M.x-N.x);M.y=N.y+.5*(M.y-N.y)}M=i.pm(M);N=i.pm(N);B.X.o6(M,N,_,b);
var U=D.grad;B.X.q2(U,w);return b};ag.prototype.PutText=function(D,n,_,b){var w=n.charCodeAt(0),c=null;
if(this.K7!=-1&&this.K7!=this.zO)return;if(n.length==0||n.length==1&&(w==0||w==8203))return;this.op(D);
var i=this.zF,M=D.font,N=ag.wd(D.ctm);N.concat(this.hi);var a=ag.wd(M.Tm);a.concat(N);var o=G.Q.gM(a),U=new e3(1/o,0,0,-1/o,0,0);
U.concat(a);var V=M.Tfs*o,E=i.b.length-1;while(E>=0&&i.b[E].add.TySh==null)E--;if(U.S*U.S+U.jo*U.jo<.001&&b==null&&E>=0&&i.b[E].add.TySh&&i.b[E].opacity==Math.round(255*D.ca)){var A=i.b[E],Q=this.Vr[E],J=A.add.TySh.A,L=(J.oE+Q.qY-U.oE)/V,P=Math.abs(L),u=n.indexOf(" ")==-1,m=J.vd==U.vd&&J.S==U.S&&J.jo==U.jo&&J.Ww==U.Ww,x=m&&Math.abs(Q.$y-U.LE)<1e-5&&P<.6,v=U.LE-Q.$y;
if(x){c=A;Q.qY=U.oE-J.oE;if(L>.2&&u&&[".",",","?",":","!"].indexOf(n)==-1)n=" "+n}else if(m&&Math.abs(U.oE-J.oE)<1e-5&&0<v&&v<V*1.7&&Q.a9B==V){c=A;
this.r2(Q);Q.$y=U.LE;n="\n"+n}}if(c==null){E=i.b.length;this.Vr[E]={OB:[],qY:0,$y:U.LE,Dt:"",a9B:V};
c=i.ni();i.b.push(c);c.add.lnsr="rend";c.add.TySh=jg.aH(0,0);c.add.TySh.A=U}var Q=this.Vr[E];Q.qY+=_*V;
Q.Dt+=n;var W=c.add.TySh.uP,Z=jg.kb(W);if(b){jg.EN(W,1);var r=[0,0,Math.ceil(b[0]*o),Math.ceil(b[1]*o)];
jg.vR(W,r)}var X=Z.length-1,$=X+n.length;jg.kW(W,X,n);if(this.pZ==null)this.pZ=jg.np(W,X,X);var I=this.pZ;
I.OT.FontSize=Math.round(V);I.OT.Tracking=Math.round(M.Tc*100);I.OT.Underline=M.Tun==1;I.OT.FillColor={Type:1,Values:[1,D.colr[0],D.colr[1],D.colr[2]]};
if(M.Tal!=null)I.ew.Justification=M.Tal;if(Q.OB.length!=0){I.OT.AutoLeading=!1;I.OT.Leading=Q.$y-Q.OB[Q.OB.length-1].y}var T=M.Tf;
T=T.replace(/#2B/g,"+");T=T.replace(/#2C/g,"-");T=T.split("+").pop();var e={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(e[T])T=e[T];jg.jd(I,T);jg.Ka(W,X,$-1,I);c.ZY();c.opacity=Math.round(255*D.ca)};ag.prototype.r2=function(D){D.OB.push({Wj:D.qY,hH:D.Dt.slice(D.OB.length==0?0:1)+"\n",y:D.$y,cg:D.a9B});
D.qY=0;D.Dt=""};ag.prototype.N9=function(D,n,_){return new Uint8Array(eF.rW("PNG").VX([[D.buffer,0]],n,_))};
ag.prototype.PutImage=function(D,n,_,b,w,i,M){if(this.K7!=-1&&this.K7!=this.zO)return;var N=this.zF,a=D.font.Tmode;
if(a==7&&N.b[N.b.length-1].add.TySh){return}this.op(D);var o=ag.wd(D.ctm);o.concat(this.hi);var U=new e3(1/_,0,0,-1/b,0,1);
U.concat(o);o=U;n=ag._W(n,_,b,i,!1);if(w)w=ag._W(w,_,b,M,!0);if(w==null){if(n.length==_*b*4)n=this.N9(n,_,b)}else{n=this.jH(n,_,b,i,!1);
w=this.jH(w,_,b,M,!0);var V=B.U(_*b);B.Ef(w,V,0);B.tD(V,n,3);n=this.N9(n,_,b)}var c=N.$n(n,"Bitmap",0,0),E=c.rect.clone();
E.x=E.y=0;var A=B.H.X0(E).t;B.H.A(A,o,A);c.add.SoLd.Trnf=G.Q.sy(A);c.add.SoLd.nonAffineTransform=G.Q.sy(A);
c.RZ(N,!1);ag.gz(D,c);N.b.push(c)};ag.gz=function(D,n){n.opacity=Math.round(255*D.ca);var _=ag.sF[D.bmode];
if(_==null)console.log("Unknown blend mode",_);else n.QQ=_};ag.sF={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ag.dy=function(D){for(var n in ag.sF)if(ag.sF[n]==D)return n};ag._W=function(D,n,_,b,w){var i=eF.pV(D.buffer);
if(i=="jpg"){try{D=new Uint8Array(eF.rW("JPG").a2E(D.buffer))}catch(io){D=new Uint8Array(n*_*4)}}else if(i=="jb2"){D=new Uint8Array(eF.rW("JPG").Ck(D.buffer,b,w)[0].data)}else if(D.length!=n*_*4){var M=new Uint8Array(n*_*4),N=Math.ceil(n/8),a=new Uint8Array(_*N);
UTIF.decode._decodeG4(D,0,D.length,a,0,n,1);var o=a[0]==(w?255:0);for(var U=0;U<_;U++){var V=N*U;for(var c=0;
c<n;c++){var k=U*n+c,E=k*4,A=(a[V+(c>>3)]>>7-(c&7)&1)*255;if(o)A=255-A;M[E]=A;M[E+1]=A;M[E+2]=A;M[E+3]=255}}D=M}return D};
ag.prototype.jH=function(D,n,_,b,w){if(D.length!=n*_*4){var i=eF.pV(D.buffer);if(i=="jb2")throw"e";var M=eF.rW(i);
if(M==null||i=="tga")M=eF.rW("jpg");D=new Uint8Array(M.Ck(D,b,w)[0].data)}return D};ag.prototype.ShowPage=function(){var D=this.zF;
this.zO++;var n=this.ZI;this.BC();var _=D.ni();D.b.push(_);var b=new gl(Math.round(this.pg.x),Math.round(this.pg.y),Math.round(n[2]-n[0]),Math.round(n[3]-n[1]));
if(b.hk())b.l=b.e=2e3;this.mc=this.mc.Ik(b);_.Cx(b);_.add.artb.artboardBackgroundType.v=3;_.rK("Page "+this.zO);
_.add.lsct=f4.Aj;_.QQ="pass";_.VN=24};ag.prototype.Print=function(D){console.log("Print:",D)};ag.prototype.Done=function(){var D=this.zF;
if(this.zO==1)D.b[D.b.length-1].add.lsct=f4.AU;D.tt(this.zO);for(var k=0;k<D.b.length;k++){var n=D.b[k],_=n.add.vmsk,b=n.add.TySh,w=this.Vr[k];
n.GL();if(_){var i=!1;for(var M=0;M<_.Y.length;M++){var N=_.Y[M];if((N.type==0||N.type==3)&&N.length>32767)i=!0}if(i){D.b.splice(k,1);
k--;continue}}n.p8(D);if(b&&w.OB.length!=0){this.r2(w);var a=b.uP,o=w.OB.length,U=w.OB[0],V=0,c=0;for(var M=0;
M<o;M++)V=Math.max(V,w.OB[M].Wj);jg.EN(a,1);b.A.LE-=U.cg*.7;jg.vR(a,[0,0,Math.ceil(V*1.1),Math.ceil(w.OB[o-1].y-U.y+U.cg*2)])}if(b){var a=b.uP;
jg.aiU(a);var E=jg.kb(a).split("\n");for(var M=0;M<E.length-1;M++){var A=E[M],Q=0;for(var L=0;L<A.length;
L++){var P=A.charCodeAt(L);if(1473<=P&&P<=1524)Q++}if(Q>A.length/2){E[M]=A.split("").reverse().join("");
var u=a.EngineDict.ParagraphRun.RunArray[M].ParagraphSheet.Properties;u._Direction=1;u.Justification=jg.BB(u)}}jg.Nc(a,E.join("\n"))}}D.C8=!0;
D.l=this.mc.l;D.e=this.mc.e;D.buffer=B.U(this.mc.u()*4)};var gQ={};gQ.Jz=function(D,n,_,b,w,i){if(w==null)w=D.l;
if(i==null)i=D.e;var M=!1,N=[D.root],a=D.root.children;if(D.add.artd){M=!0;for(var k=0;k<a.length;k++)if(a[k].i.add.artb==null)M=!1;
if(M)N=a}var o=new gl(0,0,D.l,D.e),U=n[0];U=U.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
U=U.split(" ");var V=[];for(var k=0;k<U.length;k++){var c=U[k];if(c=="-"){var E=V.pop(),A=parseInt(U[k+1]);
while(E<A){V.push(E);E++}}else V.push(parseInt(c))}U=V;for(var k=0;k<U.length;k++)if(isNaN(U[k])||U[k]<1||U[k]>N.length){U.splice(k,1);
k--}var Q=w/D.l,J=i/D.e,L=Q*72/D.Cn,P=J*72/D.Cn,u=n[5];if(u==null)u=0;var m=72*u,x=72*u;for(var k=0;
k<N.length;k++){if(U.length!=0&&U.indexOf(k+1)==-1)continue;var v=N[k],W=M?v.i.w3():o,Z=Math.round(W.l*L+2*m),r=Math.round(W.e*P+2*x);
_.StartPage(0,0,Z,r);var X=UDOC.getState([[0,0,Z,r]]),$=new e3;$.translate(-W.x,-W.y-W.e);$.scale(L,-P);
$.translate(m,x);if(M){var I=v.i.add.artb,T=I.artboardBackgroundType.v;if(T!=1&&T!=3){var e=v.i.W9(),F=W.x+W.l,y=W.y+W.e;
X.colr=[(e>>>0&255)/255,(e>>>8&255)/255,(e>>>16&255)/255];X.pth={cmds:["M","L","L","L","Z"],crds:[W.x,W.y,F,W.y,F,y,W.x,y]};
_.Fill(X)}}if(n[2]){var h=D.iS();if(!o.l8(W)){h=B.U(W.u()*4);B.E3(D.iS(),o,h,W)}if(n[1]!=100){var Y=eF.rW("JPG").VX([[h.buffer]],W.l,W.e,[n[1]]);
h=new Uint8Array(Y)}var K=new e3;K.translate(W.x,W.y);gQ.Nw(X,_,h,W,K,$)}else gQ.ks(D,v,X,_,$,n,b);_.ShowPage()}_.Done()};
gQ.sm=function(D){D=B.X.kj(D);return[D.p/255,D.z/255,D.S/255]};gQ.ks=function(D,n,_,b,w,i,M){var N=n.i,a=N.add.lsct,o=N.add.lmfx,U=N.add.vmsk,V=N.add.vstk,c=N.add.TySh,J,L;
if(!N.h$())return;var E=N.opacity/255,A=N.add.iOpa!=null?N.add.iOpa/255:1;_.bmode=ag.dy(N.QQ);_.ca=_.CA=E*A;
var Q=o;if(Q)Q=Q.solidFillMulti.v[0];if(Q)Q=Q.v;if(Q&&!Q.enab.v)Q=null;var P=N.rect;if(N.Av()&&(!N.nR()||N.kz&&N.kz.xr)){if(N.nR){J=N.kz.xr;
P=N.kz.a4s}else{J=B.U(N.rect.u());B.Ef(N.buffer,J,3)}L=aL._3(o,null,J,P,D,P).type;var u=["DrSh","OrGl"];
if(A!=1||V&&!V.fillEnabled.v){var m=J.slice(0);B.ei(m);for(var k=0;k<u.length;k++){var x=L[u[k]];for(var v=0;
v<x.length;v++){var W=x[v],Z=W.qW.clone();Z.x+=P.x;Z.y+=P.y;B._B(m,P,W.B_,Z)}}}}if(L)gQ.fJ(N,J,P,L,_,b,w,i,!0);
if(N.nR()){for(var k=0;k<n.children.length;k++)gQ.ks(D,n.children[k],_,b,w,i,M)}else if(U&&N.x6()){var r=U.Y,X=B.$.DJ(r),$=!1,I=!1,T=!1;
if(V.fillEnabled.v){var e=aL.Ld(o,N.add),F=e[0],y=e[1];_.colr=gQ.N2(F?F:y,w,X);$=!0}var h=aL.g$(o);if(!V.strokeEnabled.v&&h)V=h;
if(V.strokeEnabled.v){var Y=V.strokeStyleContent.v,K=V.strokeStyleLineDashSet.v,z=ci.yg.l9.indexOf(V.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
_.COLR=gQ.N2(Y,w,X);_.lwidth=V.strokeStyleLineWidth.v.val*(z==2?2:1)*w.gM();_.mlimit=V.strokeStyleMiterLimit.v;
_.doff=V.strokeStyleLineDashOffset.v.val;_.ljoin=ci.yg.join.indexOf(V.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
_.lcap=ci.yg.Xr.indexOf(V.strokeStyleLineCapType.v.strokeStyleLineCapType);_.dash=[];for(var k=0;k<K.length;
k++)_.dash.push(K[k].v.val*_.lwidth);if(_.dash.length==1&&_.dash[0]==0)_.dash=[];I=!0;if(z==2)T=!0}var f=B.H.NR(r,I).Y0;
B.H.A(f.t,w,f.t);_.pth={cmds:f.C,crds:f.t};if($&&!T)b.Fill(_);if(I)b.Stroke(_);if($&&T)b.Fill(_)}else if(c&&i[4]){var s=c.uP,l=new h8(s,M),f=iy.n6(l,c),g=B.H.yU(f);
for(var H in g){var O=parseInt(H.slice(1),16);_.colr=Q?gQ.sm(Q.Clr.v):[(O>>>16&255)/255,(O>>>8&255)/255,(O&255)/255];
var C=g[H];B.H.A(C.t,w,C.t);C=B.H.ago(C);_.pth={cmds:C.C,crds:C.t};b.Fill(_)}}else if(c&&i[3]==!1){var s=JSON.parse(JSON.stringify(c.uP));
jg.aiU(s);var ib=c.A.clone(),hH=new e3(1,0,0,-1,0,0);hH.concat(ib);hH.concat(w);var R=jg.kb(s),l=new h8(s,M);
for(var k=0;k<l.ew.length;k++){var fR=l.ew[k];if(fR.Sj.length==1&&fR.Sj[0].ph)continue;for(var v=0;v<fR.ZK.length;
v++){var j4=fR.ZK[v],cP=fR.jY.y+j4.jY.y,a8=fR.Sj[j4.start].start,d0=fR.Sj[j4.end-1].end,b9=jg.aj$(s,a8,d0);
for(var jG=0;jG<b9.length;jG++){var jP=l.cT(a8),aq=b9[jG],gM=jg.np(s,a8,a8),gv=gM.SY[gM.OT.Font].Name;
_.font.Tf=gv;var H=jg.kj(gM.OT.FillColor);_.colr=Q?gQ.sm(Q.Clr.v):[H.p/255,H.z/255,H.S/255];var dT=_.font.Tfs=Math.round(gM.OT.FontSize),aC=R.slice(a8,a8+aq);
if(gM.OT.FontCaps==2)aC=aC.toUpperCase();var c1=new e3;c1.translate(jP.Kj.x,-cP);c1.concat(hH);_.ctm=[c1.vd,c1.S,c1.jo,c1.Ww,c1.oE,c1.LE];
b.PutText(_,aC,0);for(var aj=0;aj<2;aj++){var bD=gM.OT[aj==0?"Strikethrough":"Underline"];if(!bD)continue;
var cy=l.cT(a8+aq-1),co=aj==0?.27:-.2,hV=dT*co,il=dT*(co+.07),h6=cy.Kj.x+cy.Kj.l-jP.Kj.x,c8=[0,hV,h6,hV,h6,il,0,il];
B.H.A(c8,c1,c8);_.pth={cmds:["M","L","L","L","Z"],crds:c8};b.Fill(_)}_.ctm=[1,0,0,1,0,0];a8+=aq}}}}else if(!N.rect.hk()){var fx,bU,b6=!1,iF=new e3;
if(N.add.SoLd){var dY=N.add.SoLd,bl=dY.Idnt.v,dc=D.xF(bl,dY.Crop?dY.Crop.v:null),b1="";if(dc==null)return;
var hN=dc.Gj,ga=eF.pV(dc.raw.buffer);if(i[6].indexOf(ga)!=-1){fx=dc.raw;b6=!0}else fx=hN[0];bU=hN[1];
iF=B.N.Go(dY)}else{fx=N.buffer;bU=N.rect;iF.translate(bU.x,bU.y)}if(Q&&!b6)fx=aL.aua(fx,Q,bU);gQ.Nw(_,b,fx,bU,iF,w);
if(Q&&b6){var c8=[0,0,bU.l,0,bU.l,bU.e,0,bU.e];B.H.A(c8,iF,c8);B.H.A(c8,w,c8);var fc=JSON.parse(JSON.stringify(_));
fc.ca=Q.Opct.v.val/100;fc.pth={cmds:["M","L","L","L","Z"],crds:c8};fc.colr=gQ.sm(Q.Clr.v);b.Fill(fc)}}if(L)gQ.fJ(N,J,P,L,_,b,w,i,!1)};
gQ.N2=function(D,n,_){if(D.Clr)return gQ.sm(D.Clr.v);var b=D,w=b.Rvrs?b.Rvrs.v:!1,i=[],M,N=b.Type.v.GrdT=="Rdl"?"rad":"lin",a=B.X.bm(b,_),o=n.pm(a[0]),U=n.pm(a[1]);
if(N=="rad")M=[o.x,o.y,0,o.x,o.y,gZ._e(o,U)];else{o.bq(U.x+(o.x-U.x)*2,U.y+(o.y-U.y)*2);M=[o.x,o.y,U.x,U.y]}var V=b.Grad.v.Clrs.v;
for(var k=0;k<V.length;k++){var c=V[k].v,E=c.Lctn.v/4096;i.push([w?1-E:E,gQ.sm(c.Clr.v)])}if(w)i.reverse();
return{typ:N,mat:[1,0,0,1,0,0],grad:i,crds:M}};gQ.fJ=function(D,n,_,b,w,i,M,N,a){var o=_.clone(),U=n;
if(D.add.TySh&&!N[3]&&!N[4])return;var V=w.ca,c=w.bmode;for(var k=ci.order.length-1;k>=0;k--){var E=ci.order[k];
if(E=="GrFl"||E=="SoFi")continue;if(D.add.vmsk&&E=="FrFX")continue;var A=b[E],Q=k>7||E=="FrFX";if(Q!=a)continue;
for(var J=0;J<A.length;J++){var L=A[J];console.log(Q,E,L);if(L.qW==null)L=L.kP?L.kP:L.d1;var P=L.qW.clone();
P.offset(o.x,o.y);if(!Q){if(!o.Xh(P)){var u=o.Ik(P),m=B.U(u.u());B.I4(U,o,m,u);U=m;o=u}B._B(U,o,L.B_,P)}if(Q&&E=="FrFX"&&L.oU)B._B(L.oU,P,L.B_,P);
var x=new e3;x.translate(P.x,P.y);w.ca=L.Rn;w.bmode=ag.dy(L.BS);gQ.Nw(w,i,L.B_,P,x,M)}}w.ca=V;w.bmode=c};
gQ.Nw=function(D,n,_,b,w,i){var M=new e3;M.scale(b.l,-b.e);M.translate(0,b.e);M.concat(w);M.concat(i);
D.ctm=[M.vd,M.S,M.jo,M.Ww,M.oE,M.LE];n.PutImage(D,_,b.l,b.e);D.ctm=[1,0,0,1,0,0]};var im={};im.Z6=function(D){var n=new Uint8Array(D);
return im.k$(n,0)};im.k$=function(D,n){var _=j.n,b=j.gw,w={Vn:b(D,n,4),r:n+8,size:_(D,n+4)},i=w.Vn=="FORM"||w.Vn=="LIST"||w.Vn=="CAT ";
if(i)w.bR=b(D,n+8,4);if(w.size<0||w.r+w.size>D.length)throw"e";if(i){w.sub=[];n+=12;var M=w.r+w.size;
while(n<M){var N=im.k$(D,n);w.sub.push(N);n+=8+N.size+(N.size&1)}}return w};var ay={};ay.Z6=function(D,n){var _=new Uint8Array(D);
return ay.k$(_,0,n)};ay.k$=function(D,n,_){var b=j.c7,w=j.gw,i={Vn:w(D,n,4),r:n+8,size:b(D,n+4)};if(_&&_[i.size]!=null)i.size=_[i.size];
if(i.Vn=="RIFF"||i.Vn=="LIST"){i.bR=w(D,n+8,4)}if(i.size<0||i.r+i.size>D.length)throw"e";if(i.Vn=="RIFF"||i.Vn=="LIST"&&(i.bR!="cmpr"&&i.bR!="stlt")){i.sub=[];
n+=12;var M=i.r+i.size;while(n<M){var N=ay.k$(D,n,_);i.sub.push(N);n+=8+N.size+(N.size&1)}}return i};
function f2(){}f2.Z6=function(D,n){var _=new Uint8Array(D);n.C8=!0;var b=j.gw(_,0,2);if(b=="WL"){alert("Unsupported CDR version")}else{var w=f2.wU,i=ay.Z6(_.buffer),M={data:_,r:0,Gr:f2.ar7(_[11])},N,a,A=300;
M.ow=M.Gr<600?16:32;f2.xx(M,i.sub,n,0);if(w(i,"cmpr")==null){N=w(i,"page");a=N}else{var o=w(i,"cmpr").sub;
N=o[0];a=o.slice(1)[1];var U=w(N,"filt").sub,V=w(N,"otlt").sub;N.LT={};for(var k=0;k<U.length;k++)N.LT[U[k].sub[0].k.id]=U[k].sub[0].k;
N.x1={};for(var k=0;k<V.length;k++)N.x1[V[k].k.id]=V[k].k}var c=w(N,"mcfg").k,E=c.ac$;A/=is.JW(new gl(0,0,Math.round(E.x*A),Math.round(E.y*A)),8192*8192);
var Q=Math.round(E.x*A),J=Math.round(E.y*A);n.l=Q;n.e=J;n.buffer=B.U(n.l*n.e*4);var L=new e3(A,0,0,-A,E.x*A/2,E.y*A/2);
f2.pt(a,N,n,L);n.tt(1);n.b[n.b.length-1].Cx(new gl(0,0,Q,J))}};f2.wU=function(D,n){var _=null;for(var k=0;
k<D.sub.length;k++){var b=D.sub[k];if(b.Vn==n||b.bR==n)_=b}return _};f2.pt=function(D,n,_,b){var w=f2.wU,i=D.bR?D.bR:D.Vn,M=w(D,"lgob"),N=w(D,"txsm"),a,o;
if(M){a=w(M,"trfl");o=w(M,"loda")}else if(w(D,"lobj"))o=w(D,"lobj");var U=a?a.sub[0].Ox.clone():new e3;
U.concat(b);var V=_.ni();if(i=="page"||i=="layr"||i=="grp "){V.rK((i=="page"?"Page":"Group")+" "+_.b.length);
V.add.lsct=f4.AU;V.QQ="pass";V.VN=24;var c=[];if(i=="page")c=w(D,"gobj").sub;if(i=="layr")c=D.sub.slice(2);
if(i=="grp ")c=D.sub.slice(4);if(c.length==0)return;_.b.push(_.b8());for(var k=c.length-1;k>=0;k--)f2.pt(c[k],n,_,b)}else if(i=="obj "&&o.k&&o.k.path){V.rK("Object "+_.b.length);
var E,A;if(n.LT){E=n.LT[o.k.a8g];A=n.x1[o.k.asf]}var Q=V.getName(),J=E&&E.type!=0,L=J&&E.k!=null?E.k:[0,0,0];
V.VN|=16;V.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));var P=V.add.vstk;P.strokeEnabled.v=!1;
V.add.vmsk=new q.IQ;if(A&&A.abh!=1){P.strokeEnabled.v=!0;P.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
P.strokeStyleLineWidth.v.val=A.lineWidth*b.gM();var u=A.color;P.strokeStyleContent.v.Clr.v=B.X.Ea({p:u[0]*255,z:u[1]*255,S:u[2]*255})}var m=o.k.path;
V.add.vmsk.Y=B.H.yL(m,!1);B.$.vZ(V.add.vmsk.Y,U);ag.r6(L,V,U,B.$.DJ(V.add.vmsk.Y));P.fillEnabled.v=J;
V.GL();V.p8(_)}else if(i=="obj "&&N){var x=o.k.amP,v=o.k.a51,r="";V.add.TySh=jg.aH(0,0);var W=U.gM();
V.add.TySh.A.translate(U.oE,U.LE);var Z=V.add.TySh.uP,X=N.k.acb;for(var k=0;k<X.length;k++){var $=X[k],I=r.length;
r+=$.text+"\n";jg.kW(Z,I,$.text+"\n");var T=f2.adT($.aba,n),e=jg.np(Z,I,r.length);if(T.align==3)e.ew.Justification=1;
else e.ew.Justification=0;var F=T.fill.k;e.OT.FillColor={Type:1,Values:[1,F[0],F[1],F[2]]};e.OT.FontSize=Math.round(T.acG.fontSize*U.gM());
jg.Ka(Z,I,r.length-1,e)}if(v){jg.EN(Z,0)}else{jg.EN(Z,1);jg.vR(Z,[0,0,Math.round(x.x*U.vd),Math.round(-x.y*U.Ww)])}V.rK(r.slice(0,10))}else{V=null}if(V)_.b.push(V)};
f2.adT=function(D,n){var _=f2.wU(n,"stlt").k,b=JSON.parse(JSON.stringify(_.Qj[D]));if(b.mU!=0){var w=_.Qj[b.mU];
for(var i in w)if(b[i]==null||b[i]==0)b[i]=w[i];delete b.mU}b.align=_.agg[b.amY];b.fill=n.LT[_.as6[b.aeS]];
b.a0K=n.x1[_.adv[b.a7r]];b.acG=_.a4y[b.atB];return b};f2.a1Q=function(k){var cQ=k.data[k.r];k.r+=1;return cQ};
f2.mS=function(k){var cQ=j.P$(k.data,k.r);k.r+=2;return cQ};f2.Kk=function(k){var cQ=j.c7(k.data,k.r);
k.r+=4;return cQ};f2.adk=function(k){var cQ=j.c7(k.data,k.r);k.r+=8;return cQ};f2.Xb=function(k){var cQ=j.D4(k.data,k.r);
k.r+=2;return cQ};f2.ZW=function(k){var cQ=j.ci(k.data,k.r);k.r+=4;return cQ};f2.Sm=function(k){var cQ=j.cJ(k.data,k.r);
k.r+=8;return cQ};f2.V3=function(k){if(k.r>=k.data.length)throw"e";var D=0;while(k.data[k.r+D]!=0)D++;
var n=j.gw(k.data,k.r,D);k.r+=D+1;return n};f2.aef=function(D){if(D.Gr<600)return Math.PI*f2.Xb(D)/1800;
return Math.PI*f2.ZW(D)/18e7};f2.agP=function(D){if(D.Gr<1500)return f2.Ur(D);else return f2.Sm(D)/254e3};
f2.Ur=function(D){if(D.Gr<600)return f2.Xb(D)/1e3;else return f2.ZW(D)/254e3};f2.ab7=function(D){if(D.Gr<600)return f2.mS(D);
else return f2.Kk(D)};f2.aka=function(D){if(D.Gr<600)return CRDParser.Xb(D);else return f2.ZW(D)};f2.xx=function(D,n,_,b){var w=f2,i=w.a1Q,M=w.mS,N=w.Kk,a=w.adk,o=w.Xb,U=w.ZW,V=w.Sm,c=w.Ur,E=w.agP,A=w.aef,Q=w.ab7,J=w.aka;
for(var L=0;L<n.length;L++){var P=D.Gr,u=n[L];D.r=u.r+(u.Vn=="LIST"?4:0);if(u.Vn=="vrsn"){var m=M(D);
D.Gr=m;console.log("Version",m);D.ow=m<600?16:32}else if(u.Vn=="DISP"){}else if(u.Vn=="LIST"&&u.bR=="cmpr"){var x=N(D),v=N(D),W=N(D),Z=N(D),r=new Uint8Array(D.data.buffer,D.r+8+2,x-6-8),X=pako.inflateRaw(r),e=0;
D.r+=x;r=new Uint8Array(D.data.buffer,D.r+8+2);var $=pako.inflateRaw(r),I=[];for(var T=0;T<$.length;
T+=4)I.push(j.c7($,T));u.sub=[];while(e<X.length){var F=ay.k$(X,e,I);e=F.r+F.size;u.sub.push(F)}var y={data:X,r:0,Gr:P,ow:D.ow};
f2.xx(y,u.sub,_,b+1)}else if(u.Vn=="LIST"&&u.bR=="stlt"){var h=D.r,j4=32;u.k={};var Y=N(D);if(Y==0)return;
u.k.as6=f2.sB(D,P>=1300);u.k.adv=f2.sB(D);u.k.a4y={};var K=N(D);for(var k=0;k<K;k++){var z=N(D);D.r+=P<1e3?12:20;
var f=M(D),s=M(D);D.r+=8;var l=c(D);D.r+=P<1e3?12:20;u.k.a4y[z]={au3:f,aiF:s,fontSize:l}}u.k.agg=f2.sB(D);
var g=N(D);D.r+=52*g;var H=N(D);D.r+=152*H;var O=N(D);D.r+=784*O;var C=N(D);for(var k=0;k<C;k++){D.r+=40;
if(P>1300)D.r+=4;if(P>=1300){if(N(D))D.r+=68;else D.r+=12}else{D.r+=20;if(P>=1e3)D.r+=8;if(N(D))D.r+=8;
D.r+=8}}var ib=N(D);u.k.abK={};for(var k=0;k<ib;k++){var hH=N(D),R={};D.r+=12;R.right=c(D);R.aiZ=c(D);
R.left=c(D);u.k.abK[hH]=R}var fR=N(D);if(P>=1300)j4+=4;D.r+=j4*fR;var cP=N(D);D.r+=28*cP;if(P>800){var a8=N(D);
D.r+=12*a8}u.k.Qj={};for(var k=0;k<Y;k++){var d0=N(D),b9=N(D),jG={};jG.mU=N(D);D.r+=8;var jP=N(D);if(P>=1200)jP*=2;
D.r+=jP;jG.aeS=N(D);jG.a7r=N(D);if(d0>1){jG.atB=N(D);jG.amY=N(D);jG.a8h=N(D);jG.aeE=N(D);if(P>800)jG.aki=N(D)}if(d0>2){jG.a7k=N(D);
jG.aig=N(D);jG.afh=N(D);jG.ahe=N(D);jG.a9J=N(D)}u.k.Qj[b9]=jG}}else if(u.Vn=="LIST")f2.xx(D,u.sub,_,b+1);
else if(u.Vn=="txsm"){u.k={};if(P<600)throw"e";if(P<700)throw"e";if(P>=1600)throw"e";if(P>=1500)D.r+=37;
else D.r+=36;if(N(D)){if(P<800)D.r+=32}if(P<800)D.r+=4;u.k.atU=N(D);u.k.acb=[];D.r+=48;if(P>=800){if(N(D)){D.r+=32;
if(P>=1300)D.r+=8}}if(P>=1500)D.r+=12;var d0=N(D),aq=1,gM=!1;if(!d0){if(P>=800)D.r+=4;if(P>800)D.r+=2;
if(P>=1400)D.r+=2;D.r+=24;if(P<800)D.r+=8;aq=N(D)}for(var T=0;T<aq;T++){var gv=N(D),k=0;if(P>=1300&&d0)D.r++;
D.r++;var Y=N(D),dT=[];for(k=0;k<Y;k++){var aC=i(D),aj=0;i(D);var c1=i(D);if(P>=800)aj=i(D);var jG={};
if(c1&1){jG.au3=M(D);var bD=M(D);if(bD)jG.akM=bD}if(c1&2)D.r+=4;if(c1&4)jG.acB=c(D);if(c1&8)D.r+=4;if(c1&16)D.r+=4;
if(c1&32)D.r+=4;if(c1&64){jG.aeS=N(D);if(P>=1500)D.r+=48}if(c1&128){jG.a7r=N(D)}if(aj&8){if(P>=1300){var cy=N(D);
if(D.r+cy*2>=D.data.length){gM=!0;break}D.r+=cy*2}else D.r+=4}if(aj&32){var co=i(D);if(co)D.r+=52}if(aC==2)if(P>=1300)D.r+=48;
dT.push(jG)}if(gM){break}var hV=N(D);if(D.r+hV*4>D.data.length)break;var il=[];for(k=0;k<hV;k++){var h6=0;
if(P>=1200)h6=a(D)&4294967295;else h6=N(D);il[k]=h6>>16|h6&1}var c8=hV;if(P>=1200)c8=N(D);var fx=f2.V3(D);
u.k.acb.push({aba:gv,text:fx,Qj:dT})}}else if(u.Vn=="font"){var bU=M(D),b6=M(D);D.r+=14;var iF=f2.V3(D);
u.k={id:bU,am7:b6,name:iF}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(u.Vn)!=-1){}else if(u.Vn=="flgs")u.k=N(D);
else if(u.Vn=="bbox"){var dY=c(D),bl=c(D),dc=c(D),hN=c(D);u.k=new gl(dY,bl,dc-dY,hN-bl)}else if(u.Vn=="fild"){var ga=N(D),b1=0,h9;
if(P>=1300){D.r+=4;b1=M(D);D.r+=2}var fc=M(D);if(fc==0){}else if(fc==1){D.r+=P>=1300?13:2;h9=f2.RC(D)}else if(fc==2){D.r+=P>=1300?8:2;
var cB=i(D),bp=0;if(P>=1300){D.r+=17;bp=o(D)}else if(P>=600){D.r+=19;bp=U(D)}else{D.r+=11;bp=o(D)}var eK=A(D),fm=.5+J(D),fG=.5+J(D)-.5;
if(P>=600)D.r+=2;var ia=Q(D)&255,iz=i(D)/100;D.r++;var gG=Q(D)&65535;if(P>=1300)D.r+=3;var eA=[];for(var k=0;
k<gG;k++){var d3=f2.RC(D);if(P>=1300){if(b1==158||P>=1600&&b1==150)D.r+=26;else D.r+=5}var cY=Q(D)/100;
if(P>=1300)D.r+=3;eA.push([cY,d3])}h9={typ:cB==1?"lin":"rad",crds:[fm-Math.cos(eK)/2,fG-Math.sin(eK)/2,fm,fG],grad:eA,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",fc);
u.k={id:ga,type:fc,k:h9}}else if(u.Vn=="outl"){var ch=N(D);if(P>=1300){var fS=0,fy=0;while(fS!=1){D.r+=fy;
fS=N(D);fy=N(D)}}var ar=M(D),aM=M(D),aU=M(D);if(P<1300&&P>=600)D.r+=2;var f0=c(D),eV=M(D)/100;if(P>=600)D.r+=2;
var ex=A(D);if(P>=1300)D.r+=46;else if(P>=600)D.r+=52;var h9=f2.RC(D,ch==270963208||ch==276198e3,ch);
u.k={id:ch,abh:ar,akH:aM,amQ:aU,lineWidth:f0,color:h9}}else if(u.Vn=="mcfg"){if(1300<=P)D.r+=12;else if(900<=P)D.r+=4;
else if(600<=P&&P<700)D.r+=28;var gx=0,c_=0;if(P<400){D.r+=2;var dY=c(D),bl=c(D),dc=c(D),hN=c(D);gx=Math.abs(dc-dY);
c_=Math.abs(hN-bl)}else{gx=c(D);c_=c(D)}u.k={ac$:new gZ(gx,c_)}}else if(u.Vn=="loda"||u.Vn=="lobj"){var h=D.r,iS=Q(D),cr=Q(D),h5=Q(D),fW=Q(D),cs=Q(D),eS=[],a$=[];
D.r=h+h5;for(var k=0;k<cr;k++)eS[k]=Q(D);D.r=h+fW;for(var k=cr-1;k>=0;k--)a$[k]=Q(D);u.k={};for(var k=0;
k<cr;k++){D.r=h+eS[k];var a6=a$[k];if(a6==10)u.k.asf=N(D);else if(a6==20)u.k.a8g=N(D);else if(a6==200)u.k.a7i=Q(D);
else if(a6==30){if(P<400)cs--;if(cs==1){var dY=E(D),bl=E(D),gw=0,bO=0,ak=0,br=0;if(P<1500){br=E(D);ak=P<900?br:E(D);
bO=P<900?br:E(D);gw=P<900?br:E(D)}else throw"e";u.k.path=B.H.a8(B.$.yA.Rect(0,0,dY,bl,gw))}else if(cs==2){var iZ=c(D),cU=c(D),b3=A(D),au=A(D),ef=Math.abs(iZ),jj=Math.abs(cU);
u.k.path=B.H.a8(B.$.yA.h6(0,0,ef,-jj))}else if(cs==3){u.k.path=f2.alO(D)}else if(cs==4){u.k.a51=f2.anX(D)}else if(cs==6){u.k.amP=f2.a5v(D)}else if(cs==37){u.k.path=f2.St(D)}else console.log(cs)}}}else if(u.Vn=="trfd"){var h=D.r,iS=Q(D),cr=Q(D),h5=Q(D);
D.r=h+h5;var eS=[];for(var k=0;k<cr;k++)eS[k]=Q(D);for(var k=0;k<cr;k++){D.r=h+eS[k];if(P>=1300)D.r+=8;
var gz=M(D);if(gz==8){var hs,hi,dY,jp,cO,bl;if(P>=600)D.r+=6;if(P>=500){hs=V(D);hi=V(D);dY=V(D)/(P<600?1e3:254e3);
jp=V(D);cO=V(D);bl=V(D)/(P<600?1e3:254e3)}else throw"e";u.Ox=new e3(hs,jp,hi,cO,dY,bl)}else console.log(gz)}}else if(!1){console.log(u);
var iG=Math.min(u.size,32);console.log(j.Ep(data,u.r,iG));console.log(j.a1n(data,u.r,iG))}}};f2.sB=function(D,n){var _=f2.Kk,b={},w=_(D);
for(var k=0;k<w;k++){var i=_(D);D.r+=4;var M=_(D);b[i]=M;if(n)D.r+=48}return b};f2.anX=function(D){var n=f2,_=n.Ur,b=_(D),w=_(D);
return new gZ(b,w)};f2.a5v=function(D){var n=f2,_=n.Ur;D.r+=4;var b=_(D),w=_(D);return new gZ(b,w)};
f2.St=function(D){var n=f2,_=n.Kk,b=n.mS,w=n.Ur;D.r+=4;var i=b(D)+b(D);D.r+=16;var M=f2.lX(D,i);return M};
f2.alO=function(D){var n=f2.mS(D);D.r+=2;return f2.lX(D,n)};f2.lX=function(D,n){var _=f2,b=_.Ur,w=D.Gr<600?2:4,i=D.r,M={t:[],C:[]},N=0,a=0,o=0;
for(var k=0;k<n;k++){var N=b(D),a=b(D),U=D.data[i+n*w*2+k];if(!(U&64)&&!(U&128)){M.t.push(N,a);M.C.push("M");
o+=2}else if(U&64&&!(U&128)){M.t.push(N,a);M.C.push("L");o+=2}else if(!(U&64)&&U&128){M.t.push(N,a);
M.C.push("C");o+=6}else if(U&64&&U&128){M.t.push(N,a)}}if(o!=M.t.length)throw"e";return M};f2.amp=function(D,n){var _=j.c7;
n+=8;var b=_(D,n);n+=4;var w=_(D,n);n+=4;n+=4*7;var i=n,M=B.U(b*w*4);n+=1024;for(var N=0;N<w;N++)for(var a=0;
a<b;a++){var k=N*b+a,o=(w-N-1)*b+a,U=D[n+k]<<2,V=o<<2;M[V+0]=D[i+U+2];M[V+1]=D[i+U+1];M[V+2]=D[i+U+0];
M[V+3]=255}return{B_:M,rect:new gl(0,0,b,w)}};f2.ar7=function(D){if(D==32)return 300;else if(D<49)return 0;
else if(D<58)return 100*(D-48);else if(D<65)return 0;return 100*(D-55)};f2.RC=function(D,n,_){var b=f2.mS,w=f2.Kk,i=D.Gr,M=0,N=0;
if(i>=500){M=b(D);if(M==1&&i>=1300)M=25;if(M==25||M==30){var a=0;if(M==30){M=25;a=30}else{a=b(D);D.r+=4}var o=b(D),U=b(D)}else if(M==14)throw"e";
else{D.r+=6;N=w(D)}}else throw"e";var V=[];if(M==2||M==9||M==17){var c=[N>>>0&255,N>>>8&255,N>>>16&255,N>>>24&255];
if(M==2)for(var k=0;k<4;k++)c[k]=Math.round(255*c[k]/100);for(var k=0;k<4;k++)c[k]/=255;V=UDOC.C.cmykToRgb(c)}else if(M==1||M==5){V=[N>>>0&255,N>>>8&255,N>>>16&255];
for(var k=0;k<3;k++)V[k]=V[k]/255}else console.log("Unknown color model "+M,N,N.toString(16));return V};
var c6=function(){var D,n,_=new ArrayBuffer(4),b=new Uint8Array(_),w=new Uint32Array(_),i=new Float32Array(_);
function M(c,E){for(var A=0;A<c.length;A++)if(c[A][0]==E)return c[A]}function N(){var c=0,E=0,A=0;do{A=D[n++];
c|=(A&127)<<E;E+=7}while(A&128&&E<35);return c>>>0}function a(c,E,A,Q,J){D=c;n=E;var L=Q[0]=="mesg",P=Q[2],u={},m=1,x=L?1e9:P.length;
while(m<=x){var v=m;if(L){v=N();if(v==0)break}var W=M(P,v),Z=W[2],r=W[1]==1,X=r?N():1,$=new Array(X);
if(Z==3){if(!r)throw"e";$=D.slice(n,n+X);n+=X}else for(var k=0;k<X;k++){var I;if((Z&1)==1){if(Z==1)I=D[n++]==1;
else if(Z==3)I=D[n++];else if(Z==5){var T=N();I=T&1?~(T>>>1):T>>>1}else if(Z==7)I=N();else if(Z==9){if(D[n]==0){I=0;
n++}else{b[0]=D[n];b[1]=D[n+1];b[2]=D[n+2];b[3]=D[n+3];var e=w[0];w[0]=e<<23|e>>>9;I=i[0];n+=4}}else if(Z==11){var F=o(D,n);
I=F[0];n+=F[1]+1}else throw Z}else{var y=A[Z>>>1];if(y[0]=="enum"){var h=D[n++];if(h>127)throw"e";I=y[2][h]}else{var Y=a(D,n,A,y,J+1);
I=Y[0];n=Y[1]}}$[k]=I}u[W[3]]=r?$:$[0];m++}return[u,n]}function o(c,E){var A=E;while(c[A]!=0)A++;return[j.KA(c,E,A-E),A-E]}function U(c,E){var A=E;
while(c[A]!=0)A++;for(var k=E;k<A;k++)if(c[k]>127)throw"e";return j.gw(c,E,A-E)}function V(c){D=c;n=1;
var E=[];while(n<c.length){var A=n,Q=E.length,J=U(c,n);n+=J.length+1;var L=N();if(L>2)throw"e";var P=N(),u=[];
for(var k=0;k<P;k++){var m=U(c,n);n+=m.length+1;var x=N(),v=N(),W=N();u.push(L==0?m:[W,v,x,m])}E.push([["enum","strc","mesg"][L],J,u])}return E}return{a8w:V,abA:a}}();
function ew(){}ew.Z6=function(D,n){var _=new Uint8Array(D),b=8,w=j.c7(_,b),o=0,y=0;b+=4;var i=[];while(b<_.length){var M=j.c7(_,b);
b+=4;var N=_.slice(b,b+M);if(_[b]==137&&_[b+1]==80){}else N=UZIP.inflateRaw(N);i.push(N);b+=M}var a=c6.a8w(i[0]);
for(var k=0;k<a.length;k++)if(a[k][1]=="Message")o=k;var U=c6.abA(i[1],0,a,a[o],0)[0],V={WO:{},XA:{},a7q:{}},c=U.nodeChanges;
for(var E=0;E<c.length;E++){var A=c[E],Q=A.guid;V.XA[Q.sessionID+","+Q.localID]=A}for(var E=0;E<c.length;
E++){var A=c[E],Q=A.parentIndex;if(Q){var J=ew.WK(V.XA,Q.guid);if(J.children==null)J.children=[];J.children.push(A)}}var L=c[0],P=L.children,u=new gl,m=[],x=[];
for(var Q=0;Q<P.length;Q++){var v=P[Q],W=v.children;if(v.name=="Internal Only Canvas"||W==null)continue;
var Z=new gl;for(var k=0;k<W.length;k++){var r=W[k],X=r.transform,$=r.size;if(X.m00==1&&X.m10==0&&X.m01==0&&X.m11==1){var I=new gl(X.m02,X.m12,$.x,$.y);
Z=Z.Ik(I)}}var T=u.e==0?0:u.e+100,e=Z.clone();e.x=0;e.y=T;u=u.Ik(e);m[Q]=Z;x[Q]=T}var F=is.JW(new gl(0,0,u.l,u.e),8192*8192);
n.l=Math.round(u.l/F);n.e=Math.round(u.e/F);n.buffer=B.U(n.l*n.e*4);for(var Q=0;Q<P.length;Q++){var v=P[Q],W=v.children;
if(v.name=="Internal Only Canvas"||W==null)continue;W.sort(ew.Vd);var h=new e3(1,0,0,1,-m[Q].x,x[Q]-m[Q].y);
h.scale(1/F,1/F);for(var k=0;k<W.length;k++){var r=W[k];ew.pt(r,[],h,U.blobs,n,0,V);y++}}n.tt(y);n.C8=!0;
if(F!=1)alert("File scaled down "+F+"x")};ew.pt=function(D,n,_,b,w,i,M){var N=ew,r=!1,X,$,e,F,y;for(var k=0;
k<n.length;k++){var a=n[k],o=a.guidPath.guids[0];if(N.a9h(o,D.guid)){var U={};for(var V in D)U[V]=a[V]!=null?a[V]:D[V];
D=U}}var c=D.type,E=D.children,A=D.size,Q=D.effects,J=w.ni();J.rK(D.name);J.oj(D.visible);J.opacity=Math.round(D.opacity*255);
var L=N.pl(D.transform),P=L.clone();P.concat(_);var u=new gl(Math.round(P.oE),Math.round(P.LE),Math.round(A.x*P.gM()),Math.round(A.y*P.gM()));
if(u.l==0||isNaN(u.l))u.l=100;if(u.e==0||isNaN(u.e))u.e=100;var m=D.fillPaints,x=D.inheritFillStyleID;
if(x){var U=N.WK(M.XA,x);if(U)m=U.fillPaints}if(m==null)m=[];var m=N.di(m),v=m[0],W=D.strokePaints,x=D.inheritFillStyleIDForStroke;
if(x){var U=N.WK(M.XA,x);if(U)W=U.fillPaints}if(W==null)W=[];var W=N.di(W),Z="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(c)!=-1;
if(Z||c=="FRAME"){X=new q.IQ;$=[];N.hq(D,b,X,$);r=B.$.DI(X.Y);B.$.vZ(X.Y,P);var I=B.H.__(B.$.DJ(X.Y));
if(!I.hk())u=I;if(M.WO.IJ&&v){var T=q.IQ.n$(M.WO.IJ.Y);for(var k=2;k<T.length;k++)if(T[k].gW!=null)T[k].gW=3;
X.Y=X.Y.concat(T.slice(2));$=$.concat(JSON.parse(JSON.stringify(M.WO.dd)))}}if(v&&v.type=="IMAGE"){y=v.imageScaleMode;
e=N.iS(b,v.image.dataBlob);var h=e.jr.l/e.jr.e,Y=A.x/A.y;F=Math.abs(h-Y)}if(c=="FRAME"){}else if(Z&&r&&e&&(y=="FIT"||y=="FILL"&&F<=.05)){var K=b[v.image.dataBlob].bytes,z=w.$n(K,J.getName(),0,0);
z.VN=J.VN;z.opacity=J.opacity;J=z;var f=new gl(0,0,A.x,A.y);if(y=="FIT"){var s=e.jr.l,l=e.jr.e,g=Math.min(A.x/s,A.y/l),H=s*g,O=l*g;
f=new gl(f.x+(f.l-H)/2,f.y+(f.e-O)/2,H,O)}var C=B.H.X0(f).t;B.H.A(C,P,C);J.add.SoLd.Trnf=G.Q.sy(C);J.add.SoLd.nonAffineTransform=G.Q.sy(C);
var ib=[],Q=D.effects,hH=v.paintFilter;if(Q)for(var k=0;k<Q.length;k++)if(Q[k].type=="FOREGROUND_BLUR"){var R=Q[k],fR=cq.Qk("GsnB",{});
ib.push(fR);fR.v.enab.v=R.visible;fR.v.Fltr.v.Rds.v.val=R.radius/2.4}if(hH&&hH.exposure!=0){var fR=cq.Qk("brit",{});
ib.push(fR);fR.v.Fltr.v.Brgh.v=Math.round(hH.exposure*160);fR.v.Fltr.v.useLegacy.v=!0}if(hH&&hH.vibrance!=0){var fR=cq.Qk("vibA",{});
ib.push(fR);console.log(fR);fR.v.Fltr.v.Strt.v=Math.round(Math.round(hH.vibrance*100))}if(ib.length!=0){J.add.SoLd.filterFX=cq.M8();
w.Oq({id:J.add.SoLd.placed.v,rect:new gl,buffer:B.U(1),v:new q.$L});J.add.SoLd.filterFX.v.filterFXList.v=ib}J.RZ(w,!1);
N.wM(M,J,w)}else if(Z){N.HQ(J,$,X,D,v,W,P,u,b,w,M);if(Q)for(var k=0;k<Q.length;k++){var R=Q[k];if(R.type!="FOREGROUND_BLUR")continue;
X.rq=R.radius/2.4}J.p8(w)}else if(c=="TEXT"){var j4=D.textData,cP=j4.layoutSize,a8=["LEFT","RIGHT","CENTER"].indexOf(D.textAlignHorizontal);
J.add.lnsr="rend";J.add.TySh=jg.aH(0,0);J.add.TySh.dI=new gl(0,0,100,100);var d0=P.clone();J.add.TySh.A=d0;
var b9=J.add.TySh.uP,jG=j4.characters;if(D.textCase=="TITLE"){for(var k=0;k<jG.length;k++)if(k==0||jG[k-1]==" "){var jP=jG.slice(0,k),aq=jG.slice(k+1);
jG=jP+jG[k].toUpperCase()+aq}}jG=jG.replace(/\u2028/g,"\n");jG=jG.replace(/\u2029/g,"\n");jG=jG.replace(/\r\n/g," \n");
jg.kW(b9,0,jG);var gM=D.textAutoResize,gv=j4.baselines;if(gM=="WIDTH_AND_HEIGHT"){var dT=a8==0?0:a8==1?cP.x:cP.x/2,aC=gv?gv[0].position.y:0;
d0.translate(dT*P.gM(),aC*P.gM());jg.EN(b9,0)}else if(gM=="HEIGHT"||gM=="NONE"||gM==null){var aC=gv?gv[0].position.y-D.fontSize*.7:0;
d0.translate(0,aC*P.gM());jg.EN(b9,1);jg.vR(b9,[0,0,Math.round(cP.x),Math.round((gM=="NONE"?1.8:1)*cP.y)])}else throw gM;
if(jG!=""){var c1=jg.np(b9,0,1);N.De(D,P,A,c1,J,b,w,M);jg.Ka(b9,0,jG.length,c1);var aj=j4.characterStyleIDs,bD=j4.styleOverrideTable;
if(aj){aj=aj.slice(0);for(var k=0;k<aj.length;k++)if(jG[k]=="\n")aj[k]=-k-1;var cy=[0],co=0,hV=0;for(var k=0;
k<aj.length;k++){hV++;var il=aj[k];if(k==0||il==aj[k-1]){}else{cy.push(hV-1,k);hV=1}}cy.push(hV);for(var k=0;
k<cy.length;k+=2){var h6=cy[k],c8=cy[k+1];if(jG[h6]=="\n")continue;var il=aj[h6];if(il!=0){var fx;for(var bU=0;
bU<bD.length;bU++)if(bD[bU].styleID==il)fx=bD[bU];var c1=jg.np(b9,h6,h6+1);N.De(fx,P,A,c1,J,b,w,M);jg.Ka(b9,h6,h6+c8-1,c1)}}}}}else if(c=="SYMBOL"){}else if(c=="INSTANCE"){var b6=D.symbolData,iF=b6.symbolOverrides,U=N.WK(M.XA,b6.symbolID);
if(U)E=U.children;else console.log(D.name,"symbol not found",b6.symbolID);n=n.slice(0);for(var k=0;k<iF.length;
k++)n.push(iF[k])}else console.log(c);if(!1){}else if(E&&!Z){w.b.push(w.b8());var dY=!1,bl=i==0&&c!="SYMBOL"&&c!="INSTANCE";
if(bl){if(u.hk())console.log(u);J.Cx(u)}v=m[m.length-1];if(bl&&v&&v.type=="SOLID"){var dc=v.color;J.add.artb.artboardBackgroundType.v=4;
J.add.artb.Clr=N.RC(dc)}else if((v||W[0])&&X){var hN=w.ni();hN.rK("Background");N.HQ(hN,$,X,D,v,W,P,u,b,w,M);
hN.p8(w);w.b.push(hN);dY=!0}E.sort(N.Vd);var ga=M.WO;M.WO={};for(var b1=0;b1<E.length;b1++)N.pt(E[b1],n,P,b,w,i+1,M);
M.WO=ga;J.add.lsct=!1?f4.AU:f4.Aj;J.QQ="pass";var fc=J.h$();J.VN=24;J.oj(fc);var h9=i!=0&&m.length!=0&&!D.frameMaskDisabled&&D.containerSupportsFillStrokeAndCorners;
if(!dY&&h9&&X){J.add.vmsk=X;J.add.vogk=$;J.p8(w)}else N.wM(M,J,w);w.b.push(J)}else if(D.mask){if(X){M.WO.IJ=X;
M.WO.dd=$}}else{var cB=[],gG=1;if(Q)for(var bp=0;bp<Q.length;bp++){var R=Q[bp],eK=R.color,fm=R.type,fG=["DROP_SHADOW","INNER_SHADOW"].indexOf(fm);
if(fG!=-1){var ia=["DrSh","IrSh"][fG],iz=JSON.parse(ci.D6[ci.order.indexOf(ia)]);cB.push([ia,iz]);iz.enab.v=R.visible;
iz.Md.v.BlnM=jz.j0(N.ag6(R.blendMode));iz.Opct.v.val=Math.round(100*eK.a);iz.blur.v.val=Math.round(R.radius*P.gM());
iz.Clr=N.RC(eK);var dT=R.offset.x,aC=R.offset.y;iz.uglg.v=!1;iz.lagl.v.val=Math.round(180/Math.PI*Math.atan2(aC,-dT));
iz.Dstn.v.val=Math.round(Math.sqrt(dT*dT+aC*aC)*P.gM())}}if(c=="TEXT"&&m[0]&&m[0].type!="SOLID")gG=0;
for(var k=gG;k<m.length;k++){var eA=m[k],d3=N.O6(D,eA,P,u,b,w,M);if(d3[0]=="GdFl")cB.push(["GrFl",d3[1]]);
else if(d3[0]=="SoCo")cB.push(["SoFi",d3[1]]);else if(d3[0]=="PtFl")cB.push(["patternFill",d3[1]]);else throw d3}if(!Z)for(var k=0;
k<W.length;k++){var eA=W[k],d3=N.O6(D,eA,P,u,b,w,M);if(d3[0]=="SoCo"){var iz=JSON.parse(ci.D6[ci.order.indexOf("FrFX")]);
cB.push(["FrFX",iz]);iz.enab=d3[1].enab;iz.Opct=d3[1].Opct;iz.Md=d3[1].Md;iz.Clr=d3[1].Clr;iz.Sz.v.val=D.strokeWeight}}if(cB.length!=0){var cY=JSON.parse(ci.default);
for(var k=0;k<ci.order.length;k++)cY[ci.L0[k]]={t:"VlLs",v:[]};for(var k=0;k<cB.length;k++){var ch=cB[k],ia=ci.L0[ci.order.indexOf(ch[0])];
cY[ia].v.unshift({t:"Objc",v:ch[1]})}if(E==null)J.add.lmfx=cY}w.b.push(J)}};ew.HQ=function(D,n,_,b,w,i,M,N,a,o,U){var V=ew;
D.VN|=16;D.add.vogk=n;D.add.vmsk=_;var c=D.add.vstk=JSON.parse(JSON.stringify(ci.yg.default)),E=V.O6(b,w,M,N,a,o,U);
if(E[0]=="None"){c.fillEnabled.v=!1;D.add.SoCo=E[1]}else{V.de(E,D);D.add[E[0]]=E[1]}var E=V.O6(b,i[0],M,N,a,o,U);
if(E[0]!="None"){var c=D.add.vstk;c.strokeEnabled.v=!0;c.strokeStyleLineWidth.v.val=b.strokeWeight*M.gM();
c.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ci.yg.l9[["INSIDE","CENTER","OUTSIDE"].indexOf(b.strokeAlign)];
var A={SoCo:"SoFi",GdFl:"GrFl"}[E[0]],Q=["SoFi","GrFl","patternFill"].indexOf(A),J=[ci.BA,ci.LY,ci.EF][Q];
c.strokeStyleContent.v={classID:ci.yg.bR[0]};var L=b.dashPattern;if(L)c.strokeStyleLineDashSet.v=aL.jx(L,1/b.strokeWeight);
var P=c.strokeStyleContent.v={classID:ci.yg.bR[Q]};for(var k=0;k<J.length;k++)P[J[k]]=E[1][J[k]];if(!c.fillEnabled.v)V.de(E,D)}};
ew.de=function(D,n){var _=D[1].Opct.v.val;if(_!=100)n.opacity=Math.round(n.opacity/255*(_/100)*255)};
ew.Vd=function(D,n){var _=D.parentIndex.position,b=n.parentIndex.position;return _>b?1:-1};ew.di=function(D){for(var k=1;
k<D.length;k++){var n=D[k];if(n.type=="IMAGE"&&n.opacity==1){D=D.slice(k);break}}for(var k=0;k<D.length;
k++){var n=D[k],_=n.imageThumbnail;if(n.type=="IMAGE"&&(n.image==null||n.image.dataBlob==null)&&_&&_.dataBlob)n.image=_;
if(!n.visible||n.type=="IMAGE"&&n.image.dataBlob==null){D.splice(k,1);k--}}return D};ew.wM=function(D,n,_){if(D.WO.IJ){n.add.vmsk=D.WO.IJ.clone();
n.add.vogk=JSON.parse(JSON.stringify(D.WO.dd));n.p8(_)}};ew.De=function(D,n,_,b,w,i,M,N){var a=D.fontSize,o=D.lineHeight,U=D.fontName,V=D.textAlignHorizontal,c=D.textTracking,E=D.textCase,A=D.textDecoration;
if(a==null)a=b.OT.FontSize;if(U)jg.jd(b,U.postscript);if(a!=null)b.OT.FontSize=Math.round(a);if(A=="UNDERLINE")b.OT.Underline=!0;
if(c)b.OT.Tracking=Math.round(c*1e3);if(E)b.OT.FontCaps=E=="UPPER"?2:0;if(o&&(o.units!="PERCENT"||o.value!=100)){if(a==null)a=15;
var Q=o.value;if(o.units=="PERCENT")Q=1*a*Q/100;if(o.units=="RAW")Q=1*a*Q;b.OT.AutoLeading=!1;b.OT.Leading=Math.round(Q)}if(V)b.ew.Justification=["LEFT","RIGHT","CENTER"].indexOf(V);
var J=D.fillPaints,L=D.inheritFillStyleID;if(L){var P=ew.WK(N.XA,L);if(P)J=P.fillPaints}if(J&&J[0]){var u=ew.O6(D,J[0],n,_,i,M,N);
if(u[0]=="SoCo"){var m=B.X.kj(u[1].Clr.v);b.OT.FillColor={Type:1,Values:[1,m.p/255,m.z/255,m.S/255]};
ew.de(u,w)}}};ew.O6=function(D,n,_,b,w,i,M){var N=ew,a,o,U=D.size;if(n){var V=n.type,c=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(V);
if(V=="SOLID"){a="SoCo";var E=n.color;o=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);o.Clr=N.RC(E)}else if(c!=-1){var A=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),Q=A.Grad.v;
Q.Intr.v=0;A.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][c];var J=[],L=n.stops;for(var k=0;k<L.length;k++){var P=L[k],u=P.color;
J.push([P.position,[u.r,u.g,u.b],u.a])}B.X.q2(J,Q);var m=N.pl(n.transform);m.ei();var x=m.clone();if(U)x.scale(U.x,U.y);
x.concat(_);var v=new gZ(0,.5),W=new gZ(1,.5);v=x.pm(v);W=x.pm(W);if(!0){v.x=W.x+.5*(v.x-W.x);v.y=W.y+.5*(v.y-W.y)}B.X.o6(v,W,b,A);
if(c==3){if(x.vd*x.Ww-x.S*x.jo<0)A.Rvrs.v=!A.Rvrs.v}a="GdFl";o=A}else if(V=="IMAGE"){var A=JSON.parse(ci.D6[ci.order.indexOf("patternFill")]),Z=A.phase.v,r=n.image.dataBlob,X=M.a7q[r],K=1;
if(X==null){var $=N.iS(w,r);X=M.a7q[r]={};X.id=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f";X.vt=[new Uint8Array($.data),$.jr];
X.name="someImage";i.iy(X)}A.Algn.v=!0;A.Ptrn.v.Idnt.v=X.id;var I=_.oE,T=_.LE,e=n.imageScaleMode,m=N.pl(n.transform);
m.ei();var F=b.l,y=b.e,h=X.vt[1].l,Y=X.vt[1].e;if(e=="FILL"){K=Math.max(F/h,y/Y);K=Math.round(K*100)/100}else if(e=="FIT"){K=Math.min(F/h,y/Y);
K=Math.round(K*100)/100}else if(e=="STRETCH"){var z=F*m.vd,f=y*m.Ww;K=.5*(z/h+f/Y);K=Math.round(K*100)/100;
I+=(z-F)/2+m.oE*F;T+=(f-y)/2+m.LE*y}else if(e=="TILE"){K=n.scale;K=Math.round(K*100)/100;I+=(z-F)/2;
T+=(f-y)/2}var s=K*h,l=K*Y;I+=-(s-F)/2;T+=-(l-y)/2;A.Scl.v.val=Math.round(100*K);Z.Hrzn.v=Math.round(I);
Z.Vrtc.v=Math.round(T);a="PtFl";o=A}else throw V;if(o)o.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(n.opacity*100)}}}else{a="None";
o={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:0,z:0,S:0})}}}return[a,o]};ew.iS=function(D,n){var _=D[n];
if(_.rslt)return _.rslt;var b=_.bytes.buffer,w=eF.pV(b),i=eF.rW(w);try{_.rslt=i.Ck(b)[0]}catch(io){_.rslt={data:B.U(4),jr:new gl(0,0,1,1)}}return _.rslt};
ew.hq=function(D,n,_,b){var w=D.type,i=D.size,M=D.cornerRadius,V;if(M==null)M=0;var N=B.dd.ae(),a=i.x,o=i.y,U=[M,M,M,M],c=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var k=0;k<4;k++)if(D[c[k]]!=null)U[k]=D[c[k]];if(w=="RECTANGLE"||w=="ROUNDED_RECTANGLE"||w=="FRAME"){V=B.$.yA.Rect(0,0,a,o,U)}else if(w=="ELLIPSE"){var E=D.arcData,A=E?E.startingAngle:0,Q=E?E.endingAngle:2*Math.PI,J=E?E.innerRadius:0;
if(A==0&&Q>1.999*Math.PI)V=B.$.yA.h6(0,0,a,o,0);else V=B.$.yA.asU(a/2,o/2,o/2,A,Q);if(J!=0&&J!=1){var L=q.IQ.n$(V).slice(3);
L.reverse();for(var k=0;k<L.length;k++){var P=L[k],u=P.US;P.US=P.As;P.As=u}var m=new e3;m.translate(-a/2,-o/2);
m.scale(J,J);m.translate(a/2,o/2);B.$.vZ(L,m);V=V.concat(L);V[2].length*=2}}else if(w=="LINE"){V=B.$.yA.Rect(0,0,a,o,0);
V.pop();V.pop();V[2].length=2}else if(w=="STAR"){V=B.$.yA.B1(a/2,o/2,a/2,2*Math.PI*(1/4),5,0,D.starInnerScale)}else if(w=="REGULAR_POLYGON"){V=B.$.yA.IK(.5,.5,.5,Math.PI/2,D.count,0);
var x=new e3;x.scale(a,o);B.$.vZ(V,x)}else if(w=="BOOLEAN_OPERATION"){V=[{type:6},{type:8,all:0}];var v=D.children,W=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(D.booleanOperation);
if(W==-1)throw D;if(v==null)v=[];for(var k=0;k<v.length;k++){var Z=v[k],r=new q.IQ,X=[],$=ew.hq(Z,n,r,X);
if(r.Y==null)continue;B.$.vZ(r.Y,ew.pl(Z.transform));V=V.concat(r.Y.slice(2));for(var I=0;I<X.length;
I++)b.push(X[I])}for(var k=3;k<V.length;k++)if(V[k].gW!=null)V[k].gW=W;N=null}else if(w=="VECTOR"){var T,e,H=3;
if(!0){var F=D.vectorData;if(F==null)return;T=F.normalizedSize;e=F.vectorNetworkBlob}var y=n[e].bytes,h=new Uint32Array(y.buffer),Y=new Float32Array(y.buffer),K=h[0],z=h[1],f=h[2],s=[],l=[],g=[],O=H+K*3,C=O+z*7;
for(var k=0;k<K;k++){var ib=H+k*3,hH=new gZ(Y[ib+1],Y[ib+2]);s.push(hH)}for(var k=0;k<z;k++){var R=O+k*7;
l.push([h[R+0],h[R+1],Y[R+2],Y[R+3],h[R+4],Y[R+5],Y[R+6]])}for(var k=0;k<f;k++){var fR=h[C+1],j4=g[k]=[];
C+=2;for(var I=0;I<fR;I++){var cP=h[C++],a8=j4[I]=[];for(var d0=0;d0<cP;d0++)a8[d0]=h[C+d0];C+=cP}}if(C!=h.length)throw"e";
if(f==0){var b9=-1;for(var k=0;k<z;k++){if(b9==-1){}else{var jG=-1;for(var I=k;I<z;I++)if(l[I][4]==b9)jG=I;
for(var I=k;I<z;I++)if(l[I][1]==b9)jG=I;if(jG!=-1){var jP=0,u=l[jG];l[jG]=l[k];l[k]=u;if(u[1]!=b9){jP=u[1];
u[1]=u[4];u[4]=jP;jP=u[2];u[2]=u[5];u[5]=jP;jP=u[3];u[3]=u[6];u[6]=jP}}}b9=l[k][4]}g.push([[]]);for(var k=0;
k<z;k++)g[0][0].push(k)}var aq=[],gM=[];for(var gv=0;gv<g.length;gv++){for(var dT=0;dT<g[gv].length;
dT++){var aC=g[gv][dT],c1=0;if(aC.length>1){var aj=l[aC[0]],bD=l[aC[1]];c1=aj[4]==bD[1]?1:0}for(var k=0;
k<aC.length;k++){var cy=l[aC[k]],co=1,hV=4;if(c1==0){co=4;hV=1}var il=s[cy[co]],h6=s[cy[hV]];if(k==0){gM.push("M");
aq.push(il.x,il.y)}gM.push("C");aq.push(il.x+cy[co+1],il.y+cy[co+2],h6.x+cy[hV+1],h6.y+cy[hV+2],h6.x,h6.y)}}}V=B.H.yL({t:aq,C:gM},!1);
if(M!=0){var U=[],c8=V[2].length;for(var k=0;k<c8;k++)U.push(M);if(B.$.Rg(V))B.$.qD(V,2,U)}var fx=new e3;
fx.scale(T.x==0?1:i.x/T.x,T.y==0?1:i.y/T.y);B.$.vZ(V,fx)}_.Y=V;if(N)b.push(N)};ew.WK=function(D,n){return D[n.sessionID+","+n.localID]};
ew.a9h=function(D,n){return D.sessionID==n.sessionID&&D.localID==n.localID};ew.ag6=function(D){var n={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[D];
if(n==null)throw D;return n};ew.RC=function(D){return{t:"Objc",v:B.X.Ea({p:D.r*255,z:D.g*255,S:D.b*255})}};
ew.pl=function(D){var n=[D.m00,D.m10,D.m01,D.m11,D.m02,D.m12];for(var k=0;k<6;k++)if(Math.abs(n[k])<1e-20)n[k]=0;
return new e3(n[0],n[1],n[2],n[3],n[4],n[5])};function ab(){}ab.Z6=function(){var D=j.gw;function n(E,A,Q,J){var L=J?[]:{};
while(A<E.length-1&&E[A]!=125){var P=D(E,A,3),u=D(E,A+3,1),m;A+=4;A++;if(u=="v"){var x=n(E,A,Q+1,P=="ELM"||P=="TIL");
m=x.k;A=x.r}else if(u=="i"||u=="f"){var v=A;while(E[v]!=125)v++;var W=D(E,A,v-A);m=u=="i"?parseInt(W,16):parseFloat(W);
A=v+1}else if(u=="s"){var Z=j.UH(E,A),W="";A+=2;for(var k=0;k<Z;k++)W+=String.fromCharCode(E[A+2*k+1]);
m=W;A=A+2*Z+1}else if(u=="b"){m=E[A]==49;A=A+2}else throw"e";if(J)L.push([P,m]);else if(L[P]==null)L[P]=m;
else{if(!(L[P]instanceof Array))L[P]=[L[P]];L[P].push(m)}}A++;return{k:L,r:A}}function _(E,A){var Q=b(E).slice(1),E=A.Clr.v;
E.Rd.v=Q[0]*255;E.Grn.v=Q[1]*255;E.Bl.v=Q[2]*255}function b(E){return[(E>>>24&255)/255,(E>>>16&255)/255,(E>>>8&255)/255,(E>>>0&255)/255]}function w(E,A){var Q=A&4278190080|(A&255)<<16|(A>>>8&255)<<8|A>>>16&255;
new Uint32Array(E.buffer).fill(Q)}function i(E,A){var Q=E.TSZ,J=E.WPX,L=E.HPX,P=E.TIL,u=new gl(0,0,J,L),m=B.U(J*L*4),x=0;
for(var v=0;v<L;v+=Q)for(var W=0;W<J;W+=Q){var Z=new gl(W,v,Q,Q),r,X=P[x];if(X[0]=="TMC"){r=B.U(Z.u()*4);
w(r,X[1])}else if(X[0]=="TID"){r=A[X[1]]}B.E3(r,Z,m,u);x++}return[m,u]}function M(E,A){E=new Uint8Array(E);
var Q=8,J,L={},y=0;while(Q<E.length){var P=j.n(E,Q);Q+=4;var u=D(E,Q,4);Q+=4;if(u=="mkTS"){var m=pako.inflate(E.slice(Q,Q+P)),x=n(m,0,0);
J=x.k}else if(u=="mkBT"){var v=j.n(E,Q+4),W=j.n(E,Q+8),m=pako.inflate(E.slice(Q+76,Q+P));if(W==0)for(var k=0;
k<m.length;k+=4){var Z=m[k],r=m[k+1],X=m[k+2],$=m[k+3];m[k+3]=Z;m[k+2]=$;m[k+1]=X;m[k]=r}else{var I=B.U(m.length*4);
I.fill(255);B.hd(m,I);m=I}L[v]=m}Q+=P+4}var T=J.PDC,e=T?T instanceof Array?T:[T]:[J.MKB],F=new gl;for(var k=0;
k<e.length;k++){var h=e[k];F=F.Ik(new gl(0,y,h.WID,h.HIT));y+=h.HIT+100}A.l=F.l;A.e=F.e;A.buffer=B.U(F.u()*4);
A.tt(e.length);y=0;for(var Y=0;Y<e.length;Y++){A.b.push(A.b8());var h=e[Y],K=h.WID,z=h.HIT,f=h.BGC,s=(h.LYL?h:J).LYL.LAY,H=3;
for(var k=0;k<s.length;k++)a(s[k],A,null,L,new e3(1,0,0,1,-h.XLC,-h.YLC+y));var l=A.ni();A.b.push(l);
var g=new gl(0,y,K,z);y+=z+100;l.Cx(g);if(f>>>24!=0){var O=B.X.Ea({p:f>>>16&255,z:f>>>8&255,S:f>>>0&255});
l.add.artb.Clr={t:"Objc",v:O};H=4}l.add.artb.artboardBackgroundType.v=H;l.rK(h.PGN?h.PGN:"Page "+(Y+1));
l.add.lsct=f4.Aj;l.QQ="pass";l.VN=24}}function N(E,A,Q){var J=E[A];return J instanceof Array?J[Q]:J}function a(E,A,Q,J,L){var P=A.ni();
if(E.VIS!=null)P.oj(E.VIS);if(E.VIF!=null)P.oj(E.VIF.VIS);if(E.OPA!=null)P.opacity=Math.round(255*E.OPA/1e3);
P.QQ=E.CLL||Q=="GRP"?"pass":"norm";if(E.BLD!=null){var u=E.BLD,m={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[u+""];
if(m==null)console.log(E.OBN,u);else P.QQ=m;if(u==30)P.opacity>>>=1}if(E.CLL){P.rK(E.LNM);A.b.push(A.b8());
var x=E.CLL.CEL;if(x.length==null)x=[x];for(var v=x.length-1;v>=0;v--){var W=x[v].ELM;for(var k=W.length-1;
k>=0;k--)a(W[k][1],A,W[k][0],J,L)}P.add.lsct=E.DIS?f4.AU:f4.Aj;P.VN|=24}else if(Q=="GRP"){var Z=P.add.lmfx=U(E.EFL),r;
A.b.push(A.b8());var W=E.ELM;if(E.MNA){r=W[0][1];W=W.slice(1)}P.rK("Group: "+W.length+" objects");for(var k=W.length-1;
k>=0;k--)a(W[k][1],A,W[k][0],J,L);if(r){if(E.MRX){var X=i(r,J),$=P.v=new q.$L;$.rect=X[1].clone();$.rect.x=r.XLC;
$.rect.y=r.YLC+L.LE;$.channel=B.U($.rect.u());B.Ef(X[0],$.channel,0);B.ei($.channel)}else{o(P,r,L);P.p8(A)}}P.add.lsct=f4.Aj;
P.VN|=24}else if(Q=="IMG"){P.rK(E.OBN?E.OBN:"Bitmap");var X=i(E,J);P.rect=X[1].clone();P.rect.x=E.XLC;
P.rect.y=E.YLC+L.LE;P.buffer=X[0]}else if(Q=="TXT"){var I=E.TFS,T=I.TRN instanceof Array?I.TRN.length:1,h="",Y="Arial",K=20,z=0;
P.add.lnsr="rend";P.add.TySh=jg.aH(0,0);P.add.TySh.dI=new gl(0,0,100,100);var e=new e3(1,0,0,1,E.LFT,E.TOP);
if(E.MTX){var F=E.MTX,$=new e3(F.M00,F.M01,F.M10,F.M11,F.M20,F.M21);e.concat($)}e.concat(L);P.add.TySh.A=e;
var y=P.add.TySh.uP;for(var k=0;k<T;k++){var f=N(I,"TRN",k);if(f==null)continue;jg.kW(y,h.length,f);
var s=jg.np(y,0,1),l=N(I,"FON",k);if(l)Y=l;jg.jd(s,Y);var g=N(I,"PTS",k);if(g!=null)K=g;s.OT.FontSize=Math.round(K);
var H=N(I,"FCL",k);if(H!=null)z=H;s.OT.FillColor={Type:1,Values:b(z)};jg.Ka(y,h.length,h.length+f.length,s);
h+=f}P.rK(h.slice(0,255));var O=E.RIT-E.LFT,C=E.BOT-E.TOP;if(E.IMG){a(E.IMG,A,"IMG",J,L);var ib=A.b.pop();
P.buffer=ib.buffer;P.rect=ib.rect.clone()}jg.EN(y,1);jg.vR(y,[0,0,O,C])}else if(Q=="PTH"){P.rK(E.OBN?E.OBN:"Path");
P.VN|=16;var hH=!1;o(P,E,L);var R=P.add.vmsk,fR=P.add.vstk,j4=B.$.DJ(R.Y),cP=E.PAT,a8=cP.BPL,d0=cP.FPL,b9=cP.TXF;
if(d0&&d0.FEF)R.rq+=d0.FEF/2.4;if(a8){var jG=a8.CAT;fR.strokeEnabled.v=!0;fR.strokeStyleLineWidth.v.val=a8.BDI;
fR.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ci.yg.l9[E.BRP];_(cP.BCL,fR.strokeStyleContent.v);
if(jG!="bc_Basic"&&jG!="bc_Pencil")hH=!0}if(d0==null){fR.fillEnabled.v=!1;P.add.SoCo=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);
_(0,P.add.SoCo)}else if(d0.CAT=="fc_Solid"){P.add.SoCo=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);_(E.PAT.FCL,P.add.SoCo)}else if(d0.CAT=="fc_Linear"||d0.CAT=="fc_Circular"||d0.CAT=="fc_Elliptical"){var jP=d0.CAT=="fc_Linear",aq=P.add.GdFl=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),gM=aq.Grad.v,gv=[],dT=d0.FGL,aC,c1=[];
if(dT.FGY){var aj=dT.FGY,aC=aj.FG0.FGI,c1=aj.FG1.FGI}else aC=dT.FGV.FGI;for(var k=0;k<aC.length;k++){var bD=aC[k],cy=b(bD.FGC),co=1;
if(c1.length==aC.length)co=b(c1[k].FGC)[0];gv.push([bD.FGP,cy.slice(1),co])}aq.Type.v.GrdT=jP?"Lnr":"Rdl";
B.X.q2(gv,gM);gM.Intr.v=0;var hV=E.PRI?E.PRI:E,il=new gZ(hV.PSX,hV.PSY),h6=new gZ(hV.PEX,hV.PEY);if(d0.CAT=="fc_Elliptical"&&hV.PFX!=null){var c8=new gZ(hV.PFX,hV.PFY),fx=gZ._e(il,h6),bU=gZ._e(il,c8);
if(bU<fx){var b6=fx;fx=bU;bU=b6}h6=new gZ(il.x+(fx+bU)/2,il.y);if(fx/bU<.5)hH=!0}if(jP){il.x=(il.x+h6.x)/2;
il.y=(il.y+h6.y)/2}B.X.o6(il,h6,j4,aq)}else console.log(d0.CAT);var Z=P.add.lmfx=U(E.EFL,R);if(d0&&d0.FTB!=0){var X=i(b9.MSK,J),iF={};
iF.id=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f";iF.name="someImage";iF.vt=X;A.iy(iF);var dY=X[0];for(var k=0;
k<dY.length;k+=4){dY[k+3]=255-dY[k];dY[k]=dY[k+1]=dY[k+2]=255}var aq=JSON.parse(ci.D6[ci.order.indexOf("patternFill")]);
aq.Opct.v.val=Math.round(d0.FTB/10);aq.Algn.v=!0;aq.Ptrn.v.Idnt.v=iF.id;Z.patternFillMulti.v.unshift({t:"Objc",v:aq})}if(hH&&E.IMG){a(E.IMG,A,"IMG",J,L);
var bl=A.b[A.b.length-1];bl.opacity=P.opacity;return}P.p8(A)}else if(Q=="URL")return;else{console.log("unknown layer type",Q,E);
P.rK("Layer")}A.b.push(P)}function o(E,A,Q){if(A.PBL==null)return;var J=E.add.vmsk=new q.IQ,L=E.add.vstk=JSON.parse(JSON.stringify(ci.yg.default)),P=A.PBL.PBP;
if(!(P instanceof Array))P=[P];for(var u=0;u<P.length;u++){var m=P[u].PBT;if(m==null)continue;if(!(m instanceof Array))m=[m];
var x=P[u].ISC?0:3;J.Y.push({type:x,length:m.length,gW:0,bB:2,at:0,iB:0});for(var k=0;k<m.length;k++){var v=m[k],W=v.XLC,Z=v.YLC,r=[W,Z,W,Z,W,Z],X="XPC YPC XLC YLC XSC YSC".split(" ");
for(var $=0;$<6;$++){var I=X[$],T=v[I];if(T!=null)r[$]=T}J.Y.push({type:x+2,Z:new gZ(W,Z),US:new gZ(r[0],r[1]),As:new gZ(r[4],r[5])})}}B.$.vZ(J.Y,Q);
E.GL()}function U(E,A){var Q=JSON.parse(ci.default);for(var k=0;k<ci.order.length;k++)Q[ci.L0[k]]={t:"VlLs",v:[]};
if(E==null)return Q;var J=E.EPS;if(!(J instanceof Array))J=[J];for(var k=0;k<J.length;k++){var L=J[k].DCE,P={};
for(var u=0;u<L.length;u++)P[L[u].DCK]=L[u].DCV;if(P.EffectIsVisible=="false")continue;var m=P.mkbFile_WriteOnly_TemporaryEffectUiName;
if(m=="Gaussian Blur..."&&A){A.rq+=parseFloat(P.gaussian_blur_radius);continue}var x=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(m);
if(x==-1){continue}var v=["DrSh","ebbl","IrGl","OrGl"][x],W=ci.L0[ci.order.indexOf(v)],Z=JSON.parse(ci.D6[ci.order.indexOf(v)]);
Q[W].v.unshift({t:"Objc",v:Z});if(v=="DrSh"){Z.uglg.v=!1;V(P,"ShadowDistance",Z,"Dstn");V(P,"ShadowBlur",Z,"blur");
V(P,"ShadowAngle",Z,"lagl",180);Z.Opct.v.val=100;c(P,"ShadowColor",Z,"Clr")}if(v=="IrGl"){Z.Md.v.BlnM="Nrml";
var r=P.MaskSoftness,X=P.GlowWidth;if(r&&X){r=parseInt(r);X=parseInt(X);Z.blur.v.val=X+r;Z.Ckmt.v.val=Math.round(100*X/(X+r))}V(P,"BevelContrast",Z,"Opct");
c(P,"OuterBevelColor",Z,"Clr")}if(v=="OrGl"){Z.Md.v.BlnM="Nrml";var r=P.MaskSoftness,X=P.GlowWidth;if(r&&X){r=parseInt(r);
X=parseInt(X);Z.blur.v.val=X+r}V(P,"BevelContrast",Z,"Opct");c(P,"OuterBevelColor",Z,"Clr")}if(v=="ebbl"){Z.uglg.v=!1;
V(P,"BevelWidth",Z,"blur");V(P,"AngleSoftness",Z,"Sftn");V(P,"BevelContrast",Z,"srgR");V(P,"LightAngle",Z,"lagl")}}return Q}function V(E,A,Q,J,L){var P=E[A];
if(L==null)L=0;if(P)Q[J].v.val=parseInt(P)+L}function c(E,A,Q,J){var L=E[A];if(L){L=L.slice(1);if(L.length==6)L=L+"ff";
if(L.length!=8)throw"e";var P=b(parseInt(L,16)),u=Q[J].v;u.Rd.v=P[0]*255;u.Grn.v=P[1]*255;u.Bl.v=P[2]*255;
Q.Opct.v.val=Math.round(Q.Opct.v.val/100*P[3]*100)}}return M}();function dI(){}dI.Z6=function(){function D(r,X){var $=!1,I=Date.now(),T=P(r,$),cP=1;
if($)console.log("part found",Date.now()-I);I=Date.now();var e=L(T),F=e.Layer,y=e.Header;if($)console.log(e);
var h=F[0];h=e.Layer[0];if($)console.log("document parsed",Date.now()-I);I=Date.now();e.Setup.Gradient=J(e.Setup.Gradient,T);
if($)console.log("grads loaded",Date.now()-I);I=Date.now();e.Setup.Pattern=Q(e.Setup.Pattern,T);if($)console.log("patts loaded",Date.now()-I);
I=Date.now();e.Setup.DocumentData=A(e.Setup.DocumentData,T).pop();if($)console.log("docdata loaded",Date.now()-I);
I=Date.now();e.Setup.SVGFilter=A(e.Setup.SVGFilter,T);if($)console.log("svgfilter loaded",Date.now()-I);
I=Date.now();var Y=y.Cropmarks,K=y.BoundingBox.split(" ").map(parseFloat),z=y.ArtSize?y.ArtSize.split(" ").map(parseFloat):[K[2]-K[0],K[3]-K[1]];
X.l=Math.round(z[0]);X.e=Math.round(z[1]);var f=[1,0,0,1,-K[0]+(X.l-(K[2]-K[0]))/2,-K[1]+(X.e-(K[3]-K[1]))/2];
f[3]=-1;f[5]=X.e-f[5];if(Y){Y=Y.split(" ").map(parseFloat);X.l=Math.round(Y[2]-Y[0]);X.e=Math.round(Y[3]-Y[1]);
f=[1,0,0,-1,-Y[0],X.e+Y[1]]}var s=e.Setup.DocumentData;if(s&&s[0]&&s[0].ArtboardArray){var l=s[0].ArtboardArray;
if(l.length!=1)console.log(l.length,"artboards");var g=new gl;for(var k=0;k<l.length;k++){var H=l[k],O=H.PositionPoint1,C=H.PositionPoint2,ib=O[0],hH=Math.min(O[1],C[1]),R=C[0],fR=Math.max(O[1],C[1]);
g=g.Ik(new gl(ib,hH,R-ib,fR-hH))}X.l=Math.round(g.l);X.e=Math.round(g.e);f[4]=-g.x;f[5]=g.y+X.e}var j4=Math.max(X.l,X.e);
while(j4*cP<1200)cP++;while(j4*cP>6e3)cP*=.5;X.l=Math.round(X.l*cP);X.e=Math.round(X.e*cP);X.Cn=Math.round(72*cP);
X.buffer=B.U(X.l*X.e*4);for(var k=0;k<6;k++)f[k]*=cP;for(var a8=0;a8<F.length;a8++){var d0=F[a8];d0.Raster=n(d0);
var b9=c(T,d0);_(X,b9,f,e,d0,T)}if($)console.log("layers created",Date.now()-I);I=Date.now()}function n(r){var X=r.Layer,$=r.Raster;
if($==null)$=[];if(X){for(var k=0;k<X.length;k++){var I=X[k],T=I.Raster=n(I);$=$.concat(T)}$.sort(function(e,F){return e._begin-F._begin})}return $}function _(r,X,$,I,T,e){var F="",y=0,h="",Y=UDOC.G,K=UDOC.getState(),z="norm",f=1,s="SoCo",H=!1,O=0,ib=null,hH=!1,R=0,fR=null,j4,cP,a8=0,d0=0,b9=0;
K.ctm=$;var l=[0,0,0],g=[0,0,0],C=[],jG=[],jP=[];for(var aq=0;aq<X.length;aq++){var gM=X[aq];if(gM[0]=="%"){if(gM=="%_/ArtDictionary :"&&R==0)ib=[gM.slice(2)];
else if(ib!=null){if(gM=="%_"&&R==0){var gv=x(ib)[0],dT=gv.AI10_ArtUID;if(dT&&!dT.startsWith("XMLID"))r.b[r.b.length-1].rK(W(dT));
ib=null}else{ib.push(gM.slice(hH?1:2));if(gM=="%_X=")R++;if(gM=="%_X+")R--;if(gM=="%_/Binary : /ASCII85Decode ,")hH=!0;
if(hH&&gM.endsWith("~>"))hH=!1}}else if(fR){j4+=(j4==""?"":" ")+gM.slice(2);if(j4.endsWith("X#")){fR.push(j4.slice(0,j4.length-3));
j4=""}}continue}else if(gM=="/Mesh X!"){fR=[];j4="";continue}else if(gM=="/End X!"){b(fR,K,r);fR=null;
continue}gM=gM.trim();var aC=gM.split(" "),c1=aC[aC.length-1],aj=c1.toLowerCase(),bD=aC.map(parseFloat);
if(c1=="m")Y.moveTo(K,bD[0],bD[1]);else if(c1=="L"||c1=="l")Y.lineTo(K,bD[0],bD[1]);else if(c1=="V"||c1=="v"||c1=="Y"||c1=="y")Y.quadCurveTo(K,bD[0],bD[1],bD[2],bD[3]);
else if(c1=="C"||c1=="c")Y.curveTo(K,bD[0],bD[1],bD[2],bD[3],bD[4],bD[5]);else if(c1=="H"||c1=="h"){if(c1==aj)Y.closePath(K);
C.push(JSON.parse(JSON.stringify(K.pth)))}else if(c1=="Xy"){z=["norm","mul ","scrn","over","sLit"][bD[0]];
f=bD[1];if(z==null){z="norm";console.log("unknown blend mode",bD[0])}}else if(c1=="Xd"){var cy=r.b[r.b.length-1];
cy.opacity=Math.round(255*f);cy.QQ=cy.nR()&&z=="norm"?"pass":z}else if(c1=="AE")a8=bD[0];else if(c1=="Ae")d0=bD[0];
else if(c1=="Xw")b9=bD[0];else if(c1=="*"){var co=K.pth.crds,hV=K.ctm,il=co[0]==co[2]?0:1;r.eu.push([il,co[il]]);
Y.newPath(K)}else if(c1=="XN")cP=gM.split(" ")[0];else if(c1=="XI"){var h6=T.Raster,c8,fx;if(h6==null||h6.length==0){console.log("no Raster");
continue}if(gM!="XI"){continue}else{var bU=h6[y++].Data,b6=bU._begin,iF=bU._end;while(e[b6]!=88)b6++;
b6+=3;c8=e.slice(b6,iF);fx=X[aq-2].split(" ").map(parseFloat)}var dY=fx.slice(8),bl=dY[2],dc=dY[3],hN=bl*dc,ga=B.U(hN*4);
ga.fill(255);var b1=dY[7],fc=dY[8],h9=dY[6],cB=Math.ceil(bl*b1*h9/8);if(b1==1){if(h9==8)for(var k=0;
k<hN;k++)for(var bp=0;bp<3;bp++)ga[4*k+bp]=c8[k];else if(h9==1)for(var eK=0;eK<dc;eK++)for(var fm=0;
fm<bl;fm++)for(var bp=0;bp<3;bp++)ga[4*(eK*bl+fm)+bp]=255*(c8[eK*cB+(fm>>>3)]>>>7-(fm&7)&1);else throw h9}else if(b1==3)for(var k=0;
k<hN;k++)for(var bp=0;bp<3;bp++)ga[4*k+bp]=c8[3*k+bp];else if(b1==4||b1==5)for(var k=0;k<hN;k++){var fG=o([c8[b1*k+0]/255,c8[b1*k+1]/255,c8[b1*k+2]/255,c8[b1*k+3]/255]);
ga[4*k+0]=fG[0]*255;ga[4*k+1]=fG[1]*255;ga[4*k+2]=fG[2]*255}else if(b1==7)for(var k=0;k<hN;k++){ga[4*k+0]=c8[b1*k+0];
ga[4*k+1]=c8[b1*k+1];ga[4*k+2]=c8[b1*k+2]}else throw b1;if(fc==1){var ia=dc*cB;for(var k=0;k<hN;k++)ga[4*k+3]=c8[ia+k]}var iz=B.cA(ga,bl,dc)?"JPG":"PNG";
if(bl*dc<700*700)iz="PNG";var gG=eF.rW(iz).VX([[ga.buffer]],bl,dc),eA=r.$n(new Uint8Array(gG),"<Image>",0,0);
r.b.push(eA);eA.QQ=z;eA.opacity=Math.round(255*f);eA.oj(b9==0);var $=new e3;$.scale(1,-1);$.concat(a(fx.slice(1)));
$.concat(a(K.ctm));var d3=eA.rect.clone();d3.x=d3.y=0;var aC=B.H.X0(d3).t;B.H.A(aC,$,aC);eA.add.SoLd.Trnf=G.Q.sy(aC);
eA.add.SoLd.nonAffineTransform=G.Q.sy(aC);eA.RZ(r,!1)}else if(c1=="Ln"){F=i(gM)}else if(c1=="u"||c1=="q"||c1=="Lb"){jG.push(d0==1);
jP.push((c1=="Lb"?1-bD[0]:b9)==0);if(H)continue;r.b.push(r.b8())}else if(c1=="U"||c1=="Q"||c1=="LB"){if(jG.length==0||jP.length==0)throw aq;
var cY=jG.pop(),ch=jP.pop();if(c1=="LB")cY=a8==1;if(H)continue;var eA=r.ni();eA.rK((c1=="U"?"<Group>":"<Clip Group>")+h);
if(c1=="LB")eA.rK(F);if(c1=="Q"&&C.length!=0){var fS=C.pop(),ar=UDOC.G.isBox(fS,[0,0,r.l,r.e]);if(!ar)U(eA,fS,r)}eA.add.lsct=cY?f4.AU:f4.Aj;
eA.QQ="pass";eA.VN=24;eA.oj(ch);r.b.push(eA)}else if(c1=="Bb"||c1=="Bh"||c1=="BB"){}else if(c1=="Bg"){var aM=I.Setup.Gradient[i(gM)];
s="GdFl";l=w(aM.MJ,aM.ao1)}else if(c1=="Bm"||c1=="Xm"){var aU=l.Type.v.GrdT;if(aU=="Lnr"&&c1!="Xm"||aU=="Rdl"&&c1!="Bm")continue;
var f0=B.H.t0(K.pth.crds),eV=new gZ(0,0),ex=new gZ(1,0),gx=new e3;gx.concat(a(bD));gx.concat(a(K.ctm));
eV=gx.pm(eV);ex=gx.pm(ex);if(aU=="Lnr"){eV.x=(eV.x+ex.x)/2;eV.y=(eV.y+ex.y)/2}B.X.o6(eV,ex,f0,l)}else if(c1=="p"){var c_=i(gM),iS=I.Setup.Pattern[c_];
if(iS.raw==null){var f0=iS.PH,bl=Math.round(f0[2]-f0[0]),dc=Math.round(f0[3]-f0[1]),gv=new ai;gv.l=bl;
gv.e=dc;gv.buffer=B.U(bl*dc*4);_(gv,iS.OB,[1,0,0,-1,-iS.PH[0],dc+iS.PH[1]],I,T,e);iS.raw=new Uint8Array(eF.rW("PSD").VX(gv))}var cr=gM.slice(gM.indexOf(")")+2),h5=cr.slice(0,cr.indexOf("[")-1).split(" ").map(parseFloat),fW=cr.slice(cr.indexOf("[")+1,cr.indexOf("]")).split(" ").map(parseFloat);
s="patt";l=[c_,h5,fW]}else if(c1=="J"||c1=="j"||c1=="w"||c1=="M"||c1=="d"){for(var k=1;k<aC.length;k++){var cs=aC[k],eS=bD[k-1];
if(cs=="w")K.lwidth=eS;if(cs=="j")K.ljoin=eS;if(cs=="J")K.lcap=eS;if(cs=="d"){var a$=gM.slice(gM.indexOf("[")+1,gM.indexOf("]")).trim();
if(a$.length!=0){var a6=a$.split(" ").map(parseFloat);K.dash=a6}}}}else if(aj=="xa"||aj=="xx"){var gw=[bD[4],bD[5],bD[6]];
s="SoCo";if(c1=="Xa"||c1=="Xx")l=gw;else g=gw}else if(aj=="xk"){var gw,bO=bD[bD.length-2],ak=bD[bD.length-3];
if(bO==0)gw=o(bD);else if(bO==1){gw=[bD[4],bD[5],bD[6]];for(var k=0;k<3;k++)gw[k]=ak*1+(1-ak)*gw[k]}else throw gM;
s="SoCo";if(c1=="Xk")l=gw;else g=gw}else if(aj=="k"||aj=="x"){if(aj=="x"){bD.pop();var br=1-bD.pop();
for(var k=0;k<4;k++)bD[k]*=br}var gw=o(bD);s="SoCo";if(c1==aj)l=gw;else g=gw}else if(aj=="g"){var gw=[bD[0],bD[0],bD[0]];
s="SoCo";if(c1==aj)l=gw;else g=gw}else if(aj=="n")Y.newPath(K);else if(c1=="*u"){H=!0;O=0}else if(c1=="*U"||aj=="s"||aj=="f"||aj=="b"){if(c1!="*U"&&H){if(aj=="f"||aj=="b")O|=1;
if(aj=="s"||aj=="b")O|=2;continue}if(c1==aj)Y.closePath(K);if(c1=="*U"){H=!1}var eA;if(s=="patt"){var iS=I.Setup.Pattern[l[0]];
eA=r.$n(iS.raw,"<Pattern>",0,0);var d3=eA.rect.clone();d3.x=d3.y=0;var aC=B.H.X0(d3).t,fW=a(l[2]);fW.oE=fW.LE=0;
B.H.A(aC,fW,aC);eA.add.SoLd.Trnf=G.Q.sy(aC);eA.add.SoLd.nonAffineTransform=G.Q.sy(aC);eA.RZ(r,!1)}else{eA=r.ni();
eA.VN|=16;var iZ=eA.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));iZ.strokeEnabled.v=iZ.fillEnabled.v=!1;
if(s=="SoCo"){eA.add.SoCo=JSON.parse(ci.D6[ci.order.indexOf("SoFi")]);var cU=eA.add.SoCo.Clr.v;M(cU,l)}if(s=="GdFl")eA.add.GdFl=l;
if(aj=="f"||aj=="b"||c1=="*U"&&O&1)iZ.fillEnabled.v=!0;if(aj=="s"||aj=="b"||c1=="*U"&&O&2)ag.Jy(iZ,K,1,ag.AE(g))}eA.rK("<"+(c1=="*U"?"Compound ":"")+"Path>"+h);
eA.QQ=z;eA.opacity=Math.round(255*f);eA.oj(b9==0);U(eA,K.pth,r);r.b.push(eA);Y.newPath(K)}else if(c1==","&&aC[1]=="/StoryIndex"){var b3=I.Setup.TextDocument,jp=null;
if(!(b3 instanceof Array))b3=I.Setup.TextDocument=E(b3,e);var au=b3[0],ef=b3[2];if(au._DocumentResources)au=b3[0]=bn.ak7(au);
else bn.a7Y(au);var eA=r.ni();eA.add.lnsr="rend";eA.add.TySh=jg.aH(0,0);var jj=fT.a9M(au),gz=eA.add.TySh.uP=jj[bD[0]];
if(gz==null){console.log("text not found");continue}eA.rK(jg.kb(gz).slice(0,50));eA.QQ=z;eA.opacity=Math.round(255*f);
eA.oj(b9==0);var br=au._1._1[bD[0]]._1._0[0]._0;br=parseInt(br.slice(1));var hs=au._0._8._0,hi=hs[br]._0;
if(hi._0)jp=N(hi._0);else if(hi._1)jp=N(hi._1._0);else jp=N(hi._2._2).slice(3);if(jp.length!=2){var f0=B.H.t0(jp);
jp=[f0.x,f0.y];if(f0.u()!=0){jg.EN(gz,1);jg.vR(gz,[0,0,Math.round(f0.l),Math.round(f0.e)])}}var cO=new e3,iG=new e3(1,0,0,1,jp[0],jp[1]),a2=new e3(1,0,0,1,-ef[0],-ef[1]),j6=a(K.ctm),h7=new e3;
if(hi._2&&hi._2._2){var $=N(hi._2._2);h7=new e3($[0],$[1],$[2],$[3],$[4],$[5])}cO.concat(iG);cO.concat(h7);
cO.concat(a2);cO.scale(1,-1);cO.concat(j6);eA.add.TySh.A=cO;r.b.push(eA);r.C8=!0}}}function b(r,X,$){var I=UDOC.G,T=[],e=[],F="/DeviceGray",y,h=[],Y=1;
for(var K=0;K<r.length;K++){var z=r[K];if(z.endsWith(" /CS")){var f=z.indexOf("/NChannel"),s=z.indexOf("/Process");
if(z.startsWith("/DeviceRGB")){F="/DeviceRGB";y=3}else if(z.startsWith("/DeviceGray")){F="/DeviceGray";
y=1}else if(z.startsWith("/DeviceCMYK")){F="/DeviceCMYK";y=4;h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(f!=-1){F="/DeviceCMYK";
y=parseInt(z.slice(f-2,f-1));var l=1;for(var k=0;k<y;k++){l=z.indexOf("[",l);h[y-1-k]=z.slice(l+1,l+8).split(" ").map(parseFloat);
l++}}else if(s){F="/DeviceGray";y=1}else throw z}else if(z[0]=="["){var g=z.indexOf("]"),H=z.slice(1,g).split(" ").map(parseFloat),O=z.slice(g+2),C,ib,hH,R,fR,j4;
if(O=="/Size"||O=="/P"||O=="/R")continue;if(O=="/S"||O=="/A"){C=H[0];ib=H[1];hH=H[2];R=H[3];fR=H[4];
j4=H[5]}else if(O=="/N"){var cP=y+(Y==1?0:1),a8;C=H[cP+0];ib=H[cP+1];hH=H[cP+2];R=H[cP+3];fR=H[cP+5];
j4=H[cP+6];if(F=="/DeviceRGB")a8=H.slice(0,3);else if(F=="/DeviceGray")a8=[H[0],H[0],H[0]];else if(F=="/DeviceCMYK"){var d0=[0,0,0,0];
for(var k=0;k<y;k++){var b9=H[k],jG=h[k];d0[0]+=b9*jG[0];d0[1]+=b9*jG[1];d0[2]+=b9*jG[2];d0[3]+=b9*jG[3]}a8=o(d0)}else throw a8;
a8.push(H[y]);e.push([a8,C,ib])}else throw O;T.push([O,fR,j4,C,ib,hH,R])}else if(z=="/E"){var jP=T.slice(0),aq=0;
for(var k=0;k<T.length;k++){var gM=T[k][0];if(gM=="/N"){aq++;continue}var gv=k,dT=k+1;while(T[dT][0]!="/N"&&dT<T.length)dT++;
if(aq==0||aq==3){for(var aC=0;aC<dT-gv;aC++)jP[gv+aC]=T[dT-1-aC]}else for(var aC=gv;aC<dT;aC++){var c1=jP[aC],aj=c1[1];
c1[1]=c1[5];c1[5]=aj;aj=c1[2];c1[2]=c1[6];c1[6]=aj}k=dT-1}T=[];for(var k=0;k<jP.length;k++){var c1=jP[k];
T.push(c1[1],c1[2],c1[3],c1[4],c1[5],c1[6])}var bD=T.length;I.moveTo(X,T[2],T[3]);for(var k=0;k<bD;k+=6){var hH=T[(k+4)%bD],R=T[(k+5)%bD],fR=T[(k+6)%bD],j4=T[(k+7)%bD],C=T[(k+8)%bD],ib=T[(k+9)%bD];
I.curveTo(X,hH,R,fR,j4,C,ib)}I.closePath(X);T=[]}else if(z.endsWith("/Version"))Y=parseFloat(z[0])}var cy=$.ni();
cy.VN|=16;cy.rK("<Mesh>");var co=cy.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));co.strokeEnabled.v=!1;
if(e.length>=2){var hV=0,il=0,h6=0;for(var k=0;k<e.length;k++)for(var aC=k+1;aC<e.length;aC++){var c8=e[k][0],fx=e[aC][0],bU=c8[0]-fx[0],b6=c8[1]-fx[1],iF=c8[2]-fx[2],dY=Math.sqrt(bU*bU+b6*b6+iF*iF);
if(dY>h6){h6=dY;hV=k;il=aC}}var bl=e[hV],dc=e[il],hN=cy.add.GdFl=w(0,[[0,bl[0]],[1,dc[0]]]),ga=a(X.ctm),b1=ga.pm(new gZ(bl[1],bl[2])),fc=ga.pm(new gZ(dc[1],dc[2])),h9=B.H.t0(X.pth.crds);
b1.x=(b1.x+fc.x)/2;b1.y=(b1.y+fc.y)/2;B.X.o6(b1,fc,h9,hN)}U(cy,X.pth,$);$.b.push(cy);I.newPath(X)}function w(r,X){var $=JSON.parse(ci.D6[ci.order.indexOf("GrFl")]),I=$.Grad.v;
I.Intr.v=0;$.Type.v.GrdT=["Lnr","Rdl"][r];B.X.q2(X,I);return $}function i(r){return r.slice(r.indexOf("(")+1,r.indexOf(")"))}function M(r,X){r.Rd.v=X[0]*255;
r.Grn.v=X[1]*255;r.Bl.v=X[2]*255}function N(r){var X=[];for(var k=0;k<r.length;k++)X[k]=parseFloat(r[k].slice(1));
return X}function a(r){return new e3(r[0],r[1],r[2],r[3],r[4],r[5])}function o(r){return UDOC.C.cmykToRgb(r)}function U(r,X,$){r.add.vmsk=new q.IQ;
if(X.crds.length!=0)r.add.vmsk.Y=V(X);r.GL();r.p8($)}function V(r){var X={t:r.crds,C:r.cmds},$=B.H.yL(X,!1);
return $}function c(r,X){var $=[X._begin],I=X._end-X._begin,T=I,e=X.Raster,K=0;if(e){for(var k=0;k<e.length;
k++){var F=e[k].Data;if(F==null)break;var y=F._begin+32,h=F._end;if(y>h)y=h;$.push(y,h);T-=h-y}}$.push(X._end);
var Y=new Uint8Array(T);for(var k=0;k<$.length;k+=2){var y=$[k],z=$[k+1]-y;Y.set(new Uint8Array(r.buffer,y,z),K);
K+=z}return j.KA(Y).split(/\r\n|\r|\n/)}function E(r,X){if(r==null)return[];var $=c(X,r),I="",T="",e=0,F;
for(var k=2;k<$.length;k++){var y=$[k];if(y[0]=="%"){if(e==0)I+=y.slice(1);else T+=y.slice(1)}else if(y==";")e++;
else if(y.endsWith("/RulerOrigin ,"))F=y.split(" ").slice(0,2).map(parseFloat)}var h=[I,T],Y=[];for(var k=0;
k<2;k++){var K=h[k],z=new Uint8Array(K.length);j.Wu(z,0,K);var f=FromPS.F.ASCII85Decode({buff:z,off:0}),s=gV.Z6(f);
Y.push(s)}Y.push(F);return Y}function A(r,X){if(r==null)return[];var $=c(X,r);$=$.slice(1);for(var k=0;
k<$.length;k++){var I=$[k];if(I[0]=="%")$[k]=I.slice(I[1]=="_"?2:1)}var T=x($);return T}function Q(r,X){var $={};
if(r==null)return $;for(var k=0;k<r.length;k++){var I=c(X,r[k]),T=I[1],e=i(T),F=T.slice(T.indexOf(")")+2).split(" ").map(parseFloat),y=[];
for(var h=2;h<I.length;h++)y.push(I[h].slice(2));$[e]={PH:F,OB:y}}return $}function J(r,X){var $={},I,T;
if(r==null)return $;var e=[];for(var k=0;k<r.length;k++){var F=c(X,r[k]);for(var y=0;y<F.length;y++){var h=F[y];
if(h[0]=="("){var Y=h.split(")");I=Y[0].slice(1);var K=Y[1].split(" ");T=parseInt(K[1])}else if(h.endsWith("%_BS")){var Y=h.split(" "),l,g=1;
Y.pop();Y=Y.map(parseFloat);var z=Y.pop(),f=Y.pop(),s=Y.pop();if(s==0)l=[Y[0],Y[0],Y[0]];else if(s==2||s==4)l=[Y[4],Y[5],Y[6]];
else if(s==1||s==3)l=o(Y);else if(s==6){if(Y.length==3)l=[Y[0],Y[0],Y[0]];else l=o(Y);g=Y.pop()}else{throw s}e.push([z/100,l,g,f/100])}else if(h=="BD"){for(var H=0;
H<e.length-1;H++)e[H][3]=e[H+1][3];e.sort(function(O,C){return O[0]-C[0]});$[I]={MJ:T,ao1:e};e=[]}}}return $}function L(r){var X="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),$=Date.now(),I=0,T=[],e={Header:{}},F=[e],y=r.length;
while(I<y){var h=I;while(h!=y&&r[h]!=13&&r[h]!=10){h++}if(r[I]==37&&r[I+1]==95&&r[I+2]==37)I+=2;if(r[I]==37&&(r[I+1]==37||r[I+1]==65)){var Y=j.gw(r,I,h-I);
if(Y=="%%EndComments"||Y=="%EndComments"||Y=="%AI5_Begin_NonPrinting"||Y=="%AI5_End_NonPrinting--"||Y.startsWith("%AI17_Begin_Content_if_version_gt")||Y=="%AI17_End_Versioned_Content"){}else{var K=Y.indexOf("Begin"),z=Math.max(Y.indexOf("_End"),Y.indexOf("%End"));
if(K!=-1){var f=Y.slice(K+5).split(":")[0],s={_begin:I,_end:I},l=F[F.length-1];if(X.indexOf(f)!=-1){if(l[f]==null)l[f]=[];
l[f].push(s)}else{if(l[f]!=null){console.log(F);throw Y}l[f]=s}F.push(s);if(Y.startsWith("%%BeginData")){h=j.BR(r,"%%EndData",I)}else if(Y=="%AI9_BeginDocumentData")h=j.BR(r,"%AI9_EndDocumentData",h);
else if(Y=="%AI11_BeginTextDocument")h=j.BR(r,"%AI11_EndTextDocument",h)}else if(z!=-1){F.pop()._end=I}else if(F.length==1&&(Y.startsWith("%AI")||Y.startsWith("%%")&&Y.indexOf(" ")!=-1)){var g=1;
if(Y.startsWith("%AI"))while(Y[g]!="_"&&g<Y.length)g++;var H=Y.indexOf(":");if(H==-1)H=Y.indexOf(" ");
var O=Y.slice(g+1,H),C=Y.slice(H+1).trim();e.Header[O]=C}}}I=h;if(r[I]==13)I++;if(r[I]==10)I++}return e}function P(r,X){var $=Date.now(),I=new Uint8Array(r),T,e=I[2]==68;
if(X)console.log(!e?"EPS":"PDF");if(e){var F=j.BR(I,"/AIMetaData "),R=!1,fR=!1;while(I[F]!=60)F--;F--;
var y=j.BR(I,">>",F),h=j.gw(I,F+2,y-F-2).split("/"),Y=[];for(var k=0;k<h.length;k++){var K=h[k],z=K.startsWith("AIPrivateData"),f=K.startsWith("AIPDFPrivateData");
if(!z&&!f)continue;var s=K.trim().split(/\s+/),l=parseInt(s[1]),g=parseInt(s[0].slice(z?13:16));Y.push([g,l])}if(X)console.log("--- map made",Date.now()-$);
$=Date.now();var H=FromPDF.indexOfXref(I),O=[],C=FromPDF.readXrefTrail(I,H,O),ib={buff:I,off:0},hH=new Array(Y.length),j4=F;
for(var k=0;k<Y.length;k++){var g=Y[k][0],l=Y[k][1],cP=FromPDF.getIndirect(l,0,ib,O),a8=cP.buff,d0=cP["/Filter"],b9=0;
if(d0!=null&&typeof d0=="string")d0=[d0];var jG=j.gw(a8,b9,b9+20);if(jG=="%AI12_CompressedData"){b9+=20;
R=!0}else if(jG=="%AI24_ZStandard_Data"){b9+=20;fR=!0}a8=new Uint8Array(a8.buffer,a8.byteOffset+b9,a8.length-b9);
if(d0)for(var jP=0;jP<d0.length;jP++){var aq=d0[jP];if(aq=="/FlateDecode")a8=pako.inflate(a8);else if(aq=="/ASCIIHexDecode")a8=FromPS.F.HexDecode({buff:a8,off:0});
else if(aq=="/ASCII85Decode")a8=FromPS.F.ASCII85Decode({buff:a8,off:0});else throw aq}hH[g-1]=a8}if(X)console.log("--- arrays found",Date.now()-$);
$=Date.now();var gM=j.gw(hH[0],0,13);if(gM=="%%BoundingBox"||gM=="%AI7_Thumbnai")hH=hH.slice(1);if(gM=="%AI24_ZStanda"){hH[0]=hH[0].slice(20);
fR=!0}if(j.gw(hH[0],0,13)=="%AI12_Compres"){hH[0]=hH[0].slice(20);R=!0}T=u(hH);if(X)console.log("--- concatenated",Date.now()-$);
$=Date.now();if(R)T=UZIP.inflate(T);if(fR)T=eF.lT.$b(T);if(X)console.log("--- inflated",Date.now()-$);
$=Date.now()}else{var gv=j.KA(I);if(gv.indexOf("%AI5_BeginLayer")!=-1){T=I}else{var dT=gv.split(/[\n\r]+/),aC=[],c1=!1;
for(var aj=0;aj<dT.length;aj++){var bD=dT[aj].trim();if(bD=="%AI9_PrivateDataEnd"){c1=!1;break}else if(bD=="%AI9_DataStream"||bD=="%AI24_DataStream"){c1=!0}else if(c1)aC.push(bD.slice(1))}var cy=j.TJ(aC.join("")),co=FromPS.F.ASCII85Decode({buff:cy,off:0});
if(co[0]==120&&co[1]==156)T=UZIP.inflate(co);else T=eF.lT.$b(co)}}return T}function u(r){var X=0,I=0;
for(var k=0;k<r.length;k++)X+=r[k].length;var $=new Uint8Array(X);for(var k=0;k<r.length;k++){var T=r[k];
$.set(T,I);I+=T.length}return $}function m(r,X){for(var k=0;k<X.length;k++)if(r.startsWith(X[k]))return!0;
return!1}function x(r){var X=[],$=[],top=-1,I,T=null,e=null,F=0;for(var y=0;y<r.length;y++){var h=r[y];
if(I){h=I+h;I=null}var Y="\t".repeat(X.length);if(T!=null){T.push(h);if(h.endsWith("~>")){var K=j.TJ(T.join("")),z=FromPS.F.ASCII85Decode({off:0,buff:K});
X.push(z);$.push(!1);top++;T=null}}else if(e!=null){if(h=="X+"){if(F==1){X.push(e);$.push(!1);top++;
e=null}else F--}else if(h=="X=")F++;else e.push(h)}else if(h=="/Binary : /ASCII85Decode ,"){T=[]}else if(h=="X="){e=[];
F++}else if(h=="/SVGFilter :"||h=="; /Def ;")continue;else if(h.startsWith("/")&&h[1].toUpperCase()!=h[1].toLowerCase()){if(h.startsWith("/XMLUID")){var f=v(h);
if($[top])throw"e";X[top][f[4]]=f[2]}if(h.startsWith("/GObjRef")){var f=v(h);if(!$[top])throw"e";X[top].push(f[2])}else{var s=h.startsWith("/Array")||h.startsWith("/Document");
X.push(s?[]:{});$.push(s);top++}}else if(h.endsWith(",")){var l,g,f=v(h);f.pop();if(f[0]==";"||f.length==1){g=X.pop();
$.pop();top--;l=$[top]?null:f.pop()}else{l=$[top]?null:f.pop();var H=f.pop(),O=f[0];if(H=="/Int")g=parseInt(O);
else if(H=="/Real")g=parseFloat(O);else if(H=="/Bool")g=O=="1";else if(H=="/String"||H=="/UnicodeString")g=f.join("");
else if(H=="/RealMatrix"||H=="/RealPoint"||H=="/RealPointRelToROrigin")g=f.map(parseFloat);else throw H}if($[top])X[top].push(g);
else X[top][l]=g}else if(h==";"){}else if(h==""){}else{if(h.indexOf("/RealPoint")!=-1){}else if(h.startsWith("(")&&h.endsWith(")")){}else if(h.endsWith("/RealMatrix")){}else throw h;
I=I?I+h:h}}return X}function v(r){var X=0,$=[];while(X<r.length){var I=r[X],T=I.charCodeAt(0);if(I==" ")X++;
else if(I==","||I==";"||I==":"){$.push(I);X++}else if(I=="("){var e=X+1;while(!(r[e]==")"&&r[e-1]!="\\"))e++;
var F=r.slice(X+1,e);$.push(F);X=e+1}else if(I=="/"||I=="-"||48<=T&&T<=57){var e=X;while(r[e]!=" ")e++;
$.push(r.slice(X,e));X=e}else throw I}return $}function W(r){var X="";for(var k=0;k<r.length;k++){if(r[k]=="_"&&r[k+1]=="x"){var cQ=parseInt(r.slice(k+2,k+4),16);
X+=String.fromCharCode(cQ);k+=4}else if(r[k]=="_")X+=" ";else X+=r[k]}return X}function Z(r){var X="xmlnode-nodename",$="xmlnode-nodevalue",I="xmlnode-attributes",T="xmlnode-children",e=r[X],F=r[I],y=r[T],h={_nam:e};
for(var Y in F){var K=F[Y];if(Object.keys(K[I]).length!=0||K[T].length!=0)throw"e";if(K[X]!=Y)throw"e";
h[Y]=K[$]}if(y.length==0)return h;var z=h.cln=[];for(var k=0;k<y.length;k++)z.push(Z(y[k]));return h}return D}();
var G={};G.F=function(D){return window.devicePixelRatio||1};G.Bk=function(D,n){return(n.aof=="touch"?12:4)*G.F()/D.s.V};
G.ou=function(D,n,_){this.name=D;this.id=n;this.d2=null;if(_!=null)this.h7=_};G.ou.prototype.KV=function(D,n,_,b,w){};
G.ou.prototype.enable=function(D,n,_,b,w,i){var M=new ho(S.E.W,!0);M.data={d:S.J.f4,rl:"default"};n.c(M)};
G.ou.prototype.disable=function(D,n,_,b,w){};G.ou.prototype.Q6=function(D,n,_,b,w){return!1};G.ou.prototype.EE=function(D,n,_,b,w){};
G.ou.prototype.yW=function(D,n,_,b,w){};G.ou.prototype.cp=function(D,n,_,b,w){};G.ou.prototype.m_=function(D,n,_,b,w,i){};
G.ou.prototype.nq=function(D,n,_,b,w){};G.ou.prototype.EL=function(D,n,_,b){};G.ou.prototype.Zc=function(D,n,_,b){};
G.ou.prototype.pS=function(D,n){};G.ou.prototype.k5=function(D,n){};G.ou.prototype.fV=function(D,n,_,b,w){};
G.ou.prototype.gB=function(D,n){};G.ou.prototype.$z=function(D,n){return!1};G.ou.prototype.Xn=function(D,n){return!1};
G.ou.prototype.oX=function(){return!1};G.ou.prototype.RH=function(D,n){return!0};G.ou.prototype.BV=function(){return null};
G.ou.prototype.Mv=function(D,n,_){};G.ou.prototype.T4=function(){return!1};G.ou.prototype.cb=function(D,n,_,b){};
G.ou.prototype.track=function(D){var n=new ho(S.E.$W,!0);n.data=D;D.rw=!0;this.d2.c(n)};G.ou.cf=function(D,n,_,b){var w=10*G.F()*(D.aof=="touch"?2:1),i=D.x+w,M=D.y-w;
G.ou.Sc(i,M,[io.get([12,41]).charAt(0)+": "+B.Hj.Yh(n.l,_.Cn,b,_.l,!0),io.get([12,42]).charAt(0)+": "+B.Hj.Yh(n.e,_.Cn,b,_.e,!0)],_)};
G.ou.Sc=function(D,n,_,b){var w=G.F(),i=Math.round,M=i(11*w),N=i(100*w),a=i((_.length*14+5)*w),o=new gl(D,n-a,N,a),U=G.ou.u1;
if(U==null)U=G.ou.u1=document.createElement("canvas");U.width=N;U.height=a;var V=U.getContext("2d");
V.fillStyle="rgba(0,0,1,1)";V.fillRect(0,0,N,a);V.font=M+"px monospace";V.fillStyle="rgba(255,255,255,1)";
for(var k=0;k<_.length;k++)V.fillText(_[k],i(4*w),i((k+1)*13*w));var c=[V.getImageData(0,0,N,a).data,o.clone()];
if(b)b.D.Tf=[c];return c};G.ou.u1=null;G.GZ="0";G.xm="1";G.acD="2";G.a6$="3";G.rI="5";G.a4U="6";G.abv="7";
G.x5="8";G.O3="9";G.nk="10";G.pq="11";G.hA="12";G.iV="13";G.Uw="14";G.w4="16";G.zt="18";G.uW="19";G.It="20";
G.hW="21";G.gT="22";G.hP="23";G.GF="24";G.vB="25";G.zM="27";G.nD="31";G.aqn="32";G.abJ="34";G.asz="35";
G.P2="36";G.rS="37";G.iY="38";G.fg="39";G.r3="40";G.E9="41";G.x3="42";G.iI="43";G.vu="47";G.Q5="48";
G.ND="51";G.JF="52";G.i4="54";G.sS="55";G.Jl="56";G.NJ="57";G.xf="58";G.GN="59";G.agv="60";G.TS="61";
G.Cz="70";G.pr="100";G.c1="101";G.m9="102";G.YW="103";G.vN="120";G._x="230";G.ao0="231";G.rX="232";G.vp="233";
G.EB="234";G.mg="235";G.Q0="236";G.Ti=function(D){var n=G.Jt,_=null;for(var b in n)if(n[b][1].indexOf(D[1].classID)!=-1)_=b;
return _};G.Jt={};G.Jt[G.hP]=["tools/brush",["PbTl"]];G.Jt[G.GF]=["tools/pencil",["PcTl"]];G.Jt[G.nD]=["tools/eraser",["ErTl"]];
G.NF=function(D,n,_){G.ou.call(this,D,n,_);this.zm={brush:D?iu.kw():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Wc=null;this.Ey=null;this.Ak=null;this._6=null;this.Kd=null;this.QL=null;this.uD=null;this.sq=null;
this.UD=null;this.dz=null;this.FB=null;this.wC=null;this.dD=null;this.qy=1;this.il=!1;this.T8=null;this.caller=null};
G.NF.prototype=new G.ou;G.NF.prototype.Xn=function(D,n){return D.Xt&&n.j(dz.CO)};G.NF.prototype.yW=function(D,n,_,b,w){if(b.j(dz.u9)){this.QL=new gZ(w.x,w.y);
var i=this.zm.brush.Brsh.v,M=i.Dmtr.v.val,N=i.Hrdn!=null?i.Hrdn.v.val:-1;this.uD=[M,N,!0,JSON.parse(JSON.stringify(this.zm.brush)),w];
this._y(_)}};G.NF.prototype.$S=function(D,n,_){var b=this.uD,w=D.s.V,i=_.x-b[4].x,M=_.y-b[4].y,N=b[0],a=b[1],o=Math.abs(i)>Math.abs(M);
if(o&&b[2]){var U=Math.round(2*i/w);N+=U;_.x-=i-.5*U*w}if(!o&&!b[2]&&a!=-1){var U=Math.round(.25*M);
a+=U;_.y-=M-4*U}N=Math.max(1,N);a=b[1]==-1?-1:Math.max(0,Math.min(100,a));var V=b[3];V.Brsh.v.Dmtr.v.val=N;
if(a!=-1)V.Brsh.v.Hrdn.v.val=a;this.uD=[N,a,o,V,_];var c=eg.uM(V,n.LF.Nb,w),E=c[1];E.x=Math.round(this.QL.x-E.l/2);
E.y=Math.round(this.QL.y-E.e/2);D.D._H=[c];var A=D.s.it(this.QL.x,this.QL.y);D.D.yt={FL:[],L9:[A.x-N/2,A.y,A.x+N/2,A.y]};
if(a!=-1)D.D.yt.L9.push(A.x+50/w,A.y-a/2,A.x+50/w,A.y+a/2);D.cF=!0};G.NF.prototype.nq=function(D,n,_,b,w){if(this.id==G.It||this.id==G.hW)return;
if(this.QL){this.QL=null;this.JN(JSON.parse(JSON.stringify(this.uD[3])));D.D._H=[];D.D.yt=null;D.cF=!0;
return}var i=new ho(S.E.W,!0);i.data={d:S.J.NG,g:this.id,a1f:"showBrushOpts",RX:new gZ(w.oh+4,w.aK)};
n.c(i)};G.NF.prototype.JN=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.VS,hy:da.nQ,Gu:D};this.caller.c(n)};
G.NF.Zh=function(D,n,_,b,w,i){if(D==null)D="FrgC";if(n==null)n="norm";if(_==null)_=1;if(w==null)w=!1;
var M={classID:"Fl",Usng:{t:"enum",v:{FlCn:D}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(_*100)}},PrsT:{t:"bool",v:w},Md:{t:"enum",v:{BlnM:jz.j0(n)}}};
if(D=="Clr")M.Clr={t:"Objc",v:b};if(D=="contentAware")M.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(D=="Ptrn")M.Ptrn={t:"Objc",v:i};return{_L:"fill",cR:M}};G.NF.prototype.KV=function(D,n,_,b,w){this.d2=n;
var i=_.xo.length;if(i==0&&!_.yP())return;var M=i!=0?-1-_.xo[0]:_.w[0],N=_.b[M];if(D.d=="fromAction"){var a=D.QV,o=a.cR;
if(o&&o.null&&o.null.v[0]&&o.null.v[0].v.classID=="Path"){var U=_.DZ(),V=U[0],c=U[1],E=V[c.length==0?0:c[0]].add.vmsk;
if(a._L=="fill"){var A=E.us(),Q=w.EH,J=this.zm,L=Q>>16&255,P=Q>>8&255,u=Q>>0&255;this.jc(_,N,A,L,P,u,Math.round(J.opacity*255),J.bmode,"Fill Path")}else{for(var m=0;
m<1e3;m++){var x=B.$.ay(E.Y,m,!0);if(x==-1){this.m_(_,n,w,b,null);break}var v=E.Y[x],W=E.Y.slice(x,x+1+v.length),Z=B.H.a8(W,!0).t,r=Z.slice(0,8);
for(var X=8;X<Z.length;X+=6)r.push(Z[X-2],Z[X-1],Z[X],Z[X+1],Z[X+2],Z[X+3],Z[X+4],Z[X+5]);var $={};$.Points=r;
$.TextOnPathTRange=E.OJ.slice(0);var $=h8.st($,2),I=$[0];if(m==0)this.EE(_,n,w,b,_.s.TO(I[0],I[1]));
else this.Ey.moveTo(I[0],I[1]);for(var k=2;k<I.length;k+=2){var T=_.s.TO(I[k],I[k+1]);T.Xt=!0;this.cp(_,n,w,b,T,this.zm.flow)}}}}else if(a._L=="fill"){var e=o.PrsT?o.PrsT.v:!1,F=N?N.add.lspf:0;
if(e&&N){N.add.lspf=F==null?1:F|1}var y=(o.Opct?o.Opct.v.val:100)/100,h=o.Md?jz.GV(o.Md.v.BlnM):"norm",Y=o.Usng.v.FlCn;
if(Y=="contentAware"){if(_.q==null){alert("Select an area to heal first.");return}if(!_.yP())return;
this.Ig(_);this.mh(_,0);var K=_.q,z=B.U(K.rect.u()*4);B.tD(K.channel,z,3);this.he(_,"sheal",z,K.rect,K.rect);
this.G(_,K.rect);this.finish(_,K.rect)}else if(Y=="Ptrn"){var f=w.wI,s=_.q?_.q.rect.clone():new gl(0,0,_.l,_.e),l=B.U(s.u()*4);
aL.Ad(o,l,s,f,new gZ(0,0));this.pX(_,N,_.q,l,"norm",[6,48,0,2])}else{var Q;if(Y=="FrgC")Q=w.EH;else if(Y=="BckC")Q=w.Cp;
else if(Y=="Blck")Q=0;else if(Y=="Wht")Q=16777215;else if(Y=="Gry")Q=8421504;else if(Y=="Clr"){var g=B.X.kj(o.Clr.v);
Q=g.p<<16|g.z<<8|g.S}var L=Q>>16&255,P=Q>>8&255,u=Q>>0&255;this.jc(_,N,_.q,L,P,u,Math.round(255*y),h,[2,3])}if(e&&N){N.add.lspf=F==null?0:F}}else if(a._L=="delete"){var H=M<0?1:N.P8,K=_.q,hH;
if(K==null)return;var O=M<0?_.wK[-M-1]:H<=0?null:H==1?N.us():N.tr(_).v,s=H<=0?N.rect:O.rect,C=H<=0?K.rect.zE(s):K.rect.clone();
if(C.hk())return;var ib=C.u();if(H<=0){hH=B.U(ib*4);B.E3(N.buffer,N.rect,hH,C)}else{hH=B.U(ib);O.extend(C);
B.I4(O.channel,O.rect,hH,C)}if(0<=M&&N.Zr(_,K)){if(H<=0){B.o5(hH,0);B.E3(N.AN.PH,N.AN.dV,hH,C)}else{hH.fill(255);
B.I4(N.AN.PH,N.AN.dV,hH,C)}}else{if(H<=0){var R=B.U(hH.length>>2);B.Ef(hH,R,3);B.a.HT(B.ae(K.rect.u()),K.rect,R,C,K.channel,C,1);
B.tD(R,hH,3)}else{var fR=B.U(K.rect.u()),L=w.Cp>>>16&255,P=w.Cp>>8&255,u=w.Cp>>0&255;fR.fill(Math.round(B.cu(L,P,u)));
B.a.HT(fR,K.rect,hH,C,K.channel,C,1)}}this.JK(_,!0,[2,2],M,H,C,hH)}}if(D.d=="stroke"){var j4=D.aa7,K=_.q;
if(K==null){K={rect:N.rect.clone(),channel:B.U(N.rect.u())};B.Ef(N.buffer,K.channel,3)}var cP=aL.nW(j4),a8=G.fq.km(K,Math.ceil(cP[0]),Math.ceil(cP[1])),Q=B.X.kj(j4.Clr.v),L=Math.round(Q.p),P=Math.round(Q.z),u=Math.round(Q.S);
this.jc(_,N,a8,L,P,u,Math.round(255*j4.Opct.v.val/100),jz.GV(j4.Md.v.BlnM),[14,9])}if(D.d=="fillBMP"){this.pX(_,N,_.q,D.w5,D.BS,D.Ln)}if(D.d=="draw"){var d0=D.uq,b9=d0.rect;
this.Ig(_);var jG=_.b[_.w[0]];if(D.alQ&&jG&&jG.P8<=0&&_.xo.length==0){b9=G.oM.cV(d0,_);jG.buffer=d0.buffer.slice(0);
jG.rect=b9.clone()}else{var jP=this.zm.bmode;this.zm.bmode="norm";this.he(_,"draw",d0.buffer,b9,b9.zE(new gl(0,0,_.l,_.e)));
this.zm.bmode=jP}this.G(_,b9);_.HH=!0;this.finish(_,b9,D.Ln,D.alQ)}};G.NF.prototype.jc=function(D,n,_,b,w,i,M,N,a){var o=_==null?new gl(0,0,D.l,D.e):_.rect,U=M<<24|i<<16|w<<8|b<<0,V=B.U(o.u()*4);
B.o5(V,U);this.pX(D,n,_,V,N,a)};G.NF.prototype.pX=function(D,n,_,b,w,i){var M=D.xo.length!=0?-1-D.xo[0]:D.w[0],N=M<0?1:n.P8,a=M<0?D.wK[-1-M]:N<=0?null:N==1?n.us():n.tr(D).v,o=N<=0?n.rect:a.rect,U=_==null?new gl(0,0,D.l,D.e):_.rect,V=_==null?B.zl(D.l*D.e):_.channel,c=U.u(),E,A=null;
if(N<=0){E=B.U(c*4);B.E3(n.buffer,n.rect,E,U)}else{E=B.U(c);a.extend(U);B.I4(a.channel,a.rect,E,U)}if(_!=null)B.Aq(V,b);
if(N>0){A=B.U(c);B.hE(b,A)}if(0<=M&&_&&n.Zr(D,_)){var Q=n.AN.Aa,J=n.AN.Aa.slice(0);if(N<=0)B.nb(b,J);
else B.nb(A,J);var L=new jv([2,3],this);L.data={d:"drawtemp",i:D.w[0],q6:N,a5u:Q,a02:J};D.$i(L);this.pS(L.data,D)}else{if(N<=0){var P;
if(n.Nd(0)){P=B.U(U.u());B.Ef(E,P,3)}B.a.dG(w,b,U,E,U,U,1);if(n.Nd(0))B.tD(P,E,3)}else B.a.HT(A,U,E,U,V,U,1);
this.JK(D,!0,i,M,N,U,E)}};G.NF.prototype.$z=function(D){if(dz.aY.indexOf(D)!=-1)return!0;return!1};G.NF.prototype.EL=function(D,n,_,b){var w=this.zm.brush,i=b.j(dz.u9),M=i!=this.il,N=G.NF.rV(w,b);
if(N!=null)this.JN(N);if(!b.j(dz.uH)&&b.su()!=-1){var a=dz.qg(Math.round(this.zm.opacity*100),b.su())/100;
this.av({opacity:a},n)}if(this.id==G.x5&&M&&D!=null){var o=this.zm.qsmode;if(o==2)o=D.q==null?0:1;else o=2;
this.av({qsmode:o},n)}this.il=i;if(M){if(D)this.qy=D.s.V;this._y(_,b)}};G.NF.rV=function(D,n){var _=D.Brsh.v.Dmtr.v.val,b=D.Brsh.v.Hrdn!=null?D.Brsh.v.Hrdn.v.val:-1,w=_,i=b,M=n.j(dz.CO);
if(n.j(dz.H3)){if(M)b=25*Math.floor((b-1)/25);else{if(_<=10)_--;else if(_<=50)_=5*Math.floor((_-1)/5);
else if(_<=100)_=10*Math.floor((_-1)/10);else if(_<=200)_=25*Math.floor((_-1)/25);else if(_<=400)_=50*Math.floor((_-1)/50);
else _=100*Math.floor((_-1)/100)}}if(n.j(dz.nL)){if(M)b=25*Math.ceil((b+1)/25);else{if(_<10)_++;else if(_<50)_=5*Math.ceil((_+1)/5);
else if(_<100)_=10*Math.ceil((_+1)/10);else if(_<200)_=25*Math.ceil((_+1)/25);else if(_<400)_=50*Math.ceil((_+1)/50);
else _=100*Math.ceil((_+1)/100)}}_=Math.max(1,_);b=Math.max(0,Math.min(100,b));if(i==-1)b=-1;if(_!=w||b!=i){var N=JSON.parse(JSON.stringify(D));
N.Brsh.v.Dmtr.v.val=_;if(i!=-1)N.Brsh.v.Hrdn.v.val=b;return N}return null};G.NF.prototype._y=function(D,n,_,b){if(D.LF.list.length==0)return;
var w=this.id,i;if((w==G.zM||w==G.uW||w==G.hP||w==G.GF)&&(n!=null&&n.j(dz.u9)||this.zm.alt[0]))i="crosshair";
else{var M=this.qy,N=this.zm.brush;if((w==G.zM||w==G.uW)&&_&&this.wC&&this.wC.length==this.FB.u()*4){var a=_.s.it(b.x,b.y),o=this.K0(a),U=this.wC,V=this.FB,c=new gl(V.x+o.x,V.y+o.y,V.l,V.e),E=eg.uM(N,D.LF.Nb,M),A=E[0],Q=E[1],J=Math.ceil(Q.l/M),L=new gl(Math.round(a.x-J/2),Math.round(a.y-J/2),J,J),P=B.U(L.u()*4),u,m;
B.E3(U,c,P,L);if(M==1){u=P;m=L}else{var x=new e3(M,0,0,M,0,0),v=G.Q.XB([P,L],x,!0);m=Q.clone();m.x=v.rect.x;
m.y=v.rect.y;if(m.l8(v.rect))u=v.buffer;else{u=B.U(m.u()*4);B.E3(v.buffer,v.rect,u,m)}}var W=this.zm.opacity/255;
for(var k=0;k<u.length;k+=4)u[k+3]=W*(A[k+3]*u[k+3]);eg.aqx(new Uint32Array(u.buffer),m,4278190080,4294967295);
i={kg:u,Kj:m,YZ:new gZ(m.l/2,m.e/2)}}else i=eg.cs(N,D.LF.Nb,M,w==G.vB)}var Z=new ho(S.E.W,!0);Z.data={d:S.J.f4,rl:i};
if(this.caller)this.caller.c(Z)};G.NF.prototype.enable=function(D,n,_,b){this.Wc=_;this.caller=n;this.JN(JSON.parse(JSON.stringify(this.zm.brush)));
if(D&&D.s.V!=0)this.qy=D.s.V;this._y(_,b)};G.NF.prototype.gB=function(D,n){if(n==da.nQ){this.zm.brush=D.LF.fd;
this._y(D)}};G.NF.prototype.fV=function(D,n,_,b,w){for(var i in D)this.zm[i]=D[i];if(this.zm.alt[0])this._y(w,b,_)};
G.NF.prototype.Fq=function(D){var n=D.xo.length!=0?-1-D.xo[0]:D.w[0],_=D.b[n],b=n<0?1:_.P8,w=n<0?D.wK[-n-1]:b<=0?null:b==1?_.us():_.tr(D).v,i=w?w.channel:_.buffer,M=(w?w.rect:_.rect).clone();
return[_,b,w,i,M]};G.NF.prototype.Ig=function(D,n){this.dD=D.q==null?null:{rect:D.q.rect.clone(),channel:D.q.channel.slice(0)};
var _=this.Fq(D),b=_[0],w=_[1],i=_[2];this.dz=_[3];this.UD=_[4];var M=new gl(0,0,D.l,D.e),N=M.Ik(this.UD);
if((this.Y7()&&w<=0||N.l8(this.UD))&&n!=!0)this.dz=this.dz.slice(0);else{if(i)i.extend(N);else b.extend(N)}};
G.NF.prototype.mh=function(D,n){var _=this.Fq(D),b=_[1],w=_[3],i=_[4],M=[w,i],N=n!=null?n:this.zm.sfrom;
if(b<=0&&N!=0){M[1]=new gl(0,0,D.l,D.e);M[0]=D.iS(N==1&&D.w[0]!=D.b.length-1?D.w[0]:null).slice(0)}this.FB=M[1].clone();
this.wC=M[0].slice(0)};G.NF.prototype.SQ=function(D,n,_){if(D.j(dz.u9)){var b=new ho(S.E.M,!0);b.g=G.Uw;
b.data={d:"pickhere",a9c:_};n.c(b);return!0}return!1};G.NF.prototype.gY=function(D,n,_,b,w,i){if(this.id!=G.x5&&!D.yP(this.caller)){this.Ey=null;
return}if(this.id!=G.x5&&this.Ey)return;this.Ig(D);var M=new gl(0,0,D.l,D.e),N=null;if(i!=null){var a=D.xo.length!=0?-1-D.xo[0]:D.w[0],o=D.b[a],U=a<0?D.wK[-a-1]:o.P8<=0?null:o.P8==1?o.us():o.tr(D).v;
N=B.U(M.u()*4);if(U)G.NF.g2(this.dz,this.UD,U.color,N,M);else B.E3(this.dz,this.UD,N,M)}var V=this.zm;
if(this.Ey&&this.id==G.x5&&V.qsmode!=0&&D.q!=null){}else{var c=n.EH,E=n.Cp;if(this.T8=="erase"){var A=c;
c=E;E=A}var Q=this.id==G.x5?this.UD:M;this.Ey=new eg(V.brush,n.LF.Nb,n.LF.bn,{d8:w,yR:i,asj:V.smth*50/D.s.V,ML:this.id==G.GF||V.emode==1,Al:V.prsr},c,E,Q,N)}if(this.id==G.x5){this.Ey.a8Q(V.brush,V.qsmode==2?0:16777215)}var J=D.s.it(b.x,b.y);
if(_.j(dz.CO)&&this.Ak){var L=this.Ak;this.Ey.moveTo(L.x,L.y,b.PL);this.Ey.lineTo(.001*L.x+.999*J.x,.001*L.y+.999*J.y,b.PL);
this.Ey.lineTo(J.x,J.y,b.PL)}else this.Ey.moveTo(J.x,J.y,b.PL);this.Ak=J;this._6=J.clone();this.Kd=new eO(J,D.s.Qv)};
G.NF.prototype.bA=function(D,n,_){if(D&&D.s.V!=0&&D.s.V!=this.qy){this.qy=D.s.V;this._y(_)}};G.NF.prototype.FT=function(D,n,_,b){if(this.Ey==null)return;
var w=D.b[D.w[0]],i=D.s.it(b.x,b.y),M=this.Kd.fm(i,_);if(M.l8(this.Ak))return 1;this.Ey.lineTo(M.x,M.y,b.PL);
this.Ak=M;if(this.id==G.zM||this.id==G.uW){var N=this.xE(),a=11;N=D.s.TO(i.x-N.x,i.y-N.y);var o=a>>>1,U=new gl(Math.round(N.x)-o,Math.round(N.y)-o,a,a),V=B.U(U.u()*4);
B.o5(16777215);for(var k=0;k<a;k++)V[(k*a+o)*4+3]=V[(a*o+k)*4+3]=255;D.D.Tf=[[V,U]];D.cF=!0}};G.NF.prototype.Zc=function(D,n,_,b){if(_.ey!=this.id)return;
if(this.id!=G.x5||D==null)return;if(D.q==null||D.w[0]!=this.aug){this.aug=D.w[0];this.av({qsmode:0},n)}};
G.NF.prototype.G=function(D,n){if(D.xo.length!=0){D.cF=!0;return}var _=D.b[D.w[0]];if(n==null){n=this.Ey.tb();
if(this.Y7()&&_.P8<=0)n=n.zE(this.UD)}if(n.hk())return;if(_.P8<=0){_.G(n)}if(_.P8==1){_.us().Vk=!0;_.p8(D)}if(_.P8==3){_.G()}D.G(D.root.RE(n,D,D.w[0],!0))};
G.NF.prototype.m_=function(D,n,_,b,w){if(this.Ey==null)return;this.Ey.finish();if(this.id!=G.zt&&this.id!=G.uW&&this.id!=G.x5)this.xq(D);
if(this.id==G.zM||this.id==G.uW){D.D.Tf=[];D.cF=!0}if(this.id==G.x5){var i=D.q;D.q=this.dD;var M=new ho(S.E.M,!0);
M.data={d:"setsel",Ln:this.name,q:i};M.g=G.xm;n.c(M);if(this.zm.qsmode==0)this.av({qsmode:1},n)}else{this.finish(D,this.Ey.X6());
this.Ey=null;this.sq=null}this.dir=0};G.NF.prototype.av=function(D,n){for(var _ in D)this.zm[_]=D[_];
var b=new ho(S.E.W,!0);b.data={d:S.J.NG,g:this.id,TK:D};n.c(b)};G.NF.prototype.Y7=function(){var D=this.id;
return D==G.x5||D==G.nD||D==G.fg||D==G.r3||D==G.E9||D==G.gT};G.NF.prototype.finish=function(D,n,_,b,w){var i=D.xo.length!=0?-1-D.xo[0]:D.w[0],M=D.b[i],N=i<0?1:M.P8,a=i<0?D.wK[-i-1]:N<=0?null:N==1?M.us():M.tr(D).v,o=a?a.rect:M.rect,c;
if(this.Y7()||!o.l8(this.UD)){if(a==null){if(this.Y7())M.B2();else{var U=n.Ik(this.UD),V=B.U(U.u()*4);
B.E3(M.buffer,M.rect,V,U);M.buffer=V;M.rect=U}}else a.B2();this.G(D,o)}if(N<=0){c=B.U(n.u()*4);B.E3(this.dz,this.UD,c,n)}else{c=B.U(n.u());
c.fill(a.color);B.I4(this.dz,this.UD,c,n)}this.JK(D,!1,_?_:this.name,i,N,n,c,b,w)};G.NF.prototype.JK=function(D,n,_,b,w,i,M,N,a){var o=M;
if(w>0){o=B.U(i.u()*4);G.NF.g2(M,i,0,o,i)}var U=new jv(_,this);U.data=[{i:b,q6:w,Kj:i,j3:o}];if(N)U.data.uB=[D.q,null];
if(a)U.data.uB=[this.dD,D.q];D.$i(U);if(n)this.pS(U.data,D);else if(N)D.q=null;G.S4.io(D,U.data)};G.NF.prototype.k5=function(D,n){this.Ps(D,n,!1)};
G.NF.prototype.pS=function(D,n){this.Ps(D,n,!0)};G.NF.prototype.Ps=function(D,n,_){if(D.d=="drawtemp"){var b=_?D.a02:D.a5u,w=n.b[D.i];
w.AN.Aa=b;w.JA(n,0,0,n.q);w.G();n.HH=!0}else{G.S4.PN(n,D);if(D.uB){n.q=D.uB[_?1:0];n.oT=!0}}n.G()};G.NF.prototype.xq=function(D){this.he(D,this.T8,this.Ey.Mn(),this.Ey.YL(),this.Ey.tb());
this.G(D)};G.NF.prototype.he=function(D,n,_,b,w){var i=this.zm,M=D.b[D.w[0]],N=D.xo.length!=0?D.wK[D.xo[0]]:M.P8<=0?null:M.P8==1?M.us():M.tr(D).v,a=B.U(w.u()*4),o,U=M.Nd(0);
if(N==null){if(this.id==G.hW&&n=="heal")B.E3(M.buffer,M.rect,a,w);else B.E3(this.dz,this.UD,a,w);if(U){o=B.U(w.u());
B.Ef(a,o,3)}}else{G.NF.g2(this.dz,this.UD,N.color,a,w)}if(D.q&&n!="qselect"){var V=w.zE(D.q.rect),c=B.U(V.u()*4);
if(n=="copy"){var E=B.U(V.u());B.I4(D.q.channel,D.q.rect,E,V);B.E3(a,w,c,V);B.a.ih(_,b,c,V,E,V,0,V,1,!1)}else{B.E3(_,b,c,V);
B._B(D.q.channel,D.q.rect,c,V)}_=c;b=V}function A(L,jP){var gM=Math.max(jP.x,Math.min(jP.x+jP.l-1,L.x)),gv=Math.max(jP.y,Math.min(jP.y+jP.e-1,L.y));
return new gZ(gM,gv)}if(n=="idraw"||n=="ierase"){if(this.sq==null)this.sq=B.U(this.UD.u());var Q=this.zm.samp,J=this.Wc.Cp,L=A(this.Ak,w),P=Q==0?L:this._6,u=P.x,m=P.y,x=G.Kx.cz(this.dz,this.UD,[P,new gZ(u-2,m),new gZ(u+2,m),new gZ(u,m-2),new gZ(u,m+2)]);
if(Q==2)x=[[J>>>16&255,J>>>8&255,J>>>0&255,255]];var v=G.Kx.o1(a,w,L,x,this.zm.wconf),W=B.U(w.u());B.I4(this.sq,this.UD,W,w);
B.$c.Ik(v,W,W);B.I4(W,w,this.sq,this.UD);B._B(W,w,_,b);n=n.slice(1)}if(n=="erase"&&(G.S4.SB(D)!=16777215||N))n="draw";
if(n=="draw")B.a.dG(i.bmode,_,b,a,w,w,i.opacity);else if(n=="erase"){var Z=B.U(w.u()*4);B.E3(_,b,Z,w);
if(N==null){var r=B.U(w.u());B.Ef(Z,r,3);B.P_(r,i.opacity);B.ei(r);B._B(r,w,a,w)}else{B.o5(Z,0,4278190080);
B.a.dG("norm",Z,w,a,w,w,i.opacity)}}else if(n=="clone"||n=="heal"){var X=this.xE(),$=this.FB.clone();
$.offset(X.x,X.y);var I=w.clone();I.Iq(1,1);var T=B.U(I.u()*4),e=B.U(I.u());B.E3(_,b,T,I);B.Ef(T,e,3);
B.o5(T,0);if(N==null){B.E3(this.wC,$,T,I);var F=B.U(I.u());B.Ef(T,F,3);B.G4(F,e)}else G.NF.g2(this.wC,$,N.color,T,I);
if(n=="clone"){B.tD(e,T,3);B.a.dG(i.bmode,T,I,a,w,w,i.opacity)}if(n=="heal"){var y=e.slice(0);B.round(y,20);
var h=B.U(I.u()*4);if(N==null)B.E3(this.dz,this.UD,h,I);else G.NF.g2(this.dz,this.UD,N.color,h,I);B.a.ih(T,I,h,I,y,I,0,I,1,!1);
B.jl.e5(h,y,I);B.a.ih(h,I,a,w,e,I,0,w,1,!1)}}else if(n=="dodge"||n=="burn"){var T=B.U(w.u()*4),z=1,f=0,s=0,l=0;
B.E3(_,b,T,w);var Y=w.u()*4,K=G.NF.jW;if(this.il){if(n=="dodge")n="burn";else n="dodge"}var g=i.rng;
if(n=="dodge"){f=[1-z/2,1,1+z][g];s=[1,1/(1+z),1][g];l=[z/2,0,0][g]}if(n=="burn"){f=[1/(1-z/2),1,1-z/2][g];
s=[1,1+z,1][g];l=[-(z/2)/(1-z/2),0,0][g]}for(var k=0;k<Y;k+=4){var H=T[k+3];a[k+0]=K(a[k+0],f,s,l,H);
a[k+1]=K(a[k+1],f,s,l,H);a[k+2]=K(a[k+2],f,s,l,H)}}else if(n=="sponge"||n=="redeye"){var T=B.U(w.u()*4),e=B.U(w.u());
B.E3(_,b,T,w);B.Ef(T,e,3);B.nb(a,T);var O=i.smode;if(this.il)O=1-O;var C=cq.D2("hue2");if(n=="sponge")bE.Pt(C,0,[0,[-50,46][O],[6,5][O]]);
else bE.Pt(C,1,{_f:[265,305,25,55],N5:[0,-90,-70]});var ib=fg.pG("hue2",C);fg.pe(ib,T,T,w);B.a.ih(T,w,a,w,e,w,0,w,1,!1)}else if(n=="copy")B.E3(_,b,a,w);
else if(n=="sheal"){var T=B.U(w.u()*4),e=B.U(w.u());B.E3(_,b,T,w);B.Ef(T,e,3);T.fill(0);var hH=this.wC,R=this.FB;
if(N){hH=B.U(R.u()*4);G.NF.g2(this.wC,R,0,hH,R)}var fR=B.Oe.e5(hH,R,e,T,w);if(fR!=0)B.E3(hH,R,T,w);if(this.zm.sfrom==0)B.E3(T,w,a,w);
else{B.E3(this.dz,this.UD,a,w);B.tD(e,T,3);B.a.dG("norm",T,w,a,w,w,1)}}else if(n=="qselect"){var j4=this.UD,cP=j4.l,a8=j4.e,d0=cP*a8,b9=this.Ey.Mn(),x=this.dz,jG=G.fq.jL,e=jG.IA;
e.fill(128);for(var k=0;k<d0;k++){var jP=b9[k<<2],aq=b9[(k<<2)+3];if(aq==255&&(jP==0||jP==255))e[k]=jP}e[0]=e[cP-1]=0;
e[(a8>>>1)*cP]=e[(a8>>>1)*cP+cP-1]=0;G.yc.uz(jG,!0);D.q={rect:j4,channel:jG.q.slice(0)};D.oT=!0}if(N==null){if(U)B.tD(o,a,3);
B.E3(a,w,M.buffer,M.rect)}else G.NF.W8(a,w,N)};G.NF.xE=function(){return null};G.NF.jW=function(D,n,_,b,w){var i=D*(1/255),M=b+n*Math.pow(i,_),N=Math.round(M*w+i*(255-w));
return Math.max(0,Math.min(255,N))};G.NF.g2=function(D,n,_,b,w){var i=B.U(w.u());i.fill(_);B.I4(D,n,i,w);
b.fill(255);B.hd(i,b)};G.NF.W8=function(D,n,_){var b=B.U(n.u());B.hE(D,b);B.I4(b,n,_.channel,_.rect)};
G.fq=function(D,n,_){G.ou.call(this,D,n,_);this.zm={binop:0,feat:0,cstr:{hH:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.BY=new gZ(-1,-1);this.pM=new gZ(-1,-1);this.ca="default";this.d2=null;this.aiv=!0;this.Bv=!1;this.CU=new j8;
this.ZD=!1;this.ij=null;this.iq=null;this.Es=!1;this.OZ=!1};G.fq.prototype=new G.ou;G.fq.prototype.ahO=function(){var D=this.zm,n=[D.binop,D.feat];
if(this.id==G.O3)n.push(D.wconf);return n};G.fq.prototype.aaP=function(D,n,_){var b=this.zm;b.binop=D[0];
b.feat=D[1];b.wconf=D[2];var w=new ho(S.E.W,!0);w.data={d:S.J.NG,g:this.id,zm:b};_.c(w)};G.fq.jL={key:""};
G.fq.M0=function(D,n,_){var b={_L:D,cR:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(n)b.cR.T=n;if(_!=null)b.cR.AntA={t:"bool",v:_};return b};G.fq.xX=function(D,n,_){return G.fq.M0("set",{t:"Objc",v:{classID:D,Top:{t:"UntF",v:{type:"#Pxl",val:n.y}},Left:{t:"UntF",v:{type:"#Pxl",val:n.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:n.y+n.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:n.x+n.l}}}},_)};
G.fq.Pe=function(D,n,_){var b=[],w=[],M="set";for(var k=0;k<D.length;k+=2){b.push(D[k]);w.push(D[k+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:b},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:w}]}}}};
if(n)M=["set","addTo","subtractFrom","interfaceWhite"][n];return G.fq.M0(M,i,_)};G.fq.agN=function(D,n,_){var b={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:D.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:D.y}}}},w=G.fq.M0("set",b);
w.cR.Tlrn={t:"long",v:n[0]};w.cR.AntA={t:"bool",v:n[1]};w.cR.Cntg={t:"bool",v:n[2]};if(_==!0)w.cR.Mrgd={t:"bool",v:_};
return w};G.fq.A8=function(D){return G.fq.M0("set",{t:"enum",v:{Ordn:D?"Al":"None"}})};G.fq.apf=function(D,n,_){var b={classID:"null"};
if(D!="border")b.selectionModifyEffectAtCanvasBounds={t:"bool",v:_};var w={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[D[0]];
b[w]={t:"UntF",v:{type:"#Pxl",val:n}};return{_L:D,cR:b}};G.fq.MG=function(D,n,_){var b={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},w={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n}}]};
if(_)w.v.push({t:"name",v:{classID:"Lyr",val:_}});var i=[{classID:"null",null:b,T:w},{classID:"null",null:w,T:b},{classID:"null",null:w,From:b},{classID:"null",null:w,With:b}],M=["set","add","subtract","interfaceIconFrameDimmed"];
return{_L:M[D],cR:i[D]}};G.fq.ZM=function(D,n){var _=new ho(S.E.W,!0);_.data={d:S.J.VS,hy:da.wS};if(!n.QX)D.c(_);
_.data={d:S.J.VS,hy:da.if};if(!n.BE.on)D.c(_)};G.fq.prototype.KV=function(D,n,_,b,w){G.fq.ZM(n,w);this.d2=n;
var i=D.d,M,N,a=new gl(0,0,_.l,_.e),hV=!1,il,h6,c8,fx;if(i=="fromAction"){var o=D.QV,U=o._L,V=o.cR,c=V?V.selectionModifyEffectAtCanvasBounds:null,E=c&&c.v;
if(U=="colorRange"){if(V.Clrs){var A=V.Clrs.v.Clrs,Q=0,J=255,L={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[A],P=V[L+"LowerLimit"],u=V[L+"UpperLimit"];
if(P)Q=P.v;if(u)J=u.v;var m=V[L+"Fuzziness"].v/100;M=G.fq.W0(_,Q,J,m,!0)}else{var Q=V.Mnm.v,J=V.Mxm.v,m;
Q={ue:Q.Lmnc.v,vd:Q.A.v,S:Q.B.v};J={ue:J.Lmnc.v,vd:J.A.v,S:J.B.v};m=V.Fzns.v/200;M=G.fq.W0(_,Q,J,m)}N=[7,8]}else if(U=="inverse"){if(_.q==null){alert("No selection!");
return}M={channel:B.U(a.u()),rect:a};B.I4(_.q.channel,_.q.rect,M.channel,M.rect);B.ei(M.channel);N=[7,2]}else if(U=="expand"){var x=V.By.v.val,v=_.q.rect.clone();
v.Iq(x,x);var W=B.U(v.u()),Z=B.U(v.u());B.I4(_.q.channel,_.q.rect,Z,v);B.style.stroke(Z,W,v,x);M={channel:W,rect:v};
N=[7,4]}else if(U=="contract"){var x=V.By.v.val,r=_.q.rect.clone();r.Iq(1,1);if(!E)r=r.zE(a);var Z=B.U(r.u()),X=B.U(Z.length);
B.I4(_.q.channel,_.q.rect,Z,r);B.ei(Z);B.style.stroke(Z,X,r,x);B.ei(X);M={channel:X,rect:r};B.B2(M);
N=[7,5]}else if(U=="border"){var x=V.Wdth.v.val;M=G.fq.km(_.q,x/2,x/2);N=[7,9]}else if(U=="feather"||U=="smoothness"){var x=V.Rds.v.val;
M=G.fq.c6(_.q,x,U=="smoothness",a,E);N=U=="feather"?[7,6]:[19,3,0]}else{var $=V.null.v,I=V.AntA!=null&&V.AntA.v;
function T(eK){var fm=eK.Top.v.val,dY=eK.Left.v.val;return new gl(dY,fm,eK.Rght.v.val-dY,eK.Btom.v.val-fm)}function e(eK){var fm=eK[0].arr,fG=eK[1].arr,ia={t:[],C:[]};
for(var k=0;k<fm.length;k++){ia.C.push(k==0?"M":"L");ia.t.push(fm[k],fG[k])}ia.C.push("Z");return ia}var F=["set","addTo","subtractFrom","interfaceWhite"].indexOf(U),y=V.T?V.T.v:null;
if(y&&y.classID=="Elps"){M=this.Eo(G.Hm.O9(T(y)));N=[10,4]}else if(y&&y.classID=="Rctn"){var h=T(y);
M={channel:B.U(h.u()),rect:h.clone()};M.channel.fill(255);N=[10,15]}else if(y&&y.classID=="ObSl"){var h=T(y),Y=G.fq.jL,K=Y.rect,z=Y.IA,f=K.l,s=K.e,l=h.x-K.x,g=l+h.l-1,H=Math.max(l,Math.min(g,l+g>>>1)),O=h.y-K.y,C=O+h.e-1,ib=Math.max(O,Math.min(C,O+C>>>1)),hH=Math.max(l,0),R=Math.min(g,f),fR=Math.max(O,0),j4=Math.min(C,s);
z.fill(128);if(0<=O)for(var cP=hH;cP<R;cP++)z[O*f+cP]=0;if(C<s)for(var cP=hH;cP<R;cP++)z[C*f+cP]=0;if(0<=l)for(var a8=fR;
a8<j4;a8++)z[a8*f+l]=0;if(g<f)for(var a8=fR;a8<j4;a8++)z[a8*f+g]=0;var d0=G.Am.gI,b9=Math.round(h.l*d0),jG=Math.round(h.e*d0);
for(var cP=Math.max(0,H-b9);cP<Math.min(f,H+b9);cP++)z[ib*f+cP]=255;for(var a8=Math.max(0,ib-jG);a8<Math.min(s,ib+jG);
a8++)z[a8*f+H]=255;G.yc.uz(Y,!0);M={channel:Y.q.slice(0),rect:K.clone()};N=[10,44]}else if(y&&y.classID=="Plgn"){M=this.Eo(e(y.Pts.v.arr));
N=[10,9]}else if(y&&y.classID=="Pnt"){M=G.Kx.gS(_,new gZ(y.Hrzn.v.val,y.Vrtc.v.val),[V.Tlrn.v,I,V.Cntg==null||V.Cntg.v],V.Mrgd?V.Mrgd.v:!1);
N=[10,12]}else if(y&&y.Ordn=="None"){M=null;N=[7,1]}else if(y&&y.Ordn=="Al"){var jP=a;if(_.w.length!=0){var aq=_.root.D5(_.w[0]);
while(aq.parent&&aq.parent.parent)aq=aq.parent;if(aq.i.add.artb)jP=aq.i.w3()}M={channel:B.U(jP.u()),rect:jP};
M.channel.fill(255);N=[7,0]}else if(y&&y[0]&&y[0].v.keyID=="WrPt"){var gM={d:"frompath",Pr:[-1,0,0]};
this.KV(gM,n,_,b,w);return}else{var gv=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(U),dT=U=="set"?y:$,aC=dT[0].v.enum,gM;
if(aC=="Trsp"||aC=="Msk"||aC=="vectorMask"||aC=="Trgt"){var c1=_.w[0];if(dT.length==2)c1=cT.VJ(_,dT[1]);
var aj=["Trsp","Msk","vectorMask"].indexOf(aC);if(aC=="Trgt"&&_.b[c1].P8==1)aj=1;gM={d:"fromlayer",Pr:[c1,aj,gv]}}else{if(dT[0].t=="name"){var c1=0;
for(var k=0;k<_.wK.length;k++)if(_.wK[k].name==dT[0].v.val)c1=k;gM={d:"fromchannel",Pr:[-5-c1,0,gv]}}else{var bD=["RGB","Rd","Grn","Bl"].indexOf(aC);
gM={d:"fromchannel",Pr:[-1-bD,0,gv]}}}this.KV(gM,n,_,b,w);return}if(!I&&M)B.round(M.channel);if(V.Fthr)M=G.fq.c6(M,V.Fthr.v.val,!1);
if(U!="set"&&_.q!=null)M=B.$c.vD(M,_.q,F)}if(U=="expand"||U=="contract")if(!E&&!a.contains(M.rect)){var cy=M.rect.zE(a),co=B.U(cy.u());
B.I4(M.channel,M.rect,co,cy);M.channel=co;M.rect=cy}}if(i=="qmask"){hV=!0;var bU=_.XH(),b6=new gl(0,0,_.l,_.e);
if(bU){M=bU.rect.l8(b6)&&B.FK(bU.channel,255)?null:{rect:bU.rect.clone(),channel:bU.channel.slice(0)};
il=bU}else{M=null;h6=new q.$L;h6.color=0;h6.name="Quick Mask";h6.Lr=!0;if(_.q){h6.rect=_.q.rect.clone();
h6.channel=_.q.channel.slice(0)}else{h6.rect=b6;h6.channel=B.U(h6.rect.u());h6.channel.fill(255)}}N=[6,6,1];
_.HH=!0}if(i=="setsel"){M=D.q;N=D.Ln}if(i=="crange"){var Q=D.ov,J=D.$k;M=G.fq.W0(_,Q,J,D.TT);N=[7,8]}if(i=="fromlayer"||i=="fromchannel"||i=="frompath"){var iF=D.Pr[0],aj=D.Pr[1],F=D.Pr[2];
if(i=="fromlayer"){if(iF==null)iF=_.w[0];var dY=_.b[iF];if(aj==0){var bl=dY.rect,dc=dY.buffer;if(bl.hk())return;
var hN=B.U(dc.length>>>2);B.Ef(dc,hN,3);M={channel:hN,rect:bl.clone()}}else{if(dY.v==null)dY.p8(_);var ga=aj==1?dY.us():dY.v;
M=G.fq.I8(ga,a)}this.track(G.fq.MG(F,["Trsp","Msk"][aj],dY.getName()))}else if(i=="frompath"){var b1=_.DZ(),fc=b1[1],b1=b1[0];
if(iF==null)if(b1.length==0||fc.length==0)return;var h9=b1[fc[0]];if(iF!=null)for(var k=0;k<b1.length;
k++)if(b1[k].gH==iF)h9=b1[k];var ga=h9.add.vmsk.us(),cB=ga.YL();if(cB.u()==0)return;var hN=ga.Ns();if(D.Pr[3]!=null)this.aiv=D.Pr[3];
if(this.aiv){hN=hN.slice(0);B.round(hN)}c8=[JSON.stringify(_.QP),JSON.stringify(_.F_)];fx=["[]","[]"];
_.QP=[];_.F_=[];M={channel:hN,rect:cB}}else{if(iF==null)iF=G.fq.MH(_);M=G.fq.n4(_,iF)}if(F!=0&&_.q)M=B.$c.vD(M,_.q,F);
N=[14,11]}if(M!=null&&B.FK(M.channel,0)){M=null;N=[7,1]}if(M)B.B2(M);var bp=new jv(N,this);bp.data={d:"changesel",dD:_.q,yr:M,XH:hV,a6J:il,a8z:h6,CP:c8,a2T:fx};
_.$i(bp);this.pS(bp.data,_)};G.fq.MH=function(D){var n=0;if(D.xo.length!=0)n=-5-D.xo[0];else if(JSON.stringify(D.s.qJ)=="[1,1,1]")n=-1;
else n=-2-D.s.qJ.indexOf(1);return n};G.fq.n4=function(D,n){var _,b=new gl(0,0,D.l,D.e);if(-5<n&n<0){var w=-n-1,i=D.iS(),M=B.U(b.u());
if(w==0)B.hE(i,M);else B.Ef(i,M,w-1);_={channel:M,rect:b.clone()}}if(n<-4){_=G.fq.I8(D.wK[-n-5],b)}return _};
G.fq.I8=function(D,n){var _,b;if(D.kj()==0){b=D.YL().clone();if(b.u()==0)return;_=D.Ns()}else{b=n;_=B.U(b.u());
D.xD(b,_)}return{channel:_,rect:b}};G.fq.prototype.Xn=function(D){return this.ZD||D.Xt&&this.id!=G.rI};
G.fq.prototype.Ye=function(D,n,_){var b=new ho(n,!0);b.data=_;D.c(b)};G.fq.prototype.jm=function(D,n){var _=new ho(S.E.W,!0);
_.data={d:S.J.f4,rl:n};D.c(_)};G.fq.prototype.YL=function(D,n,_){n=D.q==null||this.CU.eJ(1)||this.CU.pY(1)?n:null;
var b=this.BY,w=this.pM;if(_){b.x=Math.max(0,Math.min(D.l,b.x));b.y=Math.max(0,Math.min(D.e,b.y));w.x=Math.max(0,Math.min(D.l,w.x));
w.y=Math.max(0,Math.min(D.e,w.y))}var i=G.cD.UJ(b,w,n,!0,this.zm.cstr),M=i[0].x,N=i[0].y;return new gl(M,N,i[1].x-M,i[1].y-N)};
G.fq.prototype.EE=function(D,n,_,b,w){this.OZ=!0;if(this.G0())return;this.d2=n;this.Bv=!1;this.CU.EE(b);
this.BY=D.s.it(w.x,w.y);this.BY=G._s.Mr(D,this.BY,_);if(this.Dl(D,this.BY,b)){this.ZD=!0;this.ij=D.q.rect.clone();
return}this.l2(D,_,b,w);D.s.KZ=new gl};G.fq.prototype.Dl=function(D,n,_){var b=_.j(dz.CO),w=_.j(dz.u9);
if(D.q&&!b&&!w&&this.zm.binop==0)return B.ql(n,D.q.channel,D.q.rect);return!1};G.fq.prototype.cp=function(D,n,_,b,w){this.d2=n;
if(this.Es)return;var i=D.s.it(w.x,w.y);if(gZ._e(this.BY,i)*D.s.V>5){this.Bv=!0;this.CU.cp()}if(b.j(dz.FO)){if(this.iq==null)this.iq=new gZ(i.x-this.BY.x,i.y-this.BY.y);
this.BY.x=i.x-this.iq.x;this.BY.y=i.y-this.iq.y}else this.iq=null;this.pM=i;if(!this.ZD)this.pM=G._s.Mr(D,this.pM,_);
if(this.Dl(D,this.pM,b))this.jm(n,"move");else this.jm(n,this.ca);if(this.ZD){var M=this.ij.clone();
M.x+=this.pM.x-this.BY.x;M.y+=this.pM.y-this.BY.y;var N=G._s.Ei(D,M,_);D.q.rect.x=Math.round(this.pM.x-this.BY.x+this.ij.x+N[0]);
D.q.rect.y=Math.round(this.pM.y-this.BY.y+this.ij.y+N[1]);D.oT=!0;G._s.Xs(D,M,N);return}this.uK(D,_,b,w);
if(D.s.KZ)D.s.KZ=this.YL(D,b)};G.fq.prototype.G0=function(){return!1};G.fq.prototype.m_=function(D,n,_,b,w,i){var M=this.OZ;
this.OZ=!1;if(i||!M)return;D.s.KZ=null;this.pM=D.s.it(w.x,w.y);this.pM=G._s.Mr(D,this.pM,_);if(this.ZD){this.ZD=!1;
if(D!=null&&D.D.O0){D.D.O0=null;D.cF=!0}if(this.pM.l8(this.BY)&&this.aT()==0){this.Ye(n,S.E.$W,G.fq.A8());
return}this.zq(D,this.ij,D.q.rect.clone());return}this.R4(D,_,b,w);G.fq.ZM(n,_);this.CU.m_();this.Jf(n)};
G.fq.prototype.zq=function(D,n,_){var b=D.XN();if(b!=null&&b.g==this&&b.data.d=="movesel"){}else{b=new jv([7,7],this);
b.data={d:"movesel",GR:n};D.$i(b)}b.data.H7=_;this.pS(b.data,D)};G.fq.prototype.yW=function(D,n,_,b,w){this.Es=!0};
G.fq.prototype.nq=function(D,n,_,b,w){var i=new ho(S.E.W,!0);i.data={d:S.J.NG,g:this.id,Xd:w,zF:D,dO:_};
n.c(i);this.Es=!1};G.fq.prototype.EL=function(D,n,_,b){this.CU.EL(b);if(D!=null&&D.q!=null){var w=b.or();
if(w.x!=0||w.y!=0){var i=D.q.rect.clone();i.x+=w.x;i.y+=w.y;this.zq(D,D.q.rect.clone(),i)}}this.Jf(n)};
G.fq.prototype.Jf=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.NG,g:this.id,Rn:this.aT()};D.c(n)};
G.fq.prototype.aT=function(){var D=this.CU.eJ(0),n=this.CU.pY(0);return G.fq.Fl(this.zm.binop,D,n)};
G.fq.Fl=function(D,n,_){if(n)D=1;if(_)D=2;if(n&&_)D=3;return D};G.fq.prototype.finish=function(D,n,_,b){var w=D.q,i=this.getSelection(D,n,_,b);
if(i==null)i=G.fq.A8();else{var M=this.zm.feat,N=this.aT();if(M!=0)i.cR.Fthr={t:"UntF",v:{type:"#Pxl",val:M}};
if(N!=0&&N!=4)i._L=["","addTo","subtractFrom","interfaceWhite",""][N]}this.Ye(this.d2,S.E.$W,i);this.BY.bq(-1,-1);
this.pM.bq(-1,-1)};G.fq.prototype.getSelection=function(D,n,_,b){return null};G.fq.prototype.l2=function(D,n,_,b){};
G.fq.prototype.uK=function(D,n,_,b){};G.fq.prototype.R4=function(D,n,_,b){};G.fq.prototype.k5=function(D,n){var _=D.d;
if(_=="changesel")n.q=D.dD;if(_=="movesel")n.q.rect=D.GR;if(D.XH){if(D.a6J){n.xo=[n.wK.length];n.wK.push(D.a6J)}else{n.wK.pop();
n.xo=[]}}if(D.CP){n.QP=JSON.parse(D.CP[0]);n.F_=JSON.parse(D.CP[1])}n.oT=!0};G.fq.prototype.pS=function(D,n){var _=D.d;
if(_=="changesel")n.q=D.yr;if(_=="movesel")n.q.rect=D.H7;if(D.XH){if(D.a8z){n.xo=[n.wK.length];n.wK.push(D.a8z)}else{n.wK.pop();
n.xo=[]}}if(D.CP){n.QP=JSON.parse(D.a2T[0]);n.F_=JSON.parse(D.a2T[1])}n.oT=!0};G.fq.prototype.fV=function(D){this.zm=D.zm};
G.fq.prototype.Eo=function(D){var n=B.H.cx(D.t);if(n.hk())return null;var _=B.HY(n.l,n.e);_.save();_.beginPath();
_.translate(-n.x,-n.y);Typr.U.pathToContext({cmds:D.C,crds:D.t},_);_.closePath();_.fill();_.restore();
var b=B.U(n.u()),w=_.getImageData(0,0,n.l,n.e);B.Ef(w.data,b,3);return{rect:n,channel:b}};G.fq.c6=function(D,n,_,b,w){if(_)n=Math.round(n*.7);
var i=Math.ceil(2.6*n),M=D.rect.clone();M.Iq(i,i);if(b&&!w)M=M.zE(b);var N=B.U(M.u()),a=B.U(N.length);
B.I4(D.channel,D.rect,a,M);B.uE.Zt(a,N,M,n);if(_){var o=N.length;for(var k=0;k<o;k++){var U=(N[k]-128)*n*2.5;
N[k]=Math.max(0,Math.min(255,Math.round(128+U)))}}return{channel:N,rect:M}};G.fq.km=function(D,n,_){var b=Math.max(1,Math.ceil(_)),w=D.rect.clone();
w.Iq(b,b);var i=w.u(),M={channel:B.U(i),rect:w},N=B.U(i);B.I4(D.channel,D.rect,N,M.rect);if(_!=0)B.style.stroke(N,M.channel,M.rect,_);
else B.nb(N,M.channel);var a=B.U(i);B.ei(N);if(n!=0)B.style.stroke(N,a,M.rect,n);else B.nb(N,a);B.$c.zE(M.channel,a,M.channel);
return M};G.fq.W0=function(D,n,_,b,w){var i=new gl(0,0,D.l,D.e),M=D.iS();if(D.q){var N=D.q.rect.zE(i),a=B.U(N.u()*4);
B.E3(M,i,a,N);i=N;M=a}var o=i.u(),U=B.U(o),V=1/b;if(w){if(n>=_)n=_-1;var c=n*(1-b),E=n,A=_,Q=_+(255-_)*b,J=c==E?0:1/(E-c),L=A==Q?0:1/(Q-A);
for(var k=0;k<o;k++){var P=k<<2,u=B.cu(M[P],M[P+1],M[P+2]),m=0;if(u<c)m=0;else if(u<E)m=(u-c)*J;else if(u<=A)m=1;
else if(u<=Q)m=1-(u-A)*L;else m=0;U[k]=M[P+3]*m*m}}else for(var k=0;k<o;k++){var P=k<<2,x=B.aS(M[P],M[P+1],M[P+2]),m=B.xG(x,n,_,b,V);
U[k]=M[P+3]*m}return{rect:i,channel:U}};G.AJ=function(){G.NF.call(this,[10,18],G.P2,"tools/blur");this.T8="copy"};
G.AJ.prototype=new G.NF;G.AJ.prototype.EE=function(D,n,_,b,w){var i=b.j(dz.u9)?eg.UM:eg.P2;this.gY(D,_,b,w,this.zm.strn,i);
if(this.Ey==null)return;this.xq(D)};G.AJ.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.bk=function(){G.NF.call(this,[10,0],G.hP,"tools/brush");
this.T8="draw"};G.bk.prototype=new G.NF;G.bk.prototype.EE=function(D,n,_,b,w){if(this.SQ(b,n,w))return;
this.gY(D,_,b,w,this.zm.flow);if(this.Ey==null)return;this.xq(D)};G.bk.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);
if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.FP=function(){G.NF.call(this,[10,42],G.vB,"tools/crepl");
this.T8="idraw";this.zm.bmode="hue "};G.FP.prototype=new G.NF;G.FP.prototype.EE=function(D,n,_,b,w){if(this.SQ(b,n,w))return;
this.gY(D,_,b,w,this.zm.flow);if(this.Ey==null)return;this.xq(D)};G.FP.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);
if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.hh=function(){G.NF.call(this,[10,43],G.gT,"tools/redeye");
this.zm.smode=0;this.T8="redeye"};G.hh.prototype=new G.NF;G.hh.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,this.zm.flow);
if(this.Ey==null)return;this.xq(D)};G.hh.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.T3=function(){G.NF.call(this,[10,38],G.GF,"tools/pencil");
this.T8="draw"};G.T3.prototype=new G.NF;G.T3.prototype.EE=function(D,n,_,b,w){if(this.SQ(b,n,w))return;
this.gY(D,_,b,w,this.zm.flow);if(this.Ey==null)return;this.xq(D)};G.T3.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);
if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.Hf=function(){G.NF.call(this,[10,22],G.r3,"tools/burn");
this.T8="burn"};G.Hf.prototype=new G.NF;G.Hf.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,this.zm.expo/Math.E);
if(this.Ey==null)return;this.xq(D)};G.Hf.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.Hx=function(D,n,_){G.NF.call(this,D==""?null:D?D:[10,1],n?n:G.zM,_?_:"tools/clone");
this.T8="clone";this._F=null;this.r=null};G.Hx.prototype=new G.NF;G.Hx.prototype.EE=function(D,n,_,b,w){var i=this.zm,M=i.alt[0];
if(b.j(dz.u9)||b.j(dz.kS)||M){this._F=D.s.it(w.x,w.y);this.r=null;if(M)this.av({alt:[!1]},n);this.mh(D);
this._y(_,b,D,w);return}if(this._F==null){alert(io.get([15,7,0]));return}this._y(_,b);this.gY(D,_,b,w,this.zm.flow);
if(this.Ey==null)return;this.r=this.K0(D.s.it(w.x,w.y));this.xq(D)};G.Hx.prototype.K0=function(D){var n=this.r;
if(n==null||!this.zm.algnd)n=new gZ(Math.round(D.x-this._F.x),Math.round(D.y-this._F.y));return n};G.Hx.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);
if(this.QL)this.$S(D,_,w);if(this.Ey==null){if(this._F!=null)this._y(_,b,D,w);return}if(!w.Xt||this._F==null)return;
this.FT(D,_,b,w);this.xq(D)};G.Hx.prototype.xE=function(){return this.r};G.v1=function(D,n,_){G.ou.call(this,D,n,_);
this.kC={$w:{hH:0,x:0,y:0},VE:!1};this.nK=!1;this.aL=null;this.cursor=null;this.ab9=0;this.Qu=null;this.BY=null;
this.CR=null;this.yz=!1};G.v1.prototype=new G.ou;G.v1.prototype.oX=function(){return this.aL!=null};
G.v1.prototype.Xn=function(D){return this.BY!=null||this.aL&&this.aL.r8()};G.v1.prototype.EE=function(D,n,_,b,w){this.Qu=w;
var i=D.s.it(w.x,w.y);i.x=Math.round(i.x);i.y=Math.round(i.y);var M=this.kC.$w,N=M.hH!=0?M.x/M.y:null,a=this.yz;
this.yz=!1;if(this.aL){var o=this.aL.uu(i,D.s.V);if(a&&o==null){this.aL.clear(D);this.aL=null}else{this.aL.EE(D,_,b,i,N,!1,w);
return}}this.BY=G._s.Mr(D,i,_)};G.v1.prototype.lx=function(D,n,_){if(_==null)_=[D.x,D.y,D.x+D.l,D.y,D.x+D.l,D.y+D.e,D.x,D.y+D.e];
return new hc(_,!0,!1,this.id==G.pq,!0,n,this.id==G.pq?2:0,this.id==G.pq?4:3)};G.v1.prototype._y=function(D){var n=new ho(S.E.W,!0);
n.data={d:S.J.f4,rl:this.cursor};D.c(n)};G.v1.prototype.enable=function(D,n,_,b){this.d2=n;this.cursor="crosshair";
this._y(n);if(D!=null&&this.aL==null){var w=D.q?{Ed:"cropby",aqe:3}:{Ed:"config",kC:this.kC,anw:!0};
this.fV(w,n,D,b,_);if(D.q==null&&this.kC.$w.hH==0)this.yz=!0}};G.v1.prototype.cp=function(D,n,_,b,w){this.Qu=w;
var i=D.s.it(w.x,w.y);if(!w.Xt){var M="crosshair";if(this.aL){var N=this.aL.uu(i,D.s.V,null,w);if(N)M=N;
else M="default"}if(M!=this.cursor){this.cursor=M;this._y(n)}}if(this.aL)this.aL.cp(D,_,b,i);else if(this.BY){if(this.nK){D.D.oB={C:["M","L"],t:[this.BY.x,this.BY.y,i.x,i.y]}}else{var a=G.cD.UJ(this.BY,G._s.Mr(D,i,_),b,!0,this.kC.$w),o=a[0].x,U=a[0].y,V=this.CR=new gl(o,U,a[1].x-o,a[1].y-U);
D.D.oB=B.H.X0(V);G.ou.cf(w,V,D,_)}D.cF=!0}};G.v1.a95=function(D,n,_){var b,w,N,a;if(n<=_){b=n;w=_}else{b=_;
w=n}var i=D-Math.floor((D+Math.PI)/(2*Math.PI))*2*Math.PI;i=Math.abs(i);if(i>Math.PI/2)i=Math.PI-i;var M=b/(w*Math.sin(i)+b*Math.cos(i));
if(n<=_){N=b*M;a=w*M}else{N=w*M;a=b*M}return{Wj:N,Rw:a}};G.v1.prototype.m_=function(D,n,_,b,w){this.Qu=w;
var i=D.s.it(w.x,w.y);if(this.aL==null){var M=this.CR;if(this.BY&&(M||this.nK)){if(this.nK){var N=this.BY,a=i;
if(N.x>a.x){var o=N;N=a;a=o}var N=Math.atan2(-(a.y-N.y),a.x-N.x),U=G.v1.a95(N,D.l,D.e),V=[0,0,U.Wj,0,U.Wj,U.Rw,0,U.Rw],c=new e3;
c.translate(-U.Wj/2,-U.Rw/2);c.rotate(N);c.translate(D.l/2,D.e/2);B.H.A(V,c,V);this.aL=this.lx(M,!1,V);
D.D.oB=null;this.nK=!1}else{var E=this.kC.$w;this.aL=this.lx(M,E.hH!=0)}this.aL.BG(D,_);this.CR=null;
this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Jo:!0});this.BY=null;D.D.Tf=[];D.cF=!0}return}this.aL.m_(D,_,b,i);
this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Jo:!0});var V=this.aL.Yr();if(Math.abs(V[0]-V[4])<2&&Math.abs(V[1]-V[5])<2){this.disable(D,n,null,b);
return}if(Date.now()-this.ab9<200&&this.aL.Hg(i)){this.At(D,_);this.disable(D,n,_,b);return}this.ab9=Date.now()};
G.v1.prototype.EL=function(D,n,_,b){var w=this.aL;if(w==null||this.Qu&&this.Qu.Xt)return;if(b.j(dz.Eb)){this.At(D,_);
this.disable(D,n,_,b)}else if(b.j(dz.Gt)){this.disable(D,n,_,b)}else w.EL(D,_,b)};G.v1.Ls=function(D,n,_){var b={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:D[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:D[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:D[1]+D[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:D[0]+D[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:n!=null?n:0}},Dlt:{t:"bool",v:_!=null?_:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{_L:"crop",cR:b}};G.v1.wR=function(D,n){if(n==null)n=[!0,!0,!0,!0];var _={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][D]}}},b=["Top","Left","Btom","Rght"];
for(var k=0;k<4;k++)_[b[k]]={t:"bool",v:n[k]};return{_L:"trim",cR:_}};G.v1.XQ=function(D,n,_,b){var w={classID:"null"};
if(b!=null){w.Wdth={t:"UntF",v:{type:"#Pxl",val:D}};w.Hght={t:"UntF",v:{type:"#Pxl",val:n}};w.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][b]}}}if(_!=null)w.Rslt={t:"UntF",v:{type:"#Rsl",val:_}};
return{_L:"imageSize",cR:w}};G.v1.Ic=function(D,n,_){if(_==null)_=4;var b=Math.floor(_/3),w=_%3;return{_L:"canvasSize",cR:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:D}},Hght:{t:"UntF",v:{type:"#Pxl",val:n}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][w]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][b]}}}}};
G.v1.prototype.KV=function(D,n,_,b,w){var i=new gl(0,0,_.l,_.e),M=[11,3],N=_.Cn,a=_.l/2,o=_.e/2,U=1,H,O;
if(D.d=="fromAction"){var V=D.QV,c=V._L,E=V.cR,A=_.l/_.e,Q=E.Wdth?E.Wdth.v.val:-1,J=E.Hght?E.Hght.v.val:-1,N=E.Rslt?E.Rslt.v.val:null,L=E.Wdth?E.Wdth.v.type:E.Hght?E.Hght.v.type:-1,P=1,u;
if(L=="#Prc"){if(Q!=-1)Q=Math.round(_.l*Q/100);if(J!=-1)J=Math.round(_.e*J/100)}if(c=="imageSize"){if(E.Intr){if(E.Intr.v.Intp=="Nrst")P=0;
if(E.Intr.v.Intp=="bicubicSharper")P=2;if(Q==-1&&J==-1){var m=N/_.Cn;Q=Math.round(_.l*m);J=Math.round(_.e*m)}if(E.CnsP&&E.CnsP.v){if(Q==-1)Q=Math.round(J*A);
if(J==-1)J=Math.round(Q/A)}}else{if(L=="#Prc")N=Math.round(_.Cn*(_.l/Q));else if(L==-1)N=Math.round(N);
else throw"e";Q=_.l;J=_.e}u={d:"imgsize",jO:Q,bO:J,qp:N,zu:P}}else if(c=="canvasSize"){if(Q==-1)Q=_.l;
if(J==-1)J=_.e;if(E.Rltv&&E.Rltv.v==!0){if(E.Wdth)Q+=_.l;if(E.Hght)J+=_.e}var x=E.Vrtc?E.Vrtc.v.VrtL:"Cntr",v=E.Hrzn?E.Hrzn.v.HrzL:"Cntr";
u={d:"canvsize",jO:Q,bO:J,ui:3*["Top","Cntr","Btom"].indexOf(x)+["Left","Cntr","Rght"].indexOf(v)}}else if(c=="revealAll"){u={d:"revealAll"}}else if(c=="trim"){var W={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[E.trimBasedOn.v.trimBasedOn];
if(W==null)throw"e";var Z=["Top","Left","Btom","Rght"],r=[!0,!0,!0,!0];for(var k=0;k<4;k++)if(E[Z[k]])r[k]=E[Z[k]].v;
u={d:"trim",af8:W,E7:r}}else if(c=="crop"){var X,$,I,T;if(E.T){var e=E.T.v,X=Math.round(e.Left.v.val),$=Math.round(e.Top.v.val),I=Math.round(e.Rght.v.val)-X,T=Math.round(e.Btom.v.val)-$}else{var F=_.b[_.w[0]],y=F.rect;
y=y.zE(new gl(0,0,_.l,_.e));X=y.x;$=y.y;I=y.l;T=y.e}u={d:"canvsize",jO:I,bO:T,r:new gZ(X,$),a9L:E.Dlt!=null&&E.Dlt.v}}else console.log(V);
if(u)this.KV(u,n,_,b,w);return}else if(D.d=="imgsize"){i=new gl(0,0,D.jO,D.bO);if(D.qp)N=D.qp;U=D.zu}else if(D.d=="canvsize"){var h=D.ui!=null?D.ui:0;
i=new gl(0,0,D.jO,D.bO);var Y=_.l-D.jO,K=_.e-D.bO,z=Math.round(Y/2),f=Math.round(K/2);if(h==1||h==4||h==7)i.x=z;
if(h==2||h==5||h==8)i.x=Y;if(h==3||h==4||h==5)i.y=f;if(h==6||h==7||h==8)i.y=K;if(D.r){i.x=D.r.x;i.y=D.r.y}}else if(D.d=="rot"&&(D.k+2*Math.PI)%(Math.PI/2)!=0){var s=B.H.X0(i).t,l=new e3;
l.translate(-a,-o);l.rotate(D.k);l.translate(a,o);B.H.A(s,l,s);i=B.H.cx(s)}else if(D.d=="rot"&&D.k!=Math.PI&&D.k!=-Math.PI){i=new gl(a-_.e/2,o-_.l/2,_.e,_.l);
if((_.l+_.e&1)==1){a=Math.floor(a);o=Math.floor(o);i=new gl(a-Math.floor(_.e/2),o-Math.floor(_.l/2),_.e,_.l);
if((_.l&1)==1&&D.k!=-Math.PI/2)i.y--;if((_.e&1)==1&&D.k==-Math.PI/2)i.x--}}else if(D.d=="trim"){M=[11,12,0];
var g=_.iS(),y=new gl(0,0,_.l,_.e);i=B.lb(g,y,D.af8,D.E7);if(i.hk())i=y}else if(D.d=="cropbysel"){M=[11,12,1];
i=_.q.rect.clone()}else if(D.d=="revealAll"){M=[11,12,2];i=_.root.YL(_,!0)}var C=D.d=="canvsize"&&D.a9L;
if(D.d=="imgsize"||D.d=="rot"||D.d=="scl"||C){var ib=new e3;if(D.d=="imgsize"){M=[11,10];ib.scale(D.jO/_.l,D.bO/_.e)}else if(C){}else{ib.translate(-a,-o);
if(D.d=="rot")ib.rotate(D.k);if(D.d=="scl")ib.scale(D.k.x,D.k.y);ib.translate(a,o);M=D.Ln}O=B.N.ug(ib);
H=this.Cg(_,w,!0,O,U,C?i:null)}else if(D.d=="auto-align"){if(_.w.length<2){alert("Select two or more layers.");
return}var hH=[];for(var k=0;k<_.w.length;k++){var F=_.b[_.w[k]];if(!F.V6()&&F.add.SoLd==null){alert("Unsupported layer selected.");
return}if(F.rect.hk()){alert("Empty layer selected.");return}hH.push([F.buffer,F.rect])}var R=B.Fw.xK(hH,0);
if(R==null){alert("No similarity found.");return}O=R[1];var fR=_.w;_.w=_.w.slice(1);H=this.Cg(_,w,!1,R.slice(1),U);
_.w=fR;i=_.root.YL(_,!0);M=[2,10,1]}var j4=new gl(0,0,_.l,_.e);if(!i.hk()&&(!i.l8(j4)||H!=null)){var cP=new jv(M,this);
cP.data={a9f:_.Cn,qp:N,$C:H,wk:O,Xv:G.v1.pA(_,i,j4,H!=null)};G.v1.Gn(_,cP.data,i);_.$i(cP);this.pS(cP.data,_)}};
G.v1.pA=function(D,n,_,b){if(D.wX.length==0)return null;var w=JSON.stringify(D.wX),i=JSON.parse(w);G.dL.ao8(i,n,_,b);
i=JSON.stringify(i);return[w,i]};G.v1.prototype.Cg=function(D,n,_,b,w,i){var M={b:[],uF:null,MX:null};
if(_){for(var k=0;k<D.b.length;k++)M.b.push(k);for(var k=0;k<D.yE.length;k++)M.b.push(-1-k);for(var k=0;
k<D.wK.length;k++)M.b.push(-1e3-k)}else M.b=D.w.slice(0);M.uF=G.Q.cO(D,M.b,!0);G.Q.wt(D,n,M.b,M.uF,w,b,null,!0,i);
M.MX=G.Q.cO(D,M.b,!0);return M};G.v1.prototype.pS=function(D,n){if(D.qp)n.Cn=D.qp;if(D.Xv)n.wX=JSON.parse(D.Xv[1]);
if(D.$C){G.v1.Tx(n,B.N.vI(D.wk));G.Q.kv(n,D.$C.b,D.$C.MX)}G.v1.d$(n,D)};G.v1.prototype.k5=function(D,n){if(D.a9f)n.Cn=D.a9f;
if(D.Xv)n.wX=JSON.parse(D.Xv[0]);G.v1.HA(n,D);if(D.Z4)n.s.r.$U(D.Z4);n.al2();if(D.$C){var _=B.N.vI(D.wk).clone();
_.ei();G.v1.Tx(n,_);G.Q.kv(n,D.$C.b,D.$C.uF)}};G.v1.Tx=function(D,n){for(var k=0;k<D.b.length;k++){var _=D.b[k];
if(_.add.artb==null)continue;var b=B.H.X0(_.w3()).t;B.H.A(b,n,b);var w=B.H.cx(b);_.Cx(w)}};G.v1.Gd=function(D){var n=new gl,_=0,b=D.root.children.length;
for(var k=0;k<b;k++){var w=D.root.children[k].i;if(w.add.artb==null)continue;n=n.Ik(w.w3());_++}var i=new gl(0,0,D.l,D.e);
if(!n.hk()&&!i.l8(n)&&b==_)return n;return null};G.v1.Md=function(D){var n=G.v1.Gd(D);if(n)G.v1.VE(D,n,!0);
return n};G.v1.VE=function(D,n,_){var b=D.l,w=D.e,i=n.l,M=n.e,N=n.x==0&&n.y==0;if(N&&b==i&&w==M)return;
D.l=i;D.e=M;var a=[];for(var k=0;k<D.b.length;k++)a.push(k);if(!N)G._s.NE(D,a,null,-n.x,-n.y);for(var k=0;
k<D.b.length;k++){D.b[k].p8(D)}D.al2();if(_){var o=D.s.r,U=D.s.V;o.x+=Math.round((n.x+(i-b)/2)*U);o.y+=Math.round((n.y+(M-w)/2)*U)}else D.s.r.bq(0,0);
if(D.q)D.q.rect.offset(-n.x,-n.y);var V=D.l$();for(var c=0;c<V[0].length;c++)if(V[1][c]==-1){var E=D.eu[c];
E[1]-=E[0]==0?n.x:n.y}for(var k=0;k<D.wK.length;k++)D.wK[k].rect.offset(-n.x,-n.y)};G.v1.prototype.fV=function(D,n,_,b,w){if(D.Ed=="commit"){this.At(_,w);
this.disable(_,n,null,b)}else if(D.Ed=="cancel"){this.disable(_,n,null,b)}var i=null,M=new gl(0,0,_.l,_.e),N=this.kC.$w;
if(D.Ed=="config"){this.kC=D.kC;N=this.kC.$w;if(_==null||!D.anw)return;i=M;if(N.hH==1){var a=N.x/N.y;
if(i.l/a<i.e)i.e=Math.round(i.l/a);else i.l=Math.round(i.e*a)}if(N.hH==2){i.l=N.x;i.e=N.y}i.x=Math.round((_.l-i.l)/2);
i.y=Math.round((_.e-i.e)/2)}if(D.Ed=="straighten"){alert("Draw a line in the image.");this.nK=!0}if(D.Ed=="cropby"){if(_==null)return;
var o=D.aqe,i;if(o==0)i=_.root.YL(_,!0);if(o==1){if(_.w.length==0)alert("No layer is selected.");else{var U=_.root.D5(_.w[0]);
i=U.YL(_,!0)}}if(o==2){if(_.w.length==0)alert("No layer is selected.");else{i=B.lb(_.iS(),M,0);if(i.hk())i=M.clone()}}if(o==3){if(_.q!=null)i=_.q.rect;
else alert("There is no selection.")}if(o==4){i=new gl(0,0,_.l,_.e)}}if(i&&i.hk())i=null;if(i!=null){this.aL=this.lx(i,N.hH!=0);
this.aL.BG(_,w);this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Jo:!0})}};G.v1.prototype.At=function(D,n){var _=this.aL.Yr(),b=B.H.cx(_),w=this.agL(D,_),i=!1,M=this.kC.$w,N=this.kC.VE,a=M.x,o=M.y,c;
if(this.id==G.nk&&M.hH==2&&w.u()!=a*o){w=new gl(w.x,w.y,a,o);i=!0}var U=B.N.Ng(_,w);U=B.N.ei(U);var V=B.N.YN(U),E=Math.atan2(U[3],U[0]);
if(Math.abs(E)>1e-9||!V||i||N)c=this.Cg(D,n,!0,U,1,b);var A=new jv(this.name,this),Q=new gl(0,0,D.l,D.e);
A.data={$C:c,wk:U,Z4:D.s.r.clone(),Xv:G.v1.pA(D,w,Q,!1)};G.v1.Gn(D,A.data,w);D.$i(A);this.pS(A.data,D);
this.track(G.v1.Ls([b.x,b.y,b.l,b.e],null,N))};G.v1.Gn=function(D,n,_){if(_==null)return;n.GR=new gl(0,0,D.l,D.e);
n.H7=_};G.v1.d$=function(D,n){if(n.H7==null)return;G.v1.VE(D,n.H7)};G.v1.HA=function(D,n){if(n.H7==null)return;
var _=n.GR.clone();_.offset(-n.H7.x,-n.H7.y);G.v1.VE(D,_)};G.v1.prototype.agL=function(D,n){var _=B.N.Ng(n),b=B.N.YN(_),w=B.N.vI(_),i=w.oE,M=w.LE,N=Math.atan2(w.S,w.vd);
w.rotate(N);var a=new gl(i,M,w.vd,w.Ww);if(!b){function o(u,k,m){var x=u[k]-u[m],v=u[k+1]-u[m+1];return Math.sqrt(x*x+v*v)}var U=o(n,0,2),V=o(n,4,6),c=Math.max(U,V),E=o(n,2,4),A=o(n,6,0),Q=Math.max(E,A),J=G.v1.a6M(n,D.l/2,D.e/2),L,P;
if(isNaN(J)||J==Infinity||J==-Infinity||Math.min(J,1/J)<.1)J=(U+V)/(E+A);if(c/Q>J){L=c*1;P=L/J}else{P=Q*1;
L=P*J}a.l=L;a.e=P}a.x=Math.round(a.x);a.y=Math.round(a.y);a.l=Math.round(a.l);a.e=Math.round(a.e);return a};
G.v1.a6M=function(D,n,_){var b=D[0]-n,w=D[1]-_,i=D[2]-n,M=D[3]-_,N=D[6]-n,a=D[7]-_,o=D[4]-n,U=D[5]-_,V=((w-U)*N-(b-o)*a+b*U-w*o)/((M-U)*N-(i-o)*a+i*U-M*o),c=((w-U)*i-(b-o)*M+b*U-w*o)/((a-U)*i-(N-o)*M+N*U-a*o),E=-((c*a-w)*(V*M-w)+(c*N-b)*(V*i-b))/((c-1)*(V-1));
function A(J){return J*J}var Q=Math.sqrt((A(V-1)+A(V*M-w)/E+A(V*i-b)/E)/(A(c-1)+A(c*a-w)/E+A(c*N-b)/E));
if(V==1&&c==1)Q=Math.sqrt((A(M-w)+A(i-b))/(A(a-w)+A(N-b)));return Q};G.v1.prototype.disable=function(D,n,_,b){if(D==null)return;
if(this.aL)this.aL.clear(D);this.aL=null;this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Jo:!1})};G.v1.prototype.Ye=function(D,n,_,b){var w=new ho(n,!0);
w.data=_;if(b)w.g=b;D.c(w)};G.wa=function(){G.v1.call(this,[10,2],G.nk,"tools/rcrop")};G.wa.prototype=new G.v1;
G.YT=function(){G.v1.call(this,[10,39],G.pq,"tools/pcrop")};G.YT.prototype=new G.v1;G.t3=function(){G.NF.call(this,[10,21],G.fg,"tools/dodge");
this.T8="dodge"};G.t3.prototype=new G.NF;G.t3.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,this.zm.expo/Math.PI);
if(this.Ey==null)return;this.xq(D)};G.t3.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.k8=function(){G.NF.call(this,[10,3],G.nD,"tools/eraser");
this.T8="erase"};G.k8.prototype=new G.NF;G.k8.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,this.zm.flow);
if(this.Ey==null)return;this.xq(D)};G.k8.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;var i=this.FT(D,_,b,w);this.xq(D)};G.ro=function(){G.NF.call(this,[10,45],G.aqn,"tools/beraser");
this.T8="ierase"};G.ro.prototype=new G.NF;G.ro.prototype.EE=function(D,n,_,b,w){if(this.SQ(b,n,w))return;
this.gY(D,_,b,w,this.zm.flow);if(this.Ey==null)return;this.xq(D)};G.ro.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);
if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G._T=function(){G.fq.call(this,[10,15],G.xm,"tools/rselect");
this.ca="crosshair"};G._T.prototype=new G.fq;G._T.prototype.uK=function(D,n,_,b){if(!b.Xt||!this.Bv)return;
var w=this.YL(D,_,!0);D.D.oB=B.H.X0(w);D.cF=!0;G.ou.cf(b,w,D,n)};G._T.prototype.R4=function(D,n,_,b){D.D.oB=null;
D.D.Tf=[];D.cF=!0;this.finish(D,n,_,b)};G._T.prototype.getSelection=function(D,n,_,b){if(this.BY.l8(this.pM)||!this.Bv)return null;
var w=this.YL(D,_,!0);if(w.hk())return null;return G.fq.xX("Rctn",w,this.zm.anta)};G.Hm=function(){G.fq.call(this,[10,4],G.acD,"tools/eselect");
this.ca="crosshair"};G.Hm.prototype=new G.fq;G.Hm.prototype.uK=function(D,n,_,b){if(!b.Xt||!this.Bv)return;
var w=this.YL(D,_);D.D.oB=G.Hm.O9(w);D.cF=!0;G.ou.cf(b,w,D,n)};G.Hm.prototype.R4=function(D,n,_,b){D.D.oB=null;
D.D.Tf=[];D.cF=!0;this.finish(D,n,_,b)};G.Hm.prototype.getSelection=function(D,n,_,b){if(this.BY.l8(this.pM)||!this.Bv)return null;
var w=this.YL(D,_);if(!w.Zy(new gl(0,0,D.l,D.e)))return null;return G.fq.xX("Elps",w,this.zm.anta)};
G.Hm.O9=function(D){var n=D.x,_=D.y,b=D.x+D.l,w=D.y+D.e,i=(n+b)/2,M=(_+w)/2,N=(n-b)/2,a=(_-w)/2,o=.5522848,U={t:[i,M-a],C:["M","C","C","C","C"]};
U.t.push(i+o*N,M-a,i+N,M-o*a,i+N,M);U.t.push(i+N,M+o*a,i+o*N,M+a,i,M+a);U.t.push(i-o*N,M+a,i-N,M+o*a,i-N,M);
U.t.push(i-N,M-o*a,i-o*N,M-a,i,M-a);return U};G.RO=function(D){G.ou.call(this,[10,5],D?G.YW:G.Uw,"tools/eyedropper");
this.SL=null;this.ZT=0;this.gO=null;this.Rk=1;this.HR=2;this.a1M=!0;this.uy=!1};G.RO.prototype=new G.ou;
G.RO.prototype.Xn=function(D){return D.Xt};G.RO.prototype.KV=function(D,n,_,b,w){if(D.d=="pickhere")this.nu(_,n,w,null,D.a9c);
if(D.d=="supertool")this.SL=D.g};G.RO.prototype.EE=function(D,n,_,b,w){var i=this.SL;if(i){i.EE(D,n,_,b,w);
return}this.ZT=_.EH;this.gO=w;var M=this.nu(D,null,_,b,w);this._y(D,n,M,w)};G.RO.prototype.cp=function(D,n,_,b,w){var i=this.SL;
if(i){i.cp(D,n,_,b,w);return}var M=this.gO;if(M){var N=w.x-M.x,a=w.y-M.y,o=1,U=new gZ(M.x+N*o,M.y+a*o),V=this.nu(D,null,_,b,U);
this._y(D,n,V,U,new gZ(N*(1-o),a*(1-o)))}};G.RO.prototype._y=function(D,n,_,b,w){var i=this.a1M,M=this.uy,o=12,U=11;
if(D.s.V>4)M=!1;if(!M&&!i)return;if(w==null)w=new gZ(0,0);var N=new gl(0,0,D.l,D.e),a=D.iS(),V=(o*2+1)*U,c=new gZ(V/2,V/2),E=new gl(0,0,V,V),A=B.U(E.u()*4),Q=D.s.it(b.x,b.y),J=Math.floor(Q.x),L=Math.floor(Q.y),P=new e3;
P.scale(1/U,1/U);P.translate(J-o,L-o);if(M)B.scale.BX(a,N,P,A,E);var u=(o-3.4)*U,m=(o-1.7)*U,x=o*U;for(var v=0;
v<V;v++)for(var W=0;W<V;W++){var Z=gZ._e(new gZ(W,v),c);if(Z>u){if(i){var r=Math.max(0,u-Z+1),X=(v*V+W)*4,$=A[X+3]<<24|A[X]<<16|A[X+1]<<8|A[X+2],I=255<<24|(v<x+U*.5?_:this.ZT);
if(Z>m){r=Math.max(0,m-Z+1);$=I;I=4286611584}else if(!M){$=I&16777215}A[X+0]=(1-r)*(I>>>16&255)+r*($>>>16&255);
A[X+1]=(1-r)*(I>>>8&255)+r*($>>>8&255);A[X+2]=(1-r)*(I>>>0&255)+r*($>>>0&255);A[X+3]=(1-r)*(I>>>24&255)+r*($>>>24&255)}if(Z>x){A[(v*V+W)*4+3]=Math.max(0,255*(x-Z+1))}}}function T(k){var O=k<<2;
A[O]=0;A[O+1]=0;A[O+2]=0;A[O+3]=255}function e(k){var O=k<<2;A[O]=255;A[O+1]=255;A[O+2]=255;A[O+3]=255}var F=this.Rk*U+2,y=V-F>>>1,h=y+F-1;
if(M&&F<V)for(var k=0;k<F;k++){var Y=y*V+y+k,K=h*V+y+k,z=(y+k)*V+y,f=(y+k)*V+h;T(Y);T(K);T(z);T(f);if(k!=0&&k!=F-1){e(Y+V);
e(K-V);e(z+1);e(f-1)}}if(!M)for(var k=-9;k<=9;k++){if(-3<k&&k<3)continue;var s=V>>>1,W=s*V+s+k,v=(s+k)*V+s;
e(W-V);T(W);e(W+V);e(v-1);T(v);e(v+1)}var l=G.ou.Sc(0,0,["#"+B.xQ(_),"RGB "+(_>>>16&255)+","+(_>>>8&255)+","+(_>>>0&255)]),N=l[1];
N.y=0;N.x=V-N.l>>>1;B.E3(l[0],N,A,E);var g={kg:A,Kj:E,YZ:new gZ(c.x+w.x,c.y+w.y)},H=new ho(S.E.W,!0);
H.data={d:S.J.f4,rl:g};n.c(H)};G.RO.prototype.m_=function(D,n,_,b,w,i){this.nu(D,n,_,b,w);var M=this.SL;
if(M){M.m_(D,n,_,b,w);return}if(this.gO){this.gO=null;if(i)this.nu(D,n,_,b,w,this.ZT);var N=new ho(S.E.W,!0);
N.data={d:S.J.f4,rl:"default"};n.c(N)}};G.RO.prototype.nu=function(D,n,_,b,w,i){if(i==null)i=G.RO.sj(D,w,this.Rk,this.HR);
var M=new ho(S.E.W);M.data={d:S.J.VS,hy:da.dJ,_c:b&&b.j(dz.u9)?1:0,k:i};if(n)n.c(M);return i};G.RO.sj=function(D,n,_,b){if(b==null)b=2;
var w=D.s.it(n.x,n.y),i,M,N=D.w.length==1&&D.b[D.w[0]].P8>0,a=D.xo.length!=0,m=0,x=0,v=0;if(N||a){var o;
if(a)o=D.wK[D.xo[0]];else{var U=D.b[D.w[0]];o=U.P8==1?U.us():U.a91()}M=o.YL();if(!M.A1(w))return o.color==0?0:16777215;
i=B.U(M.u()*4);i.fill(255);var V=o.Ns();B.hd(V,i)}else if(b==0&&D.w.length!=0){var U=D.b[D.w[0]];i=U.buffer;
M=U.rect}else{i=b==2?D.iS():D.iS(D.w[0]);M=new gl(0,0,D.l,D.e)}var c=Math.floor(w.x)-M.x,E=Math.floor(w.y)-M.y,A=(_-1)/2,Q=Math.max(0,c-A),J=Math.max(0,E-A),L=Math.min(M.l,c+A+1),P=Math.min(M.e,E+A+1),u=(L-Q)*(P-J);
for(var c=Q;c<L;c++)for(var E=J;E<P;E++){var k=4*(E*M.l+c);m+=i[k];x+=i[k+1];v+=i[k+2]}m=Math.round(m/u);
x=Math.round(x/u);v=Math.round(v/u);return m<<16|x<<8|v};G.RO.prototype.fV=function(D){var n=D.zm;this.Rk=[1,3,5,11,31][n[0]];
this.HR=n[1];this.a1M=n[2];this.uy=n[3]};G.ne=function(){G.ou.call(this,[10,6],G.abJ,"tools/gradient");
this.zm={X:JSON.parse(ci.UC.aeX).v,Ui:"Lnr",t4:!1,a9$:!1,ap4:"norm",d8:1};this.JZ=!1;this.PX=null};G.ne.prototype=new G.ou;
G.ne.prototype.enable=function(D,n,_,b){var w=new ho(S.E.W,!0);w.data={d:S.J.f4,rl:"default"};n.c(w)};
G.ne.prototype.fV=function(D){this.zm=D.hy};G.ne.prototype.EE=function(D,n,_,b,w){if(!D.yP())return;
this.PX=D.s.it(w.x,w.y);this.PX=G._s.Mr(D,this.PX,_);this.JZ=!0};G.ne.prototype.cp=function(D,n,_,b,w){if(!this.JZ)return;
var i=D.s.it(w.x,w.y);i=G._s.Mr(D,i,_);if(b.j(dz.CO))i=G.ne.ff(this.PX,i);D.D.oB={t:[this.PX.x,this.PX.y,i.x,i.y],C:["M","L"]};
D.D.zc=[this.PX.x,this.PX.y,i.x,i.y];D.cF=!0};G.ne.prototype.m_=function(D,n,_,b,w){if(!this.JZ)return;
var i=D.b[D.w[0]],M=D.s.it(w.x,w.y);M=G._s.Mr(D,M,_);if(b.j(dz.CO))M=G.ne.ff(this.PX,M);var N=M.mG(this.PX),a=gZ.da(this.PX,M,.5),o=Math.atan2(N.y,N.x),U=gZ._e(this.PX,M),V=Math.sin(o),c=Math.cos(o);
if(U>2){var E;if(D.q)E=D.q.rect;else E=new gl(0,0,D.l,D.e);var A=B.U(E.u()*4),Q=this.zm,J=Q.Ui;if(J!="Lnr"){U*=2;
a=this.PX}B.X.j2(Q.X,A,E,[c*1/U,V*1/U,-V*1/U,c*1/U],a.x,a.y,Q.t4,ci.X.types.indexOf(J),_.EH,_.Cp,null,Q.a9$);
var L=Math.round(Q.d8*256),P=A.length;if(L!=256)for(var k=0;k<P;k+=4)A[k+3]=A[k+3]*L>>>8;var u=new ho(S.E.M);
u.g=G.nD;u.data={d:"fillBMP",w5:A,BS:Q.ap4,Ln:this.name};n.c(u)}D.D.oB=null;D.D.zc=[];D.cF=!0;this.JZ=!1};
G.ne.ff=function(D,n){if(D.l8(n))return D;var _=n.x-D.x,b=n.y-D.y,w=Math.abs(_),i=Math.abs(b);if(w>i)i=w/2>i?0:w;
if(i>w)w=i/2>w?0:i;w=_>0?w:-w;i=b>0?i:-i;var M=Math.sqrt(_*_+b*b)/Math.sqrt(w*w+i*i);return new gZ(D.x+w*M,D.y+i*M)};
G.ne.N0=function(D,n,_,b,w,i,M){if(M==null)M=document.createElement("canvas");var N=M.getContext("2d");
M.width=n;M.height=_;var a=new gl(0,0,n,_),o=B.U(n*_*4);B.Xj(o,n,_,4);var U=Math.sin(b),V=Math.cos(b),c=B.U(n*_*4);
B.X.j2(D,c,a,[V*1/n,U*1/n,-U*1/_,V*1/_],n/2,_/2,!1,0,w,i);B.a.dG("norm",c,a,o,a,a,1);var E=N.getImageData(0,0,n,_);
B.nb(o,E.data);N.putImageData(E,0,0);return M.toDataURL()};G.ne.ajb=function(D,n,_){var b=JSON.parse(JSON.stringify(D));
if(b.Clrs)for(var k=0;k<b.Clrs.v.length;k++){var w=b.Clrs.v[k].v,i=w.Type.v.Clry;if(i=="UsrS")continue;
var M=i=="FrgC"?n:_;w.Type.v.Clry="UsrS";w.Clr={t:"Objc",v:B.X.Ea({p:M>>16&255,z:M>>8&255,S:M&255})}}return b};
G.Gq=function(){G.ou.call(this,[10,7],G.GN,"tools/hand");this.gO=new gZ(0,0);this.k9=null;this.gy=0};
G.Gq.prototype=new G.ou;G.Gq.prototype.KV=function(D,n,_,b,w){var i=D.d;if(i=="setcls"){_.s.qJ=D.qJ;
_.cF=!0;_.lP=!0}if(i=="scroll"&&!b.j(dz.u9)){if(b.j(dz.uH))G.Gq.XM(_,_.s.r.x-D.iQ.y,_.s.r.y-D.iQ.x);
else G.Gq.XM(_,_.s.r.x-D.iQ.x,_.s.r.y-D.iQ.y)}};G.Gq.prototype.enable=function(D,n,_,b){this.k9=null;
var w=new ho(S.E.W,!0);w.data={d:S.J.f4,rl:"grab"};n.c(w);if(D&&Date.now()-this.gy<300){w.type=S.E.M;
w.g=G.TS;w.data={d:"adapt",k:"fitscr"};n.c(w)}this.gy=Date.now()};G.Gq.prototype.EE=function(D,n,_,b,w){this.k9=D.s.r.clone();
this.gO.bq(w.x,w.y)};G.Gq.prototype.cp=function(D,n,_,b,w){if(!w.Xt)return;if(this.k9==null)this.EE(D,n,_,b,w);
G.Gq.XM(D,this.k9.x+(w.x-this.gO.x),this.k9.y+(w.y-this.gO.y))};G.Gq.prototype.m_=function(D,n,_,b,w){this.k9=null};
G.Gq.XM=function(D,n,_){var b=D.s.V,w=D.s.pj,i=w.l,M=w.e,N=D.l*b,a=D.e*b,o=N<i&&a<M,U=i/2+N/2-64,V=M/2+a/2-64;
D.s.r.bq(Math.max(-U,Math.min(U,n)),Math.max(-V,Math.min(V,_)));D.lP=!0};G.eW=function(){G.ou.call(this,[10,47],G.agv,"tools/rview");
this.gO=new gZ(0,0);this.Ak=null;this.am8=null;this.gy=0};G.eW.prototype=new G.ou;G.eW.prototype.enable=function(D,n,_,b){this.k9=null;
var w=new ho(S.E.W,!0);w.data={d:S.J.f4,rl:"grab"};n.c(w);if(D&&Date.now()-this.gy<300&&D.s.Qv!=0){D.s.Qv=0;
D.cF=!0}this.gy=Date.now();if(D)this.fD(D,n)};G.eW.prototype.disable=function(D,n,_,b,w){if(D)this.fD(D,n)};
G.eW.prototype.cb=function(D,n,_,b){if(D)this.fD(D,n)};G.eW.prototype.EE=function(D,n,_,b,w){this.gO.bq(w.x,w.y);
var i=D.s;this.Ak=i.it(i.pj.l/2,i.pj.e/2);this.am8=i.RR()};G.eW.prototype.cp=function(D,n,_,b,w){if(!w.Xt)return;
var i=D.s,M=this.Ak,N=this.gO,a=new gZ(i.pj.l/2,i.pj.e/2),o=Math.atan2(w.y-a.y,w.x-a.x),U=Math.atan2(N.y-a.y,N.x-a.x);
this.AD(D,n,this.am8.clone(),M,o-U)};G.eW.prototype.fV=function(D,n,_,b){this.AD(_,n,null,null,D.bE-_.s.Qv);
_.s.Qv=D.bE};G.eW.prototype.AD=function(D,n,_,b,w){var i=D.s;if(_==null)_=i.RR();if(b==null)b=i.it(i.pj.l/2,i.pj.e/2);
_.translate(-b.x,-b.y);_.rotate(w);_.translate(b.x,b.y);i.ap0(_);if(D.l*i.V<i.pj.l&&D.e*i.V<i.pj.e)i.r.bq(0,0);
D.cF=!0;this.fD(D,n)};G.eW.prototype.fD=function(D,n){var _=new ho(S.E.W,!0);_.data={d:S.J.NG,g:this.id,bE:D.s.Qv};
n.c(_)};G.Y3=function(){G.Hx.call(this,[10,25],G.uW,"tools/hbrush")};G.Y3.prototype=new G.Hx("");G.Y3.prototype.m_=function(D,n,_,b,w){if(this.Ey==null)return;
this.he(D,"heal",this.Ey.Mn(),this.Ey.YL(),this.Ey.X6());this.G(D,this.Ey.X6());G.NF.prototype.m_.call(this,D,n,_,b,w);
if(!this.zm.algnd)this.r=null};G.eC=function(D){G.ou.call(this,D?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],D?G.Q5:G.vu,D?"tools/vtype":"tools/htype");
this.o9=[];this.ly=null;this.dO=null;this.caller=null;this.zK=1;this.s2=null;this.a3T=0;this.d7=0;this.abU=null;
this.zD=null;this.yq=null;this.JD=null;this.qu=null;this.uX=null;this.abw=null;this.aI=null;this.aL=null;
this.CC=null;this.ao_=null;this.Na=!1;this.qF=!1;this.BM=!1;this.$e=null;this.PG=null;this.aot=null;
this.ED=!1;this.sD=!1;this.oe=-1;this.ig=-1;this.SO=document.createElement("textarea");this.SO.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.SO.addEventListener("input",this.wP.bind(this),!1);this.SO.addEventListener("keydown",this.a7l.bind(this),!1);
this.SO.addEventListener("keyup",this.ak2.bind(this),!1);var n=function(_){_.stopPropagation()};this.SO.addEventListener("keydown",n,!1);
this.SO.addEventListener("keyup",n,!1)};G.eC.prototype=new G.ou;G.eC.prototype.Xn=function(D){return D.Xt};
G.eC.prototype.Zc=function(D,n,_,b){if(this.yq!=null||this.id==G.Q5)return;this.caller=n;this.ly=D;var w=this.wA(D);
if(w.length!=0){var i=null,M=[],N=[];for(var k=0;k<w.length;k++){var a=D.b[w[k]],o=a.add.TySh,U=0,V=jg.kb(o.uP).length-2,c=jg.np(o.uP,U,V);
jg.Uj(c,G.Q.gM(o.A));if(c.OT.Font!=null)c.OT.Font=c.SY[c.OT.Font].Name;i=c.SY;M.push(c.OT);N.push(c.ew)}var c={SY:i,OT:jg.H9(M),ew:jg.H9(N)};
if(c.OT.Font!=null)jg.jd(c,c.OT.Font);this.v_(n,c,o)}};G.eC.prototype.wA=function(D){var n=[];for(var k=0;
k<D.w.length;k++)if(D.b[D.w[k]]&&D.b[D.w[k]].add.TySh)n.push(D.w[k]);return n};G.eC.prototype.KV=function(D,n,_,b,w){var i=D.d=="insertGlyph";
if((i||D.d=="insertText")&&this.yq){var M=i?String.fromCharCode(65533):D.k,N=this.SO,a=N.value,o=N.selectionStart,U=N.selectionEnd;
N.value=a.slice(0,o)+M+a.slice(U);N.selectionStart=N.selectionEnd=o+M.length;this.wP(null,i?D.k:null);
N.focus()}if(D.d=="updateStyles"){if(this.yq==null){var V=this.wA(_),c=!1;if(V.length!=0){this.$p(_,n,w,V);
for(var k=0;k<V.length;k++){var E=_.b[V[k]],A=E.add.TySh;jg.Hi(A,this.zK);this.yq=E;var Q=jg.kb(A.uP);
this.oe=0;this.ig=Q.length-1;jg.Ka(A.uP,this.oe,this.ig,this.f6(w,A));var J=this.I3(_,w);if(J==!1)c=!0}if(c){this.ED=!0;
return}this.ak(_,n)}return}this.fj(w)}if(D.d.startsWith("warp")){var L=this.sD;if(D.d=="warp"||D.d=="warpCancel"){if(this.yq==null)return;
if(D.d=="warp")this.yq.add.TySh.Kv=D.ie;else this.yq.add.TySh.Kv=this.abw;var _=this.ly;this.I3(_,w);
if(!L)this.Vv(_)}if(D.d!="warp")this.SO.focus();if((D.d=="warpConfirm"||D.d=="warpCancel")&&L){this.sD=!1;
if(D.d=="warpConfirm")this.ak(_,n);else this.I0(_,n)}}if(D.d=="editCurr"){if(w.ey!=G.vu){this.s2=w.ey;
var P=new ho(S.E.W,!0);P.data={d:S.J.Ou,g:G.vu};n.c(P)}if(this.yq!=null)this.disable(_,n,w,b);this.ly=_;
this.dO=w;this.caller=n;this.$p(_,n,w,[D.py]);var Q=jg.kb(this.yq.add.TySh.uP);this.oe=0;this.ig=Q.length-1;
this.Vv(_);this.s1();this.SO.focus()}if(D.d=="switchPntPrgr"){if(this.yq)return;var E=_.b[_.w[0]],A=E.add.TySh,u=A.A.gM(),m=JSON.parse(JSON.stringify(A.uP)),x=jg.rz(m),v=x==1?jg.eq(m):[0,0,Math.round(E.rect.l*1.05/u),Math.round(E.rect.e*1.25/u)],W=jg.np(m,0,0),Z=W.SY[W.OT.Font].Name,r=w.mz.pc(Z),X=[0,v[2],v[2]/2][W.ew.Justification%3],$=r?h8.od(r,Z,W.OT):W.OT.FontSize*.8;
jg.EN(m,1-x);if(x==0){X=-X;$=-$;jg.vR(m,[0,0,v[2],v[3]])}var I=new e3(1,0,0,1,X,$);I.concat(A.A);this.KV({Ab:_.w[0],d:"newED",KE:m,A:I,adJ:[16,3,x==1?0:1]},n,_,b,w)}if(D.d=="newED"){var E=_.b[D.Ab],A=E.add.TySh,T=this.PE(_,[D.Ab]);
A.uP=D.KE;if(D.A)A.A=D.A;var e=new h8(A.uP,w.mz),F=iy.az(e,A);E.rect=F.Kj;E.buffer=F.B_;E.G();_.G();
var y=new jv(D.adJ?D.adJ:this.name,this);y.data={Py:T,md:this.PE(_,[D.Ab])};_.$i(y)}if(D.d=="fromAction"){var h=D.QV.cR.Usng.v,Y=h.TxtC.v,K=[];
for(var k=0;k<2;k++){var z=Y[k==0?"Hrzn":"Vrtc"].v,M=z.val;if(z.type=="#Prc")M=(k==0?_.l:_.e)*(M/100);
K[k]=M}this.Fg(_,n,w,b,_.s.TO(K[0],K[1]));var E=_.b[_.w[0]],A=E.add.TySh,f=A.uP,a=jg.kb(f);jg.HP(f,0,a.length-1);
jg.kW(f,0,h.Txt.v.replace(/\r/g,"\n"));a=jg.kb(f);for(var x=0;x<2;x++){var s=h[x==0?"Txtt":"paragraphStyleRange"].v;
for(var k=0;k<s.length;k++){var l=s[k].v,o=l.From.v,U=Math.min(l.T.v-1,a.length-1);l=l[x==0?"TxtS":"paragraphStyle"].v;
var g=jg.np(f,o,U),H=x==0?g.OT:g.ew;for(var O in l){var C=l[O].v;if(O=="Sz")H.FontSize=Math.round(C.val);
else if(O=="fontPostScriptName")jg.jd(g,C);else if(O=="Algn")H.Justification={Left:1,Cntr:2}[C.Alg];
else if(O=="leading")H.Leading=l[O].v.val;else if(O=="baselineShift")H.BaselineShift=l[O].v.val;else if(O=="autoLeading")H.AutoLeading=l[O].v;
else if(O=="syntheticBold")H.FauxBold=l[O].v;else if(O=="syntheticItalic")H.FauxItalic=l[O].v;else if(O=="Trck")H.Tracking=l[O].v;
else if(O=="verticalScale")H.VerticalScale=l[O].v/100;else if(O=="horizontalScale")H.HorizontalScale=l[O].v/100;
else if(O=="Clr")H.FillColor={Type:1,Values:[1,C.Rd.v/255,C.Grn.v/255,C.Bl.v/255]}}jg.Ka(f,o,U,g)}}var e=new h8(A.uP,w.mz),F=iy.az(e,A);
E.rect=F.Kj;E.buffer=F.B_;E.G();_.G();this.ak(_,n)}};G.eC.prototype.fj=function(D){var n=Math.min(this.oe,this.ig),_=Math.max(this.oe,this.ig),b=this.yq.add.TySh;
jg.Hi(b,this.zK);jg.Ka(b.uP,n,_-1,this.f6(D,b));var w=this.ly,i=this.I3(w,D);if(i)this.Vv(w);if(document.activeElement.tagName.toLowerCase()!="input")this.SO.focus()};
G.eC.prototype.$z=function(D){return this.o9.indexOf(D)!=-1};G.eC.prototype.enable=function(D,n,_,b){var w=this.SO;
n.m.appendChild(w);this.aI="default";this._y(n)};G.eC.prototype.oX=function(){return this.yq!=null};
G.eC.RU=function(D,n){for(var k=D.b.length-1;k>=0;k--){var _=D.b[k];if(_.add.TySh&&_.rect.A1(n)&&D.aqi(k)){var b=_.Nd(2)||_.Nd(31);
return b?-2:k}}return-1};G.eC.prototype.EE=function(D,n,_,b,w){this.ly=D;this.dO=_;this.caller=n;var i=D.s.it(w.x,w.y),M=this.yq==null;
if(M){var N=G.eC.RU(D,i);if(N==-2){alert(io.get([6,57,0]));return}if(N>=0&&!b.j(dz.CO)){if(!iy.Y2(D.b[N].add.TySh,_.mz,n)){alert("Fonts not loaded yet");
return}this.$p(D,n,_,[N])}else{this.BM=!0;this.$e=w;return}}var a=M?-1:jg.rz(this.yq.add.TySh.uP),o=this.CC?this.CC:this.aL;
if(o&&o.EE(D,_,b,i,null,null,w)&&B.ie.VW(this.yq.add.TySh.Kv)||!M&&B.H.ce(i,this.yq.rect)>20/D.s.V&&(a==0||a==1)){this.Na=!0;
this.PG=i;this.aot=this.yq.add.TySh.A.clone();if(this.oe==-1&&this.ig==-1)this.oe=this.ig=this.z3(i)}else{if(this.qu==null){alert("Fonts not loaded yet");
return}this.qF=!0;this.oe=this.ig=this.z3(i);var U=Date.now();if(U-this.a3T>300)this.d7=0;this.d7++;
this.a3T=U;if(this.d7==2)this.a79();if(this.d7==3)this.aav();if(this.d7>1){this.qF=!1}}this.s1();this.Vv(D)};
G.eC.prototype.$p=function(D,n,_,b){var w=D.b[b[0]];this.yq=w;this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Ed:"showactive"});
this.JD=b;D.w=b.slice(0);D.WH();D.Eh=!0;this.uX=this.PE(D,b);this.Hl(w.add.TySh);this.I3(D,_)};G.eC.prototype.Hl=function(D){if(jg.rz(D.uP)!=1)return;
var n=jg.eq(D.uP);n=new gl(0,0,n[2]-n[0],n[3]-n[1]);var _=[n.x,n.y,n.x+n.l,n.y,n.x+n.l,n.y+n.e,n.x,n.y+n.e];
B.H.A(_,D.A,_);this.aL=new hc(_,!1,!1,!1,!0)};G.eC.prototype.a79=function(){var D=jg.kb(this.yq.add.TySh.uP);
this.oe=this._S(D,this.oe);this.ig=this.uQ(D,this.oe)};G.eC.prototype._S=function(D,n){var _=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];
for(var k=0;k<_.length;k++)b.push(_.charAt(k));var w=b.indexOf(D[n])==-1?!0:!1;for(var k=n-1;k>=0;k--)if(b.indexOf(D.charAt(k))!=-1==w)return k+1;
return 0};G.eC.prototype.uQ=function(D,n){var _=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",b=[];for(var k=0;
k<_.length;k++)b.push(_.charAt(k));var w=b.indexOf(D[n])==-1?!0:!1;for(var k=n+1;k<D.length;k++)if(b.indexOf(D.charAt(k))!=-1==w)return k;
return D.length-1};G.eC.prototype.aav=function(){var D=this.qu.aaK(this.oe);this.oe=D[0];this.ig=D[1]};
G.eC.prototype._y=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.f4,rl:this.aI};D.c(n)};G.eC.prototype.cp=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=this.yq;
if(!w.Xt){var N="default",a=this.aL,o=this.CC?this.CC:a;if(o&&B.ie.VW(M.add.TySh.Kv)){var U=o.uu(i,D.s.V,null,w);
if(U)N=U;else if(o==a&&a.Hg(i))N="text"}else if(M&&B.H.ce(i,M.rect)>20/D.s.V)N="move";else if(G.eC.RU(D,i)>=0)N="text";
if(N!=this.aI){this.aI=N;this._y(n)}}var V=this.$e;if(this.BM&&Math.min(w.x-V.x,w.y-V.y)>4/D.s.V){this.BM=!1;
this.Fg(D,n,_,b,w);M=this.yq;this.Na=!0;this.aL=new hc(null,!1,!1,!1,!0);var c=D.s.it(this.$e.x,this.$e.y);
c.x=Math.round(c.x);c.y=Math.round(c.y);this.aL.EE(D,_,b,c,null,null,w)}if(this.Na){var E=M.add.TySh;
if(this.CC){this.CC.cp(D,_,b,i);var A=B.N.vI(B.N.Ng(this.CC.Yr(),this.ao_));E.A=A;this.I3(D,_);jg.St(E)}else if(this.aL){this.aL.cp(D,_,b,i);
var Q=E.A.clone(),J=Math.atan2(Q.S,Q.vd);Q.rotate(J);var A=B.N.vI(B.N.Ng(this.aL.Yr())),L=Math.atan2(A.S,A.vd);
A.rotate(L);if(!isNaN(A.vd)&&A.vd*A.Ww-A.S*A.jo!=0){var P=new gl(0,0,A.vd/Q.vd,A.Ww/Q.Ww),u=Math.round(P.l),m=Math.round(P.e),x=E.uP.Curve;
if(x){var v=jg.eq(E.uP),W=new e3(u/v[2],0,0,m/v[3],0,0);B.H.A(x.Points,W,x.Points);jg.St(E)}jg.vR(E.uP,[0,0,u,m]);
E.A=B.N.vI(B.N.Ng(this.aL.Yr(),P));this.I3(D,_);jg.St(E)}}else{var Z=i.x-this.PG.x,r=i.y-this.PG.y;E.A=this.aot.clone();
var X=new gZ(E.A.oE+Z,E.A.LE+r);X=G._s.Mr(D,X,_);E.A.oE=X.x;E.A.LE=X.y;this.I3(D,_)}}if(this.qF)this.ig=this.z3(i);
if(this.Na||this.qF)this.Vv(D)};G.eC.prototype.Fg=function(D,n,_,b,w){var i=D.DZ(),M=i[0],N=i[1],a=D.ni();
a.add.lnsr="rend";var o=D.b.slice(0);a.rK("Text layer "+o.length);this.yq=a;var U=D.w.length==0?D.b.length-1:D.w[D.w.length-1],V=U+1;
if(o[U].add.lsct==f4.AU)V--;this.uX={C4:o.slice(0),dD:D.w.slice(0)};o.splice(V,0,a);D.w=[V];this.oe=this.ig=0;
D.$N(o);this.uX.S5=o.slice(0);this.uX.yr=D.w.slice(0);this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Ed:"showactive"});
var c=D.s.it(w.x,w.y),E=_.za;console.log(E);if(this.id==G.Q5){E=JSON.parse(JSON.stringify(E));E.OT.BaselineDirection=1}a.add.TySh=jg.aH(c.x,c.y,E);
var A=a.add.TySh,Q=A.uP;if(this.id==G.Q5)Q._LineOrientation=2;jg.Hi(A,this.zK);if(w.Xt)jg.EN(Q,1);else{jg.EN(Q,0);
var L=M[N.pop()],P=L?L.add.vmsk:null;if(P&&!b.j(dz.CO)){P=P.clone();var u=P.Y,x,v;for(var k=0;k<u.length;
k++)if(u[k].gW!=null)u[k].gW=0;var m=5/D.s.V;x=B.$.ql(P.Y,c,!0,m);if(x.gH==-1)x=B.$.ql(P.Y,c);if(x.gH!=-1){jg.EN(Q,1);
var W=B.$.ay(u,x.gH),Z=B.$.KK(u,x.gH)-1;u=P.Y=u.slice(0,2).concat(u.slice(W,W+Z+1));P.w=[];A.add={vmsk:P,vogk:q.GL(u)};
Q.Curve={};jg.wV(A);if(x.WO!=null){var r=h8.st(Q.Curve);B.H.A(r[0],A.A,r[0]);var X=B.H.Ib(r[0],c.x,c.y),$=_.za.ew.Justification;
if($==2||$==5){var I=(r[2][X]+r[3]*.5)%r[3];X=h8.bW(I,r[2])}var T=r[1][X];T=T%Z;P.OJ=[T,T];jg.wV(A)}else this.Hl(A)}}}return a};
G.eC.prototype.m_=function(D,n,_,b,w,i){if(i){this.BM=!1;return}if(this.yq==null&&!this.BM)return;var M=D.s.it(w.x,w.y),N=this.BM;
if(this.BM){this.BM=!1;this.Fg(D,n,_,b,w);this.qF=!0}if(this.Na||this.qF){this.Vv(D);this.s1();if(N)this.fj(_)}if(this.Na&&this.aL)this.aL.m_(D,_,b,M);
this.Na=this.qF=!1;this.SO.focus()};G.eC.prototype.s1=function(){var D=this.yq.add.TySh,n=Math.min(this.oe,this.ig),_=Math.max(this.oe,this.ig),b,w;
if(n==_){var i=jg.kb(D.uP);if(n==0||i.charAt(n-1)=="\n")b=w=n;else b=w=n-1}else{b=n;w=_-1}var M=jg.np(D.uP,b,w);
jg.Uj(M,G.Q.gM(D.A));this.v_(this.caller,M,D)};G.eC.prototype.v_=function(D,n,_){this.Ye(D,S.E.W,{d:S.J.VS,hy:da.WT,za:n});
var b=this.zK=jg.Eq(_);this.Ye(this.caller,S.E.W,{d:S.J.NG,g:this.id,Ed:"changeAA",ub:b})};G.eC.prototype.To=function(){var D=this.yq;
if(D&&!this.Na&&this.CC!=null){this.CC.m_(this.ly,this.dO,null,null);this.CC=null;this.Hl(D.add.TySh);
this.Vv(this.ly)}};G.eC.prototype.disable=function(D,n,_,b){var w=this.yq;this.ak(D,n)};G.eC.prototype.fV=function(D,n,_,b,w){if(this.sD)return;
if(D.Ed=="commit")this.ak(_,n);if(D.Ed=="cancel")this.I0(_,n);if(D.Ed=="changeAA"){this.zK=D.ub;if(_!=null)this.KV({d:"updateStyles"},n,_,b,w)}if(D.Ed=="showwarp"){if(_==null)return;
if(this.yq==null){var i=_.b[_.w[0]],M=i.add.TySh;if(M==null)return;this.$p(_,n,w,[_.w[0]]);this.SO.focus();
this.sD=!0}this.abw=this.yq.add.TySh.Kv;var N=new ho(S.E.W,!0);N.data={d:S.J.a_,Lt:"textwarp"};n.c(N)}};
G.eC.prototype.gB=function(D,n){if(n!=da.tL)return;if(this.ED){this.ED=!1;var _=this.ly,b=this.JD;for(var k=0;
k<b.length;k++){this.yq=_.b[b[k]];this.I3(_,D)}this.ak(_,this.caller);return}if(this.yq)this.fj(D)};
G.eC.prototype.f6=function(D,n){var _=JSON.parse(JSON.stringify(D.za));jg.Uj(_,1/G.Q.gM(n.A));return _};
G.eC.prototype.pS=function(D,n){if(D.Py!=null)this._D(n,D.md);else this.Wx(n,D.S5,D.yr)};G.eC.prototype.k5=function(D,n){if(D.Py!=null)this._D(n,D.Py);
else this.Wx(n,D.C4,D.dD)};G.eC.prototype._D=function(D,n){for(var k=0;k<n.length;k++){var _=n[k],b=_.Ab,w=D.b[b];
w.buffer=_.j3;w.rect=_.Kj.clone();w.G();var i=w.add.TySh;i.Kv=_.ie;i.dI=_.dI.clone();i.A=_.A.clone();
i.uP=JSON.parse(JSON.stringify(_.uP));w.ZY()}D.G()};G.eC.prototype.PE=function(D,n){var _=[];for(var k=0;
k<n.length;k++){var b=n[k],w=D.b[b],i=w.add.TySh;_.push({Ab:b,A:i.A.clone(),ie:JSON.parse(JSON.stringify(i.Kv)),dI:i.dI.clone(),uP:JSON.parse(JSON.stringify(i.uP)),j3:w.buffer.slice(0),Kj:w.rect.clone()})}return _};
G.eC.prototype.Wx=function(D,n,_){D.w=_;D.$N(n);D.G();D.HH=!0};G.eC.prototype.I3=function(D,n,_){if(_==null)_=!1;
var b=this.yq.add.TySh;if(!iy.Y2(b,n.mz,this.caller))return!1;this.qu=new h8(b.uP,n.mz);if(!_){var w=jg.kb(b.uP);
this.SO.value=w.slice(0,w.length-1)}var i=iy.az(this.qu,b);if(B.ie.VW(b.Kv))b.dI=new gl;else{if(jg.rz(b.uP)==1){var M=jg.eq(b.uP),cQ=i.dI.y;
b.dI=new gl(0,cQ,M[2]-M[0],M[3]-M[1]-cQ)}else{b.dI=i.dI}}var N=this.yq.rect;this.yq.rect=i.Kj;this.yq.buffer=i.B_;
this.yq.G();D.Wh();D.G(D.root.RE(i.Kj.Ik(N),D,D.b.indexOf(this.yq)));return!0};G.eC.prototype.wP=function(D,n){if(this.yq==null||this.sD)return;
var _=this.SO.selectionStart,b=this.yq.add.TySh,w=jg.kb(b.uP),i=this.SO.value+"\n",M=Math.min(this.oe,this.ig),N=Math.max(this.oe,this.ig),c=!1;
this.oe=Math.min(_,M);if(i.length-_<w.length-this.ig)this.ig=w.length-i.length+_;if(w!=i){while(this.oe>0&&w.charAt(this.oe-1)!=i.charAt(this.oe-1))this.oe--}var a=w.substring(0,this.oe),o=w.substring(this.ig,w.length),U=i.substring(this.oe,i.length-o.length);
jg.HP(b.uP,this.oe,this.ig);jg.kW(b.uP,this.oe,U);if(n!=null)jg.ab2(b.uP,this.oe,n);var V=this.f6(this.dO,b),E=-1,A=Array.from(U);
for(var k=0;k<A.length;k++)E=Math.max(E,A[k].codePointAt(0));if(E!=-1&&E>128&&E!=65533&&V.OT.Font!=null){var Q=V.SY[V.OT.Font].Name,J=this.dO.mz.ZG(E,Q,V.SY);
if(Q!=J){jg.jd(V,J);c=!0}}if(this.zD!=null&&U==this.zD){var L=JSON.parse(this.abU);V.OT=L.OT;V.SY=L.SY;
c=!0}jg.Ka(b.uP,this.oe,this.oe+U.length-1,V);this.oe=this.ig=a.length+U.length;var P=this.ly,u=this.I3(P,this.dO,!0);
if(u)this.Vv(P,!0);if(c)this.s1()};G.eC.prototype.ak2=function(D){if(!D.ctrlKey)this.To()};G.eC.prototype.a7l=function(D){if(this.yq==null||this.sD)return;
if(this.yq==null)return;if(this.CC==null&&D.ctrlKey){var n=this.yq.add.TySh,_=jg.rz(n.uP),b;if(_==1){b=jg.eq(n.uP);
b=new gl(0,0,b[2]-b[0],b[3]-b[1])}else b=this.qu.E8();var w=[b.x,b.y,b.x+b.l,b.y,b.x+b.l,b.y+b.e,b.x,b.y+b.e];
B.H.A(w,n.A,w);this.CC=new hc(w,!0,!0,!1,!1);this.ao_=b;this.Vv(this.ly)}var i=dz,M=0,N=0,m=!1;if(i.s9(D.code,i.LG))M=1;
if(i.s9(D.code,i.aU))M=-1;if(i.s9(D.code,i.L3))N=-1;if(i.s9(D.code,i.hb))N=1;var a=D.ctrlKey||D.metaKey,o=i.s9(D.code,dz.aqU),U=i.s9(D.code,dz.asL);
if(i.s9(D.code,dz.Eb)&&a){this.ak(this.ly,this.caller);return}if(i.s9(D.code,dz.Gt)){this.I0(this.ly,this.caller);
return}if(i.s9(D.code,dz.KP)){D.preventDefault();var V=this.SO,c=V.value,E=V.selectionStart,A=V.selectionEnd;
V.value=c.substring(0,E)+"\t"+c.substring(A);V.selectionStart=V.selectionEnd=E+1;this.wP(null);return}if((i.s9(D.code,i.Ne)||i.s9(D.code,i.cG))&&a){var Q=this.oe,J=this.ig;
if(Q>J){var L=Q;Q=J;J=L}var n=this.yq.add.TySh,P=jg.kb(n.uP);if(Q!=J){this.zD=P.slice(Q,J);this.abU=JSON.stringify(this.dO.za)}}var u=jg.kb(this.yq.add.TySh.uP);
if(M!=0||N!=0||o||U){D.preventDefault();var x=this.oe;if(M!=0){if(a&&M==-1)x=this._S(u,this.oe-1);else if(a&&M==1)x=this.uQ(u,this.oe);
else{var V=this.SO,c=V.value;x=this.oe+M;if(x!=0&&c.codePointAt(x-1)>65535)x+=M}}else if(N!=0){var v=this.qu.cT(this.oe);
if(N==-1&&v.U9==0)x=0;else if(N==1&&v.U9==this.qu.abC()-1)x=99999999999;else x=this.qu.anO(new gZ(v.Kj.x+v.Kj.l/2,0),v.U9+N)}else if(o){var W=this.oe-1;
while(W>0&&u.charCodeAt(W)!=10)W--;x=W==0?0:W+1}else if(U){var W=this.oe;while(W<u.length-1&&u.charCodeAt(W)!=10)W++;
x=W}x=Math.max(0,Math.min(u.length-1,x));if(D.shiftKey)this.oe=x;else this.oe=this.ig=x;m=!0}if(i.s9(D.code,dz.J)&&a){this.oe=0;
this.ig=u.length-1;m=!0}if(m){this.s1();this.Vv(this.ly)}};G.eC.aeI=function(D,n){var _=D.length;if(_!=n.length)return!1;
for(var k=0;k<_;k++)if(D[k].Ab!=n[k].Ab)return!1;return!0};G.eC.prototype.ak=function(D,n){if(this.yq==null)return;
this.yq.ZY();var _=this.uX;if(_ instanceof Array){var b=this.PE(D,this.JD),w=D.XN();if(w!=null&&w.g==this&&w.data.Py&&G.eC.aeI(w.data.Py,_))w.data.md=b;
else{var i=new jv(this.name,this);i.data={Py:_,md:b};D.$i(i)}}else{var i=new jv(this.name,this);i.data={C4:_.C4,S5:_.S5,dD:_.dD,yr:_.yr};
D.$i(i)}this.escape(D,n)};G.eC.prototype.I0=function(D,n){if(this.yq==null)return;if(this.uX instanceof Array){this._D(D,this.uX);
if(this.yq)jg.St(this.yq.add.TySh)}else{D.w=this.uX.dD;D.$N(this.uX.C4)}D.G();this.escape(D,n)};G.eC.prototype.escape=function(D,n){this.To();
this.yq=null;this.JD=null;this.qu=null;this.aL=null;this.SO.blur();D.D.oB=null;D.D.WE=null;D.D.zc=[];
D.cF=!0;this.Na=!1;this.qF=!1;this.oe=this.ig=-1;this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,Ed:"hideactive"});
if(this.s2){var _=new ho(S.E.W,!0);_.data={d:S.J.Ou,g:this.s2};n.c(_);this.s2=null}};G.eC.prototype.Ye=function(D,n,_,b){var w=new ho(n,!0);
w.data=_;if(b)w.g=b;D.c(w)};G.eC.prototype.z3=function(D){var n=this.yq.add.TySh,_=this.qu,b=n.A.clone();
b.ei();var w=b.pm(D),i=jg.YL(n,_),M=B.ie.W_(n.Kv,i),N=B.Uo.a6E(M,w);if(N==null)N=new Float64Array(2);
w=new gZ(i.x+N[0]*i.l,i.y+N[1]*i.e);if(_.Lo){var a=_.Lo.clone();a.ei();w=a.pm(w)}var o=_.anO(w);return o};
G.eC.prototype.Vv=function(D,n){if(n==null)n=!1;var _=this.yq.add.TySh,b=jg.rz(_.uP),w=this.qu,i=w?jg.YL(_,w):null;
D.D.zc=[];D.D.oB=null;D.D.WE=null;var M=this.CC?this.CC:this.aL;if(M){M.BG(D,this.dO,!B.ie.VW(_.Kv));
var N=_.A.clone();N.ei();if(w&&w.Lo&&w.MJ==1){var a=w.Lo.clone();a.ei();N.concat(a)}B.H.A(D.D.zc,N,D.D.zc);
B.H.A(D.D.oB.t,N,D.D.oB.t);if(w&&w.Lo==null&&w.a75()){var o=i.l-20,U=i.e+8;D.D.oB.t.push(o,U,o+10,U,o+5,U-5,o+5,U+5);
D.D.oB.C.push("M","L","M","L")}}else if(b==0)this.a7b(D,_,w);else D.D.oB={t:[],C:[]};var V=Math.min(this.oe,this.ig),c=Math.max(this.oe,this.ig);
if(!n){this.SO.selectionStart=V;this.SO.selectionEnd=c}if(w!=null){var E=function(M,m){var x=M.x,v=M.y+M.e,W=new e3;
W.translate(-x,-v);W.rotate(-m);W.translate(x,v);M.y+=M.e*.27;var u=B.H.X0(M);B.H.A(u.t,W,u.t);return u};
if(V==c){V=Math.max(V,0);var A=w.cT(V);if(A){var Q=A.Kj,J=this.dO.za.OT.FontSize;if(J!=null&&J!=0){J/=_.A.gM();
Q.y+=Q.e-J;Q.e=J}var L=w.aiG(V);if(L!=null&&L.uo==1)Q.x+=Q.l;var P=E(Q,A.Qv).t;D.D.oB.C.push("M","L");
D.D.oB.t.push(P[0],P[1]-1,P[6],P[7]-1)}}else{D.D.WE={t:[],C:[]};for(var k=V;k<c;k++){var A=w.cT(k),u=E(A.Kj,A.Qv);
B.H.concat(D.D.WE,u)}}}D.D.oB=iy.n1(D.D.oB,_,w);D.D.WE=iy.n1(D.D.WE,_,w);D.D.zc=iy.n1({t:D.D.zc},_,w).t;
D.cF=!0};G.eC.prototype.a7b=function(D,n,_){if(_==null)return;D.D.zc.push(0,0);if(D.D.oB==null)D.D.oB={C:[],t:[]};
for(var k=0;k<_.ew.length;k++){var b=_.ew[k];for(var w=0;w<b.ZK.length;w++){var i=b.ZK[w],M=b.jY.x+i.jY.x+i.Kj.x,N=b.jY.y+i.jY.y+i.Kj.y+i.Kj.e;
D.D.oB.C.push("M","L");D.D.oB.t.push(M,N,M+i.Kj.l,N)}}D.cF=!0};G.f2=function(){G.eC.call(this,!0)};G.f2.prototype=new G.eC;
G.mb=function(){G.fq.call(this,[10,9],G.rI,"tools/lasso");this.ca="crosshair";this.Qg=null;this.PK=null;
this.PG=null};G.mb.prototype=new G.fq;G.mb.prototype.l2=function(D,n,_,b){this.Qg=this.BY;this.PK={t:[this.Qg.x,this.Qg.y],C:["M"]}};
G.mb.prototype.uK=function(D,n,_,b){this.PG=b;var w=this.PK;if(w==null)return;if(!b.Xt){if(this.PK!=null&&this.V5>1&&_.j(dz.u9)){w.t.pop();
w.t.pop();w.t.push(this.pM.x,this.pM.y);D.D.oB=w;D.cF=!0}return}w.C.push("L");w.t.push(this.pM.x,this.pM.y);
this.Qg=this.pM;if(this.Bv){D.D.oB=w;D.cF=!0}};G.mb.prototype.oX=function(){return this.PK!=null};G.mb.prototype.G0=function(){return this.PK!=null};
G.mb.prototype.EL=function(D,n,_,b){G.fq.prototype.EL.call(this,D,n,_,b);if(this.PK&&this.V5>1&&this.PG&&!this.PG.Xt&&!b.j(dz.u9))this._p(D,_,b)};
G.mb.prototype.R4=function(D,n,_,b){this.PG=b;var w=this.PK;if(w==null)return;if(this.V5>1&&_.j(dz.u9)){w.C.push("L");
w.t.push(this.pM.x,this.pM.y);return}this._p(D,n,_)};G.mb.prototype._p=function(D,n,_){this.finish(D,n,_,this.PG);
this.PK=null;D.D.oB=null;D.cF=!0};G.mb.prototype.getSelection=function(D,n,_,b){if(this.BY.l8(this.pM)||!this.Bv)return null;
return G.fq.Pe(this.PK.t,null,this.zm.anta)};G._s=function(){G.ou.call(this,[10,11],G.GZ,"tools/move");
this.VA=new gZ(0,0);this.dH=new gZ(0,0);this._h=null;this.Kd=null;this.w1=new gZ(0,0);this.mR=null;this.Wc=null;
this.d2=null;this.gy=0;this.e2=null;this.Dc=[];this.tk=null;this.po=null;this.JZ=!1;this.d=0;this.K1=null;
this.fn=null;this.yJ=null;this.DO=!1;this.zm={xW:!1,m8:!1,yt:!1};this.aej=!1;this.amT=!1;this.aL=null;
this.rm=null;this.arY=null;var D=[];for(var k=0;k<B.Hj.P1.length;k++)D.push({name:B.Hj.P1[k],R:function(n,_,b){return{NU:_.BE.gK==b}}});
this.D$=new gN(D);this.D$.h("select",this.nz,this)};G._s.prototype=new G.ou;G.ou.prototype.Xn=function(D){return this.JZ&&this.d!=2};
G._s.prototype.T4=function(){return this.JZ&&this.d==0};G._s.prototype.cb=function(D,n,_,b){this.xw(D,-this.w1.x,-this.w1.y);
this.w1.bq(0,0);this.XG(D,null,_);this.zw(D)};G._s.prototype.BV=function(){var D=this.zm;return[D.xW?1:0,D.m8?1:0,D.yt?1:0]};
G._s.prototype.Mv=function(D,n,_){var b=this.zm;if(D&&D[0]!=null)b.xW=D[0]==1;if(D&&D[1]!=null)b.m8=D[1]==1;
if(D&&D[2]!=null)b.yt=D[2]==1;var w=new ho(S.E.W,!0);w.data={d:S.J.NG,g:this.id,Bl:b,aiO:n};_.c(w)};
G._s.qq=function(D,n,_,b,w,i,M){if(M==null)M=[!1,!0];var N=D.DF(null,w,!0),a,o;if(D.add.artd&&D.w.length==1&&D.b[D.w[0]].add.artb){var U=D.b[D.w[0]].w3();
a=D.sx(N,U,U)[0]}else{var V=new gl(0,0,D.l,D.e),a=D.sx(N,M[0]?V:null,M[1]?null:V)[0],o=a.add.artd;if(o){for(var k=0;
k<a.b.length;k++)delete a.b[k].add.artb;delete a.add.artd}if(M[1]){var c=B.lb(a.iS(),new gl(0,0,a.l,a.e),2);
G.v1.VE(a,c)}}if(_!=1){var E=new gl(0,0,Math.round(a.l*_),Math.round(a.e*_));G.v1.VE(a,E);var A=[];for(var k=0;
k<a.b.length;k++)A.push(k);var Q=G.Q.cO(a,A,!0);G.v1.Tx(a,new e3(_,0,0,_,0,0));G.Q.wt(a,b,A,Q,1,B.N.ug(new e3(_,0,0,_,0,0)),null,!0);
a.T2()}else if(o){a.G();a.T2()}var J=[];for(var k=0;k<n.length;k++)if(a.l*a.e!=0)J.push(eF.N4(a,n[k].toUpperCase(),null,null,i?i[k]:null,b));
return J};G._s.prototype.UY=function(D,n,_,b,w){if(D==null||D.w.length==0)return;var i=G._s.qq(D,[n],_,b,null)[0],M=new ho(S.E.W,!0);
M.data={d:S.J.Mu,data:i,name:D.b[D.w[0]].getName()+(_==1?"":"@"+_+"x")+"."+n};w.c(M)};G._s.prototype.fV=function(D,n,_,b,w){if(D._c=="getPNG"){this.UY(_,"png",D.Mq,w,n)}else if(D._c=="getSVG"){this.UY(_,"svg",D.Mq,w,n)}if(D._c=="prms"){this.zm=D;
this.zw(_)}};G._s.a45=function(D){var cQ=D.length,_=0;D.sort(function(i,M){return i[0]+i[1]/2-(M[0]+M[1]/2)});
var n=D[cQ-1][0]+D[cQ-1][1]-D[0][0];for(var k=0;k<cQ;k++)_+=D[k][1];var b=Math.round((n-_)/(cQ-1)),w=D[0][0];
for(var k=0;k<cQ;k++){D[k][0]=w;w+=D[k][1]+b}};G._s.prototype.KV=function(D,n,_,b,w){var i=D.d;if(i=="trsl"){var M=Math.round(D.uR),N=Math.round(D.NN);
this.w1.bq(M,N);this.u6(_,n,b,w,!1,D.i);this.xw(_,M,N);this.XG(_,null,w)}else if(i=="lockguides"){if(_)_.gJ=!_.gJ}else if(i=="gids"||i=="gidsFromLayer"){var a=D.fn,o,U;
if(a==null)a=_.l$();if(i=="gids"){o=D.kk;var V=a[0].length,c=o[0].length;U=V==c?[23,2]:V>c?[23,3]:[23,4];
if(c==0)U=[11,15,0]}else if(i=="gidsFromLayer"){var E=[],A=[],Q=_.Mg();for(var k=0;k<_.w.length;k++){var J=_.b[_.w[k]].rect;
if(J.hk())continue;E.push([0,J.x],[1,J.y],[0,J.x+J.l],[1,J.y+J.e]);A.push(Q,Q,Q,Q)}U=[11,15,1];o=_.l$();
G._s.Xx(o,[E,A])}if(JSON.stringify(a)==JSON.stringify(o))return;var i=new jv(U,this);i.data={d:2,fn:a,kk:o};
_.$i(i);this.pS(i.data,_)}else if(i=="algn"){var L=D.k;if(_==null)return;if(_.w.length<2&&!(_.q!=null&&L!=3&&L!=7)){alert(io.get([15,7,5]));
return}var P=_.q;_.q=null;var J=P?P.rect:G.Q.YL(_);this.u6(_,n,b,w,!1);if(!this.JZ)return;var u=this.e2,m={},x=[],v=[],W=[];
for(var k=0;k<u.length;k++){var Z=u[k];while(_.b[Z].getName()=="</Layer group>")Z++;var r=_.root.D5(Z),X=r;
while(r.parent!=null){r=r.parent;if(u.indexOf(r.index)!=-1)X=r}var $=v.indexOf(X.index);if($==-1){$=v.length;
v.push(X.index)}x[k]=$}var I=[],T=[],e=[];for(var k=0;k<v.length;k++){var F=G.Q.YL(_,_.DF(!0,v[k]));
e.push(F);var y=L==3?[F.y,F.e]:[F.x,F.l];I[k]=y;T.push(y)}G._s.a45(T);for(var k=0;k<v.length;k++){var F=e[k],h=F.x,Y=F.y;
if(L==0)h=J.x;if(L==1)h=J.x+(J.l-F.l)/2;if(L==2)h=J.x+(J.l-F.l);if(L==3)Y=I[k][0];if(L==4)Y=J.y;if(L==5)Y=J.y+(J.e-F.e)/2;
if(L==6)Y=J.y+(J.e-F.e);if(L==7)h=I[k][0];W.push(Math.round(h-F.x),Math.round(Y-F.y))}var K=[];for(var k=0;
k<u.length;k++){var z=x[k];K[2*k]=W[2*z];K[2*k+1]=W[2*z+1]}this.xw(_,0,0,null,K);var f=L==3||L==7?[20,4,6]:[20,4,L<3?L:L-1];
this.XG(_,null,w,K,f);_.q=P}else if(i=="disabAuto"){this.Mv([!1],null,n)}};G._s.Xx=function(D,n){for(var k=0;
k<n[0].length;k++){var _=n[0][k],b=n[1][k],w=!1;for(var i=0;i<D[0].length;i++){var M=D[0][i],N=D[1][i];
if(_[0]==M[0]&&_[1]==M[1]&&b==N)w=!0}if(!w){D[0].push(_.slice(0));D[1].push(b)}}};G._s.prototype.enable=function(D,n,_,b,w){this.Wc=_;
this.d2=n;this.DO=w?!0:!1;this.zw(D);this._y("default",n)};G._s.prototype.disable=function(D,n,_,b){this.WC(D)};
G._s.prototype.WC=function(D){if(D==null)return;if(this.aL){this.aL.clear(D);this.aL=null}if(D.D.yt){D.D.yt=null;
D.cF=!0}if(D.D.O0){D.D.O0=null;D.cF=!0}if(D.D.qZ[this.id]){delete D.D.qZ[this.id];D.cF=!0}if(D.D.Tf.length!=0){D.D.Tf=[];
D.cF=!0}};G._s.prototype.Zc=function(D,n,_,b){if(_.ey!=this.id)return;this.zw(D)};G._s.prototype.zw=function(D,n){if(D==null)return;
var _=this.zm;this.WC(D);if(!this.DO){var b;if(_.m8||_.yt)b=B.H.__(G.Q.YL(D));if(_.m8&&!b.hk()){this.aL=new hc([b.x,b.y,b.x+b.l,b.y,b.x+b.l,b.y+b.e,b.x,b.y+b.e],!0);
this.aL.BG(D,this.Wc)}if(_.yt){var w=null,U=null,V=!1;if(D.Mg()!=-1)w=D.b[D.Mg()].w3();else w=new gl(0,0,D.l,D.e);
D.D.yt={FL:[b],L9:[]};var i=D.D.yt.L9,M=b.x+b.l,N=b.y+b.e,a=b.x+Math.floor(b.l/2),o=b.y+Math.floor(b.e/2);
if(n){var c=D.root.ql(new gZ(Math.floor(n.x),Math.floor(n.y)));if(c){U=B.H.__(c.i.HU(D));if(U.Zy(b)){V=(U.Xh(b)||b.Xh(U))&&!b.l8(U);
if(!V)U=null}}}this.gh(b,i);if(U!=null){D.D.yt.FL.push(U);var E=U.x+U.l,A=U.y+U.e,Q=U.x+Math.floor(U.l/2),J=U.y+Math.floor(U.e/2);
if(V){var L=a,P=o;if(b.Xh(U)){L=Q;P=J}i.push(b.x,P,U.x,P);i.push(M,P,E,P);i.push(L,b.y,L,U.y);i.push(L,N,L,A)}else{this.gh(U,i);
var u=N<U.y||A<b.y,m=M<U.x||E<b.x;if(M<U.x)i.push(M,o,U.x,o);if(E<b.x)i.push(E,o,b.x,o);if(N<U.y)i.push(a,N,a,U.y);
if(A<b.y)i.push(a,A,a,b.y);if(u&&!m){if(b.x<U.x)i.push(b.x,J,U.x,J);if(U.x<b.x)i.push(U.x,o,b.x,o)}}}else{if(b.y>w.y)i.push(a,w.y,a,b.y);
if(N<w.y+w.e)i.push(a,N,a,w.y+w.e);if(b.x>w.x)i.push(w.x,o,b.x,o);if(M<w.x+w.l)i.push(M,o,w.x+w.l,o)}D.cF=!0}}if(this.d==2&&this.JZ){var x=new gl(0,0,D.l,D.e),v=D.Mg();
if(v!=-1){var W=D.l$(),Z=W[1][this.e2];if(Z==-1)Z=v;x=D.b[Z].w3()}var r=D.eu[this.e2],X=r[0],$=(X==0?"X":"Y")+": "+B.Hj.Yh(r[1]-(X==0?x.x:x.y),D.Cn,this.Wc,X==0?x.l:x.e,!0);
G.ou.Sc(Math.round(this._h.x)+10,Math.round(this._h.y)-10,[$],D);D.cF=!0}if(this.d==3&&this.JZ){var I=B.H.X0(this.K1);
D.D.qZ[this.id]={oB:I};D.cF=!0}};G._s.prototype.gh=function(D,n){var _=D.l,b=D.e,w=D.x+Math.floor(_*.2),i=D.y+Math.floor(b*.2);
n.push(w,D.y,w,D.y+b);n.push(D.x,i,D.x+_,i)};G._s.prototype._y=function(D,n){var _={d:S.J.f4,rl:D},b=new ho(S.E.W,!0);
b.data=_;n.c(b)};G._s.prototype._g=function(D){var n=this.rm.Uz()[0],_=this.mR,b=this.arY[n];this.LA(_,b)};
G._s.prototype.nz=function(D){var n=JSON.parse(JSON.stringify(this.Wc.BE));n.gK=this.D$.Uz()[0];var _=new ho(S.E.W,!0);
_.data={d:S.J.VS,hy:da.Xk,ub:n};this.d2.c(_)};G._s.prototype.nq=function(D,n,_,b,w){if(this.JZ)this.m_(D,n,_,b,w);
this.mR=D;this.Wc=_;this.d2=n;var i=D.s.it(w.x,w.y),M;if(G._s.UF(_,w,D.s)){M=this.D$}else{if(this.rm)this.rm.removeEventListener("select",this._g);
var N=[];D.root.ql(i,N);if(N.length==0)return;var a=[];this.arY=N;for(var k=0;k<N.length;k++)a.push({name:D.b[N[k]].getName()});
M=this.rm=new gN(a);M.h("select",this._g,this)}M.parent=n;M._();M.update(D,_);var o=new ho(S.E.W,!0);
o.data={d:S.J.Td,Vl:M,x:w.oh+2,y:w.aK+1};n.c(o)};G._s.prototype.Q6=function(D,n,_,b,w){var i=G._s.Ds(D,w);
return i!=-1||G._s.UF(_,w,D.s)};G._s.Ds=function(D,n){if(D==null||D.add.artd==null)return-1;var _=D.s.it(n.x,n.y),b=12*G.F()/D.s.V;
for(var k=0;k<D.b.length;k++){var w=D.b[k];if(!w.h$()||w.add.artb==null)continue;var i=w.w3(),M=new gl(i.x,i.y-1.7*b,b*w.getName().length*.5,b);
if(M.A1(_))return k}return-1};G._s.prototype.EE=function(D,n,_,b,w){var i=G._s.Ds(D,w),M=G._s.fR(D,D.s.it(w.x,w.y));
if(i!=-1){D.w=[i];if(_.ey==G.GZ){var N=new ho(S.E.W);N.data={d:S.J.Ou,g:G.Cz};n.c(N)}return}if(M!=-1){D.s.$m=M;
D.lP=!0;var N=new ho(S.E.W,!0);N.data={d:S.J.$o,Lt:jF.pk.al3};n.c(N);return}this._h=w;this.VA.bq(w.x,w.y);
this.dH=D.s.it(w.x,w.y);this.Kd=new eO(this.dH);this.u6(D,n,b,_,!0)};G._s.UF=function(D,n,_,b){var w=B.Hj.CI,i=_.pj.e;
return D.N3&&(0<n.x&&n.x<w||0<n.y&&n.y<w||b&&0<n.x&&n.x<4*w&&i-w<n.y&&n.y<i)};G._s.prototype.u6=function(D,n,_,b,w,i){var M,N=this.dH,a=!1;
if(w){var o=b.QX&&b.BE.eu;if(G._s.UF(b,this.VA,D.s)){M=D.l$();var U=D.l$(),V=null;if(this.VA.x<B.Hj.CI){V=[0,N.x]}if(this.VA.y<B.Hj.CI){V=[1,N.y]}U[0].push(V);
U[1].push(D.Mg());D.hY(U);if(!o){var c=new ho(S.E.W);if(!b.BE.eu){c.data={d:S.J.VS,hy:da.fz};n.c(c)}if(!b.QX){c.data={d:S.J.VS,hy:da.wS};
n.c(c)}o=!0}}var E=this.lp(D,N);if(o&&E!=null&&!D.gJ){this.d=2;this.fn=M?M:D.l$();this.e2=E;this.JZ=!0;
this.po=G.Q.YL(D);return}if(D.xo.length!=0){this.d=4;this.po=D.wK[D.xo[0]].rect.clone();this.JZ=!0;return}if(this.aL&&this.aL.uu(N,D.s.V,!0,this._h)!=null){var c=new ho(S.E.W);
c.data={d:S.J.Ou,g:G.pr,a9j:!0};n.c(c);return}if(D.q&&D.q.rect.A1(N)){var A=Math.round(N.x),Q=Math.round(N.y),J=D.q.rect;
a=D.q.channel[(Q-J.y)*J.l+A-J.x]>128}if(!a&&(!this.DO&&this.zm.xW||this.DO&&this.zm.xW&&(_.j(dz.CO)||D.w.length<2))){var L=this.a9P(D,N,_);
if(!L){D.w=[];D.F_=null;D.HH=D.ma=!0;this.d=3;this.K1=new gl;this.JZ=!0;return}}if(_.j(dz.u9)&&!a){var P=new ho(S.E.M);
P.g=G.vp;P.data={d:q.Jm,acL:!0};n.c(P)}}if(D.xo.length!=0){this.d=4;this.po=D.wK[D.xo[0]].rect.clone();
this.JZ=!0;return}this.e2=D.DF(i==null,i,null,!0);for(var k=0;k<this.e2.length;k++){var u=D.b[this.e2[k]];
if(u.Nd(2)||u.Nd(31)){alert(io.get([6,57,0]));return}}if(D.add.artd&&w){var m=this.e2,x=!1;for(var k=0;
k<m.length;k++)if(D.b[m[k]].add.artb)x=!0;if(!x){this.tk=[D,D.b.slice(0),D.w.slice(0),-1];this.e2.sort(function(T,e){return T-e})}}this.Dc=G._s.aiY(D,this.e2);
this.d=0;if(D.q&&(!w||a)&&D.w.length==1&&D.yP(!1)){if(!D.auc()){this.JZ=!1;return}var v=D.b[D.w[0]],W=_.j(dz.u9);
this.d=1;var Z=D.history[D.tK];if(Z.g==this&&Z.data.d==1&&Z.data.i==D.w[0]&&v.P8==v.AN.P8&&!W){this.yJ=Z}else{var r=v.AN,X=!1,$;
if(!v.Zr(D,D.q)||W){X=!0;v.sd(D,D.q,W)}if(v.AN.P8<=0){$=B.U(v.AN.Aa.length>>2);B.Ef(v.AN.Aa,$,3)}else $=D.q.channel.slice(0);
var I={rect:v.AN.XC.clone(),channel:$};this.yJ=new jv(W?[12,53]:[12,54],this);this.yJ.data={d:1,i:D.w[0],AN:v.AN,gA:r,sX:X,dD:D.q,yr:I,Ww:new gZ(0,0)};
D.$i(this.yJ);D.q=I;D.oT=!0}}this.JZ=!0;this.po=G.Q.YL(D)};G._s.prototype.a9P=function(D,n,_){var b=D.root.ql(new gZ(Math.floor(n.x),Math.floor(n.y)));
if(b){if(b.i.add.vmsk)D.cF=!0;var w=D.b.indexOf(b.i);if(_.j(dz.CO)){var i=D.w.indexOf(w);if(i==-1)D.w.push(w);
else if(D.w.length>1)D.w.splice(i,1)}else if(D.w.indexOf(w)==-1){this.LA(D,w)}}return b!=null};G._s.prototype.LA=function(D,n){D.b[n].P8=0;
D.w=[n];D.F_=null;D.WH();D.Eh=!0;D.HH=!0};G._s.fR=function(D,n){var _=D.add.Anno;if(_==null||_.length==0)return-1;
var b=30/D.s.V;for(var k=0;k<_.length;k++)if(new gl(_[k][0],_[k][1],b,b).A1(n))return k;return-1};G._s.prototype.cp=function(D,n,_,b,w){this._h=w;
var i=D.s.it(w.x,w.y),E,A;if(this.Kd&&this.d<2)i=this.Kd.fm(i,b);if(!this.JZ){if(_.QX&&_.BE.eu&&D&&!D.gJ){var M=this.lp(D,i),N="default",a=G._s.Ds(D,w);
if(M!=null)N=["col-resize","row-resize"][D.eu[M][0]];else if(this.aL){var o=this.aL.uu(i,D.s.V,null,w);
if(o)N=o}else if(a!=-1||G._s.fR(D,i)!=-1){N="pointer"}this._y(N,n)}this.zw(D,i);return}var U=this.dH,V=Math.round(i.x-U.x)-this.w1.x,c=Math.round(i.y-U.y)-this.w1.y;
if(this.po){if(this.d==2){var Q=[];if(D.q)Q.push(D.q.rect);if(this.po)Q.push(this.po);if(D.s.KZ)Q.push(D.s.KZ);
i=G._s.Mr(D,i,_,[!1,Q,!0])}else{A=this.po.clone();A.offset(this.w1.x+V,this.w1.y+c);E=G._s.Ei(D,A,_);
V+=Math.round(E[0]);c+=Math.round(E[1])}}this.w1.x+=V;this.w1.y+=c;var J=this.tk;if(J&&D==J[0]){D.$N(J[1]);
D.w=J[2].slice(0);J[3]=-1}this.xw(D,V,c,i,null,b.j(dz.CO));if(J&&D==J[0]){var L=this.po.clone();L.offset(this.w1.x,this.w1.y);
var P=new gZ(L.x+L.l/2,L.y+L.e/2),a=D.Mg(),u=-1;for(var k=0;k<D.b.length;k++){var m=D.b[k];if(!m.h$()||m.add.artb==null)continue;
var x=m.w3();if(x.A1(P))u=k}if(u!=-1&&u!=a){var v=G.oM.Dx(D,this.e2,u,!0,null,!1);D.$N(v[0]);D.w=v[1];
J[3]=u}}this.zw(D,i);if(E)G._s.Xs(D,A,E)};G._s.prototype.lp=function(D,n){var _=G.Bk(D,this._h);n=[n.x,n.y];
var b=D.l$(),w=D.Mg();for(var k=0;k<b[0].length;k++){var i=b[0][k],M=b[1][k];if(M!=-1&&M!=w)continue;
if(Math.abs(i[1]-n[i[0]])<_)return k}return null};G._s.prototype.xw=function(D,n,_,b,w,i){if(this.d==0){if(w)G._s.Gm(D,this.e2,this.Dc,w);
else G._s.NE(D,this.e2,this.Dc,n,_)}else if(this.d==1){var M=this.yJ.data;M.Ww.offset(n,_);G._s.ki(D,M.i,n,_)}else if(this.d==2){var N=1e-5;
if(i)N=D.s.V<=1?10:1;else if(D.s.V<=1)N=1;var a=N*Math.round(b.x/N),o=N*Math.round(b.y/N),U=[a,o],V=D.eu[this.e2];
V[1]=U[V[0]]}else if(this.d==3){var c=this.dH,E=B.H.cx([c.x,c.y,b.x,b.y]);this.K1=E;var A=[];D.root.ac1(E,A);
if(JSON.stringify(D.w)!=JSON.stringify(A)){D.w=A;D.HH=D.ma=!0}}else if(this.d==4){for(var k=0;k<D.xo.length;
k++)D.wK[D.xo[k]].rect.offset(n,_);D.cF=!0}};G._s.ki=function(D,n,_,b){var w=D.b[n];D.q.rect.offset(_,b);
w.JA(D,_,b,D.q);D.oT=!0;D.G()};G._s.prototype.m_=function(D,n,_,b,w,i){this.XG(D,w,_);this.zw(D);if(Date.now()-this.gy<300&&!i){var M=G.eC.RU(D,D.s.it(w.x,w.y));
if(G._s.UF(_,w,D.s,!0)){var N=new ho(S.E.W);if(w.y>D.s.pj.e-20){N.data={d:S.J.a_,Lt:"doczoom",JJ:D.s.V*100,aV:{T:S.E.M,g:G.TS,P:{d:"pzoom"}}}}else{N.data={d:S.J.a_,Lt:"preferences"}}n.c(N)}else if(M>=0){var a=new ho(S.E.M,!0);
a.g=G.vu;a.data={d:"editCurr",py:M};n.c(a)}}this.gy=Date.now();G.v1.Md(D)};G._s.prototype.XG=function(D,n,_,b,w){if(!this.JZ)return;
this.JZ=!1;if(this.d==0){if(b){this.C9(D,null,b,w)}else{if(this.w1.x==0&&this.w1.y==0)return;this.C9(D,this.w1.clone())}D.lP=!0}else if(this.d==2){var i=0;
n=[n.x,n.y];var M=this.e2,N=D.eu[M],iM=this.fn[0].length,a=D.eu.length;if(_.N3&&n[N[0]]<B.Hj.CI){var o=D.l$();
o[0].splice(M,1);o[1].splice(M,1);D.hY(o);i=1;if(iM==a-1)return}if(iM<a)i=2;var U=new jv([[23,2],[23,3],[23,4]][i],this);
U.data={d:2,fn:this.fn,kk:D.l$()};D.$i(U)}else if(this.d==4){var U=new jv([12,54],this);U.data={d:4,w:D.xo.slice(0),r:this.w1.clone()};
D.$i(U)}this.w1.bq(0,0)};G._s.prototype.EL=function(D,n,_,b){var w=b.or();if(D!=null&&(w.x!=0||w.y!=0)){if(b.j(dz.u9)&&D.q==null){var i=new ho(S.E.M);
i.g=G.vp;i.data={d:q.Jm,acL:!0};n.c(i)}this.w1.bq(w.x,w.y);this.u6(D,n,b,_,!1);if(!this.JZ)return;this.xw(D,w.x,w.y);
this.XG(D,null,_);this.zw(D)}var M=b.j(dz.uH);if(!this.DO&&this.amT!=M){if(M){this.aej=this.zm.xW;this.zm.xW=!0}else{this.zm.xW=this.aej}this.amT=M;
var N=new ho(S.E.W,!0);N.data={d:S.J.NG,g:this.id,Bl:this.zm};n.c(N)}};G._s.prototype.k5=function(D,n){if(D.d==0){var _=D.i_;
if(_){n.$N(_.C4);n.w=_.Pg.slice(0);n.G();n.HH=!0}G._s.Gm(n,D.w,D.w8,D.N6,!0);G.v1.Md(n)}else if(D.d==2){n.hY(D.fn);
n.cF=!0}else if(D.d==4){for(var k=0;k<D.w.length;k++)n.wK[D.w[k]].rect.offset(-D.r.x,-D.r.y);n.cF=!0}else{var b=n.b[D.i];
if(D.sX){b.t1(n,D.gA);n.q=D.dD;n.oT=!0;n.G();b.G()}else{G._s.ki(n,D.i,-D.Ww.x,-D.Ww.y)}}};G._s.prototype.pS=function(D,n){if(D.d==0){G._s.Gm(n,D.w,D.w8,D.N6);
var _=D.i_;if(_){n.$N(_.S5);n.w=_.lm.slice(0);n.G();n.HH=!0}G.v1.Md(n)}else if(D.d==2){n.hY(D.kk);n.cF=!0}else if(D.d==4){for(var k=0;
k<D.w.length;k++)n.wK[D.w[k]].rect.offset(D.r.x,D.r.y);n.cF=!0}else{var b=n.b[D.i];if(D.sX){b.AN=D.AN;
n.q=D.yr;G._s.ki(n,D.i,0,0);b.G()}else{G._s.ki(n,D.i,D.Ww.x,D.Ww.y)}}};G._s.prototype.C9=function(D,n,_,b){if(_){var w=!0;
for(var k=0;k<_.length;k++)if(_[k]!=0)w=!1;if(w)return}var i=D.history[D.tK],M=this.tk,N=M!=null&&M[3]!=-1&&M[0]==D;
if(!N&&_==null&&i.data&&i.g==this&&i.data.d==0&&JSON.stringify(i.data.w)==JSON.stringify(this.e2)&&JSON.stringify(i.data.w8)==JSON.stringify(this.Dc)){var a=i.data.N6,o=i.data.aod.cR.T.v;
o.Hrzn.v.val+=n.x;o.Vrtc.v.val+=n.y;for(var k=0;k<a.length;k+=2){a[k]+=n.x;a[k+1]+=n.y}}else{if(n==null)n=new gZ(_[0],_[1]);
var U={_L:"move",cR:{classID:"null",null:cT.S0("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:n.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:n.y}}}}}},V=null;
if(N)V={C4:M[1],Pg:M[2],S5:D.b.slice(0),lm:D.w.slice(0)};this.tk=null;var c=new jv(b?b:[12,54],this);
if(_)c.data={d:0,w:this.e2,w8:this.Dc,i_:V,N6:_};else c.data={d:0,w:this.e2,w8:this.Dc,i_:V,N6:G._s.iH(this.e2,n.x,n.y)};
c.data.aod=U;D.$i(c);this.track(U)}};G._s.iH=function(D,n,_){var b=[];for(var k=0;k<D.length;k++)b.push(n,_);
return b};G._s.NE=function(D,n,_,b,w){G._s.Gm(D,n,_,G._s.iH(n,b,w))};G._s.Gm=function(D,n,_,b,w){if(n.length==0)return;
if(_==null){_=[];for(var k=0;k<n.length;k++){_.push(D.b[n[k]].vG(D,!0))}}var i=new gl,M=new gl(0,0,D.l,D.e);
for(var k=0;k<n.length;k++){var N=b[2*k],a=b[2*k+1];if(w){N=-N;a=-a}var o=D.b[n[k]],U=_[k];if(o.add.fxrp&&(U.indexOf(0)!=-1||o.x6()))o.add.fxrp.offset(N,a);
for(var V=0;V<U.length;V++){var c=U[V];if(c==0){o.rect.offset(N,a);if(o.Ug()&&o.tr(D))o.tr(D).rect.offset(N,a);
if(o.add.artb){var E=o.w3();E.offset(N,a);o.Cx(E);var A=o.add.artb.guideIndeces;A=A?A.v:[];for(var Q=0;
Q<A.length;Q++){var J=D.eu[A[Q].v];J[1]+=J[0]==0?N:a}}if(o.add.TySh){o.add.TySh.A.translate(N,a);if(o.add.TySh.add){o.add.TySh.add.vmsk.offset(N,a)}}if(o.add.SoLd){var L=new e3(1,0,0,1,N,a),P=o.add.SoLd,u=G.Q.CJ(P.Trnf),m=G.Q.CJ(P.nonAffineTransform);
B.H.A(u,L,u);B.H.A(m,L,m);P.Trnf=G.Q.sy(u);P.nonAffineTransform=G.Q.sy(m);G.Q.S$(P,L)}}if(c==1)o.us().rect.offset(N,a);
if(c==2){o.add.vmsk.offset(N,a);if(o.add.vogk)B.dd.A(o.add.vogk,[1,0,N,0,1,a,0,0],[])}if(c==3){o.tr(D).v.rect.offset(N,a);
if(U.length==1)o.G()}}if(U.length>0){var x=o.add.GdFl;if(x==null)x=o.add.PtFl;if(o.x6()&&!o.px()&&o.add.vmsk!=null&&B.$.UN(o.add.vmsk.Y)&&o.add.vmsk._i==255&&(x==null||x.Algn&&x.Algn.v)){o.rect.offset(N,a)}else o.p8(D);
var v=D.root.RE(o.HU(D),D,n[k]);if(o.add.artb)v=v.Ik(o.w3());i=i.Ik(v);v.offset(-N,-a);i=i.Ik(v);if(o.Av()&&o.v&&o.v.color==255)i=i.Ik(M);
o.yx()}}D.G(B.H.__(i))};G._s.aiY=function(D,n){var _=[];for(var k=0;k<n.length;k++){var b=D.b[n[k]];
_.push(b.vG(D))}return _};G._s.Xs=function(D,n,_){var b=D.D.O0={t:[],C:[]},w=n.x+_[0],i=n.y+_[1];if(_[2]!=1e9){b.C.push("M","L");
b.t.push(_[2],i,_[2],i+n.e)}if(_[3]!=1e9){b.C.push("M","L");b.t.push(w,_[3],w+n.l,_[3])}D.cF=!0};G._s.Mr=function(D,n,_,b){var w=G._s.MY(D,[[n.x],[n.y]],_,b);
return new gZ(n.x+w[0],n.y+w[1])};G._s.Ei=function(D,n,_,b,w){var i=w==!0?1:.5,M=G._s.MY(D,[[n.x,n.x+Math.round(n.l*i),n.x+n.l],[n.y,n.y+Math.round(n.e*i),n.y+n.e]],_,b);
return M};G._s.MY=function(D,n,_,b){if(b==null)b=[!0,null,!0];var w=[0,0,1e9,1e9];if(!_.U_)return w;
var i=JSON.parse(JSON.stringify(n));for(var M=0;M<2;M++){var N=1e9,a=n[M],o=0;for(var U=0;U<a.length;
U++){var V=G._s.ak9(D,a[U],i[1-M][U],M,_,b);if(V!=1e9)i[M][U]=V;if(V!=1e9&&Math.abs(V-a[U])<Math.abs(N)){N=V-a[U];
o=V}}if(N!=1e9){w[M]=N;w[M+2]=o}}return w};G._s.ak9=function(D,n,_,b,w,i){var M=1e9,N=w.YR,a=w.BE,o=[D.root];
while(o.length!=0&&N[2]){var U=o.pop(),V=U.i,c=V.rect;if(!V.h$())continue;if(U.children)for(var k=0;
k<U.children.length;k++)o.push(U.children[k]);if(D.w.indexOf(U.index)!=-1||c.hk())continue;if(b==0){var E=c.l,A=E>>>1;
if(Math.abs(c.x-n)<Math.abs(M-n))M=c.x;if(Math.abs(c.x+A-n)<Math.abs(M-n))M=c.x+A;if(Math.abs(c.x+E-n)<Math.abs(M-n))M=c.x+E}else{var Q=c.e,J=Q>>>1;
if(Math.abs(c.y-n)<Math.abs(M-n))M=c.y;if(Math.abs(c.y+J-n)<Math.abs(M-n))M=c.y+J;if(Math.abs(c.y+Q-n)<Math.abs(M-n))M=c.y+Q}}if(i[0]&&N[0]&&a.eu&&w.QX){var L=D.l$(),P=L[0],u=L[1],m=D.Mg();
for(var k=0;k<P.length;k++)if((u[k]==-1||u[k]==m)&&P[k][0]==b&&Math.abs(P[k][1]-n)<Math.abs(M-n))M=P[k][1]}if(N[1]&&a.sM&&w.QX){var x=Math.round(B.Hj.K9(a.L$,D.Cn,D.l,a.th));
if(b==1&&a.co==1){var v=_*.5*Math.sqrt(4/3),W;x*=Math.sqrt(4/3);W=Math.round((n-v)/x)*x+v;if(Math.abs(W-n)<Math.abs(M-n))M=W;
W=Math.round((n+v)/x)*x-v;if(Math.abs(W-n)<Math.abs(M-n))M=W}else{var W=Math.round(n/x)*x;if(Math.abs(W-n)<Math.abs(M-n))M=W}}var Z=D.wX;
if(N[3]&&a.wX&&w.QX&&Z.length!=0){for(var k=0;k<Z.length;k++){if(!i[2]&&D.GM.indexOf(k)!=-1)continue;
var r=G.dL.v0(Z,k);for(var X=0;X<3;X+=2)if(r[X+b]!=n&&Math.abs(r[X+b]-n)<Math.abs(M-n))M=r[X+b]}}if(i[1])for(var $=0;
$<i[1].length;$++){var c=i[1][$],E=c.l,Q=c.e,I=[c.x,c.y,c.x+(E>>>1),c.y+(Q>>>1),c.x+E,c.y+Q];for(var k=0;
k<6;k+=2)if(Math.abs(I[k+b]-n)<Math.abs(M-n))M=I[k+b]}if(N[4]){var c=new gl(0,0,D.l,D.e),m=D.Mg();if(m!=-1)c=D.b[m].w3();
var E=c.l,Q=c.e,I=[c.x,c.y,c.x+(E>>>1),c.y+(Q>>>1),c.x+E,c.y+Q];for(var k=0;k<6;k+=2)if(Math.abs(I[k+b]-n)<Math.abs(M-n))M=I[k+b]}var T=Math.abs(M-n)<=4*G.F()/D.s.V?M:1e9;
return T};G.Kx=function(){G.fq.call(this,[10,12],G.O3,"tools/mwand")};G.Kx.prototype=new G.fq;G.Kx.prototype.BV=G.fq.prototype.ahO;
G.Kx.prototype.Mv=G.fq.prototype.aaP;G.Kx.prototype.l2=function(D,n,_,b){this.finish(D,n,_,b)};G.Kx.prototype.getSelection=function(D,n,_,b){var w=this.pM,i=G.fq.agN(new gZ(Math.floor(w.x),Math.floor(w.y)),this.zm.wconf,this.zm.sall);
return i};G.Kx.gS=function(D,n,_,b,w){if(D.w.length!=1){alert("More than one layer selected.");return null}var i=D.b[D.w[0]],M=null,N;
if(w)M=i.P8<=0?null:i.P8==1?i.us():i.tr(D).v;if(M==null&&i.add.lsct!=null&&i.add.lsct!=f4.h1){alert("No layer selected.");
return null}if(n.x<0||n.x>D.l||n.y<0||n.y>D.e)return null;var a=new gl(0,0,D.l,D.e);if(b){N=D.iS()}else if(M==null&&a.l8(i.rect))N=i.buffer;
else{N=B.U(a.u()*4);if(M==null)B.E3(i.buffer,i.rect,N,a);else G.NF.g2(M.channel,M.rect,M.color,N,a)}var o=G.Kx.o1(N,a,n,null,_),U=B.y2(o,a),V=B.U(U.u());
B.I4(o,a,V,U);return{rect:U,channel:V}};G.Kx.cz=function(D,n,_){var b=n.l,w=n.e,M=0,N=0,a=0,o=0;D=new Uint32Array(D.buffer);
var i=[],U=_.length;for(var k=0;k<U;k++){var V=_[k],c=Math.round(V.x-.5-n.x),E=Math.round(V.y-.5-n.y);
c=Math.max(0,Math.min(b-1,c));E=Math.max(0,Math.min(w-1,E));var A=E*b+c,Q=D[A];i.push([Q&255,Q>>8&255,Q>>16&255,Q>>>24])}return i};
G.Kx.o1=function(D,n,_,b,w){D=new Uint32Array(D.buffer);var i=n.l,M=n.e,N=i*M;if(b==null)b=G.Kx.cz(D,n,[_]);
var a=Math.round(_.x-.5-n.x),o=Math.round(_.y-.5-n.y),U=o*i+a,V=Date.now(),c=B.U(i*M),E=w[0],A=1/E,Q=w[1]&&E>0?255:0;
if(w[2]){var J=B.U(c.length),L=new Uint32Array(N),P=1;L[0]=a<<16|o;J[U]=1;while(P>0){var u=L[P-1];P--;
var m=u>>>16,x=u&65535,k=x*i+m,v=G.Kx.iE(D[k],b);if(v>E){var W=Q*(1-Math.max(0,Math.min(1,(v-E)*A)));
c[k]=~~W}else{c[k]=255;if(x!=M-1&&J[k+i]==0){L[P++]=m<<16|x+1;J[k+i]=1}if(x!=0&&J[k-i]==0){L[P++]=m<<16|x-1;
J[k-i]=1}if(m!=i-1&&J[k+1]==0){L[P++]=m+1<<16|x;J[k+1]=1}if(m!=0&&J[k-1]==0){L[P++]=m-1<<16|x;J[k-1]=1}}}}else{for(var k=0;
k<N;k++){var v=G.Kx.iE(D[k],b);if(v<=E)c[k]=255}for(var x=0;x<M;x++)for(var m=0;m<i;m++){var k=x*i+m;
if(c[k]==0&&(m>0&&(c[k-1]==255||x>0&&c[k-i-1]==255||x<M-1&&c[k+i-1]==255)||m<i-1&&(c[k+1]==255||x>0&&c[k-i+1]==255||x<M-1&&c[k+i+1]==255)||x>0&&c[k-i]==255||x<M-1&&c[k+i]==255)){var v=G.Kx.iE(D[k],b),W=Q*(1-Math.max(0,Math.min(1,(v-E)*A)));
c[k]=~~W}}}return c};G.Kx.iE=function(D,n){var _=n.length,b=G.Kx.Cu(D,n[0]),k=1;while(k!=_){b=Math.min(b,G.Kx.Cu(D,n[k]));
k++}return b};G.Kx.Cu=function(D,n){var _=D&255,b=D>>>8&255,w=D>>>16&255,i=D>>>24&255;if(n[3]==0)return i<5?0:255;
var M=Math.max(Math.abs(_-n[0]),Math.max(Math.abs(b-n[1]),Math.abs(w-n[2])));return i==0?255:M};G.pC=function(D,n){if(n)G.NF.call(this);
else if(D)G.NF.call(this,[10,49],G.hW,"tools/camove");else G.NF.call(this,[10,26],G.It,"tools/patch");
this.Qg=null;this.PK=null;this.r=null;this.jY=null;this.t6=new gZ;this.lV=null;this.eT=null};G.pC.prototype=new G.NF;
G.pC.prototype.EE=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);if(D.q&&B.ql(i,D.q.channel,D.q.rect)){var M=new gl(0,0,D.l,D.e),N=M.zE(D.q.rect);
if(!D.yP()||N.hk())return;if(!0){var a=B.U(N.u());B.I4(D.q.channel,D.q.rect,a,N);D.q={channel:a,rect:N}}this.Ig(D);
this.mh(D);this.jY=i;this.t6=new gZ(i.x-D.q.rect.x,i.y-D.q.rect.y);this.eT=B.U(D.q.rect.u()*4);this.eT.fill(255);
if(this.zm.patch==1){var o=D.b[D.w[0]];o.sd(D,D.q,!0);if(o.AN==null)this.jY=null}this.lV=D.q.rect.clone()}else{this.PK={t:[i.x,i.y],C:["M"]};
this.Qg=i}};G.pC.prototype.cp=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);if(this.jY){if(this.zm.patch==1){if(D.xo.length==0){var M=D.b[D.w[0]].AN,N=i.x-this.t6.x,a=i.y-this.t6.y;
G._s.ki(D,D.w[0],Math.round(N-M.XC.x),Math.round(a-M.XC.y))}}else this.s5(D,i,"clone")}if(this.Qg){this.PK.C.push("L");
this.PK.t.push(i.x,i.y);this.Qg=i;D.D.oB=this.PK;D.cF=!0}};G.pC.prototype.m_=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);
if(this.jY){var M=D.q.rect.clone();if(this.id==G.hW){var N=D.b[D.w[0]];N.t1(D,N.AN);D.q.rect=this.lV.clone();
var a=B.U(D.q.rect.u()*4);B.tD(D.q.channel,a,3);this.he(D,"sheal",a,D.q.rect,D.q.rect);D.q.rect=M;M=M.Ik(this.lV)}this.s5(D,i,"heal");
this.finish(D,M,null,null,!0);D.G(M);this.jY=null}if(this.Qg){var o=G.fq.Fl(this.zm.setop,b.j(dz.CO),b.j(dz.u9)),U=new ho(S.E.$W,!0);
if(this.PK.t.length<=4)U.data=G.fq.A8();else U.data=G.fq.Pe(this.PK.t,o);n.c(U);this.Qg=null;D.D.oB=null;
D.cF=!0}};G.pC.prototype.xE=function(){return this.r};G.pC.prototype.fV=function(D,n,_,b,w){G.NF.prototype.fV.call(this,D,n,_,b,w);
this._y(w,b)};G.pC.prototype._y=function(D,n){var _="auto;";if(n!=null&&n.j(dz.CO)&&!n.j(dz.u9)||this.zm.setop=="union")_="copy";
var b=new ho(S.E.W,!0);b.data={d:S.J.f4,rl:_};if(this.caller)this.caller.c(b)};G.pC.prototype.s5=function(D,n,_){var b=new gZ(Math.round(this.jY.x-n.x),Math.round(this.jY.y-n.y));
if(this.zm.patch==1)b.bq(-b.x,-b.y);this.r=b;this.he(D,_,this.eT,D.q.rect,D.q.rect);this.G(D,D.q.rect)};
G.i3=function(){G.pC.call(this,!0);this.zm.patch=1};G.i3.prototype=new G.pC(!0,!0);G.Ok=function(){G.NF.call(this,[10,13],G.asz,"tools/pbucket");
this.ik=!1};G.Ok.prototype=new G.NF;G.Ok.prototype.enable=function(D,n,_,b){var w=new ho(S.E.W,!0);w.data={d:S.J.f4,rl:"default"};
n.c(w)};G.Ok.prototype.gB=function(D,n){};G.Ok.prototype.EE=function(D,n,_,b,w){this.ik=!0};G.Ok.prototype.m_=function(D,n,_,b,w,i){var M=this.ik;
this.ik=!1;if(!M||i)return;if(this.SQ(b,n,w))return;if(!D.yP())return;var N=D.s.it(w.x,w.y),a=G.Kx.gS(D,N,this.zm.wconf,this.zm.sall,!0);
if(a==null)return;var o=B.U(a.rect.u()*4);B.o5(o,(_.EH&255)<<16|(_.EH>>8&255)<<8|(_.EH>>16&255)<<0);
B.tD(a.channel,o,3);this.Ig(D);this.he(D,"draw",o,a.rect,a.rect);this.G(D,a.rect);this.finish(D,a.rect)};
G.KT=function(){G.fq.call(this,[10,14],G.a4U,"tools/plasso");this.ca="crosshair";this.o9=[];this.Xu=null;
this.PK=null;this.akf=0};G.KT.prototype=new G.fq;G.KT.prototype.disable=function(D,n,_,b){this.Vj(D)};
G.KT.prototype.l2=function(D,n,_,b){this.o9=[dz.$V,dz.cw]};G.KT.prototype.$z=function(D){return this.o9.indexOf(D)!=-1};
G.KT.prototype.Xn=function(D){return this.PK!=null};G.KT.prototype.G0=function(){return this.PK!=null};
G.KT.prototype.oX=function(){return this.PK!=null};G.KT.prototype.uK=function(D,n,_,b){if(this.PK==null)return;
var w=this.PK,i=w.t,M=i.length-2,N=this.pM;if(this.CU.pY(1)&&_.j(dz.u9)&&b.Xt){i.push(0,0);w.C.push("L");
M+=2}else if(_.j(dz.CO))N=G.ne.ff(new gZ(i[M-2],i[M-1]),N);i[M]=N.x;i[M+1]=N.y;D.D.oB=w;D.cF=!0};G.KT.prototype.R4=function(D,n,_,b){var w=Date.now();
if(this.PK==null)this.PK={t:[this.pM.x,this.pM.y,this.pM.x,this.pM.y],C:["M","L"]};else{this.uK(D,n,_,b);
if(w-this.akf<250||gZ._e(this.pM,new gZ(this.PK.t[0],this.PK.t[1]))<G.Bk(D,b)){this.Xu=this.PK;this.finish(D,n,_,b);
this.Vj(D);return}this.PK.C.push("L");this.PK.t.push(this.pM.x,this.pM.y)}this.akf=w;D.D.oB=this.PK};
G.KT.prototype.Vj=function(D){this.PK=null;this.o9=[];if(D!=null){D.D.oB=null;D.cF=!0}};G.KT.prototype.EL=function(D,n,_,b){G.fq.prototype.EL.call(this,D,n,_,b);
if(b.j(dz.Gt)&&this.PK==null&&this.Xu&&D.q!=null){var w=new ho(S.E.M);w.g=G.rX;w.data={d:"h_stepbck"};
n.c(w);this.l2(D,_,b,null);this.PK=this.Xu;return}if(this.PK==null)return;if(b.j(dz.$V)||b.j(dz.cw)){this.PK.t.pop();
this.PK.t.pop();this.PK.C.pop();this.uK(D,_,b)}if(b.j(dz.Eb)){if(this.PK.t.length>4){this.Xu=this.PK;
this.finish(D,_,b)}this.PK=null}if(b.j(dz.Gt)){this.PK=null}D.D.oB=this.PK;D.cF=!0};G.KT.prototype.getSelection=function(D,n,_,b){return G.fq.Pe(this.PK.t,null,this.zm.anta)};
G.Wo=function(){G.fq.call(this,[10,10],G.abv,"tools/mlasso");this.ca="crosshair";this.o9=[];this.Y=[];
this.YC=[];this.ZK=[];this.LI=null;this.Hp=null;this.EM=null;this.gy=0;this.oQ=0};G.Wo.prototype=new G.fq;
G.Wo.prototype.disable=function(D,n,_,b){this.clear(D)};G.Wo.prototype.Xn=function(D){return this.Y.length!=0};
G.Wo.prototype.oX=function(){return this.Y.length!=0};G.Wo.prototype.$z=function(D){return this.o9.indexOf(D)!=-1};
G.Wo.prototype.l2=function(D,n,_,b){this.o9=[dz.$V,dz.cw];var w=this.v4(this.BY,D);if(this.Y.length!=0&&(gZ._e(w,this.Y[0])<G.Bk(D,b)||Date.now()-this.gy<300)){this.x7(D,this.Y[0]);
this.finish(D,n,_);this.clear(D);return}this.gy=Date.now();if(this.Y.length!=0)w=this.Ew(w,D);else{var i=D.l,M=D.e,N=B.U(i*M),a=D.iS(),o=i*M*4;
for(var k=0;k<o;k+=4)N[k>>>2]=~~(.5+B.cu(a[k],a[k+1],a[k+2])*(a[k+3]*(1/255)));this.LI=B.W1.aeG(N,i,M);
this.EM=new Uint16Array(N.length)}this.x7(D,w);this.oQ=_.j(dz.u9)?1:0;this.$$(D)};G.Wo.prototype.x7=function(D,n){var _=this.Y;
this.YC[_.length]=this.ZK.length;if(_.length!=0){B.W1.wf(this.Hp,n.y*D.l+n.x);var b=this.yO(D,n);b.reverse();
var w=G.Wo.IZ(D,b);this.ZK=this.ZK.concat(w)}_.push(n);this.e4(D)};G.Wo.prototype.e4=function(D){var n=this.Y[this.Y.length-1],_=n.y*D.l+n.x;
this.Hp=B.W1.a08(this.LI.wg,this.LI.kL,_);this.EM.fill(0)};G.Wo.prototype.v4=function(D,n){return new gZ(Math.floor(Math.max(0,Math.min(n.l-1,D.x))),Math.floor(Math.max(0,Math.min(n.e-1,D.y))))};
G.Wo.prototype.clear=function(D){this.ZK=[];this.Y=[];this.YC=[];this.LI=null;this.Hp=null;this.EM=null;
if(D!=null){D.D.oB=null;D.D.zc=[];D.cF=!0}this.o9=[]};G.Wo.prototype.uK=function(D,n,_,b){var w=this.Y,i=w.length;
if(i==0)return;var M=this.Ew(this.v4(this.pM,D),D),N=this.yO(D,M);for(var k=0;k<N.length;k++){var a=N[k],o=new gZ(a%D.l,Math.floor(a/D.l));
if(this.EM[a]>30&&gZ._e(o,w[i-1])>20){this.x7(D,o);return}this.EM[a]++}if(this.oQ==1&&b.Xt)this.x7(D,M);
this.$$(D)};G.Wo.prototype.$$=function(D){var n=this.Y;if(n.length!=0){var _=this.Ew(this.v4(this.pM,D),D),b=this.yO(D,_);
b.reverse();var w=G.Wo.IZ(D,b),i=this.ZK.concat(w),M=D.D.oB={t:i,C:["M"]};for(var k=2;k<i.length;k+=2)M.C.push("L")}D.D.zc=[];
for(var k=0;k<n.length;k++)D.D.zc.push(n[k].x+.5,n[k].y+.5);D.cF=!0};G.Wo.prototype.R4=function(D,n,_,b){};
G.Wo.prototype.EL=function(D,n,_,b){if(this.Y.length==0)return;if(b.j(dz.$V)||b.j(dz.cw)){this.Y.pop();
this.ZK=this.ZK.slice(0,this.YC[this.Y.length]);this.YC.pop();if(this.Y.length==0)this.clear(D);else this.e4(D);
this.$$(D)}if(b.j(dz.Eb)){var w=this.v4(this.pM,D);this.x7(D,w);this.finish(D,_,b);this.clear(D)}if(b.j(dz.Gt)){this.clear(D)}};
G.Wo.prototype.getSelection=function(D,n,_,b){return G.fq.Pe(this.ZK,null,this.zm.anta)};G.Wo.prototype.yO=function(D,n){var _=this.Y[this.Y.length-1],b=_.y*D.l+_.x,w=n.y*D.l+n.x;
if(this.oQ==1)return[w,b];var i=[w];while(w!=b){w=this.Hp.bI[w];i.push(w);if(i.length>5e3){console.log(i);
throw"e"}}return i};G.Wo.IZ=function(D,n){var _=[],b=D.l;for(var k=0;k<n.length;k++){var w=n[k];_.push(w%b+.5,Math.floor(w/b)+.5)}return _};
G.Wo.prototype.Ew=function(D,n){var _=n.l,b=n.e,w=D.clone(),M=3;B.W1.wf(this.Hp,D.y*_+D.x);var i=this.Hp.Yf[D.y*_+D.x];
for(var N=-M+1;N<M;N++)for(var a=-M+1;a<M;a++){var o=D.x+a,U=D.y+N;if(o<0||o>=_||U<0||U>=b)continue;
B.W1.wf(this.Hp,U*_+o);if(this.Hp.Yf[U*_+o]<i)w.bq(o,U)}return w};G.te=function(){G.ou.call(this,[10,36],G.w4,"tools/ruler");
this.OJ=null;this.yh=null;this.TL=null;this.Qo=null;this.Ph=null};G.te.prototype=new G.ou;G.te.prototype.Xn=function(D){return D.Xt};
G.te.prototype.enable=function(D,n,_,b){G.ou.prototype.enable.call(this,D,n,b,_);if(D)this.zw(D)};G.te.prototype.disable=function(D,n,_,b){if(D)this.Vj(D)};
G.te.prototype.KV=function(D,n,_,b,w){this.OJ=this.TL=null;this.zw(_)};G.te.prototype.EE=function(D,n,_,b,w){var i=G.Bk(D,w),M=D.s.it(w.x,w.y);
M.x=Math.round(M.x);M.y=Math.round(M.y);var N=this.OJ;this.yh=N?N.slice(0):null;var a=N&&gZ._e(M,N[0])<i,o=N&&gZ._e(M,N[1])<i,U=N&&N[2]&&gZ._e(M,N[2])<i;
if(a||o||U){if(b.j(dz.u9)&&N.length==2){if(o){var V=N[0];N[0]=N[1];N[1]=V}N[2]=N[0].clone();this.TL=[2]}else this.TL=[a?0:o?1:2]}else if(N&&G.te.amt(N[0],N[1],M)<i&&Math.min(N[0].x,N[1].x)-5<=M.x&&M.x<=Math.max(N[0].x,N[1].x)+5&&Math.min(N[0].y,N[1].y)-5<=M.y&&M.y<=Math.max(N[0].y,N[1].y)+5){this.TL=[];
this.Ph=[];for(var k=0;k<N.length;k++){this.TL.push(k);this.Ph.push(N[k].clone())}this.Qo=M}else{this.OJ=[M.clone(),M.clone()];
this.TL=[1]}};G.te.prototype.cp=function(D,n,_,b,w){if(this.TL==null)return;var i=this.OJ,M=this.TL,N=D.s.it(w.x,w.y);
N.x=Math.round(N.x);N.y=Math.round(N.y);if(M.length>1){var a=N.x-this.Qo.x,o=N.y-this.Qo.y;for(var k=0;
k<i.length;k++){i[k]=this.Ph[k].clone();i[k].offset(a,o)}}else{i[M[0]].bq(N.x,N.y);if(b.j(dz.CO)){i[M[0]]=G.ne.ff(i[1-M[0]],i[M[0]])}}this.zw(D);
this.Ye(n,S.E.W,{d:S.J.NG,g:this.id,ad2:i[0],hn:i[1],a7:i[2],Cn:D.Cn,a70:D.l});D.s.KZ=B.H.cx([i[0].x,i[0].y,i[1].x,i[1].y]);
console.log(D.s.KZ)};G.te.prototype.m_=function(D,n,_,b,w,i){this.TL=null;if(i){this.OJ=this.yh.slice(0);
this.zw(D)}};G.te.prototype.Ye=function(D,n,_){var b=new ho(n,!0);b.data=_;D.c(b)};G.te.prototype.zw=function(D){var n=this.OJ;
if(n==null)this.Vj(D);else{var _=[n[1].x,n[1].y,n[0].x,n[0].y],b=["M","L"];if(n.length>2){_.push(n[2].x,n[2].y);
b.push("L")}D.D.oB={C:b,t:_};D.D.zc=_}D.cF=!0};G.te.prototype.Vj=function(D){D.D.oB=null;D.D.zc=[]};
G.te.amt=function(D,n,_){var b=n.x-D.x,w=n.y-D.y,i=Math.abs(w*_.x-b*_.y+n.x*D.y-n.y*D.x),M=Math.sqrt(b*b+w*w);
return M==0?0:i/M};G.wY=function(){G.NF.call(this,[10,19],G.rS,"tools/sharpen");this.T8="copy"};G.wY.prototype=new G.NF;
G.wY.prototype.EE=function(D,n,_,b,w){var i=this.zm.pdetail?eg.UM:eg.rS;if(b.j(dz.u9))i=eg.P2;this.gY(D,_,b,w,this.zm.strn,i);
if(this.Ey==null)return;this.xq(D)};G.wY.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.n3=function(){G.NF.call(this,[10,24],G.zt,"tools/shbrush");
this.T8="draw";this.zm.opacity=.5};G.n3.prototype=new G.NF;G.n3.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,1);
if(this.Ey==null)return;this.mh(D);this.xq(D)};G.n3.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);
if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.n3.prototype.m_=function(D,n,_,b,w){if(this.Ey==null)return;
this.he(D,"sheal",this.Ey.Mn(),this.Ey.YL(),this.Ey.X6(),null);this.G(D,this.Ey.X6());G.NF.prototype.m_.call(this,D,n,_,b,w)};
G.L6=function(){G.NF.call(this,[10,20],G.iY,"tools/smudge");this.T8="copy"};G.L6.prototype=new G.NF;
G.L6.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,this.zm.strn,eg.iY);if(this.Ey==null)return;this.xq(D)};
G.L6.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;
if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.ka=function(){G.NF.call(this,[10,23],G.E9,"tools/sponge");
this.T8="sponge"};G.ka.prototype=new G.NF;G.ka.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,this.zm.flow);
if(this.Ey==null)return;this.xq(D)};G.ka.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);if(this.QL)this.$S(D,_,w);
if(this.Ey==null)return;if(!w.Xt)return;this.FT(D,_,b,w);this.xq(D)};G.TY=function(){G.ou.call(this,[10,17],G.TS,"tools/zoom");
this.ei=!1;this.JO=!0;this.xk=0;this.af=null;this.PX=null;this.Mm=0;this.Z4=null;this._j=0;this.D$=new gN([{name:[8,0],BQ:"Ctrl + +"},{name:[8,1],BQ:"Ctrl + -",Mb:!0},{name:[20,3],BQ:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],BQ:"Ctrl + 1"}],[{T:S.E.M,g:G.TS,P:{d:"zoom",JO:!0}},{T:S.E.M,g:G.TS,P:{d:"zoom",JO:!1}},{T:S.E.M,g:G.TS,P:{d:"adapt",k:"fitscr"}},{T:S.E.M,g:G.TS,P:{d:"adapt",k:"pixel"}}])};
G.TY.prototype=new G.ou;G.TY.prototype.nq=function(D,n,_,b,w){var i=this.D$;i._();i.parent=n;i.update(D,_);
var M=new ho(S.E.W,!0);M.data={d:S.J.Td,Vl:i,x:w.oh+2,y:w.aK+1};n.c(M)};G.TY.prototype.enable=function(D,n,_,b){this._b(n,b);
if(D&&Date.now()-this.xk<300)this.KV({d:"adapt",k:"pixel"},n,D,b,_);this.xk=Date.now()};G.TY.prototype.EE=function(D,n,_,b,w){this.PX=new gZ(w.x,w.y);
this.Mm=D.s.V;this.Z4=D.s.r.clone()};G.TY.prototype.cp=function(D,n,_,b,w){if(this.PX==null)return;var i=Math.exp(Math.log(this.Mm)+(w.x-this.PX.x)/64);
i=Math.max(.02,Math.min(G.TY.Jg[0],i));D.s.V=this.Mm;D.s.r=this.Z4.clone();this.KV({d:"zoom",V:i,_h:this.PX},n,D,b,_)};
G.TY.prototype.m_=function(D,n,_,b,w){if(gZ._e(this.PX,w)<4){var i=this.jK(b);this.KV({d:"zoom",JO:i,_h:w},n,D,b,_)}this.PX=null};
G.TY.Jg=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
G.TY.b5=function(D,n,_,b){var w=1;while(D*w*1/2>_||n*w*1/2>b)w*=1/2;if(D*w*2/3>_||n*w*2/3>b)w*=1/2;else if(D*w>_||n*w>b)w*=2/3;
return w};G.TY.XZ=function(D,n){var _=G.TY.a1Y(D);if(n&&_==0)return D;if(!n&&_==G.TY.Jg.length-1)return D;
return G.TY.Jg[n?_-1:_+1]};G.TY.a1Y=function(D){var n=0;while(G.TY.Jg[n]>D)n++;return n};G.TY.qQ=function(D,n,_,b){var w=D.ly;
if(b==0||b==null){b=G.TY.XZ(D.V,_);if(b==D.V)return}var i=D.it(n.x,n.y);if(w.l*b<=D.pj.l&&w.e*b<=D.pj.e){D.r.bq(0,0);
D.V=b}else{var M=D.RR(),N=D.V/b;M.translate(-i.x,-i.y);M.scale(N,N);M.translate(i.x,i.y);D.ap0(M)}};
G.TY.prototype.KV=function(D,n,_,b,w){if(D.d=="pzoom"){if(typeof D.k=="string")return;D={d:"zoom",V:D.k/100}}var i=0,M=!1,N=null;
if(D.d=="adapt"){var a=0;if(D.k=="pixel")a=1;if(D.k=="fitscr"){var a=0,o=_.s.pj.l,U=_.s.pj.e,V=w.N3?B.Hj.CI+4:8;
a=Math.min((o-V*2)/_.l,(U-V*2)/_.e)}N=new gZ(Math.round(_.s.pj.l/2),Math.round(_.s.pj.e/2));i=a;G.TY.qQ(_.s,N,M,i);
_.lP=!0}if(D.d.startsWith("multi")){function c(W){var Z=W[0].x-W[1].x,r=W[0].y-W[1].y;return Math.sqrt(Z*Z+r*r)}function E(W){return new gZ((W[0].x+W[1].x)/2,(W[0].y+W[1].y)/2)}var A=D.Jv,Q=E(A);
if(D.d=="multidown"){this.af=[A,_.s.V,_.s.it(Q.x,Q.y)]}else{var J=G.TY.Jg;i=this.af[1]*c(A)/c(this.af[0]);
i=Math.max(J[J.length-1],Math.min(J[0],i));if(i!=_.s.V)G.TY.qQ(_.s,Q,M,i);var L=this.af[2],P=_.s.TO(L.x,L.y),u=_.s.r;
u.x=Math.round(u.x+Q.x-P.x);u.y=Math.round(u.y+Q.y-P.y);_.lP=!0}}if(D.d=="scroll"){N=D._h;this._j+=D.iQ.y;
var m=14;if(this._j<-m){M=!0;this._j=Math.max(this._j+m,-(m-1))}else if(this._j>m){M=!1;this._j=Math.min(this._j-m,m-1)}else return;
G.TY.qQ(_.s,N,M,i);_.lP=!0}if(D.d=="zoom"){N=D._h?D._h:new gZ(Math.round(_.s.pj.l/2),Math.round(_.s.pj.e/2));
if(D.V!=null)i=D.V;else M=D.JO;G.TY.qQ(_.s,N,M,i);_.lP=!0}if(D.d=="mskView"){var x=_.b[_.w[0]];if(x.P8<=0){x.P8=1;
_.HH=!0}var v=x.P8==3?x.tr(_).v:x.us();if(D.k==0){_.s.qJ=[1,1,1];v.Lr=!1}if(D.k==1){_.s.qJ=[1,1,1];v.Lr=!0}if(D.k==2){_.s.qJ=[0,0,0];
v.Lr=!0}for(var k=0;k<_.wK.length;k++)_.wK[k].Lr=!1;_.xo=[];_.cF=!0}};G.TY.prototype.EL=function(D,n,_,b){if(this.ei!=b.j(dz.u9)){this.ei=b.j(dz.u9);
var w={d:S.J.NG,g:this.id,ei:this.ei},i=new ho(S.E.W,!0);i.data=w;n.c(i);this._b(n,b)}};G.TY.prototype._b=function(D,n){var _=new ho(S.E.W,!0),b=this.jK(n);
_.data={d:S.J.f4,rl:b?"zoom-in":"zoom-out"};D.c(_)};G.TY.prototype.fV=function(D,n,_,b){this.JO=D.JO;
this._b(n,b)};G.TY.prototype.jK=function(D){var n=this.JO;if(D.j(dz.FO)&&D.j(dz.uH))n=!0;if(this.ei)n=!n;
return n};G.TY.Ej=function(D,n){if(D.j(dz.$R)||D.j(dz.amz)){n.g=G.TS;n.data={d:"zoom",JO:!0}}if(D.j(dz.nE)){n.g=G.TS;
n.data={d:"zoom",JO:!1}}if(D.j(dz.$M)){n.g=G.TS;n.data={d:"adapt",k:"fitscr"}}if(D.j(dz.iO)){n.g=G.TS;
n.data={d:"adapt",k:"pixel"}}};G.kG=function(D,n,_){G.ou.call(this,D,n,_);this.H2=null;this.Wc=null;
this.d2=null;this.au2=0};G.kG.prototype=new G.ou;G.kG.xM=function(D){var n={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},_=D==0?{classID:"null",null:n,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:n,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{_L:D==0?"fill":"stroke",cR:_}};G.kG.prototype.enable=function(D,n,_,b,w){this.Wc=_;var i=new ho(S.E.W,!0);
i.data={d:S.J.f4,rl:"default"};n.c(i)};G.kG.prototype.nq=function(D,n,_,b,w){var i=D.DZ(),M=i[0],N=i[1];
if(N.length==0)return;var a=M[N[0]],o=a.add.vmsk,U=D.s.it(w.x,w.y),V=4*G.F()/D.s.V,c=new gl(U.x-V,U.y-V,V*2,V*2),E=B.$.Ix(o.Y,c)[0];
if(E.length!=0){o.em=E;D.cF=!0}var A=B.$.ql(o.Y,U).gH;if(A!=-1){o.w=[A];D.cF=!0}var Q=new ho(S.E.W,!0);
Q.data={d:S.J.NG,g:this.id,Xd:w,zF:D,dO:_};n.c(Q)};G.kG.prototype.rT=function(D,n){var _=new ho(S.E.W,!0);
_.data={d:S.J.VS,hy:da.wS};if(!n.QX)D.c(_);_.data={d:S.J.VS,hy:da.ua};if(!n.BE.yE)D.c(_)};G.kG.prototype.Zc=function(D,n,_,b){if(_.ey!=this.id)return;
if(D.w.length==0)return;var w=D.b[D.w[0]],i=w.add.vmsk,M=w.add.vstk,N=G.kG.Nz(D,D.w[0]);this.H2=D;this.d2=n;
if(w.x6()&&i!=null&&(JSON.stringify(M)!=JSON.stringify(_.Ji)||JSON.stringify(N)!=JSON.stringify(_.lD))){this.au2=Date.now();
var a=new ho(S.E.W,!0);a.data={d:S.J.VS,hy:da.eU,k:N};n.c(a);a.data={d:S.J.VS,hy:da.Ol,k:M};n.c(a)}};
G.kG.prototype.gB=function(D,n){if(this.H2==null)return;if(n==da.XS||n==da.eU||n==da.Ol){if(Date.now()-this.au2<50)return;
var _=n==da.eU,b=this.H2,w=_?D.lD:D.Ji,i=[],M=b.w;for(var k=0;k<M.length;k++){var N=M[k],a=b.b[N];if(!a.x6()||a.add.vmsk==null)continue;
i.push(N)}var o=new ho(S.E.M,!0);o.g=G.vp;o.data={d:q.rb,n8:i,eQ:_,k:w};if(i.length!=0)this.d2.c(o)}};
G.kG.prototype.aoi=function(D){if(typeof D=="number"){var n=new ho(S.E.$W,!0);n.data=G.cD.Zh(0);n.data.cR.Usng.v.Type.v.Clr.v=B.X.Ea({p:D>>>16&255,z:D>>>8&255,S:D>>>0&255});
this.d2.c(n)}};G.kG.prototype.KV=function(D,n,_,b,w){this.d2=n;if(D.d=="newfill"){if(D.MJ==0){var i=new ho(S.E.W,!0);
i.data={d:S.J.a_,Lt:"colorpicker",zs:w.EH,vJ:this.aoi.bind(this)};n.c(i)}}else if(D.d=="pathedit"){var M=D._c,N="",a=_.yE.slice(0),o=_.QP.slice(0),U=_.yE.slice(0),V=_.QP.slice(0);
if(M=="rnm"){var c=-1-D.gH,E=a[c],A=ai.kV(D.name,E.add);if(c!=0)U[c]=A;else{V=[U.length];U.push(A);U[0]=ai.kV("Work Path")}N="Rename"}else if(M=="new"){var A=ai.kV("Path "+a.length);
if(D.adU){var Q=_.DZ(),J=Q[0],L=Q[1],P=J[L[0]];A.add.vmsk=P.add.vmsk.clone();A.add.vogk=JSON.parse(JSON.stringify(P.add.vogk));
if(P.gH==-1){var u=U[V[0]]=ai.kV("Path "+a.length);u.name=P.name;u.gH=P.gH}}U.push(A);V=[U.length-1];
N="New"}else if(M=="del"){if(V.length==0)return;V.sort(function(T,s){return T-s});if(V[0]==0){U[0]=ai.kV(a[0].name);
V=V.slice(1)}var m=0;while(V.length!=0){U.splice(V[0]-m,1);V=V.slice(1);m++}N="Delete"}else if(M=="fromsel"){var x=U[0]=ai.kV("Work Path");
V=[0];if(_.q==null)return;var v=_.q.channel.slice(0);for(var k=0;k<v.length;k++)v[k]=v[k]>128?2:1;var W=_.q.rect.clone();
W.Iq(1,1);var Z=B.U(W.u());B.I4(v,_.q.rect,Z,W);var r=cD.RF(Z,W.l,W.e,Math.round(W.u()*5e-4)),J=cD.DZ(r),X=new e3(1,0,0,1,-1+_.q.rect.x,-1+_.q.rect.y);
for(var k=0;k<J.length;k++)B.H.A(J[k].path.t,X,J[k].path.t);for(var k=0;k<J.length;k++){var $=J[k];if($.color==1&&$.parent==-1)continue;
var I=B.H.yL(J[k].path,!1);x.add.vmsk.Y=x.add.vmsk.Y.concat(I.slice(2))}x.add.vogk=q.GL(x.add.vmsk.Y);
N="Selection to"}var T=new jv(N+" Path",this);T.data={yh:a,Fe:o,a3S:U,Wn:V};if(M=="fromsel"){T.data.dD=_.q;
T.data.yr=null}_.$i(T);this.pS(T.data,_)}else{var e=D.Ln,Q=_.DZ(D.d=="append"),J=Q[0],L=Q[1],x=J[L[0]],F=x.add.vmsk,y=x.add.vogk,h=F.clone(),K=F.clone(),z=JSON.stringify(y);
if(D.d=="remove"){if(D.DY&&K.em.length!=0){K.Y=B.$.asi(K.Y,K.em,y);var f=B.$.Vz(K.Y);for(var k=0;k<K.w.length;
k++)if(K.w[k]>=f){K.w.splice(k,1);k--}K.em=[];e="Delete Anchors"}else{if(K.w.length==0)return;var m=0;
for(var k=0;k<K.w.length;k++){y.splice(K.w[k]+m,1);m--}K.Y=B.$.ak5(K.Y,K.w);K.w=[];K.em=[];if(e==null)e="Delete Paths"}}if(D.d=="append"){G.kG.zg(D.aoP,K,y)}this.dM(_,x.gH,K,y);
this.kQ(_,e,x.gH,h,K.clone(),null,z,JSON.stringify(y))}};G.kG.a5=function(D,n){var _=B.$.alS(D.Y,D.w),b=[];
for(var k=0;k<D.w.length;k++)b.push(JSON.parse(JSON.stringify(n[D.w[k]])));return[_,b]};G.kG.zg=function(D,n,_){var b=B.$.Vz(n.Y),w=B.$.Vz(D[0]);
n.Y=n.Y.concat(D[0].slice(2));n.w=[];for(var k=0;k<w;k++)n.w.push(b+k);for(var k=0;k<w;k++)_.push(JSON.parse(JSON.stringify(D[1][k])))};
G.kG.prototype.$z=function(D,n){if(n==null)return!1;var _=n.DZ(),b=_[0],w=_[1];if(w.length==0)return!1;
var i=b[w[0]],M=i.add.vmsk;if(M&&M.w.length+M.em.length!=0)return[dz.$V,dz.cw].indexOf(D)!=-1};G.kG.prototype.EL=function(D,n,_,b){if(D==null)return;
var w=D.DZ(),i=w[0],M=w[1];if(M.length==0)return;var N=i[M[0]],a=N.add.vmsk;if(b.j(dz.Gt)||b.j(dz.Eb)){a.em=[];
D.cF=!0}if(a.w.length!=0){var o=b.or();if(o.x!=0||o.y!=0){var U=a.clone(),V=a.clone(),c=new e3(1,0,0,1,o.x,o.y),E=N.add.vogk,A=JSON.stringify(E);
B.$.vZ(V.Y,c,V.w);B.dd.A(E,B.N.ug(c),V.w);this.dM(D,N.gH,V,E);this.kQ(D,"Move Paths",N.gH,U,V.clone(),!0,A,JSON.stringify(E))}if(b.j(dz.$V)||b.j(dz.cw))this.KV({d:"remove",DY:this.id==G.x3},n,D,b,_)}};
G.kG.prototype.kQ=function(D,n,_,b,w,i,M,N){var a=new jv(n,this);a.data={gd:_,Fc:b,Xw:w,acf:i,ap$:M,wL:N};
D.$i(a)};G.kG.prototype.pS=function(D,n){if(D.gd!=null)this.dM(n,D.gd,D.Xw.clone(),JSON.parse(D.wL));
else{n.yE=D.a3S.slice(0);n.QP=D.Wn.slice(0);n.cF=n.HH=!0}if(D.dD||D.yr){n.q=D.yr;n.oT=!0}};G.kG.prototype.k5=function(D,n){if(D.gd!=null)this.dM(n,D.gd,D.Fc.clone(),JSON.parse(D.ap$));
else{n.yE=D.yh.slice(0);n.QP=D.Fe.slice(0);n.cF=n.HH=!0}if(D.dD||D.yr){n.q=D.dD;n.oT=!0}};G.kG.prototype.dM=function(D,n,_,b){var w=n<0?D.yE[-1-n]:n<1e6?D.b[n]:D.b[n-1e6].add.TySh,i=w.add.vmsk;
i.channel=null;i.Vk=!0;if(i.dn){i.dn.channel=null;i.dn.Vk=!0}w.add.vmsk=_;w.add.vogk=b;if(1e6<=n){jg.wV(w);
var M=D.b[n-1e6],N=w,a=this.Wc,o=new h8(N.uP,a.mz),U=iy.az(o,N);M.rect=U.Kj;M.buffer=U.B_;M.G();D.G()}else if(0<=n){_.Vk=!0;
w.p8(D);D.G()}D.cF=D.HH=!0};G.kG.Nz=function(D,n){var _=D.b[n],b=_.add.vstk,w=null;if(b&&!b.fillEnabled.v)w={p5:0};
else if(_.add.SoCo)w={p5:1,Jh:_.add.SoCo};else if(_.add.GdFl)w={p5:2,Jh:_.add.GdFl};else if(_.add.PtFl)w={p5:3,Jh:_.add.PtFl};
return w};G.kG.k_=function(D,n){var _=D.add.vmsk,b=D.add.vstk,w=n.p5;if(b)b.fillEnabled.v=w!=0;if(w>0){var i=["SoCo","GdFl","PtFl"][w-1];
for(var k=0;k<3;k++)delete D.add[["SoCo","GdFl","PtFl"][k]];D.add[i]=n.Jh}};G.cD=function(D,n,_,b){G.kG.call(this,D,n,_);
this.zm={shape:cR.D2(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{hH:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.acw=b;this.KQ=null;this.C6=null;this.Z_=null;this.CU=new j8};G.cD.prototype=new G.kG;G.cD.prototype.Xn=function(D){return D.Xt&&this.id!=G.iI};
G.cD.prototype.enable=function(D,n,_,b,w){this.Wc=_;var i=new ho(S.E.W,!0);i.data={d:S.J.f4,rl:"crosshair"};
n.c(i)};G.cD.prototype.EL=function(D,n,_,b){G.kG.prototype.EL.call(this,D,n,_,b);this.CU.EL(b);this.Jf(n,_)};
G.cD.prototype.Jf=function(D,n){var _=new ho(S.E.W,!0);_.data={d:S.J.NG,g:this.id,Rn:this.aT(n)};D.c(_)};
G.cD.prototype.aT=function(D){var n=this.CU.eJ(0),_=this.CU.pY(0),b=G.fq.Fl(this.zm.binop,n,_);if(D.fC==1&&b==0)b=1;
return b};G.cD.prototype.TG=function(D,n,_,b){};G.cD.prototype.EE=function(D,n,_,b,w){var i=_.fC;if(i!=2)this.rT(n,_);
if(i==2&&!D.yP())return;var M=D.s.it(w.x,w.y);M=G._s.Mr(D,M,_);this.Z_=[M.x,M.y];this.KQ=M;this.C6=new gZ(0,0);
this.CU.EE(b)};G.cD.prototype.kc=function(D,n,_){var b=[this.KQ.clone(),n.clone()];_=this.CU.eJ(1)||this.CU.pY(1)?_:null;
if(this.acw)b=G.cD.UJ(b[0],b[1],_,!0,this.zm.cstr);if(D)D.s.KZ=new gl(b[0].x,b[0].y,b[1].x-b[0].x,b[1].y-b[0].y);
return this.TG(b[0],b[1],this.CU.eJ(1)&&_.j(dz.CO),this.Z_)};G.cD.prototype.q1=function(D,n,_){var b=D.s.it(n.x,n.y),w=this.zm.cstr;
if(w.hH==2){var i=new gl(b.x-w.x,b.y-w.y,w.x,w.y),M=G._s.Ei(D,i,_);b.x+=M[0];b.y+=M[1];G._s.Xs(D,i,M)}else b=G._s.Mr(D,b,_);
return b};G.cD.prototype.cp=function(D,n,_,b,w){if(this.KQ==null)return;var i=this.Z_,M=i.length,N=w?this.q1(D,w,_):new gZ(i[M-2],i[M-1]);
if(b.j(dz.FO))this.KQ=N.mG(this.C6);else this.C6=N.mG(this.KQ);i.push(N.x,N.y);if(this.zm.shape==null)this.zm.shape=_.B0[0];
var a=this.kc(D,N,b)[0],o=B.H.a8(a);D.D.oB=o;if(this.id!=G.iI&&this.id!=G.Jl&&this.id!=G.NJ)G.ou.cf(w,D.s.KZ,D,_);
D.cF=!0;this.CU.cp()};G.cD.prototype.auI=function(D,n,_,b){var w=D[4].clone();if(b){w.x-=n/2;w.y-=_/2}var i=this.TG(w,new gZ(w.x+n,w.y+_),!1,this.Z_);
this.BT(D[0],D[1],D[2],i)};G.cD.prototype.BT=function(D,n,_,b){var w=new ho(S.E.$W,!0);w.data=G.cD.Xi(b[1],_);
n.c(w);if(b[1].v.classID=="customShape"&&b[1].v.Nm.v.startsWith("--")){var i=D.DZ(),M=i[0],N=i[1],a=M[N.pop()],o=a.add.vmsk,U=a.add.vogk,V=o.clone();
V.Y=b[0];this.dM(D,a.gH,V,U)}};G.cD.prototype.m_=function(D,n,_,b,w,i){if(this.KQ==null)return;var M=this.q1(D,w,_),N=this.aT(_),a=_.fC,o=this.Z_,U=o.length;
if(this.id==G.iI&&U<=4){}else if(U<=4){M.x=Math.round(M.x);M.y=Math.round(M.y);var V=new ho(S.E.W);V.data={d:S.J.a_,Lt:"createshape",apk:this.auI.bind(this),ah3:this.name,agA:[D,n,_,b,M]};
if(!i)n.c(V)}else if(U!=2){var c=this.kc(D,M,b),E=c[0],A=D.DZ(!0),Q=A[0],J=A[1],L=J.length-1;if(a==1&&E.length>2||a==0&&N!=0&&L!=-1&&Q[J[L]].gH>=0){E[2].gW=[1,2,3,0][N-1];
var P=Q[J.pop()],u=P.add.vmsk,m=P.add.vogk,x=u.clone(),v=u.clone(),W=JSON.stringify(m);v.Y=v.Y.concat(E.slice(2));
v.w=[B.$.Vz(v.Y)-1];var Z=B.dd.Ll(c[1]);m.push(Z?Z:B.dd.ae());this.dM(D,P.gH,v,m);this.kQ(D,this.name,P.gH,x,v,null,W,JSON.stringify(m))}else if(a==0){this.BT(D,n,_,c)}else if(a==2){var v=new q.IQ;
v.Y=v.Y.concat(E.slice(2));var r=v.us();if(!this.zm.anta)B.round(r.channel);var X=B.U(r.rect.u()*4);
B.o5(X,(_.EH&255)<<16|(_.EH>>8&255)<<8|(_.EH>>16&255)<<0);B.tD(r.channel,X,3);var $=new ho(S.E.M,!0);
$.g=G.hP;$.data={d:"draw",uq:{buffer:X,rect:r.rect.clone()},Ln:this.name};n.c($)}}this.KQ=null;D.D.oB=null;
D.D.O0=null;D.D.Tf=[];D.s.KZ=null;D.cF=!0;this.CU.m_();this.Jf(n,_)};G.cD.prototype.fV=function(D,n,_,b,w){for(var _ in D)this.zm[_]=D[_]};
G.cD.UJ=function(D,n,_,b,w){var i=D.x,M=D.y,N=n.x,a=n.y;if(w&&w.hH==2){if(b){N=Math.round(N);a=Math.round(a)}i=N-w.x;
M=a-w.y}else{var o=0;if(w&&w.hH==1)o=w.y/w.x;else if(_&&_.j(dz.CO))o=1;if(o!=0){if(b){if(i<N)i=Math.floor(i);
else i=Math.ceil(i);if(M<a)M=Math.floor(M);else M=Math.ceil(M)}var U=Math.abs(N-i),V=Math.abs(a-M),c=U;
if(V/U<o)c*=V/U/o;N=N>i?i+c:i-c;a=a>M?M+c*o:M-c*o}if(_&&_.j(dz.u9)){i-=N-i;M-=a-M}}var D=new gZ(i,M),n=new gZ(N,a);
if(b)G.cD.ahM(D,n);return[D,n]};G.cD.ahM=function(D,n){if(D.x>n.x){var _=D.x;D.x=n.x;n.x=_}if(D.y>n.y){var _=D.y;
D.y=n.y;n.y=_}D.x=Math.floor(D.x);D.y=Math.floor(D.y);n.x=Math.ceil(n.x);n.y=Math.ceil(n.y)};G.cD.a1R=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
G.cD.Zh=function(D,n){var _=G.cD.a1R();if(n==null)n=JSON.parse(JSON.stringify(ci.HL[D]));G.oM.H0(n,_.Usng.v.Type.v,D);
return{_L:"make",cR:_}};G.cD.Xi=function(D,n){var _=n.lD,b=JSON.parse(JSON.stringify(n.Ji));if(_.p5==0)b.fillEnabled.v=!1;
var w=G.cD.Zh(Math.max(0,_.p5-1),_.Jh);w.cR.Usng.v.Shp=D;w.cR.Usng.v.strokeStyle={t:"Objc",v:b};return w};
G.qA=function(){G.kG.call(this,[10,29],G.x3,"tools/pen");this.mQ=null;this.hN=null;this.gU=null;this.a5q=0;
this.FH=null;this.vC=!1;this.X9=!1;this.qK=!1;this.oZ=!1};G.qA.prototype=new G.kG;G.qA.prototype.Xn=function(D){return this.hN!=null};
G.qA.prototype.EL=function(D,n,_,b){G.kG.prototype.EL.call(this,D,n,_,b);if(!b.j(dz.u9))this.qK=!1};
G.qA.prototype.EE=function(D,n,_,b,w){this.mQ=w;this.rT(n,_);var i=D.s.it(w.x,w.y),Q,J;i.x=Math.round(i.x);
i.y=Math.round(i.y);var M=G._s.Mr(D,i,_),N=_.fC,a=this.a5q;if(N==2)N=0;var o=D.DZ(N==1),U=o[0],V=o[1],c=U[V.pop()],E=c?c.add.vmsk:null;
if(N==0&&a!=0&&c&&c.gH>=0)N=1;var A=G.Bk(D,w);if(E)Q=B.$.ql(E.Y,i,!0,A);var L=b.j(dz.u9);if(N==0&&(E==null||E.em.length==0&&Q.gH==-1)){var P=new ho(S.E.$W,!0),u=B.dd.vh("customShape",[0,0,1,1],null,null,null,"--");
P.data=G.cD.Xi(u,_);n.c(P);this.oZ=!0;o=D.DZ(!0);U=o[0];V=o[1];c=U[V.pop()];E=c.add.vmsk;E.Y=E.Y.slice(0,2)}var m=c.add.vogk;
this.hN=E.clone();this.gU=JSON.stringify(m);var x=E.Y,v=B.$.Vz(x);J=B.$.Ix(E.Y,new gl(i.x-A,i.y-A,A*2,A*2),E.em);
Q=B.$.ql(E.Y,i,!0,A);var W=J[0].length+J[1].length+J[2].length;if(Q.gH!=-1&&J[0].length==0){var Z=B.$.ay(x,Q.gH);
while(x[Z].length<=Q.WO){Q.WO-=x[Z].length;Z+=x[Z].length+1}x[Z].length++;x.splice(Z+2+Q.WO,0,{type:4,US:M.clone(),Z:M.clone(),As:M.clone()});
E.em=[Z+2+Q.WO]}else if(W!=0&&L){var r=0;for(var k=0;k<3;k++)if(J[k].length!=0){r=J[k][0];this.X9=k==1;
break}if(J[0].length!=0){var X=E.Y.length-1,$=E.Y[r];$.As=$.Z.clone();var I=$.type>=3?3:0;if(r!=X){$.US=$.Z.clone();
$.type=I+1;this.qK=!0}else $.type=I+2}E.em=[r]}else if(J[0].length==1&&x[J[0][0]-1]&&x[J[0][0]-1].gW==null){var r=J[0][0],Z=B.$.tM(x,r);
Z=B.$.ay(x,Z);var T=Z+x[Z].length;if(r!=T){x[Z].length--;x.splice(r,1);T--}E.em=[T]}else{var e=0;if(E.em.length!=1){E.w=[v];
x.push({type:3,length:1,gW:[1,2,3,0][Math.max(0,a-1)],bB:0,at:0,iB:0});e=x.length;m.push(B.dd.ae())}else{var F=E.em[0],y=B.$.tM(x,F),Z=B.$.ay(x,y);
F=Z+x[Z].length;if(gZ._e(i,x[Z+1].Z)<A){x[Z].type=0;E.em=[Z+1];this.FH=M;this.vC=!0;this.dM(D,c.gH,E,m);
D.cF=!0;return}x[Z].length++;e=F+1;if(F==Z+1&&x[Z].length!=2)e=Z+1}if(b.j(dz.CO)&&x[e-1]&&x[e-1].Z)M=G.ne.ff(x[e-1].Z,M);
x.splice(e,0,{type:4,US:M.clone(),Z:M.clone(),As:M.clone()});E.em=[e];this.FH=M}this.dM(D,c.gH,E,m);
D.cF=!0};G.qA.prototype.cp=function(D,n,_,b,w){if(this.hN==null)return;var i=this.mQ;if(i&&gZ._e(i,w)<G.Bk({s:{V:1}},w))return;
this.mQ=null;var M=D.s.it(w.x,w.y),N=G._s.Mr(D,M,_),a=D.DZ(_.fC==1),o=a[0],U=a[1],V=o[U.pop()],c=V.add.vmsk,E=c.Y,A=E[c.em[0]];
if(b.j(dz.FO)){if(b.j(dz.CO))N=G.ne.ff(this.FH,N);var Q=A.Z.mG(A.As),J=A.US.mG(A.Z);A.As=N;A.Z=N.add(Q);
A.US=A.Z.add(J)}else{if(b.j(dz.CO))N=G.ne.ff(A.Z,N);if(this.X9){var L=A.US;A.US=A.As;A.As=L}if(this.vC){var P=gZ._e(A.Z,N),u=P==0?0:gZ._e(A.Z,A.As)/P;
A.As.x=A.Z.x+u*(N.x-A.Z.x);A.As.y=A.Z.y+u*(N.y-A.Z.y)}else A.As=N;if(b.j(dz.u9)&&!this.qK)A.type=5;else{A.type=4;
A.US=A.Z.add(A.Z.mG(N))}this.FH=N;if(this.X9){var L=A.US;A.US=A.As;A.As=L}}this.dM(D,V.gH,c,V.add.vogk);
D.cF=!0};G.qA.prototype.m_=function(D,n,_,b,w){if(this.hN==null)return;var i=D.DZ(_.fC==1),M=i[0],N=i[1],a=M[N.pop()],o=a.add.vmsk,U=a.add.vogk;
if(this.vC){o.em=[];this.dM(D,a.gH,o,a.add.vogk)}var V=this.hN.Y.length,c=o.Y.length;if(!this.oZ)this.kQ(D,this.vC?"Close Path":(V==c?"Move":V<c?"Add":"Delete")+" Anchor Point",a.gH,this.hN,o.clone(),null,this.gU,JSON.stringify(U));
this.oZ=!1;this.vC=!1;this.X9=!1;this.qK=!1;this.hN=null};G.qA.prototype.fV=function(D,n,_,b,w){this.a5q=D.binop};
G.wu=function(){G.cD.call(this,[10,30],G.iI,"tools/fpen",!1)};G.wu.prototype=new G.cD;G.wu.prototype.TG=function(D,n,_,b){return[B.$.A5(b,this.zm.tolr),B.dd.vh("customShape",[0,0,1,1],null,null,null,"--")]};
G.nS=function(){G.kG.call(this,[10,27],G.ND,"tools/pselect");this.yB=null;this.Tc=!1;this.PK=null;this.hN=null;
this.G6=null;this.gU=null;this.Sf=null;this.po=null;this.x2=null;this.Kd=null};G.nS.prototype=new G.kG;
G.nS.prototype.Xn=function(D){return D.Xt};G.nS.prototype.EE=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=D.DZ(),N=M[0],a=M[1],o,U;
for(var k=0;k<a.length;k++){var V=N[a[k]],c=V.add.vmsk,E=B.$.ql(c.Y,i).gH;if(E!=-1){this.PK=o=V;U=E}for(var A=0;
A<c.OJ.length;A++){var Q=B.$.p1(c.Y,c.OJ[A]);if(Q==null)continue;var J=gZ._e(Q,i);if(J<4*G.F()/D.s.V){var L=D.b[V.gH-1e6].add.TySh,P=L.uP.Curve,u=L.A,m=P.Reversed;
P.Reversed=!1;var P=h8.st(L.uP.Curve);P.Reversed=m;B.H.A(P[0],u,P[0]);this.x2=[P,A,u.vd*u.Ww-u.S*u.jo];
this.PK=o=V;U=0}}if(this.x2)break}if(o!=null){var c=o.add.vmsk;c.em=[];var x=c.w.indexOf(U);if(b.j(dz.CO)){if(x==-1){c.w.push(U);
this.Tc=!0}else c.w.splice(x,1)}else{if(x==-1)c.w=[U];this.Tc=!0}this.po=B.$.DJ(c.Y,c.w)}this.yB=i;this.Kd=new eO(i);
D.HH=!0;D.cF=!0};G.nS.prototype.cp=function(D,n,_,b,w){if(this.yB==null)return;var i=D.s.it(w.x,w.y);
if(this.Tc){i=this.Kd.fm(i,b);var M=this.PK;if(this.hN==null){this.hN=this.G6=M.add.vmsk.clone();this.gU=this.Sf=JSON.stringify(M.add.vogk);
if(b.j(dz.u9)){var N=this.hN.clone(),a=JSON.parse(this.gU),o=G.kG.a5(N,a);G.kG.zg(o,N,a);this.G6=N;this.Sf=JSON.stringify(a)}}var N=this.G6.clone(),a=JSON.parse(this.Sf);
if(this.x2){var U=this.x2,V=U[0][0],c=B.H.Ib(V,i.x,i.y);N.OJ[U[1]]=U[0][1][c];var E=V[c*2],A=V[c*2+1],Q=(V[c*2+2]-E)*(i.y-A)-(V[c*2+3]-A)*(i.x-E);
if(U[2]<0)Q=-Q;N.t4=Q>0}else{var J=this.po.clone(),L=J.x,P=J.y;J.offset(i.x-this.yB.x,i.y-this.yB.y);
J.x=Math.round(J.x);J.y=Math.round(J.y);var u=G._s.Ei(D,J,_),m=new e3(1,0,0,1,J.x-L+u[0],J.y-P+u[1]);
B.$.vZ(N.Y,m,N.w);B.dd.A(a,B.N.ug(m),N.w);G._s.Xs(D,J,u)}this.dM(D,M.gH,N,a)}else{var x=this.yB;D.D.oB=B.H.X0(new gl(x.x,x.y,i.x-x.x,i.y-x.y));
D.cF=!0}};G.nS.prototype.m_=function(D,n,_,b,w){if(this.yB==null)return;var i=D.s.it(w.x,w.y),M=this.PK,N=M?M.add.vmsk:null;
if(this.Tc){var a=JSON.stringify(M.add.vogk);if(!this.yB.l8(i))this.kQ(D,"Move Paths",M.gH,this.hN,N,null,this.gU,a);
if(D!=null&&D.D.O0){D.D.O0=null;D.cF=!0}}else{if(N){var o=this.yB,U=new gl(o.x,o.y,i.x-o.x,i.y-o.y),V=B.$.aq0(N.Y,U);
if(b.j(dz.CO)){for(var k=0;k<V.length;k++)if(N.w.indexOf(V[k])==-1)N.w.push(V[k])}else N.w=V}D.D.oB=null;
D.cF=!0}this.yB=null;this.hN=null;this.x2=null;this.Tc=!1;this.Kd=null};G.nS.prototype.Zc=function(D,n,_,b){G.kG.prototype.Zc.call(this,D,n,_,b);
if(_.ey!=this.id)return;if(D.w.length==0)return;var w=D.DZ(),i=w[0],M=w[1];if(M.length==0)return;var N=i[M[0]],a=N.add.vmsk,o=N.add.vstk,U=N.add.vogk,V=new ho(S.E.W,!0);
V.data={d:S.J.NG,g:this.id,Ed:"main",IJ:a?a:null,dd:U};n.c(V)};G.nS.prototype.fV=function(D,n,_,b,w){var i=D.Pr;
if(i.IJ){var M=_.DZ(),N=M[0],a=M[1];if(a.length==0)return;var o=N[a[0]],U=o.add.vmsk.clone(),V=JSON.stringify(o.add.vogk),c=i.IJ;
this.dM(_,o.gH,c,i.dd);var E=[18,5];if(U.Y.length==c.Y.length)E=U.w[0]==c.w[0]?"Fill Rule":"Path Order";
this.kQ(_,E,o.gH,U,c,null,V,JSON.stringify(i.dd))}};G.Sv=function(){G.kG.call(this,[10,28],G.JF,"tools/dselect");
this.L8=-1;this.Ch=-1;this.pd=null;this.yB=null;this.PK=null;this.hN=null;this.gU=null;this.H2=null;
this.gy=0;this.a4I={psnap:!1};this.Kd=null};G.Sv.prototype=new G.kG;G.Sv.prototype.Xn=function(D){return D.Xt};
G.Sv.prototype.fV=function(D){this.a4I=D};G.Sv.prototype.KV=function(D,n,_,b,w){if(D.d=="crnr"){if(_==null)return;
var i=_.DZ(),M=i[0],N=i[1];if(N.length==0){alert("No paths selected");return}var a=M[N[0]],o=a.add.vmsk;
if(o.em.length==0){alert("No corners selected");return}for(var k=0;k<o.em.length;k++){var U=o.Y[o.em[k]];
if(!U.Z.l8(U.As)||!U.Z.l8(U.US)){alert("Only sharp corners can be rounded");return}}if(this.hN==null){this.hN=a.add.vmsk.clone();
this.gU=JSON.stringify(a.add.vogk);this.PK=a;this.H2=_}var V=new ho(S.E.W,!0);V.data={d:S.J.a_,Lt:"cornerradius",JJ:5,T1:this.aq$.bind(this)};
n.c(V)}else G.kG.prototype.KV.call(this,D,n,_,b,w)};G.Sv.prototype.aq$=function(D){if(D=="confirm"){var n=this.H2,_=this.PK,b=_.add.vmsk,w=_.add.vogk;
this.kQ(n,[12,94,0],_.gH,this.hN,b,null,this.gU,JSON.stringify(w));this.Vj();return}var b=this.hN.clone(),w=JSON.parse(this.gU),i=b.em;
if(D=="cancel"){}else{var M=[];for(var k=0;k<i.length;k++){var N=i[k],a=B.$.tM(b.Y,N,!0),V=0;if(M.indexOf(a)!=-1)continue;
M.push(a);var o=B.$.ay(b.Y,a,!0),U=b.Y[o].length,c=[];for(var E=0;E<U;E++){var A=b.em.indexOf(o+E+1)==-1?0:D;
c.push(A);if(A!=0)V++}B.$.qD(b.Y,o,c);for(var E=0;E<i.length;E++)if(i[E]>o+U)i[E]+=V}this.by(b,w);b.em=[]}this.dM(this.H2,this.PK.gH,b,w);
if(D=="cancel")this.Vj()};G.Sv.prototype.disable=function(D,n,_,b){this.el(D)};G.Sv.prototype.EE=function(D,n,_,b,w){this.el(D);
var i=D.s.it(w.x,w.y),V,c,E;this.pd=i.clone();var M=D.DZ(),N=M[0],a=M[1];if(a.length==0)return;var o=G.Bk(D,w),U=new gl(i.x-o,i.y-o,o*2,o*2);
for(var A=0;A<a.length;A++){V=this.PK=N[a[A]];c=V.add.vmsk;E=B.$.Ix(c.Y,U);if(E[0].length+E[1].length+E[2].length!=0)break}var Q=[!1,!1,!1];
for(var k=0;k<3;k++){for(var J=0;J<E[k].length;J++){var L=E[k][J];if(c.em.indexOf(L)!=-1||k==1&&c.em.indexOf(L-1)!=-1||k==2&&c.em.indexOf(L+1)!=-1){E[k]=[L];
Q[k]=!0;break}}}if(E[0].length!=0&&(Q[0]||!Q[1]&&!Q[2])){var P=E[0][0],u=c.em.indexOf(P);if(b.j(dz.CO)){if(u==-1)c.em.push(P);
else{c.em.splice(u,1);D.cF=!0;return}}else if(u==-1)c.em=[P];this.L8=P;this.Ch=0}else if(E[1].length!=0&&Q[1]){this.L8=E[1][0];
this.Ch=1}else if(E[2].length!=0&&Q[2]){this.L8=E[2][0];this.Ch=2}else{var m=B.$.ql(c.Y,i,!0,o);if(m.gH==-1)this.yB=i;
else{c.w=[m.gH];c.em=[]}}if(this.hN==null){this.hN=V.add.vmsk.clone();this.gU=JSON.stringify(V.add.vogk)}this.Kd=new eO(i);
D.cF=!0};G.Sv.prototype.cp=function(D,n,_,b,w){if(D==null)return;var i=D.s.it(w.x,w.y),M=this.PK;if(this.L8!=-1){var N=this.hN.clone(),a=M.add.vogk,o=N.Y[this.L8];
o=[o.Z,o.US,o.As][this.Ch];if(b.j(dz.CO)){if(this.Ch==0){i=this.Kd.fm(i,b);i.x+=o.x-this.pd.x;i.y+=o.y-this.pd.y}else i=G.ne.ff(N.Y[this.L8].Z,i)}else{if(this.a4I.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=G._s.Mr(D,i,_)}if(this.Ch==0){var U=new e3(1,0,0,1,i.x-o.x,i.y-o.y);B.$.vZ(N.Y,U,null,N.em)}else{var V=N.Y[this.L8],c=V.US,E=V.As;
if(this.Ch==2){c=V.As;E=V.US}if(b.j(dz.u9)&&(V.type==1||V.type==4))V.type++;c.bq(i.x,i.y);if(V.type==1||V.type==4){var A=gZ._e(c,V.Z),Q=gZ._e(E,V.Z);
if(Q!=0){E.x=V.Z.x-(c.x-V.Z.x)*(Q/A);E.y=V.Z.y-(c.y-V.Z.y)*(Q/A)}}}this.by(N,a);this.dM(D,M.gH,N,a)}else if(this.yB!=null){var J=this.yB;
D.D.oB=B.H.X0(new gl(J.x,J.y,i.x-J.x,i.y-J.y));D.cF=!0}else{var L=D.DZ(),P=L[0],u=L[1],M,N,v;if(u.length==0)return;
var m=G.Bk(D,w),x=new gl(i.x-m,i.y-m,m*2,m*2);for(var W=0;W<u.length;W++){M=P[u[W]];N=M.add.vmsk;v=B.$.Ix(N.Y,x);
if(v[0].length+v[1].length+v[2].length!=0)break}this.el(D);for(var k=0;k<3;k++){for(var Z=0;Z<v[k].length;
Z++){var r=v[k][Z],X=N.Y[r];X=k==0?X.Z:k==1?X.US:X.As;D.D.JR.push(D.D.Ek.length>>>1);D.D.Ek.push(X.x,X.y);
D.cF=!0}}}};G.Sv.prototype.el=function(D){if(D&&D.D.Ek.length!=0){D.D.Ek=[];D.D.JR=[];D.cF=!0}};G.Sv.prototype.m_=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=this.PK,N=M?M.add.vmsk:null,a=M?M.add.vogk:null;
if(this.L8!=-1){if(Date.now()-this.gy<300){var o=N.Y[this.L8],U=this.Ch,V=null;if(U==0){var c=o.US.l8(o.Z),E=o.As.l8(o.Z);
if(!c&&!E){V="Anchor Type";if(o.type==1||o.type==4)o.type++;else{o.type--;o.As=o.Z.add(o.Z.mG(o.US))}}else{V="Add Handles";
if(c&&E){o.US.x-=30;o.As.x+=30}else if(c)o.US=o.Z.add(o.Z.mG(o.As));else if(E)o.As=o.Z.add(o.Z.mG(o.US))}}else{V="Remove Handle";
if(U==1)o.US.$U(o.Z);else o.As.$U(o.Z)}this.by(N,a);this.dM(D,M.gH,N,a);this.kQ(D,V,M.gH,this.hN,N,null,this.gU,JSON.stringify(a))}else if(!this.pd.l8(i)){this.kQ(D,"Drag Anchors",M.gH,this.hN,N,null,this.gU,JSON.stringify(a))}this.gy=Date.now()}else if(this.yB!=null){var A=this.yB,Q=new gl(A.x,A.y,i.x-A.x,i.y-A.y);
if(Q.l<0)Q.x+=Q.l;if(Q.e<0)Q.y+=Q.e;Q.l=Math.abs(Q.l);Q.e=Math.abs(Q.e);var J=B.$.Ix(N.Y,Q);N.em=J[0].concat(b.j(dz.CO)?N.em:[]);
D.D.oB=null}this.Vj();D.cF=!0};G.Sv.prototype.Vj=function(){this.PK=null;this.hN=null;this.yB=null;this.L8=this.Ch=-1;
this.Kd=null};G.Sv.prototype.by=function(D,n){for(var k=0;k<D.em.length;k++){var _=B.$.tM(D.Y,D.em[k]);
B.dd.dU(n,_)}};G.Sv.prototype.EL=function(D,n,_,b){if(D==null)return;var w=D.DZ(),i=w[0],M=w[1];if(M.length==0)return;
var N=i[M[0]],a=N.add.vmsk;if(a==null||a.em.length==0)return;var o=N.add.vogk,U=JSON.stringify(o),V=b.or();
if(V.x!=0||V.y!=0){var c=a.clone(),E=a.clone(),A=new e3(1,0,0,1,V.x,V.y);B.$.vZ(E.Y,A,null,E.em);this.by(E,o);
this.dM(D,N.gH,E,o);this.kQ(D,"Move Anchors",D.w[0],c,E.clone(),!0,U,JSON.stringify(o))}if(b.j(dz.$V)||b.j(dz.cw))this.KV({d:"remove",DY:!0},n,D,b,_)};
G.Sv.prototype.kQ=function(D,n,_,b,w,i,M,N){var a=D.XN();if(i&&a!=null&&a.g==this&&a.data.acf&&a.data.gd==_&&JSON.stringify(a.data.Fc.em)==JSON.stringify(b.em)){a.data.Xw=w;
a.data.wL=N}else{var a=new jv(n,this);a.data={gd:_,Fc:b,Xw:w,acf:i,ap$:M,wL:N};D.$i(a)}};G.Rect=function(){G.cD.call(this,[10,32],G.i4,"tools/rect",!0)};
G.Rect.prototype=new G.cD;G.Rect.prototype.TG=function(D,n,_){var b=this.zm.crad,w=n.x-D.x,i=n.y-D.y;
return[B.$.yA.Rect(D.x,D.y,w,i,b),B.dd.vh("Rctn",[D.x,D.y,n.x,n.y],[b,b,b,b])]};G.h6=function(){G.cD.call(this,[10,33],G.sS,"tools/ellipse",!0)};
G.h6.prototype=new G.cD;G.h6.prototype.TG=function(D,n,_){var b=n.x-D.x,w=n.y-D.y;return[B.$.yA.h6(D.x,D.y,b,w),B.dd.vh("Elps",[D.x,D.y,n.x,n.y])]};
G.VU=function(){G.cD.call(this,[10,34],G.Jl,"tools/pshape",!1);this.zm.aopts=[!1,!0,50,100,0]};G.VU.prototype=new G.cD;
G.VU.prototype.TG=function(D,n,_){var b=this.zm.pshape,w=this.zm.crad,i=this.zm.irad/100,M=this.zm.sides,N=this.zm.width,a=this.zm.aopts,o=this.zm.length,J;
n=n.clone();var U=D.x,V=D.y,c=n.x,E=n.y,A=Math.sqrt((c-U)*(c-U)+(E-V)*(E-V)),Q=Math.atan2(-E+V,c-U);
if(_)Q=Math.round(Q*180/Math.PI/15)*15*Math.PI/180;if(b==0)J=B.$.yA.IK(U,V,A,Q,M,w);if(b==1)J=B.$.yA.B1(U,V,A,Q,M,w,i);
if(b==2)J=B.$.yA.z$(D.x,D.y,n.x,n.y,N,a);if(b==3)J=B.$.yA.ahG(U,V,A,Q,o);return[J,B.dd.vh("customShape",[D.x,D.y,n.x,n.y],null,null,null,"--")]};
G.VU.prototype.EL=function(D,n,_,b){G.cD.prototype.EL.call(this,D,n,_,b);var w=b.or(),i=this.zm,M,N;
if(w.y!=0){var a=-w.y,o=i.pshape;if(o<2){M="sides";N=Math.max(3,Math.min(100,i.sides+a))}else if(o==2){M="width";
N=Math.max(1,Math.min(100,i.width+a))}else if(o==3){M="length";N=Math.max(4,Math.min(40,i.length+a))}}if(w.x!=0){M="pshape";
N=Math.max(0,Math.min(3,i.pshape+w.x))}if(M){var U=new ho(S.E.W,!0),V={};V[M]=N;i[M]=N;U.data={d:S.J.NG,g:this.id,_c:"vals",a4l:V};
n.c(U);this.cp(D,n,_,b)}};G.qE=function(){G.cD.call(this,[10,35],G.NJ,"tools/line",!1)};G.qE.prototype=new G.cD;
G.qE.prototype.TG=function(D,n,_){var b=this.zm.width,w=this.zm.aopts;n=n.clone();if(_){n=G.ne.ff(D,n)}return[B.$.yA.z$(D.x,D.y,n.x,n.y,b,w),B.dd.vh("Ln",null,null,[D.x,D.y,n.x,n.y],b,null,w)]};
G.ot=function(){G.cD.call(this,[10,31],G.xf,"tools/cshape",!0)};G.ot.prototype=new G.cD;G.ot.prototype.TG=function(D,n,_){var b=this.zm.shape,w=b.PH.l/b.PH.e,i=q.IQ.n$(b.Y);
n=n.clone();var M=n.x-D.x,N=n.y-D.y;B.$.vZ(i,new e3(M,0,0,N,D.x,D.y));return[i,B.dd.vh("customShape",[D.x,D.y,n.x,n.y],null,null,null,b.bi)]};
G.Q=function(D,n,_){G.ou.call(this,D,n,_);this.Ut=0;this.b=null;this.wO=null;this.dO=null;this.zu=1;
this.ju=!1;this.cursor=null;this.gA=null;this.dD=null;this.sX=!1;this.uF=null;this.a2A=0;this.zY=null;
this.oQ=0;this.GR=null;this.aL=null;this.xB=null;this.v2=null;this.arX=null;this.yC=null};G.Q.prototype=new G.ou;
G.Q.U6=function(D,n){var _={classID:"null",null:cT.S0("Dcmn",!0)};if(D)_.Angl={t:"UntF",v:{type:"#Ang",val:n}};
else _.Axis={t:"enum",v:{Ornt:n}};return{_L:D?"rotateEventEnum":"flip",cR:_}};G.Q.prototype.nq=function(D,n,_,b,w){var i=new ho(S.E.W,!0);
i.data={d:S.J.NG,g:this.id,Xd:w,zF:D,dO:_};n.c(i);this.Es=!1};G.Q.prototype.Xn=function(D){return this.aL&&this.aL.r8()};
G.Q.prototype.KV=function(D,n,_,b,w){this.dO=w;if(D.d=="again"&&this.zY==null)return;if(!this.RH(_,w))return;
if(this.aL){this.H4(D,this.aL._u());this.o0(_,w,0,!0);this.Op(_);return}this.Dq(_,D.i==null,D.i);this.o8(_);
this.H4(D);this.ak(_,n,D.Ln,!1)};G.Q.prototype.H4=function(D,n){var _=this.GR;if(n==null){var b=D.ui!=null?D.ui:4;
n=this.aL.aec()[b]}var w=n.x,i=n.y;if(D.d=="rot"&&D.k!=Math.PI&&(_.l+_.e&1)==1){w=Math.floor(w);i=Math.floor(i)}var M=new e3;
M.translate(-w,-i);if(D.d=="rot")M.rotate(D.k);if(D.d=="scl")M.scale(D.k.x,D.k.y);if(D.d=="mat")M.concat(D.k);
M.translate(w,i);if(D.d=="again")M=this.zY;var N=this.aL.Yr();B.H.A(N,M,N);this.aL.$s(N)};G.Q.prototype.oX=function(){return!0};
G.Q.prototype.RH=function(D,n){if(D==null)return!1;if(this.id==G.c1)return D.q!=null;var _=D.DF(!0,null,null,!0);
if(this.id==G.m9&&D.b[_[0]].rect.hk()){alert("Layer is empty.");return!1}for(var k=0;k<_.length;k++){var b=D.b[_[k]];
if(b.Nd(2)||b.Nd(31)){alert(io.get([6,57,0]));return!1}if(b.add.artb){alert("You can not transform the whole artboard");
return!1}if(b.add.TySh)if(!iy.Y2(b.add.TySh,n.mz))return!1;if(b.add.SoLd){if(_.length==1&&!B.ie.VW(b.add.SoLd.warp.v)&&(b.us()&&b.us().c9||b.add.vmsk&&b.add.vmsk.c9)){alert("Unlink masks before transforming Smart Object");
return!1}if(!D.arT(b.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+D.v7(b.add.SoLd.Idnt.v).UP+")");
return!1}}}if(D.q==null)return!0;if(!D.yP())return!1;return D.auc()};G.Q.prototype.EE=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);
if(this.oQ==1){var M=B.N.ei(B.N.Ng(this.aL.Yr(),this.GR));i=B.N.Wa(M,i)}var N=this.oQ==0?this.aL:this.xB;
this.ju=N.EE(D,_,b,i,null,null,w);if(this.ju&&N.Hg(i)){if(Date.now()-this.a2A<250)this.ak(D,n,null,!0);
this.a2A=Date.now()}};G.Q.prototype._y=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.f4,rl:this.cursor};
D.c(n)};G.Q.prototype.cp=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);if(this.oQ==1){var M=B.N.ei(B.N.Ng(this.aL.Yr(),this.GR));
i=B.N.Wa(M,i)}var N=this.oQ==0?this.aL:this.xB;if(!w.Xt){var a="default";if(N){var o=N.uu(i,D.s.V,null,w);
if(o)a=o}if(a!=this.cursor){this.cursor=a;this._y(n)}}if(!this.ju)return;N.cp(D,_,b,i);this.o0(D,_,0,!0);
this.Op(D);this.vo(n)};G.Q.prototype.m_=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);this.aL.m_(D,_,b,i);
this.ju=!1};G.Q.prototype.EL=function(D,n,_,b){if(b.j(dz.Eb))this.ak(D,n,null,!0);else if(b.j(dz.Gt))this.I0(D,n);
else{var w=this.aL.EL(D,_,b);if(w){this.o0(D,_,0,!0);this.vo(n)}}};G.Q.prototype.fV=function(D,n,_,b){if(D.Ed=="commit")this.ak(_,n,null,!0);
else if(D.Ed=="cancel")this.I0(_,n);else if(D.Ed=="switchWarp"){this.oQ=1-this.oQ;this.a18();this.Op(_);
this.vo(n)}else if(D.Ed=="wrp"){this.xB.B6(D.M_);this.Op(_);this.o0(_,this.dO,0,!0)}else if(D.Ed=="ctyp"){this.aL.a0Z(D.OW);
this.Op(_);this.vo(n)}else if(D.Ed=="cen"){this.aL.ao$(D.YZ);this.Op(_);this.o0(_,this.dO,0,!0);this.vo(n)}else if(D.Ed=="trn"){var w=B.N.ug(D.eO),i=this.GR,M=B.N.Ng(this.aL.Yr(),this.GR);
w[6]=M[6],w[7]=M[7];var N=[i.x,i.y,i.x+i.l,i.y,i.x+i.l,i.y+i.e,i.x,i.y+i.e];B.N.A(w,N);this.zu=D.zu;
this.aL.$s(N);this.Op(_);this.o0(_,this.dO,0,!0)}};G.Q.prototype.Op=function(D){if(this.oQ==0)this.aL.BG(D,this.dO);
else{this.xB.BG(D);var n=B.N.Ng(this.aL.Yr(),this.GR);B.N.A(n,D.D.oB.t);B.N.A(n,D.D.zc)}};G.Q.prototype.ak=function(D,n,_,b){this.o0(D,this.dO,this.zu);
var w=new jv(_?_:this.name,this);if(this.Ut==0)w.data={type:this.Ut,b:this.b,uF:this.wO,MX:G.Q.cO(D,this.b)};
else if(this.Ut==1){var i=D.b[this.b[0]],M;if(i.AN.P8<=0){M=B.U(i.AN.XC.u());B.Ef(i.AN.Aa,M,3)}else M=D.q.channel;
var N={rect:i.AN.XC.clone(),channel:M};w.data={type:this.Ut,i:this.b[0],dD:this.dD,yr:N,gA:this.gA,sX:this.sX,AN:i.AN,uF:this.uF,MX:{Kj:i.AN.XC,j3:i.AN.Aa}}}else if(this.Ut==2){w.data={type:this.Ut,dD:this.dD,yr:{rect:D.q.rect.clone(),channel:D.q.channel.slice(0)}}}D.$i(w);
var a=this.GR,o=new gZ(a.x+a.l/2,a.y+a.e/2),U=B.N.Ng(this.aL.Yr(),a),V=B.N.vI(U),c=new e3;c.translate(o.x,o.y);
c.concat(V);c.translate(-o.x,-o.y);V=c.clone();var E=-Math.atan2(-V.S,V.vd),A=new e3;A.rotate(E);V.concat(A);
function Q(P,u){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][u],val:P}}}var J=cT.S0("Lyr",!0);if(this.id==G.c1)J.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var L={classID:"null",null:J,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:Q(c.oE,0),Vrtc:Q(c.LE,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:Q(Math.atan(V.jo)*180/Math.PI,2),Vrtc:Q(0,2)}},Wdth:Q(V.vd*100,1),Hght:Q(V.Ww*100,1),Angl:Q(E*180/Math.PI,2)};
this.d2=n;this.track({_L:"transform",cR:L});this.escape(D,n,b)};G.Q.prototype.I0=function(D,n){if(this.Ut==0)G.Q.kv(D,this.b,this.wO);
else if(this.Ut==1){var _=D.b[this.b[0]];D.q=this.dD;if(!this.sX){_.AN.XC=this.uF.Kj;_.AN.Aa=this.uF.j3;
_.JA(D,0,0,D.q)}else{_.t1(D,this.gA)}D.G();D.oT=!0}else if(this.Ut==2){D.q=this.dD;D.oT=!0}this.escape(D,n,!0)};
G.Q.prototype.escape=function(D,n,_){this.aL.clear(D);this.aL=null;this.xB=null;this.yC=null;this.oQ=0;
if(_)this.Ye(n,S.E.W,{d:S.J.La})};G.Q.prototype.pS=function(D,n){if(D.type==0)G.Q.kv(n,D.b,D.MX);else{if(D.type==1){var _=n.b[D.i];
if(D.sX){_.AN=D.AN}else{_.AN.XC=D.MX.Kj;_.AN.Aa=D.MX.j3}_.JA(n,0,0,n.q);n.G()}n.q={rect:D.yr.rect.clone(),channel:D.yr.channel.slice(0)};
n.oT=!0}};G.Q.prototype.k5=function(D,n){if(D.type==0)G.Q.kv(n,D.b,D.uF);else{if(D.type==1){var _=n.b[D.i];
if(D.sX){_.t1(n,D.gA)}else{_.AN.XC=D.uF.Kj;_.AN.Aa=D.uF.j3;_.JA(n,0,0,n.q)}n.G()}n.q=D.dD;n.oT=!0}};
G.Q.prototype.Dq=function(D,n,_){D.DZ();var b=[];if(_==null)for(var k=0;k<D.QP.length;k++)if(D.yE[D.QP[k]].add.vmsk.Y.length>2)b.push(-1-D.QP[k]);
var w=[],i=D.s.qJ;if(i[0]+i[1]+i[2]==3)if(_!=null||b.length==0||D.F_!=null&&D.F_.length!=0){if(D.w.length==1){var M=D.b[D.w[0]];
if(M.nR()&&M.q_)w=[D.w[0]]}if(w.length==0)w=D.DF(n,_,null,!0)}w=w.concat(b);for(var k=0;k<D.xo.length;
k++)w.push(-1e3-D.xo[k]);this.b=w};G.Q.prototype.enable=function(D,n,_,b,w,i){if(this.cursor==null)this.cursor="default";
this._y(n);if(this.aL)return;this.dO=_;this.Dq(D,!0);this.o8(D,i&&i.eF!=null&&i.eF!=-1?i.eF:null);this.vo(n);
this.Op(D);if(i&&i.eF==-1)this.fV({Ed:"switchWarp"},n,D,b)};G.Q.prototype.vo=function(D){var n={d:S.J.NG,g:this.id};
if(this.oQ==0){var _=B.N.Ng(this.aL.Yr(),this.GR),b=B.N.vI(_);n.eO={Ox:b,OW:this.aL.aae(),YZ:this.aL._u(),Kj:this.GR.clone()}}else{n.M_=this.xB.GK()}n.auY=this.xB!=null;
this.Ye(D,S.E.W,n)};G.Q.prototype.o8=function(D,n){var _=this.id==G.c1,b=!0,w=this.b[0],i=D.b[w],N=null,a=null;
if(_){this.Ut=2;this.dD=D.q}else if(D.q&&this.b.length==1&&w>=0&&!i.rect.hk()){this.Ut=1;this.dD=D.q;
this.gA=i.AN;this.sX=!1;if(!i.Zr(D,D.q)){this.sX=!0;i.sd(D,D.q,!1)}this.uF={j3:i.AN.Aa,Kj:i.AN.XC}}else{this.Ut=0;
this.wO=G.Q.cO(D,this.b,null);for(var k=0;k<this.wO.length;k++)if(this.wO[k][3]!=null)b=!1}var M=this.Ut==1;
if(this.wO&&this.wO.length==1){var o=this.wO[0];if(o[2]!=null&&o[2].dd){var U=o[2].IJ.w;if(U.length<2){a=o[2].dd[U.length==0?0:U[0]].v;
if(!B.dd.Zv(a))a=null}}if(o[3]==null)M=!0;if(o[4]!=null){N=D.b[this.b[0]].add.SoLd;if(o[1]||o[2])M=!1}}var V=_?D.q.rect.clone():G.Q.YL(D,this.b);
this.GR=V;if(!_&&N){var c=G.Q.CJ(N.nonAffineTransform);this.GR=B.H.t0(B.ie.W_(N.warp.v));if(M)this.xB=new eQ(N.warp.v);
this.v2=B.N.Ng(c,this.GR);this.aL=new hc(c,!0,!0,b,!1,!1,n)}else{if(M||_)this.xB=new eQ(B.ie.U(this.GR));
this.v2=[1,0,0,0,1,0,0,0];if(this.id==G.m9)n=3;this.aL=new hc([V.x,V.y,V.x+V.l,V.y,V.x+V.l,V.y+V.e,V.x,V.y+V.e],!0,!0,b,!1,!1,n)}this.arX=[1,0,0,0,1,0,0,0];
if(this.id==G.m9){var E,A;if(this.wO){var Q=this.wO[0][0],J=Q.jS;E=J[0];A=J[1]}else if(this.uF){E=this.uF.j3;
A=this.uF.Kj}this.yC=B.FS.an6(E,A.l,A.e)}};G.Q.YL=function(D,n){if(n==null)n=D.DF(!0,null,null,!0);var _=new gl,b=new gl;
if(D.q&&n.length==1&&n[0]>=0)_=D.q.rect.clone();else for(var k=0;k<n.length;k++){var w=n[k],i=0<=w?D.b[w]:-1e3<w?D.yE[-1-w]:D.wK[-1e3-w],M=i.add?i.add.vmsk:null,N=0<=w?i.HU(D,n.length==1,!1,!0):-1e3<w?B.$.DJ(M.Y,n.length==1&&M.w.length!=0?M.w:null):i.rect.clone();
_=_.Ik(N);if(w>0&&i.add.artb)b=b.Ik(i.w3())}return!b.hk()?b:_};G.Q.prototype.Ye=function(D,n,_,b){var w=new ho(n,!0);
w.data=_;if(b)w.g=b;D.c(w)};G.Q.cO=function(D,n,_){var b=[];for(var k=0;k<n.length;k++){var w=n[k],i,M;
if(w>=0){i=D.b[w];M=i.vG(D,_,!0)}else if(w>-1e3){i=D.yE[-1-w];M=[2]}else{b.push([null,null,null,null,null,null,null,D.wK[-1e3-w].clone()]);
continue}var N=[];if(M.indexOf(0)!=-1){var a={jS:[i.buffer.slice(0),i.rect.clone()]};N.push(a);if(i.Ug()){var o=i.tr(D);
a.a4w=o.buffer.slice(0);a.aeT=o.rect.clone()}}else N.push(null);if(M.indexOf(1)!=-1)N.push(i.us().clone());
else N.push(null);if(M.indexOf(2)!=-1)N.push({IJ:i.add.vmsk.clone(),yg:i.add.vstk?JSON.parse(JSON.stringify(i.add.vstk)):null,Jh:i.add.vstk?G.kG.Nz(D,w):null,dd:i.add.vogk?JSON.parse(JSON.stringify(i.add.vogk)):null});
else N.push(null);if(i.add.TySh&&N[0]){jg.wV(i.add.TySh);N.push(i.add.TySh.A.clone())}else N.push(null);
if(i.add.SoLd&&N[0])N.push(JSON.parse(JSON.stringify(i.add.SoLd)));else N.push(null);if(M.indexOf(3)!=-1)N.push(i.tr(D).v.clone());
else N.push(null);if(i.add.lmfx)N.push(JSON.stringify(i.add.lmfx));else N.push(null);b.push(N)}return b};
G.Q.kv=function(D,n,_){for(var k=0;k<n.length;k++){var b=n[k],w=0<=b?D.b[b]:-1e3<b?D.yE[-1-b]:D.wK[-1e3-b],i=_[k];
if(i[0]){w.rect=i[0].jS[1].clone();w.buffer=i[0].jS[0].slice(0);if(w.Ug()){var M=w.tr(D);M.buffer=i[0].a4w.slice(0);
M.rect=i[0].aeT.clone()}}if(i[1]){w.us().channel=i[1].channel.slice(0);w.us().rect=i[1].rect.clone();
w.us().Vk=!0}if(i[2]){w.add.vmsk=i[2].IJ.clone();if(i[2].Jh)G.kG.k_(w,i[2].Jh);if(i[2].yg)w.add.vstk=JSON.parse(JSON.stringify(i[2].yg));
if(i[2].dd)w.add.vogk=JSON.parse(JSON.stringify(i[2].dd))}if(i[3]){w.add.TySh.A=i[3].clone();jg.St(w.add.TySh)}if(i[4]){w.add.SoLd=JSON.parse(JSON.stringify(i[4]))}if(i[5]){var N=w.tr(D).v;
N.channel=i[5].channel.slice(0);N.rect=i[5].rect.clone()}if(i[6]){w.add.lmfx=JSON.parse(i[6])}if(i[7]){w.channel=i[7].channel.slice(0);
w.rect=i[7].rect.clone();w.Vk=!0}if(0<=b){w.p8(D);w.G()}}D.G()};G.Q.gM=function(D){var n=D.clone(),_=Math.atan2(-n.S,n.vd),b=new e3;
b.rotate(-_);n.concat(b);return(Math.abs(n.vd)+Math.abs(n.Ww))/2};G.Q.wt=function(D,n,_,b,w,i,M,N,a,o){if(typeof i[0]=="number"){var U=[];
for(var k=0;k<_.length;k++)U[k]=i;i=U}for(var k=0;k<_.length;k++){var V=i[k],c=B.N.vI(V),E=G.Q.gM(c),A=_[k],Q=0<=A?D.b[A]:-1e3<A?D.yE[-1-A]:D.wK[-1e3-A],J=b[k];
if(Q.add.lmfx&&N)aL.hx(Q.add.lmfx,E);if(J[0]&&!J[3]&&!J[4]&&!J[5]){var L=J[0].jS;if(a){var P=a.clone(),u=B.U(P.u()*4);
B.E3(L[0],L[1],u,P);L=[u,P]}var m=G.Q.lo(L,w,V,M,w==0?Q.buffer.buffer:null,null,null,o);if(m){Q.rect=m.rect;
Q.buffer=m.buffer}}if(J[1]){var x=Q.us();G.Q.db(D,J[1],x,w,V,M);if(a){var P=Q.rect.zE(a),v=B.U(P.u());
B.I4(x.channel,x.rect,v,P);x.channel=v;x.rect=P}}if(J[2]){var W=M&&!B.ie.VW(M),Z=J[2].IJ.clone(),r=_.length==1&&Z.w.length!=0,X=_.length==1&&Z.em.length>1;
if(X)r=!1;var $=r?Z.w:null,I=X?Z.em:null;if(W){var T=B.ie.W_(M);B.N.A(V,T);B.$.aeq(Z.Y,T,$,I)}else B.$.ajM(Z.Y,V,$,I);
if(Q.add.vstk&&N){Q.add.vstk.strokeStyleLineWidth.v.val=J[2].yg.strokeStyleLineWidth.v.val*E;var e=J[2].Jh;
if(e&&e.p5==3){e=JSON.parse(JSON.stringify(e));var F=e.Jh.phase.v;e.Jh.Scl.v.val=Math.round(e.Jh.Scl.v.val*E);
F.Hrzn.v=Math.round(F.Hrzn.v*E);F.Vrtc.v=Math.round(F.Vrtc.v*E);G.kG.k_(Q,e)}}if(Q.add.vogk){Q.add.vogk=JSON.parse(JSON.stringify(J[2].dd));
if(W||X)B.dd.a3W(Q.add.vogk);else B.dd.A(Q.add.vogk,V,_.length>1?[]:Z.w,N)}Z.rq*=E;Q.add.vmsk=Z;if(Q.add.vogk)B.dd.IX(Q.add.vogk,Q.add.vmsk)}if(J[3]){var y=J[3].clone();
y.concat(c);Q.add.TySh.A=y;jg.St(Q.add.TySh);var h=new h8(Q.add.TySh.uP,n.mz),Y=iy.az(h,Q.add.TySh);
Q.rect=Y.Kj;Q.buffer=Y.B_}if(J[4]){var K=Q.add.SoLd,z=G.Q.CJ(J[4].nonAffineTransform);B.N.A(V,z);var f=B.H.cx(z);
if(hc.nO(z)){if(M){var s=B.H.t0(B.ie.W_(J[4].warp.v)),v=B.N.Ng(z,s),l=B.H.t0(B.ie.W_(M));z=[l.x,l.y,l.x+l.l,l.y,l.x+l.l,l.y+l.e,l.x,l.y+l.e];
B.N.A(v,z);K.warp.v=M}var g=B.N.Ng(z),H=z;if(!B.N.YN(g)){g[6]=g[7]=0;H=[0,0,1,0,1,1,0,1];B.N.A(g,H)}K.Trnf=G.Q.sy(H);
K.nonAffineTransform=G.Q.sy(z);if(K.filterFX)K.filterFX=JSON.parse(JSON.stringify(J[4].filterFX));G.Q.S$(K,c);
Q.RZ(D,w==0)}}if(J[5])G.Q.db(D,J[5],Q.tr(D).v,w,V,M);if(J[7])G.Q.db(D,J[7],Q,w,V,M);if(0<=A){if(w!=0)Q.B2();
Q.p8(D);Q.G()}}D.G()};G.Q.XB=function(D,n,_,b,w,i){if(_==null)_=!1;return G.Q.lo(D,_?0:1,B.N.ug(n),null,b,w,i,_)};
G.Q.lo=function(D,n,_,b,w,i,M,N){if(N==null)N=!1;if(N&&M)throw"e";var a={},c=0,E=.3;if(b&&!B.ie.VW(b)){var o=B.ie.W_(b);
B.N.A(_,o);a.rect=B.H.cx(o);a.buffer=B.U(a.rect.u()*4);B.Uo.drawImage(o,D[0],D[1].l,D[1].e,a.buffer,a.rect,n==0);
return a}B.Cy(D);var U=D[0],V=D[1],A=V.u()*G.Q.gM(B.N.vI(_));if(N&&A>4e6)E=A>8e6?2.2:1.2;while(c+3<D.length&&D[c+3].u()>16&&B.N.YN(_)&&G.Q.gM(B.N.vI(_))<E){c+=2;
var Q=D[c],J=D[c+1],L=V.l/J.l,P=V.e/J.e;_=B.N.H9(_,[1,0,V.x,0,1,V.y,0,0]);_=B.N.H9(_,[L,0,0,0,P,0,0,0]);
_=B.N.H9(_,[1,0,-V.x,0,1,-V.y,0,0]);V=J;U=Q}var u=B.N.H9(_,B.N.ug(new e3(V.l,0,0,V.e,V.x,V.y))),m=[0,0,1,0,1,1,0,1];
B.N.A(u,m);a.rect=B.H.cx(m);if(M)a.rect=a.rect.zE(M);if(N){while((a.rect.l&3)!=0)a.rect.l++;while((a.rect.e&3)!=0)a.rect.e++}if(!hc.nO(m)||a.rect.l>1e5||a.rect.e>1e5||a.rect.u()>3e4*3e4)return null;
var x=a.rect.u()*4;if(w&&w.byteLength>=x&&x>=w.byteLength>>2){a.buffer=new Uint8Array(w)}else{a.buffer=B.U(x)}B.N.drawImage(u,U,V.l,V.e,a.buffer,a.rect,n==0,i,N);
if(n==2&&a.buffer){var v=a.rect.l,W=a.rect.e,Z;Z=[0,-1,0,-1,16,-1,0,-1,0];Z=B.ax.Gw(Z);var r=a.buffer.slice(0);
B.ax.mA(r,a.buffer,v,W,Z,255,!1,!0)}if(a.buffer)return a};G.Q.db=function(D,n,_,b,w,i){if(n.color==255)B.ei(n.channel);
var M=n.rect,N=B.U(M.u()*4);B.tD(n.channel,N,3);var a=G.Q.lo([N,M],b,w,i);if(a){_.rect=a.rect;_.channel=B.U(a.rect.u());
B.Ef(a.buffer,_.channel,3);_.Vk=!0}if(n.color==255){B.ei(n.channel);if(a)B.ei(_.channel)}};G.Q.S$=function(D,n){var _=D.filterFX;
if(_)_=_.v.filterFXList;if(_)_=_.v;if(_)for(var b=0;b<_.length;b++){var w=_[b].v.Fltr;if(w==null||w.v.classID!="rigidTransform")continue;
w=w.v;console.log(w);var i=[];for(var M=0;M<4;M++)i.push(w["PuX"+M].v,w["PuY"+M].v);B.H.A(i,n,i);for(var M=0;
M<4;M++){w["PuX"+M].v=i[M*2];w["PuY"+M].v=i[M*2+1]}var N=["PinP","posFinalPins"],a=["originalVertexArray","deformedVertexArray"],o=w.puppetShapeList.v;
for(var U=0;U<o.length;U++){var V=o[U].v;for(var c=0;c<N.length;c++){var E=G.Q.CJ(V[N[c]]);B.H.A(E,n,E);
V[N[c]]=G.Q.sy(E);var A=new Uint8Array(V[a[c]].v),Q=new Float32Array(A.buffer);B.H.A(Q,n,Q);var J=[];
for(var L=0;L<A.length;L++)J[L]=A[L];V[a[c]].v=J}}}};G.Q.CJ=function(D){var n=[],_=D.v.length;for(var k=0;
k<_;k++)n.push(D.v[k].v);return n};G.Q.sy=function(D){var n={t:"VlLs",v:[]},_=D.length;for(var k=0;k<_;
k++)n.v.push({t:"doub",v:D[k]});return n};G.Q.prototype.a18=function(){var D=B.H.t0(B.ie.W_(this.xB.GK())),n=B.N.Ng(this.aL.Yr(),this.GR),_=[D.x,D.y,D.x+D.l,D.y,D.x+D.l,D.y+D.e,D.x,D.y+D.e];
B.N.A(n,_);this.aL.$s(_);this.GR=D};G.Q.prototype.o0=function(D,n,_,b){var w=B.N.Ng(this.aL.Yr(),this.GR);
w=B.N.H9(w,B.N.ei(this.v2));var i=this.xB?this.xB.GK():null;if(this.Ut==0){var M=this.zY=B.N.vI(w);if(this.id==G.m9){var N=this.wO[0][0],a=N.jS,o=a[1],U=~~(o.l*Math.max(0,M.vd)),V=~~(o.e*Math.max(0,M.Ww)),c=new gl(Math.round(M.vd*o.x+M.oE),Math.round(M.Ww*o.y+M.LE),U,V),E=B.FS.A(this.yC,c),A=D.b[this.b[0]];
A.buffer=E;A.rect=c;A.G();D.G()}else G.Q.wt(D,n,this.b,this.wO,_,w,i,null,null,b)}else if(this.Ut==1){var Q=D.b[this.b[0]],o=this.uF.Kj;
if(Q.P8<=0){var J=this.uF.j3,L=this.dD,P=null;if(i&&!B.ie.VW(i)&&!L.rect.l8(o)){var E=B.U(L.rect.u()*4);
B.E3(J,o,E,L.rect);J=E;o=L.rect}if(this.id==G.m9){var M=this.zY=B.N.vI(w),U=~~(o.l*Math.max(0,M.vd)),V=~~(o.e*Math.max(0,M.Ww)),c=new gl(Math.round(M.vd*o.x+M.oE),Math.round(M.Ww*o.y+M.LE),U,V),E=B.FS.A(this.yC,c);
P={buffer:E,rect:c}}else P=G.Q.lo([J,o],_,w,i);if(P){Q.AN.Aa=P.buffer;Q.AN.XC=P.rect;var u=B.U(P.rect.u());
B.Ef(Q.AN.Aa,u,3);D.q={channel:u,rect:Q.AN.XC.clone()}}}else{var m=B.U(o.u()*4);B.tD(this.uF.j3,m,3);
var P=G.Q.lo([m,o],_,w,i);if(P){Q.AN.Aa=B.U(P.rect.u());B.Ef(P.buffer,Q.AN.Aa,3);Q.AN.XC=P.rect}this.h3(D,_,w,i)}Q.JA(D,0,0,D.q);
if(_!=0){Q.B2();B.B2(D.q)}D.oT=!0;D.G()}else if(this.Ut==2)this.h3(D,_,w,i)};G.Q.prototype.h3=function(D,n,_,b){var w=this.dD.rect,i=B.U(w.u()*4);
B.tD(this.dD.channel,i,3);var M=G.Q.lo([i,w],n,_,b),N=B.U(M.rect.u());B.Ef(M.buffer,N,3);D.q={channel:N,rect:M.rect};
D.oT=!0};G.Q.prototype.disable=function(D,n,_,b){if(this.aL)this.ak(D,n,null,!0)};G.fr=function(){G.Q.call(this,[10,16],G.pr,"tools/transform")};
G.fr.prototype=new G.Q;G._t=function(){G.Q.call(this,[7,10],G.c1,"tools/transform")};G._t.prototype=new G.Q;
G.$T=function(){G.Q.call(this,[10,48],G.m9,"tools/transform")};G.$T.prototype=new G.Q;G.tC=function(D,n,_){G.ou.call(this,[10,46],G.vN,"tools/transform");
this.$g=[1,1,2,!0];this.lE="rigidTransform";this.jB=null;this.a3m=null;this.rM=null;this.hG=null;this.PG=null;
this.nJ=null;this.MK=[]};G.tC.prototype=new G.ou;G.tC.prototype.oX=function(){return!0};G.tC.PA=function(D){if(D==null)return!1;
if(D.w.length!=1)return!1;var n=D.b[D.w[0]];return n.add.SoLd||D.yP(!1)};G.tC.prototype.RH=function(D,n){return G.tC.PA(D)};
G.tC.prototype.enable=function(D,n,_,b,w,i,M){this.a3m=i.kZ;var N=i.kZ,a,Q=null;if(N){var o=D.b[N.i];
if(o.add.SoLd.filterFX!=null){var U=o.add.SoLd.filterFX.v.filterFXList.v;if(U[N.index])a=JSON.parse(JSON.stringify(U[N.index].v.Fltr.v))}}var V=a==null,o=D.b[D.w[0]],c=o.buffer,E=o.rect,A=o.add.SoLd;
if(A){var J=A.nonAffineTransform.v;Q=[];for(var k=0;k<4;k++)Q.push(J[k*2].v,J[k*2+1].v);if(V)this.gp("edit",n);
var L=o.tr(D);c=L.buffer;E=L.rect}this.jB={buffer:c.slice(0),rect:E.clone(),a3R:Q};if(V)a=G.tC.df(this.jB,this.$g);
this.rM=a;this.hG=G.tC.EW(this.rM,this.$g);this.Dr();this.zw(D);if(V)this.vm(n);var P=new ho(S.E.W,!0);
P.data={d:S.J.NG,g:this.id,hy:this.$g};n.c(P);P.data={d:S.J.f4,rl:"default"};n.c(P)};G.tC.prototype.disable=function(D,n,_,b){if(this.hG)this.ak(D,n,!0)};
G.tC.prototype.Dr=function(D){var n=this.hG;this.MK=[];for(var k=0;k<n.length;k++){var _=n[k];for(var b=0;
b<_.w.length;b++)this.MK.push([k,_.w[k]]);_.AF=B.i2.Bu(_);if(D)B.i2.Si(_)}};G.tC.prototype.fV=function(D,n,_,b){if(D.Ed=="commit")this.ak(_,n,!0);
else if(D.Ed=="cancel")this.I0(_,n,!0);else if(D.Ed=="prm"){var w=!1;for(var k=0;k<3;k++)if(this.$g[k]!=D.hy[k])w=!0;
this.$g=D.hy;if(w){this.rM=G.tC.df(this.jB,this.$g,this.rM);this.hG=G.tC.EW(this.rM,this.$g);this.Dr(!0);
this.vm(n)}this.zw(_)}else if(D.Ed=="moveDepth"){var i=this.hG;for(var M=0;M<i.length;M++){var N=i[M];
for(var k=0;k<N.w.length;k++){var a=N.w[k];N.Hv[a]+=D.aew?1:-1}}this.vm(n)}};G.tC.prototype.$z=function(D,n){return D==dz.$V||D==dz.cw};
G.tC.prototype.EL=function(D,n,_,b){var w=b.or();if(b.j(dz.Eb))this.ak(D,n,!0);else if(b.j(dz.Gt))this.I0(D,n,!0);
else if(b.j(dz.$V)||b.j(dz.cw)){var i=this.hG;for(var M=0;M<i.length;M++){var N=i[M];N.w.sort(function(U,V){return V-U});
for(var k=0;k<N.w.length;k++){var a=N.w[k],o=a*2;N.Hv.splice(a,1);N.Qi.splice(a,1);N.nf.splice(a,1);
N.jJ.splice(a,1);N.E1.splice(o,2);N.up.splice(o,2)}N.w=[];if(N.jJ.length==0){N.dZ=N.x_.slice(0);N.eo=N.x_.slice(0)}}this.Dr(!0);
this.vm(n);this.zw(D)}else if(w.x!=0||w.y!=0){this.qV(D,w.x,w.y,n);this.td=null}};G.tC.prototype.ak=function(D,n,_){this.gp("confirm",n);
this.escape(D,n,_)};G.tC.prototype.I0=function(D,n,_){this.gp("cancel",n);this.escape(D,n,_)};G.tC.prototype.escape=function(D,n,_){D.D.oB=null;
D.D.Ek=[];D.cF=!0;this.hG=null;var b=new ho(S.E.W,!0);b.data={d:S.J.La};if(_)n.c(b)};G.tC.prototype.EE=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=i.x,N=i.y,a=this.hG,o=null,U=[0,2,4,1.2,1.2,1.2],V=-1,c=G.Bk(D,w);
for(var k=0;k<a.length;k++){var E=a[k],A=B.H.Ib(E.up,M,N,c);if(A!=-1)o=[k,A];if(V==-1&&B.i2.Nv.au7(E.eo,E.UB,M,N))V=k}if(o==null&&V!=-1){var E=a[V];
G.tC._Q(E,M,N,M,N,0);o=[V,E.jJ.length-1];E.AF=B.i2.Bu(E)}this.PG=i;if(o){var Q=a[o[0]].w.indexOf(o[1])!=-1;
if(b.j(dz.CO)&&!Q){a[o[0]].w.push(o[1]);this.MK.push(o)}else if(!Q){a[o[0]].w=[o[1]];this.MK=[o]}}this.zw(D)};
G.tC._Q=function(D,n,_,b,w,i){var M=B.H.Ib(D.eo,n,_);D.jJ.push(M);D.up.push(b,w);D.E1.push(D.eo[M*2]-n,D.eo[M*2+1]-_);
D.nf.push(0);D.Qi.push(!1);D.Hv.push(i)};G.tC.prototype.cp=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=this.PG;
if(M)this.qV(D,i.x-M.x,i.y-M.y,n)};G.tC.prototype.qV=function(D,n,_,b){var w={},i=this.MK,M=this.hG;
if(this.td==null){this.td=[];for(var k=0;k<M.length;k++)this.td.push(M[k].up.slice(0))}for(var k=0;k<i.length;
k++){var N=this.MK[k],a=N[0],o=M[N[0]],U=N[1]*2;o.up[U+0]=this.td[a][U+0]+n;o.up[U+1]=this.td[a][U+1]+_;
w[a]=a}for(var a in w)B.i2.Si(this.hG[w[a]]);this.zw(D);this.vm(b)};G.tC.prototype.gp=function(D,n){var _=new ho(S.E.M,!0);
_.g=G.mg;_.data={d:D,kZ:this.a3m,lE:this.lE,Ky:this.rM};n.c(_)};G.tC.prototype.m_=function(D,n,_,b,w){this.PG=null;
this.td=null};G.tC.prototype.vm=function(D){G.tC.tS(this.hG,this.$g,this.rM);this.gp("edit",D)};G.tC.prototype.zw=function(D){var n=this.hG,_=this.rM;
D.D.oB={t:[],C:[]};D.D.Ek=[];D.D.JR=[];for(var k=0;k<n.length;k++){var b=n[k];for(var w=0;w<b.w.length;
w++)D.D.JR.push((D.D.Ek.length>>>1)+b.w[w]);D.D.Ek=D.D.Ek.concat(b.up);if(this.$g[3])B.H.concat(D.D.oB,B.H.atO(b.eo,b.UB))}D.cF=!0};
G.tC.df=function(D,n,_){var b=D.buffer,w=D.rect,i=D.a3R,M=cq.D2("rigidTransform");if(i)for(var k=0;k<4;
k++){M["PuX"+k].v=i[k*2];M["PuY"+k].v=i[k*2+1]}var N=M.puppetShapeList.v,a=B.i2.ale(b,w.l,w.e,n[1],n[2]),o=[];
for(var U=0;U<a.length;U++){var V={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
V.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var c=a[U];N.push({t:"Objc",v:V});var E=c.x_.slice(0);B.H.A(E,new e3(1,0,0,1,w.x,w.y),E);var A=c.UB;
for(var k=0;k<A.length;k+=3){var Q=A[k+1];A[k+1]=A[k+2];A[k+2]=Q}o.push({UB:A,x_:E,dZ:E,eo:E,jJ:[],E1:[],up:[],AF:null,w:[],nf:[],Qi:[],Hv:[]})}if(_){var J=G.tC.EW(_,[]),L=o[0];
for(var k=0;k<J.length;k++){var P=J[k];for(var u=0;u<P.w.length;u++)L.w.push((L.up.length>>>1)+P.w[u]);
for(var u=0;u<P.jJ.length;u++){var m=P.jJ[u]*2,x=P.x_[m]-P.E1[u*2],v=P.x_[m+1]-P.E1[u*2+1];G.tC._Q(L,x,v,P.up[u*2],P.up[u*2+1],P.Hv[u])}}}G.tC.tS(o,n,M);
return M};G.tC.EW=function(D,n){var _=G.Q.CJ,b=D.puppetShapeList.v,w=[];for(var i=0;i<b.length;i++){var M=b[i].v;
n[0]=M.meshRigidity.v-1;n[1]=M.meshQuality.v-1;n[2]=M.meshExpansion.v;var N=M.pinVertexIndices.v.length,a=M.meshBoundaryPath.v.pathComponents.v;
if(a.length!=0){var o=a[0].v.SbpL.v[0].v.Pts;o.v=[]}var U=new Uint32Array(new Uint8Array(M.indexArray.v).buffer),V=new Float32Array(new Uint8Array(M.originalVertexArray.v).buffer),c=new Float32Array(new Uint8Array(M.deformedVertexArray.v).buffer),E=[],A=[],Q=[];
for(var k=0;k<U.length;k++)E.push(U[k]);for(var k=0;k<V.length;k++){A.push(V[k]);Q.push(c[k])}var J=_(M.pinVertexIndices),L=_(M.pinOffsets),P=_(M.posFinalPins),u=_(M.PnRt),m=_(M.PnOv),x=_(M.PnDp),v=_(M.selectedPin);
w.push({UB:E,x_:A,dZ:Q.slice(0),eo:Q,jJ:J,E1:L,up:P,AF:null,nf:u,Qi:m,Hv:x,w:v})}return w};G.tC.tS=function(D,n,_){function b(c,E){var A=[];
for(var k=0;k<c.length;k++)A.push({t:E,v:c[k]});return A}function w(c,E,A){var Q=new(A?Uint32Array:Float32Array)(c),J=new Uint8Array(Q.buffer);
for(var k=0;k<J.length;k++)E[k]=J[k]}var i=_.puppetShapeList.v;for(var M=0;M<i.length;M++){var N=D[M],a=i[M].v;
a.meshRigidity.v=n[0]+1;a.meshQuality.v=n[1]+1;a.meshExpansion.v=n[2];w(N.UB,a.indexArray.v,!0);w(N.x_,a.originalVertexArray.v);
w(N.eo,a.deformedVertexArray.v);var o=[];for(var k=0;k<N.jJ.length;k++){var U=N.jJ[k]*2,V=k*2;o[V]=N.x_[U]-N.E1[V];
o[V+1]=N.x_[U+1]-N.E1[V+1]}a.PinP.v=b(o,"doub");a.pinVertexIndices.v=b(N.jJ,"long");a.pinOffsets.v=b(N.E1,"doub");
a.posFinalPins.v=b(N.up,"doub");a.PnRt.v=b(N.nf,"long");a.PnOv.v=b(N.Qi,"bool");a.PnDp.v=b(N.Hv,"doub");
a.selectedPin.v=b(N.w,"long")}};G.dL=function(D,n,_){G.ou.call(this,D?D:[10,40],n?n:G.hA,_?_:"tools/slice");
this.tn=null;this.d2=null;this.wN=null;this.ae6=null;this._7=null;this.D$=null};G.dL.prototype=new G.ou;
G.dL.ql=function(D,n){var _=-1;for(var k=0;k<D.length;k++){var b=G.dL.v0(D,k);if(b[0]<=n.x&&n.x<=b[2]&&b[1]<=n.y&&n.y<=b[3]){_=k;
break}}return _};G.dL.prototype.KV=function(D,n,_,b,w){if(_==null)return;this.Jc(_);if(D.d=="fromAction"){var i=_.l$(),M=_.Mg(),N=M==-1?new gl(0,0,_.l,_.e):_.b[M].w3(),a=[N.x,N.x+N.l],o=[N.y,N.y+N.e];
for(var k=0;k<i[0].length;k++){var U=i[0][k],V=Math.round(U[1]),c=i[1][k];if(c!=-1&&c!=M)continue;if(U[0]==0&&a.indexOf(V)==-1)a.push(V);
if(U[0]==1&&o.indexOf(V)==-1)o.push(V)}a.sort(function(W,Z){return W-Z});o.sort(function(W,Z){return W-Z});
for(var E=1;E<o.length;E++)for(var A=1;A<a.length;A++){_.wX.push(G.dL.ZF());G.dL.vP(_.wX,_.wX.length-1,[a[A-1],o[E-1],a[A],o[E]]);
_.cF=!0}}else if(D.d=="reorder"){if(_.GM.length==0)return;var Q=_.wX,J=_.GM;J.sort(function(W,Z){return W-Z});
console.log(J);var L=Q.slice(0),P=[],u=[];for(var k=0;k<J.length;k++){var m=J[k],x=Q[m];u.push(x);L.splice(L.indexOf(x),1)}var v=Math.max(0,Math.min(L.length,J[0]-D.dir));
for(var k=0;k<u.length;k++){L.splice(v+k,0,u[k]);P.push(v+k)}_.wX=L;_.GM=P}else if(D.d=="delete"){var Q=_.wX.slice(0);
for(var k=0;k<_.GM.length;k++)_.wX.splice(_.wX.indexOf(Q[_.GM[k]]),1);_.GM=[]}else if(D.d=="deleteAll"){_.wX=[];
_.GM=[]}else{_.wX[_.GM[0]].v=D;_.cF=!0}this.ym(_)};G.dL.prototype.enable=function(D,n,_,b,w,i){G.ou.prototype.enable.call(this,D,n,_,b,w,i);
if(!_.BE.wX){var M=new ho(S.E.W,!0);M.data={d:S.J.VS,hy:da.RV};n.c(M)}};G.dL.prototype.disable=function(){this.tn=null;
this.d2=null};G.dL.prototype.nq=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=G.dL.ql(D.wX,i);if(M==-1)return;
this.tn=D;this.d2=n;D.GM=[M];D.cF=!0;if(this.D$==null){this.D$=new gN([{name:[5,4]},{name:[8,11,1],vj:!0}]);
this.D$.h("select",this.nz,this)}var N=this.D$;N.parent=n;N._();N.update(D,_);var a=new ho(S.E.W,!0);
a.data={d:S.J.Td,Vl:N,x:w.oh+2,y:w.aK+1};n.c(a)};G.dL.prototype.nz=function(D){var n=this.D$.Uz()[0],_=this.tn;
if(n==0){this.Jc(_);_.wX.splice(_.GM[0],1);_.GM=[];_.cF=!0;this.ym(_)}if(n==1){var b=new ho(S.E.W,!0);
b.data={d:S.J.a_,Lt:"soptions",k:_.wX[_.GM[0]].v};this.d2.c(b)}};G.dL.prototype.EE=function(D,n,_,b,w){if(D==null)return;
this.Jc(D);var i=D.s.it(w.x,w.y);i=G._s.Mr(D,i,_,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this._7=i;D.wX.unshift(G.dL.ZF());D.GM=[0];G.dL.vP(D.wX,0,[i.x,i.y,i.x+20,i.y+20]);D.cF=!0};G.dL.prototype.cp=function(D,n,_,b,w){if(this.wN==null)return;
var i=D.s.it(w.x,w.y),M=this._7;i=G._s.Mr(D,i,_,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var N=[M.x,M.y,i.x,i.y];G.dL.FF(N);G.dL.vP(D.wX,0,N);D.cF=!0};G.dL.prototype.m_=function(D,n,_,b,w){this.ym(D);
this._7=null};G.dL.prototype.Jc=function(D){this.wN=JSON.stringify(D.wX);this.ae6=JSON.stringify(D.GM)};
G.dL.prototype.ym=function(D){var n=JSON.stringify(D.wX);if(n!=this.wN){var _=new jv(this.name,this);
_.data={uF:this.wN,MX:n,a9i:this.ae6,atH:JSON.stringify(D.GM)};D.$i(_)}this.wN=null};G.dL.prototype.k5=function(D,n){n.wX=JSON.parse(D.uF);
n.GM=JSON.parse(D.a9i);n.cF=!0};G.dL.prototype.pS=function(D,n){n.wX=JSON.parse(D.MX);n.GM=JSON.parse(D.atH);
n.cF=!0};G.dL.prototype.$z=function(D,n){return n!=null&&n.GM.length!=0&&(D==dz.$V||D==dz.cw)};G.dL.prototype.EL=function(D,n,_,b){if(D==null)return;
if(b.j(dz.$V)||b.j(dz.cw))this.KV({d:"delete"},n,D,b,_);var w=b.or();if(w.x!=0||w.y!=0){this.Jc(D);G.dL.qF(D,w);
this.ym(D)}};G.dL.prototype.fV=function(D,n,_,b,w){};G.dL.ao8=function(D,n,_,b){var w=new gZ(-n.x,-n.y),i=n.l/_.l,M=n.e/_.e,N=[0,0,n.l,n.e];
for(var k=0;k<D.length;k++){var a=G.dL.v0(D,k);if(b){a[0]=Math.round(a[0]*i);a[1]=Math.round(a[1]*M);
a[2]=Math.round(a[2]*i);a[3]=Math.round(a[3]*M)}else{G.dL.J4(a,w);G.dL.arE(a,N)}if(a[0]>=a[2]||a[1]>=a[3]){D.splice(k,1);
k--;continue}G.dL.vP(D,k,a)}};G.dL.qF=function(D,n){var _=D.wX;for(var k=0;k<D.GM.length;k++){var b=G.dL.v0(_,D.GM[k]);
G.dL.J4(b,n);G.dL.vP(_,D.GM[k],b)}};G.dL.arE=function(D,n){if(D[0]<n[0])D[0]=n[0];if(D[1]<n[1])D[1]=n[1];
if(n[2]<D[2])D[2]=n[2];if(n[3]<D[3])D[3]=n[3]};G.dL.J4=function(D,n){D[0]=Math.round(D[0]+n.x);D[2]=Math.round(D[2]+n.x);
D[1]=Math.round(D[1]+n.y);D[3]=Math.round(D[3]+n.y)};G.dL.vP=function(D,k,n){var _=D[k].v.bounds.v;_.Left.v=n[0];
_.Top.v=n[1];_.Rght.v=n[2];_.Btom.v=n[3]};G.dL.v0=function(D,k){var n=D[k].v.bounds.v;return[n.Left.v,n.Top.v,n.Rght.v,n.Btom.v,k]};
G.dL.FF=function(D){if(D[2]<D[0]){var n=D[0];D[0]=D[2];D[2]=n}if(D[2]==D[0])D[2]++;if(D[3]<D[1]){var n=D[1];
D[1]=D[3];D[3]=n}if(D[3]==D[1])D[3]++};G.dL.t0=function(D,n){var _=1e9,b=-1e9,w=1e9,i=-1e9;for(var k=0;
k<n.length;k++){var M=G.dL.v0(D,n[k]);_=Math.min(_,M[0]);w=Math.min(w,M[1]);b=Math.max(b,M[2]);i=Math.max(i,M[3])}return[_,w,b,i]};
G.dL.ZF=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
G.ku=function(){G.dL.call(this,[10,41],G.iV,"tools/sselect");this._7=null;this.SM=null;this.FG=null;
this.nJ=null;this.N1=!1};G.ku.prototype=new G.dL;G.ku.prototype.EE=function(D,n,_,b,w){if(D==null)return;
var i=D.s.it(w.x,w.y),M=G.ku.xz(i,4/D.s.V,D.wX,D.GM);M.pop();if(M.length!=0){this._7=i;this.FG=M;this.Jc(D);
return}var N=D.wX,a=G.dL.ql(N,i);if(a==-1)D.GM=[];else{var o=D.GM.indexOf(a);if(b.j(dz.CO)){if(o==-1)D.GM.push(a);
else D.GM.splice(o,1)}else{D.GM.sort(function(Q,J){return Q-J});if(o==-1)D.GM=[a];this._7=i;this.Jc(D);
this.SM=G.dL.t0(N,D.GM);this.nJ=[];for(var k=0;k<D.GM.length;k++)this.nJ.push(G.dL.v0(N,D.GM[k]));if(b.j(dz.u9)){var U=N.slice(0),V=D.GM,c=[];
for(var k=0;k<V.length;k++){var a=V[k],E=U[a],A=N.indexOf(E);c.push(A);N.splice(A,0,JSON.parse(JSON.stringify(E)))}D.GM=c}}}D.cF=!0};
G.ku.prototype.cp=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);if(this._7==null){var M=G.ku.xz(i,4/D.s.V,D.wX,D.GM),N=M.pop(),a=M.length==0?"default":["ew","nwse","ns","nesw"][N]+"-resize",o=new ho(S.E.W,!0);
o.data={d:S.J.f4,rl:a};n.c(o);return}if(!this.N1&&i.l8(this._7))return;this.N1=!0;var U=D.wX,M=this.FG;
if(M){i=G._s.Mr(D,i,_,[!0,null,!1]);var V=Math.round(i.x),c=Math.round(i.y);for(var k=0;k<M.length;k+=2){var E=G.dL.v0(U,M[k]),A=M[k+1];
E[A]=(A&1)==0?V:c;G.dL.FF(E);G.dL.vP(U,M[k],E)}}else{var Q=i.mG(this._7),J=this.SM.slice(0);G.dL.J4(J,Q);
var L=new gl(J[0],J[1],J[2]-J[0],J[3]-J[1]),P=G._s.Ei(D,L,_,[!0,null,!1],!0);G._s.Xs(D,L,P);Q.x+=P[0];
Q.y+=P[1];for(var k=0;k<D.GM.length;k++)G.dL.vP(U,D.GM[k],this.nJ[k]);G.dL.qF(D,Q)}D.cF=!0};G.ku.prototype.m_=function(D,n,_,b,w){if(this._7==null)return;
this.ym(D);D.D.O0=null;D.cF=!0;this._7=null;this.FG=null;this.nJ=null;this.N1=!1};G.ku.xz=function(D,n,_,b){var w=D.x,i=D.y,M=[],N=-1,a=[];
for(var k=0;k<b.length;k++){var o=b[k],U=G.dL.v0(_,o),V=U[0],c=U[1],E=U[2],A=U[3];if(w<V-n||E+n<w||i<c-n||A+n<i)continue;
var Q=[w<V+n,i<c+n,E-n<w,A-n<i],J=-1;for(var L=0;L<4;L++){if(Q[L]&&Q[L+1&3])J=1+2*(L&1);if(Q[L])M.push(o,L)}if(J==-1){if(Q[0]||Q[2])J=0;
if(Q[1]||Q[3])J=2}if(J!=-1){N=J;a.push(o)}}var P=M.length;for(var k=0;k<P;k+=2){var o=M[k],u=M[k+1],m=G.dL.v0(_,o)[u];
for(var L=0;L<b.length;L++){var v=b[L];if(a.indexOf(v)!=-1)continue;var U=G.dL.v0(_,v);if(U[u&1]==m)M.push(v,u&1);
if(U[2+(u&1)]==m)M.push(v,2+(u&1))}}M.push(N);return M};G.Am=function(){G.fq.call(this,[10,44],G.a6$,"tools/oselect");
this.ca="crosshair";this.aoE=0};G.Am.prototype=new G.fq;G.Am.prototype.l2=function(D,n,_,b){if(Math.random()<1/(1+this.aoE)){alert("The cross should be fully inside the object.",3500);
this.aoE++}};G.Am.prototype.uK=function(D,n,_,b){G.yc.kY(D,G.fq.jL,this.d2);if(!b.Xt||!this.Bv)return;
var w=this.YL(D,_,!1),i=w.l,M=w.e,N=w.x,a=w.y,o=w.x+i,U=w.y+M,V=N+i/2,c=a+M/2,E=G.Am.gI;D.D.oB={t:[N,a,o,a,o,U,N,U,V-i*E,c,V+i*E,c,V,c-M*E,V,c+M*E],C:"M L L L Z M L M L".split(" ")};
D.cF=!0};G.Am.gI=.12;G.Am.prototype.R4=function(D,n,_,b){D.D.oB=null;D.cF=!0;this.finish(D,n,_,b)};G.Am.prototype.getSelection=function(D,n,_,b){if(this.BY.l8(this.pM)||!this.Bv)return null;
var w=this.YL(D,_,!1),i=D.b[D.w[0]];if(w.hk()||!w.Zy(i.rect))return null;return G.fq.xX("ObSl",w)};G.yc=function(){G.NF.call(this,[10,37],G.x5,"tools/qselect");
this.T8="qselect"};G.yc.prototype=new G.NF;G.yc.prototype.EE=function(D,n,_,b,w){this.gY(D,_,b,w,1);
if(this.Ey==null)return;this.xq(D)};G.yc.prototype.cp=function(D,n,_,b,w){this.bA(D,n,_);G.yc.kY(D,G.fq.jL,n);
if(this.QL)this.$S(D,_,w);if(this.Ey==null)return;if(!w.Xt)return;var i=this.FT(D,_,b,w);if(i!=1)this.xq(D)};
G.yc.kY=function(D,n,_){if(D&&n.key!=G.yc.lS(D)){n.key=G.yc.lS(D);var b=D.b[D.w[0]].rect.u(),i="Image Analysis ...";
if(b==0)return;var w=b>1e6,M=new ho(S.E.W,!0);M.data={d:S.J.tp,FV:i};if(w)_.c(M);setTimeout(function(){var N=G.yc.GH(D);
for(var a in N)n[a]=N[a];var M=new ho(S.E.W,!0);M.data={d:S.J.ru,FV:i};if(w)_.c(M)},30)}};G.yc.lS=function(D){var n=D.w[0],_=D.b[n],b=_.rect,w=b.l,i=b.e,M=w*i,N=_.buffer;
return[n,b.x,b.y,w,i,N[0],N[1],N[2],N[3]].join(",")};G.yc.GH=function(D){var n=D.w[0],_=D.b[n],b=_.rect,w=b.l,i=b.e,M=w*i,N=_.buffer,a=Date.now(),o=B.U(M);
o.fill(128);var U=B.zR.KN(N,w,i);console.log(Date.now()-a);var V={key:G.yc.lS(D),mx:N,rect:b.clone(),Wj:w,Rw:i,TT:12,au5:!1,IA:o,m2:U,q:B.U(M),WF:null,p$:null,sn:null};
G.yc.uz(V);return V};G.yc.uz=function(D,n){var _=D.Wj,b=D.Rw,w=0,i=0,M=Date.now(),N=D.WF!=null&&B.zR.anz(D.m2.UB,D.WF.UB,D.WF.kS,D.IA);
w=Date.now()-M;M=Date.now();if(!N&&!D.au5){D.WF=B.zR.A5(D.m2,_,b,D.IA,D.TT);if(!B.zR.anz(D.m2.UB,D.WF.UB,D.WF.kS,D.IA)){D.au5=!0;
console.log("conflict")}D.p$=B.zR.a3J(D.mx,_,b,D.WF.UB,D.WF.kS);D.sn=[D.p$[0].slice(0),[]];i=Date.now()-M;
M=Date.now()}var M=Date.now();if(n){D.sn[0].set(D.p$[0]);var a=D.p$[1],o=D.sn[1];for(var U=0;U<a.length;
U++)o[U]=a[U].slice(0);B.zR.aqG(D.WF.UB,_,b,D.WF.kS,D.IA,D.q,D.sn)}};G.a9=function(){G.ou.call(this,[10,50],G.Cz,"tools/artb");
this.Qw=null;this.asr=!1;this.aL=null;this.AY=!1;this.aj3=null;this.ry=100;this.AO=null;this.gy=0};G.a9.prototype=new G.ou;
G.a9.nF=function(D,n){var _=D[0],b=0,w=0;if(_==0)w=-1;else if(_==1)b=1;else if(_==2)w=1;else b=-1;return[20/n.O8,D[1]+b*60/n.O8,D[2]+w*60/n.O8]};
G.a9.prototype.fV=function(D,n,_,b,w){this.Qw=D.hy;this.gy=Date.now()};G.a9.prototype.Zc=function(D,n,_,b){if(_.ey!=this.id)return;
if(D==null||D.w.length!=1){this.Vj(D);return}var w=D.w[0],i=D.b[w],M=i.add.artb;if(M==null){this.Vj(D);
return}if(this.AY)return;if(Date.now()-this.gy>50){this.Qw={};var N=["artboardBackgroundType","Clr"];
for(var k=0;k<N.length;k++)if(M[N[k]])this.Qw[N[k]]=JSON.parse(JSON.stringify(M[N[k]]));var a=new ho(S.E.W,!0);
a.data={d:S.J.NG,g:this.id,Bl:this.Qw};n.c(a)}var o=i.w3(),U=B.H.X0(o).t,V=this.aL=new hc(U,!0,!1,!1,!0,!1,3,!1);
V.BG(D,_,!1);var c={t:[1,0],C:["M"]};for(var k=1;k<30;k++){var E=Math.PI*2*k/30;c.t.push(Math.cos(E),Math.sin(E));
c.C.push("L")}c.C.push("Z","M","L","M","L");c.t.push(-.5,0,.5,0,0,-.5,0,.5);var A=o.x+o.l/2,Q=o.y+o.e/2,J=this.ry*1.1,L=this.aj3=[A,o.y,o.x+o.l,Q,A,o.y+o.e,o.x,Q],P=[0,-J,J,0,0,J,-J,0],u=D.root.children;
D.D.PM=[];for(var k=0;k<4;k++){var m=new gZ(L[k*2]+P[k*2],L[k*2+1]+P[k*2+1]),x=!1;for(var v=0;v<u.length;
v++){var i=u[v].i;if(i.add.artb==null)continue;var o=i.w3();if(o.A1(m))x=!0}if(x){L[k*2]=1e9;continue}D.D.PM.push([k,L[k*2],L[k*2+1]])}};
G.a9.prototype.disable=function(D,n,_,b,w){this.Vj(D)};G.a9.prototype.Vj=function(D){if(this.aL){this.aL.clear(D);
this.aL=null;D.D.PM=null}};G.a9.prototype.EE=function(D,n,_,b,w){this.gy=Date.now();var i=D.s.it(w.x,w.y),M=this.aL;
if(M){var N=new ho(S.E.M),a=M.auK(null,i,D,w);if(a<9){this.AY=M.EE(D,_,b,i,null,!0,w);return}else if(M.Hg(i)){N.g=G.GZ;
N.data={d:"disabAuto"};n.c(N);var o=new ho(S.E.W);o.data={d:S.J.Ou,g:G.GZ,a9j:!0};n.c(o);return}else{var U=-1,V=D.D.PM;
for(var k=0;k<V.length;k++){var c=G.a9.nF(V[k],D.s);if(gZ._e(i,new gZ(c[1],c[2]))<c[0])U=V[k][0]}if(U!=-1){var E=D.b[D.w[0]].w3(),A=E.clone(),Q=(U==0||U==2?E.e:E.l)+this.ry;
if(U==0||U==3)Q=-Q;if(U==0||U==2)E.y+=Q;else E.x+=Q;if(b.j(dz.u9)){var A=new gl(0,0,D.l,D.e);N.g=G.vp;
N.data={d:q.Jm};n.c(N);G._s.NE(D,D.DF(null,D.w[0],null,!0),null,E.x-A.x,E.y-A.y);var E=G.v1.Md(D);if(E){var J=D.XN();
J.data.GR=A;J.data.H7=E}}else this.nt(D,E,n);return}}}this.AO=G._s.Mr(D,i,_)};G.a9.prototype.nt=function(D,n,_){var b=D.b.slice(0),w=[D.b.length+1],i=D.ni();
i.rK("Artboard "+(D.root.children.length+1));i.add.lsct=f4.AU;i.Cx(n);if(this.Qw){var M=i.add.artb,N=this.Qw;
for(var a in N)M[a]=N[a]}i.QQ="pass";i.VN=24;if(D.add.artd||n.zE(new gl(0,0,D.l,D.e)).hk())b.push(D.b8());
else b.unshift(D.b8());b.push(i);var o=new ho(S.E.M);o.g=G.vp;o.data={d:q.qO,S5:b,yr:w,Ln:"New Artboard"};
_.c(o)};G.a9.prototype.cp=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=this.aL,N=this.AO;if(M){if(this.AY){M.cp(D,_,b,i)}else{var a=M.uu(i,D.s.V,null,w);
if(a==null)a="default";var o=new ho(S.E.W,!0);o.data={d:S.J.f4,rl:a};n.c(o)}}if(N){var U=this.v0(D,i,b,_);
D.D.oB=B.H.X0(U);D.cF=!0;G.ou.cf(w,U,D,_)}};G.a9.prototype.m_=function(D,n,_,b,w){var i=D.s.it(w.x,w.y),M=this.AO;
if(this.AY){this.aL.m_(D,_,b,i);this.AY=!1;var N=B.H.cx(this.aL.Yr()),a=q.xR(N),o=D.b[D.w[0]],U=JSON.parse(JSON.stringify(o.add.artb));
U.artboardRect.v=a;var V=new ho(S.E.M,!0);V.g=G.vp;V.data={d:q.LX,D1:U};n.c(V)}if(M){var c=this.v0(D,i,b,_);
if(c.u()>20)this.nt(D,c,n);D.D.oB=null;D.cF=!0;this.AO=null;D.D.Tf=[]}};G.a9.prototype.v0=function(D,n,_,b){var w=this.AO,i=G._s.Mr(D,n,b),M=G.cD.UJ(w,i,_,!0);
w=M[0];i=M[1];return B.H.cx([w.x,w.y,i.x,i.y])};function hc(D,n,_,b,w,i,M,N){this.yh=null;this.OJ=D?D.slice(0):null;
this.s8=4;this.pM=null;this.$Y=null;this.gg=null;this.Uu=-1;this.yF=null;this.ad6=!1;this.aiT=[];for(var k=0;
k<8;k++)this.aiT.push(eF.aqZ(0,PIMG.rotate,-.5,-.5,-45-k*45));this.adp=n;this.a3t=_;this.a9N=b;this.a5F=w;
this.ln=i;this.eF=M;this.a5V=N==null?1:N}hc.prototype.r8=function(){return this.Uu!=-1};hc.prototype.Yr=function(){return this.OJ.slice(0)};
hc.prototype.$s=function(D){this.OJ=D};hc.prototype.aec=function(){return this.mZ(this.OJ)};hc.prototype.aae=function(){return this.s8};
hc.prototype.a0Z=function(D){this.s8=D};hc.prototype._u=function(D){if(D==null)D=this.OJ;if(this.s8==9)return this.pM;
else return this.mZ(D)[this.s8]};hc.prototype.ao$=function(D){if(this.s8==9)this.pM=D.clone();else{var n=this._u(),_=new e3(1,0,0,1,D.x-n.x,D.y-n.y);
B.H.A(this.OJ,_,this.OJ)}};hc.prototype.uu=function(D,n,_,b){var w=this.Od(null,D,n,b),i;if(w==9)return"default";
if(w==10){if(_)return null;return!this.adp?"move":null}if(w==-1||w==4)return null;if(w==11){var M=this._u().mG(D);
i=90-Math.atan2(M.y,M.x)*180/Math.PI;var N=Math.round(8*(i/360));N=(N+8)%8;return this.aiT[N]}else{var a=this.d_(D,this.OJ);
i=[135,90,45,180,0,0,225,270,315][w];var o=B.N.Ng(this.OJ);i+=Math.atan2(-o[3],o[0])*180/Math.PI;var U="ew nesw ns nwse ew nesw ns nwse".split(" "),N=Math.round(8*(i/360));
N=(N+8)%8;return U[N]+"-resize"}};hc.prototype.d_=function(D,n){var _=B.N.ei(B.N.Ng(n)),b=new Float64Array(2);
B.N.Un(D.x,D.y,_,b);return new gZ(b[0],b[1])};hc.prototype.Hg=function(D){var n=this.d_(D,this.OJ);return 0<=n.x&&n.x<=1&&0<=n.y&&n.y<=1};
hc.prototype.EE=function(D,n,_,b,w,i,M){this.ad6=i;this.yF=b;var N=D.s.V,a;if(this.OJ==null)b=G._s.Mr(D,b,n);
this.gg=b.clone();if(this.OJ==null){this.gg.offset(1,1);var o=w==null?1:1/w;this.OJ=[b.x,b.y,b.x+1,b.y,b.x+1,b.y+o,b.x,b.y+o];
a=8}else{a=this.Od(_,b,N,M);if(0<=a&&a<=8)this.gg=this.mZ(this.OJ)[a];if(a==9){this.s8=9;this.pM=b.clone()}}this.yh=this.OJ.slice(0);
this.Uu=a;this.BG(D,n);this.$Y=this._u();return a!=-1};hc.prototype.auK=function(D,n,_,b){return this.Od(D,n,_.s.V,b)};
hc.prototype.Od=function(D,n,_,b){var w=-1,i=this.mZ(),M=[0,2,6,8,1,3,5,7],N=b?G.Bk({s:{V:_}},b):6*G.F()/_;
if(w==-1)if(gZ._e(this._u(),n)<N)w=9;if(w==-1)for(var k=0;k<M.length;k++)if(gZ._e(i[M[k]],n)<N)w=M[k];
if(w==-1&&D&&D.j(dz.u9))w=9;if(w==-1||this.eF==4){if(this.Hg(n)){if(this.adp)w=10}else{var a=this.d_(n,this.OJ),o=new gl(0,0,1,1);
o.Iq(.2,.2);w=o.A1(a)&&this.eF!=3?11:10}}return w};hc.prototype.cp=function(D,n,_,b){if(this.Uu==-1)return;
this.yF=b;var w=_.j(dz.CO),i=_.j(dz.u9),M=_.j(dz.uH),N=D.s.V,a=this.gg,o=this.Uu,U=this.mZ(),V=G._s.Mr(D,a,n),c=G._s.Mr(D,b,n),E,A;
if(o==9){var U=this.mZ(),Q=-1;for(var k=0;k<U.length;k++)if(gZ._e(U[k],c)*N<10)Q=k;this.s8=Q==-1?9:Q;
this.pM=w?G.ne.ff(V,c):c.clone()}else if(o==10){A=B.H.t0(this.yh);var J=A.x,L=A.y;A.offset(b.x-a.x,b.y-a.y);
if(this.fu()){A.x=Math.round(A.x);A.y=Math.round(A.y)}E=G._s.Ei(D,A,n);var P=new e3(1,0,0,1,A.x-J+E[0],A.y-L+E[1]);
B.H.A(this.yh,P,this.OJ)}else if(o==11){var u=this._u(this.yh),m=u.mG(b),x=u.mG(a),v=Math.atan2(m.y,m.x),W=Math.atan2(x.y,x.x),P=new e3(1,0,0,1,-u.x,-u.y),Z=Math.PI/12;
if(w)P.rotate(Math.round((W-v)/Z)*Z);else P.rotate(W-v);P.translate(u.x,u.y);B.H.A(this.yh,P,this.OJ)}else{var r,X=this.yh,$=o==0||o==2||o==6||o==8;
if(this.eF==1){if($)w=i=M=!0}else if(this.eF==2&&$&&this.ad6!=!0)M=!0;if(this.eF==3)M=!1;if(this.a9N&&$&&M){var k=[0,0,2,0,0,0,6,0,4,0][o],I=-1,T=c.x,e=c.y;
if(w){var F=k+6&7,y=k+10&7,h=hc.br(X[k],X[k+1],X[F],X[F+1],c.x,c.y),Y=hc.br(X[k],X[k+1],X[y],X[y+1],c.x,c.y),K=h[2]<Y[2]?h:Y;
T=K[0];e=K[1];if(i)I=h[2]<Y[2]?F:y}else if(i)I=k+4&7;r=X.slice(0);if(I!=-1){var z=X[I],f=X[I+1],s=(X[k]+z)/2,l=(X[k+1]+f)/2;
r[I]=s-(T-s);r[I+1]=l-(e-l)}r[k]=T;r[k+1]=e}else if($&&i){var u=this.$Y,g=u.x,H=u.y,O=V.x-g,C=V.y-H,ib=1,hH=1;
if(Math.abs(O)>=1)ib=(c.x-g)/O;if(Math.abs(C)>=1)hH=(c.y-H)/C;if(w||this.ln)ib=hH=(ib+hH)/2;var P=new e3;
P.translate(-g,-H);P.scale(ib,hH);P.translate(g,H);r=X.slice(0);B.H.A(r,P,r)}else{if(this.fu()){c.x=Math.round(c.x);
c.y=Math.round(c.y)}var R=[0,1,2,5,8,7,6,3],fR=R[(R.indexOf(o)+4)%8],j4=[];for(var k=0;k<3;k++)for(var I=0;
I<3;I++)j4.push(new gZ(I/2,k/2));var u=this.$Y,cP=this.d_(c,X),a8=this.d_(a,X),d0=i&&(this.s8==4||this.s8==9)?this.d_(u,X):j4[fR],b9=new e3,jG=new e3,ib=(cP.x-d0.x)/(a8.x-d0.x);
if(ib==0)ib=1e-4;var hH=(cP.y-d0.y)/(a8.y-d0.y);if(hH==0)hH=1e-4;if(this.a5F){ib=Math.max(ib,0);hH=Math.max(hH,0)}if(o==0||o==2||o==6||o==8){if(w||this.ln)b9.scale(ib,ib);
else b9.scale(ib,hH)}if(o==1||o==3||o==5||o==7){var jP=this.ln;if(o==1||o==7)b9.scale(jP?hH:1,hH);else b9.scale(ib,jP?ib:1);
if(this.a3t&&M){if(o==1||o==7)jG.jo=(cP.x-d0.x)/(cP.y-d0.y);else jG.S=(cP.y-d0.y)/(cP.x-d0.x)}}var P=new e3;
P.translate(-d0.x,-d0.y);P.concat(b9);P.concat(jG);P.translate(d0.x,d0.y);r=[0,0,1,0,1,1,0,1];B.H.A(r,P,r);
var K=B.N.Ng(X);B.N.A(K,r)}if(hc.nO(r))this.OJ=r}this.BG(D,n);if(E)G._s.Xs(D,A,E)};hc.br=function(D,n,_,b,w,i){var M=_-D,N=b-n,a=w-D,o=i-n,U=M*M+N*N,V=a*M+o*N,c=V/U,E=D+c*M,A=n+c*N,Q=w-E,J=i-A;
return[E,A,Math.sqrt(Q*Q+J*J)]};hc.prototype.fu=function(){var D=this.OJ;return Math.abs(D[1]-D[3])<1e-6&&Math.abs(D[2]-D[4])<1e-6||Math.abs(D[0]-D[2])<1e-6&&Math.abs(D[3]-D[5])<1e-6};
hc.nO=function(D){return B.H.Sb(D)||B.H.Sb([D[6],D[7],D[4],D[5],D[2],D[3],D[0],D[1]])};hc.prototype.m_=function(D,n,_,b){this.Uu=-1;
this.yF=null;D.D.O0=null;D.D.Tf=[];D.cF=!0};hc.prototype.EL=function(D,n,_){var b=_.or();if(b.x||b.y){var w=new e3(1,0,0,1,b.x,b.y);
B.H.A(this.OJ,w,this.OJ);this.BG(D,n);return!0}return!1};hc.prototype.mZ=function(D){if(D==null)D=this.OJ;
var n=D[6]-D[0],_=D[7]-D[1],b=D[4]-D[2],w=D[5]-D[3],i=[D[0],D[1],D[2],D[3],D[0]+n/2,D[1]+_/2,D[2]+b/2,D[3]+w/2,D[6],D[7],D[4],D[5]],M=[];
for(var k=0;k<3;k++){var N=k*4,a=i[N+0],o=i[N+1],U=i[N+2],V=i[N+3];M.push(new gZ(a,o));M.push(new gZ(a+(U-a)/2,o+(V-o)/2));
M.push(new gZ(U,V))}return M};hc.prototype.BG=function(D,n,_){if(_==null)_=!1;var b=this.mZ(),w=b[0],i=b[2],M=b[6],N=b[8];
D.D.oB={C:[],t:[]};D.D.oB.C.push("M","L","L","L","Z");D.D.oB.t.push(w.x,w.y,i.x,i.y,N.x,N.y,M.x,M.y);
var a=this.a5V;if(a>1){var o=i.mG(w),U=M.mG(w),V=N.mG(i),c=N.mG(M);for(var k=1;k<a;k++){D.D.oB.C.push("M","L","M","L");
var E=k/a;D.D.oB.t.push(w.x+o.x*E,w.y+o.y*E,M.x+c.x*E,M.y+c.y*E);D.D.oB.t.push(w.x+U.x*E,w.y+U.y*E,i.x+V.x*E,i.y+V.y*E)}}D.s.KZ=new gl(0,0,gZ._e(b[0],b[2]),gZ._e(b[0],b[6]));
if(this.Uu!=-1&&this.Uu<9&&this.yF){var A=D.s.TO(this.yF.x,this.yF.y);G.ou.cf(A,D.s.KZ,D,n)}if(!_){D.D.zc=[];
for(var k=0;k<b.length;k++)if(k!=4)D.D.zc.push(b[k].x,b[k].y);var Q=this._u();D.D.zc.push(Q.x,Q.y)}D.cF=!0};
hc.prototype.clear=function(D){D.s.KZ=null;D.D.O0=null;D.D.oB=null;D.D.zc=[];D.cF=!0};function eQ(D,n){this.ie=null;
this.Uu=-1;this.B6(D)}eQ.prototype.GK=function(){return JSON.parse(JSON.stringify(this.ie))};eQ.prototype.B6=function(D){this.ie=JSON.parse(JSON.stringify(D))};
eQ.prototype.Hg=function(D){return!0};eQ.prototype.uu=function(D,n,_,b){var w=this.Od(D,n,b);if(w==-1)return"default";
return"pointer"};eQ.prototype.EE=function(D,n,_,b,w,i,M){this.Uu=this.Od(b,D.s.V,M);return this.Uu!=-1};
eQ.prototype.Od=function(D,n,_){var b=this.tX(),w=-1,i=1e6;for(var k=0;k<b.length;k++){var M=gZ._e(b[k],D);
if(M<i){w=k;i=M}}return i<(_?G.Bk({s:{V:n}},_)*2:20*G.F()/n)?w:-1};eQ.prototype.cp=function(D,n,_,b){if(this.Uu==-1)return;
var w=D.s.V,i=this.Uu,M=B.ie.W_(this.ie);M[i*2]=b.x;M[i*2+1]=b.y;B.ie.IW(M,this.ie)};eQ.prototype.m_=function(D,n,_,b){this.Uu=-1;
D.cF=!0};eQ.prototype.EL=function(D,n,_){var b=_.or();if(b.x||b.y){var w=new e3(1,0,0,1,b.x,b.y);B.H.A(this.OJ,w,this.OJ);
this.BG(D)}};eQ.prototype.tX=function(D){var n=B.ie.W_(this.ie),_=[];for(var k=0;k<n.length;k+=2)_.push(new gZ(n[k],n[k+1]));
return _};eQ.prototype.BG=function(D){var n=this.tX();D.D.oB={C:[],t:[]};D.D.oB.C.push("M","C","C","C","C");
var _=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var k=0;k<_.length;k++)D.D.oB.t.push(n[_[k]].x,n[_[k]].y);
D.D.oB.C.push("M","L","L","M","L","L","M","L","L","M","L","L");_=[4,0,1,2,3,7,11,15,14,13,12,8];for(var k=0;
k<_.length;k++)D.D.oB.t.push(n[_[k]].x,n[_[k]].y);D.D.zc=[];for(var k=0;k<n.length;k++)D.D.zc.push(n[k].x,n[k].y);
D.cF=!0};eQ.prototype.clear=function(D){D.D.oB=null;D.D.zc=[];D.cF=!0};function j8(){this.o2=!1;this.Pf=!1;
this.arg=!1;this.acN=!1;this.Pu=!1;this.il=!1;this.qn=0;this.V5=0}j8.prototype.EE=function(D){this.o2=!0;
this.Pf=!1;this.Pu=D.j(dz.CO);this.il=D.j(dz.u9);this.qn=this.Pu?0:1;this.V5=this.il?0:1};j8.prototype.EL=function(D){var n=this.acN=D.j(dz.CO),_=this.arg=D.j(dz.u9);
if(this.Pf){if(this.qn==0&&!n)this.qn++;if(this.qn==1&&n)this.qn++;if(this.V5==0&&!_)this.V5++;if(this.V5==1&&_)this.V5++}};
j8.prototype.cp=function(){this.Pf=!0};j8.prototype.m_=function(){this.o2=!1};j8.prototype.pY=function(k){if(k==0)return this.o2?this.il:this.arg;
if(k==1)return this.Pf?this.V5==2:!1};j8.prototype.eJ=function(k){if(k==0)return this.o2?this.Pu:this.acN;
if(k==1)return this.Pf?this.qn==2:!1};G.History=function(){G.ou.call(this,"History",G.rX);this.mn=!0;
this.aiD=0};G.History.prototype=new G.ou;G.History.prototype.KV=function(D,n,_,b){_.lP=!0;if(D.d=="h_itemchange"){if(D.index<_.tK)for(var k=_.tK;
k>D.index;k--)this.WG(_);if(D.index>_.tK)for(var k=_.tK;k<D.index;k++)this.ky(_)}if(D.d=="h_stepfwd")this.ky(_);
if(D.d=="h_stepbck")this.WG(_);if(D.d=="h_undoredo"){var w=this.mn||this.aiD!=_.tK;if(w){this.WG(_);
w=!1}else{this.ky(_);w=!0}this.mn=w;this.aiD=_.tK}else this.mn=!0};G.History.prototype.WG=function(D){if(D.tK==0)return;
var n=D.history[D.tK];n.g.k5(n.data,D);D.tK--};G.History.prototype.ky=function(D){if(D.tK==D.history.length-1)return;
var n=D.history[D.tK+1];n.g.pS(n.data,D);D.tK++};G.oM=function(){G.ou.call(this,"Layers",G.vp);this.d2=null};
G.oM.prototype=new G.ou;G.oM.prototype.KV=function(D,n,_,b,w){this.d2=n;var i=D.d,M=D.i!=null?D.i:_.w.length!=0?_.w[0]:_.b.length-1,N=_.b[M];
_.HH=!0;var a=b.j(dz.u9),o=b.j(dz.CO),U=b.j(dz.uH);if(i==q.R8&&_.q==null&&(_.w.length>1||!_.yP(!1)))i=q.Jm;
if(i==q.fH){var V=new jv([6,33],this),c=N.nR()?["pass"].concat(jz._w):jz._w,E=c[D.ub],A=D.i!=null?[D.i]:_.w,Q=JSON.stringify(A),J=[];
for(var k=0;k<A.length;k++)J.push(_.b[A[k]].QQ);V.data={d:i,n8:Q,no:J,ub:E};_.$i(V);this.pS(V.data,_);
this.track(cT.sb("Md",{t:"enum",v:{BlnM:jz.j0(E)}}))}if(i==q.hs){var V,L=_.XN(),A=D.i!=null?[D.i]:_.w,Q=JSON.stringify(A);
if(L&&L.data&&L.data.d==i&&L.data.n8==Q)V=L;else{var P=cT.sb("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(P);var J=[];for(var k=0;k<A.length;k++)J.push(_.b[A[k]].opacity);V=new jv([6,32],this);V.data={d:i,n8:Q,no:J,ub:D.ub,sJ:P.cR};
_.$i(V)}V.data.ub=D.ub;V.data.sJ.T.v.Opct.v.val=Math.round(D.ub*100/255);this.pS(V.data,_)}if(i==q.bZ){if(N.add.iOpa==null)N.add.iOpa=255;
var V,L=_.XN();if(L&&L.data&&L.data.d==i&&L.data.i==M)V=L;else{V=new jv("Fill Opacity Change",this);
V.data={d:i,i:M,no:N.add.iOpa,ub:D.ub};_.$i(V)}V.data.ub=D.ub;this.pS(V.data,_)}if(i==q.Y8){var u=D.ub,m=D.i!=null?[D.i]:_.w.slice(0),x=[],v=[],V;
for(var W=0;W<m.length;W++){var Z=_.b[m[W]];if(Z.add.lspf==null)Z.add.lspf=0;var J=Z.add.lspf,E=J;for(var k=0;
k<u[0].length;k++){var r=u[1][k],X=1<<r;if((E&X)==0&&u[0][k])E^=X;else if((E&X)!=0&&!u[0][k])E^=X}x.push(J);
v.push(E)}var L=_.XN(),A=JSON.stringify(m);if(L&&L.data&&L.data.d==i&&JSON.stringify(L.data.n8)==A){V=L;
V.data.ub=v}else{var V=new jv([6,57,1],this);V.data={d:i,n8:A,no:x,ub:v};_.$i(V)}this.pS(V.data,_)}if(i==q.zy){var $="----",I=D.ta,E=null;
for(var k=0;k<jR.HF.uV.length;k++)if(N.add[jR.HF.uV[k]])$=jR.HF.uV[k];var T=N.add[$];if(I=="TySh")E=jg.aH(50,50,w.za);
var V=new jv("Layer Type",this);V.data={d:i,i:M,aeA:[$,T],ta:[I,E]};_.$i(V);this.pS(V.data,_)}if(i==q.Y9){var m=[];
if(a){var e=_.XN(),F=e?e.data:null;if(e!=null&&e.g==this&&F.d==q.Y9&&F.n8.length!=1){var y=new ho(S.E.M);
y.g=G.rX;y.data={d:"h_stepbck"};n.c(y);if(F.i==M)return}var h=_.root.D5(M),K=_.DF(null,M);while(h.parent!=_.root){K.push(h.parent.index);
h=h.parent}for(var k=0;k<_.b.length;k++){var z=_.b[k],f=z.h$(),s=K.indexOf(k)!=-1;if(!s&&f)m.push(k);
if(k==M&&!f)m.push(k)}}else{m.push(M);var f=_.b[M].h$(),P={_L:f?"hide":"show",cR:{classID:f?"Hd":"Shw",null:{t:"VlLs",v:[cT.S0("Lyr",!0)]}}};
this.track(P)}var V=new jv("Layer visibility",this,!0);V.data={d:i,n8:m,i:M};_.$i(V);this.pS(V.data,_)}if(i==q.fW){if(w.ey==G.Cz){var l=new ho(S.E.W);
l.data={d:S.J.Ou,g:G.GZ};n.c(l)}var g=D.aqN,H=D.Iu,ib,escape=!1,j4=!1;if(D.ad5){if(U&&(H==0||H==1||H==2)){var O=0;
if(o)O++;if(a)O+=2;var C=new ho(S.E.M,!0);C.g=G.xm;C.data={d:"fromlayer",Pr:[D.i,H,O]};n.c(C);return}}var P={_L:"select",cR:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(_.s.qJ.join("")!="111"){_.s.qJ=[1,1,1];_.cF=!0}for(var k=0;k<_.b.length;k++){var z=_.b[k],hH=z.add.vmsk;
if(z.Ug()){var R=z.tr(_);if(R&&R.v&&R.v.Lr){R.v.Lr=!1;_.cF=!0}}var fR=z.us();if(fR&&fR.Lr){fR.Lr=!1;
_.cF=!0}if(hH){if(hH.w.length!=0)hH.w=[];if(hH.em.length!=0)hH.em=[]}}if(b.j(dz.uH)||D.a7u==0){var cP=_.w.indexOf(M);
if(cP==-1)_.w.push(M);else if(_.w.length>1)_.w.splice(cP,1);_.w.sort(function(V,j7){return V-j7});P.cR.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
ib=M}else if(o&&!a&&H>0){i=H==1?q.Jw:H==2?q.OY:q.ET;escape=!0}else if((o||D.a7u==1)&&_.w.length>0){var a8=Math.min(M,_.w[0]),d0=Math.max(M,_.w[_.w.length-1]);
_.w=[];for(var k=a8;k<=d0;k++)if(_.b[k].add.lsct!=f4.CV)_.w.push(k);P.cR.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
ib=M}else{ib=M;if(M>=_.b.length)return;var z=_.b[M];if(z&&z.nR()&&D.a9m)z.add.lsct=f4.AU;else if(_.w.length==1&&_.w[0]==M&&H==z.P8){j4=!0}if(!j4){_.w=[M];
_.WH()}}if(!j4){if(ib!=null&&ib<_.b.length){P.cR.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:_.b[ib].getName()}}]},this.track(P)}if(!escape){console.log("no escape");
if(_.w.length==1){var b9=_.w[0];for(var k=0;k<_.b.length;k++){if(k==b9)continue;var Z=_.b[k];Z.P8=0;
Z.q_=!1}var N=_.b[b9];if(H==2){N.q_=!N.q_;_.QP=[]}else if(N){N.P8=H<=0?0:H}}else for(var k=0;k<_.b.length;
k++){var Z=_.b[k];Z.P8=0;Z.q_=!1}_.F_=null;_.lP=!0}}if(D.ad5&&a){if((H==1||H==3)&&g!=null){var C=new ho(S.E.M,!0);
C.g=G.TS;C.data={d:"mskView",k:g!=0?0:o?1:2};n.c(C)}else{this.KV({d:q.gV,i:D.i},n,_,b,w)}}}if(i==q.Jw||i==q.ET){var jG=i==q.Jw,jP=jG?N.us():N.tr(_).v;
if(jP==null)return;var V=new jv(jP.isEnabled?jG?[6,15]:[6,42]:jG?[6,14]:[6,41],this);V.data={d:i,i:M};
_.$i(V);this.pS(V.data,_)}if(i==q.OY){var jP=N.add.vmsk;if(jP==null)return;var V=new jv(jP.isEnabled?[6,17]:[6,16],this);
V.data={d:i,i:M};_.$i(V);this.pS(V.data,_)}if(i==q.Pi){var aq=N.add.lsct==f4.AU?f4.Aj:f4.AU;if(b.j(dz.uH)){var gM=_.root.D5(_.b.indexOf(N)).parent;
for(var k=0;k<gM.children.length;k++){var gv=gM.children[k].i;if(gv.nR())gv.add.lsct=aq}}else N.add.lsct=aq;
_.lP=!0}if(i==q.gV){if(!_.On(M))return;var V=new jv(N.kF?[6,19]:[6,18],this);V.data={d:i,i:M};_.$i(V);
if(D.ub==null||D.ub!=N.kF)this.pS(V.data,_)}if(i==q.q0){if(N.Rc())N.VN-=32;else N.VN+=32;_.lP=!0}if(i==q.hc||i==q.XO){var V;
if(i==q.hc)V=new jv(N.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(i==q.XO)V=new jv(N.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
V.data={d:i,i:M};_.$i(V);this.pS(V.data,_)}if(i==q.wJ||i==q.eK){var b9=D.index,V;if(i==q.wJ)V=new jv(N.add.lmfx[ci.L0[b9[0]]].v[b9[1]].v.enab.v?[6,30]:[6,29],this);
if(i==q.eK)V=new jv(N.add.SoLd.filterFX.v.filterFXList.v[b9].v.enab.v?[6,44]:[6,43],this);V.data={d:i,i:M,index:D.index};
_.$i(V);this.pS(V.data,_)}if(i==q.FZ){if(D.src==D.Yj)return;var dT=_.b[D.src],aC=_.b[D.Yj],c1=dT.add.lmfx?JSON.stringify(dT.add.lmfx):"",aj=aC.add.lmfx?JSON.stringify(aC.add.lmfx):"";
if(aC.add.lmfx==null){aC.add.lmfx=JSON.parse(ci.default);for(var k=0;k<ci.order.length;k++)aC.add.lmfx[ci.L0[k]]={t:"VlLs",v:[]}}if(D.Vt==null){aC.add.lmfx=JSON.parse(c1);
if(!a)delete dT.add.lmfx}else{var bD=D.Vt[0],cy=ci.L0[bD];if(ci.a4v.indexOf(ci.order[bD])==-1)aC.add.lmfx[cy].v=[];
aC.add.lmfx[cy].v.push(dT.add.lmfx[cy].v[D.Vt[1]]);if(!a)dT.add.lmfx[cy].v.splice(D.Vt[1],1)}var co=dT.add.lmfx?JSON.stringify(dT.add.lmfx):"",hV=aC.add.lmfx?JSON.stringify(aC.add.lmfx):"";
if(!aC.Rc())aC.VN+=32;var V=new jv("Move Layer Styles",this);V.data={d:i,qS:D.src,mL:D.Yj,aoa:c1,abe:aj,a17:co,at6:hV};
_.$i(V);this.pS(V.data,_)}if(i==q.qH){if(D.src!=null)M=D.src;var Z=_.b[M],il=JSON.stringify(Z.add.SoLd),h6=JSON.parse(il),c8=h6.filterFX.v.filterFXList.v;
c8.splice(D.Vt,1);var V=new jv([6,53],this);V.data={d:q.zQ,w8:[{gd:M,Lq:[il,JSON.stringify(h6)]}]};_.$i(V);
this.pS(V.data,_)}if(i==q.WL){var fx=a,dT=_.b[D.src],aC=_.b[D.Yj],bU=[];if(dT!=aC&&aC.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(dT==aC&&!fx&&(D.Vt==D.bw||D.Vt==-1))return;var b6=dT.tr(_),il=JSON.stringify(dT.add.SoLd),h6=JSON.parse(il),c8=h6.filterFX.v.filterFXList.v;
if(dT==aC){c8.splice(D.bw,0,c8[D.Vt]);if(!fx)c8.splice(D.Vt+(D.Vt<D.bw?0:1),1);bU.push({gd:D.src,Lq:[il,JSON.stringify(h6)]})}else if(D.Vt==-1){var iF=h6.filterFX;
if(!fx){delete h6.filterFX;bU.push({gd:D.src,Lq:[il,JSON.stringify(h6)],fK:[b6,null]})}var dY=aC.Ug()?aC.tr(_):null,bl=ai.ame(b6),dc=JSON.stringify(aC.add.SoLd),hN=JSON.parse(dc);
hN.placed.v=bl.id;hN.filterFX=iF;bU.push({gd:D.Yj,Lq:[dc,JSON.stringify(hN)],fK:[dY,bl]})}else{var ga=c8[D.Vt];
if(!fx){c8.splice(D.Vt,1);bU.push({gd:D.src,Lq:[il,JSON.stringify(h6)]})}var dc=JSON.stringify(aC.add.SoLd),hN=JSON.parse(dc);
if(hN.filterFX==null)hN.filterFX=cq.M8();var b1=hN.filterFX.v.filterFXList.v;b1.splice(D.bw,0,ga);var fc={gd:D.Yj,Lq:[dc,JSON.stringify(hN)]};
if(!aC.Ug()){var bl=ai.ahD(aC.add.SoLd.placed.v);fc.fK=[null,bl]}bU.push(fc)}var V=new jv([6,52],this);
V.data={d:q.zQ,w8:bU};_.$i(V);this.pS(V.data,_)}if(i==q.Fh){var jP=N.us(),V=new jv(jP.c9?[6,26]:[6,25],this);
V.data={d:i,i:M};_.$i(V);this.pS(V.data,_);this.track({_L:"set",cR:{classID:"setd",null:{t:"obj ",v:[cT.S0("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:jP.c9}}}}})}if(i==q.g5){var jP=N.add.vmsk,V=new jv(jP.c9?[6,28]:[6,27],this);
V.data={d:i,i:M};_.$i(V);this.pS(V.data,_)}if(i==q.tA){var h9=[],V;for(var k=0;k<_.w.length;k++){var W=_.w[k],z=_.b[W];
if(z.add.vogk)h9.push(W,JSON.stringify(z.add.vogk))}for(var k=0;k<_.QP.length;k++){var W=_.QP[k],z=_.yE[W];
if(z.add.vogk)h9.push(-1-W,JSON.stringify(z.add.vogk))}B.dd.alZ(_,D.k);var cB=[];for(var k=0;k<_.w.length;
k++){var W=_.w[k],z=_.b[W];if(z.add.vogk)cB.push(W,JSON.stringify(z.add.vogk))}for(var k=0;k<_.QP.length;
k++){var W=_.QP[k],z=_.yE[W];if(z.add.vogk)cB.push(-1-W,JSON.stringify(z.add.vogk))}var L=_.XN();if(L&&L.data&&L.data.d==i){var bp=!0;
for(var k=0;k<h9.length;k+=2)if(h9[k]!=L.data.qx[k])bp=!1;if(bp){V=L;V.data.TK=cB}}if(V==null){var V=new jv([12,91,1],this);
V.data={d:i,qx:h9,TK:cB};_.$i(V)}this.pS(V.data,_)}if(i==q.LX){var eK=JSON.stringify(N.add.artb),fm=JSON.stringify(D.D1),V;
_.b[M].add.artb=JSON.parse(fm);var fG=new gl(0,0,_.l,_.e),ia=G.v1.Gd(_),L=_.XN();if(L&&L.data&&L.data.d==i&&L.data.i==M){V=L;
V.data.D1=fm}if(V==null){var V=new jv("Editing Artboard",this);V.data={d:i,i:M,a2b:eK,D1:fm,GR:fG};_.$i(V)}V.data.H7=ia;
this.pS(V.data,_)}if(i==q.SU){var cB=_.wK.slice(0),iz=_.xo.slice(0),gG=_.q,eA=_.q;if(D._c=="fromAction"){var d3=D.k._L,cY=D.k.cR;
if(d3=="make"||d3=="duplicate"){var ch=cB.length,fy=!1,ar=!1;if(_.XH())ch--;var fS=new q.$L;fS.name="Alpha "+(ch+1);
if(d3=="make"){var aU=cY.Nw.v;fS.color=255;iz=[ch];fS.Lr=!0;fS.Qs=aU.Opct.v;if(aU.Nm)fS.name=aU.Nm.v;
if(aU.classID=="SCch"){fy=!0;eA=null;fS.MJ=1}}else{var f0=cY.null.v[0].v;if(f0.keyID=="fsel")fy=!0;else{var eV=G.fq.MH(_);
eA=G.fq.n4(_,eV);fS.color=0;fS.rect=eA.rect;fS.channel=eA.channel}}if(fy){fS.color=0;if(_.q){fS.rect=_.q.rect.clone();
fS.channel=_.q.channel.slice(0)}if(ar){fS.color=255-fS.color;B.ei(fS.channel)}}cB.splice(ch,0,fS)}else if(d3=="delete"){if(N&&N.us()&&N.P8==1){this.KV({d:q.Rd},n,_,b,w);
return}var K=_.xo;K.sort(function(V,j7){return j7-V});if(K.length==0)return;for(var k=0;k<K.length;k++)cB.splice(K[k],1);
iz=[]}else if(d3=="hide"){cB[iz[0]]=cB[iz[0]].clone();cB[iz[0]].Lr=!1}}if(D._c=="rnm"){cB[D.gH]=cB[D.gH].clone();
cB[D.gH].name=D.name}var V=new jv("Channel Edit",this);V.data={d:i,qx:_.wK.slice(0),Fe:_.xo.slice(0),TK:cB,Wn:iz,dD:gG,yr:eA};
this.pS(V.data,_);_.$i(V)}if(i==q.qO){var ex=new gl(0,0,_.l,_.e),V=new jv(D.Ln,this);V.data={d:q.qO,C4:_.b.slice(0),S5:D.S5,Pg:_.w.slice(0),lm:D.yr};
_.$i(V);this.pS(V.data,_);var gx=G.v1.Md(_);if(gx){V.data.GR=ex;V.data.H7=gx}}if(i==q.h0){var c_=_.DF(null,D.i),cr=1e10;
if(c_.length==0)return;if(_.b.length==c_.length){alert("Project must have at least 1 layer");return}var iS=[];
for(var k=0;k<_.b.length;k++)if(c_.indexOf(k)==-1)iS.push(_.b[k]);for(var k=0;k<c_.length;k++)cr=Math.min(cr,c_[k]);
cr=Math.max(cr-1,0);while(iS[cr].name=="</Layer group>")cr++;this.track({_L:"delete",cR:{classID:"Dlt",null:cT.S0("Lyr",!0)}});
var V=new jv([6,31],this);V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:[cr]};_.$i(V);this.pS(V.data,_)}if(i==q.w6){if(!b.j(dz.CO))return;
var V=new jv("Switch Layer Link",this);V.data={d:i,i:D.i};_.$i(V);this.pS(V.data,_)}if(i==q.Zn){var K=D.a2t?D.a2t:_.w,h5=0,eS=!1;
if(K.length==0)return;if(K.length==1&&_.b[K[0]].VT==0){alert(io.get([15,7,5]));return}var fW=[];for(var k=0;
k<_.b.length;k++){var cs=_.b[k].VT;fW.push(cs);h5=Math.max(h5,cs)}var a$=-1,a6=-1;for(var k=0;k<K.length;
k++){var cs=_.b[K[k]].VT;if(cs==0)eS=!0;else if(a$==-1||a$==cs)a$=cs;else a6=cs}if(!eS)for(var k=0;k<K.length;
k++)_.b[K[k]].VT=0;else if(a$!=-1&&a6==-1)for(var k=0;k<K.length;k++)_.b[K[k]].VT=a$;else for(var k=0;
k<K.length;k++)_.b[K[k]].VT=h5+1;var gw=[];for(var k=0;k<_.b.length;k++){var cs=_.b[k].VT;if(gw[cs]==null)gw[cs]=0;
gw[cs]++}for(var k=0;k<_.b.length;k++){var cs=_.b[k].VT;if(gw[cs]==1)_.b[k].VT=0}var bO=fW;fW=[];for(var k=0;
k<_.b.length;k++){var cs=_.b[k].VT;fW.push(cs);h5=Math.max(h5,cs)}var V=new jv(eS?[6,54,0]:[6,54,1],this);
V.data={d:q.Zn,afQ:bO,aai:fW};_.$i(V);this.pS(V.data,_)}if(i==q.Jm&&(D.i!=null||_.w.length!=0)||i==q.Yl){var ak=_.KI(i==q.Jm?D.i:M,null,D.acL),br;
if(i==q.Yl){var Z=ak[0],d3=Z.add.SoLd.Idnt.v,iZ=_.v7(d3).clone();Z.add.SoLd.Idnt.v=iZ.Vn=ai.mq()+d3.slice(8);
_.add.lnk2.push(iZ)}if(i==q.Jm){var cU={_L:"duplicate",cR:{classID:"null",null:cT.S0("Lyr",!0)}};if(D.ap){ak[0].rK(D.ap);
cU.Nm={t:"TEXT",v:D.ap}}this.track(cU);D.af2=D.i}i=q.AA;D.b=ak;D.C7=_;D.rO=_}if(i==q.AA){var b3,au,ef=D.C7,jj=D.rO,cO=0,iG=0,dZ=!1,aK=0,gt=0;
if(ef!=jj){console.log("ADDLAYERS different projs");var b3=new gl(0,0,ef.l,ef.e),au=new gl(0,0,jj.l,jj.e),gz=[],hs=[];
for(var k=0;k<D.b.length;k++){var Z=D.b[k];if(Z.add.SoLd==null)continue;var d3=Z.add.SoLd.Idnt.v;if(gz.indexOf(d3)==-1){gz.push(d3);
hs.push(ai.mq()+d3.slice(8))}Z.add.SoLd.Idnt.v=hs[gz.indexOf(d3)];var b6=Z.tr(ef);if(b6){ef.U8(b6);jj.Oq(b6)}}if(gz.length>0){if(jj.add.lnk2==null)jj.add.lnk2=[];
for(var k=0;k<gz.length;k++){var hi=ef.v7(gz[k]),iZ=hi.clone();iZ.Vn=hs[k];jj.add.lnk2.push(iZ)}}}var gG=jj.w.slice(0);
gG.sort(function(V,j7){return V-j7});var iS=jj.b.slice(0),eA=[],jp=-1;for(var k=0;k<gG.length;k++)jp=Math.max(jp,gG[k]);
if(D.af2!=null)jp=D.af2;var a2=ef.Mg();if(D.gm){jp=D.gm-1;var j6=jj.b[D.gm].w3();cO+=j6.x;iG+=j6.y}if(a2!=-1&&(ef!=jj||D.gm)){var h7=ef.b[a2].w3();
cO-=h7.x;iG-=h7.y}var fD=jj.l$();jp++;for(var k=0;k<D.b.length;k++){var z=D.b[k],a1=z.add.artb;iS.splice(jp,0,z);
eA.push(jp);jp++;if(a1){var h0=a1.guideIndeces;if(h0){h0=h0.v;console.log(h0);for(var iU=0;iU<h0.length;
iU++){fD[0].push(ef.eu[h0[iU].v].slice(0));fD[1].push(iS.indexOf(z));dZ=!0}}}}for(var k=0;k<D.b.length;
k++){var z=D.b[k];if(N.add.lsct==f4.CV){if(aK==0)gt++;aK++}else if(z.nR())aK--}if(gt==1)eA=[jp-1];var V=new jv([6,0],this);
V.data={d:q.qO,C4:jj.b.slice(0),S5:iS,Pg:gG,lm:eA};if(dZ){V.data.jT=[jj.l$(),fD]}jj.$i(V);this.pS(V.data,jj);
if(cO!=0||iG!=0)G._s.NE(jj,jj.DF(),null,cO,iG)}if(i==q.VC){var jy=D.i!=null?[D.i]:_.DF(),iS=_.b.slice(0);
for(var k=0;k<jy.length;k++){var z=_.b[jy[k]].clone();z.DE(_);iS.splice(jy[k],1,z)}var V=new jv([6,8],this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:_.w.slice(0)};_.$i(V);this.pS(V.data,_)}if(i==q.BK){var iS=_.b.slice(0),z=iS[_.w[0]]=iS[_.w[0]].clone(),eM=z.add.lmfx;
delete z.add.lmfx;var hd=B.U(z.rect.u());B.Ef(z.buffer,hd,3);var ei=aL._3(eM,z.add.fxrp,hd,z.rect,_,z.rect).type,fJ=_.w[0],bc=fJ+1;
for(var k=0;k<ci.order.length;k++){var aH=ci.order[k],dy=ei[aH];dy.reverse();for(var iU=0;iU<dy.length;
iU++){var dq=dy[iU],A=_.ni(),dC=k>7;if(aH=="ebbl"){if(dq.d1||dq.kP){var fr=dq.d1?dq.d1:dq.kP;if(dq.d1)delete dq.d1;
else delete dq.kP;if(dq.kP||dq.ex)iU--}else if(dq.ex||dq.js){var fr=dq.js?dq.js:dq.ex;if(dq.js){delete dq.js;
if(dq.ex)iU--}dC=!0}dq=fr}A.QQ=dq.BS;A.opacity=Math.round(255*dq.Rn);A.buffer=dq.B_;A.rect=dq.qW.clone();
A.rect.offset(z.rect.x,z.rect.y);if(aH=="FrFX"){A.buffer=A.buffer.slice(0);B.tD(dq.oU?dq.oU:dq.DL,A.buffer,3);
if(dq.oU){dC=!0;delete dq.oU;if(dq.DL)iU--}}A.kF=!dC;A.rK(z.getName()+"'s "+io.get(ci.names[k]));iS.splice(dC?fJ:bc,0,A);
if(dC)bc++}}var V=new jv("Styles to Layers",this);V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:[bc-1]};
_.$i(V);this.pS(V.data,_)}if(i==q.J3){var jy=_.DF(),iS=_.b.slice(0),eH=new gl(0,0,_.l,_.e);for(var k=0;
k<jy.length;k++){var i2=_.b[jy[k]],jI=i2.h$();i2.oj(!0);var g5=_.root.D5(jy[k]);if(i2.nR())continue;
if(g5==null)continue;var z=i2.clone();z.DE(_);var gb=g5.YL(_,!0),dh=_.b;_.$N([i2]);_.G();_.T2();z.buffer=B.U(gb.u()*4);
B.E3(_.iS(),eH,z.buffer,gb);z.rect=gb;z.opacity=255;z.add.iOpa=255;z.QQ="norm";z.G();z.kz.jP=!0;_.$N(dh);
if(z.add.lmfx)delete z.add.lmfx;z.v=z.dn=null;iS.splice(jy[k],1,z);z.oj(jI);i2.oj(jI)}var V=new jv([6,34],this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:_.w.slice(0)};_.$i(V);this.pS(V.data,_)}if(i==q.sV){var jy=_.DF(),iS=_.b.slice(0);
for(var k=0;k<jy.length;k++){var z=_.b[jy[k]],dF=z.add.TySh;if(dF==null)continue;var Z=new h8(dF.uP,w.mz),iD=B.H.yU(iy.n6(Z,dF));
for(var g8 in iD){var db=iD[g8],gv=z.clone();delete gv.add.TySh;gv.VN=gv.VN|1<<4;gv.add.SoCo=JSON.parse(JSON.stringify(ci.HL[0]));
var aD=gv.add.SoCo.Clr.v;aD.Rd.v=parseInt(g8.slice(1,3),16);aD.Grn.v=parseInt(g8.slice(3,5),16);aD.Bl.v=parseInt(g8.slice(5,7),16);
var hB=new q.IQ;hB.Y=B.H.yL(db,!1);if(gv.add.vmsk!=null){gv.add.vmsk.aq4();hB.concat(gv.add.vmsk)}gv.add.vmsk=hB;
gv.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));gv.GL();gv.p8(_);iS.splice(iS.indexOf(z),0,gv)}iS.splice(iS.indexOf(z),1)}var eA=_.w.slice(0);
for(var k=eA.length-1;k>=0;k--)if(eA[k]>=iS.length)eA.splice(k,1);var V=new jv([6,40],this);V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:eA};
_.$i(V);this.pS(V.data,_)}if(i==q.pi){var by=_.w.length;if(by<2){alert("Select two or more layers.");
return}if(!_.Wg())return;var gv=_.b[_.w[0]].clone(),iS=[];for(var k=0;k<_.b.length;k++)if(_.w.indexOf(k)==-1)iS.push(_.b[k]);
iS.splice(_.w[0],0,gv);for(var k=1;k<by;k++)if(_.b[_.w[k]].rect.u()>2e6){alert("Blended areas are too large.");
return}for(var k=1;k<by;k++){var z=_.b[_.w[k]],d_=z.rect.clone();d_.Iq(1,1);var j7=B.U(d_.u()*4);B.E3(z.buffer,z.rect,j7,d_);
gv.extend(d_);var ie=B.U(d_.u()*4);B.E3(gv.buffer,gv.rect,ie,d_);var V=B.U(d_.u());B.Ef(j7,V,3);B.round(V,200);
B.tD(V,j7,3);B.a.dG("norm",j7,d_,ie,d_,d_,1);B.jl.e5(ie,V,d_);B.E3(ie,d_,gv.buffer,gv.rect)}var V=new jv([2,10,0],this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:[_.w[0]]};_.$i(V);this.pS(V.data,_)}if(i==q.uk){var iS=_.b.slice(0),iz=_.w.slice(0);
for(var k=0;k<iS.length;k++){var z=iS[k],hH=z.add.vmsk;if(z.x6()&&hH&&z.add.vstk.strokeEnabled.v&&!z.add.vstk.fillEnabled.v){var eG=hH.Y,jD=0,cj=-1;
for(var iU=0;iU<eG.length;iU++){if((eG[iU].type==0||eG[iU].type==3)&&eG[iU].gW!=-1){jD++;if(eG[iU].type==3&&cj==-1){eG[iU].bB=eG[iU].gW=1;
cj=iU}}}if(jD>1&&cj!=-1){console.log("separating an open path into a new layer");z=z.clone();hH=z.add.vmsk;
eG=hH.Y;var A=eG[cj].length,iq=z.clone();iq.add.lyid=_.C5();hH.Y=eG.slice(0,2).concat(eG.slice(cj,cj+A+1));
hH.w=[];z.p8(_);z.G();var ig=iq.add.vmsk.Y;iq.add.vmsk.Y=ig.slice(0,cj).concat(ig.slice(cj+A+1,ig.length));
iq.add.vmsk.w=[];iq.p8(_);iS[k]=z;iS.splice(k+1,0,iq);for(var iU=0;iU<iz.length;iU++)if(iz[iU]>k)iz[iU]++;
var h2=iz.indexOf(k);if(h2!=-1){iz.splice(h2+1,0,k+1)}}}}if(iS.length!=_.b.length){var V=new jv("Splitting open paths",this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:iz};_.$i(V);this.pS(V.data,_)}}if(i==q.B8){this.KV({d:q.uk},n,_,b,w);
var gG=_.w.slice(0),dh=_.b.slice(0),jy=_.DF();if(jy.length==0)return;_.afv(jy,!1,D.tu);var V=new jv([6,36,0],this);
V.data={d:q.qO,C4:dh,S5:_.b.slice(),Pg:gG,lm:_.w.slice(0)};_.$i(V);this.pS(V.data,_)}if(i==q.PB){var il=N.add.SoLd;
if(il==null)return;var d3=il.Idnt.v,jr=_.v7(d3);jr.iS(!1);var jH=jr.Gj[0],d_=jr.Gj[1];if(B.GE(jH)){alert("The smart object contains transparency.");
return}var hk=eF.rW("jpg").VX([[jH.buffer]],d_.l,d_.e,[90]);this.KV({d:q.dq,ly:_,data:new Uint8Array(hk),id:d3,tu:"jpg"},n,_,b,w);
console.log(_.add);return}if(i==q.dq){var hi=D.ly.v7(D.id),iZ=hi.clone();iZ.raw=D.data;if(D.UP)iZ.UP=D.UP;
if(D.tu){iZ.Ow="    ";iZ.p5="    ";iZ.UP=iZ.UP+"."+D.tu}else{iZ.Ow="8BIM";iZ.p5="8BPB";iZ.UP=iZ.UP+".psd"}iZ.iS(!1);
hi.iS(!1);var V=new jv([6,36,1],this);V.data={d:q.dq,id:D.id,E_:hi,Rm:iZ};D.ly.$i(V);this.pS(V.data,D.ly)}if(i==q.wx){var V=new jv([6,36,4],this);
V.data={d:i,i:M,JJ:N.add.SoLd.Impr.v.classID,ub:D.ub};_.$i(V);this.pS(V.data,_)}if(i==q.oa){var bw,e1;
if(D.z7){bw=D.ly;e1=D.z7}else{D.ly.Wh();D.ly.ns();D.ly.G();D.ly.T2();D.ly.iS();bw=eF.rW("PSD").VX(D.ly,0,0,[!0,!0]);
e1=D.ly.name}if(!(bw instanceof ArrayBuffer))throw"e";bw=new Uint8Array(bw);var cP=D.py;if(cP==null){if(_.w.length==0)cP=_.w.length;
else{var gW=_.w[_.w.length-1],A=_.b[gW];cP=A.nR()?gW:gW+1}}var cF=new gl(0,0,_.l,_.e),jh=_.Mg();if(jh!=-1)cF=_.b[jh].w3();
var ek=_.$n(bw,e1,0,0,cF),iS=_.b.slice(0);iS.splice(cP,0,ek);var V=new jv([6,36,2],this);V.data={d:q.qO,C4:_.b.slice(),S5:iS,Pg:_.w.slice(0),lm:[iS.indexOf(ek)]};
_.$i(V);this.pS(V.data,_)}if(i==q.L5&&D._c=="merge"){var bK=[],b7=_.root.children,hW=0;for(var k=0;k<b7.length;
k++){var h=b7[k],z=h.i,aT=h.children,i7=!0;if(!z.nR()||aT.length==0)continue;for(var iU=0;iU<aT.length;
iU++)if(!aT[iU].i.getName().startsWith("_a_")){i7=!1;break}if(i7)bK.push(_.b.indexOf(z))}var ep=[];for(var k=0;
k<bK.length;k++)if(_.w.indexOf(bK[k])!=-1)ep.push(bK[k]);if(ep.length>=2)bK=ep;if(bK.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var gS=[];for(var k=0;k<bK.length;k++)gS.push(_.b[bK[k]].getName());var dy=[];for(var cW=0;cW<bK.length;
cW++){var h=_.root.D5(bK[cW]),fc=[[],[],0,cW];dy.push(fc);for(var k=0;k<h.children.length;k++){var W=h.children[k].index,z=h.children[k].i,fS=z.getName(),aE=20,dk=fS.split(",");
if(dk.length>1){var ao=parseInt(dk.pop());if(!isNaN(ao)&&ao!=0)aE=ao}fc[0].push(z);fc[1].push(aE);fc[2]+=aE}}dy.sort(function(V,j7){return j7[2]-V[2]});
var h$=dy[0],h1=h$[2];for(var c3=1;c3<dy.length;c3++){var fc=dy[c3],fO=1,dO=fc[1].slice(0),jM=0;while((fO+1)*fc[2]<=h$[2]){fO++;
dO=dO.concat(fc[1])}fc[1]=dO;fc[2]*=fO;var b$=h$[2]/fc[2];for(var k=0;k<fc[1].length;k++){var el=Math.floor(fc[1][k]*b$);
fc[1][k]=el;jM+=el}while(jM<h1){jM++;fc[1][fc[1].length-1]++}fc[2]=jM}var dP=[],jt=[],el=[];for(var k=0;
k<dy.length;k++){dP.push(0);jt.push(0)}while(hW<h1){var e9=1e9,ch=-1;for(var k=0;k<dy.length;k++){var jQ=dy[k][1],fJ=dP[k];
if(fJ!=jQ.length&&jt[k]+jQ[fJ]<hW+e9){ch=k;e9=jt[k]+jQ[fJ]-hW}}jt[ch]+=dy[ch][1][dP[ch]];dP[ch]++;if(e9!=0){el.push(e9);
hW+=e9}}for(var k=1;k<el.length;k++){var ff=el[k];if(ff<16&&(el[k-1]<16||k<el.length-1&&16<=el[k+1])){el[k-1]+=ff;
el.splice(k,1);k--}}var jI=[],eH=new gl(0,0,_.l,_.e);for(var k=0;k<_.b.length;k++){jI[k]=_.b[k].h$();
_.b[k].oj(!1)}var b_=_.w.slice(0);_.w=bK;var c_=_.DF();c_.sort(function(V,j7){return V-j7});var iS=[];
for(var k=0;k<_.b.length;k++){if(c_.indexOf(k)==-1)iS.push(_.b[k])}dy.sort(function(V,j7){return V[3]-j7[3]});
function ik(jQ,cf){var k=0,hK=0;while(hK+jQ[k]<=cf){hK+=jQ[k];k++}return k}hW=0;iS.splice(c_[0],0,_.b8());
for(var e4=0;e4<el.length;e4++){var m=[];for(var k=0;k<dy.length;k++){var fJ=ik(dy[k][1],hW)%dy[k][0].length,z=dy[k][0][fJ];
m.push(z)}var z=_.ni();for(var k=0;k<dy.length;k++){var e_=m[k],gM=_.b[bK[k]];e_.oj(!0);gM.oj(!0)}_.G();
_.T2();var jH=_.iS();z.rect=B.lb(jH,eH,2);z.buffer=B.U(z.rect.u()*4);B.E3(jH,eH,z.buffer,z.rect);for(var k=0;
k<dy.length;k++){var e_=m[k],gM=_.b[bK[k]];e_.oj(!1);gM.oj(!1)}z.oj(e4==0);z.rK("_a_frm"+e4+","+el[e4]);
iS.splice(c_[0]+1+e4,0,z);hW+=el[e4]}var z=_.ni();z.rK(gS.join(" + "));z.QQ="pass";z.add.lsct=f4.Aj;
z.VN=24;iS.splice(c_[0]+1+el.length,0,z);for(var k=0;k<_.b.length;k++)_.b[k].oj(jI[k]);var V=new jv([6,12,0],this);
V.data={d:q.qO,C4:_.b,S5:iS,Pg:b_,lm:[c_[0]+1+el.length]};_.$i(V);this.pS(V.data,_)}if(i==q.aF||i==q.lz||i==q.fw){var dh=_.b.slice(0),gG=_.w.slice(0),f$=!0,ek,eA;
if(i==q.aF)_.w=[M,M-1];if(i==q.fw){_.w=[];for(var k=0;k<_.b.length;k++)if(_.b[k].h$())_.w.push(k)}var jy=_.DF();
jy.sort(function(V,j7){return V-j7});var at=new gl,eH=new gl(0,0,_.l,_.e);for(var k=0;k<jy.length;k++){var W=jy[k],z=_.b[W];
f$=f$&&z.x6()&&z.add.vmsk!=null;at=at.Ik(_.root.D5(W).YL(_,!0))}if(f$){ek=_.b[jy[0]].clone();var hH=ek.add.vmsk;
for(var k=1;k<jy.length;k++){var A=_.b[jy[k]],ig=q.IQ.n$(A.add.vmsk.Y);hH.Y=hH.Y.concat(ig.slice(2));
ek.add.vogk=ek.add.vogk.concat(JSON.parse(JSON.stringify(A.add.vogk)))}ek.add.vmsk.Vk=!0;ek.p8(_)}else if(eH.Xh(at)){ek=_.ni();
ek.rK(_.b[jy[jy.length-1]].getName());ek.rect=at;ek.buffer=B.U(at.u()*4);var bf=_.iS(jy);B.E3(bf,eH,ek.buffer,at);
ek.B2();ek.G()}else{_.afv(jy,!0);ek=_.b[_.w[0]];_.b.splice(_.w[0],1);var a9=_.v7(ek.add.SoLd.Idnt.v);
_.add.lnk2.splice(_.add.lnk2.indexOf(a9),1);delete ek.add.SoLd}var hQ=a,gn=-1;if(D.cR&&D.cR.Dplc&&D.cR.Dplc.v)hQ=!0;
if(hQ&&i==q.fw&&_.b[gG[0]].V6()&&_.b[gG[0]].rect.hk()){gn=gG[0]}if(gn!=-1||i==q.aF){var eR=_.b[gn!=-1?gn:M-1];
ek.rK(eR.getName());ek.add.lclr=eR.add.lclr}var iS=[];for(var k=0;k<_.b.length;k++)if(hQ||jy.indexOf(k)==-1)if(k!=gn)iS.push(_.b[k]);
var fj=jy[jy.length-1],fz=fj==_.b.length-1?null:_.b[fj+1],jV=fz?iS.indexOf(fz):iS.length;iS.splice(jV,0,ek);
eA=[jV];var V=new jv([6,12,0],this);V.data={d:q.qO,C4:dh,S5:iS,Pg:gG,lm:eA};_.$i(V);this.pS(V.data,_)}if(i==q.mE){var gv=_.ni();
gv.rect=new gl(0,0,_.l,_.e);gv.buffer=B.U(gv.rect.u()*4);B.o5(gv.buffer,4294967295);B.a.dG("norm",_.iS(),gv.rect,gv.buffer,gv.rect,gv.rect,1);
gv.rK("Background");gv.add.lspf=1<<2;var V=new jv([6,12,1],this);V.data={d:q.qO,C4:_.b.slice(),S5:[gv],Pg:_.w.slice(0),lm:[0]};
_.$i(V);this.pS(V.data,_)}var fs=i==q.R8||i==q.rh;if(i==q.S6||i==q.OX||i==q.jU||i==q.Ts||fs){var z=fs?_.KI()[0]:_.ni(),gJ=io.get([0,3]),d9=D.ap,dn=!1,iV,c5;
if(i==q.jU)gJ=io.get([12,76,1]);if(fs){if(_.q){var i2=_.b[_.w[0]],gO=i2.Y5(_,_.q);if(gO==null){alert("Copied area is empty");
return}z.rect=gO.rect;z.buffer=gO.j3;z.DE(_)}else d9=z.getName();z.add.lspf=0;z.kF=!1;if((z.VN&1)!=0)z.VN--}if(i==q.Ts){z.rect=G.oM.cV(D.uq,_);
z.buffer=D.uq.buffer.slice(0);if(D.C3&&_.q){z.v=new q.$L;z.v.rect=_.q.rect;z.v.color=0;z.v.channel=_.q.channel.slice(0)}}if(i==q.S6){this.track({_L:"make",cR:{classID:"Mk",null:cT.S0("Lyr")}})}if(i==q.OX){z.VN|=16;
var be=D.cR.Usng.v,jk=be.Type.v,i3=fg.rQ[jk.classID];gJ=io.get(fg.names[i3]);if(be.Nm)d9=be.Nm.v;z.add[i3]=cq.D2(i3);
if(z.add[i3]==null)z.add[i3]={};for(var bG in jk)z.add[i3][bG]=JSON.parse(JSON.stringify(jk[bG]));z.v=G.oM.K6(_);
z.P8=1}if(i==q.jU){z.VN|=16;var cY=D.cR,be=cY.Usng.v,g_=be.Type.v,bk=be.Shp;if(be.Nm)d9=be.Nm.v;if(bk==null){var fP=_.DZ(),iD=fP[0],hO=fP[1];
if(hO.length!=0&&iD[hO[0]].gH<0){var bP=iD[hO[0]].add;z.add.vmsk=bP.vmsk.clone();z.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));
z.add.vogk=JSON.parse(JSON.stringify(bP.vogk));_.QP=[]}else z.v=G.oM.K6(_)}else{console.log(be);z.add.vmsk=new q.IQ;
z.add.vstk=JSON.parse(JSON.stringify(be.strokeStyle?be.strokeStyle.v:ci.yg.default));z.add.vogk=[];if(bk){var cK=B.dd.Ll(bk);
if(cK){z.add.vogk=[cK];z.add.vmsk.Y.push({type:0,gW:1,length:0});B.dd.IX(z.add.vogk,z.add.vmsk)}else{bk=bk.v;
var fQ=bk.classID;if(fQ=="Plgn"){var c2=bk.Cntr.v,h7=bk.corner.v;c2=new gZ(c2.Hrzn.v.val,c2.Vrtc.v.val);
h7=new gZ(h7.Hrzn.v.val,h7.Vrtc.v.val);z.add.vmsk.Y=B.$.yA.IK(c2.x,c2.y,Math.sqrt(h7.x*h7.x+h7.y*h7.y),Math.atan2(h7.y,h7.x),bk.sides.v,0)}else if(fQ=="customShape"){var ja=B.dd.gu(bk),fX=ja[2]-ja[0],d7=ja[3]-ja[1],ap=w.B0,jd,jN;
for(var k=0;k<ap.length;k++)if(ap[k].bi==bk.Nm.v)jd=ap[k];if(jd){jN=q.IQ.n$(jd.Y);B.$.vZ(jN,new e3(fX,0,0,d7,ja[0],ja[1]))}else jN=B.$.yA.Rect(ja[0],ja[1],fX,d7,0);
z.add.vmsk.Y=jN}z.GL()}}}var dA={solidColorLayer:0,gradientLayer:1,patternLayer:2}[g_.classID],b0=["SoCo","GdFl","PtFl"][dA];
z.add[b0]=JSON.parse(JSON.stringify(ci.HL[dA]));G.oM.H0(g_,z.add[b0],dA);if(bk==null)gJ=io.get([6,48,0,dA]);
if(b0=="PtFl"){var dr=z.add[b0].Ptrn.v,dk=aL.Qf(dr,w.wI);dr.Idnt.v=dk.id;_.iy(dk)}z.p8(_)}var by=G.oM.In(_,gJ+" ");
z.rK(gJ+" "+(by+1));if(d9)z.rK(d9);var ev=_.w.length==0?_.b.length-1:_.w[_.w.length-1],hZ=_.b[ev];if(i==q.jU&&hZ.V6()&&hZ.rect.hk()){dn=!0;
z.rK(hZ.getName());iV=ev}else{iV=ev+(i==q.S6&&U&&!o?0:1);if(hZ&&hZ.add.lsct==f4.AU)iV--}if(D.adW)iV=Math.max(0,iV-1);
var iS=_.b.slice(0);if(i==q.rh){var hj=iS[_.w[0]]=iS[_.w[0]].clone(),hC=_.q.channel.slice(0);B.ei(hC);
B._B(hC,_.q.rect,hj.buffer,hj.rect)}iS.splice(iV,dn?1:0,z);var d8=[5,2];if(i==q.S6)d8=[6,13];if(i==q.OX)d8=[6,1];
if(i==q.jU){d8=[6,48,1];var bk=D.cR.Usng.v.Shp;if(bk){var b8={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[bk.v.classID];
if(b8)d8=b8}}if(fs){d8=[6,49,i==q.R8?0:1]}if(fs||i==q.jU||i==q.Ts||i==q.OX)if(_.q)c5=[_.q,null];var V=new jv(d8,this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:[iV],W3:c5};_.$i(V);this.pS(V.data,_);if(i==q.jU&&bk==null&&dA!=0||i==q.OX){var l=new ho(S.E.W);
l.data={d:S.J.$o,Lt:jF.pk.re};n.c(l)}}if(i==q.dY){var z=_.ni(),gJ=io.get([0,4]),by=G.oM.In(_,gJ+" ");
z.rK(gJ+" "+(by+1));z.QQ="pass";z.add.lsct=f4.AU;z.VN=24;if(D.ap)z.rK(D.ap);if(D.GJ!=null)z.add.lclr=D.GJ;
var bZ=_.b8(),ev=M,iV=ev+(U?0:1),iS=_.b.slice(0);iS.splice(iV,0,bZ,z);var V=new jv([6,20],this);V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:[iV+1]};
_.$i(V);this.pS(V.data,_)}if(i==q.AR||i==q.I9){var fb=i==q.AR?D.source:_.w[0],f1,cx,jB=_.w.indexOf(fb)!=-1,jq=a|D.afK,dD,e9=null;
if(jB)dD=_.DF();else dD=_.Fm(fb);dD.sort(function(V,j7){return V-j7});if(i==q.AR){f1=D.target;cx=D.sK>.5}else if(D.target!=null){f1=Math.min(D.target,_.b.length-1);
cx=D.target<_.b.length;_.Eh=!0}else{var er=D._c;cx=er>1;if(er==0){f1=_.b.length-1}if(er==1){f1=dD[dD.length-1]+1;
var A=_.Fm(f1);if(A.indexOf(fb)==-1)f1+=A.length-1}if(er==2){f1=dD[0]-1;var A=_.Fm(f1);if(A.indexOf(fb)==-1)f1-=A.length-1}if(er==3){f1=0}if(f1<0||f1>_.b.length-1)return;
_.Eh=!0}if(dD.indexOf(f1)!=-1&&!jq)return;var bH=G.oM.Dx(_,dD,f1,cx,jq?_.KI(jB?null:fb):null,i==q.AR&&D.sK>.8),cG=bH.pop(),iz=bH.pop(),iS=bH.pop(),j2=_.w;
_.w=[fb];var a2=_.Mg();_.w=[f1];var eo=_.Mg();if(eo==f1&&!cx)eo=-1;_.w=j2;if(fb==a2){}else if(a2!=eo){var e9=new gZ(0,0);
if(a2!=-1){var d_=_.b[a2].w3();e9.x-=d_.x;e9.y-=d_.y}if(eo!=-1){var d_=_.b[eo].w3();e9.x+=d_.x;e9.y+=d_.y}}var V=new jv(jq?[6,0]:[6,35],this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:iz,N_:e9};_.$i(V);this.pS(V.data,_);var cY={classID:"move",null:cT.S0("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:cG+(cx?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:jq}};
this.track({_L:"move",cR:cY})}if(i==q.sc){if(D.Wb){if(N==null||!N.nR())return;var h=_.root.D5(M),en=_.b.indexOf(h.a54),iS=_.b.slice(0);
iS.splice(M,1);iS.splice(en,1);var iz=[];for(var k=en;k<M-1;k++)iz.push(k);var V=new jv("Ungroup Layers",this);
V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:iz};_.$i(V);this.pS(V.data,_)}else{var z=_.ni(),bA=io.get([0,4])+" ";
z.rK(bA+(G.oM.In(_,bA)+1));z.QQ="pass";if(D.ap)z.rK(D.ap);if(D.GJ!=null)z.add.lclr=D.GJ;z.add.lsct=_.w.length==1?f4.AU:f4.Aj;
z.VN=24;var bZ=_.b8(),dD=_.DF();if(dD.length==0)return;dD.sort(function(V,j7){return V-j7});var iS=[];
for(var k=0;k<_.b.length;k++)if(dD.indexOf(k)==-1)iS.push(_.b[k]);var ev=_.w[_.w.length-1]-dD.length;
iS.splice(ev+1,0,bZ);for(var k=0;k<dD.length;k++)iS.splice(ev+2+k,0,_.b[dD[k]]);iS.splice(ev+2+dD.length,0,z);
var V=new jv([6,9],this);V.data={d:q.qO,C4:_.b.slice(0),S5:iS,Pg:_.w.slice(0),lm:[iS.indexOf(z)]};_.$i(V);
this.pS(V.data,_);var P={_L:"make",rw:!0};P.cR={classID:"Mk",null:cT.S0("layerSection"),From:cT.S0("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:z.getName()}}}};
this.track(P)}}if(i==q.Uv){if(_.w.length!=1)return;var cP=_.w[0],hY=a;if(_.b[cP].us()==null&&!b.j(dz.uH)){i=q.Ht;
D.eF=_.q?!hY?"RvlS":"HdSl":!hY?"RvlA":"HdAl"}else{i=q.AL;D.agJ=!0}}if(i==q.Ht){if(_.w.length!=1)return;
var cP=_.w[0],z=_.b[cP];if(z.add.vmsk&&z.v==null)z.p8(_);var ic=z.us();if(ic==null||D.abX){var V=new jv([6,21],this),jU=new q.$L,gC=D.eF,aS=gC=="RvlS"||gC=="HdSl";
if(gC=="RvlS"||gC=="HdAl"||gC=="Trns")jU.color=0;if(aS){jU.channel=_.q.channel.slice(0);jU.rect=_.q.rect.clone();
if(gC=="HdSl")B.ei(jU.channel)}if(gC=="Trns"){jU.rect=z.rect.clone();jU.channel=B.U(z.rect.u());B.Ef(z.buffer,jU.channel,3)}V.data={d:q.GB,UU:[cP,ic,jU],W3:aS?[_.q,null]:null};
_.$i(V);this.pS(V.data,_);_.b[cP].P8=1;this.track({_L:"make",cR:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:gC}}}})}}else if(i==q.Y_){var dT=_.b[D.src],aC=_.b[D.Yj],V=new jv([6,21],this),iY=dT.us(),dp=aC.us(),jP=[D.src,iY,null,D.Yj,dp,iY];
if(a||o){var fS=iY.clone();if(a)jP=[D.Yj,dp,fS];else jP[5]=fS;if(o){B.ei(fS.channel);fS.color=255-fS.color}}V.data={d:q.GB,UU:jP};
_.$i(V);this.pS(V.data,_)}if(i==q.Rd){if(_.w.length!=1)return;var cP=M,aY=_.b[cP].us();if(aY!=null){var V=new jv([6,22],this);
V.data={d:q.GB,UU:[M,aY,null]};_.$i(V);this.pS(V.data,_)}}if(i==q.Io){var dh=_.b.slice(0),gv=N.clone(),fR=gv.us();
B._B(fR.xD(gv.rect),gv.rect,gv.buffer,gv.rect);G.oM.aW(_,gv);gv.B2();_.b[_.w[0]]=gv;var V=new jv([5,8],this);
V.data={d:q.qO,C4:dh,S5:_.b.slice(),Pg:_.w.slice(0),lm:_.w.slice(0)};_.$i(V);this.pS(V.data,_)}if(i==q.Ez){if(_.w.length!=1)return;
var cP=_.w[0];if(_.b[cP].tr(_).v==null){var V=new jv([6,45],this);V.data={d:i,i:cP,v:new q.$L};_.$i(V);
this.pS(V.data,_)}}if(i==q.j6){if(_.w.length!=1)return;var cP=_.w[0];if(_.b[cP].tr(_).v!=null){var V=new jv([6,46],this);
V.data={d:i,i:cP,v:_.b[cP].tr(_).v};_.$i(V);this.pS(V.data,_)}}if(i==q.x$){if(D.src==null&&_.w.length!=1)return;
if(D.src!=null)M=D.src;if(_.b[M].Ug()){var V=new jv([6,47],this),il=JSON.stringify(_.b[M].add.SoLd),h6=JSON.parse(il);
delete h6.filterFX;V.data={d:q.zQ,w8:[{gd:M,Lq:[il,JSON.stringify(h6)],fK:[_.b[M].tr(_),null]}]};_.$i(V);
this.pS(V.data,_)}}if(i==q.AL){if(_.w.length!=1)return;if(N.add.vmsk==null){var V=new jv([6,23],this),eG=_.DZ(),K=eG[1],eG=eG[0],jU,cK;
if(D.agJ&&K.length!=0){var bP=eG[K[0]].add;jU=bP.vmsk.clone();cK=bP.vogk}else{jU=new q.IQ;cK=[];jU.Y[1].all=D.abG?0:1}V.data={d:i,i:M,ny:!0,v:jU,dd:JSON.stringify(cK),yg:null};
if(N.x6()){V.data.yg=JSON.stringify(ci.yg.default)}_.$i(V);this.pS(V.data,_)}}if(i==q.SH){var dT=_.b[D.src],aC=_.b[D.Yj];
if(aC.add.vmsk)return;var V=new jv([6,23],this),hH=dT.add.vmsk;V.data={i:D.Yj,ny:dT.q_,v:hH.clone(),dd:JSON.stringify(dT.add.vogk),yg:dT.add.vstk?JSON.stringify(dT.add.vstk):null};
if(a){V.data.d=q.AL}else{V.data.d=i;V.data.src=D.src;V.data.Yj=D.Yj}_.$i(V);this.pS(V.data,_)}if(i==q.NZ||i==q.vv){if(_.w.length!=1)return;
var z=_.b[M],hH=z.add.vmsk;if(hH!=null){var i9=i==q.vv,V=new jv(i9?[6,8]:[6,24],this);V.data={d:q.NZ,i:M,ny:z.q_,v:hH,dd:JSON.stringify(z.add.vogk),yg:z.add.vstk?JSON.stringify(z.add.vstk):null};
if(i9){V.data.dn=hH.us(z.add.vstk)}_.$i(V);this.pS(V.data,_)}}if(i==q.hQ){var V=new jv("Metadata",this);
V.data={d:i,uF:JSON.stringify(_.Zd),MX:JSON.stringify(D.MX)};_.$i(V);this.pS(V.data,_)}if(i==q.mk){var gX=D.Yj?D.Yj:_,eq=gX.name,d9=D.k+".psd";
if(eq==d9)return;var V=new jv([6,37],this);V.data={d:i,a8D:eq,ap:d9};if(D.alx!=!0)gX.$i(V);this.pS(V.data,gX)}if(i==q.L5&&D._c.endsWith("makeframes")){var cn=[],ea=D._c.startsWith("make");
for(var k=0;k<_.w.length;k++){var W=_.w[k],z=_.b[W],dd=z.getName(),iJ=dd.startsWith("_a_");if(ea==iJ||z.add.lsct==f4.CV)continue;
var bN=ea?"_a_"+dd:dd.slice(3);cn.push([W,dd,bN,z.add.lnsr,null])}var V=new jv([6,37],this);V.data={d:q.YQ,hy:cn};
_.$i(V);this.pS(V.data,_)}if(i==q.YQ){var eq=N.getName(),d9=D.name.substring(0,255);if(eq==d9)return;
var V=new jv([6,37],this);V.data={d:i,hy:[[M,eq,d9,N.add.lnsr,null]]};_.$i(V);this.pS(V.data,_);this.track(cT.sb("Nm",{t:"TEXT",v:d9}))}if(i==q.GO){var id=_.DF(),cg=[],ez=[];
for(var k=0;k<id.length;k++){cg.push(_.b[id[k]].add.lclr);ez.push(D.a4H)}var V=new jv([6,38],this);V.data={d:i,b:id,alL:cg,GJ:ez};
_.$i(V);this.pS(V.data,_)}if(i==q.Gc){var V=_.history[_.tK];if(V!=null&&V.g==this&&V.data.d==i&&V.data.i==D._v&&V.data.ub.VG==D.Ga.VG)V.data.ub=D.Ga;
else{V=new jv("Mask Density / Feather",this);V.data={d:i,i:D._v,JJ:_.b[D._v].je(D.Ga.VG),ub:D.Ga};_.$i(V)}this.pS(V.data,_)}if(i==q.rb){var a5=JSON.stringify(D.k),hJ=JSON.parse(a5),V=_.history[_.tK];
if(V!=null&&V.g==this&&V.data.d==i&&V.data.eQ==D.eQ&&V.data.n8.join(",")==D.n8.join(",")){for(var k=0;
k<D.n8.length;k++)V.data.I1[k]=hJ;if(V.data.cR&&hJ.p5!=0)G.oM.H0(hJ.Jh,V.data.cR.T.v,hJ.p5-1)}else{V=new jv([11,6],this);
V.data={d:i,n8:D.n8,eQ:D.eQ,ab$:[],I1:[]};var aR=!1;for(var k=0;k<D.n8.length;k++){var W=D.n8[k],z=_.b[W],ct=D.eQ?G.kG.Nz(_,W):JSON.parse(JSON.stringify(z.add.vstk));
V.data.ab$.push(ct);V.data.I1.push(hJ);if(JSON.stringify(ct)!=a5)aR=!0}if(!aR)return;_.$i(V);if(D.eQ&&hJ.p5>0){var cY=V.data.cR={classID:"setd",null:cT.S0("contentLayer",!0),T:{t:"Objc",v:{}}},b0=["SoCo","GdFl","PtFl"][hJ.p5-1];
G.oM.H0(hJ.Jh,cY.T.v,hJ.p5-1);this.track({_L:"set",cR:cY})}}if(D.eQ&&hJ.p5==3)_.iy(aL.Qf(hJ.Jh.Ptrn.v,w.wI));
if(!D.eQ){var dW=hJ.strokeStyleContent.v;if(dW.classID==ci.yg.bR[2])_.iy(aL.Qf(dW.Ptrn.v,w.wI))}this.pS(V.data,_)}};
G.oM.Dx=function(D,n,_,b,w,i){var M=D.b[_],N=[];if(w)N=D.b.slice(0);else for(var k=0;k<D.b.length;k++)if(n.indexOf(k)==-1)N.push(D.b[k]);
var a=N.indexOf(M);if(i&&M.nR()&&M.add.lsct==f4.Aj)a-=D.Fm(_).length-1;var o=[];for(var k=0;k<n.length;
k++){var U=a+(b?0:1)+k,V=w?w[k]:D.b[n[k]];N.splice(U,0,V);o.push(U)}return[N,o,a]};G.oM.H0=function(D,n,_){var b=[ci.BA,ci.LY,ci.EF][_];
if(n.classID==null)n.classID=["solidColorLayer","gradientLayer","patternLayer"][_];for(var k=0;k<b.length;
k++)if(D[b[k]])n[b[k]]=JSON.parse(JSON.stringify(D[b[k]]))};G.oM.K6=function(D){var n=new q.$L;if(D.q!=null){n.color=0;
n.channel=D.q.channel.slice(0);n.rect=D.q.rect.clone()}return n};G.oM.X_=function(D,n,_,b){var w=b.l/_.l,i=b.e/_.e,M=b.l/2,N=b.e/2,a=B.H.X0(b).t;
for(var k=0;k<D.b.length;k++){var o=D.b[k],U=o.add.SoLd;if(U==null||U.Idnt.v!=n)continue;if(w!=1||i!=1){var V=G.Q.CJ(U.nonAffineTransform),c=B.N.Ng(V,b),E=new e3;
E.translate(-M,-N);E.scale(w,i);E.translate(M,N);var A=B.N.H9(c,B.N.ug(E)),Q=a.slice(0);B.N.A(A,Q);U.Trnf=G.Q.sy(Q);
U.nonAffineTransform=G.Q.sy(Q)}o.RZ(D)}D.G()};G.oM.al8=function(D,n,_){n.color=255-n.color;B.ei(n.channel);
n.Vk=!0;D.p8(_);_.G()};G.oM.prototype.k5=function(D,n){var _=D.d,b=n.b[D.i];n.HH=!0;if(_==q.dq){n.add.lnk2.splice(n.add.lnk2.indexOf(D.Rm),1,D.E_);
G.oM.X_(n,D.id,D.Rm.Gj[1],D.E_.Gj[1])}if(_==q.wx){b.add.SoLd.Impr.v.classID=D.JJ;b.RZ(n)}if(_==q.fH){var w=JSON.parse(D.n8);
for(var k=0;k<w.length;k++)n.b[w[k]].QQ=D.no[k];n.G()}if(_==q.hs){var w=JSON.parse(D.n8);for(var k=0;
k<w.length;k++)n.b[w[k]].opacity=D.no[k];n.G()}if(_==q.Y8){var w=JSON.parse(D.n8);for(var k=0;k<w.length;
k++)if(n.b[w[k]].add.lsct!=f4.CV)n.b[w[k]].add.lspf=D.no[k]}if(_==q.zy){var i=D.ta,M=D.aeA;delete b.add[i[0]];
if(M[0]!="----")b.add[M[0]]=M[1]}if(_==q.bZ){b.add.iOpa=D.no;n.G()}if(_==q.Y9){for(var k=0;k<D.n8.length;
k++){var N=n.b[D.n8[k]];N.oj(!N.h$())}n.G()}if(_==q.Jw){var a=b.us();a.isEnabled=!a.isEnabled;b.p8(n);
n.G()}if(_==q.ET){var a=b.tr(n).v;a.isEnabled=!a.isEnabled;b.G();n.G()}if(_==q.OY){var a=b.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(b.dn){b.v=b.dn;b.dn=null}else b.v=null}else if(b.v){b.dn=b.v;
b.v=null}b.p8(n);n.G()}if(_==q.gV){b.kF=!b.kF;n.G()}if(_==q.hc){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.kz.jP=!0;n.G()}if(_==q.XO){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.Az(n);n.G()}if(_==q.wJ){var o=D.index,U=b.add.lmfx[ci.L0[o[0]]].v[o[1]].v;
U.enab.v=!U.enab.v;b.kz.jP=!0;n.G()}if(_==q.FZ){var V=n.b[D.qS],c=n.b[D.mL],E=D.aoa,A=D.abe;if(E=="")delete V.add.lmfx;
else V.add.lmfx=JSON.parse(E);if(A=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(A);V.kz.jP=!0;c.kz.jP=!0;
n.G()}if(_==q.eK){var Q=b.add.SoLd.filterFX.v.filterFXList.v[D.index].v;Q.enab.v=!Q.enab.v;b.Az(n);n.G()}if(_==q.aet){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(D.acX));
b.Az(n);n.G()}if(_==q.Fh){var a=b.us();a.c9=!a.c9}if(_==q.g5){var a=b.add.vmsk;a.c9=!a.c9}if(_==q.tA){var J=D.qx;
for(var k=0;k<J.length;k+=2){var L=J[k],N=L>=0?n.b[L]:n.yE[-1-L];N.add.vogk=JSON.parse(J[k+1]);B.dd.IX(N.add.vogk,N.add.vmsk);
if(L>=0)N.p8(n)}n.G()}if(_==q.LX){b.add.artb=JSON.parse(D.a2b);n.G();G.v1.HA(n,D)}if(_==q.SU){n.q=D.dD;
n.wK=D.qx.slice(0);n.xo=D.Fe.slice(0);n.cF=n.lP=!0}if(_==q.w6){b.ZL=!b.ZL}if(_==q.Zn){var P=D.afQ;for(var k=0;
k<P.length;k++)n.b[k].VT=P[k]}if(_==q.qO){if(D.N_)G._s.NE(n,n.w,null,-D.N_.x,-D.N_.y);if(D.Pg)n.w=D.Pg;
if(D.W3)n.q=D.W3[0];n.F_=null;n.G();n.$N(D.C4);G.v1.HA(n,D);if(D.jT)n.hY(D.jT[0])}if(_==q.GB){for(var k=0;
k<D.UU.length;k+=3)G.oM.aW(n,n.b[D.UU[k]],D.UU[k+1]);if(D.W3){var u=D.W3[0];if(u==null)delete n.q;else n.q=u}}if(_==q.Ez){b.tr(n).v=null;
b.G();n.G()}if(_==q.j6){b.tr(n).v=D.v;b.G();n.G()}if(_==q.zQ){G.oM.T7(n,D.w8,0)}if(_==q.AL){G.oM.l1(n,b,!0)}if(_==q.SH){G.oM.l1(n,n.b[D.Yj],D.v.isEnabled);
G.oM.$a(n,n.b[D.src],D)}if(_==q.NZ){if(D.dn)G.oM.aW(n,b,null);G.oM.$a(n,b,D)}if(_==q.hQ){n.Zd=JSON.parse(D.uF)}if(_==q.mk){n.name=D.a8D}if(_==q.YQ){for(var k=0;
k<D.hy.length;k++){var m=D.hy[k],N=n.b[m[0]];N.rK(m[1]);if(m[3])N.add.lnsr=m[3];else delete N.add.lnsr}}if(_==q.GO){for(var k=0;
k<D.b.length;k++)n.b[D.b[k]].add.lclr=D.alL[k]}if(_==q.rb){var x=D.ab$;for(var k=0;k<D.n8.length;k++){var N=n.b[D.n8[k]],v=x[k];
if(!D.eQ)N.add.vstk=JSON.parse(JSON.stringify(v));else G.kG.k_(N,JSON.parse(JSON.stringify(v)));N.VV(n)}n.G()}if(_==q.Gc){b.Vg(D.JJ);
b.p8(n);n.G()}n.lP=!0};G.oM.prototype.pS=function(D,n){var _=D.d,b=n.b[D.i];n.HH=!0;if(_==q.dq){n.add.lnk2.splice(n.add.lnk2.indexOf(D.E_),1,D.Rm);
G.oM.X_(n,D.id,D.E_.Gj[1],D.Rm.Gj[1])}if(_==q.wx){b.add.SoLd.Impr.v.classID=D.ub;b.RZ(n)}if(_==q.fH){var w=JSON.parse(D.n8);
for(var k=0;k<w.length;k++)n.b[w[k]].QQ=D.ub;n.G()}if(_==q.hs){var w=JSON.parse(D.n8);for(var k=0;k<w.length;
k++)n.b[w[k]].opacity=D.ub;n.G()}if(_==q.Y8){var w=JSON.parse(D.n8);for(var k=0;k<w.length;k++)if(n.b[w[k]].add.lsct!=f4.CV)n.b[w[k]].add.lspf=D.ub[k]}if(_==q.zy){var i=D.aeA,M=D.ta;
delete b.add[i[0]];if(M[0]!="----")b.add[M[0]]=M[1]}if(_==q.bZ){b.add.iOpa=D.ub;n.G()}if(_==q.Y9){for(var k=0;
k<D.n8.length;k++){var N=n.b[D.n8[k]];N.oj(!N.h$())}n.G()}if(_==q.Jw){var a=b.us();a.isEnabled=!a.isEnabled;
b.p8(n);n.G()}if(_==q.ET){var a=b.tr(n).v;a.isEnabled=!a.isEnabled;b.G();n.G()}if(_==q.OY){var a=b.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(b.dn){b.v=b.dn;b.dn=null}else b.v=null}else if(b.v){b.dn=b.v;
b.v=null}b.p8(n);n.G()}if(_==q.gV){b.kF=!b.kF;n.G()}if(_==q.hc){b.add.lmfx.masterFXSwitch.v=!b.add.lmfx.masterFXSwitch.v;
b.kz.jP=!0;n.G()}if(_==q.XO){b.add.SoLd.filterFX.v.enab.v=!b.add.SoLd.filterFX.v.enab.v;b.Az(n);n.G()}if(_==q.wJ){var o=D.index,U=b.add.lmfx[ci.L0[o[0]]].v[o[1]].v;
U.enab.v=!U.enab.v;b.kz.jP=!0;n.G()}if(_==q.FZ){var V=n.b[D.qS],c=n.b[D.mL],E=D.a17,A=D.at6;if(E=="")delete V.add.lmfx;
else V.add.lmfx=JSON.parse(E);if(A=="")delete c.add.lmfx;else c.add.lmfx=JSON.parse(A);V.kz.jP=!0;c.kz.jP=!0;
n.G()}if(_==q.eK){var Q=b.add.SoLd.filterFX.v.filterFXList.v[D.index].v;Q.enab.v=!Q.enab.v;b.Az(n);n.G()}if(_==q.aet){b.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(D.aqD));
b.Az(n);n.G()}if(_==q.Fh){var a=b.us();a.c9=!a.c9}if(_==q.g5){var a=b.add.vmsk;a.c9=!a.c9}if(_==q.tA){var J=D.TK;
for(var k=0;k<J.length;k+=2){var L=J[k],N=L>=0?n.b[L]:n.yE[-1-L];N.add.vogk=JSON.parse(J[k+1]);B.dd.IX(N.add.vogk,N.add.vmsk);
if(L>=0)N.p8(n)}n.G()}if(_==q.LX){b.add.artb=JSON.parse(D.D1);n.G();G.v1.d$(n,D)}if(_==q.SU){n.q=D.yr;
n.wK=D.TK.slice(0);n.xo=D.Wn.slice(0);n.cF=n.lP=!0}if(_==q.w6){b.ZL=!b.ZL}if(_==q.Zn){var P=D.aai;for(var k=0;
k<P.length;k++)n.b[k].VT=P[k]}if(_==q.qO){var u=D.S5,m=0,x;for(var k=0;k<u.length;k++){var N=u[k],v=N.add.lsct;
if(v==f4.CV)m++;else if(v==f4.AU||v==f4.Aj)m--;if(N.add.artb&&m!=0)x="Artboards can not be inside folders."}if(x){n.history.pop();
n.tK--;alert(x);return}G.v1.d$(n,D);if(D.lm)n.w=D.lm;if(D.W3)n.q=D.W3[1];n.F_=null;n.G();n.$N(D.S5);
if(D.N_)G._s.NE(n,n.w,null,D.N_.x,D.N_.y);if(D.jT)n.hY(D.jT[1])}if(_==q.GB){for(var k=0;k<D.UU.length;
k+=3)G.oM.aW(n,n.b[D.UU[k]],D.UU[k+2]);if(D.W3){var W=D.W3[1];if(W==null)delete n.q;else n.q=W}}if(_==q.Ez){b.tr(n).v=D.v;
b.P8=0;b.G();n.G()}if(_==q.j6){b.tr(n).v=null;b.P8=0;b.G();n.G()}if(_==q.zQ){G.oM.T7(n,D.w8,1)}if(_==q.AL){G.oM.$a(n,b,D)}if(_==q.SH){G.oM.l1(n,n.b[D.src],D.v.isEnabled);
G.oM.$a(n,n.b[D.Yj],D)}if(_==q.NZ){G.oM.l1(n,b,D.v.isEnabled);if(D.dn)G.oM.aW(n,b,D.dn)}if(_==q.hQ){n.Zd=JSON.parse(D.MX)}if(_==q.mk){n.name=D.ap}if(_==q.YQ){for(var k=0;
k<D.hy.length;k++){var Z=D.hy[k],N=n.b[Z[0]];N.rK(Z[2]);if(Z[4])N.add.lnsr=Z[4];else delete N.add.lnsr}}if(_==q.GO){for(var k=0;
k<D.b.length;k++)n.b[D.b[k]].add.lclr=D.GJ[k]}if(_==q.rb){var r=D.I1;for(var k=0;k<D.n8.length;k++){var N=n.b[D.n8[k]],X=r[k];
if(!D.eQ)N.add.vstk=JSON.parse(JSON.stringify(X));else G.kG.k_(N,JSON.parse(JSON.stringify(X)));N.VV(n)}n.G()}if(_==q.Gc){b.Vg(D.ub);
b.p8(n);n.G()}n.lP=!0};G.oM.In=function(D,n){var _=0;for(var k=0;k<D.b.length;k++){var b=D.b[k].getName();
if(b.startsWith(n)){var w=b.slice(n.length).trim(),i=parseInt(w);if(!isNaN(i)&&i+""==w&&i>_)_=i}}return _};
G.oM.T7=function(D,n,_){for(var k=0;k<n.length;k++){var b=n[k],w=D.b[b.gd];if(b.Lq){w.add.SoLd=JSON.parse(b.Lq[_])}if(b.fK){if(b.fK[1-_]!=null)D.U8(b.fK[1-_]);
if(b.fK[_]!=null)D.Oq(b.fK[_]);else w.P8=0}w.RZ(D)}};G.oM.cV=function(D,n){var _=D.UD,b=D.rect.clone();
if(_!=null&&(_.x!=n.l||_.y!=n.e)){b.x=Math.floor((n.l-b.l)/2);b.y=Math.floor((n.e-b.e)/2)}return b};
G.oM.aoz=function(D,n){if(n.dn)n.dn=null;else n.v=null;n.p8(D);D.G();n.P8=0};G.oM.aW=function(D,n,_){var b=n.us();
if(b==null&&_==null)return;if(b)G.oM.aoz(D,n);if(_==null)return;if(n.v)n.dn=_;else n.v=_;n.p8(D);D.G()};
G.oM.l1=function(D,n,_){if(n.dn&&_){n.v=n.dn;n.dn=null}else if(n.v&&_){n.v=null}delete n.add.vogk;delete n.add.vstk;
delete n.add.vmsk;n.p8(D);n.q_=!1;D.F_=[];D.G()};G.oM.$a=function(D,n,_){n.add.vogk=JSON.parse(_.dd);
if(_.yg)n.add.vstk=JSON.parse(_.yg);else delete n.add.vstk;n.add.vmsk=_.v.clone();if(n.v&&n.add.vmsk.isEnabled)n.dn=n.v;
n.p8(D);n.q_=_.ny;D.F_=[D.b.indexOf(n)];D.QP=[];D.G()};G.NC=function(){G.ou.call(this,"Layer Styles",G.EB);
this.qT=null;this.dA=null;this.dT=null;this.D6=[];this.zW=null};G.NC.prototype=new G.ou;G.NC.prototype.KV=function(D,n,_,b,w){var i=D.i;
if(i==null)i=_.w[0];var M=_.b[i],N=D.gH;if(this.qT==null){this.dT=G.NC.Zg(_,M);this.qT=JSON.stringify(this.dT);
if(M.add.lmfx)this.dA=JSON.stringify(M.add.lmfx)}if(M.add.lmfx==null){M.add.lmfx=JSON.parse(ci.default);
for(var k=0;k<ci.order.length;k++)M.add.lmfx[ci.L0[k]]={t:"VlLs",v:[]}}if(D.d=="scaleeffects"){if(D.k=="confirm"||D.k=="cancel"){this.KV({d:D.k},n,_,b,w);
return}M.add.lmfx=JSON.parse(this.dA);aL.hx(M.add.lmfx,D.k/100)}else if(D.d=="changeprop"){var a=null;
if(N!=0){var o=this.D6[N[0]];if(o==null)o=ci.D6[N[0]];o=JSON.parse(o);var U=M.add.lmfx[ci.L0[N[0]]].v;
if(U[N[1]]==null)U[N[1]]={t:"Objc",v:o};a=U[N[1]].v;for(var V in o)if(a[V]==null)a[V]=o[V]}if(D.d=="changeprop"){if(N==0){this.dT[D.GI].v=D.k;
G.NC.Ux(_,M,this.dT)}else if(D.GI=="lagl"){if(a.uglg&&a.uglg.v){_.U0(D.k.val);this.dT.ano=_.bH()}else a[D.GI].v=D.k}else if(D.GI=="Lald"){if(a.uglg.v){_.rH(D.k.val);
this.dT.ahP=_.w9()}else a[D.GI].v=D.k}else if((N[0]==3||N[0]==8)&&(D.GI=="Clr"||D.GI=="Grad")){if(D.GI=="Clr"){a.Clr={t:"Objc",v:D.k};
delete a.Grad}if(D.GI=="Grad"){a.Grad={t:"Objc",v:D.k};delete a.Clr}}else{a[D.GI].v=D.k}if(N!=0)this.D6[N[0]]=JSON.stringify(a)}if(N!=0)if(a.Ptrn)_.iy(aL.Qf(a.Ptrn.v,w.wI))}else if(D.d=="setstl"){var c=D.k.Lefx;
if(c)aL.ajw(c,_,w.wI);aL.aaq(D.k,M);this.dT=G.NC.Zg(_,M)}else if(D.d=="st_dupsingle"){var E=M.add.lmfx[ci.L0[D.HE[0]]].v;
if(E[D.HE[1]]==null)return;var A=JSON.parse(JSON.stringify(E[D.HE[1]]));E.splice(D.HE[1],0,A)}else if(D.d=="st_movsingle"){var Q=D.HE[1],E=M.add.lmfx[ci.L0[D.HE[0]]].v;
if(E[D.HE[1]]==null)return;var J=Math.max(0,Math.min(E.length-1,Q+D.apO)),L=E[J];E[J]=E[Q];E[Q]=L}else if(D.d=="cancel"){if(this.dA==null)delete M.add.lmfx;
else M.add.lmfx=JSON.parse(this.dA);G.NC.Ux(_,M,JSON.parse(this.qT));this.qT=null;this.dA=null}else if(D.d=="confirm"){var P=JSON.stringify(M.add.lmfx),u=new jv([11,6],this);
u.data={b:[i],uT:[this.dA],WM:[P],D0:[this.qT],Xm:[JSON.stringify(this.dT)]};_.$i(u);this.qT=null;this.dA=null;
if(P!=null){var m=JSON.parse(P);cL.Ob(m);m.classID="Lefx";delete m.masterFXSwitch;var x=new ho(S.E.$W);
x.w2=!0;x.data={_L:"set",rw:!0};var v=cT.S0("Lyr",!0);v.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
x.data.cR={__name:"Set",classID:"setd",null:v,T:{t:"Objc",v:m}};n.c(x)}}else if(D.d=="st_copy"){this.zW=[this.qT,this.dA];
this.qT=null;this.dA=null}else if(D.d=="st_paste"||D.d=="st_clear"){if(D.d=="st_paste"&&this.zW==null)return;
var W=D.i!=null?[D.i]:_.w.slice(0),Z=[],r=[],X=[],$=[];for(var k=0;k<W.length;k++){var M=_.b[W[k]],I=G.NC.Zg(_,M);
Z.push(M.add.lmfx?JSON.stringify(M.add.lmfx):null);X.push(JSON.stringify(I));if(D.d=="st_paste"){r.push(this.zW[1]);
$.push(this.zW[0])}else{r.push(null);I.lrMd.v=0;I.Opct.v.val=100;I.iOpa.v.val=100;I.blIf={v:[]};for(var T=0;
T<10;T++)I.blIf.v.push(0,0,255,255);$.push(JSON.stringify(I))}}var u=new jv([11,6],this);u.data={b:W,uT:Z,WM:r,D0:X,Xm:$};
this.pS(u.data,_);_.$i(u);this.qT=null;this.dA=null}else{var e=this.dT,m=null;if(D.d=="st_delsingle"){m=JSON.parse(this.dA);
m[ci.L0[D.HE[0]]].v.splice(D.HE[1],1);m=JSON.stringify(m)}if(m==null)delete M.add.lmfx;else M.add.lmfx=JSON.parse(m);
if(e!=null)G.NC.Ux(_,M,e);var u=new jv([11,6],this);u.data={b:[D.i],uT:[this.dA],WM:[m],D0:[this.qT],Xm:[JSON.stringify(e)]};
_.$i(u);this.qT=null;this.dA=null}M.kz.jP=!0;_.HH=!0;_.G()};G.NC.Zg=function(D,n){if(n.add.iOpa==null)n.add.iOpa=255;
if(n.add.brst==null)n.add.brst=[1,1,1];var _=n.nR()?["pass"].concat(jz._w):jz._w;return{lrMd:{v:_.indexOf(n.QQ)},Opct:{v:{type:"#Prc",val:Math.round(n.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(n.add.iOpa*100/255)},t:"UntF"},blIf:{v:n.Nk.slice(0)},brst:{v:n.add.brst},ano:D.bH(),ahP:D.w9(),nR:n.nR()}};
G.NC.Ux=function(D,n,_){var b=n.nR()?["pass"].concat(jz._w):jz._w;n.QQ=b[_.lrMd.v];n.opacity=Math.round(_.Opct.v.val*255/100);
n.add.iOpa=Math.round(_.iOpa.v.val*255/100);n.Nk=_.blIf.v.slice(0);n.add.brst=_.brst.v.slice(0);D.U0(_.ano);
D.rH(_.ahP)};G.NC.prototype.k5=function(D,n){for(var k=0;k<D.b.length;k++){var _=n.b[D.b[k]],b=D.uT[k];
if(b==null)delete _.add.lmfx;else _.add.lmfx=JSON.parse(b);G.NC.Ux(n,_,JSON.parse(D.D0[k]));_.kz.jP=!0}n.HH=!0;
n.G()};G.NC.prototype.pS=function(D,n){for(var k=0;k<D.b.length;k++){var _=n.b[D.b[k]],b=D.WM[k];if(b==null)delete _.add.lmfx;
else _.add.lmfx=JSON.parse(b);G.NC.Ux(n,_,JSON.parse(D.Xm[k]));_.kz.jP=!0}n.HH=!0;n.G()};G.ec=function(){G.ou.call(this,"Layer Comps",G.Q0)};
G.ec.prototype=new G.ou;G.ec.prototype.KV=function(D,n,_,b){var w=JSON.parse(JSON.stringify(_.Co)),i=JSON.parse(JSON.stringify(_.Co)),M=null,N=null,a=null,o=-1,U=!1;
if(D.d=="delLC"){var V=G.ec.zC(_.Co,D.gH),c=_.Co.lastAppliedComp?_.Co.lastAppliedComp.v:0;i.list.v.splice(V,1);
if(c==D.gH)delete i.lastAppliedComp;M="Delete Layer Comp"}if(D.d=="editLC"){var V=G.ec.zC(_.Co,D.gH),E=i.list.v[V].v;
if(D.ap!=null)E.Nm.v=D.ap;if(D.ap8!=null){var A=D.ap8,Q=E.capturedInfo.v,J=Q&(1<<A)-1;Q=Q>>A;if((Q&1)==1)Q--;
else Q++;E.capturedInfo.v=(Q<<A)+J}M="Layer Comp properties"}if(D.d=="setLC"){G.ec.JX(_);if(D.gH==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:D.gH};M="Switch Layer Comp";U=!0}if(D.d=="updLC"){G.ec.JX(_);N=G.ec.aul(_,D.gH);
a=G.ec.j1(_,D.gH);i.lastAppliedComp={t:"long",v:D.gH};M="Update Layer Comp";o=D.gH;U=!0}if(D.d=="addLC"){G.ec.JX(_);
var L=1;for(var k=0;k<i.list.v.length;k++)L=Math.max(L,i.list.v[k].v.compID.v)+1;L+=Math.floor(Math.random()*1e4);
var P={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:L},capturedInfo:{t:"long",v:7}}};
i.list.v.push(P);i.lastAppliedComp={t:"long",v:L};M="New Layer Comp";var u=G.ec.j1(_,L);G.ec.QF(_,u,L)}var m=new jv(M,this);
m.data={a34:w,a2c:i,a50:N,apt:a,gH:o,$$:U};this.pS(m.data,_);_.$i(m)};G.ec.prototype.pS=function(D,n){n.Co=D.a2c;
n.HH=!0;if(D.apt)G.ec.QF(n,D.apt,D.gH);if(D.$$){var _=n.Co.lastAppliedComp?n.Co.lastAppliedComp.v:0,b=G.ec.zC(n.Co,_),w=b==-1?null:n.Co.list.v[b].v,i=w?w.capturedInfo.v:7;
G.ec.qb(n,_,i);n.G()}};G.ec.prototype.k5=function(D,n){n.Co=D.a34;n.HH=!0;if(D.a50)G.ec.QF(n,D.a50,D.gH);
if(D.$$){var _=n.Co.lastAppliedComp?n.Co.lastAppliedComp.v:0,b=G.ec.zC(n.Co,_),w=b==-1?null:n.Co.list.v[b].v,i=w?w.capturedInfo.v:7;
G.ec.qb(n,_,i);n.G()}};G.ec.JX=function(D){if(D.Co.lastAppliedComp!=null||!D.$G)return;var n=G.ec.j1(D,0);
G.ec.QF(D,n,0);D.$G=!1};G.ec.JC=function(D,n,_){D.v.Hrzn.v+=n;D.v.Vrtc.v+=_};G.ec.zC=function(D,n){var _=D.list.v;
for(var k=0;k<_.length;k++)if(_[k].v.compID.v==n)return k;return-1};G.ec.abc=function(D){var n=D.layerSettings.v,w=null;
if(n.length==0)return;var _="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),b=n[0].v;
if(b.enab==null)b.enab={t:"bool",v:!0};if(b.Ofst==null)b.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var k=0;k<n.length;k++){var i=n[k].v;if(w==null)w=JSON.parse(JSON.stringify(i));else for(var M=0;
M<_.length;M++){var N=_[M];if(i[N])w[N]=JSON.parse(JSON.stringify(i[N]))}n[k].v=JSON.parse(JSON.stringify(w))}};
G.ec.Yt=function(D,n){var _=D.add.shmd.cmls,b=_.layerSettings.v;for(var w=0;w<b.length;w++){var i=b[w].v,M=i.compList.v[0].v;
if(M==n)return w}return-1};G.ec.hf=function(D,n){var _=G.ec.Yt(D,n);return _==-1?null:D.add.shmd.cmls.layerSettings.v[_].v};
G.ec.qb=function(D,n,_){for(var k=0;k<D.b.length;k++){var b=D.b[k],w=b.add.shmd.cmls;if(w==null)continue;
var i=w.layerSettings.v,M=G.ec.hf(b,n);if(M==null){b.oj(!1);continue}if((_&1)!=0){if(M.enab)b.oj(M.enab.v);
else b.oj(!0)}if((_&2)!=0){if(M.Ofst){var N=M.Ofst.v,a=b.HU(D),o=Math.round(N.Hrzn.v-a.x),U=Math.round(N.Vrtc.v-a.y);
if(o!=0||U!=0)G._s.NE(D,[k],null,o,U)}}if((_&4)!=0){if(M.Lefx){var V=JSON.parse(JSON.stringify(M.Lefx.v));
cL.cH(V);if(JSON.stringify(V)!=JSON.stringify(b.add.lmfx)){b.add.lmfx=V;b.kz.jP=!0}}else delete b.add.lmfx;
if(M.blendOptions){var c=M.blendOptions.v;if(c.Opct)b.opacity=Math.round(255*c.Opct.v.val/100);if(c.fillOpacity)b.add.iOpa=Math.round(255*c.fillOpacity.v.val/100);
if(c.Md)b.QQ=b.add.lsct==f4.CV?"norm":jz.GV(c.Md.v.BlnM)}else{b.opacity=255;b.QQ=b.nR()?"pass":"norm";
b.add.iOpa=255}}}};G.ec.aul=function(D,n){var _={};for(var k=0;k<D.b.length;k++){var b=D.b[k];if(b.add.shmd==null||b.add.shmd.cmls==null)continue;
_["l"+b.add.lyid]=JSON.parse(JSON.stringify(G.ec.hf(b,n)))}return _};G.ec.j1=function(D,n){var _={};
for(var k=0;k<D.b.length;k++){var b=D.b[k],w=b.add.lyid;_["l"+w]=G.ec.Ve(D,b,n)}return _};G.ec.Ve=function(D,n,_){var b=n.add.shmd?n.add.shmd.cmls:null,w={classID:"null"},i=n.HU(D),M={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
w.compList={t:"VlLs",v:[{t:"long",v:_}]};w.enab={t:"bool",v:n.h$()};w.Ofst=JSON.parse(JSON.stringify(M));
w.FXRefPoint=JSON.parse(JSON.stringify(b&&b.origFXRefPoint?b.origFXRefPoint:M));w.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:jz.j0(n.QQ)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*n.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:n.add.iOpa!=null?100*n.add.iOpa/255:100}}}};
if(n.add.vmsk){w.vectorMask={t:"Objc",v:{classID:"null"}};w.vectorMask.v.Ofst=JSON.parse(JSON.stringify(M))}if(n.add.lmfx){w.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(n.add.lmfx))};
cL.Ob(w.Lefx.v)}return w};G.ec.atV=function(D,n){var _=n.add.lyid;if(n.add.shmd==null)n.add.shmd={};
if(n.add.shmd.cmls==null){n.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:_},layerSettings:{t:"VlLs",v:[{t:"Objc",v:G.ec.Ve(D,n,0)}]}}}};
G.ec.QF=function(D,n,_){for(var k=0;k<D.b.length;k++){var b=D.b[k],w=b.add.lyid;G.ec.atV(D,b);var i=b.add.shmd.cmls,M=i.layerSettings.v,N=n["l"+w];
if(N!=null)N={t:"Objc",v:JSON.parse(JSON.stringify(N))};var a=G.ec.Yt(b,_);if(a==-1){if(N==null)continue;
else M.push(N)}else{if(N==null)M.splice(a,1);else M[a]=N}}};G.ec.Qb=function(D,n){for(var k=0;k<D.b.length;
k++){var _=D.b[k],b=_.add.lyid;if(_.add.shmd==null||_.add.shmd.cmls==null)continue;var w=_.HU(D),i=Math.round(w.x),M=Math.round(w.y);
if(!n){i=-i;M=-M}var N=_.add.shmd.cmls,a=N.layerSettings.v;if(N.origFXRefPoint)G.ec.JC(N.origFXRefPoint,-i,-M);
for(var o=0;o<a.length;o++){var U=a[o].v;G.ec.JC(U.Ofst,i,M);var V=U.imageMask,c=U.vectorMask;if(V&&V.v.Ofst)G.ec.JC(V.v.Ofst,i,M);
if(c&&c.v.Ofst)G.ec.JC(c.v.Ofst,i,M)}}};G.S4=function(){G.ou.call(this,"Adjust Edit",G._x);this.MX=null;
this.xe=null};G.S4.prototype=new G.ou;G.S4.TV=function(D,n,_,b){if(b)n/=4;var w=0,i=0,M=255,N=0,a=0,o=255;
while(i+D[w]<n){i+=D[w];w++}while(N+D[M]<n){N+=D[M];M--}if(b){w-=Math.round(D[w]/(_/32));M+=Math.round(D[M]/(_/32));
if(w<0)a=Math.round(-w*255/(M-w));if(M>255)o=255-Math.round((M-255)*255/(M-w))}return[Math.max(w,0),Math.min(M,255),a,o,100]};
G.S4.prototype.KV=function(D,n,_,b,w){var i=D.d;if(i=="auto"){var M=D.TH,N=G.S4.getData(_);for(var k=0;
k<N.length;k++){var a=N[k],o;if(M<3){}else{var U=cq.D2("hue2");bE.Pt(U,0,[0,-100,0]);o=fg.pG("hue2",U)}fg.pe(o,a.j3,a.mV,a.Kj)}G.S4.Be(_,N);
G.S4.tJ(_,N,M<3?[4,16,M]:[19,7,0],this);_.G()}if(i=="edit_layer")this.a9g(D,n,_,b);if(i=="edit"||i=="confirm"||i=="cancel")this.Va(D,n,_,w,!0);
if(i=="start"){if(_.w.length==0)return;var V=_.b[_.w[0]];if(V.add.SoLd&&V.P8<=0&&_.xo.length==0){var c=new ho(S.E.M,!0);
c.g=G.mg;c.data={d:"start",lE:D.IL,Ky:D.Ky};n.c(c);return}if(!_.Wg(n,null,!0))return;if(d[D.IL]&&D.Ky==null){if(_.w.length!=1)alert("Will be applied to "+_.w.length+" layers.");
var c=new ho(S.E.W,!0);c.data={d:S.J.a_,Lt:"afw_"+D.IL};n.c(c)}else{this.Va({d:"edit",Ky:D.Ky,lE:D.IL},n,_,w);
this.Va({d:"confirm",lE:D.IL},n,_,w)}}};G.S4.prototype.a9g=function(D,n,_,b){var w=D.d,i=_.w[0],M=_.b[i],N=fg.get(M.add),a=JSON.parse(JSON.stringify(M.add[N])),c;
for(var o in D.k)a[o]=D.k[o];var U=JSON.parse(JSON.stringify(a));for(var o in fg.rQ)if(fg.rQ[o]==N)U.classID=o;
var V=_.history[_.tK];if(V&&V.g==this&&V.data.JJ!=null&&V.data.i==i)c=V;else{var E=new ho(S.E.$W,!0),A={classID:"setd",null:cT.S0("AdjL",!0),T:{t:"Objc",v:U}};
E.data={rw:!0,_L:"set",cR:A};n.c(E);var c=new jv([6,39],this);c.data={i:i,JJ:M.add[N],ub:a,sJ:A};_.$i(c)}c.data.ub=a;
c.data.sJ.T.v=U;this.pS(c.data,_)};G.S4.getData=function(D,n,_){var b=[],w=new gl(0,0,D.l,D.e),i=D.xo.length!=0?[-1-D.xo[0]]:D.w;
for(var k=0;k<i.length;k++){var M=i[k],N=M<0?null:D.b[M],a={i:M,q6:M<0?1:N.P8};b.push(a);var o=D.wK[-1-M];
if(0<=M)o=N.P8<=0?null:N.P8==1?N.us():N.tr(D).v;var U=o?o.rect:N.rect;if(D.q)a.Kj=o!=null?D.q.rect.zE(w):D.q.rect.zE(U);
else a.Kj=n||o!=null?U.Ik(w):U.clone();if(_)a.Kj=_[k].Kj.clone();var V=a.Kj.u();a.j3=B.U(V*4);if(o)G.NF.g2(o.channel,o.rect,o.color,a.j3,a.Kj);
else B.E3(N.buffer,U,a.j3,a.Kj);a.mV=a.j3.slice(0);if(D.q){a.UU=B.U(V);B.I4(D.q.channel,D.q.rect,a.UU,a.Kj)}}return b};
G.S4.a23=function(D,n,_){if(n==null)return n;var b=fg.Mj(D,n),i;if(b==-1)return n;var w=_.length>>>2,M=B.ZB(_),N=.001*w;
if(b==0||b==2)i=[[0,255,0,255,100],G.S4.TV(M[1],N,w,b==2),G.S4.TV(M[2],N,w,b==2),G.S4.TV(M[3],N,w,b==2)];
if(b==1)i=[G.S4.TV(M[0],N*.33,w,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var a=cq.D2("levl");
for(var k=0;k<4;k++)jA.Pt(a,k,i[k]);return a};G.S4.tO=function(D,n,_,b){var w,i;if(_.t=="name"){var M=0;
for(var N=0;N<D.b.length;N++)if(D.b[N].getName()==_.v.val)M=N;if(M==b.i){w=b.j3;i=b.Kj}else{var a=D.b[M];
w=a.buffer;i=a.rect}}else{i=new gl(0,0,D.l,D.e);w=D==n?b.kg:D.iS()}return[w,i]};G.S4.prototype.Va=function(D,n,_,b){if(this.MX==null){if(D.lE=="aply")_.b[_.w[0]].extend(new gl(0,0,_.l,_.e));
this.MX=G.S4.getData(_,null,D.lE=="fade"?_.XN().data:null);if(D.lE=="aply"||D.lE=="matc")this.MX[0].kg=_.iS()}if(D.d=="edit"){this.xe=[D.lE,D.Ky];
var w=this.MX[0],i=G.S4.a23(D.lE,D.Ky,w.j3),M=fg.pG(D.lE,i);if(D.lE=="fade"||D.lE=="matc"||D.lE=="aply")M=D.Ky;
if(M!=null){for(var N=0;N<this.MX.length;N++){var a=this.MX[N];if(D.OL)B.nb(a.j3,a.mV);else if(D.lE=="fade"){var o=jz.GV(D.Ky.Md.v.BlnM),U=D.Ky.Opct.v.val/100,V=_.XN().data[N];
B.nb(V.j3,a.mV);if(o=="norm")B.a.ih(a.j3,a.Kj,a.mV,a.Kj,null,null,null,a.Kj,U);else{var c=aL.Rt();c.M$=!0;
for(var k=0;k<V.j3.length;k+=4)if(V.j3[k+3]!=a.j3[k+3]){c=null;break}B.a.dG(o,a.j3,a.Kj,a.mV,a.Kj,a.Kj,U,c)}}else if(D.lE=="matc"){var E;
if(M.noReference&&M.noReference.v)E=a.j3;else{var A=M.Srce.v,Q=A[1].v.val,J=n.RA,L=_;for(var k=0;k<J.length;
k++)if(J[k].name==Q)L=J[k];var P=G.S4.tO(L,_,A[0],a);E=P[0]}fL(a.j3,a.Kj.l,a.Kj.e,E,a.mV,[M.Lght.v,M.ClrR.v,M.Fade.v,M.neutralizeColor?M.neutralizeColor.v:!1])}else if(D.lE=="aply"){M=M.With.v;
var u=M.T.v,P=G.S4.tO(_,_,u[1],a),E=P[0],m=P[1],x=M.Clcl?M.Clcl.v.Clcn:null,o=x?jz.GV(x):"norm",U=M.Opct?M.Opct.v.val/100:1,v=["RGB","Rd","Grn","Bl","Trsp"].indexOf(u[0].v.enum),i=M.Invr&&M.Invr.v;
if(i||v!=0){E=E.slice(0);if(i)B.a2n(E);if(v!=0){var W=B.U(m.u());B.Ef(E,W,v-1);if(v==4)B.ei(W);for(var Z=0;
Z<3;Z++)B.tD(W,E,Z)}}if(x=="Add"||x=="Sbtr"){var r=1/M.Scl.v,X=M.Ofst.v,$=x=="Add"?1:-1,I=new Uint8ClampedArray(a.mV.buffer);
for(var k=0;k<E.length;k+=4){I[k]=(a.j3[k]+$*E[k])*r+X;I[k+1]=(a.j3[k+1]+$*E[k+1])*r+X;I[k+2]=(a.j3[k+2]+$*E[k+2])*r+X}}else{var c=aL.Rt();
c.M$=M.PrsT&&M.PrsT.v;a.mV.fill(0);a.mV.set(a.j3);B.a.dG(o,E,m,a.mV,a.Kj,a.Kj,U,c)}}else fg.pe(M,a.j3,a.mV,a.Kj)}G.S4.Be(_,this.MX)}}if(D.d=="cancel"){G.S4.SP(_,this.MX);
this.MX=null}if(D.d=="confirm"){var T={fade:[2,11],aply:[2,12],matc:[4,18]},e=T[D.lE];if(e==null)e=fg.names[D.lE];
var F=fg.Mj(D.lE,this.xe[1]);if(F!=-1)e=[4,16,F];G.S4.tJ(_,this.MX,e,this);this.MX=null;if(F==-1)G.S4.WZ(n,this.xe)}_.G()};
G.S4.WZ=function(D,n){var _=n[0],b=n[1],w,i;if(fg.tG[_]){w=fg.tG[_];if(d[_])i=b}if(cq.tG[_]){w=cq.tG[_];
if(d[_])i=b}if(_=="fade"){w="fade";i=b}if(_=="matc"){w="matchColor";i=b}if(_=="aply"){w="applyImageEvent";
i=b}if(w==null)return;var M=new ho(S.E.$W,!0);M.data={rw:!0,_L:w};if(i){i=JSON.parse(JSON.stringify(i));
i.classID="null";delete i.__name;M.data.cR=i}D.c(M)};G.S4.SP=function(D,n){G.S4.PN(D,n)};G.S4.tJ=function(D,n,_,b){for(var k=0;
k<n.length;k++){var w=n[k],i=D.b[w.i],M=w.i<0?D.wK[-1-w.i]:w.q6<=0?null:w.q6==1?i.us():i.tr(D).v;if(M){M.B2();
M.Vk=!0;if(i)i.p8(D)}else{i.B2();i.G()}delete w.mV;delete w.UU}var N=new jv(_,b);N.data=n;D.$i(N);D.HH=!0};
G.S4.Be=function(D,n,_){for(var k=0;k<n.length;k++){var b=n[k],w=D.b[b.i],i=_?b.j3:b.mV,M=b.Kj;if(b.q6==0){w.extend(M);
if(b.UU){B.E3(b.j3,M,w.buffer,w.rect);B.a.ih(i,M,w.buffer,w.rect,b.UU,M,0,M,1)}else B.E3(i,M,w.buffer,w.rect)}else{var N=b.i<0?D.wK[-1-b.i]:b.q6==1?w.us():w.tr(D).v;
N.extend(M);if(b.UU){var a=B.U(M.u()*4);B.nb(b.j3,a);B.a.ih(i,M,a,M,b.UU,M,0,M,1);G.NF.W8(a,M,N)}else G.NF.W8(i,M,N);
N.Vk=!0;if(w)w.p8(D)}if(w)w.G()}if(!_)G.S4.io(D,n)};G.S4.PN=function(D,n){for(var k=0;k<n.length;k++){var _=n[k],b=D.b[_.i],w=_.Kj,i=B.U(w.u()*4);
if(_.q6==0){B.E3(b.buffer,b.rect,i,w);b.extend(w);B.E3(_.j3,w,b.buffer,b.rect);b.B2()}else{var M=_.i<0?D.wK[-1-_.i]:_.q6==1?b.us():b.tr(D).v;
G.NF.g2(M.channel,M.rect,M.color,i,w);M.extend(w);G.NF.W8(_.j3,w,M);M.B2();M.Vk=!0;if(b)b.p8(D)}_.j3=i;
if(b)b.G()}D.HH=!0};G.S4.io=function(D,n){var _=G.S4.SB(D),b=~_;if(_==16777215)return;for(var k=0;k<n.length;
k++){var w=n[k],i=D.b[w.i],M=w.Kj;if(w.q6!=0)continue;i.extend(M);var N=M.x-i.rect.x,a=M.y-i.rect.y,o=i.rect.l,U=new Uint32Array(w.j3.buffer),V=new Uint32Array(i.buffer.buffer);
for(var c=0;c<M.e;c++)for(var E=0;E<M.l;E++){var A=c*M.l+E,Q=(c+a)*o+(E+N);V[Q]=V[Q]&_|U[A]&b}i.B2();
i.G()}D.G()};G.S4.SB=function(D){var n=D.s.qJ;return n[2]*16711680|n[1]*65280|n[0]*255};G.S4.prototype.k5=function(D,n){var _=n.b[D.i];
if(D.JJ!=null)_.add[fg.get(_.add)]=D.JJ;else G.S4.PN(n,D);n.G()};G.S4.prototype.pS=function(D,n){var _=n.b[D.i];
if(D.JJ!=null)_.add[fg.get(_.add)]=D.ub;else G.S4.PN(n,D);n.G()};G.sp=function(){G.ou.call(this,"Filter Edit",G.mg);
this.MX=null;this.V9=null;this.d=null;this.xe=null};G.sp.prototype=new G.ou;G.sp.prototype.KV=function(D,n,_,b,w){if(D.d=="start"){if(_.w.length==0)return;
var i=_.b[_.w[0]];if(i.add.SoLd&&i.P8<=0&&_.xo.length==0){}else if(!_.Wg(n,null,!0))return;var M=D.lE;
if((d[M]||cq.K[M])&&D.Ky==null){if(_.w.length!=1)alert("Will be applied to "+_.w.length+" layers.");
var N=new ho(S.E.W,!0);N.data=G.sp.Ev(M,this.NP(_,M));n.c(N)}else{var a={d:"edit",lE:M,Ky:D.Ky,kZ:this.NP(_)};
this.KV(a,n,_,b,w);a.d="confirm";delete a.Ky;this.KV(a,n,_,b,w)}}if(D.d=="edit"||D.d=="cancel"||D.d=="confirm"){if(D.d=="edit")this.xe=[D.lE,D.Ky];
if(D.kZ)this.aum(D,_,w);else this.asT(D,n,_,w)}if(D.d=="applylast"&&this.xe!=null){var a={d:"edit",lE:this.xe[0],Ky:this.xe[1],kZ:this.NP(_)};
this.KV(a,n,_,b,w);a.d="confirm";delete a.Ky;this.KV(a,n,_,b,w)}};G.sp.Ev=function(D,n){var _=cq.K[D];
if(_)return{d:S.J.Ou,g:_,Bl:{kZ:n}};else return{d:S.J.a_,Lt:"afw_"+D,kZ:n}};G.sp.prototype.NP=function(D,n){var _=D.b[D.w[0]],b;
if(_.add.SoLd&&_.P8<=0&&D.xo.length==0){b={i:D.w[0],index:0};if(_.add.SoLd.filterFX!=null){var w=_.add.SoLd.filterFX.v.filterFXList.v;
b.index=w.length;for(var k=0;k<w.length;k++)if(cq.VM(w[k].v)==n&&cq.K[n])b.index=k}}return b};G.sp.prototype.aum=function(D,n,_){var b=n.b[D.kZ.i],w=D.lE;
if(D.d=="edit"){if(this.d==null){var i=cq.names[w];if(i==null)i=fg.names[w];if(w=="blendOptions")i=[14,10];
this.d=new jv(i,this);this.d.data={kZ:D.kZ,a0m:JSON.parse(JSON.stringify(b.add.SoLd))}}if(!b.Ug()){b.add.SoLd.filterFX=cq.M8();
this.d.data.fK=ai.ahD(b.add.SoLd.placed.v);n.Oq(this.d.data.fK);b.RZ(n)}var M=b.add.SoLd.filterFX.v.filterFXList.v;
if(M[D.kZ.index]==null){M.push(cq.Qk(w,_))}if(D.Ky){M[D.kZ.index].v.enab.v=D.OL!=!0;if(w=="blendOptions")M[D.kZ.index].v.blendOptions.v=D.Ky;
else M[D.kZ.index].v.Fltr.v=D.Ky}this.d.data.ady=JSON.parse(JSON.stringify(b.add.SoLd));this.pS(this.d.data,n)}if(D.d=="cancel"){if(this.d)this.k5(this.d.data,n);
this.d=null}if(D.d=="confirm"){if(this.d)n.$i(this.d);this.d=null}};G.sp.prototype.Ne=function(D){return{p:D>>>16,z:D>>>8&255,S:D&255}};
G.sp.prototype.asT=function(D,n,_,b){if(this.MX==null){var w=cq.Oi(D.lE,D.Ky);this.MX=G.S4.getData(_,w.x!=0||w.y!=0)}if(D.d=="edit"){var i=JSON.stringify(D.Ky);
if((D.Ky==null||i!=this.V9)&&D.OL!=!0)for(var k=0;k<this.MX.length;k++){var M=this.MX[k],N={rect:M.Kj,buffer:M.j3},a={rect:M.Kj,buffer:M.mV};
if(D.lE=="Avrg"&&M.UU){N.buffer=M.j3.slice(0);B.Aq(M.UU,N.buffer)}cq.pe(D.lE,N,D.Ky,this.Ne(b.EH),this.Ne(b.Cp),a,[_.add.lnk2?_.add.lnk2:[],_.b[_.w[0]].us(),_.wK,_.DZ()]);
if(D.lE=="Avrg"&&M.UU){var o=M.j3.length;for(var k=0;k<o;k+=4)M.mV[k+3]=M.j3[k+3]}this.V9=i}G.S4.Be(_,this.MX,D.OL)}if(D.d=="cancel"){G.S4.SP(_,this.MX);
this.MX=null;this.V9=null}if(D.d=="confirm"){G.S4.tJ(_,this.MX,cq.names[D.lE],this);this.MX=null;this.V9=null;
G.S4.WZ(n,this.xe)}_.G();_.HH=!0};G.sp.prototype.k5=function(D,n){if(D.kZ){var _=n.b[D.kZ.i];if(D.fK)n.U8(D.fK);
_.add.SoLd=JSON.parse(JSON.stringify(D.a0m));if(_.Ug())_.Az(n);else{_.RZ(n);_.P8=0}}else G.S4.PN(n,D);
n.G();n.HH=!0};G.sp.prototype.pS=function(D,n){if(D.kZ){var _=n.b[D.kZ.i];if(D.fK)n.Oq(D.fK);_.add.SoLd=JSON.parse(JSON.stringify(D.ady));
if(_.Ug())_.Az(n);else _.RZ(n);if(!_.Rc())_.VN+=32}else G.S4.PN(n,D);n.G();n.HH=!0};var da={XS:"0",hP:"1",$v:"2",kI:"3",bL:"4",AW:"5",Yp:"6",c4:"7",M:"8",Nu:"8.5",jN:"8.8",cM:"9",tL:"10",WT:"11",eU:"12",Ol:"13",nQ:"14",Ha:"15",SF:"16",dJ:"21",bM:"22",wS:"23",Xk:"23.0",fz:"23.1",NA:"23.2",ua:"23.3",aQ:"23.4",RV:"23.5",if:"23.6",Dz:"30",lj:"31",Q8:"40",M7:"41",$P:"42"};
da.K5={};da.K5[da.hP]=["abr","brushes",an,[9,3]];da.K5[da.$v]=["grd","gradients",eY,[12,37]];da.K5[da.kI]=["shc","contours",f_,[12,21]];
da.K5[da.bL]=["asl","styles",jS,[12,22]];da.K5[da.AW]=["pat","patterns",aX,[12,62]];da.K5[da.Yp]=["csh","shapes",cR,[12,77]];
da.K5[da.c4]=["aco","swatches",hy,[9,8]];da.K5[da.M]=["atn","actions",gY,[9,9]];da.K5[da.Nu]=["tpl","tpresets",hM,[9,12]];
da.K5[da.jN]=["icc","profiles",jC,"ICCs"];function jv(D,n,_){if(_==null)_=!1;this.name=D;this.g=n;this.zx=_;
this.data=null;this.art=Date.now()}var cT={};cT.S0=function(D,n){var _={t:"Clss",v:{classID:D}};if(n)_={t:"Enmr",v:{classID:D,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[_]}};cT.sb=function(D,n){var _={classID:"Lyr"};_[D]=n;return{_L:"set",cR:{classID:"null",null:cT.S0("Lyr",!0),T:{t:"Objc",v:_}}}};
cT.aaO=function(D,n,_,b,w){var i=new ho(S.E.$W,!0),M=[],k=0,N=cT.Vp(n,_,b,M);while(M.length!=0){var a=M.pop();
k++;if(!a.R)continue;console.log(k-1);if(a._L=="conditional"){var o=D.b[D.w[0]],U=a.cR.null.v.Cndt,V=!1;
if(U=="Bckg")V=!1;else if(U=="Pxel"&&D.yP(!1))V=!0;else if(U=="Adjs"&&fg.get(o.add))V=!0;else if(U=="Shp"&&o.add.vogk)V=!0;
else if(U=="Grup"&&o.nR())V=!0;else if(U=="Opn"&&D!=null)V=!0;else if(U=="32Bt")V=!1;else if(U=="RGB")V=!0;
var c=a.cR.then,E=a.cR.else;if(V&&c)cT.Vp(n,c.v[0].v.val,c.v[1].v.val,M);if(!V&&E)cT.Vp(n,E.v[0].v.val,E.v[1].v.val,M)}else if(a._L=="stop"){if(a.cR.Cntn&&a.cR.Cntn.v==!0)window.confirm(a.cR.Msge.v);
else{alert(a.cR.Msge.v);break}}else if(a._L=="play"){var A=a.cR.null.v,Q=new ho(S.E.W,!0);Q.data={d:S.J.zp,Pr:[A[0].v.val,A[1].v.val]};
w.c(Q)}else{i.data={_L:a._L,cR:a.cR};w.c(i)}}};cT.Vp=function(D,n,_,b){var w;for(var k=0;k<D.length;
k++){if(D[k].Ln!=_)continue;var i=D[k].pj;for(var M=0;M<i.length;M++){if(i[M].Ln!=n)continue;w=i[M].pj}}var N=w.length;
for(var k=0;k<N;k++)b.push(w[N-1-k])};cT.a4Y=function(D){var n=D._L,_=D.cR,b,M,N,a,o;if(_&&_.null)b=_.null.v[0];
if(_&&b==null&&_.At)b=_.At.v[0];if(b&&b.t=="obj ")b=b.v[0];var w=b?b.v.classID:null,i=["purge"];if(i.indexOf(n)!=-1)return n[0].toUpperCase()+n.slice(1);
if(n=="GEfc")return fa.names[_.GEfk.v.GEft][1];o=fg.tG;for(M in o)if(o[M]==n)N=M;o=cq.tG;for(M in o)if(o[M]==n)a=M;
if(N){var U=fg.Mj(N,_);if(U!=-1)return[4,16,U];return fg.names[N]}if(a)return cq.names[a];var V=cT.jR;
if(n=="make"){if(b){if(w=="AdjL")return[6,1];else if(w=="layerSection")return _.From?[6,9]:[6,20];else if(w=="Lyr")return[6,13];
else if(w=="Chnl"&&b.v.enum=="Msk")return[6,2];else if(w=="contentLayer")return[6,48,1];else if(w=="BckL")return"Make Background Layer";
else if(w=="Path")return"Make Path";else if(w=="TxLr")return"Make Text Layer";else if(w=="slice")return"Make Slices"}if(_.Nw){w=_.Nw.v.classID;
if(w=="Dcmn")return[11,7];else if(w=="Chnl"||w=="SCch")return"New Channel"}}else if(n=="deselect"){if(w=="Path")return"Deselect current path";
else throw w}else if(n=="select"){if(w=="Chnl")return"Select "+(b.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(w=="Mn")return"Select Panel \""+b.v.enum+"\"";else if(w=="Lyr"){if(b.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[b.v.enum]+" Layer";
return"Select Layer \""+b.v.val+"\""}else if(w=="Path")return"Select Path";else if(w=="Brsh")return"Select Brush";
else if(w=="Dcmn")return"Select Document"}else if(V[n]&&w=="Chnl"){var c=b.v.keyID=="fsel";return V[n]+" "+(c?"Selection":"Channel")}else if(n=="set"){if(w=="Lyr")return"Set Current Layer";
else if(w=="AdjL")return[6,39];else if(w=="contentLayer")return[6,48,2];else if(w=="Prpr")return[11,6];
else if(w=="Clr")return"Set "+(b.v.keyID=="FrgC"?"Foreground":"Background")+" color";else if(w=="Brsh")return"Set Brush";
else console.log(w)}else if(n=="move"){if(w=="Lyr")return"Move Layer"}else if(n=="show"||n=="hide"){var E="";
if(w=="Lyr")+"Layer";if(w=="Chnl")+"Channel";return(n=="show"?"Show":"Hide")+" "+E}else if(n=="reset"){if(w=="Clr")return"Reset Colors"}else if(n=="exchange"){if(w=="Clr")return[22,7,0]}else if(n=="rotateEventEnum")return[2,5];
else if(n=="flip"){var A=_.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,A?2:3]]}if(w=="Chnl"){if(n=="duplicate"){if(b.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(n=="delete")return"Delete Channel"}if(n=="transform")return b&&b.v.keyID=="fsel"?[7,10]:[10,16];
var Q={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:_?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},J=Q[n];
if(J==null)J=cT.UK[n];if(J)return J;return n};cT.UK={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
cT.jR={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
cT.a83=function(D,n,_,b){var w=D._L,i=D.cR,M=new ho(S.E.M,!0),o,U,V,c,Q;M.g=G.vp;var N=new ho(S.E.W,!0),a=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(a.indexOf(w)!=-1)return;c=fg.tG;for(o in c)if(c[o]==w)U=o;c=cq.tG;for(o in c)if(c[o]==w)V=o;if(w=="fade")U=w;
if(w=="matchColor")U="matc";if(w=="applyImageEvent")U="aply";if(U){M.g=G._x;M.data={d:"start",IL:U,Ky:i}}else if(V){M.g=G.mg;
M.data={d:"start",lE:V,Ky:i}}else if(w=="GEfc"){M.g=G.mg;M.data={d:"start",lE:"GEfc",Ky:i}}else if(w=="imageSize"||w=="canvasSize"||w=="revealAll"||w=="trim"||w=="crop"){M.g=G.nk;
M.data={d:"fromAction",QV:D}}else if(w=="fill"||w=="stroke"||w=="delete"&&i==null){M.g=G.hP;M.data={d:"fromAction",QV:D}}else if(w=="colorRange"){M.g=G.xm;
M.data={d:"fromAction",QV:D}}else if(cT.UK[w]||cT.jR[w]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){M.g=G.xm;
M.data={d:"fromAction",QV:D}}var E={copyToLayer:q.R8,cutToLayer:q.rh,mergeLayersNew:b&&b.w.length==1?q.aF:q.lz,rasterizeLayer:q.VC,mergeVisible:q.fw,flattenImage:q.mE,newPlacedLayer:q.B8};
if(E[w])M.data={d:E[w],cR:i};if(M.data){n.c(M);return}if(w=="collapseAllGroupsEvent"){for(var k=0;k<b.b.length;
k++){var A=b.b[k];if(A.nR())A.add.lsct=f4.Aj}b.lP=!0;return}if(w=="desaturate"){M.g=G._x;M.data={d:"auto",TH:3};
if(b&&b.b[b.w[0]].add.SoLd==null)n.c(M);return}if(w=="close"){if(i.Svng.v.YsN=="Ys"){N.data={d:S.J.sh};
n.c(N)}N.data={d:S.J.a3,R1:b};n.c(N);return}if(w=="save"){N.data={d:S.J.sh};n.c(N);return}if(w=="copyMerged"){N.data={d:S.J.rL,iP:!0,lf:!0};
n.c(N);return}var E={placedLayerEditContents:S.J.akm,copyEvent:S.J.rL,paste:S.J.vl};if(E[w])N.data={d:E[w],lf:!0};
if(N.data){n.c(N);return}if(i.null||i.At)Q=(i.null?i.null:i.At).v;else Q=[{t:"----",v:i}];if(Q[0].t=="obj "){if(Q.length!=1)throw"e";
Q=Q[0].v}for(var J=0;J<Q.length;J++){var L=Q[J],P=L.v.classID;M.data=null;if(w=="make"){if(i.null==null&&i.Nw)P=i.Nw.v.classID;
if(P=="AdjL"){M.data={d:q.OX,cR:i}}else if(P=="layerSection"){M.data=i.From?{d:q.sc}:{d:q.dY};if(i.Usng){var u=i.Usng.v;
if(u.Nm)M.data.ap=u.Nm.v;if(u.Clr)M.data.GJ=cT.ft(u)}}else if(P=="Lyr"){if(i.Usng&&i.Usng.v.length==2)M.data={d:q.BK};
else{M.data={d:q.S6};if(i.Usng)M.data.ap=i.Usng.v.Nm.v;if(i.below&&i.below.v)M.data.adW=!0}}else if(P=="Chnl"&&L.v.enum=="Msk"){M.data={d:q.Ht,eF:i.Usng.v.UsrM}}else if(P=="Chnl"||P=="SCch"){M.data={d:q.SU,_c:"fromAction",k:D}}else if(P=="contentLayer"){M.data={d:q.jU,cR:i}}else if(P=="BckL"){b.b[b.w[0]].ati();
continue}else if(P=="Dcmn"){var m=i.Nw.v;N.data={d:S.J.gE,ly:ai.aiy(m,_)}}else if(P=="Ptrn")N.data={d:S.J.Sn,hy:0};
else if(P=="Path"){M.g=G.ND;M.data={d:"pathedit",_c:"fromsel"}}else if(P=="TxLr"){M.g=G.vu;M.data={d:"fromAction",QV:D}}else if(P=="slice"){M.g=G.hA;
M.data={d:"fromAction",QV:D}}else if(P=="SnpS"){continue}else{console.log(w,P,i);throw"e"}}else if(w=="deselect"){if(P=="Path"){b.QP=[];
b.lP=b.cF=!0;continue}else throw P}else if(w=="select"){var x={PcTl:G.GF,PbTl:G.hP,magicWandTool:G.O3};
if(P=="Lyr"){var v=i.selectionModifier,W=v?v.v.selectionModifierType:null,Z=cT.VJ(b,L);if(Z==-1){alert("Layer "+L.v.val+" does not exist.");
throw"e"}M.data={d:q.fW,i:Z,a7u:W?["addToSelection","addToSelectionContinuous"].indexOf(W):null,Iu:0,a9m:!0}}else if(P=="Path"){if(L.v.keyID=="WrPt"){b.QP=[0];
b.lP=b.cF=!0;continue}else throw L}else if(P=="Chnl"){M.data={d:q.fW,i:Z,Iu:1}}else if(P=="Dcmn"){if(n.RA.length<2)return;
N.data={d:S.J.a9F,dir:i.null.v[0].v.val}}else if(P=="Brsh"){var r=_.LF.list,X;for(var k=0;k<r.length;
k++){if(r[k].v.Nm.v==L.v.val)X=r[k].v}N.data={d:S.J.VS,hy:da.nQ,Gu:X}}else if(P=="Mn"){if(L.v.enum=="Scl")N.data={d:S.J.Ou,g:G.pr,Bl:{eF:3}};
if(L.v.enum=="Plce")N.data={d:S.J.YI,abH:!0};if(L.v.enum=="ZmIn"){M.g=G.TS;M.data={d:"zoom",JO:!0}}if(L.v.enum=="ZmOt"){M.g=G.TS;
M.data={d:"zoom",JO:!1}}if(L.v.enum=="FtOn"){M.g=G.TS;M.data={d:"adapt",k:"fitscr"}}}else if(x[P]){N.data={d:S.J.Ou,g:x[P]}}else throw P}else if((w=="set"||w=="reset"||w=="exchange")&&P=="Clr"){N.data={d:S.J.VS,hy:da.dJ,_c:w=="reset"?3:2};
if(w=="set"){N.data._c=L.v.keyID=="FrgC"?0:1;var $=B.X.kj(i.T.v);N.data.k=$.p<<16|$.z<<8|$.S}}else if(w=="set"){if(P=="AdjL"){var I=i.T.v.classID;
I=fg.rQ[I];M.g=G._x;if(I)M.data={d:"edit_layer",k:i.T.v}}else if(P=="Lyr"){var T=i.T.v,Z=cT.VJ(b,L);
if(T.Nm)M.data={d:q.YQ,name:T.Nm.v};else if(T.Opct)M.data={d:q.hs,ub:Math.round(T.Opct.v.val*255/100)};
else if(T.fillOpacity)M.data={d:q.bZ,ub:Math.round(T.fillOpacity.v.val*255/100)};else if(T.Md)M.data={d:q.fH,ub:jz.t7.indexOf(T.Md.v.BlnM)+(b.b[Z].nR()?1:0)};
else if(T.Usrs)M.data={d:q.Fh,i:Z};else if(T.Blnd){M.g=G.EB;M.data={d:"setstl",i:Z,k:{blendOptions:{t:"objc",v:T}}};
n.c(M);M.data={d:"confirm",i:Z}}else if(T.userMaskFeather||T.userMaskDensity){var e=T.userMaskFeather,F=T.userMaskDensity;
M.g=G.vp;var Z=b.w[0],y=b.b[Z].je(0);if(e)y.Mk=e.v.val;if(F)y.MW=F.v.val;M.data={d:q.Gc,_v:Z,Ga:y}}else if(T.Clr){var h=cT.ft(T);
M.data={d:q.GO,a4H:h}}else if(Q[0].t=="prop")continue;else{console.log(i);throw"e"}var A=b.b[Z];A.ajv()}else if(P=="Prpr"){var T=JSON.parse(JSON.stringify(i.T.v));
if(L.v.keyID=="TxtS"){var Z=cT.VJ(b,i.null.v[1]),A=b.b[Z],K=A.add.TySh,z=JSON.parse(JSON.stringify(K.uP)),f=jg.kb(z),s=jg.np(z,0,f.length-2);
if(T.Undl&&T.Undl.v.Undl=="underlineOnLeftInVertical")s.OT.Underline=!0;jg.Ka(z,0,f.length-1,s);M.g=G.vu;
M.data={d:"newED",Ab:Z,KE:z};J=1e9}else{for(var l in T)if(T[l].v){if(l=="Scl")T[l].v.val=100;if(T[l].v.TrnS&&T[l].v.TrnS.v.Crv==null){T[l].v.TrnS=JSON.parse(ci.D6[9]).TrnS}}cL.cH(T);
if(T.masterFXSwitch==null)T.masterFXSwitch={t:"bool",v:!0};var Z=cT.VJ(b,i.null.v[1]);M.g=G.EB;M.data={d:"setstl",i:Z,k:{Lefx:{t:"objc",v:T}}};
n.c(M);M.data={d:"confirm",i:Z}}}else if(P=="contentLayer"){var Z=cT.VJ(b,L),T=i.T.v;if(T.classID=="shapeStyle")T=T.FlCn.v;
var g={solidColorLayer:0,gradientLayer:1,patternLayer:2}[T.classID],H=G.kG.Nz(b,Z),V=H.p5==g+1?H.Jh:ci.HL[g];
V=JSON.parse(JSON.stringify(V));G.oM.H0(T,V,g);M.data={d:q.rb,n8:[Z],eQ:!0,k:{p5:g+1,Jh:V}}}else if(P=="Brsh"){var X=JSON.parse(JSON.stringify(_.LF.fd)),O=i.T.v;
if(O.masterDiameter)X.Brsh.v.Dmtr.v.val=O.masterDiameter.v.val;else console.log("unknown brush parameters");
N.data={d:S.J.VS,hy:da.nQ,Gu:X}}else{console.log(L,i);throw P}}else if(w=="move"){if(P=="Lyr"){var T=i.T.v;
if(T.classID=="Ofst"){M.data={d:"trsl",uR:T.Hrzn.v.val,NN:T.Vrtc.v.val};M.g=G.GZ}else{var C,ib;if(T[0].t=="Enmr"){if(T[0].v.enum=="Frnt")ib=0;
else if(T[0].v.enum=="Nxt")ib=1;else if(T[0].v.enum=="Prvs")ib=2;else if(T[0].v.enum=="Back")ib=3;else throw"e"}else C=T[0].v.val;
M.data={d:q.I9,target:C,_c:ib,afK:i.Dplc?i.Dplc.v:!1}}}}else if(w=="groupEvent"||w=="ungroup")M.data={d:q.gV};
else if(w=="show"||w=="hide"){if(P=="Lyr"){var Z=cT.VJ(b,L);if(Z==-1)continue;var hH=b.b[Z].h$();if(w=="show"&&hH||w=="hide"&&!hH)continue;
M.data={d:q.Y9,i:Z}}else if(P=="Chnl"){M.data={d:q.SU,_c:"fromAction",k:D}}else if(P=="filterFX"){if(L.v.val!=null)M.data={d:q.eK,index:L.v.val-1};
M.data={d:q.XO};Q=[Q[0]]}}else if(w=="rotateEventEnum"){M.g=G.nk;var R=i.Angl.v.val;M.data={d:"rot",Ln:[2,5],k:-R*Math.PI/180}}else if(w=="flip"){M.g=G.nk;
var fR=i.Axis.v.Ornt=="Hrzn",j4=fR?new gZ(-1,1):new gZ(1,-1);M.data={d:"scl",Ln:[[2,6],[22,4,fR?2:3]],k:j4}}else if(w=="transform"){var cP=1,a8=1,d0=0,b9=0,jG=0,jP=0,aq=0;
if(i.Wdth)cP=i.Wdth.v.val/100;if(i.Hght)a8=i.Hght.v.val/100;if(i.Skew){var gM=i.Skew.v;d0=gM.Hrzn.v.val;
b9=gM.Vrtc.v.val}if(i.Ofst){var gv=i.Ofst.v;jP=gv.Hrzn.v.val;aq=gv.Vrtc.v.val}if(i.Angl)jG=i.Angl.v.val;
var dT=new e3;dT.concat(new e3(cP,cP*Math.tan(b9*Math.PI/180),a8*Math.tan(d0*Math.PI/180),a8,0,0));dT.rotate(-jG*Math.PI/180);
dT.translate(jP,aq);var aC={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[i.FTcs.v.QCSt];
if(aC==null)throw i.FTcs.v.QCSt;var L=i.null;if(L&&L.v instanceof Array)L=L.v[0];var Z=L?cT.VJ(b,L):null;
if(Z==-1)Z=null;M.g=L&&L.v.keyID=="fsel"?G.c1:G.pr;M.data={d:"mat",ui:aC,k:dT}}else if(P=="Chnl"){M.data={d:q.SU,_c:"fromAction",k:D}}else if(w=="duplicate")M.data={d:q.Jm,ap:i.Nm?i.Nm.v:null};
else if(w=="delete"){if(P=="filterFX"){if(L.v.val!=null)M.data={d:q.qH,Vt:L.v.val-1};else M.data={d:q.x$}}else M.data={d:q.h0};
Q=[Q[0]]}else if(w=="align"){if(i.Aply&&i.Aply.v.projection=="Auto"){M.g=G.nk;M.data={d:"auto-align"}}else{M.g=G.GZ;
var c1=i.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[c1];if(U==null)throw c1;M.data={d:"algn",k:U}}}else if(w=="applyLocking"){var aj=i.layerLocking.v,bD;
if(aj.protectTransparency)bD=[[aj.protectTransparency.v],[0]];else if(aj.protectNone)bD=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(aj);throw"e"}M.data={d:q.Y8,ub:bD}}if(M.data)n.c(M);else if(N.data)n.c(N);else{console.log(D);
alert("Unknown action \""+w+"\"");throw"e"}}};cT.ft=function(D){var n={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[D.Clr.v.Clr];
if(n==null)throw D.Clr.v.Clr;return n};cT.VJ=function(D,n){var _=1e6,b=0;for(var k=0;k<D.w.length;k++){_=Math.min(_,D.w[k]);
b=Math.max(b,D.w[k])}var w=n.t,i=-1;if(w=="name"){var M=n.v.val,i=-1;for(var k=0;k<D.b.length;k++)if(D.b[k].getName()==M){i=k;
break}}if(w=="Enmr"&&D.w.length!=0)i=D.w[0];if(w=="Enmr"&&n.v.enum=="Frwr")i=b+1;if(w=="Enmr"&&n.v.enum=="Bckw")i=_-1;
if(w=="prop"){if(n.v.keyID=="Bckg")i=0}return i};var fg={};fg.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
fg.pE=["expA","clrL","selc"];fg.cr=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];fg.aqo=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
fg.Ay=[[13,1,1],[13,1,4],[13,1,5]];fg.ic={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
fg.rQ=function(){var D=JSON.parse(JSON.stringify(fg.ic));delete D.GrMp;D.GdMp="grdm";return D}();fg.tG={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
fg.keys={levl:[dz.uH,dz.ue],curv:[dz.uH,dz.r0],hue2:[dz.uH,dz.l7],nvrt:[dz.uH,dz.g_],blnc:[dz.uH,dz.zb]};
fg.KR=function(D){var n=cq.D2("mixr");n.Mnch={t:"bool",v:D.YH};function _(b,k){var w={classID:"ChMx"},i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var M in i)w[M]={t:"UntF",v:{type:"#Prc",val:b[k+i[M]]}};return{t:"Objc",v:w}}if(D.YH)n.Gry=_(D.k,0);
else{n.Rd=_(D.k,0);n.Grn=_(D.k,5);n.Bl=_(D.k,10)}return n};fg.Ip=function(D){function n(b,w,k){var i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var M in i)if(b[M])w[k+i[M]]=b[M].v.val}var _={YH:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(D.Mnch&&D.Mnch.v)_.YH=!0;if(_.YH)n(D.Gry.v,_.k,0);else{n(D.Rd.v,_.k,0);n(D.Grn.v,_.k,5);n(D.Bl.v,_.k,10)}return _};
fg.get=function(D){for(var n in fg.names)if(D[n]!=null)return n;return null};fg.pG=function(D,n){var _=fg.zB,b;
if(D=="brit"){var w=n.Brgh?n.Brgh.v:0,i=n.Cntr?n.Cntr.v:0,M=n.useLegacy?n.useLegacy.v:!1;if(M){var N=w/255,a=1+i/100;
if(a>1)a=1+Math.tan(Math.PI/2*i/101);var o=(1-a)/2,U=B.dl.rC(N,N,N),V=[a,0,0,o,0,a,0,o,0,0,a,o,0,0,0,1],c=B.dl.multiply(U,V),E=new B.YV(256);
for(var k=0;k<256;k++)E.p[k]=k;B.dl.transform(E,E,c);b={type:_.bS,Lo:E.p,aM:E.p,BS:E.p,hj:!1,jq:!1}}else{var A=1024,Q=-30+60*(i+100)/200,J=[];
for(var k=0;k<4;k++)J.push(B.O1.YE(k/3*255,k/3*255,!0));J[1].v.Hrzn.v=64;J[1].v.Vrtc.v=64-Q;J[2].v.Hrzn.v=128+64;
J[2].v.Vrtc.v=128+64+Q;J.sort(function(cO,iG){return cO.v.Hrzn.v-iG.v.Hrzn.v});var L=B.O1.R5(J,A);function P(cO,A){var J=[],cQ=3;
for(var k=0;k<cQ+1;k++)J.push(B.O1.YE(k/cQ*255,k/cQ*255,!0));J[1].v.Hrzn.v=130-cO*26;J[1].v.Vrtc.v=130+cO*51;
J[2].v.Hrzn.v=233-cO*48;J[2].v.Vrtc.v=233+cO*10;return B.O1.R5(J,A)}var u=P(Math.abs(w)/100,A);if(w<0){var m=[],x=1/A;
for(var k=0;k<A;k++){var v=k*x,W=k;while(u[W]>v&&W>1)W--;m[k]=W*x}u=m}var Z=new Uint8Array(A);for(var k=0;
k<A;k++){var r=Math.round((A-1)*u[k]);Z[k]=Math.round(255*L[r])}b={type:_.bS,Lo:Z,aM:Z,BS:Z,hj:!1,jq:!1}}}if(D=="levl"){var X=[],$,I,U,T,e,F;
for(var k=0;k<4;k++)X.push(jA.tg(n,k));$=-X[0][0]/255;I=1/(X[0][1]/255-X[0][0]/255);U=B.dl.multiply(B.dl.VO(I,I,I),B.dl.rC($,$,$));
T=B.dl.VO(1/(X[1][1]/255-X[1][0]/255),1/(X[2][1]/255-X[2][0]/255),1/(X[3][1]/255-X[3][0]/255));e=B.dl.rC(-X[1][0]/255,-X[2][0]/255,-X[3][0]/255);
F=B.dl.multiply(T,e);var Z=new B.YV(256);for(var k=0;k<256;k++)Z.p[k]=Z.z[k]=Z.S[k]=k;var y=1/(X[0][4]/100),h=1/(X[1][4]/100),Y=1/(X[2][4]/100),K=1/(X[3][4]/100);
B.dl.transform(Z,Z,F);for(var k=0;k<256;k++){Z.p[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.p[k]/255,h))));
Z.z[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.z[k]/255,Y))));Z.S[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.S[k]/255,K))))}B.dl.transform(Z,Z,U);
for(var k=0;k<256;k++){Z.p[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.p[k]/255,y))));Z.z[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.z[k]/255,y))));
Z.S[k]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Z.S[k]/255,y))))}$=X[0][2]/255;I=X[0][3]/255-X[0][2]/255;
U=B.dl.multiply(B.dl.rC($,$,$),B.dl.VO(I,I,I));T=B.dl.VO(X[1][3]/255-X[1][2]/255,X[2][3]/255-X[2][2]/255,X[3][3]/255-X[3][2]/255);
e=B.dl.rC(X[1][2]/255,X[2][2]/255,X[3][2]/255);F=B.dl.multiply(e,T);B.dl.transform(Z,Z,B.dl.multiply(U,F));
b={type:_.bS,Lo:Z.p,aM:Z.z,BS:Z.S,hj:!1,jq:!1}}if(D=="curv"){var z=jx.tg(n,0).length==256?1:0,f=[];if(z==0){var s=B.O1.i8(jx.tg(n,0),256);
for(var k=1;k<4;k++){var l=B.O1.i8(jx.tg(n,k),256);f.push(B.O1.DQ(l,s))}}else{var g=[];for(var k=0;k<4;
k++){var H=new Uint8Array(256);g.push(H);var O=jx.tg(n,k);for(var W=0;W<256;W++)H[W]=O[W]}for(var k=1;
k<4;k++)f.push(B.O1.DQ(g[k],g[0]))}b={type:_.bS,Lo:f[0],aM:f[1],BS:f[2],hj:!1,jq:!1}}if(D=="expA"){var C=n.Exps,ib=n.Ofst,hH=n.gammaCorrection,R=C?C.v:0,fR=ib?ib.v:0,j4=hH?hH.v:1,Z=new Uint8Array(256);
for(var k=0;k<256;k++){var n=k/255,cP=Math.pow(Math.abs(fR),1/(Math.PI/2));if(fR>0){n=Math.max(fR/Math.E,n);
n=n*Math.exp(fR/1.75+R/Math.PI);n=(1-cP)*n+cP*1}else{n=n*Math.exp(-fR*1.75+R/Math.PI);n=n+-cP*1.14}n=Math.pow(n,1/j4);
n=Math.max(0,Math.min(1,n));Z[k]=Math.round(n*255)}b={type:_.bS,Lo:Z,aM:Z,BS:Z,hj:!1,jq:!1}}if(D=="vibA"){var a8=(n.vibrance?n.vibrance.v:0)/100,d0=(n.Strt?n.Strt.v:0)/100,cP=1+a8*(a8>0?.25:.5),b9=.8+.2/cP;
b={type:_.y7,hy:[a8,d0,b9,cP]}}if(D=="hue2"){var jG=[],jP=[],aq=[],gM=n.Clrz?n.Clrz.v:!1;for(var k=0;
k<256;k++){jG[k]=k/255;jP[k]=0;aq[k]=0}var gv=bE.tg(n,0),dT=fg.jD(gv[1]/100);if(gM){var aC=gv[0]/360;
for(var k=0;k<256;k++){jG[k]=aC;jP[k]=dT}}else{for(var k=0;k<256;k++){var c1=jG[k],aj=jP[k];jG[k]+=gv[0]/360;
for(var W=0;W<6;W++){var bD=bE.tg(n,W+1),cy=bD.N5,co=bD._f,cP=0;for(var hV=1;hV<4;hV++)if(co[hV]<co[0])co[hV]+=360;
var il=co[0],h6=co[1],c8=co[2],fx=co[3],bU=c1*360;if(bU<co[0])bU+=360;var b6=(bU-il)/(h6-il),iF=(bU-c8)/(fx-c8);
if(b6<0)cP=0;else if(b6<1)cP=b6;else if(iF<0)cP=1;else if(iF<1)cP=1-iF;else cP=0;var a=fg.jD(cy[1]/100);
jG[k]+=cP*cy[0]/360;jP[k]+=cP*a;aq[k]+=cP*cy[2]/100}}for(var k=0;k<256;k++){jP[k]=(1+jP[k])*(1+dT)-1;
aq[k]=Math.max(-1,Math.min(1,aq[k]))}}var dY=new Uint8Array(256),bl=new Uint8Array(256),dc=new Uint8Array(256);
for(var k=0;k<256;k++){var hN=jG[k],d0=jP[k],ga=aq[k];if(hN>1)hN--;if(hN<0)hN++;d0=fg.aeh(d0);d0=(1+d0)*.5;
ga=(1+ga)*.5;dY[k]=Math.round(255*hN);bl[k]=Math.round(255*d0);dc[k]=Math.round(255*ga)}var b1=gv[2]/100,fc=b1<0?-b1:b1,h9=b1<0?0:1;
b={type:_.cn,a7j:dY,nj:bl,aad:dc,a1b:fc*h9,r9:1-fc,aux:gv[2]/100,aqK:gM?1:0}}if(D=="nvrt"){var Z=new Uint8Array(256);
for(var k=0;k<256;k++)Z[k]=255-k;b={type:_.bS,Lo:Z,aM:Z,BS:Z,hj:!1,jq:!1}}if(D=="post"){var cB=n.Lvls.v,Z=new Uint8Array(256),cP=cB/255.001,bp=255/(cB-1);
for(var k=0;k<256;k++)Z[k]=Math.floor(k*cP)*bp;b={type:_.bS,Lo:Z,aM:Z,BS:Z,hj:!1,jq:!1}}if(D=="grdm"){var eK=n.Grad.v,fm=n.Rvrs,A=1024,fG;
if(eK.Clrs){var ia=B.X.lr(eK.Clrs.v,0,0);fG=B.X.fG(eK,ia,A,fm?fm.v:!1)}else{fG=B.X.Ju(eK,A,fm?fm.v:!1)}var iz=B.U(A),gG=B.U(A),eA=B.U(A);
B.Ef(fG,iz,0);B.Ef(fG,gG,1);B.Ef(fG,eA,2);b={type:_.bS,Lo:iz,aM:gG,BS:eA,hj:!0,jq:!1}}if(D=="selc"){var d3=new Float32Array(9*3*2),cY=n.oJ,ch=n.Mthd?n.Mthd.v.CrcM=="Absl":!1;
for(var W=0;W<9;W++){var fS=W*6,fy=c$.tg(n,W),ar=fy[0]/100,aM=fy[1]/100,aU=fy[2]/100,f0=fy[3]/100;if(ch){d3[fS]=d3[fS+1]=d3[fS+2]=1;
d3[fS+3]=ar*(1+f0)+f0;d3[fS+4]=aM*(1+f0)+f0;d3[fS+5]=aU*(1+f0)+f0}else{d3[fS+0]=(1+ar)*(1+f0);d3[fS+1]=(1+aM)*(1+f0);
d3[fS+2]=(1+aU)*(1+f0)}}b={type:_.PO,a1A:d3}}if(D=="blwh"){var eV="Rd Yllw Grn Cyn Bl Mgnt".split(" "),b=[],cr=0,h5=0;
for(var k=0;k<6;k++)b.push(n[eV[k]].v);b.push(n.useTint.v,n.tintColor.v);var ex=[];for(var k=0;k<6;k++)ex.push((b[k]-50)/50);
var gx=B.X.kj(b[7]);gx.p/=255;gx.z/=255;gx.S/=255;var c_=B.CS(gx.p,gx.z,gx.S),ga=B.M9(B.jz(c_.Rw,1,.5)),iS=c_.cg*c_.Ky;
if(ga==.5)cr=h5=.5;else{cr=iS*(.5-ga)/(.5/ga-1);h5=1-iS*(.5-ga)-1/(2*(1-ga));h5/=1-1/(2*(1-ga))}b={type:_.WU,a5R:ex,zd:b[6]?1:0,aon:c_.Rw,M9:ga,ab4:iS,yH:cr,acE:h5}}if(D=="blnc"){var X=[],fW=["ShdL","MdtL","HghL"];
for(var k=0;k<3;k++){if(n[fW[k]]==null){X[k]=[0,0,0];continue}var cB=n[fW[k]].v,cs=cB[0].v/100,eS=cB[1].v/100,a$=cB[2].v/100,a6=n.PrsL==null||n.PrsL.v?(Math.min(cs,eS,a$)+Math.max(cs,eS,a$))/2:0;
X[k]=[cs-a6,eS-a6,a$-a6]}var f=[B.U(256),B.U(256),B.U(256)];for(var W=0;W<3;W++)for(var k=0;k<256;k++){var v=k*(1/255),gw=0,Q=0,bO=0;
Q=X[2][W];bO=Math.abs(Q);if(Q<0)gw=Math.pow(v,Math.SQRT2);else gw=1.63*(Math.pow(v+.04,.5)-.2);v=bO*gw+(1-bO)*v;
Q=X[1][W];bO=Math.abs(Q);if(Q<0)gw=Math.pow(v,2);else gw=Math.min(2.35*(Math.pow(v+.09,.5)-.3),Math.pow(v,1/2));
v=bO*gw+(1-bO)*v;Q=X[0][W];bO=Math.abs(Q);if(Q<0)gw=v<.4?0:Math.pow((v-.4)/.6,Math.SQRT2);else gw=Math.pow(v,Math.SQRT2/2);
v=bO*gw+(1-bO)*v;v=Math.max(0,Math.min(1,v));f[W][k]=Math.round(v*255)}b={type:_.bS,Lo:f[0],aM:f[1],BS:f[2],hj:!1,jq:!1}}if(D=="phfl"){var ak=B.X.kj(n.Clr.v),br=[ak.p/255,ak.z/255,ak.S/255],iZ=n.Dnst.v/100,f=[B.U(256),B.U(256),B.U(256)];
for(var W=0;W<3;W++)for(var k=0;k<256;k++){var v=k*(1/255),cU=v*br[W];cU=Math.max(0,Math.min(1,cU));
v=iZ*cU+(1-iZ)*v;f[W][k]=Math.round(v*255)}b={type:_.bS,Lo:f[0],aM:f[1],BS:f[2],hj:!1,jq:n.PrsL.v}}if(D=="thrs"){var Z=B.U(256);
for(var k=n.Lvl.v;k<256;k++)Z[k]=255;b={type:_.bS,Lo:Z,aM:Z,BS:Z,hj:!0,jq:!1}}if(D=="mixr"){var b3=fg.Ip(n),c=[];
for(var k=0;k<b3.k.length;k++)if(k%5!=3)c.push(b3.k[k]/100);if(b3.YH){for(var au=1;au<3;au++)for(var v=0;
v<4;v++)c[au*4+v]=c[v]}b={type:_.ep,Ox:c}}if(D=="rplc"){var ef=n.Mnm.v,jj=n.Mxm.v;b={type:_.I5,ov:[ef.Lmnc.v,ef.A.v,ef.B.v],$k:[jj.Lmnc.v,jj.A.v,jj.B.v],shift:[n.H.v/360,n.Strt.v/100,n.Lght.v/100],TT:n.Fzns.v/150}}if(D=="clrL"&&n.profile){var gz=new Uint8Array(n.profile.v),hs=ICC.R(gz.buffer),hi=[],jp=17,hi=ICC.U.sampleLUT(hs,jp);
b={type:_.oW,j3:ICC.U.rgba8LUT(hi,jp),a7$:hi,wg:jp}}return b};fg.Mj=function(D,n){var _=-1;if(D!="levl"||n==null)_=-1;
else if(n.Auto)_=0;else if(n.AuCo)_=1;else if(n.autoBlackWhite)_=2;return _};fg.zB={bS:0,cn:1,y7:2,PO:3,WU:4,ep:5,I5:6,oW:7};
fg.jD=function(D){if(D<0)return D;return Math.pow(Math.tan(Math.PI/2*D),1.3)};fg.aeh=function(D){if(D<0)return D;
D=Math.pow(D,1/1.3);return Math.atan2(D,1)/(Math.PI/2)};fg.pe=function(D,n,_,b){var w=fg.zB,i=Date.now();
if(p.b$&&b.u()>300*300&&D.type!=w.bS&&D.type!=w.oW){b=b.clone();b.x=b.y=0;var M=p.rD(0,b.l,b.e);M.set(n);
p.pv(M,b);M.WN(b);fg.UG(D,M.QG,b);M.get(_);return}if(D.type==w.oW){var N=D.a7$,a=D.wg;ICC.U.applyLUT(N,a,n,_);
var o=n.length;for(var k=0;k<o;k+=4)_[k+3]=n[k+3]}if(D.type==w.ep)B.dl.g8(n,_,D.Ox);if(D.type==w.WU){var U=D.ab4,V=D.M9,c=D.yH,E=D.acE,o=n.length;
for(var k=0;k<o;k+=4){var b=n[k]*(1/255),A=n[k+1]*(1/255),Q=n[k+2]*(1/255),J=B._U(b,A,Q),L=0;for(var P=0;
P<6;P++)L+=Math.min(1,1.7*(1-J.kL))*J.cg*D.a5R[P]*fg.rU(J.Rw,P*(1/6));var u=Math.max(0,Math.min(1,J.kL*(1+L)));
if(D.zd==1){var m=0;if(u<c)m=u*(.5/V);else if(u<E)m=u+U*(.5-V);else m=1-(1-u)*.5/(1-V);J.Rw=D.aon;J.cg=Math.min(1,U+3*U*Math.abs(u-.5*(c+E)));
J.kL=m}else{J.Rw=0;J.cg=0;J.kL=u}var x=B.jz(J.Rw,J.cg,J.kL);_[k]=Math.round(x.p*255);_[k+1]=Math.round(x.z*255);
_[k+2]=Math.round(x.S*255)}}if(D.type==w.PO){var v=D.a1A,o=n.length,W=1/255;for(var k=0;k<o;k+=4){var b=n[k]*W,A=n[k+1]*W,Q=n[k+2]*W,J=B._U(b,A,Q),Z=Math.max(b,Math.max(A,Q)),r=Math.min(b,Math.min(A,Q)),X=1-b,$=1-A,I=1-Q,T=0,e=0,F=0;
for(var P=0;P<9;P++){var y=P*6,z=0;if(v[y]==1&&v[y+1]==1&&v[y+2]==1&&v[y+3]==0&&v[y+4]==0&&v[y+5]==0)continue;
var h=X*v[y]+v[y+3],Y=$*v[y+1]+v[y+4],K=I*v[y+2]+v[y+5];if(P<6)z=fg.rU(J.Rw,P*(1/6))*J.cg*2*Math.min(J.kL,1-J.kL);
else if(P==6)z=Math.max(0,r-.5)*2;else if(P==7)z=1-(Math.abs(Z-.5)+Math.abs(r-.5));else z=Math.max(0,.5-Z)*2;
T+=(Math.max(0,Math.min(1,h))-X)*z;e+=(Math.max(0,Math.min(1,Y))-$)*z;F+=(Math.max(0,Math.min(1,K))-I)*z}X=Math.max(0,Math.min(1,X+T));
$=Math.max(0,Math.min(1,$+e));I=Math.max(0,Math.min(1,I+F));b=1-X;A=1-$;Q=1-I;_[k]=Math.round(b*255);
_[k+1]=Math.round(A*255);_[k+2]=Math.round(Q*255)}}if(D.type==w.bS){B.ant(n,_,D.Lo,D.aM,D.BS,D.hj,D.jq)}if(D.type==w.cn){var f=new Uint32Array(n.buffer),s=new Uint32Array(_.buffer),o=f.length;
if(fg.ul==null){fg.ul=new Float64Array(256);for(var k=0;k<256;k++)fg.ul[k]=fg.jD(-1+2*k/255)}var l=fg.ul;
for(var k=0;k<o;k++){var g=f[k],b=(g&255)*(1/255),A=(g>>>8&255)*(1/255),Q=(g>>>16&255)*(1/255),H=g>>>24,O=Math.min(b,A,Q),C=Math.max(b,A,Q),ib=0,hH=0,R=0;
ib=B._U(b,A,Q).Rw;var fR=~~(ib*255+.5),j4=D.a7j[fR]*(1/255),cP=D.nj[fR]*(1/255)*2-1,a8=D.aad[fR]*(1/255)*2-1,L=-a8,d0=O;
if(0<a8){L=a8;d0=C}var b9=D.a1b+D.r9*L*d0,jG=D.r9*(1-L);b=b9+jG*b;A=b9+jG*A;Q=b9+jG*Q;C=Math.max(b,A,Q);
O=Math.min(b,A,Q);R=(C+O)*.5;if(C!=O){var jP=C-O;hH=R>.5?jP/(2-(C+O)):jP/(C+O)}var aq=cP;if(D.aqK==0){cP=l[Math.floor((1+cP)*127.5)];
aq=Math.min(hH*(1+cP),1)}var x=B.jz(j4,aq,R);b=x.p;A=x.z;Q=x.S;s[k]=H<<24|Q*255<<16|A*255<<8|b*255}}if(D.type==w.I5){B.nb(n,_);
var f=new Uint32Array(n.buffer),s=new Uint32Array(_.buffer),o=f.length,gM=D.TT,gv=1/gM,dT={ue:D.ov[0],vd:D.ov[1],S:D.ov[2]},aC={ue:D.$k[0],vd:D.$k[1],S:D.$k[2]};
for(var k=0;k<o;k++){var g=f[k],c1=g&255,aj=g>>>8&255,bD=g>>>16&255,b=c1*(1/255),A=aj*(1/255),Q=bD*(1/255),H=g>>>24,cy=B.aS(c1,aj,bD),co=B.xG(cy,dT,aC,gM,gv);
if(co==0)continue;var J=B._U(b,A,Q),j4=2+J.Rw+D.shift[0];J.Rw=j4-~~j4;J.cg=Math.max(0,Math.min(1,J.cg+D.shift[1]));
J.kL=Math.max(0,Math.min(1,J.kL+D.shift[2]));var x=B.jz(J.Rw,J.cg,J.kL);b=(1-co)*b+co*x.p;A=(1-co)*A+co*x.z;
Q=(1-co)*Q+co*x.S;s[k]=H<<24|Q*255<<16|A*255<<8|b*255}}if(D.type==w.y7){var f=new Uint32Array(n.buffer),s=new Uint32Array(_.buffer),o=f.length,hV=D.hy[0],il=D.hy[1],h6=D.hy[2],L=D.hy[3],c8=B.dl.kO([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),fx=B.dl.ei(c8),bU=2.4;
console.log(fx);function a(dc){return Math.max(0,Math.min(1,dc))}function b6(dc){return Math.pow(dc,bU)}function iF(dc){return Math.pow(dc,1/bU)}function dY(b,A,Q,dc){b=b6(b);
A=b6(A);Q=b6(Q);var hN=B.dl.$F(c8,[b,A,Q,1]);hN[0]*=h6;hN[1]*=L;hN[2]*=L;var x=B.dl.$F(fx,hN);x[0]=iF(a(x[0]));
x[1]=iF(a(x[1]));x[2]=iF(a(x[2]));return x}for(var k=0;k<o;k++){var g=f[k],b=(g&255)*(1/255),A=(g>>>8&255)*(1/255),Q=(g>>>16&255)*(1/255),H=g>>>24,x=dY(b,A,Q,hV);
b=x[0];A=x[1];Q=x[2];var bl=B._U(b,A,Q);bl.cg=Math.max(0,Math.min(1,bl.cg*(1+il)));x=B.jz(bl.Rw,bl.cg,bl.kL);
b=x.p;A=x.z;Q=x.S;s[k]=H<<24|Q*255<<16|A*255<<8|b*255}}};fg.UG=function(D,n,_){p.IL.UG(D,n)};fg.rU=function(D,n){var _=B.LL(n,D)*6;
return Math.max(0,Math.min(1,_<0?1+_:1-_))};var cq={};cq.VM=function(D){var n=D.filterID.v;return n>16777215?j.ajy(n):D.Fltr.v.classID};
cq.y8=[{Jh:"GEfc"},{Jh:"LnCr"},{Jh:"LqFy",Mb:!0},{JP:"3D",h8:["lightFilterGradient"]},{JP:[24,2],h8:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{JP:[24,4],h8:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{JP:[24,6],h8:["AdNs","Dspc","DstS","Mdn ","denoise"]},{JP:[24,8],h8:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{JP:[24,10],h8:["Flam","Clds","DfrC","Fbrs","LnsF"]},{JP:[24,12],h8:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{JP:[24,14],h8:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{JP:[24,16],h8:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{JP:"Fourier",h8:["dDFT","iDFT"]}];
cq.tG={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
cq.Ym={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
cq.K={rigidTransform:G.vN};cq.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
cq.D2=function(D){var n=null;if(D=="GEfc")n={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:fa.D2("GlwE")}]}};
if(D=="LqFy"){var _={Wj:5,Rw:5,map:new Float32Array(5*5*2)},b=new Uint8Array(iO.dK(_)),w=[];for(var k=0;
k<b.length;k++)w.push(b[k]);n={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:w}}}if(D=="rigidTransform"){n={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(D=="LnCr")n={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(D=="adaptCorrect")n={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(D=="Dfs ")n={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(D=="Fbrs")n={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(D=="Embs")n={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(D=="oilPaint")n={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(D=="TrcC")n={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(D=="Wnd ")n={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(D=="lightFilterGradient")n={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(D=="boxblur")n={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(D=="GsnB")n={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(D=="Bokh")n={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(D=="MtnB")n={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(D=="RdlB")n={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(D=="surfaceBlur")n={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(D=="denoise")n={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(D=="Dspl")n={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(D=="Pnch")n={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(D=="Plr ")n={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(D=="Rple")n={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(D=="Shr ")n={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(D=="Sphr")n={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(D=="Twrl")n={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(D=="Wave")n={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(D=="ZgZg")n={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(D=="AdNs")n={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(D=="DstS")n={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(D=="Mdn ")n={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(D=="ClrH")n={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(D=="Crst")n={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(D=="Mztn")n={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(D=="Msc ")n={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(D=="Pntl")n={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(D=="LnsF")n={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(D=="Dthr")n={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(D=="Adobe Camera Raw Filter")n={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(D=="smartSharpen")n={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(D=="UnsM")n={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(D=="HghP")n={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(D=="HsbP")n={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(D=="Mxm ")n={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(D=="Mnm ")n={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(D=="Ofst")n={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(D=="Rept")n={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(D=="Flam")n={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(D=="Ctoa")n={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(D=="brit")n={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(D=="levl")n={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(D=="curv")n={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(D=="expA")n={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(D=="vibA")n={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(D=="hue2")n={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(D=="blnc")n={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(D=="blwh")n={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(D=="phfl")n={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(D=="grdm")n={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(ci.D6[6]).Grad};
if(D=="selc")n={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(D=="thrs")n={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(D=="mixr")n={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(D=="clrL")n={__name:"Color Lookup",classID:"colorLookup"};if(D=="post")n={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(D=="rplc")n={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(D=="fade")n={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(D=="aply")n={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(D=="matc"){n={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(D=="blendOptions")n={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return n};cq.R2={sFlam:function(D,n){n[0]=D.Type.v;n[1]=D.Leng.v;n[2]=D.RndL.v;n[3]=D.Widt.v;n[4]=D.Angl.v;
n[5]=D.Intr.v;n[6]=D.Adpt.v;n[7]=D.Clr.v;n[8]=D.Qual.v;n[9]=D.Turb.v;n[10]=D.Jag.v;n[11]=D.Opct.v.val;
n[12]=D.Lins.v;n[13]=D.Botm.v;n[14]=D.Styl.v;n[15]=D.Shap.v;n[16]=D.RnSh.v;n[17]=D.Arng.v},gFlam:function(D,n){D.Type.v=n[0];
D.Leng.v=n[1];D.RndL.v=n[2];D.Widt.v=n[3];D.Angl.v=n[4];D.Intr.v=n[5];D.Adpt.v=n[6];D.Clr.v=n[7];D.Qual.v=n[8];
D.Turb.v=n[9];D.Jag.v=n[10];D.Opct.v.val=n[11];D.Lins.v=n[12];D.Botm.v=n[13];D.Styl.v=n[14];D.Shap.v=n[15];
D.RnSh.v=n[16];D.Arng.v=n[17]},sAdNs:function(D,n){n[0]=D.Nose.v.val;n[1]=["Gsn","Unfr"].indexOf(D.Dstr.v.Dstr);
n[2]=D.Mnch.v},gAdNs:function(D,n){D.Nose.v.val=n[0];D.Dstr.v.Dstr=["Gsn","Unfr"][n[1]];D.Mnch.v=n[2]},sDstS:function(D,n){n[0]=D.Rds.v;
n[1]=D.Thsh.v},gDstS:function(D,n){D.Rds.v=n[0];D.Thsh.v=n[1]},sGsnB:function(D,n){n[0]=D.Rds.v.val},gGsnB:function(D,n){D.Rds.v.val=n[0]},sHghP:function(D,n){n[0]=D.Rds.v.val},gHghP:function(D,n){D.Rds.v.val=n[0]},sHsbP:function(D,n){var _=["RGBC","HSBl","HSLC"];
n[0]=_.indexOf(D.Inpt.v.ClrS);n[1]=_.indexOf(D.Otpt.v.ClrS)},gHsbP:function(D,n){var _=["RGBC","HSBl","HSLC"];
D.Inpt.v.ClrS=_[n[0]];D.Otpt.v.ClrS=_[n[1]]},"sMxm ":function(D,n){var _="preserveShape";n[0]=D.Rds.v.val;
n[1]=D[_]?["squareness","Rndn"].indexOf(D[_].v[_]):0},"gMxm ":function(D,n){var _="preserveShape";D.Rds.v.val=n[0];
D[_]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},"sMnm ":function(D,n){var _="preserveShape";
n[0]=D.Rds.v.val;n[1]=D[_]?["squareness","Rndn"].indexOf(D[_].v[_]):0},"gMnm ":function(D,n){var _="preserveShape";
D.Rds.v.val=n[0];D[_]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},sMtnB:function(D,n){n[0]=[D.Angl.v];
n[1]=D.Dstn.v.val;console.log(n)},gMtnB:function(D,n){D.Angl.v=typeof n[0]=="number"?n[0]:n[0][0];D.Dstn.v.val=n[1]},sOfst:function(D,n){n[0]=D.Hrzn.v;
n[1]=D.Vrtc.v;n[2]=["Rpt","Bckg","Wrp"].indexOf(D.Fl.v.FlMd)},gOfst:function(D,n){D.Hrzn.v=n[0];D.Vrtc.v=n[1];
D.Fl.v.FlMd=["Rpt","Bckg","Wrp"][n[2]]},sPnch:function(D,n){n[0]=D.Amnt.v},gPnch:function(D,n){D.Amnt.v=n[0]},"sPlr ":function(D,n){n[0]=["RctP","PlrR"].indexOf(D.Cnvr.v.Cnvr)},"gPlr ":function(D,n){D.Cnvr.v.Cnvr=["RctP","PlrR"][n[0]]},sRple:function(D,n){n[0]=D.Amnt.v;
n[1]=["Sml","Mdm","Lrg"].indexOf(D.RplS.v.RplS)},gRple:function(D,n){D.Amnt.v=n[0];D.RplS.v.RplS=["Sml","Mdm","Lrg"][n[1]]},sTwrl:function(D,n){n[0]=D.Angl.v},gTwrl:function(D,n){D.Angl.v=n[0]},sZgZg:function(D,n){n[0]=D.Amnt.v;
n[1]=D.NmbR.v;n[2]=["ArnC","OtFr","PndR"].indexOf(D.ZZTy.v.ZZTy)},gZgZg:function(D,n){D.Amnt.v=n[0];
D.NmbR.v=n[1];D.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][n[2]]},sUnsM:function(D,n){n[0]=D.Amnt.v.val;n[1]=D.Rds.v.val;
n[2]=D.Thsh.v},gUnsM:function(D,n){D.Amnt.v.val=n[0];D.Rds.v.val=n[1];D.Thsh.v=n[2]}};cq.apS=function(D){var n=new gZ(0,0);
if(D.enab.v==!1)return n;var _=D.filterFXList.v;for(var k=0;k<_.length;k++){var b=_[k].v;if(b.enab.v==!1)continue;
var w=cq.VM(b),i=cq.Oi(w,b.Fltr?b.Fltr.v:null);if(i.x>n.x)n.x=i.x;if(i.y>n.y)n.y=i.y}return n};cq.Oi=function(D,n){var _=0,b=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(D)!=-1){var w=n.Rds.v.val;_=b=w*2.57}if(D=="MtnB")_=b=n.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(D)!=-1){_=b=1e4}if(D=="GEfc")return fa.Oi(n);
return new gZ(Math.ceil(_),Math.ceil(b))};cq.M8=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
cq.Qk=function(D,n){var _={p:n.EH>>16,z:n.EH>>8&255,S:n.EH&255},b={p:n.Cp>>16,z:n.Cp>>8&255,S:n.Cp&255},w=cq.names[D];
if(w==null)w=fg.names[D];var i=D;for(var M in fg.ic)if(fg.ic[M]==D)i=M;var N={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:io.get(w)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:B.X.Ea(_)},BckC:{t:"Objc",v:B.X.Ea(b)},filterID:{t:"long",v:i.length==4?j.ais(i):777}}},a=cq.D2(D);
if(a)N.v.Fltr={t:"Objc",v:a};return N};cq.Lk=function(D,n,_,b){var w=Date.now(),i=p.b$&&Math.max(b.l,b.e)<=p.aB.getParameter(p.aB.MAX_TEXTURE_SIZE);
if(D<1){var M=Math.round(D*5),N=[1,2,1,2,[40,26,13,6,4,2][M],2,1,2,1];N=B.ax.Gw(N);if(!i){B.xT(_);var a=_.slice(0);
B.ax.mA(a,_,b.l,b.e,N,255);B.Qr(_)}else{var o=b.l,U=b.e,V=p.rD(0,o,U);V.set(_);var c=p.rD(1,o,U),E=new Float32Array([1/o,1/U]);
p.pv(c);p.filter.UG({type:p.filter.a6I,ye:E,anp:new Float32Array(N)},V.QI);c.get(_)}}else{var A=n==B.uE.Yd?0:n==B.uE.kX?1:2,Q=[];
while(A!=2&&D*[1,2.4][A]>20&&Q.length<4){var J=B.GX(_,b);Q.push(_,b);_=J.B_;b=J.rect;D/=2}var o=b.l,U=b.e;
if(!i||A==2&&D>15){B.xT(_);n(_,b,D);B.Qr(_)}else{var V=p.rD(0,o,U);V.set(_);var c=p.rD(1,o,U),E=new Float32Array([1/o,1/U]);
if(A==0){var L=1;while(L<D)L<<=1;p.pv(c);p.filter.UG({type:p.filter.P2,ye:E,me:D,Bl:[0,0,L]},V.QI);p.pv(V);
p.filter.UG({type:p.filter.P2,ye:E,me:D,Bl:[0,1,L]},c.QI);V.get(_)}else if(A==1){var P=3,u=B.uE.wh(D,P);
for(var k=0;k<P;k++){var m=u[k]>>>1,x=1;while(x<m)x<<=1;if(m==0)continue;p.pv(c);p.filter.UG({type:p.filter.P2,ye:E,me:m,Bl:[0,0,x]},V.QI);
p.pv(V);p.filter.UG({type:p.filter.P2,ye:E,me:m,Bl:[0,1,x]},c.QI)}V.get(_)}else{var L=1;while(L<D)L<<=1;
p.pv(c);p.filter.UG({type:p.filter.P2,ye:E,me:D,Bl:[0,0,L]},V.QI);c.get(_)}}var v=Date.now();while(Q.length!=0){var W=Q.pop(),Z=Q.pop();
B.scale.acI(_,b.l,b.e,Z,W.l,W.e);_=Z;b=W}}};cq.a2X=function(D,n,_,b){for(var k=0;k<D.length;k++){_[k]=D[k]*(1/255);
b[k]=0}FFT.fft2d(_,b);var w=n>>>1,i=16384,M=128,a=100;while(M<n){M<<=1;i<<=2}var N=255/Math.log(i),o=-100;
for(var U=0;U<n;U++)for(var V=0;V<w;V++){var c=n+w+U&n-1,E=_[c*n+V],A=b[c*n+V],Q=Math.sqrt(E*E+A*A),J=Math.atan2(A,E);
D[U*n+V]=Math.round(N*Math.log(Q+1));D[U*n+w+V]=Math.round((Math.PI+J)*(255*.5/Math.PI))}};cq.aac=function(D,n,_,b){_.fill(0);
b.fill(0);var w=n>>>1,i=16384,M=128;while(M<n){M<<=1;i<<=2}var N=255/Math.log(i),a=[],o=[],U=[];for(var k=0;
k<256;k++){a[k]=Math.exp(k/N)-1;var V=k*(2*Math.PI/255)-Math.PI;o[k]=Math.sin(V);U[k]=Math.cos(V)}for(var c=0;
c<n;c++)for(var E=0;E<w;E++){var A=n+w+c&n-1,Q=a[D[c*n+E]],V=D[c*n+w+E],J=Q*U[V],L=Q*o[V];_[A*n+E]=J;
b[A*n+E]=L;if(E!=0){var P=A==0?A*n+n-E:(n-A)*n+(n-E);_[P]=J;b[P]=-L}}FFT.ifft2d(_,b);for(var k=0;k<D.length;
k++){D[k]=Math.max(0,Math.min(255,~~(.5+255*_[k])))}};cq.sv=new ArrayBuffer(512);cq.an2=function(D){var n=cq.sv,_=D.length;
if(n.byteLength<_)cq.sv=n=new ArrayBuffer(_);var b=new Uint8Array(n);for(var k=0;k<_;k+=4){b[k]=D[k];
b[k+1]=D[k+1];b[k+2]=D[k+2];b[k+3]=D[k+3]}return n};cq.pe=function(D,n,_,b,w,i,M){if(i==null)i={buffer:B.U(n.buffer.length),rect:n.rect.clone()};
B.nb(n.buffer,i.buffer);var N=_&&_.RndS?_.RndS.v>>>1:0;if(D=="GEfc"){var a=[];if(_.GEfs){var o=_.GEfs.v;
for(var k=0;k<o.length;k++){var U=o[k].v;if(U.GELv&&U.GELv.v==!1)continue;a.push(U)}}else a=[_];for(var k=0;
k<a.length;k++){var V;if(k==0)fa.pe(D,n,a[k],b,w,i,M);else{if(V==null)V={buffer:B.U(n.buffer.length),rect:n.rect.clone()};
B.nb(i.buffer,V.buffer);fa.pe(D,V,a[k],b,w,i,M)}}}if(D=="Adobe Camera Raw Filter"){var c=n.rect,E=c.l,A=c.e,Q=E*A,J=Q*4,L=Q*3,u=new Float32Array(E*A*3),m=n.buffer;
for(var k=0;k<Q;k++){var x=k*3,v=k*4;u[x]=m[v]*(1/255);u[x+1]=m[v+1]*(1/255);u[x+2]=m[v+2]*(1/255)}var W=JSON.parse(JSON.stringify(_));
delete W.Upri;delete W.GuUr;var Z=u.slice(0);u=Z;m=i.buffer;for(var k=0;k<Q;k++){var x=k*3,v=k*4;m[v]=255*Math.max(0,Math.min(1,u[x]));
m[v+1]=255*Math.max(0,Math.min(1,u[x+1]));m[v+2]=255*Math.max(0,Math.min(1,u[x+2]))}}if(D=="adaptCorrect"){var c=n.rect,E=c.l,A=c.e,Q=E*A,J=Q*4,r=_.sdwM.v,X=r.Amnt.v.val/100,$=r.Wdth.v.val/100,I=r.Rds.v,T=_.hglM.v,e=T.Amnt.v.val/100,F=T.Wdth.v.val/100,y=T.Rds.v;
B.nC.alA(n.buffer,i.buffer,E,A,X,$,I,e,F,y,_.ClrC.v/100,_.Cntr.v/100)}if(D=="denoise"){var c=n.rect,E=c.l,A=c.e,h=_.channelDenoise.v[0].v;
B.yu.a2J(n.buffer,E,A,i.buffer,h.Amnt.v/10,h.EdgF.v/100)}if(D=="HsbP"){var Y=_.Inpt.v.ClrS,K=_.Otpt.v.ClrS,c=n.rect,E=c.l,A=c.e,Q=E*A;
for(var k=0;k<Q;k++){var v=k*4,z=n.buffer[v]*(1/255),f=n.buffer[v+1]*(1/255),s=n.buffer[v+2]*(1/255);
if(Y=="RGBC"){}else if(Y=="HSLC"){var Z=B.jz(z,f,s);z=Z.p;f=Z.z;s=Z.S}else if(Y=="HSBl"){var Z=B.aii(z,f,s);
z=Z.p;f=Z.z;s=Z.S}var l=z,g=f,H=s;if(K=="RGBC"){}else if(K=="HSLC"){var Z=B._U(z,f,s);l=Z.Rw;g=Z.cg;
H=Z.kL}else if(K=="HSBl"){var Z=B.a8f(z,f,s);l=Z.Rw;g=Z.cg;H=Z.S}i.buffer[v]=~~(255*l);i.buffer[v+1]=~~(255*g);
i.buffer[v+2]=~~(255*H)}}if(D=="Fbrs"){var c=n.rect,E=c.l,A=c.e;B.I.c0(n.buffer,E,A,i.buffer,[_.Vrnc.v,_.Strg.v,N]);
var O=B.U(E*A);B.Ef(i.buffer,O,0);B.ei(O);fa.zA(O,i.buffer,b,w)}if(D=="Frgm"){var c=n.rect,E=c.l,A=c.e,C=n.buffer.slice(0);
B.xT(C);B.I.a98(C,E,A,i.buffer);B.Qr(i.buffer)}if(D=="Flam"){var c=n.rect,E=c.l,A=c.e,ib=_.Clr.v,hH={type:_.Type.v+1,length:_.Leng.v,ahB:_.RndL.v,en:_.Widt.v,ajB:_.Angl.v,aam:_.Intr.v,arq:_.Adpt.v,color:{p:ib.Rd.v,z:ib.Grn.v,S:ib.Bl.v},Af:_.Qual.v+1,H_:_.Turb.v,jj:_.Jag.v,opacity:_.Opct.v.val,oq:_.Lins.v,a47:_.Botm.v,style:_.Styl.v+1,shape:_.Shap.v+1,ajz:_.RnSh.v,aa1:_.Arng.v,at8:!1},R=M[3],fR=R[0],j4=R[1],cP=fR[j4.length!=0?j4[0]:0];
if(cP==null){alert("Make a path first");return}var a8=cP.add.vmsk.Y,d0=B.$.Vz(a8),b9=[];for(var jG=0;
jG<d0;jG++){var jP=B.$.ay(a8,jG),aq=a8[jP];if(aq.length<2)continue;var gM=[];b9.push(gM);var gv=aq.length-(aq.type==3?1:0);
for(var dT=0;dT<gv;dT++){var aC=a8[jP+1+dT],c1=dT==aq.length-1?a8[jP+1]:a8[jP+1+dT+1],aj=aC.Z,bD=aC.As,cy=c1.US,co=c1.Z,hV=Math.round(gZ._e(aj,co)/5);
for(var il=0;il<hV;il++){var h6=il/hV,c8=1-h6,fx=c8*c8*c8*aj.x+3*c8*c8*h6*bD.x+3*c8*h6*h6*cy.x+h6*h6*h6*co.x,bU=c8*c8*c8*aj.y+3*c8*c8*h6*bD.y+3*c8*h6*h6*cy.y+h6*h6*h6*co.y;
gM.push(fx,bU)}}}var b6=[b9,hH],iF=Date.now(),dY=cN(b6);e5(n.buffer,E,A,i.buffer,dY,b6)}if(D=="Dfs "){var c=n.rect,E=c.l,A=c.e,bl=["Nrml","DrkO","LghO","anisotropic"].indexOf(_.Md.v.DfsM);
if(bl<3)B.I.a38(n.buffer,E,A,i.buffer,[bl]);else{var b6=[1.4,1.6,1,4,!1,2,[0,0,.001]],c=n.rect.clone();
c.x=c.y=0;B.Pa.filter(n.buffer,c,i.buffer,b6)}}if(D=="TrcC"){var c=n.rect,E=c.l,dc=E<<2,A=c.e,hN=_.Lvl.v,ga=_.Edg.v.CntE=="Lwr",b1=n.buffer,h9=i.buffer;
B.o5(h9,16777215,4278190080);function cB(bG,g_){eK(bG,g_);eK(bG+1,g_+1);eK(bG+2,g_+2)}function bp(bG,g_){fm(bG,g_);
fm(bG+1,g_+1);fm(bG+2,g_+2)}function eK(bG,g_){var l=b1[bG],g=b1[g_];if(l>=hN&&g<hN)h9[bG]=0;if(l<hN&&g>=hN)h9[g_]=0}function fm(bG,g_){var l=b1[bG],g=b1[g_];
if(l>hN&&g<=hN)h9[g_]=0;if(l<=hN&&g>hN)h9[bG]=0}if(ga)for(var bU=1;bU<A;bU++)for(var fx=1;fx<E;fx++){var v=bU*E+fx<<2;
cB(v,v-4);cB(v,v-dc)}else for(var bU=1;bU<A;bU++)for(var fx=1;fx<E;fx++){var v=bU*E+fx<<2;bp(v,v-4);
bp(v,v-dc)}}if(D=="Embs"){var c=n.rect,E=c.l,A=c.e,fG=-_.Angl.v*Math.PI/180,ia=_.Hght.v,iz=_.Amnt.v/100;
ia/=2;var gG=Math.cos(fG)*ia,eA=Math.sin(fG)*ia,b1=n.buffer,h9=i.buffer;h9.fill(0);var d3=new Uint32Array(b1.buffer),Z=new Uint8Array(4),cY=new Uint32Array(Z.buffer);
for(var bU=0;bU<A;bU++)for(var fx=0;fx<E;fx++){var ch=0,fS=0,fy=0;if(0<=fx+gG&&fx+gG<E&&0<=bU+eA&&bU+eA<A){B.N.Tu(fx+gG+.5,bU+eA+.5,d3,E,A,cY,0,0);
ch+=Z[0]-128;fS+=Z[1]-128;fy+=Z[2]-128}if(0<=fx-gG&&fx-gG<E&&0<=bU-eA&&bU-eA<A){B.N.Tu(fx-gG+.5,bU-eA+.5,d3,E,A,cY,0,0);
ch-=Z[0]-128;fS-=Z[1]-128;fy-=Z[2]-128}var v=bU*E+fx<<2;h9[v]=Math.max(0,Math.min(255,ch*iz+128));h9[v+1]=Math.max(0,Math.min(255,fS*iz+128));
h9[v+2]=Math.max(0,Math.min(255,fy*iz+128));h9[v+3]=b1[v+3]}}if(D=="ShrE"){var c=n.rect,E=c.l,A=c.e;
B.I.amF(n.buffer,E,A,i.buffer)}if(D=="Dspc"){var c=n.rect,E=c.l,A=c.e;B.I.ai3(n.buffer,E,A,i.buffer)}if(D=="Slrz"){var ar=i.buffer,aM=128;
for(var k=0;k<ar.length;k+=4){if(ar[k]>aM)ar[k]=255-ar[k];if(ar[k+1]>aM)ar[k+1]=255-ar[k+1];if(ar[k+2]>aM)ar[k+2]=255-ar[k+2]}}if(D=="Wnd "){var c=n.rect,E=c.l,A=c.e,aU=["Wnd","Blst","Stgr"],f0=_.WndM.v.WndM;
B.I.Lt(n.buffer,E,A,i.buffer,[aU.indexOf(f0),_.Drct.v.Drct!="Left"])}if(D=="Bokh"){var c=n.rect,E=c.l,A=c.e,Q=E*A,J=Q*4,eV=n.buffer.slice(0),ex=_.BkDi.v.BtDi,gx=_.BkDc,c_=_.BkDs.v,iS=_.BkDp.v/255;
if(ex=="BeIn")iS=0;var cr=57*(.3+.7*((E+A)/2)/1750)*(_.BkIb.v/100)*(1+.2*Math.pow(iS,.1)),cQ=parseInt(_.BkIs.v.BtIs.slice(3)),h5=-_.BkIr.v*Math.PI/180,fW=[];
for(var k=0;k<8;k++){var cs=h5+k*(Math.PI*2/cQ),eS=h5+(k+1)*(Math.PI*2/cQ),a$=Math.cos(cs),a6=Math.sin(cs),gw=Math.cos(eS),bO=Math.sin(eS),ak=[0,0,0];
B.Ox.U4([[a$,a6,1,0],[gw,bO,1,0],[1,1,1,1]],ak);if(ak[2]>0){ak[0]*=-1;ak[1]*=-1;ak[2]*=-1}fW.push(ak[0],ak[1],ak[2],0)}if(ex=="BeIn"){B.o5(eV,0,16777215);
iS=1}else if(ex=="BeIt"&&gx.v.BtDc=="BeCt"){}else{var br;if(ex=="BeIt"&&gx.v.BtDc=="BeCm")br=M[1];else if(ex=="BeIa")br=M[2][gx.v];
if(br==null){B.o5(eV,0,16777215)}else{var iZ;if(br.rect.l8(c))iZ=br.channel;else iZ=br.xD(c);B.tD(iZ,eV,3)}}if(c_)for(var k=0;
k<J;k+=4)eV[k+3]=255-eV[k+3];if(p.b$){var cU=eV,b3=E,au=A,ef=1,jj=(_.BkSb.v==0||_.BkSt.v==255)&&ex=="BeIn";
if(!jj){var gz=0;for(var k=0;k<J;k+=4)gz+=Math.abs(iS-eV[k+3]*(1/255));gz=gz/Q*cr;var hs=3.14*gz*gz*E*A/3e6;
if(hs>2e3){alert("too large radius");return}}while(jj&&3*(cr/ef)*(cr/ef)*E*A>500*2e3*2e3){var hi=B.g9(eV,new gl(0,0,b3,au));
eV=hi.B_;b3=hi.rect.l;au=hi.rect.e;ef*=2}var iF=Date.now(),jp=p.rD(0,b3,au);jp.set(eV);var cO=p.rD(1,E,A);
p.pv(cO);p.filter.UG({type:p.filter.a81,ye:new Float32Array([1/b3,1/au]),a1x:iS,M5:cr/ef,atm:new Float32Array([_.BkSb.v/100,_.BkSt.v/255]),ac_:new Float32Array([_.BkNa.v/100,_.BkNt.v.BtNt=="BeNu"?0:1,_.BkNm.v?1:0]),acP:new Float32Array(fW.slice(0,16)),auw:new Float32Array(fW.slice(16))},jp.QI);
cO.get(i.buffer);var iG=i.buffer;for(var k=0;k<J;k+=4)iG[k+3]=n.buffer[k+3]}}if(D=="rigidTransform"){var iF=Date.now(),a2=cq.an2,jp=n.buffer.slice(0),h0=0,iU=0;
B.xT(jp);B.o5(i.buffer,0);var E=n.rect.l,A=n.rect.e,j6=_.puppetShapeList.v,h7=[],fD=[],dZ=[],a1=[];for(var dT=0;
dT<j6.length;dT++){var aK=j6[dT].v,gt=h0*2,x=iU*3,jy=aK.originalVertexArray.v.length>>>2,eM=aK.indexArray.v.length>>>2,hd=new Float32Array(a2(aK.originalVertexArray.v));
for(var k=0;k<jy;k++)h7[gt+k]=hd[k];var ei=new Float32Array(a2(aK.deformedVertexArray.v));for(var k=0;
k<jy;k++)fD[gt+k]=ei[k];var fJ=new Uint32Array(a2(aK.indexArray.v));for(var k=0;k<eM;k++)dZ[x+k]=h0+fJ[k];
var bc=[],aH=[],dy=aK.PnDp.v;for(var k=0;k<dy.length;k++){bc.push(aK.pinVertexIndices.v[k].v);aH.push(dy[k].v)}var dq=B.i2.a5$(hd,fJ,bc,aH);
for(var k=0;k<dq.length;k++)a1[h0+k]=dq[k];h0+=jy>>>1;iU+=~~(eM/3)}var z=n.rect,E=z.l,A=z.e;B.i2.az(jp,E,A,i.buffer,E,A,h7,fD,a1,dZ);
B.Qr(i.buffer)}if(D=="lightFilterGradient"){function dC(aj){var dQ=1/Math.sqrt(aj[0]*aj[0]+aj[1]*aj[1]+aj[2]*aj[2]);
aj[0]*=dQ;aj[1]*=dQ;aj[2]*=dQ}var E=n.rect.l,A=n.rect.e,Q=E*A,iF=Date.now(),fr=B.U(Q),g=.3,H=.7;B.hE(i.buffer,fr);
var eH=B.U(Q);B.uE.Zt(fr,eH,i.rect,16);var i2=B.U(Q);B.uE.Zt(fr,i2,i.rect,8);var jI=fr,g5=new Float32Array(Q),gb=_.Dtl.v,dh=gb[2].v,dF=gb[1].v,iD=gb[0].v,g8=_.Scl.v*40*_.textureScale.v/(dh+dF+iD);
dh*=g8;dF*=g8;iD*=g8;for(var k=0;k<Q;k++){var db=eH[k]*(1/255),fY=i2[k]*(1/255),aD=jI[k]*(1/255);aD=aD*aD;
g5[k]=dh*db+dF*fY+iD*aD}var hB=_.blur.v;if(hB!=0){var by=g5.slice(0);B.uE.pB(by,g5,i.rect,hB)}var d_=E-1,j7=A-1;
for(var bU=1;bU<j7;bU++)for(var fx=1;fx<d_;fx++){var k=bU*E+fx,v=k*4,ie=g5[k],gG=g*(g5[k+1]-ie)+H*(ie-g5[k-1]),eA=g*(g5[k+E]-ie)+H*(ie-g5[k-E]),aj=[1,0,gG],bD=[0,1,eA];
dC(aj);dC(bD);var eS=aj[0],eG=aj[2],jD=bD[1],cj=bD[2],iq=-eG*jD,ig=-eS*cj,h2=eS*jD;i.buffer[v]=~~(127.5+iq*127.5);
i.buffer[v+1]=~~(127.5+ig*127.5);i.buffer[v+2]=~~(127.5+h2*127.5)}}if(D=="defr"){var E=n.rect.l,A=n.rect.e;
jK(n.buffer,E,A,i.buffer)}if(D=="dDFT"||D=="iDFT"){function jr(cQ){if(cQ==0)return 1;cQ--;cQ|=cQ>>1;
cQ|=cQ>>2;cQ|=cQ>>4;cQ|=cQ>>8;cQ|=cQ>>16;return cQ+1}var E=n.rect.l,A=n.rect.e,jH=jr(Math.max(E,A)),hk=jH>>>1,bw=new gl(0,0,jH,jH),e1=new gl(0,0,E,A);
e1.y=jH-A>>>1;var gW=E>>>1,cF=new gl(0,e1.y,gW,A),jh=new B.YV(E*A);B.BJ(n.buffer,jh);var ek=new Float64Array(jH*jH),bK=new Float64Array(jH*jH),iZ=B.U(jH*jH);
FFT.init(jH);var b7=[jh.p,jh.z,jh.S];for(var k=0;k<3;k++){var aT=b7[k];iZ.fill(0);if(D=="dDFT"){B.I4(aT,e1,iZ,bw);
cq.a2X(iZ,jH,ek,bK);B.I4(iZ,bw,aT,e1,cF);cF.x+=gW;bw.x-=hk-gW;B.I4(iZ,bw,aT,e1,cF);cF.x-=gW;bw.x+=hk-gW}else{B.I4(aT,e1,iZ,bw,cF);
cF.x+=hk;e1.x+=hk-gW;B.I4(aT,e1,iZ,bw,cF);cF.x-=hk;e1.x-=hk-gW;cq.aac(iZ,jH,ek,bK);B.I4(iZ,bw,aT,e1)}}B.wq(jh,i.buffer)}if(D=="Avrg"){var i7=0,ep=0,gS=0,cW=0,aE=1;
for(var k=0;k<n.buffer.length;k+=4){var dk=n.buffer[k+3];gS+=n.buffer[k]*dk;ep+=n.buffer[k+1]*dk;i7+=n.buffer[k+2]*dk;
cW+=dk}var ao=1/cW;i7=Math.round(aE*(i7*ao)+(1-aE)*255);ep=Math.round(aE*(ep*ao)+(1-aE)*255);gS=Math.round(aE*(gS*ao)+(1-aE)*255);
B.o5(i.buffer,i7<<16|ep<<8|gS,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(D)!=-1){var h$=_.Rds.v.val,h1=D=="boxblur"?B.uE.Yd:B.uE.kX;
cq.Lk(h$,h1,i.buffer,i.rect);if(D=="UnsM"||D=="smartSharpen"){var iz=_.Amnt.v.val/100,c3=0;if(D=="UnsM")c3=_.Thsh.v;
else iz*=.75;for(var k=0;k<n.buffer.length;k++){if((k&3)==3){i.buffer[k]=n.buffer[k];continue}var fO=n.buffer[k],dO=i.buffer[k],b$=iz*(fO-dO);
if(b$>0)b$=Math.max(0,b$-c3);else b$=Math.min(0,b$+c3);i.buffer[k]=Math.max(0,Math.min(255,fO+b$))}}if(D=="HghP")for(var k=0;
k<n.buffer.length;k++){if((k&3)==3){i.buffer[k]=n.buffer[k];continue}var fO=n.buffer[k],dO=i.buffer[k];
i.buffer[k]=Math.max(0,Math.min(255,128+fO-dO))}}if(D=="AdNs"){var jM=new Uint8ClampedArray(i.buffer.buffer),el=255*_.Nose.v.val/100,hW;
if(_.Dstr.v.Dstr=="Gsn")hW=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else hW=function(){return Math.random()*2-1};for(var k=0;k<jM.length;k+=4){var z=jM[k],f=jM[k+1],s=jM[k+2],dP,jt,e9;
if(_.Mnch.v){dP=jt=e9=hW()}else{dP=hW();jt=hW();e9=hW()}z+=el*dP;f+=el*jt;s+=el*e9;jM[k]=z;jM[k+1]=f;
jM[k+2]=s}}var iF=Date.now();if(D=="Mdn "||D=="DstS"||D=="Mxm "||D=="Mnm "||D=="surfaceBlur"){var z=0,jQ=_.Thsh,aK=0;
if(jQ)jQ=jQ.v;else jQ=0;if(D=="Mdn "||D=="Mxm "||D=="Mnm "||D=="surfaceBlur")z=_.Rds.v.val;else z=_.Rds.v;
var ff=_.preserveShape;if(ff&&ff.v.preserveShape=="Rndn")aK=1;var E=n.rect.l,A=n.rect.e,b_=["Mnm ","Mxm ","surfaceBlur"].indexOf(D),ik=(aK==0?1:.75)*[.73,.73,1][b_]*(E*A*z*z)/1722387,e4=[.73,.9,1.4][b_]*(E*A*Math.sqrt(z))/6500;
if(p.b$&&b_!=-1&&(ik<e4||aK==1)&&ik<1500){var jp=p.rD(0,E,A);jp.set(n.buffer);var V=p.rD(1,E,A);p.pv(V);
p.filter.UG({type:p.filter.a0L,ye:new Float32Array([1/E,1/A]),M5:z,as0:jQ/255,Bl:[aK,b_,10*Math.ceil(z/10)]},jp.QI);
V.get(i.buffer)}else{z=Math.round(z);B.OR.n7=.5;var h1=B.OR.fS;if(D=="Mxm ")h1=B.OR.He;if(D=="Mnm ")h1=B.OR.xs;
if(D=="surfaceBlur")h1=B.OR.YB;B.OR.S9(n.buffer,i.buffer,E,A,z,h1,[jQ]);if(D=="DstS")for(var k=0;k<E*A*4;
k++){var e_=Math.abs(n.buffer[k]-i.buffer[k]);if(e_<=jQ)i.buffer[k]=n.buffer[k]}}}if(D=="ClrH"){var cF=n.rect.clone();
cF.x=cF.y=0;var z=_.Rds.v;z=Math.round(z*Math.sqrt(2));var E=cF.l,A=cF.e,jh=new B.YV(E*A);B.BJ(n.buffer,jh);
B.ei(jh.p);B.ei(jh.z);B.ei(jh.S);var f$=B.HY(E,A),iG=B.U(E*A*4);for(var at=0;at<3;at++){var iZ=at==0?jh.p:at==1?jh.z:jh.S,fG=Math.PI*_["Ang"+(at+1)].v/180,bf=new e3(1/z,0,0,1/z,0,0);
bf.rotate(fG);B.tD(iZ,iG,3);var Z=G.Q.XB([iG,cF],bf,!0),e1=Z.rect;f$.clearRect(0,0,E,A);var a9=Math.sin(fG),gn=Math.cos(fG);
for(var k=0;k<e1.e;k++)for(var il=0;il<e1.l;il++){var fx=(il+e1.x+.5)*z,bU=(k+e1.y+.5)*z,eR=fx,fj=bU;
fx=gn*eR-a9*fj;bU=a9*eR+gn*fj;var Q=Z.buffer[(k*e1.l+il<<2)+3]*(1/255),h$=z*Math.sqrt(Q*(1/Math.PI));
f$.beginPath();f$.arc(fx,bU,h$,0,2*Math.PI);f$.fill()}var fz=f$.getImageData(0,0,E,A);B.Ef(fz.data,iZ,3)}B.ei(jh.p);
B.ei(jh.z);B.ei(jh.S);B.wq(jh,i.buffer)}if(D=="Crst"||D=="Pntl"){var E=n.rect.l,A=n.rect.e,h1=D=="Crst"?B.dQ.aqL:B.dQ.a7c;
h1(n.buffer,E,A,i.buffer,_.ClSz.v,[Math.round(w.p),Math.round(w.z),Math.round(w.S)])}if(D=="Mztn"){var E=n.rect.l,A=n.rect.e,Q=E*A,jh=new B.YV(Q),jV=[jh.p,jh.z,jh.S];
B.BJ(n.buffer,jh);var f0=_.MztT.v.MztT,fs={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[f0],iF=Date.now(),gJ=[];
for(var k=0;k<Q;k++){gJ[k]=Math.random()}var Q=E*A,d9=Math.round(Q*fs[0]),gO=Q-E-1;for(var k=0;k<d9;
k++){var be=Math.random(),i3=1;if(be<.5){i3=E;be*=2}else be=2*(be-.5);var bG=Math.floor(be*gO),g_=bG+i3;
gJ[bG]=gJ[g_]}var bk=Math.round(E*fs[1]);for(var bU=0;bU<A;bU++)for(var k=0;k<bk;k++){var be=B.a.wn(bU*Q+k),bG=bU*E+Math.floor(be*(E-1));
gJ[bG]=gJ[bG+1]}var fP=new Float64Array(256);for(var k=0;k<256;k++){var hO=k/255,bP=2*(hO<.5?hO:1-hO);
bP=fs[2]+Math.pow(bP,fs[3])*(1-fs[2]);hO=hO<.5?bP*.5:1-bP*.5;fP[k]=hO}for(var cK=0;cK<3;cK++){var iZ=jV[cK];
for(var bU=0;bU<A;bU++){for(var fx=0;fx<E;fx++){var k=bU*E+fx,fQ=iZ[k],hO=fP[fQ],be=gJ[k];iZ[k]=be>hO?0:255}}}B.wq(jh,i.buffer)}if(D=="Msc "){var d0=_.ClSz.v.val,E=n.rect.l,A=n.rect.e,c2=Math.ceil(E/d0),ja=Math.ceil(A/d0),fX=B.U(c2*ja*4);
B.scale.HG(n.buffer,E,A,fX,c2,ja,1/d0);B.scale.HG(fX,c2,ja,i.buffer,E,A,d0)}if(D=="Clds"||D=="DfrC"){var E=i.rect.l,A=i.rect.e,Q=E*A,d7=B.U(Q);
if(D=="Clds")B.o5(i.buffer,4278190080);var ap=B.U(256*4);for(var k=0;k<256;k++){var v=k<<2,jd=k/255,fJ=1-jd;
ap[v]=Math.round(jd*b.p+fJ*w.p);ap[v+1]=Math.round(jd*b.z+fJ*w.z);ap[v+2]=Math.round(jd*b.S+fJ*w.S)}B.I.a5z(n.buffer,E,A,d7);
var jN=i.buffer;for(var k=0;k<Q;k++){var v=k<<2,cK=d7[k]<<2,z=ap[cK],f=ap[cK+1],s=ap[cK+2];if(D=="Clds"){jN[v]=z;
jN[v+1]=f;jN[v+2]=s}else{jN[v]=Math.abs(jN[4*k]-z);jN[v+1]=Math.abs(jN[4*k+1]-f);jN[v+2]=Math.abs(jN[4*k+2]-s)}}}if(D=="LnsF"){var E=n.rect.l,A=n.rect.e,f0=["Zm","Nkn","Nkn1","PnVs"].indexOf(_.Lns.v.Lns),dA=_.FlrC.v,b0=[Math.min(f0,2),_.Brgh.v/100,dA.Hrzn.v,dA.Vrtc.v],iF=Date.now();
B.aqb(n.buffer,E,A,i.buffer,b0)}var dr=["Blr ","BlrM","Shrp","ShrM"].indexOf(D);if(dr!=-1){var ev=dr>1,E=n.rect.l,A=n.rect.e,hZ=B.ax.KX[dr],dn=n.buffer.slice(0);
if(!ev)B.xT(dn);B.ax.mA(dn,i.buffer,E,A,hZ,255,!1,ev);if(!ev)B.Qr(i.buffer)}if(D=="MtnB"){var iV=-_.Angl.v*Math.PI/180,hj=_.Dstn.v.val/2,iF=Date.now(),E=n.rect.l,A=n.rect.e,c=n.rect.clone();
c.x=c.y=0;if(p.b$){var iF=Date.now(),d8=i.buffer;d8.set(n.buffer);B.xT(d8);var b8=p.rD(0,E,A);b8.set(d8);
var b1=B.U(4);b1[0]=Math.round(128+127*Math.cos(iV));b1[1]=Math.round(128+127*Math.sin(iV));new Uint32Array(d8.buffer).fill(new Uint32Array(b1.buffer)[0]);
var bZ=p.rD(1,E,A);bZ.set(d8);p.pv(b8,c);b8.WN(c);p.filter.UG({type:p.filter.l5,Fn:bZ.QI,ye:new Float32Array([1/E,1/A]),a5s:hj/2,arS:1},b8.QG);
b8.get(d8);B.Qr(d8)}else{var bf=new e3;bf.rotate(iV);var Z=G.Q.XB([n.buffer,n.rect],bf,!1,null,!0);cq.Lk(hj,B.uE.iL,Z.buffer,Z.rect);
bf.ei();Z=G.Q.XB([Z.buffer,Z.rect],bf,!1,i.buffer.buffer,!0,i.rect)}console.log(Date.now()-iF)}if(D=="RdlB"){var E=n.rect.l,A=n.rect.e,iz=_.Amnt.v,fb=_.BlrM.v.BlrM=="Zm",at=_.Cntr.v,f1=at.Hrzn.v,cx=at.Vrtc.v,gG=Math.max(f1,1-f1)*E,eA=Math.max(cx,1-cx)*A,h$=Math.sqrt(gG*gG+eA*eA),jB=2*Math.PI*h$*1.5,jq=Math.round(jB),dD=Math.round(h$),cF=new gl(0,0,jq,dD),er=B.U(jq*dD*4),bH=fb?4:1,cG=fb?.6:8*((E+A)/2)/1400,j2=.1,ef=1,eo=1;
B.N.f8(n.buffer,E,A,er,jq,dD,f1,cx,bH,j2,ef,eo);var en=fb?B.U(jq*dD*4):null;if(fb){B.N.V4(er,en,jq,dD);
var h6=en;en=er;er=h6;cF.l=dD;cF.e=jq}cq.Lk(cG*iz,B.uE.iL,er,cF);if(fb){B.N.V4(er,en,dD,jq);var h6=en;
en=er;er=h6;cF.l=jq;cF.e=dD}B.N.L1(er,jq,dD,i.buffer,E,A,f1,cx,bH,j2,ef,eo)}if(D=="Plr "){var E=n.rect.l,A=n.rect.e;
if(_.Cnvr.v.Cnvr=="RctP")B.N.L1(n.buffer,E,A,i.buffer,E,A,.5,.5,1,0,2,E/A);else B.N.f8(n.buffer,E,A,i.buffer,E,A,.5,.5,1,0,2,E/A)}if(D=="FndE"){var E=n.rect.l,A=n.rect.e;
B.ax.S7(n.buffer,i.buffer,E,A)}if(D=="oilPaint"){var fG=_.LghD.v*Math.PI/180,bA=[Math.cos(fG),Math.sin(fG),.001],b6=[_.stylization.v,_.cleanliness.v,_.brushScale.v,_.microBrush.v,_.lightingOn.v,_.specularity.v,bA],c=n.rect.clone();
c.x=c.y=0;B.Pa.filter(n.buffer,c,i.buffer,b6)}if(D=="Ofst"){var E=n.rect.l,A=n.rect.e,hY=new Uint32Array(n.buffer.buffer),gC=new Uint32Array(i.buffer.buffer),eR=_.Hrzn.v,fj=_.Vrtc.v,hf=_.Fl.v.FlMd;
B.o5(gC,0);if(hf=="Bckg"||hf=="Rpt"){var cF=n.rect.clone();cF.offset(eR,fj);B.E3(hY,cF,gC,i.rect)}if(hf=="Rpt"){var a$,a6,gw,bO,aS;
eR=Math.max(-E,Math.min(E,eR));fj=Math.max(-A,Math.min(A,fj));a$=eR>0?eR:0;gw=eR>0?E:E+eR;a6=fj>0?0:fj+A;
bO=fj>0?fj:A;aS=fj>0?0:E*(A-1);for(var bU=a6;bU<bO;bU++)for(var fx=a$;fx<gw;fx++)gC[bU*E+fx]=hY[aS+fx-eR];
a$=eR>0?0:E+eR;gw=eR>0?eR:E;a6=fj>0?fj:0;bO=fj>0?A:A+fj;aS=eR>0?0:E-1;for(var bU=a6;bU<bO;bU++)for(var fx=a$;
fx<gw;fx++)gC[bU*E+fx]=hY[aS+E*(bU-fj)];if(eR>=0&&fj>=0){a$=0;gw=eR;a6=0;bO=fj;aS=0}if(eR>=0&&fj<0){a$=0;
gw=eR;a6=A+fj;bO=A;aS=E*(A-1)}if(eR<0&&fj>=0){a$=E+eR;gw=E;a6=0;bO=fj;aS=E-1}if(eR<0&&fj<0){a$=E+eR;
gw=E;a6=A+fj;bO=A;aS=E*A-1}for(var bU=a6;bU<bO;bU++)for(var fx=a$;fx<gw;fx++)gC[bU*E+fx]=hY[aS]}if(hf=="Wrp"){eR=(eR+100*E)%E;
fj=(fj+100*A)%A;var cF=new gl(eR-E,fj-A,E,A);B.E3(hY,cF,gC,i.rect);cF.offset(E,0);B.E3(hY,cF,gC,i.rect);
cF.offset(0,A);B.E3(hY,cF,gC,i.rect);cF.offset(-E,0);B.E3(hY,cF,gC,i.rect)}}if(D=="Rept"){var iY=_.Rsft.v.val/100,dp=_.SpcX.v.val/100;
dp=Math.max(dp,-.99);var aY=_.SpcY.v.val/100;aY=Math.max(aY,-.99);var ef=_.Scl.v.val/100,bf=new e3;bf.rotate(_.Angl.v*Math.PI/180);
bf.scale(ef,ef);var i9={buffer:n.buffer,rect:n.rect};B.NQ(i9);if(i9.rect.hk()){i9.buffer=n.buffer;i9.rect=n.rect}var jN=i9.buffer,cF=i9.rect,gX=B.lb(jN,cF,0),eq=new Uint32Array(jN.buffer)[0];
if(!gX.hk()&&!gX.l8(cF)){var ea=B.U(gX.u()*4);B.E3(jN,cF,ea,gX);jN=ea;cF=gX}cF.x=cF.y=0;eq=dp==0&&aY==0||_.SpcC.v?eq:0;
function dd(fx){return fx<0?Math.ceil(fx):Math.floor(fx)}var iJ=bf.pm(new gZ(cF.l,0));iJ.x=dd(iJ.x);
iJ.y=dd(iJ.y);var bN=bf.pm(new gZ(0,cF.e));bN.x=dd(bN.x);bN.y=dd(bN.y);var Z=G.Q.XB([jN,cF],bf,!1),e1=Z.rect,h9=Z.buffer,fN=Math.round(e1.x),cg=Math.round(e1.y),a5=Math.max(i.rect.l,i.rect.e)/Math.min(cF.l*ef*(1+dp),cF.e*ef*(1+aY));
a5=Math.ceil(a5*1.7);B.o5(i.buffer,eq);for(var bU=-a5;bU<a5;bU++){for(var fx=-a5;fx<a5;fx++){var hJ=(fx+bU*iY)*(1+dp),aR=bU*(1+aY);
e1.x=fN+Math.round(hJ*iJ.x+aR*bN.x);e1.y=cg+Math.round(hJ*iJ.y+aR*bN.y);if(e1.Zy(i.rect))B.a.dG("norm",h9,e1,i.buffer,i.rect,e1,1)}}}if(D=="Ctoa"){var w=B.X.kj(_.Clr.v),jQ=_.Trsp.v.val/100,ct=_.Opct.v.val/100;
jQ=ct==0?0:jQ/ct;var E=n.rect.l,A=n.rect.e,dW=~~w.p,cf=~~w.z,hK=~~w.S,aS=n.buffer,aF=i.buffer;for(var bU=0;
bU<A;bU++)for(var fx=0;fx<E;fx++){var k=bU*E+fx,v=k<<2,cF=aS[v],jc=aS[v+1],jN=aS[v+2],fq=Math.abs(dW-cF),dw=Math.abs(cf-jc),jw=Math.abs(hK-jN),g4=Math.max(fq,dw,jw)*(1/255);
g4=Math.max(0,Math.min(1,g4/ct));var gF=g4==0?0:1/g4,hg=jQ==1?1:Math.max(0,Math.min(1,(g4-jQ)/(1-jQ)));
aF[v]=Math.max(0,Math.min(255,(cF-dW*(1-g4))*gF));aF[v+1]=Math.max(0,Math.min(255,(jc-cf*(1-g4))*gF));
aF[v+2]=Math.max(0,Math.min(255,(jN-hK*(1-g4))*gF));aF[v+3]=~~(.5+hg*255)}}if(D=="Dthr"){function eJ(fx){return~~(.5+255*B.bU(fx/255))}var dT=_.Plte.v,e$;
if(dT==0)e$=[4278190080,4294967295];else{var cw=[[1,1,1],[2,2,2],[3,3,2]][dT-1],fV=[1<<cw[0],1<<cw[1],1<<cw[2]],ec=[~~(255/(fV[0]-1)),~~(255/(fV[1]-1)),~~(255/(fV[2]-1))];
e$=[];for(var z=0;z<fV[0];z++)for(var f=0;f<fV[1];f++)for(var s=0;s<fV[2];s++)e$.push(255<<24|eJ(s*ec[2])<<16|eJ(f*ec[1])<<8|eJ(z*ec[0]))}var E=n.rect.l,A=n.rect.e,Q=E*A,dV=Q*4,fy=n.buffer.slice(0),f5=i.buffer;
for(var k=0;k<dV;k++)fy[k]=~~(.5+255*B.bU(fy[k]/255));var dU=B.U(E*A);UPNG.encode.dither(fy,E,A,e$,f5,dU);
for(var k=0;k<dV;k++)f5[k]=~~(.5+255*B.Ul(f5[k]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(D)!=-1){var fp=M[0],E=n.rect.l,A=n.rect.e,fP,iv=0;
if(D=="LqFy")fP=iO.Z6(new Uint8Array(_.LqMe.v).buffer);else{var hp=3;fP={Wj:Math.floor(E/hp),Rw:Math.floor(A/hp)};
fP.map=new Float32Array(fP.Wj*fP.Rw*2);if(D=="LnCr"){var f1=.5*(fP.Wj-1),cx=.5*(fP.Rw-1),dN=Math.max(Math.abs(0-f1),Math.abs(1-f1)),bW=Math.max(Math.abs(0-cx),Math.abs(1-cx)),hr=Math.sqrt(dN*dN+bW*bW),a_=0,fK=0,fw=-1,gE=2,ef=_.LnSi.v/100,fb=1/ef,cm=_.LnIa.v/100,ju=cm==0?1e-6:cm*4.6,g$=fb/hr;
for(var bU=0;bU<fP.Rw;bU++){for(var fx=0;fx<fP.Wj;fx++){var gG=(fx-f1)*g$,eA=(bU-cx)*g$,z=Math.sqrt(gG*gG+eA*eA)*ju,jm=Math.atan(z),dH=cm>0?jm/z:z/jm,eo=f1+hr*dH*gG,cV=cx+hr*dH*eA,k=bU*fP.Wj+fx<<1;
fP.map[k]=eo-fx;fP.map[k+1]=cV-bU}}}else if(D=="Dspl"&&fp.length!=0){iv=_.UndA.v.UndA=="WrpA"?2:1;var ad=_.DspF.v.pth,eu;
for(var k=0;k<fp.length;k++)if(fp[k].Vn==ad)eu=fp[k];if(eu==null)eu=fp[0];eu.iS();var fq=eu.Gj[1],ej=B.U(fq.u());
B.hE(eu.Gj[0],ej);var gq=fq.l,bQ=fq.e;fP={Wj:gq,Rw:bQ};fP.map=new Float32Array(fP.Wj*fP.Rw*2);var aV=2.54*_.HrzS.v*gq/E,c9=2.54*_.VrtS.v*bQ/A;
for(var bU=0;bU<fP.Rw;bU++){for(var fx=0;fx<fP.Wj;fx++){var e_=-.5+ej[bU*gq+fx]*(1/255),k=bU*fP.Wj+fx<<1;
fP.map[k]=e_*aV;fP.map[k+1]=e_*c9}}}else if(D=="Pnch"||D=="Twrl"||D=="Sphr"||D=="ZgZg"){var iz=1,iV=Math.PI,c7=0,dK=1,gT=0,at=3,d0=1.53,dH=1;
if(D=="Pnch"||D=="Sphr"||D=="ZgZg")iz=_.Amnt.v/100;if(D=="ZgZg"){dK=_.NmbR.v;gT=["ArnC","OtFr","PndR"].indexOf(_.ZZTy.v.ZZTy)}if(D=="Twrl")iV=_.Angl.v*Math.PI/180;
if(D=="Sphr")c7=["Nrml","HrzO","VrtO"].indexOf(_.SphM.v.SphM);function h1(fx){fx=Math.pow(fx,1-fx*.3-fx*fx*(fx*fx)*.5);
return-.225*Math.sin(fx*Math.PI)}function dm(A,dQ,z,a$,a6,gw,bO,dH){var gG=gw-a$,eA=bO-a6,iK=a$-A,ij=a6-dQ,jd=gG*gG+eA*eA,s=2*(gG*iK+eA*ij),at=iK*iK+ij*ij-z*z,iH=Math.sqrt(s*s-4*jd*at),eU=dH/(2*jd),eh=(-s+iH)*eU,bv=(-s-iH)*eU;
return dH*Math.min(eh,bv)}var c2=fP.Wj,ja=fP.Rw,eZ=fP.Wj/2,j7=fP.Rw/2,hF=1/eZ,z=Math.sqrt(at*at+1)/at,aT=at+Math.sqrt(1/(at*at));
if(iz<0){at=1.72;z=1;aT=at;d0=-1;dH=-1}for(var bU=0;bU<ja;bU++){var eA=(bU-j7)/j7;for(var fx=0;fx<c2;
fx++){var gG=(fx-eZ)*hF;if(c7==1)eA=0;else if(c7==2)gG=0;var i8=Math.sqrt(gG*gG+eA*eA);if(i8<1&&i8!=0){var k=bU*fP.Wj+fx<<1;
if(D=="Pnch"){var fu=-iz*h1(i8)/i8;fP.map[k]=gG*fu*eZ;fP.map[k+1]=eA*fu*j7}else if(D=="Sphr"){var h6=dm(0,aT,z,0,0,i8,at,dH),hT=d0*iz*(h6-1);
fP.map[k]=gG*hT*eZ;fP.map[k+1]=eA*hT*j7}else if(D=="Twrl"){var fG=Math.atan2(eA,gG)-iV*(1-i8)*(1-i8),eL=Math.cos(fG),cc=Math.sin(fG);
fP.map[k]=(i8*eL-gG)*eZ;fP.map[k+1]=(i8*cc-eA)*j7}else if(D=="ZgZg"){var eL=0,cc=0,gc=iz*(.5-.5*Math.cos(i8*dK*2*Math.PI))*(1-i8);
if(gT==0){var fG=Math.atan2(eA,gG)-3.5*gc;eL=i8*Math.cos(fG);cc=i8*Math.sin(fG)}if(gT==1){gc=100/E*gc/i8;
eL=(1-gc)*gG;cc=(1-gc)*eA}if(gT==2){var gK=512/E*gc*Math.PI/4;eL=gK+gG;cc=gK+eA}fP.map[k]=(eL-gG)*eZ;
fP.map[k+1]=(cc-eA)*j7}}}}}else if(D=="Shr "){var a8=JSON.parse(JSON.stringify(_.ShrP.v));B.O1.A(a8,new e3(0,255/127,255/127,0,-2,0));
var i6=B.O1.R5(a8,fP.Rw,!0);iv=_.UndA.v.UndA=="WrpA"?2:1;for(var bU=0;bU<fP.Rw;bU++){var gG=-i6[bU]*fP.Wj;
for(var fx=0;fx<fP.Wj;fx++){var k=bU*fP.Wj+fx<<1;fP.map[k]=gG}}}else if(D=="Wave"){var ha=_.NmbG.v,ba=_.WLMn.v,iI=_.WLMx.v,di=_.AmMn.v*(Math.PI/4),dt=_.AmMx.v*(Math.PI/4),bq=_.SclH.v/100,iW=_.SclV.v/100,f0=_.Wvtp.v.Wvtp,gc=Math.sin;
if(f0=="WvTr")gc=function(fx){fx*=2/Math.PI;return-.5+Math.abs(fx%2-1)};if(f0=="WvSq")gc=function(fx){fx*=2/Math.PI;
return 1+2*Math.floor(fx%2-1)};var dJ=[],e7=new B.a.f9(_.RndS.v);for(var k=0;k<ha;k++){dJ.push(e7.get()*10);
dJ.push(Math.PI*hp/(ba+e7.get()*(iI-ba)));dJ.push(bq*(di+e7.get()*(dt-di))/hp);dJ.push(e7.get()*10);
dJ.push(Math.PI*hp/(ba+e7.get()*(iI-ba)));dJ.push(iW*(di+e7.get()*(dt-di))/hp)}var aa=[],du=[],fA=Math.max(fP.Wj,fP.Rw);
for(var k=0;k<fA;k++){var gG=0,eA=0;for(var il=0;il<ha;il++){var g0=il*6;gG+=dJ[g0+2]*gc(dJ[g0]+k*dJ[g0+1]);
eA+=dJ[g0+5]*gc(dJ[g0+3]+k*dJ[g0+4])}aa[k]=eA;du[k]=gG}for(var bU=0;bU<fP.Rw;bU++){for(var fx=0;fx<fP.Wj;
fx++){var k=bU*fP.Wj+fx<<1;fP.map[k]=du[bU];fP.map[k+1]=aa[fx]}}iv=_.UndA.v.UndA=="WrpA"?2:1}else if(D=="Rple"){iv=1;
var iz=_.Amnt.v/100,e8=4,d5=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],it=1,bR=1,iK=0,ae=["Sml","Mdm","Lrg"].indexOf(_.RplS.v.RplS);
if(ae==0){it=1;bR=.2;iK=3}if(ae==2){it=1;bR=2;iK=-1;d5=d5.reverse()}var cv=function(fx,bU){var at=Math.cos,g8=0;
for(var k=0;k<e8;k++)for(var il=0;il<e8;il++)g8+=d5[k*e8+il]*at(fx*(k+iK)-bU*(il+iK));return g8},gP=Math.floor(50/hp),cX=new Float32Array(gP*gP*2),az=bR*iz*.5/hp;
for(var bU=0;bU<gP;bU++)for(var fx=0;fx<gP;fx++){var f1=it*fx*2*Math.PI/gP,cx=it*bU*2*Math.PI/gP,hn=cv(f1,cx),gG=(cv(f1+.01,cx)-hn)*100,eA=(cv(f1,cx+.01)-hn)*100,k=(bU*gP+fx)*2;
cX[k]=gG*az;cX[k+1]=eA*az}for(var bU=0;bU<fP.Rw;bU++)for(var fx=0;fx<fP.Wj;fx++){var cc=bU%gP,eL=fx%gP,k=bU*fP.Wj+fx<<1,ce=cc*gP+eL<<1;
fP.map[k]=cX[ce];fP.map[k+1]=cX[ce+1]}}}B.zN.R0(n.buffer,i.buffer,E,A,null,fP.map,fP.Wj,fP.Rw,iv)}return i};
var fa={};fa.ed="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");fa.tI="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
fa.OK=["ScrC","ScrD","ScrL"];fa.zi=["SDRD","SDHz","SDLD","SDVt"];fa.ja="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
fa.jk="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");fa.s3="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
fa.y8=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];fa.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
fa.D2=function(D){var n;if(D=="ClrP")n={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(D=="Ct")n={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(D=="DryB")n={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(D=="FlmG")n={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(D=="Frsc")n={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(D=="NGlw")n={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(D=="PntD")n={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(D=="PltK")n={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(D=="PlsW")n={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(D=="PstE")n={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(D=="RghP")n={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(D=="SmdS")n={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(D=="Spng")n={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(D=="Undr")n={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(D=="Wtrc")n={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(D=="AccE")n={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(D=="AngS")n={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(D=="Crsh")n={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(D=="DrkS")n={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(D=="InkO")n={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(D=="Smie")n={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(D=="Spt")n={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(D=="SprS")n={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(D=="DfsG")n={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(D=="Gls")n={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(D=="OcnR")n={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(D=="BsRl")n={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(D=="ChlC")n={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(D=="Chrc")n={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(D=="Chrm")n={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(D=="CntC")n={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(D=="GraP")n={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(D=="HlfS")n={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(D=="NtPr")n={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(D=="Phtc")n={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(D=="Plst")n={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(D=="Rtcl")n={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(D=="Stmp")n={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(D=="TrnE")n={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(D=="WtrP")n={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(D=="GlwE")n={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(D=="Crql")n={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(D=="Grn")n={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(D=="MscT")n={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(D=="Ptch")n={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(D=="StnG")n={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(D=="Txtz")n={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
n.__name="Filter Gallery";n.classID="GEfc";n.GEfk={t:"enum",v:{GEft:D}};n.GELv={t:"bool",v:!0};return n};
fa.hj=function(D,n){for(var k=0;k<n.length;k++)~~(n[k]=(D[4*k]+D[4*k+1]+D[4*k+2])*(1/3))};fa.$D=function(D,n,_,b){var w=UPNG.quantize(D,n);
w={UB:w.inds,WF:w.plte};var i=Math.floor((_+b)*.015);if(i!=0)B.zR.au1(w.UB,_,b,i);return w};fa.pe=function(D,n,_,b,w,i,M){D=_.GEfk.v.GEft;
var N=n.rect,a=N.l,o=N.e,U=a*o,V=_.FlRs?_.FlRs.v>>>1:0;function c(x){return x.p<<24|x.z<<16|x.S<<8|255}if(D=="ClrP")B.I.anE(n.buffer,a,o,i.buffer,[_.Pncl.v,_.StrP.v,_.PprB.v]);
if(D=="Ct"){var E=_.NmbL.v,A=_.EdgS.v,Q=fa.$D(n.buffer.buffer,E*2,a,o);for(var k=0;k<Q.UB.length;k++)Q.UB[k]++;
var J=new Uint8Array((a+2)*(o+2));B.I4(Q.UB,new gl(1,1,a,o),J,new gl(0,0,a+2,o+2));var L=B.H.w0(J,a+2,o+2,A,!1),P=new e3(1,0,0,1,-1,-1);
for(var k=0;k<L.length;k++)B.H.A(L[k].path.t,P,L[k].path.t);var u=[],m=Q.WF;for(var k=0;k<m.length;k++){var x=m[k].est.q;
u.push({p:Math.round(255*x[0]),z:Math.round(255*x[1]),S:Math.round(255*x[2]),vd:Math.round(255*x[3])})}var v=B.HY(a,o);
for(var k=0;k<L.length;k++){var W=L[k],x=u[W.color-1];if(x.vd==0)continue;v.fillStyle="rgba("+x.p+","+x.z+","+x.S+","+x.vd/255+")";
v.beginPath();Typr.U.pathToContext({crds:W.path.t,cmds:W.path.C},v);v.fill()}if(!N.hk()){var Z=v.getImageData(0,0,a,o);
B.nb(Z.data,i.buffer)}}if(D=="DryB")B.I.atF(n.buffer,a,o,i.buffer,[_.BrsS.v,_.BrsD.v,_.Txtr.v]);if(D=="FlmG")B.I.adb(n.buffer,a,o,i.buffer,[_.Grn.v,_.HghA.v,_.Intn.v,V]);
if(D=="Frsc")B.I.a7O(n.buffer,a,o,i.buffer,[_.BrsS.v,_.BrsD.v,_.Txtr.v]);if(D=="NGlw")B.I.aiq(n.buffer,a,o,i.buffer,[_.Sz.v,_.Brgh.v,c(B.X.kj(_.Clr.v)),c(b),c(w)]);
if(D=="PltK")B.I.akh(n.buffer,a,o,i.buffer,[_.StrS.v,_.StDt.v,_.Sftn.v]);if(D=="PstE")B.I.ar0(n.buffer,a,o,i.buffer,[_.EdgT.v,_.EdgI.v,_.Pstr.v]);
if(D=="RghP")B.I.aft(n.buffer,a,o,i.buffer,[_.StrL.v,_.StDt.v,fa.ja.indexOf(_.TxtT.v.TxtT),_.Scln.v,_.Rlf.v,fa.tI.indexOf(_.LghD.v.LghD),_.InvT.v]);
if(D=="SmdS")B.I.atG(n.buffer,a,o,i.buffer,[_.StrL.v,_.HghA.v,_.Intn.v,_.FlRs.v,V]);if(D=="Spng")B.I.afc(n.buffer,a,o,i.buffer,[_.BrsS.v,_.Dfnt.v,_.Smth.v,_.FlRs.v,V]);
if(D=="Undr")B.I.a2C(n.buffer,a,o,i.buffer,[_.BrsS.v,_.TxtC.v,fa.ja.indexOf(_.TxtT.v.TxtT),_.Scln.v,_.Rlf.v,fa.tI.indexOf(_.LghD.v.LghD),_.InvT.v]);
if(D=="Wtrc")B.I.a6F(n.buffer,a,o,i.buffer,[_.BrsD.v,_.ShdI.v,_.Txtr.v]);if(D=="AccE")B.I.a8N(n.buffer,a,o,i.buffer,[_.EdgW.v,_.EdgB.v,_.Smth.v]);
if(D=="AngS")B.I.anK(n.buffer,a,o,i.buffer,[_.DrcB.v,_.StrL.v,_.Shrp.v]);if(D=="Crsh")B.I.ar9(n.buffer,a,o,i.buffer,[_.StrL.v,_.Shrp.v,_.Strg.v]);
if(D=="DrkS")B.I.apZ(n.buffer,a,o,i.buffer,[_.Blnc.v,_.BlcI.v,_.WhtI.v]);if(D=="InkO")B.I.a57(n.buffer,a,o,i.buffer,[_.StrL.v,_.DrkI.v,_.LghI.v]);
if(D=="Smie")B.I.a6m(n.buffer,a,o,i.buffer,[_.StrW.v,_.StrP.v,_.Cntr.v]);if(D=="DfsG")B.I.aal(n.buffer,a,o,i.buffer,[_.Grns.v,_.GlwA.v,_.ClrA.v,c(w),V]);
if(D=="CntC")B.I.agZ(n.buffer,a,o,i.buffer,[_.FrgL.v,_.BckL.v,fa.ja.indexOf(_.TxtT.v.TxtT),_.Scln.v,_.Rlf.v,fa.tI.indexOf(_.LghD.v.LghD),_.InvT.v,c(w),c(b)]);
if(D=="ChlC")B.I.aep(n.buffer,a,o,i.buffer,[_.ChrA.v,_.ChlA.v,_.StrP.v,V,c(w),c(b)]);var r=D=="GraP"||D=="Chrc"||D=="Plst"||D=="Rtcl"||D=="Stmp"||D=="TrnE";
if(r){var X=B.U(a*o);if(D=="GraP")B.I.anN(n.buffer,a,o,i.buffer,[_.StrL.v,_.LgDr.v,fa.zi.indexOf(_.SDir.v.StrD),V]);
if(D=="Chrc")B.I.a94(n.buffer,a,o,i.buffer,[_.ChAm.v,_.Dtl.v,_.LgDr.v]);if(D=="Plst")B.I.a1p(n.buffer,a,o,i.buffer,[_.ImgB.v,fa.jk.indexOf(_.LghP.v.LghP),_.Smth.v]);
if(D=="Rtcl")B.I.alX(n.buffer,a,o,i.buffer,[_.Dnst.v,_.BlcL.v,_.WhtL.v,V]);if(D=="Stmp")B.I.afH(n.buffer,a,o,i.buffer,[_.LgDr.v,_.Smth.v]);
if(D=="TrnE")B.I.at1(n.buffer,a,o,i.buffer,[_.ImgB.v,_.Smth.v,_.Cntr.v,V]);B.Ef(i.buffer,X,0);fa.zA(X,i.buffer,b,w)}if(D=="NtPr")B.I.aq8(n.buffer,a,o,i.buffer,[_.ImgB.v,_.Grns.v,_.Rlf.v,c(b),c(w),V]);
if(D=="WtrP")B.I.a0x(n.buffer,a,o,i.buffer,[_.FbrL.v,_.Brgh.v,_.Cntr.v,V>>>1]);if(D=="Crql")B.I.aay(n.buffer,a,o,i.buffer,[_.CrcS.v,_.CrcD.v,_.CrcB.v,V]);
if(D=="Grn")B.I.a89(n.buffer,a,o,i.buffer,[_.Intn.v,fa.s3.indexOf(_.Grnt.v.Grnt),_.Cntr.v,c(b),c(w),V]);
if(D=="MscT")B.I.atg(n.buffer,a,o,i.buffer,[_.TlSz.v,_.GrtW.v,_.LghG.v,V]);if(D=="Ptch")B.I.ahz(n.buffer,a,o,i.buffer,[_.SqrS.v,_.Rlf.v,V]);
if(D=="Phtc"){function $(cB,bp,N,a6){B.uE.xn(cB,bp,N,a6);for(var k=0;k<U;k++)bp[k]=Math.max(0,Math.min(255,128+cB[k]-bp[k]))}var I=_.Dtl.v,T=_.Drkn.v,e=B.U(U);
B.hE(n.buffer,e);var F=B.U(U);$(e,F,N,1);if(I==1){I=2;T=Math.round(T/4)}var y=B.U(U);$(e,y,N,I);for(var k=0;
k<U;k++)e[k]=Math.max(0,Math.min(255,255-(F[k]-y[k])*T));fa.zA(e,i.buffer,b,w)}if(D=="Spt"||D=="SprS"){var h,Y=1,K=1;
h={Wj:Math.floor(a/K),Rw:Math.floor(o/K)};h.map=new Float32Array(h.Wj*h.Rw*2);var z=new B.a.f9(_.FlRs.v),f=new Float32Array(8192),s=_.SprR.v,l=s<20?.018*s:.36+(s-20)*.128;
if(D=="SprS"){l=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][s]}for(var k=0;
k<8192;k++)f[k]=(-1+2*z.get())*l*70;for(var g=0;g<o;g++)for(var H=0;H<a;H++){var O=g*a+H<<1;h.map[O]=f[O%7919];
h.map[O+1]=f[(O+1)%7919]}var C=h.map.slice(0),ib=D=="Spt"?_.Smth.v-1:1;if(D=="Spt"&&ib!=0){fa.aZ(h.map,C,a,o,ib);
fa.TP(C,h.map,a,o,ib)}if(D=="SprS"){var hH=_.StrL.v>>>1,R=hH==0?2:1;fa.aZ(h.map,C,a,o,R);fa.TP(C,h.map,a,o,R);
if(hH!=0){var fR=fa.zi.indexOf(_.SDir.v.StrD),j4=[1,1,1,0][fR],cP=[-1,0,1,1][fR],a8=2*hH+1,d0=1/a8;for(var g=0;
g<o;g++)for(var H=0;H<a;H++){var O=g*a+H<<1,b9=0,jG=0;for(var k=0;k<a8;k++){var jP=Math.max(0,Math.min(a-1,H-(hH+k)*j4)),aq=Math.max(0,Math.min(o-1,g-(hH+k)*cP)),gM=aq*a+jP<<1;
b9+=h.map[gM];jG+=h.map[gM+1]}C[O]=b9*d0;C[O+1]=jG*d0}h.map=C}}B.zN.R0(n.buffer,i.buffer,a,o,null,h.map,h.Wj,h.Rw,Y)}if(D=="BsRl"||D=="PlsW"||D=="Chrm"){var gv=Date.now(),dT=B.U(U),aC=dT.slice(0);
B.hE(n.buffer,dT);var I=_.Dtl.v,c1=_.Smth.v;if(I!=15){B.uE.Zt(dT,aC,N,Math.round((15-I)*.5));B.nb(aC,dT)}var aj=1.4/a,bD=1.4/o,cy=new Float32Array(U),co=new Float32Array(U),hV=new Float32Array(i.buffer.buffer);
for(var g=0;g<o;g++)for(var H=0;H<a;H++){var k=g*a+H,j4=H==a-1?dT[k]-dT[k-1]:dT[k+1]-dT[k],cP=g==o-1?dT[k]-dT[k-a]:dT[k+a]-dT[k],il=H*aj-.7,h6=g*bD-.7;
cy[k]=j4==0?il:j4*.4;co[k]=cP==0?h6:cP*.4}if(D=="BsRl"){var c8=(2+fa.tI.indexOf(_.LghD.v.LghD))*Math.PI*.25,b9=Math.cos(c8);
if(Math.abs(b9)<.1)b9=0;b9=Math.sign(b9);var jG=Math.sin(c8);if(Math.abs(jG)<.1)jG=0;jG=Math.sign(jG);
var fx=1/(b9*b9+jG*jG);for(var g=0;g<o;g++)for(var H=0;H<a;H++){var k=g*a+H,bU=Math.max(-1,Math.min(1,b9*cy[k])),b6=Math.max(-1,Math.min(1,jG*co[k]));
aC[k]=128+127*(bU+b6)*fx}if(c1!=1){B.uE.Zt(aC,dT,N,Math.round((c1-1)*.5));B.nb(dT,aC)}fa.zA(aC,i.buffer,b,w)}else{if(D=="Chrm")c1=5+c1;
if(c1>1)fa.Lk(cy,co,hV,N,c1-1);if(D=="PlsW"){var iF=new Uint8Array(cy.buffer);for(var k=0;k<U;k++){var dY=k<<2,j4=cy[k],cP=co[k],bl=1/(Math.sqrt(1+j4*j4)*Math.sqrt(1+cP*cP)),dc=bl*bl,hN=dc*dc,x=~~(255*(hN*hN*dc));
iF[dY+0]=x;iF[dY+1]=x;iF[dY+2]=x;iF[dY+3]=x}i.buffer.set(n.buffer);B.a.dG("norm",iF,N,i.buffer,N,N,_.HghS.v/20)}else if(D=="Chrm"){var ga=i.buffer,b1=a>>>1,h9=o>>>1;
for(var k=0;k<U;k++){var dY=k<<2,j4=cy[k],cP=co[k],cB={x:1,y:0,_E:j4};aL.FU(cB);var bp={x:0,y:1,_E:cP};
aL.FU(bp);var eK=aL.auV(cB,bp),fm=1/eK._E,fG=~~Math.max(0,Math.min(a-1,b1-eK.x*fm*b1)),ia=~~Math.max(0,Math.min(o-1,h9-eK.y*fm*h9)),x=dT[ia*a+fG];
ga[dY+0]=x;ga[dY+1]=x;ga[dY+2]=x}}}}if(D=="Gls"||D=="OcnR"||D=="Txtz"){var iz=D=="OcnR"?2:fa.ja.indexOf(_.TxtT.v.TxtT),gG=fa.rF(iz),eA=gG[0],dT=gG[1],d3=eA.l,cY=eA.e,a8=24,ex=0,gx,c_;
function ch(jy,eM,hd){return~~(fS*(jy+eM)+8192)&127}var cy=new Float32Array(U),co=new Float32Array(U),hV=new Float32Array(i.buffer.buffer),fS=D=="OcnR"?1/(1+(_.RplS.v-1)*.1):100/_.Scln.v;
if(iz==3)fS*=32/22.2;var gv=Date.now(),fy=fS,aj=1.4/a,bD=1.4/o;if(D=="Txtz"){fy*=1/255;a8=256}for(var g=0;
g<o;g++){var ar=ch(g,N.y,cY),aq=ar+1&127;for(var H=0;H<a;H++){var k=g*a+H,aM=ch(H,N.x,d3),jP=aM+1&127,aU=0,f0=0,eV=0;
if(D=="Txtz"){aU=B.N.Jj(fS*H,fS*g,dT,128,128);f0=B.N.Jj(fS*H,fS*g+1,dT,128,128);eV=B.N.Jj(fS*H+1,fS*g,dT,128,128)}else{aU=dT[ar*d3+aM];
f0=dT[aq*d3+aM];eV=dT[ar*d3+jP]}cy[k]=Math.max(-a8,Math.min((eV-aU)*fy,a8));co[k]=Math.max(-a8,Math.min((f0-aU)*fy,a8))}}if(D=="Txtz")fa.Jp(cy,co,hV,N,6);
else fa.Lk(cy,co,hV,N,D=="Txtz"?1:D=="OcnR"?3.5/fS:_.Smth.v);if(D=="Txtz")ex=_.InvT.v?-1:1;else if(D=="Gls"){ex=[1,.4,.5,.5][iz]*(Math.exp(_.Dstr.v*.155)-1);
if(_.InvT.v)ex=-ex}else{ex=.5*(Math.exp(_.RplM.v*.155)-1)}var ga=i.buffer;if(D=="Txtz"){var c8=(2+fa.tI.indexOf(_.LghD.v.LghD))*Math.PI*.25,b9=Math.cos(c8),jG=Math.sin(c8);
gx={x:b9,y:jG,_E:0};aL.FU(gx);c_=_.Rlf.v;c_=c_/4+Math.max(0,(c_-35)*2)}function iS(cB,bp,h5){var b3=B.a.overF(bp,cB,1),jy=(1-h5)*cB+h5*(h5*bp+(1-h5)*b3);
return jy*255}for(var g=0;g<o;g++)for(var H=0;H<a;H++){var k=g*a+H,dY=k<<2,j4=cy[k],cP=co[k],cB={x:1,y:0,_E:j4};
aL.FU(cB);var bp={x:0,y:1,_E:cP};aL.FU(bp);var eK=aL.auV(cB,bp);if(D=="Txtz"){var cr=aL.a8j(eK,gx)*ex,h5=1,x=1;
if(cr<0){x=0;cr=-cr}h5=Math.min(1,cr*c_);ga[dY+0]=~~iS(n.buffer[dY]*(1/255),x,h5);ga[dY+1]=~~iS(n.buffer[dY+1]*(1/255),x,h5);
ga[dY+2]=~~iS(n.buffer[dY+2]*(1/255),x,h5)}else{var fm=ex/eK._E,fG=~~Math.max(0,Math.min(a-1,H-eK.x*fm)),ia=~~Math.max(0,Math.min(o-1,g-eK.y*fm)),fW=ia*a+fG<<2;
ga[dY+0]=n.buffer[fW];ga[dY+1]=n.buffer[fW+1];ga[dY+2]=n.buffer[fW+2]}}}if(D=="PntD"){var cs=_.Shrp.v*.4,eS=_.BrsT.v.BrsT,a$={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[eS],a6=Math.round(_.Sz.v*.5);
B.OR.n7=a$[0];var gw=B.OR.fS;B.OR.S9(n.buffer,i.buffer,a,o,a6,gw,[]);var bO=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
bO=B.ax.Gw(bO);var ak=i.buffer.slice(0);B.ax.mA(ak,i.buffer,a,o,bO,0);for(var k=0;k<n.buffer.length;
k++){var br=i.buffer[k]-ak[k];i.buffer[k]=Math.max(0,Math.min(255,ak[k]+cs*br))}}if(D=="GlwE"){var iZ=i.buffer.slice(0);
B.OR.n7=.5;var gw=B.OR.fS;B.OR.S9(n.buffer,iZ,a,o,_.Smth.v>>>1,gw,[]);B.ax.S7(iZ,i.buffer,a,o);B.nb(i.buffer,iZ);
B.ei(iZ);B.o5(iZ,4278190080,16777215);B.OR.S9(iZ,i.buffer,a,o,_.EdgW.v>>>1,B.OR.He,[]);var cU=_.EdgB.v/10;
for(var k=0;k<iZ.length;k++){if((k&3)==3)continue;var b3=i.buffer[k];i.buffer[k]=Math.max(0,Math.min(255,b3*cU))}}if(D=="StnG"){B.dQ.a8T(n.buffer,a,o,i.buffer,_.ClSz.v,[Math.round(b.p),Math.round(b.z),Math.round(b.S)],_.BrdT.v)}if(D=="HlfS"){var au=_.HlSz.v,ef=au*2+1,jj=_.Cntr.v,gz=fa.OK.indexOf(_.ScrT.v.ScrT),U=a*o,hs=U*4,hi=B.U(U),jp=n.buffer,h7=0,fD=0;
fa.hj(jp,hi);var cO=hi.slice(0);B.uE.lI(cO,hi,N,au);var iG=Math.PI/ef,a2=new Float64Array(a),b9=new Float64Array(a),j6=new Float64Array(2*a);
for(var H=0;H<a;H++){var aM=(H-(a>>>1))*iG;a2[H]=aM*aM;b9[H]=Math.cos(aM);var j4=H<<1;j6[j4]=Math.sin(j4*(1/4.5));
j6[j4+1]=Math.sin((j4+1)*(1/4.5))}for(var g=0;g<o;g++){var ar=(g-(o>>>1))*iG,jG=Math.cos(ar),dZ=ar*ar;
for(var H=0;H<a;H++){var x=jG;if(gz==0){var a1=.5+Math.sqrt(a2[H]+dZ)*4.5;x=j6[~~a1]}else if(gz==1){x=b9[H]*jG}var k=g*a+H,h0=hi[k]*(.75+.25*x),h5=jp[(k<<2)+3]*(1/255),iU=Math.max(0,Math.min(255,~~h0));
h7+=iU*h5,fD+=h5;hi[k]=iU}}h7/=fD;var aK=128+1.26*(h7-128),cU=.08+.25*Math.abs((128-h7)/128),gt=1+cU*jj;
for(var k=0;k<U;k++){var h0=aK+(hi[k]-aK)*gt;hi[k]=Math.max(0,Math.min(255,~~h0))}if(jj>46)B.round(hi);
fa.zA(hi,i.buffer,b,w)}for(var k=0;k<n.buffer.length;k+=4)i.buffer[k+3]=n.buffer[k+3]};fa.zA=function(D,n,_,b){var w=D.length,i=_.p,M=_.z,N=_.S,a=b.p,o=b.z,U=b.S;
for(var k=0;k<w;k++){var V=D[k]*(1/255),c=1-V,E=k<<2;n[E]=~~(i*c+a*V);n[E+1]=~~(M*c+o*V);n[E+2]=~~(N*c+U*V)}};
fa.rF=function(D){if(D==6)D=2;var n="blocks canvas frosted tinylens brick burlap".split(" ")[D];if(fa.p0==null)fa.p0=[];
if(fa.p0[D]==null){var _,b;if(D==2){b=new gl(0,0,128,128);var w=cq.D2("AdNs");w.Mnch.v=!0;w.Dstr.v.Dstr="Gsn";
w.Nose.v.val=50;var _=B.U(b.u()*4),i=_.slice(0);new Uint32Array(i.buffer).fill(4286611584);cq.pe("AdNs",{buffer:i,rect:b},w,0,0,{buffer:_,rect:b})}else{var M=eF.dm.get("tex/"+n,!0)[0];
b=M.jr;_=new Uint8Array(M.data)}var N=B.U(b.u());B.Ef(_,N,0);fa.p0[D]=[b,N]}return fa.p0[D]};fa.Lk=function(D,n,_,b,w){if(w<=1){w=Math.round(w);
fa.Jp(D,n,_,b,[1,16,4][w]);return}var i=w*.42;if(D){B.uE.pB(D,_,b,i,3);D.set(_)}if(n){B.uE.pB(n,_,b,i,3);
n.set(_)}};fa.Jp=function(D,n,_,b,w){var i=B.ax.Gw([1,2,1,2,w,2,1,2,1]);if(D){_.set(D);B.ax.Ya(D,_,b.l,b.e,i);
D.set(_)}if(n){_.set(n);B.ax.Ya(n,_,b.l,b.e,i);n.set(_)}};fa.Oi=function(D){if(D==null)return new gZ(0,0);
var n=0,_=D.GEfs?D.GEfs.v:[{v:D}];for(var k=0;k<_.length;k++){var b=_[k].v,i=1e4;if(b.GELv&&!b.GELv.v)continue;
var w=b.GEfk.v.GEft;if(w=="GlwE"||w=="Phtc"||w=="BsRl"||w=="PlsW"||w=="Chrm"||w=="Gls"||w=="OcnR")i=0;
n=Math.max(n,i)}return new gZ(n,n)};fa.xJ=function(D){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0],_=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][D];
for(var k=0;k<13;k++){var b=k-6;n[k]=1/(_*Math.sqrt(2*Math.PI))*Math.exp(-.5*(b/_)*(b/_))}return n};
fa.aZ=function(D,n,_,b,w){var i=fa.xJ(w),M=6,N=13;for(var a=0;a<b;a++)for(var o=0;o<_;o++){var U=a*_+o<<1,V=0,c=0;
for(var k=0;k<N;k++){var E=o+k-M,A=E<0?0:E>=_?_-1:E,Q=(a*_+A)*2,J=i[k];V+=J*D[Q];c+=J*D[Q+1]}n[U]=V;
n[U+1]=c}};fa.TP=function(D,n,_,b,w){var i=fa.xJ(w),M=6,N=13;for(var a=0;a<b;a++)for(var o=0;o<_;o++){var U=a*_+o<<1,V=0,c=0;
for(var k=0;k<N;k++){var E=a+k-M,A=E<0?0:E>=b?b-1:E,Q=(A*_+o)*2,J=i[k];V+=J*D[Q];c+=J*D[Q+1]}n[U]=V;
n[U+1]=c}};function jz(){}jz.Fk=[2,5,5,7,4,4];jz._w="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
jz.t7="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
jz.BP=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
jz.B9=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
jz.GV=function(D){if(D=="passThrough")return"pass";return jz._w[jz.t7.indexOf(D)]};jz.j0=function(D){if(D=="pass")return"passThrough";
return jz.t7[jz._w.indexOf(D)]};jz.getName=function(D){return jz.BP[jz._w.indexOf(D)]};function q(){this.rect=null;
this.buffer=null;this.QQ="norm";this.opacity=255;this.kF=!1;this.VN=0;this.VT=0;this.ZL=!0;this.Nk=[];
for(var k=0;k<10;k++)this.Nk.push(0,0,255,255);this.name=null;this.add={};this.tH=null;this.vK=null;
this.v=null;this.dn=null;this.ai2=30;this.wH=q.xa();this.ahH=q.xa();this.a3e=q.xa();this.asH=q.xa();
this.P8=0;this.q_=!1;this.AN=null;this.kz=new q.TU}q.xa=function(){var D=document.createElement("canvas");
D.width=D.height=30;return D.getContext("2d")};q.TU=function(){this.HZ=!0;this.jP=!0;this.xr=B.U(0);
this.a6z=B.U(0);this.aE=null;this.Qj={};this.ah7=null;this.ux=null;this.uh=null;this.o4=null;this.u2=null;
this.YU=null;this.bG=null;this.o3=null;this.aD=null;this.bt=null;this.S8=null;this.QE=null;this.Xq=!1};
q.TU.prototype.nl=function(){this.HZ=!1;this.jP=!1;this.aE=null;this.Xq=p.b$};q.TU.prototype.ahj=function(){aL.ap3(this.Qj);
this.xr=B.U(0);this.a6z=B.U(0);if(this.o4)this.o4.delete();if(this.u2)this.u2.delete();this.o4=null;
this.u2=null;var D=[this.YU,this.bG,this.o3,this.aD,this.bt,this.S8];for(var k=0;k<6;k++)if(D[k]!=null&&D[k]instanceof p.YV)D[k].delete();
this.YU=null;this.bG=null;this.o3=null;this.aD=null;this.bt=null;this.S8=null};q.prototype.G=function(D){if(D==null)D=this.rect.clone();
if(this.kz.aE==null)this.kz.aE=D;else this.kz.aE=this.kz.aE.Ik(D)};q.prototype.nR=function(){return this.add.lsct==f4.AU||this.add.lsct==f4.Aj};
q.prototype.x6=function(){var D=this.add;return D.SoCo!=null||D.GdFl!=null||D.PtFl!=null};q.prototype.yx=function(){var D=this.add.lmfx;
if(D==null)return;var n=["GrFl","patternFill"];for(var k=0;k<n.length;k++){var _=ci.L0[ci.order.indexOf(n[k])],b=D[_].v;
if(b.length==0)continue;for(var w=0;w<b.length;w++){var i=b[w].v;if(i.enab.v&&(i.Algn==null||!i.Algn.v))this.kz.jP=!0}}};
q.prototype.EZ=function(){var D=this.v;if(this.x6())D=this.us();if(!p.b$)return D.Ns();if(this.kz.u2==null||this.kz.HZ||p.b$!=this.kz.Xq){if(this.kz.u2)this.kz.u2.delete();
this.kz.u2=new p.EU(D.YL().l,D.YL().e);this.kz.u2.set(D.Ns())}return this.kz.u2};q.prototype.fL=function(D){var n=this.rect,_=this.buffer;
if(!p.b$){var b=this.Iz(D,_,n);if(b){_=b.B_;n=b.rect}return _}if(this.kz.aE!=null||p.b$!=this.kz.Xq){var b=this.Iz(D,_,n);
if(b){_=b.B_;n=b.rect}var w=n;if(p.b$!=this.kz.Xq||this.kz.o4==null||this.kz.o4.l!=w.l||this.kz.o4.e!=w.e){if(this.kz.o4)this.kz.o4.delete();
this.kz.o4=new p.YV(w.l,w.e);this.kz.o4.set(_)}else{var i=this.kz.aE.clone();i.offset(-n.x,-n.y);this.kz.o4.set(_,i)}}return this.kz.o4};
q.prototype.px=function(){var D=this.v;if(this.x6())D=this.us();return D!=null&&D.isEnabled&&(!D.rect.hk()||D.kj()!=255)};
q.prototype.Iz=function(D,n,_){if(this.Ug()){var b=this.tr(D);if(b.v&&b.v.isEnabled&&(!b.v.rect.hk()||b.v.color==0)){var w=this.add.SoLd.filterFX.v;
b.v._i=w.filterMaskDensity?w.filterMaskDensity.v:255;b.v.rq=w.filterMaskFeather?w.filterMaskFeather.v:0;
var i=b.buffer,M=b.rect;if(M.u()<_.u()){M=_;i=B.U(M.u()*4);B.E3(b.buffer,b.rect,i,M)}var N=b.v.xD(_);
B.ei(N);n=n.slice(0);B.a.ih(i,M,n,_,N,_,0,_,1);return{B_:n,rect:_}}}};q.prototype.afN=function(){var D={ml:!1,k0:!1,Yb:0,ts:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)D.k0=!0;if(this.us()&&this.us().isEnabled)D.ml=!0;if(D.ml&&D.k0){D.Yb=this.us().rect.x-this.add.vmsk.us().rect.x;
D.ts=this.us().rect.y-this.add.vmsk.us().rect.y}return D};q.prototype.p8=function(D){if(this.add.lsct==f4.CV)return;
var n=this,_=this.us()!=null&&this.us().Vk,b=this.add.vmsk!=null&&this.add.vmsk.Vk,w=this.afN(),i=JSON.stringify(w)!=this.kz.ah7||w.ml&&_||w.k0&&b;
if(i){if(w.k0){var M=this.add.vmsk.us();if(w.ml){this.v=this.us().H9(M);this.kz.ux=new gZ(this.v.rect.x-this.us().rect.x,this.v.rect.y-this.us().rect.y)}else this.v=M}if(this.v)this.kz.HZ=!0;
if(this.v)this.kz.uh=new gZ(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if(w.ml)this.us().Vk=!1;
if(w.k0)this.add.vmsk.Vk=!1;this.G()}else{if(w.ml&&w.k0){this.v.rect.x=this.us().rect.x+this.kz.ux.x;
this.v.rect.y=this.us().rect.y+this.kz.ux.y}}if(n.x6()){this.VV(D)}if(n.V6()){var N;if(this.v)N=new gZ(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.kz.uh==null||!N.l8(this.kz.uh))){this.kz.uh=N;this.G();this.kz.HZ=!0}}if(fg.get(n.add)!=null)this.kz.HZ=!0;
this.kz.ah7=JSON.stringify(w)};q.prototype.VV=function(D){var n=this,_=n.add.vstk,b=new gl(0,0,D.l,D.e),w,i=n.add.vmsk?this.add.vmsk.us():null,a=!0,V;
if(i&&i.isEnabled&&i.kj()==0)w=i.YL().clone();else w=b;var M=n.us();if(M&&M.isEnabled&&M.kj()==0)w=w.zE(n.v.YL());
var N=i&&_;if(_&&(!_.strokeEnabled.v||_.strokeStyleLineWidth.v.val==0))N=!1;if(_&&!_.fillEnabled.v&&N)a=!1;
var o=B.U(w.u()*4);if(a){if(n.add.SoCo)aL.aO(o,n.add.SoCo.Clr.v);if(n.add.GdFl){var U=i&&i.color==0?B.$.DJ(n.add.vmsk.Y,null,!0):null;
aL.Cd(n.add.GdFl,o,w,D,null,U)}if(n.add.PtFl)aL.Ad(n.add.PtFl,o,w,D.add.Patt,n.add.fxrp)}if(N)V=ci.yg.l9.indexOf(_.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(i){var c=i._i;if(N)i._i=255;var E=B.U(w.u());if(i.kj()!=0)E.fill(Math.round(i.kj()));if(i&&i.isEnabled){var A=i.YL(),Q=i.Ns();
if(A.l8(w))B.nb(Q,E);else B.I4(Q,A,E,w)}if(N&&V==2){}else{if(n.add.SoCo&&a){B.tD(E,o,3)}else B._B(E,w,o,w)}if(N)i._i=c}n.buffer=o;
n.rect=w;if(N){var J=_.strokeStyleContent.v,L=ci.yg.bR.indexOf(J.classID),P=this.add.vmsk.us(_);if(V!=0&&!n.rect.l8(b))n.extend(n.rect.Ik(P.YL()));
var c=P._i;P._i=255;var u=P.xD(n.rect);P._i=c;if(P.color==255)B.ei(u);var m=B.U(n.rect.u()*4);if(L==0)aL.aO(m,J.Clr.v);
if(L==1)aL.Cd(J,m,n.rect,D,null,i.color==0?i.rect:null);if(L==2)aL.Ad(J,m,n.rect,D.add.Patt,n.add.fxrp);
var x=_.strokeStyleOpacity.v.val/100;if(x!=1)B.P_(u,x);if(P.color==255)V=2-V;if(V<2){B.a.ih(m,n.rect,n.buffer,n.rect,u,n.rect,255,n.rect,1,!1);
if(V==0)B.Aq(E,n.buffer)}if(V==2){B.Aq(u,m);B.ei(E);B.a.ih(m,n.rect,n.buffer,n.rect,E,w,255,n.rect,1,!1);
B.ei(E)}if(P._i!=255){var v=m.slice(0);B.o5(v,4278190080,16777215);B.a.dG("norm",v,n.rect,n.buffer,n.rect,n.rect,1-P._i/255)}c=i._i;
i._i=255;this.a6z=i.xD(n.rect);i._i=c}this.G()};q.prototype.RZ=function(D,n){var _=this,b=_.add.SoLd.Idnt.v,w=_.add.SoLd,i=B.H.t0(G.Q.CJ(w.nonAffineTransform)),M=D.xF(b,w.Crop?w.Crop.v:null,[i.l,i.e],w.Impr.v.classID),c=1;
if(M==null)return;var N=M.Gj;w.Sz.v.Wdth.v=N[1].l;w.Sz.v.Hght.v=N[1].e;var a=M.Cn==null?w.Rslt.v.val:M.Cn,o=w.warp.v,U=G.Q.CJ(w.nonAffineTransform),V=N[1].clone();
V.l*=c;V.e*=c;V.x=(N[1].l-V.l)/2;V.y=(N[1].e-V.e)/2;var E=B.N.Ng(U,V);if(o&&!B.ie.VW(o)){var i=B.H.t0(B.ie.W_(o)),A=i.x,Q=i.y,J=1/i.l,L=1/i.e;
E=B.N.Ng(U);E=B.N.H9(E,[J,0,-A*J,0,L,-Q*L,0,0])}var P=G.Q.lo(N,n?0:1,E,o,null,null,null,n);if(P==null){_.buffer=B.U();
_.rect=new gl}else if(_.Ug()){var u=_.tr(D);u.buffer=P.buffer;u.rect=P.rect.clone();this.Az(D,n)}else{_.buffer=P.buffer;
_.rect=P.rect}_.p8(D);_.G();D.G()};q.prototype.Az=function(D,n){if(n==null)n=!1;var _=this.tr(D),b=this.add.SoLd.filterFX.v,w=cq.apS(b),i=new gl(0,0,D.l,D.e),M=_.rect.Ik(i),N=_.rect.clone();
N.Iq(w.x,w.y);var a={buffer:null,rect:M.zE(N)};a.buffer=B.U(a.rect.u()*4);B.E3(_.buffer,_.rect,a.buffer,a.rect);
if(b.enab.v&&n==!1){var o=b.filterFXList.v;for(var k=0;k<o.length;k++){var U=o[k].v;if(U.enab.v==!1)continue;
var V=U.blendOptions.v,c=jz.GV(V.Md.v.BlnM),E=V.Opct.v.val/100,A=B.X.kj(U.FrgC.v),Q=B.X.kj(U.BckC.v),J=cq.VM(U),L={buffer:B.U(a.buffer.length),rect:a.rect.clone()},P=U.Fltr?U.Fltr.v:null;
if(fg.ic[J]!=null){var u=fg.ic[J],m=fg.pG(u,P);if(m)fg.pe(m,a.buffer,L.buffer,a.rect)}else cq.pe(J,a,P,A,Q,L,[D.add.lnk2?D.add.lnk2:[],this.us(),D.wK]);
if(c=="norm"&&E==1)a=L;else if(c=="norm"){B.a.ih(L.buffer,L.rect,a.buffer,a.rect,null,null,null,a.rect,E)}else{B.a.dG(c,L.buffer,L.rect,a.buffer,a.rect,a.rect,E)}}}this.rect=a.rect;
this.buffer=a.buffer;this.B2();this.G();D.G()};q.prototype.sd=function(D,n,_){this.AN=this.yo(D,n,_)};
q.prototype.Y5=function(D,n){var _=this.yo(D,n,!0);if(_==null)return null;var b={Iu:_.P8,j3:_.Aa,rect:_.XC};
if(b.Iu==1||b.Iu==3){var w=b.rect,i=B.U(w.l*w.e*4);B.tD(b.j3,i,0);B.tD(b.j3,i,1);B.tD(b.j3,i,2);B.Os(D.q.channel,D.q.rect,i,w);
b.j3=i}return b};q.prototype.yo=function(D,n,_){var b,w,i,M,N,a,o;if(this.P8<=0){var U=B.U(this.rect.u());
B.Ef(this.buffer,U,3);b=B.$c.vD(n,{channel:U,rect:this.rect},3);if(b==null)return null;var V=B.y2(b.channel,b.rect);
M=b.rect.clone();N=this.rect.clone();w=B.U(M.u()*4);B.E3(this.buffer,N,w,M);B.tD(b.channel,w,3);i=this.buffer.slice(0);
if(!_){var c=n.channel.slice(0);B.ei(c);B._B(c,n.rect,i,N)}a=this.buffer.slice(0);o=this.rect.clone()}if(this.P8==1||this.P8==3){var E=this.P8==1?this.us():this.tr(D).v;
M=n.rect.clone();N=E.rect.clone();w=E.O5(M);var i=E.channel.slice(0);if(!_)B.a.HT(E.color==255?B.zl(M.u()):B.ae(M.u()),M,i,N,n.channel,M,1);
a=E.channel.slice(0);o=E.rect.clone()}return{P8:this.P8,Aa:w,XC:M,PH:i,dV:N,ZH:a,jw:o}};q.prototype.t1=function(D,n){var _=this.AN;
if(_.P8==0){this.rect=_.jw;this.buffer=_.ZH;this.G()}if(_.P8==1||_.P8==3){var b=_.P8==1?this.us():this.tr(D).v;
b.channel=_.ZH;b.rect=_.jw;if(this.P8==1){b.Vk=!0;this.p8(D)}if(this.P8==3)this.G()}this.AN=n};q.prototype.Zr=function(D,n){if(this.P8<=0&&n.rect.l8(this.rect)){var _=B.U(this.rect.u());
B.Ef(this.buffer,_,3);if(B.l8(D.q.channel,_)){var b=this.rect,w=this.buffer;this.AN={P8:this.P8,Aa:w.slice(0),XC:b.clone(),PH:B.U(0),dV:new gl,ZH:B.U(0),jw:new gl};
return!0}}var i=this.AN;if(i==null)return!1;if(i.P8!=this.P8)return!1;if(!n.rect.l8(i.XC))return!1;var M=i.dV.Ik(i.XC);
if(i.P8<=0){if(!M.l8(this.rect))return!1;var N=B.U(i.Aa.length>>2);B.Ef(i.Aa,N,3);if(!B.l8(n.channel,N))return!1;
var a=B.U(M.l*M.e*4);B.E3(i.PH,i.dV,a,M);B.a.dG("norm",i.Aa,i.XC,a,M,M,1);return B.l8(a,this.buffer)}if(i.P8==1||i.P8==3){var o=i.P8==1?this.us():this.tr(D).v;
if(!M.l8(o.rect))return!1;var U=B.U(M.u());U.fill(o.color);B.I4(i.PH,i.dV,U,M);B.a.HT(i.Aa,i.XC,U,M,n.channel,M,1);
return B.l8(U,o.channel)}};q.prototype.JA=function(D,n,_,b){var w=this.AN;w.XC.offset(n,_);var i=w.dV.Ik(w.XC);
if(w.P8<=0){var M=B.U(i.u()*4);B.E3(w.PH,w.dV,M,i);B.a.dG("norm",w.Aa,w.XC,M,i,i,1);this.buffer=M;this.rect=i;
this.G()}else{var N=this.P8==1?this.us():this.tr(D).v,a=B.U(i.u());a.fill(N.color);B.I4(w.PH,w.dV,a,i);
B.a.HT(w.Aa,w.XC,a,i,b.channel,i,1);N.channel=a;N.rect=i.clone();if(this.P8==1){N.Vk=!0;this.p8(D)}if(this.P8==3)this.G()}};
q.prototype.fY=function(){var D=[-1,0,1,2];if(this.v)D.push(-2);if(this.dn)D.push(-3);return D};q.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
q.prototype.rK=function(cQ){this.add.luni=this.name=cQ};q.prototype.ZY=function(D){var n=this.add.lnsr,_=this.add.TySh;
if(n=="rend"&&_){var b=jg.kb(_.uP);this.rK(b.slice(0,b.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
q.prototype.h$=function(){return(this.VN&1<<1)==0};q.prototype.V6=function(){return(this.VN&1<<4)==0};
q.prototype.Rc=function(){return(this.VN&1<<5)!=0};q.prototype.ati=function(){var D=this;if(D.add.lnsr!="bgnd"){D.add.lnsr="bgnd";
D.rK("Background");D.add.lspf=1<<2}};q.prototype.ajv=function(){var D=this;if(D.add.lnsr=="bgnd"){delete D.add.lnsr;
D.rK("Layer 0");D.add.lspf=0}};q.prototype.Nd=function(D){var n=this.add.lspf;return n==null?!1:(n>>D&1)!=0};
q.prototype.oj=function(D){if(D&&!this.h$())this.VN-=2;if(!D&&this.h$())this.VN+=2};q.prototype.B5=function(){var D=this.add.lmfx;
if(D==null)return!1;for(var n in D){if(n=="masterFXSwitch")continue;if(n=="Scl")continue;if(n=="classID")continue;
if(D[n].v.length>0)return!0}return!1};q.prototype.Ug=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
q.prototype.Av=function(){var D=this.add.lmfx;if(D==null)return!1;if(!D.masterFXSwitch.v)return!1;for(var n in D){if(n=="masterFXSwitch")continue;
if(n=="Scl")continue;if(n=="classID")continue;var _=D[n].v;for(var k=0;k<_.length;k++)if(_[k].v.enab.v)return!0}return!1};
q.prototype.HU=function(D,n,_,b){var w=new gl,i=this.vG(D,_,b);if(i.indexOf(0)!=-1)w=w.Ik(this.rect);
if(i.indexOf(1)!=-1){var M=this.us(),N=M.YL();w=_&&M.kj()==0?w.hk()?N:w.zE(N):w.Ik(N)}if(i.indexOf(2)!=-1){var a=this.add.vmsk,o=this.add.vstk,U;
if(n){U=B.$.DJ(a.Y,a.w.length!=0?a.w:null)}else U=B.$.DJ(a.Y);if(!b&&o&&o.strokeEnabled.v){var V=o.strokeStyleLineAlignment.v.strokeStyleLineAlignment,c=o.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(V!="strokeStyleAlignInside"){var E=o.strokeStyleLineWidth.v.val;if(c=="strokeStyleMiterJoin")U=new gl(0,0,D.l,D.e);
else U.Iq(E,E)}}w=w.Ik(U)}if(i.indexOf(3)!=-1)w=w.Ik(this.tr(D).v.YL());if(i.length==0&&this.x6())w=b?new gl(0,0,0,0):new gl(0,0,D.l,D.e);
return w};q.prototype.W9=function(){var D=this.add.artb,n=D.artboardBackgroundType.v,_=0;if(n==1)_=4294967295;
else if(n==2)_=4278190080;else if(n==3)_=0;else if(n==4){_=D.Clr.v;_=255<<24|_.Bl.v<<16|_.Grn.v<<8|_.Rd.v}else throw n;
return _};q.prototype.w3=function(){var D=this.add.artb.artboardRect.v,n=D.Btom.v,_=D.Left.v,b=D.Rght.v,top=D.Top.v;
return new gl(_,top,b-_,n-top)};q.prototype.Cx=function(D){var n=q.xR(D);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=n};q.xR=function(D){var n={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
n.Btom.v=D.y+D.e;n.Left.v=D.x;n.Rght.v=D.x+D.l;n.Top.v=D.y;return n};q.prototype.vG=function(D,n,_){var b=[],w=this;
if(!n&&w.q_&&_){b.push(2)}else if(w.P8<=0||n){if(w.V6())if(!this.rect.hk())b.push(0);if(w.us()&&!w.us().rect.hk())if(w.us().c9||n)b.push(1);
if(w.add.vmsk)if(w.add.vmsk.c9||n)b.push(2);if(w.Ug()&&w.tr(D).v&&!w.tr(D).v.rect.hk())b.push(3)}else if(w.P8==1){b.push(1);
if(w.us().c9&&!w.us().rect.hk()){if(w.V6())if(!this.rect.hk())b.push(0);if(w.add.vmsk)if(w.add.vmsk.c9)b.push(2)}}else if(w.P8==3&&!w.tr(D).v.rect.hk())b.push(3);
if(w.add.artb&&b.indexOf(0)==-1)b.push(0);b.sort();return b};q.prototype.us=function(){var D=this;return D.dn?D.dn:D.add.vmsk&&D.add.vmsk.isEnabled?null:D.v};
q.prototype.tr=function(D){var n=this.add.SoLd.placed.v,_=D.add.FEid;if(_==null)return null;for(var k=0;
k<_.length;k++)if(_[k].id==n)return _[k];return null};q.prototype.extend=function(D){B.a7z(this,D)};
q.prototype.ia=function(D,n,_){var b=D.clone();if(this.Av()){var w=this.add.lmfx,i=n.root.D5(n.b.indexOf(this)),M=w.gradientFillMulti.v,N=!1;
for(var k=0;k<M.length;k++)if(M[k].v.enab.v&&M[k].v.Algn.v)N=!0;if(N)b=b.Ik(i.YL(n,!1));var a=aL.a5m(this.add.lmfx,n,_);
b.offset(a.x,a.y);b.l+=a.l;b.e+=a.e}return b};q.prototype.B2=function(){if(this.V6())B.NQ(this);var D=this.us();
if(D)D.B2()};q.prototype.clone=function(){var D=new q;D.rect=this.rect.clone();D.buffer=this.buffer.slice(0);
D.QQ=this.QQ;D.opacity=this.opacity;D.kF=this.kF;D.VN=this.VN;D.name=this.name;D.Nk=this.Nk.slice(0);
if(this.v)D.v=this.v.clone();if(this.dn)D.dn=this.dn.clone();for(var n in this.add)D.add[n]=cL.clone(n,this.add[n]);
return D};q.prototype.DE=function(D){var n=this;if(n.add.TySh)delete n.add.TySh;if(n.add.SoLd){var _=this.Iz(D,this.buffer,this.rect);
if(_){this.buffer=_.B_;this.rect=_.rect;this.G()}delete n.add.SoLd}if(n.add.SoCo||n.add.GdFl||n.add.PtFl){if(n.add.vogk)delete n.add.vogk;
if(n.add.SoCo)delete n.add.SoCo;if(n.add.GdFl)delete n.add.GdFl;if(n.add.PtFl)delete n.add.PtFl;if(n.add.vmsk){console.log(n.dn,n.v);
delete n.add.vmsk;if(n.dn==null&&n.v)delete n.v;else if(n.dn!=null&&n.v!=null){n.v=n.dn;delete n.dn}}}if(!n.nR()&&fg.get(n.add)==null&&!this.V6())this.VN-=16};
q.prototype.je=function(D){var n=255,_=0;if(D==2){var b=this.add.SoLd.filterFX.v;if(b.filterMaskDensity)n=b.filterMaskDensity.v;
if(b.filterMaskFeather)_=b.filterMaskFeather.v}else{var w=D==0?this.us():this.add.vmsk;n=w._i;_=w.rq}return{VG:D,MW:n,Mk:_}};
q.prototype.Vg=function(D){if(D.VG==2){var n=this.add.SoLd.filterFX.v;if(D.MW==255)delete n.filterMaskDensity;
else n.filterMaskDensity={t:"long",v:D.MW};if(D.Mk==0)delete n.filterMaskFeather;else n.filterMaskFeather={t:"doub",v:D.Mk};
this.G()}else{var _=D.VG==0?this.us():this.add.vmsk;_._i=D.MW;_.rq=D.Mk;_.Vk=!0}};q.prototype.GL=function(){var D=this,n=D.add.vmsk;
if(n==null)return;D.add.vogk=q.GL(n.Y)};q.GL=function(D){var n=[],_=B.$.Vz(D);for(var b=0;b<_;b++)n.push(B.dd.ae());
return n};var f4={h1:0,AU:1,Aj:2,CV:3};q.$L=function(){this.name="Mask";this.Lr=!1;this.zs={p:255,z:0,S:0};
this.Qs=50;this.MJ=0;this.color=255;this.c9=!0;this.isEnabled=!0;this.Cm=!1;this._i=255;this.rq=0;this.rect=new gl;
this.channel=B.U(0);this.CC=null;this.a4V=null;this.Vk=!0};q.$L.prototype.H9=function(D){if(!this.isEnabled)return D;
var n=new q.$L;n.color=Math.round(this.kj()*D.kj()/255);if(this.kj()==0&&D.kj()==0)n.rect=this.YL().zE(D.YL());
else if(D.kj()==0)n.rect=D.YL().clone();else if(this.kj()==0)n.rect=this.YL().clone();else n.rect=this.YL().Ik(D.YL());
n.channel=this.xD(n.rect);n._i=255;n.rq=0;var _=D.xD(n.rect);B.akD(_,n.rect,n.channel,n.rect);return n};
q.$L.prototype.YL=function(){if(this.rq==0)return this.rect;var D=Math.ceil(this.rq*2.2),n=this.rect.clone();
if(n.y==0){if(n.x==0)n.l+=D;else n.Iq(D,0);n.e+=D}else n.Iq(D,D);return n};q.$L.prototype.Ns=function(){if(this.rq==0&&this._i==255)return this.channel;
if(this.rq==0){var D=this.channel.slice(0);B.ei(D);B.P_(D,this._i/255);B.ei(D);return D}var n=this.YL(),_=this.O5(n),D=B.U(n.u());
B.uE.Zt(_,D,n,this.rq);if(this._i!=255){B.ei(D);B.P_(D,this._i/255);B.ei(D)}return D};q.$L.prototype.kj=function(){return Math.round(255-(255-this.color)*(this._i/255))};
q.$L.prototype.extend=function(D){B.extend(this,D,this.color)};q.$L.prototype.B2=function(){if(this.color==255)B.ei(this.channel);
B.B2(this);if(this.color==255)B.ei(this.channel)};q.$L.prototype.clone=function(){var D=new q.$L;D.name=this.name;
D.Lr=this.Lr;D.zs=this.zs;D.Qs=this.Qs;D.MJ=this.MJ;D.color=this.color;D.c9=this.c9;D.isEnabled=this.isEnabled;
D.Cm=this.Cm;D._i=this._i;D.rq=this.rq;D.rect=this.rect.clone();D.channel=this.channel.slice(0);return D};
q.$L.prototype.O5=function(D,n){if(n==null)n=B.U(D.u());n.fill(this.color);B.I4(this.channel,this.rect,n,D);
return n};q.$L.prototype.xD=function(D,n){var _=this.YL(),b=this.Ns();if(n==null)n=B.U(D.u());n.fill(this.kj());
B.I4(b,_,n,D);return n};q.IQ=function(){this.c9=!0;this.isEnabled=!0;this._i=255;this.rq=0;this.Y=[{type:6},{type:8,all:0}];
this.OJ=[-3,-3];this.t4=!1;this.dn=null;this.Vk=!0;this.w=[];this.em=[]};q.IQ.prototype.offset=function(D,n){this.dn=this.us();
B.$.vZ(this.Y,new e3(1,0,0,1,D,n));this.dn.rect.offset(D,n)};q.IQ.prototype.us=function(D){if(!this.Vk&&this.dn&&D==null){this.dn.isEnabled=this.isEnabled;
return this.dn}var n=B.$.DJ(this.Y),_="strokeStyleLineAlignment",b="strokeStyleLineJoinType";if(n.u()>3e4*3e4)n=new gl(0,0,100,100);
if(D&&D[_].v[_]!="strokeStyleAlignInside"){var w=1;if(D[b].v[b]=="strokeStyleMiterJoin"){var i=B.$.a0u(this.Y),M=i/2,N=Math.sin(M),a=Math.cos(M);
a/=N;N=1;var w=Math.sqrt(a*a+N*N);if(isNaN(w)||w<1)w=1}w*=D[_].v[_]=="strokeStyleAlignOutside"?1:.5;
var o=Math.ceil(D.strokeStyleLineWidth.v.val*w);o=Math.min(o,600);n.Iq(o,o)}n=B.H.__(n);var U=new q.$L;
U.color=B.$.UN(this.Y)?0:255;U.c9=this.c9;U.isEnabled=this.isEnabled;U.Cm=!0;U.rect=n;U._i=this._i;U.rq=this.rq;
U.channel=B.U(U.rect.u());if(!n.hk())B.$.adt(this.Y,U.channel,U.rect,D);if(D==null){this.dn=U;this.Vk=!1}return U};
q.IQ.prototype.clone=function(){var D=new q.IQ;D.c9=this.c9;D.isEnabled=this.isEnabled;D._i=this._i;
D.rq=this.rq;D.Y=q.IQ.n$(this.Y);D.OJ=this.OJ.slice(0);D.t4=this.t4;D.w=this.w.slice(0);D.em=this.em.slice(0);
return D};q.IQ.prototype.concat=function(D){var n=D.Y.slice(2);if(n.length==0)return;n[0].gW=3;this.Y=this.Y.concat(n)};
q.IQ.n$=function(D){var n=[];for(var k=0;k<D.length;k++){var _=D[k];if(_.type>5||_.type==0||_.type==3)n.push(JSON.parse(JSON.stringify(_)));
else n.push({type:_.type,US:_.US.clone(),Z:_.Z.clone(),As:_.As.clone()})}return n};q.IQ.ae4=function(D,n,_){if(D.length!=n.length)return!1;
for(var k=2;k<D.length;k++){var b=D[k],w=n[k];if(b.type!=w.type)return!1;if(b.type==0||b.type==3){if(b.length!=w.length||!_&&b.gW!=w.gW)return!1}else if(!b.US.l8(w.US)||!b.Z.l8(w.Z)||!b.As.l8(w.As))return!1}return!0};
q.IQ.prototype.aq4=function(){var D=this.Y;for(var k=3;k<D.length;k++)if(D[k].type==0||D[k].type==3)D[k].gW=-1};
q.TZ=function(){this.type=null;this.cW=2;this.Vn=null;this.UP="";this.p5="";this.Ow="";this.open=0;this.raw=null;
this.Gj=null;this.a5Z=""};q.TZ.prototype.clone=function(){var D=new q.TZ;D.type=this.type;D.cW=this.cW;
D.Vn=this.Vn;D.UP=this.UP;D.p5=this.p5;D.Ow=this.Ow;D.open=this.open;D.raw=new Uint8Array(this.raw.buffer.slice(0));
return D};q.TZ.prototype.iS=function(D,n,_){if(_==null)_="none";var b=this,w=eF.pV(b.raw.buffer),i=w=="svg"||w=="pdf";
if(b.Gj){var M=n&&i&&Math.max(b.Gj[1].l,b.Gj[1].e)<Math.max(n[0],n[1]);if(!M&&_==this.a5Z)return}this.a5Z=_;
if(!i)D=0;if(w==null){alert("Unsupported format: "+j.gw(b.raw,0,4));return null}var N=eF.rW(w);if(N.Il){var a=new ai(name+(w=="psd"?"":"-"+w)+".psd"),o;
N.Ck(b.raw.buffer,a,n);var U=new gl(0,0,a.l,a.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(_)!=-1){var V=[];
for(var k=0;k<a.b.length;k++){var c=a.b[k],E=c.buffer;if(!c.rect.l8(U)){E=B.U(U.u()*4);B.E3(c.buffer,c.rect,E,U);
console.log("resizing")}V.push(E)}o=B.U(U.u()*4);B.stack.stack(V,o,_)}else{for(var k=0;k<a.b.length;
k++)if(a.b[k].x6())a.b[k].p8(a);a.Wh();a.G();a.T2();o=a.iS()}b.Gj=[o,U];b.Cn=a.Cn!=null&&a.Cn!=0?a.Cn:72}else if(N){var A=N.Ck(b.raw.buffer)[0];
b.Gj=[new Uint8Array(A.data),A.jr];b.Cn=A.Cn!=null&&A.Cn!=0?A.Cn:72}if(b.Gj){if(D==1){var E=b.Gj[0],Q=b.Gj[1],J=B.U(Q.u());
B.Ef(E,J,3);var L=B.y2(J,Q),P=B.U(L.u()*4);B.E3(E,Q,P,L);b.Gj=[P,L]}B.Cy(b.Gj)}};q.Jm="0";q.h0="2";q.Zn="2.5";
q.w6="2.6";q.B8="3";q.dq="4";q.wx="4.5";q.PB="4.6";q.oa="5";q.Yl="5.5";q.VC="6";q.J3="7";q.BK="7.5";
q.aF="8";q.lz="9";q.fw="9.3";q.mE="9.5";q.L5="9.6";q.Jw="10";q.OY="11";q.ET="12";q.Ht="13";q.Rd="13.1";
q.Y_="13.2";q.Io="13.3";q.GB="13.4";q.AL="14";q.NZ="14.1";q.SH="14.2";q.vv="14.3";q.Fh="17";q.g5="18";
q.Uv="19";q.tA="19.5";q.SU="19.6";q.LX="19.7";q.fH="20";q.hs="21";q.Y8="21.5";q.bZ="22";q.zy="22.5";
q.Y9="23";q.aab="24";q.fW="25";q.Pi="26";q.q0="27";q.hc="28";q.wJ="29";q.AA="30";q.gV="31";q.S6="32";
q.dY="33";q.OX="34";q.Ts="35";q.AR="36";q.FZ="36.5";q.sc="37";q.I9="37.5";q.afl="37.6";q.YQ="38";q.mk="38.5";
q.hQ="38.6";q.qO="39";q.GO="40";q.sV="41";q.pi="42";q.XO="50";q.eK="51";q.Ez="52";q.j6="53";q.x$="54";
q.WL="54.5";q.qH="54.6";q.aet="54.7";q.zQ="54.8";q.rb="55";q.jU="56";q.R8="57";q.rh="58";q.Gc="59";q.uk="60";
function gI(){this.depth=0;this.index=-1;this.i=null;this.a54=null;this.h9=-1;this.children=null;this.parent=null;
this.Ke=null}gI.prototype.ajx=function(D,n){if(this.depth!=0)D.push(this.i.getName());if(this.children)for(var k=0;
k<this.children.length;k++)this.children[k].ajx(D,n);if(D.length>n.Ky.length)n.Ky=D.slice(0);if(this.depth!=0)D.pop()};
gI.prototype.a9R=function(){var D=0;if(this.i.nR()){for(var k=0;k<this.children.length;k++)D+=this.children[k].a9R()}else if(this.i.buffer)D+=this.i.buffer.length;
return D};gI.prototype.D5=function(D){var n=this.Ke[D];return this.Ke[D]};gI.prototype.ac1=function(D,n){var _=this.i;
if(!_.h$()||_.Nd(2)||_.Nd(31))return null;if(_.px()){var b=_.v.rect.Zy(D);if(!b&&_.v.color==0)return}if(_.nR()){for(var k=0;
k<this.children.length;k++){var cQ=this.children[k];cQ.ac1(D,n)}}else if(_.rect.Zy(D))n.push(this.index)};
gI.prototype.ql=function(D,n){var _=this.i;if(!_.h$()||_.Nd(2)||_.Nd(31))return null;if(_.px()){if(_.v.rect.A1(D)){if(!B.ql(D,_.v.channel,_.v.rect))return null}else if(_.v.color==0)return null}if(_.nR()){if(_.add.artb&&!_.w3().A1(D))return null;
for(var k=this.children.length-1;k>=0;k--){var cQ=this.children[k],b=cQ.ql(D,n);if(b&&n==null)return b}return null}else if(_.add.TySh&&_.rect.A1(D)||B.ahd(D,_.buffer,_.rect)){if(n==null)return this;
else n.push(this.index)}return null};gI.prototype.a5A=function(D){var n=this.i;if(!n.h$()||n.Nd(2)||n.Nd(31))return null;
var _=n.add.vmsk;if(_&&_.isEnabled){var b=B.$.ql(_.Y,D).gH;if(b!=-1)return{a9X:this,ae1:b}}if(n.nR()){if(n.add.artb&&!n.w3().A1(D))return null;
for(var k=this.children.length-1;k>=0;k--){var cQ=this.children[k],w=cQ.a5A(D);if(w)return w}return null}return null};
gI.prototype.atw=function(D,n){D.push(this.index);if(this.i.nR()){D.push(this.h9);if(n)if(this.i.P8==1&&this.i.us().c9==!1)return;
for(var k=0;k<this.children.length;k++)this.children[k].atw(D)}};gI.prototype.N0=function(D,n,_){var b=this.i,w,i;
if(b.nR()&&b.add.artb!=null)n=b.w3();if(n.l>n.e){w=_;i=Math.floor(_*(n.e/n.l))}else{w=Math.floor(_*(n.l/n.e));
i=_}if(b.x6()&&b.add.vmsk==null||b.add.TySh)w=i=Math.max(i,16);else{w=Math.max(w,6);i=Math.max(i,6)}var M=i,N=b.x6()&&b.add.vmsk;
if(N){var a=b.rect.clone(),V,c;if(a.hk())a=new gl(0,0,20,20);var o=a.l,U=a.e;if(o>U){V=_;c=Math.floor(_*(U/o))}else{V=Math.floor(_*(o/U));
c=_}if(V*c==0)V=c=16;B.vU.CT(b.wH,V,c,a,b.buffer,b.rect,!1);B.vU.a4a(b.wH,V,c);M=c}else if(b.add.TySh){B.vU.ac5(b.wH,M,M,b.add.TySh)}else if(b.add.SoCo){M=Math.max(16,Math.min(w,i));
B.vU.a35(b.wH,M,M,b.add.SoCo)}else if(b.add.GdFl){B.vU.a4B(b.wH,M,M,b.add.GdFl)}else if(b.add.PtFl){B.vU.aaA(b.wH,M,M,b.add.PtFl,D)}else if(fg.get(b.add)!=null){B.vU.agu(b.wH,M,M,b.add)}else if(b.add.SoLd){B.vU.CT(b.wH,w,i,n,b.buffer,b.rect,!1);
B.vU.af4(b.wH,w,i,b.add.SoLd)}else if(b.nR()){M=16}else{if(b.V6())B.vU.CT(b.wH,w,i,n,b.buffer,b.rect,!1);
else{B.vU.agk(b.wH,M,M)}}var E=b.us();if(E)B.vU.lL(b.ahH,w,i,n,E);if(b.Ug()&&b.tr(D)&&b.tr(D).v){var A=b.tr(D).v;
B.vU.lL(b.asH,w,i,n,A)}if(!N&&b.add.vmsk){B.vU.lL(b.a3e,w,i,n,b.add.vmsk.us(),!0)}if(b.add.vmsk||E)M=Math.max(M,i);
b.ai2=Math.max(M,16);if(b.nR()&&(b.add.lsct==f4.AU||D.b.length<4e3))for(var k=0;k<this.children.length;
k++)this.children[k].N0(D,n,_)};gI.prototype.a2e=function(D,n,_,b){this.depth=_;var w=D[n];if(b==null)b=[];
this.Ke=b;if(w.add.lsct==f4.CV){this.a54=w;this.h9=n-1;this.children=[];var k=n+1;while(!0){var i=D[k];
if(i==null)console.log(k,D.length);if(i.add.lsct==f4.AU||i.add.lsct==f4.Aj){if(w.add.lyid==i.add.lyid)w.add.lyid+=16777215;
this.i=i;this.index=k-1;b[this.index]=this;b[n-1]=this;break}var M=new gI;M.parent=this;k=M.a2e(D,k,_+1,b);
this.children.push(M)}return k+1}else{this.i=w;this.index=n-1;b[this.index]=this;return n+1}};gI.prototype.RE=function(D,n,_,b){var w=this.D5(_),i=D;
while(w.parent!=null){i=w.i.ia(i,n,b);w=w.parent}return i};gI.prototype.YL=function(D,n){var _=this.i,b=new gl;
if(!_.h$())return b;var w=_.us();if(_.nR())for(var k=0;k<this.children.length;k++){var i=this.children[k].YL(D,!0);
b=b.Ik(i)}else if(fg.get(_.add)!=null)b=_.px()&&_.v.color==0?_.v.YL().clone():new gl(0,0,D.l,D.e);else if(_.x6()&&_.add.vmsk&&_.add.vmsk.isEnabled&&_.add.vstk){b=_.rect.clone()}else if(_.x6()&&w&&w.isEnabled&&w.kj()!=0)b=new gl(0,0,D.l,D.e);
else{b=_.HU(D,!1,!0);if(_.add.vmsk)b=B.H.__(b)}return n?_.ia(b,D):b};gI.l7={delete:function(D){if(D&&D.l)D.delete()},U:function(D,n){return p.b$?new p.YV(D,n):B.U(D*n*4)},iG:function(D,n,_){if(p.b$){if(D==null||D.l!=n||D.e!=_){gI.l7.delete(D);
return new p.YV(n,_)}}else{if(D==null||!(D instanceof Uint8Array)||D.length!=n*_*4){gI.l7.delete(D);
return B.U(n*_*4)}}return D},I4:function(D,n,_,b,w){(p.b$?p.dp:B.E3)(D,n,_,b,w)},ih:function(D,n,_,b,w,i,M,N,k,a,o){(p.b$?p.a.VY:B.a.ih)(D,n,_,b,w,i,M,N,k,a,o)},dG:function(D,n,_,b,w,i,M,N){if(p.b$)p.a.zG(D,n,_,b,w,i,M,N);
else B.a.dG(D,n,_,b,w,i,M,N)},o5:function(D,n,_){if(p.b$){p.pv(D);p.Ms(n,_)}else B.o5(D,n,_)},aim:function(D,n,_,b,w){if(p.b$){p.a.VY(null,null,b,w,D,n,_,w,1,!1)}else{if(_==255)B._B(D,n,b,w);
else{var i=B.U(n.u());B.bh(b,w,i,n);B.G4(D,i);B.o5(b,0,16777215);B.Os(i,n,b,w)}}},nc:function(D,n,_,b){if(p.b$)p.a.VY(null,null,_,b,D,n,0,b,1,!1);
else B.nc(D,n,_,b)}};gI.prototype.Zo=function(D,n,_,b,w,i){var M=typeof i=="number";if(!this.i.nR()&&(M&&this.index>i||!M&&i.indexOf(this.index)==-1)){return}var N=this.i,a=aL.Zg(N),o=gI.l7,U=N.x6()?N.us():N.v;
if(!N.h$())return;if(N.px()&&U.rect.hk()&&U.kj()==0){return}if(N.add.vstk==null&&this.YL(b,!1).hk()){return}var V=this.YL(b,!0).zE(_);
if(!n.l8(_)&&!_.Zy(V))return;if(N.nR()&&N.add.artb){var c=N.w3();_=_.zE(c)}var E=gI.akO(N,w,a);if(!E){this.a1w(D,n,_,b,w,i);
return}N.kz.YU=o.iG(N.kz.YU,V.l,V.e);o.I4(D,n,N.kz.YU,V,_);this.a1w(N.kz.YU,V,_,b,w,i);o.ih(N.kz.YU,V,D,n,null,null,0,_,N.opacity/255,N.QQ=="diss",a.TM)};
gI.akO=function(D,n,_){if(_.TM[0]*_.TM[1]*_.TM[2]==0)return!0;return D.opacity!=255&&(n.length!=0||D.nR()||D.Av())};
gI.a1V={kz:{}};gI.prototype.a1w=function(D,n,_,b,w,i){var M=this.i,N=aL.Zg(M),a=fg.get(M.add)!=null,o=gI.l7,U=gI.akO(M,w,N),V=U?1:M.opacity/255,c=M.x6()?M.us():M.v,E=M.nR()&&(M.QQ=="pass"||M.add.artb)&&!(w.length>0||N.fill!=1||M.Av()),A=!M.nR()&&!a&&!M.Av()&&w.length==0,Q=a&&!M.Av()&&w.length==0,x=null,v=null,W=null,I;
if(E||A||Q){var J=D,L=n;if(M.px()){L=this.YL(b,!1);J=M.kz.aD=o.iG(M.kz.aD,L.l,L.e);o.I4(D,n,M.kz.aD,L)}if(E)this.PY(J,L,_,b,i);
if(A)o.dG(M.QQ,M.fL(b),M.rect,J,L,_,V,N);if(Q){var P=M.px()&&c.kj()==0?c.YL().clone():L.clone(),u=M.kz;
if(P.l8(new gl(0,0,b.l,b.e)))u=gI.a1V;u.o3=this.arf(J,L,u.o3,P,M.add);N.M$=!0;o.dG(M.QQ,u.o3,P,J,L,_,V,N)}if(M.px())o.ih(J,L,D,n,M.EZ(),c.YL(),c.kj(),_,1,M.QQ=="diss");
M.kz.nl();return}var m=M.nR()&&M.QQ=="pass"&&(w.length>0||N.fill!=1||M.Av()),P=M.rect;if(M.nR()){P=this.YL(b,!1);
W=M.kz.o3=o.iG(M.kz.o3,P.l,P.e);o.o5(W,0);this.PY(W,P,P,b,i);v=o.iG(M.kz.bG,P.l,P.e);o.I4(W,P,v,P)}else if(a){P=M.px()&&c.kj()==0?c.YL().clone():n.clone();
v=o.iG(M.kz.bG,P.l,P.e);o.o5(v,4294967295)}else{P=M.rect;x=M.fL(b);v=o.iG(M.kz.bG,P.l,P.e);o.I4(x,P,v,P)}M.kz.bG=v;
if(M.px())o.aim(M.EZ(),c.YL(),c.kj(),v,P);if(M.Av())if(M.kz.aE||M.kz.jP||M.kz.Xq!=p.b$||M.kz.HZ||M.nR()){var Z=M.add.vmsk,r=B.U(P.u());
if(aL.ao2(M.add.lmfx)){if(p.b$){if(!M.nR()&&M.us()==null&&M.rect.l8(P)&&Z==null)B.Ef(M.buffer,r,3);else{var X=B.U(P.u()*4);
v.get(X);B.Ef(X,r,3)}}else B.Ef(v,r,3)}if(M.kz.jP||M.kz.Xq!=p.b$||!B.l8(r,M.kz.xr)){var $=null;if(M.x6()&&Z&&Z.isEnabled&&Z.us().color==0)$=Z.us().rect;
aL.ap3(M.kz.Qj);M.kz.Qj=aL.a6u(r,P,M.add.lmfx,M.add.fxrp,b,$);M.kz.xr=r;M.kz.a4s=P}}if(M.Av())aL.aou(M.add.lmfx,M.kz.Qj,P,D,n,_);
if(M.nR()){x=o.iG(M.kz.aD,P.l,P.e);o.o5(x,0);if(M.QQ=="pass")o.I4(D,n,x,P);if(m)o.nc(W,P,x,P);this.PY(x,P,_,b,i);
M.kz.aD=x}if(a){x=M.kz.aD=this.arf(D,n,M.kz.aD,P,M.add)}if(M.nR()||a)I=x;else{I=o.iG(M.kz.aD,P.l,P.e);
o.I4(x,P,I,P,_);M.kz.aD=I}o.o5(I,4278190080,16777215);for(var k=0;k<w.length;k++)w[k].Zo(I,P,_,b,[],i);
var T=M.kz.bt=o.iG(M.kz.bt,P.l,P.e);o.I4(D,n,T,P,_);if(a)N.M$=!0;o.dG(M.QQ=="pass"?"norm":M.QQ,I,P,T,P,_,1,N);
if(M.Av()){var e=M.kz.Qj.type.FrFX,F=null;if(e.length!=0){F=e[0];for(var k=0;k<e.length;k++)if(e[k].tP.l>F.tP.l)F=e[k];
M.kz.S8=o.iG(M.kz.S8,F.tP.l,F.tP.e);o.I4(D,n,M.kz.S8,F.tP,_);M.kz.QE=o.iG(M.kz.QE,F.tP.l,F.tP.e)}aL.acK(M.add.lmfx,M.kz.Qj,P,D,n,_,T,M.kz.S8,M.kz.QE,F?F.tP:null)}if(!p.b$){var y=B.U(P.u());
B.Ef(v,y,3);v=y}o.ih(T,P,D,n,v,P,0,_,1,M.QQ=="diss");M.kz.nl()};gI.prototype.arf=function(D,n,_,b,w){var i=fg.get(w),M;
if(i)M=fg.pG(i,w[i]);var N=gI.l7;_=N.iG(_,b.l,b.e);if(!(p.b$&&n.l8(b)))N.I4(D,n,_,b);if(M){if(p.b$){var a=b.clone();
a.x=a.y=0;if(n.l8(b)){p.pv(_,a);fg.UG(M,D.QI,a)}else{p.pv(_,b);_.WN(b);fg.UG(M,_.QG,a)}}else fg.pe(M,_,_,b)}return _};
gI.prototype.PY=function(D,n,_,b,w){var i=this.children;for(var k=0;k<i.length;k++){var M=[];for(var N=k+1;
N<i.length;N++)if(i[N].i.kF)M.push(i[N]);else break;i[k].Zo(D,n,_,b,M,w);k+=M.length}};function ai(D){this.ZX="psd";
this.Bt=!1;this.name=D;this.Tv=-1;this.kr=null;this.ut=null;this.xy=null;this.DA=null;this.l=0;this.e=0;
this.buffer=null;this.b=[];this.TA={};this.add={};this.rf=4;this.An=null;this.Cn=72;this.Zd={};this.w=[];
this.eu=[];this.gJ=!1;this.wX=[];this.GM=[];this.yE=[ai.kV("Work Path")];this.QP=[];this.F_=null;this.Co={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.Js=null;this.C8=!1;this.aoX=!1;this.amm=!1;this.$G=!1;this.oT=!1;this.cF=!1;this.lP=!1;
this.HH=!1;this.ma=!1;this.Eh=!1;this.aE=null;this.Oj=null;this.q=null;this.wK=[];this.xo=[];this.D={qZ:{},zc:[],ag4:[],Ek:[],JR:[],oB:null,WE:null,O0:null,yt:null,_H:[],Tf:[],PM:null};
this.history=[new jv([1,0],null)];this.tK=0;this.Cr=0;this.QU=0;this.s=new hL(this)}ai.prototype.l$=function(){var D=this.eu,n=[];
for(var k=0;k<D.length;k++)n[k]=-1;var _=this.root.children;for(var k=0;k<_.length;k++){var b=_[k],w=b.i.add.artb;
if(w==null)continue;var i=w.guideIndeces;i=i?i.v:[];for(var M=0;M<i.length;M++)n[i[M].v]=b.index}return[JSON.parse(JSON.stringify(D)),n]};
ai.prototype.hY=function(D){this.eu=JSON.parse(JSON.stringify(D[0]));var n=D[1],_=this.root.children;
for(var k=0;k<_.length;k++){var b=_[k],w=b.i.add.artb;if(w==null)continue;w.guideIndeces={t:"VlLs",v:[]}}for(var k=0;
k<n.length;k++)if(n[k]!=-1)this.b[n[k]].add.artb.guideIndeces.v.push({t:"long",v:k})};ai.prototype.atZ=function(D){var n=this;
if(D[0])n.add.lnk2=D[0];else delete n.add.lnk2;if(D[1])n.add.FEid=D[1];else delete n.add.FEid;if(D[2])n.add.Patt=D[2];
else delete n.add.Patt};ai.prototype.ae3=function(D){var n=this,_=[],b=[],w=[],A=null,Q=null,J=null;
for(var k=0;k<D.length;k++){var i=D[k];if(i.add.SoLd){_.push(i.add.SoLd.Idnt.v);b.push(i.add.SoLd.placed.v)}if(i.add.PtFl)w.push(i.add.PtFl.Ptrn.v.Idnt.v);
if(i.add.lmfx){for(var M=0;M<ci.L0.length;M++){var N=i.add.lmfx[ci.L0[M]].v;for(var a=0;a<N.length;a++)if(N[a].v.Ptrn){var o=N[a].v;
if(o.classID=="FrFX"&&o.PntT.v.FrFl!="Ptrn")continue;w.push(o.Ptrn.v.Idnt.v)}}}var U=i.add.vstk;if(U&&U.strokeStyleContent.v.classID=="patternLayer"){w.push(U.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var V=n.add.lnk2,c=n.add.FEid,E=n.add.Patt;
if(V){A=[];for(var k=0;k<V.length;k++)if(_.indexOf(V[k].Vn)!=-1)A.push(V[k]);if(A.length==0)A=null}if(c){Q=[];
for(var k=0;k<c.length;k++)if(b.indexOf(c[k].id)!=-1)Q.push(c[k]);if(Q.length==0)Q=null}if(E){J=[];for(var k=0;
k<E.length;k++)if(w.indexOf(E[k].id)!=-1)J.push(E[k]);if(J.length==0)J=null}return[A,Q,J]};ai.prototype.XH=function(){var D=this.wK,n=this.wK.length;
if(n!=0&&D[n-1].name=="Quick Mask")return D[n-1]};ai.prototype.wz=function(){return this.ZX==gU.f1("% |/!)")||this.ZX==gU.WP("gP")};
ai.prototype.tt=function(D){var n=this.add.artd;if(D!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:D},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};ai.prototype.Oq=function(D){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(D)==-1)this.add.FEid.push(D)};
ai.prototype.U8=function(D){var n=this.add.FEid.indexOf(D);this.add.FEid.splice(n,1);if(this.add.FEid.length==0)delete this.add.FEid};
ai.prototype.G=function(D){if(D==null)D=new gl(0,0,this.l,this.e);if(this.aE==null)this.aE=D;else this.aE=this.aE.Ik(D)};
ai.prototype.a44=function(D){return this.aE!=null};ai.prototype.On=function(D){var n=this.b[D],_=this.root.D5(D);
if(_==null)return!1;if(n.nR()||_.parent.children.indexOf(_)==0)return!1;return!0};ai.a3G=function(D){if(D.add.lnk2)for(var k=0;
k<D.add.lnk2.length;k++){var n=D.add.lnk2[k].Vn;D.add.lnk2[k].Vn=ai.mq()+n.slice(8);for(var _=0;_<D.b.length;
_++){var b=D.b[_].add.SoLd;if(b&&b.Idnt.v==n)b.Idnt.v=D.add.lnk2[k].Vn}}};ai.prototype.sx=function(D,n,_){D.sort(function(V,c){return V-c});
var top=D[D.length-1],b=this.b.slice(0),w=this.w.slice(0),i=[],M=[];for(var k=0;k<this.b.length;k++){if(D.indexOf(k)!=-1)M.push(this.b[k]);
else i.push(this.b[k])}this.$N(M);this.w=[];var N=this.root.YL(this,!0);if(n)N=N.zE(n);if(_)N=N.Ik(_);
if(N.hk())N=new gl(0,0,100,100);var a=new gl(-N.x,-N.y,this.l,this.e),o=new Uint8Array(eF.rW("PSD").VX(this,0,0,[!0,!1]));
this.$N(b);this.w=w;var U=new ai(this.b[top].getName());eF.rW("PSD").Ck(o.buffer,U);delete U.add.artd;
U.wX=[];U.$N(U.b);U.hY([[],[]]);ai.a3G(U);G.v1.VE(U,N);U.G();U.T2();U.iS();return[U,N,i,top]};ai.prototype.afv=function(D,n,_){var b=this.sx(D),w=b[0],i=b[1],M=b[2],top=b[3],N;
if(_=="jpg")N=new Uint8Array(eF.rW("JPG").VX([[w.iS().buffer]],w.l,w.e,[80]));else N=new Uint8Array(eF.rW("PSD").VX(w,null,null,[!0,!1]));
if(n)M=this.b.slice(0);var a=this.$n(N,w.name,i.x,i.y);if(top==this.b.length-1)M.push(a);else M.splice(n?top+1:top-D.length+1,0,a);
this.$N(M);this.w=[M.indexOf(a)]};ai.mq=function(D){if(D==null)D="";var n="";while(n==""||n==D){n="";
for(var k=0;k<8;k++)n+=Math.floor(Math.random()*16).toString(16)}return n};ai.prototype.iy=function(D){if(D==null)return;
if(this.add.Patt==null)this.add.Patt=[];var n=this.add.Patt;for(var k=0;k<n.length;k++)if(n[k].id==D.id)return;
n.push(D)};ai.prototype.$n=function(D,n,_,b,w){if(this.add.lnk2==null)this.add.lnk2=[];var i=null,V=!1;
for(var k=0;k<this.add.lnk2.length;k++)if(B.l8(D,this.add.lnk2[k].raw)){i=this.add.lnk2[k].Vn;break}if(i==null){var M=eF.pV(D.buffer);
i=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f";var N=new q.TZ;N.Vn=i;N.Ow=M=="psd"?"8BIM":"    ";N.UP=n+"."+M;
N.p5=M=="psd"?"8BPB":"    ";N.open=0;N.raw=D;N.type="liFD";N.cW=2;this.add.lnk2.push(N)}var a=this.xF(i),o=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.ni();
U.rK(n);if(a!=null){var c=0,E=0,A=this.l,Q=this.e;if(w){c=w.x;E=w.y;A=w.l;Q=w.e}var J=U.rect=a.Gj[1].clone();
J.offset(c+_,E+b);var L=Math.max(J.l/A,J.e/Q),V=w!=null&&L>1.0001;if(V){J.l=Math.round(J.l/L);J.e=Math.round(J.e/L);
J.x=Math.round(c+(A-J.l)/2);J.y=Math.round(E+(Q-J.e)/2)}else if(w!=null&&eF.pV(D.buffer)=="pdf"&&this.Cn!=144){var L=144/this.Cn;
J.l=Math.round(J.l/L);J.e=Math.round(J.e/L);V=!0}U.buffer=B.U(J.u()*4);if(!V)B.nb(a.Gj[0],U.buffer)}U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:i},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:o},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:B.ie.U(a?a.Gj[1]:U.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:U.rect.l},Hght:{t:"doub",v:U.rect.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:a?a.Cn:72}}};
var P=B.H.X0(U.rect).t;U.add.SoLd.Trnf=G.Q.sy(P);U.add.SoLd.nonAffineTransform=G.Q.sy(P);if(V)U.RZ(this,!1);
return U};ai.prototype.iS=function(D){if(D!=null){this.G();this.T2(D);var n=this.buffer;if(p.b$)this.Js.get(n);
else n=n.slice(0);this.G();this.T2();return n}if(this.aE){this.T2();this.aE=null}if(p.b$&&this.Oj){this.Js.get(this.buffer);
this.Oj=null;this.lP=!0}return this.buffer};ai.prototype.al2=function(){for(var k=0;k<this.b.length;
k++)this.b[k].yx();this.G()};ai.prototype.aup=function(){for(var k=0;k<this.b.length;k++)if(this.b[k].add.lmfx)this.b[k].kz.jP=!0};
ai.prototype.C5=function(){var D=this.TA.r1044;if(D==null){D=this.TA.r1044=new Uint8Array(4);var n=0;
for(var k=0;k<this.b.length;k++)n=Math.max(n,this.b[k].add.lyid);j.GW(D,0,n)}var _=j.n(D,0);j.GW(D,0,_+1);
return _+1};ai.prototype.yP=function(D,n,_){if(D==null)D=!0;var b=this;if(b.xo.length!=0)return!0;if(b.w.length!=1){if(D)alert(b.w.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Wg(D,n,_)};ai.prototype.Wg=function(D,n,_){if(D==null)D=!0;if(n==null)n=!1;var b=this;
if(b.xo.length!=0)return!0;for(var k=0;k<b.w.length;k++){var w=b.b[b.w[k]],i=n||w.P8<=0;if(w.add.lsct!=null&&w.add.lsct!=f4.h1&&w.P8!=1){if(D)alert(io.get([15,7,2]));
return!1}if(i&&!w.V6()){if(D)alert(io.get([15,7,2]));return!1}if(i&&w.add.TySh){return this.a4R(D,[15,7,3],_)}if(i&&w.add.SoLd){return this.a4R(D,[15,7,4],_)}if(w.Nd(1)||w.Nd(31)){if(D)alert(io.get([6,57,0]));
return!1}}return!0};ai.prototype.a4R=function(D,n,_){if(D&&typeof D=="object"){var b=window.confirm(io.get(n)+". "+io.get([6,8])+"?");
if(b){var w=new ho(S.E.$W,!0);w.data={_L:"rasterizeLayer",cR:{classID:"rasterizeLayer",null:cT.S0("Lyr",!0)}};
D.c(w)}return _?b:!1}if(D)alert(io.get(n));return!1};ai.prototype.aqi=function(D){var n=this.root.D5(D);
if(n.parent)return n.i.h$()&&this.aqi(n.parent.index);else return n.i.h$()};ai.prototype.Mg=function(){var D=this;
if(D.add.artd&&D.w.length!=0){var n=D.root.D5(D.w[0]);while(n.parent.parent)n=n.parent;if(n.i.add.artb)return n.index}return-1};
ai.prototype.auc=function(){var D=this.b[this.w[0]];if(D.P8<=0&&!D.rect.Zy(this.q.rect)){alert("Selected area is empty.");
return!1}if(this.w.length==1&&this.q){var n=B.U(this.q.channel.length);B.bh(D.buffer,D.rect,n,this.q.rect);
B.G4(this.q.channel,n);if(B.FK(n,0)){alert("Selected area is empty.");return!1}}return!0};ai.prototype.bH=function(){if(this.TA["r"+1037]==null)this.U0(30);
return j.H8(this.TA["r"+1037],0)};ai.prototype.U0=function(D){if(this.TA["r"+1037]==null)this.TA["r"+1037]=new Uint8Array(4);
if(j.H8(this.TA["r"+1037],0)==D)return;j.Ue(this.TA["r"+1037],0,D);this.aup()};ai.prototype.w9=function(){if(this.TA["r"+1049]==null)this.rH(30);
return j.H8(this.TA["r"+1049],0)};ai.prototype.rH=function(D){if(this.TA["r"+1049]==null)this.TA["r"+1049]=new Uint8Array(4);
if(j.H8(this.TA["r"+1049],0)==D)return;j.Ue(this.TA["r"+1049],0,D);this.aup()};ai.prototype.v7=function(D){if(this.add.lnk2==null)return null;
for(var k=0;k<this.add.lnk2.length;k++)if(this.add.lnk2[k].Vn==D)return this.add.lnk2[k];return null};
ai.prototype.arT=function(D){var n=this.v7(D);if(n==null)return!1;var _=eF.pV(n.raw.buffer);if(_==null)return!1;
if(eF.rW(_)!=null||_=="psd")return!0;return!1};ai.prototype.xF=function(D,n,_,b){var w=this.v7(D);if(w==null)return null;
w.iS(n,_,b);if(w.Gj)return w};ai.prototype.a2r=function(){var D=this.l,n=this.e;if(p.b$&&this.Js==null)this.Js=new p.YV(D,n,!0);
if(this.buffer==null||this.buffer.length!=D*n*4||p.b$&&(this.Js.l!=D||this.Js.e!=n)){this.buffer=B.U(D*n*4);
if(this.Js)this.Js.delete();if(p.b$)this.Js=new p.YV(D,n,!0)}};ai.prototype.a9G=function(){this.a2r();
if(p.b$){this.Js.set(this.buffer)}};ai.prototype.T2=function(D){var n=this.l,_=this.e,b=new gl(0,0,n,_),w=b.zE(this.aE);
this.a2r();if(w.hk())return;if(!w.l8(b)){if(!p.b$){var i=B.ae(w.u()*4);B.E3(i,w,this.buffer,b)}if(p.b$){p.pv(this.Js,w);
p.Ms(0)}}else{if(p.b$){this.Js.set(null)}else{this.buffer.fill(0)}}var M=Date.now(),N=p.b$?this.Js:this.buffer;
if(D==null)D=1e9;var a=this.root.children;for(var k=0;k<a.length;k++){var o=a[k].i;if(o.h$()&&o.add.artb){var U=o.w3(),V=w.zE(U),c=o.W9();
if(c!=0){if(p.b$){p.pv(N,V);p.Ms(c);p.Ms(c)}else B.atS(N,b,V,c)}}}this.root.Zo(N,b,w,this,[],D);this.Oj=this.aE.clone()};
ai.prototype.ni=function(D){var n=new q;n.rect=new gl(0,0,0,0);n.buffer=B.U(1);n.add.luni=new gZ(0,0);
if(D!=!0)n.add.lyid=this.C5();n.add.lsct=f4.h1;n.add.lclr=0;n.add.fxrp=new gZ(0,0);return n};ai.prototype.b8=function(D){var n=this.ni(D);
n.rK("</Layer group>");n.add.lsct=f4.CV;n.VN=24;return n};ai.prototype.pI=function(){return this.tK!=this.Cr};
ai.prototype.$i=function(D){while(this.history.length>this.tK+1)this.history.pop();if(this.Cr>this.tK)this.Cr=-1;
if(D.g.id!=G.Q0){this.$G=!0;if(this.Co.lastAppliedComp){delete this.Co.lastAppliedComp;this.lP=!0}}this.history.push(D);
this.tK++;this.lP=!0;var n=bJ.xA()?60:30,_=0;for(var k=this.history.length-1;k>=0;k--){var b=this.history[k];
if(b.zx)continue;_++;if(_==n){this.tK-=k;this.history=this.history.slice(k);break}}};ai.prototype.XN=function(){if(this.tK!=this.history.length-1)return null;
return this.history[this.history.length-1]};ai.prototype.DF=function(D,n,_,b){if(D==null)D=!1;var w=n!=null?[n]:this.w.slice(0);
if(b){var i=[];for(var k=0;k<w.length;k++){var M=this.b[w[k]],N=M.VT;if(M.ZL&&N!=0&&i.indexOf(N)==-1)i.push(N)}if(i.length!=0)for(var k=0;
k<this.b.length;k++){var M=this.b[k],N=M.VT;if(M.ZL&&N!=0&&i.indexOf(N)!=-1&&w.indexOf(k)==-1)w.push(k)}}var a=[];
for(var k=0;k<w.length;k++){var o=this.Fm(w[k],D);for(var U=0;U<o.length;U++)if(a.indexOf(o[U])==-1)a.push(o[U]);
if(_){var cQ=this.root.D5(w[k]);while(cQ.parent!=null&&cQ.parent.parent!=null){cQ=cQ.parent;if(a.indexOf(cQ.index)==-1){a.push(cQ.index,cQ.h9)}}}}return a};
ai.prototype.KI=function(D,n,_){var b=this,w=b.DF(!1,D,null,_);w.sort(function(u,m){return u-m});var i={};
for(var M=0;M<b.b.length;M++){var N=b.b[M].getName();i[N]=!0}var a=[];for(var k=0;k<w.length;k++){var o=b.b[w[k]].clone(),J,L;
o.add.lyid=b.C5();o.add.lspf=0;if(o.Ug()){var U=o.tr(b),V=ai.ame(U);b.Oq(V);o.add.SoLd.placed.v=V.id}else if(o.add.SoLd){var c=o.add.SoLd.placed.v;
o.add.SoLd.placed.v=ai.mq(c.slice(0,8))+c.slice(8)}o.p8(b);var E=o.getName(),A=E.length;while(48<=E.charCodeAt(A-1)&&E.charCodeAt(A-1)<=57)A--;
var Q=parseInt(E.slice(A));if(isNaN(Q)){if(E.endsWith(" copy")){Q=1;J=E.slice(0,E.length-5)}else{Q=0;
J=E}}else if(E.slice(0,A).endsWith(" copy ")){Q=Q;J=E.slice(0,A-6)}else{Q=0;J=E}Q++;while(!0){L=J+" copy"+(Q==1?"":" "+Q);
if(i[L]==null)break;Q++}var P=w.indexOf(this.root.D5(w[k]).parent.index)!=-1;if(E=="Background"&&b.b.length==1)L="Layer 1";
if(n!=!0&&!P)o.rK(L);i[L]=!0;a.push(o)}return a};ai.ame=function(D){return{id:ai.mq(D.id.slice(0,8))+D.id.slice(8),buffer:D.buffer.slice(0),rect:D.rect.clone(),v:D.v?D.v.clone():null}};
ai.ahD=function(D){return{id:D,rect:new gl,buffer:B.U(1),v:new q.$L}};ai.kV=function(D,n){if(n==null)n={vmsk:new q.IQ};
if(n.vogk==null){n.vogk=[];var _=B.$.Vz(n.vmsk.Y);for(var b=0;b<_;b++)n.vogk.push(B.dd.ae())}return{name:D,gH:0,add:n}};
ai.prototype.DZ=function(D){var n=[],_=[],b=this,i=0;for(var k=1;k<b.yE.length;k++){var w=b.yE[k];w.gH=-1-k;
n.push(w);if(b.QP.indexOf(k)!=-1)_.push(n.length-1)}if(b.yE[0].add.vmsk.Y.length>2){var w=b.yE[0];w.gH=-1;
n.push(w);if(b.QP.indexOf(0)!=-1)_.push(n.length-1)}var M=b.F_==null;if(M)b.F_=[];for(var k=b.w.length-1;
k>=0;k--){var N=b.b[b.w[k]],a=N.add.TySh;if(N.add.vmsk!=null&&(N.q_||N.x6())){var w=ai.kV("\""+N.getName()+"\" Shape Path",N.add);
w.gH=b.w[k];n.push(w);if(M)b.F_.push(i);if(b.F_.indexOf(i)!=-1)_.push(n.length-1);i++}if(D!=!0&&a&&a.add&&B.ie.VW(a.Kv)){var w=ai.kV("\""+N.getName().slice(0,10)+"..\" Text Path",a.add);
w.gH=1e6+b.w[k];n.push(w);_.push(n.length-1);i++}}if(_.length==0&&D){b.yE[0].gH=-1;b.QP=[0];_.push(n.length);
n.push(b.yE[0])}return[n,_]};ai.prototype.Fm=function(k,D){var n=[],cQ=this.root.D5(k);if(cQ)cQ.atw(n,D);
return n};ai.prototype.ns=function(){this.root.N0(this,new gl(0,0,this.l,this.e),32*G.F())};ai.prototype.$N=function(D){for(var k=0;
k<this.b.length;k++){var n=this.b[k];if(D.indexOf(n)==-1){n.kz.ahj();n.G()}}var _=0;for(var k=0;k<D.length;
k++)if(D[k].add.artb)_++;this.tt(_);this.b=D.slice(0);this.Wh()};ai.prototype.Wh=function(){var D=this.b,n=D.length;
this.root=new gI;var _=this.ni(!0);_.QQ="pass";_.add.lsct=f4.AU;_.rK("");var b=this.b8(!0),w=[b];for(var k=0;
k<n;k++)w.push(D[k]);w.push(_);this.root.a2e(w,0,0);if(this.w.length==0)this.w=[n-1]};ai.prototype.WH=function(){if(this.w.length!=1)return;
var D=this.root.D5(this.w[0]);while(D.parent!=null){var n=D.parent.i;n.add.lsct=f4.AU;D=D.parent}this.cF=this.ard=!0};
ai.prototype.afO=function(){this.Wh();var D=[this.root],iM=0;while(D.length!=0){var top=D.pop();iM++;
if(top.i.add.lsct==f4.AU)for(var k=0;k<top.children.length;k++)D.push(top.children[k])}if(iM>1e3){var n=this.root.children;
for(var k=0;k<n.length;k++)if(n[k].i.add.lsct==f4.AU)n[k].i.add.lsct=f4.Aj}};ai.El=function(D,n,_,b,w,i,M){var N={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:b},artboard:{t:"bool",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:D}},Hght:{t:"UntF",v:{type:"#Rlt",val:n}},Rslt:{t:"UntF",v:{type:"#Rsl",val:_}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:w}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
if(w=="Clr")N.Nw.v.FlCl={t:"Objc",v:M};return{_L:"make",cR:N}};ai.aiy=function(D,n){var _=0,b=0,w=72,i=n.ar3,M=D.preset&&D.preset.v=="Clipboard";
if(M){_=i.l;b=i.e}else{_=D.Wdth.v.val;b=D.Hght.v.val;w=D.Rslt.v.val}var N=new ai((D.Nm?D.Nm.v:io.get([11,7]))+".psd");
N.l=_;N.e=b;N.Cn=w;var a=D.Fl?D.Fl.v.Fl:"Wht";if(D.artboard&&D.artboard.v){var o=N.ni();o.rK("Artboard 1");
o.add.lsct=f4.AU;o.Cx(new gl(0,0,_,b));o.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[a]};
if(a=="Clr")o.add.artb.Clr={t:"Objc",v:B.X.Ea(B.X.kj(D.FlCl.v))};o.QQ="pass";o.VN=24;var U=N.ni();U.rK("Layer 1");
N.$N([N.b8(),U,o]);N.tt(1);N.w=[1]}else{var V=N.ni(),c=0;V.rK("Background");N.$N([V]);V.add.lspf=1<<2;
if(a=="Clr"){c=B.X.kj(D.FlCl.v);c=255<<24|Math.round(c.S)<<16|Math.round(c.z)<<8|Math.round(c.p)}else{var E=n.Cp;
E=(E&255)<<16|(E>>>8&255)<<8|E>>>16;c={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|E}[a]}V.rect=new gl(0,0,_,b);
V.buffer=B.U(_*b*4);B.o5(V.buffer,c)}N.buffer=B.U(_*b*4);return N};function hL(D){this.ly=D;this.V=0;
this.O8=1;this.r=new gZ(0,0);this.zS=new gZ(0,0);this.Qv=0;this.qJ=[1,1,1];this.$m=0;this.pj=new gl(0,0,1,1);
this.a7L=new gl(0,0,D.l,D.e);this.KZ=null;this.Oc=null;this.ht=new Uint32Array(0);this.Fv=null;this.DM=null;
this.W4=B.U(0);this.Ov=null;this.ty=null}hL.prototype.RR=function(D){var n=new e3,_=this.pj,b=this.ly,w=D?this.O8:this.V,i=D?this.zS:this.r,M=Math.round((_.l-b.l*w)/2+i.x),N=Math.round((_.e-b.e*w)/2+i.y);
n.translate(-M,-N);n.scale(1/w,1/w);var a=b.l/2,o=b.e/2;n.translate(-a,-o);n.rotate(this.Qv);n.translate(a,o);
return n};hL.prototype.ap0=function(D){var n=this.pj,_=this.ly,b=Math.atan2(-D.S,D.vd),w=_.l/2,i=_.e/2;
D.translate(-w,-i);D.rotate(-b);D.translate(w,i);var M=1/D.gM();D.scale(M,M);var N=-D.oE,a=-D.LE,o=Math.round(N-(n.l-_.l*M)/2),U=Math.round(a-(n.e-_.e*M)/2);
if(Math.abs(M-Math.round(M))<1e-6)M=Math.round(M);this.Qv=b;this.V=M;this.r=new gZ(o,U)};hL.prototype.it=function(D,n){var _=this.RR();
return _.pm(new gZ(D,n))};hL.prototype.TO=function(D,n){var _=this.RR();_.ei();return _.pm(new gZ(D,n))};
function ci(){}ci.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");ci.L0="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
ci.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];ci.a4v=["DrSh","IrSh","SoFi","GrFl","FrFX"];
ci.BA=["Clr"];ci.LY="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");ci.EF=["Ptrn","Angl","Scl","Algn","phase"];
ci.UC={A6:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",abQ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aeX:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",auk:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Zi:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
ci.UC.A6="\"Clr\": "+ci.UC.A6;ci.UC.X="\"Grad\":"+ci.UC.abQ+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
ci.UC.Zi="\"Ptrn\":"+ci.UC.Zi+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
ci.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
ci.D6=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+ci.UC.A6+","+ci.UC.X+","+ci.UC.Zi+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+ci.UC.A6+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+ci.UC.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+ci.UC.Zi+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
ci.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
ci.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],WV:["SClr","GrFl","Ptrn"],aqa:[[13,0],[12,37],[12,62]]};
ci.rG={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],asg:["SrcC","SrcE"],a0A:[[19,5,1],[12,69]]};ci.Rb={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a1W:["SfBL","PrBL","Slmt"],afw:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
ci.yg={Xr:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],l9:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],bR:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+ci.UC.A6+"}")},strokeStyleResolution:{t:"doub",v:72}}};
ci.HL=[{classID:"null",Clr:JSON.parse(ci.D6[5]).Clr},{classID:"null",Grad:JSON.parse(ci.D6[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(ci.D6[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var aL={};aL.Ld=function(D,n){function _(D,c){if(D==null)return null;var E=D[c].v,A;if(E.length!=0){A=E[0].v;
if(!A.enab.v)A=null}return A}var b=n.SoCo,w=n.GdFl,i=_(D,"solidFillMulti"),M=_(D,"gradientFillMulti");
if(i==null&&M==null)return[b,w];var N=aL.a5x;if(b&&i&&M==null){var a=JSON.parse(JSON.stringify(b));a.Clr.v=N(i.Clr.v,b.Clr.v,i);
return[a,null]}if(w&&i&&M==null){var o=JSON.parse(JSON.stringify(w)),U=o.Grad.v.Clrs.v;for(var k=0;k<U.length;
k++){var V=U[k].v.Clr;V.v=N(i.Clr.v,V.v,i)}return[null,o]}if(b&&M){var o=JSON.parse(JSON.stringify(M)),U=o.Grad.v.Clrs.v;
for(var k=0;k<U.length;k++){var V=U[k].v.Clr;V.v=N(V.v,b.Clr.v,M)}return[null,o]}return[i,M]};aL.ahS={vx:B.U(4),Tw:B.U(4),p:new gl(0,0,1,1)};
aL.a5x=function(D,n,_){var b=jz.GV(_.Md.v.BlnM),w=_.Opct.v.val/100,i=aL.ahS;D=B.X.kj(D);n=B.X.kj(n);
i.vx[0]=D.p;i.vx[1]=D.z;i.vx[2]=D.S;i.vx[3]=255;i.Tw[0]=n.p;i.Tw[1]=n.z;i.Tw[2]=n.S;i.Tw[3]=255;B.a.dG(b,i.vx,i.p,i.Tw,i.p,i.p,w);
return{classID:"RGBC",Rd:{t:"doub",v:i.Tw[0]},Grn:{t:"doub",v:i.Tw[1]},Bl:{t:"doub",v:i.Tw[2]}}};aL.aua=function(D,n,_){var b=D;
D=D.slice(0);var w=jz._w[jz.t7.indexOf(n.Md.v.BlnM)],i=B.X.kj(n.Clr.v),M=4278190080|Math.round(i.S)<<16|Math.round(i.z)<<8|Math.round(i.p),N=B.U(_.u()*4);
B.o5(N,M);B.a.dG(w,N,_,D,_,_,n.Opct.v.val/100);for(var k=0;k<D.length;k+=4)D[k+3]=b[k+3];return D};aL.hx=function(D,n){var _=["Sz","blur","Sftn","Dstn"];
for(var k=0;k<ci.order.length;k++){var b=ci.order[k],w=D[ci.L0[k]].v;for(var i=0;i<w.length;i++){var M=w[i].v;
for(var N=0;N<_.length;N++){var a=M[_[N]];if(a){var o=a.v.val,U=o;U=Math.max(o==0?0:1,U*n);if(b=="ChFX")U=Math.min(U,250);
if(b=="ebbl"){if(_[N]=="blur")U=Math.min(U,250);if(_[N]=="Sftn")U=Math.min(U,16)}a.v.val=Math.round(U)}}if(b=="ebbl"||b=="patternFill"||b=="FrFX")if(M.Ptrn&&M.Scl)M.Scl.v.val=Math.max(1,Math.min(1e3,M.Scl.v.val*n))}}};
aL.a5m=function(D,n,_){var b=new gl(-.5,-.5,1,1);for(var k=0;k<ci.order.length;k++){var w=ci.order[k],i=D[ci.L0[k]].v;
for(var M=0;M<i.length;M++){var N=i[M].v,V;if(!N.enab.v)continue;var a=N.blur?N.blur.v.val+1:0,o=N.Ckmt?N.Ckmt.v.val/100:0,U=Math.round(a*o);
if(w=="DrSh"||w=="IrSh"&&_){V=new gl(-.5,-.5,1,1);V.Iq(a,a);aL.n0(V,N,n,0)}if(w=="OrGl"||w=="IrGl"&&_){V=new gl(-.5,-.5,1,1);
V.Iq(a,a)}if(w=="FrFX"){var c=aL.nW(N),E=c[1];if(_)E=Math.max(c[0],E);V=new gl(-.5,-.5,1,1);V.Iq(Math.ceil(E),Math.ceil(E))}if(w=="ebbl"){var a=N.blur.v.val,A=N.bvlS.v.BESl;
if(A=="Embs"||A=="PlEb")a/=2;var Q=["OtrB","InrB","Embs","PlEb","strokeEmboss"],J=["SfBL","PrBL","Slmt"],L=["In","Out"],P=N.bvlT.v.bvlT!="SfBL"?a:a*.43,u=Math.round(a);
V=new gl(-u-1,-u-1,2*u+2,2*u+2)}if(_&&w=="ChFX"){V=new gl(-.5,-.5,1,1);V.Iq(a,a);var m=V.clone();aL.n0(V,N,n,0);
aL.n0(m,N,n,Math.PI);V=V.Ik(m)}if(V)b=b.Ik(V)}}if(b.x!=Math.ceil(b.x)){b.x=Math.ceil(b.x);b.l-=1}if(b.y!=Math.ceil(b.y)){b.y=Math.ceil(b.y);
b.e-=1}b.l=Math.floor(b.l);b.e=Math.floor(b.e);return b};aL.nW=function(D){var n=0,_=0,b=D.Styl.v.FStl,w=D.Sz.v.val;
if(b=="OutF")_=w;if(b=="InsF")n=w;if(b=="CtrF")n=_=w/2;return[n,_]};aL.aeW=function(D){if(p.b$&&D.MF==null){D.MF=new p.YV(D.qW.l,D.qW.e);
D.MF.set(D.B_);delete D.B_;if(D.DL){D.GC=new p.EU(D.qW.l,D.qW.e);D.GC.set(D.DL);delete D.DL}if(D.oU){D.WX=new p.EU(D.qW.l,D.qW.e);
D.WX.set(D.oU);delete D.oU}}};aL.a8l=function(D){if(D.MF)D.MF.delete();if(D.GC)D.GC.delete();if(D.WX)D.WX.delete()};
aL.ap3=function(D){if(D.all==null)return;for(var k=0;k<D.all.length;k++){aL.a8l(D.all[k])}};aL.a6u=function(D,n,_,b,w,i){var M=aL._3(_,b,D,n,w,i);
for(var k=0;k<M.all.length;k++)aL.aeW(M.all[k]);return M};aL.ao2=function(D){for(var k=0;k<ci.order.length;
k++){var n=ci.order[k],_=ci.L0[k],b=D[_].v;for(var w=0;w<b.length;w++){var i=b[w].v;if(i.enab.v&&["patternFill","GrFl","SoFi"].indexOf(n)==-1)return!0}}return!1};
aL._3=function(D,n,_,b,w,i){if(i==null)i=b;var M=0,N=0;for(var k=0;k<ci.order.length;k++){var a=ci.order[k],o=ci.L0[k],U=D[o].v;
for(var V=0;V<U.length;V++){var c=U[V].v;if(a=="DrSh"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0)M=Math.max(M,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(a=="OrGl"&&c.enab.v&&c.Ckmt.v.val>0&&c.blur.v.val>0&&c.GlwT.v.BETE=="SfBL")M=Math.max(M,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100));
if(a=="OrGl"&&c.enab.v&&c.blur.v.val>0&&c.GlwT.v.BETE=="PrBL")M=Math.max(M,c.blur.v.val);if(a=="FrFX"&&c.enab.v&&c.Sz.v.val>0){if(c.Styl.v.FStl=="OutF")M=Math.max(M,c.Sz.v.val);
if(c.Styl.v.FStl=="CtrF")M=Math.max(M,Math.ceil(c.Sz.v.val/2));N=Math.max(N,aL.nW(c)[1])}}}var E=new aL.uC(_,b,M,aL.ao2(D)),A=-b.x,Q=-b.y,J={type:{},all:[]};
for(var L=0;L<ci.order.length;L++){var a=ci.order[L],o=ci.L0[L];J.type[a]=[];for(var P=D[o].v.length-1;
P>=0;P--){var u=D[o].v[P].v,Z;if(!u.enab.v)continue;var m=u.blur?u.blur.v.val:0,v=u.Ckmt?u.Ckmt.v.val/100:0,W=m*v;
if(a=="DrSh"){var r=E.k3(W,m-W,!0),X=r.VR,$=r.Kj;$.offset(A,Q);aL.r5(X,u,!1);aL.n0($,u,w,0);var I=B.U($.u()*4);
aL.aO(I,u.Clr.v);B.tD(X,I,3);Z={B_:I,qW:$,a8U:u.layerConceals.v}}else if(a=="IrSh"){var r=E.k3(W,m-W,!1);
aL.n0(r.Kj,u,w,0);var $=E.rect().clone(),X=B.U($.u());X.fill(255);B.I4(r.VR,r.Kj,X,$);aL.r5(X,u,!0);
var I=B.U($.u()*4);aL.aO(I,u.Clr.v);B.tD(X,I,3);$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="GrFl"){var I=B.U(E.rect().u()*4);
aL.Cd(u,I,E.rect(),w,null,i);var $=E.rect().clone();$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="SoFi"){var I=B.U(E.VR().length*4);
aL.aO(I,u.Clr.v);var $=E.rect().clone();$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="ebbl"){var T=!1;if(T)console.log(u);
var e=Date.now(),F=u.bvlS.v.BESl;if(F=="strokeEmboss"){var y=D.frameFXMulti.v;if(y.length==0)continue;
y=y[0].v;if(!y.enab.v)continue;var h=y.Styl.v.FStl;if(h=="OutF")F="OtrB";if(h=="CtrF")F="Embs";if(h=="InsF")F="InrB"}var m=u.blur.v.val;
if(m==0)m=.7;if(F=="Embs"||F=="PlEb")m/=2;var Y=["OtrB","InrB","Embs","PlEb","strokeEmboss"],K=["SfBL","PrBL","Slmt"],z=["In","Out"],f=u.bvlT.v.bvlT!="SfBL"?m:m*.45,s=Math.round(m),l=E.rect().clone(),g=l.clone();
g.Iq(s,s);var H=g.l,O=g.e,C=H*O,ib=B.U(C);B.I4(E.VR(),l,ib,g);var hH=new Float64Array(C),R=new Float64Array(C);
B.style.qh(ib,hH,H,O);B.ei(ib);B.style.qh(ib,R,H,O);if(T)console.log("distTransform computed",Date.now()-e);
for(var k=0;k<C;k++)R[k]=R[k]-hH[k];for(var k=0;k<C;k++){var fR=R[k];if(fR<-f)R[k]=-f;else if(fR>f)R[k]=f}if(T)console.log("summing + cropping",Date.now()-e);
if(u.bvlT.v.bvlT=="SfBL"){var j4=Math.pow(m*.21,1.22);if(!0)j4=Math.max(j4,2);var cP=B.uE.wh(j4,2);B.uE.B4(R,hH,g,cP[0]>>>1);
B.uE.B4(hH,R,g,cP[1]>>>1)}if(T)console.log("blurring",Date.now()-e);var a8=R,d0=a8.slice(0);if(u.useShape.v){var b9=Math.min(100,u.Inpr.v.val+1)/100;
if(F!="OtrB"&&F!="InrB")b9=1;var jG=B.O1.R5(u.MpgS.v.Crv.v,2e3),jP=Math.round(2e3/b9);jG=B.O1.a5N(jG,jP,F=="InrB");
var aq=.5/f;for(var k=0;k<C;k++){var gM=a8[k],gv=.99999*(gM+f)*aq;a8[k]=-f+2*f*jG[~~(gv*(jP-1))]}if(T)console.log("applying shape",Date.now()-e)}if(u.useTexture.v){var dT=B.U(H*O*4);
aL.Ad(u,dT,g,w.add.Patt,n);var aC=B.U(H*O);B.hE(dT,aC);var c1=B.U(H*O);B.uE.lI(aC,c1,g,1);aC=c1;var aj=m*u.textureDepth.v.val*(1/100)*(1/255);
if(u.InvT.v)aj=-aj;for(var k=0;k<C;k++)a8[k]+=-aj*aC[k];if(T)console.log("applying texture",Date.now()-e)}var bD=(u.bvlT.v.bvlT=="SfBL"?1:.5)*(u.bvlD.v.BESs=="In"?1:-1)*u.srgR.v.val/100;
for(var k=0;k<C;k++)a8[k]*=bD;if(T)console.log("scaling",Date.now()-e);var cy=u.uglg&&u.uglg.v?w.bH():u.lagl.v.val;
cy=cy*(Math.PI/180);var co=u.uglg&&u.uglg.v?w.w9():u.Lald.v.val;co=co*(Math.PI/180);var hV=Math.cos(cy)*Math.cos(co),il=-Math.sin(cy)*Math.cos(co),h6=Math.sin(co),c8=new Float64Array(C),fx=new Float64Array(C),bU=F=="PlEb";
for(var b6=0;b6<O;b6++)for(var iF=0;iF<H;iF++){var k=b6*H+iF,dY=0,bl=0,dc=1;if(b6!=0&&b6!=O-1&&iF!=0&&iF!=H-1){var hN=a8[k-H-1],ga=a8[k-H+1],b1=a8[k+H-1],fc=a8[k+H+1];
dY=-.125*(ga+2*a8[k+1]+fc-(hN+2*a8[k-1]+b1));bl=-.125*(b1+2*a8[k+H]+fc-(hN+2*a8[k-H]+ga))}else{var h9=a8[k];
bl=-(b6==0?a8[k+H]-h9:b6==O-1?h9-a8[k-H]:.5*(a8[k+H]-a8[k-H]));dY=-(iF==0?a8[k+1]-h9:iF==H-1?h9-a8[k-1]:.5*(a8[k+1]-a8[k-1]))}var cB=1/Math.sqrt(dY*dY+bl*bl+1);
dY*=cB;bl*=cB;dc*=cB;var bp=dY*hV+bl*il+dc*h6,eK=bp;if(bU)eK=-dY*hV-bl*il+dc*h6;if(bp>0)c8[k]=bp;if(eK>0)fx[k]=eK}if(T)console.log("raycasting",Date.now()-e);
if(u.Sftn.v.val!=0){B.uE.pB(c8,hH,g,u.Sftn.v.val*.43);var fm=hH,hH=c8,c8=fm;if(bU){B.uE.pB(fx,hH,g,u.Sftn.v.val*.43);
var fm=hH,hH=fx,fx=fm}else B.nb(c8,fx)}if(T)console.log("softening",Date.now()-e);var jG=B.O1.R5(u.TrnS.v.Crv.v,1024);
for(var k=0;k<C;k++){c8[k]=jG[~~(c8[k]*1024)];fx[k]=jG[~~(fx[k]*1024)]}if(T)console.log("contour remap",Date.now()-e);
H=Math.round(H);O=Math.round(O);var fG=B.U(H*O*4);aL.aO(fG,u.hglC.v);var ia=B.U(H*O*4);aL.aO(ia,u.sdwC.v);
var iz=B.U(H*O*4);aL.aO(iz,u.hglC.v);var gG=B.U(H*O*4);aL.aO(gG,u.sdwC.v);var eA=1/h6,d3=1/(1-h6),aq=1/f,cY=new Float64Array(1e3);
for(var k=0;k<1e3;k++)cY[k]=Math.pow(k*.001,.2);for(var b6=0;b6<O;b6++)for(var iF=0;iF<H;iF++){var k=b6*H+iF,ch=4*k+3,fS=0,fy=0;
fS=c8[k];fy=fx[k];var ar=Math.max(0,Math.min(.9999,(d0[k]+f*.993)*aq));ar=cY[Math.floor(ar*1e3)];var aM=ar*(1-Math.min(1,fS*eA)),aU=ar*(1-Math.min(1,(1-fS)*d3)),f0=ar*(1-Math.min(1,fy*eA)),eV=ar*(1-Math.min(1,(1-fy)*d3));
ia[ch]=Math.round(255*aM);fG[ch]=Math.round(255*aU);gG[ch]=Math.round(255*f0);iz[ch]=Math.round(255*eV)}if(T)console.log("baking textures",Date.now()-e);
g=E.rect().clone();g.Iq(s,s);g.offset(A,Q);Z={a2F:u.bvlS.v.BESl=="strokeEmboss"};var ex=jz.GV(u.hglM.v.BlnM),gx=u.hglO.v.val/100,c_=jz.GV(u.sdwM.v.BlnM),iS=u.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(F)!=-1){Z.kP={B_:fG,qW:g,BS:ex,Rn:gx};Z.d1={B_:ia,qW:g,BS:c_,Rn:iS}}if(["OtrB","Embs","PlEb"].indexOf(F)!=-1){Z.ex={B_:iz,qW:g,BS:ex,Rn:gx};
Z.js={B_:gG,qW:g,BS:c_,Rn:iS}}if(T)console.log(Date.now()-e)}else if(a=="patternFill"){var cr=E.rect(),I=B.U(cr.u()*4);
aL.Ad(u,I,cr,w.add.Patt,n);var $=cr.clone();$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="ChFX"){var I=B.U(E.VR().length*4);
aL.aO(I,u.Clr.v);var m=u.blur.v.val,h5=E.rect().clone();h5.Iq(m,m);var fW=B.U(h5.u()),cs=B.U(h5.u());
B.I4(E.VR(),E.rect(),cs,h5);B.uE.Zt(cs,fW,h5,m*.43);var eS=B.O1.i8(u.MpgS.v.Crv.v,256,!0);B.tB(fW,eS);
var a$=B.U(E.VR().length),a6=B.U(E.VR().length),gw=E.rect().clone();aL.n0(gw,u,w,0);B.I4(fW,h5,a$,gw);
gw=E.rect().clone();aL.n0(gw,u,w,Math.PI);B.I4(fW,h5,a6,gw);var bO=a$.length;for(var k=0;k<bO;k++)I[4*k+3]=Math.abs(a$[k]-a6[k]);
if(u.Invr.v)for(var k=0;k<bO;k++)I[4*k+3]=255-I[4*k+3];var $=E.rect().clone();$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="OrGl"){var r;
if(u.GlwT.v.BETE=="SfBL")r=E.k3(W,m-W,!0);else r=E.a7d(m,v,!0);var X=r.VR,$=r.Kj,ak=X.slice(0);aL.ajD(X,u);
var I=B.U($.u()*4);if(u.Grad==null){aL.aO(I,u.Clr.v);aL.r5(X,u,!1)}else{aL.r5(X,u,null);var br={ry:X,uf:255,D7:0,i1:$};
aL.Cd(u,I,$,w,br);var iZ=u.Nose.v.val/100,cU=$.l;for(var k=0;k<ak.length;k++){var b3=255,au=ak[k];if(au<32){var ef=(au+ak[k-1]+ak[k+1]+ak[k-cU]+ak[k+cU])*.2-1;
b3=Math.min(255,Math.round(Math.max(0,ef)*8))}X[k]=b3}aL.anC(X,u)}B.tD(X,I,3);$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="IrGl"){var r;
if(u.GlwT.v.BETE=="SfBL")r=E.k3(W,m-W,!1);else r=E.a7d(m,v,!1);var X=r.VR,$=r.Kj;aL.ajD(X,u);if(u.glwS.v.IGSr=="SrcC")B.ei(X);
var I=B.U($.u()*4);if(u.Grad==null){aL.aO(I,u.Clr.v);aL.r5(X,u,!0)}else{aL.r5(X,u,null);var br={ry:X,uf:255,D7:0,i1:$};
aL.Cd(u,I,$,w,br);X.fill(255);aL.anC(X,u)}B.tD(X,I,3);$.offset(A,Q);Z={B_:I,qW:$}}else if(a=="FrFX"){var jj=aL.nW(u),gz=jj[0],hs=jj[1],$=E.rect().clone(),hi=null,jp=null;
$.Iq(Math.ceil(N),Math.ceil(N));if(hs>0){var r=E.k3(hs,0,!0);jp=r.VR;if(jp.length<$.u()){jp=B.U($.u());
B.I4(r.VR,r.Kj,jp,$)}}if(gz>0){var r=E.k3(gz,0,!1);hi=B.U($.u());hi.fill(255);B.I4(r.VR,r.Kj,hi,$)}$.offset(A,Q);
var I=B.U($.u()*4),cO=u.PntT.v.FrFl;if(cO=="SClr")aL.aO(I,u.Clr.v);if(cO=="GrFl")aL.Cd(u,I,$,w,E.a5d(gz,hs));
if(cO=="Ptrn")aL.Ad(u,I,$,w.add.Patt,n);Z={B_:I,qW:$,oU:jp,DL:hi}}J.type[a].push(Z);if(a=="ebbl"){if(Z.kP)J.all.push(Z.kP,Z.d1);
if(Z.ex)J.all.push(Z.ex,Z.js)}else{Z.BS=jz.GV(u.Md.v.BlnM);Z.Rn=u.Opct.v.val/100,J.all.push(Z)}}}return J};
aL.FU=function(D){var n=1/Math.sqrt(D.x*D.x+D.y*D.y+D._E*D._E);D.x*=n;D.y*=n;D._E*=n};aL.auV=function(D,n){return{x:D.y*n._E-D._E*n.y,y:D._E*n.x-D.x*n._E,_E:D.x*n.y-D.y*n.x}};
aL.a8j=function(D,n){return D.x*n.x+D.y*n.y+D._E*n._E};aL.anC=function(D,n){var _=n.Nose.v.val/100;if(_>0)for(var k=0;
k<D.length;k++){var b=D[k];b=Math.min(510-(1+_)*B.style.wn(k),b);D[k]=b}};aL.Zg=function(D){var n=aL.Rt(),_=D.Nk,b=!1;
for(var k=0;k<32;k+=8)if(_[k]+_[k+1]+_[k+4]+_[k+5]!=0||_[k+2]+_[k+3]+_[k+6]+_[k+7]!=1020)b=!0;if(b){_=_.slice(0);
for(var k=0;k<40;k+=4){var w=_[k]/255,i=_[k+1]/255,M=_[k+2]/255,N=_[k+3]/255;_[k]=w-.001;_[k+1]=w==i?1e6:1/(i-w);
_[k+2]=M==N?-1e6:1/(M-N);_[k+3]=N+.001}}var a=D.add.iOpa!=null?D.add.iOpa/255:n.fill,o=D.add.vstk;if(o&&!o.fillEnabled.v&&(!o.strokeEnabled.v||o.strokeStyleLineWidth.v.val==0))a=0;
return{fill:a,bc:b?_:null,TM:D.add.brst!=null?D.add.brst:n.TM,ajs:D.add.knko!=null?D.add.knko:n.ajs,style:!1,M$:!1}};
aL.Rt=function(){return{fill:1,bc:null,TM:[1,1,1],ajs:0,style:!1,M$:!1}};aL.Qf=function(D,n){if(n==null)return null;
var _=D.Idnt.v,b=D.Nm.v;for(var k=0;k<n.length;k++)if(n[k].id==_)return n[k];for(var k=0;k<n.length;
k++)if(n[k].name==b)return n[k];return null};aL.ajw=function(D,n,_){var b=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var k=0;k<b.length;k++){var w=D.v[b[k]].v;for(var i=0;i<w.length;i++)if(w[i].v.Ptrn)n.iy(aL.Qf(w[i].v.Ptrn.v,_))}};
aL.aeR=function(D,n,_){var b=["patternFillMulti","ebblMulti","frameFXMulti"];for(var k=0;k<b.length;
k++){var w=D.v[b[k]].v;for(var i=0;i<w.length;i++)if(w[i].v.Ptrn){var M=w[i].v.Ptrn.v,N=aL.Qf(M,_),a=aL.Qf(M,n.add.Patt);
if(N==null&&a)_.push(a)}}};aL.Ad=function(D,n,_,b,w){var i=aL.Qf(D.Ptrn.v,b);if(i!=null&&!_.hk()){var M=i.vt,N=M[0],a=M[1],o=0;
B.Cy(M);var U=(D.Scl?D.Scl.v.val:100)/100;while((U<.3||U==.5)&&M[o+2]){U*=a.l/M[o+3].l;o+=2;N=M[o];a=M[o+1]}var V=B.scale.Ad(N,a.l,a.e),c=D.phase?D.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},E=D.Angl?D.Angl.v.val:0,A=-_.x+c.Hrzn.v-1,Q=-_.y+c.Vrtc.v-1;
if(D.Algn!=null&&!D.Algn.v){}else{A+=w.x;Q+=w.y}B.scale.Lp(V,n,_.l,_.e,U,U,A+1,Q+1,E*Math.PI/180)}};
aL.Cd=function(D,n,_,b,w,i){if(i==null)i=_;var M=D.Type?D.Type.v.GrdT:"shapeburst",N=D.Algn&&D.Algn.v?i:new gl(0,0,b.l,b.e),a=D.Angl?B.X.bm(D,N):[new gZ(0,0),new gZ(100,0)],o=a[0].x,U=a[0].y,V=a[1].x-o,c=a[1].y-U,E=Math.sqrt(V*V+c*c);
E=1/(2*E*E);var A=[V*E,c*E,-c*E,V*E],Q=D.Rvrs?D.Rvrs.v:!1,J=D.Dthr?D.Dthr.v:!1;B.X.j2(D.Grad.v,n,_,A,o,U,Q,ci.X.types.indexOf(M),0,0,w,J)};
aL.akw=function(D,n,_){for(var k=0;k<D.all.length;k++){var b=D.all[k];b.tP=b.qW.clone();b.tP.offset(n,_)}};
aL.aou=function(D,n,_,b,w,i){var M=p.b$?aL.agV:aL.asY;aL.akw(n,_.x,_.y);var N=n.type.DrSh;for(var k=0;
k<N.length;k++)if(!N[k].a8U)M(N[k],b,w,i)};aL.acK=function(D,n,_,b,w,i,M,N,a,o){var U=_,V=p.b$?aL.agV:aL.asY,c=p.b$?p.a.VY:B.a.ih,E;
E=n.type.DrSh;for(var k=0;k<E.length;k++)if(E[k].a8U)V(E[k],b,w,i);E=n.type.OrGl;for(var k=0;k<E.length;
k++)V(E[k],b,w,i);var A="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var Q=0;Q<A.length;Q++){var E=n.type[A[Q]];
for(var k=0;k<E.length;k++)V(E[k],M,U,i)}var J=n.type.ebbl[0],L=J!=null&&J.a2F;E=n.type.FrFX;for(var k=0;
k<E.length;k++){var P=E[k];gI.l7.I4(N,o,a,o,i);V(P,a,o,i);if(L&&k==E.length-1){if(J.js)V(J.js,a,o,i);
if(J.ex)V(J.ex,a,o,i);if(J.d1)V(J.d1,a,o,i);if(J.kP)V(J.kP,a,o,i)}if(P.DL||P.GC)c(a,o,M,U,p.b$?P.GC:P.DL,P.tP,0,i,1);
if(P.oU||P.WX)c(a,o,b,w,p.b$?P.WX:P.oU,P.tP,0,i,1)}if(!L&&J!=null){if(J.js)V(J.js,b,w,i);if(J.ex)V(J.ex,b,w,i);
if(J.d1)V(J.d1,M,U,i);if(J.kP)V(J.kP,M,U,i)}};aL.asY=function(D,n,_,b){var w=aL.Rt();w.fill=D.Rn;w.style=!0;
B.a.dG(D.BS,D.B_,D.tP,n,_,b,1,w)};aL.agV=function(D,n,_,b){var w=aL.Rt();w.fill=D.Rn;w.style=!0;p.a.zG(D.BS,D.MF,D.tP,n,_,b,1,w)};
aL.ajD=function(D,n){var _=1-n.Inpr.v.val/100,b=1+Math.tan(_*(Math.PI/2)),w=D.length;for(var k=0;k<w;
k++)D[k]=Math.min(255,Math.round(D[k]*b))};aL.r5=function(D,n,_){var b=n.blur.v.val,w=Math.round(b*(n.Ckmt.v.val/100));
if(b>w){var i=B.O1.i8(n.TrnS.v.Crv.v,256,!0);B.tB(D,i)}if(_!=null&&n.Nose.v.val>0)B.style.zj(D,n.Nose.v.val/100,_)};
aL.aO=function(D,n,_){if(_==null)_=255;var b=B.X.kj(n),w=_<<24|b.S<<16|b.z<<8|b.p,i=new Uint32Array(D.buffer);
i.fill(w)};aL.n0=function(D,n,_,b){var w=n.uglg&&n.uglg.v?_.bH():n.lagl.v.val;w=w*Math.PI/180+b;var i=Math.cos(w)*n.Dstn.v.val,M=Math.sin(w)*n.Dstn.v.val;
D.x-=Math.round(i);D.y+=Math.round(M)};aL.g$=function(D){if(D==null)return null;var n=D.frameFXMulti.v;
if(n.length==0)return null;n=n[0].v;var _=JSON.parse(JSON.stringify(ci.yg.default));aL.an5(n,_);return _};
aL.an5=function(D,n){var _=ci.stroke.WV.indexOf(D.PntT.v.FrFl),b=[ci.BA,ci.LY,ci.EF][_],w=n.strokeStyleContent.v={classID:ci.yg.bR[_]};
for(var k=0;k<b.length;k++)w[b[k]]=D[b[k]];n.strokeEnabled=D.enab;n.strokeStyleLineWidth=D.Sz;n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ci.yg.l9[ci.stroke.types.indexOf(D.Styl.v.FStl)];
n.strokeStyleOpacity=D.Opct;n.strokeStyleBlendMode=D.Md};aL.jx=function(D,n){var _=[];for(var k=0;k<D.length;
k++)_.push({t:"UntF",v:{type:"#Nne",val:Math.round(D[k]*n)}});return _};aL.uC=function(D,n,_,b){this.Qe=n.clone();
this.apd=n.clone();this.apd.Iq(_,_);if(b){this.Qe.Iq(1,1);this.aR=B.U(this.Qe.u());B.I4(D,n,this.aR,this.Qe)}else this.aR=D;
this.tw=null;this.lQ=null;this.A9=null};aL.uC.prototype.VR=function(){return this.aR};aL.uC.prototype.rect=function(){return this.Qe};
aL.uC.prototype.mC=function(){return this.apd};aL.uC.prototype.Wb=function(){if(this.tw)return this.tw;
this.tw=this.VR().slice(0);B.ei(this.tw);return this.tw};aL.uC.prototype.jA=function(){if(this.lQ)return this.lQ;
this.lQ=new Float64Array(this.rect().u());B.style.qh(this.Wb(),this.lQ,this.rect().l,this.rect().e);
return this.lQ};aL.uC.prototype.YM=function(){if(this.A9)return this.A9;var D=this.mC(),n=B.U(D.u());
B.I4(this.VR(),this.rect(),n,D);this.A9=new Float64Array(D.u());B.style.qh(n,this.A9,D.l,D.e);return this.A9};
aL.uC.prototype.a5d=function(D,n){var _={uf:-n,D7:D,i1:null,ry:null};if(n==0){_.i1=this.rect();_.ry=this.jA();
return _}var b=this.YM().slice(0),w=this.mC();_.i1=w;_.ry=b;for(var k=0;k<b.length;k++)b[k]=-b[k];if(D==0)return _;
var i=this.jA(),M=this.rect();for(var N=0;N<M.e;N++)for(var a=0;a<M.l;a++){var o=N*M.l+a,U=(N+M.y-w.y)*w.l+a+M.x-w.x;
b[U]+=i[o]}return _};aL.uC.prototype.k3=function(D,n,_){var b=Math.ceil(D+n),w={Kj:this.rect().clone(),VR:null};
w.Kj.Iq(b,b);w.VR=B.U(w.Kj.u());if(D==0&&n==0)B.nb(_?this.VR():this.Wb(),w.VR);else{var i=B.U(w.Kj.u());
B.I4(this.VR(),this.rect(),i,w.Kj);if(!_)B.ei(i);if(D!=0){if(_)B.style.rg(i,w.Kj,this.YM(),this.mC(),D);
else B.style.rg(i,w.Kj,this.jA(),this.rect(),D)}if(n!=0)B.uE.Zt(i,w.VR,w.Kj,Math.max(1,n*.43));else w.VR=i}return w};
aL.uC.prototype.a7d=function(D,n,_){var b=D*(n-.5),w={Kj:this.rect().clone(),VR:null};if(_)w.Kj.Iq(D,D);
w.VR=B.U(w.Kj.u());var i=w.Kj.l,M=w.Kj.e,N=_?this.YM():this.jA(),a=_?this.mC():this.rect(),o=w.Kj,U=o.zE(a),i=U.l,M=U.e,V=U.x-o.x,c=U.y-o.y,E=U.x-a.x,A=U.y-a.y,Q=1-n*2;
for(var J=0;J<M;J++)for(var L=0;L<i;L++){var P=N[(J+A)*a.l+L+E],u=P/D;w.VR[(J+c)*o.l+L+V]=Math.max(0,Math.min(255,255-255*((u+Q)/(1+Q))))}return w};
aL.aaq=function(D,n,_){var b=D.Lefx,w=D.blendOptions;if(b){var i=n.add.lmfx;if(_==null)_=i?i.Scl.v.val:100;
n.add.lmfx=JSON.parse(JSON.stringify(b.v));if(n.add.lmfx.Scl==null)n.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
aL.hx(n.add.lmfx,_/n.add.lmfx.Scl.v.val);if(i)n.add.lmfx.Scl.v.val=i.Scl.v.val}else delete n.add.lmfx;
if(w){w=w.v;if(w.Md)n.QQ=jz.GV(w.Md.v.BlnM);if(w.Opct)n.opacity=Math.round(w.Opct.v.val*255/100);if(w.fillOpacity)n.add.iOpa=Math.round(w.fillOpacity.v.val*255/100);
if(w.Blnd){var M=[];for(var k=0;k<10;k++)M.push(0,0,255,255);var N=w.Blnd.v,a="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var k=0;k<N.length;k++){var o=N[k].v,U=8*["Gry","Rd","Grn","Bl"].indexOf(o.Chnl.v[0].v.enum);for(var V=0;
V<8;V++){M[U+V]=o[a[V]].v}}n.Nk=M}}};aL.alc=function(D){var n="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),_=[],b=D.Nk;
for(var k=0;k<4;k++){var w=k*8;if(b[w]+b[w+1]+b[w+4]+b[w+5]==0&&b[w+2]+b[w+3]+b[w+6]+b[w+7]==4*255)continue;
var i={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][k]}}]}}};
_.push(i);for(var M=0;M<8;M++)i.v[n[M]]={t:"long",v:b[k*8+M]}}var N={classID:"blendOptions"};if(D.QQ!="norm")N.Md={t:"enum",v:{BlnM:jz.j0(D.QQ)}};
if(D.opacity!=255)N.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(D.opacity*100/255)}};if(D.add.iOpa!=null)N.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(D.add.iOpa*100/255)}};
if(_.length!=0)N.Blnd={t:"VlLs",v:_};var a={fF:{classID:"null",Idnt:{t:"TEXT",v:ai.mq()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Ui:{classID:"Styl",blendOptions:{t:"Objc",v:N}}},o=D.add.lmfx;
if(o)a.Ui.Lefx={t:"Objc",v:o};return a};function iu(){}iu.$H=function(D){return JSON.parse(JSON.stringify(D))};
iu.kw=function(D){var n=iu.$H(iu.a3w),_=n.Brsh.v;if(D!=null){delete _.Hrdn;_.classID="sampledBrush";
_.Nm={t:"TEXT",v:"layer.png"},_.sampledData={t:"TEXT",v:D}}return n};iu.a3w={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
iu.FU={};iu.FU.check=function(D){var n=iu.FU.i0;for(var k=0;k<n.length;k++)if(D[n[k]]==null)D[n[k]]=JSON.parse(iu.FU.Zp[n[k]]);
var _=[];for(var k=0;k<n.length;k++)_.push(n[k]);var b=iu.FU.ajj;for(var k=0;k<b.length;k++){var w=b[k][0],i=b[k][1],M=!0;
for(var N=0;N<w.length;N++)M=M&&D[w[N]].v==!0;if(M)for(var N=0;N<i.length;N++){if(D[i[N]]==null)console.log("Missing conditional parameter "+i[N]);
else _.push(i[N])}}for(var a in D)if(_.indexOf(a)==-1)console.log("Extra parameter "+a);D=D.Brsh.v;n=iu.FU.Gu.i0;
for(var k=0;k<n.length;k++)if(D[n[k]]==null)D[n[k]]=JSON.parse(iu.FU.Gu.Zp[n[k]]);_=[];for(var k=0;k<n.length;
k++)if(D[n[k]])_.push(n[k]);else console.log("Missing default parameter "+n[k]);b=iu.FU.Gu.aaG[D.classID];
for(var k=0;k<b.length;k++)if(D[b[k]]==null&&b[k]!="dtipsGridSize"&&b[k]!="dtipsErodibleTipHeightMap"&&D.a7a!=1)console.log("Missing conditional parameter "+b[k]);
else _.push(b[k]);for(var a in D)if(_.indexOf(a)==-1)console.log("Extra parameter "+a)};iu.FU.FC=function(D){var n=iu.FU.ajj;
for(var k=0;k<n.length;k++){var _=n[k][0],b=n[k][1],w=!0;for(var i=0;i<_.length;i++)w=w&&D[_[i]]&&D[_[i]].v==!0;
if(w){for(var i=0;i<b.length;i++)if(D[b[i]]==null){D[b[i]]=JSON.parse(iu.FU.Zp[b[i]])}}else for(var i=0;
i<b.length;i++)if(D[b[i]]!=null){delete D[b[i]]}}};iu.FU.Gu={};iu.FU.Gu.i0="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
iu.FU.Gu.Zp={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};iu.FU.Gu.aaG={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
iu.FU.ajj=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
iu.FU.i0="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
iu.FU.Zp={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function eO(D,n){this.auQ=D;this.Qv=n==null?0:n;this.dir=0}eO.prototype.fm=function(D,n){var _=this.auQ,b=new gZ(D.x-_.x,D.y-_.y),w=new e3;
w.rotate(-this.Qv);b=w.pm(b);if(this.dir==0&&!_.l8(D))this.dir=Math.abs(b.x)<Math.abs(b.y)?1:2;if(n.j(dz.CO)){if(this.dir==1)b.x=0;
if(this.dir==2)b.y=0}w.ei();b=w.pm(b);var i=new gZ(_.x+b.x,_.y+b.y);return i};var jL=function(){function D(){this.a1D={}}D.ahy=function(n,_){var b=n.clone();
b.oE-=Math.floor(b.oE);b.LE-=Math.floor(b.LE);var w=new gZ(_,0),i=new gZ(0,_),M=b.pm(w),N=b.pm(i),a=new gZ(b.oE,b.LE);
return[M,N,a]};D.a3K=function(n,_){var b=gZ._e;return b(n[0],_[0])+b(n[1],_[1])+b(n[2],_[2]);return dsum};
D.prototype.arV=function(n){var _=this.a1D,b=_[n];if(b==null)b=_[n]={aN:[],Bs:0,u:0,ar$:0,a71:0};b.Bs=Date.now();
while(Object.keys(_).length>3){var w="",i=Date.now();for(var M in _){var N=_[M].Bs;if(N<i){i=N;w=M}}delete _[w]}return b};
D.prototype.aqg=function(n,_){var b=n.aN,w,i=1e6;for(var k=0;k<b.length;k++){var M=b[k],N=D.a3K(M.rq,_);
if(N<i){w=M;i=N}}return w};D.prototype.a0W=function(n,_){var b=n.aN;b.push(_);n.u+=_.rect.u();if(b.length>1e3||n.u>100*100*1600){console.log("pruning",n.u,b.length);
b.sort(function(i,M){return M.Bs-i.Bs});while(b.length>500||n.u>100*100*800){var w=b.pop();n.u-=w.rect.u()}}};
return D}();function eg(D,n,_,b,w,i,M,N,a){this.Nb=n;this.bn=_;this.Cp=i;this.Pr=b;if(b.Al==null)b.Al=[!1,!0];
this._6=null;this.Ak=null;this.aj=0;this.a1y=0;this.a5B=0;this.G2=0;this.xi=a==null?Math.floor(Math.random()*16777215):a;
this.apC=a==null?Math.floor(Math.random()*16777215):a;this.jr=new gl;this.Rz=new gl;if(N!=null){this.B_=N}else{var o=eg.a1d;
if(o.length!=M.u()*4)o=B.U(M.u()*4);else o.fill(0);this.B_=eg.a1d=o}this.rect=M.clone();this.uw=[];this.Bb=[];
this.pM=null;this.EH=0;this.S=null;this.ak0="";this._z=null;this.a8Q(D,w)}eg.a1d=B.U(16);eg.prototype.a8Q=function(D,n){this.EH=n;
this.S=D;this.ak0=JSON.stringify(D)+JSON.stringify(this.Pr.ML);this._z=eg.a0v(D,this.Nb,this.bn)};eg.prototype.moveTo=function(D,n,_){_=this.a4D(_);
this.aj=_;var b=new gZ(D,n),w=this.S.Brsh.v.Dmtr.v.val;this._6=b.clone();this.Ak=b.clone();this.pM=b.clone();
this.uw=[D,n];this.Bb=[_];var i=this.Pr.Al;if(this.Pr.yR!=eg.iY){var M=this.S.angleDynamics,N=M?M.v.bVTy.v==6:!1;
this.ip(N?new gl:this.aq5(b,this.auv()*(i[1]?_:1),this.Pr.d8*(i[0]?_*.5:1),new gZ(0,0)))}this.G2=b.clone()};
eg.prototype.lineTo=function(D,n,_){_=this.a4D(_);var b=this.uw,w=b.length,i=b[w-2],M=b[w-1];if(D==i&&n==M)return;
var N=this.S.Brsh.v.Dmtr.v.val,a=Math.ceil(N)+1,o=new gl(Math.round(i),Math.round(M),0,0);o.Iq(a,a);
var U=new gl(Math.round(D),Math.round(n),0,0);U.Iq(a,a);this.uw.push(D,n);this.Bb.push(_);w+=2;if(w>=6)this.ip(this.a5D(w))};
eg.prototype.a4D=function(D){if(D==null)D=1;D=Math.max(.05,Math.min(5,D));if(isNaN(D)){alert("Pressure is not a number");
throw"e"}return D};eg.prototype.ip=function(D){this.jr=D;this.Rz=this.Rz.Ik(D)};eg.prototype.finish=function(){var D=this.uw,n=D.length,_;
if(n==4)_=this.afm(D[n-2],D[n-1],this.Bb[(n>>1)-1],!0);if(n>4)_=this.a5D(n+2);if(_)this.ip(_)};eg.prototype.YL=function(){return this.rect.clone()};
eg.prototype.tb=function(){return this.jr.zE(this.rect)};eg.prototype.X6=function(){return this.Rz.zE(this.rect)};
eg.prototype.Mn=function(){return this.B_};eg.prototype.a5D=function(D){var n=this.uw,_=this.Bb,b=n[D-6],w=n[D-5],i=n[D-4],M=n[D-3],N=_[(D>>1)-3],a=_[(D>>1)-2],o=new gZ(0,0),U=new gZ(0,0);
if(8<=D)o=eg.ajR(n[D-8],n[D-7],b,w,i,M);if(D<=n.length)U=eg.ajR(n[D-2],n[D-1],i,M,b,w);var V=b+o.x,c=w+o.y,E=i+U.x,A=M+U.y,Q=new gl;
for(var k=0;k<10;k++){var J=(k+1)*.1,L=1-J,P=L*L*L*b+3*J*L*L*V+3*J*J*L*E+J*J*J*i,u=L*L*L*w+3*J*L*L*c+3*J*J*L*A+J*J*J*M,m=this.afm(P,u,N+J*(a-N));
Q=Q.Ik(m)}return Q};eg.ajR=function(D,n,_,b,w,i){var M=D-_,N=n-b,a=w-_,o=i-b,U=Math.sqrt(M*M+N*N),V=Math.sqrt(a*a+o*o),c=Math.acos((M*a+N*o)/(U*V))/Math.PI,E=.35,A=.1;
c=A+c*(E-A);var Q=w-D,J=i-n,L=Math.sqrt(Q*Q+J*J),P=c*V/L;return new gZ(Q*P,J*P)};eg.prototype.afm=function(D,n,_,b){var w=new gl,i=this.Pr.asj;
if(i==null)i=0;if(i==0||b){w=this.auT(D,n,_);return w}var M=this.pM,N=D-M.x,a=n-M.y,o=Math.sqrt(N*N+a*a);
N/=o;a/=o;if(o>i){var U=M.x+N*(o-i),V=M.y+a*(o-i);w=this.auT(U,V,_);this.pM.bq(U,V)}return w};eg.prototype.auT=function(D,n,_){var b=new gl,w=new gZ(D,n),i=this.S.Brsh.v.Dmtr.v.val,M=this.Pr.yR,N=w.mG(this.Ak);
N.normalize(1);var a=gZ._e(this.Ak,w),o=-this.a1y,U=this.Ak.clone(),V=this.Pr.Al;while(!0){var c=this.aj+(_-this.aj)*(Math.max(0,o)/a),E=this.auv()*(V[1]?c:1),A=this.adN()*(E+this.a5B)/2*this._z.a6v;
if(M==eg.iY)A=1;if(o+A<a){o+=A;var Q=new gZ(this.Ak.x+N.x*o,this.Ak.y+N.y*o),P=1;if(M==eg.iY){var J=U.clone();
J.x+=N.x>0?1:-1;var L=U.clone();L.y+=N.y>0?1:-1;if(gZ._e(J,Q)<gZ._e(L,Q))Q=J;else Q=L;o=gZ._e(Q,this.Ak)}if(this.S.useScatter.v==!0){P=this.S.Cnt.v;
var u=this.S.countDynamics.v.jitter.v.val/100,m=u*(-1+2*this.Is());P+=Math.round(P*m)}for(var k=0;k<P;
k++){var x=this.aq5(Q,E,this.Pr.d8*(V[0]?c*.5:1),N);b=b.Ik(x)}U=Q}else break}this.a1y=a-o;this.Ak=w;
this.aj=_;return b};eg.prototype.adN=function(){var D=this.S.Brsh.v,n=D.Spcn.v.val,_=Math.max(5,D.Rndn.v.val);
return _/100*(n/100)};eg.prototype.auv=function(){var D=this.S,n=D.Brsh.v.Dmtr.v.val;if(D.useTipDynamics.v){var _=n*(D.minimumDiameter.v.val/100);
n=_+(n-_)*(1-this.Is(this.apC)*(D.szVr.v.jitter.v.val/100))}return n};eg.prototype.aq5=function(D,n,_,b){_=Math.min(1,_);
var w=this.S,i=this.S.Brsh.v,M=i.Dmtr.v.val,N=this.Pr,a=N.yR,o=N.al5,U=this._z.vt[1],V=new e3;V.translate(-U.l/2,-U.e/2);
V.scale(1/this._z.a6A,1/this._z.a6A);V.scale(n/M,n/M);V.scale(1,Math.max(5,i.Rndn.v.val)/100);if(w.useTipDynamics.v){var c=w.angleDynamics.v,E=w.minimumRoundness.v.val/100;
V.scale(1,E+(1-E)*Math.round(100-this.Is()*w.roundnessDynamics.v.jitter.v.val)/100);V.rotate((-.5+this.Is())*4*Math.PI*(c.jitter.v.val/100));
if(c.bVTy.v==6)V.rotate(Math.atan2(-b.y,b.x))}V.rotate(i.Angl.v.val*(Math.PI/180));if(w.useScatter.v){var A=(-1+2*this.Is())*w.scatterDynamics.v.jitter.v.val/100;
V.translate(-A*n*b.y,A*n*b.x)}V.translate(D.x,D.y);var Q=this.akT(V,D,n),J=Q.rect.clone();if(a==null){var L=this.ft(w);
B.o5(Q.Qt,Math.round(L.S*255)<<16|Math.round(L.z*255)<<8|Math.round(L.p*255)<<0,4278190080);if(this.Rz.hk()&&this.rect.l8(Q.rect)&&_==1)this.B_=Q.Qt.slice(0);
else B.a.ac3(Q.Qt,Q.rect,this.B_,this.rect,Q.rect,_)}if(a==eg.iY){var P=new gZ(Q.rect.x+Q.rect.l/2,Q.rect.y+Q.rect.e/2),u=Math.round(P.x-this.G2.x),m=Math.round(P.y-this.G2.y),x=Q.rect.clone();
x.offset(-u,-m);var v=x.zE(this.rect);v.offset(u,m);B.E3(this.B_,this.rect,Q.Qt,x);B.a.Nj(Q.Qt,Q.rect,this.B_,this.rect,Q.IA,Q.rect,_)}if(a==eg.P2||a==eg.rS||a==eg.UM){var W=Q.rect.zE(this.rect),Z;
if(W.l8(Q.rect))Z=Q.IA;else{Z=B.U(W.u());B.I4(Q.IA,Q.rect,Z,W)}var r=B.U(W.u()*4);B.E3(this.B_,this.rect,r,W);
if(a==eg.rS){var X=r.slice(0),$=B.ax.Gw([-1,-1,-1,-1,25,-1,-1,-1,-1]);B.ax.mA(r,X,W.l,W.e,$,0);B.nb(X,r)}else if(a==eg.UM){var I=cq.D2("UnsM");
I.Amnt.v.val=15;I.Thsh.v=0;I.Rds.v.val=5;var X=B.U(r.length);cq.pe("UnsM",{buffer:r,rect:W},I,0,0,{buffer:X,rect:W});
B.nb(X,r)}else{cq.Lk(1,B.uE.Yd,r,W)}B.a.Nj(r,W,this.B_,this.rect,Z,W,_)}this.a5B=n;this.G2=P;this.apC++;
return J};eg.prototype.ft=function(D){var n=eg.al0(this.EH);if(D.useColorDynamics&&D.useColorDynamics.v){var _=1-this.Is()*D.clVr.v.jitter.v.val/100,b=eg.al0(this.Cp);
n.p=_*n.p+(1-_)*b.p;n.z=_*n.z+(1-_)*b.z;n.S=_*n.S+(1-_)*b.S;var w=(-.5+this.Is())*D.H.v.val/100,i=(-1+2*this.Is())*D.Strt.v.val/100,M=(-1+2*this.Is())*D.Brgh.v.val/100,N=B.CS(n.p,n.z,n.S);
N.Rw=(N.Rw+w+1)%1;N.cg=N.cg+i;if(N.cg<0)N.cg=-N.cg;if(N.cg>1)N.cg=1-(N.cg-1);N.Ky=N.Ky+M;if(N.Ky<0)N.Ky=-N.Ky;
if(N.Ky>1)N.Ky=1-(N.Ky-1);n=B.Ra(N.Rw,N.cg,N.Ky)}return n};eg.prototype.FU=function(D){return Math.max(0,Math.min(1,D))};
eg.prototype.Is=function(D){if(D==null){D=this.xi++}return eg.hash(D)};eg.al0=function(D){return{p:(D>>16&255)/255,z:(D>>8&255)/255,S:(D>>0&255)/255}};
eg.hash=function(D){D=D^61^D>>16;D=D+(D<<3);D=D^D>>4;D=D*668265261;D=D^D>>15;return(D&16777215)/16777215};
eg.a31=new jL;eg.prototype.akT=function(D,n,_){var b=Math.sqrt(this._z.vt[1].u()),w=b*D.gM(),i=w<10?1:w<50?1.5:w<200?3:8,M=eg.a31,N=M.arV(this.ak0),a=this.Pr.ML;
if(a){D=D.clone();D.oE=Math.floor(D.oE);D.LE=Math.floor(D.LE)}var o=jL.ahy(D,b),U=M.aqg(N,o);if(U&&jL.a3K(U.rq,o)>i)U=null;
if(U){U.rect.x=Math.round(U.a7P.x+D.oE);U.rect.y=Math.round(U.a7P.y+D.LE);if(a){U.rect.x=Math.round(n.x-U.rect.l/2);
U.rect.y=Math.round(n.y-U.rect.e/2)}U.Bs=Date.now()}else{var V=Math.round(this.S.Brsh.v.Dmtr.v.val),c;
if(a&&V<=3){c={buffer:B.U(V*V*4),rect:new gl(Math.round(n.x-V/2),Math.round(n.y-V/2),V,V)};B.o5(c.buffer,4278190080)}else if(D.vd==1&&D.S==0&&D.jo==0&&D.Ww==1){c={buffer:this._z.vt[0],rect:this._z.vt[1].clone()};
c.rect.x=Math.round(D.oE);c.rect.y=Math.round(D.LE)}else c=G.Q.XB(this._z.vt,D);if(a){for(var k=0;k<c.buffer.length;
k++)c.buffer[k]=c.buffer[k]>127?255:0}if(c==null)c={buffer:B.U(0),rect:new gl};U={Qt:c.buffer,IA:B.U(c.rect.u()),rect:c.rect,a7P:new gZ(c.rect.x-D.oE,c.rect.y-D.LE),rq:o,Bs:Date.now()};
B.Ef(U.Qt,U.IA,3);if(N)M.a0W(N,U)}return U};eg.a0v=function(D,n,_){var b,w,i,M=D.Brsh.v.Dmtr.v.val;if(D.Brsh.v.classID=="computedBrush"){var N=D.Brsh.v.Hrdn.v.val/100,a=1+.55*(1-N);
w=M<100?1.2:1;i=1;var o=Math.round(w*M*a),U=new gl(0,0,o,o),V=B.U(o*o*4),c=new Uint32Array(V.buffer);
b=[V,U];var E=o/2,A=a/E,Q=Date.now(),J=eg.cz(N),L=Math.round(8e3/E),n=J[0],P=J[1]-L,u=J[2]+L,m=Math.min(o,(o>>>1)+1);
for(var k=0;k<m;k++){var x=A*(k-E+.25);x*=x;var v=A*(k-E+.75);v*=v;var W=k*o,Z=(o-1-k)*o;for(var r=0;
r<m;r++){var X=A*(r-E+.25),$=Math.floor(Math.sqrt(X*X+x)*(4e3/1.55));if(u<$)continue;else if($<P){var I=4278190080;
while(r<m){var T=o-1-r;c[W+r]=I;c[W+T]=I;c[Z+r]=I;c[Z+T]=I;r++}break}else{var e=A*(r-E+.75),F=Math.floor(Math.sqrt(e*e+x)*(4e3/1.55)),y=Math.floor(Math.sqrt(X*X+v)*(4e3/1.55)),h=Math.floor(Math.sqrt(e*e+v)*(4e3/1.55)),I=~~(.5+255*.25*(n[$]+n[F]+n[y]+n[h]))<<24,T=o-1-r;
c[W+r]=I;c[W+T]=I;c[Z+r]=I;c[Z+T]=I}}}}if(D.Brsh.v.classID=="sampledBrush"){var Y;for(var k=0;k<n.length;
k++)if(n[k].id==D.Brsh.v.sampledData.v)Y=n[k];b=Y.vt;var U=b[1];w=Math.max(U.l,U.e)/M;i=Math.min(U.l,U.e)/Math.max(U.l,U.e)}return{a6A:w,a6v:i,vt:b}};
eg.NX=[];eg.cz=function(D){if(eg.NX[D])return eg.NX[D];var n=Math.pow(D,.55),_=new Float64Array(8e3),b=0,w=8e3;
for(var k=0;k<8e3;k++){var i=eg.a4O(k*(1.55/4e3),n);if(i>=1)b=k;else if(i<=0&&w==8e3)w=k;_[k]=i}var M=[_,b,w];
eg.NX[D]=M;return M};eg.a4O=function(D,n){var _=D<n?1:eg.a1e((D-n)/Math.pow(1.001-n,.86));return _};
eg.a1e=function(D){var n=D*.85;return Math.exp(-(n*n)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
eg.O=null;eg.aB=null;eg.N0=function(D,n,_,b,w,i){var M=eg.O,N=eg.aB;if(M==null){eg.O=M=document.createElement("canvas");
eg.aB=N=M.getContext("2d")}if(i==null)i=b;if(M.width!=i||M.height!=w){M.width=i;M.height=w}else N.clearRect(0,0,i,w);
N.fillStyle="#000000";N.font=Math.floor(10*G.F())+"px sans-serif";var a=D.Brsh.v.Dmtr.v.val,o=""+a,U=N.measureText(o);
N.fillText(o,(b-U.width)/2,w-2);var V=b,c=w-10*G.F(),E=Math.min(V,c),A=D.Brsh.v.classID;if(A=="computedBrush"){N.translate(V/2,c/2);
N.rotate(-D.Brsh.v.Angl.v.val*Math.PI/180);N.scale(1,.1+.9*D.Brsh.v.Rndn.v.val/100);var Q=Math.min(.95*E/2,a/2)+.5,J=.9*D.Brsh.v.Hrdn.v.val/100,L=N.createRadialGradient(0,0,0,0,0,Q);
L.addColorStop(J,"rgba(0,0,0,1)");L.addColorStop((.5+J)/1.5,"rgba(0,0,0,.5)");L.addColorStop(1,"rgba(0,0,0,0)");
N.fillStyle=L;N.fillRect(-Q,-Q,2*Q,2*Q);N.setTransform(1,0,0,1,0,0)}else if(A=="sampledBrush"){var P,W=0;
for(var k=0;k<n.length;k++)if(n[k].id==D.Brsh.v.sampledData.v)P=n[k];var u=P.vt;B.Cy(u);var m=u[0],x=u[1].l,v=u[1].e;
while((x>V||v>c)&&u[W+2]){W+=2;m=u[W];x=u[W+1].l;v=u[W+1].e}if(x*v!=0){var Z=new ImageData(new Uint8ClampedArray(m.buffer),x,v);
N.putImageData(Z,Math.round((V-x)/2),Math.round((c-v)/2))}}else{}return M.toDataURL()};eg.uM=function(D,n,_,b){if(_==0)_=1;
var w=D.Brsh.v,i=w.Dmtr.v.val,M=w.Dmtr.v.val=Math.min(b!=null?Math.round(b*2.6):3e3,i*_),N=w.Hrdn?w.Hrdn.v.val/100:1,a=b!=null?b:Math.round(M*(1+.55*(1-N)))+4,V;
a=Math.max(15,Math.min(a,3e3));var o=new gl(0,0,a,a),U=new eg(D,n,null,{d8:1},16711712,0,o);w.Dmtr.v.val=i;
U.moveTo(o.l/2,o.e/2);var c=U.Mn(),E=U.YL();if(o.l8(E))V=c;else{V=B.U(o.u()*4);B.E3(c,E,V,o)}return[V,o,M]};
eg.aqx=function(D,n,_,b){var w=n.l,i=w>>>1;for(var k=0;k<4;k++){var M=6-k;D[w*(i-M)+i-1]=b;D[w*(i-M)+i]=_;
D[w*(i-M)+i+1]=b;D[w*(i+M)+i-1]=b;D[w*(i+M)+i]=_;D[w*(i+M)+i+1]=b;D[w*(i-1)+i-M]=b;D[w*i+i-M]=_;D[w*(i+1)+i-M]=b;
D[w*(i-1)+i+M]=b;D[w*i+i+M]=_;D[w*(i+1)+i+M]=b}};eg.cs=function(D,n,_,b){var w=eg.uM(D,n,_),i=w[0].slice(0),M=w[1],N=w[2],a=M.u(),o=B.U(a);
B.Ef(i,o,3);var U=B.U(a);B.q.apB(o,U,M);if(N<3||B.FK(U,0)||b&&N>12){eg.aqx(U,M,255,0)}var V=[1,2,1,2,8,2,1,2,1];
V=B.ax.Gw(V);B.ax.P4(U,o,M.l,M.e,V);B.o5(i,4294967295);B.tD(o,i,3);for(var k=0;k<a;k++)if(U[k]==255){i[k<<2]=i[(k<<2)+1]=i[(k<<2)+2]=0;
i[(k<<2)+3]=255}return{kg:i,Kj:M,YZ:new gZ(M.l/2,M.e/2)}};eg.iY="0";eg.P2="1";eg.rS="2";eg.UM="3";var iy={};
iy.az=function(D,n){var _=D.E8(),M=0,o;if(_.x==Infinity||_.hk())return{B_:B.U(0),Kj:new gl,dI:new gl};
var b=D.E8(),w=iy.n6(D,n),i=B.H.cx(w.t);for(var k=0;k<D.OT.length;k++){var N=D.OT[k].f0;if(N.StrokeFlag&&N._LineWidth)M=Math.max(M,Math.ceil(N._LineWidth/2))}i.Iq(M,M);
if(i.hk())return{B_:B.U(0),Kj:new gl,dI:new gl};var a=B.HY(i.l,i.e);a.translate(-i.x,-i.y);iy.ani(w,a);
if(D.OT.length!=0){var U=jg.Eq(n),V=a.getImageData(0,0,i.l,i.e);o=new Uint8Array(V.data.buffer);if(U==0)for(var k=0;
k<o.length;k+=4)o[k+3]=o[k+3]>80?255:0;if(U==3)for(var k=0;k<o.length;k+=4)o[k+3]=Math.min(255,o[k+3]*1.5)}else o=B.U(i.u()*4);
a.resetTransform();a.beginPath();return{B_:o,Kj:i,dI:b}};iy.n6=function(D,n){var _=n.A,b=n.uP,w=jg.Eq(n),i=Math.max(_.S*_.S,_.jo*_.jo)<1e-9?_:null;
if(w==3||w==4)i=null;var M={C:[],t:[]};iy.agS(D,M,i,!0);iy.agS(D,M,i,!1);M=iy.n1(M,n,D);return M};iy.n1=function(D,n,_){if(D==null)return D;
if(_&&_.Lo)B.H.A(D.t,_.Lo,D.t);if(_&&!B.ie.VW(n.Kv)){var b=jg.YL(n,_);if(!b.hk()){if(D.C){D=B.H.QM(D);
var w=Math.min(b.l,b.e)/8;if(w<1)w=1;D=B.H.U$(D,w)}var i=B.ie.W_(n.Kv,b);B.Uo.A(i,D.t,b)}}var M=n.A;
B.H.A(D.t,M,D.t);return D};iy.ani=function(D,n){n.save();n.miterLimit=2;Typr.U.pathToContext({crds:D.t,cmds:D.C},n);
n.restore()};iy.Y2=function(D,n,_){if(!h8.a6R(_))return;var b=D.uP,w=b.ResourceDict.FontSet,i=b.ResourceDict.StyleSheetSet[0].StyleSheetData,M=b.EngineDict.StyleRun.RunLengthArray,N=b.EngineDict.StyleRun.RunArray,a=jg.kb(b),o=!0,U={},V=0;
for(var k=0;k<N.length;k++){var c=N[k].StyleSheet.StyleSheetData.Font;if(c==null)c=i.Font;for(var E=0;
E<M[k];E++){var A=a.charCodeAt(V+E),Q=c+","+(A>128?A:-1);if(U[Q]==null){U[Q]=1;if(n.pc(w[c].Name,A)==null)o=!1}}V+=M[k]}return o};
iy.agS=function(D,n,_,b){var w=new e3;for(var k=0;k<D.ew.length;k++)iy.ajS(D.OT,D.ew[k],n,w,_,b)};iy.ajS=function(D,n,_,b,w,i){b.translate(n.jY.x,n.jY.y);
for(var k=0;k<n.ZK.length;k++){var M={},N=n.ZK[k];if(!N.yM)break;var a=b.clone();a.translate(N.jY.x,N.jY.y);
if(w){var o=w.LE+a.LE*w.Ww;a.LE=(Math.round(o)-w.LE)/w.Ww}for(var U=N.start;U<N.end;U++)iy.apD(D,n.Sj[U],n,M,_,a,i)}b.translate(-n.jY.x,-n.jY.y)};
iy.apI="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
iy.apD=function(D,n,_,b,w,i,M){i.translate(n.jY.x,n.jY.y);for(var N=n.FA;N<=n.QH;N++){var a=_.vg[N],o=a.Kj.l,U=D[_.a3I+a.jp],V=U.f0._FillBackgroundFlag;
if(U.Lz=="\n"||M&&!V)continue;var c=U.f0.FontSize/U.R$.head.unitsPerEm,E=i.clone();E.translate(a.jY.x+a.Yb*c,a.jY.y-a.ts*c);
var A=new e3;A.scale(c,-c);if(U.uo==1&&iy.apI.indexOf(U.Lz)!=-1)A.concat(new e3(-1,0,0,1,o,0));if(U.f0.FauxItalic)A.concat(new e3(1,0,-Math.tan(.18),1,0,0));
A.translate(0,U.Pm);A.scale(U.scale.x,U.scale.y);if(U.f0.BaselineShift!=null)A.translate(0,-U.f0.BaselineShift);
if(a.Qv!=0){A.rotate(-a.Qv)}A.concat(E);var Q=U.f0._LineWidth?U.f0._LineWidth:1;if(M){w.C.push(iy.ft(U.f0._FillBackgroundColor));
var J=1.005*a.Kj.e/c,L=new gl(-a.Yb,-J*.27,1.03*a.Kj.l/c,J);if(U.f0.StrokeFlag)L.Iq(Q/c,Q/c);B.H.concat(w,B.H.X0(L),A);
w.C.push("X");continue}if(U.f0.FillFlag)w.C.push(iy.ft(U.f0.FillColor));if(U.f0.StrokeFlag)w.C.push("O-"+iy.ft(U.f0.StrokeColor)+"-"+Q);
if(a.path.C.length!=0&&U.Lz!="\t"){if(U.f0.FauxBold){var P=U.f0.FontSize/2048*27*U.scale.x;A.oE+=P;B.H.concat(w,a.path,A);
A.oE-=P+P;B.H.concat(w,a.path,A)}else B.H.concat(w,a.path,A)}if(U.Lz!="\n"){if(U.f0.Underline){if(b.UX==null)b.UX=U.R$.post.underlineThickness;
if(b.arC==null)b.arC=U.R$.post.underlinePosition;var u=0,m=b.arC-b.UX/2,x=a.oh*1.05,v=-b.UX;B.H.concat(w,{C:["M","L","L","L","Z"],t:[u,m,u+x,m,u+x,m+v,u,m+v]},A)}if(U.f0.Strikethrough){var W=U.R$["OS/2"].yStrikeoutSize,Z=U.R$["OS/2"].yStrikeoutPosition,u=0,m=Z+W/2,x=a.oh*1.05,v=-W;
B.H.concat(w,{C:["M","L","L","L","Z"],t:[u,m,u+x,m,u+x,m+v,u,m+v]},A)}}if(U.f0.FillFlag)w.C.push("X");
if(U.f0.StrokeFlag)w.C.push("OX")}i.translate(-n.jY.x,-n.jY.y)};iy.ft=function(D){var n=jg.kj(D),_=(Math.round(n.p)<<16)+(Math.round(n.z)<<8)+Math.round(n.S);
return"#"+B.xQ(_)};function h8(D,n){var _=jg.rz(D),b,w,i=jg.eq(D),M=D._LineOrientation==2?new e3:null,U,c;
if(D.Curve)w=h8.st(D.Curve);if(_!=0){b=new gl(i[0],i[1],i[2],i[3]);if(M){var N=b.l;b.l=b.e;b.e=N;M.translate(0,-i[2])}if(_==2){b.l=w[5]-w[4];
b.e=9999}}this.ew=[];this.OT=[];this.MJ=_;this.Lo=M;var a=this.afx=jg.kb(D),o=-1,V=-1;for(var k=0;k<a.length;
k++){var E=U,A=jg.ahc(D,k);if(A!=o){o=A;E=U=jg.a2w(D,A)}var Q=c,A=jg.a1E(D,k);if(A!=V){V=A;Q=c=jg.alf(D,A)}var L={Lz:a.charAt(k),f0:E,R$:null,NV:-1,ho:jg.ait(D,k),Pm:0,scale:new gZ(0,0),od:0,lineHeight:0,uo:0},P=D.ResourceDict.FontSet[E.Font].Name,u=L.R$=n.pc(P,a.charCodeAt(k));
L.scale.x=E.HorizontalScale==null?1:E.HorizontalScale;L.scale.y=E.VerticalScale==null?1:E.VerticalScale;
var m=u["OS/2"],x=u.hhea;if(E.FontCaps==1&&L.Lz!=L.Lz.toUpperCase()){var v=m.sxHeight?m.sxHeight/m.sTypoAscender:.76;
L.scale.x*=v;L.scale.y*=v}var W=1/u.head.unitsPerEm*E.FontSize;if(E.FontBaseline==1){var v=D.ResourceDict.SuperscriptSize;
L.scale.x*=v;L.scale.y*=v;L.Pm-=D.ResourceDict.SuperscriptPosition*E.FontSize}if(E.FontBaseline==2){var v=D.ResourceDict.SubscriptSize;
L.scale.x*=v;L.scale.y*=v;L.Pm+=D.ResourceDict.SubscriptPosition*E.FontSize}L.od=h8.od(u,P,E);var Z=Q.AutoLeading;
L.lineHeight=E.FontSize*(Z==null?1.2:Z);if(E.AutoLeading==!1)L.lineHeight=E.Leading;if(L.lineHeight==0)L.lineHeight=.01;
this.OT.push(L)}var r=this.ew,X=[0];for(var k=0;k<D.EngineDict.ParagraphRun.RunLengthArray.length;k++){var $=new h8.Bf(D,n,this.OT,k,b,X,_==1?w:null);
r.push($)}if(M){if(_==0)M.translate(0,r[0].Sj[0].od/2);M.rotate(-Math.PI/2)}if(_==2){var I=D.Curve.Points,T=w[0],e=w[1],F=w[2],y=w[3],h=w[4],Y=w[5];
for(var k=0;k<r.length;k++)for(var K=0;K<r[k].ZK.length;K++)if(!(k==0&&K==0))r[k].ZK[K].yM=!1;var $=r[0],z=$.ZK[0];
$.jY.bq(0,0);z.jY.bq(0,0);for(var K=z.start;K<z.end;K++){var f=$.Sj[K],s=f.jY.x;f.jY.x=0;for(var l=f.FA;
l<=f.QH;l++){var g=$.vg[l],H=g.Kj.l/2;g.jY.x+=s;var O=h8.akN(T,(h+g.jY.x+H)%y);g.jY.x=O[0]-H*O[2];g.jY.y=O[1]-H*O[3];
g.Qv=Math.atan2(O[3],O[2])}}}}h8.od=function(D,n,_){var b=D["OS/2"],w=D.hhea,i=0,i=0,M=[];M.push(b&&b.sxHeight&&n.toLowerCase().indexOf("capitals")!=-1?b.sxHeight:0);
M.push(b&&b.sCapHeight?b.sCapHeight:0);M.push(b&&b.sTypoAscender?b.sTypoAscender:0);M.push(w.ascender?w.ascender:0);
for(var N=0;N<M.length;N++)if(M[N]!=0){i=M[N];break}var a=1/D.head.unitsPerEm*_.FontSize;i=i*a;if(i<_.FontSize*.6)i=_.FontSize*.75;
return i};h8.prototype.a75=function(){return!this.ah8(0)};h8.prototype.abC=function(){return this.ah8(1)};
h8.prototype.ah8=function(D){var n=this.ew,_=!0,b=0;for(var k=0;k<n.length;k++){var w=n[k].ZK,i=w.length;
b+=i;for(var M=0;M<i;M++)_&=w[M].yM}return[_,b][D]};h8.st=function(D,n){if(n==null)n=.25;var _=D.Points,b=_.length,w=b>>>3,i=D.TextOnPathTRange,M=D.Reversed,V=0,c=0;
if(M){var N=_.slice(0);for(var k=0;k<b;k+=2){N[k]=_[b-2-k];N[k+1]=_[b-1-k]}_=N;i=[w-i[1]%w,w-i[0]%w]}var a=[],o=[0],U=[0];
for(var k=0;k<b;k+=8){var E=_[k+6]-_[k+0],A=_[k+7]-_[k+1],Q=Math.round(1/n*Math.sqrt(E*E+A*A));for(var J=0;
J<Q;J++){var L=J/Q,P=1-L,u=P*P*P*_[k+0]+3*P*P*L*_[k+2]+3*P*L*L*_[k+4]+L*L*L*_[k+6],m=P*P*P*_[k+1]+3*P*P*L*_[k+3]+3*P*L*L*_[k+5]+L*L*L*_[k+7];
a.push(u,m);if(k+J!=0){var E=u-V,A=m-c;U.push(U[U.length-1]+Math.sqrt(E*E+A*A));o.push((k>>>3)+L)}V=u;
c=m}}var n=U.length,x=U[n-1],v=h8.bW(i[0]%w,o),W=h8.bW(i[1]%w,o),Z=U[v%n],r=U[W%n];if(Z>=r)r+=x;return[a,o,U,x,Z,r]};
h8.bW=function(D,n){var k=0;while(n[k]<D)k++;return k};h8.akN=function(D,n){var _=0,k=0,b,w,i;while(_<n){b=D[k+2]-D[k];
w=D[k+3]-D[k+1];i=Math.sqrt(b*b+w*w);_+=i;k+=2}return[D[k],D[k+1],b/i,w/i]};h8.prototype.aiG=function(D){return this.OT[D]};
h8.prototype.aaK=function(D){for(var n=0;n<this.ew.length;n++){var _=this.ew[n];for(var b=0;b<_.ZK.length;
b++){var w=_.ZK[b],i=_.Sj[w.start].start,M=_.Sj[w.end-1].end;if(i<D&&D<M)return[i,M-1]}}return[0,1]};
h8.prototype.anO=function(D,n){var _=-1,b=this.ew;if(this.MJ==2){var w=1e9,i=0,M=b[0],N=M.ZK[0];for(var a=N.start;
a<N.end;a++){var o=M.Sj[a];for(var U=o.FA;U<=o.QH;U++){var V=M.vg[U],c=V.Kj.l,E=D.x-V.jY.x,A=D.y-V.jY.y,Q=E*E+A*A;
if(Q<w){w=Q;i=V.jp}}}if(i!=0&&this.afx.codePointAt(i-1)>65535)i--;return i}for(var J=0;J<b.length;J++){var M=b[J];
for(var L=0;L<M.ZK.length;L++){_++;var N=M.ZK[L],P=M.ZK[L+1];if(P==null&&J<b.length-1)P=b[J+1].ZK[0];
if(n!=null){if(_!=n)continue}else{if(P!=null&&M.jY.y+N.jY.y<D.y)continue}for(var a=N.start;a<N.end;a++){var o=M.Sj[a];
for(var U=o.FA;U<=o.QH;U++){var V=M.vg[U],c=V.Kj.l,u=M.jY.x+N.jY.x+o.jY.x,m=u+V.jY.x,x=u+(U<o.QH?M.vg[U+1].jY.x:V.jY.x+c);
if(D.x<=x||a+1==N.end&&U==o.QH){var v=M.a3I+V.jp,W=this.OT[v],Z=W.uo&1;if(W.Lz!="\n"&&(Z==0&&D.x>m+c/2||Z==1&&D.x<m+c/2))v+=this.afx.codePointAt(v)>65535?2:1;
return v}}}}}};h8.prototype.cT=function(D){var n={Kj:new gl,U9:0},_=0;for(var b=0;b<this.ew.length;b++){var w=this.ew[b];
for(var i=0;i<w.ZK.length;i++){var M=w.ZK[i];n.U9=_;_++;for(var N=M.start;N<M.end;N++){var a=w.Sj[N];
for(var o=a.start;o<a.end;o++){if(o==D){var U=this.OT[o],V=U.NV,c=w.vg[V].jp,E=1;while(w.vg[V]!=null&&w.vg[V].jp==c){var A=w.vg[V],Q=w.jY.x+M.jY.x+a.jY.x+A.jY.x,J=w.jY.y+M.jY.y+a.jY.y+A.jY.y;
n.Kj=n.Kj.Ik(new gl(Q,J-U.lineHeight,A.Kj.l,U.lineHeight));n.Qv=A.Qv;V+=E}return n}}}}}};h8.prototype.E8=function(){var D=Infinity,n=Infinity,_=-Infinity,b=-Infinity;
for(var k=0;k<this.ew.length;k++){var w=this.ew[k];for(var i=0;i<w.ZK.length;i++){var M=w.ZK[i];if(!M.yM)break;
for(var N=M.start;N<M.end;N++){var a=w.Sj[N];for(var o=a.FA;o<=a.QH;o++){var U=w.vg[o],V=U.Kj,c=w.jY.x+M.jY.x+a.jY.x+U.jY.x,E=w.jY.y+M.jY.y+a.jY.y+U.jY.y;
D=Math.min(D,c+V.x);n=Math.min(n,E+V.y);_=Math.max(_,c+V.x+V.l);b=Math.max(b,E+V.y+V.e)}}}}return new gl(D,n,_-D,b-n)};
h8.DW=function(D){return 19968<=D&&D<=40959||12288<=D&&D<=12543};h8.a0o=function(D,n,_,b,w,i,M){var N=[i],a=0;
for(var k=i;k<M;k++){if(_[k]==null)console.log(k,i,M,_);var o=_[k].Lz,U=o.charCodeAt(0);if(U==32||U==9){N.push(a,k,1,k+1);
a=0}else if(U==3851){N.push(a+1,k+1);a=0}else if(h8.DW(U)){N.push(a,k);a=1}else if(k!=i&&_[k].uo!=_[k-1].uo){N.push(a,k);
a=1}else a++}N.push(a);var V=[];for(var k=0;k<N.length;k+=2){var c=N[k],E=N[k+1];if(E==0)continue;V.push(new h8.ag_(D,n,_,b,w,c,E))}return V};
h8.auP=function(D,n,_,b,w,i,M){var N=[0,n?n.l:1e9],a=[];if(b){var o=D[i].od,U=w+(w==0?o:D[i].lineHeight),V=U-o*.9,c=B.H.D9(b[0],V),E=c.length,A=B.H.D9(b[0],U),Q=A.length;
if(E!=0&&Q!=0){var J=0,L=0;N=[];while(J<E&&L<Q){var P=Math.max(c[J],A[L]),u=c[J+1],m=A[L+1],x=Math.min(u,m);
if(P<x)N.push(P,x);if(u<m)J+=2;else L+=2}}}for(var v=0;v<N.length;v+=2){var W=N[v+1]-N[v],Z=0,r=i,X=n?W-_.StartIndent-_.EndIndent-(i==0?_.FirstLineIndent:0):Infinity;
while(i!=D.length){var $=D[i],I=Z==0||($.UZ||$.ph)||Z+$.Kj.l<X;if(!I)break;Z+=$.Kj.l;i++}a.push(i-r)}M[0]=a;
M[1]=N;M[2]=i};h8.aga=function(D,n){var _=D.length,b=new Uint32Array(_),w=new Uint8Array(_),i=0;for(var k=0;
k<_;k++){w[k]=0;var M=D.charCodeAt(k);b[k]=M;if(M>i)i=M}if(i>1424)w=h8.apu(b,n);return w};h8.a1o=function(D){return D=="\xDF"?D:D.toUpperCase()};
h8.Bf=function(D,n,_,b,w,i,M){this.Sj=[];this.ZK=[];this.jY=new gZ(0,0);this.vg=null;this.Sj=null;this.f0=jg.alf(D,b);
var N=this.f0,V=0,A="",m=0,x=1,g=0;if(b!=0){var a=N.SpaceBefore;if(a!=null)i[0]+=a}var o=D.EngineDict.ParagraphRun.RunLengthArray,U=o[b];
for(var k=0;k<b;k++)V+=o[k];var c=N._Direction?N._Direction:0;this.a3I=V;var E=jg.kb(D).slice(V,V+U);
for(var Q=0;Q<E.length;Q++){var L=E.charAt(Q);A+=_[V+Q].f0.FontCaps==0?L:h8.a1o(L)}E=A;var P=h8.aga(E,c),u=[],v=P[k]&1,W=_[V].R$;
_[V].uo=P[0];for(var k=1;k<E.length;k++){var L=_[V+k],Z=P[k];L.uo=Z;if(Z!=v||L.R$!=W){u.push(m,x);m=k;
x=1;v=Z;W=L.R$}else x++}u.push(m,x);var r=this.vg=[];for(var k=0;k<u.length;k+=2){var X=u[k],$=u[k+1],I=(_[V+X].uo&1)==0,T=E.slice(X,X+$),e=Typr.U.shapeHB(_[V+X].R$,T,I),F=[],Y=0;
for(var Q=0;Q<e.length;Q++){var y=e[Q];F.push({z:y.g,jp:y.cl,oh:y.ax,aK:y.ay,Yb:y.dx,ts:y.dy})}e=F;var h=e.slice(0);
if(!I)h.reverse();for(var Q=0;Q<T.length;Q++){while(Y+1<h.length&&h[Y+1].jp<=Q){Y++}while(Y>0&&h[Y-1].jp==Q)Y--;
_[V+X+Q].NV=r.length+(I?Y:h.length-Y-1)}for(var Q=0;Q<e.length;Q++){r.push(e[Q]);e[Q].jp+=X;var L=_[V+e[Q].jp];
if(L.ho!=-1){e[Q].z=L.ho;var K=L.R$.hmtx;if(K){var z=Object.keys(K)[0];e[Q].oh=K[z][L.ho]}}if(L.Lz=="\n")e[Q].oh=0;
if(L.Lz=="\t")e[Q].oh=L.R$.head.unitsPerEm*36/L.f0.FontSize}}var f=jg.BB(N),s=this.Sj=h8.a0o(D,n,_,V,r,V,V+U),l=this.ZK,H=-1,A=[null,null,0];
while(g<s.length){h8.auP(s,w,N,M,i[0],g,A);H++;var O={start:g,end:0,Kj:new gl,jY:new gZ(0,0),yM:!0},dT=0,aC=0;
l.push(O);O.end=A[2];var C=O.end==s.length;function ib(h,X,bD){var cy=bD-X>>>1;for(var k=0;k<cy;k++){var co=h[X+k];
h[X+k]=h[bD-1-k];h[bD-1-k]=co}}for(var hH=1;hH<5;hH++){var R=-1;for(var k=O.start;k<O.end;k++){var Z=_[s[k].start].uo;
if(R==-1&&Z>=hH)R=k;else if(R!=-1&&Z<hH){ib(s,R,k);R=-1}}var fR=O.end;if(c==0&&s[fR-1].UZ)fR--;if(R!=-1)ib(s,R,fR)}var j4=A[0],cP=A[1],R=g,a8=g;
for(var d0=0;d0<j4.length;d0++){var b9=cP[d0*2+1]-cP[d0*2],jG=0;R=a8;a8+=j4[d0];var jP=this.apg(R,a8,s,c,w!=null);
if(w){if(f==1||C&&f==4)jG=jP[1]+(b9-jP[0]);if(f==2||C&&f==5)jG=jP[1]+(b9-jP[0])/2;if(H==0)jG+=N.FirstLineIndent;
jG+=N.StartIndent}else{if(f==0)jG=N.StartIndent+N.FirstLineIndent;if(f==1)jG=-jP[0]-N.EndIndent;if(f==2)jG=-jP[0]/2}jG+=cP[d0*2];
if(w&&f>2&&(f==6||!C))this.aeO(R,a8,s,b9,c,jG);else{var aq=jG;for(var k=R;k<a8;k++){var gM=s[k],gv=gM.Kj.l;
gM.jY.x=aq;if(gM.Cb=="\t")gv=Math.ceil((aq+4)/36)*36-aq;aq+=gv}}}g=O.end;for(var k=O.start;k<O.end;k++){var c1=s[k].Kj.clone();
c1._X(s[k].jY);O.Kj=O.Kj.Ik(c1);dT=Math.max(dT,s[k].od);aC=Math.max(aC,s[k].lineHeight)}O.jY.y=H==0?0:l[H-1].jY.y+aC;
if(H==0){if(b==0&&w)i[0]+=dT;if(b!=0)i[0]+=aC;this.jY.y=i[0]}else i[0]+=aC;if(w)O.yM=this.jY.y+O.jY.y<w.y+w.e}var aj=N.SpaceAfter;
if(aj!=null)i[0]+=aj};h8.Bf.prototype.apg=function(D,n,_,b,w){var i=0,M=0;for(var k=D;k<n;k++)i+=_[k].Kj.l;
if(w){if(b==0)for(var k=n-1;k>=D;k--)if(_[k].UZ||_[k].ph)i-=_[k].Kj.l;else break;if(b==1)for(var k=D;
k<n;k++)if(_[k].UZ||_[k].ph){var N=_[k].Kj.l;i-=N;M-=N}else break}return[i,M]};h8.Bf.prototype.aeO=function(D,n,_,b,w,i){var M=0,N=0,a=0,o=0;
for(var k=D;k<n;k++)if(_[k].UZ)a++;else{M+=_[k].Kj.l;N++}if(w==0)for(var k=n-1;k>=D;k--)if(_[k].UZ||_[k].ph){if(_[k].UZ){a--}}else break;
if(w==1)for(var k=D;k<n;k++)if(_[k].UZ||_[k].ph){if(_[k].UZ){a--;o++}}else break;if(N<=1||a==0){if(N==1)_[D].jY.x=i;
return}var U=(b-M)/a,V=-o*U;for(var k=D;k<n;k++){if(_[k].UZ)this.vg[_[k].FA].Kj.l=_[k].Kj.l=U;_[k].jY.x=i+V;
V+=_[k].Kj.l}};h8.ag_=function(D,n,_,b,w,i,M){this.Cb="";for(var k=0;k<M;k++)this.Cb+=_[i+k].Lz;this.UZ=M==1&&(_[i].Lz==" "||_[i].Lz=="\t");
this.ph=M==1&&_[i].Lz=="\n";this.start=i;this.end=i+M;this.Kj=new gl;this.jY=new gZ(0,0);this.od=0;this.lineHeight=0;
var N=0,a=0;if(M==0){this.lineHeight=_[i].lineHeight;this.od=_[i].od;this.Kj=new gl(0,-_[i].lineHeight,0,_[i].lineHeight)}var o=_[i].NV,U=_[i+M-1].NV;
if(U<o){var V=o;o=U;U=V}while(U+1<w.length&&w[U].jp==w[U+1].jp){U++}this.FA=o;this.QH=U;for(var c=o;
c<=U;c++){var E=w[c],A=_[b+E.jp],Q=D._LineOrientation==2&&(A.f0.BaselineDirection!=2||h8.DW(A.Lz.charCodeAt(0))),L=Typr.U.glyphToPath(A.R$,E.z),v=0;
E.path={C:L.cmds,t:L.crds};var P=A.f0.FontSize,u=1/A.R$.head.unitsPerEm*P;if(!A.f0.AutoKerning)N+=A.f0.Kerning*2*u*A.scale.x;
E.jY=new gZ(N,0);E.Qv=0;if(Q&&E.path.t.length>0){E.Qv=-Math.PI/2;E.jY.x+=P*.83;E.jY.y=-P*.3+E.oh*u/2;
E.oh=P/u}var m=E.oh*u*A.scale.x;E.Kj=new gl(0,-A.lineHeight,m,A.lineHeight);var x=E.Kj.clone();x._X(E.jY);
if(A.f0.Tracking!=null)v=A.f0.Tracking*.001*P;if(A.f0.FauxBold==!0)v+=.027*P;N+=m+v;if(M==1&&A.Lz==" ")x.l+=2*v;
else if(M==1&&A.Lz!=null&&h8.DW(A.Lz.charCodeAt(0)))x.l+=v;this.Kj=this.Kj.Ik(x);this.od=Math.max(this.od,A.od);
this.lineHeight=Math.max(this.lineHeight,A.lineHeight)}};h8.y1=0;h8.a6R=function(D){if(h8.y1==2)return!0;
if(h8.y1==1)return!1;h8.y1=1;function n(){fetch("code/ext/fribidi.wasm").then(function(_){return _.arrayBuffer()}).then(function(_){return WebAssembly.instantiate(_)}).then(function(_){var b=_.instance.exports,w=b.memory,i=16,M=256,N=1,a=i|M,o=i|M|N;
h8.apu=function(V,c){var E=V.length,A=E*4+4+E*4+E*4+E;eF.pO(b,A+E+1e7);var Q=new Uint8Array(w.buffer),J=new Uint32Array(w.buffer),L=b.calloc(A,1),P=L+E*4,u=P+4,m=u+E*4,x=m+E*4;
J.set(V,L>>>2);J[P>>>2]=c==0?a:o;b.fribidi_get_bidi_types(L,E,u);b.fribidi_get_bracket_types(L,E,u,m);
b.fribidi_get_par_embedding_levels_ex(u,m,E,P,x);var v=Q.slice(x,x+E);b.free(L);return v};h8.y1=2;var U=new ho(S.E.W,!0);
U.data={d:S.J.VS,kr:"add",hy:da.tL,T$:null};D.c(U)})}Typr.U.initHB("code/ext/hb.wasm",n);return!1};function jg(){}jg.$H=function(D){return JSON.parse(JSON.stringify(D))};
jg.CD=function(D,n){for(var _ in n)D[_]=n[_]};jg.aH=function(D,n,_){var b=jg.ahY();if(_)jg.Ka(b,0,0,_);
var w={A:new e3(1,0,0,1,Math.round(D),Math.round(n)),uP:b};w.CZ=jg.a37();w.Kv=B.ie.U();w.dI=new gl;return w};
jg.aha=function(D){var n=["CharacterDirection",0];for(var k=0;k<n.length;k+=2){if(D[n[k]]!=null&&D[n[k]]!=n[k+1]){throw"e";
console.log(n[k],D[n[k]])}}if(D instanceof Array)for(var k=0;k<D.length;k++)jg.aha(D[k]);else if(D instanceof Object)for(var _ in D)jg.aha(D[_])};
jg.BB=function(D,n){if(n==null)n=D.Justification;var _=D._Direction?D._Direction:0;if(_==1){if(n==0||n==3)n++;
else if(n==1||n==4)n--}return n};jg.wV=function(D){if(D.add==null)return;var n=D.uP,_=n.Curve,b=D.add.vmsk,w=b.Y,i=B.H.a8(w,!0).t,M=D.A.clone();
M.ei();B.H.A(i,M,i);var N=i.slice(0,8);for(var a=8;a<i.length;a+=6)N.push(i[a-2],i[a-1],i[a],i[a+1],i[a+2],i[a+3],i[a+4],i[a+5]);
_.Points=N;_.TextOnPathTRange=b.OJ.slice(0);_.Reversed=b.t4;if(jg.rz(n)==1){var _=h8.st(n.Curve),o=B.H.t0(_[0]);
jg.vR(n,[0,0,o.l,o.e].map(Math.round));for(var k=0;k<N.length;k+=2){N[k]-=o.x;N[k+1]-=o.y}var U=new e3(1,0,0,1,o.x,o.y);
U.concat(D.A);D.A=U}};jg.St=function(D){if(D.add==null)return;var n=D.add.vmsk,_=D.uP.Curve,b=_.Points,w={C:["M"],t:[b[0],b[1]]};
for(var k=0;k<b.length;k+=8){w.C.push("C");w.t.push(b[k+2],b[k+3],b[k+4],b[k+5],b[k+6],b[k+7])}B.H.A(w.t,D.A,w.t);
var i=B.H.yL(w,!0);n.Y=i;n.t4=_.Reversed;n.OJ=_.TextOnPathTRange.slice(0);D.add.vogk=q.GL(i)};jg.kj=function(D){var n={p:0,z:0,S:0};
if(D){var _=D.Values;if(D.Type==1)n={p:_[1]*255,z:_[2]*255,S:_[3]*255};else if(D.Type==2){var b={classID:"CMYC",Cyn:{t:"doub",v:_[1]*100},Mgnt:{t:"doub",v:_[2]*100},Ylw:{t:"doub",v:_[3]*100},Blck:{t:"doub",v:_[4]*100}};
n=B.X.kj(b)}else console.log("Unknown color type")}return n};jg.arN=function(D){for(var k=0;k<D.length;
k++){var n=D[k].StyleSheet.StyleSheetData,_=n.FillColor;if(_&&_.Type==2){var b=jg.kj(_);_.Type=1;_.Values=[1,b.p/255,b.z/255,b.S/255]}}};
jg.YL=function(D,n){var _;if(jg.rz(D.uP)==1){var b=jg.eq(D.uP);_=new gl(0,0,b[2]-b[0],b[3]-b[1])}else{_=n.E8();
if(n.Lo){var w=n.Lo.clone(),i=B.H.X0(_);B.H.A(i.t,w,i.t);_=B.H.t0(i.t)}}return _};jg.H9=function(D){var n=D[0];
for(var k=0;k<D.length;k++)n=jg.aiK(n,D[k]);return n};jg.aiK=function(D,n){var _={};for(var b in D)if(JSON.stringify(D[b])==JSON.stringify(n[b]))_[b]=D[b];
return _};jg.jd=function(D,n){var _=D.SY,b=-1;for(var k=0;k<_.length;k++)if(_[k].Name==n)b=k;if(b==-1){b=_.length;
_.push({FontType:1,Name:n,Script:0,Synthetic:0})}D.OT.Font=b};jg.kb=function(D){return D.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
jg.Nc=function(D,n){D.EngineDict.Editor.Text=n.replace(/\n/g,"\r")};jg.rz=function(D){return D.Curve&&D.Curve.TextOnPathTRange[0]>=0?2:D.EngineDict.Rendered.Shapes.Children[0].ShapeType};
jg.EN=function(D,n){var _=D.EngineDict.Rendered.Shapes.Children[0];_.ShapeType=n;var b=_.Cookie.Photoshop;
b.ShapeType=n;b.Base.ShapeType=n;if(n==0){delete b.BoxBounds;b.PointBase=[0,0]}if(n==1){delete b.PointBase;
b.BoxBounds=[0,0,1,1]}};jg.eq=function(D){return D.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
jg.vR=function(D,n){D.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=n};jg.ait=function(D,n){var _=D.EngineDict.AlternateGlyphRun;
if(_==null)return-1;var b=jg.Lj(_.RunLengthArray,n)._O,w=_.RunArray[b].Glyph;return w==null?-1:w};jg.ab2=function(D,n,_){var b=D.EngineDict.AlternateGlyphRun;
if(b==null){b=D.EngineDict.AlternateGlyphRun=jg.agE();b.RunArray.push({});b.RunLengthArray.push(jg.kb(D).length)}var w=jg.Lj(b.RunLengthArray,n),i=w._O,M=n-w.eP,N=b.RunArray[i],a=JSON.stringify(N),o=b.RunLengthArray[i];
if(M!=0){b.RunArray.splice(i,0,JSON.parse(a));b.RunLengthArray.splice(i,0,M);b.RunLengthArray[i+1]-=M;
i++;o-=M;M=0}if(o!=1){b.RunArray.splice(i+1,0,JSON.parse(a));b.RunLengthArray.splice(i+1,0,o-1);b.RunLengthArray[i]=1;
o=1}N.Glyph=_};jg.ahc=function(D,n){var _=D.EngineDict.StyleRun.RunLengthArray;return jg.Lj(_,n)._O};
jg.a2w=function(D,n){var _=D.ResourceDict.StyleSheetSet[0].StyleSheetData,b={};for(var w in _)b[w]=_[w];
var i=D.EngineDict.StyleRun.RunArray[n].StyleSheet.StyleSheetData;jg.CD(b,i);return b};jg.a1E=function(D,n){var _=D.EngineDict.ParagraphRun.RunLengthArray;
return jg.Lj(_,n)._O};jg.alf=function(D,n){var _=D.ResourceDict.ParagraphSheetSet[0].Properties,b={};
for(var w in _)b[w]=_[w];var i=D.EngineDict.ParagraphRun.RunArray[n].ParagraphSheet.Properties;jg.CD(b,i);
var M=["StartIndent","EndIndent","FirstLineIndent"];for(var k=0;k<3;k++)if(b[M[k]]==null)b[M[k]]=0;return b};
jg.kW=function(D,n,_){if(_=="")return;var b=jg.kb(D);jg.Nc(D,b.substring(0,n)+_+b.substring(n,b.length));
var w=D.EngineDict.StyleRun,i=w.RunLengthArray,M=jg.Lj(i,n-1);i[M._O]+=_.length;var N=D.EngineDict.AlternateGlyphRun;
if(N){var i=N.RunLengthArray,M=jg.Lj(i,n-1);i[M._O]+=_.length}var a=D.EngineDict.ParagraphRun,i=a.RunLengthArray,o=jg.Lj(i,n),U=_.split("\n");
if(U.length==1){i[o._O]+=_.length;return}i.splice(o._O+1,0,i[o._O]-(n-o.eP));a.RunArray.splice(o._O+1,0,jg.$H(a.RunArray[o._O]));
i[o._O]-=i[o._O+1];i[o._O]+=U[0].length+1;for(var k=1;k<U.length-1;k++){a.RunArray.splice(o._O+k,0,jg.$H(a.RunArray[o._O+k-1]));
a.RunLengthArray.splice(o._O+k,0,U[k].length+1)}i[o._O+U.length-1]+=U[U.length-1].length};jg.HP=function(D,n,_){var b=jg.kb(D);
jg.Nc(D,b.substring(0,n)+b.substring(_,b.length));jg.dk(D.EngineDict.ParagraphRun,n,_,!0);jg.dk(D.EngineDict.StyleRun,n,_,!1);
var w=D.EngineDict.AlternateGlyphRun;if(w)jg.dk(w,n,_,!1)};jg.dk=function(D,n,_,b){var w=D.RunLengthArray,i=jg.Lj(w,n),M=jg.Lj(w,_),N=[];
for(var k=0;k<w.length;k++)for(var a=0;a<w[k];a++)N.push(k);N.splice(n,_-n);var o=[];for(var k=0;k<w.length;
k++)o.push(0);for(var k=0;k<N.length;k++)o[N[k]]++;for(var k=0;k<w.length;k++){if(o[k]==0){o.splice(k,1);
w.splice(k,1);D.RunArray.splice(k,1);k--}else if(o[k]<w[k])w[k]=o[k]}if(b&&i._O!=M._O&&i.eP!=n){w[i._O]+=w[i._O+1];
w.splice(i._O+1,1);D.RunArray.splice(i._O+1,1)}};jg.Ka=function(D,n,_,b){var w=D.EngineDict.Editor.Text.length;
if(_==w-2)_++;if(b.OT.Font!=null)D.ResourceDict.FontSet=b.SY.slice(0);if(n<=_)jg.anQ(D.EngineDict.StyleRun,b.OT,n,_,!0);
jg.anQ(D.EngineDict.ParagraphRun,b.ew,n,_,!1)};jg.np=function(D,n,_){var b={SY:D.ResourceDict.FontSet.slice(0),OT:[],ew:[]},w=D.EngineDict.StyleRun.RunLengthArray,i=jg.Lj(w,n)._O,M=jg.Lj(w,_)._O;
for(var k=i;k<=M;k++){var N=jg.$H(D.ResourceDict.StyleSheetSet[0].StyleSheetData),a=D.EngineDict.StyleRun.RunArray;
if(a.length==0)continue;var o=a[k].StyleSheet.StyleSheetData;jg.CD(N,o);b.OT.push(N)}var U=D.EngineDict.ParagraphRun.RunLengthArray,V=jg.Lj(U,n)._O,c=jg.Lj(U,_)._O;
for(var k=V;k<=c;k++){var E=D.EngineDict.ParagraphRun.RunArray;if(E.length==0)continue;b.ew.push(jg.$H(E[k].ParagraphSheet.Properties))}b.OT=b.OT.length==0?{}:jg.H9(b.OT);
b.ew=b.ew.length==0?{}:jg.H9(b.ew);return b};jg.anQ=function(D,n,_,b,w){var i=D.RunLengthArray;if(w){var M=jg.Lj(i,_);
if(M.eP!=_){var N=i[M._O];i.splice(M._O,0,_-M.eP);i[M._O+1]=N-i[M._O];D.RunArray.splice(M._O+1,0,jg.$H(D.RunArray[M._O]))}var a=jg.Lj(i,b);
if(a.eP+i[a._O]-1!=b){var N=i[a._O];i.splice(a._O,0,b-a.eP+1);i[a._O+1]=N-i[a._O];D.RunArray.splice(a._O+1,0,jg.$H(D.RunArray[a._O]))}}var M=jg.Lj(i,_),a=jg.Lj(i,b);
if(w)for(var k=M._O;k<=a._O;k++)jg.CD(D.RunArray[k].StyleSheet.StyleSheetData,n);else for(var k=M._O;
k<=a._O;k++)jg.CD(D.RunArray[k].ParagraphSheet.Properties,n)};jg.aj$=function(D,n,_){var b=D.EngineDict.StyleRun.RunLengthArray,w=[],i=0;
for(var k=0;k<b.length;k++){var M=b[k];for(var N=0;N<M;N++)if(n<=i+N&&i+N<_)w.push(k);i+=M}var a=w[0],o=[];
for(var k=0;k<w.length;k++){var U=w[k]-a;if(U==o.length)o.push(0);o[U]++}return o};jg.aiU=function(D){var n=D.EngineDict.StyleRun,_=n.RunArray,b=n.RunLengthArray;
for(var k=0;k<b.length-1;k++){var w=_[k].StyleSheet.StyleSheetData,i=_[k+1].StyleSheet.StyleSheetData;
if(JSON.stringify(w)==JSON.stringify(i)){_.splice(k+1,1);b[k]+=b[k+1];b.splice(k+1,1);k--}}};jg.Eq=function(D){var n=D.CZ.AntA.v.Annt;
n=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(n);if(n==-1)n=1;return n};jg.Hi=function(D,n){D.CZ.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][n]};
jg.Uj=function(D,n){var _,b;_=["FontSize","Leading","BaselineShift"];b=D.OT;for(var k=0;k<_.length;k++)if(b[_[k]]!=null)b[_[k]]*=n;
_=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];b=D.ew;for(var k=0;k<_.length;
k++)if(b[_[k]]!=null)b[_[k]]*=n};jg.aur=function(){return jg.np(jg.ake,0,0)};jg.a37=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
jg.Lj=function(D,n){var _=0,k=0;while(_+D[k]<=n){_+=D[k];k++}return{_O:k,eP:_}};jg.ahY=function(){var D=jg.$H(this.ake);
return D};jg.aq7={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
jg.a1g={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
jg.agE=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};jg.ake={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(jg.aq7))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(jg.aq7))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(jg.a1g))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var fT={};fT.a9M=function(D){var n=fT.a6H(D._0,D._1);fT.a8K(n,D._0);return n};fT.a1F=function(D,n,_){var b={};
b._98={_0:"i7"};b._0=fT.alK(D,n,_?_._0:null);b._1=fT.asb(D,n,b._0,_?_._1:null);return b};fT.alK=function(D,n,_){var b={};
b._1=fT.a2I(D,_?_._1:null);b._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};b._3=JSON.parse(JSON.stringify(fT.aqp));
b._4=JSON.parse(JSON.stringify(fT.aov));b._5=fT.ajC(D,b._1._0,_?_._5:null);b._6=fT.a26(D,_?_._6:null);
b._8=fT.a2L(D,n,_?_._8:null);b._9=fT.abf;return b};fT.a8K=function(D,n){fT.ai1(D,n._5,n._1._0)};fT.a2I=function(D,n){var _=[],b=[];
for(var k=0;k<D.length;k++){var w=D[k].ResourceDict.FontSet;for(var i=0;i<w.length;i++){var M=w[i];if(b.indexOf(M.Name)!=-1)continue;
_.push(M);b.push(M.Name)}}var N={_0:[]};for(var k=0;k<_.length;k++){var a=_[k],o={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+a.Name,_1:"i"+a.Script,_2:"i"+a.FontType}}};
if(a.Script==0)delete o._0._0._1;N._0.push(o)}return N};fT.ajC=function(D,n,_){var b={_0:[],_1:[]},w={_0:JSON.parse(JSON.stringify(fT.an0))};
fT.auu(w._0,D[0].ResourceDict.StyleSheetSet[0],n,D[0].ResourceDict.FontSet);b._0.push(w);b._1.push({_0:"i0"});
b._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});b._1.push({_0:"i1"});return b};fT.ai1=function(D,n,_){var b=n._0[0];
for(var k=0;k<D.length;k++)fT.abI(b._0,D[k].ResourceDict.StyleSheetSet[0],_,D[k].ResourceDict.FontSet)};
fT.a26=function(D,n){var _={_0:[],_1:[]},b={_0:JSON.parse(JSON.stringify(fT.iz))};fT.CX(b._0,D[0].ResourceDict.ParagraphSheetSet[0]);
_._0.push(b);_._1.push({_0:"i0"});b={_0:JSON.parse(JSON.stringify(fT.iz))};fT.CX(b._0,D[0].ResourceDict.ParagraphSheetSet[0]);
b._0._0="sBasic Paragraph";b._0._6="i0";_._0.push(b);_._1.push({_0:"i1"});return _};fT.a2L=function(D,n,_){var b={_0:[]};
for(var k=0;k<D.length;k++){var w=D[k].Curve,i={};b._0.push({_0:i});var M=jg.rz(D[k]);i._2={};i._2._0="i"+M;
if(D[k]._LineOrientation==2)i._2._1="i2";if(M==0){i._2._6=["f-1","f-1"];i._2._11={_4:"i-1",_7:!1}}else if(M==1&&w==null){var N=jg.eq(D[k]),a=N[2],o=N[3];
i._1={_0:fT.z2("f",[0,0,0,0,a,0,a,0,a,0,a,0,a,o,a,o,a,o,a,o,0,o,0,o,0,o,0,o,0,0,0,0])};i._2._6=["f-2","f-2"];
i._2._11={_4:"i-2",_7:!1}}else if(M==1){var N=jg.eq(D[k]),a=N[2],o=N[3];i._1={_0:fT.z2("f",w.Points)};
i._2._6=["f-3","f-3"];i._2._11={_4:"i-3",_7:!1}}else if(M==2){i._1={_0:fT.z2("f",w.Points)};i._2._6=fT.z2("f",w.TextOnPathTRange);
i._2._11={_0:w.Reversed,_3:"i0",_5:"f0",_7:!1}}}return b};fT.asb=function(D,n,_,b){var w={};w._0=JSON.parse(JSON.stringify(fT.aoL));
w._1=fT.a6p(D,n,_,b?b._1:null);w._2=JSON.parse(JSON.stringify(fT.an0._6));w._3=JSON.parse(JSON.stringify(fT.iz._5));
return w};fT.a6H=function(D,n){return fT.acq(D,n._1)};fT.a6p=function(D,n,_,b){var w=[],i=_._1._0;for(var k=0;
k<D.length;k++){var M=D[k],N={_0:{}};w.push(N);N._0._0="s"+M.EngineDict.Editor.Text;N._0._0=N._0._0;
var a=N._0._5={_0:[]},o=M.EngineDict.ParagraphRun;for(var U=0;U<o.RunArray.length;U++){var V={_0:{}};
a._0.push(V);V._0._0={_0:"s",_5:{},_6:"i1"};fT.CX(V._0._0,o.RunArray[U].ParagraphSheet);V._1="i"+o.RunLengthArray[U]}var c=N._0._6={_0:[]};
o=M.EngineDict.StyleRun;for(var U=0;U<o.RunArray.length;U++){var E={_0:{}};c._0.push(E);E._0._0={_0:"s",_5:"i1",_6:{}};
fT.auu(E._0._0,o.RunArray[U].StyleSheet,i,M.ResourceDict.FontSet);E._1="i"+o.RunLengthArray[U]}o=M.EngineDict.AlternateGlyphRun;
if(o){var A=N._0._9={_0:[]};for(var U=0;U<o.RunArray.length;U++){var Q={_0:{}};A._0.push(Q);var L=o.RunArray[U];
if(L.Glyph!=null){Q._0._0={_0:"i"+L.Glyph,_1:"e"}}Q._1="i"+o.RunLengthArray[U]}}N._0._10={_0:"i4",_2:!0};
N._1=fT.view.aow(M,null,k,null)}return w};fT.acq=function(D,n){var _=[],b=D._1._0;for(var k=0;k<n.length;
k++){var w=jg.ahY();_.push(w);var i=n[k];w.EngineDict.Editor.Text=i._0._0.slice(1);var M=w.EngineDict.ParagraphRun.RunArray[0],N=w.EngineDict.ParagraphRun,a=i._0._5;
if(a)for(var o=0;o<a._0.length;o++){var U=a._0[o];N.RunLengthArray[o]=parseInt(U._1.slice(1));N.RunArray[o]=JSON.parse(JSON.stringify(M));
fT.am0(U._0._0,N.RunArray[o].ParagraphSheet)}else{N.RunLengthArray[0]=jg.kb(w).length}var V=i._0._6;
N=w.EngineDict.StyleRun;if(V)for(var o=0;o<V._0.length;o++){var c=V._0[o];N.RunLengthArray[o]=parseInt(c._1.slice(1));
N.RunArray[o]={StyleSheet:{StyleSheetData:{}}};fT.abI(c._0._0,N.RunArray[o].StyleSheet,b,w.ResourceDict.FontSet)}else{N.RunLengthArray[0]=jg.kb(w).length;
N.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return _};fT.auu=function(D,n,_,b,w){D._0="s"+(n.Name?n.Name:"");
var i=D._6,M=w?w._6:null,N=n.StyleSheetData;if(N.Font==null)return;var a=b[N.Font].Name,o=-1;for(var k=0;
k<_.length;k++)if("s"+a==_[k]._0._0._0){o=k;break}i._0="i"+o;if(N.FontSize!=null)i._1="f"+N.FontSize;
if(N.FauxBold!=null)i._2=N.FauxBold;if(N.FauxItalic!=null)i._3=N.FauxItalic;if(N.AutoLeading!=null)i._4=N.AutoLeading;
if(N.Leading!=null)i._5="f"+N.Leading;if(N.HorizontalScale!=null)i._6="f"+N.HorizontalScale;if(N.VerticalScale!=null)i._7="f"+N.VerticalScale;
if(N.Tracking!=null)i._8="i"+N.Tracking;if(N.BaselineShift!=null)i._9="f"+N.BaselineShift;if(N.AutoKerning!=null)i._11="i"+(N.AutoKerning?1:0);
if(N.FontCaps!=null)i._12="i"+N.FontCaps;if(N.FontBaseline!=null)i._13="i"+N.FontBaseline;if(N.Strikethrough!=null)i._15="i"+(N.Strikethrough?1:0);
if(N.Underline!=null)i._16="i"+(N.Underline?2:0);if(N.Ligatures!=null)i._18=N.Ligatures;if(N.DLigatures!=null)i._19=N.DLigatures;
if(N.BaselineDirection!=null)i._35="i"+N.BaselineDirection;if(N.Language!=null)i._38="i"+N.Language;
if(N.FillColor!=null)i._53=fT.ft(N.FillColor);if(N.StrokeColor!=null)i._54=fT.ft(N.StrokeColor);if(N.FillFlag!=null)i._56=N.FillFlag;
if(N.StrokeFlag!=null)i._57=N.StrokeFlag;if(N._LineWidth!=null)i._63="f"+N._LineWidth;if(N._FillBackgroundColor!=null)i._79=fT.ft(N._FillBackgroundColor);
if(N._FillBackgroundFlag!=null)i._80=N._FillBackgroundFlag};fT.ft=function(D){return{_99:"/SimplePaint",_0:{_0:"i1",_1:fT.z2("f",D.Values)}}};
fT.abI=function(D,n,_,b){var w=D._6;if(w==null)return;var i=n.StyleSheetData;if(w._0){var M=parseInt(w._0.slice(1)),N=_[M]._0._0._0.slice(1);
jg.jd({OT:i,SY:b},N)}if(w._1!=null)i.FontSize=parseFloat(w._1.slice(1));if(w._2!=null)i.FauxBold=w._2;
if(w._3!=null)i.FauxItalic=w._3;if(w._4!=null)i.AutoLeading=w._4;if(w._5!=null)i.Leading=parseFloat(w._5.slice(1));
if(w._6!=null)i.HorizontalScale=parseFloat(w._6.slice(1));if(w._7!=null)i.VerticalScale=parseFloat(w._7.slice(1));
if(w._8!=null)i.Tracking=parseFloat(w._8.slice(1));if(w._9!=null)i.BaselineShift=parseFloat(w._9.slice(1));
if(w._11!=null)i.AutoKerning=parseFloat(w._11.slice(1))==1;if(w._12!=null)i.FontCaps=parseFloat(w._12.slice(1));
if(w._13!=null)i.FontBaseline=parseFloat(w._13.slice(1));if(w._15!=null)i.Strikethrough=parseFloat(w._15.slice(1))==1;
if(w._16!=null)i.Underline=parseFloat(w._16.slice(1))==1;if(w._18!=null)i.Ligatures=w._18;if(w._19!=null)i.DLigatures=w._19;
if(w._35!=null)i.BaselineDirection=parseFloat(w._35.slice(1));if(w._38!=null)i.Language=parseFloat(w._38.slice(1));
if(w._53!=null)i.FillColor=fT.$E(w._53);if(w._54!=null)i.StrokeColor=fT.$E(w._54);if(w._56!=null)i.FillFlag=w._56;
if(w._57!=null)i.StrokeFlag=w._57;if(w._63!=null)i._LineWidth=parseFloat(w._63.slice(1));if(w._79!=null)i._FillBackgroundColor=fT.$E(w._79);
if(w._80!=null)i._FillBackgroundFlag=w._80};fT.$E=function(D){var n=D._0._0,_=D._0._1,b=[1,0,0,0],w=[];
for(var k=0;k<_.length;k++)w[k]=parseFloat(_[k].slice(1));if(n=="i0")b[1]=b[2]=b[3]=w[1];else if(n=="i1")b=w;
else if(n=="i2")b=[1].concat(UDOC.C.cmykToRgb(w.slice(1)));else console.log("unknown color type",n,w);
return{Type:1,Values:b}};fT.CX=function(D,n){D._0="s"+(n.Name?n.Name:"");var _=D._5,b=n.Properties;if(b.Justification!=null)_._0="i"+b.Justification;
if(b.FirstLineIndent!=null)_._1="f"+b.FirstLineIndent;if(b.StartIndent!=null)_._2="f"+b.StartIndent;
if(b.EndtIndent!=null)_._3="f"+b.EndtIndent;if(b.SpaceBefore!=null)_._4="f"+b.SpaceBefore;if(b.SpaceAfter!=null)_._5="f"+b.SpaceAfter;
if(b.AutoLeading!=null)_._7="f"+b.AutoLeading;if(b.AutoHyphenate!=null)_._9=b.AutoHyphenate;if(b._Direction!=null)_._33="i"+b._Direction;
if(b._ComposerEngine!=null)_._35="i"+b._ComposerEngine};fT.am0=function(D,n){var _=D._5;if(_==null)return;
var b=n.Properties;if(_._0)b.Justification=parseInt(_._0.slice(1))};fT.z2=function(D,n){var _=[];for(var k=0;
k<n.length;k++)_.push(D+n[k]);return _};fT.aqp={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
fT.aov={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
fT.an0={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
fT.iz={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
fT.abf={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
fT.aoL={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var bn={};bn.a7Y=function(D){return bn.sW(D,bn.zU,0)};bn.ak7=function(D){return bn.p6(D,bn.zU)};bn.sW=function(D,n,_){var b;
if(typeof D=="string")return D;if(D instanceof Array){b=[];for(var k=0;k<D.length;k++)b[k]=bn.sW(D[k],n,_+1)}else{b={};
var w={};for(var i in n){var M=n[i],N="_"+M[0];if(D[N]!=null){b[i]=M[1]?bn.sW(D[N],M[1],_+1):D[N];w[N]=!0}}for(var i in D){if(w[i]==null){if(i.length>3)continue;
console.log(n,w);console.log(i,D);throw"e"}}}return b};bn.p6=function(D,n){var _;if(typeof D=="string")return D;
else if(D instanceof Array){_=[];for(var k=0;k<D.length;k++)_[k]=bn.p6(D[k],n)}else{_={};var b={};for(var w in n){var i=n[w],M="_"+i[0];
if(D[w]!=null){_[M]=i[1]?bn.p6(D[w],i[1]):D[w];b[w]=!0}}for(var w in D){if(b[w]==null){console.log(n,b);
console.log(w,D);throw"e"}}}return _};bn.HS={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
bn.t7={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,bn.HS],_StrokeColor:[54,bn.HS],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,bn.HS],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]};
bn.a5c={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,bn.t7],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
bn.a5g={_Name:[0],_Features:[5,bn.a5c],_Parent:[6],_97:[97]};bn.apz={_Name:[0],_Parent:[5],_Features:[6,bn.t7],_97:[97]};
bn.zU={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,bn.apz]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,bn.a5g]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,bn.a5g]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,bn.apz]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,bn.t7],_OriginalNormalParagraphFeatures:[3,bn.a5c]}]};
fT.view={};fT.view.aow=function(D,n,_,b){var w={},i=jg.rz(D);w._0=[{_0:"i"+_}];return w};function CSS(){}CSS.a1z=function(D,n){var _=D.add,b=_.vmsk,w=_.vstk,i=_.lmfx,M=_.TySh,N=[],a=CSS.anL(i,_);
if(D.x6()&&b){var o=B.$.DJ(b.Y);if(!o.hk()){N.push("width: "+Math.round(o.l)+"px");N.push("height: "+Math.round(o.e)+"px")}var U=B.$.a6X(b.Y);
if(U>0)N.push("border-radius: "+Math.round(U)+"px")}else if(M){var V=M.uP;if(jg.rz(V)==1){var o=jg.eq(V);
N.push("width: "+Math.round(o[2])+"px");N.push("height: "+Math.round(o[3])+"px")}CSS.a7_(N,jg.np(V,0,0),M.A,!1,!1,a[0])}var c=[],E=i?i.dropShadowMulti.v:0;
for(var k=0;k<E.length;k++){var A=E[k].v;if(A.enab.v){var Q=A.Dstn.v.val,L=A.lagl.v.val*Math.PI/180;
if(A.uglg&&A.uglg.v)L=n.bH()*Math.PI/180;var P=Q*Math.cos(L),u=Q*Math.sin(L);c.push("drop-shadow("+(P==0?"0 ":CSS.ll(-P)+"px ")+(u==0?"0 ":CSS.ll(u)+"px ")+A.blur.v.val/2+"px "+CSS.DN(A.Clr.v,A.Opct.v.val/100)+")")}}if(c.length!=0)N.push("filter: "+c.join(" "));
if(M==null)CSS.alk(a,N);if(w==null||!w.strokeEnabled.v)w=aL.g$(i);if(w&&w.strokeEnabled.v){var m=w.strokeStyleContent.v,x=m.classID,v=ci.yg.Xr.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),W=ci.yg.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),Z=w.strokeStyleOpacity.v.val/100,r=w.strokeStyleLineWidth.v.val,X="";
if(x=="solidColorLayer")X=CSS.DN(m.Clr.v,Z);N.push("border: "+r+"px solid "+X)}return N};CSS.anL=function(D,n){var _=aL.Ld(D,n),b=_[0],w=_[1],i,M;
if(b){i=CSS.DN(b.Clr.v,n.iOpa!=null?n.iOpa/255:1)}else if(w){M=CSS.kq(w)}return[i,M]};CSS.alk=function(D,n){if(D[0])n.push("background-color: "+D[0]);
if(D[1])n.push("background-image: "+D[1])};CSS.M6={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ll=function(cQ){return""+parseFloat(cQ.toFixed(3))};CSS.RC=function(D){if(D==null)return{p:0,z:0,S:0};
var n=D.indexOf("(");if(n!=-1){var _=D.slice(n+1,D.length-1).split(",");for(var k=0;k<_.length;k++){var b=_[k].trim();
_[k]=parseFloat(b)*(b.endsWith("%")?255/100:1)}return{p:_[0],z:_[1],S:_[2]}}if(D.charAt(0)!="#"){var w=CSS.M6;
if(w[D])D=w[D];else console.log("unknown color "+D)}D=D.slice(1);if(D.length==3)D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2];
D=parseInt(D,16);return{p:D>>16&255,z:D>>8&255,S:D&255}};CSS.DN=function(D,n){return CSS.yY(B.X.kj(D),n)};
CSS.yY=function(D,n){if(n==null)n=1;var _=Math.round(D.p),b=Math.round(D.z),w=Math.round(D.S),i=_<<16|b<<8|w;
return n==1?"#"+B.xQ(i):"rgba("+_+","+b+","+w+","+n+")"};CSS.kq=function(D){var n=D.Grad.v;if(n.Clrs==null)return"";
var _=n.Clrs.v.slice(0),b=n.Trns.v.slice(0),w=D.Ofst.v,i=D.Type.v.GrdT=="Rdl"?1:0,M=(i==1?"radial":"linear")+"-gradient",N=i==0?Math.round(-D.Angl.v.val+90)+"deg":"circle at center",a=D.Rvrs.v;
if(a){_.reverse();b.reverse()}for(var k=0;k<_.length;k++){var o=_[k].v,U=k<b.length?b[k].v.Opct.v.val/100:1,V=o.Lctn.v/4096;
if(a)V=1-V;N+=", "+CSS.DN(o.Clr.v,U)+" "+Math.round(V*100)+"%"}return M+"("+N+")"};CSS.a7_=function(D,n,_,b,w,i){var M=n.OT,N=b?1:G.Q.gM(_),a=Math.round(M.FontSize*N);
D.push("font-size: "+a+"px");var o=M.Tracking;if(!b&&o!=null&&o!=0)D.push("letter-spacing: "+Math.round(o*a/1e3)+"px");
if(!M.AutoLeading)D.push("line-height: "+Math.round(M.Leading*N)+"px");if(M.Strikethrough)D.push("text-decoration: line-through");
if(M.Underline)D.push("text-decoration: underline");var U=jg.kj(M.FillColor);U=[U.p,U.z,U.S].map(Math.round);
D.push((b?"fill: ":"color: ")+(i?i:"#"+B.xQ(U[0]<<16|U[1]<<8|U[2])));var V=n.SY[M.Font].Name;if(V){var c=hI.DH.pc(V),E="",A=null,Q=null;
if(c!=null&&V!=hI.gZ(c))c=null;if(w&&c)E+="\""+V+"\", ";var J=V.toLowerCase();if(c){A=hI.zn(c)[0];if(c["OS/2"])Q=c["OS/2"].usWeightClass}else{A=CSS.a7F(V);
if(J.indexOf("light")!=-1)Q=300;else if(J.indexOf("medium")!=-1)Q=500;else if(J.indexOf("black")!=-1||J.indexOf("extrabold")!=-1)Q=800;
else if(J.indexOf("bold")!=-1)Q="bold"}if(A!=null)E+="\""+A+"\"";if(Q!=null)D.push("font-weight: "+Q);
if(J.indexOf("italic")!=-1||J.indexOf("oblique")!=-1)D.push("font-style: italic");if(E)D.push("font-family: "+E)}var L=n.ew.Justification;
if(L!=null&&L!=0)if(b){}else D.push("text-align: "+["left","right","center"][L%3])};CSS.a7F=function(D){D=D.split("-")[0];
while(D.endsWith("MT")||D.endsWith("PS"))D=D.slice(0,D.length-2);var n=!0;for(var k=0;k<D.length;k++){var _=D.charAt(k);
if(!n&&_.toLowerCase()!=_){D=D.slice(0,k)+" "+D.slice(k);k++;n=!0}else n=!1}return D};function jR(){}jR.LK={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
jR.EK=function(D,n){var _=Date.now(),b;try{b=acorn.parse(D)}catch(io){console.log(io);return}var w=JSON.parse(JSON.stringify(jR.HF.pb));
w.__return=!1;w.__continue=!1;w.__break=!1;w.__throw=!1;w.__fs={};w.__window={};jR.eval(b,n,w);var i=w.__fs;
if(Object.keys(i).length!=0){var M=UZIP.encode(i);bh.save(M,"output.zip")}};jR.eval=function(D,n,_){var b=D.type;
if(!1){}else if(b=="Program"||b=="BlockStatement"){var w=D.body;for(var k=0;k<w.length;k++){var i=w[k].type;
if(i=="FunctionDeclaration")_[w[k].id.name]=w[k]}for(var k=0;k<w.length;k++){var i=w[k].type,M=jR.eval(w[k],n,_);
if(_.__continue){_.__continue=!1;return M}if(_.__return||_.__break||_.__throw)return M}}else if(b=="ReturnStatement"){_.__return=!0;
return D.argument?jR.$x(D.argument,n,_):null}else if(b=="BreakStatement"){_.__break=!0}else if(b=="ContinueStatement"){_.__continue=!0}else if(b=="VariableDeclaration"){var N=D.declarations;
for(var k=0;k<N.length;k++)jR.eval(N[k],n,_)}else if(b=="VariableDeclarator"){_[D.id.name]=D.init?jR.$x(D.init,n,_):null}else if(b=="FunctionDeclaration"){_[D.id.name]=D}else if(b=="MemberExpression"){var a=jR.$x(D.object,n,_),o=D.computed?jR.$x(D.property,n,_):jR.eval(D.property,n,_),M;
if(a.qJ!=null)M=jR.HF.GI(a,o,n,_);else if(a==window&&jR.LK[o]){}else M=a[o];return M}else if(b=="ArrayExpression"){var U=[],V=D.elements;
for(var k=0;k<V.length;k++)U.push(jR.$x(V[k],n,_));return U}else if(b=="ObjectExpression"){var U={},V=D.properties;
for(var k=0;k<V.length;k++){var c=V[k],E=V[k].key.name?V[k].key.name:V[k].key.value;U[E]=jR.$x(V[k].value,n,_)}return U}else if(b=="ExpressionStatement"){return jR.eval(D.expression,n,_)}else if(b=="NewExpression"){var A=D.arguments,Q=D.callee,J=Q.type,L=[],U=null;
for(var k=0;k<A.length;k++)L.push(jR.$x(A[k],n,_));if(J=="Identifier")U=jR.HF.a9A(Q.name,L,n,_);else throw"e";
if(U==null)throw"new "+Q.name;return U}else if(b=="CallExpression"){var A=D.arguments,Q=D.callee,J=Q.type,P={};
for(var u in _)P[u]=_[u];var L=[];for(var k=0;k<A.length;k++)L.push(jR.$x(A[k],n,_));if(J=="Identifier"){var m=Q.name,v=_[m];
if(v){if(v.params){var W=v.params;for(var k=0;k<W.length;k++)P[W[k].name]=L[k];return jR.eval(v.body,n,P)}else{return v.apply(null,L)}}else if(jR.HF.ak8.indexOf(m)!=-1)return jR.HF.jW({qJ:"Application"},m,L,n,_);
else if(window[m]==null)console.log("Unknown function "+m);else if(jR.LK[m])alert(m+"() not available");
else{var Z=window[m].apply(window,L);return Z}}else if(J=="MemberExpression"){var a=jR.$x(Q.object,n,_),o=Q.computed?jR.$x(Q.property,n,_):jR.eval(Q.property,n,_);
if(a==window&&jR.LK[o])return;if(a.qJ!=null)return jR.HF.jW(a,o,L,n,_);else return a[o].apply(a,L)}else if(J=="FunctionExpression"){return jR.eval(Q.body,n,_)}else console.log(D)}else if(b=="AssignmentExpression"){var r=D.operator,X=D.left,$=X.type,I=jR.$x(X,n,_),T=jR.$x(D.right,n,_),M=null;
if(!1){}else if(r=="=")M=T;else if(r=="+=")M=I+T;else if(r=="-=")M=I-T;else if(r=="*=")M=I*T;else if(r=="/=")M=I/T;
else if(r=="%=")M=I%T;else if(r=="&=")M=I&T;else if(r=="|=")M=I|T;else if(r=="&&=")M=I&&T;else if(r=="||=")M=I||T;
else console.log(D);if($=="Identifier"){var e=X.name;if(_.hasOwnProperty(e))_[e]=M;else _.__window[e]=M}else if($=="MemberExpression"){var F=jR.eval(X.property,n,_),y=jR.$x(X.object,n,_);
if(y.qJ!=null)jR.HF.a7E(y,F,M,n,_);else y[F]=M}else console.log(D)}else if(b=="Identifier")return D.name;
else if(b=="Literal")return D.value;else if(b=="UpdateExpression"){var r=D.operator,h=D.argument.name,U=jR.$x(D.argument,n,_),Y=_;
if(Y[h]==null)Y=_.__window;if(!1){}else if(r=="++"){Y[h]++;return D.prefix?Y[h]:Y[h]-1}else if(r=="--"){Y[h]--;
return D.prefix?Y[h]:Y[h]+1}else console.log(D)}else if(b=="UnaryExpression"){var r=D.operator,K=jR.$x(D.argument,n,_);
if(K.qJ=="UnitValue"){if(r=="-")return-K.k;else return jR.a4e(K.k,r)}else return jR.a4e(K,r)}else if(b=="BinaryExpression"||b=="LogicalExpression"){var r=D.operator,X=jR.$x(D.left,n,_),K=jR.$x(D.right,n,_);
if(X==null||K==null)return jR.tT(X,K,r);else if(X.qJ=="UnitValue"&&K.qJ=="UnitValue")return jR.tT(X.k,K.k,r);
else if(X.qJ=="UnitValue")return jR.tT(X.k,K,r);else if(K.qJ=="UnitValue"){if(r=="-")return-(X-K.k);
else return jR.tT(X,K.k,r)}else return jR.tT(X,K,r)}else if(b=="IfStatement"||b=="ConditionalExpression"){var z=jR.$x(D.test,n,_);
if(z)return jR.eval(D.consequent,n,_);else if(D.alternate)return jR.eval(D.alternate,n,_)}else if(b=="ForInStatement"){jR.eval(D.left,n,_);
var f=D.left.declarations[0].id.name,s=jR.$x(D.right,n,_);for(var u in s){_[f]=u;var l=jR.eval(D.body,n,_);
if(_.__break)break;if(_.__return)return l}_.__break=!1}else if(b=="ForStatement"){jR.eval(D.init,n,_);
while(jR.eval(D.test,n,_)){var l=jR.eval(D.body,n,_);if(_.__break)break;if(_.__return)return l;jR.eval(D.update,n,_)}_.__break=!1}else if(b=="DoWhileStatement"){do{var l=jR.eval(D.body,n,_);
if(_.__break)break;if(_.__return)return l}while(jR.eval(D.test,n,_));_.__break=!1}else if(b=="TryStatement"){jR.eval(D.block,n,_);
if(_.__throw){var g=D.handler;_[g.param.name]=_.__throw;_.__throw=!1;jR.eval(g.body,n,_);delete _[g.param.name]}}else if(b=="EmptyStatement"){}else console.log(D)};
jR.tT=function(D,n,_){if(_=="+")return D+n;else if(_=="-")return D-n;else if(_=="*")return D*n;else if(_=="/")return D/n;
else if(_=="%")return D%n;else if(_=="^")return D^n;else if(_=="&")return D&n;else if(_=="&&")return D&&n;
else if(_=="|")return D|n;else if(_=="||")return D||n;else if(_=="<")return D<n;else if(_==">")return D>n;
else if(_=="=="){if(D.qJ&&n.qJ)return D.k==n.k;return D==n}else if(_=="===")return D===n;else if(_=="<=")return D<=n;
else if(_==">=")return D>=n;else if(_=="!=")return D!=n;else if(_=="!==")return D!==n;else if(_=="<<")return D<<n;
else if(_==">>")return D>>n;else console.log(_)};jR.a4e=function(D,n){if(n=="-")return-D;else if(n=="!")return!D;
else if(n=="~")return~D;else if(n=="+")return D;else console.log(obj)};jR.$x=function(D,n,_){var b=D.type;
if(b=="Identifier")return jR.a9e(D.name,n,_);else return jR.eval(D,n,_)};jR.a9e=function(D,n,_){if(D=="undefined")return undefined;
else if(_.hasOwnProperty(D))return _[D];else if(D=="app")return{qJ:"Application"};else if(D=="$")return{qJ:"$"};
else if(jR.HF.ah2.indexOf(D)!=-1)return jR.HF.GI({qJ:"Application"},D,n,_);else if(_.__window.hasOwnProperty(D))return _.__window[D];
else if(window[D]&&!jR.LK[D])return window[D];else{_[D]=null;return null}};jR.HF={};jR.HF.a9A=function(D,n,_,b){var w;
if(D=="SolidColor")w={qJ:D,k:[1,0,0,0]};if(D=="RGBColor")w={qJ:D,k:[1,0,0,0]};if(D=="Window")w={qJ:D,k:new hR(n[0],n[1],n[2])};
if(D=="ExportOptionsSaveForWeb")w={qJ:D,k:{tu:"png",V_:100}};if(D=="JPEGSaveOptions")w={qJ:D,k:{tu:"jpg",V_:100}};
if(D=="PDFSaveOptions")w={qJ:D,k:{tu:"pdf",agw:""}};if(D=="File")w={qJ:D,k:n[0]};if(D=="ActionReference")w={qJ:D,k:[]};
if(D=="ActionDescriptor")w={qJ:D,k:{}};if(D=="ActionList")w={qJ:D,k:[]};if(D=="UnitValue")w={qJ:D,k:n.length==0?0:parseFloat(n[0])};
return w};jR.HF.ah2="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
jR.HF.ak8=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];jR.HF.GI=function(D,n,_,b){var w=_.qe,i=_.mH();
if(!1){}else if(n=="typename"){if(D.qJ=="Layer")return D.k.nR()?"LayerSet":"ArtLayer";else return D.qJ}else if(["Document","Layer"].indexOf(D.qJ)!=-1&&["layers","artLayers","layerSets"].indexOf(n)!=-1){var M=i.root,N={qJ:"Layers",eZ:n,k:[]};
if(D.qJ=="Layer")M=i.root.D5(i.b.indexOf(D.k));if(M.children==null)return null;for(var k=0;k<M.children.length;
k++){var a=M.children[k].i,o=a.nR();if(o&&n=="artLayers"||!o&&n=="layerSets")continue;N.k.push({qJ:"Layer",k:a})}N.k.reverse();
return N}else if(D.qJ=="Documents"||D.qJ=="Layers"||D.qJ=="HistoryStates"||D.qJ=="LayerComps"){if(!1){}else if(n=="length")return D.k.length;
else if(Number.isInteger(n))return D.k[n];else console.log(D.qJ+": unknown property ",n)}else if(D.qJ=="Application"){if(!1){}else if(n=="activeDocument")return{qJ:"Document",k:_.mH()};
else if(n=="documents"){var N={qJ:"Documents",k:[]};for(var k=0;k<_.RA.length;k++)N.k.push({qJ:"Document",k:_.RA[k]});
return N}else if(n=="fonts")return{qJ:"TextFonts"};else if(n=="preferences")return{qJ:"Preferences"};
else if(n=="displayDialogs")return{qJ:"DialogModes"};else if(n=="foregroundColor"||n=="backgroundColor"){var U=n[0]=="f"?w.EH:w.Cp;
return{qJ:"SolidColor",k:[1,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}}else if(n=="UI")return{qJ:"UI"};
else console.log(D,n)}else if(D.qJ=="Document"){var i=D.k;if(!1){}else if(n=="activeLayer"){var a=i.b[i.w[0]];
return{qJ:"Layer",k:a}}else if(n=="resolution")return i.Cn;else if(n=="width")return i.l;else if(n=="height")return i.e;
else if(n=="name")return i.name;else if(n=="saved")return!i.pI();else if(n=="selection")return{qJ:"Selection"};
else if(n=="activeHistoryState")return{qJ:"HistoryState",gH:i.tK};else if(n=="source")return i.ut;else if(n=="layerComps"){var V=i.Co.list.v,c=[];
for(var k=0;k<V.length;k++)c.push({qJ:"LayerComp",k:k});return{qJ:"LayerComps",k:c}}else if(n=="historyStates"){var E=[];
for(var k=0;k<i.history.length;k++)E.push({qJ:"HistoryState",gH:k});return{qJ:"HistoryStates",k:E}}else console.log(D,n)}else if(D.qJ=="LayerComp"){if(n=="name")return i.Co.list.v[D.k].v.Nm.v;
else throw n}else if(D.qJ=="Layer"){var A={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},a=D.k;
if(!1){}else if(n=="visible")return a.h$();else if(n=="selected")return i.w.indexOf(i.b.indexOf(a))!=-1;
else if(n=="grouped")return a.kF;else if(A[n]!=null)return a.Nd(A[n]);else if(n=="opacity")return a.opacity*100/255;
else if(n=="blendMode")return a.QQ;else if(n=="name")return a.getName();else if(n=="textItem")return{qJ:"TextItem",k:a};
else if(n=="bounds"){var Q=G.Q.YL(i,[i.b.indexOf(a)]);return jR.HF.aaw(Q,i)}else if(n=="parent"){var J=_.RA;
for(var k=0;k<J.length;k++)if(J[k].b.indexOf(a)!=-1)return{qJ:"Document",k:J[k]}}else if(n=="kind"){var L=jR.HF.uV;
for(var k=0;k<L.length;k++)if(a.add[L[k]]!=null)return k;return 0}else console.log(D,n)}else if(D.qJ=="Selection"){if(!1){}else if(n=="bounds")return jR.HF.aaw(_.mH().q.rect,i);
else console.log(D,n)}else if(D.qJ=="TextItem"){var P=D.k.add.TySh,u=P.uP,m=jg.kb(u),x=P.A.gM(),v=jg.np(u,0,Math.max(0,m.length-2));
if(n=="contents")return m.slice(0,m.length-1).replace(/\n/g,"\r");else if(n=="font")return v.OT.Font!=null?v.SY[v.OT.Font].Name:null;
else if(n=="size")return jR.HF.pD(v.OT.FontSize*x,i);else if(n=="leading")return jR.HF.pD(v.OT.Leading*x,i);
else if(n=="tracking")return jR.HF.pD(v.OT.Tracking);else if(n=="baselineShift")return jR.HF.pD(v.OT.BaselineShift);
else if(n=="fauxBold")return v.OT.FauxBold;else if(n=="fauxItalic")return v.OT.FauxItalic;else if(n=="kind")return 1-jg.rz(u);
else if(n=="useAutoLeading")return v.ew.AutoLeading;else if(n=="hyphenation")return v.ew.AutoHyphenate;
else if(n=="justification")return jR.HF.pD(v.ew.Justification);else if(n=="color")return{qJ:"SolidColor",k:v.OT.FillColor.Values.slice(0)};
else if(n=="width"||n=="height"){var W=jg.eq(u),Z=(W[2]-W[0])*x,r=(W[3]-W[1])*x;return jR.HF.pD(n=="width"?Z:r,i)}else if(n=="position"){var X=P.A;
return jR.HF.a9_([X.oE,X.LE],i)}else if(n=="horizontalScale"||n=="verticalScale"){var $=n[0].toUpperCase()+n.slice(1);
return Math.round(v.OT[$]*100)}else if(n=="antiAliasMethod")jg.Eq(P);else console.log(D,n)}else if(D.qJ=="Preferences"){if(n=="rulerUnits")return w.BE.gK;
else console.log(D,n)}else if(D.qJ=="SolidColor"){if(n=="rgb")return{qJ:"RGBColor",k:D.k};else console.log(D,n)}else if(D.qJ=="RGBColor"){var Q=Math.round(255*D.k[1]),I=Math.round(255*D.k[2]),T=Math.round(255*D.k[3]);
if(!1){}else if(n=="red")return Q;else if(n=="green")return I;else if(n=="blue")return T;else if(n=="hexValue")return"#"+B.xQ(Q<<16|I<<8|T).toUpperCase();
else console.log(D,n)}else if(D.qJ=="UnitValue"){if(n=="value")return D.k;else throw"e"}else if(D.qJ=="ExportOptionsSaveForWeb"){if(n=="format")return D.k.tu;
else if(n=="PNG8"||n=="interlaced")return!1;else if(n=="quality")return D.k.V_;else if(n=="transparency")return!0;
else throw n}else if(D.qJ=="JPEGSaveOptions"||D.qJ=="PDFSaveOptions"){return 0}else console.log(D,n)};
jR.HF.aaw=function(D,n){return jR.HF.a9_([D.x,D.y,D.x+D.l,D.y+D.e],n)};jR.HF.a9_=function(D,n){var _=[];
for(var k=0;k<D.length;k++)_.push(jR.HF.pD(D[k],n));return _};jR.HF.aiW=function(D){var n=[];for(var k=0;
k<D.length;k++)n.push(D[k].qJ?D[k].k:D[k]);return n};jR.HF.pD=function(D,n){return{qJ:"UnitValue",k:D}};
jR.HF.ajg=function(D,n){if(D.qJ=="UnitValue")return D.k;return D};jR.HF.a7E=function(D,n,_,b,w){var i=new ho(S.E.M,!0),M=new ho(S.E.W,!0),N=b.mH(),a=b.qe;
if(!1){}else if(D.qJ=="Application"){if(!1){}else if(n=="activeDocument"){M.data={d:S.J.gE,ly:_.k};b.c(M)}else if(n=="displayDialogs"){}else console.log(D,n,_)}else if(D.qJ=="Document"){var o=D.k;
if(!1){}else if(n=="name"){i.g=G.vp;i.data={d:q.mk,k:_,alx:!0,Yj:o};N.lP=!0}else if(n=="source")o.ut=_;
else if(n=="activeLayer"){o.w=[o.b.indexOf(_.k)]}else if(n=="activeHistoryState"){i.g=G.rX;i.data={d:"h_itemchange",index:_.gH}}else console.log(D,n)}else if(D.qJ=="Layer"){i.g=G.vp;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},V=D.k,c=N.b.indexOf(V);
if(!1){}else if(n=="visible"){if(V.h$()!=_)i.data={d:q.Y9,i:c}}else if(n=="opacity"){i.data={d:q.hs,i:c,ub:Math.round(255*_/100)}}else if(n=="blendMode"){i.data={d:q.fH,i:c,ub:jz._w.indexOf(_)}}else if(n=="name"){i.data={d:q.YQ,i:c,name:_}}else if(U[n]!=null){i.data={d:q.Y8,i:c,ub:[[_],[U[n]]]}}else if(n=="kind"){i.data={d:q.zy,i:c,ta:jR.HF.uV[_]}}else if(n=="grouped"){i.data={d:q.gV,i:c,ub:_}}else console.log(D,n,_)}else if(D.qJ=="TextItem"){i.g=G.vu;
var V=D.k,E=V.add.TySh,A=JSON.parse(JSON.stringify(E.uP)),Q=E.A.clone(),L=E.A.gM(),P=jg.kb(A),u=jg.np(A,0,P.length-2),m=!1;
if(!1){}else if(n=="contents"){jg.HP(A,0,P.length-1);jg.kW(A,0,_.replace(/\r/g,"\n"))}else if(n=="size"){u.OT.FontSize=(_.k!=null?_.k:_)/L;
m=!0}else if(n=="leading"){u.OT.Leading=(_.k!=null?_.k:_)/L;m=!0}else if(n=="tracking"){u.OT.Tracking=_.k!=null?_.k:_;
m=!0}else if(n=="baselineShift"){u.OT.BaselineShift=_.k!=null?_.k:_;m=!0}else if(n=="fauxBold"){u.OT.FauxBold=_;
m=!0}else if(n=="fauxItalic"){u.OT.FauxItalic=_;m=!0}else if(n=="kind"){var x=jg.rz(A);if(x==1&&_==1){var v=new h8(A,b.qe.mz).ew[0],W=v.ZK[0].end,Z=v.Sj[W-1].end;
jg.HP(A,0,P.length-1);jg.kW(A,0,P.slice(0,Z-1))}if(x==_)jg.EN(A,1-_)}else if(n=="useAutoLeading"){u.ew.AutoLeading=_;
m=!0}else if(n=="hyphenation"){u.ew.AutoHyphenate=_;m=!0}else if(n=="justification"){u.ew.Justification=_;
m=!0}else if(n=="font"){jg.jd(u,_);m=!0}else if(n=="color"){u.OT.FillColor.Values=_.k.slice(0);m=!0}else if(n=="width"||n=="height"){var r=jg.eq(A).slice(0),X=jR.HF.ajg(_);
if(n=="width")r[2]=Math.round(r[0]+X/L);else r[3]=Math.round(r[1]+X/L);jg.vR(A,r)}else if(n=="position"){Q.oE=_[0];
Q.LE=_[1]}else if(n=="horizontalScale"||n=="verticalScale"){var $=n[0].toUpperCase()+n.slice(1);u.OT[$]=_/100;
m=!0}else if(n=="antiAliasMethod")jg.Hi(E,_);else console.log(D,n,_);if(m)jg.Ka(A,0,P.length-1,u);i.data={d:"newED",Ab:N.b.indexOf(V),KE:A,A:Q}}else if(D.qJ=="Preferences"){if(!1){}else if(n=="rulerUnits"){var I=JSON.parse(JSON.stringify(a.BE));
I.gK=_;M.data={d:S.J.VS,hy:da.Xk,ub:I};b.c(M)}else console.log(D,n,_)}else if(D.qJ=="SolidColor"){if(n=="rgb")D.k=_.k;
else throw n}else if(D.qJ=="RGBColor"){if(!1){}else if(n=="red")D.k[1]=_/255;else if(n=="green")D.k[2]=_/255;
else if(n=="blue")D.k[3]=_/255;else if(n=="hexValue"){var T=B.Ee(_.slice(1));D.k[1]=(T>>>16&255)/255;
D.k[2]=(T>>>8&255)/255;D.k[3]=(T>>>0&255)/255}else console.log(D,n)}else if(D.qJ=="ExportOptionsSaveForWeb"){if(n=="format")D.k.tu=_;
else if(n=="PNG8"||n=="transparency"||n=="interlaced"){}else if(n=="quality")D.k.V_=_;else throw n}else if(D.qJ=="JPEGSaveOptions"){if(n=="quality")D.k.V_=Math.round(100*_/12)}else if(D.qJ=="PDFSaveOptions"){if(n=="preset")D.k.agw=_}else console.log(D,n,_);
if(i.data!=null)b.c(i)};jR.HF.jW=function(D,n,_,b,w){var i=D.qJ,M=null,N=new ho(S.E.M,!0),a=new ho(S.E.$W,!0),o=new ho(S.E.W,!0),U=b.mH(),V=b.RA;
if(!1){}else if(i=="Application"){if(!1){}else if(n=="charIDToTypeID"){var c=_[0].trim(),E={slct:"select",Dlt:"delete",Mk:"make"};
return E[c]?E[c]:c}else if(n=="stringIDToTypeID"){var A=_[0].trim(),E={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},Q=E[A];
return Q==null?A:Q}else if(n=="executeAction"){console.log(_);var J;if(_[1]){J=_[1].k;J.classID=_[0]}var L={setd:"set"},P=L[_[0]];
if(P==null)P=_[0];var u=fg.ic[_[0]];if(u&&fg.tG[u])P=fg.tG[u];a.data={_L:P,cR:J}}else if(n=="executeActionGet"){return{qJ:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:_[0].k}}}}else if(n=="doAction"){o.data={d:S.J.zp,Pr:[_[0],_[1]]}}else if(n=="open"){o.data={d:S.J.Qd,hy:{url:_[0]}};
if(_[2]&&V.length!=0)o.data.hy.fa=V.indexOf(U)}else if(n=="echoToOE"){o.data={d:S.J.Ri,hy:_[0]}}else console.log(n)}else if(i=="LayerComp"){if(n=="apply"){N.g=G.Q0;
N.data={d:"setLC",gH:U.Co.list.v[D.k].v.compID.v}}else throw n}else if(i=="Document"){var U=D.k;if(!1){}else if(n=="crop"){a.data=G.v1.Ls(_[0])}else if(n=="trim"){var m=[];
for(var k=0;k<4;k++)m.push(_[k+1]!=null?_[k+1]:!0);a.data=G.v1.wR(_[0]!=null?_[0]:0,m)}else if(n=="suspendHistory"){var x=acorn.parse(_[1]);
jR.eval(x,b,w)}else if(n=="save"){o.data={d:S.J.sh}}else if(n=="saveToOE"){o.data={d:S.J.sh,xd:_}}else if(n=="rotateCanvas"){a.data=G.Q.U6(!0,_[0])}else if(n=="resizeImage"||n=="resizeCanvas"){var v=_[0],W=_[1];
if(typeof v!="number"){v=U.l*parseFloat(v.slice(0,v.length-1))/100;W=U.e*parseFloat(W.slice(0,W.length-1))/100}if(n=="resizeCanvas")a.data=G.v1.Ic(Math.round(v),Math.round(W),_[2]);
else a.data=G.v1.XQ(Math.round(v),Math.round(W),null,1)}else if(n=="paste"){o.data={d:S.J.vl,C3:_.length!=0&&_[0],lf:!0}}else if(n=="close"){o.data={d:S.J.a3,R1:U}}else if(n=="exportDocument"||n=="saveAs"){var Z=w.__fs,r=_[0].k.replace(":","").replace("~/",""),X=n=="exportDocument"?_[2].k:_[1].k,I=eF.N4(U,X.tu,null,null,X.tu=="pdf"?null:[X.V_],b.qe);
Z[r]=new Uint8Array(I)}else console.log(D,n,_)}else if(i=="Layer"){var T=D.k,e=U.b.indexOf(T);if(!1){}else if(n=="copy"){jR.HF.lt(U,b,0);
o.data={d:S.J.rL,iP:_[0],gd:e,lf:!0};b.c(o);delete o.data;jR.HF.lt(U,b,1)}else if(n=="clear"){jR.HF.lt(U,b,0);
a.data={_L:"delete"};b.c(a);delete a.data;jR.HF.lt(U,b,1)}else if(n=="duplicate"){if(_.length==0){N.data={d:q.Jm,i:e};
N.g=G.vp;b.c(N);N.data=null;M={qJ:"Layer",k:U.b[U.w[0]]}}else if(_[0].qJ=="Document"){N.data={d:q.AA,b:U.KI(e),C7:U,rO:_[0].k};
N.g=G.vp}}else if(n=="merge"||n=="remove"){N.data={d:n=="merge"?q.aF:q.h0,i:e};N.g=G.vp;if(n!="remove")M={qJ:"Layer",k:U.b[U.w[0]]}}else if(n=="move"){N.data={d:q.AR,source:e,target:U.b.indexOf(_[0].k),sK:_[1]!=3?.6:.3};
N.g=G.vp}else if(n=="rasterize"){a.data={_L:"rasterizeLayer",cR:{classID:"rasterizeLayer",null:cT.S0("Lyr",!0)}}}else if(n=="rotate"){N.data={d:"rot",Ln:[2,5],k:-_[0]*Math.PI/180,ui:_[1],i:e};
N.g=G.pr}else if(n=="resize"){N.data={d:"scl",Ln:[2,4],k:new gZ(_[0]/100,_[1]/100),ui:_[2],i:e};N.g=G.pr}else if(n=="translate"){var F=jR.HF.aiW(_);
N.data={d:"trsl",i:e,uR:F[0],NN:F[1]};N.g=G.GZ}else if(n=="link"){N.data={d:q.Zn,a2t:[e,U.b.indexOf(_[0].k)]};
N.g=G.vp}else if(n=="invert"){N.g=G._x;N.data={d:"start",IL:"nvrt"}}else if(n.startsWith("apply")&&cq.Ym[n.slice(5)]){var F=jR.HF.aiW(_),y=cq.Ym[n.slice(5)];
a.data={_L:cq.tG[y]};var J=cq.D2(y);if(J){cq.R2["g"+y](J,F);a.data.cR=J}}else console.log(D,n,_)}else if(i=="Documents"){if(n=="getByName"){for(var k=0;
k<V.length;k++)if(V[k].name==_[0])return{qJ:"Document",k:V[k]};return null}else if(n=="add"){var h=_[5];
if(h==null)h=1;a.data=ai.El(_[0],_[1],_[2],_[3],["Wht","Trns","BckC"][h],!1)}else throw"e"}else if(i=="Layers"){if(n=="getByName"){for(var k=0;
k<D.k.length;k++)if(D.k[k].k.getName()==_[0]){M=D.k[k];break}if(M==null)w.__throw={message:"No layer with a name "+_[0]}}else if(n=="add"){N.data={d:D.eZ=="layerSets"?q.dY:q.S6};
N.g=G.vp;b.c(N);N.data=null;M={qJ:"Layer",k:U.b[U.w[0]]}}else console.log(D,n,_)}else if(D.qJ=="Selection"){if(n=="select"){var K=_[0],z=[];
for(var k=0;k<K.length;k++)z.push(K[k][0],K[k][1]);a.data=G.fq.Pe(z)}else if(n=="clear"){a.data={_L:"delete"}}else if(n=="selectAll"){a.data=G.fq.A8(!0)}else if(n=="invert"){a.data={_L:"inverse"}}else if(n=="copy"){o.data={d:S.J.rL}}else if(n=="deselect"){a.data=G.fq.A8()}else if(n=="fill"){var f=_[0].k;
f=B.X.Ea({p:f[1]*255,z:f[2]*255,S:f[3]*255});a.data=G.NF.Zh("Clr",_[1],_[2]==null?1:_[2]/100,f)}else console.log(D,n,_)}else if(D.qJ=="Window"){if(n=="show"){o.data={d:S.J.a_,Lt:D.k}}else throw"e"}else if(D.qJ=="ActionReference"){if(n=="putProperty"){D.k.push({t:"prop",v:{classID:_[0],keyID:_[1]}})}else if(n=="putClass"){D.k.push({t:"Clss",v:{classID:_[0]}})}else if(n=="putEnumerated"){D.k.push({t:"Enmr",v:{classID:_[0],typeID:_[1],enum:_[2]}})}else if(n=="putName"){D.k.push({t:"name",v:{classID:_[0],val:_[1]}})}else console.log(n,_)}else if(D.qJ=="ActionDescriptor"||D.qJ=="ActionList"){if(n=="putReference"){D.k[_[0]]={t:"obj ",v:_[1].k}}else if(n=="putDouble"){D.k[_[0]]={t:"doub",v:_[1]}}else if(n=="putUnitDouble"){D.k[_[0]]={t:"UntF",v:{type:_[1],val:_[2]}}}else if(n=="putObject"){if(D.qJ=="ActionList"){var s=_[1].k;
s.classID=_[0];D.k.push({t:"Objc",v:s})}else{var s=_[2].k;s.classID=_[1];D.k[_[0]]={t:"Objc",v:s}}}else if(n=="putList"){D.k[_[0]]={t:"VlLs",v:_[1].k}}else if(n=="putBoolean"){D.k[_[0]]={t:"bool",v:_[1]}}else if(n=="putInteger"){D.k[_[0]]={t:"long",v:_[1]}}else if(n=="putString"){D.k[_[0]]={t:"TEXT",v:_[1]}}else if(n=="putEnumerated"){var l={};
l[_[1]]=_[2];D.k[_[0]]={t:"enum",v:l}}else if(n=="hasKey"){var g=D.k.null.v;for(var k=0;k<g.length;k++){if(g[k].v.keyID==_[0]){if(_[0]=="UsrM"){return U.b[U.w[0]].us()!=null}else throw _}}}else console.log(n,_)}else if(D.qJ=="$"){if(n=="writeln"){console.log(_[0])}else throw n}else if(D.qJ=="UI"){var H;
if(n=="zoomIn"||n=="zoomOut"){H={d:"zoom",JO:n=="zoomIn"}}else if(n=="fitTheArea"){H={d:"adapt",k:"fitscr"}}else if(n=="pixelToPixel"){H={d:"adapt",k:"pixel"}}N.g=G.TS;
N.data=H}else console.log(D,n,_);if(N.data)b.c(N);if(a.data)b.c(a);if(o.data)b.c(o);return M};jR.HF.lt=function(D,n,_){var b=new ho(S.E.M,!0);
b.g=G.xm;var w=new ho(S.E.$W,!0);if(_==0){jR.HF.a6W=D.q;w.data=G.fq.A8(!0)}else{var i=jR.HF.a6W;if(i)b.data={d:"setsel",Ln:"Restore Selection",q:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else w.data=G.fq.A8()}n.c(b.data?b:w)};jR.HF.a6W=null;jR.HF.pb={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
jR.HF.pb.ColorBlendMode=jR.HF.pb.BlendMode;jR.HF.uV="---- SoLd TySh SoCo GdFl PtFl".split(" ");function fB(){}fB.wj={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
fB.FX={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
fB.ahx=function(D,n){if(n==null)n={};var _=fB.FX,b=[],w=[],i="";for(var k=0;k<D.length;k++){var M=D[k],N=_[M[0]+""];
if(N&&n[N]==null)n[N]=M[1];else if(M[0]==12)w.push(M[1]);else if(M[0]==25)b.push(M[1]);else if(M[0]==55)i=M[1];
else if(M[0]==60)i+=";"+M[1]}if(i!=""&&n["exif:DateTimeOriginal"]==null)n["exif:DateTimeOriginal"]=i;
if(w.length!=0&&n["Iptc4xmpCore:SubjectCode"]==null)n["Iptc4xmpCore:SubjectCode"]=w.join(";");if(b.length!=0&&n["dc:Keywords"]==null)n["dc:Keywords"]=b.join(";");
return n};fB.a6b=function(D){var n=fB.FX,_=[];for(var b in n)if(D[n[b]])_.push([parseInt(b),D[n[b]]]);
if(D["Iptc4xmpCore:SubjectCode"]){var w=D["Iptc4xmpCore:SubjectCode"].split(";");for(var k=0;k<w.length;
k++)_.push([12,w[k].trim()])}if(D["dc:Keywords"]){var w=D["dc:Keywords"].split(";");for(var k=0;k<w.length;
k++)_.push([25,w[k].trim()])}_.sort(function(i,M){return i[0]-M[0]});return _};fB.atu=function(D,n){if(n==null)n={};
var _=new DOMParser,b=_.parseFromString(D,"image/svg+xml"),w=b.getElementsByTagName("rdf:Description")[0];
if(w==null)return n;var i=fB.wj;for(var M in i){var N=i[M][2];if(N==null)continue;var a=w.getElementsByTagName(N)[0];
if(a==null)continue;var o=a.getElementsByTagName("rdf:li"),U=[];for(var k=0;k<o.length;k++)U.push(o[k].textContent);
n[M]=U.join("; ")}return n};fB.apV=function(D){var n=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],_=fB.wj;
for(var b in _){var w=D[b],i=_[b][2],M="Seq",N="";if(w==null||i==null)continue;if(i=="dc:title"||i=="dc:description"){M="Alt";
N=" xml:lang=\"x-default\""}if(i=="dc:subject")M="Bag";n.push("\t<"+i+"><rdf:"+M+">");var a=i=="dc:subject"?w.split(";").join(",").split(","):[w];
for(var k=0;k<a.length;k++)n.push("\t\t<rdf:li"+N+">"+a[k].trim()+"</rdf:li>");n.push("\t</rdf:"+M+"></"+i+">")}n.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return n.join("\n")};fB.ajc=function(D){var n=[];for(var k=0;k<D.length;k++)n[k]=D[k][1]==0?0:D[k][0]/D[k][1];
return n};fB.a6e=function(D){var n=[];for(var k=0;k<D.length;k++){var _=D[k],b=1;if(_!=Math.round(_)){b=1e3;
_=Math.round(_*b)}n[k]=[_,b]}return n};fB.fZ=function(D,n){var _=fB.wj;if(n==null)n={};for(var b in _){var w=_[b][1],i="t"+w;
if(w!=null&&D[i]!=null){var M=D[i];if(w==0)M=M.join(".");else if(w==2||w==4){var N=D["t"+(w-1)];if(N==null)N=[w==2?"N":"E"];
M=fB.ajc(M).join(",")+N[0]}else if(w==42034)M=fB.ajc(M).join(" ");else if(w==270||w==315){var a=M[0],o=new Uint8Array(a.length);
j.Wu(o,0,a);M=j.KA(o)}else M=M[0];n[b]=M}}if(D.exifIFD)fB.fZ(D.exifIFD,n);if(D.gpsiIFD)fB.fZ(D.gpsiIFD,n);
return n};fB.qX=function(D,n,_){var b=fB.wj,i=0,N=0;if(n==null)n={};var w={},M={};for(var a in b){if(D[a]==null||b[a][1]==null)continue;
var o=b[a][1],U="t"+o,V=n;if(a.startsWith("exif:")){V=w;i++;if(a.startsWith("exif:GPS")){V=M;N++}}var c=D[a];
if(o==0)c=new Uint8Array(c.split(".").map(parseFloat));else if(o==2||o==4){var E=c.length;V["t"+(o-1)]=[c.slice(c.length-1)];
c=fB.a6e(c.split(",").map(parseFloat))}else if(o==42034)c=fB.a6e(c.split(" ").map(parseFloat));else if(o==270||o==315){var A=j.TJ(c);
c=[j.gw(A,0,A.length)]}else c=[c];V[U]=c}if(i!=0){n.exifIFD=w;n.t34665=[0]}if(N!=0){n.gpsiIFD=M;n.t34853=[0]}var Q=new Date,J=[Q.getFullYear(),Q.getMonth()+1,Q.getDate(),Q.getHours(),Q.getMinutes(),Q.getSeconds()];
for(var k=0;k<6;k++)J[k]=(J[k]+"").padStart(2,"0");n.t305=["Photopea Editor (www.photopea.com)"];if(_!=!0)n.t306=[J[0]+":"+J[1]+":"+J[2]+" "+J[3]+":"+J[4]+":"+J[5]];
return n};var t={};t.a29=0;t.VM=function(){t.a29++;return t.a29};t.a5p="uint8";t.aoS=function(){var D=t.aj2();
if(D=="")return 0;if(D!=t.WP("_TXZRPB;d7@;")){var n=t.Ir[gU.DG][gU.u8],_=n.indexOf(String.fromCharCode(35)),b;
if(_==-1)return 0;try{b=JSON.parse(t.Ir[gU.an7](n.slice(_+1)))}catch(io){return 0}var w=b[t.WP("bQ[ODL<E<M")];
if(w==null||w.length<<2!=64)return 0;var i=gU.Bs(),M=parseInt(w.slice(3*4).split("").reverse().join(""),16)<<16;
if(M<i||w!=gU.a42(M,D))return 0;return 2}return 1};t.aj2=function(){var D=t.Ir[t.f1("}$z{2*35")][t.WP("W[\\ZQAJ?")],n=String.fromCharCode(46),_=D.split(n);
if(_.length<2)return"";var b=_.pop();b=_.pop()+n+b;return b};t.aho=function(){if(t.Ir[gU.alv][gU.a96]){var D=new t.Ir[gU.Uk];
D[gU.G7](gU.abg,t.WP("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+t.aj2());D[gU.R_]()}};t.e_=function(){if(window.top!=window.self)return!1;
var D=navigator.userAgent.toLowerCase();if(D.indexOf("android")!=-1)return!1;if(D.indexOf("safari")!=-1&&D.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};t.rB=function(D){this.YD=D;this.apa=t.L("img");this.lg=t.L("canvas");
this.tm=null;this.Qm="";this.iW=null;this.Qu=new gZ(0,0);t.YP(this.YD,this.Er.bind(this))};t.rB.prototype.wQ=function(D,n){this.tm=D;
if(n)this.Qm=n;this.Er()};t.rB.prototype.Er=function(D){if(D)this.Qu=t.Wt(D,this.YD);var n=this.tm,_=typeof n=="string";
if(!_){var b=t.F(),w=this.Qu,i=n.Kj.l,M=n.Kj.e,N=typeof n.kg=="string",a=N?this.apa:this.lg;if(N)a.setAttribute("src",n.kg);
else{a.width=i;a.height=M;var o=a.getContext("2d"),U=new ImageData(new Uint8ClampedArray(n.kg.buffer),i,M);
o.putImageData(U,0,0)}a.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(w.y-n.YZ.y/b)+"px; left:"+(w.x-n.YZ.x/b)+"px; width:"+i/b+"px; height:"+M/b+"px");
var V=this.iW;if(V==null||V!=a){if(V)this.YD.removeChild(V);this.YD.appendChild(a);this.iW=a}}else if(this.iW){this.YD.removeChild(this.iW);
this.iW=null}this.YD.setAttribute("style","cursor:"+(_?n:"none")+"; "+this.Qm)};t.xb=function(D){return D.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
t.OD=function(D,n){D.v$(io.get([12,41]).charAt(0)+":");n.v$(io.get([12,42]).charAt(0)+":")};t.L=function(D,n){var _=document.createElement(D);
if(n!=null)_.setAttribute("class",n);return _};t.hz=function(D){while(D.firstChild)D.removeChild(D.firstChild)};
t.ES=function(D,n){var _=D.getAttribute("class");if(_==null)_="";_=_.split(" ");if(_.indexOf(n)==-1)_.push(n);
D.setAttribute("class",_.join(" "))};t.ad=function(D,n){var _=D.getAttribute("class");if(_==null)return;
_=_.split(" ");if(_.indexOf(n)!=-1)_.splice(_.indexOf(n),1);D.setAttribute("class",_.join(" "))};t.Pn=function(D){while(!0){if(D==document)return!0;
if(D==null)return!1;D=D.parentNode}};t.f7=function(D){D.appendChild(t.L("br"))};t.bu=function(D){D.appendChild(t.L("hr"))};
t.Mi=function(D,n,_){var b=new bX([1,12,1],_==null?!0:_,null,!0);if(D)b.h("click",D.au,D);if(n)n.appendChild(b.m);
return b};t.Ir=document;t.Rx=function(D){var n=0;for(var k=0;k<D;k++)n+=Math.random();return n/D<Math.PI/4};
t.WP=function(D){var n="";if(!t.Rx(28))D+="-3";for(var k=0;k<D.length;k++){var _=D.charCodeAt(k);if(_<32||126<_)throw"e";
n+=String.fromCharCode(32+(_-32+17+3*k)%95)}return n};t.f1=function(D){var n="";if(!t.Rx(28))D+="-1";
for(var k=0;k<D.length;k++){var _=D.charCodeAt(k);_-=32;_+=95e4;_-=17+3*k;_=_%95;n+=String.fromCharCode(32+_)}return n};
t.BM=function(D){var n=Math.random();t.a5p="uint"+(3+n);return new D};(function(){var D=window.PointerEvent,n=D?"pointer":"mouse",_=n+"down",b=n+"move",w=n+"up",i=!1;
t.cc=function(M,N){M.addEventListener(_,N,i);if(!D)M.addEventListener("touchstart",N,i)};t.YP=function(M,N){M.addEventListener(b,N,i);
if(!D)M.addEventListener("touchmove",N,i)};t.Gv=function(M,N){M.addEventListener(w,N,i);if(!D)M.addEventListener("touchend",N,i)};
t.a8S=function(M,N){M.removeEventListener(_,N,i);if(!D)M.removeEventListener("touchstart",N,i)};t.yT=function(M,N){M.removeEventListener(b,N,i);
if(!D)M.removeEventListener("touchmove",N,i)};t.pz=function(M,N){M.removeEventListener(w,N,i);if(!D)M.removeEventListener("touchend",N,i)}}());
t.zk=function(D){D.addEventListener("touchstart",t.y9,!1);D.addEventListener("touchmove",t.y9,!1);D.addEventListener("touchend",t.y9,!1);
D.addEventListener("gesturestart",t.y9,!1);D.addEventListener("gesturechange",t.y9,!1);D.addEventListener("gestureend",t.y9,!1)};
t.vb=function(D,n,_,b){var w=t.F();D.width=Math.floor(n*w);D.height=Math.floor(_*w);if(b)b.scale(w,w);
t.a0Y(D)};t.a0Y=function(D){var n=t.F();D.style.width=D.width/n+"px";D.style.height=D.height/n+"px"};
t.hB=function(D,n,_){D.setAttribute("style","width:"+n/t.F()+"px; height:"+_/t.F()+"px")};t.Wt=function(D,n){if(n==null)n=D.currentTarget;
var _=n.getBoundingClientRect();if(D.touches)D=D.touches.item(0);return{x:D.clientX-_.left,y:D.clientY-_.top}};
t.F=function(){return window.devicePixelRatio||1};t.pw=function(D){D.addEventListener("keydown",t.anD,!1)};
t.anD=function(D){D.stopPropagation()};t.y9=function(D){D.preventDefault()};t.I0=function(D){D.stopPropagation();
D.preventDefault()};t.ct=function(D,n,_){_=_?_:"";if(PIMG["__"+D]==null)_+=" gsicon";return"<img src=\""+PIMG[D]+"\" alt=\""+(n?n:"")+"\" class=\""+_+"\" />"};
t.DP=function(D,n,_,b){var w=D.dataTransfer.getData("text/uri-list");if(w!=null&&w.startsWith("http")){var i=new ho(S.E.W,!0);
i.data={d:S.J.Qd,hy:{url:w,Uy:!0,fa:_,FJ:b}};n.c(i)}if(D.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var M=[],N=D.dataTransfer.items.length,a=D.dataTransfer.files;
for(var o of D.dataTransfer.items)o.getAsFileSystemHandle().then(function(U){M.push(U);if(M.length==N){var i=new ho(S.E.W,!0);
i.data={d:S.J.ol,data:a,fa:_,FJ:b,aoH:M};n.c(i)}})}else{var i=new ho(S.E.W,!0);i.data={d:S.J.ol,data:D.dataTransfer.files,fa:_,FJ:b};
n.c(i)}};if(t.Rx(27))t.Ir=window;else t.Ir=t.apU;t.Ir._cwY=t.Ir[t.f1("t$&!'31")];var bb={};bb.a0p=function(k){var D=bb.d6[k],n=document.documentElement.style,b=1;
n.setProperty("--base","#"+B.xQ(D["--base"]));n.setProperty("--bg-panel","#"+B.xQ(D["--bg-panel"]));
n.setProperty("--bg-canvas","#"+B.xQ(D["--bg-canvas"]));n.setProperty("--bg-input","#"+B.xQ(D["--bg-input"]));
n.setProperty("--bg-bbtn","#"+B.xQ(D["--bg-bbtn"]));n.setProperty("--bg-bbtnOver","#"+B.xQ(D["--bg-bbtnOver"]));
n.setProperty("--brdr","#"+B.xQ(D["--brdr"]));n.setProperty("--text-color","#"+B.xQ(D["--text-color"]));
n.setProperty("--brdrLgt","rgba(255,255,255,"+D["--brdrLgt"]+")");n.setProperty("--brdrDrk","rgba(  0,  0,  0,"+D["--brdrDrk"]+")");
n.setProperty("--alphaDark",""+D["--alphaDark"]);n.setProperty("--gs-invert",""+D["--gs-invert"]);var _=D["--sh-clr"];
n.setProperty("--sh-clr","rgba("+(_>>16)+","+(_>>8&255)+","+(_&255)+", 0.45)");n.setProperty("--sh-dy",""+D["--sh-dy"]+"px");
if(1<t.F()&&t.F()<1.5)b=1/t.F();n.setProperty("--img20",20*b+"px");n.setProperty("--img18",18*b+"px");
if(PIMG!=null){var w="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var k=0;k<w.length;k++){var i=w[k],M=i.split("/").pop(),N=PIMG["__"+i]==null?D["--gs-invert"]:"0";
n.setProperty("--icon_"+M,"url("+PIMG[i]+")");n.setProperty("--icon_"+M+"_invrt",N)}}var a=document.querySelector("meta[name=theme-color]");
if(a)a.setAttribute("content","#"+B.xQ(D["--base"]))};bb.d6=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function ac(){this._2={};this.Gh={}}ac.prototype.acV=function(D){var n=this._2[D];if(n==null)return!1;
return n.length>0};ac.prototype.addEventListener=function(D,n){this.h(D,n,null)};ac.prototype.h=function(D,n,_){if(this._2[D]==null){this._2[D]=[];
this.Gh[D]=[]}this._2[D].push(n);this.Gh[D].push(_)};ac.prototype.removeEventListener=function(D,n){var _=this._2[D];
if(_==null)return;var b=_.indexOf(n);if(b<0)return;var w=this.Gh[D];_.splice(b,1);w.splice(b,1)};ac.prototype.c=function(D){D.currentTarget=this;
if(D.target==null)D.target=this;var n=this._2[D.type];if(n==null)return;var _=this.Gh[D.type];for(var k=0;
k<n.length;k++){if(_[k]==null)n[k](D);else n[k].call(_[k],D)}};var ho=function(D,n){if(!n)n=!1;this.type=D;
this.target=null;this.currentTarget=null;this.bubbles=n;this.g=null;this.w2=!1},S={E:{M:"0",W:"1",$W:"1.5",o:"2",Mt:"3",a2H:"4"},J:{ZA:"10",Td:"11",BD:"12",Pv:"13",f4:"14",aiS:"14.1",Qd:"15",YI:"16",so:"17",K2:"18",sh:"19",a40:"19.5",akm:"20",aA:"21",rL:"22",vl:"23",$o:"24",a_:"25",Mu:"26",gE:"27",l_:"28",a2x:"29",ol:"30",Ou:"31",La:"32",Lv:"33",NG:"34",VS:"35",a2V:"35.5",xV:"37",a3s:"38",tp:"39",ru:"40",gX:"41",Ri:"41.5",a9I:"42",Sn:"43",a9F:"43.5",a3:"44",aqX:"45",Nr:"46",hv:"47",c8:"48",zp:"49",akq:"50",Bd:"51"}};
function cA(){ac.call(this);this.parent=null;this.m=null;this.Wj=0;this.Rw=0}cA.prototype=new ac;cA.prototype.aaT=function(D){var cQ=this;
while(cQ!=null){if(cQ==D)return!0;cQ=cQ.parent}return!1};cA.prototype.hU=function(){var D=this.m;return D.offsetWidth+D.clientLeft};
cA.prototype.a05=function(){var D=this.m;return D.offsetHeight+D.clientTop};cA.prototype.update=function(D){};
cA.prototype.c=function(D){ac.prototype.c.call(this,D);if(D.bubbles&&this.parent!=null)this.parent.c(D)};
cA.prototype._=function(){};cA.prototype.R9=function(D,n){};cA.prototype.Mf=function(D){t.ES(this.m,"disabled")};
cA.prototype.jZ=function(D){t.ad(this.m,"disabled")};cA.prototype.bs=function(D){if(D)this.jZ();else this.Mf()};
function eE(D){cA.call(this);this.NI=[];this.CN=!1;this.aly=0;this.yF={x:0,y:0,Xt:!1};this.oN=D;this.atz=this.l2.bind(this);
this.n9=this.uK.bind(this);this.aj0=this.R4.bind(this);t.cc(D,this.atz);t.YP(D,this.n9);D.addEventListener("wheel",this.Hh.bind(this),!1);
D.addEventListener("contextmenu",this.atI.bind(this),!1);var n=this.a3x.bind(this);D.addEventListener("gesturestart",n,!1);
D.addEventListener("gesturechange",n,!1);D.addEventListener("gestureend",n,!1);t.zk(D)}eE.prototype=new cA;
eE.prototype.a3x=function(D){if(D.type=="gesturestart")this.DD=D.scale;if(D.type=="gesturechange"){var n=new ho("mouse",!0);
n.action="scroll";n.Dm=!0;this.c$(D,n);var _=(this.DD-D.scale)/this.DD;n.iQ=new gZ(0,100*_);this.DD=D.scale;
this.c(n)}};eE.prototype.Sh=function(D){var n=-1,_=this.NI;for(var k=0;k<_.length;k++)if(_[k].pointerId==D.pointerId)n=k;
return n};eE.xl=function(D){if(D.which==2)return!0;var n=D.pointerType,_=window.__kb;return n=="touch"&&_.j(dz.a7I)};
eE.prototype.l2=function(D){if(eE.xl(D))return;var n=this.Sh(D);if(n!=-1)this.NI[n]=D;else this.NI.push(D);
if(this.NI.length==1){this.aly=Date.now();var _=D.button!=null&&D.button!=0?"rdown":"down",b=new ho("mouse",!0);
b.action=_;this.c$(D,b);this.c(b);t.yT(this.oN,this.n9);t.YP(window,this.n9);t.Gv(window,this.aj0)}if(this.NI.length==2){if(Date.now()-this.aly<100){var b=new ho("mouse",!0);
b.action="cancellast";this.c$(D,b);this.c(b)}this.a9o("multidown");this.CN=!0}};eE.prototype.uK=function(D){if(eE.xl(D))return;
var n=this.Sh(D);if(n!=-1)this.NI[n]=D;if(this.NI.length>1){this.a9o("multimove")}if(this.CN)return;
if(this.NI.length==1&&n==-1)return;var _=new ho("mouse",!0);_.action="move";this.c$(D,_);this.c(_)};
eE.prototype.R4=function(D){if(eE.xl(D))return;var n=this.NI,_=this.Sh(D);if(_!=-1)n.splice(_,1);else return;
if(n.length==0){var b=D.button!=null&&D.button>0?"rup":"up",w=new ho("mouse",!0);w.action=b;this.c$(D,w);
this.c(w);t.yT(window,this.n9);t.pz(window,this.aj0);t.YP(this.oN,this.n9);this.CN=!1}};eE.prototype.Hh=function(D){D.preventDefault();
if(D.deltaX==0&&D.deltaY==0)return;var n=new ho("mouse",!0);n.action="scroll";n.Dm=D.ctrlKey;this.c$(D,n);
this.c(n)};eE.prototype.atI=function(D){t.I0(D);var n=D.sourceCapabilities;if(n)n=n.firesTouchEvents;
if(n){var _=new ho("mouse",!0);this.c$(D,_);_.action="rdown";this.c(_);_.action="rup";this.c(_)}};eE.prototype.a9o=function(D){var n=this.NI,_=t.F(),b=[];
for(var k=0;k<n.length;k++){var w=b[k]=t.Wt(n[k],this.oN);w.x*=_;w.y*=_}var i=new ho("mouse",!0);i.action=D;
i.Jv=b;if(n.length<=2)this.c(i)};eE.prototype.c$=function(D,n,_){var b=this.NI.length!=0;if(n.action!="up"){var w=t.F();
if(_==null)_=t.Wt(D,this.oN);this.yF=n._h={x:w*_.x,y:w*_.y,Xt:b};var i=t.Wt(D,document.body);n._h.oh=i.x;
n._h.aK=i.y}else this.yF=n._h={x:this.yF.x,y:this.yF.y,Xt:b};n._h.PL=.5;if(D.pressure!=null&&D.pressure!=0)n._h.PL=D.pressure;
if(D.pointerType=="mouse")n._h.PL*=2;n._h.aof=D.pointerType;if(D.deltaX!=null){var M=D.deltaMode==0?1:40;
n.iQ=new gZ(D.deltaX*M,D.deltaY*M)}};function gN(D,n,_){cA.call(this);this.qj=null;this.ad9=this.R4.bind(this);
this.auN=this.pa.bind(this);this.aaf=this.auy.bind(this);this.abE=this.a3Z.bind(this);this.iJ=[];this.al=[];
this.Au=[];this.afj=[];this.m=t.L("div","contextpanel "+(_?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",t.y9,!1);
this.V2=null;this.Db=0;this.a5a=D;this.Fo=n;this.Tr=[];for(var k=0;k<D.length;k++){var b=t.L("div","enab");
this.al.push(b);this.m.appendChild(b);if(D[k].vU){var w=t.L("img","thumb"+(_?" gsicon":""));w.setAttribute("src",PIMG[D[k].vU]);
b.appendChild(w)}else{var i=t.L("span","check");this.afj.push(i);b.appendChild(i)}var M=t.L("span","label");
M.innerHTML=io.get(D[k].name);b.appendChild(M);this.Au.push(M);if(D[k].Mb)this.m.appendChild(t.L("hr"));
if(D[k].BQ||D[k].sub){var N=t.L("span","right");b.appendChild(N);if(D[k].BQ)N.innerHTML=dz.Pw(D[k].BQ);
if(D[k].sub)N.innerHTML="\u25B6"}b.addEventListener("click",this.ad9,!1);b.addEventListener("mouseover",this.auN,!0);
b.addEventListener("mouseout",this.aaf,!0);if(D[k].sub){var a=new gN(D[k].sub,n?n[k].sub:null);a.parent=this;
this.Tr.push(a);a.h("select",this.a7M,this)}else this.Tr.push(null)}}gN.prototype=new cA;gN.prototype.al1=function(D){t.hz(this.m);
for(var k=0;k<D.length;k++)if(D[k]!=0&&D[k]!=null){this.m.appendChild(this.al[k]);if(D[k]!=1&&this.Tr[k])this.Tr[k].al1(D[k])}};
gN.prototype._=function(){var D=this.a5a;for(var k=0;k<D.length;k++){if(D[k].title)this.al[k].title=io.get(D[k].title);
this.Au[k].textContent=io.get(D[k].name)+(D[k].vj?"...":"")}for(var k=0;k<this.Tr.length;k++)if(this.Tr[k])this.Tr[k]._()};
gN.prototype.update=function(D,n){var _=this.a5a;for(var k=0;k<_.length;k++){if(_[k].R){var b=_[k].R(D,n,k);
if(b.R!=null)this.al[k].setAttribute("class",b.R?"enab":"disab");if(b.j4!=null)this.Au[k].textContent=b.j4;
if(b.NU!=null)this.afj[k].textContent=b.NU?"\u2713":"";if(b.P!=null)this.Fo[k]=b.P}}for(var k=0;k<this.Tr.length;
k++)if(this.Tr[k])this.Tr[k].update(D,n)};gN.prototype.Uz=function(){return this.iJ};gN.prototype.R4=function(D){if(D.button!=0)return;
var k=this.al.indexOf(D.currentTarget);if(this.Tr[k]){this.Db=k;this.a3Z()}else{if(this.Fo){var n=this.Fo[k],_=new ho(n.T,!0);
_.g=n.g;_.data=n.P;this.c(_)}this.qj=null;this.iJ=[k];this.c(new ho("select",!1));var _=new ho(S.E.W,!0);
_.data={d:S.J.Pv};this.c(_)}};gN.prototype.pa=function(D){var k=this.al.indexOf(D.currentTarget);if(this.V2){clearTimeout(this.V2);
this.V2=null}if(this.Tr[k]==null)return;this.Db=k;this.V2=setTimeout(this.abE,300)};gN.prototype.auy=function(D){var k=this.al.indexOf(D.currentTarget);
if(this.V2){clearTimeout(this.V2);this.V2=null}};gN.prototype.a3Z=function(){if(this.V2){clearTimeout(this.V2);
this.V2=null}var k=this.Db;if(this.qj)this.qj.a4c();this.qj=this.Tr[k];var D=this.al[k].getBoundingClientRect(),n=new ho(S.E.W,!0);
n.data={d:S.J.Td,Vl:this.Tr[k],x:D.left+D.width+2,y:D.top};this.c(n)};gN.prototype.a4c=function(){for(var k=0;
k<this.Tr.length;k++)if(this.Tr[k])this.Tr[k].a4c();var D=new ho(S.E.W,!0);D.data={d:S.J.BD,Vl:this};
this.c(D)};gN.prototype.a7M=function(D){var k=this.Tr.indexOf(D.target);this.iJ=[k].concat(D.target.Uz());
this.c(new ho("select",!1))};function dE(D,n,_){cA.call(this);this.m=t.L("span","fitem cbox");if(n==null)n=!0;
if(_==null)_="flabel";var b="cb"+t.VM();this.cv=t.L("input","");this.cv.setAttribute("type","checkbox");
this.cv.setAttribute("id",b);this.m.appendChild(this.cv);this.PT=D;this.Oz=t.L("label",_);if(n)this.Oz.setAttribute("for",b);
this.m.appendChild(this.Oz);this._();this.cv.addEventListener("change",this.Px.bind(this),!1)}dE.prototype=new cA;
dE.prototype.ajr=function(){return this.PT};dE.prototype.v$=function(D){this.Oz.textContent=D};dE.prototype._=function(){var D=this.PT;
if(typeof D=="string"&&D.startsWith("<"))this.Oz.innerHTML=D;else this.Oz.textContent=io.get(D)};dE.prototype.im=function(){this.cv.checked=!0};
dE.prototype.ef=function(){this.cv.checked=!1};dE.prototype.ME=function(){return this.cv.checked};dE.prototype.f=function(D){this.cv.checked=D};
dE.prototype.B=dE.prototype.ME;dE.prototype.Px=function(D){this.c(new ho(S.E.o,!1))};function iL(D,n){cA.call(this);
this.PT=D;this.m=t.L("span","labelitem fitem"+(n?" spread":""));this._()}iL.prototype=new cA;iL.prototype.f=function(D){this.m.textContent=D};
iL.prototype.B=function(){return this.m.textContent};iL.prototype.jZ=function(){this.m.removeAttribute("disabled")};
iL.prototype.Mf=function(){this.m.setAttribute("disabled","")};iL.prototype.v$=function(D){this.m.textContent=D};
iL.prototype._=function(){this.m.textContent=io.get(this.PT)};iL.prototype.ajr=function(){return this.PT};
function bX(D,n,_,b,w){cA.call(this);this.m=t.L("button","fitem"+(n?" spread":"")+(b?" bbtn":""));this.PT=D;
this.kR=_;this._();var i=w&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(i,this.gf.bind(this),!1)}bX.prototype=new cA;
bX.prototype._=function(){var D=this.m,n=this.PT,_=this.kR,b=io.get(n);if(b.startsWith("<img")||b.startsWith("<svg")||b.startsWith("<span"))D.innerHTML=b;
else D.textContent=b;if(b.startsWith("<img")||b.startsWith("<svg")||b.startsWith("<span"))D.setAttribute("style","padding:2px");
if(_){D.setAttribute("title",io.get(_))}};bX.prototype.a3l=function(D){this.m.setAttribute("title",D)};
bX.prototype.gf=function(D){this.c(new ho("click",!1))};bX.prototype.im=function(){t.ES(this.m,"bactive")};
bX.prototype.ef=function(){t.ad(this.m,"bactive")};bX.prototype.v$=function(D,n){if(D)this.PT=D;if(n)this.kR=n;
this._()};bX.prototype.f=function(D){if(D)this.im();else this.ef()};bX.prototype.ME=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
bX.prototype.B=function(){return this.ME()};function gH(D,n,_,b,w){cA.call(this);var i=t.VM();this.m=t.L("span","fitem tinput");
if(D){this.PT=D;this.Oz=t.L("label","flabel");this.m.appendChild(this.Oz);this.Oz.setAttribute("for",i);
this._()}if(w){this.cv=t.L("span")}else if(b==null){this.cv=t.L("input");this.cv.setAttribute("type","text")}else this.cv=t.L("textarea","scrollable");
this.cv.setAttribute("id",i);if(_)this.cv.setAttribute("style","width:"+_+"em;"+(w?" display:inline-block; margin-left:6px;":""));
if(b)this.cv.setAttribute("rows",b);this.m.appendChild(this.cv);if(n){this.cq=t.L("span");this.cq.textContent=n;
this.m.appendChild(this.cq)}t.pw(this.cv);this.cv.addEventListener("change",this.Px.bind(this),!1);this.cv.addEventListener("input",this.au4.bind(this),!1)}gH.prototype=new cA;
gH.prototype._=function(){if(this.PT)this.Oz.textContent=io.get(this.PT)+":"};gH.prototype.v$=function(D){this.Oz.textContent=D};
gH.prototype.f=function(D){var n=this.cv,_=D==null?"":D,b=n.tagName=="SPAN";if(b){n.textContent=" "+_;
if(this.cq)n.appendChild(this.cq)}else n.value=_};gH.prototype.B=function(){return this.cv.value};gH.prototype.Lm=function(){this.cv.select();
this.cv.focus()};gH.prototype.Px=function(D){this.c(new ho(S.E.o,!1))};gH.prototype.au4=function(D){this.c(new ho("input",!1))};
function bT(D,n,_,b,w,i,M,N,a){cA.call(this);if(w==null)w=0;this.m=t.L("span","fitem");var o=t.VM();
this.PT=D;this.kR=N;this.tm=0;this.afg=a;this.uf=n;this.D7=_;this.dB=null;if(b instanceof Array){this.dB=b;
b=b[0]}this.p4=b;this.rE=w;this.a0c=i;this.cZ=M;this.HK=0;this.Oz=t.L("label","flabel");this.Oz.innerHTML=D;
this.Oz.setAttribute("style","cursor:col-resize;");this.p7=t.L("input","");this.p7.setAttribute("type","range");
if(M){this.p7.min=0;this.p7.max=400}else{this.p7.min=n;this.p7.max=_;if(w!=0)this.p7.step=(_-n)/200}this.cv=t.L("input","");
this.cv.setAttribute("type","text");this.cv.setAttribute("id",o);this.cq=t.L("span","");this.cq.innerHTML=b;
t.pw(this.cv);this.cv.addEventListener("change",this.Px.bind(this),!1);this.cv.addEventListener("keydown",this.n5.bind(this),!1);
this.cv.addEventListener("wheel",this.Hh.bind(this),!1);this.p7.addEventListener("input",this.Px.bind(this),!1);
if(a)this.p7.addEventListener("change",this.Px.bind(this),!1);this.p7.addEventListener("click",this.apN.bind(this),!1);
this.a2p=this.aeQ.bind(this);this.a6Q=this.apq.bind(this);this.acl=this.aoN.bind(this);this.hS=0;this.BH=0;
this.cm=!1;t.cc(this.Oz,this.a2p);t.zk(this.Oz)}bT.prototype=new cA;bT.prototype.dj=function(D){this.rE=D};
bT.prototype.v$=function(D){this.Oz.textContent=D};bT.prototype._=function(){var cQ=this.PT,D=this.kR;
if(cQ){if(typeof cQ=="string"&&cQ.startsWith("<"))this.Oz.innerHTML=cQ;else this.Oz.textContent=io.get(cQ)+":"}if(D){D=io.get(D);
if(cQ)this.Oz.setAttribute("title",D);this.cv.setAttribute("title",D)}};bT.prototype.f=function(D,n){var _=this.uf==this.D7;
if(!_&&this.uf>=0)D=Math.max(this.uf,D);if(this.rE==0)D=Math.round(D);var b=this.p4;this.tm=D;this.cv.value=(this.rE!=0?D.toFixed(this.rE):D)+(this.a0c&&b?(b.toLowerCase()==b.toUpperCase()?"":" ")+b:"");
var w=400*Math.pow((D-this.uf)/(this.D7-this.uf),1/2.7);this.p7.value=this.cZ?w:D;if(n)this.bo()};bT.prototype.B=function(){var D=this.tm;
if(isNaN(D))D=0;return D};bT.prototype.sz=function(){return this.p4};bT.prototype.Px=function(D){var n=0;
if(D.currentTarget==this.cv){var _=D.target.value,b=0;n=_==""?0:this.p4?parseFloat(_):eval(_);if(isNaN(n))n=0;
while(b<_.length&&(_.charAt(b)=="."||48<=_.charCodeAt(b)&&_.charCodeAt(b)<=57))b++;var w=_.slice(b).trim();
if(this.dB&&this.dB.indexOf(w)!=-1)this.p4=w}else{if(Date.now()-this.HK<10)return;n=parseFloat(D.target.value);
if(this.cZ){n=this.uf+Math.pow(n/400,2.7)*(this.D7-this.uf);n=this.asJ(n)}}this.f(n);if(D.type=="input"&&this.afg)return;
this.bo()};bT.prototype.bo=function(){this.c(new ho(S.E.o))};bT.prototype.asJ=function(D){if(this.D7-this.uf>50&&D>10)D=Math.round(D);
return D};bT.prototype.n5=function(D){var n=0;if(dz.s9(D.code,dz.L3))n=1;if(dz.s9(D.code,dz.hb))n=-1;
if(n!=0)this.anV(n,D.shiftKey)};bT.prototype.Hh=function(D){this.anV(D.deltaY>0?-1:1,D.shiftKey)};bT.prototype.anV=function(D,n){var _=this.B(),b=this.rE,w=D*(b==null||b==0||_>5?1:.1);
if(n)w*=10;var i=_+w;if(!this.cZ&&this.D7!=this.uf)i=Math.min(this.D7,i);this.f(i);this.bo()};bT.prototype.apN=function(D){var n=Date.now()-this.HK;
this.HK=Date.now();if(n>200)return;var _=this.uf,b=this.D7,w=(_+b)/2;if(_<1&&b>1&&b<10)w=1;else if(_<90&&b>110)w=100;
else if(_<0&&b>0)w=0;this.f(w);this.bo()};bT.prototype.aeQ=function(D){t.YP(document,this.a6Q);t.Gv(document,this.acl);
this.hS=t.Wt(D,document.body).x;this.BH=this.B()};bT.prototype.apq=function(D){t.I0(D);var n=this.uf==this.D7,_=t.Wt(D,document.body).x,b=(_-this.hS)*(n?1:1/120*(this.D7-this.uf)),w=this.BH+b;
if(n)w=Math.round(w);if(!n){if(!0){w=Math.max(this.uf,w);if(w==this.uf){this.hS=_;this.BH=this.uf}}if(!this.cZ){w=Math.min(this.D7,w);
if(w==this.D7){this.hS=_;this.BH=this.D7}}w=this.asJ(w)}this.cm=!0;this.f(w);this.bo()};bT.prototype.aoN=function(D){if(!this.cm)this.cv.focus();
this.cm=!1;t.yT(document,this.a6Q);t.pz(document,this.acl)};bT.prototype.Lm=function(){this.cv.select();
this.cv.focus()};function fh(D,n,_,b,w,i,M,N,a){bT.call(this,D,n,_,b,w,!0,i,a);t.ES(this.m,"rangedropinput");
this.m.appendChild(this.Oz);this.cv.setAttribute("style","width:"+(N?N:3.3)+"em");this.m.appendChild(this.cv);
this.a7T=t.L("span","rangecont");this.a7T.appendChild(this.p7);this.$K=t.L("button");this.$K.innerHTML="\u25BC";
t.cc(this.$K,this.aoC.bind(this));if(M!=!0)this.m.appendChild(this.$K);this.KH=new cA;this.KH.m=this.a7T}fh.prototype=new bT;
fh.prototype.aoC=function(D){if(t.Pn(this.KH.m))return;D.stopPropagation();var n=this.m.getBoundingClientRect();
this.p7.setAttribute("style","width:"+n.width+"px;");var _=new ho(S.E.W,!0);_.data={d:S.J.Td,Vl:this.KH,x:n.left,y:n.top+n.height};
this.c(_)};function d4(D,n,_,b,w,i){bT.call(this,D,n,_,b,w,!1,i);this.m.appendChild(this.Oz);var M=t.L("span","rangecont");
this.m.appendChild(M);M.appendChild(this.p7);this.m.appendChild(this.cv);this.cv.setAttribute("style","width:3.3em");
if(this.p4)this.m.appendChild(this.cq)}d4.prototype=new bT;function gp(D,n,_,b,w,i,M,N){bT.call(this,D,n,_,b,w,!0,i,null,M);
t.ES(this.m,"trangeinput");this.m.appendChild(this.Oz);this.m.appendChild(this.cv);var a=t.L("span","rangecont");
if(N!=!0)this.m.appendChild(a);a.appendChild(this.p7);this.p7.setAttribute("style","width:97%;")}gp.prototype=new bT;
function iw(D,n,_,b){cA.call(this);if(!n)return;if(_==null)_=!1;this.zL=0;this.as7=_;this.PT=D;this.FX=null;
this.a7V=b;this.b6=[];var w="dd"+t.VM();this.m=t.L("span","fitem ddmenu");if(D&&!_){this.Oz=t.L("label","flabel");
this.m.appendChild(this.Oz);this.Oz.setAttribute("for",w)}this.SW=t.L("select","bbtn");this.SW.setAttribute("id",w);
this.m.appendChild(this.SW);this.SW.addEventListener("change",this.Px.bind(this),!1);function i(M){var N=0;
if(dz.s9(M.code,dz.L3))N=1;if(dz.s9(M.code,dz.hb))N=-1;if(N!=0)M.stopPropagation()}this.SW.addEventListener("keydown",i,!1);
this.SW.addEventListener("keyup",i,!1);this.yh=[];this.U5=null;this.jb(n,b);this._()}iw.prototype=new cA;
iw.prototype.v$=function(D){this.PT=D;this._()};iw.prototype._=function(){if(this.PT!=null){var D=io.get(this.PT);
if(this.as7)this.SW.setAttribute("title",D);else this.Oz.textContent=D+":"}if(this.U5)this.jb(this.U5,this.a7V);
this.f(this.zL)};iw.prototype.B=function(){return this.zL};iw.prototype.jb=function(D,n){t.hz(this.SW);
var _=[],b=0;if(n){_.push(n[0]);for(var k=1;k<n.length;k++)_.push(_[k-1]+n[k])}this.U5=D;this.FX=[];
this.a7V=n;for(var k=0;k<D.length;k++){var w=t.L("option");if(this.b6.indexOf(k)!=-1)w.setAttribute("disabled","");
w.textContent=io.get(D[k]);w.setAttribute("value",k);this.SW.appendChild(w);this.yh.push(w);this.FX.push(k+b);
if(_.indexOf(k+1)!=-1&&k!=D.length-1){var i=t.L("option");i.setAttribute("disabled","");i.textContent="";
this.SW.appendChild(i);b++}}};iw.prototype.a5w=function(k){var D=this.b6,n=D.indexOf(k);if(n==-1)D.push(k);
this._()};iw.prototype.afu=function(k){var D=this.b6,n=D.indexOf(k);if(n!=-1)D.splice(n,1);this._()};
iw.prototype.f=function(D){this.zL=D;this.SW.selectedIndex=this.FX[D]};iw.prototype.Px=function(D){this.zL=this.FX.indexOf(this.SW.selectedIndex);
this.c(new ho(S.E.o,!1))};function aN(D,n,_,b){cA.call(this);if(!n)return;this.zL=0;this.a9Z=b;this.m=t.L("span","fitem bbmenu");
if(D){this.PT=D;this.Oz=t.L("label","flabel");this.Oz.textContent=D+":";this.m.appendChild(this.Oz)}this.yh=[];
this.U5=null;this.jb(n,_);this.f(0)}aN.prototype=new cA;aN.prototype.v$=function(D){this.PT=D;this._()};
aN.prototype._=function(){if(this.PT!=null){this.Oz.textContent=io.get(this.PT)+": "}for(var k=0;k<this.yh.length;
k++)this.yh[k]._()};aN.prototype.B=function(){return this.zL};aN.prototype.jb=function(D,n){while(this.yh.length>0)this.m.removeChild(this.yh.pop().m);
this.U5=D;for(var k=0;k<D.length;k++){var _=new bX(D[k],!1,n?n[k]:null,this.a9Z);_.h("click",this.Px,this);
this.m.appendChild(_.m);this.yh.push(_)}this._()};aN.prototype.f=function(D){this.zL=D;for(var k=0;k<this.yh.length;
k++)this.yh[k].ef();this.yh[D].im()};aN.prototype.Px=function(D){var k=this.yh.indexOf(D.target);this.f(k);
this.c(new ho(S.E.o,!1))};aN.qr=function(D,n){if(n==null)n=16;var _=aN.lg,b=_.getContext("2d"),w=n>>>1;
_.width=_.height=n;var i=[];for(var k=0;k<D.length;k++){if(D[k][0]=="-")i.push(D[k].slice(1));else if(D[k]=="checker"||D[k].startsWith("#")){if(D[k]=="checker"){b.fillStyle="white";
b.fillRect(0,0,n,n);b.fillStyle="#bbbbbb";b.fillRect(w,0,w,w);b.fillRect(0,w,w,w)}else if(D[k].startsWith("#")){b.fillStyle=D[k];
b.fillRect(0,0,n,n)}i.push("<img src=\""+_.toDataURL()+"\" />")}else i.push(t.ct(D[k],null,"autoscale"))}return i};
aN.lg=t.L("canvas");function i5(D,n,_,b,w,i){cA.call(this);this.m=t.L("span","fitem mbox");this.agT=_;
this.a3p=w;if(D){this.PT=D;this.Oz=t.L("label","flabel");this.m.appendChild(this.Oz)}this.PR=n;this.X5=[];
for(var k=0;k<n.length;k++){var M=_?new bX(n[k],!1,b?b[k]:null,!1,i):new dE(n[k],!0,"");M.h(_?"click":S.E.o,this.Px,this);
this.X5.push(M);this.m.appendChild(M.m)}this._()}i5.prototype=new cA;i5.prototype.f=function(D){for(var n=0;
n<this.PR.length;n++)this.X5[n].f(D[n])};i5.prototype.B=function(){var D=[];for(var n=0;n<this.PR.length;
n++)D[n]=this.X5[n].B();return D};i5.prototype._=function(){if(this.PT)this.Oz.innerHTML=io.get(this.PT)+": ";
var D=this.X5;for(var n=0;n<D.length;n++){D[n]._();if(n==D.length-1)D[n].m.style.marginRight="0px"}};
i5.prototype.Px=function(D){var k=this.X5.indexOf(D.currentTarget),n=this.X5[k];if(this.agT)n.f(!n.B());
if(this.a3p){var _=n.B();for(var k=0;k<this.X5.length;k++)this.X5[k].f(!1);n.f(_)}this.c(new ho(S.E.o,!1))};
function cb(D,n){cA.call(this);this.Dc=[];this.w=[];this.aqP=D;this.Uc=n;this.Fa=0;this.hG=null;this.Qu=new gZ(0,0);
if(n!=null){this.kd=new gN([{name:[6,37]},{name:[5,4]}]);this.kd.parent=this;this.kd.h("select",this._g,this)}this.m=t.L("div","imageset scrollable");
this.m.addEventListener("contextmenu",t.y9,!1)}cb.prototype=new cA;cb.prototype._=function(){if(this.kd)this.kd._()};
cb.prototype._g=function(D){var k=this.kd.Uz()[0],n=new ho(S.E.W,!0),_={d:S.J.VS,hy:this.Uc,UB:this.w.slice(0)};
if(k==0){var b=this.hG[1][this.w[0]];_.kr="rnm";n.data={d:S.J.a_,Lt:"namewindow",JJ:b,aV:{T:S.E.W,P:_}}}else{n.data=_;
_.kr="del"}this.c(n)};cb.prototype.abV=function(){return this.Fa};cb.prototype.mI=function(D){this.Fa=D;
if(this.hG)this.vm()};cb.prototype.KM=function(D,n,_,b){this.hG=[D,n,_,b];this.vm()};cb.prototype.vm=function(){var D=this.hG,n=D[0],_=D[1],b=D[2],w=D[3];
this.Dc=[];this.m.innerHTML="";var i=this.gf.bind(this),M=this.Fa;if(M==0)t.ES(this.m,"imageset");else t.ad(this.m,"imageset");
for(var k=0;k<n.length;k++){var N=n[k],a=null;if(N==null){this.Dc.push(null);continue}if(typeof N=="string"){a=t.L("img","image");
a.setAttribute("src",N)}else a=N;if(b)t.hB(a,b,w);if(this.aqP)t.ES(a,"gsicon");if(M==0){}else{var o=t.L("div","listitem");
o.appendChild(a);var U=t.L("span");U.textContent=_?_[k]:"Item "+(k+1);U.setAttribute("style","margin-left:4px;");
o.appendChild(U);a=o}if(_)a.setAttribute("title",_[k]);a.addEventListener("mousedown",i,!1);this.Dc.push(a);
this.m.appendChild(a)}};cb.prototype.gf=function(D){if(this.Uc==null)D.preventDefault();var n=this.Dc.indexOf(D.currentTarget),_=window.__kb,b=this.w,w=b.length;
if(_.j(dz.CO)){var i=Math.min(b[0],b[b.length-1],n),M=Math.max(b[0],b[b.length-1],n);b=[];for(var k=i;
k<=M;k++)b.push(k)}else if(_.j(dz.uH)){var N=b.indexOf(n);if(N==-1)b.push(n);else b.splice(N,1)}else b=[n];
b.sort(function(V,c){return V-c});if(D.button==0||w==1)this.f(b);this.Qu=t.Wt(D,D.currentTarget);if(D.button==0)this.c(new ho(S.E.o));
if(D.button==2&&this.kd){var a=this.kd;a.update(null);var o=t.Wt(D,document.body),U=new ho(S.E.W,!0);
U.data={d:S.J.Td,Vl:a,x:o.x,y:o.y+2};this.c(U)}};cb.prototype.B=function(){return this.w.slice(0)};cb.prototype.acv=function(){var D=this.Qu;
return new gZ(D.x,D.y)};cb.prototype.f=function(D){this.w=D.slice(0);for(var k=0;k<this.Dc.length;k++){var n=this.Dc[k];
if(n==null)continue;if(D.indexOf(k)!=-1)t.ES(n,"selected");else t.ad(n,"selected")}};function av(D,n,_,b,w,i,M){cA.call(this);
this.m=t.L("span","fitem "+_);this.jX=new cA;this.jX.m=t.L("div","floatcont");this.jX.m.setAttribute("style","width: "+(b+1.5)+"em;");
this.jX.parent=this;this.aoy=t.L("div");this.jX.m.appendChild(this.aoy);this.I2=t.L("div");this.jX.m.appendChild(this.I2);
if(D){this.PT=D;this.Oz=t.L("label","flabel");this.m.appendChild(this.Oz)}this.d=t.L("button",M?"nopadding":"");
this.d.setAttribute("style","position:relative;");var N=this.uO.bind(this),a=this.xY.bind(this);t.cc(this.d,n?a:N);
this.m.appendChild(this.d);this.DU=t.L("img",M?"gsicon":"");this.d.appendChild(this.DU);if(n){var o=t.L("button");
o.textContent="\u25BC";t.cc(o,N);this.m.appendChild(o)}else{var U=t.L("span");U.textContent="\u25BC";
U.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(U)}var V=t.L("span");
this.I2.appendChild(V);V.setAttribute("style","display:inline-block;  vertical-align:top; width:"+b+"em;");
this.IP=new cb(M,i);V.appendChild(this.IP.m);this.IP.parent=this.jX;this.IP.h(S.E.o,this.fs,this);this.IP.m.style.height=w+"em";
this.Wf=t.L("button");this.Wf.textContent="\u25BC";this.Wf.setAttribute("style","padding:3px");t.cc(this.Wf,this.a64.bind(this));
this.I2.appendChild(this.Wf);var c=this.E5(),E=i!=da.bL&&i!=da.Yp?i:null,A=i==null?"":da.K5[i][0].toUpperCase(),Q=E?[{name:[12,87]}]:[];
Q=Q.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Mb:!0},{name:[[23,6],"."+(A=="ICC"?"icc .cube .look .3dl":A)]},{name:["VAR0 ."+A,[1,8]]},{name:[6,37]},{name:[5,4],Mb:c.length!=0}]);
for(var k=0;k<c.length;k++)Q.push({name:c[k].split("/").pop()});this.kd=new gN(Q);this.kd.parent=this.jX;
this.kd.h("select",this._g,this);this.Uc=i;this.alG=E;this.xH=null;this.VB=!0;this.WQ=null}av.prototype=new cA;
av.prototype.E5=function(){return[]};av.prototype.xY=function(){};av.prototype._=function(){this.kd._();
this.IP._();var D=this.PT;if(D)this.Oz.textContent=io.get(D)+":"};av.prototype.v$=function(D){this.Oz.textContent=D};
av.prototype.Gx=function(D){var n=this.Uc,_=0;if(n==da.jN){_=this.xH?this.xH.length:0;D=D.slice(0)}this.xH=D;
this.VB=!0;if(t.Pn(this.IP.m)||n==da.c4)this.k2();if(n==da.jN&&D.length-_==1&&t.Pn(this.m)){this.f(D[_]);
this.VB=!0;this.k2();this.IP.f([_]);this.c(new ho(S.E.o))}};av.prototype._g=function(D){var n=D.target.Uz()[0];
if(this.alG==null)n++;var _=new ho(S.E.W,!0);if(n==0){var b=this.G_();if(this.Uc==da.jN&&b[0].profile==null)return;
_.data={d:S.J.VS,kr:"add",hy:this.alG,T$:b}}else if(n==1)this.IP.mI(1-this.IP.abV());else if(n<=5)this.KV(n-2);
else{var w=this.E5();_.data={d:S.J.Qd,hy:{url:"rsrc/"+w[n-6]}}}if(_.data)this.c(_)};av.prototype.KV=function(D){var n=new ho(S.E.W,!0),_=this.IP.B(),b={d:S.J.VS,hy:this.Uc,UB:_};
if(D>1&&_.length==0){alert("No items selected");return}if(D==0)n.data={d:S.J.YI};else if(D==1)n.data={d:S.J.Nr,akB:this.Uc,UB:_.length==0?null:_};
else if(D==2){var w=this.IP.hG[1][_[0]];b.kr="rnm";n.data={d:S.J.a_,Lt:"namewindow",JJ:w,aV:{T:S.E.W,P:b}}}else if(D==3){n.data=b;
b.kr="del"}this.c(n)};av.prototype.G_=function(){return[this.B()]};av.prototype.a64=function(D){if(t.Pn(this.kd.m))return;
D.stopPropagation();var n=this.kd;n._();n.update(null);var _=D.currentTarget.getBoundingClientRect(),b=new ho(S.E.W,!0);
b.data={d:S.J.Td,Vl:n,x:_.left,y:_.top+_.height};this.c(b)};av.prototype.uO=function(D,n,_){if(t.Pn(this.jX.m))return;
if(D)D.stopPropagation();this.k2();if(n==null){var b=this.d.getBoundingClientRect(),n=b.left,_=b.top+b.height}var w=new ho(S.E.W,!0);
w.data={d:S.J.Td,Vl:this.jX,x:n,y:_,xK:!0};this.c(w)};av.prototype.apX=function(D,n){this.uO(null,D,n)};
function jo(){cA.call(this);this.m=t.L("div");this.tm=!1;this.lW=[new iw([12,19,1],[[13,1,7]].concat(fg.Ay)),new jJ([17,1]),new jJ([12,46])];
for(var k=0;k<3;k++){var D=this.lW[k];this.m.appendChild(D.m);D.h(S.E.o,this.Wk,this)}this._()}jo.prototype=new cA;
jo.prototype._=function(){for(var k=0;k<3;k++)this.lW[k]._()};jo.prototype.B=function(){return this.tm.slice(0)};
jo.prototype.f=function(D){this.tm=D.slice(0);var n=this.lW,_=n[0].B();n[1].f(D.slice(_*8,_*8+4),_);
n[2].f(D.slice(_*8+4,_*8+8),_)};jo.prototype.Wk=function(D){var n=this.lW,_=n.indexOf(D.currentTarget);
if(_==0)this.f(this.tm);else{var b=n[0].B()*8+(_==1?0:4),w=n[_].B();for(var k=0;k<4;k++)this.tm[b+k]=w[k];
this.c(new ho(S.E.o,!1))}};function jJ(D){cA.call(this);this.m=t.L("div");this.O=t.L("canvas");this.nU=D;
this.tm=[0,20,200,255];this.sm=0;this.eG=-1;this.aqQ=[];for(var k=0;k<5;k++){var n=t.L("span");n.setAttribute("style","display:inline-block;width:"+(k==0?8:k==2?7:2)+"em");
this.aqQ.push(n);this.m.appendChild(n)}this.Qp=this.l2.bind(this);this.Og=this.uK.bind(this);this.go=this.R4.bind(this);
t.zk(this.O);t.cc(this.O,this.Qp);this.m.appendChild(this.O);this.vm()}jJ.prototype=new cA;jJ.prototype._=function(){this.vm()};
jJ.prototype.f=function(D,n){this.tm=D;this.sm=n;this.vm()};jJ.prototype.B=function(){return this.tm.slice(0)};
jJ.prototype.l2=function(D){var n=this.tm,_=t.Wt(D,this.O),b=_.x-8,w=-1,i=1e9;for(var k=0;k<4;k++){var M=b-n[k],N=Math.abs(M);
if(N<8&&N<i&&((k&1)==0&&M<0||(k&1)==1&&M>0)){i=M;w=k}}if(w==-1)return;this.eG=w;this.rY=window.__kb.j(dz.u9)||n[(w>>>1)*2]!=n[(w>>>1)*2+1];
t.YP(window,this.Og);t.Gv(window,this.go)};jJ.prototype.uK=function(D){var n=this.tm,_=this.eG,b=(_>>>1)*2,w=b+1,i=t.Wt(D,this.O),M=Math.round(Math.max(0,Math.min(255,i.x-8)));
n[_]=M;if(this.rY&&n[b]>=n[w])this.rY=!1;if(!this.rY)n[b]=n[w]=M;this.vm();this.c(new ho(S.E.o,!1))};
jJ.prototype.R4=function(D){t.yT(window,this.Og);t.pz(window,this.go)};jJ.prototype.vm=function(){var D=this.O;
t.vb(D,255+16,16);var n=D.getContext("2d"),_=D.width,b=D.height,w=Math.round(255*t.F()),i=Math.round(8*t.F());
n.translate(i,0);var M=n.createLinearGradient(0,0,w,0);M.addColorStop(0,"black");M.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.sm]);
n.fillStyle=M;n.fillRect(0,0,w,i);var N=this.aqQ,a=io.get(this.nU)+":";N[0].textContent=a;for(var k=0;
k<4;k++){var o=this.tm[k];N[1+k].textContent=o;var U=Math.round(o*t.F());n.beginPath();n.moveTo(U,i);
n.lineTo(U,i+i);n.lineTo(U+((k&1)==0?-1:1)*i,i+i);n.closePath();n.fillStyle=k<2?"#666666":"#cccccc";
n.fill();n.strokeStyle="black";n.stroke()}};function gu(D,n,_){cA.call(this);if(_==null)_=!1;this.k=[0,0,1];
this.asC=n;this.a5t=_;this.a0_=0;var b="ai"+t.VM();this.m=t.L("span","fitem angleinput");if(D){this.Oz=t.L("label","flabel");
this.PT=D;this.m.appendChild(this.Oz);this.Oz.setAttribute("for",b)}this.me=_?44:20;this.O=t.L("canvas","gsicon");
this.aB=this.O.getContext("2d");t.zk(this.O);t.vb(this.O,this.me*2+1,this.me*2+1);this.aB.scale(t.F(),t.F());
this.m.appendChild(this.O);t.cc(this.O,this.oV.bind(this));this.ko=this.JS.bind(this);this.HW=this.PW.bind(this);
var w=this.Px.bind(this),i=t.L("div");i.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!_)this.m.appendChild(i);this.Hd=[];for(var k=0;k<2;k++){var M=t.L("input");this.Hd.push(M);M.setAttribute("type","text");
t.pw(M);if(k==0)M.setAttribute("id",b);M.addEventListener("change",w,!1);var N=t.L("span");N.textContent="\xB0";
if(k==0||n){i.appendChild(M);i.appendChild(N);t.f7(i)}}this.f(this.k)}gu.prototype=new cA;gu.prototype._=function(){if(this.PT)this.Oz.textContent=io.get(this.PT)+":"};
gu.prototype.v$=function(D){this.Oz.textContent=D};gu.prototype.B=function(){return this.k.slice(0)};
gu.prototype.f=function(D,n){var _=this.k;D=D.slice(0);if(D[0]==null)D[0]=_[0];if(D[1]==null)D[1]=_[1];
if(D[2]==null)D[2]=_[2];this.k=D;var b=D[0],w=D[1],i=D[2],M=this.asC,N=this.a5t,a=this.me*.85;if(!M)w=0;
this.Hd[0].value=b;this.Hd[1].value=w;var o=this.aB;o.clearRect(0,0,100,100);b=Math.PI*b/180;w=a*(90-w)/90;
var U=this.me+.5;o.save();o.translate(U,U);o.rotate(-b);o.strokeStyle="rgba(0,0,0,0.5)";o.beginPath();
o.ellipse(0,0,a,a*i,0,0,2*Math.PI);if(N){o.moveTo(0,-a*i);o.lineTo(0,a*i);o.moveTo(-w,0)}else o.moveTo(0,0);
o.lineTo(w,0);o.stroke();var V=this.me*.15;o.fillStyle="black";o.beginPath();if(N){o.arc(0,-a*i,V*.66,0,2*Math.PI);
o.arc(0,a*i,V*.66,0,2*Math.PI)}if(M){o.arc(w,0,V*.4,0,2*Math.PI)}else{o.moveTo(U-V,-V*.66);o.lineTo(U,0);
o.lineTo(U-V,V*.66)}o.fill();o.restore();if(n)this.Px()};gu.prototype.Px=function(D){var n=parseInt(this.Hd[0].value);
if(isNaN(n))n=0;var _=parseInt(this.Hd[1].value);if(isNaN(_))_=0;n=n%360;_=_%360;this.f([n,_]);this.c(new ho(S.E.o,!1))};
gu.prototype.oV=function(D){t.YP(window,this.ko);t.Gv(window,this.HW);var n=t.Wt(D,this.O),U=0,V=1e9;
n.x-=this.me;n.y-=this.me;var _=this.k,b=_[0]*Math.PI/180,w=(90-_[1])/90,i=_[2],M=this.me*.85,N=Math.sin(-b),a=Math.cos(-b),o=[new gZ(a*M,N*M)];
if(this.a5t)o.push(new gZ(-N*M*i,a*M*i),new gZ(N*M*i,-a*M*i));for(var k=0;k<o.length;k++){var c=gZ._e(n,o[k]);
if(c<V){V=c;U=k}}this.a0_=U;if(U==0)this.JS(D)};gu.prototype.JS=function(D){var n=t.Wt(D,this.O),_=this.a0_,b=[],w=n.x-this.me,i=n.y-this.me,M=this.me*.85;
if(_==0){var N=180*Math.atan2(-i,w)/Math.PI,a=90-90*Math.min(1,Math.sqrt(w*w+i*i)/M);if(D.shiftKey)N=Math.round(N/15)*15;
b=[Math.round(N),Math.round(a)]}else b=[null,null,Math.max(.01,Math.min(1,Math.sqrt(w*w+i*i)/M))];this.f(b);
this.c(new ho(S.E.o,!1))};gu.prototype.PW=function(D){this.c(new ho(S.E.o,!1));t.yT(window,this.ko);
t.pz(window,this.HW)};function hw(D,n){cA.call(this);this.tm=0;this.zv=n;this.m=t.L("span","fitem angleinput");
if(D){this.Oz=t.L("label","flabel");this.PT=D;this.m.appendChild(this.Oz)}this.O=t.L("canvas","gsicon");
this.aB=this.O.getContext("2d");t.vb(this.O,n,n);this.m.appendChild(this.O);t.cc(this.O,this.oV.bind(this));
this.ko=this.JS.bind(this);this.HW=this.PW.bind(this);this.f(0)}hw.prototype=new cA;hw.prototype._=function(){if(this.PT)this.Oz.textContent=io.get(this.PT)+":"};
hw.prototype.v$=function(D){this.Oz.textContent=D};hw.prototype.B=function(){return this.tm};hw.prototype.a2j=function(D){var n=this.tm,_=Math.floor(n/3),b=n-_*3;
b=Math.max(0,Math.min(2,b+D.x));_=Math.max(0,Math.min(2,_+D.y));this.f(_*3+b)};hw.prototype.f=function(D){this.tm=D;
var n=this.O.width,_=Math.floor(D/3),b=D-3*_,w=(b+.5)*n/3,i=(_+.5)*n/3,M=this.aB,N=[.5,Math.round(n/3)+.5,Math.round(2*n/3)+.5,n-.5];
M.clearRect(0,0,n,n);var a=this.zv<30;M.setLineDash([]);M.strokeStyle=a?"rgba(0,0,0,0.5)":"#000000";
M.beginPath();for(var k=0;k<4;k++){var o=N[k];M.moveTo(o,0);M.lineTo(o,n);M.moveTo(0,o);M.lineTo(n,o)}M.stroke();
if(D==9)return;if(!a){M.setLineDash([1,2]);var U=n*.53,V=Math.max(0,Math.min(n-U,w-U/2)),c=Math.max(0,Math.min(n-U,i-U/2));
M.strokeRect(Math.round(V)+.5,Math.round(c)+.5,Math.round(U),Math.round(U))}M.fillStyle="#000000";M.beginPath();
M.arc(w,i,n/8,0,Math.PI*2);M.fill()};hw.prototype.oV=function(D){t.YP(window,this.ko);t.Gv(window,this.HW);
this.JS(D)};hw.prototype.JS=function(D){var n=t.Wt(D,this.O),_=Math.max(0,Math.min(2,Math.floor(n.x/(this.zv/3)))),b=Math.max(0,Math.min(2,Math.floor(n.y/(this.zv/3))));
this.f(b*3+_)};hw.prototype.PW=function(D){this.c(new ho(S.E.o,!1));t.yT(window,this.ko);t.pz(window,this.HW)};
function eB(cQ){cA.call(this);this.m=t.L("span","fitem cswatch");this.am3=0;this.Fs=[];this.Dg=[];var D=this.a8I.bind(this);
for(var k=0;k<cQ;k++){this.Fs.push(0);var n=t.L("span","colorsample");n.addEventListener("click",D,!1);
this.Dg.push(n);this.m.appendChild(n)}var _=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],b=Math.min(cQ,_.length);
for(var k=0;k<b;k++)this.Fs[k]=_[k];this.cj()}eB.prototype=new cA;eB.prototype.a8I=function(D){this.am3=this.Dg.indexOf(D.currentTarget);
this.c(new ho(S.E.o))};eB.prototype.B=function(){return this.Fs[this.am3]};eB.prototype.f=function(D){var n=this.Fs,_=n.indexOf(D);
if(_!=-1)n.splice(_,1);else n.pop();n.unshift(D);this.cj()};eB.prototype.cj=function(){for(var k=0;k<this.Fs.length;
k++){this.Dg[k].setAttribute("style","background-color:#"+B.xQ(this.Fs[k]))}};function hU(D){cA.call(this);
this.HS={p:0,z:0,S:0};this.Di=D;this.m=t.L("span","fitem colorsample");this.m.addEventListener("click",this.hL.bind(this),!1)}hU.prototype=new cA;
hU.prototype._=function(){};hU.prototype.hL=function(D){var n=this.HS;this.c(new ho("click"));var _=new ho(S.E.W,!0);
_.data={d:S.J.a_,Lt:"colorpicker",zs:n.p<<16|n.z<<8|n.S,vJ:this.fO.bind(this),E4:this.Di};this.c(_)};
hU.prototype.fO=function(D){this.p2(D);this.c(new ho(S.E.o))};hU.prototype.arH=function(){this.hL(null)};
hU.prototype.aqE=function(){var D=this.HS;return D.p<<16|D.z<<8|D.S};hU.prototype.B=function(){return B.X.Ea(this.HS)};
hU.prototype.p2=function(D){this.HS={p:D>>16&255,z:D>>8&255,S:D&255};this.asx()};hU.prototype.f=function(D){this.HS=B.X.kj(D);
this.asx()};hU.prototype.asx=function(){var D=this.HS,n=D.p,_=D.z,b=D.S,w=n<<16|_<<8|b;this.m.setAttribute("style","background-color:#"+B.xQ(w))};
function gi(){cA.call(this);this.uL=!1;this.bX=20;this.adq=10;this.Z3=0;this.uL=!1;this.Ia={p:255,z:0,S:0};
this.Qx={p:0,z:0,S:0};this.m=t.L("canvas");this.vm();t.zk(this.m);t.cc(this.m,this.Qp.bind(this))}gi.prototype=new cA;
gi.prototype.aca=function(D){if(this.uL==D)return;this.uL=D;this.vm()};gi.prototype._=function(){};gi.prototype.aqq=function(D,n){function _(b){return{p:b>>16&255,z:b>>8&255,S:b&255}}if(D!=null)this.Ia=_(D);
if(n!=null)this.Qx=_(n);this.vm()};gi.prototype.Qp=function(D){var n=t.Wt(D,this.m),_=n.x*t.F(),b=n.y*t.F(),w=this.bX,i=this.adq,M=0;
if(_<i&&b<i){M=0}else if(_>w-i&&b>w-i){M=1}else if(_<i){M=2}else{M=3}var N=new ho(S.E.W,!0);if(M>1)N.data={d:S.J.VS,hy:da.dJ,_c:M};
else{this.Z3=M;var a=M==0?this.Ia:this.Qx;N.data={d:S.J.a_,Lt:"colorpicker",zs:a.p<<16|a.z<<8|a.S,vJ:this.fO.bind(this)}}this.c(N)};
gi.prototype.fO=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.VS,hy:da.dJ,_c:this.Z3,k:D};this.c(n)};
gi.prototype.vm=function(){var D=this.m,n=D.getContext("2d"),_=t.F(),w="#aaaaaa",i=.62;t.vb(D,34,34);
D.setAttribute("style",D.getAttribute("style")+";cursor:pointer");var b=this.bX=D.width,M=this.adq=Math.round(b*i);
function N(E,A){var Q=E.p,J=E.z,L=E.S;if(A)Q=J=L=Math.round(B.cu(Q,J,L));var P=Q<<16|J<<8|L;return"#"+B.xQ(P)}function a(E,A,M,Q,J){n.fillStyle=J?J:"black";
n.fillRect(E,A,M,M);n.fillStyle=Q;n.fillRect(E+1,A+1,M-2,M-2)}a(b-M,b-M,M,N(this.Qx,this.uL));a(0,0,M,N(this.Ia,this.uL));
var o=b-M,U=Math.round(o*i);a(b-U,o-U,U,"white",w);a(b-o,0,U,"black",w);n.save();n.fillStyle=w;n.translate(0,b);
n.rotate(-Math.PI/2);o=b-M;var V=Math.round(o*.28),c=Math.round(o*.25);for(var k=0;k<2;k++){n.fillRect(V,V,o-V,1);
n.beginPath();n.moveTo(o-c,V+.5-c);n.lineTo(o,V+.5);n.lineTo(o-c,V+.5+c);n.closePath();n.fill();n.transform(0,1,1,0,0,0)}n.restore()};
function jW(D){av.call(this,D,!1,"brushbutton nopadding",19,10,da.hP,!0);var n=this.aoy;t.ES(n,"flexrow");
var _=t.L("div");n.appendChild(_);var b=t.L("div");n.appendChild(b);b.setAttribute("style","margin-left:8px");
this.Gb=new gu(null,null,!0);this.Gb.h(S.E.o,this.Sy,this);_.appendChild(this.Gb.m);this.r1=new gp([12,14,0],1,1e3," px",0,!0);
this.r1.h(S.E.o,this.Sy,this);b.appendChild(this.r1.m);this.OS=new gp([12,17],0,100,"%");this.OS.h(S.E.o,this.Sy,this);
b.appendChild(this.OS.m)}jW.prototype=new av;jW.prototype.E5=function(){var D=["pencil","trees"];for(var k=0;
k<D.length;k++)D[k]="brushes/"+D[k]+".abr";return D};jW.prototype.f=function(D,n,_){this.WQ=JSON.parse(JSON.stringify(D));
var b=Math.floor(20*t.F()),w=Math.floor(36*t.F()),i=Math.floor(24*t.F()),M=eg.N0(D,n,_,b,i,w);this.DU.setAttribute("src",M);
t.hB(this.DU,w,i);var N=D.Brsh.v;this.r1.f(N.Dmtr.v.val);if(N.Hrdn!=null){this.OS.jZ();this.OS.f(N.Hrdn.v.val)}else this.OS.Mf();
if(N.Angl!=null)this.Gb.f([N.Angl.v.val]);if(N.Rndn!=null)this.Gb.f([null,null,N.Rndn.v.val/100])};jW.prototype.G_=function(){return{list:[{t:"Objc",v:this.B()}],Nb:[],bn:[]}};
jW.prototype.B=function(){return this.WQ};jW.prototype.k2=function(){if(!this.VB)return;var D=[],n=[],_=this.xH,b=Math.floor(33*t.F()),w=Math.floor(40*t.F());
for(var k=0;k<_.list.length;k++){var i=_.list[k].v,M=eg.N0(i,_.Nb,_.bn,b,w);D.push(M);n.push(i.Nm.v.split("=").pop())}this.IP.KM(D,n,b,w);
this.VB=!1};jW.prototype.fs=function(D){var n=this.xH;this.f(n.list[this.IP.B()[0]].v,n.Nb,n.bn);this.c(new ho(S.E.o))};
jW.prototype._=function(){av.prototype._.call(this);this.Gb._();this.r1._();this.OS._()};jW.prototype.Sy=function(D){var n=this.xH,_=this.WQ,b=_.Brsh.v;
b.Dmtr.v.val=this.r1.B();if(b.Hrdn!=null)b.Hrdn.v.val=this.OS.B();if(b.Angl!=null)b.Angl.v.val=this.Gb.B()[0];
if(b.Rndn!=null)b.Rndn.v.val=Math.round(this.Gb.B()[2]*100);this.f(_,n.Nb,n.bn);this.c(new ho(S.E.o))};
function jb(D){av.call(this,D,!0,"contourbutton",17,10.5,da.kI)}jb.prototype=new av;jb.prototype.fs=function(D){this.f(this.xH[D.target.B()]);
this.c(new ho(S.E.o))};jb.prototype.xY=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.a_,Lt:"contoureditor",pj:this.WQ,response:this.agz.bind(this)};
this.c(n)};jb.prototype.agz=function(D){this.f(D);this.c(new ho(S.E.o))};jb.prototype.k2=function(){if(!this.VB)return;
var D=Math.floor(38*t.F()),n=Math.floor(38*t.F()),_=[],b=[],w=this.xH;for(var k=0;k<w.length;k++){b.push(w[k].Nm?w[k].Nm.v:"");
_.push(B.O1.N0(w[k].Crv.v,D,n))}this.IP.KM(_,b,D,n);this.VB=!1};jb.prototype.f=function(D){this.WQ=JSON.parse(JSON.stringify(D));
var n=this.WQ.Crv.v;for(var k=0;k<n.length;k++)if(n[k].v.Cnty==null)n[k].v.Cnty={t:"bool",v:!0};this.P7()};
jb.prototype.P7=function(){var D=Math.floor(30*t.F()),n=Math.floor(30*t.F()),_=B.O1.N0(this.WQ.Crv.v,D,n);
this.DU.setAttribute("src",_);t.hB(this.DU,D,n)};jb.prototype.B=function(){return JSON.parse(JSON.stringify(this.WQ))};
function jE(D){cA.call(this);this.Z7=null;this.Wc=null;this.mR=null;this.pf=null;this.alP=[];this.agD=[];
this.m=t.L("span","fitem fillbutton");this.jX=new cA;this.jX.m=t.L("div","floatcont form");this.jX.m.setAttribute("style","width: 21em;");
this.jX.parent=this;this.WY=D;this.Oz=this.Oz=t.L("label","flabel");this.m.appendChild(this.Oz);this.O=t.L("canvas");
this.aB=this.O.getContext("2d");this.ad4=null;this.m.appendChild(this.O);t.cc(this.O,this.uO.bind(this));
this.Pl=new aN([12,66],["","Color","Grad","Patt"]);this.jX.m.appendChild(this.Pl.m);this.Pl.h(S.E.o,this.Wk,this);
this.jX.m.appendChild(t.L("hr"));this.a87=t.L("span");this.If=new hU(!0);this.If.parent=this.jX;this.If.h(S.E.o,this.Wk,this);
this.qa=new eB(10);this.qa.h(S.E.o,this.Wk,this);this.Jk=t.L("div","marged hiline");this.Jk.appendChild(this.If.m);
t.f7(this.Jk);this.Jk.appendChild(this.qa.m);this.PS=new gy("GrFl",!0);this.PS.parent=this.jX;this.PS.h(S.E.o,this.Wk,this);
this.Hq=t.L("div","marged hiline");var n="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var k=0;
k<n.length;k++){var _=this.PS.Yo[n[k]].m;this.Hq.appendChild(_)}this.K4=new gy("patternFill",!0);this.K4.parent=this.jX;
this.K4.h(S.E.o,this.Wk,this);this.Or=t.L("div","marged hiline");var n=["Ptrn","Angl","Scl","Algn","phase"];
for(var k=0;k<n.length;k++){var _=this.K4.Yo[n[k]].m;this.Or.appendChild(_)}}jE.prototype=new cA;jE.prototype.gB=function(D,n){if(n==da.AW){this.alP=[];
this.agD=[];if(this.Z7)this.f(this.mR,this.B(),this.Z7)}this.Wc=D;this.PS.gB(D,n);this.K4.gB(D,n)};jE.prototype._=function(){this.Oz.textContent=io.get(this.WY)+": ";
this.Pl._();this.If._();this.PS._();this.K4._()};jE.prototype.Wk=function(D){var n=D.currentTarget;if(n==this.Pl){var _=this.Pl.B(),b={p5:_,Jh:this.Z7[_]};
if(_>0&&b.Jh==null)b.Jh=JSON.parse(JSON.stringify(ci.HL[_-1]));if(this.Z7)this.f(this.mR,b,this.Z7)}if(n==this.qa)this.If.p2(n.B());
this.c(new ho(S.E.o,!1))};jE.prototype.uO=function(D){if(t.Pn(this.jX.m))return;D.stopPropagation();
var n=this.O.getBoundingClientRect(),_=new ho(S.E.W,!0);_.data={d:S.J.Td,Vl:this.jX,x:n.left,y:n.top+n.height+4};
this.c(_);this.qa.f(this.If.aqE())};jE.prototype.f=function(D,n,_){this.Z7=_;this.mR=D;var b=[[13,1,0],[13,0],[12,37],[12,62]],w=this.alP,i=this.agD,M=!1,U;
for(var k=0;k<4;k++){var N={p5:k,Jh:_[k]},a=jE.ahE(N);if(i[k]==a)continue;M=!0;var o=jE.adK(null,N,this.Wc,this.mR,22,22,!1);
w[k]="<img width=\"22\" height=\"22\" src=\""+o+"\" />";i[k]=a}if(M)this.Pl.jb(w,b);this.Pl.f(n.p5);
var a=jE.ahE(n);if(a!=this.ad4)jE.adK(this.aB,n,this.Wc,this.mR,30,23,!0);this.ad4=a;var V=n.p5;if(V==0){U=this.a87}if(V==1){this.If.f(n.Jh.Clr.v);
U=this.Jk}if(V==2){this.PS.update(D,n.Jh);U=this.Hq}if(V==3){this.K4.update(D,n.Jh);U=this.Or}if(U!=this.pf){if(this.pf!=null){this.jX.m.removeChild(this.pf)}this.jX.m.appendChild(U);
this.pf=U}};jE.prototype.B=function(){var D={p5:this.Pl.B()};if(D.p5==1){D.Jh=JSON.parse(JSON.stringify(ci.HL[0]));
D.Jh.Clr.v=this.If.B()}if(D.p5==2){D.Jh=this.PS.B()}if(D.p5==3){D.Jh=this.K4.B()}return D};jE.ahE=function(D){var n=D.p5,_=D.Jh,b="empty";
if(n==1){b=B.X.kj(_.Clr.v);b=b.p+","+b.z+","+b.S}if(n==2)b=JSON.stringify(_.Grad.v);if(n==3)b=_.Ptrn.v.Idnt.v;
return b};jE.adK=function(D,n,_,b,w,i,M){if(D==null)D=jE.aB;var N=Math.floor(w*t.F()),a=Math.floor(i*t.F()),o=D.canvas,U;
o.width=N;o.height=a;t.hB(o,N,a);var V=n.p5;if(V==0){D.fillStyle="#ffffff";D.fillRect(0,0,N,a);D.strokeStyle="#ff0000";
D.lineWidth=2;D.moveTo(0,0);D.lineTo(N,a);D.moveTo(0,a);D.lineTo(N,0);D.stroke()}if(V==1){var c=n.Jh.Clr.v;
c=B.X.kj(c);D.fillStyle="#"+B.xQ(c.p<<16|c.z<<8|c.S);D.fillRect(0,0,N,a)}if(V==2){G.ne.N0(n.Jh.Grad.v,N,a,0,_.EH,_.Cp,o)}if(V==3){var E=n.Jh.Ptrn.v,A;
if(b!=null)A=aL.Qf(E,b.add.Patt);if(A==null)A=aL.Qf(E,_.wI);dG.N0(A,N,a,o)}if(M){D.beginPath();D.strokeStyle="#000000";
D.fillStyle="#ffffff";D.lineWidth=2;var Q=N*.7,J=Math.floor(a*.7),L=7*t.F();D.moveTo(Q,J);D.lineTo(Q+L,J);
D.lineTo(Q+L/2,J+L/2);D.closePath();D.stroke();D.fill()}if(D==jE.aB)return o.toDataURL()};jE.aB=t.L("canvas").getContext("2d");
function dG(D){av.call(this,D,!1,"patternbutton",18,10,da.AW);this.OU=null}dG.prototype=new av;dG.prototype.fs=function(D){var n=this.xH[this.IP.B()];
this.WQ={classID:"Ptrn",Nm:{t:"TEXT",v:n.name},Idnt:{t:"TEXT",v:n.id}};this.c(new ho(S.E.o));this.P7()};
dG.V$=!1;dG.prototype.k2=function(){if(!this.VB)return;var D=this.xH;if(D==null||!dG.V$){var n=new ho(S.E.W,!0);
n.data={d:S.J.Qd,hy:{url:"rsrc/basic/basic.pat"}};this.c(n);dG.V$=!0;return}var _=Math.floor(34*t.F()),b=Math.floor(34*t.F()),w=[],i=[];
for(var k=0;k<D.length;k++){w.push(dG.N0(D[k],_,b));i.push(D[k].name)}this.IP.KM(w,i,_,b);this.VB=!1};
dG.prototype.f=function(D,n){if(this.WQ&&D.Idnt.v==this.WQ.Idnt.v)return;this.WQ=JSON.parse(JSON.stringify(D));
this.P7(n)};dG.prototype.B=function(){return JSON.parse(JSON.stringify(this.WQ))};dG.prototype.G_=function(){return this.OU?[this.OU]:[]};
dG.prototype.P7=function(D){var n=Math.floor(50*t.F()),_=Math.floor(50*t.F()),b;if(D!=null)b=aL.Qf(this.WQ,D.add.Patt);
if(b==null)b=aL.Qf(this.WQ,this.xH);this.OU=b;var w=dG.N0(b,n,_);this.DU.setAttribute("src",w);t.hB(this.DU,n,_)};
dG.O=t.L("canvas","");dG.N0=function(D,n,_,b){if(b==null)b=dG.O;var w=b.getContext("2d");b.width=n;b.height=_;
if(D){var i=D.vt[1],M=i.l,N=i.e,a=D.vt[0],o=Math.min(n/M,_/N),U=o;if(U*M<2)U=2/M;var V=o;if(V*N<2)V=2/N;
var c=G.Q.XB([a,i],new e3(U,0,0,V,0,0),U>2),E=c.rect.l,A=c.rect.e,Q=w.createImageData(E,A);B.nb(c.buffer,Q.data);
w.putImageData(Q,Math.floor((n-E)/2),Math.floor((_-A)/2))}return b.toDataURL()};function bC(D,n,_){if(n==null)n=24.2;
if(_==null)_=17;av.call(this,D,!1,"patternbutton",n,_,da.bL);this.$w=""}bC.prototype=new av;bC.prototype.fs=function(D){this.WQ=JSON.parse(JSON.stringify(this.xH[0][this.IP.B()[0]]));
this.c(new ho(S.E.o))};bC.prototype.k2=function(){var D=this.xH;if(D==null||!this.VB)return;var n=Math.floor(50*t.F()),_=Math.floor(50*t.F()),b=[],w=[];
for(var k=0;k<D[0].length;k++){b.push(bC.N0(this.xH[0][k].Ui,n,_,this.xH[1]));w.push(D[0][k].fF.Nm.v.split("=").pop())}this.IP.KM(b,w,n,_);
this.VB=!1};bC.prototype.f=function(D,n,_,b){var w=JSON.stringify(D.Ui)+","+_+","+b;if(this.$w!=w){this.$w=w;
this.WQ=JSON.parse(JSON.stringify(D));this.P7(n,_,b)}};bC.prototype.B=function(){return JSON.parse(JSON.stringify(this.WQ))};
bC.prototype.P7=function(D,n,_){var b=Math.floor(68*t.F()),w=Math.floor(68*t.F()),i=bC.N0(this.WQ.Ui,b,w,D?D:this.xH[1],n,_);
this.DU.setAttribute("src",i);t.hB(this.DU,b,w)};bC.N0=function(D,n,_,b,w,i){var M=new ai;M.l=n;M.e=_;
M.buffer=B.U(n*_*4);M.add.Patt=b;M.U0(w==null?90:w);M.rH(i==null?30:i);var N=new gl(0,0,Math.round(n*.5),Math.round(_*.5));
N.x=Math.round((n-N.l)/2);N.y=Math.round((_-N.e)/2);var a=M.ni();a.rect=N;a.buffer=B.U(N.u()*4);B.o5(a.buffer,4284045657);
aL.aaq(D,a,.5*100);M.b.push(a);M.Wh();M.G();var o=p.b$;p.b$=!1;M.T2();var U=M.iS();p.b$=o;var V=eF.L_(U.buffer,M.l,M.e);
return V};function hD(D){av.call(this,null,!1,"tpresetbutton",18,24,da.Nu,!0);t.ad(this.m,"fitem");this.IP.mI(1);
this.id=D;this.P7();this.d.style.overflow="hidden";this.Gf=new dE([15,7,9]);this.Gf.f(!0);this.Gf.h(S.E.o,this.aj7,this);
this.I2.appendChild(this.Gf.m)}hD.prototype=new av;hD.prototype.atR=function(D){if(this.id==D)return;
this.id=D;this.Gx(this.xH)};hD.prototype.fs=function(D){var n=this.xH[this.IP.B()],_=new ho(S.E.W,!0);
_.data={d:S.J.VS,kr:"set",hy:da.Nu,T$:n};this.c(_)};hD.prototype._=function(){av.prototype._.call(this);
this.Gf._()};hD.prototype.aj7=function(){this.VB=!0;this.k2()};hD.prototype.k2=function(){if(!this.VB)return;
var D=Math.floor(16*t.F()),n=Math.floor(16*t.F()),_=[],b=[],w=this.xH,i=this.Gf.B();for(var k=0;k<w.length;
k++){var M=G.Ti(w[k]);if(!i||M==this.id){b.push(w[k][0]?w[k][0].split("=").pop():"");_.push(M==-1?"":PIMG[G.Jt[M][0]])}else{_.push(null);
b.push(null)}}this.IP.KM(_,b,D,n);this.VB=!1};hD.prototype.P7=function(){var D=this.DU;D.setAttribute("src",PIMG[G.Jt[this.id][0]]);
t.ES(D,"toolicon")};hD.prototype.G_=function(){return null};hD.zU={};hD.N0=function(D,n,_){var b=hD.aB,w=hD.zU,i=B.xQ(D.p<<16|D.z<<8|D.S);
if(w[i])return w[i];if(b==null){var M=t.L("canvas");b=hD.aB=M.getContext("2d")}var M=b.canvas;M.width=n;
M.height=_;b.fillStyle="#"+i;b.fillRect(0,0,n,_);var N=w[i]=M.toDataURL();return N};function g7(D,n,_){cA.call(this);
this.m=t.L("span","fitem curveeditor");this.zZ=null;this.a3B=0;this.sm="";this.mode=0;this.qt=D;this.a0s=n;
this.a0F=_;this.iC=null;this.vw=null;this.ar_=0;this.asq=0;this.Ak=new gZ;this.SD=this.JS.bind(this);
this.ar=this.PW.bind(this);this.zv=256;this.O=t.L("canvas");this.aB=this.O.getContext("2d");t.zk(this.O);
this.m.appendChild(this.O);this.R9(256,256);t.cc(this.O,this.oV.bind(this));this.coords=t.L("div","");
this.coords.setAttribute("style","width:250px");this.m.appendChild(this.coords);var b=this.D7=_?100:255,w=null;
this.gG=new fh("X (in):",0,b,w,0,!1,!0);this.W7=new fh("Y (out):",0,b,w,0,!1,!0);this.s4=new dE([19,3,0]);
this.gG.h(S.E.o,this.IO,this);this.W7.h(S.E.o,this.IO,this);this.s4.h(S.E.o,this.IO,this);this.coords.appendChild(this.gG.m);
if(_)this.coords.appendChild(this.s4.m);this.coords.appendChild(this.W7.m)}g7.prototype=new cA;g7.prototype._=function(){this.s4._()};
g7.prototype.R9=function(D,n){this.zv=Math.round(D);this.aB.resetTransform();t.vb(this.O,this.zv,this.zv,this.aB);
this.aB.scale(this.zv/256,this.zv/256);if(this.iC)this.$$()};g7.prototype.IO=function(D){var k=this.at5(),n=this.iC[k],_=255/this.D7;
n.v.Hrzn.v=this.gG.B()*_;n.v.Vrtc.v=this.W7.B()*_;if(this.a0F)n.v.Cnty.v=this.s4.B();this.iC.sort(function(b,w){return b.v.Hrzn.v-w.v.Hrzn.v});
this.$$();this.c(new ho(S.E.o))};g7.prototype.f=function(D,k){var n=JSON.stringify(D);if(n==JSON.stringify(this.iC))return;
this.mode=D.length==256?1:0;this.iC=JSON.parse(n);if(k!=null)this.vw=this.iC[k];this.$$()};g7.prototype.ZQ=function(D,n,_){this.zZ=D;
this.a3B=n;this.sm=_;this.$$()};g7.prototype.B=function(){return JSON.parse(JSON.stringify(this.iC))};
g7.prototype.at5=function(){return this.iC.indexOf(this.vw)};g7.prototype.oV=function(D){var n=256/this.zv,_=t.Wt(D,this.O);
_.x*=n;_.y*=n;var b=_.x,w=256-_.y;if(this.qt){var i=b;b=256-w;w=i}this.Ak.bq(b,w);if(this.mode==0){var M=0,N=1e9,c;
for(var k=0;k<this.iC.length;k++){var a=this.iC[k].v,o=a.Hrzn.v-b,U=a.Vrtc.v-w,V=Math.sqrt(o*o+U*U);
if(V<N){N=V;M=k}}if(N<15)c=this.iC[M];else{c=B.O1.YE(b,w,!0);this.iC.push(c);this.iC.sort(function(E,A){return E.v.Hrzn.v-A.v.Hrzn.v})}this.vw=c;
this.asq=this.iC.slice(0)}t.YP(document.body,this.SD);t.Gv(document.body,this.ar);this.JS(D)};g7.prototype.JS=function(D){var n=256/this.zv,_=t.Wt(D,this.O);
_.x*=n;_.y*=n;var b=_.x,w=256-_.y;if(this.qt){var i=b;b=256-w;w=i}if(this.mode==0){var M=this.iC,N=this.vw,a=this.asq,o=a.indexOf(N),U=M.indexOf(N)!=-1,V=a.length-1,c=b;
if(o==0){c=Math.max(0,Math.min(a[1].v.Hrzn.v-1,b))}else if(o==V){c=Math.min(255,Math.max(a[V-1].v.Hrzn.v+1,b))}else{var E=b<0||b>255||w<0||w>255;
if(b<=a[o-1].v.Hrzn.v||b>=a[o+1].v.Hrzn.v)E=!0;if(!E&&!U)M.splice(o,0,N);if(E&&U)M.splice(o,1)}if(this.a0s&&(o==0||o==a.length-1)){}else N.v.Hrzn.v=Math.round(c);
N.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(w)))}else{b=Math.round(b);w=Math.round(w);b=Math.max(0,Math.min(255,b));
w=Math.max(0,Math.min(255,w));var A=this.Ak.x,Q=b,J=this.Ak.y,L=w;if(b<this.Ak.x){Q=A;A=b;L=J;J=w}this.iC[b]=w;
if(A!=Q)for(var P=A;P<=Q;P++)this.iC[P]=Math.round(J+(P-A)*(L-J)/(Q-A))}this.Ak.bq(b,w);this.$$();this.c(new ho(S.E.o))};
g7.prototype.PW=function(D){t.yT(document.body,this.SD);t.pz(document.body,this.ar);this.c(new ho(S.E.o))};
g7.prototype.$$=function(){var D=this.aB,n=this.O;D.fillStyle="#ffffff";D.fillRect(0,0,256,256);var _=256/n.width;
if(this.zZ){D.save();D.translate(0,256);D.scale(1,-1);bY.a3Y(D,this.zZ,5700/this.a3B,this.sm);D.restore()}D.strokeStyle="#aaaaaa";
D.lineWidth=1*_;D.beginPath();for(var k=1;k<4;k++){var b=(Math.floor(64*k/_)+.5)*_;D.moveTo(0,b);D.lineTo(255,b);
D.moveTo(b,0);D.lineTo(b,255)}D.stroke();if(this.qt){D.save();D.transform(0,1,-1,0,256,0)}if(this.mode==0){var w=this.iC,i=B.O1.i8(w,256);
D.strokeStyle="#000000";D.beginPath();D.moveTo(0,255.5-i[0]);for(var k=0;k<256;k++)D.lineTo(k,255.5-i[k]);
D.stroke();D.lineWidth=2*_;for(var k=0;k<w.length;k++){var M=w[k].v;D.fillStyle=this.vw==w[k]?"#333":"#fff";
D.beginPath();D.moveTo(M.Hrzn.v,255.5-M.Vrtc.v);D.arc(M.Hrzn.v,255.5-M.Vrtc.v,5*_,0,2*Math.PI);D.stroke();
D.fill()}}else{var i=this.iC;D.strokeStyle="#000000";D.beginPath();D.moveTo(0,255.5-i[0]);for(var k=0;
k<256;k++)D.lineTo(k,255.5-i[k]);D.stroke()}if(this.qt)D.restore();var k=this.at5();this.coords.setAttribute("class",k==-1?"disabled":"");
if(k==-1)return;var M=this.iC[k].v,N=255/this.D7;this.gG.f(Math.round(M.Hrzn.v/N));this.W7.f(Math.round(M.Vrtc.v/N));
if(M.Cnty)this.s4.f(M.Cnty.v)};function bY(D,n){cA.call(this);this.m=t.L("span","");this.MN=new iw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.MN.h(S.E.o,this.vm,this);this.m.appendChild(this.MN.m);t.f7(this.m);this.O=t.L("canvas");var _=this.O;
this.m.appendChild(_);_.width=Math.round(D*t.F());_.height=Math.round(100*t.F());t.hB(_,_.width,_.height);
this.aB=_.getContext("2d");this.zZ=null;this.AE=0;this.afV=null;this.aa0=[];this.pH=[];var b=["Mean:","Pixels:"],w=this.m;
for(var k=0;k<b.length;k++){var i=new iL(b[k]);this.aa0.push(i);if(n)w.appendChild(i.m);var M=new iL("hi");
this.pH.push(M);if(n)w.appendChild(M.m);t.f7(w)}}bY.prototype=new cA;bY.prototype._=function(){this.MN._()};
bY.prototype.mI=function(D){this.MN.f(D);this.vm()};bY.prototype.f=function(D,n){this.zZ=D;this.afV=n;
this.vm()};bY.prototype.p2=function(D){if(D==this.AE)return;this.AE=D;this.vm()};bY.prototype.vm=function(){if(this.zZ==null)return;
var D=this.O,n=this.aB,_=this.zZ,b=this.afV,w=this.MN.B(),i=6e3/_[4],M="#"+B.xQ(this.AE),N=bY.a3Y;D.width=D.width;
n.setTransform(D.width/256,0,0,-D.height/100,0,D.height);n.globalCompositeOperation="lighter";if(w==0)N(n,_[0],i/3,M);
else if(w<4)N(n,_[w],i,M);else{N(n,_[1],i,"#ff0000");N(n,_[2],i,"#00ff00");N(n,_[3],i,"#0000ff")}n.setTransform(1,0,0,1,0,0);
if(b!=null){var a=0;for(var k=0;k<256;k++)a+=k*_[w][k];if(w==0)a/=3;this.pH[0].f((a/b).toFixed(1)+"");
this.pH[1].f(b+"")}};bY.a3Y=function(D,n,_,b){D.beginPath();D.moveTo(0,0);for(var w=0;w<256;w++)D.lineTo(w,n[w]*_);
D.lineTo(256,0);D.closePath();D.fillStyle=b;D.fill()};function dx(D){cA.call(this);this.mN={p:0,z:0,S:0};
if(Math.abs(D-256/t.F())<10)D=256/t.F();var n=this.m=t.L("div","flexrow");this.Kh=new gZ;this.ud=new gZ;
this.ko=this.ahU.bind(this);this.HW=this.als.bind(this);this.O=t.L("canvas","");this.aB=this.O.getContext("2d");
this.O.width=this.O.height=256;this.a2Z=this.aB.getImageData(0,0,256,256);this.ars=-1;t.zk(this.O);t.cc(this.O,this.abo.bind(this));
n.appendChild(this.O);this.agG=this.asu.bind(this);this.aje=this.afF.bind(this);this.kK=t.L("canvas","");
this.AP=this.kK.getContext("2d");this.kK.width=20;this.kK.height=256;this.a5Y=this.AP.getImageData(0,0,20,256);
dx.ahX(this.a5Y.data,20,256);t.zk(this.kK);t.cc(this.kK,this.a3i.bind(this));n.appendChild(this.kK);
this.O.setAttribute("style","width:"+D+"px; height:"+D+"px");this.kK.setAttribute("style","width:16px; height:"+D+"px")}dx.prototype=new cA;
dx.prototype.R9=function(D,n){this.O.style.width=D-16+"px"};dx.prototype.f=function(D){this.mN=D;this.update()};
dx.prototype.B=function(){return JSON.parse(JSON.stringify(this.mN))};dx.prototype.update=function(){var D=this.mN,n=B.CS(D.p,D.z,D.S);
if(n.Ky==0)n.cg=this.Kh.x/255;if(n.cg==0||n.Ky==0)n.Rw=(255-this.FU(this.ud.y))/255;if(n.Ky!=0)this.Kh.x=n.cg*255;
this.Kh.y=(1-n.Ky)*255;this.ud.y=(1-n.Rw)*255;var _=this.a2Z;if(Math.abs(n.Rw-this.ars)>.002){this.a7m(_.data,256,256,n.Rw);
this.ars=n.Rw}var b=this.aB;b.putImageData(_,0,0);b.strokeStyle="#000000";b.beginPath();b.arc(this.Kh.x+1,this.Kh.y+1,5,0,2*Math.PI);
b.stroke();b.strokeStyle="#ffffff";b.beginPath();b.arc(this.Kh.x,this.Kh.y,5,0,2*Math.PI);b.stroke();
_=this.a5Y;b=this.AP;b.putImageData(_,0,0);b.strokeStyle="#ffffff";b.beginPath();b.moveTo(0,this.ud.y);
b.lineTo(20,this.ud.y);b.lineWidth=2;b.stroke()};dx.prototype.a7m=function(D,n,_,b){var w=1/n,i=1/_;
for(var M=0;M<_;M++)for(var N=0;N<n;N++){var a=B.Ra(b,N*w,(_-M-1)*i),k=M*n+N<<2;D[k+0]=~~(a.p*255);D[k+1]=~~(a.z*255);
D[k+2]=~~(a.S*255);D[k+3]=255}};dx.ahX=function(D,n,_,b,w){if(b==null)b=1;if(w==null)w=0;var i=new Uint32Array(D.buffer);
for(var M=0;M<_;M++){var N=B.Ra((1+b*(1-M/_)+w)%1,1,1),a=255<<24|N.S*255<<16|N.z*255<<8|N.p*255;for(var o=0;
o<n;o++)i[M*n+o]=a}};dx.prototype.abo=function(D){t.YP(window,this.ko);t.Gv(window,this.HW);this.ahU(D)};
dx.prototype.als=function(D){t.yT(window,this.ko);t.pz(window,this.HW)};dx.prototype.ahU=function(D){var n=t.Wt(D,this.O);
n.x=n.x*(256/parseFloat(this.O.style.width));n.y=n.y*(256/parseFloat(this.O.style.height));this.Kh.bq(this.FU(n.x),this.FU(n.y));
this.bo()};dx.prototype.bo=function(){this.mN=this.a9Y();this.c(new ho(S.E.o))};dx.prototype.a9Y=function(){var D=B.Ra((255-this.FU(this.ud.y))/255,this.wD(this.Kh.x/255),this.wD(1-this.Kh.y/255));
return{p:D.p,z:D.z,S:D.S}};dx.prototype.a3i=function(D){t.YP(window,this.agG);t.Gv(window,this.aje);
this.asu(D)};dx.prototype.afF=function(D){t.yT(window,this.agG);t.pz(window,this.aje)};dx.prototype.asu=function(D){var n=t.Wt(D,this.kK);
n.y=n.y*(256/parseFloat(this.kK.style.height));this.ud.bq(this.FU(n.x),this.FU(n.y));this.bo()};dx.prototype.FU=function(D){return Math.max(0,Math.min(255,D))};
dx.prototype.wD=function(D){return Math.max(0,Math.min(1,D))};function de(D,n,_,b){var w=aN.qr(n,b);
aN.call(this,D,w,_)}de.prototype=new aN;function hq(){cA.call(this);this.dO=null;this.z9=new iB;this.z9.h(S.E.o,this.a8W,this);
this.z9.parent=this;this.IG=new fh([12,14,0],1,150,"px",0,!0);this.IG.h(S.E.o,this.KF,this);this.IG.parent=this;
this._k=new fh([16,0],.01,100,"px",2,!0,null,5);this._k.h(S.E.o,this.KF,this);this._k.parent=this;this.tc=new dE("Auto");
this.tc.h(S.E.o,this.KF,this);this.B$=new fh([16,1],-500,5e3,"%",0,!0);this.B$.h(S.E.o,this.KF,this);
this.B$.parent=this;this.Gy=new fh("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Gy.h(S.E.o,this.KF,this);
this.Gy.parent=this;this.AH=new fh("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.AH.h(S.E.o,this.KF,this);
this.AH.parent=this;this.EQ=new fh([16,2],-10,10,"px");this.EQ.h(S.E.o,this.KF,this);this.EQ.parent=this;
this.iu=new hU(!0);this.iu.h(S.E.o,this.v5,this);this.iu.parent=this;this.hZ=new hU(!0);this.hZ.h(S.E.o,this.v5,this);
this.hZ.parent=this;this.q5=new hU(!0);this.q5.h(S.E.o,this.v5,this);this.q5.parent=this;this.mX=new hU(!0);
this.mX.h(S.E.o,this.v5,this);this.mX.parent=this;this._q=new dE([2,3]);this._q.h(S.E.o,this.KF,this);
this.JM=new dE([14,9]);this.JM.h(S.E.o,this.KF,this);this.Um=new dE([12,46]);this.Um.h(S.E.o,this.KF,this);
this.KU=new bX("...",null,null,!0);this.KU.m.style.marginLeft="-8px";t.cc(this.KU.m,this.al4.bind(this));
this.jX=new cA;var D=this.jX.m=t.L("div","floatcont form");this.jX.parent=this;this.Yu=new fh([12,41],1,20,"px",0,!0,!0);
this.Yu.m.style.marginLeft="16px";this.Yu.h(S.E.o,this.KF,this);this.Yu.parent=this.jX;D.appendChild(this.hZ.m);
D.appendChild(this._q.m);t.f7(this.jX.m);D.appendChild(this.q5.m);D.appendChild(this.JM.m);D.appendChild(this.Yu.m);
t.f7(this.jX.m);D.appendChild(this.mX.m);D.appendChild(this.Um.m);this.bg=new bX("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.i9=new bX("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Qq=new bX("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.iF=new bX("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.TX=new bX("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Pp=new bX("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.ID=new bX("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.QR=new bX("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var n=[this.bg,this.i9,this.Qq,this.iF,this.TX,this.Pp,this.ID,this.QR];
for(var k=0;k<n.length;k++)n[k].h("click",this.acr,this);this.J7=new bX("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Ql=new bX("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Qh=new bX("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a53=new bX("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.a3k=new bX("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.anI=new bX("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a2_=new bX("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.$I=[this.J7,this.Ql,this.Qh,this.a53,this.a3k,this.anI,this.a2_];for(var k=0;k<this.$I.length;k++)this.$I[k].h("click",this.KF,this);
var _=["lind","rind","flind","bind","aind"],b=[];for(var k=0;k<5;k++)b.push("<img src=\""+PIMG["par/"+_[k]]+"\" class=\"autoscale gsicon\" /> ");
this.Yc=new fh(b[0],-20,20,"px");this.Yc.h(S.E.o,this.KF,this);this.Yc.parent=this;this.Fr=new fh(b[1],-20,20,"px");
this.Fr.h(S.E.o,this.KF,this);this.Fr.parent=this;this.wT=new fh(b[2],-20,20,"px");this.wT.h(S.E.o,this.KF,this);
this.wT.parent=this;this.QJ=new fh(b[3],-20,20,"px");this.QJ.h(S.E.o,this.KF,this);this.QJ.parent=this;
this.Gz=new fh(b[4],-20,20,"px");this.Gz.h(S.E.o,this.KF,this);this.Gz.parent=this;this.EI=new aN([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.EI.h(S.E.o,this.KF,this);this.EI.parent=this;this.z8=new fh(["Auto VAR0",[16,0]],0,500,"%");this.z8.h(S.E.o,this.KF,this);
this.z8.parent=this}hq.prototype=new cA;hq.prototype.al4=function(D){if(t.Pn(this.jX.m))return;D.stopPropagation();
var n=this.KU.m.getBoundingClientRect(),_=new ho(S.E.W,!0);_.data={d:S.J.Td,Vl:this.jX,x:n.left,y:n.top+n.height+4};
this.c(_)};hq.prototype._=function(){this.z9._();this.IG._();this._k._();this.B$._();this.EQ._();this.Gy._();
this.AH._();this._q._();this.JM._();this.Um._();this.Yu._();this.EI._();this.z8._()};hq.prototype.f=function(D,n,_){this.za=JSON.parse(JSON.stringify(D));
var b=this.za,w=b.OT,i=b.ew;this.bg.f(w.FauxBold!=null?w.FauxBold:!1);this.i9.f(w.FauxItalic!=null?w.FauxItalic:!1);
this.Qq.f(w.FontCaps==2);this.iF.f(w.FontCaps==1);this.Pp.f(w.FontBaseline==1);this.TX.f(w.FontBaseline==2);
this.ID.f(w.Underline);this.QR.f(w.Strikethrough);this.z9.f(w.Font==null?null:b.SY[w.Font].Name,n,_);
var M=w.FontSize==null?20:w.FontSize;this.IG.f(M);var N=w.Tracking;this.B$.f(N==null?0:N);this.Yu.f(w._LineWidth!=null?w._LineWidth:1);
this._k.f(w.Leading!=null&&w.Leading!=0?w.Leading:M);this.tc.f(w.AutoLeading);this.Gy.f((w.VerticalScale!=null?w.VerticalScale:0)*100);
this.AH.f((w.HorizontalScale!=null?w.HorizontalScale:0)*100);this.EQ.f(w.BaselineShift!=null?w.BaselineShift:0);
this._q.f(w.FillFlag!=null?w.FillFlag:!1);this.JM.f(w.StrokeFlag!=null?w.StrokeFlag:!1);this.Um.f(w._FillBackgroundFlag!=null?w._FillBackgroundFlag:!1);
this.GU(w.FillColor,this.iu);this.GU(w.FillColor,this.hZ);this.GU(w.StrokeColor,this.q5);this.GU(w._FillBackgroundColor,this.mX);
var a=i._Direction!=null?i._Direction:0,o=jg.BB(i);for(var k=0;k<this.$I.length;k++)this.$I[k].f(o==k);
this.EI.f(a);this.z8.f((i.AutoLeading!=null?i.AutoLeading:1.2)*100);this.Yc.f(i.StartIndent!=null?i.StartIndent:0);
this.Fr.f(i.EndIndent!=null?i.EndIndent:0);this.wT.f(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.QJ.f(i.SpaceBefore!=null?i.SpaceBefore:0);
this.Gz.f(i.SpaceAfter!=null?i.SpaceAfter:0)};hq.prototype.GU=function(D,n){if(D){var _=jg.kj(D);n.p2(Math.round(_.p)<<16|Math.round(_.z)<<8|Math.round(_.S))}else n.p2(0)};
hq.prototype.s$=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.VS,hy:da.WT,za:this.za};this.c(D);var D=new ho(S.E.M,!0);
D.g=G.vu;D.data={d:"updateStyles"};this.c(D)};hq.prototype.acr=function(D){var n=this.za.OT,_=D.target,b=!_.ME();
if(_==this.bg)n.FauxBold=b;if(_==this.i9)n.FauxItalic=b;if(_==this.Qq)n.FontCaps=b?2:0;if(_==this.iF)n.FontCaps=b?1:0;
if(_==this.Pp)n.FontBaseline=b?1:0;if(_==this.TX)n.FontBaseline=b?2:0;if(_==this.ID)n.Underline=b;if(_==this.QR)n.Strikethrough=b;
this.s$()};hq.prototype.KF=function(D){var n=this.za.OT,_=this.za.ew,b=D.target;if(b==this.B$){var w=this.B$.B();
n.Tracking=w}if(b==this._k){n.AutoLeading=!1;n.Leading=this._k.B()}if(b==this.tc){n.AutoLeading=this.tc.B()}if(b==this.Yu)n._LineWidth=b.B();
if(b==this.IG)n.FontSize=b.B();if(b==this.Gy)n.VerticalScale=b.B()/100;if(b==this.AH)n.HorizontalScale=b.B()/100;
if(b==this.EQ)n.BaselineShift=b.B();if(b==this._q)n.FillFlag=b.B();if(b==this.JM)n.StrokeFlag=b.B();
if(b==this.Um)n._FillBackgroundFlag=b.B();if(this.$I.indexOf(b)!=-1){_.Justification=jg.BB(_,this.$I.indexOf(b))}if(b==this.Yc)_.StartIndent=b.B();
if(b==this.Fr)_.EndIndent=b.B();if(b==this.wT)_.FirstLineIndent=b.B();if(b==this.QJ)_.SpaceBefore=b.B();
if(b==this.Gz)_.SpaceAfter=b.B();if(b==this.EI)_._Direction=b.B();if(b==this.z8)_.AutoLeading=b.B()/100;
this.s$()};hq.prototype.a8W=function(D){var n=this.za,_=this.z9.B(),b=-1;for(var k=0;k<n.SY.length;k++)if(n.SY[k].Name==_)b=k;
if(b==-1){b=n.SY.length;var w=JSON.parse(JSON.stringify(n.SY[0]));w.Name=_;n.SY.splice(b,0,w)}n.OT.Font=b;
this.s$()};hq.prototype.v5=function(D){var n=D.target,_=n.aqE(),b={Type:1,Values:[1,(_>>16&255)/255,(_>>8&255)/255,(_>>0&255)/255]};
for(var k=0;k<4;k++)b.Values[k]=Math.round(b.Values[k]*1e3)/1e3;var w=n==this.iu||n==this.hZ?0:n==this.q5?1:2;
this.za.OT[["FillColor","StrokeColor","_FillBackgroundColor"][w]]=b;this.s$()};function iB(){cA.call(this);
this.m=t.L("span","fontinput");this.d9=null;this.j5=null;this.Oa=null;this.Us="";this.Dc={};this.sE=[];
this.acT={};this.yQ=!1;this.Ap=t.L("button","fitem");this.Ap.setAttribute("style","width:9em;");this.Ap.textContent="Family Name \u25BC";
this.m.appendChild(this.Ap);t.cc(this.Ap,this.arM.bind(this));this.a4=new cA;this.a4.parent=this;this.a4.m=t.L("div","floatcont");
this.a4.m.addEventListener("keyup",this.abP.bind(this),!1);this.SR=new aW(6.8);this.a4.m.appendChild(this.SR.ac6());
this.SR.parent=this.a4;this.SR.h(S.E.o,this.Sr,this);var D=t.L("div","form");this.a4.m.appendChild(D);
this._A=new bX(t.ct("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this._A.h("click",this.akS,this);
D.appendChild(this._A.m);this.Ru=new gH([12,86],null,8.4);this.Ru.h("input",this.BF,this);D.appendChild(this.Ru.m);
var n=this.alR=new bX([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);n.h("click",this.ach,this);
n.m.style.marginLeft="1.5em";n.m.style.marginRight="0";D.appendChild(n.m);this.MV=t.L("span","fitem imageset scrollable");
this.MV.style.height="30em";this.a4.m.appendChild(this.MV);this.Cv=t.L("button","fitem");this.Cv.setAttribute("style","width:7em;");
this.Cv.textContent="SubFamily Name \u25BC";this.m.appendChild(this.Cv);t.cc(this.Cv,this.arM.bind(this));
this.Eu=new cA;this.Eu.parent=this;this.Eu.m=t.L("div","floatcont");this.tf=t.L("span","fitem imageset scrollable marged");
this.Eu.m.appendChild(this.tf)}iB.prototype=new cA;iB.prototype.abP=function(D){var n=0;if(dz.s9(D.code,dz.L3))n=-1;
if(dz.s9(D.code,dz.hb))n=1;if(n!=0){var _=this.sE,b=_.length,w=this.d9.SZ()[this.Oa];if(w==null&&b==0)return;
var i=_.indexOf(w[0]);if(i==-1)return;i=(i+n+b)%b;this.N7(_[i],null)}};iB.prototype.ach=function(){var D=new ho(S.E.W,!0);
D.data={d:S.J.YI,atM:".otf,.ttf,.ttc"};this.c(D)};iB.prototype._=function(){this.SR._();this.alR._();
this._A.v$(t.ct("tools/cshape",null,"autoscale"))};iB.prototype.akS=function(D){this._A.f(!this._A.ME());
this.Sr()};iB.prototype.BF=function(D){this.Us=this.Ru.B().toLowerCase();this.Sr()};iB.prototype.arM=function(D){t.I0(D);
var n=D.currentTarget,_=n.getBoundingClientRect(),b=n==this.Ap,w=b?this.a4:this.Eu;if(t.Pn(w.m)){this.aaE(w);
return}if(!b&&this.d9.SZ()[this.Oa]==null)return;var i=new ho(S.E.W,!0);i.data={d:S.J.Td,Vl:w,x:_.left,y:_.top+_.height};
this.c(i);if(b){this.Sr()}};iB.prototype.a2i=function(D){var n=D.currentTarget.firstChild.nextSibling.textContent;
if(D.target.tagName.toLowerCase()=="button"){var _=this.j5.slice(0),b=_.indexOf(n);if(b==-1){_=_.slice(Math.max(0,_.length-29));
_.push(n)}else _.splice(b,1);var w=new ho(S.E.W,!0);w.data={d:S.J.VS,hy:da.Ha,ub:_};this.c(w);this.yQ=!0;
this.Sr()}else{this.N7(n,null)}};iB.prototype.a6w=function(D){this.N7(null,D.currentTarget.firstChild.textContent)};
iB.prototype.N7=function(D,n){var _=D==null?this.Eu:this.a4,b=this.d9;if(D==null)D=b.SZ()[this.Oa][0];
else{var w=b.KG(D),i=b.SZ()[this.Oa];n=hI.rx(w,i?i[1]:"regular")}var M=b.Ac(D,n)[2];this.f(M,b);this.c(new ho(S.E.o,!1));
this.aaE(_);this.Sr()};iB.prototype.aaE=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.BD,Vl:D};this.c(n)};
iB.prototype.B=function(){return this.Oa};iB.prototype.f=function(D,n,_){var b=this.d9;if(D!=null)this.Oa=D;
else D=this.Oa;this.d9=n;this.j5=_;if(D!=null){var w=n.SZ()[D],i,M;if(w==null){i="- "+D;M="-------"}else{i=w[0];
M=w[1];var N=n.KG(i);N.sort(hI.a1c);var a=N.indexOf(M),o=this.a6w.bind(this);this.tf.textContent="";
for(var k=0;k<N.length;k++){var w=n.Ac(i,N[k]);if(!this.SR.eL(w))continue;var U=this.a0H(w,w[1],o,!1);
this.tf.appendChild(U)}}this.Ap.textContent=i.substring(0,15)+" \u25BC";this.Ap.setAttribute("title",i+", \""+D+"\"");
this.Cv.textContent=M.substring(0,10)+" \u25BC";this.Cv.setAttribute("title",M)}};iB.prototype.Sr=function(){var D=this.d9.SZ()[this.Oa],n=this.j5,_=null,b=this.d9.acy(),w=this.a2i.bind(this);
this.sE=[];for(var i in b){var M=hI.rx(b[i],"regular"),N=this.d9.Ac(i,M),a=n.indexOf(i)!=-1,o=!0;if(this.Us.length>0&&N[0].toLowerCase().indexOf(this.Us)==-1)o=!1;
else if(!this.SR.eL(N))o=!1;else if(this._A.ME()&&!a)o=!1;var U=this.Dc[i];if(U==null){var U=this.a0H(N,i,w,!0);
this.Dc[i]=U;this.MV.appendChild(U)}if(o)this.sE.push(i);var V=o?"":"display:none; ",c="opacity: "+(a?"1":"0.2");
if(D&&D[0]==i){V+="background-color:rgba(0,0,0,0.13);";_=U}if(this.acT[i]!=V+c){U.setAttribute("style",V);
U.firstChild.setAttribute("style",c);this.acT[i]=V+c}}if(_&&!this.yQ)this.MV.scrollTop=_.offsetTop-210;
this.yQ=!1};iB.prototype.a0H=function(D,n,_,b){var w=t.L("div","fontitem"),a="";w.addEventListener("click",_,!1);
if(b)w.appendChild(t.L("button","star"));var i=t.L("span","label");i.setAttribute("title",n);i.textContent=n;
w.appendChild(i);var M=t.F(),N=1/M,o=hI.JI*N,U=hI.uc*N;if(1<M&&M<1.5)a="width:"+o+"px; height:"+U+"px;";
var V=t.L("span","thumb gsicon");if(D.a8F){a+="background: url("+D.a8F+");";if(1<M&&M<1.5)a+="background-size: "+o+"px "+U+"px;"}else{var c=Math.ceil(FNTS.list.length/hI.cols),E=Math.floor(D.gH/c),A=D.gH%c,Q=E*hI.JI,J=A*hI.uc;
if(1<M&&M<1.5){a+="background-size: "+hI.cols*o+"px "+c*U+"px;";Q*=N;J*=N}a+="background-position:-"+Q+"px -"+J+"px;"}V.setAttribute("style",a);
w.appendChild(V);return w};function aW(D){cA.call(this);this.m=t.L("button","fitem bbtn");this.m.addEventListener("click",this.aiL.bind(this),!1);
this.jX=new cA;this.jX.m=t.L("div","floatcont");this.jX.parent=this;this.Xa=t.L("div","flexrow");this.jX.m.appendChild(this.Xa);
this.WA=[];this.QD=[];var n=this.Xa,_=t.L("div",""),b=t.L("div","");n.appendChild(_);n.appendChild(b);
this.y8=[];for(var k=0;k<FNTS.cats.length;k++)this.y8.push({name:FNTS.cats[k],index:k,Sp:0});this.fx=new dE([7,0]);
this.fx.f(!0);this.fx.h(S.E.o,this.aoG,this);_.appendChild(this.fx.m);this.rr=t.L("div","vlist marged scrollable");
this.rr.setAttribute("style","width:10.3em; height:"+D+"em; ");_.appendChild(this.rr);this.TN=[];for(var k=0;
k<this.y8.length;k++){var w=this.y8[k],i=new dE(w.name);this.TN.push(i);i.h(S.E.o,this.a3r,this);i.f(!0);
this.rr.appendChild(i.m);this.WA.push(1)}this.afp=new dE([7,0]);this.afp.h(S.E.o,this.ajt,this);this.oy=t.L("div","vlist marged scrollable");
this.oy.setAttribute("style","width:8.6em; height:"+(D+1.5)+"em; ");b.appendChild(this.oy);this.Yq=[];
for(var k=0;k<FNTS.subsetNames.length;k++){var i=new dE(FNTS.subsetNames[k]);this.Yq.push(i);i.h(S.E.o,this.agj,this);
i.f(!1);this.oy.appendChild(i.m);this.QD.push(0)}}aW.prototype=new cA;aW.prototype.a12=function(D){var n=this.Yq;
for(var k=0;k<n.length;k++){var _=(D>>>k&1)==1;this.QD[k]=_;n[k].f(_)}};aW.prototype.ac6=function(){return this.Xa};
aW.prototype._=function(){this.m.textContent=io.get([25,1,0])+" \u25BC";this.fx._();this.afp._()};aW.prototype.aiL=function(D){var n=this.m.getBoundingClientRect(),_=new ho(S.E.W,!0);
_.data={d:S.J.Td,Vl:this.jX,x:n.left,y:n.top+n.height,xK:!1};this.c(_)};aW.prototype.eL=function(D){if(this.WA[D[4]]==0)return!1;
else for(var n=0;n<this.QD.length;n++)if(this.QD[n]==1&&(D[3]>>>n&1)==0)return!1;return!0};aW.prototype.aoG=function(D){var n=D.target.B(),_=this.TN,b=this.WA;
for(var k=0;k<_.length;k++){_[k].f(n);b[k]=n?1:0}this.c(new ho(S.E.o,!1))};aW.prototype.ajt=function(D){var n=D.target.B(),_=this.Yq,b=this.QD;
for(var k=0;k<_.length;k++){_[k].f(n);b[k]=n?1:0}this.c(new ho(S.E.o,!1))};aW.prototype.a3r=function(D){var k=this.TN.indexOf(D.target),n=this.y8[k].index;
this.WA[n]=1-this.WA[n];this.c(new ho(S.E.o,!1))};aW.prototype.agj=function(D){var k=this.Yq.indexOf(D.target);
this.QD[k]=1-this.QD[k];this.c(new ho(S.E.o,!1))};function hl(D,n,_){av.call(this,n,!0,"gradientbutton",18,10,da.$v);
this.EH=-1;this.Cp=-1;this.a2R=null;this.al9=D;this.Di=_}hl.prototype=new av;hl.prototype.fs=function(D){var n=this.xH;
this.f(n[this.IP.B()]);this.c(new ho(S.E.o))};hl.prototype.xY=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.a_,Lt:"gradienteditor",X:this.WQ,vJ:this.a0g.bind(this),E4:this.Di};
this.c(n)};hl.prototype.a0g=function(D){this.f(D);this.c(new ho(S.E.o))};hl.prototype.k2=function(){if(!this.VB)return;
var D=Math.floor(36*t.F()),n=Math.floor(36*t.F()),_=[],b=[],w=this.xH;for(var k=0;k<w.length;k++){var i=w[k];
b.push(i.Nm?i.Nm.v.split("=").pop():"");var M=G.ne.N0(i,D,n,Math.PI/4,this.EH,this.Cp);_.push(M)}this.IP.KM(_,b,D,n);
this.VB=!1};hl.prototype.XV=function(D,n){this.akI(this.WQ,D,n)};hl.prototype.f=function(D){this.akI(D,this.EH,this.Cp)};
hl.prototype.akI=function(D,n,_){this.EH=n;this.Cp=_;if(D==null)return;var b=JSON.stringify(D),w=b+n+","+_;
if(w==this.a2R)return;this.a2R=w;this.WQ=JSON.parse(b);var i=Math.floor(80*t.F()),M=Math.floor(16*t.F()),N=G.ne.N0(this.WQ,i,M,0,this.EH,this.Cp);
this.DU.setAttribute("src",N);t.hB(this.DU,i,M)};hl.prototype.B=function(){var D;if(this.al9)D=G.ne.ajb(this.WQ,this.EH,this.Cp);
else D=JSON.parse(JSON.stringify(this.WQ));return D};function es(D){av.call(this,D,!1,"swatchbutton",16,8.75,da.c4)}es.prototype=new av;
es.prototype.fs=function(D){this.f(this.xH[D.target.B()]);this.c(new ho(S.E.o))};es.prototype.k2=function(){if(!this.VB)return;
var D=Date.now(),n=Math.floor(10*t.F()),_=Math.floor(10*t.F()),b=[],w=[],i=this.xH;for(var k=0;k<i.length;
k++){w.push(i[k].JP?i[k].JP.split("=").pop():"");b.push(es.N0(i[k],n,_))}this.IP.KM(b,w,n,_);this.VB=!1};
es.prototype.f=function(D){this.WQ=JSON.parse(JSON.stringify(D));this.P7()};es.prototype.P7=function(){var D=Math.floor(24*t.F()),n=Math.floor(20*t.F()),_=es.N0(this.WQ,D,n);
this.DU.setAttribute("src",_);t.hB(this.DU,D,n)};es.prototype.B=function(){return JSON.parse(JSON.stringify(this.WQ))};
es.zU={};es.N0=function(D,n,_){var b=es.aB,w=es.zU,i=B.xQ(D.p<<16|D.z<<8|D.S);if(w[i])return w[i];if(b==null){var M=t.L("canvas");
b=es.aB=M.getContext("2d")}var M=b.canvas;M.width=n;M.height=_;b.fillStyle="#"+i;b.fillRect(0,0,n,_);
var N=w[i]=M.toDataURL();return N};function h3(D,n,_,b,w){if(D==null)D=!1;if(n==null)n=!1;if(_==null)_=!1;
cA.call(this);this.Tg=new gZ;this.Ga=new gZ;this.D_=72;this.b9=72;this.J1=!0;this.m=t.L("span");this.iU=new fh([12,41],0,0,null,0,!1,!0);
this.m.appendChild(this.iU.m);this.iU.h(S.E.o,this.Wk,this);var i=["px","%"];if(D)i=i.concat(["mm","in"]);
if(w){i=[[12,76,2],[12,76,6]];if(D)i=i.concat([[12,76,5],[12,76,3]])}this.DK=new iw(null,i);this.m.appendChild(this.DK.m);
t.f7(this.m);this.DK.h(S.E.o,this.Wk,this);this.OH=new fh([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.OH.m);
this.OH.h(S.E.o,this.Wk,this);var M=new bX("\u21F5",!1,null,!0);M.h("click",this.ab0,this);this.rc=new bX("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.rc.h("click",this.Wk,this);this.aqR=new iL("");if(n){this.m.appendChild(this.rc.m);this.m.appendChild(this.aqR.m);
this.rc.im()}else this.m.appendChild(M.m);this.IS=new fh("DPI",0,0,null,3,!1,!0,4);if(D&&b==null){t.f7(this.m);
this.m.appendChild(this.IS.m)}this.IS.h(S.E.o,this.Wk,this);this.mo=new dE([12,23,1]);this.mo.h(S.E.o,this.Wk,this);
if(_){t.f7(this.m);this.m.appendChild(this.mo.m)}t.f7(this.m)}h3.prototype=new cA;h3.prototype.Lm=function(){this.iU.Lm()};
h3.prototype.ao6=function(){this.J1=!1;if(this.DK.B()==0){this.DK.f(3);this.y_()}};h3.prototype.a9v=function(){this.J1=!0};
h3.prototype.aqc=function(D){this.rc.f(D)};h3.prototype._=function(){this.iU._();this.OH._();this.IS._();
this.rc._();this.mo._();this.DK._()};h3.prototype.ab0=function(D){var n=this.Ga.x;this.Ga.x=this.Ga.y;
this.Ga.y=n;this.y_();this.c(new ho(S.E.o,!1))};h3.prototype.Wk=function(D){if(D.target==this.DK&&!this.J1&&this.DK.B()==0)this.DK.f(3);
if(D.target==this.DK||D.target==this.mo){this.y_();return}if(D.target==this.rc)D.target.f(!D.target.B());
var n=this.Tg,_=parseFloat(this.iU.B());if(isNaN(_))_=1;var b=parseFloat(this.OH.B());if(isNaN(b))b=1;
var w=this.DK.B();if(this.J1){var i=this.b9;if(w==1){_=this.Tg.x*(_/100);b=this.Tg.y*(b/100)}var M=[1,1,25.4/i,1/i][w];
_/=M;b/=M;if(this.mo.B()){_+=this.Tg.x;b+=this.Tg.y}if(D.target==this.IS){var N=this.IS.B();if(!0){var a=N/i;
_*=a;b*=a}i=N}if(this.rc.B()){if(D.target==this.iU)b=_*(n.y/n.x);else _=b*(n.x/n.y)}_=Math.max(Math.abs(_),1);
b=Math.max(Math.abs(b),1)}else{var i=this.D_;if(D.target==this.IS)i=this.IS.B();else{if(this.rc.B()){if(D.target==this.iU)b=_*(n.y/n.x);
else _=b*(n.x/n.y)}var M=[1,1,25.4/i,1/i][w],o=_/(w==1?100:n.x*M);i=i/o}_=n.x;b=n.y}this.Ga=new gZ(Math.round(_),Math.round(b));
this.b9=i;this.y_();this.c(new ho(S.E.o,!1))};h3.prototype.ann=function(k){this.DK.f(k);this.y_()};h3.prototype.f=function(D,n,_){if(_!=!0)this.Tg=D.clone();
this.Ga=D.clone();if(n!=null){this.D_=n;this.b9=n}this.y_()};h3.prototype.y_=function(){var D=this.Ga.x,n=this.Ga.y,_=this.b9,b=(D/n).toFixed(3);
while(b.charAt(b.length-1)=="0")b=b.substring(0,b.length-1);if(b.charAt(b.length-1)==".")b=b.substring(0,b.length-1);
var w="  "+b+" : 1",i=function(U,V){while(V!=0){var c=V;V=U%V;U=c}return U},M=i(D,n);if(Math.min(D,n)/M<10)w="  "+Math.round(D/M)+" : "+Math.round(n/M);
this.aqR.f(w);if(this.mo.B()){D-=this.Tg.x;n-=this.Tg.y}var N=this.DK.B();if(N==1){if(this.J1){D=100*D/this.Tg.x;
n=100*n/this.Tg.y}else{D=n=100*this.D_/this.b9}}else{D=Math.round(D);n=Math.round(n)}var a=[1,1,25.4/_,1/_][N];
D*=a;n*=a;var o=N==1||N==3?2:0;this.iU.dj(o);this.OH.dj(o);this.iU.f(D);this.OH.f(n);this.IS.f(_)};h3.prototype.B=function(){return this.Ga.clone()};
h3.prototype.XY=function(){return this.b9};function cu(D,n){cA.call(this);var _=D==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.oQ=D;this.ah_=n;this.Ma=1;this.vY=[1,1,0];var b=this.m=t.L("div","numlist"),w=this.Xf=[];for(var k=0;
k<4;k++){var i=new fh(_[k],0,0,null,2,!1,!0,4);i.h(S.E.o,this.Wk,this);b.appendChild(i.m);w[k]=i;if(k==1||k==3)t.f7(b)}w[4]=new dE(D==0?[12,51]:[12,91,2]);
w[4].f(!0);b.appendChild(w[4].m)}cu.prototype=new cA;cu.prototype._=function(){var D=this.Xf;for(var k=0;
k<5;k++)D[k]._();if(this.oQ==0)t.OD(D[0],D[2])};cu.prototype.f=function(D,n,_){if(n)this.vY=n;n=this.vY;
var b=_?D:this.oQ==0?[D[2],D[0],D[3],D[1]]:[D[0],D[1],D[3],D[2]];this.Ma=b[0]/b[2];for(var k=0;k<4;k++){var w=this.Xf[k];
w.dj(n[2]==0&&this.ah_?0:2);w.f(B.Hj.asW(b[k],n[0],n[1],n[2]))}};cu.prototype.B=function(D){var n=[],_=this.vY;
for(var k=0;k<4;k++){var b=B.Hj.K9(this.Xf[k].B(),_[0],_[1],_[2]);n[k]=this.ah_?Math.round(b):b}return D?n:this.oQ==0?[n[1],n[3],n[0],n[2]]:[n[0],n[1],n[3],n[2]]};
cu.prototype.Wk=function(D){var n=this.oQ,_=this.Xf.indexOf(D.currentTarget),b=this.B(!0),w=this.Xf[4].B();
if(n==0){b[0]=Math.max(1,b[0]);b[2]=Math.max(1,b[2]);if(w&&_==0)b[2]=b[0]/this.Ma;if(w&&_==2)b[0]=b[2]*this.Ma}if(n==1){b[_]=Math.max(0,b[_]);
if(w)for(var k=0;k<4;k++)b[k]=b[_]}this.f(b,null,!0);this.c(new ho(S.E.o,!1))};function cH(){cA.call(this);
this.Xc=0;this.pH=[0,0,1,1,100,100];this.m=t.L("span","fitem");this.pu=new iw(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.pu.m);this.pu.h(S.E.o,this.Wk,this);this.iU=new fh("W",0,0,null,0,!1,!0);this.m.appendChild(this.iU.m);
this.iU.h(S.E.o,this.Wk,this);this.OH=new fh("H",0,0,null,0,!1,!0);this.m.appendChild(this.OH.m);this.OH.h(S.E.o,this.Wk,this);
this.f({hH:0,x:0,y:0})}cH.prototype=new cA;cH.prototype._=function(){t.OD(this.iU,this.OH);this.pu._()};
cH.prototype.Wk=function(D){if(D.target==this.pu){var n=this.B(),_=this.pH;_[this.Xc*2]=n.x;_[this.Xc*2+1]=n.y;
this.Xc=n.hH;this.f({hH:n.hH,x:_[n.hH*2],y:_[n.hH*2+1]})}if(this.iU.B()<1)this.iU.f(1);if(this.OH.B()<1)this.OH.f(1);
this.c(new ho(S.E.o,!1))};cH.prototype.f=function(D){this.pu.f(D.hH);this.iU.f(D.x);this.OH.f(D.y);if(D.hH==0){this.iU.Mf();
this.OH.Mf()}else{this.iU.jZ();this.OH.jZ()}};cH.prototype.B=function(){return{hH:this.pu.B(),x:this.iU.B(),y:this.OH.B()}};
function ed(D){cA.call(this);this.m=t.L("span","");this.a7U=D;this.vO=new d4("Off X",-100,100,D?"%":"px",0,!1);
this.IE=new d4("Off Y",-100,100,D?"%":"px",0,!1);this.vO.h(S.E.o,this.Wk,this);this.IE.h(S.E.o,this.Wk,this);
this.m.appendChild(this.vO.m);this.m.appendChild(this.IE.m)}ed.prototype=new cA;ed.prototype._=function(){this.vO._();
this.IE._()};ed.prototype.Wk=function(D){this.c(new ho(S.E.o,!1))};ed.prototype.ad3=function(D){this.vO.f(D.x);
this.IE.f(D.y)};ed.prototype.agY=function(){return new gZ(this.vO.B(),this.IE.B())};ed.prototype.f=function(D,n){var _=D.Hrzn.v,b=D.Vrtc.v;
if(this.a7U){_=_.val;b=b.val}this.vO.f(_);this.IE.f(b);if(n==!0)this.Wk()};ed.prototype.B=function(){var D=this.vO.B(),n=this.IE.B();
if(this.a7U)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:D}},Vrtc:{t:"UntF",v:{type:"#Prc",val:n}}};
else return{classID:"Pnt",Hrzn:{v:D,t:"doub"},Vrtc:{v:n,t:"doub"}}};function aw(){cA.call(this);this.m=t.L("span","fitem strokebutton");
this.a2=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.xN=JSON.parse(JSON.stringify(ci.yg.default));
this.Jb=t.L("button");this.m.appendChild(this.Jb);t.cc(this.m,this.uO.bind(this));var D=t.L("canvas","gsicon");
this.aB=D.getContext("2d");this.Jb.appendChild(D);var n=t.L("span");n.textContent=" \u25BC";this.Jb.appendChild(n);
this.jX=new cA;this.jX.parent=this;this.jX.m=t.L("div","floatcont form");var _=this.jX.m;_.setAttribute("style","width: 14em;");
this.Dc=[new iw([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new aN([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new aN([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new gH([19,9,2])];
for(var k=0;k<this.Dc.length;k++){var b=this.Dc[k];_.appendChild(b.m);var w=k<4?S.E.o:"click";b.h(w,this.Wk,this)}t.f7(_);
this.Dg=[];var i=this.ab1.bind(this);for(var k=0;k<this.a2.length;k++){var M=t.L("button","fitem");this.Dg.push(M);
_.appendChild(M);M.addEventListener("click",i,!1);var D=t.L("canvas","gsicon"),N=D.getContext("2d");
M.appendChild(D);this.af5(N,40,20,this.a2[k])}}aw.prototype=new cA;aw.prototype.uO=function(D){if(t.Pn(this.jX.m))return;
D.stopPropagation();var n=this.Jb.getBoundingClientRect(),_=new ho(S.E.W,!0);_.data={d:S.J.Td,Vl:this.jX,x:n.left,y:n.top+n.height+4};
this.c(_)};aw.prototype.Wk=function(D){var n=this.Dc,_=n.indexOf(D.target),b=[];for(var k=0;k<4;k++)b.push(n[k].B());
this.xN=this.apy(b);this.c(new ho(S.E.o,!1))};aw.prototype.ab1=function(D){var n=this.Dg.indexOf(D.currentTarget);
this.f(this.apy(this.a2[n]));this.c(new ho(S.E.o,!1))};aw.prototype.apy=function(D){var n=JSON.parse(JSON.stringify(this.xN)),_=D[0],b=D[1],w=D[2],i=D[3];
if(_!=null)n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=ci.yg.l9[_];if(b!=null)n.strokeStyleLineCapType.v.strokeStyleLineCapType=ci.yg.Xr[b];
if(w!=null)n.strokeStyleLineJoinType.v.strokeStyleLineJoinType=ci.yg.join[w];var M=n.strokeStyleLineDashSet.v=[];
i=i.split(" ");while((i.length&1)!=0)i.pop();for(var k=0;k<i.length;k++)M.push({t:"UntF",v:{type:"#Nne",val:parseInt(i[k])}});
return n};aw.prototype._=function(){for(var k=0;k<this.Dc.length;k++)this.Dc[k]._()};aw.prototype.f=function(D){this.xN=JSON.parse(JSON.stringify(D));
var n=ci.yg.l9.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment),_=ci.yg.Xr.indexOf(D.strokeStyleLineCapType.v.strokeStyleLineCapType),b=ci.yg.join.indexOf(D.strokeStyleLineJoinType.v.strokeStyleLineJoinType),w=[],i=D.strokeStyleLineDashSet.v;
for(var M=0;M<i.length;M++)w.push(i[M].v.val);var N=this.Dc;N[0].f(n);N[1].f(_);N[2].f(b);N[3].f(w.join(" "));
var a=[];for(var k=0;k<4;k++)a.push(N[k].B());this.af5(this.aB,40,16,a)};aw.prototype.B=function(){return JSON.parse(JSON.stringify(this.xN))};
aw.prototype.af5=function(D,n,_,b){var w=b[0],i=b[1],M=b[2],N=b[3].split(" ").map(parseFloat);t.vb(D.canvas,n,_);
var a=Math.min(5,this.xN.strokeStyleLineWidth.v.val);for(var k=0;k<N.length;k++)N[k]*=a;D.clearRect(0,0,n,_);
D.setLineDash(N);D.lineCap=["butt","round","square"][i];D.lineJoin=["miter","round","bevel"][M];D.lineWidth=a;
D.beginPath();D.moveTo(0,_/2);D.lineTo(n*2,_/2);D.stroke()};function eW(D){av.call(this,D,!1,"contourbutton",34,16,da.Yp,!0);
this.Ru=new gH([12,86],null,16);this.Ru.h("input",this.BF,this);this.jX.m.appendChild(this.Ru.m);this.my=null;
this.Us="";this.Zu=null;this.f(cR.D2())}eW.prototype=new av;eW.prototype._=function(){av.prototype._.call(this);
this.Ru._()};eW.prototype.fs=function(D){this.f(this.my[D.target.B()[0]]);this.c(new ho(S.E.o))};eW.prototype.BF=function(D){this.Us=this.Ru.B().toLowerCase();
this.alo()};eW.V$=!1;eW.prototype.k2=function(){if(!this.VB)return;var D=this.xH;if(D==null||!eW.V$){var n=new ho(S.E.W,!0);
n.data={d:S.J.Qd,hy:{url:"rsrc/basic/fa_basic.csh"}};this.c(n);eW.V$=!0}else{var _=Math.floor(38*t.F()),b=Math.floor(38*t.F());
this.Zu=[];for(var k=0;k<D.length;k++)this.Zu.push(eW.a8r(D[k],_,b));this.alo();this.VB=!1}};eW.prototype.alo=function(){var D=Math.floor(38*t.F()),n=Math.floor(38*t.F());
this.my=[];var _=[],b=[],w=this.xH;for(var k=0;k<w.length;k++){if(w[k].bi.toLowerCase().indexOf(this.Us)==-1)continue;
this.my.push(w[k]);_.push(this.Zu[k]);b.push(w[k].bi)}this.IP.KM(_,b,D,n)};eW.prototype.f=function(D){this.WQ=eW.clone(D);
this.P7()};eW.prototype.P7=function(){var D=Math.floor(23*t.F()),n=Math.floor(23*t.F()),_=eW.a8r(this.WQ,D,n);
this.DU.setAttribute("src",_);t.hB(this.DU,D,n)};eW.prototype.B=function(){return eW.clone(this.WQ)};
eW.clone=function(D){return{bi:D.bi,fF:D.fF,Y:q.IQ.n$(D.Y),PH:D.PH.clone()}};eW.O=null;eW.qi=null;eW.a8r=function(D,n,_){var b=q.IQ.n$(D.Y),w=D.PH,i=Math.min(n/w.l,_/w.e)*.9,M=new e3;
M.translate(-.5,-.5);M.scale(.95,.95);M.translate(.5,.5);M.scale(i*w.l,i*w.e);B.$.vZ(b,M);var N=new q.IQ;
N.Y=b;var a=N.us();a.rect.x=Math.floor((n-a.rect.l)/2);a.rect.y=Math.floor((_-a.rect.e)/2);var o=B.U(a.rect.u()*4);
B.tD(a.channel,o,3);var U=eW;if(U.O==null)U.O=t.L("canvas");var V=U.O,c=V.getContext("2d");if(V.width!=n||V.height!=_||U.qi==null){V.width=n;
V.height=_;U.qi=c.createImageData(n,_)}var E=U.qi;E.data.fill(0);B.E3(o,a.rect,E.data,new gl(0,0,n,_));
c.putImageData(E,0,0);return V.toDataURL()};function eN(D){av.call(this,D,!1,"ICCButton",16,12,da.jN,!0);
this.IP.mI(1)}eN.prototype=new av;eN.prototype.E5=function(){var D="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var k=0;k<D.length;k++)D[k]="luts/"+D[k]+".CUBE";return D};eN.prototype.fs=function(D){this.f(this.xH[D.target.B()]);
this.c(new ho(S.E.o))};eN.prototype.k2=function(){if(!this.VB)return;var D=Math.floor(1*t.F()),n=Math.floor(1*t.F()),_=[],b=[],w=this.xH;
for(var k=0;k<w.length;k++){var i=w[k].Nm.v.split("\\").pop().split("/").pop();b.push(i);_.push(eN.N0(w[k],D,n))}this.IP.KM(_,b,D,n);
this.VB=!1};eN.prototype.f=function(D){this.WQ=JSON.parse(JSON.stringify(D));this.P7()};eN.N0=function(D,n,_){var b=t.L("canvas"),M="ICC / 3DL / look / cube";
b.width=n;b.height=_;var w=b.getContext("2d"),i=Math.floor(14*t.F());w.font=i+"px sans-serif";if(D.Nm)M=D.Nm.v.split("\\").pop().split("/").pop();
w.fillText(M,10,i);return b.toDataURL()};eN.prototype.P7=function(){var D=Math.floor(120*t.F()),n=Math.floor(20*t.F());
this.DU.setAttribute("src",eN.N0(this.WQ,D,n));t.hB(this.DU,D,n)};eN.prototype.B=function(){return JSON.parse(JSON.stringify(this.WQ))};
function hx(){cA.call(this);this.mN=null;this.m=t.L("span","fitem");this.Sa=new jE([14,9]);this.eg=new fh(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Ce=new aw;this.eA=[this.Sa,this.eg,this.Ce];for(var k=0;k<this.eA.length;k++){var D=this.eA[k];
this.m.appendChild(D.m);D.parent=this;D.h(S.E.o,this.Wk,this)}}hx.prototype=new cA;hx.prototype._=function(){for(var k=0;
k<this.eA.length;k++)this.eA[k]._()};hx.prototype.gB=function(D,n){this.Sa.gB(D,n)};hx.prototype.Wk=function(D){var n=this.mN,_=this.Sa.B(),b=_.p5;
n.strokeEnabled.v=b!=0;if(b!=0){n.strokeStyleContent.v=_.Jh;_.Jh.classID=ci.yg.bR[b-1]}n.strokeStyleLineWidth.v.val=this.eg.B();
if(D.target==this.Ce)n=this.Ce.B();this.mN=n;this.c(new ho(S.E.o,!1))};hx.prototype.f=function(D,n,_){this.mN=JSON.parse(JSON.stringify(n));
var b=n.strokeEnabled.v,w=n.strokeStyleContent.v,i=b?{p5:1+ci.yg.bR.indexOf(w.classID),Jh:w}:{p5:0};
this.Sa.f(D,i,_);this.eg.f(n.strokeStyleLineWidth.v.val);this.Ce.f(n)};hx.prototype.B=function(){return JSON.parse(JSON.stringify(this.mN))};
function eD(D){var n=[[18,0],[18,1],[18,2],[18,3]],_=aN.qr(["set/front","set/union","set/difference","set/intersection"]);
aN.call(this,D?[12,36]:null,_,n)}eD.prototype=new aN;function bS(){cA.call(this);this.m=t.L("button","fitem bbtn");
t.cc(this.m,this.uO.bind(this));this.jX=new cA;this.jX.m=t.L("div","floatcont form");this.jX.m.setAttribute("style","max-width: 200px;");
this.jX.parent=this;var D=gp;this.$g=[new dE("Start"),new dE("End"),new D([12,41],0,100,"px",null,!0,null,!0),new D([12,80,0],0,100,"px",null,!0,null,!0),new D("Concavity",-50,50,"%",null,null,null,!0)];
for(var k=0;k<this.$g.length;k++){var n=this.$g[k];n.parent=this;n.h(S.E.o,this.bo,this);this.jX.m.appendChild(n.m)}this.a1s=t.L("div");
this.jX.m.appendChild(this.a1s)}bS.prototype=new cA;bS.prototype.f=function(D){for(var k=0;k<5;k++)this.$g[k].f(D[k]);
this.vm()};bS.prototype.B=function(D){var n=[];for(var k=0;k<5;k++)n[k]=this.$g[k].B();return n};bS.prototype._=function(){this.m.textContent=io.get([12,93,4]);
for(var k=0;k<this.$g.length;k++)this.$g[k]._()};bS.prototype.bo=function(D){this.c(new ho(S.E.o,!1));
this.vm()};bS.prototype.vm=function(D){var n=this.B(),_=200,b=60;n[2]/=t.F();n[3]/=t.F();var w=B.$.yA.z$(0,b/2,_,b/2,5,n),i=B.$.U1(w);
this.a1s.innerHTML="<svg width=\""+_+"\" height=\""+b+"\" class=\"gsicon\">\t\t\t<path d=\""+i.Y0+"\" />\t\t\t</svg>"};
bS.prototype.uO=function(D){if(t.Pn(this.jX.m))return;D.stopPropagation();var n=this.m.getBoundingClientRect(),_=new ho(S.E.W,!0);
_.data={d:S.J.Td,Vl:this.jX,x:n.left,y:n.top+n.height,xK:!0};this.c(_)};function aA(){cA.call(this);
this.hG=[16,!0,!0];this.m=t.L("span","");this.lW=[new fh([12,24],0,255),new dE([12,25,1]),new dE([12,25,0])];
for(var k=0;k<3;k++){var D=this.lW[k];D.parent=this;D.f(this.hG[k]);this.m.appendChild(D.m);D.h(S.E.o,this.Wk,this)}}aA.prototype=new cA;
aA.prototype.Wk=function(){for(var k=0;k<3;k++)this.hG[k]=this.lW[k].B();this.c(new ho(S.E.o,!1))};aA.prototype.f=function(D){this.hG=D.slice(0);
for(var k=0;k<3;k++)this.lW[k].f(D[k])};aA.prototype.B=function(){return this.hG.slice(0)};aA.prototype._=function(){for(var k=0;
k<3;k++)this.lW[k]._()};function bs(D,n){cA.call(this);if(n==null)n=!1;this.Zu=[];this.pK=Math.floor(120*t.F());
this.at_=Math.floor(23*t.F());this.Vm=0;this.LN=[];this.BP=[];for(var _ in B.ie.type){if(_=="warpCustom"&&!n)continue;
this.LN.push(_);this.BP.push(B.ie.type[_])}this.m=t.L("span","fitem warpbutton");this.jX=new cA;this.jX.m=t.L("div","floatcont");
if(D){this.bT=D;this.Oz=t.L("label","flabel");this.m.appendChild(this.Oz)}this.d=t.L("button");this.m.appendChild(this.d);
t.cc(this.d,this.uO.bind(this));this.L7=new cb(!0);this.jX.m.appendChild(this.L7.m);this.L7.h(S.E.o,this.aqm,this);
this.jX.m.setAttribute("style","width:"+Math.floor(8+this.pK/t.F())+"px;");this._()}bs.prototype=new cA;
bs.prototype.v$=function(D){this.Oz.textContent=D};bs.prototype._=function(){if(this.bT)this.Oz.innerHTML=io.get(this.bT)+":";
this.P7()};bs.ae_={};bs.arJ=function(D,n,_){var b=io.get(B.ie.type[D]),w=b+"-"+D+"-"+n+"-"+_,i=bs.ae_[w];
if(i)return i;var M=bs.aB;if(N==null){var N=t.L("canvas");M=bs.aB=N.getContext("2d")}var N=M.canvas;
if(N.width!=n||N.height!=_){N.width=n;N.height=_}M.font=Math.floor(13*t.F())+"px sans-serif";M.lineWidth=1;
M.strokeStyle="#000000";var a=Math.floor(16*t.F()),o=new gl(0,0,a,a);M.clearRect(0,0,N.width,N.height);
var U=B.ie.ie(o,D,!0,.3,0,0),V=B.H.X0(o);V.C.push("M","L","M","L");V.t.push(0,a/2,a,a/2);V.t.push(a/2,0,a/2,a);
V=B.H.QM(V);V=B.H.U$(V,a/5);B.Uo.A(U,V.t,o);B.H.A(V.t,new e3(1,0,0,1,Math.floor(8*t.F())+.5,Math.floor(3*t.F())+.5),V.t);
M.beginPath();Typr.U.pathToContext({cmds:V.C,crds:V.t},M);M.stroke();M.fillText(b,Math.floor(40*t.F()),Math.floor(16*t.F()));
i=bs.ae_[w]=N.toDataURL();return i};bs.prototype.uO=function(D){if(t.Pn(this.jX.m))return;D.stopPropagation();
var n=this.pK,_=this.at_;for(var k=0;k<this.LN.length;k++)this.Zu[k]=bs.arJ(this.LN[k],n,_);this.L7.KM(this.Zu,null,n,_);
var b=this.d.getBoundingClientRect(),w=new ho(S.E.W,!0);w.data={d:S.J.Td,Vl:this.jX,x:b.left,y:b.top+b.height+4};
this.c(w)};bs.prototype.aqm=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.BD,Vl:this.jX};this.c(n);
this.Vm=D.target.B()[0];this.P7();this.c(new ho(S.E.o))};bs.prototype.P7=function(){var D=this.pK,n=this.at_;
this.L7.f([this.Vm]);this.d.innerHTML="<img src=\""+bs.arJ(this.LN[this.Vm],D,n)+"\" class=\"gsicon\" />";
t.hB(this.d.firstChild,D,n)};bs.prototype.B=function(){return this.LN[this.Vm]};bs.prototype.f=function(D){this.Vm=this.LN.indexOf(D);
this.P7()};function iX(D,n,_){cA.call(this);if(D==null)D=!1;if(n==null)n=!1;if(_==null)_=!1;this.afs=n;
this.ie=null;this.we=new bs([12,22],_);this.we.parent=this;this.we.h(S.E.o,this.s$,this);this.eR=new iw([22,0],[[22,4,0],[22,4,1]]);
this.eR.h(S.E.o,this.s$,this);var b=D?fh:gp;this.OG=new b([22,1],-100,100,"%");this.Pz=new b("Horizontal Distortion:",-100,100,"%");
this.Sw=new b("Vertical Distortion:",-100,100,"%");this.OG.parent=this.Pz.parent=this.Sw.parent=this;
this.OG.h(S.E.o,this.s$,this);this.Pz.h(S.E.o,this.s$,this);this.Sw.h(S.E.o,this.s$,this)}iX.prototype=new cA;
iX.prototype._=function(){this.we._();this.eR._();this.OG._();var D=this.afs?1:100;this.Pz.v$(io.get([22,2]).substring(0,D)+":");
this.Sw.v$(io.get([22,3]).substring(0,D)+":")};iX.prototype.s$=function(){var D=this.ie,n=this.we.B(),_=D.warpStyle.v.warpStyle;
if(n=="warpCustom")B.ie.IW(B.ie.W_(D),D);else delete D.customEnvelopeWarp;D.warpStyle.v.warpStyle=this.we.B();
D.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.eR.B()];D.warpValue.v=this.OG.B();D.warpPerspective.v=this.Pz.B();
D.warpPerspectiveOther.v=this.Sw.B();if(n=="warpNone"||n=="warpCustom"){D.warpValue.v=0;D.warpPerspective.v=0;
D.warpPerspectiveOther.v=0}else if(_=="warpNone"||_=="warpCustom")D.warpValue.v=50;this.c(new ho(S.E.o,!1));
this.f(D)};iX.prototype.B=function(D){return JSON.parse(JSON.stringify(this.ie))};iX.prototype.f=function(D){this.ie=JSON.parse(JSON.stringify(D));
this.we.f(D.warpStyle.v.warpStyle);this.eR.f(D.warpRotate.v.Ornt=="Hrzn"?0:1);this.OG.f(D.warpValue.v);
this.Pz.f(D.warpPerspective.v);this.Sw.f(D.warpPerspectiveOther.v);var n=D.warpStyle.v.warpStyle,_=n=="warpNone"||n=="warpCustom",b=[this.eR,this.OG,this.Pz,this.Sw];
for(var k=0;k<b.length;k++)if(_)b[k].Mf();else b[k].jZ()};function ax(D,n){cA.call(this);this.m=t.L("div");
this.bP=D;this.X3=null;this.Qu=new gZ(0,0);this.Qm="position:relative;overflow:hidden;";this.aI=null;
this.qU=new t.rB(this.m);this.anx=n;this.Nm("grab");this.O=t.L("canvas","canv");this.m.appendChild(this.O);
this.aB=this.O.getContext("2d");this.aj6=null;this.kf=null;this.yk=null;this.Cl=0;this.yj=0;this.Bi=0;
this.amA=this.app.bind(this);this.a2m=null;this.s=new hL({l:1,e:1});this.gg=null;this.Z4=null;this.NI=[];
this.adL=0;this.Yx=0;this.arj=this.l2.bind(this);this.agt=this.uK.bind(this);this.aas=this.R4.bind(this);
this.akR=this.Hh.bind(this);this.akv=0;this.bD=null;this.a6D(this.O);this.Lf(this)}ax.prototype=new cA;
ax.a5I=function(D){var n=new dz(!0);if(D>=0)n.Hn("Space");if(D>=1){n.Hn("ControlLeft");if(D==2)n.Hn("AltLeft")}return n};
ax.prototype.EL=function(D){var n=this.aI,_=null;if(D.j(dz.FO)){_="grab";if(D.j(dz.uH)){_="zoom-in";
if(D.j(dz.u9))_="zoom-out"}}this.X3=_;if(_)n=_;this.qU.wQ(n,this.Qm);if(D.j(dz.uH)){var b=0;if(D.j(dz.$R))b=1;
if(D.j(dz.nE))b=-1;if(b!=0){this.ds(new gZ(this.O.width/2,this.O.height/2),b==1)}}};ax.prototype.Nm=function(D){this.aI=D;
if(this.X3)return;this.qU.wQ(D,this.Qm)};ax.prototype.a6D=function(D){t.cc(D,this.arj);t.zk(D);D.addEventListener("wheel",this.akR,!1)};
ax.prototype.Lf=function(D){D.h("viewchange",this.aqO,this)};ax.prototype.aqO=function(D){var n=this.s.V,_=D.currentTarget.zI();
this.s.V=_.V;this.s.r=_.r.clone();if(n!=_.V)this.R3();this.$$()};ax.prototype.zI=function(){return{V:this.s.V,r:this.s.r}};
ax.prototype.f=function(D,n){var _=D[0].jr;if(this.kf!=null&&this.kf[0].jr.l8(_)){}else{this.s.ly={l:_.l,e:_.e};
this.s.r=new gZ(0,0);this.s.V=1}this.kf=D;this.R3();this.o7();this.Cl=0;this.yj=0;this.Bi=n==null?0:n;
this.app()};ax.prototype.Hh=function(D){D.preventDefault();if(D.deltaY==0||Date.now()-this.akv<100)return;
var n=t.Wt(D);n.x=t.F()*n.x;n.y=t.F()*n.y;this.akv=Date.now();this.ds(n,D.deltaY<0)};ax.prototype.ds=function(D,n){G.TY.qQ(this.s,D,n);
this.adY()};ax.prototype.Kg=function(){var D=this.s,n=D.ly;this.s.V=G.TY.b5(n.l,n.e,D.pj.l,D.pj.e);this.adY()};
ax.prototype.adY=function(){this.R3();this.c(new ho("viewchange"));this.c(new ho("zoom"))};ax.prototype.R3=function(){this.yk=[];
var D=this.s.V;if(this.kf==null)return;for(var k=0;k<this.kf.length;k++){var n=this.kf[k],_=new Uint8Array(n.data),b;
if(D>=1)b={B_:_,rect:n.jr};else b=B.a69(_,n.jr,D);this.yk.push(b)}};ax.prototype.o7=function(){clearTimeout(this.a2m)};
ax.prototype.$$=function(){if(this.kf==null||!t.Pn(this.O))return;var D=this.aj6,n=this.O.width,_=this.O.height,A,Q;
if(D==null||D.width!=n||D.height!=_){D=this.aj6=this.aB.createImageData(n,_);console.log("creating image data")}var b=this.kf[this.Cl],w=this.yk[this.Cl],i=this.s,M=i.ly,N=i.pj,a=N.l,o=N.e,U=M.l*i.V,V=M.e*i.V,c=Math.round((a-U)/2+i.r.x),E=Math.round((o-V)/2+i.r.y);
if(i.V<=1){Q=w.rect.clone();Q.x=c;Q.y=E;U=Q.l;V=Q.e;A=w.B_}else{var J=1/i.V,L=new gl(Math.floor((N.x-c)*J),Math.floor((N.y-E)*J),Math.ceil(N.l*J)+1,Math.ceil(N.e*J)+1),P=new gl(0,0,L.l*i.V,L.e*i.V);
P.x=L.x*i.V+c;P.y=L.y*i.V+E;if(i.ht==null||i.ht.length!=L.u()*4){i.ht=B.U(L.u()*4)}if(i.Oc==null||i.Oc.length!=P.u()*4){i.Oc=B.U(P.u()*4)}B.o5(i.ht,0);
B.E3(w.B_,w.rect,i.ht,L);B.scale.HG(i.ht,L.l,L.e,i.Oc,P.l,P.e,i.V);A=i.Oc;Q=P}var u=new Uint8Array(D.data.buffer);
B.Xj(u,a,o,8,-c,-E);B.a.dG("norm",A,Q,u,N,N,1);var m=this.aB;m.setTransform(1,0,0,1,0,0);m.putImageData(D,0,0);
m.clearRect(c-1e3,E,1e3,V);m.clearRect(c+U,E,1e3,V);m.clearRect(c-1e3,E-1e3,U+2e3,1e3);m.clearRect(c-1e3,E+V,U+2e3,1e3);
var x=ax.a0C(i.V,"#ffffff",this.anx);m.putImageData(x,0,i.pj.e-x.height)};ax.atK={};ax.a0C=function(D,n,_){if(_==null)_=!1;
var b="z"+D+","+n+","+_,w=ax.atK[b];if(w)return w;var i=Math.round(50*t.F()),M=Math.round(18*t.F()),N=_?2*M:0,a=t.L("canvas"),o=a.getContext("2d");
a.width=i+N;a.height=M;o.fillStyle="rgba(1,1,1,1)";o.fillRect(0,0,i+N,M);o.font=Math.round(11*t.F())+"px monospace";
o.fillStyle=n;var U=D*100;if(U<100)U=U.toFixed(2);else U=Math.round(U);U=U+"%";var V=o.measureText(U).width;
o.fillText(U,N+(i-V)/2,Math.round(M*.7));w=ax.atK[b]=o.getImageData(0,0,i+N,M);return w};ax.prototype.app=function(){var D=this.kf,n=D.length,_=this.Cl,b=this.kf[_],w=(_+1)%n;
this.$$();if(n!=1&&D[w].jr.l8(b.jr)){var i=b.X$?parseInt(b.X$.split(",").pop()):30;if(i==0)i=16;if(w==0)this.yj++;
if(this.Bi==0||this.yj<this.Bi)this.a2m=setTimeout(this.amA,i)}this.Cl=w};ax.prototype.R9=function(D,n){if(D<=0||n<=0)return;
var _=Math.floor(D*t.F()),b=Math.floor(n*t.F());this.s.pj=new gl(0,0,_,b);this.O.width=_;this.O.height=b;
this.O.setAttribute("style","width:"+_/t.F()+"px; height:"+b/t.F()+"px; display:block;");this.$$()};
ax.prototype.Sh=function(D){var n=-1,_=this.NI;for(var k=0;k<_.length;k++)if(_[k].pointerId==D.pointerId)n=k;
return n};ax.prototype.l2=function(D){var n=this.Sh(D),_=this.NI;if(n!=-1)_[n]=D;else _.push(D);if(_.length==1){this.bD=D.target;
t.YP(window,this.agt);t.Gv(window,this.aas);this.gg=t.Wt(D,this.O);this.gg.x*=t.F();this.gg.y*=t.F();
this.Qu=this.gg;this.Z4=this.s.r.clone();if(this.bP&&this.bD==this.O&&!this.X3)this.c(new ho("mousedown"))}else this.adL=this.Yx=gZ._e(t.Wt(_[0],this.O),t.Wt(_[1],this.O))};
ax.prototype.uK=function(D){var n=this.Sh(D),_=this.NI;if(n!=-1)_[n]=D;var b=this.s,w=this.X3,i=this.kf[this.Cl].jr.clone();
i.l*=b.V;i.e*=b.V;var M=t.Wt(D,this.O);M.x*=t.F();M.y*=t.F();this.Qu=M;if(this.bP&&this.bD==this.O&&!w)this.c(new ho("mousemove"));
else if((w=="grab"||w==null)&&(_.length>1||!b.pj.Xh(i))){if(_.length>1){var N=t.Wt(_[0],this.O),a=t.Wt(_[1],this.O),o=new gZ(t.F()*(N.x+a.x)/2,t.F()*(N.y+a.y)/2),U=gZ._e(N,a),V=null;
if(U>this.Yx+50){this.Yx+=50;V=!0}if(U<this.Yx-50){this.Yx-=50;V=!1}if(V!=null)this.ds(o,V);return}else{var c=M.x-this.gg.x,E=M.y-this.gg.y;
b.r.x=this.Z4.x+Math.round(c);b.r.y=this.Z4.y+Math.round(E)}this.c(new ho("viewchange"))}};ax.prototype.R4=function(D){var n=this.Sh(D),_=this.NI;
_.splice(n,1);if(_.length==0){t.yT(window,this.agt);t.pz(window,this.aas);var b=this.X3;if(D.detail>1){this.s.V=1;
this.s.r.bq(0,0);this.$$()}if(this.bP&&this.bD==this.O&&!this.X3)this.c(new ho("mouseup"));else{if(b=="zoom-in"||b=="zoom-out")this.ds(this.Qu,b=="zoom-in")}}else{var w=this.gg=t.Wt(_[0],this.O);
w.x*=t.F();w.y*=t.F()}};ax.prototype.jF=function(){return this.s.it(this.Qu.x,this.Qu.y)};function aP(){cA.call(this);
this.Cs=null;this.bX=null;this.So=null;this.Bg=null;this.a4$="";this.lu=[];this.Vw=0;this.g0=[];this.xk=0;
this.Wc=null;var D=this.m=t.L("div",""),n=this.a3C=t.L("div","form");n.setAttribute("style","line-height:0; margin-bottom:0.5em;");
D.appendChild(n);var _=this.bT=t.L("span");n.appendChild(_);_.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var b=this.ac8=new dE([25,2,0]);b.f(!0);n.appendChild(b.m);b.h(S.E.o,this.cj,this);var w=this.M3=new dE([25,2,1]);
w.f(!0);n.appendChild(w.m);w.h(S.E.o,this.cj,this);var i=new iL(" ");n.appendChild(i.m);var M=this.Fd=new gH([25,1,1]);
n.appendChild(M.m);M.h(S.E.o,this.cj,this);this.SR=new aW(14);this.SR.a12(3);n.appendChild(this.SR.m);
this.SR.parent=this;this.SR.h(S.E.o,this.afd,this);var N=this.adu=new bX([25,1,2],null,null,!0);n.appendChild(N.m);
N.h("click",this.FQ,this);this.ajo=this.af0.bind(this);this.Tt=t.L("div","svggallery scrollable");D.appendChild(this.Tt);
this.Tt.addEventListener("scroll",this.anv.bind(this))}aP.prototype=new cA;aP.prototype.gB=function(D){this.amU=D};
aP.prototype._=function(){this.bT.textContent=io.get([25,0]);this.SR._();this.ac8._();this.M3._();this.Fd._();
this.adu._()};aP.prototype.R9=function(D,n){this.Cs=new gZ(D,n);this.a3C.setAttribute("style","width:"+D+"px");
var _=this.a3C.getBoundingClientRect();n-=_.height;this.Tt.setAttribute("style","width:"+D+"px; height:"+n+"px");
if(t.Pn(this.m))this.cj()};aP.prototype.f=function(D){this.bX=D;this.cj()};aP.prototype.anv=function(D){var n=this.Tt;
if(n.scrollTop+n.clientHeight+10>=n.scrollHeight){this.cj(!0)}};aP.prototype.afd=function(D){this.So=null;
this.cj()};aP.prototype.af0=function(D){if(Date.now()-this.xk<2e3)return;this.xk=Date.now();this.Vw=this.g0.indexOf(D.currentTarget);
var n=this.HJ(this.bX.x,this.bX.y);if(n[1]){var _=n[1].largeImageURL,b=new XMLHttpRequest;b.responseType="arraybuffer";
b.open("GET",_,!0);b.onload=this.a4G.bind(this);b.send();return}this.ajL(n)};aP.prototype.a4G=function(D){var n=D.target.response,_=eF.pV(n),b=eF.rW(_),w=b.Ck(n),i=this.HJ(this.bX.x,this.bX.y,[n,w[0].jr.l,w[0].jr.e]);
this.ajL(i)};aP.prototype.ajL=function(D){var n=D[0],_=eF.pV(n),b=eF.rW(_),w=new ai("template.psd");
b.Ck(n,w);var i=new ho("tempready",!0);i.data={ly:w};this.c(i)};aP.prototype.FQ=function(D){var n=D.target;
this.lu=[];this.cj()};aP.prototype.arK=function(D){var n=JSON.parse(D.target.response);this.Bg=n.hits;
this.cj()};aP.prototype.cj=function(D){if(this.bX==null||this.Cs==null||this.amU==null)return;if(this.Cs.x<=0)return;
var n=this.bX.x,_=this.bX.y;if(Math.min(n,_)<50)return;if(D!=!0){this.g0=[];t.hz(this.Tt);this.Tt.scrollTop=0}if(this.g0.length>300)return;
var b=Math.min(1,300/Math.max(n,_)),w=this.Cs.clone();w.x-=20;var i=Math.max(1,Math.floor(w.x/(n*b))),M=Math.max(1,Math.ceil(w.y/(_*b)));
b=w.x/i/n;var N=i*M;if(this.So==null){var a=this.amU.mz.SZ();this.So=[];for(var o in a){var U=a[o],V=U[3];
if(!this.SR.eL(U))continue;if(U[5]==null||U[5].slice(0,2)=="gf")continue;this.So.push(U)}if(this.So.length==0)this.So.push(a.DejaVuSans)}var c=this.M3.B(),E=this.Fd.B().trim();
this.Fd.bs(c);if(c&&(this.Bg==null||E!=this.a4$)){var A=new XMLHttpRequest,Q="https://pixabay.com/api/?image_type=photo"+(E==""?"":"&q="+encodeURIComponent(E))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(E=="")Q+="&safesearch=true";if(E=="")Q="plugins/gallery.json";A.open("GET",Q,!0);A.onload=this.arK.bind(this);
A.onerror=function(x){console.log(x.target.response)};A.send();this.a4$=E;return}b*=(n*b-5)/(n*b);var J=this.g0.length;
for(var k=0;k<N;k++){var L=this.Vw=J+k;if(this.lu[L]==null)this.lu[L]=Math.floor(Math.random()*4294967295);
var P=this.HJ(Math.round(n*b),Math.round(_*b)),u=P[0];u=j.KA(new Uint8Array(u));var m=t.L("span");m.innerHTML=u;
this.g0.push(m);this.Tt.appendChild(m);m.addEventListener("click",this.ajo,!1)}};aP.prototype.HJ=function(D,n,_){var b=this.M3.B(),w=this.ac8.B(),i=b&&this.Bg.length!=0?this.Bg:null;
if(w&&!b)i=null;if(w&&b&&(this.Vw&1)==0)i=null;return et.yA(D,n,this.lu[this.Vw],this.So,_?_:i)};function hu(){cA.call(this);
this.m=t.L("div");this.DH=null;this.a2h=null;this.OC=-1;this._0={JPG:[{cC:new gp([12,52,0],0,100,"%",null,null,!0),EY:70},{cC:new dE("attach metadata"),EY:!1}],TIFF:[{cC:new dE("attach metadata"),EY:!1}],WEBP:[{cC:new gp([12,52,0],0,100,"%",null,null,!0),EY:70}],GIF:[{cC:new gp([12,52,0],0,100,"%",null,null,!0),EY:100},{cC:new dE([12,23,3]),EY:!1}],PNG:[{cC:new gp([12,52,0],0,100,"%",null,null,!0),EY:100},{cC:new dE("don't use palettes"),EY:!1}],PDF:[{cC:new gH([12,52,1]),EY:""},{cC:new gp([12,52,0],0,100,"%",null,null,!0),EY:100},{cC:new dE("rasterize all"),EY:!1},{cC:new dE("rasterize text"),EY:!1},{cC:new dE("vectorize text"),EY:!1},{cC:new gp("Add Margin",0,5,"in",2),EY:0}],EMF:[{cC:new gH([12,52,1]),EY:""},{cC:new dE("rasterize all"),EY:!1},{cC:new dE("rasterize text"),EY:!1},{cC:new dE("vectorize text"),EY:!1}],SVG:[{cC:new dE("add raster graphics"),EY:!0},{cC:new dE("add hidden layers"),EY:!1},{cC:new dE("vectorize text"),EY:!1},{cC:new dE("rasterize text"),EY:!1},{cC:new dE("add layer names"),EY:!0},{cC:new dE("pretty-print"),EY:!0}],RAW:[{cC:new aN([12,72],["1","3","4"]),EY:2},{cC:new aN([12,34],["8 Bits","16 Bits"]),EY:0},{cC:new aN("Byte Order",["12-34","34-12"]),EY:0}],DDS:[{cC:new dE("Add Mipmaps"),EY:!0},{cC:new dE("Compression"),EY:!0}],anim:[{cC:new gp("Speed",10,800,"%",null,!0,!0),EY:100},{cC:new fh("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),EY:0},{cC:new dE("reverse frames"),EY:!1},{cC:new dE("boomerang"),EY:!1}],slcs:[{cC:new dE("As Slices"),EY:!0}],artb:[{cC:new dE("As Artboards"),EY:!0}]};
for(var D in this._0){var n=this._0[D];for(var k=0;k<n.length;k++){n[k].cC.f(n[k].EY);n[k].cC.h(S.E.o,this.C0,this)}}}hu.prototype=new cA;
hu.prototype.a4Q=function(){this.OC=-1};hu.prototype._=function(){for(var D in this._0)for(var k=0;k<this._0[D].length;
k++)this._0[D][k].cC._()};hu.prototype.C0=function(){this.cj();this.c(new ho(S.E.o,!1))};hu.prototype.cj=function(){var D=this.DH,n=D[0],_=D[1],b=D[2],w=D[3],i=this._0[n];
if(i==null)i=[];else i=i.slice(0);if(_)i=i.concat(this._0.anim);if(["GIF","PNG","JPG"].indexOf(n)!=-1&&b)i=i.concat(this._0.slcs);
else if(["GIF","PNG","JPG"].indexOf(n)!=-1&&w)i=i.concat(this._0.artb);if(n+" "+_+" "+w!=this.OC){this.OC=n+" "+_+" "+w;
t.hz(this.m);for(var k=0;k<i.length;k++){if(n=="PDF"&&!w&&k==0)continue;this.m.appendChild(i[k].cC.m);
t.f7(this.m)}}var M=this.a2h=[];for(var k=0;k<i.length;k++)M.push(i[k].cC.B())};hu.prototype.ajk=function(D,n,_,b){this.DH=[D,n,_,b];
this.cj()};hu.prototype.B=function(){return this.a2h.slice(0)};function he(){cA.call(this);this.m=t.L("span","fitem");
this.tm=!1;this.fI=new bX("No",!1,"Cancel");this.r7=new bX("Yes",!1,"Confirm");this.m.appendChild(this.fI.m);
this.m.appendChild(this.r7.m);this.fI.h("click",this.bQ,this);this.r7.h("click",this.bQ,this);this._()}he.prototype=new cA;
he.prototype._=function(){this.fI.v$(t.ct("cross",null,"autoscale"));this.r7.v$(t.ct("checkmark",null,"autoscale"))};
he.prototype.bQ=function(D){this.tm=D.target==this.r7;this.c(new UIEvent("click"))};he.prototype.B=function(){return this.tm};
function ip(D){cA.call(this);this.m=t.L("span","fitem");this.tZ=new bX("\u25BC",null,"Auto Options",!0);
t.cc(this.tZ.m,this.aq9.bind(this));this.m.appendChild(this.tZ.m);this.T0=new bX("Auto",null,null,!0);
this.T0.h("click",this.bo,this);this.m.appendChild(this.T0.m);this.Id=new i5("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.Id.h(S.E.o,this.bo,this);this.Id.f([!1,!1,!1,!0]);this.jX=new cA;var n=this.jX.m=t.L("div","floatcont form");
n.setAttribute("style","width: 250px;");this.jX.parent=this;n.appendChild(this.Id.m);this._1=[];for(var k=0;
k<2;k++){var _=new fh((k==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);_.f(.1);_.h(S.E.o,this.bo,this);
this._1.push(_);n.appendChild(_.m)}}ip.prototype=new cA;ip.prototype.bo=function(D){this.c(new ho(S.E.o,!1))};
ip.prototype._=function(){};ip.prototype.B=function(){return[this.Id.B().indexOf(!0),this._1[0].B(),this._1[1].B()]};
ip.prototype.aq9=function(D){if(t.Pn(this.jX.m))return;D.stopPropagation();var n=this.tZ.m.getBoundingClientRect(),_=new ho(S.E.W,!0);
_.data={d:S.J.Td,Vl:this.jX,x:n.left,y:n.top+n.height+4};this.c(_)};function e0(){cA.call(this);var D=this.m=t.L("div","fitem");
this.zX=new iw([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.zX.h(S.E.o,this.Wk,this);D.appendChild(this.zX.m);
this.yZ=new hU(!1);this.yZ.parent=this;this.yZ.p2(16777215);this.yZ.h(S.E.o,this.Wk,this);D.appendChild(this.yZ.m)}e0.prototype=new cA;
e0.prototype._=function(){this.zX._();this.yZ._()};e0.prototype.alw=function(D){var n=[D.artboardBackgroundType.v-1];
if(D.Clr)n.push(D.Clr.v);this.f(n)};e0.prototype.afo=function(){var D=this.B();return{classID:"artboard",Clr:{t:"Objc",v:D[1]},artboardBackgroundType:{t:"long",v:D[0]+1}}};
e0.prototype.f=function(D){this.zX.f(D[0]);if(D[1])this.yZ.f(D[1])};e0.prototype.B=function(){return[this.zX.B(),this.yZ.B()]};
e0.prototype.Wk=function(D){if(D.target==this.yZ)this.zX.f(3);this.c(new ho(S.E.o,!1))};function d(D){cA.call(this);
this.$O=D;this.m=t.L("div","");this.Z8=[];this.tN=null;this.akx=[]}d.prototype=new cA;d.prototype.jf=function(D){};
d.prototype.sL=function(){return!1};d.prototype.R9=function(D,n){};d.prototype.gB=function(D,n){};d.prototype.ZQ=function(D){};
d.prototype.f=function(D,n,_,b,w,i){var M=[],N=this.Z8,a=0,o=cq.R2["s"+this.$O];o?o(D,M,i):this.lv(D,M,i);
for(var k=0;k<N.length;k++)if(!(N[k]instanceof iL))N[k].f(M[a++]);if(D.RndS)this.tN=D.RndS.v};d.prototype.B=function(){var D=cq.D2(this.$O),n=[],_=this.Z8,b=0;
for(var k=0;k<_.length;k++)if(!(_[k]instanceof iL))n[b++]=_[k].B();var w=cq.R2["g"+this.$O];w?w(D,n):this.Yn(D,n);
if(D.RndS)D.RndS.v=this.tN;return D};d.prototype.EL=function(D){};d.prototype.s$=function(D){if(D&&D.target instanceof bX){this.tN=Math.floor(Math.random()*4294967295)}var n=this.akx;
for(var k=0;k<n.length;k+=2){var _=this.Z8[n[k]],b=this.Z8[n[k+1]],w=_.B(),i=b.B();if(D.target==_)b.f(Math.max(w,i));
else _.f(Math.min(w,i))}this.c(new ho(S.E.o))};d.prototype._=function(){for(var k=0;k<this.Z8.length;
k++)this.Z8[k]._();var D=this.a6K;if(D)D._()};d.prototype.zJ=function(D){t.ES(this.m,"form");var n=this.Z8;
for(var k=0;k<n.length;k++){var _=n[k];_.parent=this;_.h(S.E.o,this.s$,this);this.m.appendChild(_.m);
if(_ instanceof dE&&n[k+1]instanceof hU)continue;if(D&&D.indexOf(k)!=-1)t.bu(this.m);else t.f7(this.m)}var b=cq.D2(this.$O);
if(b.RndS){var w=this.a6K=new bX([25,1,2],null,null,!0);this.m.appendChild(w.m);w.h("click",this.s$,this)}};
d.prototype.Yy=function(){return!1};d.prototype.EE=function(D,n,_,b,w){};d.prototype.cp=function(D,n,_,b,w){};
d.prototype.m_=function(D,n,_,b,w){};d.prototype.Yn=function(D,n){};d.prototype.lv=function(D,n){};d.prototype.SS=function(D){var n=D.target.B().indexOf(!0)!=-1,_=new ho(S.E.W,!0);
_.w2=!0;_.data={d:n?S.J.Ou:S.J.La,g:G.YW};this.c(_);_=new ho(S.E.M,!0);_.g=G.YW;_.w2=!0;_.data={d:"supertool",g:n?this:null};
this.c(_)};d.a0j=function(D){D.Yy=function(){return!0};D.EE=function(n,_,b,w,i){this.o2=!0;this.af_(n,i)};
D.cp=function(n,_,b,w,i){if(!this.o2)return;this.af_(n,i)};D.m_=function(n,_,b,w,i){this.o2=!1};D.af_=function(n,_){var b=n.s.it(_.x,_.y);
function w(i,M){return Math.round(Math.max(0,Math.min(100,100*i/M)))}this.Z8[2].f(w(b.x,n.l));this.Z8[3].f(w(b.y,n.e));
this.s$()}};d.Bokh=function(){d.call(this,"Bokh");this.Z8=[new iw("Depth Map",["A","b"]),new gp("Focal Distance",0,255),new dE([4,11]),new iw([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new gp([12,56],0,100),new gp([12,15],0,360),new gp([12,2],0,100),new gp([4,13],0,255),new gp([24,6],0,100),new aN([12,58],[[12,59,0],[12,59,1]]),new dE([12,60])];
this.zJ([5,7])};d.Bokh.prototype=new d;d.Bokh.prototype.lv=function(D,n,_){var b=[[22,5,0],[6,5,3],[6,2]],w=D.BkDi.v.BtDi,i=D.BkDc,M=0;
if(w=="BeIn")M=0;else if(w=="BeIt"&&i.v.BtDc=="BeCt")M=1;else if(w=="BeIt"&&i.v.BtDc=="BeCm")M=2;else M=3+i.v;
for(var k=0;k<_[1].length;k++)b.push(_[1][k].name);this.Z8[0].jb(b,[3]);n[0]=M;n[1]=D.BkDp.v;n[2]=D.BkDs.v;
n[3]=parseInt(D.BkIs.v.BtIs.slice(3))-3;n[4]=D.BkIb.v;n[5]=D.BkIr.v;n[6]=D.BkSb.v;n[7]=D.BkSt.v;n[8]=D.BkNa.v;
n[9]=D.BkNt.v.BtNt=="BeNu"?0:1;n[10]=D.BkNm.v};d.Bokh.prototype.Yn=function(D,n){var _;if(n[0]==0){_="BeIn";
delete D.BkDc}else if(n[0]<3){_="BeIt";D.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][n[0]-1]}}}else{_="BeIa";
D.BkDc={t:"long",v:n[0]-3}}D.BkDi.v.BtDi=_;D.BkDp.v=n[1];D.BkDs.v=n[2];D.BkIs.v.BtIs="BeS"+(3+n[3]);
D.BkIb.v=n[4];D.BkIr.v=n[5];D.BkSb.v=n[6];D.BkSt.v=n[7];D.BkNa.v=n[8];D.BkNt.v.BtNt=["BeNu","BeNg"][n[9]];
D.BkNm.v=n[10]};d.oilPaint=function(){d.call(this,"oilPaint");this.Z8=[new gp([12,56],.1,10,"px",!0),new gp("Cleanliness",0,10,"px",!0),new gp([12,38],.1,10,null,!0),new gp("Bristle Detail",0,10,null,!0),new dE("Lighting"),new gp("Shine",0,10,null,!0),new gu([12,15])];
this.zJ()};d.oilPaint.prototype=new d;d.oilPaint.prototype.lv=function(D,n){var _="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var k=0;k<_.length;k++)n[k]=D[_[k]].v;n[6]=[D.LghD.v]};d.oilPaint.prototype.Yn=function(D,n){var _="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var k=0;k<_.length;k++)D[_[k]].v=n[k];D.LghD.v=n[6][0]};d.TrcC=function(){d.call(this,"TrcC");this.Z8=[new gp("Level",0,255),new aN([12,69],[[19,4,1],[19,4,0]])];
this.zJ()};d.TrcC.prototype=new d;d.TrcC.prototype.lv=function(D,n){n[0]=D.Lvl.v;n[1]=["Lwr","Upr"].indexOf(D.Edg.v.CntE)};
d.TrcC.prototype.Yn=function(D,n){D.Lvl.v=n[0];D.Edg.v.CntE=["Lwr","Upr"][n[1]]};d["Dfs "]=function(){d.call(this,"Dfs ");
this.Z8=[new aN([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.zJ()};d["Dfs "].prototype=new d;
d["Dfs "].prototype.lv=function(D,n){n[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(D.Md.v.DfsM)};
d["Dfs "].prototype.Yn=function(D,n){D.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][n[0]]};d.Embs=function(){d.call(this,"Embs");
this.Z8=[new gu([12,15]),new gp([12,42],1,100,"px"),new gp([12,57],1,500,"%")];this.zJ()};d.Embs.prototype=new d;
d.Embs.prototype.lv=function(D,n){n[0]=[D.Angl.v];n[1]=D.Hght.v;n[2]=D.Amnt.v};d.Embs.prototype.Yn=function(D,n){D.Angl.v=n[0][0];
D.Hght.v=n[1];D.Amnt.v=n[2]};d["Wnd "]=function(){d.call(this,"Wnd ");this.Z8=[new aN([12,32],["Wind","Blast","Stagger"]),new aN([12,33],["From the Right","From the Left"])];
this.zJ()};d["Wnd "].prototype=new d;d["Wnd "].prototype.lv=function(D,n){n[0]=["Wnd","Blst","Stgr"].indexOf(D.WndM.v.WndM);
n[1]=["Left","Rght"].indexOf(D.Drct.v.Drct)};d["Wnd "].prototype.Yn=function(D,n){D.WndM.v.WndM=["Wnd","Blst","Stgr"][n[0]];
D.Drct.v.Drct=["Left","Rght"][n[1]]};d.denoise=function(){d.call(this,"denoise");this.Z8=[new gp([12,64],0,10),new gp([12,65],0,100,"%")];
this.zJ()};d.denoise.prototype=new d;d.denoise.prototype.lv=function(D,n){var _=D.channelDenoise.v[0].v;
n[0]=_.Amnt.v;n[1]=_.EdgF.v};d.denoise.prototype.Yn=function(D,n){var _=D.channelDenoise.v[0].v;_.Amnt.v=n[0];
_.EdgF.v=n[1]};d.lightFilterGradient=function(){d.call(this,"lightFilterGradient");this.Z8=[new gp([24,3,1],0,100,"px",1,!0),new gp([12,38],0,200,"%"),new dE([4,11]),new gp("High",0,100,"%"),new gp("Medium",0,100,"%"),new gp("Low",0,100,"%")];
this.zJ()};d.lightFilterGradient.prototype=new d;d.lightFilterGradient.prototype.lv=function(D,n){n[0]=D.blur.v;
n[1]=D.textureScale.v*100;n[2]=D.Scl.v==-1;var _=D.Dtl.v;n[3]=_[0].v*100;n[4]=_[1].v*100;n[5]=_[2].v*100};
d.lightFilterGradient.prototype.Yn=function(D,n){D.blur.v=n[0];D.textureScale.v=n[1]/100;D.Scl.v=n[2]?-1:1;
var _=D.Dtl.v;_[0].v=n[3]/100;_[1].v=n[4]/100;_[2].v=n[5]/100};d.Fbrs=function(){d.call(this,"Fbrs");
this.Z8=[new gp("Variance",1,64),new gp([12,64],1,64)];this.zJ()};d.Fbrs.prototype=new d;d.Fbrs.prototype.lv=function(D,n){n[0]=D.Vrnc.v;
n[1]=D.Strg.v};d.Fbrs.prototype.Yn=function(D,n){D.Vrnc.v=n[0];D.Strg.v=n[1]};d.LnsF=function(){d.call(this,"LnsF");
this.Z8=[new gp([12,2],10,300,"%"),new aN([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new gp("Position X",0,100,"%"),new gp("Position Y",0,100,"%")];
this.zJ()};d.LnsF.prototype=new d;d.LnsF.prototype.lv=function(D,n){n[0]=D.Brgh.v;n[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(D.Lns.v.Lns);
var _=D.FlrC.v;n[2]=Math.round(_.Hrzn.v*100);n[3]=Math.round(_.Vrtc.v*100)};d.LnsF.prototype.Yn=function(D,n){D.Brgh.v=n[0];
D.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][n[1]];var _=D.FlrC.v;_.Hrzn.v=n[2]/100;_.Vrtc.v=n[3]/100};d.a0j(d.LnsF.prototype);
d.blendOptions=function(){d.call(this,"blendOptions");this.Z8.push(new iw([12,19,0],jz.BP,!1,jz.Fk));
this.Z8.push(new gp([12,0],0,100,"%"));this.zJ()};d.blendOptions.prototype=new d;d.blendOptions.prototype.lv=function(D,n){n[0]=jz.t7.indexOf(D.Md.v.BlnM);
n[1]=D.Opct.v.val};d.blendOptions.prototype.Yn=function(D,n){D.Md.v.BlnM=jz.t7[n[0]];D.Opct.v.val=n[1]};
d.LnCr=function(){d.call(this,"LnCr");this.Z8=[new gp([12,57],-100,100),new gp([12,38],10,150,"%")];
this.zJ()};d.LnCr.prototype=new d;d.LnCr.prototype.lv=function(D,n){n[0]=D.LnIa.v;n[1]=D.LnSi.v};d.LnCr.prototype.Yn=function(D,n){D.LnIa.v=n[0];
D.LnSi.v=n[1]};d.adaptCorrect=function(){d.call(this,"adaptCorrect");var D=d4;this.Z8=[new iL([19,6,0]),new D([12,57],0,100,"%"),new D("Tone",0,100,"%"),new D([12,56],0,200,"px"),new iL([19,6,2]),new D([12,57],0,100,"%"),new D("Tone",0,100,"%"),new D([12,56],0,200,"px"),new iL([3]),new D([13,0],-100,100)];
this.zJ([3,7])};d.adaptCorrect.prototype=new d;d.adaptCorrect.prototype.lv=function(D,n){var _=D.sdwM.v;
n[0]=_.Amnt.v.val;n[1]=_.Wdth.v.val;n[2]=_.Rds.v;var _=D.hglM.v;n[3]=_.Amnt.v.val;n[4]=_.Wdth.v.val;
n[5]=_.Rds.v;n[6]=D.ClrC.v};d.adaptCorrect.prototype.Yn=function(D,n){var _=D.sdwM.v;_.Amnt.v.val=n[0];
_.Wdth.v.val=n[1];_.Rds.v=n[2];var _=D.hglM.v;_.Amnt.v.val=n[3];_.Wdth.v.val=n[4];_.Rds.v=n[5];D.ClrC.v=n[6]};
d.Flam=function(){d.call(this,"Flam");var D=this.Z8=[new iw([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new gp([12,80,0],20,1e3,"px"),new dE("Randomize Length"),new gp([12,41],5,600,"px"),new gp([12,15],0,360,"\xB0"),new gp("Interval",10,200,"px"),new dE("Adapt Interval for Loops"),new hU(!1),new iw([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new gp("Turbulent",0,100),new gp("Jag",0,100),new gp([12,0],0,100),new gp("Lines",2,30),new gp("Bottom",0,100),new iw([12,22],["Normal","Violent","Flat"]),new iw([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dE("Randomize Shape"),new gp("Random Seed",0,100)];
this.zJ();var n=this.m;t.hz(n);var _=new aN(null,["Basic","Advanced"]);_.h(S.E.o,this.a8C,this);n.appendChild(_.m);
t.bu(n);var b=t.L("div"),w=t.L("div");this.ajf=[b,w];n.appendChild(b);for(var k=0;k<D.length;k++){(k<9?b:w).appendChild(D[k].m);
if(k==6)t.f7(b)}D[0].h(S.E.o,this.a3M,this);this.a3M()};d.Flam.prototype=new d;d.Flam.prototype.a3M=function(D){var n=this.Z8,k=n[0].B();
n[1].bs(k!=0&&k!=5);n[2].bs(k!=0&&k!=5);n[4].bs(k!=0&&k!=5&&k!=1);n[5].bs(k!=0&&k!=5);n[6].bs(k!=0&&k!=5)};
d.Flam.prototype.a8C=function(D){var k=D.target.B(),n=this.ajf,_=this.m;_.removeChild(n[1-k]);_.appendChild(n[k])};
d.boxblur=function(){d.call(this,"boxblur");this.Z8=[new gp([12,56],1,200," px")];this.zJ()};d.boxblur.prototype=new d;
d.boxblur.prototype.lv=function(D,n){n[0]=D.Rds.v.val};d.boxblur.prototype.Yn=function(D,n){D.Rds.v.val=n[0]};
d.GsnB=function(){d.call(this,"GsnB");this.Z8=[new gp([12,56],.1,400,"px",1,!0)];this.zJ()};d.GsnB.prototype=new d;
d.MtnB=function(){d.call(this,"MtnB");this.Z8=[new gu([12,15]),new gp([12,28],1,100," px")];this.zJ()};
d.MtnB.prototype=new d;d.RdlB=function(){d.call(this,"RdlB");this.Z8=[new gp([12,57],1,100),new aN([12,36],["Spin","Zoom"]),new gp("Position X",0,100,"%"),new gp("Position Y",0,100,"%")];
this.zJ()};d.RdlB.prototype=new d;d.RdlB.prototype.lv=function(D,n){n[0]=D.Amnt.v;n[1]=["Spn","Zm"].indexOf(D.BlrM.v.BlrM);
n[2]=D.Cntr.v.Hrzn.v*100;n[3]=D.Cntr.v.Vrtc.v*100};d.RdlB.prototype.Yn=function(D,n){D.Amnt.v=n[0];D.BlrM.v.BlrM=["Spn","Zm"][n[1]];
D.Cntr.v.Hrzn.v=n[2]/100;D.Cntr.v.Vrtc.v=n[3]/100};d.a0j(d.RdlB.prototype);d.Dspl=function(){d.call(this,"Dspl");
this.Z8=[new iw([6,36,3],["a","b"]),new gp([22,4,0],-100,100,"px"),new gp([22,4,1],-100,100,"px"),new iw([24,18,0],[[24,18,3],[24,18,2]])];
this.zJ()};d.Dspl.prototype=new d;d.Dspl.prototype.lv=function(D,n,_){this.aeM=[];this.bl=[];var b=-1,w=_?_[0]:null;
if(w==null)w=this.auH;else this.auH=w;if(w)for(var k=0;k<w.length;k++){var i=w[k];this.aeM.push(i.UP.trim());
this.bl.push(i.Vn);if(i.Vn==D.DspF.v.pth)b=k}this.Z8[0].jb(this.aeM);n[0]=b==-1?0:b;n[1]=D.HrzS.v;n[2]=D.VrtS.v;
n[3]=["WrpA","RptE"].indexOf(D.UndA.v.UndA)};d.Dspl.prototype.Yn=function(D,n){if(this.bl.length==0)return;
D.DspF.v.pth=this.bl[n[0]];D.HrzS.v=n[1];D.VrtS.v=n[2];D.UndA.v.UndA=["WrpA","RptE"][n[3]]};d.Pnch=function(){d.call(this,"Pnch");
this.Z8=[new gp([12,57],-100,100,"%")];this.zJ()};d.Pnch.prototype=new d;d["Plr "]=function(){d.call(this,"Plr ");
this.Z8=[new aN(null,["Rect to Polar","Polar to Rect"])];this.zJ()};d["Plr "].prototype=new d;d.Rple=function(){d.call(this,"Rple");
this.Z8=[new gp([12,57],-999,999),new iw([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.zJ()};d.Rple.prototype=new d;
d["Shr "]=function(){d.call(this,"Shr ");this.Z8=[new g7(!0,!0),new iw([24,18,0],[[24,18,3],[24,18,2]])];
this.zJ()};d["Shr "].prototype=new d;d["Shr "].prototype.lv=function(D,n){var _=new e3(0,255/127,255/127,0,-2,128),b=JSON.parse(JSON.stringify(D.ShrP.v));
B.O1.A(b,_);n[0]=b;n[1]=["WrpA","RptE"].indexOf(D.UndA.v.UndA)};d["Shr "].prototype.Yn=function(D,n){var _=new e3(0,255/127,255/127,0,-2,128);
_.ei();B.O1.A(n[0],_);D.ShrP.v=n[0];D.ShrE.v=n[0].length-1;D.UndA.v.UndA=["WrpA","RptE"][n[1]]};d.Sphr=function(){d.call(this,"Sphr");
this.Z8=[new gp([12,57],-100,100),new iw([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.zJ()};d.Sphr.prototype=new d;
d.Sphr.prototype.lv=function(D,n){n[0]=D.Amnt.v;n[1]=["Nrml","HrzO","VrtO"].indexOf(D.SphM.v.SphM)};
d.Sphr.prototype.Yn=function(D,n){D.Amnt.v=n[0];D.SphM.v.SphM=["Nrml","HrzO","VrtO"][n[1]]};d.Dthr=function(){d.call(this,"Dthr");
this.Z8=[new iw("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.zJ()};d.Dthr.prototype=new d;
d.Dthr.prototype.lv=function(D,n){n[0]=D.Plte.v};d.Dthr.prototype.Yn=function(D,n){D.Plte.v=n[0]};d.Twrl=function(){d.call(this,"Twrl");
this.Z8=[new gp([12,15],-999,999)];this.zJ()};d.Twrl.prototype=new d;d.Wave=function(){d.call(this,"Wave");
this.akx=[1,2,3,4];this.Z8=[new gp("Number of Generators",1,100),new d4("Min Length",1,999),new d4("Max Length",1,999),new d4("Min Ampl.",1,999),new d4("Max Ampl.",1,999),new d4("Scale X",1,100,"%"),new d4("Scale Y",1,100,"%"),new aN([12,44],["Sine","Triangle",[12,93,3]]),new iw([24,18,0],[[24,18,3],[24,18,2]]),new gH("Randomizer Seed")];
this.zJ()};d.Wave.prototype=new d;d.Wave.prototype.lv=function(D,n){n[0]=D.NmbG.v;n[1]=D.WLMn.v;n[2]=D.WLMx.v;
n[3]=D.AmMn.v;n[4]=D.AmMx.v;n[5]=D.SclH.v;n[6]=D.SclV.v;n[7]=["WvSn","WvTr","WvSq"].indexOf(D.Wvtp.v.Wvtp);
n[8]=["WrpA","RptE"].indexOf(D.UndA.v.UndA);n[9]=D.RndS.v};d.Wave.prototype.Yn=function(D,n){D.NmbG.v=n[0];
D.WLMn.v=n[1];D.WLMx.v=n[2];D.AmMn.v=n[3];D.AmMx.v=n[4];D.SclH.v=n[5];D.SclV.v=n[6];D.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][n[7]];
D.UndA.v.UndA=["WrpA","RptE"][n[8]];var _=parseInt(n[9]);if(isNaN(_))_=248325464;_=Math.max(0,Math.min(268435455,_));
D.RndS.v=_;this.Z8[9].f(_)};d.ZgZg=function(){d.call(this,"ZgZg");this.Z8=[new gp([12,57],-100,100),new gp("Ridges",0,20),new iw([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.zJ()};d.ZgZg.prototype=new d;d.surfaceBlur=function(){d.call(this,"surfaceBlur");this.Z8=[new gp([12,56],1,200," px"),new gp([4,13],1,255," px")];
this.zJ()};d.surfaceBlur.prototype=new d;d.surfaceBlur.prototype.lv=function(D,n){n[0]=D.Rds.v.val;n[1]=D.Thsh.v};
d.surfaceBlur.prototype.Yn=function(D,n){D.Rds.v.val=n[0];D.Thsh.v=n[1]};d.AdNs=function(){d.call(this,"AdNs");
this.Z8=[new gp([12,57],0,200," %"),new iw([12,58],[[12,59,1],[12,59,0]]),new dE([12,60])];this.zJ()};
d.AdNs.prototype=new d;d.DstS=function(){d.call(this,"DstS");this.Z8=[new gp([12,56],1,200," px"),new gp([4,13],1,255," px")];
this.zJ()};d.DstS.prototype=new d;d["Mdn "]=function(){d.call(this,"Mdn ");this.Z8=[new gp([12,56],1,200," px")];
this.zJ()};d["Mdn "].prototype=new d;d["Mdn "].prototype.lv=function(D,n){n[0]=D.Rds.v.val};d["Mdn "].prototype.Yn=function(D,n){D.Rds.v.val=n[0]};
d.ClrH=function(){d.call(this,"ClrH");this.Z8=[new gp([12,56],4,100," px")];for(var k=1;k<4;k++)this.Z8.push(new gp("Angle "+k,0,90," \xB0"));
this.zJ()};d.ClrH.prototype=new d;d.ClrH.prototype.lv=function(D,n){n[0]=D.Rds.v;for(var k=1;k<4;k++)n[k]=D["Ang"+k].v};
d.ClrH.prototype.Yn=function(D,n){D.Rds.v=n[0];for(var k=1;k<4;k++)D["Ang"+k].v=n[k]};d.ClrH.prototype._=function(){var D=this.Z8;
D[0]._();for(var k=1;k<4;k++)D[k].v$(io.get([12,15])+" "+k)};d.Crst=function(){d.call(this,"Crst");this.Z8=[new gp([12,61],3,100," px")];
this.zJ()};d.Crst.prototype=new d;d.Crst.prototype.lv=function(D,n){n[0]=D.ClSz.v};d.Crst.prototype.Yn=function(D,n){D.ClSz.v=n[0]};
d.Mztn=function(){d.call(this,"Mztn");this.Z8.push(new iw([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.bl="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.zJ()};d.Mztn.prototype=new d;
d.Mztn.prototype.lv=function(D,n){n[0]=this.bl.indexOf(D.MztT.v.MztT)};d.Mztn.prototype.Yn=function(D,n){D.MztT.v.MztT=this.bl[n[0]]};
d["Msc "]=function(){d.call(this,"Msc ");this.Z8=[new gp([12,61],2,200," px")];this.zJ()};d["Msc "].prototype=new d;
d["Msc "].prototype.lv=function(D,n){n[0]=D.ClSz.v.val};d["Msc "].prototype.Yn=function(D,n){D.ClSz.v.val=n[0]};
d.Pntl=function(){d.call(this,"Pntl");this.Z8=[new gp([12,61],3,100," px")];this.zJ()};d.Pntl.prototype=new d;
d.Pntl.prototype.lv=function(D,n){n[0]=D.ClSz.v};d.Pntl.prototype.Yn=function(D,n){D.ClSz.v=n[0]};d.smartSharpen=function(){d.call(this,"smartSharpen");
this.Z8=[new gp([12,57],1,200,"%"),new gp([12,56],0,200,"px",1,!0)];this.zJ()};d.smartSharpen.prototype=new d;
d.smartSharpen.prototype.lv=function(D,n){n[0]=D.Amnt.v.val;n[1]=D.Rds.v.val};d.smartSharpen.prototype.Yn=function(D,n){D.Amnt.v.val=n[0];
D.Rds.v.val=n[1]};d.UnsM=function(){d.call(this,"UnsM");this.Z8=[new gp([12,57],1,200," %"),new gp([12,56],.1,400,"px",1,!0),new gp([4,13],0,255," ")];
this.zJ()};d.UnsM.prototype=new d;d.HghP=function(){d.call(this,"HghP");this.Z8=[new gp([12,56],.1,400,"px",1,!0)];
this.zJ()};d.HghP.prototype=new d;d.HsbP=function(){d.call(this,"HsbP");this.Z8=[new aN("Input",["RGB","HSB","HSL"]),new aN("Output",["RGB","HSB","HSL"])];
this.zJ()};d.HsbP.prototype=new d;d["Mxm "]=function(){d.call(this,"Mxm ");this.Z8=[new gp([12,56],.1,200," px",1,!0),new iw([12,76,1],[[12,93,3],"Circle"])];
this.zJ()};d["Mxm "].prototype=new d;d["Mnm "]=function(){d.call(this,"Mnm ");this.Z8=[new gp([12,56],.1,200," px",1,!0),new iw([12,76,1],[[12,93,3],"Circle"])];
this.zJ()};d["Mnm "].prototype=new d;d.Ofst=function(){d.call(this,"Ofst");this.Z8=[new gp([22,4,0],-1024,1024," px"),new gp([22,4,1],-1024,1024," px"),new iw([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.zJ()};d.Ofst.prototype=new d;d.Rept=function(){d.call(this,"Rept");this.Z8=[new d4([12,38],1,300," %"),new d4("Row Shift",-50,50," %"),new d4("Space X",-99,200," %"),new d4("Space Y",-99,200," %"),new dE([4,16,2]),new gu([12,15])];
this.zJ()};d.Rept.prototype=new d;d.Rept.prototype.lv=function(D,n){n[0]=D.Scl.v.val;n[1]=D.Rsft.v.val;
n[2]=D.SpcX.v.val;n[3]=D.SpcY.v.val;n[4]=D.SpcC.v;n[5]=[D.Angl.v]};d.Rept.prototype.Yn=function(D,n){D.Scl.v.val=n[0];
D.Rsft.v.val=n[1];D.SpcX.v.val=n[2];D.SpcY.v.val=n[3];D.SpcC.v=n[4];D.Angl.v=n[5][0];return D};d.Ctoa=function(){d.call(this,"Ctoa");
this.Z8=[new iL([13,0]),new hU(!0),new gp(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new gp(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.zJ()};d.Ctoa.prototype=new d;d.Ctoa.prototype.lv=function(D,n){n[0]=D.Clr.v;n[1]=D.Trsp.v.val;n[2]=D.Opct.v.val};
d.Ctoa.prototype.Yn=function(D,n){D.Clr.v=n[0];D.Trsp.v.val=n[1];D.Opct.v.val=n[2]};d.LqFy=function(){d.call(this,"LqFy");
this.il=!1;this.ik=!1;this.yF=null;this.a7S=null;this.g=0;this.K={om:[[{g:{id:0,name:[24,1,0,1,0],h7:"liq/smudge"}}],[{g:{id:1,name:[24,1,0,1,1],h7:"liq/reconstruct"}}],[{g:{id:2,name:[24,1,0,1,2],h7:"liq/smooth"}}],[{g:{id:3,name:[24,1,0,1,3],h7:"liq/twirl"}}],[{g:{id:4,name:[24,1,0,1,4],h7:"liq/shrink"}}],[{g:{id:5,name:[24,1,0,1,5],h7:"liq/blow"}}],[{g:{id:6,name:[24,1,0,1,6],h7:"liq/pleft"}}],[{g:{id:7,name:"Hand",h7:"tools/hand"}}],[{g:{id:8,name:"Zoom In",h7:"zoomIn"}}],[{g:{id:9,name:"Zoom Out",h7:"zoomOut"}}]],keys:[]};
this.m6=new b2(this.K,!1);this.m6.ob(0);this.m6.h(S.E.W,this.a0q,this);this.tl=iu.kw();this.zU=null;
this.sQ=[];this.hV=-1;this.i1=null;this.a3D=null;this.Ie=null;this.lC=null;this.Ot=null;var D=t.L("div","flexrow");
this.YD=D;this.m.appendChild(D);D.appendChild(this.m6.m);this.view=new ax(!0);this.view.R9(100,100);
this.view.h("mousedown",this.l2,this);this.view.h("mousemove",this.uK,this);this.view.h("mouseup",this.R4,this);
this.view.h("zoom",this._y,this);D.appendChild(this.view.m);var n=t.L("div","form");D.appendChild(n);
this.b4=n;n.style.width="230px";this.X5=[new gp([12,14,0],0,1e3,null,!1,!0),new gp([12,74],0,100,null,!1,!1),new gp([12,84],0,100,null,!1,!1),new dE([12,46]),new gp([12,0],0,100,null,!1,!1),new dE([24,18,5])];
var _=this.tl.Brsh.v;_.Dmtr.v.val=100;var b=[100,50,100,!1,100,!0];for(var k=0;k<this.X5.length;k++){var w=this.X5[k];
w.f(b[k]);if(k==4)w.Mf();w.h(S.E.o,this.ac2,this);n.appendChild(w.m)}var i=this.a6g=new bX([1,12,2],!0,null,!0);
i.h("click",this.FQ,this);n.appendChild(i.m);this.alC=this.S_.bind(this);this.qG=new cA;this.qG.m=t.L("div","floatcont");
this.Zl=new bX("Menu",!1,null,!0);var M=this.Zl.m;M.setAttribute("style","position:absolute; right:13px; top:47px");
t.cc(M,this.a5X.bind(this))};d.LqFy.prototype=new d;d.LqFy.prototype.sL=function(){return!0};d.LqFy.prototype.jf=function(D){this.b4.appendChild(D)};
d.LqFy.prototype.a5X=function(D){if(t.Pn(this.qG.m))return;D.stopPropagation();var n=this.Zl.m.getBoundingClientRect();
this.qG.m.appendChild(this.b4);var _=new ho(S.E.W,!0);_.data={d:S.J.Td,Vl:this.qG,x:n.right+n.width-290,y:n.top+n.height};
this.c(_)};d.LqFy.prototype.EL=function(D){this.il=D.j(dz.u9);var n=G.NF.rV(this.tl,D);if(n!=null){this.tl=n;
this._y();this.X5[0].f(n.Brsh.v.Dmtr.v.val)}else if(D.j(dz.uH)&&D.j(dz.CE)){var _=this.sQ;if(D.j(dz.CO)){if(this.hV+1<_.length)this.hV++}else if(this.hV>0)this.hV--;
this.zU.map=_[this.hV].slice(0);this.vm(null)}else this.view.EL(D)};d.LqFy.prototype.a0q=function(D){if(D.data.d==S.J.Ou){var n=this.g=D.data.g;
this.m6.ob(this.g);this.view.EL(n>6?ax.a5I(n-7):new dz)}};d.LqFy.prototype.ac2=function(D){var n=D.currentTarget,k=this.X5.indexOf(n),_=this.tl.Brsh.v;
if(k==0){_.Dmtr.v.val=n.B();this._y()}this.X5[4].bs(this.X5[3].B());if(k>2)this.vm(null)};d.LqFy.prototype.NY=function(){var D=this.sQ;
this.hV++;D[this.hV]=this.zU.map.slice(0);while(D.length>this.hV+1)D.pop();while(D.length>50){D=D.slice(1);
this.hV--}};d.LqFy.prototype.l2=function(D){this.yF=this.view.jF();this.a7S=new gZ(0,0);this.ik=!0;window.requestAnimationFrame(this.alC)};
d.LqFy.prototype.uK=function(D){var n=this.view.jF(),_=new gZ(n.x-this.yF.x,n.y-this.yF.y);if(this.g==0||this.g==6)this.aoM(_);
this.yF=n};d.LqFy.prototype.R4=function(D){this.NY();this.ik=!1};d.LqFy.prototype.S_=function(D){if(this.g!=0&&this.g!=6)this.aoM(new gZ(0,0));
if(this.ik)window.requestAnimationFrame(this.alC)};d.LqFy.prototype.aoM=function(D){var n=this.zU,_=n.Wj/this.i1.l,b=this.yF,w=this.tl.Brsh.v,i=w.Dmtr.v.val,M=Date.now(),N=n.Wj,a=n.Rw,o=Math.sqrt(D.x*D.x+D.y*D.y),U=Math.max(1,Math.ceil(o/2)),V=D.x/U,c=D.y/U,E=b.clone(),A=this.g,Q=this.X5[1].B()/100,J=this.X5[2].B()/100,L=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],P=L[A*2],u=L[A*2+1],m=(1-Q)*P+Q*u,x=i*_/2;
for(var k=0;k<U;k++){var v=[];E.x+=V;E.y+=c;B.zN.ajF(n.map,N,a,A,E.x*_,E.y*_,x,Q,J,V*_,c*_,v,this.il);
B.zN.a7X(N,a,n.map,v,2*m*J)}var W=new gl(0,0,N,a),Z=new gl(b.x*_,b.y*_,0,0);Z.Iq(i*_*.5,i*_*.5);var r=Z.clone();
r.offset(D.x*_,D.y*_);Z=Z.Ik(r);var X=new gl(Z.x/_,Z.y/_,Z.l/_,Z.e/_);X=B.H.__(X).zE(this.i1);this.X5[5].f(!0);
this.vm(X)};d.LqFy.prototype._y=function(){var D=eg.cs(this.tl,null,this.view.zI().V);this.view.Nm(D)};
d.LqFy.prototype.f=function(D,n,_,b,w){_=_.clone();if(n==null)return;if(!b.l8(_)){var i=_.Ik(b),M=B.U(i.u()*4);
B.E3(n,_,M,i);n=M;_=i;var N=B.U(i.u()*4);B.E3(w,b,N,i);w=N}_.x=_.y=0;this.Ie=n;this.a3D=w;this.Ot=n.slice(0);
this.lC=n.slice(0);this.i1=_;this.zU=iO.Z6(new Uint8Array(D.LqMe.v).buffer);var a=_.l,o=_.e;if(this.zU.Wj/a<.22){this.zU={Wj:Math.floor(a/4),Rw:Math.floor(o/4)};
this.zU.map=new Float32Array(this.zU.Wj*this.zU.Rw*2)}this.sQ=[];this.hV=-1;this.NY();this.vm(null);
this.view.Kg();this._y()};d.LqFy.prototype.B=function(){var D=cq.D2("LqFy"),n=new Uint8Array(iO.dK(this.zU)),_=[];
for(var k=0;k<n.length;k++)_.push(n[k]);D.LqMe.v=_;return D};d.LqFy.prototype.R9=function(D,n){this.m6.R9(D,n);
var _=this.Zl.m,b=this.b4;this.YD.appendChild(b);this.YD.appendChild(_);if(D>450&&D-n>200){b.style.marginLeft="1em";
this.YD.removeChild(_);this.view.R9(D-238-45,n)}else{b.style.marginLeft="";this.YD.removeChild(b);this.view.R9(D-40,n)}};
d.LqFy.prototype._=function(){this.m6._();this.a6g._();for(var k=0;k<this.X5.length;k++)this.X5[k]._()};
d.LqFy.prototype.FQ=function(){this.zU.map.fill(0);this.NY();this.vm(null)};d.LqFy.prototype.vm=function(D){var n=this.i1,_=this.Ie,b=this.Ot,w=this.zU;
if(this.X5[5].B())B.zN.R0(_,this.lC,n.l,n.e,D,w.map,w.Wj,w.Rw,0);else this.lC.set(_);if(this.X5[3].ME()){B.E3(this.a3D,n,b,n,D?D:n);
B.a.dG("norm",this.lC,n,b,n,D?D:n,this.X5[4].B()/100)}else B.nb(this.lC,b);this.view.f([{jr:n,data:b.buffer}])};
d.GEfc=function(){d.call(this,"GEfc");this.$j=0;this.mP=0;this.Ie=null;this.Ot=null;this.i1=null;this.Wc=null;
this.Ga=null;this.bx=0;var D=t.L("div","flexrow");this.YD=D;this.m.appendChild(D);this.view=new ax(null);
this.view.R9(100,100);D.appendChild(this.view.m);this.AK="";this.dN=270;var n=this.RP=t.L("div","form scrollable");
D.appendChild(n);n.setAttribute("style","width:"+this.dN+"px;  margin-left:10px");var _=this.Ml=t.L("div","form");
D.appendChild(_);_.setAttribute("style","width:230px;  margin-left:1em");this._P={};for(var b in fa.names){var w=new d.GEfc.tx(b);
w.parent=this;this._P[b]=w;w.h(S.E.o,this.akC,this)}this.b_=!0;this.Zl=new bX("Menu",null,null,!0);this.Zl.h("click",this.a0D,this);
D.appendChild(this.Zl.m);this.Gs=new bX(">>",null,null,!0);this.Gs.h("click",this.acn,this);_.appendChild(this.Gs.m);
this.Br=t.L("div");this.Br.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
_.appendChild(this.Br);this.J2=t.L("div");this.J2.style.minHeight="14em";this.J2.style.marginBottom="1em";
_.appendChild(this.J2);this.LO=t.L("div","lpbody scrollable");this.YY=t.L("div","lpfoot");_.appendChild(this.LO);
_.appendChild(this.YY);this.h("click",this.a5b,this);this.Ci=[];fd.NH([[5,3],[5,4]],this.Ci,this.YY,this.XP.bind(this))};
d.GEfc.prototype=new d;d.GEfc.prototype.sL=function(){return!0};d.GEfc.prototype.jf=function(D){this.Br.appendChild(D)};
d.GEfc.prototype.gB=function(D,n){this.Wc=D};d.GEfc.prototype.acn=function(D){var n=this.RP.style.display!="none";
this.RP.style.display=n?"none":"";this.Gs.v$(n?"<<":">>");this.R9()};d.GEfc.prototype.a0D=function(D){this.b_=!this.b_;
this.R9()};d.GEfc.prototype.R9=function(D,n){var _=this.RP.style.display!="none";if(D!=null){this.$j=D;
this.mP=n;if(D<1e3&&_||D>=1e3&&!_){this.acn();_=!_}this.b_=D>600}else{D=this.$j;n=this.mP}var b=this.b_?240+(_?this.dN+10:0):0;
if(t.Pn(this.Ml)&&!this.b_){this.YD.removeChild(this.RP);this.YD.removeChild(this.Ml)}if(!t.Pn(this.Ml)&&this.b_){this.YD.appendChild(this.RP);
this.YD.appendChild(this.Ml)}this.RP.style.height=n+"px";this.view.R9(D-b,n);this.LO.style.height=n-this.J2.getBoundingClientRect().height-96+"px";
this.Zl.m.setAttribute("style","position:absolute; top:46px;  right:"+(b+16)+"px")};d.GEfc.prototype.apA=function(){var D=eF.dm.get("img/beach",!0)[0],n=D.jr,_=this.RP,b=Math.floor(t.F()*(this.dN-40)/3),w=~~(b*.7),i=new gl(0,0,b,w),M=B.U(b*w*4),N=M.slice(0),a=Math.round(10*t.F()),o=new ImageData(new Uint8ClampedArray(N.buffer),b,w);
B.E3(new Uint8Array(D.data),n,M,new gl(Math.round((n.l-b)/2),Math.round((n.e-w)/2),b,w));var U=t.L("canvas"),V=U.getContext("2d");
U.width=b;U.height=w+Math.round(a*1.5);V.font=a+"px sans-serif";this.ra={};var c=this.a9z.bind(this);
for(var k=0;k<fa.y8.length;k++){var E=fa.y8[k],A=t.L("div");_.appendChild(A);A.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
A.textContent=io.get(E);for(var Q in fa.names){var J=fa.names[Q];if(J[0]!=k)continue;fa.pe(Q,{rect:i,buffer:M},fa.D2(Q),{p:0,z:0,S:0},{p:255,z:255,S:255},{rect:i,buffer:N},{});
V.fillStyle="black";V.fillRect(0,0,500,500);V.putImageData(o,0,0);var L=io.get(J[1]);V.fillStyle="white";
V.fillText(L,(b-V.measureText(L).width)/2,w+Math.round(a*1.1));var P=t.L("div");_.appendChild(P);P.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
P.addEventListener("click",c,!1);var A=t.L("img");P.appendChild(A);A.setAttribute("src",U.toDataURL());
A.setAttribute("style","width:"+b/t.F()+"px; margin-bottom:0px;");this.ra[Q]=P}}};d.GEfc.prototype.a9z=function(D){var n;
for(var _ in this.ra)if(this.ra[_]==D.currentTarget)this.AK=_;this.akC()};d.GEfc.prototype.XP=function(D){var n=fd.Fz(this.Ci,D),_=this.Ga.GEfs.v,b=_[this.bx].v;
if(n==0){_.push(JSON.parse(JSON.stringify(_[this.bx])));this.bx=_.length-1}else if(_.length>1){_.splice(this.bx,1);
if(this.bx==_.length)this.bx--}this.Sz();this.vm()};d.GEfc.prototype.akC=function(D){var n=this.AK,_;
if(D==null)_=fa.D2(n);else _=this._P[n].B();this.Ga.GEfs.v[this.bx].v=_;this.Sz();this.vm()};d.GEfc.prototype.f=function(D,n,_,b,w){if(this.ra==null)this.apA();
D=this.Ga=JSON.parse(JSON.stringify(D));if(D.GEfs==null)D=this.Ga={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:D}]}};
var i=D.GEfs.v;for(var k=0;k<i.length;k++)if(i[k].v.GELv==null)i[k].v.GELv={t:"bool",v:!0};this.bx=i.length-1;
this.Sz();_=_.clone();if(n==null)return;if(!b.l8(_)&&fa.Oi(D).x!=0){var M=_.Ik(b),N=B.U(M.u()*4);B.E3(n,_,N,M);
n=N;_=M}_.x=_.y=0;this.Ie=n;this.Ot=n.slice(0);this.i1=_;this.vm();this.view.Kg()};d.GEfc.prototype.a5b=function(D){var n=D.data,k=n.gH,_=this.Ga.GEfs.v;
if(n.hK){_[k].v.GELv.v=!_[k].v.GELv.v;this.vm()}else this.bx=k;this.Sz()};d.GEfc.prototype.Sz=function(){var D=this.Ga.GEfs.v,n=D[this.bx].v,_=n.GEfk.v.GEft,b=this.J2;
if(fa.names[_]==null){alert("Unsupported gallery filter");t.hz(b)}else{this.AK=_;for(var w in this.ra)t.ad(this.ra[w],"selected");
t.ES(this.ra[_],"selected");var i=this._P[_];i.f(n);if(b.firstChild!=i.m){t.hz(b);b.appendChild(i.m)}}var M=[];
for(var k=0;k<D.length;k++){var N=D[k].v,a=fa.names[N.GEfk.v.GEft],o=new ee(k,!0,!0,null,a?a[1]:"Filter",k==this.bx,N.GELv.v);
o.parent=this;M.push(o.m)}t.hz(this.LO);M.reverse();for(var k=0;k<M.length;k++)this.LO.appendChild(M[k]);
this.R9()};d.GEfc.prototype.B=function(){return JSON.parse(JSON.stringify(this.Ga))};d.GEfc.prototype.vm=function(D){var n=this.i1,_=this.Ie,b=this.Ot,w=this.AK,i=this.Ga,M=this.Wc;
function N(a){return{p:a>>>16,z:a>>>8&255,S:a&255}}cq.pe("GEfc",{rect:this.i1,buffer:this.Ie},i,N(M.EH),N(M.Cp),{rect:this.i1,buffer:this.Ot},null);
this.view.f([{jr:n,data:b.buffer}])};d.GEfc.prototype._=function(){for(var D in this._P)this._P[D]._();
fd.Rj(this.Ci,["lrs/newlayer","lrs/bin"])};d.GEfc.tx=function(D){cA.call(this);this.bR=D;this.m=t.L("div");
this.x9={};var n=fa.D2(D);for(var _ in n){var b=null;if(_=="__name"||_=="classID"||_=="GEfk"||_=="GELv"||["FlRs"].indexOf(_)!=-1)continue;
else if(_=="EdgW")b=new gp("Edge Width",1,14);else if(_=="EdgB")b=new gp("Edge Brightness",0,D=="AccE"?50:20);
else if(_=="Smth")b=new gp([19,3,3],1,D=="Stmp"?50:15);else if(_=="ClSz")b=new gp([12,61],3,100);else if(_=="BrdT")b=new gp([7,9],1,20);
else if(_=="HghS")b=new gp([12,64],0,20);else if(_=="HlSz")b=new gp([12,14,0],1,15);else if(_=="Cntr")b=new gp([12,3,0],0,D=="WtrP"?100:50);
else if(_=="Shrp")b=new gp("Sharpness",0,40);else if(_=="SprR")b=new gp("Spray Radius",0,25);else if(_=="LgDr")b=new gp("Light/Dark Balance",0,D=="Stmp"?50:100);
else if(_=="Drkn")b=new gp("Darkness",1,50);else if(_=="Dstr")b=new gp("Distortion",0,20);else if(_=="Scln")b=new gp([12,38],50,200);
else if(_=="Rlf")b=new gp("Relief",0,D=="Ptch"||D=="NtPr"?25:50);else if(_=="ChAm")b=new gp("Thickness",1,7);
else if(_=="Pncl")b=new gp([19,2,5],1,30);else if(_=="StrP")b=new gp("Stroke Pressure",0,15);else if(_=="PprB")b=new gp("Paper Brightness",0,50);
else if(_=="BrsS")b=new gp("Brush Size",0,10);else if(_=="BrsD")b=new gp("Brush Detail",0,10);else if(_=="Txtr")b=new gp([12,67],1,3);
else if(_=="Grn")b=new gp("Grain",0,20);else if(_=="HghA")b=new gp("Highlight Area",0,20);else if(_=="Intn")b=new gp("Intensity",0,10);
else if(_=="Brgh")b=new gp("Glow Brightness",0,D=="WtrP"?100:50);else if(_=="StrS")b=new gp("Stroke Size",1,50);
else if(_=="StDt")b=new gp("Stroke Detail",1,3);else if(_=="Sftn")b=new gp("Softness",0,10);else if(_=="EdgT")b=new gp("Edge Thickness",0,10);
else if(_=="EdgI")b=new gp("Edge Intensity",0,10);else if(_=="Pstr")b=new gp("Posterization",0,6);else if(_=="Dfnt")b=new gp("Definition",0,25);
else if(_=="TxtC")b=new gp("Texture Coverage",0,50);else if(_=="ShdI")b=new gp("Shadow Intensity",0,10);
else if(_=="DrcB")b=new gp("Direction Balance",0,100);else if(_=="Strg")b=new gp([12,64],1,3);else if(_=="Blnc")b=new gp("Balance",0,10);
else if(_=="BlcI")b=new gp("Black Intensity",0,10);else if(_=="WhtI")b=new gp("White Intensity",0,10);
else if(_=="DrkI")b=new gp("Dark Intensity",0,50);else if(_=="LghI")b=new gp("Light Intensity",0,50);
else if(_=="StrW")b=new gp("Stroke Width",3,15);else if(_=="Grns")b=new gp("Graininess",0,D=="NtPr"?20:10);
else if(_=="GlwA")b=new gp("Glow Amount",0,20);else if(_=="ClrA")b=new gp("Clear Amount",0,20);else if(_=="ChrA")b=new gp("Charcoal Area",0,20);
else if(_=="ChlA")b=new gp("Chalk Area",0,20);else if(_=="FrgL")b=new gp("Foreground Level",1,15);else if(_=="BckL")b=new gp("Background Level",1,15);
else if(_=="WhtL")b=new gp("Background Level",0,50);else if(_=="BlcL")b=new gp("Foreground Level",0,50);
else if(_=="ImgB")b=new gp("Image Balance",0,50);else if(_=="Dnst")b=new gp([12,74],0,50);else if(_=="FbrL")b=new gp("Fiber Length",3,50);
else if(_=="CrcS")b=new gp("Crack Sapcing",2,100);else if(_=="CrcD")b=new gp("Crack Depth",0,10);else if(_=="CrcB")b=new gp("Crack Brightness",0,10);
else if(_=="TlSz")b=new gp("Tile Size",2,100);else if(_=="GrtW")b=new gp("Grout Width",1,15);else if(_=="LghG")b=new gp("Lighten Grout",0,10);
else if(_=="SqrS")b=new gp("Square Size",0,10);else if(_=="RplS")b=new gp("Ripple Size",1,15);else if(_=="RplM")b=new gp("Ripple Magnitude",0,20);
else if(_=="NmbL")b=new gp("Number of Levels",2,8);else if(_=="EdgS")b=new gp("Edge Simplicity",0,10);
else if(_=="EdgF")b=new gp("Edge Fidelity",1,3);else if(_=="Sz")b=D=="NGlw"?new gp("Glow Size",-24,24):new gp("Brush Size",1,50);
else if(_=="Dtl")b=D=="Chrc"?new gp("Detail",0,5):new gp("Detail",1,15);else if(_=="StrL")b=D=="InkO"?new gp("Stroke Length",1,50):new gp("Stroke Length",0,20);
else if(_=="TxtT")b=new iw([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(_=="BrsT")b=new iw("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(_=="Grnt")b=new iw("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(_=="SDir")b=new iw([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(_=="ScrT")b=new iw([12,62],["Circle","Dot",[10,35]]);
else if(_=="LghD"||_=="LghP")b=new iw("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(_=="Clr")b=new hU("Glow Color");else if(_=="InvT")b=new dE([4,11]);else console.log(_);b.h(S.E.o,this.bo,this);
b.parent=this;this.x9[_]=b;this.m.appendChild(b.m)}};d.GEfc.tx.prototype=new cA;d.GEfc.tx.prototype.bo=function(D){this.c(new ho(S.E.o,!1))};
d.GEfc.age="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
d.GEfc.tx.prototype.f=function(D){for(var n in this.x9){var _;if(d.GEfc.age.indexOf(n)!=-1)_=D[n].v;
else if(n=="TxtT")_=fa.ja.indexOf(D[n].v[n]);else if(n=="BrsT")_=fa.ed.indexOf(D[n].v[n]);else if(n=="LghD")_=fa.tI.indexOf(D[n].v[n]);
else if(n=="LghP")_=fa.jk.indexOf(D[n].v[n]);else if(n=="Grnt")_=fa.s3.indexOf(D[n].v[n]);else if(n=="ScrT")_=fa.OK.indexOf(D[n].v[n]);
else if(n=="SDir")_=fa.zi.indexOf(D[n].v.StrD);this.x9[n].f(_)}};d.GEfc.tx.prototype.B=function(){var D=fa.D2(this.bR);
for(var n in this.x9){var _=this.x9[n].B();if(d.GEfc.age.indexOf(n)!=-1)D[n].v=_;else if(n=="TxtT")D[n].v[n]=fa.ja[_];
else if(n=="BrsT")D[n].v[n]=fa.ed[_];else if(n=="LghD")D[n].v[n]=fa.tI[_];else if(n=="LghP")D[n].v[n]=fa.jk[_];
else if(n=="Grnt")D[n].v[n]=fa.s3[_];else if(n=="ScrT")D[n].v[n]=fa.OK[_];else if(n=="SDir")D[n].v.StrD=fa.zi[_]}return D};
d.GEfc.tx.prototype._=function(){for(var D in this.x9)this.x9[D]._()};d.blnc=function(){d.call(this);
var D=this.m;this.tm=null;this._$=new iw([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this._$.h(S.E.o,this.vm,this);
D.appendChild(this._$.m);this.N5=[];for(var k=0;k<3;k++){var n=new gp(fg.Ay[k],-100,100);n.h(S.E.o,this.s$,this);
this.N5.push(n);D.appendChild(n.m)}this.hD=new dE([13,4]);this.hD.h(S.E.o,this.s$,this);D.appendChild(this.hD.m)};
d.blnc.prototype=new d;d.blnc.prototype._=function(){this._$._();for(var k=0;k<3;k++)this.N5[k]._();
this.hD._()};d.blnc.prototype.f=function(D){this.tm=JSON.parse(JSON.stringify(D));this.vm()};d.blnc.prototype.B=function(D){var n=["ShdL","MdtL","HghL"],_=this.tm[n[this._$.B()]].v;
for(var k=0;k<3;k++)_[k].v=this.N5[k].B();this.tm.PrsL.v=this.hD.B();return JSON.parse(JSON.stringify(this.tm))};
d.blnc.prototype.vm=function(D){var n=["ShdL","MdtL","HghL"],_=this.tm[n[this._$.B()]].v;for(var k=0;
k<3;k++)this.N5[k].f(_[k].v);this.hD.f(this.tm.PrsL.v)};d.brit=function(){d.call(this,"brit");this.Z8.push(new gp([12,2],-150,150,""));
this.Z8.push(new gp([12,3,0],-100,100,""));this.Z8.push(new dE([12,3,1]));this.zJ()};d.brit.prototype=new d;
d.brit.prototype.lv=function(D,n){n[0]=D.Brgh?D.Brgh.v:0;n[1]=D.Cntr?D.Cntr.v:0;n[2]=D.useLegacy?D.useLegacy.v:!1};
d.brit.prototype.Yn=function(D,n){D.Brgh.v=n[0];D.Cntr.v=n[1];D.useLegacy.v=n[2]};d.curv=function(){d.call(this);
this.value=null;this.aN=null;var D=this.m;this.t5=new iw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.t5.h(S.E.o,this.$$,this);D.appendChild(this.t5.m);this.pu=new iw(null,["Spline","Sketch"]);this.pu.h(S.E.o,this.auj,this);
D.appendChild(this.pu.m);this.T0=new ip;this.T0.parent=this;this.T0.h(S.E.o,this.Wq,this);D.appendChild(this.T0.m);
t.f7(D);this.Nh=new g7;this.Nh.h(S.E.o,this.A4,this);D.appendChild(this.Nh.m);this.Ao=null;this.a8V=0;
this.gj=0;t.f7(D);this.CF=new i5("Sample from image",aN.qr(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.CF.h(S.E.o,this.SS,this);this.CF.m.style.marginRight="0";D.appendChild(this.CF.m)};d.curv.prototype=new d;
d.curv.prototype.R9=function(D,n){this.Nh.R9(D,n)};d.curv.prototype._=function(){this.t5._()};d.curv.prototype.auj=function(D){var n=jx.tg(this.value,0),_=n.length==256?1:0,b=this.pu.B();
if(_==b)return;var w=cq.D2("curv");if(b==1){var i=[];for(var k=0;k<256;k++)i.push(k);jx.Pt(w,0,i)}this.f(w);
this.s$()};d.curv.prototype.A4=function(){jx.Pt(this.value,this.t5.B(),this.Nh.B());this.s$()};d.curv.prototype.$$=function(){var D=this.t5.B(),n=jx.tg(this.value,D),_=n.length==256?1:0;
this.pu.f(_);if(this.aN)this.Nh.ZQ(this.aN[D],this.aN[4]*[1,.33,.33,.33][D],["#ccc","#fcc","#cfc","#ccf"][D]);
this.Nh.f(n)};d.curv.prototype.Yy=function(){return!0};d.curv.prototype.EE=function(D,n,_,b,w){var i=this.value;
this.value=cq.D2("curv");this.s$();var M=G.RO.sj(D,w,1),N=this.Ao=[M>>>16&255,M>>>8&255,M&255];this.a8V=w.y;
var a=this.CF.B().indexOf(!0);if(a==0){var o=(N[0]+N[1]+N[2])/3,U=this.t5.B(),V=jx.tg(i,U),c=U==0?o:N[U-1],E=-1;
for(var k=0;k<V.length;k++)if(V[k].v.Hrzn.v==c)E=k;if(E==-1){var A=JSON.parse(JSON.stringify(V[0]));
A.v.Hrzn.v=c;A.v.Vrtc.v=c;V.push(A);V.sort(function(Q,J){return Q.v.Hrzn.v-J.v.Hrzn.v});jx.Pt(i,U,V);
this.gj=V.indexOf(A)}else this.gj=E}this.f(i);this.s$()};d.curv.prototype.cp=function(D,n,_,b,w){if(this.Ao==null)return;
if(this.CF.B().indexOf(!0)==0){var i=this.value,M=this.t5.B(),N=jx.tg(i,M),a=N[this.gj];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.a8V-w.y))));
jx.Pt(i,M,N);this.f(i);this.s$()}};d.curv.prototype.m_=function(D,n,_,b,w){var i=this.value,M=this.Ao,N=(M[0]+M[1]+M[2])/3,a=this.CF.B().indexOf(!0)-1;
if(a<=-1){}else for(var k=0;k<3;k++){var o=jx.tg(i,1+k);if(a==0)o[0].v.Hrzn.v=M[k];if(a==1){var U=Math.log(M[k]/255)/Math.log(N/255),V=Math.min(999,Math.max(10,Math.round(100*U)));
if(o.length==2)o.splice(1,0,JSON.parse(JSON.stringify(o[0])));o[1].v.Hrzn.v=127-Math.log(V/100)*127;
o[1].v.Vrtc.v=127}if(a==2)o[o.length-1].v.Hrzn.v=M[k];jx.Pt(i,1+k,o)}this.f(i);this.s$();this.Ao=null};
d.curv.prototype.f=function(D){this.value=D;this.$$()};d.curv.prototype.ZQ=function(D){this.aN=D;this.$$()};
d.curv.prototype.B=function(D){return JSON.parse(JSON.stringify(this.value))};d.curv.prototype.Wq=function(){var D=this.T0.B(),n=this.aN,_=this.value,b=B.F$(D,n);
for(var k=0;k<4;k++){var w=b[k][0],i=b[k][1],M=b[k][2],N=[B.O1.YE(w,0,!0),B.O1.YE(i,255,!0)];if(M!=null)N.splice(1,0,B.O1.YE(128,M,!0));
jx.Pt(_,k,N)}this.$$();this.s$()};d.expA=function(){d.call(this,"expA");this.Z8.push(new gp([12,5],-20,20,null,3));
this.Z8.push(new gp([12,6],-.5,.5,null,3));this.Z8.push(new gp([12,7],.01,6.99,null,3));this.zJ()};d.expA.prototype=new d;
d.expA.prototype.lv=function(D,n){n[0]=D.Exps.v;n[1]=D.Ofst?D.Ofst.v:0;n[2]=D.gammaCorrection?D.gammaCorrection.v:1};
d.expA.prototype.Yn=function(D,n){D.Exps={t:"doub",v:n[0]};D.Ofst={t:"doub",v:n[1]};D.gammaCorrection={t:"doub",v:n[2]}};
d.grdm=function(){d.call(this,"grdm");this.Z8.push(new hl(!0,null,!0));this.Z8.push(new dE([12,23,0]));
this.zJ()};d.grdm.prototype=new d;d.grdm.prototype.lv=function(D,n){n[0]=D.Grad.v;n[1]=D.Rvrs?D.Rvrs.v:!1};
d.grdm.prototype.Yn=function(D,n){D.Grad.v=n[0];D.Rvrs={t:"bool",v:n[1]}};d.grdm.prototype.gB=function(D,n){this.Z8[0].XV(D.EH,D.Cp);
if(n==da.XS||n==da.dJ||n==da.$v)this.Z8[0].Gx(D.UT)};d.selc=function(){d.call(this);var D=this.m;this.n2=[];
this.Zq=null;this._$=new iw([12,82],fg.cr.concat([[13,1,8],[13,1,13],[13,1,10]]));this._$.h(S.E.o,this.bo,this);
D.appendChild(this._$.m);t.f7(D);for(var k=0;k<4;k++){var n=new gp(fg.aqo[k],-100,100,"%");n.h(S.E.o,this.bo,this);
this.n2.push(n);D.appendChild(n.m)}this.WJ=new dE([13,3]);D.appendChild(this.WJ.m);this.WJ.h(S.E.o,this.bo,this)};
d.selc.prototype=new d;d.selc.prototype._=function(){this._$._();this.WJ._();for(var k=0;k<4;k++)this.n2[k]._()};
d.selc.prototype.f=function(D){this.Zq=JSON.parse(JSON.stringify(D));this.vm()};d.selc.prototype.B=function(D){return JSON.parse(JSON.stringify(this.Zq))};
d.selc.prototype.bo=function(D){if(D.target!=this._$){var n=this.Zq,_=[];for(var k=0;k<4;k++)_[k]=this.n2[k].B();
c$.Pt(n,this._$.B(),_);n.Mthd={t:"enum",v:{CrcM:this.WJ.B()?"Absl":"Rltv"}}}this.vm();this.s$()};d.selc.prototype.vm=function(){var D=this.Zq,n=c$.tg(D,this._$.B());
for(var k=0;k<4;k++)this.n2[k].f(n[k]);this.WJ.f(D.Mthd?D.Mthd.v.CrcM=="Absl":!1)};d.blwh=function(){d.call(this,"blwh");
this.Z8.push(new dE([12,11]));this.Z8.push(new hU(!0));for(var k=0;k<6;k++)this.Z8.push(new gp(fg.cr[k],-200,300));
this.zJ()};d.blwh.prototype=new d;d.blwh.prototype.lv=function(D,n){n[0]=D.useTint.v;n[1]=D.tintColor.v;
var _="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var k=0;k<6;k++)n[2+k]=D[_[k]].v};d.blwh.prototype.Yn=function(D,n){D.useTint.v=n[0];
D.tintColor.v=n[1];var _="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var k=0;k<6;k++)D[_[k]].v=n[2+k]};
d.hue2=function(){d.call(this);this.value=null;this.vO=null;this.amn=null;this.yK=[[0,0,0],[0,50,0]];
var D=this.m;this.CF=new i5(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.CF.h(S.E.o,this.aue,this);this.CF.h(S.E.o,this.SS,this);D.appendChild(this.CF.m);this._$=new iw([12,12],["Master"].concat(fg.cr));
this._$.h(S.E.o,this.$$,this);D.appendChild(this._$.m);this.Bc=new gp([12,8],-180,180);this.Bc.h(S.E.o,this.PV,this);
D.appendChild(this.Bc.m);this.l4=new gp([12,9],-100,100);this.l4.h(S.E.o,this.PV,this);D.appendChild(this.l4.m);
this.C1=new gp([12,10],-100,100);this.C1.h(S.E.o,this.PV,this);D.appendChild(this.C1.m);this.OM=new dE([12,11]);
this.OM.h(S.E.o,this.PV,this);D.appendChild(this.OM.m);this.na=new i5("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.na.h(S.E.o,this.aue,this);this.na.h(S.E.o,this.SS,this);this.na.m.style.marginLeft="20px";D.appendChild(this.na.m);
this.Ko=t.L("div");D.appendChild(this.Ko);this.SD=this.JS.bind(this);this.ar=this.PW.bind(this);this.O=t.L("canvas");
this.aB=this.O.getContext("2d");this.eG=null;t.zk(this.O);t.vb(this.O,282,18);D.appendChild(this.O);
t.cc(this.O,this.oV.bind(this))};d.hue2.prototype=new d;d.hue2.prototype.R9=function(D,n){t.vb(this.O,Math.round(D),18);
if(this.value)this.$$()};d.hue2.prototype.aue=function(D){var n=D.target.B().indexOf(!0);if(n==-1)return;
if(D.target==this.CF)this.na.f([!1,!1,!1]);else this.CF.f([!1,!1,!1])};d.hue2.prototype.oV=function(D){if(this._$.B()==0||this.OM.B())return;
var n=t.Wt(D,this.O).x/(this.O.width/t.F()),i=1e6;function _(V,c,E){return V<c&&c<E||E<V&&(V<c||c<E)}var b=this.Vs(),w=-1;
for(var k=0;k<4;k++){var M=Math.abs(n-(b[k]+k*1e-5));if(M<i){i=M;w=k}}if(i>.025){w=-1;var N=b[0],a=b[1],o=b[2],U=b[3];
if(_(N,n,a))w=4;if(_(a,n,o))w=5;if(_(o,n,U))w=6}if(w==-1)return;this.eG=w;t.YP(document.body,this.SD);
t.Gv(document.body,this.ar)};d.hue2.prototype.JS=function(D){var n=t.Wt(D,this.O).x/(this.O.width/t.F()),_=this.Vs(),b=this.eG;
for(var k=1;k<4;k++)if(_[k]<_[k-1]){_[k]+=1}if(b<4){var w=1e6,i=0;for(var k=-20;k<20;k++){var M=Math.abs(_[b]-(n+k));
if(M<w){w=M;i=k}}n+=i;_[b]=n;for(var k=b+1;k<4;k++)if(_[k]<_[k-1]){_[k]=_[k-1]}for(var k=b-1;k>=0;k--)if(_[k]>_[k+1]){_[k]=_[k+1]}}else{var N=n-(_[b-4]+_[b-3])/2;
if(N<-.5)N+=1;if(b==4){_[0]+=N;_[1]+=N;_[2]=Math.max(_[1],_[2]);_[3]=Math.max(_[1],_[3])}if(b==5)for(var k=0;
k<4;k++)_[k]+=N;if(b==6){_[2]+=N;_[3]+=N;_[0]=Math.min(_[0],_[2]);_[1]=Math.min(_[1],_[2])}}for(var k=1;
k<4;k++)if(_[k]<_[k-1])throw"e";this.a9r(_);this.$$();this.s$()};d.hue2.prototype.PW=function(D){t.yT(document.body,this.SD);
t.pz(document.body,this.ar)};d.hue2.prototype._=function(){this.Bc._();this.l4._();this.C1._();this.OM._();
this._$._()};d.hue2.prototype.PV=function(D){var n=this.value.Clrz.v=this.OM.B();if(n)this._$.f(0);if(D&&D.target==this.OM){var _=n?1:0;
this.yK[1-_]=bE.tg(this.value,0);var b=this.yK[_];bE.Pt(this.value,0,b);if(this._$.B()==0){this.Bc.f(b[0]);
this.l4.f(b[1]);this.C1.f(b[2])}}var w=this._$.B(),i=bE.tg(this.value,w),b=w==0?i:i.N5;b[0]=this.Bc.B();
var M=this.l4.B();b[1]=n?Math.max(0,M):M;b[2]=this.C1.B();bE.Pt(this.value,w,i);this.$$();this.s$()};
d.hue2.prototype.$$=function(){var D=this._$.B(),n=this.value.Clrz?this.value.Clrz.v:!1;this.OM.f(n);
this._$.bs(!n);this.na.bs(!n&&D!=0);var _=bE.tg(this.value,D),b=D==0?_:_.N5;this.Bc.f(b[0]);this.l4.f(b[1]);
this.C1.f(b[2]);var w=this.O.width,i=this.O.height,M=this.aB;M.clearRect(0,0,w,i);if(n||D==0){this.Ko.innerHTML="";
return}var N=_._f;this.Ko.innerHTML=N[0]+"\xB0 / "+N[1]+"\xB0<span style=\"float:right\">"+N[2]+"\xB0 \\ "+N[3]+"\xB0</span>";
var a=B.U(w*4);dx.ahX(a,1,w,-1,.5);var o=new ImageData(new Uint8ClampedArray(a.buffer),w,1),U=Math.round(i/4);
for(var k=0;k<U;k++)M.putImageData(o,0,k);function V(L,P,u){M.fillStyle=u;var m=U*2;if(L<=P)M.fillRect(L*w,m,(P-L)*w,U);
else{M.fillRect(0,m,P*w,U);M.fillRect(L*w,m,(1-L)*w,U)}}var c=this.Vs();V(c[0],c[1],"#888888");V(c[1],c[2],"#cccccc");
V(c[2],c[3],"#888888");M.fillStyle="#ffffff";M.lineWidth=1;M.beginPath();var E=U+.5,A=4*U+.5;for(var k=0;
k<4;k++){var Q=Math.floor(w*c[k])+.5,J=(k<2?-1:1)*U*(k==1||k==2?1:2);M.moveTo(Q,E);M.lineTo(Q,A);M.lineTo(Q+J,A);
M.lineTo(Q+J,U+U+.5);M.closePath()}M.fill();M.stroke()};d.hue2.prototype.Vs=function(){var D=this._$.B(),n=bE.tg(this.value,D)._f;
for(var k=0;k<4;k++)n[k]=(1000.5+n[k]/360)%1;return n};d.hue2.prototype.a9r=function(D){var n=this._$.B(),_=bE.tg(this.value,n);
for(var k=0;k<4;k++)_._f[k]=Math.round(36e3+(D[k]-.5)*360)%360;bE.Pt(this.value,n,_)};d.hue2.prototype.Yy=function(){return!0};
d.hue2.prototype.a4n=function(){var D=this.CF.B().indexOf(!0),n=this.na.B().indexOf(!0);return D!=-1?D:n!=-1?n+1:-1};
d.hue2.prototype.EE=function(D,n,_,b,w){var i=this.a4n();if(i==-1)return;var M=this.value;this.value=cq.D2("hue2");
this.s$();var N=G.RO.sj(D,w,1);this.f(M);var a=[N>>>16&255,N>>>8&255,N&255],o=B.CS(a[0]/255,a[1]/255,a[2]/255);
if(i==0){this._$.f(1+Math.round(o.Rw*6)%6)}else{var U=this.Vs(),V=.5+o.Rw,c=1/12,E=U[1],A=U[2];if(A<E){A++;
if(V<E&&V+1-A<E-V)V++}var Q=E<=V&&V<=A;if(i==1){E=V-c/2;A=V+c/2}else if(i==2&&!Q){E=Math.min(V,E);A=Math.max(V,A)}else if(i==3&&Q){if(V-E<A-V)E=V;
else A=V}U=[E-c,E,A,A+c];this.a9r(U)}this.s$();this.vO=w.x;this.amn=this.l4.B()};d.hue2.prototype.cp=function(D,n,_,b,w){var i=this.a4n();
if(i==-1)return;if(i==0){if(this.vO!=null){var M=w.x-this.vO;M=Math.max(-100,Math.min(100,this.amn+.5*M));
this.l4.f(M);this.PV()}}};d.hue2.prototype.m_=function(D,n,_,b,w){this.vO=null};d.hue2.prototype.f=function(D){this.value=JSON.parse(JSON.stringify(D));
var n=this.value.Clrz?this.value.Clrz.v:!1;this.yK[n?1:0]=bE.tg(this.value,0);this.$$()};d.hue2.prototype.B=function(D){return JSON.parse(JSON.stringify(this.value))};
d.levl=function(){function D(){d.call(this);this.value=null;this.aN=null;this.Qg=[new gZ(0,0),new gZ(0,0),new gZ(0,0),new gZ(0,0),new gZ(0,0)];
this.Oh=-1;this.SD=this.JS.bind(this);this.ar=this.PW.bind(this);var n=this.m;this.t5=new iw([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.t5.h(S.E.o,this.$$,this);n.appendChild(this.t5.m);this.T0=new ip;this.T0.parent=this;this.T0.h(S.E.o,this.Wq,this);
n.appendChild(this.T0.m);var _=t.L("div","");n.appendChild(_);var b=t.L("div","");n.appendChild(b);this.O=t.L("canvas");
_.appendChild(this.O);this.aB=this.O.getContext("2d");this.gL=new gZ(256,120);this.O.setAttribute("style","display:block");
t.zk(this.O);t.cc(this.O,this.oV.bind(this));this.kK=t.L("canvas","");b.appendChild(this.kK);this.AP=this.kK.getContext("2d");
this.dW=new gZ(this.gL.x,40);this.kK.setAttribute("style","display:block");t.zk(this.kK);t.cc(this.kK,this.aqH.bind(this));
var w=this.Lw=[];for(var k=0;k<5;k++){var i=new gH(null,null,3);w.push(i);i.h(S.E.o,this.apG,this);(k<2||k==4?_:b).appendChild(i.m)}_.appendChild(w[1].m);
this.CF=new i5("Sample from image",aN.qr(["#000000","#888888","#ffffff"]),!0,null,!0);this.CF.h(S.E.o,this.SS,this);
n.appendChild(this.CF.m);this.R9(250,100)}D.prototype=new d;D.prototype.Wq=function(){var n=this.T0.B(),_=this.aN,b=this.value,w=B.F$(n,_);
for(var k=0;k<4;k++){var i=w[k][0],M=w[k][1],N=w[k][2],a=[B.O1.YE(i,0,!0),B.O1.YE(M,255,!0)];if(N!=null)a.splice(1,0,B.O1.YE(128,N,!0));
var o=[~~i,~~M,0,255,N==null?100:~~(100+.75*100*(N-128)/128)];jA.Pt(b,k,o)}this.$$();this.s$()};D.prototype.R9=function(n,_){n+=6;
this.gL.x=this.dW.x=n;t.vb(this.O,n,this.gL.y,this.aB);t.vb(this.kK,n,this.dW.y,this.AP);var b=this.Lw;
b[3].m.setAttribute("style","margin-left: "+(n-104)+"px");b[4].m.setAttribute("style","margin: 0 "+(n/2-74)+"px");
if(this.value)this.$$()};D.prototype._=function(){this.t5._()};D.prototype.apG=function(n){var _=[];
for(var k=0;k<5;k++){var b=255,w=1;if(k==4){b=999;w=100}var i=parseFloat(this.Lw[k].B());_[k]=Math.max(0,Math.min(b,i*w))}jA.Pt(this.value,this.t5.B(),_);
this.$$();this.s$()};D.prototype.$$=function(n){var _=this.gL.x,b=this.gL.y,w=this.t5.B(),i=this.aB;
i.clearRect(0,0,_,b);i.fillStyle="#cccccc";i.fillRect(8,8,_-16,b-16-8);if(this.aN){var M=this.aN[0].slice(0),A=0;
if(w==0){M.fill(0);var N=JSON.parse(JSON.stringify(this.value));jA.Pt(N,0,[0,255,0,255,100]);var a=fg.pG("levl",N),o=[a.Lo,a.aM,a.BS];
for(var U=0;U<3;U++){var V=this.aN[1+U],c=o[U];for(var k=0;k<256;k++)M[c[k]]+=V[k]}}var E=w==0?M:this.aN[w];
for(var k=0;k<E.length;k++)A+=E[k];i.fillStyle="#333333";i.beginPath();i.moveTo(8,b-16);for(var k=0;
k<256;k++){var Q=55*E[k]/A;i.lineTo(8+k/256*(_-16),Math.max(8,b-16-b*Q))}i.lineTo(_-8,b-16);i.closePath();
i.fill()}var J=jA.tg(this.value,w);for(var k=0;k<5;k++)this.Lw[k].f(J[k]/(k==4?100:1));this.Qg[0].bq(8+J[0]/255*(_-16),b-14);
this.Qg[1].bq(8+J[1]/255*(_-16),b-14);var L=Math.log(J[4]/100)/Math.log(9.99);L=.5-L/2;this.Qg[4].bq(this.Qg[0].x+L*(this.Qg[1].x-this.Qg[0].x),b-14);
this.Ba(i,this.Qg[0],"#000000");this.Ba(i,this.Qg[1],"#ffffff");this.Ba(i,this.Qg[4],"#777777");var _=this.dW.x,b=this.dW.y;
i=this.AP;i.clearRect(0,0,_,b);var P=i.createLinearGradient(0,0,_-16,0);P.addColorStop(0,"black");P.addColorStop(1,"white");
i.fillStyle=P;i.fillRect(8,8,_-16,16);this.Qg[2].bq(8+J[2]/255*(_-16),b-14);this.Qg[3].bq(8+J[3]/255*(_-16),b-14);
this.Ba(i,this.Qg[2],"#000000");this.Ba(i,this.Qg[3],"#ffffff")};D.prototype.Ba=function(n,_,b){n.fillStyle=b;
n.fillRect(_.x-5,_.y,10,10)};D.prototype.oV=function(n){var _=t.Wt(n,this.O),b=this.aiM([0,1,4],_);if(b!=-1)this.Oh=b;
this.aui()};D.prototype.aqH=function(n){var _=t.Wt(n,this.kK),b=this.aiM([2,3],_);if(b!=-1)this.Oh=b;
this.aui()};D.prototype.aiM=function(n,_){var b=-1,w=1e9;for(var k=0;k<n.length;k++){var i=Math.abs(this.Qg[n[k]].x-_.x);
if(i<w){w=i;b=n[k]}}return w<16?b:-1};D.prototype.aui=function(n){if(this.Oh==-1)return;t.YP(document.body,this.SD);
t.Gv(document.body,this.ar)};D.prototype.JS=function(n){var _=jA.tg(this.value,this.t5.B()),b=t.Wt(n,this.Oh==2&&this.Oh==3?this.kK:this.O),w=255*(b.x-8)/(this.gL.x-16);
w=Math.max(0,Math.min(255,w));if(this.Oh==0)w=Math.min(w,_[1]-2);if(this.Oh==1)w=Math.max(w,_[0]+2);
if(this.Oh!=4)_[this.Oh]=Math.round(w);else{var i=(w-_[0])/(_[1]-_[0]);i=1-2*i;i=Math.pow(9.99,i);_[4]=Math.min(999,Math.max(10,Math.round(i*100)))}jA.Pt(this.value,this.t5.B(),_);
this.$$();this.s$()};D.prototype.PW=function(n){t.yT(document.body,this.SD);t.pz(document.body,this.ar);
this.Oh=-1};D.prototype.Yy=function(){return!0};D.prototype.m_=function(n,_,b,w,i){var M=this.value,N=this.CF.B().indexOf(!0);
if(N==-1)return;this.value=cq.D2("levl");this.s$();var a=G.RO.sj(n,i,1),o=[a>>>16&255,a>>>8&255,a&255];
for(var k=0;k<3;k++){var U=jA.tg(M,1+k);if(N==0)U[0]=o[k];if(N==1){var V=Math.log(o[k]/255)/Math.log((o[0]+o[1]+o[2])*.333/255);
U[4]=Math.min(999,Math.max(10,Math.round(100*V)))}if(N==2)U[1]=o[k];jA.Pt(M,1+k,U)}this.f(M);this.s$()};
D.prototype.f=function(n){this.value=n;this.$$()};D.prototype.ZQ=function(n){this.aN=n;this.$$()};D.prototype.B=function(n){return JSON.parse(JSON.stringify(this.value))};
return D}();d.phfl=function(){d.call(this,"phfl");this.Z8.push(new hU);this.Z8.push(new gp([12,74],0,100,"%"));
this.Z8.push(new dE([13,4]));this.zJ()};d.phfl.prototype=new d;d.phfl.prototype.lv=function(D,n){n[0]=D.Clr.v;
n[1]=D.Dnst.v;n[2]=D.PrsL.v};d.phfl.prototype.Yn=function(D,n){var _=B.X.kj(n[0]),b=D.Clr.v,w=B.aS(_.p,_.z,_.S);
b.Lmnc.v=w.ue;b.A.v=w.vd;b.B.v=w.S;D.Dnst.v=n[1];D.PrsL.v=n[2]};d.vibA=function(){d.call(this,"vibA");
this.Z8.push(new gp([12,13],-100,100,null));this.Z8.push(new gp([12,9],-100,100,null));this.zJ()};d.vibA.prototype=new d;
d.vibA.prototype.lv=function(D,n){n[0]=D.vibrance?D.vibrance.v:0;n[1]=D.Strt?D.Strt.v:0};d.vibA.prototype.Yn=function(D,n){D.vibrance.v=n[0];
D.Strt.v=n[1]};d.thrs=function(){d.call(this,"thrs");this.Z8.push(new gp([4,13],1,255,null));this.zJ()};
d.thrs.prototype=new d;d.thrs.prototype.lv=function(D,n){n[0]=D.Lvl.v};d.thrs.prototype.Yn=function(D,n){D.Lvl.v=n[0]};
d.mixr=function(){d.call(this);var D=this.m;this.n2=[];this.Zq=null;this._$=new iw([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this._$.h(S.E.o,this.bo,this);D.appendChild(this._$.m);t.f7(D);this.YH=new dE([12,60]);D.appendChild(this.YH.m);
this.YH.h(S.E.o,this.bo,this);for(var k=0;k<4;k++){var n=new gp([[13,1,1],[13,1,4],[13,1,5],[13,2]][k],-200,200,"%");
n.h(S.E.o,this.bo,this);this.n2.push(n);D.appendChild(n.m)}};d.mixr.prototype=new d;d.mixr.prototype._=function(){this._$._();
this.YH._();for(var k=0;k<4;k++)this.n2[k]._()};d.mixr.prototype.f=function(D){this.Zq=JSON.parse(JSON.stringify(D));
this.vm()};d.mixr.prototype.B=function(D){return JSON.parse(JSON.stringify(this.Zq))};d.mixr.prototype.bo=function(D){if(D.target!=this._$){var n=fg.Ip(this.Zq);
if(D.target==this.YH){n.YH=this.YH.B();if(n.YH)n.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else n.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var _=(n.YH?0:this._$.B())*5,k=this.n2.indexOf(D.target);
n.k[_+(k<3?k:4)]=D.target.B()}this.Zq=fg.KR(n)}this.vm();this.s$()};d.mixr.prototype.vm=function(){var D=fg.Ip(this.Zq);
this.YH.f(D.YH);var n=(D.YH?0:this._$.B())*5;for(var k=0;k<4;k++)this.n2[k].f(D.k[n+(k<3?k:4)])};d.post=function(){d.call(this,"post");
this.Z8.push(new gp([4,1],2,255,null));this.zJ()};d.post.prototype=new d;d.post.prototype.lv=function(D,n){n[0]=D.Lvls.v};
d.post.prototype.Yn=function(D,n){D.Lvls.v=n[0]};d.clrL=function(){d.call(this,"clrL");this.Z8.push(new eN("LUTs"));
this.zJ()};d.clrL.prototype=new d;d.clrL.prototype.lv=function(D,n){n[0]=D};d.clrL.prototype.Yn=function(D,n){var _=n[0];
for(var b in _)D[b]=_[b]};d.clrL.prototype.gB=function(D,n){if(n==da.XS||n==da.jN)this.Z8[0].Gx(D.aaF)};
d.rplc=function(){d.call(this,"rplc");this.Z8.push(new gp([12,92],0,200));this.Z8.push(new hU);this.Z8.push(new gp([12,8],-180,180));
this.Z8.push(new gp([12,9],-100,100));this.Z8.push(new gp([12,10],-100,100));this.zJ()};d.rplc.prototype=new d;
d.rplc.prototype.lv=function(D,n){n[0]=D.Fzns.v;n[1]=D.Mxm.v;n[2]=D.H.v;n[3]=D.Strt.v;n[4]=D.Lght.v};
d.rplc.prototype.Yn=function(D,n){function _(w,i){i.Lmnc.v=w.ue;i.A.v=w.vd;i.B.v=w.S}D.Fzns.v=n[0];D.H.v=n[2];
D.Strt.v=n[3];D.Lght.v=n[4];var b=B.X.kj(n[1]),w=B.aS(b.p,b.z,b.S);_(w,D.Mnm.v);_(w,D.Mxm.v)};d.fade=function(){d.call(this,"fade");
this.Z8.push(new gp([12,0],0,100,"%"));this.Z8.push(new iw([12,19,0],jz.BP,!1,jz.Fk));this.zJ()};d.fade.prototype=new d;
d.fade.prototype.lv=function(D,n){n[0]=D.Opct.v.val;n[1]=jz.t7.indexOf(D.Md.v.BlnM)};d.fade.prototype.Yn=function(D,n){D.Opct.v.val=n[0];
D.Md.v.BlnM=jz.t7[n[1]]};d.aply=function(){var D=jz.t7.concat(["Add","Sbtr"]);D.splice(21,1);var n=jz.BP.concat([[15,10,28],[15,10,21]]);
n.splice(21,1);var _=jz.Fk.slice(0);_[4]--;function b(){d.call(this,"aply");this.Z8.push(new iw([0,3],[]));
this.Z8.push(new iw([12,4],["RGB"].concat(fg.Ay).concat(["Transparency"])));this.Z8.push(new dE([4,11]));
this.Z8.push(new iw([12,19,0],n,!1,_));this.Z8.push(new gp([12,0],0,100,"%"));this.Z8.push(new fh([12,38],1,2,null,2));
this.Z8.push(new fh([12,6],-255,255));this.Z8.push(new dE([13,5]));this.zJ([2]);this.Wp=null}b.prototype=new d;
b.prototype.lv=function(w,i,M){if(M){var N=M[2].b,a=this.Wp=[];for(var k=0;k<N.length;k++){var o=N[k].getName();
a.push(o.length<30?o:o.slice(0,27)+"...")}a.reverse();this.Z8[0].jb([[5,7]].concat(a),[1,a.length])}else var a=this.Wp;
w=w.With.v;var U=w.T.v;i[0]=U[1].t=="name"?1+a.indexOf(U[1].v.val):0;i[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(U[0].v.enum);
i[2]=w.Invr.v;var V=w.Clcl.v.Clcn;i[3]=D.indexOf(V);i[4]=w.Opct.v.val;i[5]=w.Scl.v;i[6]=w.Ofst.v;i[7]=w.PrsT.v};
b.prototype.Yn=function(w,i){w=w.With.v;var M=w.T.v;if(i[0]==0)M[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else M[1]={t:"name",v:{classID:"Lyr",val:this.Wp[i[0]-1]}};M[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][i[1]];
w.Invr.v=i[2];var N=w.Clcl.v.Clcn=D[i[3]];w.Opct.v.val=i[4];w.Scl.v=i[5];w.Ofst.v=i[6];w.PrsT.v=i[7];
var a=N=="Add"||N=="Sbtr";this.Z8[5].bs(a);this.Z8[6].bs(a)};return b}();d.matc=function(){var D,n,_=0;
function b(){d.call(this,"matc");this.Z8.push(new gp("Luminance",1,200));this.Z8.push(new gp("Color Intensity",1,200));
this.Z8.push(new gp([2,11],0,100,"%"));this.Z8.push(new dE("Neutralize"));this.Z8.push(new iw([12,70],[]));
this.Z8.push(new iw([0,3],[]));this.zJ([2])}function w(i,M){i.Z8[5].jb([[5,7]].concat(M),[1,M.length])}b.prototype=new d;
b.prototype.lv=function(i,M,N){_=0;M[0]=i.Lght.v;M[1]=i.ClrR.v;M[2]=i.Fade.v;M[3]=i.neutralizeColor?i.neutralizeColor.v:!1;
M[4]=M[5]=0;var a=i.Srce;if(a)a=a.v;if(N){D=[];n=[];var o=N[2],U=N[3];for(var k=0;k<U.length;k++){var V=U[k];
D.push(V.name);var c=V.b,E=[];n.push(E);for(var A=0;A<c.length;A++)E.push(c[A].getName());E.reverse()}this.Z8[4].jb([[13,1,0]].concat(D),[1,D.length]);
var Q=U.indexOf(o);if(a)Q=D.indexOf(a[1].v.val);w(this,n[Q])}if(a){var J=D.indexOf(a[1].v.val);M[3]=_=1+J;
if(a[0].t=="name")M[4]=1+n[J].indexOf(a[0].v.val)}};b.prototype.Yn=function(i,M){i.Lght.v=M[0];i.ClrR.v=M[1];
i.Fade.v=M[2];i.neutralizeColor.v=M[3];if(M[4]==0){i.noReference={t:"bool",v:!0};delete i.Srce}else{if(M[4]!=_){_=M[4];
w(this,n[M[4]-1])}delete i.noReference;var N={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},a=n[M[4]-1];
if(M[5]!=0)N={t:"name",v:{classID:"Lyr",val:a[M[5]-1]}};i.Srce={t:"obj ",v:[N,{t:"name",v:{classID:"Dcmn",val:D[M[5]-1]}}]}}};
return b}();function gL(D,n){cA.call(this);if(D==null)return;this.id=n;this.ri=D;this.wp=null;this.m=t.L("div","window "+n);
this.a0E=null;this.iT=t.L("div","whead");this.ajQ=t.L("span","wname");this.iT.appendChild(this.ajQ);
this.m.appendChild(this.iT);this.Qp=this.am4.bind(this);this.Og=this.ank.bind(this);this.go=this.aq1.bind(this);
t.zk(this.iT);t.cc(this.iT,this.Qp);this.f_=t.L("span","cross");this.iT.appendChild(this.f_);gL.prototype._.call(this);
t.Gv(this.f_,this.aop.bind(this));this.body=t.L("div","body");this.m.appendChild(this.body)}gL.prototype=new cA;
gL.prototype.oX=function(){return!1};gL.prototype.Yy=function(){return!1};gL.prototype._=function(){if(this.ri==null)return;
this.ajQ.textContent=io.get(this.ri);var D=PIMG.__cross==null?"filter:invert(1);":"";this.f_.setAttribute("style","background-image:url("+PIMG.cross+");"+D)};
gL.prototype.EE=function(D,n,_,b,w){};gL.prototype.yW=function(D,n,_,b,w){};gL.prototype.cp=function(D,n,_,b,w){};
gL.prototype.m_=function(D,n,_,b,w){};gL.prototype.nq=function(D,n,_,b,w){};gL.prototype.EL=function(D,n,_,b){if(b.j(dz.Eb)&&this.au)this.au();
if(b.j(dz.uH)){var w=new ho(S.E.M);w.w2=!0;G.TY.Ej(b,w);if(w.data)n.c(w)}};gL.prototype.$z=function(D){return!1};
gL.prototype.M4=function(D,n){return!0};gL.prototype.wQ=function(D,n,_,b){};gL.prototype.gB=function(D,n){};
gL.prototype.dg=function(D,n){return null};gL.prototype.arz=function(D){return this.a0E};gL.prototype.R9=function(){};
gL.prototype.close=function(){this.c(new ho(S.E.Mt))};gL.prototype.am4=function(D){this.wp=t.Wt(D,this.m);
t.YP(window,this.Og);t.Gv(window,this.go)};gL.prototype.ank=function(D){var n=this.m.parentNode,_=t.Wt(D,n),b=Math.round(_.x-this.wp.x),w=n.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(_.y-this.wp.y)));
this.a0E=new gZ(b,w);this.m.style.left=b+"px";this.m.style.top=w+"px"};gL.prototype.aq1=function(D){t.yT(window,this.Og);
t.pz(window,this.go)};gL.prototype.aop=function(D){this.c(new ho("closebtn"));this.close()};function cZ(){gL.call(this,"About Photopea","aboutpp");
var D=t.L("div","flexrow");this.body.appendChild(D);var n=this.agU=t.L("img");D.appendChild(n);this.body.setAttribute("style","margin:0; padding:0");
var _=this.aq3=t.L("div");_.innerHTML=cZ.sA;D.appendChild(_);var b=this.nU=t.L("span");b.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(b)}cZ.prototype=new gL;cZ.prototype.dg=function(D,n){return new gZ(0,0)};cZ.prototype.R9=function(D,n){var _=this.agU,b=this.aq3,w=this.nU,i=(D+n-42-42)/110;
i=Math.sqrt((D-42)*(n-42))/50;_.setAttribute("style","width:"+D/2+"px; height:"+n+"px; display:block; object-fit:cover;");
b.setAttribute("style","width:"+(D/2-42)+"px; height:"+(n-42)+"px; padding:20px; font-size:"+i+"px;");
w.setAttribute("style","position:absolute;  bottom:10px; right:"+(D/2+10)+"px")};cZ.prototype._=function(){};
cZ.prototype.wQ=function(D,n,_,b){this.agU.setAttribute("src","promo/ivan_pp.webp")};cZ.sA="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function fZ(){gL.call(this,[0,13,0],"account");this.RK=t.L("div","form scrollable");this.body.appendChild(this.RK);
this.body.style.padding="0";this.NW=[new fZ.bN,new fZ.EO("::privacy.html"),new fZ.EO(fZ.aos)];for(var k=0;
k<this.NW.length;k++)this.NW[k].parent=this;this.h("showpage",this.an8,this)}fZ.prototype=new gL;fZ.prototype.R9=function(D,n){this.RK.setAttribute("style","width:"+Math.min(D-40,740)+"px;  height:"+(n-38)+"px;  padding:1.5em;");
this.NW[0].R9(D,n)};fZ.prototype.dg=function(D,n){return new gZ(Math.max(0,Math.min(150,(D-740)/2)),Math.max(0,Math.min(100,(n-500)/2)))};
fZ.prototype.an8=function(D){t.hz(this.RK);this.RK.scrollTop=0;this.RK.appendChild(this.NW[D.data.gH].m)};
fZ.prototype._=function(){gL.prototype._.call(this);for(var k=0;k<this.NW.length;k++)this.NW[k]._()};
fZ.prototype.wQ=function(D,n,_){t.hz(this.RK);var b=this.NW[0];this.RK.appendChild(b.m);b.wQ();this._()};
fZ.prototype.gB=function(D,n){this.wQ(null,null,null)};fZ.bN=function(){cA.call(this);this.m=t.L("div");
var D=this.m,N,a,U="font-size:1.25em;",V="text-align:center;",E="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",A="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",Q="style=\"width:50%; vertical-align:top; padding:10px 20px;\"";
this.Bq=t.L("div");D.appendChild(this.Bq);this.RS=new bX([0,11],!1,null,!0);this.RS.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.RS.h("click",this.N$,this);D.appendChild(this.RS.m);this.Vq=new bX([0,13,1],!1,null,!0);this.Vq.h("click",this.a7K,this);
D.appendChild(this.Vq.m);this.wy=new bX("Business Terms",!1,null,!0);this.wy.h("click",this.aiz,this);
D.appendChild(this.wy.m);var n=t.L("div");n.style.margin="20px 0";D.appendChild(n);var _=["Account Types","Go Premium","Distributors"],b=this.al=[],w=this.ae$=[],i=this.pj=t.L("div");
D.appendChild(i);for(var k=0;k<_.length;k++){var M=t.L("span");M.textContent=_[k];n.appendChild(M);b.push(M);
M.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
M.addEventListener("click",this.g3.bind(this));w.push(t.L("div"))}this.g3(0);var o=this.a4f="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
D=w[0];var a=t.L("table"),c="style=\" "+V+U+" padding-bottom:20px;\"";a.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+Q+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+A+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+Q+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+A+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+A+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+A+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
D.appendChild(a);var M=new bX("Go Premium");M.m.setAttribute("style",o+"padding:10px 0;");M.h("click",function(x){this.g3(1)},this);
a.children[0].children[1].children[1].appendChild(M.m);this.I7=t.L("div");D.appendChild(this.I7);D=w[1];
var J=this.a5y=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.c5=[];for(var k=0;k<J.length;k++)this.c5.push(new bX("Buy: $"+J[k][0],!1,null,!0));for(var k=0;
k<this.c5.length;k++){this.c5[k].h("click",this.am5,this)}this.Jd=new bX("...",!0);this.Jd.m.setAttribute("style",o);
D.appendChild(this.Jd.m);a=this.ajl(3,["Single user",this.c5[0],this.c5[1],this.c5[2],"Team of 5",this.c5[3],this.c5[4],this.c5[5],"Team of 20",this.c5[6],this.c5[7],this.c5[8]]);
D.appendChild(a);this.atX=new dE("I accept",!0,"");D.appendChild(this.atX.m);this.fe=new bX([0,13,1],!1,null,!0);
this.fe.h("click",this.a7K,this);D.appendChild(this.fe.m);this.e3=new bX("I have a key",!1,null,!0);
this.e3.m.setAttribute("style",o+" float:right; width:inherit;");this.e3.h("click",this.am5,this);D.appendChild(this.e3.m);
N=t.L("h2");N.textContent="Team Settings";D.appendChild(N);N.style.marginTop="40px";this.YO=new dE("Join a team");
D.appendChild(this.YO.m);this.YO.h(S.E.o,this.a3q,this);this.Vo=new gH("Email of a leader",null,14);
D.appendChild(this.Vo.m);t.f7(D);this.sl=new dE("Start a team");D.appendChild(this.sl.m);this.sl.h(S.E.o,this.a3q,this);
var L=new iL("Emails of other members:");D.appendChild(L.m);t.f7(D);this.dE=t.L("textarea");t.pw(this.dE);
this.dE.setAttribute("rows",3);this.dE.setAttribute("style","display:block;tab-size:4; width:100%");
D.appendChild(this.dE);var P=new bX("Save Team Settings",!1,null,!0);D.appendChild(P.m);P.h("click",this.amW,this);
var u=this.alF=new bX("More about Teams",!1,null,!0);D.appendChild(u.m);u.h("click",this.anY,this);D=w[2];
this.bp=new bX("...",!0);this.bp.m.setAttribute("style",o);D.appendChild(this.bp.m);a=this.ajl(3,["1000 views/mo",this.c5[9],this.c5[10],this.c5[11],"5000 views/mo",this.c5[12],this.c5[13],this.c5[14],"20000 views/mo",this.c5[15],this.c5[16],this.c5[17]]);
D.appendChild(a);var m=t.L("p");m.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
D.appendChild(m);this.aJ=new gH("Domain name (e.g. domain.com)",null,14);D.appendChild(this.aJ.m);var P=new bX("Save Domain Settings",!1,null,!0);
P.im();D.appendChild(P.m);P.h("click",this.a0b,this)};fZ.bN.prototype=new cA;fZ.bN.prototype.g3=function(D){var n=typeof D=="number"?D:this.al.indexOf(D.target);
for(var k=0;k<3;k++)this.al[k].style.opacity=.6;this.al[n].style.opacity=1;t.hz(this.pj);this.pj.appendChild(this.ae$[n])};
fZ.bN.prototype.R9=function(D,n){var _=D<600?"d":" days",b=this.a5y;for(var k=0;k<b.length;k++){this.c5[k].v$("<span>"+[30,90,365][k%3]+_+": <sup>$</sup><big><b>"+b[k][0]+"</b></big>"+"</span>");
this.c5[k].m.setAttribute("style",this.a4f)}};fZ.bN.prototype.a7K=function(D){var n=new ho("showpage",!0);
n.data={gH:1};this.c(n)};fZ.bN.prototype.aiz=function(D){var n=new ho("showpage",!0);n.data={gH:2};this.c(n)};
fZ.bN.prototype._=function(){this.RS.v$(bJ.xU()?io.get([0,11]):io.get([0,10]));this.fe._();this.Vq._();
this.wy._()};fZ.bN.prototype.anY=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.xV,link:"https://www.photopea.com/api/accounts#"+(D.target==this.alF?"teams":"distributors")};
this.c(n)};fZ.bN.prototype.a3q=function(D){var n=D.currentTarget==this.YO;this.YO.f(n);this.sl.f(!n)};
fZ.bN.prototype.amW=function(D){var n=this.YO.B(),_=this.Vo.B().trim().toLowerCase(),b=this.dE.value.trim().toLowerCase();
if(_.length>60){alert("Too long email address");return}if(b.length>600){alert("Too many team members");
return}b=b.split(",").join(" ").trim();b=b.replace(/\s+/g," ");if(b=="")b=[];else b=b.split(" ");var w=bJ.sk();
if(w==null)w={};if(w.acc==null)w.acc={};w.acc.team={jin:n,ldr:_,mmb:b};bJ.vX(w,this.Uh.bind(this));alert("Saved!");
this.wQ()};fZ.bN.prototype.a0b=function(D){var n=this.aJ.B().trim();if(!bJ.xU()){alert("You have to log in first.");
return}if(bJ.JG().distrib=="0"){alert("Order a distributor account first.");return}var _=bJ.sk();if(_==null)_={};
if(_.acc==null)_.acc={};if(n=="")delete _.acc.dname;else _.acc.dname=n;bJ.vX(_,this.Uh.bind(this));alert("Saved!");
this.wQ()};fZ.bN.prototype.atA=function(D){var n=bJ.JG(),k=this.fa,_=bJ.sk();if(_==null)_={};if(_.acc==null)_.acc={};
_.acc.bto=D;bJ.vX(_,function(){});var b=fZ.acF(D.split("\n"),n.pmnts[k]);bh.save(b,"photopea_invoice.pdf")};
fZ.bN.prototype.a1h=function(D){var n=bJ.JG(),_=bJ.sk(),b=_.acc?_.acc.bto:null;if(b==null)b=n.name+"\n"+n.email;
var k=-1,w=D.target.m.parentNode;while((w=w.previousSibling)!=null)k++;this.fa=k;var i=new ho(S.E.W,!0);
i.data={d:S.J.a_,Lt:"billto",JJ:b,T1:this.atA.bind(this)};this.c(i)};fZ.bN.prototype.wQ=function(){if(bJ.xU()){var D=bJ.JG(),n=D.pmnts;
if(D==null)return;this.Bq.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+D.name+"</span> "+D.email+" <br/>";
t.hz(this.I7);if(n){var _="<h2>Payments</h2>";for(var k=0;k<n.length;k++){var b=n[k],w=new Date(b[0]*1e3);
_+="<div style=\"font-size:1.2em\">"+w.getDate()+". "+(w.getMonth()+1)+". "+w.getFullYear()+" - "+fZ.af$(b)+"</div>"}this.I7.innerHTML=_;
for(var k=0;k<n.length;k++){var i=new bX("Get Invoice",!1,null,!0);i.m.setAttribute("style","float:right");
i.h("click",this.a1h,this);this.I7.children[k+1].appendChild(i.m)}}}else{}var M=bJ.xU()&&bJ.xA();this.Jd.m.style.display=M?"block":"none";
if(M){var N=parseInt(D[t.WP("_^NSLUJ")])-Date.now()*(1/1e3),a=parseInt(D.ptype),o;if(a==-1)o="member of a team";
else if(a==1)o="Single user";else o="Team of "+a;this.Jd.v$("Premium active for "+Math.round(N/(60*60*24))+" more days! ("+o+")")}var U=bJ.xU()&&D.distrib*1e3>Date.now();
this.bp.m.style.display=U?"block":"none";if(U){var N=parseInt(D.distrib)-Date.now()/1e3,a=parseInt(D.ptype);
this.bp.v$("Distributor active for "+Math.round(N/(60*60*24))+" more days! ("+a+" visitos)")}var V=bJ.sk();
if(V&&V.acc&&V.acc.team){var c=V.acc.team;this.YO.f(c.jin);this.sl.f(!c.jin);this.Vo.f(c.ldr);this.dE.value=c.mmb.join(", ")}else{this.YO.f(!0);
this.sl.f(!1);this.Vo.f("");this.dE.value=""}if(V&&V.acc&&V.acc.dname)this.aJ.f(V.acc.dname);else this.aJ.f("")};
fZ.bN.prototype.ajl=function(D,n){var _=t.L("table");if(!1){_.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> <th>365 days</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var k=0;k<n.length;k+=D+1){var b=t.L("tr"),w;_.appendChild(b);w=t.L("td","left");b.appendChild(w);
w.innerHTML=n[k]+":";for(var i=0;i<D;i++){w=t.L("td");b.appendChild(w);w.appendChild(n[k+1+i].m)}}}else{_.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th>"+n[0]+"</th><th>"+n[4]+"</th> <th>"+n[8]+"</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var k=0;k<3;k++){var b=t.L("tr"),w;_.appendChild(b);for(var i=0;i<D;i++){w=t.L("td");w.style.width="33%";
b.appendChild(w);w.appendChild(n[i*4+1+k].m)}}}return _};fZ.bN.prototype.am5=function(D){var n=this.c5.indexOf(D.currentTarget),b=30,w=1;
if(!bJ.xU()){alert("You must log in before buying Premium");return}if(this.atX.B()==!1&&n<9){alert("You must accept Terms of Service");
return}var _=bJ.xU()&&bJ.xA();if(n!=-1){var i=this.a5y[n];b=i[1];w=i[2]}if(_&&w<1e3){alert("You already have premium.");
return}if(n==-1){var M=prompt("Please enter your key");if(M!=null){bJ.a2P(M,this.Uh.bind(this));this.q7()}return}if(b==30&&w==1){var N=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!N)return}bJ.order(b,w,this.Uh.bind(this));this.q7()};fZ.bN.prototype.Uh=function(D){if(bJ.xU()&&bJ.JG().msg)alert(bJ.JG().msg);
this.wQ();this.q7()};fZ.bN.prototype.N$=function(D){if(bJ.xU()){bJ.Vc();this.q7();this.wQ(null,null,null)}else bJ.N$(this.akW.bind(this))};
fZ.bN.prototype.akW=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.a8t};this.c(D)};fZ.bN.prototype.q7=function(){var D=new ho(S.E.W,!0);
D.data={d:S.J.a3s};this.c(D)};fZ.EO=function(D){cA.call(this);this.m=t.L("div");var n=this.m,_=this.auC=new bX([0,13,2],!1,null,!0),b;
_.h("click",this.anT,this);n.appendChild(_.m);if(D.startsWith("::")){b=t.L("iframe");b.setAttribute("style","width:100%;height:1700px; background-color:white;");
b.setAttribute("src",D.slice(2))}else{b=t.L("div");b.innerHTML=D}n.appendChild(b)};fZ.EO.prototype=new cA;
fZ.EO.prototype.anT=function(D){var n=new ho("showpage",!0);n.data={gH:0};this.c(n)};fZ.EO.prototype._=function(){this.auC._()};
fZ.aos="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
fZ.af$=function(D){return"Photopea "+(D[1]<1e3?"Premium":"Distributor")+" ("+D[1]+" days, "+D[2]+" user"+(D[2]==1?"":"s")+")"};
fZ.acF=function(D,n){D=["Bill To:"].concat(D);var _=new ToPDF,b=595,w=842,i=40,M=18,N=12,a=500,o=100,U=400,Q=0;
function V(X,$,I,T,e){E.font.Tf=e?"Helvetica-Bold":"Helvetica";E.ctm=[1,0,0,1,$,I];E.font.Tfs=T?T:N;
_.PutText(E,X,0)}function c(X,$,I,T){for(var k=0;k<X.length;k++){V(X[k],$,I-k*T,null,k==0)}}var E=UDOC.getState();
_.StartPage(0,0,b,w);V("INVOICE",b-i-140,w-i-30,30,!0);c(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],i,w-i-40,M);
var A=new Date(n[0]*1e3);c(["Date: "+A.getDate()+". "+(A.getMonth()+1)+". "+A.getFullYear(),"Transaction ID: "+n[4]],b-i-140,w-i-40-M*2,M);
var J=D.join("");for(var k=0;k<J.length;k++)Q=Math.max(Q,J.charCodeAt(k));if(Q>256){var L=4,P=t.L("canvas"),u=P.getContext("2d"),m=0;
u.font=N*L+"px sans-serif";for(var k=0;k<D.length;k++)m=Math.max(m,u.measureText(D[k]).width);var x=Math.round(m)+20,v=D.length*L*M+20;
P.width=x;P.height=v;u.font=N*L+"px sans-serif";for(var k=0;k<D.length;k++){u.font=(k==0?"bold ":"")+N*L+"px sans-serif";
u.fillText(D[k],10,(k+1)*L*M)}document.body.appendChild(P);var W=new Uint8Array(u.getImageData(0,0,x,v).data.buffer);
E.ctm=[x/L,0,0,v/L,i-10/L,w-i-40-100-v/L];_.PutImage(E,W,x,v);E.ctm=[1,0,0,1,0,0]}else c(D,i,w-i-40-100,M);
E.colr=[.8,.8,.8];E.pth={cmds:["M","L","L","L","Z"],crds:[i,a,b-i,a,b-i,a-M,i,a-M]};_.Fill(E);E.colr=[0,0,0];
var Z=[i,a,b-i,a,i,a-M,b-i,a-M,i,a-o,b-i,a-o,i,a,i,a-o,b-i,a,b-i,a-o,U,a,U,a-o],r=[];for(var k=0;k<Z.length;
k+=4)r.push("M","L");E.pth={cmds:r,crds:Z};_.Stroke(E);V("Order details",i+4,a-14);V(fZ.af$(n),i+4,a-M-14);
V("TOTAL:",i+4,a-o-14,null,!0);V("Price",b-i-50,a-14);V(n[3]+" USD",b-i-60,a-M-14);V(n[3]+" USD",b-i-60,a-o-14,null,!0);
V("www.Photopea.com",i,i);V("support@photopea.com",b-i-130,i);_.ShowPage();_.Done();return _.buffer};
function fk(){gL.call(this,[11,14],"addguides");this.tn;this.Wc={BE:{gK:0}};this.z_=null;var D=t.L("div","form");
this.body.appendChild(D);this.OH=new gH([22,4,0],null,16);this.OH.h(S.E.o,this.Nt,this);this.bF=new gH([22,4,1],null,16);
this.bF.h(S.E.o,this.Nt,this);this.Qc=new iw(null,B.Hj.P1);this.Qc.h(S.E.o,this.Nt,this);D.appendChild(this.OH.m);
D.appendChild(this.Qc.m);t.f7(D);D.appendChild(this.bF.m);this.r7=t.Mi(this,D);this.h("closebtn",this.arW,this)}fk.prototype=new gL;
fk.prototype.M4=function(D,n){return D!=null};fk.prototype.oX=function(){return!0};fk.prototype._=function(){gL.prototype._.call(this);
this.OH._();this.bF._();this.Qc._();this.r7._()};fk.prototype.gB=function(D,n){var _=D.BE.gK;this.Wc.BE.gK=_;
this.Qc.f(_)};fk.prototype.wQ=function(D,n){this.tn=D;this.z_=JSON.stringify(D.l$());this.cj()};fk.prototype.cj=function(){var D=this.tn,n=D.eu,_=function(b,w,D,i,M){var N=[];
for(var k=0;k<b.length;k++)if(b[k][0]==w)N.push(B.Hj.Yh(b[k][1],D.Cn,i,M));N.sort(function(a,o){return a-o});
return N.join(", ")};this.OH.f(_(n,0,D,this.Wc,D.l));this.bF.f(_(n,1,D,this.Wc,D.e))};fk.prototype.Nt=function(D){if(D&&D.currentTarget==this.Qc)this.Wc.BE.gK=this.Qc.B();
else{var n=this.aah(),_=this.tn;_.hY(n);_.cF=!0}this.cj()};fk.prototype.aah=function(){var D=[],n=[];
for(var _=0;_<2;_++){var b=_==0?this.OH:this.bF,w=_==0?this.tn.l:this.tn.e,i=b.B().replace(/,/g," ").replace(/  +/g," ").trim(),M=i==""?[]:i.split(" ");
for(var k=0;k<M.length;k++){D.push([_,B.Hj.asA(M[k],this.tn.Cn,this.Wc,w)]);n.push(-1)}}return[D,n]};
fk.prototype.arW=function(D){var n=this.tn;n.hY(JSON.parse(this.z_));n.cF=!0;this.tn=null};fk.prototype.au=function(D){this.Nt(D);
var n=new ho(S.E.M,!0);n.g=G.GZ;n.data={d:"gids",fn:JSON.parse(this.z_),kk:this.tn.l$()};this.tn=null;
this.close();this.c(n)};function ey(D){var n=cq.names[D];if(n==null)n=fg.names[D];if(D=="aply")n=[2,12];
if(D=="fade")n=[2,11];if(D=="matc")n=[4,18];if(D=="blendOptions")n=[14,10];gL.call(this,n,"afw_"+D);
this.lE=D;this.kZ=null;this.nX=null;this.Nh=new d[D];this.Nh.h(S.E.o,this.s$,this);this.Nh.parent=this;
this.body.appendChild(this.Nh.m);this.bI=new dE([24,18,5]);this.bI.f(!0);this.bI.h(S.E.o,this.s$,this);
this.RY=new bX([1,12,2],!0,null,!0);this.RY.h("click",this.FQ,this);this.r7=t.Mi(this);if(this.yw())this.Nh.jf(this.r7.m);
else{t.ES(this.Nh.m,"form");t.ES(this.body,"flexrow");this.Nh.m.setAttribute("style","width:312px");
var _=t.L("div");this.body.appendChild(_);_.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
_.appendChild(this.r7.m);_.appendChild(this.RY.m);_.appendChild(this.bI.m)}this.h("closebtn",this.fX,this)}ey.prototype=new gL;
ey.prototype.oX=function(){return!0};ey.prototype.yw=function(){return this.Nh!=null&&this.Nh.sL()};
ey.prototype.dg=function(){return this.yw()?new gZ(0,0):gL.prototype.dg()};ey.prototype.Yy=function(){return this.Nh.Yy()};
ey.prototype.EE=function(D,n,_,b,w){this.Nh.EE(D,n,_,b,w)};ey.prototype.cp=function(D,n,_,b,w){this.Nh.cp(D,n,_,b,w)};
ey.prototype.m_=function(D,n,_,b,w){this.Nh.m_(D,n,_,b,w)};ey.prototype.M4=function(D,n){if(this.lE=="fade")return ey.a1G(D);
return!0};ey.prototype.FQ=function(D){this.Nh.f(cq.D2(this.lE));this.s$()};ey.prototype.s$=function(D){this.Y6({d:"edit",Ky:this.Nh.B(),OL:!this.bI.B()})};
ey.prototype.fX=function(D){this.Y6({d:"cancel"})};ey.prototype.au=function(D){if(!this.bI.B()){this.bI.f(!0);
this.s$()}this.nX=this.Nh.B();if(this.yw())this.s$();this.Y6({d:"confirm"});this.close()};ey.prototype._=function(){gL.prototype._.call(this);
this.bI._();if(this.Nh)this.Nh._();this.r7._()};ey.prototype.gB=function(D,n){if(this.Nh)this.Nh.gB(D,n)};
ey.prototype.EL=function(D,n,_,b){if(this.yw())this.Nh.EL(b);else gL.prototype.EL.call(this,D,n,_,b)};
ey.prototype.wQ=function(D,n,_,b){this.kZ=n.kZ;var w=D.add.lnk2?D.add.lnk2:[],i,M,N=new gl(0,0,D.l,D.e),a=D.b[D.w[0]],o=null;
i=a.buffer;M=a.rect;if(this.yw())o=D.iS(D.w[0]-1);var U=cq.D2(this.lE),V=[w,D.wK,D,_];if(n.kZ==null){this.Nh.f(U,i,M,N,o,V);
if(fg.names[this.lE]){if(b.j(dz.u9)&&this.nX)this.Nh.f(this.nX);var c=G.S4.getData(D),E=B.ZB(c[0].j3);
this.Nh.ZQ(E)}}else{var A=!1,a=D.b[this.kZ.i];if(a.Ug()){var Q=a.tr(D);i=Q.buffer;M=Q.rect;var J=a.add.SoLd.filterFX.v.filterFXList.v;
if(J[this.kZ.index]){var L=J[this.kZ.index].v;this.Nh.f(this.lE=="blendOptions"?L.blendOptions.v:L.Fltr.v,i,M,N,o,V);
this.Nh.ZQ(B.ZB(i));A=!0}}if(!A){this.Nh.f(U,i,M,N,o,V);this.Nh.ZQ(B.ZB(i))}}if(!this.yw())this.s$()};
ey.prototype.Y6=function(D){var n=new ho(S.E.M,!0);D.lE=this.lE;D.kZ=this.kZ;n.data=D;n.g=cq.names[this.lE]||this.kZ?G.mg:G._x;
n.w2=!0;this.c(n)};ey.prototype.R9=function(D,n){if(!this.Nh.sL()){}else{this.body.style.padding="0";
this.Nh.R9(D,n)}};ey.a1G=function(D){if(D==null)return!1;var n=D.XN();if(n==null||!(n.data instanceof Array)||n.data.length!=D.w.length)return!1;
for(var k=0;k<n.data.length;k++){var _=n.data[k];if(_.i<0&&D.wK[-1-_.i])return!0;if(_.i==null||D.b[_.i]==null||D.b[_.i].P8!=_.q6)return!1;
if(D.w.indexOf(_.i)==-1)return!1}return!0};function hb(){gL.call(this,[11,0],"camera");this.data=null;
this.gi=new gZ(1,1);this.a7H=[];var D=t.L("div","form hbar");this.body.appendChild(D);this.aud=new iw(null,[]);
this.CG=new iw([21,0],[[21,2],[21,1]]);D.appendChild(this.CG.m);this.Zz=new iw(null,[]);this.Zz.h(S.E.o,this.ak3,this);
D.appendChild(this.Zz.m);this.Tq=new bX([11,0],!1,null,!0);this.Tq.h("click",this.aeL,this);D.appendChild(this.Tq.m);
this.yn=new iL("");D.appendChild(this.yn.m);this.stream=null;this.yy=t.L("video","");this.yy.setAttribute("autoplay","true");
this.body.appendChild(this.yy);this.ah$=this.auF.bind(this);this.akF=this.a9s.bind(this);this.arn=this.a1J.bind(this);
this.h("closebtn",this.arL,this)}hb.prototype=new gL;hb.prototype._=function(){gL.prototype._.call(this);
this.CG._();this.Tq._();this.R9(this.Wj,this.Rw)};hb.prototype.iS=function(){var D=this.yy.videoWidth,n=this.yy.videoHeight,_=t.L("canvas","");
_.width=D;_.height=n;var b=_.getContext("2d");b.drawImage(this.yy,0,0,D,n);var w=b.getImageData(0,0,D,n);
return{jr:new gl(0,0,D,n),data:w.data.buffer}};hb.prototype.aeL=function(D){if(this.CG.B()==0)this.a4J();
else this.aub()};hb.prototype.aub=function(){var D=this.iS(),n={buffer:new Uint8Array(D.data),rect:D.jr},_=new ho(S.E.M,!0);
_.w2=!0;_.g=G.vp;_.data={d:q.Ts,uq:n};this.c(_);alert(io.get([21,4]))};hb.prototype.a4J=function(){var D=this.iS(),n=eF.Sl("camera",[D]),_=new ho(S.E.W,!0);
_.data={d:S.J.gE,ly:n};this.c(_);alert(io.get([21,5]))};hb.prototype.wQ=function(D,n,_){navigator.mediaDevices.enumerateDevices().then(this.apo.bind(this))};
hb.prototype.apo=function(D){var n=this.a7H=[],_=[];for(var k=0;k<D.length;k++)if(D[k].kind=="videoinput"){n.push(D[k]);
_.push("Camera "+n.length)}this.Zz.jb(_);this.Zz.f(0);this.ak3()};hb.prototype.ak3=function(D){this.arL();
var n={video:{deviceId:this.a7H[this.Zz.B()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(n).then(this.ah$).catch(this.akF);
else navigator.webkitGetUserMedia(n,this.ah$,this.akF)};hb.prototype.auF=function(D){this.stream=D;this.yy.srcObject=D;
this.yy.addEventListener("loadedmetadata",this.arn,!1)};hb.prototype.a1J=function(D){this.yy.play();
this.R9(this.Wj,this.Rw)};hb.prototype.dg=function(D,n){return new gZ(0,0)};hb.prototype.R9=function(D,n){var _=this.yy.videoWidth,b=this.yy.videoHeight;
this.yn.f(_+" x "+b+" px");this.yn.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.gi.bq(_,b);this.Wj=D;this.Rw=n;var w=D-28,i=n-28-30,M=this.gi.x/this.gi.y;if(w/i>M)w=i*M;else i=w/M;
this.yy.setAttribute("style","display: block; width: "+Math.round(w)+"px; height:"+Math.round(i)+"px;")};
hb.prototype.a9s=function(D){console.log("error",D);alert(io.get([21,6]));this.close()};hb.prototype.arL=function(D){if(this.stream!=null){var n=this.stream.getTracks();
for(var k=0;k<n.length;k++)n[k].stop();this.stream=null}};function a3(){gL.call(this,[7,8],"crange");
this.tn=null;this.sH={ue:73,vd:4.45,S:4};this.TE={ue:73,vd:4.45,S:4};this.body.style.width="20em";this.oQ=new iw([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.oQ.h(S.E.o,this.a93,this);this.body.appendChild(this.oQ.m);this.sA=t.L("div","form");this.body.appendChild(this.sA);
var D=this.a3F=2,n=this.lW=[new gp([12,92],0,200),new aN([12,36],[[18,0],"\uFF0B","\u2014"]),new gp([12,92],0,100,"%"),new fh("Min",0,255),new fh("Max",0,255)];
n[0].f(40);n[D].f(40);for(var k=0;k<n.length;k++){n[k].h(S.E.o,this.vm,this);n[k].parent=this}this.O=t.L("canvas");
this.body.appendChild(this.O);this.r7=t.Mi(this,this.body)}a3.prototype=new gL;a3.prototype.M4=function(D,n){return D!=null};
a3.prototype.Yy=function(){return!0};a3.prototype.oX=function(){return!0};a3.prototype.a93=function(D){var n=this.oQ.B(),_=this.lW,b=this.sA,w=0,i=_.length,M=this.a3F;
if(n==0)i=M;else{w=M;_[w+1].f([0,100,190][n-1]);_[w+1].bs(n!=1);_[w+2].f([60,150,255][n-1]);_[w+2].bs(n!=3)}t.hz(b);
for(var k=w;k<i;k++){b.appendChild(_[k].m)}this.vm()};a3.prototype._=function(){gL.prototype._.call(this);
this.r7._();this.oQ._();for(var k=0;k<this.lW.length;k++)this.lW[k]._()};a3.prototype.EE=function(D,n,_,b,w){var i=D.s.it(w.x,w.y);
this.abF(i.x,i.y)};a3.prototype.abF=function(D,n){var _=Math.min,b=Math.max,w=this.tn,i=b(0,_(w.l-1,Math.floor(D))),M=b(0,_(w.e-1,Math.floor(n))),N=w.iS(),a=(M*w.l+i)*4,o=N[a],U=N[a+1],V=N[a+2],c=B.aS(o,U,V),E=this.lW[1].B(),A=this.sH,Q=this.TE;
if(E==0){this.sH=JSON.parse(JSON.stringify(c));this.TE=c}else if(E==1){A.ue=_(A.ue,c.ue);A.vd=_(A.vd,c.vd);
A.S=_(A.S,c.S);Q.ue=b(Q.ue,c.ue);Q.vd=b(Q.vd,c.vd);Q.S=b(Q.S,c.S)}else if(E==2){var J=(A.ue+Q.ue)/2,L=(A.vd+Q.vd)/2,P=(A.S+Q.S)/2;
if(c.ue<J)A.ue=b(A.ue,c.ue+10);else Q.ue=_(Q.ue,c.ue-10);if(c.vd<L)A.vd=b(A.vd,c.vd+1);else Q.vd=_(Q.vd,c.vd-1);
if(c.S<P)A.S=b(A.S,c.S+1);else Q.S=_(Q.S,c.S-1)}this.vm()};a3.prototype.au=function(D){var n=this.oQ.B(),_=this.lW,b={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(n==0){var w=this.sH,i=this.TE;b.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:w.ue},A:{t:"doub",v:w.vd},B:{t:"doub",v:w.S}}};
b.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.ue},A:{t:"doub",v:i.vd},B:{t:"doub",v:i.S}}};b.Fzns={t:"long",v:_[0].B()}}else{n--;
var M=["shadows","midtones","highlights"][n];b.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][n]}};if(0<n)b[M+"LowerLimit"]={t:"long",v:_[3].B()};
if(n<2)b[M+"UpperLimit"]={t:"long",v:_[4].B()};b[M+"Fuzziness"]={t:"long",v:_[2].B()}}this.close();var N=new ho(S.E.$W,!0);
N.data={_L:"colorRange",cR:b};this.c(N)};a3.prototype.wQ=function(D,n){this.tn=D;this.abF(0,0);this.a93()};
a3.prototype.vm=function(){var D=this.tn,n=this.oQ.B(),_=this.sH,b=this.TE,w=this.lW,i=w[0].B()/200,M=!1;
if(n>0){_=w[3].B();b=w[4].B();if(_>=b)_=b-1;M=!0;i=w[2].B()/100}var N=G.fq.W0(D,_,b,i,M),a=N.rect,o=N.channel,U=this.O,V=U.getContext("2d"),c=Math.floor(230*t.F()),E=Math.floor(c*(a.e/a.l));
U.width=c;U.height=E;t.hB(U,c,E);var A=B.U(o.length*4);B.o5(A,4294967295);for(var k=0;k<3;k++)B.tD(o,A,k);
var Q=G.Q.XB([A,a],new e3(c/a.l,0,0,E/a.e,0,0)),J=Q.rect,L=new ImageData(new Uint8ClampedArray(Q.buffer.buffer),J.l,J.e);
V.putImageData(L,0,0)};function dg(){gL.call(this,[12,76,1],"createshape");this.hG=null;var D=t.L("div","form");
D.setAttribute("style","width:20em");this.body.appendChild(D);this.iU=new fh([12,41],0,0,null,0,!1,!0);
D.appendChild(this.iU.m);t.f7(D);this.OH=new fh([12,42],0,0,null,0,!1,!0);D.appendChild(this.OH.m);t.f7(D);
this.y0=new dE([19,5,3]);D.appendChild(this.y0.m);this.iU.f(100);this.OH.f(100);this.r7=t.Mi(this,D)}dg.prototype=new gL;
dg.prototype.au=function(D){this.hG.apk(this.hG.agA,this.iU.B(),this.OH.B(),this.y0.B());this.close()};
dg.prototype._=function(){if(this.hG)this.ri=io.get([5,3])+": "+io.get(this.hG.ah3);gL.prototype._.call(this);
this.r7._();this.iU._();this.OH._();this.y0._()};dg.prototype.wQ=function(D,n){this.hG=n;this._();this.iU.Lm()};
function gr(){gL.call(this,[11,1],"colorpicker");this.bC=null;this.mN=null;this.Ij=null;this.Hr=!1;this.Di=!1;
var D=t.L("div","flexrow"),i,M;this.body.appendChild(D);this.qv=new dx(256);this.qv.h(S.E.o,this.l3,this);
D.appendChild(this.qv.m);var n=t.L("div","form");n.setAttribute("style","width:14.5em; margin-left:1em;");
D.appendChild(n);this.a2s=t.L("div","full");n.appendChild(this.a2s);this.a2Q=t.L("div","full");n.appendChild(this.a2Q);
var _=t.L("div","flexrow");n.appendChild(_);var b=t.L("div"),w=t.L("div");_.appendChild(b);_.appendChild(w);
i=["R","G","B"];M=b;this.$d=[];for(var k=0;k<3;k++){var N=new fh(i[k]+":",0,255,null,0,!1,!0);this.$d.push(N);
N.h(S.E.o,this.a0z,this);M.appendChild(N.m)}i=["H","S","B"];M=w;this.EC=[];for(var k=0;k<3;k++){var a=0,o=360,U="\xB0";
if(k!=0){o=100;U="%"}var N=new fh(i[k]+":",a,o,U,0,!1,!0);this.EC.push(N);N.h(S.E.o,this.aht,this);M.appendChild(N.m)}this.OH=new gH("Hex",null,6);
this.OH.h(S.E.o,this.sY,this);n.appendChild(this.OH.m);this.ZS=t.L("input","fitem");this.ZS.setAttribute("type","color");
this.ZS.setAttribute("style","width:50px");this.ZS.addEventListener("change",this.sY.bind(this),!1);
n.appendChild(this.ZS);this.h2=new eB(9);this.h2.h(S.E.o,this.sY,this);n.appendChild(this.h2.m);this.r7=t.Mi(this,n);
this.h("closebtn",this.fX,this);this.aw=!1}gr.prototype=new gL;gr.prototype.Yy=function(){return!0};
gr.prototype.dg=function(D,n){return new gZ(Math.max(0,Math.min(150,(D-484)/2)),Math.max(0,Math.min(150,(n-316)/2)))};
gr.prototype.R9=function(D,n){this.qv.R9(Math.min(256,D-226),n)};gr.prototype._=function(D,n){gL.prototype._.call(this);
this.r7._()};gr.prototype.l3=function(D){this.mN=this.qv.B();this.update()};gr.prototype.EE=function(D,n,_,b,w){this.aw=!0;
this.adh(D,w)};gr.prototype.cp=function(D,n,_,b,w){if(!this.aw)return;this.adh(D,w)};gr.prototype.m_=function(D,n,_,b,w){this.aw=!1};
gr.prototype.adh=function(D,n){var _=G.RO.sj(D,n,1),b=_&255,w=_>>8&255,i=_>>16&255;this.mN={p:i/255,z:w/255,S:b/255};
this.update()};gr.prototype.a0z=function(D){var n=this.$d,_=this.FU(parseInt(n[0].B())),b=this.FU(parseInt(n[1].B())),w=this.FU(parseInt(n[2].B()));
this.mN={p:_/255,z:b/255,S:w/255};this.update()};gr.prototype.aht=function(D){var n=this.EC,_=this.wD(parseInt(n[0].B())/360),b=this.wD(parseInt(n[1].B())/100),w=this.wD(parseInt(n[2].B())/100);
this.mN=B.Ra(_,b,w);this.update()};gr.prototype.sY=function(D){var n;if(D.currentTarget==this.h2)n=this.h2.B();
else{n=D.currentTarget==this.OH?this.OH.B():this.ZS.value;if(n.charAt(0)=="#")n=n.slice(1);if(n.length==3)n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2];
n=B.Ee(n)}this.mN={p:(n>>16&255)/255,z:(n>>8&255)/255,S:(n&255)/255};this.update()};gr.prototype.QT=function(D){var n=D.p,_=D.z,b=D.S;
return Math.round(n*255)<<16|Math.round(_*255)<<8|Math.round(b*255)};gr.prototype.au=function(D){this.a1k();
var n=this.QT(this.mN);this.Ij(n);this.close();this.Di=!1;this.mN=null};gr.prototype.fX=function(D){this.a1k();
if(this.Hr)this.Ij(this.QT(this.bC));this.Di=!1;this.mN=null};gr.prototype.a1k=function(D){var n=new ho(S.E.W,!0);
n.data={d:S.J.aiS};this.c(n)};gr.prototype.gB=function(D,n){if(n!=da.dJ)return;var _=D.EH;this.h2.f(_);
if(this.mN!=null){this.mN={p:(_>>16&255)/255,z:(_>>8&255)/255,S:(_>>0&255)/255};this.update()}};gr.prototype.wQ=function(D,n){var _=n.zs,b={p:(_>>16&255)/255,z:(_>>8&255)/255,S:(_>>0&255)/255};
if(this.mN==null){var w=new ho(S.E.W,!0);w.data={d:S.J.f4,rl:"crosshair",push:!0};this.c(w);this.aw=!1;
this.Ij=n.vJ;this.Hr=!1;this.Di=n.E4;this.bC=JSON.parse(JSON.stringify(b));this.a2Q.setAttribute("style","height:3em;background-color:#"+B.xQ(_)+";")}this.mN=b;
this.update()};gr.prototype.update=function(){var D=this.mN,n=this.QT(D),_=this.$d;_[0].f(Math.round(D.p*255));
_[1].f(Math.round(D.z*255));_[2].f(Math.round(D.S*255));this.OH.f(B.xQ(n));this.ZS.value="#"+B.xQ(n);
this.a2s.setAttribute("style","height:3em;background-color:#"+B.xQ(n)+";");var b=B.CS(D.p,D.z,D.S);_=this.EC;
_[0].f(Math.round(b.Rw*360));_[1].f(Math.round(b.cg*100));_[2].f(Math.round(b.Ky*100));this.qv.f(D);
if(this.Di){this.Ij(this.QT(this.mN));this.Hr=!0}};gr.prototype.FU=function(D){return Math.max(0,Math.min(255,D))};
gr.prototype.wD=function(D){return Math.max(0,Math.min(1,D))};function gj(){gL.call(this,[11,2],"contoureditor");
this.amv=null;this.W1=null;this.response=null;this.eB=t.L("div","cell");this.body.appendChild(this.eB);
this.D$=t.L("div","cell padded");this.body.appendChild(this.D$);var D=t.L("div","bordered padded vmargin");
this.eB.appendChild(D);this.Nh=new g7(null,null,!0);this.Nh.h(S.E.o,this.A4,this);D.appendChild(this.Nh.m);
this.r7=t.Mi(this,this.D$);this.h("closebtn",this.I0,this)}gj.prototype=new gL;gj.prototype.au=function(){this.close()};
gj.prototype._=function(){gL.prototype._.call(this);this.r7._();this.Nh._()};gj.prototype.A4=function(D){this.W1.Crv.v=this.Nh.B();
this.response(this.W1)};gj.prototype.I0=function(D){this.response(this.amv)};gj.prototype.wQ=function(D,n){this.amv=JSON.parse(JSON.stringify(n.pj));
this.W1=n.pj;this.response=n.response;this.Nh.f(this.W1.Crv.v)};function gh(){gL.call(this,[11,3],"csize");
this.Vx=0;this.RK=t.L("div","form");this.RK.setAttribute("style","width:22em");this.body.appendChild(this.RK);
this.vH=new h3(!0,!0,!0,!0,!0);this.vH.aqc(!1);this.RK.appendChild(this.vH.m);this.fy=new aN("Align with",[[8,7],[12,6]]);
this.fy.h(S.E.o,this.a8o,this);this.EG=new hw([12,23,2],41);this.RK.appendChild(this.EG.m);this.EG.f(4);
this.Z2=new ed(!1);this.Z2.ad3(new gZ(0,0));this.r7=t.Mi(this,this.body)}gh.prototype=new gL;gh.prototype.M4=function(D,n){return D!=null};
gh.prototype.oX=function(){return!0};gh.prototype.$z=function(D){return[dz.aU,dz.LG,dz.L3,dz.hb].indexOf(D)!=-1};
gh.prototype.EL=function(D,n,_,b){this.EG.a2j(b.or())};gh.prototype.a8o=function(){var D=[this.EG.m,this.Z2.m];
this.RK.removeChild(D[this.Vx]);this.Vx=this.fy.B();this.RK.appendChild(D[this.Vx])};gh.prototype._=function(){gL.prototype._.call(this);
this.vH._();this.fy._();this.EG._();this.Z2._();this.r7._()};gh.prototype.au=function(D){var n=this.vH.B(),_=n.x,b=n.y,w=new ho(S.E.$W,!0);
w.data=G.v1.Ic(_,b,this.EG.B());this.close();this.c(w)};gh.prototype.wQ=function(D,n){this.vH.f(new gZ(D.l,D.e),D.Cn);
this.vH.Lm()};function bz(){gL.call(this,[11,4],"duplinto");this.R1=null;this.s0=null;this._K=null;var D=t.L("div","form");
D.setAttribute("style","max-width:26em");this.body.appendChild(D);this.kJ=new iw([12,43],["abc","def"]);
this.kJ.h(S.E.o,this.bo,this);D.appendChild(this.kJ.m);t.f7(D);this.pU=new iw("Artboard",["abc","def"]);
this.pU.h(S.E.o,this.bo,this);D.appendChild(this.pU.m);t.f7(D);this.Th=new gH([12,48],null,14);D.appendChild(this.Th.m);
this.r7=t.Mi(this,D)}bz.prototype=new gL;bz.prototype.oX=function(){return!0};bz.prototype._=function(){gL.prototype._.call(this);
this.r7._();this.kJ._();this.Th._()};bz.prototype.bo=function(D){if(D&&D.target==this.pU)return;var n=this.kJ.B(),_=this.s0[n],b=this.R1,w=_!=null&&_.add.artd!=null;
for(var k=0;k<b.w.length;k++)if(b.b[b.w[k]].add.artb)w=!1;this.Th.bs(n==this.s0.length);this.pU.bs(w);
if(w){var i=_.root.children,M=[],N=this._K=[];for(var k=0;k<i.length;k++){var a=i[k].i;if(a.add.artb)M.push(a.getName());
N.push(i[k].index)}this.pU.jb(M);this.pU.f(0)}else this._K=null};bz.prototype.wQ=function(D,n,_){this.R1=D;
this.s0=_;this.Th.f(D.w.length==0?"Layer":D.b[D.w[0]].getName());var b=[];for(var k=0;k<_.length;k++){var w=_[k].name;
b.push(w.length<30?w:w.slice(0,27)+"...")}b.push([11,7]);this.kJ.jb(b);this.kJ.f(_.indexOf(D));this.bo(null)};
bz.prototype.au=function(D){var n=this.kJ.B();if(n==this.s0.length){var _=new ai(this.Th.B()+".psd"),b=this.R1.l,w=this.R1.e,i=this.R1.Mg();
if(i!=-1){var M=this.R1.b[i].w3();b=M.l;w=M.e}_.l=b;_.e=w;_.buffer=B.U(_.l*_.e*4);var N=_.ni();N.rK("Background");
_.$N([N]);var a=new ho(S.E.W,!0);a.w2=!0;a.data={d:S.J.gE,ly:_};this.c(a)}var o=this.R1.KI(null,this.R1!=this.s0[n]),a=new ho(S.E.M,!0);
a.data={d:q.AA,b:o,C7:this.R1,rO:this.s0[n]};if(this._K)a.data.gm=this._K[this.pU.B()];a.g=G.vp;a.w2=!0;
this.c(a);this.close()};function fI(){gL.call(this,[1,9],"eassets");this.Wc=null;this.H2=null;var D=t.L("div","form");
D.setAttribute("style","width:32em");this.body.appendChild(D);this.FV=t.L("span");D.appendChild(this.FV);
t.f7(D);this.td=[new dE("Only layers / folders, whose name starts with \"-e-\""),new dE("Remove parts outside the canvas"),new dE("Trim transparent parts")];
for(var k=0;k<3;k++){var n=this.td[k];n.f(!0);n.h(S.E.o,this.cj,this);D.appendChild(n.m);t.f7(D)}this.os=new i5([12,14,0],["1x","2x","3x","4x"]);
this.os.f([!0,!1,!1,!1]);D.appendChild(this.os.m);t.bu(D);this.oK=["PNG","JPG","SVG"];this.dC=new iw([12,50],this.oK);
this.dC.h(S.E.o,this.aaj,this);D.appendChild(this.dC.m);this.xC=new hu;D.appendChild(this.xC.m);this.r7=new bX([1,9],!0,null,!0);
this.r7.h("click",this.au,this);D.appendChild(this.r7.m);this.h("closebtn",this.Rv,this)}fI.prototype=new gL;
fI.prototype.aaj=function(D){this.xC.ajk(this.oK[this.dC.B()])};fI.prototype.Rv=function(D){this.H2=null};
fI.prototype._=function(){gL.prototype._.call(this);this.dC._();this.os._();this.r7._();this.xC._()};
fI.prototype.wQ=function(D,n,_){this.H2=D;this.cj()};fI.prototype.cj=function(D){var n=this.a2$(),_="- - - "+n.length+" exportable layers";
this.FV.textContent=_;this.aaj(null)};fI.prototype.a2$=function(){var D=this.td[0].B(),n=[],_=this.H2;
for(var k=0;k<_.b.length;k++){var b=_.b[k],w=b.getName();if(!D&&!b.nR()&&!b.rect.hk()||w.startsWith("-e"))n.push(k)}return n};
fI.prototype.gB=function(D,n){this.Wc=D};fI.prototype.au=function(D){var n=this.H2,_=[this.oK[this.dC.B()]],b=[this.xC.B()],w=this.os.B(),i={},M={},N=this.a2$();
if(N.length==0){alert("No layers to export.");return}var a=[this.td[1].B(),this.td[2].B()];for(var k=0;
k<N.length;k++){var o=N[k],U=n.b[o],V=U.getName();if(M[V]!=null){M[V]++;V+=" "+M[V]}else M[V]=1;var c=U.h$();
U.oj(!0);for(var E=0;E<w.length;E++){if(!w[E])continue;var A=E+1,Q=G._s.qq(n,_,A,this.Wc,o,b,a);for(var J=0;
J<_.length;J++){var L=_[J],P=V.slice(V.startsWith("-e-")?3:0)+(A==1?"":"-"+A+"x")+"."+L.toLowerCase();
if(Q[J])i[P]=new Uint8Array(Q[J])}}U.oj(c)}var u=UZIP.encode(i),m=new ho(S.E.W,!0);m.data={d:S.J.Mu,data:u,name:"assets.zip"};
this.c(m)};function d6(){gL.call(this,"Export Color Lookup Tables","exlut");this.Wc=null;this.H2=null;
var D=t.L("div","form");D.setAttribute("style","width:20em");this.body.appendChild(D);this.td=[new fh("Grid Points",1,256),new aN([12,50],[".CUBE"])];
var n=[16,0];for(var k=0;k<this.td.length;k++){var _=this.td[k];_.f(n[k]);_.parent=this;_.h(S.E.o,this.cj,this);
D.appendChild(_.m);t.f7(D)}this.r7=t.Mi(this,D);this.h("closebtn",this.Rv,this)}d6.prototype=new gL;
d6.prototype.M4=function(D,n){if(Math.min(D.l,D.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(D.b.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};d6.prototype.Rv=function(D){this.H2=null};d6.prototype.gB=function(D,n){this.Wc=D};
d6.prototype.wQ=function(D,n,_){this.H2=D};d6.prototype.au=function(){var D=this.H2,n=this.td[0].B(),_=[],b=new gl(0,0,D.l,D.e),w=B.U(n*n*4),i=w.slice(0),M=new gl(D.l-n>>>1,D.e-n>>>1,n,n),N=D.b[0],a=N.buffer,o=N.rect;
N.rect=M;N.buffer=w;for(var U=0;U<n;U++){this.a4x(n,U,w);N.G(M);D.G(M);var V=D.iS();B.E3(V,b,i,M);for(var c=0;
c<n;c++)for(var E=0;E<n;E++){var A=c*n+E<<2;_.push(i[A]/255,i[A+1]/255,i[A+2]/255)}}var Q=jC.ag$(_,n,D.name);
bh.save(Q,D.name.split(".")[0]+".CUBE");N.buffer=a;N.rect=o;N.G();D.G()};d6.prototype.a4x=function(D,n,_){var b=255/(D-1),w=Math.round(n*b);
for(var i=0;i<D;i++)for(var M=0;M<D;M++){var N=i*D+M<<2;_[N]=Math.round(M*b);_[N+1]=Math.round(i*b);
_[N+2]=w;_[N+3]=255}};d6.prototype._=function(){gL.prototype._.call(this);for(var k=0;k<this.td.length;
k++)this.td[k]._();this.r7._()};function bt(){gL.call(this,[1,14],"finfo");this.fb=null;this.zU=null;
this.d0=null;this.RK=t.L("div","form scrollable label12");this.RK.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.RK);var D=t.L("div","form");this.body.appendChild(D);this.Fj=new iw(null,["Hello"]);
D.appendChild(this.Fj.m);this.aiV=new bX("Add Parameter",!1,null,!0);D.appendChild(this.aiV.m);this.aiV.h("click",this.zX,this);
this.Ax=new bX("=== S A V E ===",!1,null,!0);D.appendChild(this.Ax.m);this.Ax.h("click",this.j8,this);
this.a5O=""}bt.prototype=new gL;bt.prototype.dg=function(D,n){return D<450||n<450?new gZ(0,0):new gZ(150,100)};
bt.prototype.zX=function(D){if(this.d0.length==0)return;var n=this.d0[this.Fj.B()],_=this.G5();_[n]=fB.wj[n][0];
this.m$(_);this.zU[n].m.scrollIntoView();this.zU[n].Lm()};bt.prototype.d4=function(D){var n=this.G5();
delete n[D.currentTarget.arD];this.m$(n)};bt.prototype.j8=function(D){var n=this.G5(),_=this.fb,b=!0;
for(var w in _)if(JSON.stringify(_[w])!=JSON.stringify(n[w]))b=!1;for(var w in n)if(JSON.stringify(_[w])!=JSON.stringify(n[w]))b=!1;
if(b)return;var i=new ho(S.E.M,!0);i.g=G.vp;i.data={d:q.hQ,MX:n};this.c(i);this.fb=n;this.m$(n)};bt.a5r=function(D){function n(w){var i=w.toLowerCase();
return w==i}var _=D.split(":").pop();for(var b=1;b<_.length-1;b++){if(_[b]==_[b].toUpperCase()&&(n(_[b+1])||n(_[b-1]))){_=_.slice(0,b)+" "+_.slice(b);
b++}}return _};bt.prototype.wQ=function(D,n){this.fb=D.Zd;this.m$(D.Zd)};bt.prototype.m$=function(D){var n=this.RK,w=0;
t.hz(n);var _=this.zU={},b=["tiff","exif","exif:GPS"],i=this.d0=[],M=[];for(var N in fB.wj){var a=bt.a5r(N),o=0,U=15,V=null;
if(D[N]==null){if(fB.wj[N].length!=1||N=="photoshop:Credit"||N=="photoshop:Source"){i.push(N);M.push(a)}continue}for(var k=0;
k<b.length;k++)if(N.startsWith(b[k]))o=k;if(o!=w){t.bu(n);w=o}if(N=="tiff:ImageDescription"||N=="dc:Keywords"){U=18.5;
V=3}var c=new gH(a,null,U,V);_[N]=c;var E=D[N];if(E instanceof Array)E=E[1]==0?"---":E[0]+"/"+E[1];var A=new bX("\u2716",null,io.get([5,4]));
n.appendChild(A.m);A.h("click",this.d4,this);A.arD=N;c.f(E);n.appendChild(c.m);t.f7(n);if(N=="exif:GPSLongitude"&&D["exif:GPSLatitude"]){this.a5O=bt.ahL(D["exif:GPSLatitude"])+","+bt.ahL(D["exif:GPSLongitude"]);
var Q=new bX("Show on map",!1,null,!0);n.appendChild(Q.m);t.f7(n);Q.h("click",this.adF,this)}}this.Fj.jb(M);
this.Fj.f(0)};bt.prototype.G5=function(){var D=this.zU,n=fB.wj,_={};for(var b in n){var w=n[b][0],i=typeof w;
if(w==null||D[b]==null)continue;var M=D[b].B(),N="The value of \""+bt.a5r(b)+"\" must ";if(i=="number"){M=parseFloat(M);
if(isNaN(M)){alert(N+"be a number.");M=w}}else if(w instanceof Array&&w.length==2){if(M.indexOf("/")==-1){alert(N+"be a fraction.");
M=w.slice(0)}else{M=M.split("/").map(parseFloat);if(isNaN(M[0])||isNaN(M[1])){M=w.slice(0)}}}_[b]=M}return _};
bt.ahL=function(D){var n=D.length,_=D.slice(0,n-1).split(",").map(parseFloat),b=D.slice(n-1),w=_[0]+_[1]/60+_[2]/3600;
if(b!="N"&&b!="E")w=-w;return w};bt.prototype.adF=function(D){window.open("https://maps.google.com?q="+this.a5O,"Map")};
function ds(){gL.call(this,[11,5],"gradienteditor");this.bC=null;this.mN=null;this.Wi=null;this.Ij=null;
this.Hr=!1;this.Di=!1;this.Vy=null;this.be=null;this.W2=-1;this.Bx=-1;this.HK=0;this.SD=this.JS.bind(this);
this.ar=this.PW.bind(this);this.O=t.L("canvas");this.aB=this.O.getContext("2d");this.O.setAttribute("style","display:block");
this.PD=null;t.zk(this.O);t.cc(this.O,this.oV.bind(this));this.$t=t.L("div","form");this.ajJ=t.L("div");
this.oi=t.L("div","form");this.afJ=t.L("div");this.Kl=new iw([12,44],[[15,10,0],[24,6]]);this.Kl.h(S.E.o,this.W6,this);
this.body.appendChild(this.Kl.m);t.bu(this.body);var D=this.$t;this.SG=new fh([19,3,3],0,100,"%");this.SG.h(S.E.o,this.W6,this);
this.SG.parent=this;D.appendChild(this.SG.m);t.f7(D);this.SX=new iL([12,0]);D.appendChild(this.SX.m);
this.cd=t.L("div","bordered padded noalign");D.appendChild(this.cd);this.d8=new fh([12,0],0,100,"%");
this.d8.parent=this;this.d8.h(S.E.o,this.W6,this);this.cd.appendChild(this.d8.m);this.fT=new fh([12,40],0,100,"%");
this.fT.parent=this;this.fT.h(S.E.o,this.W6,this);this.cd.appendChild(this.fT.m);this.Q_=new bX([5,4],!1,null,!0);
this.Q_.h("click",this.afY,this);this.cd.appendChild(this.Q_.m);D.appendChild(this.ajJ);this.ai6=new iL([13,0]);
D.appendChild(this.ai6.m);this._a=t.L("div","bordered padded noalign");D.appendChild(this._a);this.s8=new iw([12,44],[[12,45],[12,46],[12,47]]);
this.s8.h(S.E.o,this.W6,this);this._a.appendChild(this.s8.m);this.$_=new hU(!0);this.$_.parent=this;
this.$_.h(S.E.o,this.W6,this);this._a.appendChild(this.$_.m);this.rP=new fh([12,40],0,100,"%");this.rP.parent=this;
this.rP.h(S.E.o,this.W6,this);this._a.appendChild(this.rP.m);this.Iw=new bX([5,4],!1,null,!0);this.Iw.h("click",this.aar,this);
this._a.appendChild(this.Iw.m);var D=this.oi;this.MR=new fh("Roughness",0,100,"%");this.MR.h(S.E.o,this.W6,this);
this.MR.parent=this;D.appendChild(this.MR.m);D.appendChild(this.afJ);this.Is=new bX([25,1,2],!1,null,!0);
this.Is.h("click",this.W6,this);D.appendChild(this.Is.m);this.r7=t.Mi(this);this.h("closebtn",this.fX,this)}ds.prototype=new gL;
ds.prototype.fX=function(D){if(this.Hr)this.Ij(this.bC)};ds.prototype._=function(){gL.prototype._.call(this);
this.r7._();this.SG._();this.SX._();this.ai6._();this.Q_._();this.Iw._();this.d8._();this.fT._();this.s8._();
this.rP._();this.Is._()};ds.prototype.gB=function(D,n){this.Wi=D};ds.prototype.wQ=function(D,n){this.mN=JSON.parse(JSON.stringify(n.X));
this.bC=JSON.parse(JSON.stringify(n.X));this.Vy=this.be=null;this.Ij=n.vJ;this.Hr=!1;this.Di=n.E4;this.$$();
this.rk()};ds.prototype.au=function(D){var n=this.mN;this.Ij(n);this.close()};ds.prototype.$z=function(D){return D==dz.$V||D==dz.cw};
ds.prototype.EL=function(D,n,_,b){if(b.j(dz.$V)||b.j(dz.cw)){if(this.be)this.afY();if(this.Vy)this.aar()}};
ds.prototype.afY=function(D){var n=this.mN.Trns.v;if(this.be==null||n.length==1)return;n.splice(n.indexOf(this.be),1);
this.be=null;this.$$();this.rk()};ds.prototype.aar=function(D){var n=this.mN.Clrs.v;if(this.Vy==null||n.length==1)return;
n.splice(n.indexOf(this.Vy),1);this.Vy=null;this.$$();this.rk()};ds.prototype.$$=function(){var D=this.O,n=this.aB,_=t.F();
D.width=Math.floor(410*_);D.height=Math.floor(70*_);t.hB(D,D.width,D.height);D.style.marginTop="8px";
this.PD=new gl(0,0,Math.floor(380*_),Math.floor(32*_));this.PD.x=Math.floor((D.width-this.PD.l)/2);this.PD.y=Math.floor((D.height-this.PD.e)/2);
var b=this.PD,w=b.l,i=b.e,M=b.x,N=b.y,a=new gl(0,0,w,i),o=n.getImageData(0,0,w,i),U=new Uint8Array(o.data.buffer);
B.Xj(U,w,i,8);var V=B.U(w*i*4);B.X.j2(this.mN,V,a,[1/w,0,0,1/i],w/2,i/2,!1,0,this.Wi.EH,this.Wi.Cp);
B.a.dG("norm",V,b,U,b,b,1);n.clearRect(0,0,D.width,D.height);n.putImageData(o,M,N);var c=this.mN;if(c.Clrs){var E=c.Trns.v,A=c.Clrs.v,Q=B.X.lr(A,this.Wi.EH,this.Wi.Cp),J=Math.round(6*t.F()),L=Math.round(14*t.F()),P=this.be?this.be.v:null,u=this.Vy?this.Vy.v:null;
for(var k=0;k<E.length;k++){var m=E[k].v,x=Math.round(255-255*m.Opct.v.val/100);if((m==P||E[k-1]&&E[k-1].v==P||k==this.Bx)&&k!=0){n.fillStyle="#000000";
n.fillRect(M-3+w*(E[k-1].v.Lctn.v+(m.Lctn.v-E[k-1].v.Lctn.v)*m.Mdpn.v/100)/4096,N-6-2,6,6)}if(m==P){n.fillStyle="#ffffff";
n.fillRect(M-J+w*(m.Lctn.v/4096)-2,N-2-L-2,2*J+4,L+4)}n.fillStyle="rgb("+x+","+x+","+x+")";n.fillRect(M-J+w*(m.Lctn.v/4096),N-2-L,2*J,L)}for(var k=0;
k<A.length;k++){var v=A[k].v,W=Q[k];if((v==u||A[k-1]&&A[k-1].v==u||k==this.W2)&&k!=0){n.fillStyle="#000000";
n.fillRect(M-3+w*(A[k-1].v.Lctn.v+(v.Lctn.v-A[k-1].v.Lctn.v)*v.Mdpn.v/100)/4096,N+i+2,6,6)}if(v==u){n.fillStyle="#ffffff";
n.fillRect(M-J+w*(v.Lctn.v/4096)-2,N+i+2-2,2*J+4,L+4)}n.fillStyle="rgb("+Math.round(W.p)+", "+Math.round(W.z)+","+Math.round(W.S)+")";
n.fillRect(M-J+w*(v.Lctn.v/4096),N+i+2,2*J,L)}}if(this.Di){this.Ij(this.mN);this.Hr=!0}};ds.prototype.rk=function(){var D=this.mN,n=D.Clrs?0:1;
this.Kl.f(n);if(t.Pn(this.$t))this.body.removeChild(this.$t);if(t.Pn(this.oi))this.body.removeChild(this.oi);
(n==0?this.ajJ:this.afJ).appendChild(this.O);if(n==0){this.body.appendChild(this.$t);this.SG.f(Math.round(100*D.Intr.v/4096));
var _=D.Trns.v,b=D.Clrs.v,w=this.be!=null,i=this.Bx!=-1;this.d8.bs(w);this.fT.bs(w||i);this.Q_.bs(w);
if(w){this.cd.setAttribute("style","");var M=this.be.v;this.fT.f(Math.round(100*M.Lctn.v/4096));this.d8.f(M.Opct.v.val)}if(i)this.fT.f(_[this.Bx].v.Mdpn.v);
var w=this.Vy!=null,i=this.W2!=-1;this.s8.bs(w);this.$_.bs(w);this.rP.bs(w||i);this.Iw.bs(w);if(w){this._a.setAttribute("style","");
var N=this.Vy.v;this.rP.f(Math.round(100*N.Lctn.v/4096));var a=N.Type.v.Clry;this.s8.f(["FrgC","BckC","UsrS"].indexOf(a));
if(a=="FrgC")this.$_.p2(this.Wi.EH);if(a=="BckC")this.$_.p2(this.Wi.Cp);if(a=="UsrS")this.$_.f(N.Clr.v)}if(i)this.rP.f(b[this.W2].v.Mdpn.v)}else{this.body.appendChild(this.oi);
this.MR.f(Math.round(100*D.Smth.v/4096))}this.body.appendChild(this.r7.m)};ds.prototype.W6=function(D){var n=this.mN,_=n.Clrs?0:1;
if(D.target==this.Kl){var b=_==0?JSON.parse(ci.UC.auk).v:cq.D2("grdm").Grad.v;this.mN=b;this.rk();this.$$();
return}if(_==0){n.Intr.v=Math.round(4096*this.SG.B()/100);var w=n.Trns.v,i=n.Clrs.v;if(this.be!=null){var M=this.be.v;
M.Lctn.v=Math.round(4096*(this.fT.B()/100));M.Opct.v.val=this.d8.B()}if(this.Vy!=null){var N=this.Vy.v;
N.Lctn.v=Math.round(4096*(this.rP.B()/100));if(D.target==this.$_)this.s8.f(2);var a=this.s8.B();N.Type.v.Clry=["FrgC","BckC","UsrS"][a];
if(a==2)N.Clr={t:"Objc",v:this.$_.B()};else if(N.Clr)delete N.Clr}if(this.Bx!=-1)w[this.Bx].v.Mdpn.v=this.fT.B();
if(this.W2!=-1)i[this.W2].v.Mdpn.v=this.rP.B()}else{n.Smth.v=Math.round(4096*this.MR.B()/100);if(D.target==this.Is)n.RndS.v=Math.floor(Math.random()*4294967295)}this.$$()};
ds.prototype.oV=function(D){var n=t.Wt(D,this.O),_=this.PD,b=(n.x*t.F()-_.x)/_.l,w=(n.y*t.F()-_.y)/_.e,i=this.mN.Trns.v,M=this.mN.Clrs.v,N=null,a=null,o=-1,U=-1;
if(w<1)for(var k=0;k<i.length;k++){var V=i[k].v;if(Math.abs(V.Lctn.v/4096-b)<.02)N=i[k];if(k>0)if(Math.abs((i[k-1].v.Lctn.v+(V.Lctn.v-i[k-1].v.Lctn.v)*V.Mdpn.v/100)/4096-b)<.01)o=k}if(w>0)for(var k=0;
k<M.length;k++){var c=M[k].v;if(Math.abs(c.Lctn.v/4096-b)<.02)a=M[k];if(k>0)if(Math.abs((M[k-1].v.Lctn.v+(c.Lctn.v-M[k-1].v.Lctn.v)*c.Mdpn.v/100)/4096-b)<.01)U=k}if(a==null&&N==null&&o==-1&&U==-1){if(w<0){var V={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
V.v.Lctn.v=Math.round(b*4096);i.push(V);i.sort(this.eY);N=V}if(w>1){var M=this.mN.Clrs.v,E=B.X.lr(M,this.Wi.EH,this.Wi.Cp),A=B.X.$x(this.mN,E,b),c={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:B.X.Ea({p:A&255,z:A>>8&255,S:A>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
c.v.Lctn.v=Math.round(b*4096);M.push(c);M.sort(this.eY);a=c}}if(a!=null)U=-1;if(N!=null)o=-1;if(a!=null||N!=null||o>-1||U>-1){this.be=N;
this.Vy=a;this.Bx=o;this.W2=U;this.rk();this.$$();t.YP(window,this.SD);t.Gv(window,this.ar)}};ds.prototype.JS=function(D){var n=t.Wt(D,this.O),_=this.PD,b=(n.x*t.F()-_.x)/_.l,w=(n.y*t.F()-_.y)/_.e;
b=Math.max(0,Math.min(1,b));var i=this.mN.Trns.v,M=this.mN.Clrs.v;if(this.be!=null){var N=this.be.v;
N.Lctn.v=Math.round(4096*b);var a=i.indexOf(this.be);if(a!=-1&&w<-1&&i.length>1)i.splice(a,1);if(a==-1&&w>-1)i.push(this.be);
i.sort(this.eY)}if(this.Vy!=null){var o=this.Vy.v;o.Lctn.v=Math.round(4096*b);var U=M.indexOf(this.Vy);
if(U!=-1&&w>2&&M.length>1)M.splice(U,1);if(U==-1&&w<2)M.push(this.Vy);M.sort(this.eY)}if(this.Bx>-1){var N=i[this.Bx].v;
N.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-i[this.Bx-1].v.Lctn.v)/(N.Lctn.v-i[this.Bx-1].v.Lctn.v))))}if(this.W2>-1){var o=M[this.W2].v;
o.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(b*4096-M[this.W2-1].v.Lctn.v)/(o.Lctn.v-M[this.W2-1].v.Lctn.v))))}if(this.be!=null||this.Vy!=null||this.Bx>-1||this.W2>-1){this.rk();
this.$$()}};ds.prototype.PW=function(D){t.yT(window,this.SD);t.pz(window,this.ar);if(Date.now()-this.HK<300){if(this.W2!=-1||this.Bx!=-1){var n=(this.W2!=-1?this.mN.Clrs.v[this.W2]:this.mN.Trns.v[this.Bx]).v;
n.Mdpn.v=50;this.rk();this.$$()}else if(this.Vy!=null)this.$_.arH()}this.HK=Date.now()};ds.prototype.eY=function(D,n){return D.v.Lctn.v-n.v.Lctn.v};
function f7(){gL.call(this,[11,10],"isize");this.RK=t.L("div","form");this.RK.setAttribute("style","width:20em");
this.body.appendChild(this.RK);this.vH=new h3(!0,!0,null,null,!0);this.RK.appendChild(this.vH.m);this.iZ=new dE([12,25,3]);
this.iZ.f(!0);this.RK.appendChild(this.iZ.m);this.iZ.h(S.E.o,this.alb,this);this.pu=new iw([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.pu.f(1);this.RK.appendChild(this.pu.m);this.r7=t.Mi(this,this.body)}f7.prototype=new gL;f7.prototype.M4=function(D,n){return D!=null};
f7.prototype.oX=function(){return!0};f7.prototype.alb=function(D){var n=this.iZ.B(),_=this.vH,b=this.pu;
if(n)b.jZ();else b.Mf();if(n)_.a9v();else _.ao6()};f7.prototype._=function(){gL.prototype._.call(this);
this.r7._();this.pu._();this.vH._()};f7.prototype.au=function(D){this.close();var n=this.vH.B(),_=n.x,b=n.y,w=this.pu.B();
if(!this.iZ.B())w=null;var i=new ho(S.E.$W,!0);i.data=G.v1.XQ(_,b,this.vH.XY(),w);this.c(i)};f7.prototype.wQ=function(D,n){this.vH.f(new gZ(D.l,D.e),D.Cn);
this.vH.Lm()};function eX(){gL.call(this,"Import RAW","importraw");var D=t.L("div","flexrow"),n=t.L("div");
n.setAttribute("style","margin-bottom: 1em");this.body.appendChild(D);this.body.appendChild(n);var _=t.L("div","form");
_.setAttribute("style","width:18em");D.appendChild(_);var b=t.L("div","form");b.setAttribute("style","width:15em");
D.appendChild(b);this.hG=null;this.aex=null;this.DU=null;this.ZE=null;this.a4N=[];var w=[];for(var k=0;
k<eX.iv.length;k++)w.push(eX.iv[k]+" Bits");var i=this.$g=[new h3(!0,null,null,!0),new fh([12,72],1,8),new dE("Last one is Transparency"),new aN([12,34],w),new aN("Byte Order",["12-34","34-12"]),new iw("Guesses",[])];
for(var k=0;k<i.length;k++){var M=i[k];M.parent=this;M.h(S.E.o,k==5?this.ao4:this.bo,this);var N=k==0?_:k==5?n:b;
N.appendChild(M.m)}this.O=t.L("canvas");this.aB=this.O.getContext("2d");this.body.appendChild(this.O);
this.r7=t.Mi(this,this.body)}eX.prototype=new gL;eX.prototype._=function(){gL.prototype._.call(this);
var D=this.$g;this.r7._();for(var k=0;k<D.length;k++)D[k]._()};eX.prototype.au=function(D){this.close();
var n=this.$g[0].B(),_=eF.Sl(this.aex,[{data:this.DU,jr:new gl(0,0,n.x,n.y)}]);if(this.ZE)_.wK=this.ZE;
var b=new ho(S.E.W,!0);b.data={d:!0?S.J.gE:S.J.l_,ly:_};this.c(b)};eX.iv=[8,16];eX.prototype.wQ=function(D,n){this.hG=new Uint8Array(n.Mw);
this.aex=n.UP;var _=this.hG.length,b=[1,3,4],w=0,i=0,M=1,N=1,a=this.a4N=[];for(var o=0;o<3;o++){for(var U=0;
U<2;U++){var V=eX.iv[U],c=b[o],E=c*V,A=Math.round(_*8/E);if(A!=_*8/E)continue;for(var Q=0;Q<=4e3;Q++)for(var J=0;
J<=4e3;J++)if(Q*J==A){var L=0;if(Q==J)L+=64;if(Math.round(Q/100)==Q/100&&Math.round(J/100)==J/100)L+=32;
if(Math.round(Q/10)==Q/10&&Math.round(J/10)==J/10)L+=16;if(Math.round(Q/2)==Q/2&&Math.round(J/2)==J/2)L+=8;
a.push([Q,J,c,V,L])}}}var P=function(v,W){if(W[4]!=v[4])return W[4]-v[4];var Z=Math.max(v[0],v[1])/Math.min(v[0],v[1]),r=Math.max(W[0],W[1])/Math.min(W[0],W[1]);
if(Z!=r)return Z-r;return W[0]-v[0]};a.sort(P);var u=this.$g,m=[];for(var k=0;k<a.length;k++){var x=a[k];
m.push(x[0]+" x "+x[1]+", "+x[2]+"ch, "+x[3]+"-bit")}u[5].jb(m);u[5].f(0);this.ao4(null)};eX.prototype.ao4=function(D){var n=this.$g,_=this.a4N[this.$g[5].B()];
n[0].f(new gZ(_[0],_[1]),72);n[1].f(_[2]);n[3].f(eX.iv.indexOf(_[3]));this.bo()};eX.prototype.bo=function(D){var n=this.$g,_=n[0].B(),b=_.x,w=_.y,i=eX.iv[n[3].B()],M=this.hG;
if(i==16&&n[4].B()==1){M=M.slice(0);for(var k=0;k<M.length;k+=2){var N=M[k];M[k]=M[k+1];M[k+1]=N}}var a=this.DU=this.Ck(M,b,w,n[1].B(),i,n[2].B()),o=this.O,U=this.aB,V=[a,new gl(0,0,b,w)];
B.Cy(V);for(var k=0;k<V.length;k+=2)if(V[k+1].e<300){a=V[k];b=V[k+1].l;w=V[k+1].e;break}o.width=b;o.height=w;
t.hB(o,b,w);var c=new ImageData(new Uint8ClampedArray(a.buffer),b,w);U.putImageData(c,0,0)};eX.prototype.Ck=function(D,n,_,b,w,i){this.ZE=null;
var M=[],N=n*_;for(var a=0;a<b;a++){var o=B.U(N);M.push(o);if(w==8)for(var k=0;k<N;k++)o[k]=D[k*b+a];
else if(w==16)for(var k=0;k<N;k++)o[k]=Math.round((D[(k*b+a)*2]<<8|D[(k*b+a)*2+1])*(255/65535))}var U=B.U(N*4);
new Uint32Array(U.buffer).fill(4278190080);if(i){B.tD(M.pop(),U,3);b--}if(b==0){}else if(b==1)B.hd(M[0],U);
else{B.tD(M[0],U,0);B.tD(M[1],U,1);if(b>2){B.tD(M[2],U,2);if(b>3){this.ZE=[];for(var k=3;k<b;k++){var V=new q.$L;
V.name="Alpha "+(k-2);V.rect=new gl(0,0,n,_);V.channel=M[k];this.ZE.push(V)}}}}return U};function gy(D,n,_){cA.call(this);
this.m=t.L("div","");this.t7=D;this.Yo=null;this.Tm=n==null?!1:n;this.AM=null;this.kB=_;this.Tk=[];this.H1=[];
this.Kb=[];this.Dc=[];this.ao=0;this.Yo=this.aaC(gy.Dc[D]);this.zJ();this.mQ=null;this.a2W;this.af7}gy.prototype=new cA;
gy.prototype.EE=function(D,n,_,b,w){this.mQ=w;this.a2W=JSON.parse(JSON.stringify(this.AM));if(this.Yo.lagl)this.af7=this.Yo.lagl.B()[0]};
gy.prototype.cp=function(D,n,_,b,w){var i=this.mQ,M=this.t7,N=this.a2W;if(i==null)return;var a=(w.x-i.x)/D.s.V,o=(w.y-i.y)/D.s.V;
if(M=="GrFl"){var U=JSON.parse(JSON.stringify(N.Ofst.v));U.Hrzn.v.val+=a*.5;U.Vrtc.v.val+=o*.5;this.Yo.Ofst.f(U,!0)}if(M=="patternFill"){var U=JSON.parse(JSON.stringify(N.phase.v));
U.Hrzn.v+=a;U.Vrtc.v+=o;this.Yo.phase.f(U,!0)}if(M=="DrSh"||M=="IrSh"||M=="ChFX"){var V=N.Dstn.v.val,c=this.af7*Math.PI/180,E=-Math.cos(c)*V+a,A=Math.sin(c)*V+o;
this.Yo.Dstn.f(Math.sqrt(E*E+A*A),!0);this.Yo.lagl.f([Math.atan2(A,-E)*180/Math.PI],!0)}};gy.prototype.m_=function(D,n,_,b,w){this.mQ=null};
gy.prototype.aut=function(){for(var k=0;k<this.Dc.length;k++){t.ad(this.Dc[k],"selected");if(this.Kb[k]instanceof dE)this.Kb[k].f(!1)}};
gy.prototype.aoe=function(D){var n=this.apF.bind(this);for(var k=0;k<this.Kb.length;k++){var _=t.L("div","listitem");
this.Dc.push(_);if(k>0)_.textContent="\u2003";_.appendChild(this.Kb[k].m);if(ci.a4v.indexOf(this.t7)!=-1){var b=new bX("+");
b.im();b.m.style.float="right";_.appendChild(b.m);var w=new bX("\u2B0D");w.im();w.m.style.float="right";
w.m.style["margin-right"]="2px";_.appendChild(w.m)}_.addEventListener("click",n,!1);D.appendChild(_)}};
gy.oD=function(D,n){var _=n.getBoundingClientRect();return(D.clientY-_.top)/_.height};gy.prototype.apF=function(D){var n=D.target.tagName.toLowerCase();
if(n=="input"){return}if(n=="button"){var _=new ho(S.E.M,!0),b=D.target.textContent=="+",w=b?0:gy.oD(D,D.target)<.5?-1:1;
if(b)_.data={d:"st_dupsingle",i:this.parent.data.i,HE:this.kB};else _.data={d:"st_movsingle",i:this.parent.data.i,HE:this.kB,apO:w};
_.g=G.EB;_.w2=!0;this.c(_);_=new ho("redrawall",!0);_.data={apO:w};this.c(_);return}t.I0(D);this.LV();
this.ao=this.Dc.indexOf(D.currentTarget);this.c(new ho("showme"))};gy.prototype.LV=function(){if(this.Yo.enab&&this.Yo.enab.B()==!1)this.Y6({GI:"enab",k:!0})};
gy.prototype.amX=function(){var D=this.Dc[this.ao];if(D)t.ES(D,"selected");return this.H1[this.ao]};
gy.prototype.aaC=function(D){var n={};for(var k=0;k<D.length;k++){var _=D[k],b=null;if(_=="----")b={m:t.L("hr")};
if(_=="\n")b={m:t.L("br")};if(_=="blOptions")b=new iL([14,10]);if(_=="brst")b=new i5([12,72],["R","G","B"]);
if(_=="knko")b=new iw("Knockout",[[13,1,0],"Shallow","Deep"]);if(_=="enab")b=new dE(ci.names[ci.order.indexOf(this.t7)]);
if(_=="lrMd"||_=="Md")b=new iw([12,19,0],jz.BP,!1,jz.Fk);if(_=="Opct")b=new d4([12,0],0,100,"%");if(_=="iOpa")b=new d4([12,26],0,100,"%");
if(_=="blIf")b=new jo;if(_=="ShdN")b=new d4([12,68],0,100,"%");if(_=="lagl"||_=="Angl")b=new gu([12,15],this.t7=="ebbl");
if(_=="uglg")b=new dE([12,27]);if(_=="Dstn")b=new d4([12,28],0,200,"px");if(_=="Ckmt")b=new d4([12,29],0,100,"%");
if(_=="blur")b=new d4([12,14,0],0,200,"px");if(_=="TrnS"||_=="MpgS")b=new jb([12,21]);if(_=="Nose")b=new d4([12,30],0,100,"%");
if(_=="layerConceals")b=new dE([12,31]);if(_=="AntA"||_=="antialiasGloss")b=new dE([12,25,1]);if(_=="GlwT")b=new iw([12,32],ci.rG.names);
if(_=="glwS")b=new iw([12,70],ci.rG.a0A);if(_=="Inpr")b=new d4([12,12],1,100,"%");if(_=="bvlS")b=new iw([12,22],ci.Rb.style);
if(_=="bvlT")b=new iw([12,32],ci.Rb.afw);if(_=="bvlD")b=new iw(null,ci.Rb.dir);if(_=="srgR")b=new d4([12,34],0,1e3,"%");
if(_=="Sftn")b=new d4([12,35],0,20,"px");if(_=="Lald")b=n.lagl;if(_=="hglM"||_=="sdwM")b=new iw([12,36],jz.BP,!1,jz.Fk);
if(_=="hglC"||_=="sdwC")b=new hU;if(_=="hglO"||_=="sdwO")b=new d4([12,0],0,100,"%");if(_=="Invr"||_=="InvT")b=new dE([4,11]);
if(_=="Sz")b=new d4([12,14,0],1,200,"px");if(_=="Styl")b=new iw([12,40],ci.stroke.names);if(_=="PntT")b=new iw([12,66],ci.stroke.aqa);
if(_=="Clr")b=new hU(!0);if(_=="Grad"){b=new hl(!0,[12,37],!0);b.f(JSON.parse(ci.UC.abQ).v)}if(_=="Rvrs")b=new dE([12,23,0]);
if(_=="Dthr")b=new dE([12,23,3]);if(_=="Type")b=new iw([12,22],ci.X.names.slice(0,this.t7=="FrFX"?6:5));
if(_=="Ptrn")b=new dG([12,62]);if(_=="Scl")b=new d4([12,38],10,500,"%",0,!0);if(_=="Algn")b=new dE([12,39]);
if(_=="Ofst")b=new ed(!0);if(_=="phase")b=new ed(!1);if(_=="useShape")b=new dE([12,21]);if(_=="useTexture")b=new dE([12,67]);
if(_=="textureDepth")b=new d4([12,34],-300,300,"%");var w=_=="----"||_=="\n"?_+k:_;if(b!=null)n[w]=b}return n};
gy.prototype.adH=function(D){var n=this.H1[this.ao];for(var k=0;k<D.length;k++){var _=this.Yo[D[k]];
if(_&&n.contains(_.m))n.removeChild(_.m)}};gy.prototype.aqV=function(D){var n=this.H1[this.ao];for(var k=0;
k<D.length;k++){var _=this.Yo[D[k]];if(_&&!n.contains(_.m))n.appendChild(_.m)}};gy.prototype.gB=function(D,n){if(this.Yo==null)return;
var _=n==da.XS;if(this.Yo.Grad){this.Yo.Grad.XV(D.EH,D.Cp);if(_||n==da.dJ||n==da.$v)this.Yo.Grad.Gx(D.UT)}if(this.Yo.Ptrn){if(_||n==da.AW)this.Yo.Ptrn.Gx(D.wI)}if(this.Yo.TrnS){if(_||n==da.kI)this.Yo.TrnS.Gx(D.IN)}if(this.Yo.MpgS){if(_||n==da.kI)this.Yo.MpgS.Gx(D.IN)}};
gy.prototype._=function(){for(var k=0;k<this.Tk.length;k++)this.Tk[k]._();for(var D in this.Yo)if(this.Yo[D]instanceof cA)this.Yo[D]._()};
gy.prototype.zJ=function(){for(var D in this.Yo){var n=this.Yo[D];n.parent=this;if(n instanceof cA)n.h(S.E.o,this.a39,this);
if(this.H1.length==0||D=="useShape"||D=="useTexture"){var _=new iL(n.ajr()),b=t.L("div","bordered padded");
if(this.Tm==!1){b.appendChild(_.m);b.appendChild(t.L("hr",""))}this.Tk.push(_);this.H1.push(b);this.Kb.push(n)}else this.H1[this.H1.length-1].appendChild(n.m)}};
gy.prototype.update=function(D,n){if(this.Yo==null)return;this.AM=JSON.parse(JSON.stringify(n));for(var _ in n){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(_)!=-1)this.Yo[_].f(n[_].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(_)!=-1){this.Yo[_].f(n[_].v,D)}if(["Md","hglM","sdwM"].indexOf(_)!=-1)this.Yo[_].f(jz.t7.indexOf(n[_].v.BlnM));
if(_=="lrMd"){var b=(n.nR?[[15,10,27]]:[]).concat(jz.BP),w=(n.nR?[1]:[]).concat(jz.Fk);this.Yo[_].jb(b,w);
this.Yo[_].f(n[_].v)}if(_=="Angl")this.Yo[_].f([n[_].v.val]);if(_=="lagl"){var i=n.uglg&&n.uglg.v?D.bH():n.lagl.v.val;
this.Yo[_].f([i])}if(_=="Lald"){var i=n.uglg&&n.uglg.v?D.w9():n.Lald.v.val;this.Yo[_].f([null,i])}if(_=="Type")this.Yo[_].f(ci.X.types.indexOf(n.Type.v.GrdT));
if(_=="Styl")this.Yo[_].f(ci.stroke.types.indexOf(n.Styl.v.FStl));if(_=="PntT"){var M=ci.stroke.WV.indexOf(n.PntT.v.FrFl);
this.Yo[_].f(M);if(!this.Tm){this.adH(ci.BA.concat(ci.LY.concat(ci.EF)));this.aqV([ci.BA,ci.LY,ci.EF][M])}}if(_=="GlwT")this.Yo[_].f(ci.rG.types.indexOf(n.GlwT.v.BETE));
if(_=="glwS")this.Yo[_].f(ci.rG.asg.indexOf(n.glwS.v.IGSr));if(_=="bvlS")this.Yo[_].f(ci.Rb.types.indexOf(n.bvlS.v.BESl));
if(_=="bvlT")this.Yo[_].f(ci.Rb.a1W.indexOf(n.bvlT.v.bvlT));if(_=="bvlD")this.Yo[_].f(["In","Out"].indexOf(n.bvlD.v.BESs))}};
gy.prototype.a39=function(D){for(var n in this.Yo){if(this.Yo[n]!=D.target)continue;var _=null,b=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(n)!=-1)_={type:"#Prc",val:D.target.B()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(n)!=-1)_={type:"#Pxl",val:D.target.B()};if(["Angl","lagl"].indexOf(n)!=-1)_={type:"#Ang",val:D.target.B()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(n)!=-1)_=D.target.B();
if(["Md","hglM","sdwM"].indexOf(n)!=-1)_={BlnM:jz.t7[D.target.B()]};if(n=="uglg"){_=D.target.B();b=!0}if(n=="PntT"){_={FrFl:ci.stroke.WV[D.target.B()]};
b=!0}if(n=="Lald")_={type:"#Ang",val:D.target.B()[1]};if(n=="Type")_={GrdT:ci.X.types[D.target.B()]};
if(n=="Styl")_={FStl:ci.stroke.types[D.target.B()]};if(n=="GlwT")_={BETE:ci.rG.types[D.target.B()]};
if(n=="glwS")_={IGSr:ci.rG.asg[D.target.B()]};if(n=="bvlS")_={BESl:ci.Rb.types[D.target.B()]};if(n=="bvlT")_={bvlT:ci.Rb.a1W[D.target.B()]};
if(n=="bvlD")_={BESs:["In","Out"][D.target.B()]};this.Y6({GI:n,k:_});if(b){if(this.Tm)this.update(null,this.AM);
else{var w=this.parent,i=w.ly,M=this.kB,N=i.b[w.data.i].add.lmfx[ci.L0[M[0]]].v[M[1]].v;this.update(i,N)}}}};
gy.prototype.Y6=function(D){if(this.AM&&this.AM[D.GI])this.AM[D.GI].v=D.k;if(this.Tm){this.c(new ho(S.E.o))}else{D.d="changeprop";
D.i=this.parent.data.i;D.gH=this.kB;var n=new ho(S.E.M,!0);n.data=D;n.g=G.EB;n.w2=!0;this.c(n);this.c(new ho("afterchange",!0))}};
gy.prototype.B=function(){return JSON.parse(JSON.stringify(this.AM))};gy.Dc={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(ci.BA),GrFl:["enab","Md","Opct"].concat(ci.LY),patternFill:["enab","Md","Opct"].concat(ci.EF),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(ci.BA.concat(ci.LY.concat(ci.EF)))};
function bI(){gL.call(this,[11,6],"layerstyle");this.a9U=-1;this.data={};this.ly=null;this.Wc=null;this.Le=[];
this.xc=[];t.ES(this.body,"flexrow");this.eB=t.L("div","bordered");this.eB.setAttribute("style","min-width:13em;");
this.body.appendChild(this.eB);this.rm=t.L("div","");this.rm.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.rm);this.D$=t.L("div","form");this.D$.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.D$);this.r7=t.Mi(this,this.D$);this.k4=new bX([12,87],!0,null,!0);this.k4.h("click",this.apL,this);
this.D$.appendChild(this.k4.m);this.mv=new bC;this.mv.parent=this;this.mv.h(S.E.o,this.as9,this);this.D$.appendChild(this.mv.m);
this.h("closebtn",this.fX,this);this.h("redrawall",this.a4p,this)}bI.prototype=new gL;bI.prototype.oX=function(){return!0};
bI.prototype.Yy=function(){return!0};bI.prototype.EE=function(D,n,_,b,w){var i=this.z6();if(i)i.EE(D,n,_,b,w)};
bI.prototype.cp=function(D,n,_,b,w){var i=this.z6();if(i)i.cp(D,n,_,b,w)};bI.prototype.m_=function(D,n,_,b,w){var i=this.z6();
if(i)i.m_(D,n,_,b,w)};bI.prototype.z6=function(D){if(D==null)D=this.data.index;return D==null?null:D==0?this.Le[0]:this.xc[D[0]][D[1]]};
bI.prototype.as9=function(D){var n=this.mv.B();this.Y6({d:"setstl",k:n.Ui});this.a4p(null)};bI.prototype.apL=function(D){var n=this.ly,_=this.data.i;
if(_==null)_=n.w[0];var b=this.ly.b[_],w=aL.alc(b),i=new ho(S.E.W,!0);i.data={d:S.J.VS,kr:"add",hy:da.bL,T$:[JSON.parse(JSON.stringify(w))]};
this.c(i)};bI.prototype.amh=function(D){this.data.index=D.currentTarget.kB;this.aP(D.currentTarget.kB)};
bI.prototype.a4p=function(D){this.wQ(this.ly,this.data)};bI.prototype.aP=function(D,n){t.hz(this.rm);
for(var k=0;k<this.Le.length;k++)this.Le[k].aut();var _=this.z6(D);this.rm.appendChild(_.amX());if(n)_.LV();
var b=this.ly;if(b){var w=b.b[this.data.i];this.Le[0].update(b,G.NC.Zg(b,w));var i=w.add.lmfx;if(i==null)return;
for(var k=0;k<ci.order.length;k++){var M=i[ci.L0[k]].v;for(var N=0;N<M.length;N++)this.xc[k][N].update(b,M[N].v)}}if(n)_.LV()};
bI.prototype._=function(){gL.prototype._.call(this);this.k4._();this.mv._();this.r7._();for(var k=0;
k<this.Le.length;k++)this.Le[k]._()};bI.prototype.wQ=function(D,n){var _=n.i==null;this.data.i=n.i;this.data.index=n.index;
n=this.data;this.ly=D;if(_)n.i=D.w.length==0?D.b.length-1:D.w[0];t.hz(this.eB);var b=D.b[n.i].add.lmfx;
this.kE();this.Le=[new gy("bops",!1,0)];this.xc=[];for(var k=0;k<ci.order.length;k++){this.xc.push([]);
var w=b==null?[]:b[ci.L0[k]].v;for(var i=0;i<w.length;i++){var M=new gy(ci.order[k],!1,[k,i]);this.Le.push(M);
this.xc[k].push(M)}if(w.length==0){var M=new gy(ci.order[k],!1,[k,0]);this.Le.push(M);this.xc[k].push(M)}}this._();
this.aic(this.Wc,da.XS);for(var k=0;k<this.Le.length;k++){this.Le[k].parent=this;this.Le[k].aoe(this.eB);
this.Le[k].h("showme",this.amh,this)}if(n.index==null||n.index==0||!_&&b[ci.L0[n.index[0]]].v.length==0){this.aP(0)}else this.aP(n.index,_);
this.h("afterchange",this.kE,this)};bI.prototype.kE=function(D){var n=this.ly,_=this.data.i;if(_==null)_=n.w[0];
var b=this.ly.b[_],w=aL.alc(b);this.mv.f(w,n.add.Patt?n.add.Patt:[],n.bH(),n.w9())};bI.prototype.gB=function(D,n){this.Wc=D;
this.aic(D,n);if(n==da.bL||n==da.XS){this.mv.Gx([D.Qj,D.wI])}if(n==da.Yp){}};bI.prototype.aic=function(D,n){for(var k=0;
k<this.Le.length;k++)this.Le[k].gB(D,n)};bI.prototype.fX=function(D){this.Y6({d:"cancel"})};bI.prototype.au=function(D){this.Y6({d:"confirm"});
this.close()};bI.prototype.Y6=function(D){D.i=this.data.i;var n=new ho(S.E.M,!0);n.data=D;n.g=G.EB;n.w2=!0;
this.c(n);this.kE()};bI.Nl=function(D){var n=[{name:[14,10],Mb:!0}];for(var k=0;k<ci.names.length;k++)n.push({name:ci.names[k]});
if(D){n[n.length-1].Mb=!0;n.push({name:"Scale Effects",R:function(_){return{R:_!=null&&_.w.length!=0&&_.b[_.w[0]].B5()}}});
n.push({name:["VAR0 VAR1",[12,49],[9,1]],R:function(_){return{R:_!=null&&_.w.length!=0&&_.b[_.w[0]].add.lmfx!=null}}})}return n};
bI.gk=function(D){var n=[{T:S.E.W,P:{d:S.J.a_,Lt:"layerstyle"}}];for(var k=0;k<ci.names.length;k++)n.push({T:S.E.W,P:{d:S.J.a_,Lt:"layerstyle",index:[k,0]}});
if(D){n.push({T:S.E.W,P:{d:S.J.a_,Lt:"scaleeffects",JJ:100,aV:{T:S.E.M,g:G.EB,P:{d:"scaleeffects"}}}});
var _={classID:"Mk",null:cT.S0("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
n.push({T:S.E.$W,P:{_L:"make",cR:_}})}return n};bI.a1Z=function(D){var n=[];if(D)n.push({name:[6,48,0,0],vj:!0},{name:[6,48,0,1],vj:!0},{name:[6,48,0,2],vj:!0,Mb:!0});
for(var _ in fg.names)n.push({name:fg.names[_],Mb:fg.pE.indexOf(_)!=-1,vj:d[_]!=null});return n};bI.En=function(D){var n=[];
if(D){n.push({T:S.E.M,g:G.i4,P:{d:"newfill",MJ:0}});for(var k=1;k<3;k++)n.push({T:S.E.$W,P:G.cD.Zh(k)})}for(var _ in fg.names){var b=cq.D2(_);
if(b==null)b={};for(var w in fg.rQ)if(fg.rQ[w]==_)b.classID=w;var i={_L:"make",cR:{classID:"Mk",null:cT.S0("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:b}}}}};
n.push({T:S.E.$W,P:i})}return n};function iR(){gL.call(this,"Merge Channels","mergechannels");this.mT=null;
var D=t.L("div","form");this.body.appendChild(D);this.$g=[];for(var k=0;k<3;k++){var n=new iw(fg.Ay[k],[]);
this.$g.push(n);D.appendChild(n.m);t.f7(D)}this.r7=t.Mi(this,D)}iR.prototype=new gL;iR.prototype._=function(){gL.prototype._.call(this);
this.r7._();for(var k=0;k<3;k++)this.$g[k]._()};iR.prototype.wQ=function(D,n,_,b){this.mT=_;var w=[];
for(var k=0;k<_.length;k++)w.push(_[k].name);for(var k=0;k<3;k++){var i=this.$g[k];i.jb(w);i.f(Math.min(k,_.length-1))}};
iR.prototype.au=function(D){var n=this.mT,_=n[0],b=new ho(S.E.$W,!0);b.data=ai.El(_.l,_.e,_.Cn,"Merged Document","Wht",!1);
this.c(b);var w=[];for(var k=0;k<3;k++)w.push(n[this.$g[k].B()].iS());var _=n[n.length-1],i=_.b[0],M=i.buffer;
for(var k=0;k<M.length;k+=4){M[k]=w[0][k];M[k+1]=w[1][k];M[k+2]=w[2][k]}i.G();_.G();this.close()};function g9(){gL.call(this,[1,10],"script");
var D=t.L("div","form");D.setAttribute("style","width:44em");this.body.appendChild(D);this.Wc=null;this.Dg=[];
this.e$=[];this.alB;var n=this.Ax=new bX([1,2],!1,null,!0);n.h("click",this.j8,this);D.appendChild(n.m);
var _=new bX("JS Reference",!1,null,!0);_.h("click",this.aib,this);D.appendChild(_.m);D.appendChild(new iL("Demos:").m);
this.auO=[];var b=g9.X8;for(var k=0;k<b.length;k++){var w=new bX(b[k].Xw,!1,null,!0);this.auO.push(w);
D.appendChild(w.m);w.h("click",this.auf,this)}this.dE=t.L("textarea");t.pw(this.dE);this.dE.setAttribute("rows",16);
this.dE.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");D.appendChild(this.dE);
var i=new bX("Run",!0,null,!0);i.h("click",this.au,this);D.appendChild(i.m);this.adf=t.L("div");D.appendChild(this.adf)}g9.prototype=new gL;
g9.prototype._=function(){this.Ax._()};g9.prototype.j8=function(){var D=this.alB;if(D==null)D="script.jsx";
var n=new ho(S.E.W,!0);n.data={d:S.J.a_,Lt:"namewindow",JJ:D.slice(0,D.length-4),T1:this.atj.bind(this)};
this.c(n)};g9.prototype.atj=function(D){var n=this.dE.value,_=j.TJ(n),b=new ho(S.E.W,!0);b.data={d:S.J.hv,Mw:_.buffer,Tz:D+".jsx",atr:!0};
this.c(b)};g9.prototype.ahN=function(D){var k=this.Dg.indexOf(D.target),n=this.alB=this.e$[k],_=this.Wc.oR.e7[n],b=new Uint8Array(_),w=j.KA(b,0,b.length);
this.dE.value=w};g9.prototype.wQ=function(D,n,_){this.dE.value=g9.X8[0].sG;this.acH()};g9.prototype.acH=function(){var D=this.Wc.oR,n=this.adf;
t.hz(n);this.Dg=[];this.e$=[];n.textContent="Saved scripts: ";for(var _ in D.e7){if(_.endsWith(".jsx")){var b=new bX(_,!1,null,!0);
this.Dg.push(b);this.e$.push(_);b.h("click",this.ahN,this);n.appendChild(b.m)}}};g9.prototype.gB=function(D,n){this.Wc=D;
if(n==da.$P)this.acH()};g9.prototype.aib=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.xV,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(n)};g9.prototype.au=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.gX,IU:this.dE.value};this.c(n)};
g9.prototype.auf=function(D){var n=this.auO.indexOf(D.currentTarget);this.dE.value=g9.X8[n].sG};g9.X8=[{Xw:"Hello",sG:"\nalert(\"Hello Photopea!\");\n"},{Xw:"Process Layers",sG:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Xw:"Clone Layers",sG:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function dM(){gL.call(this,[11,7],"newproject");this.data=null;this.mT=null;var D=t.L("div","flexrow");
this.sA=D;this.body.appendChild(D);var n=t.L("div","form");this.RK=n;D.appendChild(n);this.Th=new gH([12,48],null,10);
n.appendChild(this.Th.m);t.f7(n);this.vH=new h3(!0,null,null,null,!0);this.vH.f(new gZ(1280,720),72);
this.vH.h(S.E.o,this.nZ,this);n.appendChild(this.vH.m);this.yv=new e0;this.yv.parent=this;n.appendChild(this.yv.m);
this.fA=new dE("Artboards");n.appendChild(this.fA.m);this.r7=new bX([12,49],!0,null,!0);this.r7.h("click",this.au,this);
n.appendChild(this.r7.m);var _=dM.hG,b=[];for(var k=0;k<_.length;k++)b.push(_[k].name);this.LU=new aN(null,b);
this.LU.h(S.E.o,this.atq,this);n.appendChild(this.LU.m);this.LU.m.style["margin-top"]="1em";this.W$=new cb(!0);
this.W$.h(S.E.o,this.ash,this);n.appendChild(this.W$.m);this.atq();this.ws=new aP;this.ws.parent=this;
this.ws.m.setAttribute("style","margin-left:1em");this.ws.h("tempready",this.a8G,this)}dM.prototype=new gL;
dM.prototype.gB=function(D,n){this.ws.gB(D)};dM.prototype.dg=function(D,n){return new gZ(Math.max(0,Math.min(70,(D-690)/2)),D>n?Math.max(0,Math.min(50,(n-400)/2)):0)};
dM.prototype.R9=function(D,n){this.RK.setAttribute("style","width:"+Math.min(D-24,338)+"px");this.W$.m.style.height=n-248+"px";
var _=this.ws.m,b=_.parentNode;if(D<500){if(b!=null)this.sA.removeChild(_)}else{if(b==null)this.sA.appendChild(_);
this.ws.R9(D-378,n-28)}};dM.prototype.nZ=function(){this.ws.f(this.vH.B())};dM.prototype.ash=function(D){var n=this.W$.B()[0],_=dM.hG[this.LU.B()].N5[n],b=_[4];
if(b==0)b=72;var w=_[1],i=_[2],M=["px","%","mm","in"].indexOf(_[3]),N=[1,1,25.4/b,1/b][M];w/=N;i/=N;
this.vH.f(new gZ(Math.round(w),Math.round(i)),b);this.vH.ann(M);this.nZ()};dM.prototype.atq=function(D){var n=dM.hG[this.LU.B()].N5,_=[],b=[],w=Math.round(106*t.F()),i=Math.round(106*t.F()),M=0;
for(var k=0;k<n.length;k++)M=Math.max(M,n[k][1],n[k][2]);for(var k=0;k<n.length;k++){var N=n[k],a=N[1]+" x "+N[2]+" "+N[3];
if(N[3]=="in")a=(N[1]*25.4).toFixed(0)+" x "+(N[2]*25.4).toFixed(0)+" mm";if(N[3]=="mm")a=(N[1]/25.4).toFixed(1)+" x "+(N[2]/25.4).toFixed(1)+" in";
if(N[4])a=a+" @ "+N[4]+" ppi";b.push(a);_.push(dM.N0(N,w,i,M))}this.W$.KM(_,b,w,i)};dM.N0=function(D,n,_,b){var w=t.L("canvas",""),i=w.getContext("2d");
w.width=n;w.height=_;var M=Math.round(n/8),N=Math.floor(11*t.F()),a=D[1],o=D[2];i.fillStyle="#000000";
i.font=Math.round(N*.9)+"px \"Open Sans\", Sans-Serif";var U=a+" x "+o+" "+D[3],V=i.measureText(U);i.fillText(U,Math.round((n-V.width)/2),_-Math.round(M/2));
if(D[0]!=null){i.font="bold "+N+"px \"Open Sans\", Sans-Serif";var U=D[0],V=i.measureText(U);i.fillText(U,Math.round((n-V.width)/2),_-Math.round(M/2)-Math.round(N*1.3))}_-=Math.round(2.5*N);
var c=Math.min((n-M)/a,(_-M)/o);c*=.5+.5*(Math.max(a,o)/b);var E=(n-a*c)/2,A=(_-o*c)/2;i.strokeRect(Math.round(E)+.5,Math.round(A)+.5,Math.round(a*c),Math.round(o*c));
return w.toDataURL()};dM.prototype._=function(){gL.prototype._.call(this);this.vH._();this.Th._();this.yv._();
this.r7._();this.Th.f(io.get([11,7]));this.LU._();this.fA._();this.ws._()};dM.prototype.au=function(D){var n=this.vH.B(),_=n.x,b=n.y;
this.close();var w=this.yv.B(),i=new ho(S.E.$W,!0);i.data=ai.El(_,b,this.vH.XY(),this.Th.B(),["Wht","Blck","Trns","Clr"][w[0]],this.fA.B(),w[1]);
this.c(i);this.adc()};dM.prototype.a8G=function(D){var n=D.data.ly;n.Cn=this.vH.XY();var _=new ho(S.E.W,!0);
_.data={d:S.J.gE,ly:n};this.c(_);this.close();this.adc()};dM.prototype.adc=function(){var D=this.mT[this.mT.length-1],n=this.data.aoZ;
if(n)gm.ps(function(){var _=new XMLHttpRequest,b="https://www.googleapis.com/drive/v3/files?"+gm.yX();
_.open("POST",b,!0);_.setRequestHeader("Content-Type","application/json");_.addEventListener("load",function(w){var i=JSON.parse(w.target.response);
D.DA={file:i,qs:"psd"};alert(D.name+" created in Google Drive")});_.send(JSON.stringify({name:D.name,aus:[n]}))})};
dM.prototype.wQ=function(D,n,_,b){this.mT=_;if(D!=null&&D.q!=null){var w=new gl(0,0,D.l,D.e).zE(D.q.rect);
this.vH.f(new gZ(w.l,w.e))}this.data=n;this.nZ();if(t.e_())bh.auD(this.a7C.bind(this))};dM.prototype.a7C=function(D){if(D=="granted")bh.ok(this,this.a8u.bind(this))};
dM.prototype.a8u=function(D,n){this.vH.f(new gZ(n.l,n.e))};dM.hG=[{name:"Social",N5:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],N5:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],N5:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],N5:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],N5:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],N5:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",N5:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function hE(D,n,_){gL.call(this,n,"sel_"+D);this.d=D;var b=t.L("div","form");this.body.appendChild(b);
this.Th=new fh(n,0,255,null,0,!1,!0);b.appendChild(this.Th.m);this.Th.f(1);var w=t.L("span");w.textContent=_;
b.appendChild(w);t.f7(b);this.aoB=new dE("Apply at canvas bounds");if(D!="border")b.appendChild(this.aoB.m);
this.r7=t.Mi(this,b)}hE.prototype=new gL;hE.prototype.M4=function(D,n){if(D==null)return;if(D.q==null)alert("No selection!");
return D.q!=null};hE.prototype.au=function(D){var n=new ho(S.E.$W,!0);n.data=G.fq.apf(this.d,this.Th.B(),this.aoB.B());
n.w2=!0;this.c(n);this.close()};hE.prototype._=function(){gL.prototype._.call(this);this.r7._();if(this.Th)this.Th._()};
hE.prototype.wQ=function(D,n){};function g3(D,n,_,b,w,i){gL.call(this,_,n);this.a21=i;this.Di=w;this.hG=null;
this.RK=t.L("div","form");this.body.appendChild(this.RK);this.Th=D==0?new gH(_,null,10):D==1?new d4(_,0,500,b,1):new gH(_,null,24,5);
this.Th.h(S.E.o,this.C0,this);this.RK.appendChild(this.Th.m);this.r7=t.Mi(this,this.RK);this.h("closebtn",this.fX,this)}g3.prototype=new gL;
g3.prototype.dg=function(D,n){return new gZ(Math.max(0,Math.min(150,(D-250)/2)),Math.max(0,Math.min(150,(n-120)/2)))};
g3.prototype.oX=function(){return this.a21};g3.prototype.C0=function(D){var n=this.Th.B();if(this.Di)this.dt(n)};
g3.prototype.fX=function(D){if(this.Di)this.dt("cancel")};g3.prototype.au=function(D){if(this.Di)this.dt("confirm");
else this.dt(this.Th.B());this.close()};g3.prototype.dt=function(D){if(this.hG.T1)this.hG.T1(D);else if(this.hG.aV){var n=this.hG.aV,_=new ho(n.T,!0);
_.g=n.g;_.data=n.P;_.data.k=D;_.w2=!0;this.c(_)}};g3.prototype._=function(){gL.prototype._.call(this);
this.r7._();if(this.Th)this.Th._()};g3.prototype.wQ=function(D,n){this.hG=n;this.Th.f(n.JJ);this.Th.Lm();
this.C0(null)};function iP(){gL.call(this,[1,5],"open_from_url");this.fa=null;var D=t.L("div","form");
this.body.appendChild(D);this.o_=new gH("URL",null,22);D.appendChild(this.o_.m);t.f7(D);this.wl=new aN([21,0],[[21,2],[21,1]]);
D.appendChild(this.wl.m);this.r7=t.Mi(this,D)}iP.prototype=new gL;iP.prototype._=function(){gL.prototype._.call(this);
this.r7._();this.wl._()};iP.prototype.wQ=function(D,n,_){this.o_.Lm();this.fa=null;if(D&&_.indexOf(D)!=-1)this.fa=_.indexOf(D)};
iP.prototype.au=function(D){var n=new ho(S.E.W,!0),_=this.o_.B();n.data={d:S.J.Qd,hy:{url:_,Uy:!0,fa:this.wl.B()==1?this.fa:null}};
this.c(n);this.close()};function hG(){gL.call(this,[12,79],"preferences");this.Wc=null;var D=t.L("div","form");
this.body.appendChild(D);this.Dc=[new dE([8,2]),new dE([8,4]),new iw([12,80,3],[[12,93,3],[12,80,4]]),new d4([12,80,5],1,100,null,2),new iw(null,B.Hj.P1),new iw([12,80,6],B.Hj.P1),new dE("Remind me to save")];
for(var k=0;k<this.Dc.length;k++){var n=this.Dc[k];D.appendChild(n.m);if(k!=3)t.f7(D);n.h(S.E.o,this.Nt,this)}}hG.prototype=new gL;
hG.prototype._=function(){gL.prototype._.call(this);for(var k=0;k<this.Dc.length;k++)this.Dc[k]._()};
hG.prototype.wQ=function(D,n,_){};hG.prototype.gB=function(D,n){this.Wc=D;this.Dc[0].f(D.BE.eu);this.Dc[1].f(D.BE.sM);
this.Dc[2].f(D.BE.co);this.Dc[3].f(D.BE.L$);this.Dc[4].f(D.BE.th);this.Dc[5].f(D.BE.gK);this.Dc[6].f(D.uA==1)};
hG.prototype.Nt=function(D){var n=this.Dc;if(D.target==n[6])this.Wc.uA=1-this.Wc.uA;var _=JSON.parse(JSON.stringify(this.Wc.BE));
_.eu=n[0].B();_.sM=n[1].B();_.co=n[2].B();_.L$=n[3].B();_.th=n[4].B();_.gK=n[5].B();if(_.th!=4)_.L$=Math.round(_.L$);
var b=new ho(S.E.W,!0);b.data={d:S.J.VS,hy:da.Xk,ub:_};this.c(b)};function bM(){gL.call(this,[11,8],"saveforweb");
this.a4t="";this.h("closebtn",function(){this.QA.o7()},this);this.zv=new gZ(512,512);this.ly=null;this.YK=null;
this.a9y=null;this.Wc=null;t.ES(this.body,"flexrow");var D=t.L("div"),n=t.L("div");this.body.appendChild(D);
this.body.appendChild(n);this._a=t.L("div","imgcont");D.appendChild(this._a);this.QA=new ax;this.QA.R9(this.zv.x,this.zv.y);
this.Bh=t.L("span");D.appendChild(this.Bh);this.RK=t.L("div","form cell");this.RK.setAttribute("style","width:15em; padding-left:1em;");
n.appendChild(this.RK);this.B3=new iw([12,50],eF.ss());this.RK.appendChild(this.B3.m);this.B3.h(S.E.o,this.cj,this);
this.vH=new h3(!0,!0,!1,!0);this.vH.h(S.E.o,this.cj,this);this.RK.appendChild(this.vH.m);this.xC=new hu;
this.xC.h(S.E.o,this.cj,this);this.RK.appendChild(this.xC.m);this.Uq=new bX([1,2],!0,null,!0);this.Uq.h("click",this.au,this);
this.RK.appendChild(this.Uq.m)}bM.prototype=new gL;bM.prototype.M4=function(D,n){return D!=null};bM.prototype._=function(){gL.prototype._.call(this);
this.vH._();this.B3._();this.xC._();this.Uq._()};bM.prototype.au=function(D){var n=this.ly.name,_=n.lastIndexOf("."),n=_==-1?n:n.slice(0,_),b=eF.ss()[this.B3.B()],w=b=="JPG"||b=="PNG"||b=="GIF",i=eF.rW(b),M="."+b.toLowerCase(),N=this.YK,a=n+M,o=this.ly,U=o.wX;
if(U.length!=0&&w&&this.xC.B().pop()){var V="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",c=[],E={},A=new gl(0,0,o.l,o.e),Q=o.iS();
for(var k=0;k<U.length;k++)c.push(G.dL.v0(U,k));c.reverse();var J=B.rect.ee([0,0,o.l,o.e],c);for(var k=0;
k<J.length;k++){var L=J[k],P=new gl(L[0],L[1],L[2]-L[0],L[3]-L[1]),u=L.length==5?U[L[4]].v:null,m=B.U(P.u()*4);
B.E3(Q,A,m,P);var x="img/img"+(k+1)+M;E[x]=new Uint8Array(i.VX([[m.buffer,0]],P.l,P.e,this.xC.B()));
V+="<div style=\"background-image:url('"+x+"'); left:"+P.x+"px; top:"+P.y+"px; width:"+P.l+"px; height:"+P.e+"px\">";
if(u&&u.url.v!="")V+="\n\t<a href=\""+u.url.v+"\" target=\""+u.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
V+="</div>\n"}V+="</body>\n</html>\n";var v=B.U(Math.round(V.length*1.5)),W=j.yG(V,v,0);E["index.html"]=v.slice(0,W);
N=UZIP.encode(E);a=n+".zip"}else if(o.add.artd&&o.add.artd.Cnt.v>1&&w&&this.xC.B().pop()){var E={},A=new gl(0,0,o.l,o.e),Q=o.iS(),Z=o.root.children;
for(var k=0;k<Z.length;k++){var r=Z[k].i;if(r.add.artb==null||!r.h$())continue;var X=r.w3(),$=B.U(X.u()*4);
B.E3(Q,A,$,X);E[r.getName()+M]=new Uint8Array(i.VX([[$.buffer,0]],X.l,X.e,this.xC.B()))}N=UZIP.encode(E);
a=n+".zip"}if(o.Bt){var I=new XMLHttpRequest;I.open("GET","/papi/img/update.php?act=1&id="+o.Bt+"&rnd="+Math.random());
I.send()}var T=new ho(S.E.W,!0);T.data={d:S.J.Mu,data:N,name:a};this.c(T);this.QA.o7();this.close()};
bM.prototype.wQ=function(D,n){if(n.tu!=null)this.B3.f(n.tu);this.ly=D;var _=D.l+","+D.e;if(_!=this.a4t){this.a4t=_;
this.vH.f(new gZ(D.l,D.e),D.Cn)}this.xC.a4Q();if(n.a2k){this.vH.ann(3);this.xC._0.PDF[2].cC.f(!0)}this.cj(null,!0)};
bM.prototype.dg=function(D,n){return new gZ(Math.max(0,Math.min(150,(D-770)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
bM.prototype.R9=function(D,n){this.Wj=D;this.Rw=n;this.zv.x=Math.min(512,D-26-214);this.zv.y=Math.min(512,n-45);
if(this.ly==null)return;var _=this.vH.B(),D=_.x,n=_.y,b=eF.ss()[this.B3.B()],w=eF.rW(b),V="<span style=\"width:",c="display:inline-block; text-align:right;\">";
if(w.Il){var i=D,M=n,N;if(b=="PDF"||w.OL){i=this.zv.x;M=this.zv.y}else{i=Math.min(D+20,this.zv.x);M=Math.min(n+20,this.zv.y)}this._a.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+M+"px;")}else{if(w.OL){i=this.zv.x;
M=this.zv.y}else{var a=this.a9y,o=a[0].jr,i=o.l,M=o.e;this.QA.R9(Math.max(50,Math.min(i/t.F(),this.zv.x)),Math.max(50,Math.min(M/t.F(),this.zv.y)))}}var U=this.YK.byteLength,E=b+":"+V+64+"px;"+c+bM.ga(U)+"</span>";
if(this.zv.x>200)E+=V+90+"px; opacity:"+.5+";"+c+U.toLocaleString()+" B</span>";this.Bh.innerHTML=E};
bM.ga=function(D){var n=D.toString(2),_=0;while(_+10<n.length)_+=10;var b=(D/Math.pow(2,_)).toFixed(1),w="B KB MB GB TB PB".split(" ")[Math.floor(_/10)];
return b+" "+w};bM.prototype.gB=function(D,n){this.Wc=D};bM.prototype.cj=function(D,n){var _=this.ly,b=this.vH.B(),w=b.x,i=b.y,M=this.B3.B(),N=eF.ss()[M],a=eF.G1(_)[0].length,o=["GIF","PNG","WEBP"].indexOf(N)!=-1&&a>1,Q="";
if(o&&n&&(a>4&&w*i>1024*1024||w*i*a>800*800*50)){var U=1;while(Math.max(w>>>U,i>>>U)>800)U++;var V=window.confirm("Your animation is large ("+w+" x "+i+" px). Press \"OK\" to scale it to "+(100>>>U)+"%. Press \"Cancel\" to keep the size.");
if(V){this.vH.f(new gZ(w>>>U,i>>>U),null,!0);w=w>>>U;i=i>>>U}}var c=_.add.artd,E=c!=null&&c.Cnt.v>1;
this.xC.ajk(N,o,_.wX.length!=0,E);var A=this.xC.B();this.YK=eF.N4(_,N,w,i,A,this.Wc);if(this.YK==null){this.ly=null;
return}t.hz(this._a);this.QA.o7();var J=eF.rW(N);if(J.OL){this._a.innerHTML="<div></div>";Q+="width:0px"}else if(J.Il){var L=w,P=i,u;
if(N=="PDF"){u=URL.createObjectURL(new Blob([this.YK],{type:"application/pdf"}))}else{u=URL.createObjectURL(new Blob([this.YK],{type:"image/svg+xml"}))}this._a.innerHTML="<iframe src=\""+u+"\"></iframe>"}else{var m=this.a9y=J.Ck(this.YK),x=m[0].jr,L=x.l,P=x.e;
this.QA.f(m,m.length>1?A[A.length-3]:0);this._a.appendChild(this.QA.m);Q="background: rgba(0,0,0,0);"}this._a.setAttribute("style","display:block; background-size:"+16/t.F()+"px;"+Q);
this.R9(this.Wj,this.Rw)};function bo(){gL.call(this,[11,13],"shortcuts");var D=this.sA=t.L("div","scrollable");
D.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(D);
this.ap_()}bo.prototype=new gL;bo.prototype._=function(){gL.prototype._.call(this);this.ap_()};bo.prototype.ap_=function(){var D="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",n="",_=dz,b=_.uH,w=_.CO,i=_.u9;
n+="<h2 style=\"margin-top:0;\">Main Menu</h2>";n+=D;n+=this.UA([[0,0],"---",[1,0],[b,_._4],[1,2],[b,_.j9],[1,3],[w,b,_.j9],[1,8],[i,w,b,_.j9],[0,1],"---",[2,0],[w,b,_.CE],[2,1],[b,_.CE],[5,0],[b,_.cG],[5,1],[b,_.Ne],[5,2],[b,_.r4],[2,2],"Delete",[2,3],[i,_.cw],[10,16],[i,b,_.kz],[12,79],[b,_.kS],[3],"---",[4,1],[b,_.ue],[4,2],[b,_.r0],[4,5],[b,_.l7],[4,11],[b,_.g_],[0,3],"---",[6,13],[w,b,_.wg],[6,49,0],[b,_.Ws],[6,6,0],[i,b,_.lc],[6,9],[b,_.lc],[6,10],[b,_.E],[0,5],"---",[7,0],[b,_.J],[7,1],[b,_.vn],[7,2],[w,b,_.g_],[0,7],"---",[8,0],[b,_.$R],[8,1],[b,_.nE],[8,3],[b,_.pk],[8,2],[b,_.TB],[8,4],[b,_.ON],[11,13],"?"]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";n+=D;n+=this.UA(["Vertical scroll","Wheel","Horizontal scroll",[b,"Wheel"],"Zooming",[i,"Wheel"]]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
n+=D;n+=this.UA([[10,11],[b],[10,7],"Space",[10,17],[b,_.FO]]);n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
n+=D;var M=bo.K,N=[];for(var k=0;k<M.length;k+=3)if(M[k+1])N.push(M[k],M[k+1]);N=N.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[b,_.ZU]]);
n+=this.UA(N);n+="</div>";this.sA.innerHTML=n};bo.prototype.UA=function(D){var n="",_=!0;for(var k=0;
k<D.length;k+=2){var b=D[k],w=dz.Pw(D[k+1]);if(w==null){_=!1;continue}var i=t.xb(io.get(b));if(w=="---"){if(!_)n+="<br/>";
n+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+i+"</div>"}else n+="<div>"+i+" <span style=\"float:right; font-weight:bold;\">"+w+"</span> </div>";
_=!1}return n};bo.K=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function bL(){gL.call(this,[8,11,1],"soptions");this.Ga=null;var D=t.L("div","form");D.style.width="20em";
this.body.appendChild(D);this.Sq={Nm:[12,48],url:"URL",null:[12,71]};this.Dc={};for(var n in this.Sq){var _=new gH(this.Sq[n],null,15);
this.Dc[n]=_;D.appendChild(_.m)}this.r7=t.Mi(this,D)}bL.prototype=new gL;bL.prototype.wQ=function(D,n,_){var b=n.k;
this.Ga=JSON.stringify(b);for(var w in this.Sq){if(b[w])this.Dc[w].f(b[w].v)}};bL.prototype.au=function(D){var n=JSON.parse(this.Ga);
for(var _ in this.Sq){var b=this.Dc[_].B();n[_]={t:"TEXT",v:b}}var w=new ho(S.E.M,!0);w.g=G.hA;w.data=n;
w.w2=!0;this.c(w);this.close()};bL.prototype._=function(){gL.prototype._.call(this);this.r7._()};function eC(){gL.call(this,[2,3],"fill");
this.Wc=null;this.tn=null;var D=t.L("div","form padded");D.style.width="22em";this.body.appendChild(D);
this.WR="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Pl=new iw([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.Pl.h(S.E.o,this.alq,this);D.appendChild(this.Pl.m);this._a=t.L("span");D.appendChild(this._a);this.A6=new hU;
this.A6.parent=this;this.A6.p2(0);this.bn=new dG;this.bn.parent=this;this.ys=new iw([12,19,0],jz.BP,!1,jz.Fk);
D.appendChild(this.ys.m);this.Rp=new d4([12,0],0,100,"%",0,!1);this.Rp.f(100);D.appendChild(this.Rp.m);
this.MT=new dE([13,5]);this.MT.f(!1);D.appendChild(this.MT.m);this.r7=t.Mi(this,this.body)}eC.prototype=new gL;
eC.prototype.M4=function(D,n){return D!=null};eC.prototype.oX=function(){return!0};eC.prototype.alq=function(){var D=this.Pl.B(),n=this.A6.m,_=this.bn.m,b=this._a;
if(D==2)b.appendChild(n);else if(b.contains(n))b.removeChild(n);if(D==7)b.appendChild(_);else if(b.contains(_))b.removeChild(_)};
eC.prototype._=function(){gL.prototype._.call(this);this.Pl._();this.ys._();this.Rp._();this.r7._()};
eC.prototype.au=function(D){if(!this.tn.yP())return;var n=new ho(S.E.$W,!0),_=this.Pl.B();n.data=G.NF.Zh(this.WR[_],jz._w[this.ys.B()],this.Rp.B()/100,this.A6.B(),this.MT.B(),this.bn.B());
this.close();this.c(n)};eC.prototype.wQ=function(D,n){this.tn=D};eC.prototype.gB=function(D,n){this.Wc=D;
if(n==da.XS||n==da.AW){this.bn.Gx(D.wI);this.bn.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function a4(){gL.call(this,[14,9],"stroke");this.Wc=null;this.RK=t.L("div","form");this.RK.setAttribute("style","width:24em");
this.body.appendChild(this.RK);this.Ce=new gy("FrFX",!0);this.Ce.parent=this;var D=["Sz","Styl","Md","Opct"].concat(ci.BA);
for(var k=0;k<D.length;k++){var n=this.Ce.Yo[D[k]].m;this.RK.appendChild(n)}this.Ty=!1;this.r7=t.Mi(this,this.body)}a4.prototype=new gL;
a4.prototype.M4=function(D,n){return D!=null};a4.prototype.oX=function(){return!0};a4.prototype._=function(){gL.prototype._.call(this);
this.r7._();this.Ce._()};a4.prototype.au=function(D){var n=new ho(S.E.M,!0);n.g=G.nD;n.data={d:"stroke",aa7:this.Ce.B()};
this.close();this.c(n)};a4.prototype.wQ=function(D,n){if(!this.Ty){var _=ci.D6[ci.order.indexOf("FrFX")];
_=JSON.parse(_);this.Ce.update(D,_);this.Ty=!0}var _=this.Ce.B(),b=this.Wc.EH;_.Clr.v=B.X.Ea({p:b>>16&255,z:b>>8&255,S:b&255});
this.Ce.update(D,_)};a4.prototype.gB=function(D,n){this.Wc=D};function aG(){gL.call(this,[11,9],"textwarp");
this.Dc=new iX;this.Dc.h(S.E.o,this.s$,this);this.Dc.parent=this;this.RK=t.L("div","form");this.RK.setAttribute("style","width:20em");
this.body.appendChild(this.RK);this.RK.appendChild(this.Dc.we.m);this.RK.appendChild(this.Dc.eR.m);this.RK.appendChild(this.Dc.OG.m);
this.RK.appendChild(this.Dc.Pz.m);this.RK.appendChild(this.Dc.Sw.m);this.r7=t.Mi(this,this.RK);this.h("closebtn",this.fX,this)}aG.prototype=new gL;
aG.prototype.oX=function(){return!0};aG.prototype._=function(){gL.prototype._.call(this);this.r7._();
this.Dc._()};aG.prototype.s$=function(D){var n=this.Dc.B();this.dt({d:"warp",ie:n})};aG.prototype.dt=function(D){var n=new ho(S.E.M,!0);
n.g=G.vu;n.data=D;n.w2=!0;this.c(n)};aG.prototype.fX=function(D){this.dt({d:"warpCancel"})};aG.prototype.au=function(D){this.dt({d:"warpConfirm"});
this.close()};aG.prototype.wQ=function(D,n){var _=D.b[D.w[0]];this.Dc.f(_.add.TySh.Kv)};function cC(){gL.call(this,[11,12,0],"trim");
var D=this.RK=t.L("div","form");this.RK.setAttribute("style","width:22em");this.body.appendChild(this.RK);
var n=new iL("Color To Trim:");D.appendChild(n.m);this.oQ=new i5(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.oQ.f([!0]);this.RK.appendChild(this.oQ.m);var n=new iL("Sides:");D.appendChild(n.m);this.BI=new i5(null,["Top","Left","Bottom","Right"]);
this.BI.f([!0,!0,!0,!0]);this.RK.appendChild(this.BI.m);this.r7=t.Mi(this,this.body)}cC.prototype=new gL;
cC.prototype.M4=function(D,n){return D!=null};cC.prototype.oX=function(){return!0};cC.prototype._=function(){gL.prototype._.call(this);
this.oQ._();this.BI._();this.r7._()};cC.prototype.au=function(D){var n=this.oQ.B().indexOf(!0),_=this.BI.B(),b=new ho(S.E.$W,!0);
b.data=G.v1.wR(n,_);this.close();this.c(b)};function fv(){gL.call(this,"Raw Photopea","rawpea");this.DU=null;
this.$A=null;this.Mp=null;this.DD=0;this.Bp=null;this.j$=null;this.a6T=500;this.atJ=500;this.aer=0;this.h("closebtn",this.Vj,this);
t.ES(this.body,"flexrow");var D=t.L("div"),n=t.L("div"),b="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
n.setAttribute("style","padding-left: 1em");this.body.appendChild(D);this.body.appendChild(n);this.O=t.L("canvas");
D.appendChild(this.O);this.zZ=new bY(225);this.zZ.mI(4);n.appendChild(this.zZ.m);this.RK=t.L("div");
this.RK.setAttribute("style","width:18em;");n.appendChild(this.RK);this.auX=new iL("Hi",!0);this.RK.appendChild(this.auX.m);
this.x9=[new gp("Temperature",2e3,13e3),new gp("Tint",-150,150),new gp([4,3],-4,4,null,!0),new gp([12,3,0],-100,100)];
for(var k=0;k<this.x9.length;k++){var _=this.x9[k];_.f(0);_.h(S.E.o,this.vm,this);this.RK.appendChild(_.m);
if(k==1)this.RK.appendChild(t.L("hr"))}this.r7=new bX([1,0],!0,null,!0);this.r7.h("click",this.au,this);
this.RK.appendChild(this.r7.m);this.Su=new bX(b+" JPG",!0,null,!0);this.Su.h("click",this.abp,this);
this.RK.appendChild(this.Su.m);this.Su.m.style.marginTop="6px"}fv.prototype=new gL;fv.prototype.dg=function(){return new gZ(0,0)};
fv.prototype.R9=function(D,n){this.a6T=D-274;this.atJ=n-32;if(this.DU)this.abq()};fv.prototype._=function(){gL.prototype._.call(this);
this.r7._();for(var k=0;k<this.x9.length;k++)this.x9[k]._()};fv.prototype.abp=function(D){var n=this.DU,_=this.$A,b=B.U(n.width*n.height*4);
B.o5(b,4294967295);B.raw.J$(_,b,n,this.Ng());var w=eF.rW("JPG").VX([[b.buffer]],_.uv,_.IH,[85]),i=new ho(S.E.W,!0);
i.data={d:S.J.Mu,data:w,name:"photo.jpg"};this.c(i)};fv.prototype.au=function(D){var n=this.DU,_=this.$A,b=B.U(n.width*n.height*4);
B.o5(b,4294967295);B.raw.J$(_,b,n,this.Ng());var w=fB.fZ(n),n={jr:new gl(0,0,_.uv,_.IH),data:b.buffer,Zd:w},i=eF.Sl("Raw Photo",[n]),M=new ho(S.E.W,!0);
M.data={d:S.J.gE,ly:i};this.c(M);this.Vj();this.close()};fv.prototype.Vj=function(){this.DU=null;this.$A=null;
this.Bp=null;this.j$=null};fv.prototype.wQ=function(D,n,_,b){this.DU=n.kg;this.$A=B.raw.ajN(this.DU);
var w=this.$A;this.auX.f(w.uv+" x "+w.IH+", "+(w.uv*w.IH/1e6).toFixed(1)+" MPx");var i=B.raw.alI(n.kg);
this.Mp=b4.pn(i);this.x9[0].f(this.Mp.Du);this.x9[1].f(this.Mp.zd);for(var k=2;k<this.x9.length;k++)this.x9[k].f(0);
this.abq()};fv.prototype.gB=function(D,n){this.zZ.p2(bb.d6[D.$r]["--text-color"])};fv.prototype.abq=function(){var D=this.$A,n=D.uv,_=D.IH,b=1;
while(n/b>this.a6T*t.F()||_/b>this.atJ*t.F())b++;if(this.aer==b&&this.Bp)return;this.aer=b;var w=Math.floor(n/b),i=Math.floor(_/b);
this.Bp={B_:new Float32Array(w*i*3),uv:w,IH:i};var M=this.O.getContext("2d");this.j$=B.U(w*i*4);B.o5(this.j$,4294967295);
var N=1/(b*b);for(var a=0;a<i;a++)for(var o=0;o<w;o++){var U=0,V=0,c=0,E=(o+1)*b,A=(a+1)*b;for(var Q=a*b;
Q<A;Q++)for(var J=o*b;J<E;J++){var L=(Q*n+J)*3;U+=this.$A.B_[L];V+=this.$A.B_[L+1];c+=this.$A.B_[L+2]}var P=(a*w+o)*3;
this.Bp.B_[P]=U*N;this.Bp.B_[P+1]=V*N;this.Bp.B_[P+2]=c*N}this.vm()};fv.prototype.vm=function(){var D=this.DU,n=this.Bp.uv,_=this.Bp.IH,b=n*_,w=this.O,i=w.getContext("2d");
w.width=n;w.height=_;t.hB(w,n,_);B.raw.J$(this.Bp,this.j$,D,this.Ng());i.putImageData(new ImageData(new Uint8ClampedArray(this.j$.buffer),n,_),0,0);
var M=B.ZB(this.j$);for(var k=0;k<4;k++)for(var N=1;N<256;N++)if(M[k][N]==0)M[k][N]=M[k][N-1];for(var k=0;
k<4;k++)for(var N=1;N<256;N++)if(M[k][N]==0)M[k][N]=M[k][N-1];this.zZ.f(M)};fv.prototype.Ng=function(){var D=[];
for(var k=0;k<this.x9.length;k++)D.push(this.x9[k].B());return D};function dL(D){gL.call(this,D?[11,11,0]:[11,11,1],D?"vbitmap":"rcolors");
this.hG=null;this._n=null;this.No=null;this.dX=null;this.fh=null;this.agp=null;this.H2=null;this.$g="";
this.g7=D;this.Df=this.$$.bind(this);this.body.style.padding="0";this.RK=t.L("div","form hbar padded");
this.body.appendChild(this.RK);var n=this.Hd={cnum:new fh([12,82],2,50,null),nois:new dE([12,81]),mode:new iw(null,["Cartoon","Photo"]),segm:new dE("Segmentize"),poly:new dE("Polygon"),polE:new fh("Roughness",2,30,null),ok:t.Mi(this,null,!1)},i=16;
for(var _ in n){var b=n[_];b.parent=this;if(_!="ok")b.h(S.E.o,this.$$,this)}var w=this.GG=t.L("div","flexrow");
this.body.appendChild(w);this.j7=new ax;this.j7.h("viewchange",this.DX,this);this.lY=new ax;this.O=t.L("canvas");
this.O.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.aB=this.O.getContext("2d");
var M=B.U(16*16*4);B.Xj(M,i,i,8);this.Nx=B.scale.Ad(M,i,i);this.j7.a6D(this.O);this.j7.Lf(this.lY);this.lY.Lf(this.j7);
w.appendChild(this.j7.m);if(D)w.appendChild(this.O);else w.appendChild(this.lY.m)}dL.prototype=new gL;
dL.prototype.dg=function(){return new gZ(0,0)};dL.prototype.oX=function(){return!0};dL.prototype.R9=function(D,n){this.Wj=D;
this.Rw=n;n=n-44;if(D<600)n-=29;if(this.hG==null)return;var _=this.hG.jr,b=iE.aoh(D,n,_.l,_.e);if(b==1)n-=3;
if(b==0){D=Math.floor(D/2);t.ES(this.GG,"flexrow")}else{n=Math.floor(n/2);t.ad(this.GG,"flexrow")}t.vb(this.O,D,n);
this.j7.R9(D,n);if(this.g7)this.DX();else this.lY.R9(D,n)};dL.prototype.EL=function(D,n,_,b){this.j7.EL(b)};
dL.prototype._=function(){gL.prototype._.call(this);for(var D in this.Hd)this.Hd[D]._()};dL.prototype.wQ=function(D,n){this.H2=D;
this.fh=null;var _=D.b[D.w[0]],b=B.zR.VP(_.buffer.buffer,_.rect.l,_.rect.e).aqA,w=b/((_.rect.l-2)*(_.rect.e-2)),i=this.Hd;
i.cnum.f(20);i.nois.f(w<.75);i.mode.f(w<.75?1:0);i.segm.f(!1);i.poly.f(!1);i.polE.f(1);var M=_.rect.clone();
M.x=M.y=0;this.hG={jr:M,data:_.buffer.buffer.slice(0)};this._n=null;this.R9(this.Wj,this.Rw);this.j7.f([this.hG]);
this.j7.Kg();setTimeout(this.Df,20)};dL.prototype.$$=function(){var D=!0,n=Date.now(),_=this.hG,b=this.Hd,w=b.cnum.B(),i=b.nois.B(),M=b.mode.B(),N=b.segm.B(),a=b.poly.B(),o=b.polE.B(),W=null;
if(M==0)N=a=!1;var U=["cnum","nois","mode"];if(M==1){U.push("segm");if(this.g7){U.push("poly");if(a)U.push("polE")}}U.push("ok");
t.hz(this.RK);for(var k=0;k<U.length;k++)this.RK.appendChild(b[U[k]].m);if(D)console.log("---------------------------------------");
var V=i||N,c=i+","+N;if(V&&(this._n==null||this.$g!=c)){this.$g=c;var E=new Uint8Array(_.data),A=_.jr.l,Q=_.jr.e;
if(i){if(this.fh==null){this.fh=E.slice(0);B.OR.S9(this.fh,this.fh,A,Q,15,B.OR.YB,[35]);if(D){console.log("denoise",Date.now()-n);
n=Date.now()}}E=this.fh.slice(0)}else E=E.slice(0);if(N){var J=B.zR.KN(E,A,Q,40,10),L=J.kS,P=new Uint8Array(L*4);
for(var k=0;k<L;k++){var u=k*4,m=k*6,x=1/J.AB[m+5];P[u]=J.AB[m]*x;P[u+1]=J.AB[m+1]*x;P[u+2]=J.AB[m+2]*x}for(var k=0;
k<E.length;k+=4){var v=J.UB[k>>>2]*4;E[k]=P[v];E[k+1]=P[v+1];E[k+2]=P[v+2]}if(D){console.log("segm",Date.now()-n);
n=Date.now()}}this._n={jr:_.jr.clone(),data:E.buffer}}if(V)_=this._n;var E=new Uint8Array(_.data),A=_.jr.l,Q=_.jr.e;
for(var k=0;k<E.length;k+=4){if(E[k+3]<10)E[k]=E[k+1]=E[k+2]=E[k+3]=0}if(M==0){W=B.zR.aiC(E,A,Q,w,V?.1:2e-4);
if(D){console.log("quantize",Date.now()-n);n=Date.now()}}else{W=fa.$D(E.buffer,w,A,Q)}if(this.g7){var Z=W.UB.slice(0);
for(var k=0;k<Z.length;k++)Z[k]++;var r=new Uint8Array((A+2)*(Q+2));B.I4(Z,new gl(1,1,A,Q),r,new gl(0,0,A+2,Q+2));
if(!a){var X=Math.round((A+2)*(Q+2)/1e4),$=cD.RF(r.slice(0),A+2,Q+2,Math.min(12,X)),I=cD.DZ($);if(D){console.log("trace smooth",Date.now()-n);
n=Date.now()}}else{var I=B.H.w0(r,A+2,Q+2,o,D)}var T=I.length,e=new e3(1,0,0,1,-1,-1);for(var k=0;k<T;
k++)B.H.A(I[k].path.t,e,I[k].path.t);this.dX=I;this.No=W;for(var k=0;k<T;k++){var F=I[k];for(var y=k+1;
y<T;y++){var h=I[y];if(h.parent==k&&W.WF[h.color-1].est.q[3]<.05){var Y=h.path.C.slice(1);Y.reverse();
Y=["M"].concat(Y);var K=[],$=h.path.t.length;for(var z=0;z<$;z+=2){K[z]=h.path.t[$-2-z];K[z+1]=h.path.t[$-2-z+1]}B.H.concat(F.path,{t:K,C:Y})}}}if(D){console.log("finding holes",Date.now()-n);
n=Date.now()}for(var k=0;k<I.length;k++){var F=I[k],f=W.WF[F.color-1].est.q;if(f[3]<=.05){I.splice(k,1);
k--;continue}}for(var k=1;k<I.length;k++){var s=I[k-1],F=I[k];if(s.color==F.color){B.H.concat(s.path,F.path);
I.splice(k,1);k--;continue}}this.DX()}else{var l=new Uint32Array(A*Q),g=A*Q;for(var k=0;k<g;k++){var H=W.WF[W.UB[k]];
l[k]=H.est.rgba}this.agp=new Uint8Array(l.buffer);this.lY.f([{jr:_.jr,data:l.buffer}])}};dL.prototype.DX=function(D){if(this.dX==null)return;
var n=this.hG.jr.l,_=this.hG.jr.e,b=this.dX,w=this.No.WF,i=this.O,M=this.aB,N=this.j7.zI();M.setTransform(1,0,0,1,0,0);
M.clearRect(0,0,i.width,i.height);M.translate(i.width/2,i.height/2);M.scale(N.V,N.V);M.translate(N.r.x/N.V-n/2,N.r.y/N.V-_/2);
M.scale(1/N.V,1/N.V);M.fillStyle=this.Nx;M.fillRect(0,0,n*N.V,_*N.V);M.scale(N.V,N.V);var a=[];for(var k=0;
k<w.length;k++){var o=w[k].est.q;a.push({p:Math.round(255*o[0]),z:Math.round(255*o[1]),S:Math.round(255*o[2]),vd:Math.round(255*o[3])})}for(var k=0;
k<b.length;k++){var U=b[k],o=a[U.color-1];if(o.vd==0)continue;M.fillStyle="rgba("+o.p+","+o.z+","+o.S+","+o.vd/255+")";
M.beginPath();Typr.U.pathToContext({crds:U.path.t,cmds:U.path.C},M);M.fill()}};dL.prototype.au=function(D){var n=this.H2,_=n.w[0],b=n.b[_],w=new ho(S.E.M,!0);
w.w2=!0;w.g=G.vp;if(this.g7){var i=this.dX,M=i.length==1,N=n.b.slice(0,_);if(!M)N.push(n.b8());for(var k=0;
k<i.length;k++){var a=i[k],o=this.No.WF[a.color-1].est.q;B.H.A(a.path.t,new e3(1,0,0,1,b.rect.x,b.rect.y),a.path.t);
var U=n.ni();U.rK("Path "+k);N.push(U);U.opacity=Math.round(o[3]*255);U.VN|=16;U.add.SoCo={classID:"null",Clr:{t:"Objc",v:B.X.Ea({p:255*o[0],z:255*o[1],S:255*o[2]})}};
U.add.vmsk=new q.IQ;U.add.vstk=JSON.parse(JSON.stringify(ci.yg.default));U.add.vmsk.Y=B.H.yL(a.path,!1);
U.add.vogk=[];U.GL();U.p8(n)}var V=N[N.length-1];if(!M){var U=n.ni();U.rK(b.getName());U.add.lsct=f4.AU;
U.QQ="pass";U.VN=24;N.push(U);V=U}var c=b.add.lmfx;if(c)V.add.lmfx=JSON.parse(JSON.stringify(c));for(var k=_+1;
k<n.b.length;k++)N.push(n.b[k]);w.data={d:q.qO,S5:N,yr:[_+i.length+(M?-1:1)],Ln:[11,11,0]}}else{var N=n.b.slice(0),U=n.ni();
U.rK(b.getName());N.splice(n.w[0]+1,0,U);U.rect=b.rect.clone();U.buffer=this.agp;U.G();w.data={d:q.qO,S5:N,yr:[n.w[0]+1],Ln:[11,11,1]}}this.c(w);
this.close()};function iE(D){gL.call(this,[[7,11],[7,13]][D],["redge","magiccut"][D]);this.oQ=D;this.hG={};
this.Ey=null;this.dO=null;this.H2=null;this.tQ=null;this.PG=null;this.body.style.padding="0";this.sQ=[];
this.hV=-1;this.RK=t.L("div","form hbar padded");this.body.appendChild(this.RK);this.SM=new jW;this.SM.parent=this;
this.SM.h(S.E.o,this._y,this);this.RK.appendChild(this.SM.m);var n=D==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
n=n.concat("tools/hand","zoomIn","zoomOut");var _=D==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.mY=new de(null,n,_,28);this.mY.h(S.E.o,this.EL,this);this.RK.appendChild(this.mY.m);this.aG=new fh([7,9],0,50,null);
this.aG.parent=this;this.aG.h(S.E.o,[this.a3_,this.$$][D],this);this.RK.appendChild(this.aG.m);var b=this.a5_=new bX([2,2],!1,null,!0);
b.h("click",this.Vj,this);this.RK.appendChild(b.m);var w=this.aqk=t.L("span","form");this.RK.appendChild(w);
var i=this.aiJ=new bX([12,90],!1,null,!0);i.h("click",function(a){alert(D==0?io.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
w.appendChild(i.m);var M=new bX("Tutorial",!1,null,!0);M.h("click",this.acW,this);w.appendChild(M.m);
this.Ec=new de([12,46],["checker","#ffffff","#000000"]);this.Ec.h(S.E.o,this.ahF,this);w.appendChild(this.Ec.m);
this.Cj=new iw(null,[[6,13],[6,2],[17,2]]);w.appendChild(this.Cj.m);this.r7=t.Mi(this,w,!1);var N=this.GG=t.L("div","flexrow");
this.body.appendChild(N);this.w_=new ax(!0);this.Cq=new ax;this.w_.Lf(this.Cq);this.Cq.Lf(this.w_);this.w_.h("mousedown",this.l2,this);
this.w_.h("mousemove",this.uK,this);this.w_.h("mouseup",this.R4,this);this.w_.h("zoom",this._y,this);
this.Cq.h("zoom",this._y,this);N.appendChild(this.w_.m);N.appendChild(this.Cq.m)}iE.prototype=new gL;
iE.prototype.M4=function(D,n){var _=D!=null&&!D.b[D.w[0]].rect.hk();if(!_)alert("The layer is empty.");
return _};iE.prototype.dg=function(){return new gZ(0,0)};iE.prototype.oX=function(){return!0};iE.prototype.R9=function(D,n){this.Wj=D;
this.Rw=n;n=n-12-33;if(D<900){this.aqk.setAttribute("style","display:block;  text-align:right;");n-=29}else{this.aqk.setAttribute("style","position:absolute;  right:0px")}var _=this.hG.rect;
if(_){var b=iE.aoh(D,n,_.l,_.e);if(b==0){D=Math.floor(D/2);t.ES(this.GG,"flexrow")}else{n=Math.floor(n/2);
t.ad(this.GG,"flexrow")}this.w_.R9(D,n);this.Cq.R9(D,n)}};iE.aoh=function(D,n,_,b){var w=D/2,i=n/2,M=Math.min(w/_,n/b),N=Math.min(D/_,i/b);
return M>N?0:1};iE.prototype._=function(){gL.prototype._.call(this);this.SM._();this.aG._();this.r7._();
this.Ec._();this.Cj._();this.a5_._();this.aiJ._()};iE.prototype.acW=function(D){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.oQ],"_blank")};
iE.prototype.gB=function(D,n){this.dO=D;if(n==da.hP||n==da.XS){this.SM.Gx(D.LF);this.SM.f(iu.kw(),D.LF.Nb,D.LF.bn)}};
iE.prototype.EL=function(D,n,_,b){var w=this.mY.B();if(b==null){this.w_.EL(ax.a5I(w-3));return}this.tQ=b;
var i=G.NF.rV(this.SM.B(),b);if(i!=null){this.SM.f(i);this._y()}else if(b.j(dz.uH)&&b.j(dz.CE)){var M=this.sQ,N=0;
if(b.j(dz.CO)){if(this.hV+1<M.length)N=1}else if(this.hV>0)N=-1;if(N!=0){this.hV+=N;var a=this.hV,o=this.hG;
if(N==1)B.E3(M[a][2],M[a][0],o.Q4,o.rect);else B.E3(M[a+1][1],M[a+1][0],o.Q4,o.rect);o.AG=o.rect;this.$$()}}else if(w<3)this.w_.EL(b)};
iE.prototype.NY=function(D){var n=this.hG,_=this.sQ,b=B.U(D.u()*4);B.E3(n.er,n.rect,b,D);n.er=null;var w=B.U(D.u()*4);
B.E3(n.Q4,n.rect,w,D);this.hV++;_[this.hV]=[D.clone(),b,w];while(_.length>this.hV+1)_.pop();while(_.length>50){_=_.slice(1);
this.hV--}};iE.prototype._y=function(){var D=this.dO,n=eg.cs(this.SM.B(),D.LF.Nb,this.w_.zI().V);this.w_.Nm(n)};
iE.prototype.l2=function(D){var n=this.dO,_=this.hG,b=this.tQ,w=this.SM.B(),i=this.w_.jF(),M=[16777215,8421504,0][this.mY.B()];
this.Ey=new eg(w,n.LF.Nb,n.LF.bn,{d8:1,ML:!0},M,n.Cp,_.rect);_.er=_.Q4.slice(0);if(b!=null&&b.j(dz.CO)&&this.PG){this.Ey.moveTo(this.PG.x,this.PG.y);
this.Ey.lineTo(i.x,i.y)}else this.Ey.moveTo(i.x,i.y);this.arU()};iE.prototype.uK=function(D){var n=this.hG,_=this.w_.jF();
this.Ey.lineTo(_.x,_.y);this.arU()};iE.prototype.R4=function(D){this.PG=this.w_.jF();this.NY(this.Ey.X6());
this.$$()};iE.prototype.arU=function(){var D=this.hG,n=this.Ey,_=n.tb();if(_.hk())return;D.AG=_;B.a.dG("norm",n.Mn(),n.YL(),D.Q4,D.rect,_,1);
this.ai4()};iE.prototype.Vj=function(D){var n=this.hG;n.er=n.Q4.slice(0);n.AG=n.rect;B.o5(n.Q4,[4278190080,4292730333][this.oQ]);
this.NY(n.rect);this.$$()};iE.prototype.wQ=function(D,n){this.H2=D;var _=D.b[D.w[0]],b=_.rect.clone(),w=b.l,i=b.e;
this.aG.f(this.oQ==0?3:w*i<3e6?3:0);this.mY.f(D.q==null?0:1);this.aG.Mf();if(this.oQ==0&&D.q!=null||this.oQ==1)this.aG.jZ();
var M=this.oQ,N=B.U(b.u()),a=new Float32Array(b.u());if(M==0&&D.q){B.I4(D.q.channel,D.q.rect,N,b);var o=B.U(b.u());
for(var U=0;U<i;U++)for(var V=0;V<w;V++){var k=U*w+V,c=N[k];if(V>0&&N[k-1]!=c||V<w-1&&N[k+1]!=c||U>0&&N[k-w]!=c||U<i-1&&N[k+w]!=c)o[k]=255}B.style.qh(o,a,w,i)}else a.fill(1e9);
b.x=b.y=0;this.hG={rect:b,B_:_.buffer,dD:N,yt:a,YU:B.U(b.u()*4),bG:B.U(b.u()*4),Q4:B.U(b.u()*4),er:null,qI:null,AG:b,ahf:{}};
if(M==0)this.a3_();else{this.hG.ahf=G.yc.GH(D);var E=this.hG.Q4;B.o5(E,4287137928);var A=B.bd.getSelection(_.buffer,w,i),Q=Math.round(w/60),J=Math.round(.7*i);
for(var U=0;U<i;U++)for(var V=0;V<w;V++){var L=(U*w+V)*4,P=A[L>>>2];P=P>128?255:128;if(U<Q||U<J&&(V<Q||V>w-1-Q))P=0;
E[L]=E[L+1]=E[L+2]=P}this.$$()}this.sQ=[1];this.hV=0;var u=this.SM.B();u.Brsh.v.Dmtr.v.val=Math.round(b.l/(M==0?10:20));
this.SM.f(u);this._y();this.R9(this.Wj,this.Rw);this.w_.Kg()};iE.prototype.a3_=function(){var D=this.hG,n=D.rect.u(),_=this.aG.B(),b=D.dD.slice(0);
for(var k=0;k<n;k++)if(D.yt[k]<_)b[k]=128;B.o5(D.Q4,4294967295);B.tD(b,D.Q4,0);B.tD(b,D.Q4,1);B.tD(b,D.Q4,2);
D.AG=D.rect;this.$$()};iE.prototype.$$=function(){var D=this.hG,w,N,a=0,o=0,U=0;this.ai4();var n=D.rect,_=n.l,b=n.e,i=B.U(n.u()),M=D.B_;
B.Ef(D.Q4,i,0);for(var k=0;k<i.length;k++){if(M[(k<<2)+3]!=255)continue;var V=i[k];if(V==0)a++;else if(V==255)o++;
else U++}if(a*o*U!=0){if(this.oQ==0)N=B.ag.ag(n,M,i);else{var c=this.mY.B();for(var E=1;E<b;E++)for(var A=1;
A<_;A++){var k=E*_+A,Q=i[k],J=i[k-1];if(Q==0&&J==255||Q==255&&J==0){w="The Red and Green should never touch! Erase it with Grey.";
break}}var L=Date.now(),P=this.hG.ahf;B.nb(i,P.IA);G.yc.uz(P,!0);var u=Math.ceil(this.aG.B()/2);if(u==0){N=M.slice(0);
B.tD(P.q,N,3)}else{var m=P.q.slice(0),x=P.q.slice(0);for(var v=0;v<u;v++){for(var E=1;E<b-1;E++)for(var A=1;
A<_-1;A++){var k=E*n.l+A,W=m[k];if(m[k-_]!=W||m[k-1]!=W||m[k+1]!=W||m[k+_]!=W)x[k]=128;else x[k]=W}var Z=m;
m=x;x=Z}N=B.ag.ag(n,M,m,20,!1)}}}else{N=M.slice(0);B.tD(i,N,3)}for(var k=3;k<N.length;k+=4)if(N[k]>M[k])N[k]=M[k];
if(n.l8(D.rect))D.qI=N;else B.E3(N,n,D.qI,D.rect);this.ahF();if(w)alert(w,4e3)};iE.prototype.ai4=function(D){var n=this.hG,_=n.AG;
B.E3(n.B_,n.rect,n.YU,n.rect,_,!0);var b=n.Q4;if(this.oQ==1){var w=new Uint32Array(256);w[0]=4278190335;
w[255]=4278255360;var i=n.rect.u();b=b.slice(0);var M=new Uint32Array(b.buffer);for(var k=0;k<i;k+=2){M[k]=w[M[k]&255];
M[k+1]=w[M[k+1]&255]}}B.a.dG("norm",b,n.rect,n.YU,n.rect,_,.3);this.w_.f([{jr:n.rect,data:n.YU.buffer}])};
iE.prototype.ahF=function(D){var n=this.hG;B.o5(n.bG,[0,4294967295,4278190080][this.Ec.B()]);B.a.dG("norm",n.qI,n.rect,n.bG,n.rect,n.rect,1);
this.Cq.f([{jr:n.rect,data:n.bG.buffer}])};iE.prototype.au=function(D){var n=this.H2,_=this.hG,b=this.Cj.B(),w=n.b[n.w[0]],i=new ho(S.E.M,!0);
i.w2=!0;var M=w.rect.clone();if(b==0&&w.h$()||b!=0&&!w.h$()){i.g=G.vp;i.data={d:q.Y9,i:n.w[0]};this.c(i)}if(n.q!=null){i.g=G.xm;
i.data={d:"fromAction",QV:G.fq.A8()};this.c(i)}if(b==0){var N=n.b.slice(0),a=n.ni();a.rK(w.getName());
N.splice(n.w[0]+1,0,a);a.rect=M;a.buffer=_.qI;a.G();i.g=G.vp;i.data={d:q.qO,S5:N,yr:[n.w[0]+1],Ln:[7,11]};
this.c(i)}if(b==1){var o=w.us();i.g=G.vp;i.data={d:q.Ht,abX:!0};this.c(i);var U=w.us();U.channel=B.U(M.u());
U.rect=M;U.color=0;U.Vk=!0;B.Ef(_.qI,U.channel,3);if(o){var V=U.H9(o);U.rect=V.rect;U.channel=V.channel;
U.color=V.color}U.B2();w.p8()}if(b==2){var c={rect:M,channel:B.U(M.u())};B.Ef(_.qI,c.channel,3);i.g=G.xm;
i.data={d:"setsel",q:c,Ln:this.ri};this.c(i)}this.close()};function ix(){gL.call(this,[1,13],"locstor");
this.Wc=null;this.LN=[];var D=this.body,n=t.L("p");n.textContent="These files are loaded every time you start Photopea.";
D.appendChild(n);this.anb=0;this.fQ=t.L("span");D.appendChild(this.fQ);this.fQ.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var _=t.L("span","form");D.appendChild(_);this.d4=new bX([5,4],!1,null,!0);this.d4.h("click",this.a6s,this);
_.appendChild(this.d4.m);this.anS=new bX("Get all as ZIP",!1,null,!0);this.anS.h("click",this.j8,this);
_.appendChild(this.anS.m);this.DC=new cb(!0);this.DC.parent=this;this.DC.mI(1);D.appendChild(this.DC.m);
this.DC.m.setAttribute("style","width: 40em; height: 25em")}ix.prototype=new gL;ix.prototype._=function(){gL.prototype._.call(this);
this.fQ.textContent=io.get([13,2])+": "+bM.ga(this.anb);this.d4._()};ix.prototype.gB=function(D,n){this.Wc=D;
if(n==da.$P)this.wQ()};ix.prototype.wQ=function(D,n){var _=this.Wc.oR.e7,a=0;this.LN=[];for(var b in _)this.LN.push(b);
this.LN.sort(function(U,V){U=U.split(".");V=V.split(".");return U[1]==V[1]?U[0]<V[0]?-1:1:U[1]<V[1]?-1:1});
var w=Math.floor(100*t.F()),i=Math.floor(16*t.F()),M=[],N=[];for(var k=0;k<this.LN.length;k++){var b=this.LN[k],o=ix.N0(b,_[b],w,i);
M.push(o);N.push(b);a+=_[b].byteLength}this.DC.KM(M,N,w,i);this.anb=a;this._()};ix.prototype.a6s=function(D){var n=this.DC.B();
if(n.length==0){alert("Select a file first.");return}this.DC.f([]);var _=this.Wc.oR.e7;for(var k=0;k<n.length;
k++)delete _[this.LN[n[k]]];var b=new ho(S.E.W,!0);b.data={d:S.J.VS,hy:da.$P};this.c(b)};ix.prototype.j8=function(D){var n=this.Wc.oR.e7,_={};
for(var b in n)_[b]=new Uint8Array(n[b]);var w=UZIP.encode(_);bh.save(w,"resources.zip")};ix.N0=function(D,n,_,b){var w=t.L("canvas"),N=0;
w.width=_;w.height=b;var i=w.getContext("2d"),M=D.split(".").pop().toLowerCase();for(var k=0;k<M.length;
k++)N+=M.charCodeAt(k)*613<<8*k;i.fillStyle="#"+B.xQ(N&16777215);i.fillRect(0,0,20,b);var a=Math.floor(14*t.F());
i.fillStyle="#000000";i.font="bold "+a+"px sans-serif";var o=(b-a)/2,U=bM.ga(n.byteLength),V=i.measureText(U);
i.fillText(U,_-12-V.width,b-o);return w.toDataURL()};function gA(){gL.call(this,[1,15],"pmanager");this.Wc=null;
this.MN=new iw([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.MN.h(S.E.o,this.wQ,this);
this.body.appendChild(this.MN.m);var D=t.L("div","flexrow");this.body.appendChild(D);var n=this.a0N=t.L("div");
D.appendChild(n);var _=t.L("div","form");D.appendChild(_);_.setAttribute("style","width:140px; margin-left:12px");
this.a66=[da.hP,da.$v,da.AW,da.bL,da.Yp,da.kI];this.Dg=[new jW,new hl,new dG,new bC,new eW,new jb];for(var k=0;
k<this.Dg.length;k++)this.Dg[k].parent=this;this.gc=[];for(var k=0;k<4;k++){var b=new bX("Hello",!0,null,!0);
b.h("click",this.MI,this);this.gc.push(b);_.appendChild(b.m)}this.wQ()}gA.prototype=new gL;gA.prototype.$z=function(D){return D==dz.$V||D==dz.cw};
gA.prototype.MI=function(D){var k=this.gc.indexOf(D.target);this.Dg[this.MN.B()].KV(k)};gA.prototype._=function(){gL.prototype._.call(this);
this.MN._();for(var k=0;k<this.Dg.length;k++)this.Dg[k]._();var D=this.gc,n=this.MN.B(),_=da.K5[this.a66[n]],b=_[0].toUpperCase();
D[0].v$([[23,6],"."+b]);D[1].v$(["VAR0 ."+b,[1,8]]);D[2].v$([6,37]);D[3].v$([5,4])};gA.prototype.gB=function(D,n){this.Wc=D;
this.wQ()};gA.prototype.wQ=function(D,n){if(!t.Pn(this.m))return;this._();t.hz(this.a0N);this.a0N.appendChild(this.Dg[this.MN.B()].I2);
var _=this.Dg,b=this.Wc;if(b==null)return;_[0].Gx(b.LF);_[1].XV(b.EH,b.Cp);_[1].Gx(b.UT);_[2].Gx(b.wI);
_[3].Gx([b.Qj,b.wI]);_[4].Gx(b.B0);_[5].Gx(b.IN)};function hR(D,n,_){gL.call(this,n,"cwindow");this.ajG=new gZ(_[0],_[1]-33);
this.RK=t.L("div","form");this.RK.setAttribute("style","width:"+(_[2]-_[0])+"px; height:"+(_[3]-_[1])+"px");
this.body.appendChild(this.RK)}hR.prototype=new gL;hR.prototype.dg=function(D,n){return this.ajG.clone()};
function hh(){gL.call(this,["PSD VAR0",[25,0]],"templates");this.an1=null;this.Tt=null;this.Kr=0;this.TC=null;
this.body.setAttribute("style","padding:0");this.CL=new bX("Add Templates",null,null,!0);this.body.appendChild(this.CL.m);
this.CL.h("click",this.a4S,this);this.CL.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a4L=new bX("New Template",null,null,!0);this.a4L.h("click",this.a5h,this);this.afa=new bX("Upload Current Document as a Template",null,null,!0);
this.afa.h("click",this.aj5,this);this.kU=t.L("iframe","scrollable");this.kU.setAttribute("style","border:none; margin:0; padding:0;");
this.Xl=t.L("div","form scrollable padded");this.Nh=t.L("div","form scrollable padded label12");var D=[],n=hh.y8;
this.wF=[];for(var _ in n){var b=parseInt(_.slice(1)),w=b%10==0?"":"\u2800\u2800- ";D.push(w+n[_]);this.wF.push(b)}this.wc=[new gH("Name",null,30),new gH("Description",null,30,4),new gH("File"," www.Photopea.com#i...",17),new gH("Thumbnail URL","* Use Imgur.com etc.",17),new iw("Category",D),new bX("<< Back",null,null,!0),new bX("Save",null,null,!0),new iL("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new iL("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var k=0;k<this.wc.length;k++){var i=this.wc[k];this.Nh.appendChild(i.m);i.parent=this;if(k!=5)t.f7(this.Nh);
if(i instanceof bX)i.h("click",this.ah6,this)}this.body.appendChild(this.kU)}hh.prototype=new gL;hh.prototype.dg=function(D,n){return new gZ(0,0)};
hh.prototype.R9=function(D,n){this.Wj=D;this.Rw=n;this.tn=null;n=n-4;D=D;var _=this.Xl;_.style.width=D-12+"px";
_.style.height=n-12+"px";var _=this.Nh;_.style.width=D-12+"px";_.style.height=n-12+"px";var _=this.kU;
_.style.width=D+"px";_.style.height=n+"px";this.uN()};hh.prototype._=function(){gL.prototype._.call(this)};
hh.prototype.wQ=function(D,n,_,b){this.tn=D;this.a4S(null,!1)};hh.prototype.a4S=function(D,n){var _=n!=null?n:t.Pn(this.kU);
if(_){if(!bJ.xU()){alert("You need to log in first!");return}var b=bJ.sk();this.Tt=b.tpl?b.tpl.list:[];
this.uN()}else{this.kU.setAttribute("src","");this.kU.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(_?this.Xl:this.kU);this.CL.v$(_?"All Templates":"Add Templates")};hh.prototype.uN=function(){var D=this.Tt,i=450;
if(D==null)return;var n=this.Xl;t.hz(n);var _=t.L("h1");n.appendChild(_);_.textContent="Share your PSD templates with the world!";
var b=t.L("ul");n.appendChild(b);var w=t.L("li");b.appendChild(w);w.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var w=t.L("li");b.appendChild(w);w.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
n.appendChild(this.a4L.m);n.appendChild(this.afa.m);t.f7(n);i=(this.Wj-20)/Math.max(1,Math.floor(this.Wj/i))-42;
var M="display:inline-block; width:"+i+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var k=D.length-1;k>=0;k--){var N=D[k],a=t.L("div");n.appendChild(a);a.setAttribute("style",M);var o=t.L("img");
a.appendChild(o);o.setAttribute("src",N.thmb);o.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var U=t.L("h3");a.appendChild(U);U.textContent=N.name;U.setAttribute("style","margin:0 0 10px 0");var V=t.L("p");
a.appendChild(V);V.textContent=N.desc;V.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var c=0;c<2;c++){var E=new bX(c==0?"Edit":"Delete",null,null,!0);E.asR=k;E.cQ=c==0;E.h("click",this.akb,this);
a.appendChild(E.m)}}};hh.prototype.aj5=function(D){if(this.tn==null){alert("No document opened.");return}var n=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!n)return;var _=new ho(S.E.W,!0);_.data={d:S.J.K2,tu:"psd",zT:this.atf.bind(this)};this.c(_)};hh.prototype.atf=function(D){this.an1=D;
var n=new ho(S.E.W,!0);n.data={d:S.J.K2,tu:"jpg",zT:this.a0P.bind(this),apb:1400};this.c(n)};hh.prototype.a0P=function(D){this.TC={catg:0,desc:"",file:this.an1.split("#i").pop(),name:this.tn.name.split(".")[0],thmb:D,utme:""};
this.cQ()};hh.prototype.a5h=function(D){this.TC={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.cQ()};
hh.prototype.akb=function(D){this.Kr=D.target.asR;if(!D.target.cQ){this.Tt.splice(this.Kr,1);this.j8();
this.uN();return}this.cQ()};hh.prototype.cQ=function(){this.body.removeChild(this.Xl);this.body.appendChild(this.Nh);
var D=["name","desc","file","thmb"],n=this.TC?this.TC:this.Tt[this.Kr];for(var k=0;k<4;k++){var _=n[D[k]];
if(_!=""&&k==2)_="https://photopea.com#i"+_;this.wc[k].f(_)}this.wc[4].f(this.wF.indexOf(n.catg))};hh.prototype.ah6=function(D){if(this.wc.indexOf(D.target)==6){var n=this.wc[3].B().trim(),_=n.startsWith("http")&&(n.endsWith(".jpeg")||n.endsWith(".jpg")||n.endsWith(".png"));
if(!_){alert("Thumbnail URL is incorrect.");return}var b=new XMLHttpRequest,w=(n);
b.open("GET",w);b.responseType="arraybuffer";b.onload=this.acZ.bind(this);b.send()}else this.Vj()};hh.prototype.acZ=function(D){var n=D.target.response,_=n.byteLength;
if(_>2e5){alert("Thumbnail is too large ("+bM.ga(_)+"). Make it under 200 kB.");return}var b=["name","desc","file","thmb"],w=this.TC?this.TC:this.Tt[this.Kr];
for(var k=0;k<4;k++){var i=this.wc[k].B().trim();if(i.length==0){alert("One of values is empty.");return}if(k==2){var M=i.split("#i");
if(M.length!=2||M[1].length!=8){alert("File ID is incorrect.");return}i=M.pop()}w[b[k]]=i}w.catg=this.wF[this.wc[4].B()];
if(w.utme.length==0)w.utme=""+Math.round(Date.now()/1e3);if(this.TC)this.Tt.push(this.TC);this.j8();
this.Vj()};hh.prototype.Vj=function(){this.TC=null;this.body.removeChild(this.Nh);this.body.appendChild(this.Xl);
this.uN()};hh.prototype.j8=function(){var D=bJ.sk();if(this.Tt.length==0)delete D.tpl;else D.tpl={list:JSON.parse(JSON.stringify(this.Tt))};
bJ.vX(D,function(){alert("Saved.")})};hh.y8={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function f6(){gL.call(this,"Make Selection","makesel");this.Wc=null;var D=t.L("div","form");this.body.appendChild(D);
this.oC=new dE([12,25,1]);this.oC.f(!0);D.appendChild(this.oC.m);t.f7(D);this.z0=new eD(!0);D.appendChild(this.z0.m);
this.r7=t.Mi(this,this.body)}f6.prototype=new gL;f6.prototype._=function(){gL.prototype._.call(this);
this.z0._();this.oC._();this.r7._()};f6.prototype.au=function(D){var n=new ho(S.E.M,!0);n.g=G.xm;n.data={d:"frompath",Pr:[null,0,this.z0.B(),!this.oC.B()]};
this.close();this.c(n)};function fM(){gL.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.tn=null;this.UC=null;
this.kH=null;var D=this.a6j=t.L("div","form");D.setAttribute("style","width:20em");this.body.appendChild(D);
this.f3=new aN([12,50],["PSD","PSB"]);this.f3.h(S.E.o,this.cj,this);D.appendChild(this.f3.m);t.bu(D);
var n=new iL("Minify the file");D.appendChild(n.m);t.f7(D);var _=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.WS=[];for(var k=0;k<_.length;k++){var b=new dE(_[k]);this.WS.push(b);D.appendChild(b.m);b.h(S.E.o,this.cj,this)}t.bu(D);
this.qS=new iL("aa.psd");this.mL=new iL("10 kB");D.appendChild(this.mL.m);this.aa3=new iL("1000 B");
D.appendChild(this.aa3.m);this.r7=new bX([1,2],!0,null,!0);this.r7.h("click",this.au,this);D.appendChild(this.r7.m);
this.BW=new bX(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.BW.h("click",this.au,this);D.appendChild(this.BW.m);
this.h("closebtn",this.fX,this)}fM.prototype=new gL;fM.prototype.wQ=function(D,n,_,b){var w=t.Pn(this.BW.m),i=D.DA!=null&&D.DA.qs=="psd";
if(i&&!w)this.a6j.appendChild(this.BW.m);if(!i&&w)this.a6j.removeChild(this.BW.m);for(var k=0;k<this.WS.length;
k++)this.WS[k].f(!1);this.tn=D;this.cj()};fM.prototype.au=function(D){if(D.target==this.r7)bh.save(this.UC,this.kH);
else{if(this.WS[3].B()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fi.aaX(this.tn,this.UC)}};
fM.prototype.fX=function(){this.tn=null;this.UC=null};fM.prototype.cj=function(){var D=this.tn,n=[!1,!1,!1,!1];
for(var k=0;k<3;k++)n[k]=this.WS[k].B();var _=this.WS[3].B(),b=n[3]=this.f3.B()==1,w=D.name.slice(0,D.name.length-3),i=this.UC=eF.rW("PSD").VX(D,0,0,n),cQ=this.kH=w+"ps"+(b?"b":"d");
if(_){var M={};M[cQ]=new Uint8Array(i);i=this.UC=UZIP.encode(M);cQ=this.kH=w+"zip"}this.qS.f(cQ);this.mL.f(bM.ga(i.byteLength));
this.mL.m.style["font-size"]="2em";this.aa3.f(" \u2001 "+i.byteLength+" B");this.r7.v$(io.get([1,2])+" \""+cQ+"\"")};
fM.prototype._=function(){gL.prototype._.call(this);this.r7._();this.BW._()};function cE(){gL.call(this,"Confirm","confirm");
this.T1=null;var D=t.L("div","form");this.body.appendChild(D);this.Th=t.L("div");this.Th.textContent="Hello";
D.appendChild(this.Th);this.r7=t.Mi(this,D);D.appendChild(this.r7.m)}cE.prototype=new gL;cE.prototype.au=function(D){this.T1();
this.close()};cE.prototype.wQ=function(D,n){this.Th.textContent=n.k;this.T1=n.T1};cE.prototype.dg=function(D,n){return new gZ(Math.max(0,(D-500)/2),Math.max(0,Math.min(60,(n-100)/2)))};
cE.prototype.R9=function(D,n){this.Th.style.width=D-30+"px"};function jF(D,n,_,b){cA.call(this);this.name=D;
this.aa2=_;this.DR=b;this.g1=t.L("div","");this.g1.setAttribute("draggable","true");this.Q3=t.L("div","pbody");
this.Xz=new bX("",!1,"");this.Xz.parent=this;this.amR=t.L("span","cross");this.WY=t.L("span","label");
var w=this.a03.bind(this);this.g1.addEventListener("mousedown",this.a0O.bind(this),!1);this.g1.addEventListener("contextmenu",w,!1);
this.Xz.m.addEventListener("contextmenu",w,!1);this.amR.addEventListener("mousedown",this.Rv.bind(this),!1);
this.g1.appendChild(this.WY);if(n)this.g1.appendChild(this.amR);this.zL=!1;this.oo=new gN([{name:[1,12,0]}]);
this.oo.h("select",this.Rv,this);this.WY.textContent=D}jF.prototype=new cA;jF.prototype.as=function(){return null};
jF.prototype._=function(){var D=io.get(this.name),n=this.Wj==0?22:Math.round(2+this.Wj/50),_=D.length>n;
this.WY.textContent=_?D.slice(0,n-2):D;if(_)for(var b=0;b<2;b++){var w=t.L("span");w.textContent=D.charAt(n-2+b);
w.setAttribute("style","opacity:"+(.6-b*.4));this.WY.appendChild(w)}var i=D.split(" "),M=i.length==2?i[0].substring(0,2)+i[1][0]:D.substring(0,3);
if(M.charCodeAt(0)>=11776)M=M.substring(0,1);var N=this.aa2;if(N==null)this.Xz.v$(M,D);else{var a;if(N.startsWith("---"))a="<img src=\""+PIMG[N.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(N.indexOf("\"")==-1)a="<img src=\""+N+"\" alt=\""+D+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Xz.v$(a,D)}};jF.prototype.enable=function(){this.Q3.setAttribute("class","pbody")};jF.prototype.disable=function(){this.Q3.setAttribute("class","pbody disabled")};
jF.prototype.gB=function(D,n){};jF.prototype.wQ=function(D,n,_){};jF.prototype.k6=function(D){};jF.prototype.R9=function(D,n){};
jF.prototype.hX=function(D){this.name=D;this._()};jF.prototype.Rr=function(){};jF.prototype.a0O=function(D){if(D.button==0)this.c(new ho("select",!1))};
jF.prototype.a03=function(D){t.I0(D);if(this.DR!=null&&isNaN(this.DR))return;var n=t.Wt(D,document.body),_=this.oo;
_.update(null);_._();_.parent=this;var b=new ho(S.E.W,!0);b.data={d:S.J.Td,Vl:_,x:n.x+1,y:n.y+1};this.c(b)};
jF.prototype.u5=function(){this.Rv({})};jF.prototype.Rv=function(D){if(D.stopPropagation)D.stopPropagation();
if(this.DR!=null&&!isNaN(this.DR)){var n=new ho(S.E.W,!0);n.data={d:S.J.BD,Vl:this.oo};this.c(n);n.data={d:S.J.VS,hy:da.cM,k:parseFloat(this.DR),kr:"del"};
this.c(n)}else if(this.ag0())this.c(new ho(S.E.Mt,!1))};jF.prototype.ag0=function(D){return!0};jF.prototype.EE=function(D,n,_,b,w){};
jF.prototype.cp=function(D,n,_,b,w){};jF.prototype.m_=function(D,n,_,b,w){};jF.Kw=function(D,n){if(D.childElementCount!=0)return;
var _=D.textContent;this.Ai=this.ag3.bind(this);this.anu=this.a5l.bind(this);this.tv=n;this.oN=D;this.agB=_;
var b=t.L("input","");b.setAttribute("type","text");b.setAttribute("size","10");b.setAttribute("value",_);
t.hz(D);D.appendChild(b);b.select();b.focus();t.pw(D);D.addEventListener("keyup",this.Ai,!1);document.body.addEventListener("mousedown",this.anu,!1)};
jF.Kw.prototype.ag3=function(D){var n=dz.s9,_=n(D.code,dz.Eb);if(n(D.code,dz.Gt)||_)this.aoF(_)};jF.Kw.prototype.a5l=function(D){var n=D.target;
if(n.tagName&&n.tagName.toLowerCase()=="input")return;this.aoF(!0)};jF.Kw.prototype.aoF=function(D){var n=this.oN,_=n.firstChild.value;
n.removeEventListener("keyup",this.Ai);document.body.removeEventListener("mousedown",this.anu);if(D&&_!=""){this.tv(_)}else{t.hz(n);
n.textContent=this.agB}};jF.pk={rX:"0",afR:"1",vp:"2",ask:"3",agd:"4",re:"5",CSS:"6",hP:"7",aeg:"8",an$:"9",am_:"10",a0Q:"11",arl:"12",dJ:"13",Nu:"14",afM:"15",a8k:"16",ua:"17",ahv:"18",a15:"19",au0:"20",bL:"21",al3:"22"};
function af(){jF.call(this,[9,9],!1,"---panels/actions",jF.pk.a0Q);this.Wc=null;this.v6=[0,0];this.DH=t.L("div","padded scrollable");
this.DH.setAttribute("style","width:260px;  height:260px");this.Q3.appendChild(this.DH);this.h(S.E.o,this.C0,this);
this.YY=t.L("div","lpfoot");this.Q3.appendChild(this.YY);this.Dg=[];var D="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",n="</svg>",_=D+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+n,b=D+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+n;
this.api=D+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+n;this.ara=D+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+n;
var w=[this.api,b,"lrs/folder","lrs/newlayer","lrs/bin",_],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var k=0;k<w.length;k++){var M=w[k];if(1<k&&k!=w.length-1)M="<img src=\""+PIMG[w[k]]+"\" class=\"gsicon\" />";
var N=new bX(M,!1,i[k]);N.h("click",this.aaR,this);this.YY.appendChild(N.m);this.Dg.push(N)}}af.prototype=new jF("");
af.prototype._=function(){jF.prototype._.call(this);for(var k=0;k<this.Dg.length;k++)this.Dg[k]._()};
af.prototype.aaR=function(D){var k=this.Dg.indexOf(D.currentTarget),n=this.v6,_=this.Wc,b=_.R7;if(k==0){var w,i=_.J8;
if(b.length==0){alert("Create an Action Set first.");return}if(n.length<2){alert("Select a target action first.");
return}if(i==null){w=this.ara;i=this.v6}else{w=this.api;i=null}this.Dg[0].v$(w);_.J8=i}else if(k==1)this.ab6();
else if(k==2||k==3){var M={Ln:"Action Set "+b.length,pj:[],exp:!0};if(k==2||b.length==0){n=[b.length];
b.push(M)}if(k==3){var N=b[n[0]].pj;n=[n[0],N.length];N.push({Ln:"Action "+N.length,color:0,pj:[],a7w:!1,shift:!1,exp:!0,gH:N.length})}this.v6=n;
this.vm()}else if(k==4){var a;if(n.length==1)a=b;else if(n.length==2)a=b[n[0]].pj;else a=b[n[0]].pj[n[1]].pj;
var o=n.length-1;a.splice(n[o],1);if(a.length==0)n.pop();else while(n[o]>=a.length)n[o]--;if(n.length==0)n.push(0);
this.vm()}else if(k==5){if(b.length==0){alert("No Actions Present.");return}var U=new ho(S.E.W,!0);U.data={d:S.J.Nr,akB:da.M,HE:n[0]};
this.c(U)}};af.prototype.C0=function(D){var n=this.Wc.R7,_=D.data.d,b=D.data.T9;if(_=="sel")this.v6=b;
if(_=="fold"){if(b.length==1)n[b[0]].exp=!n[b[0]].exp;else n[b[0]].pj[b[1]].exp=!n[b[0]].pj[b[1]].exp}if(_=="enab"){var w=n[b[0]].pj[b[1]].pj[b[2]];
w.R=!w.R}if(_=="nchange"){if(b.length==1)n[b[0]].Ln=D.data.ap;else n[b[0]].pj[b[1]].Ln=D.data.ap}this.vm()};
af.prototype.gB=function(D,n){this.Wc=D;if(n==da.M||n==da.XS)this.vm()};af.prototype.vm=function(){if(this.Wc==null)return;
t.hz(this.DH);var D=this.Wc.R7;if(D.length==0)return;var n=JSON.stringify(this.v6);for(var k=0;k<D.length;
k++){var _=D[k],b=new af.Fu([k],n,_.exp,_.Ln.split("=").pop());b.parent=this;this.DH.appendChild(b.m);
if(!_.exp)continue;for(var w=0;w<_.pj.length;w++){var i=_.pj[w],b=new af.Fu([k,w],n,i.exp,i.Ln.split("=").pop());
b.parent=this;this.DH.appendChild(b.m);if(!i.exp)continue;for(var M=0;M<i.pj.length;M++){var N=i.pj[M],b=new af.Fu([k,w,M],n,null,io.get(cT.a4Y(N)),N.R);
b.parent=this;this.DH.appendChild(b.m)}}}};af.prototype.ab6=function(){var D=this.Wc.R7,n=this.v6;if(D.length==0){alert("No Actions Present");
return}if(n.length==1){alert("Select an Action first");return}if(this.Wc.J8!=null){alert("You can not apply actions while recording actions");
return}if(n.length==1)n.push(0);var _=D[n[0]],b=_.pj[n[1]],w=new ho(S.E.W,!0);w.data={d:S.J.zp,Pr:[b.Ln,_.Ln]};
this.c(w)};af.Fu=function(D,n,_,b,w){cA.call(this);this.T9=D;var i=this.T9.length-1;this.m=t.L("div","layeritem"+(JSON.stringify(D)==n?" selected":""));
this.iT=t.L("div","head");this.m.appendChild(this.iT);this.iT.setAttribute("style","height:24px");this.fP=t.L("div","headL");
this.iT.appendChild(this.fP);if(i!=0){var M=t.L("div");M.style.width=i*20+"px";this.fP.appendChild(M)}if(_!=null){var N=this.ah1=t.L("div",_?"open":"closed");
this.fP.appendChild(N)}else{var a=this.and=t.L("div","cmark");a.setAttribute("style","background-size:12px 12px; opacity:"+(w?1:.3));
this.fP.appendChild(a)}if(i==0){var o=t.L("div","folder");this.fP.appendChild(o)}var U=this.WY=t.L("div","label");
U.textContent=b;this.fP.appendChild(U);this.m.addEventListener("mouseup",this.e1.bind(this),!1)};af.Fu.prototype=new cA;
af.Fu.prototype.e1=function(D){if(D.detail==1&&D.target.tagName.toLowerCase()!="input"){var n="sel";
if(D.target==this.ah1)n="fold";if(D.target==this.and)n="enab";var _=new ho(S.E.o,!0);_.data={d:n,T9:this.T9};
this.c(_)}else if(this.T9.length<3)var b=new jF.Kw(this.WY,this.tv.bind(this))};af.Fu.prototype.tv=function(D){var n=new ho(S.E.o,!0);
n.data={d:"nchange",ap:D,T9:this.T9};this.c(n)};function al(){jF.call(this,[3],!1,"---lrs/adj",jF.pk.ahv);
this.Q3.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.Dg=[];var k=0;
for(var D in fg.names){var n=new bX("<img src=\""+PIMG["adj/"+D]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,fg.names[D]);
n.h("click",this.a7y,this);this.Dg.push(n);this.Q3.appendChild(n.m);if(k==4||k==10)t.f7(this.Q3);k++}}al.prototype=new jF("");
al.prototype._=function(){jF.prototype._.call(this);for(var k=0;k<this.Dg.length;k++)this.Dg[k]._()};
al.prototype.a7y=function(D){var n=this.Dg.indexOf(D.target),_=bI.En()[n],b=new ho(_.T,!0);b.data=_.P;
this.c(b)};function iQ(){jF.call(this,[12,22],!1,null,jF.pk.bL);this.DH=t.L("div","padded");this.Q3.appendChild(this.DH);
this.mv=new bC(null,17.7,10);this.mv.parent=this;this.mv.h(S.E.o,this.Wk,this);this.DH.appendChild(this.mv.I2)}iQ.prototype=new jF("");
iQ.prototype.Wk=function(D){var n=this.mv.B(),_=new ho(S.E.M,!0);_.data={d:"setstl",k:n.Ui};_.g=G.EB;
this.c(_);_.data={d:"confirm"};this.c(_)};iQ.prototype.gB=function(D,n){if(n==da.bL||n==da.XS){this.mv.Gx([D.Qj,D.wI])}};
var d2=function(){function D(){jF.call(this,[9,3],!1,"---panels/brush",jF.pk.hP);this.xH=null;this.Gu=null;
this.Wc=null}D.prototype=new jF("");D.prototype.Cf=function(){var M=t.L("div","");this.Q3.appendChild(M);
this.eB=t.L("div","bordered cell");this.eB.setAttribute("style","width:10em; height:28.5em;");M.appendChild(this.eB);
this.Dc=[];this.gR=null;this.SC=[];var N=this.ajT.bind(this);this.Le=[new _,new b,new w,new i];for(var k=0;
k<this.Le.length;k++){var a=t.L("div","listitem"),o=this.Le[k].z7,U=null;if(k==0){this.gR=new iL(o);
a.appendChild(this.gR.m)}else{U=new dE(o,!1);U.h(S.E.o,this.auS,this);a.appendChild(U.m)}this.SC.push(U);
this.eB.appendChild(a);this.Dc.push(a);a.addEventListener("click",N,!1)}this.rm=t.L("div","cell padded");
M.appendChild(this.rm);for(var k=0;k<this.Le.length;k++)this.Le[k].h("brushchange",this.asc,this);this.setItem(0);
this.O=t.L("canvas");this.O.height=10;M.appendChild(this.O);this.aB=this.O.getContext("2d");this.$$()};
D.prototype.R9=function(M,N){if(this.Wj==M)return;this.Wj=M;this.Rw=N;this.$$()};D.prototype.Rr=function(){if(!t.Pn(this.Q3))return;
if(this.eB){this.$$();return}this.Cf();this._();this.gB(this.Wc,da.XS)};D.prototype._=function(){jF.prototype._.call(this);
if(this.eB==null)return;this.gR._();for(var k=1;k<this.SC.length;k++)this.SC[k]._();for(var k=0;k<this.Le.length;
k++)this.Le[k]._()};D.prototype.asc=function(M){var N=this.Le.indexOf(M.currentTarget),a=JSON.parse(JSON.stringify(this.Le[N].Gu)),o=new ho(S.E.W,!0);
o.data={d:S.J.VS,hy:da.nQ,Gu:a};this.c(o)};D.prototype.auS=function(M){this.a3L(this.SC.indexOf(M.currentTarget),M.currentTarget.ME())};
D.prototype.ajT=function(M){var k=this.Dc.indexOf(M.currentTarget);if(M.target.tagName.toLowerCase()=="input")return;
if(this.SC[k]&&!this.SC[k].ME()){this.SC[k].im();this.a3L(k,!0)}this.setItem(k)};D.prototype.a3L=function(M,N){this.Le[M].q3(N)};
D.prototype.setItem=function(M){for(var k=0;k<this.Le.length;k++)this.Dc[k].setAttribute("class","listitem");
if(this.rm.firstChild)this.rm.removeChild(this.rm.firstChild);this.Dc[M].setAttribute("class","listitem selected");
this.rm.appendChild(this.Le[M].m)};D.prototype.gB=function(M,N){this.Wc=M;if(this.eB==null)return;if(N==da.hP||N==da.XS){this.xH=M.LF;
for(var k=0;k<this.Le.length;k++)this.Le[k].Gx(this.xH)}if(N==da.nQ||N==da.XS){this.Gu=M.LF.fd;this.$$()}if(N==da.dJ)this.$$()};
D.prototype.$$=function(){if(this.Gu)this.enable();else{this.disable();return}if(!t.Pn(this.Q3))return;
var M=this.Wc;for(var k=0;k<this.Le.length;k++){this.Le[k].f(this.Gu);if(this.SC[k])this.SC[k].f(this.Le[k].ME())}var N=JSON.parse(JSON.stringify(this.Gu));
N.Brsh.v.Dmtr.v.val=Math.min(N.Brsh.v.Dmtr.v.val,50);t.vb(this.O,this.Wj,80);var a=new gl(0,0,this.O.width,this.O.height),o=new eg(N,this.xH?this.xH.Nb:null,this.xH?this.xH.bn:null,{d8:1},M.EH,M.Cp,a,null,0),U=a.e/2,V=a.l-U*2;
o.moveTo(U,U);for(var k=0;k<=V;k+=10)o.lineTo(U+k,U+20*Math.sin(2*Math.PI*k/V));o.finish();var c=this.aB.createImageData(a.l,a.e);
B.E3(o.Mn(),o.YL(),c.data,a);this.aB.putImageData(c,0,0)};function n(M){cA.call(this);this.z7=M;this.m=t.L("div","");
this.Gu=null}n.prototype=new cA;n.prototype.Gx=function(M){};n.prototype.f=function(M){this.Gu=JSON.parse(JSON.stringify(M));
this.m.setAttribute("class",this.ME()?"":"disabled");this.$$()};n.prototype.q3=function(M){};n.prototype.ME=function(){return!1};
n.prototype._=function(){};n.prototype.$$=function(){};n.prototype.vf=function(){this.c(new ho("brushchange"))};
function _(){n.call(this,[15,0]);this.xH=null;this.aaL=null;this.$Q=new cb(!0);this.m.appendChild(this.$Q.m);
this.$Q.h(S.E.o,this.aev,this);this.$Q.m.style.height="10.7em";this.kD=new gp([12,14,0],1,1e3," px",0,!0);
this.kD.h(S.E.o,this.ahu,this);this.KS=new gp([12,15],0,359," \xB0");this.KS.h(S.E.o,this.abD,this);
this.BZ=new gp([12,16],0,100," %");this.BZ.h(S.E.o,this.amL,this);this.Ex=new gp([12,17],0,100," %");
this.Ex.h(S.E.o,this.a3z,this);this.sZ=new gp([12,18],1,300," %");this.sZ.h(S.E.o,this.abM,this);this.Dc=[this.kD,this.KS,this.BZ,this.Ex,this.sZ]}_.prototype=new n;
_.prototype._=function(){this.kD._();this.KS._();this.BZ._();this.Ex._();this.sZ._()};_.prototype.ME=function(){return!0};
_.prototype.Gx=function(M){this.xH=M;var N=[],a=Math.floor(30*t.F()),o=Math.floor(40*t.F());for(var k=0;
k<M.list.length;k++){var U=M.list[k].v,V=eg.N0(U,M.Nb,M.bn,a,o);N.push(V)}this.$Q.KM(N,null,a,o)};_.prototype.$$=function(){var M=this.Gu.Brsh.v,N=M.classID!=this.aaL;
this.aaL=M.classID;if(N)for(var k=0;k<this.Dc.length;k++)if(this.m.contains(this.Dc[k].m))this.m.removeChild(this.Dc[k].m);
this.kD.f(M.Dmtr.v.val);if(N)this.m.appendChild(this.kD.m);this.KS.f(M.Angl.v.val);if(N)this.m.appendChild(this.KS.m);
if(M.classID=="computedBrush"||M.classID=="sampledBrush"){this.BZ.f(M.Rndn.v.val);if(N)this.m.appendChild(this.BZ.m)}if(M.classID=="computedBrush"){this.Ex.f(M.Hrdn.v.val);
if(N)this.m.appendChild(this.Ex.m)}this.sZ.f(M.Spcn.v.val);if(N)this.m.appendChild(this.sZ.m)};_.prototype.aev=function(M){this.Gu=this.xH.list[this.$Q.B()[0]].v;
this.vf()};_.prototype.ahu=function(M){this.Gu.Brsh.v.Dmtr.v.val=M.target.B();this.vf()};_.prototype.abD=function(M){this.Gu.Brsh.v.Angl.v.val=M.target.B();
this.vf()};_.prototype.amL=function(M){this.Gu.Brsh.v.Rndn.v.val=M.target.B();this.vf()};_.prototype.a3z=function(M){this.Gu.Brsh.v.Hrdn.v.val=M.target.B();
this.vf()};_.prototype.abM=function(M){this.Gu.Brsh.v.Spcn.v.val=M.target.B();this.vf()};function b(){n.call(this,[15,1]);
this.T5=new gp([15,4,0],0,100,"%");this.T5.h(S.E.o,this.a7B,this);this.m.appendChild(this.T5.m);this.X1=new gp([15,4,1],0,100,"%");
this.X1.h(S.E.o,this.aaQ,this);this.m.appendChild(this.X1.m);this.xv=new gp([15,4,2],0,100,"%");this.xv.h(S.E.o,this.aj4,this);
this.m.appendChild(this.xv.m);this.b7=new iw("Control",["Off","Direction"]);this.b7.h(S.E.o,this.aen,this);
this.m.appendChild(this.b7.m);this.Se=new gp([15,4,3],0,100,"%");this.Se.h(S.E.o,this.a7s,this);this.m.appendChild(this.Se.m);
this.B7=new gp([15,4,4],1,100,"%");this.B7.h(S.E.o,this.ajU,this);this.m.appendChild(this.B7.m)}b.prototype=new n;
b.prototype._=function(){this.T5._();this.X1._();this.xv._();this.Se._();this.B7._()};b.prototype.ME=function(){return this.Gu.useTipDynamics.v};
b.prototype.q3=function(M){this.Gu.useTipDynamics.v=M;iu.FU.FC(this.Gu);this.vf()};b.prototype.$$=function(){var M=this.Gu;
if(M.useTipDynamics.v==!1)return;this.T5.f(M.szVr.v.jitter.v.val);this.X1.f(M.minimumDiameter.v.val);
this.xv.f(M.angleDynamics.v.jitter.v.val);this.b7.f(M.angleDynamics.v.bVTy.v==0?0:1);this.Se.f(M.roundnessDynamics.v.jitter.v.val);
this.B7.f(M.minimumRoundness.v.val)};b.prototype.a7B=function(M){this.Gu.szVr.v.jitter.v.val=M.target.B();
this.vf()};b.prototype.aaQ=function(M){this.Gu.minimumDiameter.v.val=M.target.B();this.vf()};b.prototype.aj4=function(M){this.Gu.angleDynamics.v.jitter.v.val=M.target.B();
this.vf()};b.prototype.aen=function(M){this.Gu.angleDynamics.v.bVTy.v=M.target.B()==0?0:6;this.vf()};
b.prototype.a7s=function(M){this.Gu.roundnessDynamics.v.jitter.v.val=M.target.B();this.vf()};b.prototype.ajU=function(M){this.Gu.minimumRoundness.v.val=M.target.B();
this.vf()};function w(){n.call(this,[15,2]);this.XK=new gp([15,5,0],0,1e3," %");this.XK.h(S.E.o,this.am2,this);
this.m.appendChild(this.XK.m);this.Xy=new gp([15,5,1],1,20);this.Xy.h(S.E.o,this.al$,this);this.m.appendChild(this.Xy.m);
this.JL=new gp([15,5,2],0,100," %");this.JL.h(S.E.o,this.amo,this);this.m.appendChild(this.JL.m)}w.prototype=new n;
w.prototype._=function(){this.XK._();this.Xy._();this.JL._()};w.prototype.ME=function(){return this.Gu.useScatter.v};
w.prototype.q3=function(M){this.Gu.useScatter.v=M;iu.FU.FC(this.Gu);this.vf()};w.prototype.$$=function(){var M=this.Gu;
if(M.useScatter.v==!1)return;this.XK.f(M.scatterDynamics.v.jitter.v.val);this.Xy.f(M.Cnt.v);this.JL.f(M.countDynamics.v.jitter.v.val)};
w.prototype.am2=function(M){this.Gu.scatterDynamics.v.jitter.v.val=M.target.B();this.vf()};w.prototype.al$=function(M){this.Gu.Cnt.v=M.target.B();
this.vf()};w.prototype.amo=function(M){this.Gu.countDynamics.v.jitter.v.val=M.target.B();this.vf()};
function i(){n.call(this,[15,3]);this.QK=new gp([15,6,0],0,100," %");this.QK.h(S.E.o,this.a5o,this);
this.m.appendChild(this.QK.m);this.Bc=new gp([15,6,1],0,100," %");this.Bc.h(S.E.o,this.ai$,this);this.m.appendChild(this.Bc.m);
this.Om=new gp([15,6,2],0,100," %");this.Om.h(S.E.o,this.a9k,this);this.m.appendChild(this.Om.m);this.Hb=new gp([15,6,3],0,100," %");
this.Hb.h(S.E.o,this.aeN,this);this.m.appendChild(this.Hb.m)}i.prototype=new n;i.prototype._=function(){this.QK._();
this.Bc._();this.Om._();this.Hb._()};i.prototype.ME=function(){return this.Gu.useColorDynamics.v};i.prototype.q3=function(M){this.Gu.useColorDynamics.v=M;
iu.FU.FC(this.Gu);this.vf()};i.prototype.$$=function(){var M=this.Gu;if(M.useColorDynamics.v==!1)return;
this.QK.f(M.clVr.v.jitter.v.val);this.Bc.f(M.H.v.val);this.Om.f(M.Strt.v.val);this.Hb.f(M.Brgh.v.val)};
i.prototype.a5o=function(M){this.Gu.clVr.v.jitter.v.val=M.target.B();this.vf()};i.prototype.ai$=function(M){this.Gu.H.v.val=M.target.B();
this.vf()};i.prototype.a9k=function(M){this.Gu.Strt.v.val=M.target.B();this.vf()};i.prototype.aeN=function(M){this.Gu.Brgh.v.val=M.target.B();
this.vf()};return D}();function ah(){jF.call(this,[9,0],!1,null,jF.pk.rX);this.Q3.setAttribute("style","min-width:200px;");
this.YD=t.L("div","hpbody scrollable");this.YD.style.height="160px";this.Q3.appendChild(this.YD);this.adi=-1;
this.H6=[];this.wn=""}ah.prototype=new jF("");ah.prototype.wQ=function(D){if(D==null){t.hz(this.YD);
this.wn="";return}t.hz(this.YD);var n=0;for(var k=0;k<D.history.length;k++)if(k<=D.tK&&!D.history[k].zx)n=k;
for(var k=0;k<D.history.length;k++){var _=D.history[k];if(_.zx)continue;var b=new fe(_,k,n);b.parent=this;
this.YD.appendChild(b.m);this.H6.push(b)}if(D.tK==D.history.length-1)this.Rr()};ah.prototype.Rr=function(){this.YD.scrollTop=this.YD.scrollHeight};
ah.prototype._=function(){jF.prototype._.call(this);for(var k=0;k<this.H6.length;k++)this.H6[k]._()};
function fe(D,k,n){cA.call(this);this.index=k;this.m=t.L("div",k==n?"listitem selected":"listitem");
this.PT=D.name;this._();if(k>n)this.m.style.opacity=.4;this.m.addEventListener("click",this.EE.bind(this),!1)}fe.prototype=new cA;
fe.prototype._=function(){this.m.textContent=io.get(this.PT)};fe.prototype.EE=function(D){if(this.index==this.parent.adi)return;
this.Y6({d:"h_itemchange",index:this.index})};fe.prototype.Y6=function(D){var n=new ho(S.E.M,!0);n.data=D;
n.g=G.rX;this.c(n)};function js(){jF.call(this,[9,10],!1,"---panels/histogram",jF.pk.agd);var D=t.L("div","padded");
this.Q3.appendChild(D);this.zZ=new bY(256,!0);D.appendChild(this.zZ.m);this.tn=null}js.prototype=new jF("");
js.prototype.wQ=function(D){this.tn=D;this.vm()};js.prototype.vm=function(){var D=this.tn;if(!t.Pn(this.Q3))return;
if(D==null||D.w.length==0){this.zZ.f(B.ZB(B.U(4)));return}var n=D.iS(),_=new gl(0,0,D.l,D.e),b=_.u();
if(D.q){var w=D.q.rect,i=B.U(w.u()*4);B.E3(n,_,i,w);B.Aq(D.q.channel,i);n=i;_=w;var M=D.q.channel;b=0;
for(var k=0;k<M.length;k++)b+=M[k];b=Math.round(b/255)}var N=B.ZB(n);N[0][255]+=3*(b-N[5]);for(var k=1;
k<4;k++)N[k][255]+=b-N[5];this.zZ.f(N,b)};js.prototype.gB=function(D,n){this.zZ.p2(bb.d6[D.$r]["--text-color"])};
js.prototype._=function(){jF.prototype._.call(this);this.zZ._()};js.prototype.Rr=function(){this.vm()};
function dB(){jF.call(this,[9,8],!1,null,jF.pk.afR);this.DH=t.L("div","padded");this.Q3.appendChild(this.DH);
this.xe=new eB(10);this.DH.appendChild(this.xe.m);this.DH.appendChild(t.L("hr"));this.XW=new es;this.XW.parent=this;
this.DH.appendChild(this.XW.I2);this.xe.h(S.E.o,this.amH,this);this.XW.h(S.E.o,this.amH,this)}dB.prototype=new jF("");
dB.prototype.amH=function(D){var n;if(D.target==this.xe)n=this.xe.B();else{var _=this.XW.B();n=Math.round(_.p)<<16|Math.round(_.z)<<8|Math.round(_.S)}var b=new ho(S.E.W,!0);
b.data={d:S.J.VS,hy:da.dJ,_c:0,k:n};this.c(b)};dB.prototype.gB=function(D,n){var _=D.EH,b=n==da.XS;if(n==da.dJ||b){this.xe.f(_);
this.XW.f({p:_>>>16&255,z:_>>>8&255,S:_>>>0&255,JP:"Color #"+B.xQ(_)})}if(n==da.c4||b){var w=D.a4T;this.XW.Gx(w)}};
function fd(){jF.call(this,[12,72],!1,"---adj/mixr",jF.pk.a8k);this.ke=null;this.mR=null;this.YD=t.L("div","lpbody scrollable");
this.YY=t.L("div","lpfoot");this.Q3.appendChild(this.YD);this.Q3.appendChild(this.YY);this.sT=[];this.h("click",this.fc,this);
this.Ci=[];fd.NH([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Ci,this.YY,this.XP.bind(this),this.Ho.bind(this));
this.pF=new gN([{name:"Merge Channels",vj:!0}]);this.pF.h("select",this._g,this)}fd.prototype=new jF("");
fd.prototype._g=function(D){if(this.mR==null)return;var n=new ho(S.E.W,!0);n.data={d:S.J.a_,Lt:"mergechannels"};
this.c(n)};fd.prototype.as=function(){return this.pF};fd.NH=function(D,n,_,b,w){for(var k=0;k<D.length;
k++){var i=new bX("W",!1,D[k]);n.push(i);t.cc(i.m,b);_.appendChild(i.m);var M=i.m;M.addEventListener("drop",w,!1);
M.addEventListener("dragover",function(N){N.preventDefault()},!1);M.addEventListener("dragenter",t.I0,!1)}};
fd.Fz=function(D,n){for(var k=0;k<D.length;k++)if(D[k].m==n.currentTarget)return k};fd.prototype.XP=function(D){var n=fd.Fz(this.Ci,D);
if(n==0)this.c(ee.aq(!0,null,D));else{n--;var _=new ho(S.E.$W,!0),b={classID:"null"};if(n==0)b.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(n==1)b.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else b.null=cT.S0("Chnl",!0);_.data={_L:["duplicate","make","delete"][n],cR:b};this.c(_)}};fd.prototype.Ho=function(D){var n=fd.Fz(this.Ci,D);
if(n==2){var _=new ho(S.E.$W,!0),b={classID:"null"};b.null=cT.S0("Chnl",!0);_.data={_L:"duplicate",cR:b};
this.c(_)}else this.XP(D)};fd.prototype.xa=function(k){var D=this.sT,n=D[k];if(n==null){var _=t.L("canvas");
n=_.getContext("2d");D.push(n)}return n};fd.prototype.fc=function(D){var n=this.ke.slice(0),_=D.data.gH,b=n[0]+n[1]+n[2],w=this.mR;
if(-5<_&&_<0){var i=-_-1;if(D.data.hK){if(i==0)n=b==3?[0,0,0]:[1,1,1];else{if(n[i-1]==0)n[i-1]=1;else if(!0)n[i-1]=0}}else{if(i==0)n=[1,1,1];
else{n=[0,0,0];n[i-1]=1}w.xo=[]}var M=new ho(S.E.M,!0);M.g=G.GN;M.data={d:"setcls",qJ:n};this.c(M);return}if(-1<_){var N=w.b[_],a=N.P8==1?N.us():N.tr(w).v;
if(D.data.hK)a.Lr=!a.Lr;else{for(var k=0;k<w.wK.length;k++)w.wK[k].Lr=!1;w.xo=[]}}else{var o=-_-5,a=w.wK[o];
if(D.data.hK)a.Lr=!a.Lr;else{for(var k=0;k<w.wK.length;k++)w.wK[k].Lr=!1;a.Lr=!0;w.xo=[o]}}w.cF=w.lP=!0};
fd.prototype.Rr=function(){this.cj()};fd.prototype.wQ=function(D){this.mR=D;this.cj()};fd.prototype.cj=function(){var D=this.mR,n=this.YD,N=34,a=34,E=4;
t.hz(n);if(D==null||!t.Pn(n))return;var _=D.l,b=D.e,w=new gl(0,0,_,b),i=this.ke=D.s.qJ.slice(0),M=i[0]+i[1]+i[2];
if(_>b)a=Math.round(a*b/_);else N=Math.round(N*_/b);var o=["RGB"].concat(fg.Ay);for(var k=0;k<4;k++){var U=this.xa(k);
B.vU.CT(U,N,a,w,D.iS(),w,!1,k==0?null:k-1);var V=k==0?M==3:i[k-1]==1,c=new ee(-1-k,!0,!0,U,o[k],V,V);
c.parent=this;n.appendChild(c.m)}for(var k=0;k<D.w.length;k++){var A=D.b[D.w[k]],Q=A.P8;if(Q!=1&&Q!=3)continue;
var J=Q==1?A.us():A.tr(D).v,U=this.xa(E+k);E++;B.vU.lL(U,N,a,w,J);var c=new ee(D.w[k],!0,!0,U,A.getName()+(Q==1?"":" Filter")+" Mask",!0,J.Lr);
c.parent=this;n.appendChild(c.m)}for(var k=0;k<D.wK.length;k++){var J=D.wK[k],U=this.xa(E+k);B.vU.lL(U,N,a,w,J);
var c=new ee(-5-k,!0,J.name=="Quick Mask",U,J.name,D.xo.indexOf(k)!=-1,J.Lr,G.vp,{d:q.SU,_c:"rnm",gH:k});
c.parent=this;n.appendChild(c.m)}};fd.prototype.R9=function(D,n){this.YD.style.height=n-9-26+"px";this.YD.style.width=D+"px"};
fd.prototype._=function(){jF.prototype._.call(this);this.cj();fd.Rj(this.Ci,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
fd.Rj=function(D,n){var n=aN.qr(n);for(var k=0;k<D.length;k++)D[k].v$(n[k])};function ee(D,n,_,b,w,i,M,N,a){cA.call(this);
this.m=t.L("div","layeritem");this.aag=D;this.ahT=n;this.aB=b;this.alz=N;this.a7G=a;this.iT=t.L("div",i?"head selected":"head");
this.iT.setAttribute("style","height: "+40+"px");var o=t.L("div","headL"),U=t.L("div","headR"),V=15;
this.m.appendChild(this.iT);this.iT.appendChild(o);this.iT.appendChild(U);this.t2=t.L("div","eye");if(1<t.F()&&t.F()<1.5)V=V/t.F();
this.t2.setAttribute("style","background-size: "+V+"px "+V+"px;");this.t2.style.opacity=M?1:.2;if(n)o.appendChild(this.t2);
this.K8=t.L("div","thumb");if(b)this.K8.appendChild(b.canvas);o.appendChild(this.K8);this.UR=t.L("div","label");
if(_)this.UR.style.fontStyle="italic";this.UR.textContent=io.get(w);o.appendChild(this.UR);var c=this.iT;
c.setAttribute("draggable","true");c.addEventListener("dragstart",function(E){E.dataTransfer.setData("Text","")},!1);
t.cc(this.iT,this.a8J.bind(this));if(!_)this.iT.addEventListener("mouseup",this.a0t.bind(this),!1)}ee.prototype=new cA;
ee.prototype.tv=function(D){var n=new ho(S.E.M,!0);n.g=this.alz;n.data=this.a7G;n.data.name=D;this.c(n)};
ee.prototype.a8J=function(D){var n=D.ctrlKey||D.metaKey,_=this.aag;if(n&&D.target==this.aB.canvas){this.c(ee.aq(this.ahT,_,D))}else{var b=new ho("click",!0);
b.data={gH:_,hK:D.target==this.t2,Dm:n};this.c(b)}};ee.prototype.a0t=function(D){if(D.detail==2&&D.target==this.UR){var n=new jF.Kw(this.UR,this.tv.bind(this))}};
ee.aq=function(D,n,_){var b=0;if(_.shiftKey)b++;if(_.altKey)b+=2;var w=new ho(S.E.M,!0);w.g=G.xm;if(D){if(-5<n&&n<0){w=new ho(S.E.$W,!0);
w.data=G.fq.MG(b,["RGB","Rd","Grn","Bl"][-1-n])}else w.data={d:"fromchannel",Pr:[n,0,b]}}else w.data={d:"frompath",Pr:[n,0,b]};
return w};function hv(){jF.call(this,[8,9],!1,"---panels/paths",jF.pk.ua);this.ke=null;this.mR=null;
this.YD=t.L("div","lpbody scrollable");this.YY=t.L("div","lpfoot");this.Q3.appendChild(this.YD);this.Q3.appendChild(this.YY);
this.Q3.addEventListener("click",this.amw.bind(this),!1);this.sT=[];this.h("click",this.fc,this);this.Ci=[];
fd.NH(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Ci,this.YY,this.XP.bind(this),this.Ho.bind(this))}hv.prototype=new jF("");
hv.prototype.XP=function(D,n){var _=fd.Fz(this.Ci,D),b;if(_<2){b=new ho(S.E.$W,!0);b.data=G.kG.xM(_)}else if(_==2)b=ee.aq(!1,null,D);
else if(_==3){b=new ho(S.E.$W,!0);b.data={_L:"make",cR:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(_>3){var b=new ho(S.E.M,!0);
b.g=G.ND;b.data={d:"pathedit",_c:["new","del"][_-4],adU:n}}this.c(b)};hv.prototype.Ho=function(D){this.XP(D,!0)};
hv.prototype.xa=function(k){var D=this.sT,n=D[k];if(n==null){var _=t.L("canvas");n=_.getContext("2d");
D.push(n)}return n};hv.prototype.amw=function(D){if(D.target==this.YD){var n=this.mR;n.QP=[];n.F_=[];
n.lP=!0;n.cF=!0}};hv.prototype.fc=function(D){var n=D.data.gH,_=this.mR,b=D.data.Dm,w=0,i,M;if(n<0){w=-1-n;
i=_.QP;M=_.F_}else{var N=_.DZ()[0];for(var k=0;k<N.length;k++){var a=N[k].gH;if(a==n)break;if(a>=0)w++}i=_.F_;
M=_.QP}if(b){var o=i.indexOf(w);if(o==-1)i.push(w);else i.splice(o,1)}else{while(i.length!=0)i.pop();
while(M.length!=0)M.pop();i.push(w)}_.lP=!0;_.cF=!0};hv.prototype.Rr=function(){this.cj()};hv.prototype.wQ=function(D){this.mR=D;
this.cj()};hv.prototype.cj=function(){var D=this.mR,n=this.YD,N=34,a=34;t.hz(n);if(D==null||!t.Pn(n))return;
var _=D.l,b=D.e,w=new gl(0,0,_,b),i=this.ke=D.s.qJ.slice(0),M=i[0]+i[1]+i[2];if(_>b)a=Math.round(a*b/_);
else N=Math.round(N*_/b);var o=D.DZ(),U=o[0];for(var k=0;k<U.length;k++){var V=U[k],c=this.xa(k);B.vU.a4m(c,N,a,w,V.add.vmsk);
var E=new ee(V.gH,!1,V.gH>=0,c,V.name,o[1].indexOf(k)!=-1,!1,G.ND,{d:"pathedit",_c:"rnm",gH:V.gH});E.parent=this;
n.appendChild(E.m)}};hv.prototype.R9=function(D,n){this.YD.style.height=n-9-26+"px";this.YD.style.width=D+"px"};
hv.prototype._=function(){jF.prototype._.call(this);this.cj();fd.Rj(this.Ci,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function b5(D){jF.call(this,[9,D?4:5],!1,"---panels/"+(D?"character":"paragraph"),D?jF.pk.an$:jF.pk.am_);
this.Q3.setAttribute("style","min-width:240px;");this.aq2=D;this.QO=null;this.Wc=null}b5.prototype=new jF("");
b5.prototype.Cf=function(){this.QO=new hq;var D=this.QO,n=this.Q3;D.parent=this;if(this.aq2){var _=t.L("div","marged");
n.appendChild(_);_.appendChild(D.z9.m);n.appendChild(t.L("hr"));var b=t.L("div","marged");n.appendChild(b);
b.appendChild(D.IG.m);b.appendChild(D.B$.m);var w=t.L("div","marged");n.appendChild(w);w.appendChild(D._k.m);
w.appendChild(D.tc.m);n.appendChild(t.L("hr"));var i=t.L("div","marged");n.appendChild(i);i.appendChild(D.Gy.m);
i.appendChild(D.AH.m);var M=t.L("div","marged");n.appendChild(M);M.appendChild(D.EQ.m);M.appendChild(D.iu.m);
M.appendChild(D.KU.m);n.appendChild(t.L("hr"));var N=t.L("div","marged");n.appendChild(N);N.appendChild(D.bg.m);
N.appendChild(D.i9.m);N.appendChild(D.Qq.m);N.appendChild(D.iF.m);N.appendChild(D.Pp.m);N.appendChild(D.TX.m);
N.appendChild(D.ID.m);N.appendChild(D.QR.m)}else{var _=t.L("div","marged");n.appendChild(_);_.appendChild(D.J7.m);
_.appendChild(D.Qh.m);_.appendChild(D.Ql.m);_.appendChild(D.a53.m);_.appendChild(D.anI.m);_.appendChild(D.a3k.m);
_.appendChild(D.a2_.m);n.appendChild(t.L("hr"));var b=t.L("div","marged");n.appendChild(b);b.appendChild(D.Yc.m);
b.appendChild(D.Fr.m);b.appendChild(D.wT.m);n.appendChild(t.L("hr"));var w=t.L("div","marged");n.appendChild(w);
w.appendChild(D.QJ.m);w.appendChild(D.Gz.m);w.appendChild(D.z8.m);w.appendChild(D.EI.m)}};b5.prototype.Rr=function(){if(!t.Pn(this.Q3))return;
if(this.QO==null){this.Cf();var D=this.Wc;if(D)this.QO.f(D.za,D.mz,D.eh);this.QO._()}};b5.prototype._=function(){jF.prototype._.call(this);
if(this.QO)this.QO._()};b5.prototype.gB=function(D,n){this.Wc=D;if(n!=da.XS&&n!=da.WT&&n!=da.tL&&n!=da.Ha)return;
if(this.QO)this.QO.f(D.za,D.mz,D.eh)};function fo(){jF.call(this,[9,13],!1,"---panels/glyphs",jF.pk.a15);
this.QO=new hq;this.QO.parent=this;this.Wc=null;this.afr=null;this.a6G=null;this.fk=null;this.af1=null;
this.HV=Math.round(290*t.F());this.qP=45;this.adx=4;this.arO=this.vm.bind(this);this.akd=0;this.xj=new iw(null,["Hi","Hello"]);
this.xj.h(S.E.o,this.vm,this);var D=this.uf=new bX("-",null,null,!0);D.h("click",this.atb,this);var n=this.akj=new bX("+",null,null,!0);
n.h("click",this.atb,this);this.IP=new cb(!1);this.IP.h(S.E.o,this.hL,this);this.IP.m.style.height=250+"px";
var _=this.CU=t.L("div","form padded");this.Q3.appendChild(_);_.appendChild(this.QO.z9.m);t.f7(_);_.appendChild(this.xj.m);
_.appendChild(D.m);_.appendChild(n.m);this.Q3.appendChild(this.IP.m)}fo.prototype=new jF("");fo.prototype.R9=function(D,n){if(this.Wj==D)return;
this.Wj=D;this.HV=Math.floor((D-13)*t.F());this.CU.setAttribute("style","width:"+this.HV/t.F()+"px;");
this.IP.m.style.height=n-73+"px";this.vm()};fo.prototype.hL=function(D){var n=this.abT(),_=Math.round(this.HV/n);
n/=t.F();var b=this.IP.B()[0]*_*this.adx,w=this.IP.acv();b+=Math.floor(w.y/n)*_;b+=Math.floor(w.x/n);
var i=this.fk[this.xj.B()];if(b>=i.length)return;var M=i[b],N=this.af1[M],a=new ho(S.E.M,!0);a.g=G.vu;
if(N.KC.length==0)a.data={d:"insertGlyph",k:b+1};else a.data={d:"insertText",k:String.fromCodePoint(N.KC[0])};
this.c(a)};fo.prototype.atb=function(D){var n=1.2;if(D.target==this.uf){if(this.qP>20)this.qP/=n}else{if(this.qP<100)this.qP*=n}this.vm()};
fo.prototype.Rr=function(){this.gB(this.Wc)};fo.prototype.gB=function(D,n){this.Wc=D;if(!t.Pn(this.Q3))return;
this.QO.f(D.za,D.mz,D.eh);var _=D.za,b=_.OT.Font,a=0;if(b==null)return;var w=_.SY[b].Name;if(this.afr==w)return;
var b=D.mz.pc(w);if(b==null)return;var i=b.maxp.numGlyphs,M=this.af1=new Array(i);for(var k=0;k<i;k++)M[k]={KC:[]};
var N=Date.now(),o=new Uint8Array(1048575);for(var k=0;k<1048575;k++){var U=Typr.U.codeToGlyph(b,k);
if(U!=0&&U<i){o[k]=1;if(M[U].KC.length==0)a++;M[U].KC.push(k)}}var V=fo.y8,c=[];for(var k=0;k<V.length;
k++)c.push([]);for(var U=1;U<i;U++){c[0].push(U);var E=M[U].KC[0];if(E==null){continue}for(var A=1;A<V.length;
A++){var Q=V[A].V8;for(var k=0;k<Q.length;k+=2)if(Q[k]<=E&&E<=Q[k+1]){c[A].push(U);break}}}this.fk=c;
var J=[];for(var k=0;k<V.length;k++)J.push(V[k].Xw+" ("+c[k].length+")");var L=this.xj.B();this.xj.jb(J);
this.xj.f(L);this.afr=w;this.a6G=b;this.vm()};fo.prototype.abT=function(D){var n=Math.floor(this.HV/this.qP);
return Math.floor(this.HV/n)};fo.prototype.vm=function(D){if(!t.Pn(this.Q3)||this.fk==null)return;var n=this.fk[this.xj.B()],_=n.length,b=this.a6G,w=Typr.U,i=this.abT(),M=i,N=M*.8,a=M*.8/b.head.unitsPerEm,o=[],U=Math.floor(this.HV/i),V=Math.ceil(_/U),c=this.adx,E=Date.now();
for(var A=0;A<V;A+=c){var Q=t.L("canvas"),J=Q.getContext("2d");Q.width=i*U;Q.height=M*c;J.strokeStyle="rgba(0,0,0,0.3)";
J.fillStyle="white";J.fillRect(0,0,U*i,M*c);for(var L=0;L<c;L++){for(var P=0;P<U;P++){var k=n[(A+L)*U+P];
if(k==null)break;var u=w.glyphToPath(b,k),m=B.H.t0(u.crds);if(!m.hk()){J.fillStyle="#252525";J.beginPath();
var x=P*i+(i-m.l*a)*.5-m.x*a,v=L*M+N;J.translate(x,v);J.scale(a,-a);w.pathToContext(u,J);J.scale(1/a,-1/a);
J.translate(-x,-v);J.fill()}}}J.beginPath();for(var P=0;P<U;P++){var W=P*i+i+.5;J.moveTo(W,0);J.lineTo(W,M*c)}for(var L=0;
L<c;L++){var Z=L*M+M+.5;J.moveTo(0,Z);J.lineTo(U*i,Z)}J.stroke();o.push(Q)}this.IP.KM(o,null,i*U,M*c)};
fo.y8=[{Xw:"All Glyphs"},{Xw:"Basic Latin, Latin 1",V8:[0,127,128,143]},{Xw:"Latin Extended-A",V8:[256,383]},{Xw:"Latin Extended-B",V8:[384,591]},{Xw:"Punctuations",V8:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Xw:"Greek",V8:[880,1023]},{Xw:"Cyrillic",V8:[1024,1279]},{Xw:"Hebrew",V8:[1424,1535]},{Xw:"Arabic",V8:[1536,1791]},{Xw:"Emoji",V8:[9728,10095,127744,129535]}];
function am(){jF.call(this,[13,0],!1,null,jF.pk.dJ);this.Dv=0;this.a6q=0;this.Wc=null;var D=t.L("div","flexrow padded");
this.Q3.appendChild(D);var n=t.L("div");D.appendChild(n);this.xL=[];for(var k=0;k<2;k++){var _=new hU;
this.xL.push(_);_.h("click",this.ahh,this);n.appendChild(_.m)}this.qv=new dx(192);this.qv.h(S.E.o,this.l3,this);
D.appendChild(this.qv.m)}am.prototype=new jF("");am.prototype.ahh=function(D){this.Dv=this.xL.indexOf(D.currentTarget);
this.vm()};am.prototype.l3=function(D){var n=this.qv.B();this.qv.f(n);var _=Math.round(n.p*255)<<16|Math.round(n.z*255)<<8|Math.round(n.S*255),b=new ho(S.E.W,!0);
b.data={d:S.J.VS,hy:da.dJ,_c:this.Dv,k:_};this.c(b);this.a6q=Date.now()};am.prototype.vm=function(){var D=this.Wc,n=this.Dv,_=[D.EH,D.Cp];
for(var k=0;k<2;k++){var b=this.xL[k],w=b.m.style;b.p2(_[k]);if(k==n)w.filter="drop-shadow(0 0 1px #000000)"}var i=_[n];
if(Date.now()-this.a6q>100)this.qv.f({p:(i>>>16)/255,z:(i>>>8&255)/255,S:(i&255)/255})};am.prototype.gB=function(D,n){this.Wc=D;
if(n==da.XS||n==da.dJ)this.vm()};am.prototype.Rr=function(){this.vm()};function i4(){jF.call(this,"CSS",!1,"---panels/css",jF.pk.CSS);
this.tn=null;var D=t.L("div","padded");this.Q3.appendChild(D);this.dE=t.L("textarea");t.pw(this.dE);
D.appendChild(this.dE)}i4.prototype=new jF("");i4.prototype.R9=function(D,n){if(this.Wj==D)return;this.Wj=D;
this.dE.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(D-10)+"px; height:"+(n-10)+"px")};
i4.prototype.wQ=function(D){this.tn=D;this.vm()};i4.prototype.gB=function(D,n){if(n==da.tL)this.vm()};
i4.prototype.vm=function(){var D=this.tn;if(D==null||D.w.length==0)return;if(!t.Pn(this.Q3))return;var n=D.b[D.w[0]],_=CSS.a1z(n,D);
if(_.length!=0)this.dE.value=_.join(";\n")+";";else this.dE.value=""};i4.prototype.Rr=function(){this.vm()};
function cI(){jF.call(this,[9,6],!1,"---panels/info",jF.pk.ask);this.Q3.setAttribute("style","min-width:240px;");
this.tn=null;this.Wc=null;var D=t.L("div","marged row");this.Q3.appendChild(D);var n=t.L("div","cell");
n.setAttribute("style","width:10em");D.appendChild(n);var _=t.L("div","cell");_.setAttribute("style","width:10em");
D.appendChild(_);this.aey=[];for(var k=0;k<4;k++){var b=new iL("");this.aey.push(b);n.appendChild(b.m);
t.f7(n)}this.Q3.appendChild(t.L("hr",""));var w=t.L("div","marged row");this.Q3.appendChild(w);var n=t.L("div","cell");
n.setAttribute("style","width:10em");var _=t.L("div","cell");_.setAttribute("style","width:10em");w.appendChild(n);
w.appendChild(_);this.gG=new iL("");n.appendChild(this.gG.m);t.f7(n);this.W7=new iL("");n.appendChild(this.W7.m);
this.iU=new iL("");_.appendChild(this.iU.m);t.f7(_);this.OH=new iL("");_.appendChild(this.OH.m);this.gG.f("X: 100 px");
this.W7.f("Y: 100 px");this.iU.f("W: 0");this.OH.f("H: 0")}cI.prototype=new jF("");cI.prototype.cp=function(D,n,_,b,w){if(!t.Pn(this.Q3)||D==null)return;
var i=D.s.it(w.x,w.y),M=new gZ(Math.floor(i.x),Math.floor(i.y));if(!w.Xt){var N=0,a=0,o=0,U=0,V=this.aey;
if(!w.Xt&&!D.a44()&&new gl(0,0,D.l-1,D.e-1).A1(M)){var c=D.iS(),k=D.l*M.y+M.x<<2;N=c[k+0];a=c[k+1];o=c[k+2];
U=c[k+3]}V[0].f("R: "+N);V[1].f("G: "+a);V[2].f("B: "+o);V[3].f("A: "+U)}this.gG.f("X: "+B.Hj.Yh(M.x,D.Cn,_,D.l));
this.W7.f("Y: "+B.Hj.Yh(M.y,D.Cn,_,D.e));this.rN()};cI.prototype.rN=function(){var D=this.tn,n=this.Wc,_=0,b=0;
if(D&&n){if(D.s.KZ){_=D.s.KZ.l;b=D.s.KZ.e}else if(D.q){_=D.q.rect.l;b=D.q.rect.e}_=B.Hj.Yh(Math.abs(_),D.Cn,n,D.l);
b=B.Hj.Yh(Math.abs(b),D.Cn,n,D.e)}this.iU.f(io.get([12,41]).charAt(0)+": "+_);this.OH.f(io.get([12,42]).charAt(0)+": "+b)};
cI.prototype._=function(){jF.prototype._.call(this);this.rN()};cI.prototype.wQ=function(D,n,_){this.tn=D;
this.Wc=_;this.rN()};function ht(){jF.call(this,[9,1],!1,"---panels/layers",jF.pk.vp);this.Rs=null;this.ly=null;
this.s0=null;this.iT=t.L("div","lphead");this.YD=t.L("div","lpbody scrollable");this.YY=t.L("div","lpfoot");
this.My=new dE([0,6]);this.My.h(S.E.o,this.qR,this);this.iT.appendChild(this.My.m);this.G3=t.L("span","disabled");
this.G3.setAttribute("style","display:inline-block; height:26px");this.iT.appendChild(this.G3);this.nG=new iw(null,["Kind",[12,48]],!1,[]);
this.nG.h(S.E.o,this.qR,this);var D=this.fo=[new i5(null,["<img src=\""+PIMG.pix_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"autoscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new gH(null,null,8)];
D[0].h(S.E.o,this.qR,this);D[1].h("input",this.qR,this);this.apr();this.Dd=new iw(null,jz.BP,!1,jz.Fk);
this.Dd.h(S.E.o,this.asn,this);this.iT.appendChild(this.Dd.m);this.tU=new fh([12,0],0,100,"%",0);this.tU.h(S.E.o,this.adM,this);
this.tU.parent=this;this.iT.appendChild(this.tU.m);this.sR=new i5([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.sR.h(S.E.o,this.a4X,this);this.iT.appendChild(this.sR.m);this.Vi=new fh([12,26],0,100,"%",0);this.Vi.h(S.E.o,this.a1j,this);
this.Vi.parent=this;this.iT.appendChild(this.Vi.m);this.Ci=[];this.NH();this.Q3.appendChild(this.iT);
this.Q3.appendChild(this.YD);this.YD.addEventListener("dragover",function(b){b.preventDefault()},!1);
this.YD.addEventListener("dragenter",t.I0,!1);this.YD.addEventListener("drop",this.abW.bind(this),!1);
this.Q3.appendChild(this.YY);this.Q3.addEventListener("contextmenu",t.I0,!1);var n=bI.Nl(!0),_=bI.gk(!0);
this.ajp=new gN(n,_);var n=[{name:[14,10]},{name:[14,11],Mb:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Mb:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",R:function(b){return{R:b.b[b.w[0]].add.SoLd!=null}},Mb:!0},{name:[6,8],R:ht.aj1},{name:[6,34],R:function(b){var w=b.b[b.w[0]];
return{R:w.add.lmfx!=null&&!w.nR()}}},{name:[6,40],Mb:!0,R:function(b){var w=b.b[b.w[0]];return{R:w.add.TySh!=null}}},{name:"",Mb:!0,R:function(b){var w=b.b[b.w[0]],i=w.add.TySh,M=i?i.uP:null;
return{R:i!=null&&M.Curve==null,j4:io.get(i&&jg.rz(M)==0?[16,3,1]:[16,3,0])}}},ht.abY(!1),{name:[11,6],Mb:!0,sub:[{name:[5,1],R:function(b){var w=b.b[b.w[0]];
return{R:w.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],R:function(b){var w=b.b[b.w[0]];return{R:w.add.lmfx!=null}}}]},{name:[6,10],R:function(b){return{R:b.w.length==1&&b.w[0]!=0&&!b.b[b.w[0]].nR()}}},{name:[6,12,0],R:function(b){return{R:b.w.length>1||b.b[b.w[0]].nR()}}},{name:[6,12,1],Mb:!0},{name:[13,0],sub:function(){var b=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],w=[];
for(var k=0;k<b.length;k++)w.push({name:b[k]});return w}()}],_=[{T:S.E.W,P:{d:S.J.a_,Lt:"layerstyle"}},{T:S.E.M,g:G.xm,P:{d:"fromlayer",Pr:[null,0,0]}},{T:S.E.M,g:G.vp,P:{d:q.Jm}},{T:S.E.W,P:{d:S.J.a_,Lt:"duplinto"}},{T:S.E.M,g:G.vp,P:{d:q.h0}},{T:S.E.$W,P:{_L:"newPlacedLayer"}},{T:S.E.M,g:G.vp,P:{d:q.Yl}},{T:S.E.$W,P:{_L:"rasterizeLayer",cR:{classID:"rasterizeLayer",null:cT.S0("Lyr",!0)}}},{T:S.E.M,g:G.vp,P:{d:q.J3}},{T:S.E.M,g:G.vp,P:{d:q.sV}},{T:S.E.M,g:G.vu,P:{d:"switchPntPrgr"}},{T:S.E.M,g:G.vp,P:{d:q.gV}},{sub:[{T:S.E.M,g:G.EB,P:{d:"st_copy"}},{T:S.E.M,g:G.EB,P:{d:"st_paste"}},{T:S.E.M,g:G.EB,P:{d:"st_clear"}}]},{T:S.E.M,g:G.vp,P:{d:q.aF}},{T:S.E.M,g:G.vp,P:{d:q.lz}},{T:S.E.M,g:G.vp,P:{d:q.mE}},{sub:function(){var b=[];
for(var k=0;k<8;k++)b.push({T:S.E.M,g:G.vp,P:{d:q.GO,a4H:k}});return b}()}];this.rm=new gN(n,_);var n=[{name:[6,45],R:function(b){var w=b.b[b.w[0]];
return{R:w.tr(b).v==null}}},{name:[6,47]}],_=[{T:S.E.M,g:G.vp,P:{d:q.Ez}},{T:S.E.M,g:G.vp,P:{d:q.x$}}];
this.a52=new gN(n,_);var n=[{name:"enab/disab",R:function(b){return{j4:io.get(b.b[b.w[0]].us().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],R:function(b){return{R:b.yP(!1,!0)}}}],_=[{T:S.E.M,g:G.vp,P:{d:q.Jw}},{T:S.E.M,g:G.vp,P:{d:q.Rd}},{T:S.E.M,g:G.vp,P:{d:q.Io}}];
this.aa_=new gN(n,_);var n=[{name:"enab/disab",R:function(b){return{j4:io.get(b.b[b.w[0]].tr(b).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],_=[{T:S.E.M,g:G.vp,P:{d:q.ET}},{T:S.E.M,g:G.vp,P:{d:q.j6}}];
this.a0G=new gN(n,_);var n=[{name:"enab/disab",R:function(b){return{j4:io.get(b.b[b.w[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],_=[{T:S.E.M,g:G.vp,P:{d:q.OY}},{T:S.E.M,g:G.vp,P:{d:q.NZ}},{T:S.E.M,g:G.vp,P:{d:q.vv}}];
this.aj_=new gN(n,_);this.a4E=new gN(bI.a1Z(!0),bI.En(!0));this.a1r=new gN(bI.Nl(),bI.gk());this.h("rclick",this.a8a,this)}ht.prototype=new jF("");
ht.prototype.a5M=function(){if(this.My.B()){var D=this.nG.B(),n=this.fo[D].B();if(D==0)return n.indexOf(!0)!=-1;
if(D==1)return n!=""}return!1};ht.abY=function(D){var n=function(b){var w=b!=null&&b.w.length!=0&&b.b[b.w[0]].kF;
return{NU:w,R:b!=null&&b.On(b.w[0]),P:{T:S.E.$W,P:{_L:w?"ungroup":"groupEvent",cR:{classID:w?"Ungr":"GrpL",null:cT.S0("Lyr",!0)}}}}},_={name:[6,6,0],Mb:!0,R:n};
if(D)_.BQ=[dz.u9,dz.uH,dz.lc];return _};ht.aj1=function(D,n){if(D)for(var k=0;k<D.w.length;k++){var _=D.b[D.w[k]];
if(_.add.TySh||_.add.SoLd||_.add.SoCo||_.add.GdFl||_.add.PtFl)return{R:!0}}return{R:!1}};ht.prototype.abW=function(D){t.I0(D);
var n=D.dataTransfer.getData("Text"),_=1,b=0;if(n==""){t.DP(D,this,this.s0.indexOf(this.ly),b+(_>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),w=n.MJ;
if(w=="l")this.Y6({d:q.AR,source:n.HE,target:b,sK:_})}};ht.prototype.a8a=function(D){var n=this.ly,_=D.data,w;
if(n.w.indexOf(_.i)==-1){var b={d:q.fW,i:D.target.oN.index,Iu:_.P8};this.Y6(b)}if(n.w.indexOf(_.i)==-1)return;
if(_.P8==1){w=this.aa_}else if(_.P8==2){w=this.aj_}else if(_.P8==3){w=this.a0G}else if(_.P8==4){w=this.a52}else if(_.P8==5){w=this.ajp}else{w=this.rm}w._();
w.update(n);w.parent=this;var i=new ho(S.E.W,!0);i.data={d:S.J.Td,Vl:w,x:_.RX.x+1,y:_.RX.y+1};this.c(i)};
ht.prototype._=function(){jF.prototype._.call(this);this.Dd._();this.tU._();this.sR._();this.Vi._();
if(this.ly)this.wQ(this.ly);var D="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var k=0;k<this.Ci.length;k++){var n=this.Ci[k];n.v$(t.ct(D[k]))}};ht.prototype.wQ=function(D,n){if(D&&!D.HH)return;
if(D==null)t.ES(this.Q3,"disabled");else t.ad(this.Q3,"disabled");this.ly=D;this.s0=n;if(this.Rs!=null){this.YD.removeChild(this.Rs.YD);
this.Rs=null}if(D==null)return;var _=!1;for(var k=0;k<D.wK.length;k++)if(D.wK[k].Lr)_=!0;this.Rs=new j0(D.root,this,D,{zs:0},{amy:_,ata:this.a5M()});
this.YD.appendChild(this.Rs.YD);if(D.w.length==0||D.b[D.w[0]]==null)t.ES(this.iT,"disabled");else{t.ad(this.iT,"disabled");
if(D.w.length==1&&D.Eh)this.Rs.aif(D.w);var b=D.b[D.w[0]];if(b.nR()){this.Dd.jb([[15,10,27]].concat(jz.BP),[1].concat(jz.Fk));
var w=jz._w.indexOf(b.QQ);this.Dd.f(w+1)}else{this.Dd.jb(jz.BP,jz.Fk);var w=jz._w.indexOf(b.QQ);this.Dd.f(w)}this.tU.f(Math.round(100*b.opacity/255));
this.sR.f([b.Nd(0),b.Nd(1),b.Nd(2),b.Nd(31)]);this.Vi.f(Math.round(100*(b.add.iOpa!=null?b.add.iOpa/255:1)))}};
ht.prototype.R9=function(D,n){var _=this.iT.getBoundingClientRect().height,b=59;if(_>70)b=84;if(_>100)b=108;
if(_>120)b=128;var w=n-(b+37);this.YD.style.height=w+"px";this.YD.style.width=D+"px"};ht.prototype.asn=function(D){this.Y6({d:q.fH,ub:this.Dd.B()})};
ht.prototype.adM=function(D){this.Y6({d:q.hs,ub:Math.round(255*this.tU.B()/100)})};ht.prototype.a4X=function(D){this.Y6({d:q.Y8,ub:[this.sR.B(),[0,1,2,31]]})};
ht.prototype.a1j=function(D){this.Y6({d:q.bZ,ub:Math.round(255*this.Vi.B()/100)})};ht.prototype.qR=function(D){if(D.target==this.nG)this.apr();
var n=this.My.B();if(n)t.ad(this.G3,"disabled");else t.ES(this.G3,"disabled");this._();this.ly.HH=!0;
this.wQ(this.ly);this.ly.HH=!1};ht.prototype.apr=function(){t.hz(this.G3);this.G3.appendChild(this.nG.m);
this.G3.appendChild(this.fo[this.nG.B()].m)};ht.prototype.akc=function(D){this.a4P(D,this.a4E)};ht.prototype.a3f=function(D){this.a4P(D,this.a1r)};
ht.prototype.a4P=function(D,n){var _=D.currentTarget;if(t.Pn(n.m))return;D.stopPropagation();var b=_.getBoundingClientRect();
n._();n.update(this.ly);n.parent=this;var w=new ho(S.E.W,!0);w.data={d:S.J.Td,Vl:n,x:b.left,y:b.top,a6C:!0};
this.c(w)};ht.prototype.ad$=function(D){this.Y6({d:q.Uv})};ht.prototype.aiX=function(D){this.Y6({d:this.ly.w.length>1?q.sc:q.dY})};
ht.prototype.asB=function(D){this.Y6({d:q.S6})};ht.prototype.afW=function(D){var n=this.ly;if(n.w.length==0)return;
var _=n.b[n.w[0]],b=_.P8;this.Y6({d:b<=0?_.q_?q.NZ:q.h0:b==3?q.j6:q.Rd})};ht.prototype.aiw=function(D){this.Y6({d:q.Zn})};
ht.prototype.Y6=function(D){var n=new ho(S.E.M,!0);n.data=D;n.g=G.vp;this.c(n)};ht.prototype.NH=function(){var D=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],n=[this.aiw,this.a3f,this.akc,this.ad$,this.aiX,this.asB,this.afW],_=this.a55.bind(this);
for(var k=0;k<D.length;k++){var b=new bX("W",!1,D[k]);this.Ci.push(b);t.cc(b.m,n[k].bind(this));this.YY.appendChild(b.m);
if(k>=D.length-3){var w=b.m;w.addEventListener("drop",_,!1);w.addEventListener("dragover",function(i){i.preventDefault()},!1);
w.addEventListener("dragenter",t.I0,!1)}}};ht.prototype.a55=function(D){t.I0(D);var n=0,_=this.Ci;while(_[n].m!=D.currentTarget)n++;
_[n].ef();var b=D.dataTransfer.getData("Text");if(b=="")return;var b=JSON.parse(b);if(b.MJ=="l"){var w={d:[q.sc,q.Jm,q.h0][n-4]};
if(this.ly.w.indexOf(b.HE)==-1)w.i=b.HE;this.Y6(w)}if(n!=6)return;if(b.MJ=="sm"||b.MJ=="s"){var i=new ho(S.E.M,!0);
i.g=G.EB;i.data={d:b.MJ=="sm"?"st_clear":"st_delsingle",i:b.HE,HE:b.Vt};this.c(i)}if(b.MJ=="fm"||b.MJ=="f"){this.Y6({d:b.MJ=="fm"?q.x$:q.qH,src:b.HE,Vt:b.Vt})}if(b.MJ=="m"||b.MJ=="vm"){this.Y6({d:b.MJ=="m"?q.Rd:q.NZ,i:b.HE})}};
function j0(D,n,_,b,w){cA.call(this);this.parent=n;this.oN=D;this.mm=[];this.m=t.L("div","layeritem");
var i=w.ata&&!this.ada(),M=D.i,N=_.w.indexOf(D.index)!=-1,v=15,C=!1;this.iT=t.L("div",N?"head selected":"head");
if(D.i.add.artb!=null)t.ES(this.iT,"artb");var a="height: "+(M.nR()?26:Math.floor(10+M.ai2/t.F()))+"px;";
if(N&&w.amy)a+="background-color:rgba(255,50,50,0.4);";this.iT.setAttribute("style",a);var o=t.L("div","headL"),U=t.L("div","headR"),V=t.L("div","lpineck");
this.YD=t.L("div","lpibody");this.iT.appendChild(o);this.iT.appendChild(U);if(!i){this.m.appendChild(this.iT);
if(M.B5()||M.Ug())if(M.Rc())this.m.appendChild(V)}var c=this.iT;c.setAttribute("draggable","true");c.addEventListener("dragstart",this.oY.bind(this),!1);
c.addEventListener("drop",this.KH.bind(this),!1);c.addEventListener("dragover",this.cP.bind(this),!1);
c.addEventListener("dragenter",t.I0,!1);c.addEventListener("dragleave",this.P9.bind(this),!1);var E=[],A=[null,null,null,null],Q=t.L("div");
this.t2=t.L("div","eye");Q.appendChild(this.t2);var J=t.L("div","space");this.UR=t.L("div","label");
this.UR.setAttribute("style","max-width:calc(100% - "+(96+D.depth*20)+"px)");this.UR.textContent=M.getName();
this.UI=t.L("div","lock");this.aqs=t.L("div","lrfx");this.hJ=t.L("div","arfx");var L=this.ac4.bind(this),P=this.anW.bind(this);
this.iT.addEventListener("click",P,!1);this.iT.addEventListener("contextmenu",L,!1);var u=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],m=M.add.lclr==null?0:u[M.add.lclr];
if(m==0)m=b.zs;var x=[m>>16,m>>8&255,m&255];for(var k=0;k<3;k++){x[k]=Math.round(.5*x[k]+.5*220)}if(1<t.F()&&t.F()<1.5)v=v/t.F();
Q.setAttribute("style","background-color:rgba("+x.join(",")+","+(m==0?0:1)+");");this.t2.setAttribute("style","background-size: "+v+"px "+v+"px;");
var W=this.atT.bind(this);Q.addEventListener("mousedown",W,!1);Q.addEventListener("mouseover",W,!1);
this.hJ.addEventListener("click",this.afy.bind(this),!1);E[0]=Q;E[1]=J;E[10]=this.UR;function Z(fR,j4,c){var cP=j4.canvas;
t.a0Y(cP);if(c)fR.setAttribute("draggable","true");fR.appendChild(cP);cP.setAttribute("style",cP.getAttribute("style")+"; pointer-events:none")}if(M.nR()){var r=t.L("div","arrow"),X=t.L("div","folder");
r.addEventListener("click",this.afS.bind(this),!1);E[2]=r;E[3]=X;if(M.add.lsct==f4.AU||w.ata){for(var k=D.children.length-1;
k>=0;k--){var $=new j0(D.children[k],n,_,{zs:m},w);this.mm.push($);this.YD.appendChild($.m)}this.m.appendChild(this.YD)}r.setAttribute("class",M.add.lsct==f4.AU?"open":"closed")}else{this.K8=t.L("div","thumb");
E[5]=this.K8;Z(this.K8,M.wH);if(fg.get(M.add))t.ES(M.wH.canvas,"gsicon")}var I=M.us();if(I){this.Fp=t.L("div","chain");
this.sw=t.L("div","thumb");Z(this.sw,D.i.ahH,!0);this.Fp.style.opacity=I.c9?1:0;this.Fp.addEventListener("click",this.atP.bind(this),!1)}var T=M.x6()&&M.add.vmsk;
if(M.add.vmsk&&!T){this.mt=t.L("div","chain");this.Ze=t.L("div","thumb");Z(this.Ze,D.i.a3e,!0);this.mt.style.opacity=M.add.vmsk.c9?1:0;
this.mt.addEventListener("click",this.a8x.bind(this),!1)}if(M.Ug()&&M.tr(_).v){this.og=t.L("div","thumb");
Z(this.og,D.i.asH,!1);this.og.addEventListener("click",P,!1);this.og.addEventListener("contextmenu",L,!1)}if(M.B5()){this.a56=V;
V.addEventListener("contextmenu",L,!1);var e=new ht.CY(io.get([12,1]),"sm","layerstyle",D.depth,0,null);
e.parent=this;V.appendChild(e.m);var F=M.add.lmfx,y=F.masterFXSwitch.v;e.oj(y);for(var k=0;k<ci.order.length;
k++){var h=F[ci.L0[k]].v;if(h.length==0)continue;for(var Y=0;Y<h.length;Y++){var e=new ht.CY(io.get(ci.names[k]),"s","layerstyle",D.depth,1,[k,Y]);
e.oj(y&&h[Y].v.enab.v);e.parent=this;V.appendChild(e.m)}}}if(M.Ug()){var e=new ht.CY(io.get([12,55]),"fm",null,D.depth,0,-1,M.tr(_).v?this.og:null);
e.parent=this;V.appendChild(e.m);this.aeP=e.m;this.aeP.addEventListener("contextmenu",L,!1);var F=M.add.SoLd.filterFX.v,K=F.filterFXList.v,y=F.enab.v;
e.oj(y);for(var k=K.length-1;k>=0;k--){var z=K[k].v,f=cq.VM(z);if(fg.ic[f])f=fg.ic[f];var s=z.Nm.v;if(cq.names[f])s=io.get(cq.names[f]);
if(fg.names[f])s=io.get(fg.names[f]);var l="afw_"+f,e=new ht.CY(s,"f",l,D.depth,1,k);e.oj(y&&z.enab.v);
e.parent=this;V.appendChild(e.m)}}if(D.index==_.w[0]){var g=M.P8,H;if(g<=0)H=this.K8;else if(g==1)H=this.sw;
else if(g==3)H=this.og;if(H)H.setAttribute("class","thumb active");if(M.q_&&this.Ze)this.Ze.setAttribute("class","thumb active")}Q.style.opacity=M.h$()?1:.25;
J.setAttribute("style","width:"+Math.max(0,D.depth-1)*18+"px");var O=M.add.lspf!=null&&M.add.lspf!=0;
this.UI.style.opacity=M.Nd(31)?1:.5;E[4]=M.kF?t.L("div","clipp"):null;E[6]=I?this.Fp:null;E[7]=I?this.sw:null;
E[8]=M.add.vmsk&&!T?this.mt:null;E[9]=M.add.vmsk&&!T?this.Ze:null;var ib=M.VT,hH=_.w;if(ib!=0)for(var k=0;
k<hH.length;k++)if(_.b[hH[k]].VT==ib){C=!0;break}if(C){A[0]=t.L("div",M.ZL?"link":"linkX");A[0].addEventListener("click",this.alh.bind(this),!1)}A[1]=O?this.UI:null;
A[2]=M.B5()?this.aqs:null;A[3]=M.B5()||M.Ug()?this.hJ:null;this.hJ.setAttribute("class",M.Rc()?"arfx open  gsicon":"arfx closed  gsicon");
var R=E;for(var k=0;k<R.length;k++)if(R[k])o.appendChild(R[k]);R=A;for(var k=0;k<R.length;k++)if(R[k])U.appendChild(R[k])}j0.prototype=new cA;
j0.prototype.aif=function(D){var n=this.oN.index;if(D.indexOf(n)!=-1){if(this.m.scrollIntoView)this.m.scrollIntoView({block:"nearest"})}for(var k=0;
k<this.mm.length;k++)this.mm[k].aif(D)};j0.oD=function(D,n){var _=n.getBoundingClientRect();return(D.clientY-_.top)/_.height};
j0.prototype.oY=function(D){D.stopPropagation();var n=D.target==this.sw?"m":D.target==this.Ze?"vm":"l";
D.dataTransfer.setData("Text",JSON.stringify({MJ:n,HE:this.oN.index}))};j0.prototype.P9=function(D){t.I0(D);
this.dv()};j0.prototype.KH=function(D){t.I0(D);this.dv();var n=D.dataTransfer.getData("Text"),_=this.parent.ly,b=j0.oD(D,this.iT),w=this.oN.index;
if(b>.8){var i=!0,M=_.root.D5(w);while(M.parent!=null){var N=M.parent,a=N.children;if(a.indexOf(M)!=0)i=!1;
M=M.parent}if(i){w=0;b=1}}if(n==""){t.DP(D,this,this.parent.s0.indexOf(_),w+(b>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),o=n.MJ;
if(o=="l")this.Y6({d:q.AR,source:n.HE,target:w,sK:b});else if(o=="m"||o=="vm")this.Y6({d:o=="m"?q.Y_:q.SH,src:n.HE,Yj:w});
else j0.asp(D,n,this)}};j0.asp=function(D,n,_,b){var w=n.MJ,i=_.oN.index,M=n.HE;if(w=="s"||w=="sm")_.Y6({d:q.FZ,src:M,Yj:i,Vt:n.Vt});
if(w=="f"||w=="fm")_.Y6({d:q.WL,src:M,Yj:i,Vt:n.Vt,bw:b==null?0:b})};j0.prototype.cP=function(D){t.I0(D);
var n=j0.oD(D,this.iT),_=this.oN.i.nR()&&.5<n&&n<.8;this.dv();var b="inset 0 "+(_?0:n>.5?-3:3)+"px "+(_?"5px black":"0 rgba(0,0,0,0.5)");
this.iT.style.boxShadow=b};j0.prototype.dv=function(D){this.iT.style.boxShadow=""};j0.afL=-1;j0.CQ=!1;
j0.a2z=function(D){j0.CQ=!1;document.body.removeEventListener("mouseup",j0.a2z)};j0.prototype.atT=function(D){if(D.button!=0)return;
if(D.type=="mousedown"){j0.CQ=!0;document.body.addEventListener("mouseup",j0.a2z,!1)}if(D.type=="mouseover"&&(!j0.CQ||j0.afL==this.oN.index))return;
t.I0(D);this.Y6({d:q.Y9,i:this.oN.index});j0.afL=this.oN.index};j0.prototype.afS=function(D){t.I0(D);
this.Y6({d:q.Pi,i:this.oN.index})};j0.prototype.atP=function(D){this.Y6({d:q.Fh,i:this.oN.index})};j0.prototype.a8x=function(D){this.Y6({d:q.g5,i:this.oN.index})};
j0.xk=0;j0.prototype.tv=function(D){this.Y6({d:q.YQ,i:this.oN.index,name:D})};j0.prototype.afy=function(D){this.Y6({d:q.q0,i:this.oN.index})};
j0.prototype.alh=function(D){this.Y6({d:q.w6,i:this.oN.index})};j0.prototype.ac4=function(D){var n=D.sourceCapabilities;
if(n)n=n.firesTouchEvents;if(D.button!=2&&n!=!0)return;var _=this.P8(D);if(_!=3&&D.currentTarget==this.aeP)_=4;
if(D.target==this.aqs||D.currentTarget==this.a56)_=5;var b=new ho("rclick",!0);b.data={i:this.oN.index,P8:_,RX:t.Wt(D,document.body)};
this.c(b)};j0.prototype.P8=function(D){var n=D.target,_=n;return _==this.Ze?2:_==this.sw?1:_==this.K8?0:_==this.og?3:-1};
j0.prototype.anW=function(D){var n=D.target,c;if(n==this.t2||n==this.hJ||n==this.Fp||n==this.mt||n.tagName&&n.tagName.toLowerCase()=="input")return;
var _=this.P8(D),b=this.parent.ly,w=this.oN.index,i=b.b[w];if(n==this.UI){this.Y6({d:q.Y8,i:w,ub:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(n==this.UR){var M=j0.xk;j0.xk=Date.now();if(Date.now()-M<300){this.iT.setAttribute("draggable","false");
var N=new jF.Kw(this.UR,this.tv.bind(this))}}if(D.button==0&&D.detail==2){if(n==this.UR)return;var a=new ho(S.E.M,!0),o=new ho(S.E.W,!0),U=new ho(S.E.$W,!0);
if(_==0&&i.add.SoCo){var V=B.X.kj(i.add.SoCo.Clr.v);o.data={d:S.J.a_,Lt:"colorpicker",zs:V.p<<16|V.z<<8|V.S,vJ:function(Q){var J=B.X.Ea({S:Q&255,z:Q>>>8&255,p:Q>>16&255});
J={classID:"null",Clr:{t:"Objc",v:J}};var L=new ho(S.E.M,!0);L.g=G.vp;L.data={d:q.rb,n8:[w],eQ:!0,k:{p5:1,Jh:J}};
this.c(L)}.bind(this),E4:!0}}else if(_==0&&(fg.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))o.data={d:S.J.$o,Lt:jF.pk.re};
else if(_!=0&&_!=-1)o.data={d:S.J.$o,Lt:jF.pk.re};else if(_==0&&i.add.SoLd)U.data={_L:"placedLayerEditContents",cR:{classID:"placedLayerEditContents"}};
else if(_==0&&i.add.TySh){a.g=G.vu;a.data={d:"editCurr",py:w}}else o.data={d:S.J.a_,Lt:"layerstyle",i:w};
this.c(U.data?U:o.data?o:a);return}if(D.button!=0)return;if(_==1||_==3){var E=_==3?i.tr(b).v:i.us();
c=E.Lr?b.s.qJ.join("")=="111"?1:2:0}var A={d:q.fW,i:w,Iu:_,aqN:c,ad5:!0};this.Y6(A)};j0.prototype.Y6=function(D){var n=new ho(S.E.M,!0);
n.data=D;n.g=G.vp;this.c(n)};j0.prototype.ada=function(){var D=this.oN.i,n=D.add,_=this.parent.nG.B(),b=this.parent.fo[_].B();
if(_==0){if(b[0]&&n.SoLd==null&&n.TySh==null&&D.V6())return!0;if(b[1]&&fg.get(n)!=null)return!0;if(b[2]&&n.TySh!=null)return!0;
if(b[3]&&n.vstk!=null)return!0;if(b[4]&&n.SoLd!=null)return!0;return!1}if(_==1)return D.getName().toLowerCase().indexOf(b.toLowerCase())!=-1};
ht.CY=function(D,n,_,b,w,i,M){cA.call(this);this.a3d=n;this.nh=_;this.index=i;this.m=t.L("div","styleitem");
this.iT=t.L("div","head");this.aiB=null;if(n=="f"){var N=this.aiB=t.L("div","headR");N.textContent="\u2699";
this.iT.appendChild(N)}this.MU=t.L("div","eye gsicon");this.UR=t.L("div","label");this.m.appendChild(this.iT);
this.iT.appendChild(this.MU);if(M){this.sw=M;this.iT.appendChild(this.sw);this.iT.setAttribute("style","height: "+(M.firstChild.height/t.F()+10)+"px")}this.UR.innerHTML=D;
this.m.setAttribute("style","margin-left: "+(24+b*16+w*22)+"px");this.iT.appendChild(this.UR);this.MU.addEventListener("click",this.aa6.bind(this),!1);
var a=this.m;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.oY.bind(this),!1);
if(!0){a.addEventListener("drop",this.KH.bind(this),!1);a.addEventListener("dragover",this.cP.bind(this),!1);
a.addEventListener("dragenter",t.I0,!1);a.addEventListener("dragleave",this.P9.bind(this),!1)}this.m.addEventListener("click",this.m_.bind(this),!1)};
ht.CY.prototype=new cA;ht.CY.prototype.oY=function(D){D.stopPropagation();D.dataTransfer.setData("Text",JSON.stringify({MJ:this.a3d,HE:this.parent.oN.index,Vt:this.index}))};
ht.CY.prototype.P9=function(D){t.I0(D);this.dv()};ht.CY.prototype.KH=function(D){t.I0(D);this.dv();var n=D.dataTransfer.getData("Text");
if(n=="")return;var n=JSON.parse(n);j0.asp(D,n,this.parent,this.index+(j0.oD(D,this.iT)>.5?0:1))};ht.CY.prototype.cP=function(D){t.I0(D);
var n=j0.oD(D,this.iT)>.5;this.dv();var _="border-"+(n?"bottom":"top");this.iT.style[_]="0.2em solid rgba(0,0,0,0.5)"};
ht.CY.prototype.dv=function(D){this.iT.style.border="none"};ht.CY.prototype.oj=function(D){var n=15;
if(1<t.F()&&t.F()<1.5)n=n/t.F();this.MU.setAttribute("style","background-size: "+n+"px "+n+"px;");this.MU.style.opacity=D?1:.2};
ht.CY.prototype.m_=function(D){if(D.target==this.MU)return;var n=this.parent.oN.index;if(D.detail!=1&&this.nh!=null){var n=this.parent.oN.index,_=new ho(S.E.W,!0);
if(this.nh.indexOf("afw_")==0){var b=this.nh.slice(4),w=d[b]||cq.K[b],i=D.target==this.aiB;if(!i&&!w)return;
_.data=G.sp.Ev(i?"blendOptions":b,{i:n,index:this.index})}else _.data={d:S.J.a_,Lt:this.nh,i:n,index:this.index};
this.c(_)}else{if(D.target.getAttribute("class")!="thumb")this.parent.Y6({d:q.fW,i:n,Iu:0})}};ht.CY.prototype.aa6=function(D){var n={fm:q.XO,f:q.eK,sm:q.hc,s:q.wJ}[this.a3d];
this.parent.Y6({d:n,i:this.parent.oN.index,index:this.index})};function fE(){jF.call(this,"Guide Guy",!1,"---panels/guideguy",jF.pk.afM);
this.tn=null;this.X5=[];var D=t.L("div","form padded");this.Q3.appendChild(D);D.setAttribute("style","width:200px");
this.Q3.appendChild(D);var n=t.L("canvas"),_=n.getContext("2d");n.width=n.height=160;var b=[32,0,16,160,0,32,160,16,0,112,160,16],w="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
for(var k=0;k<10;k++){_.clearRect(0,0,160,160);_.setTransform(1,0,0,1,80,80);_.rotate((k&3)*Math.PI/2);
_.translate(-80,-80);_.fillStyle="rgba(0,0,0,0.3)";if(k<4){for(var M=0;M<12;M+=4){_.fillStyle=M==0?"#000000":"rgba(0,0,0,0.3)";
_.fillRect(b[M],b[M+1],b[M+2],b[M+3])}}else if(k<6){var N=8*6;_.fillRect(0,0,N,160);_.fillRect(8*7,0,N,160);
_.fillStyle="#000000";_.fillRect(8*14,0,N,160)}else if(k<8){_.fillRect(0,0,16,160);_.fillRect(160-16,0,16,160);
_.fillRect(32,0,160-64,160);_.fillStyle="#000000";_.fillRect(32,80-8,160-64,8*1)}else{_.fillRect(0,0,8*7,160);
_.fillRect(8*13,0,160,160);_.fillStyle="#000000";_.fillRect(8*7,80-8,8*6,8*1)}var a="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",o=new fh(a,0,200,k==4||k==5?null:"px",null,null,null,4,w[k]);
o.parent=this;o.h(S.E.o,this.aes,this);o.f(i[k]);o._();this.X5.push(o);D.appendChild(o.m)}var U=[[11,14],[11,15,0]];
this.Dg=[];for(var k=0;k<U.length;k++){var V=new bX(U[k],!0,null,!0);this.Dg.push(V);V.h("click",this.MI,this);
D.appendChild(V.m)}for(var k=0;k<6;k++){_.setTransform(1,0,0,1,80,80);_.rotate(Math.floor(k/3)*Math.PI/2);
_.translate(-80,-80);_.clearRect(0,0,160,160);_.fillStyle="rgba(0,0,0,0.3)";_.fillRect(0,0,160,160);
_.clearRect(16,16,128,128);_.fillStyle="#000000";var c=k%3;_.fillRect([0,9,18][c]*8,0,16,160);var a="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",V=new bX(a,!1,null,!1);
this.Dg.push(V);V.h("click",this.MI,this);D.appendChild(V.m)}}fE.prototype=new jF("");fE.prototype._=function(){jF.prototype._.call(this);
for(var k=0;k<this.Dg.length;k++)this.Dg[k]._()};fE.prototype.aes=function(D){var n=this.X5,_=n.indexOf(D.target),b=Math.floor(_/2),w=_&1,i=[];
for(var k=0;k<4;k++)i.push(n[2*k+w].B());var M=-1;if(b==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)M=4;if(b==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)M=4;
if(b==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)M=3;if(M!=-1)n[2*M+w].f(0)};fE.prototype.MI=function(D){var n=this.tn,_=this.Dg.indexOf(D.target),b=[[],[]];
if(n==null)return;var w=n.q?n.q.rect:new gl(0,0,n.l,n.e),i=w.l,M=w.e;if(_==0){var N=[[],[]];for(var k=0;
k<this.X5.length;k++)N[k&1].push(this.X5[k].B());var a=[fE.a7A(N[0],w.x,w.x+i),fE.a7A(N[1],w.y,w.y+M)];
b=fE.a6k(a);G._s.Xx(b,n.l$())}else if(_==1){}else{_-=2;var o=Math.floor(_/3),a=[[],[]];a[o].push([w.x,w.x+i/2,w.x+i,w.y,w.y+M/2,w.y+M][_]);
b=fE.a6k(a);G._s.Xx(b,n.l$())}this.a6y(b)};fE.a6k=function(D){var n=[],_=[];for(var b=0;b<2;b++)for(var k=0;
k<D[b].length;k++){n.push([b,D[b][k]]);_.push(-1)}return[n,_]};fE.prototype.a2B=function(D){var n=this.a6n.indexOf(D.target)};
fE.prototype.a6y=function(D){var n=new ho(S.E.M,!0);n.g=G.GZ;n.data={d:"gids",kk:D};this.c(n)};fE.a7A=function(D,n,_){var b=[],w=D[2],i=D[3],M=D[4],N=0;
if(w==0)N++;if(i==0)N++;if(M==0)N++;if(N>1&&w==0&&i==0){if(D[0]!=0)b.push(n+D[0]);if(D[1]!=0)b.push(_-D[1]);
return b}var a=_-n-D[0]-D[1];if(w==0){if(M==0){w=Math.floor(a/i);M=(a-w*i)/(w-1)}else{w=1;while(i*w+M*(w-1)+i+M<=a)w++}}else if(w!=0&&i!=0){if(w*i>a)w=Math.floor(a/i);
M=(a-w*i)/(w-1)}b.push(n+D[0],_-D[1]);var i=(a-M*(w-1))/w;for(var k=1;k<w;k++){if(M==0)b.push(n+D[0]+k*i);
else b.push(n+D[0]+k*i+(k-1)*M,n+D[0]+k*i+k*M)}return b};fE.prototype.wQ=function(D){this.tn=D};function j1(){jF.call(this,[9,2],!1,"---panels/properties",jF.pk.re);
this.aoD=null;this.H2=null;this.Wc=null;this.aak=-1;this.DH=null}j1.prototype=new jF("");j1.prototype.R9=function(D,n){this.Wj=D;
this.Rw=n;D=D-16;n=n-12;var _=this.DH;if(_){_.style.width=D+"px";_.style.height=n+"px";for(var k=0;k<3;
k++)this.VQ[k].R9(D-12,n)}};j1.prototype.Cf=function(){this.DH=t.L("div","padded scrollable");this.Q3.appendChild(this.DH);
var D=t.L("span");this.DH.appendChild(D);this.vS=[new bX([0,3]),new bX([12,73]),new bX([12,91,0])];for(var k=0;
k<this.vS.length;k++){var n=this.vS[k];n.h("click",this.a5E,this);D.appendChild(n.m);if(k==2)n.m.style.marginRight="0"}this.DH.appendChild(t.L("hr"));
this.Ki=new j1.Kc;this.Ki.parent=this;this.sP=new j1.xI;this.sP.parent=this;this.Rh=new j1.Vu;this.Rh.parent=this;
this.VQ=[this.Ki,this.sP,this.Rh];this.DH.appendChild(this.Ki.m);this.R9(this.Wj,this.Rw)};j1.prototype.a5E=function(D){var k=this.vS.indexOf(D.currentTarget);
this.fv(k);this.ae0(k==1?this.sP.PC:-1)};j1.prototype.fv=function(D){for(var k=0;k<3;k++){this.vS[k].ef();
var n=this.VQ[k].m;if(n.parentNode==this.DH&&k!=D)this.DH.removeChild(n);if(n.parentNode!=this.DH&&k==D)this.DH.appendChild(n)}this.vS[D].im()};
j1.prototype.ae0=function(D){var n=this.H2.w[0],_=this.H2.b[n],b=D+1;if(D==1&&_.q_)return;var w=new ho(S.E.M,!0);
w.g=G.vp;if(D!=1&&_.q_){w.data={d:q.fW,i:n,Iu:2};this.c(w)}w.data={d:q.fW,i:n,Iu:b};this.c(w)};j1.prototype._=function(){jF.prototype._.call(this);
if(this.DH==null)return;this.wQ(this.H2);for(var k=0;k<3;k++){this.vS[k]._();this.VQ[k]._()}};j1.prototype.Rr=function(){if(!t.Pn(this.Q3))return;
if(this.DH==null){this.Cf();this.gB(this.Wc,da.XS);this.wQ(this.aoD);this._()}};j1.prototype.wQ=function(D){this.aoD=D;
if(this.DH==null)return;this.Ki.wQ(D);this.sP.wQ(D);this.Rh.wQ(D);if(D==null||D.w.length==0||D.b[D.w[0]]==null){t.ES(this.Q3,"disabled");
this.H2=null;return}else t.ad(this.Q3,"disabled");var n=D.w[0],_=D.b[n],b=D.DZ(),w=b[0],i=b[1];if(i.length!=0){var M=w[i[0]],N=M.add.vogk,a=!1;
if(N)for(var k=0;k<N.length;k++){var o=N[k].v;if(!B.dd.Zv(o))continue;a=!0;n=M.gH}}n+=","+a;if(D!=this.H2||this.aak!=n){this.H2=D;
this.aak=n;if(a)this.fv(2);else if(_.P8<1&&!_.q_||fg.get(_.add))this.fv(0);else this.fv(1)}this.vS[1].bs(this.sP.PC!=-1);
this.vS[2].bs(a)};j1.prototype.gB=function(D,n){this.Wc=D;if(this.Ki)this.Ki.gB(D,n);if(this.Rh)this.Rh.gB(D,n)};
j1.Kc=function(){cA.call(this);this.m=t.L("div","form");this.auU=new iL("Hello");this.RY=new bX([1,12,2],null,null,!0);
this.RY.m.style.ajh="right";this.RY.h("click",this.FQ,this);this.m.appendChild(this.auU.m);this.m.appendChild(this.RY.m);
this.v3=null;this.lM=null;this.H2=null;this.Wc=null;this.a3Q=-1;this.a9q=null;this.If=new hU(!0);this.If.parent=this;
this.If.h(S.E.o,this.aqz,this);this.Jk=t.L("div","marged hiline");this.Jk.appendChild(this.If.m);this.PS=new gy("GrFl",!0);
this.PS.parent=this;this.PS.h(S.E.o,this.aqC,this);this.Hq=t.L("div","marged hiline");var D="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var k=0;k<D.length;k++){var n=this.PS.Yo[D[k]].m;this.Hq.appendChild(n)}this.K4=new gy("patternFill",!0);
this.K4.parent=this;this.K4.h(S.E.o,this.a4M,this);this.Or=t.L("div","marged hiline");var D=["Ptrn","Angl","Scl","Algn","phase"];
for(var k=0;k<D.length;k++){var n=this.K4.Yo[D[k]].m;this.Or.appendChild(n)}this.NO={};for(var _ in fg.names){if(d[_]==null)continue;
this.NO[_]=new d[_];this.NO[_].h(S.E.o,this.ahw,this);this.NO[_].parent=this}var b=this.a1$=t.L("div","marged hiline");
this.Ah=new cu(0,!0);b.appendChild(this.Ah.m);this.Ah.h(S.E.o,this.T6,this);this.a3X=null;this.yZ=new e0;
this.yZ.parent=this;this.yZ.h(S.E.o,this.T6,this);b.appendChild(this.yZ.m)};j1.Kc.prototype=new cA;j1.Kc.prototype.R9=function(D,n){var _=this.NO;
for(var b in _)_[b].R9(D,n)};j1.Kc.prototype.FQ=function(D){var n=this.H2,_=n.b[n.w[0]],b=fg.get(_.add);
this.lM.f(cq.D2(b));this.ahw()};j1.Kc.prototype._=function(){for(var D in this.NO)this.NO[D]._();this.PS._();
this.K4._();this.yZ._();this.Ah._();this.RY._()};j1.Kc.prototype.T6=function(D){var n=new ho(S.E.M,!0),_=this.Ah.B(),b=this.a3X;
if(D.target==this.Ah&&_[2]==b[2]&&_[3]==b[3]){n.g=G.GZ;n.data={d:"trsl",uR:_[0]-b[0],NN:_[1]-b[1]}}else{var w=q.xR(new gl(_[0],_[1],_[2],_[3])),i=this.yZ.afo();
i.artboardRect={t:"Objc",v:w};n.g=G.vp;n.data={d:q.LX,D1:i}}this.c(n)};j1.Kc.prototype.aqz=function(D){var n=this.H2,_=n.w[0];
if(n.b[_].add.SoCo==null)return;var b=JSON.parse(JSON.stringify(n.b[_].add.SoCo));b.Clr.v=this.If.B();
this.eV({p5:1,Jh:b})};j1.Kc.prototype.aqC=function(D){var n=this.H2,_=n.w[0];if(n.b[_].add.GdFl==null)return;
this.eV({p5:2,Jh:this.PS.B()})};j1.Kc.prototype.a4M=function(D){this.eV({p5:3,Jh:this.K4.B()})};j1.Kc.prototype.eV=function(D){this.ajn(G.vp,{d:q.rb,n8:[this.H2.w[0]],eQ:!0,k:D})};
j1.Kc.prototype.ahw=function(D){this.ajn(G._x,{d:"edit_layer",k:this.lM.B()})};j1.Kc.prototype.ajn=function(D,n){var _=new ho(S.E.M,!0);
_.g=D;_.data=n;this.c(_)};j1.Kc.prototype.wQ=function(D,n){var _=io.get([0,3]),b=!1,w=null;this.H2=D;
if(D&&D.b.length>0&&D.w.length!=0&&D.b[D.w[0]]){var i=D.b[D.w[0]],M=fg.get(i.add);if(M!=null&&this.NO[M]!=null){w=this.NO[M].m;
this.lM=this.NO[M];this.NO[M].f(JSON.parse(JSON.stringify(i.add[M])));if(D.w[0]!=this.a3Q){var N=D.iS(D.w[0]-1);
this.a9q=B.ZB(N)}this.NO[M].ZQ(this.a9q);_=io.get(fg.names[M]);b=!0}if(i.add.SoCo){w=this.Jk;this.If.f(i.add.SoCo.Clr.v);
_=io.get([6,48,0,0])}if(i.add.GdFl){w=this.Hq;this.PS.update(D,i.add.GdFl);_=io.get([6,48,0,1])}if(i.add.PtFl){w=this.Or;
this.K4.update(D,i.add.PtFl);_=io.get([6,48,0,2])}if(i.add.artb){var a=i.add.artb,o=i.w3();w=this.a1$;
this.yZ.alw(a);var U=this.a3X=[o.x,o.y,o.l,o.e];this.Ah.f(U,[D.Cn,D.l,this.Wc.BE.gK]);_="Artboard"}this.a3Q=D.w[0]}if(w!=this.v3){if(this.v3)this.m.removeChild(this.v3);
if(w!=null)this.m.appendChild(w);this.v3=w}this.auU.f(_);this.RY.m.style.display=b?"":"none"};j1.Kc.prototype.gB=function(D,n){this.Wc=D;
this.PS.gB(D,n);this.K4.gB(D,n);if(n==da.Xk)this.wQ(this.H2,D);for(var _ in this.NO)this.NO[_].gB(D,n)};
j1.xI=function(){cA.call(this);this.m=t.L("div","form");this.H2=null;this.PC=0;var D=t.L("span","fitem");
this.m.appendChild(D);this.vS=[new bX([6,2]),new bX([6,3]),new bX([6,50])];for(var k=0;k<this.vS.length;
k++){var n=this.vS[k];n.h("click",this.aj8,this);D.appendChild(n.m)}this.MW=new gp([12,74],0,255);this.MW.h(S.E.o,this.bo,this);
this.m.appendChild(this.MW.m);this.Mk=new gp([7,6],0,500,"px",2,!0);this.Mk.h(S.E.o,this.bo,this);this.m.appendChild(this.Mk.m);
this.RJ=new bX([4,11],null,null,!0);this.RJ.h("click",this.aeF,this)};j1.xI.prototype=new cA;j1.xI.prototype.aeF=function(){var D=new ho(S.E.M,!0);
D.g=G._x;D.data={d:"start",IL:"nvrt"};this.c(D)};j1.xI.prototype.bo=function(D){var n=this.MW.B(),_=this.Mk.B(),b=new ho(S.E.M,!0);
b.g=G.vp;b.data={d:q.Gc,_v:this.H2.w[0],Ga:{VG:this.PC,MW:n,Mk:_}};this.c(b)};j1.xI.prototype._=function(){for(var k=0;
k<this.vS.length;k++)this.vS[k]._();this.MW._();this.Mk._();this.RJ._()};j1.xI.prototype.wQ=function(D){this.H2=D;
this.cj()};j1.xI.prototype.aj8=function(D){this.cj(this.vS.indexOf(D.currentTarget));this.parent.ae0(this.PC)};
j1.xI.prototype.cj=function(D){var n=this.H2,_=this.vS;for(var k=0;k<3;k++){var b=_[k];b.ef();b.Mf()}if(n==null||n.b.length==0||n.w.length==0||n.b[n.w[0]]==null)return;
var w=-1,i=n.b[n.w[0]];if(i.Ug()&&i.tr(n).v!=null){_[2].jZ();w=2}if(i.add.vmsk){_[1].jZ();w=1}if(i.us()){_[0].jZ();
w=0}if(D!=null)w=D;else if(i.q_)w=1;else if(i.P8==3)w=2;else if(i.P8==1)w=0;this.PC=w;if(w==-1){this.MW.Mf();
this.Mk.Mf();return}var M=i.je(w);this.MW.jZ();this.Mk.jZ();this.MW.f(M.MW);this.Mk.f(M.Mk);_[w].im();
var N=this.RJ.m;if(w==0)this.m.appendChild(N);else if(N.parentNode==this.m)this.m.removeChild(N)};j1.Vu=function(){cA.call(this);
this.m=t.L("div","form");this.tn=null;this.Wc=null;this.xe=-1;this.SM=new cu(0,!1);this.Me=new gp([12,15],-180,180,"\xB0",2);
this.es=new cu(1,!0);this.Qz=new gp([12,94,0],0,100,null,2);this.bz=new gp([12,78],3,30);this.SM.h(S.E.o,this.lN,this);
this.Me.h(S.E.o,this.lN,this);this.es.h(S.E.o,this.lN,this);this.Qz.h(S.E.o,this.lN,this);this.bz.h(S.E.o,this.lN,this)};
j1.Vu.prototype=new cA;j1.Vu.prototype._=function(){this.SM._();this.Me._();this.es._();this.Qz._();
this.bz._()};j1.Vu.prototype.lN=function(D){var n=this.tn,_=B.dd.Ng(n),b=D.target.B(),w=[this.SM,this.Me,this.es,this.Qz,this.bz].indexOf(D.target);
if(w==0){var i=[];i[0]=b[0];i[1]=b[1];i[2]=i[0]+b[2];i[3]=i[1]+b[3];b=i}if(w==1)b=b*Math.PI/180;var M={0:1,1:2,2:3,3:3,4:4}[w];
_[M]=b;var N=new ho(S.E.M,!0);N.g=G.vp;N.data={d:q.tA,k:_};this.c(N)};j1.Vu.prototype.wQ=function(D){var n=this.m;
this.tn=D;if(D==null)return;var _=this.Wc,b=[D.Cn,D.l,_.BE.gK],w=B.dd.Ng(D),i=w[0],M=w[1];if(M==null)return;
var N=i!=this.xe;this.xe=i;if(N)t.hz(n);if(N)n.appendChild(this.SM.m);if(N)n.appendChild(this.Me.m);
this.SM.f([M[0],M[1],M[2]-M[0],M[3]-M[1]],b);this.Me.f(w[2]*180/Math.PI);if(i==2){if(N)n.appendChild(this.es.m);
var a=w[3];this.es.f(a,b)}if(i==7||i==8){if(N)n.appendChild(this.Qz.m);this.Qz.f(w[3])}if(i==8){if(N)n.appendChild(this.bz.m);
this.bz.f(w[4])}};j1.Vu.prototype.gB=function(D,n){this.Wc=D;this.wQ(this.tn)};function gB(D){jF.call(this,D.name,!0);
this.ly=D;this.dO=null;this.Xe=document.createElement("canvas");this.lO=this.Xe.getContext("2d");this.LR=document.createElement("canvas");
this.pj=this.LR.getContext("2d");var n=16,_=B.U(16*16*4);B.Xj(_,n,n,8);this.Nx=B.scale.Ad(_,n,n);this.II=new eE(this.Q3);
this.II.parent=this;this.qy=0;this.a5f="";this.Xq=4}gB.prototype=new jF;gB.prototype.ag0=function(){if(this.ly.pI())return window.confirm(io.get([22,6,3])+" "+this.ly.name+". "+io.get([22,6,4]));
return!0};gB.prototype.gB=function(D,n){this.dO=D};gB.prototype.wQ=function(D){this.Rr();this.vm()};
gB.prototype.R9=function(D,n){if(D<=0||n<=0)return;this.Wj=D;this.Rw=n;var _=this.ly,b=t.F();_.s.pj.l=Math.floor(D*b);
_.s.pj.e=Math.floor(n*b);t.vb(this.LR,D,n);t.vb(this.Xe,D,n);t.vb(p.HY(),D,n);if(_.s.V==0)_.s.V=G.TY.b5(_.l,_.e,D*b,n*b);
this.vm()};gB.prototype.Rr=function(){var D=this.Q3.firstChild;if(!p.b$&&D==p.HY()||p.b$&&D==this.LR)this.Q3.removeChild(D);
var n=p.b$?p.HY():this.LR;if(!t.Pn(n))this.Q3.appendChild(n)};gB.prototype.vm=function(){if(p.b$!=this.Xq){this.qy=0;
this.a5f=""}this.Xq=p.b$;if(this.dO==null)return;if(p.b$)this.aeH();else this.Df();var D=this.ly;this.qy=D.s.V;
this.a5f=JSON.stringify(D.s.qJ)};gB.prototype.aeH=function(){if(p.b$&&gB.at$==null)gB.at$=new gB.nr(!1);
if(p.b$&&gB.alE==null)gB.alE=[new gB.nr(!0,2),new gB.nr(!0,8),new gB.nr(!0,32),new gB.nr(!0,128)];var D=this.ly,o,c=0;
if(D.Js==null)return;var n=D.s,_=n.pj.l,b=n.pj.e,w=p.aB;this.pj.clearRect(0,0,_,b);var i=this.a9D(D);
if(n.ty==null)n.ty=new p.YV(_,b);if(i)n.ty.set(this.LR);else{p.pv(n.ty);p.Ms(1)}var M=n.TO(0,0),N=new e3;
N.scale(_,b);N.concat(n.RR(!0));N.scale(1/D.l,1/D.e);var a=[N.vd,N.S,0,N.jo,N.Ww,0,N.oE,N.LE,1];if(gB.aaV==null)gB.aaV=new Float32Array(4*1024);
var U=[0,0,0,0],V=gB.aaV;if(D.add.artd){V.fill(0);U=gB.tE(D);var E=D.l,A=D.e,P=0;for(var k=0;k<D.b.length;
k++){var Q=D.b[k],J=Q.add.artb;if(J==null||!Q.h$())continue;var L=Q.w3();V[c]=L.x/E;V[c+1]=L.y/A;V[c+2]=L.l/E;
V[c+3]=L.e/A;c+=4;if(c==V.length)break}if(c>2*4)P++;if(c>8*4)P++;if(c>32*4)P++;o=gB.alE[P];V=new Float32Array(V.buffer,0,[2,8,32,128][P]*4)}else o=gB.at$;
p.zr(_,b);p.Ms(0);p.zr(_,b);o.pp();o.OF(n.ty.QI,D.Js.QI,new Float32Array(a),new Float32Array([_/8,b/8,M.x/_,M.y/b]),D.l,D.e,1/D.s.V,_,b,new Float32Array(U),V,new Float32Array(B.dl.V4(B.dl.Ag(n.qJ))));
w.drawArrays(w.TRIANGLES,0,6)};gB.tE=function(D){return[0,0,0,0]};gB.atW=function(D){var n=B.X.kj(D.v),_=[n.p/255,n.z/255,n.S/255,1];
for(var k=0;k<4;k++)_[k]=Math.min(1,_[k]);return _};gB.mx=function(D,n){var _=D[2]*255;if(p.b$)_=n?0:Math.max(1,_);
return"rgba("+D[0]*255+","+D[1]*255+","+_+","+D[3]+")"};gB.Z1=function(D){if(p.b$)for(var k=0;k<D.length;
k+=4){if(D[k+2]==0)D[k+2]=3}};gB.prototype.Df=function(){var D=this.ly;if(D.buffer==null)return;var n=D.s,_=n.pj,b=_.l,w=_.e,i=new gl(0,0,D.l,D.e);
this.lO.clearRect(0,0,b,w);this.pj.clearRect(0,0,b,w);var M=n.RR(!0),N=M.clone();N.ei();if(D.add.artd==null){this.pj.save();
var a=N.pm(new gZ(0,0));N.translate(-a.x,-a.y);this.pj.translate(Math.round(a.x),Math.round(a.y));this.pj.fillStyle=this.Nx;
this.M2(B.H.X0(i),N,this.pj);this.pj.fill();this.pj.restore()}else{this.pj.fillStyle=gB.mx(gB.tE(D));
this.pj.fillRect(0,0,b,w);this.pj.save();this.pj.setTransform(N.vd,N.S,N.jo,N.Ww,N.oE,N.LE);var o=D.root.children;
for(var k=0;k<o.length;k++){var U=o[k].i;if(U.add.artb==null||!U.h$())continue;var V=U.w3(),c=U.W9();
if(c!=0)continue;this.pj.fillStyle=this.Nx;this.pj.save();this.pj.scale(1/n.V,1/n.V);this.pj.fillRect(n.V*V.x,n.V*V.y,V.l*n.V,V.e*n.V);
this.pj.restore()}this.pj.restore()}if(n.W4.length!=_.u()){n.W4=B.U(_.u());n.Ov=B.U(_.u()*4)}n.Ov.fill(0);
B.scale.BX(D.buffer,i,M,n.Ov,_);if(n.qJ[0]+n.qJ[1]+n.qJ[2]!=3)B.dl.g8(n.Ov,n.Ov,B.dl.Ag(n.qJ));this.lO.putImageData(new ImageData(new Uint8ClampedArray(n.Ov.buffer),_.l,_.e),0,0);
this.pj.drawImage(this.Xe,0,0);this.pj.getImageData(0,0,1,1);this.a9D(D)};gB.prototype.a9D=function(D){var n=D.s,_=n.qJ[0]+n.qJ[1]+n.qJ[2],b=!1,w=[];
for(var k=0;k<D.w.length;k++){var i=D.b[D.w[k]];if(i==null)continue;var M=i.P8;if(M!=1&&M!=3)continue;
var N=M==1?i.us():i.tr(D).v;if(N.Lr)w.push(N)}for(var k=0;k<D.wK.length;k++)if(D.wK[k].Lr)w.push(D.wK[k]);
for(var k=0;k<w.length;k++){var N=w[k];this.abr(N,n,w.length==1&&_==0?2:1,N.color,N.zs);b=!0}var a=this.dO;
b=this.a2o(D,this.pj,n)||b;if(D.q&&a.QX&&a.BE.on){this.abr(D.q,n,0,0,null);b=!0}return b};gB.prototype.abr=function(D,n,_,b,w){var i=0,c,E;
if(w)i=Math.round(w.S)<<16|Math.round(w.z)<<8|Math.round(w.p);var M=n.RR(!0),N=n.pj,a=new gl(0,0,n.ly.l,n.ly.e);
if(n.W4.length!=N.u()){n.W4=B.U(N.u());n.Ov=B.U(N.u()*4)}n.W4.fill(b);n.Ov.fill(0);var o=D.channel,U=D.rect;
B.scale.A(o,U,M,n.W4,N);if(_==0)B.q.a4i(n.W4,n.Ov,N,N);else B.q.ao3(n.W4,n.Ov,N,N,_,i);gB.Z1(n.Ov);var V=new ImageData(new Uint8ClampedArray(n.Ov.buffer),N.l,N.e);
this.lO.putImageData(V,0,0);this.pj.save();if(_==0){c=N.clone();c.Iq(-1,-1);E=new e3}else{c=new gl(0,0,a.l,a.e);
E=M.clone();E.ei()}this.M2(B.H.X0(c),E,this.pj);this.pj.clip();this.pj.drawImage(this.Xe,0,0);this.pj.restore()};
gB.prototype.a2o=function(D,n,_){var b=D.D.WE!=null||D.D.oB!=null||D.D.O0!=null||D.D._H.length!=0||D.D.Tf.length!=0,w=this.dO,i=w.BE,M=bb.d6[w.$r],N=Math.round(12*t.F()),a=N/D.s.V,o=_.RR(!0);
o.ei();n.save();n.setTransform(o.vd,o.S,o.jo,o.Ww,o.oE,o.LE);if(D.add.artd){var U=gB.tE(D)[0];U=U<.5?U+.5:U-.5;
U=""+Math.round(U*255).toString(16);while(U.length<2)U="0"+U;n.fillStyle="#"+U+U+U;n.font=a+"px sans-serif";
for(var k=0;k<D.b.length;k++){var V=D.b[k];if(V.add.artb==null||!V.h$())continue;var c=V.w3();n.fillText(V.getName(),c.x+2,c.y-a*.7);
b=!0}}function E(ar){return ar==1||ar==2||ar==4||ar==5}var A=gB.mx([.1,.5,1,1]),Q=gB.mx([1,1,1,1]);if(w.QX&&i.yE){n.fillStyle=n.strokeStyle=A;
n.lineWidth=1.5/_.V;var J=D.DZ(),L=J[0],P=J[1];for(var u=0;u<P.length;u++){var V=L[P[u]],m=V.add.vmsk,x=m.Y,v=B.H.a8(x);
this.M2(v,null,n);n.stroke();b=!0;var W=3*t.F()/_.V,Z=x.length-3;for(var k=0;k<m.OJ.length;k++){var r=B.$.p1(x,m.OJ[k]);
if(r==null)continue;var X=r.x,$=r.y;n.beginPath();var T=k==0;if(m.t4)T=!T;if(T){n.moveTo(X-W,$-W);n.lineTo(X+W,$+W);
n.moveTo(X-W,$+W);n.lineTo(X+W,$-W);n.stroke()}else{n.arc(X,$,W*1,0,2*Math.PI);n.fill()}b=!0}if(D.w.length!=1)continue;
var e=-1;for(var k=0;k<x.length;k++){if(x[k].type>5)continue;if(x[k].type==0||x[k].type==3){if(x[k].gW!=-1)e++;
continue}if(m.w.indexOf(e)!=-1){var X=x[k].Z.x,$=x[k].Z.y;n.fillRect(X-W*.8,$-W*.8,2*W*.8,2*W*.8)}if(m.em.indexOf(k)!=-1){var F=x[k],y=[F.Z];
n.beginPath();n.moveTo(F.US.x,F.US.y);n.lineTo(F.Z.x,F.Z.y);n.lineTo(F.As.x,F.As.y);var h=x[k-1],Y=x[k+1];
if(h&&E(h.type)&&m.em.indexOf(k-1)==-1){n.moveTo(h.Z.x,h.Z.y);n.lineTo(h.As.x,h.As.y);y.push(h.As)}if(Y&&E(Y.type)&&m.em.indexOf(k+1)==-1){n.moveTo(Y.Z.x,Y.Z.y);
n.lineTo(Y.US.x,Y.US.y);y.push(Y.US)}n.stroke();if(!F.Z.l8(F.US))y.push(F.US);if(!F.Z.l8(F.As))y.push(F.As);
for(var K=0;K<y.length;K++){var r=y[K],X=r.x,$=r.y;if(K==0&&(F.type==2||F.type==5))n.fillRect(X-1.2*W,$-1.2*W,2.4*W,2.4*W);
else{n.beginPath();n.arc(X,$,W*1.2,0,2*Math.PI);n.fill();if(K!=0)n.fillStyle=Q;n.beginPath();n.arc(X,$,W*.8,0,2*Math.PI);
n.fill();n.fillStyle=A}}}b=!0}}}n.lineWidth=1/_.V;if(D.D.PM){n.fillStyle=n.strokeStyle=A;var Y={t:[],C:[]},z=gB.afC;
if(z==null){z=gB.afC={t:[1,0],C:["M"]};for(var k=1;k<30;k++){var f=Math.PI*2*k/30;z.t.push(Math.cos(f),Math.sin(f));
z.C.push("L")}z.C.push("Z","M","L","M","L");z.t.push(-.5,0,.5,0,0,-.5,0,.5)}for(var k=0;k<D.D.PM.length;
k++){var h=G.a9.nF(D.D.PM[k],_),s=new e3(h[0],0,0,h[0],h[1],h[2]);B.H.concat(Y,z,s)}this.M2(Y,null,n);
n.stroke();b=!0}n.fillStyle=n.strokeStyle=gB.mx([0,0,0,1],!0);var l=new e3(1,0,0,1,.5/_.V,.5/_.V);if(D.D.WE){this.M2(D.D.WE,null,n);
n.fill()}if(D.D.oB){this.M2(D.D.oB,l,n);n.stroke()}for(var g in D.D.qZ)if(D.D.qZ[g].oB){this.M2(D.D.qZ[g].oB,null,n);
n.stroke();b=!0}n.beginPath();var W=(4*t.F()+.5)/_.V,H=D.D.zc;for(var k=0;k<H.length;k+=2){b=!0;var X=H[k],$=H[k+1];
n.rect(X-W,$-W,2*W,2*W)}n.stroke();var H=D.D.ag4;n.beginPath();var W=4*t.F()/_.V;for(var k=0;k<H.length;
k+=2){b=!0;var X=H[k],$=H[k+1];n.moveTo(X+W,$);n.arc(X,$,W,0,2*Math.PI)}n.fill();var H=D.D.Ek;n.fillStyle=gB.mx([1,1,1,1]);
n.beginPath();var W=6*t.F()/_.V;for(var k=0;k<H.length;k+=2){b=!0;var X=H[k],$=H[k+1];n.moveTo(X+W,$);
n.arc(X,$,W,0,2*Math.PI)}n.fill();var W=4*t.F()/_.V;for(var k=0;k<H.length;k+=2){b=!0;var X=H[k],$=H[k+1];
n.fillStyle=gB.mx(D.D.JR.indexOf(k>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);n.beginPath();n.moveTo(X+W,$);n.arc(X,$,W,0,2*Math.PI);
n.fill()}if(D.D._H.length!=0){for(var k=0;k<D.D._H.length;k++){var O=D.D._H[k],C=O[1];n.putImageData(new ImageData(new Uint8ClampedArray(O[0].buffer),C.l,C.e),C.x,C.y)}}var ib=.5/_.V;
n.lineWidth=1/_.V;if(D.D.yt){b=!0;var hH=D.D.yt,R=hH.L9,v={C:[],t:[]};for(var k=0;k<hH.FL.length;k++)B.H.concat(v,B.H.X0(hH.FL[k]));
v.t=v.t.concat(R);for(var k=0;k<R.length;k+=4){v.C.push("M","L")}for(var k=0;k<v.t.length;k++){v.t[k]+=ib}n.strokeStyle=gB.mx([.9,.2,.2,1]);
this.M2(v,null,n);n.stroke();var fR=t.F(),j4=2/_.V;n.font=a*.9+"px sans-serif";for(var k=0;k<R.length;
k+=4){var X=R[k],$=R[k+1],cP=R[k+2],a8=R[k+3],d0=Math.sqrt((a8-$)*(a8-$)+(cP-X)*(cP-X));d0=B.Hj.Yh(d0,D.Cn,w,$==a8?D.l:D.e);
var b9=new gZ((X+cP)/2,($+a8)/2);n.fillStyle=gB.mx([.9,.2,.2,1]);var jG=n.measureText(d0).width;n.fillRect(b9.x-jG/2-j4*fR,b9.y-3.5*j4*fR,jG+2*j4*fR,7*j4*fR);
n.fillStyle=gB.mx([1,1,1,1]);n.save();n.translate(b9.x-jG/2,b9.y+2*j4*fR);n.scale(.1,.1);n.font=a*9+"px sans-serif";
n.fillText(d0,0,0);n.restore()}}if(w.QX){if(i.sM){var jP=B.Hj.K9(i.L$,D.Cn,D.l,i.th),aq=jP;if(i.th==4)aq*=D.e/D.l;
this.Xj(D,n,jP,aq,1,i.co);b=!0}if(i.mK&&D.s.V>7){this.Xj(D,n,1,1,.5,i.co);b=!0}if(i.eu){var gM=D.l$(),gv=D.Mg(),dT=Math.max(D.s.pj.l,D.s.pj.e)/D.s.V;
dT=Math.max(Math.max(D.l,D.e)*2,dT);n.beginPath();n.strokeStyle=gB.mx([0,1,1,1]);for(var k=0;k<gM[0].length;
k++){var aC=gM[0][k],c1=gM[1][k];if(c1!=-1&&c1!=gv)continue;var aj=_.TO(aC[1],aC[1]),bD=_.it(Math.floor(aj.x)+.5,Math.floor(aj.y)+.5);
if(aC[0]==0){var cy=bD.x;n.moveTo(cy,-dT);n.lineTo(cy,dT)}else{var co=bD.x;n.moveTo(-dT,co);n.lineTo(dT,co)}b=!0}n.stroke()}var hV=D.wX;
if(i.wX&&hV.length!=0){n.font=a*.8+"px sans-serif";var il=[],h6=[];for(var k=0;k<hV.length;k++){var c8=G.dL.v0(hV,k);
il.push(c8);if(D.GM.indexOf(k)!=-1)h6.push(c8)}il.reverse();var fx=Date.now();il=B.rect.ee([0,0,D.l,D.e],il);
for(var K=0;K<2;K++)for(var k=0;k<il.length;k++){var bU=il[k],e=bU[4],b6=e!=null?hV[e]:null;if(b6&&K==0||b6==null&&K==1)continue;
var X=Math.round(bU[0]),$=Math.round(bU[1]),cP=Math.round(bU[2]),a8=Math.round(bU[3]);n.strokeStyle=n.fillStyle=gB.mx(b6?[0,.7,.7,1]:[.8,.8,.8,1]);
n.strokeRect(X+ib,$+ib,cP-X,a8-$);var iF=k+1,dY=n.measureText(iF),jG=dY.width;n.fillRect(X,$,jG+a/2,a);
n.fillStyle=gB.mx([1,1,1,1]);n.fillText(iF,X+a/4,$+a*.8)}var j4=2/D.s.V,bl=2*j4;for(var k=0;k<h6.length;
k++){var bU=h6[k],X=Math.round(bU[0]),$=Math.round(bU[1]),cP=Math.round(bU[2]),a8=Math.round(bU[3]);
n.strokeStyle=n.fillStyle=gB.mx([1,.6,0,1]);n.strokeRect(X+ib,$+ib,cP-X,a8-$);var dc=[X,$,cP,$,cP,a8,X,a8];
for(var hN=0;hN<dc.length;hN+=2){var cy=dc[hN],co=dc[hN+1],ga=dc[hN+2&7],b1=dc[hN+3&7];n.fillRect(cy-j4,co-j4,bl,bl);
n.fillRect(Math.round((cy+ga)/2)-j4,Math.round((co+b1)/2)-j4,bl,bl)}}b=!0}var fc=D.add.Anno;if(fc&&fc.length!=0)for(var k=0;
k<fc.length;k++){var h9=fc[k],cB=h9[2],cy=h9[0]-ib,co=h9[1]-ib,bl=30/_.O8,bp=.4*bl,eK=.6*bl;n.beginPath();
n.moveTo(cy,co+eK);n.lineTo(cy,co);n.lineTo(cy+bl,co);n.lineTo(cy+bl,co+bl);n.lineTo(cy+bp,co+bl);n.closePath();
n.lineTo(cy+bp,co+eK);n.lineTo(cy+bp,co+bl);if(k==D.s.$m){n.lineWidth*=5;n.strokeStyle=gB.mx([0,0,0,.5]);
n.stroke();n.lineWidth/=5}n.fillStyle=gB.mx([cB.p/255,cB.z/255,cB.S/255,1]);n.fill();n.strokeStyle=gB.mx([0,0,0,1]);
n.stroke()}}n.strokeStyle=gB.mx([1,0,0,1]);if(D.D.O0){this.M2(D.D.O0,l,n);n.stroke()}n.restore();if(w.N3){if(D.s.Fv==null||D.s.Fv.width!=D.s.pj.l||D.s.DM.height!=D.s.pj.e){D.s.Fv=n.createImageData(D.s.pj.l,B.Hj.CI);
D.s.DM=n.createImageData(B.Hj.CI,D.s.pj.e)}var M=bb.d6[w.$r],fm=0,fG=0,ia=D.l,iz=D.e;if(D.Mg()!=-1){var c=D.b[D.Mg()].w3();
fm=c.x;fG=c.y;ia=c.l;iz=c.e}fm*=_.V;fG*=_.V;var _=D.s,gG=[1,D.Cn,D.Cn/2.54,D.Cn/25.4,ia/100][i.gK],eA=_.V*D.l/2,d3=_.V*D.e/2,cY=[_.V*gG,new gZ(_.r.x+(fm+eA*gG-eA),_.r.y+(fG+d3*gG-d3))];
if(i.gK==4)gG*=iz/ia;var ch=[_.V*gG,new gZ(_.r.x+(fm+eA*gG-eA),_.r.y+(fG+d3*gG-d3))],fS=this.II.yF;B.Hj.ar8(_,M["--text-color"],M["--bg-input"],Math.floor(fS.x),Math.floor(fS.y),cY,ch);
var fy=ax.a0C(_.V,gB.mx([1,1,1,1]));gB.Z1(D.s.DM.data);gB.Z1(D.s.Fv.data);n.putImageData(D.s.DM,0,0);
n.putImageData(D.s.Fv,0,0);n.putImageData(fy,0,D.s.pj.e-fy.height)}if(D.D.Tf.length!=0){for(var k=0;
k<D.D.Tf.length;k++){var O=D.D.Tf[k],C=O[1];n.putImageData(new ImageData(new Uint8ClampedArray(O[0].buffer),C.l,C.e),C.x,C.y)}}return b||w.N3};
gB.prototype.Xj=function(D,n,_,b,w,i){while(_*D.s.V<4){_*=2;b*=2}var M=D.l,N=D.e,a=.5/D.s.V;n.strokeStyle=gB.mx([.5,.5,.5,w],!0);
n.save();n.rect(0,0,M,N);n.clip();n.beginPath();for(var o=0;o<=M;o+=_){n.moveTo(o+a,0);n.lineTo(o+a,N)}if(i==0){for(var U=0;
U<=N;U+=b){n.moveTo(0,U+a);n.lineTo(M,U+a)}}else{b*=Math.sqrt(4/3);var V=b*Math.floor(M/b),c=M*(b/(2*_));
for(var U=-V;U<=N+V;U+=b){n.moveTo(0,U);n.lineTo(M,U-c);n.moveTo(0,U);n.lineTo(M,U+c)}}n.stroke();n.restore()};
gB.prototype.M2=function(D,n,_){_.beginPath();var b=B.H.clone(D);if(n)B.H.A(b.t,n,b.t);Typr.U.pathToContext({cmds:b.C,crds:b.t},_)};
gB.nr=function(D,n){p.f5.call(this);this.a7t=D;var _="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(D?"uniform vec4 bgClr;  uniform vec4 ars["+n+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+p.Lb.jG+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(D?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+n+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",b="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.zJ(_,b)};gB.nr.prototype=new p.f5;gB.nr.prototype.OF=function(D,n,_,b,w,i,M,N,a,o,U,V){this.li("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var c=p.aB,E=this.l7;c.uniformMatrix3fv(E.tmat,!1,_);c.uniform4fv(E.gsize,b);c.uniform3f(E.contSizeZoom,w,i,M);
c.uniform2f(E.cnvSize,N,a);c.uniformMatrix4fv(E.ctrn,!1,V);if(this.a7t){c.uniform4fv(E.ars,U);c.uniform4fv(E.bgClr,o)}c.uniform1i(E.source,0);
c.uniform1i(E.target,1);c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,D);c.activeTexture(c.TEXTURE1);
c.bindTexture(c.TEXTURE_2D,n);c.activeTexture(c.TEXTURE0)};function ge(){jF.call(this,[9,7],!1,"---panels/layercomps",jF.pk.aeg);
this.Q3.setAttribute("style","min-width:240px;");this.H2=null;this.FE=-1;this.aoO=[];this.YD=t.L("div","scrollable");
this.YD.style.height="160px";this.Q3.appendChild(this.YD);this.YY=t.L("div","lpfoot");this.Q3.appendChild(this.YY);
this.Dg=[];var D=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],n=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var k=0;k<D.length;k++){var _=D[k];if(k>0)_="<img src=\""+PIMG[D[k]]+"\" class=\"gsicon\" />";var b=new bX(_,!1,n[k]);
b.h("click",this.a2d,this);this.YY.appendChild(b.m);this.Dg.push(b)}}ge.prototype=new jF("");ge.prototype.R9=function(D,n){this.Q3.setAttribute("style","width:"+(D-2)+"px;");
this.YD.style.height=n-28+"px"};ge.prototype.Y6=function(D){var n=new ho(S.E.M,!0);n.data=D;n.g=G.Q0;
this.c(n)};ge.afZ="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
ge.prototype.a2d=function(D){var k=this.Dg.indexOf(D.currentTarget)-1;if(k==-1){var n=new ho(S.E.W,!0);
n.data={d:S.J.gX,IU:ge.afZ};this.c(n);return}if(k!=1)if(this.FE==-1)return;this.Y6({d:["updLC","addLC","delLC"][k],gH:this.FE});
if(k==2)this.FE=-1};ge.prototype._=function(){jF.prototype._.call(this);for(var k=0;k<this.Dg.length;
k++)this.Dg[k]._()};ge.prototype.wQ=function(D){if(D==null)t.ES(this.Q3,"disabled");else t.ad(this.Q3,"disabled");
this.H2=D;t.hz(this.YD);if(D==null)return;var n=D.Co.lastAppliedComp?D.Co.lastAppliedComp.v:0,_=D.Co.list.v.slice(0);
_.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var k=0;k<_.length;
k++){var b=_[k].v,w=new eb(b.Nm.v,b.compID.v,b.capturedInfo.v,n,this.FE);w.h("activate",this.e1,this);
w.parent=this;this.YD.appendChild(w.m);this.aoO.push(w)}};ge.prototype.e1=function(D){this.FE=D.currentTarget.gH;
this.wQ(this.H2)};function eb(D,k,n,_,b){cA.call(this);this.gH=k;this.m=t.L("div","head listitem"+(k==b?" selected":""));
var w=k==_,i=new bX(w?"\u2713":"\u2014");if(w)i.im();this.m.appendChild(i.m);i.h("click",this.qb,this);
var M=this.WY=t.L("span");M.textContent=D;this.m.appendChild(M);this.Dg=[];if(k!=0){this.m.addEventListener("mouseup",this.e1.bind(this),!1);
this.af9=t.L("span","headR");this.m.appendChild(this.af9);var N=["lrs/eye","pos","lrs/fx"],a=["Visibility","Position","Appearance"];
for(var o=0;o<N.length;o++){var U=new bX("<img src=\""+PIMG[N[o]]+"\" class=\"autoscale gsicon\" />",!1,a[o]);
if((n>>o&1)==0)U.m.setAttribute("style","opacity:0.3");U.h("click",this.aom,this);this.af9.appendChild(U.m);
this.Dg.push(U)}}}eb.prototype=new cA;eb.prototype.e1=function(D){if(D.target!=this.WY&&D.target!=this.m)return;
if(D.detail==1)this.c(new ho("activate",!1));else{var n=new jF.Kw(this.WY,this.tv.bind(this))}};eb.prototype.aom=function(D){var k=this.Dg.indexOf(D.currentTarget);
this.Y6({d:"editLC",ap8:k,gH:this.gH})};eb.prototype.tv=function(D){this.Y6({d:"editLC",ap:D,gH:this.gH})};
eb.prototype.qb=function(D){this.Y6({d:"setLC",gH:this.gH})};eb.prototype.Y6=function(D){var n=new ho(S.E.M,!0);
n.data=D;n.g=G.Q0;this.c(n)};function f9(){jF.call(this,[9,11],!1,"---panels/navigator",jF.pk.arl);var D=t.L("div","padded");
D.setAttribute("style","min-width:15em");this.Q3.appendChild(D);var n=t.L("div");D.appendChild(n);n.setAttribute("style","cursor:grab;");
this.O=t.L("canvas");this.O.width=100;n.appendChild(this.O);t.zk(this.O);t.cc(this.O,this.Qp.bind(this));
this.uy=new d4(null,2,6400,"%",null,!0);this.uy.h(S.E.o,this.a5H,this);D.appendChild(this.uy.m);this.a1i=this.Og.bind(this);
this.aks=this.go.bind(this);this.tn=null}f9.prototype=new jF("");f9.prototype.R9=function(D,n){this.vm()};
f9.prototype.a5H=function(D){var n=this.uy.B(),_=this.tn,b=n/100;if(.8<b&&b<1.2)b=1;else if(1.8<b)b=Math.round(b);
var w=new ho(S.E.M,!0);w.g=G.TS;w.data={d:"zoom",V:b};this.c(w)};f9.prototype.Qp=function(D){if(this.tn==null)return;
t.YP(window,this.a1i);t.Gv(window,this.aks)};f9.prototype.Og=function(D){var n=t.Wt(D,this.O),_=this.tn,b=this.O.width,w=this.O.height,i=(n.x*t.F()-b/2)/b,M=(n.y*t.F()-w/2)/w,N=t.F()*_.s.V,a=Math.round(-_.s.V*_.l*i),o=Math.round(-_.s.V*_.e*M);
G.Gq.XM(_,a,o)};f9.prototype.go=function(D){t.yT(window,this.a1i);t.pz(window,this.aks)};f9.prototype.wQ=function(D){if(D==null&&this.tn!=null)this.O.width=100;
this.tn=D;this.vm()};f9.prototype.vm=function(){var D=this.tn,b=0;if(D==null||D.s.V==0)return;var n=D.s;
if(!t.Pn(this.Q3))return;this.uy.f(n.V*100);var _=300*t.F(),w=[D.iS(),new gl(0,0,D.l,D.e)];B.Cy(w);while(Math.max(w[b+1].l,w[b+1].e)>_){b+=2}var i=w[b],M=w[b+1],N=M.l,a=M.e,o=this.O;
o.width=N;o.height=a;t.hB(o,N,a);var U=o.getContext("2d"),V=U.createImageData(N,a);B.nb(i,V.data);U.putImageData(V,0,0);
var c=n.pj,E=n.it(c.x,c.y),A=n.it(c.x+c.l,c.y+c.e),Q=N/D.l;U.scale(Q,Q);U.lineWidth=4/Q;U.strokeStyle="#ff0000";
U.strokeRect(E.x,E.y,A.x-E.x,A.y-E.y)};f9.prototype.gB=function(D,n){};f9.prototype.Rr=function(){this.vm()};
function jO(D,n){if(D==null){jF.call(this);return}jF.call(this,D.name,!1,D.icon,n);var _=this.gC=t.L("iframe");
_.setAttribute("src",D.url);_.setAttribute("style","width:"+D.width+"px; height:"+D.height+"px");this.Q3.appendChild(_)}jO.prototype=new jF("");
jO.prototype.k6=function(D){if(t.Pn(this.gC))this.gC.contentWindow.postMessage(D,"*")};jO.prototype.R9=function(D,n){this.gC.setAttribute("style","width:"+D+"px; height:"+n+"px")};
function g2(){jF.call(this,[9,12],!1,"---panels/tpreset",jF.pk.Nu);this.Wc=null;this.jh=new hD(G.hP);
this.jh.parent=this;var D=t.L("div","padded");D.setAttribute("style","width:20em");this.Q3.appendChild(D);
D.appendChild(this.jh.I2)}g2.prototype=new jF("");g2.prototype.Rr=function(){this.jh.Gx(this.Wc.lA)};
g2.prototype.gB=function(D,n){this.Wc=D;if(n==da.XS||n==da.Nu)this.jh.Gx(D.lA)};g2.prototype.R9=function(D,n){this.jh.atR(this.Wc.ey)};
g2.prototype._=function(){jF.prototype._.call(this);this.jh._()};var aZ=function(){var D=[],n=null,_=null,b=null,w=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function i(){jF.call(this,"Memory",!1,null,jF.pk.au0);var c=t.L("div","padded");this.Q3.appendChild(c);
_=new bX(["<< VAR0",[0,13,2]],!1,null,!0);_.addEventListener("click",function(E){D.pop();N()});c.appendChild(_.m);
n=t.L("div","scrollable");n.setAttribute("style","width:20em;  height:26em; margin-top:8px;");c.appendChild(n)}i.prototype=new jF("");
i.prototype.wQ=function(c,E,A){b=E;this.Rr()};i.prototype.Rr=function(){_.bs(!1);if(!t.Pn(n))return;
var c={Tz:"Total:",$q:[]};for(var k=0;k<b.length;k++)c.$q.push(o(b[k]));V(c);D=[c];N()};i.prototype._=function(){jF.prototype._.call(this);
_._()};function M(c){var E=c.currentTarget,k=0;while((E=E.previousSibling)!=null)k++;D.push(D[D.length-1].$q[k-1]);
N()}function N(){_.bs(D.length>1);var c=D[D.length-1];t.hz(n);a(c,n,0);c.$q.sort(function(E,A){return A.c3[0]-E.c3[0]});
for(var k=0;k<c.$q.length;k++)a(c.$q[k],n,1)}function a(c,E,A){var Q=bM.ga,J=A!=0&&c.$q,L="margin-left:"+A*10+"px; margin-bottom:8px; padding:3px 5px;";
if(J)L+="cursor:pointer;";if(c.MJ!=null)L+="background-color:rgba("+w[c.MJ].join(",")+",0.2);";var P=t.L("div");
E.appendChild(P);P.setAttribute("style",L);P.innerHTML=t.xb(c.Tz)+"<br />"+"RAM: <b>"+Q(c.c3[0])+"</b>\u2001GPU: <b>"+Q(c.c3[1])+"</b>";
if(J)P.addEventListener("click",M,!1)}function o(c){var E={Tz:c.name,$q:[],MJ:0},A=p.b$?1:0,Q=1-A,J={Tz:"Final Image",c3:[c.l*c.e*4,A*c.l*c.e*4],MJ:2};
E.$q.push(J);for(var k=0;k<c.b.length;k++){var L=U(c.b[k]);if(L.$q.length!=0)E.$q.push(L)}var P=c.add.lnk2;
if(P)for(var k=0;k<P.length;k++){var L=P[k],u={Tz:L.UP,$q:[],MJ:4},m=0;u.$q.push({Tz:"Raw file",c3:[L.raw.length,0]});
if(L.Gj)for(var x=0;x<L.Gj.length;x+=2)m+=L.Gj[x].length;if(m!=0)u.$q.push({Tz:"Decoded pixels",c3:[m,0]});
V(u);E.$q.push(u)}V(E);return E}function U(c){var E={Tz:c.getName(),$q:[],MJ:1},A=p.b$?1:0,Q=1-A,J=c.rect.u();
if(J!=0)E.$q.push({Tz:"Layer pixels",c3:[J*4,A*J*4]});if(c.add.lmfx&&c.kz.Qj.type){var L=c.kz.Qj.type,x=0;
for(var P in L){var u=0;for(var m=0;m<L[P].length;m++)if(P=="ebbl"){if(L[P][m].kP)u+=L[P][m].kP.qW.u();
if(L[P][m].d1)u+=L[P][m].d1.qW.u();if(L[P][m].ex)u+=L[P][m].ex.qW.u();if(L[P][m].js)u+=L[P][m].js.qW.u()}else u+=L[P][m].qW.u();
if(u!=0)E.$q.push({Tz:io.get(ci.names[ci.order.indexOf(P)]),c3:[Q*u*4,A*u*4],MJ:3})}if(c.kz.YU)x+=J;
if(c.kz.bG)x+=J;if(c.kz.o3)x+=J;if(c.kz.o3)x+=J;if(c.kz.aD)x+=J;if(c.kz.bt)x+=J;var v=c.kz.xr?c.kz.xr.length:0;
if(x+v!=0)E.$q.push({Tz:"Additional Blending Data",c3:[Q*x*4+v,A*x*4]})}var W=c.us(),Z=W?W.rect.u():0;
if(Z!=0){E.$q.push({Tz:"Raster Mask",c3:[Z,0]})}var W=c.add.vmsk,Z=W&&W.dn?W.dn.rect.u():0;if(Z!=0){E.$q.push({Tz:"Vector Mask",c3:[Z,0]})}V(E);
return E}function V(c){c.c3=[0,0];for(var k=0;k<c.$q.length;k++){c.c3[0]+=c.$q[k].c3[0];c.c3[1]+=c.$q[k].c3[1]}}return i}();
function fn(){jF.call(this,[9,14],!1,null,jF.pk.al3);this.Q3.setAttribute("style","min-width:240px;");
var D=t.L("div","padded");this.Q3.appendChild(D);this.oP=new gH("Author");D.appendChild(this.oP.m);this.dE=t.L("textarea");
t.pw(this.dE);D.appendChild(this.dE);var n=new bX("<<",null,null,!0);D.appendChild(n.m);this.akX=n;var _=new bX(">>",null,null,!0);
D.appendChild(_.m);n.h("click",this.Gm,this);_.h("click",this.Gm,this);var b=this.ak6=new iL("");D.appendChild(b.m)}fn.prototype=new jF("");
fn.prototype.Gm=function(D){var n=D.target==this.akX?-1:1,_=this.tn,b=_.add.Anno,w=b.length,i=_.s.$m;
_.s.$m=(i+n+w)%w;_.lP=!0;this.vm()};fn.prototype.vm=function(){var D=this.tn;if(D==null)return;var n=D.add.Anno;
if(n==null||n.length==0)return;var _=D.s.$m,b=n[_];this.dE.value=b[4];this.ak6.f(_+1+" / "+n.length);
this.oP.f(b[3])};fn.prototype.R9=function(D,n){if(this.Wj==D)return;this.Wj=D;n=Math.min(n,200);this.dE.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(D-10)+"px; height:"+(n-66)+"px")};
fn.prototype.wQ=function(D,n,_){this.tn=D;this.vm()};function i$(){cA.call(this);this.g=0;this.h7=null;
this.m=t.L("div","toolconf");this.jh=null;this.r_=null;this.body=new t.L("div","body")}i$.prototype=new cA;
i$.prototype.a8n=function(D,n){this.g=D;this.h7=n;if(G.Jt[D]){var _=this.jh=new hD(D);this.m.appendChild(_.m);
_.parent=this}else{this.r_=t.L("div");this.m.appendChild(this.r_)}this.m.appendChild(this.body);this._()};
i$.prototype.alT=function(D,n){};i$.prototype.aoV=function(D){};i$.prototype.gB=function(D,n){if(n==da.XS||n==da.Nu)if(this.jh)this.jh.Gx(D.lA)};
i$.prototype._m=function(D){};i$.prototype._=function(){if(this.jh)this.jh._();else this.r_.innerHTML=t.ct(this.h7,null,"toolicon");
this.uG()};i$.prototype.uG=function(){};function gf(){i$.call(this);this.yZ=new e0;this.yZ.h(S.E.o,this.T6,this);
this.body.appendChild(this.yZ.m)}gf.prototype=new i$;gf.prototype.uG=function(){this.yZ._()};gf.prototype.T6=function(D){var n=new ho(S.E.W,!0);
n.data={d:S.J.Lv,g:this.g,hy:this.yZ.afo()};this.c(n)};gf.prototype._m=function(D){this.yZ.alw(D.Bl)};
function cl(D){i$.call(this);if(D==null)return;this.Wc=null;this.X5={};if(D.indexOf("brush")!=-1&&D.indexOf("prsr")==-1)D.push("prsr");
for(var k=0;k<D.length;k++){var n=D[k],_=null;if(n=="brush"){_=new jW}if(n=="bmode"){_=new iw([12,19,0],jz.BP,!1,jz.Fk)}if(n=="bmode0"){_=new iw([12,19,0],jz.BP.slice(23),!1)}if(n=="emode"){_=new iw([12,36],[[9,3],[10,38]])}if(n=="opacity"){_=new fh([12,0],0,100,"%");
_.f(100)}if(n=="flow"){_=new fh([12,63],0,100,"%");_.f(100)}if(n=="smth"){_=new fh([19,3,0],0,100,"%");
_.f(0)}if(n=="samp"){_=new iw([12,36],[[12,25,4],[12,25,5],[12,46]])}if(n=="wconf"){_=new aA;_.f([40,!0,!0])}if(n=="sall"){_=new dE([12,25,2])}if(n=="strn"){_=new fh([12,64],1,100,"%");
_.f(50)}if(n=="smode"){_=new iw([12,36],[[19,7,0],[19,7,1]]);_.f(1)}if(n=="pdetail"){_=new dE([12,65]);
_.im()}if(n=="rng"){_=new iw([12,12],[[19,6,0],[19,6,1],[19,6,2]]);_.f(1)}if(n=="expo"){_=new fh([12,5],0,100,"%");
_.f(50)}if(n=="algnd"){_=new dE([12,75]);_.f(!1)}if(n=="sfrom"){_=new iw([12,70],[[17,1],[17,3],[17,0]])}if(n=="alt"){_=new i5(null,["Alt"],!0,["Select Source"])}if(n=="qsmode"){_=new aN([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(n=="redge"){_=new bX([7,11],!1,null,!0)}if(n=="setop"){_=new eD}if(n=="patch"){_=new aN(null,[[12,70],[12,71]])}if(n=="prsr"){_=new i5(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
_.f([!1,!1])}_.parent=this;this.body.appendChild(_.m);this.X5[n]=_;if(n=="brush")_.h(S.E.o,this.auL,this);
else if(n=="redge")_.h("click",this.yI,this);else _.h(S.E.o,this.Kt,this)}}cl.prototype=new i$;cl.prototype.alT=function(D,n){D=D[1];
var _=this.X5;if(D.Md)_.bmode.f(jz.t7.indexOf(D.Md.v.BlnM));if(D.Opct)_.opacity.f(D.Opct.v);if(D.flow)_.flow.f(D.flow.v);
if(D.Brsh)_.brush.f(D,n.LF.Nb,n.LF.bn);if(D.FrgC){var b=B.X.kj(D.FrgC.v),w=new ho(S.E.W,!0);w.data={d:S.J.VS,hy:da.dJ,_c:0,k:b.p<<16|b.z<<8|b.S};
this.c(w)}this.auL();this.Kt()};cl.prototype.aoV=function(){if(G.Jt[this.g]==null)return null;var D=this.X5,n=JSON.parse(JSON.stringify(D.brush.B()));
n.classID=G.Jt[this.g][1][0];if(D.bmode)n.Md={t:"enum",v:{BlnM:jz.t7[D.bmode.B()]}};if(D.opacity)n.Opct={t:"long",v:D.opacity.B()};
if(D.flow)n.flow={t:"long",v:D.flow.B()};var _=this.Wc.EH;_={p:_>>>16,z:_>>>8&255,S:_&255};n.FrgC={t:"Objc",v:B.X.Ea(_)};
return["Brush Preset "+n.Brsh.v.Dmtr.v.val,n]};cl.prototype.yI=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.a_,Lt:"redge"};
this.c(D)};cl.prototype.uG=function(){for(var D in this.X5)this.X5[D]._()};cl.prototype._m=function(D){if(D.a1f=="showBrushOpts"){this.X5.brush.apX(D.RX.x,D.RX.y)}for(var n in D.TK){var _=D.TK[n];
if(n!="qsmode")_*=100;if(this.X5[n])this.X5[n].f(_)}};cl.prototype.gB=function(D,n){i$.prototype.gB.call(this,D,n);
this.Wc=D;var _=this.X5.brush;if(_==null)return;if(n==da.XS||n==da.hP)_.Gx(D.LF);if(n==da.nQ){_.f(D.LF.fd,D.LF.Nb,D.LF.bn)}};
cl.prototype.auL=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.VS,hy:da.nQ,Gu:this.X5.brush.B()};this.c(D)};
cl.prototype.Kt=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.Lv,g:this.g};for(var n in this.X5){if(n=="brush"||n=="redge")continue;
var _=this.X5[n].B();if(["opacity","flow","smth","strn","expo"].indexOf(n)!=-1)D.data[n]=_/100;else if(n=="bmode")D.data.bmode=jz._w[_];
else if(n=="bmode0")D.data.bmode=jz._w[23+_];else D.data[n]=_}this.c(D)};function i_(D,n){i$.call(this);
if(D)return;this.X5={};for(var k=0;k<n.length;k++){var _=n[k],b=null;if(_=="binop")b=new eD;if(_=="feat"){b=new fh([7,6],0,100,"px");
b.f(0)}if(_=="redge")b=new bX([7,11],!1,null,!0);if(_=="wconf")b=new aA;if(_=="cstr")b=new cH;if(_=="anta"){b=new dE([12,25,1]);
b.f(!0)}if(_=="sall")b=new dE([12,25,2]);if(_=="redge")b.h("click",this.yI,this);else b.h(S.E.o,this.Kt,this);
b.parent=this;this.body.appendChild(b.m);this.X5[_]=b}}i_.prototype=new i$;i_.prototype._m=function(D){if(D.Rn!=null)this.X5.binop.f(D.Rn);
else if(D.zm){for(var n in D.zm)if(this.X5[n])this.X5[n].f(D.zm[n])}else{var _=i_.gt;if(_==null){var b=cp.agm(!0);
_=i_.gt=new gN(b.items,b.LW)}_._();_.parent=this;_.update(D.zF,D.dO);var w=new ho(S.E.W,!0);w.data={d:S.J.Td,Vl:_,x:D.Xd.oh+2,y:D.Xd.aK+1};
this.c(w)}};i_.prototype.uG=function(){for(var D in this.X5)this.X5[D]._()};i_.prototype.yI=function(){var D=new ho(S.E.W,!0);
D.data={d:S.J.a_,Lt:"redge"};this.c(D)};i_.prototype.Kt=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.Lv,g:this.g,zm:{}};
for(var n in this.X5)D.data.zm[n]=this.X5[n].B();this.c(D)};function dv(){cl.call(this,["brush","strn"])}dv.prototype=new cl;
function iA(){cl.call(this,"brush bmode opacity flow smth prsr".split(" "))}iA.prototype=new cl;function aQ(){cl.call(this,["brush","bmode0","samp","wconf"])}aQ.prototype=new cl;
function a7(){cl.call(this,["brush"])}a7.prototype=new cl;function cJ(){cl.call(this,["brush","bmode","opacity","smth","prsr"])}cJ.prototype=new cl;
function hX(){cl.call(this,["brush","rng","expo"])}hX.prototype=new cl;function dS(){cl.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}dS.prototype=new cl;
function h_(D){i$.call(this);if(D==null)return;var n=t.L("span","fitem");this.body.appendChild(n);var _=[[17,0],[17,1],[11,12,0],[17,2]];
this.vS=[];for(var k=0;k<_.length;k++){var b=new bX(_[k],!1,null,!0);this.vS.push(b);b.h("click",this.ar2,this);
if(!D||k==1)n.appendChild(b.m)}this.E7=new cH;this.E7.h(S.E.o,this.anF,this);if(!D)this.body.appendChild(this.E7.m);
this.bY=new bX([15,7,6],!1,null,!0);this.bY.h("click",this.ar2,this);if(!D)this.body.appendChild(this.bY.m);
this.Wm=new dE([15,7,10]);this.Wm.h(S.E.o,this.anF,this);if(!D)this.body.appendChild(this.Wm.m);this.eN=new he;
this.eN.h("click",this.bQ,this)}h_.prototype=new i$;h_.prototype.uG=function(){this.eN._();for(var k=0;
k<this.vS.length;k++)this.vS[k]._();this.E7._();this.Wm._();this.bY._()};h_.prototype._m=function(D){var n=this.eN.m;
if(D.Jo)this.body.appendChild(n);else if(this.body.contains(n))this.body.removeChild(n);if(D.E7)this.E7.f(D.E7)};
h_.prototype.bQ=function(D){var n={d:S.J.Lv,g:this.g,Ed:this.eN.B()?"commit":"cancel"},_=new ho(S.E.W,!0);
_.data=n;this.c(_)};h_.prototype.ar2=function(D){D.target.m.blur();var n={d:S.J.Lv,g:this.g,Ed:"cropby",aqe:this.vS.indexOf(D.target)};
if(D.target==this.bY)n.Ed="straighten";var _=new ho(S.E.W,!0);_.data=n;this.c(_)};h_.prototype.anF=function(D){var n={d:S.J.Lv,g:this.g,Ed:"config",kC:{$w:this.E7.B(),VE:this.Wm.B()},anw:D.target==this.E7},_=new ho(S.E.W,!0);
_.data=n;this.c(_)};function fC(){h_.call(this,!1)}fC.prototype=new h_;function aI(){h_.call(this,!0)}aI.prototype=new h_;
function gk(){cl.call(this,["brush","rng","expo"])}gk.prototype=new cl;function c4(){cl.call(this,"brush emode opacity flow smth prsr".split(" "))}c4.prototype=new cl;
function gd(){cl.call(this,["brush","samp","wconf"])}gd.prototype=new cl;function bd(){i_.call(this,!1,["binop","feat","anta","redge","cstr"])}bd.prototype=new i_(!0);
function j3(){i$.call(this);var D=this.X5=[new iw([12,20],["1x1","3x3","5x5","11x11","31x31"]),new iw([12,70],[[17,1],[17,3],[17,0]]),new dE("Sampling Ring"),new dE("Zoom")];
D[1].f(2);D[2].f(!0);for(var k=0;k<D.length;k++){var n=D[k];n.h(S.E.o,this.Kt,this);this.body.appendChild(n.m)}}j3.prototype=new i$;
j3.prototype.Kt=function(D){var n=this.X5,_=[];for(var k=0;k<n.length;k++)_[k]=n[k].B();var b=new ho(S.E.W,!0);
b.data={d:S.J.Lv,g:this.g,zm:_};this.c(b)};j3.prototype.uG=function(){for(var k=0;k<this.X5.length;k++)this.X5[k]._()};
function c0(){i$.call(this);this.IT=new hl(!1);this.IT.parent=this;this.IT.h(S.E.o,this.bo,this);this.body.appendChild(this.IT.m);
this.IT.f(JSON.parse(ci.UC.aeX).v);this.Oy=new iw(null,ci.X.names.slice(0,5));this.Oy.h(S.E.o,this.bo,this);
this.body.appendChild(this.Oy.m);this.Bo=new iw([12,19,0],jz.BP,null,jz.Fk);this.Bo.h(S.E.o,this.bo,this);
this.body.appendChild(this.Bo.m);this.SX=new fh([12,0],0,100,"%");this.SX.parent=this;this.SX.h(S.E.o,this.bo,this);
this.body.appendChild(this.SX.m);this.SX.f(100);this.MM=new dE([12,23,0]);this.MM.h(S.E.o,this.bo,this);
this.body.appendChild(this.MM.m);this.Kn=new dE([12,23,3]);this.Kn.h(S.E.o,this.bo,this);this.body.appendChild(this.Kn.m)}c0.prototype=new i$;
c0.prototype.uG=function(){this.Oy._();this.Bo._();this.SX._();this.MM._();this.Kn._()};c0.prototype.gB=function(D,n){i$.prototype.gB.call(this,D,n);
var _=n==da.dJ;this.IT.XV(D.EH,D.Cp);if(_||n==da.$v||n==da.XS)this.IT.Gx(D.UT)};c0.prototype.bo=function(){var D=new ho(S.E.W,!0);
D.data={d:S.J.Lv,g:this.g};D.data.hy={X:this.IT.B(),Ui:ci.X.types[this.Oy.B()],t4:this.MM.ME(),a9$:this.Kn.ME(),ap4:jz._w[this.Bo.B()],d8:this.SX.B()/100};
this.c(D)};function bj(){i$.call(this)}bj.prototype=new i$;function j5(){i$.call(this);var D=t.L("span","fitem");
this.body.appendChild(D);this.YF=[new fh([12,15],-180,180,"\xB0"),new bX([1,12,2],null,null,!0)];for(var k=0;
k<this.YF.length;k++){var n=this.YF[k];n.parent=this;D.appendChild(n.m);n.h(k==1?"click":S.E.o,this.C0,this)}}j5.prototype=new i$;
j5.prototype.uG=function(){for(var k=0;k<this.YF.length;k++)this.YF[k]._()};j5.prototype._m=function(D){this.YF[0].f(D.bE*180/Math.PI)};
j5.prototype.C0=function(D){var n=this.YF.indexOf(D.target),_=new ho(S.E.W,!0);_.data={d:S.J.Lv,g:this.g,bE:n==1?0:D.target.B()*Math.PI/180};
this.c(_)};function dj(){cl.call(this,["brush","algnd","sfrom","alt"])}dj.prototype=new cl;function df(){i$.call(this);
this.uY=new hq;this.uY.parent=this;this.body.appendChild(this.uY.z9.m);this.body.appendChild(this.uY.IG.m);
this.body.appendChild(this.uY.iu.m);this.body.appendChild(this.uY.KU.m);var D=t.L("span","fitem");this.body.appendChild(D);
D.appendChild(this.uY.J7.m);D.appendChild(this.uY.Qh.m);D.appendChild(this.uY.Ql.m);this.Sg=new iw("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.Sg.h(S.E.o,this.bQ,this);this.body.appendChild(this.Sg.m);this.ai=new bX([11,9],!1,null,!0);this.ai.h("click",this.aat,this);
this.body.appendChild(this.ai.m);this.eN=new he;this.eN.h("click",this.bQ,this)}df.prototype=new i$;
df.prototype.uG=function(){this.eN._();this.uY._();this.ai._()};df.prototype.aat=function(D){var n={d:S.J.Lv,g:this.g,Ed:"showwarp"},_=new ho(S.E.W,!0);
_.data=n;this.c(_)};df.prototype._m=function(D){if(D.Ed=="showactive")this.body.appendChild(this.eN.m);
if(D.Ed=="hideactive")this.body.removeChild(this.eN.m);if(D.Ed=="changeAA")this.Sg.f(D.ub)};df.prototype.gB=function(D,n){i$.prototype.gB.call(this,D,n);
if(n!=da.XS&&n!=da.WT&&n!=da.tL&&n!=da.Ha)return;this.uY.f(D.za,D.mz,D.eh)};df.prototype.bQ=function(D){var n={d:S.J.Lv,g:this.g,Ed:this.eN.B()?"commit":"cancel"};
if(D.target==this.Sg){n.Ed="changeAA";n.ub=this.Sg.B()}var _=new ho(S.E.W,!0);_.data=n;this.c(_)};function bi(){i_.call(this,!1,["binop","feat","anta","redge"])}bi.prototype=new i_(!0);
function bB(){i$.call(this);var D=[],_="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.ge=new dE([12,85]);this.ge.h(S.E.o,this.Kt,this);D.push(this.ge.m);this.rZ=new dE([20,1]);this.rZ.h(S.E.o,this.Kt,this);
D.push(this.rZ.m);this.D8=new dE([12,83]);this.D8.h(S.E.o,this.Kt,this);D.push(this.D8.m);var n=t.L("span","fitem");
D.push(n);this.asO=new iw("Scale for exported files",["1x","2x","3x","4x"],!0);n.appendChild(this.asO.m);
this.N9=new bX(_+" PNG",!1,"Save selected layers as PNG",!0);n.appendChild(this.N9.m);this.N9.h("click",this._Y,this);
this.alj=new bX(_+" SVG",!1,"Save selected layers as SVG",!0);n.appendChild(this.alj.m);this.alj.h("click",this._Y,this);
var b=t.L("span","fitem");D.push(b);var w=t.L("span","fitem");D.push(w);this.Dg=[];for(var k=0;k<8;k++){var i=k==3||k==7?[20,4,6]:[20,4,k<3?k:k-1],M=new bX("Hi",!1,i);
(k<4?b:w).appendChild(M.m);M.h("click",this._Y,this);this.Dg.push(M)}for(var k=0;k<D.length;k++)this.body.appendChild(D[k]);
this.abL=D}bB.prototype=new i$;bB.prototype._m=function(D){var n=D.Bl,_=D.aiO;this.ge.f(n.xW);this.rZ.f(n.m8);
this.D8.f(n.yt);if(_){t.hz(this.body);for(var k=0;k<_.length;k++)if(_[k]==1&&this.abL[k])this.body.appendChild(this.abL[k])}};
bB.prototype._Y=function(D){var n=this.Dg.indexOf(D.target),_;if(n==-1){_=new ho(S.E.W,!0);_.data={d:S.J.Lv,g:this.g,_c:D.target==this.N9?"getPNG":"getSVG",Mq:this.asO.B()+1}}else{_=new ho(S.E.M,!0);
_.g=G.GZ;_.data={d:"algn",k:n}}this.c(_)};bB.prototype.Kt=function(D){var n=new ho(S.E.W,!0);n.data={d:S.J.Lv,g:this.g,_c:"prms",xW:this.ge.ME(),m8:this.rZ.ME(),yt:this.D8.ME()};
this.c(n)};bB.prototype.uG=function(){this.ge._();this.rZ._();this.D8._();var D="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var k=0;k<8;k++){this.Dg[k].v$(t.ct("align/"+D[k],null,"autoscale"))}};function aB(){i_.call(this,!1,["binop","feat","redge","wconf","sall"])}aB.prototype=new i_(!0);
function aJ(){cl.call(this,["setop","patch"])}aJ.prototype=new cl;function iN(){cl.call(this,["setop"])}iN.prototype=new cl;
function cM(){cl.call(this,["bmode","opacity","wconf","sall"])}cM.prototype=new cl;function hP(){i_.call(this,!1,["binop","feat","anta","redge"])}hP.prototype=new i_(!0);
function e6(){i_.call(this,!1,["binop","feat","anta","redge"])}e6.prototype=new i_(!0);function ii(){i_.call(this,!1,["binop","feat","redge","cstr"])}ii.prototype=new i_(!0);
function d1(){i$.call(this);this.Wc=null;this.ir=null;this.PR=[new gH("X",null,3.2,null,!0),new gH("Y",null,3.2,null,!0),new gH("W",null,3.2,null,!0),new gH("H",null,3.2,null,!0),new gH([12,15],"\xB0",3.7,null,!0),new gH(["VAR0 1",[12,80,0]],null,3.5,null,!0),new gH(["VAR0 2",[12,80,0]],null,3.5,null,!0),new bX([15,7,6],!1,null,!0),new bX([2,2],!1,null,!0)];
for(var k=0;k<this.PR.length;k++){var D=this.PR[k];this.body.appendChild(D.m);if(k>6)D.h("click",this.nK,this)}this.C$=0}d1.prototype=new i$;
d1.prototype.nK=function(D){var n=this.PR.indexOf(D.target)==7,_=new ho(S.E.M,!0);if(n){if(this.C$==0)return;
_.g=G.pr;_.data={d:"rot",Ln:[2,5],k:-this.C$}}else{_.g=G.w4;for(var k=0;k<6;k++)this.PR[k].f(null)}this.c(_)};
d1.prototype._m=function(D){function n(N,a,o){var U=Math.sqrt(Math.pow(a.x-N.x,2)+Math.pow(a.y-N.y,2)),V=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),c=Math.sqrt(Math.pow(o.x-N.x,2)+Math.pow(o.y-N.y,2));
return Math.acos((V*V+U*U-c*c)/(2*V*U))}if(D==null)return;this.ir=D;var _=D.ad2,b=D.hn,w=b.x-_.x,i=b.y-_.y;
this.C$=-Math.atan2(i,w);if(D.a7)this.C$=n(b,_,D.a7);var M=this.PR;M[0].f(this.HM(D,_.x));M[1].f(this.HM(D,_.y));
M[2].f(this.HM(D,w));M[3].f(this.HM(D,i));M[4].f((this.C$*180/Math.PI).toFixed(2));M[5].f(this.HM(D,gZ._e(_,b)));
if(D.a7){M[6].f(this.HM(D,gZ._e(_,D.a7)))}else M[6].f("")};d1.prototype.HM=function(D,n){var _=B.Hj.Yh(n,D.Cn,this.Wc,D.a70,!1);
return parseFloat(_).toFixed(2)};d1.prototype.gB=function(D,n){this.Wc=D;this._m(this.ir)};d1.prototype.uG=function(){var D=this.PR;
for(var k=0;k<D.length;k++)D[k]._();t.OD(D[2],D[3])};function jf(){cl.call(this,["brush","strn","pdetail"])}jf.prototype=new cl;
function fl(){cl.call(this,["brush","sfrom"]);this.abt=[];var D=[[7,12]];for(var k=0;k<D.length;k++){var n=new bX(D[k],!1,null,!0);
this.abt.push(n);n.parent=this;this.body.appendChild(n.m);n.h("click",this.a0B,this)}}fl.prototype=new cl;
fl.prototype.a0B=function(D){var n=this.abt.indexOf(D.currentTarget),_=new ho(S.E.$W,!0);_.data=G.NF.Zh("contentAware");
this.c(_)};function h4(){cl.call(this,["brush","strn"])}h4.prototype=new cl;function aO(){cl.call(this,["brush","flow","smode"])}aO.prototype=new cl;
function em(){i$.call(this);this.ei=!1;var D=t.L("span","fitem");this.body.appendChild(D);this.ev=new aN(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
D.appendChild(this.ev.m);this.ev.h(S.E.o,this.Kt,this);this.EX=new bX([20,2]);this.body.appendChild(this.EX.m);
this.EX.h("click",this.ahr,this);this.Gg=new bX([20,3]);this.body.appendChild(this.Gg.m);this.Gg.h("click",this.ahr,this)}em.prototype=new i$;
em.prototype.uG=function(){this.EX._();this.Gg._()};em.prototype.Kt=function(){var D={d:S.J.Lv,g:this.g,JO:this.ev.B()==0},n=new ho(S.E.W,!0);
n.data=D;this.c(n)};em.prototype._m=function(D){if(this.ei!=D.ei)this.ev.f(1-this.ev.B());this.ei=D.ei};
em.prototype.ahr=function(D){var n=new ho(S.E.M,!0);n.g=G.TS;n.data={d:"adapt",k:D.target==this.EX?"pixel":"fitscr"};
this.c(n)};function hm(D,n){i$.call(this);if(D==null)return;this.$g=D;this.Hd={};this.amr=n;for(var k=0;
k<D.length;k++){var _=D[k],b=null;if(_=="tmode"){b=new iw(null,[[12,76,1],[12,76,0],[12,76,2]]);b.f(0);
if(n)b.a5w(2)}if(_=="make"){b=new aN("Make",[[17,2],[12,76,1]],null,!0)}if(_=="anta"){b=new dE([12,25,1]);
b.f(!0)}if(_=="binop"){b=new iw(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(_=="pshape")b=new iw(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(_=="shape")b=new eW([12,76,1]);if(_=="crad"){b=new fh([12,94,0],0,50,"px");b.f(0)}if(_=="cstr"){b=new cH}if(_=="irad"){b=new fh([12,94,1],0,100,"%");
b.f(40)}if(_=="length"){b=new fh([12,80,0],4,40);b.f(4)}if(_=="sides"){b=new fh([12,78],3,30);b.f(5)}if(_=="width"){b=new fh([12,41],1,100,"px");
b.f(5)}if(_=="tolr"){b=new fh([12,24],0,100);b.f(5)}if(_=="fstyle"){b=new jE([12,26])}if(_=="sstyle"){b=new hx}if(_=="psnap"){b=new dE([8,10])}if(_=="crnr"){b=new bX("\u2312",!1,[12,94,0],!0)}if(_=="aopts"){b=new bS;
b.f([!1,!1,50,60,0])}b.parent=this;this.body.appendChild(b.m);this.Hd[_]=b;b.h(_=="crnr"?"click":S.E.o,this.Kt,this)}}hm.prototype=new i$;
hm.prototype._m=function(D){if(D.Rn!=null)this.Hd.binop.f(D.Rn);else if(D._c=="vals")for(var n in D.a4l)this.Hd[n].f(D.a4l[n]);
else{var _=hm.gt;if(_==null)_=hm.gt=new gN([{name:"Remove Anchor Point",R:function(w){var i=w?w.DZ():null;
return{R:w&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.em.length!=0}}},{name:"Remove Path",R:function(w){var i=w?w.DZ():null;
return{R:w&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.w.length!=0}},Mb:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{T:S.E.M,g:G.JF,P:{d:"remove",DY:!0}},{T:S.E.M,g:G.ND,P:{d:"remove"}},{T:S.E.W,P:{d:S.J.a_,Lt:"makesel"}},{T:S.E.$W,P:G.kG.xM(0)},{T:S.E.$W,P:G.kG.xM(1)}]);
_.parent=this;_.update(D.zF,D.dO);var b=new ho(S.E.W,!0);b.data={d:S.J.Td,Vl:_,x:D.Xd.oh+2,y:D.Xd.aK+1};
this.c(b)}};hm.prototype.aiH=function(k){return null};hm.prototype.uG=function(){for(var D in this.Hd){this.Hd[D]._()}};
hm.prototype.Kt=function(D){var n=new ho(S.E.W,!0),_=this.Hd;if(D.target==_.crnr){n=new ho(S.E.M,!0);
n.g=G.JF;n.data={d:"crnr"}}else if(D.target==_.make){var k=D.target.B();console.log(k);if(k==0)n.data={d:S.J.a_,Lt:"makesel"};
else{n=new ho(S.E.M,!0);n.g=G.i4;n.data={d:"newfill",MJ:0}}}else if(D.target==_.fstyle){n.data={d:S.J.VS,hy:da.eU,k:_.fstyle.B()}}else if(D.target==_.sstyle){n.data={d:S.J.VS,hy:da.Ol,k:_.sstyle.B()}}else if(D.target==_.tmode){n.data={d:S.J.VS,hy:da.SF,k:_.tmode.B()}}else{if(_.pshape)this.df();
n.data={d:S.J.Lv,g:this.g};for(var b in _)n.data[b]=_[b].B()}this.c(n)};hm.prototype.df=function(){var D=this.Hd,n=D.tmode.B(),_=D.pshape?this.aiH(D.pshape.B()):this.$g,b;
if(n==0)b=["anta","make"];if(n==1)b=["anta","fstyle","sstyle"];if(n==2)b=["make","binop","fstyle","sstyle"];
var w=D.binop;if(w){var i=w.B();if(n==0){w.afu(0)}else{w.a5w(0);if(i==0){w.f(1);this.Kt({target:w})}}}t.hz(this.body);
for(var k=0;k<_.length;k++){var M=_[k];if(b.indexOf(M)!=-1)continue;this.body.appendChild(D[M].m)}};
hm.prototype.gB=function(D,n){i$.prototype.gB.call(this,D,n);var _=this.Hd.fstyle,b=this.Hd.sstyle,w=this.Hd.tmode;
if(_)_.gB(D,n);if(b)b.gB(D,n);if(n==da.XS||n==da.Yp)if(D.B0.length!=0&&this.Hd.shape){this.Hd.shape.Gx(D.B0)}if(n==da.XS||n==da.eU)if(_)_.f(null,D.lD,D.adn);
if(n==da.XS||n==da.Ol)if(b)b.f(null,D.Ji,D.ae2);if(n==da.XS||n==da.SF){var i=D.fC;if(this.amr&&i==2)i=0;
if(w){w.f(i);this.df()}}};function ca(){hm.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}ca.prototype=new hm;
function fF(){hm.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}fF.prototype=new hm;
function eT(){hm.call(this,["fstyle","sstyle"]);this.a0J=null;this.ao7=null;this.a3u=null;this.TR=new iw([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.o2=new bX("\u25BC");this.o2.im();this.qw=new bX("\u25B2");this.qw.im();this.PZ=[this.TR,this.o2,this.qw];
for(var k=0;k<this.PZ.length;k++){var D=this.PZ[k];this.body.appendChild(D.m);D.parent=this;D.h(k==0?S.E.o:"click",this.Wk,this)}}eT.prototype=new hm;
eT.prototype._m=function(D){if(D.Ed=="main"){var n=this.PZ,_=D.IJ;if(_&&_.w.length==1){this.ao7=_.clone();
this.a3u=JSON.stringify(D.dd);var b=_.w[0],w=B.$.Vz(_.Y);this.TR.jZ();if(b>0)this.o2.jZ();else this.o2.Mf();
if(b<w-1)this.qw.jZ();else this.qw.Mf();var i=B.$.ay(_.Y,b),M=_.Y[i];this.TR.v$("Path "+(b+1));this.TR.f([3,0,1,2][M.gW])}else{for(var k=0;
k<n.length;k++)n[k].Mf()}}else hm.prototype._m.call(this,D)};eT.prototype.uG=function(){hm.prototype.uG.call(this);
this.TR._()};eT.prototype.Wk=function(D){if(D.target==this.TR||D.target==this.o2||D.target==this.qw){var n={},_=this.ao7,b=_.Y,w=JSON.parse(this.a3u),i=_.w[0],M=B.$.ay(b,i),N=b[M];
if(D.target==this.TR){var a=this.TR.B();if(a<4)N.gW=[1,2,3,0][a];else{if(B.$.Vz(b)<=1)return;_.Y=B.$.Ud(b);
_.w=_.Y.length==2?[]:[0];_.em=[];w=[B.dd.ae()]}}else{var o=D.target==this.o2?-1:1,U=Math.min(i,i+o),V=Math.max(i,i+o),c=B.$.ay(b,U),E=B.$.ay(b,V);
if(c==-1||E==-1)return;var A=E+B.$.KK(b,V),Q=w[U];w[U]=w[V];w[V]=Q;var J=b.slice(0,c),L=b.slice(c,E),P=b.slice(E,A),u=b.slice(A);
_.Y=J.concat(P.concat(L.concat(u)));_.w[0]+=o}n.IJ=_;n.dd=w;var m=new ho(S.E.W,!0);m.data={d:S.J.Lv,g:this.g,Pr:n};
this.c(m)}};function bm(){hm.call(this,["fstyle","sstyle","crnr","psnap"])}bm.prototype=new hm;function dl(){hm.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}dl.prototype=new hm;
function dX(){hm.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}dX.prototype=new hm;
function eI(){hm.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Hd.aopts.f([!1,!0,50,60,0])}eI.prototype=new hm;eI.prototype.aiH=function(k){var D=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(D[k])};function as(){hm.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}as.prototype=new hm;
function bx(){hm.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}bx.prototype=new hm;
function fH(){i_.call(this,!1,["binop","feat","redge"])}fH.prototype=new i_(!0);function gD(){cl.call(this,["brush","qsmode","redge"])}gD.prototype=new cl;
function bg(){i$.call(this);var D=new bX("Slices From Guides",null,null,!0);D.h("click",this.Wk,this);
this.body.appendChild(D.m)}bg.prototype=new i$;bg.prototype.Wk=function(D){var n=new ho(S.E.$W,!0);n.data={_L:"make",cR:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(n)};function cS(){i$.call(this);var D=this.alJ=[new bX("\u25BC",null,null,!0),new bX("\u25B2",null,null,!0),new bX([5,4],null,null,!0)];
for(var k=0;k<3;k++){var n=D[k];this.body.appendChild(n.m);n.h("click",this.Wk,this)}}cS.prototype=new i$;
cS.prototype.Wk=function(D){var n=this.alJ.indexOf(D.target),_=new ho(S.E.M,!0);_.g=G.hA;_.data={d:n==2?"delete":"reorder",dir:n==0?-1:1};
this.c(_)};cS.prototype._=function(){i$.prototype._.call(this);for(var k=0;k<3;k++)this.alJ[k]._()};
function go(D,n){i$.call(this);if(window.Typr==null||D)return;this.aeY=n;this.Py=null;this.agx=t.L("span","");
this.apn=t.L("span","");var _=1;this.eO={ui:new hw(null,24),gG:new fh("X",0,0,"px",0,!1,!0,4),W7:new fh("Y",0,0,"px",0,!1,!0,4),iU:new fh("W",0,0,["%","px"],2,!1,!0,5),X7:new bX("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),OH:new fh("H",0,0,["%","px"],2,!1,!0,5),a0y:new fh("\u2221",0,0,"\xB0",_,!1,!0),akz:new fh("\u25B1 H",-85,85,"\xB0",_,!1,!0),aoT:new fh("\u25B1 V",-85,85,"\xB0",_,!1,!0),pu:new iw(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.eO.pu.f(1);for(var b in this.eO){var w=this.eO[b];if(n&&(w==this.eO.a0y||w==this.eO.akz||w==this.eO.aoT||w==this.eO.pu)){}else this.agx.appendChild(w.m);
var i=w==this.eO.X7?"click":S.E.o;w.h(i,this.ae5,this)}this.Wd=new iX(!0,!0,!0);this.Wd.h(S.E.o,this.a77,this);
this.Wd.parent=this;var M=this.apn,N=this.Wd;M.appendChild(N.we.m);M.appendChild(N.eR.m);M.appendChild(N.OG.m);
M.appendChild(N.Pz.m);M.appendChild(N.Sw.m);this.ai=new bX([11,9]);this.ai.h("click",this.auB,this);
this.eN=new he;this.eN.h("click",this.bQ,this)}go.prototype=new i$;go.prototype._m=function(D){if(D.Xd){var n=go,_=this.gt;
if(_==null)_=this.gt=new gN(n.atd(),n.afD(this.g));_._();_.parent=this;_.update(D.zF,D.dO);var b=new ho(S.E.W,!0);
b.data={d:S.J.Td,Vl:_,x:D.Xd.oh+2,y:D.Xd.aK+1};this.c(b);return}t.hz(this.body);this.Py=D;if(D.eO){var w=D.eO.Kj,i=D.eO.Ox.clone(),M=Math.atan2(-i.S,i.vd),N=new e3;
N.rotate(-M);i.concat(N);var a=this.eO;a.ui.f(D.eO.OW);a.gG.f(D.eO.YZ.x);a.W7.f(D.eO.YZ.y);a.iU.f(i.vd*(a.iU.sz()=="%"?100:w.l));
a.OH.f(i.Ww*(a.OH.sz()=="%"?100:w.e));a.a0y.f(-M*180/Math.PI);a.akz.f(0*180/Math.PI);a.aoT.f(Math.atan(i.jo)*180/Math.PI);
this.body.appendChild(this.agx);this.ai.ef()}if(D.M_){this.Wd.f(D.M_);this.body.appendChild(this.apn);
this.ai.im()}this.body.appendChild(this.eN.m);if(D.auY&&!this.aeY)this.body.appendChild(this.ai.m)};
go.prototype.ae5=function(D){var n=this.eO,_=this.Py.eO.Kj;if(D.target==n.X7)n.X7.f(!n.X7.B());if(n.X7.ME()){var b=n.OH,w=n.iU,i=_.e,M=_.l;
if(D.target==n.iU){b=n.iU;w=n.OH;i=_.l;M=_.e}var N=b.B()/(b.sz()=="%"?100:i);N*=w.sz()=="%"?100:M;w.f(N)}var a=[];
for(var o in n)if(n[o]!=n.X7&&n[o]!=n.ui){var N=n[o].B();if((n[o]==n.iU||n[o]==n.OH)&&N==0){N=.1;n[o].f(N)}if(n[o]==n.iU&&n[o].sz()=="px")N/=_.l/100;
if(n[o]==n.OH&&n[o].sz()=="px")N/=_.e/100;a.push(N)}var U=new gZ(a[0],a[1]);if(D.target==n.ui){this.cL({Ed:"ctyp",OW:n.ui.B()})}else if(D.target==n.gG||D.target==n.W7){this.cL({Ed:"cen",YZ:U})}else{var V=this.Py.eO.Ox.clone(),c=V.clone(),E=Math.atan2(-V.S,V.vd);
c.translate(-U.x,-U.y);c.rotate(-E);var A=new e3(c.vd,c.S,c.jo,c.Ww,0,0);A.ei();c.concat(A);c.concat(new e3(a[2]/100,Math.tan(a[5]*Math.PI/180),Math.tan(a[6]*Math.PI/180),a[3]/100,0,0));
c.rotate(-a[4]*Math.PI/180);c.translate(U.x,U.y);this.Py.eO.Ox=c;this.cL({Ed:"trn",eO:c,zu:this.eO.pu.B()})}};
go.prototype.a77=function(D){this.cL({Ed:"wrp",M_:this.Wd.B()})};go.prototype.auB=function(D){this.cL({Ed:"switchWarp"})};
go.prototype.bQ=function(D){this.cL({Ed:this.eN.B()?"commit":"cancel"})};go.prototype.cL=function(D){D.d=S.J.Lv;
D.g=this.g;var n=new ho(S.E.W,!0);n.data=D;this.c(n)};go.prototype.uG=function(){var D=this.eO;for(var n in D)D[n]._();
t.OD(D.iU,D.OH);this.eN._();this.Wd._();this.ai._()};go.atd=function(){return[{name:[5,9],BQ:"Shift+Alt+Ctrl + T",Mb:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],R:function(D){if(D==null||D.w.length!=1)return{R:!1};
var n=D.b[D.w[0]];return{R:n.add.TySh==null&&!n.nR()}},Mb:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
go.afD=function(D){if(D==null)D=G.pr;return[{T:S.E.M,g:D,P:{d:"again"}},{T:S.E.W,P:{d:S.J.Ou,g:D,Bl:{eF:3}}},{T:S.E.W,P:{d:S.J.Ou,g:D,Bl:{eF:4}}},{T:S.E.W,P:{d:S.J.Ou,g:D,Bl:{eF:2}}},{T:S.E.W,P:{d:S.J.Ou,g:D,Bl:{eF:1}}},{T:S.E.W,P:{d:S.J.Ou,g:D,Bl:{eF:-1}}},{T:S.E.M,g:D,P:{d:"rot",Ln:[2,5],k:-Math.PI/2}},{T:S.E.M,g:D,P:{d:"rot",Ln:[2,5],k:-3*Math.PI/2}},{T:S.E.M,g:D,P:{d:"rot",Ln:[2,5],k:Math.PI}},{T:S.E.M,g:D,P:{d:"scl",Ln:[[2,6],[22,4,2]],k:new gZ(-1,1)}},{T:S.E.M,g:D,P:{d:"scl",Ln:[[2,6],[22,4,3]],k:new gZ(1,-1)}}]};
function ji(){go.call(this)}ji.prototype=new go(!0);function gR(){go.call(this)}gR.prototype=new go(!0);
function je(){go.call(this,!1,!0)}je.prototype=new go(!0);function ih(){i$.call(this);var D=this.$g=[new iw([12,36],["Rigid",[15,10,0],[24,4]]),new iw([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fh([7,4],0,100,"px"),new dE("Show Mesh"),new bX("\u25BC",null,null,!0),new bX("\u25B2",null,null,!0)];
for(var k=0;k<D.length;k++){var n=D[k];n.parent=this;this.body.appendChild(n.m);n.h(k<4?S.E.o:"click",this.anU,this)}this.eN=new he;
this.eN.h("click",this.bQ,this);this.body.appendChild(this.eN.m)}ih.prototype=new i$;ih.prototype.uG=function(){var D=this.$g;
for(var k=0;k<4;k++)D[k]._();this.eN._()};ih.prototype._m=function(D){var D=D.hy;for(var k=0;k<4;k++)this.$g[k].f(D[k])};
ih.prototype.anU=function(D){var n=[];for(var k=0;k<4;k++)n[k]=this.$g[k].B();var _=this.$g.indexOf(D.target);
if(_<4)this.cL({Ed:"prm",hy:n});else this.cL({Ed:"moveDepth",aew:_==5})};ih.prototype.bQ=function(D){this.cL({Ed:this.eN.B()?"commit":"cancel"})};
ih.prototype.cL=function(D){D.d=S.J.Lv;D.g=this.g;var n=new ho(S.E.W,!0);n.data=D;this.c(n)};function hz(){cA.call(this);
this.m=t.L("div","cmanager");window.alert=function(b,w){this.adB(b,w);console.log("Alert: "+b)}.bind(this);
window.onblur=function(b){var w=this;w.va()}.bind(this);this.Wj=0;this.Rw=0;this.yl=[];this.q8={};this.UW=t.L("div","alertcont");
this.m.appendChild(this.UW);this.apE=t.L("div","alertcont");this.m.appendChild(this.apE);this.ii=t.L("div","alertcont");
this.ath=0;this.Kz=-1;this.a5L=null;this.lW=null;var D=this.aa$=t.L("div","alertpanel");D.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.ii.appendChild(D);var n=this.cv=t.L("input");n.setAttribute("type","text");t.pw(n);n.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
n.addEventListener("input",this.a1L.bind(this),!1);n.addEventListener("keydown",this.acA.bind(this),!1);
D.appendChild(n);var _=this.ah5=t.L("div","contextpanel scrollable");_.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
_.addEventListener("click",this.akE.bind(this),!1);D.appendChild(_);t.cc(document.body,this.aqj.bind(this))}hz.prototype=new cA;
hz.prototype.XX=function(){if(t.Pn(this.ii))this.m.removeChild(this.ii)};hz.prototype.aih=function(D,n){var _=this.a5L=[];
for(var k=0;k<cp.data.length;k++){var b=cp.data[k],w=[io.get(b.name)],i=[k];hz.a8c(b.items,w,i,_,D,n)}var M=bo.K;
for(var k=0;k<M.length;k+=3){_.push([["Tools",io.get(M[k])],[-1,M[k+2]],M[k+1]])}this.m.appendChild(this.ii);
var N=this.cv;N.focus();N.select();this.vm()};hz.prototype.a1L=function(D){this.Kz=-1;this.vm()};hz.prototype.vm=function(){var D=this.cv.value.toLowerCase().trim().replace(/  +/g," "),n=this.a5L,_=[],b=[],w=D.split(" ");
if(D!="")for(var k=0;k<n.length;k++){var i=n[k][0],M=[],N=0;for(var a=0;a<i.length;a++)M[a]=-1;for(var o=0;
o<w.length;o++)for(var a=0;a<i.length;a++){var U=i[a].toLowerCase().indexOf(w[o]);if(U!=-1){M[a]=[U,U+w[o].length];
N++;break}}if(N==w.length){_.push(n[k]);b.push(M)}}var V=[],c=this.ah5;t.hz(c);for(var k=0;k<_.length;
k++){var E=_[k],A=E[0],U=b[k],Q="enab",L="";if(k==this.Kz)Q+=" active";var J=t.L("div",Q);V.push(J);
c.appendChild(J);for(var a=0;a<A.length;a++){var P=U[a],u=w[a],m=A[a];if(P!=-1)m=m.slice(0,P[0])+"<span style=\"color:black\">"+m.slice(P[0],P[1])+"</span>"+m.slice(P[1]);
L+=m;if(a<A.length-1)L+=" \uFE65 "}if(E[2]&&(typeof E[2]!="string"||E[2].length==1))L+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+dz.Pw(E[2])+"</span>";
J.innerHTML=L}this.lW=[_,V]};hz.prototype.acA=function(D){var n=dz.s9,_=D.code;if(n(_,dz.Gt))this.XX();
var b=n(_,dz.L3),w=n(_,dz.hb),i=n(_,dz.Eb);if(b||w){this.Kz=Math.max(0,Math.min(this.lW[0].length-1,this.Kz+(b?-1:1)));
this.vm()}if(i&&this.Kz!=-1)this.ah0(this.Kz)};hz.a8c=function(D,n,_,b,w,i){for(var k=0;k<D.length;k++){var M=D[k],N=n.slice(0),a=_.slice(0),o=io.get(M.name);
if(M.R){var U=M.R(w,i,k);if(U.j4)o=U.j4;if(U.R==!1)continue}N.push(o);a.push(k);if(M.sub)hz.a8c(M.sub,N,a,b,w,i);
else b.push([N,a,M.BQ])}};hz.prototype.akE=function(D){var n=D.target;if(n.tagName.toLowerCase()=="span")n=n.parentNode;
var _=this.lW[1].indexOf(n);if(_!=-1)this.ah0(_)};hz.prototype.ah0=function(D){var n=this.lW[0][D][1];
if(n[0]==-1){var _=new ho(S.E.W,!0);_.data={d:S.J.Ou,g:n[1]};this.c(_)}else{var b=cp.data[n[0]].LW[n[1]];
for(var k=2;k<n.length;k++)b=b.sub[n[k]];var w=new ho(b.T,!0);w.g=b.g;w.data=b.P;this.c(w)}this.XX()};
hz.prototype.R9=function(D,n){this.Wj=D;this.Rw=n;this.ah5.style["max-height"]=n-120+"px"};hz.prototype.as2=function(D){var n=t.L("div","alertpanel");
n.textContent=io.get(D);this.UW.appendChild(n);this.q8[JSON.stringify(D)]=n};hz.prototype.as_=function(D){var n=this.q8[JSON.stringify(D)];
this.UW.removeChild(n);delete this.q8[JSON.stringify(D)]};hz.prototype.adB=function(D,n){var _=this.apE;
for(var k=0;k<_.children.length;k++)if(_.children[k].textContent==D)return;var b=t.L("div","alertpanel tpanel");
b.textContent=D;b.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");_.appendChild(b);if(n==null)n=1500;
var w=n,i=Math.max(Date.now()+w,this.ath+w);setTimeout(function(){b.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){_.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},i-Date.now()-30);
setTimeout(function(){_.removeChild(_.firstChild);_.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},i-Date.now());
this.ath=i};hz.prototype.aqj=function(D){var n=this.yl;for(var k=n.length-1;k>=0;k--){var _=n[k],b=D.target;
while(b!=null){if(b==_.m){this.va(_);return}b=b.parentNode}}this.va();var w=D.target;while(w!=this.ii&&w!=document.body)w=w.parentNode;
if(w!=this.ii)this.XX()};hz.prototype.va=function(D){var n=this.yl;for(var k=0;k<n.length;k++){if(D&&D.aaT(n[k]))continue;
var _=n[k].m;_.style.height="auto";t.ad(_,"scrollable");this.m.removeChild(_);n.splice(k,1);k--}};hz.prototype.anZ=function(D){this.va(D.Vl);
var n=D.Vl,_=n.m;if(this.yl.indexOf(n)!=-1)return;this.yl.push(n);this.m.appendChild(n.m);var b=this.Wj,w=this.Rw,i=D.x,M=D.y,N=this.m.getBoundingClientRect(),a=n instanceof gN,o=-1,U=w-2;
if(a||D.xK){var V=n.hU(),c=n.a05();if(a)V=Math.min(V,200);var E=b-V-2,A=w-c-2;if(M<A)o=2;else if(i<E)o=1;
else if(0<M-c-2)o=0;else o=3;if(D.a6C)o=0;if(D.ab8)o=2;if(o==2){i=Math.min(i,E)}else if(o==1){M=Math.min(M,A)}else if(o==0){M=M-c-2;
i=Math.min(i,E);U=D.y}else if(o==3){i=i-V-2;M=Math.min(M,A)}}M=Math.max(2,M);var top=Math.round(M-N.y+this.m.offsetTop);
_.style.position="absolute";_.style["z-index"]=10;if(M+n.a05()>U){_.style.height=U-M+"px";t.ES(_,"scrollable");
if(o==3)i-=10}_.style.left=Math.round(i)+"px";_.style.top=top+"px"};hz.prototype.a28=function(D){var n=D.Vl,_=this.yl.indexOf(n);
if(_==-1)return;this.yl.splice(_,1);var b=n.m;this.m.removeChild(n.m)};hz.prototype.nd=function(){var D=this.yl;
return D.length==0?null:D[D.length-1]};hz.prototype.a1P=function(){this.a28({Vl:this.nd()})};function ck(){cA.call(this);
this.m=t.L("div","confbar")}ck.prototype=new cA;ck.prototype.aoQ=function(D){D.parent=this;t.hz(this.m);
this.m.appendChild(D.m)};function bh(D){cA.call(this);bh.gD=D;this.Wc=null;this.Kq=t.L("input","");this.Kq.setAttribute("type","file");
this.Kq.setAttribute("multiple","");this.Kq.addEventListener("change",function(n){this.LS(n.target.files,null,this.Hs,null);
this.Hs=null}.bind(this),!1);document.body.appendChild(this.Kq);this.Kq.setAttribute("style","display:none");
this.aeK=[];this.vy=!1;this.a6Z={};this.Hs=null}bh.prototype=new cA;bh.gD=null;bh.pP=function(D){try{var n={};
n[D.type]=D;navigator.clipboard.write([new ClipboardItem(n)])}catch(io){console.error(io,io.message)}};
bh.ok=function(D,n){navigator.clipboard.read().then(function(_){for(var k=0;k<_.length;k++){try{var b=_[k],w={},i=0,M=0;
for(var N=0;N<b.types.length;N++){var a=b.types[N];i++;b.getType(a).then(function(o){var U=a;new Response(o).arrayBuffer().then(function(V){w[this.MJ]=V;
M++;if(M==i)bh.a4K(w,D,n)}.bind({MJ:this.MJ}))}.bind({MJ:a}))}}catch(io){console.error(io,io.message)}}}).catch(function(_){alert("Clipboard error: ("+_.message+")")})};
bh.auD=function(D){navigator.permissions.query({name:"clipboard-read"}).then(function(n){D(n.state)})};
bh.a4K=function(D,n,_){var b=["text/plain","image/png","text/html","text/plain"];for(var w in D)console.log(w,w.startsWith("text")?j.KA(new Uint8Array(D[w])).slice(0,100)+"...":D[w]);
for(var i=0;i<b.length;i++){var M=b[i],N=D[M];if(N==null)continue;if(M=="image/png"){bh.gD({name:"image.png"},N,n,_);
return}if(M=="text/plain"){var a=j.KA(new Uint8Array(N));if(i==0)if(!a.startsWith("<!--")&&!a.startsWith("<svg"))continue;
var o=new ho(S.E.W,!0);o.data={d:S.J.akq,k:a};n.c(o);return}if(M=="text/html"){var a=j.KA(new Uint8Array(N)),U=a.indexOf("src=\"");
if(U!=-1&&a.slice(U+5,U+9)!="http"){var V=U+10;while(a[V]!="\"")V++;var c=a.slice(U+5,V);bh.gD({name:"chart.png"},eF.dw(c).buffer,n,_);
return}}}};bh.prototype.ST=function(D){if(D==null)D=[23,5];var n=JSON.stringify(D),_=this.a6Z;if(_[n]==null)_[n]=0;
if(_[n]==0){var b=new ho(S.E.W,!0);b.data={d:S.J.tp,FV:D};this.c(b)}_[n]++};bh.prototype.Y$=function(D){if(D==null)D=[23,5];
var n=JSON.stringify(D),_=this.a6Z;if(_[n]==null)_[n]=0;_[n]--;if(_[n]==0){var b=new ho(S.E.W,!0);b.data={d:S.J.ru,FV:D};
this.c(b)}};bh.prototype.aff=function(D,n){this.Hs=D;var _=window.showOpenFilePicker;if(_&&window.self==window.top){var b=this;
_({multiple:!0}).then(function(M){var N=[];function a(o){N.push(o);if(N.length==M.length){b.LS(N,null,b.Hs,null,M);
b.Hs=null}else M[N.length].getFile().then(a)}M[N.length].getFile().then(a)});return}var w=this.Kq;if(n)w.setAttribute("accept",n);
else w.removeAttribute("accept");var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
w.dispatchEvent(i)};bh.prototype.z5=function(D){if(D.url.indexOf("photopea.com#i")!=-1||D.url.indexOf("photopea.com/#i")!=-1){this.AQ(D.url.split("#i").pop());
return}this.aeK.push(D);this.ako()};bh.prototype.ako=function(){var D=this.aeK;if(D.length==0||this.vy)return;
this.vy=!0;var n=D.shift();this.ST();if(n.kr==null)n.kr={};var _=new XMLHttpRequest;_.JE=n;var b=n.url;
if(n.Uy&&!b.startsWith("data:image"))b=(b);_.open("GET",b);if(n.H5)for(var w in n.H5)_.setRequestHeader(w,n.H5[w]);
_.responseType="arraybuffer";_.onload=this.alV.bind(this);_.send()};bh.prototype.LS=function(D,n,_,b,w){for(var k=0;
k<D.length;k++){this.ST();var i=D[k],M=new FileReader;M.JE=i;M.JE.fa=_;M.JE.FJ=b;M.ahJ=n;if(w)M.JE.Bn=w[k];
M.onload=this.alV.bind(this);M.onerror=function(N){this.Y$()}.bind(this);M.readAsArrayBuffer(i)}this.Kq.value=null};
bh.prototype.arh=function(D,n,_){this.ST("Saving ...");this.Wc=n;setTimeout(_.bind({R1:D,caller:this}),50)};
bh.pW=function(D){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=new Uint8Array(D),b=_.length,w=b%3,i=b-w,M=[],N=0,a=0,o=0;
for(var k=0;k<i;k+=3){N=_[k];a=_[k+1];o=_[k+2];M.push(n[N>>2]+n[(N&3)<<4|a>>4]+n[(a&15)<<2|o>>6]+n[o&63])}if(w==1){N=_[i];
M.push(n[N>>2]+n[(N&3)<<4]+"==")}if(w==2){N=_[i];a=_[i+1];M.push(n[N>>2]+n[(N&3)<<4|a>>4]+n[(a&15)<<2]+"=")}var U=M.join("");
return U};bh.asw=function(D,n){var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=new Uint8Array(64),N=0,a=0,o=0,V=0;
for(var k=0;k<64;k++)b[k]=_.charCodeAt(k);var w=new Uint8Array(D),i=n%3,M=n-i,U=new Uint8Array(Math.floor(n/3)*4+(i==0?0:4));
for(var k=0;k<M;k+=3){N=w[k];a=w[k+1];o=w[k+2];U[V]=b[N>>>2];U[V+1]=b[(N&3)<<4|a>>>4];U[V+2]=b[(a&15)<<2|o>>>6];
U[V+3]=b[o&63];V+=4}if(i==1){N=w[M];U[V]=b[N>>2];U[V+1]=b[(N&3)<<4];U[V+2]=61;U[V+3]=61}if(i==2){N=w[M];
a=w[M+1];U[V]=b[N>>2];U[V+1]=b[(N&3)<<4|a>>4];U[V+2]=b[(a&15)<<2];U[V+3]=61}return U};bh.prototype.alV=function(D){var n,_=D.target.JE;
if(D.target instanceof XMLHttpRequest)n=D.target.response;else n=D.target.result;bh.gD(_,n,this,D.target.ahJ);
this.Y$();if(D.target instanceof XMLHttpRequest){this.vy=!1;this.ako()}};bh.abu=function(D,n){var _=new XMLHttpRequest;
_.open("POST","https://api.imgur.com/3/image",!0);_.zT=n;_.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
_.setRequestHeader("Content-type","application/x-www-form-urlencoded");_.setRequestHeader("Accept","application/json");
_.addEventListener("load",bh.akp);_.send("type=base64&image="+encodeURIComponent(bh.pW(D)));alert("Saving to Imgur ...",4e3)};
bh.akp=function(D){var n=JSON.parse(D.target.response);if(n.success){if(D.target.zT)D.target.zT(n.data.link);
else window.open(n.data.link,"Imgur")}};bh.prototype.AQ=function(D,n){this.ST();var _=new XMLHttpRequest;
_.responseType="arraybuffer";_.open("GET","https://f000.backblazeb2.com/file/psdshared/"+D);_.onload=this.a5J.bind(this);
_.send();bh.abB=Date.now();bh.akn=D;bh.aby=n?D:null};bh.prototype.a5J=function(D){var n=new Uint8Array(D.target.response);
console.log(n.length,Date.now()-bh.abB);for(var k=0;k<n.length;k++)n[k]=255-n[k];n=pako.inflateRaw(n);
var _=JSON.parse(j.KA(n,0,2e3));bh.gD({name:_.name,Bt:bh.aby},n.slice(2e3).buffer,this);this.Y$();var b=new XMLHttpRequest;
b.open("GET","/papi/img/update.php?act=0&id="+bh.akn+"&rnd="+Math.random());b.send()};bh.prototype.aph=function(D,n,_){if(!(D instanceof ArrayBuffer))throw"e";
D=new Uint8Array(D);var b=new Uint8Array(D.length+2e3),V="";for(var k=0;k<2e3;k++)b[k]=32;j.yG(JSON.stringify({name:n}),b,0);
b.set(D,2e3);D=b;D=pako.deflateRaw(D);for(var k=0;k<D.length;k++)D[k]=255-D[k];D=D.buffer;var w=D.byteLength,i=bM.ga(w),M=~~(609e5/2),N=~~(209e5/2);
if(w>M){confirm("Your file is "+i+". Our limit is "+bM.ga(M)+". Delete some layers and try again.");
return}if(w>N){var a=confirm("Your file is quite large ("+i+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!a)return}var o=sha1(D),U=[];for(var k=0;k<20;k++){var c=parseInt(o.slice(k*2,k*2+2),16);U.push(c);
V+=String.fromCharCode(c)}var E=btoa(V).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(bh.aoJ(E)){console.log("file already exists");
if(_)_("https://www.photopea.com#i"+E);else window.open("https://www.photopea.com#i"+E);return}this.ST("Publishing ...");
var A=new XMLHttpRequest;A.ir=[D,o,E,_];A.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+E+"&size="+w);
A.onload=this.a1q.bind(this);A.send()};bh.aoJ=function(D){try{var n=new XMLHttpRequest;n.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+D,!1);
n.send();if(n.status==200)return!0}catch(io){return!1}return!1};bh.prototype.a1q=function(D){var n=JSON.parse(D.target.response),_=D.target.ir,b=new XMLHttpRequest;
b.open("POST",n.uploadUrl);b.setRequestHeader("Authorization",n.authorizationToken);b.setRequestHeader("X-Bz-File-Name",_[2]);
b.setRequestHeader("Content-Type","b2/x-auto");b.setRequestHeader("X-Bz-Content-Sha1",_[1]);b.send(new Blob([_[0]]));
b.onload=this.ags.bind({d2:this,ir:_})};bh.prototype.ags=function(D){this.d2.Y$("Publishing ...");if(this.ir[3])this.ir[3]("https://www.photopea.com#i"+this.ir[2]);
else window.open("https://www.photopea.com#i"+this.ir[2]);var n=new XMLHttpRequest;n.open("GET","/papi/img/update.php?act=2&id="+this.ir[2]+"&fileId="+JSON.parse(D.target.response).fileId+"&rnd="+Math.random());
n.send()};bh.save=function(D,n){var _=new Uint8Array(D),b=document.createElement("a");if(typeof b.download=="string"){var w=new Blob([_]),i=window.URL.createObjectURL(w);
b.href=i;b.download=n;document.body.appendChild(b);b.click();document.body.removeChild(b)}else{var M="data:application/octet-stream;base64,"+bh.pW(D);
window.open(M)}};function bF(){this.size=16;this.data=B.U(16)}bF.prototype.Mz=function(D,n){if(D+n<=this.size)return;
var _=this.size;while(D+n>this.size)this.size*=2;var b=B.U(this.size);for(var k=0;k<_;k++)b[k]=this.data[k];
this.data=b};var fi={};fi.Rl=function(D,n,_){var b=n.split(":"),w=b[0],i=null;if(b.length==2){if(w=="jpg")i=[Math.round(100*parseFloat(b[1]))];
if(w=="webp")i=[Math.round(100*parseFloat(b[1])),100,0,!1,!1];if(w=="psd")i=[!0,!0];if(w=="svg")i=b[1].split(",").map(function(N){return N=="true"})}var M=eF.N4(D,w.toUpperCase(),null,null,i,_);
return M};fi.aci=function(D,n,_){var b=D.iS(),w=n[0];return fi.Rl(D,w,_)};fi.agI=function(){var D=this.R1,n=this.caller,_=D.kr.m5,b=_.formats,w,i;
D.iS();var M=Date.now();if(_.version==1){var N=[],a=0,U=0;for(var k=0;k<b.length;k++){var o=fi.Rl(D,b[k],n.Wc);
N.push(o);a+=o.byteLength}w=new Uint8Array(2e3+a);var V="{ \"source\": "+JSON.stringify(D.ut)+", \"versions\": [\n";
for(var k=0;k<b.length;k++){var c=new Uint8Array(N[k]);V+="\t{\"format\": \""+b[k].split(":")[0]+"\", \"start\": "+U+", \"size\": "+c.length+" }"+(k+1<b.length?", ":"")+"\n";
w.set(c,2e3+U);U+=N[k].byteLength}V+="] }";var E=j.yG(V,w,0);for(var k=E;k<2e3;k++)w[k]=32;i="application/octet-stream"}else{var A=new bF,Q=0,J="",L=encodeURIComponent;
J="p="+L("{ \"source\": "+JSON.stringify(D.ut)+", \"versions\": [");j.lK(A,Q,J);Q+=J.length;for(var k=0;
k<b.length;k++){J=L(" {\"format\": \""+b[k].split(":")[0]+"\", \"data\": \"");j.lK(A,Q,J);Q+=J.length;
var o=fi.Rl(D,b[k],n.Wc),P=bh.asw(o,o.byteLength),E=P.length;A.Mz(Q,E);for(var u=0;u<E;u++){A.Mz(Q,3);
var m=P[u];if(m==43){A.data[Q]=37;A.data[Q+1]=50;A.data[Q+2]=66;Q+=3}else if(m==47){A.data[Q]=37;A.data[Q+1]=50;
A.data[Q+2]=70;Q+=3}else if(m==61){A.data[Q]=37;A.data[Q+1]=51;A.data[Q+2]=68;Q+=3}else{A.data[Q]=m;
Q++}}J=L("\" }"+(k+1<b.length?", ":""));j.lK(A,Q,J);Q+=J.length}J=L("] }");j.lK(A,Q,J);Q+=J.length;w=A.data.slice(0,Q);
i="application/x-www-form-urlencoded"}var x=new XMLHttpRequest;x.open("POST",_.url,!0);if(i)x.setRequestHeader("Content-Type",i);
x.addEventListener("load",fi.atx.bind(this));x.send(new Blob([w.buffer]))};fi.atx=function(D){this.caller.Y$("Saving ...");
var n=D.target.response;if(n.charAt(0)=="{"){n=JSON.parse(n);if(n.newSource)this.R1.ut=n.newSource;if(n.message)alert(n.message,2e3);
if(n.script){var _=new ho(S.E.W,!0);_.data={d:S.J.gX,IU:n.script};this.caller.c(_)}}else alert("Saved. Response: "+n,1500)};
fi.aaX=function(D,n){var _=D.DA.qs;if(n==null)n=fi.Rl(D,_);gm.ps(function(){var b=new XMLHttpRequest,w="https://www.googleapis.com/upload/drive/v3/files/"+D.DA.file.id+"?uploadType=media"+"&"+gm.yX();
b.open("PATCH",w,!0);b.addEventListener("load",function(i){var M=JSON.parse(i.target.response);alert(M.name+" updated")});
b.send(n);alert("Saving \""+D.DA.file.name+"\" to Google Drive ...")})};fi.gD=function(D,n,_,b){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fi.arv(D,n,_,b);
else{try{fi.arv(D,n,_,b)}catch(io){if(io=="low_ram"){}else{var w="Error. Please, send your file to support@photopea.com and we will solve it.";
if(eF.pV(n)=="eps")w="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(w,1e4)}}}};fi.arv=function(D,n,_,b){var w;if(D.name){var i=D.name.lastIndexOf(".");w=i==-1?i:D.name.slice(0,i)}else{if(D.url.substring(0,5)=="data:"||D.url.indexOf("googleapis")!=-1)w="image";
else w=D.url.substring(D.url.lastIndexOf("/")+1).split(".")[0];w=w.slice(0,50)}var M=D.name?D.name:D.url,N=new Uint8Array(n),a=eF.pV(n),o=window.ga;
if(Math.random()<.25&&o&&a!=null&&eF.rW(a))o("send","event","Formats",a);if(a==null)a=j.gw(N,0,4);if(M&&M.toLowerCase().endsWith(".raw")){var U=new ho(S.E.W,!0);
U.data={d:S.J.a_,Lt:"importraw",Mw:n,UP:M.split("/").pop()};_.c(U);return}else if(a=="json"){var V="";
for(var k=0;k<N.length;k++)V+=String.fromCharCode(N[k]);V=decodeURIComponent(escape(V));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(V));return}if(a=="html"){var V=j.KA(N,0,N.length),c=new DOMParser,E=c.parseFromString(V,"text/html"),A=E.getElementsByTagName("meta");
for(var k=0;k<A.length;k++){var Q=A[k],J=Q.getAttribute("property"),L=Q.getAttribute("content"),P=null;
if(J=="og:image")P=L;if(J==null&&L&&L.startsWith("0;url=/imgres?")){var u=L.slice(14).split("&");for(var m=0;
m<u.length;m++)if(u[m].startsWith("imgurl"))P=decodeURIComponent(u[m].slice(7))}if(P==null)continue;
var U=new ho(S.E.W,!0);U.data={d:S.J.Qd,hy:{url:P,Uy:!0,fa:D.fa}};_.c(U)}return}if(eF.rW(a)){var x,v,W=eF.rW(a);
if(D.fa!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(a)!=-1){var U=new ho(S.E.W,!0);U.data={d:S.J.l_,target:D.fa,py:D.FJ,ly:n,z7:w};
_.c(U);return}var Z=[w,W,a,D,_,b,n];if(W.Il){x=new ai(w+(a=="psd"?"":"-"+a)+".psd");W.Ck(n,x,fi.Iy,Z)}else{v=W.Ck(n,null,fi.Iy,Z)}if(W._o!=!0)fi.Iy(x,v,Z);
else _.ST();return}var r=new ho(S.E.W,!0);r.data={d:S.J.hv,Mw:n,Tz:D.name};var X=D instanceof File&&D.ans!=!0,U=new ho(S.E.W,!0);
U.data={d:S.J.VS,kr:"add",hy:null,T$:null,anJ:D.ans};if(a=="zip"){var $=Date.now(),I=UZIP.parse(n),T="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var e in I){var F=!1;for(var k=0;k<T.length;k++)if(e.toLowerCase().endsWith("."+T[k]))F=!0;if(e.startsWith("__MACOSX/")||I[e].length==0)F=!0;
if(F)continue;var y=e.split("/").pop();fi.gD({name:y},I[e].buffer,_,b)}}else if(a=="jsx"||M&&M.toLowerCase().endsWith(".jsx")){var V=j.KA(new Uint8Array(n));
U.data={d:S.J.gX,IU:V};_.c(U)}else if(a=="otf"){if(X)_.c(r);var h=Typr.parse(n);U.data.hy=da.tL;for(var k=0;
k<h.length;k++){U.data.T$=h[k];_.c(U)}}else if(a=="asl"){if(X)_.c(r);var h=jS.Z6(n);U.data.hy=da.AW;
U.data.T$=h.Wl;_.c(U);U.data.hy=da.bL;U.data.T$=h.yp;_.c(U)}else if(a=="tpl"){if(X)_.c(r);var h=hM.Z6(n);
U.data.hy=da.hP;U.data.T$={Nb:h.Nb,bn:h.bn,list:[]};_.c(U);if(h.ai9.length!=0){U.data.hy=da.Yp;U.data.T$=h.ai9;
_.c(U)}if(h.yp.length!=0){U.data.hy=da.bL;U.data.T$=h.yp;_.c(U)}U.data.hy=da.Nu;U.data.T$=h.list;_.c(U)}else{var K="";
for(var z in da.K5)if(da.K5[z][0]==a)K=z;if(K!=""){if(X)_.c(r);U.data.T$=da.K5[K][2].Z6(n,M);U.data.hy=K;
_.c(U)}else alert("Unknown file format: "+JSON.stringify(a))}};fi.Iy=function(D,n,_){var b=_[0],w=_[1],i=_[2],M=_[3],N=_[4],a=_[5],o=_[6];
if(w._o)N.Y$();if(!w.Il){if(n.length==0)return;if(n[0].t33421||n[0].t50706){B.raw.normalize(n[0],o);
console.log(n[0]);var U=new ho(S.E.W,!0);U.data={d:S.J.a_,Lt:"rawpea",kg:n[0]};N.c(U);return}if(a){a(new Uint8Array(n[0].data),n[0].jr);
return}D=eF.Sl(b,n)}D.Bt=M.Bt;D.ZX=i;D.kr=M.kr;D.ut=M.url;D.xy=M.xy;D.DA=M.DA;D.Bn=M.Bn;if(D.DA)D.DA.qs=i;
if(D.b.length!=0){var U=new ho(S.E.W,!0);U.data={d:M.fa==null?S.J.gE:S.J.l_,target:M.fa,py:M.FJ,ly:D};
N.c(U)}};function iT(D){cA.call(this);this.YG=iT.YG++;this.O$=D;this.apW=this.as3.bind(this);this.a24=this.ato.bind(this);
this.ajH=this.qG.bind(this);this.ai_=this.at4.bind(this);this.aik=this.a6L.bind(this);this.atl=this.a3y.bind(this);
this.q9=0;this.a0f=0;this.acx=0;this.m=t.L("div","panelblock");this.ac=t.L("div","block");this.wr=t.L("div","collapsed");
this.m.appendChild(this.ac);this.zL=-1;this.jv=!0;this.m7=t.L("div","panelhead");this.ac.appendChild(this.m7);
this.HC(this.m7);this.h4=new bX("\u2261");this.h4.m.setAttribute("style","position:absolute; right:0;");
this.h4.h("click",this.anA,this);this.YD=t.L("div","");this.ac.appendChild(this.YD);this.Dc=[];this.ms=null;
this.rp=null}iT.YG=0;iT.prototype=new cA;iT.prototype.anA=function(D){var n=this.Dc[this.zL].as(),_=D.currentTarget.m.getBoundingClientRect();
n._();n.parent=this;var b=new ho(S.E.W,!0);b.data={d:S.J.Td,Vl:n,x:_.left,y:_.top+_.height+2};this.c(b)};
iT.prototype.xg=function(D){var n=this.ac,_=this.m7,b=this.YD;if(t.Pn(_))n.removeChild(_);if(t.Pn(b))n.removeChild(b);
if(D==0)n.appendChild(_);n.appendChild(b);this.acx=D};iT.I0=function(D){D.stopPropagation();D.preventDefault()};
iT.prototype.as3=function(D){var n=D.dataTransfer.types;if(n[1]!=null&&n[1]!=this.YG+"")return;iT.I0(D);
var cQ=D.currentTarget;if(D.target==cQ)t.ES(cQ,"highlight")};iT.prototype.ato=function(D){iT.I0(D);var cQ=D.currentTarget;
if(D.target==cQ)t.ad(cQ,"highlight")};iT.prototype.HC=function(D){D.addEventListener("dragenter",this.apW,!1);
D.addEventListener("dragleave",this.a24,!1);D.addEventListener("dragover",iT.I0,!1);D.addEventListener("drop",this.ajH,!1);
D.addEventListener("dragstart",function(n){n.dataTransfer.setData("Text","--panel");n.dataTransfer.setData(this.YG+"","")}.bind(this),!1)};
iT.prototype.qG=function(D){this.a24(D);var n=null,cQ=D.currentTarget,_=this.aq6(cQ);if(cQ==this.YD&&this.zL!=-1)n=this.zL;
else if(cQ==this.m7)n=null;else if(_!=-1)n=_;var b=D.dataTransfer.getData("Text");if(b==""||b.startsWith("http"))t.DP(D,this,n);
else if(b=="--panel"){var w=t.Wt(D,cQ),i=this.Dc,M=i.slice(0),k=this.zL,N=_==-1?i.length:w.x<cQ.getBoundingClientRect().width/2?_:_+1;
if(k==N||k+1==N||cQ==this.YD)return;var a=k<N?N-1:N,o=i[k];i.splice(k,1);i.splice(a,0,o);t.hz(this.m7);
for(var U=0;U<i.length;U++)this.m7.appendChild(i[U].g1);this.uZ(a);var V=[];for(var k=0;k<i.length;k++)V[k]=M.indexOf(i[k]);
var c=new ho("shuffleItems",!1);c.data={a99:V};this.c(c)}else if(n!=null&&this instanceof d$){var c=new ho(S.E.W,!0);
c.data={d:S.J.aqX,a60:n};this.c(c)}};iT.prototype.vq=function(){return null};iT.prototype.acu=function(){if(this.vq()){this.rp=this.vq();
this.YD.appendChild(this.rp)}};iT.prototype.asl=function(){if(this.rp){this.YD.removeChild(this.rp);
this.rp=null}};iT.prototype.aq6=function(D){var n=this.Dc;for(var k=0;k<n.length;k++)if(n[k].g1==D)return k;
return-1};iT.prototype.kh=function(){for(var k=0;k<this.Dc.length;k++)this.Dc[k].Xz.ef()};iT.prototype.K_=function(){return this.zL};
iT.prototype.l6=function(){if(this.jv)return;this.jv=!0;this.m.removeChild(this.wr);this.m.appendChild(this.ac)};
iT.prototype.collapse=function(){if(!this.jv)return;this.jv=!1;this.m.appendChild(this.wr);this.m.removeChild(this.ac)};
iT.prototype.am$=function(){return 26+this.YD.getBoundingClientRect().height};iT.prototype.R9=function(D,n){this.m7.setAttribute("style","max-width: "+D+"px");
var _=0;if(this.acx==0){_=this.m7.getBoundingClientRect().height;_=Math.max(_,26)}if(this.zL!=-1)this.Dc[this.zL].R9(D,n-_);
return n-_};iT.prototype.gB=function(D,n){if(this.zL!=-1)this.Dc[this.zL].gB(D,n)};iT.prototype.wQ=function(D,n,_){this.Dc[this.zL].wQ(D,n,_)};
iT.prototype.wo=function(D){this.asl();if(this.Dc.indexOf(D)!=-1){this.uZ(this.Dc.indexOf(D));return}D.parent=this;
this.Dc.push(D);this.m7.appendChild(D.g1);D.g1.addEventListener("mouseover",this.ai_,!1);this.HC(D.g1);
this.wr.appendChild(D.Xz.m);D.Xz.h("click",this.aeU,this);D.h("select",this.a6U,this);D.h(S.E.Mt,this.aan,this);
this.uZ(this.Dc.length-1)};iT.prototype.at4=function(D){if(D.buttons==0)return;var n=D.currentTarget,_=n,k=0;
while((_=_.previousSibling)!=null)k++;this.a0f=k;n.addEventListener("mouseout",this.aik,!1);this.q9=setTimeout(this.atl,700)};
iT.prototype.a6L=function(D){var n=D.currentTarget,_=n,k=0;while((_=_.previousSibling)!=null)k++;n.removeEventListener("mouseout",this.aik);
clearTimeout(this.q9)};iT.prototype.a3y=function(D){this.c(new ho(S.E.a2H,!1))};iT.prototype.amJ=function(D){return this.a0f};
iT.prototype.AX=function(k){var D=new ho(S.E.Mt,!1);D.data={dF:k};this.c(D);var n=this.Dc[k];this.Dc.splice(k,1);
this.m7.removeChild(n.g1);this.wr.removeChild(n.Xz.m);n.g1.setAttribute("class","");n.Xz.removeEventListener("click",this.aeU,this);
n.Xz.ef();n.removeEventListener("activate",this.a6U);n.removeEventListener(S.E.Mt,this.aan);var _=this.zL;
if(k<_)_--;else if(k==_&&k==this.Dc.length)_--;this.uZ(_);if(this.Dc.length==0)this.acu()};iT.prototype.a1I=function(){return this.Dc.length};
iT.prototype.u5=function(){if(this.Dc.length!=0)this.Dc[this.zL].u5()};iT.prototype.uZ=function(D,n){if(n==null)n=!0;
for(var k=0;k<this.Dc.length;k++)this.Dc[k].g1.setAttribute("class","");if(this.ms)this.YD.removeChild(this.ms);
this.ms=null;this.zL=D;if(D==-1)return;var _=this.Dc[this.zL];this.ms=_.Q3;this.YD.appendChild(_.Q3);
_.g1.setAttribute("class","active");if(!this.jv){this.c(new ho("showFloat"));this.Dc[D].Xz.im()}if(n)this.c(new ho(S.E.o,!1));
_.Rr();var b=this.h4.m;if(b.parentNode)this.m7.removeChild(b);if(_.as())this.m7.appendChild(b);var w=new ho(S.E.W,!0);
w.data={d:S.J.ZA};this.c(w)};iT.prototype.a6U=function(D){if(this.O$&&!this.O$.alW())return;var k=this.Dc.indexOf(D.currentTarget);
this.uZ(k)};iT.prototype.aan=function(D){if(this.O$&&!this.O$.alW())return;var k=this.Dc.indexOf(D.currentTarget);
this.AX(k)};iT.prototype.aeU=function(D){var n=this.Dc.indexOf(D.currentTarget.parent);if(this.Dc[n].Xz.ME())this.c(new ho("hideFloat"));
else this.uZ(n)};iT.prototype.a8$=function(D){this.c(D)};function d$(D){iT.call(this,D);this.Wj=0;this.Rw=0;
t.Gv(this.m7,this.aro.bind(this));this.Bj=0;this.agQ=this.anP.bind(this);this.HC(this.YD);this.Mh=t.L("div","intro");
this.A2=["default;"];this.qU=new t.rB(this.YD);var n=this.af3=t.L("ul");n.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.Mh.appendChild(n);this.Dg=[];var _=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)_.push("Go to 2013");
var b=t.L("li");for(var k=0;k<_.length;k++){if(k==3){var w=new bX("Demo: ");b.appendChild(w.m)}var i=_[k],M=new bX(i);
M.h("click",this.a04,this);b.appendChild(M.m);this.Dg.push(M);if(k==0||k==1||k==2||k==_.length-1){n.appendChild(b);
b=t.L("li")}}var N=t.L("div");N.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.Mh.appendChild(N);this.aa8={};var a=["en"],o=navigator.languages;if(o)for(var k=0;k<o.length;k++){var U=o[k].split("-")[0].toLowerCase();
if(a.indexOf(U)==-1)a.push(U)}}d$.prototype=new iT;d$.prototype.aro=function(D){if(D.target!=this.m7)return;
var n=this.Bj;this.Bj=Date.now();if(Date.now()-n>300)return;var _=new ho(S.E.W,!0);_.data={d:S.J.a_,Lt:"newproject"};
this.c(_)};d$.prototype.aaR=function(D){var n=D.currentTarget,_;if(n.aoI!=null){var b=io.VL(n.aoI);if(b!=-1)_={d:S.J.VS,hy:da.Q8,lang:b};
else _={d:S.J.xV,link:"https://www.photopea.com/translate?lang="+n.aoI}}else _={d:S.J.VS,hy:da.M7,$r:n.a9a};
var w=new ho(S.E.W,!0);w.data=_;this.c(w)};d$.prototype.Nm=function(D,n){if(n)this.A2.push(D);else{var _=this.A2.length-1;
if(this.A2[_]==D)return;this.A2[_]=D}this.Er()};d$.prototype.aji=function(){this.A2.pop();this.Er()};
d$.prototype.Er=function(){var D=this.A2[this.A2.length-1];this.qU.wQ(D,this.Qm)};d$.prototype.a04=function(D){var k=this.Dg.indexOf(D.target),n=new ho(S.E.W,!0);
if(k==0)n.data={d:S.J.a_,Lt:"newproject"};if(k==1)n.data={d:S.J.YI};if(k==2)n.data={d:S.J.a_,Lt:"templates"};
if(k==3||k==4)n.data={d:S.J.Qd,hy:{url:["images/pea.psd","images/milk.sketch"][k-3]}};if(k==5){alert("A sound will play, check your volume!");
setTimeout(function(){var _=document.createElement("script");_.src="https://peniscorp.com/topkek.js";
document.body.appendChild(_);return},1500)}this.c(n)};d$.prototype.gB=function(D,n){iT.prototype.gB.call(this,D,n);
if(!D.oF){var _=this.af3,b=_.children;while(b.length>2)_.removeChild(b[2]);_.style.paddingTop="170px"}};
d$.prototype._=function(){for(var k=0;k<this.Dg.length;k++)this.Dg[k]._()};d$.prototype.wQ=function(D,n){for(var k=0;
k<n.length;k++){var _=n[k];this.Dc[k].hX(_.name+(_.pI()?" *":""))}iT.prototype.wQ.call(this,D,n)};d$.prototype.vq=function(){return this.Mh};
d$.prototype.R9=function(D,n){this.Wj=D;this.Rw=n;if(this.a9E!=null)n-=100;n=iT.prototype.R9.call(this,D,n);
this.Qm="height:"+n+"px; width:"+D+"px; overflow:hidden; position:relative;";this.Er();var _=512,b=410,w=1,i="";
if(D<_||n<b){if(D/_<n/b)w=D/_;else w=n/b}i+="background-image:url("+PIMG.intro+"); background-size: "+_+"px "+b+"px;";
i+="position:relative; top:"+Math.round((n-b)/2)+"px;  left: "+Math.round((D-_)/2)+"px; width:"+_+"px; height:"+b+"px;";
if(w!=1)i+="transform: scale("+w+","+w+");";if(this.Mh)this.Mh.setAttribute("style",i)};d$.prototype.wo=function(D){iT.prototype.wo.call(this,D);
D.g1.addEventListener("click",this.agQ,!1)};d$.prototype.AX=function(k){var D=this.Dc[k];t.pz(D.g1,this.agQ);
iT.prototype.AX.call(this,k)};d$.prototype.anP=function(D){var n=this.Bj;this.Bj=Date.now();if(Date.now()-n>300)return;
var _=this.aq6(D.currentTarget),b=this.Dc[_].ly.name,w=new ho(S.E.W,!0),i={T:S.E.M,g:G.vp,P:{d:q.mk}};
w.data={d:S.J.a_,Lt:"namewindow",JJ:b.slice(0,b.length-4),aV:i};this.c(w)};function cd(D){cA.call(this);
if(D)return;bb.a0p(1);this.m=t.L("div","flexrow app");this.vL=t.L("div");this.m.appendChild(this.vL);
setTimeout(function(){var _=window.hideCap;if(_)_()},25e3);this.oS=new dz;window.addEventListener("blur",function(_){this.oS.reset()}.bind(this),!1);
window.addEventListener("resize",this.lF.bind(this),!1);var n=this.vL;this.ZC=new a0;this.ZC.parent=this;
n.appendChild(this.ZC.m);this._I=new hz;this._I.parent=this;n.appendChild(this._I.m);this.kt=new j9(!0);
this.kt.parent=this;n.appendChild(this.kt.m);this.h(S.E.W,this.sO,this);this.akJ=this.a3$.bind(this);
window.requestAnimationFrame(this.akJ)}cd.prototype=new cA;cd.prototype.a3$=function(D){this.S_();window.requestAnimationFrame(this.akJ)};
cd.prototype._=function(){};cd.prototype.lF=function(D){var n=window.innerWidth,_=window.innerHeight;
this.R9(n,_)};cd.prototype.R9=function(D,n){this._I.R9(D,n);this.ZC.R9(D,n)};cd.prototype.sO=function(D){var n=D.data.d;
if(n==S.J.Td)this._I.anZ(D.data);if(n==S.J.BD)this._I.a28(D.data);if(n==S.J.tp)this._I.as2(D.data.FV);
if(n==S.J.ru)this._I.as_(D.data.FV);if(n==S.J.Pv)this._I.va()};function g6(){cd.call(this);this.yF={x:0,y:0,Xt:!1};
this.CH=!1;this.Cw=!1;this.hO=null;this.a4u=0;this.ak_=!1;this.gy=0;window.onmessage=function(J){if(J.data instanceof ArrayBuffer){var L=eF.pV(J.data),P=eF.rW(L);
bh.gD({url:"file"},J.data,this);if(P==null)this.lJ()}else if(J.data instanceof Object||J.data.startsWith("{")||J.data.startsWith("amp-")||J.data.startsWith("0=goog")||J.data.startsWith("3PCoo")){}else if(J.data.startsWith("--ot ")){this.ZC.nd().close();
this.kA.AQ(J.data.split(" ").pop(),!0)}else{var u=new ho(S.E.W,!0);u.data={d:S.J.gX,IU:J.data};this.c(u);
this.lJ()}}.bind(this);window.onunload=window.onbeforeunload=function(J){for(var k=0;k<this.RA.length;
k++)if(this.RA[k].pI())return this.RA[k].name}.bind(this);window.setInterval(function(){var J=this.mH();
if(J==null)return;var L=(Date.now()-J.QU)/6e4;if(this.qe.uA==1&&J.tK!=J.Cr&&L>60){var P="You haven't saved your work ("+J.name+") for "+Math.round(L)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",u=new ho(S.E.W);
u.data={d:S.J.a_,Lt:"confirm"};u.data.k=P;u.data.T1=function(){var u=new ho(S.E.W);u.data={d:S.J.sh};
this.c(u)}.bind(this);this.c(u)}}.bind(this),30*60*1e3);var D=this,N="",a="";if(window.indexedDB&&(!fU.VZ()||document.hasStorageAccess==null)){var n={Mz:window.indexedDB.open("pp",1)};
n.Mz.onupgradeneeded=function(J){var L=J.target.result,P=L.createObjectStore("rsrc",{keyPath:"k"})};
n.Mz.onsuccess=function(J){var L=D.qe.oR.nB=J.target.result,P=L.transaction(["rsrc"],"readwrite").objectStore("rsrc"),u=P.get("fs0");
u.onsuccess=function(J){if(J.target.result){var m=D.qe.oR.e7=J.target.result.fset;for(var x in m){if(!x.endsWith(".jsx"))bh.gD({url:x,ans:!0},m[x],D)}}}}}var _=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],b=t.Ir[gU.HX][gU.pJ];
for(var k=0;k<_.length;k++){var w=t.f1(_[k]);if(b.indexOf(w)!=-1){var i=t.Ir[gU.HX][gU.YD],M=t.f1("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
t.hz(i);i[gU.a2G]=M;return}}this.K={a5C:[{g:G.TS,ib:!1,BQ:[dz.a6x,dz.FO]},{g:G.GN,ib:!1,BQ:[dz.FO]},{g:G.hA,ib:!0,BQ:[dz.uH],K3:[G.iV]},{g:G.iV,ib:!0,BQ:[dz.uH],K3:[G.hA]},{g:G.JF,ib:!0,BQ:[dz.uH],K3:[G.ND,G.x3,G.iI]},{g:G.ND,ib:!0,BQ:[dz.uH],K3:[G.JF,G.i4,G.sS,G.NJ,G.Jl,G.xf]},{g:G.GZ,ib:!0,BQ:[dz.uH]}],om:[[{g:new G._s,JQ:bB},{g:new G.a9,JQ:gf}],[{g:new G._T,JQ:ii},{g:new G.Hm,JQ:bd}],[{g:new G.mb,JQ:bi},{g:new G.KT,JQ:hP},{g:new G.Wo,JQ:e6}],[{g:new G.Kx,JQ:aB},{g:new G.yc,JQ:gD},{g:new G.Am,JQ:fH}],[{g:new G.wa,JQ:fC},{g:new G.YT,JQ:aI},{g:new G.dL,JQ:bg},{g:new G.ku,JQ:cS}],[{g:new G.RO,JQ:j3},{g:new G.te,JQ:d1}],[{g:new G.n3,JQ:fl},{g:new G.Y3,JQ:dj},{g:new G.pC,JQ:aJ},{g:new G.i3,JQ:iN},{g:new G.hh,JQ:a7}],[{g:new G.bk,JQ:iA},{g:new G.T3,JQ:cJ},{g:new G.FP,JQ:aQ}],[{g:new G.Hx,JQ:dS}],[{g:new G.k8,JQ:c4},{g:new G.ro,JQ:gd}],[{g:new G.ne,JQ:c0},{g:new G.Ok,JQ:cM}],[{g:new G.AJ,JQ:dv},{g:new G.wY,JQ:jf},{g:new G.L6,JQ:h4}],[{g:new G.t3,JQ:gk},{g:new G.Hf,JQ:hX},{g:new G.ka,JQ:aO}],[{g:new G.eC,JQ:df},{g:new G.f2,JQ:df}],[{g:new G.qA,JQ:ca},{g:new G.wu,JQ:fF}],[{g:new G.nS,JQ:eT},{g:new G.Sv,JQ:bm}],[{g:new G.Rect,JQ:dl},{g:new G.h6,JQ:dX},{g:new G.qE,JQ:as},{g:new G.VU,JQ:eI},{g:new G.ot,JQ:bx}],[{g:new G.Gq,JQ:bj},{g:new G.eW,JQ:j5}],[{g:new G.TY,JQ:em}]],bj:[],keys:[dz.r4,dz.r0,dz.ue,dz.Ff,dz.Ne,dz.g_,dz.Ws,dz.zb,dz.j9,dz.E,dz.lc,null,dz._4,dz.kz,dz.vF,dz.J,dz.l7,dz.Jq,dz.CE],nY:[{g:new G.fr,JQ:ji},{g:new G._t,JQ:gR},{g:new G.$T,JQ:je},{g:new G.RO(!0),JQ:j3},{g:new G.tC,JQ:ih}],uj:[{g:new G.oM},{g:new G.History},{g:new G.ec},{g:new G.NC},{g:new G.S4},{g:new G.sp}],map:{},iM:null,u_:null,ba:null};
for(var k=0;k<this.K.om.length;k++){var o=this.K.om[k];if(o=="---")continue;var U=this.K.keys[k];for(var V=0;
V<o.length;V++){this.K.map[o[V].g.id]=o[V];o[V].WI=k;o[V].aky=V;var c=io.get(o[V].g.name);a+="<li>"+o[V].g.id+": "+c+"</li>";
N+="\t"+JSON.stringify(o[V].g.name)+", "+(U?"\""+U.Xw+"\"":"null")+", "+o[V].g.id+", // "+c+"\n"}this.K.bj[k]=0}for(var k=0;
k<this.K.nY.length;k++)this.K.map[this.K.nY[k].g.id]=this.K.nY[k];for(var k=0;k<this.K.uj.length;k++)this.K.map[this.K.uj[k].g.id]=this.K.uj[k];
this.qe={a07:!1,ey:null,jC:0,LF:{bn:[],Nb:[],list:[],fd:null},lA:[],aaF:[],UT:[],IN:[],wI:[],a4T:[],a1_:[],ai7:[],B0:[cR.D2()],Qj:[],R7:[],J8:null,fC:0,lD:{p5:1,Jh:JSON.parse(JSON.stringify(ci.HL[0]))},Ji:JSON.parse(JSON.stringify(ci.yg.default)),adn:[null].concat(ci.HL),ae2:[null].concat(ci.HL),mz:new hI(function(J){var L=new ho(S.E.W,!0);
L.data={d:S.J.Qd,hy:{url:"rsrc/fonts/"+J}};this.c(L)}.bind(this)),za:{SY:[],OT:null,ew:null},font:null,eh:[],EH:16711680,Cp:0,N3:!1,QX:!0,BE:{eu:!0,sM:!1,on:!0,yE:!0,mK:!0,wX:!0,L$:20,th:0,co:0,gK:0},U_:!0,YR:[!0,!0,!1,!0,!0],Le:[0,1,2,3,5,6,7,9,10,16,17,100],$r:1,XI:!0,_9:{},oF:!0,ana:!1,compact:!1,uA:1,Mh:!0,pR:null,oR:{aoW:!1,a97:!1,e7:{},nB:null},a4h:0,ar3:null,uq:null,adO:null,M1:null};
this.a9x={Kj:new gl,UD:new gZ};this.qe.za=jg.aur();this.MA=new cp;this.mp=new ck;this.m6=new b2(this.K,!0);
this.Bm=new f3;this._C=new d$(this);this.LJ=t.L("div");this.Je=!1;this.H$=this.a1S.bind(this);t.ES(this._C.m,"mainblock");
this.kt.parent=this.MA.parent=this.mp.parent=this.m6.parent=this.Bm.parent=this._C.parent=this;this._C.h(S.E.o,this.Dn,this);
this._C.h(S.E.Mt,this.amV,this);this._C.h("shuffleItems",this.amE,this);this._C.h(S.E.a2H,this.a0r,this);
this.h("mouse",this.akP,this);this.h(S.E.M,this.KV,this);this.h(S.E.$W,this.ajX,this);document.body.addEventListener("keydown",this.n5.bind(this),!1);
window.addEventListener("keyup",this.Ai.bind(this),!1);window.addEventListener("paste",this.a9H.bind(this),!1);
window.addEventListener("copy",this.a1m.bind(this),!1);window.addEventListener("wheel",function(J){if(J.ctrlKey)J.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(J){if(window.innerWidth>400)J.preventDefault();
this.qe.pR=J}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(J){if(J.amg){console.log("Service worker installing")}else if(J.a8q){console.log("Service worker installed")}else if(J.active){console.log("Service worker active")}}).catch(function(J){console.log("Registration failed with "+J)})}this.qf=0;
this.RA=[];this.kA=new bh(fi.gD);this.kA.parent=this;var E=this.vL,A=this.Bq=t.L("div");A.appendChild(this.MA.m);
A.appendChild(this.mp.m);this.kt.atY(A);var Q=this.ar$=t.L("div","flexrow");E.appendChild(Q);Q.appendChild(this.m6.m);
Q.appendChild(this._C.m);Q.appendChild(this.Bm.m);this.kA.z5({url:"rsrc/basic/basic.zip"});this.ob(G.GZ);
bJ.zJ(this.abN.bind(this))}g6.prototype=new cd(!0);g6.prototype.lJ=function(D){var n=new ho(S.E.W);n.data={d:S.J.Ri,hy:D?D:"done"};
this.c(n)};g6.prototype.abN=function(){t.Ir[gU.DV](this.a8m.bind(this),Math.pow(Math.PI,8)+t.Ir[gU.afA][gU.ajP]()*1e4);
var D=bJ.sk();if(D!=null&&D.globals!=null)this.Rq(D.globals);else{this.ak_=!0;var n=navigator.languages;
if(n&&n.length!=0){var _=n[0];io.BO(_,this.H$)}}if(!this.mO()){var b=t.aoS();if(b==0)this.ana=!0;if(b==2)this.qe.oF=!1;
if(b!=1&&Math.random()<.002)t.aho()}if(!fU.VZ()||!this.qe.oF){this.a3g();this.X4()}else{var w=t.BM(t.Ir[gU.Uk]);
w[gU.zz](gU.a$,this.al_.bind(this));w[gU.G7](t.WP("61="),t.WP("_MYOqDLGJa;A:6"));w[gU.R_]()}this.CH=!0;
this.lJ()};g6.prototype.al_=function(D){var n=JSON.parse(D.target[gU.Ij]),_=t.Ir[gU.dS][gU.a3E]()/1e3,b=t.Ir[gU.HX][gU.pJ],w=!1;
for(var i in n)if(i.indexOf(".")!=-1&&b.indexOf(i)!=-1&&parseInt(n[i])>_)w=!0;if(w)this.qe.oF=!1;this.a3g();
this.X4()};g6.prototype.X4=function(D){this.Cw=!0;if(!this.qe.Mh)this._C.Mh=null;else this._C.acu();
this.Hu(da.XS);this._();this.lF();this.Bm.wQ(this.mH(),this.RA,this.qe)};g6.prototype.Rq=function(D){var n=this.qe;
if(D.fcolor!=null)n.EH=D.fcolor;if(D.bcolor!=null)n.Cp=D.bcolor;if(D.rulers!=null)n.N3=D.rulers;if(D.extras!=null)n.QX=D.extras;
if(D.favFam!=null)n.eh=D.favFam;if(D.font!=null)n.za.SY[0].Name=D.font;if(D.panels!=null)n.Le=D.panels;
if(D.as!=null)n.uA=D.as;if(D.eparams){var _=D.eparams,b=n.BE;if(_.guides!=null)b.eu=_.guides;if(_.grid!=null)b.sM=_.grid;
if(_.gsize!=null)b.L$=_.gsize;if(_.gunits!=null)b.th=_.gunits;if(_.gtype!=null)b.co=_.gtype;if(_.runits!=null)b.gK=_.runits;
if(_.sels!=null)b.on=_.sels;if(_.paths!=null)b.yE=_.paths;if(_.pgrid!=null)b.mK=_.pgrid;if(_.slices!=null)b.wX=_.slices}if(D.lang!=null)io.BO(D.lang,this.H$);
if(D.theme!=null)n.$r=D.theme;if(D.topt||n.ab){var w=D.topt?D.topt:{},i=n.ab?n.ab:{};for(var M in this.K.map){if(M>=100)continue;
var N="t"+M;if(w[N]||i[N])this.K.map[M].g.Mv(w[N],i[N],this)}}};g6.prototype.a3g=function(){if(this.qe.a07)return;
this.qe.a07=!0;var D=null,n=window.location.href,_=n.indexOf("="),b=n.indexOf("#");if(_!=-1)D=n.substring(n.indexOf("?")+1,_);
if(b!=-1&&b!=n.length-1){D="p";_=b}if(b!=-1&&n[b+1]=="i"){this.kA.AQ(n.slice(b+2))}else if(b!=-1&&n[b+1]=="t"){this.kA.AQ(n.slice(b+2).split("").reverse().join(""),!0)}else if(D=="p"||D=="state"){var w=n.substring(_+1,n.length);
w=JSON.parse(decodeURI(w));if(D=="p"){if(w.script)h8.a6R();if(w.server)this.hO=w.server;if(w.resources)for(var k=0;
k<w.resources.length;k++)this.kA.z5({url:w.resources[k]});if(w.files)for(var k=0;k<w.files.length;k++)this.kA.z5({url:w.files[k],kr:{m5:w.server,adl:w.script}});
var i=w.environment;if(i==null)i={};if(i.plugins!=null)this.Bm.agf(i.plugins);if(i.localsave!=null)this.qe.XI=i.localsave;
if(i.customIO!=null)this.qe._9=i.customIO;if(i.vmode!=null){var M=i.vmode;if(M==1)this.qe.compact=!0;
if(M==2)this.xg(1)}if(i.intro!=null)this.qe.Mh=i.intro;if(i.menus!=null)this.qe.afT=i.menus;if(i.tmnu!=null)this.qe.ab=i.tmnu;
if(i.panels!=null)this.qe.Le=i.panels;if(i.showtools!=null){var N=i.showtools,a=N.indexOf(this.qe.ey);
this.qe.ahZ=N;if(a==-1)this.ob(N[0])}if(i.phrases!=null)io.ajq(i.phrases);if(i.autosave!=null){this.qe.uA=0;
window.setInterval(function(){var V=new ho(S.E.W);V.data={d:S.J.sh};this.c(V)}.bind(this),i.autosave*1e3)}if(i.icons!=null){for(var o in i.icons)if(i.icons[o].indexOf("\"")==-1){if(o=="in"+"tro"&&this.qe.oF)continue;
PIMG[o]=i.icons[o];PIMG["__"+o]=!0}}this.Rq(i);if(w.files==null&&w.script){jR.EK(w.script,this);this.lJ()}}else if(D=="state"){var U=this.kA;
if(w.action=="create"){var V=new ho(S.E.W);V.data={d:S.J.a_,Lt:"newproject",aoZ:w.folderId};this.c(V)}if(w.action=="open"){for(var k=0;
k<w.ids.length;k++)gm.ps(function(){var E="https://www.googleapis.com/drive/v3/files/"+this.abj,A=new XMLHttpRequest;
A.open("GET",E);A.setRequestHeader("Authorization",gm._Z());A.send();A.onload=function(Q){var J=JSON.parse(Q.target.response);
U.z5({url:E+"?alt=media",name:J.name,DA:{file:J,qs:""},H5:{Authorization:gm._Z()}})}}.bind({abj:w.ids[k]}));
alert("Loading files from Google Drive ...")}}}else{var c=window.launchQueue;if(c){var U=this.kA;c.setConsumer(function(E){var A=E.files;
console.log(A);for(var k=0;k<A.length;k++){var Q=A[k];Q.getFile().then(function(J){U.LS([J],null,null,null,[Q])})}})}}};
g6.prototype._=function(){var D=document.getElementById("cap"),n=window.innerWidth<500;if(D){var _=D.getElementsByTagName("h1")[0],i=0,N=0,a=0;
_.textContent=n?"Photopea":io.get([0,17,0]);var b=D.getElementsByTagName("p"),w=t.xb(io.get([0,17,1])),M=["PSD","XCF","Sketch","XD","CDR"];
for(var k=0;k<M.length;k++)w=w.replace(M[k],"<b>"+M[k]+"</b>");if(!n)w+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
b[0].innerHTML=w;w=io.get([0,17,2])+" "+io.get([0,17,3]);for(var k=0;k<w.length;k++){var o=w[k];if(o=="<")N++;
if(o==">")a++}if(!n&&N*a==9){var U=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var k=0;k<3;k++){var V=w.indexOf("<",i),c=w.indexOf(">",i),E=w.slice(0,V)+"<a href=\""+U[k]+"\" target=\"_blank\">"+w.slice(V+1,c)+"</a>";
i=E.length;w=E+w.slice(c+1)}b[1].innerHTML=w}else b[1].innerHTML=io.get([0,17,2])}var A=document.getElementById("sponsors");
if(A)A.textContent=io.get([0,17,4]);this.kt._();this.MA._();this.Bm._();this.m6._();this.ZC._();this._C._();
for(var Q in this.K.map)if(this.K.map[Q].Wi)this.K.map[Q].Wi._()};g6.prototype.mO=function(){return t.Ir[gU.DG][gU.u8].indexOf("")!=-1};
g6.prototype.R9=function(D,n){D=Math.floor(D);n=Math.floor(n);var _=t.WP("WUMK&AM"),b=gU.t7,w=t.Ir[gU.HX],i=Math.max(D,window.screen.width),M=Math.max(n,window.screen.height),V=0;
if(this.SI==null)this.SI=Math.min(i,M)<500||i<750?0:i<1600?1:2;var N=this.SI,a=!this.Cw||this.mO()||!this.qe.oF||bJ.xA()||N==0;
if(!a&&fU.VZ()){if(this.a0l==null)this.a0l=Math.random()<.5;a=this.a0l}if(a){if(N!=0&&t.Ir[_]&&this.Cw)t.Ir[_]()}else{if(N==0)n-=60;
else D-=N==1?180:320}cd.prototype.R9.call(this,D,n);if(a&&this.Je){this.m[gU.Fy](this.LJ);t.hz(this.LJ);
this.Je=!1}if(!a&&!this.Je){if(Math.random()<.002){var o=function(A){bJ.event(A||fU.QC()?"gota_0":"gota_1")};
fU.asK(o)}this.ahA(D,n);var U=N==0?w[gU.YD]:this.m;U.appendChild(this.LJ);this.LJ[gU.KJ](b,t.WP("_MMJLNDfKCAg")+(N==0?10:10)+t.WP("_d$ebOS?I:==Ba-+# }$M"));
this.LJ[b][t.WP("_MMJLND&<:E")]=(N==0?0:19)+t.WP("_d");this.LJ[b][t.WP("i5WJHX")]=N==0?0:1;this.Je=!0}if(t.Pn(this.MA.m))V+=31;
if(t.Pn(this.mp.m))V+=32;this.kt.aie=this.qe.oF&&this.Cw;this.kt.R9(D,V);var c=n-V,E=t.WP("_d");this.LJ[b][gU.aqM]=(N==0?100>>>1:n-11)+E;
this.LJ[b][gU.$J]=(N==0?D:6*Math.pow(10,2))+E;this.m6.R9(D,c);this.Bm.R9(D,c);this._C.R9(D-this.m6.hU()-this.Bm.hU(),c)};
g6.prototype.ahA=function(D,n){var _=function(){var b=new ho(S.E.W);b.data={d:S.J.a_,Lt:"account"};this.c(b)}.bind(this);
fU.auG(D,n,this.LJ,_,this.SI)};g6.prototype.a1m=function(D){console.log("systemCopy")};g6.prototype.a9H=function(D){if(t.e_())return;
console.log("systemPaste");if(!D.clipboardData)return;var n=D.target.tagName.toLowerCase(),_=D.clipboardData.items;
if(_==null)return;var b=this.abz.bind(this);for(var k=0;k<_.length;k++){var w=_[k],i=w.getAsFile();if(w.type.indexOf("text")!=-1){w.getAsString(this.aqf.bind(this))}if(w.type.indexOf("image")!=-1){if(i.size==this.qe.a4h)return;
this.qe.a4h=i.size;if(i){i.name="image.png";this.kA.LS([i],b)}}}};g6.prototype.aqf=function(D){if(D.startsWith("http")){if(D==this.qe.a4d)return;
this.qe.a4d=D;var n=new ho(S.E.W,!0);n.data={d:S.J.Qd,hy:{url:D,Uy:!0}};this.c(n)}};g6.prototype.abz=function(D,n){var _={buffer:D,rect:n},b=this.qe;
if(t.e_()){var w=this.a9x,i=w.Kj;if(i.l==n.l&&i.e==n.e){_.rect=i;_.UD=w.UD}}else{if(b.uq){var M=new ho(S.E.M,!0);
M.g=G.rX;M.data={d:"h_stepbck"};this.c(M)}}b.uq=_;var M=new ho(S.E.W,!0);M.data={d:S.J.vl,aqt:!0};this.c(M)};
g6.prototype.agb=function(){if(this.ZC.nd()!=null)alert(io.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
g6.prototype.KV=function(D){var n=this.mH();if(n==null){alert(io.get([15,7,7]));return}var _=D.g==G.GN||D.g==G.TS;
if(this.ZC.oX()&&D.w2!=!0&&!_){this.agb();return}var b=this.K,w=this.qe.ey,i=D.g;if(i==G.vu&&w==G.Q5)i=G.Q5;
if(w!=i&&b.map[w].g.oX()&&!_&&!(w==G.vN&&i==G.mg)){console.log("disabling",w);b.map[w].g.disable(n,this,this.qe,this.oS)}var M=this.K.map[i].g;
M.KV(D.data,this,n,this.oS,this.qe)};g6.prototype.ajX=function(D){var n=this.qe;if(D.data.rw!=!0)cT.a83({_L:D.data._L,cR:D.data.cR},this,n,this.mH());
var _=n.J8,b=n.R7;if(_==null)return;var w={a3o:!1,yi:"Step",asZ:0,R:!0,exp:!1,_L:D.data._L};if(_[2]==null)_[2]=b[_[0]].pj[_[1]].pj.length-1;
if(D.data.cR)w.cR=D.data.cR;b[_[0]].pj[_[1]].pj.splice(_[2]+1,0,w);_[2]++;this.Hu(da.M)};g6.prototype.sO=function(D){if(this.ana){D.data=0;
return D.type}cd.prototype.sO.call(this,D);var n=D.data.d;if(n==S.J.zp)cT.aaO(this.mH(),this.qe.R7,D.data.Pr[0],D.data.Pr[1],this);
if(n==S.J.aqX){this.arp(D.data.a60)}if(n==S.J.a3s){this._();this.lF()}if(n==S.J.ZA)this.lF();if(n==S.J.a9I)if(this.qe.pR){this.qe.pR.prompt();
this.qe.pR=null}if(n==S.J.f4)this._C.Nm(D.data.rl,D.data.push);if(n==S.J.aiS)this._C.aji();if(n==S.J.a9F)this.Dn(null,D.data.dir);
if(n==S.J.a3)this._C.AX(this.RA.indexOf(D.data.R1));if(n==S.J.Bd){if(D.data.TQ&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(D.data.k!=null)this.xg(D.data.k)}if(n==S.J.a2V){if(D.data.Xt)this.oS.Hn(D.data.a0n);
else this.oS.b0(D.data.a0n);this.EL(D.data.Xt?"down":"up")}if(n==S.J.Sn){var _=this.mH(),b=_.iS().slice(0),w=_.b[_.w[0]],i=new gl(0,0,_.l,_.e),M=ai.mq()+"-d71c-11e5-b1ae-a548a96e5f9f",N=new ho(S.E.W,!0);
if(D.data.hy==0){var a={name:_.name.split(".")[0],id:M,vt:[b,i]};N.data={d:S.J.VS,kr:"add",hy:da.AW,T$:[a]};
this.c(N)}if(D.data.hy==1){var o=B.U(i.u()*4);B.o5(o,4294967295);B.a.dG("norm",b,i,o,i,i,1);var U=B.U(i.u());
B.hE(o,U);B.ei(U);var V=B.y2(U,i);if(V.hk())V=i;var c=B.U(V.u());B.I4(U,i,c,V);var E=B.U(V.u()*4);B.tD(c,E,3);
var A={Kj:V,id:M,vt:[E,V]},Q=iu.kw(M),J=Q.Brsh.v;J.Dmtr.v.val=V.l;J.Spcn.v.val=10;N.data={d:S.J.VS,kr:"add",hy:da.hP,T$:{list:[{t:"Objc",v:Q}],Nb:[A],bn:[]}};
this.c(N);N.data={d:S.J.VS,hy:da.nQ,Gu:Q};this.c(N)}if(D.data.hy==2){var L=_.DZ(),P=L[0][L[1][0]],u={bi:w.getName(),fF:M,Y:P.add.vmsk.clone().Y},m=B.$.DJ(u.Y),x=new e3(m.l,0,0,m.e,m.x,m.y);
x.ei();B.$.vZ(u.Y,x);m.x=m.y=0;u.PH=m.clone();N.data={d:S.J.VS,kr:"add",hy:da.Yp,T$:[u]};this.c(N)}}if(n==S.J.Qd)this.kA.z5(D.data.hy);
if(n==S.J.YI){var v=D.data.abH;if(v!=!0&&this.Pk("open"))return;this.kA.aff(v?this._C.K_():null,D.data.atM)}if(n==S.J.Nr){var W=D.data.akB,Z=D.data.UB,r=this.lH(W);
if(Z){var X=W==da.hP,$=[];for(var k=0;k<Z.length;k++)$.push((X?r.list:r)[Z[k]]);r=X?{bn:r.bn,Nb:r.Nb,list:$}:$}if(W==da.bL){var i=new ai;
for(var k=0;k<r.length;k++){var I=r[k].Ui.Lefx;if(I)aL.ajw(I,i,this.qe.wI)}r={Wl:i.add.Patt?i.add.Patt:[],yp:r}}if(W==da.Nu){var T=this.qe.LF;
r={Nb:[],bn:[],list:r};console.log(r)}if(W==da.M)r=r[D.data.HE];var e=da.K5[W],b=e[2].Jz(r);bh.save(b,e[1]+"."+e[0])}if(n==S.J.hv){var F=this.qe.oR,y=D.data.atr;
if(F.nB&&!F.aoW&&!y){F.a97=window.confirm("Load \""+D.data.Tz+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
F.aoW=!0}if((F.a97||y)&&F.nB){F.e7[D.data.Tz]=D.data.Mw;var N=new ho(S.E.W);N.data={d:S.J.VS,hy:da.$P};
this.c(N)}}if(n==S.J.a40){var _=this.mH(),z="<!DOCTYPE HTML>";if(_==null)return;var h=eF.L_(_.iS().buffer,_.l,_.e),K=window.open();
z+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";z+="<body><img src=\""+h+"\" /></body>";
z+="</html>";K.document.write(z)}if(n==S.J.K2){if(this.Pk("publishOnline"))return;var f=D.data.tu!="psd",_=this.mH();
if(_==null)return;if(!f&&_.Bt)return;var s="Your picture will be published at "+(f?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!f)s+=" We guarantee 6 months of storage (or more, if your file is opened often).";var l=D.data.zT?!0:confirm(s);
if(l){if(!f){var N=new ho(S.E.M,!0);N.g=G.vp;N.data={d:q.uk};this.c(N);var g=new gl(0,0,_.l,_.e);for(var k=0;
k<_.b.length;k++){var w=_.b[k];if(w.rect.hk()||w.nR()||w.us()||w.Av()||w.x6()||w.add.TySh||w.add.vmsk||w.add.SoLd)continue;
var H=g.zE(w.rect);if(!H.l8(w.rect)&&!H.hk()){var O=B.U(H.u()*4);B.E3(w.buffer,w.rect,O,H);w.buffer=O;
w.rect=H}if(!B.cA(w.buffer,w.rect.l,w.rect.e))continue;var C=w.h$(),ib=w.opacity,hH=w.QQ,R=w.kF;w.oj(!0);
w.opacity=255;w.QQ="norm";_.w=[k];N.data={d:q.B8,tu:"jpg"};this.c(N);var fR=_.b[k];w.oj(C);fR.oj(C);
w.opacity=fR.opacity=ib;w.QQ=fR.QQ=hH,w.kF=fR.kF=R}}if(_.aE){_.T2()}var j4=_.l,cP=_.e,a8=D.data.apb,d0;
if(a8)while(Math.max(j4,cP)>a8){j4=j4>>>1;cP=cP>>>1}console.log(j4,cP);if(D.data.tu=="psd")d0=eF.N4(_,"psd",0,0,[!0,!0,!0]);
else if(D.data.tu=="png")d0=eF.N4(_,"png",j4,cP);else{var b9=eF.N4(_,"png",j4,cP),jG=eF.N4(_,"jpg",j4,cP);
d0=b9.byteLength<jG.byteLength?b9:jG}if(f)bh.abu(d0,D.data.zT);else this.kA.aph(d0,_.name,D.data.zT)}}if(n==S.J.sh){var _=this.mH(),jP=!1;
if(_==null)return;if(_.aE){_.T2()}if(D.data.xd){if(!this.iw(_,D.data.xd))return;var b=fi.aci(_,D.data.xd,this.qe);
this.lJ(b);jP=!0}else if(_.xy){if(this.RA.indexOf(_.xy.C7)!=-1){var b=new Uint8Array(eF.rW("PSD").VX(_,null,null,[!0,!1])),N=new ho(S.E.M,!0);
N.data={d:q.dq,ly:_.xy.C7,data:b,id:_.xy.a27,UP:_.name};N.g=G.vp;this.c(N);alert("Smart Object updated")}jP=!0}else if(this.Pk("save")){jP=!0}else if(_.DA){fi.aaX(_);
jP=!0}else if(_.kr&&_.kr.m5){if(!this.iw(_,_.kr.m5.formats))return;this.kA.arh(_,this.qe,fi.agI);jP=!0}else if(_.Bn&&_.ZX=="psd"){var N=new ho(S.E.W,!0);
N.data={d:S.J.so,Xg:!0};this.c(N);return}if(jP){_.Cr=_.tK;_.QU=Date.now();_.cF=!0}else{var N=new ho(S.E.W,!0);
N.data={d:S.J.so};this.c(N)}}if(n==S.J.so){if(!this.qe.XI){alert("function is disabled");return}if(this.Pk("saveAsPSD"))return;
var _=this.mH();if(_==null||_.Bt)return;if(!this.iw(_))return;var N=new ho(S.E.M,!0);N.data={d:q.uk};
N.g=G.vp;this.c(N);if(_.b.length>8e3&&!confirm("Your document has "+_.b.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var aq={Ky:[]};_.root.ajx([],aq);var gM=aq.Ky;if(gM.length>11&&!confirm("One layer is nested "+(gM.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+gM.join(" \uD83E\uDC1A ")+"."))return;
var gv=window.showSaveFilePicker;if(window.parent!=window)gv=null;if(gv&&!D.data.Xg){var dT={suggestedName:_.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
gv(dT).then(function(D){var N=new ho(S.E.W,!0);N.data={d:S.J.tp,FV:"Saving ..."};this.c(N);setTimeout(function(){_.Bn=D;
_.name=D.name;_.lP=!0;var N=new ho(S.E.W,!0);N.data={d:S.J.so,Xg:!0};this.c(N);N.data={d:S.J.ru,FV:"Saving ..."};
this.c(N)}.bind(this),10)}.bind(this));return}var aC=window.ga,c1=t.f1("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(_.wz()&&aC)aC(c1[0],c1[1],c1[2],_.ZX+":"+t.f1(bJ.xA()?"\"'|('61":"w'| "));if(_.aE){_.T2()}var b=eF.rW("PSD").VX(_);
if(D.data.Xg){_.Bn.createWritable().then(function(D){D.write(b);return D}).then(function(D){D.close()})}else bh.save(b,_.name);
_.Cr=_.tK;_.QU=Date.now();_.cF=!0}if(n==S.J.xV)window.open(D.data.link,"_blank");if(n==S.J.akm){if(this.ZC.oX()){this.agb();
return}var _=this.mH(),w=_.b[_.w[0]],aj=_.v7(w.add.SoLd.Idnt.v);for(var k=0;k<this.RA.length;k++){var bD=this.RA[k].xy;
if(bD!=null&&bD.a27==aj.Vn&&bD.C7==_){this._C.uZ(k);return}}bh.gD({name:aj.UP,xy:{a27:w.add.SoLd.Idnt.v,C7:_}},aj.raw.buffer,this)}if(n==S.J.aA){this.agR()}if(n==S.J.rL){this.agl(D.data.iP,D.data.gd,D.data.lf)}if(n==S.J.vl){this.arZ(D.data.aqt,D.data.C3,D.data.lf)}if(n==S.J.akq){var cy=D.data.k;
if(cy.startsWith("vcb;")){var co=JSON.parse(cy.slice(4));co[0]=cR.atE(co[0]);var N=new ho(S.E.M,!0);
N.g=G.ND;N.data={d:"append",Ln:"Paste Paths",aoP:co};this.c(N)}else if(cy.startsWith("lrs;")){var hV=cy.split(";"),il=this.RA[parseInt(hV[1])];
if(il==null)return;var h6=this.mH(),c8=il.w;il.w=JSON.parse(hV[2]);var fx=il.KI(null,il!=h6),N=new ho(S.E.M,!0);
N.data={d:q.AA,b:fx,C7:il,rO:h6};N.g=G.vp;this.c(N);il.w=c8}else if(cy.startsWith("<!--")||cy.startsWith("<svg")){var bU=j.TJ(cy),b6=eF.rW("svg"),i=new ai("image.psd");
b6.Ck(bU.buffer,i);if(this.RA.length!=0){var iF=i.b;if(iF.length==3&&iF[0].getName()=="</Layer group>"&&iF[2].nR())iF=[iF[1]];
var N=new ho(S.E.M,!0);N.g=G.vp;N.data={d:q.AA,b:iF,C7:i,rO:this.mH()};this.c(N)}else this.auo(i)}}if(n==S.J.gX){jR.EK(D.data.IU,this)}if(n==S.J.Ri){if(window.parent!=window)window.parent.postMessage(D.data.hy,"*");
this.Bm.k6(D.data.hy)}if(n==S.J.$o){var dY=parseFloat(D.data.Lt);if(this.qe.Le.indexOf(dY)==-1){var N=new ho(S.E.W,!0);
N.data={d:S.J.VS,hy:da.cM,k:dY,kr:"add"};this.c(N)}this.Bm.a48(D.data.Lt)}if(n==S.J.c8){this._I.aih(this.mH(),this.qe)}if(n==S.J.a_){var bl="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var k=0;k<bl.length;k+=2)if(D.data.Lt==bl[k]&&this.Pk(bl[k+1]))return;if(!this.qe.XI&&D.data.window=="saveforweb"){alert("function is disabled");
return}this.ZC.aix(D.data.Lt,this.mH(),D.data,this.RA,this.oS)}if(n==S.J.Mu)bh.save(D.data.data,D.data.name);
if(n==S.J.gE){if(!this.ZC.oX()||D.w2)this.auo(D.data.ly)}if(n==S.J.l_){this._C.uZ(D.data.target);var N=new ho(S.E.M,!0);
N.data={d:q.oa,ly:D.data.ly,z7:D.data.z7,py:D.data.py};N.g=G.vp;this.c(N);this.ob(G.pr)}if(n==S.J.a2x){p.b$=!p.b$;
if(this.RA.length>0)this.mH().G()}if(n==S.J.a8t){var dc=bJ.sk();if(dc!=null&&dc.globals!=null)this.Rq(dc.globals);
this.X4()}if(n==S.J.ol){this.kA.LS(D.data.data,null,D.data.fa,D.data.FJ,D.data.aoH)}if(n==S.J.Ou){if(!this.ZC.nd()!=null)this.ob(D.data.g,D.data.Bl);
if(D.data.a9j)this.T_().EE(this.mH(),this,this.qe,this.oS,this.yF)}if(n==S.J.La){if(this.K.iM)this.ob(this.K.iM)}if(n==S.J.Lv){var hN=this.K.map[D.data.g].g,_=this.mH();
hN.fV(D.data,this,_,this.oS,this.qe);if(_)_.HH=!0;this.ak1()}if(n==S.J.NG){var ga=this.K.map[D.data.g];
this.akY(ga);ga.Wi._m(D.data)}if(n==S.J.VS){var _=this.mH(),b1=D.data.hy,fc=D.data.T$,h9=this.qe;if(D.data.kr=="set"){var cB=G.Ti(fc);
if(h9.ey!=cB)this.ob(cB);this.K.map[cB].Wi.alT(fc,h9)}if(D.data.kr=="add"){var e=da.K5[b1];if(b1==da.cM){h9.Le.push(D.data.k);
h9.Le.sort(function(aM,aU){return aM-aU})}else if(e==null){if(fc)h9.mz.aeb(fc,D.data.anJ)}else{var bp=this.lH(b1);
if(b1==da.hP){bp.Nb=bp.Nb.concat(fc.Nb);bp.bn=bp.bn.concat(fc.bn);bp=bp.list;fc=fc.list}if(b1==da.bL&&_){for(var k=0;
k<fc.length;k++){var I=fc[k].Ui.Lefx;if(I)aL.aeR(I,_,h9.wI)}}if(b1==da.Nu&&fc==null){var i=this.K.map[h9.ey].Wi.aoV();
if(i==null)return;fc=[i]}for(var k=0;k<fc.length;k++)bp.push(fc[k]);if(D.data.anJ!=!0)if(bp.length!=fc.length||b1==da.c4||b1==da.bL||b1==da.M)alert(io.get(e[3])+" "+io.get([23,1])+".")}}if(D.data.kr=="del"){if(b1==da.cM){h9.Le.splice(h9.Le.indexOf(D.data.k),1)}else{var e=da.K5[b1],Z=D.data.UB,bp=this.lH(b1);
if(b1==da.hP)bp=bp.list;for(var k=0;k<Z.length;k++)bp[Z[k]]=null;for(var k=0;k<bp.length;k++)if(bp[k]==null){bp.splice(k,1);
k--}alert(io.get(e[3])+" deleted.")}}if(D.data.kr=="rnm"){var e=da.K5[b1],bp=this.lH(b1);if(b1==da.hP)bp=bp.list;
if(bp[D.data.UB[0]]==null)return;e[2].hX(bp[D.data.UB[0]],D.data.k)}if(b1==da.eU){var eK=D.data.k;h9.lD=eK;
h9.adn[eK.p5]=eK.Jh}if(b1==da.Ol){var eK=D.data.k;h9.Ji=eK;var fm=eK.strokeEnabled.v,fG=eK.strokeStyleContent.v,ia=fm?{p5:1+ci.yg.bR.indexOf(fG.classID),Jh:fG}:{p5:0};
h9.ae2[ia.p5]=ia.Jh}if(b1==da.SF){h9.fC=D.data.k}if(b1==da.WT){h9.za=D.data.za}if(b1==da.nQ){h9.LF.fd=D.data.Gu}if(b1==da.Ha){h9.eh=D.data.ub}if(b1==da.dJ){var iz,gG="Clrs";
if(D.data._c<2){var eA=D.data.k,d3=D.data._c==0,cY=B.X.Ea({p:eA>>>16,z:eA>>>8&255,S:eA&255});if(d3)h9.EH=eA;
else h9.Cp=eA;gG=d3?"FrgC":"BckC";iz={_L:"set",cR:{__name:"Set",classID:"setd",T:{t:"Objc",v:cY}}}}if(D.data._c==2){var ch=h9.EH;
h9.EH=h9.Cp;h9.Cp=ch;iz={_L:"exchange",cR:{__name:"Exchange",classID:"Exch"}}}if(D.data._c==3){h9.EH=0;
h9.Cp=16777215;if(_!=null&&_.w.length!=0&&_.b[_.w[0]].P8==1){var ch=h9.EH;h9.EH=h9.Cp;h9.Cp=ch}iz={_L:"reset",cR:{__name:"Reset",classID:"Rset"}}}if(iz){iz.cR.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:gG}}]};
var ga=this.T_();ga.d2=this;ga.track(iz)}}if(b1==da.bM){h9.N3=!h9.N3;this.lF()}if(b1==da.wS){h9.QX=!h9.QX;
this.lF()}var fS=h9.BE;if(b1==da.if){fS.on=!fS.on;this.lF()}if(b1==da.ua){fS.yE=!fS.yE;this.lF()}if(b1==da.fz){fS.eu=!fS.eu;
this.lF()}if(b1==da.NA){fS.sM=!fS.sM;this.lF()}if(b1==da.aQ){fS.mK=!fS.mK;this.lF()}if(b1==da.RV){fS.wX=!fS.wX;
this.lF()}if(b1==da.Xk){h9.BE=D.data.ub;this.lF()}if(b1==da.Dz){h9.U_=!h9.U_;this.lF()}if(b1==da.lj){h9.YR[D.data.no]=!h9.YR[D.data.no];
this.lF()}if(b1==da.Q8){io.Ly(D.data.lang,this.H$)}if(b1==da.M7){h9.$r=D.data.$r;this._()}if(b1==da.$P&&h9.oR.nB){var fy=h9.oR.nB.transaction(["rsrc"],"readwrite").objectStore("rsrc"),ar=fy.put({k:"fs0",fset:h9.oR.e7});
ar.onerror=function(D){console.log(D);alert("Storing failed. Browser says: "+D.target.error.message,7e3)}}this.Hu(b1)}};
g6.prototype.a1S=function(){this._();this.lF()};g6.prototype.Pk=function(D){var n=this.qe._9[D];if(n){var _=new ho(S.E.W,!0);
_.data={d:S.J.gX,IU:n};this.c(_)}return n!=null};g6.prototype.iw=function(D,n){var _=!0,M=15;if(n){_=!1;
for(var k=0;k<n.length;k++)if(n[k].startsWith(t.WP("__M")))_=!0}var b=D.wz()||D.xy&&D.xy.C7.wz();if(this.mO())b=!1;
var w=new t.Ir[gU.dS],i=(w[t.f1("xy,b-66:")]()&1)*60+w[t.WP("VQ]3LNRN<G")]();if(b&&!bJ.xA()&&i>M&&_){var N=t.Ir[t.f1("}$z{2*35")][t.f1("y'|!")],a=t.WP("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
a+="\n\n"+t.WP("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-i+120)+t.WP("nYRTXTBMd");
if(N.indexOf(t.f1("\"|'/-1)(W0?@"))==-1)a=io.get([0,11+6,3+2]);t.Ir._cwY(a);return!1}return!0};g6.prototype.lH=function(D){var n=this.qe,_=[da.hP,da.$v,da.kI,da.AW,da.Yp,da.bL,da.c4,da.M,da.Nu,da.jN],b=[n.LF,n.UT,n.IN,n.wI,n.B0,n.Qj,n.a4T,n.R7,n.lA,n.aaF];
return b[_.indexOf(D)]};g6.prototype.agR=function(){var D=this.agl(),n=this.mH();if(n==null||n.w.length==0)return;
var _=n.b[n.w[0]],b=new ho(S.E.M);if(D==1){b.g=G.ND;b.data={d:"remove",Ln:"Cut Paths"}}else{b=new ho(S.E.$W);
b.data={_L:"delete"}}this.c(b)};g6.prototype.agl=function(D,n,_){if(D==null)D=!1;var b=this.qe;console.log("doCopy",D,n);
var w=this.mH();if(w==null||w.w.length==0)return;var i=w.b[n==null?w.w[0]:n],M=w.DZ(),N=M[0],a=M[1],o=N[a[0]];
if(!D&&o!=null&&o.add.vmsk.w.length!=0){var U=G.kG.a5(o.add.vmsk,o.add.vogk);if(t.e_()){U[0]=cR.ab5(U[0]);
var V="vcb;"+JSON.stringify(U);bh.pP(new Blob([V],{type:"text/plain"}))}else b.M1=U;return 1}else if(w.q==null){if(t.e_()){var V="lrs;"+this.RA.indexOf(w)+";"+JSON.stringify(w.w);
bh.pP(new Blob([V],{type:"text/plain"}))}}else{var c,E;if(D){var A=new gl(0,0,w.l,w.e);E=A.zE(w.q.rect);
c=B.U(E.u()*4);B.E3(w.iS(),A,c,E);B._B(w.q.channel,w.q.rect,c,E)}else if(w.xo.length!=0){E=w.q.rect.clone();
c=B.U(E.u()*4);var Q=w.wK[w.xo[0]],J=Q.xD(E);B.hd(J,c);B.tD(w.q.channel,c,3)}else{var L=i.Y5(w,w.q);
if(L==null){alert("Copied area is empty");return}c=L.j3;E=L.rect}var P=w.s.qJ,u=P[0]+P[1]+P[2];if(u==1){var m=P.indexOf(1);
for(var k=0;k<c.length;k+=4)c[k]=c[k+1]=c[k+2]=c[k+m]}var x=new gZ(w.l,w.e);if(t.e_()&&_!=!0){var v=eF.rW("PNG").acR(c.buffer,E.l,E.e);
bh.pP(new Blob([new Uint8Array(v)],{type:"image/png"}));this.a9x={Kj:E,UD:x}}else b.uq={buffer:c,rect:E,UD:x};
b.ar3=E.clone();b.M1=null}};g6.prototype.arZ=function(D,n,_){if(n)this.adC=!0;console.log("doPaste");
var b=this.qe,w=b.uq,a;if(this.RA.length==0){if(!D&&t.e_()){bh.ok(this,null);return}if(w){var i=eF.Sl("image.psd",[{data:w.buffer.buffer,jr:w.rect}]),M=new ho(S.E.W);
M.data={d:S.J.gE,ly:i};this.c(M)}return}var i=this.mH(),N=i.b[i.w.length==0?i.b.length-1:i.w[0]];if(b.M1){var o=i.DZ(!0),U=o[0],V=o[1];
a=U[V[0]]}var M=new ho(S.E.M,!0);if(b.M1!=null&&a!=null){M.g=G.ND;M.data={d:"append",Ln:"Paste Paths",aoP:b.M1}}else if(!D&&t.e_()&&_!=!0){bh.ok(this,this.abz.bind(this));
return}else{if(w==null)return;if(i.yP(!1)&&(i.s.qJ.join("")!="111"||i.xo.length!=0||N.P8>0||N.rect.hk())){M.g=G.hP;
M.data={d:"draw",alQ:!0,Ln:[5,2]}}else{M.g=G.vp;M.data={d:q.Ts,C3:this.adC};this.adC=!1}M.data.uq=w}this.c(M)};
g6.prototype.amu=function(){for(var k=0;k<this.RA.length;k++){var D=this.RA[k],n=!0;for(var _=0;_<D.b.length;
_++){var b=D.b[_],w=b.add.TySh;if(w!=null&&!iy.Y2(w,this.qe.mz,this))n=!1}if(!n)continue;if(D.C8)for(var _=0;
_<D.b.length;_++){var b=D.b[_],w=b.add.TySh;if(w!=null&&iy.Y2(w,this.qe.mz,this)){var i=new h8(w.uP,this.qe.mz),M=iy.az(i,w);
b.rect=M.Kj;b.buffer=M.B_;b.G();D.G()}}if(D.amm)continue;D.amm=!0;if(D.kr&&D.kr.adl)jR.EK(D.kr.adl,this);
this.lJ();var N=new ho(S.E.M);N.g=G.mg;N.data={d:"start",lE:"GEfc"};var a=new ho(S.E.W);a.data={d:S.J.$o,Lt:jF.pk.a0Q}}};
g6.prototype.Hu=function(D){var n=this.qe,_=n.ey,M=!1;if(D==da.nQ){if(this.K.map[_].Wi)this.K.map[_].Wi.gB(n,D)}else for(var b in this.K.map)if(this.K.map[b].Wi)this.K.map[b].Wi.gB(n,D);
if(D==da.tL){if(_!=G.vu)this.K.map[G.vu].g.gB(n,D);this.amu()}this._C.gB(n,D);this.m6.gB(n,D);this.ZC.gB(n,D);
this.T_().gB(n,D);this.Bm.gB(n,D);this.MA.gB(n,D);if(D==da.M7||D==da.XS){bb.a0p(n.$r);this.update(!0)}var w=n.za,i=w.OT.Font;
if(D==da.WT&&i!=null&&w.SY[i].Name!=n.font){n.font=w.SY[i].Name;M=!0}if([da.cM,da.Ha,da.dJ,da.bM,da.wS,da.Xk,da.fz,da.NA,da.if,da.ua,da.aQ,da.RV,da.Q8,da.M7].indexOf(D)!=-1||M)this.ak1()};
g6.prototype.ak1=function(){if(!this.CH)return;var D={},n=this.K.map;for(var _ in n){var b=n[_].g;if(b.BV&&b.BV()!=null)D["t"+_]=b.BV()}var w=this.qe,i=w.BE,M={fcolor:w.EH,bcolor:w.Cp,rulers:w.N3,extras:w.QX,favFam:w.eh,panels:w.Le,eparams:{guides:i.eu,grid:i.sM,sels:i.on,paths:i.yE,pgrid:i.mK,slices:i.wX,gsize:i.L$,gunits:i.th,gtype:i.co,runits:i.gK},lang:io.x0(),theme:w.$r,as:w.uA,topt:D};
if(w.font!=null)M.font=w.font;var N=bJ.sk();if(N==null)N={};N.globals=M;bJ.vX(N)};g6.prototype.ade=function(){var D=this.oS,n=this.yF,_=this.qe.ey,b=this.K.map[_].g,w=null,i=!1;
for(var k=0;k<this.K.a5C.length;k++){var M=this.K.a5C[k],N=!0;for(var a=0;a<M.BQ.length;a++){var o=M.BQ[a];
if(!D.j(o))N=!1}if(N&&(!M.ib||!b.oX())&&(M.K3==null||M.K3.indexOf(_)!=-1)){w=M.g;i=M.ib;break}}if((!n.Xt||_==G.rI)&&this.K.u_!=w&&(w!=_||!i)){var U=this.mH();
if(this.K.u_!=null&&w==null)this.T_().disable(U,this,this.qe,D,!0);this.K.u_=w;this.T_().enable(U,this,this.qe,D,w!=null&&w!=_)}};
g6.prototype.cK=function(D){var n=this.qe.ey,_=this.mH();if(n!=null){this.K.map[n].g.disable(_,this,this.qe,this.oS)}};
g6.prototype.akY=function(D){if(D.Wi==null){D.Wi=new D.JQ;D.Wi.a8n(D.g.id,D.g.h7);D.Wi.gB(this.qe,da.XS);
D.Wi._()}};g6.prototype.ob=function(D,n){if(D==G.pr&&this.ZC.nd())return;var _=this.mH(),b=this.qe;if(this.K.map[D].g.RH(_,b)){this.cK();
if(D!=b.ey)this.K.iM=b.ey?b.ey:G.GZ;b.ey=D;this.m6.wQ(this.K,this.qe);var w=this.K.map[D];this.K.bj[w.WI]=w.aky;
this.akY(w);this.mp.aoQ(w.Wi);var i=w.g;i.enable(_,this,this.qe,this.oS,!1,n);if(_)_.HH=!0;this.lF()}};
g6.prototype.T_=function(D){var n=this.K,_=n.ba,b=n.u_,w=this.qe.ey;if(_)w=_;else if(b&&D==null)w=b;
return n.map[w].g};g6.prototype.auo=function(D){var n=this.qe,_=this.RA.indexOf(D);if(_!=-1){this._C.uZ(_);
return}if(this.hO&&(D.kr==null||D.kr.m5==null)){D.kr={m5:this.hO}}if(D.ut==null){D.ut="local,"+this.a4u+","+D.name;
this.a4u++}D.QU=Date.now();if(fU.QC()!=0&&!this.ak_&&t.Ir[t.f1("t$&!'31")].toString().indexOf(t.f1(" u,$4&"))==-1){alert(t.f1("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var k=0;k<D.b.length;k++){var b=D.b[k];if(b.add.SoLd!=null){var w=Date.now()}if(b.add.TySh!=null)iy.Y2(D.b[k].add.TySh,n.mz,this)}var i=D.b.length,M=gU.Bs(),N=Math.PI*(5306<<14)+(t.Rx(31)?20:10)*7e7;
if(M>N){var i=D.b.length;D.b=[];return i}if(p.b$)p.a4F(Math.max(D.l,D.e));D.Wh();D.ns();if(D.aoX)D.a9G();
else D.G();D.aoX=!1;this.RA.push(D);this._C.wo(new gB(D));D.HH=!0;D.cF=!0;this.amu();var a=new ho(S.E.M);
a.g=G._x;a.data={d:"auto",TH:2}};g6.prototype.mH=function(){return this.RA[this.qf]};g6.prototype.alW=function(){return this.ZC.nd()==null};
g6.prototype.Dn=function(D,n){this.cK();var _=this.RA.length;if(n!=null)this._C.uZ((this._C.K_()+n+_)%_);
this.qf=this._C.K_();var b=this.mH();this.MA.au6(b,this.qe);this.Bm.wQ(b,this.RA,this.qe);this.lF();
if(b)b.HH=!0};g6.prototype.amV=function(D){this.cK();this.RA.splice(D.data.dF,1);if(this.RA.length==0){this.Dn(D);
if(p.b$)p.HY().parentNode.removeChild(p.HY())}};g6.prototype.amE=function(D){var n=[],_=D.data.a99;for(var k=0;
k<_.length;k++)n[k]=this.RA[_[k]];this.RA=n;this.qf=this._C.K_()};g6.prototype.a0r=function(D){var n=this._C,_=n.amJ(),b=this.T_(),w=this.mH();
if(_==n.K_()||!b.T4())return;this.arp(_,b)};g6.prototype.arp=function(D,n){var _=this.qe,b=this._C,w=this.mH(),i=this.RA[D],M=new ho(S.E.M,!0);
M.g=G.vp;M.data={d:q.AA,b:w.KI(null,!0),C7:w,rO:i};this.c(M);var N=this.yF,a=_.N3;_.N3=!1;N=w.s.it(N.x,N.y);
if(n)n.cb(w,this,_,this.oS);b.uZ(D);N=i.s.TO(N.x,N.y);N.x+=49;N.y+=112;if(n)n.EE(i,this,_,this.oS,N);
_.N3=a};g6.prototype.akP=function(D){var n=this.mH(),_=this.oS,b=this.qe,w=D._h;if(w)this.yF=w;if(D.action.startsWith("multi")){var i=new ho(S.E.M,!0);
i.data={d:D.action,Jv:D.Jv};i.g=G.TS;this.c(i);return}var M=this.K.map[G.GZ].g;if((D.action=="down"||D.action=="rdown")&&b.ey!=G.GZ&&this.K.u_!=G.GZ&&M.Q6(n,this,b,_,w)){this.K.ba=G.GZ;
M.enable(n,this,b,_,!0)}var N=this.ZC.nd(),a=N!=null&&N.Yy()&&this.K.u_==null?N:this.T_();if(N!=null&&a!=N&&this.ZC.oX()&&a.id!=G.GN&&a.id!=G.TS)return;
if(D.action=="down")a.EE(n,this,b,_,w);if(D.action=="rdown")a.yW(n,this,b,_,w);if(D.action=="move")a.cp(n,this,b,_,w);
if(D.action=="up"||D.action=="cancellast")a.m_(n,this,b,_,w,D.action=="cancellast");if(D.action=="rup")a.nq(n,this,b,_,w);
if(D.action=="cancellast"){if(n&&n.history.length!=0&&Date.now()-n.history[n.history.length-1].art<200){var o=new ho(S.E.M);
o.g=G.rX;o.data={d:"h_stepbck"};this.c(o)}}var U=this.Bm;if(D.action=="down")U.EE(n,this,b,_,w);if(D.action=="move")U.cp(n,this,b,_,w);
if(D.action=="up")U.m_(n,this,b,_,w);if(D.action=="down"||D.action=="up"){this.ade()}if(D.action=="down"||D.action=="up"||D.action=="ctx"){n.HH=!0}if((D.action=="up"||D.action=="rup")&&this.K.ba){this.K.ba=null;
M.disable(n,this,b,_)}if(D.action=="scroll"){var V=!_.j(dz.uH)&&D.Dm,i=new ho(S.E.M,!0);i.data={d:"scroll",iQ:D.iQ.clone(),_h:w};
i.g=_.j(dz.u9)||V?G.TS:G.GN;this.c(i)}};g6.prototype.S_=function(D){var n=this.mH(),_=this.yF;if(n&&this.T_().Xn(_,this.oS)){var b=n.s,w=b.pj.l,i=b.pj.e,M=0,N=0,a=16;
if(_.x<a)M=a-_.x;if(_.x>w-a)M=_.x-(w-a);if(_.y<a)N=a-_.y;if(_.y>i-a)N=_.y-(i-a);if((M!=0||N!=0)&&(n.l*b.V>w||n.e*b.V>i)){M=Math.min(5,M*.5);
N=Math.min(5,N*.5);if(!(_.x<a||_.y<a)){M=-M;N=-N}b.r.x+=M;b.r.y+=N;this.akP({_h:this.yF,action:"move"});
n.lP=!0}}this.update()};g6.prototype.update=function(D){var n=this.mH();if(n==null)return;if(n.HH){var _=this.K.map;
for(var b in _){if(_[b].g.Zc)_[b].g.Zc(n,this,this.qe,this.oS)}}if(n.aE){n.T2()}var w=n.s,i=this.gy,M=this.gy=Date.now();
if(n.aE||n.oT||n.cF||n.lP||D||w.O8!=w.V||!w.zS.l8(w.r)){var N=w.O8;if(w.O8!=w.V){var a=G.TY.XZ(w.V,w.O8>w.V),o=.12;
if(w.O8<w.V&&w.O8<a)w.O8=a;if(w.O8>w.V&&w.O8>a)w.O8=a;var U=Math.abs(w.V-a)*(M-i)*.001/o;if(w.O8<w.V)w.O8=Math.min(w.V,w.O8+U);
else w.O8=Math.max(w.V,w.O8-U)}var V=N==w.V?0:(w.O8-w.V)/(N-w.V);w.zS.x=w.r.x+V*(w.zS.x-w.r.x);w.zS.y=w.r.y+V*(w.zS.y-w.r.y);
this._C.gB(this.qe,null);this._C.wQ(n,this.RA)}if((n.aE||n.lP||n.HH)&&(!this.yF.Xt||n.ma)){if(n.HH)n.ns();
this.Bm.wQ(n,this.RA,this.qe);this.m6.auh(n,this.oS);n.Eh=!1}n.ma=!1;n.HH=!1;n.aE=null;n.oT=n.cF=n.lP=!1};
g6.prototype.n5=function(D){var n=D.target.tagName.toLowerCase(),_=D.target.getAttribute("type"),b=dz,w=b.s9(D.code,b.Eb);
if(!((n=="input"||n=="select"||n=="button")&&b.s9(D.code,b.KP))){if(b.ah(D)){D.preventDefault()}this.oS.Hn(b.Fi(D));
this.EL("down")}};g6.prototype.Ai=function(D){if(D.key==" ")this.oS.dc();if(dz.s9(D.code,dz.Mx))this.oS.reset();
this.oS.b0(dz.Fi(D));var n=D.target.tagName.toLowerCase();if(dz.ah(D)){D.preventDefault()}this.EL("up")};
g6.prototype.EL=function(D){var n=this.oS,_=this.mH(),b=_!=null&&_.w.length!=0;if(this._I.nd()!=null){if(n.j(dz.Gt)){this._I.a1P()}return}this.ade();
var w=this.eI(dz.uH),i=n.j(dz.u9),M=n.j(dz.CO);if(w&&n.j(dz.CE)&&D=="down"){var N=new ho(S.E.M),a=new ho(S.E.W);
N.g=G.rX;if(M){N.data={d:"h_stepfwd"}}else{N.data={d:"h_stepbck"}}if(this.ZC.nd()!=null&&this.ZC.nd().oX()){}else this.c(N)}if(w){var N=new ho(S.E.M),o=new ho(S.E.$W),a=new ho(S.E.W);
if(!i&&D=="down")for(var U in fg.keys){var V=fg.keys[U],c=!0;for(var k=0;k<V.length;k++)if(!n.j(V[k]))c=!1;
if(c){N.g=G._x;if(U=="hue2"&&M)N.data={d:"auto",TH:3};else N.data={d:"start",IL:U}}}if(n.j(dz.J)){o.data=G.fq.A8(!0)}if(n.j(dz.Ne)){if(i)a.data={d:S.J.a_,Lt:"csize"};
else a.data={d:S.J.rL,iP:M}}if(n.j(dz.vn)){o.data=G.fq.A8()}if(n.j(dz.E)&&D=="down"){N.g=G.vp;if(M)N.data={d:q.fw};
else{if(_&&_.w.length==1&&_.w[0]!=0&&!_.b[_.w[0]].nR())N.data={d:q.aF};else N.data={d:q.lz}}}if(n.j(dz.ZU)){if(M&&this.qe.ey!=G.pr)a.data={d:S.J.a_,Lt:"afw_fade"};
else if(i){N.g=G.mg;N.data={d:"applylast"}}else a.data={d:S.J.c8}}if(n.j(dz.lc)){if(i&&_&&_.On(_.w[0])){N.g=G.vp;
N.data={d:q.gV}}else{N.g=G.vp;N.data={d:q.sc,Wb:M}}}if(n.j(dz.Jq)){a.data={d:S.J.VS,hy:da.wS}}if(n.j(dz.g_)){if(M){N.data=null;
if(i)a.data={d:S.J.a_,Lt:"finfo"};else o.data={_L:"inverse"}}else if(i)a.data={d:S.J.a_,Lt:"isize"}}if(n.j(dz.Ws)){o.data={_L:(M?"cut":"copy")+"ToLayer"}}if(n.j(dz.kS)){a.data={d:S.J.a_,Lt:"preferences"}}if(n.j(dz.wg)){if(M){N.g=G.vp;
N.data={d:q.S6}}else a.data={d:S.J.a_,Lt:"newproject"}}if(n.j(dz._4)){a.data={d:S.J.YI};n.reset()}if(n.j(dz.vF)){a.data={d:S.J.a40};
n.reset()}if(n.j(dz.pk)){a.data={d:S.J.VS,hy:da.bM}}if(n.j(dz.j9)&&D=="down"){if(M){if(i)a.data={d:S.J.a_,Lt:"saveforweb"};
else a.data={d:S.J.so}}else a.data={d:S.J.sh}}if(n.j(dz.kz)){if(M){N.g=G.pr;N.data={d:"again"}}else a.data={d:S.J.Ou,g:G.pr}}if(n.j(dz.r4)){a.data={d:S.J.vl}}if(n.j(dz.Ff)){this._C.u5()}if(n.j(dz.cG)){a.data={d:S.J.aA}}if(n.j(dz.H3)||n.j(dz.nL)){N.g=G.vp;
N.data={d:q.I9,_c:0};if(n.j(dz.H3))N.data._c=M?3:2;else N.data._c=M?0:1}if(n.j(dz.NS)&&_){N.g=G.vp;N.data={d:q.Y9}}if(n.j(dz.Eb)&&_){var E=0;
if(M)E++;if(i)E+=2;N.g=G.xm;N.data={d:"frompath",Pr:[null,0,E]}}if(n.j(dz.wB)){o.data=G.v1.wR(0)}if(n.j(dz.KP)){var A=this.RA.length;
if(A>1)this._C.uZ((this._C.K_()+1)%A)}if(n.j(dz.TB)){a.data={d:S.J.VS,hy:da.fz}}if(n.j(dz.ON)){a.data={d:S.J.VS,hy:da.NA}}G.TY.Ej(n,N);
if(this.ZC.nd()!=null&&this.ZC.nd().oX()){}else{if(N.data)this.c(N);if(o.data)this.c(o);if(a.data)this.c(a)}}if(_&&_.w.length!=0){var Q=_.b[_.w[0]],J=Q.P8;
if(J==1||J==3||w){var N=new ho(S.E.M),L=J==3?Q.tr(_).v:Q.us();if(L){var P=L.Lr?_.s.qJ.join("")=="111"?1:2:0;
N.g=G.TS;if(L&&n.j(dz.Gt)&&P!=0){N.data={d:"mskView",k:0}}if(L&&n.j(dz.a2Y)){N.data={d:"mskView",k:P==1?0:1}}if(L&&n.j(dz.ark)){N.data={d:"mskView",k:P==2?0:2}}if(N.data)this.c(N)}}}var u=n.su();
if(_&&w&&2<=u&&u<=5){var m=[1,1,1];if(u>2){m=[0,0,0];m[u-3]=1}var x=new ho(S.E.M,!0);x.g=G.GN;x.data={d:"setcls",qJ:m};
this.c(x)}if(!n.j(dz.uH)&&!i&&D=="down"){var N=new ho(S.E.M),a=new ho(S.E.W),v=this.K.map[this.qe.ey],W=-1;
for(var k=0;k<this.K.keys.length;k++)if(this.K.keys[k]&&this.eI(this.K.keys[k]))W=k;if(W!=-1){var Z=null;
if(v.WI!=W)Z=this.K.bj[W];if(v.WI==W&&M)Z=(v.aky+1)%this.K.om[W].length;if(Z!=null){var r=this.K.om[W][Z].g.id,X=this.qe.ahZ;
if((X==null||X.indexOf(parseInt(r))!=-1)&&!this.yF.Xt)a.data={d:S.J.Ou,g:r}}}if(n.j(dz.cG))a.data={d:S.J.VS,hy:da.dJ,_c:2};
if(n.j(dz.vn))a.data={d:S.J.VS,hy:da.dJ,_c:3};if(a.data)this.c(a);if(n.j(dz.aiE)&&_&&_.w.length==1){var Q=_.b[_.w[0]];
N.g=G.vp;var $=Q.Nd(0)||Q.Nd(1)||Q.Nd(2)||Q.Nd(31);N.data={d:q.Y8,ub:$?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.c(N)}var u=n.su();if(b&&u!=-1&&this.eI(dz.aY[u])){var I=_.w[0],Q=_.b[I],T=dz.qg(Math.round(100*Q.opacity/255),u);
N.g=G.vp;N.data={d:q.hs,ub:Math.round(255*T/100)};this.c(N)}var e=this.qe.jC;if(n.j(dz.KP)){a.data={d:S.J.Bd,k:e==0?1:0};
this.c(a)}if(n.j(dz.ZU)||n.j(dz.Gt)&&e==2){var F=document.fullscreenElement!=null==(e==2);a.data={d:S.J.Bd,k:e==0?2:0,TQ:F};
this.c(a)}if(n.j(dz.lk)&&!this.yF.Xt){N.g=G.xm;N.data={d:"qmask"};this.c(N)}}if(!n.j(dz.uH)&&!i&&M){var N=new ho(S.E.M),a=new ho(S.E.W);
if(n.j(dz.NS))a.data={d:S.J.a_,Lt:"shortcuts"};if(n.j(dz.h5))a.data={d:S.J.a_,Lt:"fill"};if(n.j(dz.ag5))a.data={d:S.J.a_,Lt:"sel_feather"};
if(b&&(n.j(dz.$R)||n.j(dz.nE))){var I=_.w[0],Q=_.b[I],y=jz._w,h=y.length,K=y.indexOf(Q.QQ);N.g=G.vp;
N.data={d:q.fH,ub:(K+h+(n.j(dz.$R)?1:-1))%h};this.c(N)}if(a.data)this.c(a)}var N=new ho(S.E.M),z=D=="down"&&(this.eI(dz.$V)||this.eI(dz.cw));
if((w||i)&&z){N=new ho(S.E.$W);N.data=G.NF.Zh(w?"BckC":"FrgC");this.c(N)}else if(_&&z&&!this.yF.Xt){if(_.q!=null){N=new ho(S.E.$W);
N.data={_L:"delete"}}else if(_.w.length!=0){var Q=_.b[_.w[0]];if(Q.P8==1)N.data={d:q.Rd};else if(Q.P8==3)N.data={d:q.j6};
else N.data={d:q.h0};N.g=G.vp}this.c(N)}if(this.ZC.nd()!=null){if(n.j(dz.Gt)){this.ZC.nd().aop()}else{this.ZC.nd().EL(_,this,this.qe,n)}}if(this.qe.ey==null)return;
var v=this.T_();if(this.ZC.nd()==null||this.K.u_)v.EL(_,this,this.qe,n)};g6.prototype.eI=function(D){var n=this.oS,_=this.K.map[this.qe.ey].g,top=this.ZC.nd(),b=this.mH();
return n.j(D)&&!_.$z(D,b)&&(top==null||!top.$z(D,b))};g6.prototype.xg=function(D){var n=this.ar$,_=this.vL;
this.qe.jC=D;var b=t.Pn,w=this.MA.m;if(b(w))this.Bq.removeChild(w);var i=this.mp.m;if(b(i))this.Bq.removeChild(i);
var M=this.m6.m;if(b(M))n.removeChild(M);var N=this._C.m;if(b(N))n.removeChild(N);var a=this.Bm.m;if(b(a))n.removeChild(a);
if(D==0){this.Bq.appendChild(w);this.Bq.appendChild(i);_.appendChild(n);n.appendChild(M);n.appendChild(N);
n.appendChild(a)}if(D==1){this.Bq.appendChild(w);n.appendChild(N)}if(D==2){n.appendChild(N)}this._C.xg(D==2?1:0);
this.lF()};g6.prototype.a8m=function(D){if(this.mO())return 1;if(t.aoS()==0){this.qe={};this.R9=function(n,_){return Math.sqrt(n*_)}}return-1};
function eP(D){cA.call(this);if(D==null)return;this.Wj=null;this.Rw=null;this.m=t.L("div","sbar"+" "+D);
this.LH=new t.L("div","top");this.LH.innerHTML="> <";this.m.appendChild(this.LH);this.FW=1;this.LH.addEventListener("click",this.agr.bind(this),!1)}eP.prototype=new cA;
eP.prototype.agr=function(D){if(this.Wj!=null&&this.Wj<500&&this.FW==0)return;if(this.FW==0)this.l6(!0);
else this.collapse(!0)};eP.prototype.arx=function(D){this.FW=D;this.LH.innerHTML=this.FW==0?"< >":"> <"};
eP.prototype.apl=function(){var D=new ho(S.E.W,!0);D.data={d:S.J.ZA};this.c(D)};eP.prototype.l6=function(D){this.arx(1);
if(D)this.apl()};eP.prototype.collapse=function(D){this.arx(0);if(D)this.apl()};eP.prototype.sg=function(){return this.FW==1};
function gg(D,n){eP.call(this,"vcolumn");this.pT=D;this.aoj=n;this.bb();this.sA=t.L("div");this.sA.setAttribute("style","cursor:default;");
this.a30=this.apR.bind(this);this.apj=this.apm.bind(this);this.a2K=this.aao.bind(this);t.cc(this.m,this.a30);
this.m.appendChild(this.sA);this.tz=t.L("div");this.sA.appendChild(this.tz);this.hI=-1;this.WB=t.L("div","float");
var _=this.ZP=t.L("canvas"),b=12;_.width=_.height=b;var w=_.getContext("2d");w.fillStyle="rgba(0,0,0,0.5)";
w.moveTo(0,0);w.lineTo(b,b);w.lineTo(0,b);w.fill();this.ZP.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
t.zk(this.ZP);t.cc(this.ZP,this.a30);this.lG=[];this.P0=[];this.a6Y=null;this.VF=null;this.a72=0}gg.prototype=new eP;
gg.prototype.apR=function(D){var n=D.target==this.ZP;if(!n){if(D.target!=this.m)return;if(!this.sg())return}else{var _=this.lG[this.hI].ac;
_.style.pointerEvents="none";var b=_.getBoundingClientRect();this.a6Y=[b.width,b.height];this.P0[this.hI]=[b.width,b.height]}D.stopPropagation();
this.VF=t.Wt(D,document.body);this.a72=this.pT;t.YP(document,this.apj);t.Gv(document,this.a2K)};gg.prototype.apm=function(D){var n=t.Wt(D,document.body);
if(this.sg()){this.pT=this.a72+this.VF.x-n.x;this.bb()}else{var _=this.P0[this.hI],b=this.a6Y;_[0]=b[0]+this.VF.x-n.x;
_[1]=b[1]+n.y-this.VF.y}var w=new ho(S.E.W,!0);w.data={d:S.J.ZA};this.c(w)};gg.prototype.aao=function(D){if(!this.sg()){var n=this.lG[this.hI].ac;
n.style.pointerEvents="auto"}t.yT(document,this.apj);t.pz(document,this.a2K)};gg.prototype.ary=function(D){D.h("showFloat",this.a2y,this);
D.h("hideFloat",this.W5,this);this.lG.push(D);D.parent=this;this.sA.appendChild(D.m)};gg.prototype.a5Q=function(k){var D=this.lG[k];
D.removeEventListener("showFloat",this.a2y,this);D.removeEventListener("hideFloat",this.W5,this);this.lG.splice(k,1);
D.parent=null;this.sA.removeChild(D.m)};gg.prototype.aox=function(){return this.lG.length};gg.prototype.kh=function(){for(var k=0;
k<this.lG.length;k++)this.lG[k].kh()};gg.prototype.a2y=function(D){this.W5(D);this.tz.appendChild(this.WB);
this.hI=this.lG.indexOf(D.currentTarget);var n=this.lG[this.hI].ac;this.WB.appendChild(n);this.WB.appendChild(this.ZP);
this.R9(this.Wj,this.Rw)};gg.prototype.W5=function(D){this.kh();if(this.hI!=-1){this.tz.removeChild(this.WB);
var n=this.lG[this.hI];if(n)this.WB.removeChild(n.ac);this.hI=-1}};gg.prototype.bb=function(){this.m.setAttribute("style","width: "+this.pT+"px; padding-left:3px; cursor:ew-resize;")};
gg.prototype.l6=function(D){this.bb();this.W5();for(var k=0;k<this.lG.length;k++)this.lG[k].l6();eP.prototype.l6.call(this,D)};
gg.prototype.collapse=function(D){this.m.removeAttribute("style");for(var k=0;k<this.lG.length;k++)this.lG[k].collapse();
eP.prototype.collapse.call(this,D)};gg.prototype.R9=function(D,n){this.Wj=D;this.Rw=n;n-=6;var _=this.lG.length,b=this.sg();
if(_==0)return;D=this.pT;var w=n<400?n:400+(n-400)*.5,i=n;for(var k=0;k<_;k++){var M=this.lG[k],N=M.am$(),a=this.P0[k];
M.R9(!b&&a?a[0]:D,b?k==_-1?i:N:a?a[1]:w);i-=N}};function j9(D){cA.call(this);this.m=t.L("div");this.sA=null;
this.$j=0;this.mP=0;this.a8Z=D;this.a0$=this.l2.bind(this);this.ace=this.uK.bind(this);this.adP=this.R4.bind(this);
this.nJ=null;this.HB=null;this.vQ=null;t.cc(this.m,this.a0$);var n=this.m,b="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
n.addEventListener("touchmove",t.y9,!1);this.aie=!0;this.Dg=[];var _=this.ama=t.L("div");_.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(_);var w=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",b+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",b+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",b+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var k=0;k<w.length;k++){var i=new bX(w[k]);this.Dg.push(i);i.m.setAttribute("style","margin-left:"+(k<7?4:0)+"px;cursor:pointer;");
i.h("click",this.MI,this)}}j9.prototype=new cA;j9.prototype._=function(){var D=this.ama;t.hz(D);for(var k=0;
k<this.Dg.length;k++){var n=this.Dg[k];if(k<5)n._();D.appendChild(n.m)}};j9.prototype.MI=function(D){var k=this.Dg.indexOf(D.currentTarget);
if(k==0){if(window.showCap)window.showCap();return}var n=" issues learn blog api twitter facebook".split(" "),_=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),b=window.ga;
if(b)b("send","event","Links",n[k]);var w=new ho(S.E.W,!0);w.data={d:S.J.xV,link:_[k]};this.c(w)};j9.prototype.l2=function(D){if(D.a0S){D.preventDefault();
D.stopPropagation()}var n=window;t.YP(n,this.ace);t.Gv(n,this.adP);n=this.sA;this.nJ=new gZ(parseInt(n.style.left),parseInt(n.style.top));
this.HB=t.Wt(D,this.m);this.vQ=n.getBoundingClientRect()};j9.prototype.uK=function(D){var n=t.Wt(D,this.m),_=this.nJ.x+n.x-this.HB.x,b=this.nJ.y+n.y-this.HB.y,w=this.$j-this.vQ.width,i=this.mP-this.vQ.height;
if(this.a8Z)this.sA.style.left=Math.min(0,Math.max(w,_))+"px";else this.sA.style.top=Math.min(0,Math.max(i,b))+"px";
if(_-10>0){this.HB.x=n.x-10;this.nJ.x=0}if(_+10<w){this.HB.x=n.x+10;this.nJ.x=w}};j9.prototype.R4=function(D){var n=window;
t.yT(n,this.ace);t.pz(n,this.adP)};j9.prototype.atY=function(D){if(this.sA){this.m.removeChild(this.sA)}this.sA=D;
this.m.appendChild(D);D.style.position="absolute";if(this.a8Z)D.style.left=0;else D.style.top=0};j9.prototype.R9=function(D,n){this.$j=D;
this.mP=n;this.m.setAttribute("style","position:relative; width: "+D+"px; height: "+n+"px; overflow:hidden; white-space: nowrap; ");
this.sA.style.left="0";this.sA.style.top="0";var _=this.sA.firstChild,b=this.ama,w=_?_.firstChild.getBoundingClientRect().width+80:1e9,i=450,M=this.aie&&D>w+i,N=t.WP("SU\\VOAV"),a=b[gU.t7][N]=M?"":t.WP("][WK")};
function f3(){cA.call(this);this.Wc=null;this.CB=f3.vF;this.adj="";this.m=t.L("div","rightbar");this.kp=[new gg(300),new gg(268,!0)];
this.lG=[new iT,new iT,new iT,new iT,new iT,new iT,new iT];this.agK=[]}f3.prototype=new cA;f3.prototype._=function(){var D=this.CB;
for(var k=0;k<D.length;k++)D[k].Vl._()};f3.vF=[{Vl:new af,KB:3},{Vl:new al,KB:1},{Vl:new d2,KB:4},{Vl:new fd,KB:2},{Vl:new b5(!0),KB:5},{Vl:new am,KB:0},{Vl:new fo,KB:5},{Vl:new js,KB:3},{Vl:new ah,KB:0},{Vl:new cI,KB:3},{Vl:new ht,KB:2},{Vl:new ge,KB:4},{Vl:new f9,KB:3},{Vl:new fn,KB:5},{Vl:new b5(!1),KB:5},{Vl:new hv,KB:2},{Vl:new j1,KB:3},{Vl:new iQ,KB:1},{Vl:new dB,KB:0},{Vl:new g2,KB:5},{Vl:new i4,KB:6,Z$:!0},{Vl:new fE,KB:6,Z$:!0},{Vl:new aZ,KB:6,Z$:!0}];
(function(){var D=[{id:jF.pk.a1O,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"}];
for(var k=0;k<D.length;k++)f3.vF.push({Vl:new jO(D[k],100+k),KB:6,Z$:!0})}());f3.prototype.agf=function(D){for(var k=0;
k<D.length;k++){var n=D[k],_=new jO(n,"plg_"+n.name);this.CB.push({Vl:_,KB:6});this.agK.push(_.DR)}this.vm()};
f3.prototype.gB=function(D,n){this.Wc=D;var _=this.CB;for(var k=0;k<_.length;k++)_[k].Vl.gB(D,n);if(n==da.cM||n==da.XS)this.vm()};
f3.prototype.k6=function(D){var n=this.CB;for(var k=0;k<n.length;k++)n[k].Vl.k6(D)};f3.prototype.R9=function(D,n){this.Wj=D;
this.Rw=n;this.vm();this.kp[0].R9(D,n);this.kp[1].R9(D,n)};f3.prototype.vm=function(){var D=this.Wc,n=this.Wj,_=this.Rw;
if(D==null||n==0)return;var b=D.Le.concat(this.agK),w=n<500||n<700&&n<_,i=JSON.stringify(b)+","+w;if(i!=this.adj){this.adj=i;
t.hz(this.m);var M=[];for(var k=0;k<this.kp.length;k++){var N=this.kp[k];M[k]=N.sg();while(N.aox()!=0)N.a5Q(0);
N.l6()}var a=[];for(var k=0;k<this.lG.length;k++){var o=this.lG[k];o.l6();while(o.a1I()!=0)o.AX(0);a.push(0)}for(var k=0;
k<b.length;k++){var U=this.a33(b[k].toString());this.lG[U.KB].wo(U.Vl);this.lG[U.KB].uZ(0);a[U.KB]++}var V=[];
for(var k=0;k<a.length;k++){if(a[k]==0)continue;var c=k<3||w?1:0,N=this.kp[c];N.parent=this;N.ary(this.lG[k]);
V[c]=!0}for(var k=0;k<this.kp.length;k++)if(V[k])this.m.appendChild(this.kp[k].m);this.kp[0].collapse();
if(n<700||this.Wc.compact||!M[1]){this.kp[1].collapse()}var E=new ho(S.E.W,!0);E.data={d:S.J.ZA};this.c(E)}};
f3.prototype.a33=function(D){for(var k=0;k<this.CB.length;k++)if(this.CB[k].Vl.DR==D)return this.CB[k]};
f3.prototype.a48=function(D){var n=this.a33(D);this.lG[n.KB].wo(n.Vl)};f3.prototype.wQ=function(D,n,_){var b=this.CB;
for(var k=0;k<b.length;k++)b[k].Vl.wQ(D,n,_)};f3.prototype.EE=function(D,n,_,b,w){var i=this.CB;for(var k=0;
k<i.length;k++)i[k].Vl.EE(D,n,_,b,w)};f3.prototype.cp=function(D,n,_,b,w){var i=this.CB;for(var k=0;
k<i.length;k++)i[k].Vl.cp(D,n,_,b,w)};f3.prototype.m_=function(D,n,_,b,w){var i=this.CB;for(var k=0;
k<i.length;k++)i[k].Vl.m_(D,n,_,b,w)};function b2(D,n){eP.call(this,"toolbar");this.cS=null;this.mJ=t.L("div","tools");
this.m.appendChild(this.mJ);this.zm=null;this.a7g=n;this.tQ=null;this.acY=-1;this.adw={};this.K=null;
this.Dc=null;this.y$=null;this.IV=null;this.FN(D);this.pF=new gi;this.pF.m.style.marginTop="5px";this.pF.m.style.marginBottom="3px";
this.pF.parent=this;this.XH=new bX(t.ct("lrs/mask"),!1,[6,6,1]);this.XH.h("click",function(i){var M=new ho(S.E.M,!0);
M.g=G.xm;M.data={d:"qmask"};this.c(M)},this);var _=new i5(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
_.h(S.E.o,this.afi,this);var b=t.L("span","rangecont form padded");b.appendChild(_.m);var w=document.body;
this.apP=[!1,!1,!1,!1];this.xh=new bX("\u2328",!1,"Virtual Keys");this.xh.h("click",function(i){var M=this.xh.m.getBoundingClientRect();
b.setAttribute("style","position:absolute; top:"+(M.top-40)+"px; left: "+(M.left+M.width+4)+"px; width:120px; z-index:2; ");
if(t.Pn(b))w.removeChild(b);else w.appendChild(b)},this)}b2.prototype=new eP;b2.prototype.afi=function(D){var n=D.target.B();
this.xh.f(n[0]||n[1]||n[2]||n[3]);var _=new ho(S.E.W,!0);for(var k=0;k<4;k++){if(n[k]!=this.apP[k]){_.data={d:S.J.a2V,Xt:n[k],a0n:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][k]};
this.c(_)}}this.apP=n.slice(0)};b2.prototype.auh=function(D,n){this.tQ=n;if(D==null||D.w.length==0||D.b[D.w[0]]==null)return;
var _=D.XH()!=null,b=D.s.qJ,w=D.b[D.w[0]].P8,i=w==1||w==3||_||b[0]+b[1]+b[2]==1;this.pF.aca(i);this.XH.f(_)};
b2.prototype.akr=function(D,n){var _=D.length,b=[];for(var k=0;k<_;k++)b[k]=D[k].slice(0);D=b;var w=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],i=Math.min(w.length/2,_-n);
for(var k=0;k<i;k++){var M=w[2*k],N=w[2*k+1];D[M]=D[M].concat(D[N]);D[N]=null}for(var k=0;k<D.length;
k++)if(D[k]==null){D.splice(k,1);k--}return D};b2.prototype.ahQ=function(D,n){for(var k=0;k<n.length;
k++)for(var _=0;_<n[k].length;_++)if(n[k][_].g.id==D)return k};b2.prototype.FN=function(D,n){this.cS=D;
this.Dc=[];this.y$=[];this.IV=[];this.K=[];var _=D.om;if(n!=null&&this.a7g)_=this.akr(_,n);if(this.zm){var b=[],w=this.zm.ahZ;
for(var k=0;k<_.length;k++){var i=[];for(var M=0;M<_[k].length;M++){var N=_[k][M];if(w==null||w.indexOf(parseInt(N.g.id))!=-1)i.push(N)}if(i.length>0)b.push(i)}_=b}for(var k=0;
k<_.length;k++){var a=[],o=this.Dc.length,U=null,V=-1;for(var M=0;M<_[k].length;M++){var N=_[k][M].g,c=this.ahQ(N.id,D.om),E=D.keys[c];
this.K.push(N);var A=new hS(N.name,E,N.h7,this.Dc.length,k,_[k].length>1);this.Dc.push(A);var Q=this.adw[N.id];
if(Q==null)Q=0;if(Q>V){V=Q;U=A}A.h(S.E.o,this.Px,this);A.h("mover",this.pa,this);a.push({name:N.name,vU:N.h7,BQ:E?E.Xw:""})}this.y$.push(U);
if(a.length==1)this.IV.push(null);else{var J=new gN(a,null,!0);J.a2U=o;J.WI=k;this.IV.push(J);J.h("select",this.amx,this);
J.parent=this}}};b2.prototype.R9=function(D,n){var _=this.Rw=n-11,b=32;if(1<t.F()&&t.F()<1.5)b=18+14*(1/t.F());
var w=39+23,i=Math.floor((_-w)/b),M=this.zm;if(M==null)return;if(i!=this.acY){this.acY=i;this.FN(this.cS,i);
this.ob(M.ey)}var N=this.y$.length*b+w,a=Math.min(1,_/N);if(.75<=a){this.mJ.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+a+","+a+");");
this.m.setAttribute("style","height:"+(n-2)+"px; overflow:hidden;")}else{_-=4;this.mJ.setAttribute("style","height: "+_+"px;  width:"+Math.ceil(N/_)*34+"px");
this.m.setAttribute("style","")}};b2.prototype._=function(){for(var k=0;k<this.Dc.length;k++)this.Dc[k]._();
for(var k=0;k<this.IV.length;k++)if(this.IV[k])this.IV[k]._()};b2.prototype.Px=function(D){var n=new ho(S.E.W,!0);
n.data={d:S.J.Ou,g:this.K[D.id].id};this.c(n)};b2.prototype.amx=function(D){var n=D.target.a2U+D.target.Uz()[0];
this.Dc[n].R4(null)};b2.prototype.pa=function(D){var n=this.tQ,_=new ho(S.E.W,!0);_.data={d:S.J.Pv};
this.c(_);var b=D.target,w=this.IV[b.WI];if(w==null)return;var i=b.m.getBoundingClientRect(),_=new ho(S.E.W,!0);
_.data={d:S.J.Td,Vl:w,x:i.left+i.width+8,y:i.top};if(n==null||!(n.j(dz.FO)||n.j(dz.uH)))this.c(_)};b2.prototype.ob=function(D){this.adw[D]=Date.now();
var n=-1;for(var k=0;k<this.K.length;k++)if(this.K[k].id==D)n=k;for(var k=0;k<this.Dc.length;k++){var _=this.Dc[k];
_.adE(n==k)}if(n==-1)return;this.y$[this.Dc[n].WI]=this.Dc[n];t.hz(this.mJ);var b=this.y$;for(var k=0;
k<b.length;k++){this.mJ.appendChild(b[k].m)}if(!this.a7g)return;this.mJ.appendChild(this.pF.m);if(this.Rw>640)this.mJ.appendChild(this.XH.m);
this.mJ.appendChild(this.xh.m)};b2.prototype.wQ=function(D,n){this.ob(n.ey)};b2.prototype.gB=function(D,n){this.zm=D;
if(n==da.XS){this.FN(this.cS);this.ob(D.ey)}this.pF.aqq(D.EH,D.Cp)};function hS(D,n,_,b,w,i){cA.call(this);
this.q9=0;this.II=this.a7Q.bind(this);this.WI=w;this.T9=b;this.PT=D;this.a1K=n;this.a4o=i;this.h7=_;
this.m=t.L("button","");this.m.innerHTML=t.ct(this.h7);if(this.a4o){var M=t.L("img","gsicon");M.setAttribute("src",PIMG["tools/corner"]);
M.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.m.appendChild(M)}this._();
t.cc(this.m,this.l2.bind(this));this.m.addEventListener("click",this.R4.bind(this),!1);this.m.addEventListener("contextmenu",hS.I0,!1)}hS.prototype=new cA;
hS.I0=function(D){D.stopPropagation();D.preventDefault();return!1};hS.prototype._=function(){var D=this.a1K?" ("+this.a1K.Xw+")":"";
this.m.setAttribute("title",io.get(this.PT)+D)};hS.prototype.l2=function(D){this.q9=setTimeout(this.II,160)};
hS.prototype.R4=function(D){clearTimeout(this.q9);var n=new ho(S.E.o,!1);n.target=this;n.id=this.T9;
this.c(n)};hS.prototype.a7Q=function(D){var n=new ho("mover",!1);n.target=this;n.id=this.T9;this.c(n)};
hS.prototype.adE=function(D){this.m.setAttribute("class",D?"toolbtn active":"toolbtn")};function cp(){cA.call(this);
this.m=t.L("div","topbar");this.MZ=t.L("span","");this.a5i=0;this.m.appendChild(this.MZ);this.mR=null;
this.m0=null;this.al=[];this.Le=[];var D=this.l2.bind(this);for(var k=0;k<cp.data.length;k++){var n=t.L("button");
this.al.push(n);this.MZ.appendChild(n);n.addEventListener("mouseover",D,!1);t.cc(n,D)}this.u3=new bX([0,13,0],!1,null,!0);
this.u3.h("click",this.HN,this);this.m.appendChild(this.u3.m);this.hp=new bX(t.ct("tools/zoom",null,"autoscale"),!1,[12,86]);
this.hp.h("click",this.HN,this);this.m.appendChild(this.hp.m);this.kM=new bX("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.kM.h("click",this.HN,this);this.m.appendChild(this.kM.m)}cp.prototype=new cA;cp.prototype.a2u=function(){if(this.Le.length!=0)return;
for(var k=0;k<cp.data.length;k++){var D=cp.data[k],n=new gN(D.items,D.LW);n.parent=this;this.Le.push(n)}this._()};
cp.prototype._=function(){this.u3._();this.hp._();this.kM._();for(var k=0;k<this.al.length;k++)this.al[k].textContent=io.get(cp.data[k].name);
this.anB();for(var k=0;k<this.Le.length;k++)this.Le[k]._()};cp.prototype.HN=function(D){var n=new ho(S.E.W,!0);
if(D.target==this.u3)n.data={d:S.J.a_,Lt:"account"};else if(D.target==this.hp)n.data={d:S.J.c8};else n.data={d:S.J.Bd,TQ:!0};
this.c(n)};cp.prototype.au6=function(D,n){this.mR=D;this.m0=n};cp.prototype.gB=function(D,n){this.m0=D;
if(n==da.XS){var _=D.afT;t.hz(this.MZ);for(var k=0;k<this.al.length;k++){if(_==null||_[k]==1||_[k]instanceof Array)this.MZ.appendChild(this.al[k]);
if(_!=null&&_[k]instanceof Array){this.a2u();this.Le[k].al1(_[k])}}this.m.removeChild(this.u3.m);this.m.removeChild(this.hp.m);
this.m.removeChild(this.kM.m);if(D.oF)this.m.appendChild(this.u3.m);this.m.appendChild(this.hp.m);this.m.appendChild(this.kM.m)}this.anB()};
cp.prototype.anB=function(D,n){var _=this.u3,b=12255232;if(bJ.JG())b=bJ.xA()?43520:16755200;_.m.setAttribute("style","color:#ffffff; background-color:#"+B.xQ(b))};
cp.prototype.l2=function(D){this.a2u();var k=this.al.indexOf(D.currentTarget),n=this.Le[k];if(D.type=="mouseover"&&!t.Pn(this.Le[this.a5i].m))return;
if(t.Pn(n.m))return;D.a0S=!0;this.a5i=k;for(var k=0;k<cp.data.length;k++)this.Le[k].update(this.mR,this.m0);
var _=D.target.getBoundingClientRect(),b=new ho(S.E.W,!0);b.data={d:S.J.Td,Vl:n,x:_.left,y:_.top+_.height+2,ab8:!0};
this.c(b)};cp.agm=function(D){var n=dz,_=n.uH,b=n.CO,w=n.u9,i={name:[0,5],items:[{name:[7,0],BQ:[_,n.J]},{name:[7,1],BQ:[_,n.vn],R:function(N){return{R:N!=null&&N.q!=null}}},{name:[7,2],BQ:[b,_,n.g_],R:function(N){return{R:N!=null&&N.q!=null}},Mb:!0},{name:[7,11],vj:!0,R:function(N){return{R:N!=null&&N.w.length!=0&&!N.b[N.w[0]].rect.hk()}}},{name:[7,13],vj:!0,R:function(N){return{R:N!=null&&N.w.length!=0&&!N.b[N.w[0]].rect.hk()}},Mb:!0},{name:[7,8],vj:!0},{name:[7,3],Mb:!0,sub:[{name:[7,9],vj:!0,R:function(N){return{R:N!=null&&N.q!=null}}},{name:[19,3,0],vj:!0,R:function(N){return{R:N!=null&&N.q!=null}}},{name:[7,4],vj:!0,R:function(N){return{R:N!=null&&N.q!=null}}},{name:[7,5],vj:!0,R:function(N){return{R:N!=null&&N.q!=null}}},{name:[7,6],vj:!0,R:function(N){return{R:N!=null&&N.q!=null}},BQ:"Shift+F6"}]},{name:[7,10],R:function(N){return{R:N!=null&&N.q!=null}},Mb:!0},{name:[6,6,1],R:function(N){return{R:N!=null,NU:N!=null&&N.XH()!=null}},BQ:[n.lk],Mb:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],LW:[{T:S.E.$W,P:G.fq.A8(!0)},{T:S.E.$W,P:G.fq.A8()},{T:S.E.$W,P:{_L:"inverse"}},{T:S.E.W,P:{d:S.J.a_,Lt:"redge"}},{T:S.E.W,P:{d:S.J.a_,Lt:"magiccut"}},{T:S.E.W,P:{d:S.J.a_,Lt:"crange"}},{sub:[{T:S.E.W,P:{d:S.J.a_,Lt:"sel_border"}},{T:S.E.W,P:{d:S.J.a_,Lt:"sel_smoothness"}},{T:S.E.W,P:{d:S.J.a_,Lt:"sel_expand"}},{T:S.E.W,P:{d:S.J.a_,Lt:"sel_contract"}},{T:S.E.W,P:{d:S.J.a_,Lt:"sel_feather"}}]},{T:S.E.W,P:{d:S.J.Ou,g:G.c1}},{T:S.E.M,g:G.xm,P:{d:"qmask"}},{T:S.E.$W,P:{_L:"duplicate",cR:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(D){var M=i.items.length-1;i.items.splice(M-2,0,{name:[6,49],BQ:[_,n.Ws],Mb:!0});i.LW.splice(M-2,0,{T:S.E.$W,P:{_L:"copyToLayer"}});
i.items.splice(M-1,0,{name:[10,16],BQ:[w,_,n.kz]});i.LW.splice(M-1,0,{T:S.E.W,P:{d:S.J.Ou,g:G.pr}})}return i};
cp.data=function(){var D=dz,n=D.uH,_=D.CO,b=D.u9,w=function(U){return{R:U!=null&&U.w.length!=0}},i=function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].add.SoLd!=null}},M=[],N=[],a="none maxx avrg medn minn rang stdv summ vari".split(" "),o=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var k=0;k<a.length;k++){M.push({name:o[k]});N.push({T:S.E.M,g:G.vp,P:{d:q.wx,ub:a[k]}})}return[{name:[0,0],items:[{name:[5,3],BQ:[b,n,D.wg],title:[11,7],vj:!0},{name:[1,0],BQ:[n,D._4],vj:!0},{name:[1,11],vj:!0,R:function(U,V){return{R:U!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],Mb:!0,sub:[{name:[1,5],vj:!0},{name:[11,0],vj:!0},{name:["PSD VAR0",[25,0]],vj:!0}]},{name:[1,1],Mb:!0,sub:[{name:"PNG",BQ:"Imgur.com",R:function(U,V){return{R:U!=null&&V.XI}}},{name:"JPG",BQ:"Imgur.com",R:function(U,V){return{R:U!=null&&V.XI}}},{name:"PSD",BQ:"Photopea.com",R:function(U,V){return{R:U!=null&&V.XI&&!U.Bt}}}]},{name:"Save ...",BQ:[n,D.j9],R:function(U,V){var c=io.get([1,2])+(U==null?"":U.xy?" ("+io.get([6,7,1])+")":U.DA?" (Google Drive)":"");
return{R:U!=null&&(U.Bn!=null&&U.ZX=="psd"||U.xy!=null||U.kr!=null&&U.kr.m5!=null||U.DA!=null||V._9.save!=null),j4:c}}},{name:[1,3],R:function(U,V){return{R:U!=null&&!U.Bt&&V.XI}}},{name:["VAR0 PSD/PSB",[1,2]],vj:!0,R:function(U,V){return{R:U!=null&&!U.Bt&&V.XI}}},{name:[1,8],sub:function(){var U=eF.ss(0),V=[];
for(var k=0;k<U.length;k++)V.push({name:U[k],BQ:"."+U[k].toLowerCase()});V.push({name:[0,14],sub:function(){var U=eF.ss(1),V=[];
for(var k=0;k<U.length;k++)V.push({name:U[k],BQ:"."+U[k].toLowerCase()});return V}()});return V}()},{name:[1,4],vj:!0,R:function(U,V){return{R:U!=null}},Mb:!0},{name:[1,9],vj:!0,R:function(U,V){return{R:U!=null}}},{name:"Export Color Lookup",vj:!0,R:function(U,V){return{R:U!=null}},Mb:!0},{name:[1,14],vj:!0,R:function(U,V){return{R:U!=null}},Mb:!0},{name:[1,10]}],LW:[{T:S.E.W,P:{d:S.J.a_,Lt:"newproject"}},{T:S.E.W,P:{d:S.J.YI}},{T:S.E.W,P:{d:S.J.YI,abH:!0}},{sub:[{T:S.E.W,P:{d:S.J.a_,Lt:"open_from_url"}},{T:S.E.W,P:{d:S.J.a_,Lt:"camera"}},{T:S.E.W,P:{d:S.J.a_,Lt:"templates"}}]},{sub:[{T:S.E.W,P:{d:S.J.K2,tu:"png"}},{T:S.E.W,P:{d:S.J.K2,tu:"jpg"}},{T:S.E.W,P:{d:S.J.K2,tu:"psd"}}]},{T:S.E.W,P:{d:S.J.sh}},{T:S.E.W,P:{d:S.J.so}},{T:S.E.W,P:{d:S.J.a_,Lt:"savepsb"}},{sub:function(){var U=eF.ss(0),V=[];
for(var k=0;k<U.length;k++)V.push({T:S.E.W,P:{d:S.J.a_,Lt:"saveforweb",tu:k}});V.push({sub:function(){var c=eF.ss(0).length,U=eF.ss(1),V=[];
for(var k=0;k<U.length;k++)V.push({T:S.E.W,P:{d:S.J.a_,Lt:"saveforweb",tu:c+k}});return V}()});return V}()},{T:S.E.W,P:{d:S.J.a_,Lt:"saveforweb",tu:4,a2k:!0}},{T:S.E.W,P:{d:S.J.a_,Lt:"eassets"}},{T:S.E.W,P:{d:S.J.a_,Lt:"exlut"}},{T:S.E.W,P:{d:S.J.a_,Lt:"finfo"}},{T:S.E.W,P:{d:S.J.a_,Lt:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],BQ:[_,n,D.CE]},{name:[2,1],BQ:[n,D.CE],Mb:!0},{name:[2,11],BQ:[_,n,D.ZU],Mb:!0,vj:!0,R:function(U,V){return{R:ey.a1G(U)&&V.ey!=G.pr}}},{name:[5,0],BQ:[n,D.cG]},{name:[5,1],BQ:[n,D.Ne]},{name:[5,7],BQ:[_,n,D.Ne]},{name:[5,2],BQ:[n,D.r4],R:function(U,V){return{R:t.e_()||V.uq!=null||V.M1!=null||V.a4d!=null}}},{name:[2,2],R:function(U){return{R:U!=null&&U.q!=null}},BQ:"Delete",Mb:!0},{name:[2,3],R:function(U){return{R:U!=null}},vj:!0,BQ:[_,D.h5]},{name:[14,9],R:function(U){return{R:U!=null}},vj:!0,Mb:!0},{name:[10,48],R:function(U){return{R:U!=null&&U.yP(!1)}}},{name:[10,46],R:function(U){return{R:G.tC.PA(U)}}},{name:[10,16],BQ:[b,n,D.kz]},{name:[2,4],sub:go.atd()},{name:[2,10,1]},{name:[2,10,0],Mb:!0},{name:[12,87],sub:[{name:[12,62],R:function(U){return{R:U!=null}}},{name:[9,3],R:function(U){return{R:U!=null}}},{name:[10,31],R:function(U){return{R:U!=null&&U.DZ()[1].length!=0}}}]},{name:[1,15],vj:!0},{name:[12,79],vj:!0,BQ:[n,D.kS]},{name:[1,13],vj:!0}],LW:[{T:S.E.M,g:G.rX,P:{d:"h_undoredo"}},{T:S.E.M,g:G.rX,P:{d:"h_stepfwd"}},{T:S.E.M,g:G.rX,P:{d:"h_stepbck"}},{T:S.E.W,P:{d:S.J.a_,Lt:"afw_fade"}},{T:S.E.W,P:{d:S.J.aA}},{T:S.E.W,P:{d:S.J.rL}},{T:S.E.W,P:{d:S.J.rL,iP:!0}},{T:S.E.W,P:{d:S.J.vl}},{T:S.E.$W,P:{_L:"delete"}},{T:S.E.W,P:{d:S.J.a_,Lt:"fill"}},{T:S.E.W,P:{d:S.J.a_,Lt:"stroke"}},{T:S.E.W,P:{d:S.J.Ou,g:G.m9}},{T:S.E.M,g:G.mg,P:{d:"start",lE:"rigidTransform"}},{T:S.E.W,P:{d:S.J.Ou,g:G.pr}},{sub:go.afD()},{T:S.E.$W,P:{_L:"align",cR:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{T:S.E.M,g:G.vp,P:{d:q.pi}},{sub:[{T:S.E.W,P:{d:S.J.Sn,hy:0}},{T:S.E.W,P:{d:S.J.Sn,hy:1}},{T:S.E.W,P:{d:S.J.Sn,hy:2}}]},{T:S.E.W,P:{d:S.J.a_,Lt:"pmanager"}},{T:S.E.W,P:{d:S.J.a_,Lt:"preferences"}},{T:S.E.W,P:{d:S.J.a_,Lt:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var U=[];
for(var V in fg.names){U.push({name:fg.names[V],vj:d[V]!=null,BQ:fg.keys[V],Mb:fg.pE.indexOf(V)!=-1});
if(V=="selc"){U.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],vj:!0,Mb:!0});U.push({name:[19,7,0],BQ:[n,_,D.l7],R:function(V){return{R:V&&V.w.length!=0&&V.b[V.w[0]].add.SoLd==null}}});
U.push({name:[4,18],vj:!0})}}return U}()},{name:[4,16,0],R:function(U){return{R:U!=null&&U.yP(!1)}}},{name:[4,16,1],R:function(U){return{R:U!=null&&U.yP(!1)}}},{name:[4,16,2],R:function(U){return{R:U!=null&&U.yP(!1)}},Mb:!0},{name:[11,11,1],R:function(U){return{R:U!=null&&U.yP(!1)}}},{name:[11,11,0],R:function(U){return{R:U!=null&&U.yP(!1)}},Mb:!0},{name:[11,3],vj:!0,BQ:[b,n,D.Ne]},{name:[11,10],vj:!0,BQ:[b,n,D.g_]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],R:function(U){return{R:U!=null&&U.q!=null}}},{name:[11,12,0],R:function(U){return{R:U!=null}},BQ:[n,D.wB],vj:!0},{name:[11,12,2],R:function(U){return{R:U!=null}},Mb:!0},{name:[2,12],R:function(U){return{R:U!=null&&U.yP(!1)}},vj:!0}],LW:[{sub:function(){var U=[];
for(var V in fg.names){U.push({T:S.E.M,g:G._x,P:{d:"start",IL:V}});if(V=="selc"){U.push({T:S.E.M,g:G.mg,P:{d:"start",lE:"adaptCorrect"}});
U.push({T:S.E.$W,P:{_L:"desaturate"}});U.push({T:S.E.M,g:G._x,P:{d:"start",IL:"matc"}})}}return U}()},{T:S.E.$W,P:{_L:"levels",cR:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{T:S.E.$W,P:{_L:"levels",cR:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{T:S.E.$W,P:{_L:"levels",cR:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{T:S.E.W,P:{d:S.J.a_,Lt:"rcolors"}},{T:S.E.W,P:{d:S.J.a_,Lt:"vbitmap"}},{T:S.E.W,P:{d:S.J.a_,Lt:"csize"}},{T:S.E.W,P:{d:S.J.a_,Lt:"isize"}},{sub:[{T:S.E.$W,P:G.Q.U6(!0,90)},{T:S.E.$W,P:G.Q.U6(!0,-90)},{T:S.E.$W,P:G.Q.U6(!0,-180)},{T:S.E.$W,P:G.Q.U6(!1,"Hrzn")},{T:S.E.$W,P:G.Q.U6(!1,"Vrtc")}]},{T:S.E.M,g:G.nk,P:{d:"cropbysel",af8:0}},{T:S.E.W,P:{d:S.J.a_,Lt:"trim"}},{T:S.E.$W,P:{_L:"revealAll",cR:{classID:"RvlA"}}},{T:S.E.M,g:G._x,P:{d:"start",IL:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],BQ:[_,n,D.wg]},{name:[0,4],Mb:!0},{name:[6,49,0],BQ:[n,D.Ws]},{name:[6,49,1],BQ:[_,n,D.Ws],R:function(U){return{R:U!=null&&U.q!=null&&U.yP(!1)}}}]},{name:[6,0],R:w,BQ:[n,D.Ws]},{name:[11,4],R:w},{name:[5,4],R:w,Mb:!0},{name:[11,6],Mb:!0,R:w,sub:bI.Nl(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Mb:!0,sub:bI.a1Z()},{name:[6,2],sub:[{name:[6,4],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()==null}}},{name:[6,5,0],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()==null}}},{name:[6,5,1],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()==null&&U.q!=null}}},{name:[6,5,2],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()==null&&U.q!=null}}},{name:[6,5,3],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()==null}},Mb:!0},{name:[5,4],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()!=null}}},{name:[5,8],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()!=null&&U.yP(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].us()!=null}}}]},{name:[6,3],sub:[{name:[6,4],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].add.vmsk==null}}},{name:[6,5,0],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].add.vmsk==null}}},{name:"Current Path",R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].add.vmsk==null}},Mb:!0},{name:[5,4],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],R:function(U){return{R:U!=null&&U.w.length!=0&&U.b[U.w[0]].add.vmsk!=null}}}]},ht.abY(!0),{name:[6,7,1],Mb:!0,sub:[{name:[6,7,0]},{name:[6,36,4],R:i,sub:M},{name:[1,0],R:i,Mb:!0},{name:"Turn into JPG"}]},{name:[6,8],R:ht.aj1},{name:[6,34],Mb:!0,R:function(U){if(U==null||U.w.length==0)return{R:!1};
var V=U.b[U.w[0]];return{R:V.add.lmfx!=null&&!V.nR()}}},{name:[6,9],Mb:!0,BQ:[n,D.lc]},{name:[6,55],Mb:!0,sub:[{name:[6,56,0],BQ:[_,n,D.nL]},{name:[6,56,1],BQ:[n,D.nL]},{name:[6,56,2],BQ:[n,D.H3]},{name:[6,56,3],BQ:[_,n,D.H3]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],R:function(U){return{R:U!=null&&U.w.length==1&&U.w[0]!=0&&!U.b[U.w[0]].nR()}},BQ:[n,D.E]},{name:[6,12,0],R:function(U){return{R:U!=null&&U.w.length!=0&&(U.w.length>1||U.b[U.w[0]].nR())}}},{name:[6,12,1]},{name:"Defringe"}],LW:[{sub:[{T:S.E.M,g:G.vp,P:{d:q.S6}},{T:S.E.M,g:G.vp,P:{d:q.dY}},{T:S.E.$W,P:{_L:"copyToLayer"}},{T:S.E.$W,P:{_L:"cutToLayer"}}]},{T:S.E.M,g:G.vp,P:{d:q.Jm}},{T:S.E.W,P:{d:S.J.a_,Lt:"duplinto"}},{T:S.E.M,g:G.vp,P:{d:q.h0}},{sub:bI.gk(!0)},{sub:[{T:S.E.M,g:G.i4,P:{d:"newfill",MJ:0}},{T:S.E.$W,P:G.cD.Zh(1)},{T:S.E.$W,P:G.cD.Zh(2)}]},{sub:bI.En()},{sub:[{T:S.E.M,g:G.vp,P:{d:q.Ht,eF:"RvlA"}},{T:S.E.M,g:G.vp,P:{d:q.Ht,eF:"HdAl"}},{T:S.E.M,g:G.vp,P:{d:q.Ht,eF:"RvlS"}},{T:S.E.M,g:G.vp,P:{d:q.Ht,eF:"HdSl"}},{T:S.E.M,g:G.vp,P:{d:q.Ht,eF:"Trns"}},{T:S.E.M,g:G.vp,P:{d:q.Rd}},{T:S.E.M,g:G.vp,P:{d:q.Io}},{T:S.E.M,g:G.vp,P:{d:q.Jw}}]},{sub:[{T:S.E.M,g:G.vp,P:{d:q.AL,abG:!1}},{T:S.E.M,g:G.vp,P:{d:q.AL,abG:!0}},{T:S.E.M,g:G.vp,P:{d:q.AL,agJ:!0}},{T:S.E.M,g:G.vp,P:{d:q.NZ}},{T:S.E.M,g:G.vp,P:{d:q.OY}}]},{T:S.E.M,g:G.vp,P:{d:q.gV}},{sub:[{T:S.E.$W,P:{_L:"newPlacedLayer"}},{sub:N},{T:S.E.$W,P:{_L:"placedLayerEditContents",cR:{classID:"placedLayerEditContents"}}},{T:S.E.M,g:G.vp,P:{d:q.PB}}]},{T:S.E.$W,P:{_L:"rasterizeLayer",cR:{classID:"rasterizeLayer",null:cT.S0("Lyr",!0)}}},{T:S.E.M,g:G.vp,P:{d:q.J3}},{T:S.E.M,g:G.vp,P:{d:q.sc}},{sub:[{T:S.E.M,g:G.vp,P:{d:q.I9,_c:0}},{T:S.E.M,g:G.vp,P:{d:q.I9,_c:1}},{T:S.E.M,g:G.vp,P:{d:q.I9,_c:2}},{T:S.E.M,g:G.vp,P:{d:q.I9,_c:3}}]},{sub:[{T:S.E.M,g:G.vp,P:{d:q.L5,_c:"makeframes"}},{T:S.E.M,g:G.vp,P:{d:q.L5,_c:"unmakeframes"}},{T:S.E.M,g:G.vp,P:{d:q.L5,_c:"merge"}}]},{T:S.E.M,g:G.vp,P:{d:q.aF}},{T:S.E.M,g:G.vp,P:{d:q.lz}},{T:S.E.$W,P:{_L:"flattenImage"}},{T:S.E.M,g:G.mg,P:{d:"start",lE:"defr"}}]},cp.agm(!1),function(){var U={name:[0,6],items:[{name:[24,18,4],BQ:[b,n,D.ZU],Mb:!0}],LW:[{T:S.E.M,g:G.mg,P:{d:"applylast"}}]};
for(var k=0;k<cq.y8.length;k++){var V=cq.y8[k];if(V.Jh!=null){U.items.push({name:cq.names[V.Jh],vj:!0,Mb:V.Mb});
U.LW.push({T:S.E.M,g:G.mg,P:{d:"start",lE:V.Jh}});continue}var c={name:V.JP,sub:[]};U.items.push(c);
var E={sub:[]};U.LW.push(E);for(var A=0;A<V.h8.length;A++){var Q={name:cq.names[V.h8[A]],vj:cq.D2(V.h8[A])!=null};
c.sub.push(Q);var J={T:S.E.M,g:G.mg,P:{d:"start",lE:V.h8[A]}};E.sub.push(J)}}return U}(),{name:[0,7],items:[{name:[8,0],BQ:[n,D.$R]},{name:[8,1],BQ:[n,D.nE]},{name:[20,3],BQ:[n,D.$M]},{name:[20,2],BQ:[n,D.iO],Mb:!0},{name:"Screen Mode",Mb:!0,sub:[{name:"Fullscreen",R:function(U,V){return{NU:document.fullscreenElement!=null}},Mb:!0},{name:"Standard",R:function(U,V){return{NU:V.jC==0}}},{name:"Menu Bar and Canvas",R:function(U,V){return{NU:V.jC==1}}}]},{name:[8,13],BQ:[n,D.Jq],R:function(U,V){return{NU:V.QX}}},{name:[8,12],Mb:!0,sub:[{name:[17,2],R:function(U,V){return{R:V.QX,NU:V.BE.on}}},{name:[8,9],R:function(U,V){return{R:V.QX,NU:V.BE.yE}}},{name:[8,2],R:function(U,V){return{R:V.QX,NU:V.BE.eu}},BQ:[n,D.TB]},{name:[8,4],R:function(U,V){return{R:V.QX,NU:V.BE.sM}},BQ:[n,D.ON]},{name:[8,8],R:function(U,V){return{R:V.QX,NU:V.BE.mK}}},{name:[8,11,0],R:function(U,V){return{R:V.QX,NU:V.BE.wX}}}]},{name:[8,3],R:function(U,V){return{NU:V.N3}},BQ:[n,D.pk],Mb:!0},{name:[8,5],R:function(U,V){return{NU:V.U_}}},{name:[8,6],Mb:!0,sub:[{name:[8,2],R:function(U,V){return{NU:V.YR[0]}}},{name:[8,4],R:function(U,V){return{NU:V.YR[1]}}},{name:[9,1],R:function(U,V){return{NU:V.YR[2]}}},{name:[8,11,0],R:function(U,V){return{NU:V.YR[3]}}},{name:[8,7],R:function(U,V){return{NU:V.YR[4]}}}]},{name:[11,15,2],R:function(U,V){return{R:U!=null,NU:U!=null&&U.gJ}}},{name:[11,15,0],R:function(U,V){return{R:U!=null}}},{name:[11,14],R:function(U,V){return{R:U!=null}},vj:!0},{name:[11,15,1],R:function(U,V){return{R:U!=null&&U.w.length!=0}},Mb:!0},{name:[8,11,2],R:function(U,V){return{R:U!=null&&U.wX.length!=0}}}],LW:[{T:S.E.M,g:G.TS,P:{d:"zoom",JO:!0}},{T:S.E.M,g:G.TS,P:{d:"zoom",JO:!1}},{T:S.E.M,g:G.TS,P:{d:"adapt",k:"fitscr"}},{T:S.E.M,g:G.TS,P:{d:"adapt",k:"pixel"}},{sub:[{T:S.E.W,P:{d:S.J.Bd,TQ:!0}},{T:S.E.W,P:{d:S.J.Bd,k:0}},{T:S.E.W,P:{d:S.J.Bd,k:1}},{T:S.E.W,P:{d:S.J.Bd,k:2}}]},{T:S.E.W,P:{d:S.J.VS,hy:da.wS}},{sub:[{T:S.E.W,P:{d:S.J.VS,hy:da.if}},{T:S.E.W,P:{d:S.J.VS,hy:da.ua}},{T:S.E.W,P:{d:S.J.VS,hy:da.fz}},{T:S.E.W,P:{d:S.J.VS,hy:da.NA}},{T:S.E.W,P:{d:S.J.VS,hy:da.aQ}},{T:S.E.W,P:{d:S.J.VS,hy:da.RV}}]},{T:S.E.W,P:{d:S.J.VS,hy:da.bM}},{T:S.E.W,P:{d:S.J.VS,hy:da.Dz}},{sub:[{T:S.E.W,P:{d:S.J.VS,hy:da.lj,no:0}},{T:S.E.W,P:{d:S.J.VS,hy:da.lj,no:1}},{T:S.E.W,P:{d:S.J.VS,hy:da.lj,no:2}},{T:S.E.W,P:{d:S.J.VS,hy:da.lj,no:3}},{T:S.E.W,P:{d:S.J.VS,hy:da.lj,no:4}}]},{T:S.E.M,g:G.GZ,P:{d:"lockguides"}},{T:S.E.M,g:G.GZ,P:{d:"gids",kk:[[],[]]}},{T:S.E.W,P:{d:S.J.a_,Lt:"addguides"}},{T:S.E.M,g:G.GZ,P:{d:"gidsFromLayer"}},{T:S.E.M,g:G.hA,P:{d:"deleteAll"}}]},function(){var U={name:[0,8],items:[{name:[0,14],Mb:!0,sub:[]}],LW:[{sub:[]}]};
for(var k=0;k<f3.vF.length;k++){var V=f3.vF[k],c=function(){var E=V.Vl.DR;return function(A,Q){return{NU:Q.Le.indexOf(parseInt(E))!=-1}}}();
(V.Z$?U.items[0].sub:U.items).push({name:V.Vl.name,R:c});(V.Z$?U.LW[0].sub:U.LW).push({T:S.E.W,P:{d:S.J.$o,Lt:V.Vl.DR}})}return U}(),function(){var U={name:[0,14],items:[],LW:[]},V={name:[0,9],sub:[]};
U.items.push(V);var c={sub:[]};U.LW.push(c);var E=io.atD();for(var k=0;k<E.length;k++){var A=E[k],J=A.code,L=io.VL(J);
V.sub.push({name:A.name,BQ:J,R:function(P,u){return{NU:this.BQ==io.x0()}}});c.sub.push({T:S.E.W,P:{d:S.J.VS,hy:da.Q8,lang:L}})}V.sub.push({name:[0,12]});
c.sub.push({T:S.E.W,P:{d:S.J.xV,link:"https://www.photopea.com/translate/"}});var V={name:[0,15],sub:[]};
U.items.push(V);var c={sub:[]};U.LW.push(c);for(var k=0;k<bb.d6.length;k++){V.sub.push({name:bb.d6[k].name,R:function(P,u){return{NU:this.name==bb.d6[u.$r].name}}});
c.sub.push({T:S.E.W,P:{d:S.J.VS,hy:da.M7,$r:k}})}U.items.push({name:[0,17,6],R:function(P,u){return{R:u.pR!=null}}});
U.LW.push({T:S.E.W,P:{d:S.J.a9I}});U.items.push({name:[11,13]});U.LW.push({T:S.E.W,P:{d:S.J.a_,Lt:"shortcuts"}});
U.items.push({name:[0,16],R:function(P){return{NU:p.b$,R:p.BU}},Mb:!0});U.LW.push({T:S.E.W,P:{d:S.J.a2x}});
U.items.push({name:"",R:function(P,u){return u.oF?{j4:"About Photopea",R:!0}:{j4:"",R:!1}}});U.LW.push({T:S.E.W,P:{d:S.J.a_,Lt:"aboutpp"}});
return U}()]}();function a0(){cA.call(this);this.m=t.L("div","");this.$j=0;this.mP=0;this.Wc=null;this.KB=t.L("div","");
this.KB.setAttribute("style","width:200em; height:100em; position:absolute;");this.QZ=[];this.OI=[];
this.Ty={}}a0.prototype=new cA;a0.prototype.Cf=function(D){var n=Date.now(),_=[];if(D=="-")_=[new fZ,new fk,new bt,new iR,new bM,new bL,new dM,new iP,new g9,new hb,new hG,new bo,new gr,new ds,new gj,new bI,new gh,new f7,new cC,new eX,new bz,new aG,new a3,new fv,new eC,new a4,new dL(!1),new dL(!0),new iE(0),new iE(1),new fI,new d6,new dg,new ix,new gA,new hh,new f6,new fM,new cZ,new cE,new hE("border",[7,9],"px"),new hE("smoothness",[19,3,0],"px"),new hE("expand",[7,4],"px"),new hE("contract",[7,5],"px"),new hE("feather",[7,6],"px"),new g3(0,"namewindow",[12,48]),new g3(2,"billto","Bill To"),new g3(1,"cornerradius",[12,94,0],"px",!0,!0),new g3(1,"scaleeffects","Scale Effects","%",!0),new g3(1,"doczoom","Zoom","%",!0)];
else _=[new ey(D.slice(4))];this.aa5(_);this.Ty[D]=!0};a0.prototype.aa5=function(D){var n=this.Wc;for(var k=0;
k<D.length;k++){var _=D[k];_.parent=this;this.OI.push(_);this.yS(_);_._();if(n)_.gB(n,da.XS);_.h(S.E.Mt,this.uU,this)}};
a0.prototype.R9=function(D,n){this.$j=D;this.mP=n;for(var k=0;k<this.OI.length;k++)this.yS(this.OI[k])};
a0.prototype._=function(){for(var k=0;k<this.OI.length;k++)this.OI[k]._()};a0.prototype.nd=function(){return this.QZ.length==0?null:this.QZ[this.QZ.length-1]};
a0.prototype.oX=function(){for(var k=0;k<this.QZ.length;k++)if(this.QZ[k].oX())return!0;return!1};a0.prototype.aix=function(D,n,_,b,w){var i=D.startsWith("afw_"),M=null;
if(!i&&!this.Ty["-"])this.Cf("-");if(i&&!this.Ty[D])this.Cf(D);if(typeof D=="object"){M=D;if(!M.acV(S.E.Mt,this.uU))M.h(S.E.Mt,this.uU,this);
M.parent=this}else for(var k=0;k<this.OI.length;k++)if(this.OI[k].id==D)M=this.OI[k];if(this.oX()&&M.oX()){alert("Finish the current action first");
return}if(!M.M4(n))return;if(this.QZ.indexOf(M)!=-1){if(D=="colorpicker")M.wQ(n,_,b,w);return}var N=this.QZ.length-1;
if(N>=0)t.ES(this.QZ[N].m,"wdisabled");this.m.appendChild(M.m);this.QZ.push(M);this.yS(M);M.wQ(n,_,b,w)};
a0.prototype.yS=function(D){var n=this.$j,_=this.mP,b=D.dg(n,_),w;if(b!=null){w=b}else{b=new gZ(0,0);
w=D.arz();if(w==null){var i=this.QZ.indexOf(D)+1;if(n<450||_<450)w=new gZ(0,0);else w=new gZ(i*150,i*150)}}D.m.style.left=w.x+"px";
D.m.style.top=this.m.offsetTop+w.y+"px";D.R9(this.$j-b.x*2,this.mP-b.y*2-34)};a0.prototype.gB=function(D,n){this.Wc=D;
for(var k=0;k<this.OI.length;k++)this.OI[k].gB(D,n)};a0.prototype.uU=function(D){var n=this.QZ.pop();
this.m.removeChild(n.m);var _=this.QZ.length-1;if(_>=0)t.ad(this.QZ[_].m,"wdisabled");if(this.KB.parentNode==this.m)this.m.removeChild(this.KB)};
window.onload=function(){document.body.appendChild(new g6().m)}}())