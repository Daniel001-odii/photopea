(function(){var bl={};bl.ahN=function(G,m){var A=g.te[g.mh("%|xK")];if(A==null)return"XYP";var Q=G.toString(16).slice(0,4),H=Q+m+"aQYRDCB";
return A(H).slice(5,17)+Q.split("").reverse().join("")};bl.bs=function(){var G=g.te[g.Xh("3M"+(g.gR(26)?"]K":"fa"))];
G=G[g.Xh("]["+(!g.gR(28)?",":"`"))];return Math.floor(G()/1e3)};bl.gR=function(G){var m=0;for(var $=0;
$<G;$++)m+=Math.random();return m/G<Math.PI/4};bl.Xh=function(G){var m="";if(!bl.gR(28))G+="-3";for(var $=0;
$<G.length;$++){var A=G.charCodeAt($);if(A<32||126<A)throw"e";m+=String.fromCharCode(32+(A-32+17+3*$)%95)}return m};
bl.mh=function(G){var m="";if(!bl.gR(28))G+="-1";for(var $=0;$<G.length;$++){var A=G.charCodeAt($);A-=32;
A+=95e4;A-=17+3*$;A=A%95;m+=String.fromCharCode(32+A)}return m};bl.KK=bl.Xh("XP");bl.Qz=bl.Xh("XYP");
bl.o0=bl.Xh("c[Y");bl.agn=bl.Xh("][`");bl.a09=bl.Xh("SU_");bl.Vq=bl.Xh("b^L");bl.amg=bl.Xh("61=");bl.HT=bl.Xh("Q[M_");
bl.Ix=bl.Xh("WQJJ");bl.Gr=bl.Xh("W^NL");bl.Rs=bl.Xh("[[JJ");bl.rv=bl.Xh("^\\NT");bl.a0E=bl.Xh("bQUL");
bl.Eh=bl.Xh("bQWJ");bl.l5=bl.Xh("3M]K");bl.asN=bl.Xh("<M]N");bl.a6V=bl.Xh("RXRIN");bl.uY=bl.Xh("b`bRH");
bl.vW=bl.Xh("fUMZK");bl.acr=bl.Xh("WQRMKT");bl.Vk=bl.Xh("XR[GPE");bl.auv=bl.Xh("aMWJRM");bl.atp=bl.Xh("bO[OST");
bl.ar5=bl.Xh("cM[MHT");bl.ajt=bl.Xh("^Z5OQE");bl._r=bl.Xh("aQYRDCB");bl.vH=bl.Xh("[[LGWILH");bl.MK=bl.Xh("S[L[PEKN");
bl.AT=bl.Xh("aQOKURBL");bl.a$=bl.Xh("aQ\\VRNP?");bl.a4k=bl.Xh("XZWKU(1'#");bl.au5=bl.Xh("SQLUGE2, ");
bl.asU=bl.Xh("]M_OJAQII");bl.Hf=bl.Xh("bQ]:LMBILH");bl.aoT=bl.Xh("UU[YW#ECC8");bl.hm=bl.Xh("cQaZ&OKN<BE");
bl.Rx=bl.Xh("P\\YKQD B@@5");bl.rH=bl.Xh("aQVUYE B@@5");bl.bK=bl.Xh("bQ]'WTOC9IE3");bl.afx=bl.Xh("XZ\\KUT~?=CC3");
bl.ts=bl.Xh("R^NGWE\"F<A6<?");bl.afK=bl.Xh("VQ]+OEJ?EHrGs,");bl.vw=bl.Xh("G95.WTM,<EF3><");bl.Jn=bl.Xh("PPM+YEKN#=DB06*4");
function a5(G){this.$n={};this.vT=0;this.MT();if(G!=!0)window.__kb=this}a5.rB=null;a5.prototype.MT=function(){var G=navigator.keyboard;
if(G&&window.top==window.self)G.getLayoutMap().then(function(m){a5.rB=m})};a5.prototype.aag=function(G){var m={shiftKey:a5.K6,altKey:a5.Ei,ctrlKey:a5.KF};
for(var A in m){var Q=G[A],H=m[A],J=this.j(H);if(!Q&&J){for(var $=0;$<H.Zm.length;$++)this.Id(H.Zm[$])}}};
a5.prototype.Li=function(G){this.vT++;this.$n[G]=!0};a5.prototype.Id=function(G){this.vT--;delete this.$n[G];
if(this.vT<=0||a5.DN(G,a5.Na))this.reset()};a5.prototype.j=function(G){for(var $=0;$<G.Zm.length;$++)if(this.$n[G.Zm[$]])return!0;
return!1};a5.prototype.reset=function(){this.$n={};this.vT=0};a5.prototype.Ui=function(){var G=this,m=G.j(a5.K6)?10:1,A=0,Q=0;
if(G.j(a5.e5))A=-m;if(G.j(a5.fB))A=m;if(G.j(a5.kd))Q=-m;if(G.j(a5.cX))Q=m;return new dw(A,Q)};a5.prototype.Lh=function(){var G=this,m=a5.a_;
for(var $=0;$<10;$++)if(G.j(m[$]))return $;return-1};a5.DN=function(G,m){return m.Zm.indexOf(G)!=-1};
a5.a8k="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
a5.vX=function(G){var m=G.code;if(m=="")return!1;var A=a5.DN;if(G.altKey&&!G.shiftKey&&!G.ctrlKey){var Q=a5.a_.concat([a5.Da,a5.OS,a5.Wv,a5.sW]),H=!1;
for(var $=0;$<Q.length;$++)if(A(m,Q[$]))return!1}return a5.a8k.indexOf(m)==-1||G.shiftKey&&(m=="F5"||m=="F6")};
a5.n5=function(G){if(typeof G=="string")return G;var m=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(G==null)return"";var A=[];for(var $=0;$<G.length;$++){var Q=G[$].CF?G[$].CF:G[$];if(m&&G[$].tR)Q=G[$].tR;
A.push(Q)}if(m||A.length==1)return A.join(" + ");else{var H=A.pop();return A.join("+")+" + "+H}};a5.Hh=function(G){window.__kb.MT();
var m=G.code,A=a5.rB;if(A&&A.get(m)){var Q={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},H=A.get(m).toLowerCase(),J=H.charCodeAt(0);
if(97<=J&&J<=122){var b="Key"+H.toUpperCase();m=b}else if(Q[H])m=Q[H];return m}var Q={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},H=G.key.toLowerCase(),J=H.charCodeAt(0);
if(H.length==1){if(97<=J&&J<=122){var b="Key"+H.toUpperCase();m=b}else if(Q[H])m=Q[H]}if(H=="control"&&m!="")m="ControlLeft";
return m};a5.J9=0;a5.RE=function(G,m){var A=0;if(Date.now()-a5.J9>1e3){A=m==0?100:m*10}else{if(G%10!=0)G*=10;
A=(G+m)%100}a5.J9=Date.now();return A};a5.adO={nm:"No Touch",Zm:["NoTouch"]};a5.pg={CF:"Enter",Zm:["Enter","NumpadEnter"]};
a5.K6={CF:"Shift",tR:"\u21E7",Zm:["ShiftLeft","ShiftRight"]};a5.Na={CF:"Meta",Zm:["MetaLeft","MetaRight","OSLeft","OSRight"]};
a5.KF={CF:"Ctrl",tR:"\u2318",Zm:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
a5.Ei={CF:"Alt",tR:"\u2325",Zm:["AltLeft","AltRight"]};a5.a9x={CF:"CtrlOrAlt",Zm:a5.KF.Zm.concat(a5.Ei.Zm)};
a5.OD={CF:"Escape",Zm:["Escape"]};a5.WN={CF:"Space",Zm:["Space"]};a5.tr={CF:"Tab",Zm:["Tab"]};a5.al_={CF:"Home",Zm:["Home"]};
a5.af2={CF:"End",Zm:["End"]};a5.e5={CF:"Left",Zm:["ArrowLeft"]};a5.kd={CF:"Up",Zm:["ArrowUp"]};a5.fB={CF:"Right",Zm:["ArrowRight"]};
a5.cX={CF:"Down",Zm:["ArrowDown"]};a5.Da={CF:"+",Zm:["NumpadAdd","Equal"]};a5.OS={CF:"-",Zm:["NumpadSubtract","Minus"]};
a5.Op={CF:";",Zm:["Semicolon"]};a5.alj={CF:"Dead",Zm:["Dead"]};a5.am7={CF:"=",Zm:["Equal"]};a5.m9={CF:"Backspace",Zm:["Backspace"]};
a5.lV={CF:"Delete",Zm:["Delete"]};a5.aou={CF:"Backslash",Zm:["Backslash","IntlBackslash"]};a5.a6K={CF:"Slash",Zm:["NumpadDivide","Slash"]};
a5.a0D={CF:"Backquote",Zm:["Backquote"]};a5.Wv={CF:"[",Zm:["BracketLeft"]};a5.sW={CF:"]",Zm:["BracketRight"]};
a5.o4={CF:".",Zm:["Period"]};a5.IP={CF:",",Zm:["Comma"]};a5.xC={CF:"'",Zm:["Quote"]};a5.S={CF:"A",Zm:["KeyA"]};
a5.n4={CF:"B",Zm:["KeyB"]};a5.yE={CF:"C",Zm:["KeyC"]};a5.z_={CF:"D",Zm:["KeyD"]};a5.E={CF:"E",Zm:["KeyE"]};
a5.al={CF:"F",Zm:["KeyF"]};a5.jE={CF:"G",Zm:["KeyG"]};a5.pa={CF:"H",Zm:["KeyH"]};a5.VJ={CF:"I",Zm:["KeyI"]};
a5.Qk={CF:"J",Zm:["KeyJ"]};a5.SU={CF:"K",Zm:["KeyK"]};a5.QC={CF:"L",Zm:["KeyL"]};a5.yW={CF:"M",Zm:["KeyM"]};
a5.uV={CF:"N",Zm:["KeyN"]};a5.xb={CF:"O",Zm:["KeyO"]};a5.Mj={CF:"P",Zm:["KeyP"]};a5.Aq={CF:"Q",Zm:["KeyQ"]};
a5.Lm={CF:"R",Zm:["KeyR"]};a5.UT={CF:"S",Zm:["KeyS"]};a5.zr={CF:"T",Zm:["KeyT"]};a5.NW={CF:"U",Zm:["KeyU"]};
a5.z8={CF:"V",Zm:["KeyV"]};a5._h={CF:"W",Zm:["KeyW"]};a5.ab={CF:"X",Zm:["KeyX"]};a5.apV={CF:"Y",Zm:["KeyY"]};
a5.dT={CF:"Z",Zm:["KeyZ"]};a5.d3={CF:"0",Zm:["Numpad0","Digit0"]};a5.kX={CF:"1",Zm:["Numpad1","Digit1"]};
a5.a4P={CF:"2",Zm:["Numpad2","Digit2"]};a5.ado={CF:"3",Zm:["Numpad3","Digit3"]};a5.ao$={CF:"4",Zm:["Numpad4","Digit4"]};
a5.ak8={CF:"5",Zm:["Numpad5","Digit5"]};a5.as$={CF:"6",Zm:["Numpad6","Digit6"]};a5.au6={CF:"7",Zm:["Numpad7","Digit7"]};
a5.ath={CF:"8",Zm:["Numpad8","Digit8"]};a5.a4x={CF:"9",Zm:["Numpad9","Digit9"]};a5.a_=[a5.d3,a5.kX,a5.a4P,a5.ado,a5.ao$,a5.ak8,a5.as$,a5.au6,a5.ath,a5.a4x];
a5.a7t={CF:"F1",Zm:["F1"]};a5.afl={CF:"F2",Zm:["F2"]};a5.ajs={CF:"F3",Zm:["F3"]};a5.agC={CF:"FF",Zm:["F4"]};
a5.BL={CF:"F5",Zm:["F5"]};a5.a1J={CF:"F6",Zm:["F6"]};a5.a1i={CF:"F7",Zm:["F7"]};a5.ai8={CF:"F8",Zm:["F8"]};
a5.a7p={CF:"F9",Zm:["F9"]};a5.aru={CF:"F10",Zm:["F10"]};a5.ajf={CF:"F11",Zm:["F11"]};a5.aeN={CF:"F12",Zm:["F12"]};
function ez(G){e7.call(this);this.sF={};this.tS={};this.af1=0;this.akV={};this.ia=[];this.aqo=0;this.Rs=G;
ez.sd=this}ez.a2J=function(G,m){var $=0,A=ez.zn;while($<A.length){if((m>>>$&1)==1)break;$++}if(m==0||A[$][1]==""){if((m&15)!=0&&ez.LP(G,[33,126])>.7)$=0;
else if(m==0)$=0;else{$=0}}return A[$][1]};ez.qr=120;ez.rS=20;ez.cols=16;ez.qF=function(G){var m=G.name.postScriptName;
if(m==null)return null;return m.replace(/ /g,"-")};ez.gA=function(G){var m=G.name,A=m.typoFamilyName?m.typoFamilyName:m.fontFamily,Q=m.typoSubfamilyName?m.typoSubfamilyName:m.fontSubfamily;
if(Q==null)Q="Regular";var H=ez.abw,J=A.toLowerCase();for(var $=0;$<H.length;$++){if(H[$]=="roman")continue;
if(J.endsWith(" "+H[$])||J.endsWith("-"+H[$])){var b=A.length-H[$].length,O=A.slice(b);A=A.slice(0,b-1);
if(O!=""){if(Q=="Regular"||Q==A+" Regular")Q=O;else Q=O+" "+Q}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var $=0;$<a.length;$++)if(A.startsWith(a[$])){var O=A.slice(a[$].length);A=a[$];if(O.startsWith(" ")||O.startsWith("-"))O=O.slice(1);
if(O!=""){if(Q=="Regular")Q=O;else Q=O+" "+Q}break}var e={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},R=e[ez.qF(G)];
if(R)Q=R;return[A,Q]};ez.prototype.a1V=function(G){var m=this.AD();for(var A in m)if(m[A][0]==G)this.pz(A)};
ez.prototype.pz=function(G,m){if(this.sF[G])return this.sF[G];if(this.tS[G])return null;var A=null,Q=this.AD();
if(Q[G]!=null)A=Q[G][5];if(A==null){var H=ez._r[G];if(H==null){var J="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),b=G.toLowerCase(),O=0;
if(b.indexOf("sans")!=-1)O=0;else if(b.indexOf("serif")!=-1)O=4;var a=b.indexOf("bold")!=-1||b.indexOf("-black")!=-1,e=b.indexOf("italic")!=-1||b.indexOf("oblique")!=-1||b.endsWith("-it");
if(a&&e)O+=3;else if(e)O+=2;else if(a)O+=1;H=J[O]}if(m!=null&&m>128)H=this.SW(m,H);if(this.akV[G]==null){this.akV[G]=1;
var R=Date.now()-this.af1>2e3?2e3:0;this.af1=Date.now();alert(G+" \u27A1 "+H,R)}return this.pz(H,m)}this.tS[G]="a";
this.Rs(A)};ez.prototype.SW=function(G,m,A){var Q=this.sF[m];if(Q&&Typr.U.codeToGlyph(Q,G)!=0)return m;
var H=this.AD(),J=ez.atI(G),b=J[0];if(H[m]&&(H[m][3]&b)==0){if(A)for(var $=0;$<A.length;$++){var O=A[$].Name,a=H[O];
if(a&&(a[3]&b)!=0)return O}var O=ez.zn[J[1]][4];if(H[O])return O}return m};ez.atI=function(G){var m=ez.zn,A=[0];
for(var $=0;$<m.length;$++){var Q=m[$][2];for(var H=0;H<Q.length;H+=2)if(Q[H]<=G&&G<=Q[H+1]){A[0]+=1<<$;
A.push($)}}if(A.length==1)A.push(0);return A};ez.prototype.at$=function(){var G=this.ia,m=G[0],A=G.length-1;
alert(f5.get([22,6,0])+" "+m+(A==0?"":", ... ("+A+")")+" "+f5.get([23,0])+".",1500);this.ia=[]};ez.prototype.a8l=function(G,m){if(m!=!0){this.ia.push(G.name.fullName);
clearTimeout(this.aqo);this.aqo=setTimeout(this.at$.bind(this),300)}var A=ez.qF(G),Q=this.AD(),H=Q[A],J=ez.aeU(G);
if(H==null){var b=document.createElement("canvas"),O=b.getContext("2d");b.width=ez.qr;b.height=ez.rS;
var a=ez.rS*1.2/G.head.unitsPerEm;O.translate(4,ez.rS*.9);O.scale(a,-a);O.fillStyle="#000000";var e=Typr.U.shape(G,ez.a2J(G,J[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(G,e),O);O.fill();J.aaq=b.toDataURL();this.Md(J)}delete this.tS[A];
this.sF[A]=G};ez.aqB=function(){var G=ez.zn,m=[];for(var $=0;$<G.length;$++)m.push(G[$][0]);return m};
ez.zn=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
ez.aeU=function(G,m,A){var Q=G.name,a=0;if(ez.qF(G)==null){console.log(G);throw"No postScriptName!"}var H=ez.zn,J=[];
for(var $=0;$<H.length;$++){var b=H[$][2],O=H[$][3];J[$]=ez.LP(G,b)>O?1:0}for(var $=0;$<J.length;$++)a+=J[$]<<$;
var e=ez.gA(G);return[e[0],e[1],ez.qF(G),a,A,m]};ez.LP=function(G,m){var A=0,Q=0;for(var H=0;H<m.length;
H+=2){for(var J=m[H];J<=m[H+1];J++){var b=Typr.U.codeToGlyph(G,J);if(b==0)Q++;else A++}}return A/(A+Q)};
ez.aup=function(G,m){if(G[2]<m[2])return-1;if(G[2]>m[2])return 1;return 0};ez.asg=function(G,m){if(G[5]=="fs/"+G[2]+".otf")G[5]="";
else if(G[5]=="gf/"+G[2]+".otf")G[5]="a";if(G[2]==(G[0]+"-"+G[1]).replace(/\s/g,"")){G[2]=""}else if(G[2]==G[0].replace(/\s/g,"")){G[2]="a"}if(m){if(G[0]==m[0])G[0]="";
if(G[1]==m[1])G[1]="";if(G[3]==m[3])G[3]="";if(G[4]==m[4])G[4]=""}return G.join(",")};ez.ao6=function(G,m){G=G.split(",");
if(G[0]=="")G[0]=m[0];if(G[1]=="")G[1]=m[1];if(G[3]=="")G[3]=m[3];else G[3]=parseInt(G[3]);if(G[4]=="")G[4]=m[4];
else G[4]=parseInt(G[4]);if(G[2]=="")G[2]=(G[0]+"-"+G[1]).replace(/\s/g,"");else if(G[2]=="a")G[2]=G[0].replace(/\s/g,"");
if(G[5]=="")G[5]="fs/"+G[2]+".otf";else if(G[5]=="a")G[5]="gf/"+G[2]+".otf";return G};ez._r={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
ez.prototype.AD=function(){if(FNTS.map==null){var G=FNTS.list,m=[];for(var $=0;$<G.length;$++){m[$]=ez.ao6(G[$],m[$-1]);
m[$].lW=$;this.Md(m[$])}}return FNTS.map};ez.prototype.Md=function(G){var m=G[0],A=G[1],Q=G[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[G[2]]=G;if(FNTS.mapFS==null)FNTS.mapFS={};var H=FNTS.mapFS[m+"---"+A];FNTS.mapFS[m+"---"+A]=G;
if(FNTS.mapSub==null)FNTS.mapSub={};var J=FNTS.mapSub[m];if(J==null)J=FNTS.mapSub[m]=[];var b=J.indexOf(A);
if(b==-1)J.push(A);else J[b]=A};ez.auJ=function(G,m){return ez.Fm(G)-ez.Fm(m)};ez.Fm=function(G){G=G.toLowerCase();
var m=ez.aoV(G)+(ez.atu(G)<<1);if(G.indexOf("cond")==-1)m+=1<<25;return m};ez.aoV=function(G){return G.indexOf("italic")!=-1||G.indexOf("oblique")!=-1?1:0};
ez.abw="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
ez.agk=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
ez.atu=function(G){var m=ez.agk,A=-1,Q=-1;for(var $=0;$<m.length;$++){var H=m[$];if(H instanceof Array)for(var J=0;
J<H.length;J++){var b=H[J];if(G.indexOf(b)!=-1&&(A==-1||Q<b.length)){A=$;Q=b.length}}else if(G.indexOf(H)!=-1&&(A==-1||Q<H.length)){A=$;
Q=H.length}}if(A==-1)A=8;return A};ez.bG=function(G,m){var A=1e9,Q=null,H=ez.Fm(m);for(var $=0;$<G.length;
$++){var J=Math.abs(ez.Fm(G[$])-H);if(J<A){A=J;Q=G[$]}}return Q};ez.prototype.Ey=function(G,m){this.AD();
return FNTS.mapFS[G+"---"+m]};ez.prototype.__=function(G){this.AD();return FNTS.mapSub[G]};ez.prototype.apn=function(){this.AD();
return FNTS.mapSub};var fi={mB:0,D_:null,BN:null,eu:null,NZ:null,rb:null,hp:!0,kY:0,IW:!1};fi.event=function(G){var m=new XMLHttpRequest;
m.open("GET","/papi/event.php?id="+G+"&rnd="+Math.random());m.send()};fi.ZZ=function(){var G=g.gR(24)?" ":"",m=g.te[g.mh("Uu,"+G)];
m=m[g.mh(G+"$/")];return fi.pW()!=null&&fi.pW()[g.Xh("_^NSLUJ")]*50>m()/20};fi.Ck=function(){return fi.a6w()!=null};
fi.pW=function(){return fi.rb};fi.VF=function(G){window.addEventListener("message",fi.afn,!1);setInterval(fi.Fn,5e3);
if(fi.Ck()){fi.D_=G;fi.PY()}else setTimeout(G,1)};fi.Fn=function(){if(fi.Ck()&&fi.IW){fi.Nj(fi.Bm());
fi.IW=!1}};fi.Bs=function(G){fi.D_=G;var m="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
fi.eu=window.open(m,"_blank")};fi.VE=function(){localStorage.removeItem(fi.mB+"_uid");localStorage.removeItem(fi.mB+"_provider");
localStorage.removeItem(fi.mB+"_token");fi.rb=null};fi.afn=function(G){if(G.data instanceof ArrayBuffer||G.data instanceof Object)return;
if(G.data.charAt(0)!="{")return;var m=JSON.parse(G.data);if(m.prms==null)return;var A=m.prms.split(",");
if(A[0]=="papi_logged_in"){localStorage[fi.mB+"_uid"]=A[1];fi.mS(A[2]);localStorage[fi.mB+"_provider"]=A[3];
fi.eu.close();fi.PY()}if(A[0]=="payment_complete"){fi.NZ.close();fi.PY()}};fi.a6w=function(){if(!navigator.onLine){fi.VE()}var G=localStorage[fi.mB+"_token"];
if(G!=null&&Date.now()*.001+10<parseInt(G.split("-")[0]))return G;return null};fi.mS=function(G){var m=localStorage[fi.mB+"_token"];
if(m!=null&&parseInt(G.split("-")[0])<parseInt(m.split("-")[0]))return;localStorage[fi.mB+"_token"]=G;
clearTimeout(fi.kY);fi.kY=setTimeout(fi.a0w,Math.min(1e9,parseInt(G.split("-")[0])*1e3-Date.now()-20*1e3))};
fi.a0w=function(){console.log("a",navigator.onLine);if(!navigator.onLine)throw"a";var G=new XMLHttpRequest;
G.open("POST","https://www.photopea.com/papi/record_new.php",!0);G.onload=fi.amj;var m=fi.Q3(0)+"&read=2";
G.setRequestHeader("Content-type","application/x-www-form-urlencoded");G.send(m)};fi.PY=function(){console.log("b",navigator.onLine);
if(!navigator.onLine)throw"b";var G=new XMLHttpRequest;G.open("POST","https://www.photopea.com/papi/record_new.php",!0);
G.onload=fi.anL;var m=fi.Q3(0)+"&read=1";G.setRequestHeader("Content-type","application/x-www-form-urlencoded");
G.send(m)};fi.Nj=function(G){console.log("c",navigator.onLine);if(!navigator.onLine)throw"c";var m=new XMLHttpRequest;
m.open("POST","https://www.photopea.com/papi/record_new.php",!0);m.onload=fi.adm;var A=fi.Q3(0)+"&read=0&score="+(G.tpl?1:0)+"&spublic="+fi.hp+"&record="+encodeURIComponent(JSON.stringify(G));
m.setRequestHeader("Content-type","application/x-www-form-urlencoded");m.send(A)};fi.anL=function(G){var m=JSON.parse(G.target.response);
if(m.error){}else{fi.rb=m.user;var A=fi.Bm(),Q=m.record;if(m.record){fi.hp=m.spublic;fi.vD(Q)}else if(A)fi.Nj(A)}fi.mS(m.token);
if(fi.D_){fi.D_();fi.D_=null}if(fi.BN){fi.BN();fi.BN=null}};fi.amj=function(G){var m=JSON.parse(G.target.response);
fi.mS(m.token)};fi.adm=function(G){var m=JSON.parse(G.target.response);fi.mS(m.token);if(fi.BN)fi.PY()};
fi.Q3=function(G){return"app="+G+"&uid="+localStorage[fi.mB+"_uid"]+"&token="+localStorage[fi.mB+"_token"]};
fi.ob=function(){return fi.Bm()};fi.NT=function(G,m){fi.vD(G);fi.IW=!0;if(m){fi.BN=m;fi.Fn()}};fi.Bm=function(){var G=localStorage[fi.mB+"_stateLocal"],m;
if(G==null)return null;try{m=JSON.parse(G)}catch(f5){return null}return m};fi.vD=function(G){var m=JSON.stringify(G);
localStorage[fi.mB+"_stateLocal"]=m};fi.order=function(G,m,A){fi.D_=A;var Q="https://www.photopea.com/papi/order.php?ptype="+m+"&param="+G+"&uid="+localStorage[fi.mB+"_uid"]+"&token="+localStorage[fi.mB+"_token"];
fi.NZ=window.open(Q,"_blank")};fi.abp=function(G,m){fi.D_=m;var A="https://www.photopea.com/papi/insertKey.php?key="+G+"&uid="+localStorage[fi.mB+"_uid"]+"&token="+localStorage[fi.mB+"_token"];
fi.NZ=window.open(A,"_blank")};var f5={};f5.zz=0;f5.RY={};f5.Gi=function(G){var m=LNG.tables,A=m[G];
if(A==null)A=m[0];if(typeof A=="string"){A=m[G]=f5.dR(A)}return A};f5.dR=function(G){var m=[],A=0,Q=0,H=[],J=G.length;
while(Q!=J){var b=G[Q];if(b=="["){m.push(H);H=[];Q=A=Q+1}else if(b=="]"){H.push(A==Q?null:G.substring(A,Q));
var O=H;H=m.pop();H.push(O);Q=A=Q+1}else if(b==";"){if(G[Q-1]!="]")H.push(A==Q?null:G.substring(A,Q));
Q=A=Q+1}else Q++}return H};f5.get=function(G){if(typeof G=="string")return G;var m=typeof G[0];if(m=="number"){for(var $=1;
$<G.length;$++)if(typeof G[$]!="number"){console.log(G);throw"e"}return f5.asX(G)}var A=f5.get(G[0]);
for(var $=1;$<G.length;$++){var Q=f5.get(G[$]),H=A.indexOf("VAR"+($-1));A=A.slice(0,H)+Q+A.slice(H+4)}return A};
f5.asX=function(G){var m=JSON.stringify(G);if(f5.RY[m]!=null)return f5.RY[m];var A=f5.Gi(0),Q=f5.Gi(f5.zz),H=f5.PA(G,Q);
if(H==null)H=f5.PA(G,A);return H};f5.PA=function(G,m){for(var $=0;$<G.length;$++){m=m[G[$]];if(m==null)return null;
else if(typeof m=="string")break}if(m instanceof Array)m=m[0];return m.split("::")[0]};f5.agz=function(){var G=function(A,Q){var H=A.code,J=Q.code;
if(H=="en")return-1;if(J=="en")return 1;var b=navigator.languages,O=b.indexOf(H)!=-1,a=b.indexOf(J)!=-1;
if(O&&a)return H>J?1:-1;if(O)return-1;if(a)return 1;return H>J?1:-1},m=LNG.langs.slice(0);m.sort(G);
return m};f5.Ag=function(G,m){f5.zz=G;if(LNG.tables[G])m();else{var A=new XMLHttpRequest;A.open("GET","code/lang/"+G+".js");
A.onreadystatechange=function(){LNG.tables[G]=A.responseText;m()};A.send()}};f5.Aj=function(G,m){for(var A=0;
A<2;A++){var Q=!1;for(var $=0;$<LNG.langs.length;$++)if(LNG.langs[$].code==G){f5.Ag($,m);Q=!0}if(Q)break;
G=G.split("-")[0]}};f5.h8=function(){return LNG.langs[f5.zz].code};f5.a3M=function(G){for(var $=0;$<G.length;
$+=2)if(G[$+1].indexOf(">")==-1)f5.RY[JSON.stringify(G[$])]=G[$+1]};f5.Z4=function(G){var m=-1,A=LNG.langs;
for(var $=0;$<A.length;$++)if(A[$].code==G)m=$;return m};var bf={m6:!1,Jm:!1,jK:!1};bf.S2=function(){return g.te[bl.o0]!=g.te[bl.a0E]};
bf.VN=function(){var G=g.te[bl.MK],m=G[bl.HT],A=0,Q=bl.bK,H=g.Xh("PP\\KQSB"),J=g.Xh("Y_5UDDB>idge"),b=G[bl.ts](bl.a09);
b[Q](bl.KK,H);b[Q](bl.uY,g.Xh("fUMZKyqifDIhJ0*+&$-OG?<y~>"));m[bl.Rx](b);b=G[bl.afK](H);if(b==null){A=2}else{if(!m[g.Xh("R[WZDIKM")](b)){A=3}else if(Math.round(b[g.Xh("VQ](RUK>@B8p71*03m}x'")]()[bl.vW]-500)>5){A=4}m[bl.rH](b)}if(bf.Jm)A=5;
if(bf.jK)A=6;return A};bf.afh=function(G){var m=g.mh("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),A={method:"HEAD",mode:"no-cors"},Q=new Request(m,A);
fetch(Q).then(function(H){return H}).then(function(H){var J=g.mh("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),Q=new Request(J,A);
fetch(Q).then(function(H){return H}).then(function(H){G(!1)}).catch(function(b){bf.Jm=!0;console.clear();
G(!0)})}).catch(function(H){bf.Jm=!0;console.clear();G(!0)})};bf.alB=function(){var G=g.Xh("UU[YW#ECC8"),m=g.Xh("VQ](RUK>@B8p71*03m}x'"),A=g.Xh("WQRMKT"),Q=this.a3l[G][m]();
if(Q[A]<4){bf.jK=!0;this.aiI(!0)}};bf.ahR=function(){var G=g.te._cwY,m=g.te[bl.Hf],A="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEk&<3&)0w zx!siZaaRWNJbAAMbSC377&&>k!%'~|ng1",Q=String.fromCharCode(32);
G(g.Xh(A)+Q+Q+bf.VN());if(!fi.ZZ())m(bf.ahR,Math.round(Math.PI*1e4))};bf.aI=function(G){var m=g.te[bl.MK],A=m[bl.ts](G[0]);
for(var Q in G[1]){if(Q=="txt")A[bl.hm]=G[1][Q];else A[bl.bK](Q,G[1][Q])}return A};bf.a2t=function(G,m,A,Q,H){g.iJ(A);
var J=g.te[bl.MK],b=g.mh(" u.$%\"86<"),O=g.mh("!#c$,&"),a=g.te[b][O],e=!1;if(!bf.S2()&&!bf.VN()&&a&&G*m>300*300){var R=J[g.Xh("VQ]+OEJ?EHDoD{&)l|&z")](bl.Ix)[0],p=JSON.parse(g.mh("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var $=0;$<p.length;$++){var P=bf.aI(p[p.length-1-$]);R[bl.afx](P,R[bl.aqa])}var z=g.mh("p}&$2a(:"),Z=g.mh("'#!}i0%+"),W=g.mh("ps,}$\"40");
g.te.___ggo=function(){g.te[W](bl.Jn,2,function(U,M){if(!g.te[z]){g.te[z]=!0;var C=bf.auN.bind({Gh:A,a18:H,head:R,V7:m});
C()}})}}else{var T=[g.Xh("XYPtSP<N8@=[;6,")];if(e)T=[g.mh("z\"~I5062W=>:")];for(var $=0;$<T.length;$++){var i=J[bl.ts](bl.Qz);
i[bl.bK](bl.uY,g.Xh("Ra[YRRvJF=?B0:_"));i[bl.bK](bl.Vq,T[$]);if(e){var X=J[bl.ts]("a");X[bl.bK](bl.Gr,g.mh("@C/25N4/9A?C;:iBQRvU]Sg"));
X[bl.bK](bl.ar5,g.mh("pv${,,"));X[bl.Rx](i);A[bl.Rx](X)}else{i[bl.Jn](bl.a6V,Q,!1);A[bl.Rx](i)}}}};bf.KV=function(G){var m=2;
if(G>=3*270+30)m=3;if(G>=4*270+30)m=4;return m};bf.auN=function(){var G=bl.Rx,m=bl.bK,A=bl.Jn,Q=bl._r,H=bl.uY,J=bl.Vq,b=g.Xh("P_bTF"),O=bl.hm,a=bl.Vk,e=g.te[bl.MK],R=bl.ts,p=bl.atp,P=JSON.parse(g.mh("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),z=g.te,Z=-1,W=z[g.mh("f#!}f")],T=g.mh("xy'"),i=g.mh("TU"),X=g.mh("Vi"),F=0;
if(W&&W[T]){var U=W[T];if(U==X)Z=0;if(U==i)Z=1}var M=Z==-1?null:bf.aI(P[Z]),C=this.Gh,x=this.a18,L=this.head,E=this.V7,l=g.mh("~u*\"'/P)9ADBCrlnR]"),y=[.4,0,.6],Y=Math.random();
while(y[F]<Y&&F<y.length-1){Y-=y[F];F++}if(F==0){console.log(0);if(x==1){var w=g.mh("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),j=w.split(","),_=e[R](a);
for(var $=0;$<j.length;$+=2)_[m](j[$+0],j[$+1]);_[m](H,g.Xh("\\M[MLNi<FHE=8aVQ/4"));C[G](_);if(!bf.m6){bf.m6=!0;
var D=g.mh("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),t=e[R](p);
t[O]=D;L[G](t)}}else if(x==2){var K=bf.KV(E);if(!bf.m6){bf.m6=!0;var w=g.mh("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),j=w.split(","),D=g.mh("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var d=0;d<K;d++){var _=e[R](a);for(var $=0;$<j.length;$+=2)_[m](j[$+0],j[$+1]);_[m](H,l);C[G](_);
var t=e[R](p);t[O]=D;C[G](t)}}}}else if(F==1){console.log(1);if(x==1){var o=e[R](g.mh("u}."));o[m](H,l);
var k=e[R](g.mh("u}."));o[G](k);k[m](g.mh("zx"),g.mh("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));k[m](g.mh("t!x.1"),g.mh("pu(y~1)?).4"));
var D=g.mh("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),t=e[R](p);
t[O]=D;k[G](t);C[G](o)}else if(x==2){var K=bf.KV(E);for(var $=0;$<K;$++){var o=e[R](g.mh("u}."));o[m](H,l);
var k=e[R](g.mh("u}."));o[G](k);k[m](g.mh("zx"),g.mh("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));k[m](g.mh("t!x.1"),g.mh("pu(y~1)?).4"));
var D=g.mh("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),t=e[R](p);
t[O]=D;k[G](t);C[G](o)}}if(!bf.m6){bf.m6=!0;var D=g.mh("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),t=e[R](p);
t[m](g.mh("uu,{J$*(=F>6"),g.mh("wu$.#"));t[O]=D;L[G](t)}}else{console.log(2);var v=e[R](p);v.setAttribute(J,g.mh("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
L[G](v);var u=JSON.parse(g.mh("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),B=[u[0]];
if(x==2)B=u.slice(1,1+bf.KV(E));for(var $=0;$<B.length;$++){var k=e[R](g.Xh("SU_"));k[m](g.Xh("XP"),B[$]);
k[m](H,l);C[G](k)}}if(M)C[G](M)};var fv={ER:-2,ea:{expires_at:0},Bp:[]};fv.NK=function(G){if(G)fv.Bp.splice(0,0,G);
if(fv.ER==-2){fv.ER=-1;var m=document.createElement("script");m.src="//apis.google.com/js/client.js";
document.body.appendChild(m);m.onload=function(A){setTimeout(function(){fv.ER=0;fv.NK()},100)}}if(fv.ER==-1)return;
if(fv.ER==1)return;if(fv.ea.expires_at>Date.now()*.001+30){while(fv.Bp.length>0)fv.Bp.pop()()}else{if(fv.ER==0)fv.ER=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fv.ER==2?!1:!0},fv.a34)}};
fv.a34=function(G){if(G&&!G.error){fv.ea=G;fv.ER=!1;fv.NK()}else if(fv.ER==1){fv.ER=2;fv.NK()}else alert("Error: "+G.error)};
fv.dy=function(){return"access_token="+fv.ea.access_token+"&token_type="+fv.ea.token_type};fv.uP=function(){return fv.ea.token_type+" "+fv.ea.access_token};
function dw(G,m){if(!G)G=0;if(!m)m=0;this.x=G;this.y=m}dw.prototype.add=function(G){return new dw(this.x+G.x,this.y+G.y)};
dw.prototype.clone=function(){return new dw(this.x,this.y)};dw.prototype.Fw=function(G){this.x=G.x;this.y=G.y};
dw.prototype.A5=function(G){return this.x==G.x&&this.y==G.y};dw.prototype.normalize=function(G){var m=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=G/m;this.y*=G/m};dw.prototype.offset=function(G,m){this.x+=G;this.y+=m};dw.prototype.QU=function(G,m){this.x=G;
this.y=m};dw.prototype.AV=function(G){return new dw(this.x-G.x,this.y-G.y)};dw.SH=function(G,m){return dw.a1l(G.x,G.y,m.x,m.y)};
dw.jr=function(G,m,A){return new dw(G.x+A*(m.x-G.x),G.y+A*(m.y-G.y))};dw.a8p=function(G,m){return new dw(G*Math.cos(m),G*Math.sin(m))};
dw.a1l=function(G,m,A,Q){return Math.sqrt((A-G)*(A-G)+(Q-m)*(Q-m))};dw.Kp={};dw.Qu={};dw.Kp.create=function(){var G=new Float32Array(4);
return G};dw.Qu.create=function(G){var m=new Float32Array(16);m[0]=m[5]=m[10]=m[15]=1;if(G)dw.Qu.set(G,m);
return m};dw.Kp.add=function(G,m,A){A[0]=G[0]+m[0];A[1]=G[1]+m[1];A[2]=G[2]+m[2];A[3]=G[3]+m[3]};dw.Kp.set=function(G,m){m[0]=G[0];
m[1]=G[1];m[2]=G[2];m[3]=G[3]};dw.Qu.set=function(G,m){m[0]=G[0];m[1]=G[1];m[2]=G[2];m[3]=G[3];m[4]=G[4];
m[5]=G[5];m[6]=G[6];m[7]=G[7];m[8]=G[8];m[9]=G[9];m[10]=G[10];m[11]=G[11];m[12]=G[12];m[13]=G[13];m[14]=G[14];
m[15]=G[15]};dw.Qu.multiply=function(G,m,A){var Q=G[0],H=G[1],J=G[2],b=G[3],O=G[4],a=G[5],e=G[6],R=G[7],p=G[8],P=G[9],z=G[10],Z=G[11],W=G[12],T=G[13],i=G[14],X=G[15],U=m[0],M=m[1],C=m[2],x=m[3];
A[0]=U*Q+M*O+C*p+x*W;A[1]=U*H+M*a+C*P+x*T;A[2]=U*J+M*e+C*z+x*i;A[3]=U*b+M*R+C*Z+x*X;U=m[4];M=m[5];C=m[6];
x=m[7];A[4]=U*Q+M*O+C*p+x*W;A[5]=U*H+M*a+C*P+x*T;A[6]=U*J+M*e+C*z+x*i;A[7]=U*b+M*R+C*Z+x*X;U=m[8];M=m[9];
C=m[10];x=m[11];A[8]=U*Q+M*O+C*p+x*W;A[9]=U*H+M*a+C*P+x*T;A[10]=U*J+M*e+C*z+x*i;A[11]=U*b+M*R+C*Z+x*X;
U=m[12];M=m[13];C=m[14];x=m[15];A[12]=U*Q+M*O+C*p+x*W;A[13]=U*H+M*a+C*P+x*T;A[14]=U*J+M*e+C*z+x*i;A[15]=U*b+M*R+C*Z+x*X;
return A};dw.Qu.inverse=function(G,m){var A=G[0],Q=G[1],H=G[2],J=G[3],b=G[4],O=G[5],a=G[6],e=G[7],R=G[8],p=G[9],P=G[10],z=G[11],Z=G[12],W=G[13],T=G[14],i=G[15],X=A*O-Q*b,U=A*a-H*b,M=A*e-J*b,C=Q*a-H*O,x=Q*e-J*O,L=H*e-J*a,E=R*W-p*Z,l=R*T-P*Z,y=R*i-z*Z,Y=p*T-P*W,F=p*i-z*W,w=P*i-z*T,j=X*w-U*F+M*Y+C*y-x*l+L*E;
if(!j){return null}j=1/j;m[0]=(O*w-a*F+e*Y)*j;m[1]=(H*F-Q*w-J*Y)*j;m[2]=(W*L-T*x+i*C)*j;m[3]=(P*x-p*L-z*C)*j;
m[4]=(a*y-b*w-e*l)*j;m[5]=(A*w-H*y+J*l)*j;m[6]=(T*M-Z*L-i*U)*j;m[7]=(R*L-P*M+z*U)*j;m[8]=(b*F-O*y+e*E)*j;
m[9]=(Q*y-A*F-J*E)*j;m[10]=(Z*x-W*M+i*X)*j;m[11]=(p*M-R*x-z*X)*j;m[12]=(O*l-b*Y-a*E)*j;m[13]=(A*Y-Q*l+H*E)*j;
m[14]=(W*U-Z*C-T*X)*j;m[15]=(R*C-p*U+P*X)*j;return m};dw.Qu.a17=function(G,m,A){var Q=m[0],H=m[1];A[0]=Q*G[0]+H*G[4]+G[12];
A[1]=Q*G[1]+H*G[5]+G[13]};dw.Qu.agH=function(G,m,A){var Q=m[0],H=m[1],J=m[2],b=m[3];A[0]=G[0]*Q+G[4]*H+G[8]*J+G[12]*b;
A[1]=G[1]*Q+G[5]*H+G[9]*J+G[13]*b;A[2]=G[2]*Q+G[6]*H+G[10]*J+G[14]*b;A[3]=G[3]*Q+G[7]*H+G[11]*J+G[15]*b};
function f_(G,m,A,Q){if(!G)G=0;if(!m)m=0;if(!A)A=0;if(!Q)Q=0;this.x=G;this.y=m;this.e=A;this.n=Q}f_.prototype.Z=function(){return this.e*this.n};
f_.prototype.clone=function(){return new f_(this.x,this.y,this.e,this.n)};f_.prototype.contains=function(G,m){return G>=this.x&&G<=this.x+this.e&&(m>=this.y&&m<=this.y+this.n)};
f_.prototype.EW=function(G){return this.contains(G.x,G.y)};f_.prototype.ZM=function(G){return this.x<=G.x&&this.y<=G.y&&G.x+G.e<=this.x+this.e&&G.y+G.n<=this.y+this.n};
f_.prototype.Fw=function(G){this.x=G.x;this.y=G.y;this.e=G.e;this.n=G.n};f_.prototype.A5=function(G){return this.x==G.x&&this.y==G.y&&this.e==G.e&&this.n==G.n};
f_.prototype.e0=function(G,m){this.x-=G;this.y-=m;this.e+=2*G;this.n+=2*m};f_.prototype.afi=function(G){this.e0(G.x,G.y)};
f_.prototype.KB=function(G){var m=Math.max(this.x,G.x),A=Math.max(this.y,G.y),Q=Math.min(this.x+this.e,G.x+G.e),H=Math.min(this.y+this.n,G.y+G.n);
if(Q<m||H<A)return new f_;else return new f_(m,A,Q-m,H-A)};f_.prototype.c0=function(G){if(G.y+G.n<this.y||G.x>this.x+this.e||G.y>this.y+this.n||G.x+G.e<this.x)return!1;
return!0};f_.prototype.My=function(){return this.e<=0||this.n<=0};f_.prototype.offset=function(G,m){this.x+=G;
this.y+=m};f_.prototype.EV=function(G){this.offset(G.x,G.y)};f_.prototype.a3B=function(){this.x=this.y=this.e=this.n=0};
f_.prototype.QU=function(G,m,A,Q){this.x=G;this.y=m;this.e=A;this.n=Q};f_.prototype.wj=function(G){if(this.My())return G.clone();
if(G.My())return this.clone();var m=this.clone();m.agt(G);return m};f_.RV=new Float32Array(2);f_.prototype.agt=function(G){if(G.My())return;
if(this.My()){this.Fw(G);return}this.OC(G.x,G.y);this.OC(G.x+G.e,G.y+G.n)};f_.prototype.OC=function(G,m){var A=Math.min(this.x,G),Q=Math.min(this.y,m);
this.e=Math.max(this.x+this.e,G)-A;this.n=Math.max(this.y+this.n,m)-Q;this.x=A;this.y=Q};f_.prototype.a72=function(G,m){this.x=G;
this.y=m;this.e=this.n=0};function ci(G,m,A,Q,H,J){if(typeof G==="undefined"){G=1;m=0;A=0;Q=1;H=0;J=0}this.Uj=G;
this.h=m;this.Qv=A;this.nd=Q;this.Zh=H;this.bx=J}ci.prototype.kF=function(){return Math.sqrt(Math.abs(this.Uj*this.nd-this.h*this.Qv))};
ci.prototype.ak1=function(){var G=this,m=function(A){return Math.abs(A)<1e-9?0:A};G.Uj=m(G.Uj);G.h=m(G.h);
G.Qv=m(G.Qv);G.nd=m(G.nd);G.Zh=m(G.Zh);G.bx=m(G.bx)};ci.prototype.Yw=function(G){return new dw(G.x*this.Uj+G.y*this.Qv+this.Zh,G.x*this.h+G.y*this.nd+this.bx)};
ci.prototype.translate=function(G,m){this.Zh+=G;this.bx+=m};ci.prototype.rotate=function(G){var m=new ci(Math.cos(G),-Math.sin(G),Math.sin(G),Math.cos(G),0,0);
this.concat(m)};ci.prototype.scale=function(G,m){var A=new ci(G,0,0,m,0,0);this.concat(A)};ci.prototype.concat=function(G){this.Fw(new ci(this.Uj*G.Uj+this.h*G.Qv,this.Uj*G.h+this.h*G.nd,this.Qv*G.Uj+this.nd*G.Qv,this.Qv*G.h+this.nd*G.nd,this.Zh*G.Uj+this.bx*G.Qv+G.Zh,this.Zh*G.h+this.bx*G.nd+G.bx))};
ci.prototype.G3=function(){var G=this.Uj*this.nd-this.h*this.Qv;this.Fw(new ci(this.nd/G,-this.h/G,-this.Qv/G,this.Uj/G,(this.Qv*this.bx-this.nd*this.Zh)/G,(this.h*this.Zh-this.Uj*this.bx)/G))};
ci.prototype.clone=function(){return new ci(this.Uj,this.h,this.Qv,this.nd,this.Zh,this.bx)};ci.prototype.Fw=function(G){this.Uj=G.Uj;
this.h=G.h;this.Qv=G.Qv;this.nd=G.nd;this.Zh=G.Zh;this.bx=G.bx};function dt(){}dt.vz={a1Q:["PNG","JPG","SVG","GIF","PDF"],a9E:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
dt.MQ=function(G,m){var A=G.memory.buffer.byteLength;if(A<m)G.memory.grow((m-A>>>16)+1)};dt.YM={asI:function(G,m){fetch(G).then(function(A){return A.arrayBuffer()}).then(function(A){var Q=new Uint8Array(A),H=0,a="";
if(m){H=Q.length;var J={level:9},b=pako.deflateRaw(Q,J),O=UZIP.deflateRaw(Q,J);console.log(H,b.length,O.length);
Q=b.length<O.length?b:O}for(var $=0;$<Q.length;$++)a+=String.fromCharCode(Q[$]);var e=btoa(a);console.log(JSON.stringify([H,e]))})},get:function(G,m){var A=BINDB[G],Q=Date.now(),H=atob(A[1]),J=H.length,b=new Uint8Array(J);
for(var $=0;$<J;$++)b[$]=H.charCodeAt($);if(A[0]!=0){var O=new Uint8Array(A[0]);UZIP.inflateRaw(b,O);
b=O}if(m){var a=dt.mG(b.buffer);b=dt.aW(a).uJ(b.buffer)}return b}};dt.mG=function(G){if(!(G instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var m=new Uint8Array(G),A=dt.jw,Q,H=0,J=m.length-1;
if(A(m,[239,187,191]))H=3;while(H<m.length&&(m[H]==9||m[H]==10||m[H]==13||m[H]==32))H++;while(J!=0&&(m[J]==9||m[J]==10||m[J]==13||m[J]==32))J--;
if(A(m,[56,66,80,83]))Q="psd";if(A(m,[6,6,237,245]))Q="indd";if(A(m,[102,116,121,112,109,105,102,49],4)||A(m,[102,116,121,112,97,118,105,102],4))Q="avif";
if(A(m,[102,116,121,112,105,115,111,109],4))Q="mp4";if(A(m,[102,116,121,112,109,112,52,50],4))Q="mp4";
if(A(m,[0,255,75,65]))Q="afphoto";if(A(m,[120]))Q="pxd";if(A(m,[80,68,78,51]))Q="pdn";if(A(m,[103,105,109,112,32,120,99,102,32]))Q="xcf";
if(A(m,[102,105,103,45,107,105,119,105]))Q="fig";if(A(m,[137,80,78,71,13,10,26,10])){Q="png";var b=8;
while(b<m.length){var O=V.l(m,b);b+=4;var a=V.uB(m,b,4);b+=4;if(a=="mkTS")Q="fpng";b+=O+4}}if(A(m,[87,76]))Q="cdr";
if(A(m,[82,73,70,70])){var e=eK.dm(m),R=e.Tn;if(R=="WEBP")Q="webp";else if(R.slice(0,3)=="CDR")Q="cdr";
else Q=R}if(A(m,[70,79,82,77])||A(m,[76,73,83,84])||A(m,[67,65,84,32])){var e=dW.dm(m),R=e.Tn;if(R=="ILBM")Q="ilbm";
else Q=R}if(A(m,[255,216,255]))Q="jpg";if(A(m,[0,0,0,12,106,80,32,32]))Q="jpg";if(A(m,[48,0,1,0],4))Q="jb2";
if(A(m,[71,73,70,56]))Q="gif";if(A(m,[0,0,0,2,121,102,113,76]))Q="msh";if(A(m,[0,0,0,3,121,102,113,76]))Q="msh";
if(A(m,[0,0,0,16]))Q="atn";if(A(m,[0,1]))Q="aco";if(A(m,[0,2]))Q="aco";if([0,1].indexOf(m[1])!=-1&&[1,2,3,9,10,11].indexOf(m[2])!=-1&&[0,16,24,32].indexOf(m[7])!=-1)Q="tga";
if(A(m,[0,2,56,66,83,76]))Q="asl";if(A(m,[0,1,0,-1,0,2,0]))Q="abr";if(A(m,[0,2,0,-1,0,2,0]))Q="abr";
if(A(m,[0,6,0,1]))Q="abr";if(A(m,[0,6,0,2]))Q="abr";if(A(m,[0,7,0,2]))Q="abr";if(A(m,[0,9,0,2]))Q="abr";
if(A(m,[0,10,0,2]))Q="abr";if(A(m,[56,66,70,83]))Q="shc";if(A(m,[56,66,80,84]))Q="pat";if(A(m,[56,66,71,82]))Q="grd";
if(A(m,[56,66,84,80]))Q="tpl";if(A(m,[0,4,0,5]))Q="acv";if(A(m,[99,117,115,104]))Q="csh";if(A(m,[0,1,0,0,0]))Q="otf";
if(A(m,[79,84,84,79]))Q="otf";if(A(m,[116,116,99,102]))Q="otf";if(A(m,[68,68,83,32]))Q="dds";if(A(m,[80,86,82,3]))Q="pvr";
if(A(m,[86,84,70,0]))Q="vtf";if(A(m,[83,73,77,80]))Q="fits";if(A(m,[0,0,1,0]))Q="ico";if(A(m,[66,77]))Q="bmp";
if(A(m,[40,0,0,0]))Q="bmp";if(A(m,[80,49]))Q="ppm";if(A(m,[80,50]))Q="ppm";if(A(m,[80,51]))Q="ppm";if(A(m,[80,52]))Q="ppm";
if(A(m,[80,53]))Q="ppm";if(A(m,[80,54]))Q="ppm";if(A(m,[73,73,42,0]))Q="tiff";if(A(m,[77,77,0,42]))Q="tiff";
if(A(m,[70,85,74,73,70,73,76,77]))Q="raf";if(A(m,[112]))Q="lif";if(A(m,[73,73,26,0]))Q="ciff";if(A(m,[83,81,76,105]))Q="sketch";
if(A(m,[80,75])){var p=UZIP.parse(G,!0);if(p["document.json"])Q="sketch";else if(p.manifest)Q="xd";else Q="zip"}if(A(m,[123]))Q="json";
if(V.l(m,0)==m.length)Q="icc";if(A(m,[35]))Q="icc";if(A(m,[84,73,84,76],H))Q="icc";if(A(m,[76,85,84,95],H))Q="icc";
if(A(m,[60,63,120,109],H)){if(V.Sz(m,"<look>")!=-1)Q="icc";else Q="svg"}if(A(m,[60,115,118,103],H))Q="svg";
if(A(m,[60,33,100,111],H)||A(m,[60,33,68,79],H)){if(V.Sz(m,"<svg")!=-1)Q="svg";else Q="html"}if(A(m,[37,33])||A(m,[197,208,211,198])){if(V.Sz(m,"%AI9_PrivateDataBegin")!=-1||V.Sz(m,"%AI5_BeginLayer")!=-1)Q="ai";
else Q="eps"}if(A(m,[37,80,68,70],H)){if(V.Sz(m,"/AIMetaData ")!=-1)Q="ai";else Q="pdf"}else if(A(m,[10,69,79,70],J-3))Q="dxf";
if(A(m,[1,0,9,0]))Q="wmf";if(A(m,[215,205,198,154]))Q="wmf";if(A(m,[1,0,0,0]))Q="emf";if(A(m,[118,47,49,1]))Q="exr";
if(A(m,[10,10,10,10]))Q="jsx";if(A(m,[77,90]))Q="exe";if(Q==null&&N.raw.Az(m.length)!=null)return"tiff";
return Q};dt.jw=function(G,m,A){if(A==null)A=0;for(var $=0;$<m.length;$++)if(m[$]!=-1&&G[A+$]!=m[$])return!1;
return!0};dt.aW=function(G){var m={BMP:dt.adj,CDR:dt.di,DDS:dt.tj,EMF:dt.XP,DXF:dt.bb,EPS:dt.eh,FIG:dt.Gx,FPNG:dt.GV,INDD:dt.ail,GIF:dt.pF,ICO:dt.Yi,ILBM:dt.QH,FITS:dt.t8,EXR:dt.QP,JPG:dt.Z$,LIF:dt.wI,PDF:dt.Tm,PDN:dt.Y3,PNG:dt.OO,PPM:dt.nZ,PSD:dt._L,PXD:dt.dN,RAF:dt.kP,RAW:dt.uI,SKETCH:dt.vu,SVG:dt.h5,TGA:dt.um,AVIF:dt.adp,TIFF:dt.c9,VTF:dt.LL,WEBP:dt.CL,WMF:dt.j3,XCF:dt.yg,XD:dt.TB,EXE:dt.Yx,AI:dt.cN,AFPHOTO:dt.SM,MP4:dt.afQ};
return m[G.toUpperCase()]};dt.v1=function($){var G=dt.vz.a1Q,m=dt.vz.a9E,A,Q=[];if($==null)A=G.concat(m);
else A=$==0?G:m;for(var $=0;$<A.length;$++)if(dt.aW(A[$]).Af)Q.push(A[$]);return Q};dt.ata=function(){var G;
function m(Q){var H=Q.target,J=H.width,b=H.height,O=document.createElement("canvas");O.width=J;O.height=b;
var a=O.getContext("2d");a.drawImage(H,0,0);G({NS:new f_(0,0,J,b),data:a.getImageData(0,0,J,b).data.buffer})}function A(Q,H,J){G=J;
var b=document.createElement("img");b.onload=m;b.src="data:"+H+";base64,"+dt.D5(Q)}return A}();dt.Cy=function(G,m,A,Q,H){var J=dt.Kh(G,m,A,Q,H),b=dt.k6(J);
return b.buffer};dt.k6=function(G){var m=atob(G.split(",").pop()),A=new Uint8Array(m.length);for(var $=0;
$<m.length;$++)A[$]=m.charCodeAt($);return A};dt.Kh=function(G,m,A,Q,H,J){if(!(G instanceof ArrayBuffer))throw"e";
if(Q==null)Q="png";if(Q=="png"&&J==!0){var b=dt.aW("PNG").Af([[G,0]],m,A);return"data:image/png;base64,"+dt.D5(b)}var O=dt.U4;
if(O==null)O=dt.U4=document.createElement("canvas");if(O.width!=m||O.height!=A){O.width=m;O.height=A}var a=O.getContext("2d"),e=new ImageData(new Uint8ClampedArray(G,0,m*A*4),m,A);
a.putImageData(e,0,0);return O.toDataURL("image/"+Q,H)};dt.aio=function(G,m,A,Q,H){if(H==null)H=0;var J="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",b="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+J+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(G==1)b+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
b+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+H+")\" xlink:href=\""+m+"\" x=\""+80*A+"\" y=\""+80*Q+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var O=new Uint8Array(b.length);V.lG(b,O,0);var a="data:image/svg+xml;base64,"+dt.D5(O.buffer);return{R0:a,PR:new f_(0,0,128,128),IC:new dw(64,64)}};
dt.D5=function(G){var m=new Uint8Array(G),A="";for(var $=0;$<m.length;$++)A+=String.fromCharCode(m[$]);
return btoa(A)};dt.atM=function(G){var m=atob(G),A=m.length,Q=new Uint8Array(A);for(var $=0;$<A;$++)Q[$]=m.charCodeAt($);
return Q.buffer};dt.MO=function(G){var m=[],A=[];for(var $=0;$<G.g.length;$++){var Q=G.g[$];if(Q.getName().slice(0,3)=="_a_"){m.push($);
A.push(Q.HX())}}return[m,A]};dt.DZ=function(G,m,A,Q,H,J){if(A==null)A=G.e;if(Q==null)Q=G.n;var b=new f_(0,0,G.e,G.n),O=new ci(A/(G.e+.001),0,0,Q/(G.n+.001),0,0),e;
m=m.toUpperCase();var a=dt.aW(m);if(a.cQ){G.$s();e=a.Af(G,A,Q,H,J)}else{var R=dt.MO(G),p=R[0],P=R[1],z=null;
if(G.Hv.length!=0){z=[];for(var $=0;$<G.Hv.length;$++)z.push(G.Hv[$].MC(b))}if(p.length<2){var Z;if(A==G.e&&Q==G.n)Z=G.$s().buffer;
else{var W=f.Q.fK([G.$s(),b],O);Z=W.buffer.buffer;if(z){var T=N.$(b.Z()*4);for(var $=0;$<z.length;$++){N.I5(z[$],T,3);
var W=f.Q.fK([T,b],O),i=z[$]=N.$(W.rect.Z());N.gF(W.buffer,i,3)}}}e=a.Af([[Z,0,G.SV,G.ey,z]],A,Q,H)}else{var X=[];
for(var $=0;$<p.length;$++){var U=p[$],Z;for(var M=0;M<p.length;M++)G.g[p[M]].YQ(p[M]==U);G.WW();G.F();
G.kn();if(A==G.e&&Q==G.n)Z=G.$s().buffer.slice(0);else{var W=f.Q.fK([G.$s(),b],O);Z=W.buffer.buffer}var C=G.g[U].getName().split(",");
X.push([Z,C[1]?parseInt(C[1]):100,G.SV,G.ey,z])}for(var $=0;$<p.length;$++)G.g[p[$]].YQ(P[$]);G.F();
G.kn();if(H){var x=H.length,L=H[x-2],E=H[x-1],l=H[x-4]/100;if(l!=1)for(var $=0;$<X.length;$++)X[$][1]=Math.round((X[$][1]==0?16:X[$][1])/l);
if(L)X.reverse();if(E){var y=X.slice(1,X.length-1);y.reverse();X=X.concat(y)}}e=a.Af(X,A,Q,H)}}return e};
dt.SQ=function(G,m){var A=m[0].Yz&&m[0].Yz.startsWith("_a_"),Q,H=new fy(G+".psd"),J=new f_(0,0,1,1);
if(A){Q=H.uA();Q.add.lsct=fM.UK;Q.mw(G);Q.w4="pass";Q.$G=24;Q.YQ(!0);H.g.push(H.uF())}for(var $=0;$<m.length;
$++){var b=m[$];J=J.wj(b.NS);var O=H.uA();O.YQ($==0);O.mw(m.length==1?"Background":"Layer "+$);if($==0&&b.SV)H.SV=b.SV;
if($==0&&b.ey)H.ey=b.ey;if(b.Yz)O.mw(b.Yz);if(b.fx)for(var $=0;$<b.fx.length;$++){var a=b.fx[$],e=fy.y0(a[0]);
e.add.vmsk.Y=a[1];N.U.T6(a[1],new ci(J.e,0,0,J.n,0,0));H.Sq.push(e)}O.rect=b.NS.clone();O.buffer=new Uint8Array(b.data);
N.uL(O);H.g.push(O)}if(A)H.g.push(Q);if(m[0].Hv){for(var $=0;$<m[0].Hv.length;$++){var R=new c.Mz;H.Hv.push(R);
R.rect=m[0].NS.clone();R.channel=m[0].Hv[$]}}H.c=[A?H.g.length-1:0];H.e=J.e;H.n=J.n;H.buffer=N.$(J.Z()*4);
H.F();return H};dt.OO={};dt.OO.Af=function(G,m,A,Q){if(Q==null)Q=[100,!1,0,0,0];var H={sRGB:1,loop:Q[3]};
if(G[0][2]!=null){var J=Math.round(G[0][2]*(1e4/254));H.pHYs=[J,J,1]}var b=Q[0],O=b==100?0:Math.max(2,Math.floor(b*5));
if(O==5)O=4;var a=[],e=[];for(var $=0;$<G.length;$++){a.push(G[$][0]);e.push(G[$][1])}var R=UPNG.encode(a,m,A,O,e,H,Q[1]);
return R};dt.OO.a9I=function(G,m,A){return UPNG.encodeLL([G],m,A,3,1,8)};dt.OO.uJ=function(G){var m=Date.now(),A=UPNG.decode(G),Q=UPNG.toRGBA8(A),H=A.width,J=A.height,b=0;
if(A.tabs.pHYs)b=Math.round(A.tabs.pHYs[0]*254/1e4);if(Q.length==1)return[{NS:new f_(0,0,H,J),data:Q[0],SV:b}];
var O=[];for(var $=0;$<Q.length;$++){O.push({Yz:"_a_frm"+$+","+A.frames[$].delay,NS:new f_(0,0,H,J),data:Q[$],SV:b})}return O};
dt.nZ={};dt.nZ.Af=function(G,m,A,Q){var H=new Uint8Array(G[0][0]),J=m*A,b=J*3,O="P6\n"+m+" "+A+"\n255\n",a=O.length,e=N.$(a+b,!0);
for(var $=0;$<a;$++)e[$]=O.charCodeAt($);for(var $=0;$<J;$++){var R=$*4,p=$*3+a;e[p]=H[R];e[p+1]=H[R+1];
e[p+2]=H[R+2]}return e.buffer};dt.nZ.uJ=function(G){G=new Uint8Array(G);var m=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],A=0,Q=String.fromCharCode(G[0])+String.fromCharCode(G[1]),H=[],J=0,b=Q=="P1"||Q=="P4"?2:3;
for(A=2;A<G.length;A++){var O=G[A],a=String.fromCharCode(O);if(O=="#".charCodeAt(0)){while(G[A]!="\n".charCodeAt(0))A++;
continue}var e=m.indexOf(O)!=-1;if(J==0&&!e){H.push(a);J=1;continue}if(J==1&&!e){H[H.length-1]+=a;continue}if(J==1&&e){J=0;
if(H.length==b)break;continue}}var R=parseInt(H[0]),p=parseInt(H[1]),P=R*p*4,z=Q=="P1"||Q=="P4"?1:255/parseInt(H[2]),Z=N.$(P);
if(Q=="P1"||Q=="P2"||Q=="P3"){var W="",T=0,J=0,i="#".charCodeAt(0);for(var $=A;$<G.length;$++){var O=G[$],a=String.fromCharCode(O),e=m.indexOf(O)!=-1;
if(O==i){while(G[$]!="\n".charCodeAt(0))$++}else if(J==0&&!e){W=a;J=1}else if(J==1){if(e){J=0;var X=parseInt(W);
W="";if(Q=="P1"){Z[T]=Z[T+1]=Z[T+2]=(1-X)*255;Z[T+3]=255;T+=4}if(Q=="P2"){Z[T]=Z[T+1]=Z[T+2]=Math.round(X*z);
Z[T+3]=255;T+=4}if(Q=="P3"){Z[T]=Math.round(X*z);T++;if((T&3)==3){Z[T]=255;T++}}}else W+=a}}}var U=R*p;
if(Q=="P4")for(var M=0;M<p;M++){var C=M*8*Math.ceil(R/8);for(var x=0;x<R;x++){var $=C+x,L=G[A+1+($>>3)];
L=L>>7-($&7)&1;var E=M*R+x<<2;Z[E]=Z[E+1]=Z[E+2]=(1-L)*255;Z[E+3]=255}}if(Q=="P5")for(var $=0;$<U;$++){var E=4*$;
Z[E]=Z[E+1]=Z[E+2]=Math.round(G[A+1+$]*z);Z[E+3]=255}if(Q=="P6")for(var $=0;$<U;$++){var E=4*$,l=A+1+3*$;
Z[E]=Math.round(G[l]*z);Z[E+1]=Math.round(G[l+1]*z);Z[E+2]=Math.round(G[l+2]*z);Z[E+3]=255}return[{NS:new f_(0,0,R,p),data:Z.buffer}]};
dt.tj={};dt.tj.Af=function(G,m,A,Q){if(Q==null)Q=[!0,!0];var H=new Uint8Array(G[0][0]),J=m&3,b=A&3;if(J!=0||b!=0){var O=m+(J==0?0:4-J),a=A+(b==0?0:4-b),e=new Uint8Array(O*a*4);
N.w8(e,4278190080);N.Pr(H,new f_(0,0,m,A),e,new f_(0,0,O,a));H=e;m=O;A=a}var R=UTEX.DDS.encode(H.buffer,m,A,Q);
if(!1){var p=UTEX.DDS.decode(R)[0],e=new Uint8Array(p.CX),P=0;for(var $=0;$<H.length;$++){var z=H[$]-e[$];
P+=z*z}console.log(P)}return R};dt.tj.uJ=function(G){var m=UTEX.DDS.decode(G)[0];return[{NS:new f_(0,0,m.width,m.height),data:m.image}]};
dt.LL={};dt.LL.uJ=function(G){var m=UTEX.VTF.decode(G).pop();return[{NS:new f_(0,0,m.width,m.height),data:m.image}]};
dt.Z$={};dt.Z$.x0=null;dt.Z$.ahs=function(G,m){var A=dt.Z$.x0,Q=G.byteLength,H=m.width,J=m.height,b=H*J,O=5e6+2*Q+b*(m.progressive?Math.max(2,m.numComponents)*4+1:8),a=A.instance.exports;
dt.MQ(a,O);var e=new Uint8Array(a.memory.buffer),R=a.malloc(Q);e.set(new Uint8Array(G),R);var p=a.malloc(4),P=a.malloc(4),jw=a.malloc(4),z=a.stbi_load_from_memory(R,Q,p,P,jw,4);
a.free(R);a.free(p,P,jw);a.free(z);var Z=e.slice(z,z+b*4);return Z};(function(){var G=dt.YM.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(G).then(function(m){dt.Z$.x0=m})}());
dt.Z$.Af=function(G,m,A,Q){if(Q==null)Q=[70];var H=G[0],J=new Uint8Array(H[0]);if(N.VG(J)){var b=new Uint8Array(J.length),O=new f_(0,0,m,A);
N.w8(b,4294967295);N.a.zc("norm",J,O,b,O,O,1);J=b}var a=new Uint8Array(dt.Cy(J.buffer,m,A,"jpeg",Q[0]/100));
if(H[2]!=null){var e=dt.Z$.DI(a)[224][0]+2;e+=9;a[e]=1;V.hv(a,e+1,H[2]);V.hv(a,e+3,H[2])}if(H[3]!=null&&Q[1]==!0&&Object.keys(H[3]).length!=0){var R=0,p=0,P=0,z=fg.zw(H[3]),Z=new Uint8Array(UTIF.encode([z])),W="http://ns.adobe.com/xap/1.0/",U=0,x=0,Y=20;
R=4+6+Z.length;var T=fg.a2$(H[3]),i=V.Dn(T);p=4+W.length+1+i.length;var X=fg.at8(H[3]);for(var $=0;$<X.length;
$++)U+=5+X[$][1].length;var M=U+(U&1),C=N.$(14+4+2+4+M);V.aw(C,x,"Photoshop 3.0");x+=14;V.aw(C,x,"8BIM");
x+=4;C[x++]=4;C[x++]=4;x+=2;V.na(C,x,U);x+=4;for(var $=0;$<X.length;$++){var L=X[$],E=L[1];C[x++]=28;
C[x++]=2;C[x++]=L[0];V.hv(C,x,E.length);x+=2;V.aw(C,x,E);x+=E.length}P=4+C.length;var l=R+p+P,y=new Uint8Array(a.length+l);
for(var $=0;$<20;$++)y[$]=a[$];for(var $=20;$<a.length;$++)y[$+l]=a[$];y[Y]=255;y[Y+1]=225;V.hv(y,Y+2,R-2);
V.aw(y,Y+4,"Exif");for(var $=0;$<Z.length;$++)y[Y+10+$]=Z[$];Y+=R;y[Y]=255;y[Y+1]=225;V.hv(y,Y+2,p-2);
V.aw(y,Y+4,W);for(var $=0;$<i.length;$++)y[Y+4+W.length+1+$]=i[$];Y+=p;y[Y]=255;y[Y+1]=237;V.hv(y,Y+2,P-2);
for(var $=0;$<C.length;$++)y[Y+4+$]=C[$];Y+=P;a=y}return a.buffer};dt.Z$.DI=function(G){var m=0,A=[],Q=G.length;
while(m<Q){while(G[m]!=255&&m<Q)m++;while(G[m]==255)m++;var H=G[m];m++;if(A[H]==null)A[H]=[];A[H].push(m-2);
if(H==216)continue;if(H==217)break;if(224<=H&&H<=239||H==218||H==219||H==192||H==193||H==194||H==196||H==221||H==254){var J=V.n6(G,m);
m+=J;if(H==218)while(m<Q&&(G[m]!=255||(G[m+1]==0||208<=G[m+1]&&G[m+1]<=215)))m++;continue}console.log("unknown marker ",H.toString(16),m);
break}if(A[217]==null){console.log("EOI marker missing");var b=G.length-2;G[b]=255;G[b+1]=217;A[217]=[b]}return A};
dt.Z$.arf=function(G){G=new Uint8Array(G);if(G[0]!=255)return G.buffer;var m=dt.Z$.DI(G),A=dt.Z$.OG(G,m);
if(A.numComponents!=4)return G.buffer;var Q=A.width,H=A.height,J=dt.Z$.JM(G,m,!0);return dt.Z$.Af([[J[0].data]],Q,H,[85])};
dt.Z$.OG=function(G,m){var A=(m[192]?m[192]:m[193]?m[193]:m[194])[0]+4,Q={};Q.progressive=m[194]!=null;
Q.precision=G[A];A++;Q.height=V.n6(G,A);A+=2;Q.width=V.n6(G,A);A+=2;Q.numComponents=G[A];A++;if(m[224]){var H=Q.jfif={};
A=m[224][0]+2+2+5+2;H.densityUnits=G[A];A++;H.xDensity=V.n6(G,A);A+=2;H.yDensity=V.n6(G,A);A+=2}if(m[238]){var H=Q.adobe={};
A=m[238][0]+2+2+6;H.version=G[A];A++;H.flags0=V.n6(G,A);A+=2;H.flags1=V.n6(G,A);A+=2;H.transform=G[A];
A++}return Q};dt.Z$.abS=function(G,m,A){var Q=m,H=V.n6(G,Q);Q+=2;var J=V.uB(G,Q,4);if(J=="Exif"){Q+=6;
var b=G.slice(Q,Q+H-8),O;try{O=UTIF.decode(b.buffer,{parseMN:!1,debug:!1})}catch(f5){}if(O)A.exif=O}else if(J=="http"){var a=0;
while(G[Q+a]!=0)a++;var e=V.uB(G,Q,a);Q+=a+1;if(e=="http://ns.adobe.com/xmp/extension/"){var R=V.uB(G,Q,32);
Q+=32;Q+=8;var p=m+H-Q;while(G[Q+p-1]==0)p--;if(A.xmp_extn==null)A.xmp_extn="";try{A.xmp_extn+=V.Io(G,Q,p)}catch(f5){}}else if(e=="http://ns.adobe.com/xap/1.0/"){var P=V.Io(G.slice(Q,Q+H-a-3));
if(P[0]=="?")P="<"+P;A.xmp=P}}else console.log(J)};dt.Z$.JM=function(G,m,A){var Q=dt.Z$.OG(G,m),H=Q.width,J=Q.height,b=H*J,O,a=-1,W=72,T;
if(Q.adobe)a=Q.adobe.transform;if(A||H*J>15e7||a==0||a==2){var e=new PDFJS.JpegImage;e.parse(G);var R=e.getData({width:H,height:J,forceRGB:!0,isSourcePDF:A}),O=N.$(b*4);
for(var $=0;$<b;$++){var p=$<<2,P=p-$;O[p]=R[P];O[p+1]=R[P+1];O[p+2]=R[P+2];O[p+3]=255}}else{O=dt.Z$.ahs(G.buffer,Q)}var z=m[225];
if(z)for(var $=0;$<z.length;$++)dt.Z$.abS(G,z[$]+2,Q);var Z=m[217][0]+2;if(Z!=G.length)Q.suffix=G.slice(Z);
var i=[H,J,1,0,0,0,1,0];if(Q.jfif&&Q.jfif.densityUnits!=0){W=Math.round([72,1,2.54][Q.jfif.densityUnits]*Q.jfif.xDensity)}else if(Q.exif&&Q.exif[0].t282!=null){var X=Q.exif[0].t282[0];
W=X[0]/X[1]}if(Q.exif){var U=Q.exif;T=fg.KG(U[0]);var M=U[0].t274;if(M)M=M[0];if(M!=null&&M>1&&M<20)i=N.raw.Xc(M,H,J)}if(Q.xmp){T=fg.ag$(Q.xmp,T)}var C=m[237],x=[],L=[];
if(C){var E=new Uint8Array(65536),l=0,y=0;for(var $=0;$<C.length;$++){y=C[$]+2;var Y=y+V.n6(G,y);y+=2;
var F=y;while(G[y]!=0)y++;y++;var w=V.uB(G,F,y-F-1),j=Y-y;while(l+j>E.length){var _=new Uint8Array(E.length*2);
_.set(E);E=_}var D=new Uint8Array(G.buffer,y,j);E.set(D,l);l+=j}y=0;G=E;while(y<l){var t=V.uB(G,y,4);
y+=4;var K=V.n6(G,y);y+=2;var d=G[y++],o=V.uB(G,y,d);y+=d;if((d&1)==0)y++;var k=V.l(G,y);y+=4;var Z=y+k+(k&1);
if(K==1028){while(y+4<Z){var v=G[y++],u=G[y++],B=G[y++],S=V.n6(G,y);y+=2;if(v==28&&u==2)x.push([B,V.uB(G,y,S)]);
y+=S}}else if((K&2e3)==2e3){var I=g7.U7(G,y,k);L.push([o,I])}else{}y=Z}if(x.length!=0)T=fg.aeC(x,T)}var q=[{NS:new f_(0,0,H,J),data:O.buffer,SV:W,ey:T,fx:L.length==0?null:L}],T=Q.xmp_extn;
if(T){var hw=new DOMParser,fY=hw.parseFromString(T,"image/svg+xml"),fY=fY.children[0].children[0].children[0],s=[fY.getAttribute("GImage:Data"),fY.getAttribute("GDepth:Data")];
for(var $=0;$<s.length;$++)if(s[$]){var hZ=atob(s[$]),bG=new Uint8Array(hZ.length);V.aw(bG,0,hZ);bG=bG.buffer;
var aY=dt.mG(bG),fj=dt.aW(aY).uJ(bG);q.push(fj[0])}}if(Q.suffix){var jg=Q.suffix,ae=V.uB(jg,4,4),iB=V.Sz(jg,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(dt.jw(jg,[0,0,1,10,14,0,0,0])){var y=0;while(y!=jg.length){var eg=V.cZ(jg,y+2);y+=4;var dM={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[eg];
if(dM!=null){var fK=V.Wj(jg,y);y+=4;var aQ=V.uB(jg,y,fK);y+=fK;var cQ=V.uB(jg,y,dM);y+=dM;if(eg==2608){var a7=V.l(jg,y+24);
y+=a7+24;var gz=V.l(jg,y);y+=gz;alert("Photopea found a "+hN.tl(a7)+" MP4 video inside your image.",4e3)}}else if(eg==18502){while(V.uB(jg,y,4)!="SEFT")y+=4;
y+=4}else{break;console.log(V.z1(jg,y,128));console.log(jg.slice(y));throw eg.toString(16)}}}else if(ae=="ftyp"){alert("Photopea found a "+hN.tl(jg.length)+" MP4 video inside your image.",4e3)}else if(V.uB(jg,0,4)=="fixe"){alert("Unknown data - "+jg.length+" B - at the end of the file",3e3);
var y=4,k=V.Wj(jg,y);y+=4;var bQ=V.Wj(jg,y);y+=4;var d4=V.Wj(jg,y);y+=4;console.log(k,bQ,d4,jg.slice(y,y+84));
y+=84;var j2=V.uB(jg,y,32);y+=32;y+=8;var j2=V.uB(jg,y,32);y+=32}else if(V.uB(jg,8,13)=="FocusShot_Map"){var j7=V.l(jg,0),S=V.Wj(jg,4),bG=N.$(b*4),fG=N.$(b*4);
for(var bT=0;bT<J;bT++)for(var je=0;je<H;je++){var $=bT*H+je,p=$<<2,ba=8+13+((bT>>>1)*H+je>>>1),j6=jg[ba],cl=jg[ba+(b>>>2)];
bG[p]=bG[p+1]=bG[p+2]=j6;bG[p+3]=255;fG[p]=fG[p+1]=fG[p+2]=cl;fG[p+3]=255}q.push({NS:new f_(0,0,H,J),data:bG.buffer},{NS:new f_(0,0,H,J),data:fG.buffer})}else if(ae=="edof"){var M=jg[8+7];
console.log(M.toString(16));var y=8+16,js=V.cZ(jg,y),fR=V.cZ(jg,y+2),b=js*fR;y+=4;y+=32+16;var iW=N.$(b*4);
for(var $=0;$<b;$++){var p=$<<2;iW[p]=iW[p+1]=iW[p+2]=jg[y+$];iW[p+3]=255}if(M==16){}else if(M==19){var fx=iW.slice(0);
N.N.kh(iW,fx,js,fR);var dm=js;js=fR;fR=dm;N.N.ajK(fx,iW,js,fR)}else throw"Unknown orientation of a depth map";
q.push({NS:new f_(0,0,js,fR),data:iW.buffer})}else if(iB!=-1&&!(jg[0]==255&&jg[1]==129)){try{if(iB!=0)jg=jg.slice(iB);
var fj=dt.aW("jpg").uJ(jg.buffer);for(var $=0;$<fj.length;$++)q.push(fj[$])}catch(f5){}}else if(V.uB(jg,0,4)=="PMPD"){var y=4,fq=V.Wj(jg,12),h2=V.Wj(jg,16),js=q[0].NS.e>>>2,fR=q[0].NS.n>>>2,jj=jg.slice(fq-h2+24-H),iM=N.$(js*fR);
for(var bT=0;bT<fR;bT++)for(var je=0;je<js;je++)iM[bT*js+je]=jj[(fR-bT-1)*js+je];var aC=N.$(js*fR*4);
aC.fill(255);N.mH(iM,aC);q.push({NS:new f_(0,0,js,fR),data:aC.buffer})}else console.log(V.uB(jg,0,4),jg)}if(q.length>1){var aB=q[0].NS;
q[0].Yz="Main";for(var $=1;$<q.length;$++){q[$].Yz=dt.Z$.abj(new Uint8Array(q[$].data))?"Depth Map":null;
var ep=q[$].NS;if(!ep.A5(aB)){var h6=aB.e/ep.e,dJ=aB.n/ep.n,gs=new ci;gs.scale(h6,dJ);var ej=f.Q.sT([new Uint8Array(q[$].data),ep],1,N.N.i4(gs));
q[$].NS=ej.rect;q[$].data=ej.buffer}}}if(dt.Z$.e4==1)if(i[2]!=1||i[6]!=1)for(var $=0;$<q.length;$++){var eH=q[$],hT=new Uint8Array(eH.data),H=eH.NS.e,J=eH.NS.n,js=i[0],fR=i[1],O=N.$(js*fR*4);
N.N.Sc(hT,H,J,O,i);eH.NS=new f_(0,0,js,fR);eH.data=O.buffer}return q};dt.Z$.abj=function(G){var m=!0;
for(var $=0;$<G.length;$+=4){m=m&&G[$]==G[$+1]&&G[$+1]==G[$+2]}return m};dt.Z$.e4=0;dt.Z$.uJ=function(G,m,A){G=new Uint8Array(G);
if(G[0]==255){var Q=dt.Z$.DI(G);if(Q[195]==null){dt.Z$.e4++;var H=dt.Z$.JM(G,Q,!1);dt.Z$.e4--;return H}var J=V.n6(G,Q[195][0]+5),b=V.n6(G,Q[195][0]+7),O=UTIF.LosslessJpegDecode(G),a=b*J,e=N.$(a*4);
for(var $=0;$<a;$++){var R=$<<2,p=R-$;e[R]=O[p];e[R+1]=O[p+1];e[R+2]=O[p+2];e[R+3]=255}return[{NS:new f_(0,0,b,J),data:e.buffer}]}else if(G[0]==0&&G[4]==48&&G[6]==1){var P=G,z=new PDFJS.Jbig2Image,Z=[];
if(m)Z.push({data:m,start:0,end:m.length});Z.push({data:P,start:0,end:P.length});var O=z.parseChunks(Z);
if(!A)for(var $=0;$<O.length;$++)O[$]=~O[$];var b=V.l(G,11),J=V.l(G,15),W=Math.ceil(b/8),T=N.$(b*J*4);
for(var i=0;i<J;i++){var X=i*W;for(var U=0;U<b;U++){var R=(i*b+U)*4,M=O[X+(U>>>3)]>>>7-(U&7)&1,C=M*255;
T[R]=C;T[R+1]=C;T[R+2]=C;T[R+3]=255}}return[{NS:new f_(0,0,b,J),data:T.buffer}]}else{var z=new PDFJS.JpxImage;
z.parse(G);var b=z.width,J=z.height,x=z.tiles,L=z.componentsCount,E=new Uint8Array(b*J*4),l=new f_(0,0,b,J);
for(var z=0;z<x.length;z++){var y=x[z],Y=y.width,F=y.height,w=Y*F,j=y.items,_=new f_(y.left,y.top,Y,F),D=new Uint8Array(w*4);
if(L==1)for(var $=0;$<w;$++){var t=j[$],R=$*4;D[R]=t;D[R+1]=t;D[R+2]=t;D[R+3]=255}else if(L==3)for(var $=0;
$<w;$++){var p=$*3,R=$*4;D[R]=j[p];D[R+1]=j[p+1];D[R+2]=j[p+2];D[R+3]=255}else console.log("Unknown number of components: "+L);
N.Pr(D,_,E,l)}return[{NS:l,data:E.buffer}]}};dt.CL={};dt.CL.Af=function(G,m,A,Q){if(Q==null)Q=[70,0,0,0];
var H=Q[0]/100,a=0;if(G.length==1)return dt.Cy(G[0][0],m,A,"webp",H);var J=V.yN,b=V.yl,O=new iy;J(O,a,"RIFF    WEBPVP8X");
a+=16;b(O,a,10);a+=4;b(O,a,18);a+=4;b(O,a,m-1);a+=3;b(O,a,A-1);a+=3;J(O,a,"ANIM");a+=4;b(O,a,6);a+=4;
O.fU(a,4);O.data[a+3]=255;V.TT(O,a+4,Q[2]);a+=6;var e=[];for(var $=0;$<G.length;$++){e.push(G[$][0])}var R=UPNG.encode.compress(e,m,A,H==1?0:Math.max(2,Math.floor(H*500)),[!1,!0,!0,0,!0]).frames;
function p(E,l,y,Y){var U=E.r-8,M=E.size+8;y.fU(Y,M);for(var $=0;$<M;$++)y.data[Y+$]=l[U+$];return Y+M}for(var $=0;
$<G.length;$++){J(O,a,"ANMF");a+=4;var P=a,U=0,M=0;a+=4;var z=R[$],Z=z.rect,W=[Z.x>>>1,Z.y>>>1,Z.width-1,Z.height-1,G[$][1]];
for(var T=0;T<5;T++)b(O,a+3*T,W[T]);a+=15;O.fU(a,1);O.data[a]=1-z.blend<<1|z.dispose;a++;var i=new Uint8Array(dt.Cy(z.img.buffer,Z.width,Z.height,"webp",1)),X=eK.dm(i.buffer).sub,C={};
for(var x=0;x<X.length;x++)C[X[x].kl]=X[x];if(C.VP8L)a=p(C.VP8L,i,O,a);else throw"e";var L=a-P-4;b(O,P,L);
if((L&1)==1){O.fU(a,1);a++}}b(O,4,a-8);return O.data.slice(0,a).buffer};(function(){var G=dt.YM.get("wasm/webp").buffer;
WebAssembly.instantiate(G).then(function(m){var A=m.instance.exports;dt.CL.exp=A})}());dt.CL.uJ=function(G){var m=new Uint8Array(G),A=dt.CL.as1,Q=null,H=eK.dm(G).sub,J={};
for(var $=0;$<H.length;$++)J[H[$].kl]=H[$];var b=J.ANIM,O=J.VP8L,a=J["VP8 "],e=J.VP8X;if(b==null){var R,p;
if(a){R=V.cZ(m,a.r+6);p=V.cZ(m,a.r+8)}else if(O){var P=V.Wj(m,O.r+1);R=(P&(1<<14)-1)+1;p=(P>>>14&(1<<14)-1)+1}else throw"e";
var z=[A(Q,G,{r:0,size:m.length},R,p)];return z}var Z=e.r,R=1+(V.Wj(m,Z+4)&16777215),p=1+(V.Wj(m,Z+7)&16777215),W=[],T=new f_(0,0,R,p),i=N.$(R*p*4);
for(var $=0;$<H.length;$++){var X=H[$];if(X.kl!="ANMF")continue;var U=[];for(var M=0;M<5;M++)U.push(V.Wj(m,X.r+M*3)&16777215);
var C=new f_(U[0]*2,U[1]*2,U[2]+1,U[3]+1),x=U[4],L=A(Q,G,{r:X.r+16,size:X.size-16},R,p),E=new Uint8Array(L.data),l=m[X.r+15];
if(l>>>1==0)N.a.zc("norm",E,C,i,T,C,1);else N.Pr(E,C,i,T);W.push({Yz:"_a_"+W.length+","+x,NS:T.clone(),data:i.buffer.slice(0)});
if((l&1)==1){N.w8(E,0);N.Pr(E,C,i,T)}}return W};dt.CL.as1=function(G,m,A,Q,H){var J=dt.CL.exp,b=J.memory,O=5e6+2*A.size+Q*H*10;
dt.MQ(J,O);var a=new Uint8Array(b.buffer),e=J.malloc(A.size);a.set(new Uint8Array(m,A.r,A.size),e);var R=J.malloc(8),p=J.WebPDecodeARGB(e,A.size,R,R+4),P=V.Wj(a,R),z=V.Wj(a,R+4),Z=P*z*4,W=N.$(Z);
for(var $=0;$<Z;$+=4){W[$]=a[p+$+1];W[$+1]=a[p+$+2];W[$+2]=a[p+$+3];W[$+3]=a[p+$]}J.WebPFree(p);J.free(R);
J.free(e);return{NS:new f_(0,0,P,z),data:W.buffer}};dt.adj=function(){function G(O,a,e,R){var p=new Uint8Array(O[0][0]),P=new Uint32Array(p.buffer),z=[],Z={},T=24,i=0,x=0;
for(var $=0;$<P.length;$++){var W=P[$]&16777215;if(Z[W]==null){Z[W]=z.length;z.push(W);if(z.length>256){z=null;
break}}}if(z){T=1;while(1<<T<z.length)T*=2;if(T==2)T=4}var X={zp:a,V7:e,Ef:1,hN:T,Fe:0,acx:i},U=4*Math.floor((X.hN*X.zp+31)/32);
X.size=U*X.V7+2;var M=new iy,C=z?(1<<T)*4:0;V.yN(M,x,"BM");x+=2;V.yl(M,x,U*e+16+40+C);x+=4;V.yl(M,x,0);
x+=4;V.yl(M,x,54+C);x+=4;M.fU(x,40);V.yl(M,x,40);x+=4;b(M.data,x,X,U);x+=36;if(z){M.fU(x,C);var L=M.data;
for(var $=0;$<z.length;$++){var E=x+$*4,l=z[$]>>>16,y=z[$]>>>8&255,Y=z[$]&255;L[E]=l;L[E+1]=y;L[E+2]=Y}x+=C}M.fU(x,U*e);
if(T==24)for(var F=0;F<e;F++){var w=x+(e-1-F)*U;for(var j=0;j<a;j++){var _=(F*a+j)*4;M.data[w+j*3+2]=p[_];
M.data[w+j*3+1]=p[_+1];M.data[w+j*3+0]=p[_+2]}}else if(T==8)for(var F=0;F<e;F++){var w=x+(e-1-F)*U;for(var j=0;
j<a;j++){var _=F*a+j,D=Z[P[_]&16777215];M.data[w+j]|=D}}else if(T==4)for(var F=0;F<e;F++){var w=x+(e-1-F)*U;
for(var j=0;j<a;j++){var _=F*a+j,D=Z[P[_]&16777215];M.data[w+(j>>>1)]|=D<<4-(j&1)*4}}else if(T==1)for(var F=0;
F<e;F++){var w=x+(e-1-F)*U;for(var j=0;j<a;j++){var _=F*a+j,D=Z[P[_]&16777215];M.data[w+(j>>>3)]|=D<<7-(j&7)}}x+=U*e+2;
return M.data.slice(0,x).buffer}function m(O){O=new Uint8Array(O);if(V.Wj(O,0)==40)return[A(O.buffer,0)];
var a=0,e=V.uB(O,a,2);a+=2;if(e!="BM"){alert("Unsupported BMP format: "+e);return}var R=V.Wj(O,a);a+=4;
a+=4;var p=V.Wj(O,a);a+=4;return[A(O.buffer,a,p)]}function A(O,a,e){O=new Uint8Array(O);var R=V.Wj(O,a),p=J(O,a+4);
if(p.Ef!=1)alert("unsupported number of color planes: "+p.Ef);if(p.Fe!=0&&p.Fe!=1&&p.Fe!=2&&p.Fe!=3){alert("Unsupported BMP compression: "+p.Fe);
return}a+=R;var P=a,z=O;if(e==null)e=a;if(p.Fe==1||p.Fe==2){var Z=H(O,e,p);p.hN=8;O=Z;e=0}var W=4*Math.floor((p.hN*p.zp+31)/32),T=p.zp,i=Math.abs(p.V7),X=new Uint8Array(T*i*4);
X.fill(255);if(p.hN==32)for(var U=0;U<i;U++){var M=e+(i-1-U)*W;for(var C=0;C<T;C++){var x=(U*T+C)*4;
X[x]=O[M+C*4+2];X[x+1]=O[M+C*4+1];X[x+2]=O[M+C*4+0];X[x+3]=O[M+C*4+3]}}else if(p.hN==24)for(var U=0;
U<i;U++){var M=e+(i-1-U)*W;for(var C=0;C<T;C++){var x=(U*T+C)*4;X[x]=O[M+C*3+2];X[x+1]=O[M+C*3+1];X[x+2]=O[M+C*3+0]}}else if(p.hN==16)for(var U=0;
U<i;U++){var M=e+(i-1-U)*W;for(var C=0;C<T;C++){var x=(U*T+C)*4,L=O[M+C*2+1]<<8|O[M+C*2];X[x]=(L>>>11)*(255/31);
X[x+1]=(L>>>5&63)*(255/63);X[x+2]=(L&31)*(255/31)}}else if(p.hN==8)for(var U=0;U<i;U++){var M=e+(i-1-U)*W;
for(var C=0;C<T;C++){var x=(U*T+C)*4,E=O[M+C];X[x]=z[P+4*E+2];X[x+1]=z[P+4*E+1];X[x+2]=z[P+4*E+0]}}else if(p.hN==4)for(var U=0;
U<i;U++){var M=e+(i-1-U)*W;for(var C=0;C<T;C++){var x=(U*T+C)*4,E=O[M+(C>>1)];E=E>>4-4*(C&1);E=E&15;
X[x]=z[P+4*E+2];X[x+1]=z[P+4*E+1];X[x+2]=z[P+4*E+0]}}else if(p.hN==1)for(var U=0;U<i;U++){var M=e+(i-1-U)*W;
for(var C=0;C<T;C++){var x=(U*T+C)*4,l=O[M+(C>>3)];l=l>>7-(C&7);l=l&1;X[x]=z[P+4*l+2];X[x+1]=z[P+4*l+1];
X[x+2]=z[P+4*l+0]}}else throw"Unknown bit depth "+p.hN;if(p.V7<0){var y=new Uint32Array(X.buffer),Y=i>>>1;
for(var U=0;U<Y;U++){var F=U*T,w=(i-U-1)*T;for(var C=0;C<T;C++){var j=y[F+C];y[F+C]=y[w+C];y[w+C]=j}}}return{NS:new f_(0,0,T,i),data:X.buffer}}function Q(O,$){return O>>>4-(($&1)<<2)&15}function H(O,a,e){var R=e.zp,p=Math.abs(e.V7),P=new Uint8Array(R*p),z=0,Z=0,$=0;
while(Z<p){var W=O[a++],T=O[a++],i=Z*R+z;if(W>0){if(e.hN==4)for($=0;$<W;$++){P[i+$]=Q(T,$)}else for($=0;
$<W;$++){P[i+$]=T}z+=W}else if(W==0&&T==0){Z++;z=0}else if(W==0&&T==1){break}else if(W==0&&T==2){z+=O[a++];
Z+=O[a++]}else{var X=T;if(e.hN==4){for($=0;$<T;$++){P[i+$]=Q(O[a+($>>>1)],$)}X=Math.ceil(T/2)}else{for($=0;
$<T;$++){P[i+$]=O[a+$]}}if((X&1)!=0)X++;a+=X;z+=T}}return P}function J(O,a){var e=V.qA,R=V.Wj,p=V.cZ,P={};
P.zp=e(O,a);a+=4;P.V7=e(O,a);a+=4;P.Ef=p(O,a);a+=2;P.hN=p(O,a);a+=2;P.Fe=R(O,a);a+=4;P.size=R(O,a);a+=4;
var z=e(O,a);a+=4;var Z=e(O,a);a+=4;P.acx=R(O,a);a+=4;a+=4;return P}function b(O,a,e,R){V.l0(O,a,e.zp);
a+=4;V.l0(O,a,e.V7);a+=4;V.y5(O,a,e.Ef);a+=2;V.y5(O,a,e.hN);a+=2;V.l0(O,a,e.Fe);a+=4;V.l0(O,a,e.size);
a+=4;V.l0(O,a,2834);a+=4;V.l0(O,a,2834);a+=4;V.l0(O,a,e.acx);a+=4;a+=4}return{uJ:m,Af:G,ao2:A}}();dt.pF={};
dt.pF.Af=function(G,m,A,Q){if(Q==null)Q=[100,!1,0,0,0,0];var H=[],J=[],b=m*A*4,W=null;for(var O=0;O<G.length;
O++){var a=new Uint8Array(G[O][0].slice(0));for(var $=0;$<b;$+=4){var e=a[$+3]=a[$+3]>127?255:0;if(e==0)a[$]=a[$+1]=a[$+2]=0}H.push(a.buffer);
J.push(G[O][1])}var R=Math.round(2+254*Q[0]/100),p=UPNG.encode.compress(H,m,A,R,[!0,!1,!1,8,!1,Q[1]]),P=p.plte,z=new Uint8Array(4),Z=new Uint32Array(z.buffer);
for(var $=0;$<P.length;$++){Z[0]=P[$];var T=z[0];z[0]=z[2];z[2]=T;P[$]=Z[0];if(Z[0]==0)W=$}while(P.length<256)P.push(0);
var i=new Uint8Array(2e3+m*A*G.length),X=Q[3],U={palette:P};if(X!=1)U.loop=X==0?0:X-1;var M=new GifWriter(i,m,A,U);
for(var $=0;$<G.length;$++){var C=p.frames[$],x=C.rect,L=C.blend,E=C.dispose,l=Math.round(J[$]/10);if(l<2)l=2;
M.addFrame(x.x,x.y,x.width,x.height,C.img,{transparent:W,disposal:E+1,delay:l})}return i.slice(0,M.end()).buffer};
dt.pF.uJ=function(G){var m=Date.now(),A=[],Q=UGIF.decode(G),H=UGIF.toRGBA8(Q),J=new f_(0,0,Q.width,Q.height);
for(var $=0;$<H.length;$++){var b=Q.frames[$];A.push({NS:J.clone(),Yz:"_a_frm"+$+","+b.delay*10,data:H[$]})}return A};
dt.Yi={};dt.Yi.Af=function(G,m,A,Q){console.log(G);if(m>256||A>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var H=Math.min(m,256),J=Math.min(A,256),b=new f_(0,0,H,J),O=N.$(b.Z()*4),a=new f_(0,0,m,A),e=new Uint8Array(G[0][0]);
N.Pr(e,a,O,b);G[0][0]=O.buffer;m=H;A=J}var R=new iy,p=0,P=Q&&Q[0]==!0;V.TT(R,p,0);p+=2;V.TT(R,p,P?2:1);
p+=2;V.TT(R,p,1);p+=2;var z=new Uint8Array(dt.aW("png").Af(G,m,A));R.fU(p,16);R.data[p]=m==256?0:m;p++;
R.data[p]=A==256?0:A;p++;p+=2;V.TT(R,p,P?Math.round(m/2):1);p+=2;V.TT(R,p,P?Math.round(A/2):32);p+=2;
V.yl(R,p,z.length);p+=4;V.yl(R,p,6+16);p+=4;R.fU(p,z.length);for(var $=0;$<z.length;$++)R.data[p+$]=z[$];
p+=z.length;var Z=new Uint8Array(p);for(var $=0;$<p;$++)Z[$]=R.data[$];return Z.buffer};dt.Yi.uJ=function(G){G=new Uint8Array(G);
var m=4,A=V.cZ(G,m);m+=2;var Q=[];for(var $=0;$<A;$++){var H=dt.Yi.a7P(G,m+$*16),J=G.buffer.slice(H.offset,H.offset+H.size),b=dt.mG(J);
b=b?b:"bmp";if(b=="png"){var O=dt.aW(b),a=O.uJ(J);H.OK=a[0]}else{var e=dt.aW("BMP").ao2(J,0),J=N.$(H.zp*H.V7*4);
N.Pr(new Uint8Array(e.data),new f_(0,0,e.NS.e,e.NS.n),J,new f_(0,H.V7,H.zp,H.V7));e.data=J.buffer;e.NS.n=H.V7;
H.OK=e}Q.push(H)}Q.sort(function(R,p){if(R.zp!=p.zp)return R.zp-p.zp;return R.ahH-p.ahH});return[Q.pop().OK]};
dt.Yi.a7P=function(G,m){var A={};A.zp=G[m];m++;if(A.zp==0)A.zp=256;A.V7=G[m];m++;if(A.V7==0)A.V7=256;
A.a96=G[m];m++;m++;A.aeY=V.cZ(G,m);m+=2;A.ahH=V.cZ(G,m);m+=2;A.size=V.Wj(G,m);m+=4;A.offset=V.Wj(G,m);
m+=4;return A};dt.c9={};dt.c9.uJ=function(G){var m=Date.now(),Q,p=!0;if(N.raw.Az(G.byteLength))return[N.raw.a1m(G)];
var A=UTIF.decode(G);if(A[0].t33421)Q=A[0];else if(A[0].subIFD&&A[0].t271&&A[0].t271[0]=="Hasselblad"){Q=A[0].subIFD[0];
Q.t33421=[2,2]}else if(A[0].subIFD&&A[0].subIFD[0].t33421){Q=A[0].subIFD[0];if(Q.t50706==null){if(Q.t258[0]==8)Q.t258[0]=12}}else if(A[0].subIFD&&A[0].subIFD[0]&&A[0].subIFD[0].t262&&A[0].subIFD[0].t262[0]==34892)Q=A[0].subIFD[0];
else if(A[0].subIFD&&A[0].subIFD[1]&&A[0].subIFD[1].t33421)Q=A[0].subIFD[1];else if(A[0].subIFD&&A[0].subIFD[2]&&A[0].subIFD[2].t33421)Q=A[0].subIFD[2];
else if(A[3]&&A[3].t50648){var H=A[0].exifIFD,J=H.makerNote;Q=A[3];var b=J.t224[1],O=J.t224[2];Q.t256=[b];
Q.t257=[O];Q.t258=[16];Q.t259=[7];Q.t262=[32803];Q.t277=[1];Q.t33421=[2,2];var a=Q.t50656[0],e=N.raw.f8[a];
if(e==null)throw"e";Q.t33422=e}if(Q){UTIF.decodeImage(G,Q,A);for(var R in A[0])if((R[0]=="t"||R[0]=="e"||R[0]=="d")&&Q[R]==null)Q[R]=A[0][R];
Q.LC=A[0].t274?A[0].t274[0]:1;return[Q]}var P=1/256;for(var $=0;$<A.length;$++)if(A[$].t258&&A[$].t258[0]==16&&A[$].t277&&A[$].t277[0]==1){}else p=!1;
if(p){var z=0,Z=0,W=0;for(var $=0;$<A.length;$++){UTIF.decodeImage(G,A[$],A);var T=A[$].data;for(var i=0;
i<T.length;i+=2){var X=T[i+1]<<8|T[i];if(X>z)z=X;Z+=X;W++}}P=1/256*65535/(.5*z+.5*(2*Z/W))}var U=[];
for(var $=0;$<A.length;$++){var M=A[$],C=72;UTIF.decodeImage(G,M,A);var x=M.t282,L=M.t296;if(x!=null&&L!=null){C=x[0][0]/x[0][1];
if(L[0]==3)C=Math.round(C/2.54)}if(M.width==null)continue;var E=UTIF.toRGBA8(M,P).buffer,l=fg.KG(M);
U.push({NS:new f_(0,0,M.width,M.height),data:E,SV:C,ey:l})}return U};dt.c9.Af=function(G,m,A,Q){if(Q==null)Q=[!1];
var H={},J=G[0];if(J[3]!=null&&Q[0])H=fg.zw(J[3]);if(J[2]!=null){H.t282=H.t283=[[Math.round(J[2]),1]];
H.t296=[2]}return UTIF.encodeImage(J[0],m,A,H)};dt._L={};dt._L.cQ=!0;dt._L.uJ=function(G,m){bE.dm(G,m)};
dt._L.ahc=function(G,m,A,Q){if(Q==null)Q=[!1,!1,!1,!1];if(!Q[0])G.$s();var H=new iy,J=bE.MJ(G,H,Q);return[H.data.buffer,J]};
dt._L.Af=function(G,m,A,Q){var H=dt._L.ahc(G,m,A,Q),J=H[0],b=H[1];return J.byteLength==b?J:J.slice(0,b)};
dt.dN={};dt.dN.cQ=!0;dt.dN.uJ=function(G,m){var A=pako.inflate(new Uint8Array(G)),Q=V.n6(A,0),H=V.n6(A,2),J=4;
m.e=V.l(A,J);J+=4;m.n=V.l(A,J);J+=4;m.buffer=N.$(m.e*m.n*4);var b=V.n6(A,J);J+=2;J+=4;for(var O=0;O<b;
O++){var a=m.uA(),Z=0,D=1,t=2,K=3,d=0;m.g.push(a);var e=V.l(A,J);J+=4;var R=J,p=V.n6(A,R);R+=2;var P=V.Io(A,R,p);
R+=p;a.mw(P);var z=A[R];R++;if(z!=0&&z!=1)throw z;a.rect.x=V.Ys(A,R);R+=4;a.rect.y=V.Ys(A,R);R+=4;a.rect.e=V.l(A,R);
R+=4;a.rect.n=V.l(A,R);R+=4;if(Q>3){Z=V.Ys(A,R);R+=4}a.opacity=Math.round(255*A[R]/100);R++;var W=A[R];
R++;a.YQ(W!=0);a.w4="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[A[R]];
R++;var T=A[R];R++;if(T)a.add.lspf=1<<31;if(Q>3){var i=V.n6(A,R);R+=2;if(i!=0){var X=JSON.parse(V.Io(A,R,i));
R+=i;var U=X.text,M=X.textSettings,C=M.font,x=M.size,L=M.padding,E=parseInt(M.color.slice(1),16);a.add.lnsr="rend";
a.add.TySh=fC.lw(0,0);a.add.TySh.sC=new f_(0,0,100,100);var l=a.add.TySh.A=new ci,y=a.rect.e/2,Y=a.rect.n/2;
l.translate(-y,-Y);l.rotate(-Z*Math.PI/180);l.translate(y,Y);l.translate(a.rect.x+L,a.rect.y+L);var F=a.add.TySh.DQ;
fC.hR(F,1);fC.vL(F,[0,0,a.rect.e-L*2,a.rect.n]);fC.OA(F,0,U);var w=fC.ui(F,0,1);w.In.FontSize=x;w.In.FillColor={Type:1,Values:[1,(E>>>16&255)/255,(E>>>8&255)/255,(E>>>0&255)/255]};
if(M.bold)C+="-Bold";fC.fT(w,C);w.DF.Justification=["left","right","center"].indexOf(M.align);fC.QT(F,0,U.length,w)}}var j=V.l(A,R);
R+=4;if(j!=a.rect.Z()*4){for(var $=a.rect.e;$>a.rect.e/2;$--){var _=j/($*4);if(_==Math.round(_)){a.rect.e=$;
a.rect.n=_;break}}}a.buffer=N.$(a.rect.Z()*4);if(Q>3){D=0;t=1;K=2;d=3}for(var $=0;$<j;$+=4){a.buffer[$]=A[R+$+D];
a.buffer[$+1]=A[R+$+t];a.buffer[$+2]=A[R+$+K];a.buffer[$+3]=A[R+$+d]}R+=j;var o=V.l(A,R);R+=4;if(o==0&&Q>3){J+=e;
continue}var k=A[R];R++;var v=V.n6(A,R);R+=2;if(o!=0){a.D=new c.Mz;a.D.rect=a.rect.clone();a.D.channel=N.$(a.rect.Z());
for(var $=0;$<o;$+=4)a.D.channel[$>>>2]=A[R+$+1];R+=o}if(k!=0){var u=JSON.parse(hK.default);a.add.lmfx=u;
for(var $=0;$<hK.order.length;$++)u[hK.HK[$]]={t:"VlLs",v:[]};var B={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var $=0;$<k;$++){var S=V.n6(A,R),I=R+S+4,q=A.slice(R,I),hw=A[R+2];R+=3;var fY=B[hw+""],s=JSON.parse(hK.in[fY]);
u[hK.HK[fY]].v.push({t:"Objc",v:s});if(fY!=0){s.Md.v.BlnM=ib.hb("norm");s.Opct.v.val=A[R];R++;if(fY==9||fY==2){s.Dstn.v.val=A[R+1];
R+=2}else R+=2;s.blur.v.val=Math.round(A[R]*1.2);R++;if(fY==9||fY==2){s.uglg.v=!1;s.lagl.v.val=180-V.n6(A,R);
R+=2}s.Clr.v=N.X.N4({p:A[R+1],z:A[R+2],h:A[R+3]})}else{s.hglM.v.BlnM=s.sdwM.v.BlnM=ib.hb("norm");R+=2;
var hZ=A[R++],bG=A[R++];s.blur.v.val=Math.round(Math.sqrt(bG*hZ)*1.3);s.srgR.v.val=Math.round(100*hZ/bG);
s.uglg.v=!1;s.lagl.v.val=180-V.n6(A,R);R+=2;s.hglO.v.val=A[R++];s.hglC.v=N.X.N4({p:A[R+1],z:A[R+2],h:A[R+3]});
R+=4;s.sdwO.v.val=A[R++];s.sdwC.v=N.X.N4({p:A[R+1],z:A[R+2],h:A[R+3]});R+=4}R=I}}if(R-J<e){var aY=V.l(A,R),ae=0;
R+=4;R++;var p=V.n6(A,R);R+=2;var U=V.Io(A,R,p);R+=p;U=U.replace(/\r/g,"\n");var p=V.n6(A,R);R+=2;var C=V.Io(A,R,p);
R+=p;var x=V.n6(A,R);R+=2;var fj=a.rect.x,jg=a.rect.e;if(aY&4)ae=1;if(aY&2)ae=2;var iB=Math.round(x*.4);
if(ae==0||ae==2)jg+=iB;if(ae==1||ae==2){jg+=iB;fj-=iB}a.add.lnsr="rend";a.add.TySh=fC.lw(0,0);a.add.TySh.sC=new f_(0,0,100,100);
a.add.TySh.A=new ci(1,0,0,1,fj,a.rect.y+x*.25);var F=a.add.TySh.DQ;fC.hR(F,1);fC.vL(F,[0,0,jg,a.rect.n]);
fC.OA(F,0,U);var w=fC.ui(F,0,1);w.In.FontSize=x;w.In.FillColor={Type:1,Values:[1,A[R+1]/255,A[R+2]/255,A[R+3]/255]};
R+=4;if(A[R+5])C+="-Bold";if(A[R+6])C+="-Italic";fC.fT(w,C);w.DF.Justification=ae;R+=8;fC.QT(F,0,U.length,w)}J+=e}};
dt.vu={};dt.vu.cQ=!0;dt.vu.uJ=function(G,m){gp.dm(G,m)};dt.TB={};dt.TB.cQ=!0;dt.TB.uJ=function(G,m){am.dm(G,m)};
dt.Gx={};dt.Gx.cQ=!0;dt.Gx.uJ=function(G,m){ff.dm(G,m)};dt.yg={};dt.yg.cQ=!0;dt.yg.uJ=function(G,m){g6.dm(G,m)};
dt.GV={};dt.GV.cQ=!0;dt.GV.uJ=function(G,m){em.dm(G,m)};dt.SM={};dt.SM.cQ=!0;dt.SM.uJ=function(G,m){ja.dm(G,m)};
dt.h5={};dt.h5.cQ=!0;dt.h5.Af=function(G,m,A,Q,H){if(Q==null)Q=[!0,!1,!1,!1,!0,!0];var J=g4.sU(G,{Dx:Q[0],hidden:Q[1],ajz:Q[2],ar6:Q[3],names:Q[4],auM:Q[5],aiM:m,afW:A},H.O8);
return J};dt.h5.uJ=function(G,m,A){g4.dm(G,m,A)};dt.eh={};dt.eh.cQ=!0;dt.eh.uJ=function(G,m){var A=150,Q=new ci(1,0,0,-1,0,0);
Q.scale(A/72,A/72);m.SV=A;var H=new cE(m,Q,!0);FromPS.Parse(G,H)};dt.Tm={};dt.Tm.cQ=!0;dt.Tm.Af=function(G,m,A,Q,H){if(Q==null)Q=["",100,!1,!1,!1,0];
Q[6]=["jpg"];var J=new ToPDF;b0.sU(G,Q,J,H.O8,m,A);return J.buffer};dt.Tm.uJ=function(G,m,A){var Q=2;
while(!0){var H=Q*72,J=new ci(1,0,0,-1,0,0);J.scale(H/72,H/72);m.SV=H;var b=new cE(m,J,!0);FromPDF.Parse(G,b);
var O=Math.max(m.e,m.n);if(A&&O<Math.max(A[0],A[1])){m.g=[];var a=Q;while(O*(Q/a)<Math.max(A[0],A[1]))Q++}else break}};
dt.j3={};dt.j3.cQ=!0;dt.j3.uJ=function(G,m){var A=72,Q=new ci(1,0,0,1,0,0);Q.scale(A/72,A/72);m.SV=A;
var H=new cE(m,Q,!1);FromWMF.Parse(G,H)};dt.XP={};dt.XP.CD=!0;dt.XP.cQ=!0;dt.XP.Af=function(G,m,A,Q,H){if(Q==null)Q=["",100,!1,!1,!1,0];
Q[6]=[];var J=new ToEMF;b0.sU(G,Q,J,H.O8);return J.buffer};dt.XP.uJ=function(G,m){var A=72,Q=new ci(1,0,0,1,0,0);
Q.scale(A/72,A/72);m.SV=A;var H=new cE(m,Q,!1);FromEMF.Parse(G,H)};dt.di={};dt.di.cQ=!0;dt.di.uJ=function(G,m){return dz.dm(G,m)};
dt.QH={};dt.QH.uJ=function(G,m){var A=dW.dm(G),Q=new Uint8Array(G),H=0,J,b,O,a,e,R,p,P,z=0,Z=0,W=0,T=0,i=0;
for(var X=0;X<A.sub.length;X++){var U=A.sub[X],H=U.r;if(U.kl=="BMHD"){var M=[];for(var $=0;$<4;$++)M[$]=V.n6(Q,H+2*$);
H+=8;a=M[2];e=M[3];b=M[0];O=M[1];J=N.$(b*O*4);R=Q[H++];p=Q[H++];P=Q[H++]}else if(U.kl=="CMAP")z=H;else if(U.kl=="CAMG"){var C=V.l(Q,H);
Z=C&32768,W=C&4,T=C&2048;i=C&128}else if(U.kl=="BODY"){var x=b+15>>>4<<1,L=R+p,E=N.$(x*O*L),w,j,_;cF.w3(Q,H,U.size,E,0,E.length);
var y=R-2,Y=(1<<y)-1,F=Math.round(255/Y);for(var e=0;e<O;e++)for(var a=0;a<b;a++){var D=0;for(var t=0;
t<L;t++){var K=(e*L+t)*x*8+a,d=E[K>>>3]>>>7-(K&7)&1;D|=d<<t}var o=D>>>R,D=D&(1<<R)-1,$=e*b+a,k=$<<2;
if(z!=0){if(T!=0&&D>>>y!=0){var v=D>>>y,u=(D&Y)*F;if(v==1)_=u;else if(v==2)w=u;else if(v==3)j=u}else{var u=z+D*3;
w=Q[u+0];j=Q[u+1];_=Q[u+2]}}else{w=D>>>0&255;j=D>>>8&255;_=D>>>16&255}J[k+0]=w;J[k+1]=j;J[k+2]=_;J[k+3]=255}}}return[{NS:new f_(0,0,b,O),data:J.buffer}]};
dt.um={};dt.um.cQ=!1;dt.um.Af=function(G,m,A,Q){var H=G[0][4],J=new Uint8Array(G[0][0]),b=2,O=H?!0:!1,a=O?4:3,e=new Uint8Array(m*A*a);
for(var R=0;R<A;R++)for(var p=0;p<m;p++){var P=R*m+p<<2,z=((A-R-1)*m+p)*a;e[z]=J[P+2];e[z+1]=J[P+1];
e[z+2]=J[P+0];if(O)e[z+3]=H[0][R*m+p]}if(!0){var Z=e.length,W=0,T=new Uint8Array(Z*2),i=0,X=0,U=m*a;
while(X<Z){var M=X,C=0,x=U*(Math.floor(X/U)+1);while(M<x&&C<128){var L=!0;for(var $=0;$<a;$++)L=L&e[X+$]==e[M+$];
if(!L)break;M+=a;C++}if(C==1){var E=1;while(E<128&&X+(E+1)*a<x){var L=!0,l=X+E*a;for(var $=0;$<a;$++)L=L&e[l+$]==e[l+a+$];
if(L)break;E++}T[i++]=E-1;for(var y=0;y<E;y++)for(var $=0;$<a;$++)T[i++]=e[X++]}else{T[i++]=127+C;for(var $=0;
$<a;$++)T[i+$]=e[X+$];i+=a;X+=a*C;W+=C}}e=T.slice(0,i);b+=8}var Y=new Uint8Array(18+e.length+26);Y[2]=b;
V.y5(Y,12,m);V.y5(Y,14,A);Y[16]=a*8;Y[17]=a==4?8:0;Y.set(e,18);V.aw(Y,18+e.length+8,"TRUEVISION-XFILE.");
return Y.buffer};dt.um.uJ=function(G){var m=new Uint8Array(G),A=0,Q=m[0],H=m[1],J=m[2],b=m[4]*256+m[3],O=m[6]*256+m[5],a=m[7],e=m[9]*256+m[8],R=m[11]*256+m[10],p=m[13]*256+m[12],P=m[15]*256+m[14],z=m[16],Z=m[17],W=Z>>>4,T=V.uB(m,18,Q),i=N.$(p*P*4),A=18+Q+(O*a>>>3),X=new Uint8Array(m.buffer,A);
if(J>3){var U=0,M=m,C=new Uint8Array(p*P*z>>>3),x=A,L=0,E=m.length,l=z>>>3;while(L<C.length){var jw=M[x];
x++;if(jw<128)for(var $=0;$<jw+1;$++){for(var y=0;y<l;y++){C[L]=M[x];L++;x++}}else{for(var $=0;$<jw-127;
$++){for(var y=0;y<l;y++){C[L]=M[x+y];L++}}x+=l}}J-=8;X=C;A=x}else A+=p*P*z>>>3;var Y=new Uint8Array(4),F=dt.um.amE;
for(var w=0;w<P;w++)for(var j=0;j<p;j++){var _=(W&2)==0?(P-w-1)*p+j:w*p+j,D=w*p+j,t,K,d,o=255,k=_*z>>>3;
if(J==1){var v=0;if(z==8)v=X[k];else throw"e";F(m,18+Q+b+(v*a>>>3),a,Y);t=Y[0];K=Y[1];d=Y[2];o=Y[3]}else if(J==2){F(X,k,z,Y);
t=Y[0];K=Y[1];d=Y[2];o=Y[3]}else if(J==3){if(z==8)t=K=d=X[k];else throw"e"}var u=D*4;i[u]=t;i[u+1]=K;
i[u+2]=d;i[u+3]=o}var Y={NS:new f_(0,0,p,P),data:i.buffer,Yz:T};if(N.VG(i)){var B=N.$(p*P);N.gF(i,B,3);
N.w8(i,4278190080,16777215);Y.Hv=[B]}return[Y]};dt.um.amE=function(G,m,A,Q){var H,J,b,O=255;if(A==24||A==32){b=G[m];
J=G[m+1];H=G[m+2];if(A==32)O=G[m+3]}else if(A==16){var a=G[m+1]<<8|G[m+0];H=a>>>10&31;J=a>>>5&31;b=a>>>0&31;
H=Math.round(H*(255/31));J=Math.round(J*(255/31));b=Math.round(b*(255/31))}else throw"e";Q[0]=H;Q[1]=J;
Q[2]=b;Q[3]=O};dt.adp=function(){var G,m=[],A=!1;function Q(b,O,a,e){G=a;m.push(b,e);H()}function H(){if(A||m.length==0)return;
A=!0;dt.ata(m.shift(),"image/avif",J)}function J(b){G(null,[b],m.shift());A=!1;H()}return{cQ:!1,Xm:!0,uJ:Q}}();
dt.afQ=function(){var G,m=[],A=!1,Q,H,J,b,O,a;function e(z,Z,W,T){G=W;m.push(z,T);R()}function R(){if(A||m.length==0)return;
A=!0;Q=document.createElement("canvas");H=Q.getContext("2d");J=document.createElement("video");var z="data:"+"video/mp4"+";base64,"+dt.D5(m.shift());
J.src=z;J.muted=!0;J.currentTime=0;J.addEventListener("canplay",p,!1);J.addEventListener("timeupdate",P,!1)}function p(z){J.removeEventListener("canplay",p);
b=Q.width=J.videoWidth;O=Q.height=J.videoHeight;a=[];J.play()}function P(z){var Z=10;H.drawImage(J,0,0);
a.push({Yz:"_a_"+a.length+","+Math.round(1e3/Z),NS:new f_(0,0,b,O),data:H.getImageData(0,0,b,O).data.buffer});
var W=J.currentTime+1/Z;if(W<J.duration)J.currentTime=W;else{G(null,a,m.shift());J.removeEventListener("timeupdate",P);
A=!1;R();a=null}}return{cQ:!1,Xm:!0,uJ:e}}();dt.wI={};dt.wI.uJ=function(G){var m=new Uint8Array(G),A=0,Q=112,H=42,J=V.Wj,R;
A+=8;var b=m[A];A++;if(b!=H)throw"e";var O=J(m,A);A+=4;var a=V.Dm(m,A,O);A+=O*2;var e=[];while(A<m.length){R=J(m,A);
A+=4;if(R!=Q)throw R;A+=4;R=m[A];A++;if(R!=H)throw R;var p=J(m,A);A+=4;var P=m[A];A++;if(P!=H){A-=5;
p=J(m,A);A+=8;R=m[A];A++;if(R!=H)throw R}var z=J(m,A)*2;A+=4;if(p>0)e.push(A+z);A+=z+p}var Z=new DOMParser,W=Z.parseFromString(a,"image/svg+xml").firstChild.firstChild,T=[];
dt.wI.ay(W,m,e,T);return T};dt.wI.ay=function(G,m,A,Q){var H=G.firstChild.firstChild;if(H.tagName=="Image"){var J=H.getElementsByTagName("ImageDescription")[0],b=J.children[0].children,O=J.children[1].children,a=A.shift(),e=[];
for(var $=0;$<O.length;$++)e.push(parseInt(O[$].getAttribute("NumberOfElements")));while(e.length>3)e[2]*=e.pop();
var R=b.length,p=e[0],P=e[1],z=e[2],Z=parseInt(O[0].getAttribute("BytesInc"));for(var W=0;W<z;W++){var T=N.$(p*P*4);
N.w8(T,4278190080);for(var i=0;i<R;i++){var X=N.$(p*P);if(Z==1)for(var U=0;U<X.length;U++)X[U]=m[a+U];
else if(Z==2)for(var U=0;U<X.length;U++)X[U]=Math.min(255,(m[a+U*2+1]<<8|m[a+U*2])>>>2);else throw Z;
if(i!=3)N.I5(X,T,i);if(R==1){N.I5(X,T,1);N.I5(X,T,2)}a+=p*P*Z}Q.push({NS:new f_(0,0,p,P),data:T.buffer})}}else{var M=G.children,C=0;
while(C<M.length&&M[C].tagName!="Children")C++;if(C==M.length)throw"e";M=M[C].children;for(var x=0;x<M.length;
x++)dt.wI.ay(M[x],m,A,Q)}};dt.t8={};dt.t8.uJ=function(G){var m=new Uint8Array(G),A=0,Q={},R=1e9;for(var $=0;
$<306;$++){var H=V.uB(m,A,8).trim(),J=V.uB(m,A+9,71).split("/")[0].trim();Q[H]=J;A+=80;if(H=="END"){A=Math.ceil(A/2880)*2880;
break}}var b=parseInt(Q.NAXIS1),O=parseInt(Q.NAXIS2),a=b*O,e=parseInt(Q.BITPIX),p=-1e9,P=new Float32Array(a),z=new Float32Array(G,A,G.byteLength-A>>>2);
for(var $=0;$<a;$++){var Z=$<<2,W=$<<1;if(e==-32){var T=m[A+Z+0];m[A+Z+0]=m[A+Z+3];m[A+Z+3]=T;var T=m[A+Z+1];
m[A+Z+1]=m[A+Z+2];m[A+Z+2]=T;P[$]=z[$]}else if(e==16){P[$]=V.cZ(m,A+W)}else throw e;var i=P[$];if(i<R)R=i;
if(i>p)p=i}var X=N.$(a*4),U=1/p;for(var M=0;M<O;M++)for(var C=0;C<b;C++){var $=M*b+C,x=(O-M-1)*b+C,Z=x<<2,i=P[$]*U;
X[Z]=X[Z+1]=X[Z+2]=255*i;X[Z+3]=255}return[{NS:new f_(0,0,b,O),data:X,Yz:Q.OBJECT}]};dt.kP={};dt.kP.uJ=function(G){var m=new Uint8Array(G),A=16,Q=V.uB(m,A,4),J=32,i=0,X=0,U=!1,K;
A+=4;var H=V.uB(m,A,8);A+=8;while(m[A+J-1]==0)J--;var b=V.uB(m,A,J);A+=32;var O=V.uB(m,A,4);A+=4;A+=20;
var a=V.l(m,A);A+=4;var e=V.l(m,A);A+=4;var R=V.l(m,A);A+=4;var p=V.l(m,A);A+=4;var P=V.l(m,A);A+=4;
var z=V.l(m,A);A+=4;var Z="FujiFilm "+b,W=[0,1,1,2];if(Z=="FujiFilm X10"){Z="FujiFilm FinePix X10";W=[2,1,1,0]}var T={t271:["FujiFilm"],t272:[Z],t277:[1],t33421:[2,2],t33422:W,LC:1};
A=R;var M=[],C=V.n6,x=V.l(m,A);A+=4;for(var $=0;$<x;$++){var L=C(m,A);A+=2;var E=C(m,A);A+=2;if(L==256){X=C(m,A);
i=C(m,A+2)}else if(L==272){M=[C(m,A),C(m,A+2)]}else if(L==273){M.push(C(m,A),C(m,A+2))}else if(L==304){U=!(m[A]>>>7)}else if(L==305){var l=Math.round(Math.sqrt(E)),y=[];
for(var Y=0;Y<E;Y++)y.push(m[A+Y]);y.reverse();T.t33421=[l,l];T.t33422=y}else if(L==12272){var F=C(m,A),w=C(m,A+2),j=C(m,A+6);
T.t50728=[F/w,1,F/j]}A+=E}var _=i<X,D=m.slice(P,P+z),t=Math.round(z*8/(i*X));if(D[0]==73&&D[1]==73&&D[2]==42){K=UTIF.decode(D.buffer)[0].fujiIFD;
t=K.t61443[0];var d=K.t61454,o=K.t61450;if(o)T.t50714=o;if(d)T.t50728=[d[0]/d[1],1,d[0]/d[2]];var k=K.t61447[0];
D=D.slice(k,k+K.t61448[0])}var z=D.length,v=z*8<i*X*t;if(v){console.log("compressed");var u=T.t33422,B=~~Math.sqrt(u.length),S=[];
for(var $=0;$<B;$++)S[$]=u.slice($*B,$*B+B);D=new Uint8Array(UTIF._decompressRAF(D,S).buffer);z=D.length}function I(hZ,bG,aY){aY=aY<<8-(bG&7);
var fj=bG>>>3;hZ[fj]|=aY>>>16;hZ[fj+1]|=aY>>>8;hZ[fj+2]|=aY}var q=z*8/(i*X);if(q==16)for(var $=0;$<z;
$+=2){var hw=D[$];D[$]=D[$+1];D[$+1]=hw}else if(q==14){for(var $=0;$<z;$+=4){var hw=D[$];D[$]=D[$+3];
D[$+3]=hw;hw=D[$+1];D[$+1]=D[$+2];D[$+2]=hw}}else if(q==12)for(var $=0;$<z;$+=3){var fY=D[$+2]<<16|D[$+1]<<8|D[$+0];
fY=fY>>>12|(fY&4095)<<12;D[$]=fY>>>16&255;D[$+1]=fY>>>8&255;D[$+2]=fY&255}if(_)D=dt.kP.alS(D,i,X);var s=_?2:1;
i*=s;T.t256=[i];T.t257=[X];T.t258=[t];T.t50719=[M[1],M[0]*s];T.t50720=[M[3],M[2]*s];T.width=i;T.height=X;
T.data=new Uint8Array(D.buffer);return[T]};dt.kP.alS=function(G,m,A){G=new Uint16Array(G.buffer);var Q=new Uint16Array(m*A*2);
for(var H=0;H<A;H+=2)for(var J=0;J<m;J++){var b=H*m+J,O=b*2,a=G[b],e=G[b+m];Q[O+1]=Q[O+2*m]=e;if(((H>>>1)+J&1)==0){Q[O]=a;
Q[O+2*m+1]=G[b+1]}else{Q[O]=G[b-1];Q[O+2*m+1]=a}}return Q};dt.uI={};dt.uI.CD=!0;dt.uI.Af=function(G,m,A,Q){var H=new Uint8Array(G[0][0]),J=m*A,b=[1,3,4][Q[0]],O=8+8*Q[1],a=Q[2];
if(b==1){var e=new Uint8Array(m*A);N.gF(H,e,0);H=e}if(b==3){var e=new Uint8Array(m*A*3);for(var $=0;
$<J;$++){var R=$*4,p=$*3;e[p]=H[R];e[p+1]=H[R+1];e[p+2]=H[R+2]}H=e}if(O==16){var P=H.length,e=new Uint8Array(P*2);
for(var $=0;$<P;$++){var z=Math.round(H[$]*(65535/255));e[$*2+a]=z>>>8;e[$*2+1-a]=z&255}H=e}return H.buffer};
dt.QP={};dt.QP.uJ=function(G,m){function A(a){return~~(.5+N.J5(Math.max(0,Math.min(1,a)))*255)}var Q=EXRLoader.parse(G),H=Q.width,J=Q.height,b=N.$(H*J*4);
for(var O=0;O<J;O++)for(var a=0;a<H;a++){var $=(O*H+a)*4,e=((J-O-1)*H+a)*4;b[$]=A(Q.data[e+0]);b[$+1]=A(Q.data[e+1]);
b[$+2]=A(Q.data[e+2]);b[$+3]=A(Q.data[e+3])}return[{NS:new f_(0,0,H,J),data:b.buffer}]};dt.bb={};dt.bb.CD=!0;
dt.bb.cQ=!0;dt.bb.Af=function(G,m,A,Q,H){Q=["",100,!1,!1,!1,0];Q[6]=["jpg"];var J=new ToDXF;b0.sU(G,Q,J,H.O8);
return J.buffer};dt.bb.uJ=function(G,m){var A=72,Q=new ci(1,0,0,1,0,0);Q.scale(A/72,A/72);m.SV=A;var H=new cE(m,Q,!1);
FromDXF.Parse(G,H)};dt.Yx={};dt.Yx.uJ=function(){var G=V.cZ,m=V.Wj,A=V.uB,Q;function H(b,O,a,e,R){var p=m(b,a),P=m(b,a+4),z=m(b,a+8),Z=G(b,a+12),W=G(b,a+14);
a+=16;var T={};for(var $=0;$<Z+W;$++){var i=m(b,a),X=m(b,a+4),U,M;if(i>>>31==1){i=i&16777215}if($<Z)U=V.Dm(b,O+i+2,G(b,O+i));
else U="id"+i;var C=e.slice(0);C.push(U);if(X>>>31==1){X=X&268435455;M=H(b,O,O+X,C,R)}else{var x=m(b,O+X),L=m(b,O+X+4),E=m(b,O+X+8),l=m(b,O+X+12);
if(l!=0)throw"e";if(x<R[0]||x>R[0]+R[1])throw"e";var y=R[2]+x-R[0];M=b.slice(y,y+L);var Y=dt.mG(M.buffer);
if(Y&&["bmp","png","ico"].indexOf(Y)!=-1){var F=dt.aW(Y);if(!F.cQ){var w=null;try{w=F.uJ(M.buffer)}catch(f5){}if(w){w[0].Yz=C[1];
Q.push(w[0])}}}else if(Y)console.log(Y)}T[U]=M;a+=8}return T}function J(b){Q=[];var O=new Uint8Array(b),a=0,e=G(O,a);
a+=2;a+=58;var R=m(O,a);a+=4;a=R;var p=A(O,a,4);a+=4;var P=G(O,a);a+=2;var z=G(O,a);a+=2;var Z=m(O,a);
a+=4;var W=m(O,a);a+=4;var T=m(O,a);a+=4;var i=G(O,a);a+=2;var X=G(O,a);a+=2;a+=i;var U={};for(var $=0;
$<z;$++){var M=a;while(O[M]!=0)M++;var C=A(O,a,M-a),x=m(O,a+8),L=m(O,a+12),E=m(O,a+16),l=m(O,a+20),y=m(O,a+24),Y=m(O,a+28),F=G(O,a+32),w=G(O,a+34),X=m(O,a+36);
U[C]=[L,x,l,E,X];if(y+Y!=0)throw"e";a+=40}for(var j in U){var _=U[j];a=_[2];if(j==".rsrc"){var D=H(O,a,a,[],_),t="id134"}}return Q}return J}();
dt.cN={};dt.cN.cQ=!0;dt.cN.uJ=function(G,m){fc.dm(G,m)};(function(){var G=dt.YM.get("wasm/zstd").buffer;
WebAssembly.instantiate(G).then(function(m){var A=m.instance.exports;dt.cN.acP=A})}());dt.cN.ko=function(G,m){var A=dt.cN.acP,Q=G.length,H=A.memory,J=2*Q+1e6,a=8;
dt.MQ(A,J);var b=new Uint8Array(H.buffer),O=A.malloc(Q);b.set(G,O);while(!0){var e=m==null?Q*a:m;dt.MQ(A,J+e);
var R=A.malloc(e),p=A.ZSTD_decompress(R,e,O,Q);if(p==-70){A.free(R);a+=a>>>1;if(m!=null)throw"error"}else{b=new Uint8Array(H.buffer);
G=b.slice(R,R+p);A.free(R);break}}A.free(O);return G};dt.Y3={};dt.Y3.cQ=!0;dt.Y3.uJ=function(){var G=0,m=1,A=2,Q=3,H=4,J=5,b=6,O=7,a=1,e=2,R=7,p=8,P=9,z,Z,W,T,i;
function X(){var jw=V.qA(z,Z);Z+=4;return jw}function U(){var K=0,d=0;for(var $=0;$<5;$++){var o=z[Z++];
K+=(o&127)<<d;d+=7;if((o&128)==0)break}return K}function M(){var K=U(),d=V.Io(z,Z,K);Z+=K;return d}function C(){return{typeName:M(),ar_:X()}}function x(){var K=X(),d=M(),o=[],k=X();
for(var $=0;$<k;$++)o.push([M()]);return{id:K,Ds:d,a13:o}}function L(K){var d=K.a13,o=[];for(var $=0;
$<d.length;$++)d[$].push(z[Z++]);for(var $=0;$<d.length;$++){var k=d[$][1],v;d[$].push(E(k))}}function E(K){var d;
if(K==G)d=z[Z++];else if(K==Q)d=M();else if(K==H)d=C();else if(K==m||K==A||K==b||K==J){}else throw K;
return d}function l(K,d,o){var k;if(K==G){if(d==a)k=z[Z++]==1;else if(d==e){k=z[Z++]}else if(d==p)k=X();
else if(d==P){k=X();X()}else throw d}else if(K==Q){k=w(o+1)}else if(K==H){k=w(o+1)}else if(K==J){k=w(o+1)}else if(K==m){k=w(o+1)}else if(K==b){k=w(o+1)}else throw K;
return k}function y(K,d){var o=W["c"+K],k=o.a13,v={_class:o.Ds};for(var $=0;$<k.length;$++){var u=k[$],B=u[1],S=u[2],I=l(B,S,d),q=u[0];
v[q]=I}return v}function Y(K,d,o,k){var v=[];for(var $=0;$<K;$++){var u=l(d,o,k);if(u.sH&&u.sH=="null_count"){var B=u.ok;
for(var S=0;S<B;S++)v.push(null);$+=B-1}else v.push(u)}return v}function F(){return[X(),X()]}function w(K){if(K==null)throw"e";
var d=null,o=z[Z],k=null;Z++;if(o==0){var v=X(),u=X(),B=X(),S=X();d=[v,u,B,S]}else if(o==1){k=X();var I=X();
d=y(I,K)}else if(o==4){var q=x();k=q.id;L(q);W["c"+q.id]=q;d=y(q.id,K)}else if(o==5){var q=x();k=q.id;
L(q);var hw=X();W["c"+q.id]=q;d=y(q.id,K)}else if(o==6){k=X();var fY=M();d=fY}else if(o==7){k=X();var s=z[Z++];
if(s!=0)throw s;var hZ=X();if(hZ!=1)throw hZ;var bG=X(),aY=z[Z++],fj=E(aY);d=Y(bG,aY,fj,K)}else if(o==9){var jg=X();
d={sH:"ref",ok:jg};i["o"+jg]=!0}else if(o==10){d={sH:"null_count",ok:1}}else if(o==11){d={sH:"end"}}else if(o==12){var hw=X(),ae=M()}else if(o==13){var iB=z[Z++];
d={sH:"null_count",ok:iB}}else if(o==16){var eg=F();k=eg[0];d=Y(eg[1],H,null,K)}else if(o==17){var eg=F();
k=eg[0];d=Y(eg[1],m,null,K)}else throw"e";if(k!=null&&k>0){if(T["o"+k]!=null)throw"e";T["o"+k]=d}return d}function j(K,T){if(K instanceof Array){for(var $=0;
$<K.length;$++)K[$]=_(K[$],T)}else if(K instanceof Object){for(var d in K)K[d]=_(K[d],T)}}function _(K,T){if(K&&K.sH&&K.sH=="ref")return T["o"+K.ok];
else return K}function D(K,d,o){z=new Uint8Array(K);Z=0;W={};T={};i={};var k=V.uB(z,0,4);if(k!="PDN3")throw k;
Z+=4;var v=V.cZ(z,Z)+z[Z+2]*256*256;Z+=3;var u=V.uB(z,Z,v);Z+=v;Z+=2;while(!0){var B=w(0);if(B&&B.sH&&B.sH=="end")break}for(var S in i)if(T[S]==null)throw S;
for(var S in T)j(T[S],T);var I=T.o1;console.log(I);d.e=I.width;d.n=I.height;d.buffer=N.$(d.e*d.n*4);
var q=I.layers["ArrayList+_items"];for(var $=0;$<q.length;$++){var hw=q[$];if(hw==null)continue;console.log(hw);
var fY=hw["Layer+width"],s=hw["Layer+height"],hZ=hw["Layer+properties"],bG=hw.properties,aY=bG.blendOp._class.split("+").pop();
aY=aY.slice(0,aY.length-7);var fj={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[aY],jg=d.uA();
jg.mw(hZ.name);jg.opacity=hZ.opacity;jg.YQ(hZ.visible);jg.w4=fj;var ae=1<<16,iB=Math.ceil(fY*s/ae);jg.rect=new f_(0,0,fY,s);
jg.buffer=N.$(fY*s*4);var eg=jg.buffer;Z+=5;for(var dM=0;dM<iB;dM++){var fK=t();eg.set(fK[1],fK[0]*ae*4)}for(var aQ=0;
aQ<eg.length;aQ+=4){var cQ=eg[aQ+0];eg[aQ+0]=eg[aQ+2];eg[aQ+2]=cQ}d.g.push(jg)}}function t(){var K=V.l(z,Z);
Z+=4;var d=V.l(z,Z);Z+=4;var o=pako.inflateRaw(z.slice(Z+10));Z+=d;return[K,o]}return D}();var h={};
h.wq=!1;h.Ho=!1;h.nM=!1;h.O=document.createElement("canvas");h.JR=null;h.gO=null;h.Fa=0;(function(){var G={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},m;
if(!m)m=h.O.getContext("webgl",G);if(!m)m=h.O.getContext("experimental-webgl",G);if(m){h.wq=!0;h.Ho=!0;
h.JR=m;h.gO=m.createFramebuffer();m.bindFramebuffer(m.FRAMEBUFFER,h.gO);m.disable(m.BLEND);m.disable(m.DEPTH_TEST);
var A=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,A);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW);
m.enableVertexAttribArray(0);m.vertexAttribPointer(0,2,m.FLOAT,!1,0,0)}}());h.amh=function(G){G=G.replace(/\s\s+/g," ");
G=G.replace(/; /g,";");G=G.replace(/} /g,"}");G=G.replace(/ }/g,"}");G=G.replace(/{ /g,"{");G=G.replace(/ {/g,"{");
G=G.replace(/= /g,"=");G=G.replace(/ =/g,"=");G=G.replace(/\| /g,"|");G=G.replace(/ \|/g,"|");return G};
h.amq=function(G){var m=h.JR;if(G>m.getParameter(m.MAX_TEXTURE_SIZE)){h.wq=!1;alert("Disabling WebGL")}};
h._7=function(G,m){return new Float32Array([(G.x-m.x)/m.e,(G.y-m.y)/m.n,G.e/m.e,G.n/m.n])};h.t7=function(){return this.O};
h.Hj=function(G,m){var A=h.JR;A.bindFramebuffer(A.FRAMEBUFFER,h.gO);A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,G.Vj,0);
A.viewport(0,0,G.e,G.n);if(m){A.enable(A.SCISSOR_TEST);A.scissor(m.x,m.y,m.e,m.n)}else A.disable(A.SCISSOR_TEST)};
h.KM=function(G,m,A){if(A)throw"error";var Q=h.JR;Q.disable(Q.SCISSOR_TEST);Q.bindFramebuffer(Q.FRAMEBUFFER,null);
Q.viewport(0,0,G,m);if(A){Q.enable(Q.SCISSOR_TEST);Q.scissor(A.x,A.y,Math.round(A.e),Math.round(A.n))}else Q.disable(Q.SCISSOR_TEST)};
h.clear=function(){var G=h.JR;G.clearColor(0,0,0,0);G.clear(G.COLOR_BUFFER_BIT)};h.Qh=function(G,m){if(m==null)m=0;
var A=(m>>>0&255)==0,Q=(m>>>8&255)==0,H=(m>>>16&255)==0,J=(m>>>24&255)==0,b=(G>>>0&255)*(1/255),O=(G>>>8&255)*(1/255),a=(G>>>16&255)*(1/255),e=(G>>>24&255)*(1/255),R=h.JR;
R.colorMask(A,Q,H,J);R.clearColor(b,O,a,e);R.clear(R.COLOR_BUFFER_BIT);R.colorMask(!0,!0,!0,!0)};h.Tk=function(G,m,A,Q,H){var J=m.KB(Q);
if(H)J=J.KB(H);if(J.My())return;var b=h.JR;h.Hj(G);b.bindTexture(b.TEXTURE_2D,A.Vj);b.copyTexSubImage2D(b.TEXTURE_2D,0,J.x-Q.x,J.y-Q.y,J.x-m.x,J.y-m.y,J.e,J.n)};
h.NL=function($,G,m){var A=h.mj[$];if(A==null||A.e!=G||A.n!=m){if(A)A.delete();A=new h.NI(G,m)}h.mj[$]=A;
return A};h.mj=[];h.Tc=function(){this.iU=null;this.NW=null};h.Tc.wE=null;h.Tc.prototype.lf=function(G){if(this.NW)return;
this.NW={};var m=h.JR,A=this.iU,Q=this.NW;for(var $=0;$<G.length;$++){var H=G[$];Q[H]=m.getUniformLocation(A,H)}};
h.Tc.prototype.FL=function(){};h.Tc.prototype.T2=function(G){var m=h.JR;for(var $=0;$<G.length;$+=2){m.uniform1i(G[$],$>>>1);
m.activeTexture(m["TEXTURE"+($>>>1)]);m.bindTexture(m.TEXTURE_2D,G[$+1])}m.activeTexture(m.TEXTURE0)};
h.Tc.prototype.VF=function(G,m){var A=h.JR,Q=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(Q,G);A.compileShader(Q);
if(!A.getShaderParameter(Q,A.COMPILE_STATUS))console.log(A.getShaderInfoLog(Q));var H=A.createShader(A.VERTEX_SHADER);
A.shaderSource(H,m);A.compileShader(H);if(!A.getShaderParameter(H,A.COMPILE_STATUS))console.log(A.getShaderInfoLog(H));
var J=A.createProgram();A.attachShader(J,H);A.attachShader(J,Q);A.linkProgram(J);if(!A.getProgramParameter(J,A.LINK_STATUS))console.log("Could not initialise shaders");
this.iU=J};h.Tc.prototype.NP=function(){if(h.Tc.wE!=this){h.JR.useProgram(this.iU);h.Tc.wE=this}};h.CU=function(G,m){h.lu++;
h.Fa+=G*m;if(h.nM)console.log("GL.Channels instances: "+h.lu+", memory: "+h.Fa);var A=h.JR;this.e=G;
this.n=m;this.Vj=A.createTexture();this.Pf=null;this.R$(this.Vj,G,m)};h.CU.prototype.R$=function(G,m,A){var Q=h.JR;
Q.bindTexture(Q.TEXTURE_2D,G);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.NEAREST);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.NEAREST);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE);
Q.texImage2D(Q.TEXTURE_2D,0,Q.ALPHA,m,A,0,Q.ALPHA,Q.UNSIGNED_BYTE,null)};h.CU.prototype.set=function(G){var m=h.JR;
m.bindTexture(m.TEXTURE_2D,this.Vj);m.pixelStorei(m.UNPACK_ALIGNMENT,1);m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.e,this.n,0,m.ALPHA,m.UNSIGNED_BYTE,G);
m.pixelStorei(m.UNPACK_ALIGNMENT,4)};h.CU.prototype.delete=function(){var G=h.JR;if(this.Vj){G.deleteTexture(this.Vj);
h.lu--;h.Fa-=this.e*this.n}if(h.nM)if(h.nM)console.log("GL.Channels instances: "+h.lu+", memory: "+h.Fa*4)};
h.lu=0;h.NI=function(G,m,A){if(A==null)A=!1;h.lu++;h.Fa+=G*m*4;if(h.nM)console.log("GL.Channels instances: "+h.lu+", memory: "+h.Fa);
var Q=h.JR;this.an9=A;this.e=G;this.n=m;this.Vj=Q.createTexture();this.Pf=null;this.R$(this.Vj,G,m)};
h.NI.prototype.set=function(G,m){var A=h.JR;A.disable(A.SCISSOR_TEST);A.bindTexture(A.TEXTURE_2D,this.Vj);
if(G==null||G instanceof Uint8Array){var Q=this.e*this.n;if(m==null||m.Z()*10>Q)A.texImage2D(A.TEXTURE_2D,0,A.RGBA,this.e,this.n,0,A.RGBA,A.UNSIGNED_BYTE,G);
else{var H=N.$(m.Z()*4);N.Pr(G,new f_(0,0,this.e,this.n),H,m);A.texSubImage2D(A.TEXTURE_2D,0,m.x,m.y,m.e,m.n,A.RGBA,A.UNSIGNED_BYTE,H)}}else A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,G)};
h.NI.prototype.get=function(G){var m=h.JR;h.Hj(this);m.readPixels(0,0,this.e,this.n,m.RGBA,m.UNSIGNED_BYTE,G)};
h.NI.prototype.vK=function(G){if(G.My())return;var m=h.JR;if(this.Pf==null){this.Pf=m.createTexture();
this.R$(this.Pf,this.e,this.n);h.lu++;h.Fa+=this.e*this.n*4}m.bindFramebuffer(m.FRAMEBUFFER,h.gO);m.bindTexture(m.TEXTURE_2D,this.Pf);
if(G){var A=Math.max(G.x,0),Q=Math.max(G.y,0);m.copyTexSubImage2D(m.TEXTURE_2D,0,A,Q,A,Q,G.e,G.n)}else m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,this.e,this.n,0)};
h.NI.prototype.R$=function(G,m,A){var Q=h.JR;Q.bindTexture(Q.TEXTURE_2D,G);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,this.an9?Q.LINEAR:Q.NEAREST);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.NEAREST);Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE);
Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE);Q.texImage2D(Q.TEXTURE_2D,0,Q.RGBA,m,A,0,Q.RGBA,Q.UNSIGNED_BYTE,null)};
h.NI.prototype.delete=function(){var G=h.JR;if(this.Vj){G.deleteTexture(this.Vj);h.lu--;h.Fa-=this.e*this.n*4}if(this.Pf){G.deleteTexture(this.Pf);
h.lu--;h.Fa-=this.e*this.n*4}if(h.nM)if(h.nM)console.log("GL.Channels instances: "+h.lu+", memory: "+h.Fa)};
h.NI.prototype.clone=function(){var G=h.JR,m=new h.NI(this.e,this.n);h.Hj(this);G.bindTexture(G.TEXTURE_2D,m.Vj);
G.copyTexImage2D(G.TEXTURE_2D,0,G.RGBA,0,0,this.e,this.n,0);return m};h.Aa={asz:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",apx:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",fI:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Cl:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",SA:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Q9:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",fb:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",z_:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a2n:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",LZ:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",agd:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",hE:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",k7:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",jI:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",a9:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",z9:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",ID:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",JY:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",Nw:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",apQ:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",anl:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",hU:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}"};
h.a={};h.a.dJ={};h.a.N1=null;h.a.Tt=null;h.a.Pt=null;h.a.Dk=function(G,m,A,Q,H,J,b,O){if(O==null)O=en.El();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(G)==-1){b=b*O.fill;O.fill=1;O.style=!1}var a=G+(O.Eu?"1":"");
if(h.a.dJ[a]==null)h.a.dJ[a]=new h.a.wL(G,O.Eu!=null);var e=h.a.dJ[a],R=A.KB(H).KB(J);R.offset(-H.x,-H.y);
if(R.My())return;var p=h.JR;h.Hj(Q,R);Q.vK(R);e.NP();e.FL(m.Vj,Q.Pf,h._7(A,H),b,O.fill,O.style?1:0,O.BK?1:0,O.Eu?new Float32Array(O.Eu):null);
p.drawArrays(p.TRIANGLES,0,6)};h.a.aR=function(G,m,A,Q,H,J,b,O,a,e,R){if(h.a.N1==null)h.a.N1=new h.a.gp(!0,!0);
if(h.a.Tt==null)h.a.Tt=new h.a.gp(!0,!1);if(h.a.Pt==null)h.a.Pt=new h.a.gp(!1,!0);var p=e?1:0,P=G?H?h.a.N1:h.a.Tt:h.a.Pt,z=new Float32Array(R?[R[0],R[1],R[2],1]:[1,1,1,1]),Z=m?m.KB(Q).KB(O):Q.KB(O);
if(Z.My())return;Z.offset(-Q.x,-Q.y);var W=h.JR;h.Hj(A,Z);A.vK(Z);P.NP();if(G==null)P.FL(null,A.Pf,H.Vj,h._7(Q,Q),h._7(J,Q),b/255,a,p,z);
else if(H)P.FL(G.Vj,A.Pf,H.Vj,h._7(m,Q),h._7(J,Q),b/255,a,p,z);else P.FL(G.Vj,A.Pf,null,h._7(m,Q),null,b/255,a,p,z);
W.drawArrays(W.TRIANGLES,0,6)};h.a.aoh=function(G,m,A){if(h.a.a6m==null)h.a.a6m=new h.a.Xo;var Q=h.a.a6m,H=new f_(0,0,G.e,G.n),J=h.JR;
h.Hj(m);m.vK(H);Q.NP();Q.FL(H,G.Vj,m.Pf,A.Vj);J.drawArrays(J.TRIANGLES,0,6)};h.a.al={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
h.a.wL=function(G,m){h.Tc.call(this);var A="\t\t\tprecision highp float;\t\t\t"+h.Aa.fI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(m?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+h.Aa.Q9+"\t\t\t"+h.Aa.fb+"\t\t\t"+h.Aa.z_+"\t\t\t"+h.Aa.asz+"\t\t\t"+h.Aa.apx+"\t\t\t"+h.Aa.a2n+"\t\t\t"+h.Aa.LZ+"\t\t\t"+h.Aa.agd+"\t\t\t"+h.Aa.hE+"\t\t\t"+h.Aa.hash+"\t\t\t"+(m?h.Aa.hU:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+h.a.al[G]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",Q="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(G=="diss")A+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else A+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(m?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.VF(A,Q)};h.a.wL.prototype=new h.Tc;h.a.wL.prototype.FL=function(G,m,A,Q,H,J,b,O){this.lf("srct alpha source target fill style keepBGA blIf".split(" "));
var a=h.JR,e=this.NW;a.uniform4fv(e.srct,A);a.uniform1f(e.alpha,Q);a.uniform1f(e.fill,H);a.uniform1f(e.style,J);
a.uniform1f(e.keepBGA,b);if(O)a.uniform4fv(e.blIf,O);this.T2([e.source,G,e.target,m])};h.a.gp=function(G,m){h.Tc.call(this);
this.anQ=G;this.G7=m;var A="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+h.Aa.k7+"\t\t\t"+h.Aa.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(G?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(m?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(G?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(m?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",Q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.VF(A,Q)};h.a.gp.prototype=new h.Tc;h.a.gp.prototype.FL=function(G,m,A,Q,H,J,b,O,a){if(this.G7)this.lf("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.lf("srct awg dissv source target cswitch".split(" "));var e=h.JR,R=this.NW;e.uniform4fv(R.srct,Q);
if(this.G7){e.uniform4fv(R.wrct,H);e.uniform1f(R.wcolor,J)}else{e.uniform4fv(R.cswitch,a)}e.uniform1f(R.awg,b);
e.uniform1f(R.dissv,O);var p=[R.source,G,R.target,m];if(this.G7)p.push(R.weight,A);this.T2(p)};h.a.Xo=function(){h.Tc.call(this);
var G="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",m="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.VF(G,m)};h.a.Xo.prototype=new h.Tc;h.a.Xo.prototype.FL=function(G,m,A,Q){this.lf(["rct","prev","next","alpha"]);
var H=h.JR,J=this.NW;H.uniform4fv(J.rct,[0,0,1,1]);this.T2([J.prev,m,J.next,A,J.alpha,Q])};h.VS={NF:{},bP:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
h.VS.Av=function(G,m){var A=hE.O9,Q=[A.F$,A._n,A.zB,A.U$,A.z5,A.Lk,A.Yc,A.vU].indexOf(G.type),H=h.VS.NF[G.type];
if(H==null)H=h.VS.NF[G.type]=new h.NF[Q];H.NP();H.FL(m,G);h.JR.drawArrays(h.JR.TRIANGLES,0,6)};h.NF=[];
h.NF[0]=function(){h.Tc.call(this);this.Nl={};var G="\t\t\tprecision mediump float;\t\t\t"+h.Aa.fb+"\t\t\t"+h.Aa.fI+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[0].prototype=new h.Tc;h.NF[0].prototype.FL=function(G,m){var A={p:m.Yd,z:m.aF,h:m.kb,Uj:N.$(m.Yd.length)},Q=A.p.length;
if(this.Nl["m"+Q]==null){this.Nl["m"+Q]={a1K:new h.NI(Q,1),uw:N.$(Q*4)}}var H=this.Nl["m"+Q];N.Ff(A,H.uw,0);
var J=H.a1K;J.set(H.uw);this.lf(["source","map","toGray","presLum"]);var b=h.JR,O=this.NW;b.uniform1f(O.toGray,m.b9?1:0);
b.uniform1f(O.presLum,m.fS?1:0);this.T2([O.source,G,O.map,J.Vj])};h.NF[1]=function(){h.Tc.call(this);
this.ajT=new h.NI(256,1);this.a9s=N.$(256*4);var G="\t\t\t\tprecision mediump float;\t\t\t\t"+h.Aa.z9+"\t\t\t\t"+h.Aa.jI+"\t\t\t\t"+h.Aa.a9+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[1].prototype=new h.Tc;h.NF[1].prototype.FL=function(G,m){N.Ff({p:m.akO,z:m.Lx,h:m.a2k,Uj:N.$(256)},this.a9s);
this.ajT.set(this.a9s);this.lf(["source","map","cfa","cfb","colorize"]);var A=h.JR,Q=this.NW;A.uniform1f(Q.cfa,m.ahl);
A.uniform1f(Q.cfb,m.fl);A.uniform1i(Q.colorize,m.asl);this.T2([Q.source,G,Q.map,this.ajT.Vj])};h.NF[2]=function(){h.Tc.call(this);
var G="\t\t\tprecision mediump float;\t\t\t"+h.Aa.z9+"\t\t\t"+h.Aa.ID+"\t\t\t"+h.Aa.JY+"\t\t\t"+h.Aa.jI+"\t\t\t"+h.Aa.a9+"\t\t\t"+h.Aa.apQ+"\t\t\t"+h.Aa.anl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.VF(G,h.VS.bP)};h.NF[2].prototype=new h.Tc;h.NF[2].prototype.FL=function(G,m){this.lf(["source","vib","sat","yF"]);
var A=h.JR,Q=this.NW;A.uniform1f(Q.vib,m.WF[0]);A.uniform1f(Q.sat,m.WF[1]);A.uniform3fv(Q.yF,new Float32Array([m.WF[2],m.WF[3],m.WF[3]]));
this.T2([Q.source,G])};h.NF[3]=function(){h.Tc.call(this);var G="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[3].prototype=new h.Tc;h.NF[3].prototype.FL=function(G,m){this.lf(["source","trf"]);
var A=h.JR,Q=this.NW;A.uniformMatrix4fv(Q.trf,!1,new Float32Array(N.zb.kh(m.Nu)));this.T2([Q.source,G])};
h.NF[4]=function(){h.Tc.call(this);var G="\t\t\tprecision mediump float; \t\t\t"+h.Aa.Nw+"\t\t\t"+h.Aa.z9+"\t\t\t"+h.Aa.a9+"\t\t\t"+h.Aa.jI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[4].prototype=new h.Tc;h.NF[4].prototype.FL=function(G,m){this.lf(["source","mnm","mxm","shift","lim"]);
var A=h.JR,Q=this.NW;A.uniform3fv(Q.mnm,new Float32Array(m.Rf));A.uniform3fv(Q.mxm,new Float32Array(m.UJ));
A.uniform3fv(Q.shift,new Float32Array(m.shift));A.uniform1f(Q.lim,m.G_);this.T2([Q.source,G])};h.NF[5]=function(){h.Tc.call(this);
var G="\t\t\tprecision mediump float;\t\t\t"+h.Aa.fI+"\t\t\t"+h.Aa.Cl+"\t\t\t"+h.Aa.SA+"\t\t\t"+h.Aa.jI+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[5].prototype=new h.Tc;h.NF[5].prototype.FL=function(G,m){this.lf(["source","cfs"]);
var A=h.JR,Q=this.NW;A.uniform3fv(Q.cfs,m.ac1);this.T2([Q.source,G])};h.NF[6]=function(){h.Tc.call(this);
var G="\t\t\tprecision mediump float;\t\t\t"+h.Aa.z9+"\t\t\t"+h.Aa.Cl+"\t\t\t"+h.Aa.SA+"\t\t\t"+h.Aa.jI+"\t\t\t"+h.Aa.a9+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[6].prototype=new h.Tc;h.NF[6].prototype.FL=function(G,m){this.lf(["source","wght","prms"]);
var A=h.JR,Q=this.NW,H=[m.t5,m.aqz,m.fb,m.a70,m.Sa,m.aqF];A.uniform1fv(Q.wght,new Float32Array(m.anz));
A.uniform1fv(Q.prms,new Float32Array(H));this.T2([Q.source,G])};h.NF[7]=function(){h.Tc.call(this);this.aA={};
var G="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.VF(G,h.VS.bP)};h.NF[7].prototype=new h.Tc;h.NF[7].prototype.FL=function(G,m){this.lf(["source","lut","N"]);
var A=h.JR,Q=this.NW,H=m.uV,J=m.Uq;if(this.aA["m"+H]==null)this.aA["m"+H]=new h.NI(H,H*H);var b=this.aA["m"+H];
b.set(J);A.uniform1f(Q.N,H);this.T2([Q.source,G,Q.lut,b.Vj]);A.activeTexture(A.TEXTURE1);var O=A.LINEAR;
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,O);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,O);
A.activeTexture(A.TEXTURE0)};h.filter={mc:{},bP:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",als:0,ahv:1,$j:2,asK:3,ae0:4,a8y:5,Uw:6,a8j:7};
h.filter.Av=function(G,m){var A=h.filter,Q,H=G.type+":"+(G.ml?G.ml.join(","):""),Q=h.filter.mc[H];if(Q==null)Q=h.filter.mc[H]=new h.mc[G.type](G.ml);
Q.NP();Q.FL(m,G);h.JR.drawArrays(h.JR.TRIANGLES,0,6)};h.mc=[0,0,0,0,0,0,0,0,0,0,0,0];h.mc[7]=function(){h.Tc.call(this);
var G="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.VF(bl.mh(G),bl.mh(h.filter.bP))};h.mc[7].prototype=new h.Tc;h.mc[7].prototype.FL=function(G,m){this.lf(["source","iwh","kern"]);
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform1fv(Q.kern,m.auk);this.T2([Q.source,G])};h.mc[6]=function(G){h.Tc.call(this);
var m=G[0],A=G[1],Q=G[2],H="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",J=bl.mh(H);
J=J.replaceAll("PRC",Q+".0");J=J.replaceAll("DIR",["x,0","0,x"][A]);this.VF(J,h.VS.bP)};h.mc[6].prototype=new h.Tc;
h.mc[6].prototype.FL=function(G,m){this.lf(["source","iwh","rad"]);var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);
A.uniform1f(Q.rad,m.ZC);this.T2([Q.source,G])};h.mc[4]=function(G){h.Tc.call(this);var m=G[0],A=G[1],Q="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+G[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][A]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][m]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][A]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(A==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.VF(Q,h.VS.bP)};h.mc[4].prototype=new h.Tc;h.mc[4].prototype.FL=function(G,m){this.lf(["source","iwh","rrad","tr"]);
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform1f(Q.rrad,m.u2);A.uniform1f(Q.tr,m.a6i);this.T2([Q.source,G]);
var H=A.LINEAR;H=A.NEAREST;A.activeTexture(A.TEXTURE0);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,H);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,H);A.activeTexture(A.TEXTURE0)};h.mc[5]=function(){h.Tc.call(this);
var G="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.VF(bl.mh(G),bl.mh(h.filter.bP))};h.mc[5].prototype=new h.Tc;h.mc[5].prototype.FL=function(G,m){this.lf(["source","ssum","iwh","amnt","edgf"]);
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform1f(Q.amnt,m.apD);A.uniform1f(Q.edgf,m.a0t);this.T2([Q.source,G,Q.ssum,m.a94])};
h.mc[3]=function(){h.Tc.call(this);var G="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.VF(bl.mh(G),bl.mh(h.filter.bP))};h.mc[3].prototype=new h.Tc;h.mc[3].prototype.FL=function(G,m){this.lf("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform1f(Q.tdep,m.a2w);A.uniform1f(Q.rrad,m.u2);A.uniform2fv(Q.spec,m.anE);
A.uniform3fv(Q.nois,m.ait);A.uniformMatrix4fv(Q.poly0,!1,m.air);A.uniformMatrix4fv(Q.poly1,!1,m.a2G);
this.T2([Q.source,G]);var H=A.LINEAR;A.activeTexture(A.TEXTURE0);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,H);
A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,H);A.activeTexture(A.TEXTURE0)};h.mc[0]=function(){h.Tc.call(this);
var G="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.VF(bl.mh(G),bl.mh(h.filter.bP))};h.mc[0].prototype=new h.Tc;h.mc[0].prototype.FL=function(G,m){this.lf(["source","iwh","ld","shine"]);
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform3fv(Q.ld,m.ane);A.uniform1f(Q.shine,m.a6Z);this.T2([Q.source,G,Q.tang,m.z7])};
h.mc[1]=function(){h.Tc.call(this);var G="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.VF(bl.mh(G),bl.mh(h.filter.bP))};h.mc[1].prototype=new h.Tc;h.mc[1].prototype.FL=function(G,m){this.lf(["source","iwh","isc","bristle"]);
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform1f(Q.isc,m.ahQ);A.uniform1f(Q.bristle,m.a8u);
this.T2([Q.source,G])};h.mc[2]=function(){h.Tc.call(this);var G="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.VF(bl.mh(G),bl.mh(h.filter.bP))};h.mc[2].prototype=new h.Tc;h.mc[2].prototype.FL=function(G,m){this.lf(["source","tang","iwh","sigma","expo"]);
var A=h.JR,Q=this.NW;A.uniform2fv(Q.iwh,m.x8);A.uniform1f(Q.sigma,m.a0V);A.uniform1f(Q.expo,m.asn);this.T2([Q.source,G,Q.tang,m.z7]);
var H=A.LINEAR;A.activeTexture(A.TEXTURE0);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,H);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,H);
A.activeTexture(A.TEXTURE0)};function N(){}N.I={};N.abm={};N.ae2=function(){var G=[64,64,128,256,512,1024,2048],m=[];
for(var $=0;$<G.length;$++){var A=G[$],Q=document.createElement("canvas");Q.width=A;Q.height=A;m.push(Q.getContext("2d"))}return m}();
N.t7=function(G,m){var A,Q=N.ae2,$=1,H=Math.max(G,m);while($<Q.length&&H>Q[$].canvas.width)$++;if($==Q.length){A=Q[0];
var J=A.canvas;J.width=G;J.height=m}else{A=Q[$];A.clearRect(0,0,G,m)}return A};N.cy=function(G,m,A){var Q=new Uint32Array(m*A);
Q[0]=G[0];for(var H=1;H<m;H++)Q[H]=Q[H-1]+G[H];for(var J=1;J<A;J++){var $=J*m;Q[$]=Q[$-m]+G[$];for(var H=1;
H<m;H++)Q[$+H]=G[$+H]+Q[$+H-1]+Q[$+H-m]-Q[$+H-m-1]}return Q};N.rz=function(G,m,A,Q,H,J){var b=(H-1)*m,O=J*m;
return G[O+Q]-G[O+A-1]-G[b+Q]+G[b+A-1]};N.JV=function(G,m,A){var Q={},H=0,J=0,b=new Uint32Array(G.buffer),O=b.length,a=Date.now();
for(var e=1;e<A-1;e++)for(var R=1;R<m-1;R++){var p=e*m+R,P=b[p];if(P>>>24<230)J++;if(Q[P]==null){Q[P]=!0;
H++}}if(J!=0||H<20)return!1;return!0};N.dC=function(G,m,A,Q,H,J){if(H==null)H=J=0;Q=Math.log(Q)/Math.log(2);
Q=Math.round(Q);for(var $=0;$<A;$++)for(var b=0;b<m;b++){var O=$*m+b<<2,a=N.At($+J,b+H,Q);G[O]=G[O+1]=G[O+2]=a;
G[O+3]=255}};N.At=function($,G,m){return 255-(($>>>m)+(G>>>m)&1)*51};N.as=function(G){var m=G.toString(16);
while(m.length<6)m="0"+m;return m};N.BI=function(G){return parseInt(G,16)};N.fb=function(G){return.3*G.p+.59*G.z+.11*G.h};
N.Q9=function(G){return Math.max(G.p,G.z,G.h)-Math.min(G.p,G.z,G.h)};N.vp=function(G,m,A){return.3*G+.59*m+.11*A};
N.ajj=function(G,m,A){return Math.max(G,m,A)-Math.min(G,m,A)};N.Cl=function(G,m){var A=m-G,Q=Math.abs(A),H=A-1,J=A+1;
if(Math.abs(H)<Q)A=H;else if(Math.abs(J)<Q)A=J;return A};N.J5=function(G){return G<.0031308?12.92*G:1.055*Math.pow(G,1/2.4)-.055};
N.LJ=function(G){return G<.04045?G/12.92:Math.pow((G+.055)/1.055,2.4)};N.ahi=function(G,m){var A=Math.min(G.length,m.length);
for(var $=0;$<A;$+=4){var Q=G[$],H=G[$+1],J=G[$+2];m[$]=16+Math.floor(65.481/255*Q+128.553/255*H+24.966/255*J+.5);
m[$+1]=128-Math.floor(37.797/255*Q-74.203/255*H+112/255*J+.5);m[$+2]=128+Math.floor(112/255*Q-93.786/255*H-18.214/255*J+.5);
m[$+3]=G[$+3]}};N.a8C=function(G,m,A){var Q,H,J,b=Math.max(G,m,A),O=Math.min(G,m,A);J=b;if(b!=0)H=(b-O)/b;
else H=0;if(H==0)Q=0;else{var a=b-O,e=(b-G)/a,R=(b-m)/a,p=(b-A)/a;if(G==b)Q=p-R;else if(m==b)Q=2+e-p;
else Q=4+R-e;Q*=1/6;if(Q<0)Q=Q+1}return{V7:Q,H6:H,h:J}};N.a2h=function(G,m,A){var Q=0,H=0,J=0;if(m==0)Q=H=J=A;
else{var b=(G-Math.floor(G))*6,O=Math.floor(b),a=b-Math.floor(b),e=A*(1-m),R=A*(1-m*a),p=A*(1-m*(1-a));
switch(O){case 0:Q=A;H=p;J=e;break;case 1:Q=R;H=A;J=e;break;case 2:Q=e;H=A;J=p;break;case 3:Q=e;H=R;
J=A;break;case 4:Q=p;H=e;J=A;break;case 5:Q=A;H=e;J=R;break}}return{p:Q,z:H,h:J}};N.jI=function(G,m,A){var Q=Math.max(G,m,A),H=Math.min(G,m,A),J=0,b=0,O=(Q+H)*.5;
if(Q!=H){var a=Q-H;b=O>.5?a/(2-(Q+H)):a/(Q+H);switch(Q){case G:J=(m-A)/a+(m<A?6:0);break;case m:J=(A-G)/a+2;
break;case A:J=(G-m)/a+4;break}J*=1/6}return{V7:J,H6:b,Ku:O}};N.a9=function(G,m,A){var Q,H,J;if(m==0)Q=H=J=A;
else{var b=A<.5?A*(1+m):A+m-A*m,O=2*A-b;Q=N.z9(O,b,G+1/3);H=N.z9(O,b,G);J=N.z9(O,b,G-1/3)}return{p:Q,z:H,h:J}};
N.z9=function(G,m,A){if(A<0)A+=1;if(A>1)A-=1;if(A<1/6)return G+(m-G)*6*A;if(A<1/2)return m;if(A<2/3)return G+(m-G)*(2/3-A)*6;
return G};N.ID=function(G,m,A){var Q=Math.max(G,m,A),H=Math.min(G,m,A),J,b,O=Q,a=Q-H;b=Q==0?0:a/Q;if(Q==H)J=0;
else{switch(Q){case G:J=(m-A)/a+(m<A?6:0);break;case m:J=(A-G)/a+2;break;case A:J=(G-m)/a+4;break}J*=1/6}return{V7:J,H6:b,ok:O}};
N.JY=function(G,m,A){var Q,H,J,$,b,O,a,e;$=Math.floor(G*6);b=G*6-$;O=A*(1-m);a=A*(1-b*m);e=A*(1-(1-b)*m);
switch($%6){case 0:Q=A,H=e,J=O;break;case 1:Q=a,H=A,J=O;break;case 2:Q=O,H=A,J=e;break;case 3:Q=O,H=a,J=A;
break;case 4:Q=e,H=O,J=A;break;case 5:Q=A,H=O,J=a;break}return{p:Q,z:H,h:J}};N.E1=function(){var G=[],m=[];
for(var $=0;$<2e3;$++){var A=$/1e3;G[$]=N.LJ(A);m[$]=A>.008856?Math.pow(A,1/3):(903.3*A+16)*(1/116)}return[G,m]}();
N.Nw=function(G,m,A){var Q=N.E1[0],H=N.E1[1];G=Q[~~(G*(1e3/255))];m=Q[~~(m*(1e3/255))];A=Q[~~(A*(1e3/255))];
var J=N.zb.af8,b=J[0]*G+J[1]*m+J[2]*A,O=J[4]*G+J[5]*m+J[6]*A,a=J[8]*G+J[9]*m+J[10]*A;b=b*(100/96.72);
O=O*(100/100);a=a*(100/81.427);return N.bw(b,O,a)};N.bw=function(G,m,A){var Q=N.E1[1],H=Q[~~(G*1e3)],J=Q[~~(m*1e3)],b=Q[~~(A*1e3)];
return{QC:116*J-16,Uj:500*(H-J),h:200*(J-b)}};N.KS=function(G,m,A){var Q=903.3,H=.008856,J=(G+16)/116,b=J*J*J,O=J-A/200,a=O*O*O,e=m/500+J,R=e*e*e,p=a>H?a:(116*O-16)/Q,P=b>H?b:(116*J-16)/Q,z=R>H?R:(116*e-16)/Q,Z=z*96.72,W=P*100,T=p*81.427,i=N.zb.wQ(N.zb.Vt,[Z/100,W/100,T/100,0]);
for(var $=0;$<4;$++)i[$]=Math.max(0,Math.min(255,N.J5(i[$])*255));return{p:i[0],z:i[1],h:i[2]}};N.cu=function(G,m,A,Q,H){var J=G.QC,b=G.Uj,O=G.h,a=(J<m.QC?m.QC-J:A.QC<J?A.QC-J:0)*(1/100),e=(b<m.Uj?m.Uj-b:A.Uj<b?A.Uj-b:0)*(1/116),R=(O<m.h?m.h-O:A.h<O?A.h-O:0)*(1/116),p=Math.sqrt(a*a+e*e+R*R)*1.35;
return p<=Q?Math.min(1,1.17*(1-p*H)):0};N.le=function(G,m,A){var Q=G.length,H=.3,J=.59,b=.11;if(A){H=A[0];
J=A[1];b=A[2]}for(var $=0;$<Q;$+=4)m[$>>2]=~~(G[$+0]*H+G[$+1]*J+G[$+2]*b+.5)};N.mH=function(G,m){var A=m.length;
for(var $=0;$<A;$+=4){var Q=G[$>>>2];m[$]=Q;m[$+1]=Q;m[$+2]=Q}};N.Ff=function(G,m){var A=G.Uj,Q=G.p,H=G.z,J=G.h,b=Math.min(G.Uj.length,m.buffer.byteLength>>>2),O=4*Math.floor(b/4),a=new Uint32Array(m.buffer),e=new Uint32Array(A.buffer),R=new Uint32Array(Q.buffer),p=new Uint32Array(H.buffer),P=new Uint32Array(J.buffer);
for(var $=0;$<O;$+=4){var z=e[$>>2],Z=P[$>>2],W=p[$>>2],T=R[$>>2];a[$]=z<<24|(Z&255)<<16|(W&255)<<8|T&255;
a[$+1]=(z&65280)<<16|(Z&65280)<<8|W&65280|(T&65280)>>>8;a[$+2]=(z&16711680)<<8|Z&16711680|(W&16711680)>>>8|(T&16711680)>>>16;
a[$+3]=z&4278190080|(Z&4278190080)>>>8|(W&4278190080)>>>16|(T&4278190080)>>>24}for(var $=O;$<b;$++)a[$]=A[$]<<24|J[$]<<16|H[$]<<8|Q[$]};
N.Pu=function(G,m){var A=m.Uj,Q=m.p,H=m.z,J=m.h,b=Math.min(m.Uj.length,G.buffer.byteLength>>>2),O=4*Math.floor(b/4),a=new Uint32Array(G.buffer),e=new Uint32Array(A.buffer),R=new Uint32Array(Q.buffer),p=new Uint32Array(H.buffer),P=new Uint32Array(J.buffer);
for(var $=0;$<O;$+=4){var z=a[$],Z=a[$+1],W=a[$+2],T=a[$+3];R[$>>2]=z&255|(Z&255)<<8|(W&255)<<16|T<<24;
p[$>>2]=(z&65280)>>8|Z&65280|(W&65280)<<8|(T&65280)<<16;P[$>>2]=(z&16711680)>>16|(Z&16711680)>>8|W&16711680|(T&16711680)<<8;
e[$>>2]=z>>>24|Z>>>24<<8|W>>>24<<16|T&4278190080}for(var $=O;$<b;$++){var i=a[$];Q[$]=i>>0&255;H[$]=i>>8&255;
J[$]=i>>16&255;A[$]=i>>24&255}};N.gF=function(G,m,A){var Q=new Uint8Array(G.buffer),H=Math.min(Q.length/4,m.length);
for(var $=0;$<H;$++){m[$]=Q[($<<2)+A]}};N.I5=function(G,m,A){var Q=new Uint8Array(m.buffer),H=new Uint32Array(G.buffer),J=Math.min(Q.length/4,G.length),$=0;
while($+4<J){var b=H[$>>>2];Q[($<<2)+A]=b&255;Q[($<<2)+A+4]=b>>>8&255;Q[($<<2)+A+8]=b>>>16&255;Q[($<<2)+A+12]=b>>>24;
$+=4}while($<J){Q[($<<2)+A]=G[$];$++}};N.w8=function(G,m,A){if(A==null)A=0;var Q=new Uint32Array(G.buffer),H=Q.length;
for(var $=0;$<H;$++)Q[$]=Q[$]&A|m};N.aq4=function(G,m,A,Q,H){if(H==null)H=0;var J=new Uint32Array(G.buffer);
A=A.KB(m);var b=A.x-m.x,O=A.y-m.y,a=A.e,e=A.n,R=m.e;for(var p=0;p<e;p++){var $=(O+p)*R+b;for(var P=0;
P<a;P++){J[$]=J[$]&H|Q;$++}}};N.Gy=function(G,m){var A=Math.min(G.buffer.byteLength,m.buffer.byteLength),Q=A>>>2,G=new Uint32Array(G.buffer,0,Q),m=new Uint32Array(m.buffer,0,Q);
m.set(G)};N.A5=function(G,m){var A=G.buffer.byteLength,Q=m.buffer.byteLength,H=new Uint32Array(G.buffer,0,A>>2),J=new Uint32Array(m.buffer,0,Q>>2);
if(A!=Q)return!1;var b=H.length;for(var $=0;$<b;$++)if(J[$]!=H[$])return!1;return!0};N.G3=function(G){var m=new Uint32Array(G.buffer),A=m.length;
for(var $=0;$<A;$++)m[$]=~m[$]};N.al2=function(G){var m=G.length;for(var $=0;$<m;$+=4){G[$]=~G[$];G[$+1]=~G[$+1];
G[$+2]=~G[$+2]}};N.aau=function(G){var m=G.length;for(var $=3;$<m;$+=4)G[$]=~G[$]};N.aun=function(G){return G+(G%4==0?0:4-G%4)};
N.$=function(G,m){if(m==null)m=!1;if(!m)G=N.aun(G);try{var A=new Uint8Array(G)}catch(f5){alert("Not enough RAM! (need "+Math.round(G/(1<<20))+" MB)",7e3);
throw"low_ram"}return A};N.xI=function(G){var m=G.length,A=G[m-2],Q=G[m-1];while(Q.e>=2&&Q.n>=2){var H=N.tc(A,Q);
G.push(H.uw,H.rect);A=H.uw;Q=H.rect}};N.wF=function(G){var m=G.length,A=G[m-2],Q=G[m-1];while(Q.e>=2&&Q.n>=2){var H=N.cg(A,Q);
G.push(H.uw,H.rect);A=H.uw;Q=H.rect}};N.tc=function(G,m,A){var Q=m.e,H=m.n,J=Q>>1,b=H>>1,O=new f_(m.x,m.y,J,b),a=A&&A.length==J*b*4?A:N.$(J*b*4),e=new Uint32Array(G.buffer),R=new Uint32Array(a.buffer);
for(var p=0;p<b;p++)for(var P=0;P<J;P++){var z=p*J+P,Z=(p<<1)*Q+(P<<1),W=e[Z],T=e[Z+1],i=e[Z+Q],X=e[Z+Q+1],U=W>>>24,M=T>>>24,C=i>>>24,x=X>>>24,L=U+M+C+x;
if(L==1020){var E=(W>>>0&255)+(T>>>0&255)+(i>>>0&255)+(X>>>0&255)+2>>>2,l=(W>>>8&255)+(T>>>8&255)+(i>>>8&255)+(X>>>8&255)+2>>>2,y=(W>>>16&255)+(T>>>16&255)+(i>>>16&255)+(X>>>16&255)+2>>>2;
R[z]=255<<24|y<<16|l<<8|E}else if(L==0)R[z]=0;else{var E=(W>>>0&255)*U+(T>>>0&255)*M+(i>>>0&255)*C+(X>>>0&255)*x,l=(W>>>8&255)*U+(T>>>8&255)*M+(i>>>8&255)*C+(X>>>8&255)*x,y=(W>>>16&255)*U+(T>>>16&255)*M+(i>>>16&255)*C+(X>>>16&255)*x,Y=1/L;
E=~~(E*Y+.5);l=~~(l*Y+.5);y=~~(y*Y+.5);R[z]=L+2>>>2<<24|y<<16|l<<8|E}}return{rect:O,uw:a}};N.rG=function(G,m,A){var Q=m.e,H=m.n,J=Q>>1,b=H>>1,O=new f_(m.x,m.y,J,b),a=A&&A.length==J*b*4?A:N.$(J*b*4),e=new Uint32Array(G.buffer),R=new Uint32Array(a.buffer);
for(var p=0;p<b;p++)for(var P=0;P<J;P++){var z=p*J+P,Z=(p<<1)*Q+(P<<1),W=e[Z],T=e[Z+1],i=e[Z+Q],X=e[Z+Q+1],U=2+(W>>>0&255)+(T>>>0&255)+(i>>>0&255)+(X>>>0&255)>>>2,M=2+(W>>>8&255)+(T>>>8&255)+(i>>>8&255)+(X>>>8&255)>>>2,C=2+(W>>>16&255)+(T>>>16&255)+(i>>>16&255)+(X>>>16&255)>>>2,x=2+(W>>>24&255)+(T>>>24&255)+(i>>>24&255)+(X>>>24&255)>>>2;
R[z]=x<<24|C<<16|M<<8|U}return{rect:O,uw:a}};N.ak5=function(G,m,A){var Q=m.e,H=m.n,J=2*Math.floor(Q/3),b=2*Math.floor(H/3),O=new f_(m.x,m.y,J,b),a=A&&A.length==J*b*4?A:N.$(J*b*4),e=new Uint32Array(G.buffer),R=new Uint32Array(a.buffer);
for(var p=0;p<b;p+=2)for(var P=0;P<J;P+=2){var z=p*J+P,Z=(p*3>>>1)*Q+(P*3>>>1),W=e[Z],T=e[Z+1],i=e[Z+2],X=e[Z+Q],U=e[Z+1+Q],M=e[Z+2+Q],C=e[Z+Q+Q],x=e[Z+1+Q+Q],L=e[Z+2+Q+Q],E=W>>>24<<2,l=(W>>>16&255)*E,y=(W>>>8&255)*E,Y=(W&255)*E,F=T>>>24<<1,w=(T>>>16&255)*F,j=(T>>>8&255)*F,_=(T&255)*F,D=i>>>24<<2,t=(i>>>16&255)*D,K=(i>>>8&255)*D,d=(i&255)*D,o=X>>>24<<1,k=(X>>>16&255)*o,v=(X>>>8&255)*o,u=(X&255)*o,B=U>>>24,S=(U>>>16&255)*B,I=(U>>>8&255)*B,q=(U&255)*B,hw=M>>>24<<1,fY=(M>>>16&255)*hw,s=(M>>>8&255)*hw,hZ=(M&255)*hw,bG=C>>>24<<2,aY=(C>>>16&255)*bG,fj=(C>>>8&255)*bG,jg=(C&255)*bG,ae=x>>>24<<1,iB=(x>>>16&255)*ae,eg=(x>>>8&255)*ae,dM=(x&255)*ae,fK=L>>>24<<2,aQ=(L>>>16&255)*fK,cQ=(L>>>8&255)*fK,a7=(L&255)*fK,gz=E+F+o+B,bQ=D+F+hw+B,d4=bG+ae+o+B,j2=fK+ae+hw+B,j7=gz==0?0:1/gz,fG=bQ==0?0:1/bQ,bT=d4==0?0:1/d4,je=j2==0?0:1/j2,ba=0,j6=0,cl=0,js=0;
ba=~~(.5+(Y+_+u+q)*j7);j6=~~(.5+(y+j+v+I)*j7);cl=~~(.5+(l+w+k+S)*j7);js=~~(.5+gz*(1/9));R[z]=js<<24|cl<<16|j6<<8|ba;
ba=~~(.5+(d+_+hZ+q)*fG);j6=~~(.5+(K+j+s+I)*fG);cl=~~(.5+(t+w+fY+S)*fG);js=~~(.5+bQ*(1/9));R[z+1]=js<<24|cl<<16|j6<<8|ba;
ba=~~(.5+(jg+dM+u+q)*bT);j6=~~(.5+(fj+eg+v+I)*bT);cl=~~(.5+(aY+iB+k+S)*bT);js=~~(.5+d4*(1/9));R[z+J]=js<<24|cl<<16|j6<<8|ba;
ba=~~(.5+(a7+dM+hZ+q)*je);j6=~~(.5+(cQ+eg+s+I)*je);cl=~~(.5+(aQ+iB+fY+S)*je);js=~~(.5+j2*(1/9));R[z+J+1]=js<<24|cl<<16|j6<<8|ba}return{rect:O,uw:a}};
N.aeg=function(G,m,A){var Q=m.e,H=m.n,J=2*Math.floor(Q/3),b=2*Math.floor(H/3),O=new f_(m.x,m.y,J,b),a=A&&A.length==J*b*4?A:N.$(J*b*4),e=new Uint32Array(G.buffer),R=new Uint32Array(a.buffer);
for(var p=0;p<b;p+=2)for(var P=0;P<J;P+=2){var z=p*J+P,Z=(p*3>>>1)*Q+(P*3>>>1),W=e[Z],T=e[Z+1],i=e[Z+2],X=e[Z+Q],U=e[Z+1+Q],M=e[Z+2+Q],C=e[Z+Q+Q],x=e[Z+1+Q+Q],L=e[Z+2+Q+Q],E=(W>>>16&255)<<2,l=(W>>>8&255)<<2,y=(W&255)<<2,Y=(T>>>16&255)<<1,F=(T>>>8&255)<<1,w=(T&255)<<1,j=(i>>>16&255)<<2,_=(i>>>8&255)<<2,D=(i&255)<<2,t=(X>>>16&255)<<1,K=(X>>>8&255)<<1,d=(X&255)<<1,o=U>>>16&255,k=U>>>8&255,v=U&255,u=(M>>>16&255)<<1,B=(M>>>8&255)<<1,S=(M&255)<<1,I=(C>>>16&255)<<2,q=(C>>>8&255)<<2,hw=(C&255)<<2,fY=(x>>>16&255)<<1,s=(x>>>8&255)<<1,hZ=(x&255)<<1,bG=(L>>>16&255)<<2,aY=(L>>>8&255)<<2,fj=(L&255)<<2,jg=0,ae=0,iB=0;
jg=~~(.5+(y+w+d+v)*(1/9));ae=~~(.5+(l+F+K+k)*(1/9));iB=~~(.5+(E+Y+t+o)*(1/9));R[z]=255<<24|iB<<16|ae<<8|jg;
jg=~~(.5+(D+w+S+v)*(1/9));ae=~~(.5+(_+F+B+k)*(1/9));iB=~~(.5+(j+Y+u+o)*(1/9));R[z+1]=255<<24|iB<<16|ae<<8|jg;
jg=~~(.5+(hw+hZ+d+v)*(1/9));ae=~~(.5+(q+s+K+k)*(1/9));iB=~~(.5+(I+fY+t+o)*(1/9));R[z+J]=255<<24|iB<<16|ae<<8|jg;
jg=~~(.5+(fj+hZ+S+v)*(1/9));ae=~~(.5+(aY+s+B+k)*(1/9));iB=~~(.5+(bG+fY+u+o)*(1/9));R[z+J+1]=255<<24|iB<<16|ae<<8|jg}return{rect:O,uw:a}};
N.VG=function(G){var m=255,A=G.length;A-=A&31;for(var $=3;$<A;$+=32)m=m&G[$]&G[$+4]&G[$+8]&G[$+12]&G[$+16]&G[$+20]&G[$+24]&G[$+28];
return m!=255};N.ac9=function(G,m,A,Q){var H=N.tc,J=N.ak5,O=0;if(!N.VG(G)){H=N.rG;J=N.aeg}var b={uw:G,rect:m},a=A;
while(a<.499){O++;a*=2}for(var $=0;$<O;$++)b=H(b.uw,b.rect,Q);if(a<.5001)b=H(b.uw,b.rect,Q);else b=J(b.uw,b.rect,Q);
return b};N.abx=function(G,m,A,Q){var H=N.cg,J=N.dB,b={uw:G,rect:m},O=0,a=A;while(a<.499){O++;a*=2}for(var $=0;
$<O;$++)b=H(b.uw,b.rect,Q);if(a<.5001)b=H(b.uw,b.rect,Q);else b=J(b.uw,b.rect,Q);return b};N.cg=function(G,m,A){var Q=m.e,H=m.n,J=Q>>1,b=H>>1,O=new f_(m.x,m.y,J,b);
if(G==null)return{rect:O};var a=A&&A.length>=J*b?A:N.$(J*b);for(var e=0;e<b;e++){var R=e*J;for(var p=0;
p<J;p++){var P=(e<<1)*Q+(p<<1);a[R+p]=2+G[P]+G[P+1]+G[P+Q]+G[P+Q+1]>>>2}}return{rect:O,uw:a}};N.dB=function(G,m,A){var Q=m.e,H=m.n,J=2*Math.floor(Q/3),b=2*Math.floor(H/3),O=new f_(m.x,m.y,J,b);
if(G==null)return{rect:O};var a=A&&A.length>=J*b?A:N.$(J*b);for(var e=0;e<b;e+=2)for(var R=0;R<J;R+=2){var p=e*J+R,P=(e*3>>>1)*Q+(R*3>>>1),z=G[P]<<2,Z=G[P+1]<<1,W=G[P+2]<<2,T=G[P+Q]<<1,i=G[P+1+Q],X=G[P+2+Q]<<1,U=G[P+Q+Q]<<2,M=G[P+1+Q+Q]<<1,C=G[P+2+Q+Q]<<2;
a[p]=~~(.5+(z+Z+T+i)*(1/9));a[p+1]=~~(.5+(W+Z+X+i)*(1/9));a[p+J]=~~(.5+(U+M+T+i)*(1/9));a[p+J+1]=~~(.5+(C+M+X+i)*(1/9))}return{rect:O,uw:a}};
N.qg=function(G,m,A,Q,H){var J=m.KB(Q);if(H)J=J.KB(H);var b=Math.max(0,J.x-m.x),O=Math.max(0,J.x-Q.x),a=Math.max(0,J.y-m.y),e=Math.max(0,J.y-Q.y),R=J.e,p=J.n;
for(var $=0;$<p;$++){var P=(a+$)*m.e+b,z=(e+$)*Q.e+O;for(var Z=0;Z<R;Z++){A[z+Z]=G[P+Z]}}};N.hG=function(G,m,A,Q){if(m.A5(Q)){N.I5(G,A,3);
return}var H=m.KB(Q),J=Math.max(0,H.x-m.x),b=Math.max(0,H.x-Q.x),O=Math.max(0,H.y-m.y),a=Math.max(0,H.y-Q.y),e=H.e,R=H.n;
for(var $=0;$<R;$++){var p=(O+$)*m.e+J,P=(a+$)*Q.e+b;for(var z=0;z<e;z++)A[(P+z<<2)+3]=G[p+z]}};N.uC=function(G,m,A,Q){var H=m.KB(Q),J=Math.max(0,H.x-m.x),b=Math.max(0,H.x-Q.x),O=Math.max(0,H.y-m.y),a=Math.max(0,H.y-Q.y),e=H.e,R=H.n;
for(var $=0;$<R;$++){var p=(O+$)*m.e+J,P=(a+$)*Q.e+b;for(var z=0;z<e;z++)A[P+z]=G[(p+z<<2)+3]}};N.Pr=function(G,m,A,Q,H){if(m.A5(Q)&&(H==null||H.A5(Q))){N.Gy(G,A);
return}G=new Uint32Array(G.buffer),A=new Uint32Array(A.buffer);var J=m.KB(Q);if(H)J=J.KB(H);var b=Math.max(0,J.x-m.x),O=Math.max(0,J.x-Q.x),a=Math.max(0,J.y-m.y),e=Math.max(0,J.y-Q.y),R=J.e,p=J.n,P=R&3,z=P==0?R:R-P;
for(var $=0;$<p;$++){var Z=(a+$)*m.e+b,W=(e+$)*Q.e+O;A.set(new Uint32Array(G.buffer,Z*4,R),W)}};N.Tk=function(G,m,A,Q){var H=m.KB(Q),J=Math.max(0,H.x-m.x),b=Math.max(0,H.x-Q.x),O=Math.max(0,H.y-m.y),a=Math.max(0,H.y-Q.y),e=H.e,R=H.n,p=G.Uj,P=G.p,z=G.z,Z=G.h,W=A.Uj,T=A.p,i=A.z,X=A.h;
for(var $=0;$<R;$++){var U=(O+$)*m.e+J,M=(a+$)*Q.e+b;for(var C=0;C<e;C++){W[M+C]=p[U+C];T[M+C]=P[U+C];
i[M+C]=z[U+C];X[M+C]=Z[U+C]}}};N.tk=function(G){var m=G.length;for(var $=0;$<m;$+=4){var A=G[$+3];if(A==255)continue;
G[$]=~~(G[$]*A*(1/255)+.5);G[$+1]=~~(G[$+1]*A*(1/255)+.5);G[$+2]=~~(G[$+2]*A*(1/255)+.5)}};N.Xu=function(G){var m=G.length;
for(var $=0;$<m;$+=4){var A=G[$+3];if(A==0||A==255)continue;var Q=255/A;G[$]=~~(G[$]*Q+.5);G[$+1]=~~(G[$+1]*Q+.5);
G[$+2]=~~(G[$+2]*Q+.5)}};N.x3=function(G,m){for(var $=0;$<G.length;$++)if(G[$]!=m)return!1;return!0};
N.fO=function(G){return G+1+(G>>>8)>>>8};N.round=function(G,m){if(m==null)m=128;var A=G.length;for(var $=0;
$<A;$++)G[$]=G[$]<m?0:255};N.EN=function(G,m){var A=G.length;for(var $=0;$<A;$++)G[$]=Math.round(G[$]*m)};
N.au=function(G,m){var A=new Uint32Array(G.buffer),Q=new Uint32Array(m.buffer),H=A.length;for(var $=0;
$<H;$++){var J=A[$],b=Q[$];Q[$]=N.fO((J>>>24)*(b>>>24))<<24|N.fO((J>>>16&255)*(b>>>16&255))<<16|N.fO((J>>>8&255)*(b>>>8&255))<<8|N.fO((J&255)*(b&255))}};
N.fW=function(G,m){var A=G.length;for(var $=0;$<A;$++)m[($<<2)+3]=N.fO(m[($<<2)+3]*G[$])};N.a9Y=function(G,m,A,Q){var H=Math.max(0,Q.x-m.x),J=Math.max(0,m.x-Q.x),b=Math.max(0,Q.y-m.y),O=Math.max(0,m.y-Q.y),a=Math.min(m.x+m.e,Q.x+Q.e)-Math.max(m.x,Q.x),e=Math.min(m.y+m.n,Q.y+Q.n)-Math.max(m.y,Q.y);
for(var $=0;$<e;$++){var R=(b+$)*m.e+H,p=(O+$)*Q.e+J;for(var P=0;P<a;P++){A[p]=N.fO(A[p]*G[R]);R++;p++}}};
N.iz=function(G,m,A,Q){var H=Math.max(0,Q.x-m.x),J=Math.max(0,m.x-Q.x),b=Math.max(0,Q.y-m.y),O=Math.max(0,m.y-Q.y),a=Math.min(m.x+m.e,Q.x+Q.e)-Math.max(m.x,Q.x),e=Math.min(m.y+m.n,Q.y+Q.n)-Math.max(m.y,Q.y);
for(var $=0;$<e;$++){var R=(b+$)*m.e+H,p=((O+$)*Q.e+J<<2)+3;for(var P=0;P<a;P++){A[p]=N.fO(A[p]*G[R]);
R++;p+=4}}};N.cE=function(G,m,A,Q){var H=Math.max(0,Q.x-m.x),J=Math.max(0,m.x-Q.x),b=Math.max(0,Q.y-m.y),O=Math.max(0,m.y-Q.y),a=Math.min(m.x+m.e,Q.x+Q.e)-Math.max(m.x,Q.x),e=Math.min(m.y+m.n,Q.y+Q.n)-Math.max(m.y,Q.y);
for(var $=0;$<e;$++){var R=((b+$)*m.e+H<<2)+3,p=((O+$)*Q.e+J<<2)+3;for(var P=0;P<a;P++){A[p]=N.fO(A[p]*G[R]);
R+=4;p+=4}}};N.de=function(G){var m=new Float64Array(256),A=new Float64Array(256),Q=new Float64Array(256),H=new Float64Array(256),J=G.length,b=0;
for(var $=0;$<J;$+=4){var O=G[$+0],a=G[$+1],e=G[$+2],R=G[$+3],p=R*(1/255);A[O]+=p;Q[a]+=p;H[e]+=p;b+=R}for(var $=0;
$<256;$++)m[$]=A[$]+Q[$]+H[$];return[m,A,Q,H,J>>>2,b/255]};N.VI=function(G,m){function A(x,L){var E=-1,l=0;
while(l<=L){E++;l+=x[E]}return E}function Q(x,L){var E=256,l=0;while(l<=L){E--;l+=x[E]}return E}function H(x){var L=0,E=0;
for(var $=0;$<256;$++){E+=x[$];L+=x[$]*$*(1/255)}return L/E}var J=G[0],b=G[1]/100,O=G[2]/100,a=[],e=[];
for(var $=0;$<4;$++){var R=$==0?3:1;a[$]=A(m[$],R*b*m[5]);e[$]=Q(m[$],R*O*m[5])}var p=[H(m[1]),H(m[2]),H(m[3])],P=p.slice(0);
P.sort(function(x,L){return x-L});var z=p.indexOf(P[1]),Z=(p[0]+p[1]+p[2])/3,W=[];for(var $=0;$<4;$++){var T=0,i=255,X=a[$],U=e[$];
if(J==0&&$==0){T=X;i=U}if(J==1&&$!=0){T=X;i=U}if(J==2&&$!=0){var R=p[$-1]/Z;i=Math.max(0,Math.min(255,e[z]*R))}var M=[T,i];
W.push(M);if(J==3&&$==0){var C=255*(1-Z);M.push(C)}}return W};N.dV=function(G,m){var A=new Uint32Array(G.buffer),Q=A.length;
for(var $=0;$<Q;$++){var H=A[$],J=H&255,b=H>>8&255,O=H>>16&255,a=H>>24&255;A[$]=m[J]|m[b]<<8|m[O]<<16|m[a]<<24}};
N.a7_=function(G,m,A,Q,H,J,b){var O=new Uint32Array(G.buffer),a=new Uint32Array(m.buffer),e=O.length,R=0;
while(256<<R<A.length)R++;if(!b&&!J){for(var $=0;$!=e;$++){var p=O[$],P=(p&255)<<R,z=(p>>>8&255)<<R,Z=(p>>>16&255)<<R,W=A[P],T=Q[z],i=H[Z];
a[$]=W|T<<8|i<<16|p&4278190080}return}for(var $=0;$<e;$++){var p=O[$],P=(p&255)<<R,z=(p>>>8&255)<<R,Z=(p>>>16&255)<<R;
if(J)P=z=Z=Math.round(P*.3+z*.59+Z*.11);var W=A[P],T=Q[z],i=H[Z];if(b){var X=N.vp(P,z,Z),U=N.vp(W,T,i);
if(X>U){var M=(X-U)/(255-U);W+=M*(255-W);T+=M*(255-T);i+=M*(255-i)}else if(U==0)W=T=i=0;else{var M=X/U;
W=M*W;T=M*T;i=M*i}}a[$]=W|T<<8|i<<16|p&4278190080}};N.cP=function(G,m){var A=m.e,Q=m.n,top=0,H=0,J=0,b=0,O=0;
O=0;for(var a=0;a<Q;a++){var e=a*A;for(var $=0;$<A;$++)O|=G[e+$];if(O!=0)break;top++}if(top==Q)return new f_(0,0,0,0);
O=0;for(var a=Q-1;a>=0;a--){var e=a*A;for(var $=0;$<A;$++)O|=G[e+$];if(O!=0)break;J++}var R=Q-J;O=0;
for(var $=0;$<A;$++){for(var a=top;a<R;a++)O|=G[a*A+$];if(O!=0)break;H++}O=0;for(var $=A-1;$>=0;$--){for(var a=top;
a<R;a++)O|=G[a*A+$];if(O!=0)break;b++}var p=new f_(m.x+H,m.y+top,A-H-b,Q-top-J);return p};N.aG=function(G,m,A,Q){if(Q==null)Q=[!0,!0,!0,!0];
if(A==null)A=0;var H=new Uint32Array(G.buffer),J=m.e,b=m.n,top=0,O=0,a=0,e=0,R=!1,p=[H[0],H[H.length-1],0][A];
R=!1;if(Q[0])for(var P=0;P<b;P++){var z=P*J;for(var $=0;$<J;$++)if(H[z+$]!=p)R=!0;if(R)break;top++}R=!1;
if(Q[2])for(var P=b-1;P>=0;P--){var z=P*J;for(var $=0;$<J;$++)if(H[z+$]!=p)R=!0;if(R)break;a++}R=!1;
if(Q[1])for(var $=0;$<J;$++){for(var P=0;P<b;P++)if(H[P*J+$]!=p)R=!0;if(R)break;O++}R=!1;if(Q[3])for(var $=J-1;
$>=0;$--){for(var P=0;P<b;P++)if(H[P*J+$]!=p)R=!0;if(R)break;e++}var Z=new f_(m.x+O,m.y+top,J-O-e,b-top-a);
return Z.My()?new f_(0,0,0,0):Z};N.LA=function(G){var m=N.cP(G.channel,G.rect);if(m.A5(G.rect))return;
var A=N.$(m.Z());N.qg(G.channel,G.rect,A,m);G.channel=A;G.rect=m};N.uL=function(G){var m=N.$(G.buffer.length>>2);
N.gF(G.buffer,m,3);var A=N.cP(m,G.rect);if(A.A5(G.rect))return;var Q=new N.$(A.Z()*4);N.Pr(G.buffer,G.rect,Q,A);
G.buffer=Q;G.rect=A};N.extend=function(G,m,A){if(G.rect.ZM(m))return;var Q=G.rect.wj(m),H=N.$(Q.Z());
if(A!=null)H.fill(A);N.qg(G.channel,G.rect,H,Q);G.rect=Q;G.channel=H};N.ahJ=function(G,m){if(m.My()||G.rect.ZM(m))return;
var A=G.rect.wj(m),Q=N.$(A.Z()*4);N.Pr(G.buffer,G.rect,Q,A);G.rect=A;G.buffer=Q};N.yq=function(G,m,A){if(!A.EW(G))return!1;
var Q=Math.floor(G.x)-A.x,H=Math.floor(G.y)-A.y,$=H*A.e+Q;return m[$]>128};N.a6B=function(G,m,A){if(!A.EW(G))return!1;
var Q=Math.floor(G.x)-A.x,H=Math.floor(G.y)-A.y,$=H*A.e+Q;return m[4*$+3]>128};N.tM=function(G){if(N.eU.length<G){N.eU=N.$(G);
N.eU.fill(255)}return N.eU};N.eU=N.$(0);N.Pn=function(G){if(N.Rb.length<G)N.Rb=N.$(G);return N.Rb};N.Rb=N.$(0);
N.NI=function(G){this.Uj=N.$(G);this.p=N.$(G);this.z=N.$(G);this.h=N.$(G)};N.NI.prototype.clone=function(){var G=this.Uj.length,m=new N.NI(1);
m.Uj=this.Uj.slice(0);m.p=this.p.slice(0);m.z=this.z.slice(0);m.h=this.h.slice(0);return m};N.I.a60=function(G,m,A,Q,H){var J=H[0]+1,b=H[1],O=Math.abs(b-25)/4,a=H[2],e=a%2+a*a>>1,R=N.I.K;
R.VF(m,A);var p=R.Bv(1),P=R.Bv(1),z=R.Bv(1);R.cV(G,Q,a,a,e);R.uM(Q);R.r6(Q,p);R.V1(p,P,J,J,1);R.V1(p,z,J,J,J*J);
R.sub(z,P);R.au(P,O);(b<25?R.sub:R.add)(p,P);R.MU(P,Q);R.zW(Q)};N.I.a10=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=H[0]*2.55,O=H[1],a=O>>1,e=H[2]*.25,R=J.Bv(4),p=J.Bv(1),P=J.Bv(1);J.k4(G,R,O,1,!0,a);
J.k4(G,Q,O,1,!1,a);J.B_(G,p);J.FX(p,b);J.Hc(p,P,3);J.Kf(Q,P,R);J.Wy(R,Q,e)};N.I.a9c=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[3]);var b=H[0]*-3+80,O=H[1]*-3+80,a=H[2]/2+.5,e=H[4],R=H[5],p=J.Bv(1),P=J.Bv(1),z=J.Bv(1),Z=J.Bv(1),W=J.Bv(4),T=J.Bv(4);
J.B_(G,p);J.Gy(p,P);J.Rp(p,O,5);J.ST(p,.4,0);J.Hc(p,z,3);J.gi(z,p,9,3,!0,27);J.Gy(P,z);J.G3(z);var i=J.Ru(b,5,z);
for(var $=0;$<J.vb;$++){P[$]=i[255-P[$]]}J.ST(P,.4,0);J.Gy(P,z);J.Hc(z,Z,2);J.gi(Z,z,5,3,!1,15);J.au(p,a);
J.au(z,a);J.jx(Q,2155905279);J.jx(T,e);J.jx(W,R);J.Kf(T,p,Q);J.Kf(W,z,Q)};N.I.aux=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=new Uint8Array(256),O=5+10*H[1];O+=H[1]>3?(H[1]-3)*10:0;var a=~~(H[2]*.73)+50,e=Math.min(a+O,128),R=e-a,p=-255*a;
for(var $=0;$<256;$++){var P=$*65;b[$]=J.yH(p/R);p+=255}var z=J.Bv(1),Z=J.Bv(1),W=J.Bv(1);J.B_(G,z);
J.Gy(z,W);J.Hc(z,Z,2*H[0]+1);J.sub(Z,z);J.au(z,65);J.gi(z,Z,9,3,!0,20);for(var $=0;$<J.vb;$++){var T=W[$],i=Z[$];
z[$]=i>0?~~((i*T+(255-i)*128)/255):128}J.Hc(z,Z,3);J.gi(Z,z,15,2,!0,16);J.gi(Z,W,15,2,!1,15);J.w_(z,W);
J.AK(W,Z,2);J.VY(Z,b);J.Hc(Z,z,2);J.eX(z,Q)};N.I.a3k=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);var b=2*H[0]+1,O=J.wn[H[1]],a=H[2]*5.1,e=H[3],R=J.Bv(1),p=J.Bv(1),P=J.Bv(4),z=J.Bv(4);
J.jx(P,e);J.uM(P,Q);J.mg(R,a);J.MU(R,Q);J.zW(Q,P);J.B_(G,p);J.Hc(p,R,b);J.sub(R,p);J.au(p,O);J.gi(p,R,9,3,!0,20);
J.Kf(G,R,P);J.oY(P,Q,3);J.k4(Q,P,15,2,!0,16);J.k4(Q,z,15,2,!1,16);J.w_(P,z);J.Wy(z,Q,2)};N.I.ajY=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=(15-H[0])/4+1,O=(15-H[1])/4+1,a=H[2],e=H[3],R=J.qP(H[4]),p=H[5]+1,P=H[6],z=H[7],Z=H[8],W=J.Bv(1),T=J.Bv(1),i=J.Bv(1),X=J.Bv(1),U=J.Bv(4),M=J.Bv(4);
J.eH(i,a,e,P);J.B_(G,T);J.Hc(T,W,5);J.sc(i,W,X,p,R);J.au(X,b);J.uu(X,2);J.G3(W);J.sc(i,W,T,p,R);J.au(T,O);
J.uu(T,2);J.jx(U,2155905279);J.jx(M,z);J.jx(Q,Z);J.Kf(U,T,M);J.Kf(M,X,Q)};N.I.a0F=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[3]);var b=H[0],O=H[1]/10,a=H[2]/10,e=J.Bv(1),R=J.Bv(1),p=J.Bv(1),P=J.Pw(),z=J.Pw(),Z=J.Pw();
J.Ke(e);J.Hc(e,R,11);J.Hc(R,e,11);J.E4(e,P);J.TA(G,e);J.Gy(e,p);J.Hc(e,R,9);J.Hc(R,e,9);J.E4(e,z);J.U3(z,Z,5);
J.U3(Z,z,5);J.vR(P,.8);J.adN(P,z,.8,.9);J.ky(z,e,b);J.V1(e,R,2,2,1);J.V1(R,e,2,2,3);J.V1(e,R,2,2,3);
J.V1(p,e,5,5,13);J.O_(R,e,R,O);J.r1(e,R,R,a);J.sc(R,R,e,5,1);J.uM(G,Q);J.MU(e,Q);J.zW(Q)};N.I.ate=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=H[0],O=H[1]/2,a=H[2],e=b/2,R=J.Bv(4),p=J.Bv(4);J.Gy(G,Q);for(var P=0;P<a;P++){J.k4(Q,R,b,1,!0,e);
J.k4(Q,p,b,1,!1,e);J.w_(p,R);J.oY(R,p,2);J.Wy(p,Q,O)}};N.I.aaa=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);
var b=H[0]*10,O=H[1]*4.9,a=H[2]*4.9,e=J.Bv(1),R=J.Bv(1),p=J.Bv(4),P=J.Bv(4);J.B_(G,e);J.FX(e,J.akb(e,b));
J.Hc(e,R,3);J.k4(G,p,5,1,!1,1);J.k4(G,Q,15,2,!0,16);J.Kf(Q,R,p);J.uM(p,Q);J.r6(Q,e);J.Rp(e,O,a);J.MU(e,Q);
J.zW(Q)};N.I.amx=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);J.W9(H[4]);var b=H[0]/20,O=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][H[1]],a=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][H[2]],e=H[3],R=new Int16Array(256);
for(var $=0;$<256;$++){R[$]=~~(($-128)*b)}var p=J.Bv(1),P=J.Bv(1),z=J.Bv(4);J.B_(G,p);J.Hc(p,P,25);J.au(P,O);
J.uu(P,a);J.Hc(P,p,25);J.Ke(P);J.jS(p,P,R);J.Gy(G,Q);J.jx(z,e);J.Kf(z,p,Q)};N.I.ac4=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=H[0]+5,O=15-H[1],a=b*b/2,e=1-(3-H[2])/10,R=~~(O*O*e-1),p=~~(O*O*(1-e));if(p==0)p=1;var P=J.Bv(1),z=J.Bv(1),Z=J.Bv(1),W=J.Bv(4);
J.B_(G,Z);J.V1(Z,P,b,b,a);J.Hc(Z,z,b);J.sub(P,z);J.FX(z,1);J.cV(G,W,O,O,R);J.cV(G,Q,O,O,p);J.Kf(W,z,Q)};
N.I.aqD=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);J.W9(H[3]);var b=(20-H[0])*.05,O=H[1]*-2.75+60,a=65-O,e=H[2]/10,R=J.Bv(1),p=J.Bv(1);
J.TA(G,p);var P=J.Ru(O,a,p);J.uM(G,Q);J.r6(Q,p);J.Ke(R);J.CK(p,R,b);J.VY(p,P);J.au(p,H[2]/10);J.add(R,p);
J.MU(p,Q);J.zW(Q)};N.I.aq9=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);var b=5+H[0],O=15-H[1],a=H[2],e=b*b/2+b*b%2*1,R=1-(3-H[2])/10,p=~~(O*O*R-1),P=~~(O*O*(1-R));
if(P==0)P=1;var z=J.Bv(1),Z=J.Bv(1),W=J.Bv(1),T=J.Bv(1),i=J.Bv(1);J.TA(G,Z);J.AK(Z,z,3);J.V1(z,Z,2,2,1);
var X=J.Ru(20,20,Z);J.VY(Z,X);J.Hc(Z,i,5);J.V1(i,z,b,b,e);J.V1(i,Z,O,O,p);J.V1(i,W,O,O,P);J.Hc(i,T,b);
J.sub(z,T);J.FX(T,1);J._W(Z,T,W);J.uM(G,Q);J.MU(W,Q);J.zW(Q)};N.I.a6z=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[5]);var b=J.vb,O=J.Ko,a=H[0],e=H[1],R=H[2],p=H[3],P=H[4],z=.05*a+1,Z=a/100,W=a>>1,T=2*a-100,i=+(e==9),X=+(e==7),U=[4,1][i],M=[3,2][i],C=[1,2][X],x=[2,1][X],L=[50,75][i],E=e<4?R:(R>>1)+50,l=J.mt(L,E),y=J.e_(p),Y=J.e_(P),F=J.Bv(4),w=J.Bv(4),j=J.Bv(1),_=J.Bv(1);
function D(Q,l){if(E!=50){J.Wg(Q,l)}}function t(G,fY){for(var $=0;$<b;$++){G[$]=J.yH(G[$]+(fY[$]-128)*Z)}}function K(G,fY){for(var $=0,s=0;
$<b;$++){G[s]=J.yH(G[s]+(fY[s]-128)*Z);G[s+1]=J.yH(G[s+1]+(fY[s+1]-128)*Z);G[s+2]=J.yH(G[s+2]+(fY[s+2]-128)*Z);
s+=4}}function d(G,Q){J.Ke(w);J.Gy(G,Q);K(Q,w);D(Q,l)}function o(fY){var s=0;for(var hZ=0;hZ<12;hZ++)s+=J.random();
return J.yH(W*(s-6)+fY)}function k(G,Q){J.Gy(G,Q);for(var $=0;$<O;$+=4){Q[$]=o(Q[$]);Q[$+1]=o(Q[$+1]);
Q[$+2]=o(Q[$+2])}D(Q,l)}function v(G,Q){J.Gy(G,Q);for(var $=0;$<O;$+=4){if(J.random()<Z){Q[$]=y[0];Q[$+1]=y[1];
Q[$+2]=y[2]}}D(Q,l)}function u(G,Q){J.Ke(F);J.cV(F,w,M,M,U);J.Gy(G,F);K(F,w);J.cV(F,Q,5,5,13);D(Q,l)}function B(G,Q){J.Ke(w);
J.Gy(G,F);K(F,w);D(Q,l);J.cV(F,Q,M,M,U)}function S(G,Q){J.Gy(G,F);D(Q,l);J.B_(F,j);for(var $=0,fY=0;
$<b;$++){var s=((T-j[$]+255)*128.5+.5)/32767;if(J.random()<=s){Q[fY++]=Y[0];Q[fY++]=Y[1];Q[fY++]=Y[2]}else{Q[fY++]=y[0];
Q[fY++]=y[1];Q[fY++]=y[2]}Q[fY]=G[fY];fY++}}function I(G,Q){J.uM(G,Q);J.r6(Q,j);J.AK(j,_,z);J.V1(_,j,M,M,U);
J.VY(j,l);J.MU(j,Q);J.zW(Q)}function q(G){var fY=0;if(e==8){for(var s=0;s<m;s++){G[fY++]=~~(J.random()*255)}for(var $=1;
$<A;$++){for(var s=0;s<m;s++){G[fY++]=G[s]}}}else{for(var $=0;$<A;$++){var hZ=~~(J.random()*255);for(var s=0;
s<m;s++){G[fY++]=hZ}}}}function hw(G,Q){J.B_(G,j);J.Ke(_);t(j,_);q(_);t(j,_);J.oY(G,F,9);J.oY(F,w,9);
J.Hc(j,_,2);J.VY(_,l);J.Hc(_,j,2);J.uM(w,Q);J.MU(j,Q);J.zW(Q)}[d,k,v,u,u,B,S,hw,hw,I][e](G,Q)};N.I.a1n=function(G,m,A,Q,H){var J=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],b=N.I.K,W=0,T,$,C,x,L,E=0,l=1,y=255;
b.VF(m,A);b.W9(H[3]);var O=b.Bv(1),a=b.Bv(1);b.B_(G,O);var e=H[0],R=H[1],p=R<=50?J[R]/255:1+(255-J[101-R])/255,P=H[2],z=O.length,Z=new Float32Array(z),i=1+1/10*e,X=(1-1/i)/2,U=16/256,M=m-1;
for($=0;$<b.vb;$++){Z[$]=O[$]/255;a[$]=e==1?b.random()<1/255?y:l:l}function Y(F,w){var j=F*m+w;if(a[j]!=l||F>=A||w>=m){return}var x=Z[j],_=p-x,D=b.random(),t=D/i+X;
if(W==0||Math.abs(L-x)>U){T=t<=_?E:y;W=~~(b.random()*e)}else if(.1<D){W--}else{W=0}a[j]=T;L=x}if(P==0){for($=0;
$<m;$++){for(C=0;C<m;C++){x=$+C;if(x>=m)break;Y(C,M-x)}W=0}for($=1;$<A;$++){for(C=0;C<A;C++){x=$+C;if(x>=A||C>=m)break;
Y(x,M-C)}W=0}}else if(P==1){for($=0;$<A;$++){for(C=0;C<m;C++){Y($,C)}W=0}}else if(P==2){for($=0;$<m;
$++){for(C=0;C<m;C++){x=$+C;if(x>=m)break;Y(C,x)}W=0}for($=1;$<A;$++){for(C=0;C<A;C++){x=$+C;if(x>=A||C>=m)break;
Y(x,C)}W=0}}else{for($=0;$<m;$++){for(C=0;C<A;C++){Y(C,$)}W=0}}b.eX(a,Q)};N.I.a7z=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=H[0],O=H[1],a=H[2],e=J.Bv(1),R=J.Bv(1),p=J.Bv(1),P=J.Bv(4),z=J.Bv(4);J.B_(G,e);J.V1(e,R,3,3,1);
J.V1(e,p,3,3,9);J.sub(p,R);J.Hc(R,e,3);J.Rp(e,40,10);J.k4(G,Q,b,2,!1,b);J.k4(G,P,b,2,!0,b);J.jx(z,255);
J.Kf(Q,e,z);J.Kf(z,e,P);J.Wy(P,Q,1);J.uM(Q);J.r6(Q,e);J.Rp(e,O,a);J.MU(e,Q);J.zW(Q)};N.I.agK=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[3]);var b=H[0],O=H[1],a=H[2]/10;b=b+O;var e=J.Bv(1),R=J.Bv(1),p=J.Pw(),P=J.Pw();J.Ke(e);
J.Hc(e,R,11);J.Hc(R,e,11);J.E4(e,p);J.U3(p,P,5);J.U3(P,p,5);J.vR(P,.97);J.ky(P,e,b);J.V1(e,R,O,O,1);
J.TA(G,e);J.O_(R,e,R,.6);J.r1(e,R,R,a);J.sc(R,R,e,5,1);J.uM(G,Q);J.MU(e,Q);J.zW(Q)};N.I.afq=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=Math.abs(H[0]),O=b+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][b],a=2*b+1,e=H[1]/10,R=e*13/15,p=J.Bv(1),P=J.Bv(1),z=J.Bv(1),Z=J.Bv(1),W=J.Bv(4),T=J.Bv(4),i=J.Bv(4),X=J.Bv(4),U=J.Bv(4);
J.B_(G,p);if(H[0]>=0){J.G3(p)}J.Gy(p,z);J.Hc(p,Z,O);J.Hc(Z,p,O);J.au(p,e);J.Gy(p,P);J.Hc(p,Z,a);J.Hc(Z,p,a);
J.au(p,R);J.jx(i,H[2]);J.jx(X,H[3]);J.jx(U,H[4]);J.Kf(i,p,X,W);J.Kf(U,P,W,T);J.Kf(X,z,T,Q);J.r6(G,z,3);
J.MU(z,Q,3)};N.I.a08=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);J.W9(H[5]);var b=H[0]*5.1,O=H[1]/100,a=J.gm[H[2]],e=J.Bv(1),R=J.Bv(1),p=J.Bv(1);
J.B_(G,e);J.mg(R,255);J.Ke(p);J.FX(e,b);J.CK(R,e,.7);J.CK(p,e,O);J.sc(e,e,R,5,a);J.Gy(G,Q);J.aa6(Q,b,H[4],H[3]);
J.uM(Q);J.MU(R,Q);J.zW(Q)};N.I.a02=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);var b=H[0],O=4-H[1],a=11-H[2],e=J.Bv(1),R=J.Bv(1),p=J.Bv(4);
J.TA(G,R);for(var $=0;$<O;$++){J.Gy(R,e);J.O2(e,R,b,b)}J.oY(G,p,b);J.uM(p,p);J.MU(R,p);J.zW(p,p);(a<11?J.amy:J.Gy)(p,Q,a)};
N.I.ah6=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);J.W9(H[2]);var b=H[0]+5,O=~~(b/5+1),a=~~(b/2)+1,e=a*a,R=~~(b/3),p=J.gm[H[1]],P=new Array(256);
for(var $=0;$<256;$++){P[$]=~~(.2*($-128))}var z=J.Bv(1),Z=J.Bv(1);J.arm(G,Q,b);J.uM(Q);J.r6(Q,z);J.Ke(Z);
J.jS(z,Z,P);J.ah7(Z,b,b,O,O);J.O_(z,Z,z,1);J.Hc(z,Z,R);J.Hc(Z,z,R);J.V1(z,Z,a,a,e);J.sc(Z,Z,z,5,p);J.MU(z,Q);
J.zW(Q)};N.I.afc=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);var b=J.Bv(1),O=J.Bv(1),a=J.Bv(1),e=J.Pw(),R=J.Pw();
J.B_(G,b);J.Hc(b,O,H[2]);J.FX(O,H[0]*5.1);J.V1(O,b,2,2,4);J.Hc(b,O,3);J.Hc(O,b,3);J.Gy(b,a);J.Hc(b,O,5);
J.Hc(O,b,5);J.E4(b,e);J.U3(e,R,5);J.U3(R,e,5);J.aml(e,O,H[1]);J.G3(O);J.O_(a,O,a,1);J.eX(a,Q)};N.I.a0J=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=1<<7-H[2],O=J.Bv(1),a=J.Bv(1),e=J.Bv(1);J.TA(G,a);J.Hc(a,O,3);J.Gy(O,a);J.Hc(O,e,H[0]+5);
J.sub(e,a);J.Rp(a,1,H[1]);J.au(O,1/b);J.au(O,b);J.sub(O,a);J.uM(G,Q);J.MU(a,Q);J.zW(Q)};N.I.a87=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[3]);var b=J.Bv(1),O=J.Bv(1),a=J.Bv(1);J.B_(G,b);J.as0(O,H[0]/50);J.Hc(O,a,3);J.V1(b,O,9,9,41);
J.Rp(O,H[1],H[2]);J.O_(O,a,a,.75);J.r1(O,a,O,.5);J.Gy(O,b);J.V1(b,a,3,3,8);J.O_(a,O,a,.75);J.au(a,1.2);
J.AK(a,b,1);J.Hc(b,a,2);J.AK(a,b,2);J.au(b,1.2);J.Hc(b,a,2);J.eX(a,Q)};N.I.anA=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=H[0]+9,O=H[1]/2,a=H[2],e=H[3],R=J.qP(H[4]),p=H[5]+1,P=H[6],z=J.Bv(1),Z=J.Bv(1),W=J.Bv(4),T=J.Bv(4);
J.eH(Z,a,e,P);J.PL(G,Q,b,1,1);J.PL(Q,W,b,1,1);J.a3X(W,W,T,7,O);J.au(T,1.2);J.uu(T,1.2);J.sc(Z,z,z,p,R);
J.au(z,3);J.Gy(G,Q);J.Kf(T,z,Q)};N.I.a2u=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);J.W9(H[3]);var b=H[0]+4,O=b*2/5+(b%5|0);
b--;var a=H[1]*-2.75+60,e=65-a,R=H[2]/10,p=J.Bv(1),P=J.Bv(1);J.Ke(p);J.TA(G,P);var z=J.Ru(a,e,P);J.uM(G,Q);
J.r6(Q,P);J.CK(P,p,.8);J.VY(P,z);J.au(P,R);J.add(p,P);J.gi(P,p,b,3,!1,O);J.MU(p,Q);J.zW(Q)};N.I.auc=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[3]);var b=H[0]+5,O=(b*b>>1)+b%2,a=H[1]/10,e=H[2],R=(e*e>>1)+e%2,p=J.Bv(1),P=J.Bv(1),z=J.Bv(1),Z=J.Bv(4),W=J.Bv(4),T=J.Bv(4);
J.Ke(z);J.uM(G,T);J.r6(T,p);J.CK(p,z,.8);J.Hc(z,p,3);J.AK(p,z,a);J.MU(z,T);J.zW(T,T);J.B_(T,z);J.V1(z,p,b,b,O);
J.Hc(z,P,b);J.sub(p,P);J.FX(P,1);J.cV(T,Z,7,7,40);J.cV(T,W,7,7,10);J.Kf(Z,P,W);J.cV(W,Q,e,e,R)};N.I.aeP=function(G,m,A,Q,H){var J=N.I.K,O=255,$,e;
J.VF(m,A);var b=H[0];if(b<2)O=b;else if(b<12)O=5*b-5;else if(b<47)O=2*b+28;else if(b<50){$=b-47;O=125+12.5*$+12.5*$*$}var a=new Uint8Array(256);
for($=75,e=15;$<256;$++,e+=24)a[$]=Math.min(255,e);var R=J.Bv(1),p=J.Bv(1),P=J.Bv(1);J.B_(G,R);J.Hc(R,p,11);
J.Hc(p,P,11);J.sub(P,R);J.au(R,8);J.sub(P,R);J.FX(R,O);J.G3(R);J.Hc(R,p,5);J.FX(p,51);J.Hc(p,R,H[1]);
J.Hc(R,p,H[1]);J.G3(p);J.VY(p,a);J.eX(p,Q)};N.I.auB=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);var b=J.wn[H[1]],O=H[2],a=O*1.5,e=J.Bv(1),R=J.Bv(1),p=J.Bv(1);
J.TA(G,e);J.gi(e,R,15,2,!0,15);J.Gy(R,p);J.Rp(p,O,a);J.Hc(p,e,3);J.Hc(R,p,H[0]);J.sub(p,R);J.au(R,b);
J.sub(e,R);J.Hc(R,e,3);J.gi(e,R,3,1,!1,1);J.oY(G,Q,15);J.uM(Q);J.MU(R,Q);J.zW(Q)};N.I.ajW=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);J.W9(H[3]);var b=H[0]*5.1,O=16-H[1],a=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][H[2]],e=J.Bv(1),R=J.Bv(1),p=J.Bv(1);
J.B_(G,e);J.FX(e,b);J.Hc(e,R,O);J.Hc(R,e,O);J.Ke(p);J.r1(e,p,p,1);J.O_(e,p,e,.75);J.au(e,a);J.uu(e,a);
J.V1(e,R,2,2,2);J.eX(R,Q)};N.I.a2p=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);var b=H[0]+9,O=H[1]+9,a=H[2],e=H[3],R=J.qP(H[4]),p=H[5]+1,P=H[6],z=J.Bv(1),Z=J.Bv(1),W=J.Bv(1),T=J.Bv(1),i=J.Bv(1),X=J.Bv(4);
J.TA(G,z);J.O2(z,W,b,b);J.Hc(W,z,O);J.Gy(W,i);J.Gy(z,T);J.sub(i,T);J.sub(z,i);J.add(i,T);J.au(T,10);
J.eH(Z,a,e,P);J.sc(Z,z,i,p,R);J._W(i,T,W,.8);J.oY(G,X,9);J.oY(X,Q,9);J.uM(Q);J.MU(W,Q);J.zW(Q)};N.I.acj=function(G,m,A,Q,H){var J=N.I.K;
J.VF(m,A);var b=16-H[0],O=H[1]*8,a=1-(3-H[2])/10,e=~~(b*b*a-1),R=~~(b*b*(1-a));if(R==0)R=1;var p=J.Bv(1),P=J.Bv(1),z=J.Bv(1),Z=J.Bv(4);
J.B_(G,z);J.V1(z,p,7,7,25);J.Hc(z,P,7);J.sub(p,P);J.FX(P,1);J.cV(G,Z,b,b,e);J.cV(G,Q,b,b,R);J.Kf(Z,P,Q);
J.uM(Q);J.r6(Q,p);J.V1(p,z,3,3,1);J.V1(p,P,3,3,9);J.sub(P,z);J.Gy(z,P);J.sub(p,z);J.sub(z,P);J.V1(P,p,3,3,8);
J.Rp(p,O,1);J.MU(p,Q);J.zW(Q)};N.I.a83=function(G,m,A,Q,H){var J=N.I.K;J.VF(m,A);J.W9(H[3]);var b=H[0],O=H[1],a=H[2],e=b>>1,R=Math.max(~~(b/5),1),p=Math.max(~~(b*2/3),1),P=J.mt(O,a),z=J.Bv(1),Z=J.Bv(1),W=J.Bv(1),T=J.Bv(1),i=J.Bv(4);
J.TA(G,z);J.V0(2147483647,4,2,2,0,255,Z);J.V0(4,2147483647,2,2,0,255,T);J.Ke(W);J.r1(Z,W,Z,1);J.r1(T,W,T,1);
J.r1(Z,z,Z,1);J.r1(T,z,T,1);J.oY(G,i,e);J.oY(i,Q,e);J.V1(Z,z,1,b,R);J.V1(z,Z,3,b,p);J.V1(T,z,b,1,R);
J.V1(z,T,b,3,p);J.w_(Z,T);J.uM(Q);J.MU(T,Q);J.zW(Q);J.Wg(Q,P)};N.I.K={};N.I.K.zp=0;N.I.K.V7=0;N.I.K.vb=0;
N.I.K.I1=0;N.I.K.Ko=0;N.I.K.VF=function(G,m){var A=G*m,self=N.I.K;self.zp=G;self.V7=m;self.vb=A;self.I1=A<<1;
self.Ko=A<<2};N.I.K.W9=function(G){N.I.K.random=function(){var m=G+=1831565813;m=Math.imul(m^m>>>15,m|1);
m^=m+Math.imul(m^m>>>7,m|61);return((m^m>>>14)>>>0)/4294967296}};N.I.K.Bv=function(G){var m=N.I.K;return new Uint8Array([-1,m.vb,m.I1,-1,m.Ko][G])};
N.I.K.Pw=function(){return new Int32Array(N.I.K.I1)};N.I.K.Hc=function(G,m,A,Q){if(Q==null)Q=A;var self=N.I.K,H=self.zp,J=self.V7;
N.ua.hO(G,m,new f_(0,0,H,J),A>>>1);return};N.I.K.U3=function(G,m,A,Q){var self=N.I.K,H=new Int32Array(self.vb),J=new Int32Array(self.vb);
for(var $=0;$<2;$++){self.r6(G,H,$,2);self.Hc(H,J,A,Q);self.MU(J,m,$,2)}};N.I.K.oY=function(G,m,A,Q){var self=N.I.K,H=self.Bv(1),J=self.Bv(1);
for(var $=0;$<4;$++){self.r6(G,H,$);if($<3)self.Hc(H,J,A,Q);else J=H;self.MU(J,m,$)}};N.I.K.PL=function(G,m,A,Q,H){var self=N.I.K,J=self.zp,b=self.V7,O=A+Q-1,a=A>>1,e=O>>1,R=0,p=A*Q,P=new Int32Array(A);
for(var $=0;$<b;$++){var z=0,Z=0,W=0;for(var T=0;T<A;T++){var i=H?O-T-Q:T;for(var X=i,U=Q+i;X<U;X++){var M=0-e+X,C=$-a+T;
if(X==i){P[T]=M}if(M<0)M=0;else if(M>=J)M=J-1;if(C<0)C=0;else if(C>=b)C=b-1;var x=J*C+M<<2;z+=G[x];Z+=G[x+1];
W+=G[x+2]}}m[R++]=~~(z/p);m[R++]=~~(Z/p);m[R++]=~~(W/p);m[R]=G[R];R++;for(var L=1;L<J;L++){for(var T=0;
T<A;T++){var C=$-a+T,i=P[T]+1;P[T]=i;var E=i-1,l=i+Q-1;if(C<0)C=0;else if(C>=b)C=b-1;if(E<0)E=0;else if(E>=J)E=J-1;
if(l<0)l=0;else if(l>=J)l=J-1;var y=C*J+E<<2,Y=C*J+l<<2;z=z+G[Y]-G[y];Z=Z+G[Y+1]-G[y+1];W=W+G[Y+2]-G[y+2]}m[R++]=~~(z/p);
m[R++]=~~(Z/p);m[R++]=~~(W/p);m[R]=G[R];R++}}};N.I.K.gi=function(G,m,A,Q,H,J){var self=N.I.K,b=self.zp,O=self.V7,a=A+Q-1,e=A>>1,R=a>>1,p=0,P=new Int32Array(A),z=new Int32Array(256),Z=new Int32Array(16);
for(var $=0;$<O;$++){z.fill(0);Z.fill(0);for(var W=0;W<A;W++){var T=H?a-W-Q:W;for(var i=T,X=Q+T;i<X;
i++){var U=0-R+i,M=$-e+W;if(i==T){P[W]=U}if(U<0)U=0;else if(U>=b)U=b-1;if(M<0)M=0;else if(M>=O)M=O-1;
z[G[M*b+U]]++;Z[G[M*b+U]>>>4]++}}m[p++]=N.I.K.WB(Z,z,J);for(var C=1;C<b;C++){for(var W=0;W<A;W++){var M=$-e+W,T=P[W]+1;
P[W]=T;var x=T-1,L=T+Q-1;if(M<0)M=0;else if(M>=O)M=O-1;if(x<0)x=0;else if(x>=b)x=b-1;if(L<0)L=0;else if(L>=b)L=b-1;
var E=G[M*b+x],l=G[M*b+L];z[E]--;z[l]++;Z[E>>>4]--;Z[l>>>4]++}m[p++]=N.I.K.WB(Z,z,J)}}};N.I.K.k4=function(G,m,A,Q,H,J){var self=N.I.K,b=self.Bv(1),O=self.Bv(1);
for(var $=0;$<4;$++){self.r6(G,b,$);if($<3)self.gi(b,O,A,Q,H,J);else O=b;self.MU(O,m,$)}};N.I.K.V1=function(G,m,A,Q,H){H=Math.min(Q*A,H);
var self=N.I.K,J=self.zp,b=self.V7,O=Q>>1,a=A>>1,e=0,R=new Int32Array(Q),p=new Int32Array(256),P=new Int32Array(16);
for(var $=0;$<b;$++){p.fill(0);P.fill(0);for(var z=0;z<Q;z++){for(var Z=0,W=A;Z<W;Z++){var T=0-a+Z,i=$-O+z;
if(Z==0){R[z]=T}if(T<0)T=0;else if(T>=J)T=J-1;if(i<0)i=0;else if(i>=b)i=b-1;p[G[i*J+T]]++;P[G[i*J+T]>>>4]++}}m[e++]=N.I.K.WB(P,p,H);
for(var X=1;X<J;X++){for(var z=0;z<Q;z++){var i=$-O+z,U=R[z]+1;R[z]=U;var M=U-1,C=U+A-1;if(i<0)i=0;else if(i>=b)i=b-1;
if(M<0)M=0;else if(M>=J)M=J-1;if(C<0)C=0;else if(C>=J)C=J-1;var x=G[i*J+M],L=G[i*J+C];p[x]--;p[L]++;
P[x>>>4]--;P[L>>>4]++}m[e++]=N.I.K.WB(P,p,H)}}};N.I.K.WB=function(G,m,A){var Q=0,H=0;while(Q+G[H>>>4]<A){Q+=G[H>>>4];
H+=16}for(;H<256;H++){Q+=m[H];if(Q>=A)break}return H};N.I.K.cV=function(G,m,A,Q,H){var self=N.I.K,J=self.Bv(1),b=self.Bv(1);
for(var $=0;$<4;$++){self.r6(G,J,$);if($<3)self.V1(J,b,A,Q,H);else b=J;self.MU(b,m,$)}};N.I.K.AK=function(G,m,A){var self=N.I.K,Q=self.zp,H=self.V7,J=0;
for(var $=0;$<H;$++){var b=$*Q,O=($-1)*Q,a=($+1)*Q;if(O<0)O=b;if(a>=H)a=b;for(var e=0;e<Q;e++){var R=e-1,p=e+1;
if(R<0)R=e;if(p>=Q)p=e;var P=b+R,z=b+p,Z=O+e,W=a+e,T=b+e,i=G[P],X=G[z],U=G[Z],M=G[W],C=G[T],x=C+(C*4*A+.5);
x=x-((i+X+M+U)*A+.5);m[J++]=self.yH(x)}}};N.I.K.Wy=function(G,m,A){var self=N.I.K,Q=self.Bv(1),H=self.Bv(1);
for(var $=0;$<4;$++){self.r6(G,Q,$);if($<3)self.AK(Q,H,A);else H=Q;self.MU(H,m,$)}};N.I.K.amy=function(G,m,A){var self=N.I.K,Q=self.zp,H=self.V7,J=0,b=A+4;
for(var $=0;$<H;$++){var O=$*Q,a=($-1)*Q,e=($+1)*Q;if(a<0)a=O;if(e>=H)e=O;for(var R=0;R<Q;R++){var p=R-1,P=R+1;
if(p<0)p=R;if(P>=Q)P=R;var z=O+p<<2,Z=O+P<<2,W=a+R<<2,T=e+R<<2,i=O+R<<2;for(var X=0;X<3;X++){var U=G[z+X],M=G[Z+X],C=G[W+X],x=G[T+X],L=G[i+X];
m[J++]=(L*A+U+M+x+C)/b}m[J]=G[J];J++}}};N.I.K.O2=function(G,m,A,Q){var self=N.I.K,H=self.zp,J=self.V7,b=A>>1,O=Q>>1,a=0,e=new Int32Array(A),R=new Int32Array(256);
for(var $=0;$<J;$++){R.fill(0);for(var p=0;p<A;p++){for(var P=0,z=Q;P<z;P++){var Z=0-O+P,W=$-b+p;if(P==0){e[p]=Z}if(Z<0)Z=0;
else if(Z>=H)Z=H-1;if(W<0)W=0;else if(W>=J)W=J-1;R[G[W*H+Z]]++}}var T=0,i=0;for(var X=0;X<256;X++){if(T<R[X]){i=X;
T=R[X]}}m[a++]=i;for(var U=1;U<H;U++){for(var p=0;p<A;p++){var W=$-b+p,M=e[p]+1;e[p]=M;var C=M-1,x=M+Q-1;
if(W<0)W=0;else if(W>=J)W=J-1;if(C<0)C=0;else if(C>=H)C=H-1;if(x<0)x=0;else if(x>=H)x=H-1;R[G[W*H+C]]--;
R[G[W*H+x]]++}T=0;i=0;for(var X=0;X<256;X++){if(T<R[X]){i=X;T=R[X]}}m[a++]=i}}};N.I.K.aen=[function(G,m,A,Q,H,J,b,O,a,e){return H+(G+m+A)*e-(a+O+b)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(m+A+J)*e-(O+b+Q)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(A+J+a)*e-(b+Q+G)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(J+a+O)*e-(Q+G+m)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(a+O+b)*e-(G+m+A)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(O+b+Q)*e-(m+A+J)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(b+Q+G)*e-(A+J+a)*e},function(G,m,A,Q,H,J,b,O,a,e){return H+(Q+G+m)*e-(J+a+O)*e}];
N.I.K.sc=function(G,m,A,Q,H){var self=N.I.K,J=self.zp,b=self.V7,O=J,a=self.aen[Q-1];for(var $=0;$<b;
$++){var e=($>0?$-1:0)*O,R=$*O,p=($<b?$+1:$)*O;for(var P=0;P<J;P++){var z=P>0?P-1:0,Z=P<J?P+1:P,W=R+P,T=G[e+z],i=G[e+P],X=G[e+Z],U=G[R+z],M=m[W],C=G[R+Z],x=G[p+z],L=G[p+P],E=G[p+Z];
A[W]=self.yH(a(T,i,X,U,M,C,x,L,E,H))}}};N.I.K.a3X=function(G,m,A,Q,H){var self=N.I.K,J=self.Bv(1),b=self.Bv(1),O=self.Bv(1);
for(var $=0;$<3;$++){self.r6(G,J,$);self.r6(m,b,$);self.sc(J,b,O,Q,H);self.MU(O,A,$)}self.r6(m,J,3);
self.MU(J,A,3)};N.I.K.B_=function(G,m){var A=G.length,Q=0;for(var $=0;$<A;$++){m[Q++]=~~((G[$++]+G[$++]+G[$++]+2)/3)}};
N.I.K.eX=function(G,m){var A=m.length,Q=0;for(var $=0;$<A;$++){var H=G[$];m[Q++]=H;m[Q++]=H;m[Q++]=H;
m[Q++]=255}if(m[0]==255)m[0]--;else m[0]++};N.I.K.TA=function(G,m){var A=m.length,Q=0;for(var $=0;$<A;
$++){var H=G[Q++],J=G[Q++],b=G[Q++];Q++;if(J>H)H=J;if(b>H)H=b;m[$]=H}};N.I.K.uM=function(G,m){if(m==null)m=G;
var A=G.length;for(var Q=0;Q<A;Q+=4){var H=G[Q],J=G[Q+1],b=G[Q+2],O=H,a=0,e=H,p;if(J<=H){H=J}else{a=1;
e=J}if(b<=e){if(H>b){H=b}}else{a=2;e=b}var R=e-H;if(R!=0){if(a==0){p=~~(43*(J-b)/R)}else if(a==1){p=~~(43*(b+2*R-O)/R)}else{p=43*(O+4*R-J)/R}if(p<0){p=255&p-1}m[Q]=p;
m[Q+1]=~~(255*R/e)}else{m[Q]=R;m[Q+1]=R}m[Q+2]=e;m[Q+3]=G[Q+3]}};N.I.K.zW=function(G,m){if(m==null)m=G;
var A=G.length;for(var Q=0;Q<A;Q+=4){var H=G[Q],J=G[Q+1],b=G[Q+2];if(J){if(H==255)H=0;var O=~~(6*H/255),a=~~(-255*O+6*H);
if(O==0){m[Q]=b;m[Q+1]=~~(b*(255-J*(255-a)/255)/255);m[Q+2]=~~(b*(255-J)/255)}else if(O==1){m[Q]=~~(b*(255-J*a/255)/255);
m[Q+1]=b;m[Q+2]=~~(b*(255-J)/255)}else if(O==2){m[Q]=~~(b*(255-J)/255);m[Q+1]=b;m[Q+2]=~~(b*(255-J*(255-a)/255)/255)}else if(O==3){m[Q]=~~(b*(255-J)/255);
m[Q+1]=~~(b*(255-J*a/255)/255);m[Q+2]=b}else if(O==4){m[Q]=~~(b*(255-J*(255-a)/255)/255);m[Q+1]=~~(b*(255-J)/255);
m[Q+2]=b}else{m[Q]=b;m[Q+1]=~~(b*(255-J)/255);m[Q+2]=~~(b*(255-J*a/255)/255)}}else{m[Q]=b;m[Q+1]=b;m[Q+2]=b}m[Q+3]=G[Q+3]}};
N.I.K.MU=function(G,m,A,Q){if(A==null)A=2;if(Q==null)Q=4;var H=G.length;for(var $=0;$<H;$++){m[A]=G[$];
A+=Q}};N.I.K.r6=function(G,m,A,Q){if(A==null)A=2;if(Q==null)Q=4;var H=m.length;for(var $=0;$<H;$++){m[$]=G[A];
A+=Q}};N.I.K._W=function(G,m,A,Q){if(Q==null)Q=1;var H=m.length,J=0,b;for(var J=0;J<H;J++){b=m[J];if(b){b*=Q;
A[J]=~~((b*G[J]+(255-b)*A[J])/255)}}};N.I.K.Kf=function(G,m,A,Q){if(Q==null)Q=A;var H=m.length,J=0,b,O;
for(var $=0;$<H;$++){b=m[$];if(b){O=255-b;Q[J]=~~((b*G[J]+O*A[J])/255);Q[J+1]=~~((b*G[J+1]+O*A[J+1])/255);
Q[J+2]=~~((b*G[J+2]+O*A[J+2])/255)}Q[J+3]=G[J+3];J+=4}};N.I.K.O_=function(G,m,A,Q){var H=~~(Q*255),J=A.length;
for(var $=0;$<J;$++){A[$]=((255-H*(255-G[$])/255)*m[$]+G[$]*(H*(255-G[$])/255))/255}};N.I.K.r1=function(G,m,A,Q){var H=~~(Q*255),J=A.length;
for(var $=0;$<J;$++){A[$]=((255-H*G[$]/255)*m[$]+G[$]*(H*G[$]/255))/255}};N.I.K.CK=function(G,m,A){var Q=m.length;
for(var $=0;$<Q;$++){m[$]=~~(G[$]*A+.5)+(m[$]-~~(m[$]*A+.5))}};N.I.K.sub=function(G,m){var A=G.length;
for(var $=0;$<A;$++){m[$]=Math.max(G[$]-m[$],0)}};N.I.K.add=function(G,m){var A=G.length;for(var $=0;
$<A;$++){m[$]=Math.min(G[$]+m[$],255)}};N.I.K.w_=function(G,m){var A=G.length;for(var $=0;$<A;$++){m[$]=G[$]+m[$]>>1}};
N.I.K.Gy=function(G,m){var A=G.length;for(var $=0;$<A;$++){m[$]=G[$]}};N.I.K.VY=function(G,m){var A=G.length;
for(var $=0;$<A;$++){G[$]=m[G[$]]}};N.I.K.Wg=function(G,m){var A=N.I.K.Ko;for(var $=0;$<A;$+=4){var Q=G[$],H=G[$+1],J=G[$+2],b=Q;
if(H>Q)b=H;if(J>Q)b=J;var O=m[b];if(O){G[$]=~~(O*Q/b);G[$+1]=~~(O*H/b);G[$+2]=~~(O*J/b)}else{G[$]=O;
G[$+1]=O;G[$+2]=O}}};N.I.K.au=function(G,m){for(var $=0,A=G.length;$<A;$++){G[$]=Math.min(255,~~(.5+G[$]*m))}};
N.I.K.uu=function(G,m){for(var $=0,A=G.length;$<A;$++){G[$]=255-Math.min(255,~~(.5+(255-G[$])*m))}};
N.I.K.G3=function(G){var m=G.length;for(var $=0;$<m;$++){G[$]=255-G[$]}};N.I.K.FX=function(G,m,A,Q){if(A==null)A=0;
if(Q==null)Q=255;for(var $=0,H=G.length;$<H;$++){G[$]=G[$]>=m?Q:A}};N.I.K.e_=function(G){return[G>>24&255,G>>16&255,G>>8&255,G&255]};
N.I.K.aa6=function(G,m,A,Q){if(A==null)A=255;if(Q==null)Q=4278190335;var H=N.I.K,J=H.Ko,b=H.e_(A),O=H.e_(Q);
for(var $=0;$<J;$+=4){var a=~~((G[$]+G[$+1]+G[$+2]+2)/3);if(a>=m){G[$]=b[0];G[$+1]=b[1];G[$+2]=b[2]}else{G[$]=O[0];
G[$+1]=O[1];G[$+2]=O[2]}}};N.I.K.jx=function(G,m){var A=N.I.K,Q=A.Ko,H=A.e_(m);for(var $=0;$<Q;){G[$++]=H[0];
G[$++]=H[1];G[$++]=H[2];G[$++]=H[3]}};N.I.K.mg=function(G,m){var A=G.length;for(var $=0;$<A;){G[$++]=m}};
N.I.K.mt=function(G,m){G=G>5?(100-Math.max(4,G))/100:.95;m=m!=100?Math.max(4,m)/100:.9995;var A=new Uint8Array(256),Q=m>.5?.5/(1-m):m*2,H=~~(Q*256),J=~~((.5-G*Q)*256)<<8;
for(var $=0;$<256;$++){A[$]=N.I.K.yH(J>>8);J+=H}return A};N.I.K.Ke=function(G){for(var $=0,m=N.I.K,A=G.length;
$<A;$++){G[$]=~~(m.random()*256)}};N.I.K.as0=function(G,m){for(var $=0,A=N.I.K,Q=G.length;$<Q;$++){G[$]=A.random()<m?255:0}};
N.I.K.ST=function(G,m,A){for(var $=0,Q=N.I.K,H=G.length;$<H;$++){if(Q.random()<m)G[$]=A}};N.I.K.jS=function(G,m,A){var Q=G.length;
for(var $=0;$<Q;$++){G[$]=N.I.K.yH(G[$]+A[m[$]])}};N.I.K.$t=function(G){var m=new Uint32Array(256);for(var $=0,A=G.length;
$<A;$++){m[G[$]]++}return m};N.I.K.Ru=function(G,m,A){var self=N.I.K,Q=self.$t(A),H=self.vb/100,J=new Uint8Array(256),b=H*G,O=H*m,a=0,e=-1,R=256;
do{a+=Q[++e]}while(a<=b);a=0;do{a+=Q[--R]}while(a<=O);if(R-e<=0)R=e+1;if(R>255){R=255;e=254}var p=255/(R-e),P=-e;
for(var $=0;$<256;$++){J[$]=self.yH(p*P+.5);P++}return J};N.I.K.Rp=function(G,m,A){var Q=N.I.K;Q.VY(G,Q.Ru(m,A,G))};
N.I.K.akb=function(G,m){var self=N.I.K,A=self.$t(G),Q=self.vb*m/100,H=0,J=-1;do{H+=A[++J]}while(H<=Q);
return J};N.I.K.E4=function(G,m){var A=0,self=N.I.K,Q=self.zp,H=self.V7,J=1/Math.PI,b=J*255;for(var $=0;
$<H;$++){var O=$+1;if(O==H)O--;var a=$*Q,e=~~((1-($+1)/H)*255);for(var R=0;R<Q;R++){var p=R+1;if(p==Q)p--;
var P=G[a+R],z=G[a+p],Z=G[O*Q+R];if(P-Z==0){m[A++]=e}else{var W=P-Z+255;if(W==255){W=0}else{W=~~(Math.atan2(1/(255-W),1)*b+.5);
if(W<0)W+=255}m[A++]=W}if(P-z==0){m[A++]=~~((1-(R+1)/Q)*255)}else{var W=P-z+255;if(W==255){W=0}else{W=~~(Math.atan2(1/(255-W),1)*b+.5);
if(W<0)W+=255}m[A++]=W}}}};N.I.K.vR=function(G,m){var self=N.I.K,A=self.zp,Q=self.V7,H=0;for(var $=0;
$<Q;$++){for(var J=0;J<A;J++){G[H]=~~($*m+.5)+~~(G[H]*(1-m)+.5);H++;G[H]=~~(J*m+.5)+~~(G[H]*(1-m)+.5);
H++}}};N.I.K.adN=function(G,m,A,Q){var self=N.I.K,H=self.zp,J=self.V7,b=0;for(var $=0;$<J;$++){for(var O=0;
O<H;O++){m[b]=~~(m[b]*(1-A)+.5)+~~(G[b]*Q+.5);b++;m[b]=~~(m[b]*(1-A)+.5)+~~(G[b]*Q+.5);b++}}};N.I.K.ky=function(G,m,A){var self=N.I.K,Q=self.zp,H=self.V7,J=0,b=0;
for(var $=0;$<H;$++){for(var O=0;O<Q;O++){var a=G[J++],e=G[J++];m[b++]=e%A>=2&&a%A>=2?255:0}}};N.I.K.V0=function(G,m,A,Q,H,J,b){var self=N.I.K,O=self.zp,a=self.V7,e=0,R=0,p=0;
for(var $=0;$<a;$++){var P=$%G<A||a-A<=$;for(var z=0;z<O;z++){b[e++]=P||z%m<Q||O-Q<=z?H:J}}};N.I.K.eH=function(G,m,A,Q){var self=N.I.K,H=self.zp,J=self.V7,b=iA.eH(m),O=b[0],a=b[1],e=N.$(O.Z()*4);
e.fill(4294967295);N.mH(a,e);var R=N.scale.ke(e,O.e,O.n),p=N.scale.vy(R,null,H,J,A/100,A/100,0,0);N.gF(p,G,0);
if(Q)N.G3(G)};N.I.K.yH=function(G){return~~Math.min(255,Math.max(0,G))};N.I.K.wn=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
N.I.K.gm=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];N.I.K.qP=function(G){return G>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][G-41]:G/40};
N.I.K.arm=function(G,m,A){var self=N.I.K,Q=self.zp,H=self.V7,J=A,b=A>>1,O=b-1,a=J*J,e=0;for(var $=0;
$<H;$++){var R=0,p=0,P=0,z=~~($/A)*A,Z=0;for(var W=0;W<J;W++){for(var T=0;T<J;T++){var i=Z+T,X=z+W;if(i>=Q)i=Q-1;
if(X>=H)X=H-1;R+=G[X*Q+i<<2];p+=G[(X*Q+i<<2)+1];P+=G[(X*Q+i<<2)+2]}}var U=~~(R/a),M=~~(p/a),C=~~(P/a);
m[e]=U;m[e+1]=M;m[e+2]=C;m[e+3]=G[e+3];e+=4;for(var x=1;x<Q;x++){for(var W=0;W<J;W++){var L=x-1,E=L+J,X=z+W;
if(E>=Q)E=Q-1;if(X>=H)X=H-1;var l=X*Q,y=l+E<<2,Y=l+L<<2;R+=G[y]-G[Y];p+=G[y+1]-G[Y+1];P+=G[y+2]-G[Y+2]}if(x%A==0){U=~~(R/a);
M=~~(p/a);C=~~(P/a)}m[e]=U;m[e+1]=M;m[e+2]=C;m[e+3]=G[e+3];e+=4}}};N.I.K.ah7=function(G,m,A,Q,H){var self=N.I.K,J=self.zp,b=self.V7,O=0,a=0,e=0,R=0;
for(var $=R;$<b+R;$++){var p=$%m>=Q||$<Q||b+R-Q<=$;for(var P=0;P<J;P++){G[O++]=p&&(P%A>=H||P<H||J-H<=P)?255:0}}};
N.I.K.aml=function(G,m,A){var Q=function(e,R){return R<=e?e/R&1?R-e%R:e%R:e},H=[function(O,a){return Q(O,255)/255},function(O,a){return(255+Q(O,255)-Q(a,255))/510},function(O,a){return(255-Q(a,255))/255},function(O,a){return(510-Q(O,255)-Q(a,255))/510},function(O,a){return(255-Q(O,255))/255},function(O,a){return(255-Q(O,255)+Q(a,255))/510},function(O,a){return Q(a,255)/255},function(O,a){return(Q(O,255)+Q(a,255))/510}][A],J=0,b=0;
for(var $=0;$<N.I.K.vb;$++){var O=G[J++],a=G[J++];m[b++]=~~(255*H(O,a))}};N.I.aa8=function(){var G=[],m=new Uint8Array(512),A=new Float32Array(512),Q=new Float32Array(512),H=[1,-1,1,-1,1,-1,0,0],J=[1,1,-1,-1,0,0,1,-1],b=0,O,Z=0;
for(;b<256;b++)G[b]=b;while(b!=0){b--;O=Math.floor(Math.random()*b);G[O]^=G[b]^(G[b]=G[O])}function a(a){a=Math.floor(a*65536);
if(a<256){a|=a<<8}for(var $=0;$<256;$++){var i=$+256,X=G[$]^($&1?a:a>>8)&255;m[$]=m[i]=X;X=X%8;A[$]=A[i]=H[X];
Q[$]=Q[i]=J[X]}}function e(i){return i*i*i*(i*(i*6-15)+10)}function R(i,X,U){return(1-U)*i+U*X}function p(i,X){return i&X}function P(i,X){return i%X}function z(i,X,U,M,C){var x=Math.floor(i),L=Math.floor(X),b,E,l,y,Y,F;
i=i-x;X=X-L;x=x&255;L=L&255;b=x+m[L];y=A[b]*i+Q[b]*X;b=x+m[C(L+1,M)];l=A[b]*i+Q[b]*(X-1);b=C(x+1,U)+m[L];
Y=A[b]*(i-1)+Q[b]*X;b=C(x+1,U)+m[C(L+1,M)];F=A[b]*(i-1)+Q[b]*(X-1);E=e(i);return R(R(y,Y,E),R(l,F,E),e(X))}function W(i,b,X){i[b]=X}function T(i,X,U,M,C){var x=Math.min(Math.min(X,256),Math.min(256,U)),L=x==256||x<8,E=8,l=new Uint32Array(E),y=new Uint32Array(E),Y=new Float32Array(E),F=new Float32Array(E),w=1,j=1,_=L?p:P,D=W,t;
for(var $=0;$<E;$++){t=j*1/x;if(L){y[$]=(1<<Math.ceil(Math.log2(U*t)))-1;l[$]=(1<<Math.ceil(Math.log2(X*t)))-1}else{y[$]=t*U;
l[$]=t*X}Y[$]=w;F[$]=t;w*=.5;j=j<<1}a(Math.random());for(var K=0,b=0;K<U;K++){for(var d=0;d<X;d++){var o=0;
for(var k=0;k<E;k++){t=F[k];o+=z(d*t,K*t,l[k],y[k],_)*Y[k]}D(M,b++,Math.round(Math.max(0,255*Math.min(1,.5+o*.5))))}}}return T}();
N.I.a25=function(){function G(m,A,Q,H){var J=new Uint8Array(m.length>>>2),b=new Uint8Array(m.length>>>2),O=new Uint8Array(m.length);
for(var $=0;$<m.length;$+=4){var a=m[$+0]*.3+m[$+1]*.59+m[$+2]*.11;b[$>>>2]=a;O[$]=m[$];O[$+1]=m[$+1];
O[$+2]=m[$+2]}N.pO.k_(b,J,A,Q);N.pO.TV(m,H,A,Q,N.pO.KW[1],0,!0);for(var $=0;$<m.length;$+=4){O[$+3]=255-J[$>>>2]}for(var $=0,e=m.length;
$<e;$+=4){var R=O[$+3]/255;H[$]=O[$]*R+H[$]*(1-R);H[$+1]=O[$+1]*R+H[$+1]*(1-R);H[$+2]=O[$+2]*R+H[$+2]*(1-R)}}return G}();
N.I.ak$=function(){function G(J,b,O,a,e){var R=new Uint32Array(J.buffer),p=0;for(var $=0;$<O;$++){for(var P=0;
P<b;P++,p+=4){var z=R[$*b+P],Z=z&255,W=z>>>8&255,T=z>>>16&255,i=z>>>24&255,X=~~(Math.random()*8),U=X%3,M=0,C=0;
if(X<3){C--}else if(X>4){C++}if(U==0){M--}else if(U==2){M++}var x=P+M,L=$+C;if(x<0)x=0;else if(x>b-1)x=b-1;
if(L<0)L=0;else if(L>O-1)L=O-1;var z=R[L*b+x],E=z&255,l=z>>>8&255,y=z>>>16&255,Y=z>>>24&255;a[p]=e(Z,E);
a[p+1]=e(W,l);a[p+2]=e(T,y);a[p+3]=e(i,Y)}}}function m(J,b){return b}function A(J,b){return J>b?b:J}function Q(J,b){return J<b?b:J}function H(J,b,O,a,e){var R=e[0];
if(R==0)G(J,b,O,a,m);else if(R==1)G(J,b,O,a,A);else if(R==2)G(J,b,O,a,Q);else if(R==3){console.error("Not implemented")}else console.error("Mew mew")}return H}();
N.I.a3y=function(){function G(m,A,Q,H,J){var b=J&&J[0]?J[0]:4,O,a,e,R,p,P,z;for(var $=0;$<Q;$++){var Z=Math.max($-b,0),W=Math.min($+b,Q-1);
for(var T=0;T<A;T++){var i=Math.max(T-b,0),X=Math.min(T+b,A-1);O=Z*A+i<<2;R=m[O];p=m[O+1];P=m[O+2];z=m[O+3];
O=Z*A+X<<2;R+=m[O];p+=m[O+1];P+=m[O+2];z+=m[O+3];O=W*A+i<<2;R+=m[O];p+=m[O+1];P+=m[O+2];z+=m[O+3];O=W*A+X<<2;
R+=m[O];p+=m[O+1];P+=m[O+2];z+=m[O+3];O=$*A+T<<2;H[O]=R+2>>>2;H[O+1]=p+2>>>2;H[O+2]=P+2>>>2;H[O+3]=z+2>>>2}}}return G}();
N.I.aq7=function(){function G(m,A,Q,H){var J=new Uint8Array(m.length),b=new Uint8Array(m.length>>>2),O=new Uint8Array(m.length>>>2);
N.pO.TV(m,J,A,Q,N.pO.KW[2],0,!0);for(var $=0;$<m.length;$+=4){var a=J[$+0]*.3+J[$+1]*.59+J[$+2]*.11;
b[$>>>2]=a;H[$+0]=m[$+0];H[$+1]=m[$+1];H[$+2]=m[$+2];H[$+3]=m[$+3]}N.pO.k_(b,O,A,Q);for(var $=0;$<m.length;
$+=4){J[$+3]=~~(Math.max(0,255-O[$>>>2]-50)*(255/205))}for(var $=0,e=m.length;$<e;$+=4){var R=J[$+3]/255;
H[$]=J[$]*R+H[$]*(1-R);H[$+1]=J[$+1]*R+H[$+1]*(1-R);H[$+2]=J[$+2]*R+H[$+2]*(1-R)}}return G}();N.I.Ue=function(){function G(X,U){return X[U]+X[U+1]+X[U+2]+X[U+3]}function m(X,U){return X[U]+X[U+1]+X[U+2]+2*X[U+3]}function A(X,U,M,C){X[U]=M[C];
X[U+1]=M[C+1];X[U+2]=M[C+2];X[U+3]=M[C+3]}function Q(X,U,M){X[U]=X[M];X[U+1]=X[M+1];X[U+2]=X[M+2];X[U+3]=X[M+3]}function H(X,U,M){X[M]=U[M];
X[M+1]=U[M+1];X[M+2]=U[M+2];X[M+3]=255-U[M+3]}function J(X){for(var $=0,U=X.length;$<U;$+=4){X[$+3]=255-X[$+3]}}function b(){var X=Math.random();
if(X>.5)return 0;if(X>.25)return 1;if(X>.1)return 2;if(X>.02143)return 3;if(X>.00445)return 4;if(X>65e-5)return 5;
if(X>415e-6)return 6;if(X>55e-6)return 7;return 8}function O(X,U,M,C,x,L){X[U]=M[C]+(x[L]-M[C]>>1);X[U+1]=M[C+1]+(x[L+1]-M[C+1]>>1);
X[U+2]=M[C+2]+(x[L+2]-M[C+2]>>1);X[U+3]=M[C+3]+(x[L+3]-M[C+3]>>1)}function a(X,U,M,C,x,L){X[U]=x[L]+M[C]>>1;
X[U+1]=x[L+1]+M[C+1]>>1;X[U+2]=x[L+2]+M[C+2]>>1;X[U+3]=x[L+3]+M[C+3]>>1}function e(X,U,M,C,x,L,E,l,y){var Y=0,F=0,w=0,$,j=x[L],_;
O(l,0,X,U,X,M);for($=0;$<j;$++){O(l,($+1)*4,l,$*4,X,M)}F=(j+1)*4;w+=j;L--;A(X,U,l,F-4);C[L]=G(X,U);U-=y;
while(L>0&&C[L-1]<C[L]){_=l;l=E;E=_;Y=F;a(l,0,X,U-y,E,0);for($=4;$<Y;$+=4){a(l,$,l,$-4,E,$)}j=x[L];for($=w;
$<j;$++){O(l,F,l,F-4,E,Y-4);F+=4;w++}L--;A(X,U,l,F-4);C[L]=G(X,U);U-=y}}function R(X,U,M,C,x){var L=U*4,E=0,l,y,Y=new Uint8Array(U+1),F=new Uint8Array(10*4),w=new Uint8Array(10*4);
for(var $=0;$<M;$++){H(C,X,E);x[0]=G(C,E);Y[0]=b();l=E;E+=4;for(var j=1;j<U;j++){H(C,X,E);x[j]=G(C,E);
y=b();Y[j]=y;if(x[j-1]<x[j]&&y>0){e(C,E-4,E,x,Y,j,F,w,4)}E+=4}x[U]=x[0];Y[U]=Y[0];if(x[U-1]<x[U]&&y>0){e(C,E,l,x,Y,U,F,w,4)}}J(C)}function p(){var X=Math.random();
if(X>.659755)return 0;if(X>.1625)return 10;if(X>.06)return 20;if(X>.01)return 30;if(X>.0035)return 40;
if(X>65e-5)return 50;if(X>415e-6)return 60;if(X>55e-6)return 70;return 80}function P(X,U,M,C,x,L){var E=p()+1,l=C[x];
for(var $=1;$<E;$++){if(0>x)break;if(C[x-$]<l){Q(X,U,M)}else{break}U+=L}}function z(X,U,M,C,x){var L=U*4,E=0;
for(var $=0;$<M;$++){H(C,X,E);x[0]=G(C,E);E+=4;for(var l=1;l<U;l++){H(C,X,E);x[l]=G(X,E);if(x[l-1]<x[l]){P(C,E-4,E,x,l,-4)}E+=4}x[U]=x[0];
if(x[l-1]<x[l]){P(C,E-4,E-L,x,l,-4)}}J(C)}function Z(X,U,M,C,x,L){var E=1,l,y,Y=new Uint8Array(4),F,w=U;
while(Math.random()<1/E){w=U;if(C<=1)break;l=M[C];y=M[C-1];if(l<=y)break;A(Y,0,X,w-L);F=!0;for(var $=C;
$<x;$++){if(y>M[$]){A(X,w-L,Y,0);M[$-1]=y;F=!1;break}A(X,w-L,X,w);M[$-1]=M[$];w+=L}if(F){A(X,w-L,Y,0);
M[x-1]=y}E++;C--;U-=L}}function W(X,U,M,C,x){var L=0,E=0,l=U*4;for(var $=0;$<M;$++){E=L;for(var y=0;
y<U;y++){H(C,X,L);x[y]=m(C,L);L+=4}L=E;for(var y=1;y<U;y++){if(x[y-1]<x[y]&&Math.random()<.66){Z(C,L+4,x,y,U,4)}L+=4}L+=4}J(C)}function T(X,U,M,C,x){var L=x[0],E=x[1],l=new Uint16Array(U+1),y=X,Y=C,F;
if(E){F=C.slice(0);i(X,C,U,M);y=C;Y=F}if(L==0)R(y,U,M,Y,l);else if(L==1)z(y,U,M,Y,l);else if(L==2)W(y,U,M,Y,l);
if(E){i(F,C,U,M)}}function i(X,U,M,C){for(var x=0;x<C;x++)for(var L=0;L<M;L++){var E=x*M+L<<2,l=x*M+(M-1-L)<<2;
U[l]=X[E];U[l+1]=X[E+1];U[l+2]=X[E+2];U[l+3]=X[E+3]}}return T}();N.I.iw=function(G,m,A,Q,H){var J=N.I.K,b=1,T=0,U=0;
J.VF(m,A);J.W9(H[2]);var O=3<<13,a=Math.PI/2.43,e=a/256,R=Math.PI*2/256;function p(){var L=J.random()*256,E=J.random()*256;
return b*~~(Math.tan(a-L*e)*325*Math.cos(E*R)*256)+O>>16}b=H[0];var P=H[1],z=(P+2)/2,Z=J.random()*255,W=J.Bv(1);
for(var $=0;$<A;$++){var i=J.yH(p()+Z);for(var X=0;X<m;X++){i=J.yH(p()+i);W[T++]=i}}T=m;for(var $=1;
$<A;$++){var M=J.yH(p()+W[U++]);W[T++]=M;for(var X=1;X<m;X++){var C=U+1;if(X+1==m){C--}var x=(z+M+W[C]+W[U]*P)/(P+2);
M=J.yH(p()+x);W[T++]=M;U++}}J.eX(W,Q)};var c8=function(){function G(B){B=B^61^B>>>16;B=B+(B<<3);B=B^B>>>4;
B=B*668265261;B=B^B>>>15;return B}var m=function(){var m=function(B){if(B){this.Uj=B}this.Uj=G(this.Uj);
return(this.Uj&16777215)*(1/16777215)};return m};function A(B,S){if(S==null){S=[0,0]}return Math.sqrt((S[0]-B[0])*(S[0]-B[0])+(S[1]-B[1])*(S[1]-B[1]))}function Q(B,S){if(S==null){S=[0,0]}return[-(S[1]-B[1])/A(B,S),(S[0]-B[0])/A(B,S)]}function H(B){return[Math.cos(B),Math.sin(B)]}function J(B){var S=A(B,[0,0]),I=[B[0]/S,B[1]/S],q=Math.atan(I[1]/I[0]);
if(I[0]>0&&I[1]<0){q+=2*Math.PI}else if(I[0]<0&&I[1]<0){q+=Math.PI}else if(I[0]<0&&I[1]>0){q+=Math.PI}return q}function b(B){var b=0;
for(var $=1;$<B.length/2;++$){b+=A([B[2*$],B[2*$+1]],[B[2*($-1)],B[2*($-1)+1]])}return b}function O(B,S,I){var q=new Float32Array(B.length),hw=1/(B.length/2),fY=C(I);
for(var $=0;$<B.length/2;++$){var s=$*hw,hZ=s/2+.5,bG=1,aY=0;if(I.shape==2){bG=1/(2*hZ)}if(I.shape==3){hZ=(1-s)/2+.5;
bG=1/(2*hZ)+.5}if(I.shape==4){hZ=s;bG=Math.sin(3/2*Math.PI*hZ)/4+1}if(I.shape==5){hZ=(s-.5)*6;bG=(-Math.atan(hZ)/1.25+1)/5+.6-.2*s}var fj=[null,null];
if($==0){fj=Q([B[2*$],B[2*$+1]],[B[2*($+1)],B[2*($+1)+1]])}else if($==B.length/2-1){fj=Q([B[2*($-1)],B[2*($-1)+1]],[B[2*$],B[2*$+1]])}else{fj=Q([B[2*($-1)],B[2*($-1)+1]],[B[2*($+1)],B[2*($+1)+1]])}q[2*$]=B[2*$]+(bG*S+aY)*fj[0];
q[2*$+1]=B[2*$+1]+(bG*S+aY)*fj[1];if(I.style==2){q[2*$]+=x(2*$/q.length,fY,I)}}return q}function a(B,S,I){var q=new Float32Array(B.length),hw=1/(B.length/2);
for(var $=0;$<B.length/2;++$){var fY=$*hw,s=[null,null],hZ=.6*I.lH*l(fY,S.ak2)*I.zu/100,bG=.6*I.lH*l(fY,S.a80)*I.zu/100,aY=S.aim*hZ+(1-S.aim)*bG;
if($==0){s=Q([B[2*$],B[2*$+1]],[B[2*($+1)],B[2*($+1)+1]])}else if($==B.length/2-1){s=Q([B[2*($-1)],B[2*($-1)+1]],[B[2*$],B[2*$+1]])}else{s=Q([B[2*($-1)],B[2*($-1)+1]],[B[2*($+1)],B[2*($+1)+1]])}q[2*$]=B[2*$]+aY*s[0];
q[2*$+1]=B[2*$+1]+aY*s[1]}return q}function e(B){if(B.mZ==1){return[.150684932,.205479452,.465753425,.178082192]}else if(B.mZ==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var S=[],I=1/(w(B)-1);
for(var $=0;$<w(B)-1;++$){S.push(I)}return S}}function R(B,S,I){var q=[],hw=S-B,fY=B;for(var $=0;$<I.length-1;
++$){q.push(fY+I[$]*hw);fY=q[$]}return q}function p(B,S,I,q){var hw=new Float32Array(I.length),fY=0,s={shape:Math.floor(q.random()*2.99),a84:q.random()*.1+.15};
for(var $=0;$<I.length-1;++$){var hZ=fY+I[$];hw[$]=((1-hZ)*B+hZ*S)*i(q,hZ,s);fY=hZ}return hw}function P(B,S,I,q){var hw=Y(q),fY=q.random(),s=fY*20+(1-fY)*26,hZ=new Float32Array(I.length),bG=0;
for(var $=0;$<I.length-1;++$){var aY=bG+I[$];hZ[$]=(1-aY)*B+aY*S+hw/s*(2/3*Math.sin(Math.PI*aY)+1/3*Math.sqrt(Math.sin(Math.PI*aY)));
bG=aY}return hZ}function z(B,S,I){var q=[];for(var $=0;$<S.length-1;++$){q.push(S[$].slice());var hw=$*(w(I)-1),fY=($+1)*(w(I)-1),s=B[fY]-B[hw];
for(var hZ=hw+1;hZ<fY;++hZ){var bG=C(I),aY=new Float32Array(S[0].length),fj=(B[hZ]-B[hw])/s;for(var jg=0;
jg<S[0].length/2;++jg){aY[2*jg]=(1-fj)*S[$][2*jg]+fj*S[$+1][2*jg];aY[2*jg+1]=(1-fj)*S[$][2*jg+1]+fj*S[$+1][2*jg+1];
if(I.style==2){aY[2*jg]+=x(2*jg/S[0].length,bG,I)}}q.push(aY)}}q.push(S[S.length-1]);return q}function Z(B,S,I){var q=new Array(S.length),hw=o(B),s=null;
for(var $=0;$<S.length;++$){q[$]=O(hw,(S[$]-.5)*I.zu,I)}var fY=1+.05*I.alX*Y(I)/Y({mZ:1});for(var $=0;
$<S.length;++$){if(S[$]==0){s=$}}for(var $=0;$<S.length;++$){var hZ=(I.random()-.5)*2,bG=Math.round(I.random()*9+1),aY=new Float32Array(bG*2+2);
for(var fj=0;fj<=bG;++fj){aY[2*fj]=q[$][0]-(q[$][2*fj]-q[$][0]);aY[2*fj+1]=q[$][1]-(q[$][2*fj+1]-q[$][1])}if($==s){hZ*=.1}for(var fj=(q[$].length-1)/2;
fj>bG;--fj){q[$][2*fj]=(1-hZ)*q[$][2*fj]+hZ*(q[$][2*(fj-bG)]+fY*(q[$][2*fj]-q[$][2*(fj-bG)]));q[$][2*fj+1]=(1-hZ)*q[$][2*fj+1]+hZ*(q[$][2*(fj-bG)+1]+fY*(q[$][2*fj+1]-q[$][2*(fj-bG)+1]))}for(var fj=bG-1;
fj>=0;--fj){q[$][2*fj]=(1-hZ)*q[$][2*fj]+hZ*(aY[2*(bG-fj)]+fY*(q[$][2*fj]-aY[2*(bG-fj)]));q[$][2*fj+1]=(1-hZ)*q[$][2*fj+1]+hZ*(aY[2*(bG-fj)+1]+fY*(q[$][2*fj+1]-aY[2*(bG-fj)+1]))}}var jg=E(S,I);
if(I.lH>0){var ae=0;for(var $=0;$<S.length;++$){if($==0){ae+=S[$]}else{ae+=Math.abs(S[$]-S[$-1])}var iB=ae-Math.floor(ae),eg=1;
if(iB==0){eg=0}q[$]=a(q[$],{ak2:jg[Math.floor(ae)],a80:jg[Math.floor(ae)+eg],aim:iB},I)}}return q}function W(B,S){var I=D(S,B),q=t(S,B),hw=[],fY=[],s=[],hZ=e(B);
for(var $=0;$<S.length-1;++$){hw.push(S[$]);fY.push(I[$]);s.push(q[$]);var bG=R(S[$],S[$+1],hZ),aY=p(I[$],I[$+1],hZ,B),fj=P(q[$],q[$+1],hZ,B);
for(var jg=0;jg<bG.length;++jg){hw.push(bG[jg]);fY.push(aY[jg]);s.push(fj[jg])}}hw.push(S[S.length-1]);
fY.push(I[I.length-1]);s.push(q[q.length-1]);return{aqC:hw,a00:fY,tC:s}}function T(B,S,I,q){var hw=new Float32Array(2*q),fY=B.length/2,s=fY-S,hZ=I*s,bG=hZ/q;
for(var $=0;$<q;++$){var aY=Math.floor(S+$*bG),fj=Math.ceil(S+$*bG),I=S+$*bG,jg=fj-aY,ae=1,iB=0;if(jg!=0){ae=(fj-I)/jg;
iB=(I-aY)/jg}hw[2*$]=ae*B[2*aY]+iB*B[2*fj];hw[2*$+1]=ae*B[2*aY+1]+iB*B[2*fj+1]}return hw}function i(B,S,I){var q=I.a84,hw=S*2*Math.PI,fY=hw,s=0;
if(I.shape==0){s=(Math.sin(2*fY+Math.PI/2)+1)/2}else if(I.shape==1){s=(Math.sin(fY+Math.PI/2)+1)/2}else{s=(4*Math.sin(3/4*fY+Math.PI)+Math.sin(Math.PI/2+2*fY)-2*fY/Math.PI+6)/7}return Math.min(1,1-q+q*s)}function X(B,S,I,q){var hw=[];
for(var $=0;$<B.length;++$){hw.push(T(B[$],S[$],I[$],q))}return hw}function U(B,S,I){var q=[];for(var $=0;
$<B.length;++$){var hw=H(2*Math.PI*I.random()),fY=H(2*Math.PI*I.random()),s=I.V3*.5*j({mZ:1})/j(I),hZ=s*I.zu/200,bG=s*S/500,aY=new Float32Array(B[0].length);
for(var fj=0;fj<B[0].length/2;++fj){var jg=H(2*Math.PI*I.random()),ae=2*fj/B[0].length;aY[2*fj]=B[$][2*fj]+hZ*(jg[0]+((1-ae)*hw[0]+ae*fY[0]));
aY[2*fj+1]=B[$][2*fj+1]+bG*(jg[1]+((1-ae)*hw[1]+ae*fY[1]))}q.push(aY)}return q}function M(B,S,I){var q=I.fa,hw=2/q,fY=[1/10,1/30,1/40,1/45,1/100],s=fY[I.mZ-1],hZ=4*(I.opacity/25*hw*s)*(1-I.V3/150),jg=0,iB=0;
if(I.style==3){return hZ*.09}var bG=2.2*(B-.5),aY=bG*bG*bG*bG+.27+Math.max(0,(I.opacity-50)/15),fj=2*(Math.sin(3*Math.PI*S)/(Math.PI*S+2)+1.1)-S/2;
S=2*S;if(S<.41){var ae=2*Math.PI*S/.41;jg=(Math.sin(ae-Math.PI/2)+1)/4+.5}else if(S<.77){var ae=2*Math.PI*(S-.41)/.36;
jg=(Math.sin(ae-Math.PI/2)+1)/4+.5-ae/2/Math.PI*.5}else{var ae=2*Math.PI*(S-.77)/.23;jg=(Math.sin(ae-Math.PI/2)+1)/2*.12}jg*=3;
jg+=Math.max(0,(I.opacity-50)/15);if(I.type==6){iB=fj}else{iB=jg}return hZ*aY*iB}function C(B){return{S:B.random()*7/2+.5,n4:B.random()*2*Math.PI}}function x(B,S,I){return I.zu/300*w({mZ:1})/w(I)*10*(Math.sin(S.S*2*Math.PI*B+S.n4)+10*(I.random()-.5))}function L(B){var S=Math.exp(-B.lH/25);
return{S:B.random()*3/2+.5,n4:B.random()*2*Math.PI,yE:(B.random()-.5)*10*S}}function E(B,S){var I=Math.ceil(K(B)),q=[];
for(var $=0;$<=I;++$){q.push(L(S))}return q}function l(B,S){var I=S.S*4*Math.PI*B+S.n4;return Math.exp(-1/2*Math.PI*B)*Math.cos(I)*Math.cos(I)*Math.cos(I)*Math.cos(I)*Math.cos(I)+B*S.yE-S.yE/4}function y(B,S,I,q,hw){var fY=0,s=j(S)-1;
for(var $=0;$<s;++$){for(var hZ=0;hZ<B.length-1;hZ+=w(S)-1){for(var bG=$;bG<B[0].length/2-s;bG+=s){for(var aY=hZ;
aY<hZ+(w(S)-1);++aY){I[hw+fY]=M(aY*(S.fa-1)/(B.length-1)%1,bG/B[0].length,S);var fj=0,jg=0;if(S.type==6&&aY!=0&&aY!=B.length-1){jg=(B[aY][2*(bG+1)+1]-B[aY][2*bG+1])/2;
fj=(B[aY][2*(bG+1)]-B[aY][2*bG])/2}q[8*hw+8*fY]=B[aY][2*bG]+fj;q[8*hw+8*fY+1]=B[aY][2*bG+1]+jg;q[8*hw+8*fY+2]=B[aY][2*(bG+s)]+fj;
q[8*hw+8*fY+3]=B[aY][2*(bG+s)+1]+jg;q[8*hw+8*fY+4]=B[aY+1][2*(bG+s)];q[8*hw+8*fY+5]=B[aY+1][2*(bG+s)+1];
q[8*hw+8*fY+6]=B[aY+1][2*bG];q[8*hw+8*fY+7]=B[aY+1][2*bG+1];++fY}}}}}function Y(B){var S=[100,300,500,700,1e3];
return S[B.mZ-1]}function F(B){var S=[30,70,100,140,300];return S[B.mZ-1]}function w(B){var S=[5,7,26,40,100];
return S[B.mZ-1]}function j(B){if(B.mZ==1){return 4}else if(B.mZ==2){return 8}else{return Math.floor(F(B)/9)}}function _(B){var S=B.fa,I=new Float32Array(S),q=null;
for(var $=0;$<S;++$){I[$]=B.random()}if(B.fa<=3){I[0]=0;I[B.fa-1]=1}else{for(var $=0;$<2;++$){var hw=Math.floor(B.random()*S);
if(q==null||q!=hw){I[hw]=$;q=hw}else{I[hw+1]=$}}}return I}function D(B,S){var I=[],q=.2,fY=0;for(var $=0;
$<B.length;++$){var hw=S.random()*(1-q)+q;I.push(hw)}var s=Math.min(3,S.fa);for(var $=0;$<B.length;++$){if(I[$]>.9){++fY}}while(fY<s){var hZ=Math.floor(S.random()*B.length);
if(I[hZ]<=.9){I[hZ]=.9+.1*S.random();++fY}}return I}function t(B,S){var I=Y(S),q=Y({mZ:1}),hw=[];for(var $=0;
$<B.length;++$){hw.push(Math.max(1,(S.random()*10+2)*I/q))}return hw}function K(B){var S=0;for(var $=0;
$<B.length;++$){if($==0){S+=B[$]}else{S+=Math.abs(B[$]-B[$-1])}}return S}function d(B,S){if(B.length/2-1==Y(S)){return B}var I=new Float32Array(2*(Y(S)+1)),q=(B.length-2)/(I.length-2);
for(var $=0;$<I.length/2;++$){var hw=$*q,fY=Math.floor(hw),s=Math.ceil(hw),hZ=s-fY,bG=1,aY=0;if(hZ!=0){bG=(s-hw)/hZ;
aY=(hw-fY)/hZ}I[2*$]=bG*B[2*fY]+aY*B[2*s];I[2*$+1]=bG*B[2*fY+1]+aY*B[2*s+1]}return I}function o(B,S){var I=B.length/2,q=b(B),hw=q/I,fY=!1,bG=0,aY=0,fj=1;
if(S){var s=Math.floor(q/S.atL),hZ=S.atL;if(S.ace&&B[0]==B[B.length-2]&&B[1]==B[B.length-1]){fY=!0;hZ=q/(s+1)}if(S.type==2&&!fY&&hZ*s+S.length>q){I=s+1}else{I=s+2}hw=hZ}var jg=new Float32Array(I*2);
jg[0]=B[0];jg[1]=B[1];for(var $=1;$<I;++$){while(bG<=$*hw){aY=bG;bG+=A([B[2*fj],B[2*fj+1]],[B[2*(fj-1)],B[2*(fj-1)+1]]);
++fj}var ae=1-($*hw-aY)/(bG-aY);jg[2*$]=(1-ae)*B[2*fj]+ae*B[2*(fj-1)];jg[2*$+1]=(1-ae)*B[2*fj+1]+ae*B[2*(fj-1)+1]}jg[jg.length-2]=B[B.length-2];
jg[jg.length-1]=B[B.length-1];return jg}function k(B,S){var I=o(B,S),q=[];for(var $=0;$<(I.length-2)/2;
++$){var hw=[];hw.push(I[2*$]);hw.push(I[2*$+1]);var fY=A([I[2*($+1)],I[2*($+1)+1]],[I[2*$],I[2*$+1]]),s=[(I[2*($+1)]-I[2*$])/fY,(I[2*($+1)+1]-I[2*$+1])/fY],hZ=H((S.a9y-90)/360*2*Math.PI),bG=s;
if(S.type==3){bG=hZ}else if(S.type==4){bG=H(J(s)+J(hZ))}else if(S.type==5){bG=H(((S.random()-.5)*S.a9y-90)/360*2*Math.PI)}var aY=S.length;
if(S.a3b){aY=2*S.random()*S.length}hw.push(I[2*$]+bG[0]*aY);hw.push(I[2*$+1]+bG[1]*aY);q.push(hw)}return q}function v(B){if(B.aej){B.GY=100*Math.random()}else{B.GY=B.aaV}B.random=new m;
B.random(B.GY);if(B.type==6){B.fa=2;B.shape=5;B.alX=0}}function u(B,S){B=d(B,S);var I=[B],aY=0;if(S.type>=2&&S.type<6){I=k(B,S)}var q=j(S)-1,hw=F(S)-q,fY=(S.fa-1)*(w(S)-1),s=I.length*hw*fY,hZ=new Float32Array(s),bG=new Float32Array(8*s);
for(var $=0;$<I.length;++$){for(var fj=0;fj<1e4;++fj){S.GY=G(S.GY)}S.random(S.GY);var B=d(I[$],S),jg=_(S),ae=K(jg),iB=Z(B,jg,S),eg=W(S,jg),dM=z(eg.aqC,iB,S);
dM=X(dM,eg.tC,eg.a00,F(S));if(S.V3>0){dM=U(dM,b(I[$]),S)}y(dM,S,hZ,bG,aY);aY+=hw*fY}return[hZ,bG]}var c8=function(B){var S=performance.now(),I=B[0],q=B[1];
v(q);var hw=[new Float32Array(0),new Float32Array(0)];for(var $=0;$<I.length;++$){q.GY=G(q.GY);var fY=u(I[$],q),s=new Float32Array(hw[0].length+fY[0].length),hZ=new Float32Array(hw[1].length+fY[1].length);
s.set(hw[0]);s.set(fY[0],hw[0].length);hw[0]=s;hZ.set(hw[1]);hZ.set(fY[1],hw[1].length);hw[1]=hZ}var bG=performance.now();
if(q.abJ){console.Nk("Geometry: "+String(bG-S)+"ms")}return hw};return c8}(),hs=function(){function G(H,J){var b=[],O=0,a=J.length,e=0,R=0,p=new f_,P=0,z=1e9;
for(R=0;R<a;R++){var Z=R*8,W=J[R];if(W<z)z=W;var T=H[Z+0],i=H[Z+1],X=H[Z+2],U=H[Z+3],M=H[Z+4],C=H[Z+5],x=H[Z+6],L=H[Z+7],E=Math.min(T,X,M,x),l=Math.max(T,X,M,x),y=Math.min(i,U,C,L),Y=Math.max(i,U,C,L),F=new f_(E,y,l-E,Y-y),w=F.wj(p),j=P+W;
if(R-e<10&&(R==e||w.Z()*.8<F.Z()+p.Z())){p=w;P=j}else{b.push(R-e);e=R;p=F;P=W;z=W}}if(R!=e)b.push(R-e);
return b}function m(H,J,b,O,a,e){var R=document.createElement("canvas"),i=0,s=.8;R.width=J;R.height=b;
var p=R.getContext("2d"),P=a[0],z=a[1],Z=new Float64Array(J*b),W=Date.now(),T=G(z,P);for(var X=0;X<T.length;
X++){var U=i,M=i+T[X],L=1e9,l=1e9,D=0;i=M;var C=U*8,x=M*8,E=-L,y=-l;for(var Y=C;Y<x;Y+=2){var F=z[Y],w=z[Y+1];
if(F<L)L=F;if(F>E)E=F;if(w<l)l=w;if(w>y)y=w}L=Math.floor(L);E=Math.ceil(E);l=Math.floor(l);y=Math.ceil(y);
var j=E-L,_=y-l;for(var t=U;t<M;t++)D+=P[t];for(var Y=C;Y<x;Y+=8){var K=P[Y>>>3],d=z[Y+0],o=z[Y+1],k=z[Y+2],v=z[Y+3],u=z[Y+4],B=z[Y+5],S=z[Y+6],I=z[Y+7];
p.fillStyle="rgba(0,0,0,"+K/D+")";p.beginPath();p.moveTo(d,o);p.lineTo(k,v);p.lineTo(u,B);p.lineTo(S,I);
p.closePath();p.fill()}var q=p.getImageData(L,l,j,_).data;for(var w=0;w<_;w++)for(var F=0;F<j;F++){var $=w*j+F,hw=q[$*4+3],fY=(l+w)*J+L+F;
if(hw!=0)Z[fY]+=hw*D}p.clearRect(L,l,j,_)}var hZ=e[1].color,bG=Math.pow(hZ.p/255,s),aY=Math.pow(hZ.z/255,s),fj=Math.pow(hZ.h/255,s),jg=new f_(0,0,J,b),ae=N.$(J*b*4);
for(var w=0;w<b;w++)for(var F=0;F<J;F++){var $=w*J+F,t=$*4,P=Z[$]*(1/255);ae[t]=Q(bG,P);ae[t+1]=Q(aY,P);
ae[t+2]=Q(fj,P);ae[t+3]=Math.min(255,P*255)}N.a.zc("norm",ae,jg,O,jg,jg,1)}var A=new Uint8Array(2e3);
for(var $=0;$<2e3;$++)A[$]=255*Math.min(1,Math.log($/700+1));function Q(H,J){return A[Math.min(1500,~~(H*J*1e3))]}return m}(),a_=function(){var G=new Float32Array(3e3),m=new Float32Array(3e3),A=new Float32Array(256),Q=new Float32Array(3e3);
function H(){var z=G.length;G[0]=Math.log10(157647e-9);for(var $=1;$<z;++$)G[$]=Math.log10($/z)}function J(){var z=m.length;
for(var $=0;$<z;++$)m[$]=Math.pow(10,20*($-z/2)/z)}function b(){var z=A.length;for(var $=0;$<z;++$)A[$]=N.LJ($/255)}function O(){var z=Q.length;
for(var $=0;$<z;++$)Q[$]=255*N.J5($/(z-1))}function a(z,Z){var W=z.length>>>2;for(var $=0;$<W;++$){var T=A[z[4*$]],i=A[z[4*$+1]],X=A[z[4*$+2]],U=.3811*T+.5783*i+.0402*X,M=.1967*T+.7244*i+.0782*X,C=.0241*T+.1288*i+.8444*X;
U=G[~~(U*G.length)];M=G[~~(M*G.length)];C=G[~~(C*G.length)];Z[3*$]=(U+M+C)*.5773502692;Z[3*$+1]=(U+M-2*C)*.4082482905;
Z[3*$+2]=(U-M)*.7071067812}}function e(z,Z){var W=Z.length>>>2,T=Q.length-1;for(var $=0;$<W;++$){var i=.5773502692*z[3*$],X=.4082482905*z[3*$+1],U=.7071067812*z[3*$+2],M=m[~~((i+X+U+10)*(3e3/20))],C=m[~~((i+X-U+10)*(3e3/20))],x=m[~~((i-2*X+10)*(3e3/20))],L=4.4679*M-3.5873*C+.1193*x,E=-1.2186*M+2.3809*C-.1624*x,l=.0497*M-.2439*C+1.2045*x;
Z[4*$]=Q[~~(T*Math.max(0,Math.min(1,L)))];Z[4*$+1]=Q[~~(T*Math.max(0,Math.min(1,E)))];Z[4*$+2]=Q[~~(T*Math.max(0,Math.min(1,l)))]}}function R(z){var Z=0,W=0,T=0;
for(var $=0;$<z.length;$+=3){Z+=z[$];W+=z[$+1];T+=z[$+2]}return[Z/(z.length/3),W/(z.length/3),T/(z.length/3)]}function p(z,R){var Z=0,W=0,T=0;
for(var $=0;$<z.length;$+=3){var i=z[$]-R[0],X=z[$+1]-R[1],U=z[$+2]-R[2];Z+=i*i;W+=X*X;T+=U*U}return[Math.sqrt(Z/(z.length/3)),Math.sqrt(W/(z.length/3)),Math.sqrt(T/(z.length/3))]}function P(z,Z,W,T,i,X){H();
J();b();O();var U=0;if(X[0]>100)U=-(X[0]-100)/100*.13;else if(X[0]>=75)U=(100-X[0])/25*.04;else if(X[0]>=50)U=.04+(75-X[0])/25*.04;
else if(X[0]>=25)U=.08+(50-X[0])/25*.08;else U=.16+(25-X[0])/25*.24;var M=(X[1]-100+100)/100,C=X[2]/100,x=new Float32Array(z.length*3/4),L=new Float32Array(T.length*3/4),E=Date.now();
a(z,x);a(T,L);var l=Date.now(),y=R(x),Y=R(L),F=Date.now(),w=p(x,y),j=p(L,Y),_=Date.now();Y[0]*=Math.pow(10,U);
var D=[j[0]/w[0],j[1]/w[1],j[2]/w[2]],t=x.length;for(var $=0;$<t;$+=3){x[$]=(x[$]-y[0])*D[0]+Y[0];x[$+1]=(x[$+1]-y[1])*D[1]*M+Y[1];
x[$+2]=(x[$+2]-y[2])*D[2]*M+Y[2]}var K=Date.now();e(x,i);var d=i.length>>>2;for(var $=0;$<d;++$){i[4*$]=(1-C)*i[4*$]+C*z[4*$];
i[4*$+1]=(1-C)*i[4*$+1]+C*z[4*$+1];i[4*$+2]=(1-C)*i[4*$+2]+C*z[4*$+2];i[4*$+3]=255}}return P}(),gg=function(){function G(m,A,Q,H,J){var b=[-1,-1,-1,-1],O=255,a=160,e,R=!1,p=new Array(4);
p[0]=new Array(A);p[1]=new Array(Q);p[2]=new Array(A);p[3]=new Array(Q);var P=new Array(2);P[0]=new Array(Q);
P[1]=new Array(Q);function z(_,D,t,K,d){this.start=K;this.axis=d;this.dir=_;this.end=-1;this.source=D;
this.Z=t}function Z(_,D,t,K,d){if(t%2==0){if(!p[t][_])p[t][_]=new Array;p[t][_].push(new z(t,K,d,D,_))}else{if(!p[t][D])p[t][D]=new Array;
p[t][D].push(new z(t,K,d,_,D))}var o=Date.now()}function W($){var _=!1,D=0;if(m[4*$+3]<O)return _;var t=$%A,K=Math.floor($/A);
T(t,K);if($+A<A*Q&&m[4*($+A)+3]<O&&m[4*($-A)+3]>=O&&m[4*($-2*A)+3]>=O){var d=2;if(m[4*($+A)+3]<=a)D=-1;
if(m[4*($+2*A-1)+3]<O&&m[4*($+2*A+1)+3]<O)_=!0;else if(m[4*($+2*A-1)+3]>=O&&m[4*($+1)+3]>=O)_=!0;else if(m[4*($+2*A+1)+3]>=O&&m[4*($-1)+3]>=O)_=!0;
Z(t,K,d,D,_)}else if($-A>=0&&m[4*($-A)+3]<O&&m[4*($+A)+3]>=O&&m[4*($+2*A)+3]>=O){var d=0;if(m[4*($-A)+3]<=a)D=-1;
if(m[4*($-2*A-1)+3]<O&&m[4*($-2*A+1)+3]<O)_=!0;else if(m[4*($-2*A-1)+3]>=O&&m[4*($+1)+3]>=O)_=!0;else if(m[4*($-2*A+1)+3]>=O&&m[4*($-1)+3]>=O)_=!0;
Z(t,K,d,D,_)}D=0;if($+1<A*Q&&m[4*($+1)+3]<O&&m[4*($-1)+3]>=O&&m[4*($-2)+3]>=O){var d=3;if(m[4*($+1)+3]<=a)D=-1;
if(!_&&m[4*($+A+2)+3]<O&&m[4*($-A+2)+3]<O){_=!0;Z(t,K,d,D,!0)}else Z(t,K,d,D,!1)}else if($>=1&&m[4*($-1)+3]<O&&m[4*($+1)+3]>=O&&m[4*($+2)+3]>=O){var d=1;
if(m[4*($-1)+3]<=a)D=-1;if(!_&&m[4*($+A-2)+3]<O&&m[4*($-A-2)+3]<O){_=!0;Z(t,K,d,D,!0)}else Z(t,K,d,D,!1)}return _}function T($,_){if(b[0]==-1){b[0]=$;
b[1]=_;b[2]=1;b[3]=1}if($<b[0]){b[2]+=b[0]-$;b[0]=$}if($>b[0]+b[2])b[2]=$-b[0];if(_<b[1]){b[3]+=b[1]-_;
b[1]=_}if(_>b[1]+b[3])b[3]=_-b[1]}function i(_,$,D,t){if(!D.Z)return;var K=(_+2)%4,d=D.start,o=b[1];
if(_==2)o+=b[3];else if(_==1)o=b[0];else if(_==3)o=b[0]+b[2];var k=D.source;if(p[K][$])for(var v=0;v<p[K][$].length;
++v){if(_>1){var u=d+Math.floor((p[K][$][v].start-d)/2);if(p[K][$][v].start>d&&u<o)o=u}else{var u=d-Math.floor((d-p[K][$][v].start)/2);
if(p[K][$][v].start<d&&u>o)o=u}}for(var B=1;B<Math.abs(o-d);++B){var v=d+B;if(_==1||_==0)v=d-B;for(var S=0;
S<2;++S){var I=2*S,q=!1;if(_%2==0)I+=1;if(p[I][v]){for(var hw=0;hw<p[I][v].length;++hw){if(p[I][v][hw].Z){var fY=p[I][v][hw].start,s=$-fY,hZ=v-d;
if(I==0||I==1)s=-s;if(s<=0)continue;if(_==0||_==1)hZ=-hZ;if(hZ>s){o=v;q=!0;break}}}if(q)break}}}D.end=o;
M(_,$,d,o,k)}function X(_){for(var $=0;$<p[_].length;++$){if(p[_][$])for(var D=0;D<p[_][$].length;++D){i(_,$,p[_][$][D])}}}function U(){var _=[2,0,3,1];
for(var $=0;$<_.length;++$)X(_[$])}function M(_,$,D,t,K){if(_==2)for(var d=D;d<=t;++d){if(!C(d*A+$,(D+K)*A+$))return!1}else if(_==0)for(var d=D;
d>=t;--d){if(!C(d*A+$,(D-K)*A+$))return!1}else if(_==1)for(var d=D;d>=t;--d){if(!C($*A+d,$*A+D-K))return!1}else if(_==3)for(var d=D;
d<=t;++d){if(!C($*A+d,$*A+D+K))return!1}}function C(_,D){if(!e[_]){H[4*_]=H[4*D];H[4*_+1]=H[4*D+1];H[4*_+2]=H[4*D+2];
if(R)H[4*_+3]=255;e[_]=!0;return!0}return!1}function x(){for(var $=0;$<4;$+=1){for(var _=0;_<p[$].length;
++_){if(p[$][_])for(var D=0;D<p[$][_].length;++D){var t=p[$][_][D];for(var K=1;K<3;K+=2){var d=($+K)%4;
if(p[d][t.start])for(var o=0;o<p[d][t.start].length;++o){if(p[d][t.start][o].start==t.axis){var jw=A*t.start+t.axis;
if($%2==1){jw=t.start+A*t.axis;L(p[d][t.start][o])}else L(t)}}}}}}}function L(_){if(_.dir%2==0){var jw=A*_.start+_.axis,D=_.start,t=1;
if(!e[jw+1])t=3;else if(e[jw-1])return;var K=H[4*jw],d=H[4*jw+1],o=H[4*jw+2];while(H[4*jw]==K&&H[4*jw+1]==d&&H[4*jw+2]==o){if(t==1){if(!P[0][D])P[0][D]=new Array;
P[0][D].push(new z(t,0,!1,_.axis,D))}else{if(!P[1][D])P[1][D]=new Array;P[1][D].push(new z(t,0,!1,_.axis,D))}if(_.dir==2){jw+=A;
D++}else{jw-=A;D--}}}}function E(){for(var _=0;_<2;++_){var D=(_+1)%2;for(var $=0;$<P[_].length;++$){if(P[_][$])for(var t=0;
t<P[_][$].length;++t){var K=b[0];if(_==1)K+=b[2];var d=P[_][$][t].start;if(P[D][$])for(var o=0;o<P[D][$].length;
++o){var k=P[D][$][o].H6;if(_==0){if(k>K&&k<d){K=d-Math.floor((d-k)/2)}}else{if(k<K&&k>d){K=d+Math.ceil((k-d)/2)}}}if(_==0)M(P[_][$][t].dir,$,d-1,K,-1);
else M(P[_][$][t].dir,$,d+1,K,-1)}}}for(var $=0;$<e.length;++$){if(!e[$]&&$%A>=b[0]&&$%A<=b[0]+b[2]&&Math.floor($/A)>=b[1]&&Math.floor($/A)<=b[1]+b[3]){var d=A;
if($<d||!e[$-d])d=1;H[4*$]=H[4*($-d)];H[4*$+1]=H[4*($-d)+1];H[4*$+2]=H[4*($-d)+2];e[$]=!0;if(R)H[4*$+3]=255}}}function l(){e=new Array(m.length/4);
for(var $=0;$<H.length/4;++$){e[$]=!1;H[4*$]=m[4*$];H[4*$+1]=m[4*$+1];H[4*$+2]=m[4*$+2];H[4*$+3]=m[4*$+3];
if(H[4*$+3]==255)e[$]=!0;if(W($))e[$]=!1}if(b[0]>0){b[0]--;b[2]++}if(b[1]>0){b[1]--;b[3]++}if(b[0]+b[2]<A){b[2]++}if(b[1]+b[3]<Q){b[3]++}}var y=Date.now();
l();var Y=Date.now();U();var F=Date.now();x();var w=Date.now();E();var j=Date.now();console.log("Init: "+String(Y-y));
console.log("Filling: "+String(F-Y));console.log("Check areas: "+String(w-F));console.log("Fill areas: "+String(j-w))}return G}();
N.sv={apG:function(G,m){var $=G.length;G.push(m);var A=$>>>1;while(A!=0&&G[$][0]<G[A][0]){var Q=G[$];
G[$]=G[A];G[A]=Q;$=A;A=$>>>1}},apN:function(G){if(G.length==2)return G.pop();var top=G[1],$=1;G[1]=G.pop();
var m=G.length;while(!0){var A=$<<1,Q=A+1,H=$;if(A<m&&G[A][0]<G[H][0])H=A;if(Q<m&&G[Q][0]<G[H][0])H=Q;
if(H==$)break;var J=G[$];G[$]=G[H];G[H]=J;$=H}return top},a0$:function(G){for(var $=1;$<G.length;$++){var m=$,A=1e9;
while(m!=0){var Q=G[m][0];if(Q>A){console.log($);throw"e"}A=Q;m=m>>>1}}}};N.a={};N.a.KR=new Float64Array(256);
N.a._u=new Uint8Array(256*256);N.a.OU=new Uint8Array(256*256);(function(){for(var $=0;$<256;$++)N.a.KR[$]=255/$;
for(var $=0;$<256;$++)for(var G=0;G<256;G++)N.a._u[$*256+G]=$==0?0:Math.round(G*255/$);for(var $=0;$<256;
$++)for(var G=0;G<256;G++)N.a.OU[$*256+G]=Math.round($*(255-G)/255)}());N.a.zc=function(G,m,A,Q,H,J,b,O){if(O==null)O=en.El();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(G)==-1){b=b*O.fill;O.fill=1;O.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),e="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),R=N.a[G+"F"];
if(O.Eu==null&&G=="norm")N.a.a4s(m,A,Q,H,J,b,R,O.BK?1:0);else if(G=="diss")N.a.a67(m,A,Q,H,J,b,R,O.BK?1:0);
else if(a.indexOf(G)!=-1)N.a.a2C(m,A,Q,H,J,b,R,O);else if(e.indexOf(G)!=-1)N.a.an_(m,A,Q,H,J,b,R,O)};
N.a.abo=function(G,m,A){var Q=G*A+1-A;return Q<.001?0:1-Math.min(1,(1-m)/Q)};N.a.anX=function(G,m,A){return G*A==1?1:Math.min(1,m/(1-G*A))};
N.a.z_=function(G){return G<=.25?((16*G-12)*G+4)*G:Math.sqrt(G)};N.a.normF=function(G,m,A){return G};
N.a.darkF=function(G,m,A){return Math.min(G,m)};N.a["mul F"]=function(G,m,A){return G*m};N.a.idivF=function(G,m,A){var Q=G*A+1-A;
return m==1?1:1-m>=Q?0:1-(1-m)/Q};N.a.lbrnF=function(G,m,A){return Math.max(0,G*A+m-A)};N.a.dkClF=function(G,m,A){var Q=N.fb(G)<N.fb(m)?G:m;
A.p=Q.p;A.z=Q.z;A.h=Q.h;return A};N.a.liteF=function(G,m,A){return Math.max(G,m)};N.a.scrnF=function(G,m,A){return m+G-m*G};
N.a["div F"]=function(G,m,A){G*=A;return m==0?0:m>=1-G?1:m/(1-G)};N.a.lddgF=function(G,m,A){G*=A;return Math.min(1,G+m)};
N.a.lgClF=function(G,m,A){var Q=N.fb(G)>N.fb(m)?G:m;A.p=Q.p;A.z=Q.z;A.h=Q.h;return A};N.a.overF=function(G,m,A){return N.a.hLitF(m,G,A)};
N.a.sLitF=function(G,m,A){return G<=.5?m-(1-2*G)*m*(1-m):m+(2*G-1)*(N.a.z_(m)-m)};N.a.hLitF=function(G,m,A){return G<=.5?N.a["mul F"](2*G,m,A):N.a.scrnF(2*G-1,m,A)};
N.a.vLitF=function(G,m,A){return G<=.5?N.a.abo(2*G,m,A):N.a.anX(2*G-1,m,A)};N.a.lLitF=function(G,m,A){return G<=.5?N.a.lbrnF(2*G,m,A):N.a.lddgF(2*G-1,m,A)};
N.a.pLitF=function(G,m,A){return G<=.5?N.a.darkF(2*G,m,A):N.a.liteF(2*G-1,m,A)};N.a.hMixF=function(G,m,A){if(A>.99)return G+m<1?0:1;
return Math.min(1,Math.max(0,(m+G*A-A)/(1-A+1e-6)))};N.a.diffF=function(G,m,A){G*=A;return Math.abs(G-m)};
N.a.smudF=function(G,m,A){return G+m-2*G*m};N.a.fsubF=function(G,m,A){return Math.max(m-G,0)};N.a.fdivF=function(G,m,A){return Math.min(m/G,1)};
N.a["hue F"]=function(G,m,A){N.a.LZ(G,N.Q9(m),A);N.a.hE(A,N.fb(m),A)};N.a["sat F"]=function(G,m,A){N.a.LZ(m,N.Q9(G),A);
N.a.hE(A,N.fb(m),A)};N.a.colrF=function(G,m,A){N.a.hE(G,N.fb(m),A)};N.a["lum F"]=function(G,m,A){N.a.hE(m,N.fb(G),A)};
N.a.hE=function(G,m,A){var Q=m-N.fb(G);A.p=G.p+Q;A.z=G.z+Q;A.h=G.h+Q;N.a.ai7(A)};N.a.ai7=function(G){var m=G.p,A=G.z,Q=G.h,H=N.vp(m,A,Q),jw=Math.min(m,A,Q),J=Math.max(m,A,Q);
if(jw<0){var b=H/(H-jw);m=H+(m-H)*b;A=H+(A-H)*b;Q=H+(Q-H)*b}if(J>1){var b=(1-H)/(J-H);m=H+(m-H)*b;A=H+(A-H)*b;
Q=H+(Q-H)*b}G.p=m;G.z=A;G.h=Q};N.a.LZ=function(G,m,A){var Q=N.a.a6O,H=G.p,J=G.z,b=G.h;if(H==J&&J==b){A.p=A.z=A.h=0}else if(H>J){if(H>b){if(J>b){A.p=m;
A.z=Q(H,J,b,m);A.h=0}else{A.p=m;A.h=Q(H,b,J,m);A.z=0}}else{A.h=m;A.p=Q(b,H,J,m);A.z=0}}else{if(H<b){if(J>b){A.z=m;
A.h=Q(J,b,H,m);A.p=0}else{A.h=m;A.z=Q(b,J,H,m);A.p=0}}else{A.z=m;A.p=Q(J,H,b,m);A.h=0}}};N.a.a6O=function(G,m,A,Q){return(m-A)*Q/(G-A)};
N.a.a4s=function(G,m,A,Q,H,J,b,O){var a=m.KB(Q).KB(H),e=Math.max(0,a.x-m.x),R=Math.max(0,a.x-Q.x),p=Math.max(0,a.y-m.y),P=Math.max(0,a.y-Q.y),z=a.e,Z=a.n,W=m.e,T=Q.e,i=N.a._u,X=N.a.OU,U=new Uint32Array(G.buffer),M=new Uint32Array(A.buffer);
for(var $=0;$<Z;$++){var C=(p+$)*W+e,x=(P+$)*T+R;for(var L=0;L<z;L++){var E=U[C+L],t=1;if(E>>>24==0)continue;
if(E>>>24==255&&J==1&&O==0){M[x+L]=U[C+L];continue}var l=M[x+L],y=E&255,Y=E>>>8&255,F=E>>>16&255,w=l&255,j=l>>>8&255,_=l>>>16&255,D=J,K=(l>>>24)*(1/255);
if(O==0){D=(E>>>24)*J*(1/255);t=K}var d=t*(1-D),o=D+d,k=1/o;M[x+L]=~~(.5+(O*K+(1-O)*o)*255)<<24|~~(.5+(F*D+_*d)*k)<<16|~~(.5+(Y*D+j*d)*k)<<8|~~(.5+(y*D+w*d)*k)}}};
N.a.aoc=function(G,m,A,Q,H,J){var b=m.KB(Q).KB(H),O=Math.max(0,b.x-m.x),a=Math.max(0,b.x-Q.x),e=Math.max(0,b.y-m.y),R=Math.max(0,b.y-Q.y),p=b.e,P=b.n,z=m.e,Z=Q.e,W=N.a._u,T=N.a.OU,i=new Uint32Array(G.buffer),X=new Uint32Array(A.buffer),U=Math.floor(Math.random()*16777215),M=0;
for(var $=0;$<P;$++){var C=(e+$)*z+O,x=(R+$)*Z+a;for(var L=0;L<p;L++){var E=i[C+L];if(E>>>24==0)continue;
if(E>>24==255&&J==1){X[x+L]=E;continue}var l=X[x+L],y=(E>>>24)*J*(1/255),Y=(l>>>24)*(1/255),F=Y*(1-y),w=y+F,j=E&255,_=E>>>8&255,D=E>>>16&255,t=l&255,K=l>>>8&255,d=l>>>16&255;
M>>>=8;if((L&3)==0)M=N.a.t9(x+L+U);var o=w==0?0:1/w,k=Math.floor(w*(256*255))+(M&255)>>>8,v=Math.floor((D*y+d*F)*o+.5),u=Math.floor((_*y+K*F)*o+.5),B=Math.floor((j*y+t*F)*o+.5);
X[x+L]=k<<24|v<<16|u<<8|B}}};N.a.hU=function(G,m,A,Q,H,J,b,O){var a=N.vp(G,m,A),e=N.vp(Q,H,J),R=Math.min,p=N.a.ani,P=p(a,O,0);
P=R(P,p(G,O,8));P=R(P,p(m,O,16));P=R(P,p(A,O,24));var z=p(e,O,4);z=R(z,p(Q,O,12));z=R(z,p(H,O,20));z=R(z,p(J,O,28));
z=Math.max(z,1-b);var Z=Math.min(P,z);return Z<0?0:Z>1?1:Z};N.a.ani=function(G,m,$){return Math.min((G-m[$])*m[$+1],(G-m[$+3])*m[$+2])};
N.a.a2C=function(G,m,A,Q,H,J,b,O){var a=1/255,e=a*J,R=O.BK?1:0,p=O.fill,P=O.style,z=m.KB(Q).KB(H),Z=Math.max(0,z.x-m.x),W=Math.max(0,z.x-Q.x),T=Math.max(0,z.y-m.y),i=Math.max(0,z.y-Q.y),X=z.e,U=z.n,M=m.e,C=Q.e,x=new Uint32Array(G.buffer),L=new Uint32Array(A.buffer);
for(var $=0;$<U;$++){var E=(T+$)*M+Z,l=(i+$)*C+W;for(var y=0;y<X;y++,E++,l++){var Y=x[E],o=1;if(Y>>>24==0)continue;
var F=L[l],w=(Y&255)*a,j=(Y>>>8&255)*a,_=(Y>>>16&255)*a,D=(F&255)*a,t=(F>>>8&255)*a,K=(F>>>16&255)*a,d=J;
if(R==0){d=(Y>>>24)*e;o=(F>>>24)*a}if(O.Eu)d*=N.a.hU(w,j,_,D,t,K,o,O.Eu);var k=o*(1-d),v=d+k,u=v==0?0:255/v,B=P?1:d,S=((1-o)*d*w+(1-B)*o*D+B*o*b(w,D,(1+d-B)*p))*u,I=((1-o)*d*j+(1-B)*o*t+B*o*b(j,t,(1+d-B)*p))*u,q=((1-o)*d*_+(1-B)*o*K+B*o*b(_,K,(1+d-B)*p))*u;
v=d*p+o*(1-d*p);var hw=~~(v*255+.5);L[l]=R*(F>>>24)+(1-R)*hw<<24|q<<16|I<<8|S}}};N.a.an_=function(G,m,A,Q,H,J,b,O){var a=1/255,e=a*J,R=O.BK?1:0,p=m.KB(Q).KB(H),P=Math.max(0,p.x-m.x),z=Math.max(0,p.x-Q.x),Z=Math.max(0,p.y-m.y),W=Math.max(0,p.y-Q.y),T=p.e,i=p.n,X=new Uint32Array(G.buffer),U=new Uint32Array(A.buffer),M={p:0,z:0,h:0},C={p:0,z:0,h:0},x={p:0,z:0,h:0};
for(var $=0;$<i;$++){var L=(Z+$)*m.e+P,E=(W+$)*Q.e+z;for(var l=0;l<T;l++,L++,E++){var y=X[L],Y=U[E],F=(y&255)*a,w=(y>>>8&255)*a,j=(y>>>16&255)*a,_=(Y&255)*a,D=(Y>>>8&255)*a,t=(Y>>>16&255)*a,K=J,d=1;
if(R==0){K=(y>>>24)*e;d=(Y>>>24)*a}if(O.Eu)K*=N.a.hU(F,w,j,_,D,t,d,O.Eu);var o=d*(1-K),k=K+o,v=255/k;
M.p=F;M.z=w;M.h=j;C.p=_;C.z=D;C.h=t;b(M,C,x);var u=(((1-d)*F+d*x.p)*K+_*o)*v,B=(((1-d)*w+d*x.z)*K+D*o)*v,S=(((1-d)*j+d*x.h)*K+t*o)*v,I=R*(Y>>>24)+(1-R)*Math.round(k*255);
U[E]=I<<24|S<<16|B<<8|u}}};N.a.SG=function(G){G=G^61^G>>>16;G=G+(G<<3);G=G^G>>>4;G=G*668265261;G=G^G>>15;
return(G&16777215)*(1/16777215)};N.a.t9=function(G){G=G^61^G>>>16;G=G+(G<<3);G=G^G>>>4;G=G*668265261;
G=G^G>>>15;return G};N.a.tw=function(G){this.W9=G};N.a.tw.prototype.get=function(){var G=this.W9=N.a.t9(this.W9);
return(G&16777215)*(1/16777215)};N.a.a67=function(G,m,A,Q,H,J,b,O){var a=1/255,e=a*J,R=Math.round(J*(256*256*256/255)),p=m.KB(Q).KB(H),P=Math.max(0,p.x-m.x),z=Math.max(0,p.x-Q.x),Z=Math.max(0,p.y-m.y),W=Math.max(0,p.y-Q.y),T=p.e,i=p.n,X=new Uint32Array(G.buffer),U=new Uint32Array(A.buffer);
for(var $=0;$<i;$++){var M=(Z+$)*m.e+P,C=(W+$)*Q.e+z;for(var x=0;x<T;x++,M++,C++){var L=X[M],E=U[C],l=O*255+(1-O)*(L>>>24);
if((N.a.t9(M)&16777215)>=l*R)continue;U[C]=L&16777215|O*(E>>>24)+(1-O)*255<<24}}};N.a.adr=function(G,m,A){for(var $=0;
$<G.length;$+=4){var Q=A[$>>>2];if(Q==0)continue;var H=Q*(1/255),J=1/H,b=m[$],O=m[$+1],a=m[$+2],e=G[$],R=G[$+1],p=G[$+2];
m[$]=Math.min(255,Math.max(0,Math.round((b-(1-H)*e)*J)));m[$+1]=Math.min(255,Math.max(0,Math.round((O-(1-H)*R)*J)));
m[$+2]=Math.min(255,Math.max(0,Math.round((a-(1-H)*p)*J)));m[$+3]=255}};N.a.B4=function(G,m,A,Q,H,J,b,O,a,e,R){if(e==null)e=!1;
if(R==null)R=[1,1,1];var p=255<<24|R[2]*16711680|R[1]*65280|R[0]*255,P=~p;if(H&&!m.A5(J)){var z=N.$(m.Z()*4);
z.fill(b);N.qg(H,J,z,m);H=z;J=m}if(e){if(H==null)N.a.amn(G,m,A,Q,H,O,a,p,P);else N.a.a2i(G,m,A,Q,H,O,a)}else{if(H==null)N.a.a3R(G,m,A,Q,H,O,a,p,P);
else N.a.a9_(G,m,A,Q,H,O,a)}};N.a.a3R=function(G,m,A,Q,H,J,b,O,a){var e=1/255,R=m.KB(Q).KB(J),p=Math.max(0,R.x-m.x),P=Math.max(0,R.x-Q.x),z=Math.max(0,R.y-m.y),Z=Math.max(0,R.y-Q.y),W=R.e,T=R.n,i=new Uint32Array(G.buffer),X=new Uint32Array(A.buffer),U=N.a._u,M=b*255&255;
for(var $=0;$<T;$++){var C=(z+$)*m.e+p,x=(Z+$)*Q.e+P;for(var L=0;L<W;L++,C++,x++){var E=i[C],l=X[x],y=E>>>24,Y=l>>>24,F=N.fO(M*y+(255-M)*Y),w=N.fO(y*M),j=N.fO(Y*(255-M)),_=E&255,D=E>>>8&255,t=E>>>16&255,K=l&255,d=l>>>8&255,o=l>>>16&255,k=w*_+K*j,v=w*D+d*j,u=w*t+o*j;
k=U[F<<8|N.fO(k)];v=U[F<<8|N.fO(v)];u=U[F<<8|N.fO(u)];var B=F<<24|u<<16|v<<8|k;X[x]=a&l|O&B}}};N.a.amn=function(G,m,A,Q,H,J,b,O,a){var e=1/255,R=m.KB(Q).KB(J),p=Math.max(0,R.x-m.x),P=Math.max(0,R.x-Q.x),z=Math.max(0,R.y-m.y),Z=Math.max(0,R.y-Q.y),W=R.e,T=R.n,i=new Uint32Array(G.buffer),X=new Uint32Array(A.buffer),U=N.a._u,M=b*16777215&16777215;
for(var $=0;$<T;$++){var C=(z+$)*m.e+p,x=(Z+$)*Q.e+P;for(var L=0;L<W;L++,C++,x++){if((N.a.t9(C)&16777215)<M){X[x]=a&X[x]|O&i[C]}}}};
N.a.a9_=function(G,m,A,Q,H,J,b){var O=1/255,a=m.KB(Q).KB(J),e=Math.max(0,a.x-m.x),R=Math.max(0,a.x-Q.x),p=Math.max(0,a.y-m.y),P=Math.max(0,a.y-Q.y),z=a.e,Z=a.n,W=new Uint32Array(G.buffer),T=new Uint32Array(A.buffer),i=N.a._u;
for(var $=0;$<Z;$++){var X=(p+$)*m.e+e,U=(P+$)*Q.e+R;for(var M=0;M<z;M++,X++,U++){var C=H[X]*b&255;if(C==0)continue;
if(C==255){T[U]=W[X];continue}var x=W[X],L=T[U],E=x>>>24,l=L>>>24,y=N.fO(C*E+(255-C)*l),Y=N.fO(E*C),F=N.fO(l*(255-C)),w=x&255,j=x>>>8&255,_=x>>>16&255,D=L&255,t=L>>>8&255,K=L>>>16&255,d=i[y<<8|N.fO(Y*w+D*F)],o=i[y<<8|N.fO(Y*j+t*F)],k=i[y<<8|N.fO(Y*_+K*F)];
T[U]=y<<24|k<<16|o<<8|d}}};N.a.a2i=function(G,m,A,Q,H,J,b){var O=1/255,a=m.KB(Q).KB(J),e=Math.max(0,a.x-m.x),R=Math.max(0,a.x-Q.x),p=Math.max(0,a.y-m.y),P=Math.max(0,a.y-Q.y),z=a.e,Z=a.n,W=new Uint32Array(G.buffer),T=new Uint32Array(A.buffer),i=N.a._u,X=Math.round(b*257);
for(var $=0;$<Z;$++){var U=(p+$)*m.e+e,M=(P+$)*Q.e+R;for(var C=0;C<z;C++,U++,M++){var x=H[U]*X;if((N.a.t9(U)&65535)<x)T[M]=W[U]}}};
N.a.Gc=function(G,m,A,Q,H,J,b){var O=1/255,a=m.KB(Q).KB(J),e=Math.max(0,a.x-m.x),R=Math.max(0,a.x-Q.x),p=Math.max(0,a.y-m.y),P=Math.max(0,a.y-Q.y),z=a.e,Z=a.n,W=new Uint32Array(G.buffer),T=new Uint32Array(A.buffer),i=Math.floor(Math.random()*Q.Z()),X=N.a.auf;
for(var $=0;$<Z;$++){var U=(p+$)*m.e+e,M=(P+$)*Q.e+R;for(var C=0;C<z;C++){var x=H[U+C]*b;if(x==0)continue;
if(x==255){T[M+C]=W[U+C];continue}var L=W[U+C],E=T[M+C],l=L>>>24,y=E>>>24,Y=l*x*(1/255),F=y*(255-x)*(1/255),w=L&255,j=L>>>8&255,_=L>>>16&255,D=E&255,t=E>>>8&255,K=E>>>16&255,d=N.a.t9(M+C+i),o=Math.floor((Y+F)*256+.5)+(d>>>0&255)>>>8,k=o==0?0:256/(Y+F),v=w*Y+D*F,u=j*Y+t*F,B=_*Y+K*F,S=Math.floor(v*k+.5)+(d>>>8&255)>>>8,I=Math.floor(u*k+.5)+(d>>>16&255)>>>8,q=Math.floor(B*k+.5)+(d>>>24&255)>>>8;
T[M+C]=o<<24|q<<16|I<<8|S}}};N.a.auf=function(G){return Math.floor(G+Math.random())};N.a.Os=function(G,m,A,Q,H,J,b){var O=1/255,a=m.KB(Q).KB(J),e=Math.max(0,a.x-m.x),R=Math.max(0,a.x-Q.x),p=Math.max(0,a.y-m.y),P=Math.max(0,a.y-Q.y),z=a.e,Z=a.n;
for(var $=0;$<Z;$++){var W=(p+$)*m.e+e,T=(P+$)*Q.e+R;for(var i=0;i<z;i++,W++,T++){var X=b*H[W]*O;if(X==0)continue;
if(X==1){A[T]=G[W];continue}A[T]=G[W]*X+A[T]*(1-X)}}};N.X$={};N.X$.aic=function(G,m,A,Q,H,J){N.X$.ME(G,m,A,Q,H,J,null,0)};
N.X$.a7N=function(G,m,A,Q,H){N.X$.ME(G,m,A,Q,H,null,null,0)};N.X$.amW=function(G,m,A,Q,H,J,b){N.X$.ME(G,m,A,Q,H,null,J,b*.5)};
N.X$.ME=function(G,m,A,Q,H,J,b,O){var a=0,F=0,w=1e9,j=0,_=1e9,D=0,t=1e9,K=0,d=0,o=0,k=0;if(J){a=H*.5;
H=3+Math.round((H-3)*.75)}if(b){H=Math.round(H*2.2)}var e=1/H,R=Math.floor(m*e)+1,p=Math.floor(A*e)+1,P=[],z=new Uint8Array(R*p*4),Z=b?.5:1,W=J?64:0;
for(var T=0;T<p;T++){var i=b?.5*(T&1):0;for(var X=0;X<R;X++){var U=(X+Math.random()*Z+i)*H,M=(T+Math.random()*Z)*H;
P.push(U,M);var C=Math.min(m-1,Math.floor(U)),x=Math.min(A-1,Math.floor(M)),L=(x*m+C)*4,E=(T*R+X)*4;
for(var $=0;$<4;$++)z[E+$]=Math.max(0,Math.min(255,Math.floor(G[L+$]+(Math.random()-.5)*W)))}}var l=J?J:b?b:[0,0,0],y=R*p*2,Y=[-R-1,-R,-R+1,-1,0,1,R-1,R,R+1];
for(var T=0;T<A;T++){o=0;for(var X=0;X<m;X++){var v=X+.5,u=T+.5,B=Math.floor(u*e),S=Math.floor(v*e),I=B*R+S,fY=0,s=0;
if(o>1+O){w=N.X$.dg(P,F,v,u);K=Math.sqrt(w);o--;k++}else{w=_=t=1e9;for(var $=0;$<Y.length;$++){var q=(I+Y[$])*2;
if(q<0||q>=y)continue;var hw=N.X$.dg(P,q,v,u);if(hw<t){if(hw<_){if(hw<w){D=j;t=_;j=F;_=w;F=q;w=hw}else{D=j;
t=_;j=q;_=hw}}else{D=q;t=hw}}}K=Math.sqrt(w);d=Math.sqrt(_);o=d-(K+d)*.5}if(b==null){var hZ=(K+d)*.5,bG=J?Math.max(0,hZ-a):0;
fY=Math.max(0,Math.min(1,.5+hZ-K-bG));s=Math.max(0,Math.min(1,1-(.5+hZ-K)-bG))}else{var aY=Math.min(N.X$.GI(P,F,j,v,u),N.X$.GI(P,F,D,v,u));
fY=Math.max(0,Math.min(1,aY-O*.5));if(v<O||m-O<v||u<O||A-O<u)fY=0;s=0}var fj=1-s-fY,E=T*m+X<<2,jg=F<<1,ae=j<<1;
Q[E+0]=Math.floor(.5+fY*z[jg+0]+s*z[ae+0]+fj*l[0]);Q[E+1]=Math.floor(.5+fY*z[jg+1]+s*z[ae+1]+fj*l[1]);
Q[E+2]=Math.floor(.5+fY*z[jg+2]+s*z[ae+2]+fj*l[2]);Q[E+3]=G[E+3]}}};N.X$.dg=function(G,m,A,Q){var H=A-G[m],J=Q-G[m+1];
return H*H+J*J};N.X$.GI=function(G,m,A,Q,H){var J=G[m],b=G[m+1],O=G[A],a=G[A+1],e=(J+O)*.5,R=(b+a)*.5,p=e+(a-b),P=R-(O-J),z=P-R,Z=p-e;
return Math.abs(z*Q-Z*H+p*R-P*e)/Math.sqrt(Z*Z+z*z)};N.ua={};N.ua.DC=function(G){if(N.ua.RV.length<G)N.ua.RV=N.$(G);
return N.ua.RV};N.ua.RV=N.$(0);N.ua.Jf=function(G){if(N.ua.n_.length<G)N.ua.n_=new Float32Array(G);return N.ua.n_};
N.ua.n_=new Float32Array(0);N.ua.zh=function(G,m,A,Q){var H=A.e,J=A.n;N.ua.a77(G,m,H,J,Q)};N.ua.Yl=function(G,m,A,Q){var H=A.e,J=A.n;
N.ua.akT(G,m,H,J,Q)};N.ua.ik=function(G,m,A){var Q=m.e,H=m.n;N.ua.a6a(G,Q,H,A)};N.ua.S8=function(G,m,A,Q,H){var J=A.e,b=A.n;
N.ua.agG(G,m,J,b,Q,H)};N.ua.hO=function(G,m,A,Q){var H=A.e,J=A.n;Q=Math.round(Q);var b=N.ua.DC(H*J);
N.Gy(G,m);N.ua.jP(m,b,H,J,Q)};N.ua.ax=function(G,m,A){var Q=m.e,H=m.n;A=Math.round(A);var J=N.ua.DC(Q*H*4);
N.ua.K2(G,J,Q,H,A)};N.ua.sf=function(G,m,A,Q){var H=A.e,J=A.n;Q=Math.round(Q);var b=N.ua.Jf(H*J);N.Gy(G,m);
N.ua.WR(m,b,H,J,Q)};N.ua.$S=function(G,m,A){var Q=m.e,H=m.n;A=Math.round(A);var J=N.ua.DC(Q*H*4);N.ua.R_(G,J,Q,H,A);
N.Gy(J,G)};N.ua.U0=function(G,jw){var m=Math.sqrt(12*G*G/jw+1),A=Math.floor(m);if(A%2==0)A--;var Q=A+2,H=(12*G*G-jw*A*A-4*jw*A-3*jw)/(-4*A-4),J=Math.round(H),b=[];
for(var $=0;$<jw;$++)b.push($<J?A:Q);return b};N.ua.a77=function(G,m,A,Q,H){var J=N.ua.U0(H,3),b=N.ua.DC(A*Q);
N.Gy(G,m);N.ua.jP(m,b,A,Q,J[0]-1>>1);N.ua.jP(m,b,A,Q,J[1]-1>>1);N.ua.jP(m,b,A,Q,J[2]-1>>1)};N.ua.akT=function(G,m,A,Q,H){var J=N.ua.U0(H,2),b=N.ua.DC(A*Q);
N.Gy(G,m);N.ua.jP(m,b,A,Q,J[0]-1>>1);N.ua.jP(m,b,A,Q,J[1]-1>>1)};N.ua.a6a=function(G,m,A,Q){var H=N.ua.U0(Q,3),J=N.ua.DC(m*A*4);
N.ua.K2(G,J,m,A,H[0]-1>>1);N.ua.K2(G,J,m,A,H[1]-1>>1);N.ua.K2(G,J,m,A,H[2]-1>>1)};N.ua.agG=function(G,m,A,Q,H,J){if(J==null)J=3;
var b=N.ua.U0(H,J),O=N.ua.Jf(A*Q);N.Gy(G,m);for(var $=0;$<J;$++)N.ua.WR(m,O,A,Q,(b[$]-1)/2)};N.ua.jP=function(G,m,A,Q,H){N.ua.ahh(G,m,A,Q,H);
N.ua.anP(m,G,A,Q,H)};N.ua.K2=function(G,m,A,Q,H){N.ua.R_(G,m,A,Q,H);N.ua.ady(m,G,A,Q,H)};N.ua.WR=function(G,m,A,Q,H){N.ua.aly(G,m,A,Q,H);
N.ua.a5u(m,G,A,Q,H)};N.ua.mb=[];N.ua.jH=function(G){if(N.ua.mb[G])return N.ua.mb[G];var m=1/(G+G+1),A=(G+G+1)*256,Q=N.$(A);
for(var $=0;$<A;$++)Q[$]=Math.round($*m);N.ua.mb[G]=Q;return Q};N.ua.ahh=function(G,m,A,Q,H){var J=1/(H+H+1),b=A-H-H-1,O=N.ua.jH(H);
for(var $=0;$<Q;$++){var a=$*A,e=a,R=a+H,p=G[a],P=G[a+A-1],z=(H+1)*p;for(var Z=0;Z<H;Z++)z+=G[a+Z];for(var Z=0;
Z<=H;Z++){z+=G[R+Z]-p;m[a+Z]=O[z]}R+=H+1;a+=H+1;for(var Z=0;Z<b;Z++){z+=G[R+Z]-G[e+Z];m[a+Z]=O[z]}R+=b;
e+=b;a+=b;for(var Z=A-H;Z<A;Z++){z+=P-G[e++];m[a++]=O[z]}}};N.ua.R_=function(G,m,A,Q,H){var J=A<<2,b=H<<2,O=1/(H+H+1),a=A-H-H-1,e=a<<2,R=N.ua.jH(H);
for(var $=0;$<Q;$++){var p=$*J,P=p,z=p+b,Z=p+J,W=G[p],T=G[p+1],i=G[p+2],X=G[p+3],U=(H+1)*W,M=(H+1)*T,C=(H+1)*i,x=(H+1)*X;
for(var L=0;L<b;L+=4){U+=G[p+L];M+=G[p+L+1];C+=G[p+L+2];x+=G[p+L+3]}for(var L=0;L<=b;L+=4){U+=G[z]-W;
m[p]=R[U];M+=G[z+1]-T;m[p+1]=R[M];C+=G[z+2]-i;m[p+2]=R[C];x+=G[z+3]-X;m[p+3]=R[x];z+=4;p+=4}for(var L=0;
L<e;L+=4){U+=G[z+L]-G[P+L];m[p+L]=R[U];M+=G[z+L+1]-G[P+L+1];m[p+L+1]=R[M];C+=G[z+L+2]-G[P+L+2];m[p+L+2]=R[C];
x+=G[z+L+3]-G[P+L+3];m[p+L+3]=R[x]}z+=e;P+=e;p+=e;W=G[Z-4];T=G[Z-3];i=G[Z-2];X=G[Z-1];for(var L=A-H;
L<A;L++){U+=W-G[P];m[p]=R[U];M+=T-G[P+1];m[p+1]=R[M];C+=i-G[P+2];m[p+2]=R[C];x+=X-G[P+3];m[p+3]=R[x];
P+=4;p+=4}}};N.ua.aly=function(G,m,A,Q,H){var J=1/(H+H+1),b=A-H-H-1;for(var $=0;$<Q;$++){var O=$*A,a=O,e=O+H,R=G[O],p=G[O+A-1],P=(H+1)*R;
for(var z=0;z<H;z++)P+=G[O+z];for(var z=0;z<=H;z++){P+=G[e+z]-R;m[O+z]=P*J}e+=H+1;O+=H+1;for(var z=0;
z<b;z++){P+=G[e+z]-G[a+z];m[O+z]=P*J}e+=b;a+=b;O+=b;for(var z=A-H;z<A;z++){P+=p-G[a++];m[O++]=P*J}}};
N.ua.anP=function(G,m,A,Q,H){var J=1/(H+H+1),b=Q-H-H-1,O=N.ua.jH(H);for(var $=0;$<A;$++){var a=$,e=a,R=a+H*A,p=G[a],P=G[a+A*(Q-1)],z=(H+1)*p;
for(var Z=0;Z<H;Z++)z+=G[a+Z*A];for(var Z=0;Z<=H;Z++){z+=G[R]-p;m[a]=O[z];R+=A;a+=A}for(var Z=0;Z<b;
Z++){var W=Z*A;z+=G[R+W]-G[e+W];m[a+W]=O[z]}e+=b*A;R+=b*A;a+=b*A;for(var Z=Q-H;Z<Q;Z++){z+=P-G[e];m[a]=O[z];
e+=A;a+=A}}};N.ua.ady=function(G,m,A,Q,H){var J=A<<2,b=H<<2,O=1/(H+H+1),a=Q-H-H-1,e=a<<2,R=N.ua.jH(H);
for(var $=0;$<A;$++){var p=$<<2,P=p,z=p+H*J,Z=p+J*(Q-1),W=G[p],T=G[p+1],i=G[p+2],X=G[p+3],U=(H+1)*W,M=(H+1)*T,C=(H+1)*i,x=(H+1)*X;
for(var L=0;L<H;L++){var E=p+L*J;U+=G[E];M+=G[E+1];C+=G[E+2];x+=G[E+3]}for(var L=0;L<=H;L++){U+=G[z]-W;
m[p]=R[U];M+=G[z+1]-T;m[p+1]=R[M];C+=G[z+2]-i;m[p+2]=R[C];x+=G[z+3]-X;m[p+3]=R[x];z+=J;p+=J}for(var L=0;
L<a;L++){var l=L*J;U+=G[z+l]-G[P+l];m[p+l]=R[U];M+=G[z+l+1]-G[P+l+1];m[p+l+1]=R[M];C+=G[z+l+2]-G[P+l+2];
m[p+l+2]=R[C];x+=G[z+l+3]-G[P+l+3];m[p+l+3]=R[x]}P+=a*J;z+=a*J;p+=a*J;W=G[Z];T=G[Z+1];i=G[Z+2];X=G[Z+3];
for(var L=Q-H;L<Q;L++){U+=W-G[P];m[p]=R[U];M+=T-G[P+1];m[p+1]=R[M];C+=i-G[P+2];m[p+2]=R[C];x+=X-G[P+3];
m[p+3]=R[x];P+=J;p+=J}}};N.ua.a5u=function(G,m,A,Q,H){var J=1/(H+H+1),b=Q-H-H-1;for(var $=0;$<A;$++){var O=$,a=O,e=O+H*A,R=G[O],p=G[O+A*(Q-1)],P=(H+1)*R;
for(var z=0;z<H;z++)P+=G[O+z*A];for(var z=0;z<=H;z++){P+=G[e]-R;m[O]=P*J;e+=A;O+=A}for(var z=0;z<b;z++){var Z=z*A;
P+=G[e+Z]-G[a+Z];m[O+Z]=P*J}a+=b*A;e+=b*A;O+=b*A;for(var z=Q-H;z<Q;z++){P+=p-G[a];m[O]=P*J;a+=A;O+=A}}};
N.ls={};N.ls.$=function(G,m,A,Q){var H=[];for(var J=0;J<4;J++)for(var b=0;b<4;b++)H.push(G+A*b/3,m+Q*J/3);
return H};N.ls.Zq=function(G,m){var A=G.slice(0);for(var $=0;$<4;$++)for(var Q=0;Q<4;Q++){var H=2*($*4+Q),J=2*(Q*4+(3-$));
if(m){var b=H;H=J;J=b}A[J]=G[H];A[J+1]=G[H+1]}return A};N.ls.Bk=N.$(0);N.ls.drawImage=function(G,m,A,Q,H,J,b){var O=!1,a=Date.now(),e=2,R=A+2*e,p=Q+2*e,P=new f_(e,e,A,Q),z=P.clone(),X=50;
z.e0(e,e);var Z=N.ls.Bk;if(Z.length!=z.Z()*4)Z=N.ls.Bk=N.$(z.Z()*4);else Z.fill(0);N.Pr(m,P,Z,z);if(O)console.log(Date.now()-a,"copy rect");
a=Date.now();N.tk(Z);if(O)console.log(Date.now()-a,"multiply alpha");a=Date.now();var W=[],T=[],i=[];
for(var U=0;U<X+1;U++)for(var M=0;M<X+1;M++){var C=M/X,x=U/X;W.push(R*C,p*x);if(M<X&&U<X){var L=U*(X+1)+M,E=L+1,l=L+X+1,y=l+1;
T.push(L,E,l);T.push(l,E,y)}var Y=N.ls.a8c(G,C,x);i.push(-Y)}var F=W.slice(0);N.ls.A(G,F,new f_(e,e,A,Q));
N.H.A(F,new ci(1,0,0,1,-J.x,-J.y),F);if(O)console.log(Date.now()-a,"mesh built");a=Date.now();var w=J.e,j=J.n;
N.ZT.nT(Z,R,p,H,w,j,W,F,i,T);if(O)console.log(Date.now()-a,"rendered");a=Date.now();N.Xu(H);if(O)console.log(Date.now()-a,"divided");
a=Date.now()};N.ls.nQ=new Array(10);N.ls.aq1=function(G,m){var A=200,Q=0,H=0,J=1e9,b=N.ls.nQ;for(var O=0;
O<A+1;O++)for(var a=0;a<A+1;a++){var e=a/A,R=O/A;N.ls.zq(G,e,R,b);var p=b[8]-m.x,P=b[9]-m.y,z=p*p+P*P;
if(z<J){J=z;Q=e;H=R}}return[Q,H]};N.ls.A=function(G,m,A){var Q=A.x,H=A.y,J=1/A.e,b=1/A.n,O=N.ls.nQ;for(var a=0;
a<m.length;a+=2){var e=(m[a]-Q)*J,R=(m[a+1]-H)*b;N.ls.zq(G,e,R,O);m[a]=O[8];m[a+1]=O[9]}};N.ls.a8c=function(G,m,A){var Q,H,J,b,O=N.ls.nQ;
N.ls.atU(G,m,A,O);Q=O[8];H=O[9];N.ls.arn(G,m,A,O);J=O[8];b=O[9];return Q*b-H*J};N.ls.zq=function(G,m,A,Q){N.ls.oc(Q,0,A);
N.ls.oc(Q,4,m);N.ls.St(G,Q)};N.ls.atU=function(G,m,A,Q){N.ls.oc(Q,0,A);N.ls.d0(Q,4,m);N.ls.St(G,Q)};
N.ls.arn=function(G,m,A,Q){N.ls.d0(Q,0,A);N.ls.oc(Q,4,m);N.ls.St(G,Q)};N.ls.d0=function(G,$,m){var A=1-m;
G[$]=-3*(A*A);G[$+1]=3*(A*A)-6*(m*A);G[$+2]=6*(m*A)-3*(m*m);G[$+3]=3*(m*m)};N.ls.oc=function(G,$,m){var A=1-m;
G[$]=A*(A*A);G[$+1]=3*m*(A*A);G[$+2]=3*(m*m)*A;G[$+3]=m*m*m};N.ls.St=function(G,m){var A=0,Q=0,H=0,J=m[0],b=m[1],O=m[2],a=m[3],e=m[4],R=m[5],p=m[6],P=m[7];
H=J*e;A+=G[0]*H;Q+=G[1]*H;H=J*R;A+=G[2]*H;Q+=G[3]*H;H=J*p;A+=G[4]*H;Q+=G[5]*H;H=J*P;A+=G[6]*H;Q+=G[7]*H;
H=b*e;A+=G[8]*H;Q+=G[9]*H;H=b*R;A+=G[10]*H;Q+=G[11]*H;H=b*p;A+=G[12]*H;Q+=G[13]*H;H=b*P;A+=G[14]*H;Q+=G[15]*H;
H=O*e;A+=G[16]*H;Q+=G[17]*H;H=O*R;A+=G[18]*H;Q+=G[19]*H;H=O*p;A+=G[20]*H;Q+=G[21]*H;H=O*P;A+=G[22]*H;
Q+=G[23]*H;H=a*e;A+=G[24]*H;Q+=G[25]*H;H=a*R;A+=G[26]*H;Q+=G[27]*H;H=a*p;A+=G[28]*H;Q+=G[29]*H;H=a*P;
A+=G[30]*H;Q+=G[31]*H;m[8]=A;m[9]=Q};N.Hq={};N.Hq.af9=function(G,m,A){var Q=Date.now(),H=new ArrayBuffer(m*A*16),J=N.Hq.ada(G,m,A,H),b=N.Hq.a7u(m,A,H);
return{uV:b,Ku:J}};N.Hq.aj3=function(G,m,A){var Q=Math.round(G.length/8),H=new Uint32Array(Q),J=new Uint8Array(Q),b=new Uint32Array(Q);
N.w8(H,4294967295,0);H[A]=0;var O=new aA(Q);O.push(A,H[A]);var a={uV:G,Ku:m,qk:H,IG:J,fu:b,QC:O,a7U:A};
return a};N.Hq.rK=function(G,m){var A=G.uV,Q=G.Ku,H=G.qk,J=G.IG,b=G.fu,O=G.QC;while(!O.My()&&(m==null||J[m]==0)){var a=O.pop();
J[a]=1;for(var $=0;$<8;$++){var e=A[8*a+$],R=a+e;if(e==0||J[R])continue;var p=H[a]+Q[8*a+$];if(O.contains(R)&&p<H[R])O.remove(R,H[R]);
if(!O.contains(R)){H[R]=p;b[R]=a;O.push(R,H[R])}}}};function aA(G){this.hw=new Uint32Array(G);this.list=[];
this.r$=0;this.Uu=4294967295}aA.prototype.My=function(){return this.r$==0};aA.prototype.push=function(G,m){var A=this.list;
if(A[m]==null)A[m]=[];A[m].push(G);this.r$++;this.hw[G]=A[m].length-1+1;this.Uu=Math.min(this.Uu,m)};
aA.prototype.pop=function(){this.r$--;var G=this.list,m=this.Uu,A=G[m].pop();if(G[m].length==0)G[m]=null;
this.lB();this.hw[A]=0;return A};aA.prototype.contains=function(G){return this.hw[G]!=0};aA.prototype.remove=function(G,m){this.r$--;
var A=this.list,$=this.hw[G]-1;if($==A[m].length-1)A[m].pop();else{var Q=A[m].pop();A[m][$]=Q;this.hw[Q]=$+1}if(A[m].length==0)A[m]=null;
this.hw[G]=0;this.lB()};aA.prototype.lB=function(){if(this.r$==0){this.Uu=4294967295;return}var G=this.Uu,m=this.list;
while(m[G]==null)G++;this.Uu=G};N.Hq.ara=function(G,m,A,Q){var H=new Int16Array(Q);for(var J=0;J<A;J++)for(var b=0;
b<m;b++){var $=J*m+b,O=0;if(1<b&&b<m-2&&1<J&&J<A-2){O+=G[$-m-m];O+=G[$-m-1]+2*G[$-m]+G[$-m+1];O+=G[$-2]+2*G[$-1]-16*G[$]+2*G[$+1]+G[$+2];
O+=G[$+m-1]+2*G[$+m]+G[$+m+1];O+=G[$+m+m]}else O=-16*G[$];H[$]=O}return H};N.Hq.adY=function(G,m,A,Q){if(Q==null)Q=128;
var H=new Uint8Array(m*A);for(var J=1;J<A-1;J++)for(var b=1;b<m-1;b++){var $=J*m+b;H[$]=N.Hq.aeL(G[$],G[$-1],G[$+1],G[$-m],G[$+m],Q)}return H};
N.Hq.aeL=function(G,m,A,Q,H,J){var b=Math.abs(G);return G*m<0&&b<Math.abs(m)&&Math.abs(m-G)>J||G*A<0&&b<Math.abs(A)&&Math.abs(A-G)>J||G*Q<0&&b<Math.abs(Q)&&Math.abs(Q-G)>J||G*H<0&&b<Math.abs(H)&&Math.abs(H-G)>J?1:0};
N.Hq.an8=function(G,m,A,Q){var H=new Float32Array(Q),J=0;new Uint32Array(Q).fill(0);for(var b=0;b<A;
b++)for(var O=0;O<m;O++){var a=0,e=0,$=b*m+O,R=$*3;if(0<O&&O<m-1)a=G[$+1]-G[$-1];if(0<b&&b<A-1)e=G[$+m]-G[$-m];
var p=H[R+2]=Math.sqrt(a*a+e*e);if(p!=0){var P=1/p;H[R]=a*P;H[R+1]=e*P}if(p>J)J=p}var z=m*A,Z=J==0?0:1/J;
for(var $=0;$<z;$++)H[$*3+2]=1-H[$*3+2]*Z;return H};N.Hq.auQ=function(G,m,A){return A[~~((.5+.5*G)*255)]+A[~~((.5+.5*m)*255)]};
N.Hq.ada=function(G,m,A,Q){var H=Date.now(),J=N.Hq.ara(G,m,A,Q),b=N.Hq.adY(J,m,A),O=N.Hq.an8(G,m,A,Q),a=new Float32Array(256);
for(var $=0;$<256;$++)a[$]=Math.acos(-1+2*$/255)*(.95/Math.PI);var e=[-1,0,1,1,1,0,-1,-1],R=[-1,-1,-1,0,1,1,1,0];
for(var $=0;$<8;$++){var p=1/Math.sqrt(e[$]*e[$]+R[$]*R[$]);e[$]*=p;R[$]*=p}var P=[e[0],R[0],e[1],R[1],e[2],R[2],e[3],R[3]],z=[-m-1,-m,-m+1,1],Z=new Uint8Array(m*A*8);
new Uint32Array(Z.buffer).fill(4294967295);var W=m*A;for(var T=1;T<A-1;T++)for(var i=1;i<m-1;i++){var X=T*m+i,U=1-b[X],M=O[X*3+2],C=O[3*X+1],x=-O[3*X];
for(var L=0;L<4;L++){var E=X+z[L];N.Hq.aj0(X,E,L,Z,b,O,U,M,C,x,P,a)}}return Z};N.Hq.aj0=function(G,m,A,Q,H,J,b,O,a,e,R,p){var P=1-H[m],z=(A&1)==0?1:Math.SQRT1_2,Z=J[m*3+2]*z,W=J[3*m+1],T=-J[3*m],i=O*z,X=R[A+A],U=R[A+A+1],M=a*X+e*U,C=W*X+T*U;
if(M+C<0){M=-M;C=-C}var x=N.Hq.auQ(M,C,p);Q[(G<<3)+A]=N.Hq.Ms(P,x,Z);Q[(m<<3)+A+4]=N.Hq.Ms(b,x,i)};N.Hq.Ms=function(G,m,A){return 1+~~(.5+20*(.43*G+.43*m+.14*A))};
N.Hq.a7u=function(G,m,A){var Q=new Int16Array(A),H=Q,$=0,J=0;new Uint32Array(A).fill(0);for(var b=0;
b<m;b++)for(var O=0;O<G;O++){if(b>0&&O>0)H[J+0]=-G-1;if(b>0)H[J+1]=-G;if(b>0&&O<G-1)H[J+2]=-G+1;if(O<G-1)H[J+3]=1;
if(b<m-1&&O<G-1)H[J+4]=G+1;if(b<m-1)H[J+5]=G;if(b<m-1&&O>0)H[J+6]=G-1;if(O>0)H[J+7]=-1;$++;J+=8}return Q};
N.pO={};N.pO.ac=function(G){var m=G.slice(0),A=0;for(var $=0;$<G.length;$++)A+=G[$];for(var $=0;$<G.length;
$++)m[$]/=A;return m};N.pO.KW=[N.pO.ac([1,2,1,2,16,2,1,2,1]),N.pO.ac([1,2,1,2,4,2,1,2,1]),N.pO.ac([0,-1,0,-1,8,-1,0,-1,0]),N.pO.ac([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
N.pO.TV=function(G,m,A,Q,H,J,b,O){if(b==null)b=!1;if(O==null)O=!1;var a=Math.floor(Math.sqrt(H.length)),e=a-1>>>1,R=new Uint32Array(G.buffer),m=new Uint8ClampedArray(m.buffer);
for(var $=0;$<Q;$++)for(var p=0;p<A;p++){var P=0,z=0,Z=0,W=0;for(var T=0;T<a;T++)for(var i=0;i<a;i++){var X=H[T*a+i];
if(X==0)continue;var U=p-e+i,M=$-e+T;if(U<0)U=0;else if(U>A-1)U=A-1;if(M<0)M=0;else if(M>Q-1)M=Q-1;if(O&&R[M*A+U]>>>24==0){M=$;
U=p}var C=R[M*A+U];P+=(C&255)*X;z+=(C>>>8&255)*X;Z+=(C>>>16&255)*X;W+=(C>>>24&255)*X}if(b){if(P<0)P=-P;
if(z<0)z=-z;if(Z<0)Z=-Z;if(W<0)W=-W}if(O){P=Math.max(0,Math.min(255,P));z=Math.max(0,Math.min(255,z));
Z=Math.max(0,Math.min(255,Z));W=Math.max(0,Math.min(255,W))}var x=$*A+p<<2;m[x]=~~(.5+P);m[x+1]=~~(.5+z);
m[x+2]=~~(.5+Z);m[x+3]=255-J&m[x+3]|J&~~(.5+W)}};N.pO.yZ=function(G,m,A,Q){var H=G.length,J=new Uint8Array(H);
N.pO.TV(G,m,A,Q,N.pO.KW[4],0,!0);N.pO.TV(G,J,A,Q,N.pO.KW[5],0,!0);for(var $=0;$<H;$+=4){var b=m[$],O=m[$+1],a=m[$+2],e=m[$+3],R=J[$],p=J[$+1],P=J[$+2],z=J[$+3];
m[$]=255-Math.max(0,Math.min(255,Math.sqrt(b*b+R*R)));m[$+1]=255-Math.max(0,Math.min(255,Math.sqrt(O*O+p*p)));
m[$+2]=255-Math.max(0,Math.min(255,Math.sqrt(a*a+P*P)))}};N.pO.k_=function(G,m,A,Q){var H=G.length,J=new Uint8Array(H);
N.pO.c1(G,m,A,Q,N.pO.KW[4],!0);N.pO.c1(G,J,A,Q,N.pO.KW[5],!0);for(var $=0;$<H;$++){var b=m[$],O=J[$];
m[$]=255-Math.max(0,Math.min(255,Math.sqrt(b*b+O*O)))}};N.pO.c1=function(G,m,A,Q,H,J){m=new Uint8ClampedArray(m.buffer);
var b=[-A-1,-A,-A+1,-1,0,1,A-1,A,A+1],O=Q-1,a=A-1;for(var $=1;$<O;$++)for(var e=1;e<a;e++){var R=$*A+e,p=N.pO.C9(G,R,A,H);
if(J){if(p<0)p=-p}m[R]=~~(p+.5)}};N.pO.C9=function(G,m,A,Q){return G[m-A-1]*Q[0]+G[m-A]*Q[1]+G[m-A+1]*Q[2]+G[m-1]*Q[3]+G[m]*Q[4]+G[m+1]*Q[5]+G[m+A-1]*Q[6]+G[m+A]*Q[7]+G[m+A+1]*Q[8]};
N.pO.To=function(G,m,A,Q,H){var J=[-A-1,-A,-A+1,-1,0,1,A-1,A,A+1],b=Q-1,O=A-1;for(var $=1;$<b;$++)for(var a=1;
a<O;a++){var e=$*A+a;m[e]=N.pO.a0g(G,e,A,H)}};N.pO.a0g=function(G,m,A,Q){return G[m-A-1]*Q[0]+G[m-A]*Q[1]+G[m-A+1]*Q[2]+G[m-1]*Q[3]+G[m]*Q[4]+G[m+1]*Q[5]+G[m+A-1]*Q[6]+G[m+A]*Q[7]+G[m+A+1]*Q[8]};
N.lP={};N.lP.QI=function(){function G(b,O,a,e,R,p,P){if(R==0){O.set(b);return}var z=N.$(a*e),Z=N.$(a*e);
if(N.VG(b)){m(b,O,a,e,R,p,P);var W=[N.lP.y9,N.lP.rT],T=W.indexOf(p),i=T!=-1?W[1-T]:p;N.gF(b,z,3);N.lP.Dl(z,Z,a,e,R,i,P);
N.I5(Z,O,3)}else{for(var $=0;$<3;$++){N.gF(b,z,$);N.lP.Dl(z,Z,a,e,R,p,P);N.I5(Z,O,$)}}}function m(b,O,a,e,R,p,P){var z=0,Z=new ArrayBuffer(512*4*3),W=[new Int32Array(Z,0),new Int32Array(Z,2048),new Int32Array(Z,2*2048)],T=1+2*Math.round(Math.sqrt(R)),i=T>>>1,X=new Array(T),U=new Array(T);
for(var $=0;$<T;$++){var Z=new ArrayBuffer(512*4*3);X[$]=[new Int32Array(Z,0),new Int32Array(Z,2048),new Int32Array(Z,2*2048)];
U[$]=X[$][0]}var M=p[0],C=p[1],x=W[0];for(var L=0;L<a;L++)if(L<R||L>a-R-T-1){x.fill(0);var E=Math.max(L-R,0),l=Math.min(a,L+R+1),y=l-E;
for(var Y=0;Y<R;Y++)Q(x,b,Y*a+E,Y*a+l,1);for(var Y=0;Y<e;Y++){var F=Y-R-1,w=Y+R;if(w<e)Q(x,b,w*a+E,w*a+l,1);
if(F>=0)Q(x,b,F*a+E,F*a+l,-1);var j=Y*a+L<<2;z=x[300];if(z!=0)for(var $=0;$<3;$++)O[j+$]=M(W[$],b[j+$],z,P)}}else{for(var $=0;
$<T;$++)U[$].fill(0);var E=L-R+i,l=L+R+1+i;for(var Y=0;Y<R;Y++)A(U,b,Y*a+E,Y*a+l,1,i);for(var Y=0;Y<e;
Y++){var F=Y-R-1,w=Y+R;if(F>=0)A(U,b,F*a+E,F*a+l,-1,i);if(w<e)A(U,b,w*a+E,w*a+l,1,i);var _=X[i];z=_[0][300];
for(var $=0;$<i;$++){var D=i-1-$,t=i+1+$,K=X[D],d=X[t],o=z+K[0][300],k=z+d[0][300],v=Y*a+L+D<<2,u=Y*a+L+t<<2;
if(o!=0)for(var B=0;B<3;B++)O[v+B]=C(_[B],K[B],b[v+B],o,P);if(k!=0)for(var B=0;B<3;B++)O[u+B]=C(_[B],d[B],b[u+B],k,P)}var j=Y*a+L+i<<2;
if(z!=0)for(var B=0;B<3;B++)O[j+B]=M(_[B],b[j+B],z,P)}L+=T-1}}function A(b,O,a,e,R,p){var P=H,z=a<<2,Z=e<<2;
P(b[p-1],O,a-1<<2,R);P(b[p-1],O,e-1<<2,-R);P(b[p+1],O,e<<2,R);P(b[p+1],O,a<<2,-R);for(var $=1;$<p;$++){var W=b[p-$-1],T=b[p+$+1];
for(var i=0;i<=$;i++){var X=i<<2;P(W,O,a-1-i<<2,R);P(W,O,e-1-i<<2,-R);P(T,O,e+i<<2,R);P(T,O,a+i<<2,-R)}}Q(b[p],O,a,e,R)}function Q(b,O,$,a,e){var R=$<<2,p=a<<2;
while(R<p){H(b,O,R,e);R+=4}}function H(b,O,a,e){var R=e*O[a+3];b[300]+=R;J(b,O[a],0,R);J(b,O[a+1],512,R);
J(b,O[a+2],1024,R)}function J(b,O,a,e){b[a|O]+=e;b[a|256|O>>>4]+=e}return G}();N.lP.Dl=function(){function G(p,P,z,Z,W,T,i){if(W==0){P.set(p);
return}if(W<=80)m(p,P,z,Z,W,T,i);else J(p,P,z,Z,W,T,i)}function m(p,P,z,Z,W,T,i){var X=0,U=new Int32Array(512),M=1+2*Math.round(Math.sqrt(W)),C=M>>>1,x=new Array(M);
for(var $=0;$<M;$++)x[$]=new Int32Array(512);var L=T[0],E=T[1];for(var l=0;l<z;l++)if(l<W||l>z-W-M-1){U.fill(0);
X=0;var y=Math.max(l-W,0),Y=Math.min(z,l+W+1),F=Y-y;for(var w=0;w<W;w++){X+=F;Q(U,p,w*z+y,w*z+Y,1)}for(var w=0;
w<Z;w++){var j=w-W-1,_=w+W;if(j>=0){X-=F;Q(U,p,j*z+y,j*z+Y,-1)}if(_<Z){X+=F;Q(U,p,_*z+y,_*z+Y,1)}var D=L(U,p[w*z+l],X,i);
P[w*z+l]=D}}else{for(var $=0;$<M;$++)x[$].fill(0);X=0;var y=l-W+C,Y=l+W+1+C,F=Y-y;for(var w=0;w<W;w++){X+=F;
A(x,p,w*z+y,w*z+Y,1,C)}for(var w=0;w<Z;w++){var j=w-W-1,_=w+W;if(j>=0){X-=F;A(x,p,j*z+y,j*z+Y,-1,C)}if(_<Z){X+=F;
A(x,p,_*z+y,_*z+Y,1,C)}for(var $=0;$<C;$++){var t=C-1-$,K=C+1+$;P[w*z+l+t]=E(x[C],x[t],p[w*z+l+t],X,i);
P[w*z+l+K]=E(x[C],x[K],p[w*z+l+K],X,i)}P[w*z+l+C]=L(x[C],p[w*z+l+C],X,i)}l+=M-1}}function A(p,P,z,Z,W,T){var i=H;
i(p[T-1],P[z-1],0,W);i(p[T-1],P[Z-1],0,-W);i(p[T+1],P[Z],0,W);i(p[T+1],P[z],0,-W);for(var $=1;$<T;$++){var X=p[T-$-1],U=p[T+$+1];
for(var M=0;M<=$;M++){i(X,P[z-1-M],0,W);i(X,P[Z-1-M],0,-W);i(U,P[Z+M],0,W);i(U,P[z+M],0,-W)}}Q(p[T],P,z,Z,W)}function Q(p,P,$,z,Z){while($<z)H(p,P[$++],0,Z)}function H(p,P,z,Z){p[z|P]+=Z;
p[z|256|P>>>4]+=Z}function J(p,P,z,Z,W,T,i){var X=0,U=new Int32Array(512),M=new Int32Array(1*z),C=new Int32Array(512*z),x=Math.min(W,z),L=Math.min(W,Z),E=T[0];
for(var l=0;l<L;l++)b(C,M,p,z,l,1);for(var l=0;l<Z;l++){if(l+W<Z)b(C,M,p,z,l+W,1);if(l-W-1>=0)b(C,M,p,z,l-W-1,-1);
U.fill(0);X=0;for(var y=0;y<x;y++){X+=M[y];O(U,C,y)}for(var y=0;y<z;y++){var Y=y-W-1,F=y+W;if(Y>=0&&M[Y]!=0){X-=M[Y];
a(U,C,Y)}if(F<z&&M[F]!=0){X+=M[F];O(U,C,F)}var w=X==0?0:E(U,p[l*z+y],X,i);P[l*z+y]=w}}}function b(p,P,z,Z,W,T){var $=W*Z;
for(var i=0;i<Z;i++){H(p,z[$+i],i<<9,T);P[i]+=T}}function O(p,P,z){for(var $=0;$<16;$++){var Z=P[z<<9|256|$];
if(Z==0)continue;p[256|$]+=Z;var W=$<<4,T=z<<9|W;e(p,P,W,T);e(p,P,W+4,T+4);e(p,P,W+8,T+8);e(p,P,W+12,T+12)}}function a(p,P,z){for(var $=0;
$<16;$++){var Z=P[z<<9|256|$];if(Z==0)continue;p[256|$]-=Z;var W=$<<4,T=z<<9|W;R(p,P,W,T);R(p,P,W+4,T+4);
R(p,P,W+8,T+8);R(p,P,W+12,T+12)}}function e(p,P,z,Z){p[z]+=P[Z];p[z+1]+=P[Z+1];p[z+2]+=P[Z+2];p[z+3]+=P[Z+3]}function R(p,P,z,Z){p[z]-=P[Z];
p[z+1]-=P[Z+1];p[z+2]-=P[Z+2];p[z+3]-=P[Z+3]}return G}();N.lP.rT=[function(G,m,A,Q){var $=15;while(G[256|$]==0&&$>0)$--;
$=($<<4)+15;while(G[$]==0&&$>0)$--;return $},function(G,m,A,Q,H){var $=15;while(G[256|$]+m[256|$]==0&&$>0)$--;
$=($<<4)+15;while(G[$]+m[$]==0&&$>0)$--;return $}];N.lP.y9=[function(G,m,A,Q){var $=0;while(G[256|$]==0&&$<15)$++;
$=$<<4;while(G[$]==0&&$<255)$++;return $},function(G,m,A,Q,H){var $=0;while(G[256|$]+m[256|$]==0&&$<15)$++;
$=$<<4;while(G[$]+m[$]==0&&$<255)$++;return $}];N.lP.vA=.5;N.lP.IX=[function(G,m,A,Q){var H=~~(.5+N.lP.vA*A),J=0,$=256;
while(J+G[$]<=H)J+=G[$++];$=$-256<<4;while(J<=H)J+=G[$++];return $-1},function(G,m,A,Q,H){var J=~~(.5+N.lP.vA*Q),b=0,$=256;
while(b+G[$]+m[$]<=J){b+=G[$]+m[$];$++}$=$-256<<4;while(b<=J){b+=G[$]+m[$];$++}return $-1}];N.lP.mM=[function(G,m,A,Q){var H=Q[0],J=0,b=0,$=Math.max(0,m-H),O=Math.min(256,m+H+1);
while($<O){var a=G[$];J+=$*a;b+=a;$++}return b==0?0:J/b},function(G,m,A,Q,H){var J=H[0],b=0,O=0,$=Math.max(0,A-J),a=Math.min(256,A+J+1);
while($<a){var e=G[$]+m[$];b+=$*e;O+=e;$++}return O==0?0:b/O}];N.N={};N.N.kE=function(G){var m=f.Q.y_(G.Trnf),A=G.Sz.v,Q=N.N.hh(m,new f_(0,0,A.Wdth.v,A.Hght.v));
return N.N.o2(Q)};N.N.hh=function(G,m){var A=G[0],Q=G[1],H=G[2],J=G[3],b=G[6],O=G[7],a=G[4],e=G[5],R=0,p=0,P=1,z=0,Z=0,W=1,T=1,i=1;
if(m){R=m.x;p=m.y;P=m.x+m.e;z=m.y;Z=m.x;W=m.y+m.n;T=m.x+m.e;i=m.y+m.n}return N.N.K1(G,[R,p,P,z,T,i,Z,W])};
N.N.Qp=function(G){function m(H,J){for(var $=0;$<J.length;$+=2)if(!A(H,J[$],J[$+1]))return!1;return!0}function A(H,J,b){return H[2*J]==H[2*b]&&H[2*J+1]==H[2*b+1]}var Q=0;
if(m(G,[0,1,2,3]))Q+=1;if(m(G,[0,3,1,2]))Q+=2;return Q};N.N.K1=function(G,m){function A(D,$,t){var w=D[$*2]-D[t*2],j=D[$*2+1]-D[t*2+1];
return Math.sqrt(w*w+j*j)}var Q=G[0],H=G[1],J=G[2],b=G[3],O=G[6],a=G[7],e=G[4],R=G[5],p=m[0],P=m[1],z=m[2],Z=m[3],W=m[6],T=m[7],i=m[4],X=m[5],U=[[p,P,1,0,0,0,-p*Q,-P*Q,Q],[0,0,0,p,P,1,-p*H,-P*H,H],[z,Z,1,0,0,0,-z*J,-Z*J,J],[0,0,0,z,Z,1,-z*b,-Z*b,b],[W,T,1,0,0,0,-W*O,-T*O,O],[0,0,0,W,T,1,-W*a,-T*a,a],[i,X,1,0,0,0,-i*e,-X*e,e],[0,0,0,i,X,1,-i*R,-X*R,R]],M=[0,0,0,0,0,0,0,0],C=N.Nu.x4(U,M);
if(C!=0){M=[0,0,0,0,0,0,0,0];var x=N.N.Qp(G),L=N.N.Qp(m);if(x==L&&x!=0){var E=x==1,l=E?3:1,y=A(G,0,l),Y=A(m,0,l),F=Y/y,w=G[2*l]-G[0],j=G[2*l+1]-G[1],_=new ci;
_.translate(-Q,-H);_.rotate(Math.atan2(j,w)-(E?Math.PI/2:0));if(E)_.scale(1,F);else _.scale(F,1);_.translate(p,P);
_.G3();M=N.N.i4(_)}}return M};N.N.Wo=function(G){return Math.abs(G[6])<1e-10&&Math.abs(G[7])<1e-10};
N.N.o2=function(G){return new ci(G[0],G[3],G[1],G[4],G[2],G[5])};N.N.i4=function(G){return[G.Uj,G.Qv,G.Zh,G.h,G.nd,G.bx,0,0]};
N.N.A=function(G,m){var A=new Float64Array(2);for(var Q=0;Q<m.length;Q+=2){var H=m[Q],J=m[Q+1];N.N.Vl(H,J,G,A);
m[Q]=A[0];m[Q+1]=A[1]}};N.N.Vl=function(G,m,A,Q){var H=1/(A[6]*G+A[7]*m+1);Q[0]=(A[0]*G+A[1]*m+A[2])*H;
Q[1]=(A[3]*G+A[4]*m+A[5])*H};N.N.Xd=function(G,m){var A=new Float64Array(2);N.N.Vl(m.x,m.y,G,A);return new dw(A[0],A[1])};
N.N.kh=function(G,m,A,Q){G=new Uint32Array(G.buffer);m=new Uint32Array(m.buffer);for(var H=0;H<Q;H++){for(var J=0;
J<A;J++){m[J*Q+H]=G[H*A+J]}}};N.N.ajK=function(G,m,A,Q){G=new Uint32Array(G.buffer);m=new Uint32Array(m.buffer);
for(var H=0;H<Q;H++){for(var J=0;J<A;J++){m[H*A+J]=G[H*A+A-1-J]}}};N.N.J4=function(G){return Math.abs(G[6])<1e-9&&Math.abs(G[7])<1e-9};
N.N.sh=function(G){return Math.abs(G[0])<1e-9&&Math.abs(G[4])<1e-9||Math.abs(G[1])<1e-9&&Math.abs(G[3])<1e-9};
N.N.drawImage=function(G,m,A,Q,H,J,b,O,a){if(b==null)b=!1;if(O==null)O=!1;var e=N.N.G3(G),R=!0,p=0;for(var $=0;
$<8;$++){var P=Math.round(G[$]);if($!=2&&$!=5)p+=Math.abs(P);if(Math.abs(P-G[$])>1e-9)R=!1}var z=N.N.J4(G),Z=N.N.sh(G)&&z,W=Z?1:0;
if(b||R&&p==A+Q&&z){N.N.a2y(e,m,A,Q,H,J,O,z,a);return}var T=J.e,i=J.n,X=new Float64Array(2);H=new Uint32Array(H.buffer);
m=new Uint32Array(m.buffer);for(var U=0;U<i;U++)for(var M=0;M<T;M++){var C=U*T+M,x,L,E,l,o=0,k=0,v=0,u=0;
H[C]=0;var y=M+J.x+.5,Y=U+J.y+.5;x=y;L=Y;E=e;var F=E[0]*x+E[1]*L+E[2],w=E[3]*x+E[4]*L+E[5];if(!z){l=1/(E[6]*x+E[7]*L+1);
F*=l;w*=l}var j=F*A,_=w*Q,D=j<-1||j>A+1||_<-1||_>Q+1;if(O){j=Math.max(.001,Math.min(A-1,j));_=Math.max(.001,Math.min(Q-1,_))}else if(D)continue;
var t=N.N.ai3(G,A,Q,y,Y,F,w),K=Math.round(t*2.3);if(t<1.1){N.N.qM(j,_,m,A,Q,H,C,W);continue}if(!O&&(j<.6||j>A-.6||_<.6||_>Q-.6)){K=Math.max(K,5)}if(O&&D)K=1;
var d=1/K,B=J.x+M,S=J.y+U;E=e;for(var $=0;$<K;$++)for(var I=0;I<K;I++){x=B+($+.5)*d;L=S+(I+.5)*d;var j=E[0]*x+E[1]*L+E[2],_=E[3]*x+E[4]*L+E[5];
if(!z){l=1/(E[6]*x+E[7]*L+1);j*=l;_*=l}if(O){j=Math.max(.001,Math.min(.999,j));_=Math.max(.001,Math.min(.999,_))}else if(j<0||j>=1||_<0||_>=1)continue;
j=Math.floor(j*A);_=Math.floor(_*Q);var q=_*A+j,hw=m[q],fY=hw>>>24;o+=(hw&255)*fY;k+=(hw>>>8&255)*fY;
v+=(hw>>>16&255)*fY;u+=fY}if(u!=0){var s=1/u;o=~~(o*s+.5);k=~~(k*s+.5);v=~~(v*s+.5);u=~~(u*d*d+.5);H[C]=u<<24|v<<16|k<<8|o}}};
N.N.ai3=function(G,m,A,Q,H,J,b){var O=N.N.gP(G,Q,H,J+1/m,b),a=N.N.gP(G,Q,H,J,b+1/A);return 1/Math.sqrt(Math.max(O,a))};
N.N.gP=function(G,m,A,Q,H){var J=1/(G[6]*Q+G[7]*H+1),b=(G[0]*Q+G[1]*H+G[2])*J-m,O=(G[3]*Q+G[4]*H+G[5])*J-A;
return b*b+O*O};N.N.a2y=function(G,m,A,Q,H,J,b,O,a){if(O&&!b&&J.Z()>4e6&&a){N.N.ap_(G,m,A,Q,H,J,b,O,a);
return}var e=J.x+J.e,R=J.y+J.n,p=0,P=new Uint32Array(H.buffer),z=new Uint32Array(m.buffer),Z=G[0]*A,W=G[1]*A,T=G[2]*A,i=G[3]*Q,X=G[4]*Q,U=G[5]*Q,M=G[6],C=G[7];
if(O&&!b)for(var x=J.y+.5;x<R;x++)for(var L=J.x+.5;L<e;L++){var E=Z*L+W*x+T,l=i*L+X*x+U;if(0<E&&E<A&&0<l&&l<Q){var y=~~l*A+~~E;
P[p]=z[y]}else P[p]=0;p++}else for(var x=J.y+.5;x<R;x++)for(var L=J.x+.5;L<e;L++){var Y=1/(M*L+C*x+1),E=(Z*L+W*x+T)*Y,l=(i*L+X*x+U)*Y;
if(b){E=Math.max(.001,Math.min(A-1,E));l=Math.max(.001,Math.min(Q-1,l))}if(0<E&&E<A&&0<l&&l<Q){var y=Math.floor(l)*A+Math.floor(E);
P[p]=z[y]}else P[p]=0;p++}};N.N.ap_=function(G,m,A,Q,H,J,b,O,a){var e=new Uint32Array(H.buffer),R=new Uint32Array(m.buffer),C=0;
if(a&&(J.e&3)!=0)throw"e";var p=G[0]*A,P=G[1]*A,z=G[2]*A,Z=G[3]*Q,W=G[4]*Q,T=G[5]*Q,i=G[6],X=G[7],U=J.e,M=J.n,x=J.x+.5,L=J.y+.5,E=(U>>>2<<2)-1e-9,l=-.1+(M>>>1<<1)-1e-9,y=~~A,Y=p==0?0:1/p,F=Z==0?0:1/Z;
for(var w=0;w<M;w++){var j=x*p+P*(w+L)+z,_=x*Z+W*(w+L)+T,D=0,t=U;if(p==0){}else if(Y>0){D=Math.max(D,-j*Y);
t=Math.min(t,(A-j)*Y)}else{t=Math.min(t,-j*Y);D=Math.max(D,(A-j)*Y)}if(Z==0){}else if(F>0){D=Math.max(D,-_*F);
t=Math.min(t,(Q-_)*F)}else{t=Math.min(t,-_*F);D=Math.max(D,(Q-_)*F)}if(t<0)t=0;if(D>t)D=t;D=Math.ceil(D);
t=~~t;C=~~(w*U);for(var K=0;K<D;K++)e[C++]=0;for(var K=D;K<t;K+=4){var d=p*K+j,o=Z*K+_,k=~~o*y+~~d;e[C++]=e[C++]=e[C++]=e[C++]=R[k]}for(var K=t;
K<U;K++)e[C++]=0}};N.N.G3=function(G){var m=G[4]-G[5]*G[7],A=G[2]*G[7]-G[1],Q=G[1]*G[5]-G[2]*G[4],H=G[5]*G[6]-G[3],J=G[0]-G[2]*G[6],b=G[3]*G[2]-G[0]*G[5],O=G[3]*G[7]-G[4]*G[6],a=G[1]*G[6]-G[0]*G[7],e=1/(G[0]*G[4]-G[1]*G[3]);
return[m*e,A*e,Q*e,H*e,J*e,b*e,O*e,a*e]};N.N.rF=function(G,m){var A=G[0],Q=G[1],H=G[2],J=G[3],b=G[4],O=G[5],a=G[6],e=G[7],R=m[0],p=m[1],P=m[2],z=m[3],Z=m[4],W=m[5],T=m[6],i=m[7],X=[A*R+Q*z+H*T,A*p+Q*Z+H*i,A*P+Q*W+H,J*R+b*z+O*T,J*p+b*Z+O*i,J*P+b*W+O,a*R+e*z+T,a*p+e*Z+i],U=1/(a*P+e*W+1);
for(var $=0;$<8;$++)X[$]*=U;return X};N.N.qM=function(G,m,A,Q,H,J,b,O){var a=G,e=m,P=0,z=0,Z=0,W=0;G-=.499999;
m-=.499999;var R=Math.floor(G),p=Math.floor(m);if(O==0){var $=p*Q+R,T=R>=0&&R<Q,i=R+1>=0&&R+1<Q,X=p>=0&&p<H,U=p+1>=0&&p+1<H;
if(T&&X)P=A[$];if(i&&X)z=A[$+1];if(T&&U)Z=A[$+Q];if(i&&U)W=A[$+Q+1]}else if(O==1){var M=R<0?0:R>Q-1?Q-1:R,C=R<-1?0:R>Q-2?Q-1:R+1,x=p<0?0:p>H-1?H-1:p,L=p<-1?0:p>H-2?H-1:p+1;
P=A[x*Q+M];z=A[x*Q+C];Z=A[L*Q+M];W=A[L*Q+C]}else{var M=(R+50*Q)%Q,C=(R+50*Q)%Q,x=(p+50*H)%H,L=(p+50*H)%H;
P=A[x*Q+M];z=A[x*Q+C];Z=A[L*Q+M];W=A[L*Q+C]}var E=G-R,l=m-p,y=(1-l)*(1-E)*(P>>>24),Y=(1-l)*E*(z>>>24),F=l*(1-E)*(Z>>>24),w=l*E*(W>>>24),j=y+Y+F+w,_=y*(P&255)+Y*(z&255)+F*(Z&255)+w*(W&255),D=y*(P>>>8&255)+Y*(z>>>8&255)+F*(Z>>>8&255)+w*(W>>>8&255),t=y*(P>>>16&255)+Y*(z>>>16&255)+F*(Z>>>16&255)+w*(W>>>16&255);
if(j==0)J[b]=0;else{var K=1/j;_=~~(_*K+.5);D=~~(D*K+.5);t=~~(t*K+.5);j=~~(j+.5);J[b]=j<<24|t<<16|D<<8|_}};
N.N.v8=function(G,m,A,Q,H,J){var b=G-.499999,O=m-.499999,a=~~b,e=~~O,R=b-a,p=O-e,P=(1-p)*(1-R),z=(1-p)*R,Z=p*(1-R),W=p*R,T=e*Q+a<<2,i=(e+1)*Q+a<<2,X=P*A[T]+z*A[T+4]+Z*A[i]+W*A[i+4],U=P*A[T+1]+z*A[T+5]+Z*A[i+1]+W*A[i+5],M=P*A[T+2]+z*A[T+6]+Z*A[i+2]+W*A[i+6],C=P*A[T+3]+z*A[T+7]+Z*A[i+3]+W*A[i+7];
J[0]=X;J[1]=U;J[2]=M;J[3]=C};N.N.Zw=function(G,m,A,Q,H){G-=.499999;m-=.499999;var J=Math.floor(G),b=Math.floor(m),O=G-J,a=m-b,e=(1-a)*(1-O),R=(1-a)*O,p=a*(1-O),P=a*O,z=(J+50*Q)%Q,Z=(J+1+50*Q)%Q,W=(b+50*H)%H,T=(b+1+50*H)%H,i=A[W*Q+z],X=A[W*Q+Z],U=A[T*Q+z],M=A[T*Q+Z];
if(i==null||M==null)throw"e";return e*i+R*X+p*U+P*M};N.N.Mh=function(G,m,A,Q,H,J,b,O,a,e,R,p){var P=new Uint32Array(G.buffer),z=new Uint32Array(Q.buffer),Z=(1+2*e)/H,W=[],T=[];
for(var i=0;i<H;i++){var X=-.25+e-i*Z;W.push(Math.cos(2*Math.PI*X)*p/R);W.push(Math.sin(2*Math.PI*X)/R)}b*=m;
O*=A;for(var U=0;U<J;U++){var M=Math.pow(U/J,a)*J;for(var i=0;i<H;i++){var C=b+W[i<<1]*M,x=O+W[(i<<1)+1]*M,L=~~(.5+(C<0?0:C>m-1?m-1:C)),E=~~(.5+(x<0?0:x>A-1?A-1:x));
z[U*H+i]=P[E*m+L]}}};N.N.TO=function(G,m,A,Q,H,J,b,O,a,e,R,p){var P=new Uint32Array(G.buffer),z=new Uint32Array(Q.buffer),Z=1/p,W=[],T=A*4,i=1/T;
for(var X=0;X<T+10;X++)W.push(Math.pow(X*i,1/a)*A*R);b*=H;O*=J;for(var X=0;X<J;X++)for(var U=0;U<H;U++){var M=Z*(U-b),C=X-O,x=1.75-Math.atan2(C,M)*(1/(2*Math.PI));
x=x-~~x;x=(x+e)*(1/(1+2*e));var L=Math.sqrt(M*M+C*C);L=W[~~(L*4)];N.N.qM(x*m+.5,L+.5,P,m,A,z,X*H+U,1)}};
N.N.Sc=function(G,m,A,Q,H){var J=H[0],b=H[1];for(var O=0;O<b;O++)for(var a=0;a<J;a++){var e=H[2]*a+H[3]*O+H[4],R=H[5]*a+H[6]*O+H[7],p=O*J+a<<2,P=R*m+e<<2;
Q[p]=G[P+0];Q[p+1]=G[P+1];Q[p+2]=G[P+2];Q[p+3]=G[P+3]}};N.X={vS:function(G,m){var A=~~(.499+G*m);return A<0?0:A>m?m:A},a6T:function(G,m,A,Q,H,J,b,O){var a=A[0],e=A[1],R=A[2],p=A[3],P=Q.e,z=Q.n,Z=new Float64Array(P*4+8),W=new Float64Array(P*4+8);
for(var T=0,$=0;T<z;T++){var i=Z;Z=W;W=i;W.fill(0);for(var X=0;X<P;X++,$++){var U=X+H,M=T+J,C=a*U+e*M,x=R*U+p*M,L=0,y=0;
if(O==0)L=C+.5;else if(O==1)L=2*Math.sqrt(C*C+x*x);else if(O==2)L=(Math.PI+Math.atan2(-x,-C))/(2*Math.PI);
else if(O==3)L=Math.abs(C*2);else if(O==4)L=2*(Math.abs(C)+Math.abs(x));var E=N.X.vS(L,b)*4,l=X*4;for(var Y=0;
Y<4;Y++){var F=Math.max(0,Math.min(254.999,m[E+Y]+Z[l+4+Y])),w=Math.floor(F);if(Math.random()<F-w)w++;
var j=F-w;Z[l+8+Y]=j*(7/16);W[l+0+Y]=j*(3/16);W[l+4+Y]=j*(5/16);W[l+8+Y]=j*(1/16);y|=w<<Y*8}G[$]=y}}},zr:[function(G,m,A,Q,H,J,b){var O=A[0],a=A[1],e=A[2],R=A[3],p=Q.e,P=Q.n;
for(var z=0,$=0;z<P;z++)for(var Z=0;Z<p;Z++,$++){var W=Z+H,T=z+J,i=O*W+a*T,X=e*W+R*T,U=i+.5;G[$]=m[N.X.vS(U,b)]}},function(G,m,A,Q,H,J,b){var O=A[0],a=A[1],e=A[2],R=A[3],p=Q.e,P=Q.n;
for(var z=0,$=0;z<P;z++)for(var Z=0;Z<p;Z++,$++){var W=Z+H,T=z+J,i=O*W+a*T,X=e*W+R*T,U=2*Math.sqrt(i*i+X*X);
G[$]=m[N.X.vS(U,b)]}},function(G,m,A,Q,H,J,b){var O=A[0],a=A[1],e=A[2],R=A[3],p=Q.e,P=Q.n;for(var z=0,$=0;
z<P;z++)for(var Z=0;Z<p;Z++,$++){var W=Z+H,T=z+J,i=O*W+a*T,X=e*W+R*T,U=(Math.PI+Math.atan2(-X,-i))/(2*Math.PI);
G[$]=m[N.X.vS(U,b)]}},function(G,m,A,Q,H,J,b){var O=A[0],a=A[1],e=A[2],R=A[3],p=Q.e,P=Q.n;for(var z=0,$=0;
z<P;z++)for(var Z=0;Z<p;Z++,$++){var W=Z+H,T=z+J,i=O*W+a*T,X=e*W+R*T,U=Math.abs(i*2);G[$]=m[N.X.vS(U,b)]}},function(G,m,A,Q,H,J,b){var O=A[0],a=A[1],e=A[2],R=A[3],p=Q.e,P=Q.n;
for(var z=0,$=0;z<P;z++)for(var Z=0;Z<p;Z++,$++){var W=Z+H,T=z+J,i=O*W+a*T,X=e*W+R*T,U=2*(Math.abs(i)+Math.abs(X));
G[$]=m[N.X.vS(U,b)]}}]};N.X.a0f=function(G,m){return G+.5};N.X.auq=function(G,m){return 2*Math.sqrt(G*G+m*m)};
N.X.aas=function(G,m){return(Math.PI+Math.atan2(-m,-G))/(2*Math.PI)};N.X.a6F=function(G,m){return Math.abs(G*2)};
N.X.a0U=function(G,m){return 2*(Math.abs(G)+Math.abs(m))};N.X.Ut=function(G,m,A,Q,H,J,b,O,a,e,R,p){var P=G.Clrs,z=new Uint32Array(m.buffer),Z=1023,W=P?N.X.IN(P.v,a,e):null;
if(p&&P){var T=N.X.afU(G,W,Z+1,b);N.X.a6T(z,T,Q,A,A.x-H,A.y-J,Z,O)}else{var i=P?N.X.FO(G,W,Z+1,b):N.X.zV(G,Z+1,b);
if(O<5){N.X.zr[O](z,i,Q,A,A.x-H,A.y-J,Z)}else{var X=new Uint8Array(i.buffer),U=A.e,M=A.n,C=R.G9-R.X1,x=1/C,L=R.VV.e-A.e>>1,E=R.VV.n-A.n>>1,l=R.VV.e,y=-.6*x,Y=(-.6+.4)*x,F=(-.6+2*.4)*x,w=(-.6+3*.4)*x;
for(var j=0,$=0;j<M;j++)for(var _=0;_<U;_++,$+=4){var D=0,t=0,K=0,d=0,o=(j+E)*l+_+L,k=(R._3[o]-R.X1)*x,v=0;
if(k<=0||k>=1){v=(k<=0?0:Z)<<2;m[$]=X[v];m[$+1]=X[v+1];m[$+2]=X[v+2];m[$+3]=X[v+3];continue}v=Math.max(0,Math.min(Z-1,Math.round((k+y)*Z)))<<2;
t+=X[v];K+=X[v+1];d+=X[v+2];D+=X[v+3];v=Math.max(0,Math.min(Z-1,Math.round((k+Y)*Z)))<<2;t+=X[v];K+=X[v+1];
d+=X[v+2];D+=X[v+3];v=Math.max(0,Math.min(Z-1,Math.round((k+F)*Z)))<<2;t+=X[v];K+=X[v+1];d+=X[v+2];D+=X[v+3];
v=Math.max(0,Math.min(Z-1,Math.round((k+w)*Z)))<<2;t+=X[v];K+=X[v+1];d+=X[v+2];D+=X[v+3];m[$]=t>>>2;
m[$+1]=K>>>2;m[$+2]=d>>>2;m[$+3]=D>>>2}}}};N.X.IN=function(G,m,A){var Q=[];for(var $=0;$<G.length;$++){var H,J=G[$].v,b=J.Type.v.Clry;
if(b=="FrgC")H={p:m>>16&255,z:m>>8&255,h:m&255};else if(b=="BckC")H={p:A>>16&255,z:A>>8&255,h:A&255};
else H=N.X.SR(J.Clr.v);Q.push(H)}return Q};N.X.SR=function(G){var m,A=G.classID;if(A=="RGBC"){if(G.Rd)m={p:G.Rd.v,z:G.Grn.v,h:G.Bl.v};
else m={p:G.redFloat.v*255,z:G.greenFloat.v*255,h:G.blueFloat.v*255}}else if(A=="HSBC"){m=N.JY(G.H.v.val/360,G.Strt.v/100,G.Brgh.v/100);
m.p*=255;m.z*=255;m.h*=255}else if(A=="CMYC"){var Q=100-G.Cyn.v,H=100-G.Mgnt.v,J=100-G.Ylw.v,b=100-G.Blck.v,O=255*Q*b*1e-4,a=255*(.2*Q+.8*H)*b*1e-4,e=255*(.2*H+.8*J)*b*1e-4;
m={p:O,z:a,h:e}}else if(A=="Grsc")m={p:255-G.Gry.v,z:255-G.Gry.v,h:255-G.Gry.v};else if(A=="LbCl"){m=N.KS(G.Lmnc.v,G.A.v,G.B.v)}else console.log(G);
if(isNaN(m.p))m.p=m.z=m.h=0;return m};N.X.zV=function(G,m,A){var Q=new Uint32Array(m),H=new Uint8Array(Q.buffer);
Q.fill(4278190080);var J=[],b=[],O=G.RndS.v,a=G.Smth.v/4096;for(var $=0;$<4;$++){J[$]=~~(G.Mnm.v[$].v*255/100);
b[$]=~~(G.Mxm.v[$].v*255/100)}var e=N.$(m*4),R=N.$(m);for(var p=0;p<3;p++){N.I.iw(null,m,1,e,[1+Math.round(a*a*a*60),22,O*(2+p)]);
N.gF(e,R,0);N.I5(R,H,p);var P=J[p],z=b[p];for(var $=0;$<m;$++)H[4*$+p]=Math.max(P,Math.min(z,H[4*$+p]))}if(A)for(var $=0;
$<m/2;$++){var Z=Q[$];Q[$]=Q[m-1-$];Q[m-1-$]=Z}return Q};N.X.N4=function(G){return{classID:"RGBC",Rd:{t:"doub",v:G.p},Grn:{t:"doub",v:G.z},Bl:{t:"doub",v:G.h}}};
N.X.afU=function(G,m,A,Q){var H=[],J=1/(A-0);for(var $=0;$<A;$++){var b=$*4,O=N.X._6(G,m,(Q?A-1-$:$)*J);
H[b]=O[0];H[b+1]=O[1];H[b+2]=O[2];H[b+3]=O[3]}return H};N.X.FO=function(G,m,A,Q){var H=new Uint32Array(A),J=1/(A-0);
for(var $=0;$<A;$++)H[$]=N.X.EZ(G,m,(Q?A-1-$:$)*J);return H};N.X._6=function(G,m,A){var Q=4096,H=1/4096,J=G.Intr.v*H,b=G.Clrs.v,O=G.Trns.v,a=b.length-1,e=O.length-1,$=-1,R=0,p=0,P=0,z=0;
while($<e&&O[$+1].v.Lctn.v<=A*Q)$++;if($==-1){R=O[0].v.Opct.v.val*(255/100)}else if($==e){R=O[$].v.Opct.v.val*(255/100)}else{var Z=N.X.uh(O,H,$,A,J);
R=(Z*O[$].v.Opct.v.val+(1-Z)*O[$+1].v.Opct.v.val)*(255/100)}$=-1;while($<a&&b[$+1].v.Lctn.v<=A*Q)$++;
if($==-1){var W=m[0];p=W.p;P=W.z;z=W.h}else if($==a){var W=m[$];p=W.p;P=W.z;z=W.h}else{var T=m[$],i=m[$+1],X=N.X.uh(b,H,$,A,J);
p=X*T.p+(1-X)*i.p;P=X*T.z+(1-X)*i.z;z=X*T.h+(1-X)*i.h}return[p,P,z,R]};N.X.EZ=function(G,m,A){var Q=N.X._6(G,m,A),H=~~(.5+Q[0]),J=~~(.5+Q[1]),b=~~(.5+Q[2]),O=~~(.5+Q[3]);
return O<<24|b<<16|J<<8|H};N.X.uh=function(G,m,$,A,Q){if(G.length==2)Q*=.5;var H=G[$].v.Lctn.v*m,J=G[$+1].v.Lctn.v*m,b=H+G[$+1].v.Mdpn.v*.01*(J-H),O;
if(A<b)O=.5*(A-H)/(b-H);else O=.5+.5*(A-b)/(J-b);O=.5+.5*(Q*Math.cos(Math.PI*O)+(1-Q)*(1-2*O));return O};
N.X.hQ=function(G,m){var A=Math.PI*G.Angl.v.val/180,Q=G.Scl.v.val/100,H=G.Ofst.v,J=H.Hrzn.v.val/100,b=H.Vrtc.v.val/100,O=Math.cos(A),a=-Math.sin(A),e=.5*m.n,R=e*(O/a),p=Math.sqrt(e*e+R*R),P=.5*m.e,z=P*(a/O),Z=Math.sqrt(P*P+z*z),W=Math.min(p,Z)*Q,T=m.x+m.e/2+J*m.e,i=m.y+m.n/2+b*m.n;
return[new dw(T,i),new dw(T+O*W,i+a*W)]};N.X.So=function(G,m,A,Q){var H=m.x-G.x,J=-(m.y-G.y),b=Math.sqrt(H*H+J*J),O=Math.atan2(J,H),a=Math.cos(O),e=-Math.sin(O),R=.5*A.n,p=R*(a/e),P=Math.sqrt(R*R+p*p),z=.5*A.e,Z=z*(e/a),W=Math.sqrt(z*z+Z*Z),T=b/Math.min(P,W),i=(G.x-A.x-A.e/2)/A.e,X=(G.y-A.y-A.n/2)/A.n;
Q.Angl.v.val=180*O/Math.PI;Q.Scl.v.val=T*100;var U=Q.Ofst.v;U.Hrzn.v.val=i*100;U.Vrtc.v.val=X*100};N.X.sw=function(G,m){for(var $=0;
$<G.length;$++){var A=G[$],Q=Math.round(A[0]*4096),H=A[1],J=A[2],b=A[3];if(J==null)J=1;if(b==null)b=.5;
var O=N.X.N4({p:H[0]*255,z:H[1]*255,h:H[2]*255});m.Clrs.v[$]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:Q},Mdpn:{t:"long",v:Math.round(b*100)},Clr:{t:"Objc",v:O},Type:{t:"enum",v:{Clry:"UsrS"}}}};
m.Trns.v[$]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:Q},Mdpn:{t:"long",v:Math.round(b*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(J*100)}}}}}};
N.Gw={};N.Gw.adC=function(G,m,A,Q,H,J,b,O,a,e,R,p){var P,z,Z,W=Date.now(),T=!1,i=b,X=e,U,M,C,x,L=J*255,E=255-a*255,l=1+H*6,y=1+O*6,Y=1+p*4,F=(Y-1)/7,w=0,j=255-0,_,D,t,K,d,o,k,v,u,B,S,I,q,hw=0,fY=1,s,hZ,bG,aY,fj,jg,ae,iB,eg,dM,fK=1+R,aQ,cQ=N.$(A*Q),a7=N.$(A*Q),gz=N.$(A*Q),bQ=N.$(A*Q),d4=255/L,j2=255/(255-E);
for(z=0;z<Q;z++){for(P=0;P<A;P++){var $=z*A+P,j7=$<<2;s=N.vp(G[j7],G[j7+1],G[j7+2]);bQ[$]=s;if(s<L)cQ[$]=255-s*d4;
if(s>E)a7[$]=255-(255-s)*j2}}if(T)console.log("init",Date.now()-W);W=Date.now();if(H*i>0){gz.set(cQ);
N.ua.Yl(gz,cQ,new f_(0,0,A,Q),i)}if(O*X>0){gz.set(a7);N.ua.Yl(gz,a7,new f_(0,0,A,Q),X)}if(T)console.log("blur",Date.now()-W);
W=Date.now();var fG=N.$(256),bT=N.$(256);for(var $=0;$<256;$++){var je=$*(1/255),ba=0;ba=(1-Math.pow(1-je,l))*255;
fG[$]=Math.max(0,Math.min(255,~~(ba+.5)));ba=Math.pow(je,y)*255;bT[$]=Math.max(0,Math.min(255,~~(ba+.5)))}var j6=new Uint8ClampedArray(m.buffer),cl=new Float32Array(32768);
for(var $=0;$<32768;$++){aQ=Math.sqrt($)*(1/128);if(fK>1)aQ=(1-aQ)*(fK-1)+1;else aQ=aQ*(fK-1)+1;cl[$]=aQ}for(z=0;
z<Q;z++){for(P=0;P<A;P++){var $=z*A+P,j7=$<<2,ba=bQ[$],js=cQ[$]*(1/255),fR=a7[$]*(1/255);ba=(1-js)*ba+js*fG[~~ba];
ba=(1-fR)*ba+fR*bT[~~ba];s=ba;var iW=G[j7],fx=G[j7+1],dm=G[j7+2];hZ=-iW*.168736-fx*.331264+dm*.5;bG=iW*.5-fx*.418688-dm*.081312;
aQ=cl[~~(.5+hZ*hZ+bG*bG)];aY=hZ*aQ;jg=bG*aQ;fY=1-Math.min(2-(js+fR),1);hZ=fY*hZ+(1-fY)*aY;bG=fY*bG+(1-fY)*jg;
iB=s+1.402*bG;eg=s-.34414*hZ-.71414*bG;dM=s+1.772*hZ;j6[j7]=~~(.5+iB);j6[j7+1]=~~(.5+eg);j6[j7+2]=~~(.5+dM)}}if(T)console.log("apply masks",Date.now()-W);
W=Date.now()};N.NE={};N.NE.YT=function(G,m,A,Q,H){var J=!1,Z=1,j=0,_=0,S=0,fK=0;if(!m.ZM(H)){var b=m.wj(H),O=N.$(b.Z()*4);
N.Pr(G,m,O,b);G=O;m=b}var a=N.$(m.Z());N.qg(A,H,a,m);N.round(a);H=H.KB(m);var e=H.e,R=H.n,p=e*3<R?2:1,P=R*3<e?2:1;
if(H.Z()*(p*2+1)*(P*2+1)<m.Z()){var b=new f_(H.x-e*p,H.y-R*p,e*(p*2+1),R*(P*2+1)).KB(m),O=N.$(b.Z()*4);
N.Pr(G,m,O,b);var z=N.$(b.Z());N.qg(a,m,z,b);m=b;G=O;a=z}while((m.e+m.n)/2/Z>400)Z++;var W=G,T=m,i=a,X=Math.floor(T.e/Z),U=Math.floor(T.n/Z);
G=N.$(X*U*4);N.scale.uG(W,T.e,T.n,G,X,U,1/Z);a=N.$(X*U);N.scale.Sc(i,T.e,T.n,a,X,U,1/Z);N.round(a,1);
var M=N.cP(a,new f_(0,0,X,U));if(M.My())return 1;var C=Math.round((M.e+M.n)/2/15),x=Date.now(),L=N.$(X*U*4);
N.ahi(G,L);var E=Int16Array,l=new E(X*U*24),y=new E(64),Y=new E(64),F=new E(64),w=new E(64);for(var D=3;
D<U-4;D++)for(var t=3;t<X-4;t++){var K=D*X+t;if(a[K]==255)continue;if(N.NE.akw(L,a,t,D,X,U,y,Y,F)!=0)continue;
N.NE.g7(y,w);l[j]=t;l[j+1]=D;N.NE.Gy(y,l,j+4,12);j+=16;N.NE.g7(Y,w);N.NE.Gy(Y,l,j,4);j+=4;N.NE.g7(F,w);
N.NE.Gy(F,l,j,4);j+=4;var d=l[j-24+5],o=l[j-24+6];l[j-24+5]=l[j-24+20];l[j-24+6]=l[j-24+16];l[j-24+16]=d;
l[j-24+20]=o;_++}if(_==0)return 2;if(J)console.log(Date.now()-x,"FWHT computed");x=Date.now();var u=[];
N.NE.G0(0,_-1,u,l,new E(2*24));if(J)console.log(Date.now()-x,"KD tree computed");x=Date.now();var B=new Float32Array(X*U*4);
for(var $=0;$<_;$++){var I=$,q=N.NE.aog(I,l,u,C);if(q==-1)continue;var hw=I*24,fY=q*24,s=l[hw],hZ=l[hw+1],bG=l[fY],aY=l[fY+1];
S+=N.NE.getError(fY,hw,l,1e99);var fj=bG-s,jg=aY-hZ;B[(U+jg)*2*X+(X+fj)]+=1}if(J)console.log(Date.now()-x,"NN found");
x=Date.now();var ae=[],iB=1/(2*X);for(var $=0;$<B.length;$++){if(B[$]>0){var D=Math.floor($*iB),t=$-D*2*X;
ae.push({x:t-X,y:D-U,k:B[$],oO:-1})}}ae.sort(function(fR,iW){return iW.k-fR.k});var eg=new Int32Array(X*U),dM=[];
for(var $=0;$<X*U;$++){if(a[$]==255){eg[$]=fK;dM.push($%X,Math.floor($/X));fK++}else if(G[($<<2)+3]<200){eg[$]=-2}else{eg[$]=-1}}var aQ=N.NE.af4(X,U,ae,eg,dM,fK);
if(aQ==null){return 3}var cQ=aQ.gH,top=aQ.top;cQ=N.NE.akQ(cQ,G,X,U,top,eg,dM,fK);if(J)console.log(Date.now()-x,"optimal labeling found");
x=Date.now();var b=H.clone();b.e0(1,1);b=b.KB(T);var a7=N.$(b.Z()*4),gz=N.$(b.Z());N.Pr(W,T,a7,b);var bQ=T.e,d4=T.n;
for(var D=0;D<d4;D++)for(var t=0;t<bQ;t++){if(i[D*bQ+t]==0)continue;var j2=Math.min(Math.floor(t/Z),X-1),j7=Math.min(Math.floor(D/Z),U-1),fG=eg[j7*X+j2];
if(fG==-1)continue;var bT=cQ[fG],je=top[bT],ba=t+je.x*Z,j6=D+je.y*Z,cl=j6*bQ+ba<<2,js=(D-b.y+T.y)*b.e+(t-b.x+T.x)<<2;
a7[js]=W[cl];a7[js+1]=W[cl+1];a7[js+2]=W[cl+2];a7[js+3]=W[cl+3];a7[js+3]=W[cl+3];gz[js>>2]=bT+1}if(J)console.log(Date.now()-x,"copied back");
x=Date.now();N.H8.YT(a7,gz,b,null,1e3);if(J)console.log(Date.now()-x,"poisson smooth");x=Date.now();
N.Pr(a7,b,Q,H);return 0};N.NE.KN=function(G,m,A,Q,H,J){return N.NE.pi(G+H.x,m+H.y,A,Q)&&J[(m+H.y)*A+(G+H.x)]==-1?0:1e9};
N.NE.akQ=function(G,m,A,Q,top,H,J,b){var O=Date.now(),a=[-1,0,0,-1,1,0,0,1],e=1e99,R=[],p=[],P=2*(b*2*3+b*2),z=null,Z=0,W=0,T=0,i=1e99;
while(!0&&Date.now()<O+12e3){T++;var X=null,U=e;for(var M=0;M<top.length;M++){var C=top[M],x=0,L=b+2,E=0;
for(var $=0;$<b;$++){var l=J[$*2],y=J[$*2+1],Y=top[G[$]],F=N.NE.KN(l,y,A,Q,C,H),w=G[$]==M?1e9:N.NE.KN(l,y,A,Q,Y,H);
for(var jw=0;jw<4;jw++){if(jw==0&&l==0||jw==1&&y==0||jw==2&&l==A-1||jw==3&&y==Q-1)continue;var j=a[2*jw],_=a[2*jw+1],D=l+j,t=y+_,K=H[t*A+D];
if(K==-2){}else if(K==-1){F+=3*N.NE.yi(D+C.x,t+C.y,D,t,A,Q,m,H);F+=2*N.NE.yi(D+C.x+j,t+C.y+_,D+j,t+_,A,Q,m,H);
w+=3*N.NE.yi(D+Y.x,t+Y.y,D,t,A,Q,m,H);w+=2*N.NE.yi(D+Y.x+j,t+Y.y+_,D+j,t+_,A,Q,m,H)}else if(jw>1){if(G[$]==G[K]){var d=0;
d+=N.NE.yi(l+Y.x,y+Y.y,l+C.x,y+C.y,A,Q,m,H);d+=N.NE.yi(D+Y.x,t+Y.y,D+C.x,t+C.y,A,Q,m,H);R[x]=$;R[x+1]=K;
p[x]=d;p[x+1]=d;x+=2}else{var o=top[G[K]],k=L,v=0,u=0,B=0;L++;v+=N.NE.yi(l+Y.x,y+Y.y,l+C.x,y+C.y,A,Q,m,H);
v+=N.NE.yi(D+Y.x,t+Y.y,D+C.x,t+C.y,A,Q,m,H);u+=N.NE.yi(l+o.x,y+o.y,l+C.x,y+C.y,A,Q,m,H);u+=N.NE.yi(D+o.x,t+o.y,D+C.x,t+C.y,A,Q,m,H);
B+=N.NE.yi(l+o.x,y+o.y,l+Y.x,y+Y.y,A,Q,m,H);B+=N.NE.yi(D+o.x,t+o.y,D+Y.x,t+Y.y,A,Q,m,H);R[x]=$;R[x+1]=k;
p[x]=v;p[x+1]=v;x+=2;R[x]=K;R[x+1]=k;p[x]=u;p[x+1]=u;x+=2;R[x]=k;R[x+1]=b+1;p[x]=B;p[x+1]=0;x+=2}}}R[x]=b;
R[x+1]=$;p[x]=F;p[x+1]=0;x+=2;R[x]=$;R[x+1]=b+1;p[x]=w;p[x+1]=0;x+=2;E+=Math.min(F,w)}if(E>U)continue;
var S=N.oQ.x4(L,x,b,b+1,R,p,U);if(S.qk<U){U=S.qk;var I=G.slice(0);N.NE.arL(I,x,R,S.cO,M,b);X=I}}if(U*1>=e){break}e=U;
G=X;if((T&3)==0){if(U*1.03>=i)break;i=U}if((T&3)==0){var q=0*top.length;for(var $=0;$<top.length&&top.length>q;
$++){if(G.indexOf($)!=-1)continue;top.splice($,1);for(var K=0;K<G.length;K++)if(G[K]>$)G[K]--;$--}}}return G};
N.NE.arL=function(G,m,A,Q,H,J){for(var $=0;$<Q.length;$++){var b=Q[$]<<1,O=0,a=0;if(b<m){O=A[b];a=A[b+1]}else{a=A[b];
O=A[b+1]}if(O==J&&G[a]!=H)G[a]=H}};N.NE.HU=function(top,G,m,A,Q,H,J,b,O){for(var $=0;$<m.length;$++){var a=m[$],e=!0;
if(b!=null&&!(N.NE.pi(b+a.x,O+a.y,H,J)&&A[H*(O+a.y)+b+a.x]==-1))continue;if(a.oO==-1)a.oO=N.NE.aqE(a,A,Q,H,J);
if(a.oO<=0)continue;for(var R=0;R<top.length;R++){var p=top[R],P=a.x-p.x,z=a.y-p.y;if(P*P+z*z<G){e=!1;
break}}if(e)return a}return null};N.NE.aqE=function(G,m,A,Q,H){var J=0;for(var $=0;$<A.length;$+=2){var b=A[$]+G.x,O=A[$+1]+G.y;
if(N.NE.pi(b,O,Q,H)&&m[Q*O+b]==-1)J++}return J/(A.length>>1)};N.NE.af4=function(G,m,A,Q,H,J){var top=[];
for(var $=0;$<60;$++){var b=N.NE.HU(top,25,A,Q,H,G,m);if(b==null)break;else top.push(b)}if(top.length==0)return null;
var O=[];for(var $=0;$<J;$++){var a=H[$*2],e=H[$*2+1],R=-1,p=0;while(!0){p++;var P=Math.random();R=Math.floor(P*.99999*top.length);
var z=top[R],Z=a+z.x,W=e+z.y;if(N.NE.pi(Z,W,G,m)&&Q[W*G+Z]==-1)break;if(p>100){var b;b=N.NE.HU(top,0,A,Q,H,G,m,a,e);
if(b==null)return null;top.push(b);p=0}}O.push(R)}return{top:top,gH:O}};N.NE.yi=function(G,m,A,Q,H,J,b,O){if(G==A&&m==Q)return 0;
if(G<0||m<0||G>=H||m>=J||A<0||Q<0||A>=H||Q>=J||O[m*H+G]!=-1||O[Q*H+A]!=-1)return 1e7;var a=m*H+G<<2,e=Q*H+A<<2,R=b[a]-b[e],p=b[a+1]-b[e+1],P=b[a+2]-b[e+2];
return 1+(R*R+p*p+P*P)};N.NE.pi=function(G,m,A,Q){return G>=0&&G<A&&m>=0&&m<Q};N.NE.aog=function(G,m,A,Q){var H=24*G,J=m[H],b=m[H+1],O=Q*Q,a=0,P=1e9;
while(A[a]!=99)if(m[H+A[a]]<A[a+1])a=A[a+2];else a=A[a+3];var e=A[a+1],R=A[a+2],p=-1;for(var $=e;$<=R;
$++){var a=$,z=a*24,Z=m[z],W=m[z+1];if((Z-J)*(Z-J)+(W-b)*(W-b)<O)continue;var T=N.NE.getError(z,H,m,P);
if(T<P){P=T;p=a}}return p};N.NE.getError=function(G,m,A,Q){var H=0;for(var J=4;J<24;J+=4){var b=A[m+J]-A[G+J],O=A[m+J+1]-A[G+J+1],a=A[m+J+2]-A[G+J+2],e=A[m+J+3]-A[G+J+3];
H+=b*b+O*O+a*a+e*e;if(H>=Q)return H+1}return H};N.NE.G0=function(G,m,A,Q,H){var J=16,P=0;if(m-G<=J){A.push(99,G,m);
return}N.NE.Cf(G,m,Q,H);var b=-1,O=-1;for(var $=4;$<24;$++){var a=H[2*$+1]-H[2*$];if(a>O){O=a;b=$}}var e=G+m>>1,R=N.NE.aoJ(e,G,m,Q,b),p=-1;
for(var $=G;$<=m;$++)if(Q[24*$+b]==R){if(p==-1)p=$;P=$}if(G+8<p&&p-G>m-P)e=p;else if(P+1<m-8)e=P+1;else if(m-G<64){A.push(99,G,m);
return}else e=e;var z=A.length;A.push(b,R,0,0);A[z+2]=z+4;N.NE.G0(G,e-1,A,Q,H);A[z+3]=A.length;N.NE.G0(e,m,A,Q,H)};
N.NE.Cf=function(G,m,A,Q){for(var $=0;$<48;$+=4){Q[$]=3e4;Q[$+1]=-3e4;Q[$+2]=3e4;Q[$+3]=-3e4}for(var $=G;
$<=m;$++){var H=$*24;for(var J=0;J<24;J++){var b=A[H+J],O=Q[J<<1],a=Q[(J<<1)+1];if(b<O)Q[J<<1]=b;if(b>a)Q[(J<<1)+1]=b}}};
N.NE.aZ=function(G,m,A){var Q=0,$=0;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;
$++;Q=A[G+$];A[G+$]=A[m+$];A[m+$]=Q;$++};N.NE.Xn=function(G,m,A,Q){var H=A+Q>>>1,J=G[24*H+m];while(A<=Q){while(G[24*A+m]<J)A++;
while(G[24*Q+m]>J)Q--;if(A<=Q){if(G[24*A+m]!=G[24*Q+m])N.NE.aZ(A*24,Q*24,G);A++;Q--}}return A};N.NE.aoJ=function(G,m,A,Q,H){var J=0;
while(m!=A){J=N.NE.Xn(Q,H,m,A);if(G<J)A=J-1;else m=J}return Q[G*24+H]};N.NE.Gy=function(G,m,A,Q){for(var $=0;
$<Q;$++)m[A+$]=G[$]};N.NE.akw=function(G,m,A,Q,H,J,b,O,a){var e=(Q-3)*H+(A-3),R=e<<2;for(var p=0;p<8;
p++){if(m[e]+m[e+1]+m[e+2]+m[e+3]+m[e+4]+m[e+5]+m[e+6]+m[e+7]!=0||G[R+3]<200||G[R+7]<200||G[R+11]<200||G[R+15]<200||G[R+19]<200||G[R+23]<200||G[R+27]<200||G[R+31]<200)return 1;
var $=p<<3;b[$+0]=G[R+0];O[$+0]=G[R+1];a[$+0]=G[R+2];b[$+1]=G[R+4];O[$+1]=G[R+5];a[$+1]=G[R+6];b[$+2]=G[R+8];
O[$+2]=G[R+9];a[$+2]=G[R+10];b[$+3]=G[R+12];O[$+3]=G[R+13];a[$+3]=G[R+14];b[$+4]=G[R+16];O[$+4]=G[R+17];
a[$+4]=G[R+18];b[$+5]=G[R+20];O[$+5]=G[R+21];a[$+5]=G[R+22];b[$+6]=G[R+24];O[$+6]=G[R+25];a[$+6]=G[R+26];
b[$+7]=G[R+28];O[$+7]=G[R+29];a[$+7]=G[R+30];R+=H<<2;e+=H}return 0};N.NE.g7=function(G,m){m[0]=G[32]+G[0];
m[1]=G[33]+G[1];m[2]=G[34]+G[2];m[3]=G[35]+G[3];m[4]=G[36]+G[4];m[5]=G[37]+G[5];m[6]=G[38]+G[6];m[7]=G[39]+G[7];
m[8]=G[40]+G[8];m[9]=G[41]+G[9];m[10]=G[42]+G[10];m[11]=G[43]+G[11];m[12]=G[44]+G[12];m[13]=G[45]+G[13];
m[14]=G[46]+G[14];m[15]=G[47]+G[15];m[16]=G[48]+G[16];m[17]=G[49]+G[17];m[18]=G[50]+G[18];m[19]=G[51]+G[19];
m[20]=G[52]+G[20];m[21]=G[53]+G[21];m[22]=G[54]+G[22];m[23]=G[55]+G[23];m[24]=G[56]+G[24];m[25]=G[57]+G[25];
m[26]=G[58]+G[26];m[27]=G[59]+G[27];m[28]=G[60]+G[28];m[29]=G[61]+G[29];m[30]=G[62]+G[30];m[31]=G[63]+G[31];
m[32]=G[0]-G[32];m[33]=G[1]-G[33];m[34]=G[2]-G[34];m[35]=G[3]-G[35];m[36]=G[4]-G[36];m[37]=G[5]-G[37];
m[38]=G[6]-G[38];m[39]=G[7]-G[39];m[40]=G[8]-G[40];m[41]=G[9]-G[41];m[42]=G[10]-G[42];m[43]=G[11]-G[43];
m[44]=G[12]-G[44];m[45]=G[13]-G[45];m[46]=G[14]-G[46];m[47]=G[15]-G[47];m[48]=G[16]-G[48];m[49]=G[17]-G[49];
m[50]=G[18]-G[50];m[51]=G[19]-G[51];m[52]=G[20]-G[52];m[53]=G[21]-G[53];m[54]=G[22]-G[54];m[55]=G[23]-G[55];
m[56]=G[24]-G[56];m[57]=G[25]-G[57];m[58]=G[26]-G[58];m[59]=G[27]-G[59];m[60]=G[28]-G[60];m[61]=G[29]-G[61];
m[62]=G[30]-G[62];m[63]=G[31]-G[63];G[0]=m[16]+m[0];G[1]=m[17]+m[1];G[2]=m[18]+m[2];G[3]=m[19]+m[3];
G[4]=m[20]+m[4];G[5]=m[21]+m[5];G[6]=m[22]+m[6];G[7]=m[23]+m[7];G[8]=m[24]+m[8];G[9]=m[25]+m[9];G[10]=m[26]+m[10];
G[11]=m[27]+m[11];G[12]=m[28]+m[12];G[13]=m[29]+m[13];G[14]=m[30]+m[14];G[15]=m[31]+m[15];G[16]=m[0]-m[16];
G[17]=m[1]-m[17];G[18]=m[2]-m[18];G[19]=m[3]-m[19];G[20]=m[4]-m[20];G[21]=m[5]-m[21];G[22]=m[6]-m[22];
G[23]=m[7]-m[23];G[24]=m[8]-m[24];G[25]=m[9]-m[25];G[26]=m[10]-m[26];G[27]=m[11]-m[27];G[28]=m[12]-m[28];
G[29]=m[13]-m[29];G[30]=m[14]-m[30];G[31]=m[15]-m[31];m[0]=G[8]+G[0];m[1]=G[9]+G[1];m[2]=G[10]+G[2];
m[3]=G[11]+G[3];m[4]=G[12]+G[4];m[5]=G[13]+G[5];m[6]=G[14]+G[6];m[7]=G[15]+G[7];m[8]=G[0]-G[8];m[9]=G[1]-G[9];
m[10]=G[2]-G[10];m[11]=G[3]-G[11];m[12]=G[4]-G[12];m[13]=G[5]-G[13];m[14]=G[6]-G[14];m[15]=G[7]-G[15];
G[0]=m[4]+m[0];G[1]=m[5]+m[1];G[2]=m[6]+m[2];G[3]=m[7]+m[3];G[4]=m[0]-m[4];G[5]=m[1]-m[5];G[6]=m[2]-m[6];
G[7]=m[3]-m[7];G[8]=m[12]+m[8];G[9]=m[13]+m[9];G[10]=m[14]+m[10];G[11]=m[15]+m[11];G[12]=m[8]-m[12];
G[13]=m[9]-m[13];G[14]=m[10]-m[14];G[15]=m[11]-m[15];m[0]=G[2]+G[0];m[1]=G[3]+G[1];m[2]=G[0]-G[2];m[3]=G[1]-G[3];
m[4]=G[6]+G[4];m[5]=G[7]+G[5];m[6]=G[4]-G[6];m[7]=G[5]-G[7];m[8]=G[10]+G[8];m[9]=G[11]+G[9];m[10]=G[8]-G[10];
m[11]=G[9]-G[11];m[12]=G[14]+G[12];m[13]=G[15]+G[13];m[14]=G[12]-G[14];m[15]=G[13]-G[15];G[0]=m[1]+m[0];
G[1]=m[0]-m[1];G[2]=m[3]+m[2];G[3]=m[2]-m[3];G[4]=m[5]+m[4];G[5]=m[4]-m[5];G[6]=m[7]+m[6];G[7]=m[6]-m[7];
G[8]=m[9]+m[8];G[9]=m[8]-m[9];G[10]=m[11]+m[10];G[11]=m[10]-m[11];G[12]=m[13]+m[12];G[13]=m[12]-m[13];
G[14]=m[15]+m[14];G[15]=m[14]-m[15]};N.NE.apS=function(){var G="",jw=64,m="v",A="t",Q="a",H=5,$,J,b;
for($=jw>>1;$>0;$>>=1,H--){for(J=0;J<jw;J++){b=(J>>H&1)!=0;if(b){G+=A+"["+J+"] = "+m+"["+(-$+J)+"] - "+m+"["+J+"];  "}else{G+=A+"["+J+"] = "+m+"["+($+J)+"] + "+m+"["+J+"];  "}}Q=m;
m=A;A=Q;G+="\n"}console.log(G)};N.NE.a2z=function(jw,G,m){var A=G,Q=m,H=A,J=0,$,O,a;while(jw>>J!=2)J++;
var b=J;for($=jw>>1;$>0;$>>=1,J--){for(O=0;O<jw;O++){a=(O>>J&1)!=0;if(a)Q[O]=A[-$+O]-A[O];else Q[O]=A[$+O]+A[O]}H=A;
A=Q;Q=H}if((b&1)==1)for($=0;$<jw;$++)m[$]=A[$]};N.bX={};N.bX.Ki=function(G,m,A,Q,H,J,b,O,a){var e=Date.now(),R=new Uint32Array(G.buffer),p=new Uint32Array(m.buffer),P=b/A,z=O/Q,Z=1/P,W=1/z,T=new Float64Array(2),i=3,X=1/i,U=1/(i*i),M=0,C=0,x=A,L=Q;
if(H){M=H.x;C=H.y;x=H.e;L=H.n}for(var E=0;E<L;E++)for(var l=0;l<x;l++){var y=M+l,Y=C+E,$=Y*A+y,F=$<<1,w=$<<2;
N.bX.aai(J,b,O,(y+.5)*P,(Y+.5)*z,T);var j=T[0]*Z,_=T[1]*W;if(j==0&&_==0)p[$]=R[$];else{N.N.qM(y+j+.5,Y+_+.5,R,A,Q,p,$,a)}}};
N.bX.aai=function(G,m,A,Q,H,J){Q-=.499999;H-=.499999;var b=~~Q,O=~~H,a=Q-b,e=H-O,R=(1-e)*(1-a),p=(1-e)*a,P=e*(1-a),z=e*a,Z=b<m-1?b+1:b,W=O<A-1?O+1:O,T=O*m+b<<1,i=O*m+Z<<1,X=W*m+b<<1,U=W*m+Z<<1;
J[0]=R*G[T]+p*G[i]+P*G[X]+z*G[U];J[1]=R*G[T+1]+p*G[i+1]+P*G[X+1]+z*G[U+1]};N.bX.a05=function(G,m,A,Q,H){var J=1/G,b=[-1,1,-G,G],O=Q.length;
for(var a=0;a<O;a++){var $=Q[a],e=$<<1,R=a<<1,p=~~($*J),P=$-G*p,z=A[e],Z=A[e+1],W=0,T=0;if(P!=0&&P!=G-1){var i=$-1<<1,X=$+1<<1,U=A[i],M=A[X],C=A[i+1],x=A[X+1],L=z-(U+M)*.5,E=Z-(C+x)*.5;
W-=L*H;T-=E*H}if(p!=0&&p!=m-1){var i=$-G<<1,X=$+G<<1,U=A[i],M=A[X],C=A[i+1],x=A[X+1],L=z-(U+M)*.5,E=Z-(C+x)*.5;
W-=L*H;T-=E*H}A[e]=z+W;A[e+1]=Z+T}};N.bX.aoL=function(G,m){var A=G+","+m;if(N.bX.ze==A)return N.bX.C3;
var Q=N.bX.C3=[];N.bX.ze=A;for(var $=0;$<=1e3;$++){var H=$*.001,J=Math.sqrt(H),b=Math.exp(-4*J),O=.96*(1-J*J),a=m*((1-G)*b+G*O);
Q[$]=a}return Q};N.bX.ze="";N.bX.C3=[];N.bX.adJ=function(G,m,A,Q,H,J,b,O,a,e,R,p,P){var z=Math.max(0,Math.floor(H-b-1)),Z=Math.min(m,Math.ceil(H+b+1)),W=Math.max(0,Math.floor(J-b-1)),T=Math.min(A,Math.ceil(J+b+1)),i=2*m,X=b*b,U=1/b,M=0;
if(P&&(Q==3||Q==6))a=-a;var C=N.bX.aoL(O,a);for(var x=W;x<T;x++)for(var L=z;L<Z;L++){var $=x*m+L,E=$<<1,l=(H-L)*U,y=(J-x)*U,Y=l*l+y*y;
if(Y<1){p[M]=$;var F=C[~~(Y*1e3)];if(Q==1){G[E]=G[E]*(1-F*.05);G[E+1]=G[E+1]*(1-F*.05)}else{var w=0,j=0,t,K,d,o;
if(Q==0){w=e*F;j=R*F}else if(Q==2){}else if(Q==3){w=F*y;j=-F*l}else if(Q==4){w=F*l;j=F*y}else if(Q==5){w=-F*l;
j=-F*y}else if(Q==6){w=R*F;j=-e*F}var _=G[E],D=G[E+1];if(L==0||L!=m-1&&w<0){t=1+G[E+2]-_;d=G[E+3]-D}else{t=_-G[E-2]+1;
d=D-G[E-1]}if(x==0||x!=A-1&&j<0){K=G[E+i]-_;o=1+G[E+i+1]-D}else{K=_-G[E-i];o=D-G[E-i+1]+1}G[E]=-(t*w+K*j-_);
G[E+1]=-(d*w+o*j-D)}M++}}};N.bX.a3V=function(G){var m=G[0],A=G[0],Q=G[1],H=G[1];for(var $=0;$<G.length;
$+=2){var J=G[$],b=G[$+1];if(J<m)m=J;else if(J>A)A=J;if(b<Q)Q=b;else if(b>H)H=b}return[m,Q,A,H]};N.atd=function(G,m,A,Q,H){function J(s,hZ,bG,aY){return Math.sqrt((s-bG)*(s-bG)+(hZ-aY)*(hZ-aY))}function b(s,hZ){return s>=0&&s<m&&hZ>=0&&hZ<A}function O(s){if(s<0)return 0;
if(s>=m)return m-1;return s}function a(s){if(s<0)return 0;if(s>=A)return A-1;return s}function e($,s){var hZ=s[3]*(1/255),bG=Q[$]+s[0]*hZ;
if(bG>255)bG=255;Q[$]=bG;bG=Q[$+1]+s[1]*hZ;if(bG>255)bG=255;Q[$+1]=bG;bG=Q[$+2]+s[2]*hZ;if(bG>255)bG=255;
Q[$+2]=bG}function R(s,hZ,bG){if(!k(s,hZ))return;if(bG[3]<0)bG[3]=0;e((hZ*m+s)*4,bG)}function p(s){var hZ=s.slice(0,3);
hZ[3]=0;return hZ}var P=m/800;function z(s){return Math.round(s*P)}function Z(){for(var $=0;$<=300;$++){u[$]=W($)}}function W(A){var s=.8,hZ=.2,bG=s*hZ,aY=A/60%2-1,fj=bG*(1-aY*aY),jg=hZ-bG,ae;
if(A<60){ae=[bG+jg,fj,0]}else if(A<120){ae=[fj,bG,0]}else if(A<180){ae=[0,bG,fj]}else if(A<240){ae=[0,fj,bG]}else if(A<300){ae=[fj,0,bG]}else{ae=[bG,0,fj]}return[(ae[0]+jg)*255,(ae[1]+jg)*255,(ae[2]+jg)*255]}function T(A){return u[~~A]}function i(s){return 1-X(s)}function X(s){return s-~~s}function U(s,hZ,bG,aY){d(s,hZ,bG,0,hZ+1,1,aY)}function M(s,hZ,bG,aY,fj,jg){d(s,hZ,bG,0,aY,1,fj,jg)}function C(s){for(var $=0;
$<Q.length;$+=4){e($,s)}}function x(s,hZ,bG,aY,fj,jg,ae,iB){L(s,hZ,bG,aY,fj,1,jg,ae,iB)}function L(s,hZ,bG,aY,fj,jg,ae,iB,eg){if(jg==null)jg=.5;
if(ae==null)ae=0;if(iB==null)iB=0;if(eg==null)eg=!1;var dM=s.x,fK=s.y,aQ=bG.slice(0),cQ=~~(bG[3]*S);
aY=aY*S;if(!eg){hZ=o(hZ);fj=o(fj);ae=o(ae);iB=o(iB)}var a7=O(dM-hZ),gz=O(dM+hZ);for(var bQ=a7;bQ<=gz;
bQ++){var d4=bQ-dM,j7=Math.floor(Math.sqrt(hZ*hZ-d4*d4)),fG=a(fK-j7),bT=a(fK);for(var je=fG;je<=bT;je++){var ba=J(bQ,je,dM,fK);
if(ba>hZ||ba<=hZ-fj)break;var j6=(ba-hZ+fj)/fj;aQ[3]=cQ-aY*(jg==1?j6:Math.pow(j6,jg));e((je*m+bQ)*4,aQ)}fG=a(fK+j7);
for(var je=fG;je>bT;je--){var ba=J(bQ,je,dM,fK);if(ba>hZ||ba<=hZ-fj)break;var j6=(ba-hZ+fj)/fj;aQ[3]=cQ-aY*(jg==1?j6:Math.pow(j6,jg));
e((je*m+bQ)*4,aQ)}}if(ae>0){d(s,hZ+ae,aQ,aQ[3],ae,1,0,0,!0)}if(iB>0){d(s,hZ-fj,v(bG),-bG[3],iB,1,0,0,!0)}}function E(s,hZ,bG,aY,fj,jg){d(s,hZ,bG,bG[3],hZ+1,1,aY,fj,jg)}function l(s,hZ,bG,aY,fj){if(fj==null)fj=!1;
var jg=s.x,ae=s.y;aY*=S;if(!fj){hZ=o(hZ);bG=o(bG)}var iB=O(jg-hZ),eg=O(jg+hZ);for(var dM=iB;dM<eg;dM++){var fK=dM-jg,aQ=~~Math.sqrt(hZ*hZ-fK*fK),cQ=a(ae-aQ),a7=a(ae);
for(var gz=cQ;gz<=a7;gz++){var bQ=J(dM,gz,jg,ae);if(bQ>hZ||bQ<=hZ-bG)break;var d4=(hZ-bQ)/bG,fG=T(300*d4);
fG[3]=aY;e((gz*m+dM)*4,fG)}cQ=a(ae+aQ);for(var gz=cQ;gz>a7;gz--){var bQ=J(dM,gz,jg,ae);if(bQ>hZ||bQ<=hZ-bG)break;
var d4=(hZ-bQ)/bG,fG=T(300*d4);fG[3]=aY;e((gz*m+dM)*4,fG)}}}function y(B,s){var hZ=B.jY,bG=B.w0,aY=s.slice(0),fj=s[3]*S,jg=Math.abs(bG.y-hZ.y)>Math.abs(bG.x-hZ.x);
if(jg){var ae=hZ.x;hZ.x=hZ.y;hZ.y=ae;ae=bG.x;bG.x=bG.y;bG.y=ae}if(hZ.x>bG.x){var ae=hZ;hZ=bG;bG=ae}var iB=bG.x-hZ.x,eg=bG.y-hZ.y,dM=iB==0?1:eg/iB,fK=Math.round(hZ.x),aQ=hZ.y+dM*(fK-hZ.x),cQ=i(hZ.x+.5),a7=fK,gz=~~aQ;
if(jg){aY[3]=fj*i(aQ)*cQ;R(gz,a7,aY);aY[3]=fj*X(aQ)*cQ;R(gz+1,a7,aY)}else{aY[3]=fj*i(aQ)*cQ;R(a7,gz,aY);
aY[3]=fj*X(aQ)*cQ;R(a7,gz+1,aY)}var bQ=aQ-dM;fK=Math.round(bG.x);aQ=bG.y+dM*(fK-bG.x);cQ=X(bG.x+.5);
var d4=fK,j2=~~aQ;if(jg){aY[3]=fj*i(aQ)*cQ;R(j2,d4,aY);aY[3]=fj*X(aQ)*cQ;R(j2+1,d4,aY)}else{aY[3]=fj*i(aQ)*cQ;
R(d4,j2,aY);aY[3]=fj*X(aQ)*cQ;R(d4,j2+1,aY)}if(jg){for(var j7=a7+1;j7<=d4-1;j7++){aY[3]=fj*i(bQ);R(~~bQ,j7,aY);
aY[3]=fj*X(bQ);R(~~bQ+1,j7,aY);bQ+=dM}}else{for(var j7=a7+1;j7<=d4-1;j7++){aY[3]=fj*i(bQ);R(j7,~~bQ,aY);
aY[3]=fj*X(bQ);R(j7,~~bQ+1,aY);bQ+=dM}}}function Y(s,hZ,bG,aY){for(var $=0;$<4;$++){var fj=s._X(hZ+1.3*$,bG);
y(fj,aY,1)}}function dw(s,hZ){this.x=Math.round(s);this.y=Math.round(hZ)}var F=Math.PI/180;dw.prototype._X=function(s,hZ){s=s*F;
var bG=this.x+hZ*Math.cos(s),aY=this.y+hZ*Math.sin(s);return new w(this.x,this.y,bG,aY)};dw.prototype.a8p=function(s,hZ){s=s*F;
var bG=this.ab+hZ*Math.cos(s),aY=this.apV+hZ*Math.sin(s);return new dw(bG,aY)};function w(s,hZ,bG,aY){this.jY=new dw(s,hZ);
this.w0=new dw(bG,aY)}w.prototype.yv=function(s){var hZ=s*this.jY.x+(1-s)*this.w0.x,bG=s*this.jY.y+(1-s)*this.w0.y;
return new dw(hZ,bG)};var j=x,_=E,D=U,t=M,K=l,d=L,o=z,k=b,v=p,u=[];Z();for(var $=0;$<G.length;$++){Q[$]=G[$]}var B=new w(m*H[2],A*H[3],m/2,A/2),S=H[1],I=[];
I[0]=function q(){var s=[80,40,15,60],bG=0,aY=0;D(B.yv(1.4),260,s,10);D(B.yv(1),100,[240,50,50,30],30);
_(B.yv(1),60,[255,40,0,40]);var hZ=[255,255,255,255];d(B.yv(1),70,hZ,hZ[3],58,.5);D(B.yv(1),12,hZ);hZ[3]=40;
j(B.yv(1),150,hZ,hZ[3],150);for(var $=0;$<40;$++){bG+=Math.random()*25;aY=Math.random()*o(300)+o(100);
var fj=B.yv(1)._X(bG,aY);y(B.yv(1)._X(bG,aY),[110,110,110,30])}_(B.yv(1),130,[255,255,255,8]);var jg=[170,30,23,70];
t(B.yv(1),70,jg,1,3,3);var ae=[60,60,130,40];D(B.yv(.47),44,ae,5);D(B.yv(.43),22,ae,3);ae[3]=16;D(B.yv(.53),15,ae,2);
var iB=[138,94,42,100];D(B.yv(.2),16,iB,2);var eg=[130,255,170,180];_(B.yv(0),4,eg);_(B.yv(-.25),5,eg);
iB=[150,90,0,50];j(B.yv(-.45),55,v(iB),-iB[3],40,2);D(B.yv(-.42),35,iB,2);D(B.yv(-.5),15,iB,2);K(B.yv(-1.28),145,11,70);
var dM=T(0);dM[3]=50;j(B.yv(-1.28),149,dM,dM[3],4);dM=T(300);dM[3]=50;j(B.yv(-1.28),155-1,v(dM),-dM[3],3);
var fK=[130,130,10,50];t(B.yv(-1),73,fK,3,2);var aQ=[40,130,70,40];j(B.yv(-1),70,v(aQ),-aQ[3],35);aQ=[40,170,60,50];
D(B.yv(-.7),25,aQ,4);var aQ=[70,110,50,60];j(B.yv(1.3),30,v(aQ),-aQ[3],11,3);ae=[0,50,210,80];_(B.yv(-.72),20,ae)};
I[1]=function hw(){_(B.yv(1),150,[240,70,70,60]);D(B.yv(1),100,[200,60,60,40],30);var s=[255,255,255,255],hZ=0,bG=0;
d(B.yv(1),75,s,s[3],63);D(B.yv(1),12,s);_(B.yv(1),270,[200,200,200,20],10);for(var $=0;$<10;$++){hZ+=10+Math.random()*40;
bG=Math.random()*o(250)+o(80);var aY=B.yv(1)._X(hZ,bG);y(aY,[110,110,110,35])}hZ=5;bG=100;for(var $=0;
$<12;$++){hZ+=30;Y(B.yv(1),hZ,bG,[90,90,90,40])}var fj=[150,40,23,100];t(B.yv(1),70,fj,1,3,3);var jg=[30,100,60,40];
_(B.yv(-.9),180,[255,255,255,20]);D(B.yv(-.9),140,jg,15);var ae=[170,80,25,15];t(B.yv(-.9),120,ae,1,4,4);
var iB=[110,240,190,200];_(B.yv(-.6),3,iB);iB[3]=100;_(B.yv(-.6),7,iB);var eg=[230,120,40,85];_(B.yv(-.73),9,eg);
var dM=[60,60,190,50];D(B.yv(.3),28,dM,6);dM[3]=25;D(B.yv(.34),20,dM,3)};I[2]=function fY(){var s=[255,255,255,255],bG=0,aY=0;
D(B.yv(1),13,s);d(B.yv(1),150,s,s[3],137);var hZ=[120,80,35,20];D(B.yv(1.4),260,hZ,10);for(var $=0;$<40;
$++){bG+=5+Math.random()*30;aY=Math.random()*o(300);y(B.yv(1)._X(bG,aY),[110,110,110,20])}var fj=[10,30,255,30];
D(B.yv(1),70,fj,50);var jg=[15,90,170,15];D(B.yv(1.5),60,jg);var ae=[220,220,20,50];D(B.yv(-1.15),8,ae,2);
var s=[255,255,255,40];_(B.yv(-1.18),6,s);_(B.yv(-1.18),4,s);ae=[110,110,10,8];j(B.yv(-1.2),32,v(ae),-ae[3],20,3);
var iB=[5,0,16,255];for(var $=0;$<4;$++){D(B.yv(-1.36),10,iB,3)}var eg=[90,200,150,20],dM=eg.slice(0);
dM[3]*=2;D(B.yv(-1.32),7,dM,3);D(B.yv(-1.36),7,dM,3);D(B.yv(-1.4),7,dM,3);var s=[230,230,230,100];_(B.yv(-1.36),2,s);
s[3]=3;D(B.yv(-.55),10,s);ae=[120,100,10,18];D(B.yv(-.55),160,ae,8);D(B.yv(-.55),80,ae,4);eg[3]=3;dM[3]=6;
j(B.yv(-.49),13,v(dM),-dM[3],13,2);j(B.yv(-.55),13,v(dM),-dM[3],13,2);eg[3]=20;D(B.yv(.15),25,eg,3);
ae[3]=100;_(B.yv(-.52),3,ae);ae=[200,200,50,40];D(B.yv(.27),1,ae,4);var fK=[150,40,23,30];j(B.yv(1),80,v(fK),-fK[3],2,1)};
return I[H[0]]()};N.Nu={};N.Nu.kh=function(G){var m=G.length,jw=G[0].length,A=new Array(jw);for(var $=0;
$<jw;$++)A[$]=new Array(m);for(var $=0;$<jw;$++)for(var Q=0;Q<m;Q++)A[$][Q]=G[Q][$];return A};N.Nu.AV=function(G,m){var A=G.length,jw=G[0].length,Q=new Array(A);
for(var $=0;$<A;$++)Q[$]=new Array(jw);for(var $=0;$<A;$++)for(var H=0;H<jw;H++)Q[$][H]=G[$][H]-m[$][H];
return Q};N.Nu.add=function(G,m){var A=G.length,jw=G[0].length,Q=new Array(A);for(var $=0;$<A;$++)Q[$]=new Array(jw);
for(var $=0;$<A;$++)for(var H=0;H<jw;H++)Q[$][H]=G[$][H]+m[$][H];return Q};N.Nu.multiply=function(G,m){var A=G.length,Q=G[0].length,jw=m[0].length;
if(Q!=m.length)throw"e";var H=new Array(A);for(var $=0;$<A;$++)H[$]=new Array(jw);if((Q&1)!=0)for(var $=0;
$<A;$++){var J=G[$],b=H[$];for(var O=0;O<jw;O++){var a=0;for(var e=0;e<Q;e++)a+=J[e]*m[e][O];b[O]=a}}else for(var $=0;
$<A;$++){var J=G[$],b=H[$];for(var O=0;O<jw;O++){var a=0;for(var e=0;e<Q;e+=2)a+=J[e]*m[e][O]+J[e+1]*m[e+1][O];
b[O]=a}}return H};N.Nu.xZ=function(G,m){var A=G.length,jw=G[0].length,Q=new Array(A);for(var $=0;$<A;
$++){var H=0;for(var J=0;J<jw;J++)H+=G[$][J]*m[J];Q[$]=H}return Q};N.Nu.tC=function(G,m){var A=[];for(var $=0;
$<G;$++){A.push([]);for(var Q=0;Q<m;Q++)A[$].push(0)}return A};N.Nu.adT=function(G){for(var $=0;$<G.length;
$++)console.log(JSON.stringify(G[$]))};N.Nu.afL=function(G){var m=[];for(var $=0;$<G.length;$++)m.push(G[$].join(","));
return"["+m.join(";")+"]"};N.Nu.x4=function(G,m){var A=G.length;for(var Q=0;Q<A;Q++){var H=0,J=Number.NEGATIVE_INFINITY;
for(var $=Q;$<A;$++)if(Math.abs(G[$][Q])>J){H=$;J=Math.abs(G[$][Q])}N.Nu.a68(G,Q,H);for(var $=Q+1;$<A;
$++){if(G[Q][Q]==0)return 1;var b=G[$][Q]/G[Q][Q];for(var O=Q;O<A+1;O++)G[$][O]-=G[Q][O]*b}}for(var $=A-1;
$>=0;$--){if(G[$][$]==0)return 1;var a=G[$][A]/G[$][$];m[$]=a;for(var O=$-1;O>=0;O--){G[O][A]-=G[O][$]*a;
G[O][$]=0}}return 0};N.Nu.a68=function(G,m,A){var Q=G[m];G[m]=G[A];G[A]=Q};N.Nu.a6$=function(G){var m=G.length,A=N.Nu.tC(m,m);
for(var $=0;$<m;$++)A[$][$]=G[$];return A};N.Nu.a30=function(G){var m=G.length,A=G[0].length,Q=new Array(m);
for(var $=0;$<m;$++){Q[$]=0;for(var H=0;H<A;H++)Q[$]+=G[$][H];Q[$]/=A}return Q};N.Nu.BX=function(G){var m=0;
for(var $=0;$<G.length;$++)m+=G[$]*G[$];return Math.sqrt(m)};N.zb={};N.zb.vV=function(G){var m=~~(G+.5);
return m<0?0:m>255?255:m};N.zb.transform=function(G,m,A){var Q=N.zb.vV,H=G.p.length;for(var $=0;$<H;
$++){var J=G.p[$],b=G.z[$],O=G.h[$];m.p[$]=Q(A[0]*J+A[1]*b+A[2]*O+A[3]*255);m.z[$]=Q(A[4]*J+A[5]*b+A[6]*O+A[7]*255);
m.h[$]=Q(A[8]*J+A[9]*b+A[10]*O+A[11]*255)}};N.zb.yT=function(G,m,A){var Q=N.zb.vV,H=G.length;for(var $=0;
$<H;$+=4){var J=G[$],b=G[$+1],O=G[$+2];m[$]=Q(A[0]*J+A[1]*b+A[2]*O+A[3]*255);m[$+1]=Q(A[4]*J+A[5]*b+A[6]*O+A[7]*255);
m[$+2]=Q(A[8]*J+A[9]*b+A[10]*O+A[11]*255)}};N.zb.Lv=function(G){var m=G[0]+G[1]+G[2],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(m==1){var Q=G.indexOf(1);A[Q]=A[Q+4]=A[Q+8]=1}else{A[0]=G[0];A[5]=G[1];A[10]=G[2]}return A};N.zb.FB=function(G,m,A){return[1,0,0,G,0,1,0,m,0,0,1,A,0,0,0,1]};
N.zb.wl=function(G,m,A){return[G,0,0,0,0,m,0,0,0,0,A,0,0,0,0,1]};N.zb.a5M=function(G){return[G[0],G[1],G[2],G[4],G[5],G[6],G[8],G[9],G[10]]};
N.zb.nf=function(G){return[G[0],G[1],G[2],0,G[3],G[4],G[5],0,G[6],G[7],G[8],0,0,0,0,1]};N.zb.wQ=function(G,m){return[G[0]*m[0]+G[1]*m[1]+G[2]*m[2]+G[3]*m[3],G[4]*m[0]+G[5]*m[1]+G[6]*m[2]+G[7]*m[3],G[8]*m[0]+G[9]*m[1]+G[10]*m[2]+G[11]*m[3],G[12]*m[0]+G[13]*m[1]+G[14]*m[2]+G[15]*m[3]]};
N.zb.kh=function(G){var m=[];m[0]=G[0];m[1]=G[4];m[2]=G[8];m[3]=G[12];m[4]=G[1];m[5]=G[5];m[6]=G[9];
m[7]=G[13];m[8]=G[2];m[9]=G[6];m[10]=G[10];m[11]=G[14];m[12]=G[3];m[13]=G[7];m[14]=G[11];m[15]=G[15];
return m};N.zb.add=function(G,m){var A=G.slice(0);for(var $=0;$<16;$++)A[$]+=m[$];return A};N.zb.multiply=function(G,m){var A=[];
A[0]=G[0]*m[0]+G[1]*m[4]+G[2]*m[8]+G[3]*m[12];A[1]=G[0]*m[1]+G[1]*m[5]+G[2]*m[9]+G[3]*m[13];A[2]=G[0]*m[2]+G[1]*m[6]+G[2]*m[10]+G[3]*m[14];
A[3]=G[0]*m[3]+G[1]*m[7]+G[2]*m[11]+G[3]*m[15];A[4]=G[4]*m[0]+G[5]*m[4]+G[6]*m[8]+G[7]*m[12];A[5]=G[4]*m[1]+G[5]*m[5]+G[6]*m[9]+G[7]*m[13];
A[6]=G[4]*m[2]+G[5]*m[6]+G[6]*m[10]+G[7]*m[14];A[7]=G[4]*m[3]+G[5]*m[7]+G[6]*m[11]+G[7]*m[15];A[8]=G[8]*m[0]+G[9]*m[4]+G[10]*m[8]+G[11]*m[12];
A[9]=G[8]*m[1]+G[9]*m[5]+G[10]*m[9]+G[11]*m[13];A[10]=G[8]*m[2]+G[9]*m[6]+G[10]*m[10]+G[11]*m[14];A[11]=G[8]*m[3]+G[9]*m[7]+G[10]*m[11]+G[11]*m[15];
A[12]=G[12]*m[0]+G[13]*m[4]+G[14]*m[8]+G[15]*m[12];A[13]=G[12]*m[1]+G[13]*m[5]+G[14]*m[9]+G[15]*m[13];
A[14]=G[12]*m[2]+G[13]*m[6]+G[14]*m[10]+G[15]*m[14];A[15]=G[12]*m[3]+G[13]*m[7]+G[14]*m[11]+G[15]*m[15];
return A};N.zb.G3=function(G){var m=[];m[0]=G[5]*G[10]*G[15]-G[5]*G[14]*G[11]-G[6]*G[9]*G[15]+G[6]*G[13]*G[11]+G[7]*G[9]*G[14]-G[7]*G[13]*G[10];
m[1]=-G[1]*G[10]*G[15]+G[1]*G[14]*G[11]+G[2]*G[9]*G[15]-G[2]*G[13]*G[11]-G[3]*G[9]*G[14]+G[3]*G[13]*G[10];
m[2]=G[1]*G[6]*G[15]-G[1]*G[14]*G[7]-G[2]*G[5]*G[15]+G[2]*G[13]*G[7]+G[3]*G[5]*G[14]-G[3]*G[13]*G[6];
m[3]=-G[1]*G[6]*G[11]+G[1]*G[10]*G[7]+G[2]*G[5]*G[11]-G[2]*G[9]*G[7]-G[3]*G[5]*G[10]+G[3]*G[9]*G[6];
m[4]=-G[4]*G[10]*G[15]+G[4]*G[14]*G[11]+G[6]*G[8]*G[15]-G[6]*G[12]*G[11]-G[7]*G[8]*G[14]+G[7]*G[12]*G[10];
m[5]=G[0]*G[10]*G[15]-G[0]*G[14]*G[11]-G[2]*G[8]*G[15]+G[2]*G[12]*G[11]+G[3]*G[8]*G[14]-G[3]*G[12]*G[10];
m[6]=-G[0]*G[6]*G[15]+G[0]*G[14]*G[7]+G[2]*G[4]*G[15]-G[2]*G[12]*G[7]-G[3]*G[4]*G[14]+G[3]*G[12]*G[6];
m[7]=G[0]*G[6]*G[11]-G[0]*G[10]*G[7]-G[2]*G[4]*G[11]+G[2]*G[8]*G[7]+G[3]*G[4]*G[10]-G[3]*G[8]*G[6];m[8]=G[4]*G[9]*G[15]-G[4]*G[13]*G[11]-G[5]*G[8]*G[15]+G[5]*G[12]*G[11]+G[7]*G[8]*G[13]-G[7]*G[12]*G[9];
m[9]=-G[0]*G[9]*G[15]+G[0]*G[13]*G[11]+G[1]*G[8]*G[15]-G[1]*G[12]*G[11]-G[3]*G[8]*G[13]+G[3]*G[12]*G[9];
m[10]=G[0]*G[5]*G[15]-G[0]*G[13]*G[7]-G[1]*G[4]*G[15]+G[1]*G[12]*G[7]+G[3]*G[4]*G[13]-G[3]*G[12]*G[5];
m[11]=-G[0]*G[5]*G[11]+G[0]*G[9]*G[7]+G[1]*G[4]*G[11]-G[1]*G[8]*G[7]-G[3]*G[4]*G[9]+G[3]*G[8]*G[5];m[12]=-G[4]*G[9]*G[14]+G[4]*G[13]*G[10]+G[5]*G[8]*G[14]-G[5]*G[12]*G[10]-G[6]*G[8]*G[13]+G[6]*G[12]*G[9];
m[13]=G[0]*G[9]*G[14]-G[0]*G[13]*G[10]-G[1]*G[8]*G[14]+G[1]*G[12]*G[10]+G[2]*G[8]*G[13]-G[2]*G[12]*G[9];
m[14]=-G[0]*G[5]*G[14]+G[0]*G[13]*G[6]+G[1]*G[4]*G[14]-G[1]*G[12]*G[6]-G[2]*G[4]*G[13]+G[2]*G[12]*G[5];
m[15]=G[0]*G[5]*G[10]-G[0]*G[9]*G[6]-G[1]*G[4]*G[10]+G[1]*G[8]*G[6]+G[2]*G[4]*G[9]-G[2]*G[8]*G[5];var A=G[0]*m[0]+G[1]*m[4]+G[2]*m[8]+G[3]*m[12];
for(var $=0;$<16;$++)m[$]/=A;return m};N.zb.a2x=function(G){var m=[],A=G[5]*G[10]*G[15]-G[5]*G[14]*G[11]-G[6]*G[9]*G[15]+G[6]*G[13]*G[11]+G[7]*G[9]*G[14]-G[7]*G[13]*G[10],Q=-G[4]*G[10]*G[15]+G[4]*G[14]*G[11]+G[6]*G[8]*G[15]-G[6]*G[12]*G[11]-G[7]*G[8]*G[14]+G[7]*G[12]*G[10],H=G[4]*G[9]*G[15]-G[4]*G[13]*G[11]-G[5]*G[8]*G[15]+G[5]*G[12]*G[11]+G[7]*G[8]*G[13]-G[7]*G[12]*G[9],J=-G[4]*G[9]*G[14]+G[4]*G[13]*G[10]+G[5]*G[8]*G[14]-G[5]*G[12]*G[10]-G[6]*G[8]*G[13]+G[6]*G[12]*G[9];
return G[0]*A+G[1]*Q+G[2]*H+G[3]*J};N.zb.Vt=N.zb.nf([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
N.zb.alp=N.zb.nf([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
N.zb.af8=N.zb.G3(N.zb.Vt);N.oQ={};N.oQ.sA=new Uint32Array(1);N.oQ.Fp=function(G,m,A,Q,H,J){var b=new Uint32Array(G),O=0,a=N.oQ.sA;
if(a.length<m*4)N.oQ.sA=a=new Uint32Array(m*4);var e=new Float64Array(a.buffer);for(var $=0;$<m;$+=2){var R=H[$],p=H[$+1],P=J[$],z=J[$+1];
a[O]=p;e[O+2>>1]=P;a[O+1]=b[R];b[R]=O+1;O+=4;a[O]=R;e[O+2>>1]=z;a[O+1]=b[p];b[p]=O+1;O+=4}return{IG:a,aq0:e,ahL:b}};
N.oQ.x4=function(G,m,A,Q,H,J,b){var O=1,a=N.oQ.Fp(G,m,A,Q,H,J),e=a.IG,R=a.aq0,p=a.ahL,P=new Uint32Array(G),z=new N.oQ.aa(G),W=1,M=0;
z.push(A);z.push(Q);var Z=new N.oQ.aa(G),T=new Uint8Array(G),i=new Uint32Array(G);T[A]=1;T[Q]=2;var X=new Uint32Array(G),U=new Uint32Array(G);
U[A]=U[Q]=0;X[A]=X[Q]=1;while(!0){var C=-1,F=0,D=1e30;while(!z.y1()&&C==-1){var x=z.top(),L=T[x],E=p[x]-1;
while(E!=-1){var l=e[E],y=T[l],Y=E^L-1<<2;if(R[Y+2>>1]!=0){if(y==0){N.oQ.nH(x,E,l,T,i,U,X);z.push(l)}else if(y==L&&X[l]<=X[x]&&U[l]>U[x])N.oQ.nH(x,E,l,T,i,U,X);
else if(y!=L){C=Y}}E=e[E+1]-1}if(C!=-1)break;z.pop()}if(C==-1){break}W++;var w=C;while(w!=-1){P[F]=w;
F++;w=i[e[w^4]]-1}var j=F>>1;for(var $=0;$<j;$++){var _=P[$];P[$]=P[F-$-1];P[F-$-1]=_}w=i[e[C]]-1;while(w!=-1){P[F]=w^4;
F++;w=i[e[w^4]]-1}for(var $=0;$<F;$++)D=Math.min(D,R[P[$]+2>>1]);M+=D;if(M>=b)return{cO:null,qk:M};for(var $=0;
$<F;$++){var t=P[$],K=t^4,x=e[K],l=e[t];R[t+2>>1]-=D;R[K+2>>1]+=D;if(R[t+2>>1]==0&&T[x]==T[l]){if(T[x]==1){i[l]=0;
Z.push(l)}if(T[x]==2){i[x]=0;Z.push(x)}}}while(!Z.y1()){var x=Z.pop(),L=T[x],E=p[x]-1,d=L==1?4:0,o=0,k=0,v=1e9;
while(E!=-1){var l=e[E],u=E^4,Y=E^d;if(T[l]==L&&R[Y+2>>1]>0&&N.oQ.asG(l,A,Q,i,e,W,X,U)+1<v){o=l;k=u;
v=U[l]+1}E=e[E+1]-1}if(k!=0){N.oQ.nH(o,k,x,T,i,U,X);continue}E=p[x]-1;while(E!=-1){var l=e[E],Y=E^d;
if(T[l]==L){if(R[Y+2>>1]>0){z.push(l)}if(i[l]==E+1){i[l]=0;Z.push(l)}}E=e[E+1]-1}T[x]=0;z.remove(x)}}var B=[];
for(var $=0;$<m;$+=2){var x=H[$],l=H[$+1];if(T[x]==1&&T[l]!=1){B.push($>>1)}if(T[l]==1&&T[x]!=1){B.push(m+$>>1)}}return{cO:B,qk:M}};
N.oQ.nH=function(G,m,A,Q,H,J,b){Q[A]=Q[G];H[A]=m+1;J[A]=J[G]+1;b[A]=b[G]};N.oQ.asG=function(G,m,A,Q,H,J,b,O){var a=G,e=Q[G]-1,R=0;
while(e!=-1&&b[G]!=J){G=H[e^4];e=Q[G]-1;R++}if(e==-1&&G!=m&&G!=A)return 1e9;var p=O[G]+R;R=0;e=Q[a]-1;
while(a!=G){O[a]=p-R;R++;b[a]=J;a=H[e^4];e=Q[a]-1}return p};N.oQ.asB=function(G,m,A,Q,H,J){var b=N.oQ.Fp(G,m,A,Q,H,J),O=b.IG,a=b.aq0,e=b.ahL,R=0,p=0,P=new Uint32Array(G*2),z=new N.oQ.VH(G),Z=0;
while(!0){z.reset();z.push(A);for(var $=0;$<G;$++)P[$<<1]=0;while(!z.y1()){var W=z.pop(),T=e[W]-1;while(T!=-1){Z=O[T];
if(P[Z<<1]==0&&a[T+2>>1]>0&&Z!=A){P[Z<<1]=W+1;P[(Z<<1)+1]=T;z.push(Z)}T=O[T+1]-1}if(P[Q<<1]!=0){break}}if(P[Q<<1]==0){break}var i=1e30;
Z=Q;while(!0){var X=P[Z<<1]-1;if(X==-1)break;var U=P[(Z<<1)+1];i=Math.min(i,a[U+2>>1]);Z=X}Z=Q;while(!0){var X=P[Z<<1]-1;
if(X==-1)break;var U=P[(Z<<1)+1],M=U^4;a[U+2>>1]-=i;a[M+2>>1]+=i;Z=X}R+=i}var C=[];for(var $=0;$<m;$+=2){var X=H[$],Z=H[$+1];
if((P[X<<1]!=0||X==A)&&P[Z<<1]==0&&Z!=A){C.push($>>1)}if((P[Z<<1]!=0||Z==A)&&P[X<<1]==0&&X!=A){C.push(m+$>>1)}}return{cO:C,qk:R}};
N.oQ.VH=function(G){G|=G>>1;G|=G>>2;G|=G>>4;G|=G>>8;G|=G>>16;this.OJ=new Uint32Array(G+1);this.fX=G;
this.OW=0;this.a4=0};N.oQ.VH.prototype={push:function(G){var m=this.a4;this.OJ[m]=G;this.a4=m+1&this.fX},pop:function(){var G=this.OW,m=this.OJ[G];
this.OW=G+1&this.fX;return m},y1:function(){return this.OW==this.a4},reset:function(){this.OW=0;this.a4=0}};
N.oQ.aa=function(G){G|=G>>1;G|=G>>2;G|=G>>4;G|=G>>8;G|=G>>16;this.OJ=new Uint32Array(G+1);this.rU=new Uint32Array(G+1);
this.fX=G;this.OW=0;this.a4=0};N.oQ.aa.prototype={top:function(){return this.OJ[this.OW]},a2E:function(){return this.OJ[this.a4]},push:function(G){if(this.rU[G]!=0)return;
this.rU[G]=this.a4+1;var m=this.a4;this.OJ[m]=G;this.a4=m+1&this.fX},pop:function(){var G=this.OW,m=this.OJ[G];
this.rU[m]=0;this.OW=G+1&this.fX;return m},y1:function(){return this.OW==this.a4},remove:function(G){var m=this.rU[G]-1;
if(m==-1)return;this.rU[G]=0;if(m==this.OW){this.pop();return}var A=this.pop();this.OJ[m]=A;this.rU[A]=m+1},ou:function($){return $+this.fX+1&this.fX}};
N.oQ.xp=function(G,m,A){var Q=N.oQ.Xn(G,m,A);if(m<Q-1)N.oQ.xp(G,m,Q-1);if(Q<A)N.oQ.xp(G,Q,A)};N.oQ.Xn=function(G,m,A){var Q=G[m+A>>>1];
while(m<=A){while(G[m]<Q)m++;while(G[A]>Q)A--;if(m<=A){N.oQ.aZ(G,m,A);m++;A--}}return m};N.oQ.aZ=function(G,m,A){var Q=G[m];
G[m]=G[A];G[A]=Q};N.Nv={};N.Nv.a4y=function(G){for(var $=0;$<G.length;$++)N.Nv.mn(G,$)};N.Nv.mn=function(G,$){G[$].v.keyShapeInvalidated={t:"bool",v:!0}};
N.Nv.arv=function(G){for(var $=0;$<G.length;$++)G[$].v.keyOriginIndex.v=$};N.Nv.Pn=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
N.Nv.lI=function(G){G=G.v;var m={Rctn:2,Ln:4,Elps:5},A=m[G.classID],Q=G.topLeft?N.Nv.ZE(G):null,H=null,J=0,b=[!1,!1,0,0,0];
if(A==4){var O=G.Strt.v,a=G.End.v;H=[O.Hrzn.v.val,O.Vrtc.v.val,a.Hrzn.v.val,a.Vrtc.v.val];J=G.Wdth.v.val;
for(var $=0;$<2;$++){var e=G[$==0?"StrA":"EndA"];if(e==null)continue;e=e.v;b[$]=e.On.v;b[2]=e.Wdth.v;
b[3]=e.Lngt.v;b[4]=e.Cncv.v.val}}if(A==null)return null;return N.Nv.FG(A,A==4?null:N.Nv.kf(G),Q,H,J,b)};
N.Nv.rk=function(G,m,A,Q,H,J,b){var O={classID:G,unitValueQuadVersion:{t:"long",v:1}};if(m)N.Nv.XA(O,["Left","Top","Rght","Btom"],m);
if(A)N.Nv.XA(O,["topLeft","topRight","bottomRight","bottomLeft"],A);if(G=="Ln"){O.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q[1]}}}},O.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Q[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Q[3]}}}},O.Wdth={t:"UntF",v:{type:"#Pxl",val:H}};
for(var $=0;$<2;$++){var a=$==0?"StrA":"EndA";O[a]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:b[$]},Wdth:{t:"doub",v:b[2]},Lngt:{t:"doub",v:b[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:b[4]}}}}}}if(J)O.Nm={t:"TEXT",v:J};
return{t:"Objc",v:O}};N.Nv.ai=function(G,m){var A=N.Nv.JI(G),Q=G[2]-G[0],H=G[3]-G[1],J=Math.sqrt(Q*Q+H*H),b=[0,0,J,0,J,m,0,m],O=new ci;
O.rotate(-A);O.translate(G[0],G[1]);N.H.A(b,O,b);return b};N.Nv.FG=function(G,m,A,Q,H,J){var b=N.Nv.Pn(),O=b.v,a;
delete O.keyShapeInvalidated;O.keyOriginType={t:"long",v:G};O.keyOriginResolution={t:"doub",v:75};if(G==4){O.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Q[0]},Vrtc:{t:"doub",v:Q[1]}}};
O.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:Q[2]},Vrtc:{t:"doub",v:Q[3]}}};a=N.Nv.ai(Q,H);
var e=N.H.Cf(a);m=[e.x,e.y,e.x+e.e,e.y+e.n];O.keyOriginLineWeight={t:"doub",v:H};if(J)N.Nv.aon(O,J)}else a=[m[0],m[1],m[2],m[1],m[2],m[3],m[0],m[3]];
O.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};N.Nv.q7(O,"keyOriginBoxCorners",a);var R={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
O.keyOriginShapeBBox={t:"Objc",v:R};N.Nv.gh(O,m);if(A!=null){var p={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
O.keyOriginRRectRadii={t:"Objc",v:p};N.Nv._m(O,A)}return b};N.Nv.A=function(G,m,A,Q){var H=N.N.sh(m),J=N.N.J4(m);
for(var $=0;$<G.length;$++){var b=G[$].v;if(!N.Nv.d2(b))continue;if(A.length!=0&&A.indexOf($)==-1)continue;
var O=b.keyOriginType.v,a=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var e=0;e<a.length;
e++){var R=N.Nv.QY(b,a[e]);if(R==null)continue;N.N.A(m,R);N.Nv.q7(b,a[e],R);var p=N.H.Cf(R);N.Nv.gh(b,[p.x,p.y,p.x+p.e,p.y+p.n]);
var P=new ci;P.rotate(-N.Nv.JI(R));var z={classID:"Trnf"};b.Trnf={t:"Objc",v:z};var Z="xx xy yx yy tx ty".split(" "),W=[P.Uj,P.h,P.Qv,P.nd,P.Zh,P.bx];
for(var T=0;T<6;T++)z[Z[T]]={t:"doub",v:W[T]}}var R=N.Nv.QY(b,"keyOriginBoxCorners"),i=R[2]-R[0],X=R[3]-R[1],U=Math.sqrt(i*i+X*X);
i/=U;X/=U;var M=R[6]-R[0],C=R[7]-R[1],x=Math.sqrt(M*M+C*C);M/=x;C/=x;if(O==4){b.keyOriginLineWeight.v=x;
var L=N.Nv.tW(b);N.N.A(m,L);N.Nv.a4N(b,L)}var E=i*M+X*C;if(Math.abs(E)>.001){N.Nv.mn(G,$)}}};N.Nv.d2=function(G){var m=G.keyShapeInvalidated,A=G.keyOriginType;
return(m==null||!m.v)&&A!=null&&A.v!=9};N.Nv.arU=function(G){var m=G.keyOriginType.v,A=N.Nv.yc(G),Q=A[0],H=A[1],J=A[2],b=A[3],O=new ci,a=G.keyOriginPolyCornerRadius,z;
a=a?a.v:0;var e=N.Nv.QY(G,m==7||m==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),R=N.Nv.UH(e),p=R[2],P=R[3];
Q=-p/2;J=p/2;H=-P/2;b=P/2;O.rotate(-N.Nv.JI(e));O.Zh=R[0];O.bx=R[1];if(m==1||m==2){var Z=m==1?0:N.Nv.I$(G);
z=N.U.Y0.Rect(Q,H,J-Q,b-H,Z)}else if(m==4){var W=N.Nv.tW(G),T=N.Nv.asq(G);O=new ci;if(T==null)z=N.U.Y0.vm(W[0],W[1],W[2],W[3],G.keyOriginLineWeight.v);
else z=N.U.Y0.oi(W[0],W[1],W[2],W[3],G.keyOriginLineWeight.v,T)}else if(m==5){z=N.U.Y0.dd(Q,H,J-Q,b-H)}else if(m==7||m==8){var i=m==7?3:G.keyOriginPolySides.v;
z=N.U.Y0.m3(0,0,100,Math.PI/i-Math.PI/2,i,a,J,b)}N.U.T6(z,O);return z};N.Nv.db=function(G,m){var A=m.Y;
for(var $=0;$<G.length;$++){var Q=G[$].v;if(!N.Nv.d2(Q))continue;var H=N.Nv.arU(Q),J=N.U.sM(A,$),b=N.U.Bc(A,$);
H[2]._t=A[J]._t;var O=A;A=A.slice(0,J);for(var a=2;a<H.length;a++)A.push(H[a]);for(var a=J+b;a<O.length;
a++)A.push(O[a])}m.Y=A;m.k9=!0};N.Nv.hh=function(G){var m=1e9,A=-m,Q=1e9,H=-Q,J=[],b=G.S9(),O=b[0],a=b[1];
for(var e=0;e<a.length;e++){var R=O[a[e]],p=R.add.vogk;if(p==null)continue;var P=R.add.vmsk.c;for(var z=0;
z<p.length;z++){var Z=p[z].v,i=0;if(!N.Nv.d2(Z))continue;if(a.length==1&&P.length!=0&&P.indexOf(z)==-1)continue;
var W=Z.keyOriginType.v;if(W==9)continue;var T=N.Nv.yc(Z);m=Math.min(m,T[0]);Q=Math.min(Q,T[1]);A=Math.max(A,T[2]);
H=Math.max(H,T[3]);var X=N.Nv.QY(Z,"keyOriginBoxCorners");if(X){var U=N.Nv.UH(X),M=U[2],C=U[3];T[2]=T[0]+M;
T[3]=T[1]+C;i=N.Nv.JI(X)}var x=[W,T,i];J.push(x);if(W==2)x.push(N.Nv.I$(Z));if(W==7||W==8)x.push(Z.keyOriginPolyCornerRadius.v);
if(W==8)x.push(Z.keyOriginPolySides.v)}}return J.length==1?J[0]:[0,m<A?[m,Q,A,H]:null,0]};N.Nv.JI=function(G){var m=G[2]-G[0],A=G[3]-G[1];
return-Math.atan2(-A,m)};N.Nv.afu=function(G,m){var A=N.Nv.hh(G),Q=-1;for(var $=0;$<m.length;$++)if(JSON.stringify(m[$])!=JSON.stringify(A[$]))Q=$;
if(Q==1||Q==2){}var H=G.S9(),J=H[0],b=H[1];for(var O=0;O<b.length;O++){var a=J[b[O]],e=a.add.vogk;if(e==null)continue;
var R=a.add.vmsk.c;for(var p=0;p<e.length;p++){var P=e[p].v;if(!N.Nv.d2(P))continue;if(b.length==1&&R.length!=0&&R.indexOf(p)==-1)continue;
var z=P.keyOriginType.v;if(Q==1||Q==2){N.Nv.A(e,N.Nv.a7V(Q,P,A,m),R,!1);break}if(Q==3)if(z==2)N.Nv._m(P,m[3]);
else P.keyOriginPolyCornerRadius.v=m[3];if(Q==4)P.keyOriginPolySides.v=m[4]}}};N.Nv.a7V=function(G,m,A,Q){var H=Q[1],J=A[1],b=(H[2]-H[0])/(J[2]-J[0]),O=(H[3]-H[1])/(J[3]-J[1]),a=new ci;
if(G==1){if(Math.max(Math.abs(b-1),Math.abs(O-1))>1e-8){var e=H[0],R=H[1];if(Q[0]!=0){var p=N.Nv.QY(m,"keyOriginBoxCorners");
e=p[0];R=p[1]}a.translate(-e,-R);a.rotate(Q[2]);a.scale(b,O);a.rotate(-Q[2]);a.translate(e,R)}else{a.translate(-J[0],-J[1]);
a.translate(H[0],H[1])}}else{if(Q[0]!=0)H=N.Nv.yc(m);var e=(H[0]+H[2])/2,R=(H[1]+H[3])/2;a.translate(-e,-R);
if(A[0]!=0)a.rotate(A[2]);a.rotate(-Q[2]);a.translate(e,R)}return N.N.i4(a)};N.Nv.UH=function(G){var m=G[0],A=G[1],Q=G[2],H=G[3],J=G[4],b=G[5],O=G[6],a=G[7],e=Q-m,R=H-A,p=Math.sqrt(e*e+R*R),e=J-Q,R=b-H,P=Math.sqrt(e*e+R*R);
return[(m+J)/2,(A+b)/2,p,P]};N.Nv.QY=function(G,m){var A=G[m];if(A==null)return null;var Q=[];A=A.v;
for(var H=0;H<4;H++){var J=A["rectangleCorner"+["A","B","C","D"][H]].v;Q.push(J.Hrzn.v,J.Vrtc.v)}return Q};
N.Nv.q7=function(G,m,A){var Q=G[m];if(Q==null)return null;Q=Q.v;for(var H=0;H<4;H++){var J="rectangleCorner"+["A","B","C","D"][H];
Q[J]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:A[2*H]},Vrtc:{t:"doub",v:A[2*H+1]}}}}};N.Nv.yc=function(G){return N.Nv.kf(G.keyOriginShapeBBox.v)};
N.Nv.kf=function(G){var m=G.classID,A=G.Left.v,Q=G.Rght.v,H=G.Top.v,J=G.Btom.v;if(m=="unitRect"||m=="radii"||m=="Rctn"){A=A.val;
Q=Q.val;H=H.val;J=J.val}return[A,H,Q,J]};N.Nv.gh=function(G,m){N.Nv.XA(G.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],m)};
N.Nv.I$=function(G){return N.Nv.ZE(G.keyOriginRRectRadii.v)};N.Nv.ZE=function(G){var m=[],A=["topLeft","topRight","bottomRight","bottomLeft"];
for(var Q=0;Q<4;Q++)m.push(G[A[Q]].v.val);return m};N.Nv._m=function(G,m){N.Nv.XA(G.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],m)};
N.Nv.XA=function(G,m,A){var Q=G.classID;if(Q=="unitRect"||Q=="radii"||Q=="Rctn"){for(var $=0;$<4;$++)if(A[$]!=null)G[m[$]]={t:"UntF",v:{type:"#Pxl",val:A[$]}}}else{for(var $=0;
$<4;$++)if(A[$]!=null)G[m[$]]={t:"doub",v:A[$]}}};N.Nv.tW=function(G){var m=G.keyOriginLineStart.v,A=G.keyOriginLineEnd.v;
return[m.Hrzn.v,m.Vrtc.v,A.Hrzn.v,A.Vrtc.v]};N.Nv.a4N=function(G,m){var A=G.keyOriginLineStart.v,Q=G.keyOriginLineEnd.v;
A.Hrzn.v=m[0];A.Vrtc.v=m[1];Q.Hrzn.v=m[2];Q.Vrtc.v=m[3]};N.Nv.asq=function(G){var m=[],A=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var $=0;$<5;$++){var Q=G["keyOriginLineArr"+A[$]];if(Q==null)return null;m[$]=Q.v}return m};N.Nv.aon=function(G,m){G.keyOriginLineArrowSt={t:"bool",v:m[0]};
G.keyOriginLineArrowEnd={t:"bool",v:m[1]};G.keyOriginLineArrWdth={t:"doub",v:m[2]};G.keyOriginLineArrLngth={t:"doub",v:m[3]};
G.keyOriginLineArrConc={t:"long",v:m[4]}};N.H={};N.H.clone=function(G){return{C:G.C.slice(0),s:G.s.slice(0)}};
N.H.gT=function(G){if(G.length<6)return!0;var m=G.length-4;for(var $=0;$<m;$+=2)if(!N.H.lb(G[$],G[$+1],G[$+2],G[$+3],G[$+4],G[$+5]))return!1;
if(!N.H.lb(G[m],G[m+1],G[m+2],G[m+3],G[0],G[1]))return!1;if(!N.H.lb(G[m+2],G[m+3],G[0],G[1],G[2],G[3]))return!1;
return!0};N.H.lb=function(G,m,A,Q,H,J){return(m-Q)*(H-A)+(A-G)*(J-Q)>=0};N.H.HB=function(G){var m={},A=null,Q=0,H={M:2,L:2,Q:4,C:6};
for(var $=0;$<G.C.length;$++){var J=G.C[$];if(J.charAt(0)=="#"){if(m[J]==null)m[J]={s:[],C:[]};A=m[J]}else if(J!="X"){A.C.push(J);
var b=H[J];if(b==null)b=0;for(var O=0;O<b;O++)A.s.push(G.s[Q+O]);Q+=b}}return m};N.H.ev=function(G,m,A){G=N.H.Iv(G);
var Q=G.s,H=G.C,J=0,b=[],O=null;for(var $=0;$<H.length;$++){var a=H[$];if(a=="M"){O={aE:J,vb:0,jy:!1};
b.push(O);J+=2}if(a=="C"){O.vb++;J+=6}if(a=="Z"&&O!=null){O.jy=!0}}var e=[];for(var $=0;$<b.length;$++)if(b[$].vb!=0)e.push(b[$]);
b=e;for(var $=0;$<b.length;$++){var R=b[$],p=R.aE,P=p+2+R.vb*6,Z=0;R.vJ=N.H.Cf(Q,p,P);var z=Q[p]==Q[P-2]&&Q[p+1]==Q[P-1];
for(var W=0;W<R.vb;W++){var T=p+W*6,i=T+6;Z+=(Q[i]-Q[T])*(Q[i+1]+Q[T+1])}if(R.vb==2){var X=function(S,I,q){var hw=1-q;
return hw*hw*hw*S[I]+3*hw*hw*q*S[I+2]+3*hw*q*q*S[I+4]+q*q*q*S[I+6]},U=Q[p],M=Q[p+1],C=Q[p+6],x=Q[p+7],L=Q[p+6],E=Q[p+7],l=X(Q,p,.5),y=X(Q,p+1,.5),Y=X(Q,p+6,.5),F=X(Q,p+7,.5);
Z=(l-U)*(y-M)+(C-l)*(x-y)+(Y-C)*(F-x)+(L-Y)*(E-F)}if(!z)Z+=(Q[p]-Q[P-2])*(Q[p+1]+Q[P-1]);R.QE=Z<=0}for(var $=0;
$<b.length-1;$++)for(var T=$+1;T<b.length;T++){var w=b[$],j=b[T];if(j.vJ.ZM(w.vJ)){b[$]=j;b[T]=w}}var _=b.length==0?!0:b[0].QE,D=[{type:6},{type:8,all:0}];
for(var $=0;$<b.length;$++){var R=b[$],p=R.aE,P=p+2+R.vb*6,z=Q[p]==Q[P-2]&&Q[p+1]==Q[P-1],t=R.jy||z?0:3,K=R.QE==_&&!m?1:0;
if(!m&&$!=0){if(b[$-1].vJ.ZM(R.vJ)&&b[$-1].QE!=R.QE)K=0;for(var T=0;T<b.length;T++)if(T!=$&&b[T].vJ.ZM(R.vJ))K=0}D.push({type:t,length:R.vb+(z?0:1),_t:A?1:K,Jk:2});
for(var T=0;T<R.vb;T++){var J=p+T*6,d=new dw(Q[J],Q[J+1]),o=new dw(Q[J+2],Q[J+3]),k;if(T==0){if(z)k=new dw(Q[P-4],Q[P-3]);
else k=d.clone()}else k=new dw(Q[J-2],Q[J-1]);D.push({type:t+2,ed:k,M:d,Gd:o})}if(!z){var v=new dw(Q[P-2],Q[P-1]);
D.push({type:t+2,ed:new dw(Q[P-4],Q[P-3]),M:v,Gd:v.clone()})}}for(var T=0;T<D.length;T++){var u=D[T];
if(u.type>5||u.type==0||u.type==3)continue;var B=u.ed.A5(u.M)||u.Gd.A5(u.Gd);if(!B){var w=u.ed.x*(u.M.y-u.Gd.y)+u.M.x*(u.Gd.y-u.ed.y)+u.Gd.x*(u.ed.y-u.M.y);
if(Math.abs(w)<1e-6)B=!0}if(B)u.type--}return D};N.H.u3=function(G,m){var A=N.U.Ya(G),Q=!1;for(var $=2;
$<G.length;$++){var H=G[$]._t;if(H!=null){if(H==2||H==0||H==3)Q=!0}}if((Q||m)&&G.length<15e3&&A>1)G=N.U.Xq(G);
var J=N.H.Zv(G);return{dW:J,c7:Q?1:0}};N.H.Zv=function(){function G(Q,H,J,b){if(!b&&Q.Gd.A5(Q.M)&&H.ed.A5(H.M)){J.s.push(H.M.x,H.M.y);
J.C.push("L")}else{J.s.push(Q.Gd.x,Q.Gd.y,H.ed.x,H.ed.y,H.M.x,H.M.y);J.C.push("C")}}function m(Q,H,$,J,b,O){var a=H[$];
Q.s.push(a.M.x,a.M.y);Q.C.push("M");for(var e=$;e<$+J-1;e++)G(H[e],H[e+1],Q,O);if(!b)G(H[e],H[$],Q,O)}function A(Q,H){if(H==null)H=!1;
var J={s:[],C:[]};for(var $=0;$<Q.length;$++){if(Q[$].type>5)continue;var b=Q[$].length;if(b==0)continue;
if($==Q.length-1)break;var O=Q[$].type==3;m(J,Q,$+1,b,O,H);if(!O)J.C.push("Z");$+=b}return J}return A}();
N.H.anN=function(G){var m=G.s,A=[],Q,H=0;for(var $=0;$<G.C.length;$++){var J=G.C[$];if(J=="C"){Q.push(m[H++],m[H++],m[H++],m[H++],m[H++],m[H++])}else if(J=="Z"){}else{Q=[];
if(J!="M"){Q.push(J);$++}Q.push(m[H++],m[H++]);A.push(Q)}}return A};N.H.Mn=function(G,m,A,Q){if(Q==null)Q=1e9;
var H=1e9,J=0;for(var $=0;$<G.length;$+=2){var b=m-G[$],O=A-G[$+1],a=b*b+O*O;if(a<H){H=a;J=$>>>1}}return H<Q*Q?J:-1};
N.H.jr=function(G,m,A,Q){for(var $=0;$<G.length;$+=2){var H=G[$],J=G[$+1],b=m[$],O=m[$+1];A[$]=H+(b-H)*Q;
A[$+1]=J+(O-J)*Q}};N.H.A=function(G,m,A){for(var $=0;$<G.length;$+=2){var Q=G[$],H=G[$+1];A[$]=Q*m.Uj+H*m.Qv+m.Zh;
A[$+1]=Q*m.h+H*m.nd+m.bx}};N.H.Cf=function(G,m,A){if(m==null)m=0;if(A==null)A=G.length;var Q=99999999999,H=-Q,J=99999999999,b=-J;
for(var $=m;$<A;$+=2){var O=G[$],a=G[$+1];Q=Math.min(Q,O);J=Math.min(J,a);H=Math.max(H,O);b=Math.max(b,a)}return new f_(Q,J,H-Q,b-J)};
N.H.Pk=function(G,m){var A=Math.max(m.x,Math.min(m.x+m.e,G.x)),Q=Math.max(m.y,Math.min(m.y+m.n,G.y)),H=G.x-A,J=G.y-Q;
return Math.sqrt(H*H+J*J)};N.H.Is=function(G){if(G.My())return new f_(Math.floor(G.x),Math.floor(G.y),Math.ceil(G.e),Math.ceil(G.n));
var m=Math.floor(G.x),A=Math.ceil(G.x+G.e),Q=Math.floor(G.y),H=Math.ceil(G.y+G.n);return new f_(m,Q,A-m,H-Q)};
N.H.Dd=function(G){return N.H.Is(N.H.Cf(G))};N.H.Zt=function(G){var m=G.x,A=G.y,Q=G.x+G.e,H=G.y+G.n;
return{C:["M","L","L","L","Z"],s:[m,A,Q,A,Q,H,m,H]}};N.H.concat=function(G,m,A){if(A==null)A=new ci;
for(var $=0;$<m.s.length;$+=2){var Q=m.s[$],H=m.s[$+1];G.s.push(Q*A.Uj+H*A.Qv+A.Zh);G.s.push(Q*A.h+H*A.nd+A.bx)}for(var $=0;
$<m.C.length;$++)G.C.push(m.C[$])};N.H.Iv=function(G){var m=G.s,A=[],Q=[],H=0,J=0,b=0,O=0,a=0,e=0,R=0,p=0,P=0;
for(var $=0;$<G.C.length;$++){var z=G.C[$];if(z=="M"){J=m[H];b=m[H+1];H+=2;Q.push(z);A.push(J,b)}else if(z=="C"){O=m[H];
a=m[H+1];e=m[H+2];R=m[H+3];p=m[H+4];P=m[H+5];H+=6;Q.push(z);A.push(O,a,e,R,p,P);J=p;b=P}else if(z=="Q"){O=m[H];
a=m[H+1];e=m[H+2];R=m[H+3];H+=4;var Z=O-J,W=a-b,T=e-O,i=R-a;Q.push("C");A.push(J+2/3*Z,b+2/3*W,O+1/3*T,a+1/3*i,e,R);
J=e;b=R}else if(z=="L"){O=m[H];a=m[H+1];H+=2;var X=O-J,U=a-b;Q.push("C");A.push(J,b,O,a,O,a);J=O;b=a}else Q.push(z)}return{C:Q,s:A}};
N.H.ag5=function(G){var m=G.s,A=[],Q=[],H=0;for(var $=0;$<G.C.length;$++){var J=G.C[$];if(J=="Q"){var b=m[H-2],O=m[H-1],a=m[H],e=m[H+1],R=m[H+2],p=m[H+3];
H+=4;var P=a-b,z=e-O,Z=R-a,W=p-e;Q.push("C");A.push(b+2/3*P,O+2/3*z,a+1/3*Z,e+1/3*W,R,p)}else{var T=0;
if(J=="M"||J=="L")T=2;else if(J=="C")T=6;for(var i=0;i<T;i++)A.push(m[H+i]);H+=T;Q.push(J)}}return{C:Q,s:A}};
N.H.qK=function(G,m){var A=G.s,Q=[],H=[],J=0,b=0,O=0,a=0,e=0,R=0,p=0,P=0,z=0;for(var $=0;$<G.C.length;
$++){var Z=G.C[$];if(Z=="M"){b=A[J];O=A[J+1];J+=2;H.push(Z);Q.push(b,O)}else if(Z=="C"){a=A[J];e=A[J+1];
R=A[J+2];p=A[J+3];P=A[J+4];z=A[J+5];J+=6;N.H.nl(b,O,a,e,R,p,P,z,m,H,Q,0);b=P;O=z}else H.push(Z)}return{C:H,s:Q}};
N.H.nl=function(G,m,A,Q,H,J,b,O,a,e,R,p){var P=Math.sqrt((b-G)*(b-G)+(O-m)*(O-m)),z=Math.sqrt((b-H)*(b-H)+(O-J)*(O-J))+Math.sqrt((H-A)*(H-A)+(J-Q)*(J-Q))+Math.sqrt((A-G)*(A-G)+(Q-m)*(Q-m)),Z=(P+z)/2;
if(Z<=a){e.push("C");R.push(A,Q,H,J,b,O)}else{var W=0,T=0,i=0,X=0,U=0,M=0,C=0,x=0,L=0,E=0,l=0,y=0,Y=0;
T=(G+A)/2;i=(m+Q)/2;X=(A+H)/2;U=(Q+J)/2;M=(H+b)/2;C=(J+O)/2;x=(T+X)/2;L=(i+U)/2;E=(X+M)/2;l=(U+C)/2;
y=(x+E)/2;Y=(L+l)/2;N.H.nl(G,m,T,i,x,L,y,Y,a,e,R,p+1);N.H.nl(y,Y,E,l,M,C,b,O,a,e,R,p+1)}};N.H.b8=function(G,m,A,Q,H){var J=Date.now(),b=N.H.a3K(G,m,A);
if(H){console.log("trace polygons",Date.now()-J);J=Date.now()}var O=[];for(var $=0;$<b.length;$++){var a=b[$],e=a[0],R=["M"],p=G[e[1]*m+e[0]];
if(e.length>8)e=N.H.TC(e,Q,a[1]);if(e.length<=4)continue;for(var P=2;P<e.length;P+=2)R.push("L");R.push("Z");
O.push({path:{s:e,C:R},color:p,parent:-1,vJ:N.H.Cf(e)})}if(H){console.log("simplify polygons",Date.now()-J);
J=Date.now()}for(var $=1;$<O.length;$++){var z=O[$].vJ;for(var P=$-1;P>=0;P--)if(O[P].vJ.ZM(z)){O[$].parent=P;
break}}if(H){console.log("checking parents",Date.now()-J);J=Date.now()}return O};N.H.a3K=function(G,m,A){var Q=m*A,H=new Uint16Array(m*A),b=0;
for(var $=0;$<Q;$++)H[$]=G[$];var J=new Uint8Array(m*A);J[1*m+1]=J[(A-1)*m+1]=J[1*m+m-1]=J[(A-1)*m+m-1]=1;
for(var O=1;O<A;O++)for(var a=1;a<m;a++){var $=O*m+a,e=H[$-m-1],R=H[$-m],p=H[$-1],P=H[$],z=e==P&&R==p&&e!=R,Z=0;
if(P<p){b=P;P=p;p=b}if(p<R){b=p;p=R;R=b}if(R<e){b=R;R=e;e=b}if(P<p){b=P;P=p;p=b}if(p<R){b=p;p=R;R=b}if(P<p){b=P;
P=p;p=b}if(e!=R)Z++;if(R!=p)Z++;if(p!=P)Z++;if(P!=e)Z++;if(Z>=3||z)J[$]=1}var W=[];for(var O=1;O<A;O++)for(var a=1;
a<m;a++){var $=O*m+a;if(H[$]!=H[$-1]){var T=N.H.a2v(H,m,A,a,O),i=[];for(var X=0;X<T.length;X+=2)if(J[T[X+1]*m+T[X]]==1)i.push(X>>>1);
W.push([T,i]);N.H.CA(H,m,A,a,O)}}return W};N.H.CA=function(G,m,A,Q,H){var J=[H*m+Q],b=G[H*m+Q];G[H*m+Q]=65535;
while(J.length!=0){var $=J.pop();G[$]=0;if(G[$+m]==b){J.push($+m);G[$+m]=65535}if(G[$-m]==b){J.push($-m);
G[$-m]=65535}if(G[$-1]==b){J.push($-1);G[$-1]=65535}if(G[$+1]==b){J.push($+1);G[$+1]=65535}}};N.H.a2v=function(G,m,A,Q,H){var J=[0,-1,1,0,0,1,-1,0],R=1;
function b(P,z,R){var $=e*m+a,Z=0;if(R==0)Z=$-m;else if(R==1)Z=$;else if(R==2)Z=$-1;else if(R==3)Z=$-m-1;
return G[Z]}var O=[],a=Q,e=H,p=b(a,e,R);do{O.push(a,e);a+=J[R*2];e+=J[R*2+1];if(b(a,e,R)!=p)R=R+1&3;
else if(b(a,e,R+3&3)!=p)R=R;else if(b(a,e,R+2&3)!=p)R=R+3&3}while(a!=Q||e!=H);return O};N.H.TC=function(G,m,A){var Q=G.length-2;
if(A&&A.length!=0){var H=A[0]*2,J=A[A.length-1]*2,b=H==0?Q:H-2,O=G.slice(J);for(var $=0;$<H;$++)O.push(G[$]);
if(H==J)O.push(.9*G[H]+.1*G[b],.9*G[H+1]+.1*G[b+1]);else O.push(G[H],G[H+1]);O=N.H.Jd(O,m);O.pop();O.pop();
for(var $=0;$<A.length-1;$++){var a=G.slice(A[$]*2,A[$+1]*2+2);a=N.H.Jd(a,m);for(var e=0;e<a.length-2;
e++)O.push(a[e])}return O}var R=G.slice(0);R.push(.9*G[0]+.1*G[Q],.9*G[1]+.1*G[Q+1]);R=N.H.Jd(R,m);R.pop();
R.pop();return R};N.H.Jd=function(G,m){var A=G.length-2,Q=G[0],H=G[1],J=G[A],b=G[A+1],O=J-Q,a=b-H,e=1/Math.sqrt(O*O+a*a),R=J*H-b*Q,p=-1,P=-1,z=0;
for(var $=2;$<A;$+=2){var Z=G[$],W=G[$+1],T=W*W*1e6+Z*Z,i=Math.abs(a*Z-O*W+R)*e;if(i>P||i==P&&T>z){P=i;
p=$;z=T}}if(P<m)return[Q,H,J,b];var X=N.H.Jd(G.slice(0,p+2),m),U=N.H.Jd(G.slice(p),m);for(var $=2;$<U.length;
$++)X.push(U[$]);return X};N.H.amc=function(){var G=function(Q,H,J,b,O,a){return(H-b)*(O-J)+(J-Q)*(a-b)>=0},m=function(Q,H,J,b,O,a,e,R){var p=e-J,P=R-b,z=O-J,Z=a-b,W=Q-J,T=H-b,i=p*p+P*P,X=p*z+P*Z,U=p*W+P*T,M=z*z+Z*Z,C=z*W+Z*T,x=1/(i*M-X*X),L=(M*U-X*C)*x,E=(i*C-X*U)*x;
return L>=0&&E>=0&&L+E<1},A=function(Q){var jw=Q.length>>>1,$=0;if(jw<3)return[];var H=[],J=[];for(var $=0;
$<jw;$++)J.push($);var b=jw;while(b>3){var O=J[($+0)%b],a=J[($+1)%b],e=J[($+2)%b],R=Q[2*O],p=Q[2*O+1],P=Q[2*a],z=Q[2*a+1],Z=Q[2*e],W=Q[2*e+1],T=!1;
if(G(R,p,P,z,Z,W)){T=!0;for(var i=0;i<b;i++){var X=J[i];if(X==O||X==a||X==e)continue;if(m(Q[2*X],Q[2*X+1],R,p,P,z,Z,W)){T=!1;
break}}}if(T){H.push(O,a,e);J.splice(($+1)%b,1);b--;$=0}else if($++>3*b)break}H.push(J[0],J[1],J[2]);
return H};return A}();N.H.abZ=function(G,m){var A={},Q={C:[],s:[]};for(var $=0;$<m.length;$+=3){var H=m[$]*2,J=m[$+1]*2,b=m[$+2]*2;
N.H.wS(G,H,J,Q,A);N.H.wS(G,H,b,Q,A);N.H.wS(G,J,b,Q,A)}return Q};N.H.wS=function(G,m,A,Q,H){if(m>A){var J=A;
A=m;m=J}if(H[m+","+A])return;H[m+","+A]=!0;Q.C.push("M","L");Q.s.push(G[m],G[m+1],G[A],G[A+1])};N.H.$L=function(G,m){var A=[],Q=G.length;
for(var $=0;$<Q;$+=2){var H=G[$],J=G[$+1],b=G[($+2)%Q],O=G[($+3)%Q];if(O<J){var a=J;J=O;O=a}if(J<m&&m<O){var e=(m-J)/(O-J);
A.push(H+e*(b-H))}}A.sort(function(R,p){return R-p});return A};N.H.zR=function(G,m,A,Q,H,J,b){var O=G-A,a=m-Q,e=H-A,R=J-Q,p=1/Math.sqrt(O*O+a*a),P=1/Math.sqrt(e*e+R*R),z=O*p,Z=a*p,W=e*P,T=R*P,i=Z*b,X=-z*b,U=-T*b,M=W*b,C=N.H.JW(i,X,z,Z,U,M,W,T),x=i+z*C,L=X+Z*C,C=N.H.JW(0,0,z,Z,x,L,-Z,z),E=z*C,l=Z*C;
return[Math.sqrt(E*E+l*l),z,Z,W,T]};N.H.W5=function(G,m,A,Q,H,J,b){var O=N.H.zR(G,m,A,Q,H,J,b),a=O[0],e=O[1],R=O[2],p=O[3],P=O[4],z=Math.atan2(e*P-R*p,e*p+R*P);
if(z<0){z=z*-1}var Z=Math.PI-z,W=4/3*Math.tan(Z/4),T=A+a*e,i=Q+a*R,X=A+a*p,U=Q+a*P,M=T+W*b*-e,C=i+W*b*-R,x=X+W*b*-p,L=U+W*b*-P;
return[0,0,T,i,M,C,x,L,X,U]};N.H.JW=function(G,m,A,Q,H,J,b,O){var a=b*(m-J)-O*(G-H),e=O*A-b*Q;if(e==0)return 0;
return a/e};N.H.W5(0,50,0,0,30,30,10);N.H8=function(){};N.H8.YT=function(G,m,A,Q,H){var J=A.e,b=A.n,O=J*b,a=new Int32Array(O),jw=0;
for(var $=0;$<O;$++)if(m[$]!=0){a[$]=jw;jw++}else if(G[($<<2)+3]<200){a[$]=-2}else a[$]=-1;if(jw==0)return;
var e=new N.b4(jw,jw),R=new Array(3*jw),p=new Array(3*jw);for(var $=0;$<p.length;$++)p[$]=R[$]=0;var P=1/255,z=[-J,-1,1,J],Z=[],W=[];
for(var T=0;T<b;T++)for(var i=0;i<J;i++){var X=T*J+i,U=X<<2,$=a[X],M=$*3,C=0,x=0,L=0;if($==-1||$==-2)continue;
for(var E=0;E<4;E++){if(E==2){x=L;Z[L]=0;W[L]=$;L++}var l=X+z[E],y=l<<2,Y=a[l];if(E==0&&T==0||E==1&&i==0||E==2&&i==J-1||E==3&&T==b-1||Y==-2)continue;
C++;if(Y==-1){R[M+0]+=G[y+0];R[M+1]+=G[y+1];R[M+2]+=G[y+2]}else{Z[L]=-1;W[L]=Y;L++;if(m[X]==m[l]){R[M+0]+=G[U+0]-G[y+0];
R[M+1]+=G[U+1]-G[y+1];R[M+2]+=G[U+2]-G[y+2]}}}Z[x]=C;e.xt(Z,W,L)}for(var $=0;$<O;$++)if(a[$]!=-1){var F=$<<2,w=a[$],j=w*3;
p[j]=G[F+0];p[j+1]=G[F+1];p[j+2]=G[F+2]}var _=Date.now();e.a2l(p,R,Q,H);console.log(Date.now()-_);for(var $=0;
$<O;$++){var w=a[$],D=w*3,F=$<<2;if(w==-1||G[F+3]!=255)continue;G[F+0]=~~(.5+Math.max(0,Math.min(255,p[D+0])));
G[F+1]=~~(.5+Math.max(0,Math.min(255,p[D+1])));G[F+2]=~~(.5+Math.max(0,Math.min(255,p[D+2])))}};N.rect={};
N.rect.LY=function(G,m){var A=[G],Q=[];for(var $=0;$<m.length;$++){var H=m[$],J=!1;for(var b=$+1;b<m.length;
b++){var O=m[b];if(O[0]<=H[0]&&O[1]<=H[1]&&H[2]<=O[2]&&H[3]<=O[3]){J=!0;break}}if(!J)Q.push(H)}m=Q;for(var $=0;
$<m.length;$++){var H=m[$];for(var b=0;b<A.length;b++){var O=A[b],a=Math.max(H[0],O[0]),e=Math.min(H[2],O[2]),R=Math.max(H[1],O[1]),p=Math.min(H[3],O[3]);
if(a<e&&R<p){var P=[];if(O[1]<H[1]){var z=O.slice(0);z[3]=H[1];P.push(z)}if(O[0]<H[0]){var Z=O.slice(0);
Z[1]=R;Z[2]=H[0];P.push(Z)}if(H[2]<O[2]){var W=O.slice(0);W[1]=R;W[0]=H[2];P.push(W)}if(H[3]<O[3]){var T=[a,p,e,O[3]];
P.push(T)}if(P.length!=0){A[b]=P[0];for(var i=1;i<P.length;i++)A.push(P[i])}}}A.push(H);A=N.rect.ae_(A)}A.sort(function(H,O){return H[1]!=O[1]?H[1]-O[1]:H[0]-O[0]});
for(var $=1;$<A.length;$++){var H=A[$-1],O=A[$];if(H[0]==O[0]&&H[1]==O[1]&&H[2]==O[2]&&H[3]==O[3]){A.splice(H[4]==null?$-1:$,1);
$--}}return A};N.rect.ae_=function(G){G=G.slice(0);for(var $=0;$<G.length;$++){var m=G[$],A=null;if(m[4]!=null)continue;
for(var Q=0;Q<G.length;Q++){var H=G[Q];if($==Q||H[4]!=null)continue;var J=m[0]==H[0],b=m[1]==H[1],O=m[2]==H[2],a=m[3]==H[3];
if(b&&a&&(m[2]==H[0]||m[0]==H[2])){A=[Math.min(m[0],H[0]),m[1],Math.max(m[2],H[2]),m[3]]}if(J&&O&&(m[3]==H[1]||m[1]==H[3])){A=[m[0],Math.min(m[1],H[1]),m[2],Math.max(m[3],H[3])]}if(A){G[$]=A;
G.splice(Q,1);break}}if(A){$--}}return G};N.rect.hk=function(G){var m=new f_;for(var $=0;$<G.length;
$++)m=m.wj(G[$]);return m};N.rect.a3Q=function(G,m){var A=N.rect.hk,Q=new UnionFind(G.length),x=1e3,L=1e3;
for(var $=0;$<G.length;$++)for(var H=$+1;H<G.length;H++){if(!m)continue;var J=G[$],b=G[H],p=1e9,P=1e9;
if(J.c0(b)){Q.link($,H);continue}var O=J.x+J.e,a=J.y+J.n,e=b.x+b.e,R=b.y+b.n;if((O<b.x||e<J.x)&&(a<b.y||R<J.y))continue;
if(!(a<b.y||R<J.y))p=Math.min(Math.abs(O-b.x),Math.abs(J.x-e));if(!(O<b.x||e<J.x))P=Math.min(Math.abs(a-b.y),Math.abs(J.y-R));
var z=Math.min(p,P),Z=Math.min(J.e,J.n,b.e,b.n);if(z<.3*Z)Q.link($,H)}var W=[],T={};for(var $=0;$<G.length;
$++){var i=Q.find($),X=G[$];if(T[i]==null){T[i]=W.length;W.push([])}W[T[i]].push(X)}var U=[],M=[];for(var $=0;
$<W.length;$++){U.push(A(W[$]));var C=A(W[$]);C.ou=$;M.push(C)}M.sort(function(t,K){return Math.max(K.n,K.e)-Math.max(t.n,t.e)});
var E=new NETXUS.RectanglePacker(x,L);while(!0){var l=!1;E.reset(x,L);for(var $=0;$<M.length;$++){var y=E.findCoords(M[$].e,M[$].n);
if(y){M[$].x=y.x;M[$].y=y.y}else{x=Math.floor(x*1.1);L=Math.floor(L*1.1);l=!0;break}}if(l)continue;break}for(var $=0;
$<W.length;$++){var Y=M[$],F=Y.ou,w=U[F],j=W[F],_=Y.x-w.x,D=Y.y-w.y;for(var H=0;H<j.length;H++)j[H].offset(_,D)}};
N.Kj=function(){};N.Kj.PV=Math.floor(16*window.devicePixelRatio);N.Kj.jg={};N.Kj.wp=0;N.Kj.xy=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
N.Kj.asL=["px","in","cm","mm","%"];N.Kj.p7=function(G,m,A,Q){var H=[1,m,m/2.54,m/25.4,A/100][Q];return G*H};
N.Kj.auC=function(G,m,A,Q){var H=[1,m,m/2.54,m/25.4,A/100][Q];return G/H};N.Kj.DO=function(G,m,A,Q,H){var J=A.bt.ww,b=[1,m,m/2.54,m/25.4,Q/100][J],O=[2,3,2,1,2][J];
G=G/b;var a=Math.round(G),e=J==0&&Math.abs(G-a)<1e-6?a+"":G.toFixed(O);if(H)e+=" "+N.Kj.asL[J];return e};
N.Kj.arY=function(G,m,A,Q){var H=A.bt.ww,J=[1,m,m/2.54,m/25.4,Q/100][H];G=parseFloat(G)*J;return G};
N.Kj.a8W=function(G,m){var A=G+","+m;if(N.Kj.jg.clr==A)return;var Q=Math.round(N.Kj.PV*.5);N.Kj.wp=Q;
var H=document.createElement("canvas");H.width=H.height=Q;var J=H.getContext("2d");J.font=Q*1.5+"px monospace";
var b="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var $=0;$<b.length;$++){J.fillStyle="#"+N.as(m);J.fillRect(0,0,Q,Q);
J.fillStyle="#"+N.as(G);J.fillText(b[$],0,Q);N.Kj.jg[b[$]]=J.getImageData(0,0,Q,Q).data}N.Kj.jg.clr=A};
N.Kj.auo=function(G,m,A){var Q=0,H=0,J=4*N.Kj.PV;for(var $=9;$>=0;$--){var b=Math.pow(10,$);if(5*b*G<=J){Q=5*b;
H=10;break}if(2*b*G<=J){Q=2*b;H=4;break}if(1*b*G<=J){Q=1*b;H=10;break}}if(Q==0){Q=1;H=10}var O=Math.ceil(Q*G),a=N.$(O*N.Kj.PV*4);
N.w8(a,4278190080|A);for(var $=0;$<N.Kj.PV;$++)N.Kj.Ht(a,4*$*O,m);for(var $=0;$<O;$++)N.Kj.Ht(a,4*((N.Kj.PV-1)*O+$),m);
if(Q==2)H=2;if(Q==5)H=5;if(Q>1||Q==1&&O>20)for(var $=1;$<H;$++)N.Kj.a1M(a,$*(O/H),O,($&1)==1?.8:.7,m);
return{R0:a,step:Q}};N.Kj.a1M=function(G,m,A,Q,H){var m=Math.round(m);for(var J=Math.round(N.Kj.PV*Q);
J<N.Kj.PV-1;J++)N.Kj.Ht(G,4*(J*A+m),H)};N.Kj.Ht=function(G,m,A){G[m+0]=A>>16&255;G[m+1]=A>>8&255;G[m+2]=A&255};
N.Kj.a4u=function(G,m,A,Q,H,J,b){var O=G.Td.e,a=G.Td.n,e=N.Kj.PV,R=m&255,p=m>>8&255,P=m>>16&255;m=Math.round(R*.6)<<16|Math.round(p*.6)<<8|Math.round(P*.6);
N.Kj.a8W(Math.round(R*.8)<<16|Math.round(p*.8)<<8|Math.round(P*.8),A);var z=G.V,Z=G.r,W=G.pI;for(var T=0;
T<2;T++){var i=T==0?J:b;G.V=i[0];G.r=i[1];G.pI=0;var X=this.auo(G.V,m,A),U=G.fY(0,0),M=G.fY(O,a),C=Math.floor(U.x/X.step)*X.step,x=Math.ceil(M.x/X.step)*X.step,L=Math.floor(U.y/X.step)*X.step,E=Math.ceil(M.y/X.step)*X.step,l=G.cD(C,L),y=G.cD(x,L),Y=X.step*G.V,F=Math.ceil(Y);
if(T==1){var w=X.R0;X.R0=N.$(w.length*4);N.N.kh(w,X.R0,F,e)}var j=T==0?G.i8.data:G.so.data,_=new f_(0,0,[O,e][T],[e,a][T]),D=new f_(0,0,[F,e][T],[e,F][T]),t=new f_([0,Math.round(e*.2)][T],[Math.round(e*.08),0][T],N.Kj.wp,N.Kj.wp),K=(T==0?x-C:E-L)/X.step;
for(var $=0;$<K;$++){if(T==0)D.x=Math.round(l.x+$*Y);else D.y=Math.round(l.y+$*Y);N.Pr(X.R0,D,j,_,D);
var d=(T==0?C+$*X.step:Math.abs(L+$*X.step)).toString(10);for(var o=0;o<d.length;o++){if(T==0)t.x=D.x+3+o*Math.round(N.Kj.wp*.8);
else t.y=D.y+3+o*Math.round(N.Kj.wp*1.15);var k=N.Kj.jg[d[o]];N.Pr(k,t,j,_,t)}}}G.V=z;G.r=Z;G.pI=W;var v=Math.floor(e*.6),u=new Uint32Array(G.i8.data.buffer),B=new Uint32Array(G.so.data.buffer),S=R<128?4278190080:4294967295;
if(0<Q&&Q<O)for(var $=0;$<v;$++)u[$*O+Q]=S;if(0<H&&H<a)for(var $=0;$<v;$++)B[H*e+$]=S};N.scale={};N.scale.O=document.createElement("canvas");
N.scale.JR=N.scale.O.getContext("2d");N.scale.QS=document.createElement("canvas");N.scale.$B=N.scale.QS.getContext("2d");
N.scale.ke=function(G,m,A){var Q=N.scale.O,H=N.scale.JR;Q.width=m;Q.height=A;var J=new ImageData(new Uint8ClampedArray(G.buffer),m,A);
H.putImageData(J,0,0);return H.createPattern(Q,"repeat")};N.scale.vy=function(G,m,A,Q,H,J,b,O,a){var e=N.scale.apr(G,A,Q,H,J,b,O,a).data;
if(m)N.Gy(e,m);return new Uint8Array(e.buffer)};N.scale.apr=function(G,m,A,Q,H,J,b,O){var a=N.scale.O,e=N.scale.JR;
a.width=m;a.height=A;e.rect(0,0,m,A);e.translate(J,b);e.scale(Q,H);if(O!=null)e.rotate(-O);e.fillStyle=G;
e.fill();return e.getImageData(0,0,m,A)};N.scale.A=function(G,m,A,Q,H){var J=A.clone();J.G3();var b=H.e,O=H.n,a=N.H.Zt(m).s;
N.H.A(a,J,a);var e=N.H.Dd(a).KB(H),R=e.x,p=e.y,P=R+e.e,z=p+e.n,Z=~~m.x,W=~~m.y,T=~~m.e,i=~~m.n;for(var X=p;
X<z;X++)for(var U=R;U<P;U++){var M=U+.5,C=X+.5,x=A.Uj*M+A.Qv*C+A.Zh-Z,L=A.h*M+A.nd*C+A.bx-W;if(0<=x&&0<=L&&x<T&&L<i)Q[X*b+U]=G[~~L*T+~~x]}};
N.scale.aM=function(G,m,A,Q,H){var J=new Uint32Array(G.buffer),b=new Uint32Array(Q.buffer),O=A.clone();
O.G3();var a=H.e,e=H.n,R=N.H.Zt(m).s;N.H.A(R,O,R);var p=N.H.Dd(R).KB(H),P=p.x,z=p.y,Z=P+p.e,W=z+p.n,T=~~m.x,i=~~m.y,X=~~m.e,U=~~m.n;
for(var M=z;M<W;M++)for(var C=P;C<Z;C++){var x=C+.5,L=M+.5,E=A.Uj*x+A.Qv*L+A.Zh-T,l=A.h*x+A.nd*L+A.bx-i;
if(0<=E&&0<=l&&E<X&&l<U)b[M*a+C]=J[~~l*X+~~E]}};N.scale.Sc=function(G,m,A,Q,H,J,b){if(b<1)N.scale.a1Z(G,m,A,Q,H,J,Math.round(1/b));
else N.scale.abB(G,m,A,Q,H,J,b)};N.scale.uG=function(G,m,A,Q,H,J,b,O){if(O)O=O.KB(new f_(0,0,m,A));G=new Uint32Array(G.buffer);
Q=new Uint32Array(Q.buffer);if(b<1)N.scale.au8(G,m,A,Q,H,J,Math.round(1/b),O);else N.scale.at7(G,m,A,Q,H,J,b)};
N.scale.abB=function(G,m,A,Q,H,J,b){for(var O=0;O<A;O++)for(var a=0;a<m;a++){var e=G[O*m+a],R=Math.min(b,H-a*b),p=Math.min(b,J-O*b);
for(var $=0;$<p;$++)for(var P=0;P<R;P++)Q[(b*O+$)*H+b*a+P]=e}};N.scale.a1Z=function(G,m,A,Q,H,J,b){for(var O=0;
O<J;O++)for(var a=0;a<H;a++){var e=0,R=Math.min(b,m-a*b),p=Math.min(b,A-O*b);for(var $=0;$<p;$++)for(var P=0;
P<R;P++)e+=G[(b*O+$)*m+(b*a+P)];Q[O*H+a]=Math.round(e/(R*p))}};N.scale.at7=function(G,m,A,Q,H,J,b){for(var O=0;
O<A;O++)for(var a=0;a<m;a++){var e=G[O*m+a],R=Math.min(b,H-a*b),p=Math.min(b,J-O*b);for(var $=0;$<p;
$++)for(var P=0;P<R;P++)Q[(b*O+$)*H+b*a+P]=e}};N.scale.af_=function(G,m,A){return(G>>>A&255)+(m>>>A&255)>>>1};
N.scale.Ph=function(G,m){var A=N.scale.af_;return A(G,m,24)<<24|A(G,m,16)<<16|A(G,m,8)<<8|A(G,m,0)};
N.scale.aob=function(G,m,A,Q,H,J){var b=new Uint32Array(G.buffer),O=new Uint32Array(Q.buffer);for(var a=0;
a<A;a++){for(var e=0;e<m;e++){var R=a*m+e,p=b[R],P=p,z=p,Z=p;if(e<m-1)P=N.scale.Ph(p,b[R+1]);if(a<A-1)z=N.scale.Ph(p,b[R+m]);
if(e<m-1&&a<A-1)Z=N.scale.Ph(p,b[R+m+1]);var W=(a*H+e)*2;O[W]=p;O[W+1]=P;O[W+H]=z;O[W+H+1]=Z}}if((H&1)==1)for(var a=0;
a<J;a++)O[a*H+H-1]=O[a*H+H-2];var T=H*(J-1);if((J&1)==1)for(var e=0;e<H;e++)O[T+e]=O[T-H+e]};N.scale.au8=function(G,m,A,Q,H,J,b,O){var a=0,e=H,R=0,p=J;
if(O){a=Math.floor(O.x/b);e=Math.ceil((O.x+O.e)/b);R=Math.floor(O.y/b);p=Math.ceil((O.y+O.n)/b)}for(var P=R;
P<p;P++)for(var z=a;z<e;z++){var Z=0,W=0,T=0,i=0,X=Math.min(b,m-z*b),U=Math.min(b,A-P*b);for(var $=0;
$<U;$++)for(var M=0;M<X;M++){var C=G[(b*P+$)*m+b*z+M],x=C>>>24;Z+=x;W+=x*(C>>>16&255);T+=x*(C>>>8&255);
i+=x*(C&255)}if(Z!=0){var L=1/Z;Q[P*H+z]=Z/(X*U)<<24|W*L<<16|T*L<<8|i*L}else Q[P*H+z]=0}};N.q={};N.q.a14=function(G,m,A){var Q=128,$=0,H=A.e,J=A.n;
for(var b=0;b<J;b++)for(var O=0;O<H;O++){if(G[$]>=Q&&(O==0||G[$-1]<Q||(O==H-1||G[$+1]<Q)||(b==0||G[$-H]<Q)||(b==J-1||G[$+H]<Q)))m[$]=255;
$++}};N.q.aiN=function(G,m,A,Q){var H=new Uint32Array([4278190080,4294967295]),J=A.e,b=A.n,O=0,a=0,e=J,R=b;
if(Q){O=Q.x-A.x;a=Q.y-A.y;e=O+Q.e;R=a+Q.n}var p=new Uint8Array(m.buffer),P=new Uint32Array(m.buffer);
for(var z=a;z<R;z++)for(var Z=O;Z<e;Z++){var $=z*J+Z;if((G[$]&128)!=0&&(z==0||(G[$-J]&128)==0||Z==0||(G[$-1]&128)==0||Z==J-1||(G[$+1]&128)==0||z==b-1||(G[$+J]&128)==0)){P[$]=H[(Z+z&4)>>>2]}}};
N.q.apd=function(G,m,A,Q,H,J){var b=A.e,O=A.n,a=0,e=0,R=b,p=O;if(Q){a=Q.x-A.x;e=Q.y-A.y;R=a+Q.e;p=e+Q.n}var P=new Uint8Array(m.buffer),z=new Uint32Array(m.buffer);
for(var Z=e;Z<p;Z++)for(var W=a;W<R;W++){var $=Z*b+W,T=G[$];if(H==1)z[$]=255-T>>>1<<24|255;else z[$]=255<<24|(T<<16|T<<8|T)}};
N.af={};N.af.BR=function(G,m,A){var Q,H;if(A==0){Q=G.rect.clone();H=N.af.a41}if(A==1){Q=G.rect.wj(m.rect);
H=N.af.wj}if(A==2){Q=m.rect.clone();H=N.af.a21}if(A==3){Q=G.rect.KB(m.rect);H=N.af.KB}if(A==4){Q=G.rect.wj(m.rect);
H=N.af.aiA}if(Q.My())return null;var J=N.$(Q.Z());N.qg(m.channel,m.rect,J,Q);var b=N.$(Q.Z());N.qg(G.channel,G.rect,b,Q);
H(b,J,J);var O=N.cP(J,Q);if(O.My())return null;if(!O.A5(Q)){var a=N.$(O.Z());N.qg(J,Q,a,O);J=a;Q=O}return{channel:J,rect:Q}};
N.af.a41=function(G,m,A){for(var $=0;$<G.length;$++)A[$]=G[$]};N.af.wj=function(G,m,A){for(var $=0;$<G.length;
$++)A[$]=Math.min(G[$]+m[$],255)};N.af.a21=function(G,m,A){for(var $=0;$<G.length;$++)A[$]=Math.max(m[$]-G[$],0)};
N.af.KB=function(G,m,A){var Q=1/255;for(var $=0;$<G.length;$++)A[$]=G[$]*m[$]*Q};N.af.aiA=function(G,m,A){var Q=1/255;
for(var $=0;$<G.length;$++)A[$]=Math.min(G[$]+m[$],255)-G[$]*m[$]*Q};N.b4=function(G,m){this.S=[];this.o3=[0];
this.ix=[];this.NA=[];this.oJ=[0];this.JB=[];this.Xk=[];this.rows=G;this.cols=m};N.b4.prototype.clone=function(){var G=this,m=G.rows,A=G.cols,Q=new N.b4(m,A);
Q.S=G.S.slice(0);Q.o3=G.o3.slice(0);Q.ix=G.ix.slice(0);Q.NA=G.NA.slice(0);Q.oJ=G.oJ.slice(0);Q.JB=G.JB.slice(0);
Q.Xk=G.Xk.slice(0);return Q};N.b4.prototype.xt=function(G,m,A){var Q=this.o3.length-1;for(var $=0;$<A;
$++){var H=G[$],J=m[$];this.S.push(H);this.ix.push(J);if(J==Q){this.Xk.push(H==0?0:1/H)}else{this.NA.push(H);
this.JB.push(J)}}this.o3.push(this.S.length);this.oJ.push(this.NA.length)};N.b4.prototype.xZ=function(G,m){var A=this,Q=A.rows,H=A.S,J=A.ix;
if(m==null)m=new Array(Q);for(var $=0;$<Q;$++){var b=A.o3[$],O=A.o3[$+1],a=0;while((O-b&3)!=0){a+=H[b]*G[J[b]];
b++}for(var e=b;e<O;e+=4)a+=H[e]*G[J[e]]+H[e+1]*G[J[e+1]]+H[e+2]*G[J[e+2]]+H[e+3]*G[J[e+3]];m[$]=a}return m};
N.b4.prototype.multiply=function(G){return this.T$(G.kh())};N.b4.prototype.T$=function(G){var m=this,A=m.rows,Q=m.cols,H=G.rows,J=new N.b4(A,H),b=m.ix,O=G.ix;
for(var $=0;$<A;$++){var a=[],e=[],R=m.o3[$],p=m.o3[$+1];for(var P=0;P<H;P++){var z=G.o3[P],Z=G.o3[P+1],W=0,T=R,i=z;
while(T<p&&i<Z){var X=Math.max(b[T],O[i]);while(T<p&&b[T]<X)T++;while(i<Z&&O[i]<X)i++;if(T<p&&i<Z&&b[T]==O[i])W+=m.S[T++]*G.S[i++]}if(W!=0){a.push(W);
e.push(P)}}J.xt(a,e,a.length)}return J};N.b4.prototype.kh=function(){var G=this.rows,m=this.cols,A=[];
for(var $=0;$<m;$++)A.push([[],[]]);var Q=this.S,H=this.o3,J=this.ix;for(var $=0;$<G;$++){var b=H[$],O=H[$+1];
for(var a=b;a<O;a++){var e=A[J[a]];e[0].push(Q[a]);e[1].push($)}}var R=new N.b4(m,G);for(var $=0;$<m;
$++)R.xt(A[$][0],A[$][1],A[$][1].length);return R};N.b4.prototype.tM=function(){var G=this.rows,m=this.cols,A=new Array(G),Q=this.S,H=this.o3,J=this.ix;
for(var $=0;$<G;$++){var b=A[$]=new Array(m);for(var O=0;O<m;O++)b[O]=0;var a=H[$],e=H[$+1];for(var R=a;
R<e;R++)b[J[R]]=Q[R]}return A};N.b4.prototype.Nh=function(G,m,A,Q,H){function J(L,m,E,l){var y=L.length;
for(var $=0;$<y;$++)l[$]=L[$]-m[$]*E}function b(L,m,E,l){var y=L.length,Y=0;while((y-Y&3)!=0){l[Y]=L[Y]+m[Y]*E;
Y++}for(var $=Y;$<y;$+=4){l[$]=L[$]+m[$]*E;l[$+1]=L[$+1]+m[$+1]*E;l[$+2]=L[$+2]+m[$+2]*E;l[$+3]=L[$+3]+m[$+3]*E}}function O(L,m,E){var l=L.length;
for(var $=0;$<l;$++)E[$]=L[$]*m[$]}function a(L,m){var E=L.length,l=0,y=0;while((E-l&3)!=0){y+=L[l]*m[l];
l++}for(var $=l;$<E;$+=4)y+=L[$]*m[$]+L[$+1]*m[$+1]+L[$+2]*m[$+2]+L[$+3]*m[$+3];return y}var e=Q!=null?2:1,R=Date.now(),p=0,P=this,z=G.slice(0),Z=G.slice(0);
P.xZ(G,Z);J(m,Z,1,z);var W=this.Xk;if(e==0){W=z.slice(0);W.fill(1)}var T=z.slice(0);O(W,z,T);var i=T.slice(0),X=a(z,T);
while(!0){P.xZ(i,Z);var U=X/a(i,Z);b(G,i,U,G);J(z,Z,U,z);if((p&7)==0&&Math.sqrt(a(z,z))<A)break;if(e<=1)O(W,z,T);
else{var M=z.slice(0);Q.aoU(M,z);H.aia(T,M)}var C=a(z,T),x=C/X;b(T,i,x,i);X=C;p++}};N.b4.prototype.amV=function(G,m,A,Q){var H=Date.now(),J=1.96,O=0;
if(A==null)A=5e-6;if(Q==null)Q=1e9;var b=1-J,jw=this.rows,a=this.NA,e=this.oJ,R=this.JB,p=this.Xk;while(!0){var P=0;
for(var $=0;$<jw;$++){var z=m[$],Z=e[$],W=e[$+1];if(W-Z==4)z-=a[Z]*G[R[Z]]+a[Z+1]*G[R[Z+1]]+a[Z+2]*G[R[Z+2]]+a[Z+3]*G[R[Z+3]];
else for(var T=Z;T<W;T++)z-=a[T]*G[R[T]];var i=G[$]*b+p[$]*z*J,X=i-G[$];P+=X*X;G[$]=i}if(P/jw<A||Date.now()>H+Q)break}};
N.b4.prototype.a2l=function(G,m,A,Q){var H=Date.now(),J=1.96,O=0;if(A==null)A=5e-5;if(Q==null)Q=1e9;
var b=1-J,jw=this.rows,a=this.NA,e=this.oJ,R=this.JB,p=this.Xk;while(!0){var P=0;for(var $=0;$<jw;$++){var z=$*3,Z=m[z],W=m[z+1],T=m[z+2],i=e[$],X=e[$+1];
for(var U=i;U<X;U++){var M=a[U],C=R[U]*3;Z-=M*G[C+0];W-=M*G[C+1];T-=M*G[C+2]}var x=p[$]*J,L=G[z+0]*b+Z*x,E=G[z+1]*b+W*x,l=G[z+2]*b+T*x,y=L-G[z+0],Y=E-G[z+1],F=l-G[z+2];
P+=.4*y*y+.5*Y*Y+.1*F*F;G[z+0]=L;G[z+1]=E;G[z+2]=l}if(P/jw<A||Date.now()>H+Q)break}};N.RH={};N.RH.eM=function(G,m,A){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:G},Vrtc:{t:"doub",v:m},Cnty:{t:"bool",v:A}}}};
N.RH.A=function(G,m){for(var $=0;$<G.length;$++){var A=G[$].v,Q=m.Yw(new dw(A.Hrzn.v,A.Vrtc.v));A.Hrzn.v=Math.round(Q.x);
A.Vrtc.v=Math.round(Q.y)}};N.RH.zY=function(G,m,A){var jw=G.length-1,Q=N.Nu.tC(jw+1,jw+2);for(var $=1;
$<jw;$++){Q[$][$-1]=1/(G[$]-G[$-1]);Q[$][$]=2*(1/(G[$]-G[$-1])+1/(G[$+1]-G[$]));Q[$][$+1]=1/(G[$+1]-G[$]);
Q[$][jw+1]=3*((m[$]-m[$-1])/((G[$]-G[$-1])*(G[$]-G[$-1]))+(m[$+1]-m[$])/((G[$+1]-G[$])*(G[$+1]-G[$])))}Q[0][0]=2/(G[1]-G[0]);
Q[0][1]=1/(G[1]-G[0]);Q[0][jw+1]=3*(m[1]-m[0])/((G[1]-G[0])*(G[1]-G[0]));Q[jw][jw-1]=1/(G[jw]-G[jw-1]);
Q[jw][jw]=2/(G[jw]-G[jw-1]);Q[jw][jw+1]=3*(m[jw]-m[jw-1])/((G[jw]-G[jw-1])*(G[jw]-G[jw-1]));N.Nu.x4(Q,A)};
N.RH.acl=function(G,m,A,Q){if(G<=m[0])return A[0];if(G>=m[m.length-1])return A[m.length-1];var $=1;while(m[$]<G)$++;
var H=m[$],J=m[$-1],b=A[$],O=A[$-1],a=(G-J)/(H-J),e=Q[$-1]*(H-J)-(b-O),R=-Q[$]*(H-J)+(b-O),p=(1-a)*O+a*b+a*(1-a)*(e*(1-a)+R*a);
return p};N.RH.Of=function(G,m,A,Q){var H={GW:[G[0]],Qd:[m[0]],w2:[]};Q[0]=H;for(var $=1;$<G.length-1;
$++){H.GW.push(G[$]);H.Qd.push(m[$]);if(A[$]==!1){N.RH.zY(H.GW,H.Qd,H.w2);H={GW:[G[$]],Qd:[m[$]],w2:[]}}Q[$]=H}H.GW.push(G[$]);
H.Qd.push(m[$]);N.RH.zY(H.GW,H.Qd,H.w2);Q[$]=H};N.RH._z=function(G,m,A,Q){if(G<=m[0])return A[0];if(G>=m[m.length-1])return A[m.length-1];
var $=1;while(m[$]<G)$++;var H=Q[$-1];return N.RH.acl(G,H.GW,H.Qd,H.w2)};N.RH.np=function(G){var m={GW:[],Qd:[],Lx:[]};
for(var $=0;$<G.length;$++){m.GW[$]=G[$].v.Hrzn.v;m.Qd[$]=G[$].v.Vrtc.v;m.Lx[$]=G[$].v.Cnty?G[$].v.Cnty.v:!0}return m};
N.RH.OY=function(G,jw,m){var A=0,Q=255;if(m){A=-1e9;Q=1e9}var H=N.RH.np(G),J=[];N.RH.Of(H.GW,H.Qd,H.Lx,J);
var b=[];for(var $=0;$<jw;$++)b[$]=1/255*Math.max(A,Math.min(Q,N.RH._z($*(255/(jw-1)),H.GW,H.Qd,J)));
return b};N.RH.a8H=function(G,jw,m){var A=Math.round(G.length/20),Q=jw-G.length,H=m?(G[A]-G[0])/A:0,J=m?G[0]-Q*H:G[G.length-1],b=[];
for(var $=0;$<Q;$++)b.push(J+$*H);return m?b.concat(G):G.concat(b)};N.RH.m7=function(G,jw,m){var A=N.RH.np(G),Q=[];
N.RH.Of(A.GW,A.Qd,A.Lx,Q);var H=new Uint8Array(jw),J=jw/256;for(var $=0;$<jw;$++)H[$]=Math.max(0,Math.min(jw-1,N.RH._z($*J,A.GW,A.Qd,Q)));
if(m){H[0]=0;if(H[1]>100)H[1]=.4*H[1];if(H[2]>150)H[1]=.7*H[2]}return H};N.RH.dU=function(G,m){var A=new Uint8Array(G.length);
for(var $=0;$<G.length;$++)A[$]=m[G[$]];return A};N.RH.pt=function(G,m,A){var Q=document.createElement("canvas");
Q.width=m;Q.height=A;var H=Q.getContext("2d"),J=N.RH.m7(G,256);H.scale(m/255,A/255);H.fillStyle="#fff";
H.fillRect(0,0,255,255);H.fillStyle="#333";H.beginPath();H.moveTo(0,255);for(var $=0;$<J.length;$++)H.lineTo($,255-J[$]);
H.lineTo(255,255);H.closePath();H.fill();return Q.toDataURL()};N.style={};N.style.stroke=function(G,m,A,Q){var H=A.e,J=A.n,b=new Float64Array(H*J);
N.style.$M(G,b,H,J);N.style.Dh(m,A,b,A,Q)};N.style.Dh=function(G,m,A,Q,H){var J=m.KB(Q),b=J.e,O=J.n;
H+=.5;var a=J.x-m.x,e=J.y-m.y,R=m.e,p=J.x-Q.x,P=J.y-Q.y,z=Q.e;for(var Z=0;Z<O;Z++){var W=(Z+P)*z+p,T=(Z+e)*R+a;
for(var i=0;i<b;i++){var X=Math.max(0,Math.min(1,H-A[W+i]));G[T+i]=Math.round(X*255)}}};N.style.a2d=function(G,m,A,Q){for(var H=0;
H<A;H++)for(var J=0;J<m;J++){var b=H*m+J,O=0,a=0,e=G[b];if(J==0||H==0){O=G[b+1]-e;a=G[b+m]-e}else if(J==A-1||H==m-1){O=e-G[b-1];
a=e-G[b-m]}else{O=G[b+1]-G[b-1];a=G[b+m]-G[b-m]}if(O!=0||a!=0){var R=1/Math.sqrt(O*O+a*a);O*=R;a*=R}Q[b+b]=O;
Q[b+b+1]=a}};N.style.$M=function(G,m,A,Q){var H=0,J=A*Q;for(var $=0;$<J;$++)H|=G[$];if(H==0){m.fill(1e9);
return}var b=N.style.YD(G,A,Q);for(var O=0;O<Q;O++)for(var a=0;a<A;a++){var $=O*A+a,e=b[$*2],R=b[$*2+1],p=(O+R)*A+a+e;
if(e==0&&R==0){m[$]=0;continue}var P=Math.sqrt(e*e+R*R),z=G[p]*(1/255),Z=1/P,W=Math.abs(e)*Z,T=Math.abs(R)*Z;
if(T>W){var i=T;T=W;W=i}m[$]=P+N.style.a8f(W,T,z)}};N.style.a8f=function(G,m,A){return(.5-A)*G};N.style.YD=function(G,m,A,Q){var H=new Int16Array(m*A*2);
N.style.asM(G,H,m,A,128);return H};N.style.asM=function(G,m,A,Q,H){var J=new Int32Array(A*Q);N.style.a36(G,J,A,Q,H);
N.style.ar9(J,m,A,Q)};N.style.a36=function(G,m,A,Q,H){var J=new Int32Array(Q);for(var b=0;b<A;b++){var O=A+Q;
for(var a=Q-1;a>=0;a--){if(G[a*A+b]>H)O=0;else O++;J[a]=O}O=A+Q;for(var a=0;a<Q;a++){if(G[a*A+b]>H)O=0;
else O++;m[a*A+b]=O<J[a]?-O:J[a]}}};N.style.ar9=function(G,m,A,Q){var H=(A+Q)*(A+Q),J=new Float64Array(A),b=new Uint16Array(A);
for(var O=0;O<Q;O++){var a=O*A,e=0;b[0]=0;J[0]=-H;J[1]=+H;for(var R=1;R<A;R++){var p=G[R+a]*G[R+a]+R*R,P=(p-(G[b[e]+a]*G[b[e]+a]+b[e]*b[e]))/(2*R-2*b[e]);
while(P<=J[e]){e--;P=(p-(G[b[e]+a]*G[b[e]+a]+b[e]*b[e]))/(2*R-2*b[e])}e++;b[e]=R;J[e]=P;J[e+1]=H}e=0;
for(var R=0;R<A;R++){while(J[e+1]<R)e++;var z=b[e]-R,Z=G[b[e]+a],$=O*A+R<<1;m[$]=z;m[$+1]=Z}}};N.style.gq=function(G,m,A){if(A)for(var $=0;
$<G.length;$++){var Q=G[$];if(Q>0)G[$]=Math.max(0,Math.min(255,Q+m*2*(N.style.SG($)-128)))}else for(var $=0;
$<G.length;$++){var Q=G[$];if(Q>0)G[$]=Math.max(0,Math.min(255,Q+Math.min(Q*3,m*2*(N.style.SG($)-128))))}};
N.style.SG=function(G){G=G^61^G>>16;G=G+(G<<3);G=G^G>>4;G=G*668265261;G=G^G>>15;return G&255};N.r7={};
N.r7.VM=function(G,m,A){var Q=G.canvas;if(Q.width!=m||Q.height!=A){Q.width=m;Q.height=A}};N.r7.Ed=function(G,m,A,Q,H,J){N.r7.VM(G,m,A);
if(J==null)J=!1;var b=H.channel,O=H.rect,a=!H.isEnabled;if(m*A==0)return;var e=G.createImageData(m,A),R=e.data,p=1/m,P=1/A;
for(var $=0;$<A;$++)for(var z=0;z<m;z++){var Z=$*m+z,W=Z*4,T=Math.round(Q.x+z*p*Q.e),i=Math.round(Q.y+$*P*Q.n),X=0;
if(T<O.x||T>=O.x+O.e||i<O.y||i>=O.y+O.n)X=H.color;else X=b[(i-O.y)*O.e+(T-O.x)];X=255*(255-H.an)+X*H.an>>>8;
if(J)X=170+Math.round(.4*(X-170));R[W]=X;R[W+1]=X;R[W+2]=X;R[W+3]=255}G.putImageData(e,0,0);if(a)N.r7.I0(G,m,A)};
N.r7._G=[];N.r7.ac2=function(G,m,A,Q){var H,J,b;H=Math.ceil(Math.max(m,A)*.35);J=m-H;b=A-H;var O=N.r7._G[H];
if(O==null){var a=N.t7(H,H);a.fillStyle="#eeeeee";a.fillRect(0,0,H,H);var e=Math.round(H*.27),R=a.lineWidth=Math.max(1,Math.round(H*.12)),p=R/2;
a.strokeRect(1+p,1+p,H-R-2,H-R-2);a.strokeRect(e+p,e+p,H-e-e-R,H-e-e-R);O=N.r7._G[H]=a.getImageData(0,0,H,H)}G.putImageData(O,J,b)};
N.r7.OE=[];N.r7.ad_=function(G,m,A){var Q,H,J;Q=Math.ceil(Math.max(m,A)*.35);H=m-Q;J=A-Q;var b=N.r7.OE[Q];
if(b==null){var O=N.t7(Q,Q);O.fillStyle="#eeeeee";O.fillRect(0,0,Q,Q);O.lineWidth=1;O.strokeRect(2.5,2.5,Q-5,Q-5);
var a=O.createImageData(3,3);N.w8(a.data,4278190080);a.data[4*4]=a.data[4*4+1]=a.data[4*4+2]=238;O.putImageData(a,1,1);
O.putImageData(a,Q-4,1);O.putImageData(a,1,Q-4);O.putImageData(a,Q-4,Q-4);b=N.r7.OE[Q]=O.getImageData(0,0,Q,Q)}G.putImageData(b,H,J)};
N.r7.a7m=function(G,m,A,Q,H){N.r7.VM(G,m,A);var J=m/Q.e;if(m*A==0)return;G.fillStyle="#999999";G.setTransform(1,0,0,1,0,0);
G.clearRect(0,0,m,A);var b=N.r7.re;if(b==null){b=N.r7.re=JSON.parse(JSON.stringify(hK.nh.default));b.strokeEnabled.v=!0}b.strokeStyleLineWidth.v.val=1/J;
G.fillStyle="#ffffff";G.scale(J,J);N.U.$m(H.Y,G,0,0);N.U.$m(H.Y,G,0,0,b)};N.r7.Wu=null;N.r7.yf=function(G,m,A,Q,H,J,b,O){N.r7.VM(G,m,A);
if(m*A==0)return;var a=Math.max(m,A),e=N.r7.Wu;if(e==null||e.width<a||e.height<a){N.r7.Wu=e=G.createImageData(a,a)}a=e.width;
var R=e.data,p=Q.e/m,P=Q.n/A,z=J.x,Z=J.x+J.e,W=J.y,T=J.y+J.n;for(var $=0;$<A;$++)for(var i=0;i<m;i++){var X=$*a+i,U=X*4,M=~~(Q.x+i*p),C=~~(Q.y+$*P),x=N.At($,i,2);
if(M<z||M>=Z||C<W||C>=T){R[U]=x;R[U+1]=x;R[U+2]=x;R[U+3]=255}else{var L=(C-J.y)*J.e+(M-J.x)<<2,E=H[L+3]*(1/255);
R[U]=H[L+0]*E+x*(1-E);R[U+1]=H[L+1]*E+x*(1-E);R[U+2]=H[L+2]*E+x*(1-E);R[U+3]=255}}if(O!=null)for(var $=0;
$<R.length;$+=4)R[$]=R[$+1]=R[$+2]=R[$+O];G.putImageData(e,0,0);if(b)N.r7.I0(G,m,A)};N.r7.aci=function(G,m,A,Q){N.r7.VM(G,m,A);
G.fillStyle=N.r7.SR(Q.Clr.v);G.fillRect(0,0,m,A);N.r7.Dw(G,m,A)};N.r7.Oq=null;N.r7.a5H=function(G,m,A,Q){N.r7.VM(G,m,A);
var H=G.canvas.width,J=G.canvas.height,b=N.r7.Oq;if(b==null||b.width!=H||b.height!=J){G.fillStyle="#ffffff";
G.fillRect(0,0,m,A);G.fillStyle="#000000";G.font=""+A*.7+"px serif";G.fillText("T",(m-A*.43)/2,A*.75);
G.fillText("T",(m-A*.43)/2,A*.75);N.r7.Oq=G.getImageData(0,0,H,J)}else G.putImageData(b,0,0)};N.r7.akK=function(G,m,A){N.r7.VM(G,m,A);
G.clearRect(0,0,m,A);G.font=A*.7+"px serif";G.fillText(":(",(m-A*.43)/2,A*.7)};N.r7.aam=function(G,m,A,Q){N.r7.VM(G,m,A);
var H=hE.get(Q),J=G.canvas.width,b=N.r7.$e[J+H];if(b==null){var O=PIMG["adj/"+H],a=dt.k6(O),e=UPNG.decode(a.buffer),R=new Uint8Array(UPNG.toRGBA8(e)[0]),p=new f_(0,0,160,160),P=0,z=J-P*2,Z=f.Q.fK([R,p],new ci(z/160,0,0,z/160,0,0)),W=new f_(0,0,J,J),T=N.$(W.Z()*4);
N.a.zc("norm",Z.buffer,Z.rect,T,W,Z.rect,1);b=N.r7.$e[J+H]=new ImageData(new Uint8ClampedArray(T.buffer),J,J)}G.putImageData(b,0,0)};
N.r7.$e={};N.r7.aev=function(G,m,A,Q){N.r7.VM(G,m,A);var H=G.canvas.width,J=G.canvas.height,b=G.getImageData(0,0,H,J);
N.X.Ut(Q.Grad.v,new Uint8Array(b.data.buffer),new f_(0,0,H,J),[1/H,0,0,1/J],H/2,J/2,!1,0,16711680,65280);
G.putImageData(b,0,0);N.r7.Dw(G,m,A)};N.r7.a4Z=function(G,m,A,Q,H){N.r7.VM(G,m,A);var J=G,b=en.Qf(Q.Ptrn.v,H.add.Patt);
if(b==null)return;var O=b.g3[1];N.r7.yf(G,m,A,O,b.g3[0],O,!1);N.r7.Dw(J,m,A)};N.r7.I0=function(G,m,A){G.strokeStyle="#bb0000";
G.lineWidth=3;G.beginPath();G.moveTo(m*.15,A*.15);G.lineTo(m*.85,A*.85);G.moveTo(m*.85,A*.15);G.lineTo(m*.15,A*.85);
G.closePath();G.stroke()};N.r7.Dw=function(G,m,A){G.fillStyle="#eeeeee";G.fillRect(0,A*.75,m,A*.25);
G.beginPath();G.moveTo(0,A*.75);G.lineTo(m,A*.75);G.moveTo(m*.1,A*.875);G.lineTo(m*.9,A*.875);G.moveTo(m*.65,A*.825);
G.lineTo(m*.65,A*.95);G.closePath();G.stroke()};N.r7.SR=function(G){var m=N.X.SR(G),A=Math.round(m.p)<<16|Math.round(m.z)<<8|Math.round(m.h);
return"#"+N.as(A)};N.U={};N.U.g4=function(G,m,A){var Q=[],H=-1;for(var $=0;$<G.length;$++){var J=G[$];
if((J.type==0||J.type==3)&&J._t!=-1)H++;if(J.type>5||J.type==0||J.type==3)continue;if(m!=null&&m.indexOf(H)==-1)continue;
if(A!=null&&A.indexOf($)==-1)continue;Q.push(J.ed.x);Q.push(J.ed.y);Q.push(J.M.x);Q.push(J.M.y);Q.push(J.Gd.x);
Q.push(J.Gd.y)}return Q};N.U.KJ=function(G,m,A,Q){var H=0,J=-1;for(var $=0;$<m.length;$++){var b=m[$];
if((b.type==0||b.type==3)&&b._t!=-1)J++;if(b.type>5||b.type==0||b.type==3)continue;if(A!=null&&A.indexOf(J)==-1)continue;
if(Q!=null&&Q.indexOf($)==-1)continue;b.ed.QU(G[H],G[H+1]);b.M.QU(G[H+2],G[H+3]);b.Gd.QU(G[H+4],G[H+5]);
H+=6}};N.U.T6=function(G,m,A,Q){var H=N.U.g4(G,A,Q);N.H.A(H,m,H);N.U.KJ(H,G,A,Q)};N.U.aq_=function(G,m,A,Q){var H=N.U.g4(G,A,Q);
N.N.A(m,H);N.U.KJ(H,G,A,Q)};N.U.al9=function(G,m,A,Q){if(A==null&&Q==null){var H=N.U.aaG(G,40);for(var $=0;
$<H.length;$++)G[$]=H[$]}var J=N.U.g4(G,A,Q);N.ls.A(m,J,N.H.Cf(J));N.U.KJ(J,G,A,Q)};N.U.aaG=function(G,m){var A=[];
for(var $=0;$<G.length;$++){var Q=G[$];if(Q.type>5){A.push(JSON.parse(JSON.stringify(Q)));continue}var H=N.U.adB(G,$+1,Q.length);
H=N.H.qK(H,m);var J=N.U.atH(H);$+=Q.length;Q=JSON.parse(JSON.stringify(Q));Q.length=J.length;A.push(Q);
for(var b=0;b<J.length;b++)A.push(J[b])}return A};N.U.adB=function(G,m,A){var Q={C:["M"],s:[]},H=G[m],J=G[m+A-1];
Q.s.push(H.M.x,H.M.y);for(var $=1;$<A;$++){var b=G[m+$-1],O=G[m+$];Q.C.push("C");Q.s.push(b.Gd.x,b.Gd.y,O.ed.x,O.ed.y,O.M.x,O.M.y)}Q.C.push("C");
Q.s.push(J.Gd.x,J.Gd.y,H.ed.x,H.ed.y,H.M.x,H.M.y);return Q};N.U.atH=function(G){var m=[],A=G.C,Q=G.s,H=0,jw=Q.length;
m.push({type:2,ed:new dw(Q[jw-4],Q[jw-3]),M:new dw(Q[0],Q[1]),Gd:new dw(Q[2],Q[3])});for(var $=0;$<A.length-2;
$++){var J=$*6+4;m.push({type:2,ed:new dw(Q[J],Q[J+1]),M:new dw(Q[J+2],Q[J+3]),Gd:new dw(Q[J+4],Q[J+5])})}return m};
N.U.acc=function(G){for(var $=0;$<G.length;$++){if(G[$].type>5)continue;var m=G[$].length;if(!(m==4||m==6||m==8)){$+=m;
continue}for(var A=0;A<m;A++){var Q=G[$+1+A],H=G[$+1+(A+1)%m],J=Math.min(Q.M.x,H.M.x),b=Math.min(Q.M.y,H.M.y),O=0,a=0;
if(Q.M.x<H.M.x){O=Q.M.y-b;a=O-(H.M.x-J)}else{O=H.M.y-b;a=O-(Q.M.x-J)}if(Math.abs(a)<.2*O)return O}}return-1};
N.U.jX=function(G,m,A){function Q(P,z){var Z=Math.min(P.x,z.x),W=Math.min(P.y,z.y),T=Math.max(P.x+P.e,z.x+z.e),i=Math.max(P.y+P.n,z.y+z.n);
return new f_(Z,W,T-Z,i-W)}var H=null,J=-1,b=!N.U.Lz(G);for(var $=0;$<G.length;$++){var O=G[$];if(O.type>5)continue;
if((O.type==0||O.type==3)&&O._t!=-1)J++;if(m!=null&&m.indexOf(J)==-1)continue;if($==G.length-1)break;
var a=O.type==3,e=O.length,R=O._t,p=N.U.a9o(G,$+1,e,a);if(H==null)H=p;else if(A)H=Q(H,p);else if(b){if(m!=null||R==0||R==-1||R==2)H=Q(H,p);
else if(R==1)H=H;else if(R==3){H=p;b=!1}}else{if(m!=null||R==0||R==-1||R==1)H=Q(H,p);else if(R==2)H=H;
else if(R==3)H=H.KB(p)}$+=e}if(H==null||H.e<0||H.n<0)H=new f_(0,0,0,0);return H};N.U.aaC=new Float64Array(4);
N.U.a9o=function(G,$,m,A){var Q=N.U.aaC;Q[0]=1e30;Q[1]=1e30;Q[2]=-1e30;Q[3]=-1e30;var H=G[$+m-1];if(!A)N.U.Xr(H.M.x,H.M.y,H.Gd.x,H.Gd.y,G[$].ed.x,G[$].ed.y,G[$].M.x,G[$].M.y,Q);
for(var J=$;J<$+m-1;J++){var b=G[J],O=G[J+1];N.U.Xr(b.M.x,b.M.y,b.Gd.x,b.Gd.y,O.ed.x,O.ed.y,O.M.x,O.M.y,Q)}return new f_(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1])};
N.U.Xr=function(G,m,A,Q,H,J,b,O,a){if(G==A&&m==Q&&H==b&&J==O){a[0]=Math.min(a[0],Math.min(G,b));a[1]=Math.min(a[1],Math.min(m,O));
a[2]=Math.max(a[2],Math.max(G,b));a[3]=Math.max(a[3],Math.max(m,O));return}var e=G,R=m,p=G,P=m,z=40,Z=1/(z-1);
for(var W=0;W<z;W++){var T=W*Z,i=1-T,X=i*i*i,U=3*i*i*T,M=3*i*T*T,C=T*T*T,x=X*G+U*A+M*H+C*b,L=X*m+U*Q+M*J+C*O;
if(x<e)e=x;else if(x>p)p=x;if(L<R)R=L;else if(L>P)P=L}if(e<a[0])a[0]=e;if(R<a[1])a[1]=R;if(p>a[2])a[2]=p;
if(P>a[3])a[3]=P};N.U.TD=function(G,m){var A=G.length-3,Q=m%A,H=Math.floor(Q);if(m<0||H>=A)return null;
var J=G[3+H],b=G[3+(H+1)%A],O=J.M,a=J.Gd,e=b.ed,R=b.M,p=Q-H,P=1-p,z=P*P*P*O.x+3*P*P*p*a.x+3*P*p*p*e.x+p*p*p*R.x,Z=P*P*P*O.y+3*P*P*p*a.y+3*P*p*p*e.y+p*p*p*R.y;
return new dw(z,Z)};N.U.V$=function(G){var m=N.H.u3(G),A=m.dW;m.dW=Typr.U.pathToSVG({crds:A.s,cmds:A.C},2);
return m};N.U.Xq=function(G){N.U.eS();var m,A=N.U.ly(G),Q=[];for(var $=0;$<A.length;$++){var H=A[$][0],J=A[$][1];
if(Math.abs(H.area)<1e-5)Q.push(H);else if(m==null)m=H;else{if(!H.closed)H.closed=!0;m=m[J](H);m.remove()}}if(m==null)m=new paper.CompoundPath(Q);
else{if(m.segments)m=new paper.CompoundPath(m);for(var $=0;$<Q.length;$++){m.addChild(Q[$])}}var b=G.slice(0,2);
b=b.concat(N.U.$d(m));if(b[2])b[2]._t=1;for(var $=3;$<b.length;$++)if(b[$]._t!=null)b[$]._t=-1;return b};
N.U.eS=function(){if(N.U.anu==null){var G=document.createElement("canvas");paper.setup(G);N.U.anu=!0}};
N.U.akI=function(G,m){N.U.eS();var A=[],Q=N.U.ly(G),H=new paper.Path.Rectangle(new paper.Rectangle(m.x,m.y,m.e,m.n));
H.remove();H.fillColor=new paper.Color(1,0,0);for(var $=0;$<Q.length;$++){if(H.intersects(Q[$][0])||H.contains(Q[$][0].children[0].segments[0].point))A.push($)}return A};
N.U.yq=function(G,m,A,Q){N.U.eS();var H=A?{curves:!0,tolerance:Q}:null,J=new paper.Point(m.x,m.y),b=N.U.ly(G);
for(var $=b.length-1;$>=0;$--){var O=b[$][0],a=O.hitTest(J,H);if(a!=null)return{lW:$,IE:A?a.location.index:null}}return{lW:-1}};
N.U.$Y=function(G,m,A){var Q=[[],[],[]];for(var $=0;$<G.length;$++){var H=G[$];if(H.type>5||H.type==0||H.type==3)continue;
var J=A==null?!0:A.indexOf($)!=-1;if(m.EW(H.M))Q[0].push($);if(m.EW(H.ed)&&J)Q[1].push($);if(m.EW(H.Gd)&&J)Q[2].push($)}return Q};
N.U.apJ=function(G,m,A){var Q=A.slice(0),H=[null,null],J=-1,O=null;for(var $=2;$<G.length;$++){if((G[$].type==0||G[$].type==3)&&G[$]._t!=-1)J++;
H[$]=A[J]}A=H;var b=G.slice(0,2);H=A.slice(0,2);for(var $=2;$<G.length;$++){if(G[$].type==0||G[$].type==3){O=G[$];
b.push(O);H.push(A[$])}else{if(m.indexOf($)==-1){b.push(G[$]);H.push(A[$])}else{O.length--;N.Nv.mn(A,$)}}}for(var $=2;
$<b.length;$++){var a=b[$];if(a.type!=0&&a.type!=3)continue;if(a.length==0){if(b[$+1]&&b[$+1]._t==-1){b[$+1]._t=a._t}H.splice($,1);
b.splice($,1);$--}}for(var $=0;$<Q.length;$++)if(H.indexOf(Q[$])==-1){Q.splice($,1);$--}return b};N.U.ago=function(G,m){var A=G.slice(0,2),Q=-1;
for(var $=2;$<G.length;$++){if((G[$].type==0||G[$].type==3)&&G[$]._t!=-1)Q++;if(m.indexOf(Q)==-1)A.push(G[$])}return A};
N.U.ahP=function(G,m){var A=G.slice(0,2),Q=-1;for(var $=2;$<G.length;$++){if((G[$].type==0||G[$].type==3)&&G[$]._t!=-1)Q++;
if(m.indexOf(Q)!=-1)A.push(G[$])}return A};N.U.aul=function(G){var m=0;for(var $=0;$<G.length;$++)if(G[$].type==0||G[$].type==3)m=$;
return G[m]};N.U.Ya=function(G){var m=-1;for(var $=0;$<G.length;$++)if((G[$].type==0||G[$].type==3)&&G[$]._t!=-1)m++;
return m+1};N.U.sM=function(G,m,A){var Q=-1;for(var $=0;$<G.length;$++)if((G[$].type==0||G[$].type==3)&&(A||G[$]._t!=-1)){Q++;
if(Q==m)return $}return-1};N.U.ND=function(G,m,A){var Q=-1;for(var $=0;$<G.length;$++)if((G[$].type==0||G[$].type==3)&&(A||G[$]._t!=-1)){if($>=m)return Q;
Q++}return Q};N.U.Bc=function(G,m){var A=-1,Q=0;for(var $=0;$<G.length;$++){if((G[$].type==0||G[$].type==3)&&G[$]._t!=-1)A++;
if(A==m)Q++}return Q};N.U.a54=function(G){var m=180;for(var $=0;$<G.length;$++){if(G[$].type!=0&&G[$].type!=3)continue;
var A=G[$].length;if(A<3)continue;for(var Q=0;Q<A;Q++){var H=G[$+1+(Q-1+A)%A],J=G[$+1+Q],b=G[$+1+(Q+1)%A],O=J.M,a=J.ed.A5(O)?H.Gd:J.ed,e=J.Gd.A5(O)?b.ed:J.Gd;
if(O.A5(a)||O.A5(e))continue;var R=a.x-O.x,p=a.y-O.y,P=e.x-O.x,z=e.y-O.y,a=Math.atan2(a.y-O.y,a.x-O.x)*180/Math.PI,e=Math.atan2(e.y-O.y,e.x-O.x)*180/Math.PI,Z=Math.abs(e-a)%360,W=Z>180?360-Z:Z;
if(W<m)m=W}}return m*Math.PI/180};N.U.$d=function(G){var m=G.segments?[G]:G.children,A=[];for(var $=0;
$<m.length;$++){var Q=m[$],H=Q.segments,J=Q.closed?0:3,b=A.length,O=null;if(H.length<=1)continue;A.push({type:J,length:H.length,_t:0,Jk:2});
for(var a=0;a<H.length;a++){var e=H[a],R=new dw(e.handleIn.x,e.handleIn.y),p=new dw(e.handleOut.x,e.handleOut.y),P=new dw(e.point.x,e.point.y),z={type:J+1,ed:P.add(R),M:P,Gd:P.add(p)};
if(O==null)O=z;A.push(z);if(a+1==H.length&&dw.SH(O.M,z.M)<1e-5){A.pop();A[b].length--;O.ed=z.ed;if(J==3)for(var Z=b;
Z<A.length;Z++)A[Z].type-=3}}}return A};N.U.ly=function(G){N.U.eS();var m=[],A,Q=new paper.Color(1,0,0);
function H(z,O){z.remove();z.closed=!O;z.fillRule="evenodd"}for(var $=0;$<G.length;$++){if(G[$].type>5)continue;
var J=G[$].length,b;if($==G.length-1)break;var O=G[$].type==3;if($==2){if(!N.U.LH(G))b="subtract";else b="unite"}else{if(G[$]._t==0)b="exclude";
if(G[$]._t==1)b="unite";if(G[$]._t==2)b="subtract";if(G[$]._t==3)b="intersect"}if(G[$]._t!=-1){A=new paper.CompoundPath;
m.push([A,b]);A.fillRule="evenodd";A.fillColor=Q}var a=[];for(var e=0;e<J;e++){var R=G[$+1+e],p=R.ed.AV(R.M),P=R.Gd.AV(R.M);
a.push([[R.M.x,R.M.y],[p.x,p.y],[P.x,P.y]])}var z=new paper.Path(a);H(z,O);A.addChild(z);$+=J}return m};
N.U.Kt=function(G){for(var $=0;$<G.length;$++){var m=G[$];if(m.M==null)continue;if(!m.M.A5(m.ed)||!m.M.A5(m.Gd))return!1}return!0};
N.U.a0h=function(G){if(G.length<=5)return 0;var m=0,A=G.length-3-1;for(var $=0;$<A;$++){var Q=G[3+$],H=G[3+$+1];
if(Q.type==0||H.type==0)return 0;m+=(H.M.x-Q.M.x)*(Q.M.y+H.M.y)}m+=(G[3].M.x-G[3+A].M.x)*(G[3+A].M.y+G[3+1].M.y);
return-m*.5};N.U.Lz=function(G){var m=G[2],A=!1;if(G.length==2)A=G[1].all==0;else if(G[1].all==1){if(m._t==1||m._t==3)A=!0;
else A=!1}else{if(m._t==1||m._t==3||m._t==0)A=!0;else A=!1}return A};N.U.LH=function(G){var m=N.U.Lz(G);
for(var $=3;$<G.length;$++)if(G[$]._t==3)m=!0;return m};N.U.a7C=0;N.U.pb=0;N.U.a3g=0;N.U.atE=function(G,m,A,Q){if(A.My())return;
var H=A.Z(),i=16384;N.U.a7C+=H;if(H>N.U.pb){N.U.pb=H}var J=A.e,b=A.n;if(Q==null&&N.U.Kt(G)){var O=!0;
for(var $=2;$<G.length;)if(G[$].length==2)$+=3;else{O=!1;break}if(O){return}if(N.U.eF(G)){m.fill(255);
var a=N.U.jX(G);if(a.Z()!=H){var e=1-(a.x-A.x),R=1-(a.y-A.y),p=1-(A.x+A.e-(a.x+a.e)),P=1-(A.x+A.n-(a.x+a.n)),z=~~(e*255),Z=~~(p*255),W=~~(R*255),T=~~(P*255);
m.fill(W,0,J);m[0]=~~(e*R*255);m[J-1]=~~(p*R*255);for(var $=J;$<H;$+=J){m[$]=z;m[$+J-1]=Z}m.fill(T,(b-1)*J,b*J);
m[H-J]=~~(e*P*255);m[H-1]=~~(p*P*255)}return}}var X=Math.ceil(J/i),U=Math.ceil(b/i),M=Math.ceil(J/X),C=Math.ceil(b/U),x=Date.now();
for(var L=0;L<U;L++)for(var E=0;E<X;E++){var l=E*M,y=L*C,Y=M,F=C,w=N.t7(Y,F);if(!N.U.Lz(G))w.fillRect(0,0,Y,F);
N.U.$m(G,w,-A.x-l,-A.y-y,Q);var j=new Uint8Array(w.getImageData(0,0,Y,F).data.buffer);if(Y==J&&F==b)N.gF(j,m,3);
else N.uC(j,new f_(l,y,Y,F),m,new f_(0,0,J,b))}};N.U.$m=function(G,m,A,Q,H){if(H!=null){var J=!1,b=!1,O=0,a=!1;
for(var $=0;$<G.length;$++){var e=G[$]._t;if(e!=null){O++;if(e==-1)J=!0;if(e>0)b=!0;if(G[$].type==0)a=!0}}if(!J&&O<20&&(H==null||a))G=N.U.Xq(G)}for(var $=0;
$<G.length;$++){if(G[$].type>5)continue;var R=G[$].length;if(R==0)continue;if($==G.length-1)break;var p=G[$].type==3,e=G[$]._t;
if(e!=-1&&H==null){var P=["xor","source-over","destination-out","source-in"][e];m.globalCompositeOperation=P}if(G[$]._t!=-1){m.beginPath();
if(H){var z=H.strokeStyleLineWidth.v.val,Z=H.strokeStyleLineAlignment.v.strokeStyleLineAlignment,W=H.strokeStyleLineCapType.v.strokeStyleLineCapType,T=H.strokeStyleLineJoinType.v.strokeStyleLineJoinType,i=H.strokeStyleMiterLimit.v,X=[],U=H.strokeStyleLineDashSet.v;
for(var M=0;M<U.length;M++)X.push(U[M].v.val*z);m.setLineDash(X);m.lineCap=["butt","round","square"][hK.nh.tJ.indexOf(W)];
m.lineJoin=["miter","round","bevel"][hK.nh.join.indexOf(T)];m.lineWidth=hK.nh.rr.indexOf(Z)==1?z:z*=2;
m.miterLimit=i}}N.U.a2H(m,G,$+1,R,A,Q,p);if(p){}else m.closePath();if(G[$+1+R]==null||G[$+1+R]._t!=-1){if(H)m.stroke();
else m.fill("evenodd")}$+=R}m.globalCompositeOperation="source-over"};N.U.a2H=function(G,m,$,A,Q,H,J){var b=m[$],O=null;
G.moveTo(b.M.x+Q,b.M.y+H);for(var a=$;a<$+A-1;a++){b=m[a];O=m[a+1];G.bezierCurveTo(b.Gd.x+Q,b.Gd.y+H,O.ed.x+Q,O.ed.y+H,O.M.x+Q,O.M.y+H)}if(!J){b=m[a];
O=m[$];G.bezierCurveTo(b.Gd.x+Q,b.Gd.y+H,O.ed.x+Q,O.ed.y+H,O.M.x+Q,O.M.y+H)}};N.U.ano=function(G,m){var A=[],Q=m?4:1;
for(var $=0;$<G.length;$+=2){var H=new dw(G[$],G[$+1]);A.push({type:Q,ed:H.clone(),M:H.clone(),Gd:H.clone()})}return A};
N.U.ap=function(G,m){N.U.eS();var A=new paper.Path;A.remove();var Q=G.length-1,H=Math.sqrt((G[Q-1]-G[0])*(G[Q-1]-G[0])+(G[Q]-G[1])*(G[Q]-G[1]))<3;
A.closed=H;for(var $=0;$<G.length;$+=2)A.add(new paper.Point(G[$],G[$+1]));A.simplify(m);var J=[{type:6},{type:8,all:0}];
J=J.concat(N.U.$d(A));return J};N.U.e$=function(G,m,A){var Q=G[m].length,H=G[m].type,J=0,b=G.slice(m+1,m+1+Q);
for(var $=0;$<Q;$++){var O=A[($-1+Q)%Q],a=A[($+1+Q)%Q],e=A[$];if(e!=0){var R=b[($-1+Q)%Q].M,p=b[($+0+Q)%Q].M,P=b[($+1+Q)%Q].M,z=dw.SH(p,R),Z=dw.SH(p,P),W=N.H.zR(R.x,R.y,p.x,p.y,P.x,P.y,e)[0],T=Math.min(W,O==0?z:z/2,a==0?Z:Z/2);
e*=T/W;var i=N.H.W5(R.x,R.y,p.x,p.y,P.x,P.y,e),X={type:H+1,ed:new dw(i[2],i[3]),M:new dw(i[2],i[3]),Gd:new dw(i[4],i[5])},U={type:H+1,ed:new dw(i[6],i[7]),M:new dw(i[8],i[9]),Gd:new dw(i[8],i[9])};
G.splice(m+J+1,1,X,U);J++;G[m].length++}J++}};N.U.Kt=function(G){for(var $=0;$<G.length;$++){var m=G[$],A=m.type;
if(A==1||A==2||A==4||A==5)if(!m.M.A5(m.ed)||!m.M.A5(m.Gd))return!1}return!0};N.U.eF=function(G){if(G.length!=7||!N.U.Kt(G))return!1;
for(var $=0;$<4;$++){var m=!0;for(var A=0;A<4;A++){var Q=G[3+($+A&3)],H=G[3+($+A+1&3)];if(Q.M.x!=H.M.x&&Q.M.y!=H.M.y)m=!1}if(m)return!0}return!1};
N.U.Y0={};N.U.Y0.U6=function(G,m,A){var Q=[{type:6},{type:8,all:0}],H=null;Q.push({type:A?3:0,_t:1,length:0,Yh:0,Xl:0,Jk:1});
if(m==0)H==null;else if(m instanceof Array)H=m;else{H=[];for(var $=0;$<G.length;$+=2)H.push(m)}Q=Q.concat(N.U.ano(G,A));
Q[2].length=Q.length-3;if(H)N.U.e$(Q,2,H);return Q};N.U.Y0.alC=function(G,m,A,Q,H){var J=[],b=[],O=.553,a=1,e=-1;
J.push({type:1,ed:new dw(0,O),M:new dw(0,0),Gd:new dw(0,-O)});H+=2;for(var $=0;$<H;$++){var R={type:1};
if($==0){R.M=new dw(1,-1);R.ed=new dw(1-O,-1);R.Gd=new dw(1+O,-1)}else{var p=-($+2)*Math.PI/2,P=1+(($&1)==1?$-1:$),z=Math.sin(p),Z=Math.cos(p);
a+=P*(z-Z);e+=P*(Z+z);R.M=new dw(a,e);R.ed=new dw(a+P*Z*O,e-P*z*O);if(($&1)==1)P+=2;R.Gd=new dw(a-P*Z*O,e+P*z*O)}var W={type:1,ed:new dw(-R.Gd.x,-R.Gd.y),M:new dw(-R.M.x,-R.M.y),Gd:new dw(-R.ed.x,-R.ed.y)};
J.push(R);if($<H-2)b.push(W)}b.reverse();J=J.concat(b);var T=[{type:6},{type:8,all:0}];T.push({type:0,_t:1,length:J.length,Yh:0,Xl:0,Jk:1});
T=T.concat(J);var i=new ci(A/H,0,0,A/H,0,0);i.rotate(Q);i.translate(G,m);N.U.T6(T,i);return T};N.U.Y0.Rect=function(G,m,A,Q,H){var J=[G,m,G+A,m,G+A,m+Q,G,m+Q];
return N.U.Y0.U6(J,H)};N.U.Y0.m3=function(G,m,A,Q,H,J,b,O){var a=[],e=2*Math.PI/H;for(var $=0;$<H;$++)a.push(Math.cos($*e-Q),Math.sin($*e-Q));
if(b!=null){var R=N.H.Cf(a),p=R.e,P=R.n,z=b/(p/2),Z=O/(P/2);for(var $=0;$<a.length;$+=2){a[$]=(a[$]-(R.x+p/2))*z;
a[$+1]=(a[$+1]-(R.y+P/2))*Z}A=1}var W=new ci(A,0,0,A,0,0);W.translate(G,m);N.H.A(a,W,a);return N.U.Y0.U6(a,J)};
N.U.Y0.fw=function(G,m,A,Q,H,J,b){var O=[],a=Math.PI/H;for(var $=0;$<H*2;$++){var e=($&1)==0?1:b;O.push(e*Math.cos($*a),e*Math.sin($*a))}var R=new ci(A,0,0,A,0,0);
R.rotate(Q);R.translate(G,m);N.H.A(O,R,O);return N.U.Y0.U6(O,J)};N.U.Y0.vm=function(G,m,A,Q,H){return N.U.Y0.Bx(0,G,m,A,Q,H)};
N.U.Y0.a32=function(G,m,A,Q,H,J){return N.U.Y0.Bx(1,G,m,A,Q,H,J)};N.U.Y0.oi=function(G,m,A,Q,H,J){return N.U.Y0.Bx(2,G,m,A,Q,H,J)};
N.U.Y0.Bx=function(G,m,A,Q,H,J,b){var O=Math.sqrt((Q-m)*(Q-m)+(H-A)*(H-A)),a;J/=2;if(G==0)a=[-J,0,J,0,J,O,-J,O];
if(G==1){var e=J*2*b*1.3/1.5,R=J*b;a=[-J,0,J,0,J,O-e,R,O-e,0,O,-R,O-e,-J,O-e]}if(G==2){var e=b[3],R=b[2]/2,p=e*(2/3)*b[4]/100,P=e-p,z=e;
a=[];if(b[0])a.push(-J,P,-R,z,0,0,R,z,J,P);else a.push(-J,0,J,0);if(b[1])a.push(J,O-P,R,O-z,0,O,-R,O-z,-J,O-P);
else a.push(J,O,-J,O)}var Z=new ci(1,0,0,1,0,0);Z.rotate(Math.atan2(-H+A,Q-m)+Math.PI/2);Z.translate(m,A);
N.H.A(a,Z,a);return N.U.Y0.U6(a,0)};N.U.Y0.dd=function(G,m,A,Q){var H=[{type:6},{type:8,all:0}],p=.553;
H.push({type:0,_t:1,length:4,Yh:0,Xl:0,Jk:1});var J=G,b=m,O=G+A,a=m+Q,G=(J+O)/2,m=(b+a)/2,e=(J-O)/2,R=(b-a)/2;
H.push({type:1,ed:new dw(G-p*e,m-R),M:new dw(G,m-R),Gd:new dw(G+p*e,m-R)});H.push({type:1,ed:new dw(G+e,m-p*R),M:new dw(G+e,m),Gd:new dw(G+e,m+p*R)});
H.push({type:1,ed:new dw(G+p*e,m+R),M:new dw(G,m+R),Gd:new dw(G-p*e,m+R)});H.push({type:1,ed:new dw(G-e,m+p*R),M:new dw(G-e,m),Gd:new dw(G-e,m-p*R)});
return H};N.U.Y0.a1N=function(G,m,A,Q,H){var J=[{type:6},{type:8,all:0}];J.push({type:3,_t:1,length:5,Yh:0,Xl:0,Jk:1});
var b=(H-Q)/4;for(var $=0;$<5;$++){var O=$*b,a=Math.cos(O),e=Math.sin(O),R=.553*(b/(Math.PI/2)),p=e*R,P=-a*R,z=new dw(a,e);
J.push({type:4,ed:$==0?z.clone():new dw(a+p,e+P),M:z,Gd:$==4?z.clone():new dw(a-p,e-P)})}var Z=new ci;
Z.rotate(-Q);Z.scale(A,A);Z.translate(G,m);N.U.T6(J,Z);return J};N.iZ={};N.iZ.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
N.iZ.zK=function(G){var m=G.warpStyle.v.warpStyle;if(m=="warpNone")return!0;else if(m=="warpCustom"){var A=!1,Q=G.customEnvelopeWarp.v.meshPoints.v.arr,H=Q[0].arr,J=Q[1].arr;
for(var $=0;$<4;$++)for(var b=0;b<4;b++){if(Math.abs(H[$]-H[b*4+$])>1||Math.abs(J[$*4]-J[$*4+b])>1)A=!0}return!A}else return G.warpValue.v==0&&G.warpPerspective.v==0&&G.warpPerspectiveOther.v==0};
N.iZ.$=function(G){var m={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(G){m.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:G.y}},Left:{t:"UntF",v:{type:"#Pxl",val:G.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:G.y+G.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:G.x+G.e}}}};
m.uOrder={t:"long",v:4};m.vOrder={t:"long",v:4}}return m};N.iZ.a3I=function(G,m,A,Q){for(var $=0;$<G.length;
$+=2){var H=G[$],J=G[$+1],b=(H-m.x)/m.e,O=(J-m.y)/m.n,a=(1-A)/2,e=1-a,R=a+b*(e-a);O=.5+(O-.5)*R*2;var p=(1-Q)/2,P=1-p,z=p+O*(P-p);
b=.5+(b-.5)*z*2;H=m.x+b*m.e;J=m.y+O*m.n;G[$]=H;G[$+1]=J}};N.iZ.LX=function(G,m){var A=[],Q=[];for(var $=0;
$<G.length;$+=2){A.push(G[$]);Q.push(G[$+1])}var H=[];H.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:A});
H.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:Q});m.warpStyle.v.warpStyle="warpCustom";m.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:H}}}}};
N.iZ.vE=function(G,m){if(m==null){var A=G.bounds.v,Q=A.Left.v.val,H=A.Rght.v.val,J=A.Top.v.val,b=A.Btom.v.val;
m=new f_(Q,J,H-Q,b-J)}if(m.My())m.e=m.n=1;var O=[],a=G.warpStyle.v.warpStyle;if(a=="warpCustom"){var e=G.customEnvelopeWarp.v.meshPoints.v.arr,R=e[0].arr,p=e[1].arr;
for(var $=0;$<16;$++)O.push(R[$],p[$])}else O=N.iZ.iZ(m,a,G.warpRotate.v.Ornt=="Hrzn",G.warpValue.v/100,G.warpPerspective.v/100,G.warpPerspectiveOther.v/100);
return O};N.iZ.iZ=function(G,m,A,Q,H,J){var b=N.ls.$(G.x,G.y,G.e,G.n);if(m=="warpNone")return b;var O=JSON.parse(JSON.stringify(G)),a=new ci;
if(!A){a.translate(-G.x,-G.y);a.rotate(-Math.PI/2);a.translate(G.n,0);N.H.A(b,a,b);G=new f_(0,0,G.n,G.e);
b=N.ls.Zq(b,!1)}N.iZ.aoH(b,G,m,Q,H,J);if(!A){b=N.ls.Zq(b,!0);G=O;a.G3();N.H.A(b,a,b)}if(Q==0)N.iZ.a3I(b,G,H,J);
else{var a=new ci(1/G.e,0,0,1/G.n,-G.x,-G.y);a.translate(-.5,-.5);N.H.A(b,a,b);N.iZ.afI(b,J,H);a.G3();
N.H.A(b,a,b)}return b};N.iZ.aoH=function(G,m,A,Q,H,J){for(var $=0;$<4;$++){for(var b=0;b<4;b++){var O=2*(4*$+b),a=G[O]-m.x,e=G[O+1]-m.y,R=a,p=e;
if(Q!=0){var P=m.e/2,z=m.n/2;R-=P;p-=z;var Z=R,W=R,T=-z,i=z,X=Math.abs(Q),U=Math.tan((1-X)*Math.PI/2),M=Math.sqrt(U*U+1),C=Math.atan2(1,U),x=R/P*C,L=P*M,E=P*M+m.n,l=Math.cos(C),y=Math.sin(C),Y=N.iZ.afX(l,y),F=N.iZ.aqZ(l,y),w=-U*P+Y*L;
if(A=="warpArc"){Z=Math.sin(x)*E;T=U*P-Math.cos(C)*E+z;W=Math.sin(x)*L;i=U*P-Math.cos(C)*L+z;if(b==1||b==2){Z=b==1?-F*E:F*E;
W=b==1?-F*L:F*L;T=U*P+z-Y*E;i=U*P+z-Y*L}if(Q<0){var j=Z;Z=W;W=j;j=T;T=-i;i=-j}}if(A=="warpArcLower"){if(b==1||b==2){W=b==1?-F*L:F*L;
i=Q<0?z-w:z+w}}if(A=="warpArcUpper"||A=="warpArch"||A=="warpBulge"){if(b==1||b==2){Z=b==1?-F*L:F*L;T=Q<0?-z+w:-z-w}if(A=="warpArch"){W=Z;
i=T+2*z}if(A=="warpBulge"){W=Z;i=-T}}if(A=="warpFish"||A=="warpFlag"||A=="warpWave"){if(b==1){T-=Q*4*z;
i+=Q*4*z}if(b==2){T+=Q*4*z;i-=Q*4*z}if(A=="warpFlag"||A=="warpWave")T=i-2*z}if(A=="warpRise"){if(b<2)T=-z+Q*z*4;
i=T+2*z}var _=(p+z)/m.n;R=Z+_*(W-Z);p=T+_*(i-T);if(A=="warpWave"){if($==0)p=-z;if($==3)p=z;if($==1||$==2)p=2*z*($/3-.5)*(1/3)+p*(2/3)}if(A=="warpFisheye"){if(($==1||$==2)&&(b==1||b==2)){R=R+4*R*Q;
p=p+4*p*Q}}if(A=="warpInflate"){var D=2/3;if(($==1||$==2)&&(b==1||b==2)){R=R+.5*R*Q;p=p+.5*p*Q}else if($==1||$==2)R=R+D*R*Q;
else if(b==1||b==2)p=p+D*p*Q}if(A=="warpSqueeze"){var D=2/3;if(($==1||$==2)&&(b==1||b==2)){if(Q>0)R=R-D*R*Q;
else p=p+D*p*Q}else if($==1||$==2)R=R-D*R*Q;else if(b==1||b==2)p=p+D*p*Q}if(A=="warpTwist"){if(($==1||$==2)&&(b==1||b==2)){var t=Q*Math.PI/2,M=1+Math.abs(Q)*2,K=R*Math.cos(t)-p*Math.sin(t),d=R*Math.sin(t)+p*Math.cos(t);
R=K*M;p=d*M}}if(A=="warpShellLower"||A=="warpShellUpper"){if(A=="warpShellUpper"){$=3-$;p=-p}if($>2||$==2&&(b==0||b==3)){if(Q>0){var o=L+$/3*2*z;
R=Math.sin(x)*o;p=-U*P-z+Math.cos(x)*o;if(b==1||b==2){R=b==1?-F*o:F*o;p=-U*P-z+Y*o}}else{if((b==1||b==2)&&$==3){R=b==1?-F*L:F*L;
p=U*P-Y*L+z}else if($==2){p=z-z*(2/3)*Math.cos(x);R=R+z*(2/3)*Math.sin(x)}}}if(A=="warpShellUpper"){$=3-$;
p=-p}}R+=P;p+=z}a=R,e=p;G[O]=a+m.x;G[O+1]=e+m.y}}};N.iZ.afI=function(G,m,A){var Q=[];for(var H=0;H<4;
H++)Q.push(1-A+H/3*2*A);var J=[];for(var H=0;H<4;H++)J.push(1-m+H/3*2*m);var b=[0,0,0,0],O=[0,0,0,0];
for(var $=0;$<4;$++)for(var H=0;H<4;H++){var a=2*(4*$+H),e=G[a],R=G[a+1];b[H]+=e/4;O[H]+=R/4}for(var $=0;
$<4;$++)for(var H=0;H<4;H++){var p=Q[H],a=2*(4*$+H),e=G[a],R=G[a+1],P=b[H],z=O[H];G[a]=P+p*(e-P);G[a+1]=z+p*(R-z)}var Z=G.slice(0);
for(var $=0;$<4;$++)for(var H=1;H<3;H++){var a=2*(4*$+H),e=G[a],R=G[a+1],W=a+(H==1?-2:2),T=G[W],i=G[W+1];
G[a]=e-T;G[a+1]=R-i}var X=G[0],U=G[1],M=G[8],C=G[9],x=G[16],L=G[17],E=G[24],l=G[25],y=G[6],Y=G[7],F=G[14],w=G[15],j=G[22],_=G[23],D=G[30],t=G[31],K=y-X,d=Y-U,o=F-M,k=w-C,v=j-x,u=_-L,B=D-E,S=t-l;
for(var $=0;$<4;$++){var I=2*$*4,q=0,hw=0,fY=$==1?.33:.66,s=1-fY;if($==0){q=K;hw=d}if($==1){q=s*K+fY*-B;
hw=s*d+fY*-S}if($==2){q=s*K+fY*-B;hw=s*d+fY*-S}if($==3){q=-B;hw=-S}G[I]=G[I]+q/2;G[I+1]=G[I+1]+hw/2;
G[I+6]=G[I+6]-q/2;G[I+7]=G[I+7]-hw/2}for(var $=0;$<4;$++)for(var H=1;H<3;H++){var a=2*(4*$+H),e=G[a],R=G[a+1],W=a+(H==1?-2:2),T=G[W],i=G[W+1],p=2*$/3;
G[a]=T+p*e;G[a+1]=i+p*R}for(var $=1;$<3;$++)for(var H=1;H<3;H++){var a=2*(4*$+H),e=G[a],R=G[a+1],hZ=$==1?-8:-16,bG=$==1?16:8,aY=G[a+hZ],fj=G[a+hZ+1],jg=G[a+bG],ae=G[a+bG+1],p=$/3;
e=(1-p)*aY+p*jg;R=(1-p)*fj+p*ae;G[a]=e;G[a+1]=R}N.H.jr(Z,G,G,m)};N.iZ.afX=function(G,m){return(4-G)*(1/3)};
N.iZ.aqZ=function(G,m){return(1-G)*(3-G)/(3*m)};N.iI={};N.iI.akB=function(G,m,A,Q,H,J,b,O,a,e){for(var R=0;
R<O;R++)for(var p=0;p<b;p++){var P=3*(R*b+p),z=R+J,Z=p+H,W=G[z*m+Z];Q[P]=W;Q[P+1]=W;Q[P+2]=W}};N.iI.Sc=function(G,m,A,Q,H,J,b,O,a,e){var R=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],p=1/a,P=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],z=new Uint32Array(6);
for(var Z=0;Z<O;Z++){for(var W=0;W<b;W++){var T=3*(Z*b+W),i=Z+J,X=W+H;z[0]=0;z[1]=0;z[2]=0;z[3]=0;z[4]=0;
z[5]=0;for(var $=0;$<16;$+=2){var U=X+P[$],M=i+P[$+1],C=U-a*~~(U*p),x=M-a*~~(M*p),L=e[x*a+C];z[L]+=G[M*m+U];
z[L+3]++}var U=X,M=i,C=U-a*~~(U*p),x=M-a*~~(M*p),L=e[x*a+C];z[L]=G[i*m+X];z[L+3]=1;Q[T]=z[0]*R[z[3]];
Q[T+1]=z[1]*R[z[4]];Q[T+2]=z[2]*R[z[5]]}}};N.iI.j4=function(G,m,A){for(var $=0;$<A;$+=2)G[m+$]=G[m+$+1];
m=m+A;for(var $=0;$<A;$+=2)G[m+$+1]=G[m+$]};N.iI.JK=function(G,m,A,Q){for(var $=0;$<Q;$+=2){var H=m+$*A;
G[H]=G[H+A];G[H+A+1]=G[H+1]}};N.iI.b3=function(G,m,A,Q,H,J){var b=Q[H],O=Q[H+1],a=Q[J],e=Q[J+1],R=O+a>>>1;
G[m]=G[m+3]=G[A]=G[A+3]=b;G[m+1]=R;G[m+4]=O;G[A+1]=a;G[A+4]=R;G[m+2]=G[m+5]=G[A+2]=G[A+5]=e};N.iI.akx=function(G,m,A,Q,H,J){var b=J*3;
for(var $=0;$<J;$+=2){var O=m+$,a=H+$*3;N.iI.b3(Q,a,a+b,G,O,O+A)}};N.iI.a9K=function(G,m,A,Q,H,J,b){var O=J*3;
for(var $=0;$<b;$+=2){var a=m+$*A,e=H+$*J*3;N.iI.b3(Q,e,e+O,G,a,a+A)}};N.iI.E9=function(G,$,m){var A=G[$-m-m],Q=G[$-m],H=G[$-2],J=G[$-1],b=G[$],O=G[$+1],a=G[$+2],e=G[$+m],R=G[$+m+m],p=Math.abs(Q-e),P=Math.abs(J-O),z=Math.abs(b-A)*2+p,Z=Math.abs(b-a)*2+P,W=Math.abs(b-H)*2+P,T=Math.abs(b-R)*2+p,i=Math.min(z,Math.min(Z,Math.min(W,T)));
if(i==z)return Q*3+e+b-A>>2;if(i==Z)return O*3+J+b-a>>2;if(i==W)return J*3+O+b-H>>2;return e*3+Q+b-R>>2};
N.iI.M7=function(G,m,A,Q,H){if(G<m&&m<A||G>m&&m>A)return~~(.5+Q+(H-Q)*(m-G)/(A-G));else return(Q+H>>1)+(m+m-G-A>>2)};
N.iI.L6=function(G,m,$,A){var Q=m[$-A-1],H=m[$-A+1],J=m[$],b=m[$+A-1],O=m[$+A+1],a=G[$-A-1],e=G[$-A+1],R=G[$],p=G[$+A-1],P=G[$+A+1],z=Math.abs(e-p)+Math.abs(G[$-A-A+2]-R)+Math.abs(R-G[$+A+A-2])+Math.abs(H-J)+Math.abs(J-b),Z=Math.abs(a-P)+Math.abs(G[$-A-A-2]-R)+Math.abs(R-G[$+A+A+2])+Math.abs(Q-J)+Math.abs(J-O);
if(z<Z)return N.iI.M7(H,J,b,e,p);else return N.iI.M7(Q,J,O,a,P)};N.iI.cm=function(G,m,A,Q,H,J){G[m+0]=A[H];
G[m+1]=Q[H];G[m+2]=N.iI.L6(A,Q,H,J)};N.iI.BS=function(G,m,A,Q,H,J){var b=Q[H];G[m+0]=N.iI.M7(Q[H-1],b,Q[H+1],A[H-1],A[H+1]);
G[m+1]=b;G[m+2]=N.iI.M7(Q[H-J],b,Q[H+J],A[H-J],A[H+J])};N.iI.NM=function(G,m,A,Q,H,J){var b=Q[H];G[m+0]=N.iI.M7(Q[H-J],b,Q[H+J],A[H-J],A[H+J]);
G[m+1]=b;G[m+2]=N.iI.M7(Q[H-1],b,Q[H+1],A[H-1],A[H+1])};N.iI.F_=function(G,m,A,Q,H,J){G[m+0]=N.iI.L6(A,Q,H,J);
G[m+1]=Q[H];G[m+2]=A[H]};N.iI.am6=function(G,m,A,Q,H,J,b,O,a){var e=Date.now(),R=2,p=m-2,P=2;if((H&1)==1){R++;
p--}var z=A-2;if((J&1)==1){P++;z--}if(a==1||a==3){R++;p--}var Z=G.slice(0);N.iI.j4(Z,0,m);N.iI.JK(Z,0,m,A);
N.iI.JK(Z,m-2,m,A);N.iI.j4(Z,(A-2)*m,m);for(var W=P;W<z;W+=2)for(var T=R;T<p;T+=2){var $=W*m+T,i=N.iI.E9(Z,$,m),X=N.iI.E9(Z,$+m+1,m);
Z[$]=Math.max(0,i);Z[$+m+1]=Math.max(0,X)}var U=b,M=O;if(J+O==A){M-=2;N.iI.akx(G,(A-2)*m+H,m,Q,(O-2)*b*3,b)}if(H+b==m){U-=2;
N.iI.a9K(G,J*m+H+b-2,m,Q,(b-2)*3,b,O)}if(a==0)for(var W=0;W<M;W+=2)for(var T=0;T<U;T+=2){var C=(W+J)*m+T+H,x=(W*b+T)*3;
N.iI.cm(Q,x,G,Z,C,m);N.iI.BS(Q,x+3,G,Z,C+1,m);C+=m;x+=3*b;N.iI.NM(Q,x,G,Z,C,m);N.iI.F_(Q,x+3,G,Z,C+1,m)}else if(a==1)for(var W=0;
W<M;W+=2)for(var T=0;T<U;T+=2){var C=(W+J)*m+T+H,x=(W*b+T)*3;N.iI.BS(Q,x,G,Z,C,m);N.iI.cm(Q,x+3,G,Z,C+1,m);
C+=m;x+=3*b;N.iI.F_(Q,x,G,Z,C,m);N.iI.NM(Q,x+3,G,Z,C+1,m)}else if(a==2)for(var W=0;W<M;W+=2)for(var T=0;
T<U;T+=2){var C=(W+J)*m+T+H,x=(W*b+T)*3;N.iI.F_(Q,x,G,Z,C,m);N.iI.NM(Q,x+3,G,Z,C+1,m);C+=m;x+=3*b;N.iI.BS(Q,x,G,Z,C,m);
N.iI.cm(Q,x+3,G,Z,C+1,m)}else if(a==3)for(var W=0;W<M;W+=2)for(var T=0;T<U;T+=2){var C=(W+J)*m+T+H,x=(W*b+T)*3;
N.iI.NM(Q,x,G,Z,C,m);N.iI.F_(Q,x+3,G,Z,C+1,m);C+=m;x+=3*b;N.iI.cm(Q,x,G,Z,C,m);N.iI.BS(Q,x+3,G,Z,C+1,m)}};
N.raw={};N.raw.agS=function(G){var m=Date.now(),A=G.width,Q=G.height,H=0,J=0,b=A,O=Q;if(G.t50829){var a=G.t50829;
H=a[1];J=a[0];b=a[3];O=a[2]}if(G.t50719){var e=G.t50719;H+=e[0]>>1<<1;J+=e[1]>>1<<1}if(G.t50720){var R=G.t50720;
b=H+R[0];O=J+R[1]}var p=b-H,P=O-J,z=N.raw.a6N(G),Z=G.t33422,W=G.t33421;if(W){var R=W[0],T=Z.slice(0);
for(var i=0;i<R;i++)for(var X=0;X<R;X++){var U=(X+(H&1))%R,M=(i+(J&1))%R;T[i*R+X]=Z[M*R+U]}Z=T}if(G.t277[0]==1)N.raw.a1H(z,A,Q,G,Z);
N.raw.FF(2,G,z,A,Q);var C=new Float32Array(p*P*3);if(G.t277[0]==1){if(W==null){N.iI.akB(z,A,Q,C,H,J,p,P)}else if(W.length!=2||W[0]!=2||W[1]!=2){console.log("Unknown CFA pattern size",W);
N.iI.Sc(z,A,Q,C,H,J,p,P,W[0],Z)}else{var x=G.t33422.join(","),L=0;if(x=="0,1,1,2")L=0;else if(x=="1,0,2,1")L=1;
else if(x=="2,1,1,0")L=2;else if(x=="1,2,0,1")L=3;else throw"Unknown CFA pattern "+x;if((p&1)!=0||(P&1)!=0)throw"e";
N.iI.am6(z,A,Q,C,H,J,p,P,L)}}else{for(var i=0;i<P;i++)for(var X=0;X<p;X++){var E=((i+J)*A+X+H)*3,l=(i*p+X)*3;
C[l+0]=z[E+0];C[l+1]=z[E+1];C[l+2]=z[E+2]}}var y=C,Y=C.length,F=N.raw.n$(G),w=1/F;for(var $=0;$<Y;$+=3){C[$]=y[$]*w;
C[$+1]=y[$+1]*w;C[$+2]=y[$+2]*w}N.raw.FF(3,G,C,p,P);var j=G.LC,_=p,D=P;if(j==1||j==9){}else{var t=N.raw.Xc(j,p,P),l=0;
_=t[0];D=t[1];var K=C.slice(0);for(var i=0;i<D;i++)for(var X=0;X<_;X++){var d=t[2]*X+t[3]*i+t[4],o=t[5]*X+t[6]*i+t[7],E=(o*p+d)*3;
C[l]=K[E];C[l+1]=K[E+1];C[l+2]=K[E+2];l+=3}}return{uw:C,Ze:_,Vg:D}};N.raw.Xc=function(G,m,A){var Q=m,H=A;
if(!1){}else if(G==2)return[m,A,-1,0,m-1,0,1,0];else if(G==3)return[m,A,-1,0,m-1,0,-1,A-1];else if(G==4)return[m,A,1,0,0,0,-1,A-1];
else if(G==5)return[A,m,0,1,0,1,0,0];else if(G==6)return[A,m,0,1,0,-1,0,A-1];else if(G==7)return[A,m,0,-1,m-1,-1,0,A-1];
else if(G==8)return[A,m,0,-1,m-1,1,0,0];else throw"unknown orientation "+G};N.raw.a1H=function(G,m,A,Q,H){var J=Date.now(),w=0,D=0;
if(N.raw.n$(Q)>4e4){for(var $=0;$<G.length;$++)G[$]>>=1;var b=["t50714","t50715","t50712","t50717"];
for(var $=0;$<b.length;$++){var O=Q[b[$]];if(O)for(var a=0;a<O.length;a++)O[a]>>>=1}console.log("remapping to lower bit depth")}var e=~~Math.sqrt(H.length),R=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],p=[];
for(var P=0;P<e;P++)for(var z=0;z<e;z++){var $=P*e+z,Z=H[$],W=4,T=4,i=8,X=0,U=0;for(var a=0;a<18;a+=2){var M=(e+z+R[a])%e,C=(e+P+R[a+1])%e,x=H[C*e+M];
if(x==Z){}else if(W==4){W=x;X=a}else if(T==4&&x!=W){T=x;U=a;break}}if(T<W){var L=T;T=W;W=L;L=U;U=X;X=L}if(W<Z){var L=W;
W=Z;Z=L;L=X;X=i;i=L}if(T<W){var L=T;T=W;W=L;L=U;U=X;X=L}p[$*3]=R[i+1]*m+R[i];p[$*3+1]=R[X+1]*m+R[X];
p[$*3+2]=R[U+1]*m+R[U]}var E=~~(.996*N.raw.n$(Q)),l=~~(.992*N.raw.n$(Q)),y=Q.t50728,Y=[],F=[0,0,0];for(var P=1;
P<A-1;P++)for(var z=1;z<m-1;z++){var $=P*m+z,j=P%e*e+z%e,Z=G[$+p[j*3+0]],W=G[$+p[j*3+1]],T=G[$+p[j*3+2]],_=Math.max(Z,W,T);
if(_>E)Y.push($);else if(_>l){F[0]+=Z;F[1]+=W;F[2]+=T;w++}}if(Y.length==0)return;if(w/(m*A)<1e-5){console.log("not enough semi-saturated pixels",w);
F=y}if(F[1]<F[D])D=1;if(F[2]<F[D])D=2;var t=[F[0]/F[D],F[1]/F[D],F[2]/F[D]],K=G.slice(0);for(var d=0;
d<Y.length;d++){var $=Y[d],P=~~($/m),z=$-P*m,j=P%e*e+z%e,o=Math.min(65535,~~(G[$+p[j*3+D]]*t[H[j]]));
if(o>K[$])K[$]=o}G.set(K)};N.raw.rZ=function(G,m,A,Q){var H=G.uw,J=Math.round(H.length/3),b=H.slice(0);
N.raw.$F(H,b,A,Q);var O=Math.pow(2,Q[2]),a=new Uint8Array(4e3);for(var $=0;$<4e3;$++){var e=$*(1/1e3);
e=N.LJ(e);e*=O;e=N.J5(e);e=Math.max(0,Math.min(1,e));e=N.raw.al.ajm(e,Q[3]/100);a[$]=~~(.5+255*e)}for(var $=0;
$<J;$++){var R=$<<2,p=R-$;m[R]=a[~~(b[p]*1e3)];m[R+1]=a[~~(b[p+1]*1e3)];m[R+2]=a[~~(b[p+2]*1e3)]}};N.raw.$F=function(G,m,A,Q){var H=Math.round(G.length/3),J=di.agZ(Q[0],Q[1]),b=N.raw.abU(A,J),O=N.zb.multiply(N.zb.Vt,b),a=Math.pow(2,A.t50730?A.t50730[0]:0);
O=N.zb.multiply(O,N.zb.wl(a,a,a));var e=N.raw.$F.aiF;if(e==null){e=N.raw.$F.aiF=new Float64Array(8e3);
for(var $=0;$<8e3;$++)e[$]=N.J5($*(1/1e3))}for(var $=0;$<H;$++){var R=$<<2,p=R-$,P=G[p],z=G[p+1],Z=G[p+2],W=O[0]*P+O[1]*z+O[2]*Z,T=O[4]*P+O[5]*z+O[6]*Z,i=O[8]*P+O[9]*z+O[10]*Z;
if(W<0)W=0;if(T<0)T=0;if(i<0)i=0;m[p]=e[~~(W*1e3)];m[p+1]=e[~~(T*1e3)];m[p+2]=e[~~(i*1e3)]}};N.raw.al={ajm:function(G,m){var A=.5-.5*Math.cos(G*3.2),Q=0;
if(m>0){var H=G*.2;Q=H*G+(1-H)*A}else{var J=Math.pow(G,.33);Q=(1-J)*J+J*(G+(G-A)*.63)}var b=Math.abs(m);
return b*Q+(1-b)*G},ami:function(G,m){var A=0;if(m>0){var Q=G*1.47,H=Math.pow(G,2.4);A=Math.min(1,H*G+(1-H)*Q)}else{var Q=G*.68,H=Math.pow(G,3);
A=H*G*.5+(1-H)*Q}var J=Math.abs(m);return J*A+(1-J)*G},auG:function(G,m){var A=0;if(m>0){var Q=Math.pow(G,.3),H=G;
A=(1-G)*Q+G*H}else{var Q=Math.pow(G,2.5),J=G,H=G;A=Math.min(1,(1-J)*Q+J*H)}var b=Math.abs(m);return b*A+(1-b)*G}};
N.raw.a6N=function(G){var m=G.width,A=G.height,Q=m*A*G.t277,H=new Uint16Array(Q),J=null,b=0;N.raw.asj(G,H);
N.raw.FF(1,G,H,m,A);if(G.t50712){J=G.t50712;b=J.length-1;if(J[b]>65535)throw"too big values"}var O=N.raw.HG(G),a=N.raw.Ae(G);
if(J==null)for(var $=0;$<Q;$++)H[$]=Math.max(0,H[$]-O);else for(var $=0;$<Q;$++){var e=H[$];if(e>b)e=b;
e=J[e];H[$]=Math.max(0,e-O)}return H};N.raw.HG=function(G){var m=G.t50714,A=m?m[0]:0,Q=G.t50715,H=G.t50716;
if(Q)A+=Q[0][0]/Q[0][1];if(H)A+=H[0][0]/H[0][1];return Math.round(A)};N.raw.Ae=function(G){var m=null,A=0;
if(G.t50712){m=G.t50712;A=m.length-1}var Q=G.t50717?G.t50717[0]:(1<<G.t258[0])-1;if(m)Q=Math.min(Q,m[A]);
return Q};N.raw.n$=function(G){var m=N.raw.HG(G),A=N.raw.Ae(G);return A-m};N.raw.asj=function(G,m){var A=m.length,Q=G.data,H=G.t258[0];
if(H!=16&&H!=14&&H!=12&&H!=10&&H!=8)throw"Unsupported Bits Per Sample:"+H;H=Math.round(Q.length*8/A);
if(H==16&&G.isLE){N.Gy(Q,m);return}for(var $=0;$<A;$+=2){var J=0,b=0,O=0;if(H==16){J=$<<1;b=Q[J]<<8|Q[J+1];
O=Q[J+2]<<8|Q[J+3]}else if(H==14){var a=$*14,e=a>>>3,R=Q[e]<<24|Q[e+1]<<16|Q[e+2]<<8|Q[e+3];if((a&7)==0){b=R>>>18;
O=R>>>4&16383}else{b=R>>>14&16383;O=R&16383}}else if(H==12){J=$+($>>>1);b=Q[J]<<4|Q[J+1]>>4;O=(Q[J+1]&15)<<8|Q[J+2]}else if(H==10){var a=$*10,e=a>>>3;
if((a&7)==0){b=(Q[e]<<2|Q[e+1]>>6)&1023;O=(Q[e+1]<<4|Q[e+2]>>4)&1023}else{b=(Q[e]<<6|Q[e+1]>>2)&1023;
O=(Q[e+1]<<8|Q[e+2]>>0)&1023}}else if(H==8){J=$;b=Q[J];O=Q[J+1]}m[$]=b;m[$+1]=O}};N.raw.FF=function(G,m,A,Q,H){var J=m["t"+[51008,51009,51022][G-1]],R=0;
if(J==null)return;var b=Q*H,O=V.l,a=V.Bo,e=new Uint8Array(J),da=V.l(e,R);R+=4;for(var p=0;p<da;p++){var P=O(e,R);
R+=4;var z=O(e,R);R+=4;var Z=O(e,R);R+=4;var W=O(e,R);R+=4;if(!1){}else if(P==1&&G==3){var T=R,i=O(e,T);
T+=4;var X=a(e,T);T+=8;var U=a(e,T);T+=8;var M=a(e,T);T+=8;var C=a(e,T);T+=8;var x=a(e,T);T+=8;var L=a(e,T);
T+=8;T+=(i-1)*8*6;var E=a(e,T);T+=8;var l=a(e,T);T+=8;var y=E*Q,Y=l*H,F=Math.max(y,Q-y),w=Math.max(Y,H-Y),j=Math.sqrt(F*F+w*w),_=1/j,D=A.slice(0);
for(var t=0;t<H;t++)for(var K=0;K<Q;K++){var d=(K+.5-y)*_,o=(t+.5-Y)*_,k=d*d+o*o,v=X+U*k+M*(k*k)+C*(k*k)*k,u=x*(2*d*o)+L*(k+2*d*d),B=L*(2*d*o)+x*(k+2*o*o),S=~~(y+j*(v*d+u)),I=~~(Y+j*(v*o+B)),q=(I*Q+S)*3,hw=(t*Q+K)*3;
A[hw]=D[q];A[hw+1]=D[q+1];A[hw+2]=D[q+2]}}else if(P==3&&G==3){var T=R,fY=a(e,T);T+=8;var s=a(e,T);T+=8;
var hZ=a(e,T);T+=8;var bG=a(e,T);T+=8;var aY=a(e,T);T+=8;var E=a(e,T);T+=8;var l=a(e,T);T+=8;var y=E*Q,Y=l*H,F=Math.max(y,Q-y),w=Math.max(Y,H-Y),j=Math.sqrt(F*F+w*w),_=1/j;
for(var t=0;t<H;t++)for(var K=0;K<Q;K++){var d=(K+.5-y)*_,o=(t+.5-Y)*_,k=d*d+o*o,fj=1+(fY+(s+(hZ+(bG+aY*k)*k)*k)*k)*k,hw=(t*Q+K)*3;
A[hw]=fj*A[hw];A[hw+1]=fj*A[hw+1];A[hw+2]=fj*A[hw+2]}}else if(P==4&&G==1){var T=R,jg=O(e,T);T+=4;var ae=O(e,T);
T+=4;for(var $=0;$<b;$++)if(A[$]==jg)A[$]=A[$-2]+A[$+2]>>1}else if(P==5&&G==1){var T=R,iB=O(e,T);T+=4;
var eg=O(e,T);T+=4;var dM=O(e,T);T+=4;for(var $=0;$<eg;$++){var fK=O(e,T);T+=4;var aQ=O(e,T);T+=4;var $=fK*Q+aQ;
A[$]=A[$-2]+A[$+2]>>1}}else if(P==7&&G==1){var T=R,cQ=V.EP(e,T);T+=16;var a7=O(e,T);T+=4;var gz=O(e,T);
T+=4;var bQ=O(e,T),d4=O(e,T+4);T+=8;var j2=O(e,T);T+=4;var j7=new Uint16Array(j2);for(var $=0;$<j2;$++)j7[$]=V.n6(e,T+2*$);
var fG=cQ.e,bT=cQ.n;for(var t=0;t<bT;t+=bQ)for(var K=0;K<fG;K+=d4){var $=(cQ.y+t)*Q+(cQ.x+K);A[$]=j7[A[$]]}}else if(P==8&&G==2){var T=R,cQ=V.EP(e,T);
T+=16;var a7=O(e,T);T+=4;var gz=O(e,T);T+=4;var bQ=O(e,T),d4=O(e,T+4);T+=8;var je=O(e,T);T+=4;var ba=[];
for(var $=0;$<=je;$++)ba[$]=V.Bo(e,T+$*8);var j6=cQ.x,cl=cQ.x+cQ.e,js=cQ.y,fR=cQ.y+cQ.n,iW=m.t50717[0],fx=1/iW;
for(var dm=0;dm<gz;dm++)for(var t=js;t<fR;t+=bQ){var hw=3*t*Q+a7+dm;for(var K=j6;K<cl;K+=d4){var $=hw+3*K,fq=A[$]*fx,h2=ba[je];
for(var jj=je;jj>0;jj--)h2=h2*fq+ba[jj-1];A[$]=Math.max(0,Math.min(65535,~~(h2*iW)))}}}else if(P==9&&G==2){var T=R,cQ=V.EP(e,T),hT=!0;
T+=16;var a7=O(e,T);T+=4;var gz=O(e,T);T+=4;var bQ=O(e,T),d4=O(e,T+4);T+=8;var iM=O(e,T),aC=O(e,T+4);
T+=8;var aB=a(e,T),ep=a(e,T+8);T+=16;var h6=a(e,T),dJ=a(e,T+8);T+=16;var gs=O(e,T);T+=4;if(gs!=1)throw"more than one map plane";
var ej=iM*aC,eH=new Float32Array(ej);for(var jj=0;jj<ej;jj++)eH[jj]=V.BH(e,T+jj*4);for(var jj=0;jj<ej;
jj++)if(eH[jj]!=1)hT=!1;if(!hT){var fG=cQ.e,bT=cQ.n,dO=.9999*(aC-1)/fG,fE=.9999*(iM-1)/bT;for(var t=0;
t<bT;t+=bQ)for(var K=0;K<fG;K+=d4){var $=(cQ.y+t)*Q+(cQ.x+K),hD=K*dO,d9=t*fE,iQ=Math.floor(hD),iS=Math.floor(d9),bZ=hD-iQ,dy=d9-iS,hw=iS*aC+iQ,jh=eH[hw]*(1-bZ)+eH[hw+1]*bZ,eE=eH[hw+aC]*(1-bZ)+eH[hw+1+aC]*bZ,jr=jh*(1-dy)+eE*dy;
A[$]=Math.max(0,Math.min(65535,~~(A[$]*jr+.5)))}}}else console.log("Unknown opcode "+P+" in OpcodeList"+G+". Length: "+W);
R+=W}};N.raw.abU=function(G,m){var A=di.IL(m),Q=N.raw.HA(G,m),H=N.zb.G3(Q),J=di.aoe(A,di.IL(di.aav)),b=N.zb.multiply(J,H);
return b};N.raw.aoX=function(G){var m=(G.t50728?G.t50728:[1,1,1]).slice(0),Q=1;m.push(0);var A={x:.34567,y:.3585};
do{var H=N.zb.G3(N.raw.HA(G,A)),J=N.zb.wQ(H,m),b=di.ai6(J);Q=Math.abs(A.x-b.x)+Math.abs(A.y-b.y);A=b}while(Q>1e-7);
return A};N.raw.HA=function(G,m){var A=di.MX(m),Q=N.raw.a62,H=G.t50778?G.t50778[0]:0,J=G.t50779?G.t50779[0]:0,b=Q(G.t50721,G.t50722,H,J,A.Gk),O=Q(G.t50723,G.t50724,H,J,A.Gk);
b=b||[1,0,0,0,1,0,0,0,1];O=O||[1,0,0,0,1,0,0,0,1];var a=G.t50727?[G.t50727[0],0,0,0,G.t50727[1],0,0,0,G.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return N.zb.multiply(N.zb.nf(a),N.zb.multiply(N.zb.nf(O),N.zb.nf(b)))};N.raw.a62=function(G,m,A,Q,H){if(!G&&!m){return null}else if(G&&!m){return G}else if(H<A){return G}else if(H>Q){return m}else{var J=(1/H-1/Q)/(1/A-1/Q),b=1-J,O=[];
for(var $=0;$<9;$++)O[$]=G[$]*J+m[$]*b;return O}};var di={};di.aav={x:.34567,y:.3585};di.QD=[{p:0,Fv:.18006,ok:.26352,sH:-.24341},{p:10,Fv:.18066,ok:.26589,sH:-.25479},{p:20,Fv:.18133,ok:.26846,sH:-.26876},{p:30,Fv:.18208,ok:.27119,sH:-.28539},{p:40,Fv:.18293,ok:.27407,sH:-.3047},{p:50,Fv:.18388,ok:.27709,sH:-.32675},{p:60,Fv:.18494,ok:.28021,sH:-.35156},{p:70,Fv:.18611,ok:.28342,sH:-.37915},{p:80,Fv:.1874,ok:.28668,sH:-.40955},{p:90,Fv:.1888,ok:.28997,sH:-.44278},{p:100,Fv:.19032,ok:.29326,sH:-.47888},{p:125,Fv:.19462,ok:.30141,sH:-.58204},{p:150,Fv:.19962,ok:.30921,sH:-.70471},{p:175,Fv:.20525,ok:.31647,sH:-.84901},{p:200,Fv:.21142,ok:.32312,sH:-1.0182},{p:225,Fv:.21807,ok:.32909,sH:-1.2168},{p:250,Fv:.22511,ok:.33439,sH:-1.4512},{p:275,Fv:.23247,ok:.33904,sH:-1.7298},{p:300,Fv:.2401,ok:.34308,sH:-2.0637},{p:325,Fv:.24792,ok:.34655,sH:-2.4681},{p:350,Fv:.25591,ok:.34951,sH:-2.9641},{p:375,Fv:.264,ok:.352,sH:-3.5814},{p:400,Fv:.27218,ok:.35407,sH:-4.3633},{p:425,Fv:.28039,ok:.35577,sH:-5.3762},{p:450,Fv:.28863,ok:.35714,sH:-6.7262},{p:475,Fv:.29685,ok:.35823,sH:-8.5955},{p:500,Fv:.30505,ok:.35907,sH:-11.324},{p:525,Fv:.3132,ok:.35968,sH:-15.628},{p:550,Fv:.32129,ok:.36011,sH:-23.325},{p:575,Fv:.32931,ok:.36038,sH:-40.77},{p:600,Fv:.33724,ok:.36051,sH:-116.45}];
di.MX=function(G){var m=di.QD,A=2*G.x/(1.5-G.x+6*G.y),Q=3*G.y/(1.5-G.x+6*G.y),H=0,J=0,b=0;for(;b<31;
b++){H=Q-m[b].ok-m[b].sH*(A-m[b].Fv);if(b>0&&H<0){break}J=H}while(b>=m.length)b--;H/=Math.sqrt(1+m[b].sH*m[b].sH);
J/=Math.sqrt(1+m[b-1].sH*m[b-1].sH);var O=J/(J-H),a=1e6/((m[b].p-m[b-1].p)*O+m[b-1].p),e=A-((m[b].Fv-m[b-1].Fv)*O+m[b-1].Fv),R=Q-((m[b].ok-m[b-1].ok)*O+m[b-1].ok),p=Math.sqrt(1+m[b].sH*m[b].sH),P=1/p,z=m[b].sH/p,Z=Math.sqrt(1+m[b-1].sH*m[b-1].sH),W=1/Z,T=m[b-1].sH/Z,i=(P-W)*O+W,X=(z-T)*O+T,U=Math.sqrt(i*i+X*X);
i/=U;X/=U;var M=(e*i+R*X)*-3e3;return{Gk:a,t5:M}};di.agZ=function(G,m){var A=di.QD,Q=1e6/G,H=1;for(;
H<31;H++){if(Q<A[H].p){break}}var J=(A[H].p-Q)/(A[H].p-A[H-1].p),b=(A[H-1].Fv-A[H].Fv)*J+A[H].Fv,O=(A[H-1].ok-A[H].ok)*J+A[H].ok,a=Math.sqrt(1+A[H].sH*A[H].sH),e=1/a,R=A[H].sH/a,p=Math.sqrt(1+A[H-1].sH*A[H-1].sH),P=1/p,z=A[H-1].sH/p,Z=(P-e)*J+e,W=(z-R)*J+R,T=Math.sqrt(Z*Z+W*W);
Z/=T;W/=T;b+=Z*m/-3e3;O+=W*m/-3e3;return{x:1.5*b/(b-4*O+2),y:O/(b-4*O+2)}};di.ai6=function(G){var m=G[0]+G[1]+G[2];
return{x:G[0]/m,y:G[1]/m}};di.IL=function(G){return{x:G.x/G.y,y:1,kr:(1-G.x-G.y)/G.y}};di.aoe=function(G,m){var A=N.zb.nf([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),Q=[G.x,G.y,G.kr,0],H=[m.x,m.y,m.kr,0];
Q=N.zb.wQ(A,Q);H=N.zb.wQ(A,H);var J=H[0]/Q[0],b=H[1]/Q[1],O=H[2]/Q[2],a=N.zb.nf([J,0,0,0,b,0,0,0,O]),e=N.zb.G3(A);
return N.zb.multiply(N.zb.multiply(e,a),A)};N.raw.BX={};N.raw.Az=function(G){G*=8;var m=[8,10,12,14,16];
for(var A in CAMS){var Q=CAMS[A];if(Q.length==4)continue;var H=Q[4],J=Q[5];for(var $=0;$<m.length;$++)if(H*J*m[$]==G)return[A,m[$]]}var b=[[4e3,3e3]];
for(var $=0;$<b.length;$++){var Q=b[$],H=Q[0],J=Q[1];for(var $=0;$<m.length;$++)if(H*J*m[$]==G)return[Q,m[$]]}return null};
N.raw.a1m=function(G){var G=new Uint8Array(G);for(var $=0;$<G.length;$+=2){var m=G[$];G[$]=G[$+1];G[$+1]=m}var A=N.raw.Az(G.length),Q=CAMS[A[0]];
if(Q==null)Q=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,A[0][0],A[0][1]];var H=Q[4],J=Q[5],b=Math.max(Q[2],116),O={data:G,LC:1,width:H,height:J,t256:[H],t257:[J],t258:[A[1]],t277:[1],t33421:[2,2],t33422:N.raw.f8[Q[1]],t50706:[1,2,0,0],t50714:[b,b,b,b],t50717:[Q[3]],t50721:Q[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var $=0;$<9;$++)O.t50721[$]/=1e4;return O};N.raw.XF=function(G){if(G==null||G.length==0||typeof G[0]=="number")return G;
var m=[];for(var $=0;$<G.length;$++)m[$]=G[$][1]==0?0:G[$][0]/G[$][1];return m};N.raw.f8=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
N.raw.normalize=function(G,m){if(G.t50706!=null||G.t271[0].startsWith("Hasselblad")){var A=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var $=0;$<A.length;$++)if(G["t"+A[$]]!=null)G["t"+A[$]]=N.raw.XF(G["t"+A[$]]);if(G.t271&&G.t271[0].startsWith("Hasselblad")){G.t50706=[1,2,0,0];
G.t33422=N.raw.f8[1];G.t50723=[1,0,0,0,1,0,0,0,1];G.t50778=[17];if(!G.isLE)for(var $=0;$<G.data.length;
$+=2){var Q=G.data[$];G.data[$]=G.data[$+1];G.data[$+1]=Q}}return}var H=G.t258[0],J=G.exifIFD,m=new Uint8Array(m);
G.t50706=[1,2,0,0];var b=G.t272[0].trim();if(b.indexOf(" ")==-1)b=G.t271[0].trim()+" "+b;if(G.t50708==null)G.t50708=[b];
var O=b.toLowerCase(),a=CAMS,e=a[O];if(e==null)for(var R in a)if(O.startsWith(R))e=a[R];if(e==null)alert("Unknown camera:"+b);
else{var p=e[2];G.t50714=[p,p,p,p];G.t50717=[e[3]];G.t50721=e[0].slice(0);for(var $=0;$<9;$++)G.t50721[$]=G.t50721[$]*(1/1e4)}G.t50723=[1,0,0,0,1,0,0,0,1];
if(G.t50728==null)G.t50728=[.35,1,.6];G.t50778=[17];if(G.t271[0].startsWith("SONY")){var P=UTIF["_bin"+(G.isLE?"LE":"BE")],z=G.t28688,M;
if(JSON.stringify(z)!="[8000,10400,12900,14100]")console.log(z);if(z){var Z=[0,0,0,0,0,4095],W=new Uint16Array(16385);
for(var $=0;$<4;$++){var T=z[$]>>>2;Z[$+1]=T;if(T>4095)throw"e"}for(var $=0;$<16385;$++)W[$]=$;for(var $=0;
$<5;$++)for(var i=Z[$]+1;i<=Z[$+1];i++)W[i]=W[i-1]+(1<<$);var X=m.length*8<G.width*G.height*H;if(X)G.t50712=W}else console.log("no curve");
var U=G.dngPrvt;if(U){var C=U.t29184[0],x=U.t29185[0],L=(G.isLE?V.Wj:V.l)(U.t29217,0),E=new Uint32Array(m.slice(C,C+(x&4294967292)).buffer),l=new Uint32Array(x>>>2);
N.raw.aaJ(E,l,x>>>2,L);var y=new Uint8Array(C+x);y.set(new Uint8Array(l.buffer),C);var Y=[];UTIF._readIFD(P,y,C,Y,0,!1);
var F=Y.pop(),w=F.t29458;G.t50728=[w[1]/w[0],1,w[1]/w[3]];G.t50730=[.5];var j=F.t29891;G.t50829=[j[1],j[0],j[3],j[2]]}else if(J.makerNote&&J.makerNote.t8208){var M=J.makerNote,_=M.t8208,D=_.length,t=0,K=new Uint8Array(256);
for(var $=249;$<256;$++)K[$]=$;for(var $=0;$<249;$++)K[$*$*$%249]=$;for(var $=0;$<D;$++)_[$]=K[_[$]];
if(D==6604)t=612;else throw"e";var w=[];for(var $=0;$<3;$++)w.push(V.ec(_,t+$*2));console.log(w);G.t50728=[w[1]/w[0],1,w[1]/w[2]]}else console.log("no white balance");
if(G.width*G.height*1.5==G.t279[0]){p=p>>>2;G.t50714=[p,p,p,p];G.t50717=[e[3]>>>2]}}else if(G.t271[0].startsWith("Canon")){var m=G.data,d=m.slice(0),o=G.t50752,k=[],u=0;
if(o==null||o[0]==0&&o[1]==0)k.push(G.width);else{for(var $=0;$<o[0];$++)k.push(o[1]);k.push(o[2])}var v=G.width*2;
for(var B=0;B<k.length;B++){var S=k[B],I=2*u,q=2*S;for(var hw=0;hw<G.height;hw+=2){var fY=hw*v+I,s=G.height*I+(hw>>1)*q*2;
for(var $=0;$<q;$++){m[fY+$]=d[s+$];m[fY+$+v]=d[s+$+q]}}u+=S}var M=J.makerNote;if(M.t16385){var hZ=M.t224,fj=0;
if(hZ){G.t50719=[hZ[5],hZ[6]];G.t50720=[hZ[7]+1-hZ[5],hZ[8]+1-hZ[6]]}var bG=M.t16385,aY=bG.length;if(aY==582)fj=1;
else if(aY==653)fj=2;else if(aY==796)fj=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(aY)!=-1)fj=4;
else if(aY==5120){fj=5;bG=new Int16Array(bG.slice(0).buffer)}else if(aY==1273||aY==1275)fj=6;else if([1312,1313,1316,1506].indexOf(aY)!=-1)fj=7;
else if([1560,1592,1353,1602].indexOf(aY)!=-1)fj=8;else throw"e"+aY;var jg=bG[0],ae=[null,[25,166],[34,286],[63,196],[63],[71,jg==-4?333:264],[63,251],[63,jg==10?504:728],[63,326]],t=ae[fj][0],iB=ae[fj][1];
if(fj==4){if(bG[0]==2)iB=231;else if(bG[0]==3)iB=231;else if(bG[0]==4)iB=231;else if(bG[0]==5)iB=231;
else if(bG[0]==6)iB=231;else if(bG[0]==7)iB=231;else if(bG[0]==9)iB=231;else throw"e"}G.t50728=[bG[t+1]/bG[t],1,bG[t+1]/bG[t+3]];
var p=iB==null?1024:bG[iB];if(fj!=4)G.t50714=[p,p,p,p]}else{G.t50728=[.4,1,.6]}}else if(G.t271[0].startsWith("NIKON")){var M=J.makerNote,eg=G.isLE?V.ec:V.jT,gz=0,bQ=0,fG,fR=0;
if(M.t61){var dM=M.t61,fK=[];for(var $=0;$<4;$++)fK[$]=dM[$]/Math.pow(2,14-H);G.t50714=fK}if(M.t3585){var aQ=M.t3585,$=0,C=22;
while(C<aQ.length&&$!=-4){var cQ=V.Wj(aQ,C);C+=4;C+=14;$=V.Wj(aQ,C)-4;C+=4;if(cQ==1990472198){if(aQ[C]!=0)throw"Flip"}if(cQ==1990472199){var a7=V.ec(aQ,C);
if(a7==0)G.LC=1;else if(a7==270)G.LC=8;else throw"e "+a7}C+=$}}if(M.t183){var d4=M.t183,j2=[];for(var $=0;
$<6;$++)j2.push(eg(d4,16+$*2));gz=j2[0];bQ=j2[1]}if(M.t3614){var j7=M.t3614;gz=V.Wj(j7,8);bQ=V.Wj(j7,12)}if(gz!=0){if(gz<bQ){var Q=gz;
gz=bQ;bQ=Q}var u=G.width-gz>>>1,hw=G.height-bQ>>>1;G.t50829=[hw,u,hw+bQ,u+gz]}if(M.t12){var bT=N.raw.XF(M.t12);
fG=[1/bT[0],1,1/bT[1]]}else if(M.t151){var je=N.raw.a97(M,151),ba=je[0],gD=je[1],j6=je[2];if(ba=="0100"&&gD>=80)throw"e";
else if(ba=="0102"){var cl=[];for(var $=0;$<4;$++)cl.push(eg(j6,6+$*2));fG=[cl[1]/cl[0],1,cl[1]/cl[3]]}else if(ba=="0103"&&gD>=26){var cl=[];
for(var $=0;$<4;$++)cl.push(eg(j6,16+$*2));fG=[cl[1]/cl[0],1,cl[3]/cl[2]]}else if(ba=="0204"&&gD>=564||ba=="0205"&&gD>=284){var C=ba=="0204"?6:14,cl=[];
for(var $=0;$<4;$++)cl.push(eg(j6,C+$*2));fG=[cl[1]/cl[0],1,cl[1]/cl[3]]}else throw"e"}else console.log("no white balance info");
if(b=="NIKON D1")fG=[1,1,1];if(fG)G.t50728=fG;var js=M.t150?M.t150:M.t140;if(js){var iW=js[fR++],fx=js[fR++],h2;
if(iW==73||fx==88)fR+=2110;fR+=8;var dm=1<<H&32767,fq=eg(js,fR);fR+=2;var W=[];if(fq>1)h2=Math.floor(dm/(fq-1));
if(iW==68&&fx==32&&h2>0){for($=0;$<fq;$++){W[$*h2]=eg(js,fR);fR+=2}for($=0;$<dm;$++)W[$]=Math.floor((W[$-$%h2]*(h2-$%h2)+W[$-$%h2+h2]*($%h2))/h2)}else if(iW!=70&&fq<=16385){dm=fq;
for(var $=0;$<fq;$++)W[$]=eg(js,fR+2*$);fR+=2*fq}if(W.length!=0)G.t50712=new Uint16Array(W);else if(G.t272[0]=="NIKON D750")G.t50717[0]*=4}}else if(b.startsWith("FujiFilm")){}else alert("Unknown camera "+b)};
N.raw.aaJ=function(G,m,A,Q){if(0==A)return;var H=new Uint32Array(128),J=new Uint8Array(H.buffer),b=127,O=0,a=0;
for(var b=0;b<4;b++)H[b]=Q=(Q*15625>>>0)*3125+1>>>0;H[3]=H[3]<<1|(H[0]^H[2])>>>31;for(var b=4;b<127;
b++)H[b]=(H[b-4]^H[b-2])<<1|(H[b-3]^H[b-1])>>>31;for(var b=0;b<127;b++)H[b]=V.l(J,b*4);for(;A>0;A--){H[b&127]=H[b+1&127]^H[b+1+64&127];
var e=H[b&127],R=G[O];R^=e;m[a]=R;O++;a++;b++}};N.raw.aj7=function(G,m){var A=V.uB(m,0,4),Q=N.raw.ajJ;
for(var $=0;$<Q.length;$++)if(Q[$][0]==G&&A.startsWith(Q[$][1])&&(Q[$][2]==0||Q[$][2]==m.length))return Q[$];
throw"e"};N.raw.abd=function(G){if(G.t29==null)return[];var m=N.raw.abQ,A=N.raw.adk,Q=G.t29[0],H=0,b=0;
for(var $=0;$<Q.length;$++){var J=Q.charCodeAt($);H=H*10+(48<=J&&J<=57?J-48:J%10)}var gD=G.t167[0];for(var $=0;
$<4;$++)b^=gD>>>($<<3)&255;var O=m[H&255],a=A[b&255];return[O,a,96]};N.raw.a97=function(G,m){var A=G["t"+m],gD=A.length,Q=N.raw.aj7(m,A),H=V.uB(A,0,4),J,b=Q[4];
if(b==null)J=A.slice(4);else{J=new Uint8Array(gD-b);var O=N.raw.abd(G),a=O[0],e=O[1],R=O[2];for(var $=0;
$<J.length;$++){e=e+a*R++&255;J[$]=A[b++]^e}}return[H,gD,J]};N.raw.ajJ=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
N.raw.abQ=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
N.raw.adk=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
N.E3={};N.E3.E3=function(G,m,A,Q,H){if(Q==null)Q=3;if(H==null)H=!0;var J=G.e,b=G.n,O=1/J,a=J*b,e=Date.now(),R=!1,p=N.E3.i9(A,J,b,255,128),P=N.E3.i9(A,J,b,0,128),fY=0;
if(R)console.log("extract contours",Date.now()-e);e=Date.now();var z=function(h2,jj){var iM=h2<<2,aC=jj<<2;
return m[iM]+m[iM+1]+m[iM+2]-(m[aC]+m[aC+1]+m[aC+2])};p.sort(z);P.sort(z);var Z=N.$(a),W=N.$(a),T=[],i=new Uint32Array(J*b);
i.fill(4294967295);for(var $=0;$<a;$++)if(A[$]==0)W[$]=255;else if(A[$]==255)Z[$]=255;else{i[$]=T.length;
T.push($)}var X=p.length,U=P.length,M=T.length;function C(h2,jj,iM,aC){var aB=h2.length,ep=new Array(aB*2);
for(var $=0;$<aB;$++){var t=h2[$],K=~~(t*aC),d=t-K*iM,fx=t<<2;ep[$*2]=d<<16|K;ep[$*2+1]=jj[fx]<<16|jj[fx+1]<<8|jj[fx+2]}return ep}var x=C(p,m,J,O),L=C(P,m,J,O),E=C(T,m,J,O);
if(R)console.log("Itemize",Date.now()-e,"Unknown:",M,X,U);e=Date.now();var l=N.style.YD(Z,J,b,!0),y=N.style.YD(W,J,b,!0),Y=new Array(M),F=new Array(M),w=new Array(M),j=new Array(M),_=new Array(M);
if(R)console.log("Dist transform",Date.now()-e);e=Date.now();var D=N.E3.qk;for(var $=0;$<M;$++){var t=T[$],K=~~(t*O),d=t-K*J,o=l[t<<1],k=l[(t<<1)+1],v=Math.sqrt(o*o+k*k),u=y[t<<1],B=y[(t<<1)+1],S=Math.sqrt(u*u+B*B);
Y[$]=1/v;F[$]=1/S;var I=Math.floor(N.a.SG(t*17)*X),q=Math.floor(N.a.SG(t*19)*U);w[$]=I;j[$]=q;_[$]=D(E[$*2],E[$*2+1],x[I*2],x[I*2+1],L[q*2],L[q*2+1],Y[$],F[$],1e9)}var hw=[-J-1,-J,-J+1,-1,1,J-1,J,J+1];
while(Math.floor(Math.max(X,U)*Math.pow(.5,fY))>1)fY++;for(var s=0;s<Q;s++){var hZ=0;for(var $=0;$<M;
$++){var t=T[$],K=~~(t*O),d=t-K*J,bG=Y[$],aY=F[$],fj=E[$*2],jg=E[$*2+1],ae=_[$],I=w[$],q=j[$],cQ=1;if(K!=0&&d!=0&&d!=J-1&&K!=b-1)for(var iB=0;
iB<8;iB++){var eg=i[t+hw[iB]];if(eg==4294967295)continue;var dM=w[eg],fK=j[eg];if(dM==I&&fK==q)continue;
var aQ=D(fj,jg,x[dM*2],x[dM*2+1],L[fK*2],L[fK*2+1],bG,aY,ae);if(aQ<ae){ae=aQ;I=dM;q=fK}}for(var a7=0;
a7<fY;a7++){var gz=~~(X*cQ),bQ=~~(U*cQ);cQ*=.5;var d4=N.a.SG(t+s*17+a7*31),j2=N.a.SG(t+s*29+a7*63),j7=Math.max(0,I-gz),fG=Math.min(I+gz,X-1),bT=Math.max(0,q-bQ),je=Math.min(q+bQ,U-1),dM=j7+~~(d4*(fG-j7)),fK=bT+~~(j2*(je-bT)),aQ=D(fj,jg,x[dM*2],x[dM*2+1],L[fK*2],L[fK*2+1],bG,aY,ae);
if(aQ<ae){ae=aQ;I=dM;q=fK}}_[$]=ae;w[$]=I;j[$]=q;hZ+=ae}}if(R)console.log(hZ);if(R)console.log("iterations",Date.now()-e);
e=Date.now();var cl=A.slice(0);for(var $=0;$<M;$++){var js=N.E3.alpha(E[$*2+1],x[w[$]*2+1],L[j[$]*2+1]);
cl[T[$]]=~~(.5+255*js)}cl=N.T4.aew(cl,m,new f_(0,0,J,b),16,.01*.01);if(R)console.log("guided filter",Date.now()-e);
e=Date.now();if(H)for(var $=0;$<a;$++)if(A[$]==255||A[$]==0)cl[$]=A[$];var fR=m.slice(0);for(var $=0;
$<M;$++){var iW=T[$],I=p[w[$]],ae=_[$],fx=iW<<2,dm=cl[iW],fq=(dm>=250?iW:I)<<2;fR[fx]=m[fq];fR[fx+1]=m[fq+1];
fR[fx+2]=m[fq+2]}N.I5(cl,fR,3);if(R)console.log(Date.now()-e);e=Date.now();return fR};N.E3.qk=function(G,m,A,Q,H,J,b,O,a){var e=G>>>16,R=G&65535,p=e-(A>>>16),P=R-(A&65535),z=e-(H>>>16),Z=R-(H&65535),W=Math.sqrt(p*p+P*P)*b,T=Math.sqrt(z*z+Z*Z)*O;
if(W+T>=a)return 1e9;var i=N.E3.apf(m,Q,J);return i+W+T};N.E3.apf=function(G,m,A){var Q=G>>>16,H=G>>>8&255,J=G&255,b=m>>>16,O=m>>>8&255,a=m&255,e=A>>>16,R=A>>>8&255,p=A&255,P=N.E3.alpha(G,m,A),z=Q-(P*b+(1-P)*e),Z=H-(P*O+(1-P)*R),W=J-(P*a+(1-P)*p);
return Math.sqrt(z*z+Z*Z+W*W)};N.E3.alpha=function(G,m,A){var Q=G>>>16,H=G>>>8&255,J=G&255,b=m>>>16,O=m>>>8&255,a=m&255,e=A>>>16,R=A>>>8&255,p=A&255,P=b-e,z=O-R,Z=a-p,W=Q-e,T=H-R,i=J-p,X=P*P+z*z+Z*Z,U=X==0?.5:(W*P+T*z+i*Z)/X;
return Math.max(0,Math.min(1,U))};N.E3.aoF=function(G){};N.E3.i9=function(G,m,A,Q,H){var J=[],b=m-1,O=A-1;
for(var a=1;a<O;a++)for(var e=1;e<b;e++){var $=a*m+e;if(G[$]==Q&&(G[$-m-1]==H||G[$-m]==H||G[$-m+1]==H||(G[$-1]==H||G[$+1]==H)||(G[$+m-1]==H||G[$+m]==H||G[$+m+1]==H)))J.push($)}return J};
N.T4={};N.T4.alq=function(G,m,A,Q,H){var J=A.e,b=A.n,O=J*b,a=N.T4.$r,e=N.$(O*4),R;N.w8(e,4294967295);
var p=A,P=G,z=m,Z=Q;N.I5(G,e,0);R=N.tc(e,A);R=N.tc(R.uw,R.rect);p=R.rect;Z=Q>>>2;console.log(p,Z);P=N.$(p.Z());
N.gF(R.uw,P,0);N.I5(m,e,0);R=N.tc(e,A);R=N.tc(R.uw,R.rect);z=N.$(p.Z());N.gF(R.uw,z,0);var W=N.T4.a4L(P,z,p,Z,H),T=W[0],i=W[1],X=new f_(0,0,p.e*2,p.n*2);
T=a(T,p,X,!0);T=a(T,X,A,!0);i=a(i,p,X,!0);i=a(i,X,A,!0);var U=N.$(O);for(var $=0;$<O;$++)U[$]=Math.max(0,Math.min(255,Math.floor(.5+(T[$]*m[$]+255*i[$]))));
return U};N.T4.$r=function(G,m,A,Q){var H=A.e,J=A.n,b=m.e,O=m.n,a=N.T4.qM,e=new Float32Array(H*J);for(var R=0;
R<O;R++){var p=(R+R)*H;for(var P=0;P<b;P++){if(!0||P==0||R==0||P==b-1||R==O-1)e[p]=e[p+1]=e[p+H]=e[p+H+1]=G[R*b+P];
else{e[p]=a(P+.25,R+.25,G,b,O);e[p+1]=a(P+.75,R+.25,G,b,O);e[p+H]=a(P+.25,R+.75,G,b,O);e[p+H+1]=a(P+.75,R+.75,G,b,O)}p+=2}}return e};
N.T4.qM=function(G,m,A,Q,H){G-=.499999;m-=.499999;var J=Math.floor(G),b=Math.floor(m),O=b*Q+J,a=G-J,e=m-b,R=(1-e)*(1-a),p=(1-e)*a,P=e*(1-a),z=e*a;
if(A[O]==null||A[O+Q+1]==null){console.log(G,m,Q,H);throw"e"}return R*A[O+0]+p*A[O+1]+P*A[O+Q+0]+z*A[O+Q+1]};
N.T4.a4L=function(G,m,A,Q,H){var J=A.e,b=A.n,O=J*b,a=N.T4.kt,e=N.T4.$,R=N.ua.sf,p=N.T4.jd,m=a(m),G=a(G),P=e(O);
R(m,P,A,Q);var z=e(O);R(G,z,A,Q);var Z=e(O);p(m,m,Z);R(Z,Z,A,Q);var W=e(O);p(m,G,W);R(W,W,A,Q);var T=e(O),i=e(O);
for(var $=0;$<O;$++){var X=P[$],U=z[$],M=Z[$]-X*X,C=W[$]-X*U,x=C/(M+H),L=U-x*X;T[$]=x;i[$]=L}var E=e(O);
R(T,E,A,Q);var l=e(O);R(i,l,A,Q);return[E,l]};N.T4.aew=function(G,m,A,Q,H){var J=A.e,b=A.n,O=J*b,a=N.T4.$r,e=Date.now(),R=!1,p=A,P=G,z=m,Z=Q;
p=new f_(0,0,J>>>2,b>>>2);Z=Q>>>2;P=N.T4.adi(G,J,b);z=N.T4.a9O(m,J,b);if(R)console.log(Date.now()-e);
e=Date.now();var W=N.T4.atG(P,z,p,Z,H),T=W[0],i=W[1],X=W[2],U=W[3];if(R)console.log(Date.now()-e);e=Date.now();
var M=N.$(O);for(var C=0;C<b;C++)for(var x=0;x<J;x++){var $=C*J+x,L=(C>>>2)*(J>>>2)+(x>>>2),E=$<<2,l=T[L]*m[E]+i[L]*m[E+1]+X[L]*m[E+2]+U[L]*255;
M[$]=Math.max(0,Math.min(255,~~(.5+l)))}if(R)console.log(Date.now()-e);e=Date.now();return M};N.T4.adi=function(G,m,A){var Q=m>>>2,H=A>>>2,J=N.$(m*A);
for(var b=0;b<H;b++)for(var O=0;O<Q;O++)J[b*Q+O]=G[b*m+O<<2];return J};N.T4.a9O=function(G,m,A){var Q=m>>>2,H=A>>>2,J=N.$(m*A*4);
for(var b=0;b<H;b++)for(var O=0;O<Q;O++){var a=b*Q+O<<2,e=b*m+O<<4;J[a]=G[e];J[a+1]=G[e+1];J[a+2]=G[e+2];
J[a+3]=G[e+3]}return J};N.T4.atG=function(G,m,A,Q,H){var J=A.e,b=A.n,O=J*b,a=N.T4.kt,e=N.T4.$,R=N.ua.sf,p=N.T4.jd,G=a(G),P=new N.NI(J*b);
N.Pu(m,P);var m=[a(P.p),a(P.z),a(P.h)],z=N.T4.aqp(G,m,A,Q,H),Z=e(O);R(G,Z,A,Q);var W=e(O);p(m[0],G,W);
R(W,W,A,Q);var T=e(O);p(m[1],G,T);R(T,T,A,Q);var i=e(O);p(m[2],G,i);R(i,i,A,Q);var X=e(O),U=e(O),M=e(O),C=e(O);
for(var $=0;$<O;$++){var x=Z[$],L=z.ge[$],E=z.u5[$],l=z.Ny[$],y=W[$]-L*x,Y=T[$]-E*x,F=i[$]-l*x;X[$]=z.al0[$]*y+z.mK[$]*Y+z._V[$]*F;
U[$]=z.mK[$]*y+z.a22[$]*Y+z.wf[$]*F;M[$]=z._V[$]*y+z.wf[$]*Y+z.as3[$]*F;C[$]=x-X[$]*L-U[$]*E-M[$]*l}R(X,X,A,Q);
R(U,U,A,Q);R(M,M,A,Q);R(C,C,A,Q);return[X,U,M,C]};N.T4.aqp=function(G,m,A,Q,H){var J=A.e,b=A.n,O=J*b,a=N.T4.$,e=N.ua.sf,R=N.T4.jd,p={};
p.ge=a(O);e(m[0],p.ge,A,Q);p.u5=a(O);e(m[1],p.u5,A,Q);p.Ny=a(O);e(m[2],p.Ny,A,Q);var P=a(O);R(m[0],m[0],P);
e(P,P,A,Q);var z=a(O);R(m[0],m[1],z);e(z,z,A,Q);var Z=a(O);R(m[0],m[2],Z);e(Z,Z,A,Q);var W=a(O);R(m[1],m[1],W);
e(W,W,A,Q);var T=a(O);R(m[1],m[2],T);e(T,T,A,Q);var i=a(O);R(m[2],m[2],i);e(i,i,A,Q);p.al0=P;p.mK=z;
p._V=Z;p.a22=W;p.wf=T;p.as3=i;for(var $=0;$<O;$++){var X=p.ge[$],U=p.u5[$],M=p.Ny[$],C=P[$]-X*X+H,x=z[$]-X*U,L=Z[$]-X*M,E=W[$]-U*U+H,l=T[$]-U*M,y=i[$]-M*M+H,Y=E*y-l*l,F=l*L-x*y,w=x*l-E*L,j=C*y-L*L,_=L*x-C*l,D=C*E-x*x,t=Y*C+F*x+w*L,K=1/t;
p.al0[$]=Y*K;p.mK[$]=F*K;p._V[$]=w*K;p.a22[$]=j*K;p.wf[$]=_*K;p.as3[$]=D*K}return p};N.T4.$=function(G){return new Float32Array(G)};
N.T4.kt=function(G){var m=G.length,A=new Float32Array(m);for(var $=0;$<m;$++)A[$]=G[$]*(1/255);return A};
N.T4.jd=function(G,m,A){for(var $=0;$<G.length;$++)A[$]=G[$]*m[$]};N.$C={};N.$C.Xa=function(G,m,A,Q){var H=G[m]-A[Q],J=G[m+1]-A[Q+1],b=G[m+2]-A[Q+2];
return Math.sqrt(H*H+J*J+b*b)*(1/441.7)};N.$C.getSelection=function(G,m,A){var Q=m*A,H=N.$(Q),J=!1,b=Math.round(A*.7),O=1,a=new Uint32Array(12),e=N.$(12);
for(var R=0;R<b;R++)for(var p=0;p<m;p++){if(p<O||R<O||p>m-O-1||R>A-O-1){var $=R*m+p,P=$<<2,z=0;if(R<O)z=4;
else if(p>m-O-1)z=8;a[z]+=G[P];a[z+1]+=G[P+1];a[z+2]+=G[P+2];a[z+3]++;H[$]=255}}for(var $=0;$<12;$+=4)for(var Z=0;
Z<3;Z++)e[$+Z]=a[$+Z]/a[$+3];var W=new Float32Array(Q);for(var $=0;$<Q;$++){var P=$*4,T=N.$C.Xa(G,P,e,0),i=N.$C.Xa(G,P,e,4),X=N.$C.Xa(G,P,e,8),U=Math.max(T,Math.max(i,X));
W[$]=T+i+X-U}N.$C.pX(W);var M=Date.now(),C=new Float32Array(Q),x=[],L=N.$(Q);for(var $=0;$<3;$++){N.gF(G,L,$);
var E=new Uint16Array(Q);x.push(E);N.$C.ag9(L,H,m,A,E)}if(J)console.log("MBD",Date.now()-M);M=Date.now();
for(var $=0;$<Q;$++)C[$]=x[0][$]+x[1][$]+x[2][$];N.$C.pX(C);for(var $=0;$<Q;$++)C[$]+=.4*W[$];var l=m>>>1,b=A>>>1,y=1/Math.sqrt(l*l+b*b);
for(var R=0;R<A;R++)for(var p=0;p<m;p++){var Y=p-l,F=R-b,w=1-Math.sqrt(Y*Y+F*F)*y;C[R*m+p]*=w}if(J)console.log("Centeredness",Date.now()-M);
M=Date.now();for(var $=0;$<Q;$++)H[$]=C[$]*255;var j=Math.round(m/120),_=Math.round(j*.8);if(J)console.log(j,_);
N.lP.Dl(H,L,m,A,j,N.lP.y9,[]);H.set(L);if(J)console.log("erosion",Date.now()-M);M=Date.now();for(var $=0;
$<Q;$++)C[$]=H[$];N.$C.pX(C);var D=N.$(256);for(var $=0;$<256;$++)D[$]=256/(1+Math.exp(-20*($/255-.5)));
for(var $=0;$<Q;$++){var t=~~(C[$]*255+.5);H[$]=D[t]}if(J)console.log("Simoid",Date.now()-M);M=Date.now();
return H};N.$C.pX=function(G){var m=G.length,A=0;for(var $=0;$<m;$++)A=Math.max(A,G[$]);var Q=1/A;for(var $=0;
$<m;$++)G[$]=G[$]*Q};N.$C.ag9=function(G,m,A,Q,H){var J=A*Q,b=G.slice(0),O=G.slice(0);for(var $=0;$<J;
$++)H[$]=m[$]==255?0:65535;N.$C.AO(G,O,b,H,A,Q);N.$C.$i(G,O,b,H,A,Q);N.$C.AO(G,O,b,H,A,Q);N.$C.$i(G,O,b,H,A,Q);
return H};N.$C.AO=function(G,m,A,Q,H,J){for(var b=1;b<H;b++)N.$C.TK(b,-1,G,m,A,Q);for(var O=1;O<J;O++){N.$C.TK(O*H,-H,G,m,A,Q);
for(var b=1;b<H;b++){var $=O*H+b;N.$C.TK($,-1,G,m,A,Q);N.$C.TK($,-H,G,m,A,Q)}}};N.$C.$i=function(G,m,A,Q,H,J){for(var b=H-2;
b>=0;b--)N.$C.TK(H*J-H+b,1,G,m,A,Q);for(var O=J-2;O>=0;O--){N.$C.TK(O*H+H-1,H,G,m,A,Q);for(var b=H-2;
b>=0;b--){var $=O*H+b;N.$C.TK($,1,G,m,A,Q);N.$C.TK($,H,G,m,A,Q)}}};N.$C.TK=function($,G,m,A,Q,H){var J=$+G,b=m[$],O=A[J],a=Q[J];
if(O<b)O=b;else if(b<a)a=b;var e=O-a;if(H[J]!=65535&&e<H[$]){H[$]=e;A[$]=O;Q[$]=a}};N.tD={};N.tD.filter=function(G,m,A,Q){var H=m.e,J=m.n,b=H*J,O=Q[0],a=Q[1],e=Q[2],R=Q[3],p=Q[4],P=Q[5],z=Q[6],Z=Date.now(),W=new Float32Array(H*J*4);
N.tD.afR(G,H,J,W);var T=Math.ceil(O*Math.sqrt(-2*Math.log(.1))),i=new ArrayBuffer(b*4),X=new Float32Array(i),U=new Float32Array(b),M=new Float32Array(b);
for(var $=0;$<b;$++){var C=$*4;X[$]=W[C];U[$]=W[C+1];M[$]=W[C+2]}N.ua.S8(X,X,m,T*1/2.4,2);N.ua.S8(U,U,m,T*1/2.4,2);
N.ua.S8(M,M,m,T*1/2.4,2);for(var $=0;$<b;$++){var C=$*4;W[C]=X[$];W[C+1]=U[$];W[C+2]=M[$]}var x=new Uint8Array(i);
for(var $=0;$<b;$++){var C=$*4,L=$*4,X=W[C],U=W[C+1],M=W[C+2],E=Math.sqrt((X-M)*(X-M)+4*U*U),l=(X+M+E)*.5,y=(X+M-E)*.5,Y=y-M,F=U,w=Y*Y+F*F;
if(w!=0){var j=Math.sqrt(w),_=1/j;Y*=_;F*=_}x[L]=128+127*Y;x[L+1]=128+127*F}var D=1.3*a+2,t=R*(2/10),K=G.slice();
if(h.wq){var d=new Float32Array([1/H,1/J]),o=h.NL(0,H,J);o.set(K);var k=h.NL(1,H,J);k.set(x);h.Hj(o,m);
if(p){o.vK(m);h.filter.Av({type:h.filter.ahv,x8:d,ahQ:1/e,a8u:t},o.Pf)}o.vK(m);h.filter.Av({type:h.filter.$j,z7:k.Vj,x8:d,a0V:D,asn:2},o.Pf);
if(p){o.vK(m);h.filter.Av({type:h.filter.als,x8:d,ane:new Float32Array(z),a6Z:P},o.Pf)}o.get(A)}else{if(p)N.tD.gq(1/e,t,K,H,J);
N.tD.$j(K,A,x,H,J,D);if(p)N.tD.ab6(H,J,A,z,P)}var v=b*4;for(var $=3;$<v;$+=4)A[$]=G[$]};N.tD.$j=function(G,m,A,Q,H,J){var b=Math.ceil(2*J),O=-1/(2*J*J),a=[],e=1;
for(var $=0;$<b+20;$++)a[$]=Math.exp($*$*O);var R=[0,0,0,0];for(var p=0;p<H;p++){for(var P=0;P<Q;P++){var z=p*Q+P,Z=z*4,W=1,T=G[Z],i=G[Z+1],X=G[Z+2],U=G[Z+3],M=(A[Z]-128)*(1/127),C=(A[Z+1]-128)*(1/127),x=M,L=C,E=P==0?.51:.49,l=p==0?.51:.49;
for(var $=0;$<2;$++){var y=P+E,Y=p+l,F=0;while(F<b){if(y<.5||Q-.5<y||Y<.5||H-.5<Y)break;var w=~~y,j=~~Y,_=j*Q+w,D=_*4,t=(A[D]-128)*(1/127),K=(A[D+1]-128)*(1/127);
if(t*x+K*L<0){t=-t;K=-K}x=t;L=K;y+=e*t;Y+=e*K;if(y<.5||Q-.5<y||Y<.5||H-.5<Y)break;var d=~~y,o=~~Y,k=o*Q+d<<2;
F+=e;var v=a[~~F];N.N.v8(y,Y,G,Q,H,R);T+=R[0]*v;i+=R[1]*v;X+=R[2]*v;U+=R[3]*v;W+=v}x=-M;L=-C}var u=1/W;
m[Z]=~~(.5+T*u);m[Z+1]=~~(.5+i*u);m[Z+2]=~~(.5+X*u);m[Z+3]=~~(.5+U*u)}}};N.tD.ab6=function(G,m,A,Q,H){for(var J=0;
J<m;J++)for(var b=0;b<G;b++){var O=J*G+b<<2,a=1+N.tD.aoP(b,J,A,G,m,Q)*H;A[O]=Math.max(0,Math.min(255,A[O]*a));
A[O+1]=Math.max(0,Math.min(255,A[O+1]*a));A[O+2]=Math.max(0,Math.min(255,A[O+2]*a))}};N.tD.aoP=function(G,m,A,Q,H,J){var b=A[(m*Q+Math.max(0,G-1))*4+3],O=A[(m*Q+Math.min(Q-1,G+1))*4+3],a=A[(Math.max(0,m-1)*Q+G)*4+3],e=A[(Math.min(H-1,m+1)*Q+G)*4+3],R=.7,p=(O-b)*(1/255),P=.7,z=(e-a)*(1/255),Z=-p*P,W=-R*z,T=R*P,i=Math.sqrt(Z*Z+W*W+T*T),X=1/i,U=Z*X,M=W*X,C=T*X,x=J[0]*U+J[1]*M+J[2]*C;
return x};N.tD.gq=function(G,m,A,Q,H){function J(O,e,R){return Math.max(e,Math.min(R,O))}for(var b=0;
b<H;b++)for(var O=0;O<Q;O++){var a=N.tD.aca(O+.5,b+.5,G,m);A[(b*Q+O)*4+3]=Math.max(0,Math.min(255,a*255))}};
N.tD.aca=function(G,m,A,Q){function H(L,E,l){return(1-l)*L+l*E}var J=(G+613)*A,b=(m+117)*A,O=~~J,a=~~b,e=J-O,R=b-a,p=Math.sin(11),P=Math.cos(O)*p,z=Math.cos(O+1)*p,Z=Math.cos(a)*p,W=Math.cos(a+1)*p,jw=N.tD.hash(P,Z),T=N.tD.hash(z,Z),i=N.tD.hash(P,W),X=N.tD.hash(z,W),U=H(jw,T,e),M=H(i,X,e),C=H(U,M,R);
C=C<.5?0:1;var x=C+Q*N.tD.hash(Math.cos(J)*p,Math.cos(b)*p);return x*(1/3)};N.tD.hash=function(G,m){var A=Math.sin(G*11.697096+m*73.32456)*12157.47691;
return A-Math.floor(A)};N.tD.afR=function(G,m,A,Q){var H=[-1,0,1,-2,0,2,-1,0,1],J=[-1,-2,-1,0,0,0,1,2,1],b=m-1,O=A-1,a=m*4;
for(var e=1;e<O;e++)for(var R=1;R<b;R++){var $=e*m+R,p=$*4,P=N.tD.C9(G,p,a,H),z=N.tD.C9(G,p,a,J),Z=N.tD.C9(G,p+1,a,H),W=N.tD.C9(G,p+1,a,J),T=N.tD.C9(G,p+2,a,H),i=N.tD.C9(G,p+2,a,J);
Q[p]=P*P+Z*Z+T*T;Q[p+1]=P*z+Z*W+T*i;Q[p+2]=z*z+W*W+i*i}N.tD.anb(Q,m,A)};N.tD.C9=function(G,m,A,Q){return G[m-A-4]*Q[0]+G[m-A]*Q[1]+G[m-A+4]*Q[2]+G[m-4]*Q[3]+G[m]*Q[4]+G[m+4]*Q[5]+G[m+A-4]*Q[6]+G[m+A]*Q[7]+G[m+A+4]*Q[8]};
N.tD.anb=function(G,m,A){function Q(a,$,e){var R=$*4,p=e*4;a[p]=a[R];a[p+1]=a[R+1];a[p+2]=a[R+2]}var H=m-1,J=A-1;
Q(G,m+1,0);Q(G,2*m-2,m-1);for(var b=1;b<H;b++)Q(G,m+b,b);for(var O=1;O<J;O++){Q(G,O*m+1,O*m);Q(G,O*m+m-2,O*m+m-1)}for(var b=1;
b<H;b++)Q(G,(A-2)*m+b,(A-1)*m+b);Q(G,(O-2)*m+1,(O-1)*m);Q(G,(O-1)*m-2,O*m-1)};N.C7={};N.C7.Oy=function(G,m,A,Q){var H=G[m*2],J=G[m*2+1],b=G[A*2],O=G[A*2+1],a=G[Q*2],e=G[Q*2+1];
return H*O+b*e+a*J-a*O-b*J-H*e};N.C7.mY=function(G,m){var A=[],Q=[],H=[],J={};for(var $=0;$<m.length;
$+=3){var b=~~($*(1/3)),O=m[$+0],a=m[$+1],e=m[$+2],R=N.C7.Oy(G,O,a,e);if(R>0){var p=a;a=e;e=p}var P=J[e+"-"+a],z=J[a+"-"+O],Z=J[O+"-"+e],W=[e,P,b,null],T=[a,z,b,W],i=[O,Z,b,T];
W[3]=i;if(P)P[1]=W;if(z)z[1]=T;if(Z)Z[1]=i;J[e+"-"+O]=i;J[O+"-"+a]=T;J[a+"-"+e]=W;A[O]=T;H[$]=T;A[a]=W;
H[$+1]=W;A[e]=i;H[$+2]=i;Q[b]=T}return{XX:A,pL:Q,G6:H}};N.C7.ah9=function(G){var m=[],A=G.pL;for(var $=0;
$<A.length;$++){var Q=A[$];m.push(Q[0]);Q=Q[3];m.push(Q[0]);Q=Q[3];m.push(Q[0])}return m};N.C7.a6A=function(G,m,A,Q){var H=G[m*2],J=G[m*2+1],b=G[A*2],O=G[A*2+1],a=G[Q*2],e=G[Q*2+1],R=b-H,p=O-J,P=a-H,z=e-J,Z=R*(H+b)+p*(J+O),W=P*(H+a)+z*(J+e),T=2*(R*(e-O)-p*(a-b));
if(Math.abs(T)<1e-5){var i=Math.min(H,b,a),X=Math.min(J,O,e),U=(Math.max(H,b,a)-i)*.5,M=(Math.max(J,O,e)-X)*.5;
return[i+U,X+M,U*U+M*M,1]}var C=(z*Z-p*W)/T,x=(R*W-P*Z)/T,U=C-H,M=x-J;return[C,x,U*U+M*M,0]};N.C7.aga=function(G,m,A){var Q=A[1],H=A[3],J=H[3],b=Q[3],O=b[3],a=A[2],e=Q[2],R=A[0],p=Q[0],P=H[0],z=b[0],Z=N.C7.a6A(G,p,z,P),W=G[R*2]-Z[0],T=G[R*2+1]-Z[1],i=W*W+T*T>Z[2]&&Z[3]==0&&N.C7.Oy(G,z,R,P)<0&&N.C7.Oy(G,P,p,z)<0;
if(i){A[0]=P;Q[0]=z;A[3]=J;J[3]=b;b[3]=A;Q[3]=O;O[3]=H;H[3]=Q;H[2]=e;b[2]=a;m.pL[e]=O;m.pL[a]=J;m.XX[p]=b;
m.XX[R]=H}return i};N.C7.a2D=function(G,m,A){var Q=G[m*2]-G[A*2],H=G[m*2+1]-G[A*2+1];return Math.sqrt(Q*Q+H*H)};
N.C7.am$=function(G,m,A){var Q=A[1],H=A[3],J=H[3],b,O,a=A[2],e,R=A[0],p=J[0],P=H[0],z;if(Q){b=Q[3];O=b[3];
e=Q[2];z=b[0]}var Z=G.length>>>1;G[2*Z]=(G[2*p]+G[2*R])*.5;G[2*Z+1]=(G[2*p+1]+G[2*R+1])*.5;if(!0){var W=a,T=A,i=m.pL.length,X=[Z,null,W,T],U=[P,X,i,J];
X[1]=U;var M=[Z,null,i,U];H[3]=X;J[3]=M;J[2]=i;m.pL[W]=H;m.pL[i]=M;m.XX[R]=H;m.XX[P]=J;m.G6.push(X,U,M)}if(Q){var C=e,x=Q,L=i+1;
M[1]=x,x[1]=M;var E=[Z,null,C,x],l=[z,E,L,O];E[1]=l;var y=[Z,T,L,l];T[1]=y;b[3]=E;O[3]=y;O[2]=L;m.pL[C]=b;
m.pL[L]=O;m.XX[p]=b;m.XX[z]=O;m.G6.push(E,l,y)}m.XX[Z]=T};N.C7.Ot=function(G,m){var A=0;while(!0){var Q=A;
for(var $=0;$<m.G6.length;$++){var H=m.G6[$];if(H[1]==null)continue;var J=N.C7.aga(G,m,H);if(J){A++;
break}}if(Q==A)break}return A!=0};N.C7.a06=function(G,m,A,Q){var H=0;for(var $=0;$<Q;$++){var J=null,b=0;
for(var O=0;O<m.G6.length;O++){var a=m.G6[O],e=N.C7.a2D(G,a[0],a[3][3][0])*(a[1]?1:2);if(e>b){J=a;b=e}}if(b>A){N.C7.am$(G,m,J);
H++}}return H!=0};N.C7.apv=function(G,m){var A=[],P=0;for(var $=0;$<G.length;$++)A.push(0);for(var $=0;
$<m.G6.length;$++){var Q=m.G6[$],H=Q[0],J=Q[3][3][0],b=G[H*2],O=G[H*2+1],a=G[J*2],e=G[J*2+1],R=b-a,p=O-e;
A[H*2]+=-R;A[H*2+1]+=-p;A[J*2]+=R;A[J*2+1]+=p}for(var $=0;$<G.length;$+=2){var z=$>>>1,Z=m.XX[z],Q=Z,W=!0;
do{if(Q[1]==null){W=!1;break}Q=Q[1][3]}while(Q!=Z);if(W){var T=.02;G[$]+=T*A[$];G[$+1]+=T*A[$+1];P+=T*(A[$]*A[$]+A[$+1]*A[$+1])}}return P};
N.C7.anC=function(G,m,A){var Q=N.H.Cf(G),H=N.C7.mY(G,m);N.C7.Ot(G,H);for(var J=0;J<300;J++){var b=!1,O=!1;
b=N.C7.a06(G,H,A,5);if(b)O=N.C7.Ot(G,H);var a=N.C7.apv(G,H);if(!b&&!O&&a<1e-4){break}}return N.C7.ah9(H)};
N.ZT={};N.ZT.qi=function(G){var m=G.x6,A=G.px,Q=G.cT,H=G.ff,J=G.HS,b=G.Oe,O=G.Zf,a=N.Nu.xZ,X,U,M=0;function e(jw){var bG=new Array(jw);
for(var $=0;$<jw;$++)bG[$]=0;return bG}var R=A.length>>>1,p=e(m.Ur*2),P=e(m.Ur),z=e(m.Ur),Z=Date.now();
for(var $=0;$<G.p9.length;$++){var W=m.al4+$,T=m.zp*(b[$*2]+O[$*2]),i=m.zp*(b[$*2+1]+O[$*2+1]);p[W*2]=T;
p[W*2+1]=i;P[W]=T;z[W]=i}m.a7l.Nh(H,m.abH.xZ(p),.01,X,U);for(var $=0;$<m.ajV.G6.length;$++){var C=m.ajV.G6[$],L=C[3][3][0],E=C[0],l=C[3][0],y=C[1]?C[1][3][0]:l;
if(C[1]&&L>E)continue;var Y=A[L*2],F=A[L*2+1],w=A[E*2],j=A[E*2+1],_=H[L*2],D=H[L*2+1],t=H[E*2],K=H[E*2+1],d=H[l*2],o=H[l*2+1],k=H[y*2],v=H[y*2+1],u=[_,D,t,K,d,o];
if(C[1])u.push(k,v);var B=a(m.alk[M],u),S=B[0],I=B[1],q=1/Math.sqrt(S*S+I*I);S*=q;I*=q;var hw=w-Y,fY=j-F;
P[M]=S*hw+I*fY;z[M]=-I*hw+S*fY;M++}var s=new Array(R),hZ=new Array(R);for(var $=0;$<R;$++){s[$]=J[$*2];
hZ[$]=J[$*2+1]}m.akN.Nh(s,m.aj_.xZ(P),.5);m.akN.Nh(hZ,m.aj_.xZ(z),.5);for(var $=0;$<R;$++){J[$*2]=s[$];
J[$*2+1]=hZ[$]}};N.ZT.B2=function(G){var m=G.px,A=G.cT,Q=G.p9,H=N.Nu.multiply,J=Date.now(),b=N.C7.mY(m,A),O=m.length>>>1,a=0,Z=0,I=1e3;
for(var $=0;$<b.G6.length;$++)a+=b.G6[$][1]?.5:1;var e=a+Q.length,R=[],p=new N.b4(e*2,O*2),P=new N.b4(e,O),z=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],W=[],T=[];
for(var $=0;$<b.G6.length;$++){var i=b.G6[$],X=i[3][3][0],U=i[0],M=i[3][0],C=i[1]?i[1][3][0]:M;if(i[1]&&X>U)continue;
var L=m[X*2],E=m[X*2+1],l=m[U*2],y=m[U*2+1],Y=m[M*2],F=m[M*2+1],w=m[C*2],j=m[C*2+1],_=[[L,E,1,0],[E,-L,0,1],[l,y,1,0],[y,-l,0,1],[Y,F,1,0],[F,-Y,0,1]];
if(i[1])_.push([w,j,1,0],[j,-w,0,1]);var D=N.Nu.kh(_),t=H(linear.invert(H(D,_)),D);t.pop();t.pop();R.push(t);
var K=l-L,d=y-E,o=z[i[1]?1:0];o=N.Nu.AV(o,H([[K,d],[d,-K]],t));var k=[X*2,X*2+1,U*2,U*2+1,M*2,M*2+1,C*2,C*2+1],v=i[1]?8:6,u=[];
for(var B=0;B<v;B++)u.push([k[B],o[0][B],o[1][B]]);u.sort(function(bG,aY){return bG[0]-aY[0]});for(var S=0;
S<2;S++){for(var B=0;B<v;B++){W[B]=u[B][0];T[B]=u[B][1+S]}p.xt(T,W,v)}if(X<U)P.xt([-1,1],[X,U],2);else P.xt([1,-1],[U,X],2);
Z++}for(var $=0;$<Q.length;$++){var q=Q[$];p.xt([I],[q*2],1);p.xt([I],[q*2+1],1);P.xt([I],[q],1)}var hw=p.kh(),fY=hw.T$(hw),s=P.kh(),hZ=s.T$(s);
return{al4:a,Ur:e,abH:hw,a7l:fY,aj_:s,akN:hZ,ajV:b,alk:R,zp:I}};N.ZT.agr=function(G,m,A,Q,H){var J=new f_(0,0,m,A),b=N.$(J.Z());
N.gF(G,b,3);N.round(b,70);var O=N.cP(b,J),a=[.1,.065,.035][Q]*Math.max(O.e,O.n),e=H+1,R=m+e*2,p=A+e*2,P=new f_(-e,-e,R,p),z=N.$(P.Z());
N.qg(b,J,z,P);var Z=z.slice(0);for(var W=0;W<H;W++){for(var T=1;T<p-1;T++){for(var i=1;i<R-1;i++){var $=T*R+i;
Z[$]=z[$-R]|z[$-1]|z[$]|z[$+1]|z[$+R]}}var U=Z;Z=z;z=U}var M=fb.RN(z,R,p,Math.round(O.Z()*5e-4)),C=fb.S9(M),x=new ci(1,0,0,1,-e,-e);
for(var $=0;$<C.length;$++){var L=C[$];N.H.A(L.path.s,x,L.path.s);L.px=N.ZT.a5R(L.path);L.cT=N.H.amc(L.px);
L.cT=N.C7.anC(L.px,L.cT,a)}return C};N.ZT.a5R=function(G){var m=[],A=G.s,Q=G.C.length-1,H=0,J=0;for(var b=0;
b<Q;b++){var $=b*6,O=A[$+6]-A[$+0],a=A[$+7]-A[$+1],e=Math.ceil(Math.sqrt(O*O+a*a));for(var R=0;R<e;R++){var p=R/e,P=1-p,z=P*P*P*A[$+0]+3*P*P*p*A[$+2]+3*P*p*p*A[$+4]+p*p*p*A[$+6],Z=P*P*P*A[$+1]+3*P*P*p*A[$+3]+3*P*p*p*A[$+5]+p*p*p*A[$+7];
m.push(z,Z);H=z;J=Z}}m=N.H.TC(m,1);var W=[],T=m.length;for(var $=0;$<T;$+=2){var Z=m.pop(),z=m.pop();
W.push(z,Z)}return W};N.ZT.a0W=function(G,m,A,Q){function H(E,l,y,Y,F){var w=F[E*2]-F[l*2],j=F[E*2+1]-F[l*2+1],_=Math.sqrt(w*w+j*j);
if(y[E].indexOf(l)==-1){y[E].push(l);Y[E].push(_)}if(y[l].indexOf(E)==-1){y[l].push(E);Y[l].push(_)}}var J=G.length>>>1,b=new Array(J);
if(A.length==0){b.fill(0);return b}var O=new Array(J),a=new Array(J);for(var $=0;$<J;$++){O[$]=[];a[$]=[]}for(var $=0;
$<m.length;$+=3){H(m[$],m[$+1],O,a,G);H(m[$],m[$+2],O,a,G);H(m[$+1],m[$+2],O,a,G)}var e=new Float64Array(J*2),R=new Uint32Array(J*2);
e.fill(1e9);var p=new Uint8Array(J);for(var P=0;P<A.length;P++){p.fill(0);var z=["---",[0,A[P]]];while(z.length!=1){var Z=N.sv.apN(z),W=Z[0],T=Z[1];
if(p[T]==1)continue;var i=T<<1;if(W<e[i]){e[i+1]=e[i];R[i+1]=R[i];e[i]=W;R[i]=P}else if(W<e[i+1]){e[i+1]=W;
R[i+1]=P}p[T]=1;var X=O[T],U=a[T];for(var $=0;$<X.length;$++){var M=X[$];if(p[M]!=1){N.sv.apG(z,[W+U[$],M])}}}}for(var $=0;
$<J;$++){var i=$<<1,C=e[i],x=e[i+1],L=1/(C+x);b[$]=(1-C*L)*Q[R[i]]+(1-x*L)*Q[R[i+1]]}return b};N.ZT.abn=function(G){var m={C:[],s:[]},A=[G];
while(A.length!=0){var Q=A.pop(),H=Q.vJ;if(Q.a0G instanceof Array||Q.auK instanceof Array){m.C.push("M","L","L","L","Z");
m.s.push(H[0],H[1],H[2],H[1],H[2],H[3],H[0],H[3])}else A.push(Q.a0G,Q.auK)}return m};N.ZT.nT=function(G,m,A,Q,H,J,b,O,a,e){var R=Math.round(e.length/3),p=new Array(R);
for(var $=0;$<R;$++)p[$]=$;p.sort(function(z,Z){return a[e[z*3]]-a[e[Z*3]]});for(var $=0;$<R;$++){var P=p[$]*3;
N.ZT.asP(e[P]*2,e[P+1]*2,e[P+2]*2,b,O,G,m,A,Q,H,J)}};N.ZT.asP=function(G,m,A,Q,H,J,b,O,a,e,R){var p=N.ZT.J0,P=[G,m,A,1.2,1.2,1.2,0],z=[0,0,0,0],Z=H[G],W=H[G+1],T=H[m],i=H[m+1],X=H[A],U=H[A+1],M=Math.max(0,Math.min(b-1,Q[G])),C=Math.max(0,Math.min(b-1,Q[m])),x=Math.max(0,Math.min(b-1,Q[A])),L=Math.max(0,Math.min(O-1,Q[G+1])),E=Math.max(0,Math.min(O-1,Q[m+1])),l=Math.max(0,Math.min(O-1,Q[A+1])),y=T-Z,Y=i-W,F=X-Z,w=U-W,j=1/(y*w-F*Y+1e-9),_=Math.max(0,Math.floor(Math.min(Z,T,X))),D=Math.min(e,Math.ceil(Math.max(Z,T,X))),t=Math.max(0,Math.floor(Math.min(W,i,U))),K=Math.min(R,Math.ceil(Math.max(W,i,U)));
for(var d=t;d<K;d++)for(var o=_;o<D;o++){var k=o+.5-Z,v=d+.5-W,u=(k*w-F*v)*j,B=(y*v-k*Y)*j;if(u>=0&&B>=0&&u+B<=1){var S=1-u-B,I=M*S+C*u+x*B,q=L*S+E*u+l*B;
N.N.v8(I,q,J,b,O,z);N.ZT.a8B(z,a,d*e+o<<2)}}};N.ZT.a8B=function(G,m,A){var Q=m[A],H=m[A+1],J=m[A+2],b=m[A+3],O=1-G[3]*(1/255);
m[A]=~~(.5+G[0]+Q*O);m[A+1]=~~(.5+G[1]+H*O);m[A+2]=~~(.5+G[2]+J*O);m[A+3]=~~(.5+G[3]+b*O)};N.ZT.J0=function(){var G=function(A,Q,H,J){var b=J[0],O=J[1],a=J[2],e=A[b+0],R=A[b+1],p=A[O+0],P=A[O+1],z=A[a+0],Z=A[a+1],W=p-e,T=P-R,i=z-e,X=Z-R,U=Q-e,M=H-R,C=W*X-i*T,x=1/(C+1e-9),L=(U*X-i*M)*x,E=(W*M-U*T)*x;
if(L>=0&&E>=0&&L+E<=1){J[3]=1-L-E;J[4]=L;J[5]=E;return 1}return 0},m=function(A,Q,H,J){var b=[0,0,0,0,0,0];
for(var $=0;$<Q.length;$+=3){b[0]=Q[$]*2;b[1]=Q[$+1]*2;b[2]=Q[$+2]*2;if(G(A,H,J,b)==1)return!0}return!1};
return{api:G,apm:m}}();N.Wa={};N.Wa.a53=function(G,m,A){var Q=N.$(m*A*4),H=!1;N.N.Sc(G,m,A,Q,[A,m,0,1,0,1,0,0]);
return[N.Wa.AH(G,m,A,H),N.Wa.AH(Q,A,m,H)]};N.Wa.A=function(G,m){var A=!1,Q=G[0],H=G[1],J=Q[1],b=Q[2],O=Q[3],a=m.e,e=m.n;
if(b==a&&O==e)J=J.slice(0);else if(O!=e){var R=N.$(b*e*4);N.Wa.lh(H,e,R,A);J=N.$(b*e*4);N.N.Sc(R,e,b,J,[b,e,0,1,0,1,0,0]);
if(b!=a){Q=N.Wa.AH(J,b,e,A);J=N.$(a*e*4);N.Wa.lh(Q,a,J,A)}}else if(b!=a){J=N.$(a*O*4);N.Wa.lh(Q,a,J,A)}return J};
N.Wa.AH=function(G,m,A,Q){var H=Date.now(),J=new Uint16Array(m*A),b=1;N.Wa.a4T(G,m,A,J);var O=Math.ceil(m/b),a=new Uint32Array(b),e=new Uint32Array(b),O=Math.floor(m/b);
for(var R=0;R<b;R++)e[R]=R<b-1?O:m-(b-1)*O;for(var p=0;p<A;p++){var $=p*m;for(var R=0;R<b;R++){var O=e[R];
for(var P=0;P<O;P++)a[R]+=J[$+P];$+=O}}if(Q){console.log(Date.now()-H,"cost");H=Date.now()}var z=new Uint32Array(m),Z=new Uint32Array(m),W=new Uint32Array(m*A);
for(var P=0;P<m;P++){W[(A-1)*m+P]=J[(A-1)*m+P]}for(var p=A-2;p>=0;p--){var T=p*m;for(var R=0;R<b;R++){var O=e[R];
W[T]=J[T]+Math.min(W[T+m],W[T+m+1]);for(var P=1;P<O-1;P++){var $=T+P;W[$]=J[$]+Math.min(W[$+m-1],Math.min(W[$+m],W[$+m+1]))}T+=O-1;
W[T]=J[T]+Math.min(W[T+m-1],W[T+m]);T++}}if(Q){console.log(Date.now()-H,"Building M");H=Date.now()}function i(Y,F){return Y<F?Y:F}function X($,Y){var F=Z[$],w=W[Y],j=~~(F*w*1e-4);
return j}var U=new Uint8Array(m*A),M=new Uint32Array(m);for(var $=0;$<m;$++){z[$]=$;Z[$]=J[$]}for(var p=1;
p<A;p++){var C=0,T=p*m;for(var R=0;R<b;R++){var O=e[R],$=T;M[C]=X(C,$);var x=M[C]+X(C+1,$+1),L=X(C,$+1)+X(C+1,$);
M[C+1]=i(x,L);for(var P=2;P<O;P++){var $=T+P,E=M[C+P-1]+X(C+P-1,$-1),l=M[C+P-2]+X(C+P-1,$-2)+X(C+P-2,$-1);
M[C+P]=i(E,l)}var P=O-1;while(P>=2){var $=T+P,E=M[C+P-1]+X(C+P-1,$-1),l=M[C+P-2]+X(C+P-1,$-2)+X(C+P-2,$-1);
if(M[C+P]==E){U[$-m]=1;P-=1}else{U[$-m]=0;U[$-m-1]=2;P-=2}}var $=T;if(P==0){U[$-m]=1}else{if(M[C+1]==x){U[$+1-m]=1;
U[$-m]=1}else{U[$+1-m]=0;U[$-m]=2}}T+=O;C+=O}N.Wa.ams(p,m,U,J,z,Z,!0,H)}if(Q){console.log(Date.now()-H,"Matching");
H=Date.now()}var y=J;return[UZIP.adler(G,0,G.length),G,m,A,b,e,a,z,Z,U,y]};N.Wa.lh=function(G,m,A,Q){var H=G.slice(0),J=H.shift(),b=H.shift(),O=H.shift(),a=H.shift(),e=H.shift(),R=H.shift(),p=H.shift(),P=H.shift(),z=H.shift().slice(0),Z=H.shift(),W=H.shift(),T=Date.now(),i=Math.abs(O-m),X=Math.floor(i/e),U=new Uint32Array(e),C=0,x=1e9,E=0,l=0,y=0;
for(var M=0;M<e;M++)U[M]=M<e-1?X:i-(e-1)*X;W.fill(0);for(var L=0;L<O;L++){C=Math.max(C,z[L]);x=Math.min(x,z[L])}for(var M=0;
M<e;M++){var Y=R[M],X=U[M];for(var F=0;F<X;F++){var w=0,j=1e9;for(var L=0;L<Y;L++)if(z[l+L]<j){j=z[l+L];
w=l+L}if(m<O)z[w]=1e9;else z[w]*=1.2;if(y<O/3)E+=j;var _=P[w],D=W[_],t=D<65280?65280:D+1;if(t<65280)throw"e";
for(var K=0;K<a;K++){var $=K*O+_;W[$]=t;_+=Z[$]-1}y++}l+=Y}if(Q){console.log(Date.now()-T,"Removing best seams");
T=Date.now()}function d($,k){var v=$<<2,u=k<<2;A[v]=b[u];A[v+1]=b[u+1];A[v+2]=b[u+2];A[v+3]=b[u+3]}for(var K=0;
K<a;K++){var o=0,$=K*O;for(var L=0;L<m;L++,o++){if(m<O){while(W[$+o]==65280)o++;d(K*m+L,K*O+o)}else{d(K*m+L,K*O+o);
while(W[$+o]>=65280){W[$+o]--;L++;d(K*m+L,K*O+o)}}}}if(Q){console.log(Date.now()-T,"Shifting image pixels");
T=Date.now()}};N.Wa.ams=function(G,m,A,Q,H,J){var b=0,$=G*m;while(b<m){if(A[$-m]==1){J[b]=J[b]+Q[$];
b++;$++}else{var O=H[b];H[b]=H[b+1];H[b+1]=O;var a=J[b];J[b]=J[b+1]+Q[$];J[b+1]=a+Q[$+1];b+=2;$+=2}}};
N.Wa.a4T=function(G,m,A,Q){function H(G,$,a){var p=$<<2,P=a<<2,z=G[p]-G[P],Z=G[p+1]-G[P+1],W=G[p+2]-G[P+2];
return Math.abs(z)+Math.abs(Z)+Math.abs(W)}for(var J=1;J<m;J++){var b=H(G,J,J-1);Q[J-1]+=b;Q[J]+=b}for(var O=1;
O<A;O++){var a=O*m,b=H(G,a,a-m);Q[a]+=b;Q[a-m]+=b;for(var J=1;J<m;J++){var $=O*m+J,e=H(G,$,$-1),R=H(G,$,$-m);
Q[$-m]+=R;Q[$-1]+=e;Q[$]+=R+e}}for(var O=0;O<A;O++){Q[O*m]*=2;Q[O*m+m-1]*=2}for(var $=0;$<Q.length;$++)if(Q[$]==0)Q[$]=1};
N.lq=function(){var G=0,m=0,Q=15,J=256;function A(R,p,P,z,Z,W){var T=(Z-1)*p,i=W*p;return R[i+z]-R[i+P-1]-R[T+z]+R[T+P-1]}var H=Math.round(Q/8),b=[];
function O(R,p){for(var P=0;P<p.length;P++){var z=p[P],Z=0,W=0,T=R[z.kM],i=T.Br,X=T.zp,U=T.V7;for(var M=-Q;
M<=Q;M++)for(var C=-Q;C<=Q;C++){var x=C+z.ak4,L=M+z.a6I;if(C*C+M*M>Q*Q||x<0||L<0||x>=X||L>=X)continue;
var E=i[L*X+x];Z+=C*E;W+=M*E}z.UW=Math.atan2(W,Z)}}function a(R,p,P,z,Z){var W=~~(R+.5),T=~~(p+.5);return A(P,z,W-H,W+H,T-H,T+H)}function e(R,p,P,z,Z){G=z;
m=Z;if(b.length==0){var W=new N.a.tw(16200817),U=8,M=0;function T(hZ){var y=hZ[0]-hZ[2],Y=hZ[1]-hZ[3];
return y*y+Y*Y}function i(){var hZ=0,bG=0;while(hZ===0)hZ=W.get();while(bG===0)bG=W.get();return Math.sqrt(-2*Math.log(hZ))*Math.cos(2*Math.PI*bG)}var X=i,C=[];
while(M!=J){var x=Math.max(-Q,Math.min(Q,X()*U)),L=Math.max(-Q,Math.min(Q,X()*U)),E=Math.max(-Q,Math.min(Q,X()*U)),l=Math.max(-Q,Math.min(Q,X()*U)),y=x-E,Y=L-l,F=Math.sqrt(y*y+Y*Y);
if(F<3||F>12)continue;b.push(x,L,E,l);M++}}var w=20;for(var j=0;j<p.length;j++){var _=p[j],D=R[_.kM],t=D.XC,P=D.Br,z=D.zp,Z=D.V7,K=_.ak4,d=_.a6I,o=_.UW,k=Math.cos(o),v=Math.sin(o),u=new Uint8Array(J>>>3);
_.aL=u;for(var $=0;$<J;$++){var B=$*4,x=b[B+0],L=b[B+1],E=b[B+2],l=b[B+3],S=k*x-v*L,I=v*x+k*L,q=k*E-v*l,hw=v*E+k*l,fY=a(K+S,d+I,t,z,Z),s=a(K+q,d+hw,t,z,Z);
u[$>>>3]|=(fY<s?0:1)<<($&7)}}}return{acA:O,auA:e}}();N.app=function(){function G(m,A){var Q=[[9]],H=Date.now(),J=[];
for(var b=0;b<m.length;b++){var O=m[b],a=O.XC,e=O.zp,R=O.V7,z=9,U=1,_=24;if(a==null)continue;var p=new Float32Array(e*R),P=new Uint8Array(e*R),Z=z>>>1,W=Z>>>1,T=Math.round(z/3);
if(T!=z/3)throw"e";var i=1/(z*z),X=1.2*(z/9);for(var M=Z+1;M<R-Z;M+=U)for(var C=Z+1;C<e-Z;C+=U){var x=N.rz(a,e,C-W,C+W,M-Z,M+Z)-3*N.rz(a,e,C-W,C+W,M-Z+T,M+Z-T),L=N.rz(a,e,C-Z,C+Z,M-W,M+W)-3*N.rz(a,e,C-Z+T,C+Z-T,M-W,M+W),E=C-Z+1,l=C+Z-1,y=M-Z+1,Y=M+Z-1,F=N.rz(a,e,E,C-1,y,M-1)+N.rz(a,e,C+1,l,M+1,Y)-N.rz(a,e,C+1,l,y,M-1)-N.rz(a,e,E,C-1,M+1,Y),w=(L*x-.9*F*(.9*F))*(i*i);
p[M*e+C]=Math.abs(w);P[M*e+C]=w<0?0:1}var j=e*U;for(var M=_;M<R-_;M+=U)for(var C=_;C<e-_;C+=U){var $=M*e+C,D=p[$];
if(D<16)continue;if(p[$-U]>=D||p[$+U]>=D)continue;if(p[$-j-U]>=D||p[$-j]>=D||p[$-j+U]>=D)continue;if(p[$+j-U]>=D||p[$+j]>=D||p[$+j+U]>=D)continue;
J.push({x:~~(C*O.o6+.5),y:~~(M*O.o6+.5),ak4:C,a6I:M,kM:b,k:D,ary:P[$],H6:X})}}if(A!=null){J.sort(function(B,S){return S.k-B.k});
J=J.slice(0,A)}return J;var t=[];for(var $=0;$<J.length;$++){var K=!0,d=J[$];for(var o=0;o<J.length;
o++){var k=J[o];if(o!=$&&k.k>d.k&&(k.kM==d.kM+1||k.kM==d.kM-1)){var v=d.x-k.x,u=d.y-k.y;if(v*v+u*u<5){K=!1;
break}}}if(K)t.push(d)}console.log(J.length,t.length);return t}return{alz:G}}();N.i$={};N.i$.acI=function(G){var m=G.length,A=N.i$.er(G,!1),H=0,J=1;
throw"e";var Q=[];for(var $=0;$<m;$++)Q[$]=N.i$.y8(A[$]);var b=G[0][1],O=N.i$.match(A[H],A[J],Q[J]);
console.log(O.length);var a=Math.max(Math.min(O.length,40),O.length*.54);a=Math.min(a,200);var e=O.slice(0,a),R=N.yw.ajl(A[H],A[J],e,b.e,b.n),p=N.yw.anH(R,[0,0,0],1),P=b.e/2,z=b.n/2,Z=1/Math.max(P,z);
for(var $=0;$<1;$++){var W=e[$],T=A[H][W[0]],i=A[J][W[1]],X=N.yw.adU(p,Z*(T.x-P),Z*(T.y-z),Z*(i.x-P),Z*(i.y-z))}var U=N.yw.ahd(R,b),M=[];
for(var $=0;$<2;$++){var C=U[$],x=[C[0][0],C[0][1],C[0][2],C[1][0],C[1][1],C[1][2],C[2][0],C[2][1]],L=f.Q.sT(G[$],null,x);
M.push([L.buffer,L.rect])}return[N.i$.a15(M[0],M[1],A[H],A[J],e,R,U,b)]};N.i$.wh=function(G,m){var A=G.length,Q=!1,H=Date.now(),J=N.i$.er(G,!1,1e4);
if(Q)console.log("Descriptors ready",Date.now()-H);H=Date.now();for(var $=0;$<A;$++){var b=G[$][1];for(var O=0;
O<J[$].length;O++){J[$][O].x+=b.x;J[$][O].y+=b.y}}if(Q)console.log("shifted",Date.now()-H);H=Date.now();
var a=[];for(var $=0;$<A;$++)a[$]=N.i$.y8(J[$]);if(Q)console.log("trees built",Date.now()-H);H=Date.now();
var e=[];for(var $=0;$<A-1;$++)for(var O=$+1;O<A;O++){var R=N.i$.match(J[$],J[O],a[O]);if(Q)console.log("Matches found",$,O,R.length);
R=R.slice(0,R.length>>>1);if(R.length<10)return null;var p=N.i$.ah5(J[$],J[O],R,2);e.push([$,O,R,p])}e.sort(function(y,Y){return Y[2].length-y[2].length});
if(Q)console.log("Matches found",Date.now()-H);H=Date.now();var P=[],z=new UnionFind(A);for(var $=0;
$<e.length;$++){var Z=e[$],W=z.find(Z[0]),T=z.find(Z[1]);if(W!=T){P.push(Z);z.link(W,T)}}var X=[];for(var $=0;
$<A;$++)X[$]=[1,0,0,0,1,0,0,0];var U=[0],M=new Uint8Array(A);M[U[0]]=1;while(U.length!=0){var T=U.pop(),p=X[T],C=[];
for(var $=0;$<P.length;$++){var Z=P[$],x=Z[0],L=Z[1];if(x==T&&M[L]==0){X[L]=N.N.rF(p,Z[3]);U.push(L);
M[L]=1}if(L==T&&M[x]==0){X[x]=N.N.rF(p,N.N.G3(Z[3]));U.push(x);M[x]=1}}}if(m==null){var E=[];for(var $=0;
$<A;$++)E.push([X[$][2],$]);E.sort(function(y,Y){return y[0]-Y[0]});m=E[E.length>>>1][1]}var l=N.N.G3(X[m]);
for(var $=0;$<A;$++)X[$]=N.N.rF(X[$],l);if(Q)console.log("Transforms reordered",Date.now()-H);H=Date.now();
return X};N.i$.er=function(G,m,A){var Q=[],H=!1;for(var $=0;$<G.length;$++){var J=G[$][0],b=G[$][1],O=b.e,a=b.n,e=N.$(b.Z());
N.le(J,e);var R=Date.now(),p=N.i$.ahE(e,b,!0);if(H)console.log("Pyramid built ---------------",Date.now()-R);
R=Date.now();var P=N.app.alz(p,A);if(H)console.log("SURF Generation",Date.now()-R);R=Date.now();if(!m){N.lq.acA(p,P);
if(H)console.log("ORB Orientations",Date.now()-R);R=Date.now();N.lq.auA(p,P,e,O,a);if(H)console.log("ORB Descriptors",Date.now()-R);
R=Date.now()}Q.push(P)}return Q};N.i$.ahE=function(G,m,A){var Q=[],H=[G,m];N.wF(H);if(A){var J=N.dB(G,m),b=J.rect,O=[J.uw,b];
N.wF(O)}for(var $=0;$<H.length;$++){var a=H[2*$],e=H[2*$+1],R=e.e,p=e.n,P=Math.min(R,p);if(P<30)break;
if(P<1600)Q.push({Br:a,zp:R,V7:p,o6:1<<$,XC:N.cy(a,R,p)});if(!A)continue;var a=O[2*$],e=O[2*$+1],R=e.e,p=e.n,P=Math.min(R,p);
if(P<30)break;if(P<1600)Q.push({Br:a,zp:R,V7:p,o6:(1<<$)*3/2,XC:N.cy(a,R,p)})}return Q};N.i$.ah5=function(G,m,A,Q){var H=Date.now(),J,b=0,O=0,a=A.length,e=new Float64Array(2);
for(var R=0;R<3e3;R++){var p=~~(Math.random()*a),P=~~(Math.random()*a),z=~~(Math.random()*a),Z=~~(Math.random()*a),j=0,_=0;
if(p==P||p==z||p==Z||P==z||P==Z||z==Z)continue;var W=A[p],T=A[P],i=A[z],X=A[Z],U=G[W[0]],M=m[W[1]],C=G[T[0]],x=m[T[1]],L=G[i[0]],E=m[i[1]],l=G[X[0]],y=m[X[1]],Y=[U.x,U.y,C.x,C.y,L.x,L.y,l.x,l.y],F=[M.x,M.y,x.x,x.y,E.x,E.y,y.x,y.y],w=N.N.K1(Y,F);
if(w[0]==0&&w[1]==0&&w[3]==0&&w[4]==0)continue;var D=a-b+2;for(var $=0;$<a&&$-j<D;$++){var t=G[A[$][0]],K=m[A[$][1]];
N.N.Vl(K.x,K.y,w,e);var d=e[0]-t.x,o=e[1]-t.y,k=d*d+o*o;if(k<Q){j++;_+=k}}if(j>b||j==b&&_<O){J=w;b=j;
O=_}}return J};var da=new Uint8Array(256);for(var $=0;$<256;$++){var gD=0,jw=$;while(jw!=0){jw=jw&jw-1;
gD++}da[$]=gD}N.i$.alu=function(G,m,A){var Q=0,H=G.length;for(var $=0;$<H&&Q<A;$++)Q+=da[G[$]^m[$]];
return Q};N.i$.asv=function(G,m,A,top,Q){if(Q[A]==1)return;var H=N.i$.alu(G.aL,m.aL,top[0]);if(H<top[0]){if(H<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=H;top[3]=A}else{top[0]=H;top[1]=A}}Q[A]=1};N.i$.y8=function(G){var m=[],A=[],Q=[[],[]],H=4;
for(var $=0;$<G.length;$++)(G[$].ary==0?m:A).push($);for(var J=0;J<2;J++){var b=new Array(H),O=[],a=J==0?m:A,e=a.length/256,R=[];
for(var p=0;p<32;p++){var P=new Array(256),W=0;for(var z=0;z<256;z++)P[z]=[];for(var z=0;z<a.length;
z++){var Z=a[z];P[G[Z].aL[p]].push(Z)}for(var z=0;z<256;z++)W+=Math.abs(P[z].length-e);R.push([W,p,P])}R.sort(function(T,i){return T[0]-i[0]});
var O=[],b=[];Q[J]=[O,b];for(var $=0;$<H;$++){O.push(R[$][1]);b.push(R[$][2])}}return Q};N.i$.match=function(G,m,A){var Q=[],H=new Uint16Array(m.length);
H.fill(65535);var J=new Uint8Array(m.length),top=new Uint32Array(4),b=[];for(var O=0;O<G.length;O++){var a=G[O],e=a.aL;
top.fill(1e6);J.fill(0);var R=A[a.ary];for(var p=0;p<R[1].length;p++){var P=R[1][p][e[R[0][p]]];for(var z=0;
z<P.length;z++){var Z=P[z];N.i$.asv(a,m[Z],Z,top,J)}}if(top[2]<50&&top[2]<top[0]*.5){var W=H[top[3]];
if(W==65535){H[top[3]]=Q.length;Q.push([O,top[3],top[2]])}else if(top[2]<Q[W][2]){Q[W]=[O,top[3],top[2]]}}}Q.sort(function(T,i){return T[2]-i[2]});
return Q};N.i$.a7s=function(G){var m=new f_;for(var $=0;$<G.length;$++)m=m.wj(G[$][1]);var A=N.$(m.Z()*4);
for(var $=0;$<G.length;$++)N.a.zc("norm",G[$][0],G[$][1],A,m,m,1);return[A,m]};N.i$.a15=function(G,m,A,Q,H,J,b,O){var a=G[1].clone(),e=a.clone();
a.x=a.y=0;var R=m[1].clone(),p=R.clone();R.x=R.y=0;R.x=a.e;var P=a.wj(R),z=p.y-e.y,Z=N.$(P.Z()*4);N.Pr(G[0],a,Z,P);
N.Pr(m[0],new f_(R.x,R.y+z,R.e,R.n),Z,P);var W=document.createElement("canvas");W.width=P.e;W.height=P.n;
var T=W.getContext("2d");T.lineWidth=.5;T.putImageData(new ImageData(new Uint8ClampedArray(Z.buffer),P.e,P.n),0,0);
if(J){var i=J[0],X=N.Nu.kh(i),U=a.e,M=O.e;for(var $=0;$<H.length;$++){var C=H[$],G=A[C[0]],m=Q[C[1]];
T.strokeStyle="#"+"ff0000";T.beginPath();var x=N.yw.a5v(X,b[0],m,0,M),L=N.yw.a5v(i,b[1],G,0,M);T.moveTo(-e.x+x[0],-e.y+x[1]);
T.lineTo(-e.x+x[2],-e.y+x[3]);T.moveTo(U-p.x+L[0],-p.y+z+L[1]);T.lineTo(U-p.x+L[2],-p.y+z+L[3]);T.stroke()}}if(H){var E=H.length;
for(var $=0;$<E;$++){var C=H[$],G=A[C[0]],m=Q[C[1]];T.strokeStyle="#"+"ffff00"}}var l=new Uint8Array(T.getImageData(0,0,P.e,P.n).data.buffer);
if(!1){for(var y=0;y<2;y++){var Y=y==0?A:Q,F=y*a.e;for(var $=0;$<Y.length;$++){var w=Y[$],j=~~w.x,_=~~w.y,D=(_*P.e+j+F)*4;
l[D+1]=l[D+2]=w.a0c*60;l[D+0]=0;l[D+3]=255}}}return[l,P]};N.stack={};N.stack.stack=function(G,m,A){var Q=G.length,H=m.length;
if(Q==1){m.set(G[0]);return}if(A=="avrg"||A=="stdv"||A=="summ"||A=="vari"){var J=1/Q;for(var $=0;$<H;
$++){var b=0;for(var O=0;O<Q;O++)b+=G[O][$];var a=~~(b*J+.5);if(A=="avrg"||($&3)==3)m[$]=a;else if(A=="summ")m[$]=255*Math.pow(Math.min(255,b)*(1/255),1/2.4);
else{var e=0;for(var O=0;O<Q;O++){var R=G[O][$]-a;e+=R*R}var p=Math.sqrt(e*J)*(1/255);if(A=="stdv")m[$]=255*Math.pow(p,1/2.4);
else m[$]=255*Math.pow(p*p,1/2.4)}}}else if(A=="maxx"){for(var $=0;$<H;$++){var P=0;for(var O=0;O<Q;
O++)P=Math.max(P,G[O][$]);m[$]=P}}else if(A=="minn"){for(var $=0;$<H;$++){var P=255;for(var O=0;O<Q;
O++)P=Math.min(P,G[O][$]);m[$]=P}}else if(A=="medn"||A=="rang"){var z=function(i,X){return i-X},Z=new Array(Q),W=0,T=0;
if(Q%1==0){T=Q>>>1;W=T-1}else{W=T=Q>>>1}for(var $=0;$<H;$++){for(var O=0;O<Q;O++)Z[O]=G[O][$];Z.sort(z);
if(A=="medn")m[$]=Z[W]+Z[T]>>>1;else m[$]=($&3)==3?Z[Q-1]:Z[Q-1]-Z[0]}}else console.log(A)};N.m8={};
N.m8.abg=function(G,m,A,Q){var H=Date.now(),J=new Uint32Array(m*A),b=new Uint8Array(m*A);while(!0){b.fill(0);
J.fill(0);var O=[],a=0;for(var e=0;e<A;e++){for(var R=0;R<m;R++){var $=e*m+R;if(b[$]==0){var p=O.length,P=N.m8.CA(G,m,A,R,e,b,J,p);
O.push([p,R,e,P[0],P[1],G[$]]);if(P[0]<Q)a++}}}if(a==0)break;var z=O.length,Z=new UnionFind(z),W=[];
for(var $=0;$<z;$++)W.push([]);for(var $=0;$<z;$++){var P=O[$],T=P[4],i=0,X=0;if(P[3]>=Q)continue;var p=P[0];
for(var U=0;U<T.length;U+=2){var M=J[T[U+1]*m+T[U]],C=O[M];if(C[3]>X){X=C[3];i=M}}if(Z.find(p)!=Z.find(i)){Z.link(p,i);
W[p].push(i);W[i].push(p)}}var x=new Uint32Array(z);x.fill(4294967295);var L=new Uint32Array(z);for(var $=0;
$<z;$++){if(x[$]!=4294967295||W[$].length==0)continue;var E=[$],l=[$],y=$,Y=O[$][3];while(l.length!=0){var F=l.pop(),w=W[F];
for(var U=0;U<w.length;U++){var j=w[U];if(E.indexOf(j)==-1){E.push(j);l.push(j);var _=O[j];if(_[3]>Y){Y=_[3];
y=j}}}}for(var U=0;U<E.length;U++){x[E[U]]=y;var D=O[y];L[E[U]]=G[D[2]*m+D[1]]}}for(var e=0;e<A;e++)for(var R=0;
R<m;R++){var $=e*m+R,t=x[J[$]];if(t!=4294967295)G[$]=L[t]}}};N.m8.CA=function(G,m,A,Q,H,J,b,O){var a=[Q,H],e=G[H*m+Q],R=0,p=[];
J[H*m+Q]=1;while(a.length!=0){var P=a.pop(),z=a.pop(),$=P*m+z;b[$]=O;R++;if(P!=A-1)if(G[$+m]==e){if(J[$+m]==0){a.push(z,P+1);
J[$+m]=1}}else p.push(z,P+1);if(P!=0)if(G[$-m]==e){if(J[$-m]==0){a.push(z,P-1);J[$-m]=1}}else p.push(z,P-1);
if(z!=m-1)if(G[$+1]==e){if(J[$+1]==0){a.push(z+1,P);J[$+1]=1}}else p.push(z+1,P);if(z!=0)if(G[$-1]==e){if(J[$-1]==0){a.push(z-1,P);
J[$-1]=1}}else p.push(z-1,P)}return[R,p]};N.m8.ab7=function(G,m,A,Q,H){var J=N.m8.ZA(G.buffer,m,A).nV,b=Date.now(),O=[];
for(var $=0;$<J.length;$++){var a=J[$],e=1;for(var R=0;R<e;R++)O.push(a.Qv)}var p=new Uint32Array(O),P=UPNG.quantize.getKDtree(new Uint8Array(p.buffer),Q),z=[m,1,-m,-1,m+1,-m+1,-m-1,m-1,m+m,2,-m-m,-2,m+m-1,m+m+1,m+2,-m+2,-m-m+1,-m-m-1,-m-2,m-2,m+m+2,-m-m+2-m-m-2,m+m-2],Z=new Uint8Array(m*A),W=G;
for(var T=0;T<A;T++)for(var i=0;i<m;i++){var $=T*m+i<<2,X=W[$]*(1/255),U=W[$+1]*(1/255),M=W[$+2]*(1/255),C=W[$+3]*(1/255),x=N.m8._f(P,X,U,M,C,H);
if(x==null){var L=[],E=0;while(E<20){var l=T*m+i+z[E]<<2,y=W[l]*(1/255),Y=W[l+1]*(1/255),F=W[l+2]*(1/255),w=W[l+3]*(1/255),j=N.m8._f(P,y,Y,F,w,.005);
if(j!=null){if(L.indexOf(j)==-1){L.push(j);j.dM=1}else j.dM++}E++}L.sort(function(C,M){return M.dM-C.dM});
while(L.length!=0&&L[L.length-1].dM<3)L.pop();if(L.length==0)x=N.m8._f(P,X,U,M,C,100);else if(L.length==1)x=L[0];
else if(L.length==2){var _=L[0],D=L[1],t=_.est.q,K=D.est.q,d=K[0]-t[0],o=K[1]-t[1],k=K[2]-t[2],v=K[3]-t[3],u=X-t[0],B=U-t[1],S=M-t[2],I=C-t[3],q=d*d+o*o+k*k+v*v,hw=u*u+B*B+S*S+I*I,fY=(u*d+B*o+S*k+I*v)/q,s=hw-fY*fY*q;
if(s<.5)x=fY<.5?_:D;else{x=N.m8._f(P,X,U,M,C,100)}}else{var _=L[0],D=L[1],hZ=L[2],t=_.est.q,K=D.est.q,bG=hZ.est.q,aY=t[0]-bG[0],fj=t[1]-bG[1],jg=t[2]-bG[2],ae=t[3]-bG[3],iB=K[0]-bG[0],eg=K[1]-bG[1],dM=K[2]-bG[2],fK=K[3]-bG[3],aQ=bG[0]-X,cQ=bG[1]-U,a7=bG[2]-M,gz=bG[3]-C,bQ=aY*aY+fj*fj+jg*jg+ae*ae,d4=aY*iB+fj*eg+jg*dM+ae*fK,j2=aQ*aY+cQ*fj+a7*jg+gz*ae,j7=aY*iB+fj*eg+jg*dM+ae*fK,fG=iB*iB+eg*eg+dM*dM+fK*fK,bT=aQ*iB+cQ*eg+a7*dM+gz*fK,je=1/(d4*j7-bQ*fG),fY=(fG*j2-bT*d4)*je,ba=(bT*bQ-j2*j7)*je,j6=1-fY-ba,cl=Math.max(fY,ba,j6);
if(cl==fY)x=_;else if(cl==ba)x=D;else x=hZ}}Z[$>>2]=x.ind}return{cT:Z,nV:P[1]}};N.m8.ZA=function(G,m,A){var Q=[],H={},J=m-1,b=A-1,O=0,a=new Uint32Array(G),e=[-m-1,-m,-m+1,-1,1,m-1,m,m+1,m+m,2,-m-m,-2,m+m-1,m+m+1,m+2,-m+2,-m-m+1,-m-m-1,-m-2,m-2,m+m+2,-m-m+2-m-m-2,m+m-2];
for(var R=1;R<b;R++)for(var p=1;p<J;p++){var P=R*m+p,z=a[P],Z=!0;for(var $=0;$<8;$++)Z=Z&&a[P+e[$]]==z;
if(Z){O++;var W=H[z];if(W==null){H[z]=Q.length;Q.push({Qv:z,uV:1})}else Q[W].uV++}}return{nV:Q,a3A:O}};
N.m8._f=function(G,m,A,Q,H,J){var b=UPNG.quantize.getNearest(G[0],m,A,Q,H);return N.m8.a7h(b,m,A,Q,H)<J?b:null};
N.m8.a7h=function(G,m,A,Q,H){var J=G.est.q,b=m-J[0],O=A-J[1],a=Q-J[2],e=H-J[3];return b*b+O*O+a*a+e*e};
N.m8.Tw=function(){function G(i,X,U,M,C,x){var L=[],E=x,l=x,y=x>>>2;for(var Y=0;Y<C;Y++)for(var F=0;
F<M;F++){var w=~~((F+.5)*E),j=~~((Y+.5)*l),_=1e9,D=Math.max(0,w-y),t=Math.min(X,w+y+1),K=Math.max(0,j-y),d=Math.min(U,j+y+1);
for(var o=K;o<d;o++)for(var k=D;k<t;k++){var v=m(i,X,k,o);if(v<_){w=k;j=o;_=v}}var u=(j*X+w)*4;L.push(w,j)}return L}function m(i,X,U,M){var C=(M*X+U)*4,x=X*4,L=A(i,C-4,C)+A(i,C,C+4),E=A(i,C-x,C)+A(i,C,C+x);
return L+E}function A(i,X,U){var M=i[X]-i[U],C=i[X+1]-i[U+1],x=i[X+2]-i[U+2];return M*M+C*C+x*x}var Q=0,H=0;
function J(i,X,U,M){H++;if(M<Q)Q=M;i[M].push(X,U)}function b(i){H--;while(i[Q].length==0)Q++}function O(i,X,U,M,C){Q=0;
H=0;var x=X*U,L=Math.round(Math.min(X,U)/(M?M:50)),D=0,t=16;if(L==0)L=1;var E=(C?C:30)/L,l=Math.floor(X/L),y=Math.floor(U/L),Y=new Uint16Array(x);
for(var $=0;$<x;$++)Y[$]=65535;var F=G(i,X,U,l,y,L),w=F.length>>>1;if(w>65535)throw w;var j=[];for(var $=0;
$<1e3+U;$++)j.push([]);var _=[0,1,0,-1,-1,0,1,0],K=Math.min(y,5),d=new Uint32Array(w*6);for(var o=0;
o<y;o+=K){var k=Math.min(o+K+1,y);for(var v=o;v<k;v++)for(var u=0;u<l;u++){var $=v*l+u,B=$*2,S=F[B+1]<<16|F[B];
J(j,S,$,F[B+1]>>>t)}var I=Math.min(U,k*L);if(o+K>=y)I=U;while(H!=0){b(j);var q=j[Q].pop(),hw=j[Q].pop(),fY=hw>>>16,s=hw&65535,$=fY*X+s;
if(Y[$]==65535){var hZ=q*6,bG=$<<2;Y[$]=q;d[hZ]+=i[bG];d[hZ+1]+=i[bG+1];d[hZ+2]+=i[bG+2];d[hZ+3]+=s;
d[hZ+4]+=fY;d[hZ+5]++;var aY=fY>>>t;if(fY!=I-1&&Y[$+X]==65535)J(j,fY+1<<16|s,q,a(i,X,E,s,fY+1,d,hZ)+aY);
if(fY!=0&&Y[$-X]==65535)J(j,fY-1<<16|s,q,a(i,X,E,s,fY-1,d,hZ)+aY);if(s!=0&&Y[$-1]==65535)J(j,fY<<16|s-1,q,a(i,X,E,s-1,fY,d,hZ)+aY);
if(s!=X-1&&Y[$+1]==65535)J(j,fY<<16|s+1,q,a(i,X,E,s+1,fY,d,hZ)+aY)}}if(I!=fY){var fj=(o+K)*l;d.fill(0,fj*6,(fj+l)*6);
for(var fY=(o+K-2)*L;fY<I;fY++)for(var s=0;s<X;s++){var $=fY*X+s;if(Y[$]>=fj){Y[$]=65535}}}}return{cT:Y,SU:w,q$:d}}N.m8.ap=function(i,X,U,M,C){var x=i.SU,L=X*U,E=i.q$,l=i.cT,y=z(M,l,x,L),Y=new UnionFind(x),t=0;
for(var F=1;F<U;F++)for(var w=1;w<X;w++){var $=F*X+w,j=l[$],_=0;if((_=l[$-1])!=j&&y[_]==y[j]&&e(E,0,j*6,_*6)<C)Y.link(j,_);
if((_=l[$-X])!=j&&y[_]==y[j]&&e(E,0,j*6,_*6)<C)Y.link(j,_)}var D=new Uint16Array(x);D.fill(65535);var K=new Uint16Array(x);
for(var $=0;$<x;$++){var d=Y.find($);if(D[d]==65535)D[d]=t++;K[$]=D[d]}var o=new Uint16Array(L);for(var $=0;
$<L;$++)o[$]=K[l[$]];return{cT:o,SU:t}};N.m8.aok=function(i,X,U,M){var C=N.$(U),x=X.length,L=0;for(var $=0;
$<x&&L!=3;$++){var E=M[$];if(E==0||E==255){var l=X[$],y=2-(E>>>7);C[l]=L=C[l]|y}}return L!=3};function a(i,X,U,M,C,x,L){var E=(C*X+M)*4,l=x[L+5],y=1/l,Y=i[E]*l-x[L],F=i[E+1]*l-x[L+1],w=i[E+2]*l-x[L+2],j=M*l-x[L+3],_=C*l-x[L+4],D=Math.sqrt(Y*Y+F*F+w*w),t=Math.sqrt(j*j+_*_);
return~~((D+U*t)*y+.5)}function e(i,X,U,M){var C=1/i[U+5],x=1/i[M+5],L=i[U]*C-i[M]*x,E=i[U+1]*C-i[M+1]*x,l=i[U+2]*C-i[M+2]*x,y=i[U+3]*C-i[M+3]*x,Y=i[U+4]*C-i[M+4]*x,F=Math.sqrt(L*L+E*E+l*l),w=Math.sqrt(y*y+Y*Y);
return~~(F+X*w+.5)}function R(i,X,U){var M=N.rG(i,new f_(0,0,X,U)),C=M.rect.e,x=M.rect.n,L=O(M.uw,C,x),E=L.cT,l=Date.now(),y=new Uint16Array(X*U);
y.fill(65535);for(var Y=0;Y<x;Y++){for(var F=0;F<C;F++){var w=Y*C+F,$=(Y<<1)*X+(F<<1),j=E[w];if(E[w-C]!=j||E[w-1]!=j||E[w+1]!=j||E[w+C]!=j)j=65535;
y[$]=j;y[$+1]=j;y[$+X]=j;y[$+X+1]=j}}L.cT=y;return L}function p(i,X){var $=0,U=i.length;while($!=U&&i[$]!=X)$+=2;
return $==U?-1:$}function P(i,$){if($==i.length-2){i.pop();i.pop()}else{i[$+1]=i.pop();i[$]=i.pop()}}N.m8.aqu=function(i,X,U,M,C){var x=new Uint32Array(C*4400),m=[];
for(var $=0;$<C;$++)m.push([]);for(var L=0;L<U;L++)for(var E=0;E<X;E++){var $=L*X+E,l=$<<2,y=M[$],Y=0,F=i[l]>>>4,w=i[l+1]>>>4,j=i[l+2]>>>4;
x[y*4400+(F<<8|w<<4|j)]++;x[y*4400+4096]++;x[y*4400+4100+(F<<4|w)]++;x[y*4400+4360+F]++;if(E!=0&&(Y=M[$-1])!=y&&p(m[y],Y)==-1){m[y].push(Y,0);
m[Y].push(y,0)}if(L!=0&&(Y=M[$-X])!=y&&p(m[y],Y)==-1){m[y].push(Y,0);m[Y].push(y,0)}}for(var $=0;$<C;
$++){var j=m[$];for(var _=0;_<j.length;_+=2)j[_+1]=T(x,$,j[_])}return[x,m]};function z(i,X,U,M){var C=N.$(U);
for(var $=0;$<M;$++){var x=i[$];if(x==0||x==255)C[X[$]]=2-(x>>>7)}return C}N.m8.agb=function(i,X,U,M,C,x,L){var E=X*U,l=L[0],m=L[1],y=new UnionFind(M),Y=z(C,i,M,E),F=-1,w=!0,j=0;
for(var $=0;$<M;$++)if(Y[$]==1){if(F==-1)F=$;else y.link($,F)}if(F==-1){for(var $=0;$<E;$++)x[$]=C[$]==255?255:0;
return}while(w){while(w){w=!1;for(var $=0;$<M;$++){if(Y[$]==0){var _=Z(m[$]);if(Y[_]==1){Y[$]=Y[_];w=!0;
y.link($,_)}}}}w=!0;j=0;while(w){w=!1;for(var $=0;$<M;$++){if(Y[$]==0){var _=Z(m[$]);if(Y[_]==0){var D=$*4400,t=_*4400;
for(var K=0;K<4400;K+=2){l[D+K]+=l[t+K];l[D+K+1]+=l[t+K+1]}W(m,l,$,_);j++;Y[_]=3;w=!0;y.link($,_)}}}}w=j!=0}var d=y.find(F);
for(var $=0;$<M;$++)Y[$]=y.find($)==d?255:0;for(var $=0;$<E;$++){x[$]=Y[i[$]]}for(var $=0;$<E;$++){var _=C[$];
if(_==0||_==255)x[$]=_}};function Z(i){var X=0,U=0,M=i.length;for(var C=0;C<M;C+=2){var x=i[C+1];if(x>U){U=x;
X=C}}return i[X]}function W(m,i,X,U){var M=m[X],C=m[U];P(M,p(M,U));P(C,p(C,X));for(var $=0;$<C.length;
$+=2){var x=C[$],L=m[x];P(L,p(L,U));if(p(L,X)==-1){L.push(X,0);M.push(x,0)}}for(var $=0;$<M.length;$+=2){var x=M[$],L=m[x],E=T(i,X,x);
M[$+1]=E;L[p(L,X)+1]=E}}function T(i,X,U){var M=0,C=4096,x=X*4400,L=U*4400;for(var E=0;E<16;E++){if(i[x+4360+E]==0||i[L+4360+E]==0)continue;
for(var l=0;l<16;l++){var y=E<<4|l;if(i[x+4100+y]==0||i[L+4100+y]==0)continue;var Y=x+(y<<4),F=L+(y<<4);
for(var $=0;$<16;$++)M+=Math.sqrt(i[Y+$]*i[F+$])}}var w=M/Math.sqrt(i[x+C]*i[L+C]);return~~(999.99999*w)}return O}();
N.rg={};N.rg.aoK=function(){var G=11,m=7,A=G>>>1,jw=m>>>1,Q=2,H=2e3/Q,J=[],O=null,a="";function b(R,p,P){var z=(R[p+0]-R[P+0])*(1/255),Z=(R[p+1]-R[P+1])*(1/255),W=(R[p+2]-R[P+2])*(1/255),T=(R[p+3]-R[P+3])*(1/255),i=z*z*.125+Z*Z*.25+W*W*.5+T*T;
return J[~~(i*H)]}function e(R,p,P,z,Z,W){var T=Date.now(),i=N.$(p*P);N.le(R,i);var X=UZIP.adler(i,0,p*P);
if(X!=a){var U=N.cy(i,p,P);O=N.$(p*P*4);a=X;var M=[1,1/9,1/25,1/49,1/81];for(var C=0;C<P;C++)for(var x=0;
x<p;x++)for(var $=0;$<4;$++){var L=Math.max(1,x-$),E=Math.min(p-1,x+$),l=Math.max(1,C-$),y=Math.min(P-1,C+$),Y=N.rz(U,p,L,E,l,y);
if(isNaN(Y))throw x+","+C+","+$+","+Y;O[(C*p+x)*4+$]=Y*M[$]}}if(h.wq){var F=h.NL(0,p,P);F.set(R);var w=h.NL(1,p,P);
w.set(O);var j=h.NL(2,p,P);h.Hj(j);h.filter.Av({type:h.filter.a8y,x8:new Float32Array([1/p,1/P]),a94:w.Vj,apD:Z,a0t:W},F.Vj);
j.get(z)}else{for(var $=0;$<2e3;$++)J[$]=Math.exp(-($/2e3)*Q*(100+(1-Z)*(1-Z)*1e4));var _=jw+2;for(var C=_;
C<P-_;C++)for(var x=_;x<p-_;x++){var D=0,t=0,K=0,d=0;for(var o=0;o<G;o++)for(var k=0;k<G;k++){var v=x+k-A,u=C+o-A;
if(v==x&&u==C||v<_||u<_||v>=p-_||u>=P-_)continue;var B=b(O,(C*p+x)*4,(u*p+v)*4),S=u*p+v<<2;D+=B*R[S+0];
t+=B*R[S+1];K+=B*R[S+2];d+=B}if(d==0){continue}var I=1/d,q=(C*p+x)*4;z[q+0]=~~((1-W)*I*D+W*z[q+0]);z[q+1]=~~((1-W)*I*t+W*z[q+1]);
z[q+2]=~~((1-W)*I*K+W*z[q+2])}}}return e}();var fb=function(){function G(){this.Z=0;this.vb=0;this.SD={};
this.Fd=[];this.wM=1e5;this.X8=1e5;this.EC=-1;this.dF=-1;this.color=0}function m(jw){this.Fk=jw;this.QK=new Array(jw);
this.Qv=new Array(jw*6);this.ahm=0;this.Yo=new Array(jw*2);this.alpha=new Array(jw);this.I4=new Array(jw);
this.lc=new Array(jw)}function A(H,J,b,O){function a(T,i,H,J){return H[J*i+T]}function e($){var L=H.length;
while($<L&&H[$]==0)$++;return $<L?$:-1}function R(T,i,L){for(var $=2;$<5;$++){var E=0;for(var l=-$+1;
l<=$-1;l++){E+=a(T+l,i+$-1,H,J)==L?1:-1;E+=a(T+$-1,i+l-1,H,J)==L?1:-1;E+=a(T+l-1,i-$,H,J)==L?1:-1;E+=a(T-$,i+l,H,J)==L?1:-1}if(E>0)return 1;
else if(E<0)return 0}return 0}function p(L,Z){var W=new G,T=L,i=Z,E=0,l=1,y;W.color=H[Z*J+L];W.sign=a(L,Z,H,J)==W.color?"+":"-";
while(1){W.Fd.push(T,i);if(T>W.EC)W.EC=T;if(T<W.wM)W.wM=T;if(i>W.dF)W.dF=i;if(i<W.X8)W.X8=i;W.vb++;T+=E;
i+=l;W.Z-=T*l;if(T==L&&i==Z)break;var Y=a(T+(E+l-1>>1),i+(l-E-1>>1),H,J)==W.color,F=a(T+(E-l-1>>1),i+(l+E-1>>1),H,J)==W.color;
if(F&&!Y){if(O.cB=="right"||O.cB=="black"&&W.sign=="+"||O.cB=="white"&&W.sign=="-"||O.cB=="majority"&&R(T,i,W.color)||O.cB=="minority"&&!R(T,i,W.color)){y=E;
E=-l;l=y}else{y=E;E=l;l=-y}}else if(F){y=E;E=-l;l=y}else if(!Y){y=E;E=l;l=-y}}return W}var P=0,z=[];
while(!0){var P=e(P);if(P==-1)break;var Z=Math.floor(P/J),W=p(P-Z*J,Z);for(var $=0;$<W.Fd.length-2;$+=2){var T=W.Fd[$],i=W.Fd[$+1],X=i*J+T;
if(T==W.Fd[$+2]&&i+1==W.Fd[$+3]&&H[X]!=0)fb.fill(X,H,J,0)}if(W.Z>O.a7I)z.push(W)}for(var $=0;$<z.length;
$++)z[$].parent=-1;var U=Date.now();for(var $=1;$<z.length;$++){var M=z[$];for(var C=$-1;C>=0;C--){var x=z[C];
if(M.wM<x.wM||M.EC>x.EC||M.X8<x.X8||M.dF>x.dF)continue;if(!fb.a3x(x.Fd,M.Fd[0]+.5,M.Fd[1]+.5))continue;
M.parent=C;break}}return z}function Q(H,J){function b(E,l,y,Y,F){this.x=E;this.y=l;this.if=y;this.zX=Y;
this.RS=F}function O(E,jw){return(jw+E)%jw}function a(E,l,y,Y){return E*Y-y*l}function e(E,l,y,Y){return E*y+l*Y}function R(E,l,y){if(E<=y)return E<=l&&l<y;
else return E<=l||l<y}function p(E,l,y){var Y=0;Y+=l*E[0]*l;Y+=l*E[1]*y;Y+=l*E[2];Y+=y*E[3]*l;Y+=y*E[4]*y;
Y+=y*E[5];Y+=E[6]*l;Y+=E[7]*y;Y+=E[8];return Y}function P(E,l,y){return l+E*(y-l)}function z(E,l,y,Y){var F=Math.sign(y-E),w=-Math.sign(Y-l);
return F*(y-E)-w*(Y-l)}function Z(E,l){return Math.sqrt(E*E+l*l)}function W(E,l,y,Y,F){var w=1-E;return w*w*w*l+3*(w*w*E)*y+3*(E*E*w)*Y+E*E*E*F}function T(E,l,y,Y,F,w,j,_){var D=a(E,l,j,_),t=a(y,Y,j,_),K=a(F,w,j,_),d=D-2*t+K,o=-2*D+2*t,k=D,v=o*o-4*d*k;
if(d==0||v<0)return-1;var u=Math.sqrt(v),B=(-o+u)/(2*d),S=(-o-u)/(2*d);if(B>=0&&B<=1)return B;else if(S>=0&&S<=1)return S;
else return-1}function i(L){var $,E,l;L.Sa=L.Fd[0];L.apX=L.Fd[1];L.fs=[];var y=L.fs;y.push(new b(0,0,0,0,0));
for($=0;$<L.vb;$++){E=L.Fd[$<<1]-L.Sa;l=L.Fd[($<<1)+1]-L.apX;y.push(new b(y[$].x+E,y[$].y+l,y[$].if+E*l,y[$].zX+E*E,y[$].RS+l*l))}}function X(L){var jw=L.vb,E=L.Fd,l,y=new Array(jw),Y=new Array(jw),F=new Array(4),w,j,_,D,t,K,d,o,k,v,u,$,B,S,I,q,hw,fY,s=0;
L.dA=new Array(jw);for($=jw-1;$>=0;$--){if(E[$<<1]!=E[s<<1]&&E[($<<1)+1]!=E[(s<<1)+1])s=$+1;Y[$]=s}for($=jw-1;
$>=0;$--){var hZ=O($+1,jw)<<1;F[0]=F[1]=F[2]=F[3]=0;l=(3+3*(E[hZ]-E[$<<1])+(E[hZ+1]-E[($<<1)+1]))/2;
F[l]++;w=0;j=0;_=0;D=0;s=Y[$];S=$;while(1){u=0;l=(3+3*Math.sign(E[s*2]-E[S*2])+Math.sign(E[s*2+1]-E[S*2+1]))/2;
F[l]++;if(F[0]&&F[1]&&F[2]&&F[3]){y[$]=S;u=1;break}k=E[s*2]-E[$*2];v=E[s*2+1]-E[$*2+1];if(a(w,j,k,v)<0||a(_,D,k,v)>0){break}if(Math.abs(k)<=1&&Math.abs(v)<=1){}else{t=k+(v>=0&&(v>0||k<0)?1:-1);
K=v+(k<=0&&(k<0||v<0)?1:-1);if(a(w,j,t,K)>=0){w=t;j=K}t=k+(v<=0&&(v<0||k<0)?1:-1);K=v+(k>=0&&(k>0||v<0)?1:-1);
if(a(_,D,t,K)<=0){_=t;D=K}}S=s;s=Y[S];if(!R(s,$,S)){break}}if(u==0){d=Math.sign(E[s*2]-E[S*2]);o=Math.sign(E[s*2+1]-E[S*2+1]);
k=E[S*2]-E[$*2];v=E[S*2+1]-E[$*2+1];I=a(w,j,k,v);q=a(w,j,d,o);hw=a(_,D,k,v);fY=a(_,D,d,o);B=1e7;if(q<0){B=Math.floor(I/-q)}if(fY>0){B=Math.min(B,Math.floor(-hw/fY))}y[$]=O(S+B,jw)}}B=y[jw-1];
L.dA[jw-1]=B;for($=jw-2;$>=0;$--){if(R($+1,y[$],B)){B=y[$]}L.dA[$]=B}for($=jw-1;R(O($+1,jw),B,L.dA[$]);
$--){L.dA[$]=B}}function U(L){function E(L,$,l){var jw=L.vb,k=L.Fd,v=L.fs,u,B,S,I,q,Y,hw,fY,o,s,hZ,bG,aY,fj,jg=0;
if(l>=jw){l-=jw;jg=1}if(jg==0){u=v[l+1].x-v[$].x;B=v[l+1].y-v[$].y;I=v[l+1].zX-v[$].zX;S=v[l+1].if-v[$].if;
q=v[l+1].RS-v[$].RS;Y=l+1-$}else{u=v[l+1].x-v[$].x+v[jw].x;B=v[l+1].y-v[$].y+v[jw].y;I=v[l+1].zX-v[$].zX+v[jw].zX;
S=v[l+1].if-v[$].if+v[jw].if;q=v[l+1].RS-v[$].RS+v[jw].RS;Y=l+1-$+jw}hZ=(k[$<<1]+k[l<<1])/2-k[0];bG=(k[($<<1)+1]+k[(l<<1)+1])/2-k[1];
fj=k[l<<1]-k[$<<1];aY=-(k[(l<<1)+1]-k[($<<1)+1]);hw=(I-2*u*hZ)/Y+hZ*hZ;fY=(S-u*bG-B*hZ)/Y+hZ*bG;o=(q-2*B*bG)/Y+bG*bG;
s=aY*aY*hw+2*aY*fj*fY+fj*fj*o;return Math.sqrt(s)}var $,l,y,Y,jw=L.vb,F=new Array(jw+1),w=new Array(jw+1),j=new Array(jw),_=new Array(jw+1),D=new Array(jw+1),t=new Array(jw+1),K,d,o;
for($=0;$<jw;$++){o=O(L.dA[O($-1,jw)]-1,jw);if(o==$){o=O($+1,jw)}if(o<$){j[$]=jw}else{j[$]=o}}l=1;for($=0;
$<jw;$++){while(l<=j[$]){_[l]=$;l++}}$=0;for(l=0;$<jw;l++){D[l]=$;$=j[$]}D[l]=jw;y=l;$=jw;for(l=y;l>0;
l--){t[l]=$;$=_[$]}t[0]=0;F[0]=0;for(l=1;l<=y;l++){for($=t[l];$<=D[l];$++){d=-1;for(Y=D[l-1];Y>=_[$];
Y--){K=E(L,Y,$)+F[Y];if(d<0||K<d){w[$]=Y;d=K}}F[$]=d}}L.akh=y;L.am9=new Array(y);for($=jw,l=y-1;$>0;
l--){$=w[$];L.am9[l]=$}}function M(L){function E(L,$,K,j,_,ae){var jw=L.vb,iB=L.fs,eg=0,o;while(K>=jw){K-=jw;
eg+=1}while($>=jw){$-=jw;eg-=1}while(K<0){K+=jw;eg-=1}while($<0){$+=jw;eg+=1}var dM=iB[K+1].x-iB[$].x+eg*iB[jw].x,fK=iB[K+1].y-iB[$].y+eg*iB[jw].y,aQ=iB[K+1].zX-iB[$].zX+eg*iB[jw].zX,cQ=iB[K+1].if-iB[$].if+eg*iB[jw].if,a7=iB[K+1].RS-iB[$].RS+eg*iB[jw].RS,d=K+1-$+eg*jw;
j[ae]=dM/d;j[ae+1]=fK/d;var gz=(aQ-dM*dM/d)/d,bQ=(cQ-dM*fK/d)/d,d4=(a7-fK*fK/d)/d,j2=(gz+d4+Math.sqrt((gz-d4)*(gz-d4)+4*bQ*bQ))/2;
gz-=j2;d4-=j2;if(Math.abs(gz)>=Math.abs(d4)){o=Math.sqrt(gz*gz+bQ*bQ);if(o!=0){_[ae]=-bQ/o;_[ae+1]=gz/o}}else{o=Math.sqrt(d4*d4+bQ*bQ);
if(o!=0){_[ae]=-d4/o;_[ae+1]=bQ/o}}if(o==0){_[ae]=_[ae+1]=0}}var l=L.akh,y=L.am9,jw=L.vb,Y=L.Fd,F=L.Sa,w=L.apX,j=new Array(l*2),_=new Array(l*2),D=new Array(l),t=new Array(3),$,K,d,o,B,S,I,q,hw,fY,s;
L.SD=new m(l);for($=0;$<l;$++){K=y[O($+1,l)];K=O(K-y[$],jw)+y[$];j[$<<1]=0;j[($<<1)+1]=0;_[$<<1]=0;_[($<<1)+1]=0;
E(L,y[$],K,j,_,$<<1)}for($=0;$<l;$++){D[$]=[0,0,0,0,0,0,0,0,0];var k=_[$<<1]*_[$<<1]+_[($<<1)+1]*_[($<<1)+1],v=1/k;
if(k!=0){t[0]=_[($<<1)+1];t[1]=-_[$<<1];t[2]=-t[1]*j[($<<1)+1]-t[0]*j[$<<1];for(o=0;o<3;o++){D[$][o*3+0]=t[o]*t[0]*v;
D[$][o*3+1]=t[o]*t[1]*v;D[$][o*3+2]=t[o]*t[2]*v}}}var u=[0,0,0,0,0,0,0,0,0];for($=0;$<l;$++){u[0]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=0;
var hZ=Y[y[$]<<1]-F,bG=Y[(y[$]<<1)+1]-w,aY=0,fj=0;K=O($-1,l);for(o=0;o<9;o+=3){u[o+0]=D[K][o+0]+D[$][o+0];
u[o+1]=D[K][o+1]+D[$][o+1];u[o+2]=D[K][o+2]+D[$][o+2]}while(1){var jg=u[0]*u[4]-u[1]*u[3];if(jg!=0){aY=(-u[2]*u[4]+u[5]*u[0])/jg;
fj=(u[2]*u[3]-u[5]*u[0])/jg;break}if(u[0]>u[4]){t[0]=-u[1];t[1]=u[0]}else if(u[4]){t[0]=-u[4];t[1]=u[3]}else{t[0]=1;
t[1]=0}var k=t[0]*t[0]+t[1]*t[1],v=1/k;t[2]=-t[1]*bG-t[0]*hZ;for(o=0;o<3;o++){u[o*3+0]+=t[o]*t[0]*v;
u[o*3+1]+=t[o]*t[1]*v;u[o*3+2]+=t[o]*t[2]*v}}B=Math.abs(aY-hZ);S=Math.abs(fj-bG);if(B<=.5&&S<=.5){L.SD.Yo[$<<1]=aY+F;
L.SD.Yo[($<<1)+1]=fj+w;continue}I=p(u,hZ,bG);hw=hZ;fY=bG;if(u[0]!=0){for(s=0;s<2;s++){fj=bG-.5+s;aY=-(u[1]*fj+u[2])/u[0];
B=Math.abs(aY-hZ);q=p(u,aY,fj);if(B<=.5&&q<I){I=q;hw=aY;fY=fj}}}if(u[4]!=0){for(s=0;s<2;s++){aY=hZ-.5+s;
fj=-(u[3]*aY+u[5])/u[4];S=Math.abs(fj-bG);q=p(u,aY,fj);if(S<=.5&&q<I){I=q;hw=aY;fY=fj}}}for(o=0;o<2;
o++){for(d=0;d<2;d++){aY=hZ-.5+o;fj=bG-.5+d;q=p(u,aY,fj);if(q<I){I=q;hw=aY;fY=fj}}}L.SD.Yo[$<<1]=hw+F;
L.SD.Yo[($<<1)+1]=fY+w}}function C(L){var E=L.SD.Fk,l=L.SD,$,y,Y,F,w,j,_,D,t;for($=0;$<E;$++){y=O($+1,E);
Y=O($+2,E);var K=l.Yo[$<<1],d=l.Yo[($<<1)+1],o=l.Yo[Y<<1],k=l.Yo[(Y<<1)+1],v=l.Yo[y<<1],u=l.Yo[(y<<1)+1],B=P(.5,o,v),S=P(.5,k,u);
w=z(K,d,o,k);if(w!=0){F=a(v-K,u-d,o-K,k-d)/w;F=Math.abs(F);j=F>1?1-1/F:0;j=j*(1/.75)}else{j=4/3}l.I4[y]=j;
var I=3*y<<1;if(j>=J.akr){l.QK[y]=0;l.Qv[I+0]=l.Qv[I+1]=0;l.Qv[I+2]=v;l.Qv[I+3]=u;l.Qv[I+4]=B;l.Qv[I+5]=S}else{if(j<.55){j=.55}else if(j>1){j=1}var q=.5+.5*j;
l.QK[y]=1;l.Qv[I]=P(q,K,v);l.Qv[I+1]=P(q,d,u);l.Qv[I+2]=P(q,o,v);l.Qv[I+3]=P(q,k,u);l.Qv[I+4]=B;l.Qv[I+5]=S}l.alpha[y]=j;
l.lc[y]=.5}l.akF=1}function x(L){function E(){this.rW=0;this.sI=0;this.fh=0;this.iL=0;this.p6=0;this.sH=0;
this.H6=0;this.alpha=0}function l(L,$,K,fG,bT,hw,fY){var Y=L.SD.Fk,je=L.SD.Qv,ba=L.SD.Yo;if($==K)return 1;
var j6=$,v=O($+1,Y),cl=O(j6+1,Y),cQ=ba[$<<1],a7=ba[($<<1)+1],js=ba[v<<1],fR=ba[(v<<1)+1],iW=hw[cl];if(iW==0)return 1;
var fx=Z(cQ-js,a7-fR);for(j6=cl;j6!=K;j6=cl){var cl=O(j6+1,Y),dm=O(j6+2,Y),fq=ba[cl<<1],h2=ba[(cl<<1)+1],jj=ba[dm<<1],iM=ba[(dm<<1)+1];
if(hw[cl]!=iW)return 1;if(Math.sign(a(js-cQ,fR-a7,jj-fq,iM-h2))!=iW)return 1;if(e(js-cQ,fR-a7,jj-fq,iM-h2)<fx*Z(fq-jj,h2-iM)*-.999847695156)return 1}var aC=O($,Y)*3+2<<1,aB=O($+1,Y)<<1,ep=O(K,Y)<<1,h6=O(K,Y)*3+2<<1,ae=je[aC],iB=je[aC+1],dJ=ba[aB],gs=ba[aB+1],ej=ba[ep],eH=ba[ep+1],hT=je[h6],dO=je[h6+1],s=ba[0],hZ=ba[1];
aC=K*3+2<<1;var fE=je[aC],hD=je[aC+1],u=fY[K]-fY[$];u-=a(fE-s,hD-hZ,fE-s,hD-hZ)/2;if($>=K){u+=fY[Y]}var d9=dJ-ae,iQ=gs-iB,iS=ej-ae,bZ=eH-iB,dy=hT-ae,jh=dO-iB,eE=a(d9,iQ,iS,bZ),jr=a(d9,iQ,dy,jh),dr=a(iS,bZ,dy,jh),jL=eE+dr-jr;
if(jr==eE)return 1;var q=dr/(dr-jL),I=jr/(jr-eE),dI=jr*q/2;if(dI==0)return 1;var aF=u/dI,B=2-Math.sqrt(4-aF/.3);
fG.sI=P(q*B,ae,dJ);fG.fh=P(q*B,iB,gs);fG.iL=P(I*B,hT,ej);fG.p6=P(I*B,dO,eH);fG.alpha=B;fG.sH=q;fG.H6=I;
dJ=fG.sI;gs=fG.fh;ej=fG.iL;eH=fG.p6;fG.rW=0;for(j6=O($+1,Y);j6!=K;j6=cl){cl=O(j6+1,Y);var gd=ba[j6<<1],eG=ba[(j6<<1)+1],fq=ba[cl<<1],h2=ba[(cl<<1)+1];
q=T(dJ-ae,gs-iB,ej-dJ,eH-gs,hT-ej,dO-eH,fq-gd,h2-eG);if(q<-.5)return 1;var bb=W(q,ae,dJ,ej,hT),hM=W(q,iB,gs,eH,dO),fx=Z(fq-gd,h2-eG);
if(fx==0)return 1;var cD=a(fq-gd,h2-eG,bb-gd,hM-eG)/fx;if(Math.abs(cD)>bT)return 1;if(e(fq-gd,h2-eG,bb-gd,hM-eG)<0||e(gd-fq,eG-h2,bb-fq,hM-h2)<0){return 1}fG.rW+=cD*cD}for(j6=$;
j6!=K;j6=cl){cl=O(j6+1,Y);var aC=j6*3+2<<1,aB=cl*3+2<<1,fr=je[aC],cp=je[aC+1],cG=je[aB],eX=je[aB+1];
q=T(dJ-ae,gs-iB,ej-dJ,eH-gs,hT-ej,dO-eH,cG-fr,eX-cp);if(q<-.5)return 1;var bb=W(q,ae,dJ,ej,hT),hM=W(q,iB,gs,eH,dO),fx=Z(cG-fr,eX-cp);
if(fx==0)return 1;var cD=a(cG-fr,eX-cp,bb-fr,hM-cp)/fx,eN=a(cG-fr,eX-cp,ba[cl<<1]-fr,ba[(cl<<1)+1]-cp)/fx;
eN*=.75*L.SD.alpha[cl];if(eN<0){cD=-cD;eN=-eN}if(cD<eN-bT)return 1;if(cD<eN){fG.rW+=(cD-eN)*(cD-eN)}}return 0}var y=L.SD,Y=y.Fk,F=y.Yo,w=new Array(Y+1),j=new Array(Y+1),_=new Array(Y+1),D=new Array(Y+1),t,$,K,d,o=new E,k,v,u,B,S,I,q,hw=new Array(Y),fY=new Array(Y+1);
for($=0;$<Y;$++){if(y.QK[$]=="CURVE"){var s=F[O($-1,Y)<<1],hZ=F[(O($-1,Y)<<1)+1],bG=F[$<<1],aY=F[($<<1)+1],fj=F[O($+1,Y)<<1],jg=F[(O($+1,Y)<<1)+1];
hw[$]=Math.sign(a(bG-s,aY-hZ,fj-bG,jg-aY))}else{hw[$]=0}}u=0;fY[0]=0;var ae=y.Yo[0],iB=y.Yo[1];for($=0;
$<Y;$++){v=O($+1,Y);if(y.QK[v]=="CURVE"){B=y.alpha[v];var eg=$*3+2<<1,dM=v*3+2<<1,fK=y.Qv[eg],aQ=y.Qv[eg+1],cQ=F[v<<1],a7=F[(v<<1)+1],gz=y.Qv[dM],bQ=y.Qv[dM+1];
u+=.3*B*(4-B)*a(cQ-fK,a7-aQ,gz-fK,bQ-aQ)/2;u+=a(fK-ae,aQ-iB,gz-ae,bQ-iB)/2}fY[$+1]=u}w[0]=-1;j[0]=0;
_[0]=0;for(K=1;K<=Y;K++){w[K]=K-1;j[K]=j[K-1];_[K]=_[K-1]+1;for($=K-2;$>=0;$--){d=l(L,$,O(K,Y),o,J.adq,hw,fY);
if(d){break}if(_[K]>_[$]+1||_[K]==_[$]+1&&j[K]>j[$]+o.rW){w[K]=$;j[K]=j[$]+o.rW;_[K]=_[$]+1;D[K]=o;o=new E}}}t=_[Y];
S=new m(t);I=new Array(t);q=new Array(t);K=Y;for($=t-1;$>=0;$--){var d4=O(K,Y),j2=$*3+0<<1,j7=d4*3+0<<1;
if(w[K]==K-1){S.QK[$]=y.QK[d4];S.Qv[j2]=y.Qv[j7];S.Qv[j2+1]=y.Qv[j7+1];S.Qv[j2+2]=y.Qv[j7+2];S.Qv[j2+3]=y.Qv[j7+3];
S.Qv[j2+4]=y.Qv[j7+4];S.Qv[j2+5]=y.Qv[j7+5];S.Yo[$<<1]=y.Yo[d4<<1];S.Yo[($<<1)+1]=y.Yo[(d4<<1)+1];S.alpha[$]=y.alpha[d4];
S.I4[$]=y.I4[d4];S.lc[$]=y.lc[d4];I[$]=q[$]=1}else{S.QK[$]="CURVE";S.Qv[j2]=D[K].sI;S.Qv[j2+1]=D[K].fh;
S.Qv[j2+2]=D[K].iL;S.Qv[j2+3]=D[K].p6;S.Qv[j2+4]=y.Qv[j7+4];S.Qv[j2+5]=y.Qv[j7+5];S.Yo[$<<1]=P(D[K].H6,y.Qv[j7+4],F[d4<<1]);
S.Yo[($<<1)+1]=P(D[K].H6,y.Qv[j7+5],F[(d4<<1)+1]);S.alpha[$]=D[K].alpha;S.I4[$]=D[K].alpha;I[$]=D[K].H6;
q[$]=D[K].sH}K=w[K]}for($=0;$<t;$++){v=O($+1,t);S.lc[$]=I[$]/(I[$]+q[v])}S.akF=1;L.SD=S}for(var $=0;
$<H.length;$++){var L=H[$];i(L);X(L);U(L);M(L);C(L);if(J.a0Y)x(L)}}return{a6J:A,ae3:Q}}();fb.RN=function(G,m,A,Q){var H={cB:"minority",a7I:Q,a0Y:!0,akr:1,adq:.2},J=fb.a6J(G,m,A,H);
fb.ae3(J,H);return J};fb.S9=function(G){var m=[];for(var $=0;$<G.length;$++){var A=G[$],Q=A.SD,H=["M"],J=[Q.Qv[(Q.Fk-1)*6+4],Q.Qv[(Q.Fk-1)*6+5]];
for(var b=0;b<Q.Fk;b++){var O=b*6;if(Q.QK[b]==1){H.push("C");for(var a=0;a<6;a++)J.push(Q.Qv[O+a])}else if(Q.QK[b]==0){H.push("L");
for(var a=2;a<4;a++)J.push(Q.Qv[O+a])}}H.push("Z");m.push({parent:A.parent,color:A.color,path:{s:J,C:H}})}return m};
fb.aal=function(G,m,A,Q,H){function J(Z){function W($){var z="C "+(Z.Qv[$*3+0<<1]*m).toFixed(1)+" "+(Z.Qv[($*3+0<<1)+1]*m).toFixed(1)+",";
z+=(Z.Qv[$*3+1<<1]*m).toFixed(1)+" "+(Z.Qv[($*3+1<<1)+1]*m).toFixed(1)+",";z+=(Z.Qv[$*3+2<<1]*m).toFixed(1)+" "+(Z.Qv[($*3+2<<1)+1]*m).toFixed(1)+" ";
return z}function T($){var X="L "+(Z.Qv[$*3+1<<1]*m).toFixed(1)+" "+(Z.Qv[($*3+1<<1)+1]*m).toFixed(1)+" ";
X+=(Z.Qv[$*3+2<<1]*m).toFixed(1)+" "+(Z.Qv[($*3+2<<1)+1]*m).toFixed(1)+" ";return X}var jw=Z.Fk,$,i="M"+(Z.Qv[(jw-1)*3+2<<1]*m).toFixed(1)+" "+(Z.Qv[((jw-1)*3+2<<1)+1]*m).toFixed(1)+" ";
for($=0;$<jw;$++){if(Z.QK[$]==1){i+=W($)}else if(Z.QK[$]==0){i+=T($)}}return i}var A=A*m,Q=Q*m,b=G.length,O=[];
for(var $=0;$<256;$++)O.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var a="<svg id=\"svg\" version=\"1.1\" width=\""+A+"\" height=\""+Q+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var $=0;$<b;$++){var e=H[G[$].color-1].an1.hj;if((e>>>24&255)==0)continue;a+="<path d=\"";var R=G[$].SD;
a+=J(R);var p=e>>0&255,P=e>>8&255,z=e>>16&255,e="rgb("+p+","+P+","+z+")";a+="\" fill=\""+e+"\" fill-rule=\"evenodd\"/>"}a+="</svg>";
return a};fb.a3x=function(G,m,A){var jw=G.length>>1,Q,H=G[2*jw-3]-A,J=G[2*jw-2]-m,b=G[2*jw-1]-A,O=b>H,a=0;
for(var $=0;$<jw;$++){Q=J;H=b;J=G[2*$]-m;b=G[2*$+1]-A;if(H==b)continue;O=b>H}for(var $=0;$<jw;$++){Q=J;
H=b;J=G[2*$]-m;b=G[2*$+1]-A;if(H<0&&b<0)continue;if(H>0&&b>0)continue;if(Q<0&&J<0)continue;if(H==b&&Math.min(Q,J)<=0)return!0;
if(H==b)continue;var e=Q+(J-Q)*-H/(b-H);if(e==0)return!0;if(e>0)a++;if(H==0&&O&&b>H)a--;if(H==0&&!O&&b<H)a--;
O=b>H}return(a&1)==1};fb.fill=function(G,m,A,Q){var H=m[G],J=[G],b=0;while(b<J.length){var O=J[b];b++;
m[O]=Q;if(m[O-A]==H){J.push(O-A);m[O-A]=254}if(m[O-1]==H){J.push(O-1);m[O-1]=254}if(m[O+1]==H){J.push(O+1);
m[O+1]=254}if(m[O+A]==H){J.push(O+A);m[O+A]=254}}};function fO(){}fO.dm=function(G){var m=new Uint8Array(G),A=0,Q={GO:[],WJ:[],list:[]},H=V.n6(m,A);
A+=2;if(H<=2){return fO.a3C(m)}var J=V.n6(m,A);A+=2;var b=V.uB(m,A,8);A+=8;var O=V.l(m,A);A+=4;if(O>0)Q.GO=fO.En(m,A,O,J,H);
A+=O;var a=V.uB(m,A,8);A+=8;var e=V.l(m,A);A+=4;if(e>0)Q.WJ=bv.A1(m,A,e);A+=e;var R=V.uB(m,A,8);A+=8;
var p=V.l(m,A);A+=4;if(p>0){var P={};fB.e3(m,P,A+4);Q.list=P.Brsh.v}A+=p;var z=Q.list;for(var $=0;$<z.length;
$++){g3.BX.check(z[$].v)}return Q};fO.Tz=function(G,m){G.v.Nm.v=m};fO.a3C=function(G){var m={GO:[],WJ:[],list:[]},A=0,Q=V.n6(G,A);
A+=2;var H=V.n6(G,A);A+=2;for(var $=0;$<H;$++){var J=V.n6(G,A);A+=2;var b=V.l(G,A);A+=4;var O=A;if(J==2){var a={};
m.GO.push(a);var e=V.l(G,O);O+=4;var R=V.n6(G,O);O+=2;if(Q==2){var p=V.ep(G,O);O+=4+p.length*2+2}a.id=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f";
O++;O+=8;a.PR=V.EP(G,O);O+=16;var P=V.n6(G,O);O+=2;var z=G[O];O++;var Z=cF.Wh(!1,P,G,a.PR.e,a.PR.n,O,z);
fO.wr(a,Z);var W=g3.g$(a.id),T=W.Brsh.v;T.Dmtr.v.val=a.PR.e;T.Spcn.v.val=R;m.list.push({t:"Objc",v:W})}A+=b}return m};
fO.sU=function(G){var m=new iy,A=0,Q=0;V.HM(m,A,6);A+=2;V.HM(m,A,2);A+=2;V.yN(m,A,"8BIMsamp");A+=8;A+=4;
Q=A;A=fO.uN(m,A,G.GO);V.io(m,Q-4,A-Q);V.yN(m,A,"8BIMpatt");A+=8;A+=4;Q=A;A=bv._J(m,A,G.WJ);V.io(m,Q-4,A-Q);
var H={classID:"null",Brsh:{t:"VlLs",v:G.list}};V.yN(m,A,"8BIMdesc");A+=8;A+=4;Q=A;V.io(m,A,16);A+=4;
A+=fB.NO(m,H,A);V.io(m,Q-4,A-Q);return m.data.slice(0,A).buffer};fO.En=function(G,m,A,Q,H){var J=V.l,b=V.EP,O=m+A,a=[];
while(m<O){var e={};a.push(e);var R=J(G,m);m+=4;var p=m,P=V.Qn(G,m);m+=P.length;e.id=P.gv;if(Q==1){m+=9;
e.PR=b(G,m);m+=16}else{m+=7;var z=J(G,m);m+=4;e.PR=b(G,m);m+=16;var Z=J(G,m);m+=4;m+=Z*4;var W=J(G,m);
m+=4;var T=J(G,m);m+=4;var i=b(G,m);m+=16}var X=V.n6(G,m);m+=2;var U=G[m];m+=1;var M=cF.Wh(!1,X,G,e.PR.e,e.PR.n,m,U);
fO.wr(e,M);if(R%4!=0)R+=4-R%4;m=p+R}return a};fO.wr=function(G,m){var A=G.PR.clone(),Q=N.$(A.Z()*4);
N.I5(m,Q,3);A.x=A.y=0;G.g3=[Q,A]};fO.uN=function(G,m,A){var Q=V.io,H=V.kN;for(var $=0;$<A.length;$++){var J=A[$],b=m+4,a=56,R=1;
m+=4;V.kv(G,m,J.id);m+=J.id.length+2;G.fU(m,1);G.data[m]=1;m+=3;Q(G,m,3);m+=4;var O=m;m+=4;H(G,m,J.PR);
m+=16;Q(G,m,a);m+=4;m+=a*4;Q(G,m-4,1);var e=m;m+=4;Q(G,m,8);m+=4;H(G,m,J.PR);m+=16;V.HM(G,m,8);m+=2;
G.fU(m,1);G.data[m]=R;m++;var p=N.$(J.PR.Z());N.gF(J.g3[0],p,3);G.fU(m,J.PR.Z()*2);m=cF.eo(!1,p,G.data,J.PR.e,J.PR.n,m,R);
G.fU(m,8);m+=8;var P=m-b;Q(G,b-4,P);Q(G,O,P-49);Q(G,e,P-305);if(P%4!=0)m+=4-P%4}return m};function a0(){}a0.dm=function(G){var m=new Uint8Array(G),A=[],Q=0,H=V.n6(m,Q);
Q+=2;if(H!=4){throw"Unknown version of curves: "+H}var J=V.n6(m,Q);Q+=2;for(var $=0;$<J;$++){var b=a0.Bz(m,Q);
Q+=2+2*b.length;A.push(b)}if(Q==m.length)return A;var O=V.uB(m,Q,4);Q+=4;var a=V.n6(m,Q);Q+=2;var e=V.n6(m,Q);
Q+=2;if(e!=0)throw"extra curves for channels";return A};a0.Ye=function(G,m,A){var Q=m,H=[],J=G[m];m+=3;
var b=V.l(G,m);m+=4;for(var $=0;$<4;$++){var O=b>>>$&1;if(O){if(J==0){var a=a0.Bz(G,m);m+=2+2*a.length}else{var a=a0.ap$(G,m);
m+=256}H.push(a)}else H.push(J==0?[0,0,255,255]:a0.a2P())}var e=bH.wZ("curv");for(var $=0;$<4;$++){if(J==0){var R=H[$],p=[];
for(var P=0;P<R.length;P+=2)p.push(N.RH.eM(R[P],R[P+1],!0));a0.yS(e,$,p)}else a0.yS(e,$,H[$])}return e};
a0.a2P=function(){var G=[];for(var $=0;$<256;$++)G.push($);return G};a0.yS=function(G,m,A){var Q=fX.AG("CrvA",m);
if(A.length<256)Q.Crv={t:"VlLs",v:A};else{Q.Mpng={t:"VlLs",v:[]};for(var $=0;$<256;$++)Q.Mpng.v[$]={t:"long",v:A[$]}}Q={t:"Objc",v:Q};
var H=G.Adjs.v,J=fX.jJ(H,m);if(J==-1)H.push(Q);else H[J]=Q};a0.ie=function(G,m){var A=G.Adjs.v,Q=fX.jJ(A,m);
if(Q==-1){if(A.length==0||A[0].v.Crv)return[N.RH.eM(0,0,!0),N.RH.eM(255,255,!0)];if(A[0].v.autoMachineLearning||A[0].v.AuCo)return[N.RH.eM(0,0,!0),N.RH.eM(128,160,!0),N.RH.eM(255,255,!0)];
var H=[];for(var $=0;$<256;$++)H.push($);return H}var J=A[Q].v;if(J.Crv)return J.Crv.v;if(J.Mpng){var H=[];
for(var $=0;$<256;$++)H.push(J.Mpng.v[$].v);return H}return[N.RH.eM(0,0,!0),N.RH.eM(255,255,!0)]};a0.Bz=function(G,m){var A=[],Q=V.n6(G,m);
m+=2;for(var H=0;H<Q;H++){var J=V.n6(G,m);m+=2;var b=V.n6(G,m);m+=2;A.push(b,J)}return A};a0.aiH=function(G,m,A){var Q=A.length/2;
V.HM(G,m,Q);m+=2;for(var H=0;H<Q;H++){V.HM(G,m,A[H*2+1]);m+=2;V.HM(G,m,A[H*2+0]);m+=2}};a0.ap$=function(G,m){var A=[];
for(var $=0;$<256;$++)A.push(G[m+$]);return A};a0.alg=function(G,m,A){G.fU(m,256);for(var $=0;$<256;
$++)G.data[m+$]=A[$]};a0.L$=function(G,m,A){var Q=[];for(var $=0;$<4;$++){var H=a0.ie(A,$);if(H.length==256)Q.push(H);
else{var J=[];for(var b=0;b<H.length;b++)J.push(H[b].v.Hrzn.v,H[b].v.Vrtc.v);Q.push(J)}}var O=m,a=Q[0].length==256?1:0;
G.fU(m,3);G.data[m]=a;G.data[m+1]=0;G.data[m+2]=1;m+=3;V.io(G,m,15);m+=4;for(var $=0;$<4;$++){var e=Q[$];
if(a==0){a0.aiH(G,m,e);m+=2+2*e.length}else{a0.alg(G,m,e);m+=256}}return m-O};function bY(){}bY.Ye=function(G,m,A){var Q={},H=V.n6(G,m);
m+=2;Q.pZ=G[m]==1;m++;m++;Q.QO=[V.jT(G,m),V.jT(G,m+2),V.jT(G,m+4)];m+=6;Q.KZ=[V.jT(G,m),V.jT(G,m+2),V.jT(G,m+4)];
m+=6;Q.Vi=[];for(var $=0;$<6;$++){var J={};J.uR=[V.jT(G,m),V.jT(G,m+2),V.jT(G,m+4),V.jT(G,m+6)];m+=8;
J.pc=[V.jT(G,m),V.jT(G,m+2),V.jT(G,m+4)];m+=6;Q.Vi.push(J)}var b=bH.wZ("hue2"),O=Q;if(b.Clrz==null)b.Clrz={t:"bool",v:!1};
b.Clrz.v=O.pZ;for(var $=0;$<7;$++){var a=$==0?O.pZ?O.QO:O.KZ:O.Vi[$-1];bY.yS(b,$,a)}return b};bY.a7w=function(G){return{classID:"Hst2",H:{t:"long",v:G[0]},Strt:{t:"long",v:G[1]},Lght:{t:"long",v:G[2]}}};
bY.jJ=function(G,m){for(var $=0;$<G.length;$++){var A=G[$].v.LclR;if(m==0&&A==null||A!=null&&A.v==m)return $}return-1};
bY.yS=function(G,m,A){var Q=m==0?A:A.pc,H=bY.a7w(Q);if(m!=0){var J=A.uR;H.LclR={t:"long",v:m},H.BgnR={t:"long",v:J[0]};
H.BgnS={t:"long",v:J[1]};H.EndS={t:"long",v:J[2]};H.EndR={t:"long",v:J[3]}}H={t:"Objc",v:H};var b=G.Adjs.v,O=bY.jJ(b,m);
if(O==-1)b.push(H);else b[O]=H};bY.ie=function(G,m){var A=G.Adjs.v,Q=bY.jJ(A,m);if(Q==-1){if(m==0)return[0,0,0];
else return[{uR:[315,345,15,45],pc:[0,0,0]},{uR:[15,45,75,105],pc:[0,0,0]},{uR:[75,105,135,165],pc:[0,0,0]},{uR:[135,165,195,225],pc:[0,0,0]},{uR:[195,225,255,285],pc:[0,0,0]},{uR:[255,285,315,345],pc:[0,0,0]}][m-1]}var H=A[Q].v,J=[H.H.v,H.Strt.v,H.Lght.v];
if(m==0)return J;return{pc:J,uR:[H.BgnR.v,H.BgnS.v,H.EndS.v,H.EndR.v]}};bY.L$=function(G,m,A){var Q={pZ:A.Clrz?A.Clrz.v:!1,Vi:[]};
Q.QO=Q.KZ=bY.ie(A,0);for(var $=1;$<7;$++)Q.Vi.push(bY.ie(A,$));var H=2+2+12+6*14,J=G.data;G.fU(m,H);
V.hv(J,m,2);m+=2;J[m]=Q.pZ?1:0;m++;m++;V.Mo(J,m+0,Q.QO[0]);V.Mo(J,m+2,Q.QO[1]);V.Mo(J,m+4,Q.QO[2]);m+=6;
V.Mo(J,m+0,Q.KZ[0]);V.Mo(J,m+2,Q.KZ[1]);V.Mo(J,m+4,Q.KZ[2]);m+=6;for(var $=0;$<6;$++){var b=Q.Vi[$].uR,O=Q.Vi[$].pc;
V.Mo(J,m+0,b[0]);V.Mo(J,m+2,b[1]);V.Mo(J,m+4,b[2]);V.Mo(J,m+6,b[3]);m+=8;V.Mo(J,m+0,O[0]);V.Mo(J,m+2,O[1]);
V.Mo(J,m+4,O[2]);m+=6}return H};function fX(){}fX.dm=function(G){var m=new Uint8Array(G),A=2,Q=[];for(var $=0;
$<29;$++){var H=[];Q.push(H);for(var J=0;J<5;J++)H.push(V.n6(m,A+$*10+J*2))}A+=29*10;if(A<m.length){var b=V.uB(m,A,4);
A+=4;var O=V.n6(m,A);A+=2;var a=V.n6(m,A);A+=2;var e=a-29;for(var $=0;$<e;$++){var H=[];Q.push(H);for(var J=0;
J<5;J++)H.push(V.n6(m,A+$*10+J*2))}}var R=bH.wZ("levl");for(var $=0;$<4;$++)fX.yS(R,$,Q[$]);return R};
fX.AG=function(G,$){var m=["Cmps","Rd","Grn","Bl"],A={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m[$]}}]};
return{classID:G,Chnl:A}};fX.jJ=function(G,m){var A={Cmps:0,Rd:1,Grn:2,Bl:3};for(var $=0;$<G.length;
$++){var Q=G[$].v,H=A[Q.Chnl.v[0].v.enum];if(H==m)return $}return-1};fX.yS=function(G,m,A){var Q=fX.AG("LvlA",m);
Q.Inpt={t:"VlLs",v:[{t:"long",v:A[0]},{t:"long",v:A[1]}]};Q.Otpt={t:"VlLs",v:[{t:"long",v:A[2]},{t:"long",v:A[3]}]};
Q.Gmm={t:"doub",v:A[4]/100};Q={t:"Objc",v:Q};var H=G.Adjs.v,J=fX.jJ(H,m);if(J==-1)H.push(Q);else H[J]=Q};
fX.ie=function(G,m){var A=[0,255,0,255,100],Q=G.Adjs.v,H=fX.jJ(Q,m);if(H==-1)return A;var J=Q[H].v;if(J.Inpt){A[0]=J.Inpt.v[0].v;
A[1]=J.Inpt.v[1].v}if(J.Otpt){A[2]=J.Otpt.v[0].v;A[3]=J.Otpt.v[1].v}if(J.Gmm){A[4]=Math.round(J.Gmm.v*100)}return A};
fX.sU=function(G,m){var A=[],Q=0;for(var $=0;$<4;$++)A.push(fX.ie(m,$));while(A.length<29)A.push([0,255,0,255,100]);
G.fU(0,2+10*29);V.hv(G.data,Q,2);Q+=2;for(var $=0;$<29;$++){var H=A[$];for(var J=0;J<5;J++)V.hv(G.data,Q+$*10+J*2,H[J])}Q+=29*10;
if(A.length==29)return Q;G.fU(Q,8+10*(A.length-29));V.aw(G.data,Q,"Lvls");Q+=4;V.hv(G.data,Q,3);Q+=2;
V.hv(G.data,Q,A.length);Q+=2;var b=A.length-29;for(var $=0;$<b;$++){var H=A[29+$];for(var J=0;J<5;J++)V.hv(G.data,Q+$*10+J*2,H[J])}Q+=10*b;
return Q};function hS(){}hS.dm=function(G){var m=new Uint8Array(G),A=2,Q={ct:[],UC:[]},H=V.uB(m,A,4);
A+=4;var J=V.n6(m,A);A+=2;var b=V.l(m,A);A+=4;Q.ct=bv.A1(m,A,b);A+=b;var O=V.l(m,A);A+=4;for(var $=0;
$<O;$++){var a=V.l(m,A);A+=4;var e=A,R={xo:{},uv:{}};Q.UC.push(R);A+=4;A+=fB.e3(m,R.xo,A);A+=4;A+=fB.e3(m,R.uv,A);
A=e+a;var p=R.uv.blendOptions,P=R.uv.Lefx;if(p&&Object.keys(p.v).length>1){}if(P){if(P.v.masterFXSwitch==null)P.v.masterFXSwitch={t:"bool",v:!0};
a1.Cw(P.v)}}return Q};hS.Tz=function(G,m){G.xo.Nm.v=m};hS.sU=function(G){var m=new iy,A=0;V.HM(m,A,2);
A+=2;V.yN(m,A,"8BSL");A+=4;V.HM(m,A,3);A+=2;var Q=A;A+=4;A=bv._J(m,A,G.ct);V.io(m,Q,A-Q-4);var H=G.UC.length;
V.io(m,A,H);A+=4;for(var $=0;$<H;$++){A+=4;var J=A,b=G.UC[$];V.io(m,A,16);A+=4;A+=fB.NO(m,b.xo,A);var O=b.uv.Lefx;
if(O){b.uv.Lefx=JSON.parse(JSON.stringify(O));a1.n8(b.uv.Lefx.v)}V.io(m,A,16);A+=4;A+=fB.NO(m,b.uv,A);
if(O)b.uv.Lefx=O;V.io(m,J-4,A-J)}return m.data.slice(0,A).buffer};function gO(){}gO.Ye=function(G,m,A){var Q=V.n6(G,m);
m+=2;var H={};H.Ii=V.n6(G,m)==1;m+=2;H.l8=[];for(var $=0;$<10;$++){var J=[];H.l8.push(J);for(var b=0;
b<4;b++)J.push(V.jT(G,m+b*2));m+=8}var O=bH.wZ("selc");O.Mthd.v.CrcM=H.Ii?"Absl":"Rltv";for(var $=1;
$<10;$++)gO.yS(O,$-1,H.l8[$]);return O};gO.tH="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
gO.AG=function(G,$){var m=["Cmps","Rd","Grn","Bl"],A={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m[$]}}]};
return{classID:G,Chnl:A}};gO.jJ=function(G,m){var A=gO.tH;for(var $=0;$<G.length;$++){var Q=G[$].v,H=A.indexOf(Q.Clrs.v.Clrs);
if(H==m)return $}return-1};gO.yS=function(G,m,A){var Q=["Cyn","Mgnt","Ylw","Blck"],H={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:gO.tH[m]}}};
for(var J=0;J<4;J++)H[Q[J]]={t:"UntF",v:{type:"#Prc",val:A[J]}};H={t:"Objc",v:H};var b=G.ClrC.v,O=gO.jJ(b,m);
if(O==-1)b.push(H);else b[O]=H};gO.ie=function(G,m){var A=[0,0,0,0],Q=G.ClrC.v,H=gO.jJ(Q,m);if(H==-1)return A;
var J=["Cyn","Mgnt","Ylw","Blck"];for(var $=0;$<4;$++)if(Q[H].v[J[$]])A[$]=Q[H].v[J[$]].v.val;return A};
gO.L$=function(G,m,A){var Q={Ii:A.Mthd.v.CrcM=="Absl",l8:[[0,0,0,0]]};for(var $=0;$<9;$++)Q.l8.push(gO.ie(A,$));
G.fU(m,84);V.hv(G.data,m,1);m+=2;V.hv(G.data,m,Q.Ii?1:0);m+=2;for(var $=0;$<10;$++){var H=Q.l8[$];for(var J=0;
J<4;J++)V.Mo(G.data,m+J*2,H[J]);m+=8}return 84};function g7(){}g7.wZ=function(){return{vJ:new f_(0,0,50,50),xo:"",nO:"play",Y:N.U.Y0.U6([.1,.1,.9,.5,.1,.9],0)}};
g7.dm=function(G){G=new Uint8Array(G);var m=0,A=[],Q=Date.now(),H=V.uB(G,0,4);m+=4;var J=V.l(G,m);m+=4;
var b=V.l(G,m);m+=4;for(var $=0;$<b;$++){var O=V.ep(G,m);m+=O.length*2+4+2;if((O.length&1)==0)m+=2;m=g7.bp(G,m,O,A)}return A};
g7.bp=function(G,m,A,Q){var H=V.l(G,m);m+=4;var J=V.l(G,m);m+=4;var b=m,O=V.Qn(G,b).gv;b+=O.length+1;
var a=V.EP(G,b);b+=16;var e=g7.U7(G,b,J-(b-m)),R=N.U.g4(e),p=N.H.Cf(R),P=1/p.e,z=1/p.n;N.U.T6(e,new ci(P,0,0,z,-p.x*P,-p.y*z));
Q.push({nO:A,xo:O,Y:e,vJ:a});m+=J;return m};g7.Tz=function(G,m){G.nO=m};g7.sU=function(G){var m=new iy,A=0;
V.yN(m,A,"cush");A+=4;V.io(m,A,2);A+=4;V.io(m,A,G.length);A+=4;for(var $=0;$<G.length;$++){var Q=G[$],H=Q.nO+"\0";
V.s0(m,A,H);A+=4+H.length*2;if((H.length&1)==1)A+=2;V.io(m,A,1);A+=4;A+=4;var J=A;V.kv(m,A,Q.xo);A+=Q.xo.length+1;
V.kN(m,A,Q.vJ);A+=16;m.fU(A,Q.Y.length*26);g7.ug(m.data,A,Q.Y,1,1);A+=Q.Y.length*26;var b=A-J;if((b&3)!=0)b+=4-(b&3);
V.io(m,J-4,b);A=J+b}return m.data.slice(0,A).buffer};g7.aqU=function(G){var m=[];for(var $=0;$<G.length;
$++){var A=G[$],Q=A.type,H={type:Q};m.push(H);if(Q==6){}else if(Q==8)H.all=A.all;else if(Q==0||Q==3){H.length=A.length;
H.frule=A._t;H.third=A.Jk;H.prmA=A.Yh;H.prmB=A.Xl}else{H.c=[A.ed.x,A.ed.y,A.M.x,A.M.y,A.Gd.x,A.Gd.y]}}return m};
g7.aky=function(G){var m=[];for(var $=0;$<G.length;$++){var A=G[$],Q=A.type,H={type:Q};m.push(H);if(Q==6){}else if(Q==8)H.all=A.all;
else if(Q==0||Q==3){H.length=A.length;H._t=A.frule;H.Jk=A.third;H.Yh=A.prmA;H.Xl=A.prmB}else{var J=A.c;
H.ed=new dw(J[0],J[1]);H.M=new dw(J[2],J[3]);H.Gd=new dw(J[4],J[5])}}return m};g7.U7=function(G,m,A,Q,H){if(Q==null)Q=1;
if(H==null)H=1;function J(W,T,i){var X=V.a3q(W,T)*i,U=Math.round(X);return Math.abs(X-U)<1e-6?U:X}var b=V.jT,O=[],a=Math.floor(A/26);
for(var $=0;$<a;$++){var e=m+$*26,R={},p=0;O.push(R);R.type=b(G,e);e+=2;if(R.type==6){p=24}if(R.type==8){R.all=b(G,e);
e+=2;p=22}if(R.type==0||R.type==3){R.length=b(G,e);e+=2;R._t=b(G,e);e+=2;R.Jk=b(G,e);e+=2;R.Yh=V.l(G,e);
e+=4;R.Xl=V.l(G,e);e+=4;p=10}if(R.type==1||R.type==2||R.type==4||R.type==5){var P,z;z=J(G,e,H);e+=4;
P=J(G,e,Q);e+=4;R.ed=new dw(P,z);z=J(G,e,H);e+=4;P=J(G,e,Q);e+=4;R.M=new dw(P,z);z=J(G,e,H);e+=4;P=J(G,e,Q);
e+=4;R.Gd=new dw(P,z);p=0}for(var Z=0;Z<p;Z++)if(G[e+Z]!=0){console.log("Unexpected non-zero byte!",R,Z,G[e+Z])}}return O};
g7.ug=function(G,m,A,Q,H){var J=V.Mo,b=V.A2,O=A.length;for(var $=0;$<O;$++){var a=m+$*26,e=A[$];J(G,a,e.type);
a+=2;if(e.type==6){}if(e.type==8)J(G,a,e.all);if(e.type==0||e.type==3){J(G,a,e.length);a+=2;J(G,a,e._t);
a+=2;J(G,a,e.Jk);a+=2}if(e.type==1||e.type==2||e.type==4||e.type==5){b(G,a,e.ed.y/H);a+=4;b(G,a,e.ed.x/Q);
a+=4;b(G,a,e.M.y/H);a+=4;b(G,a,e.M.x/Q);a+=4;b(G,a,e.Gd.y/H);a+=4;b(G,a,e.Gd.x/Q);a+=4}}};function eb(){}eb.dm=function(G){var m=new Uint8Array(G),A=[],Q=0;
Q=eb.YP(m,Q,A);if(Q+3<m.length){A=[];Q=eb.YP(m,Q,A)}return A};eb.YP=function(G,m,A){var Q=V.n6,H=V.jT,J=Q(G,m);
m+=2;var b=Q(G,m);m+=2;for(var $=0;$<b;$++){var O=eb.FI(G,m);m+=10;if(J==2){O.U1=V.ep(G,m);m+=4+O.U1.length*2+2}A.push(O)}return m};
eb.FI=function(G,m){var A=V.n6,Q=V.jT,H=A(G,m),z=null;m+=2;var J=A(G,m);m+=2;var b=A(G,m);m+=2;var O=A(G,m);
m+=2;var a=A(G,m);m+=2;var e=1/65535,R=255/65535,p=100/65535,P=255/1e4;if(H==0)z={p:J*R,z:b*R,h:O*R};
else if(H==1){z=N.JY(J*e,b*e,O*e);z.p*=255;z.z*=255;z.h*=255}else if(H==2)z=N.X.SR({classID:"CMYC",Cyn:{t:"doub",v:100-J*p},Mgnt:{t:"doub",v:100-b*p},Ylw:{t:"doub",v:100-O*p},Blck:{t:"doub",v:100-a*p}});
else if(H==7){var Z=N.KS(J/100,Q(G,m-6)/100,Q(G,m-4)/100);z=Z}else if(H==8){z={p:255-J*P,z:255-b*P,h:255-O*P}}else throw"e "+H+", ";
return z};eb.sU=function(G){var m=new iy,A=0,Q=V.HM;Q(m,A,2);A+=2;Q(m,A,G.length);A+=2;for(var $=0;$<G.length;
$++){var H=G[$];m.fU(A,10);eb.aU(m.data,A,H);A+=10;var J=(H.U1?H.U1:"")+"\0";V.s0(m,A,J);A+=4+J.length*2}return m.data.slice(0,A).buffer};
eb.Tz=function(G,m){G.U1=m};eb.aU=function(G,m,A){var Q=65535/255,H=V.hv;H(G,m,0);H(G,m+2,Math.round(A.p*Q));
H(G,m+4,Math.round(A.z*Q));H(G,m+6,Math.round(A.h*Q));H(G,m+8,0)};function iv(){}iv.dm=function(G){var m=new Uint8Array(G),A=4,Q={};
Q.om=V.ep(m,A);A+=4+Q.om.length*2+2;Q.exp=m[A++]==1;Q.Td=[];var H=V.l(m,A);A+=4;for(var $=0;$<H;$++){var J={};
Q.Td.push(J);J.lW=V.n6(m,A);A+=2;J.shift=m[A++]==1;J.amJ=m[A++]==1;J.color=V.n6(m,A);A+=2;J.om=V.ep(m,A);
A+=4+J.om.length*2+2;J.exp=m[A++]==1;J.Td=[];var b=V.l(m,A);A+=4;for(var O=0;O<b;O++){var a={};J.Td.push(a);
a.exp=m[A++]==1;a.P=m[A++]==1;a.ar0=m[A++]==1;a.agm=m[A++];var e=V.uB(m,A,4);A+=4;if(e=="TEXT"){a.YI=iv.P8(m,A);
A+=4+a.YI.length}else if(e=="long"){a.YI=V.uB(m,A,4);A+=4}else throw"e";a.IA=iv.P8(m,A);A+=4+a.IA.length;
var R=V.Ys(m,A);A+=4;if(R==-1){a.aL={};var p=fB.e3(m,a.aL,A);A+=p}}}console.log(Q);var P=new Uint8Array(iv.sU(Q));
for(var $=0;$<P.length;$++)if(P[$]!=m[$]){console.log(m.length,P.length);var z=4*($>>>2)-16;console.log(V.z1(m,z,64));
console.log(V.z1(P,z,64));console.log(m.slice(z,z+64));console.log(P.slice(z,z+64));throw $}return[Q]};
iv.P8=function(G,m){var A=V.l(G,m);return V.uB(G,m+4,A)};iv.V5=function(G,m,A){V.io(G,m,A.length);V.yN(G,m+4,A)};
iv.sU=function(G){var m=new iy,A=0;V.io(m,A,16);A+=4;V.s0(m,A,G.om+"\0");A+=4+G.om.length*2+2;m.fU(A,1);
m.data[A++]=G.exp?1:0;var Q=G.Td.length;V.io(m,A,Q);A+=4;for(var $=0;$<Q;$++){var H=G.Td[$];V.HM(m,A,H.lW);
A+=2;m.fU(A,2);m.data[A++]=H.shift?1:0;m.data[A++]=H.amJ?1:0;V.HM(m,A,H.color);A+=2;V.s0(m,A,H.om+"\0");
A+=4+H.om.length*2+2;m.fU(A,1);m.data[A++]=H.exp?1:0;var J=H.Td.length;V.io(m,A,J);A+=4;for(var b=0;
b<J;b++){var O=H.Td[b];m.fU(A,4);m.data[A++]=O.exp?1:0;m.data[A++]=O.P?1:0;m.data[A++]=O.ar0?1:0;m.data[A++]=O.agm;
var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(O.YI)!=-1;V.yN(m,A,a?"long":"TEXT");A+=4;
if(!a){iv.V5(m,A,O.YI);A+=4+O.YI.length}else{V.yN(m,A,O.YI);A+=4}iv.V5(m,A,O.IA);A+=4+O.IA.length;V.Q6(m,A,O.aL?-1:0);
A+=4;if(O.aL){var e=fB.NO(m,O.aL,A);A+=e}}}return m.data.slice(0,A).buffer};function g9(){}g9.dm=function(G){var m=new Uint8Array(G),A=0,Q=V.l(m,A),a;
A+=4;var H=V.uB(m,A,8);A+=8;var J=V.Wj(m,A);A+=4;var b=V.Wj(m,A);A+=4;var O=V.Wj(m,A);A+=4;if(Q==2){a=new Float32Array(G,32,G.byteLength-32>>>2)}else if(Q==3||Q==4){a=new Float32Array(b*O*2);
var e=0,R=0,p=!0;A=Q==3?32:16+8+40;while(A<m.length){var P=V.Wj(m,A);A+=4;if(p)R+=P;else{for(var $=0;
$<P;$++){a[e+R+$<<1]=V.xN(m,A);a[(e+R+$<<1)+1]=V.xN(m,A+4);A+=8}R+=P}p=!p;if(P!=0&&R==b){e+=b;R=0;p=!0;
if(e==b*O)break}}}else throw"unknown Mesh version: "+Q;return{zp:b,V7:O,map:a}};g9.MJ=function(G){var m=G.zp,A=G.V7,Q=G.map,H=new Uint8Array(32+A*m*8+A*8),J=0,b=0;
V.na(H,J,3);J+=4;V.aw(H,J,"yfqLhseM");J+=8;V.l0(H,J,2);J+=4;V.l0(H,J,m);J+=4;V.l0(H,J,A);J+=4;V.l0(H,J,0);
J+=4;V.l0(H,J,1);J+=4;for(var O=0;O<A;O++){V.l0(H,J,0);J+=4;V.l0(H,J,m);J+=4;for(var a=0;a<m;a++){V.oR(H,J,Q[b]);
V.oR(H,J+4,Q[b+1]);b+=2;J+=8}}return H.buffer};function dK(){}dK.dm=function(G){var m=new Uint8Array(G),A=0,Q=V.uB(m,A,4);
A+=4;var H=V.n6(m,A);A+=2;var J=V.l(m,A);A+=4;var b=[];for(var $=0;$<J;$++){var O=V.l(m,A);A+=4;var a={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
b.push(a);var e=V.ep(m,A);a.Nm.v=e;A+=4+e.length*2+2;var R=V.n6(m,A);A+=2;var p=V.n6(m,A);A+=2;for(var P=0;
P<p;P++){var z=N.RH.eM(0,0,!0);z.v.Vrtc.v=V.n6(m,A);A+=2;z.v.Hrzn.v=V.n6(m,A);A+=2;a.Crv.v.push(z)}if(O==1){}else if(O==2){for(var P=0;
P<p;P++){a.Crv.v[P].v.Cnty.v=m[A]==1;A+=1}}else throw"error";var Z=V.l(m,A);A+=4;var W=V.l(m,A);A+=4}return b};
dK.Tz=function(G,m){G.Nm.v=m};dK.sU=function(G){var m=new iy,A=0;V.yN(m,A,"8BFS");A+=4;V.HM(m,A,1);A+=2;
V.io(m,A,G.length);A+=4;for(var $=0;$<G.length;$++){V.io(m,A,2);A+=4;var Q=G[$];V.s0(m,A,Q.Nm.v+"\0");
A+=4+Q.Nm.v.length*2+2;V.HM(m,A,2);A+=2;var H=Q.Crv.v.length;V.HM(m,A,H);A+=2;for(var J=0;J<H;J++){var b=Q.Crv.v[J];
V.HM(m,A,b.v.Vrtc.v);A+=2;V.HM(m,A,b.v.Hrzn.v);A+=2}m.fU(A,H);for(var J=0;J<H;J++){m.data[A]=Q.Crv.v[J].v.Cnty.v;
A++}V.io(m,A,0);A+=4;V.io(m,A,0);A+=4}return m.data.slice(0,A).buffer};function bv(){}bv.dm=function(G){var m=new Uint8Array(G),A=4,Q=V.n6(m,A);
A+=2;var H=V.l(m,A);A+=4;var J=[];for(var $=0;$<H;$++){var b={};J.push(b);A=bv.$D(m,A,b)}return J};bv.Tz=function(G,m){G.name=m};
bv.sU=function(G){var m=new iy,A=0;V.yN(m,A,"8BPT");A+=4;V.HM(m,A,1);A+=2;V.io(m,A,G.length);A+=4;for(var $=0;
$<G.length;$++){A=bv.t2(m,A,G[$])}return m.data.slice(0,A).buffer};bv.A1=function(G,m,A){var Q=m+A,H=[];
while(m<Q){var J={},b=V.l(G,m);m+=4;var O=m;m=bv.$D(G,m,J);if(!J.g3[1].My())H.push(J);if(b%4!=0)b+=4-b%4;
m=O+b}return H};bv._J=function(G,m,A){for(var $=0;$<A.length;$++){var Q=A[$];m+=4;var H=m;m=bv.t2(G,m,Q);
var J=m-H;V.io(G,H-4,J);if(J%4!=0)H+=4-J%4;m=H+J}return m};bv.$D=function(G,m,A){var Q=V.l(G,m);m+=4;
if(Q!=1)alert("Unknown version of pattern");var H=V.l(G,m);m+=4;if(H!=1&&H!=2&&H!=3)console.log("Unsupported mode of pattern: "+H);
var J=V.n6(G,m);m+=2;var b=V.n6(G,m);m+=2;var O=new f_(0,0,b,J);A.name=V.ep(G,m);m+=4+2*A.name.length+2;
var a=G[m];m++;A.id=V.uB(G,m,a);m+=A.id.length;var e=-1;if(H==2){e=m;m+=3*256+4}var R=new N.NI(b*J);
m=bv.ajG(G,m,R);if(H==2){for(var $=0;$<R.p.length;$++){var p=3*R.p[$];R.p[$]=G[e+p+0];R.z[$]=G[e+p+1];
R.h[$]=G[e+p+2]}}var P=N.$(O.Z()*4);N.Ff(R,P);A.g3=[P,O];return m};bv.t2=function(G,m,A){var Q=A.g3[0],H=A.g3[1];
V.io(G,m,1);m+=4;V.io(G,m,3);m+=4;V.HM(G,m,H.n);m+=2;V.HM(G,m,H.e);m+=2;V.s0(G,m,A.name+"\0");m+=4+2*A.name.length+2;
V.m2(G,m,A.id.length);m++;V.yN(G,m,A.id);m+=A.id.length;var J=new N.NI(H.Z());N.Pu(Q,J);m=bv.abe(G,m,J,H);
return m};bv.ajG=function(G,m,A){var Q=m,H={PR:null,_T:[],a27:null,ny:null},J=V.l(G,m);m+=4;var b=V.l(G,m);
m+=4;H.PR=V.EP(G,m);m+=16;var O=V.l(G,m);m+=4;for(var $=0;$<O+2;$++){var a=V.l(G,m);m+=4;if(a==0)continue;
var e=V.l(G,m);m+=4;if(e==0)continue;var R=V.l(G,m);m+=4;var p=V.EP(G,m);m+=16;var P=V.n6(G,m);m+=2;
var z=G[m];m++;var Z=cF.Wh(!1,R,G,p.e,p.n,m,z);if($<O)H._T.push(Z);if($==O)H.a27=Z;if($==O+1)H.ny=Z;
m+=e-23}if(!H.PR.My()){if(H._T[0])A.p=H._T[0];if(H._T[1])A.z=H._T[1];else A.z=H._T[0].slice(0);if(H._T[2])A.h=H._T[2];
else A.h=H._T[0].slice(0);if(H.ny)A.Uj=H.ny;else A.Uj.fill(255)}return m};bv.abe=function(G,m,A,Q){var H=m,J={PR:Q,_T:[A.p,A.z,A.h],a27:null,ny:A.Uj};
V.io(G,m,3);m+=4;V.io(G,m,0);m+=4;V.kN(G,m,Q);m+=16;V.io(G,m,24);m+=4;for(var $=0;$<24+2;$++){var b=m,O=$<3||$==25?1:0;
V.io(G,m,O);m+=4;if(O==0)continue;V.io(G,m,0);m+=4;V.io(G,m,8);m+=4;V.kN(G,m,Q);m+=16;V.HM(G,m,8);m+=2;
V.m2(G,m,1,1);m++;var a=$<3?J._T[$]:J.ny;G.fU(m,Q.Z()+2);m=cF.eo(!1,a,G.data,Q.e,Q.n,m,1);V.io(G,b+4,m-b-8)}V.io(G,H+4,m-H-8);
return m};function fI(){}fI.dm=function(G){var m=new Uint8Array(G),A=0,Q=V.uB(m,A,4);A+=4;var H=V.n6(m,A);
A+=2;var J=[];if(H<=3){var b=V.n6(m,A);A+=2;for(var $=0;$<b;$++){var O=m[A++],a=V.uB(m,A,O);A+=O;var e=fI.fy(m,A,a),R=e[0];
A=e[1];J.push(R)}}else{var e={},p=fB.e3(m,e,A+4),P=e.GrdL.v;for(var $=0;$<P.length;$++)J[$]=P[$].v.Grad.v}return J};
fI.Tz=function(G,m){G.Nm.v=m};fI.sU=function(G){var m=new iy,A=0;V.yN(m,A,"8BGR");A+=4;V.HM(m,A,5);A+=2;
V.io(m,A,16);A+=4;var Q={classID:"null",GrdL:{t:"VlLs",v:[]}},H=Q.GrdL.v;for(var $=0;$<G.length;$++)H[$]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:G[$]}}};
A+=fB.NO(m,Q,A);return m.data.slice(0,A).buffer};fI.fy=function(G,m,A){var Q={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:A},Trns:{t:"VlLs",v:[]}},H=V.n6(G,m);
m+=2;if(H==0)throw"e";for(var $=0;$<H;$++){var J=V.l(G,m),b=V.l(G,m+4),O=eb.FI(G,m+8),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:O.p},Grn:{t:"doub",v:O.z},Bl:{t:"doub",v:O.h}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:J},Mdpn:{t:"long",v:b}}};
Q.Clrs.v.push(a);m+=20}var e=V.n6(G,m);m+=2;for(var $=0;$<e;$++){var J=V.l(G,m),b=V.l(G,m+4),R=V.n6(G,m+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*R/255)}},Lctn:{t:"long",v:J},Mdpn:{t:"long",v:b}}};
Q.Trns.v.push(a);m+=10}var p=V.n6(G,m);m+=2;if(p!=2)throw p;Q.Intr.v=V.n6(G,m);m+=2;var P=V.n6(G,m);
m+=2;if(P!=32)throw"e";return[Q,m]};fI.a33=function(G,m,A){var Q=A.Clrs.v.length;V.HM(G,m,Q);m+=2;for(var $=0;
$<Q;$++){var H=A.Clrs.v[$];V.io(G,m,H.v.Lctn.v);V.io(G,m+4,H.v.Mdpn.v);V.HM(G,m+8,0);var J=N.X.N4(N.X.SR(H.v.Clr.v)),b=[J.Rd.v,J.Grn.v,J.Bl.v,0];
for(var O=0;O<4;O++)V.HM(G,m+10+O*2,Math.round(65535*(b[O]/255)));m+=20}var a=A.Trns.v.length;V.HM(G,m,a);
m+=2;for(var $=0;$<a;$++){var H=A.Trns.v[$];V.io(G,m,H.v.Lctn.v);V.io(G,m+4,H.v.Mdpn.v);V.HM(G,m+8,Math.round(255*H.v.Opct.v.val/100));
m+=10}V.HM(G,m,2);m+=2;V.HM(G,m,A.Intr.v);m+=2;V.HM(G,m,32);m+=2;return m};function a3(){}a3.dm=function(G){var m=new Uint8Array(G),A=[],Q=[],H=[],J=[],b=[],O=0,a=V.uB(m,O,4);
O+=4;var e=V.l(m,O);O+=4;var R=V.l(m,O);O+=4;while(O<m.length){var p=V.uB(m,O,4);O+=4;var P=V.uB(m,O,4);
O+=4;var z=V.l(m,O);O+=4;if(P=="tppa"){Q=bv.A1(m,O,z);O+=z}else if(P=="tpbd"){H=fO.En(m,O,z,1,1);O+=z}else if(P=="tptp"){var Z=V.l(m,O);
O+=4;for(var $=0;$<Z;$++){var W=V.ep(m,O);O+=6+W.length*2;O+=4;var T={};O+=fB.e3(m,T,O);A.push([W,T])}while((O&3)!=0)O++}else if(P=="tpsh"){var i=O,X=m.slice(O,O+z);
while(O<i+z){var U=V.l(m,O);O+=4;O=g7.bp(m,O,"Shape",J)}O=i+z}else if(P=="tpst"){var i=O;O+=4;while(O<i+z){var M=V.l(m,O);
O+=4;var C=O,x=V.l(m,O);O+=4;var T={xo:{},uv:{}};b.push(T);O+=4;O+=fB.e3(m,T.xo,O);O+=4;O+=fB.e3(m,T.uv,O);
O=C+M;var L=T.uv.Lefx;if(L){if(L.v.masterFXSwitch==null)L.v.masterFXSwitch={t:"bool",v:!0};a1.Cw(L.v)}}O=i+z}else{console.log(m.slice(O-8,O+64));
console.log(V.uB(m,O-8,64));throw P}}return{GO:H,WJ:Q,list:A,a4l:J,UC:b}};a3.Tz=function(G,m){G[0]=m};
a3.sU=function(G){var m=new iy,A=0;V.yN(m,A,"8BTP");A+=4;V.io(m,A,3);A+=4;V.io(m,A,1);A+=4;var Q=[G.WJ,G.GO,G.list];
for(var $=0;$<3;$++){if(Q[$].length==0)continue;V.yN(m,A,"8BIM");A+=4;var H=["tppa","tpbd","tptp"][$];
V.yN(m,A,H);A+=4;var J=A;A+=4;if(H=="tppa"){A=bv._J(m,A,G.WJ)}else if(H=="tpbd"){A=fO.uN(m,A,G.GO)}else if(H=="tptp"){V.io(m,A,G.list.length);
A+=4;for(var b=0;b<G.list.length;b++){var O=G.list[b];V.s0(m,A,O[0]+"\0");A+=6+O[0].length*2;V.io(m,A,16);
A+=4;A+=fB.NO(m,O[1],A)}}V.io(m,J,A-J-4);while((A&3)!=0)A++;m.fU(A,0)}return m.data.slice(0,A).buffer};
function eT(){}eT.dm=function(G,m){var A=new Uint8Array(G),Q;if(V.l(A,0)==A.length)Q="icc";else if(A[0]=="<".charCodeAt(0))Q="look";
else if(V.Sz(A,"LUT_3D_SIZE")!=-1)Q="cube";else Q="3DL";if(Q!="icc"){var H=eT.a73(A,Q),J=eT.abD(H[0],H[1]);
A=J}var b=[];for(var $=0;$<A.length;$++)b.push(A[$]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:m?m:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:b}}]};
eT.sU=function(G){var m=G[0],A=new Uint8Array(m.profile.v);return A.buffer};eT.Tz=function(G,m){G.Nm.v=m};
eT.abD=function(G,m){var A=new iy,Q=128;A.fU(0,128);var H=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var $=0;$<H.length;$++)A.data[$]=H[$];var J=["desc","A2B0"],b=J.length,O=128+4+b*12;V.io(A,Q,b);
Q+=4;for(var a=0;a<b;a++){var e=J[a];V.yN(A,Q,e);Q+=4;V.io(A,Q,O);Q+=4;var R=O;if(e=="desc"){V.yN(A,R,"mluc");
R+=4;R+=4;V.io(A,R,1);R+=4;V.io(A,R,12);R+=4;V.yN(A,R,"enUS");R+=4;var p="ICC by Photopea\0",P=p.length*2+2;
V.io(A,R,P);R+=4;V.io(A,R,28);R+=4;A.fU(R,P);for(var $=0;$<p.length;$++)A.data[R+$*2+1]=p.charCodeAt($);
R+=P}if(e=="A2B0"){V.yN(A,R,"mAB ");R+=4;R+=4;A.fU(R,4);A.data[R]=3;A.data[R+1]=3;R+=4;A.fU(R,4*5);R+=4*3;
V.io(A,R,R+8-O);R+=4;R+=4;A.fU(R,20);A.data[R]=G;A.data[R+1]=G;A.data[R+2]=G;R+=16;A.data[R]=2;R+=4;
var z=G*G*G*3;A.fU(R,z*2);for(var $=0;$<z;$++)V.hv(A.data,R+$*2,Math.max(0,Math.min(65535,Math.round(m[$]*65535))));
R+=z*2}var Z=R-O;while((Z&3)!=0)Z++;V.io(A,Q,Z);Q+=4;O+=Z}V.io(A,0,O);return A.data.slice(0,O)};eT.a73=function(G,m){m="LUTFormat"+m.toUpperCase();
var A=[],Q=0,H=V.Io(G,0,G.length),J="";for(var $=0;$<G.length&&J=="";$++){if(G[$]==10)J="\n";else if(G[$]==13){J="\r";
if(G[$+1]==10)J+="\n"}}if(m=="LUTFormatCUBE"){var b=H.split(J);for(var $=0;$<b.length;$++){if(b[$]==""||b[$][0]=="#")continue;
var O=b[$].split(" "),a=O[0];if(a=="LUT_3D_SIZE"){Q=parseInt(O[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(a)!=-1)continue;
A.push(parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2]))}A=eT.vk(Q,A)}else if(m=="LUTFormat3DL"){var b=H.split(J),e=1/4095;
for(var $=0;$<b.length;$++){var R=b[$];if(R==""||R=="3DMESH"||R.startsWith("Mesh")||R[0]=="#")continue;
var O=R.split(" "),a=O[0];if(Q==0){Q=O.length;continue}A.push(parseFloat(O[0])*e,parseFloat(O[1])*e,parseFloat(O[2])*e)}}else if(m=="LUTFormatLOOK"){var p=new DOMParser,P=p.parseFromString(H,"text/xml"),z=P.getElementsByTagName("LUT")[0],Z=z.children[0].textContent;
Q=parseInt(JSON.parse(Z));var W=z.children[1].textContent;W=W.replace(/"/g,"").replace(/\s/g,"");var T=3*Q*Q*Q,i=T*4,X=new Uint8Array(i);for(var $=0;$<i;$++){var U=W.charCodeAt($*2),M=W.charCodeAt($*2+1),C=U<58?U-48:U-55,x=M<58?M-48:M-55;X[$]=(C<<4)+x}for(var $=0;$<T;$++)A.push(V.xN(X,$<<2));A=eT.vk(Q,A)}else throw m;return[Q,A]};eT.ad8=function(G,m,A){var Q=["#Created by www.Photopea.com","TITLE \""+A+"\"","","#LUT size","LUT_3D_SIZE "+m,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],H=6;
for(var $=0;$<G.length;$+=3){Q.push(G[$].toFixed(H)+" "+G[$+1].toFixed(H)+" "+G[$+2].toFixed(H))}Q.push("");
return V.Dn(Q.join("\n")).buffer};eT.vk=function(G,m){var A=[],Q=G*G*G;for(var $=0;$<Q;$++)A.push(0,0,0);
for(var H=0;H<G;H++)for(var J=0;J<G;J++)for(var b=0;b<G;b++){var $=3*(b+J*G+H*G*G),O=3*(H+J*G+b*G*G);
A[O]=m[$];A[O+1]=m[$+1];A[O+2]=m[$+2]}return A};function fB(){}fB.e3=function(G,m,A,Q,H){var J=A,b;if(H==null)H=0;
var O=V.l(G,A);if(O==0){b="";A+=4}else{b=V.ep(G,A);A+=4+2*b.length+2}if(b!="")m.__name=b;m.classID=fB.UY(G,A);
if(Q)console.log("\t".repeat(H),"- reading descriptor",m.classID,A);A+=fB.lF(G,A);var a=V.Ys(G,A);A+=4;
for(var $=0;$<a;$++){var e=fB.UY(G,A);A+=fB.lF(G,A);var R=fB.kK(G,A,Q,H);m[e]=R;A+=R.size;delete R.size}return A-J};
fB.NO=function(G,m,A,Q){var H=A,J=m.__name;if(J==null)J="";J+="\0";V.s0(G,A,J);A+=4+2*J.length;fB.PW(G,A,m.classID);
A+=fB.lF(G.data,A);V.Q6(G,A,Object.keys(m).length-1-(m.__name==null?0:1));A+=4;for(var b in m){if(b=="classID")continue;
if(b=="__name")continue;fB.PW(G,A,b);A+=fB.lF(G.data,A);A+=fB.uU(G,A,m[b])}return A-H};fB.kK=function(G,m,A,Q){var H=m,J=V.uB(G,m,4);
m+=4;var b={size:0,t:J,v:null};if(A)console.log("\t".repeat(Q),"reading key",J,H);switch(J){case"obj ":case"VlLs":b.v=[];
var O=V.l(G,m);m+=4;for(var $=0;$<O;$++){var a=fB.kK(G,m,A,Q+1);m+=a.size;delete a.size;b.v.push(a)}break;
case"UntF":b.v={type:V.uB(G,m,4),val:V.Bo(G,m+4)};m+=12;break;case"doub":b.v=V.Bo(G,m);m+=8;break;case"bool":b.v=G[m]==1;
m+=1;break;case"long":b.v=V.Ys(G,m);m+=4;break;case"comp":b.v=V.Ys(G,m+4);m+=8;break;case"Objc":b.v={};
var e=fB.e3(G,b.v,m,A,Q+1);m+=e;break;case"TEXT":var R=V.l(G,m);if(R==0){b.v="";m+=4}else{b.v=V.ep(G,m);
m+=4+b.v.length*2+2}break;case"enum":var p=fB.UY(G,m);m+=fB.lF(G,m);var P=fB.UY(G,m);m+=fB.lF(G,m);b.v={};
b.v[p]=P;break;case"tdta":var z=V.Ys(G,m);m+=4;b.v=[];for(var $=0;$<z;$++)b.v.push(G[m+$]);m+=z;break;
case"ObAr":var Z=V.l(G,m);m+=4;var W=V.ep(G,m);m+=4+2*W.length+2;if(W!="")throw W;var T=fB.UY(G,m);m+=4+Math.max(4,T.length);
b.v={classID:T,arr:[]};var i=V.l(G,m);m+=4;for(var $=0;$<i;$++){var T=fB.UY(G,m);m+=4+Math.max(4,T.length);
var p=V.uB(G,m,4);m+=4;var X=V.uB(G,m,4);m+=4;var U={id:T,type:p,uID:X,arr:[]};b.v.arr.push(U);var M=V.l(G,m,4);
m+=4;for(var C=0;C<M;C++){var x=V.Bo(G,m);m+=8;U.arr.push(x)}}break;case"Pth ":var L=m,z=V.l(G,m);m+=4;
var E=V.uB(G,m,4);m+=4;var l=V.Wj(G,m);m+=4;var y=V.a5l(G,m);m+=4+y.length*2;b.v={sig:E,pth:y};break;
case"Clss":case"type":case"rele":var y=V.ep(G,m);m+=4+y.length*2+2;var Y=fB.UY(G,m);m+=4+Math.max(4,Y.length);
b.v={classID:Y};if(y!="")b.v.__name=y;if(J=="rele"){b.v.val=V.Ys(G,m);m+=4}break;case"prop":case"Enmr":case"indx":case"name":var F=fB.IY[J],y=V.ep(G,m);
m+=4+y.length*2+2;if(y.length!=0){console.log(J,y);throw"e"}b.v={};for(var $=0;$<F.length;$++){var Y=fB.UY(G,m);
m+=4+Math.max(4,Y.length);b.v[F[$]]=Y}if(J=="name"){var y=V.ep(G,m);m+=4+y.length*2+2;b.v.val=y}if(J=="indx"){b.v.val=V.l(G,m);
m+=4}break;case"alis":var z=V.l(G,m);m+=4;b.v=V.uB(G,m,z);m+=z;break;default:{console.log("unknown oskey: "+J+", "+H);
throw"e";return b}}if(A){console.log("\t".repeat(Q),b.v);console.log("\t".repeat(Q),"======",m)}b.size=m-H;
return b};fB.IY={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
fB.uU=function(G,m,A){var Q=m,H=A.t;A=A.v;V.yN(G,m,H);m+=4;switch(H){case"obj ":case"VlLs":V.Q6(G,m,A.length);
m+=4;for(var J=0;J<A.length;J++){var b=fB.uU(G,m,A[J]);m+=b}break;case"UntF":V.yN(G,m,A.type);V.Ca(G,m+4,A.val);
m+=12;break;case"doub":V.Ca(G,m,A);m+=8;break;case"bool":V.m2(G,m,A?1:0,1);m+=1;break;case"long":V.Q6(G,m,A);
m+=4;break;case"comp":V.Q6(G,m+4,A);m+=8;break;case"Objc":var b=fB.NO(G,A,m);m+=b;break;case"TEXT":V.s0(G,m,A+"\0");
m+=4+A.length*2+2;break;case"enum":var O=Object.keys(A)[0],a=A[O];fB.PW(G,m,O);m+=fB.lF(G.data,m);fB.PW(G,m,a);
m+=fB.lF(G.data,m);break;case"tdta":V.io(G,m,A.length);m+=4;V.NQ(G,m,A);m+=A.length;break;case"ObAr":V.io(G,m,A.arr[0].arr.length);
m+=4;V.s0(G,m,"\0");m+=6;fB.PW(G,m,A.classID);m+=4+Math.max(4,A.classID.length);V.io(G,m,A.arr.length);
m+=4;for(var $=0;$<A.arr.length;$++){var e=A.arr[$];fB.PW(G,m,e.id);m+=4+Math.max(4,e.id.length);V.yN(G,m,e.type);
m+=4;V.yN(G,m,e.uID);m+=4;V.io(G,m,e.arr.length);m+=4;for(var J=0;J<e.arr.length;J++){V.Ca(G,m,e.arr[J]);
m+=8}}break;case"Pth ":var R=A.pth.length*2+4+8;V.io(G,m,R);m+=4;V.yN(G,m,A.sig);m+=4;V.yl(G,m,R);m+=4;
V.asW(G,m,A.pth);m+=A.pth.length*2+4;break;case"Clss":case"type":case"rele":var p=A.__name;if(p==null)p="";
V.s0(G,m,p+"\0");m+=4+p.length*2+2;var P=A.classID;fB.PW(G,m,P);m+=4+Math.max(4,P.length);if(H=="rele"){V.Q6(G,m,A.val);
m+=4}break;case"prop":case"Enmr":case"indx":case"name":var z=fB.IY[H];V.io(G,m,1);m+=6;for(var $=0;$<z.length;
$++){var P=A[z[$]];fB.PW(G,m,P);m+=4+Math.max(4,P.length)}if(H=="name"){V.s0(G,m,A.val+"\0");m+=4+A.val.length*2+2}if(H=="indx"){V.io(G,m,A.val);
m+=4}break;case"alis":var R=A.length;V.io(G,m,R);m+=4;V.yN(G,m,A);m+=R;break;default:console.log("unknown oskey: "+H);
m=Q;break}return m-Q};fB.UY=function(G,m){var A=V.Ys(G,m);if(A>1e3)throw"e";if(A==0)A=4;return V.uB(G,m+4,A).trim()};
fB.lF=function(G,m){var A=V.Ys(G,m);return A==0?8:4+A};fB.PW=function(G,m,A){var Q="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),H=4<A.length||Q.indexOf(A)!=-1;
V.Q6(G,m,H?A.length:0);V.yN(G,m+4,A);if(A.length<4&&!H){var J="";for(var $=A.length;$<4;$++)J+=" ";V.yN(G,m+4+A.length,J)}};
fB.ahY=function(G){var m={};for(var A in G){if(A=="classID")m[A]=G[A];else if(A=="__name")m[A]=G[A];
else m[A]=fB.Wx(G[A])}return m};fB.Wx=function(G){if(G.sH=="Objc")return fB.ahY(G.v);else if(G.sH=="VlLs"){var m=[];
for(var $=0;$<G.v.length;$++)m.push(fB.Wx(G.v[$]));return m}else if(G.sH=="UntF")return G.v.val;else return G.v};
function a1(){}a1.Z9=function(G,m,A,Q,H,J){while(m<A){var b=V.uB(G,m,4);m+=4;if(b!="8BIM"&&b!="8B64"){console.log("layer information signature error! "+b,"PSB = "+H);
alert("Error in PSD file: wrong signature.");return A}var O=V.uB(G,m,4);m+=4;var a=V.l(G,m);m+=4;var e=H&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(O)!=-1;
if(e){a=a<<32|V.Ys(G,m);m+=4}var R=["lrFX","PlLd"];if(R.indexOf(O)!=-1){if(a%4!=0)a+=4-a%4;m+=a;continue}switch(O){case"iOpa":Q[O]=G[m];
break;case"brst":Q[O]=[1,1,1];for(var $=0;$<a;$+=4)Q[O][V.l(G,m+$)]=0;break;case"knko":Q[O]=G[m];break;
case"infx":Q[O]=G[m];break;case"clbl":Q[O]=G[m];break;case"lmgm":Q[O]=G[m];break;case"vmgm":Q[O]=G[m];
break;case"lyid":Q[O]=V.l(G,m);break;case"lsct":Q[O]={type:V.l(G,m)};if(a>=12)Q[O].w4=V.uB(G,m+8,4);
break;case"lsdk":Q.lsct={type:V.l(G,m)};break;case"lyvr":Q[O]=V.l(G,m);break;case"lnsr":var p={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
Q[O]=V.uB(G,m,4);break;case"lspf":Q[O]=V.l(G,m);break;case"lclr":Q[O]=V.n6(G,m);break;case"luni":Q[O]=V.A8(G,m);
break;case"fxrp":Q[O]=new dw(V.Bo(G,m),V.Bo(G,m+8));break;case"artb":case"artd":Q[O]={};fB.e3(G,Q[O],m+4);
break;case"SoCo":Q[O]={};fB.e3(G,Q[O],m+4);break;case"GdFl":Q[O]={};fB.e3(G,Q[O],m+4);a1.B6(Q[O],O);
break;case"PtFl":Q[O]={};fB.e3(G,Q[O],m+4);a1.B6(Q[O],O);break;case"CgEd":var P=Q.brit=bH.wZ("brit"),z={};
fB.e3(G,z,m+4);P.Brgh.v=z.Brgh?z.Brgh.v:0;P.Cntr.v=z.Cntr?z.Cntr.v:0;P.useLegacy.v=z.useLegacy?z.useLegacy.v:0;
break;case"brit":if(Q.brit==null){var P=Q.brit=bH.wZ("brit"),z={};P.Brgh.v=V.jT(G,m);P.Cntr.v=V.jT(G,m+2);
P.useLegacy.v=!1}break;case"levl":var Z=G.buffer.slice(m,m+a);Q[O]=fX.dm(Z);break;case"curv":Q[O]=a0.Ye(G,m,a);
break;case"expA":var W=V.n6(G,m),T=Q[O]=bH.wZ("expA");T.Exps.v=V.BH(G,m+2);T.Ofst.v=V.BH(G,m+6);T.gammaCorrection.v=V.BH(G,m+10);
break;case"vibA":Q[O]={};fB.e3(G,Q[O],m+4);break;case"hue2":Q[O]=bY.Ye(G,m,a);break;case"blnc":var T=Q[O]=bH.wZ(O);
T.PrsL.v=G[m+18]==1;var i=["ShdL","MdtL","HghL"];for(var $=0;$<3;$++)for(var X=0;X<3;X++)T[i[$]].v[X].v=V.jT(G,m+$*6+X*2);
break;case"blwh":var U={};fB.e3(G,U,m+4);var T=bH.wZ(O),M="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var $=0;$<M.length;$++){T[M[$]]=U[M[$]];delete U[M[$]]}Q[O]=T;break;case"phfl":var T=Q[O]=bH.wZ(O),C=T.Clr.v,W=V.n6(G,m);
if(W==3){var x=[V.l(G,m+2),V.l(G,m+6),V.l(G,m+10)],L=32768,E=N.bw(x[0]/L,x[1]/L,x[2]/L);C.Lmnc.v=E.QC;
C.A.v=E.Uj;C.B.v=E.h}if(W==2){var l=V.n6(G,m+2);if(l!=7)throw"e";C.Lmnc.v=V.jT(G,m+4)/100;C.A.v=V.jT(G,m+6)/100;
C.B.v=V.jT(G,m+8)/100}var y=m+2+(W==3?12:10);T.Dnst.v=V.l(G,y);y+=4;T.PrsL.v=G[y]==1;break;case"mixr":var Y={nx:V.n6(G,m+2)==1,k:[]};
for(var $=0;$<20;$++)Y.k.push(V.jT(G,m+4+$*2));Q[O]=hE.T5(Y);break;case"clrL":case"rplc":Q[O]={};fB.e3(G,Q[O],m+6);
break;case"nvrt":Q[O]={};break;case"post":Q[O]=bH.wZ("post");Q[O].Lvls.v=V.n6(G,m);break;case"thrs":Q[O]=bH.wZ("thrs");
Q[O].Lvl.v=V.n6(G,m);break;case"grdm":var F=m,w=G[m+2]==1,j=G[m+3]==1;F+=4;var _=V.A8(G,F);F+=4+_.length*2;
var D=fI.fy(G,F,_),t=D[0];F=D[1];var K=V.n6(G,F);F+=2;var d=V.l(G,F);F+=4;var o=V.n6(G,F)==1;F+=2;var k=V.n6(G,F)==1;
F+=2;var v=V.l(G,F);F+=4;var u=V.n6(G,F);F+=2;var B=[],S=[];for(var $=0;$<4;$++){B.push({t:"long",v:~~(V.n6(G,F+$*2)*100/32768)});
S.push({t:"long",v:~~(V.n6(G,F+$*2+8)*100/32768)})}F+=16;var I=V.n6(G,F);F+=2;if(K==1)t={classID:"Grdn",Nm:{t:"TEXT",v:_},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:o},VctC:{t:"bool",v:k},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:d},Smth:{t:"long",v:v},Mnm:{t:"VlLs",v:B},Mxm:{t:"VlLs",v:S}};
var q=bH.wZ("grdm");q.Rvrs.v=w;q.Grad.v=t;Q[O]=q;break;case"selc":Q[O]=gO.Ye(G,m,a);break;case"vmsk":case"vsms":var hw=Q.vmsk=new c.Rl,fY=V.Ys(G,m+4),s=(fY>>0&1)==1;
hw.v5=(fY>>1&1)==0;hw.isEnabled=(fY>>2&1)==0;hw.Y=g7.U7(G,m+8,a-8,J.e,J.n);break;case"shmd":Q[O]={};
var hZ=V.l(G,m),y=m+4;for(var $=0;$<hZ;$++){var b=V.uB(G,y,4);y+=4;var bG=V.uB(G,y,4);y+=4;var aY=G[y];
y++;if(Math.max(G[y],G[y+1],G[y+2])!=0)throw"e";y+=3;var fj=V.l(G,y);y+=4;if(bG=="cust"||bG=="cmls"||bG=="extn"||bG=="mlst"){var jg=V.l(G,y);
if(jg!=16)y+=4;if(V.l(G,y)==16){var U={};fB.e3(G,U,y+4,!1);Q[O][bG]=U;if(bG=="cmls")f.Ac.aol(Q[O][bG])}}else{console.log("unknown shmd key: "+bG+", size: "+fj)}y+=fj}break;
case"shpa":var W=V.l(G,m),ae=V.l(G,m+4);if(ae!=0)console.log("some patterns present!");break;case"TySh":var iB=Q[O]={},W=V.n6(G,m);
iB.A=V.C6(G,m+2);var eg=V.n6(G,m+2+48);iB.kS={};var dM=fB.e3(G,iB.kS,m+56),fK=fC.afe();for(var aQ in fK)if(iB.kS[aQ]==null)iB.kS[aQ]=fK[aQ];
iB.yF={};var cQ=fB.e3(G,iB.yF,m+56+dM+6);iB.sC=V.anq(G,m+56+dM+6+cQ);iB.DQ=cz.dm(iB.kS.EngineData.v);
fC.arA(iB.DQ.EngineDict.StyleRun.RunArray);if(iB.DQ.ResourceDict==null)iB.DQ.ResourceDict=JSON.parse(JSON.stringify(iB.DQ.DocumentResources));
delete iB.kS.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var a7=V.l(G,m),gz=V.l(G,m+4);Q.lmfx={};
var dM=fB.e3(G,Q.lmfx,m+8);a1.Cw(Q.lmfx);break;case"FMsk":Q[O]=V.mF(G,m,a);break;case"Txt2":Q[O]={};
Q[O].raw=V.mF(G,m,a);Q[O].k2=aR.dm(Q[O].raw);break;case"Patt":Q[O]=bv.A1(G,m,a);break;case"SoLd":var bQ=V.uB(G,m,4),d4=V.l(G,m+4),j2=V.l(G,m+8);
Q[O]={};var j7=fB.e3(G,Q[O],m+12);if(Q[O].nonAffineTransform==null)Q[O].nonAffineTransform=JSON.parse(JSON.stringify(Q[O].Trnf));
if(Q[O].Impr==null)Q[O].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var d4=V.l(G,m);
Q[O]={};var j7=fB.e3(G,Q[O],m+4);break;case"vscg":var bG=V.uB(G,m,4),d4=V.l(G,m+4);Q[bG]={};var j7=fB.e3(G,Q[bG],m+8);
a1.B6(Q[bG],bG);break;case"vogk":var fG=V.l(G,m),d4=V.l(G,m+4);Q[O]={};var j7=fB.e3(G,Q[O],m+8);Q[O]=Q[O].keyDescriptorList.v;
for(var $=0;$<Q[O].length;$++){var bT=Q[O][$].v;if(!N.Nv.d2(bT))continue;if(bT.keyOriginBoxCorners==null){var je=N.Nv.yc(bT);
bT.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var ba=[je[0],je[1],je[2],je[1],je[2],je[3],je[0],je[3]];
if(bT.keyOriginType.v==4)ba=N.Nv.ai(N.Nv.tW(bT),bT.keyOriginLineWeight.v);N.Nv.q7(bT,"keyOriginBoxCorners",ba)}}break;
case"lnk2":case"lnkD__":case"lnk3__":Q[O]=[];var F=m;while(F<m+a){var j6=new c.Sf;Q[O].push(j6);var cl=V.Ss(G,F);
F+=8;var js=F;j6.type=V.uB(G,F,4);F+=4;if(j6.type!="liFD"){alert("Unknown Linked Layer type: "+j6.type);
break;throw j6.type}j6._D=V.l(G,F);F+=4;var fR=V.Qn(G,F);F+=1+fR.gv.length;j6.kl=fR.gv;j6.Vc=V.ep(G,F);
F+=4+j6.Vc.length*2+2;j6.D2=V.uB(G,F,4);F+=4;j6.Ez=V.uB(G,F,4);F+=4;var iW=V.Ss(G,F);F+=8;j6.open=G[F];
F+=1;if(j6.open!=0){var fx={},dM=fB.e3(G,fx,F+4);if(dM%4!=0)dM+=4-dM%4;console.log(fx);F+=dM+4}j6.open=0;
j6.raw=V.mF(G,F,iW);F=js+cl;if(cl%4!=0)F+=4-cl%4}break;case"FEid":var F=m;Q[O]=[];var dm=F+a,W=V.l(G,F);
F+=4;while(F<dm){F+=4;var cl=V.l(G,F);F+=4;var D={};Q[O].push(D);D.id=V.Qn(G,F).gv;F+=D.id.length+1;
var W=V.l(G,F);F+=4;F+=4;var fq=V.l(G,F);F+=4;D.rect=V.EP(G,F);F+=16;var h2=V.l(G,F);F+=4;var jj=V.l(G,F);
F+=4;var iM=new N.NI(0);for(var $=0;$<jj+2;$++){var aC=V.l(G,F);F+=4;if(aC!=0){F+=4;var aB=V.l(G,F),ep=null;
F+=4;if($<3||$==25)ep=cF.Wb(!0,h2,G,D.rect.e,D.rect.n,F,aB);if($==0)iM.p=ep;if($==1)iM.z=ep;if($==2)iM.h=ep;
if($==25)iM.Uj=ep;F+=aB}}D.buffer=N.$(D.rect.Z()*4);N.Ff(iM,D.buffer);N.uL(D);var h6=G[F];F++;if(h6!=0){D.D=new c.Mz;
D.D.rect=V.EP(G,F);F+=16;F+=4;var dJ=V.l(G,F);F+=4;D.D.channel=cF.Wb(!0,h2,G,D.D.rect.e,D.D.rect.n,F,dJ);
D.D.color=255;D.D.LA();F+=dJ}if(cl%4!=0)F+=4-cl%4}break;case"Lr16":bE.F0(J,G,m);break;default:break}var gs="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf".split(" ");
if(gs.indexOf(O)==-1)if(a%4!=0)console.log("size not multiple of 4!!!",O);if(O!="luni"&&O!="TySh"&&O!="tySh"&&O!="lfx2")if(a%4!=0)a+=4-a%4;
m+=a}var ej=[];for(var $=0;$<ej.length;$++)delete Q[ej[$]];return m};a1.oh=function(G,m,A,Q,H){for(var J in A)if(A[J]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+J+"\" tag was present with a null value.");delete A[J]}for(var J in A){var b=Q&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(J)!=-1,a=0;
V.yN(G,m,b?"8B64":"8BIM");m+=4;var O=m;V.yN(G,m,J);m+=4;V.Q6(G,m,0);m+=b?8:4;switch(J){case"iOpa":V.m2(G,m,A[J],1);
a=4;break;case"brst":a=0;for(var $=0;$<3;$++)if(A[J][$]==0){V.io(G,m+a,$);a+=4}break;case"knko":V.m2(G,m,A[J],1);
a=4;break;case"infx":V.m2(G,m,A[J],1);a=4;break;case"clbl":V.m2(G,m,A[J],1);a=4;break;case"lmgm":V.m2(G,m,A[J],1);
a=4;break;case"vmgm":V.m2(G,m,A[J],1);a=4;break;case"lyid":V.io(G,m,A[J]);a=4;break;case"lsct":V.io(G,m,A[J].type);
a=4;if(A[J].w4){V.yN(G,m+4,"8BIM");V.yN(G,m+8,A[J].w4);a=12}break;case"lyvr":V.io(G,m,A[J]);a=4;break;
case"lnsr":V.yN(G,m,A[J]);a=4;break;case"lspf":V.io(G,m,A[J]);a=4;break;case"lclr":V.HM(G,m,A[J]);a=8;
break;case"luni":V.s0(G,m,A[J]);a=4+2*A[J].length;break;case"fxrp":V.Ca(G,m,A[J].x);V.Ca(G,m+8,A[J].y);
a=16;break;case"artb":case"artd":V.io(G,m,16);a=fB.NO(G,A[J],m+4)+4;break;case"SoCo":V.io(G,m,16);a=fB.NO(G,A[J],m+4)+4;
break;case"GdFl":V.io(G,m,16);a=fB.NO(G,A[J],m+4)+4;break;case"PtFl":V.io(G,m,16);a=fB.NO(G,A[J],m+4)+4;
break;case"CgEd":var e={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},R=e,p=A[J];
R.Brgh.v=p.Brgh.v;R.Cntr.v=p.Cntr.v;R.useLegacy.v=p.useLegacy.v;V.io(G,m,16);a=fB.NO(G,e,m+4)+4;break;
case"brit":G.fU(m,8);a=8;break;case"levl":var P=new iy;a=fX.sU(P,A[J]);V.NQ(G,m,P.data);break;case"curv":a=a0.L$(G,m,A[J]);
break;case"expA":a=14;G.fU(m,14);V.hv(G.data,m,1);V.Fy(G.data,m+2,A[J].Exps?A[J].Exps.v:0);V.Fy(G.data,m+6,A[J].Ofst?A[J].Ofst.v:0);
V.Fy(G.data,m+10,A[J].gammaCorrection?A[J].gammaCorrection.v:1);break;case"vibA":V.io(G,m,16);a=fB.NO(G,A[J],m+4)+4;
break;case"hue2":a=bY.L$(G,m,A[J]);break;case"blnc":a=19;G.fU(m,a);var z=["ShdL","MdtL","HghL"];for(var $=0;
$<3;$++){var Z=A[J][z[$]].v;for(var W=0;W<3;W++)Z.push(V.Mo(G.data,m+$*6+W*2,Z[W].v))}G.data[m+18]=A[J].PrsL.v?1:0;
break;case"blwh":var e={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},T="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var $=0;$<T.length;$++){e[T[$]]=A[J][T[$]]}V.io(G,m,16);a=fB.NO(G,e,m+4)+4;break;case"phfl":V.HM(G,m,2);
var i=A[J].Clr.v;V.HM(G,m+2,7);V.HM(G,m+4,Math.round(i.Lmnc.v*100));V.HM(G,m+6,Math.round(i.A.v*100));
V.HM(G,m+8,Math.round(i.B.v*100));V.HM(G,m+10,0);var X=m+2+10;G.fU(X,5);V.na(G.data,X,A[J].Dnst.v);X+=4;
G.data[X]=A[J].PrsL.v?1:0;X++;a=X-m;break;case"mixr":a=44;G.fU(m,a);var U=hE.GT(A[J]);V.hv(G.data,m,1);
V.hv(G.data,m+2,U.nx?1:0);for(var $=0;$<20;$++)V.Mo(G.data,m+4+$*2,U.k[$]);break;case"clrL":case"rplc":V.HM(G,m,1);
V.io(G,m+2,16);a=fB.NO(G,A[J],m+6)+6;break;case"nvrt":a=0;break;case"post":V.HM(G,m,A[J].Lvls.v);a=2;
break;case"thrs":V.HM(G,m,A[J].Lvl.v);a=2;break;case"grdm":var M=A[J].Rvrs?A[J].Rvrs.v:!1,C=!1,x=867527939,L=!1,E=!1,l=2048,y=[0,0,0,0],Y=[32768,32768,32768,32768],F=A[J].Grad.v,w,j,_=F.Clrs==null?1:0;
if(_==0){w=F;j=JSON.parse(hK.eY.adA).v}else{w=bH.wZ("grdm").Grad.v;j=F}G.fU(m,4);V.hv(G.data,m,1);G.data[m+2]=M?1:0;
G.data[m+3]=C?1:0;var D=m+4;V.s0(G,D,F.Nm.v);D+=4+F.Nm.v.length*2;D=fI.a33(G,D,w);V.HM(G,D,_);D+=2;V.io(G,D,j.RndS.v);
D+=4;V.HM(G,D,j.ShTr.v?1:0);D+=2;V.HM(G,D,j.VctC.v?1:0);D+=2;V.io(G,D,j.Smth.v);D+=4;V.HM(G,D,3);D+=2;
for(var $=0;$<4;$++)V.HM(G,D+$*2,y[$]);D+=8;for(var $=0;$<4;$++)V.HM(G,D+$*2,Y[$]);D+=8;D+=2;a=D-m;break;
case"selc":a=gO.L$(G,m,A[J]);break;case"FMsk":V.NQ(G,m,A[J]);a=A[J].length;break;case"Txt2":var t=new iy,K=aR.MJ(A[J].k2,t),d=N.$(K,!0);
for(var $=0;$<K;$++)d[$]=t.data[$];V.NQ(G,m,d);a=d.length;break;case"vmsk":var o=A[J],k=0;V.io(G,m,3);
if(!o.v5)k+=1<<1;if(!o.isEnabled)k+=1<<2;V.io(G,m+4,k);a=8;var v=o.Y.length;G.fU(m+8,v*26);g7.ug(G.data,m+8,o.Y,H.e,H.n);
a+=v*26;break;case"shmd":V.io(G,m,Object.keys(A[J]).length);var X=m+4;for(var u in A[J]){V.yN(G,X,"8BIM");
X+=4;V.yN(G,X,u);X+=4;V.io(G,X,0);X+=4;V.io(G,X,0);X+=4;V.io(G,X,16);X+=4;var B=fB.NO(G,A[J][u],X);if(B%4!=0)B+=4-B%4;
V.io(G,X-8,B+4);X+=B}a=X-m;break;case"TySh":var X=m;V.Ev(G,X,1);X+=2;var S=A[J],t=new iy;S.DQ.DocumentResources=JSON.parse(JSON.stringify(S.DQ.ResourceDict));
var K=cz.MJ(S.DQ,t),d=N.$(K,!0);for(var $=0;$<K;$++)d[$]=t.data[$];S.kS.EngineData={t:"tdta",v:d};var I=S.DQ.EngineDict.Editor.Text;
S.kS.Txt.v=I.substring(0,I.length-1);V.ajP(G,X,S.A);X+=48;V.Ev(G,X,50);X+=2;V.io(G,X,16);X+=4;X+=fB.NO(G,S.kS,X);
V.Ev(G,X,1);X+=2;V.io(G,X,16);X+=4;X+=fB.NO(G,S.yF,X);V.atg(G,X,S.sC);X+=16;a=X-m;break;case"lmfx":V.io(G,m,0);
V.io(G,m+4,16);var e=JSON.parse(JSON.stringify(A[J])),q=!1;a1.n8(e);for(var $=0;$<hK.HK.length;$++)if(e[hK.HK[$]]!=null)q=!0;
V.yN(G,O,q?"lmfx":"lfx2");a=fB.NO(G,e,m+8)+8;break;case"Patt":var X=bv._J(G,m,A[J]);a=X-m;break;case"SoLd":V.yN(G,m,"soLD");
V.io(G,m+4,4);V.io(G,m+8,16);a=fB.NO(G,A[J],m+12)+12;break;case"vstk":case"pths":V.io(G,m,16);a=fB.NO(G,A[J],m+4)+4;
break;case"vscg__":V.yN(G,m,A[J].key);V.io(G,m+4,16);a=fB.NO(G,A[J].k,m+8)+8;break;case"vogk":V.io(G,m,1);
V.io(G,m+4,16);N.Nv.arv(A[J]);for(var $=0;$<A[J].length;$++){var hw=A[J][$].v.keyOriginResolution;if(hw)hw.v=H.SV}var fY={classID:"null",keyDescriptorList:{t:"VlLs",v:A[J]}};
a=fB.NO(G,fY,m+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var D=m;for(var $=0;$<A[J].length;$++){var s=A[J][$],hZ=D;
V.Wn(G,D,0);D+=8;V.yN(G,D,s.type);D+=4;V.io(G,D,s._D);D+=4;G.fU(D,1);G.data[D]=s.kl.length;D++;V.yN(G,D,s.kl);
D+=s.kl.length;V.s0(G,D,s.Vc+"\0");D+=4+s.Vc.length*2+2;V.yN(G,D,s.D2);D+=4;V.yN(G,D,s.Ez);D+=4;V.Wn(G,D,s.raw.length);
D+=8;G.fU(D,1);G.data[D]=s.open;D++;V.NQ(G,D,s.raw);D+=s.raw.length;V.io(G,D,1);D+=4;D+=11;var bG=D-hZ-8;
V.Wn(G,hZ,bG);if(bG%4!=0){G.fU(D,4-bG%4);D+=4-bG%4}}a=D-m;break;case"FEid":var D=m;V.io(G,D,3);D+=4;
for(var aY=0;aY<A[J].length;aY++){var fj=A[J][aY];D+=4;var jg=D;D+=4;V.kv(G,D,fj.id);D+=fj.id.length+1;
V.io(G,D,1);D+=4;var ae=N.$(fj.rect.Z()),iB=fj.rect,eg=N.$(iB.Z());D+=4;var dM=D;D+=4;V.kN(G,D,iB);D+=16;
V.io(G,D,8);D+=4;V.io(G,D,24);D+=4;for(var $=0;$<24+2;$++){var fK=-1;if($==0)fK=0;if($==1)fK=1;if($==2)fK=2;
if($==25)fK=3;V.io(G,D,fK!=-1?1:0);D+=4;if(fK!=-1){N.gF(fj.buffer,ae,fK);N.qg(ae,fj.rect,eg,iB);D+=4;
var aQ=D;D+=4;G.fU(D,iB.Z()+2);D=cF.Pl(!0,eg,G.data,iB.e,iB.n,D,3);V.io(G,aQ,D-(aQ+4))}}V.io(G,dM,D-(dM+4));
G.fU(D,1);G.data[D]=fj.D?1:0;D++;if(fj.D!=null){var cQ=iB,a7=N.$(cQ.Z());a7.fill(fj.D.color);N.qg(fj.D.channel,fj.D.rect,a7,cQ);
V.kN(G,D,cQ);D+=16;D+=4;var gz=D;D+=4;G.fU(D,cQ.Z()+2);D=cF.Pl(!0,a7,G.data,cQ.e,cQ.n,D,3);V.io(G,gz,D-(gz+4))}var bG=D-(jg+4);
V.io(G,jg,bG);if(bG%4!=0)D+=4-bG%4}a=D-m;break;default:console.log("unknown layer tag: "+J+", size: "+a);
m-=12;continue}var bQ=["Txt2","artd","extd","pths"];if(bQ.indexOf(J)==-1)if(a%4!=0)a+=4-a%4;if(b)V.Wn(G,m-8,a);
else V.io(G,m-4,a);if(J!="luni"&&J!="TySh")if(a%4!=0)a+=4-a%4;m+=a}return m};a1.Cw=function(G){for(var $=0;
$<hK.order.length;$++){var m=hK.order[$],A=hK.HK[$];if(G[A]==null)G[A]={t:"VlLs",v:[]};if(G[m]!=null){G[A].v.push(G[m]);
delete G[m]}var Q=[];for(var H=0;H<G[A].v.length;H++){var J=G[A].v[H];if(J.v.present==null||J.v.present.v==!0)Q.push(J)}G[A].v=Q}};
a1.n8=function(G){for(var $=0;$<hK.order.length;$++){var m=hK.order[$],A=hK.HK[$],Q=G[A].v.length;if(Q==0){delete G[A];
continue}if(Q==1){G[m]=G[A].v[0];delete G[A];continue}}};a1.B6=function(G,m){if(m=="GdFl"){if(G.Angl==null)G.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(G.Algn==null)G.Algn={v:!0,t:"bool"};if(G.Scl==null)G.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(G.Ofst==null)G.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(G.Rvrs==null)G.Rvrs={v:!1,t:"bool"};if(G.Dthr==null)G.Dthr={v:!1,t:"bool"}}if(m=="PtFl"){if(G.Algn==null)G.Algn={v:!0,t:"bool"};
if(G.Angl==null)G.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(G.Scl==null)G.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(G.phase==null)G.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};a1.clone=function(G,m){var A={};
if(G=="TySh"){A.A=m.A.clone();A.kS=JSON.parse(JSON.stringify(m.kS));A.yF=JSON.parse(JSON.stringify(m.yF));
A.sC=m.sC.clone();A.DQ=JSON.parse(JSON.stringify(m.DQ));if(m.add)A.add={vmsk:m.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(m.add.vogk))};
return A}else if(G=="fxrp")return m.clone();else if(G=="vmsk")return m.clone();else return JSON.parse(JSON.stringify(m))};
function d5(G,m){}d5.dm=function(G,m,A,Q){Q=d5.aq2(G,m,A,Q);return Q};d5.MJ=function(G,m,A,Q,H){Q=d5.aaK(G,m,A,Q,H);
return Q};d5.aq2=function(G,m,A,Q){var H=Q;G.rect=V.EP(A,Q);Q+=16;var J=V.n6(A,Q);Q+=2;G.yY=[];var b=m.Bf;
for(var $=0;$<J;$++){G.yY[$]={id:V.jT(A,Q),length:(b?V.Ss:V.l)(A,Q+2)};Q+=b?10:6}var O=V.uB(A,Q,4);Q+=4;
if(O!="8BIM"){console.log("Invalid Blend mode signature: "+O);alert("Error in Photoshop file: wrong signature.");
throw"e"}G.w4=V.uB(A,Q,4);Q+=4;G.opacity=A[Q];Q+=1;G.hd=A[Q]==1;Q+=1;G.$G=A[Q];Q+=1;if(A[Q]!=0)console.log("error in filler!");
Q+=1;var a=V.l(A,Q);Q+=4;var e=Q;Q=d5.a4B(G,A,Q);Q=d5.a5r(G,A,Q);var R=V.Qn(A,Q);G.name=R.gv;Q+=R.length;
if(R.length%4!=0)Q+=4-R.length%4;Q=a1.Z9(A,Q,e+a,G.add,b,m);if(G.add.lsct){if(G.add.lsct.w4)G.w4=G.add.lsct.w4;
G.add.lsct=G.add.lsct.type}return Q};d5.aaK=function(G,m,A,Q,H){var J=Q;V.kN(A,Q,G.rect);Q+=16;var b=G.v0();
V.HM(A,Q,b.length);Q+=2;var O=m.Bf;H.push(Q);for(var $=0;$<b.length;$++){V.Ev(A,Q,b[$]);if(O)V.Wn(A,Q+2,0);
else V.io(A,Q+2,0);Q+=O?10:6}V.yN(A,Q,"8BIM");Q+=4;V.yN(A,Q,G.w4);Q+=4;V.m2(A,Q,G.opacity,1);Q+=1;V.m2(A,Q,G.hd?1:0,1);
Q+=1;V.m2(A,Q,G.$G,1);Q+=1;V.m2(A,Q,0,1);Q+=1;var a=Q;V.io(A,Q,0);Q+=4;var e=Q;Q=d5.ahb(G,A,Q);Q=d5.aek(G,A,Q);
var R=V.kv(A,Q,G.name.slice(0,255));Q+=R;if(R%4!=0)Q+=4-R%4;if(G.add.lsct){G.add.lsct={type:G.add.lsct};
if(G.w4=="pass"){G.add.lsct.w4="pass";G.w4="norm"}}if(G.w4=="pass")G.add.lsct={type:G.add.lsct,w4:"pass"};
if(G.add.brit)G.add.CgEd=G.add.brit;Q=a1.oh(A,Q,G.add,O,m);delete G.add.CgEd;if(G.add.lsct){if(G.add.lsct.w4)G.w4=G.add.lsct.w4;
G.add.lsct=G.add.lsct.type}var p=Q-e;V.io(A,a,p);return Q};d5.a4B=function(G,m,A){var Q=V.l(m,A);A+=4;
if(Q==0)return A;var H=A;G.D=new c.Mz;G.D.rect=V.EP(m,A);A+=16;G.D.color=m[A];A+=1;var J=d5.ej(G.D,m,A);
A+=1;if(J){var b=!1,O=255,a=0,e=255,R=0;for(var $=0;$<G.yY.length;$++)if(G.yY[$].id==-3)b=!0;if(b){G.Vp=d5.jL(m,A);
A+=18}var p=A,P=m[A];A++;if(P>>0&1){O=m[A];A++}if(P>>1&1){a=V.Bo(m,A);A+=8}if(P>>2&1){e=m[A];A++}if(P>>3&1){R=V.Bo(m,A);
A+=8}if((A-p&1)==1)A++;G.K4=[O,a,e,R]}else{if(Q==20)A+=2;else{G.Vp=d5.jL(m,A);A+=18}}return H+Q};d5.ahb=function(G,m,A){V.io(m,A,0);
A+=4;if(G.D==null)return A;var Q=G.fm(),H=G.add.vmsk,J=A,b=!0;V.io(m,A,0);V.kN(m,A,G.D.rect);A+=16;V.m2(m,A,G.D.color);
A+=1;d5.t0(G.D,m,A,b);A+=1;if(b){if(G.Vp){d5.a8N(m,A,G.Vp);A+=18}V.m2(m,A,15);A+=1;V.m2(m,A,Q?Q.an:255);
A+=1;V.Ca(m,A,Q?Q.JE:0);A+=8;V.m2(m,A,H?H.an:255);A+=1;V.Ca(m,A,H?H.JE:0);A+=8;A++}V.io(m,J-4,A-J);return A};
d5.jL=function(G,m){var A=new c.Mz;d5.ej(A,G,m);m+=1;A.color=G[m];m+=1;A.rect=V.EP(G,m);m+=16;return A};
d5.a8N=function(G,m,A){d5.t0(A,G,m,!1);m+=1;V.m2(G,m,A.color);m+=1;V.kN(G,m,A.rect);m+=16};d5.ej=function(G,m,A){var Q=m[A];
G.v5=(Q>>0&1)==0;G.isEnabled=(Q>>1&1)==0;G.jN=(Q>>3&1)==1;return Q>>4&1};d5.t0=function(G,m,A,Q){var H=0;
if(!G.v5)H+=1<<0;if(!G.isEnabled)H+=1<<1;if(G.jN)H+=1<<3;if(Q)H+=1<<4;V.m2(m,A,H)};d5.a5r=function(G,m,A){var Q=V.l(m,A);
A+=4;for(var $=0;$<Q;$++)G.YX[$]=m[A+$];return A+Q};d5.aek=function(G,m,A){V.io(m,A,G.YX.length);A+=4;
m.fU(A,40);for(var $=0;$<40;$++){m.data[A+$]=G.YX[$]}return A+40};function cF(){}cF.dm=function(G,m,A,Q){Q=cF.ajx(m.Bf,m.R5,m.HD,G,A,Q);
return Q};cF.sU=function(G,m,A,Q,H,J){Q=cF.a6C(G,m,A,Q,H,J);return Q};cF.ajx=function(G,m,A,Q,H,J){var b=Q.yY,O={},a=J;
for(var $=0;$<b.length;$++){var e=b[$],R=e.id,p=e.length,P;if(R==-3)P=Q.Vp.rect;else if(R==-2)P=Q.D.rect;
else P=Q.rect;var z=cF.Wb(G,m,H,P.e,P.n,J,p);J+=p;if(R==-3)Q.Vp.channel=z;else if(R==-2)Q.D.channel=z;
else O["c"+R]=z}var Z=new N.NI(0);Z.Uj=null;if(A==3){Z.p=O.c0;Z.z=O.c1;Z.h=O.c2;Z.Uj=O["c-1"]}else if(A==1){Z.p=O.c0;
Z.z=O.c0;Z.h=O.c0;Z.Uj=O["c-1"]}else if(A==4){var W=O.c0,T=O.c1,i=O.c2,X=O.c3,U=W.length,M=1/255;for(var $=0;
$<U;$++){var C=W[$],x=T[$],L=i[$],E=X[$]*M;W[$]=Math.round(C*E);T[$]=Math.round((.2*C+.8*x)*E);i[$]=Math.round((.2*x+.8*L)*E)}Z.p=W;
Z.z=T;Z.h=i;Z.Uj=O["c-1"];console.log("converting from CMYK to RGB")}if(Z.p==null)Z.p=N.$(0);if(Z.Uj==null&&Z.p!=null){Z.Uj=Z.p.slice(0);
Z.Uj.fill(255)}if(Z.z==null)Z.z=Z.p.slice(0);if(Z.h==null)Z.h=Z.p.slice(0);Q.buffer=N.$(Math.max(0,Q.rect.Z()*4));
N.Ff(Z,Q.buffer);return J};cF.a6C=function(G,m,A,Q,H,J){var b=m.v0(),O=new N.NI(m.rect.Z());N.Pu(m.buffer,O);
for(var $=0;$<b.length;$++){var a=b[$],e,R;if(a==-3)e=m.Vp.rect;else if(a==-2)e=m.D.rect;else e=m.rect;
if(a==-3)R=m.Vp.channel;if(a==-2)R=m.D.channel;if(a==-1)R=O.Uj;if(a==0)R=O.p;if(a==1)R=O.z;if(a==2)R=O.h;
A.fU(Q,e.Z()*3+4);var p=Q;Q=cF.Pl(G,R,A.data,e.e,e.n,Q,J[1]?3:1);var P=Q-p;if(G)V.u6(A.data,H+$*10+2,P);
else V.na(A.data,H+$*6+2,P)}return Q};cF.Wb=function(G,m,A,Q,H,J,b){var O=V.n6(A,J);J+=2;return cF.Wh(G,m,A,Q,H,J,O,b-2)};
cF.Pl=function(G,m,A,Q,H,J,b){V.Mo(A,J,b);J+=2;J=cF.eo(G,m,A,Q,H,J,b);return J};cF.Wh=function(G,m,A,Q,H,J,b,O){var a,e=Q*H*(m>>>3),R=e&3,p=e+(R==0?0:4-R);
if(O<=0){return N.$(p)}if(b>3){console.log("unknown compression: "+b,Q,H,Q*H,O);b=0}if(b==0){if(J+p<=A.length)a=A.slice(J,J+p);
else{a=N.$(e);for(var $=0;$<e;$++)a[$]=A[J+$]}J+=e}else if(b==1){a=N.$(e);var P=G?4:2,z=cF.Au(A,a,Q,H,J,J+P*H,P);
J+=P*H+z}else if(b==2||b==3){var Z=new Uint8Array(A.buffer,J+2,O-6),W=pako.inflateRaw(Z);if(b==3){if(m==8)for(var T=0;
T<H;T++){var i=T*Q+1,X=i+Q-1,U=W[i-1];for(var M=i;M<X;M++){U+=W[M];W[M]=U&255}}else for(var T=0;T<H;
T++){var i=T*Q+1,X=i+Q-1,U=W[2*i-2]<<8|W[2*i-1];for(var M=i;M<X;M++){var C=M<<1;U+=W[C]<<8|W[C+1];W[C]=U>>>8;
W[C+1]=U&255}}}if(W.length==p)a=W;else{a=N.$(p);for(var $=0;$<W.length;$++)a[$]=W[$]}}if(m==16){var x=N.$(Q*H);
for(var $=0;$<e;$+=2)x[$>>>1]=a[$];a=x}return a};cF.eo=function(G,m,A,Q,H,J,b){var O=Q*H;if(b==0)for(var $=0;
$<O;$++)A[J++]=m[$];else if(b==1){var a=G?4:2,e=cF.oK(m,A,Q,H,J,J+a*H,a);J+=a*H+e}else if(b==2||b==3){if(b==3){var R=new Uint8Array(m.length);
for(var p=0;p<H;p++){var P=p*Q+1,z=P+Q-1,Z=m[P-1];R[P-1]=Z;for(var W=P;W<z;W++){R[W]=m[W]+(256-Z)&255;
Z=m[W]}}m=R}A[J]=120;A[J+1]=156;J+=2;var T=pako.deflateRaw(m,{apb:4});V.UB(A,J,T);J+=T.length+4}else console.log("Unknown compression: "+b);
return J};cF.Au=function(G,m,A,Q,H,J,b){if(!(G instanceof Uint8Array)||!(m instanceof Uint8Array))throw"e";
var O=J,a=Q|0;if(b==2)for(var $=0;$<a;$++){var e=V.n6(G,H+($<<1));cF.w3(G,J,e,m,$*A,A);J+=e}else for(var $=0;
$<a;$++){var e=V.l(G,H+($<<2));cF.w3(G,J,e,m,$*A,A);J+=e}return J-O};cF.oK=function(G,m,A,Q,H,J,b){var O=J;
if(b==2)for(var $=0;$<Q;$++){var a=cF.mu(G,$*A,A,m,J);V.hv(m,H+$*2,a);J+=a}else for(var $=0;$<Q;$++){var a=cF.mu(G,$*A,A,m,J);
V.na(m,H+$*4,a);J+=a}return J-O};cF.mu=function(G,m,jw,A,Q){var H,J,b,O,a,gD,e;O=m+jw;for(b=m,J=Q;jw>0;
b=H,jw-=gD){e=jw<128?jw:128;if(b<=O-3&&G[b+1]==G[b+0]&&G[b+2]==G[b+0]){for(H=b+3;H<b+e&&G[H]==G[b+0];
)++H;gD=H-b;A[J++]=1+256-gD;A[J++]=G[b+0]}else{for(H=b;H<b+e;)if(H<=O-3&&G[H+1]==G[H+0]&&G[H+2]==G[H+0])break;
else++H;gD=H-b;A[J++]=gD-1;for(var $=0;$<gD;$++)A[J+$]=G[b+$];J+=gD}}return J-Q};cF.w3=function(G,m,A,Q,H,J){for(var b=0;
b<A;){var jw=G[m++];if(jw>=128){var O=G[m++],a=H+(257-jw);Q.fill(O,H,a);H=a;b+=2}else{for(var $=0;$<=jw;
$++)Q[H+$]=G[m+$];m+=jw+1;H+=jw+1;b+=1+1+jw}}};function bE(){}bE.Et=function(G,m,A){return;var Q="",H=m;
while(H!=0){var J=H%1e3+"";while(J.length<3)J="0"+J;Q=(Q==""?J:J+" ")+Q;H=Math.floor(H/1e3)}while(Q.startsWith("0")&&Q!="0")Q=Q.slice(1);
while(Q.length<11)Q=" "+Q;console.log("===",Q,"\t".repeat(G),": "+A)};bE.dm=function(G,m){m.Bf=!1;m.R5=8;
var A=new Uint8Array(G),Q=0,H=0,B,aY=!1,fj=!0,jg=!1,ae=0,bZ=0;H=bE.Mc(m,A,Q);bE.Et(0,H-Q,"PSD Header");
Q=H;H=bE.afg(m,A,Q);bE.Et(0,H-Q,"Color Mode Data");Q=H;H=bE.aqM(m,A,Q);bE.Et(0,H-Q,"Image Resources");
Q=H;H=bE.amf(m,A,Q);bE.Et(0,H-Q,"Layer And Mask Info");Q=H;H=bE.aee(m,A,Q);bE.Et(0,H-Q,"Merged Image");
Q=H;if(m.g.length==0){var J=m.uA();J.mw("Background");m.g.push(J);J.buffer=m.buffer.slice(0);J.rect=new f_(0,0,m.e,m.n)}if(m.iM.r1005){m.SV=V.ap1(m.iM.r1005,0)}if(m.iM.r1026){var A=m.iM.r1026;
for(var $=0;$<A.length;$+=2){var H=m.g[$>>>1];if(H)H.yU=V.n6(A,$)}}if(m.iM.r1072){var A=m.iM.r1072;for(var $=0;
$<A.length;$++){var H=m.g[$];if(H)H.zf=A[$]==1}}if(m.iM.r1032){var A=m.iM.r1032,b=V.l(A,12);for(var $=0;
$<b;$++){var O=A[16+$*5+4],a=V.Ys(A,16+$*5)/32;m.Ld.push([O,a])}}delete m.iM.r1036;delete m.iM.r1039;
if(m.iM.r1050){var e=V.l,R=m.iM.r1050,p=V.l(R,0);if(p==6){var P=4,z=V.EP(R,P);P+=16;var Z=V.A8(R,P);
P+=4+Z.length*2;var W=e(R,P);P+=4;var T=m.Xz;for(var $=0;$<W;$++){var i=f.q3.Qy(),U;T.push(i);i=i.v;
i.sliceID.v=e(R,P);P+=4;i.groupID.v=e(R,P);P+=4;var X=e(R,P);P+=4;if(X==1){U=e(R,P);P+=4}var Z=V.A8(R,P);
P+=4+Z.length*2;var M=e(R,P);P+=4;var C=[e(R,P),e(R,P+4),e(R,P+8),e(R,P+12)];P+=16;f.q3.lZ(T,T.length-1,C);
var x=i.url.v=V.A8(R,P);P+=4+x.length*2;var L=i.null.v=V.A8(R,P);P+=4+L.length*2;var E=i.Msge.v=V.A8(R,P);
P+=4+E.length*2;var l=i.altTag.v=V.A8(R,P);P+=4+l.length*2;i.cellTextIsHTML.v=R[P]==1;P++;var y=i.cellText.v=V.A8(R,P);
P+=4+y.length*2;var Y=e(R,P);P+=4;var F=e(R,P);P+=4;var w=R.slice(P,P+4);P+=4;if(X!=2)T.pop()}}else if(p==8){var j={};
fB.e3(R,j,8,!1);var R=m.Xz=j.slices.v;for(var $=0;$<R.length;$++){if(R[$].v.origin.v.ESliceOrigin!="userGenerated"){R.splice($,1);
$--}}}}if(m.iM.r1058){var _=m.iM.r1058,D=UTIF.decode(_.buffer,{parseMN:!1,debug:!1});fg.KG(D[0],m.ey);
delete m.iM.r1058}if(m.iM.r1060){var t=V.Io(m.iM.r1060);fg.ag$(t,m.ey);delete m.iM.r1060}if(m.iM.r1065){var A=m.iM.r1065;
m.Ve={};fB.e3(A,m.Ve,4,!1)}if(m.iM.r1069){var A=m.iM.r1069,K=[];for(var $=2;$<A.length;$+=4){var U=V.l(A,$);
for(var d=0;d<m.g.length;d++){var H=m.g[d];if(H.add.lyid==U&&H.add.lsct!=3)K.push(d)}}m.c=K}if(m.iM.r1025){var o=m.iM.r1025;
delete m.iM.r1025;var k=g7.U7(o,0,o.length,m.e,m.n),v=new c.Rl;v.Y=k;m.Sq[0]=fy.y0("Working Path",{vmsk:v})}var u=m.add.pths;
delete m.add.pths;var S=m.iM.r3000;if(S){B={};fB.e3(S,B,4,!1);delete m.iM.r3000}for(var I=0;I<=997;I++){var q="r"+(2e3+I),o=m.iM[q];
if(o==null)break;var k=g7.U7(o,0,o.length,m.e,m.n),hw=u?u.pathList.v[I].v.pathUnicodeName.v:"Path "+I,fY=B?B.keyRootDescriptorList.v[I].v.keyDescriptorList.v:c.ON(k),v=new c.Rl;
v.Y=k;m.Sq[I+1]=fy.y0(hw,{vmsk:v,vogk:fY});delete m.iM[q]}delete m.Bf;var s=new f_(0,0,m.e,m.n),hZ=m.add.Txt2,bG=hZ;
if(bG){bG=bG.k2;if(bG._DocumentResources==null)bG=d2.aiq(bG)}for(var $=0;$<m.g.length;$++){var H=m.g[$],iB=H.add.lsct,eg=H.add.vmsk,dM=H.fm();
if(iB==fM.SB){ae++;H.add.lspf=0}else if(iB==fM.UK||iB==fM.mJ)ae--;if(H.name==""){H.name="Layer "+($+1);
jg=!0}if(jg&&H.r8()&&H.w4=="norm")H.w4="pass";if(H.Ct()&&H.mv(m).D){var fK=H.mv(m);fK.D.isEnabled=H.add.SoLd.filterFX.v.filterMaskEnable.v}if(eg&&H.gX()){var aQ=hK.nh.default;
if(H.add.vstk==null)H.add.vstk=JSON.parse(JSON.stringify(aQ));else{var cQ="strokeStyleLineDashSet";if(H.add.vstk[cQ]==null)H.add.vstk[cQ]=JSON.parse(JSON.stringify(aQ[cQ]))}H.add.vstk.strokeStyleResolution.v=m.SV}if(eg&&(H.add.vogk==null||N.U.Ya(eg.Y)!=H.add.vogk.length))H.ON();
if(H.add.SoLd&&H.rect.My()){console.log("redrawing smart instance");H.wH(m)}if(dM==null&&H.D!=null){if(H.D.jN==!1){H.D.jN=!0;
H.Vp=H.D.clone()}}dM=H.fm();if(H.K4){var aQ=H.K4,v=eg;if(dM){dM.an=aQ[0];dM.JE=aQ[1]}if(v){v.an=aQ[2];
v.JE=aQ[3]}H.K4=null}if(dM!=null&&eg!=null&&(dM.JE+eg.JE!=0||dM.an+eg.an!=2*255))H.hM(m);else if(eg!=null&&!H.gX())H.hM();
var a7=H.add.artb;if(a7&&a7.artboardBackgroundType==null)a7.artboardBackgroundType={t:"long",v:1};if(a7&&ae!=0)delete H.add.artb;
var gz=H.add.vstk;if(H.gX()&&(H.rect.My()||eg&&eg.JE!=0||gz&&!gz.fillEnabled.v&&(!gz.strokeEnabled.v||gz.strokeStyleLineWidth.v.val==0)))H.Y7(m);
if(H.add.TySh){aY=!0;if(!H.rect.My())fj=!1}if(H.add.TySh&&bG){var bQ=H.add.TySh.kS.TextIndex.v;if(bQ==-1)continue;
var d4=H.add.TySh.DQ,j2=fC.sr(d4),j7=bG._DocumentObjects._TextObjects;if(j7.length<=bQ){console.log("Txt2 incomplete");
continue}var fG=j7[bQ]._Model,bT=fG._StyleRun?fG._StyleRun._RunArray:[],je=d4.EngineDict.StyleRun.RunArray;
for(var ba=0;ba<je.length;ba++){var j6=je[ba].StyleSheet.StyleSheetData;if(bT[ba]==null)continue;var cl=bT[ba]._RunData._StyleSheet._Features;
if(cl&&cl._BaselineDirection)j6.BaselineDirection=parseInt(cl._BaselineDirection.slice(1));if(cl&&cl._FillBackgroundFlag)j6._FillBackgroundFlag=cl._FillBackgroundFlag;
if(cl&&cl._FillBackgroundColor){var js=cl._FillBackgroundColor,fR=js._Color._Values.slice(0);for(var d=0;
d<4;d++)fR[d]=parseFloat(fR[d].slice(1));j6._FillBackgroundColor={Type:1,Values:fR}}if(cl&&cl._LineWidth)j6._LineWidth=parseFloat(cl._LineWidth.slice(1))}var iW=d4.EngineDict.ParagraphRun.RunArray,fx=fG._ParagraphRun._RunArray;
if(fx==null)fx=[];var dm=Math.min(fx.length,iW.length);for(var d=0;d<dm;d++){var fq=iW[d].ParagraphSheet.Properties,h2=bG._DocumentResources._ParagraphSheetSet._Resources,jj=fx[d]._RunData._ParagraphSheet;
if(typeof jj=="string")jj=h2[parseInt(jj.slice(1))]._Resource;var iM=jj._Parent==null?jj:h2[parseInt(jj._Parent.slice(1))]._Resource;
jj=jj._Features;iM=iM._Features;var aC=jj._ParagraphDirection;if(aC==null)aC=iM._ParagraphDirection;
if(aC)fq._Direction=parseInt(aC.slice(1));if(jj._ComposerEngine)fq._ComposerEngine=parseInt(jj._ComposerEngine.slice(1))}if(fG._AlternateGlyphRun){var fx=fG._AlternateGlyphRun._RunArray,dm=fx.length,aB=d4.EngineDict.AlternateGlyphRun=fC.a5y();
for(var d=0;d<dm;d++){var jj=fx[d],ep={},h6=jj._RunData._AlternateGlyphSheet;if(h6)ep.Glyph=parseInt(h6._Glyph.slice(1));
aB.RunArray.push(ep);aB.RunLengthArray.push(parseInt(jj._Length.slice(1)))}}var dJ=bG._DocumentResources,gs=dJ._TextFrameSet._Resources,ej=gs[bQ]._Resource,eH=ej._Data,hT=new ci(1,0,0,1,0,0);
if(ej._0){var dO=parseFloat(ej._0[0].slice(1)),fE=parseFloat(ej._0[1].slice(1));hT.translate(dO,fE)}if(j2){hT.translate(j2[0],j2[1]);
fC.vL(d4,[0,0,j2[2]-j2[0],j2[3]-j2[1]])}else{if(ej._Bezier&&ej._Bezier._Points){var k=ej._Bezier._Points,dO=parseFloat(k[0].slice(1)),fE=parseFloat(k[1].slice(1));
if(dO!=0||fE!=0){hT.translate(dO,fE)}}}if(ej._Data&&ej._Data._FrameMatrix){var hD=ej._Data._FrameMatrix;
hD=hD.map(function(eE){return parseFloat(eE.slice(1))});hT.concat(new ci(hD[0],hD[1],hD[2],hD[3],hD[4],hD[5]))}hT.concat(H.add.TySh.A);
H.add.TySh.A=hT;var M=eH._Type?parseInt(eH._Type.slice(1)):0;if(M==2||M==1&&eH._PathData&&eH._PathData._Spacing=="i-3"){var d9=function(eE){return parseFloat(eE.slice(1))},k=ej._Bezier._Points.map(d9);
if(j2)N.H.A(k,new ci(1,0,0,1,-j2[0],-j2[1]),k);var iQ=eH._PathData?eH._PathData._Reversed:!1;d4.Curve={Points:k,TextOnPathTRange:eH._TextOnPathTRange.map(d9),Reversed:iQ==null?!1:iQ};
H.add.TySh.add={vmsk:new c.Rl,vogk:null};fC.QJ(H.add.TySh)}if(eH._LineOrientation=="i2")d4._LineOrientation=2}}f.Ac.qf(m,!0);
var iS={},dy=[];for(var $=0;$<m.g.length;$++){var jh=m.g[$].add.lyid;if(jh==null)continue;var bZ=Math.max(bZ,jh);
if(iS[jh]!=null)dy.push($);else iS[jh]=!0}for(var $=0;$<dy.length;$++)m.g[dy[$]].add.lyid=bZ+1+$};bE.MJ=function(G,m,A){f.Ac.Tr(G);
f.Ac.qf(G,!1);G.Bf=A[3]==!0;var Q=[],H=[],Z=0,T=1,L=16,I=0;for(var $=0;$<G.g.length;$++){var J=G.g[$];
if(J.Ct()&&J.mv(G).D){J.add.SoLd.filterFX.v.filterMaskEnable.v=J.mv(G).D.isEnabled}if(J.add.TySh){var b=J.add.TySh.DQ,O=fC.Sv(b);
J.add.TySh.kS.TextIndex={t:"long",v:Q.length};Q.push(b);if(O==2)fC._e(J.add.TySh)}var a=J.add.vstk;if(a)a.strokeStyleResolution.v=G.SV;
if(J.gX()||A[2]&&J.add.SoLd){H[$]=[J.rect,J.buffer];J.rect=new f_;J.buffer=N.$(0);if(J.add.SoLd){var e=J.mv(G);
if(e!=null){H[$].push(e.buffer);e.buffer=N.$(e.buffer.length)}}}}if(Q.length>0){var R=G.add.Txt2?G.add.Txt2.k2:null;
if(G.add.Txt2==null)G.add.Txt2={};G.add.Txt2.k2=dp.amI(Q,null,R)}var p=[G.add.lnk2,G.add.FEid,G.add.Patt],P=G.ab8(G.g);
G.aom(P);G.iM.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);V.zD(G.iM.r1005,0,G.SV);V.zD(G.iM.r1005,8,G.SV);
if(G.It()){G.iM.r1022=new Uint8Array([0,3+G.Hv.length-1,0])}else delete G.iM.r1022;var z=new Uint8Array(G.g.length*2),W=new Uint8Array(G.g.length);
for(var $=0;$<G.g.length;$++){var J=G.g[$],X=J.yU,U=J.zf?1:0;V.hv(z,$*2,X);W[$]=U;if(X>Z)Z=X;if(U==0)T=0}if(Z>0)G.iM.r1026=z;
if(T<1)G.iM.r1072=W;var M=G.Ld,C=M.length,x=G.iM.r1032=N.$(16+5*C,!0);V.na(x,0,1);V.na(x,4,576);V.na(x,8,576);
V.na(x,12,C);for(var $=0;$<C;$++){V.Lt(x,L,Math.round(M[$][1]*32));x[L+4]=M[$][0];L+=5}var E=N.VG(G.buffer),l=[];
if(E)l.push({name:"Transparency",zG:{p:255,z:0,h:0},_A:100,O7:1});l=l.concat(G.Hv);delete G.iM.r1045;
delete G.iM.r1006;delete G.iM.r1077;var y=new iy;L=0;var Y=new Uint8Array(4+l.length*13);Y[3]=1;for(var $=0;
$<l.length;$++){var F=l[$],w=F.name+"\0";V.s0(y,L,w);L+=4+w.length*2;var j=4+$*13;eb.aU(Y,j,F.zG);Y[j+11]=F._A;
Y[j+12]=F.O7}G.iM.r1045=y.data.slice(0,L);G.iM.r1077=Y;for(var $=0;$<G.Xz.length;$++)G.Xz[G.Xz.length-$-1].v.sliceID.v=2+$*3;
var _={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:G.Xz}},y=new iy;
V.io(y,0,8);V.io(y,4,16);var D=fB.NO(y,_,8);G.iM.r1050=y.data.slice(0,D+8);var y=new iy;V.io(y,0,16);
var D=fB.NO(y,G.Ve,4);G.iM.r1065=y.data.slice(0,D+4);var t=G.c;x=G.iM.r1069=N.$(2+t.length*4,!0);V.hv(x,0,t.length);
for(var $=0;$<t.length;$++)V.na(x,2+4*$,G.g[t[$]].add.lyid);delete G.iM.r1058;delete G.iM.r1060;if(Object.keys(G.ey).length!=0){var K=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
fg.zw(G.ey,K[0],A[0]&&A[1]);G.iM.r1058=new Uint8Array(UTIF.encode(K));var d=fg.a2$(G.ey);G.iM.r1060=V.Dn(d)}var o=[],k=[];
for(var $=0;$<G.Sq.length;$++){var v=G.Sq[$],u=v.add.vmsk.Y;if($==0&&u.length==2)continue;var B=N.$(u.length*26);
g7.ug(B,0,u,G.e,G.n);var S=$==0?1025:2e3+$-1;G.iM["r"+S]=B;if($!=0){o.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:v.name}}});
k.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:v.add.vogk}}})}}if(o.length!=0){G.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:o}};
k={classID:"null",keyRootDescriptorList:{t:"VlLs",v:k}};var y=new iy;V.io(y,0,16);var D=fB.NO(y,k,4);
G.iM.r3000=y.data.slice(0,D+4)}else{delete G.add.pths;delete G.iM.r3000}I=bE.akJ(G,m,I,3+l.length);I=bE.akp(G,m,I);
I=bE.aqN(G,m,I);I=bE.ahD(G,m,I,A,E);I=bE.a0e(G,m,I,A[0],E);var q=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var $=0;$<q.length;$++)delete G.iM["r"+q[$]];for(var $=0;$<G.g.length;$++){var J=G.g[$];if(J.gX()||A[2]&&J.add.SoLd){J.rect=H[$][0];
J.buffer=H[$][1];if(H[$][2]){var e=J.mv(G);H[$].push(e.buffer);e.buffer=H[$][2]}}}G.aom(p);f.Ac.qf(G,!0);
delete G.Bf;return I};bE.Mc=function(G,m,A){var Q=V.uB(m,A,4);A+=4;if(Q!="8BPS")alert("invalid header signature: "+Q);
var H=V.n6(m,A);A+=2;G.Bf=H==2;if(H!=1&&H!=2)alert("invalid version: "+H);A+=6;G.qe=V.n6(m,A);A+=2;G.n=V.Ys(m,A);
A+=4;G.e=V.Ys(m,A);A+=4;G.R5=V.n6(m,A);A+=2;G.HD=V.n6(m,A);A+=2;return A};bE.akJ=function(G,m,A,Q){m.fU(0,64);
V.aw(m.data,A,"8BPS");A+=4;V.hv(m.data,A,G.Bf?2:1);A+=2;V.na(m.data,A,0);A+=4;V.hv(m.data,A,0);A+=2;
V.hv(m.data,A,Q);A+=2;V.Lt(m.data,A,G.n);A+=4;V.Lt(m.data,A,G.e);A+=4;V.hv(m.data,A,8);A+=2;V.hv(m.data,A,3);
A+=2;return A};bE.afg=function(G,m,A){var Q=V.Ys(m,A);A+=4;if(Q!=0)G.Jt=m.slice(A,A+Q);A+=Q;return A};
bE.akp=function(G,m,A){V.Q6(m,A,0);A+=4;return A};bE.aqM=function(G,m,A){var Q=V.l(m,A),H=0;A+=4;var J=[];
while(H<Q){var b=V.uB(m,A+H,4);H+=4;var O=V.n6(m,A+H);H+=2;var a=V.Qn(m,A+H);H+=a.length;if(b!="8BIM"){J.push(O);
console.log("Unknown Image Resources signature: "+b+", ID: "+O)}var e=V.l(m,A+H);H+=4;if(G.iM["r"+O]!=null)console.log("--- two resources with same ID");
G.iM["r"+O]=V.mF(m,A+H,e);H+=e+(e&1)}for(var $=0;$<J.length;$++)delete G.iM["r"+J[$]];return A+Q};bE.aqN=function(G,m,A){var Q=A,b=0;
A+=4;var H=[];for(var J in G.iM){H.push(parseInt(J.slice(1)))}H.sort(function(p,P){return p-P});for(var $=0;
$<H.length;$++){V.yN(m,A+b,"8BIM");b+=4;var O=H[$];V.HM(m,A+b,O);b+=2;var a=V.kv(m,A+b,"");b+=a;var e=G.iM["r"+O],R=e.length;
V.io(m,A+b,R);b+=4;V.NQ(m,A+b,e);b+=R;if(R%2==1)b++}V.io(m,Q,b);return A+b};bE.amf=function(G,m,A){var Q=A,H,J,b=G.Bf?8:4;
if(G.Bf)H=V.Ss(m,A);else H=V.l(m,A);A+=b;if(H==0)return Q+b;J=bE.afP(G,m,A);bE.Et(1,J-A,"Layer Info");
A=J;J=bE.a5X(G,m,A);bE.Et(1,J-A,"Global Layer Mask Info");A=J;J=a1.Z9(m,A,Q+b+H,G.add,G.Bf,G);bE.Et(1,J-A,"Project Add Info");
A=J;return Q+b+H};bE.ahD=function(G,m,A,Q,H){var J=A;V.io(m,A,0);A+=4;if(G.Bf){V.io(m,A,0);A+=4}A=bE.afF(G,m,A,Q,H);
A=bE.ao8(G,m,A);A=a1.oh(m,A,G.add,G.Bf,G);if(G.Bf)V.Wn(m,J,A-J-8);else V.io(m,J,A-J-4);return A};bE.afP=function(G,m,A){var Q,H=G.Bf?8:4;
if(G.Bf)Q=V.Ss(m,A);else Q=V.l(m,A);A+=H;if(Q!=0)bE.F0(G,m,A);return A+Q};bE.F0=function(G,m,A){var Q=V.jT(m,A);
A+=2;var H=Math.abs(Q);for(var $=0;$<H;$++){var J=new c;A=d5.dm(J,G,m,A);G.g[$]=J}var b=new f_(0,0,G.e,G.n);
for(var $=0;$<H;$++){var O=G.g[$],a=O.fm(),e=cF.dm(O,G,m,A);if(e-A>8)bE.Et(2,e-A,"Lay: "+O.getName());
A=e;bE.mr(O,b);if(a)bE.mr(a,b)}};bE.mr=function(G,m){var A=G.rect.Z(),Q=G.rect.KB(m),H=Q.Z()/A;if(A>2e3*3e3&&H<.5){if(G.buffer){var J=N.$(Q.Z()*4);
N.Pr(G.buffer,G.rect,J,Q);G.buffer=J;G.rect=Q}else{var J=N.$(Q.Z());N.qg(G.channel,G.rect,J,Q);G.channel=J;
G.rect=Q}alert("Removing hidden parts of layers")}};bE.afF=function(G,m,A,Q,H){var J=A,b=G.Bf;A+=b?8:4;
A=bE.ps(G,m,A,Q,H);var O=A-J-(b?8:4);if(O%2!=0)O++;if(b)V.Wn(m,J,O);else V.io(m,J,O);return J+O+(b?8:4)};
bE.ps=function(G,m,A,Q,H){var J=G.g.length;V.Ev(m,A,H?-J:J);A+=2;var b=[];for(var $=0;$<J;$++)A=d5.MJ(G.g[$],G,m,A,b);
for(var $=0;$<J;$++)A=cF.sU(G.Bf,G.g[$],m,A,b[$],Q);return A};bE.a5X=function(G,m,A){var Q=V.l(m,A);
A+=4;A+=Q;return A};bE.ao8=function(G,m,A){var Q=V.io(m,A,0);A+=4;return A};bE.aee=function(G,m,A){var Q=G.HD,H="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),J=[1,1,1,3,4,1,1,3],b,W;
if(Q!=3){if(Q==1||Q==2||Q==4)alert("Project will be converted from "+H[Q]+" to "+H[3]+" mode.");else{alert("Color mode "+H[Q]+" is not supported yet :(")}}if(G.iM.r1045){b=[];
var O=G.iM.r1045,a=0;while(a<O.length){var e=V.ep(O,a);b.push(e);a+=4+2+e.length*2}}var R=J[Q]+(b==null||b[0]=="Transparency"?1:0),p=G.e,P=G.n,z=p*P,Z=V.n6(m,A);
A+=2;G.buffer=N.$(z*4);N.w8(G.buffer,4278190080);var T=A;for(var i=0;i<G.qe;i++){if(Z==0){W=cF.Wh(G.Bf,G.R5,m,p,P,A,Z);
A+=z*(G.R5>>>3)}else if(Z==1){W=N.$(z);var X=G.Bf?4:2;if(i==0)A+=G.qe*P*X;A+=cF.Au(m,W,p,P,T+i*P*X,A,X)}else{console.log("unknown compression of image data: ",Z);
return}if(i<R){N.I5(W,G.buffer,i);if(G.qe==1&&i==0){N.I5(W,G.buffer,1);N.I5(W,G.buffer,2)}}else{var U=new c.Mz,M=i-R,C=i-J[G.HD];
U.name=b?b[C]:"Alpha";if(U.name=="Quick Mask"){U.wV=!0;G.UX.push(M)}U.rect=new f_(0,0,p,P);U.channel=W;
U.color=0;U.LA();G.Hv[M]=U;if(G.iM.r1077){var O=G.iM.r1077.slice(4+C*13);U.zG=eb.FI(O,0);U._A=O[11];
U.O7=O[12];if(U.O7==2)U.wV=!0}}}G.qe=4;if(G.HD==2)for(var $=0;$<z;$++){var x=$*4,L=G.buffer[x];G.buffer[x]=G.Jt[0+L];
G.buffer[x+1]=G.Jt[256+L];G.buffer[x+2]=G.Jt[512+L]}return A};bE.a0e=function(G,m,A,Q,H){var J=1,b=16,O=G.e,a=G.n,R,p;
V.HM(m,A,J);A+=2;var e=O*a;if(!Q){p=new N.NI(O*a);N.Pu(G.buffer,p);var P=p.p,z=p.z,Z=p.h,W=p.Uj;for(var $=0;
$<e;$++){var T=W[$]*(1/255);P[$]=~~(P[$]*T+255*(1-T));z[$]=~~(z[$]*T+255*(1-T));Z[$]=~~(Z[$]*T+255*(1-T))}}else R=N.$(e);
var i=[R,R,R];if(!Q)i=[p.p,p.z,p.h];if(H)i.push(Q?R:p.Uj);for(var $=0;$<G.Hv.length;$++){i.push(G.Hv[$].MC(new f_(0,0,G.e,G.n)))}var X=A;
for(var U=0;U<i.length;U++){m.fU(A,O*a+4);R=i[U];if(J==0||J==2||J==3)A=cF.eo(G.Bf,R,m.data,O,a,A,J);
else{var M=G.Bf?4:2;if(U==0)A+=i.length*a*M;var C=A;A+=cF.oK(R,m.data,O,a,X+U*a*M,A,M)}}return A};function cz(){}cz.dm=function(G){var m={};
cz.y$(G,m,0,0);return m};cz.MJ=function(G,m){var A=0;A=cz.gc(G,m,A,0);return A};cz.y$=function(G,m,A,Q){while(G[A]!="<".charCodeAt(0))A++;
A+=2;while(!0){if(G[A]=="/".charCodeAt(0)){A++;var H=V.indexOf(G," ".charCodeAt(0),A,A+50),J=V.indexOf(G,"\n".charCodeAt(0),A,A+50);
if(J==-1)J=Infinity;if(H==-1)H=Infinity;var b=Math.min(J,H),O=V.uB(G,A,b-A),a=cz.c4(G,b+1,Q+1,O);m[O]=a.k;
A=b+1;A+=a.size}else if(G[A]==">".charCodeAt(0)){A+=2;break}else{var e=G[A];if(e==10||e==9||e==32)A++;
else{console.log("unknown byte: "+e+", char: "+String.fromCharCode(e),A);A++}}}return A};cz.gc=function(G,m,A,Q){V.yN(m,A,"<<\n");
A+=3;var H=cz.auP;for(var J in G){V.m2(m,A,"\t".charCodeAt(0),Q+1);A+=Q+1;V.yN(m,A,"/"+J);A+=1+J.length;
if(H(G[J])||G[J]instanceof Array){V.yN(m,A," ");A++}else{V.yN(m,A,"\n");A++;V.m2(m,A,"\t".charCodeAt(0),Q+1);
A+=Q+1}A=cz.wR(G[J],m,A,Q+1);V.yN(m,A,"\n");A++}V.m2(m,A,"\t".charCodeAt(0),Q);A+=Q;V.yN(m,A,">>");A+=2;
return A};cz.c4=function(G,m,A,Q){var H=m,J={size:0,k:0};while(!0){while(G[m]==" ".charCodeAt(0)||G[m]=="\t".charCodeAt(0)||G[m]=="\n".charCodeAt(0))m++;
if(G[m]=="<".charCodeAt(0)){J.k={};m=cz.y$(G,J.k,m,A+1);break}else if(G[m]=="(".charCodeAt(0)){m+=3;
var b=m;while(!0){if(G[b-1]!="\\".charCodeAt(0)&&G[b]==")".charCodeAt(0)&&(G[b+1]=="\n".charCodeAt(0)||G[b+1]==" ".charCodeAt(0)))break;
else b++}J.k=V.DW(G,m,b);m=b+2;break}else if(G[m]=="[".charCodeAt(0)){m++;J.k=[];while(G[m]==" ".charCodeAt(0)||G[m]=="\t".charCodeAt(0)||G[m]=="\n".charCodeAt(0))m++;
while(G[m]!="]".charCodeAt(0)){var O=cz.c4(G,m,A+1,Q);J.k.push(O.k);m+=O.size;while(G[m]==" ".charCodeAt(0)||G[m]=="\t".charCodeAt(0)||G[m]=="\n".charCodeAt(0))m++}m++;
break}else{var a=V.indexOf(G," ".charCodeAt(0),m,m+50),e=V.indexOf(G,"\n".charCodeAt(0),m,m+50);if(e==-1)e=Infinity;
if(a==-1)a=Infinity;var R=V.uB(G,m,Math.min(a,e)-m).trim(),p=parseFloat(R);if(!isNaN(p)){J.k=parseFloat(R);
m=Math.min(a,e)+1;break}else if(R=="true"||R=="false"){J.k=R=="true";m=Math.min(a,e)+1;break}else if(R=="null"||R=="NaN"||R=="undefined"){J.k=0;
m=Math.min(a,e)+1;break}else{console.log("unknown identifier: "+R);throw"e"}m=Math.min(a,e)+1}}J.size=m-H;
return J};cz.wR=function(G,m,A,Q){if(G instanceof Array){var H=G.length==0||typeof G[0]=="number";if(H){V.yN(m,A,"[ ");
A+=2;for(var $=0;$<G.length;$++){var J=G[$]+" ";V.yN(m,A,J);A+=J.length}V.yN(m,A,"]");A+=1}else{V.yN(m,A,"[\n");
A+=2;for(var $=0;$<G.length;$++){V.m2(m,A,"\t".charCodeAt(0),Q);A+=Q;A=cz.wR(G[$],m,A,Q);V.yN(m,A,"\n");
A++}V.m2(m,A,"\t".charCodeAt(0),Q);A+=Q;V.yN(m,A,"]");A+=1}}else if(G instanceof Object){A=cz.gc(G,m,A,Q)}else if(typeof G=="string"){V.yN(m,A,"(");
A++;V.m2(m,A,254);A++;V.m2(m,A,255);A++;A=V.cK(m,A,G);V.yN(m,A,")");A+=1}else{var J=G+"";V.yN(m,A,J);
A+=J.length}return A};cz.auP=function(G){var m=typeof G;return m=="string"||m=="number"||m=="boolean"};
function aR(){}aR.dm=function(G){var m={};aR.km(G,m,0,0);return m};aR.MJ=function(G,m){var A=0;V.yN(m,A," ");
A++;A=aR.aN(G,m,A,0);A--;m.fU(A,2);m.data[A]=m.data[A+1]=0;A+=2;return A};aR.y$=function(G,m,A,Q){while(G[A]!="<".charCodeAt(0)){A++;
console.log("\u0161ipka")}A+=2;A=aR.km(G,m,A,Q);return A};aR.gc=function(G,m,A,Q){V.yN(m,A,"<< ");A+=3;
A=aR.aN(G,m,A,Q);V.yN(m,A,">>");A+=2;return A};aR.st=function(G){return G==9||G==10||G==32};aR.km=function(G,m,A,Q){while(!0){while(aR.st(G[A])||G[A]==0)A++;
if(A>=G.length)break;if(G[A]=="/".charCodeAt(0)){A++;var H=A;while(!aR.st(G[H]))H++;var J=V.uB(G,A,H-A);
A=H+1;var b=aR.c4(G,A,Q,J);m["_"+J]=b.k;A+=b.size}else if(G[A]==">".charCodeAt(0)){A+=2;break}else{var O=G[A];
console.log(V.uB(G,A,A+100));console.log("unknown byte: "+O+", char: "+String.fromCharCode(O)+", offset: "+A);
A++;throw"e";return-1}}return A};aR.aN=function(G,m,A,Q){for(var H in G){var J=H.substring(1,H.length);
V.yN(m,A,"/"+J);A+=1+J.length;V.yN(m,A," ");A++;A=aR.wR(G[H],m,A,Q+1);V.yN(m,A," ");A++}return A};aR.c4=function(G,m,A,Q){var H=m,J={type:"",size:0,k:0};
while(aR.st(G[m]))m++;if(G[m]=="<".charCodeAt(0)){J.type="Object";J.k={};m=aR.y$(G,J.k,m,A+1)}else if(G[m]=="(".charCodeAt(0)){J.type="String";
m++;if(G[m]==")".charCodeAt(0)){J.k="e";m++}else{m+=2;var b=m,O=0;while(!0){if(G[b]==")".charCodeAt(0)&&G[b-1]!="\\".charCodeAt(0))break;
else b+=1}J.k="s"+V.DW(G,m,b);m=b+2}}else if(G[m]=="[".charCodeAt(0)){m++;J.k=[];J.type="Array";while(aR.st(G[m]))m++;
while(G[m]!="]".charCodeAt(0)){var a=aR.c4(G,m,A+1,Q);if(a==-1)return-1;J.k.push(a.k);m+=a.size;delete a.size;
while(aR.st(G[m]))m++}m++}else{var e=m;while(!aR.st(G[e]))e++;var R=V.uB(G,m,e-m),p=parseFloat(R);if(!isNaN(p)&&R.indexOf(".")!=-1){J.type="Float";
var P=parseFloat(R);J.k="f"+P}else if(!isNaN(p)&&R.indexOf(".")==-1){J.type="Integer";J.k="i"+parseInt(R)}else if(R=="true"||R=="false"){J.type="Boolean";
J.k=R=="true"}else if(R.charAt(0)=="/"){J.type="BString";J.k=R}else if(R=="NaN"){J.type="Float";J.k="f0"}else{console.log("unknown value",JSON.stringify(R));
throw"e"}m=e+1}J.size=m-H;return J};aR.a3f=function(G){if(G==Math.round(G))return G+".0";var m=G.toFixed(5);
while(m.endsWith("0")&&m[m.length-2]!=".")m=m.slice(0,m.length-1);if(0<G&&G<1)m=m.slice(1);if(-1<G&&G<0)m="-"+m.slice(2);
return m};aR.wR=function(G,m,A,Q){var H=typeof G=="string"?G.charAt(0):"";if(G instanceof Array){V.yN(m,A,"[ ");
A+=2;for(var $=0;$<G.length;$++){A=aR.wR(G[$],m,A,Q);V.yN(m,A," ");A++}V.yN(m,A,"]");A+=1}else if(G instanceof Object){A=aR.gc(G,m,A,Q)}else if(H=="e"){V.yN(m,A,"()");
A+=2}else if(H=="s"){V.yN(m,A,"(");A++;V.m2(m,A,254);A++;V.m2(m,A,255);A++;A=V.cK(m,A,G.substring(1));
V.yN(m,A,")");A++}else if(H=="/"){V.yN(m,A,G);A+=G.length}else if(H=="f"){var J=parseFloat(G.substring(1)),b=aR.a3f(J);
V.yN(m,A,b);A+=b.length}else if(H=="i"){V.yN(m,A,G.substring(1));A+=G.length-1}else{var b=G+"";V.yN(m,A,b);
A+=b.length}return A};function V(){}V.aur=function(jw){var G="";for(var $=3;$>=0;$--)G+=String.fromCharCode(jw>>$*8&255);
return G};V.a9d=function(G){var jw=0;for(var $=G.length-1;$>=0;$--)jw|=G.charCodeAt($)<<(3-$)*8;return jw};
V.indexOf=function(G,m,A,Q){if(A==null)A=0;if(Q==null)Q=G.length;Q=Math.min(Q,G.length);for(var $=A;
$<Q;$++)if(G[$]==m)return $;return-1};V.Sz=function(G,m,A){if(A==null)A=0;var Q=m.length,H=G.length-Q;
if(typeof m=="string"){var J=[];for(var $=0;$<Q;$++)J.push(m.charCodeAt($));m=J}if(m.length>0){var b=m[0];
for(var $=A;$<H;$++)if(G[$]==b){var O=!0;for(var a=1;a<Q;a++)if(m[a]!=G[$+a]){O=!1;break}if(O)return $}}return-1};
V.DW=function(G,m,A){var Q=[],J="";while(m<A){var H=G[m++];if(H=="\\".charCodeAt(0))Q.push(G[m++]);else Q.push(H)}for(var $=0;
$<Q.length;$+=2)J+=String.fromCharCode(Q[$]<<8|Q[$+1]);return J};V.abW=function(G,m,A){var Q=new Uint8Array(2);
for(var $=0;$<A.length;$++){V.hv(Q,0,A.charCodeAt($));if(Q[0]==")".charCodeAt(0)||Q[0]=="(".charCodeAt(0)||Q[0]=="\\".charCodeAt(0)){G[m]="\\".charCodeAt(0);
m++}G[m]=Q[0];m++;if(Q[1]==")".charCodeAt(0)||Q[1]=="(".charCodeAt(0)||Q[1]=="\\".charCodeAt(0)){G[m]="\\".charCodeAt(0);
m++}G[m]=Q[1];m++}return m};V.cK=function(G,m,A){G.fU(m,4*A.length);return V.abW(G.data,m,A)};V.Dm=function(G,m,A){var Q="";
for(var $=0;$<A;$++){var H=G[m++]|G[m++]<<8;Q+=String.fromCharCode(H)}return Q};V.j$=function(G,m,A){var Q="";
for(var $=0;$<A;$++){var H=G[m++]<<8|G[m++];Q+=String.fromCharCode(H)}return Q};V.alR=function(G,m,A){for(var $=0;
$<A.length;$++){var Q=A.charCodeAt($);V.y5(G,m+2*$,Q)}};V.tp=function(G,m,A){for(var $=0;$<A.length;
$++){var Q=A.charCodeAt($);V.hv(G,m+2*$,Q)}};V.a8n=function(G,m,A){G.fU(m,2*A.length);V.tp(G.data,m,A)};
V.a8i=function(G,$,m){var A=[],Q=0,H=0;m+=$;while($<m){Q=G[$++];if((Q&128)==0)H=Q;else if((Q&224)==192){H=(Q&31)<<6;
Q=G[$++];H|=Q&63}else if((Q&240)==224){H=(Q&15)<<12;Q=G[$++];H|=(Q&63)<<6;Q=G[$++];H|=Q&63}else if((Q&248)==240){H=(Q&7)<<18;
Q=G[$++];H|=(Q&63)<<12;Q=G[$++];H|=(Q&63)<<6;Q=G[$++];H|=Q&63}else throw"e";A.push(H)}return A};V.HR=window.TextDecoder?new window.TextDecoder("utf8"):null;
V.Io=function(G,m,A){if(m==null)m=0;if(A==null)A=G.length;if(V.HR&&m==0&&A==G.length)return V.HR.decode(G);
var Q=V.a8i(G,m,A),H=Q.length;for(var $=0;$<H;$++)Q[$]=String.fromCharCode(Q[$]);return Q.join("")};
V.h9=window.TextEncoder?new window.TextEncoder("utf8"):null;V.Dn=function(G){if(V.h9)return V.h9.encode(G);
var m=new Uint8Array(G.length*4),A=V.lG(G,m,0);return m.slice(0,A)};V.lG=function(G,m,A){var Q=G.length,$=0;
for(var H=0;H<Q;H++){var J=G.charCodeAt(H);if((J&4294967295-(1<<7)+1)==0){m[A+$]=J;$++}else if((J&4294967295-(1<<11)+1)==0){m[A+$]=192|J>>6;
m[A+$+1]=128|J>>0&63;$+=2}else if((J&4294967295-(1<<16)+1)==0){m[A+$]=224|J>>12;m[A+$+1]=128|J>>6&63;
m[A+$+2]=128|J>>0&63;$+=3}else if((J&4294967295-(1<<21)+1)==0){m[A+$]=240|J>>18;m[A+$+1]=128|J>>12&63;
m[A+$+2]=128|J>>6&63;m[A+$+3]=128|J>>0&63;$+=4}else throw"e"}return $};V.I6=function(G,m){var A=V.l(G,m),Q=V.Io(G,m+4,A-1);
return{H6:Q,Ku:4+A}};V.a5l=function(G,m){var A=V.Wj(G,m),Q=V.Dm(G,m+4,A);return Q};V.A8=function(G,m){var A=V.l(G,m),Q=V.j$(G,m+4,A);
return Q};V.ep=function(G,m){var A=V.l(G,m),Q=V.j$(G,m+4,A-1);return Q};V.a8R=function(G,m,A){V.l0(G,m,A.length);
m+=4;V.alR(G,m,A)};V.a9Q=function(G,m,A){V.na(G,m,A.length);m+=4;V.tp(G,m,A)};V.s0=function(G,m,A){G.fU(m,4+2*A.length);
V.a9Q(G.data,m,A)};V.asW=function(G,m,A){G.fU(m,4+2*A.length);V.a8R(G.data,m,A)};V.z1=function(G,m,A){var Q=[];
for(var $=0;$<A;$++)Q.push(String.fromCharCode(G[m+$]));return Q};V.a7R=function(G,m,A){var Q=!1,H=G.length-A.length;
for(var $=m;$<H;$++){for(var J=0;J<A.length;J++){if(G[$+J]!=A.charCodeAt(J))break;if(J==A.length-1)return $}}};
V.uB=function(G,m,A){var Q="";for(var $=0;$<A;$++)Q+=String.fromCharCode(G[m+$]);return Q};V.aw=function(G,m,A){for(var $=0;
$<A.length;$++)G[m+$]=A.charCodeAt($)};V.yN=function(G,m,A){G.fU(m,A.length);V.aw(G.data,m,A)};V.abv=function(G,m,A){var Q="";
for(var $=0;$<A;$++){var H=G[m+$];if(H<10)Q+="  ";else if(H<100)Q+=" ";Q+=H+", "}return Q};V.n6=function(G,m){return G[m]<<8|G[m+1]};
V.hv=function(G,m,jw){G[m]=jw>>8&255;G[m+1]=jw&255};V.HM=function(G,m,jw){G.fU(m,4);V.hv(G.data,m,jw)};
V.ap1=function(G,m){var A=V.n6(G,m),Q=V.n6(G,m+2);return A+Q*(1/65536)};V.zD=function(G,m,jw){var A=Math.floor(jw),Q=Math.floor((jw-A)*65536);
V.hv(G,m,A);V.hv(G,m+2,Q)};V.cZ=function(G,m){return G[m+1]<<8|G[m]};V.y5=function(G,m,jw){G[m+1]=jw>>8&255;
G[m]=jw&255};V.TT=function(G,m,jw){G.fU(m,4);V.y5(G.data,m,jw)};V.jT=function(G,m){V.mp[0]=G[m+1];V.mp[1]=G[m];
return V.GG[0]};V.ec=function(G,m){V.mp[0]=G[m];V.mp[1]=G[m+1];return V.GG[0]};V.Mo=V.hv;V.Ev=V.HM;V.Ys=function(G,m){V.tX[0]=G[m+3];
V.tX[1]=G[m+2];V.tX[2]=G[m+1];V.tX[3]=G[m];return V.PN[0]};V.Lt=function(G,m,jw){V.PN[0]=jw;G[m+3]=V.tX[0];
G[m+2]=V.tX[1];G[m+1]=V.tX[2];G[m+0]=V.tX[3]};V.Q6=function(G,m,jw){G.fU(m,4);V.Lt(G.data,m,jw)};V.lA=function(G,m,A,Q){A[Q+0]=G[m+0];
A[Q+1]=G[m+1];A[Q+2]=G[m+2];A[Q+3]=G[m+3]};V.Wj=function(G,m){V.lA(G,m,V.tX,0);return V.Ej[0]};V.l0=function(G,m,jw){V.Ej[0]=jw;
V.lA(V.tX,0,G,m)};V.yl=function(G,m,jw){G.fU(m,4);V.l0(G.data,m,jw)};V.qA=function(G,m){V.lA(G,m,V.tX,0);
return V.PN[0]};V.aud=function(G,m,jw){V.PN[0]=jw;V.lA(V.tX,0,G,m)};V.a7A=function(G,m,jw){G.fU(m,4);
V.aud(G.data,m,jw)};V.l=function(G,m){var A=G[m]*(256*256*256)+(G[m+1]<<16|G[m+2]<<8|G[m+3]);return A};
V.na=function(G,m,jw){G[m]=jw>>24&255;G[m+1]=jw>>16&255;G[m+2]=jw>>8&255;G[m+3]=jw>>0&255};V.io=function(G,m,jw){G.fU(m,4);
V.na(G.data,m,jw)};V.Ss=function(G,m){return V.l(G,m)<<32|V.l(G,m+4)};V.u6=function(G,m,jw){V.na(G,m,jw>>16>>16);
V.na(G,m+4,jw&4294967295)};V.Wn=function(G,m,jw){G.fU(m,8);V.u6(G.data,m,jw)};V.Bo=function(G,m){var A=new Uint8Array(8);
for(var $=0;$<8;$++)A[$]=G[m+7-$];var Q=new Float64Array(A.buffer);return Q[0]};V.qI=function(G,m){var A=new Uint8Array(8);
for(var $=0;$<8;$++)A[$]=G[m+$];var Q=new Float64Array(A.buffer);return Q[0]};V.lg=function(G,m,jw){var A=new Float64Array(1);
A[0]=jw;var Q=new Uint8Array(A.buffer);for(var $=0;$<4;$++){var H=Q[$];Q[$]=Q[7-$];Q[7-$]=H}for(var $=0;
$<8;$++)G[m+$]=Q[$]};V.Ca=function(G,m,jw){G.fU(m,8);V.lg(G.data,m,jw)};V.BH=function(G,m){V.tX[0]=G[m+3];
V.tX[1]=G[m+2];V.tX[2]=G[m+1];V.tX[3]=G[m+0];return V.xD[0]};V.xN=function(G,m){V.tX[0]=G[m+0];V.tX[1]=G[m+1];
V.tX[2]=G[m+2];V.tX[3]=G[m+3];return V.xD[0]};V.Fy=function(G,m,jw){V.xD[0]=jw;G[m+0]=V.tX[3];G[m+1]=V.tX[2];
G[m+2]=V.tX[1];G[m+3]=V.tX[0]};V.alG=function(G,m,jw){G.fU(m,4);V.Fy(G.data,m,jw)};V.oR=function(G,m,jw){V.xD[0]=jw;
G[m+0]=V.tX[0];G[m+1]=V.tX[1];G[m+2]=V.tX[2];G[m+3]=V.tX[3]};V.amk=function(G,m,jw){G.fU(m,4);V.oR(G.data,m,jw)};
V.a3q=function(G,m){var A=V.Ys(G,m),Q=A*(1/(1<<24));return Q};V.A2=function(G,m,A){var Q=Math.floor(A*(1<<24));
V.Lt(G,m,Q)};V.am4=function(G,m,A){G.fU(m,4);V.A2(G.data,m,A)};V.Qn=function(G,m){var A=G[m],Q=V.uB(G,m+1,A);
A+=1-A%2;return{gv:Q,length:A+1}};V.asx=function(G,m,A){var Q=A.length;G[m]=Q;V.aw(G,m+1,A);if(Q%2==0){G[m+1+Q]=0;
++Q}return Q+1};V.kv=function(G,m,A){G.fU(m,A.length+2);return V.asx(G.data,m,A)};V.C6=function(G,m){var A=new ci;
A.Uj=V.Bo(G,m+0*8);A.h=V.Bo(G,m+1*8);A.Qv=V.Bo(G,m+2*8);A.nd=V.Bo(G,m+3*8);A.Zh=V.Bo(G,m+4*8);A.bx=V.Bo(G,m+5*8);
return A};V.$c=function(G,m,A){V.lg(G,m+0*8,A.Uj);V.lg(G,m+1*8,A.h);V.lg(G,m+2*8,A.Qv);V.lg(G,m+3*8,A.nd);
V.lg(G,m+4*8,A.Zh);V.lg(G,m+5*8,A.bx)};V.ajP=function(G,m,A){G.fU(m,48);V.$c(G.data,m,A)};V.anq=function(G,m){var A=V.BH(G,m),Q=V.BH(G,m+4),H=V.BH(G,m+8),J=V.BH(G,m+12);
return new f_(A,Q,H-A,J-Q)};V.ab4=function(G,m,A){V.Fy(G,m,A.x);V.Fy(G,m+4,A.y);V.Fy(G,m+8,A.x+A.e);
V.Fy(G,m+12,A.y+A.n)};V.atg=function(G,m,A){G.fU(m,16);V.ab4(G.data,m,A)};V.EP=function(G,m){var A=V.Ys(G,m),Q=V.Ys(G,m+4),H=V.Ys(G,m+8),J=V.Ys(G,m+12);
return new f_(Q,A,J-Q,H-A)};V.xg=function(G,m,A){V.Lt(G,m,A.y);V.Lt(G,m+4,A.x);V.Lt(G,m+8,A.y+A.n);V.Lt(G,m+12,A.x+A.e)};
V.kN=function(G,m,A){G.fU(m,16);V.xg(G.data,m,A)};V.mF=function(G,m,A){var Q=new Uint8Array(A);for(var $=0;
$<A;$++)Q[$]=G[m+$];return Q};V.UB=function(G,m,A){G.set(A,m)};V.NQ=function(G,m,A){G.fU(m,A.length);
V.UB(G.data,m,A)};V.a2e=function(G,m,A,jw){if(!jw)jw=1;for(var $=0;$<jw;$++)G[m+$]=A};V.m2=function(G,m,A,jw){if(!jw)jw=1;
G.fU(m,jw);V.a2e(G.data,m,A,jw)};V.GG=new Int16Array(1);V.mp=new Uint8Array(V.GG.buffer);V.PN=new Int32Array(1);
V.Ej=new Uint32Array(V.PN.buffer);V.tX=new Uint8Array(V.PN.buffer);V.xD=new Float32Array(V.PN.buffer);
function g6(){}g6.dm=function(G,m){var A=new Uint8Array(G),Q=0,H=V.uB(A,Q,9),O=4,a=100;Q+=9;var J=V.uB(A,Q,4);
Q+=4;Q++;m.e=V.l(A,Q);Q+=4;m.n=V.l(A,Q);Q+=4;var b=V.l(A,Q);Q+=4;if(b!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(J)==-1){a=V.l(A,Q);Q+=4;if(parseInt(J.slice(1))>=7){a=a}else alert("Unknown XCF version: "+J);
O=8}var e={};Q=g6.lC(A,Q,e);var R=[];Q=g6.uy(A,Q,R,O);var p=[];Q=g6.uy(A,Q,p,O);m.D$=0;for(var $=0;$<R.length;
$++)g6.a2F(A,R[$],m,e,O,a);while(m.D$>0){m.g.push(m.uF());m.D$--}m.g.reverse();delete m.D$;m.buffer=N.$(m.e*m.n*4);
if(m.g.length==0)console.log("No layers!!!");for(var $=0;$<p.length;$++){var P=g6.yP(A,p[$],e,O,a);if(P.r9[cu.atO])m.q={channel:P.Br,rect:new f_(0,0,m.e,m.n)}}};
g6.a2F=function(G,m,A,Q,H,J){var b=A.uA(),O=V.l(G,m),p=0;m+=4;var a=V.l(G,m);m+=4;b.rect=new f_(0,0,O,a);
var e=V.l(G,m);m+=4;var R=V.I6(G,m);m+=R.Ku;b.mw(R.H6);var P={};m=g6.lC(G,m,P);if(P[cu.un]){var z=P[cu.un];
p=z.length/4-1}if(P[cu.Ka]){b.rect.x=V.Ys(P[cu.Ka],0);b.rect.y=V.Ys(P[cu.Ka],4)}if(P[cu.LB]){b.opacity=V.l(P[cu.LB],0)}if(P[cu.a1F]){b.add.lsct=fM.UK;
b.rect=new f_(0,0,0,0);b.buffer=N.$(0);b.$G=24}if(P[cu.uK]){var Z=V.l(P[cu.uK],0);b.w4=cu.a9B[Z];if(b.r8()&&b.w4=="norm")b.w4="pass"}if(P[cu.iv]){if(V.l(P[cu.iv],0)==0)b.$G+=2}if(P[cu.Wl]){var W=V.l(P[cu.Wl],0);
b.add.lsct=W&1==1?fM.UK:fM.mJ}if(P[cu.K5]){var T=P[cu.K5];for(var i in T){var X=T[i];if(i=="gimp-text-layer"){var U=g6.abX(X),M=U.text,C=U.font,x=U.color,L=U["font-size"];
if(M==null&&U.markup){var E=new DOMParser,l=E.parseFromString(U.markup,"image/svg+xml");while(l.firstChild!=null&&l.firstChild.tagName!=null){l=l.firstChild;
var y=l.getAttribute("font"),Y=l.getAttribute("foreground"),F=l.getAttribute("size");if(y!=null)C=y;
if(Y!=null){Y=CSS.FI(Y);x=[1,Y.p/255,Y.z/255,Y.h/255]}if(F!=null){L=""+parseFloat(F)/245}}M=l.textContent}b.add.lnsr="rend";
b.add.TySh=fC.lw(0,0);b.add.TySh.sC=new f_(0,0,100,100);b.add.TySh.A=new ci(1,0,0,1,b.rect.x,b.rect.y);
var w=b.add.TySh.DQ;fC.OA(w,0,M);var j=fC.ui(w,0,0),_=U.justify,D=U["line-spacing"];if(x)j.In.FillColor={Type:1,Values:[1,parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3])]};
if(L){L=Math.round(parseFloat(L));j.In.FontSize=L;b.add.TySh.A.bx+=Math.min(17,L*.17)}if(D){D=Math.round(parseFloat(D)+j.In.FontSize*1.2);
j.In.Leading=D;j.In.AutoLeading=!1}if(_)j.DF.Justification=["left","right","center","fill"].indexOf(_);
if(C&&C!="Sans-serif"){var t=C.toLowerCase(),K="bold italic semi extra regular condensed light".split(" "),d=t.length;
for(var $=0;$<K.length;$++){var o=t.indexOf(K[$]);if(o!=-1&&o<d&&t[o-1]==" ")d=o}if(d!=t.length)C=C.slice(0,d-1).split(" ").join("")+"-"+C.slice(d).split(" ").join("");
fC.fT(j,C)}fC.QT(w,0,M.length,j);var k=U["box-width"],v=U["box-height"],u=k?parseFloat(k):b.rect.e,B=v?parseFloat(v):b.rect.n;
fC.hR(w,1);fC.vL(w,[0,0,Math.ceil(u),Math.ceil(B)])}else console.log("Unknown property "+i)}}while(A.D$>p){A.g.push(A.uF());
A.D$--}A.D$=p;if(b.add.lsct==fM.UK||b.add.lsct==fM.mJ)A.D$++;var S=H==4?V.l:V.Ss;if(b.wC()){b.buffer=N.$(b.rect.Z()*4);
var I=new N.NI(b.rect.Z()),q=S(G,m);m+=H;var hw=S(G,m);m+=H;g6.Sh(G,q,I,Q,H,J);N.Ff(I,b.buffer);if(hw!=0){b.D=new c.Mz;
b.D.color=0;b.D.rect=b.rect.clone();b.D.channel=g6.yP(G,hw,Q,H,J).Br;if(P[cu.eT])b.D.isEnabled=V.l(P[cu.eT],0)==1}}A.g.push(b)};
g6.abX=function(G){var m="("+V.Io(G,0,G.length-1)+")",A=[],Q={};g6.ul(m,1,A);g6.acW(A,Q);return Q};g6.acW=function(G,m){for(var $=0;
$<G.length;$++){var A=G[$],Q=A[0];if(A.length==2)m[Q]=A[1];else m[Q]=A.slice(1)}};g6.ul=function(G,m,A){while(!0){if(m>=G.length)throw"e";
var Q=G.charAt(m);m++;if(Q=="("){var H=[];m=g6.ul(G,m,H);A.push(H)}else if(Q==" "||Q=="\n"||Q=="\r"){}else if(Q==")")return m;
else if(Q=="\""){var J=m;while(!0){var b=G[m];m++;if(b=="\"")break;if(b=="\\")m++}A.push(JSON.parse(G.slice(J-1,m)))}else{var J=m-1;
while(G[m]!=" "&&G[m]!=")")m++;A.push(G.slice(J,m))}}};g6.yP=function(G,m,A,Q,H){var J=V.l(G,m);m+=4;
var b=V.l(G,m);m+=4;var O=V.I6(G,m);m+=O.Ku;var a={};m=g6.lC(G,m,a);var e=new N.NI(J*b),R=Q==4?V.l:V.Ss,p=R(G,m);
m+=Q;g6.Sh(G,p,e,A,Q,H);return{Br:e.p,r9:a}};g6.Sh=function(G,m,A,Q,H,J){var b=V.l(G,m);m+=4;var O=V.l(G,m);
m+=4;var a=V.l(G,m);m+=4;var e=H==4?V.l:V.Ss,R=e(G,m);m+=H;g6.ao9(G,R,A,Q,a,H,J)};g6.ao9=function(G,m,A,Q,H,J,b){var O=V.l(G,m),R=0,$=0;
m+=4;var a=V.l(G,m);m+=4;var e=new f_(0,0,O,a);if(b==100||b==150)R=1;else if(b==200||b==250)R=2;else if(b==300||b==350)R=4;
else if(b==500||b==550)R=2;else if(b==600||b==650)R=4;else if(b==700||b==750)R=8;else{alert("unsupported bit depth "+b);
throw"e"}var p=H/R,R=Math.round(H/p),P=[];m=g6.uy(G,m,P,J);var z=new N.NI(64*64*R),Z=new f_,W=Q[cu.abu][0],T=[z.p,z.z,z.h,z.Uj];
if(p==3)z.Uj.fill(255);var i=Date.now();for(var X=0;X<a;X+=64)for(var U=0;U<O;U+=64){var M=Math.min(O-U,64),C=Math.min(a-X,64),x=M*C;
Z.QU(U,X,M,C);g6.a9H(G,P[$++],x*R,W,p,T);if(b==100||b==150){}else if(b==250){for(var L=0;L<p;L++){var E=T[L];
for(var l=0;l<x;l++){var y=E[l]<<8|E[x+l];E[l]=Math.min(y>>>8,255)}}}else if(b==600){var Y=g6.agy(),F=new Uint32Array(1),w=new Float32Array(F.buffer);
for(var L=0;L<p;L++){var E=T[L];for(var l=0;l<x;l++){F[0]=E[l]<<24|E[x+l]<<16|E[(x<<1)+l]<<8|E[(x<<1)+x+l]<<0;
var j=w[0];if(j<0)j=0;else if(j>1)j=1;E[l]=Y[~~(.5+j*1e3)]}}}else console.log("unknown data format",b);
N.Tk(z,Z,A,e)}};g6.agy=function(){var G=g6.aa3;if(G!=null)return G;G=g6.aa3=new Uint8Array(1001);for(var $=0;
$<1001;$++)G[$]=~~(.49+255*N.J5($*.001));return G};g6.a9H=function(G,m,A,Q,H,J){if(Q==1){for(var b=0;
b<H;b++){var O=J[b],a=0;while(a<A){var jw=G[m];m++;if(jw<127){var e=G[m];m++;jw++;for(var $=0;$<jw;$++)O[a+$]=e}else if(jw==127){var R=G[m];
m++;var p=G[m];m++;var e=G[m];m++;jw=R<<8|p;for(var $=0;$<jw;$++)O[a+$]=e}else if(jw==128){var R=G[m];
m++;var p=G[m];m++;jw=R<<8|p;for(var $=0;$<jw;$++)O[a+$]=G[m+$];m+=jw}else{jw=256-jw;for(var $=0;$<jw;
$++)O[a+$]=G[m+$];m+=jw}a+=jw}}}else if(Q==2){var P=pako.inflate(G.slice(m)),z=Math.round(P.length/A);
for(var $=0;$<A;$++){var Z=$*z;J[0][$]=P[Z];J[1][$]=P[Z+1];J[2][$]=P[Z+2];J[3][$]=z==3?255:P[Z+3]}}else alert("Unknown compression "+Q)};
g6.uy=function(G,m,A,Q){var H=Q==4?V.l:V.Ss;while(!0){var J=H(G,m);m+=Q;if(J==0)break;else A.push(J)}return m};
g6.lC=function(G,m,A){while(!0){var Q=V.l(G,m);m+=4;var H=V.l(G,m);m+=4;if(Q==cu.aue)break;else if(Q==cu.K5)A[Q]=g6.a31(G,m,m+H);
else A[Q]=V.mF(G,m,H);m+=H}return m};g6.a31=function(G,m,A){var Q={};while(m<A){var H=V.I6(G,m);m+=H.Ku;
var J=V.l(G,m);m+=4;if(J!=1)console.log("unknown flags",J);var b=V.l(G,m);m+=4;Q[H.H6]=V.mF(G,m,b);m+=b}return Q};
var cu={aue:0,afT:1,acE:2,a2K:3,atO:4,an2:5,LB:6,uK:7,iv:8,ad9:9,ajN:10,eT:11,acK:12,a3e:13,a1o:14,Ka:15,am3:16,abu:17,a6W:18,ash:19,a0_:20,K5:21,a4O:22,a42:23,a1a:24,amm:25,att:26,akX:27,atV:28,a1F:29,un:30,Wl:31,aoi:32,acJ:33,acs:34,a4z:35,ajZ:36,adG:37,a28:38,aaF:0,ajd:1,a92:2,a4g:3,anx:1,ar3:2,atq:0,a5$:1,a4G:1};
cu.a9B="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var eq=function(){var G=!1,m,A,U;function Q(){var x=V.uB(m,A,4);A+=4;return x[3]+x[2]+x[1]+x[0]}function H(){var x=V.uB(m,A,4);
A+=4;return x}function J(){var x=m[A];A+=1;return x}function b(){var x=V.cZ(m,A);A+=2;return x}function O(){var x=V.Wj(m,A);
A+=4;return x}function a(){var x=V.qA(m,A);A+=4;return x}function e(){var x=V.Wj(m,A);A+=8;return x}function R(){var x=V.xN(m,A);
A+=4;return x}function p(){var x=V.qI(m,A);A+=8;return x}function P(){var x=V.cZ(m,A),L=V.Io(m,A+2,x);
A+=2+x;return L}function z(){var x=V.Wj(m,A),L=V.Io(m,A+4,x);A+=4+x;return L}function Z(x){A=x;var L=[];
while(A!=0){var E=H();if(E!="#FT4"&&E!="#FT3"&&E!="#FT2")throw E;var l=e(),y=e(),Y=e(),F=e(),w=e(),j=O(),_=O(),D=O(),t=b(),K=J(),d={};
L.push(d);for(var $=0;$<j;$++){var o=O(),k=J();if(k!=0&&k!=1&&k!=2)throw k;var v=[];if(k==0||k==1){var u=e(),B=e(),S=e(),I=O(),q=J(),hw=O(),fY=E!="#FT4"?0:O(),s=null;
if(E=="#FAT"||E=="#FT2"){switch(q){case 1:q=1;break;case 2:q=65;break;case 3:q=129;break;case 4:q=193;
break;default:q=0;break}}if(k==0)s=P();v=[u,B,S,q,s]}d["i"+o]=[k,v]}for(var $=0;$<t;$++){var hZ=b(),bG=b(),aY=e(),fj=V.uB(m,A,hZ);
A+=hZ}A=l}L.reverse();for(var jg=1;jg<L.length;jg++){var d=L[jg],ae=L[jg]=JSON.parse(JSON.stringify(L[jg-1]));
for(var iB in d){var eg=d[iB];if(eg[0]==0)ae[iB]=eg;else if(eg[0]==1){eg[1][4]=ae[iB][1][4];ae[iB]=eg}else if(eg[0]==2)delete ae[iB]}}var dM=L.pop(),fK=[];
for(var iB in dM)fK.push(dM[iB][1]);fK.sort(function(aQ,cQ){return aQ[0]-cQ[0]});return fK}function W(x,L,E,l){while(A<m.length){var y=J(),j=null;
if(y==0){if(l){var Y=J();if(Y!=2){var F=Q()}if(Y==0)A+=4;l=!1;continue}else{break}}var w=Q();if(G)console.log("  ".repeat(L),y,y&127,w,x._type);
if(y>127)j=T(y,L,E);else j=i(y,L,E);x[w]=j}}function T(x,L,E){var l=[];x=x&127;if(x==43)A+=4;var y=O();
if(x==50){var Y=Q(),F=b();if(F!=1)throw"e";for(var $=0;$<y;$++){var w={_status:"NotShared",_type:Y};
l.push(w);var j=J();if(j!=1)throw j;W(w,L+1,E)}}else for(var $=0;$<y;$++){l.push(i(x,L,E));if(x==42)x=2}return l}function i(x,L,E){var l=null;
if(x==49){l={};var y=J();if(y!=0){var Y=O();if(E==null){l._id=Y;l._status=["Shared","Link"][y-1]}if(E&&y==2)l=E[Y];
if(y==1){if(E)E[Y]=l;var F=J(),w=!1;if(F>1)throw F;l._type=Q();if(G)console.log("  ".repeat(L),"new",l._type,F,A);
if(F==0){while(!0){var j=b();if(j!=0&&j!=1&&j!=2&&j!=4)throw j;if(m[A]!=0){w=!0;break}var _=b();if(_==512)break;
var D=Q();if(_==256)break}}W(l,L+1,E,w)}}}else if(x==50){l={_status:"NotShared"};if(J()==1){l._type=Q();
A+=2;W(l,L+1,E)}}else if(x==1)l={type:"byte",value:J()};else if(x==2)l={type:"uint16",value:b()};else if(x==3)l={type:"uint32",value:O()};
else if(x==4)l={type:"uint64",value:e()};else if(x==7)l={type:"int32",value:a()};else if(x==8)l={type:"int64",value:e()};
else if(x==9)l={type:"float32",value:R()};else if(x==10)l={type:"float64",value:p()};else if(x==21)l={type:"Vec2i",value:[O(),O()]};
else if(x==23)l={type:"Vec4i",value:[O(),O(),O(),O()]};else if(x==33)l={type:"Vec4f",value:[R(),R(),R(),R()]};
else if(x==36)l={type:"Vec2",value:[p(),p()]};else if(x==38)l={type:"Vec4",value:[p(),p(),p(),p()]};
else if(x==40)l={type:"Vec6",value:[p(),p(),p(),p(),p(),p()]};else if(x==41)l={type:"bool",value:J()!=0};
else if(x==42)l={type:"Enum",value:O()};else if(x==43)l={type:"string",value:z()};else if(x==44){var t=b();
l={type:"curv16",value:[p(),t==12?[J(),J(),J(),J()]:[O(),O()]]}}else if(x==45){var t=O();l={type:"buff",value:m.slice(A,A+t)};
A+=t}else if(x==47){l={type:"uint32",value:O()}}else if(x==48){var K=[],d=b();if(d!=1)throw d;if(m[A]==135){var o=T(J(),L+1,E),k=T(J(),L+1,E),v=T(J(),L+1,E);
K=[o,k,v]}else{var u=1;if(m[A]==3){J();u=O()}for(var $=0;$<u;$++){if(J()!=41)throw"e";var Y=J();if(Y!=0&&Y!=1)throw Y;
if(J()!=172)throw"e";var B=O(),S=b(),I=[];K.push(I);if(S!=18)throw S;if(B>2e3)throw B;for(var q=0;q<B;
q++)I.push([p(),p(),J(),J()])}}A++;l={type:"curve",value:K}}else if(x==51){l={type:"EmbeddedData"};l[Q()]=z()}else if(x==52)l={type:"uint32",value:O()};
else if(x==56)l={type:"Color32",value:[J(),J(),J(),J()]};else if(x==68)l={type:"ColorRGBA",value:[R(),R(),R(),R()]};
else if(x==72)l={type:"ColorCMYK",value:[R(),R(),R(),R(),R()]};else{throw x}return x==49||x==50||x==51?l:l.value}function X(x){var L=0,E=x.length;
for(var $=0;$<E;$++)x[$]=L=L+x[$]&255}function M(x){m=x;A=4;var L=O(),E=H();if(E!="nsrP")throw E;var E=H();
if(E!="#Inf")throw E;var l=e();U=e();var y=e(),Y=e(),F=e(),w=O(),j=O(),E=H();if(E!="Prot")throw E;var w=O(),_=Z(l),D={},t=Date.now();
for(var K=0;K<_.length;K++){var d=_[K],o=d[3],S=null;A=d[0];var E=H();if(E!="#Fil")throw E;var k=o>>>5&1,v=o&3,u=o&192;
switch(u){case 64:u=1;k=0;break;case 128:u=2;break;case 192:u=3;break;default:u=0;k=0}var B=new Uint8Array(m.buffer,A,d[2]);
if(v==0)S=B;else if(v==1)S=pako.inflate(B);else if(v==2)S=dt.cN.ko(B,d[1]);else throw v;if(k==0){if(u==1)X(S);
if(u==2)throw"e"}else throw k;D[d[4]]=S}return D}function C(x){var L=M(new Uint8Array(x));m=L["doc.dat"];
A=16;var E={};W(E,0,[]);return[L,E,U]}return{al$:C}}();function ja(){}ja.dm=function(){function G(z,Z){var W=Date.now(),T=eq.al$(z),i=T[0],X=T[1],U=T[2],M=X.DocR,C=M.DfSz,x=M.Chld;
if(x.length!=1)throw"e";var L=x[0],E=L.SprB;x=L.Chld;Z.e=~~E[2];Z.n=~~E[3];Z.buffer=N.$(Z.e*Z.n*4);var l=[0,{}];
for(var $=0;$<x.length;$++)H(x[$],Z,i,new ci,l);Z.on(l[0]);console.log(Date.now()-W,"Document created");
W=Date.now()}function m(z){return new ci(z[0],z[3],z[1],z[4],z[2],z[5])}function A(z,Z){var W=Z.Xfrm;
W=W?m(W):new ci;W.concat(z);return W}function Q(z){var Z={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[z];
return Z?Z:"norm"}function H(z,Z,W,T,i){var X=z._type,U=z.Chld,M=Z.uA();M.mw(z.Desc==null||z.Desc==""?X=="Grup"?"Folder":"Layer":z.Desc);
M.YQ(z.Visi);M.opacity=Math.round(255*z.Opac);if(z.FOpc!=1)M.add.iOpa=Math.round(255*z.FOpc);var C=z.Blnd;
if(C!=null)M.w4=Q(C);var x=A(T,z),L=X=="ShpN"||X=="PCrv";if(U){Z.g.push(Z.uF());M.add.lsct=fM.UK;M.w4="pass";
M.$G=24;if(X=="ShpN"){var E=z.ShpB;M.I_(new f_(E[0]+x.Zh,E[1]+x.bx,E[2]-E[0],E[3]-E[1]));i[0]++;M.add.artb.Clr={t:"Objc",v:N.X.N4({p:255,z:255,h:255})}}for(var $=0;
$<U.length;$++)H(U[$],Z,W,x,i)}else if(X=="Rstr"||X=="ImgN"||X=="MRst"){var l=z.Bitm,y=l.Bckg,Y=Date.now(),F;
if(y==null){F=e(l,W,i[1]);M.rect=F[2].clone();M.buffer=F[1].slice(0);M.rect.x+=x.Zh;M.rect.y+=x.bx}if(y||x.kF()!=1){var w,j=0,_=0;
if(y){var D=W[y.Data],t=V.Sz(D,"ataD")+4,K=V.Wj(D,t);t+=4;w=D.slice(t,t+K)}else{j=M.rect.x-x.Zh;_=M.rect.y-x.bx;
if(F[3]==null)F[3]=new Uint8Array(dt.aW("PNG").Af([[M.buffer.buffer]],M.rect.e,M.rect.n));w=F[3].slice(0)}var d=Z.Ak(w,M.getName(),0,0);
d.$G=M.$G;d.opacity=M.opacity;M=d;var o=new ci;o.translate(j,_);o.concat(x);var k=M.rect.clone();k.x=k.y=0;
var v=N.H.Zt(k).s;N.H.A(v,o,v);M.add.SoLd.Trnf=f.Q.J_(v);M.add.SoLd.nonAffineTransform=f.Q.J_(v);M.wH(Z,!1)}}else if(X=="TxtA"||X=="TxtF"){M.add.lnsr="rend";
M.add.TySh=fC.lw(0,0);M.add.TySh.sC=new f_(0,0,100,100);var u=z.TxtH.FrmB,B=new ci,hw=0;B.translate(u[0],u[1]);
B.concat(x);M.add.TySh.A=B;var S=M.add.TySh.DQ,I=z.StSt,q=I.Blok;if(q.length!=1)throw"e";for(var fY=0;
fY<q.length;fY++){var s=q[fY],hZ=hw,bG=0,aY=s.Glyp.Utf8;aY=aY.replace(/\u2028/g,"\n");aY=aY.replace(/\u2029/g,"\n");
aY=aY.slice(0,aY.length-1);fC.OA(S,hw,aY);hw+=aY.length;var fj=s.GAtt.Runs,jg=s.PAtt.Runs[0],ae=jg.Item.Ints[0];
for(var iB=0;iB<fj.length;iB++){var eg=fj[iB],dM=eg.Indx,fK=eg.Item,aQ=fK.Objs,cQ=fC.ui(S,hZ,1);cQ.DF.Justification=ae==0?0:ae==1?2:1;
fC.fT(cQ,fK.DFnt.Post);cQ.In.FontSize=fK.Doub[0];for(var $=0;$<aQ.length;$++){var a7=aQ[$];if(a7._type=="FDsc"){var gz=a7.FDeF;
if(gz._type=="FilS"){var bQ=a(gz.Colr);cQ.In.FillColor={Type:1,Values:[1,bQ[0],bQ[1],bQ[2]]}}}}fC.QT(S,hZ+bG,hZ+Math.min(dM,aY.length),cQ);
bG=dM}}fC.hR(S,1);fC.vL(S,[0,0,Math.round(u[2]-u[0]),Math.round((u[3]-u[1])*1.2)]);Z.sp=!0}else if(L){M.$G|=16;
var d4=M.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));M.add.vstk.strokeEnabled.v=!1;M.add.vogk=[];
var j2=M.add.vmsk=J(z);N.U.T6(j2.Y,x);if(z.BFFl){var j7=z.BFFl[0].FDeF,fG=j7._type;if(fG=="FilS")M.add.SoCo={classID:"null",Clr:O(j7.Colr)};
else if(fG=="FilG"){var bT=M.add.GdFl=JSON.parse(hK.in[hK.order.indexOf("GrFl")]);b(j7,bT)}else if(fG=="FilN"){M.add.SoCo={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:0,z:0,h:0})}};
d4.fillEnabled.v=!1}else console.log(fG)}if(z.LILn){var je=z.LILn[0].LDeL,ba=je.Wght;if(ba!=0){d4.strokeEnabled.v=!0;
d4.strokeStyleLineWidth.v.val=ba;var j7=z.LIFl[0].FDeF,fG=j7._type;if(fG=="FilS")d4.strokeStyleContent.v.Clr=O(j7.Colr);
else if(fG=="FilN")d4.strokeEnabled.v=!1}}M.hM(Z)}else console.log(X);var j6=z.AdCh,cl=[];if(j6)for(var $=0;
$<j6.length;$++){var js=j6[$],fR=js._type;if(fR=="ShpN"||fR=="PCrv"){var j2=M.add.vmsk=J(js),iW=A(x,js);
N.U.T6(j2.Y,iW);M.hM(Z)}else if(js.AdjP){var fx=js.AdjP,dm=fx._type,fq={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dm];
if(fq==null){console.log(fx);continue}var h2=bH.ib(fq,{});cl.push(h2);var jj=h2.v.Fltr.v;if(dm=="LevP"){var iM=fX.ie(jj,0);
iM[0]=fx.OutB*255;iM[1]=fx.OutW*255;fX.yS(jj,0,iM)}else if(dm=="WhBP"){var iM=fX.ie(jj,2);iM[4]=100+fx.WBTi*20;
fX.yS(jj,2,iM);var iM=fX.ie(jj,3);iM[4]=100+fx.WBTi*200;fX.yS(jj,3,iM)}else if(dm=="HSSP"){var iM=bY.ie(jj,0);
iM[0]=Math.round(fx.HueA*256);iM[1]=Math.round(fx.SatA*256);iM[2]=Math.round(fx.LumA*256);bY.yS(jj,0,iM)}else if(dm=="RecP"){jj.Clrz.v=!0;
var iM=bY.ie(jj,0);iM[0]=Math.round(fx.RecH*100);iM[1]=Math.round(fx.RecS*100);iM[2]=Math.round(fx.RecL*100);
bY.yS(jj,0,iM)}else if(dm=="B&CP"){jj.Brgh.v=Math.round(fx.Brig*100);jj.Cntr.v=Math.round(fx.Ctrs*100-100)}else if(dm=="PosP"){jj.Lvls.v=fx.Post}else if(dm=="VibP"){jj.vibrance.v=fx.Vibr-100;
jj.Strt.v=Math.round(fx.Satu*100)}else if(dm=="ExpP"){jj.Exps.v=fx.Expo;jj.gammaCorrection.v=fx.Gamm/2.2}else if(dm=="ThrP"){jj.Lvl.v=Math.round(fx.Thre*255)}else if(dm=="CrvP"){var aC=fx.Mast["Cnt "],aB=fx.Mast.Vals,iM=a0.ie(jj,0),ep=iM[0];
for(var h6=0;h6<aC;h6++){var dJ=iM[h6]=JSON.parse(JSON.stringify(ep));dJ.v.Hrzn.v=Math.round(aB[h6]*255);
dJ.v.Vrtc.v=Math.round(aB[4+h6]*255)}a0.yS(jj,0,iM)}}else console.log(js)}if(cl.length!=0){M.add.SoLd.filterFX=bH.PG();
Z.Ci({id:M.add.SoLd.placed.v,rect:new f_,buffer:N.$(1),D:new c.Mz});M.add.SoLd.filterFX.v.filterFXList.v=cl;
M.wH(Z,!1)}var gs=z.FiEf;if(gs&&gs.length!=0){var ej=M.add.lmfx=JSON.parse(hK.default);for(var $=0;$<hK.order.length;
$++)ej[hK.HK[$]]={t:"VlLs",v:[]};for(var eH=0;eH<gs.length;eH++){var hT=gs[eH],dO=hT._type,fE={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[dO],bT=fE?JSON.parse(hK.in[hK.order.indexOf(fE)]):null;
if(dO=="ColO"){bT.Clr=O(hT.Colr)}else if(dO=="GrdO"){b(hT.GrFl.FDeF,bT)}else if(dO=="Shad"||dO=="InnS"||dO=="OutG"||dO=="InnG"){bT.Clr=O(hT.Colr);
bT.blur.v.val=Math.round(hT.Radi/2.4);if(hT.Offs!=null){bT.Dstn.v.val=hT.Offs;bT.lagl.v.val=Math.round(180-hT.Angl*180/Math.PI);
bT.uglg.v=!1}}else if(dO=="Strk"){bT.Clr=O(hT.Colr);bT.Sz.v.val=Math.round(hT.Radi)}else if(dO=="PhgB"||dO=="BevE"){bT.blur.v.val=Math.round(hT.Radi);
if(dO=="BevE")bT.bvlS.v.BESl="PlEb"}else if(dO=="Gaus"){if(L&&hT.Enab){M.add.vmsk.JE=hT.Radi/2.4;M.add.vmsk.k9=!0;
M.hM(Z)}}if(fE){bT.enab.v=hT.Enab;if(bT.Md&&hT.BlnM!=null)bT.Md.v.BlnM=ib.hb(Q(hT.BlnM));if(bT.Opct&&hT.Opac!=null)bT.Opct.v.val=Math.round(hT.Opac*100);
var hD=hK.HK[hK.order.indexOf(fE)];ej[hD].v.unshift({t:"Objc",v:bT})}}}Z.g.push(M)}function J(z){var Z=new c.Rl,W=z._type;
if(W=="PCrv"){var T=z.Crvs.Data,i=[],X=[];for(var $=0;$<T.length;$++){var U=T[$];if(U.length%3!=1){U=U.slice(1,U.length-1)}for(var M=0;
M<U.length;M++){var C=U[M],x=C[2];if(x!=0)i.push(M==0?"M":"C");X.push(C[0],C[1])}}Z.Y=N.H.ev({s:X,C:i},!0)}else{var L=z.ShpB,E=z.Shpe,l=E._type,y=L[2]-L[0];
if(l=="ShpE"){Z.Y=N.U.Y0.dd(L[0],L[1],L[2]-L[0],L[3]-L[1])}else if(l=="ShNR"){var Y=[0,0,0,0];if(E.CTyp){Y=E.ShCR.slice(0);
for(var $=0;$<4;$++)Y[$]*=L[2]-L[0]}Z.Y=N.U.Y0.Rect(L[0],L[1],L[2]-L[0],L[3]-L[1],Y)}else if(l=="ShpT"){Z.Y=N.H.ev({C:["M","L","L","Z"],s:[L[0],L[3],L[2],L[3],L[0]+y*.5,L[1]]},!0)}else if(l=="ShTz"){Z.Y=N.H.ev({C:["M","L","L","L","Z"],s:[L[0]+y*E.PosL,L[1],L[0]+y*E.PosR,L[1],L[2],L[3],L[0],L[3]]},!0)}else{console.log("--",l);
Z.Y=N.U.Y0.Rect(L[0],L[1],L[2]-L[0],L[3]-L[1],[0,0,0,0])}}return Z}function b(z,Z){var W=z.Grad,T=W.Cols;
Z.Type.v.GrdT=z.Type==0?"Lnr":"Rdl";var i=[];for(var $=0;$<T.length;$++){var X=a(T[$]);i.push([W.Posn[$][0],X])}Z.Grad.v.Intr.v=0;
N.X.sw(i,Z.Grad.v);var U=W.Posn,M=new dw(U[0][0],U[0][1]),C=new dw(U[1][0],U[1][1]);if(z.Type==0)M=new dw((M.x+C.x)/2,(M.y+C.y)/2);
N.X.So(M,C,new f_(0,0,1,1),Z)}function O(z){var Z=a(z);return{t:"Objc",v:N.X.N4({p:Z[0]*255,z:Z[1]*255,h:Z[2]*255})}}function a(z){var Z=z._col,W=z._type;
if(W=="HSLA"){var T=N.a9(Z[0],Z[1],Z[2]);return[T.p,T.z,T.h,Z[3]]}else if(W=="RGBA")return Z;else if(W=="CMYK"){var i=1-Z[3];
return[(1-Z[0])*i,(1-Z[1])*i,(1-Z[2])*i]}else{console.log(Z);throw W}}function e(z,Z,W){var T=z.Frmt,Y="";
if(T!=0&&T!=6)throw T;var i=z.BmpW,X=z.BmpH,U=T==0?4:1,M=Math.ceil(i/256),C=Math.ceil(X/256),x=new f_(0,0,M,C),L=new f_;
for(var $=0;$<U;$++){var E=new Uint8Array(z["Sta"+($+1)]),l=N.cP(E,x);L=L.wj(l)}var y=[];for(var $=0;
$<U;$++){var E=new Uint8Array(z["Sta"+($+1)]),F=N.$(L.Z());N.qg(E,x,F,L);y[$]=[];for(var w=0;w<F.length;
w++)y[$][w]=F[w];Y+=JSON.stringify(y[$])+","+JSON.stringify(z["Idx"+($+1)])+","}if(W[Y]==null){var j=L.e*256,_=L.n*256,D=new Array(U);
for(var $=0;$<U;$++){var E=D[$]=new Uint8Array(j*_);R(E,z["Idx"+($+1)],y[$],Z,j,_)}var t=N.$(j*_*4);
if(T==0)N.Ff({p:D[0],z:D[1],h:D[2],Uj:D[3]},t);else{t.fill(255);N.mH(D[0],t)}var K=new f_(0,0,j,_),d={buffer:t,rect:K};
N.uL(d);W[Y]=[d.rect,d.buffer]}var l=W[Y][2]=W[Y][0].clone();l.x+=L.x*256;l.y+=L.y*256;return W[Y]}function R(z,Z,W,T,i,X){var U=0,M=i>>>8,C=X>>>8;
for(var x=0;x<C;x++)for(var L=0;L<M;L++){var E=L*256,l=x*256,y=x*M+L,Y=l*i+E,F=W[y];if(F<=1)p(z,Y,0,i,256,256);
else if(F==2)p(z,Y,4294967295,i,256,256);else if(F==4){var w=Z[U];U++;var j=T[w.Data.DatI],_=w.Rect;
if(_==null)_=[0,0,256,256];p(z,Y,0,i,256,256);P(z,(l+_[1])*i+E+_[0],j,_[1]*256+_[0],i,256,_[2]-_[0],_[3]-_[1])}else console.log(F)}}function p(z,Z,W,T,i,X){var U=Z+T*X;
for(;Z<U;Z+=T){var M=Z+i;for(var C=Z;C<M;C++){z[C]=W}}}function P(z,Z,W,T,i,X,U,M){var C=Z+i*M,x=T+X*M;
for(;Z<C&&T<x;Z+=i,T+=X){for(var $=0;$<U;$++)z[Z+$]=W[T+$]}}return G}();function gp(){}gp.dm=function(G,m){var A=gp,Q=gk.parse(G),J=0;
if(Q.pages.length>1)console.log(Q.pages.length,"pages");var H=[],b=new f_;for(var O=0;O<Q.pages.length;
O++){var a=Q.pages[O],e=a.layers,R=A.Cf(e,O),P=!1;if(R.Z()>8e3*8e3||R.e>3e4||R.n>3e4){A.TZ(e,!0);var p=A.Cf(e,O);
if(p.Z()>=R.Z())A.TZ(e,!1)}R=A.Cf(e,O);for(var z=0;z<e.length;z++){var Z=e[z];if(A.CI(Z)=="artboard")P=!0}if(!P){console.log("no artboard");
var W={};for(var T in a)W[T]=a[T];W._class="group";a.layers=[W]}H.push(R.clone());if(R.My())continue;
R.x=0;R.y=J;J+=R.n+200;b=b.wj(R)}var i={};if(Q.foreignSymbols)for(var $=0;$<Q.foreignSymbols.length;
$++){var X=Q.foreignSymbols[$].symbolMaster;i[X.symbolID]={MI:X}}A.Nf(Q.pages,i,m);for(var U in i){var Z=i[U].MI,M=A.Uc(Z.layers)}var C=gp.zs(b,8192*8192);
m.sp=!0;m.e=Math.round(b.e/C);m.n=Math.round(b.n/C);m.buffer=N.$(m.e*m.n*4);m.on(Q.pages[0].layers.length);
m.vn={};m.NY=[];J=0;for(var O=0;O<Q.pages.length;O++){var x=Q.pages[O],R=H[O],L=new ci(C,0,0,C,R.x,R.y-J);
A.EI(x.layers,m,L,Q,i,{},[]);J+=R.n+200}delete m.vn;delete m.NY;if(C!=1)alert("File scaled down "+C+"x");
m.ajU()};gp.a01=0;gp.CI=function(G){return G._class?G._class:G.$class};gp.zs=function(G,m){var A=1;while(Math.round(G.e/A)*Math.round(G.n/A)>m||Math.max(Math.round(G.e/A),Math.round(G.n/A))>3e4)A++;
if(A!=1&&!window.confirm("Your image is quite large ("+G.e+" x "+G.n+" px).\n"+"Press OK to scale it down "+A+"x, or Cancel to keep the size."))A=1;
return A};gp.Cf=function(G,m){var A=[],Q=gp;for(var H=0;H<G.length;H++){var J=G[H],b=Q.EP(J.frame);if(m==0||Q.CI(J)=="artboard")A.push(b)}return N.rect.hk(A)};
gp.TZ=function(G,m){var A=[],Q=gp;for(var H=0;H<G.length;H++){var J=G[H],b=Q.EP(J.frame);b.e+=150;b.n+=150;
A.push(b)}var O=N.rect.hk(A);N.rect.a3Q(A,m);var a=N.rect.hk(A);if(a.Z()*1.5<O.Z()||O.e>3e4&&a.e<=3e4||O.n>3e4&&a.n<=3e4){alert("Re-arranging artboards");
for(var H=0;H<G.length;H++){var e=A[H],J=G[H],R=J.frame;R.x=e.x;R.y=e.y}}};gp.Nf=function(G,m,A){var Q=gp;
for(var H=0;H<G.length;H++){var J=G[H],b=Q.CI(J);if(["page","artboard","group"].indexOf(b)!=-1)Q.Nf(J.layers,m,A);
else if(b=="symbolMaster")m[J.symbolID]={MI:J}}};gp.Uc=function(G){var m=gp;for(var A=0;A<G.length;A++){var Q=G[A],H=m.CI(Q),J=null;
if(["page","artboard","group"].indexOf(H)!=-1)J=m.Uc(Q.layers);if(H=="symbolMaster"||H=="symbolInstance")J=Q;
if(J!=null)return J}return null};gp.EI=function(G,m,A,Q,H,J,b){var O=gp,a=[];for(var e=0;e<G.length;
e++){var R=G[e],p=R.frame?O.EP(R.frame):null,P=R.style,i="",L=null,E=!1;if(P==null){console.log("no styles")}var z=O.cn(R,A),Z=O.CI(R),W=Z=="shapeGroup"||Z=="shapePath"||Z=="rectangle"||Z=="oval"||Z=="triangle"||Z=="polygon",T=["page","artboard","group"].indexOf(Z)!=-1;
if(Z=="shapeGroup"){for(var $=0;$<R.layers.length;$++)if(O.CI(R.layers[$])=="shapeGroup")T=!0}var X=R.exportOptions;
if(X){var U=X.exportFormats;if(U==null)U=X.sizes;if(Z!="artboard"&&(U&&U.length!=0)){var M=U[0].scale}}var C=m.uA();
C.YQ(R.isVisible);var x=R.name;if(!(typeof x=="string"))x=Z;C.mw(i+x.slice(0,250));if(P!=null)L=O.a9w(Q,m,P,p,z,C.getName(),W||Z=="artboard"||T);
if(Z=="rectangle"&&P&&P.fills&&P.fills[0]){var l=P.fills[0];if(l.fillType==4&&l.patternFillType>1&&l.image!=null)E=!0}if(R.shouldBreakMaskChain){while(a.length!=0)O.IB(a.pop(),m)}if(T){C.add.lsct=R.layerListExpandedType==2?fM.UK:fM.mJ;
C.w4="pass";C.$G=24;C.YQ(R.isVisible);m.g.push(m.uF());if(Z=="artboard"){var y=p.clone(),Y=z.kF();y.x=-Math.floor(z.Zh/Y);
y.y=-Math.floor(z.bx/Y);y.e=Math.floor(y.e/Y);y.n=Math.floor(y.n/Y);C.I_(y);var F=R.backgroundColor,w=F?{p:255*F.red,z:255*F.green,h:255*F.blue}:{p:255,z:255,h:255};
C.add.artb.Clr={t:"Objc",v:N.X.N4(w)};C.add.artb.artboardBackgroundType={t:"long",v:4}}O.EI(R.layers,m,z,Q,H,J,b)}else if(W&&!E){C.add.vmsk=new c.Rl;
C.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));C.add.vstk.strokeEnabled.v=!1;C.add.vogk=[];var j=L!=null&&L.frameFXMulti.v.length==1,_=P?P.fills:null,D=P?O.yO(Q,_,p,z,C.getName(),m,O.RR(b,R.do_objectID+"_image")):[];
if(D.length==0){if(j)C.add.vstk.fillEnabled.v=!1;else C.add.iOpa=0;C.add.SoCo={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:0,z:0,h:0})}}}else{var t=D[0],K=null,d=null;
if(t.type=="SoFi"){K="SoCo";d=hK.WX}if(t.type=="GrFl"){K="GdFl";d=hK.ln}if(t.type=="patternFill"){K="PtFl";
d=hK.g2}if(K!=null){C.add[K]={classID:"null"};for(var $=0;$<d.length;$++){var o=d[$];C.add[K][o]=t.k.v[o]}var k=t.k.v.Opct.v.val;
if(j&&k==0)C.add.vstk.fillEnabled.v=!1;else C.add.iOpa=Math.round(255*k/100)}}C.$G|=16;C.add.vmsk.Y=O.M2(R.layers?R.layers:[R],R.layers?z:A,C.add.vogk);
var v=P?P.blur:null;if(v&&v.isEnabled&&v.type<=1)C.add.vmsk.JE=v.radius;if(C.add.vmsk.Y.length==2){console.log("shape with no content:",C.getName())}if(j){var u=L.frameFXMulti.v[0].v,B=C.add.vstk,S=P.borders[0];
L.frameFXMulti.v=[];en.a76(u,B);var I=P.borderOptions,q=P.miterLimit;if(I){var hw=I.dashPattern;B.strokeStyleLineCapType.v.strokeStyleLineCapType=hK.nh.tJ[I.lineCapStyle];
B.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hK.nh.join[I.lineJoinStyle];if(hw)B.strokeStyleLineDashSet.v=en.QQ(hw,1/u.Sz.v.val);
if(q!=null)B.strokeStyleMiterLimit.v=q}}C.hM(m)}else if(Z=="bitmap"||E){if(!E&&R.image==null)continue;
var fY=E?P.fills[0]:null,s=E?fY.image.bdata:R.image.bdata,hZ=m.Ak(s,C.getName(),0,0);hZ.$G=C.$G;C=hZ;
var v=P?P.blur:null,bG=P?P.colorControls:null;if(v||bG){C.add.SoLd.filterFX=bH.PG();m.Ci({id:C.add.SoLd.placed.v,rect:new f_,buffer:N.$(1),D:new c.Mz});
var _=C.add.SoLd.filterFX.v.filterFXList.v;if(v){var aY=bH.ib("GsnB",{});aY.v.enab.v=v.isEnabled;aY.v.Fltr.v.Rds.v.val=v.radius;
_.push(aY)}if(bG){var fj=bG.brightness,jg=bG.contrast,ae=bG.hue,iB=bG.saturation;if(ae!=0||iB!=1){var aY=bH.ib("hue2",{});
aY.v.enab.v=bG.isEnabled;bY.yS(aY.v.Fltr.v,0,[Math.round(ae*180/Math.PI),Math.round((iB-1)*100),0]);
_.push(aY)}if(fj!=0||jg!=1){var aY=bH.ib("brit",{});aY.v.enab.v=bG.isEnabled;jg=jg-1;if(jg>0)jg/=2;var eg=aY.v.Fltr.v;
eg.Brgh.v=Math.round(fj*255);eg.Cntr.v=Math.round(jg*255);eg.useLegacy.v=!0;_.push(aY)}}}if(E){var dM=fY.patternFillType;
if(dM==3){var fK=C.rect.e/C.rect.n,aQ=p.e/p.n;if(fK<aQ){z.translate(-(p.e*(1-fK/aQ))/2,0);z.scale(aQ/fK,1)}else{z.translate(0,-(p.n*(1-aQ/fK))/2);
z.scale(1,fK/aQ)}}}p.x=p.y=0;var cQ=N.H.Zt(p).s;z.G3();N.H.A(cQ,z,cQ);C.add.SoLd.Trnf=f.Q.J_(cQ);C.add.SoLd.nonAffineTransform=f.Q.J_(cQ);
C.wH(m,!1)}else if(Z=="text"){if(R.attributedString==null)continue;var a7=z.clone(),gz,bQ,bT=0;a7.G3();
a7.Uj=a7.nd=Math.min(a7.Uj,a7.nd);C.add.lnsr="rend";C.add.TySh=fC.lw(0,0);C.add.TySh.sC=new f_(0,0,p.e,p.n);
C.add.TySh.A=a7;var d4=R.attributedString;if(d4.archivedAttributedString)d4=d4.archivedAttributedString;
var j2=d4.NSString;if(j2==null)j2=d4.string;if(j2==null)j2="";if(j2["NS.string"])j2=j2["NS.string"];
if(J[R.do_objectID]!=null)j2=J[R.do_objectID];var j7=O.RR(b,R.do_objectID+"_stringValue");if(j7)j2=j7.value;
if(d4.attributes!=null){gz=[];bQ=[];var fG=d4.attributes;for(var $=0;$<fG.length;$++){gz.push(fG[$].length,$);
bQ.push(fG[$].attributes)}}else if(d4.NSAttributeInfo==null){gz=[j2.length,0];bQ=[d4.NSAttributes]}else{gz=d4.NSAttributeInfo["NS.data"];
bQ=d4.NSAttributes;gz=gp.aa1(gz,bQ)}for(var $=0;$<gz.length;$+=2)bT+=gz[$];if(bT!=j2.length){while(bT>j2.length){gz[gz.length-2]--;
bT--;if(gz[gz.length-2]==0){gz.pop();gz.pop()}}gz[gz.length-2]+=j2.length-bT}j2=j2.replace(/\u2028/g,"\n");
j2=j2.replace(/\u2029/g,"\n");j2=j2.replace(/\r/g,"\n");var je=C.add.TySh.DQ;fC.OA(je,0,j2);if(j2!=""){var ba=R.textBehaviour,j6=P.textStyle,cl=j6?j6.verticalAlignment:0,js=O.a2_(je,gz,bQ,j2),Y=a7.kF(),fR=fC.ui(je,0,1),dm=0;
if(fR.In.Font){var iW=fR.sa[fR.In.Font].Name;if(iW=="FontAwesome"||iW=="Ionicons")js*=.87}var fx=fR.In.AutoLeading?0:fR.In.Leading*.6,fq=Math.max(js,fx)*Y,h2=p.e,jj=p.n;
if(ba==0){fC.hR(je,0);var iM=fC.VK(fR.DF);if(iM==1)dm=h2*Y;if(iM==2)dm=h2*Y*.5;if(cl==0)fq*=1;else fq*=.9}else{fC.hR(je,1);
fC.vL(je,[0,0,Math.round(h2),Math.round(jj)]);if(ba==2&&cl==0)fq=fq*.2;else if(ba==2&&cl==1){fq=Y*.5*(jj-fR.In.FontSize)}else if(ba==1&&cl==0)fq=fq*.2;
else fq=fq*.35}C.add.TySh.A.translate(dm,fq)}}else if(Z=="symbolInstance"||Z=="symbolMaster"){var aC=R.symbolID;
if(J[R.do_objectID])aC=J[R.do_objectID].symbolID;var aB=O.RR(b,R.do_objectID+"_symbolID");if(aB)aC=aB.value;
if(aC=="")continue;var ep={};for(var o in J)ep[o]=J[o];if(R.overrides)for(var o in R.overrides)ep[o]=R.overrides[o];
var h6=b.slice(0);if(R.overrideValues)h6=h6.concat(R.overrideValues);var dJ=H[aC];if(dJ==null){console.log("Unknown master master",R.symbolID);
continue}var gs=gp.EP(dJ.MI.frame),ej=gs.e/p.e,eH=gs.n/p.n,hT=z.clone();hT.scale(ej,eH);C.add.lsct=fM.mJ;
C.w4="pass";C.$G=24;C.YQ(R.isVisible);m.g.push(m.uF());var dO=dJ.MI;if(m.NY.indexOf(dO)==-1){m.NY.push(dO);
O.EI(dO.layers,m,hT,Q,H,ep,h6);m.NY.pop()}}else if(Z=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+Z,R);continue}if(P&&P.contextSettings){var fE=P.contextSettings,hD=fE.blendMode;
if(hD<O.Ek.length){C.w4=ib.Vh[ib.uY.indexOf(O.Ek[hD])];if(T&&C.w4=="norm")C.w4="pass"}C.opacity=Math.round(C.opacity*fE.opacity)}if(L!=null){C.add.lmfx=L}m.g.push(C);
if(R.hasClippingMask&&G.length>1){a.push(C);m.g.push(m.uF())}}while(a.length!=0)O.IB(a.pop(),m)};gp.RR=function(G,m){for(var $=0;
$<G.length;$++)if(G[$].overrideName.startsWith(m))return G[$]};gp.aa1=function(G,m){var A=0,Q=[];while(A+1<G.length){var H=G[A];
A++;if(H>127){H+=128*(G[A]-1);A++;if(G[A-1]>127){H+=128*(G[A]-1);A++}}var J=G[A];A++;Q.push(H,J)}return Q};
gp.a2_=function(G,m,A,Q){var H=gp,J=0,R=0,p=0;for(var $=0;$<Q.length;$++){var b=Q.charCodeAt($),O=1473<=b&&b<=1479||1488<=b&&b<=1514||1520<=b&&b<=1524,a=1569<=b&&b<=1594||1600<=b&&b<=1749;
if(O||a)J++}var e=J>Q.length/2;for(var $=0;$<m.length;$+=2){var P=m[$],x=14,L="DejaVuSans";if(P==0)continue;
var z=m[$+1],Z=A[z],W=fC.ui(G,R,R+P-1),T=Z.NSColor;if(T==null){var T=Z.MSAttributedStringColorDictionaryAttribute;
if(T==null)T=Z.MSAttributedStringColorAttribute;if(T==null)T="0 0 0";else T=[T.red,T.green,T.blue].join(" ")}else if(H.CI(T)=="MSArchivedColor")T=T.dr+" "+T.dg+" "+T.db;
else if(T.NSRGB){T=T.NSRGB;T=V.uB(T,0,T.length-1)}else if(T.NSCMYK){T=T.NSCMYK;T=V.uB(T,0,T.length-1);
T=T.split(" ").map(parseFloat);var X=1-T[0],U=1-T[1],M=1-T[2],C=1-T[3];T=X*C+" "+U*C+" "+M*C}else if(T.NSWhite){T="1 1 1"}T=T.split(" ");
W.In.FillColor={Type:1,Values:[1,parseFloat(T[0]),parseFloat(T[1]),parseFloat(T[2])]};var E=Z.MSAttributedStringFontAttribute;
if(Z.NSFont){x=Z.NSFont.NSSize;L=Z.NSFont.NSName}else if(E){if(E.attributes){E=E.attributes;x=E.size;
L=E.name}else{var l=E.NSFontDescriptorAttributes;if(l==null)l=E.UIFontDescriptorAttributes;E=l;x=E.NSFontSizeAttribute;
L=E.NSFontNameAttribute}if(L==null)L="DejaVuSans"}var p=Math.max(p,x);W.In.FontSize=Math.round(x);fC.fT(W,L);
var y=Z.NSKern;if(y==null)y=Z.kerning;if(y!=null)W.In.Tracking=Math.round(1e3*y/x);if(Z.NSUnderline!=null)W.In.Underline=Z.NSUnderline>0;
var Y=Z.NSStrikethrough;if(Y==null)Y=Z.strikethroughStyle;if(Y!=null)W.In.Strikethrough=Y>0;if(Z.MSAttributedStringTextTransformAttribute==1)W.In.FontCaps=2;
var F=Z.NSParagraphStyle;if(F==null)F=Z.paragraphStyle;if(F){var w=F.paragraphSpacing;if(w!=null){W.DF.SpaceAfter=w}var j=F.NSAlignment;
if(j==null)j=F.alignment;if(j!=null){var _=0;if(!1){}else if(j==1)_=1;else if(j==2)_=2;else if(j==4)_=0;
else{_=j;console.log("unknown align",j)}if(e&&_<2)_=1-_;W.DF.Justification=_}var D=F.NSMinLineHeight;
if(D==null)D=F.minimumLineHeight;if(D!=null){W.In.AutoLeading=!1;W.In.Leading=D}}W.DF._Direction=e?1:0;
fC.QT(G,R,R+P,W);R+=P}return p};gp.a9w=function(G,m,A,Q,H,J,b){var O=gp,a=JSON.parse(hK.default),e=!1;
for(var $=0;$<hK.order.length;$++)a[hK.HK[$]]={t:"VlLs",v:[]};var R=A.fills,p=O.yO(G,R,Q,H,J,m);for(var P=0;
P<2;P++){var z=A[["shadows","innerShadows"][P]];if(z==null)continue;var Z=["DrSh","IrSh"][P],W=hK.HK[hK.order.indexOf(Z)];
for(var $=0;$<z.length;$++){var T=z[$];if(!T.isEnabled)continue;if(T.contextSettings.opacity==0||T.color.alpha==0)continue;
var i=JSON.parse(hK.in[hK.order.indexOf(Z)]);a[W].v.unshift({t:"Objc",v:i});e=!0;i.Clr.v=O.FI(T.color);
i.blur.v.val=Math.round(T.blurRadius/H.kF());var X=H.clone();X.Zh=X.bx=0;X.G3();var U=X.Yw(new dw(T.offsetX,T.offsetY)),M=Math.sqrt(U.x*U.x+U.y*U.y);
i.Dstn.v.val=Math.round(M);i.lagl.v.val=Math.round(Math.atan2(U.y,-U.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=p.length!=0;
O.Rk(T,i)}}var C=A.borders;if(C!=null&&(p.length==0||A.blur==null||!A.blur.isEnabled))for(var $=0;$<C.length;
$++){var x=C[$];if(!x.isEnabled)continue;var i=JSON.parse(hK.in[hK.order.indexOf("FrFX")]),W=hK.HK[hK.order.indexOf("FrFX")];
a[W].v.unshift({t:"Objc",v:i});e=!0;i.Clr.v=O.FI(x.color);if(x.fillType!=0&&x.gradient){var L=O.ur(x.gradient,Q,H,J),E=["Type","Angl","Ofst","Scl"];
for(var $=0;$<E.length;$++)i[E[$]]=L[E[$]];i.Grad.v=L.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=x.thickness/H.kF();
i.Styl.v.FStl=["CtrF","InsF","OutF"][x.position];O.Rk(x,i)}for(var $=b?1:0;$<p.length;$++){var l=p[$],W=hK.HK[hK.order.indexOf(l.type)];
a[W].v.unshift(l.k);e=!0}return e?a:null};gp.yO=function(G,m,A,Q,H,J,b){if(m==null)return[];var O=gp,a=[];
for(var $=0;$<m.length;$++)if(m[$].isEnabled)a.push(m[$]);m=a;var e=[];for(var $=0;$<m.length;$++){var R=m[$],p=null,P=null;
if(R.fillType==0){p="SoFi";var z=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);P={t:"Objc",v:z};P.v.Clr.v=O.FI(R.color)}else if(R.fillType==1){p="GrFl";
P={t:"Objc",v:O.ur(R.gradient,A,Q,H)}}else if(R.fillType==4&&R.image!=null){var Z=R.image;if(b)Z=b.value;
var W=dt.mG(Z.bdata.buffer);if(W!=null&&W!="pdf"&&W!="eps"){var T,x=0,L=0,E=0;if(J.vn[Z.key])T=J.vn[Z.key];
else{var i=dt.aW(W).uJ(Z.bdata)[0],X=i.NS.clone();T={};T.id=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";
T.g3=[new Uint8Array(i.data),X];J._s(T);J.vn[Z.key]=T}var U=T.g3[1],z=JSON.parse(hK.in[hK.order.indexOf("patternFill")]);
p="patternFill";P={t:"Objc",v:z};var M=R.patternFillType,C=R.patternTileScale;z.Algn.v=!0;z.Ptrn.v.Idnt.v=T.id;
if(M==0){x=C*U.e/Math.min(U.e,U.n);L=-Q.Zh;E=-Q.bx}else{x=Math.max(A.e/U.e,A.n/U.n);L=-Q.Zh-(U.e*x-A.e)/2;
E=-Q.bx-(U.n*x-A.n)/2}z.Scl.v.val=100*x*(1/Q.kF());z.phase.v.Hrzn.v=Math.round(L/Q.kF());z.phase.v.Vrtc.v=Math.round(E/Q.kF())}}else if(R.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",R.fillType);
if(p!=null){O.Rk(R,P.v);e.push({type:p,k:P})}}return e};gp.aii=function(G){var m=gp,A=new f_(0,0,1,1);
G=G.slice(0);while(!0){var Q=!1;for(var $=0;$<G.length-1;$++){var H=G[$],J=G[$+1],b=null,O=H.contextSettings;
if(H.fillType==0&&(O==null||O.opacity==1&&O.blendMode==0)&&H.color.alpha==1){var a="norm",e=1,O=J.contextSettings;
if(O){e=O.opacity;a=ib.Bn(m.Ek[O.blendMode])}if(J.fillType==0){b=JSON.parse(JSON.stringify(J));m.Yv(b.color,H.color,b.color,A,a,e)}if(J.fillType==1){b=JSON.parse(JSON.stringify(J));
var R=b.gradient.stops;for(var p=0;p<R.length;p++)m.Yv(R[p].color,H.color,R[p].color,A,a,e)}if(b!=null&&b.contextSettings){var O=b.contextSettings;
O.opacity=1;O.blendMode=0}}if(b!=null){G.splice($,0,b);Q=!0;break}}if(!Q||G.length<2)break}return G};
gp.Yv=function(G,m,A,Q,H,J){var b=gp,O=N.$(4);b.Mt(G,O);var a=N.$(4);b.Mt(m,a);N.a.zc(H,O,Q,a,Q,Q,J);
b.a3P(a,A)};gp.Mt=function(G,m){m[0]=255*G.red;m[1]=255*G.green;m[2]=255*G.blue;m[3]=255*G.alpha};gp.a3P=function(G,m){m.red=G[0]/255;
m.green=G[1]/255;m.blue=G[2]/255;m.alpha=G[3]/255};gp.IB=function(G,m){G=G.clone();G.$G=24;G.mw("Mask by "+G.getName());
m.g.push(G);G.add.lsct=fM.UK;G.add.lyid=m.Ti();delete G.add.lmfx;delete G.add.SoCo;delete G.add.GdFl;
delete G.add.PtFl;delete G.add.iOpa;if(G.add.vmsk)G.add.vmsk.k9=!0;G.hM(m);if((G.$G&16)==16)G.$G-=16;
if((G.$G&2)==2)G.$G-=2;G.w4="pass";G.opacity=255};gp.Ek="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
gp.ur=function(G,m,A,Q){A=A.clone();A.G3();A.Zh=A.bx=0;var H=A.kF(),P=0,z=0;A.scale(1/H,1/H);var J=gp,b=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),O=b.Grad.v;
O.Intr.v=0;if(G==null)return b;var a=G.gradientType,e=J.E7(G.from),R=J.E7(G.to);e.offset(-.5,-.5);R.offset(-.5,-.5);
e=A.Yw(e);R=A.Yw(R);var p=Math.atan2(-(R.y-e.y),R.x-e.x);b.Type.v.GrdT=["Lnr","Rdl","Angl"][a];b.Scl.v.val=100*dw.SH(e,R);
if(a==0){b.Angl.v.val=180/Math.PI*p;b.Scl.v.val=100*dw.SH(e,R);P=(e.x+R.x)/2;z=(e.y+R.y)/2}if(a==1){b.Scl.v.val=200*dw.SH(e,R);
P=e.x;z=e.y}if(a==2){b.Angl.v.val=180/Math.PI*(p-Math.PI/2)}var Z=b.Ofst.v;Z.Hrzn.v.val=P*100;Z.Vrtc.v.val=z*100;
var W=[];for(var $=0;$<G.stops.length;$++){var T=G.stops[$],i=T.color;W.push([T.position,i?[i.red,i.green,i.blue]:[0,0,0],i.alpha])}N.X.sw(W,O);
return b};gp.Rk=function(G,m){var A=gp,Q=1,H=G.contextSettings;if(H!=null){m.Md.v.BlnM=A.Ek[H.blendMode];
Q*=H.opacity}else m.Md.v.BlnM=A.Ek[0];m.enab.v=G.isEnabled;if(m.uglg!=null)m.uglg.v=!1;if(G.color!=null)Q*=G.color.alpha;
m.Opct.v.val=Math.round(Q*100)};gp.FI=function(G){return N.X.N4(G?{p:G.red*255,z:G.green*255,h:G.blue*255}:{p:0,z:0,h:0})};
gp.M2=function(G,m,A){var Q=gp,H=[{type:6},{type:8,all:0}];for(var J=0;J<G.length;J++){var b=G[J],O=b.booleanOperation,a=0,e=b._class,W=!1;
if(e=="group"||e=="text"||e=="symbolInstance"||e=="slice"){console.log(e+" inside ShapeGroup");continue}if(O==-1)a=0;
else if(O==0)a=1;else if(O==1)a=2;else if(O==2)a=3;else if(O==3)a=0;if(J==0)a=1;var R=gp.EP(b.frame),p=Q.cn(b,m),P=b.path?b.path:b,z=[{type:0,length:0,_t:a,Jk:2,Yh:0,Xl:0}],Z=P.points;
for(var $=0;$<Z.length;$++){var T=Z[$],i=Q.E7(T.curveTo),X=Q.E7(T.point),U=Q.E7(T.curveFrom);W=W||T.hasCurveFrom&&!U.A5(X)||T.hasCurveTo&&!i.A5(X)}var M=[];
if(!W){var C=[],jw=Z.length;if(jw==0)continue;for(var $=0;$<jw;$++){M[$]=Z[$].cornerRadius;var T=Q.E7(Z[$].point);
C.push(T.x,T.y)}p.scale(1/R.e,1/R.n);p.G3();N.H.A(C,p,C);z=N.U.Y0.U6(C,M).slice(2);z[0]._t=a}else{var x=Z.length;
z[0].length=x;for(var $=0;$<x;$++){var T=Z[$],L=T.curveMode,E=Q.E7(T.point);z[1+$]={type:L==2||L==4?1:2,ed:T.hasCurveTo?Q.E7(T.curveTo):E.clone(),M:E,Gd:T.hasCurveFrom?Q.E7(T.curveFrom):E.clone()}}p.scale(1/R.e,1/R.n);
p.G3();N.U.T6(z,p);var M=[];for(var $=0;$<x;$++){var T=Z[$],L=T.curveMode,l=T.cornerRadius;if(L==1&&l!=0)M.push(l);
else M.push(0)}}if(!P.isClosed)for(var $=0;$<z.length;$++)z[$].type+=3;H=H.concat(z);var y=N.Nv.Pn(),Y=Q.CI(b);
if(p.h==0&&p.Qv==0){var F=p.Zh,w=p.bx,j=F+p.Uj,_=w+p.nd,D=[F,w,j,_];if(Y=="rectangle"&&M.length==4)y=N.Nv.FG(2,D,M);
if(Y=="oval")y=N.Nv.FG(5,D)}A.push(y)}return H};gp.cn=function(G,m){var A=m.clone(),Q=G.frame?gp.EP(G.frame):null;
if(Q)A.translate(-Q.x-Q.e/2,-Q.y-Q.n/2);if(G.isFlippedHorizontal)A.scale(-1,1);if(G.isFlippedVertical)A.scale(1,-1);
A.rotate(-G.rotation*(Math.PI/180));if(Q)A.translate(Q.e/2,Q.n/2);return A};gp.E7=function(G){G=G.slice(1,G.length-1).split(",");
return new dw(parseFloat(G[0]),parseFloat(G[1]))};gp.EP=function(G){return new f_(G.x,G.y,G.width,G.height)};
gp.xg=function(G){return{_class:"rect",constrainProportions:!1,x:G.x,y:G.y,width:G.e,height:G.n}};function am(){}am.dm=function(G,m){var A=Date.now(),Q=am,H=UZIP.parse(G),J=JSON.parse(V.Io(H.manifest)),b=JSON.parse(V.Io(H["resources/graphics/graphicContent.agc"])).resources,O=[],a=[],e=J.children;
for(var $=0;$<e.length;$++){var R=e[$];if(R.name=="artwork"){var p=R.children;for(var P=0;P<p.length;
P++){var z=p[P],Z=JSON.parse(V.Io(H["artwork/"+z.path+"/graphics/graphicContent.agc"])),W=Z.children;
if(W.length==0){}else if(W.length==1){if(z["uxdesign#bounds"]){z._node=W[0];O.push(z)}}else{var T=W[0],i=T.transform,X=T.shape;
if(X==null)X={x:0,y:0,width:1e3,height:1e3};X=JSON.parse(JSON.stringify(X));X.x+=i.tx;X.y+=i.ty;z["uxdesign#bounds"]=X;
z._node={type:"artboard",artboard:{children:W}};a.push(z)}}}}if(O.length==0)O=a;var U=[],M=new f_;for(var $=0;
$<O.length;$++){var z=O[$],C=gp.EP(z["uxdesign#bounds"]);U.push(C);M=M.wj(C)}var x=gp.zs(M,8192*8192);
m.sp=!0;m.e=Math.round(M.e/x);m.n=Math.round(M.n/x);m.buffer=N.$(m.e*m.n*4);m.on(O.length);var L=new ci(x,0,0,x,M.x,M.y);
m.vn={};for(var $=0;$<O.length;$++){var z=O[$],C=gp.EP(z["uxdesign#bounds"]),E=z._node,l=L.clone(),y=C.clone(),Y=l.kF();
l.translate(-C.x,-C.y);y.x=-Math.floor(l.Zh/Y);y.y=-Math.floor(l.bx/Y);y.e=Math.floor(y.e/Y);y.n=Math.floor(y.n/Y);
l.translate(C.x,C.y);am.BU(E,m,l,b,H,y);var F=m.g[m.g.length-1];F.mw(z.name);F.I_(y);if($!=O.length-1)F.add.lsct=fM.mJ}delete m.vn};
am.C6=function(G){if(G==null)return new ci;return new ci(G.a,G.b,G.c,G.d,G.tx,G.ty)};am.BU=function(G,m,A,Q,H,J){var b=am,O=G.type,a=G[O],e=G.style,R=b.C6(G.transform),Z,W="none",T,i="none",X,U;
R.G3();var p=A.clone();p.concat(R);var P=m.uA(),z=G.name;P.mw(z?z.slice(0,250):"Layer");if(G.visible!=null)P.YQ(G.visible);
if(e){Z=e.stroke;W=Z?Z.type:"none";T=e.fill;i=T?T.type:"none";X=e.filters;U=e.clipPath;if(U&&Q.clipPaths[U.ref])U=Q.clipPaths[U.ref].children;
else U=null;if(e.opacity)P.opacity=Math.round(255*e.opacity);if(i=="solid"&&T.color.alpha)P.opacity=Math.round(P.opacity*T.color.alpha);
if(X){P.add.lmfx=b.aiy(X);for(var $=0;$<X.length;$++)if(X[$].type=="uxdesign#blur"){var M=X[$],C=M.params,x=C.brightnessAmount;
if(x==null)x=0;x=Math.abs(x/100);if((M.visible==null||M.visible==!0)&&C.backgroundEffect)P.opacity=Math.round(P.opacity*(x+(1-x)*C.fillOpacity))}}if(i=="pattern"&&T.pattern.meta.ux.uid=="")i="none"}if(U==null&&G.meta&&G.meta.ux&&G.meta.ux.clipPathResources)U=G.meta.ux.clipPathResources.children;
if(O=="artboard"||O=="group"){if(U){var L=U[0],E=L.shape,l=E!=null&&E.type=="rect"&&E.width*E.height>1e6;
if(L.type!="text"&&!l){if(E){var R=b.C6(L.transform);R.G3();var y=p.clone();y.concat(R);P.add.vmsk=new c.Rl;
P.add.vmsk.Y=b.M2(E);y=y.clone();y.G3();N.U.T6(P.add.vmsk.Y,y);P.hM(m)}}else if(!l)alert("Clipping by text has been ignored")}P.add.lsct=fM.UK;
P.w4="pass";P.$G=24;if(G.visible!=null)P.YQ(G.visible);m.g.push(m.uF());var Y=a.children,F=T;if(F)F=F.color;
if(F)F=F.value;if(T){if(O=="artboard"&&i=="solid"){P.I_(new f_(0,0,10,10));P.add.artb.Clr={t:"Objc",v:N.X.N4({p:F.r,z:F.g,h:F.b})};
P.add.artb.artboardBackgroundType={t:"long",v:4}}else{var w=m.uA();w.mw("BACKGROUND");w.$G|=16;w.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));
w.add.vmsk=new c.Rl;w.add.vmsk.Y=b.M2({type:"rect",x:J.x,y:J.y,width:J.e,height:J.n});b.RC(T,i,p,J,J,w,m,Q,H);
w.hM(m);m.g.push(w)}}for(var $=0;$<Y.length;$++){am.BU(Y[$],m,p,Q,H,J)}}else if(O=="shape"&&G.shape.type=="rect"&&(G.shape.r==null||G.shape.r==0)&&i=="pattern"&&Math.abs(G.shape.width/G.shape.height-T.pattern.width/T.pattern.height)<.01){var j=T.pattern,_=j.meta.ux,D=_.uid,t=H["resources/"+D];
if(t==null){console.log(j);return}var K=m.Ak(t,P.getName(),0,0);K.$G=P.$G;K.opacity=P.opacity;P=K;var d=N.H.Zt(new f_(0,0,j.width,j.height)).s,o=new ci;
o.scale(j.width/G.shape.width,j.height/G.shape.height);if(_.offsetX)o.translate(-_.offsetX*j.width,0);
if(_.offsetY)o.translate(0,-_.offsetY*j.height);p.concat(o);p.G3();N.H.A(d,p,d);P.add.SoLd.Trnf=f.Q.J_(d);
P.add.SoLd.nonAffineTransform=f.Q.J_(d);P.wH(m,!1)}else if(O=="shape"){P.$G|=16;P.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));
P.add.vmsk=new c.Rl;P.add.vmsk.Y=b.M2(a);var k=N.U.jX(P.add.vmsk.Y,null),y=p.clone();y.G3();N.U.T6(P.add.vmsk.Y,y);
var v=N.U.jX(P.add.vmsk.Y,null);if(W=="none"){}else{var u=Z.color.value,B,S;B="SoFi";var I=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);
S={t:"Objc",v:I};S.v.Clr.v=N.X.N4({p:u.r,z:u.g,h:u.b});var q=Z.align,hw=Z.cap;if(q==null)q="center";
var fY=P.add.vstk;fY.strokeEnabled.v=!0;fY.strokeStyleLineWidth.v.val=Z.width;if(q)fY.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hK.nh.rr[["inside","center","outside"].indexOf(q)];
if(hw)fY.strokeStyleLineCapType.v.strokeStyleLineCapType=hK.nh.tJ[["butt","round","square"].indexOf(hw)];
var s=["SoFi","GrFl","patternFill"].indexOf(B),hZ=[hK.WX,hK.ln,hK.g2][s];fY.strokeStyleContent.v={classID:hK.nh.Tn[0]};
var bG=fY.strokeStyleContent.v={classID:hK.nh.Tn[s]};for(var $=0;$<hZ.length;$++)bG[hZ[$]]=S.v[hZ[$]]}if(X)for(var $=0;
$<X.length;$++)if(X[$].type=="uxdesign#blur"&&X[$].visible){var aY=X[$];P.add.vmsk.JE=aY.params.blurAmount}b.RC(T,i,p,k,v,P,m,Q,H);
P.hM(m)}else if(O=="text"&&G.text){var fj=G.text,jg=fj.frame,ae=e.font,iB=e.textAttributes,R=p.clone(),a7=0;
R.G3();P.add.lnsr="rend";P.add.TySh=fC.lw(0,0);P.add.TySh.sC=new f_(0,0,100,100);P.add.TySh.A=R;var eg=P.add.TySh.DQ,dM=fj.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
fC.OA(eg,0,dM);if(dM!=""){var fK=fC.ui(eg,0,1),aQ=ae.postscriptName;if(aQ==null)aQ=ae.family;fC.fT(fK,aQ);
fK.In.FontSize=Math.round(ae.size);if(T){var u=T.color.value;fK.In.FillColor={Type:1,Values:[1,u.r/255,u.g/255,u.b/255]}}if(iB){if(iB.paragraphAlign)fK.DF.Justification=["left","right","center"].indexOf(iB.paragraphAlign);
if(iB.letterSpacing)fK.In.Tracking=Math.round(iB.letterSpacing);if(iB.lineHeight){fK.In.AutoLeading=!1;
fK.In.Leading=Math.round(iB.lineHeight)}}fC.QT(eg,0,dM.length,fK)}var cQ=G.meta.ux.rangedStyles;if(cQ)for(var $=0;
$<cQ.length;$++){var a=cQ[$],gz=Math.min(a.length,dM.length-a7),fK=fC.ui(eg,a7,a7+gz),aQ=a.postscriptName;
if(aQ==null)aQ=a.family;if(aQ!=null)fC.fT(fK,aQ);var bQ=a.textScript,d4=a.underline,j2=a.fontSize,M=a.fill,j7=a.textTransform;
if(bQ&&bQ!="none")fK.In.FontBaseline=bQ=="superscript"?1:2;if(d4!=null)fK.In.Underline=d4;if(j2!=null)fK.In.FontSize=Math.round(j2);
if(j7!=null)fK.In.FontCaps=j7=="uppercase"?2:0;if(M!=null){var fG=M.value;fK.In.FillColor={Type:1,Values:[1,(fG>>>16&255)/255,(fG>>>8&255)/255,(fG>>>0&255)/255]}}fC.QT(eg,a7,a7+gz,fK);
a7+=gz}if(jg.type=="area"||jg.type=="autoHeight"){var bT=jg.width,je=jg.height;fC.hR(eg,1);fC.vL(eg,[0,0,bT,je!=null?je:bT*2])}}else console.log(O,G);
m.g.push(P)};am.M2=function(G){var m=G.type,A=[{type:6},{type:8,all:0}];if(m=="rect"){var Q=G.r,H=G.x,J=G.y,b=G.width,O=G.height;
A=N.U.Y0.Rect(H,J,b,O,Q?Q:0)}else if(m=="circle"){var Q=G.r;A=N.U.Y0.dd(G.cx-Q,G.cy-Q,2*Q,2*Q)}else if(m=="ellipse"){var a=G.rx,e=G.ry;
A=N.U.Y0.dd(G.cx-a,G.cy-e,2*a,2*e)}else if(m=="path"||m=="compound"){var R=Typr.U.SVGToPath(G.path);
A=N.H.ev({C:R.cmds,s:R.crds},!1)}else if(m=="line"){var p=G.x1,P=G.x2,z=G.y1,Z=G.y2;A=N.U.Y0.U6([p,z,P,Z],0,!0)}else if(m=="polygon"){var W=G.points,T=[];
for(var $=0;$<W.length;$++)T.push(W[$].x,W[$].y);A=A.concat(N.U.Y0.U6(T,0,!1).slice(2))}else console.log(m,G);
return A};am.aiy=function(G){var m=JSON.parse(hK.default);for(var $=0;$<hK.order.length;$++)m[hK.HK[$]]={t:"VlLs",v:[]};
for(var $=0;$<G.length;$++){var A=G[$],Q=A.type,H=A.params,J=A.visible;if(Q=="dropShadow"){var b=hK.HK[hK.order.indexOf("DrSh")],O=JSON.parse(hK.in[hK.order.indexOf("DrSh")]);
m[b].v.unshift({t:"Objc",v:O});var a=H.dropShadows;if(a.length!=1)throw"e";var e=a[$],R=e.color,p=R.value,P=e.dx,z=e.dy;
O.Clr.v=N.X.N4({p:p.r,z:p.g,h:p.b});O.Opct.v.val=Math.round((R.alpha!=null?R.alpha:1)*100);O.uglg.v=!1;
O.enab.v=J!=null?J:!0;O.lagl.v.val=Math.round(180/Math.PI*Math.atan2(z,-P));O.Dstn.v.val=Math.round(Math.sqrt(P*P+z*z));
O.blur.v.val=Math.round(e.r*2.3)}}return m};am.RC=function(G,m,A,Q,H,J,b,O,a){var e=am;if(m=="none"){J.add.vstk.fillEnabled.v=!1;
J.add.SoCo={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:0,z:0,h:0})}}}else{var R,p,P;if(m=="solid"){var z=G.color.value;
R="SoCo";p=hK.WX;var Z=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);P={t:"Objc",v:Z};P.v.Clr.v=N.X.N4({p:z.r,z:z.g,h:z.b})}else if(m=="gradient"){R="GdFl";
p=hK.ln;var Z=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),W=Z.Grad.v,M,C,x;W.Intr.v=0;var T=G[m],i=T.ref?O.gradients[T.ref]:T.meta.ux.gradientResources,X=["linear","radial"].indexOf(i.type),U=i.stops;
Z.Type.v.GrdT=["Lnr","Rdl","Angl"][X];if(X==0){var M=new dw(T.x1,T.y1),C=new dw(T.x2,T.y2);M.x=C.x+.5*(M.x-C.x);
M.y=C.y+.5*(M.y-C.y)}else{var M=new dw(T.cx,T.cy),C=new dw(T.cx+T.r,T.cy)}x=H;if(T.units=="objectBoundingBox"){var L=new ci(Q.e,0,0,Q.n,Q.x,Q.y);
M=L.Yw(M);C=L.Yw(C)}var L=e.C6(T.transform);M=L.Yw(M);C=L.Yw(C);L=A.clone();L.G3();M=L.Yw(M);C=L.Yw(C);
N.X.So(M,C,x,Z);var E=[];for(var $=0;$<U.length;$++){var l=U[$],y=l.color,z=y.value,Y=y.alpha;if(Y==null)Y=1;
E.push([l.offset,[z.r/255,z.g/255,z.b/255],Y])}N.X.sw(E,W);P={t:"Objc",v:Z}}else if(m=="pattern"){R="PtFl";
p=hK.g2;var Z=JSON.parse(hK.in[hK.order.indexOf("patternFill")]),t,u=1,B=0,S=0,I=1;P={t:"Objc",v:Z};
var F=G[m],w=F.meta.ux,j=w.uid,_=a["resources/"+j].buffer,D=dt.mG(_);if(b.vn[j])t=b.vn[j];else{var K=new f_(0,0,F.width,F.height),d;
if(K.My()||D==null){K=new f_(0,0,1,1);d=new ArrayBuffer(4)}else{var o=dt.aW(D);if(o.cQ){var k=new fy;
o.uJ(_,k);d=k.$s().buffer}else{var v=o.uJ(_)[0];d=v.data;K=v.NS}}t={};t.id=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f";
t.name="someImage";t.g3=[new Uint8Array(d),K];b._s(t);b.vn[j]=t}var K=t.g3[1];Z.Algn.v=!0;Z.Ptrn.v.Idnt.v=t.id;
if(w.scaleBehavior=="cover"){u=I*Math.max(H.e/K.e,H.n/K.n);var q=u;if(w.scale!=null)u*=w.scale;B=H.x-(K.e*u-H.e)/2;
S=H.y-(K.n*u-H.n)/2;if(w.offsetX!=null)B+=w.offsetX*K.e*q;if(w.offsetY!=null)S+=w.offsetY*K.n*q}else if(w.scaleBehavior=="fill"){u=I*Math.min(H.e,H.n)/Math.max(K.e,K.n);
B=H.x-(K.e*u-H.e)/2;S=H.y-(K.n*u-H.n)/2}else throw"Unknown scale behaviour";Z.Scl.v.val=100*u;Z.phase.v.Hrzn.v=Math.round(B);
Z.phase.v.Vrtc.v=Math.round(S)}else console.log(m);if(R!=null){J.add[R]={classID:"null"};for(var $=0;
$<p.length;$++){var hw=p[$];J.add[R][hw]=P.v[hw]}}}};function g4(){}g4.dm=function(G,m,A){G=new Uint8Array(G);
var Q=V.Io(G,0,G.length),H=new DOMParser,J=H.parseFromString(Q,"image/svg+xml"),b=J.getElementsByTagName("style")[0],z=1;
if(b)b=Typr.U.SVG.cssMap(b.textContent);else b={};var O=J.firstChild;while(O.tagName!="svg")O=O.nextSibling;
var a=new f_(0,0,100,100),e=O.getAttribute("viewBox"),R=O.getAttribute("width"),p=O.getAttribute("height");
if(e){var P=g4.$N(e);a.x=P[0];a.y=P[1];a.e=P[2];a.n=P[3]}else if(R!=null||p!=null){a.e=R!=null?parseFloat(R):parseFloat(p);
a.n=p!=null?parseFloat(p):parseFloat(R)}a=N.H.Is(a);while(A&&Math.max(a.e*z,a.n*z)<Math.max(A[0],A[1]))z++;
while(A==null&&Math.max(a.e,a.n)*z>8192)z*=.5;m.sp=!0;m.e=~~(a.e*z);m.n=~~(a.n*z);m.buffer=N.$(m.e*m.n*4);
var Z=new ci(z,0,0,z,-a.x*z,-a.y*z),W={uv:g4.t3(O),a47:b,i2:0};g4.F0(J,O.children,m,Z,W,new ci,0);if(m.g.length==0){var T=m.uA();
T.mw("Layer");m.g.push(T)}};g4.$N=function(G){var m=" ";if(G.indexOf(",")!=-1)m=",";return G.split(m).map(parseFloat)};
g4.F0=function(G,m,A,Q,H,J,b){var O=g4,a=["display","opacity","fill-opacity","filter"];for(var e=0;e<m.length;
e++){var R=m[e],p=R.tagName,P=R.getAttribute("id"),z=O.t3(R,H.a47),W=13,M=1,L="clip-path",E=null,t=0;
for(var Z in H.uv)if(a.indexOf(Z)==-1&&z[Z]==null)z[Z]=H.uv[Z];if(z["font-size"])W=O.Fi(z["font-size"],W);
if(R.getAttribute("dx"))Q.Zh+=O.Fi(R.getAttribute("dx"),W);if(R.getAttribute("dy"))Q.bx+=O.Fi(R.getAttribute("dy"),W);
var T=O.su(R);T.concat(Q);var i=R.getAttribute("visibility"),X=z.display,U=A.uA();if(i=="hidden"||X=="none")U.YQ(!1);
U.mw(P!=null?P.split(":::")[0]:"Layer");if(z.opacity)M*=parseFloat(z.opacity);if(z["fill-opacity"]){var C=parseFloat(z["fill-opacity"]);
if(C!=0)M*=C}U.opacity=Math.round(255*M);if(z["mix-blend-mode"]){var x=ib.Ch.indexOf(z["mix-blend-mode"]);
if(x!=-1)U.w4=ib.Vh[x]}if(R.getAttribute(L)==null)L="mask";if(R.getAttribute(L)!=null){var l=R.getAttribute(L);
l=l.slice(4,l.length-1);var y=G.getElementById(l.slice(1));if(y){var Y=y.children;E=A.uA();E.mw("Clip-Path"+(P?": "+P:""));
E.add.lsct=b<2?fM.UK:fM.mJ;E.w4="pass";E.$G=24;var F=E.add.vmsk=new c.Rl;A.g.push(A.uF());var w=[];if(y.getAttribute(L)){var l=y.getAttribute(L);
l=l.slice(4,l.length-1);w=G.getElementById(l.slice(1)).children}for(var $=0;$<Y.length;$++){var j=O.su(Y[$]);
j.concat(T);var _=O.M2(G,Y[$],!1).slice(2);N.U.T6(_,j);F.Y=F.Y.concat(_)}for(var $=0;$<w.length;$++){var j=O.su(Y[$]);
j.concat(T);var _=O.M2(G,w[$],!1).slice(2);for(var D=0;D<_.length;D++)if(_[$]._t!=null)_[$]._t=3;N.U.T6(_,j);
F.Y=F.Y.concat(_)}E.ON();E.hM();b++}}if(z.filter&&z.filter!="none"){var K=z.filter,o,k,v,B=!1,S=!1,I=!1;
K=K.slice(5,K.length-1);var d=G.getElementById(K),u=[0,0,0,.5],q=f.Q.kF(T);if(d)for(var $=0;$<d.children.length;
$++){var hw=d.children[$];if(hw.tagName=="feGaussianBlur"){B=!0;o=parseFloat(hw.getAttribute("stdDeviation"))*q}if(hw.tagName=="feColorMatrix"){var fY=hw.getAttribute("values").split(" ").map(parseFloat);
u=[fY[4],fY[9],fY[14],fY[18]]}if(hw.tagName=="feComposite"){I=!0}if(hw.tagName=="feOffset"){S=!0;var s=hw.getAttribute("dx"),hZ=hw.getAttribute("dy");
k=parseFloat(s?s:0)*q;v=parseFloat(hZ?hZ:0)*q}}if(I||S){var bG=I?"IrSh":"DrSh";if(bG=="IrSh"){U.add.iOpa=0}var aY=JSON.parse(hK.in[hK.order.indexOf(bG)]);
aY.blur.v.val=Math.round(o*2.4);var fj=Math.sqrt(k*k+v*v);aY.uglg.v=!1;aY.Dstn.v.val=Math.round(fj);
aY.lagl.v.val=Math.round(Math.atan2(v,-k)*(180/Math.PI));aY.Clr.v=N.X.N4({p:u[0]*255,z:u[1]*255,h:u[2]*255});
aY.Opct.v.val=Math.round(u[3]*100);O.Lo(U,hK.HK[hK.order.indexOf(bG)],aY)}else if(B)t=o}if(p=="g"||p=="a"||p=="svg"||p=="switch"||(p=="text"||p=="textPath")&&R.children.length>0){if(p=="text")J=O.Dy(R,J);
var jg=R.getAttribute("viewBox"),ae=R.getAttribute("width"),iB=R.getAttribute("height");if(jg&&ae&&iB){var eg=g4.$N(jg),dM=O.Dy(R),fK=new ci;
fK.translate(-eg[0],-eg[1]);fK.scale(parseFloat(ae)/eg[2],parseFloat(iB)/eg[3]);fK.translate(dM.Zh,dM.bx);
fK.concat(T);T=fK}var aQ=R.children.length,cQ=H.uv;H.uv=z;var a7=H.i2;H.i2=Math.max(H.i2,t);var gz=p!="text"&&p!="textPath"||aQ>1;
if(gz){var bQ=U.HX();U.add.lsct=b<2&&bQ&&(P==null||!P.endsWith(":::"))?fM.UK:fM.mJ;U.w4="pass";U.$G=24;
U.YQ(bQ);A.g.push(A.uF())}O.F0(G,R.children,A,T,H,J,b+1);if(gz)A.g.push(U);else{var d4=A.g[A.g.length-1];
d4.opacity=U.opacity;d4.w4=U.w4}H.i2=a7;H.uv=cQ}else if(p=="use"){var fK=O.Dy(R);fK.concat(T);var j2=O.bn(R),j7=G.getElementById(j2.slice(1));
if(j7){var cQ=H.uv;H.uv=z;if(z.filter)j7.setAttribute("filter",z.filter);O.F0(G,[j7],A,fK,H,J,b+1);H.uv=cQ}}else if(p=="path"||p=="rect"||p=="circle"||p=="ellipse"||p=="polygon"||p=="polyline"||p=="line"){U.$G|=16;
U.add.vmsk=new c.Rl;U.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));U.add.vstk.strokeEnabled.v=!1;
var fG=U.add.vstk,F=U.add.vmsk,bT=z.fill,je=bT=="none"||z["fill-opacity"]&&parseFloat(z["fill-opacity"])==0;
F.Y=O.M2(G,R,z["fill-rule"]=="evenodd",je);N.U.T6(F.Y,T);var ba=N.U.jX(F.Y),j6=z.stroke,cl=z["stroke-width"],js=z["stroke-dasharray"],fR=z["stroke-linejoin"],iW=z["stroke-linecap"],fx=z["paint-order"];
if(j6==null||j6=="none"||j6=="null"){}else{var dm=O.$z(G,j6,T,ba),fq=["SoFi","GrFl","patternFill"].indexOf(dm.type),h2=dm.k.v.Opct.v,aC=1;
if(h2.val!=100){U.opacity=Math.round(U.opacity*h2.val/100);h2.val=100}var jj=[hK.WX,hK.ln,hK.g2][fq],iM=fG.strokeStyleContent.v={classID:hK.nh.Tn[fq]};
for(var $=0;$<jj.length;$++)iM[jj[$]]=dm.k.v[jj[$]];cl=cl?parseFloat(cl):1;if(fx&&fx.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){aC=2;
cl/=2}fG.strokeEnabled.v=!0;if(fR)fG.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hK.nh.join[["miter","round","bevel"].indexOf(fR)];
if(iW)fG.strokeStyleLineCapType.v.strokeStyleLineCapType=hK.nh.tJ[["butt","round","square"].indexOf(iW)];
fG.strokeStyleLineWidth.v.val=cl*f.Q.kF(T);fG.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hK.nh.rr[aC];
fG.strokeStyleOpacity.v.val=100*(z["stroke-opacity"]?parseFloat(z["stroke-opacity"]):1);if(js!=null&&js!="none")fG.strokeStyleLineDashSet.v=en.QQ(js.split(",").map(parseFloat),1/cl)}if(je){U.add.vstk.fillEnabled.v=!1;
U.add.SoCo={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:0,z:0,h:0})}}}else{var dm=O.$z(G,bT,T,ba),aB=null,ep=null;
if(dm.type=="SoFi"){aB="SoCo";ep=hK.WX}if(dm.type=="GrFl"){aB="GdFl";ep=hK.ln}if(dm.type=="patternFill"){aB="PtFl";
ep=hK.g2}if(aB!=null){var h2=dm.k.v.Opct.v;if(h2.val!=100){U.opacity=Math.round(U.opacity*h2.val/100);
h2.val=100}U.add[aB]={classID:"null"};for(var $=0;$<ep.length;$++){var Z=ep[$];U.add[aB][Z]=dm.k.v[Z]}}}var h6=Math.max(t,H.i2);
if(h6!=0)U.add.vmsk.JE=h6;U.ON();U.hM(A);A.g.push(U)}else if((p=="text"||p=="tspan")&&R.textContent!=""){J=O.Dy(R,J);
var fK=J.clone(),v=0;fK.concat(T);if(R.children.length>0){var dJ=O.t3(R.children[0],H.a47);for(var Z in dJ)if(a.indexOf(Z)==-1)z[Z]=dJ[Z]}var gs=z["xml:space"],ej=R.textContent;
if(gs=="preserve")ej=ej.replace(/\t/g," ").replace(/\n/g," ");if(P==null)U.mw(ej);U.add.lnsr="rend";
U.add.TySh=fC.lw(0,0);U.add.TySh.sC=new f_(0,0,100,100);U.add.TySh.A=fK.clone();var eH=U.add.TySh.DQ;
fC.OA(eH,0,ej);var bT=z.fill,hT=z["font-weight"],fE=z["font-family"],hD=z["text-decoration"],j6=z.stroke,cl=z["stroke-width"],d9=z["dominant-baseline"];
if(d9=="text-before-edge")v=W;else if(d9=="middle")v=W/2;else if(d9=="hanging")v=W;if(v!=0)U.add.TySh.A.translate(0,v);
var iQ=fC.ui(eH,0,1);if(bT&&bT!="none"){var u=CSS.FI(bT);iQ.In.FillColor={Type:1,Values:[1,u.p/255,u.z/255,u.h/255]}}if(hD=="underline")iQ.In.Underline=!0;
iQ.In.FontSize=Math.round(W);fC.fT(iQ,"LiberationSans");if(hT=="bold")fC.fT(iQ,"LiberationSans-Bold");
if(fE){fE=fE.split(",")[0].trim();if(fE[0]=="\"")fE=fE.slice(1);if(fE[fE.length-1]=="\"")fE=fE.slice(0,fE.length-1);
var iS=fE+":"+(hT?hT:"normal"),bZ={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(bZ[iS])fC.fT(iQ,bZ[iS]);else fC.fT(iQ,fE)}if(z["text-anchor"])iQ.DF.Justification=["start","end","middle"].indexOf(z["text-anchor"]);
fC.QT(eH,0,ej.length,iQ);if(j6==null||j6=="none"){}else{var aY=JSON.parse(hK.in[hK.order.indexOf("FrFX")]);
aY.Clr.v=N.X.N4(CSS.FI(j6));aY.Sz.v.val=Math.round(parseFloat(cl)*f.Q.kF(fK));O.Lo(U,"frameFXMulti",aY)}A.g.push(U)}else if(p=="image"){var j2=O.bn(R);
if(j2&&j2.slice(0,4)=="data"){var dy=dt.k6(j2),jh=dy,eE=A.Ak(jh,U.getName(),0,0);eE.$G=U.$G;U=eE;var jr=U.rect.clone();
jr.x=jr.y=0;var jL=R.getAttribute("width"),dI=R.getAttribute("height");if(jL)jr.e=parseFloat(jL);if(dI)jr.n=parseFloat(dI);
var aF=O.Dy(R);aF.concat(T);var gd=N.H.Zt(jr).s;N.H.A(gd,aF,gd);U.add.SoLd.Trnf=f.Q.J_(gd);U.add.SoLd.nonAffineTransform=f.Q.J_(gd);
U.wH(A,!1);A.g.push(U)}}else console.log("unknown tag: "+p,R.children.length,R.textContent.length);if(E!=null){A.g.push(E);
b--}}};g4.Lo=function(G,m,A){var Q=G.add.lmfx;if(Q==null){var Q=G.add.lmfx=JSON.parse(hK.default);for(var $=0;
$<hK.order.length;$++)Q[hK.HK[$]]={t:"VlLs",v:[]}}Q[m].v.push({t:"Objc",v:A})};g4.M2=function(G,m,A,Q){var H=g4,J=[{type:6},{type:8,all:0}],b=m.tagName;
if(b=="use"){var O=H.bn(m),a=G.getElementById(O.slice(1)),e=new ci;if(a.tagName!="rect")e=H.Dy(a);e.concat(H.su(a));
J=H.M2(G,a,A,Q);N.U.T6(J,e)}else if(b=="path"){var R=m.getAttribute("d");if(R==null)return J;var p=Typr.U.SVGToPath(R);
J=N.H.ev({s:p.crds,C:p.cmds},A,Q)}else if(b=="rect"){var P=m.getAttribute("rx"),z=H.Dy(m);J=N.U.Y0.Rect(z.Zh,z.bx,parseFloat(m.getAttribute("width")),parseFloat(m.getAttribute("height")),P?parseFloat(P):0)}else if(b=="circle"||b=="ellipse"){var Z=[0,0,0,0],W=["cx","cy","rx","ry","r"];
for(var $=0;$<5;$++){var T=m.getAttribute(W[$]);if(T){T=parseFloat(T);if($<4)Z[$]=T;else Z[2]=Z[3]=T}}J=N.U.Y0.dd(Z[0]-Z[2],Z[1]-Z[3],2*Z[2],2*Z[3])}else if(b=="polygon"||b=="polyline"||b=="line"){var i;
if(b=="line")i=[m.getAttribute("x1"),m.getAttribute("y1"),m.getAttribute("x2"),m.getAttribute("y2")].map(parseFloat);
else i=m.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
J=N.U.Y0.U6(i,0,b!="polygon")}return J};g4.Fi=function(G,m){if(G.charAt(G.length-1)=="m")return m*parseFloat(G.slice(0,G.length-2));
else return parseFloat(G)};g4.$z=function(G,m,A,Q){var H,J,b=g4,O=JSON.parse(hK.in[hK.order.indexOf("SoFi")]),a=m!=null?m.indexOf("("):-1;
if(a!=-1){var e=m.indexOf(")"),R=m.slice(0,a).trim(),p=m.slice(a+1,e).trim();if(p.charAt(0)=="'")p=p.slice(1,p.length-1);
if(R=="url"){if(p.charAt(0)=="#"){var P=G.getElementById(p.slice(1));if(P&&P.tagName.toLowerCase().endsWith("gradient")){var z=b.ur(G,P,A,Q);
H="GrFl";J={t:"Objc",v:z}}else{H="SoFi";J={t:"Objc",v:O}}}else console.log("unknown url",p)}else if(R=="rgb"||R=="rgba"){H="SoFi";
J={t:"Objc",v:O};J.v.Clr.v=N.X.N4(CSS.FI(m));if(R=="rgba")J.v.Opct.v.val=Math.round(100*parseFloat(m.split(",").pop()))}else console.log("unknown fill",m)}else{H="SoFi";
J={t:"Objc",v:O};J.v.Clr.v=N.X.N4(CSS.FI(m))}return{type:H,k:J}};g4.su=function(G){var m=new ci,A=G.getAttribute("transform");
if(A)m=g4.dp(A);var Q=G.getAttribute("style");if(Q!=null){var H={};g4.b7(H,Q,["transform"]);Q=H.transform;
if(Q)m.concat(g4.dp(Q))}return m};g4.Dy=function(G,m){var A=new ci,Q=G.getAttribute("x"),H=G.getAttribute("y");
if(Q)A.Zh=parseFloat(Q);else if(m)A.Zh=m.Zh;if(H)A.bx=parseFloat(H);else if(m)A.bx=m.bx;return A};g4.dp=function(G){var m=Typr.U.SVG.readTrnf(G);
return new ci(m[0],m[1],m[2],m[3],m[4],m[5])};g4.t3=function(G,m){var A={},Q="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var $=0;$<Q.length;$++){var H=G.getAttribute(Q[$]);if(H!=null&&H!="inherit")A[Q[$]]=H}var J=G.getAttribute("class");
if(m!=null&&J!=null&&m["."+J]!=null)g4.b7(A,m["."+J],Q);var b=G.getAttribute("id");if(m!=null&&b!=null&&m["#"+b]!=null)g4.b7(A,m["#"+b],Q);
var O=G.getAttribute("style");if(O!=null)g4.b7(A,O,Q);return A};g4.b7=function(G,m,A){m=m.trim().split(";");
for(var $=0;$<m.length;$++){var Q=m[$].split(":"),H=Q[0]?Q[0].trim():"",J=Q[1]?Q[1].trim():"";for(var b=0;
b<A.length;b++)if(H==A[b]&&J!="inherit")G[A[b]]=J}};g4.bn=function(G){var m=G.getAttribute("xlink:href");
if(m==null)m=G.getAttribute("href");if(m==null)m=G.getAttribute("xl:href");return m};g4.ur=function(G,m,A,Q){var H=g4;
function J(E,l,y){var Y=m.getAttribute(E);if(Y==null)return;var F=parseFloat(Y);if(Y.endsWith("%"))F*=(y?Q.e:Q.n)/100;
if(y)l.x=F;else l.y=F}var b=new ci,O=m.getAttribute("gradientTransform");if(O)b=H.dp(O);b.concat(A);
var a=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),e=a.Grad.v;e.Intr.v=0;var R=m.tagName,p=new dw(0,0),P=new dw(Q.e,0);
if(R=="linearGradient"){a.Type.v.GrdT="Lnr";J("x1",p,!0);J("y1",p,!1);J("x2",P,!0);J("y2",P,!1);p.x=P.x+.5*(p.x-P.x);
p.y=P.y+.5*(p.y-P.y)}if(R=="radialGradient"){a.Type.v.GrdT="Rdl";if(m.getAttribute("cx"))p.x=parseFloat(m.getAttribute("cx"));
if(m.getAttribute("cy"))p.y=parseFloat(m.getAttribute("cy"));P.QU(p.x,p.y);if(m.getAttribute("r"))P.x+=parseFloat(m.getAttribute("r"))}if(m.getAttribute("gradientUnits")=="userSpaceOnUse"){p=b.Yw(p);
P=b.Yw(P)}else{p.x=Q.x+p.x*Q.e;p.y=Q.y+p.y*Q.n;P.x=Q.x+P.x*Q.e;P.y=Q.y+P.y*Q.n}N.X.So(p,P,Q,a);var z=m.children;
if(z.length==0){var Z=H.bn(m);if(Z==null)throw"gradient has no stops";var W=G.getElementById(Z.slice(1));
if(W==null){console.log(Z.slice(1))}else{var T=H.ur(G,W,b,Q);a.Grad=T.Grad}}else{var i=[];for(var $=0;
$<z.length;$++){var X=z[$],U=H.t3(X),M=U["stop-color"],C=U["stop-opacity"],x=X.getAttribute("offset");
if(M==null)M="#000000";if(C==null)C="1";var L=x?parseFloat(x):0;M=CSS.FI(M);i.push([L,[M.p/255,M.z/255,M.h/255],parseFloat(C)])}N.X.sw(i,e)}return a};
g4.sU=function(G,m,A){var Q=[],H=g4;H.Kb=m.auM?"\t":"";var J=m.aiM,b=m.afW;Q.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+G.e+" "+G.n+"\" width=\""+J+"\" height=\""+b+"\">");
Q.push(H.tO(1)+"<title>"+g4.gv(G.name.split(".")[0])+"</title>");var O={bO:[],Td:[],Q0:0,Sb:0,SP:0,oP:{},U2:{},kV:0,UC:{},He:{},n1:0,O8:[]};
g4.ps(G,O,G.root.children,1,m,A);if(O.bO.length!=0){Q.push(H.tO(1)+"<defs>");Q=Q.concat(O.bO);Q.push(H.tO(1)+"</defs>")}Q.push(H.tO(1)+"<style>");
Q.push(H.tO(2)+"tspan { white-space:pre }");for(var a in O.UC)Q.push(H.tO(2)+"."+a+" { "+O.UC[a]+" } ");
Q.push(H.tO(1)+"</style>");Q=Q.concat(O.Td);Q.push("</svg>");Q=Q.join(m.auM?"\n":"");if(H.j0){console.log(H.j0);
var e="SVGParser.gen.db = [\n";for(var $=0;$<H.j0.length;$++){var R=H.j0[$];e+="{\n\tnam: \""+R.Ds+"\",\n\tpts: [\n";
for(var p=0;p<R.Q8.length;p++){var P=R.Q8[p];e+="\t\t[\""+P[0]+"\", { cmds: "+JSON.stringify(P[1].C)+", crds:"+JSON.stringify(P[1].s)+" } ]"+(p==R.Q8.length-1?"":",")+"\n"}e+="\t]\n}"+($==H.j0.length-1?"":",")+"\n"}e+="]\n";
console.log(e)}return V.Dn(Q)};g4.Kb="";g4.tO=function(jw){var G="";for(var $=0;$<jw;$++)G+=g4.Kb;return G};
g4.t$=function(jw){return""+parseFloat(jw.toFixed(3))};g4.ps=function(G,m,A,Q,H,J){var b=g4;function O(R,j2){var E=R.add.lmfx;
if(E)E=E[j2].v[0];if(E)E=E.v;if(E&&!E.enab.v)E=null;return E}function a(R,W){var jj=O(R,"frameFXMulti");
if(jj){var iM=jj.Sz.v.val;if(jj.Styl.v.FStl=="OutF"){W.push("paint-order:stroke fill markers");iM*=2}W.push("stroke: "+CSS.ZK(jj.Clr.v));
W.push("stroke-width: "+iM);W.push("stroke-linejoin: round;")}}for(var e=0;e<A.length;e++){var R=A[e].i,p=R.add.lsct,P=R.add.vmsk,z=R.add.vstk,Z=R.add.TySh;
if(P&&!P.isEnabled)P=z=null;var W=[];if(!H.hidden&&!R.HX())continue;var T=R.opacity/255,i=R.add.iOpa?R.add.iOpa/255:1;
if(T!=1)W.push("opacity: "+b.t$(T));if(i!=1)W.push("fill-opacity: "+b.t$(i));if(R.w4!="norm"){var X=ib.Ch[ib.Vh.indexOf(R.w4)];
if(X!=null)W.push("mix-blend-mode: "+X)}if(!R.HX())W.push("display: none");var U=[],M=[],C=R.getName(),x=C.indexOf(" .");
if(x!=-1){M.push(C.slice(x+2));C=C.slice(0,x)}if(H.names)U.push("id=\""+b.gv(C)+"\"");var L=en.CR(R.add.lmfx,R.add),E=L[0],l=L[1];
if(R.r8()){var y=A[e].children;if(!(y.length==1&&y[0].i.add.SoLd&&!H.Dx)){if(b.j0&&R.getName().split("-").length==3){b.j0.push({Ds:R.getName(),vb:0,Q8:[]})}g4.bQ(R,P,m,U);
if(W.length!=0)U.push("style=\""+W.join(";")+"\"");m.Td.push(b.tO(Q)+"<g "+b.s9(U,M)+">");b.ps(G,m,y,Q+1,H,J);
m.Td.push(b.tO(Q)+"</g>")}}else if(R.gX()&&P==null){var Y=new f_(0,0,G.e,G.n);b.fj(W,R.add,m,Y);if(W.length!=0)U.push("style=\""+W.join(";")+"\"");
m.Td.push(b.tO(Q)+"<rect width=\""+G.e+"\" height=\""+G.n+"\" "+b.s9(U,M)+" />")}else if(P&&R.add.SoLd==null){var Y=N.U.jX(P.Y,null,!0),F=N.U.V$(P.Y);
if(F.c7!=0){U.push("fill-rule=\"evenodd\"")}var w=F.dW;b.fj(W,R.add,m,Y);if(W.length!=0){var j=W.join(";"),_=m.He[j];
if(_==null){_="shp"+m.n1;m.n1++;m.He[j]=_;m.UC[_]=j}M.push(_)}m.Td.push(b.tO(Q)+"<path "+b.s9(U,M)+" d=\""+w+"\" />");
if(b.j0&&b.j0[b.j0.length-1]){var D=N.H.Zv(P.Y);D.s=D.s.map(Math.round);var t=b.j0[b.j0.length-1];t.vb+=JSON.stringify(D).length;
t.Q8.push([W[0].split("#").pop(),D])}}else if(Z&&H.ajz){var K=Z.DQ,d=new dq(K,J),o=null;if(E)o=CSS.ZK(E.Clr.v);
if(l){var Y=R.rect.clone();b.vi(l,m,Y);o=" url(#grd"+m.Q0+")"}if(o)U.push("fill=\""+o+"\"");a(R,W);if(W.length!=0)U.push("style=\""+W.join(";")+"\"");
var k=g5.xT(d,Z),v=N.H.HB(k);for(var u in v){if(o==null)U.push("fill=\""+u+"\"");var B=v[u],w=Typr.U.pathToSVG({crds:B.s,cmds:B.C},2);
m.Td.push(b.tO(Q)+"<path "+b.s9(U,M)+" "+b.oZ(Z)+" d=\""+w+"\" />");if(o==null)U.pop()}}else if(Z&&!H.ar6){var K=Z.DQ,S=Z.A.clone(),o=null;
W.push("transform: "+b.$c(S));var I=fC.Gn(K),d=new dq(K,J);a(R,W);if(W.length!=0)U.push("style=\""+W.join(";")+"\"");
m.Td.push(b.tO(Q)+"<text "+b.s9(U,M)+" >");if(E)o=CSS.ZK(E.Clr.v);if(l){var Y=R.rect.clone();Y.x-=S.Zh;
Y.y-=S.bx;b.vi(l,m,Y);o=" url(#grd"+m.Q0+")"}for(var $=0;$<d.DF.length;$++){var q=d.DF[$];if(q.u0.length==1&&q.u0[0]._x)continue;
for(var hw=0;hw<q.K$.length;hw++){var fY=q.K$[hw],s=q.tg.y+fY.tg.y,hZ=q.u0[fY.start].start,bG=q.u0[fY.end-1].end,aY=fC.afk(K,hZ,bG),fj="";
for(var jg=0;jg<aY.length;jg++){var ae=d.xr(hZ),iB=aY[jg],eg=fC.ui(K,hZ,hZ),dM=eg.sa[eg.In.Font].Name,u=fC.SR(eg.In.FillColor),fK=Math.round(eg.In.FontSize),aQ=I.slice(hZ,hZ+iB);
if(eg.In.FontCaps==2)aQ=aQ.toUpperCase();var cQ=new ci;cQ.translate(ae.PR.x,-s);var a7=[];CSS.af7(a7,eg,null,!0,!0,o);
var j=a7.join(";"),_=m.He[j];if(_==null){_="txt"+m.n1;m.n1++;m.He[j]=_;m.UC[_]=j}var gz=ae.PR.x,bQ=b.aiU(eg,aQ);
fj+="<tspan "+(jg==0?"x=\""+b.t$(ae.PR.x)+"\"":"")+" y=\""+b.t$(s)+"\" class=\""+_+"\""+bQ+">"+b.gv(aQ)+"</tspan>";
hZ+=iB}m.Td.push(b.tO(Q+1)+fj)}}m.Td.push(b.tO(Q)+"</text>")}else if(R.add.SoLd&&H.Dx){var d4=R.add.SoLd,j2=d4.Idnt.v,j7=0,fG=d4.Crop?d4.Crop.v:null;
if(m.U2[j2]!=null)j7=m.U2[j2];else{m.kV++;j7=m.kV;m.U2[j2]=m.kV;var bT=G.Lg(j2,fG),j6="";if(bT==null)return;
var je=bT.CX,ba=dt.mG(bT.raw.buffer);if(ba=="pdf"){var cl=new fy("h");dt.aW("PDF").uJ(bT.raw.buffer,cl);
cl.WW();cl.Ao();cl.F();cl.kn();if(d4.Crop&&d4.Crop.v==1){f.MB.S7(cl,cl.root.E8(cl,!0))}var js=dt.aW("SVG").Af(cl,cl.e,cl.n,null,{O8:J});
j6="data:image/svg+xml;base64,"+dt.D5(js)}else if(ba=="jpg"||ba=="png"||ba=="gif"||ba=="svg"){var fR={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
j6="data:"+fR[ba]+";base64,"+dt.D5(bT.raw.buffer)}else{j6=dt.Kh(je[0].buffer,je[1].e,je[1].n)}m.bO.push(b.tO(2)+"<image width=\""+je[1].e+"\" height=\""+je[1].n+"\" id=\"img"+j7+"\" href=\""+j6+"\"/>")}var iW=N.N.kE(d4),fx=[];
g4.bQ(R,P,m,fx);if(fx.length!=0)m.Td.push(b.tO(Q)+"<g "+b.s9(fx,M)+">");if(W.length!=0)U.push("style=\""+W.join(";")+"\"");
var dm=b.s9(U,M);m.Td.push(b.tO(Q)+"<use "+dm+" href=\"#img"+j7+"\" transform=\""+b.$c(iW)+"\"/>");if(fx.length!=0)m.Td.push(b.tO(Q)+"</g>")}else if(!R.rect.My()&&(H.Dx||Z)){if(W.length!=0)U.push("style=\""+W.join(";")+"\"");
var dm=b.s9(U,M),fq=R.buffer;if(E)fq=en.abA(fq,E,R.rect);var h2=R.rect;m.kV++;var j6=dt.Kh(fq.buffer,h2.e,h2.n,"png",null,!0);
m.bO.push(b.tO(2)+"<image "+b.oZ(Z)+" width=\""+R.rect.e+"\" height=\""+R.rect.n+"\" id=\"img"+m.kV+"\" href=\""+j6+"\"/>");
m.Td.push(b.tO(Q)+"<use "+dm+" href=\"#img"+m.kV+"\" x=\""+h2.x+"\" y=\""+h2.y+"\" />")}}};g4.aiU=function(G,m){var A=G.In.Tracking,Q="";
if(A!=null&&A!=0){A=Math.round(A*G.In.FontSize/1e3);Q=" dx=\"0";for(var H=1;H<m.length;H++)Q+=" "+A;
Q+="\" "}return Q};g4.oZ=function(G){if(G==null)return"";var m=G.DQ,A=fC.Gn(m);A=g4.gv(A.slice(0,A.length-1));
return"aria-label=\""+A+"\" "};g4.s9=function(G,m){if(m.length!=0)G.push("class=\""+m.join(" ")+"\"");
return G.join(" ")};g4.gv=function(G){return String(G).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
g4.$c=function(G){var m=[G.Uj,G.h,G.Qv,G.nd,G.Zh,G.bx].map(g4.t$);return"matrix("+m.join(",")+")"};g4.bQ=function(G,m,A,Q){var H=g4;
if(m||G.add.artb){var J;if(m)J=N.U.V$(m.Y).dW;else{var b=G._Q(),O=N.H.Zt(b);J=Typr.U.pathToSVG({crds:O.s,cmds:O.C},2)}A.SP++;
Q.push("clip-path=\"url(#cp"+A.SP+")\"");A.bO.push(H.tO(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+A.SP+"\">");
A.bO.push(H.tO(3)+"<path d=\""+J+"\" />");A.bO.push(H.tO(2)+"</clipPath>")}};g4.fj=function(G,m,A,Q){var H=g4,J=m.vstk,b=m.vmsk,O=m.lmfx;
if(b&&b.JE!=0){var a=H.t$(b.JE);if(A.oP[a]==null){A.Sb++;A.oP[a]=A.Sb;A.bO.push(H.tO(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+A.Sb+"\"> <feGaussianBlur stdDeviation=\""+a+"\" /> </filter>")}G.push("filter: url(#flt"+A.oP[a]+")")}var e=en.CR(O,m),R=e[0],p=e[1];
if(J&&!J.fillEnabled.v)G.push("fill: none");else if(R){var P=CSS.ZK(R.Clr.v);G.push("fill: "+P)}else if(p){H.vi(p,A,Q);
G.push("fill: url(#grd"+A.Q0+")")}if(J==null||!J.strokeEnabled.v)J=en.Uv(O);if(J&&J.strokeEnabled.v){var z=J.strokeStyleContent.v,Z=z.classID;
if(Z=="solidColorLayer")G.push("stroke: "+CSS.ZK(z.Clr.v));else{H.vi(z,A,Q);G.push("stroke: url(#grd"+A.Q0+")")}var W=hK.nh.tJ.indexOf(J.strokeStyleLineCapType.v.strokeStyleLineCapType),T=hK.nh.join.indexOf(J.strokeStyleLineJoinType.v.strokeStyleLineJoinType),i=J.strokeStyleOpacity.v.val/100,X=J.strokeStyleLineWidth.v.val,U=hK.nh.rr.indexOf(J.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(U==2){X*=2;G.push("paint-order:stroke fill markers")}var M=J.strokeStyleLineDashSet.v,C=[];for(var $=0;
$<M.length;$++)C.push(Math.round(M[$].v.val*X));if(W!=0)G.push("stroke-linecap:"+["butt","round","square"][W]);
if(T!=0)G.push("stroke-linejoin:"+["miter","round","bevel"][T]);if(i!=1)G.push("stroke-opacity:"+H.t$(i));
if(X!=1)G.push("stroke-width: "+H.t$(X));if(C.length!=0)G.push("stroke-dasharray: "+C.join(","))}};g4.vi=function(G,m,A){m.Q0++;
var Q=g4,H=G.Grad.v,J=JSON.parse(JSON.stringify(H.Clrs.v)),b=JSON.parse(JSON.stringify(H.Trns.v)),O=G.Ofst.v,a=G.Type.v.GrdT,e=a=="Rdl"?1:0,R=(e==1?"radial":"linear")+"Gradient",p=N.X.hQ(G,A);
if(e==0){p[0].x=p[1].x+2*(p[0].x-p[1].x);p[0].y=p[1].y+2*(p[0].y-p[1].y)}var P=Q.tO(2)+"<"+R+" id=\"grd"+m.Q0+"\" gradientUnits=\"userSpaceOnUse\" ";
if(e==0)m.bO.push(P+" x1=\""+Q.t$(p[0].x)+"\" y1=\""+Q.t$(p[0].y)+"\" x2=\""+Q.t$(p[1].x)+"\" y2=\""+Q.t$(p[1].y)+"\">");
if(e==1)m.bO.push(P+" cx=\""+Q.t$(p[0].x)+"\" cy=\""+Q.t$(p[0].y)+"\" r=\""+Q.t$(dw.SH(p[0],p[1]))+"\">");
if(a=="Rflc"){for(var z=0;z<2;z++){var Z=z==0?J:b;for(var $=Z.length-1;$>=0;$--){var W=Z[$];W.v.Lctn.v=2048+(W.v.Lctn.v>>>1);
var T=JSON.parse(JSON.stringify(W));T.v.Lctn.v=4096-T.v.Lctn.v;Z.push(T)}Z.sort(function(C,x){return C.v.Lctn.v-x.v.Lctn.v})}}var i=G.Rvrs.v;
if(i){J.reverse();b.reverse()}for(var $=0;$<J.length;$++){var X=J[$].v,U=$<b.length?b[$].v.Opct.v.val/100:1,U=U==1?"":"stop-opacity=\""+Q.t$(U)+"\"",M=X.Lctn.v/4096;
if(i)M=1-M;m.bO.push(Q.tO(3)+"<stop offset=\""+Q.t$(M)+"\" stop-color=\""+CSS.ZK(X.Clr.v)+"\" "+U+" />")}m.bO.push(Q.tO(2)+"</"+R+">")};
g4.Y0=function(G,m,A,Q,H){var J=[],b=g4.Y0,O=!1,a={zp:G,V7:m,pE:[!0,!0,!0],Zi:!1,W9:A,aa5:0};a.yW=Math.round(Math.max(G,m)*(.02+b.yy(a)*.03));
a.Ad=b.a24(a);a.Yq=b.at5(a.Ad,(b.yy(a)<.5?-1:1)*(.2+b.yy(a)*.3));if(b.yy(a)<.5){var e=a.Ad;a.Ad=a.Yq;
a.Yq=e}a.apt=b.yy(a)<.4&&b.aoD(a.Yq,{p:1,z:1,h:1})>.3;a.aoQ=b.yy(a)<.5?0:1;J.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+G+" "+m+"\" width=\""+G+"\" height=\""+m+"\">");
a.V6=Q[Math.floor(b.iY(a)*Q.length)];a.Vn=Q[Math.floor(b.iY(a)*Q.length)];J.push("<style>");J.push("@font-face {  font-family: "+a.V6[2]+";  src: url(rsrc/fonts/"+a.V6[5]+");  }");
J.push("@font-face {  font-family: "+a.Vn[2]+";  src: url(rsrc/fonts/"+a.Vn[5]+");  }");J.push("</style>");
var R=[0,0,G,m],p=R;if(H==null)J.push("<path style=\"fill: "+b.FY(a.Ad)+"\" d=\""+b.Rect(R[0],R[1],R[2]-R[0],R[3]-R[1])+"\" id=\"Background\" />");
else{a.Zi=!0;b.ye(a,R,J,H)}if(b.yy(a)<.25&&!a.Zi){a.pE[0]=a.pE[2]=!1;b.a2A(R,a,J);p=R}else if(b.yy(a)<.25||a.Zi)p=R;
else{var P=.52+b.yy(a)*.2;if(b.yy(a)<.5)P=1-P;var z=R.slice(0),Z=R.slice(0);if(b.yy(a)<.5)z[2]=Z[0]=Math.round(P*G);
else z[3]=Z[1]=Math.round(P*m);if(b.yy(a)<.5){var e=z;z=Z;Z=e}p=z;b.afz(a,Z,J,H)}b.arJ(a,p,J);J.push("</svg>");
J=J.join("\n");var W=N.$(Math.round(J.length*1.5)),T=V.lG(J,W,0);return[W.buffer.slice(0,T),a.R0]};g4.Y0.a2A=function(G,m,A){var Q=g4.Y0,H=G[2]-G[0],J=G[3]-G[1];
if(Q.yy(m)<.5){A.push("<path id=\"Border\" style=\"fill: "+Q.FY(m.Yq)+"\" d=\""+Q.ad2(G[0],G[1],G[2]-G[0],G[3]-G[1],m.yW)+"\" />")}else if(Q.yy(m)<-.4){Q.au9(m,G,A)}else{var b=Q.yy(m)<.5?0:1,O=(b==0?J:H)/4,a=Q.Ji(m,b,G,A,O,!0),a=Q.Ji(m,b+2,G,A,O,!0,a)}};
g4.Y0.arJ=function(G,m,A){var Q=g4.Y0,H="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),J=2*Math.floor(Q.yy(G)*H.length/2),b=m[2]-m[0],O=m[3]-m[1],e=0,p=0;
G.al=(G.zp+b)*.5*(.04+Q.yy(G)*.05);G.al=Math.min(G.al,O*.4,b*.12);G.al=Math.round(G.al);var a=Math.min(G.al*H[J].length*(.35+.3*Q.yy(G)),b*.9),R=(m[1]+m[3])/2,P=N.fb(G.Ad)<.85?{p:1,z:1,h:1}:{p:.1,z:.1,h:.1};
if(Q.yy(G)<.25&&G.pE[0]){p=0;e=m[0]+G.yW}else if(Q.yy(G)<.33&&G.pE[2]){p=2;e=m[2]-G.yW}else{p=1;e=(m[0]+m[2])/2}var z=P.p==1?"0,0,0":"255,255,255",Z=G.Zi&&Q.yy(G)<1;
if(Z){var W=m[0],T=b,i=R-G.al*1.1,X=G.al*2.2,U=.7;if(p==1&&Q.yy(G)<.5){W=i=.2*Math.min(b,O);T=b-2*i;
X=O-i-i}else if(Q.yy(G)<.7){W=i=0;T=b;X=O;U=.25}A.push("<path id=\"Strip\" style=\"fill: rgb("+z+"); opacity: "+U+"\" d=\""+Q.Rect(W,i,T,X)+"\" />")}if(Q.yy(G)<.4){var M=G.al*.07;
M*=1.5+Q.yy(G)*1;if(p==-1&&b/O<3&&!Z){A.push("<path id=\"Bar-bottom\" style=\"fill: "+Q.FY(P)+"\" d=\""+Q.Rect(e-a/2,R+G.al*1.1-M/2,a,M)+"\" />");
A.push("<path id=\"Bar-top\"    style=\"fill: "+Q.FY(P)+"\" d=\""+Q.Rect(e-a/2,R-G.al*1.1-M/2,a,M)+"\" />")}if(p!=1){A.push("<path id=\"Bar\" style=\"fill: "+Q.FY(P)+"\" d=\""+Q.Rect(e-M/2,R-G.al*.8,M,G.al*.8*2)+"\" />");
e+=(p==0?1:-1)*G.al/3}}var C=G.al*.4;A.push(Q.iT(H[J+1],e,R+C*1.6,C,P,p,G.Vn));A.push(Q.iT(H[J],e,R+G.al*.04,G.al,P,p,G.V6))};
g4.Y0.afz=function(G,m,A,Q){var H=m[2]-m[0],J=m[3]-m[1],b=Math.max(H,J),O=Math.min(H,J),a=g4.Y0;if(b/O<5&&!G.Zi&&!1){a.ye(G,m,A,Q)}else if(a.yy(G)<0)A.push("<path style=\"fill: "+a.FY(G.Yq)+"\" d=\""+a.Rect(m[0],m[1],H,J)+"\" />");
else{var e=0;if(m[3]!=G.V7)e=0;if(m[2]!=G.zp)e=3;if(m[0]!=0)e=1;if(m[1]!=0)e=2;var R=e+2&3;if(b/O<3){var p=a.ah1(R),P=p[Math.round(a.yy(G)*(p.length-1))],z=P.Ds.slice(0,4),Z=z.indexOf(1);
P=JSON.parse(JSON.stringify(P));var W=-1;if(z!="0000"){var T=new ci;if(P.Ds[5]=="0"){if(Z==3&&e==1){W=1;
T.scale(-1,1)}else W=Z}else{var i=R;while(i==R)i=Math.floor(a.yy(G)*4)&3;T.rotate((-Z+i)*Math.PI/2)}a.A(P,T)}var X=a.Cf(P),U=H-2*G.yW,M=J-2*G.yW;
if(W!=-1){if((W&1)==0)M-=G.yW;else U-=G.yW}var C=Math.min(U/X.e,M/X.n),x=new ci;x.translate(-X.x,-X.y);
x.scale(C,C);var L=(H-X.e*C)/2,E=(J-X.n*C)/2;if(W!=-1){if(W==3)L=0;if(W==0)E=0;if(W==1)L=H-X.e*C;if(W==2)E=J-X.n*C}x.translate(m[0]+L,m[1]+E);
a.$V(G,P,x,G.Yq,A)}else{a.Ji(G,e,m,A,1e9)}}};g4.Y0.ye=function(G,m,A,Q){var H=m[2]-m[0],J=m[3]-m[1],b=Math.max(H,J),O=Math.min(H,J),a=g4.Y0,e=a.iY(G),R,p,P,z=Q[0]instanceof ArrayBuffer;
if(z){R="data:image/jpg;base64,"+gX.yM(Q[0]);p=Q[1];P=Q[2]}else{var Z=Math.floor(e*Q.length),W=Q[Z];
G.R0=W;R=W.webformatURL;p=W.webformatWidth;P=W.webformatHeight}var T=m[0],i=m[1],X=H,U=J;if(H/J>p/P){U=X*P/p;
i=i-(U-J)/2}else{X=U*p/P;T=T-(X-H)/2}if(z){A.push("<defs>");A.push("<image width=\""+p+"\" height=\""+P+"\" id=\"Background\" href=\""+R+"\" />");
A.push("</defs>");var M=X/p;A.push("<use href=\"#Background\" transform=\""+g4.$c(new ci(M,0,0,M,T,i))+"\" />")}else{var C="cp"+Math.random();
A.push("<clipPath id=\""+C+"\">");A.push("<path style=\"fill: "+a.FY(G.Yq)+"\" d=\""+a.Rect(m[0],m[1],H,J)+"\" />");
A.push("</clipPath>");A.push("<image  clip-path=\"url(#"+C+")\" xlink:href=\""+R+"\" x=\""+T+"\" y=\""+i+"\" width=\""+X+"\" height=\""+U+"\" />")}};
g4.Y0.iT=function(G,m,A,Q,H,J,b){var O=g4.Y0;return"<text x=\""+m+"\" y=\""+A+"\" style=\"fill:"+O.FY(H)+"; font-size:"+Q+"px; text-anchor:"+["start","middle","end"][J]+"; font-family:"+b[2]+";\"><tspan>"+G+"</tspan></text>"};
g4.Y0.$V=function(G,m,A,Q,H){var J=g4.Y0,b=[];for(var $=0;$<m.Q8.length;$++){b.push(Q);if(G.apt){Q=($&1)==G.aoQ?{p:1,z:1,h:1}:b[0]}}H.push("<g id=\""+m.Ds.split("-")[2]+":::\" style=\"transform: "+g4.$c(A)+";\" >");
for(var $=0;$<m.Q8.length;$++){var O=m.Q8[$];Q=b.pop();H.push("<path style=\"fill: "+(Q?J.FY(Q):"#"+O[0])+"\" d=\""+Typr.U.pathToSVG({crds:O[1].s,cmds:O[1].C})+"\" />")}H.push("</g>")};
g4.Y0.au9=function(G,m,A){var Q=g4.Y0,H=g4.Y0.vg,J=[];for(var $=0;$<H.length;$++){var b=H[$],O=b.Ds.slice(0,4);
if(O!="1001")continue;J.push(b)}var b=J[Math.floor(Q.yy(G)*J.length)];if(Q.yy(G)<.5)Q.A(b,new ci(0,1,1,0,0,0));
var a=m[3]-m[1],e=m[2]-m[0],R=Q.Cf(b),p=.7*Math.min(e,a,.5*Math.max(e,a))/Math.max(R.e,R.n),P=new ci;
P.scale(p,p);if(Q.yy(G)<.5){P.scale(1,-1);P.translate(0,a)}Q.$V(G,b,P,G.Yq,A);P.rotate(Math.PI);P.translate(e,a);
Q.$V(G,b,P,G.Yq,A)};g4.Y0.ah1=function(G){var m=g4.Y0.vg,A=[];for(var $=0;$<m.length;$++){var Q=m[$],H=Q.Ds.slice(0,4);
if(H=="0000"){A.push(Q);continue}if(["1000","0100","0010","0001"].indexOf(H)==-1)continue;var J=H.indexOf("1");
if(Q.Ds[5]=="0"&&G==J&&J!=3)continue;A.push(Q)}return A};g4.Y0.Ji=function(G,m,A,Q,H,J,b){var O=g4.Y0.vg,a=g4.Y0,e=[],X,U;
for(var $=0;$<O.length;$++){var R=O[$],p=R.Ds.slice(0,4);if(["1110","1101","1011","0111"].indexOf(p)==-1)continue;
var P=p.indexOf("0")+2&3;if(R.Ds[5]=="0")if(J==!0||m!=P&&!(m==1&&P==3))continue;e.push(R)}var z=b!=null?b:Math.floor(a.yy(G)*e.length),R=e[z],R=JSON.parse(JSON.stringify(R)),p=R.Ds.slice(0,4),P=p.indexOf("0")+2&3;
if(P==3&&m==1)N.A(R,new ci(1,0,0,-1,0,1e3));var Z=new ci;Z.translate(-500,-500);Z.rotate(-P*Math.PI/2);
Z.translate(500,500);a.A(R,Z);var W=A[3]-A[1],T=A[2]-A[0],i=a.Cf(R);if(i.y<0){i.n+=i.y;i.y=0}if(i.y>0){i.n+=i.y;
i.y=0}if((m&1)==0){U=W;X=T}else{X=W;U=T}var M=Math.min(Math.min(.5+.5*a.yy(G))*Math.min(T,W),H)/i.n,C=Math.ceil(X/(1e3*M)),x=new ci,L=new ci;
L.scale(M,M);if(m==0||m==2){L.translate(-(T/2),-(W/2));L.rotate(-m*Math.PI/2);L.translate(T/2+A[0],W/2+A[1])}else{L.rotate(Math.PI/2);
L.scale(1,-1);L.translate(A[0],A[1]);if(m==1){L.scale(-1,1);L.translate(T,0)}}Q.push("<g id=\"Border-"+["top","right","bottom","left"][m]+":::\">");
for(var $=0;$<C;$++){var E=x.clone();E.concat(L);a.$V(G,R,E,G.Yq,Q);x.translate(1e3-2,0)}Q.push("</g>");
return z};g4.Y0.Rect=function(G,m,A,Q){return Typr.U.pathToSVG({crds:[G,m,G+A,m,G+A,m+Q,G,m+Q],cmds:["M","L","L","L","Z"]})};
g4.Y0.ad2=function(G,m,A,Q,H){var J=[G,m,G+A,m,G+A,m+Q,G,m+Q];G+=H;m+=H;A-=2*H;Q-=2*H;J.push(G,m,G,m+Q,G+A,m+Q,G+A,m);
return Typr.U.pathToSVG({crds:J,cmds:"M L L L Z M L L L Z".split(" ")})};g4.Y0.at5=function(G,m){var A=N.jI(G.p,G.z,G.h);
A.Ku=Math.max(.1,Math.min(.9,A.Ku+m));return N.a9(A.V7,A.H6,A.Ku)};g4.Y0.am2=function(G,m){var A=N.jI(G.p,G.z,G.h);
A.V7+=m;return N.a9(A.V7,A.H6,A.Ku)};g4.Y0.alA=function(G){var m=N.jI(G.p,G.z,G.h);m.Ku=1-m.Ku;return N.a9(m.V7,m.H6,m.Ku)};
g4.Y0.aoD=function(G,m){var A=G.p-m.p,Q=G.z-m.z,H=G.h-m.h;return Math.sqrt(A*A+Q*Q+H*H)};g4.Y0.a24=function(G){var m=g4.Y0;
return{p:m.yy(G),z:m.yy(G),h:m.yy(G)}};g4.Y0.FY=function(G){return CSS.aU({p:G.p*255,z:G.z*255,h:G.h*255})};
g4.Y0.Cf=function(G){var m=G.Q8,A=new f_;for(var $=0;$<m.length;$++)A=A.wj(N.H.Cf(m[$][1].s));return A};
g4.Y0.A=function(G,m){var A=G.Q8;for(var $=0;$<A.length;$++)N.H.A(A[$][1].s,m,A[$][1].s)};g4.Y0.yy=function(G){G.aa5++;
var m=G.aa5&3;if(m==0)G.W9=g4.Y0.t9(G.W9);var A=G.W9>>>8*m&255;return A*(.99999999/255)};g4.Y0.iY=function(G){var m=g4.Y0.t9(G.W9);
G.W9=g4.Y0.t9(m);return m*(1/4294967295)};g4.Y0.t9=function(G){G=(G^61^G>>>16)>>>0;G=G+(G<<3)>>>0;G=(G^G>>>4)>>>0;
G=G*668265261>>>0;G=(G^G>>>15)>>>0;return G};g4.Y0.vg=[{Ds:"0001-0-bird",Q8:[["4b3c34",{C:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),s:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{C:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),s:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{C:"M C C C C C C C C C C C C L Z".split(" "),s:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Ds:"0001-0-bird2",Q8:[["ff7f2a",{C:"M L L L Z M L L L Z".split(" "),s:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{C:"M C C C C C C C C C C C L Z".split(" "),s:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{C:"M C C C C C C L Z M C C Z".split(" "),s:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{C:"M L L L Z M L L L Z".split(" "),s:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{C:"M L C C C C C C C C L Z".split(" "),s:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{C:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),s:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Ds:"0000-1-flower",Q8:[["7a59a2",{C:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),s:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Ds:"0000-1-flower",Q8:[["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),s:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Ds:"0000-1-flower",Q8:[["ffac42",{C:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),s:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Ds:"0000-1-flower",Q8:[["d04040",{C:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Ds:"0000-1-flower",Q8:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),s:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{C:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),s:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Ds:"0000-0-hearts",Q8:[["d17070",{C:"M C C C C C C C C C L Z".split(" "),s:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{C:"M C C C C C C C C C L Z".split(" "),s:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{C:"M C C C C C C C C C L Z".split(" "),s:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Ds:"0000-0-anchor",Q8:[["2a3b66",{C:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),s:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Ds:"0000-1-leaf",Q8:[["fbb600",{C:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),s:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Ds:"0000-1-acorn",Q8:[["a05a2c",{C:"M C C C C C C C L Z".split(" "),s:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{C:"M C C C C C C C C C C C Z".split(" "),s:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Ds:"0000-0-skull",Q8:[["808080",{C:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),s:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Ds:"0000-0-ghost",Q8:[["e6e6e6",{C:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),s:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{C:"M C C C C Z M C C C C Z".split(" "),s:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Ds:"1001-1-rose",Q8:[["9e1460",{C:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),s:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{C:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),s:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Ds:"1001-1-curls",Q8:[["53a7ab",{C:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{C:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),s:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Ds:"0111-0-pines",Q8:[["e9e9e9",{C:"M C C C C C C C C L L L Z".split(" "),s:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{C:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),s:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Ds:"0111-0-flowers",Q8:[["8cae40",{C:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),s:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),s:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Ds:"1101-1-confetti",Q8:[["e789ff",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Ds:"1101-1-branch",Q8:[["7f500b",{C:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),s:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Ds:"1101-1-sticks",Q8:[["ec7272",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Ds:"1101-1-dots",Q8:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),s:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{C:["M","C","C","Z"],s:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Ds:"1101-1-strips",Q8:[["ffc88c",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),s:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{C:["M","C","C","Z"],s:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Ds:"1101-1-circs",Q8:[["ec7272",{C:"M C C C C Z M C C C C Z".split(" "),s:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{C:"M C C C C Z M C C C C Z".split(" "),s:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{C:["M","C","C","Z"],s:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Ds:"1101-1-squares",Q8:[["014ea7",{C:"M L L L L Z M L L L L Z".split(" "),s:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{C:"M L L L L Z M L L L L Z".split(" "),s:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{C:["M","C","C","Z"],s:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Ds:"1101-0-christmas",Q8:[["014ea7",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),s:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var gk={};gk.parse=function(G){var m=new Uint8Array(G),A=null;if(m[0]==80&&m[1]==75){var Q=Date.now(),H=UZIP.parse(m.buffer),A=H["document.json"];
A=JSON.parse(V.Io(A,0,A.length));gk.Sw(A,H)}else{var J=ha.parse(G);A=gk.rM(J[2][0][1])}return A};gk.Sw=function(G,m){var A=typeof G;
if(A=="string"||A=="number"||A=="boolean")return G;if(G instanceof Array){for(var $=0;$<G.length;$++)G[$]=gk.Sw(G[$],m);
return G}var Q=G._class;if(Q==null)return G;if(Q=="MSJSONFileReference"){var H=G._ref;if(!1){}else if(m[H+".json"]!=null){var J=m[H+".json"],b=J.length;
for(var $=0;$<b;$++)if(J[$]==11||J[$]==3)J[$]=32;var O=V.Io(J,0,b);G=JSON.parse(O)}else if(m[H+".png"]!=null)return{key:H.split("/").pop(),bdata:m[H+".png"]};
else if(m[H+".jpg"]!=null)return{key:H.split("/").pop(),bdata:m[H+".jpg"]};else if(m[H+".pdf"]!=null)return{key:H.split("/").pop(),bdata:m[H+".pdf"]};
else if(m[H]!=null)return{key:H.split("/").pop(),bdata:m[H]};else{console.log(G,m);return}}else if(Q=="MSAttributedString"){var O=atob(G.archivedAttributedString._archive),a=O.length-1,e=new Uint8Array(a);
for(var $=0;$<a;$++)e[$]=O.charCodeAt($);G.archivedAttributedString=gk.rM(e)}for(var R in G)G[R]=gk.Sw(G[R],m);
return G};gk.JC=function(G,m,A,Q){if(G instanceof Uint8Array)return null;if(Q.indexOf(G)!=-1)return null;
Q.push(G);if(G==m)return A;for(var H in G){A.push(H);var J=gk.JC(G[H],m,A,Q);if(J){console.log(G,J);
throw"e"}A.pop()}};gk.rM=function(G){var m=fa.parse(G,0),A=m.$objects,Q=new Uint8Array(A.length),H=gk.ag(A,Q,m.$top.root);
for(var $=0;$<A.length;$++)if(Q[$]==0&&$!=0){console.log($,A[$]);gk.JC(H,$,[],[])}for(var $=0;$<A.length;
$++){var J=A[$];if(J._class&&(J._class=="bitmap"||J._class=="fill"&&J.fillType==4&&(J.image||J.imageSHA))){var b=J.image,O=J.imageSHA,a=null,e=null;
if(b=="$null")b=null;if(O=="$null")O=null;if(b&&b.data){e=b.sha1["NS.bytes"];e=btoa(V.uB(e,0,e.length));
a=b.data instanceof Uint8Array?b.data:b.data["NS.bytes"]}else if(b==null&&O==null){var R=dt.aW("PNG").Af([[N.$(4).buffer]],1,1);
a=new Uint8Array(R)}else{var p=(H.assets?H.assets.imageCollection:H.images).images;if(O)e=O instanceof Uint8Array?O:O["NS.bytes"];
else e=b.sha1["NS.bytes"];e=btoa(V.uB(e,0,e.length));var a=p[e].data;if(a["NS.bytes"])a=a["NS.bytes"]}a=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.length));
delete J.imageSHA;J.image={key:e,bdata:a}}}return H};gk.a7a=function(G){return G.slice(0,11)=="MSImmutable"?"MS"+G.slice(11):G};
gk.ag=function(G,m,A){var Q=G[A];if(m[A]==1){return Q}m[A]=1;if(typeof Q=="string")return Q;if(typeof Q=="number")return Q;
if(typeof Q=="boolean")return Q;if(Q instanceof Array)return Q;if(Q instanceof Uint8Array){return Q}if(G[Q.$class]==null){if(Q.$class==null&&Q["NS.data"]!=null)return Q;
console.log(A,Q);throw"e"}var H=G[Q.$class],J=gk.a7a(H.$classname);m[Q.$class]=1;Q.$class=J;if(gk.KI[J]){delete Q.$class;
Q._class=gk.KI[J]}var b=gk.ag;if(J=="NSMutableArray"||J=="NSArray"){var O=[];if(Q["NS.objects"]!=null)for(var $=0;
$<Q["NS.objects"].length;$++)O.push(b(G,m,Q["NS.objects"][$]));else for(var $=0;Q["NS.object."+$]!=null;
$++)O.push(b(G,m,Q["NS.object."+$]));G[A]=O;return O}if(J=="NSDictionary"||J=="NSMutableDictionary"){var a={$class:J};
if(Q["NS.keys"]!=null)for(var $=0;$<Q["NS.keys"].length;$++){var e=b(G,m,Q["NS.keys"][$]);if(e instanceof Uint8Array)e=btoa(gk.Sn.uB(e,0,e.length));
else if(typeof e!="string"&&typeof e!="number")e=btoa(gk.Sn.uB(e["NS.bytes"],0,e["NS.bytes"].length));
a[e]=b(G,m,Q["NS.objects"][$])}else for(var $=0;Q["NS.key."+$]!=null;$++){var e=b(G,m,Q["NS.key."+$]);
if(e instanceof Uint8Array)e=btoa(gk.Sn.uB(e,0,e.length));else if(typeof e!="string"&&typeof e!="number")e=btoa(gk.Sn.uB(e["NS.bytes"],0,e["NS.bytes"].length));
a[e]=b(G,m,Q["NS.object."+$])}for(var R in Q)delete Q[R];for(var R in a)Q[R]=a[R];return Q}if(J=="NSURL")return{$class:J,base:b(G,m,Q["NS.base"]),relative:b(G,m,Q["NS.relative"])};
if(gk.afs.indexOf(J)!=-1){G[A]=b(G,m,Q.array_do);return G[A]}if(Q.do_objectID!=null)Q.do_objectID=b(G,m,Q.do_objectID);
if(gk.aeb.indexOf(J)!=-1)return Q;var p=gk.arO[J];if(p==null){console.log(G,Q);throw"unknown class "+J}for(var $=0;
$<p.length;$++)if(Q[p[$]]!=null)Q[p[$]]=b(G,m,Q[p[$]]);if(J=="MSTextLayer"){var P=Q,z,Z,W,T;if(P.attributedString)z=P.attributedString.archivedAttributedString;
else z=P.storage;T=z.NSString;if(typeof T!="string")T=V.Io(T["NS.bytes"],0,T["NS.bytes"].length);if(z.NSAttributeInfo)Z=z.NSAttributeInfo["NS.bytes"];
else{var i=T.length,X=[];while(i>0){var U=Math.min(100,i);X.push(U,0);i-=U}Z=new Uint8Array(X)}W=z.NSAttributes instanceof Array?z.NSAttributes:[z.NSAttributes];
var M={$class:"NSAttributedString",NSString:T,NSAttributes:W};P.attributedString={_class:"MSAttributedString",archivedAttributedString:M};
M.NSAttributeInfo={$class:"NSMutableData","NS.data":Z};delete P.storage}return Q};gk.Sn={n6:function(G,m){return G[m+1]<<8|G[m]},l:function(G,m){return G[m+3]<<24|G[m+2]<<16|G[m+1]<<8|G[m]},uB:function(G,m,A){var Q="";
for(var $=0;$<A;$++)Q+=String.fromCharCode(G[m+$]);return Q}};gk.KI={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
gk.afs=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
gk.aeb="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
gk.arO={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var fa={};fa.parse=function(G,m){var A=V.uB(G,m,8);m+=8;var Q=fa.parse.ajh(G,G.length-31),H=[];if(Q.IZ==1){var m=G.length-31-Q.IZ*Q.TE;
for(var $=0;$<Q.TE;$++)H.push(G[m+$])}else if(Q.IZ==2){var m=G.length-31-Q.IZ*Q.TE;for(var $=0;$<Q.TE;
$++)H.push(V.n6(G,m+$*2))}else if(Q.IZ==4){var m=G.length-31-Q.IZ*Q.TE;for(var $=0;$<Q.TE;$++)H.push(V.l(G,m+$*4))}else{throw"e"}var J=fa.parse.ag(G,H,Q.root,Q);
return J};fa.parse.ag=function(G,m,A,Q){var H=fa.Sn,J=Q.acV,b=J==4?H.l:J==2?H.n6:H.a0k,O=fa.parse,a=m[A],e=G[a],R=e>>4,p=e&15,z=null;
a+=1;if([4,5,6,10,12,13].indexOf(R)!=-1&&p==15){var P=O.Ys(G,a);a+=P.vb;p=P.k}if(!1){}else if(R==0)z=p==8?!1:p==9?!0:null;
else if(R==1)z=O.Ys(G,a-1).k;else if(R==2)z=1<<p==4?V.BH(G,a):V.Bo(G,a);else if(R==3)z=V.Bo(G,a);else if(R==4)z=new Uint8Array(G.buffer,a,p);
else if(R==5)z=V.uB(G,a,p);else if(R==6)z=V.j$(G,a,p);else if(R==8){z=0;for(var $=0;$<p+1;$++)z=z<<8|G[a+$]}else if(R==10){z=[];
for(var $=0;$<p;$++)z.push(O.ag(G,m,b(G,a+J*$),Q))}else if(R==12){z=[];for(var $=0;$<p;$++)z.push(O.ag(G,m,b(G,a+J*$),Q))}else if(R==13){z={};
for(var $=0;$<p;$++){var Z=O.ag(G,m,b(G,a+J*$),Q),W=O.ag(G,m,b(G,a+J*(p+$)),Q);z[Z]=W}}else throw"unknown mask "+R;
return z};fa.parse.Ys=function(G,m){var A=1<<(G[m]&15),Q=0;for(var $=0;$<A;$++)Q=Q<<8|G[m+1+$];return{k:Q,vb:A+1}};
fa.parse.ajh=function(G,m){var A={};m+=6;A.IZ=G[m];m++;A.acV=G[m];m++;m+=4;A.TE=V.l(G,m);m+=4;m+=4;A.root=V.l(G,m);
m+=4;m+=4;A.abR=V.l(G,m);m+=4;return A};fa.Sn={a0k:function(G,m){return G[m]},n6:function(G,m){return G[m]<<8|G[m+1]},l:function(G,m){return G[m]<<24|G[m+1]<<16|G[m+2]<<8|G[m+3]},uB:function(G,m,A){var Q="";
for(var $=0;$<A;$++)Q+=String.fromCharCode(G[m+$]);return Q}};var ha={parse:function(G){var m=new Uint8Array(G),A=ha.Mc(m),Q=[],H=new Uint8Array(m.length),J=[];
Q.push(J);ha.da(m,A,1,H,J);for(var $=0;$<J.length;$++){var b=[];Q.push(b);ha.da(m,A,J[$][3],H,b);J[$][3]=$+1}return Q},da:function(G,m,A,Q,H){A--;
var J=A*m.Gg+(A==0?100:0),b=G[J],O=ha.n6(G,J+1);if(O!=0)throw"free block in a page";var a=ha.n6(G,J+3),e=ha.n6(G,J+5);
if(e==0)e=65536;var R=G[J+7],p=ha.n6(G,J+8);if(b==2||b==5)J+=4;else p=0;for(var P=0;P<a;P++){var z=A*m.Gg+ha.n6(G,J+8+2*P),Z=-1,W=0,T=0,i=0;
if(b==2||b==5){Z=ha.l(G,z);z+=4}if(b==2||b==10||b==13){W=ha.rw(G,z);z+=W.vb}if(b==5||b==13){T=ha.rw(G,z);
z+=T.vb}if(b==5){ha.da(G,m,Z,Q,H);continue}var X=m.Gg-(A==0?100:0),U=W.ok,M=b==13?X-35:Math.floor((X-12)*64/255)-23,C=Math.floor((X-12)*32/255)-23,x=C+(U-C)%(X-4);
if(U<=M){ha.Gy(G,z,Q,0,U)}else{var L=x<=M?x:C,E=0;ha.Gy(G,z,Q,0,L);E+=L;i=ha.l(G,z+L);while(i!=0){var l=(i-1)*m.Gg;
i=ha.l(G,l);var y=Math.min(m.Gg-4,U-E);ha.Gy(G,l+4,Q,E,y);E+=y}}H.push(ha.a5T(Q,U))}},a5T:function(G,m){var A=0,Q=ha.rw(G,A);
A+=Q.vb;var H=[],J=[];while(A<Q.ok){var b=ha.rw(G,A);A+=b.vb;H.push(b.ok)}if(A!=Q.ok)throw"e";for(var $=0;
$<H.length;$++){var b=H[$];if(!1){}else if(b==0)J.push(null);else if(b==1){J.push(ha.ag7(G,A));A+=1}else if(b==2){J.push(ha.jT(G,A));
A+=2}else if(b==3){J.push(ha.aaM(G,A));A+=3}else if(b==4){J.push(ha.Ys(G,A));A+=4}else if(b==7){J.push(ha.atb(G,A));
A+=16}else if(b==8)J.push(0);else if(b==9)J.push(1);else if(b>=12&&(b&1)==0){var O=b-13>>1,a=new Uint8Array(O);
ha.Gy(G,A,a,0,O);J.push(a);A+=O}else if(b>=13&&(b&1)==1){var O=b-12>>1;J.push(ha.Io(G,A,O));A+=O}else throw"unknonw type "+b}return J},Mc:function(G){if(!(G[18]==1&&G[19]==1&&G[20]==0&&G[21]==64&&G[22]==32&&G[23]==32))throw"unexpected SQL3 header";
var m={Nk:ha.uB(G,0,15),Gg:ha.n6(G,16),arC:ha.l(G,24),size:ha.l(G,28),aj8:ha.l(G,32),acZ:ha.l(G,36),alN:ha.l(G,40),a9V:ha.l(G,44),apH:ha.l(G,48),auH:ha.l(G,52),a89:ha.l(G,56),abY:ha.l(G,60),a1b:ha.l(G,64)!=0,aqs:ha.l(G,68),aeE:ha.l(G,92),a6u:ha.l(G,96)};
if(m.Gg==1)m.Gg=65536;if(m.a89!=1)throw"unsupported text encoding "+m.a89;return m},auI:function(G,m){return G[m]<<16|G[m+1]<<8|G[m+2]},aaM:function(G,m){var A=ha.auI(G,m),Q=A&8388608;
return Q?-(16777215-A+1):A},ag7:function(G,m){ha.W7[0]=G[m];return ha.arQ[0]},Ys:function(G,m){var A=ha.W7;
for(var $=0;$<4;$++)A[$]=G[m+3-$];return ha.arN[0]},jT:function(G,m){var A=ha.W7;A[0]=G[m+1];A[1]=G[m];
return ha.aqj[0]},n6:function(G,m){return G[m]<<8|G[m+1]},l:function(G,m){return G[m]<<24|G[m+1]<<16|G[m+2]<<8|G[m+3]},atb:function(G,m){var A=ha.W7;
for(var $=0;$<8;$++)A[$]=G[m+7-$];return ha.ag4[0]},rw:function(G,m){var A=m,jw=0;while(!0){var Q=G[m];
m++;jw=jw*128+(Q&127);if(Q<128)break}return{ok:jw,vb:m-A}},uB:function(G,m,A){var Q="";for(var $=0;$<A;
$++)Q+=String.fromCharCode(G[m+$]);return Q},Io:function(G,m,A){var Q="";for(var $=0;$<A;$++)Q+="%"+ha.a2S(G[m+$].toString(16));
return decodeURIComponent(Q)},Gy:function(G,m,A,Q,H){if(G[m+H-1]==null||A[Q+H-1]==null){console.log(m,Q,H);
throw"e"}for(var $=0;$<H;$++)A[Q+$]=G[m+$]},a2S:function(jw){return jw.length<2?"0"+jw:jw}};ha.W7=new Uint8Array(8);
ha.arQ=new Int8Array(ha.W7.buffer);ha.aqj=new Int16Array(ha.W7.buffer);ha.arN=new Int32Array(ha.W7.buffer);
ha.ag4=new Float64Array(ha.W7.buffer);function cE(G,m,A){this.z0=G;this.dv=m;this.acp=A;this.jk=new dw(0,0);
this.SZ=-1;this.Ty=0;this.qw=0;this.M_=new f_;this.zM=[];this.rf=null;this.a7j=null;this.YY=null;this.uH=null;
this.TQ=null;this.aeu=null}cE.prototype.StartPage=function(G,m,A,Q,H){var J=this.dv,b=J.kF(),O=1,a=(A-G)*(Q-m);
if(H!=null)a=H;while(a*b*b/(O*O)>2*8192*8192)O++;J.scale(1/O,1/O);this.a7j=[G,m,A,Q];var O=J.kF();G=Math.round(G*O);
m=Math.round(m*O);A=Math.round(A*O);Q=Math.round(Q*O);var e=this.z0,R=this.YY;if(R==null){J.Zh=-G}else{var p=R[2]-R[0]+30,P=Math.round(A-G)+30;
if(this.jk.x+p+P>8192){J.Zh=-G;this.jk.x=0;this.jk.y+=this.qw+120;this.qw=0}else{J.Zh+=p;this.jk.x+=p}}J.bx=this.jk.y+(this.acp?Q:-m);
this.qw=Math.max(this.qw,Math.round(Q-m));this.YY=[G,m,A,Q];e.g.push(e.uF())};cE.prototype.Qx=function(){var G=this.z0,m=G.g[G.g.length-1];
return m};cE.prototype.Od=function(){var G=JSON.parse(JSON.stringify(hK.nh.default));G.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
G.strokeEnabled.v=!1;G.fillEnabled.v=!1;return G};cE.prototype.sX=function(){var G=this.z0,m=G.uA();
m.mw("Path "+G.g.length);this.z0.g.push(m);m.$G|=16;m.add.SoCo={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:0,z:0,h:0})}};
m.add.vmsk=new c.Rl;m.add.vstk=this.Od();return m};cE.prototype.ao=function(G){var m={s:G.crds,C:G.cmds},A=N.H.ev(m,!1);
N.U.T6(A,this.dv);return A};cE.ahn=function(G,m){for(var $=0;$<G.length;$++)if(G[$]._t!=null)G[$]._t=m};
cE.ahA=function(G){return Math.sqrt(Math.abs(G[0]*G[3]-G[1]*G[2]))};cE.xE=function(G){return N.X.N4({p:G[0]*255,z:G[1]*255,h:G[2]*255})};
cE.Eb=function(G){return new ci(G[0],G[1],G[2],G[3],G[4],G[5])};cE.prototype.Stroke=function(G){if(this.SZ!=-1&&this.SZ!=this.Ty)return;
if(G.pth.cmds.length<=1)return;var m=this.ao(G.pth);if(m.length<=2)return;this.Ne(G);cE.ahn(m,-1);m[2]._t=1;
var A=cE.xE(G.COLR),Q=this.Qx(),H=this.Od();cE.e6(H,G,this.dv.kF(),A);var J=Q!=null&&Q.add.vmsk!=null&&!Q.r8(),b=J&&!Q.add.vstk.strokeEnabled.v&&c.Rl.amp(Q.add.vmsk.Y,m,!0),O=J&&!Q.add.vstk.fillEnabled.v&&JSON.stringify(H)==JSON.stringify(Q.add.vstk);
if(O){Q.add.vmsk.Y=Q.add.vmsk.Y.concat(m.slice(2))}else if(b){Q.add.vstk=H;H.fillEnabled.v=!0}else{Q=this.sX();
Q.add.vmsk.Y=m;Q.add.vstk=H}};cE.e6=function(G,m,A,Q){G.strokeEnabled.v=!0;G.strokeStyleMiterLimit.v=m.mlimit;
G.strokeStyleLineDashSet.v=en.QQ(m.dash,1/m.lwidth);G.strokeStyleLineDashOffset.v.val=m.doff;G.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hK.nh.join[m.ljoin];
G.strokeStyleLineCapType.v.strokeStyleLineCapType=hK.nh.tJ[m.lcap];G.strokeStyleLineWidth.v.val=Math.max(.4,m.lwidth*cE.ahA(m.ctm)*A);
G.strokeStyleContent.v.Clr.v=Q};cE.prototype.Fill=function(G,m){if(this.SZ!=-1&&this.SZ!=this.Ty)return;
if(G.ca==0)return;var A=G.pth.cmds;if(A.length==0)return;if(A.length==2&&JSON.stringify(A)=="[\"M\",\"L\"]")return;
var Q=N.H.Cf(G.pth.crds),H=N.H.Cf(G.cpth.crds);if(Q.KB(H).My())return;var J=G.pth,b=UDOC.G.isBox(J,[Q.x,Q.y,Q.x+Q.e,Q.y+Q.n]),O=G.cpth,a=UDOC.G.isBox(O,[H.x,H.y,H.x+H.e,H.y+H.n]);
if(b&&a&&Q.Z()>H.Z()*2){var e=Q.KB(H),R=e.x,p=e.y,P=R+e.e,z=p+e.n;J={cmds:["M","L","L","L","Z"],crds:[R,p,P,p,P,z,R,z]};
Q=e}else if(this.uH==null&&UDOC.G.isBox(J,[Q.x,Q.y,Q.x+Q.e,Q.y+Q.n])&&Q.ZM(H)){J=O;Q=H}else this.Ne(G);
var Z=this.ao(J),W=N.H.Zt(Q);N.H.A(W.s,this.dv,W.s);Q=N.H.Cf(W.s);var T=cE.Ep(G.colr,this.dv,Q),i=this.Qx(),X=i!=null&&i.opacity==Math.round(255*G.ca)&&i.add.vstk!=null&&!i.add.vstk.strokeEnabled.v&&i.add.SoCo&&T.type=="SoFi"&&JSON.stringify(i.add.SoCo.Clr.v)==JSON.stringify(T.k.v.Clr.v);
if(X){var U=!1;for(var $=0;$<Z.length;$++){if(Z[$]._t==0||Z[$]._t==2)U=!0}if(U){var M=N.H.Cf(N.U.g4(i.add.vmsk.Y)),C=N.H.Cf(N.U.g4(Z));
X=M.KB(C).My()}}if(X){var x=i.add.vmsk.Y;for(var $=2;$<Z.length;$++)x.push(Z[$])}else{i=this.sX();delete i.add.SoCo;
i.add.vmsk.Y=c.Rl.Ay(Z);cE.RC(G.colr,i,this.dv,Q);cE.s4(G,i)}};cE.RC=function(G,m,A,Q){var H=cE.Ep(G,A,Q),J=null,b=null;
m.add.vstk.fillEnabled.v=!0;if(H.type=="SoFi"){J="SoCo";b=hK.WX}if(H.type=="GrFl"){J="GdFl";b=hK.ln}if(H.type=="patternFill"){J="PtFl";
b=hK.g2}if(J!=null){m.add[J]={classID:"null"};for(var $=0;$<b.length;$++){var O=b[$];m.add[J][O]=H.k.v[O]}}};
cE.prototype.Ne=function(G){var m=this.z0,A=G.cpth,Q=A.cmds.join(""),H=A.crds,J=Q+" "+H.join(","),b=UDOC.G.isBox(A,this.a7j);
if(b&&this.uH==null)return;if(J==this.uH)return;this.jv();if(!b){this.uH=J;m.g.push(m.uF());var O=m.uA();
O.mw("Mask");O.add.lsct=fM.mJ;O.w4="pass";O.$G=24;var a=O.add.vmsk=new c.Rl;a.Y=this.ao(G.cpth);if(UDOC.G.isBox(A)){this.TQ=N.U.jX(a.Y);
this.TQ.e0(3,3)}else this.TQ=null;this.aeu=O}};cE.prototype.jv=function(){var G=this.z0;if(this.uH!=null){var m=G.g.length-1,$=m,A=!1;
while($>=0&&G.g[$].add.lsct!=fM.SB)$--;var Q=this.TQ;if(Q){var H=new f_,J=m;while(J>$){H=G.g[J].QZ(this.z0,!1,!0);
J--}A=Q.ZM(H)}if(A){this.zM.splice($,1);G.g.splice($,1)}else{G.g.push(this.aeu)}this.uH=null}};cE.Ep=function(G,m,A){var Q,H;
if(G.length!=null){Q="SoFi";var J=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);H={t:"Objc",v:J};H.v.Clr.v=cE.xE(G)}else{var b=cE.agc(G,m,A);
Q="GrFl";H={t:"Objc",v:b}}return{type:Q,k:H}};cE.agc=function(G,m,A){var Q=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),H=Q.Grad.v;
H.Intr.v=0;var J=cE.Eb(G.mat);J.concat(m);var b=new dw(0,0),O=new dw(A.e,0),a=G.crds;if(G.typ=="rad"){Q.Type.v.GrdT="Rdl";
var e=.7;b.x=(1-e)*a[0]+e*a[3];b.y=(1-e)*a[1]+e*a[4];O.x=b.x;O.y=b.y;O.x+=Math.max(a[2],a[5])}else{Q.Type.v.GrdT="Lnr";
b.x=a[0];b.y=a[1];O.x=a[2];O.y=a[3];b.x=O.x+.5*(b.x-O.x);b.y=O.y+.5*(b.y-O.y)}b=J.Yw(b);O=J.Yw(O);N.X.So(b,O,A,Q);
var R=G.grad;N.X.sw(R,H);return Q};cE.prototype.PutText=function(G,m,A,Q){var H=m.charCodeAt(0),P=null;
if(this.SZ!=-1&&this.SZ!=this.Ty)return;if(m.length==0||m.length==1&&(H==0||H==8203))return;this.Ne(G);
var J=this.z0,b=G.font,O=cE.Eb(G.ctm);O.concat(this.dv);var a=cE.Eb(b.Tm);a.concat(O);var e=f.Q.kF(a),R=new ci(1/e,0,0,-1/e,0,0);
R.concat(a);var p=b.Tfs*e,z=J.g.length-1;while(z>=0&&J.g[z].add.TySh==null)z--;if(R.h*R.h+R.Qv*R.Qv<.001&&Q==null&&z>=0&&J.g[z].add.TySh&&J.g[z].opacity==Math.round(255*G.ca)){var Z=J.g[z],W=this.zM[z],T=Z.add.TySh.A,i=(T.Zh+W.sP-R.Zh)/p,X=Math.abs(i),U=m.indexOf(" ")==-1,M=T.Uj==R.Uj&&T.h==R.h&&T.Qv==R.Qv&&T.nd==R.nd,C=M&&Math.abs(W.cF-R.bx)<1e-5&&X<.6,x=R.bx-W.cF;
if(C){P=Z;W.sP=R.Zh-T.Zh;if(i>.2&&U&&[".",",","?",":","!"].indexOf(m)==-1)m=" "+m}else if(M&&Math.abs(R.Zh-T.Zh)<1e-5&&0<x&&x<p*1.7&&W.a1y==p){P=Z;
this.Fr(W);W.cF=R.bx;m="\n"+m}}if(P==null){z=J.g.length;this.zM[z]={$P:[],sP:0,cF:R.bx,nc:"",a1y:p};
P=J.uA();J.g.push(P);P.add.lnsr="rend";P.add.TySh=fC.lw(0,0);P.add.TySh.A=R}var W=this.zM[z];W.sP+=A*p;
W.nc+=m;var L=P.add.TySh.DQ,E=fC.Gn(L);if(Q){fC.hR(L,1);var l=[0,0,Math.ceil(Q[0]*e),Math.ceil(Q[1]*e)];
fC.vL(L,l)}var y=E.length-1,Y=y+m.length;fC.OA(L,y,m);if(this.rf==null)this.rf=fC.ui(L,y,y);var F=this.rf;
F.In.FontSize=Math.round(p);F.In.Tracking=Math.round(b.Tc*100);F.In.Underline=b.Tun==1;F.In.FillColor={Type:1,Values:[1,G.colr[0],G.colr[1],G.colr[2]]};
if(b.Tal!=null)F.DF.Justification=b.Tal;if(W.$P.length!=0){F.In.AutoLeading=!1;F.In.Leading=W.cF-W.$P[W.$P.length-1].y}var w=b.Tf;
w=w.replace(/#2B/g,"+");w=w.replace(/#2C/g,"-");w=w.split("+").pop();var j={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(j[w])w=j[w];fC.fT(F,w);fC.QT(L,y,Y-1,F);P.mz();P.opacity=Math.round(255*G.ca)};cE.prototype.Fr=function(G){G.$P.push({zp:G.sP,sH:G.nc.slice(G.$P.length==0?0:1)+"\n",y:G.cF,H6:G.a1y});
G.sP=0;G.nc=""};cE.prototype.JO=function(G,m,A){return new Uint8Array(dt.aW("PNG").Af([[G.buffer,0]],m,A))};
cE.prototype.PutImage=function(G,m,A,Q,H,J,b){if(this.SZ!=-1&&this.SZ!=this.Ty)return;var O=this.z0,a=G.font.Tmode;
if(a==7&&O.g[O.g.length-1].add.TySh){return}this.Ne(G);var e=cE.Eb(G.ctm);e.concat(this.dv);var R=new ci(1/A,0,0,-1/Q,0,1);
R.concat(e);e=R;m=cE.bq(m,A,Q,J,!1);if(H)H=cE.bq(H,A,Q,b,!0);if(H==null){if(m.length==A*Q*4)m=this.JO(m,A,Q)}else{m=this.Te(m,A,Q,J,!1);
H=this.Te(H,A,Q,b,!0);var p=N.$(A*Q);N.gF(H,p,0);N.I5(p,m,3);m=this.JO(m,A,Q)}var P=O.Ak(m,"Bitmap",0,0),z=P.rect.clone();
z.x=z.y=0;var Z=N.H.Zt(z).s;N.H.A(Z,e,Z);P.add.SoLd.Trnf=f.Q.J_(Z);P.add.SoLd.nonAffineTransform=f.Q.J_(Z);
P.wH(O,!1);cE.s4(G,P);O.g.push(P)};cE.s4=function(G,m){m.opacity=Math.round(255*G.ca);var A=cE.iX[G.bmode];
if(A==null)console.log("Unknown blend mode",A);else m.w4=A};cE.iX={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
cE.cz=function(G){for(var m in cE.iX)if(cE.iX[m]==G)return m};cE.bq=function(G,m,A,Q,H){var J=dt.mG(G.buffer);
if(J=="jpg"){try{G=new Uint8Array(dt.aW("JPG").arf(G.buffer))}catch(f5){G=new Uint8Array(m*A*4)}}else if(J=="jb2"){G=new Uint8Array(dt.aW("JPG").uJ(G.buffer,Q,H)[0].data)}else if(G.length!=m*A*4){var b=new Uint8Array(m*A*4),O=Math.ceil(m/8),a=new Uint8Array(A*O);
UTIF.decode._decodeG4(G,0,G.length,a,0,m,1);var e=a[0]==(H?255:0);for(var R=0;R<A;R++){var p=O*R;for(var P=0;
P<m;P++){var $=R*m+P,z=$*4,Z=(a[p+(P>>3)]>>7-(P&7)&1)*255;if(e)Z=255-Z;b[z]=Z;b[z+1]=Z;b[z+2]=Z;b[z+3]=255}}G=b}return G};
cE.prototype.Te=function(G,m,A,Q,H){if(G.length!=m*A*4){var J=dt.mG(G.buffer);if(J=="jb2")throw"e";var b=dt.aW(J);
if(b==null||J=="tga")b=dt.aW("jpg");G=new Uint8Array(b.uJ(G,Q,H)[0].data)}return G};cE.prototype.ShowPage=function(){var G=this.z0;
this.Ty++;var m=this.YY;this.jv();var A=G.uA();G.g.push(A);var Q=new f_(Math.round(this.jk.x),Math.round(this.jk.y),Math.round(m[2]-m[0]),Math.round(m[3]-m[1]));
if(Q.My())Q.e=Q.n=2e3;this.M_=this.M_.wj(Q);A.I_(Q);A.add.artb.artboardBackgroundType.v=3;A.mw("Page "+this.Ty);
A.add.lsct=fM.mJ;A.w4="pass";A.$G=24};cE.prototype.Print=function(G){console.log("Print:",G)};cE.prototype.Done=function(){var G=this.z0;
if(this.Ty==1)G.g[G.g.length-1].add.lsct=fM.UK;G.on(this.Ty);for(var $=0;$<G.g.length;$++){var m=G.g[$],A=m.add.vmsk,Q=m.add.TySh,H=this.zM[$];
m.ON();if(A){var J=!1;for(var b=0;b<A.Y.length;b++){var O=A.Y[b];if((O.type==0||O.type==3)&&O.length>32767)J=!0}if(J){G.g.splice($,1);
$--;continue}}m.hM(G);if(Q&&H.$P.length!=0){this.Fr(H);var a=Q.DQ,e=H.$P.length,R=H.$P[0],p=0,P=0;for(var b=0;
b<e;b++)p=Math.max(p,H.$P[b].zp);fC.hR(a,1);Q.A.bx-=R.H6*.7;fC.vL(a,[0,0,Math.ceil(p*1.1),Math.ceil(H.$P[e-1].y-R.y+R.H6*2)])}if(Q){var a=Q.DQ;
fC.ajc(a);var z=fC.Gn(a).split("\n");for(var b=0;b<z.length-1;b++){var Z=z[b],W=0;for(var T=0;T<Z.length;
T++){var X=Z.charCodeAt(T);if(1473<=X&&X<=1524)W++}if(W>Z.length/2){z[b]=Z.split("").reverse().join("");
var U=a.EngineDict.ParagraphRun.RunArray[b].ParagraphSheet.Properties;U._Direction=1;U.Justification=fC.VK(U)}}fC.fM(a,z.join("\n"))}}G.sp=!0;
G.e=this.M_.e;G.n=this.M_.n;G.buffer=N.$(this.M_.Z()*4)};var b0={};b0.sU=function(G,m,A,Q,H,J){if(H==null)H=G.e;
if(J==null)J=G.n;var b=!1,O=[G.root],a=G.root.children;if(G.add.artd){b=!0;for(var $=0;$<a.length;$++)if(a[$].i.add.artb==null)b=!1;
if(b)O=a}var e=new f_(0,0,G.e,G.n),R=m[0];R=R.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
R=R.split(" ");var p=[];for(var $=0;$<R.length;$++){var P=R[$];if(P=="-"){var z=p.pop(),Z=parseInt(R[$+1]);
while(z<Z){p.push(z);z++}}else p.push(parseInt(P))}R=p;for(var $=0;$<R.length;$++)if(isNaN(R[$])||R[$]<1||R[$]>O.length){R.splice($,1);
$--}var W=H/G.e,T=J/G.n,i=W*72/G.SV,X=T*72/G.SV,U=m[5];if(U==null)U=0;var M=72*U,C=72*U;for(var $=0;
$<O.length;$++){if(R.length!=0&&R.indexOf($+1)==-1)continue;var x=O[$],L=b?x.i._Q():e,E=Math.round(L.e*i+2*M),l=Math.round(L.n*X+2*C);
A.StartPage(0,0,E,l);var y=UDOC.getState([[0,0,E,l]]),Y=new ci;Y.translate(-L.x,-L.y-L.n);Y.scale(i,-X);
Y.translate(M,C);if(m[2]){var F=G.$s();if(!e.A5(L)){F=N.$(L.Z()*4);N.Pr(G.$s(),e,F,L)}if(m[1]!=100){var w=dt.aW("JPG").Af([[F.buffer]],L.e,L.n,[m[1]]);
F=new Uint8Array(w)}var j=new ci;j.translate(L.x,L.y);b0.nX(y,A,F,L,j,Y)}else b0.hW(G,x,y,A,Y,m,Q);A.ShowPage()}A.Done()};
b0.cc=function(G){G=N.X.SR(G);return[G.p/255,G.z/255,G.h/255]};b0.hW=function(G,m,A,Q,H,J,b){var O=m.i,a=O.add.lsct,e=O.add.lmfx,R=O.add.vmsk,p=O.add.vstk,P=O.add.TySh,T,i;
if(!O.HX())return;var z=O.opacity/255,Z=O.add.iOpa!=null?O.add.iOpa/255:1;A.bmode=cE.cz(O.w4);A.ca=A.CA=z*Z;
var W=e;if(W)W=W.solidFillMulti.v[0];if(W)W=W.v;if(W&&!W.enab.v)W=null;var X=O.rect;if(O.Kg()&&(!O.r8()||O.zr&&O.zr.VL)){if(O.r8){T=O.zr.VL;
X=O.zr.aiC}else{T=N.$(O.rect.Z());N.gF(O.buffer,T,3)}i=en.nr(e,null,T,X,G,X).type;var U=["DrSh","OrGl"];
if(Z!=1||p&&!p.fillEnabled.v){var M=T.slice(0);N.G3(M);for(var $=0;$<U.length;$++){var C=i[U[$]];for(var x=0;
x<C.length;x++){var L=C[x],E=L.Yb.clone();E.x+=X.x;E.y+=X.y;N.iz(M,X,L.uw,E)}}}}if(i)b0.rt(O,T,X,i,A,Q,H,J,!0);
if(O.r8()){for(var $=0;$<m.children.length;$++)b0.hW(G,m.children[$],A,Q,H,J,b)}else if(R&&O.gX()){var l=R.Y,y=N.U.jX(l),Y=!1,F=!1,w=!1;
if(p.fillEnabled.v){var j=en.CR(e,O.add),_=j[0],D=j[1];A.colr=b0.m5(_?_:D,H,y);Y=!0}var t=en.Uv(e);if(!p.strokeEnabled.v&&t)p=t;
if(p.strokeEnabled.v){var K=p.strokeStyleContent.v,d=p.strokeStyleLineDashSet.v,o=hK.nh.rr.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
A.COLR=b0.m5(K,H,y);A.lwidth=p.strokeStyleLineWidth.v.val*(o==2?2:1)*H.kF();A.mlimit=p.strokeStyleMiterLimit.v;
A.doff=p.strokeStyleLineDashOffset.v.val;A.ljoin=hK.nh.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
A.lcap=hK.nh.tJ.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType);A.dash=[];for(var $=0;$<d.length;
$++)A.dash.push(d[$].v.val*A.lwidth);if(A.dash.length==1&&A.dash[0]==0)A.dash=[];F=!0;if(o==2)w=!0}var k=N.H.u3(l,F).dW;
N.H.A(k.s,H,k.s);A.pth={cmds:k.C,crds:k.s};if(Y&&!w)Q.Fill(A);if(F)Q.Stroke(A);if(Y&&w)Q.Fill(A)}else if(P&&J[4]){var v=P.DQ,u=new dq(v,b),k=g5.xT(u,P),B=N.H.HB(k);
for(var S in B){var I=parseInt(S.slice(1),16);A.colr=W?b0.cc(W.Clr.v):[(I>>>16&255)/255,(I>>>8&255)/255,(I&255)/255];
var q=B[S];N.H.A(q.s,H,q.s);q=N.H.ag5(q);A.pth={cmds:q.C,crds:q.s};Q.Fill(A)}}else if(P&&J[3]==!1){var v=JSON.parse(JSON.stringify(P.DQ));
fC.ajc(v);var hw=P.A.clone(),fY=new ci(1,0,0,-1,0,0);fY.concat(hw);fY.concat(H);var s=fC.Gn(v),u=new dq(v,b);
for(var $=0;$<u.DF.length;$++){var hZ=u.DF[$];if(hZ.u0.length==1&&hZ.u0[0]._x)continue;for(var x=0;x<hZ.K$.length;
x++){var bG=hZ.K$[x],aY=hZ.tg.y+bG.tg.y,fj=hZ.u0[bG.start].start,jg=hZ.u0[bG.end-1].end,ae=fC.afk(v,fj,jg);
for(var iB=0;iB<ae.length;iB++){var eg=u.xr(fj),dM=ae[iB],fK=fC.ui(v,fj,fj),aQ=fK.sa[fK.In.Font].Name;
A.font.Tf=aQ;var S=fC.SR(fK.In.FillColor);A.colr=W?b0.cc(W.Clr.v):[S.p/255,S.z/255,S.h/255];var cQ=A.font.Tfs=Math.round(fK.In.FontSize),a7=s.slice(fj,fj+dM);
if(fK.In.FontCaps==2)a7=a7.toUpperCase();var gz=new ci;gz.translate(eg.PR.x,-aY);gz.concat(fY);A.ctm=[gz.Uj,gz.h,gz.Qv,gz.nd,gz.Zh,gz.bx];
Q.PutText(A,a7,0);for(var bQ=0;bQ<2;bQ++){var d4=fK.In[bQ==0?"Strikethrough":"Underline"];if(!d4)continue;
var j2=u.xr(fj+dM-1),j7=bQ==0?.27:-.2,fG=cQ*j7,bT=cQ*(j7+.07),je=j2.PR.x+j2.PR.e-eg.PR.x,ba=[0,fG,je,fG,je,bT,0,bT];
N.H.A(ba,gz,ba);A.pth={cmds:["M","L","L","L","Z"],crds:ba};Q.Fill(A)}A.ctm=[1,0,0,1,0,0];fj+=dM}}}}else if(!O.rect.My()){var j6,cl,js=!1,fR=new ci;
if(O.add.SoLd){var iW=O.add.SoLd,fx=iW.Idnt.v,dm=G.Lg(fx,iW.Crop?iW.Crop.v:null),jj="";if(dm==null)return;
var fq=dm.CX,h2=dt.mG(dm.raw.buffer);if(J[6].indexOf(h2)!=-1){j6=dm.raw;js=!0}else j6=fq[0];cl=fq[1];
fR=N.N.kE(iW)}else{j6=O.buffer;cl=O.rect;fR.translate(cl.x,cl.y)}if(W&&!js)j6=en.abA(j6,W,cl);b0.nX(A,Q,j6,cl,fR,H);
if(W&&js){var ba=[0,0,cl.e,0,cl.e,cl.n,0,cl.n];N.H.A(ba,fR,ba);N.H.A(ba,H,ba);var iM=JSON.parse(JSON.stringify(A));
iM.ca=W.Opct.v.val/100;iM.pth={cmds:["M","L","L","L","Z"],crds:ba};iM.colr=b0.cc(W.Clr.v);Q.Fill(iM)}}if(i)b0.rt(O,T,X,i,A,Q,H,J,!1)};
b0.m5=function(G,m,A){if(G.Clr)return b0.cc(G.Clr.v);var Q=G,H=Q.Rvrs?Q.Rvrs.v:!1,J=[],b,O=Q.Type.v.GrdT=="Rdl"?"rad":"lin",a=N.X.hQ(Q,A),e=m.Yw(a[0]),R=m.Yw(a[1]);
if(O=="rad")b=[e.x,e.y,0,e.x,e.y,dw.SH(e,R)];else{e.QU(R.x+(e.x-R.x)*2,R.y+(e.y-R.y)*2);b=[e.x,e.y,R.x,R.y]}var p=Q.Grad.v.Clrs.v;
for(var $=0;$<p.length;$++){var P=p[$].v,z=P.Lctn.v/4096;J.push([H?1-z:z,b0.cc(P.Clr.v)])}if(H)J.reverse();
return{typ:O,mat:[1,0,0,1,0,0],grad:J,crds:b}};b0.rt=function(G,m,A,Q,H,J,b,O,a){var e=A.clone(),R=m;
if(G.add.TySh&&!O[3]&&!O[4])return;var p=H.ca,P=H.bmode;for(var $=hK.order.length-1;$>=0;$--){var z=hK.order[$];
if(z=="GrFl"||z=="SoFi")continue;if(G.add.vmsk&&z=="FrFX")continue;var Z=Q[z],W=$>7||z=="FrFX";if(W!=a)continue;
for(var T=0;T<Z.length;T++){var i=Z[T];console.log(W,z,i);if(i.Yb==null)i=i.HW?i.HW:i.f3;var X=i.Yb.clone();
X.offset(e.x,e.y);if(!W){if(!e.ZM(X)){var U=e.wj(X),M=N.$(U.Z());N.qg(R,e,M,U);R=M;e=U}N.iz(R,e,i.uw,X)}if(W&&z=="FrFX"&&i.ys)N.iz(i.ys,X,i.uw,X);
var C=new ci;C.translate(X.x,X.y);H.ca=i.uD;H.bmode=cE.cz(i.kb);b0.nX(H,J,i.uw,X,C,b)}}H.ca=p;H.bmode=P};
b0.nX=function(G,m,A,Q,H,J){var b=new ci;b.scale(Q.e,-Q.n);b.translate(0,Q.n);b.concat(H);b.concat(J);
G.ctm=[b.Uj,b.h,b.Qv,b.nd,b.Zh,b.bx];m.PutImage(G,A,Q.e,Q.n);G.ctm=[1,0,0,1,0,0]};var dW={};dW.dm=function(G){var m=new Uint8Array(G);
return dW.vB(m,0)};dW.vB=function(G,m){var A=V.l,Q=V.uB,H={kl:Q(G,m,4),r:m+8,size:A(G,m+4)},J=H.kl=="FORM"||H.kl=="LIST"||H.kl=="CAT ";
if(J)H.Tn=Q(G,m+8,4);if(H.size<0||H.r+H.size>G.length)throw"e";if(J){H.sub=[];m+=12;var b=H.r+H.size;
while(m<b){var O=dW.vB(G,m);H.sub.push(O);m+=8+O.size+(O.size&1)}}return H};var eK={};eK.dm=function(G,m){var A=new Uint8Array(G);
return eK.vB(A,0,m)};eK.vB=function(G,m,A){var Q=V.Wj,H=V.uB,J={kl:H(G,m,4),r:m+8,size:Q(G,m+4)};if(A&&A[J.size]!=null)J.size=A[J.size];
if(J.kl=="RIFF"||J.kl=="LIST"){J.Tn=H(G,m+8,4)}if(J.size<0||J.r+J.size>G.length)throw"e";if(J.kl=="RIFF"||J.kl=="LIST"&&(J.Tn!="cmpr"&&J.Tn!="stlt")){J.sub=[];
m+=12;var b=J.r+J.size;while(m<b){var O=eK.vB(G,m,A);J.sub.push(O);m+=8+O.size+(O.size&1)}}return J};
function dz(){}dz.dm=function(G,m){var A=new Uint8Array(G);m.sp=!0;var Q=V.uB(A,0,2);if(Q=="WL"){alert("Unsupported CDR version")}else{var H=dz.ut,J=eK.dm(A.buffer),b={data:A,r:0,ck:dz.a6y(A[11])},O,a,Z=300;
b.Ww=b.ck<600?16:32;dz.v2(b,J.sub,m,0);if(H(J,"cmpr")==null){O=H(J,"page");a=O}else{var e=H(J,"cmpr").sub;
O=e[0];a=e.slice(1)[1];var R=H(O,"filt").sub,p=H(O,"otlt").sub;O.ee={};for(var $=0;$<R.length;$++)O.ee[R[$].sub[0].k.id]=R[$].sub[0].k;
O.aO={};for(var $=0;$<p.length;$++)O.aO[p[$].k.id]=p[$].k}var P=H(O,"mcfg").k,z=P.aed;Z/=gp.zs(new f_(0,0,Math.round(z.x*Z),Math.round(z.y*Z)),8192*8192);
var W=Math.round(z.x*Z),T=Math.round(z.y*Z);m.e=W;m.n=T;m.buffer=N.$(m.e*m.n*4);var i=new ci(Z,0,0,-Z,z.x*Z/2,z.y*Z/2);
dz.BU(a,O,m,i);m.on(1);m.g[m.g.length-1].I_(new f_(0,0,W,T))}};dz.ut=function(G,m){var A=null;for(var $=0;
$<G.sub.length;$++){var Q=G.sub[$];if(Q.kl==m||Q.Tn==m)A=Q}return A};dz.BU=function(G,m,A,Q){var H=dz.ut,J=G.Tn?G.Tn:G.kl,b=H(G,"lgob"),O=H(G,"txsm"),a,e;
if(b){a=H(b,"trfl");e=H(b,"loda")}else if(H(G,"lobj"))e=H(G,"lobj");var R=a?a.sub[0].Nu.clone():new ci;
R.concat(Q);var p=A.uA();if(J=="page"||J=="layr"||J=="grp "){p.mw((J=="page"?"Page":"Group")+" "+A.g.length);
p.add.lsct=fM.UK;p.w4="pass";p.$G=24;var P=[];if(J=="page")P=H(G,"gobj").sub;if(J=="layr")P=G.sub.slice(2);
if(J=="grp ")P=G.sub.slice(4);if(P.length==0)return;A.g.push(A.uF());for(var $=P.length-1;$>=0;$--)dz.BU(P[$],m,A,Q)}else if(J=="obj "&&e.k&&e.k.path){p.mw("Object "+A.g.length);
var z,Z;if(m.ee){z=m.ee[e.k.abq];Z=m.aO[e.k.amU]}var W=p.getName(),T=z&&z.type!=0,i=T&&z.k!=null?z.k:[0,0,0];
p.$G|=16;p.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));var X=p.add.vstk;X.strokeEnabled.v=!1;
p.add.vmsk=new c.Rl;if(Z&&Z.aem!=1){X.strokeEnabled.v=!0;X.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
X.strokeStyleLineWidth.v.val=Z.lineWidth*Q.kF();var U=Z.color;X.strokeStyleContent.v.Clr.v=N.X.N4({p:U[0]*255,z:U[1]*255,h:U[2]*255})}var M=e.k.path;
p.add.vmsk.Y=N.H.ev(M,!1);N.U.T6(p.add.vmsk.Y,R);cE.RC(i,p,R,N.U.jX(p.add.vmsk.Y));X.fillEnabled.v=T;
p.ON();p.hM(A)}else if(J=="obj "&&O){var C=e.k.a0X,x=e.k.acy,l="";p.add.TySh=fC.lw(0,0);var L=R.kF();
p.add.TySh.A.translate(R.Zh,R.bx);var E=p.add.TySh.DQ,y=O.k.aqL;for(var $=0;$<y.length;$++){var Y=y[$],F=l.length;
l+=Y.text+"\n";fC.OA(E,F,Y.text+"\n");var w=dz.a3t(Y.at_,m),j=fC.ui(E,F,l.length);if(w.align==3)j.DF.Justification=1;
else j.DF.Justification=0;var _=w.fill.k;j.In.FillColor={Type:1,Values:[1,_[0],_[1],_[2]]};j.In.FontSize=Math.round(w.ahV.fontSize*R.kF());
fC.QT(E,F,l.length-1,j)}if(x){fC.hR(E,0)}else{fC.hR(E,1);fC.vL(E,[0,0,Math.round(C.x*R.Uj),Math.round(-C.y*R.nd)])}p.mw(l.slice(0,10))}else{p=null}if(p)A.g.push(p)};
dz.a3t=function(G,m){var A=dz.ut(m,"stlt").k,Q=JSON.parse(JSON.stringify(A.g9[G]));if(Q._q!=0){var H=A.g9[Q._q];
for(var J in H)if(Q[J]==null||Q[J]==0)Q[J]=H[J];delete Q._q}Q.align=A.asu[Q.at6];Q.fill=m.ee[A.aql[Q.anM]];
Q.and=m.aO[A.alT[Q.anU]];Q.ahV=A.adF[Q.a8_];return Q};dz.ahM=function($){var jw=$.data[$.r];$.r+=1;return jw};
dz.Js=function($){var jw=V.cZ($.data,$.r);$.r+=2;return jw};dz.iW=function($){var jw=V.Wj($.data,$.r);
$.r+=4;return jw};dz.aiL=function($){var jw=V.Wj($.data,$.r);$.r+=8;return jw};dz.Zn=function($){var jw=V.ec($.data,$.r);
$.r+=2;return jw};dz.vd=function($){var jw=V.qA($.data,$.r);$.r+=4;return jw};dz.Bo=function($){var jw=V.qI($.data,$.r);
$.r+=8;return jw};dz.P8=function($){if($.r>=$.data.length)throw"e";var G=0;while($.data[$.r+G]!=0)G++;
var m=V.uB($.data,$.r,G);$.r+=G+1;return m};dz.ati=function(G){if(G.ck<600)return Math.PI*dz.Zn(G)/1800;
return Math.PI*dz.vd(G)/18e7};dz.auu=function(G){if(G.ck<1500)return dz.FJ(G);else return dz.Bo(G)/254e3};
dz.FJ=function(G){if(G.ck<600)return dz.Zn(G)/1e3;else return dz.vd(G)/254e3};dz.agP=function(G){if(G.ck<600)return dz.Js(G);
else return dz.iW(G)};dz.anw=function(G){if(G.ck<600)return CRDParser.Zn(G);else return dz.vd(G)};dz.v2=function(G,m,A,Q){var H=dz,J=H.ahM,b=H.Js,O=H.iW,a=H.aiL,e=H.Zn,R=H.vd,p=H.Bo,P=H.FJ,z=H.auu,Z=H.ati,W=H.agP,T=H.anw;
for(var i=0;i<m.length;i++){var X=G.ck,U=m[i];G.r=U.r+(U.kl=="LIST"?4:0);if(U.kl=="vrsn"){var M=b(G);
G.ck=M;console.log("Version",M);G.Ww=M<600?16:32}else if(U.kl=="DISP"){}else if(U.kl=="LIST"&&U.Tn=="cmpr"){var C=O(G),x=O(G),L=O(G),E=O(G),l=new Uint8Array(G.data.buffer,G.r+8+2,C-6-8),y=pako.inflateRaw(l),j=0;
G.r+=C;l=new Uint8Array(G.data.buffer,G.r+8+2);var Y=pako.inflateRaw(l),F=[];for(var w=0;w<Y.length;
w+=4)F.push(V.Wj(Y,w));U.sub=[];while(j<y.length){var _=eK.vB(y,j,F);j=_.r+_.size;U.sub.push(_)}var D={data:y,r:0,ck:X,Ww:G.Ww};
dz.v2(D,U.sub,A,Q+1)}else if(U.kl=="LIST"&&U.Tn=="stlt"){var t=G.r,bG=32;U.k={};var K=O(G);if(K==0)return;
U.k.aql=dz.JX(G,X>=1300);U.k.alT=dz.JX(G);U.k.adF={};var d=O(G);for(var $=0;$<d;$++){var o=O(G);G.r+=X<1e3?12:20;
var k=b(G),v=b(G);G.r+=8;var u=P(G);G.r+=X<1e3?12:20;U.k.adF[o]={a8F:k,a7K:v,fontSize:u}}U.k.asu=dz.JX(G);
var B=O(G);G.r+=52*B;var S=O(G);G.r+=152*S;var I=O(G);G.r+=784*I;var q=O(G);for(var $=0;$<q;$++){G.r+=40;
if(X>1300)G.r+=4;if(X>=1300){if(O(G))G.r+=68;else G.r+=12}else{G.r+=20;if(X>=1e3)G.r+=8;if(O(G))G.r+=8;
G.r+=8}}var hw=O(G);U.k.a2Z={};for(var $=0;$<hw;$++){var fY=O(G),s={};G.r+=12;s.right=P(G);s.a0r=P(G);
s.left=P(G);U.k.a2Z[fY]=s}var hZ=O(G);if(X>=1300)bG+=4;G.r+=bG*hZ;var aY=O(G);G.r+=28*aY;if(X>800){var fj=O(G);
G.r+=12*fj}U.k.g9={};for(var $=0;$<K;$++){var jg=O(G),ae=O(G),iB={};iB._q=O(G);G.r+=8;var eg=O(G);if(X>=1200)eg*=2;
G.r+=eg;iB.anM=O(G);iB.anU=O(G);if(jg>1){iB.a8_=O(G);iB.at6=O(G);iB.a7J=O(G);iB.a7x=O(G);if(X>800)iB.ana=O(G)}if(jg>2){iB.amY=O(G);
iB.akZ=O(G);iB.alv=O(G);iB.aqJ=O(G);iB.a8M=O(G)}U.k.g9[ae]=iB}}else if(U.kl=="LIST")dz.v2(G,U.sub,A,Q+1);
else if(U.kl=="txsm"){U.k={};if(X<600)throw"e";if(X<700)throw"e";if(X>=1600)throw"e";if(X>=1500)G.r+=37;
else G.r+=36;if(O(G)){if(X<800)G.r+=32}if(X<800)G.r+=4;U.k.ags=O(G);U.k.aqL=[];G.r+=48;if(X>=800){if(O(G)){G.r+=32;
if(X>=1300)G.r+=8}}if(X>=1500)G.r+=12;var jg=O(G),dM=1,fK=!1;if(!jg){if(X>=800)G.r+=4;if(X>800)G.r+=2;
if(X>=1400)G.r+=2;G.r+=24;if(X<800)G.r+=8;dM=O(G)}for(var w=0;w<dM;w++){var aQ=O(G),$=0;if(X>=1300&&jg)G.r++;
G.r++;var K=O(G),cQ=[];for($=0;$<K;$++){var a7=J(G),bQ=0;J(G);var gz=J(G);if(X>=800)bQ=J(G);var iB={};
if(gz&1){iB.a8F=b(G);var d4=b(G);if(d4)iB.atZ=d4}if(gz&2)G.r+=4;if(gz&4)iB.ap0=P(G);if(gz&8)G.r+=4;if(gz&16)G.r+=4;
if(gz&32)G.r+=4;if(gz&64){iB.anM=O(G);if(X>=1500)G.r+=48}if(gz&128){iB.anU=O(G)}if(bQ&8){if(X>=1300){var j2=O(G);
if(G.r+j2*2>=G.data.length){fK=!0;break}G.r+=j2*2}else G.r+=4}if(bQ&32){var j7=J(G);if(j7)G.r+=52}if(a7==2)if(X>=1300)G.r+=48;
cQ.push(iB)}if(fK){break}var fG=O(G);if(G.r+fG*4>G.data.length)break;var bT=[];for($=0;$<fG;$++){var je=0;
if(X>=1200)je=a(G)&4294967295;else je=O(G);bT[$]=je>>16|je&1}var ba=fG;if(X>=1200)ba=O(G);var j6=dz.P8(G);
U.k.aqL.push({at_:aQ,text:j6,g9:cQ})}}else if(U.kl=="font"){var cl=b(G),js=b(G);G.r+=14;var fR=dz.P8(G);
U.k={id:cl,aoj:js,name:fR}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(U.kl)!=-1){}else if(U.kl=="flgs")U.k=O(G);
else if(U.kl=="bbox"){var iW=P(G),fx=P(G),dm=P(G),fq=P(G);U.k=new f_(iW,fx,dm-iW,fq-fx)}else if(U.kl=="fild"){var h2=O(G),jj=0,aC;
if(X>=1300){G.r+=4;jj=b(G);G.r+=2}var iM=b(G);if(iM==0){}else if(iM==1){G.r+=X>=1300?13:2;aC=dz.FI(G)}else if(iM==2){G.r+=X>=1300?8:2;
var aB=J(G),ep=0;if(X>=1300){G.r+=17;ep=e(G)}else if(X>=600){G.r+=19;ep=R(G)}else{G.r+=11;ep=e(G)}var h6=Z(G),dJ=.5+T(G),gs=.5+T(G)-.5;
if(X>=600)G.r+=2;var ej=W(G)&255,eH=J(G)/100;G.r++;var hT=W(G)&65535;if(X>=1300)G.r+=3;var dO=[];for(var $=0;
$<hT;$++){var fE=dz.FI(G);if(X>=1300){if(jj==158||X>=1600&&jj==150)G.r+=26;else G.r+=5}var hD=W(G)/100;
if(X>=1300)G.r+=3;dO.push([hD,fE])}aC={typ:aB==1?"lin":"rad",crds:[dJ-Math.cos(h6)/2,gs-Math.sin(h6)/2,dJ,gs],grad:dO,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",iM);
U.k={id:h2,type:iM,k:aC}}else if(U.kl=="outl"){var d9=O(G);if(X>=1300){var iQ=0,iS=0;while(iQ!=1){G.r+=iS;
iQ=O(G);iS=O(G)}}var bZ=b(G),dy=b(G),jh=b(G);if(X<1300&&X>=600)G.r+=2;var eE=P(G),jr=b(G)/100;if(X>=600)G.r+=2;
var dr=Z(G);if(X>=1300)G.r+=46;else if(X>=600)G.r+=52;var aC=dz.FI(G,d9==270963208||d9==276198e3,d9);
U.k={id:d9,aem:bZ,aiv:dy,anW:jh,lineWidth:eE,color:aC}}else if(U.kl=="mcfg"){if(1300<=X)G.r+=12;else if(900<=X)G.r+=4;
else if(600<=X&&X<700)G.r+=28;var jL=0,dI=0;if(X<400){G.r+=2;var iW=P(G),fx=P(G),dm=P(G),fq=P(G);jL=Math.abs(dm-iW);
dI=Math.abs(fq-fx)}else{jL=P(G);dI=P(G)}U.k={aed:new dw(jL,dI)}}else if(U.kl=="loda"||U.kl=="lobj"){var t=G.r,aF=W(G),gd=W(G),eG=W(G),bb=W(G),hM=W(G),cD=[],fr=[];
G.r=t+eG;for(var $=0;$<gd;$++)cD[$]=W(G);G.r=t+bb;for(var $=gd-1;$>=0;$--)fr[$]=W(G);U.k={};for(var $=0;
$<gd;$++){G.r=t+cD[$];var cp=fr[$];if(cp==10)U.k.amU=O(G);else if(cp==20)U.k.abq=O(G);else if(cp==200)U.k.ajq=W(G);
else if(cp==30){if(X<400)hM--;if(hM==1){var iW=z(G),fx=z(G),cG=0,eX=0,eN=0,iF=0;if(X<1500){iF=z(G);eN=X<900?iF:z(G);
eX=X<900?iF:z(G);cG=X<900?iF:z(G)}else throw"e";U.k.path=N.H.Zv(N.U.Y0.Rect(0,0,iW,fx,cG))}else if(hM==2){var ay=P(G),iJ=P(G),hY=Z(G),gv=Z(G),ix=Math.abs(ay),f1=Math.abs(iJ);
U.k.path=N.H.Zv(N.U.Y0.dd(0,0,ix,-f1))}else if(hM==3){U.k.path=dz.aet(G)}else if(hM==4){U.k.acy=dz.aug(G)}else if(hM==6){U.k.a0X=dz.a0b(G)}else if(hM==37){U.k.path=dz.QJ(G)}else console.log(hM)}}}else if(U.kl=="trfd"){var t=G.r,aF=W(G),gd=W(G),eG=W(G);
G.r=t+eG;var cD=[];for(var $=0;$<gd;$++)cD[$]=W(G);for(var $=0;$<gd;$++){G.r=t+cD[$];if(X>=1300)G.r+=8;
var ao=b(G);if(ao==8){var fm,gE,iW,bu,gH,fx;if(X>=600)G.r+=6;if(X>=500){fm=p(G);gE=p(G);iW=p(G)/(X<600?1e3:254e3);
bu=p(G);gH=p(G);fx=p(G)/(X<600?1e3:254e3)}else throw"e";U.Nu=new ci(fm,bu,gE,gH,iW,fx)}else console.log(ao)}}else if(!1){console.log(U);
var fU=Math.min(U.size,32);console.log(V.z1(data,U.r,fU));console.log(V.abv(data,U.r,fU))}}};dz.JX=function(G,m){var A=dz.iW,Q={},H=A(G);
for(var $=0;$<H;$++){var J=A(G);G.r+=4;var b=A(G);Q[J]=b;if(m)G.r+=48}return Q};dz.aug=function(G){var m=dz,A=m.FJ,Q=A(G),H=A(G);
return new dw(Q,H)};dz.a0b=function(G){var m=dz,A=m.FJ;G.r+=4;var Q=A(G),H=A(G);return new dw(Q,H)};
dz.QJ=function(G){var m=dz,A=m.iW,Q=m.Js,H=m.FJ;G.r+=4;var J=Q(G)+Q(G);G.r+=16;var b=dz.UE(G,J);return b};
dz.aet=function(G){var m=dz.Js(G);G.r+=2;return dz.UE(G,m)};dz.UE=function(G,m){var A=dz,Q=A.FJ,H=G.ck<600?2:4,J=G.r,b={s:[],C:[]},O=0,a=0,e=0;
for(var $=0;$<m;$++){var O=Q(G),a=Q(G),R=G.data[J+m*H*2+$];if(!(R&64)&&!(R&128)){b.s.push(O,a);b.C.push("M");
e+=2}else if(R&64&&!(R&128)){b.s.push(O,a);b.C.push("L");e+=2}else if(!(R&64)&&R&128){b.s.push(O,a);
b.C.push("C");e+=6}else if(R&64&&R&128){b.s.push(O,a)}}if(e!=b.s.length)throw"e";return b};dz.a1S=function(G,m){var A=V.Wj;
m+=8;var Q=A(G,m);m+=4;var H=A(G,m);m+=4;m+=4*7;var J=m,b=N.$(Q*H*4);m+=1024;for(var O=0;O<H;O++)for(var a=0;
a<Q;a++){var $=O*Q+a,e=(H-O-1)*Q+a,R=G[m+$]<<2,p=e<<2;b[p+0]=G[J+R+2];b[p+1]=G[J+R+1];b[p+2]=G[J+R+0];
b[p+3]=255}return{uw:b,rect:new f_(0,0,Q,H)}};dz.a6y=function(G){if(G==32)return 300;else if(G<49)return 0;
else if(G<58)return 100*(G-48);else if(G<65)return 0;return 100*(G-55)};dz.FI=function(G,m,A){var Q=dz.Js,H=dz.iW,J=G.ck,b=0,O=0;
if(J>=500){b=Q(G);if(b==1&&J>=1300)b=25;if(b==25||b==30){var a=0;if(b==30){b=25;a=30}else{a=Q(G);G.r+=4}var e=Q(G),R=Q(G)}else if(b==14)throw"e";
else{G.r+=6;O=H(G)}}else throw"e";var p=[];if(b==2||b==9||b==17){var P=[O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255];
if(b==2)for(var $=0;$<4;$++)P[$]=Math.round(255*P[$]/100);for(var $=0;$<4;$++)P[$]/=255;p=UDOC.C.cmykToRgb(P)}else if(b==1||b==5){p=[O>>>0&255,O>>>8&255,O>>>16&255];
for(var $=0;$<3;$++)p[$]=p[$]/255}else console.log("Unknown color model "+b,O,O.toString(16));return p};
var bJ=function(){var G,m,A=new ArrayBuffer(4),Q=new Uint8Array(A),H=new Uint32Array(A),J=new Float32Array(A);
function b(P,z){for(var Z=0;Z<P.length;Z++)if(P[Z][0]==z)return P[Z]}function O(){var P=0,z=0,Z=0;do{Z=G[m++];
P|=(Z&127)<<z;z+=7}while(Z&128&&z<35);return P>>>0}function a(P,z,Z,W,T){G=P;m=z;var i=W[0]=="mesg",X=W[2],U={},M=1,C=i?1e9:X.length;
while(M<=C){var x=M;if(i){x=O();if(x==0)break}var L=b(X,x),E=L[2],l=L[1]==1,y=l?O():1,Y=new Array(y);
if(E==3){if(!l)throw"e";Y=G.slice(m,m+y);m+=y}else for(var $=0;$<y;$++){var F;if((E&1)==1){if(E==1)F=G[m++]==1;
else if(E==3)F=G[m++];else if(E==5){var w=O();F=w&1?~(w>>>1):w>>>1}else if(E==7)F=O();else if(E==9){if(G[m]==0){F=0;
m++}else{Q[0]=G[m];Q[1]=G[m+1];Q[2]=G[m+2];Q[3]=G[m+3];var j=H[0];H[0]=j<<23|j>>>9;F=J[0];m+=4}}else if(E==11){var _=e(G,m);
F=_[0];m+=_[1]+1}else throw E}else{var D=Z[E>>>1];if(D[0]=="enum"){var t=G[m++];if(t>127)throw"e";F=D[2][t]}else{var K=a(G,m,Z,D,T+1);
F=K[0];m=K[1]}}Y[$]=F}U[L[3]]=l?Y:Y[0];M++}return[U,m]}function e(P,z){var Z=z;while(P[Z]!=0)Z++;return[V.Io(P,z,Z-z),Z-z]}function R(P,z){var Z=z;
while(P[Z]!=0)Z++;for(var $=z;$<Z;$++)if(P[$]>127)throw"e";return V.uB(P,z,Z-z)}function p(P){G=P;m=1;
var z=[];while(m<P.length){var Z=m,W=z.length,T=R(P,m);m+=T.length+1;var i=O();if(i>2)throw"e";var X=O(),U=[];
for(var $=0;$<X;$++){var M=R(P,m);m+=M.length+1;var C=O(),x=O(),L=O();U.push(i==0?M:[L,x,C,M])}z.push([["enum","strc","mesg"][i],T,U])}return z}return{ao1:p,aoS:a}}();
function ff(){}ff.dm=function(G,m){var A=new Uint8Array(G),Q=8,H=V.Wj(A,Q),e=0,D=0;Q+=4;var J=[];while(Q<A.length){var b=V.Wj(A,Q);
Q+=4;var O=A.slice(Q,Q+b);if(A[Q]==137&&A[Q+1]==80){}else O=UZIP.inflateRaw(O);J.push(O);Q+=b}var a=bJ.ao1(J[0]);
for(var $=0;$<a.length;$++)if(a[$][1]=="Message")e=$;var R=bJ.aoS(J[1],0,a,a[e],0)[0],p={IE:{},cW:{},a6e:{}},P=R.nodeChanges;
for(var z=0;z<P.length;z++){var Z=P[z],W=Z.guid;p.cW[W.sessionID+","+W.localID]=Z}for(var z=0;z<P.length;
z++){var Z=P[z],W=Z.parentIndex;if(W){var T=ff.XH(p.cW,W.guid);if(T.children==null)T.children=[];T.children.push(Z)}}var i=P[0],X=i.children,U=new f_,M=[],C=[];
for(var W=0;W<X.length;W++){var x=X[W],L=x.children;if(x.name=="Internal Only Canvas"||L==null)continue;
var E=new f_;for(var $=0;$<L.length;$++){var l=L[$],y=l.transform,Y=l.size;if(y.m00==1&&y.m10==0&&y.m01==0&&y.m11==1){var F=new f_(y.m02,y.m12,Y.x,Y.y);
E=E.wj(F)}}var w=U.n==0?0:U.n+100,j=E.clone();j.x=0;j.y=w;U=U.wj(j);M[W]=E;C[W]=w}var _=gp.zs(new f_(0,0,U.e,U.n),8192*8192);
m.e=Math.round(U.e/_);m.n=Math.round(U.n/_);m.buffer=N.$(m.e*m.n*4);for(var W=0;W<X.length;W++){var x=X[W],L=x.children;
if(x.name=="Internal Only Canvas"||L==null)continue;L.sort(ff.G2);var t=new ci(1,0,0,1,-M[W].x,C[W]-M[W].y);
t.scale(1/_,1/_);for(var $=0;$<L.length;$++){var l=L[$];ff.BU(l,[],t,R.blobs,m,0,p);D++}}m.on(D);m.sp=!0;
if(_!=1)alert("File scaled down "+_+"x")};ff.BU=function(G,m,A,Q,H,J,b){var O=ff,l=!1,y,Y,j,_,D;for(var $=0;
$<m.length;$++){var a=m[$],e=a.guidPath.guids[0];if(O.aln(e,G.guid)){var R={};for(var p in G)R[p]=a[p]!=null?a[p]:G[p];
G=R}}var P=G.type,z=G.children,Z=G.size,W=G.effects,T=H.uA();T.mw(G.name);T.YQ(G.visible);T.opacity=Math.round(G.opacity*255);
var i=O.C6(G.transform),X=i.clone();X.concat(A);var U=new f_(Math.round(X.Zh),Math.round(X.bx),Math.round(Z.x*X.kF()),Math.round(Z.y*X.kF()));
if(U.e==0||isNaN(U.e))U.e=100;if(U.n==0||isNaN(U.n))U.n=100;var M=G.fillPaints,C=G.inheritFillStyleID;
if(C){var R=O.XH(b.cW,C);if(R)M=R.fillPaints}if(M==null)M=[];var M=O.t1(M),x=M[0],L=G.strokePaints,C=G.inheritFillStyleIDForStroke;
if(C){var R=O.XH(b.cW,C);if(R)L=R.fillPaints}if(L==null)L=[];var L=O.t1(L),E="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(P)!=-1;
if(E||P=="FRAME"){y=new c.Rl;Y=[];O.H5(G,Q,y,Y);l=N.U.eF(y.Y);N.U.T6(y.Y,X);var F=N.H.Is(N.U.jX(y.Y));
if(!F.My())U=F;if(b.IE.Yu&&x){var w=c.Rl.Ay(b.IE.Yu.Y);for(var $=2;$<w.length;$++)if(w[$]._t!=null)w[$]._t=3;
y.Y=y.Y.concat(w.slice(2));Y=Y.concat(JSON.parse(JSON.stringify(b.IE.Nv)))}}if(x&&x.type=="IMAGE"){D=x.imageScaleMode;
j=O.$s(Q,x.image.dataBlob);var t=j.NS.e/j.NS.n,K=Z.x/Z.y;_=Math.abs(t-K)}if(P=="FRAME"){}else if(E&&l&&j&&(D=="FIT"||D=="FILL"&&_<=.05)){var d=Q[x.image.dataBlob].bytes,o=H.Ak(d,T.getName(),0,0);
o.$G=T.$G;o.opacity=T.opacity;T=o;var k=new f_(0,0,Z.x,Z.y);if(D=="FIT"){var v=j.NS.e,u=j.NS.n,B=Math.min(Z.x/v,Z.y/u),S=v*B,I=u*B;
k=new f_(k.x+(k.e-S)/2,k.y+(k.n-I)/2,S,I)}var q=N.H.Zt(k).s;N.H.A(q,X,q);T.add.SoLd.Trnf=f.Q.J_(q);T.add.SoLd.nonAffineTransform=f.Q.J_(q);
var hw=[],W=G.effects,fY=x.paintFilter;if(W)for(var $=0;$<W.length;$++)if(W[$].type=="FOREGROUND_BLUR"){var s=W[$],hZ=bH.ib("GsnB",{});
hw.push(hZ);hZ.v.enab.v=s.visible;hZ.v.Fltr.v.Rds.v.val=s.radius/2.4}if(fY&&fY.exposure!=0){var hZ=bH.ib("brit",{});
hw.push(hZ);hZ.v.Fltr.v.Brgh.v=Math.round(fY.exposure*160);hZ.v.Fltr.v.useLegacy.v=!0}if(fY&&fY.vibrance!=0){var hZ=bH.ib("vibA",{});
hw.push(hZ);console.log(hZ);hZ.v.Fltr.v.Strt.v=Math.round(Math.round(fY.vibrance*100))}if(hw.length!=0){T.add.SoLd.filterFX=bH.PG();
H.Ci({id:T.add.SoLd.placed.v,rect:new f_,buffer:N.$(1),D:new c.Mz});T.add.SoLd.filterFX.v.filterFXList.v=hw}T.wH(H,!1);
O.YO(b,T,H)}else if(E){O.p8(T,Y,y,G,x,X,U,Q,H,b);var bG=O.bU(G,L[0],X,U,Q,H,b);if(bG[0]!="None"){var aY=T.add.vstk;
aY.strokeEnabled.v=!0;aY.strokeStyleLineWidth.v.val=G.strokeWeight*X.kF();aY.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hK.nh.rr[["INSIDE","CENTER","OUTSIDE"].indexOf(G.strokeAlign)];
var fj={SoCo:"SoFi",GdFl:"GrFl"}[bG[0]],jg=["SoFi","GrFl","patternFill"].indexOf(fj),ae=[hK.WX,hK.ln,hK.g2][jg];
aY.strokeStyleContent.v={classID:hK.nh.Tn[0]};var iB=G.dashPattern;if(iB)aY.strokeStyleLineDashSet.v=en.QQ(iB,1/G.strokeWeight);
var eg=aY.strokeStyleContent.v={classID:hK.nh.Tn[jg]};for(var $=0;$<ae.length;$++)eg[ae[$]]=bG[1][ae[$]];
if(!aY.fillEnabled.v)O.pR(bG,T)}if(W)for(var $=0;$<W.length;$++){var s=W[$];if(s.type!="FOREGROUND_BLUR")continue;
y.JE=s.radius/2.4}T.hM(H)}else if(P=="TEXT"){var dM=G.textData,fK=dM.layoutSize,aQ=["LEFT","RIGHT","CENTER"].indexOf(G.textAlignHorizontal);
T.add.lnsr="rend";T.add.TySh=fC.lw(0,0);T.add.TySh.sC=new f_(0,0,100,100);var cQ=X.clone();T.add.TySh.A=cQ;
var a7=T.add.TySh.DQ,gz=dM.characters;if(G.textCase=="TITLE"){for(var $=0;$<gz.length;$++)if($==0||gz[$-1]==" "){var bQ=gz.slice(0,$),d4=gz.slice($+1);
gz=bQ+gz[$].toUpperCase()+d4}}gz=gz.replace(/\u2028/g,"\n");gz=gz.replace(/\u2029/g,"\n");gz=gz.replace(/\r\n/g," \n");
fC.OA(a7,0,gz);var j2=G.textAutoResize,j7=dM.baselines;if(j2=="WIDTH_AND_HEIGHT"){var fG=aQ==0?0:aQ==1?fK.x:fK.x/2,bT=j7?j7[0].position.y:0;
cQ.translate(fG*X.kF(),bT*X.kF());fC.hR(a7,0)}else if(j2=="HEIGHT"||j2=="NONE"||j2==null){var bT=j7?j7[0].position.y-G.fontSize*.7:0;
cQ.translate(0,bT*X.kF());fC.hR(a7,1);fC.vL(a7,[0,0,Math.round(fK.x),Math.round((j2=="NONE"?1.8:1)*fK.y)])}else throw j2;
if(gz!=""){var je=fC.ui(a7,0,1);O.AJ(G,X,Z,je,T,Q,H,b);fC.QT(a7,0,gz.length,je);var ba=dM.characterStyleIDs,j6=dM.styleOverrideTable;
if(ba){ba=ba.slice(0);for(var $=0;$<ba.length;$++)if(gz[$]=="\n")ba[$]=-$-1;var cl=[0],js=0,fR=0;for(var $=0;
$<ba.length;$++){fR++;var iW=ba[$];if($==0||iW==ba[$-1]){}else{cl.push(fR-1,$);fR=1}}cl.push(fR);for(var $=0;
$<cl.length;$+=2){var fx=cl[$],dm=cl[$+1];if(gz[fx]=="\n")continue;var iW=ba[fx];if(iW!=0){var fq;for(var h2=0;
h2<j6.length;h2++)if(j6[h2].styleID==iW)fq=j6[h2];var je=fC.ui(a7,fx,fx+1);O.AJ(fq,X,Z,je,T,Q,H,b);fC.QT(a7,fx,fx+dm-1,je)}}}}}else if(P=="SYMBOL"){}else if(P=="INSTANCE"){var jj=G.symbolData,iM=jj.symbolOverrides,R=O.XH(b.cW,jj.symbolID);
if(R)z=R.children;else console.log(G.name,"symbol not found",jj.symbolID);m=m.slice(0);for(var $=0;$<iM.length;
$++)m.push(iM[$])}else console.log(P);if(!1){}else if(z&&!E){H.g.push(H.uF());var aC=!1,aB=J==0&&P!="SYMBOL"&&P!="INSTANCE";
if(aB){if(U.My())console.log(U);T.I_(U)}x=M[M.length-1];if(aB&&x&&x.type=="SOLID"){var ep=x.color;T.add.artb.artboardBackgroundType.v=4;
T.add.artb.Clr=O.FI(ep)}else if(x&&y){var h6=H.uA();h6.mw("Background");O.p8(h6,Y,y,G,x,X,U,Q,H,b);h6.hM(H);
H.g.push(h6);aC=!0}z.sort(O.G2);var dJ=b.IE;b.IE={};for(var gs=0;gs<z.length;gs++)O.BU(z[gs],m,X,Q,H,J+1,b);
b.IE=dJ;T.add.lsct=!1?fM.UK:fM.mJ;T.w4="pass";var ej=T.HX();T.$G=24;T.YQ(ej);var eH=J!=0&&M.length!=0&&!G.frameMaskDisabled&&G.containerSupportsFillStrokeAndCorners;
if(!aC&&eH&&y){T.add.vmsk=y;T.add.vogk=Y;T.hM(H)}else O.YO(b,T,H);H.g.push(T)}else if(G.mask){if(y){b.IE.Yu=y;
b.IE.Nv=Y}}else{var hT=[],bZ=1;if(W)for(var dO=0;dO<W.length;dO++){var s=W[dO],fE=s.color,hD=s.type,d9=["DROP_SHADOW","INNER_SHADOW"].indexOf(hD);
if(d9!=-1){var iQ=["DrSh","IrSh"][d9],iS=JSON.parse(hK.in[hK.order.indexOf(iQ)]);hT.push([iQ,iS]);iS.enab.v=s.visible;
iS.Md.v.BlnM=ib.hb(O.aaf(s.blendMode));iS.Opct.v.val=Math.round(100*fE.a);iS.blur.v.val=Math.round(s.radius*X.kF());
iS.Clr=O.FI(fE);var fG=s.offset.x,bT=s.offset.y;iS.uglg.v=!1;iS.lagl.v.val=Math.round(180/Math.PI*Math.atan2(bT,-fG));
iS.Dstn.v.val=Math.round(Math.sqrt(fG*fG+bT*bT)*X.kF())}}if(P=="TEXT"&&M[0]&&M[0].type!="SOLID")bZ=0;
for(var $=bZ;$<M.length;$++){var dy=M[$],jh=O.bU(G,dy,X,U,Q,H,b);if(jh[0]=="GdFl")hT.push(["GrFl",jh[1]]);
else if(jh[0]=="SoCo")hT.push(["SoFi",jh[1]]);else if(jh[0]=="PtFl")hT.push(["patternFill",jh[1]]);else throw jh}if(!E)for(var $=0;
$<L.length;$++){var dy=L[$],jh=O.bU(G,dy,X,U,Q,H,b);if(jh[0]=="SoCo"){var iS=JSON.parse(hK.in[hK.order.indexOf("FrFX")]);
hT.push(["FrFX",iS]);iS.enab=jh[1].enab;iS.Opct=jh[1].Opct;iS.Md=jh[1].Md;iS.Clr=jh[1].Clr;iS.Sz.v.val=G.strokeWeight}}if(hT.length!=0){var eE=JSON.parse(hK.default);
for(var $=0;$<hK.order.length;$++)eE[hK.HK[$]]={t:"VlLs",v:[]};for(var $=0;$<hT.length;$++){var jr=hT[$],iQ=hK.HK[hK.order.indexOf(jr[0])];
eE[iQ].v.unshift({t:"Objc",v:jr[1]})}if(z==null)T.add.lmfx=eE}H.g.push(T)}};ff.p8=function(G,m,A,Q,H,J,b,O,a,e){var R=ff;
G.$G|=16;G.add.vogk=m;G.add.vmsk=A;var p=G.add.vstk=JSON.parse(JSON.stringify(hK.nh.default)),P=R.bU(Q,H,J,b,O,a,e);
if(P[0]=="None"){p.fillEnabled.v=!1;G.add.SoCo=P[1]}else{R.pR(P,G);G.add[P[0]]=P[1]}};ff.pR=function(G,m){var A=G[1].Opct.v.val;
if(A!=100)m.opacity=Math.round(m.opacity/255*(A/100)*255)};ff.G2=function(G,m){var A=G.parentIndex.position,Q=m.parentIndex.position;
return A>Q?1:-1};ff.t1=function(G){for(var $=1;$<G.length;$++){var m=G[$];if(m.type=="IMAGE"&&m.opacity==1){G=G.slice($);
break}}for(var $=0;$<G.length;$++){var m=G[$],A=m.imageThumbnail;if(m.type=="IMAGE"&&(m.image==null||m.image.dataBlob==null)&&A&&A.dataBlob)m.image=A;
if(!m.visible||m.type=="IMAGE"&&m.image.dataBlob==null){G.splice($,1);$--}}return G};ff.YO=function(G,m,A){if(G.IE.Yu){m.add.vmsk=G.IE.Yu.clone();
m.add.vogk=JSON.parse(JSON.stringify(G.IE.Nv));m.hM(A)}};ff.AJ=function(G,m,A,Q,H,J,b,O){var a=G.fontSize,e=G.lineHeight,R=G.fontName,p=G.textAlignHorizontal,P=G.textTracking,z=G.textCase,Z=G.textDecoration;
if(a==null)a=Q.In.FontSize;if(R)fC.fT(Q,R.postscript);if(a!=null)Q.In.FontSize=Math.round(a);if(Z=="UNDERLINE")Q.In.Underline=!0;
if(P)Q.In.Tracking=Math.round(P*1e3);if(z)Q.In.FontCaps=z=="UPPER"?2:0;if(e&&(e.units!="PERCENT"||e.value!=100)){if(a==null)a=15;
var W=e.value;if(e.units=="PERCENT")W=1*a*W/100;if(e.units=="RAW")W=1*a*W;Q.In.AutoLeading=!1;Q.In.Leading=Math.round(W)}if(p)Q.DF.Justification=["LEFT","RIGHT","CENTER"].indexOf(p);
var T=G.fillPaints,i=G.inheritFillStyleID;if(i){var X=ff.XH(O.cW,i);if(X)T=X.fillPaints}if(T&&T[0]){var U=ff.bU(G,T[0],m,A,J,b,O);
if(U[0]=="SoCo"){var M=N.X.SR(U[1].Clr.v);Q.In.FillColor={Type:1,Values:[1,M.p/255,M.z/255,M.h/255]};
ff.pR(U,H)}}};ff.bU=function(G,m,A,Q,H,J,b){var O=ff,a,e,R=G.size;if(m){var p=m.type,P=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(p);
if(p=="SOLID"){a="SoCo";var z=m.color;e=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);e.Clr=O.FI(z)}else if(P!=-1){var Z=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),W=Z.Grad.v;
W.Intr.v=0;Z.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][P];var T=[],i=m.stops;for(var $=0;$<i.length;$++){var X=i[$],U=X.color;
T.push([X.position,[U.r,U.g,U.b],U.a])}N.X.sw(T,W);var M=O.C6(m.transform);M.G3();var C=M.clone();if(R)C.scale(R.x,R.y);
C.concat(A);var x=new dw(0,.5),L=new dw(1,.5);x=C.Yw(x);L=C.Yw(L);if(!0){x.x=L.x+.5*(x.x-L.x);x.y=L.y+.5*(x.y-L.y)}N.X.So(x,L,Q,Z);
if(P==3){if(C.Uj*C.nd-C.h*C.Qv<0)Z.Rvrs.v=!Z.Rvrs.v}a="GdFl";e=Z}else if(p=="IMAGE"){var Z=JSON.parse(hK.in[hK.order.indexOf("patternFill")]),E=Z.phase.v,l=m.image.dataBlob,y=b.a6e[l],d=1;
if(y==null){var Y=O.$s(H,l);y=b.a6e[l]={};y.id=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f";y.g3=[new Uint8Array(Y.data),Y.NS];
y.name="someImage";J._s(y)}Z.Algn.v=!0;Z.Ptrn.v.Idnt.v=y.id;var F=A.Zh,w=A.bx,j=m.imageScaleMode,M=O.C6(m.transform);
M.G3();var _=Q.e,D=Q.n,t=y.g3[1].e,K=y.g3[1].n;if(j=="FILL"){d=Math.max(_/t,D/K);d=Math.round(d*100)/100}else if(j=="FIT"){d=Math.min(_/t,D/K);
d=Math.round(d*100)/100}else if(j=="STRETCH"){var o=_*M.Uj,k=D*M.nd;d=.5*(o/t+k/K);d=Math.round(d*100)/100;
F+=(o-_)/2+M.Zh*_;w+=(k-D)/2+M.bx*D}else if(j=="TILE"){d=m.scale;d=Math.round(d*100)/100;F+=(o-_)/2;
w+=(k-D)/2}var v=d*t,u=d*K;F+=-(v-_)/2;w+=-(u-D)/2;Z.Scl.v.val=Math.round(100*d);E.Hrzn.v=Math.round(F);
E.Vrtc.v=Math.round(w);a="PtFl";e=Z}else throw p;if(e)e.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(m.opacity*100)}}}else{a="None";
e={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:0,z:0,h:0})}}}return[a,e]};ff.$s=function(G,m){var A=G[m];
if(A.rslt)return A.rslt;var Q=A.bytes.buffer,H=dt.mG(Q),J=dt.aW(H);try{A.rslt=J.uJ(Q)[0]}catch(f5){A.rslt={data:N.$(4),NS:new f_(0,0,1,1)}}return A.rslt};
ff.H5=function(G,m,A,Q){var H=G.type,J=G.size,b=G.cornerRadius,p;if(b==null)b=0;var O=N.Nv.Pn(),a=J.x,e=J.y,R=[b,b,b,b],P=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var $=0;$<4;$++)if(G[P[$]]!=null)R[$]=G[P[$]];if(H=="RECTANGLE"||H=="ROUNDED_RECTANGLE"||H=="FRAME"){p=N.U.Y0.Rect(0,0,a,e,R)}else if(H=="ELLIPSE"){var z=G.arcData,Z=z?z.startingAngle:0,W=z?z.endingAngle:2*Math.PI,T=z?z.innerRadius:0;
if(Z==0&&W>1.999*Math.PI)p=N.U.Y0.dd(0,0,a,e,0);else p=N.U.Y0.a1N(a/2,e/2,e/2,Z,W);if(T!=0&&T!=1){var i=c.Rl.Ay(p).slice(3);
i.reverse();for(var $=0;$<i.length;$++){var X=i[$],U=X.ed;X.ed=X.Gd;X.Gd=U}var M=new ci;M.translate(-a/2,-e/2);
M.scale(T,T);M.translate(a/2,e/2);N.U.T6(i,M);p=p.concat(i);p[2].length*=2}}else if(H=="LINE"){p=N.U.Y0.Rect(0,0,a,e,0);
p.pop();p.pop();p[2].length=2}else if(H=="STAR"){p=N.U.Y0.fw(a/2,e/2,a/2,2*Math.PI*(1/4),5,0,G.starInnerScale)}else if(H=="REGULAR_POLYGON"){p=N.U.Y0.m3(.5,.5,.5,Math.PI/2,G.count,0);
var C=new ci;C.scale(a,e);N.U.T6(p,C)}else if(H=="BOOLEAN_OPERATION"){p=[{type:6},{type:8,all:0}];var x=G.children,L=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(G.booleanOperation);
if(L==-1)throw G;if(x==null)x=[];for(var $=0;$<x.length;$++){var E=x[$],l=new c.Rl,y=[],Y=ff.H5(E,m,l,y);
if(l.Y==null)continue;N.U.T6(l.Y,ff.C6(E.transform));p=p.concat(l.Y.slice(2));for(var F=0;F<y.length;
F++)Q.push(y[F])}for(var $=3;$<p.length;$++)if(p[$]._t!=null)p[$]._t=L;O=null}else if(H=="VECTOR"){var w,j,S=3;
if(!0){var _=G.vectorData;if(_==null)return;w=_.normalizedSize;j=_.vectorNetworkBlob}var D=m[j].bytes,t=new Uint32Array(D.buffer),K=new Float32Array(D.buffer),d=t[0],o=t[1],k=t[2],v=[],u=[],B=[],I=S+d*3,q=I+o*7;
for(var $=0;$<d;$++){var hw=S+$*3,fY=new dw(K[hw+1],K[hw+2]);v.push(fY)}for(var $=0;$<o;$++){var s=I+$*7;
u.push([t[s+0],t[s+1],K[s+2],K[s+3],t[s+4],K[s+5],K[s+6]])}for(var $=0;$<k;$++){var hZ=t[q+1],bG=B[$]=[];
q+=2;for(var F=0;F<hZ;F++){var aY=t[q++],fj=bG[F]=[];for(var jg=0;jg<aY;jg++)fj[jg]=t[q+jg];q+=aY}}if(q!=t.length)throw"e";
if(k==0){var ae=-1;for(var $=0;$<o;$++){if(ae==-1){}else{var iB=-1;for(var F=$;F<o;F++)if(u[F][4]==ae)iB=F;
for(var F=$;F<o;F++)if(u[F][1]==ae)iB=F;if(iB!=-1){var eg=0,U=u[iB];u[iB]=u[$];u[$]=U;if(U[1]!=ae){eg=U[1];
U[1]=U[4];U[4]=eg;eg=U[2];U[2]=U[5];U[5]=eg;eg=U[3];U[3]=U[6];U[6]=eg}}}ae=u[$][4]}B.push([[]]);for(var $=0;
$<o;$++)B[0][0].push($)}var dM=[],fK=[];for(var aQ=0;aQ<B.length;aQ++){for(var cQ=0;cQ<B[aQ].length;
cQ++){var a7=B[aQ][cQ],gz=0;if(a7.length>1){var bQ=u[a7[0]],d4=u[a7[1]];gz=bQ[4]==d4[1]?1:0}for(var $=0;
$<a7.length;$++){var j2=u[a7[$]],j7=1,fG=4;if(gz==0){j7=4;fG=1}var bT=v[j2[j7]],je=v[j2[fG]];if($==0){fK.push("M");
dM.push(bT.x,bT.y)}fK.push("C");dM.push(bT.x+j2[j7+1],bT.y+j2[j7+2],je.x+j2[fG+1],je.y+j2[fG+2],je.x,je.y)}}}p=N.H.ev({s:dM,C:fK},!1);
if(b!=0){var R=[],ba=p[2].length;for(var $=0;$<ba;$++)R.push(b);if(N.U.Kt(p))N.U.e$(p,2,R)}var j6=new ci;
j6.scale(w.x==0?1:J.x/w.x,w.y==0?1:J.y/w.y);N.U.T6(p,j6)}A.Y=p;if(O)Q.push(O)};ff.XH=function(G,m){return G[m.sessionID+","+m.localID]};
ff.aln=function(G,m){return G.sessionID==m.sessionID&&G.localID==m.localID};ff.aaf=function(G){var m={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[G];
if(m==null)throw G;return m};ff.FI=function(G){return{t:"Objc",v:N.X.N4({p:G.r*255,z:G.g*255,h:G.b*255})}};
ff.C6=function(G){var m=[G.m00,G.m10,G.m01,G.m11,G.m02,G.m12];for(var $=0;$<6;$++)if(Math.abs(m[$])<1e-20)m[$]=0;
return new ci(m[0],m[1],m[2],m[3],m[4],m[5])};function em(){}em.dm=function(){var G=V.uB;function m(z,Z,W,T){var i=T?[]:{};
while(Z<z.length-1&&z[Z]!=125){var X=G(z,Z,3),U=G(z,Z+3,1),M;Z+=4;Z++;if(U=="v"){var C=m(z,Z,W+1,X=="ELM"||X=="TIL");
M=C.k;Z=C.r}else if(U=="i"||U=="f"){var x=Z;while(z[x]!=125)x++;var L=G(z,Z,x-Z);M=U=="i"?parseInt(L,16):parseFloat(L);
Z=x+1}else if(U=="s"){var E=V.n6(z,Z),L="";Z+=2;for(var $=0;$<E;$++)L+=String.fromCharCode(z[Z+2*$+1]);
M=L;Z=Z+2*E+1}else if(U=="b"){M=z[Z]==49;Z=Z+2}else throw"e";if(T)i.push([X,M]);else if(i[X]==null)i[X]=M;
else{if(!(i[X]instanceof Array))i[X]=[i[X]];i[X].push(M)}}Z++;return{k:i,r:Z}}function A(z,Z){var W=Q(z).slice(1),z=Z.Clr.v;
z.Rd.v=W[0]*255;z.Grn.v=W[1]*255;z.Bl.v=W[2]*255}function Q(z){return[(z>>>24&255)/255,(z>>>16&255)/255,(z>>>8&255)/255,(z>>>0&255)/255]}function H(z,Z){var W=Z&4278190080|(Z&255)<<16|(Z>>>8&255)<<8|Z>>>16&255;
new Uint32Array(z.buffer).fill(W)}function J(z,Z){var W=z.TSZ,T=z.WPX,i=z.HPX,X=z.TIL,U=new f_(0,0,T,i),M=N.$(T*i*4),C=0;
for(var x=0;x<i;x+=W)for(var L=0;L<T;L+=W){var E=new f_(L,x,W,W),l,y=X[C];if(y[0]=="TMC"){l=N.$(E.Z()*4);
H(l,y[1])}else if(y[0]=="TID"){l=Z[y[1]]}N.Pr(l,E,M,U);C++}return[M,U]}function b(z,Z){z=new Uint8Array(z);
var W=8,T,i={},D=0;while(W<z.length){var X=V.l(z,W);W+=4;var U=G(z,W,4);W+=4;if(U=="mkTS"){var M=pako.inflate(z.slice(W,W+X)),C=m(M,0,0);
T=C.k}else if(U=="mkBT"){var x=V.l(z,W+4),L=V.l(z,W+8),M=pako.inflate(z.slice(W+76,W+X));if(L==0)for(var $=0;
$<M.length;$+=4){var E=M[$],l=M[$+1],y=M[$+2],Y=M[$+3];M[$+3]=E;M[$+2]=Y;M[$+1]=y;M[$]=l}else{var F=N.$(M.length*4);
F.fill(255);N.mH(M,F);M=F}i[x]=M}W+=X+4}var w=T.PDC,j=w?w instanceof Array?w:[w]:[T.MKB],_=new f_;for(var $=0;
$<j.length;$++){var t=j[$];_=_.wj(new f_(0,D,t.WID,t.HIT));D+=t.HIT+100}Z.e=_.e;Z.n=_.n;Z.buffer=N.$(_.Z()*4);
Z.on(j.length);D=0;for(var K=0;K<j.length;K++){Z.g.push(Z.uF());var t=j[K],d=t.WID,o=t.HIT,k=t.BGC,v=(t.LYL?t:T).LYL.LAY,S=3;
for(var $=0;$<v.length;$++)a(v[$],Z,null,i,new ci(1,0,0,1,-t.XLC,-t.YLC+D));var u=Z.uA();Z.g.push(u);
var B=new f_(0,D,d,o);D+=o+100;u.I_(B);if(k>>>24!=0){var I=N.X.N4({p:k>>>16&255,z:k>>>8&255,h:k>>>0&255});
u.add.artb.Clr={t:"Objc",v:I};S=4}u.add.artb.artboardBackgroundType.v=S;u.mw(t.PGN?t.PGN:"Page "+(K+1));
u.add.lsct=fM.mJ;u.w4="pass";u.$G=24}}function O(z,Z,W){var T=z[Z];return T instanceof Array?T[W]:T}function a(z,Z,W,T,i){var X=Z.uA();
if(z.VIS!=null)X.YQ(z.VIS);if(z.VIF!=null)X.YQ(z.VIF.VIS);if(z.OPA!=null)X.opacity=Math.round(255*z.OPA/1e3);
X.w4=z.CLL||W=="GRP"?"pass":"norm";if(z.BLD!=null){var U=z.BLD,M={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[U+""];
if(M==null)console.log(z.OBN,U);else X.w4=M;if(U==30)X.opacity>>>=1}if(z.CLL){X.mw(z.LNM);Z.g.push(Z.uF());
var C=z.CLL.CEL;if(C.length==null)C=[C];for(var x=C.length-1;x>=0;x--){var L=C[x].ELM;for(var $=L.length-1;
$>=0;$--)a(L[$][1],Z,L[$][0],T,i)}X.add.lsct=z.DIS?fM.UK:fM.mJ;X.$G|=24}else if(W=="GRP"){var E=X.add.lmfx=R(z.EFL),l;
Z.g.push(Z.uF());var L=z.ELM;if(z.MNA){l=L[0][1];L=L.slice(1)}X.mw("Group: "+L.length+" objects");for(var $=L.length-1;
$>=0;$--)a(L[$][1],Z,L[$][0],T,i);if(l){if(z.MRX){var y=J(l,T),Y=X.D=new c.Mz;Y.rect=y[1].clone();Y.rect.x=l.XLC;
Y.rect.y=l.YLC+i.bx;Y.channel=N.$(Y.rect.Z());N.gF(y[0],Y.channel,0);N.G3(Y.channel)}else{e(X,l,i);X.hM(Z)}}X.add.lsct=fM.mJ;
X.$G|=24}else if(W=="IMG"){X.mw(z.OBN?z.OBN:"Bitmap");var y=J(z,T);X.rect=y[1].clone();X.rect.x=z.XLC;
X.rect.y=z.YLC+i.bx;X.buffer=y[0]}else if(W=="TXT"){var F=z.TFS,w=F.TRN instanceof Array?F.TRN.length:1,t="",K="Arial",d=20,o=0;
X.add.lnsr="rend";X.add.TySh=fC.lw(0,0);X.add.TySh.sC=new f_(0,0,100,100);var j=new ci(1,0,0,1,z.LFT,z.TOP);
if(z.MTX){var _=z.MTX,Y=new ci(_.M00,_.M01,_.M10,_.M11,_.M20,_.M21);j.concat(Y)}j.concat(i);X.add.TySh.A=j;
var D=X.add.TySh.DQ;for(var $=0;$<w;$++){var k=O(F,"TRN",$);if(k==null)continue;fC.OA(D,t.length,k);
var v=fC.ui(D,0,1),u=O(F,"FON",$);if(u)K=u;fC.fT(v,K);var B=O(F,"PTS",$);if(B!=null)d=B;v.In.FontSize=Math.round(d);
var S=O(F,"FCL",$);if(S!=null)o=S;v.In.FillColor={Type:1,Values:Q(o)};fC.QT(D,t.length,t.length+k.length,v);
t+=k}X.mw(t.slice(0,255));var I=z.RIT-z.LFT,q=z.BOT-z.TOP;if(z.IMG){a(z.IMG,Z,"IMG",T,i);var hw=Z.g.pop();
X.buffer=hw.buffer;X.rect=hw.rect.clone()}fC.hR(D,1);fC.vL(D,[0,0,I,q])}else if(W=="PTH"){X.mw(z.OBN?z.OBN:"Path");
X.$G|=16;var fY=!1;e(X,z,i);var s=X.add.vmsk,hZ=X.add.vstk,bG=N.U.jX(s.Y),aY=z.PAT,fj=aY.BPL,jg=aY.FPL,ae=aY.TXF;
if(jg&&jg.FEF)s.JE+=jg.FEF/2.4;if(fj){var iB=fj.CAT;hZ.strokeEnabled.v=!0;hZ.strokeStyleLineWidth.v.val=fj.BDI;
hZ.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hK.nh.rr[z.BRP];A(aY.BCL,hZ.strokeStyleContent.v);
if(iB!="bc_Basic"&&iB!="bc_Pencil")fY=!0}if(jg==null){hZ.fillEnabled.v=!1;X.add.SoCo=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);
A(0,X.add.SoCo)}else if(jg.CAT=="fc_Solid"){X.add.SoCo=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);A(z.PAT.FCL,X.add.SoCo)}else if(jg.CAT=="fc_Linear"||jg.CAT=="fc_Circular"||jg.CAT=="fc_Elliptical"){var eg=jg.CAT=="fc_Linear",dM=X.add.GdFl=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),fK=dM.Grad.v,aQ=[],cQ=jg.FGL,a7,gz=[];
if(cQ.FGY){var bQ=cQ.FGY,a7=bQ.FG0.FGI,gz=bQ.FG1.FGI}else a7=cQ.FGV.FGI;for(var $=0;$<a7.length;$++){var d4=a7[$],j2=Q(d4.FGC),j7=1;
if(gz.length==a7.length)j7=Q(gz[$].FGC)[0];aQ.push([d4.FGP,j2.slice(1),j7])}dM.Type.v.GrdT=eg?"Lnr":"Rdl";
N.X.sw(aQ,fK);fK.Intr.v=0;var fG=z.PRI?z.PRI:z,bT=new dw(fG.PSX,fG.PSY),je=new dw(fG.PEX,fG.PEY);if(jg.CAT=="fc_Elliptical"&&fG.PFX!=null){var ba=new dw(fG.PFX,fG.PFY),j6=dw.SH(bT,je),cl=dw.SH(bT,ba);
if(cl<j6){var js=j6;j6=cl;cl=js}je=new dw(bT.x+(j6+cl)/2,bT.y);if(j6/cl<.5)fY=!0}if(eg){bT.x=(bT.x+je.x)/2;
bT.y=(bT.y+je.y)/2}N.X.So(bT,je,bG,dM)}else console.log(jg.CAT);var E=X.add.lmfx=R(z.EFL,s);if(jg&&jg.FTB!=0){var y=J(ae.MSK,T),fR={};
fR.id=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f";fR.name="someImage";fR.g3=y;Z._s(fR);var iW=y[0];for(var $=0;
$<iW.length;$+=4){iW[$+3]=255-iW[$];iW[$]=iW[$+1]=iW[$+2]=255}var dM=JSON.parse(hK.in[hK.order.indexOf("patternFill")]);
dM.Opct.v.val=Math.round(jg.FTB/10);dM.Algn.v=!0;dM.Ptrn.v.Idnt.v=fR.id;E.patternFillMulti.v.unshift({t:"Objc",v:dM})}if(fY&&z.IMG){a(z.IMG,Z,"IMG",T,i);
var fx=Z.g[Z.g.length-1];fx.opacity=X.opacity;return}X.hM(Z)}else if(W=="URL")return;else{console.log("unknown layer type",W,z);
X.mw("Layer")}Z.g.push(X)}function e(z,Z,W){if(Z.PBL==null)return;var T=z.add.vmsk=new c.Rl,i=z.add.vstk=JSON.parse(JSON.stringify(hK.nh.default)),X=Z.PBL.PBP;
if(!(X instanceof Array))X=[X];for(var U=0;U<X.length;U++){var M=X[U].PBT;if(!(M instanceof Array))M=[M];
var C=X[U].ISC?0:3;T.Y.push({type:C,length:M.length,_t:0,Jk:2,Yh:0,Xl:0});for(var $=0;$<M.length;$++){var x=M[$],L=x.XLC,E=x.YLC,l=[L,E,L,E,L,E],y="XPC YPC XLC YLC XSC YSC".split(" ");
for(var Y=0;Y<6;Y++){var F=y[Y],w=x[F];if(w!=null)l[Y]=w}T.Y.push({type:C+2,M:new dw(L,E),ed:new dw(l[0],l[1]),Gd:new dw(l[4],l[5])})}}N.U.T6(T.Y,W);
z.ON()}function R(z,Z){var W=JSON.parse(hK.default);for(var $=0;$<hK.order.length;$++)W[hK.HK[$]]={t:"VlLs",v:[]};
if(z==null)return W;var T=z.EPS;if(!(T instanceof Array))T=[T];for(var $=0;$<T.length;$++){var i=T[$].DCE,X={};
for(var U=0;U<i.length;U++)X[i[U].DCK]=i[U].DCV;if(X.EffectIsVisible=="false")continue;var M=X.mkbFile_WriteOnly_TemporaryEffectUiName;
if(M=="Gaussian Blur..."&&Z){Z.JE+=parseFloat(X.gaussian_blur_radius);continue}var C=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(M);
if(C==-1){continue}var x=["DrSh","ebbl","IrGl","OrGl"][C],L=hK.HK[hK.order.indexOf(x)],E=JSON.parse(hK.in[hK.order.indexOf(x)]);
W[L].v.unshift({t:"Objc",v:E});if(x=="DrSh"){E.uglg.v=!1;p(X,"ShadowDistance",E,"Dstn");p(X,"ShadowBlur",E,"blur");
p(X,"ShadowAngle",E,"lagl",180);E.Opct.v.val=100;P(X,"ShadowColor",E,"Clr")}if(x=="IrGl"){E.Md.v.BlnM="Nrml";
var l=X.MaskSoftness,y=X.GlowWidth;if(l&&y){l=parseInt(l);y=parseInt(y);E.blur.v.val=y+l;E.Ckmt.v.val=Math.round(100*y/(y+l))}p(X,"BevelContrast",E,"Opct");
P(X,"OuterBevelColor",E,"Clr")}if(x=="OrGl"){E.Md.v.BlnM="Nrml";var l=X.MaskSoftness,y=X.GlowWidth;if(l&&y){l=parseInt(l);
y=parseInt(y);E.blur.v.val=y+l}p(X,"BevelContrast",E,"Opct");P(X,"OuterBevelColor",E,"Clr")}if(x=="ebbl"){E.uglg.v=!1;
p(X,"BevelWidth",E,"blur");p(X,"AngleSoftness",E,"Sftn");p(X,"BevelContrast",E,"srgR");p(X,"LightAngle",E,"lagl")}}return W}function p(z,Z,W,T,i){var X=z[Z];
if(i==null)i=0;if(X)W[T].v.val=parseInt(X)+i}function P(z,Z,W,T){var i=z[Z];if(i){i=i.slice(1);if(i.length==6)i=i+"ff";
if(i.length!=8)throw"e";var X=Q(parseInt(i,16)),U=W[T].v;U.Rd.v=X[0]*255;U.Grn.v=X[1]*255;U.Bl.v=X[2]*255;
W.Opct.v.val=Math.round(W.Opct.v.val/100*X[3]*100)}}return b}();function fc(){}fc.dm=function(){function G(l,y){var Y=!1,F=Date.now(),w=X(l,Y),aY=1;
if(Y)console.log("part found",Date.now()-F);F=Date.now();var j=i(w),_=j.Layer,D=j.Header;if(Y)console.log(j);
var t=_[0];t=j.Layer[0];if(Y)console.log("document parsed",Date.now()-F);F=Date.now();j.Setup.Gradient=T(j.Setup.Gradient,w);
if(Y)console.log("grads loaded",Date.now()-F);F=Date.now();j.Setup.Pattern=W(j.Setup.Pattern,w);if(Y)console.log("patts loaded",Date.now()-F);
F=Date.now();j.Setup.DocumentData=Z(j.Setup.DocumentData,w).pop();if(Y)console.log("docdata loaded",Date.now()-F);
F=Date.now();j.Setup.SVGFilter=Z(j.Setup.SVGFilter,w);if(Y)console.log("svgfilter loaded",Date.now()-F);
F=Date.now();var K=D.Cropmarks,d=D.BoundingBox.split(" ").map(parseFloat),o=D.ArtSize?D.ArtSize.split(" ").map(parseFloat):[d[2]-d[0],d[3]-d[1]];
y.e=Math.round(o[0]);y.n=Math.round(o[1]);var k=[1,0,0,1,-d[0]+(y.e-(d[2]-d[0]))/2,-d[1]+(y.n-(d[3]-d[1]))/2];
k[3]=-1;k[5]=y.n-k[5];if(K){K=K.split(" ").map(parseFloat);y.e=Math.round(K[2]-K[0]);y.n=Math.round(K[3]-K[1]);
k=[1,0,0,-1,-K[0],y.n+K[1]]}var v=j.Setup.DocumentData;if(v&&v[0]&&v[0].ArtboardArray){var u=v[0].ArtboardArray;
if(u.length!=1)console.log(u.length,"artboards");var B=new f_;for(var $=0;$<u.length;$++){var S=u[$],I=S.PositionPoint1,q=S.PositionPoint2,hw=I[0],fY=Math.min(I[1],q[1]),s=q[0],hZ=Math.max(I[1],q[1]);
B=B.wj(new f_(hw,fY,s-hw,hZ-fY))}y.e=Math.round(B.e);y.n=Math.round(B.n);k[4]=-B.x;k[5]=B.y+y.n}var bG=Math.max(y.e,y.n);
while(bG*aY<1200)aY++;while(bG*aY>6e3)aY*=.5;y.e=Math.round(y.e*aY);y.n=Math.round(y.n*aY);y.SV=Math.round(72*aY);
y.buffer=N.$(y.e*y.n*4);for(var $=0;$<6;$++)k[$]*=aY;for(var fj=0;fj<_.length;fj++){var jg=_[fj];jg.Raster=m(jg);
var ae=P(w,jg);A(y,ae,k,j,jg,w)}if(Y)console.log("layers created",Date.now()-F);F=Date.now()}function m(l){var y=l.Layer,Y=l.Raster;
if(Y==null)Y=[];if(y){for(var $=0;$<y.length;$++){var F=y[$],w=F.Raster=m(F);Y=Y.concat(w)}Y.sort(function(j,_){return j._begin-_._begin})}return Y}function A(l,y,Y,F,w,j){var _="",D=0,t="",K=UDOC.G,d=UDOC.getState(),o="norm",k=1,v="SoCo",S=!1,I=0,hw=null,fY=!1,s=0,hZ=null,bG,aY,fj=0,jg=0,ae=0;
d.ctm=Y;var u=[0,0,0],B=[0,0,0],q=[],iB=[],eg=[];for(var dM=0;dM<y.length;dM++){var fK=y[dM];if(fK[0]=="%"){if(fK=="%_/ArtDictionary :"&&s==0)hw=[fK.slice(2)];
else if(hw!=null){if(fK=="%_"&&s==0){var aQ=C(hw)[0],cQ=aQ.AI10_ArtUID;if(cQ&&!cQ.startsWith("XMLID"))l.g[l.g.length-1].mw(L(cQ));
hw=null}else{hw.push(fK.slice(fY?1:2));if(fK=="%_X=")s++;if(fK=="%_X+")s--;if(fK=="%_/Binary : /ASCII85Decode ,")fY=!0;
if(fY&&fK.endsWith("~>"))fY=!1}}else if(hZ){bG+=(bG==""?"":" ")+fK.slice(2);if(bG.endsWith("X#")){hZ.push(bG.slice(0,bG.length-3));
bG=""}}continue}else if(fK=="/Mesh X!"){hZ=[];bG="";continue}else if(fK=="/End X!"){Q(hZ,d,l);hZ=null;
continue}fK=fK.trim();var a7=fK.split(" "),gz=a7[a7.length-1],bQ=gz.toLowerCase(),d4=a7.map(parseFloat);
if(gz=="m")K.moveTo(d,d4[0],d4[1]);else if(gz=="L"||gz=="l")K.lineTo(d,d4[0],d4[1]);else if(gz=="V"||gz=="v"||gz=="Y"||gz=="y")K.quadCurveTo(d,d4[0],d4[1],d4[2],d4[3]);
else if(gz=="C"||gz=="c")K.curveTo(d,d4[0],d4[1],d4[2],d4[3],d4[4],d4[5]);else if(gz=="H"||gz=="h"){if(gz==bQ)K.closePath(d);
q.push(JSON.parse(JSON.stringify(d.pth)))}else if(gz=="Xy"){o=["norm","mul ","scrn","over","sLit"][d4[0]];
k=d4[1];if(o==null){o="norm";console.log("unknown blend mode",d4[0])}}else if(gz=="Xd"){var j2=l.g[l.g.length-1];
j2.opacity=Math.round(255*k);j2.w4=j2.r8()&&o=="norm"?"pass":o}else if(gz=="AE")fj=d4[0];else if(gz=="Ae")jg=d4[0];
else if(gz=="Xw")ae=d4[0];else if(gz=="*"){var j7=d.pth.crds,fG=d.ctm,bT=j7[0]==j7[2]?0:1;l.Ld.push([bT,j7[bT]]);
K.newPath(d)}else if(gz=="XN")aY=fK.split(" ")[0];else if(gz=="XI"){var je=w.Raster,ba,j6;if(je==null||je.length==0){console.log("no Raster");
continue}if(fK!="XI"){continue}else{var cl=je[D++].Data,js=cl._begin,fR=cl._end;while(j[js]!=88)js++;
js+=3;ba=j.slice(js,fR);j6=y[dM-2].split(" ").map(parseFloat)}var iW=j6.slice(8),fx=iW[2],dm=iW[3],fq=fx*dm,h2=N.$(fq*4);
h2.fill(255);var jj=iW[7],iM=iW[8],aC=iW[6],aB=Math.ceil(fx*jj*aC/8);if(jj==1){if(aC==8)for(var $=0;
$<fq;$++)for(var ep=0;ep<3;ep++)h2[4*$+ep]=ba[$];else if(aC==1)for(var h6=0;h6<dm;h6++)for(var dJ=0;
dJ<fx;dJ++)for(var ep=0;ep<3;ep++)h2[4*(h6*fx+dJ)+ep]=255*(ba[h6*aB+(dJ>>>3)]>>>7-(dJ&7)&1);else throw aC}else if(jj==3)for(var $=0;
$<fq;$++)for(var ep=0;ep<3;ep++)h2[4*$+ep]=ba[3*$+ep];else if(jj==4||jj==5)for(var $=0;$<fq;$++){var gs=e([ba[jj*$+0]/255,ba[jj*$+1]/255,ba[jj*$+2]/255,ba[jj*$+3]/255]);
h2[4*$+0]=gs[0]*255;h2[4*$+1]=gs[1]*255;h2[4*$+2]=gs[2]*255}else if(jj==7)for(var $=0;$<fq;$++){h2[4*$+0]=ba[jj*$+0];
h2[4*$+1]=ba[jj*$+1];h2[4*$+2]=ba[jj*$+2]}else throw jj;if(iM==1){var ej=dm*aB;for(var $=0;$<fq;$++)h2[4*$+3]=ba[ej+$]}var eH=N.JV(h2,fx,dm)?"JPG":"PNG";
if(fx*dm<700*700)eH="PNG";var hT=dt.aW(eH).Af([[h2.buffer]],fx,dm),dO=l.Ak(new Uint8Array(hT),"<Image>",0,0);
l.g.push(dO);dO.w4=o;dO.opacity=Math.round(255*k);dO.YQ(ae==0);var Y=new ci;Y.scale(1,-1);Y.concat(a(j6.slice(1)));
Y.concat(a(d.ctm));var fE=dO.rect.clone();fE.x=fE.y=0;var a7=N.H.Zt(fE).s;N.H.A(a7,Y,a7);dO.add.SoLd.Trnf=f.Q.J_(a7);
dO.add.SoLd.nonAffineTransform=f.Q.J_(a7);dO.wH(l,!1)}else if(gz=="Ln"){_=J(fK)}else if(gz=="u"||gz=="q"||gz=="Lb"){iB.push(jg==1);
eg.push((gz=="Lb"?1-d4[0]:ae)==0);if(S)continue;l.g.push(l.uF())}else if(gz=="U"||gz=="Q"||gz=="LB"){if(iB.length==0||eg.length==0)throw dM;
var hD=iB.pop(),d9=eg.pop();if(gz=="LB")hD=fj==1;if(S)continue;var dO=l.uA();dO.mw((gz=="U"?"<Group>":"<Clip Group>")+t);
if(gz=="LB")dO.mw(_);if(gz=="Q"&&q.length!=0){var iQ=q.pop(),iS=UDOC.G.isBox(iQ,[0,0,l.e,l.n]);if(!iS)R(dO,iQ,l)}dO.add.lsct=hD?fM.UK:fM.mJ;
dO.w4="pass";dO.$G=24;dO.YQ(d9);l.g.push(dO)}else if(gz=="Bb"||gz=="Bh"||gz=="BB"){}else if(gz=="Bg"){var dy=F.Setup.Gradient[J(fK)];
v="GdFl";u=H(dy.O7,dy.a5w)}else if(gz=="Bm"||gz=="Xm"){var jh=u.Type.v.GrdT;if(jh=="Lnr"&&gz!="Xm"||jh=="Rdl"&&gz!="Bm")continue;
var eE=N.H.Cf(d.pth.crds),jr=new dw(0,0),dr=new dw(1,0),jL=new ci;jL.concat(a(d4));jL.concat(a(d.ctm));
jr=jL.Yw(jr);dr=jL.Yw(dr);if(jh=="Lnr"){jr.x=(jr.x+dr.x)/2;jr.y=(jr.y+dr.y)/2}N.X.So(jr,dr,eE,u)}else if(gz=="p"){var dI=J(fK),aF=F.Setup.Pattern[dI];
if(aF.raw==null){var eE=aF.vJ,fx=Math.round(eE[2]-eE[0]),dm=Math.round(eE[3]-eE[1]),aQ=new fy;aQ.e=fx;
aQ.n=dm;aQ.buffer=N.$(fx*dm*4);A(aQ,aF.$P,[1,0,0,-1,-aF.vJ[0],dm+aF.vJ[1]],F,w,j);aF.raw=new Uint8Array(dt.aW("PSD").Af(aQ))}var gd=fK.slice(fK.indexOf(")")+2),eG=gd.slice(0,gd.indexOf("[")-1).split(" ").map(parseFloat),bb=gd.slice(gd.indexOf("[")+1,gd.indexOf("]")).split(" ").map(parseFloat);
v="patt";u=[dI,eG,bb]}else if(gz=="J"||gz=="j"||gz=="w"||gz=="M"||gz=="d"){for(var $=1;$<a7.length;$++){var hM=a7[$],cD=d4[$-1];
if(hM=="w")d.lwidth=cD;if(hM=="j")d.ljoin=cD;if(hM=="J")d.lcap=cD;if(hM=="d"){var fr=fK.slice(fK.indexOf("[")+1,fK.indexOf("]")).trim();
if(fr.length!=0){var cp=fr.split(" ").map(parseFloat);d.dash=cp}}}}else if(bQ=="xa"||bQ=="xx"){var cG=[d4[4],d4[5],d4[6]];
v="SoCo";if(gz=="Xa"||gz=="Xx")u=cG;else B=cG}else if(bQ=="xk"){var cG,eX=d4[d4.length-2],eN=d4[d4.length-3];
if(eX==0)cG=e(d4);else if(eX==1){cG=[d4[4],d4[5],d4[6]];for(var $=0;$<3;$++)cG[$]=eN*1+(1-eN)*cG[$]}else throw fK;
v="SoCo";if(gz=="Xk")u=cG;else B=cG}else if(bQ=="k"||bQ=="x"){if(bQ=="x"){d4.pop();var iF=1-d4.pop();
for(var $=0;$<4;$++)d4[$]*=iF}var cG=e(d4);v="SoCo";if(gz==bQ)u=cG;else B=cG}else if(bQ=="g"){var cG=[d4[0],d4[0],d4[0]];
v="SoCo";if(gz==bQ)u=cG;else B=cG}else if(bQ=="n")K.newPath(d);else if(gz=="*u"){S=!0;I=0}else if(gz=="*U"||bQ=="s"||bQ=="f"||bQ=="b"){if(gz!="*U"&&S){if(bQ=="f"||bQ=="b")I|=1;
if(bQ=="s"||bQ=="b")I|=2;continue}if(gz==bQ)K.closePath(d);if(gz=="*U"){S=!1}var dO;if(v=="patt"){var aF=F.Setup.Pattern[u[0]];
dO=l.Ak(aF.raw,"<Pattern>",0,0);var fE=dO.rect.clone();fE.x=fE.y=0;var a7=N.H.Zt(fE).s,bb=a(u[2]);bb.Zh=bb.bx=0;
N.H.A(a7,bb,a7);dO.add.SoLd.Trnf=f.Q.J_(a7);dO.add.SoLd.nonAffineTransform=f.Q.J_(a7);dO.wH(l,!1)}else{dO=l.uA();
dO.$G|=16;var ay=dO.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));ay.strokeEnabled.v=ay.fillEnabled.v=!1;
if(v=="SoCo"){dO.add.SoCo=JSON.parse(hK.in[hK.order.indexOf("SoFi")]);var iJ=dO.add.SoCo.Clr.v;b(iJ,u)}if(v=="GdFl")dO.add.GdFl=u;
if(bQ=="f"||bQ=="b"||gz=="*U"&&I&1)ay.fillEnabled.v=!0;if(bQ=="s"||bQ=="b"||gz=="*U"&&I&2)cE.e6(ay,d,1,cE.xE(B))}dO.mw("<"+(gz=="*U"?"Compound ":"")+"Path>"+t);
dO.w4=o;dO.opacity=Math.round(255*k);dO.YQ(ae==0);R(dO,d.pth,l);l.g.push(dO);K.newPath(d)}else if(gz==","&&a7[1]=="/StoryIndex"){var hY=F.Setup.TextDocument,bu=null;
if(!(hY instanceof Array))hY=F.Setup.TextDocument=z(hY,j);var gv=hY[0],ix=hY[2];if(gv._DocumentResources)gv=hY[0]=d2.ah8(gv);
else d2.aiq(gv);var dO=l.uA();dO.add.lnsr="rend";dO.add.TySh=fC.lw(0,0);var f1=dp.ap7(gv),ao=dO.add.TySh.DQ=f1[d4[0]];
if(ao==null){console.log("text not found");continue}dO.mw(fC.Gn(ao).slice(0,50));dO.w4=o;dO.opacity=Math.round(255*k);
dO.YQ(ae==0);var iF=gv._1._1[d4[0]]._1._0[0]._0;iF=parseInt(iF.slice(1));var fm=gv._0._8._0,gE=fm[iF]._0;
if(gE._0)bu=O(gE._0);else if(gE._1)bu=O(gE._1._0);else bu=O(gE._2._2).slice(3);if(bu.length!=2){var eE=N.H.Cf(bu);
bu=[eE.x,eE.y];if(eE.Z()!=0){fC.hR(ao,1);fC.vL(ao,[0,0,Math.round(eE.e),Math.round(eE.n)])}}var gH=new ci,fU=new ci(1,0,0,1,bu[0],bu[1]),c7=new ci(1,0,0,1,-ix[0],-ix[1]),aL=a(d.ctm),hF=new ci;
if(gE._2&&gE._2._2){var Y=O(gE._2._2);hF=new ci(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}gH.concat(fU);gH.concat(hF);
gH.concat(c7);gH.scale(1,-1);gH.concat(aL);dO.add.TySh.A=gH;l.g.push(dO);l.sp=!0}}}function Q(l,y,Y){var F=UDOC.G,w=[],j=[],_="/DeviceGray",D,t=[],K=1,fG=0,bT=0,je=0;
for(var d=0;d<l.length;d++){var o=l[d];if(o.endsWith(" /CS")){var k=o.indexOf("/NChannel"),v=o.indexOf("/Process");
if(o.startsWith("/DeviceRGB")){_="/DeviceRGB";D=3}else if(o.startsWith("/DeviceGray")){_="/DeviceGray";
D=1}else if(o.startsWith("/DeviceCMYK")){_="/DeviceCMYK";D=4;t=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(k!=-1){_="/DeviceCMYK";
D=parseInt(o.slice(k-2,k-1));var u=1;for(var $=0;$<D;$++){u=o.indexOf("[",u);t[D-1-$]=o.slice(u+1,u+8).split(" ").map(parseFloat);
u++}}else if(v){_="/DeviceGray";D=1}else throw o}else if(o[0]=="["){var B=o.indexOf("]"),S=o.slice(1,B).split(" ").map(parseFloat),I=o.slice(B+2),q,hw,fY,s,hZ,bG;
if(I=="/Size"||I=="/P"||I=="/R")continue;if(I=="/S"||I=="/A"){q=S[0];hw=S[1];fY=S[2];s=S[3];hZ=S[4];
bG=S[5]}else if(I=="/N"){var aY=D+(K==1?0:1),fj;q=S[aY+0];hw=S[aY+1];fY=S[aY+2];s=S[aY+3];hZ=S[aY+5];
bG=S[aY+6];if(_=="/DeviceRGB")fj=S.slice(0,3);else if(_=="/DeviceGray")fj=[S[0],S[0],S[0]];else if(_=="/DeviceCMYK"){var jg=[0,0,0,0];
for(var $=0;$<D;$++){var ae=S[$],iB=t[$];jg[0]+=ae*iB[0];jg[1]+=ae*iB[1];jg[2]+=ae*iB[2];jg[3]+=ae*iB[3]}fj=e(jg)}else throw fj;
fj.push(S[D]);j.push([fj,q,hw])}else throw I;w.push([I,hZ,bG,q,hw,fY,s])}else if(o=="/E"){var eg=w.slice(0),dM=0;
for(var $=0;$<w.length;$++){var fK=w[$][0];if(fK=="/N"){dM++;continue}var aQ=$,cQ=$+1;while(w[cQ][0]!="/N"&&cQ<w.length)cQ++;
if(dM==0||dM==3){for(var a7=0;a7<cQ-aQ;a7++)eg[aQ+a7]=w[cQ-1-a7]}else for(var a7=aQ;a7<cQ;a7++){var gz=eg[a7],bQ=gz[1];
gz[1]=gz[5];gz[5]=bQ;bQ=gz[2];gz[2]=gz[6];gz[6]=bQ}$=cQ-1}w=[];for(var $=0;$<eg.length;$++){var gz=eg[$];
w.push(gz[1],gz[2],gz[3],gz[4],gz[5],gz[6])}var d4=w.length;F.moveTo(y,w[2],w[3]);for(var $=0;$<d4;$+=6){var fY=w[($+4)%d4],s=w[($+5)%d4],hZ=w[($+6)%d4],bG=w[($+7)%d4],q=w[($+8)%d4],hw=w[($+9)%d4];
F.curveTo(y,fY,s,hZ,bG,q,hw)}F.closePath(y);w=[]}else if(o.endsWith("/Version"))K=parseFloat(o[0])}var j2=Y.uA();
j2.$G|=16;j2.mw("<Mesh>");var j7=j2.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));j7.strokeEnabled.v=!1;
for(var $=0;$<j.length;$++)for(var a7=$+1;a7<j.length;a7++){var ba=j[$][0],j6=j[a7][0],cl=ba[0]-j6[0],js=ba[1]-j6[1],fR=ba[2]-j6[2],iW=Math.sqrt(cl*cl+js*js+fR*fR);
if(iW>je){je=iW;fG=$;bT=a7}}var fx=j[fG],dm=j[bT],fq=j2.add.GdFl=H(0,[[0,fx[0]],[1,dm[0]]]),h2=a(y.ctm),jj=h2.Yw(new dw(fx[1],fx[2])),iM=h2.Yw(new dw(dm[1],dm[2])),aC=N.H.Cf(y.pth.crds);
jj.x=(jj.x+iM.x)/2;jj.y=(jj.y+iM.y)/2;N.X.So(jj,iM,aC,fq);R(j2,y.pth,Y);Y.g.push(j2);F.newPath(y)}function H(l,y){var Y=JSON.parse(hK.in[hK.order.indexOf("GrFl")]),F=Y.Grad.v;
F.Intr.v=0;Y.Type.v.GrdT=["Lnr","Rdl"][l];N.X.sw(y,F);return Y}function J(l){return l.slice(l.indexOf("(")+1,l.indexOf(")"))}function b(l,y){l.Rd.v=y[0]*255;
l.Grn.v=y[1]*255;l.Bl.v=y[2]*255}function O(l){var y=[];for(var $=0;$<l.length;$++)y[$]=parseFloat(l[$].slice(1));
return y}function a(l){return new ci(l[0],l[1],l[2],l[3],l[4],l[5])}function e(l){return UDOC.C.cmykToRgb(l)}function R(l,y,Y){l.add.vmsk=new c.Rl;
if(y.crds.length!=0)l.add.vmsk.Y=p(y);l.ON();l.hM(Y)}function p(l){var y={s:l.crds,C:l.cmds},Y=N.H.ev(y,!1);
return Y}function P(l,y){var Y=[y._begin],F=y._end-y._begin,w=F,j=y.Raster,d=0;if(j){for(var $=0;$<j.length;
$++){var _=j[$].Data;if(_==null)break;var D=_._begin+32,t=_._end;if(D>t)D=t;Y.push(D,t);w-=t-D}}Y.push(y._end);
var K=new Uint8Array(w);for(var $=0;$<Y.length;$+=2){var D=Y[$],o=Y[$+1]-D;K.set(new Uint8Array(l.buffer,D,o),d);
d+=o}return V.Io(K).split(/\r\n|\r|\n/)}function z(l,y){if(l==null)return[];var Y=P(y,l),F="",w="",j=0,_;
for(var $=2;$<Y.length;$++){var D=Y[$];if(D[0]=="%"){if(j==0)F+=D.slice(1);else w+=D.slice(1)}else if(D==";")j++;
else if(D.endsWith("/RulerOrigin ,"))_=D.split(" ").slice(0,2).map(parseFloat)}var t=[F,w],K=[];for(var $=0;
$<2;$++){var d=t[$],o=new Uint8Array(d.length);V.aw(o,0,d);var k=FromPS.F.ASCII85Decode({buff:o,off:0}),v=aR.dm(k);
K.push(v)}K.push(_);return K}function Z(l,y){if(l==null)return[];var Y=P(y,l);Y=Y.slice(1);for(var $=0;
$<Y.length;$++){var F=Y[$];if(F[0]=="%")Y[$]=F.slice(F[1]=="_"?2:1)}var w=C(Y);return w}function W(l,y){var Y={};
if(l==null)return Y;for(var $=0;$<l.length;$++){var F=P(y,l[$]),w=F[1],j=J(w),_=w.slice(w.indexOf(")")+2).split(" ").map(parseFloat),D=[];
for(var t=2;t<F.length;t++)D.push(F[t].slice(2));Y[j]={vJ:_,$P:D}}return Y}function T(l,y){var Y={},F,w;
if(l==null)return Y;var j=[];for(var $=0;$<l.length;$++){var _=P(y,l[$]);for(var D=0;D<_.length;D++){var t=_[D];
if(t[0]=="("){var K=t.split(")");F=K[0].slice(1);var d=K[1].split(" ");w=parseInt(d[1])}else if(t.endsWith("%_BS")){var K=t.split(" "),u,B=1;
K.pop();K=K.map(parseFloat);var o=K.pop(),k=K.pop(),v=K.pop();if(v==0)u=[K[0],K[0],K[0]];else if(v==2||v==4)u=[K[4],K[5],K[6]];
else if(v==1||v==3)u=e(K);else if(v==6){if(K.length==3)u=[K[0],K[0],K[0]];else u=e(K);B=K.pop()}else{throw v}j.push([o/100,u,B,k/100])}else if(t=="BD"){for(var S=0;
S<j.length-1;S++)j[S][3]=j[S+1][3];j.sort(function(I,q){return I[0]-q[0]});Y[F]={O7:w,a5w:j};j=[]}}}return Y}function i(l){var y="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),Y=Date.now(),F=0,w=[],j={Header:{}},_=[j],D=l.length;
while(F<D){var t=F;while(t!=D&&l[t]!=13&&l[t]!=10){t++}if(l[F]==37&&l[F+1]==95&&l[F+2]==37)F+=2;if(l[F]==37&&(l[F+1]==37||l[F+1]==65)){var K=V.uB(l,F,t-F);
if(K=="%%EndComments"||K=="%EndComments"||K=="%AI5_Begin_NonPrinting"||K=="%AI5_End_NonPrinting--"||K.startsWith("%AI17_Begin_Content_if_version_gt")||K=="%AI17_End_Versioned_Content"){}else{var d=K.indexOf("Begin"),o=Math.max(K.indexOf("_End"),K.indexOf("%End"));
if(d!=-1){var k=K.slice(d+5).split(":")[0],v={_begin:F,_end:F},u=_[_.length-1];if(y.indexOf(k)!=-1){if(u[k]==null)u[k]=[];
u[k].push(v)}else{if(u[k]!=null){console.log(_);throw K}u[k]=v}_.push(v);if(K.startsWith("%%BeginData")){t=V.Sz(l,"%%EndData",F)}else if(K=="%AI9_BeginDocumentData")t=V.Sz(l,"%AI9_EndDocumentData",t);
else if(K=="%AI11_BeginTextDocument")t=V.Sz(l,"%AI11_EndTextDocument",t)}else if(o!=-1){_.pop()._end=F}else if(_.length==1&&(K.startsWith("%AI")||K.startsWith("%%")&&K.indexOf(" ")!=-1)){var B=1;
if(K.startsWith("%AI"))while(K[B]!="_"&&B<K.length)B++;var S=K.indexOf(":");if(S==-1)S=K.indexOf(" ");
var I=K.slice(B+1,S),q=K.slice(S+1).trim();j.Header[I]=q}}}F=t;if(l[F]==13)F++;if(l[F]==10)F++}return j}function X(l,y){var Y=Date.now(),F=new Uint8Array(l),w,j=F[2]==68;
if(y)console.log(!j?"EPS":"PDF");if(j){var _=V.Sz(F,"/AIMetaData "),s=!1,hZ=!1;while(F[_]!=60)_--;_--;
var D=V.Sz(F,">>",_),t=V.uB(F,_+2,D-_-2).split("/"),K=[];for(var $=0;$<t.length;$++){var d=t[$],o=d.startsWith("AIPrivateData"),k=d.startsWith("AIPDFPrivateData");
if(!o&&!k)continue;var v=d.trim().split(/\s+/),u=parseInt(v[1]),B=parseInt(v[0].slice(o?13:16));K.push([B,u])}if(y)console.log("--- map made",Date.now()-Y);
Y=Date.now();var S=FromPDF.indexOfXref(F),I=[],q=FromPDF.readXrefTrail(F,S,I),hw={buff:F,off:0},fY=new Array(K.length),bG=_;
for(var $=0;$<K.length;$++){var B=K[$][0],u=K[$][1],aY=FromPDF.getIndirect(u,0,hw,I),fj=aY.buff,jg=aY["/Filter"],ae=0;
if(jg!=null&&typeof jg=="string")jg=[jg];var iB=V.uB(fj,ae,ae+20);if(iB=="%AI12_CompressedData"){ae+=20;
s=!0}else if(iB=="%AI24_ZStandard_Data"){ae+=20;hZ=!0}fj=new Uint8Array(fj.buffer,fj.byteOffset+ae,fj.length-ae);
if(jg)for(var eg=0;eg<jg.length;eg++){var dM=jg[eg];if(dM=="/FlateDecode")fj=pako.inflate(fj);else if(dM=="/ASCIIHexDecode")fj=FromPS.F.HexDecode({buff:fj,off:0});
else if(dM=="/ASCII85Decode")fj=FromPS.F.ASCII85Decode({buff:fj,off:0});else throw dM}fY[B-1]=fj}if(y)console.log("--- arrays found",Date.now()-Y);
Y=Date.now();var fK=V.uB(fY[0],0,13);if(fK=="%%BoundingBox"||fK=="%AI7_Thumbnai")fY=fY.slice(1);if(fK=="%AI24_ZStanda"){fY[0]=fY[0].slice(20);
hZ=!0}w=U(fY);if(y)console.log("--- concatenated",Date.now()-Y);Y=Date.now();if(s)w=UZIP.inflate(w);
if(hZ)w=dt.cN.ko(w);if(y)console.log("--- inflated",Date.now()-Y);Y=Date.now()}else{var aQ=V.Io(F);if(aQ.indexOf("%AI5_BeginLayer")!=-1){w=F}else{var cQ=aQ.split(/[\n\r]+/),a7=[],gz=!1;
for(var bQ=0;bQ<cQ.length;bQ++){var d4=cQ[bQ].trim();if(d4=="%AI9_PrivateDataEnd"){gz=!1;break}else if(d4=="%AI9_DataStream"||d4=="%AI24_DataStream"){gz=!0}else if(gz)a7.push(d4.slice(1))}var j2=V.Dn(a7.join("")),j7=FromPS.F.ASCII85Decode({buff:j2,off:0});
if(j7[0]==120&&j7[1]==156)w=UZIP.inflate(j7);else w=dt.cN.ko(j7)}}return w}function U(l){var y=0,F=0;
for(var $=0;$<l.length;$++)y+=l[$].length;var Y=new Uint8Array(y);for(var $=0;$<l.length;$++){var w=l[$];
Y.set(w,F);F+=w.length}return Y}function M(l,y){for(var $=0;$<y.length;$++)if(l.startsWith(y[$]))return!0;
return!1}function C(l){var y=[],Y=[],top=-1,F,w=null,j=null,_=0;for(var D=0;D<l.length;D++){var t=l[D];
if(F){t=F+t;F=null}var K="\t".repeat(y.length);if(w!=null){w.push(t);if(t.endsWith("~>")){var d=V.Dn(w.join("")),o=FromPS.F.ASCII85Decode({off:0,buff:d});
y.push(o);Y.push(!1);top++;w=null}}else if(j!=null){if(t=="X+"){if(_==1){y.push(j);Y.push(!1);top++;
j=null}else _--}else if(t=="X=")_++;else j.push(t)}else if(t=="/Binary : /ASCII85Decode ,"){w=[]}else if(t=="X="){j=[];
_++}else if(t=="/SVGFilter :"||t=="; /Def ;")continue;else if(t.startsWith("/")&&t[1].toUpperCase()!=t[1].toLowerCase()){if(t.startsWith("/XMLUID")){var k=x(t);
if(Y[top])throw"e";y[top][k[4]]=k[2]}if(t.startsWith("/GObjRef")){var k=x(t);if(!Y[top])throw"e";y[top].push(k[2])}else{var v=t.startsWith("/Array")||t.startsWith("/Document");
y.push(v?[]:{});Y.push(v);top++}}else if(t.endsWith(",")){var u,B,k=x(t);k.pop();if(k[0]==";"||k.length==1){B=y.pop();
Y.pop();top--;u=Y[top]?null:k.pop()}else{u=Y[top]?null:k.pop();var S=k.pop(),I=k[0];if(S=="/Int")B=parseInt(I);
else if(S=="/Real")B=parseFloat(I);else if(S=="/Bool")B=I=="1";else if(S=="/String"||S=="/UnicodeString")B=k.join("");
else if(S=="/RealMatrix"||S=="/RealPoint"||S=="/RealPointRelToROrigin")B=k.map(parseFloat);else throw S}if(Y[top])y[top].push(B);
else y[top][u]=B}else if(t==";"){}else if(t==""){}else{if(t.indexOf("/RealPoint")!=-1){}else if(t.startsWith("(")&&t.endsWith(")")){}else if(t.endsWith("/RealMatrix")){}else throw t;
F=F?F+t:t}}return y}function x(l){var y=0,Y=[];while(y<l.length){var F=l[y],w=F.charCodeAt(0);if(F==" ")y++;
else if(F==","||F==";"||F==":"){Y.push(F);y++}else if(F=="("){var j=y+1;while(!(l[j]==")"&&l[j-1]!="\\"))j++;
var _=l.slice(y+1,j);Y.push(_);y=j+1}else if(F=="/"||F=="-"||48<=w&&w<=57){var j=y;while(l[j]!=" ")j++;
Y.push(l.slice(y,j));y=j}else throw F}return Y}function L(l){var y="";for(var $=0;$<l.length;$++){if(l[$]=="_"&&l[$+1]=="x"){var jw=parseInt(l.slice($+2,$+4),16);
y+=String.fromCharCode(jw);$+=4}else if(l[$]=="_")y+=" ";else y+=l[$]}return y}function E(l){var y="xmlnode-nodename",Y="xmlnode-nodevalue",F="xmlnode-attributes",w="xmlnode-children",j=l[y],_=l[F],D=l[w],t={_nam:j};
for(var K in _){var d=_[K];if(Object.keys(d[F]).length!=0||d[w].length!=0)throw"e";if(d[y]!=K)throw"e";
t[K]=d[Y]}if(D.length==0)return t;var o=t.cln=[];for(var $=0;$<D.length;$++)o.push(E(D[$]));return t}return G}();
var f={};f.G=function(G){return window.devicePixelRatio||1};f.L3=function(G,m){return(m.atK=="touch"?12:4)*f.G()/G.t.V};
f.rc=function(G,m,A){this.name=G;this.id=m;this.V_=null;if(A!=null)this._a=A};f.rc.prototype.Hk=function(G,m,A,Q,H){};
f.rc.prototype.enable=function(G,m,A,Q,H,J){var b=new j8(r.E.W,!0);b.data={d:r.S.Cv,Ry:"default"};m.u(b)};
f.rc.prototype.disable=function(G,m,A,Q,H){};f.rc.prototype.lE=function(G,m,A,Q,H){return!1};f.rc.prototype.gr=function(G,m,A,Q,H){};
f.rc.prototype.Jg=function(G,m,A,Q,H){};f.rc.prototype.Nr=function(G,m,A,Q,H){};f.rc.prototype.gE=function(G,m,A,Q,H,J){};
f.rc.prototype.K8=function(G,m,A,Q,H){};f.rc.prototype.KY=function(G,m,A,Q){};f.rc.prototype.tT=function(G,m,A,Q){};
f.rc.prototype.S6=function(G,m){};f.rc.prototype.Ah=function(G,m){};f.rc.prototype.tZ=function(G,m,A,Q,H){};
f.rc.prototype.a2=function(G,m){};f.rc.prototype.DV=function(G,m){return!1};f.rc.prototype.Rn=function(G,m){return!1};
f.rc.prototype.I3=function(){return!1};f.rc.prototype.gD=function(G,m){return!0};f.rc.prototype.mI=function(){return null};
f.rc.prototype.he=function(G,m,A){};f.rc.prototype.w9=function(){return!1};f.rc.prototype.ZG=function(G,m,A,Q){};
f.rc.prototype.track=function(G){var m=new j8(r.E.NH,!0);m.data=G;G.Un=!0;this.V_.u(m)};f.rc.ez=function(G,m,A,Q){var H=10*f.G()*(G.atK=="touch"?2:1),J=G.x+H,b=G.y-H;
f.rc.lT(J,b,[f5.get([12,41]).charAt(0)+": "+N.Kj.DO(m.e,A.SV,Q,A.e,!0),f5.get([12,42]).charAt(0)+": "+N.Kj.DO(m.n,A.SV,Q,A.n,!0)],A)};
f.rc.lT=function(G,m,A,Q){var H=f.G(),J=Math.round,b=J(11*H),O=J(100*H),a=J((A.length*14+5)*H),e=new f_(G,m-a,O,a),R=f.rc.Bu;
if(R==null)R=f.rc.Bu=document.createElement("canvas");R.width=O;R.height=a;var p=R.getContext("2d");
p.fillStyle="rgba(0,0,1,1)";p.fillRect(0,0,O,a);p.font=b+"px monospace";p.fillStyle="rgba(255,255,255,1)";
for(var $=0;$<A.length;$++)p.fillText(A[$],J(4*H),J(($+1)*13*H));var P=[p.getImageData(0,0,O,a).data,e.clone()];
if(Q)Q.v.Lb=[P];return P};f.rc.Bu=null;f.ld="0";f.vj="1";f.aer="2";f.alI="3";f.m0="5";f.abL="6";f.a2g="7";
f.Mx="8";f.yj="9";f.gS="10";f.H0="11";f.QB="12";f.LU="13";f.q2="14";f.RQ="16";f.UM="18";f.Hg="19";f.HF="20";
f.Wz="21";f.Ai="22";f.sV="23";f.cb="24";f.CV="25";f.aq="27";f.P1="31";f.anh="32";f.a12="34";f.a38="35";
f.Uw="36";f.KU="37";f.mV="38";f.Np="39";f.YJ="40";f.Fj="41";f.SX="42";f.jB="43";f.G8="47";f.fg="48";
f.Z3="51";f.gk="52";f.iA="54";f.ZB="55";f._4="56";f.W$="57";f.gG="58";f.B5="59";f.aef="60";f._N="61";
f.L0="70";f.Py="100";f.K9="101";f.uT="102";f.Wr="103";f.x7="120";f.wJ="230";f.a2o="231";f.c5="232";f.p4="233";
f.Xj="234";f.Jb="235";f.uX="236";f.yV=function(G){var m=f.Ni,A=null;for(var Q in m)if(m[Q][1].indexOf(G[1].classID)!=-1)A=Q;
return A};f.Ni={};f.Ni[f.sV]=["tools/brush",["PbTl"]];f.Ni[f.cb]=["tools/pencil",["PcTl"]];f.Ni[f.P1]=["tools/eraser",["ErTl"]];
f.Xi=function(G,m,A){f.rc.call(this,G,m,A);this.EE={brush:G?g3.g$():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.dj=null;this.Eq=null;this.BA=null;this.VA=null;this.l$=null;this.aV=null;this.WP=null;this.Ml=null;
this.Zx=null;this.Rm=null;this.ms=null;this.CM=null;this.wX=null;this.Nn=1;this.iC=!1;this.Hn=null;this.caller=null};
f.Xi.prototype=new f.rc;f.Xi.prototype.Rn=function(G,m){return G.U_&&m.j(a5.K6)};f.Xi.prototype.Jg=function(G,m,A,Q,H){if(Q.j(a5.Ei)){this.aV=new dw(H.x,H.y);
var J=this.EE.brush.Brsh.v,b=J.Dmtr.v.val,O=J.Hrdn!=null?J.Hrdn.v.val:-1;this.WP=[b,O,!0,JSON.parse(JSON.stringify(this.EE.brush)),H];
this.hr(A)}};f.Xi.prototype._U=function(G,m,A){var Q=this.WP,H=G.t.V,J=A.x-Q[4].x,b=A.y-Q[4].y,O=Q[0],a=Q[1],e=Math.abs(J)>Math.abs(b);
if(e&&Q[2]){var R=Math.round(2*J/H);O+=R;A.x-=J-.5*R*H}if(!e&&!Q[2]&&a!=-1){var R=Math.round(.25*b);
a+=R;A.y-=b-4*R}O=Math.max(1,O);a=Q[1]==-1?-1:Math.max(0,Math.min(100,a));var p=Q[3];p.Brsh.v.Dmtr.v.val=O;
if(a!=-1)p.Brsh.v.Hrdn.v.val=a;this.WP=[O,a,e,p,A];var P=gj.oq(p,m.wo.GO,H),z=P[1];z.x=Math.round(this.aV.x-z.e/2);
z.y=Math.round(this.aV.y-z.n/2);G.v.eN=[P];var Z=G.t.fY(this.aV.x,this.aV.y);G.v.aB={Gq:[],fc:[Z.x-O/2,Z.y,Z.x+O/2,Z.y]};
if(a!=-1)G.v.aB.fc.push(Z.x+50/H,Z.y-a/2,Z.x+50/H,Z.y+a/2);G.Iy=!0};f.Xi.prototype.K8=function(G,m,A,Q,H){if(this.id==f.HF||this.id==f.Wz)return;
if(this.aV){this.aV=null;this.DE(JSON.parse(JSON.stringify(this.WP[3])));G.v.eN=[];G.v.aB=null;G.Iy=!0;
return}var J=new j8(r.E.W,!0);J.data={d:r.S.mX,b:this.id,ark:"showBrushOpts",gn:new dw(H.Gp+4,H.Yt)};
m.u(J)};f.Xi.prototype.DE=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.$g,WF:dG.bM,VC:G};this.caller.u(m)};
f.Xi.H2=function(G,m,A,Q,H,J){if(G==null)G="FrgC";if(m==null)m="norm";if(A==null)A=1;if(H==null)H=!1;
var b={classID:"Fl",Usng:{t:"enum",v:{FlCn:G}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(A*100)}},PrsT:{t:"bool",v:H},Md:{t:"enum",v:{BlnM:ib.hb(m)}}};
if(G=="Clr")b.Clr={t:"Objc",v:Q};if(G=="contentAware")b.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(G=="Ptrn")b.Ptrn={t:"Objc",v:J};return{YI:"fill",aL:b}};f.Xi.prototype.Hk=function(G,m,A,Q,H){this.V_=m;
var J=A.UX.length;if(J==0&&!A.fE())return;var b=J!=0?-1-A.UX[0]:A.c[0],O=A.g[b];if(G.d=="fromAction"){var a=G.RO,e=a.aL;
if(e&&e.null&&e.null.v[0]&&e.null.v[0].v.classID=="Path"){var R=A.S9(),p=R[0],P=R[1],z=p[P.length==0?0:P[0]].add.vmsk;
if(a.YI=="fill"){var Z=z.fm(),W=H.yu,T=this.EE,i=W>>16&255,X=W>>8&255,U=W>>0&255;this.iN(A,O,Z,i,X,U,Math.round(T.opacity*255),T.bmode,"Fill Path")}else{for(var M=0;
M<1e3;M++){var C=N.U.sM(z.Y,M,!0);if(C==-1){this.gE(A,m,H,Q,null);break}var x=z.Y[C],L=z.Y.slice(C,C+1+x.length),E=N.H.Zv(L,!0).s,l=E.slice(0,8);
for(var y=8;y<E.length;y+=6)l.push(E[y-2],E[y-1],E[y],E[y+1],E[y+2],E[y+3],E[y+4],E[y+5]);var Y={};Y.Points=l;
Y.TextOnPathTRange=z.Q8.slice(0);var Y=dq.J1(Y,2),F=Y[0];if(M==0)this.gr(A,m,H,Q,A.t.cD(F[0],F[1]));
else this.Eq.moveTo(F[0],F[1]);for(var $=2;$<F.length;$+=2){var w=A.t.cD(F[$],F[$+1]);w.U_=!0;this.Nr(A,m,H,Q,w,this.EE.flow)}}}}else if(a.YI=="fill"){var j=e.PrsT?e.PrsT.v:!1,_=O?O.add.lspf:0;
if(j&&O){O.add.lspf=_==null?1:_|1}var D=(e.Opct?e.Opct.v.val:100)/100,t=e.Md?ib.Bn(e.Md.v.BlnM):"norm",K=e.Usng.v.FlCn;
if(K=="contentAware"){if(A.q==null){alert("Select an area to heal first.");return}if(!A.fE())return;
this.uZ(A);this.Rq(A,0);var d=A.q,o=N.$(d.rect.Z()*4);N.I5(d.channel,o,3);this.pe(A,"sheal",o,d.rect,d.rect);
this.F(A,d.rect);this.finish(A,d.rect)}else if(K=="Ptrn"){var k=H.uf,v=A.q?A.q.rect.clone():new f_(0,0,A.e,A.n),u=N.$(v.Z()*4);
en.ke(e,u,v,k,new dw(0,0));this.C4(A,O,A.q,u,"norm",[6,48,0,2])}else{var W;if(K=="FrgC")W=H.yu;else if(K=="BckC")W=H.qU;
else if(K=="Blck")W=0;else if(K=="Wht")W=16777215;else if(K=="Gry")W=8421504;else if(K=="Clr"){var B=N.X.SR(e.Clr.v);
W=B.p<<16|B.z<<8|B.h}var i=W>>16&255,X=W>>8&255,U=W>>0&255;this.iN(A,O,A.q,i,X,U,Math.round(255*D),t,[2,3])}if(j&&O){O.add.lspf=_==null?0:_}}else if(a.YI=="delete"){var S=b<0?1:O.Sm,d=A.q,fY;
if(d==null)return;var I=b<0?A.Hv[-b-1]:S<=0?null:S==1?O.fm():O.mv(A).D,v=S<=0?O.rect:I.rect,q=S<=0?d.rect.KB(v):d.rect.clone();
if(q.My())return;var hw=q.Z();if(S<=0){fY=N.$(hw*4);N.Pr(O.buffer,O.rect,fY,q)}else{fY=N.$(hw);I.extend(q);
N.qg(I.channel,I.rect,fY,q)}if(0<=b&&O.NC(A,d)){if(S<=0){N.w8(fY,0);N.Pr(O.Pg.vJ,O.Pg.fJ,fY,q)}else{fY.fill(255);
N.qg(O.Pg.vJ,O.Pg.fJ,fY,q)}}else{if(S<=0){var s=N.$(fY.length>>2);N.gF(fY,s,3);N.a.Os(N.Pn(d.rect.Z()),d.rect,s,q,d.channel,q,1);
N.I5(s,fY,3)}else{var hZ=N.$(d.rect.Z()),i=H.qU>>>16&255,X=H.qU>>8&255,U=H.qU>>0&255;hZ.fill(Math.round(N.vp(i,X,U)));
N.a.Os(hZ,d.rect,fY,q,d.channel,q,1)}}this.xc(A,!0,[2,2],b,S,q,fY)}}if(G.d=="stroke"){var bG=G.anc,d=A.q;
if(d==null){d={rect:O.rect.clone(),channel:N.$(O.rect.Z())};N.gF(O.buffer,d.channel,3)}var aY=en.PT(bG),fj=f.iK.l2(d,Math.ceil(aY[0]),Math.ceil(aY[1])),W=N.X.SR(bG.Clr.v),i=Math.round(W.p),X=Math.round(W.z),U=Math.round(W.h);
this.iN(A,O,fj,i,X,U,Math.round(255*bG.Opct.v.val/100),ib.Bn(bG.Md.v.BlnM),[14,9])}if(G.d=="fillBMP"){this.C4(A,O,A.q,G.OK,G.kb,G.om)}if(G.d=="draw"){var jg=G.UU,ae=jg.rect;
this.uZ(A);var iB=A.g[A.c[0]];if(G.asa&&iB&&iB.Sm<=0&&A.UX.length==0){ae=f._9.Rz(jg,A);iB.buffer=jg.buffer.slice(0);
iB.rect=ae.clone()}else{var eg=this.EE.bmode;this.EE.bmode="norm";this.pe(A,"draw",jg.buffer,ae,ae.KB(new f_(0,0,A.e,A.n)));
this.EE.bmode=eg}this.F(A,ae);A.bV=!0;this.finish(A,ae,G.om,G.asa)}};f.Xi.prototype.iN=function(G,m,A,Q,H,J,b,O,a){var e=A==null?new f_(0,0,G.e,G.n):A.rect,R=b<<24|J<<16|H<<8|Q<<0,p=N.$(e.Z()*4);
N.w8(p,R);this.C4(G,m,A,p,O,a)};f.Xi.prototype.C4=function(G,m,A,Q,H,J){var b=G.UX.length!=0?-1-G.UX[0]:G.c[0],O=b<0?1:m.Sm,a=b<0?G.Hv[-1-b]:O<=0?null:O==1?m.fm():m.mv(G).D,e=O<=0?m.rect:a.rect,R=A==null?new f_(0,0,G.e,G.n):A.rect,p=A==null?N.tM(G.e*G.n):A.channel,P=R.Z(),z,Z=null;
if(O<=0){z=N.$(P*4);N.Pr(m.buffer,m.rect,z,R)}else{z=N.$(P);a.extend(R);N.qg(a.channel,a.rect,z,R)}if(A!=null)N.fW(p,Q);
if(O>0){Z=N.$(P);N.le(Q,Z)}if(0<=b&&A&&m.NC(G,A)){var W=m.Pg.bC,T=m.Pg.bC.slice(0);if(O<=0)N.Gy(Q,T);
else N.Gy(Z,T);var i=new i3([2,3],this);i.data={d:"drawtemp",i:G.c[0],OI:O,auw:W,adb:T};G.jm(i);this.S6(i.data,G)}else{if(O<=0){var X;
if(m.AL(0)){X=N.$(R.Z());N.gF(z,X,3)}N.a.zc(H,Q,R,z,R,R,1);if(m.AL(0))N.I5(X,z,3)}else N.a.Os(Z,R,z,R,p,R,1);
this.xc(G,!0,J,b,O,R,z)}};f.Xi.prototype.DV=function(G){if(a5.a_.indexOf(G)!=-1)return!0;return!1};f.Xi.prototype.KY=function(G,m,A,Q){var H=this.EE.brush,J=Q.j(a5.Ei),b=J!=this.iC,O=f.Xi.fZ(H,Q);
if(O!=null)this.DE(O);if(!Q.j(a5.KF)&&Q.Lh()!=-1){var a=a5.RE(Math.round(this.EE.opacity*100),Q.Lh())/100;
this.EX({opacity:a},m)}if(this.id==f.Mx&&b&&G!=null){var e=this.EE.qsmode;if(e==2)e=G.q==null?0:1;else e=2;
this.EX({qsmode:e},m)}this.iC=J;if(b){if(G)this.Nn=G.t.V;this.hr(A,Q)}};f.Xi.fZ=function(G,m){var A=G.Brsh.v.Dmtr.v.val,Q=G.Brsh.v.Hrdn!=null?G.Brsh.v.Hrdn.v.val:-1,H=A,J=Q,b=m.j(a5.K6);
if(m.j(a5.Wv)){if(b)Q=25*Math.floor((Q-1)/25);else{if(A<=10)A--;else if(A<=50)A=5*Math.floor((A-1)/5);
else if(A<=100)A=10*Math.floor((A-1)/10);else if(A<=200)A=25*Math.floor((A-1)/25);else if(A<=400)A=50*Math.floor((A-1)/50);
else A=100*Math.floor((A-1)/100)}}if(m.j(a5.sW)){if(b)Q=25*Math.ceil((Q+1)/25);else{if(A<10)A++;else if(A<50)A=5*Math.ceil((A+1)/5);
else if(A<100)A=10*Math.ceil((A+1)/10);else if(A<200)A=25*Math.ceil((A+1)/25);else if(A<400)A=50*Math.ceil((A+1)/50);
else A=100*Math.ceil((A+1)/100)}}A=Math.max(1,A);Q=Math.max(0,Math.min(100,Q));if(J==-1)Q=-1;if(A!=H||Q!=J){var O=JSON.parse(JSON.stringify(G));
O.Brsh.v.Dmtr.v.val=A;if(J!=-1)O.Brsh.v.Hrdn.v.val=Q;return O}return null};f.Xi.prototype.hr=function(G,m,A,Q){if(G.wo.list.length==0)return;
var H=this.id,J;if((H==f.aq||H==f.Hg||H==f.sV||H==f.cb)&&(m!=null&&m.j(a5.Ei)||this.EE.alt[0]))J="crosshair";
else{var b=this.Nn,O=this.EE.brush;if((H==f.aq||H==f.Hg)&&A&&this.CM&&this.CM.length==this.ms.Z()*4){var a=A.t.fY(Q.x,Q.y),e=this.qv(a),R=this.CM,p=this.ms,P=new f_(p.x+e.x,p.y+e.y,p.e,p.n),z=gj.oq(O,G.wo.GO,b),Z=z[0],W=z[1],T=Math.ceil(W.e/b),i=new f_(Math.round(a.x-T/2),Math.round(a.y-T/2),T,T),X=N.$(i.Z()*4),U,M;
N.Pr(R,P,X,i);if(b==1){U=X;M=i}else{var C=new ci(b,0,0,b,0,0),x=f.Q.fK([X,i],C,!0);M=W.clone();M.x=x.rect.x;
M.y=x.rect.y;if(M.A5(x.rect))U=x.buffer;else{U=N.$(M.Z()*4);N.Pr(x.buffer,x.rect,U,M)}}var L=this.EE.opacity/255;
for(var $=0;$<U.length;$+=4)U[$+3]=L*(Z[$+3]*U[$+3]);gj.alm(new Uint32Array(U.buffer),M,4278190080,4294967295);
J={R0:U,PR:M,IC:new dw(M.e/2,M.n/2)}}else J=gj.qR(O,G.wo.GO,b,H==f.CV)}var E=new j8(r.E.W,!0);E.data={d:r.S.Cv,Ry:J};
if(this.caller)this.caller.u(E)};f.Xi.prototype.enable=function(G,m,A,Q){this.dj=A;this.caller=m;this.DE(JSON.parse(JSON.stringify(this.EE.brush)));
if(G&&G.t.V!=0)this.Nn=G.t.V;this.hr(A,Q)};f.Xi.prototype.a2=function(G,m){if(m==dG.bM){this.EE.brush=G.wo.lt;
this.hr(G)}};f.Xi.prototype.tZ=function(G,m,A,Q,H){for(var J in G)this.EE[J]=G[J];if(this.EE.alt[0])this.hr(H,Q,A)};
f.Xi.prototype.J8=function(G){var m=G.UX.length!=0?-1-G.UX[0]:G.c[0],A=G.g[m],Q=m<0?1:A.Sm,H=m<0?G.Hv[-m-1]:Q<=0?null:Q==1?A.fm():A.mv(G).D,J=H?H.channel:A.buffer,b=(H?H.rect:A.rect).clone();
return[A,Q,H,J,b]};f.Xi.prototype.uZ=function(G,m){this.wX=G.q==null?null:{rect:G.q.rect.clone(),channel:G.q.channel.slice(0)};
var A=this.J8(G),Q=A[0],H=A[1],J=A[2];this.Rm=A[3];this.Zx=A[4];var b=new f_(0,0,G.e,G.n),O=b.wj(this.Zx);
if((this.wN()&&H<=0||O.A5(this.Zx))&&m!=!0)this.Rm=this.Rm.slice(0);else{if(J)J.extend(O);else Q.extend(O)}};
f.Xi.prototype.Rq=function(G,m){var A=this.J8(G),Q=A[1],H=A[3],J=A[4],b=[H,J],O=m!=null?m:this.EE.sfrom;
if(Q<=0&&O!=0){b[1]=new f_(0,0,G.e,G.n);b[0]=G.$s(O==1&&G.c[0]!=G.g.length-1?G.c[0]:null).slice(0)}this.ms=b[1].clone();
this.CM=b[0].slice(0)};f.Xi.prototype.x2=function(G,m,A){if(G.j(a5.Ei)){var Q=new j8(r.E.w,!0);Q.b=f.q2;
Q.data={d:"pickhere",adL:A};m.u(Q);return!0}return!1};f.Xi.prototype.qn=function(G,m,A,Q,H,J){if(this.id!=f.Mx&&!G.fE(this.caller)){this.Eq=null;
return}if(this.id!=f.Mx&&this.Eq)return;this.uZ(G);var b=new f_(0,0,G.e,G.n),O=null;if(J!=null){var a=G.UX.length!=0?-1-G.UX[0]:G.c[0],e=G.g[a],R=a<0?G.Hv[-a-1]:e.Sm<=0?null:e.Sm==1?e.fm():e.mv(G).D;
O=N.$(b.Z()*4);if(R)f.Xi.Oh(this.Rm,this.Zx,R.color,O,b);else N.Pr(this.Rm,this.Zx,O,b)}var p=this.EE;
if(this.Eq&&this.id==f.Mx&&p.qsmode!=0&&G.q!=null){}else{var P=m.yu,z=m.qU;if(this.Hn=="erase"){var Z=P;
P=z;z=Z}var W=this.id==f.Mx?this.Zx:b;this.Eq=new gj(p.brush,m.wo.GO,m.wo.WJ,{vq:H,nN:J,auO:p.smth*50/G.t.V,IV:this.id==f.cb||p.emode==1,ZP:p.prsr},P,z,W,O)}if(this.id==f.Mx){this.Eq.arM(p.brush,p.qsmode==2?0:16777215)}var T=G.t.fY(Q.x,Q.y);
if(A.j(a5.K6)&&this.BA){var i=this.BA;this.Eq.moveTo(i.x,i.y,Q.zQ);this.Eq.lineTo(.001*i.x+.999*T.x,.001*i.y+.999*T.y,Q.zQ);
this.Eq.lineTo(T.x,T.y,Q.zQ)}else this.Eq.moveTo(T.x,T.y,Q.zQ);this.BA=T;this.VA=T.clone();this.l$=new ik(T,G.t.pI)};
f.Xi.prototype.Ky=function(G,m,A){if(G&&G.t.V!=0&&G.t.V!=this.Nn){this.Nn=G.t.V;this.hr(A)}};f.Xi.prototype.tP=function(G,m,A,Q){if(this.Eq==null)return;
var H=G.g[G.c[0]],J=G.t.fY(Q.x,Q.y),b=this.l$.O4(J,A);if(b.A5(this.BA))return 1;this.Eq.lineTo(b.x,b.y,Q.zQ);
this.BA=b;if(this.id==f.aq||this.id==f.Hg){var O=this.fD(),a=11;O=G.t.cD(J.x-O.x,J.y-O.y);var e=a>>>1,R=new f_(Math.round(O.x)-e,Math.round(O.y)-e,a,a),p=N.$(R.Z()*4);
N.w8(16777215);for(var $=0;$<a;$++)p[($*a+e)*4+3]=p[(a*e+$)*4+3]=255;G.v.Lb=[[p,R]];G.Iy=!0}};f.Xi.prototype.tT=function(G,m,A,Q){if(A.Iu!=this.id)return;
if(this.id!=f.Mx||G==null)return;if(G.q==null||G.c[0]!=this.a90){this.a90=G.c[0];this.EX({qsmode:0},m)}};
f.Xi.prototype.F=function(G,m){if(G.UX.length!=0){G.Iy=!0;return}var A=G.g[G.c[0]];if(m==null){m=this.Eq.jt();
if(this.wN()&&A.Sm<=0)m=m.KB(this.Zx)}if(m.My())return;if(A.Sm<=0){A.F(m)}if(A.Sm==1){A.fm().k9=!0;A.hM(G)}if(A.Sm==3){A.F()}G.F(G.root.Ex(m,G,G.c[0],!0))};
f.Xi.prototype.gE=function(G,m,A,Q,H){if(this.Eq==null)return;this.Eq.finish();if(this.id!=f.UM&&this.id!=f.Hg&&this.id!=f.Mx)this.Qe(G);
if(this.id==f.aq||this.id==f.Hg){G.v.Lb=[];G.Iy=!0}if(this.id==f.Mx){var J=G.q;G.q=this.wX;var b=new j8(r.E.w,!0);
b.data={d:"setsel",om:this.name,q:J};b.b=f.vj;m.u(b);if(this.EE.qsmode==0)this.EX({qsmode:1},m)}else{this.finish(G,this.Eq.qb());
this.Eq=null;this.Ml=null}this.dir=0};f.Xi.prototype.EX=function(G,m){for(var A in G)this.EE[A]=G[A];
var Q=new j8(r.E.W,!0);Q.data={d:r.S.mX,b:this.id,aP:G};m.u(Q)};f.Xi.prototype.wN=function(){var G=this.id;
return G==f.Mx||G==f.P1||G==f.Np||G==f.YJ||G==f.Fj||G==f.Ai};f.Xi.prototype.finish=function(G,m,A,Q,H){var J=G.UX.length!=0?-1-G.UX[0]:G.c[0],b=G.g[J],O=J<0?1:b.Sm,a=J<0?G.Hv[-J-1]:O<=0?null:O==1?b.fm():b.mv(G).D,e=a?a.rect:b.rect,P;
if(this.wN()||!e.A5(this.Zx)){if(a==null){if(this.wN())b.LA();else{var R=m.wj(this.Zx),p=N.$(R.Z()*4);
N.Pr(b.buffer,b.rect,p,R);b.buffer=p;b.rect=R}}else a.LA();this.F(G,e)}if(O<=0){P=N.$(m.Z()*4);N.Pr(this.Rm,this.Zx,P,m)}else{P=N.$(m.Z());
P.fill(a.color);N.qg(this.Rm,this.Zx,P,m)}this.xc(G,!1,A?A:this.name,J,O,m,P,Q,H)};f.Xi.prototype.xc=function(G,m,A,Q,H,J,b,O,a){var e=b;
if(H>0){e=N.$(J.Z()*4);f.Xi.Oh(b,J,0,e,J)}var R=new i3(A,this);R.data=[{i:Q,OI:H,PR:J,Uq:e}];if(O)R.data.oe=[G.q,null];
if(a)R.data.oe=[this.wX,G.q];G.jm(R);if(m)this.S6(R.data,G);else if(O)G.q=null;f.qX.X4(G,R.data)};f.Xi.prototype.Ah=function(G,m){this.s2(G,m,!1)};
f.Xi.prototype.S6=function(G,m){this.s2(G,m,!0)};f.Xi.prototype.s2=function(G,m,A){if(G.d=="drawtemp"){var Q=A?G.adb:G.auw,H=m.g[G.i];
H.Pg.bC=Q;H.yI(m,0,0,m.q);H.F();m.bV=!0}else{f.qX.E0(m,G);if(G.oe){m.q=G.oe[A?1:0];m.W0=!0}}m.F()};f.Xi.prototype.Qe=function(G){this.pe(G,this.Hn,this.Eq.kg(),this.Eq.E8(),this.Eq.jt());
this.F(G)};f.Xi.prototype.pe=function(G,m,A,Q,H){var J=this.EE,b=G.g[G.c[0]],O=G.UX.length!=0?G.Hv[G.UX[0]]:b.Sm<=0?null:b.Sm==1?b.fm():b.mv(G).D,a=N.$(H.Z()*4),e,R=b.AL(0);
if(O==null){if(this.id==f.Wz&&m=="heal")N.Pr(b.buffer,b.rect,a,H);else N.Pr(this.Rm,this.Zx,a,H);if(R){e=N.$(H.Z());
N.gF(a,e,3)}}else{f.Xi.Oh(this.Rm,this.Zx,O.color,a,H)}if(G.q&&m!="qselect"){var p=H.KB(G.q.rect),P=N.$(p.Z()*4);
if(m=="copy"){var z=N.$(p.Z());N.qg(G.q.channel,G.q.rect,z,p);N.Pr(a,H,P,p);N.a.B4(A,Q,P,p,z,p,0,p,1,!1)}else{N.Pr(A,Q,P,p);
N.iz(G.q.channel,G.q.rect,P,p)}A=P;Q=p}function Z(i,eg){var fK=Math.max(eg.x,Math.min(eg.x+eg.e-1,i.x)),aQ=Math.max(eg.y,Math.min(eg.y+eg.n-1,i.y));
return new dw(fK,aQ)}if(m=="idraw"||m=="ierase"){if(this.Ml==null)this.Ml=N.$(this.Zx.Z());var W=this.EE.samp,T=this.dj.qU,i=Z(this.BA,H),X=W==0?i:this.VA,U=X.x,M=X.y,C=f.xs.KA(this.Rm,this.Zx,[X,new dw(U-2,M),new dw(U+2,M),new dw(U,M-2),new dw(U,M+2)]);
if(W==2)C=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var x=f.xs.bL(a,H,i,C,this.EE.wconf),L=N.$(H.Z());N.qg(this.Ml,this.Zx,L,H);
N.af.wj(x,L,L);N.qg(L,H,this.Ml,this.Zx);N.iz(L,H,A,Q);m=m.slice(1)}if(m=="erase"&&(f.qX.ol(G)!=16777215||O))m="draw";
if(m=="draw")N.a.zc(J.bmode,A,Q,a,H,H,J.opacity);else if(m=="erase"){var E=N.$(H.Z()*4);N.Pr(A,Q,E,H);
if(O==null){var l=N.$(H.Z());N.gF(E,l,3);N.EN(l,J.opacity);N.G3(l);N.iz(l,H,a,H)}else{N.w8(E,0,4278190080);
N.a.zc("norm",E,H,a,H,H,J.opacity)}}else if(m=="clone"||m=="heal"){var y=this.fD(),Y=this.ms.clone();
Y.offset(y.x,y.y);var F=H.clone();F.e0(1,1);var w=N.$(F.Z()*4),j=N.$(F.Z());N.Pr(A,Q,w,F);N.gF(w,j,3);
N.w8(w,0);if(O==null){N.Pr(this.CM,Y,w,F);var _=N.$(F.Z());N.gF(w,_,3);N.au(_,j)}else f.Xi.Oh(this.CM,Y,O.color,w,F);
if(m=="clone"){N.I5(j,w,3);N.a.zc(J.bmode,w,F,a,H,H,J.opacity)}if(m=="heal"){var D=j.slice(0);N.round(D,20);
var t=N.$(F.Z()*4);if(O==null)N.Pr(this.Rm,this.Zx,t,F);else f.Xi.Oh(this.Rm,this.Zx,O.color,t,F);N.a.B4(w,F,t,F,D,F,0,F,1,!1);
N.H8.YT(t,D,F);N.a.B4(t,F,a,H,j,F,0,H,1,!1)}}else if(m=="dodge"||m=="burn"){var w=N.$(H.Z()*4),o=1,k=0,v=0,u=0;
N.Pr(A,Q,w,H);var K=H.Z()*4,d=f.Xi.wa;if(this.iC){if(m=="dodge")m="burn";else m="dodge"}var B=J.rng;
if(m=="dodge"){k=[1-o/2,1,1+o][B];v=[1,1/(1+o),1][B];u=[o/2,0,0][B]}if(m=="burn"){k=[1/(1-o/2),1,1-o/2][B];
v=[1,1+o,1][B];u=[-(o/2)/(1-o/2),0,0][B]}for(var $=0;$<K;$+=4){var S=w[$+3];a[$+0]=d(a[$+0],k,v,u,S);
a[$+1]=d(a[$+1],k,v,u,S);a[$+2]=d(a[$+2],k,v,u,S)}}else if(m=="sponge"||m=="redeye"){var w=N.$(H.Z()*4),j=N.$(H.Z());
N.Pr(A,Q,w,H);N.gF(w,j,3);N.Gy(a,w);var I=J.smode;if(this.iC)I=1-I;var q=bH.wZ("hue2");if(m=="sponge")bY.yS(q,0,[0,[-50,46][I],[6,5][I]]);
else bY.yS(q,1,{uR:[265,305,25,55],pc:[0,-90,-70]});var hw=hE.Gt("hue2",q);hE.pV(hw,w,w,H);N.a.B4(w,H,a,H,j,H,0,H,1,!1)}else if(m=="copy")N.Pr(A,Q,a,H);
else if(m=="sheal"){var w=N.$(H.Z()*4),j=N.$(H.Z());N.Pr(A,Q,w,H);N.gF(w,j,3);w.fill(0);var fY=this.CM,s=this.ms;
if(O){fY=N.$(s.Z()*4);f.Xi.Oh(this.CM,s,0,fY,s)}var hZ=N.NE.YT(fY,s,j,w,H);if(hZ!=0)N.Pr(fY,s,w,H);if(this.EE.sfrom==0)N.Pr(w,H,a,H);
else{N.Pr(this.Rm,this.Zx,a,H);N.I5(j,w,3);N.a.zc("norm",w,H,a,H,H,1)}}else if(m=="qselect"){var bG=this.Zx,aY=bG.e,fj=bG.n,jg=aY*fj,ae=this.Eq.kg(),C=this.Rm,iB=f.iK.iD,j=iB.MP;
j.fill(128);for(var $=0;$<jg;$++){var eg=ae[$<<2],dM=ae[($<<2)+3];if(dM==255&&(eg==0||eg==255))j[$]=eg}j[0]=j[aY-1]=0;
j[(fj>>>1)*aY]=j[(fj>>>1)*aY+aY-1]=0;f.kx.Dv(iB,!0);G.q={rect:bG,channel:iB.q.slice(0)};G.W0=!0}if(O==null){if(R)N.I5(e,a,3);
N.Pr(a,H,b.buffer,b.rect)}else f.Xi.G4(a,H,O)};f.Xi.fD=function(){return null};f.Xi.wa=function(G,m,A,Q,H){var J=G*(1/255),b=Q+m*Math.pow(J,A),O=Math.round(b*H+J*(255-H));
return Math.max(0,Math.min(255,O))};f.Xi.Oh=function(G,m,A,Q,H){var J=N.$(H.Z());J.fill(A);N.qg(G,m,J,H);
Q.fill(255);N.mH(J,Q)};f.Xi.G4=function(G,m,A){var Q=N.$(m.Z());N.le(G,Q);N.qg(Q,m,A.channel,A.rect)};
f.iK=function(G,m,A){f.rc.call(this,G,m,A);this.EE={binop:0,feat:0,cstr:{sH:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Ij=new dw(-1,-1);this.Y1=new dw(-1,-1);this.EH="default";this.V_=null;this.agi=!0;this.Y$=!1;this.ru=new jb;
this.$O=!1;this.nU=null;this.lx=null;this.eO=!1;this.lp=!1};f.iK.prototype=new f.rc;f.iK.prototype.aqf=function(){var G=this.EE,m=[G.binop,G.feat];
if(this.id==f.yj)m.push(G.wconf);return m};f.iK.prototype.aoC=function(G,m,A){var Q=this.EE;Q.binop=G[0];
Q.feat=G[1];Q.wconf=G[2];var H=new j8(r.E.W,!0);H.data={d:r.S.mX,b:this.id,EE:Q};A.u(H)};f.iK.iD={key:""};
f.iK.jc=function(G,m,A){var Q={YI:G,aL:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(m)Q.aL.T=m;if(A!=null)Q.aL.AntA={t:"bool",v:A};return Q};f.iK.Du=function(G,m,A){return f.iK.jc("set",{t:"Objc",v:{classID:G,Top:{t:"UntF",v:{type:"#Pxl",val:m.y}},Left:{t:"UntF",v:{type:"#Pxl",val:m.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:m.y+m.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:m.x+m.e}}}},A)};
f.iK.ka=function(G,m,A){var Q=[],H=[],b="set";for(var $=0;$<G.length;$+=2){Q.push(G[$]);H.push(G[$+1])}var J={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:Q},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:H}]}}}};
if(m)b=["set","addTo","subtractFrom","interfaceWhite"][m];return f.iK.jc(b,J,A)};f.iK.ao4=function(G,m,A){var Q={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:G.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:G.y}}}},H=f.iK.jc("set",Q);
H.aL.Tlrn={t:"long",v:m[0]};H.aL.AntA={t:"bool",v:m[1]};H.aL.Cntg={t:"bool",v:m[2]};if(A==!0)H.aL.Mrgd={t:"bool",v:A};
return H};f.iK.Lw=function(G){return f.iK.jc("set",{t:"enum",v:{Ordn:G?"Al":"None"}})};f.iK.a48=function(G,m,A){var Q={classID:"null"};
if(G!="border")Q.selectionModifyEffectAtCanvasBounds={t:"bool",v:A};var H={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[G[0]];
Q[H]={t:"UntF",v:{type:"#Pxl",val:m}};return{YI:G,aL:Q}};f.iK.tV=function(G,m,A){var Q={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},H={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m}}]};
if(A)H.v.push({t:"name",v:{classID:"Lyr",val:A}});var J=[{classID:"null",null:Q,T:H},{classID:"null",null:H,T:Q},{classID:"null",null:H,From:Q},{classID:"null",null:H,With:Q}],b=["set","add","subtract","interfaceIconFrameDimmed"];
return{YI:b[G],aL:J[G]}};f.iK.vh=function(G,m){var A=new j8(r.E.W,!0);A.data={d:r.S.$g,WF:dG.GL};if(!m.cY)G.u(A);
A.data={d:r.S.$g,WF:dG.i_};if(!m.bt.s7)G.u(A)};f.iK.prototype.Hk=function(G,m,A,Q,H){f.iK.vh(m,H);this.V_=m;
var J=G.d,b,O,a=new f_(0,0,A.e,A.n),fG=!1,bT,je,ba,j6;if(J=="fromAction"){var e=G.RO,R=e.YI,p=e.aL,P=p?p.selectionModifyEffectAtCanvasBounds:null,z=P&&P.v;
if(R=="colorRange"){if(p.Clrs){var Z=p.Clrs.v.Clrs,W=0,T=255,i={Shdw:"shadows",Mdtn:"midtones",Hghl:"highlights"}[Z],X=p[i+"LowerLimit"],U=p[i+"UpperLimit"];
if(X)W=X.v;if(U)T=U.v;var M=p[i+"Fuzziness"].v/100;b=f.iK.bm(A,W,T,M,!0)}else{var W=p.Mnm.v,T=p.Mxm.v,M;
W={QC:W.Lmnc.v,Uj:W.A.v,h:W.B.v};T={QC:T.Lmnc.v,Uj:T.A.v,h:T.B.v};M=p.Fzns.v/200;b=f.iK.bm(A,W,T,M)}O=[7,8]}else if(R=="inverse"){if(A.q==null){alert("No selection!");
return}b={channel:N.$(a.Z()),rect:a};N.qg(A.q.channel,A.q.rect,b.channel,b.rect);N.G3(b.channel);O=[7,2]}else if(R=="expand"){var C=p.By.v.val,x=A.q.rect.clone();
x.e0(C,C);var L=N.$(x.Z()),E=N.$(x.Z());N.qg(A.q.channel,A.q.rect,E,x);N.style.stroke(E,L,x,C);b={channel:L,rect:x};
O=[7,4]}else if(R=="contract"){var C=p.By.v.val,l=A.q.rect.clone();l.e0(1,1);if(!z)l=l.KB(a);var E=N.$(l.Z()),y=N.$(E.length);
N.qg(A.q.channel,A.q.rect,E,l);N.G3(E);N.style.stroke(E,y,l,C);N.G3(y);b={channel:y,rect:l};N.LA(b);
O=[7,5]}else if(R=="border"){var C=p.Wdth.v.val;b=f.iK.l2(A.q,C/2,C/2);O=[7,9]}else if(R=="feather"||R=="smoothness"){var C=p.Rds.v.val;
b=f.iK.P3(A.q,C,R=="smoothness",a,z);O=R=="feather"?[7,6]:[19,3,0]}else{var Y=p.null.v,F=p.AntA!=null&&p.AntA.v;
function w(h6){var dJ=h6.Top.v.val,iW=h6.Left.v.val;return new f_(iW,dJ,h6.Rght.v.val-iW,h6.Btom.v.val-dJ)}function j(h6){var dJ=h6[0].arr,gs=h6[1].arr,ej={s:[],C:[]};
for(var $=0;$<dJ.length;$++){ej.C.push($==0?"M":"L");ej.s.push(dJ[$],gs[$])}ej.C.push("Z");return ej}var _=["set","addTo","subtractFrom","interfaceWhite"].indexOf(R),D=p.T?p.T.v:null;
if(D&&D.classID=="Elps"){b=this.fR(f.I2.hn(w(D)));O=[10,4]}else if(D&&D.classID=="Rctn"){var t=w(D);
b={channel:N.$(t.Z()),rect:t.clone()};b.channel.fill(255);O=[10,15]}else if(D&&D.classID=="ObSl"){var t=w(D),K=f.iK.iD,d=K.rect,o=K.MP,k=d.e,v=d.n,u=t.x-d.x,B=u+t.e-1,S=Math.max(u,Math.min(B,u+B>>>1)),I=t.y-d.y,q=I+t.n-1,hw=Math.max(I,Math.min(q,I+q>>>1)),fY=Math.max(u,0),s=Math.min(B,k),hZ=Math.max(I,0),bG=Math.min(q,v);
o.fill(128);if(0<=I)for(var aY=fY;aY<s;aY++)o[I*k+aY]=0;if(q<v)for(var aY=fY;aY<s;aY++)o[q*k+aY]=0;if(0<=u)for(var fj=hZ;
fj<bG;fj++)o[fj*k+u]=0;if(B<k)for(var fj=hZ;fj<bG;fj++)o[fj*k+B]=0;var jg=f.LN.VX,ae=Math.round(t.e*jg),iB=Math.round(t.n*jg);
for(var aY=Math.max(0,S-ae);aY<Math.min(k,S+ae);aY++)o[hw*k+aY]=255;for(var fj=Math.max(0,hw-iB);fj<Math.min(v,hw+iB);
fj++)o[fj*k+S]=255;f.kx.Dv(K,!0);b={channel:K.q.slice(0),rect:d.clone()};O=[10,44]}else if(D&&D.classID=="Plgn"){b=this.fR(j(D.Pts.v.arr));
O=[10,9]}else if(D&&D.classID=="Pnt"){b=f.xs.Kz(A,new dw(D.Hrzn.v.val,D.Vrtc.v.val),[p.Tlrn.v,F,p.Cntg==null||p.Cntg.v],p.Mrgd?p.Mrgd.v:!1);
O=[10,12]}else if(D&&D.Ordn=="None"){b=null;O=[7,1]}else if(D&&D.Ordn=="Al"){var eg=a;if(A.c.length!=0){var dM=A.root.Zu(A.c[0]);
while(dM.parent&&dM.parent.parent)dM=dM.parent;if(dM.i.add.artb)eg=dM.i._Q()}b={channel:N.$(eg.Z()),rect:eg};
b.channel.fill(255);O=[7,0]}else if(D&&D[0]&&D[0].v.keyID=="WrPt"){var fK={d:"frompath",ii:[-1,0,0]};
this.Hk(fK,m,A,Q,H);return}else{var aQ=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(R),cQ=R=="set"?D:Y,a7=cQ[0].v.enum,fK;
if(a7=="Trsp"||a7=="Msk"||a7=="vectorMask"||a7=="Trgt"){var gz=A.c[0];if(cQ.length==2)gz=ah.hz(A,cQ[1]);
var bQ=["Trsp","Msk","vectorMask"].indexOf(a7);if(a7=="Trgt"&&A.g[gz].Sm==1)bQ=1;fK={d:"fromlayer",ii:[gz,bQ,aQ]}}else{if(cQ[0].t=="name"){var gz=0;
for(var $=0;$<A.Hv.length;$++)if(A.Hv[$].name==cQ[0].v.val)gz=$;fK={d:"fromchannel",ii:[-5-gz,0,aQ]}}else{var d4=["RGB","Rd","Grn","Bl"].indexOf(a7);
fK={d:"fromchannel",ii:[-1-d4,0,aQ]}}}this.Hk(fK,m,A,Q,H);return}if(!F&&b)N.round(b.channel);if(p.Fthr)b=f.iK.P3(b,p.Fthr.v.val,!1);
if(R!="set"&&A.q!=null)b=N.af.BR(b,A.q,_)}if(R=="expand"||R=="contract")if(!z&&!a.contains(b.rect)){var j2=b.rect.KB(a),j7=N.$(j2.Z());
N.qg(b.channel,b.rect,j7,j2);b.channel=j7;b.rect=j2}}if(J=="qmask"){fG=!0;var cl=A.It(),js=new f_(0,0,A.e,A.n);
if(cl){b=cl.rect.A5(js)&&N.x3(cl.channel,255)?null:{rect:cl.rect.clone(),channel:cl.channel.slice(0)};
bT=cl}else{b=null;je=new c.Mz;je.color=0;je.name="Quick Mask";je.wV=!0;if(A.q){je.rect=A.q.rect.clone();
je.channel=A.q.channel.slice(0)}else{je.rect=js;je.channel=N.$(je.rect.Z());je.channel.fill(255)}}O=[6,6,1];
A.bV=!0}if(J=="setsel"){b=G.q;O=G.om}if(J=="crange"){var W=G.Rf,T=G.UJ;b=f.iK.bm(A,W,T,G.G_);O=[7,8]}if(J=="fromlayer"||J=="fromchannel"||J=="frompath"){var fR=G.ii[0],bQ=G.ii[1],_=G.ii[2];
if(J=="fromlayer"){if(fR==null)fR=A.c[0];var iW=A.g[fR];if(bQ==0){var fx=iW.rect,dm=iW.buffer;if(fx.My())return;
var fq=N.$(dm.length>>>2);N.gF(dm,fq,3);b={channel:fq,rect:fx.clone()}}else{if(iW.D==null)iW.hM(A);var h2=bQ==1?iW.fm():iW.D;
b=f.iK.SJ(h2,a)}this.track(f.iK.tV(_,["Trsp","Msk"][bQ],iW.getName()))}else if(J=="frompath"){var jj=A.S9(),iM=jj[1],jj=jj[0];
if(fR==null)if(jj.length==0||iM.length==0)return;var aC=jj[iM[0]];if(fR!=null)for(var $=0;$<jj.length;
$++)if(jj[$].lW==fR)aC=jj[$];var h2=aC.add.vmsk.fm(),aB=h2.E8();if(aB.Z()==0)return;var fq=h2.X_();if(G.ii[3]!=null)this.agi=G.ii[3];
if(this.agi){fq=fq.slice(0);N.round(fq)}ba=[JSON.stringify(A.rY),JSON.stringify(A.EJ)];j6=["[]","[]"];
A.rY=[];A.EJ=[];b={channel:fq,rect:aB}}else{if(fR==null)fR=f.iK.Z7(A);b=f.iK.ds(A,fR)}if(_!=0&&A.q)b=N.af.BR(b,A.q,_);
O=[14,11]}if(b!=null&&N.x3(b.channel,0)){b=null;O=[7,1]}if(b)N.LA(b);var ep=new i3(O,this);ep.data={d:"changesel",wX:A.q,xe:b,It:fG,a3Z:bT,ajS:je,M1:ba,a5S:j6};
A.jm(ep);this.S6(ep.data,A)};f.iK.Z7=function(G){var m=0;if(G.UX.length!=0)m=-5-G.UX[0];else if(JSON.stringify(G.t._T)=="[1,1,1]")m=-1;
else m=-2-G.t._T.indexOf(1);return m};f.iK.ds=function(G,m){var A,Q=new f_(0,0,G.e,G.n);if(-5<m&m<0){var H=-m-1,J=G.$s(),b=N.$(Q.Z());
if(H==0)N.le(J,b);else N.gF(J,b,H-1);A={channel:b,rect:Q.clone()}}if(m<-4){A=f.iK.SJ(G.Hv[-m-5],Q)}return A};
f.iK.SJ=function(G,m){var A,Q;if(G.SR()==0){Q=G.E8().clone();if(Q.Z()==0)return;A=G.X_()}else{Q=m;A=N.$(Q.Z());
G.MC(Q,A)}return{channel:A,rect:Q}};f.iK.prototype.Rn=function(G){return this.$O||G.U_&&this.id!=f.m0};
f.iK.prototype.lr=function(G,m,A){var Q=new j8(m,!0);Q.data=A;G.u(Q)};f.iK.prototype.IQ=function(G,m){var A=new j8(r.E.W,!0);
A.data={d:r.S.Cv,Ry:m};G.u(A)};f.iK.prototype.E8=function(G,m,A){m=G.q==null||this.ru.$$(1)||this.ru.A3(1)?m:null;
var Q=this.Ij,H=this.Y1;if(A){Q.x=Math.max(0,Math.min(G.e,Q.x));Q.y=Math.max(0,Math.min(G.n,Q.y));H.x=Math.max(0,Math.min(G.e,H.x));
H.y=Math.max(0,Math.min(G.n,H.y))}var J=f.$V.E5(Q,H,m,!0,this.EE.cstr),b=J[0].x,O=J[0].y;return new f_(b,O,J[1].x-b,J[1].y-O)};
f.iK.prototype.gr=function(G,m,A,Q,H){this.lp=!0;if(this.Pp())return;this.V_=m;this.Y$=!1;this.ru.gr(Q);
this.Ij=G.t.fY(H.x,H.y);this.Ij=f.oj.Cj(G,this.Ij,A);if(this.Hi(G,this.Ij,Q)){this.$O=!0;this.nU=G.q.rect.clone();
return}this.mC(G,A,Q,H);G.t.L2=new f_};f.iK.prototype.Hi=function(G,m,A){var Q=A.j(a5.K6),H=A.j(a5.Ei);
if(G.q&&!Q&&!H&&this.EE.binop==0)return N.yq(m,G.q.channel,G.q.rect);return!1};f.iK.prototype.Nr=function(G,m,A,Q,H){this.V_=m;
if(this.eO)return;var J=G.t.fY(H.x,H.y);if(dw.SH(this.Ij,J)*G.t.V>5){this.Y$=!0;this.ru.Nr()}if(Q.j(a5.WN)){if(this.lx==null)this.lx=new dw(J.x-this.Ij.x,J.y-this.Ij.y);
this.Ij.x=J.x-this.lx.x;this.Ij.y=J.y-this.lx.y}else this.lx=null;this.Y1=J;if(!this.$O)this.Y1=f.oj.Cj(G,this.Y1,A);
if(this.Hi(G,this.Y1,Q))this.IQ(m,"move");else this.IQ(m,this.EH);if(this.$O){var b=this.nU.clone();
b.x+=this.Y1.x-this.Ij.x;b.y+=this.Y1.y-this.Ij.y;var O=f.oj.cM(G,b,A);G.q.rect.x=Math.round(this.Y1.x-this.Ij.x+this.nU.x+O[0]);
G.q.rect.y=Math.round(this.Y1.y-this.Ij.y+this.nU.y+O[1]);G.W0=!0;f.oj.Sr(G,b,O);return}this.Vz(G,A,Q,H);
if(G.t.L2)G.t.L2=this.E8(G,Q)};f.iK.prototype.Pp=function(){return!1};f.iK.prototype.gE=function(G,m,A,Q,H,J){var b=this.lp;
this.lp=!1;if(J||!b)return;G.t.L2=null;this.Y1=G.t.fY(H.x,H.y);this.Y1=f.oj.Cj(G,this.Y1,A);if(this.$O){this.$O=!1;
if(G!=null&&G.v.gY){G.v.gY=null;G.Iy=!0}if(this.Y1.A5(this.Ij)&&this.Jz()==0){this.lr(m,r.E.NH,f.iK.Lw());
return}this.Qw(G,this.nU,G.q.rect.clone());return}this.Jx(G,A,Q,H);f.iK.vh(m,A);this.ru.gE();this.zm(m)};
f.iK.prototype.Qw=function(G,m,A){var Q=G.eL();if(Q!=null&&Q.b==this&&Q.data.d=="movesel"){}else{Q=new i3([7,7],this);
Q.data={d:"movesel",br:m};G.jm(Q)}Q.data.h4=A;this.S6(Q.data,G)};f.iK.prototype.Jg=function(G,m,A,Q,H){this.eO=!0};
f.iK.prototype.K8=function(G,m,A,Q,H){var J=new j8(r.E.W,!0);J.data={d:r.S.mX,b:this.id,f5:H,z0:G,Wc:A};
m.u(J);this.eO=!1};f.iK.prototype.KY=function(G,m,A,Q){this.ru.KY(Q);if(G!=null&&G.q!=null){var H=Q.Ui();
if(H.x!=0||H.y!=0){var J=G.q.rect.clone();J.x+=H.x;J.y+=H.y;this.Qw(G,G.q.rect.clone(),J)}}this.zm(m)};
f.iK.prototype.zm=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.mX,b:this.id,uD:this.Jz()};G.u(m)};
f.iK.prototype.Jz=function(){var G=this.ru.$$(0),m=this.ru.A3(0);return f.iK.Kn(this.EE.binop,G,m)};
f.iK.Kn=function(G,m,A){if(m)G=1;if(A)G=2;if(m&&A)G=3;return G};f.iK.prototype.finish=function(G,m,A,Q){var H=G.q,J=this.getSelection(G,m,A,Q);
if(J==null)J=f.iK.Lw();else{var b=this.EE.feat,O=this.Jz();if(b!=0)J.aL.Fthr={t:"UntF",v:{type:"#Pxl",val:b}};
if(O!=0&&O!=4)J.YI=["","addTo","subtractFrom","interfaceWhite",""][O]}this.lr(this.V_,r.E.NH,J);this.Ij.QU(-1,-1);
this.Y1.QU(-1,-1)};f.iK.prototype.getSelection=function(G,m,A,Q){return null};f.iK.prototype.mC=function(G,m,A,Q){};
f.iK.prototype.Vz=function(G,m,A,Q){};f.iK.prototype.Jx=function(G,m,A,Q){};f.iK.prototype.Ah=function(G,m){var A=G.d;
if(A=="changesel")m.q=G.wX;if(A=="movesel")m.q.rect=G.br;if(G.It){if(G.a3Z){m.UX=[m.Hv.length];m.Hv.push(G.a3Z)}else{m.Hv.pop();
m.UX=[]}}if(G.M1){m.rY=JSON.parse(G.M1[0]);m.EJ=JSON.parse(G.M1[1])}m.W0=!0};f.iK.prototype.S6=function(G,m){var A=G.d;
if(A=="changesel")m.q=G.xe;if(A=="movesel")m.q.rect=G.h4;if(G.It){if(G.ajS){m.UX=[m.Hv.length];m.Hv.push(G.ajS)}else{m.Hv.pop();
m.UX=[]}}if(G.M1){m.rY=JSON.parse(G.a5S[0]);m.EJ=JSON.parse(G.a5S[1])}m.W0=!0};f.iK.prototype.tZ=function(G){this.EE=G.EE};
f.iK.prototype.fR=function(G){var m=N.H.Dd(G.s);if(m.My())return null;var A=N.t7(m.e,m.n);A.save();A.beginPath();
A.translate(-m.x,-m.y);Typr.U.pathToContext({cmds:G.C,crds:G.s},A);A.closePath();A.fill();A.restore();
var Q=N.$(m.Z()),H=A.getImageData(0,0,m.e,m.n);N.gF(H.data,Q,3);return{rect:m,channel:Q}};f.iK.P3=function(G,m,A,Q,H){if(A)m=Math.round(m*.7);
var J=Math.ceil(2.6*m),b=G.rect.clone();b.e0(J,J);if(Q&&!H)b=b.KB(Q);var O=N.$(b.Z()),a=N.$(O.length);
N.qg(G.channel,G.rect,a,b);N.ua.zh(a,O,b,m);if(A){var e=O.length;for(var $=0;$<e;$++){var R=(O[$]-128)*m*2.5;
O[$]=Math.max(0,Math.min(255,Math.round(128+R)))}}return{channel:O,rect:b}};f.iK.l2=function(G,m,A){var Q=Math.max(1,Math.ceil(A)),H=G.rect.clone();
H.e0(Q,Q);var J=H.Z(),b={channel:N.$(J),rect:H},O=N.$(J);N.qg(G.channel,G.rect,O,b.rect);if(A!=0)N.style.stroke(O,b.channel,b.rect,A);
else N.Gy(O,b.channel);var a=N.$(J);N.G3(O);if(m!=0)N.style.stroke(O,a,b.rect,m);else N.Gy(O,a);N.af.KB(b.channel,a,b.channel);
return b};f.iK.bm=function(G,m,A,Q,H){var J=new f_(0,0,G.e,G.n),b=G.$s();if(G.q){var O=G.q.rect.KB(J),a=N.$(O.Z()*4);
N.Pr(b,J,a,O);J=O;b=a}var e=J.Z(),R=N.$(e),p=1/Q;if(H){if(m>=A)m=A-1;var P=m*(1-Q),z=m,Z=A,W=A+(255-A)*Q,T=P==z?0:1/(z-P),i=Z==W?0:1/(W-Z);
for(var $=0;$<e;$++){var X=$<<2,U=N.vp(b[X],b[X+1],b[X+2]),M=0;if(U<P)M=0;else if(U<z)M=(U-P)*T;else if(U<=Z)M=1;
else if(U<=W)M=1-(U-Z)*i;else M=0;R[$]=b[X+3]*M*M}}else for(var $=0;$<e;$++){var X=$<<2,C=N.Nw(b[X],b[X+1],b[X+2]),M=N.cu(C,m,A,Q,p);
R[$]=b[X+3]*M}return{rect:J,channel:R}};f.YS=function(){f.Xi.call(this,[10,18],f.Uw,"tools/blur");this.Hn="copy"};
f.YS.prototype=new f.Xi;f.YS.prototype.gr=function(G,m,A,Q,H){var J=Q.j(a5.Ei)?gj.$u:gj.Uw;this.qn(G,A,Q,H,this.EE.strn,J);
if(this.Eq==null)return;this.Qe(G)};f.YS.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.H_=function(){f.Xi.call(this,[10,0],f.sV,"tools/brush");
this.Hn="draw"};f.H_.prototype=new f.Xi;f.H_.prototype.gr=function(G,m,A,Q,H){if(this.x2(Q,m,H))return;
this.qn(G,A,Q,H,this.EE.flow);if(this.Eq==null)return;this.Qe(G)};f.H_.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);
if(this.aV)this._U(G,A,H);if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.cf=function(){f.Xi.call(this,[10,42],f.CV,"tools/crepl");
this.Hn="idraw";this.EE.bmode="hue "};f.cf.prototype=new f.Xi;f.cf.prototype.gr=function(G,m,A,Q,H){if(this.x2(Q,m,H))return;
this.qn(G,A,Q,H,this.EE.flow);if(this.Eq==null)return;this.Qe(G)};f.cf.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);
if(this.aV)this._U(G,A,H);if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.Vw=function(){f.Xi.call(this,[10,43],f.Ai,"tools/redeye");
this.EE.smode=0;this.Hn="redeye"};f.Vw.prototype=new f.Xi;f.Vw.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,this.EE.flow);
if(this.Eq==null)return;this.Qe(G)};f.Vw.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.RT=function(){f.Xi.call(this,[10,38],f.cb,"tools/pencil");
this.Hn="draw"};f.RT.prototype=new f.Xi;f.RT.prototype.gr=function(G,m,A,Q,H){if(this.x2(Q,m,H))return;
this.qn(G,A,Q,H,this.EE.flow);if(this.Eq==null)return;this.Qe(G)};f.RT.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);
if(this.aV)this._U(G,A,H);if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.v6=function(){f.Xi.call(this,[10,22],f.YJ,"tools/burn");
this.Hn="burn"};f.v6.prototype=new f.Xi;f.v6.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,this.EE.expo/Math.E);
if(this.Eq==null)return;this.Qe(G)};f.v6.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.jV=function(G,m,A){f.Xi.call(this,G==""?null:G?G:[10,1],m?m:f.aq,A?A:"tools/clone");
this.Hn="clone";this.Er=null;this.r=null};f.jV.prototype=new f.Xi;f.jV.prototype.gr=function(G,m,A,Q,H){var J=this.EE,b=J.alt[0];
if(Q.j(a5.Ei)||Q.j(a5.SU)||b){this.Er=G.t.fY(H.x,H.y);this.r=null;if(b)this.EX({alt:[!1]},m);this.Rq(G);
this.hr(A,Q,G,H);return}if(this.Er==null){alert(f5.get([15,7,0]));return}this.hr(A,Q);this.qn(G,A,Q,H,this.EE.flow);
if(this.Eq==null)return;this.r=this.qv(G.t.fY(H.x,H.y));this.Qe(G)};f.jV.prototype.qv=function(G){var m=this.r;
if(m==null||!this.EE.algnd)m=new dw(Math.round(G.x-this.Er.x),Math.round(G.y-this.Er.y));return m};f.jV.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);
if(this.aV)this._U(G,A,H);if(this.Eq==null){if(this.Er!=null)this.hr(A,Q,G,H);return}if(!H.U_||this.Er==null)return;
this.tP(G,A,Q,H);this.Qe(G)};f.jV.prototype.fD=function(){return this.r};f.MB=function(G,m,A){f.rc.call(this,G,m,A);
this.kC={kA:{sH:0,x:0,y:0},S7:!1};this.qj=!1;this.Q_=null;this.cursor=null;this.as7=0;this.mR=null;this.Ij=null;
this.WO=null;this.yR=!1};f.MB.prototype=new f.rc;f.MB.prototype.I3=function(){return this.Q_!=null};
f.MB.prototype.Rn=function(G){return this.Ij!=null||this.Q_&&this.Q_.hs()};f.MB.prototype.gr=function(G,m,A,Q,H){this.mR=H;
var J=G.t.fY(H.x,H.y);J.x=Math.round(J.x);J.y=Math.round(J.y);var b=this.kC.kA,O=b.sH!=0?b.x/b.y:null,a=this.yR;
this.yR=!1;if(this.Q_){var e=this.Q_.tf(J,G.t.V);if(a&&e==null){this.Q_.clear(G);this.Q_=null}else{this.Q_.gr(G,A,Q,J,O,!1,H);
return}}this.Ij=f.oj.Cj(G,J,A)};f.MB.prototype.T8=function(G,m,A){if(A==null)A=[G.x,G.y,G.x+G.e,G.y,G.x+G.e,G.y+G.n,G.x,G.y+G.n];
return new iw(A,!0,!1,this.id==f.H0,!0,m,this.id==f.H0?2:0,this.id==f.H0?4:3)};f.MB.prototype.hr=function(G){var m=new j8(r.E.W,!0);
m.data={d:r.S.Cv,Ry:this.cursor};G.u(m)};f.MB.prototype.enable=function(G,m,A,Q){this.V_=m;this.cursor="crosshair";
this.hr(m);if(G!=null&&this.Q_==null){var H=G.q?{IK:"cropby",a6l:3}:{IK:"config",kC:this.kC,agE:!0};
this.tZ(H,m,G,Q,A);if(G.q==null&&this.kC.kA.sH==0)this.yR=!0}};f.MB.prototype.Nr=function(G,m,A,Q,H){this.mR=H;
var J=G.t.fY(H.x,H.y);if(!H.U_){var b="crosshair";if(this.Q_){var O=this.Q_.tf(J,G.t.V,null,H);if(O)b=O;
else b="default"}if(b!=this.cursor){this.cursor=b;this.hr(m)}}if(this.Q_)this.Q_.Nr(G,A,Q,J);else if(this.Ij){if(this.qj){G.v.Gs={C:["M","L"],s:[this.Ij.x,this.Ij.y,J.x,J.y]}}else{var a=f.$V.E5(this.Ij,f.oj.Cj(G,J,A),Q,!0,this.kC.kA),e=a[0].x,R=a[0].y,p=this.WO=new f_(e,R,a[1].x-e,a[1].y-R);
G.v.Gs=N.H.Zt(p);f.rc.ez(H,p,G,A)}G.Iy=!0}};f.MB.an6=function(G,m,A){var Q,H,O,a;if(m<=A){Q=m;H=A}else{Q=A;
H=m}var J=G-Math.floor((G+Math.PI)/(2*Math.PI))*2*Math.PI;J=Math.abs(J);if(J>Math.PI/2)J=Math.PI-J;var b=Q/(H*Math.sin(J)+Q*Math.cos(J));
if(m<=A){O=Q*b;a=H*b}else{O=H*b;a=Q*b}return{zp:O,V7:a}};f.MB.prototype.gE=function(G,m,A,Q,H){this.mR=H;
var J=G.t.fY(H.x,H.y);if(this.Q_==null){var b=this.WO;if(this.Ij&&(b||this.qj)){if(this.qj){var O=this.Ij,a=J;
if(O.x>a.x){var e=O;O=a;a=e}var O=Math.atan2(-(a.y-O.y),a.x-O.x),R=f.MB.an6(O,G.e,G.n),p=[0,0,R.zp,0,R.zp,R.V7,0,R.V7],P=new ci;
P.translate(-R.zp/2,-R.V7/2);P.rotate(O);P.translate(G.e/2,G.n/2);N.H.A(p,P,p);this.Q_=this.T8(b,!1,p);
G.v.Gs=null;this.qj=!1}else{var z=this.kC.kA;this.Q_=this.T8(b,z.sH!=0)}this.Q_.N3(G,A);this.WO=null;
this.lr(m,r.E.W,{d:r.S.mX,b:this.id,Vd:!0});this.Ij=null;G.v.Lb=[];G.Iy=!0}return}this.Q_.gE(G,A,Q,J);
this.lr(m,r.E.W,{d:r.S.mX,b:this.id,Vd:!0});var p=this.Q_.Df();if(Math.abs(p[0]-p[4])<2&&Math.abs(p[1]-p[5])<2){this.disable(G,m,null,Q);
return}if(Date.now()-this.as7<200&&this.Q_.cG(J)){this.Jv(G,A);this.disable(G,m,A,Q);return}this.as7=Date.now()};
f.MB.prototype.KY=function(G,m,A,Q){var H=this.Q_;if(H==null||this.mR&&this.mR.U_)return;if(Q.j(a5.pg)){this.Jv(G,A);
this.disable(G,m,A,Q)}else if(Q.j(a5.OD)){this.disable(G,m,A,Q)}else H.KY(G,A,Q)};f.MB.qE=function(G,m,A){var Q={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:G[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:G[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:G[1]+G[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:G[0]+G[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:m!=null?m:0}},Dlt:{t:"bool",v:A!=null?A:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{YI:"crop",aL:Q}};f.MB.Mr=function(G,m){if(m==null)m=[!0,!0,!0,!0];var A={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][G]}}},Q=["Top","Left","Btom","Rght"];
for(var $=0;$<4;$++)A[Q[$]]={t:"bool",v:m[$]};return{YI:"trim",aL:A}};f.MB.me=function(G,m,A,Q){var H={classID:"null"};
if(Q!=null){H.Wdth={t:"UntF",v:{type:"#Pxl",val:G}};H.Hght={t:"UntF",v:{type:"#Pxl",val:m}};H.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][Q]}}}if(A!=null)H.Rslt={t:"UntF",v:{type:"#Rsl",val:A}};
return{YI:"imageSize",aL:H}};f.MB.Mi=function(G,m,A){if(A==null)A=4;var Q=Math.floor(A/3),H=A%3;return{YI:"canvasSize",aL:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:G}},Hght:{t:"UntF",v:{type:"#Pxl",val:m}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][H]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][Q]}}}}};
f.MB.prototype.Hk=function(G,m,A,Q,H){var J=new f_(0,0,A.e,A.n),b=[11,3],O=A.SV,a=A.e/2,e=A.n/2,R=1,S,I;
if(G.d=="fromAction"){var p=G.RO,P=p.YI,z=p.aL,Z=A.e/A.n,W=z.Wdth?z.Wdth.v.val:-1,T=z.Hght?z.Hght.v.val:-1,O=z.Rslt?z.Rslt.v.val:null,i=z.Wdth?z.Wdth.v.type:z.Hght?z.Hght.v.type:-1,X=1,U;
if(i=="#Prc"){if(W!=-1)W=Math.round(A.e*W/100);if(T!=-1)T=Math.round(A.n*T/100)}if(P=="imageSize"){if(z.Intr){if(z.Intr.v.Intp=="Nrst")X=0;
if(z.Intr.v.Intp=="bicubicSharper")X=2;if(W==-1&&T==-1){var M=O/A.SV;W=Math.round(A.e*M);T=Math.round(A.n*M)}if(z.CnsP&&z.CnsP.v){if(W==-1)W=Math.round(T*Z);
if(T==-1)T=Math.round(W/Z)}}else{if(i=="#Prc")O=Math.round(A.SV*(A.e/W));else if(i==-1)O=Math.round(O);
else throw"e";W=A.e;T=A.n}U={d:"imgsize",R3:W,uc:T,W3:O,L1:X}}else if(P=="canvasSize"){if(W==-1)W=A.e;
if(T==-1)T=A.n;if(z.Rltv&&z.Rltv.v==!0){if(z.Wdth)W+=A.e;if(z.Hght)T+=A.n}var C=z.Vrtc?z.Vrtc.v.VrtL:"Cntr",x=z.Hrzn?z.Hrzn.v.HrzL:"Cntr";
U={d:"canvsize",R3:W,uc:T,nR:3*["Top","Cntr","Btom"].indexOf(C)+["Left","Cntr","Rght"].indexOf(x)}}else if(P=="revealAll"){U={d:"revealAll"}}else if(P=="trim"){var L={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[z.trimBasedOn.v.trimBasedOn];
if(L==null)throw"e";var E=["Top","Left","Btom","Rght"],l=[!0,!0,!0,!0];for(var $=0;$<4;$++)if(z[E[$]])l[$]=z[E[$]].v;
U={d:"trim",agX:L,hV:l}}else if(P=="crop"){var y,Y,F,w;if(z.T){var j=z.T.v,y=Math.round(j.Left.v.val),Y=Math.round(j.Top.v.val),F=Math.round(j.Rght.v.val)-y,w=Math.round(j.Btom.v.val)-Y}else{var _=A.g[A.c[0]],D=_.rect;
D=D.KB(new f_(0,0,A.e,A.n));y=D.x;Y=D.y;F=D.e;w=D.n}U={d:"canvsize",R3:F,uc:w,r:new dw(y,Y),aez:z.Dlt!=null&&z.Dlt.v}}else console.log(p);
if(U)this.Hk(U,m,A,Q,H);return}else if(G.d=="imgsize"){J=new f_(0,0,G.R3,G.uc);if(G.W3)O=G.W3;R=G.L1}else if(G.d=="canvsize"){var t=G.nR!=null?G.nR:0;
J=new f_(0,0,G.R3,G.uc);var K=A.e-G.R3,d=A.n-G.uc,o=Math.round(K/2),k=Math.round(d/2);if(t==1||t==4||t==7)J.x=o;
if(t==2||t==5||t==8)J.x=K;if(t==3||t==4||t==5)J.y=k;if(t==6||t==7||t==8)J.y=d;if(G.r){J.x=G.r.x;J.y=G.r.y}}else if(G.d=="rot"&&(G.k+2*Math.PI)%(Math.PI/2)!=0){var v=N.H.Zt(J).s,u=new ci;
u.translate(-a,-e);u.rotate(G.k);u.translate(a,e);N.H.A(v,u,v);J=N.H.Dd(v)}else if(G.d=="rot"&&G.k!=Math.PI&&G.k!=-Math.PI){J=new f_(a-A.n/2,e-A.e/2,A.n,A.e);
if((A.e+A.n&1)==1){a=Math.floor(a);e=Math.floor(e);J=new f_(a-Math.floor(A.n/2),e-Math.floor(A.e/2),A.n,A.e);
if((A.e&1)==1&&G.k!=-Math.PI/2)J.y--;if((A.n&1)==1&&G.k==-Math.PI/2)J.x--}}else if(G.d=="trim"){b=[11,12,0];
var B=A.$s(),D=new f_(0,0,A.e,A.n);J=N.aG(B,D,G.agX,G.hV);if(J.My())J=D}else if(G.d=="cropbysel"){b=[11,12,1];
J=A.q.rect.clone()}else if(G.d=="revealAll"){b=[11,12,2];J=A.root.E8(A,!0)}var q=G.d=="canvsize"&&G.aez;
if(G.d=="imgsize"||G.d=="rot"||G.d=="scl"||q){var hw=new ci;if(G.d=="imgsize"){b=[11,10];hw.scale(G.R3/A.e,G.uc/A.n)}else if(q){}else{hw.translate(-a,-e);
if(G.d=="rot")hw.rotate(G.k);if(G.d=="scl")hw.scale(G.k.x,G.k.y);hw.translate(a,e);b=G.om}I=N.N.i4(hw);
S=this.KQ(A,H,!0,I,R,q?J:null)}else if(G.d=="auto-align"){if(A.c.length<2){alert("Select two or more layers.");
return}var fY=[];for(var $=0;$<A.c.length;$++){var _=A.g[A.c[$]];if(!_.wC()&&_.add.SoLd==null){alert("Unsupported layer selected.");
return}if(_.rect.My()){alert("Empty layer selected.");return}fY.push([_.buffer,_.rect])}var s=N.i$.wh(fY,0);
if(s==null){alert("No similarity found.");return}I=s[1];var hZ=A.c;A.c=A.c.slice(1);S=this.KQ(A,H,!1,s.slice(1),R);
A.c=hZ;J=A.root.E8(A,!0);b=[2,10,1]}var bG=new f_(0,0,A.e,A.n);if(!J.My()&&(!J.A5(bG)||S!=null)){var aY=new i3(b,this);
aY.data={aoz:A.SV,W3:O,ya:S,KX:I,Z5:f.MB.jf(A,J,bG,S!=null)};f.MB.TG(A,aY.data,J);A.jm(aY);this.S6(aY.data,A)}};
f.MB.jf=function(G,m,A,Q){if(G.Xz.length==0)return null;var H=JSON.stringify(G.Xz),J=JSON.parse(H);f.q3.ae6(J,m,A,Q);
J=JSON.stringify(J);return[H,J]};f.MB.prototype.KQ=function(G,m,A,Q,H,J){var b={g:[],pv:null,gu:null};
if(A){for(var $=0;$<G.g.length;$++)b.g.push($);for(var $=0;$<G.Sq.length;$++)b.g.push(-1-$);for(var $=0;
$<G.Hv.length;$++)b.g.push(-1e3-$)}else b.g=G.c.slice(0);b.pv=f.Q.ha(G,b.g,!0);f.Q.od(G,m,b.g,b.pv,H,Q,null,!0,J);
b.gu=f.Q.ha(G,b.g,!0);return b};f.MB.prototype.S6=function(G,m){if(G.W3)m.SV=G.W3;if(G.Z5)m.Xz=JSON.parse(G.Z5[1]);
if(G.ya){f.MB.z2(m,N.N.o2(G.KX));f.Q.Q5(m,G.ya.g,G.ya.gu)}f.MB.nC(m,G)};f.MB.prototype.Ah=function(G,m){if(G.aoz)m.SV=G.aoz;
if(G.Z5)m.Xz=JSON.parse(G.Z5[0]);f.MB.pK(m,G);if(G.Fo)m.t.r.Fw(G.Fo);m.ad1();if(G.ya){var A=N.N.o2(G.KX).clone();
A.G3();f.MB.z2(m,A);f.Q.Q5(m,G.ya.g,G.ya.pv)}};f.MB.z2=function(G,m){for(var $=0;$<G.g.length;$++){var A=G.g[$];
if(A.add.artb==null)continue;var Q=N.H.Zt(A._Q()).s;N.H.A(Q,m,Q);var H=N.H.Dd(Q);A.I_(H)}};f.MB._y=function(G){var m=new f_,A=0,Q=G.root.children.length;
for(var $=0;$<Q;$++){var H=G.root.children[$].i;if(H.add.artb==null)continue;m=m.wj(H._Q());A++}var J=new f_(0,0,G.e,G.n);
if(!m.My()&&!J.A5(m)&&Q==A)return m;return null};f.MB.IM=function(G){var m=f.MB._y(G);if(m)f.MB.S7(G,m,!0);
return m};f.MB.S7=function(G,m,A){var Q=G.e,H=G.n,J=m.e,b=m.n,O=m.x==0&&m.y==0;if(O&&Q==J&&H==b)return;
G.e=J;G.n=b;var a=[];for(var $=0;$<G.g.length;$++)a.push($);if(!O)f.oj.II(G,a,null,-m.x,-m.y);for(var $=0;
$<G.g.length;$++){G.g[$].hM(G)}G.ad1();if(A){var e=G.t.r,R=G.t.V;e.x+=Math.round((m.x+(J-Q)/2)*R);e.y+=Math.round((m.y+(b-H)/2)*R)}else G.t.r.QU(0,0);
if(G.q)G.q.rect.offset(-m.x,-m.y);var p=G.G1();for(var P=0;P<p[0].length;P++)if(p[1][P]==-1){var z=G.Ld[P];
z[1]-=z[0]==0?m.x:m.y}for(var $=0;$<G.Hv.length;$++)G.Hv[$].rect.offset(-m.x,-m.y)};f.MB.prototype.tZ=function(G,m,A,Q,H){if(G.IK=="commit"){this.Jv(A,H);
this.disable(A,m,null,Q)}else if(G.IK=="cancel"){this.disable(A,m,null,Q)}var J=null,b=new f_(0,0,A.e,A.n),O=this.kC.kA;
if(G.IK=="config"){this.kC=G.kC;O=this.kC.kA;if(A==null||!G.agE)return;J=b;if(O.sH==1){var a=O.x/O.y;
if(J.e/a<J.n)J.n=Math.round(J.e/a);else J.e=Math.round(J.n*a)}if(O.sH==2){J.e=O.x;J.n=O.y}J.x=Math.round((A.e-J.e)/2);
J.y=Math.round((A.n-J.n)/2)}if(G.IK=="straighten"){alert("Draw a line in the image.");this.qj=!0}if(G.IK=="cropby"){if(A==null)return;
var e=G.a6l,J;if(e==0)J=A.root.E8(A,!0);if(e==1){if(A.c.length==0)alert("No layer is selected.");else{var R=A.root.Zu(A.c[0]);
J=R.E8(A,!0)}}if(e==2){if(A.c.length==0)alert("No layer is selected.");else{J=N.aG(A.$s(),b,0);if(J.My())J=b.clone()}}if(e==3){if(A.q!=null)J=A.q.rect;
else alert("There is no selection.")}if(e==4){J=new f_(0,0,A.e,A.n)}}if(J&&J.My())J=null;if(J!=null){this.Q_=this.T8(J,O.sH!=0);
this.Q_.N3(A,H);this.lr(m,r.E.W,{d:r.S.mX,b:this.id,Vd:!0})}};f.MB.prototype.Jv=function(G,m){var A=this.Q_.Df(),Q=N.H.Dd(A),H=this.af$(G,A),J=!1,b=this.kC.kA,O=this.kC.S7,a=b.x,e=b.y,P;
if(this.id==f.gS&&b.sH==2&&H.Z()!=a*e){H=new f_(H.x,H.y,a,e);J=!0}var R=N.N.hh(A,H);R=N.N.G3(R);var p=N.N.Wo(R),z=Math.atan2(R[3],R[0]);
if(Math.abs(z)>1e-9||!p||J||O)P=this.KQ(G,m,!0,R,1,Q);var Z=new i3(this.name,this),W=new f_(0,0,G.e,G.n);
Z.data={ya:P,KX:R,Fo:G.t.r.clone(),Z5:f.MB.jf(G,H,W,!1)};f.MB.TG(G,Z.data,H);G.jm(Z);this.S6(Z.data,G);
this.track(f.MB.qE([Q.x,Q.y,Q.e,Q.n],null,O))};f.MB.TG=function(G,m,A){if(A==null)return;m.br=new f_(0,0,G.e,G.n);
m.h4=A};f.MB.nC=function(G,m){if(m.h4==null)return;f.MB.S7(G,m.h4)};f.MB.pK=function(G,m){if(m.h4==null)return;
var A=m.br.clone();A.offset(-m.h4.x,-m.h4.y);f.MB.S7(G,A)};f.MB.prototype.af$=function(G,m){var A=N.N.hh(m),Q=N.N.Wo(A),H=N.N.o2(A),J=H.Zh,b=H.bx,O=Math.atan2(H.h,H.Uj);
H.rotate(O);var a=new f_(J,b,H.Uj,H.nd);if(!Q){function e(U,$,M){var C=U[$]-U[M],x=U[$+1]-U[M+1];return Math.sqrt(C*C+x*x)}var R=e(m,0,2),p=e(m,4,6),P=Math.max(R,p),z=e(m,2,4),Z=e(m,6,0),W=Math.max(z,Z),T=f.MB.akt(m,G.e/2,G.n/2),i,X;
if(isNaN(T)||T==Infinity||T==-Infinity||Math.min(T,1/T)<.1)T=(R+p)/(z+Z);if(P/W>T){i=P*1;X=i/T}else{X=W*1;
i=X*T}a.e=i;a.n=X}a.x=Math.round(a.x);a.y=Math.round(a.y);a.e=Math.round(a.e);a.n=Math.round(a.n);return a};
f.MB.akt=function(G,m,A){var Q=G[0]-m,H=G[1]-A,J=G[2]-m,b=G[3]-A,O=G[6]-m,a=G[7]-A,e=G[4]-m,R=G[5]-A,p=((H-R)*O-(Q-e)*a+Q*R-H*e)/((b-R)*O-(J-e)*a+J*R-b*e),P=((H-R)*J-(Q-e)*b+Q*R-H*e)/((a-R)*J-(O-e)*b+O*R-a*e),z=-((P*a-H)*(p*b-H)+(P*O-Q)*(p*J-Q))/((P-1)*(p-1));
function Z(T){return T*T}var W=Math.sqrt((Z(p-1)+Z(p*b-H)/z+Z(p*J-Q)/z)/(Z(P-1)+Z(P*a-H)/z+Z(P*O-Q)/z));
if(p==1&&P==1)W=Math.sqrt((Z(b-H)+Z(J-Q))/(Z(a-H)+Z(O-Q)));return W};f.MB.prototype.disable=function(G,m,A,Q){if(G==null)return;
if(this.Q_)this.Q_.clear(G);this.Q_=null;this.lr(m,r.E.W,{d:r.S.mX,b:this.id,Vd:!1})};f.MB.prototype.lr=function(G,m,A,Q){var H=new j8(m,!0);
H.data=A;if(Q)H.b=Q;G.u(H)};f.w5=function(){f.MB.call(this,[10,2],f.gS,"tools/rcrop")};f.w5.prototype=new f.MB;
f.ro=function(){f.MB.call(this,[10,39],f.H0,"tools/pcrop")};f.ro.prototype=new f.MB;f.Ls=function(){f.Xi.call(this,[10,21],f.Np,"tools/dodge");
this.Hn="dodge"};f.Ls.prototype=new f.Xi;f.Ls.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,this.EE.expo/Math.PI);
if(this.Eq==null)return;this.Qe(G)};f.Ls.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.yX=function(){f.Xi.call(this,[10,3],f.P1,"tools/eraser");
this.Hn="erase"};f.yX.prototype=new f.Xi;f.yX.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,this.EE.flow);
if(this.Eq==null)return;this.Qe(G)};f.yX.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;var J=this.tP(G,A,Q,H);this.Qe(G)};f.R9=function(){f.Xi.call(this,[10,45],f.anh,"tools/beraser");
this.Hn="ierase"};f.R9.prototype=new f.Xi;f.R9.prototype.gr=function(G,m,A,Q,H){if(this.x2(Q,m,H))return;
this.qn(G,A,Q,H,this.EE.flow);if(this.Eq==null)return;this.Qe(G)};f.R9.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);
if(this.aV)this._U(G,A,H);if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.gd=function(){f.iK.call(this,[10,15],f.vj,"tools/rselect");
this.EH="crosshair"};f.gd.prototype=new f.iK;f.gd.prototype.Vz=function(G,m,A,Q){if(!Q.U_||!this.Y$)return;
var H=this.E8(G,A,!0);G.v.Gs=N.H.Zt(H);G.Iy=!0;f.rc.ez(Q,H,G,m)};f.gd.prototype.Jx=function(G,m,A,Q){G.v.Gs=null;
G.v.Lb=[];G.Iy=!0;this.finish(G,m,A,Q)};f.gd.prototype.getSelection=function(G,m,A,Q){if(this.Ij.A5(this.Y1)||!this.Y$)return null;
var H=this.E8(G,A,!0);if(H.My())return null;return f.iK.Du("Rctn",H,this.EE.anta)};f.I2=function(){f.iK.call(this,[10,4],f.aer,"tools/eselect");
this.EH="crosshair"};f.I2.prototype=new f.iK;f.I2.prototype.Vz=function(G,m,A,Q){if(!Q.U_||!this.Y$)return;
var H=this.E8(G,A);G.v.Gs=f.I2.hn(H);G.Iy=!0;f.rc.ez(Q,H,G,m)};f.I2.prototype.Jx=function(G,m,A,Q){G.v.Gs=null;
G.v.Lb=[];G.Iy=!0;this.finish(G,m,A,Q)};f.I2.prototype.getSelection=function(G,m,A,Q){if(this.Ij.A5(this.Y1)||!this.Y$)return null;
var H=this.E8(G,A);if(!H.c0(new f_(0,0,G.e,G.n)))return null;return f.iK.Du("Elps",H,this.EE.anta)};
f.I2.hn=function(G){var m=G.x,A=G.y,Q=G.x+G.e,H=G.y+G.n,J=(m+Q)/2,b=(A+H)/2,O=(m-Q)/2,a=(A-H)/2,e=.5522848,R={s:[J,b-a],C:["M","C","C","C","C"]};
R.s.push(J+e*O,b-a,J+O,b-e*a,J+O,b);R.s.push(J+O,b+e*a,J+e*O,b+a,J,b+a);R.s.push(J-e*O,b+a,J-O,b+e*a,J-O,b);
R.s.push(J-O,b-e*a,J-e*O,b-a,J,b-a);return R};f.G$=function(G){f.rc.call(this,[10,5],G?f.Wr:f.q2,"tools/eyedropper");
this.$K=null;this.Zd=0;this.o8=null;this.gf=1;this.Vq=2;this.atR=!0;this.CB=!1};f.G$.prototype=new f.rc;
f.G$.prototype.Rn=function(G){return G.U_};f.G$.prototype.Hk=function(G,m,A,Q,H){if(G.d=="pickhere")this.kc(A,m,H,null,G.adL);
if(G.d=="supertool")this.$K=G.b};f.G$.prototype.gr=function(G,m,A,Q,H){var J=this.$K;if(J){J.gr(G,m,A,Q,H);
return}this.Zd=A.yu;this.o8=H;var b=this.kc(G,null,A,Q,H);this.hr(G,m,b,H)};f.G$.prototype.Nr=function(G,m,A,Q,H){var J=this.$K;
if(J){J.Nr(G,m,A,Q,H);return}var b=this.o8;if(b){var O=H.x-b.x,a=H.y-b.y,e=1,R=new dw(b.x+O*e,b.y+a*e),p=this.kc(G,null,A,Q,R);
this.hr(G,m,p,R,new dw(O*(1-e),a*(1-e)))}};f.G$.prototype.hr=function(G,m,A,Q,H){var J=this.atR,b=this.CB,e=12,R=11;
if(G.t.V>4)b=!1;if(!b&&!J)return;if(H==null)H=new dw(0,0);var O=new f_(0,0,G.e,G.n),a=G.$s(),p=(e*2+1)*R,P=new dw(p/2,p/2),z=new f_(0,0,p,p),Z=N.$(z.Z()*4),W=G.t.fY(Q.x,Q.y),T=Math.floor(W.x),i=Math.floor(W.y),X=new ci;
X.scale(1/R,1/R);X.translate(T-e,i-e);if(b)N.scale.aM(a,O,X,Z,z);var U=(e-3.4)*R,M=(e-1.7)*R,C=e*R;for(var x=0;
x<p;x++)for(var L=0;L<p;L++){var E=dw.SH(new dw(L,x),P);if(E>U){if(J){var l=Math.max(0,U-E+1),y=(x*p+L)*4,Y=Z[y+3]<<24|Z[y]<<16|Z[y+1]<<8|Z[y+2],F=255<<24|(x<C+R*.5?A:this.Zd);
if(E>M){l=Math.max(0,M-E+1);Y=F;F=4286611584}else if(!b){Y=F&16777215}Z[y+0]=(1-l)*(F>>>16&255)+l*(Y>>>16&255);
Z[y+1]=(1-l)*(F>>>8&255)+l*(Y>>>8&255);Z[y+2]=(1-l)*(F>>>0&255)+l*(Y>>>0&255);Z[y+3]=(1-l)*(F>>>24&255)+l*(Y>>>24&255)}if(E>C){Z[(x*p+L)*4+3]=Math.max(0,255*(C-E+1))}}}function w($){var I=$<<2;
Z[I]=0;Z[I+1]=0;Z[I+2]=0;Z[I+3]=255}function j($){var I=$<<2;Z[I]=255;Z[I+1]=255;Z[I+2]=255;Z[I+3]=255}var _=this.gf*R+2,D=p-_>>>1,t=D+_-1;
if(b&&_<p)for(var $=0;$<_;$++){var K=D*p+D+$,d=t*p+D+$,o=(D+$)*p+D,k=(D+$)*p+t;w(K);w(d);w(o);w(k);if($!=0&&$!=_-1){j(K+p);
j(d-p);j(o+1);j(k-1)}}if(!b)for(var $=-9;$<=9;$++){if(-3<$&&$<3)continue;var v=p>>>1,L=v*p+v+$,x=(v+$)*p+v;
j(L-p);w(L);j(L+p);j(x-1);w(x);j(x+1)}var u=f.rc.lT(0,0,["#"+N.as(A),"RGB "+(A>>>16&255)+","+(A>>>8&255)+","+(A>>>0&255)]),O=u[1];
O.y=0;O.x=p-O.e>>>1;N.Pr(u[0],O,Z,z);var B={R0:Z,PR:z,IC:new dw(P.x+H.x,P.y+H.y)},S=new j8(r.E.W,!0);
S.data={d:r.S.Cv,Ry:B};m.u(S)};f.G$.prototype.gE=function(G,m,A,Q,H,J){this.kc(G,m,A,Q,H);var b=this.$K;
if(b){b.gE(G,m,A,Q,H);return}if(this.o8){this.o8=null;if(J)this.kc(G,m,A,Q,H,this.Zd);var O=new j8(r.E.W,!0);
O.data={d:r.S.Cv,Ry:"default"};m.u(O)}};f.G$.prototype.kc=function(G,m,A,Q,H,J){if(J==null)J=f.G$.EK(G,H,this.gf,this.Vq);
var b=new j8(r.E.W);b.data={d:r.S.$g,WF:dG.bu,Nm:Q&&Q.j(a5.Ei)?1:0,k:J};if(m)m.u(b);return J};f.G$.EK=function(G,m,A,Q){if(Q==null)Q=2;
var H=G.t.fY(m.x,m.y),J,b,O=G.c.length==1&&G.g[G.c[0]].Sm>0,a=G.UX.length!=0,M=0,C=0,x=0;if(O||a){var e;
if(a)e=G.Hv[G.UX[0]];else{var R=G.g[G.c[0]];e=R.Sm==1?R.fm():R.ah3()}b=e.E8();if(!b.EW(H))return e.color==0?0:16777215;
J=N.$(b.Z()*4);J.fill(255);var p=e.X_();N.mH(p,J)}else if(Q==0&&G.c.length!=0){var R=G.g[G.c[0]];J=R.buffer;
b=R.rect}else{J=Q==2?G.$s():G.$s(G.c[0]);b=new f_(0,0,G.e,G.n)}var P=Math.floor(H.x)-b.x,z=Math.floor(H.y)-b.y,Z=(A-1)/2,W=Math.max(0,P-Z),T=Math.max(0,z-Z),i=Math.min(b.e,P+Z+1),X=Math.min(b.n,z+Z+1),U=(i-W)*(X-T);
for(var P=W;P<i;P++)for(var z=T;z<X;z++){var $=4*(z*b.e+P);M+=J[$];C+=J[$+1];x+=J[$+2]}M=Math.round(M/U);
C=Math.round(C/U);x=Math.round(x/U);return M<<16|C<<8|x};f.G$.prototype.tZ=function(G){var m=G.EE;this.gf=[1,3,5,11,31][m[0]];
this.Vq=m[1];this.atR=m[2];this.CB=m[3]};f.Rd=function(){f.rc.call(this,[10,6],f.a12,"tools/gradient");
this.EE={X:JSON.parse(hK.eY.akl).v,uv:"Lnr",hu:!1,adS:!1,aaE:"norm",vq:1};this.pd=!1;this.RP=null};f.Rd.prototype=new f.rc;
f.Rd.prototype.enable=function(G,m,A,Q){var H=new j8(r.E.W,!0);H.data={d:r.S.Cv,Ry:"default"};m.u(H)};
f.Rd.prototype.tZ=function(G){this.EE=G.WF};f.Rd.prototype.gr=function(G,m,A,Q,H){if(!G.fE())return;
this.RP=G.t.fY(H.x,H.y);this.RP=f.oj.Cj(G,this.RP,A);this.pd=!0};f.Rd.prototype.Nr=function(G,m,A,Q,H){if(!this.pd)return;
var J=G.t.fY(H.x,H.y);J=f.oj.Cj(G,J,A);if(Q.j(a5.K6))J=f.Rd.$H(this.RP,J);G.v.Gs={s:[this.RP.x,this.RP.y,J.x,J.y],C:["M","L"]};
G.v.Wq=[this.RP.x,this.RP.y,J.x,J.y];G.Iy=!0};f.Rd.prototype.gE=function(G,m,A,Q,H){if(!this.pd)return;
var J=G.g[G.c[0]],b=G.t.fY(H.x,H.y);b=f.oj.Cj(G,b,A);if(Q.j(a5.K6))b=f.Rd.$H(this.RP,b);var O=b.AV(this.RP),a=dw.jr(this.RP,b,.5),e=Math.atan2(O.y,O.x),R=dw.SH(this.RP,b),p=Math.sin(e),P=Math.cos(e);
if(R>2){var z;if(G.q)z=G.q.rect;else z=new f_(0,0,G.e,G.n);var Z=N.$(z.Z()*4),W=this.EE,T=W.uv;if(T!="Lnr"){R*=2;
a=this.RP}N.X.Ut(W.X,Z,z,[P*1/R,p*1/R,-p*1/R,P*1/R],a.x,a.y,W.hu,hK.X.types.indexOf(T),A.yu,A.qU,null,W.adS);
var i=Math.round(W.vq*256),X=Z.length;if(i!=256)for(var $=0;$<X;$+=4)Z[$+3]=Z[$+3]*i>>>8;var U=new j8(r.E.w);
U.b=f.P1;U.data={d:"fillBMP",OK:Z,kb:W.aaE,om:this.name};m.u(U)}G.v.Gs=null;G.v.Wq=[];G.Iy=!0;this.pd=!1};
f.Rd.$H=function(G,m){if(G.A5(m))return G;var A=m.x-G.x,Q=m.y-G.y,H=Math.abs(A),J=Math.abs(Q);if(H>J)J=H/2>J?0:H;
if(J>H)H=J/2>H?0:J;H=A>0?H:-H;J=Q>0?J:-J;var b=Math.sqrt(A*A+Q*Q)/Math.sqrt(H*H+J*J);return new dw(G.x+H*b,G.y+J*b)};
f.Rd.pt=function(G,m,A,Q,H,J,b){if(b==null)b=document.createElement("canvas");var O=b.getContext("2d");
b.width=m;b.height=A;var a=new f_(0,0,m,A),e=N.$(m*A*4);N.dC(e,m,A,4);var R=Math.sin(Q),p=Math.cos(Q),P=N.$(m*A*4);
N.X.Ut(G,P,a,[p*1/m,R*1/m,-R*1/A,p*1/A],m/2,A/2,!1,0,H,J);N.a.zc("norm",P,a,e,a,a,1);var z=O.getImageData(0,0,m,A);
N.Gy(e,z.data);O.putImageData(z,0,0);return b.toDataURL()};f.Rd.aty=function(G,m,A){var Q=JSON.parse(JSON.stringify(G));
if(Q.Clrs)for(var $=0;$<Q.Clrs.v.length;$++){var H=Q.Clrs.v[$].v,J=H.Type.v.Clry;if(J=="UsrS")continue;
var b=J=="FrgC"?m:A;H.Type.v.Clry="UsrS";H.Clr={t:"Objc",v:N.X.N4({p:b>>16&255,z:b>>8&255,h:b&255})}}return Q};
f.M9=function(){f.rc.call(this,[10,7],f.B5,"tools/hand");this.o8=new dw(0,0);this.a8=null;this.no=0};
f.M9.prototype=new f.rc;f.M9.prototype.Hk=function(G,m,A,Q,H){var J=G.d;if(J=="setcls"){A.t._T=G._T;
A.Iy=!0;A.AB=!0}if(J=="scroll"&&!Q.j(a5.Ei)){if(Q.j(a5.KF))f.M9.uW(A,A.t.r.x-G.Q1.y,A.t.r.y-G.Q1.x);
else f.M9.uW(A,A.t.r.x-G.Q1.x,A.t.r.y-G.Q1.y)}};f.M9.prototype.enable=function(G,m,A,Q){this.a8=null;
var H=new j8(r.E.W,!0);H.data={d:r.S.Cv,Ry:"grab"};m.u(H);if(G&&Date.now()-this.no<300){H.type=r.E.w;
H.b=f._N;H.data={d:"adapt",k:"fitscr"};m.u(H)}this.no=Date.now()};f.M9.prototype.gr=function(G,m,A,Q,H){this.a8=G.t.r.clone();
this.o8.QU(H.x,H.y)};f.M9.prototype.Nr=function(G,m,A,Q,H){if(!H.U_)return;if(this.a8==null)this.gr(G,m,A,Q,H);
f.M9.uW(G,this.a8.x+(H.x-this.o8.x),this.a8.y+(H.y-this.o8.y))};f.M9.prototype.gE=function(G,m,A,Q,H){this.a8=null};
f.M9.uW=function(G,m,A){var Q=G.t.V,H=G.t.Td,J=H.e,b=H.n,O=G.e*Q,a=G.n*Q,e=O<J&&a<b,R=J/2+O/2-64,p=b/2+a/2-64;
G.t.r.QU(Math.max(-R,Math.min(R,m)),Math.max(-p,Math.min(p,A)));G.AB=!0};f.dS=function(){f.rc.call(this,[10,47],f.aef,"tools/rview");
this.o8=new dw(0,0);this.BA=null;this.ais=null;this.no=0};f.dS.prototype=new f.rc;f.dS.prototype.enable=function(G,m,A,Q){this.a8=null;
var H=new j8(r.E.W,!0);H.data={d:r.S.Cv,Ry:"grab"};m.u(H);if(G&&Date.now()-this.no<300&&G.t.pI!=0){G.t.pI=0;
G.Iy=!0}this.no=Date.now();if(G)this.JT(G,m)};f.dS.prototype.disable=function(G,m,A,Q,H){if(G)this.JT(G,m)};
f.dS.prototype.ZG=function(G,m,A,Q){if(G)this.JT(G,m)};f.dS.prototype.gr=function(G,m,A,Q,H){this.o8.QU(H.x,H.y);
var J=G.t;this.BA=J.fY(J.Td.e/2,J.Td.n/2);this.ais=J.AQ()};f.dS.prototype.Nr=function(G,m,A,Q,H){if(!H.U_)return;
var J=G.t,b=this.BA,O=this.o8,a=new dw(J.Td.e/2,J.Td.n/2),e=Math.atan2(H.y-a.y,H.x-a.x),R=Math.atan2(O.y-a.y,O.x-a.x);
this.ni(G,m,this.ais.clone(),b,e-R)};f.dS.prototype.tZ=function(G,m,A,Q){this.ni(A,m,null,null,G.UW-A.t.pI);
A.t.pI=G.UW};f.dS.prototype.ni=function(G,m,A,Q,H){var J=G.t;if(A==null)A=J.AQ();if(Q==null)Q=J.fY(J.Td.e/2,J.Td.n/2);
A.translate(-Q.x,-Q.y);A.rotate(H);A.translate(Q.x,Q.y);J.aaY(A);if(G.e*J.V<J.Td.e&&G.n*J.V<J.Td.n)J.r.QU(0,0);
G.Iy=!0;this.JT(G,m)};f.dS.prototype.JT=function(G,m){var A=new j8(r.E.W,!0);A.data={d:r.S.mX,b:this.id,UW:G.t.pI};
m.u(A)};f.Kc=function(){f.jV.call(this,[10,25],f.Hg,"tools/hbrush")};f.Kc.prototype=new f.jV("");f.Kc.prototype.gE=function(G,m,A,Q,H){if(this.Eq==null)return;
this.pe(G,"heal",this.Eq.kg(),this.Eq.E8(),this.Eq.qb());this.F(G,this.Eq.qb());f.Xi.prototype.gE.call(this,G,m,A,Q,H);
if(!this.EE.algnd)this.r=null};f.uO=function(G){f.rc.call(this,G?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],G?f.fg:f.G8,G?"tools/vtype":"tools/htype");
this.f7=[];this.EY=null;this.Wc=null;this.caller=null;this.ZQ=1;this.JJ=null;this.aeQ=0;this.wc=0;this.aby=null;
this.JD=null;this.Ux=null;this.A$=null;this.Q$=null;this.BB=null;this.aj9=null;this.pC=null;this.Q_=null;
this.gl=null;this.aow=null;this.Vv=!1;this.nL=!1;this.P6=!1;this.md=null;this.cl=null;this.anI=null;
this.Ga=!1;this.hF=!1;this.B9=-1;this._8=-1;this.LM=document.createElement("textarea");this.LM.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.LM.addEventListener("input",this.lJ.bind(this),!1);this.LM.addEventListener("keydown",this.a6Q.bind(this),!1);
this.LM.addEventListener("keyup",this.a6S.bind(this),!1);var m=function(A){A.stopPropagation()};this.LM.addEventListener("keydown",m,!1);
this.LM.addEventListener("keyup",m,!1)};f.uO.prototype=new f.rc;f.uO.prototype.Rn=function(G){return G.U_};
f.uO.prototype.tT=function(G,m,A,Q){if(this.Ux!=null||this.id==f.fg)return;this.caller=m;this.EY=G;var H=this.Ll(G);
if(H.length!=0){var J=null,b=[],O=[];for(var $=0;$<H.length;$++){var a=G.g[H[$]],e=a.add.TySh,R=0,p=fC.Gn(e.DQ).length-2,P=fC.ui(e.DQ,R,p);
fC.tB(P,f.Q.kF(e.A));if(P.In.Font!=null)P.In.Font=P.sa[P.In.Font].Name;J=P.sa;b.push(P.In);O.push(P.DF)}var P={sa:J,In:fC.rF(b),DF:fC.rF(O)};
if(P.In.Font!=null)fC.fT(P,P.In.Font);this.WU(m,P,e)}};f.uO.prototype.Ll=function(G){var m=[];for(var $=0;
$<G.c.length;$++)if(G.g[G.c[$]]&&G.g[G.c[$]].add.TySh)m.push(G.c[$]);return m};f.uO.prototype.Hk=function(G,m,A,Q,H){var J=G.d=="insertGlyph";
if((J||G.d=="insertText")&&this.Ux){var b=J?String.fromCharCode(65533):G.k,O=this.LM,a=O.value,e=O.selectionStart,R=O.selectionEnd;
O.value=a.slice(0,e)+b+a.slice(R);O.selectionStart=O.selectionEnd=e+b.length;this.lJ(null,J?G.k:null);
O.focus()}if(G.d=="updateStyles"){if(this.Ux==null){var p=this.Ll(A),P=!1;if(p.length!=0){this.Uz(A,m,H,p);
for(var $=0;$<p.length;$++){var z=A.g[p[$]],Z=z.add.TySh;fC.HI(Z,this.ZQ);this.Ux=z;var W=fC.Gn(Z.DQ);
this.B9=0;this._8=W.length-1;fC.QT(Z.DQ,this.B9,this._8,this._Z(H,Z));var T=this.Ud(A,H);if(T==!1)P=!0}if(P){this.Ga=!0;
return}this.eq(A,m)}return}this.LF(H)}if(G.d.startsWith("warp")){var i=this.hF;if(G.d=="warp"||G.d=="warpCancel"){if(this.Ux==null)return;
if(G.d=="warp")this.Ux.add.TySh.yF=G.iZ;else this.Ux.add.TySh.yF=this.aj9;var A=this.EY;this.Ud(A,H);
if(!i)this.IF(A)}if(G.d!="warp")this.LM.focus();if((G.d=="warpConfirm"||G.d=="warpCancel")&&i){this.hF=!1;
if(G.d=="warpConfirm")this.eq(A,m);else this.zx(A,m)}}if(G.d=="editCurr"){if(H.Iu!=f.G8){this.JJ=H.Iu;
var X=new j8(r.E.W,!0);X.data={d:r.S.ce,b:f.G8};m.u(X)}if(this.Ux!=null)this.disable(A,m,H,Q);this.EY=A;
this.Wc=H;this.caller=m;this.Uz(A,m,H,[G.aY]);var W=fC.Gn(this.Ux.add.TySh.DQ);this.B9=0;this._8=W.length-1;
this.IF(A);this.jo();this.LM.focus()}if(G.d=="switchPntPrgr"){if(this.Ux)return;var z=A.g[A.c[0]],Z=z.add.TySh,U=Z.A.kF(),M=JSON.parse(JSON.stringify(Z.DQ)),C=fC.Sv(M),x=C==1?fC.sr(M):[0,0,Math.round(z.rect.e*1.05/U),Math.round(z.rect.n*1.25/U)],L=fC.ui(M,0,0),E=L.sa[L.In.Font].Name,l=H.O8.pz(E),y=[0,x[2],x[2]/2][L.DF.Justification%3],Y=l?dq.MY(l,E,L.In):L.In.FontSize*.8;
fC.hR(M,1-C);if(C==0){y=-y;Y=-Y;fC.vL(M,[0,0,x[2],x[3]])}var F=new ci(1,0,0,1,y,Y);F.concat(Z.A);this.Hk({Ox:A.c[0],d:"newED",Nq:M,A:F,am_:[16,3,C==1?0:1]},m,A,Q,H)}if(G.d=="newED"){var z=A.g[G.Ox],Z=z.add.TySh,w=this.KP(A,[G.Ox]);
Z.DQ=G.Nq;if(G.A)Z.A=G.A;var j=new dq(Z.DQ,H.O8),_=g5.nT(j,Z);z.rect=_.PR;z.buffer=_.uw;z.F();A.F();
var D=new i3(G.am_?G.am_:this.name,this);D.data={VZ:w,Zc:this.KP(A,[G.Ox])};A.jm(D)}if(G.d=="fromAction"){var t=G.RO.aL.Usng.v,K=t.TxtC.v,d=[];
for(var $=0;$<2;$++){var o=K[$==0?"Hrzn":"Vrtc"].v,b=o.val;if(o.type=="#Prc")b=($==0?A.e:A.n)*(b/100);
d[$]=b}this.$R(A,m,H,Q,A.t.cD(d[0],d[1]));var z=A.g[A.c[0]],Z=z.add.TySh,k=Z.DQ,a=fC.Gn(k);fC.Ow(k,0,a.length-1);
fC.OA(k,0,t.Txt.v.replace(/\r/g,"\n"));a=fC.Gn(k);for(var C=0;C<2;C++){var v=t[C==0?"Txtt":"paragraphStyleRange"].v;
for(var $=0;$<v.length;$++){var u=v[$].v,e=u.From.v,R=Math.min(u.T.v-1,a.length-1);u=u[C==0?"TxtS":"paragraphStyle"].v;
var B=fC.ui(k,e,R),S=C==0?B.In:B.DF;for(var I in u){var q=u[I].v;if(I=="Sz")S.FontSize=Math.round(q.val);
else if(I=="fontPostScriptName")fC.fT(B,q);else if(I=="Algn")S.Justification={Left:1,Cntr:2}[q.Alg];
else if(I=="leading")S.Leading=u[I].v.val;else if(I=="baselineShift")S.BaselineShift=u[I].v.val;else if(I=="autoLeading")S.AutoLeading=u[I].v;
else if(I=="syntheticBold")S.FauxBold=u[I].v;else if(I=="syntheticItalic")S.FauxItalic=u[I].v;else if(I=="Trck")S.Tracking=u[I].v;
else if(I=="verticalScale")S.VerticalScale=u[I].v/100;else if(I=="horizontalScale")S.HorizontalScale=u[I].v/100;
else if(I=="Clr")S.FillColor={Type:1,Values:[1,q.Rd.v/255,q.Grn.v/255,q.Bl.v/255]}}fC.QT(k,e,R,B)}}var j=new dq(Z.DQ,H.O8),_=g5.nT(j,Z);
z.rect=_.PR;z.buffer=_.uw;z.F();A.F();this.eq(A,m)}};f.uO.prototype.LF=function(G){var m=Math.min(this.B9,this._8),A=Math.max(this.B9,this._8),Q=this.Ux.add.TySh;
fC.HI(Q,this.ZQ);fC.QT(Q.DQ,m,A-1,this._Z(G,Q));var H=this.EY,J=this.Ud(H,G);if(J)this.IF(H);if(document.activeElement.tagName.toLowerCase()!="input")this.LM.focus()};
f.uO.prototype.DV=function(G){return this.f7.indexOf(G)!=-1};f.uO.prototype.enable=function(G,m,A,Q){var H=this.LM;
m.m.appendChild(H);this.pC="default";this.hr(m)};f.uO.prototype.I3=function(){return this.Ux!=null};
f.uO.zJ=function(G,m){for(var $=G.g.length-1;$>=0;$--){var A=G.g[$];if(A.add.TySh&&A.rect.EW(m)&&G.a3T($)){var Q=A.AL(2)||A.AL(31);
return Q?-2:$}}return-1};f.uO.prototype.gr=function(G,m,A,Q,H){this.EY=G;this.Wc=A;this.caller=m;var J=G.t.fY(H.x,H.y),b=this.Ux==null;
if(b){var O=f.uO.zJ(G,J);if(O==-2){alert(f5.get([6,57,0]));return}if(O>=0&&!Q.j(a5.K6)){if(!g5.Em(G.g[O].add.TySh,A.O8,m)){alert("Fonts not loaded yet");
return}this.Uz(G,m,A,[O])}else{this.P6=!0;this.md=H;return}}var a=b?-1:fC.Sv(this.Ux.add.TySh.DQ),e=this.gl?this.gl:this.Q_;
if(e&&e.gr(G,A,Q,J,null,null,H)&&N.iZ.zK(this.Ux.add.TySh.yF)||!b&&N.H.Pk(J,this.Ux.rect)>20/G.t.V&&(a==0||a==1)){this.Vv=!0;
this.cl=J;this.anI=this.Ux.add.TySh.A.clone();if(this.B9==-1&&this._8==-1)this.B9=this._8=this.yG(J)}else{if(this.Q$==null){alert("Fonts not loaded yet");
return}this.nL=!0;this.B9=this._8=this.yG(J);var R=Date.now();if(R-this.aeQ>300)this.wc=0;this.wc++;
this.aeQ=R;if(this.wc==2)this.agf();if(this.wc==3)this.agA();if(this.wc>1){this.nL=!1}}this.jo();this.IF(G)};
f.uO.prototype.Uz=function(G,m,A,Q){var H=G.g[Q[0]];this.Ux=H;this.lr(m,r.E.W,{d:r.S.mX,b:this.id,IK:"showactive"});
this.A$=Q;G.c=Q.slice(0);G.mU();G.we=!0;this.BB=this.KP(G,Q);this.IO(H.add.TySh);this.Ud(G,A)};f.uO.prototype.IO=function(G){if(fC.Sv(G.DQ)!=1)return;
var m=fC.sr(G.DQ);m=new f_(0,0,m[2]-m[0],m[3]-m[1]);var A=[m.x,m.y,m.x+m.e,m.y,m.x+m.e,m.y+m.n,m.x,m.y+m.n];
N.H.A(A,G.A,A);this.Q_=new iw(A,!1,!1,!1,!0)};f.uO.prototype.agf=function(){var G=fC.Gn(this.Ux.add.TySh.DQ);
this.B9=this.d4(G,this.B9);this._8=this.Hr(G,this.B9)};f.uO.prototype.d4=function(G,m){var A=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Q=[];
for(var $=0;$<A.length;$++)Q.push(A.charAt($));var H=Q.indexOf(G[m])==-1?!0:!1;for(var $=m-1;$>=0;$--)if(Q.indexOf(G.charAt($))!=-1==H)return $+1;
return 0};f.uO.prototype.Hr=function(G,m){var A=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",Q=[];for(var $=0;
$<A.length;$++)Q.push(A.charAt($));var H=Q.indexOf(G[m])==-1?!0:!1;for(var $=m+1;$<G.length;$++)if(Q.indexOf(G.charAt($))!=-1==H)return $;
return G.length-1};f.uO.prototype.agA=function(){var G=this.Q$.a4f(this.B9);this.B9=G[0];this._8=G[1]};
f.uO.prototype.hr=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.Cv,Ry:this.pC};G.u(m)};f.uO.prototype.Nr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=this.Ux;
if(!H.U_){var O="default",a=this.Q_,e=this.gl?this.gl:a;if(e&&N.iZ.zK(b.add.TySh.yF)){var R=e.tf(J,G.t.V,null,H);
if(R)O=R;else if(e==a&&a.cG(J))O="text"}else if(b&&N.H.Pk(J,b.rect)>20/G.t.V)O="move";else if(f.uO.zJ(G,J)>=0)O="text";
if(O!=this.pC){this.pC=O;this.hr(m)}}var p=this.md;if(this.P6&&Math.min(H.x-p.x,H.y-p.y)>4/G.t.V){this.P6=!1;
this.$R(G,m,A,Q,H);b=this.Ux;this.Vv=!0;this.Q_=new iw(null,!1,!1,!1,!0);var P=G.t.fY(this.md.x,this.md.y);
P.x=Math.round(P.x);P.y=Math.round(P.y);this.Q_.gr(G,A,Q,P,null,null,H)}if(this.Vv){var z=b.add.TySh;
if(this.gl){this.gl.Nr(G,A,Q,J);var Z=N.N.o2(N.N.hh(this.gl.Df(),this.aow));z.A=Z;this.Ud(G,A);fC.QJ(z)}else if(this.Q_){this.Q_.Nr(G,A,Q,J);
var W=z.A.clone(),T=Math.atan2(W.h,W.Uj);W.rotate(T);var Z=N.N.o2(N.N.hh(this.Q_.Df())),i=Math.atan2(Z.h,Z.Uj);
Z.rotate(i);if(!isNaN(Z.Uj)&&Z.Uj*Z.nd-Z.h*Z.Qv!=0){var X=new f_(0,0,Z.Uj/W.Uj,Z.nd/W.nd),U=Math.round(X.e),M=Math.round(X.n),C=z.DQ.Curve;
if(C){var x=fC.sr(z.DQ),L=new ci(U/x[2],0,0,M/x[3],0,0);N.H.A(C.Points,L,C.Points);fC.QJ(z)}fC.vL(z.DQ,[0,0,U,M]);
z.A=N.N.o2(N.N.hh(this.Q_.Df(),X));this.Ud(G,A);fC.QJ(z)}}else{var E=J.x-this.cl.x,l=J.y-this.cl.y;z.A=this.anI.clone();
var y=new dw(z.A.Zh+E,z.A.bx+l);y=f.oj.Cj(G,y,A);z.A.Zh=y.x;z.A.bx=y.y;this.Ud(G,A)}}if(this.nL)this._8=this.yG(J);
if(this.Vv||this.nL)this.IF(G)};f.uO.prototype.$R=function(G,m,A,Q,H){var J=G.S9(),b=J[0],O=J[1],a=G.uA();
a.add.lnsr="rend";var e=G.g.slice(0);a.mw("Text layer "+e.length);this.Ux=a;var R=G.c.length==0?G.g.length-1:G.c[G.c.length-1],p=R+1;
if(e[R].add.lsct==fM.UK)p--;this.BB={vP:e.slice(0),wX:G.c.slice(0)};e.splice(p,0,a);G.c=[p];this.B9=this._8=0;
G.g_(e);this.BB.xQ=e.slice(0);this.BB.xe=G.c.slice(0);this.lr(m,r.E.W,{d:r.S.mX,b:this.id,IK:"showactive"});
var P=G.t.fY(H.x,H.y),z=A.RG;console.log(z);if(this.id==f.fg){z=JSON.parse(JSON.stringify(z));z.In.BaselineDirection=1}a.add.TySh=fC.lw(P.x,P.y,z);
var Z=a.add.TySh,W=Z.DQ;if(this.id==f.fg)W._LineOrientation=2;fC.HI(Z,this.ZQ);if(H.U_)fC.hR(W,1);else{fC.hR(W,0);
var T=b[O.pop()],X=T?T.add.vmsk:null;if(X&&!Q.j(a5.K6)){X=X.clone();var U=X.Y,C,x;for(var $=0;$<U.length;
$++)if(U[$]._t!=null)U[$]._t=0;var M=5/G.t.V;C=N.U.yq(X.Y,P,!0,M);if(C.lW==-1)C=N.U.yq(X.Y,P);if(C.lW!=-1){fC.hR(W,1);
var L=N.U.sM(U,C.lW),E=N.U.Bc(U,C.lW)-1;U=X.Y=U.slice(0,2).concat(U.slice(L,L+E+1));X.c=[];Z.add={vmsk:X,vogk:c.ON(U)};
W.Curve={};fC._e(Z);if(C.IE!=null){var l=dq.J1(W.Curve);N.H.A(l[0],Z.A,l[0]);var y=N.H.Mn(l[0],P.x,P.y),Y=A.RG.DF.Justification;
if(Y==2||Y==5){var F=(l[2][y]+l[3]*.5)%l[3];y=dq.LV(F,l[2])}var w=l[1][y];w=w%E;X.Q8=[w,w];fC._e(Z)}else this.IO(Z)}}}return a};
f.uO.prototype.gE=function(G,m,A,Q,H,J){if(J){this.P6=!1;return}if(this.Ux==null&&!this.P6)return;var b=G.t.fY(H.x,H.y),O=this.P6;
if(this.P6){this.P6=!1;this.$R(G,m,A,Q,H);this.nL=!0}if(this.Vv||this.nL){this.IF(G);this.jo();if(O)this.LF(A)}if(this.Vv&&this.Q_)this.Q_.gE(G,A,Q,b);
this.Vv=this.nL=!1;this.LM.focus()};f.uO.prototype.jo=function(){var G=this.Ux.add.TySh,m=Math.min(this.B9,this._8),A=Math.max(this.B9,this._8),Q,H;
if(m==A){var J=fC.Gn(G.DQ);if(m==0||J.charAt(m-1)=="\n")Q=H=m;else Q=H=m-1}else{Q=m;H=A-1}var b=fC.ui(G.DQ,Q,H);
fC.tB(b,f.Q.kF(G.A));this.WU(this.caller,b,G)};f.uO.prototype.WU=function(G,m,A){this.lr(G,r.E.W,{d:r.S.$g,WF:dG.dh,RG:m});
var Q=this.ZQ=fC.n0(A);this.lr(this.caller,r.E.W,{d:r.S.mX,b:this.id,IK:"changeAA",wK:Q})};f.uO.prototype.Rt=function(){var G=this.Ux;
if(G&&!this.Vv&&this.gl!=null){this.gl.gE(this.EY,this.Wc,null,null);this.gl=null;this.IO(G.add.TySh);
this.IF(this.EY)}};f.uO.prototype.disable=function(G,m,A,Q){var H=this.Ux;this.eq(G,m)};f.uO.prototype.tZ=function(G,m,A,Q,H){if(this.hF)return;
if(G.IK=="commit")this.eq(A,m);if(G.IK=="cancel")this.zx(A,m);if(G.IK=="changeAA"){this.ZQ=G.wK;if(A!=null)this.Hk({d:"updateStyles"},m,A,Q,H)}if(G.IK=="showwarp"){if(A==null)return;
if(this.Ux==null){var J=A.g[A.c[0]],b=J.add.TySh;if(b==null)return;this.Uz(A,m,H,[A.c[0]]);this.LM.focus();
this.hF=!0}this.aj9=this.Ux.add.TySh.yF;var O=new j8(r.E.W,!0);O.data={d:r.S.XG,Ue:"textwarp"};m.u(O)}};
f.uO.prototype.a2=function(G,m){if(m!=dG.YF)return;if(this.Ga){this.Ga=!1;var A=this.EY,Q=this.A$;for(var $=0;
$<Q.length;$++){this.Ux=A.g[Q[$]];this.Ud(A,G)}this.eq(A,this.caller);return}if(this.Ux)this.LF(G)};
f.uO.prototype._Z=function(G,m){var A=JSON.parse(JSON.stringify(G.RG));fC.tB(A,1/f.Q.kF(m.A));return A};
f.uO.prototype.S6=function(G,m){if(G.VZ!=null)this.Ja(m,G.Zc);else this.CJ(m,G.xQ,G.xe)};f.uO.prototype.Ah=function(G,m){if(G.VZ!=null)this.Ja(m,G.VZ);
else this.CJ(m,G.vP,G.wX)};f.uO.prototype.Ja=function(G,m){for(var $=0;$<m.length;$++){var A=m[$],Q=A.Ox,H=G.g[Q];
H.buffer=A.Uq;H.rect=A.PR.clone();H.F();var J=H.add.TySh;J.yF=A.iZ;J.sC=A.sC.clone();J.A=A.A.clone();
J.DQ=JSON.parse(JSON.stringify(A.DQ));H.mz()}G.F()};f.uO.prototype.KP=function(G,m){var A=[];for(var $=0;
$<m.length;$++){var Q=m[$],H=G.g[Q],J=H.add.TySh;A.push({Ox:Q,A:J.A.clone(),iZ:JSON.parse(JSON.stringify(J.yF)),sC:J.sC.clone(),DQ:JSON.parse(JSON.stringify(J.DQ)),Uq:H.buffer.slice(0),PR:H.rect.clone()})}return A};
f.uO.prototype.CJ=function(G,m,A){G.c=A;G.g_(m);G.F();G.bV=!0};f.uO.prototype.Ud=function(G,m,A){if(A==null)A=!1;
var Q=this.Ux.add.TySh;if(!g5.Em(Q,m.O8,this.caller))return!1;this.Q$=new dq(Q.DQ,m.O8);if(!A){var H=fC.Gn(Q.DQ);
this.LM.value=H.slice(0,H.length-1)}var J=g5.nT(this.Q$,Q);if(N.iZ.zK(Q.yF))Q.sC=new f_;else{if(fC.Sv(Q.DQ)==1){var b=fC.sr(Q.DQ),jw=J.sC.y;
Q.sC=new f_(0,jw,b[2]-b[0],b[3]-b[1]-jw)}else{Q.sC=J.sC}}var O=this.Ux.rect;this.Ux.rect=J.PR;this.Ux.buffer=J.uw;
this.Ux.F();G.WW();G.F(G.root.Ex(J.PR.wj(O),G,G.g.indexOf(this.Ux)));return!0};f.uO.prototype.lJ=function(G,m){if(this.Ux==null||this.hF)return;
var A=this.LM.selectionStart,Q=this.Ux.add.TySh,H=fC.Gn(Q.DQ),J=this.LM.value+"\n",b=Math.min(this.B9,this._8),O=Math.max(this.B9,this._8),P=!1;
this.B9=Math.min(A,b);if(J.length-A<H.length-this._8)this._8=H.length-J.length+A;if(H!=J){while(this.B9>0&&H.charAt(this.B9-1)!=J.charAt(this.B9-1))this.B9--}var a=H.substring(0,this.B9),e=H.substring(this._8,H.length),R=J.substring(this.B9,J.length-e.length);
fC.Ow(Q.DQ,this.B9,this._8);fC.OA(Q.DQ,this.B9,R);if(m!=null)fC.amP(Q.DQ,this.B9,m);var p=this._Z(this.Wc,Q),z=-1,Z=Array.from(R);
for(var $=0;$<Z.length;$++)z=Math.max(z,Z[$].codePointAt(0));if(z!=-1&&z>128&&z!=65533&&p.In.Font!=null){var W=p.sa[p.In.Font].Name,T=this.Wc.O8.SW(z,W,p.sa);
if(W!=T){fC.fT(p,T);P=!0}}if(this.JD!=null&&R==this.JD){var i=JSON.parse(this.aby);p.In=i.In;p.sa=i.sa;
P=!0}fC.QT(Q.DQ,this.B9,this.B9+R.length-1,p);this.B9=this._8=a.length+R.length;var X=this.EY,U=this.Ud(X,this.Wc,!0);
if(U)this.IF(X,!0);if(P)this.jo()};f.uO.prototype.a6S=function(G){if(!G.ctrlKey)this.Rt()};f.uO.prototype.a6Q=function(G){if(this.Ux==null||this.hF)return;
if(this.Ux==null)return;if(this.gl==null&&G.ctrlKey){var m=this.Ux.add.TySh,A=fC.Sv(m.DQ),Q;if(A==1){Q=fC.sr(m.DQ);
Q=new f_(0,0,Q[2]-Q[0],Q[3]-Q[1])}else Q=this.Q$.Zg();var H=[Q.x,Q.y,Q.x+Q.e,Q.y,Q.x+Q.e,Q.y+Q.n,Q.x,Q.y+Q.n];
N.H.A(H,m.A,H);this.gl=new iw(H,!0,!0,!1,!1);this.aow=Q;this.IF(this.EY)}var J=a5,b=0,O=0,M=!1;if(J.DN(G.code,J.fB))b=1;
if(J.DN(G.code,J.e5))b=-1;if(J.DN(G.code,J.kd))O=-1;if(J.DN(G.code,J.cX))O=1;var a=G.ctrlKey||G.metaKey,e=J.DN(G.code,a5.al_),R=J.DN(G.code,a5.af2);
if(J.DN(G.code,a5.pg)&&a){this.eq(this.EY,this.caller);return}if(J.DN(G.code,a5.OD)){this.zx(this.EY,this.caller);
return}if(J.DN(G.code,a5.tr)){G.preventDefault();var p=this.LM,P=p.value,z=p.selectionStart,Z=p.selectionEnd;
p.value=P.substring(0,z)+"\t"+P.substring(Z);p.selectionStart=p.selectionEnd=z+1;this.lJ(null);return}if((J.DN(G.code,J.yE)||J.DN(G.code,J.ab))&&a){var W=this.B9,T=this._8;
if(W>T){var i=W;W=T;T=i}var m=this.Ux.add.TySh,X=fC.Gn(m.DQ);if(W!=T){this.JD=X.slice(W,T);this.aby=JSON.stringify(this.Wc.RG)}}var U=fC.Gn(this.Ux.add.TySh.DQ);
if(b!=0||O!=0||e||R){G.preventDefault();var C=this.B9;if(b!=0){if(a&&b==-1)C=this.d4(U,this.B9-1);else if(a&&b==1)C=this.Hr(U,this.B9);
else{var p=this.LM,P=p.value;C=this.B9+b;if(C!=0&&P.codePointAt(C-1)>65535)C+=b}}else if(O!=0){var x=this.Q$.xr(this.B9);
if(O==-1&&x.bE==0)C=0;else if(O==1&&x.bE==this.Q$.a0v()-1)C=99999999999;else C=this.Q$.akG(new dw(x.PR.x+x.PR.e/2,0),x.bE+O)}else if(e){var L=this.B9-1;
while(L>0&&U.charCodeAt(L)!=10)L--;C=L==0?0:L+1}else if(R){var L=this.B9;while(L<U.length-1&&U.charCodeAt(L)!=10)L++;
C=L}C=Math.max(0,Math.min(U.length-1,C));if(G.shiftKey)this.B9=C;else this.B9=this._8=C;M=!0}if(J.DN(G.code,a5.S)&&a){this.B9=0;
this._8=U.length-1;M=!0}if(M){this.jo();this.IF(this.EY)}};f.uO.a8$=function(G,m){var A=G.length;if(A!=m.length)return!1;
for(var $=0;$<A;$++)if(G[$].Ox!=m[$].Ox)return!1;return!0};f.uO.prototype.eq=function(G,m){if(this.Ux==null)return;
this.Ux.mz();var A=this.BB;if(A instanceof Array){var Q=this.KP(G,this.A$),H=G.eL();if(H!=null&&H.b==this&&H.data.VZ&&f.uO.a8$(H.data.VZ,A))H.data.Zc=Q;
else{var J=new i3(this.name,this);J.data={VZ:A,Zc:Q};G.jm(J)}}else{var J=new i3(this.name,this);J.data={vP:A.vP,xQ:A.xQ,wX:A.wX,xe:A.xe};
G.jm(J)}this.escape(G,m)};f.uO.prototype.zx=function(G,m){if(this.Ux==null)return;if(this.BB instanceof Array){this.Ja(G,this.BB);
if(this.Ux)fC.QJ(this.Ux.add.TySh)}else{G.c=this.BB.wX;G.g_(this.BB.vP)}G.F();this.escape(G,m)};f.uO.prototype.escape=function(G,m){this.Rt();
this.Ux=null;this.A$=null;this.Q$=null;this.Q_=null;this.LM.blur();G.v.Gs=null;G.v.TX=null;G.v.Wq=[];
G.Iy=!0;this.Vv=!1;this.nL=!1;this.B9=this._8=-1;this.lr(m,r.E.W,{d:r.S.mX,b:this.id,IK:"hideactive"});
if(this.JJ){var A=new j8(r.E.W,!0);A.data={d:r.S.ce,b:this.JJ};m.u(A);this.JJ=null}};f.uO.prototype.lr=function(G,m,A,Q){var H=new j8(m,!0);
H.data=A;if(Q)H.b=Q;G.u(H)};f.uO.prototype.yG=function(G){var m=this.Ux.add.TySh,A=this.Q$,Q=m.A.clone();
Q.G3();var H=Q.Yw(G),J=fC.E8(m,A),b=N.iZ.vE(m.yF,J),O=N.ls.aq1(b,H);if(O==null)O=new Float64Array(2);
H=new dw(J.x+O[0]*J.e,J.y+O[1]*J.n);if(A.Yd){var a=A.Yd.clone();a.G3();H=a.Yw(H)}var e=A.akG(H);return e};
f.uO.prototype.IF=function(G,m){if(m==null)m=!1;var A=this.Ux.add.TySh,Q=fC.Sv(A.DQ),H=this.Q$,J=H?fC.E8(A,H):null;
G.v.Wq=[];G.v.Gs=null;G.v.TX=null;var b=this.gl?this.gl:this.Q_;if(b){b.N3(G,this.Wc,!N.iZ.zK(A.yF));
var O=A.A.clone();O.G3();if(H&&H.Yd&&H.O7==1){var a=H.Yd.clone();a.G3();O.concat(a)}N.H.A(G.v.Wq,O,G.v.Wq);
N.H.A(G.v.Gs.s,O,G.v.Gs.s);if(H&&H.Yd==null&&H.aik()){var e=J.e-20,R=J.n+8;G.v.Gs.s.push(e,R,e+10,R,e+5,R-5,e+5,R+5);
G.v.Gs.C.push("M","L","M","L")}}else if(Q==0)this.ajR(G,A,H);else G.v.Gs={s:[],C:[]};var p=Math.min(this.B9,this._8),P=Math.max(this.B9,this._8);
if(!m){this.LM.selectionStart=p;this.LM.selectionEnd=P}if(H!=null){var z=function(b,M){var C=b.x,x=b.y+b.n,L=new ci;
L.translate(-C,-x);L.rotate(-M);L.translate(C,x);b.y+=b.n*.27;var U=N.H.Zt(b);N.H.A(U.s,L,U.s);return U};
if(p==P){p=Math.max(p,0);var Z=H.xr(p);if(Z){var W=Z.PR,T=this.Wc.RG.In.FontSize;if(T!=null&&T!=0){T/=A.A.kF();
W.y+=W.n-T;W.n=T}var i=H.a6s(p);if(i!=null&&i.mT==1)W.x+=W.e;var X=z(W,Z.pI).s;G.v.Gs.C.push("M","L");
G.v.Gs.s.push(X[0],X[1]-1,X[6],X[7]-1)}}else{G.v.TX={s:[],C:[]};for(var $=p;$<P;$++){var Z=H.xr($),U=z(Z.PR,Z.pI);
N.H.concat(G.v.TX,U)}}}G.v.Gs=g5._O(G.v.Gs,A,H);G.v.TX=g5._O(G.v.TX,A,H);G.v.Wq=g5._O({s:G.v.Wq},A,H).s;
G.Iy=!0};f.uO.prototype.ajR=function(G,m,A){if(A==null)return;G.v.Wq.push(0,0);if(G.v.Gs==null)G.v.Gs={C:[],s:[]};
for(var $=0;$<A.DF.length;$++){var Q=A.DF[$];for(var H=0;H<Q.K$.length;H++){var J=Q.K$[H],b=Q.tg.x+J.tg.x+J.PR.x,O=Q.tg.y+J.tg.y+J.PR.y+J.PR.n;
G.v.Gs.C.push("M","L");G.v.Gs.s.push(b,O,b+J.PR.e,O)}}G.Iy=!0};f.AS=function(){f.uO.call(this,!0)};f.AS.prototype=new f.uO;
f.PE=function(){f.iK.call(this,[10,9],f.m0,"tools/lasso");this.EH="crosshair";this.p2=null;this.wO=null;
this.cl=null};f.PE.prototype=new f.iK;f.PE.prototype.mC=function(G,m,A,Q){this.p2=this.Ij;this.wO={s:[this.p2.x,this.p2.y],C:["M"]}};
f.PE.prototype.Vz=function(G,m,A,Q){this.cl=Q;var H=this.wO;if(H==null)return;if(!Q.U_){if(this.wO!=null&&this.Nx>1&&A.j(a5.Ei)){H.s.pop();
H.s.pop();H.s.push(this.Y1.x,this.Y1.y);G.v.Gs=H;G.Iy=!0}return}H.C.push("L");H.s.push(this.Y1.x,this.Y1.y);
this.p2=this.Y1;if(this.Y$){G.v.Gs=H;G.Iy=!0}};f.PE.prototype.I3=function(){return this.wO!=null};f.PE.prototype.Pp=function(){return this.wO!=null};
f.PE.prototype.KY=function(G,m,A,Q){f.iK.prototype.KY.call(this,G,m,A,Q);if(this.wO&&this.Nx>1&&this.cl&&!this.cl.U_&&!Q.j(a5.Ei))this.IS(G,A,Q)};
f.PE.prototype.Jx=function(G,m,A,Q){this.cl=Q;var H=this.wO;if(H==null)return;if(this.Nx>1&&A.j(a5.Ei)){H.C.push("L");
H.s.push(this.Y1.x,this.Y1.y);return}this.IS(G,m,A)};f.PE.prototype.IS=function(G,m,A){this.finish(G,m,A,this.cl);
this.wO=null;G.v.Gs=null;G.Iy=!0};f.PE.prototype.getSelection=function(G,m,A,Q){if(this.Ij.A5(this.Y1)||!this.Y$)return null;
return f.iK.ka(this.wO.s,null,this.EE.anta)};f.oj=function(){f.rc.call(this,[10,11],f.ld,"tools/move");
this.xF=new dw(0,0);this.Rw=new dw(0,0);this.uj=null;this.l$=null;this.Gj=new dw(0,0);this.xx=null;this.dj=null;
this.V_=null;this.no=0;this.eA=null;this.fV=[];this.GZ=null;this.VD=null;this.pd=!1;this.d=0;this.UL=null;
this.C$=null;this.Qc=null;this.k8=!1;this.EE={g8:!1,ca:!1,aB:!1};this.adH=!1;this.a1f=!1;this.Q_=null;
this.oD=null;this.a7q=null;var G=[];for(var $=0;$<N.Kj.xy.length;$++)G.push({name:N.Kj.xy[$],P:function(m,A,Q){return{qW:A.bt.ww==Q}}});
this.Wi=new fL(G);this.Wi.J("select",this.Tl,this)};f.oj.prototype=new f.rc;f.rc.prototype.Rn=function(G){return this.pd&&this.d!=2};
f.oj.prototype.w9=function(){return this.pd&&this.d==0};f.oj.prototype.ZG=function(G,m,A,Q){this.Hu(G,-this.Gj.x,-this.Gj.y);
this.Gj.QU(0,0);this.Fs(G,null,A);this.Ks(G)};f.oj.prototype.mI=function(){var G=this.EE;return[G.g8?1:0,G.ca?1:0,G.aB?1:0]};
f.oj.prototype.he=function(G,m,A){var Q=this.EE;if(G&&G[0]!=null)Q.g8=G[0]==1;if(G&&G[1]!=null)Q.ca=G[1]==1;
if(G&&G[2]!=null)Q.aB=G[2]==1;var H=new j8(r.E.W,!0);H.data={d:r.S.mX,b:this.id,ml:Q,apW:m};A.u(H)};
f.oj.r4=function(G,m,A,Q,H,J,b){if(b==null)b=[!1,!0];var O=G.n3(null,H,!0),a,e;if(G.add.artd&&G.c.length==1&&G.g[G.c[0]].add.artb){var R=G.g[G.c[0]]._Q();
a=G.$v(O,R,R)[0]}else{var p=new f_(0,0,G.e,G.n),a=G.$v(O,b[0]?p:null,b[1]?null:p)[0],e=a.add.artd;if(e){for(var $=0;
$<a.g.length;$++)delete a.g[$].add.artb;delete a.add.artd}if(b[1]){var P=N.aG(a.$s(),new f_(0,0,a.e,a.n),2);
f.MB.S7(a,P)}}if(A!=1){var z=new f_(0,0,Math.round(a.e*A),Math.round(a.n*A));f.MB.S7(a,z);var Z=[];for(var $=0;
$<a.g.length;$++)Z.push($);var W=f.Q.ha(a,Z,!0);f.MB.z2(a,new ci(A,0,0,A,0,0));f.Q.od(a,Q,Z,W,1,N.N.i4(new ci(A,0,0,A,0,0)),null,!0);
a.kn()}else if(e){a.F();a.kn()}var T=[];for(var $=0;$<m.length;$++)if(a.e*a.n!=0)T.push(dt.DZ(a,m[$].toUpperCase(),null,null,J?J[$]:null,Q));
return T};f.oj.prototype.a5=function(G,m,A,Q,H){if(G==null||G.c.length==0)return;var J=f.oj.r4(G,[m],A,Q,null)[0],b=new j8(r.E.W,!0);
b.data={d:r.S.nB,data:J,name:G.g[G.c[0]].getName()+(A==1?"":"@"+A+"x")+"."+m};H.u(b)};f.oj.prototype.tZ=function(G,m,A,Q,H){if(G.Nm=="getPNG"){this.a5(A,"png",G.o6,H,m)}else if(G.Nm=="getSVG"){this.a5(A,"svg",G.o6,H,m)}if(G.Nm=="prms"){this.EE=G;
this.Ks(A)}};f.oj.a4Y=function(G){var jw=G.length,A=0;G.sort(function(J,b){return J[0]+J[1]/2-(b[0]+b[1]/2)});
var m=G[jw-1][0]+G[jw-1][1]-G[0][0];for(var $=0;$<jw;$++)A+=G[$][1];var Q=Math.round((m-A)/(jw-1)),H=G[0][0];
for(var $=0;$<jw;$++){G[$][0]=H;H+=G[$][1]+Q}};f.oj.prototype.Hk=function(G,m,A,Q,H){var J=G.d;if(J=="trsl"){var b=Math.round(G.JS),O=Math.round(G.lo);
this.Gj.QU(b,O);this.eg(A,m,Q,H,!1,G.i);this.Hu(A,b,O);this.Fs(A,null,H)}else if(J=="lockguides"){if(A)A.zd=!A.zd}else if(J=="gids"||J=="gidsFromLayer"){var a=G.C$,e,R;
if(a==null)a=A.G1();if(J=="gids"){e=G.GB;var p=a[0].length,P=e[0].length;R=p==P?[23,2]:p>P?[23,3]:[23,4];
if(P==0)R=[11,15,0]}else if(J=="gidsFromLayer"){var z=[],Z=[],W=A.yo();for(var $=0;$<A.c.length;$++){var T=A.g[A.c[$]].rect;
if(T.My())continue;z.push([0,T.x],[1,T.y],[0,T.x+T.e],[1,T.y+T.n]);Z.push(W,W,W,W)}R=[11,15,1];e=A.G1();
f.oj.$l(e,[z,Z])}if(JSON.stringify(a)==JSON.stringify(e))return;var J=new i3(R,this);J.data={d:2,C$:a,GB:e};
A.jm(J);this.S6(J.data,A)}else if(J=="algn"){var i=G.k;if(A==null)return;if(A.c.length<2&&!(A.q!=null&&i!=3&&i!=7)){alert(f5.get([15,7,5]));
return}var X=A.q;A.q=null;var T=X?X.rect:f.Q.E8(A);this.eg(A,m,Q,H,!1);if(!this.pd)return;var U=this.eA,M={},C=[],x=[],L=[];
for(var $=0;$<U.length;$++){var E=U[$];while(A.g[E].getName()=="</Layer group>")E++;var l=A.root.Zu(E),y=l;
while(l.parent!=null){l=l.parent;if(U.indexOf(l.index)!=-1)y=l}var Y=x.indexOf(y.index);if(Y==-1){Y=x.length;
x.push(y.index)}C[$]=Y}var F=[],w=[],j=[];for(var $=0;$<x.length;$++){var _=f.Q.E8(A,A.n3(!0,x[$]));
j.push(_);var D=i==3?[_.y,_.n]:[_.x,_.e];F[$]=D;w.push(D)}f.oj.a4Y(w);for(var $=0;$<x.length;$++){var _=j[$],t=_.x,K=_.y;
if(i==0)t=T.x;if(i==1)t=T.x+(T.e-_.e)/2;if(i==2)t=T.x+(T.e-_.e);if(i==3)K=F[$][0];if(i==4)K=T.y;if(i==5)K=T.y+(T.n-_.n)/2;
if(i==6)K=T.y+(T.n-_.n);if(i==7)t=F[$][0];L.push(Math.round(t-_.x),Math.round(K-_.y))}var d=[];for(var $=0;
$<U.length;$++){var o=C[$];d[2*$]=L[2*o];d[2*$+1]=L[2*o+1]}this.Hu(A,0,0,null,d);var k=i==3||i==7?[20,4,6]:[20,4,i<3?i:i-1];
this.Fs(A,null,H,d,k);A.q=X}else if(J=="disabAuto"){this.he([!1],null,m)}};f.oj.$l=function(G,m){for(var $=0;
$<m[0].length;$++){var A=m[0][$],Q=m[1][$],H=!1;for(var J=0;J<G[0].length;J++){var b=G[0][J],O=G[1][J];
if(A[0]==b[0]&&A[1]==b[1]&&Q==O)H=!0}if(!H){G[0].push(A.slice(0));G[1].push(Q)}}};f.oj.prototype.enable=function(G,m,A,Q,H){this.dj=A;
this.V_=m;this.k8=H?!0:!1;this.Ks(G);this.hr("default",m)};f.oj.prototype.disable=function(G,m,A,Q){this.cq(G)};
f.oj.prototype.cq=function(G){if(G==null)return;if(this.Q_){this.Q_.clear(G);this.Q_=null}if(G.v.aB){G.v.aB=null;
G.Iy=!0}if(G.v.gY){G.v.gY=null;G.Iy=!0}if(G.v.hK[this.id]){delete G.v.hK[this.id];G.Iy=!0}if(G.v.Lb.length!=0){G.v.Lb=[];
G.Iy=!0}};f.oj.prototype.tT=function(G,m,A,Q){if(A.Iu!=this.id)return;this.Ks(G)};f.oj.prototype.Ks=function(G,m){if(G==null)return;
var A=this.EE;this.cq(G);if(!this.k8){var Q;if(A.ca||A.aB)Q=N.H.Is(f.Q.E8(G));if(A.ca&&!Q.My()){this.Q_=new iw([Q.x,Q.y,Q.x+Q.e,Q.y,Q.x+Q.e,Q.y+Q.n,Q.x,Q.y+Q.n],!0);
this.Q_.N3(G,this.dj)}if(A.aB){var H=null,R=null,p=!1;if(G.yo()!=-1)H=G.g[G.yo()]._Q();else H=new f_(0,0,G.e,G.n);
G.v.aB={Gq:[Q],fc:[]};var J=G.v.aB.fc,b=Q.x+Q.e,O=Q.y+Q.n,a=Q.x+Math.floor(Q.e/2),e=Q.y+Math.floor(Q.n/2);
if(m){var P=G.root.yq(new dw(Math.floor(m.x),Math.floor(m.y)));if(P){R=N.H.Is(P.i.QZ(G));if(R.c0(Q)){p=(R.ZM(Q)||Q.ZM(R))&&!Q.A5(R);
if(!p)R=null}}}this.l9(Q,J);if(R!=null){G.v.aB.Gq.push(R);var z=R.x+R.e,Z=R.y+R.n,W=R.x+Math.floor(R.e/2),T=R.y+Math.floor(R.n/2);
if(p){var i=a,X=e;if(Q.ZM(R)){i=W;X=T}J.push(Q.x,X,R.x,X);J.push(b,X,z,X);J.push(i,Q.y,i,R.y);J.push(i,O,i,Z)}else{this.l9(R,J);
var U=O<R.y||Z<Q.y,M=b<R.x||z<Q.x;if(b<R.x)J.push(b,e,R.x,e);if(z<Q.x)J.push(z,e,Q.x,e);if(O<R.y)J.push(a,O,a,R.y);
if(Z<Q.y)J.push(a,Z,a,Q.y);if(U&&!M){if(Q.x<R.x)J.push(Q.x,T,R.x,T);if(R.x<Q.x)J.push(R.x,e,Q.x,e)}}}else{if(Q.y>H.y)J.push(a,H.y,a,Q.y);
if(O<H.y+H.n)J.push(a,O,a,H.y+H.n);if(Q.x>H.x)J.push(H.x,e,Q.x,e);if(b<H.x+H.e)J.push(b,e,H.x+H.e,e)}G.Iy=!0}}if(this.d==2&&this.pd){var C=new f_(0,0,G.e,G.n),x=G.yo();
if(x!=-1){var L=G.G1(),E=L[1][this.eA];if(E==-1)E=x;C=G.g[E]._Q()}var l=G.Ld[this.eA],y=l[0],Y=(y==0?"X":"Y")+": "+N.Kj.DO(l[1]-(y==0?C.x:C.y),G.SV,this.dj,y==0?C.e:C.n,!0);
f.rc.lT(Math.round(this.uj.x)+10,Math.round(this.uj.y)-10,[Y],G);G.Iy=!0}if(this.d==3&&this.pd){var F=N.H.Zt(this.UL);
G.v.hK[this.id]={Gs:F};G.Iy=!0}};f.oj.prototype.l9=function(G,m){var A=G.e,Q=G.n,H=G.x+Math.floor(A*.2),J=G.y+Math.floor(Q*.2);
m.push(H,G.y,H,G.y+Q);m.push(G.x,J,G.x+A,J)};f.oj.prototype.hr=function(G,m){var A={d:r.S.Cv,Ry:G},Q=new j8(r.E.W,!0);
Q.data=A;m.u(Q)};f.oj.prototype.GA=function(G){var m=this.oD.Zr()[0],A=this.xx,Q=this.a7q[m];this.$W(A,Q)};
f.oj.prototype.Tl=function(G){var m=JSON.parse(JSON.stringify(this.dj.bt));m.ww=this.Wi.Zr()[0];var A=new j8(r.E.W,!0);
A.data={d:r.S.$g,WF:dG.iS,wK:m};this.V_.u(A)};f.oj.prototype.K8=function(G,m,A,Q,H){if(this.pd)this.gE(G,m,A,Q,H);
this.xx=G;this.dj=A;this.V_=m;var J=G.t.fY(H.x,H.y),b;if(f.oj.WK(A,H,G.t)){b=this.Wi}else{if(this.oD)this.oD.removeEventListener("select",this.GA);
var O=[];G.root.yq(J,O);if(O.length==0)return;var a=[];this.a7q=O;for(var $=0;$<O.length;$++)a.push({name:G.g[O[$]].getName()});
b=this.oD=new fL(a);b.J("select",this.GA,this)}b.parent=m;b._();b.update(G,A);var e=new j8(r.E.W,!0);
e.data={d:r.S.mo,Nc:b,x:H.Gp+2,y:H.Yt+1};m.u(e)};f.oj.prototype.lE=function(G,m,A,Q,H){var J=f.oj.R6(G,H);
return J!=-1||f.oj.WK(A,H,G.t)};f.oj.R6=function(G,m){if(G==null||G.add.artd==null)return-1;var A=G.t.fY(m.x,m.y),Q=12*f.G()/G.t.V;
for(var $=0;$<G.g.length;$++){var H=G.g[$];if(!H.HX()||H.add.artb==null)continue;var J=H._Q(),b=new f_(J.x,J.y-1.7*Q,Q*H.getName().length*.5,Q);
if(b.EW(A))return $}return-1};f.oj.prototype.gr=function(G,m,A,Q,H){var J=f.oj.R6(G,H);if(J!=-1){G.c=[J];
if(A.Iu==f.ld){var b=new j8(r.E.W);b.data={d:r.S.ce,b:f.L0};m.u(b)}return}this.uj=H;this.xF.QU(H.x,H.y);
this.Rw=G.t.fY(H.x,H.y);this.l$=new ik(this.Rw);this.eg(G,m,Q,A,!0)};f.oj.WK=function(G,m,A,Q){var H=N.Kj.PV,J=A.Td.n;
return G.nj&&(0<m.x&&m.x<H||0<m.y&&m.y<H||Q&&0<m.x&&m.x<4*H&&J-H<m.y&&m.y<J)};f.oj.prototype.eg=function(G,m,A,Q,H,J){var b,O=this.Rw,a=!1;
if(H){var e=Q.cY&&Q.bt.Ld;if(f.oj.WK(Q,this.xF,G.t)){b=G.G1();var R=G.G1(),p=null;if(this.xF.x<N.Kj.PV){p=[0,O.x]}if(this.xF.y<N.Kj.PV){p=[1,O.y]}R[0].push(p);
R[1].push(G.yo());G.Qr(R);if(!e){var P=new j8(r.E.W);if(!Q.bt.Ld){P.data={d:r.S.$g,WF:dG.nD};m.u(P)}if(!Q.cY){P.data={d:r.S.$g,WF:dG.GL};
m.u(P)}e=!0}}var z=this.Zy(G,O);if(e&&z!=null&&!G.zd){this.d=2;this.C$=b?b:G.G1();this.eA=z;this.pd=!0;
this.VD=f.Q.E8(G);return}if(G.UX.length!=0){this.d=4;this.VD=G.Hv[G.UX[0]].rect.clone();this.pd=!0;return}if(this.Q_&&this.Q_.tf(O,G.t.V,!0,this.uj)!=null){var P=new j8(r.E.W);
P.data={d:r.S.ce,b:f.Py,asH:!0};m.u(P);return}if(G.q&&G.q.rect.EW(O)){var Z=Math.round(O.x),W=Math.round(O.y),T=G.q.rect;
a=G.q.channel[(W-T.y)*T.e+Z-T.x]>128}if(!a&&(!this.k8&&this.EE.g8||this.k8&&this.EE.g8&&(A.j(a5.K6)||G.c.length<2))){var i=this.a1A(G,O,A);
if(!i){G.c=[];G.EJ=null;G.bV=G.GU=!0;this.d=3;this.UL=new f_;this.pd=!0;return}}if(A.j(a5.Ei)&&!a){var X=new j8(r.E.w);
X.b=f.p4;X.data={d:c.h_,a2c:!0};m.u(X)}}if(G.UX.length!=0){this.d=4;this.VD=G.Hv[G.UX[0]].rect.clone();
this.pd=!0;return}this.eA=G.n3(J==null,J,null,!0);for(var $=0;$<this.eA.length;$++){var U=G.g[this.eA[$]];
if(U.AL(2)||U.AL(31)){alert(f5.get([6,57,0]));return}}if(G.add.artd&&H){var M=this.eA,C=!1;for(var $=0;
$<M.length;$++)if(G.g[M[$]].add.artb)C=!0;if(!C){this.GZ=[G,G.g.slice(0),G.c.slice(0),-1];this.eA.sort(function(w,j){return w-j})}}this.fV=f.oj.acT(G,this.eA);
this.d=0;if(G.q&&(!H||a)&&G.c.length==1&&G.fE(!1)){if(!G.alL()){this.pd=!1;return}var x=G.g[G.c[0]],L=A.j(a5.Ei);
this.d=1;var E=G.history[G.kZ];if(E.b==this&&E.data.d==1&&E.data.i==G.c[0]&&x.Sm==x.Pg.Sm&&!L){this.Qc=E}else{var l=x.Pg,y=!1,Y;
if(!x.NC(G,G.q)||L){y=!0;x.Gm(G,G.q,L)}if(x.Pg.Sm<=0){Y=N.$(x.Pg.bC.length>>2);N.gF(x.Pg.bC,Y,3)}else Y=G.q.channel.slice(0);
var F={rect:x.Pg.c7.clone(),channel:Y};this.Qc=new i3(L?[12,53]:[12,54],this);this.Qc.data={d:1,i:G.c[0],Pg:x.Pg,EB:l,m_:y,wX:G.q,xe:F,nd:new dw(0,0)};
G.jm(this.Qc);G.q=F;G.W0=!0}}this.pd=!0;this.VD=f.Q.E8(G)};f.oj.prototype.a1A=function(G,m,A){var Q=G.root.yq(new dw(Math.floor(m.x),Math.floor(m.y)));
if(Q){if(Q.i.add.vmsk)G.Iy=!0;var H=G.g.indexOf(Q.i);if(A.j(a5.K6)){var J=G.c.indexOf(H);if(J==-1)G.c.push(H);
else if(G.c.length>1)G.c.splice(J,1)}else if(G.c.indexOf(H)==-1){this.$W(G,H)}}return Q!=null};f.oj.prototype.$W=function(G,m){G.g[m].Sm=0;
G.c=[m];G.EJ=null;G.mU();G.we=!0;G.bV=!0};f.oj.prototype.Nr=function(G,m,A,Q,H){this.uj=H;var J=G.t.fY(H.x,H.y),z,Z;
if(this.l$&&this.d<2)J=this.l$.O4(J,Q);if(!this.pd){if(A.cY&&A.bt.Ld&&G&&!G.zd){var b=this.Zy(G,J),O="default",a=f.oj.R6(G,H);
if(b!=null)O=["col-resize","row-resize"][G.Ld[b][0]];else if(this.Q_){var e=this.Q_.tf(J,G.t.V,null,H);
if(e)O=e}else if(a!=-1){O="pointer"}this.hr(O,m)}this.Ks(G,J);return}var R=this.Rw,p=Math.round(J.x-R.x)-this.Gj.x,P=Math.round(J.y-R.y)-this.Gj.y;
if(this.VD){if(this.d==2){J=f.oj.Cj(G,J,A,[!1,G.q?G.q.rect:this.VD,!0])}else{Z=this.VD.clone();Z.offset(this.Gj.x+p,this.Gj.y+P);
z=f.oj.cM(G,Z,A);p+=Math.round(z[0]);P+=Math.round(z[1])}}this.Gj.x+=p;this.Gj.y+=P;var W=this.GZ;if(W&&G==W[0]){G.g_(W[1]);
G.c=W[2].slice(0);W[3]=-1}this.Hu(G,p,P,J,null,Q.j(a5.K6));if(W&&G==W[0]){var T=this.VD.clone();T.offset(this.Gj.x,this.Gj.y);
var i=new dw(T.x+T.e/2,T.y+T.n/2),a=G.yo(),X=-1;for(var $=0;$<G.g.length;$++){var U=G.g[$];if(!U.HX()||U.add.artb==null)continue;
var M=U._Q();if(M.EW(i))X=$}if(X!=-1&&X!=a){var C=f._9.BM(G,this.eA,X,!0,null,!1);G.g_(C[0]);G.c=C[1];
W[3]=X}}this.Ks(G,J);if(z)f.oj.Sr(G,Z,z)};f.oj.prototype.Zy=function(G,m){var A=f.L3(G,this.uj);m=[m.x,m.y];
var Q=G.G1(),H=G.yo();for(var $=0;$<Q[0].length;$++){var J=Q[0][$],b=Q[1][$];if(b!=-1&&b!=H)continue;
if(Math.abs(J[1]-m[J[0]])<A)return $}return null};f.oj.prototype.Hu=function(G,m,A,Q,H,J){if(this.d==0){if(H)f.oj.MV(G,this.eA,this.fV,H);
else f.oj.II(G,this.eA,this.fV,m,A)}else if(this.d==1){var b=this.Qc.data;b.nd.offset(m,A);f.oj.gL(G,b.i,m,A)}else if(this.d==2){var O=1e-5;
if(J)O=G.t.V<=1?10:1;else if(G.t.V<=1)O=1;var a=O*Math.round(Q.x/O),e=O*Math.round(Q.y/O),R=[a,e],p=G.Ld[this.eA];
p[1]=R[p[0]]}else if(this.d==3){var P=this.Rw,z=N.H.Dd([P.x,P.y,Q.x,Q.y]);this.UL=z;var Z=[];G.root.vZ(z,Z);
if(JSON.stringify(G.c)!=JSON.stringify(Z)){G.c=Z;G.bV=G.GU=!0}}else if(this.d==4){for(var $=0;$<G.UX.length;
$++)G.Hv[G.UX[$]].rect.offset(m,A);G.Iy=!0}};f.oj.gL=function(G,m,A,Q){var H=G.g[m];G.q.rect.offset(A,Q);
H.yI(G,A,Q,G.q);G.W0=!0;G.F()};f.oj.prototype.gE=function(G,m,A,Q,H,J){this.Fs(G,H,A);this.Ks(G);if(Date.now()-this.no<300&&!J){var b=f.uO.zJ(G,G.t.fY(H.x,H.y));
if(f.oj.WK(A,H,G.t,!0)){var O=new j8(r.E.W);if(H.y>G.t.Td.n-20){O.data={d:r.S.XG,Ue:"doczoom",Ge:G.t.V*100,OX:{T:r.E.w,b:f._N,R:{d:"pzoom"}}}}else{O.data={d:r.S.XG,Ue:"preferences"}}m.u(O)}else if(b>=0){var a=new j8(r.E.w,!0);
a.b=f.G8;a.data={d:"editCurr",aY:b};m.u(a)}}this.no=Date.now();f.MB.IM(G)};f.oj.prototype.Fs=function(G,m,A,Q,H){if(!this.pd)return;
this.pd=!1;if(this.d==0){if(Q){this.BF(G,null,Q,H)}else{if(this.Gj.x==0&&this.Gj.y==0)return;this.BF(G,this.Gj.clone())}G.AB=!0}else if(this.d==2){var J=0;
m=[m.x,m.y];var b=this.eA,O=G.Ld[b],da=this.C$[0].length,a=G.Ld.length;if(A.nj&&m[O[0]]<N.Kj.PV){var e=G.G1();
e[0].splice(b,1);e[1].splice(b,1);G.Qr(e);J=1;if(da==a-1)return}if(da<a)J=2;var R=new i3([[23,2],[23,3],[23,4]][J],this);
R.data={d:2,C$:this.C$,GB:G.G1()};G.jm(R)}else if(this.d==4){var R=new i3([12,54],this);R.data={d:4,c:G.UX.slice(0),r:this.Gj.clone()};
G.jm(R)}this.Gj.QU(0,0)};f.oj.prototype.KY=function(G,m,A,Q){var H=Q.Ui();if(G!=null&&(H.x!=0||H.y!=0)){if(Q.j(a5.Ei)&&G.q==null){var J=new j8(r.E.w);
J.b=f.p4;J.data={d:c.h_,a2c:!0};m.u(J)}this.Gj.QU(H.x,H.y);this.eg(G,m,Q,A,!1);if(!this.pd)return;this.Hu(G,H.x,H.y);
this.Fs(G,null,A);this.Ks(G)}var b=Q.j(a5.KF);if(!this.k8&&this.a1f!=b){if(b){this.adH=this.EE.g8;this.EE.g8=!0}else{this.EE.g8=this.adH}this.a1f=b;
var O=new j8(r.E.W,!0);O.data={d:r.S.mX,b:this.id,ml:this.EE};m.u(O)}};f.oj.prototype.Ah=function(G,m){if(G.d==0){var A=G._P;
if(A){m.g_(A.vP);m.c=A.ig.slice(0);m.F();m.bV=!0}f.oj.MV(m,G.c,G.ll,G.Ro,!0);f.MB.IM(m)}else if(G.d==2){m.Qr(G.C$);
m.Iy=!0}else if(G.d==4){for(var $=0;$<G.c.length;$++)m.Hv[G.c[$]].rect.offset(-G.r.x,-G.r.y);m.Iy=!0}else{var Q=m.g[G.i];
if(G.m_){Q.Or(m,G.EB);m.q=G.wX;m.W0=!0;m.F();Q.F()}else{f.oj.gL(m,G.i,-G.nd.x,-G.nd.y)}}};f.oj.prototype.S6=function(G,m){if(G.d==0){f.oj.MV(m,G.c,G.ll,G.Ro);
var A=G._P;if(A){m.g_(A.xQ);m.c=A.kW.slice(0);m.F();m.bV=!0}f.MB.IM(m)}else if(G.d==2){m.Qr(G.GB);m.Iy=!0}else if(G.d==4){for(var $=0;
$<G.c.length;$++)m.Hv[G.c[$]].rect.offset(G.r.x,G.r.y);m.Iy=!0}else{var Q=m.g[G.i];if(G.m_){Q.Pg=G.Pg;
m.q=G.xe;f.oj.gL(m,G.i,0,0);Q.F()}else{f.oj.gL(m,G.i,G.nd.x,G.nd.y)}}};f.oj.prototype.BF=function(G,m,A,Q){if(A){var H=!0;
for(var $=0;$<A.length;$++)if(A[$]!=0)H=!1;if(H)return}var J=G.history[G.kZ],b=this.GZ,O=b!=null&&b[3]!=-1&&b[0]==G;
if(!O&&A==null&&J.data&&J.b==this&&J.data.d==0&&JSON.stringify(J.data.c)==JSON.stringify(this.eA)&&JSON.stringify(J.data.ll)==JSON.stringify(this.fV)){var a=J.data.Ro,e=J.data.a0T.aL.T.v;
e.Hrzn.v.val+=m.x;e.Vrtc.v.val+=m.y;for(var $=0;$<a.length;$+=2){a[$]+=m.x;a[$+1]+=m.y}}else{if(m==null)m=new dw(A[0],A[1]);
var R={YI:"move",aL:{classID:"null",null:ah.TH("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:m.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:m.y}}}}}},p=null;
if(O)p={vP:b[1],ig:b[2],xQ:G.g.slice(0),kW:G.c.slice(0)};this.GZ=null;var P=new i3(Q?Q:[12,54],this);
if(A)P.data={d:0,c:this.eA,ll:this.fV,_P:p,Ro:A};else P.data={d:0,c:this.eA,ll:this.fV,_P:p,Ro:f.oj.hL(this.eA,m.x,m.y)};
P.data.a0T=R;G.jm(P);this.track(R)}};f.oj.hL=function(G,m,A){var Q=[];for(var $=0;$<G.length;$++)Q.push(m,A);
return Q};f.oj.II=function(G,m,A,Q,H){f.oj.MV(G,m,A,f.oj.hL(m,Q,H))};f.oj.MV=function(G,m,A,Q,H){if(m.length==0)return;
if(A==null){A=[];for(var $=0;$<m.length;$++){A.push(G.g[m[$]].CN(G,!0))}}var J=new f_,b=new f_(0,0,G.e,G.n);
for(var $=0;$<m.length;$++){var O=Q[2*$],a=Q[2*$+1];if(H){O=-O;a=-a}var e=G.g[m[$]],R=A[$];if(e.add.fxrp&&(R.indexOf(0)!=-1||e.gX()))e.add.fxrp.offset(O,a);
for(var p=0;p<R.length;p++){var P=R[p];if(P==0){e.rect.offset(O,a);if(e.Ct()&&e.mv(G))e.mv(G).rect.offset(O,a);
if(e.add.artb){var z=e._Q();z.offset(O,a);e.I_(z);var Z=e.add.artb.guideIndeces;Z=Z?Z.v:[];for(var W=0;
W<Z.length;W++){var T=G.Ld[Z[W].v];T[1]+=T[0]==0?O:a}}if(e.add.TySh){e.add.TySh.A.translate(O,a);if(e.add.TySh.add){e.add.TySh.add.vmsk.offset(O,a)}}if(e.add.SoLd){var i=new ci(1,0,0,1,O,a),X=e.add.SoLd,U=f.Q.y_(X.Trnf),M=f.Q.y_(X.nonAffineTransform);
N.H.A(U,i,U);N.H.A(M,i,M);X.Trnf=f.Q.J_(U);X.nonAffineTransform=f.Q.J_(M);f.Q.cA(X,i)}}if(P==1)e.fm().rect.offset(O,a);
if(P==2){e.add.vmsk.offset(O,a);if(e.add.vogk)N.Nv.A(e.add.vogk,[1,0,O,0,1,a,0,0],[])}if(P==3){e.mv(G).D.rect.offset(O,a);
if(R.length==1)e.F()}}if(R.length>0){var C=e.add.GdFl;if(C==null)C=e.add.PtFl;if(e.gX()&&!e.y2()&&e.add.vmsk!=null&&N.U.LH(e.add.vmsk.Y)&&e.add.vmsk.an==255&&(C==null||C.Algn&&C.Algn.v)){e.rect.offset(O,a)}else e.hM(G);
var x=G.root.Ex(e.QZ(G),G,m[$]);if(e.add.artb)x=x.wj(e._Q());J=J.wj(x);x.offset(-O,-a);J=J.wj(x);if(e.Kg()&&e.D&&e.D.color==255)J=J.wj(b);
e.VU()}}G.F(N.H.Is(J))};f.oj.acT=function(G,m){var A=[];for(var $=0;$<m.length;$++){var Q=G.g[m[$]];
A.push(Q.CN(G))}return A};f.oj.Sr=function(G,m,A){var Q=G.v.gY={s:[],C:[]},H=m.x+A[0],J=m.y+A[1];if(A[2]!=1e9){Q.C.push("M","L");
Q.s.push(A[2],J,A[2],J+m.n)}if(A[3]!=1e9){Q.C.push("M","L");Q.s.push(H,A[3],H+m.e,A[3])}G.Iy=!0};f.oj.Cj=function(G,m,A,Q){var H=f.oj.MN(G,[[m.x],[m.y]],A,Q);
return new dw(m.x+H[0],m.y+H[1])};f.oj.cM=function(G,m,A,Q,H){var J=H==!0?1:.5,b=f.oj.MN(G,[[m.x,m.x+Math.round(m.e*J),m.x+m.e],[m.y,m.y+Math.round(m.n*J),m.y+m.n]],A,Q);
return b};f.oj.MN=function(G,m,A,Q){if(Q==null)Q=[!0,null,!0];var H=[0,0,1e9,1e9];if(!A.s1)return H;
var J=JSON.parse(JSON.stringify(m));for(var b=0;b<2;b++){var O=1e9,a=m[b],e=0;for(var R=0;R<a.length;
R++){var p=f.oj.a56(G,a[R],J[1-b][R],b,A,Q);if(p!=1e9)J[b][R]=p;if(p!=1e9&&Math.abs(p-a[R])<Math.abs(O)){O=p-a[R];
e=p}}if(O!=1e9){H[b]=O;H[b+2]=e}}return H};f.oj.a56=function(G,m,A,Q,H,J){var b=1e9,O=H.PU,a=H.bt,e=[G.root];
while(e.length!=0&&O[2]){var R=e.pop(),p=R.i,P=p.rect;if(!p.HX())continue;if(R.children)for(var $=0;
$<R.children.length;$++)e.push(R.children[$]);if(G.c.indexOf(R.index)!=-1||P.My())continue;if(Q==0){var z=P.e,Z=z>>>1;
if(Math.abs(P.x-m)<Math.abs(b-m))b=P.x;if(Math.abs(P.x+Z-m)<Math.abs(b-m))b=P.x+Z;if(Math.abs(P.x+z-m)<Math.abs(b-m))b=P.x+z}else{var W=P.n,T=W>>>1;
if(Math.abs(P.y-m)<Math.abs(b-m))b=P.y;if(Math.abs(P.y+T-m)<Math.abs(b-m))b=P.y+T;if(Math.abs(P.y+W-m)<Math.abs(b-m))b=P.y+W}}if(J[0]&&O[0]&&a.Ld&&H.cY){var i=G.G1(),X=i[0],U=i[1],M=G.yo();
for(var $=0;$<X.length;$++)if((U[$]==-1||U[$]==M)&&X[$][0]==Q&&Math.abs(X[$][1]-m)<Math.abs(b-m))b=X[$][1]}if(O[1]&&a.yk&&H.cY){var C=Math.round(N.Kj.p7(a.Vm,G.SV,G.e,a.Al));
if(Q==1&&a.c_==1){var x=A*.5*Math.sqrt(4/3),L;C*=Math.sqrt(4/3);L=Math.round((m-x)/C)*C+x;if(Math.abs(L-m)<Math.abs(b-m))b=L;
L=Math.round((m+x)/C)*C-x;if(Math.abs(L-m)<Math.abs(b-m))b=L}else{var L=Math.round(m/C)*C;if(Math.abs(L-m)<Math.abs(b-m))b=L}}var E=G.Xz;
if(O[3]&&a.Xz&&H.cY&&E.length!=0){for(var $=0;$<E.length;$++){if(!J[2]&&G.bI.indexOf($)!=-1)continue;
var l=f.q3.ZI(E,$);for(var y=0;y<3;y+=2)if(l[y+Q]!=m&&Math.abs(l[y+Q]-m)<Math.abs(b-m))b=l[y+Q]}}if(J[1]){var P=J[1],z=P.e,W=P.n,Y=[P.x,P.y,P.x+(z>>>1),P.y+(W>>>1),P.x+z,P.y+W];
for(var $=0;$<6;$+=2)if(Math.abs(Y[$+Q]-m)<Math.abs(b-m))b=Y[$+Q]}if(O[4]){var P=new f_(0,0,G.e,G.n),M=G.yo();
if(M!=-1)P=G.g[M]._Q();var z=P.e,W=P.n,Y=[P.x,P.y,P.x+(z>>>1),P.y+(W>>>1),P.x+z,P.y+W];for(var $=0;$<6;
$+=2)if(Math.abs(Y[$+Q]-m)<Math.abs(b-m))b=Y[$+Q]}var F=Math.abs(b-m)<=4*f.G()/G.t.V?b:1e9;return F};
f.xs=function(){f.iK.call(this,[10,12],f.yj,"tools/mwand")};f.xs.prototype=new f.iK;f.xs.prototype.mI=f.iK.prototype.aqf;
f.xs.prototype.he=f.iK.prototype.aoC;f.xs.prototype.mC=function(G,m,A,Q){this.finish(G,m,A,Q)};f.xs.prototype.getSelection=function(G,m,A,Q){var H=this.Y1,J=f.iK.ao4(new dw(Math.floor(H.x),Math.floor(H.y)),this.EE.wconf,this.EE.sall);
return J};f.xs.Kz=function(G,m,A,Q,H){if(G.c.length!=1){alert("More than one layer selected.");return null}var J=G.g[G.c[0]],b=null,O;
if(H)b=J.Sm<=0?null:J.Sm==1?J.fm():J.mv(G).D;if(b==null&&J.add.lsct!=null&&J.add.lsct!=fM.Wd){alert("No layer selected.");
return null}if(m.x<0||m.x>G.e||m.y<0||m.y>G.n)return null;var a=new f_(0,0,G.e,G.n);if(Q){O=G.$s()}else if(b==null&&a.A5(J.rect))O=J.buffer;
else{O=N.$(a.Z()*4);if(b==null)N.Pr(J.buffer,J.rect,O,a);else f.Xi.Oh(b.channel,b.rect,b.color,O,a)}var e=f.xs.bL(O,a,m,null,A),R=N.cP(e,a),p=N.$(R.Z());
N.qg(e,a,p,R);return{rect:R,channel:p}};f.xs.KA=function(G,m,A){var Q=m.e,H=m.n,b=0,O=0,a=0,e=0;G=new Uint32Array(G.buffer);
var J=[],R=A.length;for(var $=0;$<R;$++){var p=A[$],P=Math.round(p.x-.5-m.x),z=Math.round(p.y-.5-m.y);
P=Math.max(0,Math.min(Q-1,P));z=Math.max(0,Math.min(H-1,z));var Z=z*Q+P,W=G[Z];J.push([W&255,W>>8&255,W>>16&255,W>>>24])}return J};
f.xs.bL=function(G,m,A,Q,H){G=new Uint32Array(G.buffer);var J=m.e,b=m.n,O=J*b;if(Q==null)Q=f.xs.KA(G,m,[A]);
var a=Math.round(A.x-.5-m.x),e=Math.round(A.y-.5-m.y),R=e*J+a,p=Date.now(),P=N.$(J*b),z=H[0],Z=1/z,W=H[1]&&z>0?255:0;
if(H[2]){var T=N.$(P.length),i=new Uint32Array(O),X=1;i[0]=a<<16|e;T[R]=1;while(X>0){var U=i[X-1];X--;
var M=U>>>16,C=U&65535,$=C*J+M,x=f.xs.mf(G[$],Q);if(x>z){var L=W*(1-Math.max(0,Math.min(1,(x-z)*Z)));
P[$]=~~L}else{P[$]=255;if(C!=b-1&&T[$+J]==0){i[X++]=M<<16|C+1;T[$+J]=1}if(C!=0&&T[$-J]==0){i[X++]=M<<16|C-1;
T[$-J]=1}if(M!=J-1&&T[$+1]==0){i[X++]=M+1<<16|C;T[$+1]=1}if(M!=0&&T[$-1]==0){i[X++]=M-1<<16|C;T[$-1]=1}}}}else{for(var $=0;
$<O;$++){var x=f.xs.mf(G[$],Q);if(x<=z)P[$]=255}for(var C=0;C<b;C++)for(var M=0;M<J;M++){var $=C*J+M;
if(P[$]==0&&(M>0&&(P[$-1]==255||C>0&&P[$-J-1]==255||C<b-1&&P[$+J-1]==255)||M<J-1&&(P[$+1]==255||C>0&&P[$-J+1]==255||C<b-1&&P[$+J+1]==255)||C>0&&P[$-J]==255||C<b-1&&P[$+J]==255)){var x=f.xs.mf(G[$],Q),L=W*(1-Math.max(0,Math.min(1,(x-z)*Z)));
P[$]=~~L}}}return P};f.xs.mf=function(G,m){var A=m.length,Q=f.xs.Ic(G,m[0]),$=1;while($!=A){Q=Math.min(Q,f.xs.Ic(G,m[$]));
$++}return Q};f.xs.Ic=function(G,m){var A=G&255,Q=G>>>8&255,H=G>>>16&255,J=G>>>24&255;if(m[3]==0)return J<5?0:255;
var b=Math.max(Math.abs(A-m[0]),Math.max(Math.abs(Q-m[1]),Math.abs(H-m[2])));return J==0?255:b};f.xM=function(G,m){if(m)f.Xi.call(this);
else if(G)f.Xi.call(this,[10,49],f.Wz,"tools/camove");else f.Xi.call(this,[10,26],f.HF,"tools/patch");
this.p2=null;this.wO=null;this.r=null;this.tg=null;this.tn=new dw;this.RZ=null;this.hP=null};f.xM.prototype=new f.Xi;
f.xM.prototype.gr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);if(G.q&&N.yq(J,G.q.channel,G.q.rect)){var b=new f_(0,0,G.e,G.n),O=b.KB(G.q.rect);
if(!G.fE()||O.My())return;if(!0){var a=N.$(O.Z());N.qg(G.q.channel,G.q.rect,a,O);G.q={channel:a,rect:O}}this.uZ(G);
this.Rq(G);this.tg=J;this.tn=new dw(J.x-G.q.rect.x,J.y-G.q.rect.y);this.hP=N.$(G.q.rect.Z()*4);this.hP.fill(255);
if(this.EE.patch==1){var e=G.g[G.c[0]];e.Gm(G,G.q,!0);if(e.Pg==null)this.tg=null}this.RZ=G.q.rect.clone()}else{this.wO={s:[J.x,J.y],C:["M"]};
this.p2=J}};f.xM.prototype.Nr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);if(this.tg){if(this.EE.patch==1){if(G.UX.length==0){var b=G.g[G.c[0]].Pg,O=J.x-this.tn.x,a=J.y-this.tn.y;
f.oj.gL(G,G.c[0],Math.round(O-b.c7.x),Math.round(a-b.c7.y))}}else this.xl(G,J,"clone")}if(this.p2){this.wO.C.push("L");
this.wO.s.push(J.x,J.y);this.p2=J;G.v.Gs=this.wO;G.Iy=!0}};f.xM.prototype.gE=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);
if(this.tg){var b=G.q.rect.clone();if(this.id==f.Wz){var O=G.g[G.c[0]];O.Or(G,O.Pg);G.q.rect=this.RZ.clone();
var a=N.$(G.q.rect.Z()*4);N.I5(G.q.channel,a,3);this.pe(G,"sheal",a,G.q.rect,G.q.rect);G.q.rect=b;b=b.wj(this.RZ)}this.xl(G,J,"heal");
this.finish(G,b,null,null,!0);G.F(b);this.tg=null}if(this.p2){var e=f.iK.Kn(this.EE.setop,Q.j(a5.K6),Q.j(a5.Ei)),R=new j8(r.E.NH,!0);
if(this.wO.s.length<=4)R.data=f.iK.Lw();else R.data=f.iK.ka(this.wO.s,e);m.u(R);this.p2=null;G.v.Gs=null;
G.Iy=!0}};f.xM.prototype.fD=function(){return this.r};f.xM.prototype.tZ=function(G,m,A,Q,H){f.Xi.prototype.tZ.call(this,G,m,A,Q,H);
this.hr(H,Q)};f.xM.prototype.hr=function(G,m){var A="auto;";if(m!=null&&m.j(a5.K6)&&!m.j(a5.Ei)||this.EE.setop=="union")A="copy";
var Q=new j8(r.E.W,!0);Q.data={d:r.S.Cv,Ry:A};if(this.caller)this.caller.u(Q)};f.xM.prototype.xl=function(G,m,A){var Q=new dw(Math.round(this.tg.x-m.x),Math.round(this.tg.y-m.y));
if(this.EE.patch==1)Q.QU(-Q.x,-Q.y);this.r=Q;this.pe(G,A,this.hP,G.q.rect,G.q.rect);this.F(G,G.q.rect)};
f.yd=function(){f.xM.call(this,!0);this.EE.patch=1};f.yd.prototype=new f.xM(!0,!0);f.Tf=function(){f.Xi.call(this,[10,13],f.a38,"tools/pbucket");
this.Tb=!1};f.Tf.prototype=new f.Xi;f.Tf.prototype.enable=function(G,m,A,Q){var H=new j8(r.E.W,!0);H.data={d:r.S.Cv,Ry:"default"};
m.u(H)};f.Tf.prototype.a2=function(G,m){};f.Tf.prototype.gr=function(G,m,A,Q,H){this.Tb=!0};f.Tf.prototype.gE=function(G,m,A,Q,H,J){var b=this.Tb;
this.Tb=!1;if(!b||J)return;if(this.x2(Q,m,H))return;if(!G.fE())return;var O=G.t.fY(H.x,H.y),a=f.xs.Kz(G,O,this.EE.wconf,this.EE.sall,!0);
if(a==null)return;var e=N.$(a.rect.Z()*4);N.w8(e,(A.yu&255)<<16|(A.yu>>8&255)<<8|(A.yu>>16&255)<<0);
N.I5(a.channel,e,3);this.uZ(G);this.pe(G,"draw",e,a.rect,a.rect);this.F(G,a.rect);this.finish(G,a.rect)};
f.sS=function(){f.iK.call(this,[10,14],f.abL,"tools/plasso");this.EH="crosshair";this.f7=[];this.Z6=null;
this.wO=null;this.afD=0};f.sS.prototype=new f.iK;f.sS.prototype.disable=function(G,m,A,Q){this.Ha(G)};
f.sS.prototype.mC=function(G,m,A,Q){this.f7=[a5.lV,a5.m9]};f.sS.prototype.DV=function(G){return this.f7.indexOf(G)!=-1};
f.sS.prototype.Rn=function(G){return this.wO!=null};f.sS.prototype.Pp=function(){return this.wO!=null};
f.sS.prototype.I3=function(){return this.wO!=null};f.sS.prototype.Vz=function(G,m,A,Q){if(this.wO==null)return;
var H=this.wO,J=H.s,b=J.length-2,O=this.Y1;if(this.ru.A3(1)&&A.j(a5.Ei)&&Q.U_){J.push(0,0);H.C.push("L");
b+=2}else if(A.j(a5.K6))O=f.Rd.$H(new dw(J[b-2],J[b-1]),O);J[b]=O.x;J[b+1]=O.y;G.v.Gs=H;G.Iy=!0};f.sS.prototype.Jx=function(G,m,A,Q){var H=Date.now();
if(this.wO==null)this.wO={s:[this.Y1.x,this.Y1.y,this.Y1.x,this.Y1.y],C:["M","L"]};else{this.Vz(G,m,A,Q);
if(H-this.afD<250||dw.SH(this.Y1,new dw(this.wO.s[0],this.wO.s[1]))<f.L3(G,Q)){this.Z6=this.wO;this.finish(G,m,A,Q);
this.Ha(G);return}this.wO.C.push("L");this.wO.s.push(this.Y1.x,this.Y1.y)}this.afD=H;G.v.Gs=this.wO};
f.sS.prototype.Ha=function(G){this.wO=null;this.f7=[];if(G!=null){G.v.Gs=null;G.Iy=!0}};f.sS.prototype.KY=function(G,m,A,Q){f.iK.prototype.KY.call(this,G,m,A,Q);
if(Q.j(a5.OD)&&this.wO==null&&this.Z6&&G.q!=null){var H=new j8(r.E.w);H.b=f.c5;H.data={d:"h_stepbck"};
m.u(H);this.mC(G,A,Q,null);this.wO=this.Z6;return}if(this.wO==null)return;if(Q.j(a5.lV)||Q.j(a5.m9)){this.wO.s.pop();
this.wO.s.pop();this.wO.C.pop();this.Vz(G,A,Q)}if(Q.j(a5.pg)){if(this.wO.s.length>4){this.Z6=this.wO;
this.finish(G,A,Q)}this.wO=null}if(Q.j(a5.OD)){this.wO=null}G.v.Gs=this.wO;G.Iy=!0};f.sS.prototype.getSelection=function(G,m,A,Q){return f.iK.ka(this.wO.s,null,this.EE.anta)};
f.dZ=function(){f.iK.call(this,[10,10],f.a2g,"tools/mlasso");this.EH="crosshair";this.f7=[];this.Y=[];
this.Hy=[];this.K$=[];this.XL=null;this.PZ=null;this.Yf=null;this.no=0;this.wu=0};f.dZ.prototype=new f.iK;
f.dZ.prototype.disable=function(G,m,A,Q){this.clear(G)};f.dZ.prototype.Rn=function(G){return this.Y.length!=0};
f.dZ.prototype.I3=function(){return this.Y.length!=0};f.dZ.prototype.DV=function(G){return this.f7.indexOf(G)!=-1};
f.dZ.prototype.mC=function(G,m,A,Q){this.f7=[a5.lV,a5.m9];var H=this.gJ(this.Ij,G);if(this.Y.length!=0&&(dw.SH(H,this.Y[0])<f.L3(G,Q)||Date.now()-this.no<300)){this.DM(G,this.Y[0]);
this.finish(G,m,A);this.clear(G);return}this.no=Date.now();if(this.Y.length!=0)H=this.Gu(H,G);else{var J=G.e,b=G.n,O=N.$(J*b),a=G.$s(),e=J*b*4;
for(var $=0;$<e;$+=4)O[$>>>2]=~~(.5+N.vp(a[$],a[$+1],a[$+2])*(a[$+3]*(1/255)));this.XL=N.Hq.af9(O,J,b);
this.Yf=new Uint16Array(O.length)}this.DM(G,H);this.wu=A.j(a5.Ei)?1:0;this.Ta(G)};f.dZ.prototype.DM=function(G,m){var A=this.Y;
this.Hy[A.length]=this.K$.length;if(A.length!=0){N.Hq.rK(this.PZ,m.y*G.e+m.x);var Q=this.Cq(G,m);Q.reverse();
var H=f.dZ.$U(G,Q);this.K$=this.K$.concat(H)}A.push(m);this.ES(G)};f.dZ.prototype.ES=function(G){var m=this.Y[this.Y.length-1],A=m.y*G.e+m.x;
this.PZ=N.Hq.aj3(this.XL.uV,this.XL.Ku,A);this.Yf.fill(0)};f.dZ.prototype.gJ=function(G,m){return new dw(Math.floor(Math.max(0,Math.min(m.e-1,G.x))),Math.floor(Math.max(0,Math.min(m.n-1,G.y))))};
f.dZ.prototype.clear=function(G){this.K$=[];this.Y=[];this.Hy=[];this.XL=null;this.PZ=null;this.Yf=null;
if(G!=null){G.v.Gs=null;G.v.Wq=[];G.Iy=!0}this.f7=[]};f.dZ.prototype.Vz=function(G,m,A,Q){var H=this.Y,J=H.length;
if(J==0)return;var b=this.Gu(this.gJ(this.Y1,G),G),O=this.Cq(G,b);for(var $=0;$<O.length;$++){var a=O[$],e=new dw(a%G.e,Math.floor(a/G.e));
if(this.Yf[a]>30&&dw.SH(e,H[J-1])>20){this.DM(G,e);return}this.Yf[a]++}if(this.wu==1&&Q.U_)this.DM(G,b);
this.Ta(G)};f.dZ.prototype.Ta=function(G){var m=this.Y;if(m.length!=0){var A=this.Gu(this.gJ(this.Y1,G),G),Q=this.Cq(G,A);
Q.reverse();var H=f.dZ.$U(G,Q),J=this.K$.concat(H),b=G.v.Gs={s:J,C:["M"]};for(var $=2;$<J.length;$+=2)b.C.push("L")}G.v.Wq=[];
for(var $=0;$<m.length;$++)G.v.Wq.push(m[$].x+.5,m[$].y+.5);G.Iy=!0};f.dZ.prototype.Jx=function(G,m,A,Q){};
f.dZ.prototype.KY=function(G,m,A,Q){if(this.Y.length==0)return;if(Q.j(a5.lV)||Q.j(a5.m9)){this.Y.pop();
this.K$=this.K$.slice(0,this.Hy[this.Y.length]);this.Hy.pop();if(this.Y.length==0)this.clear(G);else this.ES(G);
this.Ta(G)}if(Q.j(a5.pg)){var H=this.gJ(this.Y1,G);this.DM(G,H);this.finish(G,A,Q);this.clear(G)}if(Q.j(a5.OD)){this.clear(G)}};
f.dZ.prototype.getSelection=function(G,m,A,Q){return f.iK.ka(this.K$,null,this.EE.anta)};f.dZ.prototype.Cq=function(G,m){var A=this.Y[this.Y.length-1],Q=A.y*G.e+A.x,H=m.y*G.e+m.x;
if(this.wu==1)return[H,Q];var J=[H];while(H!=Q){H=this.PZ.fu[H];J.push(H);if(J.length>5e3){console.log(J);
throw"e"}}return J};f.dZ.$U=function(G,m){var A=[],Q=G.e;for(var $=0;$<m.length;$++){var H=m[$];A.push(H%Q+.5,Math.floor(H/Q)+.5)}return A};
f.dZ.prototype.Gu=function(G,m){var A=m.e,Q=m.n,H=G.clone(),b=3;N.Hq.rK(this.PZ,G.y*A+G.x);var J=this.PZ.qk[G.y*A+G.x];
for(var O=-b+1;O<b;O++)for(var a=-b+1;a<b;a++){var e=G.x+a,R=G.y+O;if(e<0||e>=A||R<0||R>=Q)continue;
N.Hq.rK(this.PZ,R*A+e);if(this.PZ.qk[R*A+e]<J)H.QU(e,R)}return H};f.Ir=function(){f.rc.call(this,[10,36],f.RQ,"tools/ruler");
this.Q8=null;this.mA=null;this.YK=null;this.BT=null;this.WM=null};f.Ir.prototype=new f.rc;f.Ir.prototype.Rn=function(G){return G.U_};
f.Ir.prototype.enable=function(G,m,A,Q){f.rc.prototype.enable.call(this,G,m,Q,A);if(G)this.Ks(G)};f.Ir.prototype.disable=function(G,m,A,Q){if(G)this.Ha(G)};
f.Ir.prototype.Hk=function(G,m,A,Q,H){this.Q8=this.YK=null;this.Ks(A)};f.Ir.prototype.gr=function(G,m,A,Q,H){var J=f.L3(G,H),b=G.t.fY(H.x,H.y);
b.x=Math.round(b.x);b.y=Math.round(b.y);var O=this.Q8;this.mA=O?O.slice(0):null;var a=O&&dw.SH(b,O[0])<J,e=O&&dw.SH(b,O[1])<J,R=O&&O[2]&&dw.SH(b,O[2])<J;
if(a||e||R){if(Q.j(a5.Ei)&&O.length==2){if(e){var p=O[0];O[0]=O[1];O[1]=p}O[2]=O[0].clone();this.YK=[2]}else this.YK=[a?0:e?1:2]}else if(O&&f.Ir.aaj(O[0],O[1],b)<J&&Math.min(O[0].x,O[1].x)-5<=b.x&&b.x<=Math.max(O[0].x,O[1].x)+5&&Math.min(O[0].y,O[1].y)-5<=b.y&&b.y<=Math.max(O[0].y,O[1].y)+5){this.YK=[];
this.WM=[];for(var $=0;$<O.length;$++){this.YK.push($);this.WM.push(O[$].clone())}this.BT=b}else{this.Q8=[b.clone(),b.clone()];
this.YK=[1]}};f.Ir.prototype.Nr=function(G,m,A,Q,H){if(this.YK==null)return;var J=this.Q8,b=this.YK,O=G.t.fY(H.x,H.y);
O.x=Math.round(O.x);O.y=Math.round(O.y);if(b.length>1){var a=O.x-this.BT.x,e=O.y-this.BT.y;for(var $=0;
$<J.length;$++){J[$]=this.WM[$].clone();J[$].offset(a,e)}}else{J[b[0]].QU(O.x,O.y);if(Q.j(a5.K6)){J[b[0]]=f.Rd.$H(J[1-b[0]],J[b[0]])}}this.Ks(G);
this.lr(m,r.E.W,{d:r.S.mX,b:this.id,ak7:J[0],jY:J[1],w0:J[2],SV:G.SV,ame:G.e})};f.Ir.prototype.gE=function(G,m,A,Q,H,J){this.YK=null;
if(J){this.Q8=this.mA.slice(0);this.Ks(G)}};f.Ir.prototype.lr=function(G,m,A){var Q=new j8(m,!0);Q.data=A;
G.u(Q)};f.Ir.prototype.Ks=function(G){var m=this.Q8;if(m==null)this.Ha(G);else{var A=[m[1].x,m[1].y,m[0].x,m[0].y],Q=["M","L"];
if(m.length>2){A.push(m[2].x,m[2].y);Q.push("L")}G.v.Gs={C:Q,s:A};G.v.Wq=A}G.Iy=!0};f.Ir.prototype.Ha=function(G){G.v.Gs=null;
G.v.Wq=[]};f.Ir.aaj=function(G,m,A){var Q=m.x-G.x,H=m.y-G.y,J=Math.abs(H*A.x-Q*A.y+m.x*G.y-m.y*G.x),b=Math.sqrt(Q*Q+H*H);
return b==0?0:J/b};f.GR=function(){f.Xi.call(this,[10,19],f.KU,"tools/sharpen");this.Hn="copy"};f.GR.prototype=new f.Xi;
f.GR.prototype.gr=function(G,m,A,Q,H){var J=this.EE.pdetail?gj.$u:gj.KU;if(Q.j(a5.Ei))J=gj.Uw;this.qn(G,A,Q,H,this.EE.strn,J);
if(this.Eq==null)return;this.Qe(G)};f.GR.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.D7=function(){f.Xi.call(this,[10,24],f.UM,"tools/shbrush");
this.Hn="draw";this.EE.opacity=.5};f.D7.prototype=new f.Xi;f.D7.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,1);
if(this.Eq==null)return;this.Rq(G);this.Qe(G)};f.D7.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);
if(this.aV)this._U(G,A,H);if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.D7.prototype.gE=function(G,m,A,Q,H){if(this.Eq==null)return;
this.pe(G,"sheal",this.Eq.kg(),this.Eq.E8(),this.Eq.qb(),null);this.F(G,this.Eq.qb());f.Xi.prototype.gE.call(this,G,m,A,Q,H)};
f.FC=function(){f.Xi.call(this,[10,20],f.mV,"tools/smudge");this.Hn="copy"};f.FC.prototype=new f.Xi;
f.FC.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,this.EE.strn,gj.mV);if(this.Eq==null)return;this.Qe(G)};
f.FC.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);if(this.Eq==null)return;
if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.BW=function(){f.Xi.call(this,[10,23],f.Fj,"tools/sponge");
this.Hn="sponge"};f.BW.prototype=new f.Xi;f.BW.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,this.EE.flow);
if(this.Eq==null)return;this.Qe(G)};f.BW.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);if(this.aV)this._U(G,A,H);
if(this.Eq==null)return;if(!H.U_)return;this.tP(G,A,Q,H);this.Qe(G)};f.WH=function(){f.rc.call(this,[10,17],f._N,"tools/zoom");
this.G3=!1;this.it=!0;this.aS=0;this.jC=null;this.RP=null;this.DH=0;this.Fo=null;this.Rc=0;this.Wi=new fL([{name:[8,0],Hp:"Ctrl + +"},{name:[8,1],Hp:"Ctrl + -",l3:!0},{name:[20,3],Hp:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Hp:"Ctrl + 1"}],[{T:r.E.w,b:f._N,R:{d:"zoom",it:!0}},{T:r.E.w,b:f._N,R:{d:"zoom",it:!1}},{T:r.E.w,b:f._N,R:{d:"adapt",k:"fitscr"}},{T:r.E.w,b:f._N,R:{d:"adapt",k:"pixel"}}])};
f.WH.prototype=new f.rc;f.WH.prototype.K8=function(G,m,A,Q,H){var J=this.Wi;J._();J.parent=m;J.update(G,A);
var b=new j8(r.E.W,!0);b.data={d:r.S.mo,Nc:J,x:H.Gp+2,y:H.Yt+1};m.u(b)};f.WH.prototype.enable=function(G,m,A,Q){this.Mv(m,Q);
if(G&&Date.now()-this.aS<300)this.Hk({d:"adapt",k:"pixel"},m,G,Q,A);this.aS=Date.now()};f.WH.prototype.gr=function(G,m,A,Q,H){this.RP=new dw(H.x,H.y);
this.DH=G.t.V;this.Fo=G.t.r.clone()};f.WH.prototype.Nr=function(G,m,A,Q,H){if(this.RP==null)return;var J=Math.exp(Math.log(this.DH)+(H.x-this.RP.x)/64);
J=Math.max(.02,Math.min(f.WH.jn[0],J));G.t.V=this.DH;G.t.r=this.Fo.clone();this.Hk({d:"zoom",V:J,uj:this.RP},m,G,Q,A)};
f.WH.prototype.gE=function(G,m,A,Q,H){if(dw.SH(this.RP,H)<4){var J=this.yr(Q);this.Hk({d:"zoom",it:J,uj:H},m,G,Q,A)}this.RP=null};
f.WH.jn=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
f.WH.nq=function(G,m,A,Q){var H=1;while(G*H*1/2>A||m*H*1/2>Q)H*=1/2;if(G*H*2/3>A||m*H*2/3>Q)H*=1/2;else if(G*H>A||m*H>Q)H*=2/3;
return H};f.WH.go=function(G,m){var A=f.WH.a04(G);if(m&&A==0)return G;if(!m&&A==f.WH.jn.length-1)return G;
return f.WH.jn[m?A-1:A+1]};f.WH.a04=function(G){var m=0;while(f.WH.jn[m]>G)m++;return m};f.WH.tx=function(G,m,A,Q){var H=G.EY;
if(Q==0||Q==null){Q=f.WH.go(G.V,A);if(Q==G.V)return}var J=G.fY(m.x,m.y);if(H.e*Q<=G.Td.e&&H.n*Q<=G.Td.n){G.r.QU(0,0);
G.V=Q}else{var b=G.AQ(),O=G.V/Q;b.translate(-J.x,-J.y);b.scale(O,O);b.translate(J.x,J.y);G.aaY(b)}};
f.WH.prototype.Hk=function(G,m,A,Q,H){if(G.d=="pzoom"){if(typeof G.k=="string")return;G={d:"zoom",V:G.k/100}}var J=0,b=!1,O=null;
if(G.d=="adapt"){var a=0;if(G.k=="pixel")a=1;if(G.k=="fitscr"){var a=0,e=A.t.Td.e,R=A.t.Td.n,p=H.nj?N.Kj.PV+4:8;
a=Math.min((e-p*2)/A.e,(R-p*2)/A.n)}O=new dw(Math.round(A.t.Td.e/2),Math.round(A.t.Td.n/2));J=a;f.WH.tx(A.t,O,b,J);
A.AB=!0}if(G.d.startsWith("multi")){function P(L){var E=L[0].x-L[1].x,l=L[0].y-L[1].y;return Math.sqrt(E*E+l*l)}function z(L){return new dw((L[0].x+L[1].x)/2,(L[0].y+L[1].y)/2)}var Z=G.vs,W=z(Z);
if(G.d=="multidown"){this.jC=[Z,A.t.V,A.t.fY(W.x,W.y)]}else{var T=f.WH.jn;J=this.jC[1]*P(Z)/P(this.jC[0]);
J=Math.max(T[T.length-1],Math.min(T[0],J));if(J!=A.t.V)f.WH.tx(A.t,W,b,J);var i=this.jC[2],X=A.t.cD(i.x,i.y),U=A.t.r;
U.x=Math.round(U.x+W.x-X.x);U.y=Math.round(U.y+W.y-X.y);A.AB=!0}}if(G.d=="scroll"){O=G.uj;this.Rc+=G.Q1.y;
var M=14;if(this.Rc<-M){b=!0;this.Rc=Math.max(this.Rc+M,-(M-1))}else if(this.Rc>M){b=!1;this.Rc=Math.min(this.Rc-M,M-1)}else return;
f.WH.tx(A.t,O,b,J);A.AB=!0}if(G.d=="zoom"){O=G.uj?G.uj:new dw(Math.round(A.t.Td.e/2),Math.round(A.t.Td.n/2));
if(G.V!=null)J=G.V;else b=G.it;f.WH.tx(A.t,O,b,J);A.AB=!0}if(G.d=="mskView"){var C=A.g[A.c[0]];if(C.Sm<=0){C.Sm=1;
A.bV=!0}var x=C.Sm==3?C.mv(A).D:C.fm();if(G.k==0){A.t._T=[1,1,1];x.wV=!1}if(G.k==1){A.t._T=[1,1,1];x.wV=!0}if(G.k==2){A.t._T=[0,0,0];
x.wV=!0}for(var $=0;$<A.Hv.length;$++)A.Hv[$].wV=!1;A.UX=[];A.Iy=!0}};f.WH.prototype.KY=function(G,m,A,Q){if(this.G3!=Q.j(a5.Ei)){this.G3=Q.j(a5.Ei);
var H={d:r.S.mX,b:this.id,G3:this.G3},J=new j8(r.E.W,!0);J.data=H;m.u(J);this.Mv(m,Q)}};f.WH.prototype.Mv=function(G,m){var A=new j8(r.E.W,!0),Q=this.yr(m);
A.data={d:r.S.Cv,Ry:Q?"zoom-in":"zoom-out"};G.u(A)};f.WH.prototype.tZ=function(G,m,A,Q){this.it=G.it;
this.Mv(m,Q)};f.WH.prototype.yr=function(G){var m=this.it;if(G.j(a5.WN)&&G.j(a5.KF))m=!0;if(this.G3)m=!m;
return m};f.WH.qx=function(G,m){if(G.j(a5.Da)||G.j(a5.am7)){m.b=f._N;m.data={d:"zoom",it:!0}}if(G.j(a5.OS)){m.b=f._N;
m.data={d:"zoom",it:!1}}if(G.j(a5.d3)){m.b=f._N;m.data={d:"adapt",k:"fitscr"}}if(G.j(a5.kX)){m.b=f._N;
m.data={d:"adapt",k:"pixel"}}};f.Oz=function(G,m,A){f.rc.call(this,G,m,A);this.c3=null;this.dj=null;
this.V_=null;this.a9p=0};f.Oz.prototype=new f.rc;f.Oz.prototype.enable=function(G,m,A,Q,H){this.dj=A;
var J=new j8(r.E.W,!0);J.data={d:r.S.Cv,Ry:"default"};m.u(J)};f.Oz.prototype.K8=function(G,m,A,Q,H){var J=G.S9(),b=J[0],O=J[1];
if(O.length==0)return;var a=b[O[0]],e=a.add.vmsk,R=G.t.fY(H.x,H.y),p=4*f.G()/G.t.V,P=new f_(R.x-p,R.y-p,p*2,p*2),z=N.U.$Y(e.Y,P)[0];
if(z.length!=0){e.PC=z;G.Iy=!0}var Z=N.U.yq(e.Y,R).lW;if(Z!=-1){e.c=[Z];G.Iy=!0}var W=new j8(r.E.W,!0);
W.data={d:r.S.mX,b:this.id,f5:H,z0:G,Wc:A};m.u(W)};f.Oz.prototype.XB=function(G,m){var A=new j8(r.E.W,!0);
A.data={d:r.S.$g,WF:dG.GL};if(!m.cY)G.u(A);A.data={d:r.S.$g,WF:dG.Ig};if(!m.bt.Sq)G.u(A)};f.Oz.prototype.tT=function(G,m,A,Q){if(A.Iu!=this.id)return;
if(G.c.length==0)return;var H=G.g[G.c[0]],J=H.add.vmsk,b=H.add.vstk,O=f.Oz.O1(G,G.c[0]);this.c3=G;this.V_=m;
if(H.gX()&&J!=null&&(JSON.stringify(b)!=JSON.stringify(A.iV)||JSON.stringify(O)!=JSON.stringify(A.eE))){this.a9p=Date.now();
var a=new j8(r.E.W,!0);a.data={d:r.S.$g,WF:dG.$A,k:O};m.u(a);a.data={d:r.S.$g,WF:dG.wv,k:b};m.u(a)}};
f.Oz.prototype.a2=function(G,m){if(this.c3==null)return;if(m==dG.ud||m==dG.$A||m==dG.wv){if(Date.now()-this.a9p<50)return;
var A=m==dG.$A,Q=this.c3,H=A?G.eE:G.iV,J=[],b=Q.c;for(var $=0;$<b.length;$++){var O=b[$],a=Q.g[O];if(!a.gX()||a.add.vmsk==null)continue;
J.push(O)}var e=new j8(r.E.w,!0);e.b=f.p4;e.data={d:c.gI,Dt:J,Yr:A,k:H};if(J.length!=0)this.V_.u(e)}};
f.Oz.prototype.a5G=function(G){if(typeof G=="number"){var m=new j8(r.E.NH,!0);m.data=f.$V.H2(0);m.data.aL.Usng.v.Type.v.Clr.v=N.X.N4({p:G>>>16&255,z:G>>>8&255,h:G>>>0&255});
this.V_.u(m)}};f.Oz.prototype.Hk=function(G,m,A,Q,H){this.V_=m;if(G.d=="newfill"){if(G.O7==0){var J=new j8(r.E.W,!0);
J.data={d:r.S.XG,Ue:"colorpicker",zG:H.yu,b5:this.a5G.bind(this)};m.u(J)}}else if(G.d=="pathedit"){var b=G.Nm,O="",a=A.Sq.slice(0),e=A.rY.slice(0),R=A.Sq.slice(0),p=A.rY.slice(0);
if(b=="rnm"){var P=-1-G.lW,z=a[P],Z=fy.y0(G.name,z.add);if(P!=0)R[P]=Z;else{p=[R.length];R.push(Z);R[0]=fy.y0("Work Path")}O="Rename"}else if(b=="new"){var Z=fy.y0("Path "+a.length);
if(G.apu){var W=A.S9(),T=W[0],i=W[1],X=T[i[0]];Z.add.vmsk=X.add.vmsk.clone();Z.add.vogk=JSON.parse(JSON.stringify(X.add.vogk));
if(X.lW==-1){var U=R[p[0]]=fy.y0("Path "+a.length);U.name=X.name;U.lW=X.lW}}R.push(Z);p=[R.length-1];
O="New"}else if(b=="del"){if(p.length==0)return;p.sort(function(w,v){return w-v});if(p[0]==0){R[0]=fy.y0(a[0].name);
p=p.slice(1)}var M=0;while(p.length!=0){R.splice(p[0]-M,1);p=p.slice(1);M++}O="Delete"}else if(b=="fromsel"){var C=R[0]=fy.y0("Work Path");
p=[0];if(A.q==null)return;var x=A.q.channel.slice(0);for(var $=0;$<x.length;$++)x[$]=x[$]>128?2:1;var L=A.q.rect.clone();
L.e0(1,1);var E=N.$(L.Z());N.qg(x,A.q.rect,E,L);var l=fb.RN(E,L.e,L.n,Math.round(L.Z()*5e-4)),T=fb.S9(l),y=new ci(1,0,0,1,-1+A.q.rect.x,-1+A.q.rect.y);
for(var $=0;$<T.length;$++)N.H.A(T[$].path.s,y,T[$].path.s);for(var $=0;$<T.length;$++){var Y=T[$];if(Y.color==1&&Y.parent==-1)continue;
var F=N.H.ev(T[$].path,!1);C.add.vmsk.Y=C.add.vmsk.Y.concat(F.slice(2))}C.add.vogk=c.ON(C.add.vmsk.Y);
O="Selection to"}var w=new i3(O+" Path",this);w.data={mA:a,uq:e,a78:R,JQ:p};if(b=="fromsel"){w.data.wX=A.q;
w.data.xe=null}A.jm(w);this.S6(w.data,A)}else{var j=G.om,W=A.S9(G.d=="append"),T=W[0],i=W[1],C=T[i[0]],_=C.add.vmsk,D=C.add.vogk,t=_.clone(),K=_.clone(),o=JSON.stringify(D);
if(G.d=="remove"){if(G.ML&&K.PC.length!=0){K.Y=N.U.apJ(K.Y,K.PC,D);var k=N.U.Ya(K.Y);for(var $=0;$<K.c.length;
$++)if(K.c[$]>=k){K.c.splice($,1);$--}K.PC=[];j="Delete Anchors"}else{if(K.c.length==0)return;var M=0;
for(var $=0;$<K.c.length;$++){D.splice(K.c[$]+M,1);M--}K.Y=N.U.ago(K.Y,K.c);K.c=[];K.PC=[];if(j==null)j="Delete Paths"}}if(G.d=="append"){f.Oz.Iq(G.aqe,K,D)}this.eD(A,C.lW,K,D);
this.GK(A,j,C.lW,t,K.clone(),null,o,JSON.stringify(D))}};f.Oz.rh=function(G,m){var A=N.U.ahP(G.Y,G.c),Q=[];
for(var $=0;$<G.c.length;$++)Q.push(JSON.parse(JSON.stringify(m[G.c[$]])));return[A,Q]};f.Oz.Iq=function(G,m,A){var Q=N.U.Ya(m.Y),H=N.U.Ya(G[0]);
m.Y=m.Y.concat(G[0].slice(2));m.c=[];for(var $=0;$<H;$++)m.c.push(Q+$);for(var $=0;$<H;$++)A.push(JSON.parse(JSON.stringify(G[1][$])))};
f.Oz.prototype.DV=function(G,m){if(m==null)return!1;var A=m.S9(),Q=A[0],H=A[1];if(H.length==0)return!1;
var J=Q[H[0]],b=J.add.vmsk;if(b&&b.c.length+b.PC.length!=0)return[a5.lV,a5.m9].indexOf(G)!=-1};f.Oz.prototype.KY=function(G,m,A,Q){if(G==null)return;
var H=G.S9(),J=H[0],b=H[1];if(b.length==0)return;var O=J[b[0]],a=O.add.vmsk;if(Q.j(a5.OD)||Q.j(a5.pg)){a.PC=[];
G.Iy=!0}if(a.c.length!=0){var e=Q.Ui();if(e.x!=0||e.y!=0){var R=a.clone(),p=a.clone(),P=new ci(1,0,0,1,e.x,e.y),z=O.add.vogk,Z=JSON.stringify(z);
N.U.T6(p.Y,P,p.c);N.Nv.A(z,N.N.i4(P),p.c);this.eD(G,O.lW,p,z);this.GK(G,"Move Paths",O.lW,R,p.clone(),!0,Z,JSON.stringify(z))}if(Q.j(a5.lV)||Q.j(a5.m9))this.Hk({d:"remove",ML:this.id==f.SX},m,G,Q,A)}};
f.Oz.prototype.GK=function(G,m,A,Q,H,J,b,O){var a=new i3(m,this);a.data={Mw:A,u8:Q,CF:H,ag2:J,ah2:b,lk:O};
G.jm(a)};f.Oz.prototype.S6=function(G,m){if(G.Mw!=null)this.eD(m,G.Mw,G.CF.clone(),JSON.parse(G.lk));
else{m.Sq=G.a78.slice(0);m.rY=G.JQ.slice(0);m.Iy=m.bV=!0}if(G.wX||G.xe){m.q=G.xe;m.W0=!0}};f.Oz.prototype.Ah=function(G,m){if(G.Mw!=null)this.eD(m,G.Mw,G.u8.clone(),JSON.parse(G.ah2));
else{m.Sq=G.mA.slice(0);m.rY=G.uq.slice(0);m.Iy=m.bV=!0}if(G.wX||G.xe){m.q=G.wX;m.W0=!0}};f.Oz.prototype.eD=function(G,m,A,Q){var H=m<0?G.Sq[-1-m]:m<1e6?G.g[m]:G.g[m-1e6].add.TySh,J=H.add.vmsk;
J.channel=null;J.k9=!0;if(J.Vp){J.Vp.channel=null;J.Vp.k9=!0}H.add.vmsk=A;H.add.vogk=Q;if(1e6<=m){fC._e(H);
var b=G.g[m-1e6],O=H,a=this.dj,e=new dq(O.DQ,a.O8),R=g5.nT(e,O);b.rect=R.PR;b.buffer=R.uw;b.F();G.F()}else if(0<=m){A.k9=!0;
H.hM(G);G.F()}G.Iy=G.bV=!0};f.Oz.O1=function(G,m){var A=G.g[m],Q=A.add.vstk,H=null;if(Q&&!Q.fillEnabled.v)H={D2:0};
else if(A.add.SoCo)H={D2:1,GF:A.add.SoCo};else if(A.add.GdFl)H={D2:2,GF:A.add.GdFl};else if(A.add.PtFl)H={D2:3,GF:A.add.PtFl};
return H};f.Oz.jp=function(G,m){var A=G.add.vmsk,Q=G.add.vstk,H=m.D2;if(Q)Q.fillEnabled.v=H!=0;if(H>0){var J=["SoCo","GdFl","PtFl"][H-1];
for(var $=0;$<3;$++)delete G.add[["SoCo","GdFl","PtFl"][$]];G.add[J]=m.GF}};f.$V=function(G,m,A,Q){f.Oz.call(this,G,m,A);
this.EE={shape:g7.wZ(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{sH:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a6g=Q;this.v$=null;this.Bb=null;this.rC=null;this.ru=new jb};f.$V.prototype=new f.Oz;f.$V.prototype.Rn=function(G){return G.U_&&this.id!=f.jB};
f.$V.prototype.enable=function(G,m,A,Q,H){this.dj=A;var J=new j8(r.E.W,!0);J.data={d:r.S.Cv,Ry:"crosshair"};
m.u(J)};f.$V.prototype.KY=function(G,m,A,Q){f.Oz.prototype.KY.call(this,G,m,A,Q);this.ru.KY(Q);this.zm(m,A)};
f.$V.prototype.zm=function(G,m){var A=new j8(r.E.W,!0);A.data={d:r.S.mX,b:this.id,uD:this.Jz(m)};G.u(A)};
f.$V.prototype.Jz=function(G){var m=this.ru.$$(0),A=this.ru.A3(0),Q=f.iK.Kn(this.EE.binop,m,A);if(G.SK==1&&Q==0)Q=1;
return Q};f.$V.prototype.FG=function(G,m,A,Q){};f.$V.prototype.gr=function(G,m,A,Q,H){var J=A.SK;if(J!=2)this.XB(m,A);
if(J==2&&!G.fE())return;var b=G.t.fY(H.x,H.y);b=f.oj.Cj(G,b,A);this.rC=[b.x,b.y];this.v$=b;this.Bb=new dw(0,0);
this.ru.gr(Q)};f.$V.prototype.C5=function(G,m,A){var Q=[this.v$.clone(),m.clone()];A=this.ru.$$(1)||this.ru.A3(1)?A:null;
if(this.a6g)Q=f.$V.E5(Q[0],Q[1],A,!0,this.EE.cstr);if(G)G.t.L2=new f_(Q[0].x,Q[0].y,Q[1].x-Q[0].x,Q[1].y-Q[0].y);
return this.FG(Q[0],Q[1],this.ru.$$(1)&&A.j(a5.K6),this.rC)};f.$V.prototype.l7=function(G,m,A){var Q=G.t.fY(m.x,m.y),H=this.EE.cstr;
if(H.sH==2){var J=new f_(Q.x-H.x,Q.y-H.y,H.x,H.y),b=f.oj.cM(G,J,A);Q.x+=b[0];Q.y+=b[1];f.oj.Sr(G,J,b)}else Q=f.oj.Cj(G,Q,A);
return Q};f.$V.prototype.Nr=function(G,m,A,Q,H){if(this.v$==null)return;var J=this.rC,b=J.length,O=H?this.l7(G,H,A):new dw(J[b-2],J[b-1]);
if(Q.j(a5.WN))this.v$=O.AV(this.Bb);else this.Bb=O.AV(this.v$);J.push(O.x,O.y);if(this.EE.shape==null)this.EE.shape=A.S4[0];
var a=this.C5(G,O,Q)[0],e=N.H.Zv(a);G.v.Gs=e;if(this.id!=f.jB&&this.id!=f._4&&this.id!=f.W$)f.rc.ez(H,G.t.L2,G,A);
G.Iy=!0;this.ru.Nr()};f.$V.prototype.ag8=function(G,m,A,Q){var H=G[4].clone();if(Q){H.x-=m/2;H.y-=A/2}var J=this.FG(H,new dw(H.x+m,H.y+A),!1,this.rC);
this.bd(G[0],G[1],G[2],J)};f.$V.prototype.bd=function(G,m,A,Q){var H=new j8(r.E.NH,!0);H.data=f.$V.DA(Q[1],A);
m.u(H);if(Q[1].v.classID=="customShape"&&Q[1].v.Nm.v.startsWith("--")){var J=G.S9(),b=J[0],O=J[1],a=b[O.pop()],e=a.add.vmsk,R=a.add.vogk,p=e.clone();
p.Y=Q[0];this.eD(G,a.lW,p,R)}};f.$V.prototype.gE=function(G,m,A,Q,H,J){if(this.v$==null)return;var b=this.l7(G,H,A),O=this.Jz(A),a=A.SK,e=this.rC,R=e.length;
if(this.id==f.jB&&R<=4){}else if(R<=4){b.x=Math.round(b.x);b.y=Math.round(b.y);var p=new j8(r.E.W);p.data={d:r.S.XG,Ue:"createshape",acz:this.ag8.bind(this),amr:this.name,amM:[G,m,A,Q,b]};
if(!J)m.u(p)}else if(R!=2){var P=this.C5(G,b,Q),z=P[0],Z=G.S9(!0),W=Z[0],T=Z[1],i=T.length-1;if(a==1&&z.length>2||a==0&&O!=0&&i!=-1&&W[T[i]].lW>=0){z[2]._t=[1,2,3,0][O-1];
var X=W[T.pop()],U=X.add.vmsk,M=X.add.vogk,C=U.clone(),x=U.clone(),L=JSON.stringify(M);x.Y=x.Y.concat(z.slice(2));
x.c=[N.U.Ya(x.Y)-1];var E=N.Nv.lI(P[1]);M.push(E?E:N.Nv.Pn());this.eD(G,X.lW,x,M);this.GK(G,this.name,X.lW,C,x,null,L,JSON.stringify(M))}else if(a==0){this.bd(G,m,A,P)}else if(a==2){var x=new c.Rl;
x.Y=x.Y.concat(z.slice(2));var l=x.fm();if(!this.EE.anta)N.round(l.channel);var y=N.$(l.rect.Z()*4);
N.w8(y,(A.yu&255)<<16|(A.yu>>8&255)<<8|(A.yu>>16&255)<<0);N.I5(l.channel,y,3);var Y=new j8(r.E.w,!0);
Y.b=f.sV;Y.data={d:"draw",UU:{buffer:y,rect:l.rect.clone()},om:this.name};m.u(Y)}}this.v$=null;G.v.Gs=null;
G.v.gY=null;G.v.Lb=[];G.t.L2=null;G.Iy=!0;this.ru.gE();this.zm(m,A)};f.$V.prototype.tZ=function(G,m,A,Q,H){for(var A in G)this.EE[A]=G[A]};
f.$V.E5=function(G,m,A,Q,H){var J=G.x,b=G.y,O=m.x,a=m.y;if(H&&H.sH==2){if(Q){O=Math.round(O);a=Math.round(a)}J=O-H.x;
b=a-H.y}else{var e=0;if(H&&H.sH==1)e=H.y/H.x;else if(A&&A.j(a5.K6))e=1;if(e!=0){if(Q){if(J<O)J=Math.floor(J);
else J=Math.ceil(J);if(b<a)b=Math.floor(b);else b=Math.ceil(b)}var R=Math.abs(O-J),p=Math.abs(a-b),P=R;
if(p/R<e)P*=p/R/e;O=O>J?J+P:J-P;a=a>b?b+P*e:b-P*e}if(A&&A.j(a5.Ei)){J-=O-J;b-=a-b}}var G=new dw(J,b),m=new dw(O,a);
if(Q)f.$V.akR(G,m);return[G,m]};f.$V.akR=function(G,m){if(G.x>m.x){var A=G.x;G.x=m.x;m.x=A}if(G.y>m.y){var A=G.y;
G.y=m.y;m.y=A}G.x=Math.floor(G.x);G.y=Math.floor(G.y);m.x=Math.ceil(m.x);m.y=Math.ceil(m.y)};f.$V.a0p=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
f.$V.H2=function(G,m){var A=f.$V.a0p();if(m==null)m=JSON.parse(JSON.stringify(hK.XE[G]));f._9.S5(m,A.Usng.v.Type.v,G);
return{YI:"make",aL:A}};f.$V.DA=function(G,m){var A=m.eE,Q=JSON.parse(JSON.stringify(m.iV));if(A.D2==0)Q.fillEnabled.v=!1;
var H=f.$V.H2(Math.max(0,A.D2-1),A.GF);H.aL.Usng.v.Shp=G;H.aL.Usng.v.strokeStyle={t:"Objc",v:Q};return H};
f.YN=function(){f.Oz.call(this,[10,29],f.SX,"tools/pen");this.Yp=null;this.Cp=null;this.FE=null;this.a1$=0;
this.RJ=null;this.FP=!1;this._E=!1;this.j5=!1;this.nv=!1};f.YN.prototype=new f.Oz;f.YN.prototype.Rn=function(G){return this.Cp!=null};
f.YN.prototype.KY=function(G,m,A,Q){f.Oz.prototype.KY.call(this,G,m,A,Q);if(!Q.j(a5.Ei))this.j5=!1};
f.YN.prototype.gr=function(G,m,A,Q,H){this.Yp=H;this.XB(m,A);var J=G.t.fY(H.x,H.y),W,T;J.x=Math.round(J.x);
J.y=Math.round(J.y);var b=f.oj.Cj(G,J,A),O=A.SK,a=this.a1$;if(O==2)O=0;var e=G.S9(O==1),R=e[0],p=e[1],P=R[p.pop()],z=P?P.add.vmsk:null;
if(O==0&&a!=0&&P&&P.lW>=0)O=1;var Z=f.L3(G,H);if(z)W=N.U.yq(z.Y,J,!0,Z);var i=Q.j(a5.Ei);if(O==0&&(z==null||z.PC.length==0&&W.lW==-1)){var X=new j8(r.E.NH,!0),U=N.Nv.rk("customShape",[0,0,1,1],null,null,null,"--");
X.data=f.$V.DA(U,A);m.u(X);this.nv=!0;e=G.S9(!0);R=e[0];p=e[1];P=R[p.pop()];z=P.add.vmsk;z.Y=z.Y.slice(0,2)}var M=P.add.vogk;
this.Cp=z.clone();this.FE=JSON.stringify(M);var C=z.Y,x=N.U.Ya(C);T=N.U.$Y(z.Y,new f_(J.x-Z,J.y-Z,Z*2,Z*2),z.PC);
W=N.U.yq(z.Y,J,!0,Z);var L=T[0].length+T[1].length+T[2].length;if(W.lW!=-1&&T[0].length==0){var E=N.U.sM(C,W.lW);
while(C[E].length<=W.IE){W.IE-=C[E].length;E+=C[E].length+1}C[E].length++;C.splice(E+2+W.IE,0,{type:4,ed:b.clone(),M:b.clone(),Gd:b.clone()});
z.PC=[E+2+W.IE]}else if(L!=0&&i){var l=0;for(var $=0;$<3;$++)if(T[$].length!=0){l=T[$][0];this._E=$==1;
break}if(T[0].length!=0){var y=z.Y.length-1,Y=z.Y[l];Y.Gd=Y.M.clone();var F=Y.type>=3?3:0;if(l!=y){Y.ed=Y.M.clone();
Y.type=F+1;this.j5=!0}else Y.type=F+2}z.PC=[l]}else if(T[0].length==1&&C[T[0][0]-1]&&C[T[0][0]-1]._t==null){var l=T[0][0],E=N.U.ND(C,l);
E=N.U.sM(C,E);var w=E+C[E].length;if(l!=w){C[E].length--;C.splice(l,1);w--}z.PC=[w]}else{var j=0;if(z.PC.length!=1){z.c=[x];
C.push({type:3,length:1,_t:[1,2,3,0][Math.max(0,a-1)],Jk:0,Yh:0,Xl:0});j=C.length;M.push(N.Nv.Pn())}else{var _=z.PC[0],D=N.U.ND(C,_),E=N.U.sM(C,D);
_=E+C[E].length;if(dw.SH(J,C[E+1].M)<Z){C[E].type=0;z.PC=[E+1];this.RJ=b;this.FP=!0;this.eD(G,P.lW,z,M);
G.Iy=!0;return}C[E].length++;j=_+1;if(_==E+1&&C[E].length!=2)j=E+1}if(Q.j(a5.K6)&&C[j-1]&&C[j-1].M)b=f.Rd.$H(C[j-1].M,b);
C.splice(j,0,{type:4,ed:b.clone(),M:b.clone(),Gd:b.clone()});z.PC=[j];this.RJ=b}this.eD(G,P.lW,z,M);
G.Iy=!0};f.YN.prototype.Nr=function(G,m,A,Q,H){if(this.Cp==null)return;var J=this.Yp;if(J&&dw.SH(J,H)<f.L3({t:{V:1}},H))return;
this.Yp=null;var b=G.t.fY(H.x,H.y),O=f.oj.Cj(G,b,A),a=G.S9(A.SK==1),e=a[0],R=a[1],p=e[R.pop()],P=p.add.vmsk,z=P.Y,Z=z[P.PC[0]];
if(Q.j(a5.WN)){if(Q.j(a5.K6))O=f.Rd.$H(this.RJ,O);var W=Z.M.AV(Z.Gd),T=Z.ed.AV(Z.M);Z.Gd=O;Z.M=O.add(W);
Z.ed=Z.M.add(T)}else{if(Q.j(a5.K6))O=f.Rd.$H(Z.M,O);if(this._E){var i=Z.ed;Z.ed=Z.Gd;Z.Gd=i}if(this.FP){var X=dw.SH(Z.M,O),U=X==0?0:dw.SH(Z.M,Z.Gd)/X;
Z.Gd.x=Z.M.x+U*(O.x-Z.M.x);Z.Gd.y=Z.M.y+U*(O.y-Z.M.y)}else Z.Gd=O;if(Q.j(a5.Ei)&&!this.j5)Z.type=5;else{Z.type=4;
Z.ed=Z.M.add(Z.M.AV(O))}this.RJ=O;if(this._E){var i=Z.ed;Z.ed=Z.Gd;Z.Gd=i}}this.eD(G,p.lW,P,p.add.vogk);
G.Iy=!0};f.YN.prototype.gE=function(G,m,A,Q,H){if(this.Cp==null)return;var J=G.S9(A.SK==1),b=J[0],O=J[1],a=b[O.pop()],e=a.add.vmsk,R=a.add.vogk;
if(this.FP){e.PC=[];this.eD(G,a.lW,e,a.add.vogk)}var p=this.Cp.Y.length,P=e.Y.length;if(!this.nv)this.GK(G,this.FP?"Close Path":(p==P?"Move":p<P?"Add":"Delete")+" Anchor Point",a.lW,this.Cp,e.clone(),null,this.FE,JSON.stringify(R));
this.nv=!1;this.FP=!1;this._E=!1;this.j5=!1;this.Cp=null};f.YN.prototype.tZ=function(G,m,A,Q,H){this.a1$=G.binop};
f.wP=function(){f.$V.call(this,[10,30],f.jB,"tools/fpen",!1)};f.wP.prototype=new f.$V;f.wP.prototype.FG=function(G,m,A,Q){return[N.U.ap(Q,this.EE.tolr),N.Nv.rk("customShape",[0,0,1,1],null,null,null,"--")]};
f.ba=function(){f.Oz.call(this,[10,27],f.Z3,"tools/pselect");this.cS=null;this.c6=!1;this.wO=null;this.Cp=null;
this.uE=null;this.FE=null;this.wg=null;this.VD=null;this.cd=null;this.l$=null};f.ba.prototype=new f.Oz;
f.ba.prototype.Rn=function(G){return G.U_};f.ba.prototype.gr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=G.S9(),O=b[0],a=b[1],e,R;
for(var $=0;$<a.length;$++){var p=O[a[$]],P=p.add.vmsk,z=N.U.yq(P.Y,J).lW;if(z!=-1){this.wO=e=p;R=z}for(var Z=0;
Z<P.Q8.length;Z++){var W=N.U.TD(P.Y,P.Q8[Z]);if(W==null)continue;var T=dw.SH(W,J);if(T<4*f.G()/G.t.V){var i=G.g[p.lW-1e6].add.TySh,X=i.DQ.Curve,U=i.A,M=X.Reversed;
X.Reversed=!1;var X=dq.J1(i.DQ.Curve);X.Reversed=M;N.H.A(X[0],U,X[0]);this.cd=[X,Z,U.Uj*U.nd-U.h*U.Qv];
this.wO=e=p;R=0}}if(this.cd)break}if(e!=null){var P=e.add.vmsk;P.PC=[];var C=P.c.indexOf(R);if(Q.j(a5.K6)){if(C==-1){P.c.push(R);
this.c6=!0}else P.c.splice(C,1)}else{if(C==-1)P.c=[R];this.c6=!0}this.VD=N.U.jX(P.Y,P.c)}this.cS=J;this.l$=new ik(J);
G.bV=!0;G.Iy=!0};f.ba.prototype.Nr=function(G,m,A,Q,H){if(this.cS==null)return;var J=G.t.fY(H.x,H.y);
if(this.c6){J=this.l$.O4(J,Q);var b=this.wO;if(this.Cp==null){this.Cp=this.uE=b.add.vmsk.clone();this.FE=this.wg=JSON.stringify(b.add.vogk);
if(Q.j(a5.Ei)){var O=this.Cp.clone(),a=JSON.parse(this.FE),e=f.Oz.rh(O,a);f.Oz.Iq(e,O,a);this.uE=O;this.wg=JSON.stringify(a)}}var O=this.uE.clone(),a=JSON.parse(this.wg);
if(this.cd){var R=this.cd,p=R[0][0],P=N.H.Mn(p,J.x,J.y);O.Q8[R[1]]=R[0][1][P];var z=p[P*2],Z=p[P*2+1],W=(p[P*2+2]-z)*(J.y-Z)-(p[P*2+3]-Z)*(J.x-z);
if(R[2]<0)W=-W;O.hu=W>0}else{var T=this.VD.clone(),i=T.x,X=T.y;T.offset(J.x-this.cS.x,J.y-this.cS.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var U=f.oj.cM(G,T,A),M=new ci(1,0,0,1,T.x-i+U[0],T.y-X+U[1]);
N.U.T6(O.Y,M,O.c);N.Nv.A(a,N.N.i4(M),O.c);f.oj.Sr(G,T,U)}this.eD(G,b.lW,O,a)}else{var C=this.cS;G.v.Gs=N.H.Zt(new f_(C.x,C.y,J.x-C.x,J.y-C.y));
G.Iy=!0}};f.ba.prototype.gE=function(G,m,A,Q,H){if(this.cS==null)return;var J=G.t.fY(H.x,H.y),b=this.wO,O=b?b.add.vmsk:null;
if(this.c6){var a=JSON.stringify(b.add.vogk);if(!this.cS.A5(J))this.GK(G,"Move Paths",b.lW,this.Cp,O,null,this.FE,a);
if(G!=null&&G.v.gY){G.v.gY=null;G.Iy=!0}}else{if(O){var e=this.cS,R=new f_(e.x,e.y,J.x-e.x,J.y-e.y),p=N.U.akI(O.Y,R);
if(Q.j(a5.K6)){for(var $=0;$<p.length;$++)if(O.c.indexOf(p[$])==-1)O.c.push(p[$])}else O.c=p}G.v.Gs=null;
G.Iy=!0}this.cS=null;this.Cp=null;this.cd=null;this.c6=!1;this.l$=null};f.ba.prototype.tT=function(G,m,A,Q){f.Oz.prototype.tT.call(this,G,m,A,Q);
if(A.Iu!=this.id)return;if(G.c.length==0)return;var H=G.S9(),J=H[0],b=H[1];if(b.length==0)return;var O=J[b[0]],a=O.add.vmsk,e=O.add.vstk,R=O.add.vogk,p=new j8(r.E.W,!0);
p.data={d:r.S.mX,b:this.id,IK:"main",Yu:a?a:null,Nv:R};m.u(p)};f.ba.prototype.tZ=function(G,m,A,Q,H){var J=G.ii;
if(J.Yu){var b=A.S9(),O=b[0],a=b[1];if(a.length==0)return;var e=O[a[0]],R=e.add.vmsk.clone(),p=JSON.stringify(e.add.vogk),P=J.Yu;
this.eD(A,e.lW,P,J.Nv);var z=[18,5];if(R.Y.length==P.Y.length)z=R.c[0]==P.c[0]?"Fill Rule":"Path Order";
this.GK(A,z,e.lW,R,P,null,p,JSON.stringify(J.Nv))}};f.x$=function(){f.Oz.call(this,[10,28],f.gk,"tools/dselect");
this.Yy=-1;this.Jp=-1;this.SI=null;this.cS=null;this.wO=null;this.Cp=null;this.FE=null;this.c3=null;
this.no=0;this.a85={psnap:!1};this.l$=null};f.x$.prototype=new f.Oz;f.x$.prototype.Rn=function(G){return G.U_};
f.x$.prototype.tZ=function(G){this.a85=G};f.x$.prototype.Hk=function(G,m,A,Q,H){if(G.d=="crnr"){if(A==null)return;
var J=A.S9(),b=J[0],O=J[1];if(O.length==0){alert("No paths selected");return}var a=b[O[0]],e=a.add.vmsk;
if(e.PC.length==0){alert("No corners selected");return}for(var $=0;$<e.PC.length;$++){var R=e.Y[e.PC[$]];
if(!R.M.A5(R.Gd)||!R.M.A5(R.ed)){alert("Only sharp corners can be rounded");return}}if(this.Cp==null){this.Cp=a.add.vmsk.clone();
this.FE=JSON.stringify(a.add.vogk);this.wO=a;this.c3=A}var p=new j8(r.E.W,!0);p.data={d:r.S.XG,Ue:"cornerradius",Ge:5,ns:this.abM.bind(this)};
m.u(p)}else f.Oz.prototype.Hk.call(this,G,m,A,Q,H)};f.x$.prototype.abM=function(G){if(G=="confirm"){var m=this.c3,A=this.wO,Q=A.add.vmsk,H=A.add.vogk;
this.GK(m,[12,94,0],A.lW,this.Cp,Q,null,this.FE,JSON.stringify(H));this.Ha();return}var Q=this.Cp.clone(),H=JSON.parse(this.FE),J=Q.PC;
if(G=="cancel"){}else{var b=[];for(var $=0;$<J.length;$++){var O=J[$],a=N.U.ND(Q.Y,O,!0),p=0;if(b.indexOf(a)!=-1)continue;
b.push(a);var e=N.U.sM(Q.Y,a,!0),R=Q.Y[e].length,P=[];for(var z=0;z<R;z++){var Z=Q.PC.indexOf(e+z+1)==-1?0:G;
P.push(Z);if(Z!=0)p++}N.U.e$(Q.Y,e,P);for(var z=0;z<J.length;z++)if(J[z]>e+R)J[z]+=p}this.iQ(Q,H);Q.PC=[]}this.eD(this.c3,this.wO.lW,Q,H);
if(G=="cancel")this.Ha()};f.x$.prototype.disable=function(G,m,A,Q){this.ZD(G)};f.x$.prototype.gr=function(G,m,A,Q,H){this.ZD(G);
var J=G.t.fY(H.x,H.y),p,P,z;this.SI=J.clone();var b=G.S9(),O=b[0],a=b[1];if(a.length==0)return;var e=f.L3(G,H),R=new f_(J.x-e,J.y-e,e*2,e*2);
for(var Z=0;Z<a.length;Z++){p=this.wO=O[a[Z]];P=p.add.vmsk;z=N.U.$Y(P.Y,R);if(z[0].length+z[1].length+z[2].length!=0)break}var W=[!1,!1,!1];
for(var $=0;$<3;$++){for(var T=0;T<z[$].length;T++){var i=z[$][T];if(P.PC.indexOf(i)!=-1||$==1&&P.PC.indexOf(i-1)!=-1||$==2&&P.PC.indexOf(i+1)!=-1){z[$]=[i];
W[$]=!0;break}}}if(z[0].length!=0&&(W[0]||!W[1]&&!W[2])){var X=z[0][0],U=P.PC.indexOf(X);if(Q.j(a5.K6)){if(U==-1)P.PC.push(X);
else{P.PC.splice(U,1);G.Iy=!0;return}}else if(U==-1)P.PC=[X];this.Yy=X;this.Jp=0}else if(z[1].length!=0&&W[1]){this.Yy=z[1][0];
this.Jp=1}else if(z[2].length!=0&&W[2]){this.Yy=z[2][0];this.Jp=2}else{var M=N.U.yq(P.Y,J,!0,e);if(M.lW==-1)this.cS=J;
else{P.c=[M.lW];P.PC=[]}}if(this.Cp==null){this.Cp=p.add.vmsk.clone();this.FE=JSON.stringify(p.add.vogk)}this.l$=new ik(J);
G.Iy=!0};f.x$.prototype.Nr=function(G,m,A,Q,H){if(G==null)return;var J=G.t.fY(H.x,H.y),b=this.wO;if(this.Yy!=-1){var O=this.Cp.clone(),a=b.add.vogk,e=O.Y[this.Yy];
e=[e.M,e.ed,e.Gd][this.Jp];if(Q.j(a5.K6)){if(this.Jp==0){J=this.l$.O4(J,Q);J.x+=e.x-this.SI.x;J.y+=e.y-this.SI.y}else J=f.Rd.$H(O.Y[this.Yy].M,J)}else{if(this.a85.psnap){J.x=Math.round(J.x);
J.y=Math.round(J.y)}J=f.oj.Cj(G,J,A)}if(this.Jp==0){var R=new ci(1,0,0,1,J.x-e.x,J.y-e.y);N.U.T6(O.Y,R,null,O.PC)}else{var p=O.Y[this.Yy],P=p.ed,z=p.Gd;
if(this.Jp==2){P=p.Gd;z=p.ed}if(Q.j(a5.Ei)&&(p.type==1||p.type==4))p.type++;P.QU(J.x,J.y);if(p.type==1||p.type==4){var Z=dw.SH(P,p.M),W=dw.SH(z,p.M);
if(W!=0){z.x=p.M.x-(P.x-p.M.x)*(W/Z);z.y=p.M.y-(P.y-p.M.y)*(W/Z)}}}this.iQ(O,a);this.eD(G,b.lW,O,a)}else if(this.cS!=null){var T=this.cS;
G.v.Gs=N.H.Zt(new f_(T.x,T.y,J.x-T.x,J.y-T.y));G.Iy=!0}else{var i=G.S9(),X=i[0],U=i[1],b,O,x;if(U.length==0)return;
var M=f.L3(G,H),C=new f_(J.x-M,J.y-M,M*2,M*2);for(var L=0;L<U.length;L++){b=X[U[L]];O=b.add.vmsk;x=N.U.$Y(O.Y,C);
if(x[0].length+x[1].length+x[2].length!=0)break}this.ZD(G);for(var $=0;$<3;$++){for(var E=0;E<x[$].length;
E++){var l=x[$][E],y=O.Y[l];y=$==0?y.M:$==1?y.ed:y.Gd;G.v.oB.push(G.v.f4.length>>>1);G.v.f4.push(y.x,y.y);
G.Iy=!0}}}};f.x$.prototype.ZD=function(G){if(G&&G.v.f4.length!=0){G.v.f4=[];G.v.oB=[];G.Iy=!0}};f.x$.prototype.gE=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=this.wO,O=b?b.add.vmsk:null,a=b?b.add.vogk:null;
if(this.Yy!=-1){if(Date.now()-this.no<300){var e=O.Y[this.Yy],R=this.Jp,p=null;if(R==0){var P=e.ed.A5(e.M),z=e.Gd.A5(e.M);
if(!P&&!z){p="Anchor Type";if(e.type==1||e.type==4)e.type++;else{e.type--;e.Gd=e.M.add(e.M.AV(e.ed))}}else{p="Add Handles";
if(P&&z){e.ed.x-=30;e.Gd.x+=30}else if(P)e.ed=e.M.add(e.M.AV(e.Gd));else if(z)e.Gd=e.M.add(e.M.AV(e.ed))}}else{p="Remove Handle";
if(R==1)e.ed.Fw(e.M);else e.Gd.Fw(e.M)}this.iQ(O,a);this.eD(G,b.lW,O,a);this.GK(G,p,b.lW,this.Cp,O,null,this.FE,JSON.stringify(a))}else if(!this.SI.A5(J)){this.GK(G,"Drag Anchors",b.lW,this.Cp,O,null,this.FE,JSON.stringify(a))}this.no=Date.now()}else if(this.cS!=null){var Z=this.cS,W=new f_(Z.x,Z.y,J.x-Z.x,J.y-Z.y);
if(W.e<0)W.x+=W.e;if(W.n<0)W.y+=W.n;W.e=Math.abs(W.e);W.n=Math.abs(W.n);var T=N.U.$Y(O.Y,W);O.PC=T[0].concat(Q.j(a5.K6)?O.PC:[]);
G.v.Gs=null}this.Ha();G.Iy=!0};f.x$.prototype.Ha=function(){this.wO=null;this.Cp=null;this.cS=null;this.Yy=this.Jp=-1;
this.l$=null};f.x$.prototype.iQ=function(G,m){for(var $=0;$<G.PC.length;$++){var A=N.U.ND(G.Y,G.PC[$]);
N.Nv.mn(m,A)}};f.x$.prototype.KY=function(G,m,A,Q){if(G==null)return;var H=G.S9(),J=H[0],b=H[1];if(b.length==0)return;
var O=J[b[0]],a=O.add.vmsk;if(a==null||a.PC.length==0)return;var e=O.add.vogk,R=JSON.stringify(e),p=Q.Ui();
if(p.x!=0||p.y!=0){var P=a.clone(),z=a.clone(),Z=new ci(1,0,0,1,p.x,p.y);N.U.T6(z.Y,Z,null,z.PC);this.iQ(z,e);
this.eD(G,O.lW,z,e);this.GK(G,"Move Anchors",G.c[0],P,z.clone(),!0,R,JSON.stringify(e))}if(Q.j(a5.lV)||Q.j(a5.m9))this.Hk({d:"remove",ML:!0},m,G,Q,A)};
f.x$.prototype.GK=function(G,m,A,Q,H,J,b,O){var a=G.eL();if(J&&a!=null&&a.b==this&&a.data.ag2&&a.data.Mw==A&&JSON.stringify(a.data.u8.PC)==JSON.stringify(Q.PC)){a.data.CF=H;
a.data.lk=O}else{var a=new i3(m,this);a.data={Mw:A,u8:Q,CF:H,ag2:J,ah2:b,lk:O};G.jm(a)}};f.Rect=function(){f.$V.call(this,[10,32],f.iA,"tools/rect",!0)};
f.Rect.prototype=new f.$V;f.Rect.prototype.FG=function(G,m,A){var Q=this.EE.crad,H=m.x-G.x,J=m.y-G.y;
return[N.U.Y0.Rect(G.x,G.y,H,J,Q),N.Nv.rk("Rctn",[G.x,G.y,m.x,m.y],[Q,Q,Q,Q])]};f.dd=function(){f.$V.call(this,[10,33],f.ZB,"tools/ellipse",!0)};
f.dd.prototype=new f.$V;f.dd.prototype.FG=function(G,m,A){var Q=m.x-G.x,H=m.y-G.y;return[N.U.Y0.dd(G.x,G.y,Q,H),N.Nv.rk("Elps",[G.x,G.y,m.x,m.y])]};
f.ED=function(){f.$V.call(this,[10,34],f._4,"tools/pshape",!1);this.EE.aopts=[!1,!0,50,100,0]};f.ED.prototype=new f.$V;
f.ED.prototype.FG=function(G,m,A){var Q=this.EE.pshape,H=this.EE.crad,J=this.EE.irad/100,b=this.EE.sides,O=this.EE.width,a=this.EE.aopts,e=this.EE.length,T;
m=m.clone();var R=G.x,p=G.y,P=m.x,z=m.y,Z=Math.sqrt((P-R)*(P-R)+(z-p)*(z-p)),W=Math.atan2(-z+p,P-R);
if(A)W=Math.round(W*180/Math.PI/15)*15*Math.PI/180;if(Q==0)T=N.U.Y0.m3(R,p,Z,W,b,H);if(Q==1)T=N.U.Y0.fw(R,p,Z,W,b,H,J);
if(Q==2)T=N.U.Y0.oi(G.x,G.y,m.x,m.y,O,a);if(Q==3)T=N.U.Y0.alC(R,p,Z,W,e);return[T,N.Nv.rk("customShape",[G.x,G.y,m.x,m.y],null,null,null,"--")]};
f.ED.prototype.KY=function(G,m,A,Q){f.$V.prototype.KY.call(this,G,m,A,Q);var H=Q.Ui(),J=this.EE,b,O;
if(H.y!=0){var a=-H.y,e=J.pshape;if(e<2){b="sides";O=Math.max(3,Math.min(100,J.sides+a))}else if(e==2){b="width";
O=Math.max(1,Math.min(100,J.width+a))}else if(e==3){b="length";O=Math.max(4,Math.min(40,J.length+a))}}if(H.x!=0){b="pshape";
O=Math.max(0,Math.min(3,J.pshape+H.x))}if(b){var R=new j8(r.E.W,!0),p={};p[b]=O;J[b]=O;R.data={d:r.S.mX,b:this.id,Nm:"vals",a1v:p};
m.u(R);this.Nr(G,m,A,Q)}};f.vm=function(){f.$V.call(this,[10,35],f.W$,"tools/line",!1)};f.vm.prototype=new f.$V;
f.vm.prototype.FG=function(G,m,A){var Q=this.EE.width,H=this.EE.aopts;m=m.clone();if(A){m=f.Rd.$H(G,m)}return[N.U.Y0.oi(G.x,G.y,m.x,m.y,Q,H),N.Nv.rk("Ln",null,null,[G.x,G.y,m.x,m.y],Q,null,H)]};
f.Jq=function(){f.$V.call(this,[10,31],f.gG,"tools/cshape",!0)};f.Jq.prototype=new f.$V;f.Jq.prototype.FG=function(G,m,A){var Q=this.EE.shape,H=Q.vJ.e/Q.vJ.n,J=c.Rl.Ay(Q.Y);
m=m.clone();var b=m.x-G.x,O=m.y-G.y;N.U.T6(J,new ci(b,0,0,O,G.x,G.y));return[J,N.Nv.rk("customShape",[G.x,G.y,m.x,m.y],null,null,null,Q.nO)]};
f.Q=function(G,m,A){f.rc.call(this,G,m,A);this.u4=0;this.g=null;this.d5=null;this.Wc=null;this.L1=1;
this.Cx=!1;this.cursor=null;this.EB=null;this.wX=null;this.m_=!1;this.pv=null;this.anG=0;this.O3=null;
this.wu=0;this.br=null;this.Q_=null;this.Ra=null;this.lv=null;this.anr=null;this.Qo=null};f.Q.prototype=new f.rc;
f.Q.MR=function(G,m){var A={classID:"null",null:ah.TH("Dcmn",!0)};if(G)A.Angl={t:"UntF",v:{type:"#Ang",val:m}};
else A.Axis={t:"enum",v:{Ornt:m}};return{YI:G?"rotateEventEnum":"flip",aL:A}};f.Q.prototype.K8=function(G,m,A,Q,H){var J=new j8(r.E.W,!0);
J.data={d:r.S.mX,b:this.id,f5:H,z0:G,Wc:A};m.u(J);this.eO=!1};f.Q.prototype.Rn=function(G){return this.Q_&&this.Q_.hs()};
f.Q.prototype.Hk=function(G,m,A,Q,H){this.Wc=H;if(G.d=="again"&&this.O3==null)return;if(!this.gD(A,H))return;
if(this.Q_){this.Zk(G,this.Q_.iy());this.We(A,H,0,!0);this.y6(A);return}this.Hz(A,G.i==null,G.i);this.BV(A);
this.Zk(G);this.eq(A,m,G.om,!1)};f.Q.prototype.Zk=function(G,m){var A=this.br;if(m==null){var Q=G.nR!=null?G.nR:4;
m=this.Q_.aoo()[Q]}var H=m.x,J=m.y;if(G.d=="rot"&&G.k!=Math.PI&&(A.e+A.n&1)==1){H=Math.floor(H);J=Math.floor(J)}var b=new ci;
b.translate(-H,-J);if(G.d=="rot")b.rotate(G.k);if(G.d=="scl")b.scale(G.k.x,G.k.y);if(G.d=="mat")b.concat(G.k);
b.translate(H,J);if(G.d=="again")b=this.O3;var O=this.Q_.Df();N.H.A(O,b,O);this.Q_.Mk(O)};f.Q.prototype.I3=function(){return!0};
f.Q.prototype.gD=function(G,m){if(G==null)return!1;if(this.id==f.K9)return G.q!=null;var A=G.n3(!0,null,null,!0);
if(this.id==f.uT&&G.g[A[0]].rect.My()){alert("Layer is empty.");return!1}for(var $=0;$<A.length;$++){var Q=G.g[A[$]];
if(Q.AL(2)||Q.AL(31)){alert(f5.get([6,57,0]));return!1}if(Q.add.artb){alert("You can not transform the whole artboard");
return!1}if(Q.add.TySh)if(!g5.Em(Q.add.TySh,m.O8))return!1;if(Q.add.SoLd){if(A.length==1&&!N.iZ.zK(Q.add.SoLd.warp.v)&&(Q.fm()&&Q.fm().v5||Q.add.vmsk&&Q.add.vmsk.v5)){alert("Unlink masks before transforming Smart Object");
return!1}if(!G.auD(Q.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+G.Nd(Q.add.SoLd.Idnt.v).Vc+")");
return!1}}}if(G.q==null)return!0;if(!G.fE())return!1;return G.alL()};f.Q.prototype.gr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);
if(this.wu==1){var b=N.N.G3(N.N.hh(this.Q_.Df(),this.br));J=N.N.Xd(b,J)}var O=this.wu==0?this.Q_:this.Ra;
this.Cx=O.gr(G,A,Q,J,null,null,H);if(this.Cx&&O.cG(J)){if(Date.now()-this.anG<250)this.eq(G,m,null,!0);
this.anG=Date.now()}};f.Q.prototype.hr=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.Cv,Ry:this.cursor};
G.u(m)};f.Q.prototype.Nr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);if(this.wu==1){var b=N.N.G3(N.N.hh(this.Q_.Df(),this.br));
J=N.N.Xd(b,J)}var O=this.wu==0?this.Q_:this.Ra;if(!H.U_){var a="default";if(O){var e=O.tf(J,G.t.V,null,H);
if(e)a=e}if(a!=this.cursor){this.cursor=a;this.hr(m)}}if(!this.Cx)return;O.Nr(G,A,Q,J);this.We(G,A,0,!0);
this.y6(G);this.Jw(m)};f.Q.prototype.gE=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);this.Q_.gE(G,A,Q,J);
this.Cx=!1};f.Q.prototype.KY=function(G,m,A,Q){if(Q.j(a5.pg))this.eq(G,m,null,!0);else if(Q.j(a5.OD))this.zx(G,m);
else{var H=this.Q_.KY(G,A,Q);if(H){this.We(G,A,0,!0);this.Jw(m)}}};f.Q.prototype.tZ=function(G,m,A,Q){if(G.IK=="commit")this.eq(A,m,null,!0);
else if(G.IK=="cancel")this.zx(A,m);else if(G.IK=="switchWarp"){this.wu=1-this.wu;this.ac$();this.y6(A);
this.Jw(m)}else if(G.IK=="wrp"){this.Ra.$E(G.Xx);this.y6(A);this.We(A,this.Wc,0,!0)}else if(G.IK=="ctyp"){this.Q_.ar2(G.V9);
this.y6(A);this.Jw(m)}else if(G.IK=="cen"){this.Q_.asO(G.IC);this.y6(A);this.We(A,this.Wc,0,!0);this.Jw(m)}else if(G.IK=="trn"){var H=N.N.i4(G.Kk),J=this.br,b=N.N.hh(this.Q_.Df(),this.br);
H[6]=b[6],H[7]=b[7];var O=[J.x,J.y,J.x+J.e,J.y,J.x+J.e,J.y+J.n,J.x,J.y+J.n];N.N.A(H,O);this.L1=G.L1;
this.Q_.Mk(O);this.y6(A);this.We(A,this.Wc,0,!0)}};f.Q.prototype.y6=function(G){if(this.wu==0)this.Q_.N3(G,this.Wc);
else{this.Ra.N3(G);var m=N.N.hh(this.Q_.Df(),this.br);N.N.A(m,G.v.Gs.s);N.N.A(m,G.v.Wq)}};f.Q.prototype.eq=function(G,m,A,Q){this.We(G,this.Wc,this.L1);
var H=new i3(A?A:this.name,this);if(this.u4==0)H.data={type:this.u4,g:this.g,pv:this.d5,gu:f.Q.ha(G,this.g)};
else if(this.u4==1){var J=G.g[this.g[0]],b;if(J.Pg.Sm<=0){b=N.$(J.Pg.c7.Z());N.gF(J.Pg.bC,b,3)}else b=G.q.channel;
var O={rect:J.Pg.c7.clone(),channel:b};H.data={type:this.u4,i:this.g[0],wX:this.wX,xe:O,EB:this.EB,m_:this.m_,Pg:J.Pg,pv:this.pv,gu:{PR:J.Pg.c7,Uq:J.Pg.bC}}}else if(this.u4==2){H.data={type:this.u4,wX:this.wX,xe:{rect:G.q.rect.clone(),channel:G.q.channel.slice(0)}}}G.jm(H);
var a=this.br,e=new dw(a.x+a.e/2,a.y+a.n/2),R=N.N.hh(this.Q_.Df(),a),p=N.N.o2(R),P=new ci;P.translate(e.x,e.y);
P.concat(p);P.translate(-e.x,-e.y);p=P.clone();var z=-Math.atan2(-p.h,p.Uj),Z=new ci;Z.rotate(z);p.concat(Z);
function W(X,U){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][U],val:X}}}var T=ah.TH("Lyr",!0);if(this.id==f.K9)T.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var i={classID:"null",null:T,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:W(P.Zh,0),Vrtc:W(P.bx,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:W(Math.atan(p.Qv)*180/Math.PI,2),Vrtc:W(0,2)}},Wdth:W(p.Uj*100,1),Hght:W(p.nd*100,1),Angl:W(z*180/Math.PI,2)};
this.V_=m;this.track({YI:"transform",aL:i});this.escape(G,m,Q)};f.Q.prototype.zx=function(G,m){if(this.u4==0)f.Q.Q5(G,this.g,this.d5);
else if(this.u4==1){var A=G.g[this.g[0]];G.q=this.wX;if(!this.m_){A.Pg.c7=this.pv.PR;A.Pg.bC=this.pv.Uq;
A.yI(G,0,0,G.q)}else{A.Or(G,this.EB)}G.F();G.W0=!0}else if(this.u4==2){G.q=this.wX;G.W0=!0}this.escape(G,m,!0)};
f.Q.prototype.escape=function(G,m,A){this.Q_.clear(G);this.Q_=null;this.Ra=null;this.Qo=null;this.wu=0;
if(A)this.lr(m,r.E.W,{d:r.S.q9})};f.Q.prototype.S6=function(G,m){if(G.type==0)f.Q.Q5(m,G.g,G.gu);else{if(G.type==1){var A=m.g[G.i];
if(G.m_){A.Pg=G.Pg}else{A.Pg.c7=G.gu.PR;A.Pg.bC=G.gu.Uq}A.yI(m,0,0,m.q);m.F()}m.q={rect:G.xe.rect.clone(),channel:G.xe.channel.slice(0)};
m.W0=!0}};f.Q.prototype.Ah=function(G,m){if(G.type==0)f.Q.Q5(m,G.g,G.pv);else{if(G.type==1){var A=m.g[G.i];
if(G.m_){A.Or(m,G.EB)}else{A.Pg.c7=G.pv.PR;A.Pg.bC=G.pv.Uq;A.yI(m,0,0,m.q)}m.F()}m.q=G.wX;m.W0=!0}};
f.Q.prototype.Hz=function(G,m,A){G.S9();var Q=[];if(A==null)for(var $=0;$<G.rY.length;$++)if(G.Sq[G.rY[$]].add.vmsk.Y.length>2)Q.push(-1-G.rY[$]);
var H=[],J=G.t._T;if(J[0]+J[1]+J[2]==3)if(A!=null||Q.length==0||G.EJ!=null&&G.EJ.length!=0)H=G.n3(m,A,null,!0);
H=H.concat(Q);for(var $=0;$<G.UX.length;$++)H.push(-1e3-G.UX[$]);this.g=H};f.Q.prototype.enable=function(G,m,A,Q,H,J,b){if(this.cursor==null)this.cursor="default";
this.hr(m);if(this.Q_)return;this.Wc=A;this.Hz(G,!0);this.BV(G,J&&J.et!=null&&J.et!=-1?J.et:null,b);
this.Jw(m);this.y6(G);if(J&&J.et==-1)this.tZ({IK:"switchWarp"},m,G,Q)};f.Q.prototype.Jw=function(G){var m={d:r.S.mX,b:this.id};
if(this.wu==0){var A=N.N.hh(this.Q_.Df(),this.br),Q=N.N.o2(A);m.Kk={Nu:Q,V9:this.Q_.ai$(),IC:this.Q_.iy(),PR:this.br.clone()}}else{m.Xx=this.Ra.mL()}m.acD=this.Ra!=null;
this.lr(G,r.E.W,m)};f.Q.prototype.BV=function(G,m,A){var Q=this.id==f.K9,H=!0,J=this.g[0],b=G.g[J],a=null,e=null;
if(Q){this.u4=2;this.wX=G.q}else if(G.q&&this.g.length==1&&J>=0&&!b.rect.My()){this.u4=1;this.wX=G.q;
this.EB=b.Pg;this.m_=!1;if(!b.NC(G,G.q)){this.m_=!0;b.Gm(G,G.q,!1)}this.pv={Uq:b.Pg.bC,PR:b.Pg.c7}}else{this.u4=0;
this.d5=f.Q.ha(G,this.g,null,A);for(var $=0;$<this.d5.length;$++)if(this.d5[$][3]!=null)H=!1}var O=this.u4==1;
if(this.d5&&this.d5.length==1){var R=this.d5[0];if(R[2]!=null&&R[2].Nv){var p=R[2].Yu.c;if(p.length<2){e=R[2].Nv[p.length==0?0:p[0]].v;
if(!N.Nv.d2(e))e=null}}if(R[3]==null)O=!0;if(R[4]!=null){a=G.g[this.g[0]].add.SoLd;if(R[1]||R[2])O=!1}}var P=Q?G.q.rect.clone():f.Q.E8(G,this.g,A);
this.br=P;if(!Q&&a){var z=f.Q.y_(a.nonAffineTransform);this.br=N.H.Cf(N.iZ.vE(a.warp.v));if(O)this.Ra=new h$(a.warp.v);
this.lv=N.N.hh(z,this.br);this.Q_=new iw(z,!0,!0,H,!1,!1,m)}else{if(O||Q)this.Ra=new h$(N.iZ.$(this.br));
this.lv=[1,0,0,0,1,0,0,0];if(this.id==f.uT)m=3;this.Q_=new iw([P.x,P.y,P.x+P.e,P.y,P.x+P.e,P.y+P.n,P.x,P.y+P.n],!0,!0,H,!1,!1,m)}this.anr=[1,0,0,0,1,0,0,0];
if(this.id==f.uT){var Z,W;if(this.d5){var T=this.d5[0][0],i=T.UN;Z=i[0];W=i[1]}else if(this.pv){Z=this.pv.Uq;
W=this.pv.PR}this.Qo=N.Wa.a53(Z,W.e,W.n)}};f.Q.E8=function(G,m,A){if(m==null)m=G.n3(!0,null,null,!0);
var Q=new f_,H=new f_;if(G.q&&m.length==1&&m[0]>=0)Q=G.q.rect.clone();else for(var $=0;$<m.length;$++){var J=m[$],b=0<=J?G.g[J]:-1e3<J?G.Sq[-1-J]:G.Hv[-1e3-J],O=b.add?b.add.vmsk:null,a=0<=J?b.QZ(G,m.length==1,!1,A,!0):-1e3<J?N.U.jX(O.Y,m.length==1&&O.c.length!=0?O.c:null):b.rect.clone();
Q=Q.wj(a);if(J>0&&b.add.artb)H=H.wj(b._Q())}return!H.My()?H:Q};f.Q.prototype.lr=function(G,m,A,Q){var H=new j8(m,!0);
H.data=A;if(Q)H.b=Q;G.u(H)};f.Q.ha=function(G,m,A,Q){var H=[];for(var $=0;$<m.length;$++){var J=m[$],b,O;
if(J>=0){b=G.g[J];O=b.CN(G,A,Q)}else if(J>-1e3){b=G.Sq[-1-J];O=[2]}else{H.push([null,null,null,null,null,null,null,G.Hv[-1e3-J].clone()]);
continue}var a=[];if(O.indexOf(0)!=-1){var e={UN:[b.buffer.slice(0),b.rect.clone()]};a.push(e);if(b.Ct()){var R=b.mv(G);
e.aoq=R.buffer.slice(0);e.ac3=R.rect.clone()}}else a.push(null);if(O.indexOf(1)!=-1)a.push(b.fm().clone());
else a.push(null);if(O.indexOf(2)!=-1)a.push({Yu:b.add.vmsk.clone(),nh:b.add.vstk?JSON.parse(JSON.stringify(b.add.vstk)):null,GF:b.add.vstk?f.Oz.O1(G,J):null,Nv:b.add.vogk?JSON.parse(JSON.stringify(b.add.vogk)):null});
else a.push(null);if(b.add.TySh&&a[0]){fC._e(b.add.TySh);a.push(b.add.TySh.A.clone())}else a.push(null);
if(b.add.SoLd&&a[0])a.push(JSON.parse(JSON.stringify(b.add.SoLd)));else a.push(null);if(O.indexOf(3)!=-1)a.push(b.mv(G).D.clone());
else a.push(null);if(b.add.lmfx)a.push(JSON.stringify(b.add.lmfx));else a.push(null);H.push(a)}return H};
f.Q.Q5=function(G,m,A){for(var $=0;$<m.length;$++){var Q=m[$],H=0<=Q?G.g[Q]:-1e3<Q?G.Sq[-1-Q]:G.Hv[-1e3-Q],J=A[$];
if(J[0]){H.rect=J[0].UN[1].clone();H.buffer=J[0].UN[0].slice(0);if(H.Ct()){var b=H.mv(G);b.buffer=J[0].aoq.slice(0);
b.rect=J[0].ac3.clone()}}if(J[1]){H.fm().channel=J[1].channel.slice(0);H.fm().rect=J[1].rect.clone();
H.fm().k9=!0}if(J[2]){H.add.vmsk=J[2].Yu.clone();if(J[2].GF)f.Oz.jp(H,J[2].GF);if(J[2].nh)H.add.vstk=JSON.parse(JSON.stringify(J[2].nh));
if(J[2].Nv)H.add.vogk=JSON.parse(JSON.stringify(J[2].Nv))}if(J[3]){H.add.TySh.A=J[3].clone();fC.QJ(H.add.TySh)}if(J[4]){H.add.SoLd=JSON.parse(JSON.stringify(J[4]))}if(J[5]){var O=H.mv(G).D;
O.channel=J[5].channel.slice(0);O.rect=J[5].rect.clone()}if(J[6]){H.add.lmfx=JSON.parse(J[6])}if(J[7]){H.channel=J[7].channel.slice(0);
H.rect=J[7].rect.clone();H.k9=!0}if(0<=Q){H.hM(G);H.F()}}G.F()};f.Q.kF=function(G){var m=G.clone(),A=Math.atan2(-m.h,m.Uj),Q=new ci;
Q.rotate(-A);m.concat(Q);return(Math.abs(m.Uj)+Math.abs(m.nd))/2};f.Q.od=function(G,m,A,Q,H,J,b,O,a,e){if(typeof J[0]=="number"){var R=[];
for(var $=0;$<A.length;$++)R[$]=J;J=R}for(var $=0;$<A.length;$++){var p=J[$],P=N.N.o2(p),z=f.Q.kF(P),Z=A[$],W=0<=Z?G.g[Z]:-1e3<Z?G.Sq[-1-Z]:G.Hv[-1e3-Z],T=Q[$];
if(W.add.lmfx&&O)en.UA(W.add.lmfx,z);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var i=T[0].UN;if(a){var X=a.clone(),U=N.$(X.Z()*4);
N.Pr(i[0],i[1],U,X);i=[U,X]}var M=f.Q.sT(i,H,p,b,H==0?W.buffer.buffer:null,null,null,e);if(M){W.rect=M.rect;
W.buffer=M.buffer}}if(T[1]){var C=W.fm();f.Q.AU(G,T[1],C,H,p,b);if(a){var X=W.rect.KB(a),x=N.$(X.Z());
N.qg(C.channel,C.rect,x,X);C.channel=x;C.rect=X}}if(T[2]){var L=b&&!N.iZ.zK(b),E=T[2].Yu.clone(),l=A.length==1&&E.c.length!=0,y=A.length==1&&E.PC.length>1;
if(y)l=!1;var Y=l?E.c:null,F=y?E.PC:null;if(L){var w=N.iZ.vE(b);N.N.A(p,w);N.U.al9(E.Y,w,Y,F)}else N.U.aq_(E.Y,p,Y,F);
if(W.add.vstk&&O){W.add.vstk.strokeStyleLineWidth.v.val=T[2].nh.strokeStyleLineWidth.v.val*z;var j=T[2].GF;
if(j&&j.D2==3){j=JSON.parse(JSON.stringify(j));var _=j.GF.phase.v;j.GF.Scl.v.val=Math.round(j.GF.Scl.v.val*z);
_.Hrzn.v=Math.round(_.Hrzn.v*z);_.Vrtc.v=Math.round(_.Vrtc.v*z);f.Oz.jp(W,j)}}if(W.add.vogk){W.add.vogk=JSON.parse(JSON.stringify(T[2].Nv));
if(L||y)N.Nv.a4y(W.add.vogk);else N.Nv.A(W.add.vogk,p,A.length>1?[]:E.c,O)}E.JE*=z;W.add.vmsk=E;if(W.add.vogk)N.Nv.db(W.add.vogk,W.add.vmsk)}if(T[3]){var D=T[3].clone();
D.concat(P);W.add.TySh.A=D;fC.QJ(W.add.TySh);var t=new dq(W.add.TySh.DQ,m.O8),K=g5.nT(t,W.add.TySh);
W.rect=K.PR;W.buffer=K.uw}if(T[4]){var d=W.add.SoLd,o=f.Q.y_(T[4].nonAffineTransform);N.N.A(p,o);var k=N.H.Dd(o);
if(iw.tG(o)){if(b){var v=N.H.Cf(N.iZ.vE(T[4].warp.v)),x=N.N.hh(o,v),u=N.H.Cf(N.iZ.vE(b));o=[u.x,u.y,u.x+u.e,u.y,u.x+u.e,u.y+u.n,u.x,u.y+u.n];
N.N.A(x,o);d.warp.v=b}var B=N.N.hh(o),S=o;if(!N.N.Wo(B)){B[6]=B[7]=0;S=[0,0,1,0,1,1,0,1];N.N.A(B,S)}d.Trnf=f.Q.J_(S);
d.nonAffineTransform=f.Q.J_(o);if(d.filterFX)d.filterFX=JSON.parse(JSON.stringify(T[4].filterFX));f.Q.cA(d,P);
W.wH(G,H==0)}}if(T[5])f.Q.AU(G,T[5],W.mv(G).D,H,p,b);if(T[7])f.Q.AU(G,T[7],W,H,p,b);if(0<=Z){if(H!=0)W.LA();
W.hM(G);W.F()}}G.F()};f.Q.fK=function(G,m,A,Q,H,J){if(A==null)A=!1;return f.Q.sT(G,A?0:1,N.N.i4(m),null,Q,H,J,A)};
f.Q.sT=function(G,m,A,Q,H,J,b,O){if(O==null)O=!1;if(O&&b)throw"e";var a={},P=0,z=.3;if(Q&&!N.iZ.zK(Q)){var e=N.iZ.vE(Q);
N.N.A(A,e);a.rect=N.H.Dd(e);a.buffer=N.$(a.rect.Z()*4);N.ls.drawImage(e,G[0],G[1].e,G[1].n,a.buffer,a.rect,m==0);
return a}N.xI(G);var R=G[0],p=G[1],Z=p.Z()*f.Q.kF(N.N.o2(A));if(O&&Z>4e6)z=Z>8e6?2.2:1.2;while(P+3<G.length&&G[P+3].Z()>16&&N.N.Wo(A)&&f.Q.kF(N.N.o2(A))<z){P+=2;
var W=G[P],T=G[P+1],i=p.e/T.e,X=p.n/T.n;A=N.N.rF(A,[1,0,p.x,0,1,p.y,0,0]);A=N.N.rF(A,[i,0,0,0,X,0,0,0]);
A=N.N.rF(A,[1,0,-p.x,0,1,-p.y,0,0]);p=T;R=W}var U=N.N.rF(A,N.N.i4(new ci(p.e,0,0,p.n,p.x,p.y))),M=[0,0,1,0,1,1,0,1];
N.N.A(U,M);a.rect=N.H.Dd(M);if(b)a.rect=a.rect.KB(b);if(O){while((a.rect.e&3)!=0)a.rect.e++;while((a.rect.n&3)!=0)a.rect.n++}if(!iw.tG(M)||a.rect.e>1e5||a.rect.n>1e5||a.rect.Z()>3e4*3e4)return null;
var C=a.rect.Z()*4;if(H&&H.byteLength>=C&&C>=H.byteLength>>2){a.buffer=new Uint8Array(H)}else{a.buffer=N.$(C)}N.N.drawImage(U,R,p.e,p.n,a.buffer,a.rect,m==0,J,O);
if(m==2&&a.buffer){var x=a.rect.e,L=a.rect.n,E;E=[0,-1,0,-1,16,-1,0,-1,0];E=N.pO.ac(E);var l=a.buffer.slice(0);
N.pO.TV(l,a.buffer,x,L,E,255,!1,!0)}if(a.buffer)return a};f.Q.AU=function(G,m,A,Q,H,J){if(m.color==255)N.G3(m.channel);
var b=m.rect,O=N.$(b.Z()*4);N.I5(m.channel,O,3);var a=f.Q.sT([O,b],Q,H,J);if(a){A.rect=a.rect;A.channel=N.$(a.rect.Z());
N.gF(a.buffer,A.channel,3);A.k9=!0}if(m.color==255){N.G3(m.channel);if(a)N.G3(A.channel)}};f.Q.cA=function(G,m){var A=G.filterFX;
if(A)A=A.v.filterFXList;if(A)A=A.v;if(A)for(var Q=0;Q<A.length;Q++){var H=A[Q].v.Fltr;if(H==null||H.v.classID!="rigidTransform")continue;
H=H.v;console.log(H);var J=[];for(var b=0;b<4;b++)J.push(H["PuX"+b].v,H["PuY"+b].v);N.H.A(J,m,J);for(var b=0;
b<4;b++){H["PuX"+b].v=J[b*2];H["PuY"+b].v=J[b*2+1]}var O=["PinP","posFinalPins"],a=["originalVertexArray","deformedVertexArray"],e=H.puppetShapeList.v;
for(var R=0;R<e.length;R++){var p=e[R].v;for(var P=0;P<O.length;P++){var z=f.Q.y_(p[O[P]]);N.H.A(z,m,z);
p[O[P]]=f.Q.J_(z);var Z=new Uint8Array(p[a[P]].v),W=new Float32Array(Z.buffer);N.H.A(W,m,W);var T=[];
for(var i=0;i<Z.length;i++)T[i]=Z[i];p[a[P]].v=T}}}};f.Q.y_=function(G){var m=[],A=G.v.length;for(var $=0;
$<A;$++)m.push(G.v[$].v);return m};f.Q.J_=function(G){var m={t:"VlLs",v:[]},A=G.length;for(var $=0;$<A;
$++)m.v.push({t:"doub",v:G[$]});return m};f.Q.prototype.ac$=function(){var G=N.H.Cf(N.iZ.vE(this.Ra.mL())),m=N.N.hh(this.Q_.Df(),this.br),A=[G.x,G.y,G.x+G.e,G.y,G.x+G.e,G.y+G.n,G.x,G.y+G.n];
N.N.A(m,A);this.Q_.Mk(A);this.br=G};f.Q.prototype.We=function(G,m,A,Q){var H=N.N.hh(this.Q_.Df(),this.br);
H=N.N.rF(H,N.N.G3(this.lv));var J=this.Ra?this.Ra.mL():null;if(this.u4==0){var b=this.O3=N.N.o2(H);if(this.id==f.uT){var O=this.d5[0][0],a=O.UN,e=a[1],R=~~(e.e*Math.max(0,b.Uj)),p=~~(e.n*Math.max(0,b.nd)),P=new f_(Math.round(b.Uj*e.x+b.Zh),Math.round(b.nd*e.y+b.bx),R,p),z=N.Wa.A(this.Qo,P),Z=G.g[this.g[0]];
Z.buffer=z;Z.rect=P;Z.F();G.F()}else f.Q.od(G,m,this.g,this.d5,A,H,J,null,null,Q)}else if(this.u4==1){var W=G.g[this.g[0]],e=this.pv.PR;
if(W.Sm<=0){var T=this.pv.Uq,i=this.wX,X=null;if(J&&!N.iZ.zK(J)&&!i.rect.A5(e)){var z=N.$(i.rect.Z()*4);
N.Pr(T,e,z,i.rect);T=z;e=i.rect}if(this.id==f.uT){var b=this.O3=N.N.o2(H),R=~~(e.e*Math.max(0,b.Uj)),p=~~(e.n*Math.max(0,b.nd)),P=new f_(Math.round(b.Uj*e.x+b.Zh),Math.round(b.nd*e.y+b.bx),R,p),z=N.Wa.A(this.Qo,P);
X={buffer:z,rect:P}}else X=f.Q.sT([T,e],A,H,J);if(X){W.Pg.bC=X.buffer;W.Pg.c7=X.rect;var U=N.$(X.rect.Z());
N.gF(W.Pg.bC,U,3);G.q={channel:U,rect:W.Pg.c7.clone()}}}else{var M=N.$(e.Z()*4);N.I5(this.pv.Uq,M,3);
var X=f.Q.sT([M,e],A,H,J);if(X){W.Pg.bC=N.$(X.rect.Z());N.gF(X.buffer,W.Pg.bC,3);W.Pg.c7=X.rect}this.hx(G,A,H,J)}W.yI(G,0,0,G.q);
if(A!=0){W.LA();N.LA(G.q)}G.W0=!0;G.F()}else if(this.u4==2)this.hx(G,A,H,J)};f.Q.prototype.hx=function(G,m,A,Q){var H=this.wX.rect,J=N.$(H.Z()*4);
N.I5(this.wX.channel,J,3);var b=f.Q.sT([J,H],m,A,Q),O=N.$(b.rect.Z());N.gF(b.buffer,O,3);G.q={channel:O,rect:b.rect};
G.W0=!0};f.Q.prototype.disable=function(G,m,A,Q){if(this.Q_)this.eq(G,m,null,!0)};f.Mu=function(){f.Q.call(this,[10,16],f.Py,"tools/transform")};
f.Mu.prototype=new f.Q;f.xP=function(){f.Q.call(this,[7,10],f.K9,"tools/transform")};f.xP.prototype=new f.Q;
f._B=function(){f.Q.call(this,[10,48],f.uT,"tools/transform")};f._B.prototype=new f.Q;f.XS=function(G,m,A){f.rc.call(this,[10,46],f.x7,"tools/transform");
this.SO=[1,1,2,!0];this.QK="rigidTransform";this.Mf=null;this.a5k=null;this.Xv=null;this.B1=null;this.cl=null;
this.H3=null;this.vf=[]};f.XS.prototype=new f.rc;f.XS.prototype.I3=function(){return!0};f.XS.ow=function(G){if(G==null)return!1;
if(G.c.length!=1)return!1;var m=G.g[G.c[0]];return m.add.SoLd||G.fE(!1)};f.XS.prototype.gD=function(G,m){return f.XS.ow(G)};
f.XS.prototype.enable=function(G,m,A,Q,H,J,b){this.a5k=J.P5;var O=J.P5,a,W=null;if(O){var e=G.g[O.i];
if(e.add.SoLd.filterFX!=null){var R=e.add.SoLd.filterFX.v.filterFXList.v;if(R[O.index])a=JSON.parse(JSON.stringify(R[O.index].v.Fltr.v))}}var p=a==null,e=G.g[G.c[0]],P=e.buffer,z=e.rect,Z=e.add.SoLd;
if(Z){var T=Z.nonAffineTransform.v;W=[];for(var $=0;$<4;$++)W.push(T[$*2].v,T[$*2+1].v);if(p)this.zL("edit",m);
var i=e.mv(G);P=i.buffer;z=i.rect}this.Mf={buffer:P.slice(0),rect:z.clone(),aes:W};if(p)a=f.XS.Uk(this.Mf,this.SO);
this.Xv=a;this.B1=f.XS.a1(this.Xv,this.SO);this.PJ();this.Ks(G);if(p)this.Lc(m);var X=new j8(r.E.W,!0);
X.data={d:r.S.mX,b:this.id,WF:this.SO};m.u(X);X.data={d:r.S.Cv,Ry:"default"};m.u(X)};f.XS.prototype.disable=function(G,m,A,Q){if(this.B1)this.eq(G,m,!0)};
f.XS.prototype.PJ=function(G){var m=this.B1;this.vf=[];for(var $=0;$<m.length;$++){var A=m[$];for(var Q=0;
Q<A.c.length;Q++)this.vf.push([$,A.c[$]]);A.x6=N.ZT.B2(A);if(G)N.ZT.qi(A)}};f.XS.prototype.tZ=function(G,m,A,Q){if(G.IK=="commit")this.eq(A,m,!0);
else if(G.IK=="cancel")this.zx(A,m,!0);else if(G.IK=="prm"){var H=!1;for(var $=0;$<3;$++)if(this.SO[$]!=G.WF[$])H=!0;
this.SO=G.WF;if(H){this.Xv=f.XS.Uk(this.Mf,this.SO,this.Xv);this.B1=f.XS.a1(this.Xv,this.SO);this.PJ(!0);
this.Lc(m)}this.Ks(A)}else if(G.IK=="moveDepth"){var J=this.B1;for(var b=0;b<J.length;b++){var O=J[b];
for(var $=0;$<O.c.length;$++){var a=O.c[$];O.CT[a]+=G.asi?1:-1}}this.Lc(m)}};f.XS.prototype.DV=function(G,m){return G==a5.lV||G==a5.m9};
f.XS.prototype.KY=function(G,m,A,Q){var H=Q.Ui();if(Q.j(a5.pg))this.eq(G,m,!0);else if(Q.j(a5.OD))this.zx(G,m,!0);
else if(Q.j(a5.lV)||Q.j(a5.m9)){var J=this.B1;for(var b=0;b<J.length;b++){var O=J[b];O.c.sort(function(R,p){return p-R});
for(var $=0;$<O.c.length;$++){var a=O.c[$],e=a*2;O.CT.splice(a,1);O.Kx.splice(a,1);O.pT.splice(a,1);
O.p9.splice(a,1);O.Zf.splice(e,2);O.Oe.splice(e,2)}O.c=[];if(O.p9.length==0){O.ff=O.px.slice(0);O.HS=O.px.slice(0)}}this.PJ(!0);
this.Lc(m);this.Ks(G)}else if(H.x!=0||H.y!=0){this.yQ(G,H.x,H.y,m);this.sx=null}};f.XS.prototype.eq=function(G,m,A){this.zL("confirm",m);
this.escape(G,m,A)};f.XS.prototype.zx=function(G,m,A){this.zL("cancel",m);this.escape(G,m,A)};f.XS.prototype.escape=function(G,m,A){G.v.Gs=null;
G.v.f4=[];G.Iy=!0;this.B1=null;var Q=new j8(r.E.W,!0);Q.data={d:r.S.q9};if(A)m.u(Q)};f.XS.prototype.gr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=J.x,O=J.y,a=this.B1,e=null,R=[0,2,4,1.2,1.2,1.2],p=-1,P=f.L3(G,H);
for(var $=0;$<a.length;$++){var z=a[$],Z=N.H.Mn(z.Oe,b,O,P);if(Z!=-1)e=[$,Z];if(p==-1&&N.ZT.J0.apm(z.HS,z.cT,b,O))p=$}if(e==null&&p!=-1){var z=a[p];
f.XS.jq(z,b,O,b,O,0);e=[p,z.p9.length-1];z.x6=N.ZT.B2(z)}this.cl=J;if(e){var W=a[e[0]].c.indexOf(e[1])!=-1;
if(Q.j(a5.K6)&&!W){a[e[0]].c.push(e[1]);this.vf.push(e)}else if(!W){a[e[0]].c=[e[1]];this.vf=[e]}}this.Ks(G)};
f.XS.jq=function(G,m,A,Q,H,J){var b=N.H.Mn(G.HS,m,A);G.p9.push(b);G.Oe.push(Q,H);G.Zf.push(G.HS[b*2]-m,G.HS[b*2+1]-A);
G.pT.push(0);G.Kx.push(!1);G.CT.push(J)};f.XS.prototype.Nr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=this.cl;
if(b)this.yQ(G,J.x-b.x,J.y-b.y,m)};f.XS.prototype.yQ=function(G,m,A,Q){var H={},J=this.vf,b=this.B1;
if(this.sx==null){this.sx=[];for(var $=0;$<b.length;$++)this.sx.push(b[$].Oe.slice(0))}for(var $=0;$<J.length;
$++){var O=this.vf[$],a=O[0],e=b[O[0]],R=O[1]*2;e.Oe[R+0]=this.sx[a][R+0]+m;e.Oe[R+1]=this.sx[a][R+1]+A;
H[a]=a}for(var a in H)N.ZT.qi(this.B1[H[a]]);this.Ks(G);this.Lc(Q)};f.XS.prototype.zL=function(G,m){var A=new j8(r.E.w,!0);
A.b=f.Jb;A.data={d:G,P5:this.a5k,QK:this.QK,ok:this.Xv};m.u(A)};f.XS.prototype.gE=function(G,m,A,Q,H){this.cl=null;
this.sx=null};f.XS.prototype.Lc=function(G){f.XS.z$(this.B1,this.SO,this.Xv);this.zL("edit",G)};f.XS.prototype.Ks=function(G){var m=this.B1,A=this.Xv;
G.v.Gs={s:[],C:[]};G.v.f4=[];G.v.oB=[];for(var $=0;$<m.length;$++){var Q=m[$];for(var H=0;H<Q.c.length;
H++)G.v.oB.push((G.v.f4.length>>>1)+Q.c[H]);G.v.f4=G.v.f4.concat(Q.Oe);if(this.SO[3])N.H.concat(G.v.Gs,N.H.abZ(Q.HS,Q.cT))}G.Iy=!0};
f.XS.Uk=function(G,m,A){var Q=G.buffer,H=G.rect,J=G.aes,b=bH.wZ("rigidTransform");if(J)for(var $=0;$<4;
$++){b["PuX"+$].v=J[$*2];b["PuY"+$].v=J[$*2+1]}var O=b.puppetShapeList.v,a=N.ZT.agr(Q,H.e,H.n,m[1],m[2]),e=[];
for(var R=0;R<a.length;R++){var p={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
p.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var P=a[R];O.push({t:"Objc",v:p});var z=P.px.slice(0);N.H.A(z,new ci(1,0,0,1,H.x,H.y),z);var Z=P.cT;
for(var $=0;$<Z.length;$+=3){var W=Z[$+1];Z[$+1]=Z[$+2];Z[$+2]=W}e.push({cT:Z,px:z,ff:z,HS:z,p9:[],Zf:[],Oe:[],x6:null,c:[],pT:[],Kx:[],CT:[]})}if(A){var T=f.XS.a1(A,[]),i=e[0];
for(var $=0;$<T.length;$++){var X=T[$];for(var U=0;U<X.c.length;U++)i.c.push((i.Oe.length>>>1)+X.c[U]);
for(var U=0;U<X.p9.length;U++){var M=X.p9[U]*2,C=X.px[M]-X.Zf[U*2],x=X.px[M+1]-X.Zf[U*2+1];f.XS.jq(i,C,x,X.Oe[U*2],X.Oe[U*2+1],X.CT[U])}}}f.XS.z$(e,m,b);
return b};f.XS.a1=function(G,m){var A=f.Q.y_,Q=G.puppetShapeList.v,H=[];for(var J=0;J<Q.length;J++){var b=Q[J].v;
m[0]=b.meshRigidity.v-1;m[1]=b.meshQuality.v-1;m[2]=b.meshExpansion.v;var O=b.pinVertexIndices.v.length,a=b.meshBoundaryPath.v.pathComponents.v;
if(a.length!=0){var e=a[0].v.SbpL.v[0].v.Pts;e.v=[]}var R=new Uint32Array(new Uint8Array(b.indexArray.v).buffer),p=new Float32Array(new Uint8Array(b.originalVertexArray.v).buffer),P=new Float32Array(new Uint8Array(b.deformedVertexArray.v).buffer),z=[],Z=[],W=[];
for(var $=0;$<R.length;$++)z.push(R[$]);for(var $=0;$<p.length;$++){Z.push(p[$]);W.push(P[$])}var T=A(b.pinVertexIndices),i=A(b.pinOffsets),X=A(b.posFinalPins),U=A(b.PnRt),M=A(b.PnOv),C=A(b.PnDp),x=A(b.selectedPin);
H.push({cT:z,px:Z,ff:W.slice(0),HS:W,p9:T,Zf:i,Oe:X,x6:null,pT:U,Kx:M,CT:C,c:x})}return H};f.XS.z$=function(G,m,A){function Q(P,z){var Z=[];
for(var $=0;$<P.length;$++)Z.push({t:z,v:P[$]});return Z}function H(P,z,Z){var W=new(Z?Uint32Array:Float32Array)(P),T=new Uint8Array(W.buffer);
for(var $=0;$<T.length;$++)z[$]=T[$]}var J=A.puppetShapeList.v;for(var b=0;b<J.length;b++){var O=G[b],a=J[b].v;
a.meshRigidity.v=m[0]+1;a.meshQuality.v=m[1]+1;a.meshExpansion.v=m[2];H(O.cT,a.indexArray.v,!0);H(O.px,a.originalVertexArray.v);
H(O.HS,a.deformedVertexArray.v);var e=[];for(var $=0;$<O.p9.length;$++){var R=O.p9[$]*2,p=$*2;e[p]=O.px[R]-O.Zf[p];
e[p+1]=O.px[R+1]-O.Zf[p+1]}a.PinP.v=Q(e,"doub");a.pinVertexIndices.v=Q(O.p9,"long");a.pinOffsets.v=Q(O.Zf,"doub");
a.posFinalPins.v=Q(O.Oe,"doub");a.PnRt.v=Q(O.pT,"long");a.PnOv.v=Q(O.Kx,"bool");a.PnDp.v=Q(O.CT,"doub");
a.selectedPin.v=Q(O.c,"long")}};f.q3=function(G,m,A){f.rc.call(this,G?G:[10,40],m?m:f.QB,A?A:"tools/slice");
this.YB=null;this.V_=null;this.jQ=null;this.acF=null;this.oL=null;this.Wi=null};f.q3.prototype=new f.rc;
f.q3.yq=function(G,m){var A=-1;for(var $=0;$<G.length;$++){var Q=f.q3.ZI(G,$);if(Q[0]<=m.x&&m.x<=Q[2]&&Q[1]<=m.y&&m.y<=Q[3]){A=$;
break}}return A};f.q3.prototype.Hk=function(G,m,A,Q,H){if(A==null)return;this.g1(A);if(G.d=="fromAction"){var J=A.G1(),b=A.yo(),O=b==-1?new f_(0,0,A.e,A.n):A.g[b]._Q(),a=[O.x,O.x+O.e],e=[O.y,O.y+O.n];
for(var $=0;$<J[0].length;$++){var R=J[0][$],p=Math.round(R[1]),P=J[1][$];if(P!=-1&&P!=b)continue;if(R[0]==0&&a.indexOf(p)==-1)a.push(p);
if(R[0]==1&&e.indexOf(p)==-1)e.push(p)}a.sort(function(L,E){return L-E});e.sort(function(L,E){return L-E});
for(var z=1;z<e.length;z++)for(var Z=1;Z<a.length;Z++){A.Xz.push(f.q3.Qy());f.q3.lZ(A.Xz,A.Xz.length-1,[a[Z-1],e[z-1],a[Z],e[z]]);
A.Iy=!0}}else if(G.d=="reorder"){if(A.bI.length==0)return;var W=A.Xz,T=A.bI;T.sort(function(L,E){return L-E});
console.log(T);var i=W.slice(0),X=[],U=[];for(var $=0;$<T.length;$++){var M=T[$],C=W[M];U.push(C);i.splice(i.indexOf(C),1)}var x=Math.max(0,Math.min(i.length,T[0]-G.dir));
for(var $=0;$<U.length;$++){i.splice(x+$,0,U[$]);X.push(x+$)}A.Xz=i;A.bI=X}else if(G.d=="delete"){var W=A.Xz.slice(0);
for(var $=0;$<A.bI.length;$++)A.Xz.splice(A.Xz.indexOf(W[A.bI[$]]),1);A.bI=[]}else if(G.d=="deleteAll"){A.Xz=[];
A.bI=[]}else{A.Xz[A.bI[0]].v=G;A.Iy=!0}this.Fh(A)};f.q3.prototype.enable=function(G,m,A,Q,H,J){f.rc.prototype.enable.call(this,G,m,A,Q,H,J);
if(!A.bt.Xz){var b=new j8(r.E.W,!0);b.data={d:r.S.$g,WF:dG.J3};m.u(b)}};f.q3.prototype.disable=function(){this.YB=null;
this.V_=null};f.q3.prototype.K8=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=f.q3.yq(G.Xz,J);if(b==-1)return;
this.YB=G;this.V_=m;G.bI=[b];G.Iy=!0;if(this.Wi==null){this.Wi=new fL([{name:[5,4]},{name:[8,11,1],OZ:!0}]);
this.Wi.J("select",this.Tl,this)}var O=this.Wi;O.parent=m;O._();O.update(G,A);var a=new j8(r.E.W,!0);
a.data={d:r.S.mo,Nc:O,x:H.Gp+2,y:H.Yt+1};m.u(a)};f.q3.prototype.Tl=function(G){var m=this.Wi.Zr()[0],A=this.YB;
if(m==0){this.g1(A);A.Xz.splice(A.bI[0],1);A.bI=[];A.Iy=!0;this.Fh(A)}if(m==1){var Q=new j8(r.E.W,!0);
Q.data={d:r.S.XG,Ue:"soptions",k:A.Xz[A.bI[0]].v};this.V_.u(Q)}};f.q3.prototype.gr=function(G,m,A,Q,H){if(G==null)return;
this.g1(G);var J=G.t.fY(H.x,H.y);J=f.oj.Cj(G,J,A,[!0,null,!1]);J.x=Math.round(J.x);J.y=Math.round(J.y);
this.oL=J;G.Xz.unshift(f.q3.Qy());G.bI=[0];f.q3.lZ(G.Xz,0,[J.x,J.y,J.x+20,J.y+20]);G.Iy=!0};f.q3.prototype.Nr=function(G,m,A,Q,H){if(this.jQ==null)return;
var J=G.t.fY(H.x,H.y),b=this.oL;J=f.oj.Cj(G,J,A,[!0,null,!1]);J.x=Math.round(J.x);J.y=Math.round(J.y);
var O=[b.x,b.y,J.x,J.y];f.q3.M0(O);f.q3.lZ(G.Xz,0,O);G.Iy=!0};f.q3.prototype.gE=function(G,m,A,Q,H){this.Fh(G);
this.oL=null};f.q3.prototype.g1=function(G){this.jQ=JSON.stringify(G.Xz);this.acF=JSON.stringify(G.bI)};
f.q3.prototype.Fh=function(G){var m=JSON.stringify(G.Xz);if(m!=this.jQ){var A=new i3(this.name,this);
A.data={pv:this.jQ,gu:m,amo:this.acF,a8d:JSON.stringify(G.bI)};G.jm(A)}this.jQ=null};f.q3.prototype.Ah=function(G,m){m.Xz=JSON.parse(G.pv);
m.bI=JSON.parse(G.amo);m.Iy=!0};f.q3.prototype.S6=function(G,m){m.Xz=JSON.parse(G.gu);m.bI=JSON.parse(G.a8d);
m.Iy=!0};f.q3.prototype.DV=function(G,m){return m!=null&&m.bI.length!=0&&(G==a5.lV||G==a5.m9)};f.q3.prototype.KY=function(G,m,A,Q){if(G==null)return;
if(Q.j(a5.lV)||Q.j(a5.m9))this.Hk({d:"delete"},m,G,Q,A);var H=Q.Ui();if(H.x!=0||H.y!=0){this.g1(G);f.q3.nL(G,H);
this.Fh(G)}};f.q3.prototype.tZ=function(G,m,A,Q,H){};f.q3.ae6=function(G,m,A,Q){var H=new dw(-m.x,-m.y),J=m.e/A.e,b=m.n/A.n,O=[0,0,m.e,m.n];
for(var $=0;$<G.length;$++){var a=f.q3.ZI(G,$);if(Q){a[0]=Math.round(a[0]*J);a[1]=Math.round(a[1]*b);
a[2]=Math.round(a[2]*J);a[3]=Math.round(a[3]*b)}else{f.q3.R8(a,H);f.q3.a4M(a,O)}if(a[0]>=a[2]||a[1]>=a[3]){G.splice($,1);
$--;continue}f.q3.lZ(G,$,a)}};f.q3.nL=function(G,m){var A=G.Xz;for(var $=0;$<G.bI.length;$++){var Q=f.q3.ZI(A,G.bI[$]);
f.q3.R8(Q,m);f.q3.lZ(A,G.bI[$],Q)}};f.q3.a4M=function(G,m){if(G[0]<m[0])G[0]=m[0];if(G[1]<m[1])G[1]=m[1];
if(m[2]<G[2])G[2]=m[2];if(m[3]<G[3])G[3]=m[3]};f.q3.R8=function(G,m){G[0]=Math.round(G[0]+m.x);G[2]=Math.round(G[2]+m.x);
G[1]=Math.round(G[1]+m.y);G[3]=Math.round(G[3]+m.y)};f.q3.lZ=function(G,$,m){var A=G[$].v.bounds.v;A.Left.v=m[0];
A.Top.v=m[1];A.Rght.v=m[2];A.Btom.v=m[3]};f.q3.ZI=function(G,$){var m=G[$].v.bounds.v;return[m.Left.v,m.Top.v,m.Rght.v,m.Btom.v,$]};
f.q3.M0=function(G){if(G[2]<G[0]){var m=G[0];G[0]=G[2];G[2]=m}if(G[2]==G[0])G[2]++;if(G[3]<G[1]){var m=G[1];
G[1]=G[3];G[3]=m}if(G[3]==G[1])G[3]++};f.q3.Cf=function(G,m){var A=1e9,Q=-1e9,H=1e9,J=-1e9;for(var $=0;
$<m.length;$++){var b=f.q3.ZI(G,m[$]);A=Math.min(A,b[0]);H=Math.min(H,b[1]);Q=Math.max(Q,b[2]);J=Math.max(J,b[3])}return[A,H,Q,J]};
f.q3.Qy=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
f.qd=function(){f.q3.call(this,[10,41],f.LU,"tools/sselect");this.oL=null;this.rn=null;this.sA=null;
this.H3=null;this.s6=!1};f.qd.prototype=new f.q3;f.qd.prototype.gr=function(G,m,A,Q,H){if(G==null)return;
var J=G.t.fY(H.x,H.y),b=f.qd.EA(J,4/G.t.V,G.Xz,G.bI);b.pop();if(b.length!=0){this.oL=J;this.sA=b;this.g1(G);
return}var O=G.Xz,a=f.q3.yq(O,J);if(a==-1)G.bI=[];else{var e=G.bI.indexOf(a);if(Q.j(a5.K6)){if(e==-1)G.bI.push(a);
else G.bI.splice(e,1)}else{G.bI.sort(function(W,T){return W-T});if(e==-1)G.bI=[a];this.oL=J;this.g1(G);
this.rn=f.q3.Cf(O,G.bI);this.H3=[];for(var $=0;$<G.bI.length;$++)this.H3.push(f.q3.ZI(O,G.bI[$]));if(Q.j(a5.Ei)){var R=O.slice(0),p=G.bI,P=[];
for(var $=0;$<p.length;$++){var a=p[$],z=R[a],Z=O.indexOf(z);P.push(Z);O.splice(Z,0,JSON.parse(JSON.stringify(z)))}G.bI=P}}}G.Iy=!0};
f.qd.prototype.Nr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);if(this.oL==null){var b=f.qd.EA(J,4/G.t.V,G.Xz,G.bI),O=b.pop(),a=b.length==0?"default":["ew","nwse","ns","nesw"][O]+"-resize",e=new j8(r.E.W,!0);
e.data={d:r.S.Cv,Ry:a};m.u(e);return}if(!this.s6&&J.A5(this.oL))return;this.s6=!0;var R=G.Xz,b=this.sA;
if(b){J=f.oj.Cj(G,J,A,[!0,null,!1]);var p=Math.round(J.x),P=Math.round(J.y);for(var $=0;$<b.length;$+=2){var z=f.q3.ZI(R,b[$]),Z=b[$+1];
z[Z]=(Z&1)==0?p:P;f.q3.M0(z);f.q3.lZ(R,b[$],z)}}else{var W=J.AV(this.oL),T=this.rn.slice(0);f.q3.R8(T,W);
var i=new f_(T[0],T[1],T[2]-T[0],T[3]-T[1]),X=f.oj.cM(G,i,A,[!0,null,!1],!0);f.oj.Sr(G,i,X);W.x+=X[0];
W.y+=X[1];for(var $=0;$<G.bI.length;$++)f.q3.lZ(R,G.bI[$],this.H3[$]);f.q3.nL(G,W)}G.Iy=!0};f.qd.prototype.gE=function(G,m,A,Q,H){if(this.oL==null)return;
this.Fh(G);G.v.gY=null;G.Iy=!0;this.oL=null;this.sA=null;this.H3=null;this.s6=!1};f.qd.EA=function(G,m,A,Q){var H=G.x,J=G.y,b=[],O=-1,a=[];
for(var $=0;$<Q.length;$++){var e=Q[$],R=f.q3.ZI(A,e),p=R[0],P=R[1],z=R[2],Z=R[3];if(H<p-m||z+m<H||J<P-m||Z+m<J)continue;
var W=[H<p+m,J<P+m,z-m<H,Z-m<J],T=-1;for(var i=0;i<4;i++){if(W[i]&&W[i+1&3])T=1+2*(i&1);if(W[i])b.push(e,i)}if(T==-1){if(W[0]||W[2])T=0;
if(W[1]||W[3])T=2}if(T!=-1){O=T;a.push(e)}}var X=b.length;for(var $=0;$<X;$+=2){var e=b[$],U=b[$+1],M=f.q3.ZI(A,e)[U];
for(var i=0;i<Q.length;i++){var C=Q[i];if(a.indexOf(C)!=-1)continue;var R=f.q3.ZI(A,C);if(R[U&1]==M)b.push(C,U&1);
if(R[2+(U&1)]==M)b.push(C,2+(U&1))}}b.push(O);return b};f.LN=function(){f.iK.call(this,[10,44],f.alI,"tools/oselect");
this.EH="crosshair";this.amC=0};f.LN.prototype=new f.iK;f.LN.prototype.mC=function(G,m,A,Q){if(Math.random()<1/(1+this.amC)){alert("The cross should be fully inside the object.",3500);
this.amC++}};f.LN.prototype.Vz=function(G,m,A,Q){f.kx.QR(G,f.iK.iD,this.V_);if(!Q.U_||!this.Y$)return;
var H=this.E8(G,A,!1),J=H.e,b=H.n,O=H.x,a=H.y,e=H.x+J,R=H.y+b,p=O+J/2,P=a+b/2,z=f.LN.VX;G.v.Gs={s:[O,a,e,a,e,R,O,R,p-J*z,P,p+J*z,P,p,P-b*z,p,P+b*z],C:"M L L L Z M L M L".split(" ")};
G.Iy=!0};f.LN.VX=.12;f.LN.prototype.Jx=function(G,m,A,Q){G.v.Gs=null;G.Iy=!0;this.finish(G,m,A,Q)};f.LN.prototype.getSelection=function(G,m,A,Q){if(this.Ij.A5(this.Y1)||!this.Y$)return null;
var H=this.E8(G,A,!1),J=G.g[G.c[0]];if(H.My()||!H.c0(J.rect))return null;return f.iK.Du("ObSl",H)};f.kx=function(){f.Xi.call(this,[10,37],f.Mx,"tools/qselect");
this.Hn="qselect"};f.kx.prototype=new f.Xi;f.kx.prototype.gr=function(G,m,A,Q,H){this.qn(G,A,Q,H,1);
if(this.Eq==null)return;this.Qe(G)};f.kx.prototype.Nr=function(G,m,A,Q,H){this.Ky(G,m,A);f.kx.QR(G,f.iK.iD,m);
if(this.aV)this._U(G,A,H);if(this.Eq==null)return;if(!H.U_)return;var J=this.tP(G,A,Q,H);if(J!=1)this.Qe(G)};
f.kx.QR=function(G,m,A){if(G&&m.key!=f.kx.XW(G)){m.key=f.kx.XW(G);var Q=G.g[G.c[0]].rect.Z(),J="Image Analysis ...";
if(Q==0)return;var H=Q>1e6,b=new j8(r.E.W,!0);b.data={d:r.S.nw,G5:J};if(H)A.u(b);setTimeout(function(){var O=f.kx.Sl(G);
for(var a in O)m[a]=O[a];var b=new j8(r.E.W,!0);b.data={d:r.S.f0,G5:J};if(H)A.u(b)},30)}};f.kx.XW=function(G){var m=G.c[0],A=G.g[m],Q=A.rect,H=Q.e,J=Q.n,b=H*J,O=A.buffer;
return[m,Q.x,Q.y,H,J,O[0],O[1],O[2],O[3]].join(",")};f.kx.Sl=function(G){var m=G.c[0],A=G.g[m],Q=A.rect,H=Q.e,J=Q.n,b=H*J,O=A.buffer,a=Date.now(),e=N.$(b);
e.fill(128);var R=N.m8.Tw(O,H,J);console.log(Date.now()-a);var p={key:f.kx.XW(G),hj:O,rect:Q.clone(),zp:H,V7:J,G_:12,a0B:!1,MP:e,q0:R,q:N.$(b),nV:null,gM:null,sO:null};
f.kx.Dv(p);return p};f.kx.Dv=function(G,m){var A=G.zp,Q=G.V7,H=0,J=0,b=Date.now(),O=G.nV!=null&&N.m8.aok(G.q0.cT,G.nV.cT,G.nV.SU,G.MP);
H=Date.now()-b;b=Date.now();if(!O&&!G.a0B){G.nV=N.m8.ap(G.q0,A,Q,G.MP,G.G_);if(!N.m8.aok(G.q0.cT,G.nV.cT,G.nV.SU,G.MP)){G.a0B=!0;
console.log("conflict")}G.gM=N.m8.aqu(G.hj,A,Q,G.nV.cT,G.nV.SU);G.sO=[G.gM[0].slice(0),[]];J=Date.now()-b;
b=Date.now()}var b=Date.now();if(m){G.sO[0].set(G.gM[0]);var a=G.gM[1],e=G.sO[1];for(var R=0;R<a.length;
R++)e[R]=a[R].slice(0);N.m8.agb(G.nV.cT,A,Q,G.nV.SU,G.MP,G.q,G.sO)}};f.UR=function(){f.rc.call(this,[10,50],f.L0,"tools/artb");
this.d1=null;this.aj4=!1;this.Q_=null;this.Ea=!1;this.ak_=null;this._3=100;this.LK=null;this.no=0};f.UR.prototype=new f.rc;
f.UR.uo=function(G,m){var A=G[0],Q=0,H=0;if(A==0)H=-1;else if(A==1)Q=1;else if(A==2)H=1;else Q=-1;return[20/m.k5,G[1]+Q*60/m.k5,G[2]+H*60/m.k5]};
f.UR.prototype.tZ=function(G,m,A,Q,H){this.d1=G.WF;this.no=Date.now()};f.UR.prototype.tT=function(G,m,A,Q){if(A.Iu!=this.id)return;
if(G==null||G.c.length!=1){this.Ha(G);return}var H=G.c[0],J=G.g[H],b=J.add.artb;if(b==null){this.Ha(G);
return}if(this.Ea)return;if(Date.now()-this.no>50){this.d1={};var O=["artboardBackgroundType","Clr"];
for(var $=0;$<O.length;$++)if(b[O[$]])this.d1[O[$]]=JSON.parse(JSON.stringify(b[O[$]]));var a=new j8(r.E.W,!0);
a.data={d:r.S.mX,b:this.id,ml:this.d1};m.u(a)}var e=J._Q(),R=N.H.Zt(e).s,p=this.Q_=new iw(R,!0,!1,!1,!0,!1,3,!1);
p.N3(G,A,!1);var P={s:[1,0],C:["M"]};for(var $=1;$<30;$++){var z=Math.PI*2*$/30;P.s.push(Math.cos(z),Math.sin(z));
P.C.push("L")}P.C.push("Z","M","L","M","L");P.s.push(-.5,0,.5,0,0,-.5,0,.5);var Z=e.x+e.e/2,W=e.y+e.n/2,T=this._3*1.1,i=this.ak_=[Z,e.y,e.x+e.e,W,Z,e.y+e.n,e.x,W],X=[0,-T,T,0,0,T,-T,0],U=G.root.children;
G.v.dX=[];for(var $=0;$<4;$++){var M=new dw(i[$*2]+X[$*2],i[$*2+1]+X[$*2+1]),C=!1;for(var x=0;x<U.length;
x++){var J=U[x].i;if(J.add.artb==null)continue;var e=J._Q();if(e.EW(M))C=!0}if(C){i[$*2]=1e9;continue}G.v.dX.push([$,i[$*2],i[$*2+1]])}};
f.UR.prototype.disable=function(G,m,A,Q,H){this.Ha(G)};f.UR.prototype.Ha=function(G){if(this.Q_){this.Q_.clear(G);
this.Q_=null;G.v.dX=null}};f.UR.prototype.gr=function(G,m,A,Q,H){this.no=Date.now();var J=G.t.fY(H.x,H.y),b=this.Q_;
if(b){var O=new j8(r.E.w),a=b.arq(null,J,G,H);if(a<9){this.Ea=b.gr(G,A,Q,J,null,!0,H);return}else if(b.cG(J)){O.b=f.ld;
O.data={d:"disabAuto"};m.u(O);var e=new j8(r.E.W);e.data={d:r.S.ce,b:f.ld,asH:!0};m.u(e);return}else{var R=-1,p=G.v.dX;
for(var $=0;$<p.length;$++){var P=f.UR.uo(p[$],G.t);if(dw.SH(J,new dw(P[1],P[2]))<P[0])R=p[$][0]}if(R!=-1){var z=G.g[G.c[0]]._Q(),Z=z.clone(),W=(R==0||R==2?z.n:z.e)+this._3;
if(R==0||R==3)W=-W;if(R==0||R==2)z.y+=W;else z.x+=W;if(Q.j(a5.Ei)){O.b=f.p4;O.data={d:c.h_};m.u(O);f.oj.II(G,G.n3(null,G.c[0],null,!0),null,z.x-Z.x,z.y-Z.y);
f.MB.IM(G)}else this.N8(G,z,m);return}}}this.LK=f.oj.Cj(G,J,A)};f.UR.prototype.N8=function(G,m,A){var Q=G.g.slice(0),H=[G.g.length+1],J=G.uA();
J.mw("Artboard "+(G.root.children.length+1));J.add.lsct=fM.UK;J.I_(m);if(this.d1){var b=J.add.artb,O=this.d1;
for(var a in O)b[a]=O[a]}J.w4="pass";J.$G=24;if(G.add.artd||m.KB(new f_(0,0,G.e,G.n)).My())Q.push(G.uF());
else Q.unshift(G.uF());Q.push(J);var e=new j8(r.E.w);e.b=f.p4;e.data={d:c.ZO,xQ:Q,xe:H,om:"New Artboard"};
A.u(e)};f.UR.prototype.Nr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=this.Q_,O=this.LK;if(b){if(this.Ea){b.Nr(G,A,Q,J)}else{var a=b.tf(J,G.t.V,null,H);
if(a==null)a="default";var e=new j8(r.E.W,!0);e.data={d:r.S.Cv,Ry:a};m.u(e)}}if(O){var R=this.ZI(G,J,Q,A);
G.v.Gs=N.H.Zt(R);G.Iy=!0;f.rc.ez(H,R,G,A)}};f.UR.prototype.gE=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y),b=this.LK;
if(this.Ea){this.Q_.gE(G,A,Q,J);this.Ea=!1;var O=N.H.Dd(this.Q_.Df()),a=c.wt(O),e=G.g[G.c[0]],R=JSON.parse(JSON.stringify(e.add.artb));
R.artboardRect.v=a;var p=new j8(r.E.w,!0);p.b=f.p4;p.data={d:c.AY,pB:R};m.u(p)}if(b){var P=this.ZI(G,J,Q,A);
if(P.Z()>20)this.N8(G,P,m);G.v.Gs=null;G.Iy=!0;this.LK=null;G.v.Lb=[]}};f.UR.prototype.ZI=function(G,m,A,Q){var H=this.LK,J=f.oj.Cj(G,m,Q),b=f.$V.E5(H,J,A,!0);
H=b[0];J=b[1];return N.H.Dd([H.x,H.y,J.x,J.y])};function iw(G,m,A,Q,H,J,b,O){this.mA=null;this.Q8=G?G.slice(0):null;
this.rR=4;this.Y1=null;this.eP=null;this.Um=null;this.Ip=-1;this.WC=null;this.a8s=!1;this.aqT=[];for(var $=0;
$<8;$++)this.aqT.push(dt.aio(0,PIMG.rotate,-.5,-.5,-45-$*45));this.a7L=m;this.amO=A;this.ae1=Q;this.ahI=H;
this.je=J;this.et=b;this.al5=O==null?1:O}iw.prototype.hs=function(){return this.Ip!=-1};iw.prototype.Df=function(){return this.Q8.slice(0)};
iw.prototype.Mk=function(G){this.Q8=G};iw.prototype.aoo=function(){return this.O5(this.Q8)};iw.prototype.ai$=function(){return this.rR};
iw.prototype.ar2=function(G){this.rR=G};iw.prototype.iy=function(G){if(G==null)G=this.Q8;if(this.rR==9)return this.Y1;
else return this.O5(G)[this.rR]};iw.prototype.asO=function(G){if(this.rR==9)this.Y1=G.clone();else{var m=this.iy(),A=new ci(1,0,0,1,G.x-m.x,G.y-m.y);
N.H.A(this.Q8,A,this.Q8)}};iw.prototype.tf=function(G,m,A,Q){var H=this.og(null,G,m,Q),J;if(H==9)return"default";
if(H==10){if(A)return null;return!this.a7L?"move":null}if(H==-1||H==4)return null;if(H==11){var b=this.iy().AV(G);
J=90-Math.atan2(b.y,b.x)*180/Math.PI;var O=Math.round(8*(J/360));O=(O+8)%8;return this.aqT[O]}else{var a=this.Dg(G,this.Q8);
J=[135,90,45,180,0,0,225,270,315][H];var e=N.N.hh(this.Q8);J+=Math.atan2(-e[3],e[0])*180/Math.PI;var R="ew nesw ns nwse ew nesw ns nwse".split(" "),O=Math.round(8*(J/360));
O=(O+8)%8;return R[O]+"-resize"}};iw.prototype.Dg=function(G,m){var A=N.N.G3(N.N.hh(m)),Q=new Float64Array(2);
N.N.Vl(G.x,G.y,A,Q);return new dw(Q[0],Q[1])};iw.prototype.cG=function(G){var m=this.Dg(G,this.Q8);return 0<=m.x&&m.x<=1&&0<=m.y&&m.y<=1};
iw.prototype.gr=function(G,m,A,Q,H,J,b){this.a8s=J;this.WC=Q;var O=G.t.V,a;if(this.Q8==null)Q=f.oj.Cj(G,Q,m);
this.Um=Q.clone();if(this.Q8==null){this.Um.offset(1,1);var e=H==null?1:1/H;this.Q8=[Q.x,Q.y,Q.x+1,Q.y,Q.x+1,Q.y+e,Q.x,Q.y+e];
a=8}else{a=this.og(A,Q,O,b);if(0<=a&&a<=8)this.Um=this.O5(this.Q8)[a];if(a==9){this.rR=9;this.Y1=Q.clone()}}this.mA=this.Q8.slice(0);
this.Ip=a;this.N3(G,m);this.eP=this.iy();return a!=-1};iw.prototype.arq=function(G,m,A,Q){return this.og(G,m,A.t.V,Q)};
iw.prototype.og=function(G,m,A,Q){var H=-1,J=this.O5(),b=[0,2,6,8,1,3,5,7],O=Q?f.L3({t:{V:A}},Q):6*f.G()/A;
if(H==-1)if(dw.SH(this.iy(),m)<O)H=9;if(H==-1)for(var $=0;$<b.length;$++)if(dw.SH(J[b[$]],m)<O)H=b[$];
if(H==-1&&G&&G.j(a5.Ei))H=9;if(H==-1||this.et==4){if(this.cG(m)){if(this.a7L)H=10}else{var a=this.Dg(m,this.Q8),e=new f_(0,0,1,1);
e.e0(.2,.2);H=e.EW(a)&&this.et!=3?11:10}}return H};iw.prototype.Nr=function(G,m,A,Q){if(this.Ip==-1)return;
this.WC=Q;var H=A.j(a5.K6),J=A.j(a5.Ei),b=A.j(a5.KF),O=G.t.V,a=this.Um,e=this.Ip,R=this.O5(),p=f.oj.Cj(G,a,m),P=f.oj.Cj(G,Q,m),z,Z;
if(e==9){var R=this.O5(),W=-1;for(var $=0;$<R.length;$++)if(dw.SH(R[$],P)*O<10)W=$;this.rR=W==-1?9:W;
this.Y1=H?f.Rd.$H(p,P):P.clone()}else if(e==10){Z=N.H.Cf(this.mA);var T=Z.x,i=Z.y;Z.offset(Q.x-a.x,Q.y-a.y);
if(this.bH()){Z.x=Math.round(Z.x);Z.y=Math.round(Z.y)}z=f.oj.cM(G,Z,m);var X=new ci(1,0,0,1,Z.x-T+z[0],Z.y-i+z[1]);
N.H.A(this.mA,X,this.Q8)}else if(e==11){var U=this.iy(this.mA),M=U.AV(Q),C=U.AV(a),x=Math.atan2(M.y,M.x),L=Math.atan2(C.y,C.x),X=new ci(1,0,0,1,-U.x,-U.y),E=Math.PI/12;
if(H)X.rotate(Math.round((L-x)/E)*E);else X.rotate(L-x);X.translate(U.x,U.y);N.H.A(this.mA,X,this.Q8)}else{var l,y=this.mA,Y=e==0||e==2||e==6||e==8;
if(this.et==1){if(Y)H=J=b=!0}else if(this.et==2&&Y&&this.a8s!=!0)b=!0;if(this.et==3)b=!1;if(this.ae1&&Y&&b){var $=[0,0,2,0,0,0,6,0,4,0][e],F=-1,w=P.x,j=P.y;
if(H){var _=$+6&7,D=$+10&7,t=iw.nb(y[$],y[$+1],y[_],y[_+1],P.x,P.y),K=iw.nb(y[$],y[$+1],y[D],y[D+1],P.x,P.y),d=t[2]<K[2]?t:K;
w=d[0];j=d[1];if(J)F=t[2]<K[2]?_:D}else if(J)F=$+4&7;l=y.slice(0);if(F!=-1){var o=y[F],k=y[F+1],v=(y[$]+o)/2,u=(y[$+1]+k)/2;
l[F]=v-(w-v);l[F+1]=u-(j-u)}l[$]=w;l[$+1]=j}else if(Y&&J){var U=this.eP,B=U.x,S=U.y,I=p.x-B,q=p.y-S,hw=1,fY=1;
if(Math.abs(I)>=1)hw=(P.x-B)/I;if(Math.abs(q)>=1)fY=(P.y-S)/q;if(H||this.je)hw=fY=(hw+fY)/2;var X=new ci;
X.translate(-B,-S);X.scale(hw,fY);X.translate(B,S);l=y.slice(0);N.H.A(l,X,l)}else{if(this.bH()){P.x=Math.round(P.x);
P.y=Math.round(P.y)}var s=[0,1,2,5,8,7,6,3],hZ=s[(s.indexOf(e)+4)%8],bG=[];for(var $=0;$<3;$++)for(var F=0;
F<3;F++)bG.push(new dw(F/2,$/2));var U=this.eP,aY=this.Dg(P,y),fj=this.Dg(a,y),jg=J&&(this.rR==4||this.rR==9)?this.Dg(U,y):bG[hZ],ae=new ci,iB=new ci,hw=(aY.x-jg.x)/(fj.x-jg.x);
if(hw==0)hw=1e-4;var fY=(aY.y-jg.y)/(fj.y-jg.y);if(fY==0)fY=1e-4;if(this.ahI){hw=Math.max(hw,0);fY=Math.max(fY,0)}if(e==0||e==2||e==6||e==8){if(H||this.je)ae.scale(hw,hw);
else ae.scale(hw,fY)}if(e==1||e==3||e==5||e==7){var eg=this.je;if(e==1||e==7)ae.scale(eg?fY:1,fY);else ae.scale(hw,eg?hw:1);
if(this.amO&&b){if(e==1||e==7)iB.Qv=(aY.x-jg.x)/(aY.y-jg.y);else iB.h=(aY.y-jg.y)/(aY.x-jg.x)}}var X=new ci;
X.translate(-jg.x,-jg.y);X.concat(ae);X.concat(iB);X.translate(jg.x,jg.y);l=[0,0,1,0,1,1,0,1];N.H.A(l,X,l);
var d=N.N.hh(y);N.N.A(d,l)}if(iw.tG(l))this.Q8=l}this.N3(G,m);if(z)f.oj.Sr(G,Z,z)};iw.nb=function(G,m,A,Q,H,J){var b=A-G,O=Q-m,a=H-G,e=J-m,R=b*b+O*O,p=a*b+e*O,P=p/R,z=G+P*b,Z=m+P*O,W=H-z,T=J-Z;
return[z,Z,Math.sqrt(W*W+T*T)]};iw.prototype.bH=function(){var G=this.Q8;return Math.abs(G[1]-G[3])<1e-6&&Math.abs(G[2]-G[4])<1e-6||Math.abs(G[0]-G[2])<1e-6&&Math.abs(G[3]-G[5])<1e-6};
iw.tG=function(G){return N.H.gT(G)||N.H.gT([G[6],G[7],G[4],G[5],G[2],G[3],G[0],G[1]])};iw.prototype.gE=function(G,m,A,Q){this.Ip=-1;
this.WC=null;G.v.gY=null;G.v.Lb=[];G.Iy=!0};iw.prototype.KY=function(G,m,A){var Q=A.Ui();if(Q.x||Q.y){var H=new ci(1,0,0,1,Q.x,Q.y);
N.H.A(this.Q8,H,this.Q8);this.N3(G,m);return!0}return!1};iw.prototype.O5=function(G){if(G==null)G=this.Q8;
var m=G[6]-G[0],A=G[7]-G[1],Q=G[4]-G[2],H=G[5]-G[3],J=[G[0],G[1],G[2],G[3],G[0]+m/2,G[1]+A/2,G[2]+Q/2,G[3]+H/2,G[6],G[7],G[4],G[5]],b=[];
for(var $=0;$<3;$++){var O=$*4,a=J[O+0],e=J[O+1],R=J[O+2],p=J[O+3];b.push(new dw(a,e));b.push(new dw(a+(R-a)/2,e+(p-e)/2));
b.push(new dw(R,p))}return b};iw.prototype.N3=function(G,m,A){if(A==null)A=!1;var Q=this.O5(),H=Q[0],J=Q[2],b=Q[6],O=Q[8];
G.v.Gs={C:[],s:[]};G.v.Gs.C.push("M","L","L","L","Z");G.v.Gs.s.push(H.x,H.y,J.x,J.y,O.x,O.y,b.x,b.y);
var a=this.al5;if(a>1){var e=J.AV(H),R=b.AV(H),p=O.AV(J),P=O.AV(b);for(var $=1;$<a;$++){G.v.Gs.C.push("M","L","M","L");
var z=$/a;G.v.Gs.s.push(H.x+e.x*z,H.y+e.y*z,b.x+P.x*z,b.y+P.y*z);G.v.Gs.s.push(H.x+R.x*z,H.y+R.y*z,J.x+p.x*z,J.y+p.y*z)}}G.t.L2=new f_(0,0,dw.SH(Q[0],Q[2]),dw.SH(Q[0],Q[6]));
if(this.Ip!=-1&&this.Ip<9&&this.WC){var Z=G.t.cD(this.WC.x,this.WC.y);f.rc.ez(Z,G.t.L2,G,m)}if(!A){G.v.Wq=[];
for(var $=0;$<Q.length;$++)if($!=4)G.v.Wq.push(Q[$].x,Q[$].y);var W=this.iy();G.v.Wq.push(W.x,W.y)}G.Iy=!0};
iw.prototype.clear=function(G){G.t.L2=null;G.v.gY=null;G.v.Gs=null;G.v.Wq=[];G.Iy=!0};function h$(G,m){this.iZ=null;
this.Ip=-1;this.$E(G)}h$.prototype.mL=function(){return JSON.parse(JSON.stringify(this.iZ))};h$.prototype.$E=function(G){this.iZ=JSON.parse(JSON.stringify(G))};
h$.prototype.cG=function(G){return!0};h$.prototype.tf=function(G,m,A,Q){var H=this.og(G,m,Q);if(H==-1)return"default";
return"pointer"};h$.prototype.gr=function(G,m,A,Q,H,J,b){this.Ip=this.og(Q,G.t.V,b);return this.Ip!=-1};
h$.prototype.og=function(G,m,A){var Q=this.ho(),H=-1,J=1e6;for(var $=0;$<Q.length;$++){var b=dw.SH(Q[$],G);
if(b<J){H=$;J=b}}return J<(A?f.L3({t:{V:m}},A)*2:20*f.G()/m)?H:-1};h$.prototype.Nr=function(G,m,A,Q){if(this.Ip==-1)return;
var H=G.t.V,J=this.Ip,b=N.iZ.vE(this.iZ);b[J*2]=Q.x;b[J*2+1]=Q.y;N.iZ.LX(b,this.iZ)};h$.prototype.gE=function(G,m,A,Q){this.Ip=-1;
G.Iy=!0};h$.prototype.KY=function(G,m,A){var Q=A.Ui();if(Q.x||Q.y){var H=new ci(1,0,0,1,Q.x,Q.y);N.H.A(this.Q8,H,this.Q8);
this.N3(G)}};h$.prototype.ho=function(G){var m=N.iZ.vE(this.iZ),A=[];for(var $=0;$<m.length;$+=2)A.push(new dw(m[$],m[$+1]));
return A};h$.prototype.N3=function(G){var m=this.ho();G.v.Gs={C:[],s:[]};G.v.Gs.C.push("M","C","C","C","C");
var A=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var $=0;$<A.length;$++)G.v.Gs.s.push(m[A[$]].x,m[A[$]].y);
G.v.Gs.C.push("M","L","L","M","L","L","M","L","L","M","L","L");A=[4,0,1,2,3,7,11,15,14,13,12,8];for(var $=0;
$<A.length;$++)G.v.Gs.s.push(m[A[$]].x,m[A[$]].y);G.v.Wq=[];for(var $=0;$<m.length;$++)G.v.Wq.push(m[$].x,m[$].y);
G.Iy=!0};h$.prototype.clear=function(G){G.v.Gs=null;G.v.Wq=[];G.Iy=!0};function jb(){this.Ua=!1;this.rs=!1;
this.aeK=!1;this.afw=!1;this.Qa=!1;this.iC=!1;this.w$=0;this.Nx=0}jb.prototype.gr=function(G){this.Ua=!0;
this.rs=!1;this.Qa=G.j(a5.K6);this.iC=G.j(a5.Ei);this.w$=this.Qa?0:1;this.Nx=this.iC?0:1};jb.prototype.KY=function(G){var m=this.afw=G.j(a5.K6),A=this.aeK=G.j(a5.Ei);
if(this.rs){if(this.w$==0&&!m)this.w$++;if(this.w$==1&&m)this.w$++;if(this.Nx==0&&!A)this.Nx++;if(this.Nx==1&&A)this.Nx++}};
jb.prototype.Nr=function(){this.rs=!0};jb.prototype.gE=function(){this.Ua=!1};jb.prototype.A3=function($){if($==0)return this.Ua?this.iC:this.aeK;
if($==1)return this.rs?this.Nx==2:!1};jb.prototype.$$=function($){if($==0)return this.Ua?this.Qa:this.afw;
if($==1)return this.rs?this.w$==2:!1};f.History=function(){f.rc.call(this,"History",f.c5);this.Si=!0;
this.at1=0};f.History.prototype=new f.rc;f.History.prototype.Hk=function(G,m,A,Q){A.AB=!0;if(G.d=="h_itemchange"){if(G.index<A.kZ)for(var $=A.kZ;
$>G.index;$--)this.Ub(A);if(G.index>A.kZ)for(var $=A.kZ;$<G.index;$++)this.Gb(A)}if(G.d=="h_stepfwd")this.Gb(A);
if(G.d=="h_stepbck")this.Ub(A);if(G.d=="h_undoredo"){var H=this.Si||this.at1!=A.kZ;if(H){this.Ub(A);
H=!1}else{this.Gb(A);H=!0}this.Si=H;this.at1=A.kZ}else this.Si=!0};f.History.prototype.Ub=function(G){if(G.kZ==0)return;
var m=G.history[G.kZ];m.b.Ah(m.data,G);G.kZ--};f.History.prototype.Gb=function(G){if(G.kZ==G.history.length-1)return;
var m=G.history[G.kZ+1];m.b.S6(m.data,G);G.kZ++};f._9=function(){f.rc.call(this,"Layers",f.p4);this.V_=null};
f._9.prototype=new f.rc;f._9.prototype.Hk=function(G,m,A,Q,H){this.V_=m;var J=G.d,b=G.i!=null?G.i:A.c.length!=0?A.c[0]:A.g.length-1,O=A.g[b];
A.bV=!0;var a=Q.j(a5.Ei),e=Q.j(a5.K6),R=Q.j(a5.KF);if(J==c.Xy&&A.q==null&&(A.c.length>1||!A.fE(!1)))J=c.h_;
if(J==c.x_){var p=new i3([6,33],this),P=O.r8()?["pass"].concat(ib.Vh):ib.Vh,z=P[G.wK],Z=G.i!=null?[G.i]:A.c,W=JSON.stringify(Z),T=[];
for(var $=0;$<Z.length;$++)T.push(A.g[Z[$]].w4);p.data={d:J,Dt:W,Ov:T,wK:z};A.jm(p);this.S6(p.data,A);
this.track(ah.RA("Md",{t:"enum",v:{BlnM:ib.hb(z)}}))}if(J==c.h2){var p,i=A.eL(),Z=G.i!=null?[G.i]:A.c,W=JSON.stringify(Z);
if(i&&i.data&&i.data.d==J&&i.data.Dt==W)p=i;else{var X=ah.RA("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(X);var T=[];for(var $=0;$<Z.length;$++)T.push(A.g[Z[$]].opacity);p=new i3([6,32],this);p.data={d:J,Dt:W,Ov:T,wK:G.wK,nP:X.aL};
A.jm(p)}p.data.wK=G.wK;p.data.nP.T.v.Opct.v.val=Math.round(G.wK*100/255);this.S6(p.data,A)}if(J==c.BE){if(O.add.iOpa==null)O.add.iOpa=255;
var p,i=A.eL();if(i&&i.data&&i.data.d==J&&i.data.i==b)p=i;else{p=new i3("Fill Opacity Change",this);
p.data={d:J,i:b,Ov:O.add.iOpa,wK:G.wK};A.jm(p)}p.data.wK=G.wK;this.S6(p.data,A)}if(J==c.FV){var U=G.wK,M=G.i!=null?[G.i]:A.c.slice(0),C=[],x=[],p;
for(var L=0;L<M.length;L++){var E=A.g[M[L]];if(E.add.lspf==null)E.add.lspf=0;var T=E.add.lspf,z=T;for(var $=0;
$<U[0].length;$++){var l=U[1][$],y=1<<l;if((z&y)==0&&U[0][$])z^=y;else if((z&y)!=0&&!U[0][$])z^=y}C.push(T);
x.push(z)}var i=A.eL(),Z=JSON.stringify(M);if(i&&i.data&&i.data.d==J&&JSON.stringify(i.data.Dt)==Z){p=i;
p.data.wK=x}else{var p=new i3([6,57,1],this);p.data={d:J,Dt:Z,Ov:C,wK:x};A.jm(p)}this.S6(p.data,A)}if(J==c.OR){var Y="----",F=G.sb,z=null;
for(var $=0;$<iu.Vx.FD.length;$++)if(O.add[iu.Vx.FD[$]])Y=iu.Vx.FD[$];var w=O.add[Y];if(F=="TySh")z=fC.lw(50,50,H.RG);
var p=new i3("Layer Type",this);p.data={d:J,i:b,apE:[Y,w],sb:[F,z]};A.jm(p);this.S6(p.data,A)}if(J==c.Bg){var M=[];
if(a){var j=A.eL(),_=j?j.data:null;if(j!=null&&j.b==this&&_.d==c.Bg&&_.Dt.length!=1){var D=new j8(r.E.w);
D.b=f.c5;D.data={d:"h_stepbck"};m.u(D);if(_.i==b)return}var t=A.root.Zu(b),K=A.n3(null,b);while(t.parent!=A.root){K.push(t.parent.index);
t=t.parent}for(var $=0;$<A.g.length;$++){var o=A.g[$],k=o.HX(),v=K.indexOf($)!=-1;if(!v&&k)M.push($);
if($==b&&!k)M.push($)}}else{M.push(b);var k=A.g[b].HX(),X={YI:k?"hide":"show",aL:{classID:k?"Hd":"Shw",null:{t:"VlLs",v:[ah.TH("Lyr",!0)]}}};
this.track(X)}var p=new i3("Layer visibility",this,!0);p.data={d:J,Dt:M,i:b};A.jm(p);this.S6(p.data,A)}if(J==c.mq){var u=G.auh,B=G.oH,q,escape=!1,hZ=!1;
if(G.aiK){if(R&&(B==0||B==1||B==2)){var S=0;if(e)S++;if(a)S+=2;var I=new j8(r.E.w,!0);I.b=f.vj;I.data={d:"fromlayer",ii:[G.i,B,S]};
m.u(I);return}}var X={YI:"select",aL:{classID:"null",MkVs:{t:"bool",v:!1}}};if(A.t._T.join("")!="111"){A.t._T=[1,1,1];
A.Iy=!0}for(var $=0;$<A.g.length;$++){var o=A.g[$],hw=o.add.vmsk;if(o.Ct()){var fY=o.mv(A);if(fY&&fY.D&&fY.D.wV){fY.D.wV=!1;
A.Iy=!0}}var s=o.fm();if(s&&s.wV){s.wV=!1;A.Iy=!0}if(hw){if(hw.c.length!=0)hw.c=[];if(hw.PC.length!=0)hw.PC=[]}}if(Q.j(a5.KF)||G.aex==0){var bG=A.c.indexOf(b);
if(bG==-1)A.c.push(b);else if(A.c.length>1)A.c.splice(bG,1);A.c.sort(function(p,aN){return p-aN});X.aL.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
q=b}else if(e&&!a&&B>0){J=B==1?c.Sx:B==2?c.yD:c._R;escape=!0}else if((e||G.aex==1)&&A.c.length>0){var aY=Math.min(b,A.c[0]),fj=Math.max(b,A.c[A.c.length-1]);
A.c=[];for(var $=aY;$<=fj;$++)if(A.g[$].add.lsct!=fM.SB)A.c.push($);X.aL.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
q=b}else{q=b;if(b>=A.g.length)return;var o=A.g[b];if(o&&o.r8()&&G.at3)o.add.lsct=fM.UK;else if(A.c.length==1&&A.c[0]==b&&B==o.Sm){hZ=!0}if(!hZ){A.c=[b];
A.mU()}}if(!hZ){if(q!=null&&q<A.g.length){X.aL.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:A.g[q].getName()}}]},this.track(X)}if(!escape){console.log("no escape");
if(A.c.length==1){var jg=A.c[0];for(var $=0;$<A.g.length;$++){if($==jg)continue;var E=A.g[$];E.Sm=0;
E.ri=!1}var O=A.g[jg];if(B==2){O.ri=!O.ri;A.rY=[]}else if(O){O.Sm=B<=0?0:B}}else for(var $=0;$<A.g.length;
$++){var E=A.g[$];E.Sm=0;E.ri=!1}A.EJ=null;A.AB=!0}}if(G.aiK&&a){if((B==1||B==3)&&u!=null){var I=new j8(r.E.w,!0);
I.b=f._N;I.data={d:"mskView",k:u!=0?0:e?1:2};m.u(I)}else{this.Hk({d:c.Y5,i:G.i},m,A,Q,H)}}}if(J==c.Sx||J==c._R){var ae=J==c.Sx,iB=ae?O.fm():O.mv(A).D;
if(iB==null)return;var p=new i3(iB.isEnabled?ae?[6,15]:[6,42]:ae?[6,14]:[6,41],this);p.data={d:J,i:b};
A.jm(p);this.S6(p.data,A)}if(J==c.yD){var iB=O.add.vmsk;if(iB==null)return;var p=new i3(iB.isEnabled?[6,17]:[6,16],this);
p.data={d:J,i:b};A.jm(p);this.S6(p.data,A)}if(J==c.C1){var eg=O.add.lsct==fM.UK?fM.mJ:fM.UK;if(Q.j(a5.KF)){var dM=A.root.Zu(A.g.indexOf(O)).parent;
for(var $=0;$<dM.children.length;$++){var fK=dM.children[$].i;if(fK.r8())fK.add.lsct=eg}}else O.add.lsct=eg;
A.AB=!0}if(J==c.Y5){if(!A.Sj(b))return;var p=new i3(O.hd?[6,19]:[6,18],this);p.data={d:J,i:b};A.jm(p);
if(G.wK==null||G.wK!=O.hd)this.S6(p.data,A)}if(J==c.d9){if(O.Pq())O.$G-=32;else O.$G+=32;A.AB=!0}if(J==c.rA||J==c.cJ){var p;
if(J==c.rA)p=new i3(O.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(J==c.cJ)p=new i3(O.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
p.data={d:J,i:b};A.jm(p);this.S6(p.data,A)}if(J==c.ar||J==c.bF){var jg=G.index,p;if(J==c.ar)p=new i3(O.add.lmfx[hK.HK[jg[0]]].v[jg[1]].v.enab.v?[6,30]:[6,29],this);
if(J==c.bF)p=new i3(O.add.SoLd.filterFX.v.filterFXList.v[jg].v.enab.v?[6,44]:[6,43],this);p.data={d:J,i:b,index:G.index};
A.jm(p);this.S6(p.data,A)}if(J==c.XM){if(G.src==G.y4)return;var aQ=A.g[G.src],cQ=A.g[G.y4],a7=aQ.add.lmfx?JSON.stringify(aQ.add.lmfx):"",gz=cQ.add.lmfx?JSON.stringify(cQ.add.lmfx):"";
if(cQ.add.lmfx==null){cQ.add.lmfx=JSON.parse(hK.default);for(var $=0;$<hK.order.length;$++)cQ.add.lmfx[hK.HK[$]]={t:"VlLs",v:[]}}if(G.c2==null){cQ.add.lmfx=JSON.parse(a7);
if(!a)delete aQ.add.lmfx}else{var bQ=G.c2[0],d4=hK.HK[bQ];if(hK.abr.indexOf(hK.order[bQ])==-1)cQ.add.lmfx[d4].v=[];
cQ.add.lmfx[d4].v.push(aQ.add.lmfx[d4].v[G.c2[1]]);if(!a)aQ.add.lmfx[d4].v.splice(G.c2[1],1)}var j2=aQ.add.lmfx?JSON.stringify(aQ.add.lmfx):"",j7=cQ.add.lmfx?JSON.stringify(cQ.add.lmfx):"";
if(!cQ.Pq())cQ.$G+=32;var p=new i3("Move Layer Styles",this);p.data={d:J,V8:G.src,Fu:G.y4,a6_:a7,alo:gz,aqm:j2,a4m:j7};
A.jm(p);this.S6(p.data,A)}if(J==c.jR){if(G.src!=null)b=G.src;var E=A.g[b],fG=JSON.stringify(E.add.SoLd),bT=JSON.parse(fG),je=bT.filterFX.v.filterFXList.v;
je.splice(G.c2,1);var p=new i3([6,53],this);p.data={d:c.P7,ll:[{Mw:b,k$:[fG,JSON.stringify(bT)]}]};A.jm(p);
this.S6(p.data,A)}if(J==c.jh){var ba=a,aQ=A.g[G.src],cQ=A.g[G.y4],j6=[];if(aQ!=cQ&&cQ.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(aQ==cQ&&!ba&&(G.c2==G.Hs||G.c2==-1))return;var cl=aQ.mv(A),fG=JSON.stringify(aQ.add.SoLd),bT=JSON.parse(fG),je=bT.filterFX.v.filterFXList.v;
if(aQ==cQ){je.splice(G.Hs,0,je[G.c2]);if(!ba)je.splice(G.c2+(G.c2<G.Hs?0:1),1);j6.push({Mw:G.src,k$:[fG,JSON.stringify(bT)]})}else if(G.c2==-1){var js=bT.filterFX;
if(!ba){delete bT.filterFX;j6.push({Mw:G.src,k$:[fG,JSON.stringify(bT)],M$:[cl,null]})}var fR=cQ.Ct()?cQ.mv(A):null,iW=fy.arS(cl),fx=JSON.stringify(cQ.add.SoLd),dm=JSON.parse(fx);
dm.placed.v=iW.id;dm.filterFX=js;j6.push({Mw:G.y4,k$:[fx,JSON.stringify(dm)],M$:[fR,iW]})}else{var fq=je[G.c2];
if(!ba){je.splice(G.c2,1);j6.push({Mw:G.src,k$:[fG,JSON.stringify(bT)]})}var fx=JSON.stringify(cQ.add.SoLd),dm=JSON.parse(fx);
if(dm.filterFX==null)dm.filterFX=bH.PG();var h2=dm.filterFX.v.filterFXList.v;h2.splice(G.Hs,0,fq);var jj={Mw:G.y4,k$:[fx,JSON.stringify(dm)]};
if(!cQ.Ct()){var iW=fy.ac0(cQ.add.SoLd.placed.v);jj.M$=[null,iW]}j6.push(jj)}var p=new i3([6,52],this);
p.data={d:c.P7,ll:j6};A.jm(p);this.S6(p.data,A)}if(J==c.Xb){var iB=O.fm(),p=new i3(iB.v5?[6,26]:[6,25],this);
p.data={d:J,i:b};A.jm(p);this.S6(p.data,A);this.track({YI:"set",aL:{classID:"setd",null:{t:"obj ",v:[ah.TH("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:iB.v5}}}}})}if(J==c.tE){var iB=O.add.vmsk,p=new i3(iB.v5?[6,28]:[6,27],this);
p.data={d:J,i:b};A.jm(p);this.S6(p.data,A)}if(J==c.bg){var iM=[],p;for(var $=0;$<A.c.length;$++){var L=A.c[$],o=A.g[L];
if(o.add.vogk)iM.push(L,JSON.stringify(o.add.vogk))}for(var $=0;$<A.rY.length;$++){var L=A.rY[$],o=A.Sq[L];
if(o.add.vogk)iM.push(-1-L,JSON.stringify(o.add.vogk))}N.Nv.afu(A,G.k);var aC=[];for(var $=0;$<A.c.length;
$++){var L=A.c[$],o=A.g[L];if(o.add.vogk)aC.push(L,JSON.stringify(o.add.vogk))}for(var $=0;$<A.rY.length;
$++){var L=A.rY[$],o=A.Sq[L];if(o.add.vogk)aC.push(-1-L,JSON.stringify(o.add.vogk))}var i=A.eL();if(i&&i.data&&i.data.d==J){var aB=!0;
for(var $=0;$<iM.length;$+=2)if(iM[$]!=i.data.bc[$])aB=!1;if(aB){p=i;p.data.aP=aC}}if(p==null){var p=new i3([12,91,1],this);
p.data={d:J,bc:iM,aP:aC};A.jm(p)}this.S6(p.data,A)}if(J==c.AY){var ep=JSON.stringify(O.add.artb),h6=JSON.stringify(G.pB),p;
A.g[b].add.artb=JSON.parse(h6);var dJ=new f_(0,0,A.e,A.n),gs=f.MB._y(A),i=A.eL();if(i&&i.data&&i.data.d==J&&i.data.i==b){p=i;
p.data.pB=h6}if(p==null){var p=new i3("Editing Artboard",this);p.data={d:J,i:b,anZ:ep,pB:h6,br:dJ};A.jm(p)}p.data.h4=gs;
this.S6(p.data,A)}if(J==c.ex){var aC=A.Hv.slice(0),ej=A.UX.slice(0),eH=A.q,hT=A.q;if(G.Nm=="fromAction"){var dO=G.k.YI,fE=G.k.aL;
if(dO=="make"||dO=="duplicate"){var hD=aC.length,iQ=!1,iS=!1;if(A.It())hD--;var d9=new c.Mz;d9.name="Alpha "+(hD+1);
if(dO=="make"){var bZ=fE.Nw.v;d9.color=255;ej=[hD];d9.wV=!0;d9._A=bZ.Opct.v;if(bZ.Nm)d9.name=bZ.Nm.v;
if(bZ.classID=="SCch"){iQ=!0;hT=null;d9.O7=1}}else{var dy=fE.null.v[0].v;if(dy.keyID=="fsel")iQ=!0;else{var eE=f.iK.Z7(A);
hT=f.iK.ds(A,eE);d9.color=0;d9.rect=hT.rect;d9.channel=hT.channel}}if(iQ){d9.color=0;if(A.q){d9.rect=A.q.rect.clone();
d9.channel=A.q.channel.slice(0)}if(iS){d9.color=255-d9.color;N.G3(d9.channel)}}aC.splice(hD,0,d9)}else if(dO=="delete"){if(O&&O.fm()&&O.Sm==1){this.Hk({d:c.qu},m,A,Q,H);
return}var K=A.UX;K.sort(function(p,aN){return aN-p});if(K.length==0)return;for(var $=0;$<K.length;$++)aC.splice(K[$],1);
ej=[]}else if(dO=="hide"){aC[ej[0]]=aC[ej[0]].clone();aC[ej[0]].wV=!1}}if(G.Nm=="rnm"){aC[G.lW]=aC[G.lW].clone();
aC[G.lW].name=G.name}var p=new i3("Channel Edit",this);p.data={d:J,bc:A.Hv.slice(0),uq:A.UX.slice(0),aP:aC,JQ:ej,wX:eH,xe:hT};
this.S6(p.data,A);A.jm(p)}if(J==c.ZO){var jr=new f_(0,0,A.e,A.n),p=new i3(G.om,this);p.data={d:c.ZO,vP:A.g.slice(0),xQ:G.xQ,ig:A.c.slice(0),kW:G.xe};
A.jm(p);this.S6(p.data,A);var dr=f.MB.IM(A);if(dr){p.data.br=jr;p.data.h4=dr}}if(J==c.ip){var jL=A.n3(null,G.i),aF=1e10;
if(jL.length==0)return;if(A.g.length==jL.length){alert("Project must have at least 1 layer");return}var dI=[];
for(var $=0;$<A.g.length;$++)if(jL.indexOf($)==-1)dI.push(A.g[$]);for(var $=0;$<jL.length;$++)aF=Math.min(aF,jL[$]);
aF=Math.max(aF-1,0);while(dI[aF].name=="</Layer group>")aF++;this.track({YI:"delete",aL:{classID:"Dlt",null:ah.TH("Lyr",!0)}});
var p=new i3([6,31],this);p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:[aF]};A.jm(p);this.S6(p.data,A)}if(J==c.th){if(!Q.j(a5.K6))return;
var p=new i3("Switch Layer Link",this);p.data={d:J,i:G.i};A.jm(p);this.S6(p.data,A)}if(J==c.GS){var K=G.a7F?G.a7F:A.c,gd=0,hM=!1;
if(K.length==0)return;if(K.length==1&&A.g[K[0]].yU==0){alert(f5.get([15,7,5]));return}var eG=[];for(var $=0;
$<A.g.length;$++){var bb=A.g[$].yU;eG.push(bb);gd=Math.max(gd,bb)}var cD=-1,fr=-1;for(var $=0;$<K.length;
$++){var bb=A.g[K[$]].yU;if(bb==0)hM=!0;else if(cD==-1||cD==bb)cD=bb;else fr=bb}if(!hM)for(var $=0;$<K.length;
$++)A.g[K[$]].yU=0;else if(cD!=-1&&fr==-1)for(var $=0;$<K.length;$++)A.g[K[$]].yU=cD;else for(var $=0;
$<K.length;$++)A.g[K[$]].yU=gd+1;var cp=[];for(var $=0;$<A.g.length;$++){var bb=A.g[$].yU;if(cp[bb]==null)cp[bb]=0;
cp[bb]++}for(var $=0;$<A.g.length;$++){var bb=A.g[$].yU;if(cp[bb]==1)A.g[$].yU=0}var cG=eG;eG=[];for(var $=0;
$<A.g.length;$++){var bb=A.g[$].yU;eG.push(bb);gd=Math.max(gd,bb)}var p=new i3(hM?[6,54,0]:[6,54,1],this);
p.data={d:c.GS,a59:cG,a6Y:eG};A.jm(p);this.S6(p.data,A)}if(J==c.h_&&(G.i!=null||A.c.length!=0)||J==c.eI){var eX=A.xG(J==c.h_?G.i:b,null,G.a2c),eN;
if(J==c.eI){var E=eX[0],dO=E.add.SoLd.Idnt.v,iF=A.Nd(dO).clone();E.add.SoLd.Idnt.v=iF.kl=fy.p0()+dO.slice(8);
A.add.lnk2.push(iF)}if(J==c.h_){var ay={YI:"duplicate",aL:{classID:"null",null:ah.TH("Lyr",!0)}};if(G.qo){eX[0].mw(G.qo);
ay.Nm={t:"TEXT",v:G.qo}}this.track(ay);G.a8I=G.i}J=c.zZ;G.g=eX;G.dL=A;G.YL=A}if(J==c.zZ){var iJ,hY,gv=G.dL,ix=G.YL,bu=0,gH=0,iN=!1,cj=0,bC=0;
if(gv!=ix){console.log("ADDLAYERS different projs");var iJ=new f_(0,0,gv.e,gv.n),hY=new f_(0,0,ix.e,ix.n),f1=[],ao=[];
for(var $=0;$<G.g.length;$++){var E=G.g[$];if(E.add.SoLd==null)continue;var dO=E.add.SoLd.Idnt.v;if(f1.indexOf(dO)==-1){f1.push(dO);
ao.push(fy.p0()+dO.slice(8))}E.add.SoLd.Idnt.v=ao[f1.indexOf(dO)];var cl=E.mv(gv);if(cl){gv.lN(cl);ix.Ci(cl)}}if(f1.length>0){if(ix.add.lnk2==null)ix.add.lnk2=[];
for(var $=0;$<f1.length;$++){var fm=gv.Nd(f1[$]),iF=fm.clone();iF.kl=ao[$];ix.add.lnk2.push(iF)}}}var eH=ix.c.slice(0);
eH.sort(function(p,aN){return p-aN});var dI=ix.g.slice(0),hT=[],gE=-1;for(var $=0;$<eH.length;$++)gE=Math.max(gE,eH[$]);
if(G.a8I!=null)gE=G.a8I;var fU=gv.yo();if(G.WZ){gE=G.WZ-1;var c7=ix.g[G.WZ]._Q();bu+=c7.x;gH+=c7.y}if(fU!=-1&&(gv!=ix||G.WZ)){var aL=gv.g[fU]._Q();
bu-=aL.x;gH-=aL.y}var hF=ix.G1();gE++;for(var $=0;$<G.g.length;$++){var o=G.g[$],aq=o.add.artb;dI.splice(gE,0,o);
hT.push(gE);gE++;if(aq){var h7=aq.guideIndeces;if(h7){h7=h7.v;console.log(h7);for(var hm=0;hm<h7.length;
hm++){hF[0].push(gv.Ld[h7[hm].v].slice(0));hF[1].push(dI.indexOf(o));iN=!0}}}}for(var $=0;$<G.g.length;
$++){var o=G.g[$];if(O.add.lsct==fM.SB){if(cj==0)bC++;cj++}else if(o.r8())cj--}if(bC==1)hT=[gE-1];var p=new i3([6,0],this);
p.data={d:c.ZO,vP:ix.g.slice(0),xQ:dI,ig:eH,kW:hT};if(iN){p.data.p1=[ix.G1(),hF]}ix.jm(p);this.S6(p.data,ix);
if(bu!=0||gH!=0)f.oj.II(ix,ix.n3(),null,bu,gH)}if(J==c.u$){var cd=G.i!=null?[G.i]:A.n3(),dI=A.g.slice(0);
for(var $=0;$<cd.length;$++){var o=A.g[cd[$]].clone();o.oM(A);dI.splice(cd[$],1,o)}var p=new i3([6,8],this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:A.c.slice(0)};A.jm(p);this.S6(p.data,A)}if(J==c.Dz){var dI=A.g.slice(0),o=dI[A.c[0]]=dI[A.c[0]].clone(),jH=o.add.lmfx,fp=0;
delete o.add.lmfx;var hi=N.$(o.rect.Z());N.gF(o.buffer,hi,3);var aK=en.nr(jH,null,hi,o.rect,A,o.rect).type;
for(var $=0;$<hK.order.length;$++){var gA=hK.order[$],ch=aK[gA],a9=$>7;for(var hm=0;hm<ch.length;hm++){var dB=ch[hm],Z=A.uA();
Z.w4=dB.kb;Z.opacity=Math.round(255*dB.uD);Z.hd=!a9;Z.buffer=dB.uw;Z.rect=dB.Yb;Z.rect.offset(o.rect.x,o.rect.y);
Z.mw(o.getName()+"'s "+f5.get(hK.names[$]));dI.splice(A.c[0]+(a9?0:1),0,Z);if(a9)fp++}}var p=new i3("Styles to Layers",this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:[A.c[0]+fp]};A.jm(p);this.S6(p.data,A)}if(J==c.bf){var cd=A.n3(),dI=A.g.slice(0),cw=new f_(0,0,A.e,A.n);
for(var $=0;$<cd.length;$++){var ds=A.g[cd[$]],i9=ds.HX();ds.YQ(!0);var hB=A.root.Zu(cd[$]);if(ds.r8())continue;
if(hB==null)continue;var o=ds.clone();o.oM(A);var b_=hB.E8(A,!0),az=A.g;A.g_([ds]);A.F();A.kn();o.buffer=N.$(b_.Z()*4);
N.Pr(A.$s(),cw,o.buffer,b_);o.rect=b_;o.opacity=255;o.add.iOpa=255;o.w4="norm";o.F();o.zr.sj=!0;A.g_(az);
if(o.add.lmfx)delete o.add.lmfx;o.D=o.Vp=null;dI.splice(cd[$],1,o);o.YQ(i9);ds.YQ(i9)}var p=new i3([6,34],this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:A.c.slice(0)};A.jm(p);this.S6(p.data,A)}if(J==c.pp){var cd=A.n3(),dI=A.g.slice(0);
for(var $=0;$<cd.length;$++){var o=A.g[cd[$]],dH=o.add.TySh;if(dH==null)continue;var E=new dq(dH.DQ,H.O8),eD=N.H.HB(g5.xT(E,dH));
for(var eI in eD){var cI=eD[eI],fK=o.clone();delete fK.add.TySh;fK.$G=fK.$G|1<<4;fK.add.SoCo=JSON.parse(JSON.stringify(hK.XE[0]));
var aV=fK.add.SoCo.Clr.v;aV.Rd.v=parseInt(eI.slice(1,3),16);aV.Grn.v=parseInt(eI.slice(3,5),16);aV.Bl.v=parseInt(eI.slice(5,7),16);
var bh=new c.Rl;bh.Y=N.H.ev(cI,!1);if(fK.add.vmsk!=null){fK.add.vmsk.atv();bh.concat(fK.add.vmsk)}fK.add.vmsk=bh;
fK.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));fK.ON();fK.hM(A);dI.splice(dI.indexOf(o),0,fK)}dI.splice(dI.indexOf(o),1)}var hT=A.c.slice(0);
for(var $=hT.length-1;$>=0;$--)if(hT[$]>=dI.length)hT.splice($,1);var p=new i3([6,40],this);p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:hT};
A.jm(p);this.S6(p.data,A)}if(J==c.Wt){var fF=A.c.length;if(fF<2){alert("Select two or more layers.");
return}if(!A.CZ())return;var fK=A.g[A.c[0]].clone(),dI=[];for(var $=0;$<A.g.length;$++)if(A.c.indexOf($)==-1)dI.push(A.g[$]);
dI.splice(A.c[0],0,fK);for(var $=1;$<fF;$++)if(A.g[A.c[$]].rect.Z()>2e6){alert("Blended areas are too large.");
return}for(var $=1;$<fF;$++){var o=A.g[A.c[$]],eL=o.rect.clone();eL.e0(1,1);var aN=N.$(eL.Z()*4);N.Pr(o.buffer,o.rect,aN,eL);
fK.extend(eL);var eR=N.$(eL.Z()*4);N.Pr(fK.buffer,fK.rect,eR,eL);var p=N.$(eL.Z());N.gF(aN,p,3);N.round(p,200);
N.I5(p,aN,3);N.a.zc("norm",aN,eL,eR,eL,eL,1);N.H8.YT(eR,p,eL);N.Pr(eR,eL,fK.buffer,fK.rect)}var p=new i3([2,10,0],this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:[A.c[0]]};A.jm(p);this.S6(p.data,A)}if(J==c.Cr){var dI=A.g.slice(0),ej=A.c.slice(0);
for(var $=0;$<dI.length;$++){var o=dI[$],hw=o.add.vmsk;if(o.gX()&&hw&&o.add.vstk.strokeEnabled.v&&!o.add.vstk.fillEnabled.v){var bk=hw.Y,cY=0,cT=-1;
for(var hm=0;hm<bk.length;hm++){if((bk[hm].type==0||bk[hm].type==3)&&bk[hm]._t!=-1){cY++;if(bk[hm].type==3&&cT==-1){bk[hm].Jk=bk[hm]._t=1;
cT=hm}}}if(cY>1&&cT!=-1){console.log("separating an open path into a new layer");o=o.clone();hw=o.add.vmsk;
bk=hw.Y;var Z=bk[cT].length,cV=o.clone();cV.add.lyid=A.Ti();hw.Y=bk.slice(0,2).concat(bk.slice(cT,cT+Z+1));
hw.c=[];o.hM(A);o.F();var hr=cV.add.vmsk.Y;cV.add.vmsk.Y=hr.slice(0,cT).concat(hr.slice(cT+Z+1,hr.length));
cV.add.vmsk.c=[];cV.hM(A);dI[$]=o;dI.splice($+1,0,cV);for(var hm=0;hm<ej.length;hm++)if(ej[hm]>$)ej[hm]++;
var i$=ej.indexOf($);if(i$!=-1){ej.splice(i$+1,0,$+1)}}}}if(dI.length!=A.g.length){var p=new i3("Splitting open paths",this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:ej};A.jm(p);this.S6(p.data,A)}}if(J==c.x9){this.Hk({d:c.Cr},m,A,Q,H);
var eH=A.c.slice(0),az=A.g.slice(0),cd=A.n3();if(cd.length==0)return;A.a5Y(cd,!1,G.RI);var p=new i3([6,36,0],this);
p.data={d:c.ZO,vP:az,xQ:A.g.slice(),ig:eH,kW:A.c.slice(0)};A.jm(p);this.S6(p.data,A)}if(J==c.VT){var fG=O.add.SoLd;
if(fG==null)return;var dO=fG.Idnt.v,eJ=A.Nd(dO);eJ.$s(!1);var iK=eJ.CX[0],eL=eJ.CX[1];if(N.VG(iK)){alert("The smart object contains transparency.");
return}var fV=dt.aW("jpg").Af([[iK.buffer]],eL.e,eL.n,[90]);this.Hk({d:c.h$,EY:A,data:new Uint8Array(fV),id:dO,RI:"jpg"},m,A,Q,H);
console.log(A.add);return}if(J==c.h$){var fm=G.EY.Nd(G.id),iF=fm.clone();iF.raw=G.data;if(G.Vc)iF.Vc=G.Vc;
if(G.RI){iF.Ez="    ";iF.D2="    ";iF.Vc=iF.Vc+"."+G.RI}else{iF.Ez="8BIM";iF.D2="8BPB";iF.Vc=iF.Vc+".psd"}iF.$s(!1);
fm.$s(!1);var p=new i3([6,36,1],this);p.data={d:c.h$,id:G.id,wk:fm,pS:iF};G.EY.jm(p);this.S6(p.data,G.EY)}if(J==c.MH){var p=new i3([6,36,4],this);
p.data={d:J,i:b,Ge:O.add.SoLd.Impr.v.classID,wK:G.wK};A.jm(p);this.S6(p.data,A)}if(J==c.On){var h0,d$;
if(G.l4){h0=G.EY;d$=G.l4}else{G.EY.WW();G.EY.Ao();G.EY.F();G.EY.kn();G.EY.$s();h0=dt.aW("PSD").Af(G.EY,0,0,[!0,!0]);
d$=G.EY.name}if(!(h0 instanceof ArrayBuffer))throw"e";h0=new Uint8Array(h0);var bG=G.aY;if(bG==null){if(A.c.length==0)bG=A.c.length;
else{var dl=A.c[A.c.length-1],Z=A.g[dl];bG=Z.r8()?dl:dl+1}}var jS=new f_(0,0,A.e,A.n),gQ=A.yo();if(gQ!=-1)jS=A.g[gQ]._Q();
var bO=A.Ak(h0,d$,0,0,jS),dI=A.g.slice(0);dI.splice(bG,0,bO);var p=new i3([6,36,2],this);p.data={d:c.ZO,vP:A.g.slice(),xQ:dI,ig:A.c.slice(0),kW:[dI.indexOf(bO)]};
A.jm(p);this.S6(p.data,A)}if(J==c.pU&&G.Nm=="merge"){var b2=[],cx=A.root.children,aT=0;for(var $=0;$<cx.length;
$++){var t=cx[$],o=t.i,dQ=t.children,dR=!0;if(!o.r8()||dQ.length==0)continue;for(var hm=0;hm<dQ.length;
hm++)if(!dQ[hm].i.getName().startsWith("_a_")){dR=!1;break}if(dR)b2.push(A.g.indexOf(o))}var iC=[];for(var $=0;
$<b2.length;$++)if(A.c.indexOf(b2[$])!=-1)iC.push(b2[$]);if(iC.length>=2)b2=iC;if(b2.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var cC=[];for(var $=0;$<b2.length;$++)cC.push(A.g[b2[$]].getName());var ch=[];for(var h1=0;h1<b2.length;
h1++){var t=A.root.Zu(b2[h1]),jj=[[],[],0,h1];ch.push(jj);for(var $=0;$<t.children.length;$++){var L=t.children[$].index,o=t.children[$].i,d9=o.getName(),aG=20,cy=d9.split(",");
if(cy.length>1){var aD=parseInt(cy.pop());if(!isNaN(aD)&&aD!=0)aG=aD}jj[0].push(o);jj[1].push(aG);jj[2]+=aG}}ch.sort(function(p,aN){return aN[2]-p[2]});
var jl=ch[0],jQ=jl[2];for(var c5=1;c5<ch.length;c5++){var jj=ch[c5],iY=1,jP=jj[1].slice(0),iz=0;while((iY+1)*jj[2]<=jl[2]){iY++;
jP=jP.concat(jj[1])}jj[1]=jP;jj[2]*=iY;var d8=jl[2]/jj[2];for(var $=0;$<jj[1].length;$++){var ij=Math.floor(jj[1][$]*d8);
jj[1][$]=ij;iz+=ij}while(iz<jQ){iz++;jj[1][jj[1].length-1]++}jj[2]=iz}var jR=[],j0=[],ij=[];for(var $=0;
$<ch.length;$++){jR.push(0);j0.push(0)}while(aT<jQ){var c1=1e9,hD=-1;for(var $=0;$<ch.length;$++){var hR=ch[$][1],gI=jR[$];
if(gI!=hR.length&&j0[$]+hR[gI]<aT+c1){hD=$;c1=j0[$]+hR[gI]-aT}}j0[hD]+=ch[hD][1][jR[hD]];jR[hD]++;if(c1!=0){ij.push(c1);
aT+=c1}}for(var $=1;$<ij.length;$++){var fn=ij[$];if(fn<16&&(ij[$-1]<16||$<ij.length-1&&16<=ij[$+1])){ij[$-1]+=fn;
ij.splice($,1);$--}}var i9=[],cw=new f_(0,0,A.e,A.n);for(var $=0;$<A.g.length;$++){i9[$]=A.g[$].HX();
A.g[$].YQ(!1)}var aU=A.c.slice(0);A.c=b2;var jL=A.n3();jL.sort(function(p,aN){return p-aN});var dI=[];
for(var $=0;$<A.g.length;$++){if(jL.indexOf($)==-1)dI.push(A.g[$])}ch.sort(function(p,aN){return p[3]-aN[3]});
function dj(hR,aS){var $=0,cc=0;while(cc+hR[$]<=aS){cc+=hR[$];$++}return $}aT=0;dI.splice(jL[0],0,A.uF());
for(var c0=0;c0<ij.length;c0++){var M=[];for(var $=0;$<ch.length;$++){var gI=dj(ch[$][1],aT)%ch[$][0].length,o=ch[$][0][gI];
M.push(o)}var o=A.uA();for(var $=0;$<ch.length;$++){var ag=M[$],dM=A.g[b2[$]];ag.YQ(!0);dM.YQ(!0)}A.F();
A.kn();var iK=A.$s();o.rect=N.aG(iK,cw,2);o.buffer=N.$(o.rect.Z()*4);N.Pr(iK,cw,o.buffer,o.rect);for(var $=0;
$<ch.length;$++){var ag=M[$],dM=A.g[b2[$]];ag.YQ(!1);dM.YQ(!1)}o.YQ(c0==0);o.mw("_a_frm"+c0+","+ij[c0]);
dI.splice(jL[0]+1+c0,0,o);aT+=ij[c0]}var o=A.uA();o.mw(cC.join(" + "));o.w4="pass";o.add.lsct=fM.mJ;
o.$G=24;dI.splice(jL[0]+1+ij.length,0,o);for(var $=0;$<A.g.length;$++)A.g[$].YQ(i9[$]);var p=new i3([6,12,0],this);
p.data={d:c.ZO,vP:A.g,xQ:dI,ig:aU,kW:[jL[0]+1+ij.length]};A.jm(p);this.S6(p.data,A)}if(J==c.ZH||J==c.li||J==c.iq){var az=A.g.slice(0),eH=A.c.slice(0),eP=!0,bO,hT;
if(J==c.ZH)A.c=[b,b-1];if(J==c.iq){A.c=[];for(var $=0;$<A.g.length;$++)if(A.g[$].HX())A.c.push($)}var cd=A.n3();
cd.sort(function(p,aN){return p-aN});var eM=new f_,cw=new f_(0,0,A.e,A.n);for(var $=0;$<cd.length;$++){var L=cd[$],o=A.g[L];
eP=eP&&o.gX()&&o.add.vmsk!=null;eM=eM.wj(A.root.Zu(L).E8(A,!0))}if(eP){bO=A.g[cd[0]].clone();var hw=bO.add.vmsk;
for(var $=1;$<cd.length;$++){var Z=A.g[cd[$]],hr=c.Rl.Ay(Z.add.vmsk.Y);hw.Y=hw.Y.concat(hr.slice(2));
bO.add.vogk=bO.add.vogk.concat(JSON.parse(JSON.stringify(Z.add.vogk)))}bO.add.vmsk.k9=!0;bO.hM(A)}else if(cw.ZM(eM)){bO=A.uA();
bO.mw(A.g[cd[cd.length-1]].getName());bO.rect=eM;bO.buffer=N.$(eM.Z()*4);var cX=A.$s(cd);N.Pr(cX,cw,bO.buffer,eM);
bO.LA();bO.F()}else{A.a5Y(cd,!0);bO=A.g[A.c[0]];A.g.splice(A.c[0],1);var gl=A.Nd(bO.add.SoLd.Idnt.v);
A.add.lnk2.splice(A.add.lnk2.indexOf(gl),1);delete bO.add.SoLd}var bg=a,ck=-1;if(G.aL&&G.aL.Dplc&&G.aL.Dplc.v)bg=!0;
if(bg&&J==c.iq&&A.g[eH[0]].wC()&&A.g[eH[0]].rect.My()){ck=eH[0]}if(ck!=-1||J==c.ZH){var dh=A.g[ck!=-1?ck:b-1];
bO.mw(dh.getName());bO.add.lclr=dh.add.lclr}var dI=[];for(var $=0;$<A.g.length;$++)if(bg||cd.indexOf($)==-1)if($!=ck)dI.push(A.g[$]);
var jk=cd[cd.length-1],jB=jk==A.g.length-1?null:A.g[jk+1],aP=jB?dI.indexOf(jB):dI.length;dI.splice(aP,0,bO);
hT=[aP];var p=new i3([6,12,0],this);p.data={d:c.ZO,vP:az,xQ:dI,ig:eH,kW:hT};A.jm(p);this.S6(p.data,A)}if(J==c.y7){var fK=A.uA();
fK.rect=new f_(0,0,A.e,A.n);fK.buffer=N.$(fK.rect.Z()*4);N.w8(fK.buffer,4294967295);N.a.zc("norm",A.$s(),fK.rect,fK.buffer,fK.rect,fK.rect,1);
fK.mw("Background");fK.add.lspf=1<<2;var p=new i3([6,12,1],this);p.data={d:c.ZO,vP:A.g.slice(),xQ:[fK],ig:A.c.slice(0),kW:[0]};
A.jm(p);this.S6(p.data,A)}var cU=J==c.Xy||J==c.ZY;if(J==c.$o||J==c.BC||J==c.YW||J==c.s_||cU){var o=cU?A.xG()[0]:A.uA(),gJ=f5.get([0,3]),hy=G.qo,he=!1,ce,bD;
if(J==c.YW)gJ=f5.get([12,76,1]);if(cU){if(A.q){var ds=A.g[A.c[0]],ip=ds.xY(A,A.q);if(ip==null){alert("Copied area is empty");
return}o.rect=ip.rect;o.buffer=ip.Uq;o.oM(A)}else hy=o.getName();o.add.lspf=0;o.hd=!1;if((o.$G&1)!=0)o.$G--}if(J==c.s_){o.rect=f._9.Rz(G.UU,A);
o.buffer=G.UU.buffer.slice(0);if(G.FK&&A.q){o.D=new c.Mz;o.D.rect=A.q.rect;o.D.color=0;o.D.channel=A.q.channel.slice(0)}}if(J==c.$o){this.track({YI:"make",aL:{classID:"Mk",null:ah.TH("Lyr")}})}if(J==c.BC){o.$G|=16;
var ek=G.aL.Usng.v,gK=ek.Type.v,dL=hE.Ih[gK.classID];gJ=f5.get(hE.names[dL]);if(ek.Nm)hy=ek.Nm.v;o.add[dL]=bH.wZ(dL);
if(o.add[dL]==null)o.add[dL]={};for(var bz in gK)o.add[dL][bz]=JSON.parse(JSON.stringify(gK[bz]));o.D=f._9.CH(A);
o.Sm=1}if(J==c.YW){o.$G|=16;var fE=G.aL,ek=fE.Usng.v,hd=ek.Type.v,hG=ek.Shp;if(ek.Nm)hy=ek.Nm.v;if(hG==null){var gu=A.S9(),eD=gu[0],i6=gu[1];
if(i6.length!=0){var hI=eD[i6[0]].add;o.add.vmsk=hI.vmsk.clone();o.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));
o.add.vogk=JSON.parse(JSON.stringify(hI.vogk));A.rY=[]}else o.D=f._9.CH(A)}else{console.log(ek);o.add.vmsk=new c.Rl;
o.add.vstk=JSON.parse(JSON.stringify(ek.strokeStyle?ek.strokeStyle.v:hK.nh.default));o.add.vogk=[];if(hG){var hq=N.Nv.lI(hG);
if(hq){o.add.vogk=[hq];o.add.vmsk.Y.push({type:0,_t:1,length:0});N.Nv.db(o.add.vogk,o.add.vmsk)}else{hG=hG.v;
var cb=hG.classID;if(cb=="Plgn"){var c4=hG.Cntr.v,aL=hG.corner.v;c4=new dw(c4.Hrzn.v.val,c4.Vrtc.v.val);
aL=new dw(aL.Hrzn.v.val,aL.Vrtc.v.val);o.add.vmsk.Y=N.U.Y0.m3(c4.x,c4.y,Math.sqrt(aL.x*aL.x+aL.y*aL.y),Math.atan2(aL.y,aL.x),hG.sides.v,0)}else if(cb=="customShape"){var b7=N.Nv.kf(hG),dn=b7[2]-b7[0],hf=b7[3]-b7[1],be=H.S4,fH,jD;
for(var $=0;$<be.length;$++)if(be[$].nO==hG.Nm.v)fH=be[$];if(fH){jD=c.Rl.Ay(fH.Y);N.U.T6(jD,new ci(dn,0,0,hf,b7[0],b7[1]))}else jD=N.U.Y0.Rect(b7[0],b7[1],dn,hf,0);
o.add.vmsk.Y=jD}o.ON()}}}var cq={solidColorLayer:0,gradientLayer:1,patternLayer:2}[hd.classID],bn=["SoCo","GdFl","PtFl"][cq];
o.add[bn]=JSON.parse(JSON.stringify(hK.XE[cq]));f._9.S5(hd,o.add[bn],cq);if(hG==null)gJ=f5.get([6,48,0,cq]);
if(bn=="PtFl"){var cN=o.add[bn].Ptrn.v,cy=en.Qf(cN,H.uf);cN.Idnt.v=cy.id;A._s(cy)}o.hM(A)}var fF=f._9.i3(A,gJ+" ");
o.mw(gJ+" "+(fF+1));if(hy)o.mw(hy);var cP=A.c.length==0?A.g.length-1:A.c[A.c.length-1],aa=A.g[cP];if(J==c.YW&&aa.wC()&&aa.rect.My()){he=!0;
o.mw(aa.getName());ce=cP}else{ce=cP+(J==c.$o&&R&&!e?0:1);if(aa&&aa.add.lsct==fM.UK)ce--}if(G.ai4)ce=Math.max(0,ce-1);
var dI=A.g.slice(0);if(J==c.ZY){var iU=dI[A.c[0]]=dI[A.c[0]].clone(),ad=A.q.channel.slice(0);N.G3(ad);
N.iz(ad,A.q.rect,iU.buffer,iU.rect)}dI.splice(ce,he?1:0,o);var cM=[5,2];if(J==c.$o)cM=[6,13];if(J==c.BC)cM=[6,1];
if(J==c.YW){cM=[6,48,1];var hG=G.aL.Usng.v.Shp;if(hG){var bK={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hG.v.classID];
if(bK)cM=bK}}if(cU){cM=[6,49,J==c.Xy?0:1]}if(cU||J==c.YW||J==c.s_||J==c.BC)if(A.q)bD=[A.q,null];var p=new i3(cM,this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:[ce],sN:bD};A.jm(p);this.S6(p.data,A);if(J==c.YW&&hG==null&&cq!=0||J==c.BC){var iX=new j8(r.E.W);
iX.data={d:r.S.Cb,Ue:eQ.Lm.NN};m.u(iX)}}if(J==c.NJ){var o=A.uA(),gJ=f5.get([0,4]),fF=f._9.i3(A,gJ+" ");
o.mw(gJ+" "+(fF+1));o.w4="pass";o.add.lsct=fM.UK;o.$G=24;if(G.qo)o.mw(G.qo);if(G.Fx!=null)o.add.lclr=G.Fx;
var hO=A.uF(),cP=b,ce=cP+(R?0:1),dI=A.g.slice(0);dI.splice(ce,0,hO,o);var p=new i3([6,20],this);p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:[ce+1]};
A.jm(p);this.S6(p.data,A)}if(J==c.WV||J==c.TL){var ev=J==c.WV?G.source:A.c[0],f9,fN,db=A.c.indexOf(ev)!=-1,hP=a|G.acL,b4,c1=null;
if(db)b4=A.n3();else b4=A.GM(ev);b4.sort(function(p,aN){return p-aN});if(J==c.WV){f9=G.target;fN=G.fk>.5}else if(G.target!=null){f9=Math.min(G.target,A.g.length-1);
fN=G.target<A.g.length;A.we=!0}else{var gc=G.Nm;fN=gc>1;if(gc==0){f9=A.g.length-1}if(gc==1){f9=b4[b4.length-1]+1;
var Z=A.GM(f9);if(Z.indexOf(ev)==-1)f9+=Z.length-1}if(gc==2){f9=b4[0]-1;var Z=A.GM(f9);if(Z.indexOf(ev)==-1)f9-=Z.length-1}if(gc==3){f9=0}if(f9<0||f9>A.g.length-1)return;
A.we=!0}if(b4.indexOf(f9)!=-1&&!hP)return;var gT=f._9.BM(A,b4,f9,fN,hP?A.xG(db?null:ev):null,J==c.WV&&G.fk>.8),bs=gT.pop(),ej=gT.pop(),dI=gT.pop(),bI=A.c;
A.c=[ev];var fU=A.yo();A.c=[f9];var bB=A.yo();if(bB==f9&&!fN)bB=-1;A.c=bI;if(ev==fU){}else if(fU!=bB){var c1=new dw(0,0);
if(fU!=-1){var eL=A.g[fU]._Q();c1.x-=eL.x;c1.y-=eL.y}if(bB!=-1){var eL=A.g[bB]._Q();c1.x+=eL.x;c1.y+=eL.y}}var p=new i3(hP?[6,0]:[6,35],this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:ej,h0:c1};A.jm(p);this.S6(p.data,A);var fE={classID:"move",null:ah.TH("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:bs+(fN?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:hP}};
this.track({YI:"move",aL:fE})}if(J==c.pr){if(G.KR){if(O==null||!O.r8())return;var t=A.root.Zu(b),ec=A.g.indexOf(t.a3H),dI=A.g.slice(0);
dI.splice(b,1);dI.splice(ec,1);var ej=[];for(var $=ec;$<b-1;$++)ej.push($);var p=new i3("Ungroup Layers",this);
p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:ej};A.jm(p);this.S6(p.data,A)}else{var o=A.uA(),aJ=f5.get([0,4])+" ";
o.mw(aJ+(f._9.i3(A,aJ)+1));o.w4="pass";if(G.qo)o.mw(G.qo);if(G.Fx!=null)o.add.lclr=G.Fx;o.add.lsct=A.c.length==1?fM.UK:fM.mJ;
o.$G=24;var hO=A.uF(),b4=A.n3();if(b4.length==0)return;b4.sort(function(p,aN){return p-aN});var dI=[];
for(var $=0;$<A.g.length;$++)if(b4.indexOf($)==-1)dI.push(A.g[$]);var cP=A.c[A.c.length-1]-b4.length;
dI.splice(cP+1,0,hO);for(var $=0;$<b4.length;$++)dI.splice(cP+2+$,0,A.g[b4[$]]);dI.splice(cP+2+b4.length,0,o);
var p=new i3([6,9],this);p.data={d:c.ZO,vP:A.g.slice(0),xQ:dI,ig:A.c.slice(0),kW:[dI.indexOf(o)]};A.jm(p);
this.S6(p.data,A);var X={YI:"make",Un:!0};X.aL={classID:"Mk",null:ah.TH("layerSection"),From:ah.TH("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:o.getName()}}}};
this.track(X)}}if(J==c.Jh){if(A.c.length!=1)return;var bG=A.c[0],hQ=a;if(A.g[bG].fm()==null&&!Q.j(a5.KF)){J=c.AM;
G.et=A.q?!hQ?"RvlS":"HdSl":!hQ?"RvlA":"HdAl"}else{J=c.Wm;G.aqH=!0}}if(J==c.AM){if(A.c.length!=1)return;
var bG=A.c[0],o=A.g[bG];if(o.add.vmsk&&o.D==null)o.hM(A);var hh=o.fm();if(hh==null||G.a4t){var p=new i3([6,21],this),jt=new c.Mz,hv=G.et,af=hv=="RvlS"||hv=="HdSl";
if(hv=="RvlS"||hv=="HdAl"||hv=="Trns")jt.color=0;if(af){jt.channel=A.q.channel.slice(0);jt.rect=A.q.rect.clone();
if(hv=="HdSl")N.G3(jt.channel)}if(hv=="Trns"){jt.rect=o.rect.clone();jt.channel=N.$(o.rect.Z());N.gF(o.buffer,jt.channel,3)}p.data={d:c.oE,e1:[bG,hh,jt],sN:af?[A.q,null]:null};
A.jm(p);this.S6(p.data,A);A.g[bG].Sm=1;this.track({YI:"make",aL:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:hv}}}})}}else if(J==c.Wk){var aQ=A.g[G.src],cQ=A.g[G.y4],p=new i3([6,21],this),dX=aQ.fm(),jm=cQ.fm(),iB=[G.src,dX,null,G.y4,jm,dX];
if(a||e){var d9=dX.clone();if(a)iB=[G.y4,jm,d9];else iB[5]=d9;if(e){N.G3(d9.channel);d9.color=255-d9.color}}p.data={d:c.oE,e1:iB};
A.jm(p);this.S6(p.data,A)}if(J==c.qu){if(A.c.length!=1)return;var bG=b,d7=A.g[bG].fm();if(d7!=null){var p=new i3([6,22],this);
p.data={d:c.oE,e1:[b,d7,null]};A.jm(p);this.S6(p.data,A)}}if(J==c.fF){var az=A.g.slice(0),fK=O.clone(),s=fK.fm();
N.iz(s.MC(fK.rect),fK.rect,fK.buffer,fK.rect);f._9.df(A,fK);fK.LA();A.g[A.c[0]]=fK;var p=new i3([5,8],this);
p.data={d:c.ZO,vP:az,xQ:A.g.slice(),ig:A.c.slice(0),kW:A.c.slice(0)};A.jm(p);this.S6(p.data,A)}if(J==c.Hw){if(A.c.length!=1)return;
var bG=A.c[0];if(A.g[bG].mv(A).D==null){var p=new i3([6,45],this);p.data={d:J,i:bG,D:new c.Mz};A.jm(p);
this.S6(p.data,A)}}if(J==c.Eo){if(A.c.length!=1)return;var bG=A.c[0];if(A.g[bG].mv(A).D!=null){var p=new i3([6,46],this);
p.data={d:J,i:bG,D:A.g[bG].mv(A).D};A.jm(p);this.S6(p.data,A)}}if(J==c.XI){if(G.src==null&&A.c.length!=1)return;
if(G.src!=null)b=G.src;if(A.g[b].Ct()){var p=new i3([6,47],this),fG=JSON.stringify(A.g[b].add.SoLd),bT=JSON.parse(fG);
delete bT.filterFX;p.data={d:c.P7,ll:[{Mw:b,k$:[fG,JSON.stringify(bT)],M$:[A.g[b].mv(A),null]}]};A.jm(p);
this.S6(p.data,A)}}if(J==c.Wm){if(A.c.length!=1)return;if(O.add.vmsk==null){var p=new i3([6,23],this),bk=A.S9(),K=bk[1],bk=bk[0],jt,hq;
if(G.aqH&&K.length!=0){var hI=bk[K[0]].add;jt=hI.vmsk.clone();hq=hI.vogk}else{jt=new c.Rl;hq=[];jt.Y[1].all=G.a2U?0:1}p.data={d:J,i:b,fz:!0,D:jt,Nv:JSON.stringify(hq),nh:null};
if(O.gX()){p.data.nh=JSON.stringify(hK.nh.default)}A.jm(p);this.S6(p.data,A)}}if(J==c.UO){var aQ=A.g[G.src],cQ=A.g[G.y4];
if(cQ.add.vmsk)return;var p=new i3([6,23],this),hw=aQ.add.vmsk;p.data={i:G.y4,fz:aQ.ri,D:hw.clone(),Nv:JSON.stringify(aQ.add.vogk),nh:aQ.add.vstk?JSON.stringify(aQ.add.vstk):null};
if(a){p.data.d=c.Wm}else{p.data.d=J;p.data.src=G.src;p.data.y4=G.y4}A.jm(p);this.S6(p.data,A)}if(J==c.T0||J==c.Yj){if(A.c.length!=1)return;
var o=A.g[b],hw=o.add.vmsk;if(hw!=null){var hC=J==c.Yj,p=new i3(hC?[6,8]:[6,24],this);p.data={d:c.T0,i:b,fz:o.ri,D:hw,Nv:JSON.stringify(o.add.vogk),nh:o.add.vstk?JSON.stringify(o.add.vstk):null};
if(hC){p.data.Vp=hw.fm(o.add.vstk)}A.jm(p);this.S6(p.data,A)}}if(J==c.Me){var p=new i3("Metadata",this);
p.data={d:J,pv:JSON.stringify(A.ey),gu:JSON.stringify(G.gu)};A.jm(p);this.S6(p.data,A)}if(J==c.fo){var an=G.y4?G.y4:A,jO=an.name,hy=G.k+".psd";
if(jO==hy)return;var p=new i3([6,37],this);p.data={d:J,aub:jO,qo:hy};if(G.acn!=!0)an.jm(p);this.S6(p.data,an)}if(J==c.pU&&G.Nm.endsWith("makeframes")){var i4=[],iq=G.Nm.startsWith("make");
for(var $=0;$<A.c.length;$++){var L=A.c[$],o=A.g[L],hU=o.getName(),jo=hU.startsWith("_a_");if(iq==jo||o.add.lsct==fM.SB)continue;
var dF=iq?"_a_"+hU:hU.slice(3);i4.push([L,hU,dF,o.add.lnsr,null])}var p=new i3([6,37],this);p.data={d:c._C,WF:i4};
A.jm(p);this.S6(p.data,A)}if(J==c._C){var jO=O.getName(),hy=G.name.substring(0,255);if(jO==hy)return;
var p=new i3([6,37],this);p.data={d:J,WF:[[b,jO,hy,O.add.lnsr,null]]};A.jm(p);this.S6(p.data,A);this.track(ah.RA("Nm",{t:"TEXT",v:hy}))}if(J==c.Vu){var iH=A.n3(),gU=[],b5=[];
for(var $=0;$<iH.length;$++){gU.push(A.g[iH[$]].add.lclr);b5.push(G.a4d)}var p=new i3([6,38],this);p.data={d:J,g:iH,ast:gU,Fx:b5};
A.jm(p);this.S6(p.data,A)}if(J==c.LE){var p=A.history[A.kZ];if(p!=null&&p.b==this&&p.data.d==J&&p.data.i==G.rD&&p.data.wK.UZ==G.Zs.UZ)p.data.wK=G.Zs;
else{p=new i3("Mask Density / Feather",this);p.data={d:J,i:G.rD,Ge:A.g[G.rD].T1(G.Zs.UZ),wK:G.Zs};A.jm(p)}this.S6(p.data,A)}if(J==c.gI){var dA=JSON.stringify(G.k),jU=JSON.parse(dA),p=A.history[A.kZ];
if(p!=null&&p.b==this&&p.data.d==J&&p.data.Yr==G.Yr&&p.data.Dt.join(",")==G.Dt.join(",")){for(var $=0;
$<G.Dt.length;$++)p.data.zE[$]=jU;if(p.data.aL&&jU.D2!=0)f._9.S5(jU.GF,p.data.aL.T.v,jU.D2-1)}else{p=new i3([11,6],this);
p.data={d:J,Dt:G.Dt,Yr:G.Yr,an4:[],zE:[]};var jf=!1;for(var $=0;$<G.Dt.length;$++){var L=G.Dt[$],o=A.g[L],aj=G.Yr?f.Oz.O1(A,L):JSON.parse(JSON.stringify(o.add.vstk));
p.data.an4.push(aj);p.data.zE.push(jU);if(JSON.stringify(aj)!=dA)jf=!0}if(!jf)return;A.jm(p);if(G.Yr&&jU.D2>0){var fE=p.data.aL={classID:"setd",null:ah.TH("contentLayer",!0),T:{t:"Objc",v:{}}},bn=["SoCo","GdFl","PtFl"][jU.D2-1];
f._9.S5(jU.GF,fE.T.v,jU.D2-1);this.track({YI:"set",aL:fE})}}if(G.Yr&&jU.D2==3)A._s(en.Qf(jU.GF.Ptrn.v,H.uf));
if(!G.Yr){var cL=jU.strokeStyleContent.v;if(cL.classID==hK.nh.Tn[2])A._s(en.Qf(cL.Ptrn.v,H.uf))}this.S6(p.data,A)}};
f._9.BM=function(G,m,A,Q,H,J){var b=G.g[A],O=[];if(H)O=G.g.slice(0);else for(var $=0;$<G.g.length;$++)if(m.indexOf($)==-1)O.push(G.g[$]);
var a=O.indexOf(b);if(J&&b.r8()&&b.add.lsct==fM.mJ)a-=G.GM(A).length-1;var e=[];for(var $=0;$<m.length;
$++){var R=a+(Q?0:1)+$,p=H?H[$]:G.g[m[$]];O.splice(R,0,p);e.push(R)}return[O,e,a]};f._9.S5=function(G,m,A){var Q=[hK.WX,hK.ln,hK.g2][A];
if(m.classID==null)m.classID=["solidColorLayer","gradientLayer","patternLayer"][A];for(var $=0;$<Q.length;
$++)if(G[Q[$]])m[Q[$]]=JSON.parse(JSON.stringify(G[Q[$]]))};f._9.CH=function(G){var m=new c.Mz;if(G.q!=null){m.color=0;
m.channel=G.q.channel.slice(0);m.rect=G.q.rect.clone()}return m};f._9.sy=function(G,m,A,Q){var H=Q.e/A.e,J=Q.n/A.n,b=Q.e/2,O=Q.n/2,a=N.H.Zt(Q).s;
for(var $=0;$<G.g.length;$++){var e=G.g[$],R=e.add.SoLd;if(R==null||R.Idnt.v!=m)continue;if(H!=1||J!=1){var p=f.Q.y_(R.nonAffineTransform),P=N.N.hh(p,Q),z=new ci;
z.translate(-b,-O);z.scale(H,J);z.translate(b,O);var Z=N.N.rF(P,N.N.i4(z)),W=a.slice(0);N.N.A(Z,W);R.Trnf=f.Q.J_(W);
R.nonAffineTransform=f.Q.J_(W)}e.wH(G)}G.F()};f._9.anB=function(G,m,A){m.color=255-m.color;N.G3(m.channel);
m.k9=!0;G.hM(A);A.F()};f._9.prototype.Ah=function(G,m){var A=G.d,Q=m.g[G.i];m.bV=!0;if(A==c.h$){m.add.lnk2.splice(m.add.lnk2.indexOf(G.pS),1,G.wk);
f._9.sy(m,G.id,G.pS.CX[1],G.wk.CX[1])}if(A==c.MH){Q.add.SoLd.Impr.v.classID=G.Ge;Q.wH(m)}if(A==c.x_){var H=JSON.parse(G.Dt);
for(var $=0;$<H.length;$++)m.g[H[$]].w4=G.Ov[$];m.F()}if(A==c.h2){var H=JSON.parse(G.Dt);for(var $=0;
$<H.length;$++)m.g[H[$]].opacity=G.Ov[$];m.F()}if(A==c.FV){var H=JSON.parse(G.Dt);for(var $=0;$<H.length;
$++)if(m.g[H[$]].add.lsct!=fM.SB)m.g[H[$]].add.lspf=G.Ov[$]}if(A==c.OR){var J=G.sb,b=G.apE;delete Q.add[J[0]];
if(b[0]!="----")Q.add[b[0]]=b[1]}if(A==c.BE){Q.add.iOpa=G.Ov;m.F()}if(A==c.Bg){for(var $=0;$<G.Dt.length;
$++){var O=m.g[G.Dt[$]];O.YQ(!O.HX())}m.F()}if(A==c.Sx){var a=Q.fm();a.isEnabled=!a.isEnabled;Q.hM(m);
m.F()}if(A==c._R){var a=Q.mv(m).D;a.isEnabled=!a.isEnabled;Q.F();m.F()}if(A==c.yD){var a=Q.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(Q.Vp){Q.D=Q.Vp;Q.Vp=null}else Q.D=null}else if(Q.D){Q.Vp=Q.D;
Q.D=null}Q.hM(m);m.F()}if(A==c.Y5){Q.hd=!Q.hd;m.F()}if(A==c.rA){Q.add.lmfx.masterFXSwitch.v=!Q.add.lmfx.masterFXSwitch.v;
Q.zr.sj=!0;m.F()}if(A==c.cJ){Q.add.SoLd.filterFX.v.enab.v=!Q.add.SoLd.filterFX.v.enab.v;Q.$I(m);m.F()}if(A==c.ar){var e=G.index,R=Q.add.lmfx[hK.HK[e[0]]].v[e[1]].v;
R.enab.v=!R.enab.v;Q.zr.sj=!0;m.F()}if(A==c.XM){var p=m.g[G.V8],P=m.g[G.Fu],z=G.a6_,Z=G.alo;if(z=="")delete p.add.lmfx;
else p.add.lmfx=JSON.parse(z);if(Z=="")delete P.add.lmfx;else P.add.lmfx=JSON.parse(Z);p.zr.sj=!0;P.zr.sj=!0;
m.F()}if(A==c.bF){var W=Q.add.SoLd.filterFX.v.filterFXList.v[G.index].v;W.enab.v=!W.enab.v;Q.$I(m);m.F()}if(A==c.r0){Q.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(G.abi));
Q.$I(m);m.F()}if(A==c.Xb){var a=Q.fm();a.v5=!a.v5}if(A==c.tE){var a=Q.add.vmsk;a.v5=!a.v5}if(A==c.bg){var T=G.bc;
for(var $=0;$<T.length;$+=2){var i=T[$],O=i>=0?m.g[i]:m.Sq[-1-i];O.add.vogk=JSON.parse(T[$+1]);N.Nv.db(O.add.vogk,O.add.vmsk);
if(i>=0)O.hM(m)}m.F()}if(A==c.AY){Q.add.artb=JSON.parse(G.anZ);m.F();f.MB.pK(m,G)}if(A==c.ex){m.q=G.wX;
m.Hv=G.bc.slice(0);m.UX=G.uq.slice(0);m.Iy=m.AB=!0}if(A==c.th){Q.zf=!Q.zf}if(A==c.GS){var X=G.a59;for(var $=0;
$<X.length;$++)m.g[$].yU=X[$]}if(A==c.ZO){if(G.h0)f.oj.II(m,m.c,null,-G.h0.x,-G.h0.y);if(G.ig)m.c=G.ig;
if(G.sN)m.q=G.sN[0];m.EJ=null;m.F();m.g_(G.vP);f.MB.pK(m,G);if(G.p1)m.Qr(G.p1[0])}if(A==c.oE){for(var $=0;
$<G.e1.length;$+=3)f._9.df(m,m.g[G.e1[$]],G.e1[$+1]);if(G.sN){var U=G.sN[0];if(U==null)delete m.q;else m.q=U}}if(A==c.Hw){Q.mv(m).D=null;
Q.F();m.F()}if(A==c.Eo){Q.mv(m).D=G.D;Q.F();m.F()}if(A==c.P7){f._9.wb(m,G.ll,0)}if(A==c.Wm){f._9.xw(m,Q,!0)}if(A==c.UO){f._9.xw(m,m.g[G.y4],G.D.isEnabled);
f._9.os(m,m.g[G.src],G)}if(A==c.T0){if(G.Vp)f._9.df(m,Q,null);f._9.os(m,Q,G)}if(A==c.Me){m.ey=JSON.parse(G.pv)}if(A==c.fo){m.name=G.aub}if(A==c._C){for(var $=0;
$<G.WF.length;$++){var M=G.WF[$],O=m.g[M[0]];O.mw(M[1]);if(M[3])O.add.lnsr=M[3];else delete O.add.lnsr}}if(A==c.Vu){for(var $=0;
$<G.g.length;$++)m.g[G.g[$]].add.lclr=G.ast[$]}if(A==c.gI){var C=G.an4;for(var $=0;$<G.Dt.length;$++){var O=m.g[G.Dt[$]],x=C[$];
if(!G.Yr)O.add.vstk=JSON.parse(JSON.stringify(x));else f.Oz.jp(O,JSON.parse(JSON.stringify(x)));O.Y7(m)}m.F()}if(A==c.LE){Q.M4(G.Ge);
Q.hM(m);m.F()}m.AB=!0};f._9.prototype.S6=function(G,m){var A=G.d,Q=m.g[G.i];m.bV=!0;if(A==c.h$){m.add.lnk2.splice(m.add.lnk2.indexOf(G.wk),1,G.pS);
f._9.sy(m,G.id,G.wk.CX[1],G.pS.CX[1])}if(A==c.MH){Q.add.SoLd.Impr.v.classID=G.wK;Q.wH(m)}if(A==c.x_){var H=JSON.parse(G.Dt);
for(var $=0;$<H.length;$++)m.g[H[$]].w4=G.wK;m.F()}if(A==c.h2){var H=JSON.parse(G.Dt);for(var $=0;$<H.length;
$++)m.g[H[$]].opacity=G.wK;m.F()}if(A==c.FV){var H=JSON.parse(G.Dt);for(var $=0;$<H.length;$++)if(m.g[H[$]].add.lsct!=fM.SB)m.g[H[$]].add.lspf=G.wK[$]}if(A==c.OR){var J=G.apE,b=G.sb;
delete Q.add[J[0]];if(b[0]!="----")Q.add[b[0]]=b[1]}if(A==c.BE){Q.add.iOpa=G.wK;m.F()}if(A==c.Bg){for(var $=0;
$<G.Dt.length;$++){var O=m.g[G.Dt[$]];O.YQ(!O.HX())}m.F()}if(A==c.Sx){var a=Q.fm();a.isEnabled=!a.isEnabled;
Q.hM(m);m.F()}if(A==c._R){var a=Q.mv(m).D;a.isEnabled=!a.isEnabled;Q.F();m.F()}if(A==c.yD){var a=Q.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(Q.Vp){Q.D=Q.Vp;Q.Vp=null}else Q.D=null}else if(Q.D){Q.Vp=Q.D;
Q.D=null}Q.hM(m);m.F()}if(A==c.Y5){Q.hd=!Q.hd;m.F()}if(A==c.rA){Q.add.lmfx.masterFXSwitch.v=!Q.add.lmfx.masterFXSwitch.v;
Q.zr.sj=!0;m.F()}if(A==c.cJ){Q.add.SoLd.filterFX.v.enab.v=!Q.add.SoLd.filterFX.v.enab.v;Q.$I(m);m.F()}if(A==c.ar){var e=G.index,R=Q.add.lmfx[hK.HK[e[0]]].v[e[1]].v;
R.enab.v=!R.enab.v;Q.zr.sj=!0;m.F()}if(A==c.XM){var p=m.g[G.V8],P=m.g[G.Fu],z=G.aqm,Z=G.a4m;if(z=="")delete p.add.lmfx;
else p.add.lmfx=JSON.parse(z);if(Z=="")delete P.add.lmfx;else P.add.lmfx=JSON.parse(Z);p.zr.sj=!0;P.zr.sj=!0;
m.F()}if(A==c.bF){var W=Q.add.SoLd.filterFX.v.filterFXList.v[G.index].v;W.enab.v=!W.enab.v;Q.$I(m);m.F()}if(A==c.r0){Q.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(G.a3c));
Q.$I(m);m.F()}if(A==c.Xb){var a=Q.fm();a.v5=!a.v5}if(A==c.tE){var a=Q.add.vmsk;a.v5=!a.v5}if(A==c.bg){var T=G.aP;
for(var $=0;$<T.length;$+=2){var i=T[$],O=i>=0?m.g[i]:m.Sq[-1-i];O.add.vogk=JSON.parse(T[$+1]);N.Nv.db(O.add.vogk,O.add.vmsk);
if(i>=0)O.hM(m)}m.F()}if(A==c.AY){Q.add.artb=JSON.parse(G.pB);m.F();f.MB.nC(m,G)}if(A==c.ex){m.q=G.xe;
m.Hv=G.aP.slice(0);m.UX=G.JQ.slice(0);m.Iy=m.AB=!0}if(A==c.th){Q.zf=!Q.zf}if(A==c.GS){var X=G.a6Y;for(var $=0;
$<X.length;$++)m.g[$].yU=X[$]}if(A==c.ZO){var U=G.xQ,M=0,C;for(var $=0;$<U.length;$++){var O=U[$],x=O.add.lsct;
if(x==fM.SB)M++;else if(x==fM.UK||x==fM.mJ)M--;if(O.add.artb&&M!=0)C="Artboards can not be inside folders."}if(C){m.history.pop();
m.kZ--;alert(C);return}f.MB.nC(m,G);if(G.kW)m.c=G.kW;if(G.sN)m.q=G.sN[1];m.EJ=null;m.F();m.g_(G.xQ);
if(G.h0)f.oj.II(m,m.c,null,G.h0.x,G.h0.y);if(G.p1)m.Qr(G.p1[1])}if(A==c.oE){for(var $=0;$<G.e1.length;
$+=3)f._9.df(m,m.g[G.e1[$]],G.e1[$+2]);if(G.sN){var L=G.sN[1];if(L==null)delete m.q;else m.q=L}}if(A==c.Hw){Q.mv(m).D=G.D;
Q.Sm=0;Q.F();m.F()}if(A==c.Eo){Q.mv(m).D=null;Q.Sm=0;Q.F();m.F()}if(A==c.P7){f._9.wb(m,G.ll,1)}if(A==c.Wm){f._9.os(m,Q,G)}if(A==c.UO){f._9.xw(m,m.g[G.src],G.D.isEnabled);
f._9.os(m,m.g[G.y4],G)}if(A==c.T0){f._9.xw(m,Q,G.D.isEnabled);if(G.Vp)f._9.df(m,Q,G.Vp)}if(A==c.Me){m.ey=JSON.parse(G.gu)}if(A==c.fo){m.name=G.qo}if(A==c._C){for(var $=0;
$<G.WF.length;$++){var E=G.WF[$],O=m.g[E[0]];O.mw(E[2]);if(E[4])O.add.lnsr=E[4];else delete O.add.lnsr}}if(A==c.Vu){for(var $=0;
$<G.g.length;$++)m.g[G.g[$]].add.lclr=G.Fx[$]}if(A==c.gI){var l=G.zE;for(var $=0;$<G.Dt.length;$++){var O=m.g[G.Dt[$]],y=l[$];
if(!G.Yr)O.add.vstk=JSON.parse(JSON.stringify(y));else f.Oz.jp(O,JSON.parse(JSON.stringify(y)));O.Y7(m)}m.F()}if(A==c.LE){Q.M4(G.wK);
Q.hM(m);m.F()}m.AB=!0};f._9.i3=function(G,m){var A=0;for(var $=0;$<G.g.length;$++){var Q=G.g[$].getName();
if(Q.startsWith(m)){var H=Q.slice(m.length).trim(),J=parseInt(H);if(!isNaN(J)&&J+""==H&&J>A)A=J}}return A};
f._9.wb=function(G,m,A){for(var $=0;$<m.length;$++){var Q=m[$],H=G.g[Q.Mw];if(Q.k$){H.add.SoLd=JSON.parse(Q.k$[A])}if(Q.M$){if(Q.M$[1-A]!=null)G.lN(Q.M$[1-A]);
if(Q.M$[A]!=null)G.Ci(Q.M$[A]);else H.Sm=0}H.wH(G)}};f._9.Rz=function(G,m){var A=G.Zx,Q=G.rect.clone();
if(A!=null&&(A.x!=m.e||A.y!=m.n)){Q.x=Math.floor((m.e-Q.e)/2);Q.y=Math.floor((m.n-Q.n)/2)}return Q};
f._9.al8=function(G,m){if(m.Vp)m.Vp=null;else m.D=null;m.hM(G);G.F();m.Sm=0};f._9.df=function(G,m,A){var Q=m.fm();
if(Q==null&&A==null)return;if(Q)f._9.al8(G,m);if(A==null)return;if(m.D)m.Vp=A;else m.D=A;m.hM(G);G.F()};
f._9.xw=function(G,m,A){if(m.Vp&&A){m.D=m.Vp;m.Vp=null}else if(m.D&&A){m.D=null}delete m.add.vogk;delete m.add.vstk;
delete m.add.vmsk;m.hM(G);m.ri=!1;G.EJ=[];G.F()};f._9.os=function(G,m,A){m.add.vogk=JSON.parse(A.Nv);
if(A.nh)m.add.vstk=JSON.parse(A.nh);else delete m.add.vstk;m.add.vmsk=A.D.clone();if(m.D&&m.add.vmsk.isEnabled)m.Vp=m.D;
m.hM(G);m.ri=A.fz;G.EJ=[G.g.indexOf(m)];G.rY=[];G.F()};f.xa=function(){f.rc.call(this,"Layer Styles",f.Xj);
this.FH=null;this.MG=null;this.ku=null;this.in=[];this.nJ=null};f.xa.prototype=new f.rc;f.xa.prototype.Hk=function(G,m,A,Q,H){var J=G.i;
if(J==null)J=A.c[0];var b=A.g[J],O=G.lW;if(this.FH==null){this.ku=f.xa.JA(A,b);this.FH=JSON.stringify(this.ku);
if(b.add.lmfx)this.MG=JSON.stringify(b.add.lmfx)}if(b.add.lmfx==null){b.add.lmfx=JSON.parse(hK.default);
for(var $=0;$<hK.order.length;$++)b.add.lmfx[hK.HK[$]]={t:"VlLs",v:[]}}if(G.d=="scaleeffects"){if(G.k=="confirm"||G.k=="cancel"){this.Hk({d:G.k},m,A,Q,H);
return}b.add.lmfx=JSON.parse(this.MG);en.UA(b.add.lmfx,G.k/100)}else if(G.d=="changeprop"){var a=null;
if(O!=0){var e=this.in[O[0]];if(e==null)e=hK.in[O[0]];e=JSON.parse(e);var R=b.add.lmfx[hK.HK[O[0]]].v;
if(R[O[1]]==null)R[O[1]]={t:"Objc",v:e};a=R[O[1]].v;for(var p in e)if(a[p]==null)a[p]=e[p]}if(G.d=="changeprop"){if(O==0){this.ku[G.r9].v=G.k;
f.xa.mi(A,b,this.ku)}else if(G.r9=="lagl"){if(a.uglg&&a.uglg.v){A.vI(G.k.val);this.ku.ats=A.BQ()}else a[G.r9].v=G.k}else if(G.r9=="Lald"){if(a.uglg.v){A.d_(G.k.val);
this.ku.abO=A.qp()}else a[G.r9].v=G.k}else if((O[0]==3||O[0]==8)&&(G.r9=="Clr"||G.r9=="Grad")){if(G.r9=="Clr"){a.Clr={t:"Objc",v:G.k};
delete a.Grad}if(G.r9=="Grad"){a.Grad={t:"Objc",v:G.k};delete a.Clr}}else{a[G.r9].v=G.k}if(O!=0)this.in[O[0]]=JSON.stringify(a)}if(O!=0)if(a.Ptrn)A._s(en.Qf(a.Ptrn.v,H.uf))}else if(G.d=="setstl"){var P=G.k.Lefx;
if(P)en.aif(P,A,H.uf);en.a6q(G.k,b);this.ku=f.xa.JA(A,b)}else if(G.d=="st_dupsingle"){var z=b.add.lmfx[hK.HK[G.ou[0]]].v;
if(z[G.ou[1]]==null)return;var Z=JSON.parse(JSON.stringify(z[G.ou[1]]));z.splice(G.ou[1],0,Z)}else if(G.d=="st_movsingle"){var W=G.ou[1],z=b.add.lmfx[hK.HK[G.ou[0]]].v;
if(z[G.ou[1]]==null)return;var T=Math.max(0,Math.min(z.length-1,W+G.atc)),i=z[T];z[T]=z[W];z[W]=i}else if(G.d=="cancel"){if(this.MG==null)delete b.add.lmfx;
else b.add.lmfx=JSON.parse(this.MG);f.xa.mi(A,b,JSON.parse(this.FH));this.FH=null;this.MG=null}else if(G.d=="confirm"){var X=JSON.stringify(b.add.lmfx),U=new i3([11,6],this);
U.data={g:[J],co:[this.MG],PK:[X],PB:[this.FH],pf:[JSON.stringify(this.ku)]};A.jm(U);this.FH=null;this.MG=null;
if(X!=null){var M=JSON.parse(X);a1.n8(M);M.classID="Lefx";delete M.masterFXSwitch;var C=new j8(r.E.NH);
C._v=!0;C.data={YI:"set",Un:!0};var x=ah.TH("Lyr",!0);x.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
C.data.aL={__name:"Set",classID:"setd",null:x,T:{t:"Objc",v:M}};m.u(C)}}else if(G.d=="st_copy"){this.nJ=[this.FH,this.MG];
this.FH=null;this.MG=null}else if(G.d=="st_paste"||G.d=="st_clear"){if(G.d=="st_paste"&&this.nJ==null)return;
var L=G.i!=null?[G.i]:A.c.slice(0),E=[],l=[],y=[],Y=[];for(var $=0;$<L.length;$++){var b=A.g[L[$]],F=f.xa.JA(A,b);
E.push(b.add.lmfx?JSON.stringify(b.add.lmfx):null);y.push(JSON.stringify(F));if(G.d=="st_paste"){l.push(this.nJ[1]);
Y.push(this.nJ[0])}else{l.push(null);F.lrMd.v=0;F.Opct.v.val=100;F.iOpa.v.val=100;F.blIf={v:[]};for(var w=0;
w<10;w++)F.blIf.v.push(0,0,255,255);Y.push(JSON.stringify(F))}}var U=new i3([11,6],this);U.data={g:L,co:E,PK:l,PB:y,pf:Y};
this.S6(U.data,A);A.jm(U);this.FH=null;this.MG=null}else{var j=this.ku,M=null;if(G.d=="st_delsingle"){M=JSON.parse(this.MG);
M[hK.HK[G.ou[0]]].v.splice(G.ou[1],1);M=JSON.stringify(M)}if(M==null)delete b.add.lmfx;else b.add.lmfx=JSON.parse(M);
if(j!=null)f.xa.mi(A,b,j);var U=new i3([11,6],this);U.data={g:[G.i],co:[this.MG],PK:[M],PB:[this.FH],pf:[JSON.stringify(j)]};
A.jm(U);this.FH=null;this.MG=null}b.zr.sj=!0;A.bV=!0;A.F()};f.xa.JA=function(G,m){if(m.add.iOpa==null)m.add.iOpa=255;
if(m.add.brst==null)m.add.brst=[1,1,1];var A=m.r8()?["pass"].concat(ib.Vh):ib.Vh;return{lrMd:{v:A.indexOf(m.w4)},Opct:{v:{type:"#Prc",val:Math.round(m.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(m.add.iOpa*100/255)},t:"UntF"},blIf:{v:m.YX.slice(0)},brst:{v:m.add.brst},ats:G.BQ(),abO:G.qp(),r8:m.r8()}};
f.xa.mi=function(G,m,A){var Q=m.r8()?["pass"].concat(ib.Vh):ib.Vh;m.w4=Q[A.lrMd.v];m.opacity=Math.round(A.Opct.v.val*255/100);
m.add.iOpa=Math.round(A.iOpa.v.val*255/100);m.YX=A.blIf.v.slice(0);m.add.brst=A.brst.v.slice(0);G.vI(A.ats);
G.d_(A.abO)};f.xa.prototype.Ah=function(G,m){for(var $=0;$<G.g.length;$++){var A=m.g[G.g[$]],Q=G.co[$];
if(Q==null)delete A.add.lmfx;else A.add.lmfx=JSON.parse(Q);f.xa.mi(m,A,JSON.parse(G.PB[$]));A.zr.sj=!0}m.bV=!0;
m.F()};f.xa.prototype.S6=function(G,m){for(var $=0;$<G.g.length;$++){var A=m.g[G.g[$]],Q=G.PK[$];if(Q==null)delete A.add.lmfx;
else A.add.lmfx=JSON.parse(Q);f.xa.mi(m,A,JSON.parse(G.pf[$]));A.zr.sj=!0}m.bV=!0;m.F()};f.Ac=function(){f.rc.call(this,"Layer Comps",f.uX)};
f.Ac.prototype=new f.rc;f.Ac.prototype.Hk=function(G,m,A,Q){var H=JSON.parse(JSON.stringify(A.Ve)),J=JSON.parse(JSON.stringify(A.Ve)),b=null,O=null,a=null,e=-1,R=!1;
if(G.d=="delLC"){var p=f.Ac.zj(A.Ve,G.lW),P=A.Ve.lastAppliedComp?A.Ve.lastAppliedComp.v:0;J.list.v.splice(p,1);
if(P==G.lW)delete J.lastAppliedComp;b="Delete Layer Comp"}if(G.d=="editLC"){var p=f.Ac.zj(A.Ve,G.lW),z=J.list.v[p].v;
if(G.qo!=null)z.Nm.v=G.qo;if(G.a5Q!=null){var Z=G.a5Q,W=z.capturedInfo.v,T=W&(1<<Z)-1;W=W>>Z;if((W&1)==1)W--;
else W++;z.capturedInfo.v=(W<<Z)+T}b="Layer Comp properties"}if(G.d=="setLC"){f.Ac.Tr(A);if(G.lW==0)delete J.lastAppliedComp;
else J.lastAppliedComp={t:"long",v:G.lW};b="Switch Layer Comp";R=!0}if(G.d=="updLC"){f.Ac.Tr(A);O=f.Ac.akd(A,G.lW);
a=f.Ac.ra(A,G.lW);J.lastAppliedComp={t:"long",v:G.lW};b="Update Layer Comp";e=G.lW;R=!0}if(G.d=="addLC"){f.Ac.Tr(A);
var i=1;for(var $=0;$<J.list.v.length;$++)i=Math.max(i,J.list.v[$].v.compID.v)+1;i+=Math.floor(Math.random()*1e4);
var X={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(J.list.v.length+1)},compID:{t:"long",v:i},capturedInfo:{t:"long",v:7}}};
J.list.v.push(X);J.lastAppliedComp={t:"long",v:i};b="New Layer Comp";var U=f.Ac.ra(A,i);f.Ac.N9(A,U,i)}var M=new i3(b,this);
M.data={akc:H,a5s:J,agl:O,aiu:a,lW:e,Ta:R};this.S6(M.data,A);A.jm(M)};f.Ac.prototype.S6=function(G,m){m.Ve=G.a5s;
m.bV=!0;if(G.aiu)f.Ac.N9(m,G.aiu,G.lW);if(G.Ta){var A=m.Ve.lastAppliedComp?m.Ve.lastAppliedComp.v:0,Q=f.Ac.zj(m.Ve,A),H=Q==-1?null:m.Ve.list.v[Q].v,J=H?H.capturedInfo.v:7;
f.Ac.h1(m,A,J);m.F()}};f.Ac.prototype.Ah=function(G,m){m.Ve=G.akc;m.bV=!0;if(G.agl)f.Ac.N9(m,G.agl,G.lW);
if(G.Ta){var A=m.Ve.lastAppliedComp?m.Ve.lastAppliedComp.v:0,Q=f.Ac.zj(m.Ve,A),H=Q==-1?null:m.Ve.list.v[Q].v,J=H?H.capturedInfo.v:7;
f.Ac.h1(m,A,J);m.F()}};f.Ac.Tr=function(G){if(G.Ve.lastAppliedComp!=null||!G.HV)return;var m=f.Ac.ra(G,0);
f.Ac.N9(G,m,0);G.HV=!1};f.Ac.f2=function(G,m,A){G.v.Hrzn.v+=m;G.v.Vrtc.v+=A};f.Ac.zj=function(G,m){var A=G.list.v;
for(var $=0;$<A.length;$++)if(A[$].v.compID.v==m)return $;return-1};f.Ac.aol=function(G){var m=G.layerSettings.v,H=null;
if(m.length==0)return;var A="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),Q=m[0].v;
if(Q.enab==null)Q.enab={t:"bool",v:!0};if(Q.Ofst==null)Q.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var $=0;$<m.length;$++){var J=m[$].v;if(H==null)H=JSON.parse(JSON.stringify(J));else for(var b=0;
b<A.length;b++){var O=A[b];if(J[O])H[O]=JSON.parse(JSON.stringify(J[O]))}m[$].v=JSON.parse(JSON.stringify(H))}};
f.Ac.cx=function(G,m){var A=G.add.shmd.cmls,Q=A.layerSettings.v;for(var H=0;H<Q.length;H++){var J=Q[H].v,b=J.compList.v[0].v;
if(b==m)return H}return-1};f.Ac.FN=function(G,m){var A=f.Ac.cx(G,m);return A==-1?null:G.add.shmd.cmls.layerSettings.v[A].v};
f.Ac.h1=function(G,m,A){for(var $=0;$<G.g.length;$++){var Q=G.g[$],H=Q.add.shmd.cmls;if(H==null)continue;
var J=H.layerSettings.v,b=f.Ac.FN(Q,m);if(b==null){Q.YQ(!1);continue}if((A&1)!=0){if(b.enab)Q.YQ(b.enab.v);
else Q.YQ(!0)}if((A&2)!=0){if(b.Ofst){var O=b.Ofst.v,a=Q.QZ(G),e=Math.round(O.Hrzn.v-a.x),R=Math.round(O.Vrtc.v-a.y);
if(e!=0||R!=0)f.oj.II(G,[$],null,e,R)}}if((A&4)!=0){if(b.Lefx){var p=JSON.parse(JSON.stringify(b.Lefx.v));
a1.Cw(p);if(JSON.stringify(p)!=JSON.stringify(Q.add.lmfx)){Q.add.lmfx=p;Q.zr.sj=!0}}else delete Q.add.lmfx;
if(b.blendOptions){var P=b.blendOptions.v;if(P.Opct)Q.opacity=Math.round(255*P.Opct.v.val/100);if(P.fillOpacity)Q.add.iOpa=Math.round(255*P.fillOpacity.v.val/100);
if(P.Md)Q.w4=Q.add.lsct==fM.SB?"norm":ib.Bn(P.Md.v.BlnM)}else{Q.opacity=255;Q.w4=Q.r8()?"pass":"norm";
Q.add.iOpa=255}}}};f.Ac.akd=function(G,m){var A={};for(var $=0;$<G.g.length;$++){var Q=G.g[$];if(Q.add.shmd==null||Q.add.shmd.cmls==null)continue;
A["l"+Q.add.lyid]=JSON.parse(JSON.stringify(f.Ac.FN(Q,m)))}return A};f.Ac.ra=function(G,m){var A={};
for(var $=0;$<G.g.length;$++){var Q=G.g[$],H=Q.add.lyid;A["l"+H]=f.Ac.lj(G,Q,m)}return A};f.Ac.lj=function(G,m,A){var Q=m.add.shmd?m.add.shmd.cmls:null,H={classID:"null"},J=m.QZ(G),b={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:J.x},Vrtc:{t:"long",v:J.y}}};
H.compList={t:"VlLs",v:[{t:"long",v:A}]};H.enab={t:"bool",v:m.HX()};H.Ofst=JSON.parse(JSON.stringify(b));
H.FXRefPoint=JSON.parse(JSON.stringify(Q&&Q.origFXRefPoint?Q.origFXRefPoint:b));H.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:ib.hb(m.w4)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*m.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:m.add.iOpa!=null?100*m.add.iOpa/255:100}}}};
if(m.add.vmsk){H.vectorMask={t:"Objc",v:{classID:"null"}};H.vectorMask.v.Ofst=JSON.parse(JSON.stringify(b))}if(m.add.lmfx){H.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(m.add.lmfx))};
a1.n8(H.Lefx.v)}return H};f.Ac.am1=function(G,m){var A=m.add.lyid;if(m.add.shmd==null)m.add.shmd={};
if(m.add.shmd.cmls==null){m.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:A},layerSettings:{t:"VlLs",v:[{t:"Objc",v:f.Ac.lj(G,m,0)}]}}}};
f.Ac.N9=function(G,m,A){for(var $=0;$<G.g.length;$++){var Q=G.g[$],H=Q.add.lyid;f.Ac.am1(G,Q);var J=Q.add.shmd.cmls,b=J.layerSettings.v,O=m["l"+H];
if(O!=null)O={t:"Objc",v:JSON.parse(JSON.stringify(O))};var a=f.Ac.cx(Q,A);if(a==-1){if(O==null)continue;
else b.push(O)}else{if(O==null)b.splice(a,1);else b[a]=O}}};f.Ac.qf=function(G,m){for(var $=0;$<G.g.length;
$++){var A=G.g[$],Q=A.add.lyid;if(A.add.shmd==null||A.add.shmd.cmls==null)continue;var H=A.QZ(G),J=Math.round(H.x),b=Math.round(H.y);
if(!m){J=-J;b=-b}var O=A.add.shmd.cmls,a=O.layerSettings.v;if(O.origFXRefPoint)f.Ac.f2(O.origFXRefPoint,-J,-b);
for(var e=0;e<a.length;e++){var R=a[e].v;f.Ac.f2(R.Ofst,J,b);var p=R.imageMask,P=R.vectorMask;if(p&&p.v.Ofst)f.Ac.f2(p.v.Ofst,J,b);
if(P&&P.v.Ofst)f.Ac.f2(P.v.Ofst,J,b)}}};f.qX=function(){f.rc.call(this,"Adjust Edit",f.wJ);this.gu=null;
this.wE=null};f.qX.prototype=new f.rc;f.qX.ci=function(G,m,A,Q){if(Q)m/=4;var H=0,J=0,b=255,O=0,a=0,e=255;
while(J+G[H]<m){J+=G[H];H++}while(O+G[b]<m){O+=G[b];b--}if(Q){H-=Math.round(G[H]/(A/32));b+=Math.round(G[b]/(A/32));
if(H<0)a=Math.round(-H*255/(b-H));if(b>255)e=255-Math.round((b-255)*255/(b-H))}return[Math.max(H,0),Math.min(b,255),a,e,100]};
f.qX.prototype.Hk=function(G,m,A,Q,H){var J=G.d;if(J=="auto"){var b=G.SC,O=f.qX.getData(A);for(var $=0;
$<O.length;$++){var a=O[$],e;if(b<3){}else{var R=bH.wZ("hue2");bY.yS(R,0,[0,-100,0]);e=hE.Gt("hue2",R)}hE.pV(e,a.Uq,a.Ym,a.PR)}f.qX.R1(A,O);
f.qX.$b(A,O,b<3?[4,16,b]:[19,7,0],this);A.F()}if(J=="edit_layer")this.ahz(G,m,A,Q);if(J=="edit"||J=="confirm"||J=="cancel")this.a6(G,m,A,H,!0);
if(J=="start"){if(A.c.length==0)return;var p=A.g[A.c[0]];if(p.add.SoLd&&p.Sm<=0&&A.UX.length==0){var P=new j8(r.E.w,!0);
P.b=f.Jb;P.data={d:"start",QK:G.VS,ok:G.ok};m.u(P);return}if(!A.CZ(m,null,!0))return;if(n[G.VS]&&G.ok==null){if(A.c.length!=1)alert("Will be applied to "+A.c.length+" layers.");
var P=new j8(r.E.W,!0);P.data={d:r.S.XG,Ue:"afw_"+G.VS};m.u(P)}else{this.a6({d:"edit",ok:G.ok,QK:G.VS},m,A,H);
this.a6({d:"confirm",QK:G.VS},m,A,H)}}};f.qX.prototype.ahz=function(G,m,A,Q){var H=G.d,J=A.c[0],b=A.g[J],O=hE.get(b.add),a=JSON.parse(JSON.stringify(b.add[O])),P;
for(var e in G.k)a[e]=G.k[e];var R=JSON.parse(JSON.stringify(a));for(var e in hE.Ih)if(hE.Ih[e]==O)R.classID=e;
var p=A.history[A.kZ];if(p&&p.b==this&&p.data.Ge!=null&&p.data.i==J)P=p;else{var z=new j8(r.E.NH,!0),Z={classID:"setd",null:ah.TH("AdjL",!0),T:{t:"Objc",v:R}};
z.data={Un:!0,YI:"set",aL:Z};m.u(z);var P=new i3([6,39],this);P.data={i:J,Ge:b.add[O],wK:a,nP:Z};A.jm(P)}P.data.wK=a;
P.data.nP.T.v=R;this.S6(P.data,A)};f.qX.getData=function(G,m,A){var Q=[],H=new f_(0,0,G.e,G.n),J=G.UX.length!=0?[-1-G.UX[0]]:G.c;
for(var $=0;$<J.length;$++){var b=J[$],O=b<0?null:G.g[b],a={i:b,OI:b<0?1:O.Sm};Q.push(a);var e=G.Hv[-1-b];
if(0<=b)e=O.Sm<=0?null:O.Sm==1?O.fm():O.mv(G).D;var R=e?e.rect:O.rect;if(G.q)a.PR=e!=null?G.q.rect.KB(H):G.q.rect.KB(R);
else a.PR=m||e!=null?R.wj(H):R.clone();if(A)a.PR=A[$].PR.clone();var p=a.PR.Z();a.Uq=N.$(p*4);if(e)f.Xi.Oh(e.channel,e.rect,e.color,a.Uq,a.PR);
else N.Pr(O.buffer,R,a.Uq,a.PR);a.Ym=a.Uq.slice(0);if(G.q){a.e1=N.$(p);N.qg(G.q.channel,G.q.rect,a.e1,a.PR)}}return Q};
f.qX.a3W=function(G,m,A){if(m==null)return m;var Q=hE.d7(G,m),J;if(Q==-1)return m;var H=A.length>>>2,b=N.de(A),O=.001*H;
if(Q==0||Q==2)J=[[0,255,0,255,100],f.qX.ci(b[1],O,H,Q==2),f.qX.ci(b[2],O,H,Q==2),f.qX.ci(b[3],O,H,Q==2)];
if(Q==1)J=[f.qX.ci(b[0],O*.33,H,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var a=bH.wZ("levl");
for(var $=0;$<4;$++)fX.yS(a,$,J[$]);return a};f.qX.D8=function(G,m,A,Q){var H,J;if(A.t=="name"){var b=0;
for(var O=0;O<G.g.length;O++)if(G.g[O].getName()==A.v.val)b=O;if(b==Q.i){H=Q.Uq;J=Q.PR}else{var a=G.g[b];
H=a.buffer;J=a.rect}}else{J=new f_(0,0,G.e,G.n);H=G==m?Q.R0:G.$s()}return[H,J]};f.qX.prototype.a6=function(G,m,A,Q){if(this.gu==null){if(G.QK=="aply")A.g[A.c[0]].extend(new f_(0,0,A.e,A.n));
this.gu=f.qX.getData(A,null,G.QK=="fade"?A.eL().data:null);if(G.QK=="aply"||G.QK=="matc")this.gu[0].R0=A.$s()}if(G.d=="edit"){this.wE=[G.QK,G.ok];
var H=this.gu[0],J=f.qX.a3W(G.QK,G.ok,H.Uq),b=hE.Gt(G.QK,J);if(G.QK=="fade"||G.QK=="matc"||G.QK=="aply")b=G.ok;
if(b!=null){for(var O=0;O<this.gu.length;O++){var a=this.gu[O];if(G.CD)N.Gy(a.Uq,a.Ym);else if(G.QK=="fade"){var e=ib.Bn(G.ok.Md.v.BlnM),R=G.ok.Opct.v.val/100,p=A.eL().data[O];
N.Gy(p.Uq,a.Ym);if(e=="norm")N.a.B4(a.Uq,a.PR,a.Ym,a.PR,null,null,null,a.PR,R);else{var P=en.El();P.BK=!0;
for(var $=0;$<p.Uq.length;$+=4)if(p.Uq[$+3]!=a.Uq[$+3]){P=null;break}N.a.zc(e,a.Uq,a.PR,a.Ym,a.PR,a.PR,R,P)}}else if(G.QK=="matc"){if(b.noReference&&b.noReference.v)N.Gy(a.Uq,a.Ym);
else{var z=b.Srce.v,Z=z[1].v.val,W=m.t4,T=A;for(var $=0;$<W.length;$++)if(W[$].name==Z)T=W[$];var i=f.qX.D8(T,A,z[0],a),X=i[0],U=i[1];
a_(a.Uq,a.PR.e,a.PR.n,X,a.Ym,[b.Lght.v,b.ClrR.v,b.Fade.v])}}else if(G.QK=="aply"){b=b.With.v;var M=b.T.v,i=f.qX.D8(A,A,M[1],a),X=i[0],U=i[1],C=b.Clcl?b.Clcl.v.Clcn:null,e=C?ib.Bn(C):"norm",R=b.Opct?b.Opct.v.val/100:1,x=["RGB","Rd","Grn","Bl","Trsp"].indexOf(M[0].v.enum),J=b.Invr&&b.Invr.v;
if(J||x!=0){X=X.slice(0);if(J)N.al2(X);if(x!=0){var L=N.$(U.Z());N.gF(X,L,x-1);if(x==4)N.G3(L);for(var E=0;
E<3;E++)N.I5(L,X,E)}}if(C=="Add"||C=="Sbtr"){var l=1/b.Scl.v,y=b.Ofst.v,Y=C=="Add"?1:-1,F=new Uint8ClampedArray(a.Ym.buffer);
for(var $=0;$<X.length;$+=4){F[$]=(a.Uq[$]+Y*X[$])*l+y;F[$+1]=(a.Uq[$+1]+Y*X[$+1])*l+y;F[$+2]=(a.Uq[$+2]+Y*X[$+2])*l+y}}else{var P=en.El();
P.BK=b.PrsT&&b.PrsT.v;a.Ym.fill(0);a.Ym.set(a.Uq);N.a.zc(e,X,U,a.Ym,a.PR,a.PR,R,P)}}else hE.pV(b,a.Uq,a.Ym,a.PR)}f.qX.R1(A,this.gu)}}if(G.d=="cancel"){f.qX.AA(A,this.gu);
this.gu=null}if(G.d=="confirm"){var w={fade:[2,11],aply:[2,12],matc:[4,18]},j=w[G.QK];if(j==null)j=hE.names[G.QK];
var _=hE.d7(G.QK,this.wE[1]);if(_!=-1)j=[4,16,_];f.qX.$b(A,this.gu,j,this);this.gu=null;if(_==-1)f.qX.sl(m,this.wE)}A.F()};
f.qX.sl=function(G,m){var A=m[0],Q=m[1],H,J;if(hE.Qg[A]){H=hE.Qg[A];if(n[A])J=Q}if(bH.Qg[A]){H=bH.Qg[A];
if(n[A])J=Q}if(A=="fade"){H="fade";J=Q}if(A=="matc"){H="matchColor";J=Q}if(A=="aply"){H="applyImageEvent";
J=Q}if(H==null)return;var b=new j8(r.E.NH,!0);b.data={Un:!0,YI:H};if(J){J=JSON.parse(JSON.stringify(J));
J.classID="null";delete J.__name;b.data.aL=J}G.u(b)};f.qX.AA=function(G,m){f.qX.E0(G,m)};f.qX.$b=function(G,m,A,Q){for(var $=0;
$<m.length;$++){var H=m[$],J=G.g[H.i],b=H.i<0?G.Hv[-1-H.i]:H.OI<=0?null:H.OI==1?J.fm():J.mv(G).D;if(b){b.LA();
b.k9=!0;if(J)J.hM(G)}else{J.LA();J.F()}delete H.Ym;delete H.e1}var O=new i3(A,Q);O.data=m;G.jm(O);G.bV=!0};
f.qX.R1=function(G,m,A){for(var $=0;$<m.length;$++){var Q=m[$],H=G.g[Q.i],J=A?Q.Uq:Q.Ym,b=Q.PR;if(Q.OI==0){H.extend(b);
if(Q.e1){N.Pr(Q.Uq,b,H.buffer,H.rect);N.a.B4(J,b,H.buffer,H.rect,Q.e1,b,0,b,1)}else N.Pr(J,b,H.buffer,H.rect)}else{var O=Q.i<0?G.Hv[-1-Q.i]:Q.OI==1?H.fm():H.mv(G).D;
O.extend(b);if(Q.e1){var a=N.$(b.Z()*4);N.Gy(Q.Uq,a);N.a.B4(J,b,a,b,Q.e1,b,0,b,1);f.Xi.G4(a,b,O)}else f.Xi.G4(J,b,O);
O.k9=!0;if(H)H.hM(G)}if(H)H.F()}if(!A)f.qX.X4(G,m)};f.qX.E0=function(G,m){for(var $=0;$<m.length;$++){var A=m[$],Q=G.g[A.i],H=A.PR,J=N.$(H.Z()*4);
if(A.OI==0){N.Pr(Q.buffer,Q.rect,J,H);Q.extend(H);N.Pr(A.Uq,H,Q.buffer,Q.rect);Q.LA()}else{var b=A.i<0?G.Hv[-1-A.i]:A.OI==1?Q.fm():Q.mv(G).D;
f.Xi.Oh(b.channel,b.rect,b.color,J,H);b.extend(H);f.Xi.G4(A.Uq,H,b);b.LA();b.k9=!0;if(Q)Q.hM(G)}A.Uq=J;
if(Q)Q.F()}G.bV=!0};f.qX.X4=function(G,m){var A=f.qX.ol(G),Q=~A;if(A==16777215)return;for(var $=0;$<m.length;
$++){var H=m[$],J=G.g[H.i],b=H.PR;if(H.OI!=0)continue;J.extend(b);var O=b.x-J.rect.x,a=b.y-J.rect.y,e=J.rect.e,R=new Uint32Array(H.Uq.buffer),p=new Uint32Array(J.buffer.buffer);
for(var P=0;P<b.n;P++)for(var z=0;z<b.e;z++){var Z=P*b.e+z,W=(P+a)*e+(z+O);p[W]=p[W]&A|R[Z]&Q}J.LA();
J.F()}G.F()};f.qX.ol=function(G){var m=G.t._T;return m[2]*16711680|m[1]*65280|m[0]*255};f.qX.prototype.Ah=function(G,m){var A=m.g[G.i];
if(G.Ge!=null)A.add[hE.get(A.add)]=G.Ge;else f.qX.E0(m,G);m.F()};f.qX.prototype.S6=function(G,m){var A=m.g[G.i];
if(G.Ge!=null)A.add[hE.get(A.add)]=G.wK;else f.qX.E0(m,G);m.F()};f.gU=function(){f.rc.call(this,"Filter Edit",f.Jb);
this.gu=null;this._F=null;this.d=null;this.wE=null};f.gU.prototype=new f.rc;f.gU.prototype.Hk=function(G,m,A,Q,H){if(G.d=="start"){if(A.c.length==0)return;
var J=A.g[A.c[0]];if(J.add.SoLd&&J.Sm<=0&&A.UX.length==0){}else if(!A.CZ(m,null,!0))return;var b=G.QK;
if((n[b]||bH.K[b])&&G.ok==null){if(A.c.length!=1)alert("Will be applied to "+A.c.length+" layers.");
var O=new j8(r.E.W,!0);O.data=f.gU.Ri(b,this.NR(A,b));m.u(O)}else{var a={d:"edit",QK:b,ok:G.ok,P5:this.NR(A)};
this.Hk(a,m,A,Q,H);a.d="confirm";delete a.ok;this.Hk(a,m,A,Q,H)}}if(G.d=="edit"||G.d=="cancel"||G.d=="confirm"){if(G.d=="edit")this.wE=[G.QK,G.ok];
if(G.P5)this.ahW(G,A,H);else this.agW(G,m,A,H)}if(G.d=="applylast"&&this.wE!=null){var a={d:"edit",QK:this.wE[0],ok:this.wE[1],P5:this.NR(A)};
this.Hk(a,m,A,Q,H);a.d="confirm";delete a.ok;this.Hk(a,m,A,Q,H)}};f.gU.Ri=function(G,m){var A=bH.K[G];
if(A)return{d:r.S.ce,b:A,ml:{P5:m}};else return{d:r.S.XG,Ue:"afw_"+G,P5:m}};f.gU.prototype.NR=function(G,m){var A=G.g[G.c[0]],Q;
if(A.add.SoLd&&A.Sm<=0&&G.UX.length==0){Q={i:G.c[0],index:0};if(A.add.SoLd.filterFX!=null){var H=A.add.SoLd.filterFX.v.filterFXList.v;
Q.index=H.length;for(var $=0;$<H.length;$++)if(bH.us(H[$].v)==m&&bH.K[m])Q.index=$}}return Q};f.gU.prototype.ahW=function(G,m,A){var Q=m.g[G.P5.i],H=G.QK;
if(G.d=="edit"){if(this.d==null){var J=bH.names[H];if(J==null)J=hE.names[H];if(H=="blendOptions")J=[14,10];
this.d=new i3(J,this);this.d.data={P5:G.P5,a81:JSON.parse(JSON.stringify(Q.add.SoLd))}}if(!Q.Ct()){Q.add.SoLd.filterFX=bH.PG();
this.d.data.M$=fy.ac0(Q.add.SoLd.placed.v);m.Ci(this.d.data.M$);Q.wH(m)}var b=Q.add.SoLd.filterFX.v.filterFXList.v;
if(b[G.P5.index]==null){b.push(bH.ib(H,A))}if(G.ok){b[G.P5.index].v.enab.v=G.CD!=!0;if(H=="blendOptions")b[G.P5.index].v.blendOptions.v=G.ok;
else b[G.P5.index].v.Fltr.v=G.ok}this.d.data.a2Y=JSON.parse(JSON.stringify(Q.add.SoLd));this.S6(this.d.data,m)}if(G.d=="cancel"){if(this.d)this.Ah(this.d.data,m);
this.d=null}if(G.d=="confirm"){if(this.d)m.jm(this.d);this.d=null}};f.gU.prototype.yE=function(G){return{p:G>>>16,z:G>>>8&255,h:G&255}};
f.gU.prototype.agW=function(G,m,A,Q){if(this.gu==null){var H=bH.bA(G.QK,G.ok);this.gu=f.qX.getData(A,H.x!=0||H.y!=0)}if(G.d=="edit"){var J=JSON.stringify(G.ok);
if((G.ok==null||J!=this._F)&&G.CD!=!0)for(var $=0;$<this.gu.length;$++){var b=this.gu[$],O={rect:b.PR,buffer:b.Uq},a={rect:b.PR,buffer:b.Ym};
if(G.QK=="Avrg"&&b.e1){O.buffer=b.Uq.slice(0);N.fW(b.e1,O.buffer)}bH.pV(G.QK,O,G.ok,this.yE(Q.yu),this.yE(Q.qU),a,[A.add.lnk2?A.add.lnk2:[],A.g[A.c[0]].fm(),A.Hv,A.S9()]);
if(G.QK=="Avrg"&&b.e1){var e=b.Uq.length;for(var $=0;$<e;$+=4)b.Ym[$+3]=b.Uq[$+3]}this._F=J}f.qX.R1(A,this.gu,G.CD)}if(G.d=="cancel"){f.qX.AA(A,this.gu);
this.gu=null;this._F=null}if(G.d=="confirm"){f.qX.$b(A,this.gu,bH.names[G.QK],this);this.gu=null;this._F=null;
f.qX.sl(m,this.wE)}A.F();A.bV=!0};f.gU.prototype.Ah=function(G,m){if(G.P5){var A=m.g[G.P5.i];if(G.M$)m.lN(G.M$);
A.add.SoLd=JSON.parse(JSON.stringify(G.a81));if(A.Ct())A.$I(m);else{A.wH(m);A.Sm=0}}else f.qX.E0(m,G);
m.F();m.bV=!0};f.gU.prototype.S6=function(G,m){if(G.P5){var A=m.g[G.P5.i];if(G.M$)m.Ci(G.M$);A.add.SoLd=JSON.parse(JSON.stringify(G.a2Y));
if(A.Ct())A.$I(m);else A.wH(m);if(!A.Pq())A.$G+=32}else f.qX.E0(m,G);m.F();m.bV=!0};var dG={ud:"0",sV:"1",EM:"2",yb:"3",xj:"4",VP:"5",D3:"6",oV:"7",w:"8",JG:"8.5",ve:"8.8",cv:"9",YF:"10",dh:"11",$A:"12",wv:"13",bM:"14",Cm:"15",EG:"16",bu:"21",E2:"22",GL:"23",iS:"23.0",nD:"23.1",C_:"23.2",Ig:"23.3",IH:"23.4",J3:"23.5",i_:"23.6",ET:"30",i6:"31",LW:"40",ic:"41",T_:"42"};
dG.$J={};dG.$J[dG.sV]=["abr","brushes",fO,[9,3]];dG.$J[dG.EM]=["grd","gradients",fI,[12,37]];dG.$J[dG.yb]=["shc","contours",dK,[12,21]];
dG.$J[dG.xj]=["asl","styles",hS,[12,22]];dG.$J[dG.VP]=["pat","patterns",bv,[12,62]];dG.$J[dG.D3]=["csh","shapes",g7,[12,77]];
dG.$J[dG.oV]=["aco","swatches",eb,[9,8]];dG.$J[dG.w]=["atn","actions",iv,[9,9]];dG.$J[dG.JG]=["tpl","tpresets",a3,[9,12]];
dG.$J[dG.ve]=["icc","profiles",eT,"ICCs"];function i3(G,m,A){if(A==null)A=!1;this.name=G;this.b=m;this.v9=A;
this.data=null;this.aaW=Date.now()}var ah={};ah.TH=function(G,m){var A={t:"Clss",v:{classID:G}};if(m)A={t:"Enmr",v:{classID:G,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[A]}};ah.RA=function(G,m){var A={classID:"Lyr"};A[G]=m;return{YI:"set",aL:{classID:"null",null:ah.TH("Lyr",!0),T:{t:"Objc",v:A}}}};
ah.ah$=function(G,m,A,Q,H){var J=new j8(r.E.NH,!0),b=[],$=0,O=ah.Oj(m,A,Q,b);while(b.length!=0){var a=b.pop();
$++;if(!a.P)continue;console.log($-1);if(a.YI=="conditional"){var e=G.g[G.c[0]],R=a.aL.null.v.Cndt,p=!1;
if(R=="Bckg")p=!1;else if(R=="Pxel"&&G.fE(!1))p=!0;else if(R=="Adjs"&&hE.get(e.add))p=!0;else if(R=="Shp"&&e.add.vogk)p=!0;
else if(R=="Grup"&&e.r8())p=!0;else if(R=="Opn"&&G!=null)p=!0;else if(R=="32Bt")p=!1;else if(R=="RGB")p=!0;
var P=a.aL.then,z=a.aL.else;if(p&&P)ah.Oj(m,P.v[0].v.val,P.v[1].v.val,b);if(!p&&z)ah.Oj(m,z.v[0].v.val,z.v[1].v.val,b)}else if(a.YI=="stop"){if(a.aL.Cntn&&a.aL.Cntn.v==!0)window.confirm(a.aL.Msge.v);
else{alert(a.aL.Msge.v);break}}else if(a.YI=="play"){var Z=a.aL.null.v,W=new j8(r.E.W,!0);W.data={d:r.S.qB,ii:[Z[0].v.val,Z[1].v.val]};
H.u(W)}else{J.data={YI:a.YI,aL:a.aL};H.u(J)}}};ah.Oj=function(G,m,A,Q){var H;for(var $=0;$<G.length;
$++){if(G[$].om!=A)continue;var J=G[$].Td;for(var b=0;b<J.length;b++){if(J[b].om!=m)continue;H=J[b].Td}}var O=H.length;
for(var $=0;$<O;$++)Q.push(H[O-1-$])};ah.a3J=function(G){var m=G.YI,A=G.aL,Q,b,O,a,e;if(A&&A.null)Q=A.null.v[0];
if(A&&Q==null&&A.At)Q=A.At.v[0];if(Q&&Q.t=="obj ")Q=Q.v[0];var H=Q?Q.v.classID:null,J=["purge"];if(J.indexOf(m)!=-1)return m[0].toUpperCase()+m.slice(1);
if(m=="GEfc")return iA.names[A.GEfk.v.GEft][1];e=hE.Qg;for(b in e)if(e[b]==m)O=b;e=bH.Qg;for(b in e)if(e[b]==m)a=b;
if(O){var R=hE.d7(O,A);if(R!=-1)return[4,16,R];return hE.names[O]}if(a)return bH.names[a];var p=ah.vO;
if(m=="make"){if(Q){if(H=="AdjL")return[6,1];else if(H=="layerSection")return A.From?[6,9]:[6,20];else if(H=="Lyr")return[6,13];
else if(H=="Chnl"&&Q.v.enum=="Msk")return[6,2];else if(H=="contentLayer")return[6,48,1];else if(H=="BckL")return"Make Background Layer";
else if(H=="Path")return"Make Path";else if(H=="TxLr")return"Make Text Layer";else if(H=="slice")return"Make Slices"}if(A.Nw){H=A.Nw.v.classID;
if(H=="Dcmn")return[11,7];else if(H=="Chnl"||H=="SCch")return"New Channel"}}else if(m=="deselect"){if(H=="Path")return"Deselect current path";
else throw H}else if(m=="select"){if(H=="Chnl")return"Select "+(Q.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(H=="Mn")return"Select Panel \""+Q.v.enum+"\"";else if(H=="Lyr"){if(Q.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward"}[Q.v.enum]+" Layer";
return"Select Layer \""+Q.v.val+"\""}else if(H=="Path")return"Select Path";else if(H=="Brsh")return"Select Brush";
else if(H=="Dcmn")return"Select Document"}else if(p[m]&&H=="Chnl"){var P=Q.v.keyID=="fsel";return p[m]+" "+(P?"Selection":"Channel")}else if(m=="set"){if(H=="Lyr")return"Set Current Layer";
else if(H=="AdjL")return[6,39];else if(H=="contentLayer")return[6,48,2];else if(H=="Prpr")return[11,6];
else if(H=="Clr")return"Set "+(Q.v.keyID=="FrgC"?"Foreground":"Background")+" color";else if(H=="Brsh")return"Set Brush";
else console.log(H)}else if(m=="move"){if(H=="Lyr")return"Move Layer"}else if(m=="show"||m=="hide"){var z="";
if(H=="Lyr")+"Layer";if(H=="Chnl")+"Channel";return(m=="show"?"Show":"Hide")+" "+z}else if(m=="reset"){if(H=="Clr")return"Reset Colors"}else if(m=="exchange"){if(H=="Clr")return[22,7,0]}else if(m=="rotateEventEnum")return[2,5];
else if(m=="flip"){var Z=A.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,Z?2:3]]}if(H=="Chnl"){if(m=="duplicate"){if(Q.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(m=="delete")return"Delete Channel"}if(m=="transform")return Q&&Q.v.keyID=="fsel"?[7,10]:[10,16];
var W={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:A?[6,31]:[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},T=W[m];
if(T==null)T=ah.yB[m];if(T)return T;return m};ah.yB={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
ah.vO={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
ah.a3d=function(G,m,A,Q){var H=G.YI,J=G.aL,b=new j8(r.E.w,!0),e,R,p,P,W;b.b=f.p4;var O=new j8(r.E.W,!0),a=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(a.indexOf(H)!=-1)return;P=hE.Qg;for(e in P)if(P[e]==H)R=e;P=bH.Qg;for(e in P)if(P[e]==H)p=e;if(H=="fade")R=H;
if(H=="matchColor")R="matc";if(H=="applyImageEvent")R="aply";if(R){b.b=f.wJ;b.data={d:"start",VS:R,ok:J}}else if(p){b.b=f.Jb;
b.data={d:"start",QK:p,ok:J}}else if(H=="GEfc"){b.b=f.Jb;b.data={d:"start",QK:"GEfc",ok:J}}else if(H=="imageSize"||H=="canvasSize"||H=="revealAll"||H=="trim"||H=="crop"){b.b=f.gS;
b.data={d:"fromAction",RO:G}}else if(H=="fill"||H=="stroke"||H=="delete"&&J==null){b.b=f.sV;b.data={d:"fromAction",RO:G}}else if(H=="colorRange"){b.b=f.vj;
b.data={d:"fromAction",RO:G}}else if(ah.yB[H]||ah.vO[H]&&(!1||J.With&&J.With.v[0].v.keyID=="fsel"||J.From&&J.From.v[0].v.keyID=="fsel"||J.null&&J.null.v[0].v.keyID=="fsel"||J.T.v[0]&&J.T.v[0].v.keyID=="fsel")){b.b=f.vj;
b.data={d:"fromAction",RO:G}}var z={copyToLayer:c.Xy,cutToLayer:c.ZY,mergeLayersNew:Q&&Q.c.length==1?c.ZH:c.li,rasterizeLayer:c.u$,mergeVisible:c.iq,flattenImage:c.y7,newPlacedLayer:c.x9};
if(z[H])b.data={d:z[H],aL:J};if(b.data){m.u(b);return}if(H=="collapseAllGroupsEvent"){for(var $=0;$<Q.g.length;
$++){var Z=Q.g[$];if(Z.r8())Z.add.lsct=fM.mJ}Q.AB=!0;return}if(H=="desaturate"){b.b=f.wJ;b.data={d:"auto",SC:3};
if(Q&&Q.g[Q.c[0]].add.SoLd==null)m.u(b);return}if(H=="close"){if(J.Svng.v.YsN=="Ys"){O.data={d:r.S.Fc};
m.u(O)}O.data={d:r.S.Am,xv:Q};m.u(O);return}if(H=="save"){O.data={d:r.S.Fc};m.u(O);return}if(H=="copyMerged"){O.data={d:r.S.ql,hD:!0,sJ:!0};
m.u(O);return}var z={placedLayerEditContents:r.S.aoW,copyEvent:r.S.ql,paste:r.S.cs};if(z[H])O.data={d:z[H],sJ:!0};
if(O.data){m.u(O);return}if(J.null||J.At)W=(J.null?J.null:J.At).v;else W=[{t:"----",v:J}];if(W[0].t=="obj "){if(W.length!=1)throw"e";
W=W[0].v}for(var T=0;T<W.length;T++){var i=W[T],X=i.v.classID;b.data=null;if(H=="make"){if(J.null==null&&J.Nw)X=J.Nw.v.classID;
if(X=="AdjL"){b.data={d:c.BC,aL:J}}else if(X=="layerSection"){b.data=J.From?{d:c.pr}:{d:c.NJ};if(J.Usng){var U=J.Usng.v;
if(U.Nm)b.data.qo=U.Nm.v;if(U.Clr)b.data.Fx=ah.v3(U)}}else if(X=="Lyr"){if(J.Usng&&J.Usng.v.length==2)b.data={d:c.Dz};
else{b.data={d:c.$o};if(J.Usng)b.data.qo=J.Usng.v.Nm.v;if(J.below&&J.below.v)b.data.ai4=!0}}else if(X=="Chnl"&&i.v.enum=="Msk"){b.data={d:c.AM,et:J.Usng.v.UsrM}}else if(X=="Chnl"||X=="SCch"){b.data={d:c.ex,Nm:"fromAction",k:G}}else if(X=="contentLayer"){b.data={d:c.YW,aL:J}}else if(X=="BckL"){Q.g[Q.c[0]].ap9();
continue}else if(X=="Dcmn"){var M=J.Nw.v;O.data={d:r.S.fP,EY:fy.asf(M,A)}}else if(X=="Ptrn")O.data={d:r.S.ov,WF:0};
else if(X=="Path"){b.b=f.Z3;b.data={d:"pathedit",Nm:"fromsel"}}else if(X=="TxLr"){b.b=f.G8;b.data={d:"fromAction",RO:G}}else if(X=="slice"){b.b=f.QB;
b.data={d:"fromAction",RO:G}}else if(X=="SnpS"){continue}else{console.log(H,X,J);throw"e"}}else if(H=="deselect"){if(X=="Path"){Q.rY=[];
Q.AB=Q.Iy=!0;continue}else throw X}else if(H=="select"){var C={PcTl:f.cb,PbTl:f.sV,magicWandTool:f.yj};
if(X=="Lyr"){var x=J.selectionModifier,L=x?x.v.selectionModifierType:null,E=ah.hz(Q,i);if(E==-1){alert("Layer "+i.v.val+" does not exist.");
throw"e"}b.data={d:c.mq,i:E,aex:L?["addToSelection","addToSelectionContinuous"].indexOf(L):null,oH:0,at3:!0}}else if(X=="Path"){if(i.v.keyID=="WrPt"){Q.rY=[0];
Q.AB=Q.Iy=!0;continue}else throw i}else if(X=="Chnl"){b.data={d:c.mq,i:E,oH:1}}else if(X=="Dcmn"){if(m.t4.length<2)return;
O.data={d:r.S.adl,dir:J.null.v[0].v.val}}else if(X=="Brsh"){var l=A.wo.list,y;for(var $=0;$<l.length;
$++){if(l[$].v.Nm.v==i.v.val)y=l[$].v}O.data={d:r.S.$g,WF:dG.bM,VC:y}}else if(C[X]){O.data={d:r.S.ce,b:C[X]}}else throw X}else if((H=="set"||H=="reset"||H=="exchange")&&X=="Clr"){O.data={d:r.S.$g,WF:dG.bu,Nm:H=="reset"?3:2};
if(H=="set"){O.data.Nm=i.v.keyID=="FrgC"?0:1;var Y=N.X.SR(J.T.v);O.data.k=Y.p<<16|Y.z<<8|Y.h}}else if(H=="set"){if(X=="AdjL"){var F=J.T.v.classID;
F=hE.Ih[F];b.b=f.wJ;if(F)b.data={d:"edit_layer",k:J.T.v}}else if(X=="Lyr"){var w=J.T.v,E=ah.hz(Q,i);
if(w.Nm)b.data={d:c._C,name:w.Nm.v};else if(w.Opct)b.data={d:c.h2,wK:Math.round(w.Opct.v.val*255/100)};
else if(w.fillOpacity)b.data={d:c.BE,wK:Math.round(w.fillOpacity.v.val*255/100)};else if(w.Md)b.data={d:c.x_,wK:ib.uY.indexOf(w.Md.v.BlnM)+(Q.g[E].r8()?1:0)};
else if(w.Usrs)b.data={d:c.Xb,i:E};else if(w.Blnd){b.b=f.Xj;b.data={d:"setstl",i:E,k:{blendOptions:{t:"objc",v:w}}};
m.u(b);b.data={d:"confirm",i:E}}else if(w.userMaskFeather||w.userMaskDensity){var j=w.userMaskFeather,_=w.userMaskDensity;
b.b=f.p4;var E=Q.c[0],D=Q.g[E].T1(0);if(j)D.Mm=j.v.val;if(_)D.AC=_.v.val;b.data={d:c.LE,rD:E,Zs:D}}else if(w.Clr){var t=ah.v3(w);
b.data={d:c.Vu,a4d:t}}else if(W[0].t=="prop")continue;else{console.log(J);throw"e"}var Z=Q.g[E];Z.a5m()}else if(X=="Prpr"){var w=JSON.parse(JSON.stringify(J.T.v));
if(i.v.keyID=="TxtS"){var E=ah.hz(Q,J.null.v[1]),Z=Q.g[E],K=Z.add.TySh,o=JSON.parse(JSON.stringify(K.DQ)),k=fC.Gn(o),v=fC.ui(o,0,k.length-2);
if(w.Undl&&w.Undl.v.Undl=="underlineOnLeftInVertical")v.In.Underline=!0;fC.QT(o,0,k.length-1,v);b.b=f.G8;
b.data={d:"newED",Ox:E,Nq:o};T=1e9}else{for(var u in w)if(w[u].v){if(u=="Scl")w[u].v.val=100;if(w[u].v.TrnS&&w[u].v.TrnS.v.Crv==null){w[u].v.TrnS=JSON.parse(hK.in[9]).TrnS}}a1.Cw(w);
if(w.masterFXSwitch==null)w.masterFXSwitch={t:"bool",v:!0};var E=ah.hz(Q,J.null.v[1]);b.b=f.Xj;b.data={d:"setstl",i:E,k:{Lefx:{t:"objc",v:w}}};
m.u(b);b.data={d:"confirm",i:E}}}else if(X=="contentLayer"){var E=ah.hz(Q,i),w=J.T.v;if(w.classID=="shapeStyle")w=w.FlCn.v;
var B={solidColorLayer:0,gradientLayer:1,patternLayer:2}[w.classID],S=f.Oz.O1(Q,E),p=S.D2==B+1?S.GF:hK.XE[B];
p=JSON.parse(JSON.stringify(p));f._9.S5(w,p,B);b.data={d:c.gI,Dt:[E],Yr:!0,k:{D2:B+1,GF:p}}}else if(X=="Brsh"){var y=JSON.parse(JSON.stringify(A.wo.lt)),I=J.T.v;
if(I.masterDiameter)y.Brsh.v.Dmtr.v.val=I.masterDiameter.v.val;else console.log("unknown brush parameters");
O.data={d:r.S.$g,WF:dG.bM,VC:y}}else{console.log(i,J);throw X}}else if(H=="move"){if(X=="Lyr"){var w=J.T.v;
if(w.classID=="Ofst"){b.data={d:"trsl",JS:w.Hrzn.v.val,lo:w.Vrtc.v.val};b.b=f.ld}else{var q,hw;if(w[0].t=="Enmr"){if(w[0].v.enum=="Frnt")hw=0;
else if(w[0].v.enum=="Nxt")hw=1;else if(w[0].v.enum=="Prvs")hw=2;else if(w[0].v.enum=="Back")hw=3;else throw"e"}else q=w[0].v.val;
b.data={d:c.TL,target:q,Nm:hw,acL:J.Dplc?J.Dplc.v:!1}}}}else if(H=="groupEvent"||H=="ungroup")b.data={d:c.Y5};
else if(H=="show"||H=="hide"){if(X=="Lyr"){var E=ah.hz(Q,i);if(E==-1)continue;var fY=Q.g[E].HX();if(H=="show"&&fY||H=="hide"&&!fY)continue;
b.data={d:c.Bg,i:E}}else if(X=="Chnl"){b.data={d:c.ex,Nm:"fromAction",k:G}}else if(X=="filterFX"){if(i.v.val!=null)b.data={d:c.bF,index:i.v.val-1};
b.data={d:c.cJ};W=[W[0]]}}else if(H=="rotateEventEnum"){b.b=f.gS;var s=J.Angl.v.val;b.data={d:"rot",om:[2,5],k:-s*Math.PI/180}}else if(H=="flip"){b.b=f.gS;
var hZ=J.Axis.v.Ornt=="Hrzn",bG=hZ?new dw(-1,1):new dw(1,-1);b.data={d:"scl",om:[[2,6],[22,4,hZ?2:3]],k:bG}}else if(H=="transform"){var aY=1,fj=1,jg=0,ae=0,iB=0,eg=0,dM=0;
if(J.Wdth)aY=J.Wdth.v.val/100;if(J.Hght)fj=J.Hght.v.val/100;if(J.Skew){var fK=J.Skew.v;jg=fK.Hrzn.v.val;
ae=fK.Vrtc.v.val}if(J.Ofst){var aQ=J.Ofst.v;eg=aQ.Hrzn.v.val;dM=aQ.Vrtc.v.val}if(J.Angl)iB=J.Angl.v.val;
var cQ=new ci;cQ.concat(new ci(aY,aY*Math.tan(ae*Math.PI/180),fj*Math.tan(jg*Math.PI/180),fj,0,0));cQ.rotate(-iB*Math.PI/180);
cQ.translate(eg,dM);var a7={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[J.FTcs.v.QCSt];
if(a7==null)throw J.FTcs.v.QCSt;var i=J.null;if(i&&i.v instanceof Array)i=i.v[0];var E=i?ah.hz(Q,i):null;
if(E==-1)E=null;b.b=i&&i.v.keyID=="fsel"?f.K9:f.Py;b.data={d:"mat",nR:a7,k:cQ}}else if(X=="Chnl"){b.data={d:c.ex,Nm:"fromAction",k:G}}else if(H=="duplicate")b.data={d:c.h_,qo:J.Nm?J.Nm.v:null};
else if(H=="delete"){if(X=="filterFX"){if(i.v.val!=null)b.data={d:c.jR,c2:i.v.val-1};else b.data={d:c.XI}}else b.data={d:c.ip};
W=[W[0]]}else if(H=="align"){if(J.Aply&&J.Aply.v.projection=="Auto"){b.b=f.gS;b.data={d:"auto-align"}}else{b.b=f.ld;
var gz=J.Usng.v.ADSt,R={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[gz];if(R==null)throw gz;b.data={d:"algn",k:R}}}else if(H=="applyLocking"){var bQ=J.layerLocking.v,d4;
if(bQ.protectTransparency)d4=[[bQ.protectTransparency.v],[0]];else if(bQ.protectNone)d4=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(bQ);throw"e"}b.data={d:c.FV,wK:d4}}if(b.data)m.u(b);else if(O.data)m.u(O);else{console.log(G);
alert("Unknown action \""+H+"\"");throw"e"}}};ah.v3=function(G){var m={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[G.Clr.v.Clr];
if(m==null)throw G.Clr.v.Clr;return m};ah.hz=function(G,m){var A=1e6,Q=0;for(var $=0;$<G.c.length;$++){A=Math.min(A,G.c[$]);
Q=Math.max(Q,G.c[$])}var H=m.t,J=-1;if(H=="name"){var b=m.v.val,J=-1;for(var $=0;$<G.g.length;$++)if(G.g[$].getName()==b){J=$;
break}}if(H=="Enmr"&&G.c.length!=0)J=G.c[0];if(H=="Enmr"&&m.v.enum=="Frwr")J=Q+1;if(H=="Enmr"&&m.v.enum=="Bckw")J=A-1;
if(H=="prop"){if(m.v.keyID=="Bckg")J=0}return J};var hE={};hE.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
hE.Lj=["expA","clrL","selc"];hE.ji=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];hE.adZ=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
hE.DL=[[13,1,1],[13,1,4],[13,1,5]];hE.qV={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
hE.Ih=function(){var G=JSON.parse(JSON.stringify(hE.qV));delete G.GrMp;G.GdMp="grdm";return G}();hE.Qg={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
hE.keys={levl:[a5.KF,a5.QC],curv:[a5.KF,a5.yW],hue2:[a5.KF,a5.NW],nvrt:[a5.KF,a5.VJ],blnc:[a5.KF,a5.n4]};
hE.T5=function(G){var m=bH.wZ("mixr");m.Mnch={t:"bool",v:G.nx};function A(Q,$){var H={classID:"ChMx"},J={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var b in J)H[b]={t:"UntF",v:{type:"#Prc",val:Q[$+J[b]]}};return{t:"Objc",v:H}}if(G.nx)m.Gry=A(G.k,0);
else{m.Rd=A(G.k,0);m.Grn=A(G.k,5);m.Bl=A(G.k,10)}return m};hE.GT=function(G){function m(Q,H,$){var J={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var b in J)if(Q[b])H[$+J[b]]=Q[b].v.val}var A={nx:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(G.Mnch&&G.Mnch.v)A.nx=!0;if(A.nx)m(G.Gry.v,A.k,0);else{m(G.Rd.v,A.k,0);m(G.Grn.v,A.k,5);m(G.Bl.v,A.k,10)}return A};
hE.get=function(G){for(var m in hE.names)if(G[m]!=null)return m;return null};hE.Gt=function(G,m){var A=hE.O9,Q;
if(G=="brit"){var H=m.Brgh?m.Brgh.v:0,J=m.Cntr?m.Cntr.v:0,b=m.useLegacy?m.useLegacy.v:!1;if(b){var O=H/255,a=1+J/100;
if(a>1)a=1+Math.tan(Math.PI/2*J/101);var e=(1-a)/2,R=N.zb.FB(O,O,O),p=[a,0,0,e,0,a,0,e,0,0,a,e,0,0,0,1],P=N.zb.multiply(R,p),z=new N.NI(256);
for(var $=0;$<256;$++)z.p[$]=$;N.zb.transform(z,z,P);Q={type:A.F$,Yd:z.p,aF:z.p,kb:z.p,b9:!1,fS:!1}}else{var Z=1024,W=-30+60*(J+100)/200,T=[];
for(var $=0;$<4;$++)T.push(N.RH.eM($/3*255,$/3*255,!0));T[1].v.Hrzn.v=64;T[1].v.Vrtc.v=64-W;T[2].v.Hrzn.v=128+64;
T[2].v.Vrtc.v=128+64+W;T.sort(function(gH,fU){return gH.v.Hrzn.v-fU.v.Hrzn.v});var i=N.RH.OY(T,Z);function X(gH,Z){var T=[],jw=3;
for(var $=0;$<jw+1;$++)T.push(N.RH.eM($/jw*255,$/jw*255,!0));T[1].v.Hrzn.v=130-gH*26;T[1].v.Vrtc.v=130+gH*51;
T[2].v.Hrzn.v=233-gH*48;T[2].v.Vrtc.v=233+gH*10;return N.RH.OY(T,Z)}var U=X(Math.abs(H)/100,Z);if(H<0){var M=[],C=1/Z;
for(var $=0;$<Z;$++){var x=$*C,L=$;while(U[L]>x&&L>1)L--;M[$]=L*C}U=M}var E=new Uint8Array(Z);for(var $=0;
$<Z;$++){var l=Math.round((Z-1)*U[$]);E[$]=Math.round(255*i[l])}Q={type:A.F$,Yd:E,aF:E,kb:E,b9:!1,fS:!1}}}if(G=="levl"){var y=[],Y,F,R,w,j,_;
for(var $=0;$<4;$++)y.push(fX.ie(m,$));Y=-y[0][0]/255;F=1/(y[0][1]/255-y[0][0]/255);R=N.zb.multiply(N.zb.wl(F,F,F),N.zb.FB(Y,Y,Y));
w=N.zb.wl(1/(y[1][1]/255-y[1][0]/255),1/(y[2][1]/255-y[2][0]/255),1/(y[3][1]/255-y[3][0]/255));j=N.zb.FB(-y[1][0]/255,-y[2][0]/255,-y[3][0]/255);
_=N.zb.multiply(w,j);var E=new N.NI(256);for(var $=0;$<256;$++)E.p[$]=E.z[$]=E.h[$]=$;var D=1/(y[0][4]/100),t=1/(y[1][4]/100),K=1/(y[2][4]/100),d=1/(y[3][4]/100);
N.zb.transform(E,E,_);for(var $=0;$<256;$++){E.p[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.p[$]/255,t))));
E.z[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.z[$]/255,K))));E.h[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.h[$]/255,d))))}N.zb.transform(E,E,R);
for(var $=0;$<256;$++){E.p[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.p[$]/255,D))));E.z[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.z[$]/255,D))));
E.h[$]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.h[$]/255,D))))}Y=y[0][2]/255;F=y[0][3]/255-y[0][2]/255;
R=N.zb.multiply(N.zb.FB(Y,Y,Y),N.zb.wl(F,F,F));w=N.zb.wl(y[1][3]/255-y[1][2]/255,y[2][3]/255-y[2][2]/255,y[3][3]/255-y[3][2]/255);
j=N.zb.FB(y[1][2]/255,y[2][2]/255,y[3][2]/255);_=N.zb.multiply(j,w);N.zb.transform(E,E,N.zb.multiply(R,_));
Q={type:A.F$,Yd:E.p,aF:E.z,kb:E.h,b9:!1,fS:!1}}if(G=="curv"){var o=a0.ie(m,0).length==256?1:0,k=[];if(o==0){var v=N.RH.m7(a0.ie(m,0),256);
for(var $=1;$<4;$++){var u=N.RH.m7(a0.ie(m,$),256);k.push(N.RH.dU(u,v))}}else{var B=[];for(var $=0;$<4;
$++){var S=new Uint8Array(256);B.push(S);var I=a0.ie(m,$);for(var L=0;L<256;L++)S[L]=I[L]}for(var $=1;
$<4;$++)k.push(N.RH.dU(B[$],B[0]))}Q={type:A.F$,Yd:k[0],aF:k[1],kb:k[2],b9:!1,fS:!1}}if(G=="expA"){var q=m.Exps,hw=m.Ofst,fY=m.gammaCorrection,s=q?q.v:0,hZ=hw?hw.v:0,bG=fY?fY.v:1,E=new Uint8Array(256);
for(var $=0;$<256;$++){var m=$/255,aY=Math.pow(Math.abs(hZ),1/(Math.PI/2));if(hZ>0){m=Math.max(hZ/Math.E,m);
m=m*Math.exp(hZ/1.75+s/Math.PI);m=(1-aY)*m+aY*1}else{m=m*Math.exp(-hZ*1.75+s/Math.PI);m=m+-aY*1.14}m=Math.pow(m,1/bG);
m=Math.max(0,Math.min(1,m));E[$]=Math.round(m*255)}Q={type:A.F$,Yd:E,aF:E,kb:E,b9:!1,fS:!1}}if(G=="vibA"){var fj=(m.vibrance?m.vibrance.v:0)/100,jg=(m.Strt?m.Strt.v:0)/100,aY=1+fj*(fj>0?.25:.5),ae=.8+.2/aY;
Q={type:A.zB,WF:[fj,jg,ae,aY]}}if(G=="hue2"){var iB=[],eg=[],dM=[],fK=m.Clrz?m.Clrz.v:!1;for(var $=0;
$<256;$++){iB[$]=$/255;eg[$]=0;dM[$]=0}var aQ=bY.ie(m,0),cQ=hE.ue(aQ[1]/100);if(fK){var a7=aQ[0]/360;
for(var $=0;$<256;$++){iB[$]=a7;eg[$]=cQ}}else{for(var $=0;$<256;$++){var gz=iB[$],bQ=eg[$];iB[$]+=aQ[0]/360;
for(var L=0;L<6;L++){var d4=bY.ie(m,L+1),j2=d4.pc,j7=d4.uR,aY=0;for(var fG=1;fG<4;fG++)if(j7[fG]<j7[0])j7[fG]+=360;
var bT=j7[0],je=j7[1],ba=j7[2],j6=j7[3],cl=gz*360;if(cl<j7[0])cl+=360;var js=(cl-bT)/(je-bT),fR=(cl-ba)/(j6-ba);
if(js<0)aY=0;else if(js<1)aY=js;else if(fR<0)aY=1;else if(fR<1)aY=1-fR;else aY=0;var a=hE.ue(j2[1]/100);
iB[$]+=aY*j2[0]/360;eg[$]+=aY*a;dM[$]+=aY*j2[2]/100}}for(var $=0;$<256;$++){eg[$]=(1+eg[$])*(1+cQ)-1;
dM[$]=Math.max(-1,Math.min(1,dM[$]))}}var iW=new Uint8Array(256),fx=new Uint8Array(256),dm=new Uint8Array(256);
for(var $=0;$<256;$++){var fq=iB[$],jg=eg[$],h2=dM[$];if(fq>1)fq--;if(fq<0)fq++;jg=hE.agJ(jg);jg=(1+jg)*.5;
h2=(1+h2)*.5;iW[$]=Math.round(255*fq);fx[$]=Math.round(255*jg);dm[$]=Math.round(255*h2)}var jj=aQ[2]/100,iM=jj<0?-jj:jj,aC=jj<0?0:1;
Q={type:A._n,akO:iW,Lx:fx,a2k:dm,ahl:iM*aC,fl:1-iM,a1u:aQ[2]/100,asl:fK?1:0}}if(G=="nvrt"){var E=new Uint8Array(256);
for(var $=0;$<256;$++)E[$]=255-$;Q={type:A.F$,Yd:E,aF:E,kb:E,b9:!1,fS:!1}}if(G=="post"){var aB=m.Lvls.v,E=new Uint8Array(256),aY=aB/255.001,ep=255/(aB-1);
for(var $=0;$<256;$++)E[$]=Math.floor($*aY)*ep;Q={type:A.F$,Yd:E,aF:E,kb:E,b9:!1,fS:!1}}if(G=="grdm"){var h6=m.Grad.v,dJ=m.Rvrs,Z=1024,gs;
if(h6.Clrs){var ej=N.X.IN(h6.Clrs.v,0,0);gs=N.X.FO(h6,ej,Z,dJ?dJ.v:!1)}else{gs=N.X.zV(h6,Z,dJ?dJ.v:!1)}var eH=N.$(Z),hT=N.$(Z),dO=N.$(Z);
N.gF(gs,eH,0);N.gF(gs,hT,1);N.gF(gs,dO,2);Q={type:A.F$,Yd:eH,aF:hT,kb:dO,b9:!0,fS:!1}}if(G=="selc"){var fE=new Float32Array(9*3*2),hD=m.l8,d9=m.Mthd?m.Mthd.v.CrcM=="Absl":!1;
for(var L=0;L<9;L++){var iQ=L*6,iS=gO.ie(m,L),bZ=iS[0]/100,dy=iS[1]/100,jh=iS[2]/100,eE=iS[3]/100;if(d9){fE[iQ]=fE[iQ+1]=fE[iQ+2]=1;
fE[iQ+3]=bZ*(1+eE)+eE;fE[iQ+4]=dy*(1+eE)+eE;fE[iQ+5]=jh*(1+eE)+eE}else{fE[iQ+0]=(1+bZ)*(1+eE);fE[iQ+1]=(1+dy)*(1+eE);
fE[iQ+2]=(1+jh)*(1+eE)}}Q={type:A.Lk,ac1:fE}}if(G=="blwh"){var jr="Rd Yllw Grn Cyn Bl Mgnt".split(" "),Q=[],gd=0,eG=0;
for(var $=0;$<6;$++)Q.push(m[jr[$]].v);Q.push(m.useTint.v,m.tintColor.v);var dr=[];for(var $=0;$<6;$++)dr.push((Q[$]-50)/50);
var jL=N.X.SR(Q[7]);jL.p/=255;jL.z/=255;jL.h/=255;var dI=N.ID(jL.p,jL.z,jL.h),h2=N.fb(N.a9(dI.V7,1,.5)),aF=dI.H6*dI.ok;
if(h2==.5)gd=eG=.5;else{gd=aF*(.5-h2)/(.5/h2-1);eG=1-aF*(.5-h2)-1/(2*(1-h2));eG/=1-1/(2*(1-h2))}Q={type:A.Yc,anz:dr,t5:Q[6]?1:0,aqz:dI.V7,fb:h2,a70:aF,Sa:gd,aqF:eG}}if(G=="blnc"){var y=[],bb=["ShdL","MdtL","HghL"];
for(var $=0;$<3;$++){if(m[bb[$]]==null){y[$]=[0,0,0];continue}var aB=m[bb[$]].v,hM=aB[0].v/100,cD=aB[1].v/100,fr=aB[2].v/100,cp=m.PrsL==null||m.PrsL.v?(Math.min(hM,cD,fr)+Math.max(hM,cD,fr))/2:0;
y[$]=[hM-cp,cD-cp,fr-cp]}var k=[N.$(256),N.$(256),N.$(256)];for(var L=0;L<3;L++)for(var $=0;$<256;$++){var x=$*(1/255),cG=0,W=0,eX=0;
W=y[2][L];eX=Math.abs(W);if(W<0)cG=Math.pow(x,Math.SQRT2);else cG=1.63*(Math.pow(x+.04,.5)-.2);x=eX*cG+(1-eX)*x;
W=y[1][L];eX=Math.abs(W);if(W<0)cG=Math.pow(x,2);else cG=Math.min(2.35*(Math.pow(x+.09,.5)-.3),Math.pow(x,1/2));
x=eX*cG+(1-eX)*x;W=y[0][L];eX=Math.abs(W);if(W<0)cG=x<.4?0:Math.pow((x-.4)/.6,Math.SQRT2);else cG=Math.pow(x,Math.SQRT2/2);
x=eX*cG+(1-eX)*x;x=Math.max(0,Math.min(1,x));k[L][$]=Math.round(x*255)}Q={type:A.F$,Yd:k[0],aF:k[1],kb:k[2],b9:!1,fS:!1}}if(G=="phfl"){var eN=N.X.SR(m.Clr.v),iF=[eN.p/255,eN.z/255,eN.h/255],ay=m.Dnst.v/100,k=[N.$(256),N.$(256),N.$(256)];
for(var L=0;L<3;L++)for(var $=0;$<256;$++){var x=$*(1/255),iJ=x*iF[L];iJ=Math.max(0,Math.min(1,iJ));
x=ay*iJ+(1-ay)*x;k[L][$]=Math.round(x*255)}Q={type:A.F$,Yd:k[0],aF:k[1],kb:k[2],b9:!1,fS:m.PrsL.v}}if(G=="thrs"){var E=N.$(256);
for(var $=m.Lvl.v;$<256;$++)E[$]=255;Q={type:A.F$,Yd:E,aF:E,kb:E,b9:!0,fS:!1}}if(G=="mixr"){var hY=hE.GT(m),P=[];
for(var $=0;$<hY.k.length;$++)if($%5!=3)P.push(hY.k[$]/100);if(hY.nx){for(var gv=1;gv<3;gv++)for(var x=0;
x<4;x++)P[gv*4+x]=P[x]}Q={type:A.U$,Nu:P}}if(G=="rplc"){var ix=m.Mnm.v,f1=m.Mxm.v;Q={type:A.z5,Rf:[ix.Lmnc.v,ix.A.v,ix.B.v],UJ:[f1.Lmnc.v,f1.A.v,f1.B.v],shift:[m.H.v/360,m.Strt.v/100,m.Lght.v/100],G_:m.Fzns.v/150}}if(G=="clrL"&&m.profile){var ao=new Uint8Array(m.profile.v),fm=ICC.R(ao.buffer),gE=[],bu=17,gE=ICC.U.sampleLUT(fm,bu);
Q={type:A.vU,Uq:ICC.U.rgba8LUT(gE,bu),a9f:gE,uV:bu}}return Q};hE.d7=function(G,m){var A=-1;if(G!="levl"||m==null)A=-1;
else if(m.Auto)A=0;else if(m.AuCo)A=1;else if(m.autoBlackWhite)A=2;return A};hE.O9={F$:0,_n:1,zB:2,Lk:3,Yc:4,U$:5,z5:6,vU:7};
hE.ue=function(G){if(G<0)return G;return Math.pow(Math.tan(Math.PI/2*G),1.3)};hE.agJ=function(G){if(G<0)return G;
G=Math.pow(G,1/1.3);return Math.atan2(G,1)/(Math.PI/2)};hE.pV=function(G,m,A,Q){var H=hE.O9,J=Date.now();
if(h.wq&&Q.Z()>300*300&&G.type!=H.F$&&G.type!=H.vU){Q=Q.clone();Q.x=Q.y=0;var b=h.NL(0,Q.e,Q.n);b.set(m);
h.Hj(b,Q);b.vK(Q);hE.Av(G,b.Pf,Q);b.get(A);return}if(G.type==H.vU){var O=G.a9f,a=G.uV;ICC.U.applyLUT(O,a,m,A);
var e=m.length;for(var $=0;$<e;$+=4)A[$+3]=m[$+3]}if(G.type==H.U$)N.zb.yT(m,A,G.Nu);if(G.type==H.Yc){var R=G.a70,p=G.fb,P=G.Sa,z=G.aqF,e=m.length;
for(var $=0;$<e;$+=4){var Q=m[$]*(1/255),Z=m[$+1]*(1/255),W=m[$+2]*(1/255),T=N.jI(Q,Z,W),i=0;for(var X=0;
X<6;X++)i+=Math.min(1,1.7*(1-T.Ku))*T.H6*G.anz[X]*hE.x5(T.V7,X*(1/6));var U=Math.max(0,Math.min(1,T.Ku*(1+i)));
if(G.t5==1){var M=0;if(U<P)M=U*(.5/p);else if(U<z)M=U+R*(.5-p);else M=1-(1-U)*.5/(1-p);T.V7=G.aqz;T.H6=Math.min(1,R+3*R*Math.abs(U-.5*(P+z)));
T.Ku=M}else{T.V7=0;T.H6=0;T.Ku=U}var C=N.a9(T.V7,T.H6,T.Ku);A[$]=Math.round(C.p*255);A[$+1]=Math.round(C.z*255);
A[$+2]=Math.round(C.h*255)}}if(G.type==H.Lk){var x=G.ac1,e=m.length,L=1/255;for(var $=0;$<e;$+=4){var Q=m[$]*L,Z=m[$+1]*L,W=m[$+2]*L,T=N.jI(Q,Z,W),E=Math.max(Q,Math.max(Z,W)),l=Math.min(Q,Math.min(Z,W)),y=1-Q,Y=1-Z,F=1-W,w=0,j=0,_=0;
for(var X=0;X<9;X++){var D=X*6,o=0;if(x[D]==1&&x[D+1]==1&&x[D+2]==1&&x[D+3]==0&&x[D+4]==0&&x[D+5]==0)continue;
var t=y*x[D]+x[D+3],K=Y*x[D+1]+x[D+4],d=F*x[D+2]+x[D+5];if(X<6)o=hE.x5(T.V7,X*(1/6))*T.H6*2*Math.min(T.Ku,1-T.Ku);
else if(X==6)o=Math.max(0,l-.5)*2;else if(X==7)o=1-(Math.abs(E-.5)+Math.abs(l-.5));else o=Math.max(0,.5-E)*2;
w+=(Math.max(0,Math.min(1,t))-y)*o;j+=(Math.max(0,Math.min(1,K))-Y)*o;_+=(Math.max(0,Math.min(1,d))-F)*o}y=Math.max(0,Math.min(1,y+w));
Y=Math.max(0,Math.min(1,Y+j));F=Math.max(0,Math.min(1,F+_));Q=1-y;Z=1-Y;W=1-F;A[$]=Math.round(Q*255);
A[$+1]=Math.round(Z*255);A[$+2]=Math.round(W*255)}}if(G.type==H.F$){N.a7_(m,A,G.Yd,G.aF,G.kb,G.b9,G.fS)}if(G.type==H._n){var k=new Uint32Array(m.buffer),v=new Uint32Array(A.buffer),e=k.length;
if(hE.uQ==null){hE.uQ=new Float64Array(256);for(var $=0;$<256;$++)hE.uQ[$]=hE.ue(-1+2*$/255)}var u=hE.uQ;
for(var $=0;$<e;$++){var B=k[$],Q=(B&255)*(1/255),Z=(B>>>8&255)*(1/255),W=(B>>>16&255)*(1/255),S=B>>>24,I=Math.min(Q,Z,W),q=Math.max(Q,Z,W),hw=0,fY=0,s=0;
hw=N.jI(Q,Z,W).V7;var hZ=~~(hw*255+.5),bG=G.akO[hZ]*(1/255),aY=G.Lx[hZ]*(1/255)*2-1,fj=G.a2k[hZ]*(1/255)*2-1,i=-fj,jg=I;
if(0<fj){i=fj;jg=q}var ae=G.ahl+G.fl*i*jg,iB=G.fl*(1-i);Q=ae+iB*Q;Z=ae+iB*Z;W=ae+iB*W;q=Math.max(Q,Z,W);
I=Math.min(Q,Z,W);s=(q+I)*.5;if(q!=I){var eg=q-I;fY=s>.5?eg/(2-(q+I)):eg/(q+I)}var dM=aY;if(G.asl==0){aY=u[Math.floor((1+aY)*127.5)];
dM=Math.min(fY*(1+aY),1)}var C=N.a9(bG,dM,s);Q=C.p;Z=C.z;W=C.h;v[$]=S<<24|W*255<<16|Z*255<<8|Q*255}}if(G.type==H.z5){N.Gy(m,A);
var k=new Uint32Array(m.buffer),v=new Uint32Array(A.buffer),e=k.length,fK=G.G_,aQ=1/fK,cQ={QC:G.Rf[0],Uj:G.Rf[1],h:G.Rf[2]},a7={QC:G.UJ[0],Uj:G.UJ[1],h:G.UJ[2]};
for(var $=0;$<e;$++){var B=k[$],gz=B&255,bQ=B>>>8&255,d4=B>>>16&255,Q=gz*(1/255),Z=bQ*(1/255),W=d4*(1/255),S=B>>>24,j2=N.Nw(gz,bQ,d4),j7=N.cu(j2,cQ,a7,fK,aQ);
if(j7==0)continue;var T=N.jI(Q,Z,W),bG=2+T.V7+G.shift[0];T.V7=bG-~~bG;T.H6=Math.max(0,Math.min(1,T.H6+G.shift[1]));
T.Ku=Math.max(0,Math.min(1,T.Ku+G.shift[2]));var C=N.a9(T.V7,T.H6,T.Ku);Q=(1-j7)*Q+j7*C.p;Z=(1-j7)*Z+j7*C.z;
W=(1-j7)*W+j7*C.h;v[$]=S<<24|W*255<<16|Z*255<<8|Q*255}}if(G.type==H.zB){var k=new Uint32Array(m.buffer),v=new Uint32Array(A.buffer),e=k.length,fG=G.WF[0],bT=G.WF[1],je=G.WF[2],i=G.WF[3],ba=N.zb.nf([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),j6=N.zb.G3(ba),cl=2.4;
console.log(j6);function a(dm){return Math.max(0,Math.min(1,dm))}function js(dm){return Math.pow(dm,cl)}function fR(dm){return Math.pow(dm,1/cl)}function iW(Q,Z,W,dm){Q=js(Q);
Z=js(Z);W=js(W);var fq=N.zb.wQ(ba,[Q,Z,W,1]);fq[0]*=je;fq[1]*=i;fq[2]*=i;var C=N.zb.wQ(j6,fq);C[0]=fR(a(C[0]));
C[1]=fR(a(C[1]));C[2]=fR(a(C[2]));return C}for(var $=0;$<e;$++){var B=k[$],Q=(B&255)*(1/255),Z=(B>>>8&255)*(1/255),W=(B>>>16&255)*(1/255),S=B>>>24,C=iW(Q,Z,W,fG);
Q=C[0];Z=C[1];W=C[2];var fx=N.jI(Q,Z,W);fx.H6=Math.max(0,Math.min(1,fx.H6*(1+bT)));C=N.a9(fx.V7,fx.H6,fx.Ku);
Q=C.p;Z=C.z;W=C.h;v[$]=S<<24|W*255<<16|Z*255<<8|Q*255}}};hE.Av=function(G,m,A){h.VS.Av(G,m)};hE.x5=function(G,m){var A=N.Cl(m,G)*6;
return Math.max(0,Math.min(1,A<0?1+A:1-A))};var bH={};bH.us=function(G){var m=G.filterID.v;return m>16777215?V.aur(m):G.Fltr.v.classID};
bH.Bt=[{GF:"GEfc"},{GF:"LnCr"},{GF:"LqFy",l3:!0},{U1:"3D",po:["lightFilterGradient"]},{U1:[24,2],po:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{U1:[24,4],po:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{U1:[24,6],po:["AdNs","Dspc","DstS","Mdn ","denoise"]},{U1:[24,8],po:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{U1:[24,10],po:["Flam","Clds","DfrC","Fbrs","LnsF"]},{U1:[24,12],po:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{U1:[24,14],po:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{U1:[24,16],po:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{U1:"Fourier",po:["dDFT","iDFT"]}];
bH.Qg={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
bH.SE={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
bH.K={rigidTransform:f.x7};bH.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
bH.wZ=function(G){var m=null;if(G=="GEfc")m={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:iA.wZ("GlwE")}]}};
if(G=="LqFy"){var A={zp:5,V7:5,map:new Float32Array(5*5*2)},Q=new Uint8Array(g9.MJ(A)),H=[];for(var $=0;
$<Q.length;$++)H.push(Q[$]);m={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:H}}}if(G=="rigidTransform"){m={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(G=="LnCr")m={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(G=="adaptCorrect")m={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(G=="Dfs ")m={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(G=="Fbrs")m={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(G=="Embs")m={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(G=="oilPaint")m={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(G=="TrcC")m={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(G=="Wnd ")m={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(G=="lightFilterGradient")m={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(G=="boxblur")m={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(G=="GsnB")m={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(G=="Bokh")m={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(G=="MtnB")m={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(G=="RdlB")m={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(G=="surfaceBlur")m={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(G=="denoise")m={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(G=="Dspl")m={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(G=="Pnch")m={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(G=="Plr ")m={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(G=="Rple")m={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(G=="Shr ")m={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(G=="Sphr")m={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(G=="Twrl")m={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(G=="Wave")m={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(G=="ZgZg")m={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(G=="AdNs")m={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(G=="DstS")m={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(G=="Mdn ")m={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(G=="ClrH")m={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(G=="Crst")m={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(G=="Mztn")m={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(G=="Msc ")m={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(G=="Pntl")m={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(G=="LnsF")m={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(G=="Dthr")m={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(G=="Adobe Camera Raw Filter")m={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(G=="smartSharpen")m={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(G=="UnsM")m={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(G=="HghP")m={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(G=="HsbP")m={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(G=="Mxm ")m={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(G=="Mnm ")m={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(G=="Ofst")m={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(G=="Rept")m={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(G=="Flam")m={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(G=="Ctoa")m={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(G=="brit")m={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(G=="levl")m={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(G=="curv")m={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(G=="expA")m={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(G=="vibA")m={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(G=="hue2")m={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(G=="blnc")m={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(G=="blwh")m={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(G=="phfl")m={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(G=="grdm")m={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(hK.in[6]).Grad};
if(G=="selc")m={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(G=="thrs")m={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(G=="mixr")m={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(G=="clrL")m={__name:"Color Lookup",classID:"colorLookup"};if(G=="post")m={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(G=="rplc")m={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(G=="fade")m={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(G=="aply")m={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(G=="matc"){m={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},noReference:{t:"bool",v:!0}}}if(G=="blendOptions")m={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return m};bH.Pv={sFlam:function(G,m){m[0]=G.Type.v;m[1]=G.Leng.v;m[2]=G.RndL.v;m[3]=G.Widt.v;m[4]=G.Angl.v;
m[5]=G.Intr.v;m[6]=G.Adpt.v;m[7]=G.Clr.v;m[8]=G.Qual.v;m[9]=G.Turb.v;m[10]=G.Jag.v;m[11]=G.Opct.v.val;
m[12]=G.Lins.v;m[13]=G.Botm.v;m[14]=G.Styl.v;m[15]=G.Shap.v;m[16]=G.RnSh.v;m[17]=G.Arng.v},gFlam:function(G,m){G.Type.v=m[0];
G.Leng.v=m[1];G.RndL.v=m[2];G.Widt.v=m[3];G.Angl.v=m[4];G.Intr.v=m[5];G.Adpt.v=m[6];G.Clr.v=m[7];G.Qual.v=m[8];
G.Turb.v=m[9];G.Jag.v=m[10];G.Opct.v.val=m[11];G.Lins.v=m[12];G.Botm.v=m[13];G.Styl.v=m[14];G.Shap.v=m[15];
G.RnSh.v=m[16];G.Arng.v=m[17]},sAdNs:function(G,m){m[0]=G.Nose.v.val;m[1]=["Gsn","Unfr"].indexOf(G.Dstr.v.Dstr);
m[2]=G.Mnch.v},gAdNs:function(G,m){G.Nose.v.val=m[0];G.Dstr.v.Dstr=["Gsn","Unfr"][m[1]];G.Mnch.v=m[2]},sDstS:function(G,m){m[0]=G.Rds.v;
m[1]=G.Thsh.v},gDstS:function(G,m){G.Rds.v=m[0];G.Thsh.v=m[1]},sGsnB:function(G,m){m[0]=G.Rds.v.val},gGsnB:function(G,m){G.Rds.v.val=m[0]},sHghP:function(G,m){m[0]=G.Rds.v.val},gHghP:function(G,m){G.Rds.v.val=m[0]},sHsbP:function(G,m){var A=["RGBC","HSBl","HSLC"];
m[0]=A.indexOf(G.Inpt.v.ClrS);m[1]=A.indexOf(G.Otpt.v.ClrS)},gHsbP:function(G,m){var A=["RGBC","HSBl","HSLC"];
G.Inpt.v.ClrS=A[m[0]];G.Otpt.v.ClrS=A[m[1]]},"sMxm ":function(G,m){var A="preserveShape";m[0]=G.Rds.v.val;
m[1]=G[A]?["squareness","Rndn"].indexOf(G[A].v[A]):0},"gMxm ":function(G,m){var A="preserveShape";G.Rds.v.val=m[0];
G[A]={t:"enum",v:{preserveShape:["squareness","Rndn"][m[1]]}}},"sMnm ":function(G,m){var A="preserveShape";
m[0]=G.Rds.v.val;m[1]=G[A]?["squareness","Rndn"].indexOf(G[A].v[A]):0},"gMnm ":function(G,m){var A="preserveShape";
G.Rds.v.val=m[0];G[A]={t:"enum",v:{preserveShape:["squareness","Rndn"][m[1]]}}},sMtnB:function(G,m){m[0]=[G.Angl.v];
m[1]=G.Dstn.v.val;console.log(m)},gMtnB:function(G,m){G.Angl.v=typeof m[0]=="number"?m[0]:m[0][0];G.Dstn.v.val=m[1]},sOfst:function(G,m){m[0]=G.Hrzn.v;
m[1]=G.Vrtc.v;m[2]=["Rpt","Bckg","Wrp"].indexOf(G.Fl.v.FlMd)},gOfst:function(G,m){G.Hrzn.v=m[0];G.Vrtc.v=m[1];
G.Fl.v.FlMd=["Rpt","Bckg","Wrp"][m[2]]},sPnch:function(G,m){m[0]=G.Amnt.v},gPnch:function(G,m){G.Amnt.v=m[0]},"sPlr ":function(G,m){m[0]=["RctP","PlrR"].indexOf(G.Cnvr.v.Cnvr)},"gPlr ":function(G,m){G.Cnvr.v.Cnvr=["RctP","PlrR"][m[0]]},sRple:function(G,m){m[0]=G.Amnt.v;
m[1]=["Sml","Mdm","Lrg"].indexOf(G.RplS.v.RplS)},gRple:function(G,m){G.Amnt.v=m[0];G.RplS.v.RplS=["Sml","Mdm","Lrg"][m[1]]},sTwrl:function(G,m){m[0]=G.Angl.v},gTwrl:function(G,m){G.Angl.v=m[0]},sZgZg:function(G,m){m[0]=G.Amnt.v;
m[1]=G.NmbR.v;m[2]=["ArnC","OtFr","PndR"].indexOf(G.ZZTy.v.ZZTy)},gZgZg:function(G,m){G.Amnt.v=m[0];
G.NmbR.v=m[1];G.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][m[2]]},sUnsM:function(G,m){m[0]=G.Amnt.v.val;m[1]=G.Rds.v.val;
m[2]=G.Thsh.v},gUnsM:function(G,m){G.Amnt.v.val=m[0];G.Rds.v.val=m[1];G.Thsh.v=m[2]}};bH.a5o=function(G){var m=new dw(0,0);
if(G.enab.v==!1)return m;var A=G.filterFXList.v;for(var $=0;$<A.length;$++){var Q=A[$].v;if(Q.enab.v==!1)continue;
var H=bH.us(Q),J=bH.bA(H,Q.Fltr?Q.Fltr.v:null);if(J.x>m.x)m.x=J.x;if(J.y>m.y)m.y=J.y}return m};bH.bA=function(G,m){var A=0,Q=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(G)!=-1){var H=m.Rds.v.val;A=Q=H*2.57}if(G=="MtnB")A=Q=m.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(G)!=-1){A=Q=1e4}if(G=="GEfc")return iA.bA(m);
return new dw(Math.ceil(A),Math.ceil(Q))};bH.PG=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
bH.ib=function(G,m){var A={p:m.yu>>16,z:m.yu>>8&255,h:m.yu&255},Q={p:m.qU>>16,z:m.qU>>8&255,h:m.qU&255},H=bH.names[G];
if(H==null)H=hE.names[G];var J=G;for(var b in hE.qV)if(hE.qV[b]==G)J=b;var O={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:f5.get(H)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:N.X.N4(A)},BckC:{t:"Objc",v:N.X.N4(Q)},filterID:{t:"long",v:J.length==4?V.a9d(J):777}}},a=bH.wZ(G);
if(a)O.v.Fltr={t:"Objc",v:a};return O};bH.ek=function(G,m,A,Q){var H=Date.now();if(G<1){var J=Math.round(G*5),b=[1,2,1,2,[40,26,13,6,4,2][J],2,1,2,1];
b=N.pO.ac(b);if(!h.wq){N.tk(A);var O=A.slice(0);N.pO.TV(O,A,Q.e,Q.n,b,255);N.Xu(A)}else{var a=Q.e,e=Q.n,R=h.NL(0,a,e);
R.set(A);var p=h.NL(1,a,e),P=new Float32Array([1/a,1/e]);h.Hj(p);h.filter.Av({type:h.filter.a8j,x8:P,auk:new Float32Array(b)},R.Vj);
p.get(A)}}else{var z=m==N.ua.ax?0:m==N.ua.ik?1:2,Z=[];while(z!=2&&G*[1,2.4][z]>20&&Z.length<4){var W=N.tc(A,Q);
Z.push(A,Q);A=W.uw;Q=W.rect;G/=2}var a=Q.e,e=Q.n;if(!h.wq||z==2&&G>15){N.tk(A);m(A,Q,G);N.Xu(A)}else{var R=h.NL(0,a,e);
R.set(A);var p=h.NL(1,a,e),P=new Float32Array([1/a,1/e]);if(z==0){var T=1;while(T<G)T<<=1;h.Hj(p);h.filter.Av({type:h.filter.Uw,x8:P,ZC:G,ml:[0,0,T]},R.Vj);
h.Hj(R);h.filter.Av({type:h.filter.Uw,x8:P,ZC:G,ml:[0,1,T]},p.Vj);R.get(A)}else if(z==1){var i=3,X=N.ua.U0(G,i);
for(var $=0;$<i;$++){var U=X[$]>>>1,M=1;while(M<U)M<<=1;if(U==0)continue;h.Hj(p);h.filter.Av({type:h.filter.Uw,x8:P,ZC:U,ml:[0,0,M]},R.Vj);
h.Hj(R);h.filter.Av({type:h.filter.Uw,x8:P,ZC:U,ml:[0,1,M]},p.Vj)}R.get(A)}else{var T=1;while(T<G)T<<=1;
h.Hj(p);h.filter.Av({type:h.filter.Uw,x8:P,ZC:G,ml:[0,0,T]},R.Vj);p.get(A)}}var C=Date.now();while(Z.length!=0){var x=Z.pop(),L=Z.pop();
N.scale.aob(A,Q.e,Q.n,L,x.e,x.n);A=L;Q=x}}};bH.a66=function(G,m,A,Q){for(var $=0;$<G.length;$++){A[$]=G[$]*(1/255);
Q[$]=0}FFT.fft2d(A,Q);var H=m>>>1,J=16384,b=128,a=100;while(b<m){b<<=1;J<<=2}var O=255/Math.log(J),e=-100;
for(var R=0;R<m;R++)for(var p=0;p<H;p++){var P=m+H+R&m-1,z=A[P*m+p],Z=Q[P*m+p],W=Math.sqrt(z*z+Z*Z),T=Math.atan2(Z,z);
G[R*m+p]=Math.round(O*Math.log(W+1));G[R*m+H+p]=Math.round((Math.PI+T)*(255*.5/Math.PI))}};bH.amF=function(G,m,A,Q){A.fill(0);
Q.fill(0);var H=m>>>1,J=16384,b=128;while(b<m){b<<=1;J<<=2}var O=255/Math.log(J),a=[],e=[],R=[];for(var $=0;
$<256;$++){a[$]=Math.exp($/O)-1;var p=$*(2*Math.PI/255)-Math.PI;e[$]=Math.sin(p);R[$]=Math.cos(p)}for(var P=0;
P<m;P++)for(var z=0;z<H;z++){var Z=m+H+P&m-1,W=a[G[P*m+z]],p=G[P*m+H+z],T=W*R[p],i=W*e[p];A[Z*m+z]=T;
Q[Z*m+z]=i;if(z!=0){var X=Z==0?Z*m+m-z:(m-Z)*m+(m-z);A[X]=T;Q[X]=-i}}FFT.ifft2d(A,Q);for(var $=0;$<G.length;
$++){G[$]=Math.max(0,Math.min(255,~~(.5+255*A[$])))}};bH.FA=new ArrayBuffer(512);bH.an7=function(G){var m=bH.FA,A=G.length;
if(m.byteLength<A)bH.FA=m=new ArrayBuffer(A);var Q=new Uint8Array(m);for(var $=0;$<A;$+=4){Q[$]=G[$];
Q[$+1]=G[$+1];Q[$+2]=G[$+2];Q[$+3]=G[$+3]}return m};bH.pV=function(G,m,A,Q,H,J,b){if(J==null)J={buffer:N.$(m.buffer.length),rect:m.rect.clone()};
N.Gy(m.buffer,J.buffer);var O=A&&A.RndS?A.RndS.v>>>1:0;if(G=="GEfc"){var a=[];if(A.GEfs){var e=A.GEfs.v;
for(var $=0;$<e.length;$++){var R=e[$].v;if(R.GELv&&R.GELv.v==!1)continue;a.push(R)}}else a=[A];for(var $=0;
$<a.length;$++){var p;if($==0)iA.pV(G,m,a[$],Q,H,J,b);else{if(p==null)p={buffer:N.$(m.buffer.length),rect:m.rect.clone()};
N.Gy(J.buffer,p.buffer);iA.pV(G,p,a[$],Q,H,J,b)}}}if(G=="Adobe Camera Raw Filter"){var P=m.rect,z=P.e,Z=P.n,W=z*Z,T=W*4,i=W*3,X=new Float32Array(z*Z*3),M=m.buffer;
for(var $=0;$<W;$++){var C=$*3,x=$*4;X[C]=M[x]*(1/255);X[C+1]=M[x+1]*(1/255);X[C+2]=M[x+2]*(1/255)}var L=JSON.parse(JSON.stringify(A));
delete L.Upri;delete L.GuUr;var E=X.slice(0);X=E;M=J.buffer;for(var $=0;$<W;$++){var C=$*3,x=$*4;M[x]=255*Math.max(0,Math.min(1,X[C]));
M[x+1]=255*Math.max(0,Math.min(1,X[C+1]));M[x+2]=255*Math.max(0,Math.min(1,X[C+2]))}}if(G=="adaptCorrect"){var P=m.rect,z=P.e,Z=P.n,W=z*Z,T=W*4,l=A.sdwM.v,y=l.Amnt.v.val/100,Y=l.Wdth.v.val/100,F=l.Rds.v,w=A.hglM.v,j=w.Amnt.v.val/100,_=w.Wdth.v.val/100,D=w.Rds.v;
N.Gw.adC(m.buffer,J.buffer,z,Z,y,Y,F,j,_,D,A.ClrC.v/100,A.Cntr.v/100)}if(G=="denoise"){var P=m.rect,z=P.e,Z=P.n,t=A.channelDenoise.v[0].v;
N.rg.aoK(m.buffer,z,Z,J.buffer,t.Amnt.v/10,t.EdgF.v/100)}if(G=="HsbP"){var K=A.Inpt.v.ClrS,d=A.Otpt.v.ClrS,P=m.rect,z=P.e,Z=P.n,W=z*Z;
for(var $=0;$<W;$++){var x=$*4,o=m.buffer[x]*(1/255),k=m.buffer[x+1]*(1/255),v=m.buffer[x+2]*(1/255);
if(K=="RGBC"){}else if(K=="HSLC"){var E=N.a9(o,k,v);o=E.p;k=E.z;v=E.h}else if(K=="HSBl"){var E=N.a2h(o,k,v);
o=E.p;k=E.z;v=E.h}var u=o,B=k,S=v;if(d=="RGBC"){}else if(d=="HSLC"){var E=N.jI(o,k,v);u=E.V7;B=E.H6;
S=E.Ku}else if(d=="HSBl"){var E=N.a8C(o,k,v);u=E.V7;B=E.H6;S=E.h}J.buffer[x]=~~(255*u);J.buffer[x+1]=~~(255*B);
J.buffer[x+2]=~~(255*S)}}if(G=="Fbrs"){var P=m.rect,z=P.e,Z=P.n;N.I.iw(m.buffer,z,Z,J.buffer,[A.Vrnc.v,A.Strg.v,O]);
var I=N.$(z*Z);N.gF(J.buffer,I,0);N.G3(I);iA.eV(I,J.buffer,Q,H)}if(G=="Frgm"){var P=m.rect,z=P.e,Z=P.n,q=m.buffer.slice(0);
N.tk(q);N.I.a3y(q,z,Z,J.buffer);N.Xu(J.buffer)}if(G=="Flam"){var P=m.rect,z=P.e,Z=P.n,hw=A.Clr.v,fY={type:A.Type.v+1,length:A.Leng.v,a3b:A.RndL.v,zu:A.Widt.v,a9y:A.Angl.v,atL:A.Intr.v,ace:A.Adpt.v,color:{p:hw.Rd.v,z:hw.Grn.v,h:hw.Bl.v},mZ:A.Qual.v+1,lH:A.Turb.v,V3:A.Jag.v,opacity:A.Opct.v.val,fa:A.Lins.v,alX:A.Botm.v,style:A.Styl.v+1,shape:A.Shap.v+1,aej:A.RnSh.v,aaV:A.Arng.v,abJ:!1},s=b[3],hZ=s[0],bG=s[1],aY=hZ[bG.length!=0?bG[0]:0];
if(aY==null){alert("Make a path first");return}var fj=aY.add.vmsk.Y,jg=N.U.Ya(fj),ae=[];for(var iB=0;
iB<jg;iB++){var eg=N.U.sM(fj,iB),dM=fj[eg];if(dM.length<2)continue;var fK=[];ae.push(fK);var aQ=dM.length-(dM.type==3?1:0);
for(var cQ=0;cQ<aQ;cQ++){var a7=fj[eg+1+cQ],gz=cQ==dM.length-1?fj[eg+1]:fj[eg+1+cQ+1],bQ=a7.M,d4=a7.Gd,j2=gz.ed,j7=gz.M,fG=Math.round(dw.SH(bQ,j7)/5);
for(var bT=0;bT<fG;bT++){var je=bT/fG,ba=1-je,j6=ba*ba*ba*bQ.x+3*ba*ba*je*d4.x+3*ba*je*je*j2.x+je*je*je*j7.x,cl=ba*ba*ba*bQ.y+3*ba*ba*je*d4.y+3*ba*je*je*j2.y+je*je*je*j7.y;
fK.push(j6,cl)}}}var js=[ae,fY],fR=Date.now(),iW=c8(js);hs(m.buffer,z,Z,J.buffer,iW,js)}if(G=="Dfs "){var P=m.rect,z=P.e,Z=P.n,fx=["Nrml","DrkO","LghO","anisotropic"].indexOf(A.Md.v.DfsM);
if(fx<3)N.I.ak$(m.buffer,z,Z,J.buffer,[fx]);else{var js=[1.4,1.6,1,4,!1,2,[0,0,.001]],P=m.rect.clone();
P.x=P.y=0;N.tD.filter(m.buffer,P,J.buffer,js)}}if(G=="TrcC"){var P=m.rect,z=P.e,dm=z<<2,Z=P.n,fq=A.Lvl.v,h2=A.Edg.v.CntE=="Lwr",jj=m.buffer,iM=J.buffer;
N.w8(iM,16777215,4278190080);function aB(hG,gu){h6(hG,gu);h6(hG+1,gu+1);h6(hG+2,gu+2)}function ep(hG,gu){dJ(hG,gu);
dJ(hG+1,gu+1);dJ(hG+2,gu+2)}function h6(hG,gu){var u=jj[hG],B=jj[gu];if(u>=fq&&B<fq)iM[hG]=0;if(u<fq&&B>=fq)iM[gu]=0}function dJ(hG,gu){var u=jj[hG],B=jj[gu];
if(u>fq&&B<=fq)iM[gu]=0;if(u<=fq&&B>fq)iM[hG]=0}if(h2)for(var cl=1;cl<Z;cl++)for(var j6=1;j6<z;j6++){var x=cl*z+j6<<2;
aB(x,x-4);aB(x,x-dm)}else for(var cl=1;cl<Z;cl++)for(var j6=1;j6<z;j6++){var x=cl*z+j6<<2;ep(x,x-4);
ep(x,x-dm)}}if(G=="Embs"){var P=m.rect,z=P.e,Z=P.n,gs=-A.Angl.v*Math.PI/180,ej=A.Hght.v,eH=A.Amnt.v/100;
ej/=2;var hT=Math.cos(gs)*ej,dO=Math.sin(gs)*ej,jj=m.buffer,iM=J.buffer;iM.fill(0);var fE=new Uint32Array(jj.buffer),E=new Uint8Array(4),hD=new Uint32Array(E.buffer);
for(var cl=0;cl<Z;cl++)for(var j6=0;j6<z;j6++){var d9=0,iQ=0,iS=0;if(0<=j6+hT&&j6+hT<z&&0<=cl+dO&&cl+dO<Z){N.N.qM(j6+hT+.5,cl+dO+.5,fE,z,Z,hD,0,0);
d9+=E[0]-128;iQ+=E[1]-128;iS+=E[2]-128}if(0<=j6-hT&&j6-hT<z&&0<=cl-dO&&cl-dO<Z){N.N.qM(j6-hT+.5,cl-dO+.5,fE,z,Z,hD,0,0);
d9-=E[0]-128;iQ-=E[1]-128;iS-=E[2]-128}var x=cl*z+j6<<2;iM[x]=Math.max(0,Math.min(255,d9*eH+128));iM[x+1]=Math.max(0,Math.min(255,iQ*eH+128));
iM[x+2]=Math.max(0,Math.min(255,iS*eH+128));iM[x+3]=jj[x+3]}}if(G=="ShrE"){var P=m.rect,z=P.e,Z=P.n;
N.I.aq7(m.buffer,z,Z,J.buffer)}if(G=="Dspc"){var P=m.rect,z=P.e,Z=P.n;N.I.a25(m.buffer,z,Z,J.buffer)}if(G=="Slrz"){var bZ=J.buffer,dy=128;
for(var $=0;$<bZ.length;$+=4){if(bZ[$]>dy)bZ[$]=255-bZ[$];if(bZ[$+1]>dy)bZ[$+1]=255-bZ[$+1];if(bZ[$+2]>dy)bZ[$+2]=255-bZ[$+2]}}if(G=="Wnd "){var P=m.rect,z=P.e,Z=P.n,jh=["Wnd","Blst","Stgr"],eE=A.WndM.v.WndM;
N.I.Ue(m.buffer,z,Z,J.buffer,[jh.indexOf(eE),A.Drct.v.Drct!="Left"])}if(G=="Bokh"){var P=m.rect,z=P.e,Z=P.n,W=z*Z,T=W*4,jr=m.buffer.slice(0),dr=A.BkDi.v.BtDi,jL=A.BkDc,dI=A.BkDs.v,aF=A.BkDp.v/255;
if(dr=="BeIn")aF=0;var gd=57*(.3+.7*((z+Z)/2)/1750)*(A.BkIb.v/100)*(1+.2*Math.pow(aF,.1)),jw=parseInt(A.BkIs.v.BtIs.slice(3)),eG=-A.BkIr.v*Math.PI/180,bb=[];
for(var $=0;$<8;$++){var hM=eG+$*(Math.PI*2/jw),cD=eG+($+1)*(Math.PI*2/jw),fr=Math.cos(hM),cp=Math.sin(hM),cG=Math.cos(cD),eX=Math.sin(cD),eN=[0,0,0];
N.Nu.x4([[fr,cp,1,0],[cG,eX,1,0],[1,1,1,1]],eN);if(eN[2]>0){eN[0]*=-1;eN[1]*=-1;eN[2]*=-1}bb.push(eN[0],eN[1],eN[2],0)}if(dr=="BeIn"){N.w8(jr,0,16777215);
aF=1}else if(dr=="BeIt"&&jL.v.BtDc=="BeCt"){}else{var iF;if(dr=="BeIt"&&jL.v.BtDc=="BeCm")iF=b[1];else if(dr=="BeIa")iF=b[2][jL.v];
if(iF==null){N.w8(jr,0,16777215)}else{var ay;if(iF.rect.A5(P))ay=iF.channel;else ay=iF.MC(P);N.I5(ay,jr,3)}}if(dI)for(var $=0;
$<T;$+=4)jr[$+3]=255-jr[$+3];if(h.wq){var iJ=jr,hY=z,gv=Z,ix=1,f1=(A.BkSb.v==0||A.BkSt.v==255)&&dr=="BeIn";
if(!f1){var ao=0;for(var $=0;$<T;$+=4)ao+=Math.abs(aF-jr[$+3]*(1/255));ao=ao/W*gd;var fm=3.14*ao*ao*z*Z/3e6;
if(fm>2e3){alert("too large radius");return}}while(f1&&3*(gd/ix)*(gd/ix)*z*Z>500*2e3*2e3){var gE=N.rG(jr,new f_(0,0,hY,gv));
jr=gE.uw;hY=gE.rect.e;gv=gE.rect.n;ix*=2}var fR=Date.now(),bu=h.NL(0,hY,gv);bu.set(jr);var gH=h.NL(1,z,Z);
h.Hj(gH);h.filter.Av({type:h.filter.asK,x8:new Float32Array([1/hY,1/gv]),a2w:aF,u2:gd/ix,anE:new Float32Array([A.BkSb.v/100,A.BkSt.v/255]),ait:new Float32Array([A.BkNa.v/100,A.BkNt.v.BtNt=="BeNu"?0:1,A.BkNm.v?1:0]),air:new Float32Array(bb.slice(0,16)),a2G:new Float32Array(bb.slice(16))},bu.Vj);
gH.get(J.buffer);var fU=J.buffer;for(var $=0;$<T;$+=4)fU[$+3]=m.buffer[$+3]}}if(G=="rigidTransform"){var fR=Date.now(),c7=bH.an7,bu=m.buffer.slice(0),hm=0,cj=0;
N.tk(bu);N.w8(J.buffer,0);var z=m.rect.e,Z=m.rect.n,aL=A.puppetShapeList.v,hF=[],iN=[],aq=[],h7=[];for(var cQ=0;
cQ<aL.length;cQ++){var bC=aL[cQ].v,cd=hm*2,C=cj*3,jH=bC.originalVertexArray.v.length>>>2,hi=bC.indexArray.v.length>>>2,aK=new Float32Array(c7(bC.originalVertexArray.v));
for(var $=0;$<jH;$++)hF[cd+$]=aK[$];var fp=new Float32Array(c7(bC.deformedVertexArray.v));for(var $=0;
$<jH;$++)iN[cd+$]=fp[$];var gA=new Uint32Array(c7(bC.indexArray.v));for(var $=0;$<hi;$++)aq[C+$]=hm+gA[$];
var ch=[],a9=[],dB=bC.PnDp.v;for(var $=0;$<dB.length;$++){ch.push(bC.pinVertexIndices.v[$].v);a9.push(dB[$].v)}var cw=N.ZT.a0W(aK,gA,ch,a9);
for(var $=0;$<cw.length;$++)h7[hm+$]=cw[$];hm+=jH>>>1;cj+=~~(hi/3)}var o=m.rect,z=o.e,Z=o.n;N.ZT.nT(bu,z,Z,J.buffer,z,Z,hF,iN,h7,aq);
N.Xu(J.buffer)}if(G=="lightFilterGradient"){function ds(bQ){var cR=1/Math.sqrt(bQ[0]*bQ[0]+bQ[1]*bQ[1]+bQ[2]*bQ[2]);
bQ[0]*=cR;bQ[1]*=cR;bQ[2]*=cR}var z=m.rect.e,Z=m.rect.n,W=z*Z,fR=Date.now(),i9=N.$(W),B=.3,S=.7;N.le(J.buffer,i9);
var hB=N.$(W);N.ua.zh(i9,hB,J.rect,16);var b_=N.$(W);N.ua.zh(i9,b_,J.rect,8);var az=i9,dH=new Float32Array(W),eD=A.Dtl.v,eI=eD[2].v,cI=eD[1].v,aV=eD[0].v,bh=A.Scl.v*40*A.textureScale.v/(eI+cI+aV);
eI*=bh;cI*=bh;aV*=bh;for(var $=0;$<W;$++){var fF=hB[$]*(1/255),eL=b_[$]*(1/255),cW=az[$]*(1/255);cW=cW*cW;
dH[$]=eI*fF+cI*eL+aV*cW}var aN=A.blur.v;if(aN!=0){var eR=dH.slice(0);N.ua.S8(eR,dH,J.rect,aN)}var bk=z-1,cY=Z-1;
for(var cl=1;cl<cY;cl++)for(var j6=1;j6<bk;j6++){var $=cl*z+j6,x=$*4,cT=dH[$],hT=B*(dH[$+1]-cT)+S*(cT-dH[$-1]),dO=B*(dH[$+z]-cT)+S*(cT-dH[$-z]),bQ=[1,0,hT],d4=[0,1,dO];
ds(bQ);ds(d4);var cD=bQ[0],cV=bQ[2],hr=d4[1],i$=d4[2],eJ=-cV*hr,iK=-cD*i$,fV=cD*hr;J.buffer[x]=~~(127.5+eJ*127.5);
J.buffer[x+1]=~~(127.5+iK*127.5);J.buffer[x+2]=~~(127.5+fV*127.5)}}if(G=="defr"){var z=m.rect.e,Z=m.rect.n;
gg(m.buffer,z,Z,J.buffer)}if(G=="dDFT"||G=="iDFT"){function h0(jw){if(jw==0)return 1;jw--;jw|=jw>>1;
jw|=jw>>2;jw|=jw>>4;jw|=jw>>8;jw|=jw>>16;return jw+1}var z=m.rect.e,Z=m.rect.n,d$=h0(Math.max(z,Z)),dl=d$>>>1,jS=new f_(0,0,d$,d$),gQ=new f_(0,0,z,Z);
gQ.y=d$-Z>>>1;var bO=z>>>1,b2=new f_(0,gQ.y,bO,Z),cx=new N.NI(z*Z);N.Pu(m.buffer,cx);var dQ=new Float64Array(d$*d$),dR=new Float64Array(d$*d$),ay=N.$(d$*d$);
FFT.init(d$);var iC=[cx.p,cx.z,cx.h];for(var $=0;$<3;$++){var cC=iC[$];ay.fill(0);if(G=="dDFT"){N.qg(cC,gQ,ay,jS);
bH.a66(ay,d$,dQ,dR);N.qg(ay,jS,cC,gQ,b2);b2.x+=bO;jS.x-=dl-bO;N.qg(ay,jS,cC,gQ,b2);b2.x-=bO;jS.x+=dl-bO}else{N.qg(cC,gQ,ay,jS,b2);
b2.x+=dl;gQ.x+=dl-bO;N.qg(cC,gQ,ay,jS,b2);b2.x-=dl;gQ.x-=dl-bO;bH.amF(ay,d$,dQ,dR);N.qg(ay,jS,cC,gQ)}}N.Ff(cx,J.buffer)}if(G=="Avrg"){var h1=0,aG=0,cy=0,aD=0,jl=1;
for(var $=0;$<m.buffer.length;$+=4){var jQ=m.buffer[$+3];cy+=m.buffer[$]*jQ;aG+=m.buffer[$+1]*jQ;h1+=m.buffer[$+2]*jQ;
aD+=jQ}var c5=1/aD;h1=Math.round(jl*(h1*c5)+(1-jl)*255);aG=Math.round(jl*(aG*c5)+(1-jl)*255);cy=Math.round(jl*(cy*c5)+(1-jl)*255);
N.w8(J.buffer,h1<<16|aG<<8|cy,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(G)!=-1){var iY=A.Rds.v.val,jP=G=="boxblur"?N.ua.ax:N.ua.ik;
bH.ek(iY,jP,J.buffer,J.rect);if(G=="UnsM"||G=="smartSharpen"){var eH=A.Amnt.v.val/100,d8=0;if(G=="UnsM")d8=A.Thsh.v;
else eH*=.75;for(var $=0;$<m.buffer.length;$++){if(($&3)==3){J.buffer[$]=m.buffer[$];continue}var iz=m.buffer[$],ij=J.buffer[$],aT=eH*(iz-ij);
if(aT>0)aT=Math.max(0,aT-d8);else aT=Math.min(0,aT+d8);J.buffer[$]=Math.max(0,Math.min(255,iz+aT))}}if(G=="HghP")for(var $=0;
$<m.buffer.length;$++){if(($&3)==3){J.buffer[$]=m.buffer[$];continue}var iz=m.buffer[$],ij=J.buffer[$];
J.buffer[$]=Math.max(0,Math.min(255,128+iz-ij))}}if(G=="AdNs"){var jR=new Uint8ClampedArray(J.buffer.buffer),j0=255*A.Nose.v.val/100,c1;
if(A.Dstr.v.Dstr=="Gsn")c1=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else c1=function(){return Math.random()*2-1};for(var $=0;$<jR.length;$+=4){var o=jR[$],k=jR[$+1],v=jR[$+2],hR,gI,fn;
if(A.Mnch.v){hR=gI=fn=c1()}else{hR=c1();gI=c1();fn=c1()}o+=j0*hR;k+=j0*gI;v+=j0*fn;jR[$]=o;jR[$+1]=k;
jR[$+2]=v}}var fR=Date.now();if(G=="Mdn "||G=="DstS"||G=="Mxm "||G=="Mnm "||G=="surfaceBlur"){var o=0,aU=A.Thsh,bC=0;
if(aU)aU=aU.v;else aU=0;if(G=="Mdn "||G=="Mxm "||G=="Mnm "||G=="surfaceBlur")o=A.Rds.v.val;else o=A.Rds.v;
var dj=A.preserveShape;if(dj&&dj.v.preserveShape=="Rndn")bC=1;var z=m.rect.e,Z=m.rect.n,c0=["Mnm ","Mxm ","surfaceBlur"].indexOf(G),ag=(bC==0?1:.75)*[.73,.73,1][c0]*(z*Z*o*o)/1722387,eP=[.73,.9,1.4][c0]*(z*Z*Math.sqrt(o))/6500;
if(h.wq&&c0!=-1&&(ag<eP||bC==1)&&ag<1500){var bu=h.NL(0,z,Z);bu.set(m.buffer);var p=h.NL(1,z,Z);h.Hj(p);
h.filter.Av({type:h.filter.ae0,x8:new Float32Array([1/z,1/Z]),u2:o,a6i:aU/255,ml:[bC,c0,10*Math.ceil(o/10)]},bu.Vj);
p.get(J.buffer)}else{o=Math.round(o);N.lP.vA=.5;var jP=N.lP.IX;if(G=="Mxm ")jP=N.lP.rT;if(G=="Mnm ")jP=N.lP.y9;
if(G=="surfaceBlur")jP=N.lP.mM;N.lP.QI(m.buffer,J.buffer,z,Z,o,jP,[aU]);if(G=="DstS")for(var $=0;$<z*Z*4;
$++){var eM=Math.abs(m.buffer[$]-J.buffer[$]);if(eM<=aU)J.buffer[$]=m.buffer[$]}}}if(G=="ClrH"){var b2=m.rect.clone();
b2.x=b2.y=0;var o=A.Rds.v;o=Math.round(o*Math.sqrt(2));var z=b2.e,Z=b2.n,cx=new N.NI(z*Z);N.Pu(m.buffer,cx);
N.G3(cx.p);N.G3(cx.z);N.G3(cx.h);var cX=N.t7(z,Z),fU=N.$(z*Z*4);for(var gl=0;gl<3;gl++){var ay=gl==0?cx.p:gl==1?cx.z:cx.h,gs=Math.PI*A["Ang"+(gl+1)].v/180,bg=new ci(1/o,0,0,1/o,0,0);
bg.rotate(gs);N.I5(ay,fU,3);var E=f.Q.fK([fU,b2],bg,!0),gQ=E.rect;cX.clearRect(0,0,z,Z);var ck=Math.sin(gs),dh=Math.cos(gs);
for(var $=0;$<gQ.n;$++)for(var bT=0;bT<gQ.e;bT++){var j6=(bT+gQ.x+.5)*o,cl=($+gQ.y+.5)*o,jB=j6,aP=cl;
j6=dh*jB-ck*aP;cl=ck*jB+dh*aP;var W=E.buffer[($*gQ.e+bT<<2)+3]*(1/255),iY=o*Math.sqrt(W*(1/Math.PI));
cX.beginPath();cX.arc(j6,cl,iY,0,2*Math.PI);cX.fill()}var cU=cX.getImageData(0,0,z,Z);N.gF(cU.data,ay,3)}N.G3(cx.p);
N.G3(cx.z);N.G3(cx.h);N.Ff(cx,J.buffer)}if(G=="Crst"||G=="Pntl"){var z=m.rect.e,Z=m.rect.n,jP=G=="Crst"?N.X$.a7N:N.X$.aic;
jP(m.buffer,z,Z,J.buffer,A.ClSz.v,[Math.round(H.p),Math.round(H.z),Math.round(H.h)])}if(G=="Mztn"){var z=m.rect.e,Z=m.rect.n,W=z*Z,cx=new N.NI(W),gJ=[cx.p,cx.z,cx.h];
N.Pu(m.buffer,cx);var eE=A.MztT.v.MztT,hy={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[eE],fR=Date.now(),ip=[];
for(var $=0;$<W;$++){ip[$]=Math.random()}var W=z*Z,ek=Math.round(W*hy[0]),gK=W-z-1;for(var $=0;$<ek;
$++){var dL=Math.random(),bz=1;if(dL<.5){bz=z;dL*=2}else dL=2*(dL-.5);var hG=Math.floor(dL*gK),gu=hG+bz;
ip[hG]=ip[gu]}var i6=Math.round(z*hy[1]);for(var cl=0;cl<Z;cl++)for(var $=0;$<i6;$++){var dL=N.a.SG(cl*W+$),hG=cl*z+Math.floor(dL*(z-1));
ip[hG]=ip[hG+1]}var hI=new Float64Array(256);for(var $=0;$<256;$++){var hq=$/255,cb=2*(hq<.5?hq:1-hq);
cb=hy[2]+Math.pow(cb,hy[3])*(1-hy[2]);hq=hq<.5?cb*.5:1-cb*.5;hI[$]=hq}for(var c4=0;c4<3;c4++){var ay=gJ[c4];
for(var cl=0;cl<Z;cl++){for(var j6=0;j6<z;j6++){var $=cl*z+j6,b7=ay[$],hq=hI[b7],dL=ip[$];ay[$]=dL>hq?0:255}}}N.Ff(cx,J.buffer)}if(G=="Msc "){var jg=A.ClSz.v.val,z=m.rect.e,Z=m.rect.n,dn=Math.ceil(z/jg),hf=Math.ceil(Z/jg),be=N.$(dn*hf*4);
N.scale.uG(m.buffer,z,Z,be,dn,hf,1/jg);N.scale.uG(be,dn,hf,J.buffer,z,Z,jg)}if(G=="Clds"||G=="DfrC"){var z=J.rect.e,Z=J.rect.n,W=z*Z,fH=N.$(W);
if(G=="Clds")N.w8(J.buffer,4278190080);var jD=N.$(256*4);for(var $=0;$<256;$++){var x=$<<2,cq=$/255,gA=1-cq;
jD[x]=Math.round(cq*Q.p+gA*H.p);jD[x+1]=Math.round(cq*Q.z+gA*H.z);jD[x+2]=Math.round(cq*Q.h+gA*H.h)}N.I.aa8(m.buffer,z,Z,fH);
var bn=J.buffer;for(var $=0;$<W;$++){var x=$<<2,c4=fH[$]<<2,o=jD[c4],k=jD[c4+1],v=jD[c4+2];if(G=="Clds"){bn[x]=o;
bn[x+1]=k;bn[x+2]=v}else{bn[x]=Math.abs(bn[4*$]-o);bn[x+1]=Math.abs(bn[4*$+1]-k);bn[x+2]=Math.abs(bn[4*$+2]-v)}}}if(G=="LnsF"){var z=m.rect.e,Z=m.rect.n,eE=["Zm","Nkn","Nkn1","PnVs"].indexOf(A.Lns.v.Lns),cN=A.FlrC.v,cP=[Math.min(eE,2),A.Brgh.v/100,cN.Hrzn.v,cN.Vrtc.v],fR=Date.now();
N.atd(m.buffer,z,Z,J.buffer,cP)}var aa=["Blr ","BlrM","Shrp","ShrM"].indexOf(G);if(aa!=-1){var he=aa>1,z=m.rect.e,Z=m.rect.n,ce=N.pO.KW[aa],iU=m.buffer.slice(0);
if(!he)N.tk(iU);N.pO.TV(iU,J.buffer,z,Z,ce,255,!1,he);if(!he)N.Xu(J.buffer)}if(G=="MtnB"){var ad=-A.Angl.v*Math.PI/180,cM=A.Dstn.v.val/2,fR=Date.now(),z=m.rect.e,Z=m.rect.n,P=m.rect.clone();
P.x=P.y=0;if(h.wq){var fR=Date.now(),bD=J.buffer;bD.set(m.buffer);N.tk(bD);var iX=h.NL(0,z,Z);iX.set(bD);
var jj=N.$(4);jj[0]=Math.round(128+127*Math.cos(ad));jj[1]=Math.round(128+127*Math.sin(ad));new Uint32Array(bD.buffer).fill(new Uint32Array(jj.buffer)[0]);
var ev=h.NL(1,z,Z);ev.set(bD);h.Hj(iX,P);iX.vK(P);h.filter.Av({type:h.filter.$j,z7:ev.Vj,x8:new Float32Array([1/z,1/Z]),a0V:cM/2,asn:1},iX.Pf);
iX.get(bD);N.Xu(bD)}else{var bg=new ci;bg.rotate(ad);var E=f.Q.fK([m.buffer,m.rect],bg,!1,null,!0);bH.ek(cM,N.ua.$S,E.buffer,E.rect);
bg.G3();E=f.Q.fK([E.buffer,E.rect],bg,!1,J.buffer.buffer,!0,J.rect)}console.log(Date.now()-fR)}if(G=="RdlB"){var z=m.rect.e,Z=m.rect.n,eH=A.Amnt.v,f9=A.BlrM.v.BlrM=="Zm",gl=A.Cntr.v,fN=gl.Hrzn.v,db=gl.Vrtc.v,hT=Math.max(fN,1-fN)*z,dO=Math.max(db,1-db)*Z,iY=Math.sqrt(hT*hT+dO*dO),hP=2*Math.PI*iY*1.5,b4=Math.round(hP),gc=Math.round(iY),b2=new f_(0,0,b4,gc),gT=N.$(b4*gc*4),bI=f9?4:1,bB=f9?.6:8*((z+Z)/2)/1400,ec=.1,ix=1,aJ=1;
N.N.Mh(m.buffer,z,Z,gT,b4,gc,fN,db,bI,ec,ix,aJ);var hQ=f9?N.$(b4*gc*4):null;if(f9){N.N.kh(gT,hQ,b4,gc);
var je=hQ;hQ=gT;gT=je;b2.e=gc;b2.n=b4}bH.ek(bB*eH,N.ua.$S,gT,b2);if(f9){N.N.kh(gT,hQ,gc,b4);var je=hQ;
hQ=gT;gT=je;b2.e=b4;b2.n=gc}N.N.TO(gT,b4,gc,J.buffer,z,Z,fN,db,bI,ec,ix,aJ)}if(G=="Plr "){var z=m.rect.e,Z=m.rect.n;
if(A.Cnvr.v.Cnvr=="RctP")N.N.TO(m.buffer,z,Z,J.buffer,z,Z,.5,.5,1,0,2,z/Z);else N.N.Mh(m.buffer,z,Z,J.buffer,z,Z,.5,.5,1,0,2,z/Z)}if(G=="FndE"){var z=m.rect.e,Z=m.rect.n;
N.pO.yZ(m.buffer,J.buffer,z,Z)}if(G=="oilPaint"){var gs=A.LghD.v*Math.PI/180,hh=[Math.cos(gs),Math.sin(gs),.001],js=[A.stylization.v,A.cleanliness.v,A.brushScale.v,A.microBrush.v,A.lightingOn.v,A.specularity.v,hh],P=m.rect.clone();
P.x=P.y=0;N.tD.filter(m.buffer,P,J.buffer,js)}if(G=="Ofst"){var z=m.rect.e,Z=m.rect.n,jt=new Uint32Array(m.buffer.buffer),hv=new Uint32Array(J.buffer.buffer),jB=A.Hrzn.v,aP=A.Vrtc.v,jm=A.Fl.v.FlMd;
N.w8(hv,0);if(jm=="Bckg"||jm=="Rpt"){var b2=m.rect.clone();b2.offset(jB,aP);N.Pr(jt,b2,hv,J.rect)}if(jm=="Rpt"){var fr,cp,cG,eX,fS;
jB=Math.max(-z,Math.min(z,jB));aP=Math.max(-Z,Math.min(Z,aP));fr=jB>0?jB:0;cG=jB>0?z:z+jB;cp=aP>0?0:aP+Z;
eX=aP>0?aP:Z;fS=aP>0?0:z*(Z-1);for(var cl=cp;cl<eX;cl++)for(var j6=fr;j6<cG;j6++)hv[cl*z+j6]=jt[fS+j6-jB];
fr=jB>0?0:z+jB;cG=jB>0?jB:z;cp=aP>0?aP:0;eX=aP>0?Z:Z+aP;fS=jB>0?0:z-1;for(var cl=cp;cl<eX;cl++)for(var j6=fr;
j6<cG;j6++)hv[cl*z+j6]=jt[fS+z*(cl-aP)];if(jB>=0&&aP>=0){fr=0;cG=jB;cp=0;eX=aP;fS=0}if(jB>=0&&aP<0){fr=0;
cG=jB;cp=Z+aP;eX=Z;fS=z*(Z-1)}if(jB<0&&aP>=0){fr=z+jB;cG=z;cp=0;eX=aP;fS=z-1}if(jB<0&&aP<0){fr=z+jB;
cG=z;cp=Z+aP;eX=Z;fS=z*Z-1}for(var cl=cp;cl<eX;cl++)for(var j6=fr;j6<cG;j6++)hv[cl*z+j6]=jt[fS]}if(jm=="Wrp"){jB=(jB+100*z)%z;
aP=(aP+100*Z)%Z;var b2=new f_(jB-z,aP-Z,z,Z);N.Pr(jt,b2,hv,J.rect);b2.offset(z,0);N.Pr(jt,b2,hv,J.rect);
b2.offset(0,Z);N.Pr(jt,b2,hv,J.rect);b2.offset(-z,0);N.Pr(jt,b2,hv,J.rect)}}if(G=="Rept"){var d7=A.Rsft.v.val/100,hC=A.SpcX.v.val/100;
hC=Math.max(hC,-.99);var an=A.SpcY.v.val/100;an=Math.max(an,-.99);var ix=A.Scl.v.val/100,bg=new ci;bg.rotate(A.Angl.v*Math.PI/180);
bg.scale(ix,ix);var jO={buffer:m.buffer,rect:m.rect};N.uL(jO);if(jO.rect.My()){jO.buffer=m.buffer;jO.rect=m.rect}var bn=jO.buffer,b2=jO.rect,i4=N.aG(bn,b2,0),iq=new Uint32Array(bn.buffer)[0];
if(!i4.My()&&!i4.A5(b2)){var hU=N.$(i4.Z()*4);N.Pr(bn,b2,hU,i4);bn=hU;b2=i4}b2.x=b2.y=0;iq=hC==0&&an==0||A.SpcC.v?iq:0;
function dF(j6){return j6<0?Math.ceil(j6):Math.floor(j6)}var iH=bg.Yw(new dw(b2.e,0));iH.x=dF(iH.x);
iH.y=dF(iH.y);var gU=bg.Yw(new dw(0,b2.n));gU.x=dF(gU.x);gU.y=dF(gU.y);var E=f.Q.fK([bn,b2],bg,!1),gQ=E.rect,iM=E.buffer,b5=Math.round(gQ.x),cJ=Math.round(gQ.y),jU=Math.max(J.rect.e,J.rect.n)/Math.min(b2.e*ix*(1+hC),b2.n*ix*(1+an));
jU=Math.ceil(jU*1.7);N.w8(J.buffer,iq);for(var cl=-jU;cl<jU;cl++){for(var j6=-jU;j6<jU;j6++){var aj=(j6+cl*d7)*(1+hC),cL=cl*(1+an);
gQ.x=b5+Math.round(aj*iH.x+cL*gU.x);gQ.y=cJ+Math.round(aj*iH.y+cL*gU.y);if(gQ.c0(J.rect))N.a.zc("norm",iM,gQ,J.buffer,J.rect,gQ,1)}}}if(G=="Ctoa"){var H=N.X.SR(A.Clr.v),aU=A.Trsp.v.val/100,aS=A.Opct.v.val/100;
aU=aS==0?0:aU/aS;var z=m.rect.e,Z=m.rect.n,cc=~~H.p,gn=~~H.z,aW=~~H.h,fS=m.buffer,at=J.buffer;for(var cl=0;
cl<Z;cl++)for(var j6=0;j6<z;j6++){var $=cl*z+j6,x=$<<2,b2=fS[x],jc=fS[x+1],bn=fS[x+2],hk=Math.abs(cc-b2),im=Math.abs(gn-jc),j4=Math.abs(aW-bn),j9=Math.max(hk,im,j4)*(1/255);
j9=Math.max(0,Math.min(1,j9/aS));var eF=j9==0?0:1/j9,eO=aU==1?1:Math.max(0,Math.min(1,(j9-aU)/(1-aU)));
at[x]=Math.max(0,Math.min(255,(b2-cc*(1-j9))*eF));at[x+1]=Math.max(0,Math.min(255,(jc-gn*(1-j9))*eF));
at[x+2]=Math.max(0,Math.min(255,(bn-aW*(1-j9))*eF));at[x+3]=~~(.5+eO*255)}}if(G=="Dthr"){function eh(j6){return~~(.5+255*N.LJ(j6/255))}var cQ=A.Plte.v,dS;
if(cQ==0)dS=[4278190080,4294967295];else{var ji=[[1,1,1],[2,2,2],[3,3,2]][cQ-1],gx=[1<<ji[0],1<<ji[1],1<<ji[2]],es=[~~(255/(gx[0]-1)),~~(255/(gx[1]-1)),~~(255/(gx[2]-1))];
dS=[];for(var o=0;o<gx[0];o++)for(var k=0;k<gx[1];k++)for(var v=0;v<gx[2];v++)dS.push(255<<24|eh(v*es[2])<<16|eh(k*es[1])<<8|eh(o*es[0]))}var z=m.rect.e,Z=m.rect.n,W=z*Z,gN=W*4,iS=m.buffer.slice(0),dT=J.buffer;
for(var $=0;$<gN;$++)iS[$]=~~(.5+255*N.LJ(iS[$]/255));var iD=N.$(z*Z);UPNG.encode.dither(iS,z,Z,dS,dT,iD);
for(var $=0;$<gN;$++)dT[$]=~~(.5+255*N.J5(dT[$]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(G)!=-1){var gb=b[0],z=m.rect.e,Z=m.rect.n,hI,co=0;
if(G=="LqFy")hI=g9.dm(new Uint8Array(A.LqMe.v).buffer);else{var g0=3;hI={zp:Math.floor(z/g0),V7:Math.floor(Z/g0)};
hI.map=new Float32Array(hI.zp*hI.V7*2);if(G=="LnCr"){var fN=.5*(hI.zp-1),db=.5*(hI.V7-1),cZ=Math.max(Math.abs(0-fN),Math.abs(1-fN)),fw=Math.max(Math.abs(0-db),Math.abs(1-db)),dk=Math.sqrt(cZ*cZ+fw*fw),i5=0,g8=0,g$=-1,hV=2,ix=A.LnSi.v/100,f9=1/ix,hn=A.LnIa.v/100,aI=hn==0?1e-6:hn*4.6,eY=f9/dk;
for(var cl=0;cl<hI.V7;cl++){for(var j6=0;j6<hI.zp;j6++){var hT=(j6-fN)*eY,dO=(cl-db)*eY,o=Math.sqrt(hT*hT+dO*dO)*aI,bF=Math.atan(o),gL=hn>0?bF/o:o/bF,aJ=fN+dk*gL*hT,ig=db+dk*gL*dO,$=cl*hI.zp+j6<<1;
hI.map[$]=aJ-j6;hI.map[$+1]=ig-cl}}}else if(G=="Dspl"&&gb.length!=0){co=A.UndA.v.UndA=="WrpA"?2:1;var et=A.DspF.v.pth,e0;
for(var $=0;$<gb.length;$++)if(gb[$].kl==et)e0=gb[$];if(e0==null)e0=gb[0];e0.$s();var hk=e0.CX[1],gM=N.$(hk.Z());
N.le(e0.CX[0],gM);var bU=hk.e,ii=hk.n;hI={zp:bU,V7:ii};hI.map=new Float32Array(hI.zp*hI.V7*2);var hW=2.54*A.HrzS.v*bU/z,hX=2.54*A.VrtS.v*ii/Z;
for(var cl=0;cl<hI.V7;cl++){for(var j6=0;j6<hI.zp;j6++){var eM=-.5+gM[cl*bU+j6]*(1/255),$=cl*hI.zp+j6<<1;
hI.map[$]=eM*hW;hI.map[$+1]=eM*hX}}}else if(G=="Pnch"||G=="Twrl"||G=="Sphr"||G=="ZgZg"){var eH=1,ad=Math.PI,jI=0,cm=1,ge=0,gl=3,jg=1.53,gL=1;
if(G=="Pnch"||G=="Sphr"||G=="ZgZg")eH=A.Amnt.v/100;if(G=="ZgZg"){cm=A.NmbR.v;ge=["ArnC","OtFr","PndR"].indexOf(A.ZZTy.v.ZZTy)}if(G=="Twrl")ad=A.Angl.v*Math.PI/180;
if(G=="Sphr")jI=["Nrml","HrzO","VrtO"].indexOf(A.SphM.v.SphM);function jP(j6){j6=Math.pow(j6,1-j6*.3-j6*j6*(j6*j6)*.5);
return-.225*Math.sin(j6*Math.PI)}function hb(Z,cR,o,fr,cp,cG,eX,gL){var hT=cG-fr,dO=eX-cp,ak=fr-Z,hg=cp-cR,cq=hT*hT+dO*dO,v=2*(hT*ak+dO*hg),gl=ak*ak+hg*hg-o*o,go=Math.sqrt(v*v-4*cq*gl),fT=gL/(2*cq),ed=(-v+go)*fT,b1=(-v-go)*fT;
return gL*Math.min(ed,b1)}var dn=hI.zp,hf=hI.V7,c2=hI.zp/2,cY=hI.V7/2,gq=1/c2,o=Math.sqrt(gl*gl+1)/gl,cC=gl+Math.sqrt(1/(gl*gl));
if(eH<0){gl=1.72;o=1;cC=gl;jg=-1;gL=-1}for(var cl=0;cl<hf;cl++){var dO=(cl-cY)/cY;for(var j6=0;j6<dn;
j6++){var hT=(j6-c2)*gq;if(jI==1)dO=0;else if(jI==2)hT=0;var fZ=Math.sqrt(hT*hT+dO*dO);if(fZ<1&&fZ!=0){var $=cl*hI.zp+j6<<1;
if(G=="Pnch"){var ei=-eH*jP(fZ)/fZ;hI.map[$]=hT*ei*c2;hI.map[$+1]=dO*ei*cY}else if(G=="Sphr"){var je=hb(0,cC,o,0,0,fZ,gl,gL),e6=jg*eH*(je-1);
hI.map[$]=hT*e6*c2;hI.map[$+1]=dO*e6*cY}else if(G=="Twrl"){var gs=Math.atan2(dO,hT)-ad*(1-fZ)*(1-fZ),bW=Math.cos(gs),dD=Math.sin(gs);
hI.map[$]=(fZ*bW-hT)*c2;hI.map[$+1]=(fZ*dD-dO)*cY}else if(G=="ZgZg"){var bW=0,dD=0,h8=eH*(.5-.5*Math.cos(fZ*cm*2*Math.PI))*(1-fZ);
if(ge==0){var gs=Math.atan2(dO,hT)-3.5*h8;bW=fZ*Math.cos(gs);dD=fZ*Math.sin(gs)}if(ge==1){h8=100/z*h8/fZ;
bW=(1-h8)*hT;dD=(1-h8)*dO}if(ge==2){var gt=512/z*h8*Math.PI/4;bW=gt+hT;dD=gt+dO}hI.map[$]=(bW-hT)*c2;
hI.map[$+1]=(dD-dO)*cY}}}}}else if(G=="Shr "){var fj=JSON.parse(JSON.stringify(A.ShrP.v));N.RH.A(fj,new ci(0,255/127,255/127,0,-2,0));
var gh=N.RH.OY(fj,hI.V7,!0);co=A.UndA.v.UndA=="WrpA"?2:1;for(var cl=0;cl<hI.V7;cl++){var hT=-gh[cl]*hI.zp;
for(var j6=0;j6<hI.zp;j6++){var $=cl*hI.zp+j6<<1;hI.map[$]=hT}}}else if(G=="Wave"){var gV=A.NmbG.v,f$=A.WLMn.v,fd=A.WLMx.v,g1=A.AmMn.v*(Math.PI/4),aw=A.AmMx.v*(Math.PI/4),eU=A.SclH.v/100,g_=A.SclV.v/100,eE=A.Wvtp.v.Wvtp,h8=Math.sin;
if(eE=="WvTr")h8=function(j6){j6*=2/Math.PI;return-.5+Math.abs(j6%2-1)};if(eE=="WvSq")h8=function(j6){j6*=2/Math.PI;
return 1+2*Math.floor(j6%2-1)};var ft=[],ca=new N.a.tw(A.RndS.v);for(var $=0;$<gV;$++){ft.push(ca.get()*10);
ft.push(Math.PI*g0/(f$+ca.get()*(fd-f$)));ft.push(eU*(g1+ca.get()*(aw-g1))/g0);ft.push(ca.get()*10);
ft.push(Math.PI*g0/(f$+ca.get()*(fd-f$)));ft.push(g_*(g1+ca.get()*(aw-g1))/g0)}var bq=[],i1=[],fo=Math.max(hI.zp,hI.V7);
for(var $=0;$<fo;$++){var hT=0,dO=0;for(var bT=0;bT<gV;bT++){var c_=bT*6;hT+=ft[c_+2]*h8(ft[c_]+$*ft[c_+1]);
dO+=ft[c_+5]*h8(ft[c_+3]+$*ft[c_+4])}bq[$]=dO;i1[$]=hT}for(var cl=0;cl<hI.V7;cl++){for(var j6=0;j6<hI.zp;
j6++){var $=cl*hI.zp+j6<<1;hI.map[$]=i1[cl];hI.map[$+1]=bq[j6]}}co=A.UndA.v.UndA=="WrpA"?2:1}else if(G=="Rple"){co=1;
var eH=A.Amnt.v/100,iG=4,fP=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],d1=1,jz=1,ak=0,ic=["Sml","Mdm","Lrg"].indexOf(A.RplS.v.RplS);
if(ic==0){d1=1;jz=.2;ak=3}if(ic==2){d1=1;jz=2;ak=-1;fP=fP.reverse()}var hA=function(j6,cl){var gl=Math.cos,bh=0;
for(var $=0;$<iG;$++)for(var bT=0;bT<iG;bT++)bh+=fP[$*iG+bT]*gl(j6*($+ak)-cl*(bT+ak));return bh},b6=Math.floor(50/g0),jd=new Float32Array(b6*b6*2),g2=jz*eH*.5/g0;
for(var cl=0;cl<b6;cl++)for(var j6=0;j6<b6;j6++){var fN=d1*j6*2*Math.PI/b6,db=d1*cl*2*Math.PI/b6,dg=hA(fN,db),hT=(hA(fN+.01,db)-dg)*100,dO=(hA(fN,db+.01)-dg)*100,$=(cl*b6+j6)*2;
jd[$]=hT*g2;jd[$+1]=dO*g2}for(var cl=0;cl<hI.V7;cl++)for(var j6=0;j6<hI.zp;j6++){var dD=cl%b6,bW=j6%b6,$=cl*hI.zp+j6<<1,ct=dD*b6+bW<<1;
hI.map[$]=jd[ct];hI.map[$+1]=jd[ct+1]}}}N.bX.Ki(m.buffer,J.buffer,z,Z,null,hI.map,hI.zp,hI.V7,co)}return J};
var iA={};iA._1="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");iA.em="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
iA.en=["ScrC","ScrD","ScrL"];iA.kw=["SDRD","SDHz","SDLD","SDVt"];iA.bh="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
iA.XQ="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");iA.bT="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
iA.Bt=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];iA.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
iA.wZ=function(G){var m;if(G=="ClrP")m={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(G=="Ct")m={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(G=="DryB")m={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(G=="FlmG")m={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(G=="Frsc")m={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(G=="NGlw")m={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(G=="PntD")m={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(G=="PltK")m={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(G=="PlsW")m={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(G=="PstE")m={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(G=="RghP")m={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(G=="SmdS")m={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(G=="Spng")m={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(G=="Undr")m={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(G=="Wtrc")m={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(G=="AccE")m={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(G=="AngS")m={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(G=="Crsh")m={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(G=="DrkS")m={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(G=="InkO")m={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(G=="Smie")m={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(G=="Spt")m={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(G=="SprS")m={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(G=="DfsG")m={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(G=="Gls")m={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(G=="OcnR")m={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(G=="BsRl")m={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(G=="ChlC")m={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(G=="Chrc")m={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(G=="Chrm")m={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(G=="CntC")m={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(G=="GraP")m={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(G=="HlfS")m={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(G=="NtPr")m={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(G=="Phtc")m={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(G=="Plst")m={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(G=="Rtcl")m={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(G=="Stmp")m={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(G=="TrnE")m={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(G=="WtrP")m={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(G=="GlwE")m={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(G=="Crql")m={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(G=="Grn")m={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(G=="MscT")m={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(G=="Ptch")m={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(G=="StnG")m={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(G=="Txtz")m={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
m.__name="Filter Gallery";m.classID="GEfc";m.GEfk={t:"enum",v:{GEft:G}};m.GELv={t:"bool",v:!0};return m};
iA.b9=function(G,m){for(var $=0;$<m.length;$++)~~(m[$]=(G[4*$]+G[4*$+1]+G[4*$+2])*(1/3))};iA.j9=function(G,m,A,Q){var H=UPNG.quantize(G,m);
H={cT:H.inds,nV:H.plte};var J=Math.floor((A+Q)*.015);if(J!=0)N.m8.abg(H.cT,A,Q,J);return H};iA.pV=function(G,m,A,Q,H,J,b){G=A.GEfk.v.GEft;
var O=m.rect,a=O.e,e=O.n,R=a*e,p=A.FlRs?A.FlRs.v>>>1:0;function P(C){return C.p<<24|C.z<<16|C.h<<8|255}if(G=="ClrP")N.I.a3k(m.buffer,a,e,J.buffer,[A.Pncl.v,A.StrP.v,A.PprB.v]);
if(G=="Ct"){var z=A.NmbL.v,Z=A.EdgS.v,W=iA.j9(m.buffer.buffer,z*2,a,e);for(var $=0;$<W.cT.length;$++)W.cT[$]++;
var T=new Uint8Array((a+2)*(e+2));N.qg(W.cT,new f_(1,1,a,e),T,new f_(0,0,a+2,e+2));var i=N.H.b8(T,a+2,e+2,Z,!1),X=new ci(1,0,0,1,-1,-1);
for(var $=0;$<i.length;$++)N.H.A(i[$].path.s,X,i[$].path.s);var U=[],M=W.nV;for(var $=0;$<M.length;$++){var C=M[$].est.q;
U.push({p:Math.round(255*C[0]),z:Math.round(255*C[1]),h:Math.round(255*C[2]),Uj:Math.round(255*C[3])})}var x=N.t7(a,e);
for(var $=0;$<i.length;$++){var L=i[$],C=U[L.color-1];if(C.Uj==0)continue;x.fillStyle="rgba("+C.p+","+C.z+","+C.h+","+C.Uj/255+")";
x.beginPath();Typr.U.pathToContext({crds:L.path.s,cmds:L.path.C},x);x.fill()}if(!O.My()){var E=x.getImageData(0,0,a,e);
N.Gy(E.data,J.buffer)}}if(G=="DryB")N.I.ac4(m.buffer,a,e,J.buffer,[A.BrsS.v,A.BrsD.v,A.Txtr.v]);if(G=="FlmG")N.I.aqD(m.buffer,a,e,J.buffer,[A.Grn.v,A.HghA.v,A.Intn.v,p]);
if(G=="Frsc")N.I.aq9(m.buffer,a,e,J.buffer,[A.BrsS.v,A.BrsD.v,A.Txtr.v]);if(G=="NGlw")N.I.afq(m.buffer,a,e,J.buffer,[A.Sz.v,A.Brgh.v,P(N.X.SR(A.Clr.v)),P(Q),P(H)]);
if(G=="PltK")N.I.a02(m.buffer,a,e,J.buffer,[A.StrS.v,A.StDt.v,A.Sftn.v]);if(G=="PstE")N.I.a0J(m.buffer,a,e,J.buffer,[A.EdgT.v,A.EdgI.v,A.Pstr.v]);
if(G=="RghP")N.I.anA(m.buffer,a,e,J.buffer,[A.StrL.v,A.StDt.v,iA.bh.indexOf(A.TxtT.v.TxtT),A.Scln.v,A.Rlf.v,iA.em.indexOf(A.LghD.v.LghD),A.InvT.v]);
if(G=="SmdS")N.I.a2u(m.buffer,a,e,J.buffer,[A.StrL.v,A.HghA.v,A.Intn.v,A.FlRs.v,p]);if(G=="Spng")N.I.auc(m.buffer,a,e,J.buffer,[A.BrsS.v,A.Dfnt.v,A.Smth.v,A.FlRs.v,p]);
if(G=="Undr")N.I.a2p(m.buffer,a,e,J.buffer,[A.BrsS.v,A.TxtC.v,iA.bh.indexOf(A.TxtT.v.TxtT),A.Scln.v,A.Rlf.v,iA.em.indexOf(A.LghD.v.LghD),A.InvT.v]);
if(G=="Wtrc")N.I.acj(m.buffer,a,e,J.buffer,[A.BrsD.v,A.ShdI.v,A.Txtr.v]);if(G=="AccE")N.I.a60(m.buffer,a,e,J.buffer,[A.EdgW.v,A.EdgB.v,A.Smth.v]);
if(G=="AngS")N.I.a10(m.buffer,a,e,J.buffer,[A.DrcB.v,A.StrL.v,A.Shrp.v]);if(G=="Crsh")N.I.ate(m.buffer,a,e,J.buffer,[A.StrL.v,A.Shrp.v,A.Strg.v]);
if(G=="DrkS")N.I.aaa(m.buffer,a,e,J.buffer,[A.Blnc.v,A.BlcI.v,A.WhtI.v]);if(G=="InkO")N.I.a7z(m.buffer,a,e,J.buffer,[A.StrL.v,A.DrkI.v,A.LghI.v]);
if(G=="Smie")N.I.auB(m.buffer,a,e,J.buffer,[A.StrW.v,A.StrP.v,A.Cntr.v]);if(G=="DfsG")N.I.amx(m.buffer,a,e,J.buffer,[A.Grns.v,A.GlwA.v,A.ClrA.v,P(H),p]);
if(G=="CntC")N.I.ajY(m.buffer,a,e,J.buffer,[A.FrgL.v,A.BckL.v,iA.bh.indexOf(A.TxtT.v.TxtT),A.Scln.v,A.Rlf.v,iA.em.indexOf(A.LghD.v.LghD),A.InvT.v,P(H),P(Q)]);
if(G=="ChlC")N.I.a9c(m.buffer,a,e,J.buffer,[A.ChrA.v,A.ChlA.v,A.StrP.v,p,P(H),P(Q)]);var l=G=="GraP"||G=="Chrc"||G=="Plst"||G=="Rtcl"||G=="Stmp"||G=="TrnE";
if(l){var y=N.$(a*e);if(G=="GraP")N.I.a1n(m.buffer,a,e,J.buffer,[A.StrL.v,A.LgDr.v,iA.kw.indexOf(A.SDir.v.StrD),p]);
if(G=="Chrc")N.I.aux(m.buffer,a,e,J.buffer,[A.ChAm.v,A.Dtl.v,A.LgDr.v]);if(G=="Plst")N.I.afc(m.buffer,a,e,J.buffer,[A.ImgB.v,iA.XQ.indexOf(A.LghP.v.LghP),A.Smth.v]);
if(G=="Rtcl")N.I.a87(m.buffer,a,e,J.buffer,[A.Dnst.v,A.BlcL.v,A.WhtL.v,p]);if(G=="Stmp")N.I.aeP(m.buffer,a,e,J.buffer,[A.LgDr.v,A.Smth.v]);
if(G=="TrnE")N.I.ajW(m.buffer,a,e,J.buffer,[A.ImgB.v,A.Smth.v,A.Cntr.v,p]);N.gF(J.buffer,y,0);iA.eV(y,J.buffer,Q,H)}if(G=="NtPr")N.I.a08(m.buffer,a,e,J.buffer,[A.ImgB.v,A.Grns.v,A.Rlf.v,P(Q),P(H),p]);
if(G=="WtrP")N.I.a83(m.buffer,a,e,J.buffer,[A.FbrL.v,A.Brgh.v,A.Cntr.v,p>>>1]);if(G=="Crql")N.I.a0F(m.buffer,a,e,J.buffer,[A.CrcS.v,A.CrcD.v,A.CrcB.v,p]);
if(G=="Grn")N.I.a6z(m.buffer,a,e,J.buffer,[A.Intn.v,iA.bT.indexOf(A.Grnt.v.Grnt),A.Cntr.v,P(Q),P(H),p]);
if(G=="MscT")N.I.agK(m.buffer,a,e,J.buffer,[A.TlSz.v,A.GrtW.v,A.LghG.v,p]);if(G=="Ptch")N.I.ah6(m.buffer,a,e,J.buffer,[A.SqrS.v,A.Rlf.v,p]);
if(G=="Phtc"){function Y(aB,ep,O,cp){N.ua.Yl(aB,ep,O,cp);for(var $=0;$<R;$++)ep[$]=Math.max(0,Math.min(255,128+aB[$]-ep[$]))}var F=A.Dtl.v,w=A.Drkn.v,j=N.$(R);
N.le(m.buffer,j);var _=N.$(R);Y(j,_,O,1);if(F==1){F=2;w=Math.round(w/4)}var D=N.$(R);Y(j,D,O,F);for(var $=0;
$<R;$++)j[$]=Math.max(0,Math.min(255,255-(_[$]-D[$])*w));iA.eV(j,J.buffer,Q,H)}if(G=="Spt"||G=="SprS"){var t,K=1,d=1;
t={zp:Math.floor(a/d),V7:Math.floor(e/d)};t.map=new Float32Array(t.zp*t.V7*2);var o=new N.a.tw(A.FlRs.v),k=new Float32Array(8192),v=A.SprR.v,u=v<20?.018*v:.36+(v-20)*.128;
if(G=="SprS"){u=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][v]}for(var $=0;
$<8192;$++)k[$]=(-1+2*o.get())*u*70;for(var B=0;B<e;B++)for(var S=0;S<a;S++){var I=B*a+S<<1;t.map[I]=k[I%7919];
t.map[I+1]=k[(I+1)%7919]}var q=t.map.slice(0),hw=G=="Spt"?A.Smth.v-1:1;if(G=="Spt"&&hw!=0){iA.tu(t.map,q,a,e,hw);
iA.ph(q,t.map,a,e,hw)}if(G=="SprS"){var fY=A.StrL.v>>>1,s=fY==0?2:1;iA.tu(t.map,q,a,e,s);iA.ph(q,t.map,a,e,s);
if(fY!=0){var hZ=iA.kw.indexOf(A.SDir.v.StrD),bG=[1,1,1,0][hZ],aY=[-1,0,1,1][hZ],fj=2*fY+1,jg=1/fj;for(var B=0;
B<e;B++)for(var S=0;S<a;S++){var I=B*a+S<<1,ae=0,iB=0;for(var $=0;$<fj;$++){var eg=Math.max(0,Math.min(a-1,S-(fY+$)*bG)),dM=Math.max(0,Math.min(e-1,B-(fY+$)*aY)),fK=dM*a+eg<<1;
ae+=t.map[fK];iB+=t.map[fK+1]}q[I]=ae*jg;q[I+1]=iB*jg}t.map=q}}N.bX.Ki(m.buffer,J.buffer,a,e,null,t.map,t.zp,t.V7,K)}if(G=="BsRl"||G=="PlsW"||G=="Chrm"){var aQ=Date.now(),cQ=N.$(R),a7=cQ.slice(0);
N.le(m.buffer,cQ);var F=A.Dtl.v,gz=A.Smth.v;if(F!=15){N.ua.zh(cQ,a7,O,Math.round((15-F)*.5));N.Gy(a7,cQ)}var bQ=1.4/a,d4=1.4/e,j2=new Float32Array(R),j7=new Float32Array(R),fG=new Float32Array(J.buffer.buffer);
for(var B=0;B<e;B++)for(var S=0;S<a;S++){var $=B*a+S,bG=S==a-1?cQ[$]-cQ[$-1]:cQ[$+1]-cQ[$],aY=B==e-1?cQ[$]-cQ[$-a]:cQ[$+a]-cQ[$],bT=S*bQ-.7,je=B*d4-.7;
j2[$]=bG==0?bT:bG*.4;j7[$]=aY==0?je:aY*.4}if(G=="BsRl"){var ba=(2+iA.em.indexOf(A.LghD.v.LghD))*Math.PI*.25,ae=Math.cos(ba);
if(Math.abs(ae)<.1)ae=0;ae=Math.sign(ae);var iB=Math.sin(ba);if(Math.abs(iB)<.1)iB=0;iB=Math.sign(iB);
var j6=1/(ae*ae+iB*iB);for(var B=0;B<e;B++)for(var S=0;S<a;S++){var $=B*a+S,cl=Math.max(-1,Math.min(1,ae*j2[$])),js=Math.max(-1,Math.min(1,iB*j7[$]));
a7[$]=128+127*(cl+js)*j6}if(gz!=1){N.ua.zh(a7,cQ,O,Math.round((gz-1)*.5));N.Gy(cQ,a7)}iA.eV(a7,J.buffer,Q,H)}else{if(G=="Chrm")gz=5+gz;
if(gz>1)iA.ek(j2,j7,fG,O,gz-1);if(G=="PlsW"){var fR=new Uint8Array(j2.buffer);for(var $=0;$<R;$++){var iW=$<<2,bG=j2[$],aY=j7[$],fx=1/(Math.sqrt(1+bG*bG)*Math.sqrt(1+aY*aY)),dm=fx*fx,fq=dm*dm,C=~~(255*(fq*fq*dm));
fR[iW+0]=C;fR[iW+1]=C;fR[iW+2]=C;fR[iW+3]=C}J.buffer.set(m.buffer);N.a.zc("norm",fR,O,J.buffer,O,O,A.HghS.v/20)}else if(G=="Chrm"){var h2=J.buffer,jj=a>>>1,iM=e>>>1;
for(var $=0;$<R;$++){var iW=$<<2,bG=j2[$],aY=j7[$],aB={x:1,y:0,kr:bG};en.BX(aB);var ep={x:0,y:1,kr:aY};
en.BX(ep);var h6=en.atx(aB,ep),dJ=1/h6.kr,gs=~~Math.max(0,Math.min(a-1,jj-h6.x*dJ*jj)),ej=~~Math.max(0,Math.min(e-1,iM-h6.y*dJ*iM)),C=cQ[ej*a+gs];
h2[iW+0]=C;h2[iW+1]=C;h2[iW+2]=C}}}}if(G=="Gls"||G=="OcnR"||G=="Txtz"){var eH=G=="OcnR"?2:iA.bh.indexOf(A.TxtT.v.TxtT),hT=iA.eH(eH),dO=hT[0],cQ=hT[1],fE=dO.e,hD=dO.n,fj=24,dr=0,jL,dI;
function d9(jH,hi,aK){return~~(iQ*(jH+hi)+8192)&127}var j2=new Float32Array(R),j7=new Float32Array(R),fG=new Float32Array(J.buffer.buffer),iQ=G=="OcnR"?1/(1+(A.RplS.v-1)*.1):100/A.Scln.v;
if(eH==3)iQ*=32/22.2;var aQ=Date.now(),iS=iQ,bQ=1.4/a,d4=1.4/e;if(G=="Txtz"){iS*=1/255;fj=256}for(var B=0;
B<e;B++){var bZ=d9(B,O.y,hD),dM=bZ+1&127;for(var S=0;S<a;S++){var $=B*a+S,dy=d9(S,O.x,fE),eg=dy+1&127,jh=0,eE=0,jr=0;
if(G=="Txtz"){jh=N.N.Zw(iQ*S,iQ*B,cQ,128,128);eE=N.N.Zw(iQ*S,iQ*B+1,cQ,128,128);jr=N.N.Zw(iQ*S+1,iQ*B,cQ,128,128)}else{jh=cQ[bZ*fE+dy];
eE=cQ[dM*fE+dy];jr=cQ[bZ*fE+eg]}j2[$]=Math.max(-fj,Math.min((jr-jh)*iS,fj));j7[$]=Math.max(-fj,Math.min((eE-jh)*iS,fj))}}if(G=="Txtz")iA.pu(j2,j7,fG,O,6);
else iA.ek(j2,j7,fG,O,G=="Txtz"?1:G=="OcnR"?3.5/iQ:A.Smth.v);if(G=="Txtz")dr=A.InvT.v?-1:1;else if(G=="Gls"){dr=[1,.4,.5,.5][eH]*(Math.exp(A.Dstr.v*.155)-1);
if(A.InvT.v)dr=-dr}else{dr=.5*(Math.exp(A.RplM.v*.155)-1)}var h2=J.buffer;if(G=="Txtz"){var ba=(2+iA.em.indexOf(A.LghD.v.LghD))*Math.PI*.25,ae=Math.cos(ba),iB=Math.sin(ba);
jL={x:ae,y:iB,kr:0};en.BX(jL);dI=A.Rlf.v;dI=dI/4+Math.max(0,(dI-35)*2)}function aF(aB,ep,eG){var hY=N.a.overF(ep,aB,1),jH=(1-eG)*aB+eG*(eG*ep+(1-eG)*hY);
return jH*255}for(var B=0;B<e;B++)for(var S=0;S<a;S++){var $=B*a+S,iW=$<<2,bG=j2[$],aY=j7[$],aB={x:1,y:0,kr:bG};
en.BX(aB);var ep={x:0,y:1,kr:aY};en.BX(ep);var h6=en.atx(aB,ep);if(G=="Txtz"){var gd=en.a0n(h6,jL)*dr,eG=1,C=1;
if(gd<0){C=0;gd=-gd}eG=Math.min(1,gd*dI);h2[iW+0]=~~aF(m.buffer[iW]*(1/255),C,eG);h2[iW+1]=~~aF(m.buffer[iW+1]*(1/255),C,eG);
h2[iW+2]=~~aF(m.buffer[iW+2]*(1/255),C,eG)}else{var dJ=dr/h6.kr,gs=~~Math.max(0,Math.min(a-1,S-h6.x*dJ)),ej=~~Math.max(0,Math.min(e-1,B-h6.y*dJ)),bb=ej*a+gs<<2;
h2[iW+0]=m.buffer[bb];h2[iW+1]=m.buffer[bb+1];h2[iW+2]=m.buffer[bb+2]}}}if(G=="PntD"){var hM=A.Shrp.v*.4,cD=A.BrsT.v.BrsT,fr={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[cD],cp=Math.round(A.Sz.v*.5);
N.lP.vA=fr[0];var cG=N.lP.IX;N.lP.QI(m.buffer,J.buffer,a,e,cp,cG,[]);var eX=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
eX=N.pO.ac(eX);var eN=J.buffer.slice(0);N.pO.TV(eN,J.buffer,a,e,eX,0);for(var $=0;$<m.buffer.length;
$++){var iF=J.buffer[$]-eN[$];J.buffer[$]=Math.max(0,Math.min(255,eN[$]+hM*iF))}}if(G=="GlwE"){var ay=J.buffer.slice(0);
N.lP.vA=.5;var cG=N.lP.IX;N.lP.QI(m.buffer,ay,a,e,A.Smth.v>>>1,cG,[]);N.pO.yZ(ay,J.buffer,a,e);N.Gy(J.buffer,ay);
N.G3(ay);N.w8(ay,4278190080,16777215);N.lP.QI(ay,J.buffer,a,e,A.EdgW.v>>>1,N.lP.rT,[]);var iJ=A.EdgB.v/10;
for(var $=0;$<ay.length;$++){if(($&3)==3)continue;var hY=J.buffer[$];J.buffer[$]=Math.max(0,Math.min(255,hY*iJ))}}if(G=="StnG"){N.X$.amW(m.buffer,a,e,J.buffer,A.ClSz.v,[Math.round(Q.p),Math.round(Q.z),Math.round(Q.h)],A.BrdT.v)}if(G=="HlfS"){var gv=A.HlSz.v,ix=gv*2+1,f1=A.Cntr.v,ao=iA.en.indexOf(A.ScrT.v.ScrT),R=a*e,fm=R*4,gE=N.$(R),bu=m.buffer,hF=0,iN=0;
iA.b9(bu,gE);var gH=gE.slice(0);N.ua.hO(gH,gE,O,gv);var fU=Math.PI/ix,c7=new Float64Array(a),ae=new Float64Array(a),aL=new Float64Array(2*a);
for(var S=0;S<a;S++){var dy=(S-(a>>>1))*fU;c7[S]=dy*dy;ae[S]=Math.cos(dy);var bG=S<<1;aL[bG]=Math.sin(bG*(1/4.5));
aL[bG+1]=Math.sin((bG+1)*(1/4.5))}for(var B=0;B<e;B++){var bZ=(B-(e>>>1))*fU,iB=Math.cos(bZ),aq=bZ*bZ;
for(var S=0;S<a;S++){var C=iB;if(ao==0){var h7=.5+Math.sqrt(c7[S]+aq)*4.5;C=aL[~~h7]}else if(ao==1){C=ae[S]*iB}var $=B*a+S,hm=gE[$]*(.75+.25*C),eG=bu[($<<2)+3]*(1/255),cj=Math.max(0,Math.min(255,~~hm));
hF+=cj*eG,iN+=eG;gE[$]=cj}}hF/=iN;var bC=128+1.26*(hF-128),iJ=.08+.25*Math.abs((128-hF)/128),cd=1+iJ*f1;
for(var $=0;$<R;$++){var hm=bC+(gE[$]-bC)*cd;gE[$]=Math.max(0,Math.min(255,~~hm))}if(f1>46)N.round(gE);
iA.eV(gE,J.buffer,Q,H)}for(var $=0;$<m.buffer.length;$+=4)J.buffer[$+3]=m.buffer[$+3]};iA.eV=function(G,m,A,Q){var H=G.length,J=A.p,b=A.z,O=A.h,a=Q.p,e=Q.z,R=Q.h;
for(var $=0;$<H;$++){var p=G[$]*(1/255),P=1-p,z=$<<2;m[z]=~~(J*P+a*p);m[z+1]=~~(b*P+e*p);m[z+2]=~~(O*P+R*p)}};
iA.eH=function(G){if(G==6)G=2;var m="blocks canvas frosted tinylens brick burlap".split(" ")[G];if(iA.c8==null)iA.c8=[];
if(iA.c8[G]==null){var A,Q;if(G==2){Q=new f_(0,0,128,128);var H=bH.wZ("AdNs");H.Mnch.v=!0;H.Dstr.v.Dstr="Gsn";
H.Nose.v.val=50;var A=N.$(Q.Z()*4),J=A.slice(0);new Uint32Array(J.buffer).fill(4286611584);bH.pV("AdNs",{buffer:J,rect:Q},H,0,0,{buffer:A,rect:Q})}else{var b=dt.YM.get("tex/"+m,!0)[0];
Q=b.NS;A=new Uint8Array(b.data)}var O=N.$(Q.Z());N.gF(A,O,0);iA.c8[G]=[Q,O]}return iA.c8[G]};iA.ek=function(G,m,A,Q,H){if(H<=1){H=Math.round(H);
iA.pu(G,m,A,Q,[1,16,4][H]);return}var J=H*.42;if(G){N.ua.S8(G,A,Q,J,3);G.set(A)}if(m){N.ua.S8(m,A,Q,J,3);
m.set(A)}};iA.pu=function(G,m,A,Q,H){var J=N.pO.ac([1,2,1,2,H,2,1,2,1]);if(G){A.set(G);N.pO.To(G,A,Q.e,Q.n,J);
G.set(A)}if(m){A.set(m);N.pO.To(m,A,Q.e,Q.n,J);m.set(A)}};iA.bA=function(G){if(G==null)return new dw(0,0);
var m=0,A=G.GEfs?G.GEfs.v:[{v:G}];for(var $=0;$<A.length;$++){var Q=A[$].v,J=1e4;if(Q.GELv&&!Q.GELv.v)continue;
var H=Q.GEfk.v.GEft;if(H=="GlwE"||H=="Phtc"||H=="BsRl"||H=="PlsW"||H=="Chrm"||H=="Gls"||H=="OcnR")J=0;
m=Math.max(m,J)}return new dw(m,m)};iA.zk=function(G){var m=[0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][G];
for(var $=0;$<13;$++){var Q=$-6;m[$]=1/(A*Math.sqrt(2*Math.PI))*Math.exp(-.5*(Q/A)*(Q/A))}return m};
iA.tu=function(G,m,A,Q,H){var J=iA.zk(H),b=6,O=13;for(var a=0;a<Q;a++)for(var e=0;e<A;e++){var R=a*A+e<<1,p=0,P=0;
for(var $=0;$<O;$++){var z=e+$-b,Z=z<0?0:z>=A?A-1:z,W=(a*A+Z)*2,T=J[$];p+=T*G[W];P+=T*G[W+1]}m[R]=p;
m[R+1]=P}};iA.ph=function(G,m,A,Q,H){var J=iA.zk(H),b=6,O=13;for(var a=0;a<Q;a++)for(var e=0;e<A;e++){var R=a*A+e<<1,p=0,P=0;
for(var $=0;$<O;$++){var z=a+$-b,Z=z<0?0:z>=Q?Q-1:z,W=(Z*A+e)*2,T=J[$];p+=T*G[W];P+=T*G[W+1]}m[R]=p;
m[R+1]=P}};function ib(){}ib.gK=[2,5,5,7,4,4];ib.Vh="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
ib.uY="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
ib.dw=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
ib.Ch=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
ib.Bn=function(G){if(G=="passThrough")return"pass";return ib.Vh[ib.uY.indexOf(G)]};ib.hb=function(G){if(G=="pass")return"passThrough";
return ib.uY[ib.Vh.indexOf(G)]};ib.getName=function(G){return ib.dw[ib.Vh.indexOf(G)]};function c(){this.rect=null;
this.buffer=null;this.w4="norm";this.opacity=255;this.hd=!1;this.$G=0;this.yU=0;this.zf=!0;this.YX=[];
for(var $=0;$<10;$++)this.YX.push(0,0,255,255);this.name=null;this.add={};this.yY=null;this.K4=null;
this.D=null;this.Vp=null;this.ab3=30;this.xA=c.eW();this.a1t=c.eW();this.amv=c.eW();this.a2O=c.eW();
this.Sm=0;this.ri=!1;this.Pg=null;this.zr=new c.Tg}c.eW=function(){var G=document.createElement("canvas");
G.width=G.height=30;return G.getContext("2d")};c.Tg=function(){this.aK=!0;this.sj=!0;this.VL=N.$(0);
this.a8g=N.$(0);this.xR=null;this.g9={};this.apU=null;this.gN=null;this.ga=null;this.Y8=null;this.V2=null;
this.Xf=null;this.q4=null;this.d$=null;this.Px=null;this.LO=null;this.mQ=null;this.CC=null;this.hX=!1};
c.Tg.prototype.zF=function(){this.aK=!1;this.sj=!1;this.xR=null;this.hX=h.wq};c.Tg.prototype.aui=function(){en.akH(this.g9);
this.VL=N.$(0);this.a8g=N.$(0);if(this.Y8)this.Y8.delete();if(this.V2)this.V2.delete();this.Y8=null;
this.V2=null;var G=[this.Xf,this.q4,this.d$,this.Px,this.LO,this.mQ];for(var $=0;$<6;$++)if(G[$]!=null&&G[$]instanceof h.NI)G[$].delete();
this.Xf=null;this.q4=null;this.d$=null;this.Px=null;this.LO=null;this.mQ=null};c.prototype.F=function(G){if(G==null)G=this.rect.clone();
if(this.zr.xR==null)this.zr.xR=G;else this.zr.xR=this.zr.xR.wj(G)};c.prototype.r8=function(){return this.add.lsct==fM.UK||this.add.lsct==fM.mJ};
c.prototype.gX=function(){var G=this.add;return G.SoCo!=null||G.GdFl!=null||G.PtFl!=null};c.prototype.VU=function(){var G=this.add.lmfx;
if(G==null)return;var m=["GrFl","patternFill"];for(var $=0;$<m.length;$++){var A=hK.HK[hK.order.indexOf(m[$])],Q=G[A].v;
if(Q.length==0)continue;for(var H=0;H<Q.length;H++){var J=Q[H].v;if(J.enab.v&&(J.Algn==null||!J.Algn.v))this.zr.sj=!0}}};
c.prototype.eJ=function(){var G=this.D;if(this.gX())G=this.fm();if(!h.wq)return G.X_();if(this.zr.V2==null||this.zr.aK||h.wq!=this.zr.hX){if(this.zr.V2)this.zr.V2.delete();
this.zr.V2=new h.CU(G.E8().e,G.E8().n);this.zr.V2.set(G.X_())}return this.zr.V2};c.prototype.PS=function(G){var m=this.rect,A=this.buffer;
if(!h.wq){var Q=this.aT(G,A,m);if(Q){A=Q.uw;m=Q.rect}return A}if(this.zr.xR!=null||h.wq!=this.zr.hX){var Q=this.aT(G,A,m);
if(Q){A=Q.uw;m=Q.rect}var H=m;if(h.wq!=this.zr.hX||this.zr.Y8==null||this.zr.Y8.e!=H.e||this.zr.Y8.n!=H.n){if(this.zr.Y8)this.zr.Y8.delete();
this.zr.Y8=new h.NI(H.e,H.n);this.zr.Y8.set(A)}else{var J=this.zr.xR.clone();J.offset(-m.x,-m.y);this.zr.Y8.set(A,J)}}return this.zr.Y8};
c.prototype.y2=function(){var G=this.D;if(this.gX())G=this.fm();return G!=null&&G.isEnabled&&(!G.rect.My()||G.SR()!=255)};
c.prototype.aT=function(G,m,A){if(this.Ct()){var Q=this.mv(G);if(Q.D&&Q.D.isEnabled&&(!Q.D.rect.My()||Q.D.color==0)){var H=this.add.SoLd.filterFX.v;
Q.D.an=H.filterMaskDensity?H.filterMaskDensity.v:255;Q.D.JE=H.filterMaskFeather?H.filterMaskFeather.v:0;
var J=Q.buffer,b=Q.rect;if(b.Z()<A.Z()){b=A;J=N.$(b.Z()*4);N.Pr(Q.buffer,Q.rect,J,b)}var O=Q.D.MC(A);
N.G3(O);m=m.slice(0);N.a.B4(J,b,m,A,O,A,0,A,1);return{uw:m,rect:A}}}};c.prototype.a5O=function(){var G={bZ:!1,Rh:!1,Ib:0,j_:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)G.Rh=!0;if(this.fm()&&this.fm().isEnabled)G.bZ=!0;if(G.bZ&&G.Rh){G.Ib=this.fm().rect.x-this.add.vmsk.fm().rect.x;
G.j_=this.fm().rect.y-this.add.vmsk.fm().rect.y}return G};c.prototype.hM=function(G){if(this.add.lsct==fM.SB)return;
var m=this,A=this.fm()!=null&&this.fm().k9,Q=this.add.vmsk!=null&&this.add.vmsk.k9,H=this.a5O(),J=JSON.stringify(H)!=this.zr.apU||H.bZ&&A||H.Rh&&Q;
if(J){if(H.Rh){var b=this.add.vmsk.fm();if(H.bZ){this.D=this.fm().rF(b);this.zr.gN=new dw(this.D.rect.x-this.fm().rect.x,this.D.rect.y-this.fm().rect.y)}else this.D=b}if(this.D)this.zr.aK=!0;
if(this.D)this.zr.ga=new dw(this.rect.x-this.D.rect.x,this.rect.y-this.D.rect.y);if(H.bZ)this.fm().k9=!1;
if(H.Rh)this.add.vmsk.k9=!1;this.F()}else{if(H.bZ&&H.Rh){this.D.rect.x=this.fm().rect.x+this.zr.gN.x;
this.D.rect.y=this.fm().rect.y+this.zr.gN.y}}if(m.gX()){this.Y7(G)}if(m.wC()){var O;if(this.D)O=new dw(this.rect.x-this.D.rect.x,this.rect.y-this.D.rect.y);
if(this.D&&this.D.isEnabled&&(this.zr.ga==null||!O.A5(this.zr.ga))){this.zr.ga=O;this.F();this.zr.aK=!0}}if(hE.get(m.add)!=null)this.zr.aK=!0;
this.zr.apU=JSON.stringify(H)};c.prototype.Y7=function(G){var m=this,A=m.add.vstk,Q=new f_(0,0,G.e,G.n),H,J=m.add.vmsk?this.add.vmsk.fm():null,a=!0;
if(J&&J.isEnabled&&J.SR()==0)H=J.E8().clone();else H=Q;var b=m.fm();if(b&&b.isEnabled&&b.SR()==0)H=H.KB(m.D.E8());
var O=J&&A;if(A&&(!A.strokeEnabled.v||A.strokeStyleLineWidth.v.val==0))O=!1;if(A&&!A.fillEnabled.v&&O)a=!1;
var e=N.$(H.Z()*4);if(a){if(m.add.SoCo)en._I(e,m.add.SoCo.Clr.v);if(m.add.GdFl){var R=J&&J.color==0?N.U.jX(m.add.vmsk.Y,null,!0):null;
en.N_(m.add.GdFl,e,H,G,null,R)}if(m.add.PtFl)en.ke(m.add.PtFl,e,H,G.add.Patt,m.add.fxrp)}if(J){var p=J.an;
if(O)J.an=255;var P=N.$(H.Z());if(J.SR()!=0)P.fill(Math.round(J.SR()));if(J&&J.isEnabled){var z=J.E8(),Z=J.X_();
if(z.A5(H))N.Gy(Z,P);else N.qg(Z,z,P,H)}if(m.add.SoCo&&a){N.I5(P,e,3)}else N.iz(P,H,e,H);if(O)J.an=p}m.buffer=e;
m.rect=H;if(O){var W=hK.nh.rr.indexOf(A.strokeStyleLineAlignment.v.strokeStyleLineAlignment),T=A.strokeStyleContent.v,i=hK.nh.Tn.indexOf(T.classID),X=this.add.vmsk.fm(A);
if(m.rect.A5(Q))m.rect=m.rect;else if(W!=0){var U=m.rect.wj(X.E8()),M=N.$(U.Z()*4);N.Pr(m.buffer,m.rect,M,U);
m.buffer=M;m.rect=U}var p=X.an;X.an=255;var C=X.MC(m.rect);X.an=p;if(X.color==255)N.G3(C);var x=N.$(m.rect.Z()*4);
if(i==0)en._I(x,T.Clr.v);if(i==1)en.N_(T,x,m.rect,G,null,J.color==0?J.rect:null);if(i==2)en.ke(T,x,m.rect,G.add.Patt,m.add.fxrp);
var L=A.strokeStyleOpacity.v.val/100;if(L!=1)N.EN(C,L);if(X.color==255)W=2-W;if(W<2){N.a.B4(x,m.rect,m.buffer,m.rect,C,m.rect,255,m.rect,1,!1);
if(W==0)N.fW(P,m.buffer)}if(W==2){N.fW(C,x);N.G3(P);N.a.B4(x,m.rect,m.buffer,m.rect,P,H,255,m.rect,1,!1);
N.G3(P)}if(X.an!=255){var E=x.slice(0);N.w8(E,4278190080,16777215);N.a.zc("norm",E,m.rect,m.buffer,m.rect,m.rect,1-X.an/255)}p=J.an;
J.an=255;this.a8g=J.MC(m.rect);J.an=p}this.F()};c.prototype.wH=function(G,m){var A=this,Q=A.add.SoLd.Idnt.v,H=A.add.SoLd,J=N.H.Cf(f.Q.y_(H.nonAffineTransform)),b=G.Lg(Q,H.Crop?H.Crop.v:null,[J.e,J.n],H.Impr.v.classID);
if(b==null)return;var O=b.CX;H.Sz.v.Wdth.v=O[1].e;H.Sz.v.Hght.v=O[1].n;var a=H.warp.v,e=f.Q.y_(H.nonAffineTransform),R=N.N.hh(e,O[1]);
if(a&&!N.iZ.zK(a)){var J=N.H.Cf(N.iZ.vE(a)),p=J.x,P=J.y,z=1/J.e,Z=1/J.n;R=N.N.hh(e);R=N.N.rF(R,[z,0,-p*z,0,Z,-P*Z,0,0])}var W=f.Q.sT(O,m?0:1,R,a,null,null,null,m);
if(W==null){A.buffer=N.$();A.rect=new f_}else if(A.Ct()){var T=A.mv(G);T.buffer=W.buffer;T.rect=W.rect.clone();
this.$I(G,m)}else{A.buffer=W.buffer;A.rect=W.rect}A.hM(G);A.F();G.F()};c.prototype.$I=function(G,m){if(m==null)m=!1;
var A=this.mv(G),Q=this.add.SoLd.filterFX.v,H=bH.a5o(Q),J=new f_(0,0,G.e,G.n),b=A.rect.wj(J),O=A.rect.clone();
O.e0(H.x,H.y);var a={buffer:null,rect:b.KB(O)};a.buffer=N.$(a.rect.Z()*4);N.Pr(A.buffer,A.rect,a.buffer,a.rect);
if(Q.enab.v&&m==!1){var e=Q.filterFXList.v;for(var $=0;$<e.length;$++){var R=e[$].v;if(R.enab.v==!1)continue;
var p=R.blendOptions.v,P=ib.Bn(p.Md.v.BlnM),z=p.Opct.v.val/100,Z=N.X.SR(R.FrgC.v),W=N.X.SR(R.BckC.v),T=bH.us(R),i={buffer:N.$(a.buffer.length),rect:a.rect.clone()},X=R.Fltr?R.Fltr.v:null;
if(hE.qV[T]!=null){var U=hE.qV[T],M=hE.Gt(U,X);if(M)hE.pV(M,a.buffer,i.buffer,a.rect)}else bH.pV(T,a,X,Z,W,i,[G.add.lnk2?G.add.lnk2:[],this.fm(),G.Hv]);
if(P=="norm"&&z==1)a=i;else if(P=="norm"){N.a.B4(i.buffer,i.rect,a.buffer,a.rect,null,null,null,a.rect,z)}else{N.a.zc(P,i.buffer,i.rect,a.buffer,a.rect,a.rect,z)}}}this.rect=a.rect;
this.buffer=a.buffer;this.LA();this.F();G.F()};c.prototype.Gm=function(G,m,A){this.Pg=this.oA(G,m,A)};
c.prototype.xY=function(G,m){var A=this.oA(G,m,!0);if(A==null)return null;var Q={oH:A.Sm,Uq:A.bC,rect:A.c7};
if(Q.oH==1||Q.oH==3){var H=Q.rect,J=N.$(H.e*H.n*4);N.I5(Q.Uq,J,0);N.I5(Q.Uq,J,1);N.I5(Q.Uq,J,2);N.hG(G.q.channel,G.q.rect,J,H);
Q.Uq=J}return Q};c.prototype.oA=function(G,m,A){var Q,H,J,b,O,a,e;if(this.Sm<=0){var R=N.$(this.rect.Z());
N.gF(this.buffer,R,3);Q=N.af.BR(m,{channel:R,rect:this.rect},3);if(Q==null)return null;var p=N.cP(Q.channel,Q.rect);
b=Q.rect.clone();O=this.rect.clone();H=N.$(b.Z()*4);N.Pr(this.buffer,O,H,b);N.I5(Q.channel,H,3);J=this.buffer.slice(0);
if(!A){var P=m.channel.slice(0);N.G3(P);N.iz(P,m.rect,J,O)}a=this.buffer.slice(0);e=this.rect.clone()}if(this.Sm==1||this.Sm==3){var z=this.Sm==1?this.fm():this.mv(G).D;
b=m.rect.clone();O=z.rect.clone();H=z.ei(b);var J=z.channel.slice(0);if(!A)N.a.Os(z.color==255?N.tM(b.Z()):N.Pn(b.Z()),b,J,O,m.channel,b,1);
a=z.channel.slice(0);e=z.rect.clone()}return{Sm:this.Sm,bC:H,c7:b,vJ:J,fJ:O,HL:a,Zj:e}};c.prototype.Or=function(G,m){var A=this.Pg;
if(A.Sm==0){this.rect=A.Zj;this.buffer=A.HL;this.F()}if(A.Sm==1||A.Sm==3){var Q=A.Sm==1?this.fm():this.mv(G).D;
Q.channel=A.HL;Q.rect=A.Zj;if(this.Sm==1){Q.k9=!0;this.hM(G)}if(this.Sm==3)this.F()}this.Pg=m};c.prototype.NC=function(G,m){if(this.Sm<=0&&m.rect.A5(this.rect)){var A=N.$(this.rect.Z());
N.gF(this.buffer,A,3);if(N.A5(G.q.channel,A)){var Q=this.rect,H=this.buffer;this.Pg={Sm:this.Sm,bC:H.slice(0),c7:Q.clone(),vJ:N.$(0),fJ:new f_,HL:N.$(0),Zj:new f_};
return!0}}var J=this.Pg;if(J==null)return!1;if(J.Sm!=this.Sm)return!1;if(!m.rect.A5(J.c7))return!1;var b=J.fJ.wj(J.c7);
if(J.Sm<=0){if(!b.A5(this.rect))return!1;var O=N.$(J.bC.length>>2);N.gF(J.bC,O,3);if(!N.A5(m.channel,O))return!1;
var a=N.$(b.e*b.n*4);N.Pr(J.vJ,J.fJ,a,b);N.a.zc("norm",J.bC,J.c7,a,b,b,1);return N.A5(a,this.buffer)}if(J.Sm==1||J.Sm==3){var e=J.Sm==1?this.fm():this.mv(G).D;
if(!b.A5(e.rect))return!1;var R=N.$(b.Z());R.fill(e.color);N.qg(J.vJ,J.fJ,R,b);N.a.Os(J.bC,J.c7,R,b,m.channel,b,1);
return N.A5(R,e.channel)}};c.prototype.yI=function(G,m,A,Q){var H=this.Pg;H.c7.offset(m,A);var J=H.fJ.wj(H.c7);
if(H.Sm<=0){var b=N.$(J.Z()*4);N.Pr(H.vJ,H.fJ,b,J);N.a.zc("norm",H.bC,H.c7,b,J,J,1);this.buffer=b;this.rect=J;
this.F()}else{var O=this.Sm==1?this.fm():this.mv(G).D,a=N.$(J.Z());a.fill(O.color);N.qg(H.vJ,H.fJ,a,J);
N.a.Os(H.bC,H.c7,a,J,Q.channel,J,1);O.channel=a;O.rect=J.clone();if(this.Sm==1){O.k9=!0;this.hM(G)}if(this.Sm==3)this.F()}};
c.prototype.v0=function(){var G=[-1,0,1,2];if(this.D)G.push(-2);if(this.Vp)G.push(-3);return G};c.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
c.prototype.mw=function(jw){this.add.luni=this.name=jw};c.prototype.mz=function(G){var m=this.add.lnsr,A=this.add.TySh;
if(m=="rend"&&A)this.mw(fC.Gn(A.DQ).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};c.prototype.HX=function(){return(this.$G&1<<1)==0};
c.prototype.wC=function(){return(this.$G&1<<4)==0};c.prototype.Pq=function(){return(this.$G&1<<5)!=0};
c.prototype.ap9=function(){var G=this;if(G.add.lnsr!="bgnd"){G.add.lnsr="bgnd";G.mw("Background");G.add.lspf=1<<2}};
c.prototype.a5m=function(){var G=this;if(G.add.lnsr=="bgnd"){delete G.add.lnsr;G.mw("Layer 0");G.add.lspf=0}};
c.prototype.AL=function(G){var m=this.add.lspf;return m==null?!1:(m>>G&1)!=0};c.prototype.YQ=function(G){if(G&&!this.HX())this.$G-=2;
if(!G&&this.HX())this.$G+=2};c.prototype.kz=function(){var G=this.add.lmfx;if(G==null)return!1;for(var m in G){if(m=="masterFXSwitch")continue;
if(m=="Scl")continue;if(m=="classID")continue;if(G[m].v.length>0)return!0}return!1};c.prototype.Ct=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
c.prototype.Kg=function(){var G=this.add.lmfx;if(G==null)return!1;if(!G.masterFXSwitch.v)return!1;for(var m in G){if(m=="masterFXSwitch")continue;
if(m=="Scl")continue;if(m=="classID")continue;var A=G[m].v;for(var $=0;$<A.length;$++)if(A[$].v.enab.v)return!0}return!1};
c.prototype.QZ=function(G,m,A,Q,H){var J=new f_,b=this.CN(G,A,Q);if(b.indexOf(0)!=-1)J=J.wj(this.rect);
if(b.indexOf(1)!=-1){var O=this.fm(),a=O.E8();J=A&&O.SR()==0?J.My()?a:J.KB(a):J.wj(a)}if(b.indexOf(2)!=-1){var e=this.add.vmsk,R=this.add.vstk,p;
if(m){p=N.U.jX(e.Y,e.c.length!=0?e.c:null)}else p=N.U.jX(e.Y);if(!H&&R&&R.strokeEnabled.v){var P=R.strokeStyleLineAlignment.v.strokeStyleLineAlignment,z=R.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(P!="strokeStyleAlignInside"){var Z=R.strokeStyleLineWidth.v.val;if(z=="strokeStyleMiterJoin")p=new f_(0,0,G.e,G.n);
else p.e0(Z,Z)}}J=J.wj(p)}if(b.indexOf(3)!=-1)J=J.wj(this.mv(G).D.E8());if(b.length==0&&this.gX())J=H?new f_(0,0,0,0):new f_(0,0,G.e,G.n);
return J};c.prototype.nE=function(){var G=this.add.artb,m=G.artboardBackgroundType.v,A=0;if(m==1)A=4294967295;
else if(m==2)A=4278190080;else if(m==3)A=0;else if(m==4){A=G.Clr.v;A=255<<24|A.Bl.v<<16|A.Grn.v<<8|A.Rd.v}else throw m;
return A};c.prototype._Q=function(){var G=this.add.artb.artboardRect.v,m=G.Btom.v,A=G.Left.v,Q=G.Rght.v,top=G.Top.v;
return new f_(A,top,Q-A,m-top)};c.prototype.I_=function(G){var m=c.wt(G);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=m};c.wt=function(G){var m={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
m.Btom.v=G.y+G.n;m.Left.v=G.x;m.Rght.v=G.x+G.e;m.Top.v=G.y;return m};c.prototype.CN=function(G,m,A){var Q=[],H=this,J=this.ri;
if(!m&&H.ri&&A){Q.push(2)}else if(H.Sm<=0||m){if(H.wC())if(!this.rect.My())Q.push(0);if(H.fm()&&!H.fm().rect.My())if(H.fm().v5||m)Q.push(1);
if(H.add.vmsk)if(H.add.vmsk.v5||m)Q.push(2);if(H.Ct()&&H.mv(G).D&&!H.mv(G).D.rect.My())Q.push(3)}else if(H.Sm==1){Q.push(1);
if(H.fm().v5&&!H.fm().rect.My()){if(H.wC())if(!this.rect.My())Q.push(0);if(H.add.vmsk)if(H.add.vmsk.v5)Q.push(2)}}else if(H.Sm==3&&!H.mv(G).D.rect.My())Q.push(3);
if(H.add.artb&&Q.indexOf(0)==-1)Q.push(0);Q.sort();return Q};c.prototype.fm=function(){var G=this;return G.Vp?G.Vp:G.add.vmsk&&G.add.vmsk.isEnabled?null:G.D};
c.prototype.mv=function(G){var m=this.add.SoLd.placed.v,A=G.add.FEid;if(A==null)return null;for(var $=0;
$<A.length;$++)if(A[$].id==m)return A[$];return null};c.prototype.extend=function(G){N.ahJ(this,G)};
c.prototype.ZF=function(G,m,A){var Q=G.clone();if(this.Kg()){var H=this.add.lmfx,J=m.root.Zu(m.g.indexOf(this)),b=H.gradientFillMulti.v,O=!1;
for(var $=0;$<b.length;$++)if(b[$].v.enab.v&&b[$].v.Algn.v)O=!0;if(O)Q=Q.wj(J.E8(m,!1));var a=en.asp(this.add.lmfx,m,A);
Q.offset(a.x,a.y);Q.e+=a.e;Q.n+=a.n}return Q};c.prototype.LA=function(){if(this.wC())N.uL(this);var G=this.fm();
if(G)G.LA()};c.prototype.clone=function(){var G=new c;G.rect=this.rect.clone();G.buffer=this.buffer.slice(0);
G.w4=this.w4;G.opacity=this.opacity;G.hd=this.hd;G.$G=this.$G;G.name=this.name;G.YX=this.YX.slice(0);
if(this.D)G.D=this.D.clone();if(this.Vp)G.Vp=this.Vp.clone();for(var m in this.add)G.add[m]=a1.clone(m,this.add[m]);
return G};c.prototype.oM=function(G){var m=this;if(m.add.TySh)delete m.add.TySh;if(m.add.SoLd){var A=this.aT(G,this.buffer,this.rect);
if(A){this.buffer=A.uw;this.rect=A.rect;this.F()}delete m.add.SoLd}if(m.add.SoCo||m.add.GdFl||m.add.PtFl){if(m.add.vogk)delete m.add.vogk;
if(m.add.SoCo)delete m.add.SoCo;if(m.add.GdFl)delete m.add.GdFl;if(m.add.PtFl)delete m.add.PtFl;if(m.add.vmsk){console.log(m.Vp,m.D);
delete m.add.vmsk;if(m.Vp==null&&m.D)delete m.D;else if(m.Vp!=null&&m.D!=null){m.D=m.Vp;delete m.Vp}}}if(!m.r8()&&hE.get(m.add)==null&&!this.wC())this.$G-=16};
c.prototype.T1=function(G){var m=255,A=0;if(G==2){var Q=this.add.SoLd.filterFX.v;if(Q.filterMaskDensity)m=Q.filterMaskDensity.v;
if(Q.filterMaskFeather)A=Q.filterMaskFeather.v}else{var H=G==0?this.fm():this.add.vmsk;m=H.an;A=H.JE}return{UZ:G,AC:m,Mm:A}};
c.prototype.M4=function(G){if(G.UZ==2){var m=this.add.SoLd.filterFX.v;if(G.AC==255)delete m.filterMaskDensity;
else m.filterMaskDensity={t:"long",v:G.AC};if(G.Mm==0)delete m.filterMaskFeather;else m.filterMaskFeather={t:"doub",v:G.Mm};
this.F()}else{var A=G.UZ==0?this.fm():this.add.vmsk;A.an=G.AC;A.JE=G.Mm;A.k9=!0}};c.prototype.ON=function(){var G=this,m=G.add.vmsk;
if(m==null)return;G.add.vogk=c.ON(m.Y)};c.ON=function(G){var m=[],A=N.U.Ya(G);for(var Q=0;Q<A;Q++)m.push(N.Nv.Pn());
return m};var fM={Wd:0,UK:1,mJ:2,SB:3};c.Mz=function(){this.name="Mask";this.wV=!1;this.zG={p:255,z:0,h:0};
this._A=50;this.O7=0;this.color=255;this.v5=!0;this.isEnabled=!0;this.jN=!1;this.an=255;this.JE=0;this.rect=new f_;
this.channel=N.$(0);this.gl=null;this.ab9=null;this.k9=!0};c.Mz.prototype.rF=function(G){if(!this.isEnabled)return G;
var m=new c.Mz;m.color=Math.round(this.SR()*G.SR()/255);if(this.SR()==0&&G.SR()==0)m.rect=this.E8().KB(G.E8());
else if(G.SR()==0)m.rect=G.E8().clone();else if(this.SR()==0)m.rect=this.E8().clone();else m.rect=this.E8().wj(G.E8());
m.channel=this.MC(m.rect);m.an=255;m.JE=0;var A=G.MC(m.rect);N.a9Y(A,m.rect,m.channel,m.rect);return m};
c.Mz.prototype.E8=function(){if(this.JE==0)return this.rect;var G=Math.ceil(this.JE*2.2),m=this.rect.clone();
if(m.y==0){if(m.x==0)m.e+=G;else m.e0(G,0);m.n+=G}else m.e0(G,G);return m};c.Mz.prototype.X_=function(){if(this.JE==0&&this.an==255)return this.channel;
if(this.JE==0){var G=this.channel.slice(0);N.G3(G);N.EN(G,this.an/255);N.G3(G);return G}var m=this.E8(),A=this.ei(m),G=N.$(m.Z());
N.ua.zh(A,G,m,this.JE);if(this.an!=255){N.G3(G);N.EN(G,this.an/255);N.G3(G)}return G};c.Mz.prototype.SR=function(){return Math.round(255-(255-this.color)*(this.an/255))};
c.Mz.prototype.extend=function(G){N.extend(this,G,this.color)};c.Mz.prototype.LA=function(){if(this.color==255)N.G3(this.channel);
N.LA(this);if(this.color==255)N.G3(this.channel)};c.Mz.prototype.clone=function(){var G=new c.Mz;G.name=this.name;
G.wV=this.wV;G.zG=this.zG;G._A=this._A;G.O7=this.O7;G.color=this.color;G.v5=this.v5;G.isEnabled=this.isEnabled;
G.jN=this.jN;G.an=this.an;G.JE=this.JE;G.rect=this.rect.clone();G.channel=this.channel.slice(0);return G};
c.Mz.prototype.ei=function(G,m){if(m==null)m=N.$(G.Z());m.fill(this.color);N.qg(this.channel,this.rect,m,G);
return m};c.Mz.prototype.MC=function(G,m){var A=this.E8(),Q=this.X_();if(m==null)m=N.$(G.Z());m.fill(this.SR());
N.qg(Q,A,m,G);return m};c.Rl=function(){this.v5=!0;this.isEnabled=!0;this.an=255;this.JE=0;this.Y=[{type:6},{type:8,all:0}];
this.Q8=[-3,-3];this.hu=!1;this.Vp=null;this.k9=!0;this.c=[];this.PC=[]};c.Rl.prototype.offset=function(G,m){this.Vp=this.fm();
N.U.T6(this.Y,new ci(1,0,0,1,G,m));this.Vp.rect.offset(G,m)};c.Rl.prototype.fm=function(G){if(!this.k9&&this.Vp&&G==null){this.Vp.isEnabled=this.isEnabled;
return this.Vp}var m=N.U.jX(this.Y),A="strokeStyleLineAlignment",Q="strokeStyleLineJoinType";if(m.Z()>3e4*3e4)m=new f_(0,0,100,100);
if(G&&G[A].v[A]!="strokeStyleAlignInside"){var H=1;if(G[Q].v[Q]=="strokeStyleMiterJoin"){var J=N.U.a54(this.Y),b=J/2,O=Math.sin(b),a=Math.cos(b);
a/=O;O=1;var H=Math.sqrt(a*a+O*O);if(isNaN(H)||H<1)H=1}H*=G[A].v[A]=="strokeStyleAlignOutside"?1:.5;
var e=Math.ceil(G.strokeStyleLineWidth.v.val*H);e=Math.min(e,600);m.e0(e,e)}m=N.H.Is(m);var R=new c.Mz;
R.color=N.U.LH(this.Y)?0:255;R.v5=this.v5;R.isEnabled=this.isEnabled;R.jN=!0;R.rect=m;R.an=this.an;R.JE=this.JE;
R.channel=N.$(R.rect.Z());if(!m.My())N.U.atE(this.Y,R.channel,R.rect,G);if(G==null){this.Vp=R;this.k9=!1}return R};
c.Rl.prototype.clone=function(){var G=new c.Rl;G.v5=this.v5;G.isEnabled=this.isEnabled;G.an=this.an;
G.JE=this.JE;G.Y=c.Rl.Ay(this.Y);G.Q8=this.Q8.slice(0);G.hu=this.hu;G.c=this.c.slice(0);G.PC=this.PC.slice(0);
return G};c.Rl.prototype.concat=function(G){var m=G.Y.slice(2);if(m.length==0)return;m[0]._t=3;this.Y=this.Y.concat(m)};
c.Rl.Ay=function(G){var m=[];for(var $=0;$<G.length;$++){var A=G[$];if(A.type>5||A.type==0||A.type==3)m.push(JSON.parse(JSON.stringify(A)));
else m.push({type:A.type,ed:A.ed.clone(),M:A.M.clone(),Gd:A.Gd.clone()})}return m};c.Rl.amp=function(G,m,A){if(G.length!=m.length)return!1;
for(var $=2;$<G.length;$++){var Q=G[$],H=m[$];if(Q.type!=H.type)return!1;if(Q.type==0||Q.type==3){if(Q.length!=H.length||!A&&Q._t!=H._t)return!1}else if(!Q.ed.A5(H.ed)||!Q.M.A5(H.M)||!Q.Gd.A5(H.Gd))return!1}return!0};
c.Rl.prototype.atv=function(){var G=this.Y;for(var $=3;$<G.length;$++)if(G[$].type==0||G[$].type==3)G[$]._t=-1};
c.Sf=function(){this.type=null;this._D=2;this.kl=null;this.Vc="";this.D2="";this.Ez="";this.open=0;this.raw=null;
this.CX=null;this.a69=""};c.Sf.prototype.clone=function(){var G=new c.Sf;G.type=this.type;G._D=this._D;
G.kl=this.kl;G.Vc=this.Vc;G.D2=this.D2;G.Ez=this.Ez;G.open=this.open;G.raw=new Uint8Array(this.raw.buffer.slice(0));
return G};c.Sf.prototype.$s=function(G,m,A){if(A==null)A="none";var Q=this,H=dt.mG(Q.raw.buffer),J=H=="svg"||H=="pdf";
if(Q.CX){var b=m&&J&&Math.max(Q.CX[1].e,Q.CX[1].n)<Math.max(m[0],m[1]);if(!b&&A==this.a69)return}this.a69=A;
if(!J)G=0;if(H==null){alert("Unsupported format: "+V.uB(Q.raw,0,4));return null}var O=dt.aW(H);if(O.cQ){var a=new fy(name+(H=="psd"?"":"-"+H)+".psd"),e;
O.uJ(Q.raw.buffer,a,m);var R=new f_(0,0,a.e,a.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(A)!=-1){var p=[];
for(var $=0;$<a.g.length;$++){var P=a.g[$],z=P.buffer;if(!P.rect.A5(R)){z=N.$(R.Z()*4);N.Pr(P.buffer,P.rect,z,R);
console.log("resizing")}p.push(z)}e=N.$(R.Z()*4);N.stack.stack(p,e,A)}else{for(var $=0;$<a.g.length;
$++)if(a.g[$].gX())a.g[$].hM(a);a.WW();a.F();a.kn();e=a.$s()}Q.CX=[e,R]}else if(O){var Z=O.uJ(Q.raw.buffer)[0];
Q.CX=[new Uint8Array(Z.data),Z.NS]}if(Q.CX){if(G==1){var z=Q.CX[0],W=Q.CX[1],T=N.$(W.Z());N.gF(z,T,3);
var i=N.cP(T,W),X=N.$(i.Z()*4);N.Pr(z,W,X,i);Q.CX=[X,i]}N.xI(Q.CX)}};c.h_="0";c.ip="2";c.GS="2.5";c.th="2.6";
c.x9="3";c.h$="4";c.MH="4.5";c.VT="4.6";c.On="5";c.eI="5.5";c.u$="6";c.bf="7";c.Dz="7.5";c.ZH="8";c.li="9";
c.iq="9.3";c.y7="9.5";c.pU="9.6";c.Sx="10";c.yD="11";c._R="12";c.AM="13";c.qu="13.1";c.Wk="13.2";c.fF="13.3";
c.oE="13.4";c.Wm="14";c.T0="14.1";c.UO="14.2";c.Yj="14.3";c.Xb="17";c.tE="18";c.Jh="19";c.bg="19.5";
c.ex="19.6";c.AY="19.7";c.x_="20";c.h2="21";c.FV="21.5";c.BE="22";c.OR="22.5";c.Bg="23";c.a7X="24";c.mq="25";
c.C1="26";c.d9="27";c.rA="28";c.ar="29";c.zZ="30";c.Y5="31";c.$o="32";c.NJ="33";c.BC="34";c.s_="35";
c.WV="36";c.XM="36.5";c.pr="37";c.TL="37.5";c.a5D="37.6";c._C="38";c.fo="38.5";c.Me="38.6";c.ZO="39";
c.Vu="40";c.pp="41";c.Wt="42";c.cJ="50";c.bF="51";c.Hw="52";c.Eo="53";c.XI="54";c.jh="54.5";c.jR="54.6";
c.r0="54.7";c.P7="54.8";c.gI="55";c.YW="56";c.Xy="57";c.ZY="58";c.LE="59";c.Cr="60";function i2(){this.depth=0;
this.index=-1;this.i=null;this.a3H=null;this.cI=-1;this.children=null;this.parent=null;this.aD=null}i2.prototype.C0=function(G,m){if(this.depth!=0)G.push(this.i.getName());
if(this.children)for(var $=0;$<this.children.length;$++)this.children[$].C0(G,m);if(G.length>m.ok.length)m.ok=G.slice(0);
if(this.depth!=0)G.pop()};i2.prototype.a7T=function(){var G=0;if(this.i.r8()){for(var $=0;$<this.children.length;
$++)G+=this.children[$].a7T()}else if(this.i.buffer)G+=this.i.buffer.length;return G};i2.prototype.Zu=function(G){var m=this.aD[G];
return this.aD[G]};i2.prototype.vZ=function(G,m){var A=this.i;if(!A.HX()||A.AL(2)||A.AL(31))return null;
if(A.y2()){var Q=A.D.rect.c0(G);if(!Q&&A.D.color==0)return}if(A.r8()){for(var $=0;$<this.children.length;
$++){var jw=this.children[$];jw.vZ(G,m)}}else if(A.rect.c0(G))m.push(this.index)};i2.prototype.yq=function(G,m){var A=this.i;
if(!A.HX()||A.AL(2)||A.AL(31))return null;if(A.y2()){if(A.D.rect.EW(G)){if(!N.yq(G,A.D.channel,A.D.rect))return null}else if(A.D.color==0)return null}if(A.r8()){if(A.add.artb&&!A._Q().EW(G))return null;
for(var $=this.children.length-1;$>=0;$--){var jw=this.children[$],Q=jw.yq(G,m);if(Q&&m==null)return Q}return null}else if(A.add.TySh&&A.rect.EW(G)||N.a6B(G,A.buffer,A.rect)){if(m==null)return this;
else m.push(this.index)}return null};i2.prototype.apB=function(G){var m=this.i;if(!m.HX()||m.AL(2)||m.AL(31))return null;
var A=m.add.vmsk;if(A&&A.isEnabled){var Q=N.U.yq(A.Y,G).lW;if(Q!=-1)return{a50:this,a5d:Q}}if(m.r8()){if(m.add.artb&&!m._Q().EW(G))return null;
for(var $=this.children.length-1;$>=0;$--){var jw=this.children[$],H=jw.apB(G);if(H)return H}return null}return null};
i2.prototype.LQ=function(G,m){G.push(this.index);if(this.i.r8()){G.push(this.cI);if(m)if(this.i.Sm==1&&this.i.fm().v5==!1)return;
for(var $=0;$<this.children.length;$++)this.children[$].LQ(G)}};i2.prototype.pt=function(G,m,A){var Q=this.i,H,J;
if(Q.r8()&&Q.add.artb!=null)m=Q._Q();if(m.e>m.n){H=A;J=Math.floor(A*(m.n/m.e))}else{H=Math.floor(A*(m.e/m.n));
J=A}if(Q.gX()&&Q.add.vmsk==null||Q.add.TySh)H=J=Math.max(J,16);else{H=Math.max(H,6);J=Math.max(J,6)}var b=J,O=Q.gX()&&Q.add.vmsk;
if(O){var a=Q.rect.clone(),p,P;if(a.My())a=new f_(0,0,20,20);var e=a.e,R=a.n;if(e>R){p=A;P=Math.floor(A*(R/e))}else{p=Math.floor(A*(e/R));
P=A}if(p*P==0)p=P=16;N.r7.yf(Q.xA,p,P,a,Q.buffer,Q.rect,!1);N.r7.ad_(Q.xA,p,P);b=P}else if(Q.add.TySh){N.r7.a5H(Q.xA,b,b,Q.add.TySh)}else if(Q.add.SoCo){b=Math.max(16,Math.min(H,J));
N.r7.aci(Q.xA,b,b,Q.add.SoCo)}else if(Q.add.GdFl){N.r7.aev(Q.xA,b,b,Q.add.GdFl)}else if(Q.add.PtFl){N.r7.a4Z(Q.xA,b,b,Q.add.PtFl,G)}else if(hE.get(Q.add)!=null){N.r7.aam(Q.xA,b,b,Q.add)}else if(Q.add.SoLd){N.r7.yf(Q.xA,H,J,m,Q.buffer,Q.rect,!1);
N.r7.ac2(Q.xA,H,J,Q.add.SoLd)}else if(Q.r8()){b=16}else{if(Q.wC())N.r7.yf(Q.xA,H,J,m,Q.buffer,Q.rect,!1);
else{N.r7.akK(Q.xA,b,b)}}var z=Q.fm();if(z)N.r7.Ed(Q.a1t,H,J,m,z);if(Q.Ct()&&Q.mv(G)&&Q.mv(G).D){var Z=Q.mv(G).D;
N.r7.Ed(Q.a2O,H,J,m,Z)}if(!O&&Q.add.vmsk){N.r7.Ed(Q.amv,H,J,m,Q.add.vmsk.fm(),!0)}if(Q.add.vmsk||z)b=Math.max(b,J);
Q.ab3=Math.max(b,16);if(Q.r8()&&(Q.add.lsct==fM.UK||G.g.length<4e3))for(var $=0;$<this.children.length;
$++)this.children[$].pt(G,m,A)};i2.prototype.oT=function(G,m,A,Q){this.depth=A;var H=G[m];if(Q==null)Q=[];
this.aD=Q;if(H.add.lsct==fM.SB){this.a3H=H;this.cI=m-1;this.children=[];var $=m+1;while(!0){var J=G[$];
if(J==null)console.log($,G.length);if(J.add.lsct==fM.UK||J.add.lsct==fM.mJ){if(H.add.lyid==J.add.lyid)H.add.lyid+=16777215;
this.i=J;this.index=$-1;Q[this.index]=this;Q[m-1]=this;break}var b=new i2;b.parent=this;$=b.oT(G,$,A+1,Q);
this.children.push(b)}return $+1}else{this.i=H;this.index=m-1;Q[this.index]=this;return m+1}};i2.prototype.Ex=function(G,m,A,Q){var H=this.Zu(A),J=G;
while(H.parent!=null){J=H.i.ZF(J,m,Q);H=H.parent}return J};i2.prototype.E8=function(G,m){var A=this.i,Q=new f_;
if(!A.HX())return Q;var H=A.fm();if(A.r8())for(var $=0;$<this.children.length;$++){var J=this.children[$].E8(G,!0);
Q=Q.wj(J)}else if(hE.get(A.add)!=null)Q=A.y2()&&A.D.color==0?A.D.E8().clone():new f_(0,0,G.e,G.n);else if(A.gX()&&A.add.vmsk&&A.add.vmsk.isEnabled&&A.add.vstk){Q=A.rect.clone()}else if(A.gX()&&H&&H.isEnabled&&H.SR()!=0)Q=new f_(0,0,G.e,G.n);
else{Q=A.QZ(G,!1,!0);if(A.add.vmsk)Q=N.H.Is(Q)}return m?A.ZF(Q,G):Q};i2.NW={delete:function(G){if(G&&G.e)G.delete()},$:function(G,m){return h.wq?new h.NI(G,m):N.$(G*m*4)},eK:function(G,m,A){if(h.wq){if(G==null||G.e!=m||G.n!=A){i2.NW.delete(G);
return new h.NI(m,A)}}else{if(G==null||!(G instanceof Uint8Array)||G.length!=m*A*4){i2.NW.delete(G);
return N.$(m*A*4)}}return G},qg:function(G,m,A,Q,H){(h.wq?h.Tk:N.Pr)(G,m,A,Q,H)},B4:function(G,m,A,Q,H,J,b,O,$,a,e){(h.wq?h.a.aR:N.a.B4)(G,m,A,Q,H,J,b,O,$,a,e)},zc:function(G,m,A,Q,H,J,b,O){if(h.wq)h.a.Dk(G,m,A,Q,H,J,b,O);
else N.a.zc(G,m,A,Q,H,J,b,O)},w8:function(G,m,A){if(h.wq){h.Hj(G);h.Qh(m,A)}else N.w8(G,m,A)},a6o:function(G,m,A,Q,H){if(h.wq){h.a.aR(null,null,Q,H,G,m,A,H,1,!1)}else{if(A==255)N.iz(G,m,Q,H);
else{var J=N.$(m.Z());N.uC(Q,H,J,m);N.au(G,J);N.w8(Q,0,16777215);N.hG(J,m,Q,H)}}},cE:function(G,m,A,Q){if(h.wq)h.a.aR(null,null,A,Q,G,m,0,Q,1,!1);
else N.cE(G,m,A,Q)}};i2.prototype.L4=function(G,m,A,Q,H,J){var b=typeof J=="number";if(!this.i.r8()&&(b&&this.index>J||!b&&J.indexOf(this.index)==-1)){return}var O=this.i,a=en.JA(O),e=i2.NW,R=O.gX()?O.fm():O.D;
if(!O.HX())return;if(O.y2()&&R.rect.My()&&R.SR()==0){return}if(O.add.vstk==null&&this.E8(Q,!1).My()){return}var p=this.E8(Q,!0).KB(A);
if(!m.A5(A)&&!A.c0(p))return;if(O.r8()&&O.add.artb){var P=O._Q();A=A.KB(P)}var z=i2.are(O,H,a);if(!z){this.a4w(G,m,A,Q,H,J);
return}O.zr.Xf=e.eK(O.zr.Xf,p.e,p.n);e.qg(G,m,O.zr.Xf,p,A);this.a4w(O.zr.Xf,p,A,Q,H,J);e.B4(O.zr.Xf,p,G,m,null,null,0,A,O.opacity/255,O.w4=="diss",a.by)};
i2.are=function(G,m,A){if(A.by[0]*A.by[1]*A.by[2]==0)return!0;return G.opacity!=255&&(m.length!=0||G.r8()||G.Kg())};
i2.a9J={zr:{}};i2.prototype.a4w=function(G,m,A,Q,H,J){var b=this.i,O=en.JA(b),a=hE.get(b.add)!=null,e=i2.NW,R=i2.are(b,H,O),p=R?1:b.opacity/255,P=b.gX()?b.fm():b.D,z=b.r8()&&(b.w4=="pass"||b.add.artb)&&!(H.length>0||O.fill!=1||b.Kg()),Z=!b.r8()&&!a&&!b.Kg()&&H.length==0,W=a&&!b.Kg()&&H.length==0,C=null,x=null,L=null,F;
if(z||Z||W){var T=G,i=m;if(b.y2()){i=this.E8(Q,!1);T=b.zr.Px=e.eK(b.zr.Px,i.e,i.n);e.qg(G,m,b.zr.Px,i)}if(z)this.hg(T,i,A,Q,J);
if(Z)e.zc(b.w4,b.PS(Q),b.rect,T,i,A,p,O);if(W){var X=b.y2()&&P.SR()==0?P.E8().clone():i.clone(),U=b.zr;
if(X.A5(new f_(0,0,Q.e,Q.n)))U=i2.a9J;U.d$=this.aeR(T,i,U.d$,X,b.add);O.BK=!0;e.zc(b.w4,U.d$,X,T,i,A,p,O)}if(b.y2())e.B4(T,i,G,m,b.eJ(),P.E8(),P.SR(),A,1,b.w4=="diss");
b.zr.zF();return}var M=b.r8()&&b.w4=="pass"&&(H.length>0||O.fill!=1||b.Kg()),X=b.rect;if(b.r8()){X=this.E8(Q,!1);
L=b.zr.d$=e.eK(b.zr.d$,X.e,X.n);e.w8(L,0);this.hg(L,X,X,Q,J);x=e.eK(b.zr.q4,X.e,X.n);e.qg(L,X,x,X)}else if(a){X=b.y2()&&P.SR()==0?P.E8().clone():m.clone();
x=e.eK(b.zr.q4,X.e,X.n);e.w8(x,4294967295)}else{X=b.rect;C=b.PS(Q);x=e.eK(b.zr.q4,X.e,X.n);e.qg(C,X,x,X)}b.zr.q4=x;
if(b.y2())e.a6o(b.eJ(),P.E8(),P.SR(),x,X);if(b.Kg())if(b.zr.xR||b.zr.sj||b.zr.hX!=h.wq||b.zr.aK||b.r8()){var E=b.add.vmsk,l=N.$(X.Z());
if(en.ahS(b.add.lmfx)){if(h.wq){if(!b.r8()&&b.fm()==null&&b.rect.A5(X)&&E==null)N.gF(b.buffer,l,3);else{var y=N.$(X.Z()*4);
x.get(y);N.gF(y,l,3)}}else N.gF(x,l,3)}if(b.zr.sj||b.zr.hX!=h.wq||!N.A5(l,b.zr.VL)){var Y=null;if(b.gX()&&E&&E.isEnabled&&E.fm().color==0)Y=E.fm().rect;
en.akH(b.zr.g9);b.zr.g9=en.a8E(l,X,b.add.lmfx,b.add.fxrp,Q,Y);b.zr.VL=l;b.zr.aiC=X}}if(b.Kg())en.apZ(b.add.lmfx,b.zr.g9,X,G,m,A);
if(b.r8()){C=e.eK(b.zr.Px,X.e,X.n);e.w8(C,0);if(b.w4=="pass")e.qg(G,m,C,X);if(M)e.cE(L,X,C,X);this.hg(C,X,A,Q,J);
b.zr.Px=C}if(a){C=b.zr.Px=this.aeR(G,m,b.zr.Px,X,b.add)}if(b.r8()||a)F=C;else{F=e.eK(b.zr.Px,X.e,X.n);
e.qg(C,X,F,X,A);b.zr.Px=F}e.w8(F,4278190080,16777215);for(var $=0;$<H.length;$++)H[$].L4(F,X,A,Q,[],J);
var w=b.zr.LO=e.eK(b.zr.LO,X.e,X.n);e.qg(G,m,w,X,A);if(a)O.BK=!0;e.zc(b.w4=="pass"?"norm":b.w4,F,X,w,X,A,1,O);
if(b.Kg()){var j=b.zr.g9.type.FrFX,_=null;if(j.length!=0){_=j[0];for(var $=0;$<j.length;$++)if(j[$].EU.e>_.EU.e)_=j[$];
b.zr.mQ=e.eK(b.zr.mQ,_.EU.e,_.EU.n);e.qg(G,m,b.zr.mQ,_.EU,A);b.zr.CC=e.eK(b.zr.CC,_.EU.e,_.EU.n)}en.ans(b.add.lmfx,b.zr.g9,X,G,m,A,w,b.zr.mQ,b.zr.CC,_?_.EU:null)}if(!h.wq){var D=N.$(X.Z());
N.gF(x,D,3);x=D}e.B4(w,X,G,m,x,X,0,A,1,b.w4=="diss");b.zr.zF()};i2.prototype.aeR=function(G,m,A,Q,H){var J=hE.get(H),b;
if(J)b=hE.Gt(J,H[J]);var O=i2.NW;A=O.eK(A,Q.e,Q.n);if(!(h.wq&&m.A5(Q)))O.qg(G,m,A,Q);if(b){if(h.wq){var a=Q.clone();
a.x=a.y=0;if(m.A5(Q)){h.Hj(A,a);hE.Av(b,G.Vj,a)}else{h.Hj(A,Q);A.vK(Q);hE.Av(b,A.Pf,a)}}else hE.pV(b,A,A,Q)}return A};
i2.prototype.hg=function(G,m,A,Q,H){var J=this.children;for(var $=0;$<J.length;$++){var b=[];for(var O=$+1;
O<J.length;O++)if(J[O].i.hd)b.push(J[O]);else break;J[$].L4(G,m,A,Q,b,H);$+=b.length}};function fy(G){this.xd="psd";
this.D9=!1;this.name=G;this.HD=-1;this.ja=null;this.nt=null;this.wd=null;this.M3=null;this.e=0;this.n=0;
this.buffer=null;this.g=[];this.iM={};this.add={};this.qe=4;this.Jt=null;this.SV=72;this.ey={};this.c=[];
this.Ld=[];this.zd=!1;this.Xz=[];this.bI=[];this.Sq=[fy.y0("Work Path")];this.rY=[];this.EJ=null;this.Ve={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.Dc=null;this.sp=!1;this.a5A=!1;this.aoM=!1;this.HV=!1;this.W0=!1;this.Iy=!1;this.AB=!1;
this.bV=!1;this.GU=!1;this.we=!1;this.xR=null;this.f_=null;this.q=null;this.Hv=[];this.UX=[];this.v={hK:{},Wq:[],agB:[],f4:[],oB:[],Gs:null,TX:null,gY:null,aB:null,eN:[],Lb:[],dX:null};
this.history=[new i3([1,0],null)];this.kZ=0;this.DK=0;this.P0=0;this.t=new dE(this)}fy.prototype.G1=function(){var G=this.Ld,m=[];
for(var $=0;$<G.length;$++)m[$]=-1;var A=this.root.children;for(var $=0;$<A.length;$++){var Q=A[$],H=Q.i.add.artb;
if(H==null)continue;var J=H.guideIndeces;J=J?J.v:[];for(var b=0;b<J.length;b++)m[J[b].v]=Q.index}return[JSON.parse(JSON.stringify(G)),m]};
fy.prototype.Qr=function(G){this.Ld=JSON.parse(JSON.stringify(G[0]));var m=G[1],A=this.root.children;
for(var $=0;$<A.length;$++){var Q=A[$],H=Q.i.add.artb;if(H==null)continue;H.guideIndeces={t:"VlLs",v:[]}}for(var $=0;
$<m.length;$++)if(m[$]!=-1)this.g[m[$]].add.artb.guideIndeces.v.push({t:"long",v:$})};fy.prototype.aom=function(G){var m=this;
if(G[0])m.add.lnk2=G[0];else delete m.add.lnk2;if(G[1])m.add.FEid=G[1];else delete m.add.FEid;if(G[2])m.add.Patt=G[2];
else delete m.add.Patt};fy.prototype.ab8=function(G){var m=this,A=[],Q=[],H=[],Z=null,W=null,T=null;
for(var $=0;$<G.length;$++){var J=G[$];if(J.add.SoLd){A.push(J.add.SoLd.Idnt.v);Q.push(J.add.SoLd.placed.v)}if(J.add.PtFl)H.push(J.add.PtFl.Ptrn.v.Idnt.v);
if(J.add.lmfx){for(var b=0;b<hK.HK.length;b++){var O=J.add.lmfx[hK.HK[b]].v;for(var a=0;a<O.length;a++)if(O[a].v.Ptrn){var e=O[a].v;
if(e.classID=="FrFX"&&e.PntT.v.FrFl!="Ptrn")continue;H.push(e.Ptrn.v.Idnt.v)}}}var R=J.add.vstk;if(R&&R.strokeStyleContent.v.classID=="patternLayer"){H.push(R.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var p=m.add.lnk2,P=m.add.FEid,z=m.add.Patt;
if(p){Z=[];for(var $=0;$<p.length;$++)if(A.indexOf(p[$].kl)!=-1)Z.push(p[$]);if(Z.length==0)Z=null}if(P){W=[];
for(var $=0;$<P.length;$++)if(Q.indexOf(P[$].id)!=-1)W.push(P[$]);if(W.length==0)W=null}if(z){T=[];for(var $=0;
$<z.length;$++)if(H.indexOf(z[$].id)!=-1)T.push(z[$]);if(T.length==0)T=null}return[Z,W,T]};fy.prototype.It=function(){var G=this.Hv,m=this.Hv.length;
if(m!=0&&G[m-1].name=="Quick Mask")return G[m-1]};fy.prototype.BO=function(){return this.xd==bl.mh("% |/!)")||this.xd==bl.Xh("gP")};
fy.prototype.on=function(G){var m=this.add.artd;if(G!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:G},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};fy.prototype.Ci=function(G){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(G)==-1)this.add.FEid.push(G)};
fy.prototype.lN=function(G){var m=this.add.FEid.indexOf(G);this.add.FEid.splice(m,1);if(this.add.FEid.length==0)delete this.add.FEid};
fy.prototype.F=function(G){if(G==null)G=new f_(0,0,this.e,this.n);if(this.xR==null)this.xR=G;else this.xR=this.xR.wj(G)};
fy.prototype.abz=function(G){return this.xR!=null};fy.prototype.Sj=function(G){var m=this.g[G],A=this.root.Zu(G);
if(A==null)return!1;if(m.r8()||A.parent.children.indexOf(A)==0)return!1;return!0};fy.aq8=function(G){if(G.add.lnk2)for(var $=0;
$<G.add.lnk2.length;$++){var m=G.add.lnk2[$].kl;G.add.lnk2[$].kl=fy.p0()+m.slice(8);for(var A=0;A<G.g.length;
A++){var Q=G.g[A].add.SoLd;if(Q&&Q.Idnt.v==m)Q.Idnt.v=G.add.lnk2[$].kl}}};fy.prototype.$v=function(G,m,A){G.sort(function(p,P){return p-P});
var top=G[G.length-1],Q=this.g.slice(0),H=this.c.slice(0),J=[],b=[];for(var $=0;$<this.g.length;$++){if(G.indexOf($)!=-1)b.push(this.g[$]);
else J.push(this.g[$])}this.g_(b);this.c=[];var O=this.root.E8(this,!0);if(m)O=O.KB(m);if(A)O=O.wj(A);
if(O.My())O=new f_(0,0,100,100);var a=new f_(-O.x,-O.y,this.e,this.n),e=new Uint8Array(dt.aW("PSD").Af(this,0,0,[!0,!1]));
this.g_(Q);this.c=H;var R=new fy(this.g[top].getName());dt.aW("PSD").uJ(e.buffer,R);delete R.add.artd;
R.Xz=[];R.g_(R.g);R.Qr([[],[]]);fy.aq8(R);f.MB.S7(R,O);R.F();R.kn();R.$s();return[R,O,J,top]};fy.prototype.a5Y=function(G,m,A){var Q=this.$v(G),H=Q[0],J=Q[1],b=Q[2],top=Q[3],O;
if(A=="jpg")O=new Uint8Array(dt.aW("JPG").Af([[H.$s().buffer]],H.e,H.n,[80]));else O=new Uint8Array(dt.aW("PSD").Af(H,null,null,[!0,!1]));
if(m)b=this.g.slice(0);var a=this.Ak(O,H.name,J.x,J.y);if(top==this.g.length-1)b.push(a);else b.splice(m?top+1:top-G.length+1,0,a);
this.g_(b);this.c=[b.indexOf(a)]};fy.p0=function(G){if(G==null)G="";var m="";while(m==""||m==G){m="";
for(var $=0;$<8;$++)m+=Math.floor(Math.random()*16).toString(16)}return m};fy.prototype._s=function(G){if(G==null)return;
if(this.add.Patt==null)this.add.Patt=[];var m=this.add.Patt;for(var $=0;$<m.length;$++)if(m[$].id==G.id)return;
m.push(G)};fy.prototype.Ak=function(G,m,A,Q,H){if(this.add.lnk2==null)this.add.lnk2=[];var J=null,p=!1;
for(var $=0;$<this.add.lnk2.length;$++)if(N.A5(G,this.add.lnk2[$].raw)){J=this.add.lnk2[$].kl;break}if(J==null){var b=dt.mG(G.buffer);
J=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f";var O=new c.Sf;O.kl=J;O.Ez=b=="psd"?"8BIM":"    ";O.Vc=m+"."+b;
O.D2=b=="psd"?"8BPB":"    ";O.open=0;O.raw=G;O.type="liFD";O._D=2;this.add.lnk2.push(O)}var a=this.Lg(J),e=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f",R=this.uA();
R.mw(m);if(a!=null){var P=0,z=0,Z=this.e,W=this.n;if(H){P=H.x;z=H.y;Z=H.e;W=H.n}var T=R.rect=a.CX[1].clone();
T.offset(P+A,z+Q);var i=Math.max(T.e/Z,T.n/W),p=H!=null&&i>1.0001;if(p){T.e=Math.round(T.e/i);T.n=Math.round(T.n/i);
T.x=Math.round(P+(Z-T.e)/2);T.y=Math.round(z+(W-T.n)/2)}else if(H!=null&&dt.mG(G.buffer)=="pdf"&&this.SV!=144){var i=144/this.SV;
T.e=Math.round(T.e/i);T.n=Math.round(T.n/i);p=!0}R.buffer=N.$(T.Z()*4);if(!p)N.Gy(a.CX[0],R.buffer)}R.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:J},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:e},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:N.iZ.$(a?a.CX[1]:R.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:R.rect.e},Hght:{t:"doub",v:R.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var X=N.H.Zt(R.rect).s;R.add.SoLd.Trnf=f.Q.J_(X);R.add.SoLd.nonAffineTransform=f.Q.J_(X);if(p)R.wH(this,!1);
return R};fy.prototype.$s=function(G){if(G!=null){this.F();this.kn(G);var m=this.buffer;if(h.wq)this.Dc.get(m);
else m=m.slice(0);this.F();this.kn();return m}if(this.xR){this.kn();this.xR=null}if(h.wq&&this.f_){this.Dc.get(this.buffer);
this.f_=null;this.AB=!0}return this.buffer};fy.prototype.ad1=function(){for(var $=0;$<this.g.length;
$++)this.g[$].VU();this.F()};fy.prototype.acd=function(){for(var $=0;$<this.g.length;$++)if(this.g[$].add.lmfx)this.g[$].zr.sj=!0};
fy.prototype.Ti=function(){var G=this.iM.r1044;if(G==null){G=this.iM.r1044=new Uint8Array(4);var m=0;
for(var $=0;$<this.g.length;$++)m=Math.max(m,this.g[$].add.lyid);V.na(G,0,m)}var A=V.l(G,0);V.na(G,0,A+1);
return A+1};fy.prototype.fE=function(G,m,A){if(G==null)G=!0;var Q=this;if(Q.UX.length!=0)return!0;if(Q.c.length!=1){if(G)alert(Q.c.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.CZ(G,m,A)};fy.prototype.CZ=function(G,m,A){if(G==null)G=!0;if(m==null)m=!1;var Q=this;
if(Q.UX.length!=0)return!0;for(var $=0;$<Q.c.length;$++){var H=Q.g[Q.c[$]],J=m||H.Sm<=0;if(H.add.lsct!=null&&H.add.lsct!=fM.Wd&&H.Sm!=1){if(G)alert(f5.get([15,7,2]));
return!1}if(J&&!H.wC()){if(G)alert(f5.get([15,7,2]));return!1}if(J&&H.add.TySh){return this.akM(G,[15,7,3],A)}if(J&&H.add.SoLd){return this.akM(G,[15,7,4],A)}if(H.AL(1)||H.AL(31)){if(G)alert(f5.get([6,57,0]));
return!1}}return!0};fy.prototype.akM=function(G,m,A){if(G&&typeof G=="object"){var Q=window.confirm(f5.get(m)+". "+f5.get([6,8])+"?");
if(Q){var H=new j8(r.E.NH,!0);H.data={YI:"rasterizeLayer",aL:{classID:"rasterizeLayer",null:ah.TH("Lyr",!0)}};
G.u(H)}return A?Q:!1}if(G)alert(f5.get(m));return!1};fy.prototype.a3T=function(G){var m=this.root.Zu(G);
if(m.parent)return m.i.HX()&&this.a3T(m.parent.index);else return m.i.HX()};fy.prototype.yo=function(){var G=this;
if(G.add.artd&&G.c.length!=0){var m=G.root.Zu(G.c[0]);while(m.parent.parent)m=m.parent;if(m.i.add.artb)return m.index}return-1};
fy.prototype.alL=function(){var G=this.g[this.c[0]];if(G.Sm<=0&&!G.rect.c0(this.q.rect)){alert("Selected area is empty.");
return!1}if(this.c.length==1&&this.q){var m=N.$(this.q.channel.length);N.uC(G.buffer,G.rect,m,this.q.rect);
N.au(this.q.channel,m);if(N.x3(m,0)){alert("Selected area is empty.");return!1}}return!0};fy.prototype.BQ=function(){if(this.iM["r"+1037]==null)this.vI(30);
return V.Ys(this.iM["r"+1037],0)};fy.prototype.vI=function(G){if(this.iM["r"+1037]==null)this.iM["r"+1037]=new Uint8Array(4);
if(V.Ys(this.iM["r"+1037],0)==G)return;V.Lt(this.iM["r"+1037],0,G);this.acd()};fy.prototype.qp=function(){if(this.iM["r"+1049]==null)this.d_(30);
return V.Ys(this.iM["r"+1049],0)};fy.prototype.d_=function(G){if(this.iM["r"+1049]==null)this.iM["r"+1049]=new Uint8Array(4);
if(V.Ys(this.iM["r"+1049],0)==G)return;V.Lt(this.iM["r"+1049],0,G);this.acd()};fy.prototype.Nd=function(G){if(this.add.lnk2==null)return null;
for(var $=0;$<this.add.lnk2.length;$++)if(this.add.lnk2[$].kl==G)return this.add.lnk2[$];return null};
fy.prototype.auD=function(G){var m=this.Nd(G);if(m==null)return!1;var A=dt.mG(m.raw.buffer);if(A==null)return!1;
if(dt.aW(A)!=null||A=="psd")return!0;return!1};fy.prototype.Lg=function(G,m,A,Q){var H=this.Nd(G);if(H==null)return null;
H.$s(m,A,Q);if(H.CX)return H};fy.prototype.aba=function(){var G=this.e,m=this.n;if(h.wq&&this.Dc==null)this.Dc=new h.NI(G,m,!0);
if(this.buffer==null||this.buffer.length!=G*m*4||h.wq&&(this.Dc.e!=G||this.Dc.n!=m)){this.buffer=N.$(G*m*4);
if(this.Dc)this.Dc.delete();if(h.wq)this.Dc=new h.NI(G,m,!0)}};fy.prototype.aie=function(){this.aba();
if(h.wq){this.Dc.set(this.buffer)}};fy.prototype.kn=function(G){var m=this.e,A=this.n,Q=new f_(0,0,m,A),H=Q.KB(this.xR);
this.aba();if(H.My())return;if(!H.A5(Q)){if(!h.wq){var J=N.Pn(H.Z()*4);N.Pr(J,H,this.buffer,Q)}if(h.wq){h.Hj(this.Dc,H);
h.Qh(0)}}else{if(h.wq){this.Dc.set(null)}else{this.buffer.fill(0)}}var b=Date.now(),O=h.wq?this.Dc:this.buffer;
if(G==null)G=1e9;var a=this.root.children;for(var $=0;$<a.length;$++){var e=a[$].i;if(e.HX()&&e.add.artb){var R=e._Q(),p=H.KB(R),P=e.nE();
if(P!=0){if(h.wq){h.Hj(O,p);h.Qh(P);h.Qh(P)}else N.aq4(O,Q,p,P)}}}this.root.L4(O,Q,H,this,[],G);this.f_=this.xR.clone()};
fy.prototype.uA=function(G){var m=new c;m.rect=new f_(0,0,0,0);m.buffer=N.$(1);m.add.luni=new dw(0,0);
if(G!=!0)m.add.lyid=this.Ti();m.add.lsct=fM.Wd;m.add.lclr=0;m.add.fxrp=new dw(0,0);return m};fy.prototype.uF=function(G){var m=this.uA(G);
m.mw("</Layer group>");m.add.lsct=fM.SB;m.$G=24;return m};fy.prototype.CP=function(){return this.kZ!=this.DK};
fy.prototype.jm=function(G){while(this.history.length>this.kZ+1)this.history.pop();if(this.DK>this.kZ)this.DK=-1;
if(G.b.id!=f.uX){this.HV=!0;if(this.Ve.lastAppliedComp){delete this.Ve.lastAppliedComp;this.AB=!0}}this.history.push(G);
this.kZ++;this.AB=!0;var m=fi.ZZ()?60:30,A=0;for(var $=this.history.length-1;$>=0;$--){var Q=this.history[$];
if(Q.v9)continue;A++;if(A==m){this.kZ-=$;this.history=this.history.slice($);break}}};fy.prototype.eL=function(){if(this.kZ!=this.history.length-1)return null;
return this.history[this.history.length-1]};fy.prototype.n3=function(G,m,A,Q){if(G==null)G=!1;var H=m!=null?[m]:this.c.slice(0);
if(Q){var J=[];for(var $=0;$<H.length;$++){var b=this.g[H[$]],O=b.yU;if(b.zf&&O!=0&&J.indexOf(O)==-1)J.push(O)}if(J.length!=0)for(var $=0;
$<this.g.length;$++){var b=this.g[$],O=b.yU;if(b.zf&&O!=0&&J.indexOf(O)!=-1&&H.indexOf($)==-1)H.push($)}}var a=[];
for(var $=0;$<H.length;$++){var e=this.GM(H[$],G);for(var R=0;R<e.length;R++)if(a.indexOf(e[R])==-1)a.push(e[R]);
if(A){var jw=this.root.Zu(H[$]);while(jw.parent!=null&&jw.parent.parent!=null){jw=jw.parent;if(a.indexOf(jw.index)==-1){a.push(jw.index,jw.cI)}}}}return a};
fy.prototype.xG=function(G,m,A){var Q=this,H=Q.n3(!1,G,null,A);H.sort(function(U,M){return U-M});var J={};
for(var b=0;b<Q.g.length;b++){var O=Q.g[b].getName();J[O]=!0}var a=[];for(var $=0;$<H.length;$++){var e=Q.g[H[$]].clone(),T,i;
e.add.lyid=Q.Ti();e.add.lspf=0;if(e.Ct()){var R=e.mv(Q),p=fy.arS(R);Q.Ci(p);e.add.SoLd.placed.v=p.id}else if(e.add.SoLd){var P=e.add.SoLd.placed.v;
e.add.SoLd.placed.v=fy.p0(P.slice(0,8))+P.slice(8)}e.hM(Q);var z=e.getName(),Z=z.length;while(48<=z.charCodeAt(Z-1)&&z.charCodeAt(Z-1)<=57)Z--;
var W=parseInt(z.slice(Z));if(isNaN(W)){if(z.endsWith(" copy")){W=1;T=z.slice(0,z.length-5)}else{W=0;
T=z}}else if(z.slice(0,Z).endsWith(" copy ")){W=W;T=z.slice(0,Z-6)}else{W=0;T=z}W++;while(!0){i=T+" copy"+(W==1?"":" "+W);
if(J[i]==null)break;W++}var X=H.indexOf(this.root.Zu(H[$]).parent.index)!=-1;if(z=="Background"&&Q.g.length==1)i="Layer 1";
if(m!=!0&&!X)e.mw(i);J[i]=!0;a.push(e)}return a};fy.arS=function(G){return{id:fy.p0(G.id.slice(0,8))+G.id.slice(8),buffer:G.buffer.slice(0),rect:G.rect.clone(),D:G.D?G.D.clone():null}};
fy.ac0=function(G){return{id:G,rect:new f_,buffer:N.$(1),D:new c.Mz}};fy.y0=function(G,m){if(m==null)m={vmsk:new c.Rl};
if(m.vogk==null){m.vogk=[];var A=N.U.Ya(m.vmsk.Y);for(var Q=0;Q<A;Q++)m.vogk.push(N.Nv.Pn())}return{name:G,lW:0,add:m}};
fy.prototype.S9=function(G){var m=[],A=[],Q=this,J=0;for(var $=1;$<Q.Sq.length;$++){var H=Q.Sq[$];H.lW=-1-$;
m.push(H);if(Q.rY.indexOf($)!=-1)A.push(m.length-1)}if(Q.Sq[0].add.vmsk.Y.length>2){var H=Q.Sq[0];H.lW=-1;
m.push(H);if(Q.rY.indexOf(0)!=-1)A.push(m.length-1)}var b=Q.EJ==null;if(b)Q.EJ=[];for(var $=Q.c.length-1;
$>=0;$--){var O=Q.g[Q.c[$]],a=O.add.TySh;if(O.add.vmsk!=null&&(O.ri||O.gX())){var H=fy.y0("\""+O.getName()+"\" Shape Path",O.add);
H.lW=Q.c[$];m.push(H);if(b)Q.EJ.push(J);if(Q.EJ.indexOf(J)!=-1)A.push(m.length-1);J++}if(G!=!0&&a&&a.add&&N.iZ.zK(a.yF)){var H=fy.y0("\""+O.getName().slice(0,10)+"..\" Text Path",a.add);
H.lW=1e6+Q.c[$];m.push(H);A.push(m.length-1);J++}}if(A.length==0&&G){Q.Sq[0].lW=-1;Q.rY=[0];A.push(m.length);
m.push(Q.Sq[0])}return[m,A]};fy.prototype.GM=function($,G){var m=[],jw=this.root.Zu($);if(jw)jw.LQ(m,G);
return m};fy.prototype.Ao=function(){this.root.pt(this,new f_(0,0,this.e,this.n),32*f.G())};fy.prototype.g_=function(G){for(var $=0;
$<this.g.length;$++){var m=this.g[$];if(G.indexOf(m)==-1){m.zr.aui();m.F()}}var A=0;for(var $=0;$<G.length;
$++)if(G[$].add.artb)A++;this.on(A);this.g=G.slice(0);this.WW()};fy.prototype.WW=function(){var G=this.g,m=G.length;
this.root=new i2;var A=this.uA(!0);A.w4="pass";A.add.lsct=fM.UK;A.mw("");var Q=this.uF(!0),H=[Q];for(var $=0;
$<m;$++)H.push(G[$]);H.push(A);this.root.oT(H,0,0);if(this.c.length==0)this.c=[m-1]};fy.prototype.mU=function(){if(this.c.length!=1)return;
var G=this.root.Zu(this.c[0]);while(G.parent!=null){var m=G.parent.i;m.add.lsct=fM.UK;G=G.parent}this.Iy=this.a3F=!0};
fy.prototype.ajU=function(){this.WW();var G=[this.root],da=0;while(G.length!=0){var top=G.pop();da++;
if(top.i.add.lsct==fM.UK)for(var $=0;$<top.children.length;$++)G.push(top.children[$])}if(da>1e3){var m=this.root.children;
for(var $=0;$<m.length;$++)if(m[$].i.add.lsct==fM.UK)m[$].i.add.lsct=fM.mJ}};fy.xU=function(G,m,A,Q,H,J,b){var O={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:Q},artboard:{t:"bool",v:J},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:G}},Hght:{t:"UntF",v:{type:"#Rlt",val:m}},Rslt:{t:"UntF",v:{type:"#Rsl",val:A}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:H}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
if(H=="Clr")O.Nw.v.FlCl={t:"Objc",v:b};return{YI:"make",aL:O}};fy.asf=function(G,m){var A=0,Q=0,H=72,J=m.aaT,b=G.preset&&G.preset.v=="Clipboard";
if(b){A=J.e;Q=J.n}else{A=G.Wdth.v.val;Q=G.Hght.v.val;H=G.Rslt.v.val}var O=new fy((G.Nm?G.Nm.v:f5.get([11,7]))+".psd");
O.e=A;O.n=Q;O.SV=H;var a=G.Fl?G.Fl.v.Fl:"Wht";if(G.artboard&&G.artboard.v){var e=O.uA();e.mw("Artboard 1");
e.add.lsct=fM.UK;e.I_(new f_(0,0,A,Q));e.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[a]};
if(a=="Clr")e.add.artb.Clr={t:"Objc",v:N.X.N4(N.X.SR(G.FlCl.v))};e.w4="pass";e.$G=24;var R=O.uA();R.mw("Layer 1");
O.g_([O.uF(),R,e]);O.on(1);O.c=[1]}else{var p=O.uA(),P=0;p.mw("Background");O.g_([p]);p.add.lspf=1<<2;
if(a=="Clr"){P=N.X.SR(G.FlCl.v);P=255<<24|Math.round(P.h)<<16|Math.round(P.z)<<8|Math.round(P.p)}else{var z=m.qU;
z=(z&255)<<16|(z>>>8&255)<<8|z>>>16;P={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|z}[a]}p.rect=new f_(0,0,A,Q);
p.buffer=N.$(A*Q*4);N.w8(p.buffer,P)}O.buffer=N.$(A*Q*4);return O};function dE(G){this.EY=G;this.V=0;
this.k5=1;this.r=new dw(0,0);this.j7=new dw(0,0);this.pI=0;this._T=[1,1,1];this.Td=new f_(0,0,1,1);this.a0S=new f_(0,0,G.e,G.n);
this.L2=null;this.QW=null;this.Z2=new Uint32Array(0);this.i8=null;this.so=null;this.dO=N.$(0);this.dE=null;
this.cw=null}dE.prototype.AQ=function(G){var m=new ci,A=this.Td,Q=this.EY,H=G?this.k5:this.V,J=G?this.j7:this.r,b=Math.round((A.e-Q.e*H)/2+J.x),O=Math.round((A.n-Q.n*H)/2+J.y);
m.translate(-b,-O);m.scale(1/H,1/H);var a=Q.e/2,e=Q.n/2;m.translate(-a,-e);m.rotate(this.pI);m.translate(a,e);
return m};dE.prototype.aaY=function(G){var m=this.Td,A=this.EY,Q=Math.atan2(-G.h,G.Uj),H=A.e/2,J=A.n/2;
G.translate(-H,-J);G.rotate(-Q);G.translate(H,J);var b=1/G.kF();G.scale(b,b);var O=-G.Zh,a=-G.bx,e=Math.round(O-(m.e-A.e*b)/2),R=Math.round(a-(m.n-A.n*b)/2);
if(Math.abs(b-Math.round(b))<1e-6)b=Math.round(b);this.pI=Q;this.V=b;this.r=new dw(e,R)};dE.prototype.fY=function(G,m){var A=this.AQ();
return A.Yw(new dw(G,m))};dE.prototype.cD=function(G,m){var A=this.AQ();A.G3();return A.Yw(new dw(G,m))};
function hK(){}hK.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");hK.HK="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
hK.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];hK.abr=["DrSh","IrSh","SoFi","GrFl","FrFX"];
hK.WX=["Clr"];hK.ln="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");hK.g2=["Ptrn","Angl","Scl","Algn","phase"];
hK.eY={z3:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ad6:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",akl:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",adA:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",hq:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
hK.eY.z3="\"Clr\": "+hK.eY.z3;hK.eY.X="\"Grad\":"+hK.eY.ad6+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
hK.eY.hq="\"Ptrn\":"+hK.eY.hq+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
hK.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
hK.in=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+hK.eY.z3+","+hK.eY.X+","+hK.eY.hq+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hK.eY.z3+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hK.eY.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+hK.eY.hq+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
hK.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
hK.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],I8:["SClr","GrFl","Ptrn"],aaQ:[[13,0],[12,37],[12,62]]};
hK.vc={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aeX:["SrcC","SrcE"],alr:[[19,5,1],[12,69]]};hK.$w={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],aki:["SfBL","PrBL","Slmt"],a6L:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
hK.nh={tJ:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],rr:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Tn:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+hK.eY.z3+"}")},strokeStyleResolution:{t:"doub",v:72}}};
hK.XE=[{classID:"null",Clr:JSON.parse(hK.in[5]).Clr},{classID:"null",Grad:JSON.parse(hK.in[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(hK.in[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var en={};en.CR=function(G,m){function A(G,P){if(G==null)return null;var z=G[P].v,Z;if(z.length!=0){Z=z[0].v;
if(!Z.enab.v)Z=null}return Z}var Q=m.SoCo,H=m.GdFl,J=A(G,"solidFillMulti"),b=A(G,"gradientFillMulti");
if(J==null&&b==null)return[Q,H];var O=en.abh;if(Q&&J&&b==null){var a=JSON.parse(JSON.stringify(Q));a.Clr.v=O(J.Clr.v,Q.Clr.v,J);
return[a,null]}if(H&&J&&b==null){var e=JSON.parse(JSON.stringify(H)),R=e.Grad.v.Clrs.v;for(var $=0;$<R.length;
$++){var p=R[$].v.Clr;p.v=O(J.Clr.v,p.v,J)}return[null,e]}if(Q&&b){var e=JSON.parse(JSON.stringify(b)),R=e.Grad.v.Clrs.v;
for(var $=0;$<R.length;$++){var p=R[$].v.Clr;p.v=O(p.v,Q.Clr.v,b)}return[null,e]}return[J,b]};en.aar={OT:N.$(4),_5:N.$(4),p:new f_(0,0,1,1)};
en.abh=function(G,m,A){var Q=ib.Bn(A.Md.v.BlnM),H=A.Opct.v.val/100,J=en.aar;G=N.X.SR(G);m=N.X.SR(m);
J.OT[0]=G.p;J.OT[1]=G.z;J.OT[2]=G.h;J.OT[3]=255;J._5[0]=m.p;J._5[1]=m.z;J._5[2]=m.h;J._5[3]=255;N.a.zc(Q,J.OT,J.p,J._5,J.p,J.p,H);
return{classID:"RGBC",Rd:{t:"doub",v:J._5[0]},Grn:{t:"doub",v:J._5[1]},Bl:{t:"doub",v:J._5[2]}}};en.abA=function(G,m,A){var Q=G;
G=G.slice(0);var H=ib.Vh[ib.uY.indexOf(m.Md.v.BlnM)],J=N.X.SR(m.Clr.v),b=4278190080|Math.round(J.h)<<16|Math.round(J.z)<<8|Math.round(J.p),O=N.$(A.Z()*4);
N.w8(O,b);N.a.zc(H,O,A,G,A,A,m.Opct.v.val/100);for(var $=0;$<G.length;$+=4)G[$+3]=Q[$+3];return G};en.UA=function(G,m){var A=["Sz","blur","Sftn","Dstn"];
for(var $=0;$<hK.order.length;$++){var Q=hK.order[$],H=G[hK.HK[$]].v;for(var J=0;J<H.length;J++){var b=H[J].v;
for(var O=0;O<A.length;O++){var a=b[A[O]];if(a){var e=a.v.val,R=e;R=Math.max(e==0?0:1,R*m);if(Q=="ChFX")R=Math.min(R,250);
if(Q=="ebbl"){if(A[O]=="blur")R=Math.min(R,250);if(A[O]=="Sftn")R=Math.min(R,16)}a.v.val=Math.round(R)}}if(Q=="ebbl"||Q=="patternFill"||Q=="FrFX")if(b.Ptrn&&b.Scl)b.Scl.v.val=Math.max(1,Math.min(1e3,b.Scl.v.val*m))}}};
en.asp=function(G,m,A){var Q=new f_(-.5,-.5,1,1);for(var $=0;$<hK.order.length;$++){var H=hK.order[$],J=G[hK.HK[$]].v;
for(var b=0;b<J.length;b++){var O=J[b].v,p;if(!O.enab.v)continue;var a=O.blur?O.blur.v.val+1:0,e=O.Ckmt?O.Ckmt.v.val/100:0,R=Math.round(a*e);
if(H=="DrSh"||H=="IrSh"&&A){p=new f_(-.5,-.5,1,1);p.e0(a,a);en.dk(p,O,m,0)}if(H=="OrGl"||H=="IrGl"&&A){p=new f_(-.5,-.5,1,1);
p.e0(a,a)}if(H=="FrFX"){var P=en.PT(O),z=P[1];if(A)z=Math.max(P[0],z);p=new f_(-.5,-.5,1,1);p.e0(Math.ceil(z),Math.ceil(z))}if(H=="ebbl"){var a=O.blur.v.val,Z=O.bvlS.v.BESl;
if(Z=="Embs"||Z=="PlEb")a/=2;var W=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],i=["In","Out"],X=O.bvlT.v.bvlT!="SfBL"?a:a*.43,U=Math.round(a);
p=new f_(-U-1,-U-1,2*U+2,2*U+2)}if(A&&H=="ChFX"){p=new f_(-.5,-.5,1,1);p.e0(a,a);var M=p.clone();en.dk(p,O,m,0);
en.dk(M,O,m,Math.PI);p=p.wj(M)}if(p)Q=Q.wj(p)}}if(Q.x!=Math.ceil(Q.x)){Q.x=Math.ceil(Q.x);Q.e-=1}if(Q.y!=Math.ceil(Q.y)){Q.y=Math.ceil(Q.y);
Q.n-=1}Q.e=Math.floor(Q.e);Q.n=Math.floor(Q.n);return Q};en.PT=function(G){var m=0,A=0,Q=G.Styl.v.FStl,H=G.Sz.v.val;
if(Q=="OutF")A=H;if(Q=="InsF")m=H;if(Q=="CtrF")m=A=H/2;return[m,A]};en.a5j=function(G){if(h.wq&&G.XT==null){G.XT=new h.NI(G.Yb.e,G.Yb.n);
G.XT.set(G.uw);delete G.uw;if(G.mE){G.dI=new h.CU(G.Yb.e,G.Yb.n);G.dI.set(G.mE);delete G.mE}if(G.ys){G.HN=new h.CU(G.Yb.e,G.Yb.n);
G.HN.set(G.ys);delete G.ys}}};en.a1_=function(G){if(G.XT)G.XT.delete();if(G.dI)G.dI.delete();if(G.HN)G.HN.delete()};
en.akH=function(G){if(G.all==null)return;for(var $=0;$<G.all.length;$++){en.a1_(G.all[$])}};en.a8E=function(G,m,A,Q,H,J){var b=en.nr(A,Q,G,m,H,J);
for(var $=0;$<b.all.length;$++)en.a5j(b.all[$]);return b};en.ahS=function(G){for(var $=0;$<hK.order.length;
$++){var m=hK.order[$],A=hK.HK[$],Q=G[A].v;for(var H=0;H<Q.length;H++){var J=Q[H].v;if(J.enab.v&&["patternFill","GrFl","SoFi"].indexOf(m)==-1)return!0}}return!1};
en.nr=function(G,m,A,Q,H,J){if(J==null)J=Q;var b=0,O=0;for(var $=0;$<hK.order.length;$++){var a=hK.order[$],e=hK.HK[$],R=G[e].v;
for(var p=0;p<R.length;p++){var P=R[p].v;if(a=="DrSh"&&P.enab.v&&P.Ckmt.v.val>0&&P.blur.v.val>0)b=Math.max(b,Math.ceil(P.Ckmt.v.val*P.blur.v.val/100));
if(a=="OrGl"&&P.enab.v&&P.Ckmt.v.val>0&&P.blur.v.val>0&&P.GlwT.v.BETE=="SfBL")b=Math.max(b,Math.ceil(P.Ckmt.v.val*P.blur.v.val/100));
if(a=="OrGl"&&P.enab.v&&P.blur.v.val>0&&P.GlwT.v.BETE=="PrBL")b=Math.max(b,P.blur.v.val);if(a=="FrFX"&&P.enab.v&&P.Sz.v.val>0){if(P.Styl.v.FStl=="OutF")b=Math.max(b,P.Sz.v.val);
if(P.Styl.v.FStl=="CtrF")b=Math.max(b,Math.ceil(P.Sz.v.val/2));O=Math.max(O,en.PT(P)[1])}}}var z=new en.XN(A,Q,b,en.ahS(G)),Z=-Q.x,W=-Q.y,T={type:{},all:[]};
for(var i=0;i<hK.order.length;i++){var a=hK.order[i],e=hK.HK[i];T.type[a]=[];for(var X=G[e].v.length-1;
X>=0;X--){var U=G[e].v[X].v,E;if(!U.enab.v)continue;var M=U.blur?U.blur.v.val:0,C=U.Ckmt?U.Ckmt.v.val/100:0,L=M*C;
if(a=="DrSh"){var l=z.sk(L,M-L,!0),y=l.Br,Y=l.PR;Y.offset(Z,W);en.Bq(y,U,!1);en.dk(Y,U,H,0);var F=N.$(Y.Z()*4);
en._I(F,U.Clr.v);N.I5(y,F,3);E={uw:F,Yb:Y,at4:U.layerConceals.v}}else if(a=="IrSh"){var l=z.sk(L,M-L,!1);
en.dk(l.PR,U,H,0);var Y=z.rect().clone(),y=N.$(Y.Z());y.fill(255);N.qg(l.Br,l.PR,y,Y);en.Bq(y,U,!0);
var F=N.$(Y.Z()*4);en._I(F,U.Clr.v);N.I5(y,F,3);Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="GrFl"){var F=N.$(z.rect().Z()*4);
en.N_(U,F,z.rect(),H,null,J);var Y=z.rect().clone();Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="SoFi"){var F=N.$(z.Br().length*4);
en._I(F,U.Clr.v);var Y=z.rect().clone();Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="ebbl"){var w=!1;if(w)console.log(U);
var j=Date.now(),_=U.bvlS.v.BESl;if(_=="strokeEmboss"){var D=G.frameFXMulti.v;if(D.length==0)continue;
D=D[0].v;if(!D.enab.v)continue;var t=D.Styl.v.FStl;if(t=="OutF")_="OtrB";if(t=="CtrF")_="Embs";if(t=="InsF")_="InrB"}var M=U.blur.v.val;
if(M==0)M=.7;if(_=="Embs"||_=="PlEb")M/=2;var K=["OtrB","InrB","Embs","PlEb","strokeEmboss"],d=["SfBL","PrBL","Slmt"],o=["In","Out"],k=U.bvlT.v.bvlT!="SfBL"?M:M*.45,v=Math.round(M),u=z.rect().clone(),B=u.clone();
B.e0(v,v);var S=B.e,I=B.n,q=S*I,hw=N.$(q);N.qg(z.Br(),u,hw,B);var fY=new Float64Array(q),s=new Float64Array(q);
N.style.$M(hw,fY,S,I);N.G3(hw);N.style.$M(hw,s,S,I);if(w)console.log("distTransform computed",Date.now()-j);
for(var $=0;$<q;$++)s[$]=s[$]-fY[$];for(var $=0;$<q;$++){var hZ=s[$];if(hZ<-k)s[$]=-k;else if(hZ>k)s[$]=k}if(w)console.log("summing + cropping",Date.now()-j);
if(U.bvlT.v.bvlT=="SfBL"){var bG=Math.pow(M*.21,1.22);if(!0)bG=Math.max(bG,2);var aY=N.ua.U0(bG,2);N.ua.sf(s,fY,B,aY[0]>>>1);
N.ua.sf(fY,s,B,aY[1]>>>1)}if(w)console.log("blurring",Date.now()-j);var fj=s,jg=fj.slice(0);if(U.useShape.v){var ae=Math.min(100,U.Inpr.v.val+1)/100;
if(_!="OtrB"&&_!="InrB")ae=1;var iB=N.RH.OY(U.MpgS.v.Crv.v,2e3),eg=Math.round(2e3/ae);iB=N.RH.a8H(iB,eg,_=="InrB");
var dM=.5/k;for(var $=0;$<q;$++){var fK=fj[$],aQ=.99999*(fK+k)*dM;fj[$]=-k+2*k*iB[~~(aQ*(eg-1))]}if(w)console.log("applying shape",Date.now()-j)}if(U.useTexture.v){var cQ=N.$(S*I*4);
en.ke(U,cQ,B,H.add.Patt,m);var a7=N.$(S*I);N.le(cQ,a7);var gz=N.$(S*I);N.ua.hO(a7,gz,B,1);a7=gz;var bQ=M*U.textureDepth.v.val*(1/100)*(1/255);
if(U.InvT.v)bQ=-bQ;for(var $=0;$<q;$++)fj[$]+=-bQ*a7[$];if(w)console.log("applying texture",Date.now()-j)}var d4=(U.bvlT.v.bvlT=="SfBL"?1:.5)*(U.bvlD.v.BESs=="In"?1:-1)*U.srgR.v.val/100;
for(var $=0;$<q;$++)fj[$]*=d4;if(w)console.log("scaling",Date.now()-j);var j2=U.uglg&&U.uglg.v?H.BQ():U.lagl.v.val;
j2=j2*(Math.PI/180);var j7=U.uglg&&U.uglg.v?H.qp():U.Lald.v.val;j7=j7*(Math.PI/180);var fG=Math.cos(j2)*Math.cos(j7),bT=-Math.sin(j2)*Math.cos(j7),je=Math.sin(j7),ba=new Float64Array(q),j6=new Float64Array(q),cl=_=="PlEb";
for(var js=0;js<I;js++)for(var fR=0;fR<S;fR++){var $=js*S+fR,iW=0,fx=0,dm=1;if(js!=0&&js!=I-1&&fR!=0&&fR!=S-1){var fq=fj[$-S-1],h2=fj[$-S+1],jj=fj[$+S-1],iM=fj[$+S+1];
iW=-.125*(h2+2*fj[$+1]+iM-(fq+2*fj[$-1]+jj));fx=-.125*(jj+2*fj[$+S]+iM-(fq+2*fj[$-S]+h2))}else{var aC=fj[$];
fx=-(js==0?fj[$+S]-aC:js==I-1?aC-fj[$-S]:.5*(fj[$+S]-fj[$-S]));iW=-(fR==0?fj[$+1]-aC:fR==S-1?aC-fj[$-1]:.5*(fj[$+1]-fj[$-1]))}var aB=1/Math.sqrt(iW*iW+fx*fx+1);
iW*=aB;fx*=aB;dm*=aB;var ep=iW*fG+fx*bT+dm*je,h6=ep;if(cl)h6=-iW*fG-fx*bT+dm*je;if(ep>0)ba[$]=ep;if(h6>0)j6[$]=h6}if(w)console.log("raycasting",Date.now()-j);
if(U.Sftn.v.val!=0){N.ua.S8(ba,fY,B,U.Sftn.v.val*.43);var dJ=fY,fY=ba,ba=dJ;if(cl){N.ua.S8(j6,fY,B,U.Sftn.v.val*.43);
var dJ=fY,fY=j6,j6=dJ}else N.Gy(ba,j6)}if(w)console.log("softening",Date.now()-j);var iB=N.RH.OY(U.TrnS.v.Crv.v,1024);
for(var $=0;$<q;$++){ba[$]=iB[~~(ba[$]*1024)];j6[$]=iB[~~(j6[$]*1024)]}if(w)console.log("contour remap",Date.now()-j);
S=Math.round(S);I=Math.round(I);var gs=N.$(S*I*4);en._I(gs,U.hglC.v);var ej=N.$(S*I*4);en._I(ej,U.sdwC.v);
var eH=N.$(S*I*4);en._I(eH,U.hglC.v);var hT=N.$(S*I*4);en._I(hT,U.sdwC.v);var dO=1/je,fE=1/(1-je),dM=1/k,hD=new Float64Array(1e3);
for(var $=0;$<1e3;$++)hD[$]=Math.pow($*.001,.2);for(var js=0;js<I;js++)for(var fR=0;fR<S;fR++){var $=js*S+fR,d9=4*$+3,iQ=0,iS=0;
iQ=ba[$];iS=j6[$];var bZ=Math.max(0,Math.min(.9999,(jg[$]+k*.993)*dM));bZ=hD[Math.floor(bZ*1e3)];var dy=bZ*(1-Math.min(1,iQ*dO)),jh=bZ*(1-Math.min(1,(1-iQ)*fE)),eE=bZ*(1-Math.min(1,iS*dO)),jr=bZ*(1-Math.min(1,(1-iS)*fE));
ej[d9]=Math.round(255*dy);gs[d9]=Math.round(255*jh);hT[d9]=Math.round(255*eE);eH[d9]=Math.round(255*jr)}if(w)console.log("baking textures",Date.now()-j);
B=z.rect().clone();B.e0(v,v);B.offset(Z,W);E={alh:U.bvlS.v.BESl=="strokeEmboss"};var dr=ib.Bn(U.hglM.v.BlnM),jL=U.hglO.v.val/100,dI=ib.Bn(U.sdwM.v.BlnM),aF=U.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(_)!=-1){E.HW={uw:gs,Yb:B,kb:dr,uD:jL};E.f3={uw:ej,Yb:B,kb:dI,uD:aF}}if(["OtrB","Embs","PlEb"].indexOf(_)!=-1){E.iG={uw:eH,Yb:B,kb:dr,uD:jL};
E.WD={uw:hT,Yb:B,kb:dI,uD:aF}}if(w)console.log(Date.now()-j)}else if(a=="patternFill"){var gd=z.rect(),F=N.$(gd.Z()*4);
en.ke(U,F,gd,H.add.Patt,m);var Y=gd.clone();Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="ChFX"){var F=N.$(z.Br().length*4);
en._I(F,U.Clr.v);var M=U.blur.v.val,eG=z.rect().clone();eG.e0(M,M);var bb=N.$(eG.Z()),hM=N.$(eG.Z());
N.qg(z.Br(),z.rect(),hM,eG);N.ua.zh(hM,bb,eG,M*.43);var cD=N.RH.m7(U.MpgS.v.Crv.v,256,!0);N.dV(bb,cD);
var fr=N.$(z.Br().length),cp=N.$(z.Br().length),cG=z.rect().clone();en.dk(cG,U,H,0);N.qg(bb,eG,fr,cG);
cG=z.rect().clone();en.dk(cG,U,H,Math.PI);N.qg(bb,eG,cp,cG);var eX=fr.length;for(var $=0;$<eX;$++)F[4*$+3]=Math.abs(fr[$]-cp[$]);
if(U.Invr.v)for(var $=0;$<eX;$++)F[4*$+3]=255-F[4*$+3];var Y=z.rect().clone();Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="OrGl"){var l;
if(U.GlwT.v.BETE=="SfBL")l=z.sk(L,M-L,!0);else l=z.apq(M,C,!0);var y=l.Br,Y=l.PR,eN=y.slice(0);en.aoa(y,U);
var F=N.$(Y.Z()*4);if(U.Grad==null){en._I(F,U.Clr.v);en.Bq(y,U,!1)}else{en.Bq(y,U,null);var iF={_3:y,X1:255,G9:0,VV:Y};
en.N_(U,F,Y,H,iF);var ay=U.Nose.v.val/100,iJ=Y.e;for(var $=0;$<eN.length;$++){var hY=255,gv=eN[$];if(gv<32){var ix=(gv+eN[$-1]+eN[$+1]+eN[$-iJ]+eN[$+iJ])*.2-1;
hY=Math.min(255,Math.round(Math.max(0,ix)*8))}y[$]=hY}en.a6x(y,U)}N.I5(y,F,3);Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="IrGl"){var l;
if(U.GlwT.v.BETE=="SfBL")l=z.sk(L,M-L,!1);else l=z.apq(M,C,!1);var y=l.Br,Y=l.PR;en.aoa(y,U);if(U.glwS.v.IGSr=="SrcC")N.G3(y);
var F=N.$(Y.Z()*4);if(U.Grad==null){en._I(F,U.Clr.v);en.Bq(y,U,!0)}else{en.Bq(y,U,null);var iF={_3:y,X1:255,G9:0,VV:Y};
en.N_(U,F,Y,H,iF);y.fill(255);en.a6x(y,U)}N.I5(y,F,3);Y.offset(Z,W);E={uw:F,Yb:Y}}else if(a=="FrFX"){var f1=en.PT(U),ao=f1[0],fm=f1[1],Y=z.rect().clone(),gE=null,bu=null;
Y.e0(Math.ceil(O),Math.ceil(O));if(fm>0){var l=z.sk(fm,0,!0);bu=l.Br;if(bu.length<Y.Z()){bu=N.$(Y.Z());
N.qg(l.Br,l.PR,bu,Y)}}if(ao>0){var l=z.sk(ao,0,!1);gE=N.$(Y.Z());gE.fill(255);N.qg(l.Br,l.PR,gE,Y)}Y.offset(Z,W);
var F=N.$(Y.Z()*4),gH=U.PntT.v.FrFl;if(gH=="SClr")en._I(F,U.Clr.v);if(gH=="GrFl")en.N_(U,F,Y,H,z.atD(ao,fm));
if(gH=="Ptrn")en.ke(U,F,Y,H.add.Patt,m);E={uw:F,Yb:Y,ys:bu,mE:gE}}T.type[a].push(E);if(a=="ebbl"){if(E.HW)T.all.push(E.HW,E.f3);
if(E.iG)T.all.push(E.iG,E.WD)}else{E.kb=ib.Bn(U.Md.v.BlnM);E.uD=U.Opct.v.val/100,T.all.push(E)}}}return T};
en.BX=function(G){var m=1/Math.sqrt(G.x*G.x+G.y*G.y+G.kr*G.kr);G.x*=m;G.y*=m;G.kr*=m};en.atx=function(G,m){return{x:G.y*m.kr-G.kr*m.y,y:G.kr*m.x-G.x*m.kr,kr:G.x*m.y-G.y*m.x}};
en.a0n=function(G,m){return G.x*m.x+G.y*m.y+G.kr*m.kr};en.a6x=function(G,m){var A=m.Nose.v.val/100;if(A>0)for(var $=0;
$<G.length;$++){var Q=G[$];Q=Math.min(510-(1+A)*N.style.SG($),Q);G[$]=Q}};en.JA=function(G){var m=en.El(),A=G.YX,Q=!1;
for(var $=0;$<32;$+=8)if(A[$]+A[$+1]+A[$+4]+A[$+5]!=0||A[$+2]+A[$+3]+A[$+6]+A[$+7]!=1020)Q=!0;if(Q){A=A.slice(0);
for(var $=0;$<40;$+=4){var H=A[$]/255,J=A[$+1]/255,b=A[$+2]/255,O=A[$+3]/255;A[$]=H-.001;A[$+1]=H==J?1e6:1/(J-H);
A[$+2]=b==O?-1e6:1/(b-O);A[$+3]=O+.001}}var a=G.add.iOpa!=null?G.add.iOpa/255:m.fill,e=G.add.vstk;if(e&&!e.fillEnabled.v&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0))a=0;
return{fill:a,Eu:Q?A:null,by:G.add.brst!=null?G.add.brst:m.by,aea:G.add.knko!=null?G.add.knko:m.aea,style:!1,BK:!1}};
en.El=function(){return{fill:1,Eu:null,by:[1,1,1],aea:0,style:!1,BK:!1}};en.Qf=function(G,m){if(m==null)return null;
var A=G.Idnt.v,Q=G.Nm.v;for(var $=0;$<m.length;$++)if(m[$].id==A)return m[$];for(var $=0;$<m.length;
$++)if(m[$].name==Q)return m[$];return null};en.aif=function(G,m,A){var Q=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var $=0;$<Q.length;$++){var H=G.v[Q[$]].v;for(var J=0;J<H.length;J++)if(H[J].v.Ptrn)m._s(en.Qf(H[J].v.Ptrn.v,A))}};
en.a2T=function(G,m,A){var Q=["patternFillMulti","ebblMulti","frameFXMulti"];for(var $=0;$<Q.length;
$++){var H=G.v[Q[$]].v;for(var J=0;J<H.length;J++)if(H[J].v.Ptrn){var b=H[J].v.Ptrn.v,O=en.Qf(b,A),a=en.Qf(b,m.add.Patt);
if(O==null&&a)A.push(a)}}};en.ke=function(G,m,A,Q,H){var J=en.Qf(G.Ptrn.v,Q);if(J!=null&&!A.My()){var b=J.g3,O=b[0],a=b[1],e=0;
N.xI(b);var R=(G.Scl?G.Scl.v.val:100)/100;while((R<.3||R==.5)&&b[e+2]){R*=a.e/b[e+3].e;e+=2;O=b[e];a=b[e+1]}var p=N.scale.ke(O,a.e,a.n),P=G.phase?G.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},z=G.Angl?G.Angl.v.val:0,Z=-A.x+P.Hrzn.v-1,W=-A.y+P.Vrtc.v-1;
if(G.Algn!=null&&!G.Algn.v){}else{Z+=H.x;W+=H.y}N.scale.vy(p,m,A.e,A.n,R,R,Z+1,W+1,z*Math.PI/180)}};
en.N_=function(G,m,A,Q,H,J){if(J==null)J=A;var b=G.Type?G.Type.v.GrdT:"shapeburst",O=G.Algn&&G.Algn.v?J:new f_(0,0,Q.e,Q.n),a=G.Angl?N.X.hQ(G,O):[new dw(0,0),new dw(100,0)],e=a[0].x,R=a[0].y,p=a[1].x-e,P=a[1].y-R,z=Math.sqrt(p*p+P*P);
z=1/(2*z*z);var Z=[p*z,P*z,-P*z,p*z],W=G.Rvrs?G.Rvrs.v:!1,T=G.Dthr?G.Dthr.v:!1;N.X.Ut(G.Grad.v,m,A,Z,e,R,W,hK.X.types.indexOf(b),0,0,H,T)};
en.a6c=function(G,m,A){for(var $=0;$<G.all.length;$++){var Q=G.all[$];Q.EU=Q.Yb.clone();Q.EU.offset(m,A)}};
en.apZ=function(G,m,A,Q,H,J){var b=h.wq?en.ahk:en.anJ;en.a6c(m,A.x,A.y);var O=m.type.DrSh;for(var $=0;
$<O.length;$++)if(!O[$].at4)b(O[$],Q,H,J)};en.ans=function(G,m,A,Q,H,J,b,O,a,e){var R=A,p=h.wq?en.ahk:en.anJ,P=h.wq?h.a.aR:N.a.B4,z;
z=m.type.DrSh;for(var $=0;$<z.length;$++)if(z[$].at4)p(z[$],Q,H,J);z=m.type.OrGl;for(var $=0;$<z.length;
$++)p(z[$],Q,H,J);var Z="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var W=0;W<Z.length;W++){var z=m.type[Z[W]];
for(var $=0;$<z.length;$++)p(z[$],b,R,J)}var T=m.type.ebbl[0],i=T!=null&&T.alh;z=m.type.FrFX;for(var $=0;
$<z.length;$++){var X=z[$];i2.NW.qg(O,e,a,e,J);p(X,a,e,J);if(i&&$==z.length-1){if(T.WD)p(T.WD,a,e,J);
if(T.iG)p(T.iG,a,e,J);if(T.f3)p(T.f3,a,e,J);if(T.HW)p(T.HW,a,e,J)}if(X.mE||X.dI)P(a,e,b,R,h.wq?X.dI:X.mE,X.EU,0,J,1);
if(X.ys||X.HN)P(a,e,Q,H,h.wq?X.HN:X.ys,X.EU,0,J,1)}if(!i&&T!=null){if(T.WD)p(T.WD,Q,H,J);if(T.iG)p(T.iG,Q,H,J);
if(T.f3)p(T.f3,b,R,J);if(T.HW)p(T.HW,b,R,J)}};en.anJ=function(G,m,A,Q){var H=en.El();H.fill=G.uD;H.style=!0;
N.a.zc(G.kb,G.uw,G.EU,m,A,Q,1,H)};en.ahk=function(G,m,A,Q){var H=en.El();H.fill=G.uD;H.style=!0;h.a.Dk(G.kb,G.XT,G.EU,m,A,Q,1,H)};
en.aoa=function(G,m){var A=1-m.Inpr.v.val/100,Q=1+Math.tan(A*(Math.PI/2)),H=G.length;for(var $=0;$<H;
$++)G[$]=Math.min(255,Math.round(G[$]*Q))};en.Bq=function(G,m,A){var Q=m.blur.v.val,H=Math.round(Q*(m.Ckmt.v.val/100));
if(Q>H){var J=N.RH.m7(m.TrnS.v.Crv.v,256,!0);N.dV(G,J)}if(A!=null&&m.Nose.v.val>0)N.style.gq(G,m.Nose.v.val/100,A)};
en._I=function(G,m,A){if(A==null)A=255;var Q=N.X.SR(m),H=A<<24|Q.h<<16|Q.z<<8|Q.p,J=new Uint32Array(G.buffer);
J.fill(H)};en.dk=function(G,m,A,Q){var H=m.uglg&&m.uglg.v?A.BQ():m.lagl.v.val;H=H*Math.PI/180+Q;var J=Math.cos(H)*m.Dstn.v.val,b=Math.sin(H)*m.Dstn.v.val;
G.x-=Math.round(J);G.y+=Math.round(b)};en.Uv=function(G){if(G==null)return null;var m=G.frameFXMulti.v;
if(m.length==0)return null;m=m[0].v;var A=JSON.parse(JSON.stringify(hK.nh.default));en.a76(m,A);return A};
en.a76=function(G,m){var A=hK.stroke.I8.indexOf(G.PntT.v.FrFl),Q=[hK.WX,hK.ln,hK.g2][A],H=m.strokeStyleContent.v={classID:hK.nh.Tn[A]};
for(var $=0;$<Q.length;$++)H[Q[$]]=G[Q[$]];m.strokeEnabled=G.enab;m.strokeStyleLineWidth=G.Sz;m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hK.nh.rr[hK.stroke.types.indexOf(G.Styl.v.FStl)];
m.strokeStyleOpacity=G.Opct;m.strokeStyleBlendMode=G.Md};en.QQ=function(G,m){var A=[];for(var $=0;$<G.length;
$++)A.push({t:"UntF",v:{type:"#Nne",val:Math.round(G[$]*m)}});return A};en.XN=function(G,m,A,Q){this.o9=m.clone();
this.asY=m.clone();this.asY.e0(A,A);if(Q){this.o9.e0(1,1);this.iF=N.$(this.o9.Z());N.qg(G,m,this.iF,this.o9)}else this.iF=G;
this.w6=null;this.pQ=null;this.Fq=null};en.XN.prototype.Br=function(){return this.iF};en.XN.prototype.rect=function(){return this.o9};
en.XN.prototype.U9=function(){return this.asY};en.XN.prototype.KR=function(){if(this.w6)return this.w6;
this.w6=this.Br().slice(0);N.G3(this.w6);return this.w6};en.XN.prototype.qz=function(){if(this.pQ)return this.pQ;
this.pQ=new Float64Array(this.rect().Z());N.style.$M(this.KR(),this.pQ,this.rect().e,this.rect().n);
return this.pQ};en.XN.prototype.kB=function(){if(this.Fq)return this.Fq;var G=this.U9(),m=N.$(G.Z());
N.qg(this.Br(),this.rect(),m,G);this.Fq=new Float64Array(G.Z());N.style.$M(m,this.Fq,G.e,G.n);return this.Fq};
en.XN.prototype.atD=function(G,m){var A={X1:-m,G9:G,VV:null,_3:null};if(m==0){A.VV=this.rect();A._3=this.qz();
return A}var Q=this.kB().slice(0),H=this.U9();A.VV=H;A._3=Q;for(var $=0;$<Q.length;$++)Q[$]=-Q[$];if(G==0)return A;
var J=this.qz(),b=this.rect();for(var O=0;O<b.n;O++)for(var a=0;a<b.e;a++){var e=O*b.e+a,R=(O+b.y-H.y)*H.e+a+b.x-H.x;
Q[R]+=J[e]}return A};en.XN.prototype.sk=function(G,m,A){var Q=Math.ceil(G+m),H={PR:this.rect().clone(),Br:null};
H.PR.e0(Q,Q);H.Br=N.$(H.PR.Z());if(G==0&&m==0)N.Gy(A?this.Br():this.KR(),H.Br);else{var J=N.$(H.PR.Z());
N.qg(this.Br(),this.rect(),J,H.PR);if(!A)N.G3(J);if(G!=0){if(A)N.style.Dh(J,H.PR,this.kB(),this.U9(),G);
else N.style.Dh(J,H.PR,this.qz(),this.rect(),G)}if(m!=0)N.ua.zh(J,H.Br,H.PR,Math.max(1,m*.43));else H.Br=J}return H};
en.XN.prototype.apq=function(G,m,A){var Q=G*(m-.5),H={PR:this.rect().clone(),Br:null};if(A)H.PR.e0(G,G);
H.Br=N.$(H.PR.Z());var J=H.PR.e,b=H.PR.n,O=A?this.kB():this.qz(),a=A?this.U9():this.rect(),e=H.PR,R=e.KB(a),J=R.e,b=R.n,p=R.x-e.x,P=R.y-e.y,z=R.x-a.x,Z=R.y-a.y,W=1-m*2;
for(var T=0;T<b;T++)for(var i=0;i<J;i++){var X=O[(T+Z)*a.e+i+z],U=X/G;H.Br[(T+P)*e.e+i+p]=Math.max(0,Math.min(255,255-255*((U+W)/(1+W))))}return H};
en.a6q=function(G,m,A){var Q=G.Lefx,H=G.blendOptions;if(Q){var J=m.add.lmfx;if(A==null)A=J?J.Scl.v.val:100;
m.add.lmfx=JSON.parse(JSON.stringify(Q.v));if(m.add.lmfx.Scl==null)m.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
en.UA(m.add.lmfx,A/m.add.lmfx.Scl.v.val);if(J)m.add.lmfx.Scl.v.val=J.Scl.v.val}else delete m.add.lmfx;
if(H){H=H.v;if(H.Md)m.w4=ib.Bn(H.Md.v.BlnM);if(H.Opct)m.opacity=Math.round(H.Opct.v.val*255/100);if(H.fillOpacity)m.add.iOpa=Math.round(H.fillOpacity.v.val*255/100);
if(H.Blnd){var b=[];for(var $=0;$<10;$++)b.push(0,0,255,255);var O=H.Blnd.v,a="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var $=0;$<O.length;$++){var e=O[$].v,R=8*["Gry","Rd","Grn","Bl"].indexOf(e.Chnl.v[0].v.enum);for(var p=0;
p<8;p++){b[R+p]=e[a[p]].v}}m.YX=b}}};en.alQ=function(G){var m="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),A=[],Q=G.YX;
for(var $=0;$<4;$++){var H=$*8;if(Q[H]+Q[H+1]+Q[H+4]+Q[H+5]==0&&Q[H+2]+Q[H+3]+Q[H+6]+Q[H+7]==4*255)continue;
var J={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][$]}}]}}};
A.push(J);for(var b=0;b<8;b++)J.v[m[b]]={t:"long",v:Q[$*8+b]}}var O={classID:"blendOptions"};if(G.w4!="norm")O.Md={t:"enum",v:{BlnM:ib.hb(G.w4)}};
if(G.opacity!=255)O.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(G.opacity*100/255)}};if(G.add.iOpa!=null)O.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(G.add.iOpa*100/255)}};
if(A.length!=0)O.Blnd={t:"VlLs",v:A};var a={xo:{classID:"null",Idnt:{t:"TEXT",v:fy.p0()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},uv:{classID:"Styl",blendOptions:{t:"Objc",v:O}}},e=G.add.lmfx;
if(e)a.uv.Lefx={t:"Objc",v:e};return a};function g3(){}g3.D4=function(G){return JSON.parse(JSON.stringify(G))};
g3.g$=function(G){var m=g3.D4(g3.a7n),A=m.Brsh.v;if(G!=null){delete A.Hrdn;A.classID="sampledBrush";
A.Nm={t:"TEXT",v:"layer.png"},A.sampledData={t:"TEXT",v:G}}return m};g3.a7n={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
g3.BX={};g3.BX.check=function(G){var m=g3.BX.LR;for(var $=0;$<m.length;$++)if(G[m[$]]==null)G[m[$]]=JSON.parse(g3.BX.WY[m[$]]);
var A=[];for(var $=0;$<m.length;$++)A.push(m[$]);var Q=g3.BX.a3u;for(var $=0;$<Q.length;$++){var H=Q[$][0],J=Q[$][1],b=!0;
for(var O=0;O<H.length;O++)b=b&&G[H[O]].v==!0;if(b)for(var O=0;O<J.length;O++){if(G[J[O]]==null)console.log("Missing conditional parameter "+J[O]);
else A.push(J[O])}}for(var a in G)if(A.indexOf(a)==-1)console.log("Extra parameter "+a);G=G.Brsh.v;m=g3.BX.VC.LR;
for(var $=0;$<m.length;$++)if(G[m[$]]==null)G[m[$]]=JSON.parse(g3.BX.VC.WY[m[$]]);A=[];for(var $=0;$<m.length;
$++)if(G[m[$]])A.push(m[$]);else console.log("Missing default parameter "+m[$]);Q=g3.BX.VC.asb[G.classID];
for(var $=0;$<Q.length;$++)if(G[Q[$]]==null&&Q[$]!="dtipsGridSize"&&Q[$]!="dtipsErodibleTipHeightMap"&&G.a7W!=1)console.log("Missing conditional parameter "+Q[$]);
else A.push(Q[$]);for(var a in G)if(A.indexOf(a)==-1)console.log("Extra parameter "+a)};g3.BX.Xp=function(G){var m=g3.BX.a3u;
for(var $=0;$<m.length;$++){var A=m[$][0],Q=m[$][1],H=!0;for(var J=0;J<A.length;J++)H=H&&G[A[J]]&&G[A[J]].v==!0;
if(H){for(var J=0;J<Q.length;J++)if(G[Q[J]]==null){G[Q[J]]=JSON.parse(g3.BX.WY[Q[J]])}}else for(var J=0;
J<Q.length;J++)if(G[Q[J]]!=null){delete G[Q[J]]}}};g3.BX.VC={};g3.BX.VC.LR="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
g3.BX.VC.WY={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};g3.BX.VC.asb={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
g3.BX.a3u=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
g3.BX.LR="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
g3.BX.WY={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ik(G,m){this.alY=G;this.pI=m==null?0:m;this.dir=0}ik.prototype.O4=function(G,m){var A=this.alY,Q=new dw(G.x-A.x,G.y-A.y),H=new ci;
H.rotate(-this.pI);Q=H.Yw(Q);if(this.dir==0&&!A.A5(G))this.dir=Math.abs(Q.x)<Math.abs(Q.y)?1:2;if(m.j(a5.K6)){if(this.dir==1)Q.x=0;
if(this.dir==2)Q.y=0}H.G3();Q=H.Yw(Q);var J=new dw(A.x+Q.x,A.y+Q.y);return J};var ey=function(){function G(){this.a7Q={}}G.aeG=function(m,A){var Q=m.clone();
Q.Zh-=Math.floor(Q.Zh);Q.bx-=Math.floor(Q.bx);var H=new dw(A,0),J=new dw(0,A),b=Q.Yw(H),O=Q.Yw(J),a=new dw(Q.Zh,Q.bx);
return[b,O,a]};G.abF=function(m,A){var Q=dw.SH;return Q(m[0],A[0])+Q(m[1],A[1])+Q(m[2],A[2]);return dsum};
G.prototype.asV=function(m){var A=this.a7Q,Q=A[m];if(Q==null)Q=A[m]={Ru:[],bs:0,Z:0,aeO:0,a35:0};Q.bs=Date.now();
while(Object.keys(A).length>3){var H="",J=Date.now();for(var b in A){var O=A[b].bs;if(O<J){J=O;H=b}}delete A[H]}return Q};
G.prototype.ak0=function(m,A){var Q=m.Ru,H,J=1e6;for(var $=0;$<Q.length;$++){var b=Q[$],O=G.abF(b.JE,A);
if(O<J){H=b;J=O}}return H};G.prototype.aor=function(m,A){var Q=m.Ru;Q.push(A);m.Z+=A.rect.Z();if(Q.length>1e3||m.Z>100*100*1600){console.log("pruning",m.Z,Q.length);
Q.sort(function(J,b){return b.bs-J.bs});while(Q.length>500||m.Z>100*100*800){var H=Q.pop();m.Z-=H.rect.Z()}}};
return G}();function gj(G,m,A,Q,H,J,b,O,a){this.GO=m;this.WJ=A;this.qU=J;this.ii=Q;if(Q.ZP==null)Q.ZP=[!1,!0];
this.VA=null;this.BA=null;this.kH=0;this.a7Y=0;this.aq6=0;this.Ul=0;this.W9=a==null?Math.floor(Math.random()*16777215):a;
this.a7d=a==null?Math.floor(Math.random()*16777215):a;this.NS=new f_;this.m1=new f_;if(O!=null){this.uw=O}else{var e=gj.aa0;
if(e.length!=b.Z()*4)e=N.$(b.Z()*4);else e.fill(0);this.uw=gj.aa0=e}this.rect=b.clone();this.xB=[];this.tv=[];
this.Y1=null;this.yu=0;this.h=null;this.a0m="";this.Xs=null;this.arM(G,H)}gj.aa0=N.$(16);gj.prototype.arM=function(G,m){this.yu=m;
this.h=G;this.a0m=JSON.stringify(G)+JSON.stringify(this.ii.IV);this.Xs=gj.arT(G,this.GO,this.WJ)};gj.prototype.moveTo=function(G,m,A){A=this.ars(A);
this.kH=A;var Q=new dw(G,m),H=this.h.Brsh.v.Dmtr.v.val;this.VA=Q.clone();this.BA=Q.clone();this.Y1=Q.clone();
this.xB=[G,m];this.tv=[A];var J=this.ii.ZP;if(this.ii.nN!=gj.mV){var b=this.h.angleDynamics,O=b?b.v.bVTy.v==6:!1;
this.g0(O?new f_:this.afb(Q,this.arg()*(J[1]?A:1),this.ii.vq*(J[0]?A*.5:1),new dw(0,0)))}this.Ul=Q.clone()};
gj.prototype.lineTo=function(G,m,A){A=this.ars(A);var Q=this.xB,H=Q.length,J=Q[H-2],b=Q[H-1];if(G==J&&m==b)return;
var O=this.h.Brsh.v.Dmtr.v.val,a=Math.ceil(O)+1,e=new f_(Math.round(J),Math.round(b),0,0);e.e0(a,a);
var R=new f_(Math.round(G),Math.round(m),0,0);R.e0(a,a);this.xB.push(G,m);this.tv.push(A);H+=2;if(H>=6)this.g0(this.ac_(H))};
gj.prototype.ars=function(G){if(G==null)G=1;G=Math.max(.05,Math.min(5,G));if(isNaN(G)){alert("Pressure is not a number");
throw"e"}return G};gj.prototype.g0=function(G){this.NS=G;this.m1=this.m1.wj(G)};gj.prototype.finish=function(){var G=this.xB,m=G.length,A;
if(m==4)A=this.abE(G[m-2],G[m-1],this.tv[(m>>1)-1],!0);if(m>4)A=this.ac_(m+2);if(A)this.g0(A)};gj.prototype.E8=function(){return this.rect.clone()};
gj.prototype.jt=function(){return this.NS.KB(this.rect)};gj.prototype.qb=function(){return this.m1.KB(this.rect)};
gj.prototype.kg=function(){return this.uw};gj.prototype.ac_=function(G){var m=this.xB,A=this.tv,Q=m[G-6],H=m[G-5],J=m[G-4],b=m[G-3],O=A[(G>>1)-3],a=A[(G>>1)-2],e=new dw(0,0),R=new dw(0,0);
if(8<=G)e=gj.apK(m[G-8],m[G-7],Q,H,J,b);if(G<=m.length)R=gj.apK(m[G-2],m[G-1],J,b,Q,H);var p=Q+e.x,P=H+e.y,z=J+R.x,Z=b+R.y,W=new f_;
for(var $=0;$<10;$++){var T=($+1)*.1,i=1-T,X=i*i*i*Q+3*T*i*i*p+3*T*T*i*z+T*T*T*J,U=i*i*i*H+3*T*i*i*P+3*T*T*i*Z+T*T*T*b,M=this.abE(X,U,O+T*(a-O));
W=W.wj(M)}return W};gj.apK=function(G,m,A,Q,H,J){var b=G-A,O=m-Q,a=H-A,e=J-Q,R=Math.sqrt(b*b+O*O),p=Math.sqrt(a*a+e*e),P=Math.acos((b*a+O*e)/(R*p))/Math.PI,z=.35,Z=.1;
P=Z+P*(z-Z);var W=H-G,T=J-m,i=Math.sqrt(W*W+T*T),X=P*p/i;return new dw(W*X,T*X)};gj.prototype.abE=function(G,m,A,Q){var H=new f_,J=this.ii.auO;
if(J==null)J=0;if(J==0||Q){H=this.aco(G,m,A);return H}var b=this.Y1,O=G-b.x,a=m-b.y,e=Math.sqrt(O*O+a*a);
O/=e;a/=e;if(e>J){var R=b.x+O*(e-J),p=b.y+a*(e-J);H=this.aco(R,p,A);this.Y1.QU(R,p)}return H};gj.prototype.aco=function(G,m,A){var Q=new f_,H=new dw(G,m),J=this.h.Brsh.v.Dmtr.v.val,b=this.ii.nN,O=H.AV(this.BA);
O.normalize(1);var a=dw.SH(this.BA,H),e=-this.a7Y,R=this.BA.clone(),p=this.ii.ZP;while(!0){var P=this.kH+(A-this.kH)*(Math.max(0,e)/a),z=this.arg()*(p[1]?P:1),Z=this.a5K()*(z+this.aq6)/2*this.Xs.ak3;
if(b==gj.mV)Z=1;if(e+Z<a){e+=Z;var W=new dw(this.BA.x+O.x*e,this.BA.y+O.y*e),X=1;if(b==gj.mV){var T=R.clone();
T.x+=O.x>0?1:-1;var i=R.clone();i.y+=O.y>0?1:-1;if(dw.SH(T,W)<dw.SH(i,W))W=T;else W=i;e=dw.SH(W,this.BA)}if(this.h.useScatter.v==!0){X=this.h.Cnt.v;
var U=this.h.countDynamics.v.jitter.v.val/100,M=U*(-1+2*this.yy());X+=Math.round(X*M)}for(var $=0;$<X;
$++){var C=this.afb(W,z,this.ii.vq*(p[0]?P*.5:1),O);Q=Q.wj(C)}R=W}else break}this.a7Y=a-e;this.BA=H;
this.kH=A;return Q};gj.prototype.a5K=function(){var G=this.h.Brsh.v,m=G.Spcn.v.val,A=Math.max(5,G.Rndn.v.val);
return A/100*(m/100)};gj.prototype.arg=function(){var G=this.h,m=G.Brsh.v.Dmtr.v.val;if(G.useTipDynamics.v){var A=m*(G.minimumDiameter.v.val/100);
m=A+(m-A)*(1-this.yy(this.a7d)*(G.szVr.v.jitter.v.val/100))}return m};gj.prototype.afb=function(G,m,A,Q){A=Math.min(1,A);
var H=this.h,J=this.h.Brsh.v,b=J.Dmtr.v.val,O=this.ii,a=O.nN,e=O.a82,R=this.Xs.g3[1],p=new ci;p.translate(-R.e/2,-R.n/2);
p.scale(1/this.Xs.aqS,1/this.Xs.aqS);p.scale(m/b,m/b);p.scale(1,Math.max(5,J.Rndn.v.val)/100);if(H.useTipDynamics.v){var P=H.angleDynamics.v,z=H.minimumRoundness.v.val/100;
p.scale(1,z+(1-z)*Math.round(100-this.yy()*H.roundnessDynamics.v.jitter.v.val)/100);p.rotate((-.5+this.yy())*4*Math.PI*(P.jitter.v.val/100));
if(P.bVTy.v==6)p.rotate(Math.atan2(-Q.y,Q.x))}p.rotate(J.Angl.v.val*(Math.PI/180));if(H.useScatter.v){var Z=(-1+2*this.yy())*H.scatterDynamics.v.jitter.v.val/100;
p.translate(-Z*m*Q.y,Z*m*Q.x)}p.translate(G.x,G.y);var W=this.a6j(p,G,m),T=W.rect.clone();if(a==null){var i=this.v3(H);
N.w8(W.nF,Math.round(i.h*255)<<16|Math.round(i.z*255)<<8|Math.round(i.p*255)<<0,4278190080);if(this.m1.My()&&this.rect.A5(W.rect)&&A==1)this.uw=W.nF.slice(0);
else N.a.aoc(W.nF,W.rect,this.uw,this.rect,W.rect,A)}if(a==gj.mV){var X=new dw(W.rect.x+W.rect.e/2,W.rect.y+W.rect.n/2),U=Math.round(X.x-this.Ul.x),M=Math.round(X.y-this.Ul.y),C=W.rect.clone();
C.offset(-U,-M);var x=C.KB(this.rect);x.offset(U,M);N.Pr(this.uw,this.rect,W.nF,C);N.a.Gc(W.nF,W.rect,this.uw,this.rect,W.MP,W.rect,A)}if(a==gj.Uw||a==gj.KU||a==gj.$u){var L=W.rect.KB(this.rect),E;
if(L.A5(W.rect))E=W.MP;else{E=N.$(L.Z());N.qg(W.MP,W.rect,E,L)}var l=N.$(L.Z()*4);N.Pr(this.uw,this.rect,l,L);
if(a==gj.KU){var y=l.slice(0),Y=N.pO.ac([-1,-1,-1,-1,25,-1,-1,-1,-1]);N.pO.TV(l,y,L.e,L.n,Y,0);N.Gy(y,l)}else if(a==gj.$u){var F=bH.wZ("UnsM");
F.Amnt.v.val=15;F.Thsh.v=0;F.Rds.v.val=5;var y=N.$(l.length);bH.pV("UnsM",{buffer:l,rect:L},F,0,0,{buffer:y,rect:L});
N.Gy(y,l)}else{bH.ek(1,N.ua.ax,l,L)}N.a.Gc(l,L,this.uw,this.rect,E,L,A)}this.aq6=m;this.Ul=X;this.a7d++;
return T};gj.prototype.v3=function(G){var m=gj.a5L(this.yu);if(G.useColorDynamics&&G.useColorDynamics.v){var A=1-this.yy()*G.clVr.v.jitter.v.val/100,Q=gj.a5L(this.qU);
m.p=A*m.p+(1-A)*Q.p;m.z=A*m.z+(1-A)*Q.z;m.h=A*m.h+(1-A)*Q.h;var H=(-.5+this.yy())*G.H.v.val/100,J=(-1+2*this.yy())*G.Strt.v.val/100,b=(-1+2*this.yy())*G.Brgh.v.val/100,O=N.ID(m.p,m.z,m.h);
O.V7=(O.V7+H+1)%1;O.H6=O.H6+J;if(O.H6<0)O.H6=-O.H6;if(O.H6>1)O.H6=1-(O.H6-1);O.ok=O.ok+b;if(O.ok<0)O.ok=-O.ok;
if(O.ok>1)O.ok=1-(O.ok-1);m=N.JY(O.V7,O.H6,O.ok)}return m};gj.prototype.BX=function(G){return Math.max(0,Math.min(1,G))};
gj.prototype.yy=function(G){if(G==null){G=this.W9++}return gj.hash(G)};gj.a5L=function(G){return{p:(G>>16&255)/255,z:(G>>8&255)/255,h:(G>>0&255)/255}};
gj.hash=function(G){G=G^61^G>>16;G=G+(G<<3);G=G^G>>4;G=G*668265261;G=G^G>>15;return(G&16777215)/16777215};
gj.a5E=new ey;gj.prototype.a6j=function(G,m,A){var Q=Math.sqrt(this.Xs.g3[1].Z()),H=Q*G.kF(),J=H<10?1:H<50?1.5:H<200?3:8,b=gj.a5E,O=b.asV(this.a0m),a=this.ii.IV;
if(a){G=G.clone();G.Zh=Math.floor(G.Zh);G.bx=Math.floor(G.bx)}var e=ey.aeG(G,Q),R=b.ak0(O,e);if(R&&ey.abF(R.JE,e)>J)R=null;
if(R){R.rect.x=Math.round(R.a6R.x+G.Zh);R.rect.y=Math.round(R.a6R.y+G.bx);if(a){R.rect.x=Math.round(m.x-R.rect.e/2);
R.rect.y=Math.round(m.y-R.rect.n/2)}R.bs=Date.now()}else{var p=Math.round(this.h.Brsh.v.Dmtr.v.val),P;
if(a&&p<=3){P={buffer:N.$(p*p*4),rect:new f_(Math.round(m.x-p/2),Math.round(m.y-p/2),p,p)};N.w8(P.buffer,4278190080)}else if(G.Uj==1&&G.h==0&&G.Qv==0&&G.nd==1){P={buffer:this.Xs.g3[0],rect:this.Xs.g3[1].clone()};
P.rect.x=Math.round(G.Zh);P.rect.y=Math.round(G.bx)}else P=f.Q.fK(this.Xs.g3,G);if(a){for(var $=0;$<P.buffer.length;
$++)P.buffer[$]=P.buffer[$]>127?255:0}if(P==null)P={buffer:N.$(0),rect:new f_};R={nF:P.buffer,MP:N.$(P.rect.Z()),rect:P.rect,a6R:new dw(P.rect.x-G.Zh,P.rect.y-G.bx),JE:e,bs:Date.now()};
N.gF(R.nF,R.MP,3);if(O)b.aor(O,R)}return R};gj.arT=function(G,m,A){var Q,H,J,b=G.Brsh.v.Dmtr.v.val;if(G.Brsh.v.classID=="computedBrush"){var O=G.Brsh.v.Hrdn.v.val/100,a=1+.55*(1-O);
H=b<100?1.2:1;J=1;var e=Math.round(H*b*a),R=new f_(0,0,e,e),p=N.$(e*e*4),P=new Uint32Array(p.buffer);
Q=[p,R];var z=e/2,Z=a/z,W=Date.now(),T=gj.KA(O),i=Math.round(8e3/z),m=T[0],X=T[1]-i,U=T[2]+i,M=Math.min(e,(e>>>1)+1);
for(var $=0;$<M;$++){var C=Z*($-z+.25);C*=C;var x=Z*($-z+.75);x*=x;var L=$*e,E=(e-1-$)*e;for(var l=0;
l<M;l++){var y=Z*(l-z+.25),Y=Math.floor(Math.sqrt(y*y+C)*(4e3/1.55));if(U<Y)continue;else if(Y<X){var F=4278190080;
while(l<M){var w=e-1-l;P[L+l]=F;P[L+w]=F;P[E+l]=F;P[E+w]=F;l++}break}else{var j=Z*(l-z+.75),_=Math.floor(Math.sqrt(j*j+C)*(4e3/1.55)),D=Math.floor(Math.sqrt(y*y+x)*(4e3/1.55)),t=Math.floor(Math.sqrt(j*j+x)*(4e3/1.55)),F=~~(.5+255*.25*(m[Y]+m[_]+m[D]+m[t]))<<24,w=e-1-l;
P[L+l]=F;P[L+w]=F;P[E+l]=F;P[E+w]=F}}}}if(G.Brsh.v.classID=="sampledBrush"){var K;for(var $=0;$<m.length;
$++)if(m[$].id==G.Brsh.v.sampledData.v)K=m[$];Q=K.g3;var R=Q[1];H=Math.max(R.e,R.n)/b;J=Math.min(R.e,R.n)/Math.max(R.e,R.n)}return{aqS:H,ak3:J,g3:Q}};
gj.gC=[];gj.KA=function(G){if(gj.gC[G])return gj.gC[G];var m=Math.pow(G,.55),A=new Float64Array(8e3),Q=0,H=8e3;
for(var $=0;$<8e3;$++){var J=gj.am5($*(1.55/4e3),m);if(J>=1)Q=$;else if(J<=0&&H==8e3)H=$;A[$]=J}var b=[A,Q,H];
gj.gC[G]=b;return b};gj.am5=function(G,m){var A=G<m?1:gj.as8((G-m)/Math.pow(1.001-m,.86));return A};
gj.as8=function(G){var m=G*.85;return Math.exp(-(m*m)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
gj.O=null;gj.JR=null;gj.pt=function(G,m,A,Q,H,J){var b=gj.O,O=gj.JR;if(b==null){gj.O=b=document.createElement("canvas");
gj.JR=O=b.getContext("2d")}if(J==null)J=Q;if(b.width!=J||b.height!=H){b.width=J;b.height=H}else O.clearRect(0,0,J,H);
O.fillStyle="#000000";O.font=Math.floor(10*f.G())+"px sans-serif";var a=G.Brsh.v.Dmtr.v.val,e=""+a,R=O.measureText(e);
O.fillText(e,(Q-R.width)/2,H-2);var p=Q,P=H-10*f.G(),z=Math.min(p,P),Z=G.Brsh.v.classID;if(Z=="computedBrush"){O.translate(p/2,P/2);
O.rotate(-G.Brsh.v.Angl.v.val*Math.PI/180);O.scale(1,.1+.9*G.Brsh.v.Rndn.v.val/100);var W=Math.min(.95*z/2,a/2)+.5,T=.9*G.Brsh.v.Hrdn.v.val/100,i=O.createRadialGradient(0,0,0,0,0,W);
i.addColorStop(T,"rgba(0,0,0,1)");i.addColorStop((.5+T)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");
O.fillStyle=i;O.fillRect(-W,-W,2*W,2*W);O.setTransform(1,0,0,1,0,0)}else if(Z=="sampledBrush"){var X,L=0;
for(var $=0;$<m.length;$++)if(m[$].id==G.Brsh.v.sampledData.v)X=m[$];var U=X.g3;N.xI(U);var M=U[0],C=U[1].e,x=U[1].n;
while((C>p||x>P)&&U[L+2]){L+=2;M=U[L];C=U[L+1].e;x=U[L+1].n}if(C*x!=0){var E=new ImageData(new Uint8ClampedArray(M.buffer),C,x);
O.putImageData(E,Math.round((p-C)/2),Math.round((P-x)/2))}}else{}return b.toDataURL()};gj.oq=function(G,m,A,Q){if(A==0)A=1;
var H=G.Brsh.v,J=H.Dmtr.v.val,b=H.Dmtr.v.val=Math.min(Q!=null?Math.round(Q*2.6):3e3,J*A),O=H.Hrdn?H.Hrdn.v.val/100:1,a=Q!=null?Q:Math.round(b*(1+.55*(1-O)))+4,p;
a=Math.max(15,Math.min(a,3e3));var e=new f_(0,0,a,a),R=new gj(G,m,null,{vq:1},16711712,0,e);H.Dmtr.v.val=J;
R.moveTo(e.e/2,e.n/2);var P=R.kg(),z=R.E8();if(e.A5(z))p=P;else{p=N.$(e.Z()*4);N.Pr(P,z,p,e)}return[p,e,b]};
gj.alm=function(G,m,A,Q){var H=m.e,J=H>>>1;for(var $=0;$<4;$++){var b=6-$;G[H*(J-b)+J-1]=Q;G[H*(J-b)+J]=A;
G[H*(J-b)+J+1]=Q;G[H*(J+b)+J-1]=Q;G[H*(J+b)+J]=A;G[H*(J+b)+J+1]=Q;G[H*(J-1)+J-b]=Q;G[H*J+J-b]=A;G[H*(J+1)+J-b]=Q;
G[H*(J-1)+J+b]=Q;G[H*J+J+b]=A;G[H*(J+1)+J+b]=Q}};gj.qR=function(G,m,A,Q){var H=gj.oq(G,m,A),J=H[0].slice(0),b=H[1],O=H[2],a=b.Z(),e=N.$(a);
N.gF(J,e,3);var R=N.$(a);N.q.a14(e,R,b);if(O<3||N.x3(R,0)||Q&&O>12){gj.alm(R,b,255,0)}var p=[1,2,1,2,8,2,1,2,1];
p=N.pO.ac(p);N.pO.c1(R,e,b.e,b.n,p);N.w8(J,4294967295);N.I5(e,J,3);for(var $=0;$<a;$++)if(R[$]==255){J[$<<2]=J[($<<2)+1]=J[($<<2)+2]=0;
J[($<<2)+3]=255}return{R0:J,PR:b,IC:new dw(b.e/2,b.n/2)}};gj.mV="0";gj.Uw="1";gj.KU="2";gj.$u="3";var g5={};
g5.nT=function(G,m){var A=G.Zg(),b=0,e;if(A.x==Infinity||A.My())return{uw:N.$(0),PR:new f_,sC:new f_};
var Q=G.Zg(),H=g5.xT(G,m),J=N.H.Dd(H.s);for(var $=0;$<G.In.length;$++){var O=G.In[$].bj;if(O.StrokeFlag&&O._LineWidth)b=Math.max(b,Math.ceil(O._LineWidth/2))}J.e0(b,b);
if(J.My())return{uw:N.$(0),PR:new f_,sC:new f_};var a=N.t7(J.e,J.n);a.translate(-J.x,-J.y);g5.a51(H,a);
if(G.In.length!=0){var R=fC.n0(m),p=a.getImageData(0,0,J.e,J.n);e=new Uint8Array(p.data.buffer);if(R==0)for(var $=0;
$<e.length;$+=4)e[$+3]=e[$+3]>80?255:0;if(R==3)for(var $=0;$<e.length;$+=4)e[$+3]=Math.min(255,e[$+3]*1.5)}else e=N.$(J.Z()*4);
a.resetTransform();a.beginPath();return{uw:e,PR:J,sC:Q}};g5.xT=function(G,m){var A=m.A,Q=m.DQ,H=fC.n0(m),J=Math.max(A.h*A.h,A.Qv*A.Qv)<1e-9?A:null;
if(H==3||H==4)J=null;var b={C:[],s:[]};g5.alK(G,b,J,!0);g5.alK(G,b,J,!1);b=g5._O(b,m,G);return b};g5._O=function(G,m,A){if(G==null)return G;
if(A&&A.Yd)N.H.A(G.s,A.Yd,G.s);if(A&&!N.iZ.zK(m.yF)){var Q=fC.E8(m,A);if(!Q.My()){if(G.C){G=N.H.Iv(G);
var H=Math.min(Q.e,Q.n)/8;if(H<1)H=1;G=N.H.qK(G,H)}var J=N.iZ.vE(m.yF,Q);N.ls.A(J,G.s,Q)}}var b=m.A;
N.H.A(G.s,b,G.s);return G};g5.a51=function(G,m){m.save();m.miterLimit=2;Typr.U.pathToContext({crds:G.s,cmds:G.C},m);
m.restore()};g5.Em=function(G,m,A){if(!dq.a6E(A))return;var Q=G.DQ,H=Q.ResourceDict.FontSet,J=Q.ResourceDict.StyleSheetSet[0].StyleSheetData,b=Q.EngineDict.StyleRun.RunLengthArray,O=Q.EngineDict.StyleRun.RunArray,a=fC.Gn(Q),e=!0,R={},p=0;
for(var $=0;$<O.length;$++){var P=O[$].StyleSheet.StyleSheetData.Font;if(P==null)P=J.Font;for(var z=0;
z<b[$];z++){var Z=a.charCodeAt(p+z),W=P+","+(Z>128?Z:-1);if(R[W]==null){R[W]=1;if(m.pz(H[P].Name,Z)==null)e=!1}}p+=b[$]}return e};
g5.alK=function(G,m,A,Q){var H=new ci;for(var $=0;$<G.DF.length;$++)g5.aa_(G.In,G.DF[$],m,H,A,Q)};g5.aa_=function(G,m,A,Q,H,J){Q.translate(m.tg.x,m.tg.y);
for(var $=0;$<m.K$.length;$++){var b={},O=m.K$[$];if(!O.Ns)break;var a=Q.clone();a.translate(O.tg.x,O.tg.y);
if(H){var e=H.bx+a.bx*H.nd;a.bx=(Math.round(e)-H.bx)/H.nd}for(var R=O.start;R<O.end;R++)g5.atf(G,m.u0[R],m,b,A,a,J)}Q.translate(-m.tg.x,-m.tg.y)};
g5.aqX="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
g5.atf=function(G,m,A,Q,H,J,b){J.translate(m.tg.x,m.tg.y);for(var O=m.ss;O<=m.lS;O++){var a=A.Ar[O],e=a.PR.e,R=G[A.atj+a.q8],p=R.bj._FillBackgroundFlag;
if(R.A0=="\n"||b&&!p)continue;var P=R.bj.FontSize/R.A4.head.unitsPerEm,z=J.clone();z.translate(a.tg.x+a.Ib*P,a.tg.y-a.j_*P);
var Z=new ci;Z.scale(P,-P);if(R.mT==1&&g5.aqX.indexOf(R.A0)!=-1)Z.concat(new ci(-1,0,0,1,e,0));if(R.bj.FauxItalic)Z.concat(new ci(1,0,-Math.tan(.18),1,0,0));
Z.translate(0,R.qQ);Z.scale(R.scale.x,R.scale.y);if(R.bj.BaselineShift!=null)Z.translate(0,-R.bj.BaselineShift);
if(a.pI!=0){Z.rotate(-a.pI)}Z.concat(z);var W=R.bj._LineWidth?R.bj._LineWidth:1;if(b){H.C.push(g5.v3(R.bj._FillBackgroundColor));
var T=1.005*a.PR.n/P,i=new f_(-a.Ib,-T*.27,1.03*a.PR.e/P,T);if(R.bj.StrokeFlag)i.e0(W/P,W/P);N.H.concat(H,N.H.Zt(i),Z);
H.C.push("X");continue}if(R.bj.FillFlag)H.C.push(g5.v3(R.bj.FillColor));if(R.bj.StrokeFlag)H.C.push("O-"+g5.v3(R.bj.StrokeColor)+"-"+W);
if(a.path.C.length!=0&&R.A0!="\t"){if(R.bj.FauxBold){var X=R.bj.FontSize/2048*27*R.scale.x;Z.Zh+=X;N.H.concat(H,a.path,Z);
Z.Zh-=X+X;N.H.concat(H,a.path,Z)}else N.H.concat(H,a.path,Z)}if(R.A0!="\n"){if(R.bj.Underline){if(Q.EF==null)Q.EF=R.A4.post.underlineThickness;
if(Q.adD==null)Q.adD=R.A4.post.underlinePosition;var U=0,M=Q.adD-Q.EF/2,C=a.Gp*1.05,x=-Q.EF;N.H.concat(H,{C:["M","L","L","L","Z"],s:[U,M,U+C,M,U+C,M+x,U,M+x]},Z)}if(R.bj.Strikethrough){var L=R.A4["OS/2"].yStrikeoutSize,E=R.A4["OS/2"].yStrikeoutPosition,U=0,M=E+L/2,C=a.Gp*1.05,x=-L;
N.H.concat(H,{C:["M","L","L","L","Z"],s:[U,M,U+C,M,U+C,M+x,U,M+x]},Z)}}if(R.bj.FillFlag)H.C.push("X");
if(R.bj.StrokeFlag)H.C.push("OX")}J.translate(-m.tg.x,-m.tg.y)};g5.v3=function(G){var m=fC.SR(G),A=(Math.round(m.p)<<16)+(Math.round(m.z)<<8)+Math.round(m.h);
return"#"+N.as(A)};function dq(G,m){var A=fC.Sv(G),Q,H,J=fC.sr(G),b=G._LineOrientation==2?new ci:null,R,P;
if(G.Curve)H=dq.J1(G.Curve);if(A!=0){Q=new f_(J[0],J[1],J[2],J[3]);if(b){var O=Q.e;Q.e=Q.n;Q.n=O;b.translate(0,-J[2])}if(A==2){Q.e=H[5]-H[4];
Q.n=9999}}this.DF=[];this.In=[];this.O7=A;this.Yd=b;var a=this.afr=fC.Gn(G),e=-1,p=-1;for(var $=0;$<a.length;
$++){var z=R,Z=fC.a5U(G,$);if(Z!=e){e=Z;z=R=fC.ab$(G,Z)}var W=P,Z=fC.ab2(G,$);if(Z!=p){p=Z;W=P=fC.agD(G,Z)}var T={A0:a.charAt($),bj:z,A4:null,CS:-1,Km:fC.atC(G,$),qQ:0,scale:new dw(0,0),MY:0,lineHeight:0,mT:0},X=G.ResourceDict.FontSet[z.Font].Name,U=T.A4=m.pz(X,a.charCodeAt($));
T.scale.x=z.HorizontalScale==null?1:z.HorizontalScale;T.scale.y=z.VerticalScale==null?1:z.VerticalScale;
var M=U["OS/2"],C=U.hhea;if(z.FontCaps==1&&T.A0!=T.A0.toUpperCase()){var x=M.sxHeight?M.sxHeight/M.sTypoAscender:.76;
T.scale.x*=x;T.scale.y*=x}var L=1/U.head.unitsPerEm*z.FontSize;if(z.FontBaseline==1){var x=G.ResourceDict.SuperscriptSize;
T.scale.x*=x;T.scale.y*=x;T.qQ-=G.ResourceDict.SuperscriptPosition*z.FontSize}if(z.FontBaseline==2){var x=G.ResourceDict.SubscriptSize;
T.scale.x*=x;T.scale.y*=x;T.qQ+=G.ResourceDict.SubscriptPosition*z.FontSize}T.MY=dq.MY(U,X,z);var E=W.AutoLeading;
T.lineHeight=z.FontSize*(E==null?1.2:E);if(z.AutoLeading==!1)T.lineHeight=z.Leading;if(T.lineHeight==0)T.lineHeight=.01;
this.In.push(T)}var l=this.DF,y=[0];for(var $=0;$<G.EngineDict.ParagraphRun.RunLengthArray.length;$++){var Y=new dq.rI(G,m,this.In,$,Q,y,A==1?H:null);
l.push(Y)}if(b){if(A==0)b.translate(0,l[0].u0[0].MY/2);b.rotate(-Math.PI/2)}if(A==2){var F=G.Curve.Points,w=H[0],j=H[1],_=H[2],D=H[3],t=H[4],K=H[5];
for(var $=0;$<l.length;$++)for(var d=0;d<l[$].K$.length;d++)if(!($==0&&d==0))l[$].K$[d].Ns=!1;var Y=l[0],o=Y.K$[0];
Y.tg.QU(0,0);o.tg.QU(0,0);for(var d=o.start;d<o.end;d++){var k=Y.u0[d],v=k.tg.x;k.tg.x=0;for(var u=k.ss;
u<=k.lS;u++){var B=Y.Ar[u],S=B.PR.e/2;B.tg.x+=v;var I=dq.atA(w,(t+B.tg.x+S)%D);B.tg.x=I[0]-S*I[2];B.tg.y=I[1]-S*I[3];
B.pI=Math.atan2(I[3],I[2])}}}}dq.MY=function(G,m,A){var Q=G["OS/2"],H=G.hhea,J=0,J=0,b=[];b.push(Q&&Q.sxHeight&&m.toLowerCase().indexOf("capitals")!=-1?Q.sxHeight:0);
b.push(Q&&Q.sCapHeight?Q.sCapHeight:0);b.push(Q&&Q.sTypoAscender?Q.sTypoAscender:0);b.push(H.ascender?H.ascender:0);
for(var O=0;O<b.length;O++)if(b[O]!=0){J=b[O];break}var a=1/G.head.unitsPerEm*A.FontSize;J=J*a;if(J<A.FontSize*.6)J=A.FontSize*.75;
return J};dq.prototype.aik=function(){return!this.a99(0)};dq.prototype.a0v=function(){return this.a99(1)};
dq.prototype.a99=function(G){var m=this.DF,A=!0,Q=0;for(var $=0;$<m.length;$++){var H=m[$].K$,J=H.length;
Q+=J;for(var b=0;b<J;b++)A&=H[b].Ns}return[A,Q][G]};dq.J1=function(G,m){if(m==null)m=.25;var A=G.Points,Q=A.length,H=Q>>>3,J=G.TextOnPathTRange,b=G.Reversed,p=0,P=0;
if(b){var O=A.slice(0);for(var $=0;$<Q;$+=2){O[$]=A[Q-2-$];O[$+1]=A[Q-1-$]}A=O;J=[H-J[1]%H,H-J[0]%H]}var a=[],e=[0],R=[0];
for(var $=0;$<Q;$+=8){var z=A[$+6]-A[$+0],Z=A[$+7]-A[$+1],W=Math.round(1/m*Math.sqrt(z*z+Z*Z));for(var T=0;
T<W;T++){var i=T/W,X=1-i,U=X*X*X*A[$+0]+3*X*X*i*A[$+2]+3*X*i*i*A[$+4]+i*i*i*A[$+6],M=X*X*X*A[$+1]+3*X*X*i*A[$+3]+3*X*i*i*A[$+5]+i*i*i*A[$+7];
a.push(U,M);if($+T!=0){var z=U-p,Z=M-P;R.push(R[R.length-1]+Math.sqrt(z*z+Z*Z));e.push(($>>>3)+i)}p=U;
P=M}}var m=R.length,C=R[m-1],x=dq.LV(J[0]%H,e),L=dq.LV(J[1]%H,e),E=R[x%m],l=R[L%m];if(E>=l)l+=C;return[a,e,R,C,E,l]};
dq.LV=function(G,m){var $=0;while(m[$]<G)$++;return $};dq.atA=function(G,m){var A=0,$=0,Q,H,J;while(A<m){Q=G[$+2]-G[$];
H=G[$+3]-G[$+1];J=Math.sqrt(Q*Q+H*H);A+=J;$+=2}return[G[$],G[$+1],Q/J,H/J]};dq.prototype.a6s=function(G){return this.In[G]};
dq.prototype.a4f=function(G){for(var m=0;m<this.DF.length;m++){var A=this.DF[m];for(var Q=0;Q<A.K$.length;
Q++){var H=A.K$[Q],J=A.u0[H.start].start,b=A.u0[H.end-1].end;if(J<G&&G<b)return[J,b-1]}}return[0,1]};
dq.prototype.akG=function(G,m){var A=-1,Q=this.DF;if(this.O7==2){var H=1e9,J=0,b=Q[0],O=b.K$[0];for(var a=O.start;
a<O.end;a++){var e=b.u0[a];for(var R=e.ss;R<=e.lS;R++){var p=b.Ar[R],P=p.PR.e,z=G.x-p.tg.x,Z=G.y-p.tg.y,W=z*z+Z*Z;
if(W<H){H=W;J=p.q8}}}if(J!=0&&this.afr.codePointAt(J-1)>65535)J--;return J}for(var T=0;T<Q.length;T++){var b=Q[T];
for(var i=0;i<b.K$.length;i++){A++;var O=b.K$[i],X=b.K$[i+1];if(X==null&&T<Q.length-1)X=Q[T+1].K$[0];
if(m!=null){if(A!=m)continue}else{if(X!=null&&b.tg.y+O.tg.y<G.y)continue}for(var a=O.start;a<O.end;a++){var e=b.u0[a];
for(var R=e.ss;R<=e.lS;R++){var p=b.Ar[R],P=p.PR.e,U=b.tg.x+O.tg.x+e.tg.x,M=U+p.tg.x,C=U+(R<e.lS?b.Ar[R+1].tg.x:p.tg.x+P);
if(G.x<=C||a+1==O.end&&R==e.lS){var x=b.atj+p.q8,L=this.In[x],E=L.mT&1;if(L.A0!="\n"&&(E==0&&G.x>M+P/2||E==1&&G.x<M+P/2))x+=this.afr.codePointAt(x)>65535?2:1;
return x}}}}}};dq.prototype.xr=function(G){var m={PR:new f_,bE:0},A=0;for(var Q=0;Q<this.DF.length;Q++){var H=this.DF[Q];
for(var J=0;J<H.K$.length;J++){var b=H.K$[J];m.bE=A;A++;for(var O=b.start;O<b.end;O++){var a=H.u0[O];
for(var e=a.start;e<a.end;e++){if(e==G){var R=this.In[e],p=R.CS,P=H.Ar[p].q8,z=1;while(H.Ar[p]!=null&&H.Ar[p].q8==P){var Z=H.Ar[p],W=H.tg.x+b.tg.x+a.tg.x+Z.tg.x,T=H.tg.y+b.tg.y+a.tg.y+Z.tg.y;
m.PR=m.PR.wj(new f_(W,T-R.lineHeight,Z.PR.e,R.lineHeight));m.pI=Z.pI;p+=z}return m}}}}}};dq.prototype.Zg=function(){var G=Infinity,m=Infinity,A=-Infinity,Q=-Infinity;
for(var $=0;$<this.DF.length;$++){var H=this.DF[$];for(var J=0;J<H.K$.length;J++){var b=H.K$[J];if(!b.Ns)break;
for(var O=b.start;O<b.end;O++){var a=H.u0[O];for(var e=a.ss;e<=a.lS;e++){var R=H.Ar[e],p=R.PR,P=H.tg.x+b.tg.x+a.tg.x+R.tg.x,z=H.tg.y+b.tg.y+a.tg.y+R.tg.y;
G=Math.min(G,P+p.x);m=Math.min(m,z+p.y);A=Math.max(A,P+p.x+p.e);Q=Math.max(Q,z+p.y+p.n)}}}}return new f_(G,m,A-G,Q-m)};
dq.iE=function(G){return 19968<=G&&G<=40959||12288<=G&&G<=12543};dq.adc=function(G,m,A,Q,H,J,b){var O=[J],a=0;
for(var $=J;$<b;$++){if(A[$]==null)console.log($,J,b,A);var e=A[$].A0,R=e.charCodeAt(0);if(R==32||R==9){O.push(a,$,1,$+1);
a=0}else if(R==3851){O.push(a+1,$+1);a=0}else if(dq.iE(R)){O.push(a,$);a=1}else if($!=J&&A[$].mT!=A[$-1].mT){O.push(a,$);
a=1}else a++}O.push(a);var p=[];for(var $=0;$<O.length;$+=2){var P=O[$],z=O[$+1];if(z==0)continue;p.push(new dq.apg(G,m,A,Q,H,P,z))}return p};
dq.asZ=function(G,m,A,Q,H,J,b){var O=[0,m?m.e:1e9],a=[];if(Q){var e=G[J].MY,R=H+(H==0?e:G[J].lineHeight),p=R-e*.9,P=N.H.$L(Q[0],p),z=P.length,Z=N.H.$L(Q[0],R),W=Z.length;
if(z!=0&&W!=0){var T=0,i=0;O=[];while(T<z&&i<W){var X=Math.max(P[T],Z[i]),U=P[T+1],M=Z[i+1],C=Math.min(U,M);
if(X<C)O.push(X,C);if(U<M)T+=2;else i+=2}}}for(var x=0;x<O.length;x+=2){var L=O[x+1]-O[x],E=0,l=J,y=m?L-A.StartIndent-A.EndIndent-(J==0?A.FirstLineIndent:0):Infinity;
while(J!=G.length){var Y=G[J],F=E==0||(Y.$x||Y._x)||E+Y.PR.e<y;if(!F)break;E+=Y.PR.e;J++}a.push(J-l)}b[0]=a;
b[1]=O;b[2]=J};dq.ajH=function(G,m){var A=G.length,Q=new Uint32Array(A),H=new Uint8Array(A),J=0;for(var $=0;
$<A;$++){H[$]=0;var b=G.charCodeAt($);Q[$]=b;if(b>J)J=b}if(J>1424)H=dq.agh(Q,m);return H};dq.rI=function(G,m,A,Q,H,J,b){this.u0=[];
this.K$=[];this.tg=new dw(0,0);this.Ar=null;this.u0=null;this.bj=fC.agD(G,Q);var O=this.bj,p=0,Z="",M=0,C=1,B=0;
if(Q!=0){var a=O.SpaceBefore;if(a!=null)J[0]+=a}var e=G.EngineDict.ParagraphRun.RunLengthArray,R=e[Q];
for(var $=0;$<Q;$++)p+=e[$];var P=O._Direction?O._Direction:0;this.atj=p;var z=fC.Gn(G).slice(p,p+R);
for(var W=0;W<z.length;W++){var T=z.charAt(W);Z+=A[p+W].bj.FontCaps==0?T:T.toUpperCase()}z=Z;var X=dq.ajH(z,P),U=[],x=X[$]&1,L=A[p].A4;
A[p].mT=X[0];for(var $=1;$<z.length;$++){var T=A[p+$],E=X[$];T.mT=E;if(E!=x||T.A4!=L){U.push(M,C);M=$;
C=1;x=E;L=T.A4}else C++}U.push(M,C);var l=this.Ar=[];for(var $=0;$<U.length;$+=2){var y=U[$],Y=U[$+1],F=(A[p+y].mT&1)==0,w=z.slice(y,y+Y),j=Typr.U.shapeHB(A[p+y].A4,w,F),_=[],K=0;
for(var W=0;W<j.length;W++){var D=j[W];_.push({z:D.g,q8:D.cl,Gp:D.ax,Yt:D.ay,Ib:D.dx,j_:D.dy})}j=_;var t=j.slice(0);
if(!F)t.reverse();for(var W=0;W<w.length;W++){while(K+1<t.length&&t[K+1].q8<=W){K++}while(K>0&&t[K-1].q8==W)K--;
A[p+y+W].CS=l.length+(F?K:t.length-K-1)}for(var W=0;W<j.length;W++){l.push(j[W]);j[W].q8+=y;var T=A[p+j[W].q8];
if(T.Km!=-1){j[W].z=T.Km;var d=T.A4.hmtx;if(d){var o=Object.keys(d)[0];j[W].Gp=d[o][T.Km]}}if(T.A0=="\n")j[W].Gp=0;
if(T.A0=="\t")j[W].Gp=T.A4.head.unitsPerEm*36/T.bj.FontSize}}var k=fC.VK(O),v=this.u0=dq.adc(G,m,A,p,l,p,p+R),u=this.K$,S=-1,Z=[null,null,0];
while(B<v.length){dq.asZ(v,H,O,b,J[0],B,Z);S++;var I={start:B,end:0,PR:new f_,tg:new dw(0,0),Ns:!0},cQ=0,a7=0;
u.push(I);I.end=Z[2];var q=I.end==v.length;function hw(t,y,d4){var j2=d4-y>>>1;for(var $=0;$<j2;$++){var j7=t[y+$];
t[y+$]=t[d4-1-$];t[d4-1-$]=j7}}for(var fY=1;fY<5;fY++){var s=-1;for(var $=I.start;$<I.end;$++){var E=A[v[$].start].mT;
if(s==-1&&E>=fY)s=$;else if(s!=-1&&E<fY){hw(v,s,$);s=-1}}var hZ=I.end;if(P==0&&v[hZ-1].$x)hZ--;if(s!=-1)hw(v,s,hZ)}var bG=Z[0],aY=Z[1],s=B,fj=B;
for(var jg=0;jg<bG.length;jg++){var ae=aY[jg*2+1]-aY[jg*2],iB=0;s=fj;fj+=bG[jg];var eg=this.a5i(s,fj,v,P,H!=null);
if(H){if(k==1||q&&k==4)iB=eg[1]+(ae-eg[0]);if(k==2||q&&k==5)iB=eg[1]+(ae-eg[0])/2;if(S==0)iB+=O.FirstLineIndent;
iB+=O.StartIndent}else{if(k==0)iB=O.StartIndent+O.FirstLineIndent;if(k==1)iB=-eg[0]-O.EndIndent;if(k==2)iB=-eg[0]/2}iB+=aY[jg*2];
if(H&&k>2&&(k==6||!q))this.a0y(s,fj,v,ae,P,iB);else{var dM=iB;for(var $=s;$<fj;$++){var fK=v[$],aQ=fK.PR.e;
fK.tg.x=dM;if(fK.gv=="\t")aQ=Math.ceil((dM+4)/36)*36-dM;dM+=aQ}}}B=I.end;for(var $=I.start;$<I.end;$++){var gz=v[$].PR.clone();
gz.EV(v[$].tg);I.PR=I.PR.wj(gz);cQ=Math.max(cQ,v[$].MY);a7=Math.max(a7,v[$].lineHeight)}I.tg.y=S==0?0:u[S-1].tg.y+a7;
if(S==0){if(Q==0&&H)J[0]+=cQ;if(Q!=0)J[0]+=a7;this.tg.y=J[0]}else J[0]+=a7;if(H)I.Ns=this.tg.y+I.tg.y<H.y+H.n}var bQ=O.SpaceAfter;
if(bQ!=null)J[0]+=bQ};dq.rI.prototype.a5i=function(G,m,A,Q,H){var J=0,b=0;for(var $=G;$<m;$++)J+=A[$].PR.e;
if(H){if(Q==0)for(var $=m-1;$>=G;$--)if(A[$].$x||A[$]._x)J-=A[$].PR.e;else break;if(Q==1)for(var $=G;
$<m;$++)if(A[$].$x||A[$]._x){var O=A[$].PR.e;J-=O;b-=O}else break}return[J,b]};dq.rI.prototype.a0y=function(G,m,A,Q,H,J){var b=0,O=0,a=0,e=0;
for(var $=G;$<m;$++)if(A[$].$x)a++;else{b+=A[$].PR.e;O++}if(H==0)for(var $=m-1;$>=G;$--)if(A[$].$x||A[$]._x){if(A[$].$x){a--}}else break;
if(H==1)for(var $=G;$<m;$++)if(A[$].$x||A[$]._x){if(A[$].$x){a--;e++}}else break;if(O<=1||a==0){if(O==1)A[G].tg.x=J;
return}var R=(Q-b)/a,p=-e*R;for(var $=G;$<m;$++){if(A[$].$x)this.Ar[A[$].ss].PR.e=A[$].PR.e=R;A[$].tg.x=J+p;
p+=A[$].PR.e}};dq.apg=function(G,m,A,Q,H,J,b){this.gv="";for(var $=0;$<b;$++)this.gv+=A[J+$].A0;this.$x=b==1&&(A[J].A0==" "||A[J].A0=="\t");
this._x=b==1&&A[J].A0=="\n";this.start=J;this.end=J+b;this.PR=new f_;this.tg=new dw(0,0);this.MY=0;this.lineHeight=0;
var O=0,a=0;if(b==0){this.lineHeight=A[J].lineHeight;this.MY=A[J].MY;this.PR=new f_(0,-A[J].lineHeight,0,A[J].lineHeight)}var e=A[J].CS,R=A[J+b-1].CS;
if(R<e){var p=e;e=R;R=p}while(R+1<H.length&&H[R].q8==H[R+1].q8){R++}this.ss=e;this.lS=R;for(var P=e;
P<=R;P++){var z=H[P],Z=A[Q+z.q8],W=G._LineOrientation==2&&(Z.bj.BaselineDirection!=2||dq.iE(Z.A0.charCodeAt(0))),T=Typr.U.glyphToPath(Z.A4,z.z),x=0;
z.path={C:T.cmds,s:T.crds};var X=Z.bj.FontSize,U=1/Z.A4.head.unitsPerEm*X;if(!Z.bj.AutoKerning)O+=Z.bj.Kerning*2*U*Z.scale.x;
z.tg=new dw(O,0);z.pI=0;if(W&&z.path.s.length>0){z.pI=-Math.PI/2;z.tg.x+=X*.83;z.tg.y=-X*.3+z.Gp*U/2;
z.Gp=X/U}var M=z.Gp*U*Z.scale.x;z.PR=new f_(0,-Z.lineHeight,M,Z.lineHeight);var C=z.PR.clone();C.EV(z.tg);
if(Z.bj.Tracking!=null)x=Z.bj.Tracking*.001*X;if(Z.bj.FauxBold==!0)x+=.027*X;O+=M+x;if(b==1&&Z.A0==" ")C.e+=2*x;
else if(b==1&&Z.A0!=null&&dq.iE(Z.A0.charCodeAt(0)))C.e+=x;this.PR=this.PR.wj(C);this.MY=Math.max(this.MY,Z.MY);
this.lineHeight=Math.max(this.lineHeight,Z.lineHeight)}};dq.WQ=0;dq.a6E=function(G){if(dq.WQ==2)return!0;
if(dq.WQ==1)return!1;dq.WQ=1;function m(){fetch("code/ext/fribidi.wasm").then(function(A){return A.arrayBuffer()}).then(function(A){return WebAssembly.instantiate(A)}).then(function(A){var Q=A.instance.exports,H=Q.memory,J=16,b=256,O=1,a=J|b,e=J|b|O;
dq.agh=function(p,P){var z=p.length,Z=z*4+4+z*4+z*4+z;dt.MQ(Q,Z+z+1e7);var W=new Uint8Array(H.buffer),T=new Uint32Array(H.buffer),i=Q.calloc(Z,1),X=i+z*4,U=X+4,M=U+z*4,C=M+z*4;
T.set(p,i>>>2);T[X>>>2]=P==0?a:e;Q.fribidi_get_bidi_types(i,z,U);Q.fribidi_get_bracket_types(i,z,U,M);
Q.fribidi_get_par_embedding_levels_ex(U,M,z,X,C);var x=W.slice(C,C+z);Q.free(i);return x};dq.WQ=2;var R=new j8(r.E.W,!0);
R.data={d:r.S.$g,ja:"add",WF:dG.YF,H7:null};G.u(R)})}Typr.U.initHB("code/ext/hb.wasm",m);return!1};function fC(){}fC.D4=function(G){return JSON.parse(JSON.stringify(G))};
fC.M6=function(G,m){for(var A in m)G[A]=m[A]};fC.lw=function(G,m,A){var Q=fC.a0I();if(A)fC.QT(Q,0,0,A);
var H={A:new ci(1,0,0,1,Math.round(G),Math.round(m)),DQ:Q};H.kS=fC.afe();H.yF=N.iZ.$();H.sC=new f_;return H};
fC.ahO=function(G){var m=["CharacterDirection",0];for(var $=0;$<m.length;$+=2){if(G[m[$]]!=null&&G[m[$]]!=m[$+1]){throw"e";
console.log(m[$],G[m[$]])}}if(G instanceof Array)for(var $=0;$<G.length;$++)fC.ahO(G[$]);else if(G instanceof Object)for(var A in G)fC.ahO(G[A])};
fC.VK=function(G,m){if(m==null)m=G.Justification;var A=G._Direction?G._Direction:0;if(A==1){if(m==0||m==3)m++;
else if(m==1||m==4)m--}return m};fC._e=function(G){if(G.add==null)return;var m=G.DQ,A=m.Curve,Q=G.add.vmsk,H=Q.Y,J=N.H.Zv(H,!0).s,b=G.A.clone();
b.G3();N.H.A(J,b,J);var O=J.slice(0,8);for(var a=8;a<J.length;a+=6)O.push(J[a-2],J[a-1],J[a],J[a+1],J[a+2],J[a+3],J[a+4],J[a+5]);
A.Points=O;A.TextOnPathTRange=Q.Q8.slice(0);A.Reversed=Q.hu;if(fC.Sv(m)==1){var A=dq.J1(m.Curve),e=N.H.Cf(A[0]);
fC.vL(m,[0,0,e.e,e.n].map(Math.round));for(var $=0;$<O.length;$+=2){O[$]-=e.x;O[$+1]-=e.y}var R=new ci(1,0,0,1,e.x,e.y);
R.concat(G.A);G.A=R}};fC.QJ=function(G){if(G.add==null)return;var m=G.add.vmsk,A=G.DQ.Curve,Q=A.Points,H={C:["M"],s:[Q[0],Q[1]]};
for(var $=0;$<Q.length;$+=8){H.C.push("C");H.s.push(Q[$+2],Q[$+3],Q[$+4],Q[$+5],Q[$+6],Q[$+7])}N.H.A(H.s,G.A,H.s);
var J=N.H.ev(H,!0);m.Y=J;m.hu=A.Reversed;m.Q8=A.TextOnPathTRange.slice(0);G.add.vogk=c.ON(J)};fC.SR=function(G){var m={p:0,z:0,h:0};
if(G){var A=G.Values;if(G.Type==1)m={p:A[1]*255,z:A[2]*255,h:A[3]*255};else if(G.Type==2){var Q={classID:"CMYC",Cyn:{t:"doub",v:A[1]*100},Mgnt:{t:"doub",v:A[2]*100},Ylw:{t:"doub",v:A[3]*100},Blck:{t:"doub",v:A[4]*100}};
m=N.X.SR(Q)}else console.log("Unknown color type")}return m};fC.arA=function(G){for(var $=0;$<G.length;
$++){var m=G[$].StyleSheet.StyleSheetData,A=m.FillColor;if(A&&A.Type==2){var Q=fC.SR(A);A.Type=1;A.Values=[1,Q.p/255,Q.z/255,Q.h/255]}}};
fC.E8=function(G,m){var A;if(fC.Sv(G.DQ)==1){var Q=fC.sr(G.DQ);A=new f_(0,0,Q[2]-Q[0],Q[3]-Q[1])}else{A=m.Zg();
if(m.Yd){var H=m.Yd.clone(),J=N.H.Zt(A);N.H.A(J.s,H,J.s);A=N.H.Cf(J.s)}}return A};fC.rF=function(G){var m=G[0];
for(var $=0;$<G.length;$++)m=fC.anR(m,G[$]);return m};fC.anR=function(G,m){var A={};for(var Q in G)if(JSON.stringify(G[Q])==JSON.stringify(m[Q]))A[Q]=G[Q];
return A};fC.fT=function(G,m){var A=G.sa,Q=-1;for(var $=0;$<A.length;$++)if(A[$].Name==m)Q=$;if(Q==-1){Q=A.length;
A.push({FontType:1,Name:m,Script:0,Synthetic:0})}G.In.Font=Q};fC.Gn=function(G){return G.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
fC.fM=function(G,m){G.EngineDict.Editor.Text=m.replace(/\n/g,"\r")};fC.Sv=function(G){return G.Curve&&G.Curve.TextOnPathTRange[0]>=0?2:G.EngineDict.Rendered.Shapes.Children[0].ShapeType};
fC.hR=function(G,m){var A=G.EngineDict.Rendered.Shapes.Children[0];A.ShapeType=m;var Q=A.Cookie.Photoshop;
Q.ShapeType=m;Q.Base.ShapeType=m;if(m==0){delete Q.BoxBounds;Q.PointBase=[0,0]}if(m==1){delete Q.PointBase;
Q.BoxBounds=[0,0,1,1]}};fC.sr=function(G){return G.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
fC.vL=function(G,m){G.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=m};fC.atC=function(G,m){var A=G.EngineDict.AlternateGlyphRun;
if(A==null)return-1;var Q=fC.kU(A.RunLengthArray,m).QL,H=A.RunArray[Q].Glyph;return H==null?-1:H};fC.amP=function(G,m,A){var Q=G.EngineDict.AlternateGlyphRun;
if(Q==null){Q=G.EngineDict.AlternateGlyphRun=fC.a5y();Q.RunArray.push({});Q.RunLengthArray.push(fC.Gn(G).length)}var H=fC.kU(Q.RunLengthArray,m),J=H.QL,b=m-H.cL,O=Q.RunArray[J],a=JSON.stringify(O),e=Q.RunLengthArray[J];
if(b!=0){Q.RunArray.splice(J,0,JSON.parse(a));Q.RunLengthArray.splice(J,0,b);Q.RunLengthArray[J+1]-=b;
J++;e-=b;b=0}if(e!=1){Q.RunArray.splice(J+1,0,JSON.parse(a));Q.RunLengthArray.splice(J+1,0,e-1);Q.RunLengthArray[J]=1;
e=1}O.Glyph=A};fC.a5U=function(G,m){var A=G.EngineDict.StyleRun.RunLengthArray;return fC.kU(A,m).QL};
fC.ab$=function(G,m){var A=G.ResourceDict.StyleSheetSet[0].StyleSheetData,Q={};for(var H in A)Q[H]=A[H];
var J=G.EngineDict.StyleRun.RunArray[m].StyleSheet.StyleSheetData;fC.M6(Q,J);return Q};fC.ab2=function(G,m){var A=G.EngineDict.ParagraphRun.RunLengthArray;
return fC.kU(A,m).QL};fC.agD=function(G,m){var A=G.ResourceDict.ParagraphSheetSet[0].Properties,Q={};
for(var H in A)Q[H]=A[H];var J=G.EngineDict.ParagraphRun.RunArray[m].ParagraphSheet.Properties;fC.M6(Q,J);
var b=["StartIndent","EndIndent","FirstLineIndent"];for(var $=0;$<3;$++)if(Q[b[$]]==null)Q[b[$]]=0;return Q};
fC.OA=function(G,m,A){if(A=="")return;var Q=fC.Gn(G);fC.fM(G,Q.substring(0,m)+A+Q.substring(m,Q.length));
var H=G.EngineDict.StyleRun,J=H.RunLengthArray,b=fC.kU(J,m-1);J[b.QL]+=A.length;var O=G.EngineDict.AlternateGlyphRun;
if(O){var J=O.RunLengthArray,b=fC.kU(J,m-1);J[b.QL]+=A.length}var a=G.EngineDict.ParagraphRun,J=a.RunLengthArray,e=fC.kU(J,m),R=A.split("\n");
if(R.length==1){J[e.QL]+=A.length;return}J.splice(e.QL+1,0,J[e.QL]-(m-e.cL));a.RunArray.splice(e.QL+1,0,fC.D4(a.RunArray[e.QL]));
J[e.QL]-=J[e.QL+1];J[e.QL]+=R[0].length+1;for(var $=1;$<R.length-1;$++){a.RunArray.splice(e.QL+$,0,fC.D4(a.RunArray[e.QL+$-1]));
a.RunLengthArray.splice(e.QL+$,0,R[$].length+1)}J[e.QL+R.length-1]+=R[R.length-1].length};fC.Ow=function(G,m,A){var Q=fC.Gn(G);
fC.fM(G,Q.substring(0,m)+Q.substring(A,Q.length));fC.OF(G.EngineDict.ParagraphRun,m,A,!0);fC.OF(G.EngineDict.StyleRun,m,A,!1);
var H=G.EngineDict.AlternateGlyphRun;if(H)fC.OF(H,m,A,!1)};fC.OF=function(G,m,A,Q){var H=G.RunLengthArray,J=fC.kU(H,m),b=fC.kU(H,A),O=[];
for(var $=0;$<H.length;$++)for(var a=0;a<H[$];a++)O.push($);O.splice(m,A-m);var e=[];for(var $=0;$<H.length;
$++)e.push(0);for(var $=0;$<O.length;$++)e[O[$]]++;for(var $=0;$<H.length;$++){if(e[$]==0){e.splice($,1);
H.splice($,1);G.RunArray.splice($,1);$--}else if(e[$]<H[$])H[$]=e[$]}if(Q&&J.QL!=b.QL&&J.cL!=m){H[J.QL]+=H[J.QL+1];
H.splice(J.QL+1,1);G.RunArray.splice(J.QL+1,1)}};fC.QT=function(G,m,A,Q){var H=G.EngineDict.Editor.Text.length;
if(A==H-2)A++;if(Q.In.Font!=null)G.ResourceDict.FontSet=Q.sa.slice(0);if(m<=A)fC.a3S(G.EngineDict.StyleRun,Q.In,m,A,!0);
fC.a3S(G.EngineDict.ParagraphRun,Q.DF,m,A,!1)};fC.ui=function(G,m,A){var Q={sa:G.ResourceDict.FontSet.slice(0),In:[],DF:[]},H=G.EngineDict.StyleRun.RunLengthArray,J=fC.kU(H,m).QL,b=fC.kU(H,A).QL;
for(var $=J;$<=b;$++){var O=fC.D4(G.ResourceDict.StyleSheetSet[0].StyleSheetData),a=G.EngineDict.StyleRun.RunArray;
if(a.length==0)continue;var e=a[$].StyleSheet.StyleSheetData;fC.M6(O,e);Q.In.push(O)}var R=G.EngineDict.ParagraphRun.RunLengthArray,p=fC.kU(R,m).QL,P=fC.kU(R,A).QL;
for(var $=p;$<=P;$++){var z=G.EngineDict.ParagraphRun.RunArray;if(z.length==0)continue;Q.DF.push(fC.D4(z[$].ParagraphSheet.Properties))}Q.In=Q.In.length==0?{}:fC.rF(Q.In);
Q.DF=Q.DF.length==0?{}:fC.rF(Q.DF);return Q};fC.a3S=function(G,m,A,Q,H){var J=G.RunLengthArray;if(H){var b=fC.kU(J,A);
if(b.cL!=A){var O=J[b.QL];J.splice(b.QL,0,A-b.cL);J[b.QL+1]=O-J[b.QL];G.RunArray.splice(b.QL+1,0,fC.D4(G.RunArray[b.QL]))}var a=fC.kU(J,Q);
if(a.cL+J[a.QL]-1!=Q){var O=J[a.QL];J.splice(a.QL,0,Q-a.cL+1);J[a.QL+1]=O-J[a.QL];G.RunArray.splice(a.QL+1,0,fC.D4(G.RunArray[a.QL]))}}var b=fC.kU(J,A),a=fC.kU(J,Q);
if(H)for(var $=b.QL;$<=a.QL;$++)fC.M6(G.RunArray[$].StyleSheet.StyleSheetData,m);else for(var $=b.QL;
$<=a.QL;$++)fC.M6(G.RunArray[$].ParagraphSheet.Properties,m)};fC.afk=function(G,m,A){var Q=G.EngineDict.StyleRun.RunLengthArray,H=[],J=0;
for(var $=0;$<Q.length;$++){var b=Q[$];for(var O=0;O<b;O++)if(m<=J+O&&J+O<A)H.push($);J+=b}var a=H[0],e=[];
for(var $=0;$<H.length;$++){var R=H[$]-a;if(R==e.length)e.push(0);e[R]++}return e};fC.ajc=function(G){var m=G.EngineDict.StyleRun,A=m.RunArray,Q=m.RunLengthArray;
for(var $=0;$<Q.length-1;$++){var H=A[$].StyleSheet.StyleSheetData,J=A[$+1].StyleSheet.StyleSheetData;
if(JSON.stringify(H)==JSON.stringify(J)){A.splice($+1,1);Q[$]+=Q[$+1];Q.splice($+1,1);$--}}};fC.n0=function(G){var m=G.kS.AntA.v.Annt;
m=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(m);if(m==-1)m=1;return m};fC.HI=function(G,m){G.kS.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][m]};
fC.tB=function(G,m){var A,Q;A=["FontSize","Leading","BaselineShift"];Q=G.In;for(var $=0;$<A.length;$++)if(Q[A[$]]!=null)Q[A[$]]*=m;
A=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];Q=G.DF;for(var $=0;$<A.length;
$++)if(Q[A[$]]!=null)Q[A[$]]*=m};fC.a9v=function(){return fC.ui(fC.au3,0,0)};fC.afe=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
fC.kU=function(G,m){var A=0,$=0;while(A+G[$]<=m){A+=G[$];$++}return{QL:$,cL:A}};fC.a0I=function(){var G=fC.D4(this.au3);
return G};fC.aka={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
fC.a2N={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
fC.a5y=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};fC.au3={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fC.aka))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fC.aka))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(fC.a2N))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var dp={};dp.ap7=function(G){var m=dp.aeT(G._0,G._1);dp.afp(m,G._0);return m};dp.amI=function(G,m,A){var Q={};
Q._98={_0:"i7"};Q._0=dp.am0(G,m,A?A._0:null);Q._1=dp.a9a(G,m,Q._0,A?A._1:null);return Q};dp.am0=function(G,m,A){var Q={};
Q._1=dp.a5b(G,A?A._1:null);Q._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};Q._3=JSON.parse(JSON.stringify(dp.a64));
Q._4=JSON.parse(JSON.stringify(dp.aeM));Q._5=dp.aus(G,Q._1._0,A?A._5:null);Q._6=dp.a0q(G,A?A._6:null);
Q._8=dp.acO(G,m,A?A._8:null);Q._9=dp.ai1;return Q};dp.afp=function(G,m){dp.asd(G,m._5,m._1._0)};dp.a5b=function(G,m){var A=[],Q=[];
for(var $=0;$<G.length;$++){var H=G[$].ResourceDict.FontSet;for(var J=0;J<H.length;J++){var b=H[J];if(Q.indexOf(b.Name)!=-1)continue;
A.push(b);Q.push(b.Name)}}var O={_0:[]};for(var $=0;$<A.length;$++){var a=A[$],e={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+a.Name,_1:"i"+a.Script,_2:"i"+a.FontType}}};
if(a.Script==0)delete e._0._0._1;O._0.push(e)}return O};dp.aus=function(G,m,A){var Q={_0:[],_1:[]},H={_0:JSON.parse(JSON.stringify(dp.auz))};
dp.ag6(H._0,G[0].ResourceDict.StyleSheetSet[0],m,G[0].ResourceDict.FontSet);Q._0.push(H);Q._1.push({_0:"i0"});
Q._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});Q._1.push({_0:"i1"});return Q};dp.asd=function(G,m,A){var Q=m._0[0];
for(var $=0;$<G.length;$++)dp.aff(Q._0,G[$].ResourceDict.StyleSheetSet[0],A,G[$].ResourceDict.FontSet)};
dp.a0q=function(G,m){var A={_0:[],_1:[]},Q={_0:JSON.parse(JSON.stringify(dp.Tp))};dp.mx(Q._0,G[0].ResourceDict.ParagraphSheetSet[0]);
A._0.push(Q);A._1.push({_0:"i0"});Q={_0:JSON.parse(JSON.stringify(dp.Tp))};dp.mx(Q._0,G[0].ResourceDict.ParagraphSheetSet[0]);
Q._0._0="sBasic Paragraph";Q._0._6="i0";A._0.push(Q);A._1.push({_0:"i1"});return A};dp.acO=function(G,m,A){var Q={_0:[]};
for(var $=0;$<G.length;$++){var H=G[$].Curve,J={};Q._0.push({_0:J});var b=fC.Sv(G[$]);J._2={};J._2._0="i"+b;
if(G[$]._LineOrientation==2)J._2._1="i2";if(b==0){J._2._6=["f-1","f-1"];J._2._11={_4:"i-1",_7:!1}}else if(b==1&&H==null){var O=fC.sr(G[$]),a=O[2],e=O[3];
J._1={_0:dp.Kw("f",[0,0,0,0,a,0,a,0,a,0,a,0,a,e,a,e,a,e,a,e,0,e,0,e,0,e,0,e,0,0,0,0])};J._2._6=["f-2","f-2"];
J._2._11={_4:"i-2",_7:!1}}else if(b==1){var O=fC.sr(G[$]),a=O[2],e=O[3];J._1={_0:dp.Kw("f",H.Points)};
J._2._6=["f-3","f-3"];J._2._11={_4:"i-3",_7:!1}}else if(b==2){J._1={_0:dp.Kw("f",H.Points)};J._2._6=dp.Kw("f",H.TextOnPathTRange);
J._2._11={_0:H.Reversed,_3:"i0",_5:"f0",_7:!1}}}return Q};dp.a9a=function(G,m,A,Q){var H={};H._0=JSON.parse(JSON.stringify(dp.ajC));
H._1=dp.a3z(G,m,A,Q?Q._1:null);H._2=JSON.parse(JSON.stringify(dp.auz._6));H._3=JSON.parse(JSON.stringify(dp.Tp._5));
return H};dp.aeT=function(G,m){return dp.a1P(G,m._1)};dp.a3z=function(G,m,A,Q){var H=[],J=A._1._0;for(var $=0;
$<G.length;$++){var b=G[$],O={_0:{}};H.push(O);O._0._0="s"+b.EngineDict.Editor.Text;O._0._0=O._0._0;
var a=O._0._5={_0:[]},e=b.EngineDict.ParagraphRun;for(var R=0;R<e.RunArray.length;R++){var p={_0:{}};
a._0.push(p);p._0._0={_0:"s",_5:{},_6:"i1"};dp.mx(p._0._0,e.RunArray[R].ParagraphSheet);p._1="i"+e.RunLengthArray[R]}var P=O._0._6={_0:[]};
e=b.EngineDict.StyleRun;for(var R=0;R<e.RunArray.length;R++){var z={_0:{}};P._0.push(z);z._0._0={_0:"s",_5:"i1",_6:{}};
dp.ag6(z._0._0,e.RunArray[R].StyleSheet,J,b.ResourceDict.FontSet);z._1="i"+e.RunLengthArray[R]}e=b.EngineDict.AlternateGlyphRun;
if(e){var Z=O._0._9={_0:[]};for(var R=0;R<e.RunArray.length;R++){var W={_0:{}};Z._0.push(W);var T=e.RunArray[R];
if(T.Glyph!=null){W._0._0={_0:"i"+T.Glyph,_1:"e"}}W._1="i"+e.RunLengthArray[R]}}O._0._10={_0:"i4",_2:!0};
O._1=dp.view.aqI(b,null,$,null)}return H};dp.a1P=function(G,m){var A=[],Q=G._1._0;for(var $=0;$<m.length;
$++){var H=fC.a0I();A.push(H);var J=m[$];H.EngineDict.Editor.Text=J._0._0.slice(1);var b=H.EngineDict.ParagraphRun.RunArray[0],O=H.EngineDict.ParagraphRun,a=J._0._5;
if(a)for(var e=0;e<a._0.length;e++){var R=a._0[e];O.RunLengthArray[e]=parseInt(R._1.slice(1));O.RunArray[e]=JSON.parse(JSON.stringify(b));
dp.aqY(R._0._0,O.RunArray[e].ParagraphSheet)}else{O.RunLengthArray[0]=fC.Gn(H).length}var p=J._0._6;
O=H.EngineDict.StyleRun;if(p)for(var e=0;e<p._0.length;e++){var P=p._0[e];O.RunLengthArray[e]=parseInt(P._1.slice(1));
O.RunArray[e]={StyleSheet:{StyleSheetData:{}}};dp.aff(P._0._0,O.RunArray[e].StyleSheet,Q,H.ResourceDict.FontSet)}else{O.RunLengthArray[0]=fC.Gn(H).length;
O.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return A};dp.ag6=function(G,m,A,Q,H){G._0="s"+(m.Name?m.Name:"");
var J=G._6,b=H?H._6:null,O=m.StyleSheetData;if(O.Font==null)return;var a=Q[O.Font].Name,e=-1;for(var $=0;
$<A.length;$++)if("s"+a==A[$]._0._0._0){e=$;break}J._0="i"+e;if(O.FontSize!=null)J._1="f"+O.FontSize;
if(O.FauxBold!=null)J._2=O.FauxBold;if(O.FauxItalic!=null)J._3=O.FauxItalic;if(O.AutoLeading!=null)J._4=O.AutoLeading;
if(O.Leading!=null)J._5="f"+O.Leading;if(O.HorizontalScale!=null)J._6="f"+O.HorizontalScale;if(O.VerticalScale!=null)J._7="f"+O.VerticalScale;
if(O.Tracking!=null)J._8="i"+O.Tracking;if(O.BaselineShift!=null)J._9="f"+O.BaselineShift;if(O.AutoKerning!=null)J._11="i"+(O.AutoKerning?1:0);
if(O.FontCaps!=null)J._12="i"+O.FontCaps;if(O.FontBaseline!=null)J._13="i"+O.FontBaseline;if(O.Strikethrough!=null)J._15="i"+(O.Strikethrough?1:0);
if(O.Underline!=null)J._16="i"+(O.Underline?2:0);if(O.Ligatures!=null)J._18=O.Ligatures;if(O.DLigatures!=null)J._19=O.DLigatures;
if(O.BaselineDirection!=null)J._35="i"+O.BaselineDirection;if(O.Language!=null)J._38="i"+O.Language;
if(O.FillColor!=null)J._53=dp.v3(O.FillColor);if(O.StrokeColor!=null)J._54=dp.v3(O.StrokeColor);if(O.FillFlag!=null)J._56=O.FillFlag;
if(O.StrokeFlag!=null)J._57=O.StrokeFlag;if(O._LineWidth!=null)J._63="f"+O._LineWidth;if(O._FillBackgroundColor!=null)J._79=dp.v3(O._FillBackgroundColor);
if(O._FillBackgroundFlag!=null)J._80=O._FillBackgroundFlag};dp.v3=function(G){return{_99:"/SimplePaint",_0:{_0:"i1",_1:dp.Kw("f",G.Values)}}};
dp.aff=function(G,m,A,Q){var H=G._6;if(H==null)return;var J=m.StyleSheetData;if(H._0){var b=parseInt(H._0.slice(1)),O=A[b]._0._0._0.slice(1);
fC.fT({In:J,sa:Q},O)}if(H._1!=null)J.FontSize=parseFloat(H._1.slice(1));if(H._2!=null)J.FauxBold=H._2;
if(H._3!=null)J.FauxItalic=H._3;if(H._4!=null)J.AutoLeading=H._4;if(H._5!=null)J.Leading=parseFloat(H._5.slice(1));
if(H._6!=null)J.HorizontalScale=parseFloat(H._6.slice(1));if(H._7!=null)J.VerticalScale=parseFloat(H._7.slice(1));
if(H._8!=null)J.Tracking=parseFloat(H._8.slice(1));if(H._9!=null)J.BaselineShift=parseFloat(H._9.slice(1));
if(H._11!=null)J.AutoKerning=parseFloat(H._11.slice(1))==1;if(H._12!=null)J.FontCaps=parseFloat(H._12.slice(1));
if(H._13!=null)J.FontBaseline=parseFloat(H._13.slice(1));if(H._15!=null)J.Strikethrough=parseFloat(H._15.slice(1))==1;
if(H._16!=null)J.Underline=parseFloat(H._16.slice(1))==1;if(H._18!=null)J.Ligatures=H._18;if(H._19!=null)J.DLigatures=H._19;
if(H._35!=null)J.BaselineDirection=parseFloat(H._35.slice(1));if(H._38!=null)J.Language=parseFloat(H._38.slice(1));
if(H._53!=null)J.FillColor=dp.f6(H._53);if(H._54!=null)J.StrokeColor=dp.f6(H._54);if(H._56!=null)J.FillFlag=H._56;
if(H._57!=null)J.StrokeFlag=H._57;if(H._63!=null)J._LineWidth=parseFloat(H._63.slice(1));if(H._79!=null)J._FillBackgroundColor=dp.f6(H._79);
if(H._80!=null)J._FillBackgroundFlag=H._80};dp.f6=function(G){var m=G._0._0,A=G._0._1,Q=[1,0,0,0],H=[];
for(var $=0;$<A.length;$++)H[$]=parseFloat(A[$].slice(1));if(m=="i0")Q[1]=Q[2]=Q[3]=H[1];else if(m=="i1")Q=H;
else if(m=="i2")Q=[1].concat(UDOC.C.cmykToRgb(H.slice(1)));else console.log("unknown color type",m,H);
return{Type:1,Values:Q}};dp.mx=function(G,m){G._0="s"+(m.Name?m.Name:"");var A=G._5,Q=m.Properties;if(Q.Justification!=null)A._0="i"+Q.Justification;
if(Q.FirstLineIndent!=null)A._1="f"+Q.FirstLineIndent;if(Q.StartIndent!=null)A._2="f"+Q.StartIndent;
if(Q.EndtIndent!=null)A._3="f"+Q.EndtIndent;if(Q.SpaceBefore!=null)A._4="f"+Q.SpaceBefore;if(Q.SpaceAfter!=null)A._5="f"+Q.SpaceAfter;
if(Q.AutoLeading!=null)A._7="f"+Q.AutoLeading;if(Q.AutoHyphenate!=null)A._9=Q.AutoHyphenate;if(Q._Direction!=null)A._33="i"+Q._Direction;
if(Q._ComposerEngine!=null)A._35="i"+Q._ComposerEngine};dp.aqY=function(G,m){var A=G._5;if(A==null)return;
var Q=m.Properties;if(A._0)Q.Justification=parseInt(A._0.slice(1))};dp.Kw=function(G,m){var A=[];for(var $=0;
$<m.length;$++)A.push(G+m[$]);return A};dp.a64={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
dp.aeM={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
dp.auz={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
dp.Tp={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
dp.ai1={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
dp.ajC={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var d2={};d2.aiq=function(G){return d2.pm(G,d2.rB,0)};d2.ah8=function(G){return d2.to(G,d2.rB)};d2.pm=function(G,m,A){var Q;
if(typeof G=="string")return G;if(G instanceof Array){Q=[];for(var $=0;$<G.length;$++)Q[$]=d2.pm(G[$],m,A+1)}else{Q={};
var H={};for(var J in m){var b=m[J],O="_"+b[0];if(G[O]!=null){Q[J]=b[1]?d2.pm(G[O],b[1],A+1):G[O];H[O]=!0}}for(var J in G){if(H[J]==null){if(J.length>3)continue;
console.log(m,H);console.log(J,G);throw"e"}}}return Q};d2.to=function(G,m){var A;if(typeof G=="string")return G;
else if(G instanceof Array){A=[];for(var $=0;$<G.length;$++)A[$]=d2.to(G[$],m)}else{A={};var Q={};for(var H in m){var J=m[H],b="_"+J[0];
if(G[H]!=null){A[b]=J[1]?d2.to(G[H],J[1]):G[H];Q[H]=!0}}for(var H in G){if(Q[H]==null){console.log(m,Q);
console.log(H,G);throw"e"}}}return A};d2.jM={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
d2.uY={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,d2.jM],_StrokeColor:[54,d2.jM],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,d2.jM],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]};
d2.aib={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,d2.uY],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
d2.adI={_Name:[0],_Features:[5,d2.aib],_Parent:[6],_97:[97]};d2.a4p={_Name:[0],_Parent:[5],_Features:[6,d2.uY],_97:[97]};
d2.rB={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,d2.a4p]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,d2.adI]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,d2.adI]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,d2.a4p]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,d2.uY],_OriginalNormalParagraphFeatures:[3,d2.aib]}]};
dp.view={};dp.view.aqI=function(G,m,A,Q){var H={},J=fC.Sv(G);H._0=[{_0:"i"+A}];return H};function CSS(){}CSS.acu=function(G,m){var A=G.add,Q=A.vmsk,H=A.vstk,J=A.lmfx,b=A.TySh,O=[],a=CSS.aop(J,A);
if(G.gX()&&Q){var e=N.U.jX(Q.Y);if(!e.My()){O.push("width: "+Math.round(e.e)+"px");O.push("height: "+Math.round(e.n)+"px")}var R=N.U.acc(Q.Y);
if(R>0)O.push("border-radius: "+Math.round(R)+"px")}else if(b){var p=b.DQ;if(fC.Sv(p)==1){var e=fC.sr(p);
O.push("width: "+Math.round(e[2])+"px");O.push("height: "+Math.round(e[3])+"px")}CSS.af7(O,fC.ui(p,0,0),b.A,!1,!1,a[0])}var P=[],z=J?J.dropShadowMulti.v:0;
for(var $=0;$<z.length;$++){var Z=z[$].v;if(Z.enab.v){var W=Z.Dstn.v.val,T=Z.lagl.v.val*Math.PI/180;
if(Z.uglg&&Z.uglg.v)T=m.BQ()*Math.PI/180;var X=W*Math.cos(T),U=W*Math.sin(T);P.push("drop-shadow("+(X==0?"0 ":CSS.t$(-X)+"px ")+(U==0?"0 ":CSS.t$(U)+"px ")+Z.blur.v.val/2+"px "+CSS.ZK(Z.Clr.v,Z.Opct.v.val/100)+")")}}if(P.length!=0)O.push("filter: "+P.join(" "));
if(b==null)CSS.a45(a,O);if(H==null||!H.strokeEnabled.v)H=en.Uv(J);if(H&&H.strokeEnabled.v){var M=H.strokeStyleContent.v,C=M.classID,x=hK.nh.tJ.indexOf(H.strokeStyleLineCapType.v.strokeStyleLineCapType),L=hK.nh.join.indexOf(H.strokeStyleLineJoinType.v.strokeStyleLineJoinType),E=H.strokeStyleOpacity.v.val/100,l=H.strokeStyleLineWidth.v.val,y="";
if(C=="solidColorLayer")y=CSS.ZK(M.Clr.v,E);O.push("border: "+l+"px solid "+y)}return O};CSS.aop=function(G,m){var A=en.CR(G,m),Q=A[0],H=A[1],J,b;
if(Q){J=CSS.ZK(Q.Clr.v,m.iOpa!=null?m.iOpa/255:1)}else if(H){b=CSS.vi(H)}return[J,b]};CSS.a45=function(G,m){if(G[0])m.push("background-color: "+G[0]);
if(G[1])m.push("background-image: "+G[1])};CSS.tH={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.t$=function(jw){return""+parseFloat(jw.toFixed(3))};CSS.FI=function(G){if(G==null)return{p:0,z:0,h:0};
var m=G.indexOf("(");if(m!=-1){var A=G.slice(m+1,G.length-1).split(",");for(var $=0;$<A.length;$++){var Q=A[$].trim();
A[$]=parseFloat(Q)*(Q.endsWith("%")?255/100:1)}return{p:A[0],z:A[1],h:A[2]}}if(G.charAt(0)!="#"){var H=CSS.tH;
if(H[G])G=H[G];else console.log("unknown color "+G)}G=G.slice(1);if(G.length==3)G=G[0]+G[0]+G[1]+G[1]+G[2]+G[2];
G=parseInt(G,16);return{p:G>>16&255,z:G>>8&255,h:G&255}};CSS.ZK=function(G,m){return CSS.aU(N.X.SR(G),m)};
CSS.aU=function(G,m){if(m==null)m=1;var A=Math.round(G.p),Q=Math.round(G.z),H=Math.round(G.h),J=A<<16|Q<<8|H;
return m==1?"#"+N.as(J):"rgba("+A+","+Q+","+H+","+m+")"};CSS.vi=function(G){var m=G.Grad.v;if(m.Clrs==null)return"";
var A=m.Clrs.v.slice(0),Q=m.Trns.v.slice(0),H=G.Ofst.v,J=G.Type.v.GrdT=="Rdl"?1:0,b=(J==1?"radial":"linear")+"-gradient",O=J==0?Math.round(-G.Angl.v.val+90)+"deg":"circle at center",a=G.Rvrs.v;
if(a){A.reverse();Q.reverse()}for(var $=0;$<A.length;$++){var e=A[$].v,R=$<Q.length?Q[$].v.Opct.v.val/100:1,p=e.Lctn.v/4096;
if(a)p=1-p;O+=", "+CSS.ZK(e.Clr.v,R)+" "+Math.round(p*100)+"%"}return b+"("+O+")"};CSS.af7=function(G,m,A,Q,H,J){var b=m.In,O=Q?1:f.Q.kF(A),a=Math.round(b.FontSize*O);
G.push("font-size: "+a+"px");var e=b.Tracking;if(!Q&&e!=null&&e!=0)G.push("letter-spacing: "+Math.round(e*a/1e3)+"px");
if(!b.AutoLeading)G.push("line-height: "+Math.round(b.Leading*O)+"px");if(b.Strikethrough)G.push("text-decoration: line-through");
if(b.Underline)G.push("text-decoration: underline");var R=fC.SR(b.FillColor);R=[R.p,R.z,R.h].map(Math.round);
G.push((Q?"fill: ":"color: ")+(J?J:"#"+N.as(R[0]<<16|R[1]<<8|R[2])));var p=m.sa[b.Font].Name;if(p){var P=ez.sd.pz(p),z="",Z=null,W=null;
if(P!=null&&p!=ez.qF(P))P=null;if(H&&P)z+="\""+p+"\", ";var T=p.toLowerCase();if(P){Z=ez.gA(P)[0];if(P["OS/2"])W=P["OS/2"].usWeightClass}else{Z=CSS.auy(p);
if(T.indexOf("light")!=-1)W=300;else if(T.indexOf("medium")!=-1)W=500;else if(T.indexOf("black")!=-1||T.indexOf("extrabold")!=-1)W=800;
else if(T.indexOf("bold")!=-1)W="bold"}if(Z!=null)z+="\""+Z+"\"";if(W!=null)G.push("font-weight: "+W);
if(T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1)G.push("font-style: italic");if(z)G.push("font-family: "+z)}var i=m.DF.Justification;
if(i!=null&&i!=0)if(Q){}else G.push("text-align: "+["left","right","center"][i%3])};CSS.auy=function(G){G=G.split("-")[0];
while(G.endsWith("MT")||G.endsWith("PS"))G=G.slice(0,G.length-2);var m=!0;for(var $=0;$<G.length;$++){var A=G.charAt($);
if(!m&&A.toLowerCase()!=A){G=G.slice(0,$)+" "+G.slice($);$++;m=!0}else m=!1}return G};function iu(){}iu.fv={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
iu.dx=function(G,m){var A=Date.now(),Q;try{Q=acorn.parse(G)}catch(f5){console.log(f5);return}var H=JSON.parse(JSON.stringify(iu.Vx.a0));
H.__return=!1;H.__continue=!1;H.__break=!1;H.__throw=!1;H.__fs={};H.__window={};iu.eval(Q,m,H);var J=H.__fs;
if(Object.keys(J).length!=0){var b=UZIP.encode(J);gX.save(b,"output.zip")}};iu.eval=function(G,m,A){var Q=G.type;
if(!1){}else if(Q=="Program"||Q=="BlockStatement"){var H=G.body;for(var $=0;$<H.length;$++){var J=H[$].type;
if(J=="FunctionDeclaration")A[H[$].id.name]=H[$]}for(var $=0;$<H.length;$++){var J=H[$].type,b=iu.eval(H[$],m,A);
if(A.__continue){A.__continue=!1;return b}if(A.__return||A.__break||A.__throw)return b}}else if(Q=="ReturnStatement"){A.__return=!0;
return G.argument?iu.EZ(G.argument,m,A):null}else if(Q=="BreakStatement"){A.__break=!0}else if(Q=="ContinueStatement"){A.__continue=!0}else if(Q=="VariableDeclaration"){var O=G.declarations;
for(var $=0;$<O.length;$++)iu.eval(O[$],m,A)}else if(Q=="VariableDeclarator"){A[G.id.name]=G.init?iu.EZ(G.init,m,A):null}else if(Q=="FunctionDeclaration"){A[G.id.name]=G}else if(Q=="MemberExpression"){var a=iu.EZ(G.object,m,A),e=G.computed?iu.EZ(G.property,m,A):iu.eval(G.property,m,A),b;
if(a._T!=null)b=iu.Vx.r9(a,e,m,A);else if(a==window&&iu.fv[e]){}else b=a[e];return b}else if(Q=="ArrayExpression"){var R=[],p=G.elements;
for(var $=0;$<p.length;$++)R.push(iu.EZ(p[$],m,A));return R}else if(Q=="ObjectExpression"){var R={},p=G.properties;
for(var $=0;$<p.length;$++){var P=p[$],z=p[$].key.name?p[$].key.name:p[$].key.value;R[z]=iu.EZ(p[$].value,m,A)}return R}else if(Q=="ExpressionStatement"){return iu.eval(G.expression,m,A)}else if(Q=="NewExpression"){var Z=G.arguments,W=G.callee,T=W.type,i=[],R=null;
for(var $=0;$<Z.length;$++)i.push(iu.EZ(Z[$],m,A));if(T=="Identifier")R=iu.Vx.ac7(W.name,i,m,A);else throw"e";
if(R==null)throw"new "+W.name;return R}else if(Q=="CallExpression"){var Z=G.arguments,W=G.callee,T=W.type,X={};
for(var U in A)X[U]=A[U];var i=[];for(var $=0;$<Z.length;$++)i.push(iu.EZ(Z[$],m,A));if(T=="Identifier"){var M=W.name,C=A[M];
if(C){if(C.params){var L=C.params;for(var $=0;$<L.length;$++)X[L[$].name]=i[$];return iu.eval(C.body,m,X)}else{return C.apply(null,i)}}else if(iu.Vx.a9M.indexOf(M)!=-1)return iu.Vx.wa({_T:"Application"},M,i,m,A);
else if(window[M]==null)console.log("Unknown function "+M);else if(iu.fv[M])alert(M+"() not available");
else{var E=window[M].apply(window,i);return E}}else if(T=="MemberExpression"){var a=iu.EZ(W.object,m,A),e=W.computed?iu.EZ(W.property,m,A):iu.eval(W.property,m,A);
if(a==window&&iu.fv[e])return;if(a._T!=null)return iu.Vx.wa(a,e,i,m,A);else return a[e].apply(a,i)}else if(T=="FunctionExpression"){return iu.eval(W.body,m,A)}else console.log(G)}else if(Q=="AssignmentExpression"){var l=G.operator,y=G.left,Y=y.type,F=iu.EZ(y,m,A),w=iu.EZ(G.right,m,A),b=null;
if(!1){}else if(l=="=")b=w;else if(l=="+=")b=F+w;else if(l=="-=")b=F-w;else if(l=="*=")b=F*w;else if(l=="/=")b=F/w;
else if(l=="%=")b=F%w;else if(l=="&=")b=F&w;else if(l=="|=")b=F|w;else if(l=="&&=")b=F&&w;else if(l=="||=")b=F||w;
else console.log(G);if(Y=="Identifier"){var j=y.name;if(A.hasOwnProperty(j))A[j]=b;else A.__window[j]=b}else if(Y=="MemberExpression"){var _=iu.eval(y.property,m,A),D=iu.EZ(y.object,m,A);
if(D._T!=null)iu.Vx.arH(D,_,b,m,A);else D[_]=b}else console.log(G)}else if(Q=="Identifier")return G.name;
else if(Q=="Literal")return G.value;else if(Q=="UpdateExpression"){var l=G.operator,t=G.argument.name,R=iu.EZ(G.argument,m,A),K=A;
if(K[t]==null)K=A.__window;if(!1){}else if(l=="++"){K[t]++;return G.prefix?K[t]:K[t]-1}else if(l=="--"){K[t]--;
return G.prefix?K[t]:K[t]+1}else console.log(G)}else if(Q=="UnaryExpression"){var l=G.operator,d=iu.EZ(G.argument,m,A);
if(d._T=="UnitValue"){if(l=="-")return-d.k;else return iu.arE(d.k,l)}else return iu.arE(d,l)}else if(Q=="BinaryExpression"||Q=="LogicalExpression"){var l=G.operator,y=iu.EZ(G.left,m,A),d=iu.EZ(G.right,m,A);
if(y==null||d==null)return iu.Qj(y,d,l);else if(y._T=="UnitValue"&&d._T=="UnitValue")return iu.Qj(y.k,d.k,l);
else if(y._T=="UnitValue")return iu.Qj(y.k,d,l);else if(d._T=="UnitValue"){if(l=="-")return-(y-d.k);
else return iu.Qj(y,d.k,l)}else return iu.Qj(y,d,l)}else if(Q=="IfStatement"||Q=="ConditionalExpression"){var o=iu.EZ(G.test,m,A);
if(o)return iu.eval(G.consequent,m,A);else if(G.alternate)return iu.eval(G.alternate,m,A)}else if(Q=="ForInStatement"){iu.eval(G.left,m,A);
var k=G.left.declarations[0].id.name,v=iu.EZ(G.right,m,A);for(var U in v){A[k]=U;var u=iu.eval(G.body,m,A);
if(A.__break)break;if(A.__return)return u}A.__break=!1}else if(Q=="ForStatement"){iu.eval(G.init,m,A);
while(iu.eval(G.test,m,A)){var u=iu.eval(G.body,m,A);if(A.__break)break;if(A.__return)return u;iu.eval(G.update,m,A)}A.__break=!1}else if(Q=="DoWhileStatement"){do{var u=iu.eval(G.body,m,A);
if(A.__break)break;if(A.__return)return u}while(iu.eval(G.test,m,A));A.__break=!1}else if(Q=="TryStatement"){iu.eval(G.block,m,A);
if(A.__throw){var B=G.handler;A[B.param.name]=A.__throw;A.__throw=!1;iu.eval(B.body,m,A);delete A[B.param.name]}}else if(Q=="EmptyStatement"){}else console.log(G)};
iu.Qj=function(G,m,A){if(A=="+")return G+m;else if(A=="-")return G-m;else if(A=="*")return G*m;else if(A=="/")return G/m;
else if(A=="%")return G%m;else if(A=="^")return G^m;else if(A=="&")return G&m;else if(A=="&&")return G&&m;
else if(A=="|")return G|m;else if(A=="||")return G||m;else if(A=="<")return G<m;else if(A==">")return G>m;
else if(A=="=="){if(G._T&&m._T)return G.k==m.k;return G==m}else if(A=="===")return G===m;else if(A=="<=")return G<=m;
else if(A==">=")return G>=m;else if(A=="!=")return G!=m;else if(A=="!==")return G!==m;else if(A=="<<")return G<<m;
else if(A==">>")return G>>m;else console.log(A)};iu.arE=function(G,m){if(m=="-")return-G;else if(m=="!")return!G;
else if(m=="~")return~G;else if(m=="+")return G;else console.log(obj)};iu.EZ=function(G,m,A){var Q=G.type;
if(Q=="Identifier")return iu.ajn(G.name,m,A);else return iu.eval(G,m,A)};iu.ajn=function(G,m,A){if(G=="undefined")return undefined;
else if(A.hasOwnProperty(G))return A[G];else if(G=="app")return{_T:"Application"};else if(G=="$")return{_T:"$"};
else if(iu.Vx.aec.indexOf(G)!=-1)return iu.Vx.r9({_T:"Application"},G,m,A);else if(A.__window.hasOwnProperty(G))return A.__window[G];
else if(window[G]&&!iu.fv[G])return window[G];else{A[G]=null;return null}};iu.Vx={};iu.Vx.ac7=function(G,m,A,Q){var H;
if(G=="SolidColor")H={_T:G,k:[1,0,0,0]};if(G=="RGBColor")H={_T:G,k:[1,0,0,0]};if(G=="Window")H={_T:G,k:new de(m[0],m[1],m[2])};
if(G=="ExportOptionsSaveForWeb")H={_T:G,k:{RI:"png",PD:100}};if(G=="JPEGSaveOptions")H={_T:G,k:{RI:"jpg",PD:100}};
if(G=="PDFSaveOptions")H={_T:G,k:{RI:"pdf",a93:""}};if(G=="File")H={_T:G,k:m[0]};if(G=="ActionReference")H={_T:G,k:[]};
if(G=="ActionDescriptor")H={_T:G,k:{}};if(G=="ActionList")H={_T:G,k:[]};if(G=="UnitValue")H={_T:G,k:m.length==0?0:parseFloat(m[0])};
return H};iu.Vx.aec="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
iu.Vx.a9M=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];iu.Vx.r9=function(G,m,A,Q){var H=A.a3,J=A.Bh();
if(!1){}else if(m=="typename"){if(G._T=="Layer")return G.k.r8()?"LayerSet":"ArtLayer";else return G._T}else if(["Document","Layer"].indexOf(G._T)!=-1&&["layers","artLayers","layerSets"].indexOf(m)!=-1){var b=J.root,O={_T:"Layers",tO:m,k:[]};
if(G._T=="Layer")b=J.root.Zu(J.g.indexOf(G.k));if(b.children==null)return null;for(var $=0;$<b.children.length;
$++){var a=b.children[$].i,e=a.r8();if(e&&m=="artLayers"||!e&&m=="layerSets")continue;O.k.push({_T:"Layer",k:a})}O.k.reverse();
return O}else if(G._T=="Documents"||G._T=="Layers"||G._T=="HistoryStates"||G._T=="LayerComps"){if(!1){}else if(m=="length")return G.k.length;
else if(Number.isInteger(m))return G.k[m];else console.log(G._T+": unknown property ",m)}else if(G._T=="Application"){if(!1){}else if(m=="activeDocument")return{_T:"Document",k:A.Bh()};
else if(m=="documents"){var O={_T:"Documents",k:[]};for(var $=0;$<A.t4.length;$++)O.k.push({_T:"Document",k:A.t4[$]});
return O}else if(m=="fonts")return{_T:"TextFonts"};else if(m=="preferences")return{_T:"Preferences"};
else if(m=="displayDialogs")return{_T:"DialogModes"};else if(m=="foregroundColor"||m=="backgroundColor"){var R=m[0]=="f"?H.yu:H.qU;
return{_T:"SolidColor",k:[1,(R>>>16&255)/255,(R>>>8&255)/255,(R>>>0&255)/255]}}else if(m=="UI")return{_T:"UI"};
else console.log(G,m)}else if(G._T=="Document"){var J=G.k;if(!1){}else if(m=="activeLayer"){var a=J.g[J.c[0]];
return{_T:"Layer",k:a}}else if(m=="resolution")return J.SV;else if(m=="width")return J.e;else if(m=="height")return J.n;
else if(m=="name")return J.name;else if(m=="saved")return!J.CP();else if(m=="selection")return{_T:"Selection"};
else if(m=="activeHistoryState")return{_T:"HistoryState",lW:J.kZ};else if(m=="source")return J.nt;else if(m=="layerComps"){var p=J.Ve.list.v,P=[];
for(var $=0;$<p.length;$++)P.push({_T:"LayerComp",k:$});return{_T:"LayerComps",k:P}}else if(m=="historyStates"){var z=[];
for(var $=0;$<J.history.length;$++)z.push({_T:"HistoryState",lW:$});return{_T:"HistoryStates",k:z}}else console.log(G,m)}else if(G._T=="LayerComp"){if(m=="name")return J.Ve.list.v[G.k].v.Nm.v;
else throw m}else if(G._T=="Layer"){var Z={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},a=G.k;
if(!1){}else if(m=="visible")return a.HX();else if(m=="selected")return J.c.indexOf(J.g.indexOf(a))!=-1;
else if(m=="grouped")return a.hd;else if(Z[m]!=null)return a.AL(Z[m]);else if(m=="opacity")return a.opacity*100/255;
else if(m=="blendMode")return a.w4;else if(m=="name")return a.getName();else if(m=="textItem")return{_T:"TextItem",k:a};
else if(m=="bounds"){var W=f.Q.E8(J,[J.g.indexOf(a)]);return iu.Vx.anv(W,J)}else if(m=="parent"){var T=A.t4;
for(var $=0;$<T.length;$++)if(T[$].g.indexOf(a)!=-1)return{_T:"Document",k:T[$]}}else if(m=="kind"){var i=iu.Vx.FD;
for(var $=0;$<i.length;$++)if(a.add[i[$]]!=null)return $;return 0}else console.log(G,m)}else if(G._T=="Selection"){if(!1){}else if(m=="bounds")return iu.Vx.anv(A.Bh().q.rect,J);
else console.log(G,m)}else if(G._T=="TextItem"){var X=G.k.add.TySh,U=X.DQ,M=fC.Gn(U),C=X.A.kF(),x=fC.ui(U,0,Math.max(0,M.length-2));
if(m=="contents")return M.slice(0,M.length-1).replace(/\n/g,"\r");else if(m=="font")return x.In.Font!=null?x.sa[x.In.Font].Name:null;
else if(m=="size")return iu.Vx.DD(x.In.FontSize*C,J);else if(m=="leading")return iu.Vx.DD(x.In.Leading*C,J);
else if(m=="tracking")return iu.Vx.DD(x.In.Tracking);else if(m=="baselineShift")return iu.Vx.DD(x.In.BaselineShift);
else if(m=="fauxBold")return x.In.FauxBold;else if(m=="fauxItalic")return x.In.FauxItalic;else if(m=="kind")return 1-fC.Sv(U);
else if(m=="useAutoLeading")return x.DF.AutoLeading;else if(m=="hyphenation")return x.DF.AutoHyphenate;
else if(m=="justification")return iu.Vx.DD(x.DF.Justification);else if(m=="color")return{_T:"SolidColor",k:x.In.FillColor.Values.slice(0)};
else if(m=="width"||m=="height"){var L=fC.sr(U),E=(L[2]-L[0])*C,l=(L[3]-L[1])*C;return iu.Vx.DD(m=="width"?E:l,J)}else if(m=="position"){var y=X.A;
return iu.Vx.aqb([y.Zh,y.bx],J)}else if(m=="horizontalScale"||m=="verticalScale"){var Y=m[0].toUpperCase()+m.slice(1);
return Math.round(x.In[Y]*100)}else if(m=="antiAliasMethod")fC.n0(X);else console.log(G,m)}else if(G._T=="Preferences"){if(m=="rulerUnits")return H.bt.ww;
else console.log(G,m)}else if(G._T=="SolidColor"){if(m=="rgb")return{_T:"RGBColor",k:G.k};else console.log(G,m)}else if(G._T=="RGBColor"){var W=Math.round(255*G.k[1]),F=Math.round(255*G.k[2]),w=Math.round(255*G.k[3]);
if(!1){}else if(m=="red")return W;else if(m=="green")return F;else if(m=="blue")return w;else if(m=="hexValue")return"#"+N.as(W<<16|F<<8|w).toUpperCase();
else console.log(G,m)}else if(G._T=="UnitValue"){if(m=="value")return G.k;else throw"e"}else if(G._T=="ExportOptionsSaveForWeb"){if(m=="format")return G.k.RI;
else if(m=="PNG8"||m=="interlaced")return!1;else if(m=="quality")return G.k.PD;else if(m=="transparency")return!0;
else throw m}else if(G._T=="JPEGSaveOptions"||G._T=="PDFSaveOptions"){return 0}else console.log(G,m)};
iu.Vx.anv=function(G,m){return iu.Vx.aqb([G.x,G.y,G.x+G.e,G.y+G.n],m)};iu.Vx.aqb=function(G,m){var A=[];
for(var $=0;$<G.length;$++)A.push(iu.Vx.DD(G[$],m));return A};iu.Vx.a88=function(G){var m=[];for(var $=0;
$<G.length;$++)m.push(G[$]._T?G[$].k:G[$]);return m};iu.Vx.DD=function(G,m){return{_T:"UnitValue",k:G}};
iu.Vx.aju=function(G,m){if(G._T=="UnitValue")return G.k;return G};iu.Vx.arH=function(G,m,A,Q,H){var J=new j8(r.E.w,!0),b=new j8(r.E.W,!0),O=Q.Bh(),a=Q.a3;
if(!1){}else if(G._T=="Application"){if(!1){}else if(m=="activeDocument"){b.data={d:r.S.fP,EY:A.k};Q.u(b)}else if(m=="displayDialogs"){}else console.log(G,m,A)}else if(G._T=="Document"){var e=G.k;
if(!1){}else if(m=="name"){J.b=f.p4;J.data={d:c.fo,k:A,acn:!0,y4:e};O.AB=!0}else if(m=="source")e.nt=A;
else if(m=="activeLayer"){e.c=[e.g.indexOf(A.k)]}else if(m=="activeHistoryState"){J.b=f.c5;J.data={d:"h_itemchange",index:A.lW}}else console.log(G,m)}else if(G._T=="Layer"){J.b=f.p4;
var R={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},p=G.k,P=O.g.indexOf(p);
if(!1){}else if(m=="visible"){if(p.HX()!=A)J.data={d:c.Bg,i:P}}else if(m=="opacity"){J.data={d:c.h2,i:P,wK:Math.round(255*A/100)}}else if(m=="blendMode"){J.data={d:c.x_,i:P,wK:ib.Vh.indexOf(A)}}else if(m=="name"){J.data={d:c._C,i:P,name:A}}else if(R[m]!=null){J.data={d:c.FV,i:P,wK:[[A],[R[m]]]}}else if(m=="kind"){J.data={d:c.OR,i:P,sb:iu.Vx.FD[A]}}else if(m=="grouped"){J.data={d:c.Y5,i:P,wK:A}}else console.log(G,m,A)}else if(G._T=="TextItem"){J.b=f.G8;
var p=G.k,z=p.add.TySh,Z=JSON.parse(JSON.stringify(z.DQ)),W=z.A.clone(),T=z.A.kF(),X=fC.Gn(Z),U=fC.ui(Z,0,X.length-2),M=!1;
if(!1){}else if(m=="contents"){fC.Ow(Z,0,X.length-1);fC.OA(Z,0,A.replace(/\r/g,"\n"))}else if(m=="size"){U.In.FontSize=(A.k!=null?A.k:A)/T;
M=!0}else if(m=="leading"){U.In.Leading=(A.k!=null?A.k:A)/T;M=!0}else if(m=="tracking"){U.In.Tracking=A.k!=null?A.k:A;
M=!0}else if(m=="baselineShift"){U.In.BaselineShift=A.k!=null?A.k:A;M=!0}else if(m=="fauxBold"){U.In.FauxBold=A;
M=!0}else if(m=="fauxItalic"){U.In.FauxItalic=A;M=!0}else if(m=="kind"){var C=fC.Sv(Z);if(C==1&&A==1){var x=new dq(Z,Q.a3.O8).DF[0],L=x.K$[0].end,E=x.u0[L-1].end;
fC.Ow(Z,0,X.length-1);fC.OA(Z,0,X.slice(0,E-1))}if(C==A)fC.hR(Z,1-A)}else if(m=="useAutoLeading"){U.DF.AutoLeading=A;
M=!0}else if(m=="hyphenation"){U.DF.AutoHyphenate=A;M=!0}else if(m=="justification"){U.DF.Justification=A;
M=!0}else if(m=="font"){fC.fT(U,A);M=!0}else if(m=="color"){U.In.FillColor.Values=A.k.slice(0);M=!0}else if(m=="width"||m=="height"){var l=fC.sr(Z).slice(0),y=iu.Vx.aju(A);
if(m=="width")l[2]=Math.round(l[0]+y/T);else l[3]=Math.round(l[1]+y/T);fC.vL(Z,l)}else if(m=="position"){W.Zh=A[0];
W.bx=A[1]}else if(m=="horizontalScale"||m=="verticalScale"){var Y=m[0].toUpperCase()+m.slice(1);U.In[Y]=A/100;
M=!0}else if(m=="antiAliasMethod")fC.HI(z,A);else console.log(G,m,A);if(M)fC.QT(Z,0,X.length-1,U);J.data={d:"newED",Ox:O.g.indexOf(p),Nq:Z,A:W}}else if(G._T=="Preferences"){if(!1){}else if(m=="rulerUnits"){var F=JSON.parse(JSON.stringify(a.bt));
F.ww=A;b.data={d:r.S.$g,WF:dG.iS,wK:F};Q.u(b)}else console.log(G,m,A)}else if(G._T=="SolidColor"){if(m=="rgb")G.k=A.k;
else throw m}else if(G._T=="RGBColor"){if(!1){}else if(m=="red")G.k[1]=A/255;else if(m=="green")G.k[2]=A/255;
else if(m=="blue")G.k[3]=A/255;else if(m=="hexValue"){var w=N.BI(A.slice(1));G.k[1]=(w>>>16&255)/255;
G.k[2]=(w>>>8&255)/255;G.k[3]=(w>>>0&255)/255}else console.log(G,m)}else if(G._T=="ExportOptionsSaveForWeb"){if(m=="format")G.k.RI=A;
else if(m=="PNG8"||m=="transparency"||m=="interlaced"){}else if(m=="quality")G.k.PD=A;else throw m}else if(G._T=="JPEGSaveOptions"){if(m=="quality")G.k.PD=Math.round(100*A/12)}else if(G._T=="PDFSaveOptions"){if(m=="preset")G.k.a93=A}else console.log(G,m,A);
if(J.data!=null)Q.u(J)};iu.Vx.wa=function(G,m,A,Q,H){var J=G._T,b=null,O=new j8(r.E.w,!0),a=new j8(r.E.NH,!0),e=new j8(r.E.W,!0),R=Q.Bh(),p=Q.t4;
if(!1){}else if(J=="Application"){if(!1){}else if(m=="charIDToTypeID"){var P=A[0].trim(),z={slct:"select",Dlt:"delete",Mk:"make"};
return z[P]?z[P]:P}else if(m=="stringIDToTypeID"){var Z=A[0].trim(),z={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},W=z[Z];
return W==null?Z:W}else if(m=="executeAction"){console.log(A);var T;if(A[1]){T=A[1].k;T.classID=A[0]}var i={setd:"set"},X=i[A[0]];
if(X==null)X=A[0];var U=hE.qV[A[0]];if(U&&hE.Qg[U])X=hE.Qg[U];a.data={YI:X,aL:T}}else if(m=="executeActionGet"){return{_T:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:A[0].k}}}}else if(m=="doAction"){e.data={d:r.S.qB,ii:[A[0],A[1]]}}else if(m=="open"){e.data={d:r.S.BG,WF:{url:A[0]}};
if(A[2]&&p.length!=0)e.data.WF.z4=p.indexOf(R)}else if(m=="echoToOE"){e.data={d:r.S.pH,WF:A[0]}}else console.log(m)}else if(J=="LayerComp"){if(m=="apply"){O.b=f.uX;
O.data={d:"setLC",lW:R.Ve.list.v[G.k].v.compID.v}}else throw m}else if(J=="Document"){var R=G.k;if(!1){}else if(m=="crop"){a.data=f.MB.qE(A[0])}else if(m=="trim"){var M=[];
for(var $=0;$<4;$++)M.push(A[$+1]!=null?A[$+1]:!0);a.data=f.MB.Mr(A[0]!=null?A[0]:0,M)}else if(m=="suspendHistory"){var C=acorn.parse(A[1]);
iu.eval(C,Q,H)}else if(m=="save"){e.data={d:r.S.Fc}}else if(m=="saveToOE"){e.data={d:r.S.Fc,P_:A}}else if(m=="rotateCanvas"){a.data=f.Q.MR(!0,A[0])}else if(m=="resizeImage"||m=="resizeCanvas"){var x=A[0],L=A[1];
if(typeof x!="number"){x=R.e*parseFloat(x.slice(0,x.length-1))/100;L=R.n*parseFloat(L.slice(0,L.length-1))/100}if(m=="resizeCanvas")a.data=f.MB.Mi(Math.round(x),Math.round(L),A[2]);
else a.data=f.MB.me(Math.round(x),Math.round(L),null,1)}else if(m=="paste"){e.data={d:r.S.cs,FK:A.length!=0&&A[0],sJ:!0}}else if(m=="close"){e.data={d:r.S.Am,xv:R}}else if(m=="exportDocument"||m=="saveAs"){var E=H.__fs,l=A[0].k.replace(":","").replace("~/",""),y=m=="exportDocument"?A[2].k:A[1].k,Y=dt.DZ(R,y.RI,null,null,y.RI=="pdf"?null:[y.PD],Q.a3);
E[l]=new Uint8Array(Y)}else console.log(G,m,A)}else if(J=="Layer"){var w=G.k,j=R.g.indexOf(w);if(!1){}else if(m=="copy"){iu.Vx.eR(R,Q,0);
e.data={d:r.S.ql,hD:A[0],Mw:j,sJ:!0};Q.u(e);delete e.data;iu.Vx.eR(R,Q,1)}else if(m=="clear"){iu.Vx.eR(R,Q,0);
a.data={YI:"delete"};Q.u(a);delete a.data;iu.Vx.eR(R,Q,1)}else if(m=="duplicate"){if(A.length==0){O.data={d:c.h_,i:j};
O.b=f.p4;Q.u(O);O.data=null;b={_T:"Layer",k:R.g[R.c[0]]}}else if(A[0]._T=="Document"){O.data={d:c.zZ,g:R.xG(j),dL:R,YL:A[0].k};
O.b=f.p4}}else if(m=="merge"||m=="remove"){O.data={d:m=="merge"?c.ZH:c.ip,i:j};O.b=f.p4;if(m!="remove")b={_T:"Layer",k:R.g[R.c[0]]}}else if(m=="move"){O.data={d:c.WV,source:j,target:R.g.indexOf(A[0].k),fk:A[1]!=3?.6:.3};
O.b=f.p4}else if(m=="rasterize"){a.data={YI:"rasterizeLayer",aL:{classID:"rasterizeLayer",null:ah.TH("Lyr",!0)}}}else if(m=="rotate"){O.data={d:"rot",om:[2,5],k:-A[0]*Math.PI/180,nR:A[1],i:j};
O.b=f.Py}else if(m=="resize"){O.data={d:"scl",om:[2,4],k:new dw(A[0]/100,A[1]/100),nR:A[2],i:j};O.b=f.Py}else if(m=="translate"){var _=iu.Vx.a88(A);
O.data={d:"trsl",i:j,JS:_[0],lo:_[1]};O.b=f.ld}else if(m=="link"){O.data={d:c.GS,a7F:[j,R.g.indexOf(A[0].k)]};
O.b=f.p4}else if(m=="invert"){O.b=f.wJ;O.data={d:"start",VS:"nvrt"}}else if(m.startsWith("apply")&&bH.SE[m.slice(5)]){var _=iu.Vx.a88(A),D=bH.SE[m.slice(5)];
a.data={YI:bH.Qg[D]};var T=bH.wZ(D);if(T){bH.Pv["g"+D](T,_);a.data.aL=T}}else console.log(G,m,A)}else if(J=="Documents"){if(m=="getByName"){for(var $=0;
$<p.length;$++)if(p[$].name==A[0])return{_T:"Document",k:p[$]};return null}else if(m=="add"){var t=A[5];
if(t==null)t=1;a.data=fy.xU(A[0],A[1],A[2],A[3],["Wht","Trns","BckC"][t],!1)}else throw"e"}else if(J=="Layers"){if(m=="getByName"){for(var $=0;
$<G.k.length;$++)if(G.k[$].k.getName()==A[0]){b=G.k[$];break}if(b==null)H.__throw={message:"No layer with a name "+A[0]}}else if(m=="add"){O.data={d:G.tO=="layerSets"?c.NJ:c.$o};
O.b=f.p4;Q.u(O);O.data=null;b={_T:"Layer",k:R.g[R.c[0]]}}else console.log(G,m,A)}else if(G._T=="Selection"){if(m=="select"){var K=A[0],o=[];
for(var $=0;$<K.length;$++)o.push(K[$][0],K[$][1]);a.data=f.iK.ka(o)}else if(m=="clear"){a.data={YI:"delete"}}else if(m=="selectAll"){a.data=f.iK.Lw(!0)}else if(m=="invert"){a.data={YI:"inverse"}}else if(m=="copy"){e.data={d:r.S.ql}}else if(m=="deselect"){a.data=f.iK.Lw()}else if(m=="fill"){var k=A[0].k;
k=N.X.N4({p:k[1]*255,z:k[2]*255,h:k[3]*255});a.data=f.Xi.H2("Clr",A[1],A[2]==null?1:A[2]/100,k)}else console.log(G,m,A)}else if(G._T=="Window"){if(m=="show"){e.data={d:r.S.XG,Ue:G.k}}else throw"e"}else if(G._T=="ActionReference"){if(m=="putProperty"){G.k.push({t:"prop",v:{classID:A[0],keyID:A[1]}})}else if(m=="putClass"){G.k.push({t:"Clss",v:{classID:A[0]}})}else if(m=="putEnumerated"){G.k.push({t:"Enmr",v:{classID:A[0],typeID:A[1],enum:A[2]}})}else if(m=="putName"){G.k.push({t:"name",v:{classID:A[0],val:A[1]}})}else console.log(m,A)}else if(G._T=="ActionDescriptor"||G._T=="ActionList"){if(m=="putReference"){G.k[A[0]]={t:"obj ",v:A[1].k}}else if(m=="putDouble"){G.k[A[0]]={t:"doub",v:A[1]}}else if(m=="putUnitDouble"){G.k[A[0]]={t:"UntF",v:{type:A[1],val:A[2]}}}else if(m=="putObject"){if(G._T=="ActionList"){var v=A[1].k;
v.classID=A[0];G.k.push({t:"Objc",v:v})}else{var v=A[2].k;v.classID=A[1];G.k[A[0]]={t:"Objc",v:v}}}else if(m=="putList"){G.k[A[0]]={t:"VlLs",v:A[1].k}}else if(m=="putBoolean"){G.k[A[0]]={t:"bool",v:A[1]}}else if(m=="putInteger"){G.k[A[0]]={t:"long",v:A[1]}}else if(m=="putString"){G.k[A[0]]={t:"TEXT",v:A[1]}}else if(m=="putEnumerated"){var u={};
u[A[1]]=A[2];G.k[A[0]]={t:"enum",v:u}}else if(m=="hasKey"){var B=G.k.null.v;for(var $=0;$<B.length;$++){if(B[$].v.keyID==A[0]){if(A[0]=="UsrM"){return R.g[R.c[0]].fm()!=null}else throw A}}}else console.log(m,A)}else if(G._T=="$"){if(m=="writeln"){console.log(A[0])}else throw m}else if(G._T=="UI"){var S;
if(m=="zoomIn"||m=="zoomOut"){S={d:"zoom",it:m=="zoomIn"}}else if(m=="fitTheArea"){S={d:"adapt",k:"fitscr"}}else if(m=="pixelToPixel"){S={d:"adapt",k:"pixel"}}O.b=f._N;
O.data=S}else console.log(G,m,A);if(O.data)Q.u(O);if(a.data)Q.u(a);if(e.data)Q.u(e);return b};iu.Vx.eR=function(G,m,A){var Q=new j8(r.E.w,!0);
Q.b=f.vj;var H=new j8(r.E.NH,!0);if(A==0){iu.Vx.ari=G.q;H.data=f.iK.Lw(!0)}else{var J=iu.Vx.ari;if(J)Q.data={d:"setsel",om:"Restore Selection",q:{rect:J.rect.clone(),channel:J.channel.slice(0)}};
else H.data=f.iK.Lw()}m.u(Q.data?Q:H)};iu.Vx.ari=null;iu.Vx.a0={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
iu.Vx.a0.ColorBlendMode=iu.Vx.a0.BlendMode;iu.Vx.FD="---- SoLd TySh SoCo GdFl PtFl".split(" ");function fg(){}fg.qc={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
fg.ju={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
fg.aeC=function(G,m){if(m==null)m={};var A=fg.ju,Q=[],H=[],J="";for(var $=0;$<G.length;$++){var b=G[$],O=A[b[0]+""];
if(O&&m[O]==null)m[O]=b[1];else if(b[0]==12)H.push(b[1]);else if(b[0]==25)Q.push(b[1]);else if(b[0]==55)J=b[1];
else if(b[0]==60)J+=";"+b[1]}if(J!=""&&m["exif:DateTimeOriginal"]==null)m["exif:DateTimeOriginal"]=J;
if(H.length!=0&&m["Iptc4xmpCore:SubjectCode"]==null)m["Iptc4xmpCore:SubjectCode"]=H.join(";");if(Q.length!=0&&m["dc:Keywords"]==null)m["dc:Keywords"]=Q.join(";");
return m};fg.at8=function(G){var m=fg.ju,A=[];for(var Q in m)if(G[m[Q]])A.push([parseInt(Q),G[m[Q]]]);
if(G["Iptc4xmpCore:SubjectCode"]){var H=G["Iptc4xmpCore:SubjectCode"].split(";");for(var $=0;$<H.length;
$++)A.push([12,H[$].trim()])}if(G["dc:Keywords"]){var H=G["dc:Keywords"].split(";");for(var $=0;$<H.length;
$++)A.push([25,H[$].trim()])}A.sort(function(J,b){return J[0]-b[0]});return A};fg.ag$=function(G,m){if(m==null)m={};
var A=new DOMParser,Q=A.parseFromString(G,"image/svg+xml"),H=Q.getElementsByTagName("rdf:Description")[0];
if(H==null)return m;var J=fg.qc;for(var b in J){var O=J[b][2];if(O==null)continue;var a=H.getElementsByTagName(O)[0];
if(a==null)continue;var e=a.getElementsByTagName("rdf:li"),R=[];for(var $=0;$<e.length;$++)R.push(e[$].textContent);
m[b]=R.join("; ")}return m};fg.a2$=function(G){var m=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],A=fg.qc;
for(var Q in A){var H=G[Q],J=A[Q][2],b="Seq",O="";if(H==null||J==null)continue;if(J=="dc:title"||J=="dc:description"){b="Alt";
O=" xml:lang=\"x-default\""}if(J=="dc:subject")b="Bag";m.push("\t<"+J+"><rdf:"+b+">");var a=J=="dc:subject"?H.split(";").join(",").split(","):[H];
for(var $=0;$<a.length;$++)m.push("\t\t<rdf:li"+O+">"+a[$].trim()+"</rdf:li>");m.push("\t</rdf:"+b+"></"+J+">")}m.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return m.join("\n")};fg.a9g=function(G){var m=[];for(var $=0;$<G.length;$++)m[$]=G[$][1]==0?0:G[$][0]/G[$][1];
return m};fg.acY=function(G){var m=[];for(var $=0;$<G.length;$++){var A=G[$],Q=1;if(A!=Math.round(A)){Q=1e3;
A=Math.round(A*Q)}m[$]=[A,Q]}return m};fg.KG=function(G,m){var A=fg.qc;if(m==null)m={};for(var Q in A){var H=A[Q][1],J="t"+H;
if(H!=null&&G[J]!=null){var b=G[J];if(H==0)b=b.join(".");else if(H==2||H==4){var O=G["t"+(H-1)];if(O==null)O=[H==2?"N":"E"];
b=fg.a9g(b).join(",")+O[0]}else if(H==42034)b=fg.a9g(b).join(" ");else if(H==270||H==315){var a=b[0],e=new Uint8Array(a.length);
V.aw(e,0,a);b=V.Io(e)}else b=b[0];m[Q]=b}}if(G.exifIFD)fg.KG(G.exifIFD,m);if(G.gpsiIFD)fg.KG(G.gpsiIFD,m);
return m};fg.zw=function(G,m,A){var Q=fg.qc,J=0,O=0;if(m==null)m={};var H={},b={};for(var a in Q){if(G[a]==null||Q[a][1]==null)continue;
var e=Q[a][1],R="t"+e,p=m;if(a.startsWith("exif:")){p=H;J++;if(a.startsWith("exif:GPS")){p=b;O++}}var P=G[a];
if(e==0)P=new Uint8Array(P.split(".").map(parseFloat));else if(e==2||e==4){var z=P.length;p["t"+(e-1)]=[P.slice(P.length-1)];
P=fg.acY(P.split(",").map(parseFloat))}else if(e==42034)P=fg.acY(P.split(" ").map(parseFloat));else if(e==270||e==315){var Z=V.Dn(P);
P=[V.uB(Z,0,Z.length)]}else P=[P];p[R]=P}if(J!=0){m.exifIFD=H;m.t34665=[0]}if(O!=0){m.gpsiIFD=b;m.t34853=[0]}var W=new Date,T=[W.getFullYear(),W.getMonth()+1,W.getDate(),W.getHours(),W.getMinutes(),W.getSeconds()];
for(var $=0;$<6;$++)T[$]=(T[$]+"").padStart(2,"0");m.t305=["Photopea Editor (www.photopea.com)"];if(A!=!0)m.t306=[T[0]+":"+T[1]+":"+T[2]+" "+T[3]+":"+T[4]+":"+T[5]];
return m};var g={};g.anf=0;g.us=function(){g.anf++;return g.anf};g.asc="uint8";g.aay=function(){var G=g.a3E();
if(G=="")return 0;if(G!=g.Xh("_TXZRPB;d7@;")){var m=g.te[bl.vH][bl.Gr],A=m.indexOf(String.fromCharCode(35)),Q;
if(A==-1)return 0;try{Q=JSON.parse(g.te[bl.au5](m.slice(A+1)))}catch(f5){return 0}var H=Q[g.Xh("bQ[ODL<E<M")];
if(H==null||H.length<<2!=64)return 0;var J=bl.bs(),b=parseInt(H.slice(3*4).split("").reverse().join(""),16)<<16;
if(b<J||H!=bl.ahN(b,G))return 0;return 2}return 1};g.a3E=function(){var G=g.te[g.mh("}$z{2*35")][g.Xh("W[\\ZQAJ?")],m=String.fromCharCode(46),A=G.split(m);
if(A.length<2)return"";var Q=A.pop();Q=A.pop()+m+Q;return Q};g.a3w=function(){if(g.te[bl.asU][bl.ajt]){var G=new g.te[bl.vw];
G[bl.rv](bl.amg,g.Xh("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+g.a3E());G[bl.Eh]()}};g.tL=function(){if(window.top!=window.self)return!1;
var G=navigator.userAgent.toLowerCase();if(G.indexOf("android")!=-1)return!1;if(G.indexOf("safari")!=-1&&G.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};g.Di=function(G){this.HT=G;this.apY=g.L("img");this.U4=g.L("canvas");
this.KC=null;this.at="";this.YR=null;this.mR=new dw(0,0);g.CY(this.HT,this.mW.bind(this))};g.Di.prototype.MZ=function(G,m){this.KC=G;
if(m)this.at=m;this.mW()};g.Di.prototype.mW=function(G){if(G)this.mR=g.zi(G,this.HT);var m=this.KC,A=typeof m=="string";
if(!A){var Q=g.G(),H=this.mR,J=m.PR.e,b=m.PR.n,O=typeof m.R0=="string",a=O?this.apY:this.U4;if(O)a.setAttribute("src",m.R0);
else{a.width=J;a.height=b;var e=a.getContext("2d"),R=new ImageData(new Uint8ClampedArray(m.R0.buffer),J,b);
e.putImageData(R,0,0)}a.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(H.y-m.IC.y/Q)+"px; left:"+(H.x-m.IC.x/Q)+"px; width:"+J/Q+"px; height:"+b/Q+"px");
var p=this.YR;if(p==null||p!=a){if(p)this.HT.removeChild(p);this.HT.appendChild(a);this.YR=a}}else if(this.YR){this.HT.removeChild(this.YR);
this.YR=null}this.HT.setAttribute("style","cursor:"+(A?m:"none")+"; "+this.at)};g.vC=function(G){return G.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
g.EL=function(G,m){G.ym(f5.get([12,41]).charAt(0)+":");m.ym(f5.get([12,42]).charAt(0)+":")};g.L=function(G,m){var A=document.createElement(G);
if(m!=null)A.setAttribute("class",m);return A};g.iJ=function(G){while(G.firstChild)G.removeChild(G.firstChild)};
g.kG=function(G,m){var A=G.getAttribute("class");if(A==null)A="";A=A.split(" ");if(A.indexOf(m)==-1)A.push(m);
G.setAttribute("class",A.join(" "))};g.W8=function(G,m){var A=G.getAttribute("class");if(A==null)return;
A=A.split(" ");if(A.indexOf(m)!=-1)A.splice(A.indexOf(m),1);G.setAttribute("class",A.join(" "))};g.m$=function(G){while(!0){if(G==document)return!0;
if(G==null)return!1;G=G.parentNode}};g.Qm=function(G){G.appendChild(g.L("br"))};g.RB=function(G){G.appendChild(g.L("hr"))};
g.lU=function(G,m,A){var Q=new iL([1,12,1],A==null?!0:A,null,!0);if(G)Q.J("click",G.Q7,G);if(m)m.appendChild(Q.m);
return Q};g.te=document;g.gR=function(G){var m=0;for(var $=0;$<G;$++)m+=Math.random();return m/G<Math.PI/4};
g.Xh=function(G){var m="";if(!g.gR(28))G+="-3";for(var $=0;$<G.length;$++){var A=G.charCodeAt($);if(A<32||126<A)throw"e";
m+=String.fromCharCode(32+(A-32+17+3*$)%95)}return m};g.mh=function(G){var m="";if(!g.gR(28))G+="-1";
for(var $=0;$<G.length;$++){var A=G.charCodeAt($);A-=32;A+=95e4;A-=17+3*$;A=A%95;m+=String.fromCharCode(32+A)}return m};
g.P6=function(G){var m=Math.random();g.asc="uint"+(3+m);return new G};(function(){var G=window.PointerEvent,m=G?"pointer":"mouse",A=m+"down",Q=m+"move",H=m+"up",J=!1;
g.Il=function(b,O){b.addEventListener(A,O,J);if(!G)b.addEventListener("touchstart",O,J)};g.CY=function(b,O){b.addEventListener(Q,O,J);
if(!G)b.addEventListener("touchmove",O,J)};g.$f=function(b,O){b.addEventListener(H,O,J);if(!G)b.addEventListener("touchend",O,J)};
g.an5=function(b,O){b.removeEventListener(A,O,J);if(!G)b.removeEventListener("touchstart",O,J)};g.k1=function(b,O){b.removeEventListener(Q,O,J);
if(!G)b.removeEventListener("touchmove",O,J)};g.P4=function(b,O){b.removeEventListener(H,O,J);if(!G)b.removeEventListener("touchend",O,J)}}());
g.sL=function(G){G.addEventListener("touchstart",g.WG,!1);G.addEventListener("touchmove",g.WG,!1);G.addEventListener("touchend",g.WG,!1);
G.addEventListener("gesturestart",g.WG,!1);G.addEventListener("gesturechange",g.WG,!1);G.addEventListener("gestureend",g.WG,!1)};
g.bi=function(G,m,A,Q){var H=g.G();G.width=Math.floor(m*H);G.height=Math.floor(A*H);if(Q)Q.scale(H,H);
g.a1O(G)};g.a1O=function(G){var m=g.G();G.style.width=G.width/m+"px";G.style.height=G.height/m+"px"};
g.AX=function(G,m,A){G.setAttribute("style","width:"+m/g.G()+"px; height:"+A/g.G()+"px")};g.zi=function(G,m){if(m==null)m=G.currentTarget;
var A=m.getBoundingClientRect();if(G.touches)G=G.touches.item(0);return{x:G.clientX-A.left,y:G.clientY-A.top}};
g.G=function(){return window.devicePixelRatio||1};g.hl=function(G){G.addEventListener("keydown",g.a1I,!1)};
g.a1I=function(G){G.stopPropagation()};g.WG=function(G){G.preventDefault()};g.zx=function(G){G.stopPropagation();
G.preventDefault()};g.y3=function(G,m,A){A=A?A:"";if(PIMG["__"+G]==null)A+=" gsicon";return"<img src=\""+PIMG[G]+"\" alt=\""+(m?m:"")+"\" class=\""+A+"\" />"};
g.QG=function(G,m,A,Q){var H=G.dataTransfer.getData("text/uri-list");if(H!=null&&H.startsWith("http")){var J=new j8(r.E.W,!0);
J.data={d:r.S.BG,WF:{url:H,pG:!0,z4:A,mm:Q}};m.u(J)}if(G.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var b=[],O=G.dataTransfer.items.length,a=G.dataTransfer.files;
for(var e of G.dataTransfer.items)e.getAsFileSystemHandle().then(function(R){b.push(R);if(b.length==O){var J=new j8(r.E.W,!0);
J.data={d:r.S.Bi,data:a,z4:A,mm:Q,aox:b};m.u(J)}})}else{var J=new j8(r.E.W,!0);J.data={d:r.S.Bi,data:G.dataTransfer.files,z4:A,mm:Q};
m.u(J)}};if(g.gR(27))g.te=window;else g.te=g.akq;g.te._cwY=g.te[g.mh("t$&!'31")];var cK={};cK.aoZ=function($){var G=cK.Ou[$],m=document.documentElement.style,Q=1;
m.setProperty("--base","#"+N.as(G["--base"]));m.setProperty("--bg-panel","#"+N.as(G["--bg-panel"]));
m.setProperty("--bg-canvas","#"+N.as(G["--bg-canvas"]));m.setProperty("--bg-input","#"+N.as(G["--bg-input"]));
m.setProperty("--bg-bbtn","#"+N.as(G["--bg-bbtn"]));m.setProperty("--bg-bbtnOver","#"+N.as(G["--bg-bbtnOver"]));
m.setProperty("--brdr","#"+N.as(G["--brdr"]));m.setProperty("--text-color","#"+N.as(G["--text-color"]));
m.setProperty("--brdrLgt","rgba(255,255,255,"+G["--brdrLgt"]+")");m.setProperty("--brdrDrk","rgba(  0,  0,  0,"+G["--brdrDrk"]+")");
m.setProperty("--alphaDark",""+G["--alphaDark"]);m.setProperty("--gs-invert",""+G["--gs-invert"]);var A=G["--sh-clr"];
m.setProperty("--sh-clr","rgba("+(A>>16)+","+(A>>8&255)+","+(A&255)+", 0.45)");m.setProperty("--sh-dy",""+G["--sh-dy"]+"px");
if(1<g.G()&&g.G()<1.5)Q=1/g.G();m.setProperty("--img20",20*Q+"px");m.setProperty("--img18",18*Q+"px");
if(PIMG!=null){var H="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var $=0;$<H.length;$++){var J=H[$],b=J.split("/").pop(),O=PIMG["__"+J]==null?G["--gs-invert"]:"0";
m.setProperty("--icon_"+b,"url("+PIMG[J]+")");m.setProperty("--icon_"+b+"_invrt",O)}}var a=document.querySelector("meta[name=theme-color]");
if(a)a.setAttribute("content","#"+N.as(G["--base"]))};cK.Ou=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function e7(){this.Y4={};this.yh={}}e7.prototype.aqy=function(G){var m=this.Y4[G];if(m==null)return!1;
return m.length>0};e7.prototype.addEventListener=function(G,m){this.J(G,m,null)};e7.prototype.J=function(G,m,A){if(this.Y4[G]==null){this.Y4[G]=[];
this.yh[G]=[]}this.Y4[G].push(m);this.yh[G].push(A)};e7.prototype.removeEventListener=function(G,m){var A=this.Y4[G];
if(A==null)return;var Q=A.indexOf(m);if(Q<0)return;var H=this.yh[G];A.splice(Q,1);H.splice(Q,1)};e7.prototype.u=function(G){G.currentTarget=this;
if(G.target==null)G.target=this;var m=this.Y4[G.type];if(m==null)return;var A=this.yh[G.type];for(var $=0;
$<m.length;$++){if(A[$]==null)m[$](G);else m[$].call(A[$],G)}};var j8=function(G,m){if(!m)m=!1;this.type=G;
this.target=null;this.currentTarget=null;this.bubbles=m;this.b=null;this._v=!1},r={E:{w:"0",W:"1",NH:"1.5",o:"2",yx:"3",a9m:"4"},S:{DG:"10",mo:"11",Pe:"12",OM:"13",Cv:"14",acw:"14.1",BG:"15",KL:"16",Ql:"17",tY:"18",Fc:"19",acg:"19.5",aoW:"20",Q4:"21",ql:"22",cs:"23",Cb:"24",XG:"25",nB:"26",fP:"27",lm:"28",aey:"29",Bi:"30",ce:"31",q9:"32",kk:"33",mX:"34",$g:"35",au2:"35.5",ZW:"37",aah:"38",nw:"39",f0:"40",Jy:"41",pH:"41.5",aan:"42",ov:"43",adl:"43.5",Am:"44",an$:"45",AW:"46",qh:"47",TS:"48",qB:"49",arD:"50",jz:"51"}};
function gB(){e7.call(this);this.parent=null;this.m=null;this.zp=0;this.V7=0}gB.prototype=new e7;gB.prototype.ao5=function(G){var jw=this;
while(jw!=null){if(jw==G)return!0;jw=jw.parent}return!1};gB.prototype.vY=function(){var G=this.m;return G.offsetWidth+G.clientLeft};
gB.prototype.alM=function(){var G=this.m;return G.offsetHeight+G.clientTop};gB.prototype.update=function(G){};
gB.prototype.u=function(G){e7.prototype.u.call(this,G);if(G.bubbles&&this.parent!=null)this.parent.u(G)};
gB.prototype._=function(){};gB.prototype.e9=function(G,m){};gB.prototype.Tx=function(G){g.kG(this.m,"disabled")};
gB.prototype.vF=function(G){g.W8(this.m,"disabled")};gB.prototype.bD=function(G){if(G)this.vF();else this.Tx()};
function av(G){gB.call(this);this.Pd=[];this.Hd=!1;this.aqG=0;this.WC={x:0,y:0,U_:!1};this.vN=G;this.akf=this.mC.bind(this);
this.j2=this.Vz.bind(this);this.a7D=this.Jx.bind(this);g.Il(G,this.akf);g.CY(G,this.j2);G.addEventListener("wheel",this.TW.bind(this),!1);
G.addEventListener("contextmenu",this.anT.bind(this),!1);var m=this.afZ.bind(this);G.addEventListener("gesturestart",m,!1);
G.addEventListener("gesturechange",m,!1);G.addEventListener("gestureend",m,!1);g.sL(G)}av.prototype=new gB;
av.prototype.afZ=function(G){if(G.type=="gesturestart")this.Rr=G.scale;if(G.type=="gesturechange"){var m=new j8("mouse",!0);
m.action="scroll";m.HC=!0;this.MD(G,m);var A=(this.Rr-G.scale)/this.Rr;m.Q1=new dw(0,100*A);this.Rr=G.scale;
this.u(m)}};av.prototype.zU=function(G){var m=-1,A=this.Pd;for(var $=0;$<A.length;$++)if(A[$].pointerId==G.pointerId)m=$;
return m};av.YG=function(G){if(G.which==2)return!0;var m=G.pointerType,A=window.__kb;return m=="touch"&&A.j(a5.adO)};
av.prototype.mC=function(G){if(av.YG(G))return;var m=this.zU(G);if(m!=-1)this.Pd[m]=G;else this.Pd.push(G);
if(this.Pd.length==1){this.aqG=Date.now();var A=G.button!=null&&G.button!=0?"rdown":"down",Q=new j8("mouse",!0);
Q.action=A;this.MD(G,Q);this.u(Q);g.k1(this.vN,this.j2);g.CY(window,this.j2);g.$f(window,this.a7D)}if(this.Pd.length==2){if(Date.now()-this.aqG<100){var Q=new j8("mouse",!0);
Q.action="cancellast";this.MD(G,Q);this.u(Q)}this.a9A("multidown");this.Hd=!0}};av.prototype.Vz=function(G){if(av.YG(G))return;
var m=this.zU(G);if(m!=-1)this.Pd[m]=G;if(this.Pd.length>1){this.a9A("multimove")}if(this.Hd)return;
if(this.Pd.length==1&&m==-1)return;var A=new j8("mouse",!0);A.action="move";this.MD(G,A);this.u(A)};
av.prototype.Jx=function(G){if(av.YG(G))return;var m=this.Pd,A=this.zU(G);if(A!=-1)m.splice(A,1);else return;
if(m.length==0){var Q=G.button!=null&&G.button>0?"rup":"up",H=new j8("mouse",!0);H.action=Q;this.MD(G,H);
this.u(H);g.k1(window,this.j2);g.P4(window,this.a7D);g.CY(this.vN,this.j2);this.Hd=!1}};av.prototype.TW=function(G){G.preventDefault();
if(G.deltaX==0&&G.deltaY==0)return;var m=new j8("mouse",!0);m.action="scroll";m.HC=G.ctrlKey;this.MD(G,m);
this.u(m)};av.prototype.anT=function(G){g.zx(G);var m=G.sourceCapabilities;if(m)m=m.firesTouchEvents;
if(m){var A=new j8("mouse",!0);this.MD(G,A);A.action="rdown";this.u(A);A.action="rup";this.u(A)}};av.prototype.a9A=function(G){var m=this.Pd,A=g.G(),Q=[];
for(var $=0;$<m.length;$++){var H=Q[$]=g.zi(m[$],this.vN);H.x*=A;H.y*=A}var J=new j8("mouse",!0);J.action=G;
J.vs=Q;if(m.length<=2)this.u(J)};av.prototype.MD=function(G,m,A){var Q=this.Pd.length!=0;if(m.action!="up"){var H=g.G();
if(A==null)A=g.zi(G,this.vN);this.WC=m.uj={x:H*A.x,y:H*A.y,U_:Q};var J=g.zi(G,document.body);m.uj.Gp=J.x;
m.uj.Yt=J.y}else this.WC=m.uj={x:this.WC.x,y:this.WC.y,U_:Q};m.uj.zQ=.5;if(G.pressure!=null&&G.pressure!=0)m.uj.zQ=G.pressure;
if(G.pointerType=="mouse")m.uj.zQ*=2;m.uj.atK=G.pointerType;if(G.deltaX!=null){var b=G.deltaMode==0?1:40;
m.Q1=new dw(G.deltaX*b,G.deltaY*b)}};function fL(G,m,A){gB.call(this);this.J7=null;this.amN=this.Jx.bind(this);
this.adu=this.tI.bind(this);this.anS=this.ae7.bind(this);this.aks=this.adg.bind(this);this.XR=[];this.R4=[];
this.D1=[];this.a2X=[];this.m=g.L("div","contextpanel "+(A?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",g.WG,!1);
this.YU=null;this._j=0;this.abK=G;this.p3=m;this.u7=[];for(var $=0;$<G.length;$++){var Q=g.L("div","enab");
this.R4.push(Q);this.m.appendChild(Q);if(G[$].r7){var H=g.L("img","thumb"+(A?" gsicon":""));H.setAttribute("src",PIMG[G[$].r7]);
Q.appendChild(H)}else{var J=g.L("span","check");this.a2X.push(J);Q.appendChild(J)}var b=g.L("span","label");
b.innerHTML=f5.get(G[$].name);Q.appendChild(b);this.D1.push(b);if(G[$].l3)this.m.appendChild(g.L("hr"));
if(G[$].Hp||G[$].sub){var O=g.L("span","right");Q.appendChild(O);if(G[$].Hp)O.innerHTML=a5.n5(G[$].Hp);
if(G[$].sub)O.innerHTML="\u25B6"}Q.addEventListener("click",this.amN,!1);Q.addEventListener("mouseover",this.adu,!0);
Q.addEventListener("mouseout",this.anS,!0);if(G[$].sub){var a=new fL(G[$].sub,m?m[$].sub:null);a.parent=this;
this.u7.push(a);a.J("select",this.a0j,this)}else this.u7.push(null)}}fL.prototype=new gB;fL.prototype.aha=function(G){g.iJ(this.m);
for(var $=0;$<G.length;$++)if(G[$]!=0&&G[$]!=null){this.m.appendChild(this.R4[$]);if(G[$]!=1&&this.u7[$])this.u7[$].aha(G[$])}};
fL.prototype._=function(){var G=this.abK;for(var $=0;$<G.length;$++){if(G[$].title)this.R4[$].title=f5.get(G[$].title);
this.D1[$].textContent=f5.get(G[$].name)+(G[$].OZ?"...":"")}for(var $=0;$<this.u7.length;$++)if(this.u7[$])this.u7[$]._()};
fL.prototype.update=function(G,m){var A=this.abK;for(var $=0;$<A.length;$++){if(A[$].P){var Q=A[$].P(G,m,$);
if(Q.P!=null)this.R4[$].setAttribute("class",Q.P?"enab":"disab");if(Q.pl!=null)this.D1[$].textContent=Q.pl;
if(Q.qW!=null)this.a2X[$].textContent=Q.qW?"\u2713":"";if(Q.R!=null)this.p3[$]=Q.R}}for(var $=0;$<this.u7.length;
$++)if(this.u7[$])this.u7[$].update(G,m)};fL.prototype.Zr=function(){return this.XR};fL.prototype.Jx=function(G){if(G.button!=0)return;
var $=this.R4.indexOf(G.currentTarget);if(this.u7[$]){this._j=$;this.adg()}else{if(this.p3){var m=this.p3[$],A=new j8(m.T,!0);
A.b=m.b;A.data=m.R;this.u(A)}this.J7=null;this.XR=[$];this.u(new j8("select",!1));var A=new j8(r.E.W,!0);
A.data={d:r.S.OM};this.u(A)}};fL.prototype.tI=function(G){var $=this.R4.indexOf(G.currentTarget);if(this.YU){clearTimeout(this.YU);
this.YU=null}if(this.u7[$]==null)return;this._j=$;this.YU=setTimeout(this.aks,300)};fL.prototype.ae7=function(G){var $=this.R4.indexOf(G.currentTarget);
if(this.YU){clearTimeout(this.YU);this.YU=null}};fL.prototype.adg=function(){if(this.YU){clearTimeout(this.YU);
this.YU=null}var $=this._j;if(this.J7)this.J7.acb();this.J7=this.u7[$];var G=this.R4[$].getBoundingClientRect(),m=new j8(r.E.W,!0);
m.data={d:r.S.mo,Nc:this.u7[$],x:G.left+G.width+2,y:G.top};this.u(m)};fL.prototype.acb=function(){for(var $=0;
$<this.u7.length;$++)if(this.u7[$])this.u7[$].acb();var G=new j8(r.E.W,!0);G.data={d:r.S.Pe,Nc:this};
this.u(G)};fL.prototype.a0j=function(G){var $=this.u7.indexOf(G.target);this.XR=[$].concat(G.target.Zr());
this.u(new j8("select",!1))};function aX(G,m,A){gB.call(this);this.m=g.L("span","fitem cbox");if(m==null)m=!0;
if(A==null)A="flabel";var Q="cb"+g.us();this.aj=g.L("input","");this.aj.setAttribute("type","checkbox");
this.aj.setAttribute("id",Q);this.m.appendChild(this.aj);this.jb=G;this.gH=g.L("label",A);if(m)this.gH.setAttribute("for",Q);
this.m.appendChild(this.gH);this._();this.aj.addEventListener("change",this.ng.bind(this),!1)}aX.prototype=new gB;
aX.prototype.a7e=function(){return this.jb};aX.prototype.ym=function(G){this.gH.textContent=G};aX.prototype._=function(){var G=this.jb;
if(typeof G=="string"&&G.startsWith("<"))this.gH.innerHTML=G;else this.gH.textContent=f5.get(G)};aX.prototype.dt=function(){this.aj.checked=!0};
aX.prototype.TP=function(){this.aj.checked=!1};aX.prototype.fA=function(){return this.aj.checked};aX.prototype.f=function(G){this.aj.checked=G};
aX.prototype.B=aX.prototype.fA;aX.prototype.ng=function(G){this.u(new j8(r.E.o,!1))};function gS(G,m){gB.call(this);
this.jb=G;this.m=g.L("span","labelitem fitem"+(m?" spread":""));this._()}gS.prototype=new gB;gS.prototype.f=function(G){this.m.textContent=G};
gS.prototype.B=function(){return this.m.textContent};gS.prototype.vF=function(){this.m.removeAttribute("disabled")};
gS.prototype.Tx=function(){this.m.setAttribute("disabled","")};gS.prototype.ym=function(G){this.m.textContent=G};
gS.prototype._=function(){this.m.textContent=f5.get(this.jb)};gS.prototype.a7e=function(){return this.jb};
function iL(G,m,A,Q,H){gB.call(this);this.m=g.L("button","fitem"+(m?" spread":"")+(Q?" bbtn":""));this.jb=G;
this.tU=A;this._();var J=H&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(J,this.wD.bind(this),!1)}iL.prototype=new gB;
iL.prototype._=function(){var G=this.m,m=this.jb,A=this.tU,Q=f5.get(m);if(Q.startsWith("<img")||Q.startsWith("<svg")||Q.startsWith("<span"))G.innerHTML=Q;
else G.textContent=Q;if(Q.startsWith("<img")||Q.startsWith("<svg")||Q.startsWith("<span"))G.setAttribute("style","padding:2px");
if(A){G.setAttribute("title",f5.get(A))}};iL.prototype.aoy=function(G){this.m.setAttribute("title",G)};
iL.prototype.wD=function(G){this.u(new j8("click",!1))};iL.prototype.dt=function(){g.kG(this.m,"bactive")};
iL.prototype.TP=function(){g.W8(this.m,"bactive")};iL.prototype.ym=function(G,m){if(G)this.jb=G;if(m)this.tU=m;
this._()};iL.prototype.f=function(G){if(G)this.dt();else this.TP()};iL.prototype.fA=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
iL.prototype.B=function(){return this.fA()};function h_(G,m,A,Q,H){gB.call(this);var J=g.us();this.m=g.L("span","fitem tinput");
if(G){this.jb=G;this.gH=g.L("label","flabel");this.m.appendChild(this.gH);this.gH.setAttribute("for",J);
this._()}if(H){this.aj=g.L("span")}else if(Q==null){this.aj=g.L("input");this.aj.setAttribute("type","text")}else this.aj=g.L("textarea","scrollable");
this.aj.setAttribute("id",J);if(A)this.aj.setAttribute("style","width:"+A+"em;"+(H?" display:inline-block; margin-left:6px;":""));
if(Q)this.aj.setAttribute("rows",Q);this.m.appendChild(this.aj);if(m){this.K7=g.L("span");this.K7.textContent=m;
this.m.appendChild(this.K7)}g.hl(this.aj);this.aj.addEventListener("change",this.ng.bind(this),!1);this.aj.addEventListener("input",this.acm.bind(this),!1)}h_.prototype=new gB;
h_.prototype._=function(){if(this.jb)this.gH.textContent=f5.get(this.jb)+":"};h_.prototype.ym=function(G){this.gH.textContent=G};
h_.prototype.f=function(G){var m=this.aj,A=G==null?"":G,Q=m.tagName=="SPAN";if(Q){m.textContent=" "+A;
if(this.K7)m.appendChild(this.K7)}else m.value=A};h_.prototype.B=function(){return this.aj.value};h_.prototype.UQ=function(){this.aj.select();
this.aj.focus()};h_.prototype.ng=function(G){this.u(new j8(r.E.o,!1))};h_.prototype.acm=function(G){this.u(new j8("input",!1))};
function f0(G,m,A,Q,H,J,b,O,a){gB.call(this);if(H==null)H=0;this.m=g.L("span","fitem");var e=g.us();
this.jb=G;this.tU=O;this.KC=0;this.a6G=a;this.X1=m;this.G9=A;this.Zl=null;if(Q instanceof Array){this.Zl=Q;
Q=Q[0]}this.HH=Q;this.xW=H;this.a8a=J;this.KO=b;this.yz=0;this.gH=g.L("label","flabel");this.gH.innerHTML=G;
this.gH.setAttribute("style","cursor:col-resize;");this.P2=g.L("input","");this.P2.setAttribute("type","range");
if(b){this.P2.min=0;this.P2.max=400}else{this.P2.min=m;this.P2.max=A;if(H!=0)this.P2.step=(A-m)/200}this.aj=g.L("input","");
this.aj.setAttribute("type","text");this.aj.setAttribute("id",e);this.K7=g.L("span","");this.K7.innerHTML=Q;
g.hl(this.aj);this.aj.addEventListener("change",this.ng.bind(this),!1);this.aj.addEventListener("keydown",this.$T.bind(this),!1);
this.aj.addEventListener("wheel",this.TW.bind(this),!1);this.P2.addEventListener("input",this.ng.bind(this),!1);
if(a)this.P2.addEventListener("change",this.ng.bind(this),!1);this.P2.addEventListener("click",this.a5J.bind(this),!1);
this.a7i=this.apM.bind(this);this.a4h=this.a2a.bind(this);this.a4U=this.abV.bind(this);this.Cz=0;this.zv=0;
this.wB=!1;g.Il(this.gH,this.a7i);g.sL(this.gH)}f0.prototype=new gB;f0.prototype.gV=function(G){this.xW=G};
f0.prototype.ym=function(G){this.gH.textContent=G};f0.prototype._=function(){var jw=this.jb,G=this.tU;
if(jw){if(typeof jw=="string"&&jw.startsWith("<"))this.gH.innerHTML=jw;else this.gH.textContent=f5.get(jw)+":"}if(G){G=f5.get(G);
if(jw)this.gH.setAttribute("title",G);this.aj.setAttribute("title",G)}};f0.prototype.f=function(G,m){var A=this.X1==this.G9;
if(!A&&this.X1>=0)G=Math.max(this.X1,G);if(this.xW==0)G=Math.round(G);var Q=this.HH;this.KC=G;this.aj.value=(this.xW!=0?G.toFixed(this.xW):G)+(this.a8a&&Q?(Q.toLowerCase()==Q.toUpperCase()?"":" ")+Q:"");
var H=400*Math.pow((G-this.X1)/(this.G9-this.X1),1/2.7);this.P2.value=this.KO?H:G;if(m)this.Nz()};f0.prototype.B=function(){var G=this.KC;
if(isNaN(G))G=0;return G};f0.prototype.N$=function(){return this.HH};f0.prototype.ng=function(G){var m=0;
if(G.currentTarget==this.aj){var A=G.target.value,Q=0;m=A==""?0:this.HH?parseFloat(A):eval(A);if(isNaN(m))m=0;
while(Q<A.length&&(A.charAt(Q)=="."||48<=A.charCodeAt(Q)&&A.charCodeAt(Q)<=57))Q++;var H=A.slice(Q).trim();
if(this.Zl&&this.Zl.indexOf(H)!=-1)this.HH=H}else{if(Date.now()-this.yz<10)return;m=parseFloat(G.target.value);
if(this.KO){m=this.X1+Math.pow(m/400,2.7)*(this.G9-this.X1);m=this.arj(m)}}this.f(m);if(G.type=="input"&&this.a6G)return;
this.Nz()};f0.prototype.Nz=function(){this.u(new j8(r.E.o))};f0.prototype.arj=function(G){if(this.G9-this.X1>50&&G>10)G=Math.round(G);
return G};f0.prototype.$T=function(G){var m=0;if(a5.DN(G.code,a5.kd))m=1;if(a5.DN(G.code,a5.cX))m=-1;
if(m!=0)this.aaR(m,G.shiftKey)};f0.prototype.TW=function(G){this.aaR(G.deltaY>0?-1:1,G.shiftKey)};f0.prototype.aaR=function(G,m){var A=this.B(),Q=this.xW,H=G*(Q==null||Q==0||A>5?1:.1);
if(m)H*=10;var J=A+H;if(!this.KO&&this.G9!=this.X1)J=Math.min(this.G9,J);this.f(J);this.Nz()};f0.prototype.a5J=function(G){var m=Date.now()-this.yz;
this.yz=Date.now();if(m>200)return;var A=this.X1,Q=this.G9,H=(A+Q)/2;if(A<1&&Q>1&&Q<10)H=1;else if(A<90&&Q>110)H=100;
else if(A<0&&Q>0)H=0;this.f(H);this.Nz()};f0.prototype.apM=function(G){g.CY(document,this.a4h);g.$f(document,this.a4U);
this.Cz=g.zi(G,document.body).x;this.zv=this.B()};f0.prototype.a2a=function(G){g.zx(G);var m=this.X1==this.G9,A=g.zi(G,document.body).x,Q=(A-this.Cz)*(m?1:1/120*(this.G9-this.X1)),H=this.zv+Q;
if(m)H=Math.round(H);if(!m){if(!0){H=Math.max(this.X1,H);if(H==this.X1){this.Cz=A;this.zv=this.X1}}if(!this.KO){H=Math.min(this.G9,H);
if(H==this.G9){this.Cz=A;this.zv=this.G9}}H=this.arj(H)}this.wB=!0;this.f(H);this.Nz()};f0.prototype.abV=function(G){if(!this.wB)this.aj.focus();
this.wB=!1;g.k1(document,this.a4h);g.P4(document,this.a4U)};f0.prototype.UQ=function(){this.aj.select();
this.aj.focus()};function hz(G,m,A,Q,H,J,b,O,a){f0.call(this,G,m,A,Q,H,!0,J,a);g.kG(this.m,"rangedropinput");
this.m.appendChild(this.gH);this.aj.setAttribute("style","width:"+(O?O:3.3)+"em");this.m.appendChild(this.aj);
this.aaS=g.L("span","rangecont");this.aaS.appendChild(this.P2);this.py=g.L("button");this.py.innerHTML="\u25BC";
g.Il(this.py,this.atY.bind(this));if(b!=!0)this.m.appendChild(this.py);this.xz=new gB;this.xz.m=this.aaS}hz.prototype=new f0;
hz.prototype.atY=function(G){if(g.m$(this.xz.m))return;G.stopPropagation();var m=this.m.getBoundingClientRect();
this.P2.setAttribute("style","width:"+m.width+"px;");var A=new j8(r.E.W,!0);A.data={d:r.S.mo,Nc:this.xz,x:m.left,y:m.top+m.height};
this.u(A)};function c3(G,m,A,Q,H,J){f0.call(this,G,m,A,Q,H,!1,J);this.m.appendChild(this.gH);var b=g.L("span","rangecont");
this.m.appendChild(b);b.appendChild(this.P2);this.m.appendChild(this.aj);this.aj.setAttribute("style","width:3.3em");
if(this.HH)this.m.appendChild(this.K7)}c3.prototype=new f0;function bo(G,m,A,Q,H,J,b,O){f0.call(this,G,m,A,Q,H,!0,J,null,b);
g.kG(this.m,"trangeinput");this.m.appendChild(this.gH);this.m.appendChild(this.aj);var a=g.L("span","rangecont");
if(O!=!0)this.m.appendChild(a);a.appendChild(this.P2);this.P2.setAttribute("style","width:97%;")}bo.prototype=new f0;
function iV(G,m,A,Q){gB.call(this);if(!m)return;if(A==null)A=!1;this.$n=0;this.aot=A;this.jb=G;this.ju=null;
this.a16=Q;this.N2=[];var H="dd"+g.us();this.m=g.L("span","fitem ddmenu");if(G&&!A){this.gH=g.L("label","flabel");
this.m.appendChild(this.gH);this.gH.setAttribute("for",H)}this.q1=g.L("select","bbtn");this.q1.setAttribute("id",H);
this.m.appendChild(this.q1);this.q1.addEventListener("change",this.ng.bind(this),!1);function J(b){var O=0;
if(a5.DN(b.code,a5.kd))O=1;if(a5.DN(b.code,a5.cX))O=-1;if(O!=0)b.stopPropagation()}this.q1.addEventListener("keydown",J,!1);
this.q1.addEventListener("keyup",J,!1);this.mA=[];this.xJ=null;this.fd(m,Q);this._()}iV.prototype=new gB;
iV.prototype.ym=function(G){this.jb=G;this._()};iV.prototype._=function(){if(this.jb!=null){var G=f5.get(this.jb);
if(this.aot)this.q1.setAttribute("title",G);else this.gH.textContent=G+":"}if(this.xJ)this.fd(this.xJ,this.a16);
this.f(this.$n)};iV.prototype.B=function(){return this.$n};iV.prototype.fd=function(G,m){g.iJ(this.q1);
var A=[],Q=0;if(m){A.push(m[0]);for(var $=1;$<m.length;$++)A.push(A[$-1]+m[$])}this.xJ=G;this.ju=[];
this.a16=m;for(var $=0;$<G.length;$++){var H=g.L("option");if(this.N2.indexOf($)!=-1)H.setAttribute("disabled","");
H.textContent=f5.get(G[$]);H.setAttribute("value",$);this.q1.appendChild(H);this.mA.push(H);this.ju.push($+Q);
if(A.indexOf($+1)!=-1&&$!=G.length-1){var J=g.L("option");J.setAttribute("disabled","");J.textContent="";
this.q1.appendChild(J);Q++}}};iV.prototype.agF=function($){var G=this.N2,m=G.indexOf($);if(m==-1)G.push($);
this._()};iV.prototype.aht=function($){var G=this.N2,m=G.indexOf($);if(m!=-1)G.splice(m,1);this._()};
iV.prototype.f=function(G){this.$n=G;this.q1.selectedIndex=this.ju[G]};iV.prototype.ng=function(G){this.$n=this.ju.indexOf(this.q1.selectedIndex);
this.u(new j8(r.E.o,!1))};function ai(G,m,A,Q){gB.call(this);if(!m)return;this.$n=0;this.ard=Q;this.m=g.L("span","fitem bbmenu");
if(G){this.jb=G;this.gH=g.L("label","flabel");this.gH.textContent=G+":";this.m.appendChild(this.gH)}this.mA=[];
this.xJ=null;this.fd(m,A);this.f(0)}ai.prototype=new gB;ai.prototype.ym=function(G){this.jb=G;this._()};
ai.prototype._=function(){if(this.jb!=null){this.gH.textContent=f5.get(this.jb)+": "}for(var $=0;$<this.mA.length;
$++)this.mA[$]._()};ai.prototype.B=function(){return this.$n};ai.prototype.fd=function(G,m){while(this.mA.length>0)this.m.removeChild(this.mA.pop().m);
this.xJ=G;for(var $=0;$<G.length;$++){var A=new iL(G[$],!1,m?m[$]:null,this.ard);A.J("click",this.ng,this);
this.m.appendChild(A.m);this.mA.push(A)}this._()};ai.prototype.f=function(G){this.$n=G;for(var $=0;$<this.mA.length;
$++)this.mA[$].TP();this.mA[G].dt()};ai.prototype.ng=function(G){var $=this.mA.indexOf(G.target);this.f($);
this.u(new j8(r.E.o,!1))};ai.wY=function(G,m){if(m==null)m=16;var A=ai.U4,Q=A.getContext("2d"),H=m>>>1;
A.width=A.height=m;var J=[];for(var $=0;$<G.length;$++){if(G[$][0]=="-")J.push(G[$].slice(1));else if(G[$]=="checker"||G[$].startsWith("#")){if(G[$]=="checker"){Q.fillStyle="white";
Q.fillRect(0,0,m,m);Q.fillStyle="#bbbbbb";Q.fillRect(H,0,H,H);Q.fillRect(0,H,H,H)}else if(G[$].startsWith("#")){Q.fillStyle=G[$];
Q.fillRect(0,0,m,m)}J.push("<img src=\""+A.toDataURL()+"\" />")}else J.push(g.y3(G[$],null,"autoscale"))}return J};
ai.U4=g.L("canvas");function a6(G,m,A,Q,H,J){gB.call(this);this.m=g.L("span","fitem mbox");this.a4q=A;
this.aab=H;if(G){this.jb=G;this.gH=g.L("label","flabel");this.m.appendChild(this.gH)}this.Sp=m;this.qT=[];
for(var $=0;$<m.length;$++){var b=A?new iL(m[$],!1,Q?Q[$]:null,!1,J):new aX(m[$],!0,"");b.J(A?"click":r.E.o,this.ng,this);
this.qT.push(b);this.m.appendChild(b.m)}this._()}a6.prototype=new gB;a6.prototype.f=function(G){for(var m=0;
m<this.Sp.length;m++)this.qT[m].f(G[m])};a6.prototype.B=function(){var G=[];for(var m=0;m<this.Sp.length;
m++)G[m]=this.qT[m].B();return G};a6.prototype._=function(){if(this.jb)this.gH.innerHTML=f5.get(this.jb)+": ";
var G=this.qT;for(var m=0;m<G.length;m++){G[m]._();if(m==G.length-1)G[m].m.style.marginRight="0px"}};
a6.prototype.ng=function(G){var $=this.qT.indexOf(G.currentTarget),m=this.qT[$];if(this.a4q)m.f(!m.B());
if(this.aab){var A=m.B();for(var $=0;$<this.qT.length;$++)this.qT[$].f(!1);m.f(A)}this.u(new j8(r.E.o,!1))};
function dd(G,m){gB.call(this);this.fV=[];this.c=[];this.ah4=G;this.LG=m;this.GH=0;this.B1=null;this.mR=new dw(0,0);
if(m!=null){this.gZ=new fL([{name:[6,37]},{name:[5,4]}]);this.gZ.parent=this;this.gZ.J("select",this.GA,this)}this.m=g.L("div","imageset scrollable");
this.m.addEventListener("contextmenu",g.WG,!1)}dd.prototype=new gB;dd.prototype._=function(){if(this.gZ)this.gZ._()};
dd.prototype.GA=function(G){var $=this.gZ.Zr()[0],m=new j8(r.E.W,!0),A={d:r.S.$g,WF:this.LG,cT:this.c.slice(0)};
if($==0){var Q=this.B1[1][this.c[0]];A.ja="rnm";m.data={d:r.S.XG,Ue:"namewindow",Ge:Q,OX:{T:r.E.W,R:A}}}else{m.data=A;
A.ja="del"}this.u(m)};dd.prototype.a23=function(){return this.GH};dd.prototype.oS=function(G){this.GH=G;
if(this.B1)this.Lc()};dd.prototype.o7=function(G,m,A,Q){this.B1=[G,m,A,Q];this.Lc()};dd.prototype.Lc=function(){var G=this.B1,m=G[0],A=G[1],Q=G[2],H=G[3];
this.fV=[];this.m.innerHTML="";var J=this.wD.bind(this),b=this.GH;if(b==0)g.kG(this.m,"imageset");else g.W8(this.m,"imageset");
for(var $=0;$<m.length;$++){var O=m[$],a=null;if(O==null){this.fV.push(null);continue}if(typeof O=="string"){a=g.L("img","image");
a.setAttribute("src",O)}else a=O;if(Q)g.AX(a,Q,H);if(this.ah4)g.kG(a,"gsicon");if(b==0){}else{var e=g.L("div","listitem");
e.appendChild(a);var R=g.L("span");R.textContent=A?A[$]:"Item "+($+1);R.setAttribute("style","margin-left:4px;");
e.appendChild(R);a=e}if(A)a.setAttribute("title",A[$]);a.addEventListener("mousedown",J,!1);this.fV.push(a);
this.m.appendChild(a)}};dd.prototype.wD=function(G){if(this.LG==null)G.preventDefault();var m=this.fV.indexOf(G.currentTarget),A=window.__kb,Q=this.c,H=Q.length;
if(A.j(a5.K6)){var J=Math.min(Q[0],Q[Q.length-1],m),b=Math.max(Q[0],Q[Q.length-1],m);Q=[];for(var $=J;
$<=b;$++)Q.push($)}else if(A.j(a5.KF)){var O=Q.indexOf(m);if(O==-1)Q.push(m);else Q.splice(O,1)}else Q=[m];
Q.sort(function(p,P){return p-P});if(G.button==0||H==1)this.f(Q);this.mR=g.zi(G,G.currentTarget);if(G.button==0)this.u(new j8(r.E.o));
if(G.button==2&&this.gZ){var a=this.gZ;a.update(null);var e=g.zi(G,document.body),R=new j8(r.E.W,!0);
R.data={d:r.S.mo,Nc:a,x:e.x,y:e.y+2};this.u(R)}};dd.prototype.B=function(){return this.c.slice(0)};dd.prototype.afJ=function(){var G=this.mR;
return new dw(G.x,G.y)};dd.prototype.f=function(G){this.c=G.slice(0);for(var $=0;$<this.fV.length;$++){var m=this.fV[$];
if(m==null)continue;if(G.indexOf($)!=-1)g.kG(m,"selected");else g.W8(m,"selected")}};function c$(G,m,A,Q,H,J,b){gB.call(this);
this.m=g.L("span","fitem "+A);this.$p=new gB;this.$p.m=g.L("div","floatcont");this.$p.m.setAttribute("style","width: "+(Q+1.5)+"em;");
this.$p.parent=this;this.aiT=g.L("div");this.$p.m.appendChild(this.aiT);this.OQ=g.L("div");this.$p.m.appendChild(this.OQ);
if(G){this.jb=G;this.gH=g.L("label","flabel");this.m.appendChild(this.gH)}this.d=g.L("button",b?"nopadding":"");
this.d.setAttribute("style","position:relative;");var O=this.Cc.bind(this),a=this.W2.bind(this);g.Il(this.d,m?a:O);
this.m.appendChild(this.d);this.Qz=g.L("img",b?"gsicon":"");this.d.appendChild(this.Qz);if(m){var e=g.L("button");
e.textContent="\u25BC";g.Il(e,O);this.m.appendChild(e)}else{var R=g.L("span");R.textContent="\u25BC";
R.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(R)}var p=g.L("span");
this.OQ.appendChild(p);p.setAttribute("style","display:inline-block;  vertical-align:top; width:"+Q+"em;");
this.Nb=new dd(b,J);p.appendChild(this.Nb.m);this.Nb.parent=this.$p;this.Nb.J(r.E.o,this.rX,this);this.Nb.m.style.height=H+"em";
this.Lf=g.L("button");this.Lf.textContent="\u25BC";this.Lf.setAttribute("style","padding:3px");g.Il(this.Lf,this.a1B.bind(this));
this.OQ.appendChild(this.Lf);var P=this.fQ(),z=J!=dG.xj&&J!=dG.D3?J:null,Z=J==null?"":dG.$J[J][0].toUpperCase(),W=z?[{name:[12,87]}]:[];
W=W.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],l3:!0},{name:[[23,6],"."+(Z=="ICC"?"icc .cube .look .3dl":Z)]},{name:["VAR0 ."+Z,[1,8]]},{name:[6,37]},{name:[5,4],l3:P.length!=0}]);
for(var $=0;$<P.length;$++)W.push({name:P[$].split("/").pop()});this.gZ=new fL(W);this.gZ.parent=this.$p;
this.gZ.J("select",this.GA,this);this.LG=J;this.a5c=z;this.hZ=null;this.Zo=!0;this.rV=null}c$.prototype=new gB;
c$.prototype.fQ=function(){return[]};c$.prototype.W2=function(){};c$.prototype._=function(){this.gZ._();
this.Nb._();var G=this.jb;if(G)this.gH.textContent=f5.get(G)+":"};c$.prototype.ym=function(G){this.gH.textContent=G};
c$.prototype.pA=function(G){var m=this.LG,A=0;if(m==dG.ve){A=this.hZ?this.hZ.length:0;G=G.slice(0)}this.hZ=G;
this.Zo=!0;if(g.m$(this.Nb.m)||m==dG.oV)this.Us();if(m==dG.ve&&G.length-A==1&&g.m$(this.m)){this.f(G[A]);
this.Zo=!0;this.Us();this.Nb.f([A]);this.u(new j8(r.E.o))}};c$.prototype.GA=function(G){var m=G.target.Zr()[0];
if(this.a5c==null)m++;var A=new j8(r.E.W,!0);if(m==0){var Q=this.L8();if(this.LG==dG.ve&&Q[0].profile==null)return;
A.data={d:r.S.$g,ja:"add",WF:this.a5c,H7:Q}}else if(m==1)this.Nb.oS(1-this.Nb.a23());else if(m<=5)this.Hk(m-2);
else{var H=this.fQ();A.data={d:r.S.BG,WF:{url:"rsrc/"+H[m-6]}}}if(A.data)this.u(A)};c$.prototype.Hk=function(G){var m=new j8(r.E.W,!0),A=this.Nb.B(),Q={d:r.S.$g,WF:this.LG,cT:A};
if(G>1&&A.length==0){alert("No items selected");return}if(G==0)m.data={d:r.S.KL};else if(G==1)m.data={d:r.S.AW,am8:this.LG,cT:A.length==0?null:A};
else if(G==2){var H=this.Nb.B1[1][A[0]];Q.ja="rnm";m.data={d:r.S.XG,Ue:"namewindow",Ge:H,OX:{T:r.E.W,R:Q}}}else if(G==3){m.data=Q;
Q.ja="del"}this.u(m)};c$.prototype.L8=function(){return[this.B()]};c$.prototype.a1B=function(G){if(g.m$(this.gZ.m))return;
G.stopPropagation();var m=this.gZ;m._();m.update(null);var A=G.currentTarget.getBoundingClientRect(),Q=new j8(r.E.W,!0);
Q.data={d:r.S.mo,Nc:m,x:A.left,y:A.top+A.height};this.u(Q)};c$.prototype.Cc=function(G,m,A){if(g.m$(this.$p.m))return;
if(G)G.stopPropagation();this.Us();if(m==null){var Q=this.d.getBoundingClientRect(),m=Q.left,A=Q.top+Q.height}var H=new j8(r.E.W,!0);
H.data={d:r.S.mo,Nc:this.$p,x:m,y:A,wh:!0};this.u(H)};c$.prototype.a1X=function(G,m){this.Cc(null,G,m)};
function ju(){gB.call(this);this.m=g.L("div");this.KC=!1;this.qm=[new iV([12,19,1],[[13,1,7]].concat(hE.DL)),new e_([17,1]),new e_([12,46])];
for(var $=0;$<3;$++){var G=this.qm[$];this.m.appendChild(G.m);G.J(r.E.o,this.iR,this)}this._()}ju.prototype=new gB;
ju.prototype._=function(){for(var $=0;$<3;$++)this.qm[$]._()};ju.prototype.B=function(){return this.KC.slice(0)};
ju.prototype.f=function(G){this.KC=G.slice(0);var m=this.qm,A=m[0].B();m[1].f(G.slice(A*8,A*8+4),A);
m[2].f(G.slice(A*8+4,A*8+8),A)};ju.prototype.iR=function(G){var m=this.qm,A=m.indexOf(G.currentTarget);
if(A==0)this.f(this.KC);else{var Q=m[0].B()*8+(A==1?0:4),H=m[A].B();for(var $=0;$<4;$++)this.KC[Q+$]=H[$];
this.u(new j8(r.E.o,!1))}};function e_(G){gB.call(this);this.m=g.L("div");this.O=g.L("canvas");this.wx=G;
this.KC=[0,20,200,255];this.cc=0;this.uk=-1;this.a4b=[];for(var $=0;$<5;$++){var m=g.L("span");m.setAttribute("style","display:inline-block;width:"+($==0?8:$==2?7:2)+"em");
this.a4b.push(m);this.m.appendChild(m)}this.$_=this.mC.bind(this);this.ws=this.Vz.bind(this);this.Rv=this.Jx.bind(this);
g.sL(this.O);g.Il(this.O,this.$_);this.m.appendChild(this.O);this.Lc()}e_.prototype=new gB;e_.prototype._=function(){this.Lc()};
e_.prototype.f=function(G,m){this.KC=G;this.cc=m;this.Lc()};e_.prototype.B=function(){return this.KC.slice(0)};
e_.prototype.mC=function(G){var m=this.KC,A=g.zi(G,this.O),Q=A.x-8,H=-1,J=1e9;for(var $=0;$<4;$++){var b=Q-m[$],O=Math.abs(b);
if(O<8&&O<J&&(($&1)==0&&b<0||($&1)==1&&b>0)){J=b;H=$}}if(H==-1)return;this.uk=H;this.Pz=window.__kb.j(a5.Ei)||m[(H>>>1)*2]!=m[(H>>>1)*2+1];
g.CY(window,this.ws);g.$f(window,this.Rv)};e_.prototype.Vz=function(G){var m=this.KC,A=this.uk,Q=(A>>>1)*2,H=Q+1,J=g.zi(G,this.O),b=Math.round(Math.max(0,Math.min(255,J.x-8)));
m[A]=b;if(this.Pz&&m[Q]>=m[H])this.Pz=!1;if(!this.Pz)m[Q]=m[H]=b;this.Lc();this.u(new j8(r.E.o,!1))};
e_.prototype.Jx=function(G){g.k1(window,this.ws);g.P4(window,this.Rv)};e_.prototype.Lc=function(){var G=this.O;
g.bi(G,255+16,16);var m=G.getContext("2d"),A=G.width,Q=G.height,H=Math.round(255*g.G()),J=Math.round(8*g.G());
m.translate(J,0);var b=m.createLinearGradient(0,0,H,0);b.addColorStop(0,"black");b.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.cc]);
m.fillStyle=b;m.fillRect(0,0,H,J);var O=this.a4b,a=f5.get(this.wx)+":";O[0].textContent=a;for(var $=0;
$<4;$++){var e=this.KC[$];O[1+$].textContent=e;var R=Math.round(e*g.G());m.beginPath();m.moveTo(R,J);
m.lineTo(R,J+J);m.lineTo(R+(($&1)==0?-1:1)*J,J+J);m.closePath();m.fillStyle=$<2?"#666666":"#cccccc";
m.fill();m.strokeStyle="black";m.stroke()}};function eV(G,m,A){gB.call(this);if(A==null)A=!1;this.k=[0,0,1];
this.aa2=m;this.aei=A;this.a7f=0;var Q="ai"+g.us();this.m=g.L("span","fitem angleinput");if(G){this.gH=g.L("label","flabel");
this.jb=G;this.m.appendChild(this.gH);this.gH.setAttribute("for",Q)}this.ZC=A?44:20;this.O=g.L("canvas","gsicon");
this.JR=this.O.getContext("2d");g.sL(this.O);g.bi(this.O,this.ZC*2+1,this.ZC*2+1);this.JR.scale(g.G(),g.G());
this.m.appendChild(this.O);g.Il(this.O,this.dn.bind(this));this.D6=this.M5.bind(this);this.j8=this.Vo.bind(this);
var H=this.ng.bind(this),J=g.L("div");J.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!A)this.m.appendChild(J);this.e8=[];for(var $=0;$<2;$++){var b=g.L("input");this.e8.push(b);b.setAttribute("type","text");
g.hl(b);if($==0)b.setAttribute("id",Q);b.addEventListener("change",H,!1);var O=g.L("span");O.textContent="\xB0";
if($==0||m){J.appendChild(b);J.appendChild(O);g.Qm(J)}}this.f(this.k)}eV.prototype=new gB;eV.prototype._=function(){if(this.jb)this.gH.textContent=f5.get(this.jb)+":"};
eV.prototype.ym=function(G){this.gH.textContent=G};eV.prototype.B=function(){return this.k.slice(0)};
eV.prototype.f=function(G,m){var A=this.k;G=G.slice(0);if(G[0]==null)G[0]=A[0];if(G[1]==null)G[1]=A[1];
if(G[2]==null)G[2]=A[2];this.k=G;var Q=G[0],H=G[1],J=G[2],b=this.aa2,O=this.aei,a=this.ZC*.85;if(!b)H=0;
this.e8[0].value=Q;this.e8[1].value=H;var e=this.JR;e.clearRect(0,0,100,100);Q=Math.PI*Q/180;H=a*(90-H)/90;
var R=this.ZC+.5;e.save();e.translate(R,R);e.rotate(-Q);e.strokeStyle="rgba(0,0,0,0.5)";e.beginPath();
e.ellipse(0,0,a,a*J,0,0,2*Math.PI);if(O){e.moveTo(0,-a*J);e.lineTo(0,a*J);e.moveTo(-H,0)}else e.moveTo(0,0);
e.lineTo(H,0);e.stroke();var p=this.ZC*.15;e.fillStyle="black";e.beginPath();if(O){e.arc(0,-a*J,p*.66,0,2*Math.PI);
e.arc(0,a*J,p*.66,0,2*Math.PI)}if(b){e.arc(H,0,p*.4,0,2*Math.PI)}else{e.moveTo(R-p,-p*.66);e.lineTo(R,0);
e.lineTo(R-p,p*.66)}e.fill();e.restore();if(m)this.ng()};eV.prototype.ng=function(G){var m=parseInt(this.e8[0].value);
if(isNaN(m))m=0;var A=parseInt(this.e8[1].value);if(isNaN(A))A=0;m=m%360;A=A%360;this.f([m,A]);this.u(new j8(r.E.o,!1))};
eV.prototype.dn=function(G){g.CY(window,this.D6);g.$f(window,this.j8);var m=g.zi(G,this.O),R=0,p=1e9;
m.x-=this.ZC;m.y-=this.ZC;var A=this.k,Q=A[0]*Math.PI/180,H=(90-A[1])/90,J=A[2],b=this.ZC*.85,O=Math.sin(-Q),a=Math.cos(-Q),e=[new dw(a*b,O*b)];
if(this.aei)e.push(new dw(-O*b*J,a*b*J),new dw(O*b*J,-a*b*J));for(var $=0;$<e.length;$++){var P=dw.SH(m,e[$]);
if(P<p){p=P;R=$}}this.a7f=R;if(R==0)this.M5(G)};eV.prototype.M5=function(G){var m=g.zi(G,this.O),A=this.a7f,Q=[],H=m.x-this.ZC,J=m.y-this.ZC,b=this.ZC*.85;
if(A==0){var O=180*Math.atan2(-J,H)/Math.PI,a=90-90*Math.min(1,Math.sqrt(H*H+J*J)/b);if(G.shiftKey)O=Math.round(O/15)*15;
Q=[Math.round(O),Math.round(a)]}else Q=[null,null,Math.max(.01,Math.min(1,Math.sqrt(H*H+J*J)/b))];this.f(Q);
this.u(new j8(r.E.o,!1))};eV.prototype.Vo=function(G){this.u(new j8(r.E.o,!1));g.k1(window,this.D6);
g.P4(window,this.j8)};function h9(G,m){gB.call(this);this.KC=0;this.hi=m;this.m=g.L("span","fitem angleinput");
if(G){this.gH=g.L("label","flabel");this.jb=G;this.m.appendChild(this.gH)}this.O=g.L("canvas","gsicon");
this.JR=this.O.getContext("2d");g.bi(this.O,m,m);this.m.appendChild(this.O);g.Il(this.O,this.dn.bind(this));
this.D6=this.M5.bind(this);this.j8=this.Vo.bind(this);this.f(0)}h9.prototype=new gB;h9.prototype._=function(){if(this.jb)this.gH.textContent=f5.get(this.jb)+":"};
h9.prototype.ym=function(G){this.gH.textContent=G};h9.prototype.B=function(){return this.KC};h9.prototype.afo=function(G){var m=this.KC,A=Math.floor(m/3),Q=m-A*3;
Q=Math.max(0,Math.min(2,Q+G.x));A=Math.max(0,Math.min(2,A+G.y));this.f(A*3+Q)};h9.prototype.f=function(G){this.KC=G;
var m=this.O.width,A=Math.floor(G/3),Q=G-3*A,H=(Q+.5)*m/3,J=(A+.5)*m/3,b=this.JR,O=[.5,Math.round(m/3)+.5,Math.round(2*m/3)+.5,m-.5];
b.clearRect(0,0,m,m);var a=this.hi<30;b.setLineDash([]);b.strokeStyle=a?"rgba(0,0,0,0.5)":"#000000";
b.beginPath();for(var $=0;$<4;$++){var e=O[$];b.moveTo(e,0);b.lineTo(e,m);b.moveTo(0,e);b.lineTo(m,e)}b.stroke();
if(G==9)return;if(!a){b.setLineDash([1,2]);var R=m*.53,p=Math.max(0,Math.min(m-R,H-R/2)),P=Math.max(0,Math.min(m-R,J-R/2));
b.strokeRect(Math.round(p)+.5,Math.round(P)+.5,Math.round(R),Math.round(R))}b.fillStyle="#000000";b.beginPath();
b.arc(H,J,m/8,0,Math.PI*2);b.fill()};h9.prototype.dn=function(G){g.CY(window,this.D6);g.$f(window,this.j8);
this.M5(G)};h9.prototype.M5=function(G){var m=g.zi(G,this.O),A=Math.max(0,Math.min(2,Math.floor(m.x/(this.hi/3)))),Q=Math.max(0,Math.min(2,Math.floor(m.y/(this.hi/3))));
this.f(Q*3+A)};h9.prototype.Vo=function(G){this.u(new j8(r.E.o,!1));g.k1(window,this.D6);g.P4(window,this.j8)};
function bj(jw){gB.call(this);this.m=g.L("span","fitem cswatch");this.agI=0;this.pD=[];this.q5=[];var G=this.a9k.bind(this);
for(var $=0;$<jw;$++){this.pD.push(0);var m=g.L("span","colorsample");m.addEventListener("click",G,!1);
this.q5.push(m);this.m.appendChild(m)}var A=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],Q=Math.min(jw,A.length);
for(var $=0;$<Q;$++)this.pD[$]=A[$];this.RW()}bj.prototype=new gB;bj.prototype.a9k=function(G){this.agI=this.q5.indexOf(G.currentTarget);
this.u(new j8(r.E.o))};bj.prototype.B=function(){return this.pD[this.agI]};bj.prototype.f=function(G){var m=this.pD,A=m.indexOf(G);
if(A!=-1)m.splice(A,1);else m.pop();m.unshift(G);this.RW()};bj.prototype.RW=function(){for(var $=0;$<this.pD.length;
$++){this.q5[$].setAttribute("style","background-color:#"+N.as(this.pD[$]))}};function jM(G){gB.call(this);
this.jM={p:0,z:0,h:0};this.Bl=G;this.m=g.L("span","fitem colorsample");this.m.addEventListener("click",this.dD.bind(this),!1)}jM.prototype=new gB;
jM.prototype._=function(){};jM.prototype.dD=function(G){var m=this.jM;this.u(new j8("click"));var A=new j8(r.E.W,!0);
A.data={d:r.S.XG,Ue:"colorpicker",zG:m.p<<16|m.z<<8|m.h,b5:this.CO.bind(this),If:this.Bl};this.u(A)};
jM.prototype.CO=function(G){this.s8(G);this.u(new j8(r.E.o))};jM.prototype.aix=function(){this.dD(null)};
jM.prototype.aho=function(){var G=this.jM;return G.p<<16|G.z<<8|G.h};jM.prototype.B=function(){return N.X.N4(this.jM)};
jM.prototype.s8=function(G){this.jM={p:G>>16&255,z:G>>8&255,h:G&255};this.adw()};jM.prototype.f=function(G){this.jM=N.X.SR(G);
this.adw()};jM.prototype.adw=function(){var G=this.jM,m=G.p,A=G.z,Q=G.h,H=m<<16|A<<8|Q;this.m.setAttribute("style","background-color:#"+N.as(H))};
function d6(){gB.call(this);this.Mb=!1;this.sg=20;this.ab_=10;this.gO=0;this.Mb=!1;this.gj={p:255,z:0,h:0};
this.q6={p:0,z:0,h:0};this.m=g.L("canvas");this.Lc();g.sL(this.m);g.Il(this.m,this.$_.bind(this))}d6.prototype=new gB;
d6.prototype.aax=function(G){if(this.Mb==G)return;this.Mb=G;this.Lc()};d6.prototype._=function(){};d6.prototype.a8L=function(G,m){function A(Q){return{p:Q>>16&255,z:Q>>8&255,h:Q&255}}if(G!=null)this.gj=A(G);
if(m!=null)this.q6=A(m);this.Lc()};d6.prototype.$_=function(G){var m=g.zi(G,this.m),A=m.x*g.G(),Q=m.y*g.G(),H=this.sg,J=this.ab_,b=0;
if(A<J&&Q<J){b=0}else if(A>H-J&&Q>H-J){b=1}else if(A<J){b=2}else{b=3}var O=new j8(r.E.W,!0);if(b>1)O.data={d:r.S.$g,WF:dG.bu,Nm:b};
else{this.gO=b;var a=b==0?this.gj:this.q6;O.data={d:r.S.XG,Ue:"colorpicker",zG:a.p<<16|a.z<<8|a.h,b5:this.CO.bind(this)}}this.u(O)};
d6.prototype.CO=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.$g,WF:dG.bu,Nm:this.gO,k:G};this.u(m)};
d6.prototype.Lc=function(){var G=this.m,m=G.getContext("2d"),A=g.G(),H="#aaaaaa",J=.62;g.bi(G,34,34);
G.setAttribute("style",G.getAttribute("style")+";cursor:pointer");var Q=this.sg=G.width,b=this.ab_=Math.round(Q*J);
function O(z,Z){var W=z.p,T=z.z,i=z.h;if(Z)W=T=i=Math.round(N.vp(W,T,i));var X=W<<16|T<<8|i;return"#"+N.as(X)}function a(z,Z,b,W,T){m.fillStyle=T?T:"black";
m.fillRect(z,Z,b,b);m.fillStyle=W;m.fillRect(z+1,Z+1,b-2,b-2)}a(Q-b,Q-b,b,O(this.q6,this.Mb));a(0,0,b,O(this.gj,this.Mb));
var e=Q-b,R=Math.round(e*J);a(Q-R,e-R,R,"white",H);a(Q-e,0,R,"black",H);m.save();m.fillStyle=H;m.translate(0,Q);
m.rotate(-Math.PI/2);e=Q-b;var p=Math.round(e*.28),P=Math.round(e*.25);for(var $=0;$<2;$++){m.fillRect(p,p,e-p,1);
m.beginPath();m.moveTo(e-P,p+.5-P);m.lineTo(e,p+.5);m.lineTo(e-P,p+.5+P);m.closePath();m.fill();m.transform(0,1,1,0,0,0)}m.restore()};
function hJ(G){c$.call(this,G,!1,"brushbutton nopadding",19,10,dG.sV,!0);var m=this.aiT;g.kG(m,"flexrow");
var A=g.L("div");m.appendChild(A);var Q=g.L("div");m.appendChild(Q);Q.setAttribute("style","margin-left:8px");
this.I9=new eV(null,null,!0);this.I9.J(r.E.o,this.r3,this);A.appendChild(this.I9.m);this.By=new bo([12,14,0],1,1e3," px",0,!0);
this.By.J(r.E.o,this.r3,this);Q.appendChild(this.By.m);this.bY=new bo([12,17],0,100,"%");this.bY.J(r.E.o,this.r3,this);
Q.appendChild(this.bY.m)}hJ.prototype=new c$;hJ.prototype.fQ=function(){var G=["pencil","trees"];for(var $=0;
$<G.length;$++)G[$]="brushes/"+G[$]+".abr";return G};hJ.prototype.f=function(G,m,A){this.rV=JSON.parse(JSON.stringify(G));
var Q=Math.floor(20*g.G()),H=Math.floor(36*g.G()),J=Math.floor(24*g.G()),b=gj.pt(G,m,A,Q,J,H);this.Qz.setAttribute("src",b);
g.AX(this.Qz,H,J);var O=G.Brsh.v;this.By.f(O.Dmtr.v.val);if(O.Hrdn!=null){this.bY.vF();this.bY.f(O.Hrdn.v.val)}else this.bY.Tx();
if(O.Angl!=null)this.I9.f([O.Angl.v.val]);if(O.Rndn!=null)this.I9.f([null,null,O.Rndn.v.val/100])};hJ.prototype.L8=function(){return{list:[{t:"Objc",v:this.B()}],GO:[],WJ:[]}};
hJ.prototype.B=function(){return this.rV};hJ.prototype.Us=function(){if(!this.Zo)return;var G=[],m=[],A=this.hZ,Q=Math.floor(33*g.G()),H=Math.floor(40*g.G());
for(var $=0;$<A.list.length;$++){var J=A.list[$].v,b=gj.pt(J,A.GO,A.WJ,Q,H);G.push(b);m.push(J.Nm.v.split("=").pop())}this.Nb.o7(G,m,Q,H);
this.Zo=!1};hJ.prototype.rX=function(G){var m=this.hZ;this.f(m.list[this.Nb.B()[0]].v,m.GO,m.WJ);this.u(new j8(r.E.o))};
hJ.prototype._=function(){c$.prototype._.call(this);this.I9._();this.By._();this.bY._()};hJ.prototype.r3=function(G){var m=this.hZ,A=this.rV,Q=A.Brsh.v;
Q.Dmtr.v.val=this.By.B();if(Q.Hrdn!=null)Q.Hrdn.v.val=this.bY.B();if(Q.Angl!=null)Q.Angl.v.val=this.I9.B()[0];
if(Q.Rndn!=null)Q.Rndn.v.val=Math.round(this.I9.B()[2]*100);this.f(A,m.GO,m.WJ);this.u(new j8(r.E.o))};
function ab(G){c$.call(this,G,!0,"contourbutton",17,10.5,dG.yb)}ab.prototype=new c$;ab.prototype.rX=function(G){this.f(this.hZ[G.target.B()]);
this.u(new j8(r.E.o))};ab.prototype.W2=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.XG,Ue:"contoureditor",Td:this.rV,response:this.a5f.bind(this)};
this.u(m)};ab.prototype.a5f=function(G){this.f(G);this.u(new j8(r.E.o))};ab.prototype.Us=function(){if(!this.Zo)return;
var G=Math.floor(38*g.G()),m=Math.floor(38*g.G()),A=[],Q=[],H=this.hZ;for(var $=0;$<H.length;$++){Q.push(H[$].Nm?H[$].Nm.v:"");
A.push(N.RH.pt(H[$].Crv.v,G,m))}this.Nb.o7(A,Q,G,m);this.Zo=!1};ab.prototype.f=function(G){this.rV=JSON.parse(JSON.stringify(G));
var m=this.rV.Crv.v;for(var $=0;$<m.length;$++)if(m[$].v.Cnty==null)m[$].v.Cnty={t:"bool",v:!0};this.$h()};
ab.prototype.$h=function(){var G=Math.floor(30*g.G()),m=Math.floor(30*g.G()),A=N.RH.pt(this.rV.Crv.v,G,m);
this.Qz.setAttribute("src",A);g.AX(this.Qz,G,m)};ab.prototype.B=function(){return JSON.parse(JSON.stringify(this.rV))};
function dN(G){gB.call(this);this.xK=null;this.dj=null;this.xx=null;this.WS=null;this.a9P=[];this.alx=[];
this.m=g.L("span","fitem fillbutton");this.$p=new gB;this.$p.m=g.L("div","floatcont form");this.$p.m.setAttribute("style","width: 21em;");
this.$p.parent=this;this.hf=G;this.gH=this.gH=g.L("label","flabel");this.m.appendChild(this.gH);this.O=g.L("canvas");
this.JR=this.O.getContext("2d");this.aqP=null;this.m.appendChild(this.O);g.Il(this.O,this.Cc.bind(this));
this.jj=new ai([12,66],["","Color","Grad","Patt"]);this.$p.m.appendChild(this.jj.m);this.jj.J(r.E.o,this.iR,this);
this.$p.m.appendChild(g.L("hr"));this.ak9=g.L("span");this.wm=new jM(!0);this.wm.parent=this.$p;this.wm.J(r.E.o,this.iR,this);
this.Qt=new bj(10);this.Qt.J(r.E.o,this.iR,this);this.RM=g.L("div","marged hiline");this.RM.appendChild(this.wm.m);
g.Qm(this.RM);this.RM.appendChild(this.Qt.m);this.Hb=new fh("GrFl",!0);this.Hb.parent=this.$p;this.Hb.J(r.E.o,this.iR,this);
this.D0=g.L("div","marged hiline");var m="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var $=0;
$<m.length;$++){var A=this.Hb.No[m[$]].m;this.D0.appendChild(A)}this.sY=new fh("patternFill",!0);this.sY.parent=this.$p;
this.sY.J(r.E.o,this.iR,this);this.JF=g.L("div","marged hiline");var m=["Ptrn","Angl","Scl","Algn","phase"];
for(var $=0;$<m.length;$++){var A=this.sY.No[m[$]].m;this.JF.appendChild(A)}}dN.prototype=new gB;dN.prototype.a2=function(G,m){if(m==dG.VP){this.a9P=[];
this.alx=[];if(this.xK)this.f(this.xx,this.B(),this.xK)}this.dj=G;this.Hb.a2(G,m);this.sY.a2(G,m)};dN.prototype._=function(){this.gH.textContent=f5.get(this.hf)+": ";
this.jj._();this.wm._();this.Hb._();this.sY._()};dN.prototype.iR=function(G){var m=G.currentTarget;if(m==this.jj){var A=this.jj.B(),Q={D2:A,GF:this.xK[A]};
if(A>0&&Q.GF==null)Q.GF=JSON.parse(JSON.stringify(hK.XE[A-1]));if(this.xK)this.f(this.xx,Q,this.xK)}if(m==this.Qt)this.wm.s8(m.B());
this.u(new j8(r.E.o,!1))};dN.prototype.Cc=function(G){if(g.m$(this.$p.m))return;G.stopPropagation();
var m=this.O.getBoundingClientRect(),A=new j8(r.E.W,!0);A.data={d:r.S.mo,Nc:this.$p,x:m.left,y:m.top+m.height+4};
this.u(A);this.Qt.f(this.wm.aho())};dN.prototype.f=function(G,m,A){this.xK=A;this.xx=G;var Q=[[13,1,0],[13,0],[12,37],[12,62]],H=this.a9P,J=this.alx,b=!1,R;
for(var $=0;$<4;$++){var O={D2:$,GF:A[$]},a=dN.a0a(O);if(J[$]==a)continue;b=!0;var e=dN.ad5(null,O,this.dj,this.xx,22,22,!1);
H[$]="<img width=\"22\" height=\"22\" src=\""+e+"\" />";J[$]=a}if(b)this.jj.fd(H,Q);this.jj.f(m.D2);
var a=dN.a0a(m);if(a!=this.aqP)dN.ad5(this.JR,m,this.dj,this.xx,30,23,!0);this.aqP=a;var p=m.D2;if(p==0){R=this.ak9}if(p==1){this.wm.f(m.GF.Clr.v);
R=this.RM}if(p==2){this.Hb.update(G,m.GF);R=this.D0}if(p==3){this.sY.update(G,m.GF);R=this.JF}if(R!=this.WS){if(this.WS!=null){this.$p.m.removeChild(this.WS)}this.$p.m.appendChild(R);
this.WS=R}};dN.prototype.B=function(){var G={D2:this.jj.B()};if(G.D2==1){G.GF=JSON.parse(JSON.stringify(hK.XE[0]));
G.GF.Clr.v=this.wm.B()}if(G.D2==2){G.GF=this.Hb.B()}if(G.D2==3){G.GF=this.sY.B()}return G};dN.a0a=function(G){var m=G.D2,A=G.GF,Q="empty";
if(m==1){Q=N.X.SR(A.Clr.v);Q=Q.p+","+Q.z+","+Q.h}if(m==2)Q=JSON.stringify(A.Grad.v);if(m==3)Q=A.Ptrn.v.Idnt.v;
return Q};dN.ad5=function(G,m,A,Q,H,J,b){if(G==null)G=dN.JR;var O=Math.floor(H*g.G()),a=Math.floor(J*g.G()),e=G.canvas,R;
e.width=O;e.height=a;g.AX(e,O,a);var p=m.D2;if(p==0){G.fillStyle="#ffffff";G.fillRect(0,0,O,a);G.strokeStyle="#ff0000";
G.lineWidth=2;G.moveTo(0,0);G.lineTo(O,a);G.moveTo(0,a);G.lineTo(O,0);G.stroke()}if(p==1){var P=m.GF.Clr.v;
P=N.X.SR(P);G.fillStyle="#"+N.as(P.p<<16|P.z<<8|P.h);G.fillRect(0,0,O,a)}if(p==2){f.Rd.pt(m.GF.Grad.v,O,a,0,A.yu,A.qU,e)}if(p==3){var z=m.GF.Ptrn.v,Z;
if(Q!=null)Z=en.Qf(z,Q.add.Patt);if(Z==null)Z=en.Qf(z,A.uf);ex.pt(Z,O,a,e)}if(b){G.beginPath();G.strokeStyle="#000000";
G.fillStyle="#ffffff";G.lineWidth=2;var W=O*.7,T=Math.floor(a*.7),i=7*g.G();G.moveTo(W,T);G.lineTo(W+i,T);
G.lineTo(W+i/2,T+i/2);G.closePath();G.stroke();G.fill()}if(G==dN.JR)return e.toDataURL()};dN.JR=g.L("canvas").getContext("2d");
function ex(G){c$.call(this,G,!1,"patternbutton",18,10,dG.VP);this.N5=null}ex.prototype=new c$;ex.prototype.rX=function(G){var m=this.hZ[this.Nb.B()];
this.rV={classID:"Ptrn",Nm:{t:"TEXT",v:m.name},Idnt:{t:"TEXT",v:m.id}};this.u(new j8(r.E.o));this.$h()};
ex.Db=!1;ex.prototype.Us=function(){if(!this.Zo)return;var G=this.hZ;if(G==null||!ex.Db){var m=new j8(r.E.W,!0);
m.data={d:r.S.BG,WF:{url:"rsrc/basic/basic.pat"}};this.u(m);ex.Db=!0;return}var A=Math.floor(34*g.G()),Q=Math.floor(34*g.G()),H=[],J=[];
for(var $=0;$<G.length;$++){H.push(ex.pt(G[$],A,Q));J.push(G[$].name)}this.Nb.o7(H,J,A,Q);this.Zo=!1};
ex.prototype.f=function(G,m){if(this.rV&&G.Idnt.v==this.rV.Idnt.v)return;this.rV=JSON.parse(JSON.stringify(G));
this.$h(m)};ex.prototype.B=function(){return JSON.parse(JSON.stringify(this.rV))};ex.prototype.L8=function(){return this.N5?[this.N5]:[]};
ex.prototype.$h=function(G){var m=Math.floor(50*g.G()),A=Math.floor(50*g.G()),Q;if(G!=null)Q=en.Qf(this.rV,G.add.Patt);
if(Q==null)Q=en.Qf(this.rV,this.hZ);this.N5=Q;var H=ex.pt(Q,m,A);this.Qz.setAttribute("src",H);g.AX(this.Qz,m,A)};
ex.O=g.L("canvas","");ex.pt=function(G,m,A,Q){if(Q==null)Q=ex.O;var H=Q.getContext("2d");Q.width=m;Q.height=A;
if(G){var J=G.g3[1],b=J.e,O=J.n,a=G.g3[0],e=Math.min(m/b,A/O),R=e;if(R*b<2)R=2/b;var p=e;if(p*O<2)p=2/O;
var P=f.Q.fK([a,J],new ci(R,0,0,p,0,0),R>2),z=P.rect.e,Z=P.rect.n,W=H.createImageData(z,Z);N.Gy(P.buffer,W.data);
H.putImageData(W,Math.floor((m-z)/2),Math.floor((A-Z)/2))}return Q.toDataURL()};function h3(G,m,A){if(m==null)m=24.2;
if(A==null)A=17;c$.call(this,G,!1,"patternbutton",m,A,dG.xj);this.kA=""}h3.prototype=new c$;h3.prototype.rX=function(G){this.rV=JSON.parse(JSON.stringify(this.hZ[0][this.Nb.B()[0]]));
this.u(new j8(r.E.o))};h3.prototype.Us=function(){var G=this.hZ;if(G==null||!this.Zo)return;var m=Math.floor(50*g.G()),A=Math.floor(50*g.G()),Q=[],H=[];
for(var $=0;$<G[0].length;$++){Q.push(h3.pt(this.hZ[0][$].uv,m,A,this.hZ[1]));H.push(G[0][$].xo.Nm.v.split("=").pop())}this.Nb.o7(Q,H,m,A);
this.Zo=!1};h3.prototype.f=function(G,m,A,Q){var H=JSON.stringify(G.uv)+","+A+","+Q;if(this.kA!=H){this.kA=H;
this.rV=JSON.parse(JSON.stringify(G));this.$h(m,A,Q)}};h3.prototype.B=function(){return JSON.parse(JSON.stringify(this.rV))};
h3.prototype.$h=function(G,m,A){var Q=Math.floor(68*g.G()),H=Math.floor(68*g.G()),J=h3.pt(this.rV.uv,Q,H,G?G:this.hZ[1],m,A);
this.Qz.setAttribute("src",J);g.AX(this.Qz,Q,H)};h3.pt=function(G,m,A,Q,H,J){var b=new fy;b.e=m;b.n=A;
b.buffer=N.$(m*A*4);b.add.Patt=Q;b.vI(H==null?90:H);b.d_(J==null?30:J);var O=new f_(0,0,Math.round(m*.5),Math.round(A*.5));
O.x=Math.round((m-O.e)/2);O.y=Math.round((A-O.n)/2);var a=b.uA();a.rect=O;a.buffer=N.$(O.Z()*4);N.w8(a.buffer,4284045657);
en.a6q(G,a,.5*100);b.g.push(a);b.WW();b.F();var e=h.wq;h.wq=!1;b.kn();var R=b.$s();h.wq=e;var p=dt.Kh(R.buffer,b.e,b.n);
return p};function cB(G){c$.call(this,null,!1,"tpresetbutton",18,24,dG.JG,!0);g.W8(this.m,"fitem");this.Nb.oS(1);
this.id=G;this.$h();this.d.style.overflow="hidden";this.pn=new aX([15,7,9]);this.pn.f(!0);this.pn.J(r.E.o,this.aoI,this);
this.OQ.appendChild(this.pn.m)}cB.prototype=new c$;cB.prototype.atP=function(G){if(this.id==G)return;
this.id=G;this.pA(this.hZ)};cB.prototype.rX=function(G){var m=this.hZ[this.Nb.B()],A=new j8(r.E.W,!0);
A.data={d:r.S.$g,ja:"set",WF:dG.JG,H7:m};this.u(A)};cB.prototype._=function(){c$.prototype._.call(this);
this.pn._()};cB.prototype.aoI=function(){this.Zo=!0;this.Us()};cB.prototype.Us=function(){if(!this.Zo)return;
var G=Math.floor(16*g.G()),m=Math.floor(16*g.G()),A=[],Q=[],H=this.hZ,J=this.pn.B();for(var $=0;$<H.length;
$++){var b=f.yV(H[$]);if(!J||b==this.id){Q.push(H[$][0]?H[$][0].split("=").pop():"");A.push(b==-1?"":PIMG[f.Ni[b][0]])}else{A.push(null);
Q.push(null)}}this.Nb.o7(A,Q,G,m);this.Zo=!1};cB.prototype.$h=function(){var G=this.Qz;G.setAttribute("src",PIMG[f.Ni[this.id][0]]);
g.kG(G,"toolicon")};cB.prototype.L8=function(){return null};cB.rB={};cB.pt=function(G,m,A){var Q=cB.JR,H=cB.rB,J=N.as(G.p<<16|G.z<<8|G.h);
if(H[J])return H[J];if(Q==null){var b=g.L("canvas");Q=cB.JR=b.getContext("2d")}var b=Q.canvas;b.width=m;
b.height=A;Q.fillStyle="#"+J;Q.fillRect(0,0,m,A);var O=H[J]=b.toDataURL();return O};function gZ(G,m,A){gB.call(this);
this.m=g.L("span","fitem curveeditor");this.$t=null;this.ahT=0;this.cc="";this.mode=0;this.ft=G;this.a9u=m;
this.agY=A;this.SD=null;this.Lp=null;this.aeo=0;this.a9q=0;this.BA=new dw;this.NB=this.M5.bind(this);
this.PM=this.Vo.bind(this);this.hi=256;this.O=g.L("canvas");this.JR=this.O.getContext("2d");g.sL(this.O);
this.m.appendChild(this.O);this.e9(256,256);g.Il(this.O,this.dn.bind(this));this.coords=g.L("div","");
this.coords.setAttribute("style","width:250px");this.m.appendChild(this.coords);var Q=this.G9=A?100:255,H=null;
this.z6=new hz("X (in):",0,Q,H,0,!1,!0);this.sn=new hz("Y (out):",0,Q,H,0,!1,!0);this.FU=new aX([19,3,0]);
this.z6.J(r.E.o,this.mN,this);this.sn.J(r.E.o,this.mN,this);this.FU.J(r.E.o,this.mN,this);this.coords.appendChild(this.z6.m);
if(A)this.coords.appendChild(this.FU.m);this.coords.appendChild(this.sn.m)}gZ.prototype=new gB;gZ.prototype._=function(){this.FU._()};
gZ.prototype.e9=function(G,m){this.hi=Math.round(G);this.JR.resetTransform();g.bi(this.O,this.hi,this.hi,this.JR);
this.JR.scale(this.hi/256,this.hi/256);if(this.SD)this.Ta()};gZ.prototype.mN=function(G){var $=this.a7H(),m=this.SD[$],A=255/this.G9;
m.v.Hrzn.v=this.z6.B()*A;m.v.Vrtc.v=this.sn.B()*A;if(this.agY)m.v.Cnty.v=this.FU.B();this.SD.sort(function(Q,H){return Q.v.Hrzn.v-H.v.Hrzn.v});
this.Ta();this.u(new j8(r.E.o))};gZ.prototype.f=function(G,$){var m=JSON.stringify(G);if(m==JSON.stringify(this.SD))return;
this.mode=G.length==256?1:0;this.SD=JSON.parse(m);if($!=null)this.Lp=this.SD[$];this.Ta()};gZ.prototype.Ie=function(G,m,A){this.$t=G;
this.ahT=m;this.cc=A;this.Ta()};gZ.prototype.B=function(){return JSON.parse(JSON.stringify(this.SD))};
gZ.prototype.a7H=function(){return this.SD.indexOf(this.Lp)};gZ.prototype.dn=function(G){var m=256/this.hi,A=g.zi(G,this.O);
A.x*=m;A.y*=m;var Q=A.x,H=256-A.y;if(this.ft){var J=Q;Q=256-H;H=J}this.BA.QU(Q,H);if(this.mode==0){var b=0,O=1e9,P;
for(var $=0;$<this.SD.length;$++){var a=this.SD[$].v,e=a.Hrzn.v-Q,R=a.Vrtc.v-H,p=Math.sqrt(e*e+R*R);
if(p<O){O=p;b=$}}if(O<15)P=this.SD[b];else{P=N.RH.eM(Q,H,!0);this.SD.push(P);this.SD.sort(function(z,Z){return z.v.Hrzn.v-Z.v.Hrzn.v})}this.Lp=P;
this.a9q=this.SD.slice(0)}g.CY(document.body,this.NB);g.$f(document.body,this.PM);this.M5(G)};gZ.prototype.M5=function(G){var m=256/this.hi,A=g.zi(G,this.O);
A.x*=m;A.y*=m;var Q=A.x,H=256-A.y;if(this.ft){var J=Q;Q=256-H;H=J}if(this.mode==0){var b=this.SD,O=this.Lp,a=this.a9q,e=a.indexOf(O),R=b.indexOf(O)!=-1,p=a.length-1,P=Q;
if(e==0){P=Math.max(0,Math.min(a[1].v.Hrzn.v-1,Q))}else if(e==p){P=Math.min(255,Math.max(a[p-1].v.Hrzn.v+1,Q))}else{var z=Q<0||Q>255||H<0||H>255;
if(Q<=a[e-1].v.Hrzn.v||Q>=a[e+1].v.Hrzn.v)z=!0;if(!z&&!R)b.splice(e,0,O);if(z&&R)b.splice(e,1)}if(this.a9u&&(e==0||e==a.length-1)){}else O.v.Hrzn.v=Math.round(P);
O.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(H)))}else{Q=Math.round(Q);H=Math.round(H);Q=Math.max(0,Math.min(255,Q));
H=Math.max(0,Math.min(255,H));var Z=this.BA.x,W=Q,T=this.BA.y,i=H;if(Q<this.BA.x){W=Z;Z=Q;i=T;T=H}this.SD[Q]=H;
if(Z!=W)for(var X=Z;X<=W;X++)this.SD[X]=Math.round(T+(X-Z)*(i-T)/(W-Z))}this.BA.QU(Q,H);this.Ta();this.u(new j8(r.E.o))};
gZ.prototype.Vo=function(G){g.k1(document.body,this.NB);g.P4(document.body,this.PM);this.u(new j8(r.E.o))};
gZ.prototype.Ta=function(){var G=this.JR,m=this.O;G.fillStyle="#ffffff";G.fillRect(0,0,256,256);var A=256/m.width;
if(this.$t){G.save();G.translate(0,256);G.scale(1,-1);eS.adP(G,this.$t,5700/this.ahT,this.cc);G.restore()}G.strokeStyle="#aaaaaa";
G.lineWidth=1*A;G.beginPath();for(var $=1;$<4;$++){var Q=(Math.floor(64*$/A)+.5)*A;G.moveTo(0,Q);G.lineTo(255,Q);
G.moveTo(Q,0);G.lineTo(Q,255)}G.stroke();if(this.ft){G.save();G.transform(0,1,-1,0,256,0)}if(this.mode==0){var H=this.SD,J=N.RH.m7(H,256);
G.strokeStyle="#000000";G.beginPath();G.moveTo(0,255.5-J[0]);for(var $=0;$<256;$++)G.lineTo($,255.5-J[$]);
G.stroke();G.lineWidth=2*A;for(var $=0;$<H.length;$++){var b=H[$].v;G.fillStyle=this.Lp==H[$]?"#333":"#fff";
G.beginPath();G.moveTo(b.Hrzn.v,255.5-b.Vrtc.v);G.arc(b.Hrzn.v,255.5-b.Vrtc.v,5*A,0,2*Math.PI);G.stroke();
G.fill()}}else{var J=this.SD;G.strokeStyle="#000000";G.beginPath();G.moveTo(0,255.5-J[0]);for(var $=0;
$<256;$++)G.lineTo($,255.5-J[$]);G.stroke()}if(this.ft)G.restore();var $=this.a7H();this.coords.setAttribute("class",$==-1?"disabled":"");
if($==-1)return;var b=this.SD[$].v,O=255/this.G9;this.z6.f(Math.round(b.Hrzn.v/O));this.sn.f(Math.round(b.Vrtc.v/O));
if(b.Cnty)this.FU.f(b.Cnty.v)};function eS(G,m){gB.call(this);this.m=g.L("span","");this.LT=new iV([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.LT.J(r.E.o,this.Lc,this);this.m.appendChild(this.LT.m);g.Qm(this.m);this.O=g.L("canvas");var A=this.O;
this.m.appendChild(A);A.width=Math.round(G*g.G());A.height=Math.round(100*g.G());g.AX(A,A.width,A.height);
this.JR=A.getContext("2d");this.$t=null;this.xE=0;this.a7g=null;this.akm=[];this.xO=[];var Q=["Mean:","Pixels:"],H=this.m;
for(var $=0;$<Q.length;$++){var J=new gS(Q[$]);this.akm.push(J);if(m)H.appendChild(J.m);var b=new gS("hi");
this.xO.push(b);if(m)H.appendChild(b.m);g.Qm(H)}}eS.prototype=new gB;eS.prototype._=function(){this.LT._()};
eS.prototype.oS=function(G){this.LT.f(G);this.Lc()};eS.prototype.f=function(G,m){this.$t=G;this.a7g=m;
this.Lc()};eS.prototype.s8=function(G){if(G==this.xE)return;this.xE=G;this.Lc()};eS.prototype.Lc=function(){if(this.$t==null)return;
var G=this.O,m=this.JR,A=this.$t,Q=this.a7g,H=this.LT.B(),J=6e3/A[4],b="#"+N.as(this.xE),O=eS.adP;G.width=G.width;
m.setTransform(G.width/256,0,0,-G.height/100,0,G.height);m.globalCompositeOperation="lighter";if(H==0)O(m,A[0],J/3,b);
else if(H<4)O(m,A[H],J,b);else{O(m,A[1],J,"#ff0000");O(m,A[2],J,"#00ff00");O(m,A[3],J,"#0000ff")}m.setTransform(1,0,0,1,0,0);
if(Q!=null){var a=0;for(var $=0;$<256;$++)a+=$*A[H][$];if(H==0)a/=3;this.xO[0].f((a/Q).toFixed(1)+"");
this.xO[1].f(Q+"")}};eS.adP=function(G,m,A,Q){G.beginPath();G.moveTo(0,0);for(var H=0;H<256;H++)G.lineTo(H,m[H]*A);
G.lineTo(256,0);G.closePath();G.fillStyle=Q;G.fill()};function by(G){gB.call(this);this.Fz={p:0,z:0,h:0};
if(Math.abs(G-256/g.G())<10)G=256/g.G();var m=this.m=g.L("div","flexrow");this.pw=new dw;this.P9=new dw;
this.D6=this.ap8.bind(this);this.j8=this.afG.bind(this);this.O=g.L("canvas","");this.JR=this.O.getContext("2d");
this.O.width=this.O.height=256;this.a4V=this.JR.getImageData(0,0,256,256);this.afv=-1;g.sL(this.O);g.Il(this.O,this.a9T.bind(this));
m.appendChild(this.O);this.a74=this.a6X.bind(this);this.au0=this.ap5.bind(this);this.QS=g.L("canvas","");
this.$B=this.QS.getContext("2d");this.QS.width=20;this.QS.height=256;this.a8o=this.$B.getImageData(0,0,20,256);
by.apo(this.a8o.data,20,256);g.sL(this.QS);g.Il(this.QS,this.amZ.bind(this));m.appendChild(this.QS);
this.O.setAttribute("style","width:"+G+"px; height:"+G+"px");this.QS.setAttribute("style","width:16px; height:"+G+"px")}by.prototype=new gB;
by.prototype.e9=function(G,m){this.O.style.width=G-16+"px"};by.prototype.f=function(G){this.Fz=G;this.update()};
by.prototype.B=function(){return JSON.parse(JSON.stringify(this.Fz))};by.prototype.update=function(){var G=this.Fz,m=N.ID(G.p,G.z,G.h);
if(m.ok==0)m.H6=this.pw.x/255;if(m.H6==0||m.ok==0)m.V7=(255-this.BX(this.P9.y))/255;if(m.ok!=0)this.pw.x=m.H6*255;
this.pw.y=(1-m.ok)*255;this.P9.y=(1-m.V7)*255;var A=this.a4V;if(Math.abs(m.V7-this.afv)>.002){this.aqw(A.data,256,256,m.V7);
this.afv=m.V7}var Q=this.JR;Q.putImageData(A,0,0);Q.strokeStyle="#000000";Q.beginPath();Q.arc(this.pw.x+1,this.pw.y+1,5,0,2*Math.PI);
Q.stroke();Q.strokeStyle="#ffffff";Q.beginPath();Q.arc(this.pw.x,this.pw.y,5,0,2*Math.PI);Q.stroke();
A=this.a8o;Q=this.$B;Q.putImageData(A,0,0);Q.strokeStyle="#ffffff";Q.beginPath();Q.moveTo(0,this.P9.y);
Q.lineTo(20,this.P9.y);Q.lineWidth=2;Q.stroke()};by.prototype.aqw=function(G,m,A,Q){var H=1/m,J=1/A;
for(var b=0;b<A;b++)for(var O=0;O<m;O++){var a=N.JY(Q,O*H,(A-b-1)*J),$=b*m+O<<2;G[$+0]=~~(a.p*255);G[$+1]=~~(a.z*255);
G[$+2]=~~(a.h*255);G[$+3]=255}};by.apo=function(G,m,A,Q,H){if(Q==null)Q=1;if(H==null)H=0;var J=new Uint32Array(G.buffer);
for(var b=0;b<A;b++){var O=N.JY((1+Q*(1-b/A)+H)%1,1,1),a=255<<24|O.h*255<<16|O.z*255<<8|O.p*255;for(var e=0;
e<m;e++)J[b*m+e]=a}};by.prototype.a9T=function(G){g.CY(window,this.D6);g.$f(window,this.j8);this.ap8(G)};
by.prototype.afG=function(G){g.k1(window,this.D6);g.P4(window,this.j8)};by.prototype.ap8=function(G){var m=g.zi(G,this.O);
m.x=m.x*(256/parseFloat(this.O.style.width));m.y=m.y*(256/parseFloat(this.O.style.height));this.pw.QU(this.BX(m.x),this.BX(m.y));
this.Nz()};by.prototype.Nz=function(){this.Fz=this.a1D();this.u(new j8(r.E.o))};by.prototype.a1D=function(){var G=N.JY((255-this.BX(this.P9.y))/255,this.ad(this.pw.x/255),this.ad(1-this.pw.y/255));
return{p:G.p,z:G.z,h:G.h}};by.prototype.amZ=function(G){g.CY(window,this.a74);g.$f(window,this.au0);
this.a6X(G)};by.prototype.ap5=function(G){g.k1(window,this.a74);g.P4(window,this.au0)};by.prototype.a6X=function(G){var m=g.zi(G,this.QS);
m.y=m.y*(256/parseFloat(this.QS.style.height));this.P9.QU(this.BX(m.x),this.BX(m.y));this.Nz()};by.prototype.BX=function(G){return Math.max(0,Math.min(255,G))};
by.prototype.ad=function(G){return Math.max(0,Math.min(1,G))};function gr(G,m,A,Q){var H=ai.wY(m,Q);
ai.call(this,G,H,A)}gr.prototype=new ai;function f6(){gB.call(this);this.Wc=null;this.IT=new iP;this.IT.J(r.E.o,this.a71,this);
this.IT.parent=this;this.bW=new hz([12,14,0],1,150,"px",0,!0);this.bW.J(r.E.o,this.Qi,this);this.bW.parent=this;
this.XU=new hz([16,0],.01,100,"px",2,!0,null,5);this.XU.J(r.E.o,this.Qi,this);this.XU.parent=this;this.Ew=new aX("Auto");
this.Ew.J(r.E.o,this.Qi,this);this.oG=new hz([16,1],-500,5e3,"%",0,!0);this.oG.J(r.E.o,this.Qi,this);
this.oG.parent=this;this.GD=new hz("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.GD.J(r.E.o,this.Qi,this);
this.GD.parent=this;this.Hx=new hz("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Hx.J(r.E.o,this.Qi,this);
this.Hx.parent=this;this.Ws=new hz([16,2],-10,10,"px");this.Ws.J(r.E.o,this.Qi,this);this.Ws.parent=this;
this.Nt=new jM(!0);this.Nt.J(r.E.o,this.Gf,this);this.Nt.parent=this;this.RF=new jM(!0);this.RF.J(r.E.o,this.Gf,this);
this.RF.parent=this;this.bN=new jM(!0);this.bN.J(r.E.o,this.Gf,this);this.bN.parent=this;this.Xe=new jM(!0);
this.Xe.J(r.E.o,this.Gf,this);this.Xe.parent=this;this.p$=new aX([2,3]);this.p$.J(r.E.o,this.Qi,this);
this._k=new aX([14,9]);this._k.J(r.E.o,this.Qi,this);this.hI=new aX([12,46]);this.hI.J(r.E.o,this.Qi,this);
this.a7=new iL("...",null,null,!0);this.a7.m.style.marginLeft="-8px";this.a7.J("click",this.a0L,this);
this.$p=new gB;var G=this.$p.m=g.L("div","floatcont form");this.$p.parent=this;this.xL=new hz([12,41],1,20,"px",0,!0,!0);
this.xL.m.style.marginLeft="16px";this.xL.J(r.E.o,this.Qi,this);this.xL.parent=this.$p;G.appendChild(this.RF.m);
G.appendChild(this.p$.m);g.Qm(this.$p.m);G.appendChild(this.bN.m);G.appendChild(this._k.m);G.appendChild(this.xL.m);
g.Qm(this.$p.m);G.appendChild(this.Xe.m);G.appendChild(this.hI.m);this.PH=new iL("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.bl=new iL("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Iw=new iL("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Ng=new iL("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Lr=new iL("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.AP=new iL("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.RX=new iL("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.zH=new iL("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var m=[this.PH,this.bl,this.Iw,this.Ng,this.Lr,this.AP,this.RX,this.zH];
for(var $=0;$<m.length;$++)m[$].J("click",this.as9,this);this.FT=new iL("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.DY=new iL("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.tb=new iL("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.apa=new iL("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ae5=new iL("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.aqi=new iL("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.af3=new iL("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.sZ=[this.FT,this.DY,this.tb,this.apa,this.ae5,this.aqi,this.af3];for(var $=0;$<this.sZ.length;$++)this.sZ[$].J("click",this.Qi,this);
var A=["lind","rind","flind","bind","aind"],Q=[];for(var $=0;$<5;$++)Q.push("<img src=\""+PIMG["par/"+A[$]]+"\" class=\"autoscale gsicon\" /> ");
this.yK=new hz(Q[0],-20,20,"px");this.yK.J(r.E.o,this.Qi,this);this.yK.parent=this;this.wA=new hz(Q[1],-20,20,"px");
this.wA.J(r.E.o,this.Qi,this);this.wA.parent=this;this.hH=new hz(Q[2],-20,20,"px");this.hH.J(r.E.o,this.Qi,this);
this.hH.parent=this;this.sG=new hz(Q[3],-20,20,"px");this.sG.J(r.E.o,this.Qi,this);this.sG.parent=this;
this.kq=new hz(Q[4],-20,20,"px");this.kq.J(r.E.o,this.Qi,this);this.kq.parent=this;this.f1=new ai([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.f1.J(r.E.o,this.Qi,this);this.f1.parent=this;this.Vs=new hz(["Auto VAR0",[16,0]],0,500,"%");this.Vs.J(r.E.o,this.Qi,this);
this.Vs.parent=this}f6.prototype=new gB;f6.prototype.a0L=function(G){var m=this.a7.m.getBoundingClientRect(),A=new j8(r.E.W,!0);
A.data={d:r.S.mo,Nc:this.$p,x:m.left,y:m.top+m.height+4};this.u(A)};f6.prototype._=function(){this.IT._();
this.bW._();this.XU._();this.oG._();this.Ws._();this.GD._();this.Hx._();this.p$._();this._k._();this.hI._();
this.xL._();this.f1._();this.Vs._()};f6.prototype.f=function(G,m,A){this.RG=JSON.parse(JSON.stringify(G));
var Q=this.RG,H=Q.In,J=Q.DF;this.PH.f(H.FauxBold!=null?H.FauxBold:!1);this.bl.f(H.FauxItalic!=null?H.FauxItalic:!1);
this.Iw.f(H.FontCaps==2);this.Ng.f(H.FontCaps==1);this.AP.f(H.FontBaseline==1);this.Lr.f(H.FontBaseline==2);
this.RX.f(H.Underline);this.zH.f(H.Strikethrough);this.IT.f(H.Font==null?null:Q.sa[H.Font].Name,m,A);
var b=H.FontSize==null?20:H.FontSize;this.bW.f(b);var O=H.Tracking;this.oG.f(O==null?0:O);this.xL.f(H._LineWidth!=null?H._LineWidth:1);
this.XU.f(H.Leading!=null&&H.Leading!=0?H.Leading:b);this.Ew.f(H.AutoLeading);this.GD.f((H.VerticalScale!=null?H.VerticalScale:0)*100);
this.Hx.f((H.HorizontalScale!=null?H.HorizontalScale:0)*100);this.Ws.f(H.BaselineShift!=null?H.BaselineShift:0);
this.p$.f(H.FillFlag!=null?H.FillFlag:!1);this._k.f(H.StrokeFlag!=null?H.StrokeFlag:!1);this.hI.f(H._FillBackgroundFlag!=null?H._FillBackgroundFlag:!1);
this.Se(H.FillColor,this.Nt);this.Se(H.FillColor,this.RF);this.Se(H.StrokeColor,this.bN);this.Se(H._FillBackgroundColor,this.Xe);
var a=J._Direction!=null?J._Direction:0,e=fC.VK(J);for(var $=0;$<this.sZ.length;$++)this.sZ[$].f(e==$);
this.f1.f(a);this.Vs.f((J.AutoLeading!=null?J.AutoLeading:1.2)*100);this.yK.f(J.StartIndent!=null?J.StartIndent:0);
this.wA.f(J.EndIndent!=null?J.EndIndent:0);this.hH.f(J.FirstLineIndent!=null?J.FirstLineIndent:0);this.sG.f(J.SpaceBefore!=null?J.SpaceBefore:0);
this.kq.f(J.SpaceAfter!=null?J.SpaceAfter:0)};f6.prototype.Se=function(G,m){if(G){var A=fC.SR(G);m.s8(Math.round(A.p)<<16|Math.round(A.z)<<8|Math.round(A.h))}else m.s8(0)};
f6.prototype.K3=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.$g,WF:dG.dh,RG:this.RG};this.u(G);var G=new j8(r.E.w,!0);
G.b=f.G8;G.data={d:"updateStyles"};this.u(G)};f6.prototype.as9=function(G){var m=this.RG.In,A=G.target,Q=!A.fA();
if(A==this.PH)m.FauxBold=Q;if(A==this.bl)m.FauxItalic=Q;if(A==this.Iw)m.FontCaps=Q?2:0;if(A==this.Ng)m.FontCaps=Q?1:0;
if(A==this.AP)m.FontBaseline=Q?1:0;if(A==this.Lr)m.FontBaseline=Q?2:0;if(A==this.RX)m.Underline=Q;if(A==this.zH)m.Strikethrough=Q;
this.K3()};f6.prototype.Qi=function(G){var m=this.RG.In,A=this.RG.DF,Q=G.target;if(Q==this.oG){var H=this.oG.B();
m.Tracking=H}if(Q==this.XU){m.AutoLeading=!1;m.Leading=this.XU.B()}if(Q==this.Ew){m.AutoLeading=this.Ew.B()}if(Q==this.xL)m._LineWidth=Q.B();
if(Q==this.bW)m.FontSize=Q.B();if(Q==this.GD)m.VerticalScale=Q.B()/100;if(Q==this.Hx)m.HorizontalScale=Q.B()/100;
if(Q==this.Ws)m.BaselineShift=Q.B();if(Q==this.p$)m.FillFlag=Q.B();if(Q==this._k)m.StrokeFlag=Q.B();
if(Q==this.hI)m._FillBackgroundFlag=Q.B();if(this.sZ.indexOf(Q)!=-1){A.Justification=fC.VK(A,this.sZ.indexOf(Q))}if(Q==this.yK)A.StartIndent=Q.B();
if(Q==this.wA)A.EndIndent=Q.B();if(Q==this.hH)A.FirstLineIndent=Q.B();if(Q==this.sG)A.SpaceBefore=Q.B();
if(Q==this.kq)A.SpaceAfter=Q.B();if(Q==this.f1)A._Direction=Q.B();if(Q==this.Vs)A.AutoLeading=Q.B()/100;
this.K3()};f6.prototype.a71=function(G){var m=this.RG,A=this.IT.B(),Q=-1;for(var $=0;$<m.sa.length;$++)if(m.sa[$].Name==A)Q=$;
if(Q==-1){Q=m.sa.length;var H=JSON.parse(JSON.stringify(m.sa[0]));H.Name=A;m.sa.splice(Q,0,H)}m.In.Font=Q;
this.K3()};f6.prototype.Gf=function(G){var m=G.target,A=m.aho(),Q={Type:1,Values:[1,(A>>16&255)/255,(A>>8&255)/255,(A>>0&255)/255]};
for(var $=0;$<4;$++)Q.Values[$]=Math.round(Q.Values[$]*1e3)/1e3;var H=m==this.Nt||m==this.RF?0:m==this.bN?1:2;
this.RG.In[["FillColor","StrokeColor","_FillBackgroundColor"][H]]=Q;this.K3()};function iP(){gB.call(this);
this.m=g.L("span","fontinput");this.sF=null;this.Dr=null;this.X6=null;this.zg="";this.fV={};this.L7=[];
this.ar1={};this.Pm=!1;this.Ik=g.L("button","fitem");this.Ik.setAttribute("style","width:9em;");this.Ik.textContent="Family Name \u25BC";
this.m.appendChild(this.Ik);g.Il(this.Ik,this.ahj.bind(this));this.ti=new gB;this.ti.parent=this;this.ti.m=g.L("div","floatcont");
this.ti.m.addEventListener("keyup",this.aua.bind(this),!1);this.UI=new c9(6.8);this.ti.m.appendChild(this.UI.anK());
this.UI.parent=this.ti;this.UI.J(r.E.o,this.gx,this);var G=g.L("div","form");this.ti.m.appendChild(G);
this.im=new iL(g.y3("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.im.J("click",this.aqR,this);
G.appendChild(this.im.m);this.tt=new h_([12,86],null,8.4);this.tt.J("input",this.Ma,this);G.appendChild(this.tt.m);
var m=this.asT=new iL([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);m.J("click",this.aqx,this);
m.m.style.marginLeft="1.5em";m.m.style.marginRight="0";G.appendChild(m.m);this.Cn=g.L("span","fitem imageset scrollable");
this.Cn.style.height="30em";this.ti.m.appendChild(this.Cn);this.ZS=g.L("button","fitem");this.ZS.setAttribute("style","width:7em;");
this.ZS.textContent="SubFamily Name \u25BC";this.m.appendChild(this.ZS);g.Il(this.ZS,this.ahj.bind(this));
this.RD=new gB;this.RD.parent=this;this.RD.m=g.L("div","floatcont");this.tF=g.L("span","fitem imageset scrollable marged");
this.RD.m.appendChild(this.tF)}iP.prototype=new gB;iP.prototype.aua=function(G){var m=0;if(a5.DN(G.code,a5.kd))m=-1;
if(a5.DN(G.code,a5.cX))m=1;if(m!=0){var A=this.L7,Q=A.length,H=this.sF.AD()[this.X6];if(H==null&&Q==0)return;
var J=A.indexOf(H[0]);if(J==-1)return;J=(J+m+Q)%Q;this.NG(A[J],null)}};iP.prototype.aqx=function(){var G=new j8(r.E.W,!0);
G.data={d:r.S.KL,ajX:".otf,.ttf,.ttc"};this.u(G)};iP.prototype._=function(){this.UI._();this.asT._();
this.im.ym(g.y3("tools/cshape",null,"autoscale"))};iP.prototype.aqR=function(G){this.im.f(!this.im.fA());
this.gx()};iP.prototype.Ma=function(G){this.zg=this.tt.B().toLowerCase();this.gx()};iP.prototype.ahj=function(G){g.zx(G);
var m=G.currentTarget,A=m.getBoundingClientRect(),Q=m==this.Ik,H=Q?this.ti:this.RD;if(g.m$(H.m)){this.abP(H);
return}if(!Q&&this.sF.AD()[this.X6]==null)return;var J=new j8(r.E.W,!0);J.data={d:r.S.mo,Nc:H,x:A.left,y:A.top+A.height};
this.u(J);if(Q){this.gx()}};iP.prototype.a1k=function(G){var m=G.currentTarget.firstChild.nextSibling.textContent;
if(G.target.tagName.toLowerCase()=="button"){var A=this.Dr.slice(0),Q=A.indexOf(m);if(Q==-1){A=A.slice(Math.max(0,A.length-29));
A.push(m)}else A.splice(Q,1);var H=new j8(r.E.W,!0);H.data={d:r.S.$g,WF:dG.Cm,wK:A};this.u(H);this.Pm=!0;
this.gx()}else{this.NG(m,null)}};iP.prototype.aoE=function(G){this.NG(null,G.currentTarget.firstChild.textContent)};
iP.prototype.NG=function(G,m){var A=G==null?this.RD:this.ti,Q=this.sF;if(G==null)G=Q.AD()[this.X6][0];
else{var H=Q.__(G),J=Q.AD()[this.X6];m=ez.bG(H,J?J[1]:"regular")}var b=Q.Ey(G,m)[2];this.f(b,Q);this.u(new j8(r.E.o,!1));
this.abP(A);this.gx()};iP.prototype.abP=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.Pe,Nc:G};this.u(m)};
iP.prototype.B=function(){return this.X6};iP.prototype.f=function(G,m,A){var Q=this.sF;if(G!=null)this.X6=G;
else G=this.X6;this.sF=m;this.Dr=A;if(G!=null){var H=m.AD()[G],J,b;if(H==null){J="- "+G;b="-------"}else{J=H[0];
b=H[1];var O=m.__(J);O.sort(ez.auJ);var a=O.indexOf(b),e=this.aoE.bind(this);this.tF.textContent="";
for(var $=0;$<O.length;$++){var H=m.Ey(J,O[$]);if(!this.UI.DS(H))continue;var R=this.a4o(H,H[1],e,!1);
this.tF.appendChild(R)}}this.Ik.textContent=J.substring(0,15)+" \u25BC";this.Ik.setAttribute("title",J+", \""+G+"\"");
this.ZS.textContent=b.substring(0,10)+" \u25BC";this.ZS.setAttribute("title",b)}};iP.prototype.gx=function(){var G=this.sF.AD()[this.X6],m=this.Dr,A=null,Q=this.sF.apn(),H=this.a1k.bind(this);
this.L7=[];for(var J in Q){var b=ez.bG(Q[J],"regular"),O=this.sF.Ey(J,b),a=m.indexOf(J)!=-1,e=!0;if(this.zg.length>0&&O[0].toLowerCase().indexOf(this.zg)==-1)e=!1;
else if(!this.UI.DS(O))e=!1;else if(this.im.fA()&&!a)e=!1;var R=this.fV[J];if(R==null){var R=this.a4o(O,J,H,!0);
this.fV[J]=R;this.Cn.appendChild(R)}if(e)this.L7.push(J);var p=e?"":"display:none; ",P="opacity: "+(a?"1":"0.2");
if(G&&G[0]==J){p+="background-color:rgba(0,0,0,0.13);";A=R}if(this.ar1[J]!=p+P){R.setAttribute("style",p);
R.firstChild.setAttribute("style",P);this.ar1[J]=p+P}}if(A&&!this.Pm)this.Cn.scrollTop=A.offsetTop-210;
this.Pm=!1};iP.prototype.a4o=function(G,m,A,Q){var H=g.L("div","fontitem"),a="";H.addEventListener("click",A,!1);
if(Q)H.appendChild(g.L("button","star"));var J=g.L("span","label");J.setAttribute("title",m);J.textContent=m;
H.appendChild(J);var b=g.G(),O=1/b,e=ez.qr*O,R=ez.rS*O;if(1<b&&b<1.5)a="width:"+e+"px; height:"+R+"px;";
var p=g.L("span","thumb gsicon");if(G.aaq){a+="background: url("+G.aaq+");";if(1<b&&b<1.5)a+="background-size: "+e+"px "+R+"px;"}else{var P=Math.ceil(FNTS.list.length/ez.cols),z=Math.floor(G.lW/P),Z=G.lW%P,W=z*ez.qr,T=Z*ez.rS;
if(1<b&&b<1.5){a+="background-size: "+ez.cols*e+"px "+P*R+"px;";W*=O;T*=O}a+="background-position:-"+W+"px -"+T+"px;"}p.setAttribute("style",a);
H.appendChild(p);return H};function c9(G){gB.call(this);this.m=g.L("button","fitem bbtn");this.m.addEventListener("click",this.ato.bind(this),!1);
this.$p=new gB;this.$p.m=g.L("div","floatcont");this.$p.parent=this;this.VQ=g.L("div","flexrow");this.$p.m.appendChild(this.VQ);
this.dP=[];this.kR=[];var m=this.VQ,A=g.L("div",""),Q=g.L("div","");m.appendChild(A);m.appendChild(Q);
this.Bt=[];for(var $=0;$<FNTS.cats.length;$++)this.Bt.push({name:FNTS.cats[$],index:$,dM:0});this.DB=new aX([7,0]);
this.DB.f(!0);this.DB.J(r.E.o,this.aa9,this);A.appendChild(this.DB.m);this.S_=g.L("div","vlist marged scrollable");
this.S_.setAttribute("style","width:10.3em; height:"+G+"em; ");A.appendChild(this.S_);this.vt=[];for(var $=0;
$<this.Bt.length;$++){var H=this.Bt[$],J=new aX(H.name);this.vt.push(J);J.J(r.E.o,this.aoA,this);J.f(!0);
this.S_.appendChild(J.m);this.dP.push(1)}this.agg=new aX([7,0]);this.agg.J(r.E.o,this.amw,this);this.kL=g.L("div","vlist marged scrollable");
this.kL.setAttribute("style","width:8.6em; height:"+(G+1.5)+"em; ");Q.appendChild(this.kL);this.lD=[];
for(var $=0;$<FNTS.subsetNames.length;$++){var J=new aX(FNTS.subsetNames[$]);this.lD.push(J);J.J(r.E.o,this.al7,this);
J.f(!1);this.kL.appendChild(J.m);this.kR.push(0)}}c9.prototype=new gB;c9.prototype.a4H=function(G){var m=this.lD;
for(var $=0;$<m.length;$++){var A=(G>>>$&1)==1;this.kR[$]=A;m[$].f(A)}};c9.prototype.anK=function(){return this.VQ};
c9.prototype._=function(){this.m.textContent=f5.get([25,1,0])+" \u25BC";this.DB._();this.agg._()};c9.prototype.ato=function(G){var m=this.m.getBoundingClientRect(),A=new j8(r.E.W,!0);
A.data={d:r.S.mo,Nc:this.$p,x:m.left,y:m.top+m.height,wh:!1};this.u(A)};c9.prototype.DS=function(G){if(this.dP[G[4]]==0)return!1;
else for(var m=0;m<this.kR.length;m++)if(this.kR[m]==1&&(G[3]>>>m&1)==0)return!1;return!0};c9.prototype.aa9=function(G){var m=G.target.B(),A=this.vt,Q=this.dP;
for(var $=0;$<A.length;$++){A[$].f(m);Q[$]=m?1:0}this.u(new j8(r.E.o,!1))};c9.prototype.amw=function(G){var m=G.target.B(),A=this.lD,Q=this.kR;
for(var $=0;$<A.length;$++){A[$].f(m);Q[$]=m?1:0}this.u(new j8(r.E.o,!1))};c9.prototype.aoA=function(G){var $=this.vt.indexOf(G.target),m=this.Bt[$].index;
this.dP[m]=1-this.dP[m];this.u(new j8(r.E.o,!1))};c9.prototype.al7=function(G){var $=this.lD.indexOf(G.target);
this.kR[$]=1-this.kR[$];this.u(new j8(r.E.o,!1))};function fe(G,m,A){c$.call(this,m,!0,"gradientbutton",18,10,dG.EM);
this.yu=-1;this.qU=-1;this.ald=null;this.amH=G;this.Bl=A}fe.prototype=new c$;fe.prototype.rX=function(G){var m=this.hZ;
this.f(m[this.Nb.B()]);this.u(new j8(r.E.o))};fe.prototype.W2=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.XG,Ue:"gradienteditor",X:this.rV,b5:this.art.bind(this),If:this.Bl};
this.u(m)};fe.prototype.art=function(G){this.f(G);this.u(new j8(r.E.o))};fe.prototype.Us=function(){if(!this.Zo)return;
var G=Math.floor(36*g.G()),m=Math.floor(36*g.G()),A=[],Q=[],H=this.hZ;for(var $=0;$<H.length;$++){var J=H[$];
Q.push(J.Nm?J.Nm.v.split("=").pop():"");var b=f.Rd.pt(J,G,m,Math.PI/4,this.yu,this.qU);A.push(b)}this.Nb.o7(A,Q,G,m);
this.Zo=!1};fe.prototype.DP=function(G,m){this.asr(this.rV,G,m)};fe.prototype.f=function(G){this.asr(G,this.yu,this.qU)};
fe.prototype.asr=function(G,m,A){this.yu=m;this.qU=A;if(G==null)return;var Q=JSON.stringify(G),H=Q+m+","+A;
if(H==this.ald)return;this.ald=H;this.rV=JSON.parse(Q);var J=Math.floor(80*g.G()),b=Math.floor(16*g.G()),O=f.Rd.pt(this.rV,J,b,0,this.yu,this.qU);
this.Qz.setAttribute("src",O);g.AX(this.Qz,J,b)};fe.prototype.B=function(){var G;if(this.amH)G=f.Rd.aty(this.rV,this.yu,this.qU);
else G=JSON.parse(JSON.stringify(this.rV));return G};function gC(G){c$.call(this,G,!1,"swatchbutton",16,8.75,dG.oV)}gC.prototype=new c$;
gC.prototype.rX=function(G){this.f(this.hZ[G.target.B()]);this.u(new j8(r.E.o))};gC.prototype.Us=function(){if(!this.Zo)return;
var G=Date.now(),m=Math.floor(10*g.G()),A=Math.floor(10*g.G()),Q=[],H=[],J=this.hZ;for(var $=0;$<J.length;
$++){H.push(J[$].U1?J[$].U1.split("=").pop():"");Q.push(gC.pt(J[$],m,A))}this.Nb.o7(Q,H,m,A);this.Zo=!1};
gC.prototype.f=function(G){this.rV=JSON.parse(JSON.stringify(G));this.$h()};gC.prototype.$h=function(){var G=Math.floor(24*g.G()),m=Math.floor(20*g.G()),A=gC.pt(this.rV,G,m);
this.Qz.setAttribute("src",A);g.AX(this.Qz,G,m)};gC.prototype.B=function(){return JSON.parse(JSON.stringify(this.rV))};
gC.rB={};gC.pt=function(G,m,A){var Q=gC.JR,H=gC.rB,J=N.as(G.p<<16|G.z<<8|G.h);if(H[J])return H[J];if(Q==null){var b=g.L("canvas");
Q=gC.JR=b.getContext("2d")}var b=Q.canvas;b.width=m;b.height=A;Q.fillStyle="#"+J;Q.fillRect(0,0,m,A);
var O=H[J]=b.toDataURL();return O};function br(G,m,A,Q,H){if(G==null)G=!1;if(m==null)m=!1;if(A==null)A=!1;
gB.call(this);this.YE=new dw;this.Zs=new dw;this.ew=72;this.tQ=72;this.ht=!0;this.m=g.L("span");this.Ly=new hz([12,41],0,0,null,0,!1,!0);
this.m.appendChild(this.Ly.m);this.Ly.J(r.E.o,this.iR,this);var J=["px","%"];if(G)J=J.concat(["mm","in"]);
if(H){J=[[12,76,2],[12,76,6]];if(G)J=J.concat([[12,76,5],[12,76,3]])}this.oy=new iV(null,J);this.m.appendChild(this.oy.m);
g.Qm(this.m);this.oy.J(r.E.o,this.iR,this);this.P$=new hz([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.P$.m);
this.P$.J(r.E.o,this.iR,this);var b=new iL("\u21F5",!1,null,!0);b.J("click",this.a1w,this);this.jl=new iL("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.jl.J("click",this.iR,this);this.amt=new gS("");if(m){this.m.appendChild(this.jl.m);this.m.appendChild(this.amt.m);
this.jl.dt()}else this.m.appendChild(b.m);this.B7=new hz("DPI",0,0,null,3,!1,!0,4);if(G&&Q==null){g.Qm(this.m);
this.m.appendChild(this.B7.m)}this.B7.J(r.E.o,this.iR,this);this.AZ=new aX([12,23,1]);this.AZ.J(r.E.o,this.iR,this);
if(A){g.Qm(this.m);this.m.appendChild(this.AZ.m)}g.Qm(this.m)}br.prototype=new gB;br.prototype.UQ=function(){this.Ly.UQ()};
br.prototype.abl=function(){this.ht=!1;if(this.oy.B()==0){this.oy.f(3);this.Xg()}};br.prototype.atm=function(){this.ht=!0};
br.prototype.apc=function(G){this.jl.f(G)};br.prototype._=function(){this.Ly._();this.P$._();this.B7._();
this.jl._();this.AZ._();this.oy._()};br.prototype.a1w=function(G){var m=this.Zs.x;this.Zs.x=this.Zs.y;
this.Zs.y=m;this.Xg();this.u(new j8(r.E.o,!1))};br.prototype.iR=function(G){if(G.target==this.oy&&!this.ht&&this.oy.B()==0)this.oy.f(3);
if(G.target==this.oy||G.target==this.AZ){this.Xg();return}if(G.target==this.jl)G.target.f(!G.target.B());
var m=this.YE,A=parseFloat(this.Ly.B());if(isNaN(A))A=1;var Q=parseFloat(this.P$.B());if(isNaN(Q))Q=1;
var H=this.oy.B();if(this.ht){var J=this.tQ;if(H==1){A=this.YE.x*(A/100);Q=this.YE.y*(Q/100)}var b=[1,1,25.4/J,1/J][H];
A/=b;Q/=b;if(this.AZ.B()){A+=this.YE.x;Q+=this.YE.y}if(G.target==this.B7){var O=this.B7.B();if(!0){var a=O/J;
A*=a;Q*=a}J=O}if(this.jl.B()){if(G.target==this.Ly)Q=A*(m.y/m.x);else A=Q*(m.x/m.y)}A=Math.max(Math.abs(A),1);
Q=Math.max(Math.abs(Q),1)}else{var J=this.ew;if(G.target==this.B7)J=this.B7.B();else{if(this.jl.B()){if(G.target==this.Ly)Q=A*(m.y/m.x);
else A=Q*(m.x/m.y)}var b=[1,1,25.4/J,1/J][H],e=A/(H==1?100:m.x*b);J=J/e}A=m.x;Q=m.y}this.Zs=new dw(Math.round(A),Math.round(Q));
this.tQ=J;this.Xg();this.u(new j8(r.E.o,!1))};br.prototype.amz=function($){this.oy.f($);this.Xg()};br.prototype.f=function(G,m,A){if(A!=!0)this.YE=G.clone();
this.Zs=G.clone();if(m!=null){this.ew=m;this.tQ=m}this.Xg()};br.prototype.Xg=function(){var G=this.Zs.x,m=this.Zs.y,A=this.tQ,Q=(G/m).toFixed(3);
while(Q.charAt(Q.length-1)=="0")Q=Q.substring(0,Q.length-1);if(Q.charAt(Q.length-1)==".")Q=Q.substring(0,Q.length-1);
var H="  "+Q+" : 1",J=function(R,p){while(p!=0){var P=p;p=R%p;R=P}return R},b=J(G,m);if(Math.min(G,m)/b<10)H="  "+Math.round(G/b)+" : "+Math.round(m/b);
this.amt.f(H);if(this.AZ.B()){G-=this.YE.x;m-=this.YE.y}var O=this.oy.B();if(O==1){if(this.ht){G=100*G/this.YE.x;
m=100*m/this.YE.y}else{G=m=100*this.ew/this.tQ}}else{G=Math.round(G);m=Math.round(m)}var a=[1,1,25.4/A,1/A][O];
G*=a;m*=a;var e=O==1||O==3?2:0;this.Ly.gV(e);this.P$.gV(e);this.Ly.f(G);this.P$.f(m);this.B7.f(A)};br.prototype.B=function(){return this.Zs.clone()};
br.prototype.Oc=function(){return this.tQ};function bx(G,m){gB.call(this);var A=G==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.wu=G;this.ajp=m;this.e2=1;this.eC=[1,1,0];var Q=this.m=g.L("div","numlist"),H=this.ih=[];for(var $=0;
$<4;$++){var J=new hz(A[$],0,0,null,2,!1,!0,4);J.J(r.E.o,this.iR,this);Q.appendChild(J.m);H[$]=J;if($==1||$==3)g.Qm(Q)}H[4]=new aX(G==0?[12,51]:[12,91,2]);
H[4].f(!0);Q.appendChild(H[4].m)}bx.prototype=new gB;bx.prototype._=function(){var G=this.ih;for(var $=0;
$<5;$++)G[$]._();if(this.wu==0)g.EL(G[0],G[2])};bx.prototype.f=function(G,m,A){if(m)this.eC=m;m=this.eC;
var Q=A?G:this.wu==0?[G[2],G[0],G[3],G[1]]:[G[0],G[1],G[3],G[2]];this.e2=Q[0]/Q[2];for(var $=0;$<4;$++){var H=this.ih[$];
H.gV(m[2]==0&&this.ajp?0:2);H.f(N.Kj.auC(Q[$],m[0],m[1],m[2]))}};bx.prototype.B=function(G){var m=[],A=this.eC;
for(var $=0;$<4;$++){var Q=N.Kj.p7(this.ih[$].B(),A[0],A[1],A[2]);m[$]=this.ajp?Math.round(Q):Q}return G?m:this.wu==0?[m[1],m[3],m[0],m[2]]:[m[0],m[1],m[3],m[2]]};
bx.prototype.iR=function(G){var m=this.wu,A=this.ih.indexOf(G.currentTarget),Q=this.B(!0),H=this.ih[4].B();
if(m==0){Q[0]=Math.max(1,Q[0]);Q[2]=Math.max(1,Q[2]);if(H&&A==0)Q[2]=Q[0]/this.e2;if(H&&A==2)Q[0]=Q[2]*this.e2}if(m==1){Q[A]=Math.max(0,Q[A]);
if(H)for(var $=0;$<4;$++)Q[$]=Q[A]}this.f(Q,null,!0);this.u(new j8(r.E.o,!1))};function a$(){gB.call(this);
this.Ia=0;this.xO=[0,0,1,1,100,100];this.m=g.L("span","fitem");this.T9=new iV(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.T9.m);this.T9.J(r.E.o,this.iR,this);this.Ly=new hz("W",0,0,null,0,!1,!0);this.m.appendChild(this.Ly.m);
this.Ly.J(r.E.o,this.iR,this);this.P$=new hz("H",0,0,null,0,!1,!0);this.m.appendChild(this.P$.m);this.P$.J(r.E.o,this.iR,this);
this.f({sH:0,x:0,y:0})}a$.prototype=new gB;a$.prototype._=function(){g.EL(this.Ly,this.P$);this.T9._()};
a$.prototype.iR=function(G){if(G.target==this.T9){var m=this.B(),A=this.xO;A[this.Ia*2]=m.x;A[this.Ia*2+1]=m.y;
this.Ia=m.sH;this.f({sH:m.sH,x:A[m.sH*2],y:A[m.sH*2+1]})}if(this.Ly.B()<1)this.Ly.f(1);if(this.P$.B()<1)this.P$.f(1);
this.u(new j8(r.E.o,!1))};a$.prototype.f=function(G){this.T9.f(G.sH);this.Ly.f(G.x);this.P$.f(G.y);if(G.sH==0){this.Ly.Tx();
this.P$.Tx()}else{this.Ly.vF();this.P$.vF()}};a$.prototype.B=function(){return{sH:this.T9.B(),x:this.Ly.B(),y:this.P$.B()}};
function dY(G){gB.call(this);this.m=g.L("span","");this.amS=G;this.Va=new c3("Off X",-100,100,G?"%":"px",0,!1);
this.Pc=new c3("Off Y",-100,100,G?"%":"px",0,!1);this.Va.J(r.E.o,this.iR,this);this.Pc.J(r.E.o,this.iR,this);
this.m.appendChild(this.Va.m);this.m.appendChild(this.Pc.m)}dY.prototype=new gB;dY.prototype._=function(){this.Va._();
this.Pc._()};dY.prototype.iR=function(G){this.u(new j8(r.E.o,!1))};dY.prototype.apR=function(G){this.Va.f(G.x);
this.Pc.f(G.y)};dY.prototype.a0H=function(){return new dw(this.Va.B(),this.Pc.B())};dY.prototype.f=function(G,m){var A=G.Hrzn.v,Q=G.Vrtc.v;
if(this.amS){A=A.val;Q=Q.val}this.Va.f(A);this.Pc.f(Q);if(m==!0)this.iR()};dY.prototype.B=function(){var G=this.Va.B(),m=this.Pc.B();
if(this.amS)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:G}},Vrtc:{t:"UntF",v:{type:"#Prc",val:m}}};
else return{classID:"Pnt",Hrzn:{v:G,t:"doub"},Vrtc:{v:m,t:"doub"}}};function eB(){gB.call(this);this.m=g.L("span","fitem strokebutton");
this.QM=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.re=JSON.parse(JSON.stringify(hK.nh.default));
this.u_=g.L("button");this.m.appendChild(this.u_);g.Il(this.m,this.Cc.bind(this));var G=g.L("canvas","gsicon");
this.JR=G.getContext("2d");this.u_.appendChild(G);var m=g.L("span");m.textContent=" \u25BC";this.u_.appendChild(m);
this.$p=new gB;this.$p.parent=this;this.$p.m=g.L("div","floatcont form");var A=this.$p.m;A.setAttribute("style","width: 14em;");
this.fV=[new iV([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ai([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ai([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new h_([19,9,2])];
for(var $=0;$<this.fV.length;$++){var Q=this.fV[$];A.appendChild(Q.m);var H=$<4?r.E.o:"click";Q.J(H,this.iR,this)}g.Qm(A);
this.q5=[];var J=this.a9$.bind(this);for(var $=0;$<this.QM.length;$++){var b=g.L("button","fitem");this.q5.push(b);
A.appendChild(b);b.addEventListener("click",J,!1);var G=g.L("canvas","gsicon"),O=G.getContext("2d");
b.appendChild(G);this.a5C(O,40,20,this.QM[$])}}eB.prototype=new gB;eB.prototype.Cc=function(G){if(g.m$(this.$p.m))return;
G.stopPropagation();var m=this.u_.getBoundingClientRect(),A=new j8(r.E.W,!0);A.data={d:r.S.mo,Nc:this.$p,x:m.left,y:m.top+m.height+4};
this.u(A)};eB.prototype.iR=function(G){var m=this.fV,A=m.indexOf(G.target),Q=[];for(var $=0;$<4;$++)Q.push(m[$].B());
this.re=this.a3N(Q);this.u(new j8(r.E.o,!1))};eB.prototype.a9$=function(G){var m=this.q5.indexOf(G.currentTarget);
this.f(this.a3N(this.QM[m]));this.u(new j8(r.E.o,!1))};eB.prototype.a3N=function(G){var m=JSON.parse(JSON.stringify(this.re)),A=G[0],Q=G[1],H=G[2],J=G[3];
if(A!=null)m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=hK.nh.rr[A];if(Q!=null)m.strokeStyleLineCapType.v.strokeStyleLineCapType=hK.nh.tJ[Q];
if(H!=null)m.strokeStyleLineJoinType.v.strokeStyleLineJoinType=hK.nh.join[H];var b=m.strokeStyleLineDashSet.v=[];
J=J.split(" ");while((J.length&1)!=0)J.pop();for(var $=0;$<J.length;$++)b.push({t:"UntF",v:{type:"#Nne",val:parseInt(J[$])}});
return m};eB.prototype._=function(){for(var $=0;$<this.fV.length;$++)this.fV[$]._()};eB.prototype.f=function(G){this.re=JSON.parse(JSON.stringify(G));
var m=hK.nh.rr.indexOf(G.strokeStyleLineAlignment.v.strokeStyleLineAlignment),A=hK.nh.tJ.indexOf(G.strokeStyleLineCapType.v.strokeStyleLineCapType),Q=hK.nh.join.indexOf(G.strokeStyleLineJoinType.v.strokeStyleLineJoinType),H=[],J=G.strokeStyleLineDashSet.v;
for(var b=0;b<J.length;b++)H.push(J[b].v.val);var O=this.fV;O[0].f(m);O[1].f(A);O[2].f(Q);O[3].f(H.join(" "));
var a=[];for(var $=0;$<4;$++)a.push(O[$].B());this.a5C(this.JR,40,16,a)};eB.prototype.B=function(){return JSON.parse(JSON.stringify(this.re))};
eB.prototype.a5C=function(G,m,A,Q){var H=Q[0],J=Q[1],b=Q[2],O=Q[3].split(" ").map(parseFloat);g.bi(G.canvas,m,A);
var a=Math.min(5,this.re.strokeStyleLineWidth.v.val);for(var $=0;$<O.length;$++)O[$]*=a;G.clearRect(0,0,m,A);
G.setLineDash(O);G.lineCap=["butt","round","square"][J];G.lineJoin=["miter","round","bevel"][b];G.lineWidth=a;
G.beginPath();G.moveTo(0,A/2);G.lineTo(m*2,A/2);G.stroke()};function eZ(G){c$.call(this,G,!1,"contourbutton",34,16,dG.D3,!0);
this.tt=new h_([12,86],null,16);this.tt.J("input",this.Ma,this);this.$p.m.appendChild(this.tt.m);this.qG=null;
this.zg="";this.V4=null;this.f(g7.wZ())}eZ.prototype=new c$;eZ.prototype._=function(){c$.prototype._.call(this);
this.tt._()};eZ.prototype.rX=function(G){this.f(this.qG[G.target.B()[0]]);this.u(new j8(r.E.o))};eZ.prototype.Ma=function(G){this.zg=this.tt.B().toLowerCase();
this.asm()};eZ.Db=!1;eZ.prototype.Us=function(){if(!this.Zo)return;var G=this.hZ;if(G==null||!eZ.Db){var m=new j8(r.E.W,!0);
m.data={d:r.S.BG,WF:{url:"rsrc/basic/fa_basic.csh"}};this.u(m);eZ.Db=!0}else{var A=Math.floor(38*g.G()),Q=Math.floor(38*g.G());
this.V4=[];for(var $=0;$<G.length;$++)this.V4.push(eZ.a1j(G[$],A,Q));this.asm();this.Zo=!1}};eZ.prototype.asm=function(){var G=Math.floor(38*g.G()),m=Math.floor(38*g.G());
this.qG=[];var A=[],Q=[],H=this.hZ;for(var $=0;$<H.length;$++){if(H[$].nO.toLowerCase().indexOf(this.zg)==-1)continue;
this.qG.push(H[$]);A.push(this.V4[$]);Q.push(H[$].nO)}this.Nb.o7(A,Q,G,m)};eZ.prototype.f=function(G){this.rV=eZ.clone(G);
this.$h()};eZ.prototype.$h=function(){var G=Math.floor(23*g.G()),m=Math.floor(23*g.G()),A=eZ.a1j(this.rV,G,m);
this.Qz.setAttribute("src",A);g.AX(this.Qz,G,m)};eZ.prototype.B=function(){return eZ.clone(this.rV)};
eZ.clone=function(G){return{nO:G.nO,xo:G.xo,Y:c.Rl.Ay(G.Y),vJ:G.vJ.clone()}};eZ.O=null;eZ._l=null;eZ.a1j=function(G,m,A){var Q=c.Rl.Ay(G.Y),H=G.vJ,J=Math.min(m/H.e,A/H.n)*.9,b=new ci;
b.translate(-.5,-.5);b.scale(.95,.95);b.translate(.5,.5);b.scale(J*H.e,J*H.n);N.U.T6(Q,b);var O=new c.Rl;
O.Y=Q;var a=O.fm();a.rect.x=Math.floor((m-a.rect.e)/2);a.rect.y=Math.floor((A-a.rect.n)/2);var e=N.$(a.rect.Z()*4);
N.I5(a.channel,e,3);var R=eZ;if(R.O==null)R.O=g.L("canvas");var p=R.O,P=p.getContext("2d");if(p.width!=m||p.height!=A||R._l==null){p.width=m;
p.height=A;R._l=P.createImageData(m,A)}var z=R._l;z.data.fill(0);N.Pr(e,a.rect,z.data,new f_(0,0,m,A));
P.putImageData(z,0,0);return p.toDataURL()};function a8(G){c$.call(this,G,!1,"ICCButton",16,12,dG.ve,!0);
this.Nb.oS(1)}a8.prototype=new c$;a8.prototype.fQ=function(){var G="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var $=0;$<G.length;$++)G[$]="luts/"+G[$]+".CUBE";return G};a8.prototype.rX=function(G){this.f(this.hZ[G.target.B()]);
this.u(new j8(r.E.o))};a8.prototype.Us=function(){if(!this.Zo)return;var G=Math.floor(1*g.G()),m=Math.floor(1*g.G()),A=[],Q=[],H=this.hZ;
for(var $=0;$<H.length;$++){var J=H[$].Nm.v.split("\\").pop().split("/").pop();Q.push(J);A.push(a8.pt(H[$],G,m))}this.Nb.o7(A,Q,G,m);
this.Zo=!1};a8.prototype.f=function(G){this.rV=JSON.parse(JSON.stringify(G));this.$h()};a8.pt=function(G,m,A){var Q=g.L("canvas"),b="ICC / 3DL / look / cube";
Q.width=m;Q.height=A;var H=Q.getContext("2d"),J=Math.floor(14*g.G());H.font=J+"px sans-serif";if(G.Nm)b=G.Nm.v.split("\\").pop().split("/").pop();
H.fillText(b,10,J);return Q.toDataURL()};a8.prototype.$h=function(){var G=Math.floor(120*g.G()),m=Math.floor(20*g.G());
this.Qz.setAttribute("src",a8.pt(this.rV,G,m));g.AX(this.Qz,G,m)};a8.prototype.B=function(){return JSON.parse(JSON.stringify(this.rV))};
function ap(){gB.call(this);this.Fz=null;this.m=g.L("span","fitem");this.T7=new dN([14,9]);this.b6=new hz(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.PF=new eB;this.N7=[this.T7,this.b6,this.PF];for(var $=0;$<this.N7.length;$++){var G=this.N7[$];
this.m.appendChild(G.m);G.parent=this;G.J(r.E.o,this.iR,this)}}ap.prototype=new gB;ap.prototype._=function(){for(var $=0;
$<this.N7.length;$++)this.N7[$]._()};ap.prototype.a2=function(G,m){this.T7.a2(G,m)};ap.prototype.iR=function(G){var m=this.Fz,A=this.T7.B(),Q=A.D2;
m.strokeEnabled.v=Q!=0;if(Q!=0){m.strokeStyleContent.v=A.GF;A.GF.classID=hK.nh.Tn[Q-1]}m.strokeStyleLineWidth.v.val=this.b6.B();
if(G.target==this.PF)m=this.PF.B();this.Fz=m;this.u(new j8(r.E.o,!1))};ap.prototype.f=function(G,m,A){this.Fz=JSON.parse(JSON.stringify(m));
var Q=m.strokeEnabled.v,H=m.strokeStyleContent.v,J=Q?{D2:1+hK.nh.Tn.indexOf(H.classID),GF:H}:{D2:0};
this.T7.f(G,J,A);this.b6.f(m.strokeStyleLineWidth.v.val);this.PF.f(m)};ap.prototype.B=function(){return JSON.parse(JSON.stringify(this.Fz))};
function fu(G){var m=[[18,0],[18,1],[18,2],[18,3]],A=ai.wY(["set/front","set/union","set/difference","set/intersection"]);
ai.call(this,G?[12,36]:null,A,m)}fu.prototype=new ai;function f4(){gB.call(this);this.m=g.L("button","fitem bbtn");
this.m.textContent="Arrow";g.Il(this.m,this.Cc.bind(this));this.$p=new gB;this.$p.m=g.L("div","floatcont form");
this.$p.m.setAttribute("style","max-width: 200px;");this.$p.parent=this;var G=bo;this.SO=[new aX("Start"),new aX("End"),new G([12,41],0,100,"px",null,!0,null,!0),new G([12,80,0],0,100,"px",null,!0,null,!0),new G("Concavity",-50,50,"%",null,null,null,!0)];
for(var $=0;$<this.SO.length;$++){var m=this.SO[$];m.parent=this;m.J(r.E.o,this.Nz,this);this.$p.m.appendChild(m.m)}this.a5I=g.L("div");
this.$p.m.appendChild(this.a5I)}f4.prototype=new gB;f4.prototype.f=function(G){for(var $=0;$<5;$++)this.SO[$].f(G[$]);
this.Lc()};f4.prototype.B=function(G){var m=[];for(var $=0;$<5;$++)m[$]=this.SO[$].B();return m};f4.prototype._=function(){for(var $=0;
$<this.SO.length;$++)this.SO[$]._()};f4.prototype.Nz=function(G){this.u(new j8(r.E.o,!1));this.Lc()};
f4.prototype.Lc=function(G){var m=this.B(),A=200,Q=60;m[2]/=g.G();m[3]/=g.G();var H=N.U.Y0.oi(0,Q/2,A,Q/2,5,m),J=N.U.V$(H);
this.a5I.innerHTML="<svg width=\""+A+"\" height=\""+Q+"\" class=\"gsicon\">\t\t\t<path d=\""+J.dW+"\" />\t\t\t</svg>"};
f4.prototype.Cc=function(G){if(g.m$(this.$p.m))return;G.stopPropagation();var m=this.m.getBoundingClientRect(),A=new j8(r.E.W,!0);
A.data={d:r.S.mo,Nc:this.$p,x:m.left,y:m.top+m.height,wh:!0};this.u(A)};function eW(){gB.call(this);
this.B1=[16,!0,!0];this.m=g.L("span","");this.qm=[new hz([12,24],0,255),new aX([12,25,1]),new aX([12,25,0])];
for(var $=0;$<3;$++){var G=this.qm[$];G.parent=this;G.f(this.B1[$]);this.m.appendChild(G.m);G.J(r.E.o,this.iR,this)}}eW.prototype=new gB;
eW.prototype.iR=function(){for(var $=0;$<3;$++)this.B1[$]=this.qm[$].B();this.u(new j8(r.E.o,!1))};eW.prototype.f=function(G){this.B1=G.slice(0);
for(var $=0;$<3;$++)this.qm[$].f(G[$])};eW.prototype.B=function(){return this.B1.slice(0)};eW.prototype._=function(){for(var $=0;
$<3;$++)this.qm[$]._()};function cS(G,m){gB.call(this);if(m==null)m=!1;this.V4=[];this.Im=Math.floor(120*g.G());
this.aji=Math.floor(23*g.G());this.lL=0;this.ma=[];this.dw=[];for(var A in N.iZ.type){if(A=="warpCustom"&&!m)continue;
this.ma.push(A);this.dw.push(N.iZ.type[A])}this.m=g.L("span","fitem warpbutton");this.$p=new gB;this.$p.m=g.L("div","floatcont");
if(G){this.RU=G;this.gH=g.L("label","flabel");this.m.appendChild(this.gH)}this.d=g.L("button");this.m.appendChild(this.d);
g.Il(this.d,this.Cc.bind(this));this.qy=new dd(!0);this.$p.m.appendChild(this.qy.m);this.qy.J(r.E.o,this.akn,this);
this.$p.m.setAttribute("style","width:"+Math.floor(8+this.Im/g.G())+"px;");this._()}cS.prototype=new gB;
cS.prototype.ym=function(G){this.gH.textContent=G};cS.prototype._=function(){if(this.RU)this.gH.innerHTML=f5.get(this.RU)+":";
this.$h()};cS.a65={};cS.auE=function(G,m,A){var Q=f5.get(N.iZ.type[G]),H=Q+"-"+G+"-"+m+"-"+A,J=cS.a65[H];
if(J)return J;var b=cS.JR;if(O==null){var O=g.L("canvas");b=cS.JR=O.getContext("2d")}var O=b.canvas;
if(O.width!=m||O.height!=A){O.width=m;O.height=A}b.font=Math.floor(13*g.G())+"px sans-serif";b.lineWidth=1;
b.strokeStyle="#000000";var a=Math.floor(16*g.G()),e=new f_(0,0,a,a);b.clearRect(0,0,O.width,O.height);
var R=N.iZ.iZ(e,G,!0,.3,0,0),p=N.H.Zt(e);p.C.push("M","L","M","L");p.s.push(0,a/2,a,a/2);p.s.push(a/2,0,a/2,a);
p=N.H.Iv(p);p=N.H.qK(p,a/5);N.ls.A(R,p.s,e);N.H.A(p.s,new ci(1,0,0,1,Math.floor(8*g.G())+.5,Math.floor(3*g.G())+.5),p.s);
b.beginPath();Typr.U.pathToContext({cmds:p.C,crds:p.s},b);b.stroke();b.fillText(Q,Math.floor(40*g.G()),Math.floor(16*g.G()));
J=cS.a65[H]=O.toDataURL();return J};cS.prototype.Cc=function(G){if(g.m$(this.$p.m))return;G.stopPropagation();
var m=this.Im,A=this.aji;for(var $=0;$<this.ma.length;$++)this.V4[$]=cS.auE(this.ma[$],m,A);this.qy.o7(this.V4,null,m,A);
var Q=this.d.getBoundingClientRect(),H=new j8(r.E.W,!0);H.data={d:r.S.mo,Nc:this.$p,x:Q.left,y:Q.top+Q.height+4};
this.u(H)};cS.prototype.akn=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.Pe,Nc:this.$p};this.u(m);
this.lL=G.target.B()[0];this.$h();this.u(new j8(r.E.o))};cS.prototype.$h=function(){var G=this.Im,m=this.aji;
this.qy.f([this.lL]);this.d.innerHTML="<img src=\""+cS.auE(this.ma[this.lL],G,m)+"\" class=\"gsicon\" />";
g.AX(this.d.firstChild,G,m)};cS.prototype.B=function(){return this.ma[this.lL]};cS.prototype.f=function(G){this.lL=this.ma.indexOf(G);
this.$h()};function ar(G,m,A){gB.call(this);if(G==null)G=!1;if(m==null)m=!1;if(A==null)A=!1;this.anF=m;
this.iZ=null;this.GX=new cS([12,22],A);this.GX.parent=this;this.GX.J(r.E.o,this.K3,this);this.Ju=new iV([22,0],[[22,4,0],[22,4,1]]);
this.Ju.J(r.E.o,this.K3,this);var Q=G?hz:bo;this.X3=new Q([22,1],-100,100,"%");this.wG=new Q("Horizontal Distortion:",-100,100,"%");
this.qs=new Q("Vertical Distortion:",-100,100,"%");this.X3.parent=this.wG.parent=this.qs.parent=this;
this.X3.J(r.E.o,this.K3,this);this.wG.J(r.E.o,this.K3,this);this.qs.J(r.E.o,this.K3,this)}ar.prototype=new gB;
ar.prototype._=function(){this.GX._();this.Ju._();this.X3._();var G=this.anF?1:100;this.wG.ym(f5.get([22,2]).substring(0,G)+":");
this.qs.ym(f5.get([22,3]).substring(0,G)+":")};ar.prototype.K3=function(){var G=this.iZ,m=this.GX.B(),A=G.warpStyle.v.warpStyle;
if(m=="warpCustom")N.iZ.LX(N.iZ.vE(G),G);else delete G.customEnvelopeWarp;G.warpStyle.v.warpStyle=this.GX.B();
G.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Ju.B()];G.warpValue.v=this.X3.B();G.warpPerspective.v=this.wG.B();
G.warpPerspectiveOther.v=this.qs.B();if(m=="warpNone"||m=="warpCustom"){G.warpValue.v=0;G.warpPerspective.v=0;
G.warpPerspectiveOther.v=0}else if(A=="warpNone"||A=="warpCustom")G.warpValue.v=50;this.u(new j8(r.E.o,!1));
this.f(G)};ar.prototype.B=function(G){return JSON.parse(JSON.stringify(this.iZ))};ar.prototype.f=function(G){this.iZ=JSON.parse(JSON.stringify(G));
this.GX.f(G.warpStyle.v.warpStyle);this.Ju.f(G.warpRotate.v.Ornt=="Hrzn"?0:1);this.X3.f(G.warpValue.v);
this.wG.f(G.warpPerspective.v);this.qs.f(G.warpPerspectiveOther.v);var m=G.warpStyle.v.warpStyle,A=m=="warpNone"||m=="warpCustom",Q=[this.Ju,this.X3,this.wG,this.qs];
for(var $=0;$<Q.length;$++)if(A)Q[$].Tx();else Q[$].vF()};function jT(G,m){gB.call(this);this.m=g.L("div");
this.T3=G;this.Qs=null;this.mR=new dw(0,0);this.at="position:relative;overflow:hidden;";this.pC=null;
this.xV=new g.Di(this.m);this.agQ=m;this.yJ("grab");this.O=g.L("canvas","canv");this.m.appendChild(this.O);
this.JR=this.O.getContext("2d");this.ali=null;this.J$=null;this.Zz=null;this.SL=0;this.rP=0;this.Gv=0;
this.atN=this.aeJ.bind(this);this.ac8=null;this.t=new dE({e:1,n:1});this.Um=null;this.Fo=null;this.Pd=[];
this.agw=0;this.Xw=0;this.a3n=this.mC.bind(this);this.a9z=this.Vz.bind(this);this.aqn=this.Jx.bind(this);
this.ah0=this.TW.bind(this);this.asJ=0;this.GJ=null;this.a55(this.O);this.u9(this)}jT.prototype=new gB;
jT.a6v=function(G){var m=new a5(!0);if(G>=0)m.Li("Space");if(G>=1){m.Li("ControlLeft");if(G==2)m.Li("AltLeft")}return m};
jT.prototype.KY=function(G){var m=this.pC,A=null;if(G.j(a5.WN)){A="grab";if(G.j(a5.KF)){A="zoom-in";
if(G.j(a5.Ei))A="zoom-out"}}this.Qs=A;if(A)m=A;this.xV.MZ(m,this.at);if(G.j(a5.KF)){var Q=0;if(G.j(a5.Da))Q=1;
if(G.j(a5.OS))Q=-1;if(Q!=0){this.FZ(new dw(this.O.width/2,this.O.height/2),Q==1)}}};jT.prototype.yJ=function(G){this.pC=G;
if(this.Qs)return;this.xV.MZ(G,this.at)};jT.prototype.a55=function(G){g.Il(G,this.a3n);g.sL(G);G.addEventListener("wheel",this.ah0,!1)};
jT.prototype.u9=function(G){G.J("viewchange",this.aaD,this)};jT.prototype.aaD=function(G){var m=this.t.V,A=G.currentTarget.HJ();
this.t.V=A.V;this.t.r=A.r.clone();if(m!=A.V)this.ox();this.Ta()};jT.prototype.HJ=function(){return{V:this.t.V,r:this.t.r}};
jT.prototype.f=function(G,m){var A=G[0].NS;if(this.J$!=null&&this.J$[0].NS.A5(A)){}else{this.t.EY={e:A.e,n:A.n};
this.t.r=new dw(0,0);this.t.V=1}this.J$=G;this.ox();this.O$();this.SL=0;this.rP=0;this.Gv=m==null?0:m;
this.aeJ()};jT.prototype.TW=function(G){G.preventDefault();if(G.deltaY==0||Date.now()-this.asJ<100)return;
var m=g.zi(G);m.x=g.G()*m.x;m.y=g.G()*m.y;this.asJ=Date.now();this.FZ(m,G.deltaY<0)};jT.prototype.FZ=function(G,m){f.WH.tx(this.t,G,m);
this.a3a()};jT.prototype.Tj=function(){var G=this.t,m=G.EY;this.t.V=f.WH.nq(m.e,m.n,G.Td.e,G.Td.n);this.a3a()};
jT.prototype.a3a=function(){this.ox();this.u(new j8("viewchange"));this.u(new j8("zoom"))};jT.prototype.ox=function(){this.Zz=[];
var G=this.t.V;if(this.J$==null)return;for(var $=0;$<this.J$.length;$++){var m=this.J$[$],A=new Uint8Array(m.data),Q;
if(G>=1)Q={uw:A,rect:m.NS};else Q=N.ac9(A,m.NS,G);this.Zz.push(Q)}};jT.prototype.O$=function(){clearTimeout(this.ac8)};
jT.prototype.Ta=function(){if(this.J$==null||!g.m$(this.O))return;var G=this.ali,m=this.O.width,A=this.O.height,Z,W;
if(G==null||G.width!=m||G.height!=A){G=this.ali=this.JR.createImageData(m,A);console.log("creating image data")}var Q=this.J$[this.SL],H=this.Zz[this.SL],J=this.t,b=J.EY,O=J.Td,a=O.e,e=O.n,R=b.e*J.V,p=b.n*J.V,P=Math.round((a-R)/2+J.r.x),z=Math.round((e-p)/2+J.r.y);
if(J.V<=1){W=H.rect.clone();W.x=P;W.y=z;R=W.e;p=W.n;Z=H.uw}else{var T=1/J.V,i=new f_(Math.floor((O.x-P)*T),Math.floor((O.y-z)*T),Math.ceil(O.e*T)+1,Math.ceil(O.n*T)+1),X=new f_(0,0,i.e*J.V,i.n*J.V);
X.x=i.x*J.V+P;X.y=i.y*J.V+z;if(J.Z2==null||J.Z2.length!=i.Z()*4){J.Z2=N.$(i.Z()*4)}if(J.QW==null||J.QW.length!=X.Z()*4){J.QW=N.$(X.Z()*4)}N.w8(J.Z2,0);
N.Pr(H.uw,H.rect,J.Z2,i);N.scale.uG(J.Z2,i.e,i.n,J.QW,X.e,X.n,J.V);Z=J.QW;W=X}var U=new Uint8Array(G.data.buffer);
N.dC(U,a,e,8,-P,-z);N.a.zc("norm",Z,W,U,O,O,1);var M=this.JR;M.setTransform(1,0,0,1,0,0);M.putImageData(G,0,0);
M.clearRect(P-1e3,z,1e3,p);M.clearRect(P+R,z,1e3,p);M.clearRect(P-1e3,z-1e3,R+2e3,1e3);M.clearRect(P-1e3,z+p,R+2e3,1e3);
var C=jT.aeF(J.V,"#ffffff",this.agQ);M.putImageData(C,0,J.Td.n-C.height)};jT.aig={};jT.aeF=function(G,m,A){if(A==null)A=!1;
var Q="z"+G+","+m+","+A,H=jT.aig[Q];if(H)return H;var J=Math.round(50*g.G()),b=Math.round(18*g.G()),O=A?2*b:0,a=g.L("canvas"),e=a.getContext("2d");
a.width=J+O;a.height=b;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,J+O,b);e.font=Math.round(11*g.G())+"px monospace";
e.fillStyle=m;var R=G*100;if(R<100)R=R.toFixed(2);else R=Math.round(R);R=R+"%";var p=e.measureText(R).width;
e.fillText(R,O+(J-p)/2,Math.round(b*.7));H=jT.aig[Q]=e.getImageData(0,0,J+O,b);return H};jT.prototype.aeJ=function(){var G=this.J$,m=G.length,A=this.SL,Q=this.J$[A],H=(A+1)%m;
this.Ta();if(m!=1&&G[H].NS.A5(Q.NS)){var J=Q.Yz?parseInt(Q.Yz.split(",").pop()):30;if(J==0)J=16;if(H==0)this.rP++;
if(this.Gv==0||this.rP<this.Gv)this.ac8=setTimeout(this.atN,J)}this.SL=H};jT.prototype.e9=function(G,m){if(G<=0||m<=0)return;
var A=Math.floor(G*g.G()),Q=Math.floor(m*g.G());this.t.Td=new f_(0,0,A,Q);this.O.width=A;this.O.height=Q;
this.O.setAttribute("style","width:"+A/g.G()+"px; height:"+Q/g.G()+"px; display:block;");this.Ta()};
jT.prototype.zU=function(G){var m=-1,A=this.Pd;for(var $=0;$<A.length;$++)if(A[$].pointerId==G.pointerId)m=$;
return m};jT.prototype.mC=function(G){var m=this.zU(G),A=this.Pd;if(m!=-1)A[m]=G;else A.push(G);if(A.length==1){this.GJ=G.target;
g.CY(window,this.a9z);g.$f(window,this.aqn);this.Um=g.zi(G,this.O);this.Um.x*=g.G();this.Um.y*=g.G();
this.mR=this.Um;this.Fo=this.t.r.clone();if(this.T3&&this.GJ==this.O&&!this.Qs)this.u(new j8("mousedown"))}else this.agw=this.Xw=dw.SH(g.zi(A[0],this.O),g.zi(A[1],this.O))};
jT.prototype.Vz=function(G){var m=this.zU(G),A=this.Pd;if(m!=-1)A[m]=G;var Q=this.t,H=this.Qs,J=this.J$[this.SL].NS.clone();
J.e*=Q.V;J.n*=Q.V;var b=g.zi(G,this.O);b.x*=g.G();b.y*=g.G();this.mR=b;if(this.T3&&this.GJ==this.O&&!H)this.u(new j8("mousemove"));
else if((H=="grab"||H==null)&&(A.length>1||!Q.Td.ZM(J))){if(A.length>1){var O=g.zi(A[0],this.O),a=g.zi(A[1],this.O),e=new dw(g.G()*(O.x+a.x)/2,g.G()*(O.y+a.y)/2),R=dw.SH(O,a),p=null;
if(R>this.Xw+50){this.Xw+=50;p=!0}if(R<this.Xw-50){this.Xw-=50;p=!1}if(p!=null)this.FZ(e,p);return}else{var P=b.x-this.Um.x,z=b.y-this.Um.y;
Q.r.x=this.Fo.x+Math.round(P);Q.r.y=this.Fo.y+Math.round(z)}this.u(new j8("viewchange"))}};jT.prototype.Jx=function(G){var m=this.zU(G),A=this.Pd;
A.splice(m,1);if(A.length==0){g.k1(window,this.a9z);g.P4(window,this.aqn);var Q=this.Qs;if(G.detail>1){this.t.V=1;
this.t.r.QU(0,0);this.Ta()}if(this.T3&&this.GJ==this.O&&!this.Qs)this.u(new j8("mouseup"));else{if(Q=="zoom-in"||Q=="zoom-out")this.FZ(this.mR,Q=="zoom-in")}}else{var H=this.Um=g.zi(A[0],this.O);
H.x*=g.G();H.y*=g.G()}};jT.prototype.jU=function(){return this.t.fY(this.mR.x,this.mR.y)};function f3(){gB.call(this);
this.fL=null;this.sg=null;this.Uh=null;this.eB=null;this.amK="";this.$a=[];this.As=0;this.zo=[];this.aS=0;
this.dj=null;var G=this.m=g.L("div",""),m=this.acM=g.L("div","form");m.setAttribute("style","line-height:0; margin-bottom:0.5em;");
G.appendChild(m);var A=this.RU=g.L("span");m.appendChild(A);A.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var Q=this.a7b=new aX([25,2,0]);Q.f(!0);m.appendChild(Q.m);Q.J(r.E.o,this.RW,this);var H=this.AF=new aX([25,2,1]);
H.f(!0);m.appendChild(H.m);H.J(r.E.o,this.RW,this);var J=new gS(" ");m.appendChild(J.m);var b=this._0=new h_([25,1,1]);
m.appendChild(b.m);b.J(r.E.o,this.RW,this);this.UI=new c9(14);this.UI.a4H(3);m.appendChild(this.UI.m);
this.UI.parent=this;this.UI.J(r.E.o,this.apF,this);var O=this.alZ=new iL([25,1,2],null,null,!0);m.appendChild(O.m);
O.J("click",this.$k,this);this.ahe=this.arh.bind(this);this.mk=g.L("div","svggallery scrollable");G.appendChild(this.mk);
this.mk.addEventListener("scroll",this.ao_.bind(this))}f3.prototype=new gB;f3.prototype.a2=function(G){this.a3_=G};
f3.prototype._=function(){this.RU.textContent=f5.get([25,0]);this.UI._();this.a7b._();this.AF._();this._0._();
this.alZ._()};f3.prototype.e9=function(G,m){this.fL=new dw(G,m);this.acM.setAttribute("style","width:"+G+"px");
var A=this.acM.getBoundingClientRect();m-=A.height;this.mk.setAttribute("style","width:"+G+"px; height:"+m+"px");
if(g.m$(this.m))this.RW()};f3.prototype.f=function(G){this.sg=G;this.RW()};f3.prototype.ao_=function(G){var m=this.mk;
if(m.scrollTop+m.clientHeight+10>=m.scrollHeight){this.RW(!0)}};f3.prototype.apF=function(G){this.Uh=null;
this.RW()};f3.prototype.arh=function(G){if(Date.now()-this.aS<2e3)return;this.aS=Date.now();this.As=this.zo.indexOf(G.currentTarget);
var m=this.WA(this.sg.x,this.sg.y);if(m[1]){var A=m[1].largeImageURL,Q=new XMLHttpRequest;Q.responseType="arraybuffer";
Q.open("GET",A,!0);Q.onload=this.arP.bind(this);Q.send();return}this.ah_(m)};f3.prototype.arP=function(G){var m=G.target.response,A=dt.mG(m),Q=dt.aW(A),H=Q.uJ(m),J=this.WA(this.sg.x,this.sg.y,[m,H[0].NS.e,H[0].NS.n]);
this.ah_(J)};f3.prototype.ah_=function(G){var m=G[0],A=dt.mG(m),Q=dt.aW(A),H=new fy("template.psd");
Q.uJ(m,H);var J=new j8("tempready",!0);J.data={EY:H};this.u(J)};f3.prototype.$k=function(G){var m=G.target;
this.$a=[];this.RW()};f3.prototype.a5Z=function(G){var m=JSON.parse(G.target.response);this.eB=m.hits;
this.RW()};f3.prototype.RW=function(G){if(this.sg==null||this.fL==null||this.a3_==null)return;if(this.fL.x<=0)return;
var m=this.sg.x,A=this.sg.y;if(Math.min(m,A)<50)return;if(G!=!0){this.zo=[];g.iJ(this.mk);this.mk.scrollTop=0}if(this.zo.length>300)return;
var Q=Math.min(1,300/Math.max(m,A)),H=this.fL.clone();H.x-=20;var J=Math.max(1,Math.floor(H.x/(m*Q))),b=Math.max(1,Math.ceil(H.y/(A*Q)));
Q=H.x/J/m;var O=J*b;if(this.Uh==null){var a=this.a3_.O8.AD();this.Uh=[];for(var e in a){var R=a[e],p=R[3];
if(!this.UI.DS(R))continue;if(R[5]==null||R[5].slice(0,2)=="gf")continue;this.Uh.push(R)}if(this.Uh.length==0)this.Uh.push(a.DejaVuSans)}var P=this.AF.B(),z=this._0.B().trim();
this._0.bD(P);if(P&&(this.eB==null||z!=this.amK)){var Z=new XMLHttpRequest,W="https://pixabay.com/api/?image_type=photo"+(z==""?"":"&q="+encodeURIComponent(z))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(z=="")W+="&safesearch=true";if(z=="")W="plugins/gallery.json";Z.open("GET",W,!0);Z.onload=this.a5Z.bind(this);
Z.onerror=function(C){console.log(C.target.response)};Z.send();this.amK=z;return}Q*=(m*Q-5)/(m*Q);var T=this.zo.length;
for(var $=0;$<O;$++){var i=this.As=T+$;if(this.$a[i]==null)this.$a[i]=Math.floor(Math.random()*4294967295);
var X=this.WA(Math.round(m*Q),Math.round(A*Q)),U=X[0];U=V.Io(new Uint8Array(U));var M=g.L("span");M.innerHTML=U;
this.zo.push(M);this.mk.appendChild(M);M.addEventListener("click",this.ahe,!1)}};f3.prototype.WA=function(G,m,A){var Q=this.AF.B(),H=this.a7b.B(),J=Q&&this.eB.length!=0?this.eB:null;
if(H&&!Q)J=null;if(H&&Q&&(this.As&1)==0)J=null;return g4.Y0(G,m,this.$a[this.As],this.Uh,A?A:J)};function bw(){gB.call(this);
this.m=g.L("div");this.sd=null;this.aeq=null;this.Zp=-1;this.up={JPG:[{xk:new bo([12,52,0],0,100,"%",null,null,!0),rN:70},{xk:new aX("attach metadata"),rN:!1}],TIFF:[{xk:new aX("attach metadata"),rN:!1}],WEBP:[{xk:new bo([12,52,0],0,100,"%",null,null,!0),rN:70}],GIF:[{xk:new bo([12,52,0],0,100,"%",null,null,!0),rN:100},{xk:new aX([12,23,3]),rN:!1}],PNG:[{xk:new bo([12,52,0],0,100,"%",null,null,!0),rN:100},{xk:new aX("don't use palettes"),rN:!1}],PDF:[{xk:new h_([12,52,1]),rN:""},{xk:new bo([12,52,0],0,100,"%",null,null,!0),rN:100},{xk:new aX("rasterize all"),rN:!1},{xk:new aX("rasterize text"),rN:!1},{xk:new aX("vectorize text"),rN:!1},{xk:new bo("Add Margin",0,5,"in",2),rN:0}],EMF:[{xk:new h_([12,52,1]),rN:""},{xk:new aX("rasterize all"),rN:!1},{xk:new aX("rasterize text"),rN:!1},{xk:new aX("vectorize text"),rN:!1}],SVG:[{xk:new aX("add raster graphics"),rN:!0},{xk:new aX("add hidden layers"),rN:!1},{xk:new aX("vectorize text"),rN:!1},{xk:new aX("rasterize text"),rN:!1},{xk:new aX("add layer names"),rN:!0},{xk:new aX("pretty-print"),rN:!0}],RAW:[{xk:new ai([12,72],["1","3","4"]),rN:2},{xk:new ai([12,34],["8 Bits","16 Bits"]),rN:0},{xk:new ai("Byte Order",["12-34","34-12"]),rN:0}],DDS:[{xk:new aX("Add Mipmaps"),rN:!0},{xk:new aX("Compression"),rN:!0}],anim:[{xk:new bo("Speed",10,800,"%",null,!0,!0),rN:100},{xk:new hz("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),rN:0},{xk:new aX("reverse frames"),rN:!1},{xk:new aX("boomerang"),rN:!1}],slcs:[{xk:new aX("As Slices"),rN:!0}],artb:[{xk:new aX("As Artboards"),rN:!0}]};
for(var G in this.up){var m=this.up[G];for(var $=0;$<m.length;$++){m[$].xk.f(m[$].rN);m[$].xk.J(r.E.o,this.LI,this)}}}bw.prototype=new gB;
bw.prototype.a4e=function(){this.Zp=-1};bw.prototype._=function(){for(var G in this.up)for(var $=0;$<this.up[G].length;
$++)this.up[G][$].xk._()};bw.prototype.LI=function(){this.RW();this.u(new j8(r.E.o,!1))};bw.prototype.RW=function(){var G=this.sd,m=G[0],A=G[1],Q=G[2],H=G[3],J=this.up[m];
if(J==null)J=[];else J=J.slice(0);if(A)J=J.concat(this.up.anim);if(["GIF","PNG","JPG"].indexOf(m)!=-1&&Q)J=J.concat(this.up.slcs);
else if(["GIF","PNG","JPG"].indexOf(m)!=-1&&H)J=J.concat(this.up.artb);if(m+" "+A+" "+H!=this.Zp){this.Zp=m+" "+A+" "+H;
g.iJ(this.m);for(var $=0;$<J.length;$++){if(m=="PDF"&&!H&&$==0)continue;this.m.appendChild(J[$].xk.m);
g.Qm(this.m)}}var b=this.aeq=[];for(var $=0;$<J.length;$++)b.push(J[$].xk.B())};bw.prototype.afO=function(G,m,A,Q){this.sd=[G,m,A,Q];
this.RW()};bw.prototype.B=function(){return this.aeq.slice(0)};function aM(){gB.call(this);this.m=g.L("span","fitem");
this.KC=!1;this.pJ=new iL("No",!1,"Cancel");this.US=new iL("Yes",!1,"Confirm");this.m.appendChild(this.pJ.m);
this.m.appendChild(this.US.m);this.pJ.J("click",this.av,this);this.US.J("click",this.av,this);this._()}aM.prototype=new gB;
aM.prototype._=function(){this.pJ.ym(g.y3("cross",null,"autoscale"));this.US.ym(g.y3("checkmark",null,"autoscale"))};
aM.prototype.av=function(G){this.KC=G.target==this.US;this.u(new UIEvent("click"))};aM.prototype.B=function(){return this.KC};
function jn(G){gB.call(this);this.m=g.L("span","fitem");this.L9=new iL("\u25BC",null,"Auto Options",!0);
g.Il(this.L9.m,this.aqQ.bind(this));this.m.appendChild(this.L9.m);this.mO=new iL("Auto",null,null,!0);
this.mO.J("click",this.Nz,this);this.m.appendChild(this.mO.m);this.A7=new a6("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.A7.J(r.E.o,this.Nz,this);this.A7.f([!1,!1,!1,!0]);this.$p=new gB;var m=this.$p.m=g.L("div","floatcont form");
m.setAttribute("style","width: 250px;");this.$p.parent=this;m.appendChild(this.A7.m);this.va=[];for(var $=0;
$<2;$++){var A=new hz(($==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);A.f(.1);A.J(r.E.o,this.Nz,this);
this.va.push(A);m.appendChild(A.m)}}jn.prototype=new gB;jn.prototype.Nz=function(G){this.u(new j8(r.E.o,!1))};
jn.prototype._=function(){};jn.prototype.B=function(){return[this.A7.B().indexOf(!0),this.va[0].B(),this.va[1].B()]};
jn.prototype.aqQ=function(G){if(g.m$(this.$p.m))return;G.stopPropagation();var m=this.L9.m.getBoundingClientRect(),A=new j8(r.E.W,!0);
A.data={d:r.S.mo,Nc:this.$p,x:m.left,y:m.top+m.height+4};this.u(A)};function eu(){gB.call(this);var G=this.m=g.L("div","fitem");
this.sm=new iV([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.sm.J(r.E.o,this.iR,this);G.appendChild(this.sm.m);
this.M8=new jM(!1);this.M8.parent=this;this.M8.s8(16777215);this.M8.J(r.E.o,this.iR,this);G.appendChild(this.M8.m)}eu.prototype=new gB;
eu.prototype._=function(){this.sm._();this.M8._()};eu.prototype.agN=function(G){var m=[G.artboardBackgroundType.v-1];
if(G.Clr)m.push(G.Clr.v);this.f(m)};eu.prototype.a0Z=function(){var G=this.B();return{classID:"artboard",Clr:{t:"Objc",v:G[1]},artboardBackgroundType:{t:"long",v:G[0]+1}}};
eu.prototype.f=function(G){this.sm.f(G[0]);if(G[1])this.M8.f(G[1])};eu.prototype.B=function(){return[this.sm.B(),this.M8.B()]};
eu.prototype.iR=function(G){if(G.target==this.M8)this.sm.f(3);this.u(new j8(r.E.o,!1))};function n(G){gB.call(this);
this.wy=G;this.m=g.L("div","");this.YZ=[];this.nk=null;this.a52=[]}n.prototype=new gB;n.prototype.es=function(G){};
n.prototype.qC=function(){return!1};n.prototype.e9=function(G,m){};n.prototype.a2=function(G,m){};n.prototype.Ie=function(G){};
n.prototype.f=function(G,m,A,Q,H,J){var b=[],O=this.YZ,a=0,e=bH.Pv["s"+this.wy];e?e(G,b,J):this.xq(G,b,J);
for(var $=0;$<O.length;$++)if(!(O[$]instanceof gS))O[$].f(b[a++]);if(G.RndS)this.nk=G.RndS.v};n.prototype.B=function(){var G=bH.wZ(this.wy),m=[],A=this.YZ,Q=0;
for(var $=0;$<A.length;$++)if(!(A[$]instanceof gS))m[Q++]=A[$].B();var H=bH.Pv["g"+this.wy];H?H(G,m):this.eQ(G,m);
if(G.RndS)G.RndS.v=this.nk;return G};n.prototype.KY=function(G){};n.prototype.K3=function(G){if(G&&G.target instanceof iL){this.nk=Math.floor(Math.random()*4294967295)}var m=this.a52;
for(var $=0;$<m.length;$+=2){var A=this.YZ[m[$]],Q=this.YZ[m[$+1]],H=A.B(),J=Q.B();if(G.target==A)Q.f(Math.max(H,J));
else A.f(Math.min(H,J))}this.u(new j8(r.E.o))};n.prototype._=function(){for(var $=0;$<this.YZ.length;
$++)this.YZ[$]._();var G=this.ahu;if(G)G._()};n.prototype.VF=function(G){g.kG(this.m,"form");var m=this.YZ;
for(var $=0;$<m.length;$++){var A=m[$];A.parent=this;A.J(r.E.o,this.K3,this);this.m.appendChild(A.m);
if(A instanceof aX&&m[$+1]instanceof jM)continue;if(G&&G.indexOf($)!=-1)g.RB(this.m);else g.Qm(this.m)}var Q=bH.wZ(this.wy);
if(Q.RndS){var H=this.ahu=new iL([25,1,2],null,null,!0);this.m.appendChild(H.m);H.J("click",this.K3,this)}};
n.prototype.b2=function(){return!1};n.prototype.gr=function(G,m,A,Q,H){};n.prototype.Nr=function(G,m,A,Q,H){};
n.prototype.gE=function(G,m,A,Q,H){};n.prototype.eQ=function(G,m){};n.prototype.xq=function(G,m){};n.prototype.i1=function(G){var m=G.target.B().indexOf(!0)!=-1,A=new j8(r.E.W,!0);
A._v=!0;A.data={d:m?r.S.ce:r.S.q9,b:f.Wr};this.u(A);A=new j8(r.E.w,!0);A.b=f.Wr;A._v=!0;A.data={d:"supertool",b:m?this:null};
this.u(A)};n.aad=function(G){G.b2=function(){return!0};G.gr=function(m,A,Q,H,J){this.Ua=!0;this.any(m,J)};
G.Nr=function(m,A,Q,H,J){if(!this.Ua)return;this.any(m,J)};G.gE=function(m,A,Q,H,J){this.Ua=!1};G.any=function(m,A){var Q=m.t.fY(A.x,A.y);
function H(J,b){return Math.round(Math.max(0,Math.min(100,100*J/b)))}this.YZ[2].f(H(Q.x,m.e));this.YZ[3].f(H(Q.y,m.n));
this.K3()}};n.Bokh=function(){n.call(this,"Bokh");this.YZ=[new iV("Depth Map",["A","b"]),new bo("Focal Distance",0,255),new aX([4,11]),new iV([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new bo([12,56],0,100),new bo([12,15],0,360),new bo([12,2],0,100),new bo([4,13],0,255),new bo([24,6],0,100),new ai([12,58],[[12,59,0],[12,59,1]]),new aX([12,60])];
this.VF([4,6])};n.Bokh.prototype=new n;n.Bokh.prototype.xq=function(G,m,A){var Q=[[22,5,0],[6,5,3],[6,2]],H=G.BkDi.v.BtDi,J=G.BkDc,b=0;
if(H=="BeIn")b=0;else if(H=="BeIt"&&J.v.BtDc=="BeCt")b=1;else if(H=="BeIt"&&J.v.BtDc=="BeCm")b=2;else b=3+J.v;
for(var $=0;$<A[1].length;$++)Q.push(A[1][$].name);this.YZ[0].fd(Q,[3]);m[0]=b;m[1]=G.BkDp.v;m[2]=G.BkDs.v;
m[3]=parseInt(G.BkIs.v.BtIs.slice(3))-3;m[4]=G.BkIb.v;m[5]=G.BkIr.v;m[6]=G.BkSb.v;m[7]=G.BkSt.v;m[8]=G.BkNa.v;
m[9]=G.BkNt.v.BtNt=="BeNu"?0:1;m[10]=G.BkNm.v};n.Bokh.prototype.eQ=function(G,m){var A;if(m[0]==0){A="BeIn";
delete G.BkDc}else if(m[0]<3){A="BeIt";G.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][m[0]-1]}}}else{A="BeIa";
G.BkDc={t:"long",v:m[0]-3}}G.BkDi.v.BtDi=A;G.BkDp.v=m[1];G.BkDs.v=m[2];G.BkIs.v.BtIs="BeS"+(3+m[3]);
G.BkIb.v=m[4];G.BkIr.v=m[5];G.BkSb.v=m[6];G.BkSt.v=m[7];G.BkNa.v=m[8];G.BkNt.v.BtNt=["BeNu","BeNg"][m[9]];
G.BkNm.v=m[10]};n.oilPaint=function(){n.call(this,"oilPaint");this.YZ=[new bo([12,56],.1,10,"px",!0),new bo("Cleanliness",0,10,"px",!0),new bo([12,38],.1,10,null,!0),new bo("Bristle Detail",0,10,null,!0),new aX("Lighting"),new bo("Shine",0,10,null,!0),new eV([12,15])];
this.VF()};n.oilPaint.prototype=new n;n.oilPaint.prototype.xq=function(G,m){var A="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var $=0;$<A.length;$++)m[$]=G[A[$]].v;m[6]=[G.LghD.v]};n.oilPaint.prototype.eQ=function(G,m){var A="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var $=0;$<A.length;$++)G[A[$]].v=m[$];G.LghD.v=m[6][0]};n.TrcC=function(){n.call(this,"TrcC");this.YZ=[new bo("Level",0,255),new ai([12,69],[[19,4,1],[19,4,0]])];
this.VF()};n.TrcC.prototype=new n;n.TrcC.prototype.xq=function(G,m){m[0]=G.Lvl.v;m[1]=["Lwr","Upr"].indexOf(G.Edg.v.CntE)};
n.TrcC.prototype.eQ=function(G,m){G.Lvl.v=m[0];G.Edg.v.CntE=["Lwr","Upr"][m[1]]};n["Dfs "]=function(){n.call(this,"Dfs ");
this.YZ=[new ai([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.VF()};n["Dfs "].prototype=new n;
n["Dfs "].prototype.xq=function(G,m){m[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(G.Md.v.DfsM)};
n["Dfs "].prototype.eQ=function(G,m){G.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][m[0]]};n.Embs=function(){n.call(this,"Embs");
this.YZ=[new eV([12,15]),new bo([12,42],1,100,"px"),new bo([12,57],1,500,"%")];this.VF()};n.Embs.prototype=new n;
n.Embs.prototype.xq=function(G,m){m[0]=[G.Angl.v];m[1]=G.Hght.v;m[2]=G.Amnt.v};n.Embs.prototype.eQ=function(G,m){G.Angl.v=m[0][0];
G.Hght.v=m[1];G.Amnt.v=m[2]};n["Wnd "]=function(){n.call(this,"Wnd ");this.YZ=[new ai([12,32],["Wind","Blast","Stagger"]),new ai([12,33],["From the Right","From the Left"])];
this.VF()};n["Wnd "].prototype=new n;n["Wnd "].prototype.xq=function(G,m){m[0]=["Wnd","Blst","Stgr"].indexOf(G.WndM.v.WndM);
m[1]=["Left","Rght"].indexOf(G.Drct.v.Drct)};n["Wnd "].prototype.eQ=function(G,m){G.WndM.v.WndM=["Wnd","Blst","Stgr"][m[0]];
G.Drct.v.Drct=["Left","Rght"][m[1]]};n.denoise=function(){n.call(this,"denoise");this.YZ=[new bo([12,64],0,10),new bo([12,65],0,100,"%")];
this.VF()};n.denoise.prototype=new n;n.denoise.prototype.xq=function(G,m){var A=G.channelDenoise.v[0].v;
m[0]=A.Amnt.v;m[1]=A.EdgF.v};n.denoise.prototype.eQ=function(G,m){var A=G.channelDenoise.v[0].v;A.Amnt.v=m[0];
A.EdgF.v=m[1]};n.lightFilterGradient=function(){n.call(this,"lightFilterGradient");this.YZ=[new bo([24,3,1],0,100,"px",1,!0),new bo([12,38],0,200,"%"),new aX([4,11]),new bo("High",0,100,"%"),new bo("Medium",0,100,"%"),new bo("Low",0,100,"%")];
this.VF()};n.lightFilterGradient.prototype=new n;n.lightFilterGradient.prototype.xq=function(G,m){m[0]=G.blur.v;
m[1]=G.textureScale.v*100;m[2]=G.Scl.v==-1;var A=G.Dtl.v;m[3]=A[0].v*100;m[4]=A[1].v*100;m[5]=A[2].v*100};
n.lightFilterGradient.prototype.eQ=function(G,m){G.blur.v=m[0];G.textureScale.v=m[1]/100;G.Scl.v=m[2]?-1:1;
var A=G.Dtl.v;A[0].v=m[3]/100;A[1].v=m[4]/100;A[2].v=m[5]/100};n.Fbrs=function(){n.call(this,"Fbrs");
this.YZ=[new bo("Variance",1,64),new bo([12,64],1,64)];this.VF()};n.Fbrs.prototype=new n;n.Fbrs.prototype.xq=function(G,m){m[0]=G.Vrnc.v;
m[1]=G.Strg.v};n.Fbrs.prototype.eQ=function(G,m){G.Vrnc.v=m[0];G.Strg.v=m[1]};n.LnsF=function(){n.call(this,"LnsF");
this.YZ=[new bo([12,2],10,300,"%"),new ai([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new bo("Position X",0,100,"%"),new bo("Position Y",0,100,"%")];
this.VF()};n.LnsF.prototype=new n;n.LnsF.prototype.xq=function(G,m){m[0]=G.Brgh.v;m[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(G.Lns.v.Lns);
var A=G.FlrC.v;m[2]=Math.round(A.Hrzn.v*100);m[3]=Math.round(A.Vrtc.v*100)};n.LnsF.prototype.eQ=function(G,m){G.Brgh.v=m[0];
G.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][m[1]];var A=G.FlrC.v;A.Hrzn.v=m[2]/100;A.Vrtc.v=m[3]/100};n.aad(n.LnsF.prototype);
n.blendOptions=function(){n.call(this,"blendOptions");this.YZ.push(new iV([12,19,0],ib.dw,!1,ib.gK));
this.YZ.push(new bo([12,0],0,100,"%"));this.VF()};n.blendOptions.prototype=new n;n.blendOptions.prototype.xq=function(G,m){m[0]=ib.uY.indexOf(G.Md.v.BlnM);
m[1]=G.Opct.v.val};n.blendOptions.prototype.eQ=function(G,m){G.Md.v.BlnM=ib.uY[m[0]];G.Opct.v.val=m[1]};
n.LnCr=function(){n.call(this,"LnCr");this.YZ=[new bo([12,57],-100,100),new bo([12,38],10,150,"%")];
this.VF()};n.LnCr.prototype=new n;n.LnCr.prototype.xq=function(G,m){m[0]=G.LnIa.v;m[1]=G.LnSi.v};n.LnCr.prototype.eQ=function(G,m){G.LnIa.v=m[0];
G.LnSi.v=m[1]};n.adaptCorrect=function(){n.call(this,"adaptCorrect");var G=c3;this.YZ=[new gS([19,6,0]),new G([12,57],0,100,"%"),new G("Tone",0,100,"%"),new G([12,56],0,200,"px"),new gS([19,6,2]),new G([12,57],0,100,"%"),new G("Tone",0,100,"%"),new G([12,56],0,200,"px"),new gS([3]),new G([13,0],-100,100)];
this.VF([3,7])};n.adaptCorrect.prototype=new n;n.adaptCorrect.prototype.xq=function(G,m){var A=G.sdwM.v;
m[0]=A.Amnt.v.val;m[1]=A.Wdth.v.val;m[2]=A.Rds.v;var A=G.hglM.v;m[3]=A.Amnt.v.val;m[4]=A.Wdth.v.val;
m[5]=A.Rds.v;m[6]=G.ClrC.v};n.adaptCorrect.prototype.eQ=function(G,m){var A=G.sdwM.v;A.Amnt.v.val=m[0];
A.Wdth.v.val=m[1];A.Rds.v=m[2];var A=G.hglM.v;A.Amnt.v.val=m[3];A.Wdth.v.val=m[4];A.Rds.v=m[5];G.ClrC.v=m[6]};
n.Flam=function(){n.call(this,"Flam");var G=this.YZ=[new iV([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new bo([12,80,0],20,1e3,"px"),new aX("Randomize Length"),new bo([12,41],5,600,"px"),new bo([12,15],0,360,"\xB0"),new bo("Interval",10,200,"px"),new aX("Adapt Interval for Loops"),new jM(!1),new iV([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new bo("Turbulent",0,100),new bo("Jag",0,100),new bo([12,0],0,100),new bo("Lines",2,30),new bo("Bottom",0,100),new iV([12,22],["Normal","Violent","Flat"]),new iV([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new aX("Randomize Shape"),new bo("Random Seed",0,100)];
this.VF();var m=this.m;g.iJ(m);var A=new ai(null,["Basic","Advanced"]);A.J(r.E.o,this.a8v,this);m.appendChild(A.m);
g.RB(m);var Q=g.L("div"),H=g.L("div");this.a0u=[Q,H];m.appendChild(Q);for(var $=0;$<G.length;$++){($<9?Q:H).appendChild(G[$].m);
if($==6)g.Qm(Q)}G[0].J(r.E.o,this.afA,this);this.afA()};n.Flam.prototype=new n;n.Flam.prototype.afA=function(G){var m=this.YZ,$=m[0].B();
m[1].bD($!=0&&$!=5);m[2].bD($!=0&&$!=5);m[4].bD($!=0&&$!=5&&$!=1);m[5].bD($!=0&&$!=5);m[6].bD($!=0&&$!=5)};
n.Flam.prototype.a8v=function(G){var $=G.target.B(),m=this.a0u,A=this.m;A.removeChild(m[1-$]);A.appendChild(m[$])};
n.boxblur=function(){n.call(this,"boxblur");this.YZ=[new bo([12,56],1,200," px")];this.VF()};n.boxblur.prototype=new n;
n.boxblur.prototype.xq=function(G,m){m[0]=G.Rds.v.val};n.boxblur.prototype.eQ=function(G,m){G.Rds.v.val=m[0]};
n.GsnB=function(){n.call(this,"GsnB");this.YZ=[new bo([12,56],.1,400,"px",1,!0)];this.VF()};n.GsnB.prototype=new n;
n.MtnB=function(){n.call(this,"MtnB");this.YZ=[new eV([12,15]),new bo([12,28],1,100," px")];this.VF()};
n.MtnB.prototype=new n;n.RdlB=function(){n.call(this,"RdlB");this.YZ=[new bo([12,57],1,100),new ai([12,36],["Spin","Zoom"]),new bo("Position X",0,100,"%"),new bo("Position Y",0,100,"%")];
this.VF()};n.RdlB.prototype=new n;n.RdlB.prototype.xq=function(G,m){m[0]=G.Amnt.v;m[1]=["Spn","Zm"].indexOf(G.BlrM.v.BlrM);
m[2]=G.Cntr.v.Hrzn.v*100;m[3]=G.Cntr.v.Vrtc.v*100};n.RdlB.prototype.eQ=function(G,m){G.Amnt.v=m[0];G.BlrM.v.BlrM=["Spn","Zm"][m[1]];
G.Cntr.v.Hrzn.v=m[2]/100;G.Cntr.v.Vrtc.v=m[3]/100};n.aad(n.RdlB.prototype);n.Dspl=function(){n.call(this,"Dspl");
this.YZ=[new iV([6,36,3],["a","b"]),new bo([22,4,0],-100,100,"px"),new bo([22,4,1],-100,100,"px"),new iV([24,18,0],[[24,18,3],[24,18,2]])];
this.VF()};n.Dspl.prototype=new n;n.Dspl.prototype.xq=function(G,m,A){this.aum=[];this.vl=[];var Q=-1,H=A?A[0]:null;
if(H==null)H=this.apk;else this.apk=H;if(H)for(var $=0;$<H.length;$++){var J=H[$];this.aum.push(J.Vc.trim());
this.vl.push(J.kl);if(J.kl==G.DspF.v.pth)Q=$}this.YZ[0].fd(this.aum);m[0]=Q==-1?0:Q;m[1]=G.HrzS.v;m[2]=G.VrtS.v;
m[3]=["WrpA","RptE"].indexOf(G.UndA.v.UndA)};n.Dspl.prototype.eQ=function(G,m){if(this.vl.length==0)return;
G.DspF.v.pth=this.vl[m[0]];G.HrzS.v=m[1];G.VrtS.v=m[2];G.UndA.v.UndA=["WrpA","RptE"][m[3]]};n.Pnch=function(){n.call(this,"Pnch");
this.YZ=[new bo([12,57],-100,100,"%")];this.VF()};n.Pnch.prototype=new n;n["Plr "]=function(){n.call(this,"Plr ");
this.YZ=[new ai(null,["Rect to Polar","Polar to Rect"])];this.VF()};n["Plr "].prototype=new n;n.Rple=function(){n.call(this,"Rple");
this.YZ=[new bo([12,57],-999,999),new iV([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.VF()};n.Rple.prototype=new n;
n["Shr "]=function(){n.call(this,"Shr ");this.YZ=[new gZ(!0,!0),new iV([24,18,0],[[24,18,3],[24,18,2]])];
this.VF()};n["Shr "].prototype=new n;n["Shr "].prototype.xq=function(G,m){var A=new ci(0,255/127,255/127,0,-2,128),Q=JSON.parse(JSON.stringify(G.ShrP.v));
N.RH.A(Q,A);m[0]=Q;m[1]=["WrpA","RptE"].indexOf(G.UndA.v.UndA)};n["Shr "].prototype.eQ=function(G,m){var A=new ci(0,255/127,255/127,0,-2,128);
A.G3();N.RH.A(m[0],A);G.ShrP.v=m[0];G.ShrE.v=m[0].length-1;G.UndA.v.UndA=["WrpA","RptE"][m[1]]};n.Sphr=function(){n.call(this,"Sphr");
this.YZ=[new bo([12,57],-100,100),new iV([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.VF()};n.Sphr.prototype=new n;
n.Sphr.prototype.xq=function(G,m){m[0]=G.Amnt.v;m[1]=["Nrml","HrzO","VrtO"].indexOf(G.SphM.v.SphM)};
n.Sphr.prototype.eQ=function(G,m){G.Amnt.v=m[0];G.SphM.v.SphM=["Nrml","HrzO","VrtO"][m[1]]};n.Dthr=function(){n.call(this,"Dthr");
this.YZ=[new iV("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.VF()};n.Dthr.prototype=new n;
n.Dthr.prototype.xq=function(G,m){m[0]=G.Plte.v};n.Dthr.prototype.eQ=function(G,m){G.Plte.v=m[0]};n.Twrl=function(){n.call(this,"Twrl");
this.YZ=[new bo([12,15],-999,999)];this.VF()};n.Twrl.prototype=new n;n.Wave=function(){n.call(this,"Wave");
this.a52=[1,2,3,4];this.YZ=[new bo("Number of Generators",1,100),new c3("Min Length",1,999),new c3("Max Length",1,999),new c3("Min Ampl.",1,999),new c3("Max Ampl.",1,999),new c3("Scale X",1,100,"%"),new c3("Scale Y",1,100,"%"),new ai([12,44],["Sine","Triangle",[12,93,3]]),new iV([24,18,0],[[24,18,3],[24,18,2]]),new h_("Randomizer Seed")];
this.VF()};n.Wave.prototype=new n;n.Wave.prototype.xq=function(G,m){m[0]=G.NmbG.v;m[1]=G.WLMn.v;m[2]=G.WLMx.v;
m[3]=G.AmMn.v;m[4]=G.AmMx.v;m[5]=G.SclH.v;m[6]=G.SclV.v;m[7]=["WvSn","WvTr","WvSq"].indexOf(G.Wvtp.v.Wvtp);
m[8]=["WrpA","RptE"].indexOf(G.UndA.v.UndA);m[9]=G.RndS.v};n.Wave.prototype.eQ=function(G,m){G.NmbG.v=m[0];
G.WLMn.v=m[1];G.WLMx.v=m[2];G.AmMn.v=m[3];G.AmMx.v=m[4];G.SclH.v=m[5];G.SclV.v=m[6];G.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][m[7]];
G.UndA.v.UndA=["WrpA","RptE"][m[8]];var A=parseInt(m[9]);if(isNaN(A))A=248325464;A=Math.max(0,Math.min(268435455,A));
G.RndS.v=A;this.YZ[9].f(A)};n.ZgZg=function(){n.call(this,"ZgZg");this.YZ=[new bo([12,57],-100,100),new bo("Ridges",0,20),new iV([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.VF()};n.ZgZg.prototype=new n;n.surfaceBlur=function(){n.call(this,"surfaceBlur");this.YZ=[new bo([12,56],1,200," px"),new bo([4,13],1,255," px")];
this.VF()};n.surfaceBlur.prototype=new n;n.surfaceBlur.prototype.xq=function(G,m){m[0]=G.Rds.v.val;m[1]=G.Thsh.v};
n.surfaceBlur.prototype.eQ=function(G,m){G.Rds.v.val=m[0];G.Thsh.v=m[1]};n.AdNs=function(){n.call(this,"AdNs");
this.YZ=[new bo([12,57],0,200," %"),new iV([12,58],[[12,59,1],[12,59,0]]),new aX([12,60])];this.VF()};
n.AdNs.prototype=new n;n.DstS=function(){n.call(this,"DstS");this.YZ=[new bo([12,56],1,200," px"),new bo([4,13],1,255," px")];
this.VF()};n.DstS.prototype=new n;n["Mdn "]=function(){n.call(this,"Mdn ");this.YZ=[new bo([12,56],1,200," px")];
this.VF()};n["Mdn "].prototype=new n;n["Mdn "].prototype.xq=function(G,m){m[0]=G.Rds.v.val};n["Mdn "].prototype.eQ=function(G,m){G.Rds.v.val=m[0]};
n.ClrH=function(){n.call(this,"ClrH");this.YZ=[new bo([12,56],4,100," px")];for(var $=1;$<4;$++)this.YZ.push(new bo("Angle "+$,0,90," \xB0"));
this.VF()};n.ClrH.prototype=new n;n.ClrH.prototype.xq=function(G,m){m[0]=G.Rds.v;for(var $=1;$<4;$++)m[$]=G["Ang"+$].v};
n.ClrH.prototype.eQ=function(G,m){G.Rds.v=m[0];for(var $=1;$<4;$++)G["Ang"+$].v=m[$]};n.ClrH.prototype._=function(){var G=this.YZ;
G[0]._();for(var $=1;$<4;$++)G[$].ym(f5.get([12,15])+" "+$)};n.Crst=function(){n.call(this,"Crst");this.YZ=[new bo([12,61],3,100," px")];
this.VF()};n.Crst.prototype=new n;n.Crst.prototype.xq=function(G,m){m[0]=G.ClSz.v};n.Crst.prototype.eQ=function(G,m){G.ClSz.v=m[0]};
n.Mztn=function(){n.call(this,"Mztn");this.YZ.push(new iV([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.vl="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.VF()};n.Mztn.prototype=new n;
n.Mztn.prototype.xq=function(G,m){m[0]=this.vl.indexOf(G.MztT.v.MztT)};n.Mztn.prototype.eQ=function(G,m){G.MztT.v.MztT=this.vl[m[0]]};
n["Msc "]=function(){n.call(this,"Msc ");this.YZ=[new bo([12,61],2,200," px")];this.VF()};n["Msc "].prototype=new n;
n["Msc "].prototype.xq=function(G,m){m[0]=G.ClSz.v.val};n["Msc "].prototype.eQ=function(G,m){G.ClSz.v.val=m[0]};
n.Pntl=function(){n.call(this,"Pntl");this.YZ=[new bo([12,61],3,100," px")];this.VF()};n.Pntl.prototype=new n;
n.Pntl.prototype.xq=function(G,m){m[0]=G.ClSz.v};n.Pntl.prototype.eQ=function(G,m){G.ClSz.v=m[0]};n.smartSharpen=function(){n.call(this,"smartSharpen");
this.YZ=[new bo([12,57],1,200,"%"),new bo([12,56],0,200,"px",1,!0)];this.VF()};n.smartSharpen.prototype=new n;
n.smartSharpen.prototype.xq=function(G,m){m[0]=G.Amnt.v.val;m[1]=G.Rds.v.val};n.smartSharpen.prototype.eQ=function(G,m){G.Amnt.v.val=m[0];
G.Rds.v.val=m[1]};n.UnsM=function(){n.call(this,"UnsM");this.YZ=[new bo([12,57],1,200," %"),new bo([12,56],.1,400,"px",1,!0),new bo([4,13],0,255," ")];
this.VF()};n.UnsM.prototype=new n;n.HghP=function(){n.call(this,"HghP");this.YZ=[new bo([12,56],.1,400,"px",1,!0)];
this.VF()};n.HghP.prototype=new n;n.HsbP=function(){n.call(this,"HsbP");this.YZ=[new ai("Input",["RGB","HSB","HSL"]),new ai("Output",["RGB","HSB","HSL"])];
this.VF()};n.HsbP.prototype=new n;n["Mxm "]=function(){n.call(this,"Mxm ");this.YZ=[new bo([12,56],.1,200," px",1,!0),new iV([12,76,1],[[12,93,3],"Circle"])];
this.VF()};n["Mxm "].prototype=new n;n["Mnm "]=function(){n.call(this,"Mnm ");this.YZ=[new bo([12,56],.1,200," px",1,!0),new iV([12,76,1],[[12,93,3],"Circle"])];
this.VF()};n["Mnm "].prototype=new n;n.Ofst=function(){n.call(this,"Ofst");this.YZ=[new bo([22,4,0],-1024,1024," px"),new bo([22,4,1],-1024,1024," px"),new iV([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.VF()};n.Ofst.prototype=new n;n.Rept=function(){n.call(this,"Rept");this.YZ=[new c3([12,38],1,300," %"),new c3("Row Shift",-50,50," %"),new c3("Space X",-99,200," %"),new c3("Space Y",-99,200," %"),new aX([4,16,2]),new eV([12,15])];
this.VF()};n.Rept.prototype=new n;n.Rept.prototype.xq=function(G,m){m[0]=G.Scl.v.val;m[1]=G.Rsft.v.val;
m[2]=G.SpcX.v.val;m[3]=G.SpcY.v.val;m[4]=G.SpcC.v;m[5]=[G.Angl.v]};n.Rept.prototype.eQ=function(G,m){G.Scl.v.val=m[0];
G.Rsft.v.val=m[1];G.SpcX.v.val=m[2];G.SpcY.v.val=m[3];G.SpcC.v=m[4];G.Angl.v=m[5][0];return G};n.Ctoa=function(){n.call(this,"Ctoa");
this.YZ=[new gS([13,0]),new jM(!0),new bo(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new bo(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.VF()};n.Ctoa.prototype=new n;n.Ctoa.prototype.xq=function(G,m){m[0]=G.Clr.v;m[1]=G.Trsp.v.val;m[2]=G.Opct.v.val};
n.Ctoa.prototype.eQ=function(G,m){G.Clr.v=m[0];G.Trsp.v.val=m[1];G.Opct.v.val=m[2]};n.LqFy=function(){n.call(this,"LqFy");
this.iC=!1;this.Tb=!1;this.WC=null;this.atX=null;this.b=0;this.K={Z0:[[{b:{id:0,name:[24,1,0,1,0],_a:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],_a:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],_a:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],_a:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],_a:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],_a:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],_a:"liq/pleft"}}],[{b:{id:7,name:"Hand",_a:"tools/hand"}}],[{b:{id:8,name:"Zoom In",_a:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",_a:"zoomOut"}}]],keys:[]};
this.n2=new bA(this.K,!1);this.n2.H1(0);this.n2.J(r.E.W,this.as6,this);this.LS=g3.g$();this.rB=null;
this.lz=[];this.Jr=-1;this.VV=null;this.a4E=null;this.Bk=null;this.qS=null;this.Gl=null;var G=g.L("div","flexrow");
this.HT=G;this.m.appendChild(G);G.appendChild(this.n2.m);this.view=new jT(!0);this.view.e9(100,100);
this.view.J("mousedown",this.mC,this);this.view.J("mousemove",this.Vz,this);this.view.J("mouseup",this.Jx,this);
this.view.J("zoom",this.hr,this);G.appendChild(this.view.m);var m=g.L("div","form");G.appendChild(m);
this.pN=m;m.style.width="230px";this.qT=[new bo([12,14,0],0,1e3,null,!1,!0),new bo([12,74],0,100,null,!1,!1),new bo([12,84],0,100,null,!1,!1),new aX([12,46]),new bo([12,0],0,100,null,!1,!1),new aX([24,18,5])];
var A=this.LS.Brsh.v;A.Dmtr.v.val=100;var Q=[100,50,100,!1,100,!0];for(var $=0;$<this.qT.length;$++){var H=this.qT[$];
H.f(Q[$]);if($==4)H.Tx();H.J(r.E.o,this.abI,this);m.appendChild(H.m)}var J=this.a8w=new iL([1,12,2],!0,null,!0);
J.J("click",this.$k,this);m.appendChild(J.m);this.aeI=this.Z_.bind(this);this.Tv=new gB;this.Tv.m=g.L("div","floatcont");
this.Bd=new iL("Menu",!1,null,!0);this.Bd.J("click",this.aro,this);var b=this.Bd.m;b.setAttribute("style","position:absolute; right:13px; top:47px")};
n.LqFy.prototype=new n;n.LqFy.prototype.qC=function(){return!0};n.LqFy.prototype.es=function(G){this.pN.appendChild(G)};
n.LqFy.prototype.aro=function(G){var m=this.Bd.m.getBoundingClientRect();this.Tv.m.appendChild(this.pN);
var A=new j8(r.E.W,!0);A.data={d:r.S.mo,Nc:this.Tv,x:m.right+m.width-290,y:m.top+m.height};this.u(A)};
n.LqFy.prototype.KY=function(G){this.iC=G.j(a5.Ei);var m=f.Xi.fZ(this.LS,G);if(m!=null){this.LS=m;this.hr();
this.qT[0].f(m.Brsh.v.Dmtr.v.val)}else if(G.j(a5.KF)&&G.j(a5.dT)){var A=this.lz;if(G.j(a5.K6)){if(this.Jr+1<A.length)this.Jr++}else if(this.Jr>0)this.Jr--;
this.rB.map=A[this.Jr].slice(0);this.Lc(null)}else this.view.KY(G)};n.LqFy.prototype.as6=function(G){if(G.data.d==r.S.ce){var m=this.b=G.data.b;
this.n2.H1(this.b);this.view.KY(m>6?jT.a6v(m-7):new a5)}};n.LqFy.prototype.abI=function(G){var m=G.currentTarget,$=this.qT.indexOf(m),A=this.LS.Brsh.v;
if($==0){A.Dmtr.v.val=m.B();this.hr()}this.qT[4].bD(this.qT[3].B());if($>2)this.Lc(null)};n.LqFy.prototype.cH=function(){var G=this.lz;
this.Jr++;G[this.Jr]=this.rB.map.slice(0);while(G.length>this.Jr+1)G.pop();while(G.length>50){G=G.slice(1);
this.Jr--}};n.LqFy.prototype.mC=function(G){this.WC=this.view.jU();this.atX=new dw(0,0);this.Tb=!0;window.requestAnimationFrame(this.aeI)};
n.LqFy.prototype.Vz=function(G){var m=this.view.jU(),A=new dw(m.x-this.WC.x,m.y-this.WC.y);if(this.b==0||this.b==6)this.a3O(A);
this.WC=m};n.LqFy.prototype.Jx=function(G){this.cH();this.Tb=!1};n.LqFy.prototype.Z_=function(G){if(this.b!=0&&this.b!=6)this.a3O(new dw(0,0));
if(this.Tb)window.requestAnimationFrame(this.aeI)};n.LqFy.prototype.a3O=function(G){var m=this.rB,A=m.zp/this.VV.e,Q=this.WC,H=this.LS.Brsh.v,J=H.Dmtr.v.val,b=Date.now(),O=m.zp,a=m.V7,e=Math.sqrt(G.x*G.x+G.y*G.y),R=Math.max(1,Math.ceil(e/2)),p=G.x/R,P=G.y/R,z=Q.clone(),Z=this.b,W=this.qT[1].B()/100,T=this.qT[2].B()/100,i=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],X=i[Z*2],U=i[Z*2+1],M=(1-W)*X+W*U,C=J*A/2;
for(var $=0;$<R;$++){var x=[];z.x+=p;z.y+=P;N.bX.adJ(m.map,O,a,Z,z.x*A,z.y*A,C,W,T,p*A,P*A,x,this.iC);
N.bX.a05(O,a,m.map,x,2*M*T)}var L=new f_(0,0,O,a),E=new f_(Q.x*A,Q.y*A,0,0);E.e0(J*A*.5,J*A*.5);var l=E.clone();
l.offset(G.x*A,G.y*A);E=E.wj(l);var y=new f_(E.x/A,E.y/A,E.e/A,E.n/A);y=N.H.Is(y).KB(this.VV);this.qT[5].f(!0);
this.Lc(y)};n.LqFy.prototype.hr=function(){var G=gj.qR(this.LS,null,this.view.HJ().V);this.view.yJ(G)};
n.LqFy.prototype.f=function(G,m,A,Q,H){A=A.clone();if(m==null)return;if(!Q.A5(A)){var J=A.wj(Q),b=N.$(J.Z()*4);
N.Pr(m,A,b,J);m=b;A=J;var O=N.$(J.Z()*4);N.Pr(H,Q,O,J);H=O}A.x=A.y=0;this.Bk=m;this.a4E=H;this.Gl=m.slice(0);
this.qS=m.slice(0);this.VV=A;this.rB=g9.dm(new Uint8Array(G.LqMe.v).buffer);var a=A.e,e=A.n;if(this.rB.zp/a<.22){this.rB={zp:Math.floor(a/4),V7:Math.floor(e/4)};
this.rB.map=new Float32Array(this.rB.zp*this.rB.V7*2)}this.lz=[];this.Jr=-1;this.cH();this.Lc(null);
this.view.Tj();this.hr()};n.LqFy.prototype.B=function(){var G=bH.wZ("LqFy"),m=new Uint8Array(g9.MJ(this.rB)),A=[];
for(var $=0;$<m.length;$++)A.push(m[$]);G.LqMe.v=A;return G};n.LqFy.prototype.e9=function(G,m){this.n2.e9(G,m);
var A=this.Bd.m,Q=this.pN;this.HT.appendChild(Q);this.HT.appendChild(A);if(G>450&&G-m>200){Q.style.marginLeft="1em";
this.HT.removeChild(A);this.view.e9(G-238-45,m)}else{Q.style.marginLeft="";this.HT.removeChild(Q);this.view.e9(G-40,m)}};
n.LqFy.prototype._=function(){this.n2._();this.a8w._();for(var $=0;$<this.qT.length;$++)this.qT[$]._()};
n.LqFy.prototype.$k=function(){this.rB.map.fill(0);this.cH();this.Lc(null)};n.LqFy.prototype.Lc=function(G){var m=this.VV,A=this.Bk,Q=this.Gl,H=this.rB;
if(this.qT[5].B())N.bX.Ki(A,this.qS,m.e,m.n,G,H.map,H.zp,H.V7,0);else this.qS.set(A);if(this.qT[3].fA()){N.Pr(this.a4E,m,Q,m,G?G:m);
N.a.zc("norm",this.qS,m,Q,m,G?G:m,this.qT[4].B()/100)}else N.Gy(this.qS,Q);this.view.f([{NS:m,data:Q.buffer}])};
n.GEfc=function(){n.call(this,"GEfc");this._2=0;this.OL=0;this.Bk=null;this.Gl=null;this.VV=null;this.dj=null;
this.Zs=null;this.B3=0;var G=g.L("div","flexrow");this.HT=G;this.m.appendChild(G);this.view=new jT(null);
this.view.e9(100,100);G.appendChild(this.view.m);this.iu="";this.rQ=270;var m=this.aH=g.L("div","form scrollable");
G.appendChild(m);m.setAttribute("style","width:"+this.rQ+"px;  margin-left:10px");var A=this.GC=g.L("div","form");
G.appendChild(A);A.setAttribute("style","width:230px;  margin-left:1em");this.J2={};for(var Q in iA.names){var H=new n.GEfc.Es(Q);
H.parent=this;this.J2[Q]=H;H.J(r.E.o,this.alF,this)}this.fr=!0;this.Bd=new iL("Menu",null,null,!0);this.Bd.J("click",this.a8U,this);
G.appendChild(this.Bd.m);this.NV=new iL(">>",null,null,!0);this.NV.J("click",this.aiB,this);A.appendChild(this.NV.m);
this.yt=g.L("div");this.yt.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
A.appendChild(this.yt);this.MA=g.L("div");this.MA.style.minHeight="14em";this.MA.style.marginBottom="1em";
A.appendChild(this.MA);this.OH=g.L("div","lpbody scrollable");this.$Q=g.L("div","lpfoot");A.appendChild(this.OH);
A.appendChild(this.$Q);this.J("click",this.ajo,this);this.Ln=[];bm.Ug([[5,3],[5,4]],this.Ln,this.$Q,this.YV.bind(this))};
n.GEfc.prototype=new n;n.GEfc.prototype.qC=function(){return!0};n.GEfc.prototype.es=function(G){this.yt.appendChild(G)};
n.GEfc.prototype.a2=function(G,m){this.dj=G};n.GEfc.prototype.aiB=function(G){var m=this.aH.style.display!="none";
this.aH.style.display=m?"none":"";this.NV.ym(m?"<<":">>");this.e9()};n.GEfc.prototype.a8U=function(G){this.fr=!this.fr;
this.e9()};n.GEfc.prototype.e9=function(G,m){var A=this.aH.style.display!="none";if(G!=null){this._2=G;
this.OL=m;if(G<1e3&&A||G>=1e3&&!A){this.aiB();A=!A}this.fr=G>600}else{G=this._2;m=this.OL}var Q=this.fr?240+(A?this.rQ+10:0):0;
if(g.m$(this.GC)&&!this.fr){this.HT.removeChild(this.aH);this.HT.removeChild(this.GC)}if(!g.m$(this.GC)&&this.fr){this.HT.appendChild(this.aH);
this.HT.appendChild(this.GC)}this.aH.style.height=m+"px";this.view.e9(G-Q,m);this.OH.style.height=m-this.MA.getBoundingClientRect().height-96+"px";
this.Bd.m.setAttribute("style","position:absolute; top:46px;  right:"+(Q+16)+"px")};n.GEfc.prototype.a9W=function(){var G=dt.YM.get("img/beach",!0)[0],m=G.NS,A=this.aH,Q=Math.floor(g.G()*(this.rQ-40)/3),H=~~(Q*.7),J=new f_(0,0,Q,H),b=N.$(Q*H*4),O=b.slice(0),a=Math.round(10*g.G()),e=new ImageData(new Uint8ClampedArray(O.buffer),Q,H);
N.Pr(new Uint8Array(G.data),m,b,new f_(Math.round((m.e-Q)/2),Math.round((m.n-H)/2),Q,H));var R=g.L("canvas"),p=R.getContext("2d");
R.width=Q;R.height=H+Math.round(a*1.5);p.font=a+"px sans-serif";this.jD={};var P=this.a3s.bind(this);
for(var $=0;$<iA.Bt.length;$++){var z=iA.Bt[$],Z=g.L("div");A.appendChild(Z);Z.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
Z.textContent=f5.get(z);for(var W in iA.names){var T=iA.names[W];if(T[0]!=$)continue;iA.pV(W,{rect:J,buffer:b},iA.wZ(W),{p:0,z:0,h:0},{p:255,z:255,h:255},{rect:J,buffer:O},{});
p.fillStyle="black";p.fillRect(0,0,500,500);p.putImageData(e,0,0);var i=f5.get(T[1]);p.fillStyle="white";
p.fillText(i,(Q-p.measureText(i).width)/2,H+Math.round(a*1.1));var X=g.L("div");A.appendChild(X);X.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
X.addEventListener("click",P,!1);var Z=g.L("img");X.appendChild(Z);Z.setAttribute("src",R.toDataURL());
Z.setAttribute("style","width:"+Q/g.G()+"px; margin-bottom:0px;");this.jD[W]=X}}};n.GEfc.prototype.a3s=function(G){var m;
for(var A in this.jD)if(this.jD[A]==G.currentTarget)this.iu=A;this.alF()};n.GEfc.prototype.YV=function(G){var m=bm.pk(this.Ln,G),A=this.Zs.GEfs.v,Q=A[this.B3].v;
if(m==0){A.push(JSON.parse(JSON.stringify(A[this.B3])));this.B3=A.length-1}else if(A.length>1){A.splice(this.B3,1);
if(this.B3==A.length)this.B3--}this.cC();this.Lc()};n.GEfc.prototype.alF=function(G){var m=this.iu,A;
if(G==null)A=iA.wZ(m);else A=this.J2[m].B();this.Zs.GEfs.v[this.B3].v=A;this.cC();this.Lc()};n.GEfc.prototype.f=function(G,m,A,Q,H){if(this.jD==null)this.a9W();
G=this.Zs=JSON.parse(JSON.stringify(G));if(G.GEfs==null)G=this.Zs={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:G}]}};
var J=G.GEfs.v;for(var $=0;$<J.length;$++)if(J[$].v.GELv==null)J[$].v.GELv={t:"bool",v:!0};this.B3=J.length-1;
this.cC();A=A.clone();if(m==null)return;if(!Q.A5(A)&&iA.bA(G).x!=0){var b=A.wj(Q),O=N.$(b.Z()*4);N.Pr(m,A,O,b);
m=O;A=b}A.x=A.y=0;this.Bk=m;this.Gl=m.slice(0);this.VV=A;this.Lc();this.view.Tj()};n.GEfc.prototype.ajo=function(G){var m=G.data,$=m.lW,A=this.Zs.GEfs.v;
if(m.Ax){A[$].v.GELv.v=!A[$].v.GELv.v;this.Lc()}else this.B3=$;this.cC()};n.GEfc.prototype.cC=function(){var G=this.Zs.GEfs.v,m=G[this.B3].v,A=m.GEfk.v.GEft,Q=this.MA;
if(iA.names[A]==null){alert("Unsupported gallery filter");g.iJ(Q)}else{this.iu=A;for(var H in this.jD)g.W8(this.jD[H],"selected");
g.kG(this.jD[A],"selected");var J=this.J2[A];J.f(m);if(Q.firstChild!=J.m){g.iJ(Q);Q.appendChild(J.m)}}var b=[];
for(var $=0;$<G.length;$++){var O=G[$].v,a=iA.names[O.GEfk.v.GEft],e=new aE($,!0,!0,null,a?a[1]:"Filter",$==this.B3,O.GELv.v);
e.parent=this;b.push(e.m)}g.iJ(this.OH);b.reverse();for(var $=0;$<b.length;$++)this.OH.appendChild(b[$]);
this.e9()};n.GEfc.prototype.B=function(){return JSON.parse(JSON.stringify(this.Zs))};n.GEfc.prototype.Lc=function(G){var m=this.VV,A=this.Bk,Q=this.Gl,H=this.iu,J=this.Zs,b=this.dj;
function O(a){return{p:a>>>16,z:a>>>8&255,h:a&255}}bH.pV("GEfc",{rect:this.VV,buffer:this.Bk},J,O(b.yu),O(b.qU),{rect:this.VV,buffer:this.Gl},null);
this.view.f([{NS:m,data:Q.buffer}])};n.GEfc.prototype._=function(){for(var G in this.J2)this.J2[G]._();
bm.AR(this.Ln,["lrs/newlayer","lrs/bin"])};n.GEfc.Es=function(G){gB.call(this);this.Tn=G;this.m=g.L("div");
this.kI={};var m=iA.wZ(G);for(var A in m){var Q=null;if(A=="__name"||A=="classID"||A=="GEfk"||A=="GELv"||["FlRs"].indexOf(A)!=-1)continue;
else if(A=="EdgW")Q=new bo("Edge Width",1,14);else if(A=="EdgB")Q=new bo("Edge Brightness",0,G=="AccE"?50:20);
else if(A=="Smth")Q=new bo([19,3,3],1,G=="Stmp"?50:15);else if(A=="ClSz")Q=new bo([12,61],3,100);else if(A=="BrdT")Q=new bo([7,9],1,20);
else if(A=="HghS")Q=new bo([12,64],0,20);else if(A=="HlSz")Q=new bo([12,14,0],1,15);else if(A=="Cntr")Q=new bo([12,3,0],0,G=="WtrP"?100:50);
else if(A=="Shrp")Q=new bo("Sharpness",0,40);else if(A=="SprR")Q=new bo("Spray Radius",0,25);else if(A=="LgDr")Q=new bo("Light/Dark Balance",0,G=="Stmp"?50:100);
else if(A=="Drkn")Q=new bo("Darkness",1,50);else if(A=="Dstr")Q=new bo("Distortion",0,20);else if(A=="Scln")Q=new bo([12,38],50,200);
else if(A=="Rlf")Q=new bo("Relief",0,G=="Ptch"||G=="NtPr"?25:50);else if(A=="ChAm")Q=new bo("Thickness",1,7);
else if(A=="Pncl")Q=new bo([19,2,5],1,30);else if(A=="StrP")Q=new bo("Stroke Pressure",0,15);else if(A=="PprB")Q=new bo("Paper Brightness",0,50);
else if(A=="BrsS")Q=new bo("Brush Size",0,10);else if(A=="BrsD")Q=new bo("Brush Detail",0,10);else if(A=="Txtr")Q=new bo([12,67],1,3);
else if(A=="Grn")Q=new bo("Grain",0,20);else if(A=="HghA")Q=new bo("Highlight Area",0,20);else if(A=="Intn")Q=new bo("Intensity",0,10);
else if(A=="Brgh")Q=new bo("Glow Brightness",0,G=="WtrP"?100:50);else if(A=="StrS")Q=new bo("Stroke Size",1,50);
else if(A=="StDt")Q=new bo("Stroke Detail",1,3);else if(A=="Sftn")Q=new bo("Softness",0,10);else if(A=="EdgT")Q=new bo("Edge Thickness",0,10);
else if(A=="EdgI")Q=new bo("Edge Intensity",0,10);else if(A=="Pstr")Q=new bo("Posterization",0,6);else if(A=="Dfnt")Q=new bo("Definition",0,25);
else if(A=="TxtC")Q=new bo("Texture Coverage",0,50);else if(A=="ShdI")Q=new bo("Shadow Intensity",0,10);
else if(A=="DrcB")Q=new bo("Direction Balance",0,100);else if(A=="Strg")Q=new bo([12,64],1,3);else if(A=="Blnc")Q=new bo("Balance",0,10);
else if(A=="BlcI")Q=new bo("Black Intensity",0,10);else if(A=="WhtI")Q=new bo("White Intensity",0,10);
else if(A=="DrkI")Q=new bo("Dark Intensity",0,50);else if(A=="LghI")Q=new bo("Light Intensity",0,50);
else if(A=="StrW")Q=new bo("Stroke Width",3,15);else if(A=="Grns")Q=new bo("Graininess",0,G=="NtPr"?20:10);
else if(A=="GlwA")Q=new bo("Glow Amount",0,20);else if(A=="ClrA")Q=new bo("Clear Amount",0,20);else if(A=="ChrA")Q=new bo("Charcoal Area",0,20);
else if(A=="ChlA")Q=new bo("Chalk Area",0,20);else if(A=="FrgL")Q=new bo("Foreground Level",1,15);else if(A=="BckL")Q=new bo("Background Level",1,15);
else if(A=="WhtL")Q=new bo("Background Level",0,50);else if(A=="BlcL")Q=new bo("Foreground Level",0,50);
else if(A=="ImgB")Q=new bo("Image Balance",0,50);else if(A=="Dnst")Q=new bo([12,74],0,50);else if(A=="FbrL")Q=new bo("Fiber Length",3,50);
else if(A=="CrcS")Q=new bo("Crack Sapcing",2,100);else if(A=="CrcD")Q=new bo("Crack Depth",0,10);else if(A=="CrcB")Q=new bo("Crack Brightness",0,10);
else if(A=="TlSz")Q=new bo("Tile Size",2,100);else if(A=="GrtW")Q=new bo("Grout Width",1,15);else if(A=="LghG")Q=new bo("Lighten Grout",0,10);
else if(A=="SqrS")Q=new bo("Square Size",0,10);else if(A=="RplS")Q=new bo("Ripple Size",1,15);else if(A=="RplM")Q=new bo("Ripple Magnitude",0,20);
else if(A=="NmbL")Q=new bo("Number of Levels",2,8);else if(A=="EdgS")Q=new bo("Edge Simplicity",0,10);
else if(A=="EdgF")Q=new bo("Edge Fidelity",1,3);else if(A=="Sz")Q=G=="NGlw"?new bo("Glow Size",-24,24):new bo("Brush Size",1,50);
else if(A=="Dtl")Q=G=="Chrc"?new bo("Detail",0,5):new bo("Detail",1,15);else if(A=="StrL")Q=G=="InkO"?new bo("Stroke Length",1,50):new bo("Stroke Length",0,20);
else if(A=="TxtT")Q=new iV([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(A=="BrsT")Q=new iV("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(A=="Grnt")Q=new iV("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(A=="SDir")Q=new iV([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(A=="ScrT")Q=new iV([12,62],["Circle","Dot",[10,35]]);
else if(A=="LghD"||A=="LghP")Q=new iV("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(A=="Clr")Q=new jM("Glow Color");else if(A=="InvT")Q=new aX([4,11]);else console.log(A);Q.J(r.E.o,this.Nz,this);
Q.parent=this;this.kI[A]=Q;this.m.appendChild(Q.m)}};n.GEfc.Es.prototype=new gB;n.GEfc.Es.prototype.Nz=function(G){this.u(new j8(r.E.o,!1))};
n.GEfc.aja="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
n.GEfc.Es.prototype.f=function(G){for(var m in this.kI){var A;if(n.GEfc.aja.indexOf(m)!=-1)A=G[m].v;
else if(m=="TxtT")A=iA.bh.indexOf(G[m].v[m]);else if(m=="BrsT")A=iA._1.indexOf(G[m].v[m]);else if(m=="LghD")A=iA.em.indexOf(G[m].v[m]);
else if(m=="LghP")A=iA.XQ.indexOf(G[m].v[m]);else if(m=="Grnt")A=iA.bT.indexOf(G[m].v[m]);else if(m=="ScrT")A=iA.en.indexOf(G[m].v[m]);
else if(m=="SDir")A=iA.kw.indexOf(G[m].v.StrD);this.kI[m].f(A)}};n.GEfc.Es.prototype.B=function(){var G=iA.wZ(this.Tn);
for(var m in this.kI){var A=this.kI[m].B();if(n.GEfc.aja.indexOf(m)!=-1)G[m].v=A;else if(m=="TxtT")G[m].v[m]=iA.bh[A];
else if(m=="BrsT")G[m].v[m]=iA._1[A];else if(m=="LghD")G[m].v[m]=iA.em[A];else if(m=="LghP")G[m].v[m]=iA.XQ[A];
else if(m=="Grnt")G[m].v[m]=iA.bT[A];else if(m=="ScrT")G[m].v[m]=iA.en[A];else if(m=="SDir")G[m].v.StrD=iA.kw[A]}return G};
n.GEfc.Es.prototype._=function(){for(var G in this.kI)this.kI[G]._()};n.blnc=function(){n.call(this);
var G=this.m;this.KC=null;this.TJ=new iV([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.TJ.J(r.E.o,this.Lc,this);
G.appendChild(this.TJ.m);this.pc=[];for(var $=0;$<3;$++){var m=new bo(hE.DL[$],-100,100);m.J(r.E.o,this.K3,this);
this.pc.push(m);G.appendChild(m.m)}this.yA=new aX([13,4]);this.yA.J(r.E.o,this.K3,this);G.appendChild(this.yA.m)};
n.blnc.prototype=new n;n.blnc.prototype._=function(){this.TJ._();for(var $=0;$<3;$++)this.pc[$]._();
this.yA._()};n.blnc.prototype.f=function(G){this.KC=JSON.parse(JSON.stringify(G));this.Lc()};n.blnc.prototype.B=function(G){var m=["ShdL","MdtL","HghL"],A=this.KC[m[this.TJ.B()]].v;
for(var $=0;$<3;$++)A[$].v=this.pc[$].B();this.KC.PrsL.v=this.yA.B();return JSON.parse(JSON.stringify(this.KC))};
n.blnc.prototype.Lc=function(G){var m=["ShdL","MdtL","HghL"],A=this.KC[m[this.TJ.B()]].v;for(var $=0;
$<3;$++)this.pc[$].f(A[$].v);this.yA.f(this.KC.PrsL.v)};n.brit=function(){n.call(this,"brit");this.YZ.push(new bo([12,2],-150,150,""));
this.YZ.push(new bo([12,3,0],-100,100,""));this.YZ.push(new aX([12,3,1]));this.VF()};n.brit.prototype=new n;
n.brit.prototype.xq=function(G,m){m[0]=G.Brgh?G.Brgh.v:0;m[1]=G.Cntr?G.Cntr.v:0;m[2]=G.useLegacy?G.useLegacy.v:!1};
n.brit.prototype.eQ=function(G,m){G.Brgh.v=m[0];G.Cntr.v=m[1];G.useLegacy.v=m[2]};n.curv=function(){n.call(this);
this.value=null;this.Ru=null;var G=this.m;this.A6=new iV([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.A6.J(r.E.o,this.Ta,this);G.appendChild(this.A6.m);this.T9=new iV(null,["Spline","Sketch"]);this.T9.J(r.E.o,this.aac,this);
G.appendChild(this.T9.m);this.mO=new jn;this.mO.parent=this;this.mO.J(r.E.o,this.B$,this);G.appendChild(this.mO.m);
g.Qm(G);this.IU=new gZ;this.IU.J(r.E.o,this.B8,this);G.appendChild(this.IU.m);this.j6=null;this.aiV=0;
this.ZV=0;g.Qm(G);this.sD=new a6("Sample from image",ai.wY(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.sD.J(r.E.o,this.i1,this);this.sD.m.style.marginRight="0";G.appendChild(this.sD.m)};n.curv.prototype=new n;
n.curv.prototype.e9=function(G,m){this.IU.e9(G,m)};n.curv.prototype._=function(){this.A6._()};n.curv.prototype.aac=function(G){var m=a0.ie(this.value,0),A=m.length==256?1:0,Q=this.T9.B();
if(A==Q)return;var H=bH.wZ("curv");if(Q==1){var J=[];for(var $=0;$<256;$++)J.push($);a0.yS(H,0,J)}this.f(H);
this.K3()};n.curv.prototype.B8=function(){a0.yS(this.value,this.A6.B(),this.IU.B());this.K3()};n.curv.prototype.Ta=function(){var G=this.A6.B(),m=a0.ie(this.value,G),A=m.length==256?1:0;
this.T9.f(A);if(this.Ru)this.IU.Ie(this.Ru[G],this.Ru[4]*[1,.33,.33,.33][G],["#ccc","#fcc","#cfc","#ccf"][G]);
this.IU.f(m)};n.curv.prototype.b2=function(){return!0};n.curv.prototype.gr=function(G,m,A,Q,H){var J=this.value;
this.value=bH.wZ("curv");this.K3();var b=f.G$.EK(G,H,1),O=this.j6=[b>>>16&255,b>>>8&255,b&255];this.aiV=H.y;
var a=this.sD.B().indexOf(!0);if(a==0){var e=(O[0]+O[1]+O[2])/3,R=this.A6.B(),p=a0.ie(J,R),P=R==0?e:O[R-1],z=-1;
for(var $=0;$<p.length;$++)if(p[$].v.Hrzn.v==P)z=$;if(z==-1){var Z=JSON.parse(JSON.stringify(p[0]));
Z.v.Hrzn.v=P;Z.v.Vrtc.v=P;p.push(Z);p.sort(function(W,T){return W.v.Hrzn.v-T.v.Hrzn.v});a0.yS(J,R,p);
this.ZV=p.indexOf(Z)}else this.ZV=z}this.f(J);this.K3()};n.curv.prototype.Nr=function(G,m,A,Q,H){if(this.j6==null)return;
if(this.sD.B().indexOf(!0)==0){var J=this.value,b=this.A6.B(),O=a0.ie(J,b),a=O[this.ZV];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.aiV-H.y))));
a0.yS(J,b,O);this.f(J);this.K3()}};n.curv.prototype.gE=function(G,m,A,Q,H){var J=this.value,b=this.j6,O=(b[0]+b[1]+b[2])/3,a=this.sD.B().indexOf(!0)-1;
if(a<=-1){}else for(var $=0;$<3;$++){var e=a0.ie(J,1+$);if(a==0)e[0].v.Hrzn.v=b[$];if(a==1){var R=Math.log(b[$]/255)/Math.log(O/255),p=Math.min(999,Math.max(10,Math.round(100*R)));
if(e.length==2)e.splice(1,0,JSON.parse(JSON.stringify(e[0])));e[1].v.Hrzn.v=127-Math.log(p/100)*127;
e[1].v.Vrtc.v=127}if(a==2)e[e.length-1].v.Hrzn.v=b[$];a0.yS(J,1+$,e)}this.f(J);this.K3();this.j6=null};
n.curv.prototype.f=function(G){this.value=G;this.Ta()};n.curv.prototype.Ie=function(G){this.Ru=G;this.Ta()};
n.curv.prototype.B=function(G){return JSON.parse(JSON.stringify(this.value))};n.curv.prototype.B$=function(){var G=this.mO.B(),m=this.Ru,A=this.value,Q=N.VI(G,m);
for(var $=0;$<4;$++){var H=Q[$][0],J=Q[$][1],b=Q[$][2],O=[N.RH.eM(H,0,!0),N.RH.eM(J,255,!0)];if(b!=null)O.splice(1,0,N.RH.eM(128,b,!0));
a0.yS(A,$,O)}this.Ta();this.K3()};n.expA=function(){n.call(this,"expA");this.YZ.push(new bo([12,5],-20,20,null,3));
this.YZ.push(new bo([12,6],-.5,.5,null,3));this.YZ.push(new bo([12,7],.01,6.99,null,3));this.VF()};n.expA.prototype=new n;
n.expA.prototype.xq=function(G,m){m[0]=G.Exps.v;m[1]=G.Ofst?G.Ofst.v:0;m[2]=G.gammaCorrection?G.gammaCorrection.v:1};
n.expA.prototype.eQ=function(G,m){G.Exps={t:"doub",v:m[0]};G.Ofst={t:"doub",v:m[1]};G.gammaCorrection={t:"doub",v:m[2]}};
n.grdm=function(){n.call(this,"grdm");this.YZ.push(new fe(!0,null,!0));this.YZ.push(new aX([12,23,0]));
this.VF()};n.grdm.prototype=new n;n.grdm.prototype.xq=function(G,m){m[0]=G.Grad.v;m[1]=G.Rvrs?G.Rvrs.v:!1};
n.grdm.prototype.eQ=function(G,m){G.Grad.v=m[0];G.Rvrs={t:"bool",v:m[1]}};n.grdm.prototype.a2=function(G,m){this.YZ[0].DP(G.yu,G.qU);
if(m==dG.ud||m==dG.bu||m==dG.EM)this.YZ[0].pA(G.rj)};n.selc=function(){n.call(this);var G=this.m;this.nu=[];
this.IR=null;this.TJ=new iV([12,82],hE.ji.concat([[13,1,8],[13,1,13],[13,1,10]]));this.TJ.J(r.E.o,this.Nz,this);
G.appendChild(this.TJ.m);g.Qm(G);for(var $=0;$<4;$++){var m=new bo(hE.adZ[$],-100,100,"%");m.J(r.E.o,this.Nz,this);
this.nu.push(m);G.appendChild(m.m)}this.WT=new aX([13,3]);G.appendChild(this.WT.m);this.WT.J(r.E.o,this.Nz,this)};
n.selc.prototype=new n;n.selc.prototype._=function(){this.TJ._();this.WT._();for(var $=0;$<4;$++)this.nu[$]._()};
n.selc.prototype.f=function(G){this.IR=JSON.parse(JSON.stringify(G));this.Lc()};n.selc.prototype.B=function(G){return JSON.parse(JSON.stringify(this.IR))};
n.selc.prototype.Nz=function(G){if(G.target!=this.TJ){var m=this.IR,A=[];for(var $=0;$<4;$++)A[$]=this.nu[$].B();
gO.yS(m,this.TJ.B(),A);m.Mthd={t:"enum",v:{CrcM:this.WT.B()?"Absl":"Rltv"}}}this.Lc();this.K3()};n.selc.prototype.Lc=function(){var G=this.IR,m=gO.ie(G,this.TJ.B());
for(var $=0;$<4;$++)this.nu[$].f(m[$]);this.WT.f(G.Mthd?G.Mthd.v.CrcM=="Absl":!1)};n.blwh=function(){n.call(this,"blwh");
this.YZ.push(new aX([12,11]));this.YZ.push(new jM(!0));for(var $=0;$<6;$++)this.YZ.push(new bo(hE.ji[$],-200,300));
this.VF()};n.blwh.prototype=new n;n.blwh.prototype.xq=function(G,m){m[0]=G.useTint.v;m[1]=G.tintColor.v;
var A="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var $=0;$<6;$++)m[2+$]=G[A[$]].v};n.blwh.prototype.eQ=function(G,m){G.useTint.v=m[0];
G.tintColor.v=m[1];var A="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var $=0;$<6;$++)G[A[$]].v=m[2+$]};
n.hue2=function(){n.call(this);this.value=null;this.Va=null;this.asQ=null;this.Ob=[[0,0,0],[0,50,0]];
var G=this.m;this.sD=new a6(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.sD.J(r.E.o,this.apI,this);this.sD.J(r.E.o,this.i1,this);G.appendChild(this.sD.m);this.TJ=new iV([12,12],["Master"].concat(hE.ji));
this.TJ.J(r.E.o,this.Ta,this);G.appendChild(this.TJ.m);this.sz=new bo([12,8],-180,180);this.sz.J(r.E.o,this.js,this);
G.appendChild(this.sz.m);this.n7=new bo([12,9],-100,100);this.n7.J(r.E.o,this.js,this);G.appendChild(this.n7.m);
this.An=new bo([12,10],-100,100);this.An.J(r.E.o,this.js,this);G.appendChild(this.An.m);this.lO=new aX([12,11]);
this.lO.J(r.E.o,this.js,this);G.appendChild(this.lO.m);this.QA=new a6("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.QA.J(r.E.o,this.apI,this);this.QA.J(r.E.o,this.i1,this);this.QA.m.style.marginLeft="20px";G.appendChild(this.QA.m);
this.H4=g.L("div");G.appendChild(this.H4);this.NB=this.M5.bind(this);this.PM=this.Vo.bind(this);this.O=g.L("canvas");
this.JR=this.O.getContext("2d");this.uk=null;g.sL(this.O);g.bi(this.O,282,18);G.appendChild(this.O);
g.Il(this.O,this.dn.bind(this))};n.hue2.prototype=new n;n.hue2.prototype.e9=function(G,m){g.bi(this.O,Math.round(G),18);
if(this.value)this.Ta()};n.hue2.prototype.apI=function(G){var m=G.target.B().indexOf(!0);if(m==-1)return;
if(G.target==this.sD)this.QA.f([!1,!1,!1]);else this.sD.f([!1,!1,!1])};n.hue2.prototype.dn=function(G){if(this.TJ.B()==0||this.lO.B())return;
var m=g.zi(G,this.O).x/(this.O.width/g.G()),J=1e6;function A(p,P,z){return p<P&&P<z||z<p&&(p<P||P<z)}var Q=this.v7(),H=-1;
for(var $=0;$<4;$++){var b=Math.abs(m-(Q[$]+$*1e-5));if(b<J){J=b;H=$}}if(J>.025){H=-1;var O=Q[0],a=Q[1],e=Q[2],R=Q[3];
if(A(O,m,a))H=4;if(A(a,m,e))H=5;if(A(e,m,R))H=6}if(H==-1)return;this.uk=H;g.CY(document.body,this.NB);
g.$f(document.body,this.PM)};n.hue2.prototype.M5=function(G){var m=g.zi(G,this.O).x/(this.O.width/g.G()),A=this.v7(),Q=this.uk;
for(var $=1;$<4;$++)if(A[$]<A[$-1]){A[$]+=1}if(Q<4){var H=1e6,J=0;for(var $=-20;$<20;$++){var b=Math.abs(A[Q]-(m+$));
if(b<H){H=b;J=$}}m+=J;A[Q]=m;for(var $=Q+1;$<4;$++)if(A[$]<A[$-1]){A[$]=A[$-1]}for(var $=Q-1;$>=0;$--)if(A[$]>A[$+1]){A[$]=A[$+1]}}else{var O=m-(A[Q-4]+A[Q-3])/2;
if(O<-.5)O+=1;if(Q==4){A[0]+=O;A[1]+=O;A[2]=Math.max(A[1],A[2]);A[3]=Math.max(A[1],A[3])}if(Q==5)for(var $=0;
$<4;$++)A[$]+=O;if(Q==6){A[2]+=O;A[3]+=O;A[0]=Math.min(A[0],A[2]);A[1]=Math.min(A[1],A[2])}}for(var $=1;
$<4;$++)if(A[$]<A[$-1])throw"e";this.a6P(A);this.Ta();this.K3()};n.hue2.prototype.Vo=function(G){g.k1(document.body,this.NB);
g.P4(document.body,this.PM)};n.hue2.prototype._=function(){this.sz._();this.n7._();this.An._();this.lO._();
this.TJ._()};n.hue2.prototype.js=function(G){var m=this.value.Clrz.v=this.lO.B();if(m)this.TJ.f(0);if(G&&G.target==this.lO){var A=m?1:0;
this.Ob[1-A]=bY.ie(this.value,0);var Q=this.Ob[A];bY.yS(this.value,0,Q);if(this.TJ.B()==0){this.sz.f(Q[0]);
this.n7.f(Q[1]);this.An.f(Q[2])}}var H=this.TJ.B(),J=bY.ie(this.value,H),Q=H==0?J:J.pc;Q[0]=this.sz.B();
var b=this.n7.B();Q[1]=m?Math.max(0,b):b;Q[2]=this.An.B();bY.yS(this.value,H,J);this.Ta();this.K3()};
n.hue2.prototype.Ta=function(){var G=this.TJ.B(),m=this.value.Clrz?this.value.Clrz.v:!1;this.lO.f(m);
this.TJ.bD(!m);this.QA.bD(!m&&G!=0);var A=bY.ie(this.value,G),Q=G==0?A:A.pc;this.sz.f(Q[0]);this.n7.f(Q[1]);
this.An.f(Q[2]);var H=this.O.width,J=this.O.height,b=this.JR;b.clearRect(0,0,H,J);if(m||G==0){this.H4.innerHTML="";
return}var O=A.uR;this.H4.innerHTML=O[0]+"\xB0 / "+O[1]+"\xB0<span style=\"float:right\">"+O[2]+"\xB0 \\ "+O[3]+"\xB0</span>";
var a=N.$(H*4);by.apo(a,1,H,-1,.5);var e=new ImageData(new Uint8ClampedArray(a.buffer),H,1),R=Math.round(J/4);
for(var $=0;$<R;$++)b.putImageData(e,0,$);function p(i,X,U){b.fillStyle=U;var M=R*2;if(i<=X)b.fillRect(i*H,M,(X-i)*H,R);
else{b.fillRect(0,M,X*H,R);b.fillRect(i*H,M,(1-i)*H,R)}}var P=this.v7();p(P[0],P[1],"#888888");p(P[1],P[2],"#cccccc");
p(P[2],P[3],"#888888");b.fillStyle="#ffffff";b.lineWidth=1;b.beginPath();var z=R+.5,Z=4*R+.5;for(var $=0;
$<4;$++){var W=Math.floor(H*P[$])+.5,T=($<2?-1:1)*R*($==1||$==2?1:2);b.moveTo(W,z);b.lineTo(W,Z);b.lineTo(W+T,Z);
b.lineTo(W+T,R+R+.5);b.closePath()}b.fill();b.stroke()};n.hue2.prototype.v7=function(){var G=this.TJ.B(),m=bY.ie(this.value,G).uR;
for(var $=0;$<4;$++)m[$]=(1000.5+m[$]/360)%1;return m};n.hue2.prototype.a6P=function(G){var m=this.TJ.B(),A=bY.ie(this.value,m);
for(var $=0;$<4;$++)A.uR[$]=Math.round(36e3+(G[$]-.5)*360)%360;bY.yS(this.value,m,A)};n.hue2.prototype.b2=function(){return!0};
n.hue2.prototype.agU=function(){var G=this.sD.B().indexOf(!0),m=this.QA.B().indexOf(!0);return G!=-1?G:m!=-1?m+1:-1};
n.hue2.prototype.gr=function(G,m,A,Q,H){var J=this.agU();if(J==-1)return;var b=this.value;this.value=bH.wZ("hue2");
this.K3();var O=f.G$.EK(G,H,1);this.f(b);var a=[O>>>16&255,O>>>8&255,O&255],e=N.ID(a[0]/255,a[1]/255,a[2]/255);
if(J==0){this.TJ.f(1+Math.round(e.V7*6)%6)}else{var R=this.v7(),p=.5+e.V7,P=1/12,z=R[1],Z=R[2];if(Z<z){Z++;
if(p<z&&p+1-Z<z-p)p++}var W=z<=p&&p<=Z;if(J==1){z=p-P/2;Z=p+P/2}else if(J==2&&!W){z=Math.min(p,z);Z=Math.max(p,Z)}else if(J==3&&W){if(p-z<Z-p)z=p;
else Z=p}R=[z-P,z,Z,Z+P];this.a6P(R)}this.K3();this.Va=H.x;this.asQ=this.n7.B()};n.hue2.prototype.Nr=function(G,m,A,Q,H){var J=this.agU();
if(J==-1)return;if(J==0){if(this.Va!=null){var b=H.x-this.Va;b=Math.max(-100,Math.min(100,this.asQ+.5*b));
this.n7.f(b);this.js()}}};n.hue2.prototype.gE=function(G,m,A,Q,H){this.Va=null};n.hue2.prototype.f=function(G){this.value=JSON.parse(JSON.stringify(G));
var m=this.value.Clrz?this.value.Clrz.v:!1;this.Ob[m?1:0]=bY.ie(this.value,0);this.Ta()};n.hue2.prototype.B=function(G){return JSON.parse(JSON.stringify(this.value))};
n.levl=function(){function G(){n.call(this);this.value=null;this.Ru=null;this.p2=[new dw(0,0),new dw(0,0),new dw(0,0),new dw(0,0),new dw(0,0)];
this.zP=-1;this.NB=this.M5.bind(this);this.PM=this.Vo.bind(this);var m=this.m;this.A6=new iV([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.A6.J(r.E.o,this.Ta,this);m.appendChild(this.A6.m);this.mO=new jn;this.mO.parent=this;this.mO.J(r.E.o,this.B$,this);
m.appendChild(this.mO.m);var A=g.L("div","");m.appendChild(A);var Q=g.L("div","");m.appendChild(Q);this.O=g.L("canvas");
A.appendChild(this.O);this.JR=this.O.getContext("2d");this.Dj=new dw(256,120);this.O.setAttribute("style","display:block");
g.sL(this.O);g.Il(this.O,this.dn.bind(this));this.QS=g.L("canvas","");Q.appendChild(this.QS);this.$B=this.QS.getContext("2d");
this.Tu=new dw(this.Dj.x,40);this.QS.setAttribute("style","display:block");g.sL(this.QS);g.Il(this.QS,this.a6h.bind(this));
var H=this.Bw=[];for(var $=0;$<5;$++){var J=new h_(null,null,3);H.push(J);J.J(r.E.o,this.ahx,this);($<2||$==4?A:Q).appendChild(J.m)}A.appendChild(H[1].m);
this.sD=new a6("Sample from image",ai.wY(["#000000","#888888","#ffffff"]),!0,null,!0);this.sD.J(r.E.o,this.i1,this);
m.appendChild(this.sD.m);this.e9(250,100)}G.prototype=new n;G.prototype.B$=function(){var m=this.mO.B(),A=this.Ru,Q=this.value,H=N.VI(m,A);
for(var $=0;$<4;$++){var J=H[$][0],b=H[$][1],O=H[$][2],a=[N.RH.eM(J,0,!0),N.RH.eM(b,255,!0)];if(O!=null)a.splice(1,0,N.RH.eM(128,O,!0));
var e=[~~J,~~b,0,255,O==null?100:~~(100+.75*100*(O-128)/128)];fX.yS(Q,$,e)}this.Ta();this.K3()};G.prototype.e9=function(m,A){m+=6;
this.Dj.x=this.Tu.x=m;g.bi(this.O,m,this.Dj.y,this.JR);g.bi(this.QS,m,this.Tu.y,this.$B);var Q=this.Bw;
Q[3].m.setAttribute("style","margin-left: "+(m-104)+"px");Q[4].m.setAttribute("style","margin: 0 "+(m/2-74)+"px");
if(this.value)this.Ta()};G.prototype._=function(){this.A6._()};G.prototype.ahx=function(m){var A=[];
for(var $=0;$<5;$++){var Q=255,H=1;if($==4){Q=999;H=100}var J=parseFloat(this.Bw[$].B());A[$]=Math.max(0,Math.min(Q,J*H))}fX.yS(this.value,this.A6.B(),A);
this.Ta();this.K3()};G.prototype.Ta=function(m){var A=this.Dj.x,Q=this.Dj.y,H=this.A6.B(),J=this.JR;
J.clearRect(0,0,A,Q);J.fillStyle="#cccccc";J.fillRect(8,8,A-16,Q-16-8);if(this.Ru){var b=this.Ru[0].slice(0),Z=0;
if(H==0){b.fill(0);var O=JSON.parse(JSON.stringify(this.value));fX.yS(O,0,[0,255,0,255,100]);var a=hE.Gt("levl",O),e=[a.Yd,a.aF,a.kb];
for(var R=0;R<3;R++){var p=this.Ru[1+R],P=e[R];for(var $=0;$<256;$++)b[P[$]]+=p[$]}}var z=H==0?b:this.Ru[H];
for(var $=0;$<z.length;$++)Z+=z[$];J.fillStyle="#333333";J.beginPath();J.moveTo(8,Q-16);for(var $=0;
$<256;$++){var W=55*z[$]/Z;J.lineTo(8+$/256*(A-16),Math.max(8,Q-16-Q*W))}J.lineTo(A-8,Q-16);J.closePath();
J.fill()}var T=fX.ie(this.value,H);for(var $=0;$<5;$++)this.Bw[$].f(T[$]/($==4?100:1));this.p2[0].QU(8+T[0]/255*(A-16),Q-14);
this.p2[1].QU(8+T[1]/255*(A-16),Q-14);var i=Math.log(T[4]/100)/Math.log(9.99);i=.5-i/2;this.p2[4].QU(this.p2[0].x+i*(this.p2[1].x-this.p2[0].x),Q-14);
this.ak(J,this.p2[0],"#000000");this.ak(J,this.p2[1],"#ffffff");this.ak(J,this.p2[4],"#777777");var A=this.Tu.x,Q=this.Tu.y;
J=this.$B;J.clearRect(0,0,A,Q);var X=J.createLinearGradient(0,0,A-16,0);X.addColorStop(0,"black");X.addColorStop(1,"white");
J.fillStyle=X;J.fillRect(8,8,A-16,16);this.p2[2].QU(8+T[2]/255*(A-16),Q-14);this.p2[3].QU(8+T[3]/255*(A-16),Q-14);
this.ak(J,this.p2[2],"#000000");this.ak(J,this.p2[3],"#ffffff")};G.prototype.ak=function(m,A,Q){m.fillStyle=Q;
m.fillRect(A.x-5,A.y,10,10)};G.prototype.dn=function(m){var A=g.zi(m,this.O),Q=this.aj6([0,1,4],A);if(Q!=-1)this.zP=Q;
this.abT()};G.prototype.a6h=function(m){var A=g.zi(m,this.QS),Q=this.aj6([2,3],A);if(Q!=-1)this.zP=Q;
this.abT()};G.prototype.aj6=function(m,A){var Q=-1,H=1e9;for(var $=0;$<m.length;$++){var J=Math.abs(this.p2[m[$]].x-A.x);
if(J<H){H=J;Q=m[$]}}return H<16?Q:-1};G.prototype.abT=function(m){if(this.zP==-1)return;g.CY(document.body,this.NB);
g.$f(document.body,this.PM)};G.prototype.M5=function(m){var A=fX.ie(this.value,this.A6.B()),Q=g.zi(m,this.zP==2&&this.zP==3?this.QS:this.O),H=255*(Q.x-8)/(this.Dj.x-16);
H=Math.max(0,Math.min(255,H));if(this.zP==0)H=Math.min(H,A[1]-2);if(this.zP==1)H=Math.max(H,A[0]+2);
if(this.zP!=4)A[this.zP]=Math.round(H);else{var J=(H-A[0])/(A[1]-A[0]);J=1-2*J;J=Math.pow(9.99,J);A[4]=Math.min(999,Math.max(10,Math.round(J*100)))}fX.yS(this.value,this.A6.B(),A);
this.Ta();this.K3()};G.prototype.Vo=function(m){g.k1(document.body,this.NB);g.P4(document.body,this.PM);
this.zP=-1};G.prototype.b2=function(){return!0};G.prototype.gE=function(m,A,Q,H,J){var b=this.value,O=this.sD.B().indexOf(!0);
if(O==-1)return;this.value=bH.wZ("levl");this.K3();var a=f.G$.EK(m,J,1),e=[a>>>16&255,a>>>8&255,a&255];
for(var $=0;$<3;$++){var R=fX.ie(b,1+$);if(O==0)R[0]=e[$];if(O==1){var p=Math.log(e[$]/255)/Math.log((e[0]+e[1]+e[2])*.333/255);
R[4]=Math.min(999,Math.max(10,Math.round(100*p)))}if(O==2)R[1]=e[$];fX.yS(b,1+$,R)}this.f(b);this.K3()};
G.prototype.f=function(m){this.value=m;this.Ta()};G.prototype.Ie=function(m){this.Ru=m;this.Ta()};G.prototype.B=function(m){return JSON.parse(JSON.stringify(this.value))};
return G}();n.phfl=function(){n.call(this,"phfl");this.YZ.push(new jM);this.YZ.push(new bo([12,74],0,100,"%"));
this.YZ.push(new aX([13,4]));this.VF()};n.phfl.prototype=new n;n.phfl.prototype.xq=function(G,m){m[0]=G.Clr.v;
m[1]=G.Dnst.v;m[2]=G.PrsL.v};n.phfl.prototype.eQ=function(G,m){var A=N.X.SR(m[0]),Q=G.Clr.v,H=N.Nw(A.p,A.z,A.h);
Q.Lmnc.v=H.QC;Q.A.v=H.Uj;Q.B.v=H.h;G.Dnst.v=m[1];G.PrsL.v=m[2]};n.vibA=function(){n.call(this,"vibA");
this.YZ.push(new bo([12,13],-100,100,null));this.YZ.push(new bo([12,9],-100,100,null));this.VF()};n.vibA.prototype=new n;
n.vibA.prototype.xq=function(G,m){m[0]=G.vibrance?G.vibrance.v:0;m[1]=G.Strt?G.Strt.v:0};n.vibA.prototype.eQ=function(G,m){G.vibrance.v=m[0];
G.Strt.v=m[1]};n.thrs=function(){n.call(this,"thrs");this.YZ.push(new bo([4,13],1,255,null));this.VF()};
n.thrs.prototype=new n;n.thrs.prototype.xq=function(G,m){m[0]=G.Lvl.v};n.thrs.prototype.eQ=function(G,m){G.Lvl.v=m[0]};
n.mixr=function(){n.call(this);var G=this.m;this.nu=[];this.IR=null;this.TJ=new iV([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.TJ.J(r.E.o,this.Nz,this);G.appendChild(this.TJ.m);g.Qm(G);this.nx=new aX([12,60]);G.appendChild(this.nx.m);
this.nx.J(r.E.o,this.Nz,this);for(var $=0;$<4;$++){var m=new bo([[13,1,1],[13,1,4],[13,1,5],[13,2]][$],-200,200,"%");
m.J(r.E.o,this.Nz,this);this.nu.push(m);G.appendChild(m.m)}};n.mixr.prototype=new n;n.mixr.prototype._=function(){this.TJ._();
this.nx._();for(var $=0;$<4;$++)this.nu[$]._()};n.mixr.prototype.f=function(G){this.IR=JSON.parse(JSON.stringify(G));
this.Lc()};n.mixr.prototype.B=function(G){return JSON.parse(JSON.stringify(this.IR))};n.mixr.prototype.Nz=function(G){if(G.target!=this.TJ){var m=hE.GT(this.IR);
if(G.target==this.nx){m.nx=this.nx.B();if(m.nx)m.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else m.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var A=(m.nx?0:this.TJ.B())*5,$=this.nu.indexOf(G.target);
m.k[A+($<3?$:4)]=G.target.B()}this.IR=hE.T5(m)}this.Lc();this.K3()};n.mixr.prototype.Lc=function(){var G=hE.GT(this.IR);
this.nx.f(G.nx);var m=(G.nx?0:this.TJ.B())*5;for(var $=0;$<4;$++)this.nu[$].f(G.k[m+($<3?$:4)])};n.post=function(){n.call(this,"post");
this.YZ.push(new bo([4,1],2,255,null));this.VF()};n.post.prototype=new n;n.post.prototype.xq=function(G,m){m[0]=G.Lvls.v};
n.post.prototype.eQ=function(G,m){G.Lvls.v=m[0]};n.clrL=function(){n.call(this,"clrL");this.YZ.push(new a8("LUTs"));
this.VF()};n.clrL.prototype=new n;n.clrL.prototype.xq=function(G,m){m[0]=G};n.clrL.prototype.eQ=function(G,m){var A=m[0];
for(var Q in A)G[Q]=A[Q]};n.clrL.prototype.a2=function(G,m){if(m==dG.ud||m==dG.ve)this.YZ[0].pA(G.a9n)};
n.rplc=function(){n.call(this,"rplc");this.YZ.push(new bo([12,92],0,200));this.YZ.push(new jM);this.YZ.push(new bo([12,8],-180,180));
this.YZ.push(new bo([12,9],-100,100));this.YZ.push(new bo([12,10],-100,100));this.VF()};n.rplc.prototype=new n;
n.rplc.prototype.xq=function(G,m){m[0]=G.Fzns.v;m[1]=G.Mxm.v;m[2]=G.H.v;m[3]=G.Strt.v;m[4]=G.Lght.v};
n.rplc.prototype.eQ=function(G,m){function A(H,J){J.Lmnc.v=H.QC;J.A.v=H.Uj;J.B.v=H.h}G.Fzns.v=m[0];G.H.v=m[2];
G.Strt.v=m[3];G.Lght.v=m[4];var Q=N.X.SR(m[1]),H=N.Nw(Q.p,Q.z,Q.h);A(H,G.Mnm.v);A(H,G.Mxm.v)};n.fade=function(){n.call(this,"fade");
this.YZ.push(new bo([12,0],0,100,"%"));this.YZ.push(new iV([12,19,0],ib.dw,!1,ib.gK));this.VF()};n.fade.prototype=new n;
n.fade.prototype.xq=function(G,m){m[0]=G.Opct.v.val;m[1]=ib.uY.indexOf(G.Md.v.BlnM)};n.fade.prototype.eQ=function(G,m){G.Opct.v.val=m[0];
G.Md.v.BlnM=ib.uY[m[1]]};n.aply=function(){var G=ib.uY.concat(["Add","Sbtr"]);G.splice(21,1);var m=ib.dw.concat(["Add",[15,10,21]]);
m.splice(21,1);var A=ib.gK.slice(0);A[4]--;function Q(){n.call(this,"aply");this.YZ.push(new iV([0,3],[]));
this.YZ.push(new iV([12,4],["RGB"].concat(hE.DL).concat(["Transparency"])));this.YZ.push(new aX([4,11]));
this.YZ.push(new iV([12,19,0],m,!1,A));this.YZ.push(new bo([12,0],0,100,"%"));this.YZ.push(new hz([12,38],1,2,null,2));
this.YZ.push(new hz([12,6],-255,255));this.YZ.push(new aX("Preserve Transparency"));this.VF([2]);this.Og=null}Q.prototype=new n;
Q.prototype.xq=function(H,J,b){if(b){var O=b[2].g,a=this.Og=[];for(var $=0;$<O.length;$++){var e=O[$].getName();
a.push(e.length<30?e:e.slice(0,27)+"...")}a.reverse();this.YZ[0].fd([[5,7]].concat(a),[1,a.length])}else var a=this.Og;
H=H.With.v;var R=H.T.v;J[0]=R[1].t=="name"?1+a.indexOf(R[1].v.val):0;J[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(R[0].v.enum);
J[2]=H.Invr.v;var p=H.Clcl.v.Clcn;J[3]=G.indexOf(p);J[4]=H.Opct.v.val;J[5]=H.Scl.v;J[6]=H.Ofst.v;J[7]=H.PrsT.v};
Q.prototype.eQ=function(H,J){H=H.With.v;var b=H.T.v;if(J[0]==0)b[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else b[1]={t:"name",v:{classID:"Lyr",val:this.Og[J[0]-1]}};b[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][J[1]];
H.Invr.v=J[2];var O=H.Clcl.v.Clcn=G[J[3]];H.Opct.v.val=J[4];H.Scl.v=J[5];H.Ofst.v=J[6];H.PrsT.v=J[7];
var a=O=="Add"||O=="Sbtr";this.YZ[5].bD(a);this.YZ[6].bD(a)};return Q}();n.matc=function(){var G,m,A=0;
function Q(){n.call(this,"matc");this.YZ.push(new bo("Luminance",1,200));this.YZ.push(new bo("Color Intensity",1,200));
this.YZ.push(new bo([2,11],0,100,"%"));this.YZ.push(new iV([12,70],[]));this.YZ.push(new iV([0,3],[]));
this.VF([2])}function H(J,b){J.YZ[4].fd([[5,7]].concat(b),[1,b.length])}Q.prototype=new n;Q.prototype.xq=function(J,b,O){A=0;
b[0]=J.Lght.v;b[1]=J.ClrR.v;b[2]=J.Fade.v;b[3]=b[4]=0;var a=J.Srce;if(a)a=a.v;if(O){G=[];m=[];var e=O[2],R=O[3];
for(var $=0;$<R.length;$++){var p=R[$];G.push(p.name);var P=p.g,z=[];m.push(z);for(var Z=0;Z<P.length;
Z++)z.push(P[Z].getName());z.reverse()}this.YZ[3].fd([[13,1,0]].concat(G),[1,G.length]);var W=R.indexOf(e);
if(a)W=G.indexOf(a[1].v.val);H(this,m[W])}if(a){var T=G.indexOf(a[1].v.val);b[3]=A=1+T;if(a[0].t=="name")b[4]=1+m[T].indexOf(a[0].v.val)}};
Q.prototype.eQ=function(J,b){J.Lght.v=b[0];J.ClrR.v=b[1];J.Fade.v=b[2];if(b[3]==0){J.noReference={t:"bool",v:!0};
delete J.Srce}else{if(b[3]!=A){A=b[3];H(this,m[b[3]-1])}delete J.noReference;var O={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},a=m[b[3]-1];
if(b[4]!=0)O={t:"name",v:{classID:"Lyr",val:a[b[4]-1]}};J.Srce={t:"obj ",v:[O,{t:"name",v:{classID:"Dcmn",val:G[b[3]-1]}}]}}};
return Q}();function h4(G,m){gB.call(this);if(G==null)return;this.id=m;this.k3=G;this.rO=null;this.m=g.L("div","window "+m);
this.ai0=null;this.Ix=g.L("div","whead");this.aj1=g.L("span","wname");this.Ix.appendChild(this.aj1);
this.m.appendChild(this.Ix);this.$_=this.ahG.bind(this);this.ws=this.a4X.bind(this);this.Rv=this.amD.bind(this);
g.sL(this.Ix);g.Il(this.Ix,this.$_);this.cU=g.L("span","cross");this.Ix.appendChild(this.cU);h4.prototype._.call(this);
g.$f(this.cU,this.ar8.bind(this));this.body=g.L("div","body");this.m.appendChild(this.body)}h4.prototype=new gB;
h4.prototype.I3=function(){return!1};h4.prototype.b2=function(){return!1};h4.prototype._=function(){if(this.k3==null)return;
this.aj1.textContent=f5.get(this.k3);var G=PIMG.__cross==null?"filter:invert(1);":"";this.cU.setAttribute("style","background-image:url("+PIMG.cross+");"+G)};
h4.prototype.gr=function(G,m,A,Q,H){};h4.prototype.Jg=function(G,m,A,Q,H){};h4.prototype.Nr=function(G,m,A,Q,H){};
h4.prototype.gE=function(G,m,A,Q,H){};h4.prototype.K8=function(G,m,A,Q,H){};h4.prototype.KY=function(G,m,A,Q){if(Q.j(a5.pg)&&this.Q7)this.Q7();
if(Q.j(a5.KF)){var H=new j8(r.E.w);H._v=!0;f.WH.qx(Q,H);if(H.data)m.u(H)}};h4.prototype.DV=function(G){return!1};
h4.prototype.FW=function(G,m){return!0};h4.prototype.MZ=function(G,m,A,Q){};h4.prototype.a2=function(G,m){};
h4.prototype.EQ=function(G,m){return null};h4.prototype.a4v=function(G){return this.ai0};h4.prototype.e9=function(){};
h4.prototype.close=function(){this.u(new j8(r.E.yx))};h4.prototype.ahG=function(G){this.rO=g.zi(G,this.m);
g.CY(window,this.ws);g.$f(window,this.Rv)};h4.prototype.a4X=function(G){var m=this.m.parentNode,A=g.zi(G,m),Q=Math.round(A.x-this.rO.x),H=m.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(A.y-this.rO.y)));
this.ai0=new dw(Q,H);this.m.style.left=Q+"px";this.m.style.top=H+"px"};h4.prototype.amD=function(G){g.k1(window,this.ws);
g.P4(window,this.Rv)};h4.prototype.ar8=function(G){this.u(new j8("closebtn"));this.close()};function h5(){h4.call(this,"About Photopea","aboutpp");
var G=g.L("div","flexrow");this.body.appendChild(G);var m=this.atz=g.L("img");G.appendChild(m);this.body.setAttribute("style","margin:0; padding:0");
var A=this.arZ=g.L("div");A.innerHTML=h5.qY;G.appendChild(A);var Q=this.wx=g.L("span");Q.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(Q)}h5.prototype=new h4;h5.prototype.EQ=function(G,m){return new dw(0,0)};h5.prototype.e9=function(G,m){var A=this.atz,Q=this.arZ,H=this.wx,J=(G+m-42-42)/110;
J=Math.sqrt((G-42)*(m-42))/50;A.setAttribute("style","width:"+G/2+"px; height:"+m+"px; display:block; object-fit:cover;");
Q.setAttribute("style","width:"+(G/2-42)+"px; height:"+(m-42)+"px; padding:20px; font-size:"+J+"px;");
H.setAttribute("style","position:absolute;  bottom:10px; right:"+(G/2+10)+"px")};h5.prototype._=function(){};
h5.prototype.MZ=function(G,m,A,Q){this.atz.setAttribute("src","promo/ivan_pp.webp")};h5.qY="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function bL(){h4.call(this,[0,13,0],"account");this.s5=g.L("div","form scrollable");this.body.appendChild(this.s5);
this.body.style.padding="0";this.g6=[new bL.SF,new bL.fG("::privacy.html"),new bL.fG(bL.apz)];for(var $=0;
$<this.g6.length;$++)this.g6[$].parent=this;this.J("showpage",this.a5x,this)}bL.prototype=new h4;bL.prototype.e9=function(G,m){this.s5.setAttribute("style","width:"+Math.min(G-40,740)+"px;  height:"+(m-38)+"px;  padding:1.5em;");
this.g6[0].e9(G,m)};bL.prototype.EQ=function(G,m){return new dw(Math.max(0,Math.min(150,(G-740)/2)),Math.max(0,Math.min(100,(m-500)/2)))};
bL.prototype.a5x=function(G){g.iJ(this.s5);this.s5.scrollTop=0;this.s5.appendChild(this.g6[G.data.lW].m)};
bL.prototype._=function(){h4.prototype._.call(this);for(var $=0;$<this.g6.length;$++)this.g6[$]._()};
bL.prototype.MZ=function(G,m,A){g.iJ(this.s5);var Q=this.g6[0];this.s5.appendChild(Q.m);Q.MZ();this._()};
bL.prototype.a2=function(G,m){this.MZ(null,null,null)};bL.SF=function(){gB.call(this);this.m=g.L("div");
var G=this.m,O,a,R="font-size:1.25em;",p="text-align:center;",z="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",Z="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",W="style=\"width:50%; vertical-align:top; padding:10px 20px;\"";
this.gy=g.L("div");G.appendChild(this.gy);this.$q=new iL([0,11],!1,null,!0);this.$q.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.$q.J("click",this.Bs,this);G.appendChild(this.$q.m);this.oN=new iL([0,13,1],!1,null,!0);this.oN.J("click",this.ahw,this);
G.appendChild(this.oN.m);this.Fg=new iL("Business Terms",!1,null,!0);this.Fg.J("click",this.atQ,this);
G.appendChild(this.Fg.m);var m=g.L("div");m.style.margin="20px 0";G.appendChild(m);var A=["Account Types","Go Premium","Distributors"],Q=this.R4=[],H=this.a1d=[],J=this.Td=g.L("div");
G.appendChild(J);for(var $=0;$<A.length;$++){var b=g.L("span");b.textContent=A[$];m.appendChild(b);Q.push(b);
b.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
b.addEventListener("click",this.E6.bind(this));H.push(g.L("div"))}this.E6(0);var e=this.a5g="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
G=H[0];var a=g.L("table"),P="style=\" "+p+R+" padding-bottom:20px;\"";a.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+W+">\t\t\t\t\t<div "+P+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+Z+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+W+">\t\t\t\t\t<div "+P+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+Z+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+Z+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+Z+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
G.appendChild(a);var b=new iL("Go Premium");b.m.setAttribute("style",e+"padding:10px 0;");b.J("click",function(C){this.E6(1)},this);
a.children[0].children[1].children[1].appendChild(b.m);this.SN=g.L("div");G.appendChild(this.SN);G=H[1];
var T=this.abk=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.ZR=[];for(var $=0;$<T.length;$++)this.ZR.push(new iL("Buy: $"+T[$][0],!1,null,!0));for(var $=0;
$<this.ZR.length;$++){this.ZR[$].J("click",this.ahK,this)}this.fe=new iL("...",!0);this.fe.m.setAttribute("style",e);
G.appendChild(this.fe.m);a=this.asw(3,["Single user",this.ZR[0],this.ZR[1],this.ZR[2],"Team of 5",this.ZR[3],this.ZR[4],this.ZR[5],"Team of 20",this.ZR[6],this.ZR[7],this.ZR[8]]);
G.appendChild(a);this.a3Y=new aX("I accept",!0,"");G.appendChild(this.a3Y.m);this.l1=new iL([0,13,1],!1,null,!0);
this.l1.J("click",this.ahw,this);G.appendChild(this.l1.m);this.hC=new iL("I have a key",!1,null,!0);
this.hC.m.setAttribute("style",e+" float:right; width:inherit;");this.hC.J("click",this.ahK,this);G.appendChild(this.hC.m);
O=g.L("h2");O.textContent="Team Settings";G.appendChild(O);O.style.marginTop="40px";this.sq=new aX("Join a team");
G.appendChild(this.sq.m);this.sq.J(r.E.o,this.abc,this);this.NU=new h_("Email of a leader",null,14);
G.appendChild(this.NU.m);g.Qm(G);this.MM=new aX("Start a team");G.appendChild(this.MM.m);this.MM.J(r.E.o,this.abc,this);
var i=new gS("Emails of other members:");G.appendChild(i.m);g.Qm(G);this.KH=g.L("textarea");g.hl(this.KH);
this.KH.setAttribute("rows",3);this.KH.setAttribute("style","display:block;tab-size:4; width:100%");
G.appendChild(this.KH);var X=new iL("Save Team Settings",!1,null,!0);G.appendChild(X.m);X.J("click",this.aj$,this);
var U=this.a8q=new iL("More about Teams",!1,null,!0);G.appendChild(U.m);U.J("click",this.adx,this);G=H[2];
this.Ft=new iL("...",!0);this.Ft.m.setAttribute("style",e);G.appendChild(this.Ft.m);a=this.asw(3,["1000 views/mo",this.ZR[9],this.ZR[10],this.ZR[11],"5000 views/mo",this.ZR[12],this.ZR[13],this.ZR[14],"20000 views/mo",this.ZR[15],this.ZR[16],this.ZR[17]]);
G.appendChild(a);var M=g.L("p");M.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
G.appendChild(M);this.Vr=new h_("Domain name (e.g. domain.com)",null,14);G.appendChild(this.Vr.m);var X=new iL("Save Domain Settings",!1,null,!0);
X.dt();G.appendChild(X.m);X.J("click",this.a8r,this)};bL.SF.prototype=new gB;bL.SF.prototype.E6=function(G){var m=typeof G=="number"?G:this.R4.indexOf(G.target);
for(var $=0;$<3;$++)this.R4[$].style.opacity=.6;this.R4[m].style.opacity=1;g.iJ(this.Td);this.Td.appendChild(this.a1d[m])};
bL.SF.prototype.e9=function(G,m){var A=G<600?"d":" days",Q=this.abk;for(var $=0;$<Q.length;$++){this.ZR[$].ym("<span>"+[30,90,365][$%3]+A+": <sup>$</sup><big><b>"+Q[$][0]+"</b></big>"+"</span>");
this.ZR[$].m.setAttribute("style",this.a5g)}};bL.SF.prototype.ahw=function(G){var m=new j8("showpage",!0);
m.data={lW:1};this.u(m)};bL.SF.prototype.atQ=function(G){var m=new j8("showpage",!0);m.data={lW:2};this.u(m)};
bL.SF.prototype._=function(){this.$q.ym(fi.Ck()?f5.get([0,11]):f5.get([0,10]));this.l1._();this.oN._();
this.Fg._()};bL.SF.prototype.adx=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.ZW,link:"https://www.photopea.com/api/accounts#"+(G.target==this.a8q?"teams":"distributors")};
this.u(m)};bL.SF.prototype.abc=function(G){var m=G.currentTarget==this.sq;this.sq.f(m);this.MM.f(!m)};
bL.SF.prototype.aj$=function(G){var m=this.sq.B(),A=this.NU.B().trim().toLowerCase(),Q=this.KH.value.trim().toLowerCase();
if(A.length>60){alert("Too long email address");return}if(Q.length>600){alert("Too many team members");
return}Q=Q.split(",").join(" ").trim();Q=Q.replace(/\s+/g," ");if(Q=="")Q=[];else Q=Q.split(" ");var H=fi.ob();
if(H==null)H={};if(H.acc==null)H.acc={};H.acc.team={jin:m,ldr:A,mmb:Q};fi.NT(H,this.bv.bind(this));alert("Saved!");
this.MZ()};bL.SF.prototype.a8r=function(G){var m=this.Vr.B().trim();if(!fi.Ck()){alert("You have to log in first.");
return}if(fi.pW().distrib=="0"){alert("Order a distributor account first.");return}var A=fi.ob();if(A==null)A={};
if(A.acc==null)A.acc={};if(m=="")delete A.acc.dname;else A.acc.dname=m;fi.NT(A,this.bv.bind(this));alert("Saved!");
this.MZ()};bL.SF.prototype.aeH=function(G){var m=fi.pW(),$=this.z4,A=fi.ob();A.acc.bto=G;fi.NT(A,function(){});
var Q=bL.aaH(G.split("\n"),m.pmnts[$]);gX.save(Q,"photopea_invoice.pdf")};bL.SF.prototype.aap=function(G){var m=fi.pW(),A=fi.ob(),Q=A.acc.bto;
if(Q==null)Q=m.name+"\n"+m.email;var $=-1,H=G.target.m.parentNode;while((H=H.previousSibling)!=null)$++;
this.z4=$;var J=new j8(r.E.W,!0);J.data={d:r.S.XG,Ue:"billto",Ge:Q,ns:this.aeH.bind(this)};this.u(J)};
bL.SF.prototype.MZ=function(){if(fi.Ck()){var G=fi.pW(),m=G.pmnts;if(G==null)return;this.gy.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+G.name+"</span> "+G.email+" <br/>";
g.iJ(this.SN);if(m){var A="<h2>Payments</h2>";for(var $=0;$<m.length;$++){var Q=m[$],H=new Date(Q[0]*1e3);
A+="<div style=\"font-size:1.2em\">"+H.getDate()+". "+(H.getMonth()+1)+". "+H.getFullYear()+" - "+bL.a5N(Q)+"</div>"}this.SN.innerHTML=A;
for(var $=0;$<m.length;$++){var J=new iL("Get Invoice",!1,null,!0);J.m.setAttribute("style","float:right");
J.J("click",this.aap,this);this.SN.children[$+1].appendChild(J.m)}}}else{}var b=fi.Ck()&&fi.ZZ();this.fe.m.style.display=b?"block":"none";
if(b){var O=parseInt(G[g.Xh("_^NSLUJ")])-Date.now()*(1/1e3),a=parseInt(G.ptype),e;if(a==-1)e="member of a team";
else if(a==1)e="Single user";else e="Team of "+a;this.fe.ym("Premium active for "+Math.round(O/(60*60*24))+" more days! ("+e+")")}var R=fi.Ck()&&G.distrib*1e3>Date.now();
this.Ft.m.style.display=R?"block":"none";if(R){var O=parseInt(G.distrib)-Date.now()/1e3,a=parseInt(G.ptype);
this.Ft.ym("Distributor active for "+Math.round(O/(60*60*24))+" more days! ("+a+" visitos)")}var p=fi.ob();
if(p&&p.acc&&p.acc.team){var P=p.acc.team;this.sq.f(P.jin);this.MM.f(!P.jin);this.NU.f(P.ldr);this.KH.value=P.mmb.join(", ")}else{this.sq.f(!0);
this.MM.f(!1);this.NU.f("");this.KH.value=""}if(p&&p.acc&&p.acc.dname)this.Vr.f(p.acc.dname);else this.Vr.f("")};
bL.SF.prototype.asw=function(G,m){var A=g.L("table");if(!1){A.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> <th>365 days</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var $=0;$<m.length;$+=G+1){var Q=g.L("tr"),H;A.appendChild(Q);H=g.L("td","left");Q.appendChild(H);
H.innerHTML=m[$]+":";for(var J=0;J<G;J++){H=g.L("td");Q.appendChild(H);H.appendChild(m[$+1+J].m)}}}else{A.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th>"+m[0]+"</th><th>"+m[4]+"</th> <th>"+m[8]+"</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var $=0;$<3;$++){var Q=g.L("tr"),H;A.appendChild(Q);for(var J=0;J<G;J++){H=g.L("td");H.style.width="33%";
Q.appendChild(H);H.appendChild(m[J*4+1+$].m)}}}return A};bL.SF.prototype.ahK=function(G){var m=this.ZR.indexOf(G.currentTarget),Q=30,H=1;
if(!fi.Ck()){alert("You must log in before buying Premium");return}if(this.a3Y.B()==!1&&m<9){alert("You must accept Terms of Service");
return}var A=fi.Ck()&&fi.ZZ();if(m!=-1){var J=this.abk[m];Q=J[1];H=J[2]}if(A&&H<1e3){alert("You already have premium.");
return}if(m==-1){var b=prompt("Please enter your key");if(b!=null){fi.abp(b,this.bv.bind(this));this.Pa()}return}if(Q==30&&H==1){var O=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!O)return}fi.order(Q,H,this.bv.bind(this));this.Pa()};bL.SF.prototype.bv=function(G){if(fi.Ck()&&fi.pW().msg)alert(fi.pW().msg);
this.MZ();this.Pa()};bL.SF.prototype.Bs=function(G){if(fi.Ck()){fi.VE();this.Pa();this.MZ(null,null,null)}else fi.Bs(this.aoB.bind(this))};
bL.SF.prototype.aoB=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.a3i};this.u(G)};bL.SF.prototype.Pa=function(){var G=new j8(r.E.W,!0);
G.data={d:r.S.aah};this.u(G)};bL.fG=function(G){gB.call(this);this.m=g.L("div");var m=this.m,A=this.ar4=new iL([0,13,2],!1,null,!0),Q;
A.J("click",this.akU,this);m.appendChild(A.m);if(G.startsWith("::")){Q=g.L("iframe");Q.setAttribute("style","width:100%;height:1700px; background-color:white;");
Q.setAttribute("src",G.slice(2))}else{Q=g.L("div");Q.innerHTML=G}m.appendChild(Q)};bL.fG.prototype=new gB;
bL.fG.prototype.akU=function(G){var m=new j8("showpage",!0);m.data={lW:0};this.u(m)};bL.fG.prototype._=function(){this.ar4._()};
bL.apz="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
bL.a5N=function(G){return"Photopea "+(G[1]<1e3?"Premium":"Distributor")+" ("+G[1]+" days, "+G[2]+" user"+(G[2]==1?"":"s")+")"};
bL.aaH=function(G,m){G=["Bill To:"].concat(G);var A=new ToPDF,Q=595,H=842,J=40,b=18,O=12,a=500,e=100,R=400,W=0;
function p(y,Y,F,w,j){z.font.Tf=j?"Helvetica-Bold":"Helvetica";z.ctm=[1,0,0,1,Y,F];z.font.Tfs=w?w:O;
A.PutText(z,y,0)}function P(y,Y,F,w){for(var $=0;$<y.length;$++){p(y[$],Y,F-$*w,null,$==0)}}var z=UDOC.getState();
A.StartPage(0,0,Q,H);p("INVOICE",Q-J-140,H-J-30,30,!0);P(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],J,H-J-40,b);
var Z=new Date(m[0]*1e3);P(["Date: "+Z.getDate()+". "+(Z.getMonth()+1)+". "+Z.getFullYear(),"Transaction ID: "+m[4]],Q-J-140,H-J-40-b*2,b);
var T=G.join("");for(var $=0;$<T.length;$++)W=Math.max(W,T.charCodeAt($));if(W>256){var i=4,X=g.L("canvas"),U=X.getContext("2d"),M=0;
U.font=O*i+"px sans-serif";for(var $=0;$<G.length;$++)M=Math.max(M,U.measureText(G[$]).width);var C=Math.round(M)+20,x=G.length*i*b+20;
X.width=C;X.height=x;U.font=O*i+"px sans-serif";for(var $=0;$<G.length;$++){U.font=($==0?"bold ":"")+O*i+"px sans-serif";
U.fillText(G[$],10,($+1)*i*b)}document.body.appendChild(X);var L=new Uint8Array(U.getImageData(0,0,C,x).data.buffer);
z.ctm=[C/i,0,0,x/i,J-10/i,H-J-40-100-x/i];A.PutImage(z,L,C,x);z.ctm=[1,0,0,1,0,0]}else P(G,J,H-J-40-100,b);
z.colr=[.8,.8,.8];z.pth={cmds:["M","L","L","L","Z"],crds:[J,a,Q-J,a,Q-J,a-b,J,a-b]};A.Fill(z);z.colr=[0,0,0];
var E=[J,a,Q-J,a,J,a-b,Q-J,a-b,J,a-e,Q-J,a-e,J,a,J,a-e,Q-J,a,Q-J,a-e,R,a,R,a-e],l=[];for(var $=0;$<E.length;
$+=4)l.push("M","L");z.pth={cmds:l,crds:E};A.Stroke(z);p("Order details",J+4,a-14);p(bL.a5N(m),J+4,a-b-14);
p("TOTAL:",J+4,a-e-14,null,!0);p("Price",Q-J-50,a-14);p(m[3]+" USD",Q-J-60,a-b-14);p(m[3]+" USD",Q-J-60,a-e-14,null,!0);
p("www.Photopea.com",J,J);p("support@photopea.com",Q-J-130,J);A.ShowPage();A.Done();return A.buffer};
function iO(){h4.call(this,[11,14],"addguides");this.YB;this.dj={bt:{ww:0}};this._b=null;var G=g.L("div","form");
this.body.appendChild(G);this.P$=new h_([22,4,0],null,16);this.P$.J(r.E.o,this.b1,this);this.rp=new h_([22,4,1],null,16);
this.rp.J(r.E.o,this.b1,this);this.bB=new iV(null,N.Kj.xy);this.bB.J(r.E.o,this.b1,this);G.appendChild(this.P$.m);
G.appendChild(this.bB.m);g.Qm(G);G.appendChild(this.rp.m);this.US=g.lU(this,G);this.J("closebtn",this.amb,this)}iO.prototype=new h4;
iO.prototype.FW=function(G,m){return G!=null};iO.prototype.I3=function(){return!0};iO.prototype._=function(){h4.prototype._.call(this);
this.P$._();this.rp._();this.bB._();this.US._()};iO.prototype.a2=function(G,m){var A=G.bt.ww;this.dj.bt.ww=A;
this.bB.f(A)};iO.prototype.MZ=function(G,m){this.YB=G;this._b=JSON.stringify(G.G1());this.RW()};iO.prototype.RW=function(){var G=this.YB,m=G.Ld,A=function(Q,H,G,J,b){var O=[];
for(var $=0;$<Q.length;$++)if(Q[$][0]==H)O.push(N.Kj.DO(Q[$][1],G.SV,J,b));O.sort(function(a,e){return a-e});
return O.join(", ")};this.P$.f(A(m,0,G,this.dj,G.e));this.rp.f(A(m,1,G,this.dj,G.n))};iO.prototype.b1=function(G){if(G&&G.currentTarget==this.bB)this.dj.bt.ww=this.bB.B();
else{var m=this.aqk(),A=this.YB;A.Qr(m);A.Iy=!0}this.RW()};iO.prototype.aqk=function(){var G=[],m=[];
for(var A=0;A<2;A++){var Q=A==0?this.P$:this.rp,H=A==0?this.YB.e:this.YB.n,J=Q.B().replace(/,/g," ").replace(/  +/g," ").trim(),b=J==""?[]:J.split(" ");
for(var $=0;$<b.length;$++){G.push([A,N.Kj.arY(b[$],this.YB.SV,this.dj,H)]);m.push(-1)}}return[G,m]};
iO.prototype.amb=function(G){var m=this.YB;m.Qr(JSON.parse(this._b));m.Iy=!0;this.YB=null};iO.prototype.Q7=function(G){this.b1(G);
var m=new j8(r.E.w,!0);m.b=f.ld;m.data={d:"gids",C$:JSON.parse(this._b),GB:this.YB.G1()};this.YB=null;
this.close();this.u(m)};function gR(G){var m=bH.names[G];if(m==null)m=hE.names[G];if(G=="aply")m=[2,12];
if(G=="fade")m=[2,11];if(G=="matc")m=[4,18];if(G=="blendOptions")m=[14,10];h4.call(this,m,"afw_"+G);
this.QK=G;this.P5=null;this.X2=null;this.IU=new n[G];this.IU.J(r.E.o,this.K3,this);this.IU.parent=this;
this.body.appendChild(this.IU.m);this.fu=new aX([24,18,5]);this.fu.f(!0);this.fu.J(r.E.o,this.K3,this);
this.b_=new iL([1,12,2],!0,null,!0);this.b_.J("click",this.$k,this);this.US=g.lU(this);if(this.gz())this.IU.es(this.US.m);
else{g.kG(this.IU.m,"form");g.kG(this.body,"flexrow");this.IU.m.setAttribute("style","width:312px");
var A=g.L("div");this.body.appendChild(A);A.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
A.appendChild(this.US.m);A.appendChild(this.b_.m);A.appendChild(this.fu.m)}this.J("closebtn",this.jO,this)}gR.prototype=new h4;
gR.prototype.I3=function(){return!0};gR.prototype.gz=function(){return this.IU!=null&&this.IU.qC()};
gR.prototype.EQ=function(){return this.gz()?new dw(0,0):h4.prototype.EQ()};gR.prototype.b2=function(){return this.IU.b2()};
gR.prototype.gr=function(G,m,A,Q,H){this.IU.gr(G,m,A,Q,H)};gR.prototype.Nr=function(G,m,A,Q,H){this.IU.Nr(G,m,A,Q,H)};
gR.prototype.gE=function(G,m,A,Q,H){this.IU.gE(G,m,A,Q,H)};gR.prototype.FW=function(G,m){if(this.QK=="fade")return gR.a29(G);
return!0};gR.prototype.$k=function(G){this.IU.f(bH.wZ(this.QK));this.K3()};gR.prototype.K3=function(G){this.Qq({d:"edit",ok:this.IU.B(),CD:!this.fu.B()})};
gR.prototype.jO=function(G){this.Qq({d:"cancel"})};gR.prototype.Q7=function(G){if(!this.fu.B()){this.fu.f(!0);
this.K3()}this.X2=this.IU.B();if(this.gz())this.K3();this.Qq({d:"confirm"});this.close()};gR.prototype._=function(){h4.prototype._.call(this);
this.fu._();if(this.IU)this.IU._();this.US._()};gR.prototype.a2=function(G,m){if(this.IU)this.IU.a2(G,m)};
gR.prototype.KY=function(G,m,A,Q){if(this.gz())this.IU.KY(Q);else h4.prototype.KY.call(this,G,m,A,Q)};
gR.prototype.MZ=function(G,m,A,Q){this.P5=m.P5;var H=G.add.lnk2?G.add.lnk2:[],J,b,O=new f_(0,0,G.e,G.n),a=G.g[G.c[0]],e=null;
J=a.buffer;b=a.rect;if(this.gz())e=G.$s(G.c[0]-1);var R=bH.wZ(this.QK),p=[H,G.Hv,G,A];if(m.P5==null){this.IU.f(R,J,b,O,e,p);
if(hE.names[this.QK]){if(Q.j(a5.Ei)&&this.X2)this.IU.f(this.X2);var P=f.qX.getData(G),z=N.de(P[0].Uq);
this.IU.Ie(z)}}else{var Z=!1,a=G.g[this.P5.i];if(a.Ct()){var W=a.mv(G);J=W.buffer;b=W.rect;var T=a.add.SoLd.filterFX.v.filterFXList.v;
if(T[this.P5.index]){var i=T[this.P5.index].v;this.IU.f(this.QK=="blendOptions"?i.blendOptions.v:i.Fltr.v,J,b,O,e,p);
this.IU.Ie(N.de(J));Z=!0}}if(!Z){this.IU.f(R,J,b,O,e,p);this.IU.Ie(N.de(J))}}if(!this.gz())this.K3()};
gR.prototype.Qq=function(G){var m=new j8(r.E.w,!0);G.QK=this.QK;G.P5=this.P5;m.data=G;m.b=bH.names[this.QK]||this.P5?f.Jb:f.wJ;
m._v=!0;this.u(m)};gR.prototype.e9=function(G,m){if(!this.IU.qC()){}else{this.body.style.padding="0";
this.IU.e9(G,m)}};gR.a29=function(G){if(G==null)return!1;var m=G.eL();if(m==null||!(m.data instanceof Array)||m.data.length!=G.c.length)return!1;
for(var $=0;$<m.data.length;$++){var A=m.data[$];if(A.i<0&&G.Hv[-1-A.i])return!0;if(A.i==null||G.g[A.i]==null||G.g[A.i].Sm!=A.OI)return!1;
if(G.c.indexOf(A.i)==-1)return!1}return!0};function jK(){h4.call(this,[11,0],"camera");this.data=null;
this.Mp=new dw(1,1);this.a1Y=[];var G=g.L("div","form hbar");this.body.appendChild(G);this.aeB=new iV(null,[]);
this.cR=new iV([21,0],[[21,2],[21,1]]);G.appendChild(this.cR.m);this.pj=new iV(null,[]);this.pj.J(r.E.o,this.asD,this);
G.appendChild(this.pj.m);this.td=new iL([11,0],!1,null,!0);this.td.J("click",this.alH,this);G.appendChild(this.td.m);
this.ZU=new gS("");G.appendChild(this.ZU.m);this.stream=null;this.L_=g.L("video","");this.L_.setAttribute("autoplay","true");
this.body.appendChild(this.L_);this.adz=this.alJ.bind(this);this.ahr=this.ag3.bind(this);this.as_=this.aph.bind(this);
this.J("closebtn",this.acq,this)}jK.prototype=new h4;jK.prototype._=function(){h4.prototype._.call(this);
this.cR._();this.td._();this.e9(this.zp,this.V7)};jK.prototype.$s=function(){var G=this.L_.videoWidth,m=this.L_.videoHeight,A=g.L("canvas","");
A.width=G;A.height=m;var Q=A.getContext("2d");Q.drawImage(this.L_,0,0,G,m);var H=Q.getImageData(0,0,G,m);
return{NS:new f_(0,0,G,m),data:H.data.buffer}};jK.prototype.alH=function(G){if(this.cR.B()==0)this.a4a();
else this.a8V()};jK.prototype.a8V=function(){var G=this.$s(),m={buffer:new Uint8Array(G.data),rect:G.NS},A=new j8(r.E.w,!0);
A._v=!0;A.b=f.p4;A.data={d:c.s_,UU:m};this.u(A);alert(f5.get([21,4]))};jK.prototype.a4a=function(){var G=this.$s(),m=dt.SQ("camera",[G]),A=new j8(r.E.W,!0);
A.data={d:r.S.fP,EY:m};this.u(A);alert(f5.get([21,5]))};jK.prototype.MZ=function(G,m,A){navigator.mediaDevices.enumerateDevices().then(this.adR.bind(this))};
jK.prototype.adR=function(G){var m=this.a1Y=[],A=[];for(var $=0;$<G.length;$++)if(G[$].kind=="videoinput"){m.push(G[$]);
A.push("Camera "+m.length)}this.pj.fd(A);this.pj.f(0);this.asD()};jK.prototype.asD=function(G){this.acq();
var m={video:{deviceId:this.a1Y[this.pj.B()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(m).then(this.adz).catch(this.ahr);
else navigator.webkitGetUserMedia(m,this.adz,this.ahr)};jK.prototype.alJ=function(G){this.stream=G;this.L_.srcObject=G;
this.L_.addEventListener("loadedmetadata",this.as_,!1)};jK.prototype.aph=function(G){this.L_.play();
this.e9(this.zp,this.V7)};jK.prototype.EQ=function(G,m){return new dw(0,0)};jK.prototype.e9=function(G,m){var A=this.L_.videoWidth,Q=this.L_.videoHeight;
this.ZU.f(A+" x "+Q+" px");this.ZU.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Mp.QU(A,Q);this.zp=G;this.V7=m;var H=G-28,J=m-28-30,b=this.Mp.x/this.Mp.y;if(H/J>b)H=J*b;else J=H/b;
this.L_.setAttribute("style","display: block; width: "+Math.round(H)+"px; height:"+Math.round(J)+"px;")};
jK.prototype.ag3=function(G){console.log("error",G);alert(f5.get([21,6]));this.close()};jK.prototype.acq=function(G){if(this.stream!=null){var m=this.stream.getTracks();
for(var $=0;$<m.length;$++)m[$].stop();this.stream=null}};function au(){h4.call(this,[7,8],"crange");
this.YB=null;this.gg={QC:73,Uj:4.45,h:4};this.Ce={QC:73,Uj:4.45,h:4};this.body.style.width="20em";this.wu=new iV([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.wu.J(r.E.o,this.an3,this);this.body.appendChild(this.wu.m);this.qY=g.L("div","form");this.body.appendChild(this.qY);
var G=this.at0=2,m=this.qm=[new bo([12,92],0,200),new ai([12,36],[[18,0],"\uFF0B","\u2014"]),new bo([12,92],0,100,"%"),new hz("Min",0,255),new hz("Max",0,255)];
m[0].f(40);m[G].f(40);for(var $=0;$<m.length;$++){m[$].J(r.E.o,this.Lc,this);m[$].parent=this}this.O=g.L("canvas");
this.body.appendChild(this.O);this.US=g.lU(this,this.body)}au.prototype=new h4;au.prototype.FW=function(G,m){return G!=null};
au.prototype.b2=function(){return!0};au.prototype.I3=function(){return!0};au.prototype.an3=function(G){var m=this.wu.B(),A=this.qm,Q=this.qY,H=0,J=A.length,b=this.at0;
if(m==0)J=b;else{H=b;A[H+1].f([0,100,190][m-1]);A[H+1].bD(m!=1);A[H+2].f([60,150,255][m-1]);A[H+2].bD(m!=3)}g.iJ(Q);
for(var $=H;$<J;$++){Q.appendChild(A[$].m)}this.Lc()};au.prototype._=function(){h4.prototype._.call(this);
this.US._();this.wu._();for(var $=0;$<this.qm.length;$++)this.qm[$]._()};au.prototype.gr=function(G,m,A,Q,H){var J=G.t.fY(H.x,H.y);
this.aaU(J.x,J.y)};au.prototype.aaU=function(G,m){var A=Math.min,Q=Math.max,H=this.YB,J=Q(0,A(H.e-1,Math.floor(G))),b=Q(0,A(H.n-1,Math.floor(m))),O=H.$s(),a=(b*H.e+J)*4,e=O[a],R=O[a+1],p=O[a+2],P=N.Nw(e,R,p),z=this.qm[1].B(),Z=this.gg,W=this.Ce;
if(z==0){this.gg=JSON.parse(JSON.stringify(P));this.Ce=P}else if(z==1){Z.QC=A(Z.QC,P.QC);Z.Uj=A(Z.Uj,P.Uj);
Z.h=A(Z.h,P.h);W.QC=Q(W.QC,P.QC);W.Uj=Q(W.Uj,P.Uj);W.h=Q(W.h,P.h)}else if(z==2){var T=(Z.QC+W.QC)/2,i=(Z.Uj+W.Uj)/2,X=(Z.h+W.h)/2;
if(P.QC<T)Z.QC=Q(Z.QC,P.QC+10);else W.QC=A(W.QC,P.QC-10);if(P.Uj<i)Z.Uj=Q(Z.Uj,P.Uj+1);else W.Uj=A(W.Uj,P.Uj-1);
if(P.h<X)Z.h=Q(Z.h,P.h+1);else W.h=A(W.h,P.h-1)}this.Lc()};au.prototype.Q7=function(G){var m=this.wu.B(),A=this.qm,Q={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(m==0){var H=this.gg,J=this.Ce;Q.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:H.QC},A:{t:"doub",v:H.Uj},B:{t:"doub",v:H.h}}};
Q.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:J.QC},A:{t:"doub",v:J.Uj},B:{t:"doub",v:J.h}}};Q.Fzns={t:"long",v:A[0].B()}}else{m--;
var b=["shadows","midtones","highlights"][m];Q.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][m]}};if(0<m)Q[b+"LowerLimit"]={t:"long",v:A[3].B()};
if(m<2)Q[b+"UpperLimit"]={t:"long",v:A[4].B()};Q[b+"Fuzziness"]={t:"long",v:A[2].B()}}this.close();var O=new j8(r.E.NH,!0);
O.data={YI:"colorRange",aL:Q};this.u(O)};au.prototype.MZ=function(G,m){this.YB=G;this.aaU(0,0);this.an3()};
au.prototype.Lc=function(){var G=this.YB,m=this.wu.B(),A=this.gg,Q=this.Ce,H=this.qm,J=H[0].B()/200,b=!1;
if(m>0){A=H[3].B();Q=H[4].B();if(A>=Q)A=Q-1;b=!0;J=H[2].B()/100}var O=f.iK.bm(G,A,Q,J,b),a=O.rect,e=O.channel,R=this.O,p=R.getContext("2d"),P=Math.floor(230*g.G()),z=Math.floor(P*(a.n/a.e));
R.width=P;R.height=z;g.AX(R,P,z);var Z=N.$(e.length*4);N.w8(Z,4294967295);for(var $=0;$<3;$++)N.I5(e,Z,$);
var W=f.Q.fK([Z,a],new ci(P/a.e,0,0,z/a.n,0,0)),T=W.rect,i=new ImageData(new Uint8ClampedArray(W.buffer.buffer),T.e,T.n);
p.putImageData(i,0,0)};function bX(){h4.call(this,[12,76,1],"createshape");this.B1=null;var G=g.L("div","form");
G.setAttribute("style","width:20em");this.body.appendChild(G);this.Ly=new hz([12,41],0,0,null,0,!1,!0);
G.appendChild(this.Ly.m);g.Qm(G);this.P$=new hz([12,42],0,0,null,0,!1,!0);G.appendChild(this.P$.m);g.Qm(G);
this.MW=new aX([19,5,3]);G.appendChild(this.MW.m);this.Ly.f(100);this.P$.f(100);this.US=g.lU(this,G)}bX.prototype=new h4;
bX.prototype.Q7=function(G){this.B1.acz(this.B1.amM,this.Ly.B(),this.P$.B(),this.MW.B());this.close()};
bX.prototype._=function(){if(this.B1)this.k3=f5.get([5,3])+": "+f5.get(this.B1.amr);h4.prototype._.call(this);
this.US._();this.Ly._();this.P$._();this.MW._()};bX.prototype.MZ=function(G,m){this.B1=m;this._()};function gi(){h4.call(this,[11,1],"colorpicker");
this.eG=null;this.Fz=null;this.a$=null;this.jZ=!1;this.Bl=!1;var G=g.L("div","flexrow"),J,b;this.body.appendChild(G);
this.DU=new by(256);this.DU.J(r.E.o,this.xH,this);G.appendChild(this.DU.m);var m=g.L("div","form");m.setAttribute("style","width:14.5em; margin-left:1em;");
G.appendChild(m);this.arp=g.L("div","full");m.appendChild(this.arp);this.aof=g.L("div","full");m.appendChild(this.aof);
var A=g.L("div","flexrow");m.appendChild(A);var Q=g.L("div"),H=g.L("div");A.appendChild(Q);A.appendChild(H);
J=["R","G","B"];b=Q;this.KT=[];for(var $=0;$<3;$++){var O=new hz(J[$]+":",0,255,null,0,!1,!0);this.KT.push(O);
O.J(r.E.o,this.ab1,this);b.appendChild(O.m)}J=["H","S","B"];b=H;this.el=[];for(var $=0;$<3;$++){var a=0,e=360,R="\xB0";
if($!=0){e=100;R="%"}var O=new hz(J[$]+":",a,e,R,0,!1,!0);this.el.push(O);O.J(r.E.o,this.au1,this);b.appendChild(O.m)}this.P$=new h_("Hex",null,6);
this.P$.J(r.E.o,this.oa,this);m.appendChild(this.P$.m);this.lQ=g.L("input","fitem");this.lQ.setAttribute("type","color");
this.lQ.setAttribute("style","width:50px");this.lQ.addEventListener("change",this.oa.bind(this),!1);
m.appendChild(this.lQ);this.nI=new bj(9);this.nI.J(r.E.o,this.oa,this);m.appendChild(this.nI.m);this.US=g.lU(this,m);
this.J("closebtn",this.jO,this);this.dq=!1}gi.prototype=new h4;gi.prototype.b2=function(){return!0};
gi.prototype.EQ=function(G,m){return new dw(Math.max(0,Math.min(150,(G-484)/2)),Math.max(0,Math.min(150,(m-316)/2)))};
gi.prototype.e9=function(G,m){this.DU.e9(Math.min(256,G-226),m)};gi.prototype._=function(G,m){h4.prototype._.call(this);
this.US._()};gi.prototype.xH=function(G){this.Fz=this.DU.B();this.update()};gi.prototype.gr=function(G,m,A,Q,H){this.dq=!0;
this.aj5(G,H)};gi.prototype.Nr=function(G,m,A,Q,H){if(!this.dq)return;this.aj5(G,H)};gi.prototype.gE=function(G,m,A,Q,H){this.dq=!1};
gi.prototype.aj5=function(G,m){var A=f.G$.EK(G,m,1),Q=A&255,H=A>>8&255,J=A>>16&255;this.Fz={p:J/255,z:H/255,h:Q/255};
this.update()};gi.prototype.ab1=function(G){var m=this.KT,A=this.BX(parseInt(m[0].B())),Q=this.BX(parseInt(m[1].B())),H=this.BX(parseInt(m[2].B()));
this.Fz={p:A/255,z:Q/255,h:H/255};this.update()};gi.prototype.au1=function(G){var m=this.el,A=this.ad(parseInt(m[0].B())/360),Q=this.ad(parseInt(m[1].B())/100),H=this.ad(parseInt(m[2].B())/100);
this.Fz=N.JY(A,Q,H);this.update()};gi.prototype.oa=function(G){var m;if(G.currentTarget==this.nI)m=this.nI.B();
else{m=G.currentTarget==this.P$?this.P$.B():this.lQ.value;if(m.charAt(0)=="#")m=m.slice(1);if(m.length==3)m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2];
m=N.BI(m)}this.Fz={p:(m>>16&255)/255,z:(m>>8&255)/255,h:(m&255)/255};this.update()};gi.prototype.eb=function(G){var m=G.p,A=G.z,Q=G.h;
return Math.round(m*255)<<16|Math.round(A*255)<<8|Math.round(Q*255)};gi.prototype.Q7=function(G){this.a3G();
var m=this.eb(this.Fz);this.a$(m);this.close();this.Bl=!1;this.Fz=null};gi.prototype.jO=function(G){this.a3G();
if(this.jZ)this.a$(this.eb(this.eG));this.Bl=!1;this.Fz=null};gi.prototype.a3G=function(G){var m=new j8(r.E.W,!0);
m.data={d:r.S.acw};this.u(m)};gi.prototype.a2=function(G,m){if(m!=dG.bu)return;var A=G.yu;this.nI.f(A);
if(this.Fz!=null){this.Fz={p:(A>>16&255)/255,z:(A>>8&255)/255,h:(A>>0&255)/255};this.update()}};gi.prototype.MZ=function(G,m){var A=m.zG,Q={p:(A>>16&255)/255,z:(A>>8&255)/255,h:(A>>0&255)/255};
if(this.Fz==null){var H=new j8(r.E.W,!0);H.data={d:r.S.Cv,Ry:"crosshair",push:!0};this.u(H);this.dq=!1;
this.a$=m.b5;this.jZ=!1;this.Bl=m.If;this.eG=JSON.parse(JSON.stringify(Q));this.aof.setAttribute("style","height:3em;background-color:#"+N.as(A)+";")}this.Fz=Q;
this.update()};gi.prototype.update=function(){var G=this.Fz,m=this.eb(G),A=this.KT;A[0].f(Math.round(G.p*255));
A[1].f(Math.round(G.z*255));A[2].f(Math.round(G.h*255));this.P$.f(N.as(m));this.lQ.value="#"+N.as(m);
this.arp.setAttribute("style","height:3em;background-color:#"+N.as(m)+";");var Q=N.ID(G.p,G.z,G.h);A=this.el;
A[0].f(Math.round(Q.V7*360));A[1].f(Math.round(Q.H6*100));A[2].f(Math.round(Q.ok*100));this.DU.f(G);
if(this.Bl){this.a$(this.eb(this.Fz));this.jZ=!0}};gi.prototype.BX=function(G){return Math.max(0,Math.min(255,G))};
gi.prototype.ad=function(G){return Math.max(0,Math.min(1,G))};function df(){h4.call(this,[11,2],"contoureditor");
this.a9U=null;this.Hq=null;this.response=null;this.Jl=g.L("div","cell");this.body.appendChild(this.Jl);
this.Wi=g.L("div","cell padded");this.body.appendChild(this.Wi);var G=g.L("div","bordered padded vmargin");
this.Jl.appendChild(G);this.IU=new gZ(null,null,!0);this.IU.J(r.E.o,this.B8,this);G.appendChild(this.IU.m);
this.US=g.lU(this,this.Wi);this.J("closebtn",this.zx,this)}df.prototype=new h4;df.prototype.Q7=function(){this.close()};
df.prototype._=function(){h4.prototype._.call(this);this.US._();this.IU._()};df.prototype.B8=function(G){this.Hq.Crv.v=this.IU.B();
this.response(this.Hq)};df.prototype.zx=function(G){this.response(this.a9U)};df.prototype.MZ=function(G,m){this.a9U=JSON.parse(JSON.stringify(m.Td));
this.Hq=m.Td;this.response=m.response;this.IU.f(this.Hq.Crv.v)};function jy(){h4.call(this,[11,3],"csize");
this.Rg=0;this.s5=g.L("div","form");this.s5.setAttribute("style","width:22em");this.body.appendChild(this.s5);
this.hT=new br(!0,!0,!0,!0,!0);this.hT.apc(!1);this.s5.appendChild(this.hT.m);this.DX=new ai("Align with",[[8,7],[12,6]]);
this.DX.J(r.E.o,this.a4$,this);this.jF=new h9([12,23,2],41);this.s5.appendChild(this.jF.m);this.jF.f(4);
this.Iz=new dY(!1);this.Iz.apR(new dw(0,0));this.US=g.lU(this,this.body)}jy.prototype=new h4;jy.prototype.FW=function(G,m){return G!=null};
jy.prototype.I3=function(){return!0};jy.prototype.DV=function(G){return[a5.e5,a5.fB,a5.kd,a5.cX].indexOf(G)!=-1};
jy.prototype.KY=function(G,m,A,Q){this.jF.afo(Q.Ui())};jy.prototype.a4$=function(){var G=[this.jF.m,this.Iz.m];
this.s5.removeChild(G[this.Rg]);this.Rg=this.DX.B();this.s5.appendChild(G[this.Rg])};jy.prototype._=function(){h4.prototype._.call(this);
this.hT._();this.DX._();this.jF._();this.Iz._();this.US._()};jy.prototype.Q7=function(G){var m=this.hT.B(),A=m.x,Q=m.y,H=new j8(r.E.NH,!0);
H.data=f.MB.Mi(A,Q,this.jF.B());this.close();this.u(H)};jy.prototype.MZ=function(G,m){this.hT.f(new dw(G.e,G.n),G.SV);
this.hT.UQ()};function d0(){h4.call(this,[11,4],"duplinto");this.xv=null;this.Sk=null;this.Sg=null;var G=g.L("div","form");
G.setAttribute("style","max-width:26em");this.body.appendChild(G);this.rL=new iV([12,43],["abc","def"]);
this.rL.J(r.E.o,this.Nz,this);G.appendChild(this.rL.m);g.Qm(G);this.RK=new iV("Artboard",["abc","def"]);
this.RK.J(r.E.o,this.Nz,this);G.appendChild(this.RK.m);g.Qm(G);this.S$=new h_([12,48],null,14);G.appendChild(this.S$.m);
this.US=g.lU(this,G)}d0.prototype=new h4;d0.prototype.I3=function(){return!0};d0.prototype._=function(){h4.prototype._.call(this);
this.US._();this.rL._();this.S$._()};d0.prototype.Nz=function(G){if(G&&G.target==this.RK)return;var m=this.rL.B(),A=this.Sk[m],Q=this.xv,H=A!=null&&A.add.artd!=null;
for(var $=0;$<Q.c.length;$++)if(Q.g[Q.c[$]].add.artb)H=!1;this.S$.bD(m==this.Sk.length);this.RK.bD(H);
if(H){var J=A.root.children,b=[],O=this.Sg=[];for(var $=0;$<J.length;$++){var a=J[$].i;if(a.add.artb)b.push(a.getName());
O.push(J[$].index)}this.RK.fd(b);this.RK.f(0)}else this.Sg=null};d0.prototype.MZ=function(G,m,A){this.xv=G;
this.Sk=A;this.S$.f(G.c.length==0?"Layer":G.g[G.c[0]].getName());var Q=[];for(var $=0;$<A.length;$++){var H=A[$].name;
Q.push(H.length<30?H:H.slice(0,27)+"...")}Q.push([11,7]);this.rL.fd(Q);this.rL.f(A.indexOf(G));this.Nz(null)};
d0.prototype.Q7=function(G){var m=this.rL.B();if(m==this.Sk.length){var A=new fy(this.S$.B()+".psd"),Q=this.xv.e,H=this.xv.n,J=this.xv.yo();
if(J!=-1){var b=this.xv.g[J]._Q();Q=b.e;H=b.n}A.e=Q;A.n=H;A.buffer=N.$(A.e*A.n*4);var O=A.uA();O.mw("Background");
A.g_([O]);var a=new j8(r.E.W,!0);a._v=!0;a.data={d:r.S.fP,EY:A};this.u(a)}var e=this.xv.xG(null,this.xv!=this.Sk[m]),a=new j8(r.E.w,!0);
a.data={d:c.zZ,g:e,dL:this.xv,YL:this.Sk[m]};if(this.Sg)a.data.WZ=this.Sg[this.RK.B()];a.b=f.p4;a._v=!0;
this.u(a);this.close()};function bS(){h4.call(this,[1,9],"eassets");this.dj=null;this.c3=null;var G=g.L("div","form");
G.setAttribute("style","width:32em");this.body.appendChild(G);this.G5=g.L("span");G.appendChild(this.G5);
g.Qm(G);this.sx=[new aX("Only layers / folders, whose name starts with \"-e-\""),new aX("Remove parts outside the canvas"),new aX("Trim transparent parts")];
for(var $=0;$<3;$++){var m=this.sx[$];m.f(!0);m.J(r.E.o,this.RW,this);G.appendChild(m.m);g.Qm(G)}this._o=new a6([12,14,0],["1x","2x","3x","4x"]);
this._o.f([!0,!1,!1,!1]);G.appendChild(this._o.m);g.RB(G);this.XJ=["PNG","JPG","SVG"];this.ne=new iV([12,50],this.XJ);
this.ne.J(r.E.o,this.at9,this);G.appendChild(this.ne.m);this.oU=new bw;G.appendChild(this.oU.m);this.US=new iL([1,9],!0,null,!0);
this.US.J("click",this.Q7,this);G.appendChild(this.US.m);this.J("closebtn",this.AN,this)}bS.prototype=new h4;
bS.prototype.at9=function(G){this.oU.afO(this.XJ[this.ne.B()])};bS.prototype.AN=function(G){this.c3=null};
bS.prototype._=function(){h4.prototype._.call(this);this.ne._();this._o._();this.US._();this.oU._()};
bS.prototype.MZ=function(G,m,A){this.c3=G;this.RW()};bS.prototype.RW=function(G){var m=this.a4Q(),A="- - - "+m.length+" exportable layers";
this.G5.textContent=A;this.at9(null)};bS.prototype.a4Q=function(){var G=this.sx[0].B(),m=[],A=this.c3;
for(var $=0;$<A.g.length;$++){var Q=A.g[$],H=Q.getName();if(!G&&!Q.r8()&&!Q.rect.My()||H.startsWith("-e"))m.push($)}return m};
bS.prototype.a2=function(G,m){this.dj=G};bS.prototype.Q7=function(G){var m=this.c3,A=[this.XJ[this.ne.B()]],Q=[this.oU.B()],H=this._o.B(),J={},b={},O=this.a4Q();
if(O.length==0){alert("No layers to export.");return}var a=[this.sx[1].B(),this.sx[2].B()];for(var $=0;
$<O.length;$++){var e=O[$],R=m.g[e],p=R.getName();if(b[p]!=null){b[p]++;p+=" "+b[p]}else b[p]=1;var P=R.HX();
R.YQ(!0);for(var z=0;z<H.length;z++){if(!H[z])continue;var Z=z+1,W=f.oj.r4(m,A,Z,this.dj,e,Q,a);for(var T=0;
T<A.length;T++){var i=A[T],X=p.slice(p.startsWith("-e-")?3:0)+(Z==1?"":"-"+Z+"x")+"."+i.toLowerCase();
if(W[T])J[X]=new Uint8Array(W[T])}}R.YQ(P)}var U=UZIP.encode(J),M=new j8(r.E.W,!0);M.data={d:r.S.nB,data:U,name:"assets.zip"};
this.u(M)};function ax(){h4.call(this,"Export Color Lookup Tables","exlut");this.dj=null;this.c3=null;
var G=g.L("div","form");G.setAttribute("style","width:20em");this.body.appendChild(G);this.sx=[new hz("Grid Points",1,256),new ai([12,50],[".CUBE"])];
var m=[16,0];for(var $=0;$<this.sx.length;$++){var A=this.sx[$];A.f(m[$]);A.parent=this;A.J(r.E.o,this.RW,this);
G.appendChild(A.m);g.Qm(G)}this.US=g.lU(this,G);this.J("closebtn",this.AN,this)}ax.prototype=new h4;
ax.prototype.FW=function(G,m){if(Math.min(G.e,G.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(G.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};ax.prototype.AN=function(G){this.c3=null};ax.prototype.a2=function(G,m){this.dj=G};
ax.prototype.MZ=function(G,m,A){this.c3=G};ax.prototype.Q7=function(){var G=this.c3,m=this.sx[0].B(),A=[],Q=new f_(0,0,G.e,G.n),H=N.$(m*m*4),J=H.slice(0),b=new f_(G.e-m>>>1,G.n-m>>>1,m,m),O=G.g[0],a=O.buffer,e=O.rect;
O.rect=b;O.buffer=H;for(var R=0;R<m;R++){this.ajb(m,R,H);O.F(b);G.F(b);var p=G.$s();N.Pr(p,Q,J,b);for(var P=0;
P<m;P++)for(var z=0;z<m;z++){var Z=P*m+z<<2;A.push(J[Z]/255,J[Z+1]/255,J[Z+2]/255)}}var W=eT.ad8(A,m,G.name);
gX.save(W,G.name.split(".")[0]+".CUBE");O.buffer=a;O.rect=e;O.F();G.F()};ax.prototype.ajb=function(G,m,A){var Q=255/(G-1),H=Math.round(m*Q);
for(var J=0;J<G;J++)for(var b=0;b<G;b++){var O=J*G+b<<2;A[O]=Math.round(b*Q);A[O+1]=Math.round(J*Q);
A[O+2]=H;A[O+3]=255}};ax.prototype._=function(){h4.prototype._.call(this);for(var $=0;$<this.sx.length;
$++)this.sx[$]._();this.US._()};function fA(){h4.call(this,[1,14],"finfo");this.PX=null;this.rB=null;
this.vQ=null;this.s5=g.L("div","form scrollable label12");this.s5.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.s5);var G=g.L("div","form");this.body.appendChild(G);this.h6=new iV(null,["Hello"]);
G.appendChild(this.h6.m);this.a0z=new iL("Add Parameter",!1,null,!0);G.appendChild(this.a0z.m);this.a0z.J("click",this.sm,this);
this.r2=new iL("=== S A V E ===",!1,null,!0);G.appendChild(this.r2.m);this.r2.J("click",this.tA,this);
this.ab5=""}fA.prototype=new h4;fA.prototype.EQ=function(G,m){return G<450||m<450?new dw(0,0):new dw(150,100)};
fA.prototype.sm=function(G){if(this.vQ.length==0)return;var m=this.vQ[this.h6.B()],A=this.W1();A[m]=fg.qc[m][0];
this.Vf(A);this.rB[m].m.scrollIntoView();this.rB[m].UQ()};fA.prototype.XZ=function(G){var m=this.W1();
delete m[G.currentTarget.apO];this.Vf(m)};fA.prototype.tA=function(G){var m=this.W1(),A=this.PX,Q=!0;
for(var H in A)if(JSON.stringify(A[H])!=JSON.stringify(m[H]))Q=!1;for(var H in m)if(JSON.stringify(A[H])!=JSON.stringify(m[H]))Q=!1;
if(Q)return;var J=new j8(r.E.w,!0);J.b=f.p4;J.data={d:c.Me,gu:m};this.u(J);this.PX=m;this.Vf(m)};fA.anp=function(G){function m(H){var J=H.toLowerCase();
return H==J}var A=G.split(":").pop();for(var Q=1;Q<A.length-1;Q++){if(A[Q]==A[Q].toUpperCase()&&(m(A[Q+1])||m(A[Q-1]))){A=A.slice(0,Q)+" "+A.slice(Q);
Q++}}return A};fA.prototype.MZ=function(G,m){this.PX=G.ey;this.Vf(G.ey)};fA.prototype.Vf=function(G){var m=this.s5,H=0;
g.iJ(m);var A=this.rB={},Q=["tiff","exif","exif:GPS"],J=this.vQ=[],b=[];for(var O in fg.qc){var a=fA.anp(O),e=0,R=15,p=null;
if(G[O]==null){if(fg.qc[O].length!=1||O=="photoshop:Credit"||O=="photoshop:Source"){J.push(O);b.push(a)}continue}for(var $=0;
$<Q.length;$++)if(O.startsWith(Q[$]))e=$;if(e!=H){g.RB(m);H=e}if(O=="tiff:ImageDescription"||O=="dc:Keywords"){R=18.5;
p=3}var P=new h_(a,null,R,p);A[O]=P;var z=G[O];if(z instanceof Array)z=z[1]==0?"---":z[0]+"/"+z[1];var Z=new iL("\u2716",null,f5.get([5,4]));
m.appendChild(Z.m);Z.J("click",this.XZ,this);Z.apO=O;P.f(z);m.appendChild(P.m);g.Qm(m);if(O=="exif:GPSLongitude"&&G["exif:GPSLatitude"]){this.ab5=fA.al3(G["exif:GPSLatitude"])+","+fA.al3(G["exif:GPSLongitude"]);
var W=new iL("Show on map",!1,null,!0);m.appendChild(W.m);g.Qm(m);W.J("click",this.a5t,this)}}this.h6.fd(b);
this.h6.f(0)};fA.prototype.W1=function(){var G=this.rB,m=fg.qc,A={};for(var Q in m){var H=m[Q][0],J=typeof H;
if(H==null||G[Q]==null)continue;var b=G[Q].B(),O="The value of \""+fA.anp(Q)+"\" must ";if(J=="number"){b=parseFloat(b);
if(isNaN(b)){alert(O+"be a number.");b=H}}else if(H instanceof Array&&H.length==2){if(b.indexOf("/")==-1){alert(O+"be a fraction.");
b=H.slice(0)}else{b=b.split("/").map(parseFloat);if(isNaN(b[0])||isNaN(b[1])){b=H.slice(0)}}}A[Q]=b}return A};
fA.al3=function(G){var m=G.length,A=G.slice(0,m-1).split(",").map(parseFloat),Q=G.slice(m-1),H=A[0]+A[1]/60+A[2]/3600;
if(Q!="N"&&Q!="E")H=-H;return H};fA.prototype.a5t=function(G){window.open("https://maps.google.com?q="+this.ab5,"Map")};
function hl(){h4.call(this,[11,5],"gradienteditor");this.eG=null;this.Fz=null;this.dl=null;this.a$=null;
this.jZ=!1;this.Bl=!1;this.BD=null;this.oo=null;this._$=-1;this.se=-1;this.yz=0;this.NB=this.M5.bind(this);
this.PM=this.Vo.bind(this);this.O=g.L("canvas");this.JR=this.O.getContext("2d");this.O.setAttribute("style","display:block");
this.o$=null;g.sL(this.O);g.Il(this.O,this.dn.bind(this));this.aJ=g.L("div","form");this.aqg=g.L("div");
this.vo=g.L("div","form");this.akk=g.L("div");this.my=new iV([12,44],[[15,10,0],[24,6]]);this.my.J(r.E.o,this.Y_,this);
this.body.appendChild(this.my.m);g.RB(this.body);var G=this.aJ;this.yn=new hz([19,3,3],0,100,"%");this.yn.J(r.E.o,this.Y_,this);
this.yn.parent=this;G.appendChild(this.yn.m);g.Qm(G);this.W6=new gS([12,0]);G.appendChild(this.W6.m);
this.f$=g.L("div","bordered padded noalign");G.appendChild(this.f$);this.vq=new hz([12,0],0,100,"%");
this.vq.parent=this;this.vq.J(r.E.o,this.Y_,this);this.f$.appendChild(this.vq.m);this.kD=new hz([12,40],0,100,"%");
this.kD.parent=this;this.kD.J(r.E.o,this.Y_,this);this.f$.appendChild(this.kD.m);this.qq=new iL([5,4],!1,null,!0);
this.qq.J("click",this.ajv,this);this.f$.appendChild(this.qq.m);G.appendChild(this.aqg);this.ass=new gS([13,0]);
G.appendChild(this.ass.m);this.Cs=g.L("div","bordered padded noalign");G.appendChild(this.Cs);this.rR=new iV([12,44],[[12,45],[12,46],[12,47]]);
this.rR.J(r.E.o,this.Y_,this);this.Cs.appendChild(this.rR.m);this.d8=new jM(!0);this.d8.parent=this;
this.d8.J(r.E.o,this.Y_,this);this.Cs.appendChild(this.d8.m);this.nK=new hz([12,40],0,100,"%");this.nK.parent=this;
this.nK.J(r.E.o,this.Y_,this);this.Cs.appendChild(this.nK.m);this.b$=new iL([5,4],!1,null,!0);this.b$.J("click",this.akW,this);
this.Cs.appendChild(this.b$.m);var G=this.vo;this.iO=new hz("Roughness",0,100,"%");this.iO.J(r.E.o,this.Y_,this);
this.iO.parent=this;G.appendChild(this.iO.m);G.appendChild(this.akk);this.yy=new iL([25,1,2],!1,null,!0);
this.yy.J("click",this.Y_,this);G.appendChild(this.yy.m);this.US=g.lU(this);this.J("closebtn",this.jO,this)}hl.prototype=new h4;
hl.prototype.jO=function(G){if(this.jZ)this.a$(this.eG)};hl.prototype._=function(){h4.prototype._.call(this);
this.US._();this.yn._();this.W6._();this.ass._();this.qq._();this.b$._();this.vq._();this.kD._();this.rR._();
this.nK._();this.yy._()};hl.prototype.a2=function(G,m){this.dl=G};hl.prototype.MZ=function(G,m){this.Fz=JSON.parse(JSON.stringify(m.X));
this.eG=JSON.parse(JSON.stringify(m.X));this.BD=this.oo=null;this.a$=m.b5;this.jZ=!1;this.Bl=m.If;this.Ta();
this.U5()};hl.prototype.Q7=function(G){var m=this.Fz;this.a$(m);this.close()};hl.prototype.DV=function(G){return G==a5.lV||G==a5.m9};
hl.prototype.KY=function(G,m,A,Q){if(Q.j(a5.lV)||Q.j(a5.m9)){if(this.oo)this.ajv();if(this.BD)this.akW()}};
hl.prototype.ajv=function(G){var m=this.Fz.Trns.v;if(this.oo==null||m.length==1)return;m.splice(m.indexOf(this.oo),1);
this.oo=null;this.Ta();this.U5()};hl.prototype.akW=function(G){var m=this.Fz.Clrs.v;if(this.BD==null||m.length==1)return;
m.splice(m.indexOf(this.BD),1);this.BD=null;this.Ta();this.U5()};hl.prototype.Ta=function(){var G=this.O,m=this.JR,A=g.G();
G.width=Math.floor(410*A);G.height=Math.floor(70*A);g.AX(G,G.width,G.height);G.style.marginTop="8px";
this.o$=new f_(0,0,Math.floor(380*A),Math.floor(32*A));this.o$.x=Math.floor((G.width-this.o$.e)/2);this.o$.y=Math.floor((G.height-this.o$.n)/2);
var Q=this.o$,H=Q.e,J=Q.n,b=Q.x,O=Q.y,a=new f_(0,0,H,J),e=m.getImageData(0,0,H,J),R=new Uint8Array(e.data.buffer);
N.dC(R,H,J,8);var p=N.$(H*J*4);N.X.Ut(this.Fz,p,a,[1/H,0,0,1/J],H/2,J/2,!1,0,this.dl.yu,this.dl.qU);
N.a.zc("norm",p,Q,R,Q,Q,1);m.clearRect(0,0,G.width,G.height);m.putImageData(e,b,O);var P=this.Fz;if(P.Clrs){var z=P.Trns.v,Z=P.Clrs.v,W=N.X.IN(Z,this.dl.yu,this.dl.qU),T=Math.round(6*g.G()),i=Math.round(14*g.G()),X=this.oo?this.oo.v:null,U=this.BD?this.BD.v:null;
for(var $=0;$<z.length;$++){var M=z[$].v,C=Math.round(255-255*M.Opct.v.val/100);if((M==X||z[$-1]&&z[$-1].v==X||$==this.se)&&$!=0){m.fillStyle="#000000";
m.fillRect(b-3+H*(z[$-1].v.Lctn.v+(M.Lctn.v-z[$-1].v.Lctn.v)*M.Mdpn.v/100)/4096,O-6-2,6,6)}if(M==X){m.fillStyle="#ffffff";
m.fillRect(b-T+H*(M.Lctn.v/4096)-2,O-2-i-2,2*T+4,i+4)}m.fillStyle="rgb("+C+","+C+","+C+")";m.fillRect(b-T+H*(M.Lctn.v/4096),O-2-i,2*T,i)}for(var $=0;
$<Z.length;$++){var x=Z[$].v,L=W[$];if((x==U||Z[$-1]&&Z[$-1].v==U||$==this._$)&&$!=0){m.fillStyle="#000000";
m.fillRect(b-3+H*(Z[$-1].v.Lctn.v+(x.Lctn.v-Z[$-1].v.Lctn.v)*x.Mdpn.v/100)/4096,O+J+2,6,6)}if(x==U){m.fillStyle="#ffffff";
m.fillRect(b-T+H*(x.Lctn.v/4096)-2,O+J+2-2,2*T+4,i+4)}m.fillStyle="rgb("+Math.round(L.p)+", "+Math.round(L.z)+","+Math.round(L.h)+")";
m.fillRect(b-T+H*(x.Lctn.v/4096),O+J+2,2*T,i)}}if(this.Bl){this.a$(this.Fz);this.jZ=!0}};hl.prototype.U5=function(){var G=this.Fz,m=G.Clrs?0:1;
this.my.f(m);if(g.m$(this.aJ))this.body.removeChild(this.aJ);if(g.m$(this.vo))this.body.removeChild(this.vo);
(m==0?this.aqg:this.akk).appendChild(this.O);if(m==0){this.body.appendChild(this.aJ);this.yn.f(Math.round(100*G.Intr.v/4096));
var A=G.Trns.v,Q=G.Clrs.v,H=this.oo!=null,J=this.se!=-1;this.vq.bD(H);this.kD.bD(H||J);this.qq.bD(H);
if(H){this.f$.setAttribute("style","");var b=this.oo.v;this.kD.f(Math.round(100*b.Lctn.v/4096));this.vq.f(b.Opct.v.val)}if(J)this.kD.f(A[this.se].v.Mdpn.v);
var H=this.BD!=null,J=this._$!=-1;this.rR.bD(H);this.d8.bD(H);this.nK.bD(H||J);this.b$.bD(H);if(H){this.Cs.setAttribute("style","");
var O=this.BD.v;this.nK.f(Math.round(100*O.Lctn.v/4096));var a=O.Type.v.Clry;this.rR.f(["FrgC","BckC","UsrS"].indexOf(a));
if(a=="FrgC")this.d8.s8(this.dl.yu);if(a=="BckC")this.d8.s8(this.dl.qU);if(a=="UsrS")this.d8.f(O.Clr.v)}if(J)this.nK.f(Q[this._$].v.Mdpn.v)}else{this.body.appendChild(this.vo);
this.iO.f(Math.round(100*G.Smth.v/4096))}this.body.appendChild(this.US.m)};hl.prototype.Y_=function(G){var m=this.Fz,A=m.Clrs?0:1;
if(G.target==this.my){var Q=A==0?JSON.parse(hK.eY.adA).v:bH.wZ("grdm").Grad.v;this.Fz=Q;this.U5();this.Ta();
return}if(A==0){m.Intr.v=Math.round(4096*this.yn.B()/100);var H=m.Trns.v,J=m.Clrs.v;if(this.oo!=null){var b=this.oo.v;
b.Lctn.v=Math.round(4096*(this.kD.B()/100));b.Opct.v.val=this.vq.B()}if(this.BD!=null){var O=this.BD.v;
O.Lctn.v=Math.round(4096*(this.nK.B()/100));if(G.target==this.d8)this.rR.f(2);var a=this.rR.B();O.Type.v.Clry=["FrgC","BckC","UsrS"][a];
if(a==2)O.Clr={t:"Objc",v:this.d8.B()};else if(O.Clr)delete O.Clr}if(this.se!=-1)H[this.se].v.Mdpn.v=this.kD.B();
if(this._$!=-1)J[this._$].v.Mdpn.v=this.nK.B()}else{m.Smth.v=Math.round(4096*this.iO.B()/100);if(G.target==this.yy)m.RndS.v=Math.floor(Math.random()*4294967295)}this.Ta()};
hl.prototype.dn=function(G){var m=g.zi(G,this.O),A=this.o$,Q=(m.x*g.G()-A.x)/A.e,H=(m.y*g.G()-A.y)/A.n,J=this.Fz.Trns.v,b=this.Fz.Clrs.v,O=null,a=null,e=-1,R=-1;
if(H<1)for(var $=0;$<J.length;$++){var p=J[$].v;if(Math.abs(p.Lctn.v/4096-Q)<.02)O=J[$];if($>0)if(Math.abs((J[$-1].v.Lctn.v+(p.Lctn.v-J[$-1].v.Lctn.v)*p.Mdpn.v/100)/4096-Q)<.01)e=$}if(H>0)for(var $=0;
$<b.length;$++){var P=b[$].v;if(Math.abs(P.Lctn.v/4096-Q)<.02)a=b[$];if($>0)if(Math.abs((b[$-1].v.Lctn.v+(P.Lctn.v-b[$-1].v.Lctn.v)*P.Mdpn.v/100)/4096-Q)<.01)R=$}if(a==null&&O==null&&e==-1&&R==-1){if(H<0){var p={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
p.v.Lctn.v=Math.round(Q*4096);J.push(p);J.sort(this.YH);O=p}if(H>1){var b=this.Fz.Clrs.v,z=N.X.IN(b,this.dl.yu,this.dl.qU),Z=N.X.EZ(this.Fz,z,Q),P={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:N.X.N4({p:Z&255,z:Z>>8&255,h:Z>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
P.v.Lctn.v=Math.round(Q*4096);b.push(P);b.sort(this.YH);a=P}}if(a!=null)R=-1;if(O!=null)e=-1;if(a!=null||O!=null||e>-1||R>-1){this.oo=O;
this.BD=a;this.se=e;this._$=R;this.U5();this.Ta();g.CY(window,this.NB);g.$f(window,this.PM)}};hl.prototype.M5=function(G){var m=g.zi(G,this.O),A=this.o$,Q=(m.x*g.G()-A.x)/A.e,H=(m.y*g.G()-A.y)/A.n;
Q=Math.max(0,Math.min(1,Q));var J=this.Fz.Trns.v,b=this.Fz.Clrs.v;if(this.oo!=null){var O=this.oo.v;
O.Lctn.v=Math.round(4096*Q);var a=J.indexOf(this.oo);if(a!=-1&&H<-1&&J.length>1)J.splice(a,1);if(a==-1&&H>-1)J.push(this.oo);
J.sort(this.YH)}if(this.BD!=null){var e=this.BD.v;e.Lctn.v=Math.round(4096*Q);var R=b.indexOf(this.BD);
if(R!=-1&&H>2&&b.length>1)b.splice(R,1);if(R==-1&&H<2)b.push(this.BD);b.sort(this.YH)}if(this.se>-1){var O=J[this.se].v;
O.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(Q*4096-J[this.se-1].v.Lctn.v)/(O.Lctn.v-J[this.se-1].v.Lctn.v))))}if(this._$>-1){var e=b[this._$].v;
e.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(Q*4096-b[this._$-1].v.Lctn.v)/(e.Lctn.v-b[this._$-1].v.Lctn.v))))}if(this.oo!=null||this.BD!=null||this.se>-1||this._$>-1){this.U5();
this.Ta()}};hl.prototype.Vo=function(G){g.k1(window,this.NB);g.P4(window,this.PM);if(Date.now()-this.yz<300){if(this._$!=-1||this.se!=-1){var m=(this._$!=-1?this.Fz.Clrs.v[this._$]:this.Fz.Trns.v[this.se]).v;
m.Mdpn.v=50;this.U5();this.Ta()}else if(this.BD!=null)this.d8.aix()}this.yz=Date.now()};hl.prototype.YH=function(G,m){return G.v.Lctn.v-m.v.Lctn.v};
function el(){h4.call(this,[11,10],"isize");this.s5=g.L("div","form");this.s5.setAttribute("style","width:20em");
this.body.appendChild(this.s5);this.hT=new br(!0,!0,null,null,!0);this.s5.appendChild(this.hT.m);this.jA=new aX("Resample");
this.jA.f(!0);this.s5.appendChild(this.jA.m);this.jA.J(r.E.o,this.a6U,this);this.T9=new iV([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.T9.f(1);this.s5.appendChild(this.T9.m);this.US=g.lU(this,this.body)}el.prototype=new h4;el.prototype.FW=function(G,m){return G!=null};
el.prototype.I3=function(){return!0};el.prototype.a6U=function(G){var m=this.jA.B(),A=this.hT,Q=this.T9;
if(m)Q.vF();else Q.Tx();if(m)A.atm();else A.abl()};el.prototype._=function(){h4.prototype._.call(this);
this.US._();this.T9._();this.hT._()};el.prototype.Q7=function(G){this.close();var m=this.hT.B(),A=m.x,Q=m.y,H=this.T9.B();
if(!this.jA.B())H=null;var J=new j8(r.E.NH,!0);J.data=f.MB.me(A,Q,this.hT.Oc(),H);this.u(J)};el.prototype.MZ=function(G,m){this.hT.f(new dw(G.e,G.n),G.SV);
this.hT.UQ()};function eC(){h4.call(this,"Import RAW","importraw");var G=g.L("div","flexrow"),m=g.L("div");
m.setAttribute("style","margin-bottom: 1em");this.body.appendChild(G);this.body.appendChild(m);var A=g.L("div","form");
A.setAttribute("style","width:18em");G.appendChild(A);var Q=g.L("div","form");Q.setAttribute("style","width:15em");
G.appendChild(Q);this.B1=null;this.a8D=null;this.Qz=null;this.fq=null;this.a8J=[];var H=[];for(var $=0;
$<eC.kj.length;$++)H.push(eC.kj[$]+" Bits");var J=this.SO=[new br(!0,null,null,!0),new hz([12,72],1,8),new aX("Last one is Transparency"),new ai([12,34],H),new ai("Byte Order",["12-34","34-12"]),new iV("Guesses",[])];
for(var $=0;$<J.length;$++){var b=J[$];b.parent=this;b.J(r.E.o,$==5?this.ahg:this.Nz,this);var O=$==0?A:$==5?m:Q;
O.appendChild(b.m)}this.O=g.L("canvas");this.JR=this.O.getContext("2d");this.body.appendChild(this.O);
this.US=g.lU(this,this.body)}eC.prototype=new h4;eC.prototype._=function(){h4.prototype._.call(this);
var G=this.SO;this.US._();for(var $=0;$<G.length;$++)G[$]._()};eC.prototype.Q7=function(G){this.close();
var m=this.SO[0].B(),A=dt.SQ(this.a8D,[{data:this.Qz,NS:new f_(0,0,m.x,m.y)}]);if(this.fq)A.Hv=this.fq;
var Q=new j8(r.E.W,!0);Q.data={d:!0?r.S.fP:r.S.lm,EY:A};this.u(Q)};eC.kj=[8,16];eC.prototype.MZ=function(G,m){this.B1=new Uint8Array(m.tm);
this.a8D=m.Vc;var A=this.B1.length,Q=[1,3,4],H=0,J=0,b=1,O=1,a=this.a8J=[];for(var e=0;e<3;e++){for(var R=0;
R<2;R++){var p=eC.kj[R],P=Q[e],z=P*p,Z=Math.round(A*8/z);if(Z!=A*8/z)continue;for(var W=0;W<=4e3;W++)for(var T=0;
T<=4e3;T++)if(W*T==Z){var i=0;if(W==T)i+=64;if(Math.round(W/100)==W/100&&Math.round(T/100)==T/100)i+=32;
if(Math.round(W/10)==W/10&&Math.round(T/10)==T/10)i+=16;if(Math.round(W/2)==W/2&&Math.round(T/2)==T/2)i+=8;
a.push([W,T,P,p,i])}}}var X=function(x,L){if(L[4]!=x[4])return L[4]-x[4];var E=Math.max(x[0],x[1])/Math.min(x[0],x[1]),l=Math.max(L[0],L[1])/Math.min(L[0],L[1]);
if(E!=l)return E-l;return L[0]-x[0]};a.sort(X);var U=this.SO,M=[];for(var $=0;$<a.length;$++){var C=a[$];
M.push(C[0]+" x "+C[1]+", "+C[2]+"ch, "+C[3]+"-bit")}U[5].fd(M);U[5].f(0);this.ahg(null)};eC.prototype.ahg=function(G){var m=this.SO,A=this.a8J[this.SO[5].B()];
m[0].f(new dw(A[0],A[1]),72);m[1].f(A[2]);m[3].f(eC.kj.indexOf(A[3]));this.Nz()};eC.prototype.Nz=function(G){var m=this.SO,A=m[0].B(),Q=A.x,H=A.y,J=eC.kj[m[3].B()],b=this.B1;
if(J==16&&m[4].B()==1){b=b.slice(0);for(var $=0;$<b.length;$+=2){var O=b[$];b[$]=b[$+1];b[$+1]=O}}var a=this.Qz=this.uJ(b,Q,H,m[1].B(),J,m[2].B()),e=this.O,R=this.JR,p=[a,new f_(0,0,Q,H)];
N.xI(p);for(var $=0;$<p.length;$+=2)if(p[$+1].n<300){a=p[$];Q=p[$+1].e;H=p[$+1].n;break}e.width=Q;e.height=H;
g.AX(e,Q,H);var P=new ImageData(new Uint8ClampedArray(a.buffer),Q,H);R.putImageData(P,0,0)};eC.prototype.uJ=function(G,m,A,Q,H,J){this.fq=null;
var b=[],O=m*A;for(var a=0;a<Q;a++){var e=N.$(O);b.push(e);if(H==8)for(var $=0;$<O;$++)e[$]=G[$*Q+a];
else if(H==16)for(var $=0;$<O;$++)e[$]=Math.round((G[($*Q+a)*2]<<8|G[($*Q+a)*2+1])*(255/65535))}var R=N.$(O*4);
new Uint32Array(R.buffer).fill(4278190080);if(J){N.I5(b.pop(),R,3);Q--}if(Q==0){}else if(Q==1)N.mH(b[0],R);
else{N.I5(b[0],R,0);N.I5(b[1],R,1);if(Q>2){N.I5(b[2],R,2);if(Q>3){this.fq=[];for(var $=3;$<Q;$++){var p=new c.Mz;
p.name="Alpha "+($-2);p.rect=new f_(0,0,m,A);p.channel=b[$];this.fq.push(p)}}}}return R};function fh(G,m,A){gB.call(this);
this.m=g.L("div","");this.uY=G;this.No=null;this.Jo=m==null?!1:m;this.JP=null;this.DJ=A;this.hS=[];this.nA=[];
this.I7=[];this.fV=[];this.u1=0;this.No=this.aaX(fh.fV[G]);this.VF();this.Yp=null;this.ads;this.a2V}fh.prototype=new gB;
fh.prototype.gr=function(G,m,A,Q,H){this.Yp=H;this.ads=JSON.parse(JSON.stringify(this.JP));if(this.No.lagl)this.a2V=this.No.lagl.B()[0]};
fh.prototype.Nr=function(G,m,A,Q,H){var J=this.Yp,b=this.uY,O=this.ads;if(J==null)return;var a=(H.x-J.x)/G.t.V,e=(H.y-J.y)/G.t.V;
if(b=="GrFl"){var R=JSON.parse(JSON.stringify(O.Ofst.v));R.Hrzn.v.val+=a*.5;R.Vrtc.v.val+=e*.5;this.No.Ofst.f(R,!0)}if(b=="patternFill"){var R=JSON.parse(JSON.stringify(O.phase.v));
R.Hrzn.v+=a;R.Vrtc.v+=e;this.No.phase.f(R,!0)}if(b=="DrSh"||b=="IrSh"||b=="ChFX"){var p=O.Dstn.v.val,P=this.a2V*Math.PI/180,z=-Math.cos(P)*p+a,Z=Math.sin(P)*p+e;
this.No.Dstn.f(Math.sqrt(z*z+Z*Z),!0);this.No.lagl.f([Math.atan2(Z,-z)*180/Math.PI],!0)}};fh.prototype.gE=function(G,m,A,Q,H){this.Yp=null};
fh.prototype.a8P=function(){for(var $=0;$<this.fV.length;$++){g.W8(this.fV[$],"selected");if(this.I7[$]instanceof aX)this.I7[$].f(!1)}};
fh.prototype.aiP=function(G){var m=this.atJ.bind(this);for(var $=0;$<this.I7.length;$++){var A=g.L("div","listitem");
this.fV.push(A);if($>0)A.textContent="\u2003";A.appendChild(this.I7[$].m);if(hK.abr.indexOf(this.uY)!=-1){var Q=new iL("+");
Q.dt();Q.m.style.float="right";A.appendChild(Q.m);var H=new iL("\u2B0D");H.dt();H.m.style.float="right";
H.m.style["margin-right"]="2px";A.appendChild(H.m)}A.addEventListener("click",m,!1);G.appendChild(A)}};
fh.$Z=function(G,m){var A=m.getBoundingClientRect();return(G.clientY-A.top)/A.height};fh.prototype.atJ=function(G){var m=G.target.tagName.toLowerCase();
if(m=="input"){return}if(m=="button"){var A=new j8(r.E.w,!0),Q=G.target.textContent=="+",H=Q?0:fh.$Z(G,G.target)<.5?-1:1;
if(Q)A.data={d:"st_dupsingle",i:this.parent.data.i,ou:this.DJ};else A.data={d:"st_movsingle",i:this.parent.data.i,ou:this.DJ,atc:H};
A.b=f.Xj;A._v=!0;this.u(A);A=new j8("redrawall",!0);A.data={atc:H};this.u(A);return}g.zx(G);this.C8();
this.u1=this.fV.indexOf(G.currentTarget);this.u(new j8("showme"))};fh.prototype.C8=function(){if(this.No.enab&&this.No.enab.B()==!1)this.Qq({r9:"enab",k:!0})};
fh.prototype.ama=function(){var G=this.fV[this.u1];if(G)g.kG(G,"selected");return this.nA[this.u1]};
fh.prototype.aaX=function(G){var m={};for(var $=0;$<G.length;$++){var A=G[$],Q=null;if(A=="----")Q={m:g.L("hr")};
if(A=="\n")Q={m:g.L("br")};if(A=="blOptions")Q=new gS([14,10]);if(A=="brst")Q=new a6([12,72],["R","G","B"]);
if(A=="knko")Q=new iV("Knockout",[[13,1,0],"Shallow","Deep"]);if(A=="enab")Q=new aX(hK.names[hK.order.indexOf(this.uY)]);
if(A=="lrMd"||A=="Md")Q=new iV([12,19,0],ib.dw,!1,ib.gK);if(A=="Opct")Q=new c3([12,0],0,100,"%");if(A=="iOpa")Q=new c3([12,26],0,100,"%");
if(A=="blIf")Q=new ju;if(A=="ShdN")Q=new c3([12,68],0,100,"%");if(A=="lagl"||A=="Angl")Q=new eV([12,15],this.uY=="ebbl");
if(A=="uglg")Q=new aX([12,27]);if(A=="Dstn")Q=new c3([12,28],0,200,"px");if(A=="Ckmt")Q=new c3([12,29],0,100,"%");
if(A=="blur")Q=new c3([12,14,0],0,200,"px");if(A=="TrnS"||A=="MpgS")Q=new ab([12,21]);if(A=="Nose")Q=new c3([12,30],0,100,"%");
if(A=="layerConceals")Q=new aX([12,31]);if(A=="AntA"||A=="antialiasGloss")Q=new aX([12,25,1]);if(A=="GlwT")Q=new iV([12,32],hK.vc.names);
if(A=="glwS")Q=new iV([12,70],hK.vc.alr);if(A=="Inpr")Q=new c3([12,12],1,100,"%");if(A=="bvlS")Q=new iV([12,22],hK.$w.style);
if(A=="bvlT")Q=new iV([12,32],hK.$w.a6L);if(A=="bvlD")Q=new iV(null,hK.$w.dir);if(A=="srgR")Q=new c3([12,34],0,1e3,"%");
if(A=="Sftn")Q=new c3([12,35],0,20,"px");if(A=="Lald")Q=m.lagl;if(A=="hglM"||A=="sdwM")Q=new iV([12,36],ib.dw,!1,ib.gK);
if(A=="hglC"||A=="sdwC")Q=new jM;if(A=="hglO"||A=="sdwO")Q=new c3([12,0],0,100,"%");if(A=="Invr"||A=="InvT")Q=new aX([4,11]);
if(A=="Sz")Q=new c3([12,14,0],1,200,"px");if(A=="Styl")Q=new iV([12,40],hK.stroke.names);if(A=="PntT")Q=new iV([12,66],hK.stroke.aaQ);
if(A=="Clr")Q=new jM(!0);if(A=="Grad"){Q=new fe(!0,[12,37],!0);Q.f(JSON.parse(hK.eY.ad6).v)}if(A=="Rvrs")Q=new aX([12,23,0]);
if(A=="Dthr")Q=new aX([12,23,3]);if(A=="Type")Q=new iV([12,22],hK.X.names.slice(0,this.uY=="FrFX"?6:5));
if(A=="Ptrn")Q=new ex([12,62]);if(A=="Scl")Q=new c3([12,38],10,500,"%",0,!0);if(A=="Algn")Q=new aX([12,39]);
if(A=="Ofst")Q=new dY(!0);if(A=="phase")Q=new dY(!1);if(A=="useShape")Q=new aX([12,21]);if(A=="useTexture")Q=new aX([12,67]);
if(A=="textureDepth")Q=new c3([12,34],-300,300,"%");var H=A=="----"||A=="\n"?A+$:A;if(Q!=null)m[H]=Q}return m};
fh.prototype.aeD=function(G){var m=this.nA[this.u1];for(var $=0;$<G.length;$++){var A=this.No[G[$]];
if(A&&m.contains(A.m))m.removeChild(A.m)}};fh.prototype.akY=function(G){var m=this.nA[this.u1];for(var $=0;
$<G.length;$++){var A=this.No[G[$]];if(A&&!m.contains(A.m))m.appendChild(A.m)}};fh.prototype.a2=function(G,m){if(this.No==null)return;
var A=m==dG.ud;if(this.No.Grad){this.No.Grad.DP(G.yu,G.qU);if(A||m==dG.bu||m==dG.EM)this.No.Grad.pA(G.rj)}if(this.No.Ptrn){if(A||m==dG.VP)this.No.Ptrn.pA(G.uf)}if(this.No.TrnS){if(A||m==dG.yb)this.No.TrnS.pA(G.dY)}if(this.No.MpgS){if(A||m==dG.yb)this.No.MpgS.pA(G.dY)}};
fh.prototype._=function(){for(var $=0;$<this.hS.length;$++)this.hS[$]._();for(var G in this.No)if(this.No[G]instanceof gB)this.No[G]._()};
fh.prototype.VF=function(){for(var G in this.No){var m=this.No[G];m.parent=this;if(m instanceof gB)m.J(r.E.o,this.atT,this);
if(this.nA.length==0||G=="useShape"||G=="useTexture"){var A=new gS(m.a7e()),Q=g.L("div","bordered padded");
if(this.Jo==!1){Q.appendChild(A.m);Q.appendChild(g.L("hr",""))}this.hS.push(A);this.nA.push(Q);this.I7.push(m)}else this.nA[this.nA.length-1].appendChild(m.m)}};
fh.prototype.update=function(G,m){if(this.No==null)return;this.JP=JSON.parse(JSON.stringify(m));for(var A in m){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(A)!=-1)this.No[A].f(m[A].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(A)!=-1){this.No[A].f(m[A].v,G)}if(["Md","hglM","sdwM"].indexOf(A)!=-1)this.No[A].f(ib.uY.indexOf(m[A].v.BlnM));
if(A=="lrMd"){var Q=(m.r8?[[15,10,27]]:[]).concat(ib.dw),H=(m.r8?[1]:[]).concat(ib.gK);this.No[A].fd(Q,H);
this.No[A].f(m[A].v)}if(A=="Angl")this.No[A].f([m[A].v.val]);if(A=="lagl"){var J=m.uglg&&m.uglg.v?G.BQ():m.lagl.v.val;
this.No[A].f([J])}if(A=="Lald"){var J=m.uglg&&m.uglg.v?G.qp():m.Lald.v.val;this.No[A].f([null,J])}if(A=="Type")this.No[A].f(hK.X.types.indexOf(m.Type.v.GrdT));
if(A=="Styl")this.No[A].f(hK.stroke.types.indexOf(m.Styl.v.FStl));if(A=="PntT"){var b=hK.stroke.I8.indexOf(m.PntT.v.FrFl);
this.No[A].f(b);if(!this.Jo){this.aeD(hK.WX.concat(hK.ln.concat(hK.g2)));this.akY([hK.WX,hK.ln,hK.g2][b])}}if(A=="GlwT")this.No[A].f(hK.vc.types.indexOf(m.GlwT.v.BETE));
if(A=="glwS")this.No[A].f(hK.vc.aeX.indexOf(m.glwS.v.IGSr));if(A=="bvlS")this.No[A].f(hK.$w.types.indexOf(m.bvlS.v.BESl));
if(A=="bvlT")this.No[A].f(hK.$w.aki.indexOf(m.bvlT.v.bvlT));if(A=="bvlD")this.No[A].f(["In","Out"].indexOf(m.bvlD.v.BESs))}};
fh.prototype.atT=function(G){for(var m in this.No){if(this.No[m]!=G.target)continue;var A=null,Q=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(m)!=-1)A={type:"#Prc",val:G.target.B()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(m)!=-1)A={type:"#Pxl",val:G.target.B()};if(["Angl","lagl"].indexOf(m)!=-1)A={type:"#Ang",val:G.target.B()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(m)!=-1)A=G.target.B();
if(["Md","hglM","sdwM"].indexOf(m)!=-1)A={BlnM:ib.uY[G.target.B()]};if(m=="uglg"){A=G.target.B();Q=!0}if(m=="PntT"){A={FrFl:hK.stroke.I8[G.target.B()]};
Q=!0}if(m=="Lald")A={type:"#Ang",val:G.target.B()[1]};if(m=="Type")A={GrdT:hK.X.types[G.target.B()]};
if(m=="Styl")A={FStl:hK.stroke.types[G.target.B()]};if(m=="GlwT")A={BETE:hK.vc.types[G.target.B()]};
if(m=="glwS")A={IGSr:hK.vc.aeX[G.target.B()]};if(m=="bvlS")A={BESl:hK.$w.types[G.target.B()]};if(m=="bvlT")A={bvlT:hK.$w.aki[G.target.B()]};
if(m=="bvlD")A={BESs:["In","Out"][G.target.B()]};this.Qq({r9:m,k:A});if(Q){if(this.Jo)this.update(null,this.JP);
else{var H=this.parent,J=H.EY,b=this.DJ,O=J.g[H.data.i].add.lmfx[hK.HK[b[0]]].v[b[1]].v;this.update(J,O)}}}};
fh.prototype.Qq=function(G){if(this.JP&&this.JP[G.r9])this.JP[G.r9].v=G.k;if(this.Jo){this.u(new j8(r.E.o))}else{G.d="changeprop";
G.i=this.parent.data.i;G.lW=this.DJ;var m=new j8(r.E.w,!0);m.data=G;m.b=f.Xj;m._v=!0;this.u(m);this.u(new j8("afterchange",!0))}};
fh.prototype.B=function(){return JSON.parse(JSON.stringify(this.JP))};fh.fV={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(hK.WX),GrFl:["enab","Md","Opct"].concat(hK.ln),patternFill:["enab","Md","Opct"].concat(hK.g2),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(hK.WX.concat(hK.ln.concat(hK.g2)))};
function cH(){h4.call(this,[11,6],"layerstyle");this.agT=-1;this.data={};this.EY=null;this.dj=null;this.Ps=[];
this.za=[];g.kG(this.body,"flexrow");this.Jl=g.L("div","bordered");this.Jl.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Jl);this.oD=g.L("div","");this.oD.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.oD);this.Wi=g.L("div","form");this.Wi.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Wi);this.US=g.lU(this,this.Wi);this._M=new iL([12,87],!0,null,!0);this._M.J("click",this.aao,this);
this.Wi.appendChild(this._M.m);this.Cd=new h3;this.Cd.parent=this;this.Cd.J(r.E.o,this.ahq,this);this.Wi.appendChild(this.Cd.m);
this.J("closebtn",this.jO,this);this.J("redrawall",this.a4D,this)}cH.prototype=new h4;cH.prototype.I3=function(){return!0};
cH.prototype.b2=function(){return!0};cH.prototype.gr=function(G,m,A,Q,H){var J=this.aC();if(J)J.gr(G,m,A,Q,H)};
cH.prototype.Nr=function(G,m,A,Q,H){var J=this.aC();if(J)J.Nr(G,m,A,Q,H)};cH.prototype.gE=function(G,m,A,Q,H){var J=this.aC();
if(J)J.gE(G,m,A,Q,H)};cH.prototype.aC=function(G){if(G==null)G=this.data.index;return G==null?null:G==0?this.Ps[0]:this.za[G[0]][G[1]]};
cH.prototype.ahq=function(G){var m=this.Cd.B();this.Qq({d:"setstl",k:m.uv});this.a4D(null)};cH.prototype.aao=function(G){var m=this.EY,A=this.data.i;
if(A==null)A=m.c[0];var Q=this.EY.g[A],H=en.alQ(Q),J=new j8(r.E.W,!0);J.data={d:r.S.$g,ja:"add",WF:dG.xj,H7:[JSON.parse(JSON.stringify(H))]};
this.u(J)};cH.prototype.auF=function(G){this.data.index=G.currentTarget.DJ;this.gQ(G.currentTarget.DJ)};
cH.prototype.a4D=function(G){this.MZ(this.EY,this.data)};cH.prototype.gQ=function(G,m){g.iJ(this.oD);
for(var $=0;$<this.Ps.length;$++)this.Ps[$].a8P();var A=this.aC(G);this.oD.appendChild(A.ama());if(m)A.C8();
var Q=this.EY;if(Q){var H=Q.g[this.data.i];this.Ps[0].update(Q,f.xa.JA(Q,H));var J=H.add.lmfx;if(J==null)return;
for(var $=0;$<hK.order.length;$++){var b=J[hK.HK[$]].v;for(var O=0;O<b.length;O++)this.za[$][O].update(Q,b[O].v)}}if(m)A.C8()};
cH.prototype._=function(){h4.prototype._.call(this);this._M._();this.Cd._();this.US._();for(var $=0;
$<this.Ps.length;$++)this.Ps[$]._()};cH.prototype.MZ=function(G,m){var A=m.i==null;this.data.i=m.i;this.data.index=m.index;
m=this.data;this.EY=G;if(A)m.i=G.c.length==0?G.g.length-1:G.c[0];g.iJ(this.Jl);var Q=G.g[m.i].add.lmfx;
this.w7();this.Ps=[new fh("bops",!1,0)];this.za=[];for(var $=0;$<hK.order.length;$++){this.za.push([]);
var H=Q==null?[]:Q[hK.HK[$]].v;for(var J=0;J<H.length;J++){var b=new fh(hK.order[$],!1,[$,J]);this.Ps.push(b);
this.za[$].push(b)}if(H.length==0){var b=new fh(hK.order[$],!1,[$,0]);this.Ps.push(b);this.za[$].push(b)}}this._();
this.ahy(this.dj,dG.ud);for(var $=0;$<this.Ps.length;$++){this.Ps[$].parent=this;this.Ps[$].aiP(this.Jl);
this.Ps[$].J("showme",this.auF,this)}if(m.index==null||m.index==0||!A&&Q[hK.HK[m.index[0]]].v.length==0){this.gQ(0)}else this.gQ(m.index,A);
this.J("afterchange",this.w7,this)};cH.prototype.w7=function(G){var m=this.EY,A=this.data.i;if(A==null)A=m.c[0];
var Q=this.EY.g[A],H=en.alQ(Q);this.Cd.f(H,m.add.Patt?m.add.Patt:[],m.BQ(),m.qp())};cH.prototype.a2=function(G,m){this.dj=G;
this.ahy(G,m);if(m==dG.xj||m==dG.ud){this.Cd.pA([G.g9,G.uf])}if(m==dG.D3){}};cH.prototype.ahy=function(G,m){for(var $=0;
$<this.Ps.length;$++)this.Ps[$].a2(G,m)};cH.prototype.jO=function(G){this.Qq({d:"cancel"})};cH.prototype.Q7=function(G){this.Qq({d:"confirm"});
this.close()};cH.prototype.Qq=function(G){G.i=this.data.i;var m=new j8(r.E.w,!0);m.data=G;m.b=f.Xj;m._v=!0;
this.u(m);this.w7()};cH._H=function(G){var m=[{name:[14,10],l3:!0}];for(var $=0;$<hK.names.length;$++)m.push({name:hK.names[$]});
if(G){m[m.length-1].l3=!0;m.push({name:"Scale Effects",P:function(A){return{P:A!=null&&A.c.length!=0&&A.g[A.c[0]].kz()}}});
m.push({name:["VAR0 VAR1",[12,49],[9,1]],P:function(A){return{P:A!=null&&A.c.length!=0&&A.g[A.c[0]].add.lmfx!=null}}})}return m};
cH.tq=function(G){var m=[{T:r.E.W,R:{d:r.S.XG,Ue:"layerstyle"}}];for(var $=0;$<hK.names.length;$++)m.push({T:r.E.W,R:{d:r.S.XG,Ue:"layerstyle",index:[$,0]}});
if(G){m.push({T:r.E.W,R:{d:r.S.XG,Ue:"scaleeffects",Ge:100,OX:{T:r.E.w,b:f.Xj,R:{d:"scaleeffects"}}}});
var A={classID:"Mk",null:ah.TH("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
m.push({T:r.E.NH,R:{YI:"make",aL:A}})}return m};cH.ar7=function(G){var m=[];if(G)m.push({name:[6,48,0,0],OZ:!0},{name:[6,48,0,1],OZ:!0},{name:[6,48,0,2],OZ:!0,l3:!0});
for(var A in hE.names)m.push({name:hE.names[A],l3:hE.Lj.indexOf(A)!=-1,OZ:n[A]!=null});return m};cH.JL=function(G){var m=[];
if(G){m.push({T:r.E.w,b:f.iA,R:{d:"newfill",O7:0}});for(var $=1;$<3;$++)m.push({T:r.E.NH,R:f.$V.H2($)})}for(var A in hE.names){var Q=bH.wZ(A);
if(Q==null)Q={};for(var H in hE.Ih)if(hE.Ih[H]==A)Q.classID=H;var J={YI:"make",aL:{classID:"Mk",null:ah.TH("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:Q}}}}};
m.push({T:r.E.NH,R:J})}return m};function f7(){h4.call(this,"Merge Channels","mergechannels");this.b0=null;
var G=g.L("div","form");this.body.appendChild(G);this.SO=[];for(var $=0;$<3;$++){var m=new iV(hE.DL[$],[]);
this.SO.push(m);G.appendChild(m.m);g.Qm(G)}this.US=g.lU(this,G)}f7.prototype=new h4;f7.prototype._=function(){h4.prototype._.call(this);
this.US._();for(var $=0;$<3;$++)this.SO[$]._()};f7.prototype.MZ=function(G,m,A,Q){this.b0=A;var H=[];
for(var $=0;$<A.length;$++)H.push(A[$].name);for(var $=0;$<3;$++){var J=this.SO[$];J.fd(H);J.f(Math.min($,A.length-1))}};
f7.prototype.Q7=function(G){var m=this.b0,A=m[0],Q=new j8(r.E.NH,!0);Q.data=fy.xU(A.e,A.n,A.SV,"Merged Document","Wht",!1);
this.u(Q);var H=[];for(var $=0;$<3;$++)H.push(m[this.SO[$].B()].$s());var A=m[m.length-1],J=A.g[0],b=J.buffer;
for(var $=0;$<b.length;$+=4){b[$]=H[0][$];b[$+1]=H[1][$];b[$+2]=H[2][$]}J.F();A.F();this.close()};function i8(){h4.call(this,[1,10],"script");
var G=g.L("div","form");G.setAttribute("style","width:44em");this.body.appendChild(G);this.dj=null;this.q5=[];
this.oW=[];this.a1E;var m=this.r2=new iL([1,2],!1,null,!0);m.J("click",this.tA,this);G.appendChild(m.m);
var A=new iL("JS Reference",!1,null,!0);A.J("click",this.a4I,this);G.appendChild(A.m);G.appendChild(new gS("Demos:").m);
this.ape=[];var Q=i8.bk;for(var $=0;$<Q.length;$++){var H=new iL(Q[$].CF,!1,null,!0);this.ape.push(H);
G.appendChild(H.m);H.J("click",this.apL,this)}this.KH=g.L("textarea");g.hl(this.KH);this.KH.setAttribute("rows",16);
this.KH.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");G.appendChild(this.KH);
var J=new iL("Run",!0,null,!0);J.J("click",this.Q7,this);G.appendChild(J.m);this.amd=g.L("div");G.appendChild(this.amd)}i8.prototype=new h4;
i8.prototype._=function(){this.r2._()};i8.prototype.tA=function(){var G=this.a1E;if(G==null)G="script.jsx";
var m=new j8(r.E.W,!0);m.data={d:r.S.XG,Ue:"namewindow",Ge:G.slice(0,G.length-4),ns:this.ajM.bind(this)};
this.u(m)};i8.prototype.ajM=function(G){var m=this.KH.value,A=V.Dn(m),Q=new j8(r.E.W,!0);Q.data={d:r.S.qh,tm:A.buffer,Ds:G+".jsx",acC:!0};
this.u(Q)};i8.prototype.aj2=function(G){var $=this.q5.indexOf(G.target),m=this.a1E=this.oW[$],A=this.dj.Sy.E_[m],Q=new Uint8Array(A),H=V.Io(Q,0,Q.length);
this.KH.value=H};i8.prototype.MZ=function(G,m,A){this.KH.value=i8.bk[0].XO;this.aiE()};i8.prototype.aiE=function(){var G=this.dj.Sy,m=this.amd;
g.iJ(m);this.q5=[];this.oW=[];m.textContent="Saved scripts: ";for(var A in G.E_){if(A.endsWith(".jsx")){var Q=new iL(A,!1,null,!0);
this.q5.push(Q);this.oW.push(A);Q.J("click",this.aj2,this);m.appendChild(Q.m)}}};i8.prototype.a2=function(G,m){this.dj=G;
if(m==dG.T_)this.aiE()};i8.prototype.a4I=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.ZW,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.u(m)};i8.prototype.Q7=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.Jy,hc:this.KH.value};this.u(m)};
i8.prototype.apL=function(G){var m=this.ape.indexOf(G.currentTarget);this.KH.value=i8.bk[m].XO};i8.bk=[{CF:"Hello",XO:"\nalert(\"Hello Photopea!\");\n"},{CF:"Process Layers",XO:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{CF:"Clone Layers",XO:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function jF(){h4.call(this,[11,7],"newproject");this.data=null;this.b0=null;var G=g.L("div","flexrow");
this.qY=G;this.body.appendChild(G);var m=g.L("div","form");this.s5=m;G.appendChild(m);this.S$=new h_([12,48],null,10);
m.appendChild(this.S$.m);g.Qm(m);this.hT=new br(!0,null,null,null,!0);this.hT.f(new dw(1280,720),72);
this.hT.J(r.E.o,this.QF,this);m.appendChild(this.hT.m);this.Aw=new eu;this.Aw.parent=this;m.appendChild(this.Aw.m);
this.Kr=new aX("Artboards");m.appendChild(this.Kr.m);this.US=new iL([12,49],!0,null,!0);this.US.J("click",this.Q7,this);
m.appendChild(this.US.m);var A=jF.B1,Q=[];for(var $=0;$<A.length;$++)Q.push(A[$].name);this.UG=new ai(null,Q);
this.UG.J(r.E.o,this.arb,this);m.appendChild(this.UG.m);this.UG.m.style["margin-top"]="1em";this.K_=new dd(!0);
this.K_.J(r.E.o,this.a4j,this);m.appendChild(this.K_.m);this.arb();this.Pi=new f3;this.Pi.parent=this;
this.Pi.m.setAttribute("style","margin-left:1em");this.Pi.J("tempready",this.arw,this)}jF.prototype=new h4;
jF.prototype.a2=function(G,m){this.Pi.a2(G)};jF.prototype.EQ=function(G,m){return new dw(Math.max(0,Math.min(70,(G-690)/2)),G>m?Math.max(0,Math.min(50,(m-400)/2)):0)};
jF.prototype.e9=function(G,m){this.s5.setAttribute("style","width:"+Math.min(G-24,338)+"px");this.K_.m.style.height=m-248+"px";
var A=this.Pi.m,Q=A.parentNode;if(G<500){if(Q!=null)this.qY.removeChild(A)}else{if(Q==null)this.qY.appendChild(A);
this.Pi.e9(G-378,m-28)}};jF.prototype.QF=function(){this.Pi.f(this.hT.B())};jF.prototype.a4j=function(G){var m=this.K_.B()[0],A=jF.B1[this.UG.B()].pc[m],Q=A[4];
if(Q==0)Q=72;var H=A[1],J=A[2],b=["px","%","mm","in"].indexOf(A[3]),O=[1,1,25.4/Q,1/Q][b];H/=O;J/=O;
this.hT.f(new dw(Math.round(H),Math.round(J)),Q);this.hT.amz(b);this.QF()};jF.prototype.arb=function(G){var m=jF.B1[this.UG.B()].pc,A=[],Q=[],H=Math.round(106*g.G()),J=Math.round(106*g.G()),b=0;
for(var $=0;$<m.length;$++)b=Math.max(b,m[$][1],m[$][2]);for(var $=0;$<m.length;$++){var O=m[$],a=O[1]+" x "+O[2]+" "+O[3];
if(O[3]=="in")a=(O[1]*25.4).toFixed(0)+" x "+(O[2]*25.4).toFixed(0)+" mm";if(O[3]=="mm")a=(O[1]/25.4).toFixed(1)+" x "+(O[2]/25.4).toFixed(1)+" in";
if(O[4])a=a+" @ "+O[4]+" ppi";Q.push(a);A.push(jF.pt(O,H,J,b))}this.K_.o7(A,Q,H,J)};jF.pt=function(G,m,A,Q){var H=g.L("canvas",""),J=H.getContext("2d");
H.width=m;H.height=A;var b=Math.round(m/8),O=Math.floor(11*g.G()),a=G[1],e=G[2];J.fillStyle="#000000";
J.font=Math.round(O*.9)+"px \"Open Sans\", Sans-Serif";var R=a+" x "+e+" "+G[3],p=J.measureText(R);J.fillText(R,Math.round((m-p.width)/2),A-Math.round(b/2));
if(G[0]!=null){J.font="bold "+O+"px \"Open Sans\", Sans-Serif";var R=G[0],p=J.measureText(R);J.fillText(R,Math.round((m-p.width)/2),A-Math.round(b/2)-Math.round(O*1.3))}A-=Math.round(2.5*O);
var P=Math.min((m-b)/a,(A-b)/e);P*=.5+.5*(Math.max(a,e)/Q);var z=(m-a*P)/2,Z=(A-e*P)/2;J.strokeRect(Math.round(z)+.5,Math.round(Z)+.5,Math.round(a*P),Math.round(e*P));
return H.toDataURL()};jF.prototype._=function(){h4.prototype._.call(this);this.hT._();this.S$._();this.Aw._();
this.US._();this.S$.f(f5.get([11,7]));this.UG._();this.Kr._();this.Pi._()};jF.prototype.Q7=function(G){var m=this.hT.B(),A=m.x,Q=m.y;
this.close();var H=this.Aw.B(),J=new j8(r.E.NH,!0);J.data=fy.xU(A,Q,this.hT.Oc(),this.S$.B(),["Wht","Blck","Trns","Clr"][H[0]],this.Kr.B(),H[1]);
this.u(J);this.a9i()};jF.prototype.arw=function(G){var m=G.data.EY;m.SV=this.hT.Oc();var A=new j8(r.E.W,!0);
A.data={d:r.S.fP,EY:m};this.u(A);this.close();this.a9i()};jF.prototype.a9i=function(){var G=this.b0[this.b0.length-1],m=this.data.ajI;
if(m)fv.NK(function(){var A=new XMLHttpRequest,Q="https://www.googleapis.com/drive/v3/files?"+fv.dy();
A.open("POST",Q,!0);A.setRequestHeader("Content-Type","application/json");A.addEventListener("load",function(H){var J=JSON.parse(H.target.response);
G.M3={file:J,Kl:"psd"};alert(G.name+" created in Google Drive")});A.send(JSON.stringify({name:G.name,afd:[m]}))})};
jF.prototype.MZ=function(G,m,A,Q){this.b0=A;if(G!=null&&G.q!=null){var H=new f_(0,0,G.e,G.n).KB(G.q.rect);
this.hT.f(new dw(H.e,H.n))}this.data=m;this.QF();if(g.tL())gX.a8z(this.apP.bind(this))};jF.prototype.apP=function(G){if(G=="granted")gX.Y2(this,this.ain.bind(this))};
jF.prototype.ain=function(G,m){this.hT.f(new dw(m.e,m.n))};jF.B1=[{name:"Social",pc:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],pc:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],pc:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],pc:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],pc:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],pc:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",pc:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function al(G,m,A){h4.call(this,m,"sel_"+G);this.d=G;var Q=g.L("div","form");this.body.appendChild(Q);
this.S$=new hz(m,0,255,null,0,!1,!0);Q.appendChild(this.S$.m);this.S$.f(1);var H=g.L("span");H.textContent=A;
Q.appendChild(H);g.Qm(Q);this.aaO=new aX("Apply at canvas bounds");if(G!="border")Q.appendChild(this.aaO.m);
this.US=g.lU(this,Q)}al.prototype=new h4;al.prototype.FW=function(G,m){if(G==null)return;if(G.q==null)alert("No selection!");
return G.q!=null};al.prototype.Q7=function(G){var m=new j8(r.E.NH,!0);m.data=f.iK.a48(this.d,this.S$.B(),this.aaO.B());
m._v=!0;this.u(m);this.close()};al.prototype._=function(){h4.prototype._.call(this);this.US._();if(this.S$)this.S$._()};
al.prototype.MZ=function(G,m){};function gP(G,m,A,Q,H,J){h4.call(this,A,m);this.aiD=J;this.Bl=H;this.B1=null;
this.s5=g.L("div","form");this.body.appendChild(this.s5);this.S$=G==0?new h_(A,null,10):G==1?new c3(A,0,500,Q,1):new h_(A,null,24,5);
this.S$.J(r.E.o,this.LI,this);this.s5.appendChild(this.S$.m);this.US=g.lU(this,this.s5);this.J("closebtn",this.jO,this)}gP.prototype=new h4;
gP.prototype.I3=function(){return this.aiD};gP.prototype.LI=function(G){var m=this.S$.B();if(this.Bl)this._i(m)};
gP.prototype.jO=function(G){if(this.Bl)this._i("cancel")};gP.prototype.Q7=function(G){if(this.Bl)this._i("confirm");
else this._i(this.S$.B());this.close()};gP.prototype._i=function(G){if(this.B1.ns)this.B1.ns(G);else if(this.B1.OX){var m=this.B1.OX,A=new j8(m.T,!0);
A.b=m.b;A.data=m.R;A.data.k=G;A._v=!0;this.u(A)}};gP.prototype._=function(){h4.prototype._.call(this);
this.US._();if(this.S$)this.S$._()};gP.prototype.MZ=function(G,m){this.B1=m;this.S$.f(m.Ge);this.S$.UQ();
this.LI(null)};function a2(){h4.call(this,[1,5],"open_from_url");this.z4=null;var G=g.L("div","form");
this.body.appendChild(G);this.xu=new h_("URL",null,22);G.appendChild(this.xu.m);g.Qm(G);this.or=new ai([21,0],[[21,2],[21,1]]);
G.appendChild(this.or.m);this.US=g.lU(this,G)}a2.prototype=new h4;a2.prototype._=function(){h4.prototype._.call(this);
this.US._();this.or._()};a2.prototype.MZ=function(G,m,A){this.xu.UQ();this.z4=null;if(G&&A.indexOf(G)!=-1)this.z4=A.indexOf(G)};
a2.prototype.Q7=function(G){var m=new j8(r.E.W,!0),A=this.xu.B();m.data={d:r.S.BG,WF:{url:A,pG:!0,z4:this.or.B()==1?this.z4:null}};
this.u(m);this.close()};function il(){h4.call(this,[12,79],"preferences");this.dj=null;var G=g.L("div","form");
this.body.appendChild(G);this.fV=[new aX([8,2]),new aX([8,4]),new iV([12,80,3],[[12,93,3],[12,80,4]]),new c3([12,80,5],1,100,null,2),new iV(null,N.Kj.xy),new iV([12,80,6],N.Kj.xy),new aX("Remind me to save")];
for(var $=0;$<this.fV.length;$++){var m=this.fV[$];G.appendChild(m.m);if($!=3)g.Qm(G);m.J(r.E.o,this.b1,this)}}il.prototype=new h4;
il.prototype._=function(){h4.prototype._.call(this);for(var $=0;$<this.fV.length;$++)this.fV[$]._()};
il.prototype.MZ=function(G,m,A){};il.prototype.a2=function(G,m){this.dj=G;this.fV[0].f(G.bt.Ld);this.fV[1].f(G.bt.yk);
this.fV[2].f(G.bt.c_);this.fV[3].f(G.bt.Vm);this.fV[4].f(G.bt.Al);this.fV[5].f(G.bt.ww);this.fV[6].f(G.v_==1)};
il.prototype.b1=function(G){var m=this.fV;if(G.target==m[6])this.dj.v_=1-this.dj.v_;var A=JSON.parse(JSON.stringify(this.dj.bt));
A.Ld=m[0].B();A.yk=m[1].B();A.c_=m[2].B();A.Vm=m[3].B();A.Al=m[4].B();A.ww=m[5].B();if(A.Al!=4)A.Vm=Math.round(A.Vm);
var Q=new j8(r.E.W,!0);Q.data={d:r.S.$g,WF:dG.iS,wK:A};this.u(Q)};function hN(){h4.call(this,[11,8],"saveforweb");
this.a8A="";this.J("closebtn",function(){this.pM.O$()},this);this.hi=new dw(512,512);this.EY=null;this.kO=null;
this.a2b=null;this.dj=null;g.kG(this.body,"flexrow");var G=g.L("div"),m=g.L("div");this.body.appendChild(G);
this.body.appendChild(m);this.Cs=g.L("div","imgcont");G.appendChild(this.Cs);this.pM=new jT;this.pM.e9(this.hi.x,this.hi.y);
this.Nk=g.L("span");G.appendChild(this.Nk);this.s5=g.L("div","form cell");this.s5.setAttribute("style","width:15em; padding-left:1em;");
m.appendChild(this.s5);this.ij=new iV([12,50],dt.v1());this.s5.appendChild(this.ij.m);this.ij.J(r.E.o,this.RW,this);
this.hT=new br(!0,!0,!1,!0);this.hT.J(r.E.o,this.RW,this);this.s5.appendChild(this.hT.m);this.oU=new bw;
this.oU.J(r.E.o,this.RW,this);this.s5.appendChild(this.oU.m);this.HE=new iL([1,2],!0,null,!0);this.HE.J("click",this.Q7,this);
this.s5.appendChild(this.HE.m)}hN.prototype=new h4;hN.prototype.FW=function(G,m){return G!=null};hN.prototype._=function(){h4.prototype._.call(this);
this.hT._();this.ij._();this.oU._();this.HE._()};hN.prototype.Q7=function(G){var m=this.EY.name,A=m.lastIndexOf("."),m=A==-1?m:m.slice(0,A),Q=dt.v1()[this.ij.B()],H=Q=="JPG"||Q=="PNG"||Q=="GIF",J=dt.aW(Q),b="."+Q.toLowerCase(),O=this.kO,a=m+b,e=this.EY,R=e.Xz;
if(R.length!=0&&H&&this.oU.B().pop()){var p="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",P=[],z={},Z=new f_(0,0,e.e,e.n),W=e.$s();
for(var $=0;$<R.length;$++)P.push(f.q3.ZI(R,$));P.reverse();var T=N.rect.LY([0,0,e.e,e.n],P);for(var $=0;
$<T.length;$++){var i=T[$],X=new f_(i[0],i[1],i[2]-i[0],i[3]-i[1]),U=i.length==5?R[i[4]].v:null,M=N.$(X.Z()*4);
N.Pr(W,Z,M,X);var C="img/img"+($+1)+b;z[C]=new Uint8Array(J.Af([[M.buffer,0]],X.e,X.n,this.oU.B()));
p+="<div style=\"background-image:url('"+C+"'); left:"+X.x+"px; top:"+X.y+"px; width:"+X.e+"px; height:"+X.n+"px\">";
if(U&&U.url.v!="")p+="\n\t<a href=\""+U.url.v+"\" target=\""+U.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
p+="</div>\n"}p+="</body>\n</html>\n";var x=N.$(Math.round(p.length*1.5)),L=V.lG(p,x,0);z["index.html"]=x.slice(0,L);
O=UZIP.encode(z);a=m+".zip"}else if(e.add.artd&&e.add.artd.Cnt.v>1&&H&&this.oU.B().pop()){var z={},Z=new f_(0,0,e.e,e.n),W=e.$s(),E=e.root.children;
for(var $=0;$<E.length;$++){var l=E[$].i;if(l.add.artb==null||!l.HX())continue;var y=l._Q(),Y=N.$(y.Z()*4);
N.Pr(W,Z,Y,y);z[l.getName()+b]=new Uint8Array(J.Af([[Y.buffer,0]],y.e,y.n,this.oU.B()))}O=UZIP.encode(z);
a=m+".zip"}if(e.D9){var F=new XMLHttpRequest;F.open("GET","/papi/img/update.php?act=1&id="+e.D9+"&rnd="+Math.random());
F.send()}var w=new j8(r.E.W,!0);w.data={d:r.S.nB,data:O,name:a};this.u(w);this.pM.O$();this.close()};
hN.prototype.MZ=function(G,m){if(m.RI!=null)this.ij.f(m.RI);this.EY=G;var A=G.e+","+G.n;if(A!=this.a8A){this.a8A=A;
this.hT.f(new dw(G.e,G.n),G.SV)}this.oU.a4e();if(m.a2r){this.hT.amz(3);this.oU.up.PDF[2].xk.f(!0)}this.RW(null,!0)};
hN.prototype.EQ=function(G,m){return new dw(Math.max(0,Math.min(150,(G-770)/2)),Math.max(0,Math.min(150,(m-590)/2)))};
hN.prototype.e9=function(G,m){this.zp=G;this.V7=m;this.hi.x=Math.min(512,G-26-214);this.hi.y=Math.min(512,m-45);
if(this.EY==null)return;var A=this.hT.B(),G=A.x,m=A.y,Q=dt.v1()[this.ij.B()],H=dt.aW(Q),p="<span style=\"width:",P="display:inline-block; text-align:right;\">";
if(H.cQ){var J=G,b=m,O;if(Q=="PDF"||H.CD){J=this.hi.x;b=this.hi.y}else{J=Math.min(G+20,this.hi.x);b=Math.min(m+20,this.hi.y)}this.Cs.firstChild.setAttribute("style","display:block; width:"+J+"px; height:"+b+"px;")}else{if(H.CD){J=this.hi.x;
b=this.hi.y}else{var a=this.a2b,e=a[0].NS,J=e.e,b=e.n;this.pM.e9(Math.max(50,Math.min(J/g.G(),this.hi.x)),Math.max(50,Math.min(b/g.G(),this.hi.y)))}}var R=this.kO.byteLength,z=Q+":"+p+64+"px;"+P+hN.tl(R)+"</span>";
if(this.hi.x>200)z+=p+90+"px; opacity:"+.5+";"+P+R.toLocaleString()+" B</span>";this.Nk.innerHTML=z};
hN.tl=function(G){var m=G.toString(2),A=0;while(A+10<m.length)A+=10;var Q=(G/Math.pow(2,A)).toFixed(1),H="B KB MB GB TB PB".split(" ")[Math.floor(A/10)];
return Q+" "+H};hN.prototype.a2=function(G,m){this.dj=G};hN.prototype.RW=function(G,m){var A=this.EY,Q=this.hT.B(),H=Q.x,J=Q.y,b=this.ij.B(),O=dt.v1()[b],a=dt.MO(A)[0].length,e=["GIF","PNG","WEBP"].indexOf(O)!=-1&&a>1,W="";
if(e&&m&&(a>4&&H*J>1024*1024||H*J*a>800*800*50)){var R=1;while(Math.max(H>>>R,J>>>R)>800)R++;var p=window.confirm("Your animation is large ("+H+" x "+J+" px). Press \"OK\" to scale it to "+(100>>>R)+"%. Press \"Cancel\" to keep the size.");
if(p){this.hT.f(new dw(H>>>R,J>>>R),null,!0);H=H>>>R;J=J>>>R}}var P=A.add.artd,z=P!=null&&P.Cnt.v>1;
this.oU.afO(O,e,A.Xz.length!=0,z);var Z=this.oU.B();this.kO=dt.DZ(A,O,H,J,Z,this.dj);if(this.kO==null){this.EY=null;
return}g.iJ(this.Cs);this.pM.O$();var T=dt.aW(O);if(T.CD){this.Cs.innerHTML="<div></div>";W+="width:0px"}else if(T.cQ){var i=H,X=J,U;
if(O=="PDF"){U=URL.createObjectURL(new Blob([this.kO],{type:"application/pdf"}))}else{U=URL.createObjectURL(new Blob([this.kO],{type:"image/svg+xml"}))}this.Cs.innerHTML="<iframe src=\""+U+"\"></iframe>"}else{var M=this.a2b=T.uJ(this.kO),C=M[0].NS,i=C.e,X=C.n;
this.pM.f(M,M.length>1?Z[Z.length-3]:0);this.Cs.appendChild(this.pM.m);W="background: rgba(0,0,0,0);"}this.Cs.setAttribute("style","display:block; background-size:"+16/g.G()+"px;"+W);
this.e9(this.zp,this.V7)};function jE(){h4.call(this,[11,13],"shortcuts");var G=this.qY=g.L("div","scrollable");
G.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(G);
this.a0C()}jE.prototype=new h4;jE.prototype._=function(){h4.prototype._.call(this);this.a0C()};jE.prototype.a0C=function(){var G="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",m="",A=a5,Q=A.KF,H=A.K6,J=A.Ei;
m+="<h2 style=\"margin-top:0;\">Main Menu</h2>";m+=G;m+=this.vv([[0,0],"---",[1,0],[Q,A.xb],[1,2],[Q,A.UT],[1,3],[H,Q,A.UT],[1,8],[J,H,Q,A.UT],[0,1],"---",[2,0],[H,Q,A.dT],[2,1],[Q,A.dT],[5,0],[Q,A.ab],[5,1],[Q,A.yE],[5,2],[Q,A.z8],[2,2],"Delete",[2,3],[J,A.m9],[10,16],[J,Q,A.zr],[12,79],[Q,A.SU],[3],"---",[4,1],[Q,A.QC],[4,2],[Q,A.yW],[4,5],[Q,A.NW],[4,11],[Q,A.VJ],[0,3],"---",[6,13],[H,Q,A.uV],[6,49,0],[Q,A.Qk],[6,6,0],[J,Q,A.jE],[6,9],[Q,A.jE],[6,10],[Q,A.E],[0,5],"---",[7,0],[Q,A.S],[7,1],[Q,A.z_],[7,2],[H,Q,A.VJ],[0,7],"---",[8,0],[Q,A.Da],[8,1],[Q,A.OS],[8,3],[Q,A.Lm],[8,2],[Q,A.Op],[8,4],[Q,A.xC],[11,13],"?"]);
m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";m+=G;m+=this.vv(["Vertical scroll","Wheel","Horizontal scroll",[Q,"Wheel"],"Zooming",[J,"Wheel"]]);
m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
m+=G;m+=this.vv([[10,11],[Q],[10,7],"Space",[10,17],[Q,A.WN]]);m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
m+=G;var b=jE.K,O=[];for(var $=0;$<b.length;$+=3)if(b[$+1])O.push(b[$],b[$+1]);O=O.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
m+=this.vv(O);m+="</div>";this.qY.innerHTML=m};jE.prototype.vv=function(G){var m="",A=!0;for(var $=0;
$<G.length;$+=2){var Q=G[$],H=a5.n5(G[$+1]);if(H==null){A=!1;continue}var J=g.vC(f5.get(Q));if(H=="---"){if(!A)m+="<br/>";
m+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+J+"</div>"}else m+="<div>"+J+" <span style=\"float:right; font-weight:bold;\">"+H+"</span> </div>";
A=!1}return m};jE.K=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function jC(){h4.call(this,[8,11,1],"soptions");this.Zs=null;var G=g.L("div","form");G.style.width="20em";
this.body.appendChild(G);this.fH={Nm:[12,48],url:"URL",null:[12,71]};this.fV={};for(var m in this.fH){var A=new h_(this.fH[m],null,15);
this.fV[m]=A;G.appendChild(A.m)}this.US=g.lU(this,G)}jC.prototype=new h4;jC.prototype.MZ=function(G,m,A){var Q=m.k;
this.Zs=JSON.stringify(Q);for(var H in this.fH){if(Q[H])this.fV[H].f(Q[H].v)}};jC.prototype.Q7=function(G){var m=JSON.parse(this.Zs);
for(var A in this.fH){var Q=this.fV[A].B();m[A]={t:"TEXT",v:Q}}var H=new j8(r.E.w,!0);H.b=f.QB;H.data=m;
H._v=!0;this.u(H);this.close()};jC.prototype._=function(){h4.prototype._.call(this);this.US._()};function jq(){h4.call(this,[2,3],"fill");
this.dj=null;this.YB=null;var G=g.L("div","form padded");G.style.width="22em";this.body.appendChild(G);
this.IY="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.jj=new iV([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.jj.J(r.E.o,this.a0l,this);G.appendChild(this.jj.m);this.Cs=g.L("span");G.appendChild(this.Cs);this.z3=new jM;
this.z3.parent=this;this.z3.s8(0);this.WJ=new ex;this.WJ.parent=this;this._S=new iV([12,19,0],ib.dw,!1,ib.gK);
G.appendChild(this._S.m);this.N6=new c3([12,0],0,100,"%",0,!1);this.N6.f(100);G.appendChild(this.N6.m);
this.oI=new aX("Preserve Transparency");this.oI.f(!1);G.appendChild(this.oI.m);this.US=g.lU(this,this.body)}jq.prototype=new h4;
jq.prototype.FW=function(G,m){return G!=null};jq.prototype.I3=function(){return!0};jq.prototype.a0l=function(){var G=this.jj.B(),m=this.z3.m,A=this.WJ.m,Q=this.Cs;
if(G==2)Q.appendChild(m);else if(Q.contains(m))Q.removeChild(m);if(G==7)Q.appendChild(A);else if(Q.contains(A))Q.removeChild(A)};
jq.prototype._=function(){h4.prototype._.call(this);this.jj._();this._S._();this.N6._();this.US._()};
jq.prototype.Q7=function(G){if(!this.YB.fE())return;var m=new j8(r.E.NH,!0),A=this.jj.B();m.data=f.Xi.H2(this.IY[A],ib.Vh[this._S.B()],this.N6.B()/100,this.z3.B(),this.oI.B(),this.WJ.B());
this.close();this.u(m)};jq.prototype.MZ=function(G,m){this.YB=G};jq.prototype.a2=function(G,m){this.dj=G;
if(m==dG.ud||m==dG.VP){this.WJ.pA(G.uf);this.WJ.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function ee(){h4.call(this,[14,9],"stroke");this.dj=null;this.s5=g.L("div","form");this.s5.setAttribute("style","width:24em");
this.body.appendChild(this.s5);this.PF=new fh("FrFX",!0);this.PF.parent=this;var G=["Sz","Styl","Md","Opct"].concat(hK.WX);
for(var $=0;$<G.length;$++){var m=this.PF.No[G[$]].m;this.s5.appendChild(m)}this.yL=!1;this.US=g.lU(this,this.body)}ee.prototype=new h4;
ee.prototype.FW=function(G,m){return G!=null};ee.prototype.I3=function(){return!0};ee.prototype._=function(){h4.prototype._.call(this);
this.US._();this.PF._()};ee.prototype.Q7=function(G){var m=new j8(r.E.w,!0);m.b=f.P1;m.data={d:"stroke",anc:this.PF.B()};
this.close();this.u(m)};ee.prototype.MZ=function(G,m){if(!this.yL){var A=hK.in[hK.order.indexOf("FrFX")];
A=JSON.parse(A);this.PF.update(G,A);this.yL=!0}var A=this.PF.B(),Q=this.dj.yu;A.Clr.v=N.X.N4({p:Q>>16&255,z:Q>>8&255,h:Q&255});
this.PF.update(G,A)};ee.prototype.a2=function(G,m){this.dj=G};function ea(){h4.call(this,[11,9],"textwarp");
this.fV=new ar;this.fV.J(r.E.o,this.K3,this);this.fV.parent=this;this.s5=g.L("div","form");this.s5.setAttribute("style","width:20em");
this.body.appendChild(this.s5);this.s5.appendChild(this.fV.GX.m);this.s5.appendChild(this.fV.Ju.m);this.s5.appendChild(this.fV.X3.m);
this.s5.appendChild(this.fV.wG.m);this.s5.appendChild(this.fV.qs.m);this.US=g.lU(this,this.s5);this.J("closebtn",this.jO,this)}ea.prototype=new h4;
ea.prototype.I3=function(){return!0};ea.prototype._=function(){h4.prototype._.call(this);this.US._();
this.fV._()};ea.prototype.K3=function(G){var m=this.fV.B();this._i({d:"warp",iZ:m})};ea.prototype._i=function(G){var m=new j8(r.E.w,!0);
m.b=f.G8;m.data=G;m._v=!0;this.u(m)};ea.prototype.jO=function(G){this._i({d:"warpCancel"})};ea.prototype.Q7=function(G){this._i({d:"warpConfirm"});
this.close()};ea.prototype.MZ=function(G,m){var A=G.g[G.c[0]];this.fV.f(A.add.TySh.yF)};function as(){h4.call(this,[11,12,0],"trim");
var G=this.s5=g.L("div","form");this.s5.setAttribute("style","width:22em");this.body.appendChild(this.s5);
var m=new gS("Color To Trim:");G.appendChild(m.m);this.wu=new a6(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.wu.f([!0]);this.s5.appendChild(this.wu.m);var m=new gS("Sides:");G.appendChild(m.m);this.rx=new a6(null,["Top","Left","Bottom","Right"]);
this.rx.f([!0,!0,!0,!0]);this.s5.appendChild(this.rx.m);this.US=g.lU(this,this.body)}as.prototype=new h4;
as.prototype.FW=function(G,m){return G!=null};as.prototype.I3=function(){return!0};as.prototype._=function(){h4.prototype._.call(this);
this.wu._();this.rx._();this.US._()};as.prototype.Q7=function(G){var m=this.wu.B().indexOf(!0),A=this.rx.B(),Q=new j8(r.E.NH,!0);
Q.data=f.MB.Mr(m,A);this.close();this.u(Q)};function ih(){h4.call(this,"Raw Photopea","rawpea");this.Qz=null;
this.zS=null;this.Th=null;this.Rr=0;this.ty=null;this.Wu=null;this.afH=500;this.aeZ=500;this.ant=0;this.J("closebtn",this.Ha,this);
g.kG(this.body,"flexrow");var G=g.L("div"),m=g.L("div"),Q="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
m.setAttribute("style","padding-left: 1em");this.body.appendChild(G);this.body.appendChild(m);this.O=g.L("canvas");
G.appendChild(this.O);this.$t=new eS(225);this.$t.oS(4);m.appendChild(this.$t.m);this.s5=g.L("div");
this.s5.setAttribute("style","width:18em;");m.appendChild(this.s5);this.aa7=new gS("Hi",!0);this.s5.appendChild(this.aa7.m);
this.kI=[new bo("Temperature",2e3,13e3),new bo("Tint",-150,150),new bo([4,3],-4,4,null,!0),new bo([12,3,0],-100,100)];
for(var $=0;$<this.kI.length;$++){var A=this.kI[$];A.f(0);A.J(r.E.o,this.Lc,this);this.s5.appendChild(A.m);
if($==1)this.s5.appendChild(g.L("hr"))}this.US=new iL([1,0],!0,null,!0);this.US.J("click",this.Q7,this);
this.s5.appendChild(this.US.m);this.Dq=new iL(Q+" JPG",!0,null,!0);this.Dq.J("click",this.atF,this);
this.s5.appendChild(this.Dq.m);this.Dq.m.style.marginTop="6px"}ih.prototype=new h4;ih.prototype.EQ=function(){return new dw(0,0)};
ih.prototype.e9=function(G,m){this.afH=G-274;this.aeZ=m-32;if(this.Qz)this.agj()};ih.prototype._=function(){h4.prototype._.call(this);
this.US._();for(var $=0;$<this.kI.length;$++)this.kI[$]._()};ih.prototype.atF=function(G){var m=this.Qz,A=this.zS,Q=N.$(m.width*m.height*4);
N.w8(Q,4294967295);N.raw.rZ(A,Q,m,this.hh());var H=dt.aW("JPG").Af([[Q.buffer]],A.Ze,A.Vg,[85]),J=new j8(r.E.W,!0);
J.data={d:r.S.nB,data:H,name:"photo.jpg"};this.u(J)};ih.prototype.Q7=function(G){var m=this.Qz,A=this.zS,Q=N.$(m.width*m.height*4);
N.w8(Q,4294967295);N.raw.rZ(A,Q,m,this.hh());var H=fg.KG(m),m={NS:new f_(0,0,A.Ze,A.Vg),data:Q.buffer,ey:H},J=dt.SQ("Raw Photo",[m]),b=new j8(r.E.W,!0);
b.data={d:r.S.fP,EY:J};this.u(b);this.Ha();this.close()};ih.prototype.Ha=function(){this.Qz=null;this.zS=null;
this.ty=null;this.Wu=null};ih.prototype.MZ=function(G,m,A,Q){this.Qz=m.R0;this.zS=N.raw.agS(this.Qz);
var H=this.zS;this.aa7.f(H.Ze+" x "+H.Vg+", "+(H.Ze*H.Vg/1e6).toFixed(1)+" MPx");var J=N.raw.aoX(m.R0);
this.Th=di.MX(J);this.kI[0].f(this.Th.Gk);this.kI[1].f(this.Th.t5);for(var $=2;$<this.kI.length;$++)this.kI[$].f(0);
this.agj()};ih.prototype.a2=function(G,m){this.$t.s8(cK.Ou[G.t6]["--text-color"])};ih.prototype.agj=function(){var G=this.zS,m=G.Ze,A=G.Vg,Q=1;
while(m/Q>this.afH*g.G()||A/Q>this.aeZ*g.G())Q++;if(this.ant==Q&&this.ty)return;this.ant=Q;var H=Math.floor(m/Q),J=Math.floor(A/Q);
this.ty={uw:new Float32Array(H*J*3),Ze:H,Vg:J};var b=this.O.getContext("2d");this.Wu=N.$(H*J*4);N.w8(this.Wu,4294967295);
var O=1/(Q*Q);for(var a=0;a<J;a++)for(var e=0;e<H;e++){var R=0,p=0,P=0,z=(e+1)*Q,Z=(a+1)*Q;for(var W=a*Q;
W<Z;W++)for(var T=e*Q;T<z;T++){var i=(W*m+T)*3;R+=this.zS.uw[i];p+=this.zS.uw[i+1];P+=this.zS.uw[i+2]}var X=(a*H+e)*3;
this.ty.uw[X]=R*O;this.ty.uw[X+1]=p*O;this.ty.uw[X+2]=P*O}this.Lc()};ih.prototype.Lc=function(){var G=this.Qz,m=this.ty.Ze,A=this.ty.Vg,Q=m*A,H=this.O,J=H.getContext("2d");
H.width=m;H.height=A;g.AX(H,m,A);N.raw.rZ(this.ty,this.Wu,G,this.hh());J.putImageData(new ImageData(new Uint8ClampedArray(this.Wu.buffer),m,A),0,0);
var b=N.de(this.Wu);for(var $=0;$<4;$++)for(var O=1;O<256;O++)if(b[$][O]==0)b[$][O]=b[$][O-1];for(var $=0;
$<4;$++)for(var O=1;O<256;O++)if(b[$][O]==0)b[$][O]=b[$][O-1];this.$t.f(b)};ih.prototype.hh=function(){var G=[];
for(var $=0;$<this.kI.length;$++)G.push(this.kI[$].B());return G};function gF(G){h4.call(this,G?[11,11]:"Reduce Colors",G?"vbitmap":"rcolors");
this.B1=null;this.la=null;this.nG=null;this.cr=null;this.Hm=null;this.a2M=null;this.c3=null;this.SO="";
this.UF=G;this.Kv=this.Ta.bind(this);this.body.style.padding="0";this.s5=g.L("div","form hbar padded");
this.body.appendChild(this.s5);var m=this.e8={cnum:new hz([12,82],2,50,null),nois:new aX([12,81]),mode:new iV(null,["Cartoon","Photo"]),segm:new aX("Segmentize"),poly:new aX("Polygon"),polE:new hz("Roughness",2,30,null),ok:g.lU(this,null,!1)},J=16;
for(var A in m){var Q=m[A];Q.parent=this;if(A!="ok")Q.J(r.E.o,this.Ta,this)}var H=this.Ab=g.L("div","flexrow");
this.body.appendChild(H);this.tz=new jT;this.tz.J("viewchange",this.zl,this);this.YA=new jT;this.O=g.L("canvas");
this.O.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.JR=this.O.getContext("2d");
var b=N.$(16*16*4);N.dC(b,J,J,8);this.e7=N.scale.ke(b,J,J);this.tz.a55(this.O);this.tz.u9(this.YA);this.YA.u9(this.tz);
H.appendChild(this.tz.m);if(G)H.appendChild(this.O);else H.appendChild(this.YA.m)}gF.prototype=new h4;
gF.prototype.EQ=function(){return new dw(0,0)};gF.prototype.I3=function(){return!0};gF.prototype.e9=function(G,m){this.zp=G;
this.V7=m;m=m-44;if(G<600)m-=29;if(this.B1==null)return;var A=this.B1.NS,Q=jJ.aq3(G,m,A.e,A.n);if(Q==1)m-=3;
if(Q==0){G=Math.floor(G/2);g.kG(this.Ab,"flexrow")}else{m=Math.floor(m/2);g.W8(this.Ab,"flexrow")}g.bi(this.O,G,m);
this.tz.e9(G,m);if(this.UF)this.zl();else this.YA.e9(G,m)};gF.prototype.KY=function(G,m,A,Q){this.tz.KY(Q)};
gF.prototype._=function(){h4.prototype._.call(this);for(var G in this.e8)this.e8[G]._()};gF.prototype.MZ=function(G,m){this.c3=G;
this.Hm=null;var A=G.g[G.c[0]],Q=N.m8.ZA(A.buffer.buffer,A.rect.e,A.rect.n).a3A,H=Q/((A.rect.e-2)*(A.rect.n-2)),J=this.e8;
J.cnum.f(20);J.nois.f(H<.75);J.mode.f(H<.75?1:0);J.segm.f(!1);J.poly.f(!1);J.polE.f(1);var b=A.rect.clone();
b.x=b.y=0;this.B1={NS:b,data:A.buffer.buffer.slice(0)};this.la=null;this.e9(this.zp,this.V7);this.tz.f([this.B1]);
this.tz.Tj();setTimeout(this.Kv,20)};gF.prototype.Ta=function(){var G=!0,m=Date.now(),A=this.B1,Q=this.e8,H=Q.cnum.B(),J=Q.nois.B(),b=Q.mode.B(),O=Q.segm.B(),a=Q.poly.B(),e=Q.polE.B(),L=null;
if(b==0)O=a=!1;var R=["cnum","nois","mode"];if(b==1){R.push("segm");if(this.UF){R.push("poly");if(a)R.push("polE")}}R.push("ok");
g.iJ(this.s5);for(var $=0;$<R.length;$++)this.s5.appendChild(Q[R[$]].m);if(G)console.log("---------------------------------------");
var p=J||O,P=J+","+O;if(p&&(this.la==null||this.SO!=P)){this.SO=P;var z=new Uint8Array(A.data),Z=A.NS.e,W=A.NS.n;
if(J){if(this.Hm==null){this.Hm=z.slice(0);N.lP.QI(this.Hm,this.Hm,Z,W,15,N.lP.mM,[35]);if(G){console.log("denoise",Date.now()-m);
m=Date.now()}}z=this.Hm.slice(0)}else z=z.slice(0);if(O){var T=N.m8.Tw(z,Z,W,40,10),i=T.SU,X=new Uint8Array(i*4);
for(var $=0;$<i;$++){var U=$*4,M=$*6,C=1/T.q$[M+5];X[U]=T.q$[M]*C;X[U+1]=T.q$[M+1]*C;X[U+2]=T.q$[M+2]*C}for(var $=0;
$<z.length;$+=4){var x=T.cT[$>>>2]*4;z[$]=X[x];z[$+1]=X[x+1];z[$+2]=X[x+2]}if(G){console.log("segm",Date.now()-m);
m=Date.now()}}this.la={NS:A.NS.clone(),data:z.buffer}}if(p)A=this.la;var z=new Uint8Array(A.data),Z=A.NS.e,W=A.NS.n;
for(var $=0;$<z.length;$+=4){if(z[$+3]<10)z[$]=z[$+1]=z[$+2]=z[$+3]=0}if(b==0){L=N.m8.ab7(z,Z,W,H,p?.1:2e-4);
if(G){console.log("quantize",Date.now()-m);m=Date.now()}}else{L=iA.j9(z.buffer,H,Z,W)}if(this.UF){var E=L.cT.slice(0);
for(var $=0;$<E.length;$++)E[$]++;var l=new Uint8Array((Z+2)*(W+2));N.qg(E,new f_(1,1,Z,W),l,new f_(0,0,Z+2,W+2));
if(!a){var y=Math.round((Z+2)*(W+2)/1e4),Y=fb.RN(l.slice(0),Z+2,W+2,Math.min(12,y)),F=fb.S9(Y);if(G){console.log("trace smooth",Date.now()-m);
m=Date.now()}}else{var F=N.H.b8(l,Z+2,W+2,e,G)}var w=F.length,j=new ci(1,0,0,1,-1,-1);for(var $=0;$<w;
$++)N.H.A(F[$].path.s,j,F[$].path.s);this.cr=F;this.nG=L;for(var $=0;$<w;$++){var _=F[$];for(var D=$+1;
D<w;D++){var t=F[D];if(t.parent==$&&L.nV[t.color-1].est.q[3]<.05){var K=t.path.C.slice(1);K.reverse();
K=["M"].concat(K);var d=[],Y=t.path.s.length;for(var o=0;o<Y;o+=2){d[o]=t.path.s[Y-2-o];d[o+1]=t.path.s[Y-2-o+1]}N.H.concat(_.path,{s:d,C:K})}}}if(G){console.log("finding holes",Date.now()-m);
m=Date.now()}for(var $=0;$<F.length;$++){var _=F[$],k=L.nV[_.color-1].est.q;if(k[3]<=.05){F.splice($,1);
$--;continue}}for(var $=1;$<F.length;$++){var v=F[$-1],_=F[$];if(v.color==_.color){N.H.concat(v.path,_.path);
F.splice($,1);$--;continue}}this.zl()}else{var u=new Uint32Array(Z*W),B=Z*W;for(var $=0;$<B;$++){var S=L.nV[L.cT[$]];
u[$]=S.est.rgba}this.a2M=new Uint8Array(u.buffer);this.YA.f([{NS:A.NS,data:u.buffer}])}};gF.prototype.zl=function(G){if(this.cr==null)return;
var m=this.B1.NS.e,A=this.B1.NS.n,Q=this.cr,H=this.nG.nV,J=this.O,b=this.JR,O=this.tz.HJ();b.setTransform(1,0,0,1,0,0);
b.clearRect(0,0,J.width,J.height);b.translate(J.width/2,J.height/2);b.scale(O.V,O.V);b.translate(O.r.x/O.V-m/2,O.r.y/O.V-A/2);
b.scale(1/O.V,1/O.V);b.fillStyle=this.e7;b.fillRect(0,0,m*O.V,A*O.V);b.scale(O.V,O.V);var a=[];for(var $=0;
$<H.length;$++){var e=H[$].est.q;a.push({p:Math.round(255*e[0]),z:Math.round(255*e[1]),h:Math.round(255*e[2]),Uj:Math.round(255*e[3])})}for(var $=0;
$<Q.length;$++){var R=Q[$],e=a[R.color-1];if(e.Uj==0)continue;b.fillStyle="rgba("+e.p+","+e.z+","+e.h+","+e.Uj/255+")";
b.beginPath();Typr.U.pathToContext({crds:R.path.s,cmds:R.path.C},b);b.fill()}};gF.prototype.Q7=function(G){var m=this.c3,A=m.c[0],Q=m.g[A],H=new j8(r.E.w,!0);
H._v=!0;H.b=f.p4;if(this.UF){var J=this.cr,b=J.length==1,O=m.g.slice(0,A);if(!b)O.push(m.uF());for(var $=0;
$<J.length;$++){var a=J[$],e=this.nG.nV[a.color-1].est.q;N.H.A(a.path.s,new ci(1,0,0,1,Q.rect.x,Q.rect.y),a.path.s);
var R=m.uA();R.mw("Path "+$);O.push(R);R.opacity=Math.round(e[3]*255);R.$G|=16;R.add.SoCo={classID:"null",Clr:{t:"Objc",v:N.X.N4({p:255*e[0],z:255*e[1],h:255*e[2]})}};
R.add.vmsk=new c.Rl;R.add.vstk=JSON.parse(JSON.stringify(hK.nh.default));R.add.vmsk.Y=N.H.ev(a.path,!1);
R.add.vogk=[];R.ON();R.hM(m)}var p=O[O.length-1];if(!b){var R=m.uA();R.mw(Q.getName());R.add.lsct=fM.UK;
R.w4="pass";R.$G=24;O.push(R);p=R}var P=Q.add.lmfx;if(P)p.add.lmfx=JSON.parse(JSON.stringify(P));for(var $=A+1;
$<m.g.length;$++)O.push(m.g[$]);H.data={d:c.ZO,xQ:O,xe:[A+J.length+(b?-1:1)],om:[11,11]}}else{var O=m.g.slice(0),R=m.uA();
R.mw(Q.getName());O.splice(m.c[0]+1,0,R);R.rect=Q.rect.clone();R.buffer=this.a2M;R.F();H.data={d:c.ZO,xQ:O,xe:[m.c[0]+1],om:"Reduce Colors"}}this.u(H);
this.close()};function jJ(G){h4.call(this,[[7,11],[7,13]][G],["redge","magiccut"][G]);this.wu=G;this.B1={};
this.Eq=null;this.Wc=null;this.c3=null;this.mD=null;this.cl=null;this.body.style.padding="0";this.lz=[];
this.Jr=-1;this.s5=g.L("div","form hbar padded");this.body.appendChild(this.s5);this.rn=new hJ;this.rn.parent=this;
this.rn.J(r.E.o,this.hr,this);this.s5.appendChild(this.rn.m);var m=G==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
m=m.concat("tools/hand","zoomIn","zoomOut");var A=G==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.ks=new gr(null,m,A,28);this.ks.J(r.E.o,this.KY,this);this.s5.appendChild(this.ks.m);this.Le=new hz([7,9],0,50,null);
this.Le.parent=this;this.Le.J(r.E.o,[this.afN,this.Ta][G],this);this.s5.appendChild(this.Le.m);var Q=this.a1s=new iL([2,2],!1,null,!0);
Q.J("click",this.Ha,this);this.s5.appendChild(Q.m);var H=this.a9e=g.L("span","form");this.s5.appendChild(H);
var J=this.atw=new iL([12,90],!1,null,!0);J.J("click",function(a){alert(G==0?f5.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
H.appendChild(J.m);var b=new iL("Tutorial",!1,null,!0);b.J("click",this.ab0,this);H.appendChild(b.m);
this.qt=new gr([12,46],["checker","#ffffff","#000000"]);this.qt.J(r.E.o,this.ade,this);H.appendChild(this.qt.m);
this.OB=new iV(null,[[6,13],[6,2],[17,2]]);H.appendChild(this.OB.m);this.US=g.lU(this,H,!1);var O=this.Ab=g.L("div","flexrow");
this.body.appendChild(O);this.N0=new jT(!0);this.Vb=new jT;this.N0.u9(this.Vb);this.Vb.u9(this.N0);this.N0.J("mousedown",this.mC,this);
this.N0.J("mousemove",this.Vz,this);this.N0.J("mouseup",this.Jx,this);this.N0.J("zoom",this.hr,this);
this.Vb.J("zoom",this.hr,this);O.appendChild(this.N0.m);O.appendChild(this.Vb.m)}jJ.prototype=new h4;
jJ.prototype.FW=function(G,m){var A=G!=null&&!G.g[G.c[0]].rect.My();if(!A)alert("The layer is empty.");
return A};jJ.prototype.EQ=function(){return new dw(0,0)};jJ.prototype.I3=function(){return!0};jJ.prototype.e9=function(G,m){this.zp=G;
this.V7=m;m=m-12-33;if(G<900){this.a9e.setAttribute("style","display:block;  text-align:right;");m-=29}else{this.a9e.setAttribute("style","position:absolute;  right:0px")}var A=this.B1.rect;
if(A){var Q=jJ.aq3(G,m,A.e,A.n);if(Q==0){G=Math.floor(G/2);g.kG(this.Ab,"flexrow")}else{m=Math.floor(m/2);
g.W8(this.Ab,"flexrow")}this.N0.e9(G,m);this.Vb.e9(G,m)}};jJ.aq3=function(G,m,A,Q){var H=G/2,J=m/2,b=Math.min(H/A,m/Q),O=Math.min(G/A,J/Q);
return b>O?0:1};jJ.prototype._=function(){h4.prototype._.call(this);this.rn._();this.Le._();this.US._();
this.qt._();this.OB._();this.a1s._();this.atw._()};jJ.prototype.ab0=function(G){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.wu],"_blank")};
jJ.prototype.a2=function(G,m){this.Wc=G;if(m==dG.sV||m==dG.ud){this.rn.pA(G.wo);this.rn.f(g3.g$(),G.wo.GO,G.wo.WJ)}};
jJ.prototype.KY=function(G,m,A,Q){var H=this.ks.B();if(Q==null){this.N0.KY(jT.a6v(H-3));return}this.mD=Q;
var J=f.Xi.fZ(this.rn.B(),Q);if(J!=null){this.rn.f(J);this.hr()}else if(Q.j(a5.KF)&&Q.j(a5.dT)){var b=this.lz,O=0;
if(Q.j(a5.K6)){if(this.Jr+1<b.length)O=1}else if(this.Jr>0)O=-1;if(O!=0){this.Jr+=O;var a=this.Jr,e=this.B1;
if(O==1)N.Pr(b[a][2],b[a][0],e.Oo,e.rect);else N.Pr(b[a+1][1],b[a+1][0],e.Oo,e.rect);e.ki=e.rect;this.Ta()}}else if(H<3)this.N0.KY(Q)};
jJ.prototype.cH=function(G){var m=this.B1,A=this.lz,Q=N.$(G.Z()*4);N.Pr(m.dK,m.rect,Q,G);m.dK=null;var H=N.$(G.Z()*4);
N.Pr(m.Oo,m.rect,H,G);this.Jr++;A[this.Jr]=[G.clone(),Q,H];while(A.length>this.Jr+1)A.pop();while(A.length>50){A=A.slice(1);
this.Jr--}};jJ.prototype.hr=function(){var G=this.Wc,m=gj.qR(this.rn.B(),G.wo.GO,this.N0.HJ().V);this.N0.yJ(m)};
jJ.prototype.mC=function(G){var m=this.Wc,A=this.B1,Q=this.mD,H=this.rn.B(),J=this.N0.jU(),b=[16777215,8421504,0][this.ks.B()];
this.Eq=new gj(H,m.wo.GO,m.wo.WJ,{vq:1,IV:!0},b,m.qU,A.rect);A.dK=A.Oo.slice(0);if(Q!=null&&Q.j(a5.K6)&&this.cl){this.Eq.moveTo(this.cl.x,this.cl.y);
this.Eq.lineTo(J.x,J.y)}else this.Eq.moveTo(J.x,J.y);this.a61()};jJ.prototype.Vz=function(G){var m=this.B1,A=this.N0.jU();
this.Eq.lineTo(A.x,A.y);this.a61()};jJ.prototype.Jx=function(G){this.cl=this.N0.jU();this.cH(this.Eq.qb());
this.Ta()};jJ.prototype.a61=function(){var G=this.B1,m=this.Eq,A=m.jt();if(A.My())return;G.ki=A;N.a.zc("norm",m.kg(),m.E8(),G.Oo,G.rect,A,1);
this.a6n()};jJ.prototype.Ha=function(G){var m=this.B1;m.dK=m.Oo.slice(0);m.ki=m.rect;N.w8(m.Oo,[4278190080,4292730333][this.wu]);
this.cH(m.rect);this.Ta()};jJ.prototype.MZ=function(G,m){this.c3=G;var A=G.g[G.c[0]],Q=A.rect.clone(),H=Q.e,J=Q.n;
this.Le.f(this.wu==0?3:H*J<3e6?3:0);this.ks.f(G.q==null?0:1);this.Le.Tx();if(this.wu==0&&G.q!=null||this.wu==1)this.Le.vF();
var b=this.wu,O=N.$(Q.Z()),a=new Float32Array(Q.Z());if(b==0&&G.q){N.qg(G.q.channel,G.q.rect,O,Q);var e=N.$(Q.Z());
for(var R=0;R<J;R++)for(var p=0;p<H;p++){var $=R*H+p,P=O[$];if(p>0&&O[$-1]!=P||p<H-1&&O[$+1]!=P||R>0&&O[$-H]!=P||R<J-1&&O[$+H]!=P)e[$]=255}N.style.$M(e,a,H,J)}else a.fill(1e9);
Q.x=Q.y=0;this.B1={rect:Q,uw:A.buffer,wX:O,aB:a,Xf:N.$(Q.Z()*4),q4:N.$(Q.Z()*4),Oo:N.$(Q.Z()*4),dK:null,De:null,ki:Q,a7y:{}};
if(b==0)this.afN();else{this.B1.a7y=f.kx.Sl(G);var z=this.B1.Oo;N.w8(z,4287137928);var Z=N.$C.getSelection(A.buffer,H,J),W=Math.round(H/60),T=Math.round(.7*J);
for(var R=0;R<J;R++)for(var p=0;p<H;p++){var i=(R*H+p)*4,X=Z[i>>>2];X=X>128?255:128;if(R<W||R<T&&(p<W||p>H-1-W))X=0;
z[i]=z[i+1]=z[i+2]=X}this.Ta()}this.lz=[1];this.Jr=0;var U=this.rn.B();U.Brsh.v.Dmtr.v.val=Math.round(Q.e/(b==0?10:20));
this.rn.f(U);this.hr();this.e9(this.zp,this.V7);this.N0.Tj()};jJ.prototype.afN=function(){var G=this.B1,m=G.rect.Z(),A=this.Le.B(),Q=G.wX.slice(0);
for(var $=0;$<m;$++)if(G.aB[$]<A)Q[$]=128;N.w8(G.Oo,4294967295);N.I5(Q,G.Oo,0);N.I5(Q,G.Oo,1);N.I5(Q,G.Oo,2);
G.ki=G.rect;this.Ta()};jJ.prototype.Ta=function(){var G=this.B1,H,O,a=0,e=0,R=0;this.a6n();var m=G.rect,A=m.e,Q=m.n,J=N.$(m.Z()),b=G.uw;
N.gF(G.Oo,J,0);for(var $=0;$<J.length;$++){if(b[($<<2)+3]!=255)continue;var p=J[$];if(p==0)a++;else if(p==255)e++;
else R++}if(a*e*R!=0){if(this.wu==0)O=N.E3.E3(m,b,J);else{var P=this.ks.B();for(var z=1;z<Q;z++)for(var Z=1;
Z<A;Z++){var $=z*A+Z,W=J[$],T=J[$-1];if(W==0&&T==255||W==255&&T==0){H="The Red and Green should never touch! Erase it with Grey.";
break}}var i=Date.now(),X=this.B1.a7y;N.Gy(J,X.MP);f.kx.Dv(X,!0);var U=Math.ceil(this.Le.B()/2);if(U==0){O=b.slice(0);
N.I5(X.q,O,3)}else{var M=X.q.slice(0),C=X.q.slice(0);for(var x=0;x<U;x++){for(var z=1;z<Q-1;z++)for(var Z=1;
Z<A-1;Z++){var $=z*m.e+Z,L=M[$];if(M[$-A]!=L||M[$-1]!=L||M[$+1]!=L||M[$+A]!=L)C[$]=128;else C[$]=L}var E=M;
M=C;C=E}O=N.E3.E3(m,b,M,20,!1)}}}else{O=b.slice(0);N.I5(J,O,3)}for(var $=3;$<O.length;$+=4)if(O[$]>b[$])O[$]=b[$];
if(m.A5(G.rect))G.De=O;else N.Pr(O,m,G.De,G.rect);this.ade();if(H)alert(H,4e3)};jJ.prototype.a6n=function(G){var m=this.B1,A=m.ki;
N.Pr(m.uw,m.rect,m.Xf,m.rect,A,!0);var Q=m.Oo;if(this.wu==1){var H=new Uint32Array(256);H[0]=4278190335;
H[255]=4278255360;var J=m.rect.Z();Q=Q.slice(0);var b=new Uint32Array(Q.buffer);for(var $=0;$<J;$+=2){b[$]=H[b[$]&255];
b[$+1]=H[b[$+1]&255]}}N.a.zc("norm",Q,m.rect,m.Xf,m.rect,A,.3);this.N0.f([{NS:m.rect,data:m.Xf.buffer}])};
jJ.prototype.ade=function(G){var m=this.B1;N.w8(m.q4,[0,4294967295,4278190080][this.qt.B()]);N.a.zc("norm",m.De,m.rect,m.q4,m.rect,m.rect,1);
this.Vb.f([{NS:m.rect,data:m.q4.buffer}])};jJ.prototype.Q7=function(G){var m=this.c3,A=this.B1,Q=this.OB.B(),H=m.g[m.c[0]],J=new j8(r.E.w,!0);
J._v=!0;var b=H.rect.clone();if(Q==0&&H.HX()||Q!=0&&!H.HX()){J.b=f.p4;J.data={d:c.Bg,i:m.c[0]};this.u(J)}if(m.q!=null){J.b=f.vj;
J.data={d:"fromAction",RO:f.iK.Lw()};this.u(J)}if(Q==0){var O=m.g.slice(0),a=m.uA();a.mw(H.getName());
O.splice(m.c[0]+1,0,a);a.rect=b;a.buffer=A.De;a.F();J.b=f.p4;J.data={d:c.ZO,xQ:O,xe:[m.c[0]+1],om:[7,11]};
this.u(J)}if(Q==1){var e=H.fm();J.b=f.p4;J.data={d:c.AM,a4t:!0};this.u(J);var R=H.fm();R.channel=N.$(b.Z());
R.rect=b;R.color=0;R.k9=!0;N.gF(A.De,R.channel,3);if(e){var p=R.rF(e);R.rect=p.rect;R.channel=p.channel;
R.color=p.color}R.LA();H.hM()}if(Q==2){var P={rect:b,channel:N.$(b.Z())};N.gF(A.De,P.channel,3);J.b=f.vj;
J.data={d:"setsel",q:P,om:this.k3};this.u(J)}this.close()};function j1(){h4.call(this,[1,13],"locstor");
this.dj=null;this.ma=[];var G=this.body,m=g.L("p");m.textContent="These files are loaded every time you start Photopea.";
G.appendChild(m);this.au4=0;this.kT=g.L("span");G.appendChild(this.kT);this.kT.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var A=g.L("span","form");G.appendChild(A);this.XZ=new iL([5,4],!1,null,!0);this.XZ.J("click",this.abb,this);
A.appendChild(this.XZ.m);this.a3j=new iL("Get all as ZIP",!1,null,!0);this.a3j.J("click",this.tA,this);
A.appendChild(this.a3j.m);this.Ok=new dd(!0);this.Ok.parent=this;this.Ok.oS(1);G.appendChild(this.Ok.m);
this.Ok.m.setAttribute("style","width: 40em; height: 25em")}j1.prototype=new h4;j1.prototype._=function(){h4.prototype._.call(this);
this.kT.textContent=f5.get([13,2])+": "+hN.tl(this.au4);this.XZ._()};j1.prototype.a2=function(G,m){this.dj=G;
if(m==dG.T_)this.MZ()};j1.prototype.MZ=function(G,m){var A=this.dj.Sy.E_,a=0;this.ma=[];for(var Q in A)this.ma.push(Q);
this.ma.sort(function(R,p){R=R.split(".");p=p.split(".");return R[1]==p[1]?R[0]<p[0]?-1:1:R[1]<p[1]?-1:1});
var H=Math.floor(100*g.G()),J=Math.floor(16*g.G()),b=[],O=[];for(var $=0;$<this.ma.length;$++){var Q=this.ma[$],e=j1.pt(Q,A[Q],H,J);
b.push(e);O.push(Q);a+=A[Q].byteLength}this.Ok.o7(b,O,H,J);this.au4=a;this._()};j1.prototype.abb=function(G){var m=this.Ok.B();
if(m.length==0){alert("Select a file first.");return}this.Ok.f([]);var A=this.dj.Sy.E_;for(var $=0;$<m.length;
$++)delete A[this.ma[m[$]]];var Q=new j8(r.E.W,!0);Q.data={d:r.S.$g,WF:dG.T_};this.u(Q)};j1.prototype.tA=function(G){var m=this.dj.Sy.E_,A={};
for(var Q in m)A[Q]=new Uint8Array(m[Q]);var H=UZIP.encode(A);gX.save(H,"resources.zip")};j1.pt=function(G,m,A,Q){var H=g.L("canvas"),O=0;
H.width=A;H.height=Q;var J=H.getContext("2d"),b=G.split(".").pop().toLowerCase();for(var $=0;$<b.length;
$++)O+=b.charCodeAt($)*613<<8*$;J.fillStyle="#"+N.as(O&16777215);J.fillRect(0,0,20,Q);var a=Math.floor(14*g.G());
J.fillStyle="#000000";J.font="bold "+a+"px sans-serif";var e=(Q-a)/2,R=hN.tl(m.byteLength),p=J.measureText(R);
J.fillText(R,A-12-p.width,Q-e);return H.toDataURL()};function jV(){h4.call(this,"Preset Manager","pmanager");
this.dj=null;this.LT=new iV([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.LT.J(r.E.o,this.MZ,this);
this.body.appendChild(this.LT.m);var G=g.L("div","flexrow");this.body.appendChild(G);var m=this.ack=g.L("div");
G.appendChild(m);var A=g.L("div","form");G.appendChild(A);A.setAttribute("style","width:140px; margin-left:12px");
this.a7c=[dG.sV,dG.EM,dG.VP,dG.xj,dG.D3,dG.yb];this.q5=[new hJ,new fe,new ex,new h3,new eZ,new ab];for(var $=0;
$<this.q5.length;$++)this.q5[$].parent=this;this.Wf=[];for(var $=0;$<4;$++){var Q=new iL("Hello",!0,null,!0);
Q.J("click",this.vr,this);this.Wf.push(Q);A.appendChild(Q.m)}this.MZ()}jV.prototype=new h4;jV.prototype.DV=function(G){return G==a5.lV||G==a5.m9};
jV.prototype.vr=function(G){var $=this.Wf.indexOf(G.target);this.q5[this.LT.B()].Hk($)};jV.prototype._=function(){h4.prototype._.call(this);
this.LT._();for(var $=0;$<this.q5.length;$++)this.q5[$]._();var G=this.Wf,m=this.LT.B(),A=dG.$J[this.a7c[m]],Q=A[0].toUpperCase();
G[0].ym([[23,6],"."+Q]);G[1].ym(["VAR0 ."+Q,[1,8]]);G[2].ym([6,37]);G[3].ym([5,4])};jV.prototype.a2=function(G,m){this.dj=G;
this.MZ()};jV.prototype.MZ=function(G,m){if(!g.m$(this.m))return;this._();g.iJ(this.ack);this.ack.appendChild(this.q5[this.LT.B()].OQ);
var A=this.q5,Q=this.dj;if(Q==null)return;A[0].pA(Q.wo);A[1].DP(Q.yu,Q.qU);A[1].pA(Q.rj);A[2].pA(Q.uf);
A[3].pA([Q.g9,Q.uf]);A[4].pA(Q.S4);A[5].pA(Q.dY)};function de(G,m,A){h4.call(this,m,"cwindow");this.a2j=new dw(A[0],A[1]-33);
this.s5=g.L("div","form");this.s5.setAttribute("style","width:"+(A[2]-A[0])+"px; height:"+(A[3]-A[1])+"px");
this.body.appendChild(this.s5)}de.prototype=new h4;de.prototype.EQ=function(G,m){return this.a2j.clone()};
function jN(){h4.call(this,["PSD VAR0",[25,0]],"templates");this.a1U=null;this.mk=null;this.xX=0;this.X7=null;
this.body.setAttribute("style","padding:0");this.s$=new iL("Add Templates",null,null,!0);this.body.appendChild(this.s$.m);
this.s$.J("click",this.aiO,this);this.s$.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.at2=new iL("New Template",null,null,!0);this.at2.J("click",this.a4A,this);this.a8x=new iL("Upload Current Document as a Template",null,null,!0);
this.a8x.J("click",this.alw,this);this.Vk=g.L("iframe","scrollable");this.Vk.setAttribute("style","border:none; margin:0; padding:0;");
this.nY=g.L("div","form scrollable padded");this.IU=g.L("div","form scrollable padded label12");var G=[],m=jN.Bt;
this.t_=[];for(var A in m){var Q=parseInt(A.slice(1)),H=Q%10==0?"":"\u2800\u2800- ";G.push(H+m[A]);this.t_.push(Q)}this.FQ=[new h_("Name",null,30),new h_("Description",null,30,4),new h_("File"," www.Photopea.com#i...",17),new h_("Thumbnail URL","* Use Imgur.com etc.",17),new iV("Category",G),new iL("<< Back",null,null,!0),new iL("Save",null,null,!0),new gS("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new gS("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var $=0;$<this.FQ.length;$++){var J=this.FQ[$];this.IU.appendChild(J.m);J.parent=this;if($!=5)g.Qm(this.IU);
if(J instanceof iL)J.J("click",this.atW,this)}this.body.appendChild(this.Vk)}jN.prototype=new h4;jN.prototype.EQ=function(G,m){return new dw(0,0)};
jN.prototype.e9=function(G,m){this.zp=G;this.V7=m;this.YB=null;m=m-4;G=G;var A=this.nY;A.style.width=G-12+"px";
A.style.height=m-12+"px";var A=this.IU;A.style.width=G-12+"px";A.style.height=m-12+"px";var A=this.Vk;
A.style.width=G+"px";A.style.height=m+"px";this.p5()};jN.prototype._=function(){h4.prototype._.call(this)};
jN.prototype.MZ=function(G,m,A,Q){this.YB=G;this.aiO(null,!1)};jN.prototype.aiO=function(G,m){var A=m!=null?m:g.m$(this.Vk);
if(A){if(!fi.Ck()){alert("You need to log in first!");return}var Q=fi.ob();this.mk=Q.tpl?Q.tpl.list:[];
this.p5()}else{this.Vk.setAttribute("src","");this.Vk.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(A?this.nY:this.Vk);this.s$.ym(A?"All Templates":"Add Templates")};jN.prototype.p5=function(){var G=this.mk,J=450;
if(G==null)return;var m=this.nY;g.iJ(m);var A=g.L("h1");m.appendChild(A);A.textContent="Share your PSD templates with the world!";
var Q=g.L("ul");m.appendChild(Q);var H=g.L("li");Q.appendChild(H);H.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var H=g.L("li");Q.appendChild(H);H.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
m.appendChild(this.at2.m);m.appendChild(this.a8x.m);g.Qm(m);J=(this.zp-20)/Math.max(1,Math.floor(this.zp/J))-42;
var b="display:inline-block; width:"+J+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var $=G.length-1;$>=0;$--){var O=G[$],a=g.L("div");m.appendChild(a);a.setAttribute("style",b);var e=g.L("img");
a.appendChild(e);e.setAttribute("src",O.thmb);e.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var R=g.L("h3");a.appendChild(R);R.textContent=O.name;R.setAttribute("style","margin:0 0 10px 0");var p=g.L("p");
a.appendChild(p);p.textContent=O.desc;p.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var P=0;P<2;P++){var z=new iL(P==0?"Edit":"Delete",null,null,!0);z.a5V=$;z.f9=P==0;z.J("click",this.aqh,this);
a.appendChild(z.m)}}};jN.prototype.alw=function(G){if(this.YB==null){alert("No document opened.");return}var m=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!m)return;var A=new j8(r.E.W,!0);A.data={d:r.S.tY,RI:"psd",Be:this.anj.bind(this)};this.u(A)};jN.prototype.anj=function(G){this.a1U=G;
var m=new j8(r.E.W,!0);m.data={d:r.S.tY,RI:"jpg",Be:this.a3h.bind(this),agR:1400};this.u(m)};jN.prototype.a3h=function(G){this.X7={catg:0,desc:"",file:this.a1U.split("#i").pop(),name:this.YB.name.split(".")[0],thmb:G,utme:""};
this.f9()};jN.prototype.a4A=function(G){this.X7={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.f9()};
jN.prototype.aqh=function(G){this.xX=G.target.a5V;if(!G.target.f9){this.mk.splice(this.xX,1);this.tA();
this.p5();return}this.f9()};jN.prototype.f9=function(){this.body.removeChild(this.nY);this.body.appendChild(this.IU);
var G=["name","desc","file","thmb"],m=this.X7?this.X7:this.mk[this.xX];for(var $=0;$<4;$++){var A=m[G[$]];
if(A!=""&&$==2)A="https://photopea.com#i"+A;this.FQ[$].f(A)}this.FQ[4].f(this.t_.indexOf(m.catg))};jN.prototype.atW=function(G){if(this.FQ.indexOf(G.target)==6){var m=this.FQ[3].B().trim(),A=m.startsWith("http")&&(m.endsWith(".jpeg")||m.endsWith(".jpg")||m.endsWith(".png"));
if(!A){alert("Thumbnail URL is incorrect.");return}var Q=new XMLHttpRequest,H="mirror.php?url="+encodeURIComponent(m);
Q.open("GET",H);Q.responseType="arraybuffer";Q.onload=this.ahF.bind(this);Q.send()}else this.Ha()};jN.prototype.ahF=function(G){var m=G.target.response,A=m.byteLength;
if(A>2e5){alert("Thumbnail is too large ("+hN.tl(A)+"). Make it under 200 kB.");return}var Q=["name","desc","file","thmb"],H=this.X7?this.X7:this.mk[this.xX];
for(var $=0;$<4;$++){var J=this.FQ[$].B().trim();if(J.length==0){alert("One of values is empty.");return}if($==2){var b=J.split("#i");
if(b.length!=2||b[1].length!=8){alert("File ID is incorrect.");return}J=b.pop()}H[Q[$]]=J}H.catg=this.t_[this.FQ[4].B()];
if(H.utme.length==0)H.utme=""+Math.round(Date.now()/1e3);if(this.X7)this.mk.push(this.X7);this.tA();
this.Ha()};jN.prototype.Ha=function(){this.X7=null;this.body.removeChild(this.IU);this.body.appendChild(this.nY);
this.p5()};jN.prototype.tA=function(){var G=fi.ob();if(this.mk.length==0)delete G.tpl;else G.tpl={list:JSON.parse(JSON.stringify(this.mk))};
fi.NT(G,function(){alert("Saved.")})};jN.Bt={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function cv(){h4.call(this,"Make Selection","makesel");this.dj=null;var G=g.L("div","form");this.body.appendChild(G);
this.fp=new aX([12,25,1]);this.fp.f(!0);G.appendChild(this.fp.m);g.Qm(G);this.kQ=new fu(!0);G.appendChild(this.kQ.m);
this.US=g.lU(this,this.body)}cv.prototype=new h4;cv.prototype._=function(){h4.prototype._.call(this);
this.kQ._();this.fp._();this.US._()};cv.prototype.Q7=function(G){var m=new j8(r.E.w,!0);m.b=f.vj;m.data={d:"frompath",ii:[null,0,this.kQ.B(),!this.fp.B()]};
this.close();this.u(m)};function fk(){h4.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.YB=null;this.eY=null;
this.fN=null;var G=this.a4W=g.L("div","form");G.setAttribute("style","width:20em");this.body.appendChild(G);
this.VW=new ai([12,50],["PSD","PSB"]);this.VW.J(r.E.o,this.RW,this);G.appendChild(this.VW.m);g.RB(G);
var m=new gS("Minify the file");G.appendChild(m.m);g.Qm(G);var A=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.Z1=[];for(var $=0;$<A.length;$++){var Q=new aX(A[$]);this.Z1.push(Q);G.appendChild(Q.m);Q.J(r.E.o,this.RW,this)}g.RB(G);
this.V8=new gS("aa.psd");this.Fu=new gS("10 kB");G.appendChild(this.Fu.m);this.aoY=new gS("1000 B");
G.appendChild(this.aoY.m);this.US=new iL([1,2],!0,null,!0);this.US.J("click",this.Q7,this);G.appendChild(this.US.m);
this.o5=new iL(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.o5.J("click",this.Q7,this);G.appendChild(this.o5.m);
this.J("closebtn",this.jO,this)}fk.prototype=new h4;fk.prototype.MZ=function(G,m,A,Q){var H=g.m$(this.o5.m),J=G.M3!=null&&G.M3.Kl=="psd";
if(J&&!H)this.a4W.appendChild(this.o5.m);if(!J&&H)this.a4W.removeChild(this.o5.m);for(var $=0;$<this.Z1.length;
$++)this.Z1[$].f(!1);this.YB=G;this.RW()};fk.prototype.Q7=function(G){if(G.target==this.US)gX.save(this.eY,this.fN);
else{if(this.Z1[3].B()){alert("You should not save a ZIP as a PSD to Google Drive.");return}ho.aos(this.YB,this.eY)}};
fk.prototype.jO=function(){this.YB=null;this.eY=null};fk.prototype.RW=function(){var G=this.YB,m=[!1,!1,!1,!1];
for(var $=0;$<3;$++)m[$]=this.Z1[$].B();var A=this.Z1[3].B(),Q=m[3]=this.VW.B()==1,H=G.name.slice(0,G.name.length-3),J=this.eY=dt.aW("PSD").Af(G,0,0,m),jw=this.fN=H+"ps"+(Q?"b":"d");
if(A){var b={};b[jw]=new Uint8Array(J);J=this.eY=UZIP.encode(b);jw=this.fN=H+"zip"}this.V8.f(jw);this.Fu.f(hN.tl(J.byteLength));
this.Fu.m.style["font-size"]="2em";this.aoY.f(" \u2001 "+J.byteLength+" B");this.US.ym(f5.get([1,2])+" \""+jw+"\"")};
fk.prototype._=function(){h4.prototype._.call(this);this.US._();this.o5._()};function eA(){h4.call(this,"Confirm","confirm");
this.ns=null;var G=g.L("div","form");this.body.appendChild(G);this.S$=g.L("div");this.S$.textContent="Hello";
G.appendChild(this.S$);this.US=g.lU(this,G);G.appendChild(this.US.m)}eA.prototype=new h4;eA.prototype.Q7=function(G){this.ns();
this.close()};eA.prototype.MZ=function(G,m){this.S$.textContent=m.k;this.ns=m.ns};eA.prototype.EQ=function(G,m){return new dw(Math.max(0,(G-500)/2),Math.max(0,Math.min(60,(m-100)/2)))};
eA.prototype.e9=function(G,m){this.S$.style.width=G-30+"px"};function eQ(G,m,A,Q){gB.call(this);this.name=G;
this.arI=A;this.mP=Q;this.QV=g.L("div","");this.QV.setAttribute("draggable","true");this.Fl=g.L("div","pbody");
this.tN=new iL("",!1,"");this.tN.parent=this;this.ap6=g.L("span","cross");this.hf=g.L("span","label");
var H=this.ao7.bind(this);this.QV.addEventListener("mousedown",this.al6.bind(this),!1);this.QV.addEventListener("contextmenu",H,!1);
this.tN.m.addEventListener("contextmenu",H,!1);this.ap6.addEventListener("mousedown",this.AN.bind(this),!1);
this.QV.appendChild(this.hf);if(m)this.QV.appendChild(this.ap6);this.$n=!1;this.rq=new fL([{name:[1,12,0]}]);
this.rq.J("select",this.AN,this);this.hf.textContent=G}eQ.prototype=new gB;eQ.prototype.fi=function(){return null};
eQ.prototype._=function(){var G=f5.get(this.name),m=this.zp==0?22:Math.round(2+this.zp/50),A=G.length>m;
this.hf.textContent=A?G.slice(0,m-2):G;if(A)for(var Q=0;Q<2;Q++){var H=g.L("span");H.textContent=G.charAt(m-2+Q);
H.setAttribute("style","opacity:"+(.6-Q*.4));this.hf.appendChild(H)}var J=G.split(" "),b=J.length==2?J[0].substring(0,2)+J[1][0]:G.substring(0,3);
if(b.charCodeAt(0)>=11776)b=b.substring(0,1);var O=this.arI;if(O==null)this.tN.ym(b,G);else{var a;if(O.startsWith("---"))a="<img src=\""+PIMG[O.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(O.indexOf("\"")==-1)a="<img src=\""+O+"\" alt=\""+G+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.tN.ym(a,G)}};eQ.prototype.enable=function(){this.Fl.setAttribute("class","pbody")};eQ.prototype.disable=function(){this.Fl.setAttribute("class","pbody disabled")};
eQ.prototype.a2=function(G,m){};eQ.prototype.MZ=function(G,m,A){};eQ.prototype.Qb=function(G){};eQ.prototype.e9=function(G,m){};
eQ.prototype.Tz=function(G){this.name=G;this._()};eQ.prototype.gW=function(){};eQ.prototype.al6=function(G){if(G.button==0)this.u(new j8("select",!1))};
eQ.prototype.ao7=function(G){g.zx(G);if(this.mP!=null&&isNaN(this.mP))return;var m=g.zi(G,document.body),A=this.rq;
A.update(null);A._();A.parent=this;var Q=new j8(r.E.W,!0);Q.data={d:r.S.mo,Nc:A,x:m.x+1,y:m.y+1};this.u(Q)};
eQ.prototype.CQ=function(){this.AN({})};eQ.prototype.AN=function(G){if(G.stopPropagation)G.stopPropagation();
if(this.mP!=null&&!isNaN(this.mP)){var m=new j8(r.E.W,!0);m.data={d:r.S.Pe,Nc:this.rq};this.u(m);m.data={d:r.S.$g,WF:dG.cv,k:parseFloat(this.mP),ja:"del"};
this.u(m)}else if(this.alf())this.u(new j8(r.E.yx,!1))};eQ.prototype.alf=function(G){return!0};eQ.prototype.gr=function(G,m,A,Q,H){};
eQ.prototype.Nr=function(G,m,A,Q,H){};eQ.prototype.gE=function(G,m,A,Q,H){};eQ.wU=function(G,m){if(G.childElementCount!=0)return;
var A=G.textContent;this.QX=this.a9j.bind(this);this.ak6=this.a19.bind(this);this.BP=m;this.vN=G;this.a9L=A;
var Q=g.L("input","");Q.setAttribute("type","text");Q.setAttribute("size","10");Q.setAttribute("value",A);
g.iJ(G);G.appendChild(Q);Q.select();Q.focus();g.hl(G);G.addEventListener("keyup",this.QX,!1);document.body.addEventListener("mousedown",this.ak6,!1)};
eQ.wU.prototype.a9j=function(G){var m=a5.DN,A=m(G.code,a5.pg);if(m(G.code,a5.OD)||A)this.a58(A)};eQ.wU.prototype.a19=function(G){var m=G.target;
if(m.tagName&&m.tagName.toLowerCase()=="input")return;this.a58(!0)};eQ.wU.prototype.a58=function(G){var m=this.vN,A=m.firstChild.value;
m.removeEventListener("keyup",this.QX);document.body.removeEventListener("mousedown",this.ak6);if(G&&A!=""){this.BP(A)}else{g.iJ(m);
m.textContent=this.a9L}};eQ.Lm={c5:"0",agx:"1",p4:"2",ahZ:"3",adW:"4",NN:"5",CSS:"6",sV:"7",aep:"8",ahU:"9",a5W:"10",aeh:"11",a9G:"12",bu:"13",JG:"14",aft:"15",auL:"16",Ig:"17",a1r:"18",an0:"19",a4F:"20",xj:"21"};
function hj(){eQ.call(this,[9,9],!1,"---panels/actions",eQ.Lm.aeh);this.dj=null;this.XK=[0,0];this.sd=g.L("div","padded scrollable");
this.sd.setAttribute("style","width:260px;  height:260px");this.Fl.appendChild(this.sd);this.J(r.E.o,this.LI,this);
this.$Q=g.L("div","lpfoot");this.Fl.appendChild(this.$Q);this.q5=[];var G="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",m="</svg>",A=G+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+m,Q=G+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+m;
this.aqA=G+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+m;this.ae9=G+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+m;
var H=[this.aqA,Q,"lrs/folder","lrs/newlayer","lrs/bin",A],J=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var $=0;$<H.length;$++){var b=H[$];if(1<$&&$!=H.length-1)b="<img src=\""+PIMG[H[$]]+"\" class=\"gsicon\" />";
var O=new iL(b,!1,J[$]);O.J("click",this.a5p,this);this.$Q.appendChild(O.m);this.q5.push(O)}}hj.prototype=new eQ("");
hj.prototype._=function(){eQ.prototype._.call(this);for(var $=0;$<this.q5.length;$++)this.q5[$]._()};
hj.prototype.a5p=function(G){var $=this.q5.indexOf(G.currentTarget),m=this.XK,A=this.dj,Q=A.TR;if($==0){var H,J=A.zt;
if(Q.length==0){alert("Create an Action Set first.");return}if(m.length<2){alert("Select a target action first.");
return}if(J==null){H=this.ae9;J=this.XK}else{H=this.aqA;J=null}this.q5[0].ym(H);A.zt=J}else if($==1)this.aq$();
else if($==2||$==3){var b={om:"Action Set "+Q.length,Td:[],exp:!0};if($==2||Q.length==0){m=[Q.length];
Q.push(b)}if($==3){var O=Q[m[0]].Td;m=[m[0],O.length];O.push({om:"Action "+O.length,color:0,Td:[],amJ:!1,shift:!1,exp:!0,lW:O.length})}this.XK=m;
this.Lc()}else if($==4){var a;if(m.length==1)a=Q;else if(m.length==2)a=Q[m[0]].Td;else a=Q[m[0]].Td[m[1]].Td;
var e=m.length-1;a.splice(m[e],1);if(a.length==0)m.pop();else while(m[e]>=a.length)m[e]--;if(m.length==0)m.push(0);
this.Lc()}else if($==5){if(Q.length==0){alert("No Actions Present.");return}var R=new j8(r.E.W,!0);R.data={d:r.S.AW,am8:dG.w,ou:m[0]};
this.u(R)}};hj.prototype.LI=function(G){var m=this.dj.TR,A=G.data.d,Q=G.data.KK;if(A=="sel")this.XK=Q;
if(A=="fold"){if(Q.length==1)m[Q[0]].exp=!m[Q[0]].exp;else m[Q[0]].Td[Q[1]].exp=!m[Q[0]].Td[Q[1]].exp}if(A=="enab"){var H=m[Q[0]].Td[Q[1]].Td[Q[2]];
H.P=!H.P}if(A=="nchange"){if(Q.length==1)m[Q[0]].om=G.data.qo;else m[Q[0]].Td[Q[1]].om=G.data.qo}this.Lc()};
hj.prototype.a2=function(G,m){this.dj=G;if(m==dG.w||m==dG.ud)this.Lc()};hj.prototype.Lc=function(){if(this.dj==null)return;
g.iJ(this.sd);var G=this.dj.TR;if(G.length==0)return;var m=JSON.stringify(this.XK);for(var $=0;$<G.length;
$++){var A=G[$],Q=new hj.d6([$],m,A.exp,A.om.split("=").pop());Q.parent=this;this.sd.appendChild(Q.m);
if(!A.exp)continue;for(var H=0;H<A.Td.length;H++){var J=A.Td[H],Q=new hj.d6([$,H],m,J.exp,J.om.split("=").pop());
Q.parent=this;this.sd.appendChild(Q.m);if(!J.exp)continue;for(var b=0;b<J.Td.length;b++){var O=J.Td[b],Q=new hj.d6([$,H,b],m,null,f5.get(ah.a3J(O)),O.P);
Q.parent=this;this.sd.appendChild(Q.m)}}}};hj.prototype.aq$=function(){var G=this.dj.TR,m=this.XK;if(G.length==0){alert("No Actions Present");
return}if(m.length==1){alert("Select an Action first");return}if(this.dj.zt!=null){alert("You can not apply actions while recording actions");
return}if(m.length==1)m.push(0);var A=G[m[0]],Q=A.Td[m[1]],H=new j8(r.E.W,!0);H.data={d:r.S.qB,ii:[Q.om,A.om]};
this.u(H)};hj.d6=function(G,m,A,Q,H){gB.call(this);this.KK=G;var J=this.KK.length-1;this.m=g.L("div","layeritem"+(JSON.stringify(G)==m?" selected":""));
this.Ix=g.L("div","head");this.m.appendChild(this.Ix);this.Ix.setAttribute("style","height:24px");this.Q2=g.L("div","headL");
this.Ix.appendChild(this.Q2);if(J!=0){var b=g.L("div");b.style.width=J*20+"px";this.Q2.appendChild(b)}if(A!=null){var O=this.a6t=g.L("div",A?"open":"closed");
this.Q2.appendChild(O)}else{var a=this.aiG=g.L("div","cmark");a.setAttribute("style","background-size:12px 12px; opacity:"+(H?1:.3));
this.Q2.appendChild(a)}if(J==0){var e=g.L("div","folder");this.Q2.appendChild(e)}var R=this.hf=g.L("div","label");
R.textContent=Q;this.Q2.appendChild(R);this.m.addEventListener("mouseup",this.X5.bind(this),!1)};hj.d6.prototype=new gB;
hj.d6.prototype.X5=function(G){if(G.detail==1&&G.target.tagName.toLowerCase()!="input"){var m="sel";
if(G.target==this.a6t)m="fold";if(G.target==this.aiG)m="enab";var A=new j8(r.E.o,!0);A.data={d:m,KK:this.KK};
this.u(A)}else if(this.KK.length<3)var Q=new eQ.wU(this.hf,this.BP.bind(this))};hj.d6.prototype.BP=function(G){var m=new j8(r.E.o,!0);
m.data={d:"nchange",qo:G,KK:this.KK};this.u(m)};function bt(){eQ.call(this,[3],!1,"---lrs/adj",eQ.Lm.a1r);
this.Fl.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.q5=[];var $=0;
for(var G in hE.names){var m=new iL("<img src=\""+PIMG["adj/"+G]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,hE.names[G]);
m.J("click",this.ajO,this);this.q5.push(m);this.Fl.appendChild(m.m);if($==4||$==10)g.Qm(this.Fl);$++}}bt.prototype=new eQ("");
bt.prototype._=function(){eQ.prototype._.call(this);for(var $=0;$<this.q5.length;$++)this.q5[$]._()};
bt.prototype.ajO=function(G){var m=this.q5.indexOf(G.target),A=cH.JL()[m],Q=new j8(A.T,!0);Q.data=A.R;
this.u(Q)};function ac(){eQ.call(this,[12,22],!1,null,eQ.Lm.xj);this.sd=g.L("div","padded");this.Fl.appendChild(this.sd);
this.Cd=new h3(null,17.7,10);this.Cd.parent=this;this.Cd.J(r.E.o,this.iR,this);this.sd.appendChild(this.Cd.OQ)}ac.prototype=new eQ("");
ac.prototype.iR=function(G){var m=this.Cd.B(),A=new j8(r.E.w,!0);A.data={d:"setstl",k:m.uv};A.b=f.Xj;
this.u(A);A.data={d:"confirm"};this.u(A)};ac.prototype.a2=function(G,m){if(m==dG.xj||m==dG.ud){this.Cd.pA([G.g9,G.uf])}};
var b$=function(){function G(){eQ.call(this,[9,3],!1,"---panels/brush",eQ.Lm.sV);this.hZ=null;this.VC=null;
this.dj=null}G.prototype=new eQ("");G.prototype.O6=function(){var b=g.L("div","");this.Fl.appendChild(b);
this.Jl=g.L("div","bordered cell");this.Jl.setAttribute("style","width:10em; height:28.5em;");b.appendChild(this.Jl);
this.fV=[];this.kp=null;this._K=[];var O=this.aaI.bind(this);this.Ps=[new A,new Q,new H,new J];for(var $=0;
$<this.Ps.length;$++){var a=g.L("div","listitem"),e=this.Ps[$].l4,R=null;if($==0){this.kp=new gS(e);
a.appendChild(this.kp.m)}else{R=new aX(e,!1);R.J(r.E.o,this.a1q,this);a.appendChild(R.m)}this._K.push(R);
this.Jl.appendChild(a);this.fV.push(a);a.addEventListener("click",O,!1)}this.oD=g.L("div","cell padded");
b.appendChild(this.oD);for(var $=0;$<this.Ps.length;$++)this.Ps[$].J("brushchange",this.a0R,this);this.setItem(0);
this.O=g.L("canvas");this.O.height=10;b.appendChild(this.O);this.JR=this.O.getContext("2d");this.Ta()};
G.prototype.e9=function(b,O){if(this.zp==b)return;this.zp=b;this.V7=O;this.Ta()};G.prototype.gW=function(){if(!g.m$(this.Fl))return;
if(this.Jl){this.Ta();return}this.O6();this._();this.a2(this.dj,dG.ud)};G.prototype._=function(){eQ.prototype._.call(this);
if(this.Jl==null)return;this.kp._();for(var $=1;$<this._K.length;$++)this._K[$]._();for(var $=0;$<this.Ps.length;
$++)this.Ps[$]._()};G.prototype.a0R=function(b){var O=this.Ps.indexOf(b.currentTarget),a=JSON.parse(JSON.stringify(this.Ps[O].VC)),e=new j8(r.E.W,!0);
e.data={d:r.S.$g,WF:dG.bM,VC:a};this.u(e)};G.prototype.a1q=function(b){this.a9F(this._K.indexOf(b.currentTarget),b.currentTarget.fA())};
G.prototype.aaI=function(b){var $=this.fV.indexOf(b.currentTarget);if(b.target.tagName.toLowerCase()=="input")return;
if(this._K[$]&&!this._K[$].fA()){this._K[$].dt();this.a9F($,!0)}this.setItem($)};G.prototype.a9F=function(b,O){this.Ps[b].oC(O)};
G.prototype.setItem=function(b){for(var $=0;$<this.Ps.length;$++)this.fV[$].setAttribute("class","listitem");
if(this.oD.firstChild)this.oD.removeChild(this.oD.firstChild);this.fV[b].setAttribute("class","listitem selected");
this.oD.appendChild(this.Ps[b].m)};G.prototype.a2=function(b,O){this.dj=b;if(this.Jl==null)return;if(O==dG.sV||O==dG.ud){this.hZ=b.wo;
for(var $=0;$<this.Ps.length;$++)this.Ps[$].pA(this.hZ)}if(O==dG.bM||O==dG.ud){this.VC=b.wo.lt;this.Ta()}if(O==dG.bu)this.Ta()};
G.prototype.Ta=function(){if(this.VC)this.enable();else{this.disable();return}if(!g.m$(this.Fl))return;
var b=this.dj;for(var $=0;$<this.Ps.length;$++){this.Ps[$].f(this.VC);if(this._K[$])this._K[$].f(this.Ps[$].fA())}var O=JSON.parse(JSON.stringify(this.VC));
O.Brsh.v.Dmtr.v.val=Math.min(O.Brsh.v.Dmtr.v.val,50);g.bi(this.O,this.zp,80);var a=new f_(0,0,this.O.width,this.O.height),e=new gj(O,this.hZ?this.hZ.GO:null,this.hZ?this.hZ.WJ:null,{vq:1},b.yu,b.qU,a,null,0),R=a.n/2,p=a.e-R*2;
e.moveTo(R,R);for(var $=0;$<=p;$+=10)e.lineTo(R+$,R+20*Math.sin(2*Math.PI*$/p));e.finish();var P=this.JR.createImageData(a.e,a.n);
N.Pr(e.kg(),e.E8(),P.data,a);this.JR.putImageData(P,0,0)};function m(b){gB.call(this);this.l4=b;this.m=g.L("div","");
this.VC=null}m.prototype=new gB;m.prototype.pA=function(b){};m.prototype.f=function(b){this.VC=JSON.parse(JSON.stringify(b));
this.m.setAttribute("class",this.fA()?"":"disabled");this.Ta()};m.prototype.oC=function(b){};m.prototype.fA=function(){return!1};
m.prototype._=function(){};m.prototype.Ta=function(){};m.prototype.vM=function(){this.u(new j8("brushchange"))};
function A(){m.call(this,[15,0]);this.hZ=null;this.a1x=null;this.Ol=new dd(!0);this.m.appendChild(this.Ol.m);
this.Ol.J(r.E.o,this.adf,this);this.Ol.m.style.height="10.7em";this.Ts=new bo([12,14,0],1,1e3," px",0,!0);
this.Ts.J(r.E.o,this.ajA,this);this.sQ=new bo([12,15],0,359," \xB0");this.sQ.J(r.E.o,this.a7S,this);
this.be=new bo([12,16],0,100," %");this.be.J(r.E.o,this.a8t,this);this.CG=new bo([12,17],0,100," %");
this.CG.J(r.E.o,this.a0N,this);this.Lu=new bo([12,18],1,300," %");this.Lu.J(r.E.o,this.a2m,this);this.fV=[this.Ts,this.sQ,this.be,this.CG,this.Lu]}A.prototype=new m;
A.prototype._=function(){this.Ts._();this.sQ._();this.be._();this.CG._();this.Lu._()};A.prototype.fA=function(){return!0};
A.prototype.pA=function(b){this.hZ=b;var O=[],a=Math.floor(30*g.G()),e=Math.floor(40*g.G());for(var $=0;
$<b.list.length;$++){var R=b.list[$].v,p=gj.pt(R,b.GO,b.WJ,a,e);O.push(p)}this.Ol.o7(O,null,a,e)};A.prototype.Ta=function(){var b=this.VC.Brsh.v,O=b.classID!=this.a1x;
this.a1x=b.classID;if(O)for(var $=0;$<this.fV.length;$++)if(this.m.contains(this.fV[$].m))this.m.removeChild(this.fV[$].m);
this.Ts.f(b.Dmtr.v.val);if(O)this.m.appendChild(this.Ts.m);this.sQ.f(b.Angl.v.val);if(O)this.m.appendChild(this.sQ.m);
if(b.classID=="computedBrush"||b.classID=="sampledBrush"){this.be.f(b.Rndn.v.val);if(O)this.m.appendChild(this.be.m)}if(b.classID=="computedBrush"){this.CG.f(b.Hrdn.v.val);
if(O)this.m.appendChild(this.CG.m)}this.Lu.f(b.Spcn.v.val);if(O)this.m.appendChild(this.Lu.m)};A.prototype.adf=function(b){this.VC=this.hZ.list[this.Ol.B()[0]].v;
this.vM()};A.prototype.ajA=function(b){this.VC.Brsh.v.Dmtr.v.val=b.target.B();this.vM()};A.prototype.a7S=function(b){this.VC.Brsh.v.Angl.v.val=b.target.B();
this.vM()};A.prototype.a8t=function(b){this.VC.Brsh.v.Rndn.v.val=b.target.B();this.vM()};A.prototype.a0N=function(b){this.VC.Brsh.v.Hrdn.v.val=b.target.B();
this.vM()};A.prototype.a2m=function(b){this.VC.Brsh.v.Spcn.v.val=b.target.B();this.vM()};function Q(){m.call(this,[15,1]);
this.am=new bo([15,4,0],0,100,"%");this.am.J(r.E.o,this.aaL,this);this.m.appendChild(this.am.m);this.dr=new bo([15,4,1],0,100,"%");
this.dr.J(r.E.o,this.abt,this);this.m.appendChild(this.dr.m);this.Kd=new bo([15,4,2],0,100,"%");this.Kd.J(r.E.o,this.aqK,this);
this.m.appendChild(this.Kd.m);this.Bj=new iV("Control",["Off","Direction"]);this.Bj.J(r.E.o,this.a8O,this);
this.m.appendChild(this.Bj.m);this.JZ=new bo([15,4,3],0,100,"%");this.JZ.J(r.E.o,this.akP,this);this.m.appendChild(this.JZ.m);
this.C2=new bo([15,4,4],1,100,"%");this.C2.J(r.E.o,this.apl,this);this.m.appendChild(this.C2.m)}Q.prototype=new m;
Q.prototype._=function(){this.am._();this.dr._();this.Kd._();this.JZ._();this.C2._()};Q.prototype.fA=function(){return this.VC.useTipDynamics.v};
Q.prototype.oC=function(b){this.VC.useTipDynamics.v=b;g3.BX.Xp(this.VC);this.vM()};Q.prototype.Ta=function(){var b=this.VC;
if(b.useTipDynamics.v==!1)return;this.am.f(b.szVr.v.jitter.v.val);this.dr.f(b.minimumDiameter.v.val);
this.Kd.f(b.angleDynamics.v.jitter.v.val);this.Bj.f(b.angleDynamics.v.bVTy.v==0?0:1);this.JZ.f(b.roundnessDynamics.v.jitter.v.val);
this.C2.f(b.minimumRoundness.v.val)};Q.prototype.aaL=function(b){this.VC.szVr.v.jitter.v.val=b.target.B();
this.vM()};Q.prototype.abt=function(b){this.VC.minimumDiameter.v.val=b.target.B();this.vM()};Q.prototype.aqK=function(b){this.VC.angleDynamics.v.jitter.v.val=b.target.B();
this.vM()};Q.prototype.a8O=function(b){this.VC.angleDynamics.v.bVTy.v=b.target.B()==0?0:6;this.vM()};
Q.prototype.akP=function(b){this.VC.roundnessDynamics.v.jitter.v.val=b.target.B();this.vM()};Q.prototype.apl=function(b){this.VC.minimumRoundness.v.val=b.target.B();
this.vM()};function H(){m.call(this,[15,2]);this.$0=new bo([15,5,0],0,1e3," %");this.$0.J(r.E.o,this.ag0,this);
this.m.appendChild(this.$0.m);this.gw=new bo([15,5,1],1,20);this.gw.J(r.E.o,this.ai5,this);this.m.appendChild(this.gw.m);
this.wT=new bo([15,5,2],0,100," %");this.wT.J(r.E.o,this.a1L,this);this.m.appendChild(this.wT.m)}H.prototype=new m;
H.prototype._=function(){this.$0._();this.gw._();this.wT._()};H.prototype.fA=function(){return this.VC.useScatter.v};
H.prototype.oC=function(b){this.VC.useScatter.v=b;g3.BX.Xp(this.VC);this.vM()};H.prototype.Ta=function(){var b=this.VC;
if(b.useScatter.v==!1)return;this.$0.f(b.scatterDynamics.v.jitter.v.val);this.gw.f(b.Cnt.v);this.wT.f(b.countDynamics.v.jitter.v.val)};
H.prototype.ag0=function(b){this.VC.scatterDynamics.v.jitter.v.val=b.target.B();this.vM()};H.prototype.ai5=function(b){this.VC.Cnt.v=b.target.B();
this.vM()};H.prototype.a1L=function(b){this.VC.countDynamics.v.jitter.v.val=b.target.B();this.vM()};
function J(){m.call(this,[15,3]);this.Je=new bo([15,6,0],0,100," %");this.Je.J(r.E.o,this.abC,this);
this.m.appendChild(this.Je.m);this.sz=new bo([15,6,1],0,100," %");this.sz.J(r.E.o,this.a0P,this);this.m.appendChild(this.sz.m);
this.Vy=new bo([15,6,2],0,100," %");this.Vy.J(r.E.o,this.a8T,this);this.m.appendChild(this.Vy.m);this.aX=new bo([15,6,3],0,100," %");
this.aX.J(r.E.o,this.aiJ,this);this.m.appendChild(this.aX.m)}J.prototype=new m;J.prototype._=function(){this.Je._();
this.sz._();this.Vy._();this.aX._()};J.prototype.fA=function(){return this.VC.useColorDynamics.v};J.prototype.oC=function(b){this.VC.useColorDynamics.v=b;
g3.BX.Xp(this.VC);this.vM()};J.prototype.Ta=function(){var b=this.VC;if(b.useColorDynamics.v==!1)return;
this.Je.f(b.clVr.v.jitter.v.val);this.sz.f(b.H.v.val);this.Vy.f(b.Strt.v.val);this.aX.f(b.Brgh.v.val)};
J.prototype.abC=function(b){this.VC.clVr.v.jitter.v.val=b.target.B();this.vM()};J.prototype.a0P=function(b){this.VC.H.v.val=b.target.B();
this.vM()};J.prototype.a8T=function(b){this.VC.Strt.v.val=b.target.B();this.vM()};J.prototype.aiJ=function(b){this.VC.Brgh.v.val=b.target.B();
this.vM()};return G}();function ef(){eQ.call(this,[9,0],!1,null,eQ.Lm.c5);this.Fl.setAttribute("style","min-width:200px;");
this.HT=g.L("div","hpbody scrollable");this.HT.style.height="160px";this.Fl.appendChild(this.HT);this.agV=-1;
this.gs=[];this.SG=""}ef.prototype=new eQ("");ef.prototype.MZ=function(G){if(G==null){g.iJ(this.HT);
this.SG="";return}g.iJ(this.HT);var m=0;for(var $=0;$<G.history.length;$++)if($<=G.kZ&&!G.history[$].v9)m=$;
for(var $=0;$<G.history.length;$++){var A=G.history[$];if(A.v9)continue;var Q=new du(A,$,m);Q.parent=this;
this.HT.appendChild(Q.m);this.gs.push(Q)}if(G.kZ==G.history.length-1)this.gW()};ef.prototype.gW=function(){this.HT.scrollTop=this.HT.scrollHeight};
ef.prototype._=function(){eQ.prototype._.call(this);for(var $=0;$<this.gs.length;$++)this.gs[$]._()};
function du(G,$,m){gB.call(this);this.index=$;this.m=g.L("div",$==m?"listitem selected":"listitem");
this.jb=G.name;this._();if($>m)this.m.style.opacity=.4;this.m.addEventListener("click",this.gr.bind(this),!1)}du.prototype=new gB;
du.prototype._=function(){this.m.textContent=f5.get(this.jb)};du.prototype.gr=function(G){if(this.index==this.parent.agV)return;
this.Qq({d:"h_itemchange",index:this.index})};du.prototype.Qq=function(G){var m=new j8(r.E.w,!0);m.data=G;
m.b=f.c5;this.u(m)};function e$(){eQ.call(this,[9,10],!1,"---panels/histogram",eQ.Lm.adW);var G=g.L("div","padded");
this.Fl.appendChild(G);this.$t=new eS(256,!0);G.appendChild(this.$t.m);this.YB=null}e$.prototype=new eQ("");
e$.prototype.MZ=function(G){this.YB=G;this.Lc()};e$.prototype.Lc=function(){var G=this.YB;if(!g.m$(this.Fl))return;
if(G==null||G.c.length==0){this.$t.f(N.de(N.$(4)));return}var m=G.$s(),A=new f_(0,0,G.e,G.n),Q=A.Z();
if(G.q){var H=G.q.rect,J=N.$(H.Z()*4);N.Pr(m,A,J,H);N.fW(G.q.channel,J);m=J;A=H;var b=G.q.channel;Q=0;
for(var $=0;$<b.length;$++)Q+=b[$];Q=Math.round(Q/255)}var O=N.de(m);O[0][255]+=3*(Q-O[5]);for(var $=1;
$<4;$++)O[$][255]+=Q-O[5];this.$t.f(O,Q)};e$.prototype.a2=function(G,m){this.$t.s8(cK.Ou[G.t6]["--text-color"])};
e$.prototype._=function(){eQ.prototype._.call(this);this.$t._()};e$.prototype.gW=function(){this.Lc()};
function i7(){eQ.call(this,[9,8],!1,null,eQ.Lm.agx);this.sd=g.L("div","padded");this.Fl.appendChild(this.sd);
this.wE=new bj(10);this.sd.appendChild(this.wE.m);this.sd.appendChild(g.L("hr"));this.hy=new gC;this.hy.parent=this;
this.sd.appendChild(this.hy.OQ);this.wE.J(r.E.o,this.agv,this);this.hy.J(r.E.o,this.agv,this)}i7.prototype=new eQ("");
i7.prototype.agv=function(G){var m;if(G.target==this.wE)m=this.wE.B();else{var A=this.hy.B();m=Math.round(A.p)<<16|Math.round(A.z)<<8|Math.round(A.h)}var Q=new j8(r.E.W,!0);
Q.data={d:r.S.$g,WF:dG.bu,Nm:0,k:m};this.u(Q)};i7.prototype.a2=function(G,m){var A=G.yu,Q=m==dG.ud;if(m==dG.bu||Q){this.wE.f(A);
this.hy.f({p:A>>>16&255,z:A>>>8&255,h:A>>>0&255,U1:"Color #"+N.as(A)})}if(m==dG.oV||Q){var H=G.aaw;this.hy.pA(H)}};
function bm(){eQ.call(this,[12,72],!1,"---adj/mixr",eQ.Lm.auL);this.B0=null;this.xx=null;this.HT=g.L("div","lpbody scrollable");
this.$Q=g.L("div","lpfoot");this.Fl.appendChild(this.HT);this.Fl.appendChild(this.$Q);this.Eg=[];this.J("click",this.sB,this);
this.Ln=[];bm.Ug([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Ln,this.$Q,this.YV.bind(this),this.HZ.bind(this));
this._w=new fL([{name:"Merge Channels",OZ:!0}]);this._w.J("select",this.GA,this)}bm.prototype=new eQ("");
bm.prototype.GA=function(G){if(this.xx==null)return;var m=new j8(r.E.W,!0);m.data={d:r.S.XG,Ue:"mergechannels"};
this.u(m)};bm.prototype.fi=function(){return this._w};bm.Ug=function(G,m,A,Q,H){for(var $=0;$<G.length;
$++){var J=new iL("W",!1,G[$]);m.push(J);g.Il(J.m,Q);A.appendChild(J.m);var b=J.m;b.addEventListener("drop",H,!1);
b.addEventListener("dragover",function(O){O.preventDefault()},!1);b.addEventListener("dragenter",g.zx,!1)}};
bm.pk=function(G,m){for(var $=0;$<G.length;$++)if(G[$].m==m.currentTarget)return $};bm.prototype.YV=function(G){var m=bm.pk(this.Ln,G);
if(m==0)this.u(aE.yC(!0,null,G));else{m--;var A=new j8(r.E.NH,!0),Q={classID:"null"};if(m==0)Q.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(m==1)Q.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else Q.null=ah.TH("Chnl",!0);A.data={YI:["duplicate","make","delete"][m],aL:Q};this.u(A)}};bm.prototype.HZ=function(G){var m=bm.pk(this.Ln,G);
if(m==2){var A=new j8(r.E.NH,!0),Q={classID:"null"};Q.null=ah.TH("Chnl",!0);A.data={YI:"duplicate",aL:Q};
this.u(A)}else this.YV(G)};bm.prototype.eW=function($){var G=this.Eg,m=G[$];if(m==null){var A=g.L("canvas");
m=A.getContext("2d");G.push(m)}return m};bm.prototype.sB=function(G){var m=this.B0.slice(0),A=G.data.lW,Q=m[0]+m[1]+m[2],H=this.xx;
if(-5<A&&A<0){var J=-A-1;if(G.data.Ax){if(J==0)m=Q==3?[0,0,0]:[1,1,1];else{if(m[J-1]==0)m[J-1]=1;else if(!0)m[J-1]=0}}else{if(J==0)m=[1,1,1];
else{m=[0,0,0];m[J-1]=1}H.UX=[]}var b=new j8(r.E.w,!0);b.b=f.B5;b.data={d:"setcls",_T:m};this.u(b);return}if(-1<A){var O=H.g[A],a=O.Sm==1?O.fm():O.mv(H).D;
if(G.data.Ax)a.wV=!a.wV;else{for(var $=0;$<H.Hv.length;$++)H.Hv[$].wV=!1;H.UX=[]}}else{var e=-A-5,a=H.Hv[e];
if(G.data.Ax)a.wV=!a.wV;else{for(var $=0;$<H.Hv.length;$++)H.Hv[$].wV=!1;a.wV=!0;H.UX=[e]}}H.Iy=H.AB=!0};
bm.prototype.gW=function(){this.RW()};bm.prototype.MZ=function(G){this.xx=G;this.RW()};bm.prototype.RW=function(){var G=this.xx,m=this.HT,O=34,a=34,z=4;
g.iJ(m);if(G==null||!g.m$(m))return;var A=G.e,Q=G.n,H=new f_(0,0,A,Q),J=this.B0=G.t._T.slice(0),b=J[0]+J[1]+J[2];
if(A>Q)a=Math.round(a*Q/A);else O=Math.round(O*A/Q);var e=["RGB"].concat(hE.DL);for(var $=0;$<4;$++){var R=this.eW($);
N.r7.yf(R,O,a,H,G.$s(),H,!1,$==0?null:$-1);var p=$==0?b==3:J[$-1]==1,P=new aE(-1-$,!0,!0,R,e[$],p,p);
P.parent=this;m.appendChild(P.m)}for(var $=0;$<G.c.length;$++){var Z=G.g[G.c[$]],W=Z.Sm;if(W!=1&&W!=3)continue;
var T=W==1?Z.fm():Z.mv(G).D,R=this.eW(z+$);z++;N.r7.Ed(R,O,a,H,T);var P=new aE(G.c[$],!0,!0,R,Z.getName()+(W==1?"":" Filter")+" Mask",!0,T.wV);
P.parent=this;m.appendChild(P.m)}for(var $=0;$<G.Hv.length;$++){var T=G.Hv[$],R=this.eW(z+$);N.r7.Ed(R,O,a,H,T);
var P=new aE(-5-$,!0,T.name=="Quick Mask",R,T.name,G.UX.indexOf($)!=-1,T.wV,f.p4,{d:c.ex,Nm:"rnm",lW:$});
P.parent=this;m.appendChild(P.m)}};bm.prototype.e9=function(G,m){this.HT.style.height=m-9-26+"px";this.HT.style.width=G+"px"};
bm.prototype._=function(){eQ.prototype._.call(this);this.RW();bm.AR(this.Ln,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
bm.AR=function(G,m){var m=ai.wY(m);for(var $=0;$<G.length;$++)G[$].ym(m[$])};function aE(G,m,A,Q,H,J,b,O,a){gB.call(this);
this.m=g.L("div","layeritem");this.ann=G;this.a7B=m;this.JR=Q;this.apC=O;this.aeA=a;this.Ix=g.L("div",J?"head selected":"head");
this.Ix.setAttribute("style","height: "+40+"px");var e=g.L("div","headL"),R=g.L("div","headR"),p=15;
this.m.appendChild(this.Ix);this.Ix.appendChild(e);this.Ix.appendChild(R);this.WI=g.L("div","eye");if(1<g.G()&&g.G()<1.5)p=p/g.G();
this.WI.setAttribute("style","background-size: "+p+"px "+p+"px;");this.WI.style.opacity=b?1:.2;if(m)e.appendChild(this.WI);
this.oF=g.L("div","thumb");if(Q)this.oF.appendChild(Q.canvas);e.appendChild(this.oF);this.dQ=g.L("div","label");
if(A)this.dQ.style.fontStyle="italic";this.dQ.textContent=f5.get(H);e.appendChild(this.dQ);var P=this.Ix;
P.setAttribute("draggable","true");this.Ix.addEventListener("mousedown",this.akS.bind(this),!1);if(!A)this.Ix.addEventListener("mouseup",this.a6f.bind(this),!1)}aE.prototype=new gB;
aE.prototype.BP=function(G){var m=new j8(r.E.w,!0);m.b=this.apC;m.data=this.aeA;m.data.name=G;this.u(m)};
aE.prototype.akS=function(G){var m=G.ctrlKey||G.metaKey,A=this.ann;if(m&&G.target==this.JR.canvas){this.u(aE.yC(this.a7B,A,G))}else{var Q=new j8("click",!0);
Q.data={lW:A,Ax:G.target==this.WI,HC:m};this.u(Q)}};aE.prototype.a6f=function(G){if(G.detail==2&&G.target==this.dQ){var m=new eQ.wU(this.dQ,this.BP.bind(this))}};
aE.yC=function(G,m,A){var Q=0;if(A.shiftKey)Q++;if(A.altKey)Q+=2;var H=new j8(r.E.w,!0);H.b=f.vj;if(G){if(-5<m&&m<0){H=new j8(r.E.NH,!0);
H.data=f.iK.tV(Q,["RGB","Rd","Grn","Bl"][-1-m])}else H.data={d:"fromchannel",ii:[m,0,Q]}}else H.data={d:"frompath",ii:[m,0,Q]};
return H};function eo(){eQ.call(this,[8,9],!1,"---panels/paths",eQ.Lm.Ig);this.B0=null;this.xx=null;
this.HT=g.L("div","lpbody scrollable");this.$Q=g.L("div","lpfoot");this.Fl.appendChild(this.HT);this.Fl.appendChild(this.$Q);
this.Fl.addEventListener("click",this.anY.bind(this),!1);this.Eg=[];this.J("click",this.sB,this);this.Ln=[];
bm.Ug(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Ln,this.$Q,this.YV.bind(this),this.HZ.bind(this))}eo.prototype=new eQ("");
eo.prototype.YV=function(G,m){var A=bm.pk(this.Ln,G),Q;if(A<2){var H={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},J=A==0?{classID:"null",null:H,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:H,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
Q=new j8(r.E.NH,!0);Q.data={YI:A==0?"fill":"stroke",aL:J}}else if(A==2)Q=aE.yC(!1,null,G);else if(A==3){Q=new j8(r.E.NH,!0);
Q.data={YI:"make",aL:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(A>3){var Q=new j8(r.E.w,!0);
Q.b=f.Z3;Q.data={d:"pathedit",Nm:["new","del"][A-4],apu:m}}this.u(Q)};eo.prototype.HZ=function(G){this.YV(G,!0)};
eo.prototype.eW=function($){var G=this.Eg,m=G[$];if(m==null){var A=g.L("canvas");m=A.getContext("2d");
G.push(m)}return m};eo.prototype.anY=function(G){if(G.target==this.HT){var m=this.xx;m.rY=[];m.EJ=[];
m.AB=!0;m.Iy=!0}};eo.prototype.sB=function(G){var m=G.data.lW,A=this.xx,Q=G.data.HC,H=0,J,b;if(m<0){H=-1-m;
J=A.rY;b=A.EJ}else{var O=A.S9()[0];for(var $=0;$<O.length;$++){var a=O[$].lW;if(a==m)break;if(a>=0)H++}J=A.EJ;
b=A.rY}if(Q){var e=J.indexOf(H);if(e==-1)J.push(H);else J.splice(e,1)}else{while(J.length!=0)J.pop();
while(b.length!=0)b.pop();J.push(H)}A.AB=!0;A.Iy=!0};eo.prototype.gW=function(){this.RW()};eo.prototype.MZ=function(G){this.xx=G;
this.RW()};eo.prototype.RW=function(){var G=this.xx,m=this.HT,O=34,a=34;g.iJ(m);if(G==null||!g.m$(m))return;
var A=G.e,Q=G.n,H=new f_(0,0,A,Q),J=this.B0=G.t._T.slice(0),b=J[0]+J[1]+J[2];if(A>Q)a=Math.round(a*Q/A);
else O=Math.round(O*A/Q);var e=G.S9(),R=e[0];for(var $=0;$<R.length;$++){var p=R[$],P=this.eW($);N.r7.a7m(P,O,a,H,p.add.vmsk);
var z=new aE(p.lW,!1,p.lW>=0,P,p.name,e[1].indexOf($)!=-1,!1,f.Z3,{d:"pathedit",Nm:"rnm",lW:p.lW});z.parent=this;
m.appendChild(z.m)}};eo.prototype.e9=function(G,m){this.HT.style.height=m-9-26+"px";this.HT.style.width=G+"px"};
eo.prototype._=function(){eQ.prototype._.call(this);this.RW();bm.AR(this.Ln,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function id(G){eQ.call(this,[9,G?4:5],!1,"---panels/"+(G?"character":"paragraph"),G?eQ.Lm.ahU:eQ.Lm.a5W);
this.Fl.setAttribute("style","min-width:240px;");this.acU=G;this.Yn=null;this.dj=null}id.prototype=new eQ("");
id.prototype.O6=function(){this.Yn=new f6;var G=this.Yn,m=this.Fl;G.parent=this;if(this.acU){var A=g.L("div","marged");
m.appendChild(A);A.appendChild(G.IT.m);m.appendChild(g.L("hr"));var Q=g.L("div","marged");m.appendChild(Q);
Q.appendChild(G.bW.m);Q.appendChild(G.oG.m);var H=g.L("div","marged");m.appendChild(H);H.appendChild(G.XU.m);
H.appendChild(G.Ew.m);m.appendChild(g.L("hr"));var J=g.L("div","marged");m.appendChild(J);J.appendChild(G.GD.m);
J.appendChild(G.Hx.m);var b=g.L("div","marged");m.appendChild(b);b.appendChild(G.Ws.m);b.appendChild(G.Nt.m);
b.appendChild(G.a7.m);m.appendChild(g.L("hr"));var O=g.L("div","marged");m.appendChild(O);O.appendChild(G.PH.m);
O.appendChild(G.bl.m);O.appendChild(G.Iw.m);O.appendChild(G.Ng.m);O.appendChild(G.AP.m);O.appendChild(G.Lr.m);
O.appendChild(G.RX.m);O.appendChild(G.zH.m)}else{var A=g.L("div","marged");m.appendChild(A);A.appendChild(G.FT.m);
A.appendChild(G.tb.m);A.appendChild(G.DY.m);A.appendChild(G.apa.m);A.appendChild(G.aqi.m);A.appendChild(G.ae5.m);
A.appendChild(G.af3.m);m.appendChild(g.L("hr"));var Q=g.L("div","marged");m.appendChild(Q);Q.appendChild(G.yK.m);
Q.appendChild(G.wA.m);Q.appendChild(G.hH.m);m.appendChild(g.L("hr"));var H=g.L("div","marged");m.appendChild(H);
H.appendChild(G.sG.m);H.appendChild(G.kq.m);H.appendChild(G.Vs.m);H.appendChild(G.f1.m)}};id.prototype.gW=function(){if(!g.m$(this.Fl))return;
if(this.Yn==null){this.O6();var G=this.dj;if(G)this.Yn.f(G.RG,G.O8,G.TM);this.Yn._()}};id.prototype._=function(){eQ.prototype._.call(this);
if(this.Yn)this.Yn._()};id.prototype.a2=function(G,m){this.dj=G;if(m!=dG.ud&&m!=dG.dh&&m!=dG.YF&&m!=dG.Cm)return;
if(this.Yn)this.Yn.f(G.RG,G.O8,G.TM)};function gW(){eQ.call(this,[9,13],!1,"---panels/glyphs",eQ.Lm.an0);
this.Yn=new f6;this.Yn.parent=this;this.dj=null;this.ai9=null;this.a8Y=null;this.Zb=null;this.arz=null;
this.Cg=Math.round(290*g.G());this.L5=45;this.acH=4;this.auj=this.Lc.bind(this);this.a5q=0;this.TY=new iV(null,["Hi","Hello"]);
this.TY.J(r.E.o,this.Lc,this);var G=this.X1=new iL("-",null,null,!0);G.J("click",this.ag_,this);var m=this.a3D=new iL("+",null,null,!0);
m.J("click",this.ag_,this);this.Nb=new dd(!1);this.Nb.J(r.E.o,this.dD,this);this.Nb.m.style.height=250+"px";
var A=this.ru=g.L("div","form padded");this.Fl.appendChild(A);A.appendChild(this.Yn.IT.m);g.Qm(A);A.appendChild(this.TY.m);
A.appendChild(G.m);A.appendChild(m.m);this.Fl.appendChild(this.Nb.m)}gW.prototype=new eQ("");gW.prototype.e9=function(G,m){if(this.zp==G)return;
this.zp=G;this.Cg=Math.floor((G-13)*g.G());this.ru.setAttribute("style","width:"+this.Cg/g.G()+"px;");
this.Nb.m.style.height=m-73+"px";this.Lc()};gW.prototype.dD=function(G){var m=this.a6r(),A=Math.round(this.Cg/m);
m/=g.G();var Q=this.Nb.B()[0]*A*this.acH,H=this.Nb.afJ();Q+=Math.floor(H.y/m)*A;Q+=Math.floor(H.x/m);
var J=this.Zb[this.TY.B()];if(Q>=J.length)return;var b=J[Q],O=this.arz[b],a=new j8(r.E.w,!0);a.b=f.G8;
if(O.ZJ.length==0)a.data={d:"insertGlyph",k:Q+1};else a.data={d:"insertText",k:String.fromCodePoint(O.ZJ[0])};
this.u(a)};gW.prototype.ag_=function(G){var m=1.2;if(G.target==this.X1){if(this.L5>20)this.L5/=m}else{if(this.L5<100)this.L5*=m}this.Lc()};
gW.prototype.gW=function(){this.a2(this.dj)};gW.prototype.a2=function(G,m){this.dj=G;if(!g.m$(this.Fl))return;
this.Yn.f(G.RG,G.O8,G.TM);var A=G.RG,Q=A.In.Font,a=0;if(Q==null)return;var H=A.sa[Q].Name;if(this.ai9==H)return;
var Q=G.O8.pz(H);if(Q==null)return;var J=Q.maxp.numGlyphs,b=this.arz=new Array(J);for(var $=0;$<J;$++)b[$]={ZJ:[]};
var O=Date.now(),e=new Uint8Array(1048575);for(var $=0;$<1048575;$++){var R=Typr.U.codeToGlyph(Q,$);
if(R!=0&&R<J){e[$]=1;if(b[R].ZJ.length==0)a++;b[R].ZJ.push($)}}var p=gW.Bt,P=[];for(var $=0;$<p.length;
$++)P.push([]);for(var R=1;R<J;R++){P[0].push(R);var z=b[R].ZJ[0];if(z==null){continue}for(var Z=1;Z<p.length;
Z++){var W=p[Z].nn;for(var $=0;$<W.length;$+=2)if(W[$]<=z&&z<=W[$+1]){P[Z].push(R);break}}}this.Zb=P;
var T=[];for(var $=0;$<p.length;$++)T.push(p[$].CF+" ("+P[$].length+")");var i=this.TY.B();this.TY.fd(T);
this.TY.f(i);this.ai9=H;this.a8Y=Q;this.Lc()};gW.prototype.a6r=function(G){var m=Math.floor(this.Cg/this.L5);
return Math.floor(this.Cg/m)};gW.prototype.Lc=function(G){if(!g.m$(this.Fl)||this.Zb==null)return;var m=this.Zb[this.TY.B()],A=m.length,Q=this.a8Y,H=Typr.U,J=this.a6r(),b=J,O=b*.8,a=b*.8/Q.head.unitsPerEm,e=[],R=Math.floor(this.Cg/J),p=Math.ceil(A/R),P=this.acH,z=Date.now();
for(var Z=0;Z<p;Z+=P){var W=g.L("canvas"),T=W.getContext("2d");W.width=J*R;W.height=b*P;T.strokeStyle="rgba(0,0,0,0.3)";
T.fillStyle="white";T.fillRect(0,0,R*J,b*P);for(var i=0;i<P;i++){for(var X=0;X<R;X++){var $=m[(Z+i)*R+X];
if($==null)break;var U=H.glyphToPath(Q,$),M=N.H.Cf(U.crds);if(!M.My()){T.fillStyle="#252525";T.beginPath();
var C=X*J+(J-M.e*a)*.5-M.x*a,x=i*b+O;T.translate(C,x);T.scale(a,-a);H.pathToContext(U,T);T.scale(1/a,-1/a);
T.translate(-C,-x);T.fill()}}}T.beginPath();for(var X=0;X<R;X++){var L=X*J+J+.5;T.moveTo(L,0);T.lineTo(L,b*P)}for(var i=0;
i<P;i++){var E=i*b+b+.5;T.moveTo(0,E);T.lineTo(R*J,E)}T.stroke();e.push(W)}this.Nb.o7(e,null,J*R,b*P)};
gW.Bt=[{CF:"All Glyphs"},{CF:"Basic Latin, Latin 1",nn:[0,127,128,143]},{CF:"Latin Extended-A",nn:[256,383]},{CF:"Latin Extended-B",nn:[384,591]},{CF:"Punctuations",nn:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{CF:"Greek",nn:[880,1023]},{CF:"Cyrillic",nn:[1024,1279]},{CF:"Hebrew",nn:[1424,1535]},{CF:"Arabic",nn:[1536,1791]},{CF:"Emoji",nn:[9728,10095,127744,129535]}];
function e4(){eQ.call(this,[13,0],!1,null,eQ.Lm.bu);this.AE=0;this.a8h=0;this.dj=null;var G=g.L("div","flexrow padded");
this.Fl.appendChild(G);var m=g.L("div");G.appendChild(m);this.HY=[];for(var $=0;$<2;$++){var A=new jM;
this.HY.push(A);A.J("click",this.ahf,this);m.appendChild(A.m)}this.DU=new by(192);this.DU.J(r.E.o,this.xH,this);
G.appendChild(this.DU.m)}e4.prototype=new eQ("");e4.prototype.ahf=function(G){this.AE=this.HY.indexOf(G.currentTarget);
this.Lc()};e4.prototype.xH=function(G){var m=this.DU.B();this.DU.f(m);var A=Math.round(m.p*255)<<16|Math.round(m.z*255)<<8|Math.round(m.h*255),Q=new j8(r.E.W,!0);
Q.data={d:r.S.$g,WF:dG.bu,Nm:this.AE,k:A};this.u(Q);this.a8h=Date.now()};e4.prototype.Lc=function(){var G=this.dj,m=this.AE,A=[G.yu,G.qU];
for(var $=0;$<2;$++){var Q=this.HY[$],H=Q.m.style;Q.s8(A[$]);if($==m)H.filter="drop-shadow(0 0 1px #000000)"}var J=A[m];
if(Date.now()-this.a8h>100)this.DU.f({p:(J>>>16)/255,z:(J>>>8&255)/255,h:(J&255)/255})};e4.prototype.a2=function(G,m){this.dj=G;
if(m==dG.ud||m==dG.bu)this.Lc()};e4.prototype.gW=function(){this.Lc()};function a4(){eQ.call(this,"CSS",!1,"---panels/css",eQ.Lm.CSS);
this.YB=null;var G=g.L("div","padded");this.Fl.appendChild(G);this.KH=g.L("textarea");g.hl(this.KH);
G.appendChild(this.KH)}a4.prototype=new eQ("");a4.prototype.e9=function(G,m){if(this.zp==G)return;this.zp=G;
this.KH.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(G-10)+"px; height:"+(m-10)+"px")};
a4.prototype.MZ=function(G){this.YB=G;this.Lc()};a4.prototype.a2=function(G,m){if(m==dG.YF)this.Lc()};
a4.prototype.Lc=function(){var G=this.YB;if(G==null||G.c.length==0)return;if(!g.m$(this.Fl))return;var m=G.g[G.c[0]],A=CSS.acu(m,G);
if(A.length!=0)this.KH.value=A.join(";\n")+";";else this.KH.value=""};a4.prototype.gW=function(){this.Lc()};
function d3(){eQ.call(this,[9,6],!1,"---panels/info",eQ.Lm.ahZ);this.Fl.setAttribute("style","min-width:240px;");
this.YB=null;this.dj=null;var G=g.L("div","marged row");this.Fl.appendChild(G);var m=g.L("div","cell");
m.setAttribute("style","width:10em");G.appendChild(m);var A=g.L("div","cell");A.setAttribute("style","width:10em");
G.appendChild(A);this.a1G=[];for(var $=0;$<4;$++){var Q=new gS("");this.a1G.push(Q);m.appendChild(Q.m);
g.Qm(m)}this.Fl.appendChild(g.L("hr",""));var H=g.L("div","marged row");this.Fl.appendChild(H);var m=g.L("div","cell");
m.setAttribute("style","width:10em");var A=g.L("div","cell");A.setAttribute("style","width:10em");H.appendChild(m);
H.appendChild(A);this.z6=new gS("");m.appendChild(this.z6.m);g.Qm(m);this.sn=new gS("");m.appendChild(this.sn.m);
this.Ly=new gS("");A.appendChild(this.Ly.m);g.Qm(A);this.P$=new gS("");A.appendChild(this.P$.m);this.z6.f("X: 100 px");
this.sn.f("Y: 100 px");this.Ly.f("W: 0");this.P$.f("H: 0")}d3.prototype=new eQ("");d3.prototype.Nr=function(G,m,A,Q,H){if(!g.m$(this.Fl)||G==null)return;
var J=G.t.fY(H.x,H.y),b=new dw(Math.floor(J.x),Math.floor(J.y));if(!H.U_){var O=0,a=0,e=0,R=0,p=this.a1G;
if(!H.U_&&!G.abz()&&new f_(0,0,G.e-1,G.n-1).EW(b)){var P=G.$s(),$=G.e*b.y+b.x<<2;O=P[$+0];a=P[$+1];e=P[$+2];
R=P[$+3]}p[0].f("R: "+O);p[1].f("G: "+a);p[2].f("B: "+e);p[3].f("A: "+R)}this.z6.f("X: "+N.Kj.DO(b.x,G.SV,A,G.e));
this.sn.f("Y: "+N.Kj.DO(b.y,G.SV,A,G.n));this.xS()};d3.prototype.xS=function(){var G=this.YB,m=this.dj,A=0,Q=0;
if(G&&m){if(G.t.L2){A=G.t.L2.e;Q=G.t.L2.n}else if(G.q){A=G.q.rect.e;Q=G.q.rect.n}A=N.Kj.DO(Math.abs(A),G.SV,m,G.e);
Q=N.Kj.DO(Math.abs(Q),G.SV,m,G.n)}this.Ly.f(f5.get([12,41]).charAt(0)+": "+A);this.P$.f(f5.get([12,42]).charAt(0)+": "+Q)};
d3.prototype._=function(){eQ.prototype._.call(this);this.xS()};d3.prototype.MZ=function(G,m,A){this.YB=G;
this.dj=A;this.xS()};function cg(){eQ.call(this,[9,1],!1,"---panels/layers",eQ.Lm.p4);this.l_=null;this.EY=null;
this.Sk=null;this.Ix=g.L("div","lphead");this.HT=g.L("div","lpbody scrollable");this.$Q=g.L("div","lpfoot");
this.S1=new aX([0,6]);this.S1.J(r.E.o,this.HP,this);this.Ix.appendChild(this.S1.m);this.Rj=g.L("span","disabled");
this.Rj.setAttribute("style","display:inline-block; height:26px");this.Ix.appendChild(this.Rj);this.Re=new iV(null,["Kind",[12,48]],!1,[]);
this.Re.J(r.E.o,this.HP,this);var G=this.VB=[new a6(null,["<img src=\""+PIMG.pix_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"autoscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new h_(null,null,8)];
G[0].J(r.E.o,this.HP,this);G[1].J("input",this.HP,this);this.adv();this.OV=new iV(null,ib.dw,!1,ib.gK);
this.OV.J(r.E.o,this.a0d,this);this.Ix.appendChild(this.OV.m);this.ZX=new hz([12,0],0,100,"%",0);this.ZX.J(r.E.o,this.a3p,this);
this.ZX.parent=this;this.Ix.appendChild(this.ZX.m);this.EO=new a6([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.EO.J(r.E.o,this.afa,this);this.Ix.appendChild(this.EO.m);this.Uf=new hz([12,26],0,100,"%",0);this.Uf.J(r.E.o,this.a5z,this);
this.Uf.parent=this;this.Ix.appendChild(this.Uf.m);this.Ln=[];this.Ug();this.Fl.appendChild(this.Ix);
this.Fl.appendChild(this.HT);this.HT.addEventListener("dragover",function(Q){Q.preventDefault()},!1);
this.HT.addEventListener("dragenter",g.zx,!1);this.HT.addEventListener("drop",this.ask.bind(this),!1);
this.Fl.appendChild(this.$Q);this.Fl.addEventListener("contextmenu",g.zx,!1);var m=cH._H(!0),A=cH.tq(!0);
this.ad0=new fL(m,A);var m=[{name:[14,10]},{name:[14,11],l3:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],l3:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",P:function(Q){return{P:Q.g[Q.c[0]].add.SoLd!=null}},l3:!0},{name:[6,8],P:cg.a3o},{name:[6,34],P:function(Q){var H=Q.g[Q.c[0]];
return{P:H.add.lmfx!=null&&!H.r8()}}},{name:[6,40],l3:!0,P:function(Q){var H=Q.g[Q.c[0]];return{P:H.add.TySh!=null}}},{name:"",l3:!0,P:function(Q){var H=Q.g[Q.c[0]],J=H.add.TySh,b=J?J.DQ:null;
return{P:J!=null&&b.Curve==null,pl:f5.get(J&&fC.Sv(b)==0?[16,3,1]:[16,3,0])}}},cg.arx(!1),{name:[11,6],l3:!0,sub:[{name:[5,1],P:function(Q){var H=Q.g[Q.c[0]];
return{P:H.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],P:function(Q){var H=Q.g[Q.c[0]];return{P:H.add.lmfx!=null}}}]},{name:[6,10],P:function(Q){return{P:Q.c.length==1&&Q.c[0]!=0&&!Q.g[Q.c[0]].r8()}}},{name:[6,12,0],P:function(Q){return{P:Q.c.length>1||Q.g[Q.c[0]].r8()}}},{name:[6,12,1],l3:!0},{name:[13,0],sub:function(){var Q=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],H=[];
for(var $=0;$<Q.length;$++)H.push({name:Q[$]});return H}()}],A=[{T:r.E.W,R:{d:r.S.XG,Ue:"layerstyle"}},{T:r.E.w,b:f.vj,R:{d:"fromlayer",ii:[null,0,0]}},{T:r.E.w,b:f.p4,R:{d:c.h_}},{T:r.E.W,R:{d:r.S.XG,Ue:"duplinto"}},{T:r.E.w,b:f.p4,R:{d:c.ip}},{T:r.E.NH,R:{YI:"newPlacedLayer"}},{T:r.E.w,b:f.p4,R:{d:c.eI}},{T:r.E.NH,R:{YI:"rasterizeLayer",aL:{classID:"rasterizeLayer",null:ah.TH("Lyr",!0)}}},{T:r.E.w,b:f.p4,R:{d:c.bf}},{T:r.E.w,b:f.p4,R:{d:c.pp}},{T:r.E.w,b:f.G8,R:{d:"switchPntPrgr"}},{T:r.E.w,b:f.p4,R:{d:c.Y5}},{sub:[{T:r.E.w,b:f.Xj,R:{d:"st_copy"}},{T:r.E.w,b:f.Xj,R:{d:"st_paste"}},{T:r.E.w,b:f.Xj,R:{d:"st_clear"}}]},{T:r.E.w,b:f.p4,R:{d:c.ZH}},{T:r.E.w,b:f.p4,R:{d:c.li}},{T:r.E.w,b:f.p4,R:{d:c.y7}},{sub:function(){var Q=[];
for(var $=0;$<8;$++)Q.push({T:r.E.w,b:f.p4,R:{d:c.Vu,a4d:$}});return Q}()}];this.oD=new fL(m,A);var m=[{name:[6,45],P:function(Q){var H=Q.g[Q.c[0]];
return{P:H.mv(Q).D==null}}},{name:[6,47]}],A=[{T:r.E.w,b:f.p4,R:{d:c.Hw}},{T:r.E.w,b:f.p4,R:{d:c.XI}}];
this.a2s=new fL(m,A);var m=[{name:"enab/disab",P:function(Q){return{pl:f5.get(Q.g[Q.c[0]].fm().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],P:function(Q){return{P:Q.fE(!1,!0)}}}],A=[{T:r.E.w,b:f.p4,R:{d:c.Sx}},{T:r.E.w,b:f.p4,R:{d:c.qu}},{T:r.E.w,b:f.p4,R:{d:c.fF}}];
this.aqc=new fL(m,A);var m=[{name:"enab/disab",P:function(Q){return{pl:f5.get(Q.g[Q.c[0]].mv(Q).D.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],A=[{T:r.E.w,b:f.p4,R:{d:c._R}},{T:r.E.w,b:f.p4,R:{d:c.Eo}}];
this.a8K=new fL(m,A);var m=[{name:"enab/disab",P:function(Q){return{pl:f5.get(Q.g[Q.c[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],A=[{T:r.E.w,b:f.p4,R:{d:c.yD}},{T:r.E.w,b:f.p4,R:{d:c.T0}},{T:r.E.w,b:f.p4,R:{d:c.Yj}}];
this.ajF=new fL(m,A);this.ar$=new fL(cH.ar7(!0),cH.JL(!0));this.asS=new fL(cH._H(),cH.tq());this.J("rclick",this.arB,this)}cg.prototype=new eQ("");
cg.prototype.afM=function(){if(this.S1.B()){var G=this.Re.B(),m=this.VB[G].B();if(G==0)return m.indexOf(!0)!=-1;
if(G==1)return m!=""}return!1};cg.arx=function(G){var m=function(Q){var H=Q!=null&&Q.c.length!=0&&Q.g[Q.c[0]].hd;
return{qW:H,P:Q!=null&&Q.Sj(Q.c[0]),R:{T:r.E.NH,R:{YI:H?"ungroup":"groupEvent",aL:{classID:H?"Ungr":"GrpL",null:ah.TH("Lyr",!0)}}}}},A={name:[6,6,0],l3:!0,P:m};
if(G)A.Hp=[a5.Ei,a5.KF,a5.jE];return A};cg.a3o=function(G,m){if(G)for(var $=0;$<G.c.length;$++){var A=G.g[G.c[$]];
if(A.add.TySh||A.add.SoLd||A.add.SoCo||A.add.GdFl||A.add.PtFl)return{P:!0}}return{P:!1}};cg.prototype.ask=function(G){g.zx(G);
var m=G.dataTransfer.getData("Text"),A=1,Q=0;if(m==""){g.QG(G,this,this.Sk.indexOf(this.EY),Q+(A>.5?0:1))}else if(m!="--panel"){var m=JSON.parse(m),H=m.O7;
if(H=="l")this.Qq({d:c.WV,source:m.ou,target:Q,fk:A})}};cg.prototype.arB=function(G){var m=this.EY,A=G.data,H;
if(m.c.indexOf(A.i)==-1){var Q={d:c.mq,i:G.target.vN.index,oH:A.Sm};this.Qq(Q)}if(m.c.indexOf(A.i)==-1)return;
if(A.Sm==1){H=this.aqc}else if(A.Sm==2){H=this.ajF}else if(A.Sm==3){H=this.a8K}else if(A.Sm==4){H=this.a2s}else if(A.Sm==5){H=this.ad0}else{H=this.oD}H._();
H.update(m);H.parent=this;var J=new j8(r.E.W,!0);J.data={d:r.S.mo,Nc:H,x:A.gn.x+1,y:A.gn.y+1};this.u(J)};
cg.prototype._=function(){eQ.prototype._.call(this);this.OV._();this.ZX._();this.EO._();this.Uf._();
if(this.EY)this.MZ(this.EY);var G="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var $=0;$<this.Ln.length;$++){var m=this.Ln[$];m.ym(g.y3(G[$]))}};cg.prototype.MZ=function(G,m){if(G&&!G.bV)return;
if(G==null)g.kG(this.Fl,"disabled");else g.W8(this.Fl,"disabled");this.EY=G;this.Sk=m;if(this.l_!=null){this.HT.removeChild(this.l_.HT);
this.l_=null}if(G==null)return;var A=!1;for(var $=0;$<G.Hv.length;$++)if(G.Hv[$].wV)A=!0;this.l_=new bi(G.root,this,G,{zG:0},{a6k:A,aeV:this.afM()});
this.HT.appendChild(this.l_.HT);if(G.c.length==0||G.g[G.c[0]]==null)g.kG(this.Ix,"disabled");else{g.W8(this.Ix,"disabled");
if(G.c.length==1&&G.we)this.l_.a6p(G.c);var Q=G.g[G.c[0]];if(Q.r8()){this.OV.fd([[15,10,27]].concat(ib.dw),[1].concat(ib.gK));
var H=ib.Vh.indexOf(Q.w4);this.OV.f(H+1)}else{this.OV.fd(ib.dw,ib.gK);var H=ib.Vh.indexOf(Q.w4);this.OV.f(H)}this.ZX.f(Math.round(100*Q.opacity/255));
this.EO.f([Q.AL(0),Q.AL(1),Q.AL(2),Q.AL(31)]);this.Uf.f(Math.round(100*(Q.add.iOpa!=null?Q.add.iOpa/255:1)))}};
cg.prototype.e9=function(G,m){var A=this.Ix.getBoundingClientRect().height,Q=59;if(A>70)Q=84;if(A>100)Q=108;
if(A>120)Q=128;var H=m-(Q+37);this.HT.style.height=H+"px";this.HT.style.width=G+"px"};cg.prototype.a0d=function(G){this.Qq({d:c.x_,wK:this.OV.B()})};
cg.prototype.a3p=function(G){this.Qq({d:c.h2,wK:Math.round(255*this.ZX.B()/100)})};cg.prototype.afa=function(G){this.Qq({d:c.FV,wK:[this.EO.B(),[0,1,2,31]]})};
cg.prototype.a5z=function(G){this.Qq({d:c.BE,wK:Math.round(255*this.Uf.B()/100)})};cg.prototype.HP=function(G){if(G.target==this.Re)this.adv();
var m=this.S1.B();if(m)g.W8(this.Rj,"disabled");else g.kG(this.Rj,"disabled");this._();this.EY.bV=!0;
this.MZ(this.EY);this.EY.bV=!1};cg.prototype.adv=function(){g.iJ(this.Rj);this.Rj.appendChild(this.Re.m);
this.Rj.appendChild(this.VB[this.Re.B()].m)};cg.prototype.alV=function(G){this.a46(G,this.ar$)};cg.prototype.a4_=function(G){this.a46(G,this.asS)};
cg.prototype.a46=function(G,m){var A=G.currentTarget;if(g.m$(m.m))return;G.stopPropagation();var Q=A.getBoundingClientRect();
m._();m.update(this.EY);m.parent=this;var H=new j8(r.E.W,!0);H.data={d:r.S.mo,Nc:m,x:Q.left,y:Q.top,arX:!0};
this.u(H)};cg.prototype.a07=function(G){this.Qq({d:c.Jh})};cg.prototype.ad4=function(G){this.Qq({d:this.EY.c.length>1?c.pr:c.NJ})};
cg.prototype.a49=function(G){this.Qq({d:c.$o})};cg.prototype.ac6=function(G){var m=this.EY;if(m.c.length==0)return;
var A=m.g[m.c[0]],Q=A.Sm;this.Qq({d:Q<=0?A.ri?c.T0:c.ip:Q==3?c.Eo:c.qu})};cg.prototype.a4K=function(G){this.Qq({d:c.GS})};
cg.prototype.Qq=function(G){var m=new j8(r.E.w,!0);m.data=G;m.b=f.p4;this.u(m)};cg.prototype.Ug=function(){var G=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],m=[this.a4K,this.a4_,this.alV,this.a07,this.ad4,this.a49,this.ac6],A=this.afB.bind(this);
for(var $=0;$<G.length;$++){var Q=new iL("W",!1,G[$]);this.Ln.push(Q);g.Il(Q.m,m[$].bind(this));this.$Q.appendChild(Q.m);
if($>=G.length-3){var H=Q.m;H.addEventListener("drop",A,!1);H.addEventListener("dragover",function(J){J.preventDefault()},!1);
H.addEventListener("dragenter",g.zx,!1)}}};cg.prototype.afB=function(G){g.zx(G);var m=0,A=this.Ln;while(A[m].m!=G.currentTarget)m++;
A[m].TP();var Q=G.dataTransfer.getData("Text");if(Q=="")return;var Q=JSON.parse(Q);if(Q.O7=="l"){var H={d:[c.pr,c.h_,c.ip][m-4]};
if(this.EY.c.indexOf(Q.ou)==-1)H.i=Q.ou;this.Qq(H)}if(m!=6)return;if(Q.O7=="sm"||Q.O7=="s"){var J=new j8(r.E.w,!0);
J.b=f.Xj;J.data={d:Q.O7=="sm"?"st_clear":"st_delsingle",i:Q.ou,ou:Q.c2};this.u(J)}if(Q.O7=="fm"||Q.O7=="f"){this.Qq({d:Q.O7=="fm"?c.XI:c.jR,src:Q.ou,c2:Q.c2})}if(Q.O7=="m"||Q.O7=="vm"){this.Qq({d:Q.O7=="m"?c.qu:c.T0,i:Q.ou})}};
function bi(G,m,A,Q,H){gB.call(this);this.parent=m;this.vN=G;this.Yk=[];this.m=g.L("div","layeritem");
var J=H.aeV&&!this.amT(),b=G.i,O=A.c.indexOf(G.index)!=-1,x=15,q=!1;this.Ix=g.L("div",O?"head selected":"head");
if(G.i.add.artb!=null)g.kG(this.Ix,"artb");var a="height: "+(b.r8()?26:Math.floor(10+b.ab3/g.G()))+"px;";
if(O&&H.a6k)a+="background-color:rgba(255,50,50,0.4);";this.Ix.setAttribute("style",a);var e=g.L("div","headL"),R=g.L("div","headR"),p=g.L("div","lpineck");
this.HT=g.L("div","lpibody");this.Ix.appendChild(e);this.Ix.appendChild(R);if(!J){this.m.appendChild(this.Ix);
if(b.kz()||b.Ct())if(b.Pq())this.m.appendChild(p)}var P=this.Ix;P.setAttribute("draggable","true");P.addEventListener("dragstart",this.bS.bind(this),!1);
P.addEventListener("drop",this.xz.bind(this),!1);P.addEventListener("dragover",this.qZ.bind(this),!1);
P.addEventListener("dragenter",g.zx,!1);P.addEventListener("dragleave",this.rm.bind(this),!1);var z=[],Z=[null,null,null,null],W=g.L("div");
this.WI=g.L("div","eye");W.appendChild(this.WI);var T=g.L("div","space");this.dQ=g.L("div","label");
this.dQ.setAttribute("style","max-width:calc(100% - "+(96+G.depth*20)+"px)");this.dQ.textContent=b.getName();
this.Za=g.L("div","lock");this.afj=g.L("div","lrfx");this.hA=g.L("div","arfx");var i=this.aov.bind(this),X=this.amA.bind(this);
this.Ix.addEventListener("click",X,!1);this.Ix.addEventListener("contextmenu",i,!1);var U=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],M=b.add.lclr==null?0:U[b.add.lclr];
if(M==0)M=Q.zG;var C=[M>>16,M>>8&255,M&255];for(var $=0;$<3;$++){C[$]=Math.round(.5*C[$]+.5*220)}if(1<g.G()&&g.G()<1.5)x=x/g.G();
W.setAttribute("style","background-color:rgba("+C.join(",")+","+(M==0?0:1)+");");this.WI.setAttribute("style","background-size: "+x+"px "+x+"px;");
var L=this.akv.bind(this);W.addEventListener("mousedown",L,!1);W.addEventListener("mouseover",L,!1);
this.hA.addEventListener("click",this.ajw.bind(this),!1);z[0]=W;z[1]=T;z[10]=this.dQ;function E(hZ,bG,P){var aY=bG.canvas;
g.a1O(aY);if(P)hZ.setAttribute("draggable","true");hZ.appendChild(aY);aY.setAttribute("style",aY.getAttribute("style")+"; pointer-events:none")}if(b.r8()){var l=g.L("div","arrow"),y=g.L("div","folder");
l.addEventListener("click",this.a4J.bind(this),!1);z[2]=l;z[3]=y;if(b.add.lsct==fM.UK||H.aeV){for(var $=G.children.length-1;
$>=0;$--){var Y=new bi(G.children[$],m,A,{zG:M},H);this.Yk.push(Y);this.HT.appendChild(Y.m)}this.m.appendChild(this.HT)}l.setAttribute("class",b.add.lsct==fM.UK?"open":"closed")}else{this.oF=g.L("div","thumb");
z[5]=this.oF;E(this.oF,b.xA);if(hE.get(b.add))g.kG(b.xA.canvas,"gsicon")}var F=b.fm();if(F){this.j1=g.L("div","chain");
this.E$=g.L("div","thumb");E(this.E$,G.i.a1t,!0);this.j1.style.opacity=F.v5?1:0;this.j1.addEventListener("click",this.arl.bind(this),!1)}var w=b.gX()&&b.add.vmsk;
if(b.add.vmsk&&!w){this.BJ=g.L("div","chain");this.rJ=g.L("div","thumb");E(this.rJ,G.i.amv,!0);this.BJ.style.opacity=b.add.vmsk.v5?1:0;
this.BJ.addEventListener("click",this.ako.bind(this),!1)}if(b.Ct()&&b.mv(A).D){this.w1=g.L("div","thumb");
E(this.w1,G.i.a2O,!1);this.w1.addEventListener("click",X,!1);this.w1.addEventListener("contextmenu",i,!1)}if(b.kz()){this.arG=p;
p.addEventListener("contextmenu",i,!1);var j=new cg.eZ(f5.get([12,1]),"sm","layerstyle",G.depth,0,null);
j.parent=this;p.appendChild(j.m);var _=b.add.lmfx,D=_.masterFXSwitch.v;j.YQ(D);for(var $=0;$<hK.order.length;
$++){var t=_[hK.HK[$]].v;if(t.length==0)continue;for(var K=0;K<t.length;K++){var j=new cg.eZ(f5.get(hK.names[$]),"s","layerstyle",G.depth,1,[$,K]);
j.YQ(D&&t[K].v.enab.v);j.parent=this;p.appendChild(j.m)}}}if(b.Ct()){var j=new cg.eZ(f5.get([12,55]),"fm",null,G.depth,0,-1,b.mv(A).D?this.w1:null);
j.parent=this;p.appendChild(j.m);this.aeS=j.m;this.aeS.addEventListener("contextmenu",i,!1);var _=b.add.SoLd.filterFX.v,d=_.filterFXList.v,D=_.enab.v;
j.YQ(D);for(var $=d.length-1;$>=0;$--){var o=d[$].v,k=bH.us(o);if(hE.qV[k])k=hE.qV[k];var v=o.Nm.v;if(bH.names[k])v=f5.get(bH.names[k]);
if(hE.names[k])v=f5.get(hE.names[k]);var u="afw_"+k,j=new cg.eZ(v,"f",u,G.depth,1,$);j.YQ(D&&o.enab.v);
j.parent=this;p.appendChild(j.m)}}if(G.index==A.c[0]){var B=b.Sm,S;if(B<=0)S=this.oF;else if(B==1)S=this.E$;
else if(B==3)S=this.w1;if(S)S.setAttribute("class","thumb active");if(b.ri&&this.rJ)this.rJ.setAttribute("class","thumb active")}W.style.opacity=b.HX()?1:.25;
T.setAttribute("style","width:"+Math.max(0,G.depth-1)*18+"px");var I=b.add.lspf!=null&&b.add.lspf!=0;
this.Za.style.opacity=b.AL(31)?1:.5;z[4]=b.hd?g.L("div","clipp"):null;z[6]=F?this.j1:null;z[7]=F?this.E$:null;
z[8]=b.add.vmsk&&!w?this.BJ:null;z[9]=b.add.vmsk&&!w?this.rJ:null;var hw=b.yU,fY=A.c;if(hw!=0)for(var $=0;
$<fY.length;$++)if(A.g[fY[$]].yU==hw){q=!0;break}if(q){Z[0]=g.L("div",b.zf?"link":"linkX");Z[0].addEventListener("click",this.alb.bind(this),!1)}Z[1]=I?this.Za:null;
Z[2]=b.kz()?this.afj:null;Z[3]=b.kz()||b.Ct()?this.hA:null;this.hA.setAttribute("class",b.Pq()?"arfx open  gsicon":"arfx closed  gsicon");
var s=z;for(var $=0;$<s.length;$++)if(s[$])e.appendChild(s[$]);s=Z;for(var $=0;$<s.length;$++)if(s[$])R.appendChild(s[$])}bi.prototype=new gB;
bi.prototype.a6p=function(G){var m=this.vN.index;if(G.indexOf(m)!=-1){if(this.m.scrollIntoView)this.m.scrollIntoView({block:"nearest"})}for(var $=0;
$<this.Yk.length;$++)this.Yk[$].a6p(G)};bi.$Z=function(G,m){var A=m.getBoundingClientRect();return(G.clientY-A.top)/A.height};
bi.prototype.bS=function(G){G.stopPropagation();var m=G.target==this.E$?"m":G.target==this.rJ?"vm":"l";
G.dataTransfer.setData("Text",JSON.stringify({O7:m,ou:this.vN.index}))};bi.prototype.rm=function(G){g.zx(G);
this.zN()};bi.prototype.xz=function(G){g.zx(G);this.zN();var m=G.dataTransfer.getData("Text"),A=this.parent.EY,Q=bi.$Z(G,this.Ix),H=this.vN.index;
if(Q>.8){var J=!0,b=A.root.Zu(H);while(b.parent!=null){var O=b.parent,a=O.children;if(a.indexOf(b)!=0)J=!1;
b=b.parent}if(J){H=0;Q=1}}if(m==""){g.QG(G,this,this.parent.Sk.indexOf(A),H+(Q>.5?0:1))}else if(m!="--panel"){var m=JSON.parse(m),e=m.O7;
if(e=="l")this.Qq({d:c.WV,source:m.ou,target:H,fk:Q});else if(e=="m"||e=="vm")this.Qq({d:e=="m"?c.Wk:c.UO,src:m.ou,y4:H});
else bi.a40(G,m,this)}};bi.a40=function(G,m,A,Q){var H=m.O7,J=A.vN.index,b=m.ou;if(H=="s"||H=="sm")A.Qq({d:c.XM,src:b,y4:J,c2:m.c2});
if(H=="f"||H=="fm")A.Qq({d:c.jh,src:b,y4:J,c2:m.c2,Hs:Q==null?0:Q})};bi.prototype.qZ=function(G){g.zx(G);
var m=bi.$Z(G,this.Ix),A=this.vN.i.r8()&&.5<m&&m<.8;this.zN();var Q="inset 0 "+(A?0:m>.5?-3:3)+"px "+(A?"5px black":"0 rgba(0,0,0,0.5)");
this.Ix.style.boxShadow=Q};bi.prototype.zN=function(G){this.Ix.style.boxShadow=""};bi.a9Z=-1;bi.dz=!1;
bi.aiW=function(G){bi.dz=!1;document.body.removeEventListener("mouseup",bi.aiW)};bi.prototype.akv=function(G){if(G.button!=0)return;
if(G.type=="mousedown"){bi.dz=!0;document.body.addEventListener("mouseup",bi.aiW,!1)}if(G.type=="mouseover"&&(!bi.dz||bi.a9Z==this.vN.index))return;
g.zx(G);this.Qq({d:c.Bg,i:this.vN.index});bi.a9Z=this.vN.index};bi.prototype.a4J=function(G){g.zx(G);
this.Qq({d:c.C1,i:this.vN.index})};bi.prototype.arl=function(G){this.Qq({d:c.Xb,i:this.vN.index})};bi.prototype.ako=function(G){this.Qq({d:c.tE,i:this.vN.index})};
bi.aS=0;bi.prototype.BP=function(G){this.Qq({d:c._C,i:this.vN.index,name:G})};bi.prototype.ajw=function(G){this.Qq({d:c.d9,i:this.vN.index})};
bi.prototype.alb=function(G){this.Qq({d:c.th,i:this.vN.index})};bi.prototype.aov=function(G){var m=G.sourceCapabilities;
if(m)m=m.firesTouchEvents;if(G.button!=2&&m!=!0)return;var A=this.Sm(G);if(A!=3&&G.currentTarget==this.aeS)A=4;
if(G.target==this.afj||G.currentTarget==this.arG)A=5;var Q=new j8("rclick",!0);Q.data={i:this.vN.index,Sm:A,gn:g.zi(G,document.body)};
this.u(Q)};bi.prototype.Sm=function(G){var m=G.target,A=m;return A==this.rJ?2:A==this.E$?1:A==this.oF?0:A==this.w1?3:-1};
bi.prototype.amA=function(G){var m=G.target,P;if(m==this.WI||m==this.hA||m==this.j1||m==this.BJ||m.tagName&&m.tagName.toLowerCase()=="input")return;
var A=this.Sm(G),Q=this.parent.EY,H=this.vN.index,J=Q.g[H];if(m==this.Za){this.Qq({d:c.FV,i:H,wK:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(m==this.dQ){var b=bi.aS;bi.aS=Date.now();if(Date.now()-b<300){this.Ix.setAttribute("draggable","false");
var O=new eQ.wU(this.dQ,this.BP.bind(this))}}if(G.button==0&&G.detail==2){if(m==this.dQ)return;var a=new j8(r.E.w,!0),e=new j8(r.E.W,!0),R=new j8(r.E.NH,!0);
if(A==0&&J.add.SoCo){var p=N.X.SR(J.add.SoCo.Clr.v);e.data={d:r.S.XG,Ue:"colorpicker",zG:p.p<<16|p.z<<8|p.h,b5:function(W){var T=N.X.N4({h:W&255,z:W>>>8&255,p:W>>16&255});
T={classID:"null",Clr:{t:"Objc",v:T}};var i=new j8(r.E.w,!0);i.b=f.p4;i.data={d:c.gI,Dt:[H],Yr:!0,k:{D2:1,GF:T}};
this.u(i)}.bind(this),If:!0}}else if(A==0&&(hE.get(J.add)||J.add.SoCo||J.add.GdFl||J.add.PtFl))e.data={d:r.S.Cb,Ue:eQ.Lm.NN};
else if(A!=0&&A!=-1)e.data={d:r.S.Cb,Ue:eQ.Lm.NN};else if(A==0&&J.add.SoLd)R.data={YI:"placedLayerEditContents",aL:{classID:"placedLayerEditContents"}};
else if(A==0&&J.add.TySh){a.b=f.G8;a.data={d:"editCurr",aY:H}}else e.data={d:r.S.XG,Ue:"layerstyle",i:H};
this.u(R.data?R:e.data?e:a);return}if(G.button!=0)return;if(A==1||A==3){var z=A==3?J.mv(Q).D:J.fm();
P=z.wV?Q.t._T.join("")=="111"?1:2:0}var Z={d:c.mq,i:H,oH:A,auh:P,aiK:!0};this.Qq(Z)};bi.prototype.Qq=function(G){var m=new j8(r.E.w,!0);
m.data=G;m.b=f.p4;this.u(m)};bi.prototype.amT=function(){var G=this.vN.i,m=G.add,A=this.parent.Re.B(),Q=this.parent.VB[A].B();
if(A==0){if(Q[0]&&m.SoLd==null&&m.TySh==null&&G.wC())return!0;if(Q[1]&&hE.get(m)!=null)return!0;if(Q[2]&&m.TySh!=null)return!0;
if(Q[3]&&m.vstk!=null)return!0;if(Q[4]&&m.SoLd!=null)return!0;return!1}if(A==1)return G.getName().toLowerCase().indexOf(Q.toLowerCase())!=-1};
cg.eZ=function(G,m,A,Q,H,J,b){gB.call(this);this.acv=m;this.Hl=A;this.index=J;this.m=g.L("div","styleitem");
this.Ix=g.L("div","head");this.arK=null;if(m=="f"){var O=this.arK=g.L("div","headR");O.textContent="\u2699";
this.Ix.appendChild(O)}this.J6=g.L("div","eye gsicon");this.dQ=g.L("div","label");this.m.appendChild(this.Ix);
this.Ix.appendChild(this.J6);if(b){this.E$=b;this.Ix.appendChild(this.E$);this.Ix.setAttribute("style","height: "+(b.firstChild.height/g.G()+10)+"px")}this.dQ.innerHTML=G;
this.m.setAttribute("style","margin-left: "+(24+Q*16+H*22)+"px");this.Ix.appendChild(this.dQ);this.J6.addEventListener("click",this.aq5.bind(this),!1);
var a=this.m;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.bS.bind(this),!1);
if(!0){a.addEventListener("drop",this.xz.bind(this),!1);a.addEventListener("dragover",this.qZ.bind(this),!1);
a.addEventListener("dragenter",g.zx,!1);a.addEventListener("dragleave",this.rm.bind(this),!1)}this.m.addEventListener("click",this.gE.bind(this),!1)};
cg.eZ.prototype=new gB;cg.eZ.prototype.bS=function(G){G.stopPropagation();G.dataTransfer.setData("Text",JSON.stringify({O7:this.acv,ou:this.parent.vN.index,c2:this.index}))};
cg.eZ.prototype.rm=function(G){g.zx(G);this.zN()};cg.eZ.prototype.xz=function(G){g.zx(G);this.zN();var m=G.dataTransfer.getData("Text");
if(m=="")return;var m=JSON.parse(m);bi.a40(G,m,this.parent,this.index+(bi.$Z(G,this.Ix)>.5?0:1))};cg.eZ.prototype.qZ=function(G){g.zx(G);
var m=bi.$Z(G,this.Ix)>.5;this.zN();var A="border-"+(m?"bottom":"top");this.Ix.style[A]="0.2em solid rgba(0,0,0,0.5)"};
cg.eZ.prototype.zN=function(G){this.Ix.style.border="none"};cg.eZ.prototype.YQ=function(G){var m=15;
if(1<g.G()&&g.G()<1.5)m=m/g.G();this.J6.setAttribute("style","background-size: "+m+"px "+m+"px;");this.J6.style.opacity=G?1:.2};
cg.eZ.prototype.gE=function(G){if(G.target==this.J6)return;var m=this.parent.vN.index;if(G.detail!=1&&this.Hl!=null){var m=this.parent.vN.index,A=new j8(r.E.W,!0);
if(this.Hl.indexOf("afw_")==0){var Q=this.Hl.slice(4),H=n[Q]||bH.K[Q],J=G.target==this.arK;if(!J&&!H)return;
A.data=f.gU.Ri(J?"blendOptions":Q,{i:m,index:this.index})}else A.data={d:r.S.XG,Ue:this.Hl,i:m,index:this.index};
this.u(A)}else{if(G.target.getAttribute("class")!="thumb")this.parent.Qq({d:c.mq,i:m,oH:0})}};cg.eZ.prototype.aq5=function(G){var m={fm:c.cJ,f:c.bF,sm:c.rA,s:c.ar}[this.acv];
this.parent.Qq({d:m,i:this.parent.vN.index,index:this.index})};function c6(){eQ.call(this,"Guide Guy",!1,"---panels/guideguy",eQ.Lm.aft);
this.YB=null;this.qT=[];var G=g.L("div","form padded");this.Fl.appendChild(G);G.setAttribute("style","width:200px");
this.Fl.appendChild(G);var m=g.L("canvas"),A=m.getContext("2d");m.width=m.height=160;var Q=[32,0,16,160,0,32,160,16,0,112,160,16],H="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),J=[0,0,0,0,0,0,0,0,0,0];
for(var $=0;$<10;$++){A.clearRect(0,0,160,160);A.setTransform(1,0,0,1,80,80);A.rotate(($&3)*Math.PI/2);
A.translate(-80,-80);A.fillStyle="rgba(0,0,0,0.3)";if($<4){for(var b=0;b<12;b+=4){A.fillStyle=b==0?"#000000":"rgba(0,0,0,0.3)";
A.fillRect(Q[b],Q[b+1],Q[b+2],Q[b+3])}}else if($<6){var O=8*6;A.fillRect(0,0,O,160);A.fillRect(8*7,0,O,160);
A.fillStyle="#000000";A.fillRect(8*14,0,O,160)}else if($<8){A.fillRect(0,0,16,160);A.fillRect(160-16,0,16,160);
A.fillRect(32,0,160-64,160);A.fillStyle="#000000";A.fillRect(32,80-8,160-64,8*1)}else{A.fillRect(0,0,8*7,160);
A.fillRect(8*13,0,160,160);A.fillStyle="#000000";A.fillRect(8*7,80-8,8*6,8*1)}var a="<img src=\""+m.toDataURL()+"\" class=\"autoscale gsicon\" /> ",e=new hz(a,0,200,$==4||$==5?null:"px",null,null,null,4,H[$]);
e.parent=this;e.J(r.E.o,this.ag1,this);e.f(J[$]);e._();this.qT.push(e);G.appendChild(e.m)}var R=[[11,14],[11,15,0]];
this.q5=[];for(var $=0;$<R.length;$++){var p=new iL(R[$],!0,null,!0);this.q5.push(p);p.J("click",this.vr,this);
G.appendChild(p.m)}for(var $=0;$<6;$++){A.setTransform(1,0,0,1,80,80);A.rotate(Math.floor($/3)*Math.PI/2);
A.translate(-80,-80);A.clearRect(0,0,160,160);A.fillStyle="rgba(0,0,0,0.3)";A.fillRect(0,0,160,160);
A.clearRect(16,16,128,128);A.fillStyle="#000000";var P=$%3;A.fillRect([0,9,18][P]*8,0,16,160);var a="<img src=\""+m.toDataURL()+"\" class=\"autoscale gsicon\" /> ",p=new iL(a,!1,null,!1);
this.q5.push(p);p.J("click",this.vr,this);G.appendChild(p.m)}}c6.prototype=new eQ("");c6.prototype._=function(){eQ.prototype._.call(this);
for(var $=0;$<this.q5.length;$++)this.q5[$]._()};c6.prototype.ag1=function(G){var m=this.qT,A=m.indexOf(G.target),Q=Math.floor(A/2),H=A&1,J=[];
for(var $=0;$<4;$++)J.push(m[2*$+H].B());var b=-1;if(Q==2&&J[2]!=0&&J[3]!=0&&J[4]!=0)b=4;if(Q==3&&J[3]!=0&&J[2]!=0&&J[4]!=0)b=4;
if(Q==4&&J[4]!=0&&J[2]!=0&&J[3]!=0)b=3;if(b!=-1)m[2*b+H].f(0)};c6.prototype.vr=function(G){var m=this.YB,A=this.q5.indexOf(G.target),Q=[[],[]];
if(m==null)return;var H=m.q?m.q.rect:new f_(0,0,m.e,m.n),J=H.e,b=H.n;if(A==0){var O=[[],[]];for(var $=0;
$<this.qT.length;$++)O[$&1].push(this.qT[$].B());var a=[c6.akA(O[0],H.x,H.x+J),c6.akA(O[1],H.y,H.y+b)];
Q=c6.amL(a);f.oj.$l(Q,m.G1())}else if(A==1){}else{A-=2;var e=Math.floor(A/3),a=[[],[]];a[e].push([H.x,H.x+J/2,H.x+J,H.y,H.y+b/2,H.y+b][A]);
Q=c6.amL(a);f.oj.$l(Q,m.G1())}this.a3U(Q)};c6.amL=function(G){var m=[],A=[];for(var Q=0;Q<2;Q++)for(var $=0;
$<G[Q].length;$++){m.push([Q,G[Q][$]]);A.push(-1)}return[m,A]};c6.prototype.atS=function(G){var m=this.a44.indexOf(G.target)};
c6.prototype.a3U=function(G){var m=new j8(r.E.w,!0);m.b=f.ld;m.data={d:"gids",GB:G};this.u(m)};c6.akA=function(G,m,A){var Q=[],H=G[2],J=G[3],b=G[4],O=0;
if(H==0)O++;if(J==0)O++;if(b==0)O++;if(O>1&&H==0&&J==0){if(G[0]!=0)Q.push(m+G[0]);if(G[1]!=0)Q.push(A-G[1]);
return Q}var a=A-m-G[0]-G[1];if(H==0){if(b==0){H=Math.floor(a/J);b=(a-H*J)/(H-1)}else{H=1;while(J*H+b*(H-1)+J+b<=a)H++}}else if(H!=0&&J!=0){if(H*J>a)H=Math.floor(a/J);
b=(a-H*J)/(H-1)}Q.push(m+G[0],A-G[1]);var J=(a-b*(H-1))/H;for(var $=1;$<H;$++){if(b==0)Q.push(m+G[0]+$*J);
else Q.push(m+G[0]+$*J+($-1)*b,m+G[0]+$*J+$*b)}return Q};c6.prototype.MZ=function(G){this.YB=G};function iZ(){eQ.call(this,[9,2],!1,"---panels/properties",eQ.Lm.NN);
this.alO=null;this.c3=null;this.dj=null;this.a8m=-1;this.sd=null}iZ.prototype=new eQ("");iZ.prototype.e9=function(G,m){this.zp=G;
this.V7=m;G=G-16;m=m-12;var A=this.sd;if(A){A.style.width=G+"px";A.style.height=m+"px";for(var $=0;$<3;
$++)this.ot[$].e9(G-12,m)}};iZ.prototype.O6=function(){this.sd=g.L("div","padded scrollable");this.Fl.appendChild(this.sd);
var G=g.L("span");this.sd.appendChild(G);this.o1=[new iL([0,3]),new iL([12,73]),new iL([12,91,0])];for(var $=0;
$<this.o1.length;$++){var m=this.o1[$];m.J("click",this.alc,this);G.appendChild(m.m);if($==2)m.m.style.marginRight="0"}this.sd.appendChild(g.L("hr"));
this.cj=new iZ.Jc;this.cj.parent=this;this.dG=new iZ.GE;this.dG.parent=this;this.xi=new iZ.Yg;this.xi.parent=this;
this.ot=[this.cj,this.dG,this.xi];this.sd.appendChild(this.cj.m);this.e9(this.zp,this.V7)};iZ.prototype.alc=function(G){var $=this.o1.indexOf(G.currentTarget);
this.xf($);this.a5P($==1?this.dG.lR:-1)};iZ.prototype.xf=function(G){for(var $=0;$<3;$++){this.o1[$].TP();
var m=this.ot[$].m;if(m.parentNode==this.sd&&$!=G)this.sd.removeChild(m);if(m.parentNode!=this.sd&&$==G)this.sd.appendChild(m)}this.o1[G].dt()};
iZ.prototype.a5P=function(G){var m=this.c3.c[0],A=this.c3.g[m],Q=G+1;if(G==1&&A.ri)return;var H=new j8(r.E.w,!0);
H.b=f.p4;if(G!=1&&A.ri){H.data={d:c.mq,i:m,oH:2};this.u(H)}H.data={d:c.mq,i:m,oH:Q};this.u(H)};iZ.prototype._=function(){eQ.prototype._.call(this);
if(this.sd==null)return;this.MZ(this.c3);for(var $=0;$<3;$++){this.o1[$]._();this.ot[$]._()}};iZ.prototype.gW=function(){if(!g.m$(this.Fl))return;
if(this.sd==null){this.O6();this.a2(this.dj,dG.ud);this.MZ(this.alO);this._()}};iZ.prototype.MZ=function(G){this.alO=G;
if(this.sd==null)return;this.cj.MZ(G);this.dG.MZ(G);this.xi.MZ(G);if(G==null||G.c.length==0||G.g[G.c[0]]==null){g.kG(this.Fl,"disabled");
this.c3=null;return}else g.W8(this.Fl,"disabled");var m=G.c[0],A=G.g[m],Q=G.S9(),H=Q[0],J=Q[1];if(J.length!=0){var b=H[J[0]],O=b.add.vogk,a=!1;
if(O)for(var $=0;$<O.length;$++){var e=O[$].v;if(!N.Nv.d2(e))continue;a=!0;m=b.lW}}m+=","+a;if(G!=this.c3||this.a8m!=m){this.c3=G;
this.a8m=m;if(a)this.xf(2);else if(A.Sm<1&&!A.ri||hE.get(A.add))this.xf(0);else this.xf(1)}this.o1[1].bD(this.dG.lR!=-1);
this.o1[2].bD(a)};iZ.prototype.a2=function(G,m){this.dj=G;if(this.cj)this.cj.a2(G,m);if(this.xi)this.xi.a2(G,m)};
iZ.Jc=function(){gB.call(this);this.m=g.L("div","form");this.adE=new gS("Hello");this.b_=new iL([1,12,2],null,null,!0);
this.b_.m.style.as5="right";this.b_.J("click",this.$k,this);this.m.appendChild(this.adE.m);this.m.appendChild(this.b_.m);
this.NX=null;this.Wp=null;this.c3=null;this.dj=null;this.apj=-1;this.adK=null;this.wm=new jM(!0);this.wm.parent=this;
this.wm.J(r.E.o,this.ase,this);this.RM=g.L("div","marged hiline");this.RM.appendChild(this.wm.m);this.Hb=new fh("GrFl",!0);
this.Hb.parent=this;this.Hb.J(r.E.o,this.akD,this);this.D0=g.L("div","marged hiline");var G="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var $=0;$<G.length;$++){var m=this.Hb.No[G[$]].m;this.D0.appendChild(m)}this.sY=new fh("patternFill",!0);
this.sY.parent=this;this.sY.J(r.E.o,this.as2,this);this.JF=g.L("div","marged hiline");var G=["Ptrn","Angl","Scl","Algn","phase"];
for(var $=0;$<G.length;$++){var m=this.sY.No[G[$]].m;this.JF.appendChild(m)}this.lY={};for(var A in hE.names){if(n[A]==null)continue;
this.lY[A]=new n[A];this.lY[A].J(r.E.o,this.aij,this);this.lY[A].parent=this}var Q=this.atl=g.L("div","marged hiline");
this.zI=new bx(0,!0);Q.appendChild(this.zI.m);this.zI.J(r.E.o,this.r5,this);this.apT=null;this.M8=new eu;
this.M8.parent=this;this.M8.J(r.E.o,this.r5,this);Q.appendChild(this.M8.m)};iZ.Jc.prototype=new gB;iZ.Jc.prototype.e9=function(G,m){var A=this.lY;
for(var Q in A)A[Q].e9(G,m)};iZ.Jc.prototype.$k=function(G){var m=this.c3,A=m.g[m.c[0]],Q=hE.get(A.add);
this.Wp.f(bH.wZ(Q));this.aij()};iZ.Jc.prototype._=function(){for(var G in this.lY)this.lY[G]._();this.Hb._();
this.sY._();this.M8._();this.zI._();this.b_._()};iZ.Jc.prototype.r5=function(G){var m=new j8(r.E.w,!0),A=this.zI.B(),Q=this.apT;
if(G.target==this.zI&&A[2]==Q[2]&&A[3]==Q[3]){m.b=f.ld;m.data={d:"trsl",JS:A[0]-Q[0],lo:A[1]-Q[1]}}else{var H=c.wt(new f_(A[0],A[1],A[2],A[3])),J=this.M8.a0Z();
J.artboardRect={t:"Objc",v:H};m.b=f.p4;m.data={d:c.AY,pB:J}}this.u(m)};iZ.Jc.prototype.ase=function(G){var m=this.c3,A=m.c[0];
if(m.g[A].add.SoCo==null)return;var Q=JSON.parse(JSON.stringify(m.g[A].add.SoCo));Q.Clr.v=this.wm.B();
this.hB({D2:1,GF:Q})};iZ.Jc.prototype.akD=function(G){var m=this.c3,A=m.c[0];if(m.g[A].add.GdFl==null)return;
this.hB({D2:2,GF:this.Hb.B()})};iZ.Jc.prototype.as2=function(G){this.hB({D2:3,GF:this.sY.B()})};iZ.Jc.prototype.hB=function(G){this.a4C(f.p4,{d:c.gI,Dt:[this.c3.c[0]],Yr:!0,k:G})};
iZ.Jc.prototype.aij=function(G){this.a4C(f.wJ,{d:"edit_layer",k:this.Wp.B()})};iZ.Jc.prototype.a4C=function(G,m){var A=new j8(r.E.w,!0);
A.b=G;A.data=m;this.u(A)};iZ.Jc.prototype.MZ=function(G,m){var A=f5.get([0,3]),Q=!1,H=null;this.c3=G;
if(G&&G.g.length>0&&G.c.length!=0&&G.g[G.c[0]]){var J=G.g[G.c[0]],b=hE.get(J.add);if(b!=null&&this.lY[b]!=null){H=this.lY[b].m;
this.Wp=this.lY[b];this.lY[b].f(JSON.parse(JSON.stringify(J.add[b])));if(G.c[0]!=this.apj){var O=G.$s(G.c[0]-1);
this.adK=N.de(O)}this.lY[b].Ie(this.adK);A=f5.get(hE.names[b]);Q=!0}if(J.add.SoCo){H=this.RM;this.wm.f(J.add.SoCo.Clr.v);
A=f5.get([6,48,0,0])}if(J.add.GdFl){H=this.D0;this.Hb.update(G,J.add.GdFl);A=f5.get([6,48,0,1])}if(J.add.PtFl){H=this.JF;
this.sY.update(G,J.add.PtFl);A=f5.get([6,48,0,2])}if(J.add.artb){var a=J.add.artb,e=J._Q();H=this.atl;
this.M8.agN(a);var R=this.apT=[e.x,e.y,e.e,e.n];this.zI.f(R,[G.SV,G.e,this.dj.bt.ww]);A="Artboard"}this.apj=G.c[0]}if(H!=this.NX){if(this.NX)this.m.removeChild(this.NX);
if(H!=null)this.m.appendChild(H);this.NX=H}this.adE.f(A);this.b_.m.style.display=Q?"":"none"};iZ.Jc.prototype.a2=function(G,m){this.dj=G;
this.Hb.a2(G,m);this.sY.a2(G,m);if(m==dG.iS)this.MZ(this.c3,G);for(var A in this.lY)this.lY[A].a2(G,m)};
iZ.GE=function(){gB.call(this);this.m=g.L("div","form");this.c3=null;this.lR=0;var G=g.L("span","fitem");
this.m.appendChild(G);this.o1=[new iL([6,2]),new iL([6,3]),new iL([6,50])];for(var $=0;$<this.o1.length;
$++){var m=this.o1[$];m.J("click",this.ael,this);G.appendChild(m.m)}this.AC=new bo([12,74],0,255);this.AC.J(r.E.o,this.Nz,this);
this.m.appendChild(this.AC.m);this.Mm=new bo([7,6],0,500,"px",2,!0);this.Mm.J(r.E.o,this.Nz,this);this.m.appendChild(this.Mm.m);
this.WE=new iL([4,11],null,null,!0);this.WE.J("click",this.a1z,this)};iZ.GE.prototype=new gB;iZ.GE.prototype.a1z=function(){var G=new j8(r.E.w,!0);
G.b=f.wJ;G.data={d:"start",VS:"nvrt"};this.u(G)};iZ.GE.prototype.Nz=function(G){var m=this.AC.B(),A=this.Mm.B(),Q=new j8(r.E.w,!0);
Q.b=f.p4;Q.data={d:c.LE,rD:this.c3.c[0],Zs:{UZ:this.lR,AC:m,Mm:A}};this.u(Q)};iZ.GE.prototype._=function(){for(var $=0;
$<this.o1.length;$++)this.o1[$]._();this.AC._();this.Mm._();this.WE._()};iZ.GE.prototype.MZ=function(G){this.c3=G;
this.RW()};iZ.GE.prototype.ael=function(G){this.RW(this.o1.indexOf(G.currentTarget));this.parent.a5P(this.lR)};
iZ.GE.prototype.RW=function(G){var m=this.c3,A=this.o1;for(var $=0;$<3;$++){var Q=A[$];Q.TP();Q.Tx()}if(m==null||m.g.length==0||m.c.length==0||m.g[m.c[0]]==null)return;
var H=-1,J=m.g[m.c[0]];if(J.Ct()&&J.mv(m).D!=null){A[2].vF();H=2}if(J.add.vmsk){A[1].vF();H=1}if(J.fm()){A[0].vF();
H=0}if(G!=null)H=G;else if(J.ri)H=1;else if(J.Sm==3)H=2;else if(J.Sm==1)H=0;this.lR=H;if(H==-1){this.AC.Tx();
this.Mm.Tx();return}var b=J.T1(H);this.AC.vF();this.Mm.vF();this.AC.f(b.AC);this.Mm.f(b.Mm);A[H].dt();
var O=this.WE.m;if(H==0)this.m.appendChild(O);else if(O.parentNode==this.m)this.m.removeChild(O)};iZ.Yg=function(){gB.call(this);
this.m=g.L("div","form");this.YB=null;this.dj=null;this.wE=-1;this.rn=new bx(0,!1);this.Om=new bo([12,15],-180,180,"\xB0",2);
this.W_=new bx(1,!0);this.Pb=new bo([12,94,0],0,100,null,2);this.Fb=new bo([12,78],3,30);this.rn.J(r.E.o,this.Po,this);
this.Om.J(r.E.o,this.Po,this);this.W_.J(r.E.o,this.Po,this);this.Pb.J(r.E.o,this.Po,this);this.Fb.J(r.E.o,this.Po,this)};
iZ.Yg.prototype=new gB;iZ.Yg.prototype._=function(){this.rn._();this.Om._();this.W_._();this.Pb._();
this.Fb._()};iZ.Yg.prototype.Po=function(G){var m=this.YB,A=N.Nv.hh(m),Q=G.target.B(),H=[this.rn,this.Om,this.W_,this.Pb,this.Fb].indexOf(G.target);
if(H==0){var J=[];J[0]=Q[0];J[1]=Q[1];J[2]=J[0]+Q[2];J[3]=J[1]+Q[3];Q=J}if(H==1)Q=Q*Math.PI/180;var b={0:1,1:2,2:3,3:3,4:4}[H];
A[b]=Q;var O=new j8(r.E.w,!0);O.b=f.p4;O.data={d:c.bg,k:A};this.u(O)};iZ.Yg.prototype.MZ=function(G){var m=this.m;
this.YB=G;if(G==null)return;var A=this.dj,Q=[G.SV,G.e,A.bt.ww],H=N.Nv.hh(G),J=H[0],b=H[1];if(b==null)return;
var O=J!=this.wE;this.wE=J;if(O)g.iJ(m);if(O)m.appendChild(this.rn.m);if(O)m.appendChild(this.Om.m);
this.rn.f([b[0],b[1],b[2]-b[0],b[3]-b[1]],Q);this.Om.f(H[2]*180/Math.PI);if(J==2){if(O)m.appendChild(this.W_.m);
var a=H[3];this.W_.f(a,Q)}if(J==7||J==8){if(O)m.appendChild(this.Pb.m);this.Pb.f(H[3])}if(J==8){if(O)m.appendChild(this.Fb.m);
this.Fb.f(H[4])}};iZ.Yg.prototype.a2=function(G,m){this.dj=G;this.MZ(this.YB)};function ht(G){eQ.call(this,G.name,!0);
this.EY=G;this.Wc=null;this.R2=document.createElement("canvas");this.Kq=this.R2.getContext("2d");this.Tq=document.createElement("canvas");
this.Td=this.Tq.getContext("2d");var m=16,A=N.$(16*16*4);N.dC(A,m,m,8);this.e7=N.scale.ke(A,m,m);this.fn=new av(this.Fl);
this.fn.parent=this;this.Nn=0;this.a7O="";this.hX=4}ht.prototype=new eQ;ht.prototype.alf=function(){if(this.EY.CP())return window.confirm(f5.get([22,6,3])+" "+this.EY.name+". "+f5.get([22,6,4]));
return!0};ht.prototype.a2=function(G,m){this.Wc=G};ht.prototype.MZ=function(G){this.gW();this.Lc()};
ht.prototype.e9=function(G,m){if(G<=0||m<=0)return;this.zp=G;this.V7=m;var A=this.EY,Q=g.G();A.t.Td.e=Math.floor(G*Q);
A.t.Td.n=Math.floor(m*Q);g.bi(this.Tq,G,m);g.bi(this.R2,G,m);g.bi(h.t7(),G,m);if(A.t.V==0)A.t.V=f.WH.nq(A.e,A.n,G*Q,m*Q);
this.Lc()};ht.prototype.gW=function(){var G=this.Fl.firstChild;if(!h.wq&&G==h.t7()||h.wq&&G==this.Tq)this.Fl.removeChild(G);
var m=h.wq?h.t7():this.Tq;if(!g.m$(m))this.Fl.appendChild(m)};ht.prototype.Lc=function(){if(h.wq!=this.hX){this.Nn=0;
this.a7O=""}this.hX=h.wq;if(this.Wc==null)return;if(h.wq)this.a7$();else this.Kv();var G=this.EY;this.Nn=G.t.V;
this.a7O=JSON.stringify(G.t._T)};ht.prototype.a7$=function(){if(h.wq&&ht.a9l==null)ht.a9l=new ht.wL(!1);
if(h.wq&&ht.a4r==null)ht.a4r=[new ht.wL(!0,2),new ht.wL(!0,8),new ht.wL(!0,32),new ht.wL(!0,128)];var G=this.EY,e,P=0;
if(G.Dc==null)return;var m=G.t,A=m.Td.e,Q=m.Td.n,H=h.JR;this.Td.clearRect(0,0,A,Q);var J=this.asy(G);
if(m.cw==null)m.cw=new h.NI(A,Q);if(J)m.cw.set(this.Tq);else{h.Hj(m.cw);h.Qh(1)}var b=m.cD(0,0),O=new ci;
O.scale(A,Q);O.concat(m.AQ(!0));O.scale(1/G.e,1/G.n);var a=[O.Uj,O.h,0,O.Qv,O.nd,0,O.Zh,O.bx,1];if(ht.alW==null)ht.alW=new Float32Array(4*1024);
var R=[0,0,0,0],p=ht.alW;if(G.add.artd){p.fill(0);R=ht.$X(G);var z=G.e,Z=G.n,X=0;for(var $=0;$<G.g.length;
$++){var W=G.g[$],T=W.add.artb;if(T==null||!W.HX())continue;var i=W._Q();p[P]=i.x/z;p[P+1]=i.y/Z;p[P+2]=i.e/z;
p[P+3]=i.n/Z;P+=4;if(P==p.length)break}if(P>2*4)X++;if(P>8*4)X++;if(P>32*4)X++;e=ht.a4r[X];p=new Float32Array(p.buffer,0,[2,8,32,128][X]*4)}else e=ht.a9l;
h.KM(A,Q);h.Qh(0);h.KM(A,Q);e.NP();e.FL(m.cw.Vj,G.Dc.Vj,new Float32Array(a),new Float32Array([A/8,Q/8,b.x/A,b.y/Q]),G.e,G.n,1/G.t.V,A,Q,new Float32Array(R),p,new Float32Array(N.zb.kh(N.zb.Lv(m._T))));
H.drawArrays(H.TRIANGLES,0,6)};ht.$X=function(G){return[0,0,0,0]};ht.a1h=function(G){var m=N.X.SR(G.v),A=[m.p/255,m.z/255,m.h/255,1];
for(var $=0;$<4;$++)A[$]=Math.min(1,A[$]);return A};ht.hj=function(G,m){var A=G[2]*255;if(h.wq)A=m?0:Math.max(1,A);
return"rgba("+G[0]*255+","+G[1]*255+","+A+","+G[3]+")"};ht.U8=function(G){if(h.wq)for(var $=0;$<G.length;
$+=4){if(G[$+2]==0)G[$+2]=3}};ht.prototype.Kv=function(){var G=this.EY;if(G.buffer==null)return;var m=G.t,A=m.Td,Q=A.e,H=A.n,J=new f_(0,0,G.e,G.n);
this.Kq.clearRect(0,0,Q,H);this.Td.clearRect(0,0,Q,H);var b=m.AQ(!0),O=b.clone();O.G3();if(G.add.artd==null){this.Td.save();
var a=O.Yw(new dw(0,0));O.translate(-a.x,-a.y);this.Td.translate(Math.round(a.x),Math.round(a.y));this.Td.fillStyle=this.e7;
this.nW(N.H.Zt(J),O,this.Td);this.Td.fill();this.Td.restore()}else{this.Td.fillStyle=ht.hj(ht.$X(G));
this.Td.fillRect(0,0,Q,H);this.Td.save();this.Td.setTransform(O.Uj,O.h,O.Qv,O.nd,O.Zh,O.bx);var e=G.root.children;
for(var $=0;$<e.length;$++){var R=e[$].i;if(R.add.artb==null||!R.HX())continue;var p=R._Q(),P=R.nE();
if(P!=0)continue;this.Td.fillStyle=this.e7;this.Td.save();this.Td.scale(1/m.V,1/m.V);this.Td.fillRect(m.V*p.x,m.V*p.y,p.e*m.V,p.n*m.V);
this.Td.restore()}this.Td.restore()}if(m.dO.length!=A.Z()){m.dO=N.$(A.Z());m.dE=N.$(A.Z()*4)}m.dE.fill(0);
N.scale.aM(G.buffer,J,b,m.dE,A);if(m._T[0]+m._T[1]+m._T[2]!=3)N.zb.yT(m.dE,m.dE,N.zb.Lv(m._T));this.Kq.putImageData(new ImageData(new Uint8ClampedArray(m.dE.buffer),A.e,A.n),0,0);
this.Td.drawImage(this.R2,0,0);this.Td.getImageData(0,0,1,1);this.asy(G)};ht.prototype.asy=function(G){var m=G.t,A=m._T[0]+m._T[1]+m._T[2],Q=!1,H=[];
for(var $=0;$<G.c.length;$++){var J=G.g[G.c[$]];if(J==null)continue;var b=J.Sm;if(b!=1&&b!=3)continue;
var O=b==1?J.fm():J.mv(G).D;if(O.wV)H.push(O)}for(var $=0;$<G.Hv.length;$++)if(G.Hv[$].wV)H.push(G.Hv[$]);
for(var $=0;$<H.length;$++){var O=H[$];this.aqq(O,m,H.length==1&&A==0?2:1,O.color,O.zG);Q=!0}var a=this.Wc;
Q=this.adM(G,this.Td,m)||Q;if(G.q&&a.cY&&a.bt.s7){this.aqq(G.q,m,0,0,null);Q=!0}return Q};ht.prototype.aqq=function(G,m,A,Q,H){var J=0,P,z;
if(H)J=Math.round(H.h)<<16|Math.round(H.z)<<8|Math.round(H.p);var b=m.AQ(!0),O=m.Td,a=new f_(0,0,m.EY.e,m.EY.n);
if(m.dO.length!=O.Z()){m.dO=N.$(O.Z());m.dE=N.$(O.Z()*4)}m.dO.fill(Q);m.dE.fill(0);var e=G.channel,R=G.rect;
N.scale.A(e,R,b,m.dO,O);if(A==0)N.q.aiN(m.dO,m.dE,O,O);else N.q.apd(m.dO,m.dE,O,O,A,J);ht.U8(m.dE);var p=new ImageData(new Uint8ClampedArray(m.dE.buffer),O.e,O.n);
this.Kq.putImageData(p,0,0);this.Td.save();if(A==0){P=O.clone();P.e0(-1,-1);z=new ci}else{P=new f_(0,0,a.e,a.n);
z=b.clone();z.G3()}this.nW(N.H.Zt(P),z,this.Td);this.Td.clip();this.Td.drawImage(this.R2,0,0);this.Td.restore()};
ht.prototype.adM=function(G,m,A){var Q=G.v.TX!=null||G.v.Gs!=null||G.v.gY!=null||G.v.eN.length!=0||G.v.Lb.length!=0,H=this.Wc,J=H.bt,b=cK.Ou[H.t6],O=Math.round(12*g.G()),a=O/G.t.V,e=A.AQ(!0);
e.G3();m.save();m.setTransform(e.Uj,e.h,e.Qv,e.nd,e.Zh,e.bx);if(G.add.artd){var R=ht.$X(G)[0];R=R<.5?R+.5:R-.5;
R=""+Math.round(R*255).toString(16);while(R.length<2)R="0"+R;m.fillStyle="#"+R+R+R;m.font=a+"px sans-serif";
for(var $=0;$<G.g.length;$++){var p=G.g[$];if(p.add.artb==null||!p.HX())continue;var P=p._Q();m.fillText(p.getName(),P.x+2,P.y-a*.7);
Q=!0}}function z(fE){return fE==1||fE==2||fE==4||fE==5}var Z=ht.hj([.1,.5,1,1]),W=ht.hj([1,1,1,1]);if(H.cY&&J.Sq){m.fillStyle=m.strokeStyle=Z;
m.lineWidth=1.5/A.V;var T=G.S9(),i=T[0],X=T[1];for(var U=0;U<X.length;U++){var p=i[X[U]],M=p.add.vmsk,C=M.Y,x=N.H.Zv(C);
this.nW(x,null,m);m.stroke();Q=!0;var L=3*g.G()/A.V,E=C.length-3;for(var $=0;$<M.Q8.length;$++){var l=N.U.TD(C,M.Q8[$]);
if(l==null)continue;var y=l.x,Y=l.y;m.beginPath();var F=$==0;if(M.hu)F=!F;if(F){m.moveTo(y-L,Y-L);m.lineTo(y+L,Y+L);
m.moveTo(y-L,Y+L);m.lineTo(y+L,Y-L);m.stroke()}else{m.arc(y,Y,L*1,0,2*Math.PI);m.fill()}Q=!0}if(G.c.length!=1)continue;
var j=-1;for(var $=0;$<C.length;$++){if(C[$].type>5)continue;if(C[$].type==0||C[$].type==3){if(C[$]._t!=-1)j++;
continue}if(M.c.indexOf(j)!=-1){var y=C[$].M.x,Y=C[$].M.y;m.fillRect(y-L*.8,Y-L*.8,2*L*.8,2*L*.8)}if(M.PC.indexOf($)!=-1){var _=C[$],D=[_.M];
m.beginPath();m.moveTo(_.ed.x,_.ed.y);m.lineTo(_.M.x,_.M.y);m.lineTo(_.Gd.x,_.Gd.y);var t=C[$-1],K=C[$+1];
if(t&&z(t.type)&&M.PC.indexOf($-1)==-1){m.moveTo(t.M.x,t.M.y);m.lineTo(t.Gd.x,t.Gd.y);D.push(t.Gd)}if(K&&z(K.type)&&M.PC.indexOf($+1)==-1){m.moveTo(K.M.x,K.M.y);
m.lineTo(K.ed.x,K.ed.y);D.push(K.ed)}m.stroke();if(!_.M.A5(_.ed))D.push(_.ed);if(!_.M.A5(_.Gd))D.push(_.Gd);
for(var d=0;d<D.length;d++){var l=D[d],y=l.x,Y=l.y;if(d==0&&(_.type==2||_.type==5))m.fillRect(y-1.2*L,Y-1.2*L,2.4*L,2.4*L);
else{m.beginPath();m.arc(y,Y,L*1.2,0,2*Math.PI);m.fill();if(d!=0)m.fillStyle=W;m.beginPath();m.arc(y,Y,L*.8,0,2*Math.PI);
m.fill();m.fillStyle=Z}}}Q=!0}}}m.lineWidth=1/A.V;if(G.v.dX){m.fillStyle=m.strokeStyle=Z;var K={s:[],C:[]},o=ht.a1e;
if(o==null){o=ht.a1e={s:[1,0],C:["M"]};for(var $=1;$<30;$++){var k=Math.PI*2*$/30;o.s.push(Math.cos(k),Math.sin(k));
o.C.push("L")}o.C.push("Z","M","L","M","L");o.s.push(-.5,0,.5,0,0,-.5,0,.5)}for(var $=0;$<G.v.dX.length;
$++){var t=f.UR.uo(G.v.dX[$],A),v=new ci(t[0],0,0,t[0],t[1],t[2]);N.H.concat(K,o,v)}this.nW(K,null,m);
m.stroke();Q=!0}m.fillStyle=m.strokeStyle=ht.hj([0,0,0,1],!0);var u=new ci(1,0,0,1,.5/A.V,.5/A.V);if(G.v.TX){this.nW(G.v.TX,null,m);
m.fill()}if(G.v.Gs){this.nW(G.v.Gs,u,m);m.stroke()}for(var B in G.v.hK)if(G.v.hK[B].Gs){this.nW(G.v.hK[B].Gs,null,m);
m.stroke();Q=!0}m.beginPath();var L=(4*g.G()+.5)/A.V,S=G.v.Wq;for(var $=0;$<S.length;$+=2){Q=!0;var y=S[$],Y=S[$+1];
m.rect(y-L,Y-L,2*L,2*L)}m.stroke();var S=G.v.agB;m.beginPath();var L=4*g.G()/A.V;for(var $=0;$<S.length;
$+=2){Q=!0;var y=S[$],Y=S[$+1];m.moveTo(y+L,Y);m.arc(y,Y,L,0,2*Math.PI)}m.fill();var S=G.v.f4;m.fillStyle=ht.hj([1,1,1,1]);
m.beginPath();var L=6*g.G()/A.V;for(var $=0;$<S.length;$+=2){Q=!0;var y=S[$],Y=S[$+1];m.moveTo(y+L,Y);
m.arc(y,Y,L,0,2*Math.PI)}m.fill();var L=4*g.G()/A.V;for(var $=0;$<S.length;$+=2){Q=!0;var y=S[$],Y=S[$+1];
m.fillStyle=ht.hj(G.v.oB.indexOf($>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);m.beginPath();m.moveTo(y+L,Y);m.arc(y,Y,L,0,2*Math.PI);
m.fill()}if(G.v.eN.length!=0){for(var $=0;$<G.v.eN.length;$++){var I=G.v.eN[$],q=I[1];m.putImageData(new ImageData(new Uint8ClampedArray(I[0].buffer),q.e,q.n),q.x,q.y)}}var hw=.5/A.V;
m.lineWidth=1/A.V;if(G.v.aB){Q=!0;var fY=G.v.aB,s=fY.fc,x={C:[],s:[]};for(var $=0;$<fY.Gq.length;$++)N.H.concat(x,N.H.Zt(fY.Gq[$]));
x.s=x.s.concat(s);for(var $=0;$<s.length;$+=4){x.C.push("M","L")}for(var $=0;$<x.s.length;$++){x.s[$]+=hw}m.strokeStyle=ht.hj([.9,.2,.2,1]);
this.nW(x,null,m);m.stroke();var hZ=g.G(),bG=2/A.V;m.font=a*.9+"px sans-serif";for(var $=0;$<s.length;
$+=4){var y=s[$],Y=s[$+1],aY=s[$+2],fj=s[$+3],jg=Math.sqrt((fj-Y)*(fj-Y)+(aY-y)*(aY-y));jg=N.Kj.DO(jg,G.SV,H,Y==fj?G.e:G.n);
var ae=new dw((y+aY)/2,(Y+fj)/2);m.fillStyle=ht.hj([.9,.2,.2,1]);var iB=m.measureText(jg).width;m.fillRect(ae.x-iB/2-bG*hZ,ae.y-3.5*bG*hZ,iB+2*bG*hZ,7*bG*hZ);
m.fillStyle=ht.hj([1,1,1,1]);m.save();m.translate(ae.x-iB/2,ae.y+2*bG*hZ);m.scale(.1,.1);m.font=a*9+"px sans-serif";
m.fillText(jg,0,0);m.restore()}}if(H.cY){if(J.yk){var eg=N.Kj.p7(J.Vm,G.SV,G.e,J.Al),dM=eg;if(J.Al==4)dM*=G.n/G.e;
this.dC(G,m,eg,dM,1,J.c_);Q=!0}if(J._Y&&G.t.V>7){this.dC(G,m,1,1,.5,J.c_);Q=!0}if(J.Ld){var fK=G.G1(),aQ=G.yo(),cQ=Math.max(G.t.Td.e,G.t.Td.n)/G.t.V;
cQ=Math.max(Math.max(G.e,G.n)*2,cQ);m.beginPath();m.strokeStyle=ht.hj([0,1,1,1]);for(var $=0;$<fK[0].length;
$++){var a7=fK[0][$],gz=fK[1][$];if(gz!=-1&&gz!=aQ)continue;var bQ=A.cD(a7[1],a7[1]),d4=A.fY(Math.floor(bQ.x)+.5,Math.floor(bQ.y)+.5);
if(a7[0]==0){var j2=d4.x;m.moveTo(j2,-cQ);m.lineTo(j2,cQ)}else{var j7=d4.x;m.moveTo(-cQ,j7);m.lineTo(cQ,j7)}Q=!0}m.stroke()}var fG=G.Xz;
if(J.Xz&&fG.length!=0){m.font=a*.8+"px sans-serif";var bT=[],je=[];for(var $=0;$<fG.length;$++){var ba=f.q3.ZI(fG,$);
bT.push(ba);if(G.bI.indexOf($)!=-1)je.push(ba)}bT.reverse();var j6=Date.now();bT=N.rect.LY([0,0,G.e,G.n],bT);
for(var d=0;d<2;d++)for(var $=0;$<bT.length;$++){var cl=bT[$],j=cl[4],js=j!=null?fG[j]:null;if(js&&d==0||js==null&&d==1)continue;
var y=Math.round(cl[0]),Y=Math.round(cl[1]),aY=Math.round(cl[2]),fj=Math.round(cl[3]);m.strokeStyle=m.fillStyle=ht.hj(js?[0,.7,.7,1]:[.8,.8,.8,1]);
m.strokeRect(y+hw,Y+hw,aY-y,fj-Y);var fR=$+1,iW=m.measureText(fR),iB=iW.width;m.fillRect(y,Y,iB+a/2,a);
m.fillStyle=ht.hj([1,1,1,1]);m.fillText(fR,y+a/4,Y+a*.8)}var bG=2/G.t.V,fx=2*bG;for(var $=0;$<je.length;
$++){var cl=je[$],y=Math.round(cl[0]),Y=Math.round(cl[1]),aY=Math.round(cl[2]),fj=Math.round(cl[3]);
m.strokeStyle=m.fillStyle=ht.hj([1,.6,0,1]);m.strokeRect(y+hw,Y+hw,aY-y,fj-Y);var dm=[y,Y,aY,Y,aY,fj,y,fj];
for(var fq=0;fq<dm.length;fq+=2){var j2=dm[fq],j7=dm[fq+1],h2=dm[fq+2&7],jj=dm[fq+3&7];m.fillRect(j2-bG,j7-bG,fx,fx);
m.fillRect(Math.round((j2+h2)/2)-bG,Math.round((j7+jj)/2)-bG,fx,fx)}}Q=!0}}m.strokeStyle=ht.hj([1,0,0,1]);
if(G.v.gY){this.nW(G.v.gY,u,m);m.stroke()}m.restore();if(H.nj){if(G.t.i8==null||G.t.i8.width!=G.t.Td.e||G.t.so.height!=G.t.Td.n){G.t.i8=m.createImageData(G.t.Td.e,N.Kj.PV);
G.t.so=m.createImageData(N.Kj.PV,G.t.Td.n)}var b=cK.Ou[H.t6],iM=0,aC=0,aB=G.e,ep=G.n;if(G.yo()!=-1){var P=G.g[G.yo()]._Q();
iM=P.x;aC=P.y;aB=P.e;ep=P.n}iM*=A.V;aC*=A.V;var A=G.t,h6=[1,G.SV,G.SV/2.54,G.SV/25.4,aB/100][J.ww],dJ=A.V*G.e/2,gs=A.V*G.n/2,ej=[A.V*h6,new dw(A.r.x+(iM+dJ*h6-dJ),A.r.y+(aC+gs*h6-gs))];
if(J.ww==4)h6*=ep/aB;var eH=[A.V*h6,new dw(A.r.x+(iM+dJ*h6-dJ),A.r.y+(aC+gs*h6-gs))],hT=this.fn.WC;N.Kj.a4u(A,b["--text-color"],b["--bg-input"],Math.floor(hT.x),Math.floor(hT.y),ej,eH);
var dO=jT.aeF(A.V,ht.hj([1,1,1,1]));ht.U8(G.t.so.data);ht.U8(G.t.i8.data);m.putImageData(G.t.so,0,0);
m.putImageData(G.t.i8,0,0);m.putImageData(dO,0,G.t.Td.n-dO.height)}if(G.v.Lb.length!=0){for(var $=0;
$<G.v.Lb.length;$++){var I=G.v.Lb[$],q=I[1];m.putImageData(new ImageData(new Uint8ClampedArray(I[0].buffer),q.e,q.n),q.x,q.y)}}return Q||H.nj};
ht.prototype.dC=function(G,m,A,Q,H,J){while(A*G.t.V<4){A*=2;Q*=2}var b=G.e,O=G.n,a=.5/G.t.V;m.strokeStyle=ht.hj([.5,.5,.5,H],!0);
m.save();m.rect(0,0,b,O);m.clip();m.beginPath();for(var e=0;e<=b;e+=A){m.moveTo(e+a,0);m.lineTo(e+a,O)}if(J==0){for(var R=0;
R<=O;R+=Q){m.moveTo(0,R+a);m.lineTo(b,R+a)}}else{Q*=Math.sqrt(4/3);var p=Q*Math.floor(b/Q),P=b*(Q/(2*A));
for(var R=-p;R<=O+p;R+=Q){m.moveTo(0,R);m.lineTo(b,R-P);m.moveTo(0,R);m.lineTo(b,R+P)}}m.stroke();m.restore()};
ht.prototype.nW=function(G,m,A){A.beginPath();var Q=N.H.clone(G);if(m)N.H.A(Q.s,m,Q.s);Typr.U.pathToContext({cmds:Q.C,crds:Q.s},A)};
ht.wL=function(G,m){h.Tc.call(this);this.amX=G;var A="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(G?"uniform vec4 bgClr;  uniform vec4 ars["+m+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+h.Aa.k7+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(G?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+m+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",Q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.VF(A,Q)};ht.wL.prototype=new h.Tc;ht.wL.prototype.FL=function(G,m,A,Q,H,J,b,O,a,e,R,p){this.lf("tmat gsize source target contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var P=h.JR,z=this.NW;P.uniformMatrix3fv(z.tmat,!1,A);P.uniform4fv(z.gsize,Q);P.uniform3f(z.contSizeZoom,H,J,b);
P.uniform2f(z.cnvSize,O,a);P.uniformMatrix4fv(z.ctrn,!1,p);if(this.amX){P.uniform4fv(z.ars,R);P.uniform4fv(z.bgClr,e)}P.uniform1i(z.source,0);
P.uniform1i(z.target,1);P.activeTexture(P.TEXTURE0);P.bindTexture(P.TEXTURE_2D,G);P.activeTexture(P.TEXTURE1);
P.bindTexture(P.TEXTURE_2D,m);P.activeTexture(P.TEXTURE0)};function aZ(){eQ.call(this,[9,7],!1,"---panels/layercomps",eQ.Lm.aep);
this.Fl.setAttribute("style","min-width:240px;");this.c3=null;this.qH=-1;this.a8Q=[];this.HT=g.L("div","scrollable");
this.HT.style.height="160px";this.Fl.appendChild(this.HT);this.$Q=g.L("div","lpfoot");this.Fl.appendChild(this.$Q);
this.q5=[];var G=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],m=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var $=0;$<G.length;$++){var A=G[$];if($>0)A="<img src=\""+PIMG[G[$]]+"\" class=\"gsicon\" />";var Q=new iL(A,!1,m[$]);
Q.J("click",this.apy,this);this.$Q.appendChild(Q.m);this.q5.push(Q)}}aZ.prototype=new eQ("");aZ.prototype.e9=function(G,m){this.Fl.setAttribute("style","width:"+(G-2)+"px;");
this.HT.style.height=m-28+"px"};aZ.prototype.Qq=function(G){var m=new j8(r.E.w,!0);m.data=G;m.b=f.uX;
this.u(m)};aZ.aih="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
aZ.prototype.apy=function(G){var $=this.q5.indexOf(G.currentTarget)-1;if($==-1){var m=new j8(r.E.W,!0);
m.data={d:r.S.Jy,hc:aZ.aih};this.u(m);return}if($!=1)if(this.qH==-1)return;this.Qq({d:["updLC","addLC","delLC"][$],lW:this.qH});
if($==2)this.qH=-1};aZ.prototype._=function(){eQ.prototype._.call(this);for(var $=0;$<this.q5.length;
$++)this.q5[$]._()};aZ.prototype.MZ=function(G){if(G==null)g.kG(this.Fl,"disabled");else g.W8(this.Fl,"disabled");
this.c3=G;g.iJ(this.HT);if(G==null)return;var m=G.Ve.lastAppliedComp?G.Ve.lastAppliedComp.v:0,A=G.Ve.list.v.slice(0);
A.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var $=0;$<A.length;
$++){var Q=A[$].v,H=new gY(Q.Nm.v,Q.compID.v,Q.capturedInfo.v,m,this.qH);H.J("activate",this.X5,this);
H.parent=this;this.HT.appendChild(H.m);this.a8Q.push(H)}};aZ.prototype.X5=function(G){this.qH=G.currentTarget.lW;
this.MZ(this.c3)};function gY(G,$,m,A,Q){gB.call(this);this.lW=$;this.m=g.L("div","head listitem"+($==Q?" selected":""));
var H=$==A,J=new iL(H?"\u2713":"\u2014");if(H)J.dt();this.m.appendChild(J.m);J.J("click",this.h1,this);
var b=this.hf=g.L("span");b.textContent=G;this.m.appendChild(b);this.q5=[];if($!=0){this.m.addEventListener("mouseup",this.X5.bind(this),!1);
this.aak=g.L("span","headR");this.m.appendChild(this.aak);var O=["lrs/eye","pos","lrs/fx"],a=["Visibility","Position","Appearance"];
for(var e=0;e<O.length;e++){var R=new iL("<img src=\""+PIMG[O[e]]+"\" class=\"autoscale gsicon\" />",!1,a[e]);
if((m>>e&1)==0)R.m.setAttribute("style","opacity:0.3");R.J("click",this.ao3,this);this.aak.appendChild(R.m);
this.q5.push(R)}}}gY.prototype=new gB;gY.prototype.X5=function(G){if(G.target!=this.hf&&G.target!=this.m)return;
if(G.detail==1)this.u(new j8("activate",!1));else{var m=new eQ.wU(this.hf,this.BP.bind(this))}};gY.prototype.ao3=function(G){var $=this.q5.indexOf(G.currentTarget);
this.Qq({d:"editLC",a5Q:$,lW:this.lW})};gY.prototype.BP=function(G){this.Qq({d:"editLC",qo:G,lW:this.lW})};
gY.prototype.h1=function(G){this.Qq({d:"setLC",lW:this.lW})};gY.prototype.Qq=function(G){var m=new j8(r.E.w,!0);
m.data=G;m.b=f.uX;this.u(m)};function e1(){eQ.call(this,[9,11],!1,"---panels/navigator",eQ.Lm.a9G);var G=g.L("div","padded");
G.setAttribute("style","min-width:15em");this.Fl.appendChild(G);var m=g.L("div");G.appendChild(m);m.setAttribute("style","cursor:grab;");
this.O=g.L("canvas");this.O.width=100;m.appendChild(this.O);g.sL(this.O);g.Il(this.O,this.$_.bind(this));
this.CB=new c3(null,2,6400,"%",null,!0);this.CB.J(r.E.o,this.acB,this);G.appendChild(this.CB.m);this.a7Z=this.ws.bind(this);
this.adV=this.Rv.bind(this);this.YB=null}e1.prototype=new eQ("");e1.prototype.e9=function(G,m){this.Lc()};
e1.prototype.acB=function(G){var m=this.CB.B(),A=this.YB,Q=m/100;if(.8<Q&&Q<1.2)Q=1;else if(1.8<Q)Q=Math.round(Q);
var H=new j8(r.E.w,!0);H.b=f._N;H.data={d:"zoom",V:Q};this.u(H)};e1.prototype.$_=function(G){if(this.YB==null)return;
g.CY(window,this.a7Z);g.$f(window,this.adV)};e1.prototype.ws=function(G){var m=g.zi(G,this.O),A=this.YB,Q=this.O.width,H=this.O.height,J=(m.x*g.G()-Q/2)/Q,b=(m.y*g.G()-H/2)/H,O=g.G()*A.t.V,a=Math.round(-A.t.V*A.e*J),e=Math.round(-A.t.V*A.n*b);
f.M9.uW(A,a,e)};e1.prototype.Rv=function(G){g.k1(window,this.a7Z);g.P4(window,this.adV)};e1.prototype.MZ=function(G){if(G==null&&this.YB!=null)this.O.width=100;
this.YB=G;this.Lc()};e1.prototype.Lc=function(){var G=this.YB,Q=0;if(G==null||G.t.V==0)return;var m=G.t;
if(!g.m$(this.Fl))return;this.CB.f(m.V*100);var A=300*g.G(),H=[G.$s(),new f_(0,0,G.e,G.n)];N.xI(H);while(Math.max(H[Q+1].e,H[Q+1].n)>A){Q+=2}var J=H[Q],b=H[Q+1],O=b.e,a=b.n,e=this.O;
e.width=O;e.height=a;g.AX(e,O,a);var R=e.getContext("2d"),p=R.createImageData(O,a);N.Gy(J,p.data);R.putImageData(p,0,0);
var P=m.Td,z=m.fY(P.x,P.y),Z=m.fY(P.x+P.e,P.y+P.n),W=O/G.e;R.scale(W,W);R.lineWidth=4/W;R.strokeStyle="#ff0000";
R.strokeRect(z.x,z.y,Z.x-z.x,Z.y-z.y)};e1.prototype.a2=function(G,m){};e1.prototype.gW=function(){this.Lc()};
function er(G,m){if(G==null){eQ.call(this);return}eQ.call(this,G.name,!1,G.icon,m);var A=this.rE=g.L("iframe");
A.setAttribute("src",G.url);A.setAttribute("style","width:"+G.width+"px; height:"+G.height+"px");this.Fl.appendChild(A)}er.prototype=new eQ("");
er.prototype.Qb=function(G){if(g.m$(this.rE))this.rE.contentWindow.postMessage(G,"*")};er.prototype.e9=function(G,m){this.rE.setAttribute("style","width:"+G+"px; height:"+m+"px")};
function fs(){eQ.call(this,[9,12],!1,"---panels/tpreset",eQ.Lm.JG);this.dj=null;this.oz=new cB(f.sV);
this.oz.parent=this;var G=g.L("div","padded");G.setAttribute("style","width:20em");this.Fl.appendChild(G);
G.appendChild(this.oz.OQ)}fs.prototype=new eQ("");fs.prototype.gW=function(){this.oz.pA(this.dj.ae)};
fs.prototype.a2=function(G,m){this.dj=G;if(m==dG.ud||m==dG.JG)this.oz.pA(G.ae)};fs.prototype.e9=function(G,m){this.oz.atP(this.dj.Iu)};
fs.prototype._=function(){eQ.prototype._.call(this);this.oz._()};var ga=function(){var G=[],m=null,A=null,Q=null,H=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function J(){eQ.call(this,"Memory",!1,null,eQ.Lm.a4F);var P=g.L("div","padded");this.Fl.appendChild(P);
A=new iL(["<< VAR0",[0,13,2]],!1,null,!0);A.addEventListener("click",function(z){G.pop();O()});P.appendChild(A.m);
m=g.L("div","scrollable");m.setAttribute("style","width:20em;  height:26em; margin-top:8px;");P.appendChild(m)}J.prototype=new eQ("");
J.prototype.MZ=function(P,z,Z){Q=z;this.gW()};J.prototype.gW=function(){A.bD(!1);if(!g.m$(m))return;
var P={Ds:"Total:",GN:[]};for(var $=0;$<Q.length;$++)P.GN.push(e(Q[$]));p(P);G=[P];O()};J.prototype._=function(){eQ.prototype._.call(this);
A._()};function b(P){var z=P.currentTarget,$=0;while((z=z.previousSibling)!=null)$++;G.push(G[G.length-1].GN[$-1]);
O()}function O(){A.bD(G.length>1);var P=G[G.length-1];g.iJ(m);a(P,m,0);P.GN.sort(function(z,Z){return Z.lK[0]-z.lK[0]});
for(var $=0;$<P.GN.length;$++)a(P.GN[$],m,1)}function a(P,z,Z){var W=hN.tl,T=Z!=0&&P.GN,i="margin-left:"+Z*10+"px; margin-bottom:8px; padding:3px 5px;";
if(T)i+="cursor:pointer;";if(P.O7!=null)i+="background-color:rgba("+H[P.O7].join(",")+",0.2);";var X=g.L("div");
z.appendChild(X);X.setAttribute("style",i);X.innerHTML=g.vC(P.Ds)+"<br />"+"RAM: <b>"+W(P.lK[0])+"</b>\u2001GPU: <b>"+W(P.lK[1])+"</b>";
if(T)X.addEventListener("click",b,!1)}function e(P){var z={Ds:P.name,GN:[],O7:0},Z=h.wq?1:0,W=1-Z,T={Ds:"Final Image",lK:[P.e*P.n*4,Z*P.e*P.n*4],O7:2};
z.GN.push(T);for(var $=0;$<P.g.length;$++){var i=R(P.g[$]);if(i.GN.length!=0)z.GN.push(i)}var X=P.add.lnk2;
if(X)for(var $=0;$<X.length;$++){var i=X[$],U={Ds:i.Vc,GN:[],O7:4},M=0;U.GN.push({Ds:"Raw file",lK:[i.raw.length,0]});
if(i.CX)for(var C=0;C<i.CX.length;C+=2)M+=i.CX[C].length;if(M!=0)U.GN.push({Ds:"Decoded pixels",lK:[M,0]});
p(U);z.GN.push(U)}p(z);return z}function R(P){var z={Ds:P.getName(),GN:[],O7:1},Z=h.wq?1:0,W=1-Z,T=P.rect.Z();
if(T!=0)z.GN.push({Ds:"Layer pixels",lK:[T*4,Z*T*4]});if(P.add.lmfx&&P.zr.g9.type){var i=P.zr.g9.type,C=0;
for(var X in i){var U=0;for(var M=0;M<i[X].length;M++)if(X=="ebbl"){if(i[X][M].HW)U+=i[X][M].HW.Yb.Z();
if(i[X][M].f3)U+=i[X][M].f3.Yb.Z();if(i[X][M].iG)U+=i[X][M].iG.Yb.Z();if(i[X][M].WD)U+=i[X][M].WD.Yb.Z()}else U+=i[X][M].Yb.Z();
if(U!=0)z.GN.push({Ds:f5.get(hK.names[hK.order.indexOf(X)]),lK:[W*U*4,Z*U*4],O7:3})}if(P.zr.Xf)C+=T;
if(P.zr.q4)C+=T;if(P.zr.d$)C+=T;if(P.zr.d$)C+=T;if(P.zr.Px)C+=T;if(P.zr.LO)C+=T;var x=P.zr.VL?P.zr.VL.length:0;
if(C+x!=0)z.GN.push({Ds:"Additional Blending Data",lK:[W*C*4+x,Z*C*4]})}var L=P.fm(),E=L?L.rect.Z():0;
if(E!=0){z.GN.push({Ds:"Raster Mask",lK:[E,0]})}var L=P.add.vmsk,E=L&&L.Vp?L.Vp.rect.Z():0;if(E!=0){z.GN.push({Ds:"Vector Mask",lK:[E,0]})}p(z);
return z}function p(P){P.lK=[0,0];for(var $=0;$<P.GN.length;$++){P.lK[0]+=P.GN[$].lK[0];P.lK[1]+=P.GN[$].lK[1]}}return J}();
function aH(){gB.call(this);this.b=0;this._a=null;this.m=g.L("div","toolconf");this.oz=null;this.zy=null;
this.body=new g.L("div","body")}aH.prototype=new gB;aH.prototype.a9D=function(G,m){this.b=G;this._a=m;
if(f.Ni[G]){var A=this.oz=new cB(G);this.m.appendChild(A.m);A.parent=this}else{this.zy=g.L("div");this.m.appendChild(this.zy)}this.m.appendChild(this.body);
this._()};aH.prototype.acX=function(G,m){};aH.prototype.aso=function(G){};aH.prototype.a2=function(G,m){if(m==dG.ud||m==dG.JG)if(this.oz)this.oz.pA(G.ae)};
aH.prototype.oX=function(G){};aH.prototype._=function(){if(this.oz)this.oz._();else this.zy.innerHTML=g.y3(this._a,null,"toolicon");
this.xn()};aH.prototype.xn=function(){};function fJ(){aH.call(this);this.M8=new eu;this.M8.J(r.E.o,this.r5,this);
this.body.appendChild(this.M8.m)}fJ.prototype=new aH;fJ.prototype.xn=function(){this.M8._()};fJ.prototype.r5=function(G){var m=new j8(r.E.W,!0);
m.data={d:r.S.kk,b:this.b,WF:this.M8.a0Z()};this.u(m)};fJ.prototype.oX=function(G){this.M8.agN(G.ml)};
function b9(G){aH.call(this);if(G==null)return;this.dj=null;this.qT={};for(var $=0;$<G.length;$++){var m=G[$],A=null;
if(m=="brush"){A=new hJ}if(m=="bmode"){A=new iV([12,19,0],ib.dw,!1,ib.gK)}if(m=="bmode0"){A=new iV([12,19,0],ib.dw.slice(23),!1)}if(m=="emode"){A=new iV([12,36],[[9,3],[10,38]])}if(m=="opacity"){A=new hz([12,0],0,100,"%");
A.f(100)}if(m=="flow"){A=new hz([12,63],0,100,"%");A.f(100)}if(m=="smth"){A=new hz([19,3,0],0,100,"%");
A.f(0)}if(m=="samp"){A=new iV("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(m=="wconf"){A=new eW;
A.f([40,!0,!0])}if(m=="sall"){A=new aX([12,25,2])}if(m=="strn"){A=new hz([12,64],1,100,"%");A.f(50)}if(m=="smode"){A=new iV([12,36],[[19,7,0],[19,7,1]]);
A.f(1)}if(m=="pdetail"){A=new aX([12,65]);A.dt()}if(m=="rng"){A=new iV([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
A.f(1)}if(m=="expo"){A=new hz([12,5],0,100,"%");A.f(50)}if(m=="algnd"){A=new aX([12,75]);A.f(!1)}if(m=="sfrom"){A=new iV([12,70],[[17,1],[17,3],[17,0]])}if(m=="alt"){A=new a6(null,["Alt"],!0,["Select Source"])}if(m=="qsmode"){A=new ai([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(m=="redge"){A=new iL([7,11],!1,null,!0)}if(m=="setop"){A=new fu}if(m=="patch"){A=new ai(null,[[12,70],[12,71]])}if(m=="prsr"){A=new a6(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
A.f([!1,!1])}A.parent=this;this.body.appendChild(A.m);this.qT[m]=A;if(m=="brush")A.J(r.E.o,this.aqV,this);
else if(m=="redge")A.J("click",this.r_,this);else A.J(r.E.o,this.Mq,this)}}b9.prototype=new aH;b9.prototype.acX=function(G,m){G=G[1];
var A=this.qT;if(G.Md)A.bmode.f(ib.uY.indexOf(G.Md.v.BlnM));if(G.Opct)A.opacity.f(G.Opct.v);if(G.flow)A.flow.f(G.flow.v);
if(G.Brsh)A.brush.f(G,m.wo.GO,m.wo.WJ);if(G.FrgC){var Q=N.X.SR(G.FrgC.v),H=new j8(r.E.W,!0);H.data={d:r.S.$g,WF:dG.bu,Nm:0,k:Q.p<<16|Q.z<<8|Q.h};
this.u(H)}this.aqV();this.Mq()};b9.prototype.aso=function(){if(f.Ni[this.b]==null)return null;var G=this.qT,m=JSON.parse(JSON.stringify(G.brush.B()));
m.classID=f.Ni[this.b][1][0];if(G.bmode)m.Md={t:"enum",v:{BlnM:ib.uY[G.bmode.B()]}};if(G.opacity)m.Opct={t:"long",v:G.opacity.B()};
if(G.flow)m.flow={t:"long",v:G.flow.B()};var A=this.dj.yu;A={p:A>>>16,z:A>>>8&255,h:A&255};m.FrgC={t:"Objc",v:N.X.N4(A)};
return["Brush Preset "+m.Brsh.v.Dmtr.v.val,m]};b9.prototype.r_=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.XG,Ue:"redge"};
this.u(G)};b9.prototype.xn=function(){for(var G in this.qT)this.qT[G]._()};b9.prototype.oX=function(G){if(G.ark=="showBrushOpts"){this.qT.brush.a1X(G.gn.x,G.gn.y)}for(var m in G.aP){var A=G.aP[m];
if(m!="qsmode")A*=100;if(this.qT[m])this.qT[m].f(A)}};b9.prototype.a2=function(G,m){aH.prototype.a2.call(this,G,m);
this.dj=G;var A=this.qT.brush;if(A==null)return;if(m==dG.ud||m==dG.sV)A.pA(G.wo);if(m==dG.bM){A.f(G.wo.lt,G.wo.GO,G.wo.WJ)}};
b9.prototype.aqV=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.$g,WF:dG.bM,VC:this.qT.brush.B()};this.u(G)};
b9.prototype.Mq=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.kk,b:this.b};for(var m in this.qT){if(m=="brush"||m=="redge")continue;
var A=this.qT[m].B();if(["opacity","flow","smth","strn","expo"].indexOf(m)!=-1)G.data[m]=A/100;else if(m=="bmode")G.data.bmode=ib.Vh[A];
else if(m=="bmode0")G.data.bmode=ib.Vh[23+A];else G.data[m]=A}this.u(G)};function gm(G,m){aH.call(this);
if(G)return;this.qT={};for(var $=0;$<m.length;$++){var A=m[$],Q=null;if(A=="binop")Q=new fu;if(A=="feat"){Q=new hz([7,6],0,100,"px");
Q.f(0)}if(A=="redge")Q=new iL([7,11],!1,null,!0);if(A=="wconf")Q=new eW;if(A=="cstr")Q=new a$;if(A=="anta"){Q=new aX([12,25,1]);
Q.f(!0)}if(A=="sall")Q=new aX([12,25,2]);if(A=="redge")Q.J("click",this.r_,this);else Q.J(r.E.o,this.Mq,this);
Q.parent=this;this.body.appendChild(Q.m);this.qT[A]=Q}}gm.prototype=new aH;gm.prototype.oX=function(G){if(G.uD!=null)this.qT.binop.f(G.uD);
else if(G.EE){for(var m in G.EE)if(this.qT[m])this.qT[m].f(G.EE[m])}else{var A=gm.TU;if(A==null){var Q=bM.alE(!0);
A=gm.TU=new fL(Q.items,Q.LD)}A._();A.parent=this;A.update(G.z0,G.Wc);var H=new j8(r.E.W,!0);H.data={d:r.S.mo,Nc:A,x:G.f5.Gp+2,y:G.f5.Yt+1};
this.u(H)}};gm.prototype.xn=function(){for(var G in this.qT)this.qT[G]._()};gm.prototype.r_=function(){var G=new j8(r.E.W,!0);
G.data={d:r.S.XG,Ue:"redge"};this.u(G)};gm.prototype.Mq=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.kk,b:this.b,EE:{}};
for(var m in this.qT)G.data.EE[m]=this.qT[m].B();this.u(G)};function d_(){b9.call(this,["brush","strn"])}d_.prototype=new b9;
function dU(){b9.call(this,"brush bmode opacity flow smth prsr".split(" "))}dU.prototype=new b9;function hp(){b9.call(this,["brush","bmode0","samp","wconf"])}hp.prototype=new b9;
function jG(){b9.call(this,["brush"])}jG.prototype=new b9;function i_(){b9.call(this,["brush","bmode","opacity","smth","prsr"])}i_.prototype=new b9;
function bc(){b9.call(this,["brush","rng","expo"])}bc.prototype=new b9;function dv(){b9.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}dv.prototype=new b9;
function cs(G){aH.call(this);if(G==null)return;var m=g.L("span","fitem");this.body.appendChild(m);var A=[[17,0],[17,1],[11,12,0],[17,2]];
this.o1=[];for(var $=0;$<A.length;$++){var Q=new iL(A[$],!1,null,!0);this.o1.push(Q);Q.J("click",this.ap2,this);
if(!G||$==1)m.appendChild(Q.m)}this.hV=new a$;this.hV.J(r.E.o,this.abN,this);if(!G)this.body.appendChild(this.hV.m);
this.aE=new iL([15,7,6],!1,null,!0);this.aE.J("click",this.ap2,this);if(!G)this.body.appendChild(this.aE.m);
this.si=new aX([15,7,10]);this.si.J(r.E.o,this.abN,this);if(!G)this.body.appendChild(this.si.m);this.xh=new aM;
this.xh.J("click",this.av,this)}cs.prototype=new aH;cs.prototype.xn=function(){this.xh._();for(var $=0;
$<this.o1.length;$++)this.o1[$]._();this.hV._();this.si._();this.aE._()};cs.prototype.oX=function(G){var m=this.xh.m;
if(G.Vd)this.body.appendChild(m);else if(this.body.contains(m))this.body.removeChild(m);if(G.hV)this.hV.f(G.hV)};
cs.prototype.av=function(G){var m={d:r.S.kk,b:this.b,IK:this.xh.B()?"commit":"cancel"},A=new j8(r.E.W,!0);
A.data=m;this.u(A)};cs.prototype.ap2=function(G){G.target.m.blur();var m={d:r.S.kk,b:this.b,IK:"cropby",a6l:this.o1.indexOf(G.target)};
if(G.target==this.aE)m.IK="straighten";var A=new j8(r.E.W,!0);A.data=m;this.u(A)};cs.prototype.abN=function(G){var m={d:r.S.kk,b:this.b,IK:"config",kC:{kA:this.hV.B(),S7:this.si.B()},agE:G.target==this.hV},A=new j8(r.E.W,!0);
A.data=m;this.u(A)};function gG(){cs.call(this,!1)}gG.prototype=new cs;function is(){cs.call(this,!0)}is.prototype=new cs;
function gw(){b9.call(this,["brush","rng","expo"])}gw.prototype=new b9;function dc(){b9.call(this,"brush emode opacity flow smth prsr".split(" "))}dc.prototype=new b9;
function ir(){b9.call(this,["brush","samp","wconf"])}ir.prototype=new b9;function iT(){gm.call(this,!1,["binop","feat","anta","redge","cstr"])}iT.prototype=new gm(!0);
function e3(){aH.call(this);var G=this.qT=[new iV([12,20],["1x1","3x3","5x5","11x11","31x31"]),new iV([12,70],[[17,1],[17,3],[17,0]]),new aX("Sampling Ring"),new aX("Zoom")];
G[1].f(2);G[2].f(!0);for(var $=0;$<G.length;$++){var m=G[$];m.J(r.E.o,this.Mq,this);this.body.appendChild(m.m)}}e3.prototype=new aH;
e3.prototype.Mq=function(G){var m=this.qT,A=[];for(var $=0;$<m.length;$++)A[$]=m[$].B();var Q=new j8(r.E.W,!0);
Q.data={d:r.S.kk,b:this.b,EE:A};this.u(Q)};e3.prototype.xn=function(){for(var $=0;$<this.qT.length;$++)this.qT[$]._()};
function fz(){aH.call(this);this.A9=new fe(!1);this.A9.parent=this;this.A9.J(r.E.o,this.Nz,this);this.body.appendChild(this.A9.m);
this.A9.f(JSON.parse(hK.eY.akl).v);this.ZN=new iV(null,hK.X.names.slice(0,5));this.ZN.J(r.E.o,this.Nz,this);
this.body.appendChild(this.ZN.m);this.JH=new iV([12,19,0],ib.dw,null,ib.gK);this.JH.J(r.E.o,this.Nz,this);
this.body.appendChild(this.JH.m);this.W6=new hz([12,0],0,100,"%");this.W6.parent=this;this.W6.J(r.E.o,this.Nz,this);
this.body.appendChild(this.W6.m);this.W6.f(100);this.gb=new aX([12,23,0]);this.gb.J(r.E.o,this.Nz,this);
this.body.appendChild(this.gb.m);this.az=new aX([12,23,3]);this.az.J(r.E.o,this.Nz,this);this.body.appendChild(this.az.m)}fz.prototype=new aH;
fz.prototype.xn=function(){this.ZN._();this.JH._();this.W6._();this.gb._();this.az._()};fz.prototype.a2=function(G,m){aH.prototype.a2.call(this,G,m);
var A=m==dG.bu;this.A9.DP(G.yu,G.qU);if(A||m==dG.EM||m==dG.ud)this.A9.pA(G.rj)};fz.prototype.Nz=function(){var G=new j8(r.E.W,!0);
G.data={d:r.S.kk,b:this.b};G.data.WF={X:this.A9.B(),uv:hK.X.types[this.ZN.B()],hu:this.gb.fA(),adS:this.az.fA(),aaE:ib.Vh[this.JH.B()],vq:this.W6.B()/100};
this.u(G)};function hx(){aH.call(this)}hx.prototype=new aH;function j3(){aH.call(this);var G=g.L("span","fitem");
this.body.appendChild(G);this.Y9=[new hz([12,15],-180,180,"\xB0"),new iL([1,12,2],null,null,!0)];for(var $=0;
$<this.Y9.length;$++){var m=this.Y9[$];m.parent=this;G.appendChild(m.m);m.J($==1?"click":r.E.o,this.LI,this)}}j3.prototype=new aH;
j3.prototype.xn=function(){for(var $=0;$<this.Y9.length;$++)this.Y9[$]._()};j3.prototype.oX=function(G){this.Y9[0].f(G.UW*180/Math.PI)};
j3.prototype.LI=function(G){var m=this.Y9.indexOf(G.target),A=new j8(r.E.W,!0);A.data={d:r.S.kk,b:this.b,UW:m==1?0:G.target.B()*Math.PI/180};
this.u(A)};function f8(){b9.call(this,["brush","algnd","sfrom","alt"])}f8.prototype=new b9;function dx(){aH.call(this);
this.fC=new f6;this.fC.parent=this;this.body.appendChild(this.fC.IT.m);this.body.appendChild(this.fC.bW.m);
this.body.appendChild(this.fC.Nt.m);this.body.appendChild(this.fC.a7.m);var G=g.L("span","fitem");this.body.appendChild(G);
G.appendChild(this.fC.FT.m);G.appendChild(this.fC.tb.m);G.appendChild(this.fC.DY.m);this.FS=new iV("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.FS.J(r.E.o,this.av,this);this.body.appendChild(this.FS.m);this.ef=new iL([11,9],!1,null,!0);this.ef.J("click",this.asE,this);
this.body.appendChild(this.ef.m);this.xh=new aM;this.xh.J("click",this.av,this)}dx.prototype=new aH;
dx.prototype.xn=function(){this.xh._();this.fC._();this.ef._()};dx.prototype.asE=function(G){var m={d:r.S.kk,b:this.b,IK:"showwarp"},A=new j8(r.E.W,!0);
A.data=m;this.u(A)};dx.prototype.oX=function(G){if(G.IK=="showactive")this.body.appendChild(this.xh.m);
if(G.IK=="hideactive")this.body.removeChild(this.xh.m);if(G.IK=="changeAA")this.FS.f(G.wK)};dx.prototype.a2=function(G,m){aH.prototype.a2.call(this,G,m);
if(m!=dG.ud&&m!=dG.dh&&m!=dG.YF&&m!=dG.Cm)return;this.fC.f(G.RG,G.O8,G.TM)};dx.prototype.av=function(G){var m={d:r.S.kk,b:this.b,IK:this.xh.B()?"commit":"cancel"};
if(G.target==this.FS){m.IK="changeAA";m.wK=this.FS.B()}var A=new j8(r.E.W,!0);A.data=m;this.u(A)};function f2(){gm.call(this,!1,["binop","feat","anta","redge"])}f2.prototype=new gm(!0);
function bd(){aH.call(this);var G=[],A="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.IJ=new aX([12,85]);this.IJ.J(r.E.o,this.Mq,this);G.push(this.IJ.m);this.sK=new aX([20,1]);this.sK.J(r.E.o,this.Mq,this);
G.push(this.sK.m);this.GQ=new aX([12,83]);this.GQ.J(r.E.o,this.Mq,this);G.push(this.GQ.m);var m=g.L("span","fitem");
G.push(m);this.al1=new iV("Scale for exported files",["1x","2x","3x","4x"],!0);m.appendChild(this.al1.m);
this.JO=new iL(A+" PNG",!1,"Save selected layers as PNG",!0);m.appendChild(this.JO.m);this.JO.J("click",this.iH,this);
this.aeW=new iL(A+" SVG",!1,"Save selected layers as SVG",!0);m.appendChild(this.aeW.m);this.aeW.J("click",this.iH,this);
var Q=g.L("span","fitem");G.push(Q);var H=g.L("span","fitem");G.push(H);this.q5=[];for(var $=0;$<8;$++){var J=$==3||$==7?[20,4,6]:[20,4,$<3?$:$-1],b=new iL("Hi",!1,J);
($<4?Q:H).appendChild(b.m);b.J("click",this.iH,this);this.q5.push(b)}for(var $=0;$<G.length;$++)this.body.appendChild(G[$]);
this.a6H=G}bd.prototype=new aH;bd.prototype.oX=function(G){var m=G.ml,A=G.apW;this.IJ.f(m.g8);this.sK.f(m.ca);
this.GQ.f(m.aB);if(A){g.iJ(this.body);for(var $=0;$<A.length;$++)if(A[$]==1&&this.a6H[$])this.body.appendChild(this.a6H[$])}};
bd.prototype.iH=function(G){var m=this.q5.indexOf(G.target),A;if(m==-1){A=new j8(r.E.W,!0);A.data={d:r.S.kk,b:this.b,Nm:G.target==this.JO?"getPNG":"getSVG",o6:this.al1.B()+1}}else{A=new j8(r.E.w,!0);
A.b=f.ld;A.data={d:"algn",k:m}}this.u(A)};bd.prototype.Mq=function(G){var m=new j8(r.E.W,!0);m.data={d:r.S.kk,b:this.b,Nm:"prms",g8:this.IJ.fA(),ca:this.sK.fA(),aB:this.GQ.fA()};
this.u(m)};bd.prototype.xn=function(){this.IJ._();this.sK._();this.GQ._();var G="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var $=0;$<8;$++){this.q5[$].ym(g.y3("align/"+G[$],null,"autoscale"))}};function b8(){gm.call(this,!1,["binop","feat","redge","wconf","sall"])}b8.prototype=new gm(!0);
function it(){b9.call(this,["setop","patch"])}it.prototype=new b9;function j5(){b9.call(this,["setop"])}j5.prototype=new b9;
function hL(){b9.call(this,["bmode","opacity","wconf","sall"])}hL.prototype=new b9;function e9(){gm.call(this,!1,["binop","feat","anta","redge"])}e9.prototype=new gm(!0);
function aO(){gm.call(this,!1,["binop","feat","anta","redge"])}aO.prototype=new gm(!0);function bN(){gm.call(this,!1,["binop","feat","redge","cstr"])}bN.prototype=new gm(!0);
function dV(){aH.call(this);this.dj=null;this.rd=null;this.Sp=[new h_("X",null,3.2,null,!0),new h_("Y",null,3.2,null,!0),new h_("W",null,3.2,null,!0),new h_("H",null,3.2,null,!0),new h_([12,15],"\xB0",3.7,null,!0),new h_(["VAR0 1",[12,80,0]],null,3.5,null,!0),new h_(["VAR0 2",[12,80,0]],null,3.5,null,!0),new iL([15,7,6],!1,null,!0),new iL([2,2],!1,null,!0)];
for(var $=0;$<this.Sp.length;$++){var G=this.Sp[$];this.body.appendChild(G.m);if($>6)G.J("click",this.qj,this)}this.sR=0}dV.prototype=new aH;
dV.prototype.qj=function(G){var m=this.Sp.indexOf(G.target)==7,A=new j8(r.E.w,!0);if(m){if(this.sR==0)return;
A.b=f.Py;A.data={d:"rot",om:[2,5],k:-this.sR}}else{A.b=f.RQ;for(var $=0;$<6;$++)this.Sp[$].f(null)}this.u(A)};
dV.prototype.oX=function(G){function m(O,a,e){var R=Math.sqrt(Math.pow(a.x-O.x,2)+Math.pow(a.y-O.y,2)),p=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)),P=Math.sqrt(Math.pow(e.x-O.x,2)+Math.pow(e.y-O.y,2));
return Math.acos((p*p+R*R-P*P)/(2*p*R))}if(G==null)return;this.rd=G;var A=G.ak7,Q=G.jY,H=Q.x-A.x,J=Q.y-A.y;
this.sR=-Math.atan2(J,H);if(G.w0)this.sR=m(Q,A,G.w0);var b=this.Sp;b[0].f(this.hJ(G,A.x));b[1].f(this.hJ(G,A.y));
b[2].f(this.hJ(G,H));b[3].f(this.hJ(G,J));b[4].f((this.sR*180/Math.PI).toFixed(2));b[5].f(this.hJ(G,dw.SH(A,Q)));
if(G.w0){b[6].f(this.hJ(G,dw.SH(A,G.w0)))}else b[6].f("")};dV.prototype.hJ=function(G,m){var A=N.Kj.DO(m,G.SV,this.dj,G.ame,!1);
return parseFloat(A).toFixed(2)};dV.prototype.a2=function(G,m){this.dj=G;this.oX(this.rd)};dV.prototype.xn=function(){var G=this.Sp;
for(var $=0;$<G.length;$++)G[$]._();g.EL(G[2],G[3])};function ia(){b9.call(this,["brush","strn","pdetail"])}ia.prototype=new b9;
function gf(){b9.call(this,["brush","sfrom"]);this.a9r=[];var G=[[7,12]];for(var $=0;$<G.length;$++){var m=new iL(G[$],!1,null,!0);
this.a9r.push(m);m.parent=this;this.body.appendChild(m.m);m.J("click",this.ajE,this)}}gf.prototype=new b9;
gf.prototype.ajE=function(G){var m=this.a9r.indexOf(G.currentTarget),A=new j8(r.E.NH,!0);A.data=f.Xi.H2("contentAware");
this.u(A)};function ie(){b9.call(this,["brush","strn"])}ie.prototype=new b9;function bP(){b9.call(this,["brush","flow","smode"])}bP.prototype=new b9;
function cf(){aH.call(this);this.G3=!1;var G=g.L("span","fitem");this.body.appendChild(G);this.c$=new ai(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
G.appendChild(this.c$.m);this.c$.J(r.E.o,this.Mq,this);this.dH=new iL([20,2]);this.body.appendChild(this.dH.m);
this.dH.J("click",this.acQ,this);this.VO=new iL([20,3]);this.body.appendChild(this.VO.m);this.VO.J("click",this.acQ,this)}cf.prototype=new aH;
cf.prototype.xn=function(){this.dH._();this.VO._()};cf.prototype.Mq=function(){var G={d:r.S.kk,b:this.b,it:this.c$.B()==0},m=new j8(r.E.W,!0);
m.data=G;this.u(m)};cf.prototype.oX=function(G){if(this.G3!=G.G3)this.c$.f(1-this.c$.B());this.G3=G.G3};
cf.prototype.acQ=function(G){var m=new j8(r.E.w,!0);m.b=f._N;m.data={d:"adapt",k:G.target==this.dH?"pixel":"fitscr"};
this.u(m)};function fD(G,m){aH.call(this);if(G==null)return;this.SO=G;this.e8={};this.arV=m;for(var $=0;
$<G.length;$++){var A=G[$],Q=null;if(A=="tmode"){Q=new iV(null,[[12,76,1],[12,76,0],[12,76,2]]);Q.f(0);
if(m)Q.agF(2)}if(A=="make"){Q=new ai("Make",[[17,2],[12,76,1]],null,!0)}if(A=="anta"){Q=new aX([12,25,1]);
Q.f(!0)}if(A=="binop"){Q=new iV(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(A=="pshape")Q=new iV(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);
if(A=="shape")Q=new eZ([12,76,1]);if(A=="crad"){Q=new hz([12,94,0],0,50,"px");Q.f(0)}if(A=="cstr"){Q=new a$}if(A=="irad"){Q=new hz([12,94,1],0,100,"%");
Q.f(40)}if(A=="length"){Q=new hz([12,80,0],4,40);Q.f(4)}if(A=="sides"){Q=new hz([12,78],3,30);Q.f(5)}if(A=="width"){Q=new hz([12,41],1,100,"px");
Q.f(5)}if(A=="tolr"){Q=new hz([12,24],0,100);Q.f(5)}if(A=="fstyle"){Q=new dN([12,26])}if(A=="sstyle"){Q=new ap}if(A=="psnap"){Q=new aX([8,10])}if(A=="crnr"){Q=new iL("\u2312",!1,[12,94,0],!0)}if(A=="aopts"){Q=new f4;
Q.f([!1,!1,50,60,0])}Q.parent=this;this.body.appendChild(Q.m);this.e8[A]=Q;Q.J(A=="crnr"?"click":r.E.o,this.Mq,this)}}fD.prototype=new aH;
fD.prototype.oX=function(G){if(G.uD!=null)this.e8.binop.f(G.uD);else if(G.Nm=="vals")for(var m in G.a1v)this.e8[m].f(G.a1v[m]);
else{var A=fD.TU;if(A==null)A=fD.TU=new fL([{name:"Remove Anchor Point",P:function(H){var J=H?H.S9():null;
return{P:H&&J[1].length!=0&&J[0][J[1][0]].add.vmsk.PC.length!=0}}},{name:"Remove Path",P:function(H){var J=H?H.S9():null;
return{P:H&&J[1].length!=0&&J[0][J[1][0]].add.vmsk.c.length!=0}},l3:!0},{name:"Make Selection"}],[{T:r.E.w,b:f.gk,R:{d:"remove",ML:!0}},{T:r.E.w,b:f.Z3,R:{d:"remove"}},{T:r.E.W,R:{d:r.S.XG,Ue:"makesel"}}]);
A.parent=this;A.update(G.z0,G.Wc);var Q=new j8(r.E.W,!0);Q.data={d:r.S.mo,Nc:A,x:G.f5.Gp+2,y:G.f5.Yt+1};
this.u(Q)}};fD.prototype.a2R=function($){return null};fD.prototype.xn=function(){for(var G in this.e8){this.e8[G]._()}};
fD.prototype.Mq=function(G){var m=new j8(r.E.W,!0),A=this.e8;if(G.target==A.crnr){m=new j8(r.E.w,!0);
m.b=f.gk;m.data={d:"crnr"}}else if(G.target==A.make){var $=G.target.B();console.log($);if($==0)m.data={d:r.S.XG,Ue:"makesel"};
else{m=new j8(r.E.w,!0);m.b=f.iA;m.data={d:"newfill",O7:0}}}else if(G.target==A.fstyle){m.data={d:r.S.$g,WF:dG.$A,k:A.fstyle.B()}}else if(G.target==A.sstyle){m.data={d:r.S.$g,WF:dG.wv,k:A.sstyle.B()}}else if(G.target==A.tmode){m.data={d:r.S.$g,WF:dG.EG,k:A.tmode.B()}}else{if(A.pshape)this.Uk();
m.data={d:r.S.kk,b:this.b};for(var Q in A)m.data[Q]=A[Q].B()}this.u(m)};fD.prototype.Uk=function(){var G=this.e8,m=G.tmode.B(),A=G.pshape?this.a2R(G.pshape.B()):this.SO,Q;
if(m==0)Q=["anta","make"];if(m==1)Q=["anta","fstyle","sstyle"];if(m==2)Q=["make","binop","fstyle","sstyle"];
var H=G.binop;if(H){var J=H.B();if(m==0){H.aht(0)}else{H.agF(0);if(J==0){H.f(1);this.Mq({target:H})}}}g.iJ(this.body);
for(var $=0;$<A.length;$++){var b=A[$];if(Q.indexOf(b)!=-1)continue;this.body.appendChild(G[b].m)}};
fD.prototype.a2=function(G,m){aH.prototype.a2.call(this,G,m);var A=this.e8.fstyle,Q=this.e8.sstyle,H=this.e8.tmode;
if(A)A.a2(G,m);if(Q)Q.a2(G,m);if(m==dG.ud||m==dG.D3)if(G.S4.length!=0&&this.e8.shape){this.e8.shape.pA(G.S4)}if(m==dG.ud||m==dG.$A)if(A)A.f(null,G.eE,G.aiQ);
if(m==dG.ud||m==dG.wv)if(Q)Q.f(null,G.iV,G.acS);if(m==dG.ud||m==dG.EG){var J=G.SK;if(this.arV&&J==2)J=0;
if(H){H.f(J);this.Uk()}}};function dC(){fD.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}dC.prototype=new fD;
function jx(){fD.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}jx.prototype=new fD;
function e2(){fD.call(this,["fstyle","sstyle"]);this.a1c=null;this.afm=null;this.aiX=null;this.il=new iV("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Ua=new iL("\u25BC");this.Ua.dt();this.iP=new iL("\u25B2");this.iP.dt();this.Z8=[this.il,this.Ua,this.iP];
for(var $=0;$<this.Z8.length;$++){var G=this.Z8[$];this.body.appendChild(G.m);G.parent=this;G.J($==0?r.E.o:"click",this.iR,this)}}e2.prototype=new fD;
e2.prototype.oX=function(G){if(G.IK=="main"){var m=this.Z8,A=G.Yu;if(A&&A.c.length==1){this.afm=A.clone();
this.aiX=JSON.stringify(G.Nv);var Q=A.c[0],H=N.U.Ya(A.Y);this.il.vF();if(Q>0)this.Ua.vF();else this.Ua.Tx();
if(Q<H-1)this.iP.vF();else this.iP.Tx();var J=N.U.sM(A.Y,Q),b=A.Y[J];this.il.ym("Path "+(Q+1));this.il.f([3,0,1,2][b._t])}else{for(var $=0;
$<m.length;$++)m[$].Tx()}}else fD.prototype.oX.call(this,G)};e2.prototype.xn=function(){fD.prototype.xn.call(this);
this.il._()};e2.prototype.iR=function(G){if(G.target==this.il||G.target==this.Ua||G.target==this.iP){var m={},A=this.afm,Q=A.Y,H=JSON.parse(this.aiX),J=A.c[0],b=N.U.sM(Q,J),O=Q[b];
if(G.target==this.il){var a=this.il.B();if(a<4)O._t=[1,2,3,0][a];else{if(N.U.Ya(Q)<=1)return;A.Y=N.U.Xq(Q);
A.c=A.Y.length==2?[]:[0];A.PC=[];H=[N.Nv.Pn()]}}else{var e=G.target==this.Ua?-1:1,R=Math.min(J,J+e),p=Math.max(J,J+e),P=N.U.sM(Q,R),z=N.U.sM(Q,p);
if(P==-1||z==-1)return;var Z=z+N.U.Bc(Q,p),W=H[R];H[R]=H[p];H[p]=W;var T=Q.slice(0,P),i=Q.slice(P,z),X=Q.slice(z,Z),U=Q.slice(Z);
A.Y=T.concat(X.concat(i.concat(U)));A.c[0]+=e}m.Yu=A;m.Nv=H;var M=new j8(r.E.W,!0);M.data={d:r.S.kk,b:this.b,ii:m};
this.u(M)}};function hu(){fD.call(this,["fstyle","sstyle","crnr","psnap"])}hu.prototype=new fD;function dP(){fD.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}dP.prototype=new fD;
function hH(){fD.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}hH.prototype=new fD;
function cO(){fD.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.e8.aopts.f([!1,!0,50,60,0])}cO.prototype=new fD;cO.prototype.a2R=function($){var G=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(G[$])};function iE(){fD.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}iE.prototype=new fD;
function iR(){fD.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}iR.prototype=new fD;
function e5(){gm.call(this,!1,["binop","feat","redge"])}e5.prototype=new gm(!0);function cn(){b9.call(this,["brush","qsmode","redge"])}cn.prototype=new b9;
function cA(){aH.call(this);var G=new iL("Slices From Guides",null,null,!0);G.J("click",this.iR,this);
this.body.appendChild(G.m)}cA.prototype=new aH;cA.prototype.iR=function(G){var m=new j8(r.E.NH,!0);m.data={YI:"make",aL:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.u(m)};function bR(){aH.call(this);var G=this.a37=[new iL("\u25BC",null,null,!0),new iL("\u25B2",null,null,!0),new iL([5,4],null,null,!0)];
for(var $=0;$<3;$++){var m=G[$];this.body.appendChild(m.m);m.J("click",this.iR,this)}}bR.prototype=new aH;
bR.prototype.iR=function(G){var m=this.a37.indexOf(G.target),A=new j8(r.E.w,!0);A.b=f.QB;A.data={d:m==2?"delete":"reorder",dir:m==0?-1:1};
this.u(A)};bR.prototype._=function(){aH.prototype._.call(this);for(var $=0;$<3;$++)this.a37[$]._()};
function bp(G,m){aH.call(this);if(window.Typr==null||G)return;this.ahB=m;this.VZ=null;this.aae=g.L("span","");
this.afC=g.L("span","");var A=1;this.Kk={nR:new h9(null,24),z6:new hz("X",0,0,"px",0,!1,!0,4),sn:new hz("Y",0,0,"px",0,!1,!0,4),Ly:new hz("W",0,0,["%","px"],2,!1,!0,5),S3:new iL("\u2261",null,[12,51],null),P$:new hz("H",0,0,["%","px"],2,!1,!0,5),a6M:new hz("\u2221",0,0,"\xB0",A,!1,!0),agL:new hz("\u25B1 H",-85,85,"\xB0",A,!1,!0),ajQ:new hz("\u25B1 V",-85,85,"\xB0",A,!1,!0),T9:new iV(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.Kk.T9.f(1);for(var Q in this.Kk){var H=this.Kk[Q];if(m&&(H==this.Kk.a6M||H==this.Kk.agL||H==this.Kk.ajQ||H==this.Kk.T9)){}else this.aae.appendChild(H.m);
var J=H==this.Kk.S3?"click":r.E.o;H.J(J,this.a91,this)}this.RL=new ar(!0,!0,!0);this.RL.J(r.E.o,this.aut,this);
this.RL.parent=this;var b=this.afC,O=this.RL;b.appendChild(O.GX.m);b.appendChild(O.Ju.m);b.appendChild(O.X3.m);
b.appendChild(O.wG.m);b.appendChild(O.qs.m);this.ef=new iL([11,9]);this.ef.J("click",this.ahC,this);
this.xh=new aM;this.xh.J("click",this.av,this)}bp.prototype=new aH;bp.prototype.oX=function(G){if(G.f5){var m=bp,A=this.TU;
if(A==null)A=this.TU=new fL(m.a0A(),m.a75(this.b));A._();A.parent=this;A.update(G.z0,G.Wc);var Q=new j8(r.E.W,!0);
Q.data={d:r.S.mo,Nc:A,x:G.f5.Gp+2,y:G.f5.Yt+1};this.u(Q);return}g.iJ(this.body);this.VZ=G;if(G.Kk){var H=G.Kk.PR,J=G.Kk.Nu.clone(),b=Math.atan2(-J.h,J.Uj),O=new ci;
O.rotate(-b);J.concat(O);var a=this.Kk;a.nR.f(G.Kk.V9);a.z6.f(G.Kk.IC.x);a.sn.f(G.Kk.IC.y);a.Ly.f(J.Uj*(a.Ly.N$()=="%"?100:H.e));
a.P$.f(J.nd*(a.P$.N$()=="%"?100:H.n));a.a6M.f(-b*180/Math.PI);a.agL.f(0*180/Math.PI);a.ajQ.f(Math.atan(J.Qv)*180/Math.PI);
this.body.appendChild(this.aae);this.ef.TP()}if(G.Xx){this.RL.f(G.Xx);this.body.appendChild(this.afC);
this.ef.dt()}this.body.appendChild(this.xh.m);if(G.acD&&!this.ahB)this.body.appendChild(this.ef.m)};
bp.prototype.a91=function(G){var m=this.Kk,A=this.VZ.Kk.PR;if(G.target==m.S3)m.S3.f(!m.S3.B());if(m.S3.fA()){var Q=m.P$,H=m.Ly,J=A.n,b=A.e;
if(G.target==m.Ly){Q=m.Ly;H=m.P$;J=A.e;b=A.n}var O=Q.B()/(Q.N$()=="%"?100:J);O*=H.N$()=="%"?100:b;H.f(O)}var a=[];
for(var e in m)if(m[e]!=m.S3&&m[e]!=m.nR){var O=m[e].B();if((m[e]==m.Ly||m[e]==m.P$)&&O==0){O=.1;m[e].f(O)}if(m[e]==m.Ly&&m[e].N$()=="px")O/=A.e/100;
if(m[e]==m.P$&&m[e].N$()=="px")O/=A.n/100;a.push(O)}var R=new dw(a[0],a[1]);if(G.target==m.nR){this.Ec({IK:"ctyp",V9:m.nR.B()})}else if(G.target==m.z6||G.target==m.sn){this.Ec({IK:"cen",IC:R})}else{var p=this.VZ.Kk.Nu.clone(),P=p.clone(),z=Math.atan2(-p.h,p.Uj);
P.translate(-R.x,-R.y);P.rotate(-z);var Z=new ci(P.Uj,P.h,P.Qv,P.nd,0,0);Z.G3();P.concat(Z);P.concat(new ci(a[2]/100,Math.tan(a[5]*Math.PI/180),Math.tan(a[6]*Math.PI/180),a[3]/100,0,0));
P.rotate(-a[4]*Math.PI/180);P.translate(R.x,R.y);this.VZ.Kk.Nu=P;this.Ec({IK:"trn",Kk:P,L1:this.Kk.T9.B()})}};
bp.prototype.aut=function(G){this.Ec({IK:"wrp",Xx:this.RL.B()})};bp.prototype.ahC=function(G){this.Ec({IK:"switchWarp"})};
bp.prototype.av=function(G){this.Ec({IK:this.xh.B()?"commit":"cancel"})};bp.prototype.Ec=function(G){G.d=r.S.kk;
G.b=this.b;var m=new j8(r.E.W,!0);m.data=G;this.u(m)};bp.prototype.xn=function(){var G=this.Kk;for(var m in G)G[m]._();
g.EL(G.Ly,G.P$);this.xh._();this.RL._();this.ef._()};bp.a0A=function(){return[{name:[5,9],Hp:"Shift+Alt+Ctrl + T",l3:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],P:function(G){if(G==null||G.c.length!=1)return{P:!1};
var m=G.g[G.c[0]];return{P:m.add.TySh==null&&!m.r8()}},l3:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
bp.a75=function(G){if(G==null)G=f.Py;return[{T:r.E.w,b:G,R:{d:"again"}},{T:r.E.W,R:{d:r.S.ce,b:G,ml:{et:3}}},{T:r.E.W,R:{d:r.S.ce,b:G,ml:{et:4}}},{T:r.E.W,R:{d:r.S.ce,b:G,ml:{et:2}}},{T:r.E.W,R:{d:r.S.ce,b:G,ml:{et:1}}},{T:r.E.W,R:{d:r.S.ce,b:G,ml:{et:-1}}},{T:r.E.w,b:G,R:{d:"rot",om:[2,5],k:-Math.PI/2}},{T:r.E.w,b:G,R:{d:"rot",om:[2,5],k:-3*Math.PI/2}},{T:r.E.w,b:G,R:{d:"rot",om:[2,5],k:Math.PI}},{T:r.E.w,b:G,R:{d:"scl",om:[[2,6],[22,4,2]],k:new dw(-1,1)}},{T:r.E.w,b:G,R:{d:"scl",om:[[2,6],[22,4,3]],k:new dw(1,-1)}}]};
function b3(){bp.call(this)}b3.prototype=new bp(!0);function gy(){bp.call(this)}gy.prototype=new bp(!0);
function io(){bp.call(this,!1,!0)}io.prototype=new bp(!0);function cr(){aH.call(this);var G=this.SO=[new iV([12,36],["Rigid",[15,10,0],[24,4]]),new iV([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new hz([7,4],0,100,"px"),new aX("Show Mesh"),new iL("\u25BC",null,null,!0),new iL("\u25B2",null,null,!0)];
for(var $=0;$<G.length;$++){var m=G[$];m.parent=this;this.body.appendChild(m.m);m.J($<4?r.E.o:"click",this.a9b,this)}this.xh=new aM;
this.xh.J("click",this.av,this);this.body.appendChild(this.xh.m)}cr.prototype=new aH;cr.prototype.xn=function(){var G=this.SO;
for(var $=0;$<4;$++)G[$]._();this.xh._()};cr.prototype.oX=function(G){var G=G.WF;for(var $=0;$<4;$++)this.SO[$].f(G[$])};
cr.prototype.a9b=function(G){var m=[];for(var $=0;$<4;$++)m[$]=this.SO[$].B();var A=this.SO.indexOf(G.target);
if(A<4)this.Ec({IK:"prm",WF:m});else this.Ec({IK:"moveDepth",asi:A==5})};cr.prototype.av=function(G){this.Ec({IK:this.xh.B()?"commit":"cancel"})};
cr.prototype.Ec=function(G){G.d=r.S.kk;G.b=this.b;var m=new j8(r.E.W,!0);m.data=G;this.u(m)};function e8(){gB.call(this);
this.m=g.L("div","cmanager");window.alert=function(Q,H){this.a1C(Q,H);console.log("Alert: "+Q)}.bind(this);
window.onblur=function(Q){var H=this;H.Mg()}.bind(this);this.zp=0;this.V7=0;this.DR=[];this.Xt={};this.ta=g.L("div","alertcont");
this.m.appendChild(this.ta);this.aiY=g.L("div","alertcont");this.m.appendChild(this.aiY);this.qD=g.L("div","alertcont");
this.a5a=0;this.qJ=-1;this.aoG=null;this.qm=null;var G=this.a6D=g.L("div","alertpanel");G.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.qD.appendChild(G);var m=this.aj=g.L("input");m.setAttribute("type","text");g.hl(m);m.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
m.addEventListener("input",this.a43.bind(this),!1);m.addEventListener("keydown",this.a0s.bind(this),!1);
G.appendChild(m);var A=this.agu=g.L("div","contextpanel scrollable");A.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
A.addEventListener("click",this.ajL.bind(this),!1);G.appendChild(A);g.Il(document.body,this.afV.bind(this))}e8.prototype=new gB;
e8.prototype.k0=function(){if(g.m$(this.qD))this.m.removeChild(this.qD)};e8.prototype.arR=function(G,m){var A=this.aoG=[];
for(var $=0;$<bM.data.length;$++){var Q=bM.data[$],H=[f5.get(Q.name)],J=[$];e8.apA(Q.items,H,J,A,G,m)}var b=jE.K;
for(var $=0;$<b.length;$+=3){A.push([["Tools",f5.get(b[$])],[-1,b[$+2]],b[$+1]])}this.m.appendChild(this.qD);
var O=this.aj;O.focus();O.select();this.Lc()};e8.prototype.a43=function(G){this.qJ=-1;this.Lc()};e8.prototype.Lc=function(){var G=this.aj.value.toLowerCase().trim().replace(/  +/g," "),m=this.aoG,A=[],Q=[],H=G.split(" ");
if(G!="")for(var $=0;$<m.length;$++){var J=m[$][0],b=[],O=0;for(var a=0;a<J.length;a++)b[a]=-1;for(var e=0;
e<H.length;e++)for(var a=0;a<J.length;a++){var R=J[a].toLowerCase().indexOf(H[e]);if(R!=-1){b[a]=[R,R+H[e].length];
O++;break}}if(O==H.length){A.push(m[$]);Q.push(b)}}var p=[],P=this.agu;g.iJ(P);for(var $=0;$<A.length;
$++){var z=A[$],Z=z[0],R=Q[$],W="enab",i="";if($==this.qJ)W+=" active";var T=g.L("div",W);p.push(T);
P.appendChild(T);for(var a=0;a<Z.length;a++){var X=R[a],U=H[a],M=Z[a];if(X!=-1)M=M.slice(0,X[0])+"<span style=\"color:black\">"+M.slice(X[0],X[1])+"</span>"+M.slice(X[1]);
i+=M;if(a<Z.length-1)i+=" \uFE65 "}if(z[2]&&(typeof z[2]!="string"||z[2].length==1))i+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+a5.n5(z[2])+"</span>";
T.innerHTML=i}this.qm=[A,p]};e8.prototype.a0s=function(G){var m=a5.DN,A=G.code;if(m(A,a5.OD))this.k0();
var Q=m(A,a5.kd),H=m(A,a5.cX),J=m(A,a5.pg);if(Q||H){this.qJ=Math.max(0,Math.min(this.qm[0].length-1,this.qJ+(Q?-1:1)));
this.Lc()}if(J&&this.qJ!=-1)this.aaN(this.qJ)};e8.apA=function(G,m,A,Q,H,J){for(var $=0;$<G.length;$++){var b=G[$],O=m.slice(0),a=A.slice(0),e=f5.get(b.name);
if(b.P){var R=b.P(H,J,$);if(R.pl)e=R.pl;if(R.P==!1)continue}O.push(e);a.push($);if(b.sub)e8.apA(b.sub,O,a,Q,H,J);
else Q.push([O,a,b.Hp])}};e8.prototype.ajL=function(G){var m=G.target;if(m.tagName.toLowerCase()=="span")m=m.parentNode;
var A=this.qm[1].indexOf(m);if(A!=-1)this.aaN(A)};e8.prototype.aaN=function(G){var m=this.qm[0][G][1];
if(m[0]==-1){var A=new j8(r.E.W,!0);A.data={d:r.S.ce,b:m[1]};this.u(A)}else{var Q=bM.data[m[0]].LD[m[1]];
for(var $=2;$<m.length;$++)Q=Q.sub[m[$]];var H=new j8(Q.T,!0);H.b=Q.b;H.data=Q.R;this.u(H)}this.k0()};
e8.prototype.e9=function(G,m){this.zp=G;this.V7=m;this.agu.style["max-height"]=m-120+"px"};e8.prototype.a5B=function(G){var m=g.L("div","alertpanel");
m.textContent=f5.get(G);this.ta.appendChild(m);this.Xt[JSON.stringify(G)]=m};e8.prototype.a7E=function(G){var m=this.Xt[JSON.stringify(G)];
this.ta.removeChild(m);delete this.Xt[JSON.stringify(G)]};e8.prototype.a1C=function(G,m){var A=this.aiY;
for(var $=0;$<A.children.length;$++)if(A.children[$].textContent==G)return;var Q=g.L("div","alertpanel tpanel");
Q.textContent=G;Q.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");A.appendChild(Q);if(m==null)m=1500;
var H=m,J=Math.max(Date.now()+H,this.a5a+H);setTimeout(function(){Q.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){A.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},J-Date.now()-30);
setTimeout(function(){A.removeChild(A.firstChild);A.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},J-Date.now());
this.a5a=J};e8.prototype.afV=function(G){var m=this.DR;for(var $=m.length-1;$>=0;$--){var A=m[$],Q=G.target;
while(Q!=null){if(Q==A.m){this.Mg(A);return}Q=Q.parentNode}}this.Mg();var H=G.target;while(H!=this.qD&&H!=document.body)H=H.parentNode;
if(H!=this.qD)this.k0()};e8.prototype.Mg=function(G){var m=this.DR;for(var $=0;$<m.length;$++){if(G&&G.ao5(m[$]))continue;
var A=m[$].m;A.style.height="auto";g.W8(A,"scrollable");this.m.removeChild(A);m.splice($,1);$--}};e8.prototype.aat=function(G){this.Mg(G.Nc);
var m=G.Nc,A=m.m;if(this.DR.indexOf(m)!=-1)return;this.DR.push(m);this.m.appendChild(m.m);var Q=this.zp,H=this.V7,J=G.x,b=G.y,O=this.m.getBoundingClientRect(),a=m instanceof fL,e=-1,R=H-2;
if(a||G.wh){var p=m.vY(),P=m.alM();if(a)p=Math.min(p,200);var z=Q-p-2,Z=H-P-2;if(b<Z)e=2;else if(J<z)e=1;
else if(0<b-P-2)e=0;else e=3;if(G.arX)e=0;if(G.a9X)e=2;if(e==2){J=Math.min(J,z)}else if(e==1){b=Math.min(b,Z)}else if(e==0){b=b-P-2;
J=Math.min(J,z);R=G.y}else if(e==3){J=J-p-2;b=Math.min(b,Z)}}b=Math.max(2,b);var top=Math.round(b-O.y+this.m.offsetTop);
A.style.position="absolute";A.style["z-index"]=10;if(b+m.alM()>R){A.style.height=R-b+"px";g.kG(A,"scrollable");
if(e==3)J-=10}A.style.left=Math.round(J)+"px";A.style.top=top+"px"};e8.prototype.afS=function(G){var m=G.Nc,A=this.DR.indexOf(m);
if(A==-1)return;this.DR.splice(A,1);var Q=m.m;this.m.removeChild(m.m)};e8.prototype.h3=function(){var G=this.DR;
return G.length==0?null:G[G.length-1]};e8.prototype.adQ=function(){this.afS({Nc:this.h3()})};function jp(){gB.call(this);
this.m=g.L("div","confbar")}jp.prototype=new gB;jp.prototype.a9C=function(G){G.parent=this;g.iJ(this.m);
this.m.appendChild(G.m)};function gX(G){gB.call(this);gX.MF=G;this.dj=null;this.PO=g.L("input","");this.PO.setAttribute("type","file");
this.PO.setAttribute("multiple","");this.PO.addEventListener("change",function(m){this.ry(m.target.files,null,this.H$,null);
this.H$=null}.bind(this),!1);document.body.appendChild(this.PO);this.PO.setAttribute("style","display:none");
this.aps=[];this.tK=!1;this.a9R={};this.H$=null}gX.prototype=new gB;gX.MF=null;gX.SS=function(G){try{var m={};
m[G.type]=G;navigator.clipboard.write([new ClipboardItem(m)])}catch(f5){console.error(f5,f5.message)}};
gX.Y2=function(G,m){navigator.clipboard.read().then(function(A){for(var $=0;$<A.length;$++){try{var Q=A[$],H={},J=0,b=0;
for(var O=0;O<Q.types.length;O++){var a=Q.types[O];J++;Q.getType(a).then(function(e){var R=a;new Response(e).arrayBuffer().then(function(p){H[this.O7]=p;
b++;if(b==J)gX.a26(H,G,m)}.bind({O7:this.O7}))}.bind({O7:a}))}}catch(f5){console.error(f5,f5.message)}}}).catch(function(A){alert("Clipboard error: ("+A.message+")")})};
gX.a8z=function(G){navigator.permissions.query({name:"clipboard-read"}).then(function(m){G(m.state)})};
gX.a26=function(G,m,A){var Q=["text/plain","image/png","text/html","text/plain"];for(var H in G)console.log(H,H.startsWith("text")?V.Io(new Uint8Array(G[H])).slice(0,100)+"...":G[H]);
for(var J=0;J<Q.length;J++){var b=Q[J],O=G[b];if(O==null)continue;if(b=="image/png"){gX.MF({name:"image.png"},O,m,A);
return}if(b=="text/plain"){var a=V.Io(new Uint8Array(O));if(J==0)if(!a.startsWith("<!--")&&!a.startsWith("<svg"))continue;
var e=new j8(r.E.W,!0);e.data={d:r.S.arD,k:a};m.u(e);return}if(b=="text/html"){var a=V.Io(new Uint8Array(O)),R=a.indexOf("src=\"");
if(R!=-1&&a.slice(R+5,R+9)!="http"){var p=R+10;while(a[p]!="\"")p++;var P=a.slice(R+5,p);gX.MF({name:"chart.png"},dt.k6(P).buffer,m,A);
return}}}};gX.prototype.sE=function(G){if(G==null)G=[23,5];var m=JSON.stringify(G),A=this.a9R;if(A[m]==null)A[m]=0;
if(A[m]==0){var Q=new j8(r.E.W,!0);Q.data={d:r.S.nw,G5:G};this.u(Q)}A[m]++};gX.prototype.Lq=function(G){if(G==null)G=[23,5];
var m=JSON.stringify(G),A=this.a9R;if(A[m]==null)A[m]=0;A[m]--;if(A[m]==0){var Q=new j8(r.E.W,!0);Q.data={d:r.S.f0,G5:G};
this.u(Q)}};gX.prototype.a7G=function(G,m){this.H$=G;var A=window.showOpenFilePicker;if(A&&window.self==window.top){var Q=this;
A({multiple:!0}).then(function(b){var O=[];function a(e){O.push(e);if(O.length==b.length){Q.ry(O,null,Q.H$,null,b);
Q.H$=null}else b[O.length].getFile().then(a)}b[O.length].getFile().then(a)});return}var H=this.PO;if(m)H.setAttribute("accept",m);
else H.removeAttribute("accept");var J=document.createEvent("MouseEvents");J.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
H.dispatchEvent(J)};gX.prototype.du=function(G){if(G.url.indexOf("photopea.com#i")!=-1||G.url.indexOf("photopea.com/#i")!=-1){this.ir(G.url.split("#i").pop());
return}this.aps.push(G);this.acR()};gX.prototype.acR=function(){var G=this.aps;if(G.length==0||this.tK)return;
this.tK=!0;var m=G.shift();this.sE();if(m.ja==null)m.ja={};var A=new XMLHttpRequest;A.op=m;var Q=m.url;
if(m.pG&&!Q.startsWith("data:image"))Q="mirror.php?url="+encodeURIComponent(Q);A.open("GET",Q);if(m.aQ)for(var H in m.aQ)A.setRequestHeader(H,m.aQ[H]);
A.responseType="arraybuffer";A.onload=this.agM.bind(this);A.send()};gX.prototype.ry=function(G,m,A,Q,H){for(var $=0;
$<G.length;$++){this.sE();var J=G[$],b=new FileReader;b.op=J;b.op.z4=A;b.op.mm=Q;b.alU=m;if(H)b.op.ZL=H[$];
b.onload=this.agM.bind(this);b.onerror=function(O){this.Lq()}.bind(this);b.readAsArrayBuffer(J)}this.PO.value=null};
gX.prototype.ahX=function(G,m,A){this.sE("Saving ...");this.dj=m;setTimeout(A.bind({xv:G,caller:this}),50)};
gX.yM=function(G){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=new Uint8Array(G),Q=A.length,H=Q%3,J=Q-H,b=[],O=0,a=0,e=0;
for(var $=0;$<J;$+=3){O=A[$];a=A[$+1];e=A[$+2];b.push(m[O>>2]+m[(O&3)<<4|a>>4]+m[(a&15)<<2|e>>6]+m[e&63])}if(H==1){O=A[J];
b.push(m[O>>2]+m[(O&3)<<4]+"==")}if(H==2){O=A[J];a=A[J+1];b.push(m[O>>2]+m[(O&3)<<4|a>>4]+m[(a&15)<<2]+"=")}var R=b.join("");
return R};gX.ahp=function(G,m){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=new Uint8Array(64),O=0,a=0,e=0,p=0;
for(var $=0;$<64;$++)Q[$]=A.charCodeAt($);var H=new Uint8Array(G),J=m%3,b=m-J,R=new Uint8Array(Math.floor(m/3)*4+(J==0?0:4));
for(var $=0;$<b;$+=3){O=H[$];a=H[$+1];e=H[$+2];R[p]=Q[O>>>2];R[p+1]=Q[(O&3)<<4|a>>>4];R[p+2]=Q[(a&15)<<2|e>>>6];
R[p+3]=Q[e&63];p+=4}if(J==1){O=H[b];R[p]=Q[O>>2];R[p+1]=Q[(O&3)<<4];R[p+2]=61;R[p+3]=61}if(J==2){O=H[b];
a=H[b+1];R[p]=Q[O>>2];R[p+1]=Q[(O&3)<<4|a>>4];R[p+2]=Q[(a&15)<<2];R[p+3]=61}return R};gX.prototype.agM=function(G){var m,A=G.target.op;
if(G.target instanceof XMLHttpRequest)m=G.target.response;else m=G.target.result;gX.MF(A,m,this,G.target.alU);
this.Lq();if(G.target instanceof XMLHttpRequest){this.tK=!1;this.acR()}};gX.a7r=function(G,m){var A=new XMLHttpRequest;
A.open("POST","https://api.imgur.com/3/image",!0);A.Be=m;A.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
A.setRequestHeader("Content-type","application/x-www-form-urlencoded");A.setRequestHeader("Accept","application/json");
A.addEventListener("load",gX.a0Q);A.send("type=base64&image="+encodeURIComponent(gX.yM(G)));alert("Saving to Imgur ...",4e3)};
gX.a0Q=function(G){var m=JSON.parse(G.target.response);if(m.success){if(G.target.Be)G.target.Be(m.data.link);
else window.open(m.data.link,"Imgur")}};gX.prototype.ir=function(G,m){this.sE();var A=new XMLHttpRequest;
A.responseType="arraybuffer";A.open("GET","https://f000.backblazeb2.com/file/psdshared/"+G);A.onload=this.a2L.bind(this);
A.send();gX.a2W=Date.now();gX.acG=G;gX.a20=m?G:null};gX.prototype.a2L=function(G){var m=new Uint8Array(G.target.response);
console.log(m.length,Date.now()-gX.a2W);for(var $=0;$<m.length;$++)m[$]=255-m[$];m=pako.inflateRaw(m);
var A=JSON.parse(V.Io(m,0,2e3));gX.MF({name:A.name,D9:gX.a20},m.slice(2e3).buffer,this);this.Lq();var Q=new XMLHttpRequest;
Q.open("GET","/papi/img/update.php?act=0&id="+gX.acG+"&rnd="+Math.random());Q.send()};gX.prototype.a7M=function(G,m,A){if(!(G instanceof ArrayBuffer))throw"e";
G=new Uint8Array(G);var Q=new Uint8Array(G.length+2e3),p="";for(var $=0;$<2e3;$++)Q[$]=32;V.lG(JSON.stringify({name:m}),Q,0);
Q.set(G,2e3);G=Q;G=pako.deflateRaw(G);for(var $=0;$<G.length;$++)G[$]=255-G[$];G=G.buffer;var H=G.byteLength,J=hN.tl(H),b=~~(609e5/2),O=~~(209e5/2);
if(H>b){confirm("Your file is "+J+". Our limit is "+hN.tl(b)+". Delete some layers and try again.");
return}if(H>O){var a=confirm("Your file is quite large ("+J+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!a)return}var e=sha1(G),R=[];for(var $=0;$<20;$++){var P=parseInt(e.slice($*2,$*2+2),16);R.push(P);
p+=String.fromCharCode(P)}var z=btoa(p).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(gX.anD(z)){console.log("file already exists");
if(A)A("https://www.photopea.com#i"+z);else window.open("https://www.photopea.com#i"+z);return}this.sE("Publishing ...");
var Z=new XMLHttpRequest;Z.rd=[G,e,z,A];Z.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+z+"&size="+H);
Z.onload=this.a2f.bind(this);Z.send()};gX.anD=function(G){try{var m=new XMLHttpRequest;m.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+G,!1);
m.send();if(m.status==200)return!0}catch(f5){return!1}return!1};gX.prototype.a2f=function(G){var m=JSON.parse(G.target.response),A=G.target.rd,Q=new XMLHttpRequest;
Q.open("POST",m.uploadUrl);Q.setRequestHeader("Authorization",m.authorizationToken);Q.setRequestHeader("X-Bz-File-Name",A[2]);
Q.setRequestHeader("Content-Type","b2/x-auto");Q.setRequestHeader("X-Bz-Content-Sha1",A[1]);Q.send(new Blob([A[0]]));
Q.onload=this.as4.bind({V_:this,rd:A})};gX.prototype.as4=function(G){this.V_.Lq("Publishing ...");if(this.rd[3])this.rd[3]("https://www.photopea.com#i"+this.rd[2]);
else window.open("https://www.photopea.com#i"+this.rd[2]);var m=new XMLHttpRequest;m.open("GET","/papi/img/update.php?act=2&id="+this.rd[2]+"&fileId="+JSON.parse(G.target.response).fileId+"&rnd="+Math.random());
m.send()};gX.save=function(G,m){var A=new Uint8Array(G),Q=document.createElement("a");if(typeof Q.download=="string"){var H=new Blob([A]),J=window.URL.createObjectURL(H);
Q.href=J;Q.download=m;document.body.appendChild(Q);Q.click();document.body.removeChild(Q)}else{var b="data:application/octet-stream;base64,"+gX.yM(G);
window.open(b)}};function iy(){this.size=16;this.data=N.$(16)}iy.prototype.fU=function(G,m){if(G+m<=this.size)return;
var A=this.size;while(G+m>this.size)this.size*=2;var Q=N.$(this.size);for(var $=0;$<A;$++)Q[$]=this.data[$];
this.data=Q};var ho={};ho.yp=function(G,m,A){var Q=m.split(":"),H=Q[0],J=null;if(Q.length==2){if(H=="jpg")J=[Math.round(100*parseFloat(Q[1]))];
if(H=="webp")J=[Math.round(100*parseFloat(Q[1])),100,0,!1,!1];if(H=="psd")J=[!0,!0];if(H=="svg")J=Q[1].split(",").map(function(O){return O=="true"})}var b=dt.DZ(G,H.toUpperCase(),null,null,J,A);
return b};ho.aaA=function(G,m,A){var Q=G.$s(),H=m[0];return ho.yp(G,H,A)};ho.agp=function(){var G=this.xv,m=this.caller,A=G.ja.vG,Q=A.formats,H,J;
G.$s();var b=Date.now();if(A.version==1){var O=[],a=0,R=0;for(var $=0;$<Q.length;$++){var e=ho.yp(G,Q[$],m.dj);
O.push(e);a+=e.byteLength}H=new Uint8Array(2e3+a);var p="{ \"source\": "+JSON.stringify(G.nt)+", \"versions\": [\n";
for(var $=0;$<Q.length;$++){var P=new Uint8Array(O[$]);p+="\t{\"format\": \""+Q[$].split(":")[0]+"\", \"start\": "+R+", \"size\": "+P.length+" }"+($+1<Q.length?", ":"")+"\n";
H.set(P,2e3+R);R+=O[$].byteLength}p+="] }";var z=V.lG(p,H,0);for(var $=z;$<2e3;$++)H[$]=32;J="application/octet-stream"}else{var Z=new iy,W=0,T="",i=encodeURIComponent;
T="p="+i("{ \"source\": "+JSON.stringify(G.nt)+", \"versions\": [");V.yN(Z,W,T);W+=T.length;for(var $=0;
$<Q.length;$++){T=i(" {\"format\": \""+Q[$].split(":")[0]+"\", \"data\": \"");V.yN(Z,W,T);W+=T.length;
var e=ho.yp(G,Q[$],m.dj),X=gX.ahp(e,e.byteLength),z=X.length;Z.fU(W,z);for(var U=0;U<z;U++){Z.fU(W,3);
var M=X[U];if(M==43){Z.data[W]=37;Z.data[W+1]=50;Z.data[W+2]=66;W+=3}else if(M==47){Z.data[W]=37;Z.data[W+1]=50;
Z.data[W+2]=70;W+=3}else if(M==61){Z.data[W]=37;Z.data[W+1]=51;Z.data[W+2]=68;W+=3}else{Z.data[W]=M;
W++}}T=i("\" }"+($+1<Q.length?", ":""));V.yN(Z,W,T);W+=T.length}T=i("] }");V.yN(Z,W,T);W+=T.length;H=Z.data.slice(0,W);
J="application/x-www-form-urlencoded"}var C=new XMLHttpRequest;C.open("POST",A.url,!0);if(J)C.setRequestHeader("Content-Type",J);
C.addEventListener("load",ho.arW.bind(this));C.send(new Blob([H.buffer]))};ho.arW=function(G){this.caller.Lq("Saving ...");
var m=G.target.response;if(m.charAt(0)=="{"){m=JSON.parse(m);if(m.newSource)this.xv.nt=m.newSource;if(m.message)alert(m.message,2e3);
if(m.script){var A=new j8(r.E.W,!0);A.data={d:r.S.Jy,hc:m.script};this.caller.u(A)}}else alert("Saved. Response: "+m,1500)};
ho.aos=function(G,m){var A=G.M3.Kl;if(m==null)m=ho.yp(G,A);fv.NK(function(){var Q=new XMLHttpRequest,H="https://www.googleapis.com/upload/drive/v3/files/"+G.M3.file.id+"?uploadType=media"+"&"+fv.dy();
Q.open("PATCH",H,!0);Q.addEventListener("load",function(J){var b=JSON.parse(J.target.response);alert(b.name+" updated")});
Q.send(m);alert("Saving \""+G.M3.file.name+"\" to Google Drive ...")})};ho.MF=function(G,m,A,Q){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)ho.a5_(G,m,A,Q);
else{try{ho.a5_(G,m,A,Q)}catch(f5){if(f5=="low_ram"){}else{var H="Error. Please, send your file to support@photopea.com and we will solve it.";
if(dt.mG(m)=="eps")H="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(H,1e4)}}}};ho.a5_=function(G,m,A,Q){var H;if(G.name){var J=G.name.lastIndexOf(".");H=J==-1?J:G.name.slice(0,J)}else{if(G.url.substring(0,5)=="data:"||G.url.indexOf("googleapis")!=-1)H="image";
else H=G.url.substring(G.url.lastIndexOf("/")+1).split(".")[0];H=H.slice(0,50)}var b=G.name?G.name:G.url,O=new Uint8Array(m),a=dt.mG(m),e=window.ga;
if(Math.random()<.25&&e&&a!=null&&dt.aW(a))e("send","event","Formats",a);if(a==null)a=V.uB(O,0,4);if(b&&b.toLowerCase().endsWith(".raw")){var R=new j8(r.E.W,!0);
R.data={d:r.S.XG,Ue:"importraw",tm:m,Vc:b.split("/").pop()};A.u(R);return}else if(a=="json"){var p="";
for(var $=0;$<O.length;$++)p+=String.fromCharCode(O[$]);p=decodeURIComponent(escape(p));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(p));return}if(a=="html"){var p=V.Io(O,0,O.length),P=new DOMParser,z=P.parseFromString(p,"text/html"),Z=z.getElementsByTagName("meta");
for(var $=0;$<Z.length;$++){var W=Z[$],T=W.getAttribute("property"),i=W.getAttribute("content"),X=null;
if(T=="og:image")X=i;if(T==null&&i&&i.startsWith("0;url=/imgres?")){var U=i.slice(14).split("&");for(var M=0;
M<U.length;M++)if(U[M].startsWith("imgurl"))X=decodeURIComponent(U[M].slice(7))}if(X==null)continue;
var R=new j8(r.E.W,!0);R.data={d:r.S.BG,WF:{url:X,pG:!0,z4:G.z4}};A.u(R)}return}if(dt.aW(a)){var C,x,L=dt.aW(a);
if(G.z4!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(a)!=-1){var R=new j8(r.E.W,!0);R.data={d:r.S.lm,target:G.z4,aY:G.mm,EY:m,l4:H};
A.u(R);return}var E=[H,L,a,G,A,Q,m];if(L.cQ){C=new fy(H+(a=="psd"?"":"-"+a)+".psd");L.uJ(m,C,ho.KE,E)}else{x=L.uJ(m,null,ho.KE,E)}if(L.Xm!=!0)ho.KE(C,x,E);
else A.sE();return}var l=new j8(r.E.W,!0);l.data={d:r.S.qh,tm:m,Ds:G.name};var y=G instanceof File&&G.aiZ!=!0,R=new j8(r.E.W,!0);
R.data={d:r.S.$g,ja:"add",WF:null,H7:null,a5e:G.aiZ};if(a=="zip"){var Y=Date.now(),F=UZIP.parse(m),w="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var j in F){var _=!1;for(var $=0;$<w.length;$++)if(j.toLowerCase().endsWith("."+w[$]))_=!0;if(j.startsWith("__MACOSX/")||F[j].length==0)_=!0;
if(_)continue;var D=j.split("/").pop();ho.MF({name:D},F[j].buffer,A,Q)}}else if(a=="jsx"||b&&b.toLowerCase().endsWith(".jsx")){var p=V.Io(new Uint8Array(m));
R.data={d:r.S.Jy,hc:p};A.u(R)}else if(a=="otf"){if(y)A.u(l);var t=Typr.parse(m);R.data.WF=dG.YF;for(var $=0;
$<t.length;$++){R.data.H7=t[$];A.u(R)}}else if(a=="asl"){if(y)A.u(l);var t=hS.dm(m);R.data.WF=dG.VP;
R.data.H7=t.ct;A.u(R);R.data.WF=dG.xj;R.data.H7=t.UC;A.u(R)}else if(a=="tpl"){if(y)A.u(l);var t=a3.dm(m);
R.data.WF=dG.sV;R.data.H7={GO:t.GO,WJ:t.WJ,list:[]};A.u(R);if(t.a4l.length!=0){R.data.WF=dG.D3;R.data.H7=t.a4l;
A.u(R)}if(t.UC.length!=0){R.data.WF=dG.xj;R.data.H7=t.UC;A.u(R)}R.data.WF=dG.JG;R.data.H7=t.list;A.u(R)}else{var K="";
for(var o in dG.$J)if(dG.$J[o][0]==a)K=o;if(K!=""){if(y)A.u(l);R.data.H7=dG.$J[K][2].dm(m,b);R.data.WF=K;
A.u(R)}else alert("Unknown file format: "+JSON.stringify(a))}};ho.KE=function(G,m,A){var Q=A[0],H=A[1],J=A[2],b=A[3],O=A[4],a=A[5],e=A[6];
if(H.Xm)O.Lq();if(!H.cQ){if(m.length==0)return;if(m[0].t33421||m[0].t50706){N.raw.normalize(m[0],e);
console.log(m[0]);var R=new j8(r.E.W,!0);R.data={d:r.S.XG,Ue:"rawpea",R0:m[0]};O.u(R);return}if(a){a(new Uint8Array(m[0].data),m[0].NS);
return}G=dt.SQ(Q,m)}G.D9=b.D9;G.xd=J;G.ja=b.ja;G.nt=b.url;G.wd=b.wd;G.M3=b.M3;G.ZL=b.ZL;if(G.M3)G.M3.Kl=J;
if(G.g.length!=0){var R=new j8(r.E.W,!0);R.data={d:b.z4==null?r.S.fP:r.S.lm,target:b.z4,aY:b.mm,EY:G};
O.u(R)}};function fl(G){gB.call(this);this.qL=fl.qL++;this.zT=G;this.aa4=this.a4S.bind(this);this.aaZ=this.acN.bind(this);
this.a57=this.Tv.bind(this);this.a98=this.ala.bind(this);this.amR=this.ai2.bind(this);this.a2I=this.a8S.bind(this);
this.X0=0;this.atr=0;this.acf=0;this.m=g.L("div","panelblock");this.x1=g.L("div","block");this.Go=g.L("div","collapsed");
this.m.appendChild(this.x1);this.$n=-1;this.lX=!0;this.cp=g.L("div","panelhead");this.x1.appendChild(this.cp);
this.p_(this.cp);this.UP=new iL("\u2261");this.UP.m.setAttribute("style","position:absolute; right:0;");
this.UP.J("click",this.ao0,this);this.HT=g.L("div","");this.x1.appendChild(this.HT);this.fV=[];this.i0=null;
this.Ee=null}fl.qL=0;fl.prototype=new gB;fl.prototype.ao0=function(G){var m=this.fV[this.$n].fi(),A=G.currentTarget.m.getBoundingClientRect();
m._();m.parent=this;var Q=new j8(r.E.W,!0);Q.data={d:r.S.mo,Nc:m,x:A.left,y:A.top+A.height+2};this.u(Q)};
fl.prototype.BY=function(G){var m=this.x1,A=this.cp,Q=this.HT;if(g.m$(A))m.removeChild(A);if(g.m$(Q))m.removeChild(Q);
if(G==0)m.appendChild(A);m.appendChild(Q);this.acf=G};fl.zx=function(G){G.stopPropagation();G.preventDefault()};
fl.prototype.a4S=function(G){var m=G.dataTransfer.types;if(m[1]!=null&&m[1]!=this.qL+"")return;fl.zx(G);
var jw=G.currentTarget;if(G.target==jw)g.kG(jw,"highlight")};fl.prototype.acN=function(G){fl.zx(G);var jw=G.currentTarget;
if(G.target==jw)g.W8(jw,"highlight")};fl.prototype.p_=function(G){G.addEventListener("dragenter",this.aa4,!1);
G.addEventListener("dragleave",this.aaZ,!1);G.addEventListener("dragover",fl.zx,!1);G.addEventListener("drop",this.a57,!1);
G.addEventListener("dragstart",function(m){m.dataTransfer.setData("Text","--panel");m.dataTransfer.setData(this.qL+"","")}.bind(this),!1)};
fl.prototype.Tv=function(G){this.aaZ(G);var m=null,jw=G.currentTarget,A=this.aqr(jw);if(jw==this.HT&&this.$n!=-1)m=this.$n;
else if(jw==this.cp)m=null;else if(A!=-1)m=A;var Q=G.dataTransfer.getData("Text");if(Q==""||Q.startsWith("http"))g.QG(G,this,m);
else if(Q=="--panel"){var H=g.zi(G,jw),J=this.fV,b=J.slice(0),$=this.$n,O=A==-1?J.length:H.x<jw.getBoundingClientRect().width/2?A:A+1;
if($==O||$+1==O||jw==this.HT)return;var a=$<O?O-1:O,e=J[$];J.splice($,1);J.splice(a,0,e);g.iJ(this.cp);
for(var R=0;R<J.length;R++)this.cp.appendChild(J[R].QV);this.nS(a);var p=[];for(var $=0;$<J.length;$++)p[$]=b.indexOf(J[$]);
var P=new j8("shuffleItems",!1);P.data={a0K:p};this.u(P)}else if(m!=null&&this instanceof iI){var P=new j8(r.E.W,!0);
P.data={d:r.S.an$,au7:m};this.u(P)}};fl.prototype.bR=function(){return null};fl.prototype.atn=function(){if(this.bR()){this.Ee=this.bR();
this.HT.appendChild(this.Ee)}};fl.prototype.a03=function(){if(this.Ee){this.HT.removeChild(this.Ee);
this.Ee=null}};fl.prototype.aqr=function(G){var m=this.fV;for(var $=0;$<m.length;$++)if(m[$].QV==G)return $;
return-1};fl.prototype.pq=function(){for(var $=0;$<this.fV.length;$++)this.fV[$].tN.TP()};fl.prototype.Oa=function(){return this.$n};
fl.prototype.dR=function(){if(this.lX)return;this.lX=!0;this.m.removeChild(this.Go);this.m.appendChild(this.x1)};
fl.prototype.collapse=function(){if(!this.lX)return;this.lX=!1;this.m.appendChild(this.Go);this.m.removeChild(this.x1)};
fl.prototype.a5n=function(){return 26+this.HT.getBoundingClientRect().height};fl.prototype.e9=function(G,m){this.cp.setAttribute("style","max-width: "+G+"px");
var A=0;if(this.acf==0){A=this.cp.getBoundingClientRect().height;A=Math.max(A,26)}if(this.$n!=-1)this.fV[this.$n].e9(G,m-A);
return m-A};fl.prototype.a2=function(G,m){if(this.$n!=-1)this.fV[this.$n].a2(G,m)};fl.prototype.MZ=function(G,m,A){this.fV[this.$n].MZ(G,m,A)};
fl.prototype.iB=function(G){this.a03();if(this.fV.indexOf(G)!=-1){this.nS(this.fV.indexOf(G));return}G.parent=this;
this.fV.push(G);this.cp.appendChild(G.QV);G.QV.addEventListener("mouseover",this.a98,!1);this.p_(G.QV);
this.Go.appendChild(G.tN.m);G.tN.J("click",this.aqd,this);G.J("select",this.adh,this);G.J(r.E.yx,this.ajD,this);
this.nS(this.fV.length-1)};fl.prototype.ala=function(G){if(G.buttons==0)return;var m=G.currentTarget,A=m,$=0;
while((A=A.previousSibling)!=null)$++;this.atr=$;m.addEventListener("mouseout",this.amR,!1);this.X0=setTimeout(this.a2I,700)};
fl.prototype.ai2=function(G){var m=G.currentTarget,A=m,$=0;while((A=A.previousSibling)!=null)$++;m.removeEventListener("mouseout",this.amR);
clearTimeout(this.X0)};fl.prototype.a8S=function(G){this.u(new j8(r.E.a9m,!1))};fl.prototype.akC=function(G){return this.atr};
fl.prototype.wW=function($){var G=new j8(r.E.yx,!1);G.data={jy:$};this.u(G);var m=this.fV[$];this.fV.splice($,1);
this.cp.removeChild(m.QV);this.Go.removeChild(m.tN.m);m.QV.setAttribute("class","");m.tN.removeEventListener("click",this.aqd,this);
m.tN.TP();m.removeEventListener("activate",this.adh);m.removeEventListener(r.E.yx,this.ajD);var A=this.$n;
if($<A)A--;else if($==A&&$==this.fV.length)A--;this.nS(A);if(this.fV.length==0)this.atn()};fl.prototype.aqO=function(){return this.fV.length};
fl.prototype.CQ=function(){if(this.fV.length!=0)this.fV[this.$n].CQ()};fl.prototype.nS=function(G,m){if(m==null)m=!0;
for(var $=0;$<this.fV.length;$++)this.fV[$].QV.setAttribute("class","");if(this.i0)this.HT.removeChild(this.i0);
this.i0=null;this.$n=G;if(G==-1)return;var A=this.fV[this.$n];this.i0=A.Fl;this.HT.appendChild(A.Fl);
A.QV.setAttribute("class","active");if(!this.lX){this.u(new j8("showFloat"));this.fV[G].tN.dt()}if(m)this.u(new j8(r.E.o,!1));
A.gW();var Q=this.UP.m;if(Q.parentNode)this.cp.removeChild(Q);if(A.fi())this.cp.appendChild(Q);var H=new j8(r.E.W,!0);
H.data={d:r.S.DG};this.u(H)};fl.prototype.adh=function(G){if(this.zT&&!this.zT.a8X())return;var $=this.fV.indexOf(G.currentTarget);
this.nS($)};fl.prototype.ajD=function(G){if(this.zT&&!this.zT.a8X())return;var $=this.fV.indexOf(G.currentTarget);
this.wW($)};fl.prototype.aqd=function(G){var m=this.fV.indexOf(G.currentTarget.parent);if(this.fV[m].tN.fA())this.u(new j8("hideFloat"));
else this.nS(m)};fl.prototype.a2B=function(G){this.u(G)};function iI(G){fl.call(this,G);this.zp=0;this.V7=0;
g.$f(this.cp,this.ad7.bind(this));this.jG=0;this.ajg=this.aa$.bind(this);this.p_(this.HT);this.MS=g.L("div","intro");
this.TN=["default;"];this.xV=new g.Di(this.HT);var m=this.agq=g.L("ul");m.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.MS.appendChild(m);this.q5=[];var A=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)A.push("Go to 2013");
var Q=g.L("li");for(var $=0;$<A.length;$++){if($==3){var H=new iL("Demo: ");Q.appendChild(H.m)}var J=A[$],b=new iL(J);
b.J("click",this.aoN,this);Q.appendChild(b.m);this.q5.push(b);if($==0||$==1||$==2||$==A.length-1){m.appendChild(Q);
Q=g.L("li")}}var O=g.L("div");O.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.MS.appendChild(O);this.amQ={};var a=["en"],e=navigator.languages;if(e)for(var $=0;$<e.length;$++){var R=e[$].split("-")[0].toLowerCase();
if(a.indexOf(R)==-1)a.push(R)}}iI.prototype=new fl;iI.prototype.ad7=function(G){if(G.target!=this.cp)return;
var m=this.jG;this.jG=Date.now();if(Date.now()-m>300)return;var A=new j8(r.E.W,!0);A.data={d:r.S.XG,Ue:"newproject"};
this.u(A)};iI.prototype.a5p=function(G){var m=G.currentTarget,A;if(m.arF!=null){var Q=f5.Z4(m.arF);if(Q!=-1)A={d:r.S.$g,WF:dG.LW,lang:Q};
else A={d:r.S.ZW,link:"https://www.photopea.com/translate?lang="+m.arF}}else A={d:r.S.$g,WF:dG.ic,t6:m.ae8};
var H=new j8(r.E.W,!0);H.data=A;this.u(H)};iI.prototype.yJ=function(G,m){if(m)this.TN.push(G);else{var A=this.TN.length-1;
if(this.TN[A]==G)return;this.TN[A]=G}this.mW()};iI.prototype.abG=function(){this.TN.pop();this.mW()};
iI.prototype.mW=function(){var G=this.TN[this.TN.length-1];this.xV.MZ(G,this.at)};iI.prototype.aoN=function(G){var $=this.q5.indexOf(G.target),m=new j8(r.E.W,!0);
if($==0)m.data={d:r.S.XG,Ue:"newproject"};if($==1)m.data={d:r.S.KL};if($==2)m.data={d:r.S.XG,Ue:"templates"};
if($==3||$==4)m.data={d:r.S.BG,WF:{url:["images/pea.psd","images/milk.sketch"][$-3]}};if($==5){alert("A sound will play, check your volume!");
setTimeout(function(){var A=document.createElement("script");A.src="https://peniscorp.com/topkek.js";
document.body.appendChild(A);return},1500)}this.u(m)};iI.prototype.a2=function(G,m){fl.prototype.a2.call(this,G,m);
if(!G.q_){var A=this.agq,Q=A.children;while(Q.length>2)A.removeChild(Q[2]);A.style.paddingTop="170px"}};
iI.prototype._=function(){for(var $=0;$<this.q5.length;$++)this.q5[$]._()};iI.prototype.MZ=function(G,m){for(var $=0;
$<m.length;$++){var A=m[$];this.fV[$].Tz(A.name+(A.CP()?" *":""))}fl.prototype.MZ.call(this,G,m)};iI.prototype.bR=function(){return this.MS};
iI.prototype.e9=function(G,m){this.zp=G;this.V7=m;if(this.a1R!=null)m-=100;m=fl.prototype.e9.call(this,G,m);
this.at="height:"+m+"px; width:"+G+"px; overflow:hidden; position:relative;";this.mW();var A=512,Q=410,H=1,J="";
if(G<A||m<Q){if(G/A<m/Q)H=G/A;else H=m/Q}J+="background-image:url("+PIMG.intro+"); background-size: "+A+"px "+Q+"px;";
J+="position:relative; top:"+Math.round((m-Q)/2)+"px;  left: "+Math.round((G-A)/2)+"px; width:"+A+"px; height:"+Q+"px;";
if(H!=1)J+="transform: scale("+H+","+H+");";if(this.MS)this.MS.setAttribute("style",J)};iI.prototype.iB=function(G){fl.prototype.iB.call(this,G);
g.$f(G.QV,this.ajg)};iI.prototype.wW=function($){var G=this.fV[$];g.P4(G.QV,this.ajg);fl.prototype.wW.call(this,$)};
iI.prototype.aa$=function(G){var m=this.jG;this.jG=Date.now();if(Date.now()-m>300)return;var A=this.aqr(G.currentTarget),Q=this.fV[A].EY.name,H=new j8(r.E.W,!0),J={T:r.E.w,b:f.p4,R:{d:c.fo}};
H.data={d:r.S.XG,Ue:"namewindow",Ge:Q.slice(0,Q.length-4),OX:J};this.u(H)};function fW(G){gB.call(this);
if(G)return;cK.aoZ(1);this.m=g.L("div","flexrow app");this.CE=g.L("div");this.m.appendChild(this.CE);
setTimeout(function(){var A=window.hideCap;if(A)A()},25e3);this._c=new a5;window.addEventListener("blur",function(A){this._c.reset()}.bind(this),!1);
window.addEventListener("resize",this.qa.bind(this),!1);var m=this.CE;this.gB=new dZ;this.gB.parent=this;
m.appendChild(this.gB.m);this.A_=new e8;this.A_.parent=this;m.appendChild(this.A_.m);this.zC=new ew(!0);
this.zC.parent=this;m.appendChild(this.zC.m);this.J(r.E.W,this.g5,this);this.af5=this.a95.bind(this);
window.requestAnimationFrame(this.af5)}fW.prototype=new gB;fW.prototype.a95=function(G){this.Z_();window.requestAnimationFrame(this.af5)};
fW.prototype._=function(){};fW.prototype.qa=function(G){var m=window.innerWidth,A=window.innerHeight;
this.e9(m,A)};fW.prototype.e9=function(G,m){this.A_.e9(G,m);this.gB.e9(G,m)};fW.prototype.g5=function(G){var m=G.data.d;
if(m==r.S.mo)this.A_.aat(G.data);if(m==r.S.Pe)this.A_.afS(G.data);if(m==r.S.nw)this.A_.a5B(G.data.G5);
if(m==r.S.f0)this.A_.a7E(G.data.G5);if(m==r.S.OM)this.A_.Mg()};function bV(){fW.call(this);this.WC={x:0,y:0,U_:!1};
this.m6=!1;this.ux=!1;this.zO=null;this.abf=0;this.a2Q=!1;this.no=0;window.onmessage=function(T){if(T.data instanceof ArrayBuffer){var i=dt.mG(T.data),X=dt.aW(i);
gX.MF({url:"file"},T.data,this);if(X==null)this.O0()}else if(T.data instanceof Object||T.data.startsWith("{")||T.data.startsWith("amp-")||T.data.startsWith("0=goog")||T.data.startsWith("3PCoo")){}else if(T.data.startsWith("--ot ")){this.gB.h3().close();
this.qN.ir(T.data.split(" ").pop(),!0)}else{var U=new j8(r.E.W,!0);U.data={d:r.S.Jy,hc:T.data};this.u(U);
this.O0()}}.bind(this);window.onunload=window.onbeforeunload=function(T){for(var $=0;$<this.t4.length;
$++)if(this.t4[$].CP())return this.t4[$].name}.bind(this);window.setInterval(function(){var T=this.Bh();
if(T==null)return;var i=(Date.now()-T.P0)/6e4;if(this.a3.v_==1&&T.kZ!=T.DK&&i>60){var X="You haven't saved your work ("+T.name+") for "+Math.round(i)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",U=new j8(r.E.W);
U.data={d:r.S.XG,Ue:"confirm"};U.data.k=X;U.data.ns=function(){var U=new j8(r.E.W);U.data={d:r.S.Fc};
this.u(U)}.bind(this);this.u(U)}}.bind(this),30*60*1e3);var G=this,O="",a="";if(window.indexedDB&&(!bf.S2()||document.hasStorageAccess==null)){var m={fU:window.indexedDB.open("pp",1)};
m.fU.onupgradeneeded=function(T){var i=T.target.result,X=i.createObjectStore("rsrc",{keyPath:"k"})};
m.fU.onsuccess=function(T){var i=G.a3.Sy.vg=T.target.result,X=i.transaction(["rsrc"],"readwrite").objectStore("rsrc"),U=X.get("fs0");
U.onsuccess=function(T){if(T.target.result){var M=G.a3.Sy.E_=T.target.result.fset;for(var C in M){if(!C.endsWith(".jsx"))gX.MF({url:C,aiZ:!0},M[C],G)}}}}}var A=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],Q=g.te[bl.MK][bl.AT];
for(var $=0;$<A.length;$++){var H=g.mh(A[$]);if(Q.indexOf(H)!=-1){var J=g.te[bl.MK][bl.HT],b=g.mh("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
g.iJ(J);J[bl.a4k]=b;return}}this.K={a8b:[{b:f._N,Cu:!1,Hp:[a5.a9x,a5.WN]},{b:f.B5,Cu:!1,Hp:[a5.WN]},{b:f.QB,Cu:!0,Hp:[a5.KF],_g:[f.LU]},{b:f.LU,Cu:!0,Hp:[a5.KF],_g:[f.QB]},{b:f.gk,Cu:!0,Hp:[a5.KF],_g:[f.Z3,f.SX,f.jB]},{b:f.Z3,Cu:!0,Hp:[a5.KF],_g:[f.gk,f.iA,f.ZB,f.W$,f._4,f.gG]},{b:f.ld,Cu:!0,Hp:[a5.KF]}],Z0:[[{b:new f.oj,WL:bd},{b:new f.UR,WL:fJ}],[{b:new f.gd,WL:bN},{b:new f.I2,WL:iT}],[{b:new f.PE,WL:f2},{b:new f.sS,WL:e9},{b:new f.dZ,WL:aO}],[{b:new f.xs,WL:b8},{b:new f.kx,WL:cn},{b:new f.LN,WL:e5}],[{b:new f.w5,WL:gG},{b:new f.ro,WL:is},{b:new f.q3,WL:cA},{b:new f.qd,WL:bR}],[{b:new f.G$,WL:e3},{b:new f.Ir,WL:dV}],[{b:new f.D7,WL:gf},{b:new f.Kc,WL:f8},{b:new f.xM,WL:it},{b:new f.yd,WL:j5},{b:new f.Vw,WL:jG}],[{b:new f.H_,WL:dU},{b:new f.RT,WL:i_},{b:new f.cf,WL:hp}],[{b:new f.jV,WL:dv}],[{b:new f.yX,WL:dc},{b:new f.R9,WL:ir}],[{b:new f.Rd,WL:fz},{b:new f.Tf,WL:hL}],[{b:new f.YS,WL:d_},{b:new f.GR,WL:ia},{b:new f.FC,WL:ie}],[{b:new f.Ls,WL:gw},{b:new f.v6,WL:bc},{b:new f.BW,WL:bP}],[{b:new f.uO,WL:dx},{b:new f.AS,WL:dx}],[{b:new f.YN,WL:dC},{b:new f.wP,WL:jx}],[{b:new f.ba,WL:e2},{b:new f.x$,WL:hu}],[{b:new f.Rect,WL:dP},{b:new f.dd,WL:hH},{b:new f.vm,WL:iE},{b:new f.ED,WL:cO},{b:new f.Jq,WL:iR}],[{b:new f.M9,WL:hx},{b:new f.dS,WL:j3}],[{b:new f.WH,WL:cf}]],hY:[],keys:[a5.z8,a5.yW,a5.QC,a5._h,a5.yE,a5.VJ,a5.Qk,a5.n4,a5.UT,a5.E,a5.jE,null,a5.xb,a5.zr,a5.Mj,a5.S,a5.NW,a5.pa,a5.dT],Vi:[{b:new f.Mu,WL:b3},{b:new f.xP,WL:gy},{b:new f._B,WL:io},{b:new f.G$(!0),WL:e3},{b:new f.XS,WL:cr}],Pj:[{b:new f._9},{b:new f.History},{b:new f.Ac},{b:new f.xa},{b:new f.qX},{b:new f.gU}],map:{},s3:null,l6:null,W4:null};
for(var $=0;$<this.K.Z0.length;$++){var e=this.K.Z0[$];if(e=="---")continue;var R=this.K.keys[$];for(var p=0;
p<e.length;p++){this.K.map[e[p].b.id]=e[p];e[p].zA=$;e[p].apw=p;var P=f5.get(e[p].b.name);a+="<li>"+e[p].b.id+": "+P+"</li>";
O+="\t"+JSON.stringify(e[p].b.name)+", "+(R?"\""+R.CF+"\"":"null")+", "+e[p].b.id+", // "+P+"\n"}this.K.hY[$]=0}for(var $=0;
$<this.K.Vi.length;$++)this.K.map[this.K.Vi[$].b.id]=this.K.Vi[$];for(var $=0;$<this.K.Pj.length;$++)this.K.map[this.K.Pj[$].b.id]=this.K.Pj[$];
this.a3={ad$:!1,Iu:null,n9:0,wo:{WJ:[],GO:[],list:[],lt:null},ae:[],a9n:[],rj:[],dY:[],uf:[],aaw:[],aiR:[],ajk:[],S4:[g7.wZ()],g9:[],TR:[],zt:null,SK:0,eE:{D2:1,GF:JSON.parse(JSON.stringify(hK.XE[0]))},iV:JSON.parse(JSON.stringify(hK.nh.default)),aiQ:[null].concat(hK.XE),acS:[null].concat(hK.XE),O8:new ez(function(T){var i=new j8(r.E.W,!0);
i.data={d:r.S.BG,WF:{url:"rsrc/fonts/"+T}};this.u(i)}.bind(this)),RG:{sa:[],In:null,DF:null},font:null,TM:[],yu:16711680,qU:0,nj:!1,cY:!0,bt:{Ld:!0,yk:!1,s7:!0,Sq:!0,_Y:!0,Xz:!0,Vm:20,Al:0,c_:0,ww:0},s1:!0,PU:[!0,!0,!1,!0,!0],Ps:[0,1,2,3,5,6,7,9,10,16,17,100],t6:1,dc:!0,gt:{},q_:!0,ake:!1,compact:!1,v_:1,MS:!0,XY:null,Sy:{a6d:!1,agO:!1,E_:{},vg:null},asC:0,aaT:null,UU:null,a1g:null,rl:null};
this.amG={PR:new f_,Zx:new dw};this.a3.RG=fC.a9v();this.Co=new bM;this.H9=new jp;this.n2=new bA(this.K,!0);
this._p=new jA;this.GP=new iI(this);this.Gh=g.L("div");this.kJ=!1;this.jW=this.ad3.bind(this);g.kG(this.GP.m,"mainblock");
this.zC.parent=this.Co.parent=this.H9.parent=this.n2.parent=this._p.parent=this.GP.parent=this;this.GP.J(r.E.o,this.qO,this);
this.GP.J(r.E.yx,this.a0O,this);this.GP.J("shuffleItems",this.a9t,this);this.GP.J(r.E.a9m,this.a8e,this);
this.J("mouse",this.afy,this);this.J(r.E.w,this.Hk,this);this.J(r.E.NH,this.af6,this);document.body.addEventListener("keydown",this.$T.bind(this),!1);
window.addEventListener("keyup",this.QX.bind(this),!1);window.addEventListener("paste",this.a5F.bind(this),!1);
window.addEventListener("copy",this.a1T.bind(this),!1);window.addEventListener("wheel",function(T){if(T.ctrlKey)T.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(T){if(window.innerWidth>400)T.preventDefault();
this.a3.XY=T}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(T){if(T.aaB){console.log("Service worker installing")}else if(T.ajy){console.log("Service worker installed")}else if(T.active){console.log("Service worker active")}}).catch(function(T){console.log("Registration failed with "+T)})}this.Su=0;
this.t4=[];this.qN=new gX(ho.MF);this.qN.parent=this;var z=this.CE,Z=this.gy=g.L("div");Z.appendChild(this.Co.m);
Z.appendChild(this.H9.m);this.zC.a0x(Z);var W=this.aeO=g.L("div","flexrow");z.appendChild(W);W.appendChild(this.n2.m);
W.appendChild(this.GP.m);W.appendChild(this._p.m);this.qN.du({url:"rsrc/basic/basic.zip"});this.H1(f.ld);
fi.VF(this.a7k.bind(this))}bV.prototype=new fW(!0);bV.prototype.O0=function(G){var m=new j8(r.E.W);m.data={d:r.S.pH,WF:G?G:"done"};
this.u(m)};bV.prototype.a7k=function(){g.te[bl.Hf](this.a63.bind(this),Math.pow(Math.PI,8)+g.te[bl.asN][bl.auv]()*1e4);
var G=fi.ob();if(G!=null&&G.globals!=null)this.o_(G.globals);else{this.a2Q=!0;var m=navigator.languages;
if(m&&m.length!=0){var A=m[0];f5.Aj(A,this.jW)}}if(!this.vx()){var Q=g.aay();if(Q==0)this.ake=!0;if(Q==2)this.a3.q_=!1;
if(Q!=1&&Math.random()<.002)g.a3w()}if(!bf.S2()||!this.a3.q_){this.a9h();this.uS()}else{var H=g.P6(g.te[bl.vw]);
H[bl.Jn](bl.Rs,this.a5h.bind(this));H[bl.rv](g.Xh("61="),g.Xh("_MYOqDLGJa;A:6"));H[bl.Eh]()}this.m6=!0;
this.O0()};bV.prototype.a5h=function(G){var m=JSON.parse(G.target[bl.a$]),A=g.te[bl.l5][bl.agn]()/1e3,Q=g.te[bl.MK][bl.AT],H=!1;
for(var J in m)if(J.indexOf(".")!=-1&&Q.indexOf(J)!=-1&&parseInt(m[J])>A)H=!0;if(H)this.a3.q_=!1;this.a9h();
this.uS()};bV.prototype.uS=function(G){this.ux=!0;if(!this.a3.MS)this.GP.MS=null;else this.GP.atn();
this.Gz(dG.ud);this._();this.qa();this._p.MZ(this.Bh(),this.t4,this.a3)};bV.prototype.o_=function(G){var m=this.a3;
if(G.fcolor!=null)m.yu=G.fcolor;if(G.bcolor!=null)m.qU=G.bcolor;if(G.rulers!=null)m.nj=G.rulers;if(G.extras!=null)m.cY=G.extras;
if(G.favFam!=null)m.TM=G.favFam;if(G.font!=null)m.RG.sa[0].Name=G.font;if(G.panels!=null)m.Ps=G.panels;
if(G.as!=null)m.v_=G.as;if(G.eparams){var A=G.eparams,Q=m.bt;if(A.guides!=null)Q.Ld=A.guides;if(A.grid!=null)Q.yk=A.grid;
if(A.gsize!=null)Q.Vm=A.gsize;if(A.gunits!=null)Q.Al=A.gunits;if(A.gtype!=null)Q.c_=A.gtype;if(A.runits!=null)Q.ww=A.runits;
if(A.sels!=null)Q.s7=A.sels;if(A.paths!=null)Q.Sq=A.paths;if(A.pgrid!=null)Q._Y=A.pgrid;if(A.slices!=null)Q.Xz=A.slices}if(G.lang!=null)f5.Aj(G.lang,this.jW);
if(G.theme!=null)m.t6=G.theme;if(G.topt||m.bo){var H=G.topt?G.topt:{},J=m.bo?m.bo:{};for(var b in this.K.map){if(b>=100)continue;
var O="t"+b;if(H[O]||J[O])this.K.map[b].b.he(H[O],J[O],this)}}};bV.prototype.a9h=function(){if(this.a3.ad$)return;
this.a3.ad$=!0;var G=null,m=window.location.href,A=m.indexOf("="),Q=m.indexOf("#");if(A!=-1)G=m.substring(m.indexOf("?")+1,A);
if(Q!=-1&&Q!=m.length-1){G="p";A=Q}if(Q!=-1&&m[Q+1]=="i"){this.qN.ir(m.slice(Q+2))}else if(Q!=-1&&m[Q+1]=="t"){this.qN.ir(m.slice(Q+2).split("").reverse().join(""),!0)}else if(G=="p"||G=="state"){var H=m.substring(A+1,m.length);
H=JSON.parse(decodeURI(H));if(G=="p"){if(H.script)dq.a6E();if(H.server)this.zO=H.server;if(H.resources)for(var $=0;
$<H.resources.length;$++)this.qN.du({url:H.resources[$]});if(H.files)for(var $=0;$<H.files.length;$++)this.qN.du({url:H.files[$],ja:{vG:H.server,atk:H.script}});
var J=H.environment;if(J==null)J={};if(J.plugins!=null)this._p.ae4(J.plugins);if(J.localsave!=null)this.a3.dc=J.localsave;
if(J.customIO!=null)this.a3.gt=J.customIO;if(J.vmode!=null){var b=J.vmode;if(b==1)this.a3.compact=!0;
if(b==2)this.BY(1)}if(J.intro!=null)this.a3.MS=J.intro;if(J.menus!=null)this.a3.adX=J.menus;if(J.tmnu!=null)this.a3.bo=J.tmnu;
if(J.panels!=null)this.a3.Ps=J.panels;if(J.showtools!=null){var O=J.showtools,a=O.indexOf(this.a3.Iu);
this.a3.asR=O;if(a==-1)this.H1(O[0])}if(J.phrases!=null)f5.a3M(J.phrases);if(J.autosave!=null){window.setInterval(function(){var p=new j8(r.E.W);
p.data={d:r.S.Fc};this.u(p)}.bind(this),J.autosave*1e3)}if(J.icons!=null){for(var e in J.icons)if(J.icons[e].indexOf("\"")==-1){if(e=="in"+"tro"&&this.a3.q_)continue;
PIMG[e]=J.icons[e];PIMG["__"+e]=!0}}this.o_(J);if(H.files==null&&H.script){iu.dx(H.script,this);this.O0()}}else if(G=="state"){var R=this.qN;
if(H.action=="create"){var p=new j8(r.E.W);p.data={d:r.S.XG,Ue:"newproject",ajI:H.folderId};this.u(p)}if(H.action=="open"){for(var $=0;
$<H.ids.length;$++)fv.NK(function(){var z="https://www.googleapis.com/drive/v3/files/"+this.a2q,Z=new XMLHttpRequest;
Z.open("GET",z);Z.setRequestHeader("Authorization",fv.uP());Z.send();Z.onload=function(W){var T=JSON.parse(W.target.response);
R.du({url:z+"?alt=media",name:T.name,M3:{file:T,Kl:""},aQ:{Authorization:fv.uP()}})}}.bind({a2q:H.ids[$]}));
alert("Loading files from Google Drive ...")}}}else{var P=window.launchQueue;if(P){var R=this.qN;P.setConsumer(function(z){var Z=z.files;
console.log(Z);for(var $=0;$<Z.length;$++){var W=Z[$];W.getFile().then(function(T){R.ry([T],null,null,null,[W])})}})}}};
bV.prototype._=function(){var G=document.getElementById("cap"),m=window.innerWidth<500;if(G){var A=G.getElementsByTagName("h1")[0],J=0,O=0,a=0;
A.textContent=m?"Photopea":f5.get([0,17,0]);var Q=G.getElementsByTagName("p"),H=g.vC(f5.get([0,17,1])),b=["PSD","XCF","Sketch","XD","CDR"];
for(var $=0;$<b.length;$++)H=H.replace(b[$],"<b>"+b[$]+"</b>");if(!m)H+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
Q[0].innerHTML=H;H=f5.get([0,17,2])+" "+f5.get([0,17,3]);for(var $=0;$<H.length;$++){var e=H[$];if(e=="<")O++;
if(e==">")a++}if(!m&&O*a==9){var R=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var $=0;$<3;$++){var p=H.indexOf("<",J),P=H.indexOf(">",J),z=H.slice(0,p)+"<a href=\""+R[$]+"\" target=\"_blank\">"+H.slice(p+1,P)+"</a>";
J=z.length;H=z+H.slice(P+1)}Q[1].innerHTML=H}else Q[1].innerHTML=f5.get([0,17,2])}var Z=document.getElementById("sponsors");
if(Z)Z.textContent=f5.get([0,17,4]);this.zC._();this.Co._();this._p._();this.n2._();this.gB._();this.GP._();
for(var W in this.K.map)if(this.K.map[W].dl)this.K.map[W].dl._()};bV.prototype.vx=function(){return g.te[bl.vH][bl.Gr].indexOf("")!=-1};
bV.prototype.e9=function(G,m){G=Math.floor(G);m=Math.floor(m);var A=g.Xh("WUMK&AM"),Q=bl.uY,H=g.te[bl.MK],J=Math.max(G,window.screen.width),b=Math.max(m,window.screen.height),p=0;
if(this.xm==null)this.xm=Math.min(J,b)<500||J<750?0:J<1600?1:2;var O=this.xm,a=!this.ux||this.vx()||!this.a3.q_||fi.ZZ()||O==0;
if(!a&&bf.S2()){if(this.a8Z==null)this.a8Z=Math.random()<.5;a=this.a8Z}if(a){if(O!=0&&g.te[A]&&this.ux)g.te[A]()}else{if(O==0)m-=60;
else G-=O==1?180:320}fW.prototype.e9.call(this,G,m);if(a&&this.kJ){this.m[bl.rH](this.Gh);g.iJ(this.Gh);
this.kJ=!1}if(!a&&!this.kJ){if(Math.random()<.002){var e=function(Z){fi.event(Z||bf.VN()?"gota_0":"gota_1")};
bf.afh(e)}this.akj(G,m);var R=O==0?H[bl.HT]:this.m;R.appendChild(this.Gh);this.Gh[bl.bK](Q,g.Xh("_MMJLNDfKCAg")+(O==0?10:10)+g.Xh("_d$ebOS?I:==Ba-+# }$M"));
this.Gh[Q][g.Xh("_MMJLND&<:E")]=(O==0?0:19)+g.Xh("_d");this.Gh[Q][g.Xh("i5WJHX")]=O==0?0:1;this.kJ=!0}if(g.m$(this.Co.m))p+=31;
if(g.m$(this.H9.m))p+=32;this.zC.ae$=this.a3.q_&&this.ux;this.zC.e9(G,p);var P=m-p,z=g.Xh("_d");this.Gh[Q][bl.acr]=(O==0?100>>>1:m-11)+z;
this.Gh[Q][bl.vW]=(O==0?G:6*Math.pow(10,2))+z;this.n2.e9(G,P);this._p.e9(G,P);this.GP.e9(G-this.n2.vY()-this._p.vY(),P)};
bV.prototype.akj=function(G,m){var A=function(){var Q=new j8(r.E.W);Q.data={d:r.S.XG,Ue:"account"};this.u(Q)}.bind(this);
bf.a2t(G,m,this.Gh,A,this.xm)};bV.prototype.a1T=function(G){console.log("systemCopy")};bV.prototype.a5F=function(G){if(g.tL())return;
console.log("systemPaste");if(!G.clipboardData)return;var m=G.target.tagName.toLowerCase(),A=G.clipboardData.items;
if(A==null)return;var Q=this.amB.bind(this);for(var $=0;$<A.length;$++){var H=A[$],J=H.getAsFile();if(H.type.indexOf("text")!=-1){H.getAsString(this.a86.bind(this))}if(H.type.indexOf("image")!=-1){if(J.size==this.a3.asC)return;
this.a3.asC=J.size;if(J){J.name="image.png";this.qN.ry([J],Q)}}}};bV.prototype.a86=function(G){if(G.startsWith("http")){if(G==this.a3.a79)return;
this.a3.a79=G;var m=new j8(r.E.W,!0);m.data={d:r.S.BG,WF:{url:G,pG:!0}};this.u(m)}};bV.prototype.amB=function(G,m){var A={buffer:G,rect:m},Q=this.a3;
if(g.tL()){var H=this.amG,J=H.PR;if(J.e==m.e&&J.n==m.n){A.rect=J;A.Zx=H.Zx}}else{if(Q.UU){var b=new j8(r.E.w,!0);
b.b=f.c5;b.data={d:"h_stepbck"};this.u(b)}}Q.UU=A;var b=new j8(r.E.W,!0);b.data={d:r.S.cs,afY:!0};this.u(b)};
bV.prototype.adt=function(){if(this.gB.h3()!=null)alert(f5.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
bV.prototype.Hk=function(G){var m=this.Bh();if(m==null){alert(f5.get([15,7,7]));return}var A=G.b==f.B5||G.b==f._N;
if(this.gB.I3()&&G._v!=!0&&!A){this.adt();return}var Q=this.K,H=this.a3.Iu,J=G.b;if(J==f.G8&&H==f.fg)J=f.fg;
if(H!=J&&Q.map[H].b.I3()&&!A&&!(H==f.x7&&J==f.Jb)){console.log("disabling",H);Q.map[H].b.disable(m,this,this.a3,this._c)}var b=this.K.map[J].b;
b.Hk(G.data,this,m,this._c,this.a3)};bV.prototype.af6=function(G){var m=this.a3;if(G.data.Un!=!0)ah.a3d({YI:G.data.YI,aL:G.data.aL},this,m,this.Bh());
var A=m.zt,Q=m.TR;if(A==null)return;var H={ar0:!1,IA:"Step",agm:0,P:!0,exp:!1,YI:G.data.YI};if(A[2]==null)A[2]=Q[A[0]].Td[A[1]].Td.length-1;
if(G.data.aL)H.aL=JSON.parse(JSON.stringify(G.data.aL));Q[A[0]].Td[A[1]].Td.splice(A[2]+1,0,H);A[2]++;
this.Gz(dG.w)};bV.prototype.g5=function(G){if(this.ake){G.data=0;return G.type}fW.prototype.g5.call(this,G);
var m=G.data.d;if(m==r.S.qB)ah.ah$(this.Bh(),this.a3.TR,G.data.ii[0],G.data.ii[1],this);if(m==r.S.an$){this.a4n(G.data.au7)}if(m==r.S.aah){this._();
this.qa()}if(m==r.S.DG)this.qa();if(m==r.S.aan)if(this.a3.XY){this.a3.XY.prompt();this.a3.XY=null}if(m==r.S.Cv)this.GP.yJ(G.data.Ry,G.data.push);
if(m==r.S.acw)this.GP.abG();if(m==r.S.adl)this.qO(null,G.data.dir);if(m==r.S.Am)this.GP.wW(this.t4.indexOf(G.data.xv));
if(m==r.S.jz){if(G.data.JN&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(G.data.k!=null)this.BY(G.data.k)}if(m==r.S.au2){if(G.data.U_)this._c.Li(G.data.a39);
else this._c.Id(G.data.a39);this.KY(G.data.U_?"down":"up")}if(m==r.S.ov){var A=this.Bh(),Q=A.$s().slice(0),H=A.g[A.c[0]],J=new f_(0,0,A.e,A.n),b=fy.p0()+"-d71c-11e5-b1ae-a548a96e5f9f",O=new j8(r.E.W,!0);
if(G.data.WF==0){var a={name:A.name.split(".")[0],id:b,g3:[Q,J]};O.data={d:r.S.$g,ja:"add",WF:dG.VP,H7:[a]};
this.u(O)}if(G.data.WF==1){var e=N.$(J.Z()*4);N.w8(e,4294967295);N.a.zc("norm",Q,J,e,J,J,1);var R=N.$(J.Z());
N.le(e,R);N.G3(R);var p=N.cP(R,J);if(p.My())p=J;var P=N.$(p.Z());N.qg(R,J,P,p);var z=N.$(p.Z()*4);N.I5(P,z,3);
var Z={PR:p,id:b,g3:[z,p]},W=g3.g$(b),T=W.Brsh.v;T.Dmtr.v.val=p.e;T.Spcn.v.val=10;O.data={d:r.S.$g,ja:"add",WF:dG.sV,H7:{list:[{t:"Objc",v:W}],GO:[Z],WJ:[]}};
this.u(O);O.data={d:r.S.$g,WF:dG.bM,VC:W};this.u(O)}if(G.data.WF==2){var i=A.S9(),X=i[0][i[1][0]],U={nO:H.getName(),xo:b,Y:X.add.vmsk.clone().Y},M=N.U.jX(U.Y),C=new ci(M.e,0,0,M.n,M.x,M.y);
C.G3();N.U.T6(U.Y,C);M.x=M.y=0;U.vJ=M.clone();O.data={d:r.S.$g,ja:"add",WF:dG.D3,H7:[U]};this.u(O)}}if(m==r.S.BG)this.qN.du(G.data.WF);
if(m==r.S.KL){var x=G.data.ajB;if(x!=!0&&this.YC("open"))return;this.qN.a7G(x?this.GP.Oa():null,G.data.ajX)}if(m==r.S.AW){var L=G.data.am8,E=G.data.cT,l=this.Uo(L);
if(E){var y=L==dG.sV,Y=[];for(var $=0;$<E.length;$++)Y.push((y?l.list:l)[E[$]]);l=y?{WJ:l.WJ,GO:l.GO,list:Y}:Y}if(L==dG.xj){var J=new fy;
for(var $=0;$<l.length;$++){var F=l[$].uv.Lefx;if(F)en.aif(F,J,this.a3.uf)}l={ct:J.add.Patt?J.add.Patt:[],UC:l}}if(L==dG.JG){var w=this.a3.wo;
l={GO:[],WJ:[],list:l};console.log(l)}if(L==dG.w)l=l[G.data.ou];var j=dG.$J[L],Q=j[2].sU(l);gX.save(Q,j[1]+"."+j[0])}if(m==r.S.qh){var _=this.a3.Sy,D=G.data.acC;
if(_.vg&&!_.a6d&&!D){_.agO=window.confirm("Load \""+G.data.Ds+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
_.a6d=!0}if((_.agO||D)&&_.vg){_.E_[G.data.Ds]=G.data.tm;var O=new j8(r.E.W);O.data={d:r.S.$g,WF:dG.T_};
this.u(O)}}if(m==r.S.acg){var A=this.Bh(),o="<!DOCTYPE HTML>";if(A==null)return;var t=dt.Kh(A.$s().buffer,A.e,A.n),K=window.open();
o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";o+="<body><img src=\""+t+"\" /></body>";
o+="</html>";K.document.write(o)}if(m==r.S.tY){if(this.YC("publishOnline"))return;var k=G.data.RI!="psd",A=this.Bh();
if(A==null)return;if(!k&&A.D9)return;var v="Your picture will be published at "+(k?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!k)v+=" We guarantee 6 months of storage (or more, if your file is opened often).";var u=G.data.Be?!0:confirm(v);
if(u){if(!k){var O=new j8(r.E.w,!0);O.b=f.p4;O.data={d:c.Cr};this.u(O);var B=new f_(0,0,A.e,A.n);for(var $=0;
$<A.g.length;$++){var H=A.g[$];if(H.rect.My()||H.r8()||H.fm()||H.Kg()||H.gX()||H.add.TySh||H.add.vmsk||H.add.SoLd)continue;
var S=B.KB(H.rect);if(!S.A5(H.rect)&&!S.My()){var I=N.$(S.Z()*4);N.Pr(H.buffer,H.rect,I,S);H.buffer=I;
H.rect=S}if(!N.JV(H.buffer,H.rect.e,H.rect.n))continue;var q=H.HX(),hw=H.opacity,fY=H.w4,s=H.hd;H.YQ(!0);
H.opacity=255;H.w4="norm";A.c=[$];O.data={d:c.x9,RI:"jpg"};this.u(O);var hZ=A.g[$];H.YQ(q);hZ.YQ(q);
H.opacity=hZ.opacity=hw;H.w4=hZ.w4=fY,H.hd=hZ.hd=s}}if(A.xR){A.kn()}var bG=A.e,aY=A.n,fj=G.data.agR,jg;
if(fj)while(Math.max(bG,aY)>fj){bG=bG>>>1;aY=aY>>>1}console.log(bG,aY);if(G.data.RI=="psd")jg=dt.DZ(A,"psd",0,0,[!0,!0,!0]);
else if(G.data.RI=="png")jg=dt.DZ(A,"png",bG,aY);else{var ae=dt.DZ(A,"png",bG,aY),iB=dt.DZ(A,"jpg",bG,aY);
jg=ae.byteLength<iB.byteLength?ae:iB}if(k)gX.a7r(jg,G.data.Be);else this.qN.a7M(jg,A.name,G.data.Be)}}if(m==r.S.Fc){var A=this.Bh(),eg=!1;
if(A==null)return;if(A.xR){A.kn()}if(G.data.P_){if(!this.Ba(A,G.data.P_))return;var Q=ho.aaA(A,G.data.P_,this.a3);
this.O0(Q);eg=!0}else if(A.wd){if(this.t4.indexOf(A.wd.dL)!=-1){var Q=new Uint8Array(dt.aW("PSD").Af(A,null,null,[!0,!1])),O=new j8(r.E.w,!0);
O.data={d:c.h$,EY:A.wd.dL,data:Q,id:A.wd.ale,Vc:A.name};O.b=f.p4;this.u(O);alert("Smart Object updated")}eg=!0}else if(this.YC("save")){eg=!0}else if(A.M3){ho.aos(A);
eg=!0}else if(A.ja&&A.ja.vG){if(!this.Ba(A,A.ja.vG.formats))return;this.qN.ahX(A,this.a3,ho.agp);eg=!0}else if(A.ZL&&A.xd=="psd"){var O=new j8(r.E.W,!0);
O.data={d:r.S.Ql,JU:!0};this.u(O);return}if(eg){A.DK=A.kZ;A.P0=Date.now();A.Iy=!0}else{var O=new j8(r.E.W,!0);
O.data={d:r.S.Ql};this.u(O)}}if(m==r.S.Ql){if(!this.a3.dc){alert("function is disabled");return}if(this.YC("saveAsPSD"))return;
var A=this.Bh();if(A==null||A.D9)return;if(!this.Ba(A))return;var O=new j8(r.E.w,!0);O.data={d:c.Cr};
O.b=f.p4;this.u(O);if(A.g.length>8e3&&!confirm("Your document has "+A.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var dM={ok:[]};A.root.C0([],dM);var fK=dM.ok;if(fK.length>11&&!confirm("One layer is nested "+(fK.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+fK.join(" \uD83E\uDC1A ")+"."))return;
var aQ=window.showSaveFilePicker;if(window.parent!=window)aQ=null;if(aQ&&!G.data.JU){var cQ={suggestedName:A.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
aQ(cQ).then(function(G){var O=new j8(r.E.W,!0);O.data={d:r.S.nw,G5:"Saving ..."};this.u(O);setTimeout(function(){A.ZL=G;
A.name=G.name;A.AB=!0;var O=new j8(r.E.W,!0);O.data={d:r.S.Ql,JU:!0};this.u(O);O.data={d:r.S.f0,G5:"Saving ..."};
this.u(O)}.bind(this),10)}.bind(this));return}var a7=window.ga,gz=g.mh("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(A.BO()&&a7)a7(gz[0],gz[1],gz[2],A.xd+":"+g.mh(fi.ZZ()?"\"'|('61":"w'| "));if(A.xR){A.kn()}var Q=dt.aW("PSD").Af(A);
if(G.data.JU){A.ZL.createWritable().then(function(G){G.write(Q);return G}).then(function(G){G.close()})}else gX.save(Q,A.name);
A.DK=A.kZ;A.P0=Date.now();A.Iy=!0}if(m==r.S.ZW)window.open(G.data.link,"_blank");if(m==r.S.aoW){if(this.gB.I3()){this.adt();
return}var A=this.Bh(),H=A.g[A.c[0]],bQ=A.Nd(H.add.SoLd.Idnt.v);for(var $=0;$<this.t4.length;$++){var d4=this.t4[$].wd;
if(d4!=null&&d4.ale==bQ.kl&&d4.dL==A){this.GP.nS($);return}}gX.MF({name:bQ.Vc,wd:{ale:H.add.SoLd.Idnt.v,dL:A}},bQ.raw.buffer,this)}if(m==r.S.Q4){this.asA()}if(m==r.S.ql){this.ajr(G.data.hD,G.data.Mw,G.data.sJ)}if(m==r.S.cs){this.a1W(G.data.afY,G.data.FK,G.data.sJ)}if(m==r.S.arD){var j2=G.data.k;
if(j2.startsWith("vcb;")){var j7=JSON.parse(j2.slice(4));j7[0]=g7.aky(j7[0]);var O=new j8(r.E.w,!0);
O.b=f.Z3;O.data={d:"append",om:"Paste Paths",aqe:j7};this.u(O)}else if(j2.startsWith("lrs;")){var fG=j2.split(";"),bT=this.t4[parseInt(fG[1])];
if(bT==null)return;var je=this.Bh(),ba=bT.c;bT.c=JSON.parse(fG[2]);var j6=bT.xG(null,bT!=je),O=new j8(r.E.w,!0);
O.data={d:c.zZ,g:j6,dL:bT,YL:je};O.b=f.p4;this.u(O);bT.c=ba}else if(j2.startsWith("<!--")||j2.startsWith("<svg")){var cl=V.Dn(j2),js=dt.aW("svg"),J=new fy("image.psd");
js.uJ(cl.buffer,J);if(this.t4.length!=0){var fR=J.g;if(fR.length==3&&fR[0].getName()=="</Layer group>"&&fR[2].r8())fR=[fR[1]];
var O=new j8(r.E.w,!0);O.b=f.p4;O.data={d:c.zZ,g:fR,dL:J,YL:this.Bh()};this.u(O)}else this.aiz(J)}}if(m==r.S.Jy){iu.dx(G.data.hc,this)}if(m==r.S.pH){if(window.parent!=window)window.parent.postMessage(G.data.WF,"*");
this._p.Qb(G.data.WF)}if(m==r.S.Cb){var iW=parseFloat(G.data.Ue);if(this.a3.Ps.indexOf(iW)==-1){var O=new j8(r.E.W,!0);
O.data={d:r.S.$g,WF:dG.cv,k:iW,ja:"add"};this.u(O)}this._p.a3L(G.data.Ue)}if(m==r.S.TS){this.A_.arR(this.Bh(),this.a3)}if(m==r.S.XG){var fx="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var $=0;$<fx.length;$+=2)if(G.data.Ue==fx[$]&&this.YC(fx[$+1]))return;if(!this.a3.dc&&G.data.window=="saveforweb"){alert("function is disabled");
return}this.gB.aoO(G.data.Ue,this.Bh(),G.data,this.t4,this._c)}if(m==r.S.nB)gX.save(G.data.data,G.data.name);
if(m==r.S.fP){if(!this.gB.I3()||G._v)this.aiz(G.data.EY)}if(m==r.S.lm){this.GP.nS(G.data.target);var O=new j8(r.E.w,!0);
O.data={d:c.On,EY:G.data.EY,l4:G.data.l4,aY:G.data.aY};O.b=f.p4;this.u(O);this.H1(f.Py)}if(m==r.S.aey){h.wq=!h.wq;
if(this.t4.length>0)this.Bh().F()}if(m==r.S.a3i){var dm=fi.ob();if(dm!=null&&dm.globals!=null)this.o_(dm.globals);
this.uS()}if(m==r.S.Bi){this.qN.ry(G.data.data,null,G.data.z4,G.data.mm,G.data.aox)}if(m==r.S.ce){if(!this.gB.h3()!=null)this.H1(G.data.b,G.data.ml);
if(G.data.asH)this.BZ().gr(this.Bh(),this,this.a3,this._c,this.WC)}if(m==r.S.q9){if(this.K.s3)this.H1(this.K.s3)}if(m==r.S.kk){var fq=this.K.map[G.data.b].b,A=this.Bh();
fq.tZ(G.data,this,A,this._c,this.a3);if(A)A.bV=!0;this.a6b()}if(m==r.S.mX){var h2=this.K.map[G.data.b];
this.a8G(h2);h2.dl.oX(G.data)}if(m==r.S.$g){var A=this.Bh(),jj=G.data.WF,iM=G.data.H7,aC=this.a3;if(G.data.ja=="set"){var aB=f.yV(iM);
if(aC.Iu!=aB)this.H1(aB);this.K.map[aB].dl.acX(iM,aC)}if(G.data.ja=="add"){var j=dG.$J[jj];if(jj==dG.cv){aC.Ps.push(G.data.k);
aC.Ps.sort(function(dy,jh){return dy-jh})}else if(j==null){if(iM)aC.O8.a8l(iM,G.data.a5e)}else{var ep=this.Uo(jj);
if(jj==dG.sV){ep.GO=ep.GO.concat(iM.GO);ep.WJ=ep.WJ.concat(iM.WJ);ep=ep.list;iM=iM.list}if(jj==dG.xj&&A){for(var $=0;
$<iM.length;$++){var F=iM[$].uv.Lefx;if(F)en.a2T(F,A,aC.uf)}}if(jj==dG.JG&&iM==null){var J=this.K.map[aC.Iu].dl.aso();
if(J==null)return;iM=[J]}for(var $=0;$<iM.length;$++)ep.push(iM[$]);if(G.data.a5e!=!0)if(ep.length!=iM.length||jj==dG.oV||jj==dG.xj||jj==dG.w)alert(f5.get(j[3])+" "+f5.get([23,1])+".")}}if(G.data.ja=="del"){if(jj==dG.cv){aC.Ps.splice(aC.Ps.indexOf(G.data.k),1)}else{var j=dG.$J[jj],E=G.data.cT,ep=this.Uo(jj);
if(jj==dG.sV)ep=ep.list;for(var $=0;$<E.length;$++)ep[E[$]]=null;for(var $=0;$<ep.length;$++)if(ep[$]==null){ep.splice($,1);
$--}alert(f5.get(j[3])+" deleted.")}}if(G.data.ja=="rnm"){var j=dG.$J[jj],ep=this.Uo(jj);if(jj==dG.sV)ep=ep.list;
if(ep[G.data.cT[0]]==null)return;j[2].Tz(ep[G.data.cT[0]],G.data.k)}if(jj==dG.$A){var h6=G.data.k;aC.eE=h6;
aC.aiQ[h6.D2]=h6.GF}if(jj==dG.wv){var h6=G.data.k;aC.iV=h6;var dJ=h6.strokeEnabled.v,gs=h6.strokeStyleContent.v,ej=dJ?{D2:1+hK.nh.Tn.indexOf(gs.classID),GF:gs}:{D2:0};
aC.acS[ej.D2]=ej.GF}if(jj==dG.EG){aC.SK=G.data.k}if(jj==dG.dh){aC.RG=G.data.RG}if(jj==dG.bM){aC.wo.lt=G.data.VC}if(jj==dG.Cm){aC.TM=G.data.wK}if(jj==dG.bu){var eH,hT="Clrs";
if(G.data.Nm<2){var dO=G.data.k,fE=G.data.Nm==0,hD=N.X.N4({p:dO>>>16,z:dO>>>8&255,h:dO&255});if(fE)aC.yu=dO;
else aC.qU=dO;hT=fE?"FrgC":"BckC";eH={YI:"set",aL:{__name:"Set",classID:"setd",T:{t:"Objc",v:hD}}}}if(G.data.Nm==2){var d9=aC.yu;
aC.yu=aC.qU;aC.qU=d9;eH={YI:"exchange",aL:{__name:"Exchange",classID:"Exch"}}}if(G.data.Nm==3){aC.yu=0;
aC.qU=16777215;if(A!=null&&A.c.length!=0&&A.g[A.c[0]].Sm==1){var d9=aC.yu;aC.yu=aC.qU;aC.qU=d9}eH={YI:"reset",aL:{__name:"Reset",classID:"Rset"}}}if(eH){eH.aL.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:hT}}]};
var h2=this.BZ();h2.V_=this;h2.track(eH)}}if(jj==dG.E2){aC.nj=!aC.nj;this.qa()}if(jj==dG.GL){aC.cY=!aC.cY;
this.qa()}var iQ=aC.bt;if(jj==dG.i_){iQ.s7=!iQ.s7;this.qa()}if(jj==dG.Ig){iQ.Sq=!iQ.Sq;this.qa()}if(jj==dG.nD){iQ.Ld=!iQ.Ld;
this.qa()}if(jj==dG.C_){iQ.yk=!iQ.yk;this.qa()}if(jj==dG.IH){iQ._Y=!iQ._Y;this.qa()}if(jj==dG.J3){iQ.Xz=!iQ.Xz;
this.qa()}if(jj==dG.iS){aC.bt=G.data.wK;this.qa()}if(jj==dG.ET){aC.s1=!aC.s1;this.qa()}if(jj==dG.i6){aC.PU[G.data.Ov]=!aC.PU[G.data.Ov];
this.qa()}if(jj==dG.LW){f5.Ag(G.data.lang,this.jW)}if(jj==dG.ic){aC.t6=G.data.t6;this._()}if(jj==dG.T_&&aC.Sy.vg){var iS=aC.Sy.vg.transaction(["rsrc"],"readwrite").objectStore("rsrc"),bZ=iS.put({k:"fs0",fset:aC.Sy.E_});
bZ.onerror=function(G){console.log(G);alert("Storing failed. Browser says: "+G.target.error.message,7e3)}}this.Gz(jj)}};
bV.prototype.ad3=function(){this._();this.qa()};bV.prototype.YC=function(G){var m=this.a3.gt[G];if(m){var A=new j8(r.E.W,!0);
A.data={d:r.S.Jy,hc:m};this.u(A)}return m!=null};bV.prototype.Ba=function(G,m){var A=!0,b=15;if(m){A=!1;
for(var $=0;$<m.length;$++)if(m[$].startsWith(g.Xh("__M")))A=!0}var Q=G.BO()||G.wd&&G.wd.dL.BO();if(this.vx())Q=!1;
var H=new g.te[bl.l5],J=(H[g.mh("xy,b-66:")]()&1)*60+H[g.Xh("VQ]3LNRN<G")]();if(Q&&!fi.ZZ()&&J>b&&A){var O=g.te[g.mh("}$z{2*35")][g.mh("y'|!")],a=g.Xh("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
a+="\n\n"+g.Xh("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-J+120)+g.Xh("nYRTXTBMd");
if(O.indexOf(g.mh("\"|'/-1)(W0?@"))==-1)a=f5.get([0,11+6,3+2]);g.te._cwY(a);return!1}return!0};bV.prototype.Uo=function(G){var m=this.a3,A=[dG.sV,dG.EM,dG.yb,dG.VP,dG.D3,dG.xj,dG.oV,dG.w,dG.JG,dG.ve],Q=[m.wo,m.rj,m.dY,m.uf,m.S4,m.g9,m.aaw,m.TR,m.ae,m.a9n];
return Q[A.indexOf(G)]};bV.prototype.asA=function(){var G=this.ajr(),m=this.Bh();if(m==null||m.c.length==0)return;
var A=m.g[m.c[0]],Q=new j8(r.E.w);if(G==1){Q.b=f.Z3;Q.data={d:"remove",om:"Cut Paths"}}else{Q=new j8(r.E.NH);
Q.data={YI:"delete"}}this.u(Q)};bV.prototype.ajr=function(G,m,A){if(G==null)G=!1;var Q=this.a3;console.log("doCopy",G,m);
var H=this.Bh();if(H==null||H.c.length==0)return;var J=H.g[m==null?H.c[0]:m],b=H.S9(),O=b[0],a=b[1],e=O[a[0]];
if(!G&&e!=null&&e.add.vmsk.c.length!=0){var R=f.Oz.rh(e.add.vmsk,e.add.vogk);if(g.tL()){R[0]=g7.aqU(R[0]);
var p="vcb;"+JSON.stringify(R);gX.SS(new Blob([p],{type:"text/plain"}))}else Q.rl=R;return 1}else if(H.q==null){if(g.tL()){var p="lrs;"+this.t4.indexOf(H)+";"+JSON.stringify(H.c);
gX.SS(new Blob([p],{type:"text/plain"}))}}else{var P,z;if(G){var Z=new f_(0,0,H.e,H.n);z=Z.KB(H.q.rect);
P=N.$(z.Z()*4);N.Pr(H.$s(),Z,P,z);N.iz(H.q.channel,H.q.rect,P,z)}else if(H.UX.length!=0){z=H.q.rect.clone();
P=N.$(z.Z()*4);var W=H.Hv[H.UX[0]],T=W.MC(z);N.mH(T,P);N.I5(H.q.channel,P,3)}else{var i=J.xY(H,H.q);
if(i==null){alert("Copied area is empty");return}P=i.Uq;z=i.rect}var X=H.t._T,U=X[0]+X[1]+X[2];if(U==1){var M=X.indexOf(1);
for(var $=0;$<P.length;$+=4)P[$]=P[$+1]=P[$+2]=P[$+M]}var C=new dw(H.e,H.n);if(g.tL()&&A!=!0){var x=dt.aW("PNG").a9I(P.buffer,z.e,z.n);
gX.SS(new Blob([new Uint8Array(x)],{type:"image/png"}));this.amG={PR:z,Zx:C}}else Q.UU={buffer:P,rect:z,Zx:C};
Q.aaT=z.clone();Q.rl=null}};bV.prototype.a1W=function(G,m,A){if(m)this.ai_=!0;console.log("doPaste");
var Q=this.a3,H=Q.UU,a;if(this.t4.length==0){if(!G&&g.tL()){gX.Y2(this,null);return}if(H){var J=dt.SQ("image.psd",[{data:H.buffer.buffer,NS:H.rect}]),b=new j8(r.E.W);
b.data={d:r.S.fP,EY:J};this.u(b)}return}var J=this.Bh(),O=J.g[J.c.length==0?J.g.length-1:J.c[0]];if(Q.rl){var e=J.S9(!0),R=e[0],p=e[1];
a=R[p[0]]}var b=new j8(r.E.w,!0);if(Q.rl!=null&&a!=null){b.b=f.Z3;b.data={d:"append",om:"Paste Paths",aqe:Q.rl}}else if(!G&&g.tL()&&A!=!0){gX.Y2(this,this.amB.bind(this));
return}else{if(H==null)return;if(J.fE(!1)&&(J.t._T.join("")!="111"||J.UX.length!=0||O.Sm>0||O.rect.My())){b.b=f.sV;
b.data={d:"draw",asa:!0,om:[5,2]}}else{b.b=f.p4;b.data={d:c.s_,FK:this.ai_};this.ai_=!1}b.data.UU=H}this.u(b)};
bV.prototype.adn=function(){for(var $=0;$<this.t4.length;$++){var G=this.t4[$],m=!0;for(var A=0;A<G.g.length;
A++){var Q=G.g[A],H=Q.add.TySh;if(H!=null&&!g5.Em(H,this.a3.O8,this))m=!1}if(!m)continue;if(G.sp)for(var A=0;
A<G.g.length;A++){var Q=G.g[A],H=Q.add.TySh;if(H!=null&&g5.Em(H,this.a3.O8,this)){var J=new dq(H.DQ,this.a3.O8),b=g5.nT(J,H);
Q.rect=b.PR;Q.buffer=b.uw;Q.F();G.F()}}if(G.aoM)continue;G.aoM=!0;if(G.ja&&G.ja.atk)iu.dx(G.ja.atk,this);
this.O0();var O=new j8(r.E.w);O.b=f.Jb;O.data={d:"start",QK:"GEfc"};var a=new j8(r.E.W);a.data={d:r.S.Cb,Ue:eQ.Lm.NN}}};
bV.prototype.Gz=function(G){var m=this.a3,A=m.Iu,b=!1;if(G==dG.bM){if(this.K.map[A].dl)this.K.map[A].dl.a2(m,G)}else for(var Q in this.K.map)if(this.K.map[Q].dl)this.K.map[Q].dl.a2(m,G);
if(G==dG.YF){if(A!=f.G8)this.K.map[f.G8].b.a2(m,G);this.adn()}this.GP.a2(m,G);this.n2.a2(m,G);this.gB.a2(m,G);
this.BZ().a2(m,G);this._p.a2(m,G);this.Co.a2(m,G);if(G==dG.ic||G==dG.ud){cK.aoZ(m.t6);this.update(!0)}var H=m.RG,J=H.In.Font;
if(G==dG.dh&&J!=null&&H.sa[J].Name!=m.font){m.font=H.sa[J].Name;b=!0}if([dG.cv,dG.Cm,dG.bu,dG.E2,dG.GL,dG.iS,dG.nD,dG.C_,dG.i_,dG.Ig,dG.IH,dG.J3,dG.LW,dG.ic].indexOf(G)!=-1||b)this.a6b()};
bV.prototype.a6b=function(){if(!this.m6)return;var G={},m=this.K.map;for(var A in m){var Q=m[A].b;if(Q.mI&&Q.mI()!=null)G["t"+A]=Q.mI()}var H=this.a3,J=H.bt,b={fcolor:H.yu,bcolor:H.qU,rulers:H.nj,extras:H.cY,favFam:H.TM,panels:H.Ps,eparams:{guides:J.Ld,grid:J.yk,sels:J.s7,paths:J.Sq,pgrid:J._Y,slices:J.Xz,gsize:J.Vm,gunits:J.Al,gtype:J.c_,runits:J.ww},lang:f5.h8(),theme:H.t6,as:H.v_,topt:G};
if(H.font!=null)b.font=H.font;var O=fi.ob();if(O==null)O={};O.globals=b;fi.NT(O)};bV.prototype.a4i=function(){var G=this._c,m=this.WC,A=this.a3.Iu,Q=this.K.map[A].b,H=null,J=!1;
for(var $=0;$<this.K.a8b.length;$++){var b=this.K.a8b[$],O=!0;for(var a=0;a<b.Hp.length;a++){var e=b.Hp[a];
if(!G.j(e))O=!1}if(O&&(!b.Cu||!Q.I3())&&(b._g==null||b._g.indexOf(A)!=-1)){H=b.b;J=b.Cu;break}}if((!m.U_||A==f.m0)&&this.K.l6!=H&&(H!=A||!J)){var R=this.Bh();
if(this.K.l6!=null&&H==null)this.BZ().disable(R,this,this.a3,G,!0);this.K.l6=H;this.BZ().enable(R,this,this.a3,G,H!=null&&H!=A)}};
bV.prototype.wz=function(G){var m=this.a3.Iu,A=this.Bh();if(m!=null){this.K.map[m].b.disable(A,this,this.a3,this._c)}};
bV.prototype.a8G=function(G){if(G.dl==null){G.dl=new G.WL;G.dl.a9D(G.b.id,G.b._a);G.dl.a2(this.a3,dG.ud);
G.dl._()}};bV.prototype.H1=function(G,m){if(G==f.Py&&this.gB.h3())return;var A=this.Bh(),Q=this.a3;if(this.K.map[G].b.gD(A,Q)){this.wz();
var H=[f.SX,f.jB,f.iA,f.ZB,f._4,f.W$,f.gG,f.Z3,f.gk].indexOf(Q.Iu)!=-1;if(G!=Q.Iu)this.K.s3=Q.Iu?Q.Iu:f.ld;
Q.Iu=G;this.n2.MZ(this.K,this.a3);var J=this.K.map[G];this.K.hY[J.zA]=J.apw;this.a8G(J);this.H9.a9C(J.dl);
var b=J.b;b.enable(A,this,this.a3,this._c,!1,m,H);if(A)A.bV=!0;this.qa()}};bV.prototype.BZ=function(G){var m=this.K,A=m.W4,Q=m.l6,H=this.a3.Iu;
if(A)H=A;else if(Q&&G==null)H=Q;return m.map[H].b};bV.prototype.aiz=function(G){var m=this.a3,A=this.t4.indexOf(G);
if(A!=-1){this.GP.nS(A);return}if(this.zO&&(G.ja==null||G.ja.vG==null)){G.ja={vG:this.zO}}if(G.nt==null){G.nt="local,"+this.abf+","+G.name;
this.abf++}G.P0=Date.now();if(bf.VN()!=0&&!this.a2Q&&g.te[g.mh("t$&!'31")].toString().indexOf(g.mh(" u,$4&"))==-1){alert(g.mh("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var $=0;$<G.g.length;$++){var Q=G.g[$];if(Q.add.SoLd!=null){var H=Date.now()}if(Q.add.TySh!=null)g5.Em(G.g[$].add.TySh,m.O8,this)}var J=G.g.length,b=bl.bs(),O=Math.PI*(5210<<14)+(g.gR(31)?20:10)*7e7;
if(b>O){var J=G.g.length;G.g=[];return J}if(h.wq)h.amq(Math.max(G.e,G.n));G.WW();G.Ao();if(G.a5A)G.aie();
else G.F();G.a5A=!1;this.t4.push(G);this.GP.iB(new ht(G));G.bV=!0;G.Iy=!0;this.adn();var a=new j8(r.E.w);
a.b=f.wJ;a.data={d:"auto",SC:2}};bV.prototype.Bh=function(){return this.t4[this.Su]};bV.prototype.a8X=function(){return this.gB.h3()==null};
bV.prototype.qO=function(G,m){this.wz();var A=this.t4.length;if(m!=null)this.GP.nS((this.GP.Oa()+m+A)%A);
this.Su=this.GP.Oa();var Q=this.Bh();this.Co.aqt(Q,this.a3);this._p.MZ(Q,this.t4,this.a3);this.qa();
if(Q)Q.bV=!0};bV.prototype.a0O=function(G){this.wz();this.t4.splice(G.data.jy,1);if(this.t4.length==0){this.qO(G);
if(h.wq)h.t7().parentNode.removeChild(h.t7())}};bV.prototype.a9t=function(G){var m=[],A=G.data.a0K;for(var $=0;
$<A.length;$++)m[$]=this.t4[A[$]];this.t4=m;this.Su=this.GP.Oa()};bV.prototype.a8e=function(G){var m=this.GP,A=m.akC(),Q=this.BZ(),H=this.Bh();
if(A==m.Oa()||!Q.w9())return;this.a4n(A,Q)};bV.prototype.a4n=function(G,m){var A=this.a3,Q=this.GP,H=this.Bh(),J=this.t4[G],b=new j8(r.E.w,!0);
b.b=f.p4;b.data={d:c.zZ,g:H.xG(null,!0),dL:H,YL:J};this.u(b);var O=this.WC,a=A.nj;A.nj=!1;O=H.t.fY(O.x,O.y);
if(m)m.ZG(H,this,A,this._c);Q.nS(G);O=J.t.cD(O.x,O.y);O.x+=49;O.y+=112;if(m)m.gr(J,this,A,this._c,O);
A.nj=a};bV.prototype.afy=function(G){var m=this.Bh(),A=this._c,Q=this.a3,H=G.uj;if(H)this.WC=H;if(G.action.startsWith("multi")){var J=new j8(r.E.w,!0);
J.data={d:G.action,vs:G.vs};J.b=f._N;this.u(J);return}var b=this.K.map[f.ld].b;if((G.action=="down"||G.action=="rdown")&&Q.Iu!=f.ld&&this.K.l6!=f.ld&&b.lE(m,this,Q,A,H)){this.K.W4=f.ld;
b.enable(m,this,Q,A,!0)}var O=this.gB.h3(),a=O!=null&&O.b2()&&this.K.l6==null?O:this.BZ();if(O!=null&&a!=O&&this.gB.I3()&&a.id!=f.B5&&a.id!=f._N)return;
if(G.action=="down")a.gr(m,this,Q,A,H);if(G.action=="rdown")a.Jg(m,this,Q,A,H);if(G.action=="move")a.Nr(m,this,Q,A,H);
if(G.action=="up"||G.action=="cancellast")a.gE(m,this,Q,A,H,G.action=="cancellast");if(G.action=="rup")a.K8(m,this,Q,A,H);
if(G.action=="cancellast"){if(m&&m.history.length!=0&&Date.now()-m.history[m.history.length-1].aaW<200){var e=new j8(r.E.w);
e.b=f.c5;e.data={d:"h_stepbck"};this.u(e)}}var R=this._p;if(G.action=="down")R.gr(m,this,Q,A,H);if(G.action=="move")R.Nr(m,this,Q,A,H);
if(G.action=="up")R.gE(m,this,Q,A,H);if(G.action=="down"||G.action=="up"){this.a4i()}if(G.action=="down"||G.action=="up"||G.action=="ctx"){m.bV=!0}if((G.action=="up"||G.action=="rup")&&this.K.W4){this.K.W4=null;
b.disable(m,this,Q,A)}if(G.action=="scroll"){var p=!A.j(a5.KF)&&G.HC,J=new j8(r.E.w,!0);J.data={d:"scroll",Q1:G.Q1.clone(),uj:H};
J.b=A.j(a5.Ei)||p?f._N:f.B5;this.u(J)}};bV.prototype.Z_=function(G){var m=this.Bh(),A=this.WC;if(m&&this.BZ().Rn(A,this._c)){var Q=m.t,H=Q.Td.e,J=Q.Td.n,b=0,O=0,a=16;
if(A.x<a)b=a-A.x;if(A.x>H-a)b=A.x-(H-a);if(A.y<a)O=a-A.y;if(A.y>J-a)O=A.y-(J-a);if((b!=0||O!=0)&&(m.e*Q.V>H||m.n*Q.V>J)){b=Math.min(5,b*.5);
O=Math.min(5,O*.5);if(!(A.x<a||A.y<a)){b=-b;O=-O}Q.r.x+=b;Q.r.y+=O;this.afy({uj:this.WC,action:"move"});
m.AB=!0}}this.update()};bV.prototype.update=function(G){var m=this.Bh();if(m==null)return;if(m.bV){var A=this.K.map;
for(var Q in A){if(A[Q].b.tT)A[Q].b.tT(m,this,this.a3,this._c)}}if(m.xR){m.kn()}var H=m.t,J=this.no,b=this.no=Date.now();
if(m.xR||m.W0||m.Iy||m.AB||G||H.k5!=H.V||!H.j7.A5(H.r)){var O=H.k5;if(H.k5!=H.V){var a=f.WH.go(H.V,H.k5>H.V),e=.12;
if(H.k5<H.V&&H.k5<a)H.k5=a;if(H.k5>H.V&&H.k5>a)H.k5=a;var R=Math.abs(H.V-a)*(b-J)*.001/e;if(H.k5<H.V)H.k5=Math.min(H.V,H.k5+R);
else H.k5=Math.max(H.V,H.k5-R)}var p=O==H.V?0:(H.k5-H.V)/(O-H.V);H.j7.x=H.r.x+p*(H.j7.x-H.r.x);H.j7.y=H.r.y+p*(H.j7.y-H.r.y);
this.GP.a2(this.a3,null);this.GP.MZ(m,this.t4)}if((m.xR||m.AB||m.bV)&&(!this.WC.U_||m.GU)){if(m.bV)m.Ao();
this._p.MZ(m,this.t4,this.a3);this.n2.aiS(m,this._c);m.we=!1}m.GU=!1;m.bV=!1;m.xR=null;m.W0=m.Iy=m.AB=!1};
bV.prototype.$T=function(G){var m=G.target.tagName.toLowerCase(),A=G.target.getAttribute("type"),Q=a5,H=Q.DN(G.code,Q.pg);
if(!((m=="input"||m=="select"||m=="button")&&Q.DN(G.code,Q.tr))){if(Q.vX(G)){G.preventDefault()}this._c.Li(Q.Hh(G));
this.KY("down")}};bV.prototype.QX=function(G){if(G.key==" ")this._c.MT();if(a5.DN(G.code,a5.Na))this._c.reset();
this._c.Id(a5.Hh(G));var m=G.target.tagName.toLowerCase();if(a5.vX(G)){G.preventDefault()}this.KY("up")};
bV.prototype.KY=function(G){var m=this._c,A=this.Bh(),Q=A!=null&&A.c.length!=0;if(this.A_.h3()!=null){if(m.j(a5.OD)){this.A_.adQ()}return}this.a4i();
var H=this.ah(a5.KF),J=m.j(a5.Ei),b=m.j(a5.K6);if(H&&m.j(a5.dT)&&G=="down"){var O=new j8(r.E.w),a=new j8(r.E.W);
O.b=f.c5;if(b){O.data={d:"h_stepfwd"}}else{O.data={d:"h_stepbck"}}if(this.gB.h3()!=null&&this.gB.h3().I3()){}else this.u(O)}if(H){var O=new j8(r.E.w),e=new j8(r.E.NH),a=new j8(r.E.W);
if(!J&&G=="down")for(var R in hE.keys){var p=hE.keys[R],P=!0;for(var $=0;$<p.length;$++)if(!m.j(p[$]))P=!1;
if(P){O.b=f.wJ;if(R=="hue2"&&b)O.data={d:"auto",SC:3};else O.data={d:"start",VS:R}}}if(m.j(a5.S)){e.data=f.iK.Lw(!0)}if(m.j(a5.yE)){if(J)a.data={d:r.S.XG,Ue:"csize"};
else a.data={d:r.S.ql,hD:b}}if(m.j(a5.z_)){e.data=f.iK.Lw()}if(m.j(a5.E)&&G=="down"){O.b=f.p4;if(b)O.data={d:c.iq};
else{if(A&&A.c.length==1&&A.c[0]!=0&&!A.g[A.c[0]].r8())O.data={d:c.ZH};else O.data={d:c.li}}}if(m.j(a5.al)){if(b&&this.a3.Iu!=f.Py)a.data={d:r.S.XG,Ue:"afw_fade"};
else if(J){O.b=f.Jb;O.data={d:"applylast"}}else a.data={d:r.S.TS}}if(m.j(a5.jE)){if(J&&A&&A.Sj(A.c[0])){O.b=f.p4;
O.data={d:c.Y5}}else{O.b=f.p4;O.data={d:c.pr,KR:b}}}if(m.j(a5.pa)){a.data={d:r.S.$g,WF:dG.GL}}if(m.j(a5.VJ)){if(b){O.data=null;
if(J)a.data={d:r.S.XG,Ue:"finfo"};else e.data={YI:"inverse"}}else if(J)a.data={d:r.S.XG,Ue:"isize"}}if(m.j(a5.Qk)){e.data={YI:(b?"cut":"copy")+"ToLayer"}}if(m.j(a5.SU)){a.data={d:r.S.XG,Ue:"preferences"}}if(m.j(a5.uV)){if(b){O.b=f.p4;
O.data={d:c.$o}}else a.data={d:r.S.XG,Ue:"newproject"}}if(m.j(a5.xb)){a.data={d:r.S.KL};m.reset()}if(m.j(a5.Mj)){a.data={d:r.S.acg};
m.reset()}if(m.j(a5.Lm)){a.data={d:r.S.$g,WF:dG.E2}}if(m.j(a5.UT)&&G=="down"){if(b){if(J)a.data={d:r.S.XG,Ue:"saveforweb"};
else a.data={d:r.S.Ql}}else a.data={d:r.S.Fc}}if(m.j(a5.zr)){if(b){O.b=f.Py;O.data={d:"again"}}else a.data={d:r.S.ce,b:f.Py}}if(m.j(a5.z8)){a.data={d:r.S.cs}}if(m.j(a5._h)){this.GP.CQ()}if(m.j(a5.ab)){a.data={d:r.S.Q4}}if(m.j(a5.Wv)||m.j(a5.sW)){O.b=f.p4;
O.data={d:c.TL,Nm:0};if(m.j(a5.Wv))O.data.Nm=b?3:2;else O.data.Nm=b?0:1}if(m.j(a5.IP)&&A){O.b=f.p4;O.data={d:c.Bg}}if(m.j(a5.pg)&&A){var z=0;
if(b)z++;if(J)z+=2;O.b=f.vj;O.data={d:"frompath",ii:[null,0,z]}}if(m.j(a5.o4)){e.data=f.MB.Mr(0)}if(m.j(a5.tr)){var Z=this.t4.length;
if(Z>1)this.GP.nS((this.GP.Oa()+1)%Z)}if(m.j(a5.Op)){a.data={d:r.S.$g,WF:dG.nD}}if(m.j(a5.xC)){a.data={d:r.S.$g,WF:dG.C_}}f.WH.qx(m,O);
if(this.gB.h3()!=null&&this.gB.h3().I3()){}else{if(O.data)this.u(O);if(e.data)this.u(e);if(a.data)this.u(a)}}if(A&&A.c.length!=0){var W=A.g[A.c[0]],T=W.Sm;
if(T==1||T==3||H){var O=new j8(r.E.w),i=T==3?W.mv(A).D:W.fm();if(i){var X=i.wV?A.t._T.join("")=="111"?1:2:0;
O.b=f._N;if(i&&m.j(a5.OD)&&X!=0){O.data={d:"mskView",k:0}}if(i&&m.j(a5.aou)){O.data={d:"mskView",k:X==1?0:1}}if(i&&m.j(a5.a0D)){O.data={d:"mskView",k:X==2?0:2}}if(O.data)this.u(O)}}}if(!m.j(a5.KF)&&!J&&G=="down"){var O=new j8(r.E.w),a=new j8(r.E.W),U=this.K.map[this.a3.Iu],M=-1;
for(var $=0;$<this.K.keys.length;$++)if(this.K.keys[$]&&this.ah(this.K.keys[$]))M=$;if(M!=-1){var C=null;
if(U.zA!=M)C=this.K.hY[M];if(U.zA==M&&b)C=(U.apw+1)%this.K.Z0[M].length;if(C!=null){var x=this.K.Z0[M][C].b.id,L=this.a3.asR;
if((L==null||L.indexOf(parseInt(x))!=-1)&&!this.WC.U_)a.data={d:r.S.ce,b:x}}}if(m.j(a5.ab))a.data={d:r.S.$g,WF:dG.bu,Nm:2};
if(m.j(a5.z_))a.data={d:r.S.$g,WF:dG.bu,Nm:3};if(a.data)this.u(a);if(m.j(a5.a6K)&&A&&A.c.length==1){var W=A.g[A.c[0]];
O.b=f.p4;var E=W.AL(0)||W.AL(1)||W.AL(2)||W.AL(31);O.data={d:c.FV,wK:E?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.u(O)}var l=m.Lh();if(Q&&l!=-1&&this.ah(a5.a_[l])){var y=A.c[0],W=A.g[y],Y=a5.RE(Math.round(100*W.opacity/255),l);
O.b=f.p4;O.data={d:c.h2,wK:Math.round(255*Y/100)};this.u(O)}var F=this.a3.n9;if(m.j(a5.tr)){a.data={d:r.S.jz,k:F==0?1:0};
this.u(a)}if(m.j(a5.al)||m.j(a5.OD)&&F==2){var w=document.fullscreenElement!=null==(F==2);a.data={d:r.S.jz,k:F==0?2:0,JN:w};
this.u(a)}if(m.j(a5.Aq)&&!this.WC.U_){O.b=f.vj;O.data={d:"qmask"};this.u(O)}}if(!m.j(a5.KF)&&!J&&b){var O=new j8(r.E.w),a=new j8(r.E.W);
if(m.j(a5.IP))a.data={d:r.S.XG,Ue:"shortcuts"};if(m.j(a5.BL))a.data={d:r.S.XG,Ue:"fill"};if(m.j(a5.a1J))a.data={d:r.S.XG,Ue:"sel_feather"};
if(Q&&(m.j(a5.Da)||m.j(a5.OS))){var y=A.c[0],W=A.g[y],j=ib.Vh,_=j.length,D=j.indexOf(W.w4);O.b=f.p4;
O.data={d:c.x_,wK:(D+_+(m.j(a5.Da)?1:-1))%_};this.u(O)}if(a.data)this.u(a)}var O=new j8(r.E.w),t=G=="down"&&(this.ah(a5.lV)||this.ah(a5.m9));
if((H||J)&&t){O=new j8(r.E.NH);O.data=f.Xi.H2(H?"BckC":"FrgC");this.u(O)}else if(A&&t&&!this.WC.U_){if(A.q!=null){O=new j8(r.E.NH);
O.data={YI:"delete"}}else if(A.c.length!=0){var W=A.g[A.c[0]];if(W.Sm==1)O.data={d:c.qu};else if(W.Sm==3)O.data={d:c.Eo};
else O.data={d:c.ip};O.b=f.p4}this.u(O)}if(this.gB.h3()!=null){if(m.j(a5.OD)){this.gB.h3().ar8()}else{this.gB.h3().KY(A,this,this.a3,m)}}if(this.a3.Iu==null)return;
var U=this.BZ();if(this.gB.h3()==null||this.K.l6)U.KY(A,this,this.a3,m)};bV.prototype.ah=function(G){var m=this._c,A=this.K.map[this.a3.Iu].b,top=this.gB.h3(),Q=this.Bh();
return m.j(G)&&!A.DV(G,Q)&&(top==null||!top.DV(G,Q))};bV.prototype.BY=function(G){var m=this.aeO,A=this.CE;
this.a3.n9=G;var Q=g.m$,H=this.Co.m;if(Q(H))this.gy.removeChild(H);var J=this.H9.m;if(Q(J))this.gy.removeChild(J);
var b=this.n2.m;if(Q(b))m.removeChild(b);var O=this.GP.m;if(Q(O))m.removeChild(O);var a=this._p.m;if(Q(a))m.removeChild(a);
if(G==0){this.gy.appendChild(H);this.gy.appendChild(J);A.appendChild(m);m.appendChild(b);m.appendChild(O);
m.appendChild(a)}if(G==1){this.gy.appendChild(H);m.appendChild(O)}if(G==2){m.appendChild(O)}this.GP.BY(G==2?1:0);
this.qa()};bV.prototype.a63=function(G){if(this.vx())return 1;if(g.aay()==0){this.a3={};this.e9=function(m,A){return Math.sqrt(m*A)}}return-1};
function jv(G){gB.call(this);if(G==null)return;this.zp=null;this.V7=null;this.m=g.L("div","sbar"+" "+G);
this.o0=new g.L("div","top");this.o0.innerHTML="> <";this.m.appendChild(this.o0);this.nz=1;this.o0.addEventListener("click",this.atB.bind(this),!1)}jv.prototype=new gB;
jv.prototype.atB=function(G){if(this.zp!=null&&this.zp<500&&this.nz==0)return;if(this.nz==0)this.dR(!0);
else this.collapse(!0)};jv.prototype.a7o=function(G){this.nz=G;this.o0.innerHTML=this.nz==0?"< >":"> <"};
jv.prototype.a3v=function(){var G=new j8(r.E.W,!0);G.data={d:r.S.DG};this.u(G)};jv.prototype.dR=function(G){this.a7o(1);
if(G)this.a3v()};jv.prototype.collapse=function(G){this.a7o(0);if(G)this.a3v()};jv.prototype.S0=function(){return this.nz==1};
function hc(G,m){jv.call(this,"vcolumn");this.UD=G;this.a1p=m;this.i7();this.qY=g.L("div");this.qY.setAttribute("style","cursor:default;");
this.ap4=this.af0.bind(this);this.a3m=this.a7v.bind(this);this.a9N=this.aaz.bind(this);g.Il(this.m,this.ap4);
this.m.appendChild(this.qY);this.QN=g.L("div");this.qY.appendChild(this.QN);this.bJ=-1;this.La=g.L("div","float");
var A=this.XV=g.L("canvas"),Q=12;A.width=A.height=Q;var H=A.getContext("2d");H.fillStyle="rgba(0,0,0,0.5)";
H.moveTo(0,0);H.lineTo(Q,Q);H.lineTo(0,Q);H.fill();this.XV.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
g.sL(this.XV);g.Il(this.XV,this.ap4);this.TF=[];this.wi=[];this.aod=null;this.v4=null;this.aaP=0}hc.prototype=new jv;
hc.prototype.af0=function(G){var m=G.target==this.XV;if(!m){if(G.target!=this.m)return;if(!this.S0())return}else{var A=this.TF[this.bJ].x1;
A.style.pointerEvents="none";var Q=A.getBoundingClientRect();this.aod=[Q.width,Q.height];this.wi[this.bJ]=[Q.width,Q.height]}G.stopPropagation();
this.v4=g.zi(G,document.body);this.aaP=this.UD;g.CY(document,this.a3m);g.$f(document,this.a9N)};hc.prototype.a7v=function(G){var m=g.zi(G,document.body);
if(this.S0()){this.UD=this.aaP+this.v4.x-m.x;this.i7()}else{var A=this.wi[this.bJ],Q=this.aod;A[0]=Q[0]+this.v4.x-m.x;
A[1]=Q[1]+m.y-this.v4.y}var H=new j8(r.E.W,!0);H.data={d:r.S.DG};this.u(H)};hc.prototype.aaz=function(G){if(!this.S0()){var m=this.TF[this.bJ].x1;
m.style.pointerEvents="auto"}g.k1(document,this.a3m);g.P4(document,this.a9N)};hc.prototype.afE=function(G){G.J("showFloat",this.a3r,this);
G.J("hideFloat",this.m4,this);this.TF.push(G);G.parent=this;this.qY.appendChild(G.m)};hc.prototype.a3$=function($){var G=this.TF[$];
G.removeEventListener("showFloat",this.a3r,this);G.removeEventListener("hideFloat",this.m4,this);this.TF.splice($,1);
G.parent=null;this.qY.removeChild(G.m)};hc.prototype.ac5=function(){return this.TF.length};hc.prototype.pq=function(){for(var $=0;
$<this.TF.length;$++)this.TF[$].pq()};hc.prototype.a3r=function(G){this.m4(G);this.QN.appendChild(this.La);
this.bJ=this.TF.indexOf(G.currentTarget);var m=this.TF[this.bJ].x1;this.La.appendChild(m);this.La.appendChild(this.XV);
this.e9(this.zp,this.V7)};hc.prototype.m4=function(G){this.pq();if(this.bJ!=-1){this.QN.removeChild(this.La);
var m=this.TF[this.bJ];if(m)this.La.removeChild(m.x1);this.bJ=-1}};hc.prototype.i7=function(){this.m.setAttribute("style","width: "+this.UD+"px; padding-left:3px; cursor:ew-resize;")};
hc.prototype.dR=function(G){this.i7();this.m4();for(var $=0;$<this.TF.length;$++)this.TF[$].dR();jv.prototype.dR.call(this,G)};
hc.prototype.collapse=function(G){this.m.removeAttribute("style");for(var $=0;$<this.TF.length;$++)this.TF[$].collapse();
jv.prototype.collapse.call(this,G)};hc.prototype.e9=function(G,m){this.zp=G;this.V7=m;m-=6;var A=this.TF.length,Q=this.S0();
if(A==0)return;G=this.UD;var H=m<400?m:400+(m-400)*.5,J=m;for(var $=0;$<A;$++){var b=this.TF[$],O=b.a5n(),a=this.wi[$];
b.e9(!Q&&a?a[0]:G,Q?$==A-1?J:O:a?a[1]:H);J-=O}};function ew(G){gB.call(this);this.m=g.L("div");this.qY=null;
this._2=0;this.OL=0;this.anV=G;this.asF=this.mC.bind(this);this.age=this.Vz.bind(this);this.aje=this.Jx.bind(this);
this.H3=null;this.SY=null;this.R7=null;g.Il(this.m,this.asF);var m=this.m,Q="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
m.addEventListener("touchmove",g.WG,!1);this.ae$=!0;this.q5=[];var A=this.a9S=g.L("div");A.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(A);var H=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",Q+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",Q+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",Q+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var $=0;$<H.length;$++){var J=new iL(H[$]);this.q5.push(J);J.m.setAttribute("style","margin-left:"+($<7?4:0)+"px;cursor:pointer;");
J.J("click",this.vr,this)}}ew.prototype=new gB;ew.prototype._=function(){var G=this.a9S;g.iJ(G);for(var $=0;
$<this.q5.length;$++){var m=this.q5[$];if($<5)m._();G.appendChild(m.m)}};ew.prototype.vr=function(G){var $=this.q5.indexOf(G.currentTarget);
if($==0){if(window.showCap)window.showCap();return}var m=" issues learn blog api twitter facebook".split(" "),A=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),Q=window.ga;
if(Q)Q("send","event","Links",m[$]);var H=new j8(r.E.W,!0);H.data={d:r.S.ZW,link:A[$]};this.u(H)};ew.prototype.mC=function(G){if(G.ank){G.preventDefault();
G.stopPropagation()}var m=window;g.CY(m,this.age);g.$f(m,this.aje);m=this.qY;this.H3=new dw(parseInt(m.style.left),parseInt(m.style.top));
this.SY=g.zi(G,this.m);this.R7=m.getBoundingClientRect()};ew.prototype.Vz=function(G){var m=g.zi(G,this.m),A=this.H3.x+m.x-this.SY.x,Q=this.H3.y+m.y-this.SY.y,H=this._2-this.R7.width,J=this.OL-this.R7.height;
if(this.anV)this.qY.style.left=Math.min(0,Math.max(H,A))+"px";else this.qY.style.top=Math.min(0,Math.max(J,Q))+"px";
if(A-10>0){this.SY.x=m.x-10;this.H3.x=0}if(A+10<H){this.SY.x=m.x+10;this.H3.x=H}};ew.prototype.Jx=function(G){var m=window;
g.k1(m,this.age);g.P4(m,this.aje)};ew.prototype.a0x=function(G){if(this.qY){this.m.removeChild(this.qY)}this.qY=G;
this.m.appendChild(G);G.style.position="absolute";if(this.anV)G.style.left=0;else G.style.top=0};ew.prototype.e9=function(G,m){this._2=G;
this.OL=m;this.m.setAttribute("style","position:relative; width: "+G+"px; height: "+m+"px; overflow:hidden; white-space: nowrap; ");
this.qY.style.left="0";this.qY.style.top="0";var A=this.qY.firstChild,Q=this.a9S,H=A?A.firstChild.getBoundingClientRect().width+80:1e9,J=450,b=this.ae$&&G>H+J,O=g.Xh("SU\\VOAV"),a=Q[bl.uY][O]=b?"":g.Xh("][WK")};
function jA(){gB.call(this);this.dj=null;this.Y6=jA.Mj;this.anO="";this.m=g.L("div","rightbar");this.uz=[new hc(300),new hc(268,!0)];
this.TF=[new fl,new fl,new fl,new fl,new fl,new fl,new fl];this.aip=[]}jA.prototype=new gB;jA.prototype._=function(){var G=this.Y6;
for(var $=0;$<G.length;$++)G[$].Nc._()};jA.Mj=[{Nc:new hj,Ap:3},{Nc:new bt,Ap:1},{Nc:new b$,Ap:4},{Nc:new bm,Ap:2},{Nc:new id(!0),Ap:5},{Nc:new e4,Ap:0},{Nc:new gW,Ap:5},{Nc:new e$,Ap:3},{Nc:new ef,Ap:0},{Nc:new d3,Ap:3},{Nc:new cg,Ap:2},{Nc:new aZ,Ap:4},{Nc:new e1,Ap:3},{Nc:new id(!1),Ap:5},{Nc:new eo,Ap:2},{Nc:new iZ,Ap:3},{Nc:new ac,Ap:1},{Nc:new i7,Ap:0},{Nc:new fs,Ap:5},{Nc:new a4,Ap:6,Uy:!0},{Nc:new c6,Ap:6,Uy:!0},{Nc:new ga,Ap:6,Uy:!0}];
(function(){var G=[{id:eQ.Lm.alP,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"}];
for(var $=0;$<G.length;$++)jA.Mj.push({Nc:new er(G[$],100+$),Ap:6,Uy:!0})}());jA.prototype.ae4=function(G){for(var $=0;
$<G.length;$++){var m=G[$],A=new er(m,"plg_"+m.name);this.Y6.push({Nc:A,Ap:6});this.aip.push(A.mP)}this.Lc()};
jA.prototype.a2=function(G,m){this.dj=G;var A=this.Y6;for(var $=0;$<A.length;$++)A[$].Nc.a2(G,m);if(m==dG.cv||m==dG.ud)this.Lc()};
jA.prototype.Qb=function(G){var m=this.Y6;for(var $=0;$<m.length;$++)m[$].Nc.Qb(G)};jA.prototype.e9=function(G,m){this.zp=G;
this.V7=m;this.Lc();this.uz[0].e9(G,m);this.uz[1].e9(G,m)};jA.prototype.Lc=function(){var G=this.dj,m=this.zp,A=this.V7;
if(G==null||m==0)return;var Q=G.Ps.concat(this.aip),H=m<500||m<700&&m<A,J=JSON.stringify(Q)+","+H;if(J!=this.anO){this.anO=J;
g.iJ(this.m);var b=[];for(var $=0;$<this.uz.length;$++){var O=this.uz[$];b[$]=O.S0();while(O.ac5()!=0)O.a3$(0);
O.dR()}var a=[];for(var $=0;$<this.TF.length;$++){var e=this.TF[$];e.dR();while(e.aqO()!=0)e.wW(0);a.push(0)}for(var $=0;
$<Q.length;$++){var R=this.aqv(Q[$].toString());this.TF[R.Ap].iB(R.Nc);this.TF[R.Ap].nS(0);a[R.Ap]++}var p=[];
for(var $=0;$<a.length;$++){if(a[$]==0)continue;var P=$<3||H?1:0,O=this.uz[P];O.parent=this;O.afE(this.TF[$]);
p[P]=!0}for(var $=0;$<this.uz.length;$++)if(p[$])this.m.appendChild(this.uz[$].m);this.uz[0].collapse();
if(m<700||this.dj.compact||!b[1]){this.uz[1].collapse()}var z=new j8(r.E.W,!0);z.data={d:r.S.DG};this.u(z)}};
jA.prototype.aqv=function(G){for(var $=0;$<this.Y6.length;$++)if(this.Y6[$].Nc.mP==G)return this.Y6[$]};
jA.prototype.a3L=function(G){var m=this.aqv(G);this.TF[m.Ap].iB(m.Nc)};jA.prototype.MZ=function(G,m,A){var Q=this.Y6;
for(var $=0;$<Q.length;$++)Q[$].Nc.MZ(G,m,A)};jA.prototype.gr=function(G,m,A,Q,H){var J=this.Y6;for(var $=0;
$<J.length;$++)J[$].Nc.gr(G,m,A,Q,H)};jA.prototype.Nr=function(G,m,A,Q,H){var J=this.Y6;for(var $=0;
$<J.length;$++)J[$].Nc.Nr(G,m,A,Q,H)};jA.prototype.gE=function(G,m,A,Q,H){var J=this.Y6;for(var $=0;
$<J.length;$++)J[$].Nc.gE(G,m,A,Q,H)};function bA(G,m){jv.call(this,"toolbar");this.VR=null;this.HO=g.L("div","tools");
this.m.appendChild(this.HO);this.EE=null;this.aku=m;this.mD=null;this.a4R=-1;this.aqW={};this.K=null;
this.fV=null;this.bz=null;this.K0=null;this.HQ(G);this._w=new d6;this._w.m.style.marginTop="5px";this._w.m.style.marginBottom="3px";
this._w.parent=this;this.It=new iL(g.y3("lrs/mask"),!1,[6,6,1]);this.It.J("click",function(J){var b=new j8(r.E.w,!0);
b.b=f.vj;b.data={d:"qmask"};this.u(b)},this);var A=new a6(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
A.J(r.E.o,this.ap3,this);var Q=g.L("span","rangecont form padded");Q.appendChild(A.m);var H=document.body;
this.a0o=[!1,!1,!1,!1];this.Sd=new iL("\u2328",!1,"Virtual Keys");this.Sd.J("click",function(J){var b=this.Sd.m.getBoundingClientRect();
Q.setAttribute("style","position:absolute; top:"+(b.top-40)+"px; left: "+(b.left+b.width+4)+"px; width:120px; z-index:2; ");
if(g.m$(Q))H.removeChild(Q);else H.appendChild(Q)},this)}bA.prototype=new jv;bA.prototype.ap3=function(G){var m=G.target.B();
this.Sd.f(m[0]||m[1]||m[2]||m[3]);var A=new j8(r.E.W,!0);for(var $=0;$<4;$++){if(m[$]!=this.a0o[$]){A.data={d:r.S.au2,U_:m[$],a39:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][$]};
this.u(A)}}this.a0o=m.slice(0)};bA.prototype.aiS=function(G,m){this.mD=m;if(G==null||G.c.length==0||G.g[G.c[0]]==null)return;
var A=G.It()!=null,Q=G.t._T,H=G.g[G.c[0]].Sm,J=H==1||H==3||A||Q[0]+Q[1]+Q[2]==1;this._w.aax(J);this.It.f(A)};
bA.prototype.a0i=function(G,m){var A=G.length,Q=[];for(var $=0;$<A;$++)Q[$]=G[$].slice(0);G=Q;var H=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],J=Math.min(H.length/2,A-m);
for(var $=0;$<J;$++){var b=H[2*$],O=H[2*$+1];G[b]=G[b].concat(G[O]);G[O]=null}for(var $=0;$<G.length;
$++)if(G[$]==null){G.splice($,1);$--}return G};bA.prototype.a11=function(G,m){for(var $=0;$<m.length;
$++)for(var A=0;A<m[$].length;A++)if(m[$][A].b.id==G)return $};bA.prototype.HQ=function(G,m){this.VR=G;
this.fV=[];this.bz=[];this.K0=[];this.K=[];var A=G.Z0;if(m!=null&&this.aku)A=this.a0i(A,m);if(this.EE){var Q=[],H=this.EE.asR;
for(var $=0;$<A.length;$++){var J=[];for(var b=0;b<A[$].length;b++){var O=A[$][b];if(H==null||H.indexOf(parseInt(O.b.id))!=-1)J.push(O)}if(J.length>0)Q.push(J)}A=Q}for(var $=0;
$<A.length;$++){var a=[],e=this.fV.length,R=null,p=-1;for(var b=0;b<A[$].length;b++){var O=A[$][b].b,P=this.a11(O.id,G.Z0),z=G.keys[P];
this.K.push(O);var Z=new fQ(O.name,z,O._a,this.fV.length,$,A[$].length>1);this.fV.push(Z);var W=this.aqW[O.id];
if(W==null)W=0;if(W>p){p=W;R=Z}Z.J(r.E.o,this.ng,this);Z.J("mover",this.tI,this);a.push({name:O.name,r7:O._a,Hp:z?z.CF:""})}this.bz.push(R);
if(a.length==1)this.K0.push(null);else{var T=new fL(a,null,!0);T.aoR=e;T.zA=$;this.K0.push(T);T.J("select",this.a0M,this);
T.parent=this}}};bA.prototype.e9=function(G,m){var A=this.V7=m-11,Q=32;if(1<g.G()&&g.G()<1.5)Q=18+14*(1/g.G());
var H=39+23,J=Math.floor((A-H)/Q),b=this.EE;if(b==null)return;if(J!=this.a4R){this.a4R=J;this.HQ(this.VR,J);
this.H1(b.Iu)}var O=this.bz.length*Q+H,a=Math.min(1,A/O);if(.75<=a){this.HO.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+a+","+a+");");
this.m.setAttribute("style","height:"+(m-2)+"px; overflow:hidden;")}else{A-=4;this.HO.setAttribute("style","height: "+A+"px;  width:"+Math.ceil(O/A)*34+"px");
this.m.setAttribute("style","")}};bA.prototype._=function(){for(var $=0;$<this.fV.length;$++)this.fV[$]._();
for(var $=0;$<this.K0.length;$++)if(this.K0[$])this.K0[$]._()};bA.prototype.ng=function(G){var m=new j8(r.E.W,!0);
m.data={d:r.S.ce,b:this.K[G.id].id};this.u(m)};bA.prototype.a0M=function(G){var m=G.target.aoR+G.target.Zr()[0];
this.fV[m].Jx(null)};bA.prototype.tI=function(G){var m=this.mD,A=new j8(r.E.W,!0);A.data={d:r.S.OM};
this.u(A);var Q=G.target,H=this.K0[Q.zA];if(H==null)return;var J=Q.m.getBoundingClientRect(),A=new j8(r.E.W,!0);
A.data={d:r.S.mo,Nc:H,x:J.left+J.width+8,y:J.top};if(m==null||!(m.j(a5.WN)||m.j(a5.KF)))this.u(A)};bA.prototype.H1=function(G){this.aqW[G]=Date.now();
var m=-1;for(var $=0;$<this.K.length;$++)if(this.K[$].id==G)m=$;for(var $=0;$<this.fV.length;$++){var A=this.fV[$];
A.akg(m==$)}if(m==-1)return;this.bz[this.fV[m].zA]=this.fV[m];g.iJ(this.HO);var Q=this.bz;for(var $=0;
$<Q.length;$++){this.HO.appendChild(Q[$].m)}if(!this.aku)return;this.HO.appendChild(this._w.m);if(this.V7>640)this.HO.appendChild(this.It.m);
this.HO.appendChild(this.Sd.m)};bA.prototype.MZ=function(G,m){this.H1(m.Iu)};bA.prototype.a2=function(G,m){this.EE=G;
if(m==dG.ud){this.HQ(this.VR);this.H1(G.Iu)}this._w.a8L(G.yu,G.qU)};function fQ(G,m,A,Q,H,J){gB.call(this);
this.X0=0;this.fn=this.akz.bind(this);this.zA=H;this.KK=Q;this.jb=G;this.ach=m;this.a4c=J;this._a=A;
this.m=g.L("button","");this.m.innerHTML=g.y3(this._a);if(this.a4c){var b=g.L("img","gsicon");b.setAttribute("src",PIMG["tools/corner"]);
b.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.m.appendChild(b)}this._();
g.Il(this.m,this.mC.bind(this));this.m.addEventListener("click",this.Jx.bind(this),!1);this.m.addEventListener("contextmenu",fQ.zx,!1)}fQ.prototype=new gB;
fQ.zx=function(G){G.stopPropagation();G.preventDefault();return!1};fQ.prototype._=function(){var G=this.ach?" ("+this.ach.CF+")":"";
this.m.setAttribute("title",f5.get(this.jb)+G)};fQ.prototype.mC=function(G){this.X0=setTimeout(this.fn,160)};
fQ.prototype.Jx=function(G){clearTimeout(this.X0);var m=new j8(r.E.o,!1);m.target=this;m.id=this.KK;
this.u(m)};fQ.prototype.akz=function(G){var m=new j8("mover",!1);m.target=this;m.id=this.KK;this.u(m)};
fQ.prototype.akg=function(G){this.m.setAttribute("class",G?"toolbtn active":"toolbtn")};function bM(){gB.call(this);
this.m=g.L("div","topbar");this.i5=g.L("span","");this.aiw=0;this.m.appendChild(this.i5);this.xx=null;
this.h7=null;this.R4=[];this.Ps=[];var G=this.mC.bind(this);for(var $=0;$<bM.data.length;$++){var m=g.L("button");
this.R4.push(m);this.i5.appendChild(m);m.addEventListener("mouseover",G,!1);g.Il(m,G)}this.pP=new iL([0,13,0],!1,null,!0);
this.pP.J("click",this.lM,this);this.m.appendChild(this.pP.m);this.pY=new iL(g.y3("tools/zoom",null,"autoscale"),!1,[12,86]);
this.pY.J("click",this.lM,this);this.m.appendChild(this.pY.m);this.$y=new iL("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.$y.J("click",this.lM,this);this.m.appendChild(this.$y.m)}bM.prototype=new gB;bM.prototype.akE=function(){if(this.Ps.length!=0)return;
for(var $=0;$<bM.data.length;$++){var G=bM.data[$],m=new fL(G.items,G.LD);m.parent=this;this.Ps.push(m)}this._()};
bM.prototype._=function(){this.pP._();this.pY._();this.$y._();for(var $=0;$<this.R4.length;$++)this.R4[$].textContent=f5.get(bM.data[$].name);
this.amu();for(var $=0;$<this.Ps.length;$++)this.Ps[$]._()};bM.prototype.lM=function(G){var m=new j8(r.E.W,!0);
if(G.target==this.pP)m.data={d:r.S.XG,Ue:"account"};else if(G.target==this.pY)m.data={d:r.S.TS};else m.data={d:r.S.jz,JN:!0};
this.u(m)};bM.prototype.aqt=function(G,m){this.xx=G;this.h7=m};bM.prototype.a2=function(G,m){this.h7=G;
if(m==dG.ud){var A=G.adX;g.iJ(this.i5);for(var $=0;$<this.R4.length;$++){if(A==null||A[$]==1||A[$]instanceof Array)this.i5.appendChild(this.R4[$]);
if(A!=null&&A[$]instanceof Array){this.akE();this.Ps[$].aha(A[$])}}this.m.removeChild(this.pP.m);this.m.removeChild(this.pY.m);
this.m.removeChild(this.$y.m);if(G.q_)this.m.appendChild(this.pP.m);this.m.appendChild(this.pY.m);this.m.appendChild(this.$y.m)}this.amu()};
bM.prototype.amu=function(G,m){var A=this.pP,Q=12255232;if(fi.pW())Q=fi.ZZ()?43520:16755200;A.m.setAttribute("style","color:#ffffff; background-color:#"+N.as(Q))};
bM.prototype.mC=function(G){this.akE();var $=this.R4.indexOf(G.currentTarget),m=this.Ps[$];if(G.type=="mouseover"&&!g.m$(this.Ps[this.aiw].m))return;
if(g.m$(m.m))return;G.ank=!0;this.aiw=$;for(var $=0;$<bM.data.length;$++)this.Ps[$].update(this.xx,this.h7);
var A=G.target.getBoundingClientRect(),Q=new j8(r.E.W,!0);Q.data={d:r.S.mo,Nc:m,x:A.left,y:A.top+A.height+2,a9X:!0};
this.u(Q)};bM.alE=function(G){var m=a5,A=m.KF,Q=m.K6,H=m.Ei,J={name:[0,5],items:[{name:[7,0],Hp:[A,m.S]},{name:[7,1],Hp:[A,m.z_],P:function(O){return{P:O!=null&&O.q!=null}}},{name:[7,2],Hp:[Q,A,m.VJ],P:function(O){return{P:O!=null&&O.q!=null}},l3:!0},{name:[7,11],OZ:!0,P:function(O){return{P:O!=null&&O.c.length!=0&&!O.g[O.c[0]].rect.My()}}},{name:[7,13],OZ:!0,P:function(O){return{P:O!=null&&O.c.length!=0&&!O.g[O.c[0]].rect.My()}},l3:!0},{name:[7,8],OZ:!0},{name:[7,3],l3:!0,sub:[{name:[7,9],OZ:!0,P:function(O){return{P:O!=null&&O.q!=null}}},{name:[19,3,0],OZ:!0,P:function(O){return{P:O!=null&&O.q!=null}}},{name:[7,4],OZ:!0,P:function(O){return{P:O!=null&&O.q!=null}}},{name:[7,5],OZ:!0,P:function(O){return{P:O!=null&&O.q!=null}}},{name:[7,6],OZ:!0,P:function(O){return{P:O!=null&&O.q!=null}},Hp:"Shift+F6"}]},{name:[7,10],P:function(O){return{P:O!=null&&O.q!=null}},l3:!0},{name:[6,6,1],P:function(O){return{P:O!=null,qW:O!=null&&O.It()!=null}},Hp:[m.Aq],l3:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],LD:[{T:r.E.NH,R:f.iK.Lw(!0)},{T:r.E.NH,R:f.iK.Lw()},{T:r.E.NH,R:{YI:"inverse"}},{T:r.E.W,R:{d:r.S.XG,Ue:"redge"}},{T:r.E.W,R:{d:r.S.XG,Ue:"magiccut"}},{T:r.E.W,R:{d:r.S.XG,Ue:"crange"}},{sub:[{T:r.E.W,R:{d:r.S.XG,Ue:"sel_border"}},{T:r.E.W,R:{d:r.S.XG,Ue:"sel_smoothness"}},{T:r.E.W,R:{d:r.S.XG,Ue:"sel_expand"}},{T:r.E.W,R:{d:r.S.XG,Ue:"sel_contract"}},{T:r.E.W,R:{d:r.S.XG,Ue:"sel_feather"}}]},{T:r.E.W,R:{d:r.S.ce,b:f.K9}},{T:r.E.w,b:f.vj,R:{d:"qmask"}},{T:r.E.NH,R:{YI:"duplicate",aL:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(G){var b=J.items.length-1;J.items.splice(b-2,0,{name:[6,49],Hp:[A,m.Qk],l3:!0});J.LD.splice(b-2,0,{T:r.E.NH,R:{YI:"copyToLayer"}});
J.items.splice(b-1,0,{name:[10,16],Hp:[H,A,m.zr]});J.LD.splice(b-1,0,{T:r.E.W,R:{d:r.S.ce,b:f.Py}})}return J};
bM.data=function(){var G=a5,m=G.KF,A=G.K6,Q=G.Ei,H=function(R){return{P:R!=null&&R.c.length!=0}},J=function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].add.SoLd!=null}},b=[],O=[],a="none maxx avrg medn minn rang stdv summ vari".split(" "),e=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var $=0;$<a.length;$++){b.push({name:e[$]});O.push({T:r.E.w,b:f.p4,R:{d:c.MH,wK:a[$]}})}return[{name:[0,0],items:[{name:[5,3],Hp:[Q,m,G.uV],title:[11,7],OZ:!0},{name:[1,0],Hp:[m,G.xb],OZ:!0},{name:[1,11],OZ:!0,P:function(R,p){return{P:R!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],l3:!0,sub:[{name:[1,5],OZ:!0},{name:[11,0],OZ:!0},{name:["PSD VAR0",[25,0]],OZ:!0}]},{name:[1,1],l3:!0,sub:[{name:"PNG",Hp:"Imgur.com",P:function(R,p){return{P:R!=null&&p.dc}}},{name:"JPG",Hp:"Imgur.com",P:function(R,p){return{P:R!=null&&p.dc}}},{name:"PSD",Hp:"Photopea.com",P:function(R,p){return{P:R!=null&&p.dc&&!R.D9}}}]},{name:"Save ...",Hp:[m,G.UT],P:function(R,p){var P=f5.get([1,2])+(R==null?"":R.wd?" ("+f5.get([6,7,1])+")":R.M3?" (Google Drive)":"");
return{P:R!=null&&(R.ZL!=null&&R.xd=="psd"||R.wd!=null||R.ja!=null&&R.ja.vG!=null||R.M3!=null||p.gt.save!=null),pl:P}}},{name:[1,3],P:function(R,p){return{P:R!=null&&!R.D9&&p.dc}}},{name:["VAR0 PSD/PSB",[1,2]],OZ:!0,P:function(R,p){return{P:R!=null&&!R.D9&&p.dc}}},{name:[1,8],sub:function(){var R=dt.v1(0),p=[];
for(var $=0;$<R.length;$++)p.push({name:R[$],Hp:"."+R[$].toLowerCase()});p.push({name:[0,14],sub:function(){var R=dt.v1(1),p=[];
for(var $=0;$<R.length;$++)p.push({name:R[$],Hp:"."+R[$].toLowerCase()});return p}()});return p}()},{name:[1,4],OZ:!0,P:function(R,p){return{P:R!=null}},l3:!0},{name:[1,9],OZ:!0,P:function(R,p){return{P:R!=null}}},{name:"Export Color Lookup",OZ:!0,P:function(R,p){return{P:R!=null}},l3:!0},{name:[1,14],OZ:!0,P:function(R,p){return{P:R!=null}},l3:!0},{name:[1,10]}],LD:[{T:r.E.W,R:{d:r.S.XG,Ue:"newproject"}},{T:r.E.W,R:{d:r.S.KL}},{T:r.E.W,R:{d:r.S.KL,ajB:!0}},{sub:[{T:r.E.W,R:{d:r.S.XG,Ue:"open_from_url"}},{T:r.E.W,R:{d:r.S.XG,Ue:"camera"}},{T:r.E.W,R:{d:r.S.XG,Ue:"templates"}}]},{sub:[{T:r.E.W,R:{d:r.S.tY,RI:"png"}},{T:r.E.W,R:{d:r.S.tY,RI:"jpg"}},{T:r.E.W,R:{d:r.S.tY,RI:"psd"}}]},{T:r.E.W,R:{d:r.S.Fc}},{T:r.E.W,R:{d:r.S.Ql}},{T:r.E.W,R:{d:r.S.XG,Ue:"savepsb"}},{sub:function(){var R=dt.v1(0),p=[];
for(var $=0;$<R.length;$++)p.push({T:r.E.W,R:{d:r.S.XG,Ue:"saveforweb",RI:$}});p.push({sub:function(){var P=dt.v1(0).length,R=dt.v1(1),p=[];
for(var $=0;$<R.length;$++)p.push({T:r.E.W,R:{d:r.S.XG,Ue:"saveforweb",RI:P+$}});return p}()});return p}()},{T:r.E.W,R:{d:r.S.XG,Ue:"saveforweb",RI:4,a2r:!0}},{T:r.E.W,R:{d:r.S.XG,Ue:"eassets"}},{T:r.E.W,R:{d:r.S.XG,Ue:"exlut"}},{T:r.E.W,R:{d:r.S.XG,Ue:"finfo"}},{T:r.E.W,R:{d:r.S.XG,Ue:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],Hp:[A,m,G.dT]},{name:[2,1],Hp:[m,G.dT],l3:!0},{name:[2,11],Hp:[A,m,G.al],l3:!0,OZ:!0,P:function(R,p){return{P:gR.a29(R)&&p.Iu!=f.Py}}},{name:[5,0],Hp:[m,G.ab]},{name:[5,1],Hp:[m,G.yE]},{name:[5,7],Hp:[A,m,G.yE]},{name:[5,2],Hp:[m,G.z8],P:function(R,p){return{P:g.tL()||p.UU!=null||p.rl!=null||p.a79!=null}}},{name:[2,2],P:function(R){return{P:R!=null&&R.q!=null}},Hp:"Delete",l3:!0},{name:[2,3],P:function(R){return{P:R!=null}},OZ:!0,Hp:[A,G.BL]},{name:[14,9],P:function(R){return{P:R!=null}},OZ:!0,l3:!0},{name:[10,48],P:function(R){return{P:R!=null&&R.fE(!1)}}},{name:[10,46],P:function(R){return{P:f.XS.ow(R)}}},{name:[10,16],Hp:[Q,m,G.zr]},{name:[2,4],sub:bp.a0A()},{name:[2,10,1]},{name:[2,10,0],l3:!0},{name:[12,87],sub:[{name:[12,62],P:function(R){return{P:R!=null}}},{name:[9,3],P:function(R){return{P:R!=null}}},{name:[10,31],P:function(R){return{P:R!=null&&R.S9()[1].length!=0}}}]},{name:"Preset Manager",OZ:!0},{name:[12,79],OZ:!0,Hp:[m,G.SU]},{name:[1,13],OZ:!0}],LD:[{T:r.E.w,b:f.c5,R:{d:"h_undoredo"}},{T:r.E.w,b:f.c5,R:{d:"h_stepfwd"}},{T:r.E.w,b:f.c5,R:{d:"h_stepbck"}},{T:r.E.W,R:{d:r.S.XG,Ue:"afw_fade"}},{T:r.E.W,R:{d:r.S.Q4}},{T:r.E.W,R:{d:r.S.ql}},{T:r.E.W,R:{d:r.S.ql,hD:!0}},{T:r.E.W,R:{d:r.S.cs}},{T:r.E.NH,R:{YI:"delete"}},{T:r.E.W,R:{d:r.S.XG,Ue:"fill"}},{T:r.E.W,R:{d:r.S.XG,Ue:"stroke"}},{T:r.E.W,R:{d:r.S.ce,b:f.uT}},{T:r.E.w,b:f.Jb,R:{d:"start",QK:"rigidTransform"}},{T:r.E.W,R:{d:r.S.ce,b:f.Py}},{sub:bp.a75()},{T:r.E.NH,R:{YI:"align",aL:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{T:r.E.w,b:f.p4,R:{d:c.Wt}},{sub:[{T:r.E.W,R:{d:r.S.ov,WF:0}},{T:r.E.W,R:{d:r.S.ov,WF:1}},{T:r.E.W,R:{d:r.S.ov,WF:2}}]},{T:r.E.W,R:{d:r.S.XG,Ue:"pmanager"}},{T:r.E.W,R:{d:r.S.XG,Ue:"preferences"}},{T:r.E.W,R:{d:r.S.XG,Ue:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var R=[];
for(var p in hE.names){R.push({name:hE.names[p],OZ:n[p]!=null,Hp:hE.keys[p],l3:hE.Lj.indexOf(p)!=-1});
if(p=="selc"){R.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],OZ:!0,l3:!0});R.push({name:[19,7,0],Hp:[m,A,G.NW],P:function(p){return{P:p&&p.c.length!=0&&p.g[p.c[0]].add.SoLd==null}}});
R.push({name:[4,18],OZ:!0})}}return R}()},{name:[4,16,0],P:function(R){return{P:R!=null&&R.fE(!1)}}},{name:[4,16,1],P:function(R){return{P:R!=null&&R.fE(!1)}}},{name:[4,16,2],P:function(R){return{P:R!=null&&R.fE(!1)}},l3:!0},{name:"Reduce Colors",P:function(R){return{P:R!=null&&R.fE(!1)}}},{name:[11,11],P:function(R){return{P:R!=null&&R.fE(!1)}},l3:!0},{name:[11,3],OZ:!0,Hp:[Q,m,G.yE]},{name:[11,10],OZ:!0,Hp:[Q,m,G.VJ]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],P:function(R){return{P:R!=null&&R.q!=null}}},{name:[11,12,0],P:function(R){return{P:R!=null}},Hp:[m,G.o4],OZ:!0},{name:[11,12,2],P:function(R){return{P:R!=null}},l3:!0},{name:[2,12],P:function(R){return{P:R!=null&&R.fE(!1)}},OZ:!0}],LD:[{sub:function(){var R=[];
for(var p in hE.names){R.push({T:r.E.w,b:f.wJ,R:{d:"start",VS:p}});if(p=="selc"){R.push({T:r.E.w,b:f.Jb,R:{d:"start",QK:"adaptCorrect"}});
R.push({T:r.E.NH,R:{YI:"desaturate"}});R.push({T:r.E.w,b:f.wJ,R:{d:"start",VS:"matc"}})}}return R}()},{T:r.E.NH,R:{YI:"levels",aL:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{T:r.E.NH,R:{YI:"levels",aL:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{T:r.E.NH,R:{YI:"levels",aL:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{T:r.E.W,R:{d:r.S.XG,Ue:"rcolors"}},{T:r.E.W,R:{d:r.S.XG,Ue:"vbitmap"}},{T:r.E.W,R:{d:r.S.XG,Ue:"csize"}},{T:r.E.W,R:{d:r.S.XG,Ue:"isize"}},{sub:[{T:r.E.NH,R:f.Q.MR(!0,90)},{T:r.E.NH,R:f.Q.MR(!0,-90)},{T:r.E.NH,R:f.Q.MR(!0,-180)},{T:r.E.NH,R:f.Q.MR(!1,"Hrzn")},{T:r.E.NH,R:f.Q.MR(!1,"Vrtc")}]},{T:r.E.w,b:f.gS,R:{d:"cropbysel",agX:0}},{T:r.E.W,R:{d:r.S.XG,Ue:"trim"}},{T:r.E.NH,R:{YI:"revealAll",aL:{classID:"RvlA"}}},{T:r.E.w,b:f.wJ,R:{d:"start",VS:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],Hp:[A,m,G.uV]},{name:[0,4],l3:!0},{name:[6,49,0],Hp:[m,G.Qk]},{name:[6,49,1],Hp:[A,m,G.Qk],P:function(R){return{P:R!=null&&R.q!=null&&R.fE(!1)}}}]},{name:[6,0],P:H,Hp:[m,G.Qk]},{name:[11,4],P:H},{name:[5,4],P:H,l3:!0},{name:[11,6],l3:!0,P:H,sub:cH._H(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],l3:!0,sub:cH.ar7()},{name:[6,2],sub:[{name:[6,4],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()==null}}},{name:[6,5,0],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()==null}}},{name:[6,5,1],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()==null&&R.q!=null}}},{name:[6,5,2],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()==null&&R.q!=null}}},{name:[6,5,3],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()==null}},l3:!0},{name:[5,4],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()!=null}}},{name:[5,8],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()!=null&&R.fE(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].fm()!=null}}}]},{name:[6,3],sub:[{name:[6,4],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].add.vmsk==null}}},{name:[6,5,0],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].add.vmsk==null}}},{name:"Current Path",P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].add.vmsk==null}},l3:!0},{name:[5,4],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],P:function(R){return{P:R!=null&&R.c.length!=0&&R.g[R.c[0]].add.vmsk!=null}}}]},cg.arx(!0),{name:[6,7,1],l3:!0,sub:[{name:[6,7,0]},{name:[6,36,4],P:J,sub:b},{name:[1,0],P:J,l3:!0},{name:"Turn into JPG"}]},{name:[6,8],P:cg.a3o},{name:[6,34],l3:!0,P:function(R){if(R==null||R.c.length==0)return{P:!1};
var p=R.g[R.c[0]];return{P:p.add.lmfx!=null&&!p.r8()}}},{name:[6,9],l3:!0,Hp:[m,G.jE]},{name:[6,55],l3:!0,sub:[{name:[6,56,0],Hp:[A,m,G.sW]},{name:[6,56,1],Hp:[m,G.sW]},{name:[6,56,2],Hp:[m,G.Wv]},{name:[6,56,3],Hp:[A,m,G.Wv]}]},{name:[6,58],sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,10],P:function(R){return{P:R!=null&&R.c.length==1&&R.c[0]!=0&&!R.g[R.c[0]].r8()}},Hp:[m,G.E]},{name:[6,12,0],P:function(R){return{P:R!=null&&R.c.length!=0&&(R.c.length>1||R.g[R.c[0]].r8())}}},{name:[6,12,1]},{name:"Defringe"}],LD:[{sub:[{T:r.E.w,b:f.p4,R:{d:c.$o}},{T:r.E.w,b:f.p4,R:{d:c.NJ}},{T:r.E.NH,R:{YI:"copyToLayer"}},{T:r.E.NH,R:{YI:"cutToLayer"}}]},{T:r.E.w,b:f.p4,R:{d:c.h_}},{T:r.E.W,R:{d:r.S.XG,Ue:"duplinto"}},{T:r.E.w,b:f.p4,R:{d:c.ip}},{sub:cH.tq(!0)},{sub:[{T:r.E.w,b:f.iA,R:{d:"newfill",O7:0}},{T:r.E.NH,R:f.$V.H2(1)},{T:r.E.NH,R:f.$V.H2(2)}]},{sub:cH.JL()},{sub:[{T:r.E.w,b:f.p4,R:{d:c.AM,et:"RvlA"}},{T:r.E.w,b:f.p4,R:{d:c.AM,et:"HdAl"}},{T:r.E.w,b:f.p4,R:{d:c.AM,et:"RvlS"}},{T:r.E.w,b:f.p4,R:{d:c.AM,et:"HdSl"}},{T:r.E.w,b:f.p4,R:{d:c.AM,et:"Trns"}},{T:r.E.w,b:f.p4,R:{d:c.qu}},{T:r.E.w,b:f.p4,R:{d:c.fF}},{T:r.E.w,b:f.p4,R:{d:c.Sx}}]},{sub:[{T:r.E.w,b:f.p4,R:{d:c.Wm,a2U:!1}},{T:r.E.w,b:f.p4,R:{d:c.Wm,a2U:!0}},{T:r.E.w,b:f.p4,R:{d:c.Wm,aqH:!0}},{T:r.E.w,b:f.p4,R:{d:c.T0}},{T:r.E.w,b:f.p4,R:{d:c.yD}}]},{T:r.E.w,b:f.p4,R:{d:c.Y5}},{sub:[{T:r.E.NH,R:{YI:"newPlacedLayer"}},{sub:O},{T:r.E.NH,R:{YI:"placedLayerEditContents",aL:{classID:"placedLayerEditContents"}}},{T:r.E.w,b:f.p4,R:{d:c.VT}}]},{T:r.E.NH,R:{YI:"rasterizeLayer",aL:{classID:"rasterizeLayer",null:ah.TH("Lyr",!0)}}},{T:r.E.w,b:f.p4,R:{d:c.bf}},{T:r.E.w,b:f.p4,R:{d:c.pr}},{sub:[{T:r.E.w,b:f.p4,R:{d:c.TL,Nm:0}},{T:r.E.w,b:f.p4,R:{d:c.TL,Nm:1}},{T:r.E.w,b:f.p4,R:{d:c.TL,Nm:2}},{T:r.E.w,b:f.p4,R:{d:c.TL,Nm:3}}]},{sub:[{T:r.E.w,b:f.p4,R:{d:c.pU,Nm:"makeframes"}},{T:r.E.w,b:f.p4,R:{d:c.pU,Nm:"unmakeframes"}},{T:r.E.w,b:f.p4,R:{d:c.pU,Nm:"merge"}}]},{T:r.E.w,b:f.p4,R:{d:c.ZH}},{T:r.E.w,b:f.p4,R:{d:c.li}},{T:r.E.NH,R:{YI:"flattenImage"}},{T:r.E.w,b:f.Jb,R:{d:"start",QK:"defr"}}]},bM.alE(!1),function(){var R={name:[0,6],items:[{name:[24,18,4],Hp:[Q,m,G.al],l3:!0}],LD:[{T:r.E.w,b:f.Jb,R:{d:"applylast"}}]};
for(var $=0;$<bH.Bt.length;$++){var p=bH.Bt[$];if(p.GF!=null){R.items.push({name:bH.names[p.GF],OZ:!0,l3:p.l3});
R.LD.push({T:r.E.w,b:f.Jb,R:{d:"start",QK:p.GF}});continue}var P={name:p.U1,sub:[]};R.items.push(P);
var z={sub:[]};R.LD.push(z);for(var Z=0;Z<p.po.length;Z++){var W={name:bH.names[p.po[Z]],OZ:bH.wZ(p.po[Z])!=null};
P.sub.push(W);var T={T:r.E.w,b:f.Jb,R:{d:"start",QK:p.po[Z]}};z.sub.push(T)}}return R}(),{name:[0,7],items:[{name:[8,0],Hp:[m,G.Da]},{name:[8,1],Hp:[m,G.OS]},{name:[20,3],Hp:[m,G.d3]},{name:[20,2],Hp:[m,G.kX],l3:!0},{name:"Screen Mode",l3:!0,sub:[{name:"Fullscreen",P:function(R,p){return{qW:document.fullscreenElement!=null}},l3:!0},{name:"Standard",P:function(R,p){return{qW:p.n9==0}}},{name:"Menu Bar and Canvas",P:function(R,p){return{qW:p.n9==1}}}]},{name:[8,13],Hp:[m,G.pa],P:function(R,p){return{qW:p.cY}}},{name:[8,12],l3:!0,sub:[{name:[17,2],P:function(R,p){return{P:p.cY,qW:p.bt.s7}}},{name:[8,9],P:function(R,p){return{P:p.cY,qW:p.bt.Sq}}},{name:[8,2],P:function(R,p){return{P:p.cY,qW:p.bt.Ld}},Hp:[m,G.Op]},{name:[8,4],P:function(R,p){return{P:p.cY,qW:p.bt.yk}},Hp:[m,G.xC]},{name:[8,8],P:function(R,p){return{P:p.cY,qW:p.bt._Y}}},{name:[8,11,0],P:function(R,p){return{P:p.cY,qW:p.bt.Xz}}}]},{name:[8,3],P:function(R,p){return{qW:p.nj}},Hp:[m,G.Lm],l3:!0},{name:[8,5],P:function(R,p){return{qW:p.s1}}},{name:[8,6],l3:!0,sub:[{name:[8,2],P:function(R,p){return{qW:p.PU[0]}}},{name:[8,4],P:function(R,p){return{qW:p.PU[1]}}},{name:[9,1],P:function(R,p){return{qW:p.PU[2]}}},{name:[8,11,0],P:function(R,p){return{qW:p.PU[3]}}},{name:[8,7],P:function(R,p){return{qW:p.PU[4]}}}]},{name:[11,15,2],P:function(R,p){return{P:R!=null,qW:R!=null&&R.zd}}},{name:[11,15,0],P:function(R,p){return{P:R!=null}}},{name:[11,14],P:function(R,p){return{P:R!=null}},OZ:!0},{name:[11,15,1],P:function(R,p){return{P:R!=null&&R.c.length!=0}},l3:!0},{name:[8,11,2],P:function(R,p){return{P:R!=null&&R.Xz.length!=0}}}],LD:[{T:r.E.w,b:f._N,R:{d:"zoom",it:!0}},{T:r.E.w,b:f._N,R:{d:"zoom",it:!1}},{T:r.E.w,b:f._N,R:{d:"adapt",k:"fitscr"}},{T:r.E.w,b:f._N,R:{d:"adapt",k:"pixel"}},{sub:[{T:r.E.W,R:{d:r.S.jz,JN:!0}},{T:r.E.W,R:{d:r.S.jz,k:0}},{T:r.E.W,R:{d:r.S.jz,k:1}},{T:r.E.W,R:{d:r.S.jz,k:2}}]},{T:r.E.W,R:{d:r.S.$g,WF:dG.GL}},{sub:[{T:r.E.W,R:{d:r.S.$g,WF:dG.i_}},{T:r.E.W,R:{d:r.S.$g,WF:dG.Ig}},{T:r.E.W,R:{d:r.S.$g,WF:dG.nD}},{T:r.E.W,R:{d:r.S.$g,WF:dG.C_}},{T:r.E.W,R:{d:r.S.$g,WF:dG.IH}},{T:r.E.W,R:{d:r.S.$g,WF:dG.J3}}]},{T:r.E.W,R:{d:r.S.$g,WF:dG.E2}},{T:r.E.W,R:{d:r.S.$g,WF:dG.ET}},{sub:[{T:r.E.W,R:{d:r.S.$g,WF:dG.i6,Ov:0}},{T:r.E.W,R:{d:r.S.$g,WF:dG.i6,Ov:1}},{T:r.E.W,R:{d:r.S.$g,WF:dG.i6,Ov:2}},{T:r.E.W,R:{d:r.S.$g,WF:dG.i6,Ov:3}},{T:r.E.W,R:{d:r.S.$g,WF:dG.i6,Ov:4}}]},{T:r.E.w,b:f.ld,R:{d:"lockguides"}},{T:r.E.w,b:f.ld,R:{d:"gids",GB:[[],[]]}},{T:r.E.W,R:{d:r.S.XG,Ue:"addguides"}},{T:r.E.w,b:f.ld,R:{d:"gidsFromLayer"}},{T:r.E.w,b:f.QB,R:{d:"deleteAll"}}]},function(){var R={name:[0,8],items:[{name:[0,14],l3:!0,sub:[]}],LD:[{sub:[]}]};
for(var $=0;$<jA.Mj.length;$++){var p=jA.Mj[$],P=function(){var z=p.Nc.mP;return function(Z,W){return{qW:W.Ps.indexOf(parseInt(z))!=-1}}}();
(p.Uy?R.items[0].sub:R.items).push({name:p.Nc.name,P:P});(p.Uy?R.LD[0].sub:R.LD).push({T:r.E.W,R:{d:r.S.Cb,Ue:p.Nc.mP}})}return R}(),function(){var R={name:[0,14],items:[],LD:[]},p={name:[0,9],sub:[]};
R.items.push(p);var P={sub:[]};R.LD.push(P);var z=f5.agz();for(var $=0;$<z.length;$++){var Z=z[$],W=Z.code,i=f5.Z4(W);
p.sub.push({name:Z.name,Hp:W,P:function(X,U){return{qW:this.Hp==f5.h8()}}});P.sub.push({T:r.E.W,R:{d:r.S.$g,WF:dG.LW,lang:i}})}p.sub.push({name:[0,12]});
P.sub.push({T:r.E.W,R:{d:r.S.ZW,link:"https://www.photopea.com/translate/"}});var p={name:[0,15],sub:[]};
R.items.push(p);var P={sub:[]};R.LD.push(P);for(var $=0;$<cK.Ou.length;$++){p.sub.push({name:cK.Ou[$].name,P:function(X,U){return{qW:this.name==cK.Ou[U.t6].name}}});
P.sub.push({T:r.E.W,R:{d:r.S.$g,WF:dG.ic,t6:$}})}R.items.push({name:[0,17,6],P:function(X,U){return{P:U.XY!=null}}});
R.LD.push({T:r.E.W,R:{d:r.S.aan}});R.items.push({name:[11,13]});R.LD.push({T:r.E.W,R:{d:r.S.XG,Ue:"shortcuts"}});
R.items.push({name:[0,16],P:function(X){return{qW:h.wq,P:h.Ho}},l3:!0});R.LD.push({T:r.E.W,R:{d:r.S.aey}});
R.items.push({name:"",P:function(X,U){return U.q_?{pl:"About Photopea",P:!0}:{pl:"",P:!1}}});R.LD.push({T:r.E.W,R:{d:r.S.XG,Ue:"aboutpp"}});
return R}()]}();function dZ(){gB.call(this);this.m=g.L("div","");this._2=0;this.OL=0;this.dj=null;this.Ap=g.L("div","");
this.Ap.setAttribute("style","width:200em; height:100em; position:absolute;");this.ub=[];this.Jj=[];
this.yL={}}dZ.prototype=new gB;dZ.prototype.O6=function(G){var m=Date.now(),A=[];if(G=="-")A=[new bL,new iO,new fA,new f7,new hN,new jC,new jF,new a2,new i8,new jK,new il,new jE,new gi,new hl,new df,new cH,new jy,new el,new as,new eC,new d0,new ea,new au,new ih,new jq,new ee,new gF(!1),new gF(!0),new jJ(0),new jJ(1),new bS,new ax,new bX,new j1,new jV,new jN,new cv,new fk,new h5,new eA,new al("border",[7,9],"px"),new al("smoothness",[19,3,0],"px"),new al("expand",[7,4],"px"),new al("contract",[7,5],"px"),new al("feather",[7,6],"px"),new gP(0,"namewindow",[12,48]),new gP(2,"billto","Bill To"),new gP(1,"cornerradius",[12,94,0],"px",!0,!0),new gP(1,"scaleeffects","Scale Effects","%",!0),new gP(1,"doczoom","Zoom","%",!0)];
else A=[new gR(G.slice(4))];this.akL(A);this.yL[G]=!0};dZ.prototype.akL=function(G){var m=this.dj;for(var $=0;
$<G.length;$++){var A=G[$];A.parent=this;this.Jj.push(A);this.X9(A);A._();if(m)A.a2(m,dG.ud);A.J(r.E.yx,this.Oi,this)}};
dZ.prototype.e9=function(G,m){this._2=G;this.OL=m;for(var $=0;$<this.Jj.length;$++)this.X9(this.Jj[$])};
dZ.prototype._=function(){for(var $=0;$<this.Jj.length;$++)this.Jj[$]._()};dZ.prototype.h3=function(){return this.ub.length==0?null:this.ub[this.ub.length-1]};
dZ.prototype.I3=function(){for(var $=0;$<this.ub.length;$++)if(this.ub[$].I3())return!0;return!1};dZ.prototype.aoO=function(G,m,A,Q,H){var J=G.startsWith("afw_"),b=null;
if(!J&&!this.yL["-"])this.O6("-");if(J&&!this.yL[G])this.O6(G);if(typeof G=="object"){b=G;if(!b.aqy(r.E.yx,this.Oi))b.J(r.E.yx,this.Oi,this);
b.parent=this}else for(var $=0;$<this.Jj.length;$++)if(this.Jj[$].id==G)b=this.Jj[$];if(this.I3()&&b.I3()){alert("Finish the current action first");
return}if(!b.FW(m))return;if(this.ub.indexOf(b)!=-1){if(G=="colorpicker")b.MZ(m,A,Q,H);return}var O=this.ub.length-1;
if(O>=0)g.kG(this.ub[O].m,"wdisabled");this.m.appendChild(b.m);this.ub.push(b);this.X9(b);b.MZ(m,A,Q,H)};
dZ.prototype.X9=function(G){var m=this._2,A=this.OL,Q=G.EQ(m,A),H;if(Q!=null){H=Q}else{Q=new dw(0,0);
H=G.a4v();if(H==null){var J=this.ub.indexOf(G)+1;if(m<450||A<450)H=new dw(0,0);else H=new dw(J*150,J*150)}}G.m.style.left=H.x+"px";
G.m.style.top=this.m.offsetTop+H.y+"px";G.e9(this._2-Q.x*2,this.OL-Q.y*2-34)};dZ.prototype.a2=function(G,m){this.dj=G;
for(var $=0;$<this.Jj.length;$++)this.Jj[$].a2(G,m)};dZ.prototype.Oi=function(G){var m=this.ub.pop();
this.m.removeChild(m.m);var A=this.ub.length-1;if(A>=0)g.W8(this.ub[A].m,"wdisabled");if(this.Ap.parentNode==this.m)this.m.removeChild(this.Ap)};
window.onload=function(){document.body.appendChild(new bV().m)}}())